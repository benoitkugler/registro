import{aF as Ct,bK as xt,aH as It,au as Dt,at as Mt,a0 as Tt,aY as ae,c as I,aQ as Rt,N as Be,G as re,bA as ut,bL as At,bM as Ae,bN as $t,bO as Et,aZ as Bt,a7 as je,a8 as qe,bh as Lt,aK as Nt,bP as Ft,ab as Qe,bQ as Ht,bR as Ut,bS as zt,bT as Ot,af as Ve,bU as jt,bV as qt,k as U,bW as Yt,bX as Ce,bE as He,bY as Wt,bZ as Kt,bj as Xt,ac as Ye,aM as Qt,aN as Zt,b_ as Gt,b$ as Jt,c0 as el,c1 as tl,bn as ll,aP as al,c2 as nl,j as L,b as t,i as ol,c3 as We,H as E,bm as ul,c4 as sl,F as K,c5 as il,bo as rl,c6 as dl,c7 as cl,c8 as vl,bp as Ze,bq as st,br as ml,U as Ue,ad as $e,c9 as fl,E as q,ca as pl,Y as gl,ae as yl,aa as bl,cb as hl,cc as Vl,cd as Sl,n as Ee,ag as _l,ce as kl,cf as Ge,cg as Je,bf as wl,ch as Pl,ci as Cl,cj as xl,e as y,d as Y,x as Te,y as Se,z as b,C as h,ap as Ke,ao as Xe,o as f,l as de,w as l,m as ce,W as Il,t as B,g as N,h as v,A as ee,a as Z,v as Dl,B as pe,D as F,ck as Ml,a4 as ge,cl as Tl,s as J,J as Rl,a5 as it,L as Al,u as Le,r as xe,a6 as Ie,cm as $l,cn as El,I as rt,am as ze,b7 as Bl}from"./VSnackbar-DjTXu2vS.js";import{l as et,m as Ll,u as Nl,n as Fl,o as Hl,p as Ul,g as Ne,d as De,V as ne,q as zl,a as Oe,h as Ol,k as jl,e as fe,f as dt,b as ye}from"./VSelect-CQ7zLifY.js";import{V as ql,f as Yl}from"./VTabs-CFILxdlJ.js";import{V as Wl}from"./VAlert-BeNrVbyd.js";import{V as tt}from"./VTextarea-BiqIEbJy.js";import{V as Me}from"./VTooltip-IA12wETG.js";import{u as Kl,m as Xl,h as Ql}from"./filter-Tl1Ck8H0.js";import{V as Zl}from"./VForm-DMgsgxDF.js";import{V as Gl}from"./VDialog-nMpKnxn7.js";class Jl extends xt{constructor(o,a,c,n,s){super(n,s),this.onError=o,this.showMessage=a,this.isFondsSoutien=c}hasToken(){return this.authToken!=""}setToken(o,a){this.authToken=o,this.isFondsSoutien=a}handleError(o){const{kind:a,messageHtml:c}=It(o);this.onError(a,c)}startRequest(){}}const lt=new Jl((e,o)=>{},(e,o)=>{},!1,Ct(),"");function Da(e){return e.Camp.Statut!=Tt.Ferme&&!e.IsTerminated}function ct(){return{Pattern:"",IdCamp:{Valid:!1,Id:0},Attente:Mt.EmptyQA,Reglement:Dt.EmptyQR,SortByNewMessages:!1,OnlyFondSoutien:!1}}function ea(e){const o=ct();return o.Pattern=`id:${e}`,o}function ta(e){let{rootEl:o,isSticky:a,layoutItemStyles:c}=e;const n=ae(!1),s=ae(0),u=I(()=>{const i=typeof n.value=="boolean"?"top":n.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[i]:Rt(s.value)}:{top:c.value.top}]});Be(()=>{re(a,i=>{i?window.addEventListener("scroll",g,{passive:!0}):window.removeEventListener("scroll",g)},{immediate:!0})}),ut(()=>{window.removeEventListener("scroll",g)});let d=0;function g(){const i=d>window.scrollY?"up":"down",r=o.value.getBoundingClientRect(),p=parseFloat(c.value.top??0),S=window.scrollY-Math.max(0,s.value-p),D=r.height+Math.max(s.value,p)-window.scrollY-window.innerHeight,P=parseFloat(getComputedStyle(o.value).getPropertyValue("--v-body-scroll-y"))||0;r.height<window.innerHeight-p?(n.value="top",s.value=p):i==="up"&&n.value==="bottom"||i==="down"&&n.value==="top"?(s.value=window.scrollY+r.top-P,n.value=!0):i==="down"&&D<=0?(s.value=0,n.value="bottom"):i==="up"&&S<=0&&(P?n.value!=="top"&&(s.value=-S+P+p,n.value="top"):(s.value=r.top+S,n.value="top")),d=window.scrollY}return{isStuck:n,stickyStyles:u}}const la=100,aa=20;function at(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function nt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let o=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const c=at(o),n=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);o+=(n-c)*Math.abs(n),a===e.length-1&&(o*=.5)}return at(o)*1e3}function na(){const e={};function o(n){Array.from(n.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new At(aa))).push([n.timeStamp,s])})}function a(n){Array.from(n.changedTouches).forEach(s=>{delete e[s.identifier]})}function c(n){const s=e[n]?.values().reverse();if(!s)throw new Error(`No samples for touch id ${n}`);const u=s[0],d=[],g=[];for(const i of s){if(u[0]-i[0]>la)break;d.push({t:i[0],d:i[1].clientX}),g.push({t:i[0],d:i[1].clientY})}return{x:nt(d),y:nt(g),get direction(){const{x:i,y:r}=this,[p,S]=[Math.abs(i),Math.abs(r)];return p>S&&i>=0?"right":p>S&&i<=0?"left":S>p&&r>=0?"down":S>p&&r<=0?"up":oa()}}}return{addMovement:o,endTouch:a,getVelocity:c}}function oa(){throw new Error}function ua(e){let{el:o,isActive:a,isTemporary:c,width:n,touchless:s,position:u}=e;Be(()=>{window.addEventListener("touchstart",V,{passive:!0}),window.addEventListener("touchmove",oe,{passive:!1}),window.addEventListener("touchend",ue,{passive:!0})}),ut(()=>{window.removeEventListener("touchstart",V),window.removeEventListener("touchmove",oe),window.removeEventListener("touchend",ue)});const d=I(()=>["left","right"].includes(u.value)),{addMovement:g,endTouch:i,getVelocity:r}=na();let p=!1;const S=ae(!1),D=ae(0),P=ae(0);let H;function R(C,_){return(u.value==="left"?C:u.value==="right"?document.documentElement.clientWidth-C:u.value==="top"?C:u.value==="bottom"?document.documentElement.clientHeight-C:he())-(_?n.value:0)}function x(C){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const M=u.value==="left"?(C-P.value)/n.value:u.value==="right"?(document.documentElement.clientWidth-C-P.value)/n.value:u.value==="top"?(C-P.value)/n.value:u.value==="bottom"?(document.documentElement.clientHeight-C-P.value)/n.value:he();return _?Bt(M):M}function V(C){if(s.value)return;const _=C.changedTouches[0].clientX,M=C.changedTouches[0].clientY,T=25,X=u.value==="left"?_<T:u.value==="right"?_>document.documentElement.clientWidth-T:u.value==="top"?M<T:u.value==="bottom"?M>document.documentElement.clientHeight-T:he(),z=a.value&&(u.value==="left"?_<n.value:u.value==="right"?_>document.documentElement.clientWidth-n.value:u.value==="top"?M<n.value:u.value==="bottom"?M>document.documentElement.clientHeight-n.value:he());(X||z||a.value&&c.value)&&(H=[_,M],P.value=R(d.value?_:M,a.value),D.value=x(d.value?_:M),p=P.value>-20&&P.value<80,i(C),g(C))}function oe(C){const _=C.changedTouches[0].clientX,M=C.changedTouches[0].clientY;if(p){if(!C.cancelable){p=!1;return}const X=Math.abs(_-H[0]),z=Math.abs(M-H[1]);(d.value?X>z&&X>3:z>X&&z>3)?(S.value=!0,p=!1):(d.value?z:X)>3&&(p=!1)}if(!S.value)return;C.preventDefault(),g(C);const T=x(d.value?_:M,!1);D.value=Math.max(0,Math.min(1,T)),T>1?P.value=R(d.value?_:M,!0):T<0&&(P.value=R(d.value?_:M,!1))}function ue(C){if(p=!1,!S.value)return;g(C),S.value=!1;const _=r(C.changedTouches[0].identifier),M=Math.abs(_.x),T=Math.abs(_.y);(d.value?M>T&&M>400:T>M&&T>3)?a.value=_.direction===({left:"right",right:"left",top:"down",bottom:"up"}[u.value]||he()):a.value=D.value>.5}const se=I(()=>S.value?{transform:u.value==="left"?`translateX(calc(-100% + ${D.value*n.value}px))`:u.value==="right"?`translateX(calc(100% - ${D.value*n.value}px))`:u.value==="top"?`translateY(calc(-100% + ${D.value*n.value}px))`:u.value==="bottom"?`translateY(calc(100% - ${D.value*n.value}px))`:he(),transition:"none"}:void 0);return Ae(S,()=>{const C=o.value?.style.transform??null,_=o.value?.style.transition??null;$t(()=>{o.value?.style.setProperty("transform",se.value?.transform||"none"),o.value?.style.setProperty("transition",se.value?.transition||null)}),Et(()=>{o.value?.style.setProperty("transform",C),o.value?.style.setProperty("transition",_)})}),{isDragging:S,dragProgress:D,dragStyles:se}}function he(){throw new Error}const sa=["start","end","left","right","top","bottom"],ia=qe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>sa.includes(e)},sticky:Boolean,...nl(),...al(),...ll(),...tl({mobile:null}),...el(),...Jt(),...Gt(),...Zt({tag:"nav"}),...Qt()},"VNavigationDrawer"),Ma=je()({name:"VNavigationDrawer",props:ia(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,o){let{attrs:a,emit:c,slots:n}=o;const{isRtl:s}=Lt(),{themeClasses:u}=Nt(e),{borderClasses:d}=Ft(e),{backgroundColorClasses:g,backgroundColorStyles:i}=Qe(()=>e.color),{elevationClasses:r}=Ht(e),{displayClasses:p,mobile:S}=Ut(e),{roundedClasses:D}=zt(e),P=Ot(),H=Ve(e,"modelValue",null,W=>!!W),{ssrBootStyles:R}=jt(),{scopeId:x}=qt(),V=U(),oe=ae(!1),{runOpenDelay:ue,runCloseDelay:se}=ul(e,W=>{oe.value=W}),C=I(()=>e.rail&&e.expandOnHover&&oe.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),_=I(()=>Yt(e.location,s.value)),M=Ce(()=>e.persistent),T=I(()=>!e.permanent&&(S.value||e.temporary)),X=I(()=>e.sticky&&!T.value&&_.value!=="bottom");Ae(()=>e.expandOnHover&&e.rail!=null,()=>{re(oe,W=>c("update:rail",!W))}),Ae(()=>!e.disableResizeWatcher,()=>{re(T,W=>!e.permanent&&He(()=>H.value=!W))}),Ae(()=>!e.disableRouteWatcher&&!!P,()=>{re(P.currentRoute,()=>T.value&&(H.value=!1))}),re(()=>e.permanent,W=>{W&&(H.value=!0)}),e.modelValue==null&&!T.value&&(H.value=e.permanent||!S.value);const{isDragging:z,dragProgress:te}=ua({el:V,isActive:H,isTemporary:T,width:C,touchless:Ce(()=>e.touchless),position:_}),ie=I(()=>{const W=T.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):C.value;return z.value?W*te.value:W}),{layoutItemStyles:A,layoutItemScrimStyles:le}=Wt({id:e.name,order:I(()=>parseInt(e.order,10)),position:_,layoutSize:ie,elementSize:C,active:Kt(H),disableTransitions:Ce(()=>z.value),absolute:I(()=>e.absolute||X.value&&typeof be.value!="string")}),{isStuck:be,stickyStyles:_e}=ta({rootEl:V,isSticky:X,layoutItemStyles:A}),ve=Qe(()=>typeof e.scrim=="string"?e.scrim:null),ke=I(()=>({...z.value?{opacity:te.value*.2,transition:"none"}:void 0,...le.value}));return Xt({VList:{bgColor:"transparent"}}),Ye(()=>{const W=n.image||e.image;return L(K,null,[t(e.tag,E({ref:V,onMouseenter:ue,onMouseleave:se,class:["v-navigation-drawer",`v-navigation-drawer--${_.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":oe.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":T.value,"v-navigation-drawer--persistent":M.value,"v-navigation-drawer--active":H.value,"v-navigation-drawer--sticky":X.value},u.value,g.value,d.value,p.value,r.value,D.value,e.class],style:[i.value,A.value,R.value,_e.value,e.style]},x,a),{default:()=>[W&&L("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?t(We,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},n.image):t(ol,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),n.prepend&&L("div",{class:"v-navigation-drawer__prepend"},[n.prepend?.()]),L("div",{class:"v-navigation-drawer__content"},[n.default?.()]),n.append&&L("div",{class:"v-navigation-drawer__append"},[n.append?.()])]}),t(sl,{name:"fade-transition"},{default:()=>[T.value&&(z.value||H.value)&&!!e.scrim&&L("div",E({class:["v-navigation-drawer__scrim",ve.backgroundColorClasses.value],style:[ke.value,ve.backgroundColorStyles.value],onClick:()=>{M.value||(H.value=!1)}},x),null)]})])}),{isStuck:be}}}),ra=qe({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ml(),...Ll()},"VSwitch"),Ta=je()({name:"VSwitch",inheritAttrs:!1,props:ra(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,o){let{attrs:a,slots:c}=o;const n=Ve(e,"indeterminate"),s=Ve(e,"modelValue"),{loaderClasses:u}=il(e),{isFocused:d,focus:g,blur:i}=rl(e),r=U(),p=U(),S=dl&&window.matchMedia("(forced-colors: active)").matches,D=Ce(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),P=cl(),H=Ce(()=>e.id||`switch-${P}`);function R(){n.value&&(n.value=!1)}function x(V){V.stopPropagation(),V.preventDefault(),r.value?.input?.click()}return Ye(()=>{const[V,oe]=vl(a),ue=Ze.filterProps(e),se=et.filterProps(e);return t(Ze,E({ref:p,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":n.value},u.value,e.class]},V,ue,{modelValue:s.value,"onUpdate:modelValue":C=>s.value=C,id:H.value,focused:d.value,style:e.style}),{...c,default:C=>{let{id:_,messagesId:M,isDisabled:T,isReadonly:X,isValid:z}=C;const te={model:s,isValid:z};return t(et,E({ref:r},se,{modelValue:s.value,"onUpdate:modelValue":[ie=>s.value=ie,R],id:_.value,"aria-describedby":M.value,type:"checkbox","aria-checked":n.value?"mixed":void 0,disabled:T.value,readonly:X.value,onFocus:g,onBlur:i},oe),{...c,default:ie=>{let{backgroundColorClasses:A,backgroundColorStyles:le}=ie;return L("div",{class:$e(["v-switch__track",S?void 0:A.value]),style:Ue(le.value),onClick:x},[c["track-true"]&&L("div",{key:"prepend",class:"v-switch__track-true"},[c["track-true"](te)]),c["track-false"]&&L("div",{key:"append",class:"v-switch__track-false"},[c["track-false"](te)])])},input:ie=>{let{inputNode:A,icon:le,backgroundColorClasses:be,backgroundColorStyles:_e}=ie;return L(K,null,[A,L("div",{class:$e(["v-switch__thumb",{"v-switch__thumb--filled":le||e.loading},e.inset||S?void 0:be.value]),style:Ue(e.inset?void 0:_e.value)},[c.thumb?t(We,{defaults:{VIcon:{icon:le,size:"x-small"}}},{default:()=>[c.thumb({...te,icon:le})]}):t(fl,null,{default:()=>[e.loading?t(pl,{name:"v-switch",active:!0,color:z.value===!1?void 0:D.value},{default:ve=>c.loader?c.loader(ve):t(gl,{active:ve.isActive,color:ve.color,indeterminate:!0,size:"16",width:"2"},null)}):le&&t(q,{key:String(le),icon:le,size:"x-small"},null)]})])])}})}})}),st({},p)}}),da=qe({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Xl({filterKeys:["title"]}),...Ul(),..._l(kl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])},"VAutocomplete"),vt=je()({name:"VAutocomplete",props:da(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,o){let{slots:a}=o;const{t:c}=yl(),n=U(),s=ae(!1),u=ae(!0),d=ae(!1),g=U(),i=U(),r=ae(-1),p=ae(null),{items:S,transformIn:D,transformOut:P}=Nl(e),{textColorClasses:H,textColorStyles:R}=bl(()=>n.value?.color),x=Ve(e,"search",""),V=Ve(e,"modelValue",[],m=>D(m===null?[null]:hl(m)),m=>{const $=P(m);return e.multiple?$:$[0]??null}),oe=I(()=>typeof e.counterValue=="function"?e.counterValue(V.value):typeof e.counterValue=="number"?e.counterValue:V.value.length),ue=Vl(e),{filteredItems:se,getMatches:C}=Kl(e,S,()=>p.value??(u.value?"":x.value)),_=I(()=>e.hideSelected&&p.value===null?se.value.filter(m=>!V.value.some($=>$.value===m.value)):se.value),M=I(()=>!!(e.chips||a.chip)),T=I(()=>M.value||!!a.selection),X=I(()=>V.value.map(m=>m.props.value)),z=I(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&x.value===_.value[0]?.title)&&_.value.length>0&&!u.value&&!d.value),te=I(()=>e.hideNoData&&!_.value.length||ue.isReadonly.value||ue.isDisabled.value),ie=Ve(e,"menu"),A=I({get:()=>ie.value,set:m=>{ie.value&&!m&&g.value?.ΨopenChildren.size||m&&te.value||(ie.value=m)}}),{menuId:le,ariaExpanded:be,ariaControls:_e,ariaLabel:ve}=Fl(e,A),ke=U(),W=Hl(ke,n);function ft(m){e.openOnClear&&(A.value=!0),x.value=""}function pt(){te.value||(A.value=!0)}function gt(m){te.value||(s.value&&(m.preventDefault(),m.stopPropagation()),A.value=!A.value)}function yt(m){(Ge(m)||m.key==="Backspace")&&n.value?.focus()}function bt(m){if(ue.isReadonly.value)return;const $=n.value?.selectionStart,j=V.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(m.key)&&m.preventDefault(),["Enter","ArrowDown"].includes(m.key)&&(A.value=!0),["Escape"].includes(m.key)&&(A.value=!1),z.value&&["Enter","Tab"].includes(m.key)&&!V.value.some(k=>{let{value:w}=k;return w===_.value[0].value})&&me(_.value[0]),m.key==="ArrowDown"&&z.value&&ke.value?.focus("next"),["Backspace","Delete"].includes(m.key)){if(!e.multiple&&T.value&&V.value.length>0&&!x.value)return me(V.value[0],!1);if(~r.value){m.preventDefault();const k=r.value;me(V.value[r.value],!1),r.value=k>=j-1?j-2:k}else m.key==="Backspace"&&!x.value&&(r.value=j-1);return}if(e.multiple)if(m.key==="ArrowLeft"){if(r.value<0&&$&&$>0)return;const k=r.value>-1?r.value-1:j-1;if(V.value[k])r.value=k;else{const w=x.value?.length??null;r.value=-1,n.value?.setSelectionRange(w,w)}}else if(m.key==="ArrowRight"){if(r.value<0)return;const k=r.value+1;V.value[k]?r.value=k:(r.value=-1,n.value?.setSelectionRange(0,0))}else~r.value&&Ge(m)&&(r.value=-1)}function ht(m){if(Je(n.value,":autofill")||Je(n.value,":-webkit-autofill")){const $=S.value.find(j=>j.title===m.target.value);$&&me($)}}function Vt(){e.eager&&i.value?.calculateVisibleItems()}function St(){s.value&&(u.value=!0,n.value?.focus()),p.value=null}function _t(m){s.value=!0,setTimeout(()=>{d.value=!0})}function kt(m){d.value=!1}function wt(m){(m==null||m===""&&!e.multiple&&!T.value)&&(V.value=[])}const Fe=ae(!1);function me(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!m||m.props.disabled))if(e.multiple){const j=V.value.findIndex(w=>(e.valueComparator||wl)(w.value,m.value)),k=$??!~j;if(~j){const w=k?[...V.value,m]:[...V.value];w.splice(j,1),V.value=w}else k&&(V.value=[...V.value,m]);e.clearOnSelect&&(x.value="")}else{const j=$!==!1;V.value=j?[m]:[],p.value=u.value?"":x.value??"",x.value=j&&!T.value?m.title:"",He(()=>{A.value=!1,u.value=!0})}}return re(s,(m,$)=>{m!==$&&(m?(Fe.value=!0,x.value=e.multiple||T.value?"":String(V.value.at(-1)?.props.title??""),u.value=!0,He(()=>Fe.value=!1)):(!e.multiple&&x.value==null&&(V.value=[]),A.value=!1,!u.value&&x.value&&(p.value=x.value),x.value="",r.value=-1))}),re(x,m=>{!s.value||Fe.value||(m&&(A.value=!0),u.value=!m)}),re(A,m=>{if(!e.hideSelected&&m&&V.value.length&&u.value){const $=_.value.findIndex(j=>V.value.some(k=>j.value===k.value));Sl&&window.requestAnimationFrame(()=>{$>=0&&i.value?.scrollToIndex($)})}m&&(p.value=null)}),re(S,(m,$)=>{A.value||s.value&&!$.length&&m.length&&(A.value=!0)}),Ye(()=>{const m=!!(!e.hideNoData||_.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),$=V.value.length>0,j=Ee.filterProps(e);return t(Ee,E({ref:n},j,{modelValue:x.value,"onUpdate:modelValue":[k=>x.value=k,wt],focused:s.value,"onUpdate:focused":k=>s.value=k,validationValue:V.externalValue,counterValue:oe.value,dirty:$,onChange:ht,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":A.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!T.value,"v-autocomplete--selecting-index":r.value>-1},e.class],style:e.style,readonly:ue.isReadonly.value,placeholder:$?void 0:e.placeholder,"onClick:clear":ft,"onMousedown:control":pt,onKeydown:bt,"aria-expanded":be.value,"aria-controls":_e.value}),{...a,default:()=>L(K,null,[t(Ne,E({id:le.value,ref:g,modelValue:A.value,"onUpdate:modelValue":k=>A.value=k,activator:"parent",contentClass:"v-autocomplete__content",disabled:te.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:Vt,onAfterLeave:St},e.menuProps),{default:()=>[m&&t(De,E({ref:ke,filterable:!0,selected:X.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:k=>k.preventDefault(),onKeydown:yt,onFocusin:_t,onFocusout:kt,tabindex:"-1",selectable:!0,"aria-live":"polite",color:e.itemColor??e.color},W,e.listProps),{default:()=>[a["prepend-item"]?.(),!_.value.length&&!e.hideNoData&&(a["no-data"]?.()??t(ne,{key:"no-data",title:c(e.noDataText)},null)),t(zl,{ref:i,renderless:!0,items:_.value,itemKey:"value"},{default:k=>{let{item:w,index:Q,itemRef:Re}=k;const we=E(w.props,{ref:Re,key:w.value,active:z.value&&Q===0?!0:void 0,onClick:()=>me(w,null)});return w.type==="divider"?a.divider?.({props:w.raw,index:Q})??t(Oe,E(w.props,{key:`divider-${Q}`}),null):w.type==="subheader"?a.subheader?.({props:w.raw,index:Q})??t(Ol,E(w.props,{key:`subheader-${Q}`}),null):a.item?.({item:w,index:Q,props:we})??t(ne,E(we,{role:"option"}),{prepend:Pe=>{let{isSelected:G}=Pe;return L(K,null,[e.multiple&&!e.hideSelected?t(jl,{key:w.value,modelValue:G,ripple:!1,tabindex:"-1",onClick:Pt=>Pt.preventDefault()},null):void 0,w.props.prependAvatar&&t(Cl,{image:w.props.prependAvatar},null),w.props.prependIcon&&t(q,{icon:w.props.prependIcon},null)])},title:()=>u.value?w.title:Ql("v-autocomplete",w.title,C(w)?.title)})}}),a["append-item"]?.()]})]}),V.value.map((k,w)=>{function Q(G){G.stopPropagation(),G.preventDefault(),me(k,!1)}const Re={"onClick:close":Q,onKeydown(G){G.key!=="Enter"&&G.key!==" "||(G.preventDefault(),G.stopPropagation(),Q(G))},onMousedown(G){G.preventDefault(),G.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},we=M.value?!!a.chip:!!a.selection,Pe=we?xl(M.value?a.chip({item:k,index:w,props:Re}):a.selection({item:k,index:w})):void 0;if(!(we&&!Pe))return L("div",{key:k.value,class:$e(["v-autocomplete__selection",w===r.value&&["v-autocomplete__selection--selected",H.value]]),style:Ue(w===r.value?R.value:{})},[M.value?a.chip?t(We,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:k.title}}},{default:()=>[Pe]}):t(fe,E({key:"chip",closable:e.closableChips,size:"small",text:k.title,disabled:k.props.disabled},Re),null):Pe??L("span",{class:"v-autocomplete__selection-text"},[k.title,e.multiple&&w<V.value.length-1&&L("span",{class:"v-autocomplete__selection-comma"},[y(",")])])])})]),"append-inner":function(){for(var k=arguments.length,w=new Array(k),Q=0;Q<k;Q++)w[Q]=arguments[Q];return L(K,null,[a["append-inner"]?.(...w),e.menuIcon?t(q,{class:"v-autocomplete__menu-icon",color:n.value?.fieldIconColor,icon:e.menuIcon,onMousedown:gt,onClick:Pl,"aria-label":ve.value,title:ve.value,tabindex:"-1"},null):void 0])}})}),st({isFocused:s,isPristine:u,menu:A,search:x,filteredItems:se,select:me},n)}}),ca=300,va=Y({__name:"SelectPersonne",props:Te({label:{},initialPersonne:{},api:{},readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,a=Se(e,"modelValue"),c=U(a.value==0?[]:[{title:o.initialPersonne,value:a.value}]),n=U("");async function s(){if(!n.value)return;const g=await o.api.SelectPersonne({search:n.value});g!==void 0&&(c.value=(g||[]).map(i=>({title:i.Label,value:i.Id})))}let u;function d(g){n.value=g||"",clearTimeout(u),u=setTimeout(s,ca)}return(g,i)=>(f(),b(vt,{label:o.label,variant:"outlined",density:"compact",readonly:o.readonly,"hide-details":"",items:c.value,"model-value":h(Xe)(a.value),"onUpdate:modelValue":i[0]||(i[0]=r=>a.value=h(Ke)(r)),search:n.value,"onUpdate:search":[i[1]||(i[1]=r=>n.value=r),d],clearable:"","no-data-text":n.value.length?"Aucun profil ne correspond à votre recherche.":"Veuillez entrer une recherche."},null,8,["label","readonly","items","model-value","search","no-data-text"]))}}),Ra=Y({__name:"RequestProgressCard",props:{title:{},current:{},total:{}},setup(e){const o=e;return(a,c)=>(f(),b(de,{title:o.title},{default:l(()=>[t(ce,null,{default:l(()=>[t(Il,{max:o.total,"model-value":o.current,color:"primary",height:"24"},{default:l(()=>[y(B(o.current)+" / "+B(o.total),1)]),_:1},8,["max","model-value"])]),_:1})]),_:1},8,["title"]))}}),O=Y({__name:"RatingBadge",props:{label:{},value:{}},setup(e){const o=e,a=I(()=>Math.floor(o.value)==o.value?o.value.toString():o.value.toFixed(1)),c=I(()=>{const n=(o.value-1)/3,s=200*(1-n),u=255*n;return`rgb(${s},${u},0)`});return(n,s)=>(f(),b(N,{"no-gutters":""},{default:l(()=>[t(v,{cols:"10"},{default:l(()=>[y(B(o.label),1)]),_:1}),t(v,{cols:"2","align-self":"center"},{default:l(()=>[o.value!=0?(f(),b(ql,{key:0,inline:"",content:a.value,color:c.value},null,8,["content","color"])):ee("",!0)]),_:1})]),_:1}))}}),Aa=Y({__name:"CampSondagesV",props:{sondages:{}},setup(e){const o=e;return(a,c)=>(f(),Z(K,null,[o.sondages.Sondages?.length?(f(),b(de,{key:0,title:"Vue d'ensembe",subtitle:`Moyenne des (${o.sondages.Sondages.length}) notes atttribuées (de 1 à 4)`,class:"mb-2"},{default:l(()=>[t(ce,null,{default:l(()=>[t(N,null,{default:l(()=>[t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{readonly:"",label:"Informations avant le séjour",value:o.sondages.Moyennes.InfosAvantSejour},null,8,["value"])]),_:1}),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{readonly:"",label:"Informations pendant le séjour",value:o.sondages.Moyennes.InfosPendantSejour},null,8,["value"])]),_:1}),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{readonly:"",label:"L'hébergement",value:o.sondages.Moyennes.Hebergement},null,8,["value"])]),_:1})]),_:1}),t(N,null,{default:l(()=>[t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{readonly:"",label:"Les activités",value:o.sondages.Moyennes.Activites},null,8,["value"])]),_:1}),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{readonly:"",label:"Le thème",value:o.sondages.Moyennes.Theme},null,8,["value"])]),_:1}),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{readonly:"",label:"La nourriture",value:o.sondages.Moyennes.Nourriture},null,8,["value"])]),_:1})]),_:1}),t(N,null,{default:l(()=>[t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{readonly:"",label:"L'hygiène corporelle et vestimentaire",value:o.sondages.Moyennes.Hygiene},null,8,["value"])]),_:1}),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{readonly:"",label:"L'ambiance du groupe",value:o.sondages.Moyennes.Ambiance},null,8,["value"])]),_:1}),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{readonly:"",label:"Le ressenti global de votre enfant",value:o.sondages.Moyennes.Ressenti},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["subtitle"])):(f(),b(Dl,{key:1},{default:l(()=>[t(Wl,{type:"info"},{default:l(()=>[...c[0]||(c[0]=[y(" Aucun avis n'a encore été rempli. ",-1)])]),_:1})]),_:1})),(f(!0),Z(K,null,pe(o.sondages.Sondages,(n,s)=>(f(),b(de,{title:`${n.ResponsableNom} - ${n.ResponsableMail}`,subtitle:(n.Participants||[]).join(", "),class:"my-2",key:s},{append:l(()=>[y(B(h(F).time(n.Sondage.Modified)),1)]),default:l(()=>[t(ce,null,{default:l(()=>[t(N,null,{default:l(()=>[t(v,{cols:"7"},{default:l(()=>[t(N,null,{default:l(()=>[t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{label:"Informations avant le séjour",value:n.Sondage.InfosAvantSejour},null,8,["value"])]),_:2},1024),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{label:"Informations pendant le séjour",value:n.Sondage.InfosPendantSejour},null,8,["value"])]),_:2},1024),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{label:"L'hébergement",value:n.Sondage.Hebergement},null,8,["value"])]),_:2},1024)]),_:2},1024),t(N,null,{default:l(()=>[t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{label:"Les activités",value:n.Sondage.Activites},null,8,["value"])]),_:2},1024),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{label:"Le thème",value:n.Sondage.Theme},null,8,["value"])]),_:2},1024),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{label:"La nourriture",value:n.Sondage.Nourriture},null,8,["value"])]),_:2},1024)]),_:2},1024),t(N,null,{default:l(()=>[t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{label:"L'hygiène corporelle et vestimentaire",value:n.Sondage.Hygiene},null,8,["value"])]),_:2},1024),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{label:"L'ambiance du groupe",value:n.Sondage.Ambiance},null,8,["value"])]),_:2},1024),t(v,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{label:"Le ressenti global de votre enfant",value:n.Sondage.Ressenti},null,8,["value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(v,{"align-self":"center"},{default:l(()=>[t(N,null,{default:l(()=>[t(v,{cols:"12"},{default:l(()=>[t(tt,{density:"compact",label:"Participant",variant:"outlined","hide-details":"",value:n.Sondage.MessageEnfant,readonly:"",rows:"3"},null,8,["value"])]),_:2},1024),t(v,{cols:"12"},{default:l(()=>[t(tt,{density:"compact",label:"Responsable",variant:"outlined","hide-details":"",value:n.Sondage.MessageResponsable,readonly:"",rows:"3"},null,8,["value"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","subtitle"]))),128))],64))}}),$a=Y({__name:"ReglementsCard",props:{data:{}},setup(e){const o=e;function a(n){return(o.data.Dossiers||{})[n.Participant.IdDossier]}const c=I(()=>(o.data.Participants||[]).filter(n=>a(n).Reglement==Ml.Complet).length);return(n,s)=>(f(),b(de,{title:"Suivi du règlement",subtitle:`${c.value} / ${o.data.Participants?.length||0} complet`},{default:l(()=>[t(ce,null,{default:l(()=>[t(De,null,{default:l(()=>[(f(!0),Z(K,null,pe(e.data.Participants,u=>(f(),b(ne,{title:h(ge).NOMPrenom(u.Personne),subtitle:a(u).Responsable},{append:l(()=>[t(fe,{"prepend-icon":"mdi-currency-eur",color:h(F).colorStatutPaiement(a(u).Reglement)},{default:l(()=>[y(B(h(Tl)[a(u).Reglement]),1)]),_:2},1032,["color"])]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1},8,["subtitle"]))}}),Ea=Y({__name:"SelectCamp",props:Te({label:{},camps:{},readonly:{type:Boolean},defaultStyle:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,a=Se(e,"modelValue"),c=U(!1),n=I(()=>o.camps.filter(s=>c.value?!0:!s.IsOld).map(s=>({title:s.Label,value:s.Id})));return(s,u)=>(f(),b(dt,{density:o.defaultStyle?void 0:"compact",variant:o.defaultStyle?void 0:"outlined",label:o.label,readonly:o.readonly,items:n.value,clearable:"","model-value":h(Xe)(a.value),"onUpdate:modelValue":u[1]||(u[1]=d=>a.value=h(Ke)(d)),"no-data-text":"Aucun séjour n'existe.","hide-details":"",autocomplete:"off"},{prepend:l(()=>[t(Me,{text:c.value?"Masquer les séjours terminés":"Afficher les séjours terminés"},{activator:l(({props:d})=>[t(J,E({size:"small",variant:c.value?"tonal":"flat"},d,{icon:"mdi-history",onClick:u[0]||(u[0]=g=>c.value=!c.value)}),null,16,["variant"])]),_:1},8,["text"])]),_:1},8,["density","variant","label","readonly","items","model-value"]))}}),ma=300,fa=Y({__name:"SelectDossier",props:Te({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,a=Se(e,"modelValue"),c=U([]);Be(s);function n(r){return{title:r.Responsable,subtitle:r.Participants,value:r.Id}}async function s(){const r=a.value;if(r==0)return;const p=await lt.DossiersSearch(ea(r));p!==void 0&&(c.value=(p.Dossiers||[]).map(n))}const u=U("");async function d(){if(!u.value)return;const r=ct();r.Pattern=u.value;const p=await lt.DossiersSearch(r);p!==void 0&&(c.value=(p.Dossiers||[]).map(n))}let g;function i(r){u.value=r||"",clearTimeout(g),g=setTimeout(d,ma)}return(r,p)=>(f(),b(vt,{label:"Dossier",variant:"outlined",density:"compact",readonly:o.readonly,"hide-details":"",items:c.value,"no-filter":"","model-value":h(Xe)(a.value),"onUpdate:modelValue":p[0]||(p[0]=S=>a.value=h(Ke)(S)),search:u.value,"onUpdate:search":[p[1]||(p[1]=S=>u.value=S),i],clearable:"","no-data-text":u.value.length?"Aucun dossier ne correspond à votre recherche.":"Veuillez entrer une recherche."},{item:l(({item:S,props:D})=>[t(ne,E(D,{title:S.title,subtitle:S.raw.subtitle}),null,16,["title","subtitle"])]),_:1},8,["readonly","items","model-value","search","no-data-text"]))}}),mt=Y({__name:"StatutParticipantField",props:Te({hideDetails:{type:Boolean},readonly:{type:Boolean},rules:{},restrictItems:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,a=Se(e,"modelValue"),c=I(()=>Rl(it).filter(n=>o.restrictItems===void 0||o.restrictItems.includes(n.value)).map(n=>({value:n.value,title:n.title,format:F.statutParticipant(n.value)})));return(n,s)=>(f(),b(dt,{label:"Statut",variant:"outlined",density:"compact",items:c.value,readonly:o.readonly,"hide-details":o.hideDetails,modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=u=>a.value=u),rules:o.rules},{item:l(({item:u,props:d})=>[t(ne,E(d,{title:u.title}),{prepend:l(()=>[t(q,{color:u.raw.format.color},{default:l(()=>[y(B(u.raw.format.icon),1)]),_:2},1032,["color"])]),_:2},1040,["title"])]),selection:l(({item:u})=>[t(ne,{title:u.title,density:"compact"},{prepend:l(()=>[t(q,{color:u.raw.format.color,size:"small"},{default:l(()=>[y(B(u.raw.format.icon),1)]),_:2},1032,["color"])]),_:2},1032,["title"])]),_:1},8,["items","readonly","hide-details","modelValue","rules"]))}}),Ba=Y({__name:"ParticipantEdit",props:{participant:{},personne:{},api:{},hidePersonneDossier:{type:Boolean},readonlyStatut:{type:Boolean}},emits:["save"],setup(e,{emit:o}){const a=e,c=o,n=U(Al(a.participant)),s=I(()=>!!(n.value.IdPersonne&&n.value.IdDossier));return(u,d)=>{const g=va,i=fa,r=Yl;return f(),b(de,{title:"Editer le participant"},{default:l(()=>[t(ce,null,{default:l(()=>[t(Zl,null,{default:l(()=>[a.hidePersonneDossier?ee("",!0):(f(),b(N,{key:0},{default:l(()=>[t(v,null,{default:l(()=>[t(g,{label:"Personne",modelValue:n.value.IdPersonne,"onUpdate:modelValue":d[0]||(d[0]=p=>n.value.IdPersonne=p),"initial-personne":h(ge).label(a.personne),api:a.api},null,8,["modelValue","initial-personne","api"])]),_:1}),t(v,null,{default:l(()=>[t(i,{modelValue:n.value.IdDossier,"onUpdate:modelValue":d[1]||(d[1]=p=>n.value.IdDossier=p)},null,8,["modelValue"])]),_:1})]),_:1})),t(N,null,{default:l(()=>[t(v,null,{default:l(()=>[t(mt,{modelValue:n.value.Statut,"onUpdate:modelValue":d[2]||(d[2]=p=>n.value.Statut=p),"hide-details":"",readonly:a.readonlyStatut},null,8,["modelValue","readonly"])]),_:1})]),_:1}),t(N,null,{default:l(()=>[t(v,null,{default:l(()=>[t(r,{modelValue:n.value.Navette,"onUpdate:modelValue":d[3]||(d[3]=p=>n.value.Navette=p)},null,8,["modelValue"])]),_:1}),t(v,null,{default:l(()=>[t(Ee,{modelValue:n.value.Commentaire,"onUpdate:modelValue":d[4]||(d[4]=p=>n.value.Commentaire=p),label:"Commentaire",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Le,null,{default:l(()=>[t(ye),t(J,{disabled:!s.value,onClick:d[5]||(d[5]=p=>c("save",n.value))},{default:l(()=>[...d[6]||(d[6]=[y("Enregistrer",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})}}}),La=Y({__name:"ParticipantRow",props:{participant:{},index:{}},setup(e){const o=e,a=I(()=>"mx-2 px-2 rounded "+(o.index%2==0?"bg-grey-lighten-4":""));return(c,n)=>(f(),b(N,{"no-gutters":"",class:$e(a.value)},{default:l(()=>[t(v,{"align-self":"center",cols:"2"},{default:l(()=>[t(ne,{title:h(ge).NOMPrenom(o.participant.Personne),class:"px-0"},{prepend:l(()=>[o.participant.Participant.Statut!=h(Ie).Inscrit?(f(),b(Me,{key:0,text:h(it)[o.participant.Participant.Statut]},{activator:l(({props:s})=>[t(q,E({color:h(F).statutParticipant(o.participant.Participant.Statut).color},s),{default:l(()=>[y(B(h(F).statutParticipant(o.participant.Participant.Statut).icon),1)]),_:1},16,["color"])]),_:1},8,["text"])):ee("",!0)]),_:1},8,["title"])]),_:1}),t(v,{"align-self":"center",cols:"1",class:"text-center"},{default:l(()=>[t(q,{class:"ma-2 mr-4"},{default:l(()=>[y(B(h(F).sexeIcon(o.participant.Personne.Sexe)),1)]),_:1})]),_:1}),t(v,{"align-self":"center",cols:"1"},{default:l(()=>[t(N,{"no-gutters":""},{default:l(()=>[t(v,{"align-self":"end",class:"text-center"},{default:l(()=>[y(B(h(F).dateNaissance(o.participant.Personne.DateNaissance)),1)]),_:1}),t(v,{"align-self":"end",cols:"auto"},{default:l(()=>[o.participant.HasBirthday?(f(),b(Me,{key:0,text:`${o.participant.Personne.Prenom} a son anniveraire pendant le séjour !`},{activator:l(({props:s})=>[t(q,E(s,{color:"pink"}),{default:l(()=>[...n[0]||(n[0]=[y("mdi-cake-variant",-1)])]),_:1},16)]),_:1},8,["text"])):ee("",!0)]),_:1})]),_:1})]),_:1}),t(v,{"align-self":"center",cols:"1",class:"text-center"},{default:l(()=>[y(B(o.participant.Age)+" ans ",1)]),_:1}),t(v,{"align-self":"center",cols:"1",class:"text-center"},{default:l(()=>[y(B(o.participant.Participant.Navette==h($l).NoBus?"-":h(El)[o.participant.Participant.Navette]),1)]),_:1}),t(v,{"align-self":"center",cols:"2"},{default:l(()=>[y(B(o.participant.Participant.Commentaire),1)]),_:1}),t(v,{cols:"2","align-self":"center",class:"text-center"},{default:l(()=>[y(B(h(F).time(o.participant.MomentInscription)),1)]),_:1}),xe(c.$slots,"append"),c.$slots.append===void 0?(f(),b(ye,{key:0})):ee("",!0),t(v,{"align-self":"center",cols:"auto"},{default:l(()=>[t(Ne,null,{activator:l(({props:s})=>[t(J,E(s,{icon:"mdi-dots-vertical",size:"x-small",class:"mx-1"}),null,16)]),default:l(()=>[xe(c.$slots,"actions")]),_:3})]),_:3})]),_:3},8,["class"]))}}),Na=Y({__name:"ParticipantRowHeader",setup(e){return(o,a)=>(f(),b(N,{"no-gutters":"",class:"mx-2 px-2"},{default:l(()=>[t(v,{class:"font-weight-bold","align-self":"center",cols:"2"},{default:l(()=>[...a[0]||(a[0]=[y(" Participant ",-1)])]),_:1}),t(v,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:l(()=>[...a[1]||(a[1]=[y(" Sexe ",-1)])]),_:1}),t(v,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:l(()=>[...a[2]||(a[2]=[y(" Date de naissance ",-1)])]),_:1}),t(v,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:l(()=>[...a[3]||(a[3]=[y(" Age ",-1)])]),_:1}),t(v,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:l(()=>[...a[4]||(a[4]=[y(" Navette ",-1)])]),_:1}),t(v,{class:"font-weight-bold text-center","align-self":"center",cols:"2"},{default:l(()=>[...a[5]||(a[5]=[y(" Commentaire ",-1)])]),_:1}),t(v,{class:"font-weight-bold text-center","align-self":"center",cols:"2"},{default:l(()=>[...a[6]||(a[6]=[y(" Inscription ",-1)])]),_:1}),xe(o.$slots,"append"),o.$slots.append===void 0?(f(),b(ye,{key:0})):ee("",!0),t(v,{cols:"auto"},{default:l(()=>[t(J,{size:"x-small",color:"white",icon:"",variant:"plain",disabled:""})]),_:1})]),_:3}))}}),pa=Y({__name:"CardValideParticipantRow",props:Te({participant:{},statut:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,a=Se(e,"modelValue");function c(n){return n.AgeMin?n.AgeMax?n.EquilibreGF?n.Place?"":"Camp complet":"Equilibre G./F.":`Trop âgé${F.accord(o.participant.Personne.Sexe)}`:"Trop jeune"}return(n,s)=>{const u=mt;return f(),b(N,null,{default:l(()=>[t(v,{cols:"4","align-self":"center"},{default:l(()=>[t(ne,{title:h(ge).label(o.participant.Personne),subtitle:h(rt).label(o.participant.Camp)},null,8,["title","subtitle"])]),_:1}),t(v,{cols:"3","align-self":"center",class:"text-center"},{default:l(()=>[o.statut.Statut!=h(Ie).Inscrit?(f(),b(fe,{key:0,color:"warning","prepend-icon":"mdi-alert"},{default:l(()=>[y(B(c(o.statut.Causes)),1)]),_:1})):ee("",!0)]),_:1}),t(v,{"align-self":"center"},{default:l(()=>[o.statut.Validable?(f(),b(u,{key:0,modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=d=>a.value=d),"hide-details":"",readonly:!o.statut.AllowedChanges?.length,"restrict-items":(o.statut.AllowedChanges||[]).concat(o.statut.Statut)},null,8,["modelValue","readonly","restrict-items"])):o.participant.Participant.Statut!=h(Ie).AStatuer?(f(),b(fe,{key:1,size:"small"},{default:l(()=>[...s[1]||(s[1]=[y(" Inscription déjà validée. ",-1)])]),_:1})):(f(),b(fe,{key:2,size:"small"},{default:l(()=>[...s[2]||(s[2]=[y(" Seul le centre peut accepter cette inscription. ",-1)])]),_:1}))]),_:1})]),_:1})}}}),Fa=Y({__name:"CardValide",props:{inscription:{},idParticipants:{}},emits:["valide"],setup(e,{emit:o}){const a=e,c=o,n=I(()=>(a.inscription.Participants||[]).filter(d=>a.idParticipants?a.idParticipants.includes(d.Participant.Id):!0)),s=U(Object.fromEntries(n.value.filter(d=>(a.inscription.StatutHints||{})[d.Participant.Id].Validable).map(d=>[d.Participant.Id,(a.inscription.StatutHints||{})[d.Participant.Id].Statut]))),u=I(()=>Object.values(s.value).length>0);return(d,g)=>(f(),b(de,{title:"Valider l'inscription",subtitle:"Un mail de confirmation va être envoyé."},{default:l(()=>[t(ce,null,{default:l(()=>[(f(!0),Z(K,null,pe(n.value,i=>(f(),b(pa,{participant:i,statut:(a.inscription.StatutHints||{})[i.Participant.Id],modelValue:s.value[i.Participant.Id],"onUpdate:modelValue":r=>s.value[i.Participant.Id]=r},null,8,["participant","statut","modelValue","onUpdate:modelValue"]))),256))]),_:1}),t(Le,null,{default:l(()=>[t(J,{onClick:g[0]||(g[0]=i=>c("valide",s.value,!1)),disabled:!u.value},{default:l(()=>[...g[2]||(g[2]=[y("Valider sans notification",-1)])]),_:1},8,["disabled"]),t(ye),t(J,{onClick:g[1]||(g[1]=i=>c("valide",s.value,!0)),disabled:!u.value},{default:l(()=>[...g[3]||(g[3]=[y("Valider",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1}))}}),ga=300,ya=Y({__name:"DebounceField",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=e,a=U(""),c=Se(e,"modelValue");re(()=>c.value,()=>{a.value=c.value});let n;function s(u){if(a.value=u||"",clearTimeout(n),!u){c.value=a.value;return}n=setTimeout(()=>{c.value=a.value},ga)}return(u,d)=>(f(),b(Ee,E(o,{modelValue:a.value,"onUpdate:modelValue":[d[0]||(d[0]=g=>a.value=g),s]}),{"append-inner":l(()=>[xe(u.$slots,"append-inner")]),append:l(()=>[xe(u.$slots,"append")]),_:3},16,["modelValue"]))}}),ba={key:0},ha=Y({__name:"CardSimilaires",props:{personne:{},api:{}},emits:["identifie"],setup(e,{emit:o}){const a=e,c=o;Be(s);const n=U([]);async function s(){const D=await a.api.SearchSimilaires({idPersonne:a.personne.Id});D!==void 0&&(n.value=D||[])}const u=U(!1),d=U(""),g=U([]);async function i(){if((d.value||"").length<3)return;const D=await a.api.SelectPersonne({search:d.value});D!==void 0&&(g.value=D||[])}function r(){c("identifie",{IdTemporaire:a.personne.Id,Rattache:!1,RattacheTo:0})}function p(D){c("identifie",{IdTemporaire:a.personne.Id,Rattache:!0,RattacheTo:D})}function S(D){const P=Math.floor(D*2);return`rgb(${255-P},${P}, 15)`}return(D,P)=>{const H=ya;return f(),b(de,{title:"Identifier le profil",width:"600px",subtitle:u.value?"":"Liste des profils similaires"},{default:l(()=>[t(ce,{class:"pb-0"},{default:l(()=>[u.value?(f(),Z("div",ba,[t(H,{modelValue:d.value,"onUpdate:modelValue":[P[0]||(P[0]=R=>d.value=R),i],label:"Rechercher un profil",density:"comfortable",clearable:"",autofocus:"","hide-details":""},null,8,["modelValue"]),t(De,{density:"compact"},{default:l(()=>[d.value.length>=3&&!g.value.length?(f(),b(N,{key:0,class:"ma-2","no-gutters":""},{default:l(()=>[t(v,{class:"text-center"},{default:l(()=>[...P[3]||(P[3]=[L("i",null,"Aucun profil ne correspond à votre recherche.",-1)])]),_:1})]),_:1})):ee("",!0),(f(!0),Z(K,null,pe(g.value,(R,x)=>(f(),b(ne,{key:x,title:R.Label,subtitle:h(F).dateNaissance(R.DateNaissance),"append-icon":h(F).sexeIcon(R.Sexe),onClick:V=>p(R.Id)},null,8,["title","subtitle","append-icon","onClick"]))),128))]),_:1})])):(f(),b(De,{key:1,density:"compact"},{default:l(()=>[n.value.length?ee("",!0):(f(),b(N,{key:0,class:"mx-2","no-gutters":""},{default:l(()=>[t(v,{class:"text-center"},{default:l(()=>[...P[4]||(P[4]=[L("i",null,"Aucun profil existant sur la base n'est similaire.",-1)])]),_:1})]),_:1})),(f(!0),Z(K,null,pe(n.value,(R,x)=>(f(),b(ne,{key:x,title:R.Personne.Label,subtitle:h(F).dateNaissance(R.Personne.DateNaissance),"prepend-icon":h(F).sexeIcon(R.Personne.Sexe),onClick:V=>p(R.Personne.Id)},{append:l(()=>[t(fe,{color:S(R.ScorePercent)},{default:l(()=>[y(B(R.ScorePercent)+" % ",1)]),_:2},1032,["color"])]),_:2},1032,["title","subtitle","prepend-icon","onClick"]))),128))]),_:1}))]),_:1}),t(Le,null,{default:l(()=>[t(J,{onClick:P[1]||(P[1]=R=>{u.value=!u.value,d.value=""})},{default:l(()=>[y(B(u.value?"Retour aux suggestions":"Chercher manuellement"),1)]),_:1}),t(ye),t(J,{variant:"elevated",elevation:"1",onClick:P[2]||(P[2]=R=>r()),"prepend-icon":"mdi-plus"},{default:l(()=>[...P[5]||(P[5]=[y(" Créer un nouveau profil",-1)])]),_:1})]),_:1})]),_:1},8,["subtitle"])}}}),ot=Y({__name:"InscriptionEtatcivilCols",props:{personne:{},api:{},acteur:{}},emits:["identifie"],setup(e,{emit:o}){const a=e,c=o;return(n,s)=>(f(),Z(K,null,[t(v,{"align-self":"center",cols:"4"},{default:l(()=>[t(Me,null,{activator:l(({props:u})=>[a.personne.IsTemp?(f(),b(Ne,{key:0,"close-on-content-click":!1},{activator:l(({props:d})=>[t(fe,E({label:""},E(d,u)),{prepend:l(()=>[t(q,{class:"mr-2",icon:"mdi-alert",color:"orange"})]),default:l(()=>[y(" "+B(h(ge).label(a.personne)),1)]),_:1},16)]),default:l(()=>[a.acteur==h(ze).Directeur?(f(),b(de,{key:0},{default:l(()=>[t(ce,null,{default:l(()=>[...s[1]||(s[1]=[y(" Le rapprochement de ce profil requiert une action du centre d'inscription. ",-1)])]),_:1})]),_:1})):(f(),b(ha,{key:1,api:a.api,personne:a.personne,onIdentifie:s[0]||(s[0]=d=>c("identifie",d))},null,8,["api","personne"]))]),_:2},1024)):(f(),Z("div",Bl(E({key:1},u)),B(h(ge).label(a.personne)),17))]),default:l(()=>[a.personne.IsTemp?(f(),Z(K,{key:0},[y(" Ce profil est temporaire et doit être identifié. ")],64)):(f(),Z(K,{key:1},[y(" Ce profil est identifié (ID: "+B(a.personne.Id)+"). ",1)],64))]),_:1})]),_:1}),t(v,{"align-self":"center",cols:"auto"},{default:l(()=>[t(q,{icon:h(F).sexeIcon(a.personne.Sexe),class:"mx-4"},null,8,["icon"])]),_:1}),t(v,{"align-self":"center",cols:"2"},{default:l(()=>[s[2]||(s[2]=L("small",{class:"text-grey"},"né(e) le",-1)),y(" "+B(h(F).dateNaissance(a.personne.DateNaissance)),1)]),_:1})],64))}}),Ha=Y({__name:"InscriptionRow",props:{inscription:{},api:{},user:{},hideDelete:{type:Boolean},alreadyValidated:{type:Boolean}},emits:["identifie","valide","merge","delete","deleteParticipant"],setup(e,{emit:o}){const a=e,c=o,n=I(()=>a.user==null?ze.Backoffice:ze.Directeur),s=I(()=>!a.inscription.Responsable.IsTemp&&!!a.inscription.Participants?.every(g=>!g.Personne.IsTemp));function u(g){return s.value&&(a.user===null||a.user==g.IdCamp)}const d=U(null);return(g,i)=>(f(),b(de,{subtitle:h(F).time(a.inscription.Dossier.MomentInscription,!0,!0)},{append:l(()=>[e.alreadyValidated?(f(),b(Me,{key:0,text:"En attente de validation par les autres séjours"},{activator:l(({props:r})=>[t(q,E(r,{color:"green"}),{default:l(()=>[...i[7]||(i[7]=[y(" mdi-check ",-1)])]),_:1},16)]),_:1})):(f(),b(J,{key:1,disabled:!s.value||!a.inscription.Participants?.length,onClick:i[0]||(i[0]=r=>c("valide")),"prepend-icon":"mdi-check-all"},{default:l(()=>[...i[8]||(i[8]=[y(" Tout valider",-1)])]),_:1},8,["disabled"])),a.hideDelete?ee("",!0):(f(),b(Ne,{key:2},{activator:l(({props:r})=>[t(J,E(r,{variant:"flat",icon:"mdi-dots-vertical",size:"small",class:"ml-1"}),null,16)]),default:l(()=>[t(De,{density:"compact"},{default:l(()=>[t(ne,{"prepend-icon":"mdi-file-move",onClick:i[1]||(i[1]=r=>c("merge")),title:"Fusionner vers ..."}),t(Oe),t(ne,{title:"Supprimer","prepend-icon":"mdi-delete",onClick:i[2]||(i[2]=r=>c("delete"))})]),_:1})]),_:1}))]),default:l(()=>[t(ce,null,{default:l(()=>[t(N,null,{default:l(()=>[t(v,{cols:"7"},{default:l(()=>[t(N,{"no-gutters":"",class:"my-0 py-1"},{default:l(()=>[t(ot,{api:a.api,personne:a.inscription.Responsable,acteur:n.value,onIdentifie:i[3]||(i[3]=r=>c("identifie",r))},null,8,["api","personne","acteur"])]),_:1}),t(Oe,{thickness:"1"}),(f(!0),Z(K,null,pe(a.inscription.Participants,(r,p)=>(f(),b(N,{"no-gutters":"",class:"my-0 py-1",key:p},{default:l(()=>[t(ot,{api:a.api,personne:r.Personne,acteur:n.value,onIdentifie:i[4]||(i[4]=S=>c("identifie",S))},null,8,["api","personne","acteur"]),t(v,{"align-self":"center",cols:"3",class:"text-center"},{default:l(()=>[y(B(h(rt).label(r.Camp)),1)]),_:2},1024),t(ye),t(v,{"align-self":"center",cols:"1",class:"pr-2 text-center"},{default:l(()=>[r.Participant.Statut!=h(Ie).AStatuer?(f(),b(q,{key:0,color:h(F).statutParticipant(r.Participant.Statut).color,icon:h(F).statutParticipant(r.Participant.Statut).icon},null,8,["color","icon"])):u(r.Participant)?(f(),b(J,{key:1,size:"small",title:"Valider ce participant...",onClick:S=>c("valide",r.Participant.Id)},{default:l(()=>[t(q,{icon:h(F).statutParticipant(h(Ie).AStatuer).icon},null,8,["icon"]),t(q,null,{default:l(()=>[...i[9]||(i[9]=[y("mdi-arrow-right",-1)])]),_:1}),t(q,{icon:h(F).statutParticipant((a.inscription.StatutHints||{})[r.Participant.Id].Statut).icon,color:h(F).statutParticipant((a.inscription.StatutHints||{})[r.Participant.Id].Statut).color},null,8,["icon","color"])]),_:2},1032,["onClick"])):ee("",!0)]),_:2},1024),a.hideDelete?ee("",!0):(f(),b(v,{key:0,"align-self":"center",cols:"auto"},{default:l(()=>[t(J,{icon:"",size:"x-small",onClick:S=>d.value=r,title:"Supprimer ce participant..."},{default:l(()=>[t(q,{color:"red"},{default:l(()=>[...i[10]||(i[10]=[y("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1024))]),_:2},1024))),128))]),_:1}),t(v,{cols:"5"},{default:l(()=>[t(N,{"no-gutters":""},{default:l(()=>[t(v,{cols:"auto",class:"px-2"},{default:l(()=>[t(q,{color:a.inscription.Message.length?"secondary":"grey"},{default:l(()=>[...i[11]||(i[11]=[y("mdi-message",-1)])]),_:1},8,["color"])]),_:1}),t(v,null,{default:l(()=>[(f(!0),Z(K,null,pe(a.inscription.Message.split(`
`),(r,p)=>(f(),Z("div",{key:p},B(r),1))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Gl,{"model-value":d.value!=null,"onUpdate:modelValue":i[6]||(i[6]=r=>d.value=null),"max-width":"600px"},{default:l(()=>[d.value?(f(),b(de,{key:0,title:"Confirmation"},{default:l(()=>[t(ce,null,{default:l(()=>[i[12]||(i[12]=y(" Confirmez-vous la suppression du participant ",-1)),L("b",null,B(h(ge).label(d.value.Personne)),1),i[13]||(i[13]=y(" ? ",-1)),i[14]||(i[14]=L("br",null,null,-1)),i[15]||(i[15]=L("br",null,null,-1)),i[16]||(i[16]=y(" Attention, cette opération est irréversible. ",-1))]),_:1}),t(Le,null,{default:l(()=>[t(ye),t(J,{color:"red",onClick:i[5]||(i[5]=r=>{c("deleteParticipant",d.value.Participant.Id),d.value=null})},{default:l(()=>[...i[17]||(i[17]=[y("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):ee("",!0)]),_:1},8,["model-value"])]),_:1},8,["subtitle"]))}});export{Ma as V,va as _,Ta as a,vt as b,lt as c,Aa as d,Ra as e,Na as f,fa as g,Ba as h,Da as i,Ea as j,$a as k,La as l,Ha as m,Fa as n,ya as o,ct as p,ea as q};
