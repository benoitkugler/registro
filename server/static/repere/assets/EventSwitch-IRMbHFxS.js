import{$i as e,Ai as t,B as n,Dt as r,Et as i,Fi as a,Li as o,M as s,Mi as c,Mn as l,Mt as u,Ni as d,Nn as f,Nt as p,O as m,Ot as h,Pi as g,Ri as _,Sa as v,Sr as ee,Ta as y,Tr as b,U as x,Ut as S,Wr as C,at as w,dr as T,ga as te,hr as E,ht as D,it as O,ji as k,jt as ne,k as A,kn as j,la as M,ma as N,mr as P,mt as F,na as I,nr as L,pi as R,rt as z,sa as re,tr as ie,va as B,vt as V,wa as H,wr as U,xa as W,xr as G,yt as K,z as q,zi as J,zt as Y}from"./VSnackbar-B_L40pBc.js";import{b as ae,s as oe,x as X,y as se}from"./VSelect-DJ481VcW.js";import{t as ce}from"./VDialog-Dn9kFB-3.js";const le=b({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:P,iconColor:String,lineColor:String,...U(),...i(),...O(),...V()},`VTimelineDivider`),ue=G()({name:`VTimelineDivider`,props:le(),setup(e,t){let{slots:n}=t,{sizeClasses:i,sizeStyles:a}=w(e,`v-timeline-divider__dot`),{backgroundColorStyles:o,backgroundColorClasses:s}=h(()=>e.dotColor),{roundedClasses:l}=r(e,`v-timeline-divider__dot`),{elevationClasses:u}=K(e),{backgroundColorClasses:d,backgroundColorStyles:f}=h(()=>e.lineColor);return E(()=>c(`div`,{class:v([`v-timeline-divider`,{"v-timeline-divider--fill-dot":e.fillDot},e.class]),style:H(e.style)},[c(`div`,{class:v([`v-timeline-divider__before`,d.value]),style:H(f.value)},null),!e.hideDot&&c(`div`,{key:`dot`,class:v([`v-timeline-divider__dot`,u.value,l.value,i.value]),style:H(a.value)},[c(`div`,{class:v([`v-timeline-divider__inner-dot`,s.value,l.value]),style:H(o.value)},[n.default?_(p,{key:`icon-defaults`,disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):_(z,{key:`icon`,color:e.iconColor,icon:e.icon,size:e.size},null)])]),c(`div`,{class:v([`v-timeline-divider__after`,d.value]),style:H(f.value)},null)])),{}}}),Z=b({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:P,iconColor:String,lineInset:[Number,String],side:{type:String,validator:e=>e==null||[`start`,`end`].includes(e)},...U(),...ne(),...V(),...i(),...O(),...Y()},`VTimelineItem`),de=G()({name:`VTimelineItem`,props:Z(),setup(e,t){let{slots:n}=t,{dimensionStyles:r}=u(e),i=te(0),a=N();return re(a,e=>{e&&(i.value=e.$el.querySelector(`.v-timeline-divider__dot`)?.getBoundingClientRect().width??0)},{flush:`post`}),E(()=>c(`div`,{class:v([`v-timeline-item`,{"v-timeline-item--fill-dot":e.fillDot,"v-timeline-item--side-start":e.side===`start`,"v-timeline-item--side-end":e.side===`end`},e.class]),style:H([{"--v-timeline-dot-size":C(i.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${C(e.lineInset)})`:C(0)},e.style])},[c(`div`,{class:`v-timeline-item__body`,style:H(r.value)},[n.default?.()]),_(ue,{ref:a,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!==`compact`&&c(`div`,{class:`v-timeline-item__opposite`},[!e.hideOpposite&&n.opposite?.()])])),{}}}),fe=b({align:{type:String,default:`center`,validator:e=>[`center`,`start`].includes(e)},direction:{type:String,default:`vertical`,validator:e=>[`vertical`,`horizontal`].includes(e)},justify:{type:String,default:`auto`,validator:e=>[`auto`,`center`].includes(e)},side:{type:String,validator:e=>e==null||[`start`,`end`].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>[`start`,`end`,`both`].includes(e)},...R(Z({lineInset:0}),[`dotColor`,`fillDot`,`hideOpposite`,`iconColor`,`lineInset`,`size`]),...U(),...F(),...Y(),...ie()},`VTimeline`),pe=G()({name:`VTimeline`,props:fe(),setup(e,t){let{slots:n}=t,{themeClasses:r}=L(e),{densityClasses:i}=D(e),{rtlClasses:a}=T();ee({VTimelineDivider:{lineColor:B(()=>e.lineColor)},VTimelineItem:{density:B(()=>e.density),dotColor:B(()=>e.dotColor),fillDot:B(()=>e.fillDot),hideOpposite:B(()=>e.hideOpposite),iconColor:B(()=>e.iconColor),lineColor:B(()=>e.lineColor),lineInset:B(()=>e.lineInset),size:B(()=>e.size)}});let o=k(()=>{let t=e.side?e.side:e.density===`default`?null:`end`;return t&&`v-timeline--side-${t}`}),s=k(()=>{let t=[`v-timeline--truncate-line-start`,`v-timeline--truncate-line-end`];switch(e.truncateLine){case`both`:return t;case`start`:return t[0];case`end`:return t[1];default:return null}});return E(()=>_(e.tag,{class:v([`v-timeline`,`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,s.value,{"v-timeline--inset-line":!!e.lineInset},r.value,i.value,o.value,a.value,e.class]),style:H([{"--v-timeline-line-thickness":C(e.lineThickness)},e.style])},n)),{}}});var me={class:`ma-2`},Q=J({__name:`EventItem`,props:{color:{},icon:{},time:{},size:{}},setup(t){let r=t;return(t,i)=>(e(),d(de,{"dot-color":r.color,width:`100%`,size:r.size||`medium`,elevation:2},{icon:M(()=>[c(`div`,me,[_(z,{icon:r.icon},null,8,[`icon`])])]),default:M(()=>[_(q,{justify:`space-between`,"no-gutters":``},{default:M(()=>[_(n,{"align-self":`center`,cols:`10`},{default:M(()=>[I(t.$slots,`default`)]),_:3}),_(n,{"align-self":`center`,cols:`2`,class:`text-grey pl-2`},{default:M(()=>[c(`small`,null,y(W(S).time(r.time)),1)]),_:1})]),_:3})]),_:3},8,[`dot-color`,`size`]))}}),he=J({__name:`EventPaiementV`,props:{paiement:{},user:{}},emits:[`edit`],setup(r,{emit:i}){let s=r,l=i;return(r,i)=>{let u=Q;return e(),d(u,{color:`#ad9726`,icon:`mdi-cash`,time:s.paiement.Time},{default:M(()=>[_(q,null,{default:M(()=>[_(n,{"align-self":`center`},{default:M(()=>[_(se,null,{default:M(()=>[o(y(s.paiement.IsRemboursement?`Remboursement`:`Paiement`)+` `,1),s.paiement.IsRemboursement?g(``,!0):(e(),a(t,{key:0},[i[1]||=o(` de `,-1),c(`i`,null,y(s.paiement.Payeur),1)],64)),i[2]||=o(` : `,-1),c(`b`,null,y(W(S).montant(s.paiement.Montant)),1)]),_:1}),_(ae,null,{default:M(()=>[o(y(s.paiement.Label),1)]),_:1})]),_:1}),_(n,{"align-self":`center`,cols:`auto`},{default:M(()=>[s.user==W(j).Backoffice||s.user==W(j).FondSoutien?(e(),d(x,{key:0,icon:`mdi-pencil`,size:`x-small`,onClick:i[0]||=e=>l(`edit`)})):g(``,!0)]),_:1})]),_:1})]),_:1},8,[`time`])}}}),ge=J({__name:`EventInscriptionTimeV`,props:{time:{}},setup(t){let n=t;return(t,r)=>(e(),d(Q,{color:`grey`,icon:`mdi-map-marker`,time:n.time},{default:M(()=>[...r[0]||=[o(` Demande d'inscription effectuée. `,-1)]]),_:1},8,[`time`]))}}),_e={style:{"white-space":`pre-wrap`}},ve=J({__name:`EventMessageV`,props:{event:{},content:{},user:{}},emits:[`delete`,`replyFondSoutien`],setup(t,{emit:r}){let i=t,a=r,l=k(()=>f(i.content.Message.Origine)),u=k(()=>i.user==j.Backoffice||i.user==j.FondSoutien&&h);function f(e){switch(e){case j.Backoffice:return`bg-light-green-lighten-3`;case j.FondSoutien:return`bg-yellow-darken-1`;case j.Directeur:return`bg-lime`;case j.Espaceperso:return`bg-light-blue-lighten-3`}}let p=N(!1),h=k(()=>i.content.Message.Origine==i.user);return(t,r)=>(e(),d(Q,{icon:h.value?`mdi-email-arrow-right`:`mdi-email-arrow-left`,color:`light-blue-darken-3`,time:i.event.Created,size:`x-large`},{default:M(()=>[_(q,{"no-gutters":``},{default:M(()=>[_(n,{"align-self":`center`},{default:M(()=>[_(m,{class:v(l.value)},{default:M(()=>[_(A,{class:`pa-2`},{default:M(()=>[c(`pre`,_e,y(i.content.Message.Contenu),1)]),_:1})]),_:1},8,[`class`])]),_:1}),_(n,{cols:`auto`,"align-self":`center`},{default:M(()=>[u.value?(e(),d(x,{key:0,icon:``,size:`x-small`,class:`ml-2`,onClick:r[0]||=e=>p.value=!0},{default:M(()=>[_(z,{color:`red`},{default:M(()=>[...r[4]||=[o(`mdi-delete`,-1)]]),_:1})]),_:1})):g(``,!0)]),_:1})]),_:1}),i.user==W(j).Espaceperso&&i.content.Message.Origine==W(j).FondSoutien?(e(),d(q,{key:0,"no-gutters":``,class:`mt-2`},{default:M(()=>[_(X),_(x,{size:`small`,onClick:r[1]||=e=>a(`replyFondSoutien`),"prepend-icon":`mdi-reply`},{default:M(()=>[...r[5]||=[o(` Répondre au fonds de soutien `,-1)]]),_:1})]),_:1})):g(``,!0),p.value?(e(),d(ce,{key:1,modelValue:p.value,"onUpdate:modelValue":r[3]||=e=>p.value=e,"max-width":`400px`},{default:M(()=>[_(m,{title:`Confirmation`},{default:M(()=>[_(A,null,{default:M(()=>[...r[6]||=[o(` Confirmez-vous la suppression de ce message ? `,-1),c(`br`,null,null,-1),c(`br`,null,null,-1),o(` Attention, cette opération est irréversible. `,-1)]]),_:1}),_(s,null,{default:M(()=>[_(X),_(x,{color:`red`,onClick:r[2]||=e=>a(`delete`)},{default:M(()=>[...r[7]||=[o(`Supprimer`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`modelValue`])):g(``,!0)]),_:1},8,[`icon`,`time`]))}}),ye=J({__name:`EventPlaceLibereeV`,props:{event:{},content:{},user:{}},emits:[`acceptPlaceLiberee`],setup(t,{emit:r}){let i=t,a=r;return(t,r)=>{let s=Q;return e(),d(s,{icon:`mdi-information-outline`,color:`yellow`,time:i.event.Created},{default:M(()=>[_(q,null,{default:M(()=>[_(n,{"align-self":`center`},{default:M(()=>[r[1]||=o(` Une place pour `,-1),c(`i`,null,y(i.content.ParticipantLabel),1),o(` s'est libérée sur le séjour `+y(i.content.CampLabel)+`. `,1)]),_:1}),_(n,{cols:`auto`,"align-self":`center`},{default:M(()=>[i.user==W(j).Espaceperso&&!i.content.Accepted?(e(),d(x,{key:0,size:`small`,color:`green`,onClick:r[0]||=e=>a(`acceptPlaceLiberee`),"prepend-icon":`mdi-check`},{default:M(()=>[...r[2]||=[o(` Accepter la place`,-1)]]),_:1})):g(``,!0),i.content.Accepted?(e(),d(oe,{key:1,"prepend-icon":`mdi-check`},{default:M(()=>[...r[3]||=[o(` Acceptée `,-1)]]),_:1})):g(``,!0)]),_:1})]),_:1})]),_:1},8,[`time`])}}}),be=J({__name:`EventSupprimeV`,props:{event:{},content:{}},setup(t){let n=t;return(t,r)=>{let i=Q;return e(),d(i,{color:`grey`,icon:`mdi-close`,time:n.event.Created,size:`small`},{default:M(()=>[...r[0]||=[o(` Message supprimé `,-1)]]),_:1},8,[`time`])}}}),$=J({__name:`EventValidationV`,props:{event:{},content:{},user:{}},emits:[`goToValidation`],setup(t,{emit:r}){let i=t,a=r;return(t,r)=>{let s=Q;return e(),d(s,{color:`green`,icon:`mdi-map-marker-check`,time:i.event.Created},{default:M(()=>[_(q,{"no-gutters":``},{default:M(()=>[_(n,{"align-self":`center`},{default:M(()=>[o(` Inscription reçue et confirmée `+y(i.content.ByCamp?`par la direction du séjour ${i.content.ByCamp}.`:`par le centre.`),1)]),_:1}),_(n,{"align-self":`center`,cols:`auto`},{default:M(()=>[i.user==W(j).Espaceperso?(e(),d(x,{key:0,icon:`mdi-information`,flat:``,class:`mr-2`,onClick:r[0]||=e=>a(`goToValidation`)})):g(``,!0)]),_:1})]),_:1})]),_:1},8,[`time`])}}}),xe={key:0},Se=J({__name:`EventFactureV`,props:{event:{},content:{}},setup(t){let n=t;return(t,r)=>{let i=Q;return e(),d(i,{color:`orange-darken-1`,icon:`mdi-invoice`,time:n.event.Created},{default:M(()=>[r[0]||=o(` Demande de règlement envoyée. `,-1),n.content.IsRappel?(e(),a(`i`,xe,`Il s'agit d'un rappel.`)):g(``,!0)]),_:1},8,[`time`])}}}),Ce=J({__name:`EventCampDocsV`,props:{event:{},content:{},user:{}},emits:[`goToDocuments`],setup(t,{emit:r}){let i=t,a=r;return(t,r)=>{let s=Q;return e(),d(s,{icon:`mdi-mail`,color:`light-blue`,time:i.event.Created},{default:M(()=>[_(q,null,{default:M(()=>[_(n,{"align-self":`center`},{default:M(()=>[r[1]||=o(` Les documents du séjour `,-1),c(`i`,null,y(i.content.CampLabel),1),r[2]||=o(` ont été envoyés. `,-1)]),_:1}),_(n,{"align-self":`center`,cols:`auto`},{default:M(()=>[i.user==W(j).Espaceperso?(e(),d(x,{key:0,size:`small`,onClick:r[0]||=e=>a(`goToDocuments`,i.content.IdCamp),class:`mr-2`},{default:M(()=>[...r[3]||=[o(` Lire `,-1)]]),_:1})):g(``,!0)]),_:1})]),_:1})]),_:1},8,[`time`])}}}),we=J({__name:`EventAttestationV`,props:{event:{},content:{}},setup(t){let n=t,r=k(()=>{switch(n.content.Distribution){case l.DEspacePerso:return`téléchargée depuis l'espace personnel`;case l.DMail:return`envoyée`;case l.DMailAndDownloaded:return`envoyée et téléchargée`}});return(t,i)=>{let a=Q;return e(),d(a,{icon:`mdi-invoice-check`,color:`light-green-darken-1`,time:n.event.Created},{default:M(()=>[i[0]||=o(` Une `,-1),c(`b`,null,y(n.content.IsPresence?`attestation de présence`:`facture acquittée`),1),o(` a été `+y(r.value)+`. `,1)]),_:1},8,[`time`])}}}),Te=J({__name:`EventSondageV`,props:{event:{},content:{},user:{}},emits:[`goToSondage`],setup(t,{emit:r}){let i=t,a=r;return(t,r)=>{let s=Q;return e(),d(s,{color:`purple`,icon:`mdi-comment-quote`,time:i.event.Created},{default:M(()=>[_(q,null,{default:M(()=>[_(n,{"align-self":`center`},{default:M(()=>[o(` Un sondage concernant le séjour `+y(i.content.CampLabel)+` a été envoyé. `,1)]),_:1}),_(n,{"align-self":`center`,cols:`auto`},{default:M(()=>[_(x,{size:`small`,onClick:r[0]||=e=>a(`goToSondage`,i.content.IdCamp)},{default:M(()=>[o(y(i.user==W(j).Espaceperso?`répondre`:`aller`),1)]),_:1})]),_:1})]),_:1})]),_:1},8,[`time`])}}}),Ee=J({__name:`EventSwitch`,props:{event:{}},emits:[`editPaiement`,`deleteMessage`,`goToSondage`,`goToDocuments`,`goToValidation`,`acceptPlaceLiberee`,`replyFondSoutien`],setup(t,{emit:n}){let r=t,i=n;return(t,n)=>{let a=ge,o=he;return r.event.Kind==`inscription-time`?(e(),d(a,{key:0,time:r.event.Time},null,8,[`time`])):r.event.Kind==`paiement`?(e(),d(o,{key:1,paiement:r.event.Paiement,user:r.event.User,onEdit:n[0]||=e=>i(`editPaiement`,r.event.Paiement)},null,8,[`paiement`,`user`])):r.event.Kind==`event`&&r.event.Event.Content.Kind==W(f).SupprimeEvt?(e(),d(be,{key:2,event:r.event.Event,content:r.event.Event.Content.Data},null,8,[`event`,`content`])):r.event.Kind==`event`&&r.event.Event.Content.Kind==W(f).ValidationEvt?(e(),d($,{key:3,event:r.event.Event,content:r.event.Event.Content.Data,user:r.event.User,onGoToValidation:n[1]||=e=>i(`goToValidation`)},null,8,[`event`,`content`,`user`])):r.event.Kind==`event`&&r.event.Event.Content.Kind==W(f).MessageEvt?(e(),d(ve,{key:4,event:r.event.Event,content:r.event.Event.Content.Data,user:r.event.User,onDelete:n[2]||=e=>i(`deleteMessage`,r.event.Event),onReplyFondSoutien:n[3]||=e=>i(`replyFondSoutien`)},null,8,[`event`,`content`,`user`])):r.event.Kind==`event`&&r.event.Event.Content.Kind==W(f).PlaceLibereeEvt?(e(),d(ye,{key:5,event:r.event.Event,content:r.event.Event.Content.Data,user:r.event.User,onAcceptPlaceLiberee:n[4]||=e=>i(`acceptPlaceLiberee`,r.event.Event.Id)},null,8,[`event`,`content`,`user`])):r.event.Kind==`event`&&r.event.Event.Content.Kind==W(f).FactureEvt?(e(),d(Se,{key:6,event:r.event.Event,content:r.event.Event.Content.Data},null,8,[`event`,`content`])):r.event.Kind==`event`&&r.event.Event.Content.Kind==W(f).CampDocsEvt?(e(),d(Ce,{key:7,event:r.event.Event,content:r.event.Event.Content.Data,user:r.event.User,onGoToDocuments:n[5]||=e=>i(`goToDocuments`,e)},null,8,[`event`,`content`,`user`])):r.event.Kind==`event`&&r.event.Event.Content.Kind==W(f).AttestationEvt?(e(),d(we,{key:8,event:r.event.Event,content:r.event.Event.Content.Data},null,8,[`event`,`content`])):r.event.Kind==`event`&&r.event.Event.Content.Kind==W(f).SondageEvt?(e(),d(Te,{key:9,event:r.event.Event,content:r.event.Event.Content.Data,user:r.event.User,onGoToSondage:n[6]||=e=>i(`goToSondage`,e)},null,8,[`event`,`content`,`user`])):g(``,!0)}}});export{pe as n,Ee as t};