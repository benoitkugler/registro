import{An as e,B as t,Bi as n,Ca as r,Cr as i,Dt as a,Ea as o,Er as s,Et as c,Fi as l,Gr as u,Ii as d,M as f,Mi as p,Mt as m,Ni as h,Nn as g,Nt as _,O as v,Ot as y,Pi as b,Pn as x,Ri as S,Sa as C,Sr as w,Ta as T,Tr as E,U as D,Ut as O,_a as k,at as A,ca as j,ea as M,fr as ee,gr as N,ha as P,hr as F,ht as I,it as L,ji as R,jt as z,k as B,mi as te,mt as ne,nr as re,ra as ie,rr as V,rt as H,ua as U,vt as W,ya as G,yt as K,z as q,zi as J,zt as Y}from"./VSnackbar-CJGaOJRg.js";import{b as ae,s as oe,x as X,y as se}from"./VSelect-Cz1h7iLA.js";import{t as ce}from"./VDialog-CM5aVLMh.js";const le=s({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:F,iconColor:String,lineColor:String,...E(),...c(),...L(),...W()},`VTimelineDivider`),ue=w()({name:`VTimelineDivider`,props:le(),setup(e,t){let{slots:n}=t,{sizeClasses:i,sizeStyles:o}=A(e,`v-timeline-divider__dot`),{backgroundColorStyles:s,backgroundColorClasses:c}=y(()=>e.dotColor),{roundedClasses:l}=a(e,`v-timeline-divider__dot`),{elevationClasses:u}=K(e),{backgroundColorClasses:d,backgroundColorStyles:f}=y(()=>e.lineColor);return N(()=>h(`div`,{class:r([`v-timeline-divider`,{"v-timeline-divider--fill-dot":e.fillDot},e.class]),style:T(e.style)},[h(`div`,{class:r([`v-timeline-divider__before`,d.value]),style:T(f.value)},null),!e.hideDot&&h(`div`,{key:`dot`,class:r([`v-timeline-divider__dot`,u.value,l.value,i.value]),style:T(o.value)},[h(`div`,{class:r([`v-timeline-divider__inner-dot`,c.value,l.value]),style:T(s.value)},[n.default?J(_,{key:`icon-defaults`,disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):J(H,{key:`icon`,color:e.iconColor,icon:e.icon,size:e.size},null)])]),h(`div`,{class:r([`v-timeline-divider__after`,d.value]),style:T(f.value)},null)])),{}}}),Z=s({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:F,iconColor:String,lineInset:[Number,String],side:{type:String,validator:e=>e==null||[`start`,`end`].includes(e)},...E(),...z(),...W(),...c(),...L(),...Y()},`VTimelineItem`),de=w()({name:`VTimelineItem`,props:Z(),setup(e,t){let{slots:n}=t,{dimensionStyles:i}=m(e),a=k(0),o=P();return j(o,e=>{e&&(a.value=e.$el.querySelector(`.v-timeline-divider__dot`)?.getBoundingClientRect().width??0)},{flush:`post`}),N(()=>h(`div`,{class:r([`v-timeline-item`,{"v-timeline-item--fill-dot":e.fillDot,"v-timeline-item--side-start":e.side===`start`,"v-timeline-item--side-end":e.side===`end`},e.class]),style:T([{"--v-timeline-dot-size":u(a.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${u(e.lineInset)})`:u(0)},e.style])},[h(`div`,{class:`v-timeline-item__body`,style:T(i.value)},[n.default?.()]),J(ue,{ref:o,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!==`compact`&&h(`div`,{class:`v-timeline-item__opposite`},[!e.hideOpposite&&n.opposite?.()])])),{}}}),fe=s({align:{type:String,default:`center`,validator:e=>[`center`,`start`].includes(e)},direction:{type:String,default:`vertical`,validator:e=>[`vertical`,`horizontal`].includes(e)},justify:{type:String,default:`auto`,validator:e=>[`auto`,`center`].includes(e)},side:{type:String,validator:e=>e==null||[`start`,`end`].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>[`start`,`end`,`both`].includes(e)},...te(Z({lineInset:0}),[`dotColor`,`fillDot`,`hideOpposite`,`iconColor`,`lineInset`,`size`]),...E(),...ne(),...Y(),...re()},`VTimeline`),pe=w()({name:`VTimeline`,props:fe(),setup(e,t){let{slots:n}=t,{themeClasses:a}=V(e),{densityClasses:o}=I(e),{rtlClasses:s}=ee();i({VTimelineDivider:{lineColor:G(()=>e.lineColor)},VTimelineItem:{density:G(()=>e.density),dotColor:G(()=>e.dotColor),fillDot:G(()=>e.fillDot),hideOpposite:G(()=>e.hideOpposite),iconColor:G(()=>e.iconColor),lineColor:G(()=>e.lineColor),lineInset:G(()=>e.lineInset),size:G(()=>e.size)}});let c=p(()=>{let t=e.side?e.side:e.density===`default`?null:`end`;return t&&`v-timeline--side-${t}`}),l=p(()=>{let t=[`v-timeline--truncate-line-start`,`v-timeline--truncate-line-end`];switch(e.truncateLine){case`both`:return t;case`start`:return t[0];case`end`:return t[1];default:return null}});return N(()=>J(e.tag,{class:r([`v-timeline`,`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,l.value,{"v-timeline--inset-line":!!e.lineInset},a.value,o.value,c.value,s.value,e.class]),style:T([{"--v-timeline-line-thickness":u(e.lineThickness)},e.style])},n)),{}}});var me={class:`ma-2`},Q=n({__name:`EventItem`,props:{color:{},icon:{},time:{},size:{}},setup(e){let n=e;return(e,r)=>(M(),b(de,{"dot-color":n.color,width:`100%`,size:n.size||`medium`,elevation:2},{icon:U(()=>[h(`div`,me,[J(H,{icon:n.icon},null,8,[`icon`])])]),default:U(()=>[J(q,{justify:`space-between`,"no-gutters":``},{default:U(()=>[J(t,{"align-self":`center`,cols:`10`},{default:U(()=>[ie(e.$slots,`default`)]),_:3}),J(t,{"align-self":`center`,cols:`2`,class:`text-grey pl-2`},{default:U(()=>[h(`small`,null,o(C(O).time(n.time)),1)]),_:1})]),_:3})]),_:3},8,[`dot-color`,`size`]))}}),he=n({__name:`EventPaiementV`,props:{paiement:{},user:{}},emits:[`edit`],setup(n,{emit:r}){let i=n,a=r;return(n,r)=>{let s=Q;return M(),b(s,{color:`#ad9726`,icon:`mdi-cash`,time:i.paiement.Time},{default:U(()=>[J(q,null,{default:U(()=>[J(t,{"align-self":`center`},{default:U(()=>[J(se,null,{default:U(()=>[S(o(i.paiement.IsRemboursement?`Remboursement`:`Paiement`)+` `,1),i.paiement.IsRemboursement?l(``,!0):(M(),d(R,{key:0},[r[1]||=S(` de `,-1),h(`i`,null,o(i.paiement.Payeur),1)],64)),r[2]||=S(` : `,-1),h(`b`,null,o(C(O).montant(i.paiement.Montant)),1)]),_:1}),J(ae,null,{default:U(()=>[S(o(i.paiement.Label),1)]),_:1})]),_:1}),J(t,{"align-self":`center`,cols:`auto`},{default:U(()=>[i.user==C(e).Backoffice||i.user==C(e).FondSoutien?(M(),b(D,{key:0,icon:`mdi-pencil`,size:`x-small`,onClick:r[0]||=e=>a(`edit`)})):l(``,!0)]),_:1})]),_:1})]),_:1},8,[`time`])}}}),ge=n({__name:`EventInscriptionTimeV`,props:{time:{}},setup(e){let t=e;return(e,n)=>(M(),b(Q,{color:`grey`,icon:`mdi-map-marker`,time:t.time},{default:U(()=>[...n[0]||=[S(` Demande d'inscription effectuée. `,-1)]]),_:1},8,[`time`]))}}),_e={style:{"white-space":`pre-wrap`}},ve=n({__name:`EventMessageV`,props:{event:{},content:{},user:{}},emits:[`delete`,`replyFondSoutien`],setup(n,{emit:i}){let a=n,s=i,c=p(()=>d(a.content.Message.Origine)),u=p(()=>a.user==e.Backoffice||a.user==e.FondSoutien&&g);function d(t){switch(t){case e.Backoffice:return`bg-light-green-lighten-3`;case e.FondSoutien:return`bg-yellow-darken-1`;case e.Directeur:return`bg-lime`;case e.Espaceperso:return`bg-light-blue-lighten-3`}}let m=P(!1),g=p(()=>a.content.Message.Origine==a.user);return(n,i)=>(M(),b(Q,{icon:g.value?`mdi-email-arrow-right`:`mdi-email-arrow-left`,color:`light-blue-darken-3`,time:a.event.Created,size:`x-large`},{default:U(()=>[J(q,{"no-gutters":``},{default:U(()=>[J(t,{"align-self":`center`},{default:U(()=>[J(v,{class:r(c.value)},{default:U(()=>[J(B,{class:`pa-2`},{default:U(()=>[h(`pre`,_e,o(a.content.Message.Contenu),1)]),_:1})]),_:1},8,[`class`])]),_:1}),J(t,{cols:`auto`,"align-self":`center`},{default:U(()=>[u.value?(M(),b(D,{key:0,icon:``,size:`x-small`,class:`ml-2`,onClick:i[0]||=e=>m.value=!0},{default:U(()=>[J(H,{color:`red`},{default:U(()=>[...i[4]||=[S(`mdi-delete`,-1)]]),_:1})]),_:1})):l(``,!0)]),_:1})]),_:1}),a.user==C(e).Espaceperso&&a.content.Message.Origine==C(e).FondSoutien?(M(),b(q,{key:0,"no-gutters":``,class:`mt-2`},{default:U(()=>[J(X),J(D,{size:`small`,onClick:i[1]||=e=>s(`replyFondSoutien`),"prepend-icon":`mdi-reply`},{default:U(()=>[...i[5]||=[S(` Répondre au fonds de soutien `,-1)]]),_:1})]),_:1})):l(``,!0),m.value?(M(),b(ce,{key:1,modelValue:m.value,"onUpdate:modelValue":i[3]||=e=>m.value=e,"max-width":`400px`},{default:U(()=>[J(v,{title:`Confirmation`},{default:U(()=>[J(B,null,{default:U(()=>[...i[6]||=[S(` Confirmez-vous la suppression de ce message ? `,-1),h(`br`,null,null,-1),h(`br`,null,null,-1),S(` Attention, cette opération est irréversible. `,-1)]]),_:1}),J(f,null,{default:U(()=>[J(X),J(D,{color:`red`,onClick:i[2]||=e=>s(`delete`)},{default:U(()=>[...i[7]||=[S(`Supprimer`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`modelValue`])):l(``,!0)]),_:1},8,[`icon`,`time`]))}}),ye=n({__name:`EventPlaceLibereeV`,props:{event:{},content:{},user:{}},emits:[`acceptPlaceLiberee`],setup(n,{emit:r}){let i=n,a=r;return(n,r)=>{let s=Q;return M(),b(s,{icon:`mdi-information-outline`,color:`yellow`,time:i.event.Created},{default:U(()=>[J(q,null,{default:U(()=>[J(t,{"align-self":`center`},{default:U(()=>[r[1]||=S(` Une place pour `,-1),h(`i`,null,o(i.content.ParticipantLabel),1),S(` s'est libérée sur le séjour `+o(i.content.CampLabel)+`. `,1)]),_:1}),J(t,{cols:`auto`,"align-self":`center`},{default:U(()=>[i.user==C(e).Espaceperso&&!i.content.Accepted?(M(),b(D,{key:0,size:`small`,color:`green`,onClick:r[0]||=e=>a(`acceptPlaceLiberee`),"prepend-icon":`mdi-check`},{default:U(()=>[...r[2]||=[S(` Accepter la place`,-1)]]),_:1})):l(``,!0),i.content.Accepted?(M(),b(oe,{key:1,"prepend-icon":`mdi-check`},{default:U(()=>[...r[3]||=[S(` Acceptée `,-1)]]),_:1})):l(``,!0)]),_:1})]),_:1})]),_:1},8,[`time`])}}}),be=n({__name:`EventSupprimeV`,props:{event:{},content:{}},setup(e){let t=e;return(e,n)=>{let r=Q;return M(),b(r,{color:`grey`,icon:`mdi-close`,time:t.event.Created,size:`small`},{default:U(()=>[...n[0]||=[S(` Message supprimé `,-1)]]),_:1},8,[`time`])}}}),$=n({__name:`EventValidationV`,props:{event:{},content:{},user:{}},emits:[`goToValidation`],setup(n,{emit:r}){let i=n,a=r;return(n,r)=>{let s=Q;return M(),b(s,{color:`green`,icon:`mdi-map-marker-check`,time:i.event.Created},{default:U(()=>[J(q,{"no-gutters":``},{default:U(()=>[J(t,{"align-self":`center`},{default:U(()=>[S(` Inscription reçue et confirmée `+o(i.content.ByCamp?`par la direction du séjour ${i.content.ByCamp}.`:`par le centre.`),1)]),_:1}),J(t,{"align-self":`center`,cols:`auto`},{default:U(()=>[i.user==C(e).Espaceperso?(M(),b(D,{key:0,icon:`mdi-information`,flat:``,class:`mr-2`,onClick:r[0]||=e=>a(`goToValidation`)})):l(``,!0)]),_:1})]),_:1})]),_:1},8,[`time`])}}}),xe={key:0},Se=n({__name:`EventFactureV`,props:{event:{},content:{}},setup(e){let t=e;return(e,n)=>{let r=Q;return M(),b(r,{color:`orange-darken-1`,icon:`mdi-invoice`,time:t.event.Created},{default:U(()=>[n[0]||=S(` Demande de règlement envoyée. `,-1),t.content.IsRappel?(M(),d(`i`,xe,`Il s'agit d'un rappel.`)):l(``,!0)]),_:1},8,[`time`])}}}),Ce=n({__name:`EventCampDocsV`,props:{event:{},content:{},user:{}},emits:[`goToDocuments`],setup(n,{emit:r}){let i=n,a=r;return(n,r)=>{let s=Q;return M(),b(s,{icon:`mdi-mail`,color:`light-blue`,time:i.event.Created},{default:U(()=>[J(q,null,{default:U(()=>[J(t,{"align-self":`center`},{default:U(()=>[r[1]||=S(` Les documents du séjour `,-1),h(`i`,null,o(i.content.CampLabel),1),r[2]||=S(` ont été envoyés. `,-1)]),_:1}),J(t,{"align-self":`center`,cols:`auto`},{default:U(()=>[i.user==C(e).Espaceperso?(M(),b(D,{key:0,size:`small`,onClick:r[0]||=e=>a(`goToDocuments`,i.content.IdCamp),class:`mr-2`},{default:U(()=>[...r[3]||=[S(` Lire `,-1)]]),_:1})):l(``,!0)]),_:1})]),_:1})]),_:1},8,[`time`])}}}),we=n({__name:`EventAttestationV`,props:{event:{},content:{}},setup(e){let t=e,n=p(()=>{switch(t.content.Distribution){case g.DEspacePerso:return`téléchargée depuis l'espace personnel`;case g.DMail:return`envoyée`;case g.DMailAndDownloaded:return`envoyée et téléchargée`}});return(e,r)=>{let i=Q;return M(),b(i,{icon:`mdi-invoice-check`,color:`light-green-darken-1`,time:t.event.Created},{default:U(()=>[r[0]||=S(` Une `,-1),h(`b`,null,o(t.content.IsPresence?`attestation de présence`:`facture acquittée`),1),S(` a été `+o(n.value)+`. `,1)]),_:1},8,[`time`])}}}),Te=n({__name:`EventSondageV`,props:{event:{},content:{},user:{}},emits:[`goToSondage`],setup(n,{emit:r}){let i=n,a=r;return(n,r)=>{let s=Q;return M(),b(s,{color:`purple`,icon:`mdi-comment-quote`,time:i.event.Created},{default:U(()=>[J(q,null,{default:U(()=>[J(t,{"align-self":`center`},{default:U(()=>[S(` Un sondage concernant le séjour `+o(i.content.CampLabel)+` a été envoyé. `,1)]),_:1}),J(t,{"align-self":`center`,cols:`auto`},{default:U(()=>[J(D,{size:`small`,onClick:r[0]||=e=>a(`goToSondage`,i.content.IdCamp)},{default:U(()=>[S(o(i.user==C(e).Espaceperso?`répondre`:`aller`),1)]),_:1})]),_:1})]),_:1})]),_:1},8,[`time`])}}}),Ee=n({__name:`EventSwitch`,props:{event:{}},emits:[`editPaiement`,`deleteMessage`,`goToSondage`,`goToDocuments`,`goToValidation`,`acceptPlaceLiberee`,`replyFondSoutien`],setup(e,{emit:t}){let n=e,r=t;return(e,t)=>{let i=ge,a=he;return n.event.Kind==`inscription-time`?(M(),b(i,{key:0,time:n.event.Time},null,8,[`time`])):n.event.Kind==`paiement`?(M(),b(a,{key:1,paiement:n.event.Paiement,user:n.event.User,onEdit:t[0]||=e=>r(`editPaiement`,n.event.Paiement)},null,8,[`paiement`,`user`])):n.event.Kind==`event`&&n.event.Event.Content.Kind==C(x).SupprimeEvt?(M(),b(be,{key:2,event:n.event.Event,content:n.event.Event.Content.Data},null,8,[`event`,`content`])):n.event.Kind==`event`&&n.event.Event.Content.Kind==C(x).ValidationEvt?(M(),b($,{key:3,event:n.event.Event,content:n.event.Event.Content.Data,user:n.event.User,onGoToValidation:t[1]||=e=>r(`goToValidation`)},null,8,[`event`,`content`,`user`])):n.event.Kind==`event`&&n.event.Event.Content.Kind==C(x).MessageEvt?(M(),b(ve,{key:4,event:n.event.Event,content:n.event.Event.Content.Data,user:n.event.User,onDelete:t[2]||=e=>r(`deleteMessage`,n.event.Event),onReplyFondSoutien:t[3]||=e=>r(`replyFondSoutien`)},null,8,[`event`,`content`,`user`])):n.event.Kind==`event`&&n.event.Event.Content.Kind==C(x).PlaceLibereeEvt?(M(),b(ye,{key:5,event:n.event.Event,content:n.event.Event.Content.Data,user:n.event.User,onAcceptPlaceLiberee:t[4]||=e=>r(`acceptPlaceLiberee`,n.event.Event.Id)},null,8,[`event`,`content`,`user`])):n.event.Kind==`event`&&n.event.Event.Content.Kind==C(x).FactureEvt?(M(),b(Se,{key:6,event:n.event.Event,content:n.event.Event.Content.Data},null,8,[`event`,`content`])):n.event.Kind==`event`&&n.event.Event.Content.Kind==C(x).CampDocsEvt?(M(),b(Ce,{key:7,event:n.event.Event,content:n.event.Event.Content.Data,user:n.event.User,onGoToDocuments:t[5]||=e=>r(`goToDocuments`,e)},null,8,[`event`,`content`,`user`])):n.event.Kind==`event`&&n.event.Event.Content.Kind==C(x).AttestationEvt?(M(),b(we,{key:8,event:n.event.Event,content:n.event.Event.Content.Data},null,8,[`event`,`content`])):n.event.Kind==`event`&&n.event.Event.Content.Kind==C(x).SondageEvt?(M(),b(Te,{key:9,event:n.event.Event,content:n.event.Event.Content.Data,user:n.event.User,onGoToSondage:t[6]||=e=>r(`goToSondage`,e)},null,8,[`event`,`content`,`user`])):l(``,!0)}}});export{pe as n,Ee as t};