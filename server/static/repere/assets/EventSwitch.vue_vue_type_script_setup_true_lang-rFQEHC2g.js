import{d as k,x as Z,y as ee,aa as te,aj as U,z as r,o as a,g as D,w as i,b as l,a5 as V,h as g,n as ne,a3 as m,ai as ie,A as K,B as L,cJ as oe,H as A,c1 as le,c0 as se,D as M,j as p,K as T,G as I,a8 as F,J as ae,az as h,ax as q,ay as G,aB as R,I as J,cK as re,Q as ue,k as H,S as de,E as w,aw as Q,cL as ce,aq as me,bh as ve,a0 as fe,as as pe,R as E,c as z,av as Ce,aA as ge,bS as ye,r as _e,t as _,a7 as W,e as d,a as X,F as ke,aV as y,s as $,l as j,m as N,u as Ve,cM as B,cN as S}from"./VSnackbar-FKlz10mE.js";import{g as be,j as Ee,k as De,b as O,f as Se}from"./VTextarea-76jPttdg.js";import{V as Te}from"./VDialog-DBe26Dys.js";const Je=k({__name:"MontantField",props:Z({label:{},hideDetails:{type:Boolean},readonlyCurrency:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const o=t,e=ee(t,"modelValue"),s=te(U);return(c,n)=>(a(),r(D,{"no-gutters":""},{default:i(()=>[l(g,{cols:o.readonlyCurrency?12:6},{default:i(()=>[l(ne,{class:"mr-1",variant:"outlined",density:"compact","hide-details":o.hideDetails,label:o.label,type:"number",disabled:o.disabled,"model-value":e.value.Cent/100,"onUpdate:modelValue":n[0]||(n[0]=u=>e.value={Cent:m(ie)(Number(u)*100),Currency:e.value.Currency}),suffix:o.readonlyCurrency?m(U)[e.value.Currency]:void 0},null,8,["hide-details","label","disabled","model-value","suffix"])]),_:1},8,["cols"]),o.readonlyCurrency?V("",!0):(a(),r(g,{key:0,cols:"6"},{default:i(()=>[l(be,{label:"Monnaie",variant:"outlined",density:"compact",disabled:o.disabled,items:m(s),"model-value":e.value.Currency,"hide-details":o.hideDetails,"onUpdate:modelValue":n[1]||(n[1]=u=>e.value={Cent:e.value.Cent,Currency:u})},null,8,["disabled","items","model-value","hide-details"])]),_:1}))]),_:1}))}}),Ie=L({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:J,iconColor:String,lineColor:String,...R(),...G(),...q(),...h()},"VTimelineDivider"),$e=K()({name:"VTimelineDivider",props:Ie(),setup(t,o){let{slots:e}=o;const{sizeClasses:s,sizeStyles:c}=oe(t,"v-timeline-divider__dot"),{backgroundColorStyles:n,backgroundColorClasses:u}=A(()=>t.dotColor),{roundedClasses:C}=le(t,"v-timeline-divider__dot"),{elevationClasses:v}=se(t),{backgroundColorClasses:P,backgroundColorStyles:f}=A(()=>t.lineColor);return M(()=>p("div",{class:I(["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class]),style:T(t.style)},[p("div",{class:I(["v-timeline-divider__before",P.value]),style:T(f.value)},null),!t.hideDot&&p("div",{key:"dot",class:I(["v-timeline-divider__dot",v.value,C.value,s.value]),style:T(c.value)},[p("div",{class:I(["v-timeline-divider__inner-dot",u.value,C.value]),style:T(n.value)},[e.default?l(ae,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},e.default):l(F,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),p("div",{class:I(["v-timeline-divider__after",P.value]),style:T(f.value)},null)])),{}}}),Y=L({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:J,iconColor:String,lineInset:[Number,String],side:{type:String,validator:t=>t==null||["start","end"].includes(t)},...R(),...ce(),...h(),...G(),...q(),...Q()},"VTimelineItem"),ze=K()({name:"VTimelineItem",props:Y(),setup(t,o){let{slots:e}=o;const{dimensionStyles:s}=re(t),c=ue(0),n=H();return de(n,u=>{u&&(c.value=u.$el.querySelector(".v-timeline-divider__dot")?.getBoundingClientRect().width??0)},{flush:"post"}),M(()=>p("div",{class:I(["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot,"v-timeline-item--side-start":t.side==="start","v-timeline-item--side-end":t.side==="end"},t.class]),style:T([{"--v-timeline-dot-size":w(c.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${w(t.lineInset)})`:w(0)},t.style])},[p("div",{class:"v-timeline-item__body",style:T(s.value)},[e.default?.()]),l($e,{ref:n,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:e.icon}),t.density!=="compact"&&p("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&e.opposite?.()])])),{}}}),Pe=L({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...ye(Y({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...R(),...ge(),...Q(),...Ce()},"VTimeline"),He=K()({name:"VTimeline",props:Pe(),setup(t,o){let{slots:e}=o;const{themeClasses:s}=me(t),{densityClasses:c}=ve(t),{rtlClasses:n}=fe();pe({VTimelineDivider:{lineColor:E(()=>t.lineColor)},VTimelineItem:{density:E(()=>t.density),dotColor:E(()=>t.dotColor),fillDot:E(()=>t.fillDot),hideOpposite:E(()=>t.hideOpposite),iconColor:E(()=>t.iconColor),lineColor:E(()=>t.lineColor),lineInset:E(()=>t.lineInset),size:E(()=>t.size)}});const u=z(()=>{const v=t.side?t.side:t.density!=="default"?"end":null;return v&&`v-timeline--side-${v}`}),C=z(()=>{const v=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return v;case"start":return v[0];case"end":return v[1];default:return null}});return M(()=>l(t.tag,{class:I(["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,C.value,{"v-timeline--inset-line":!!t.lineInset},s.value,c.value,u.value,n.value,t.class]),style:T([{"--v-timeline-line-thickness":w(t.lineThickness)},t.style])},e)),{}}}),xe={class:"ma-2"},b=k({__name:"EventItem",props:{color:{},icon:{},time:{},size:{}},setup(t){const o=t;return(e,s)=>(a(),r(ze,{"dot-color":o.color,width:"100%",size:o.size||"medium",elevation:2},{icon:i(()=>[p("div",xe,[l(F,{icon:o.icon},null,8,["icon"])])]),default:i(()=>[l(D,{justify:"space-between","no-gutters":""},{default:i(()=>[l(g,{"align-self":"center",cols:"10"},{default:i(()=>[_e(e.$slots,"default")]),_:3}),l(g,{"align-self":"center",cols:"2",class:"text-grey pl-2"},{default:i(()=>[p("small",null,_(m(W).time(o.time)),1)]),_:1})]),_:3})]),_:3},8,["dot-color","size"]))}}),we=k({__name:"EventPaiementV",props:{paiement:{},user:{}},emits:["edit"],setup(t,{emit:o}){const e=t,s=o;return(c,n)=>{const u=b;return a(),r(u,{color:"#ad9726",icon:"mdi-cash",time:e.paiement.Time},{default:i(()=>[l(D,null,{default:i(()=>[l(g,{"align-self":"center"},{default:i(()=>[l(Ee,null,{default:i(()=>[d(_(e.paiement.IsRemboursement?"Remboursement":"Paiement")+" ",1),e.paiement.IsRemboursement?V("",!0):(a(),X(ke,{key:0},[n[1]||(n[1]=d(" de ",-1)),p("i",null,_(e.paiement.Payeur),1)],64)),n[2]||(n[2]=d(" : ",-1)),p("b",null,_(m(W).montant(e.paiement.Montant)),1)]),_:1}),l(De,null,{default:i(()=>[d(_(e.paiement.Label),1)]),_:1})]),_:1}),l(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==m(y).Backoffice||e.user==m(y).FondSoutien?(a(),r($,{key:0,icon:"mdi-pencil",size:"x-small",onClick:n[0]||(n[0]=C=>s("edit"))})):V("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Be=k({__name:"EventInscriptionTimeV",props:{time:{}},setup(t){const o=t;return(e,s)=>(a(),r(b,{color:"grey",icon:"mdi-map-marker",time:o.time},{default:i(()=>[...s[0]||(s[0]=[d(" Demande d'inscription effectuée. ",-1)])]),_:1},8,["time"]))}}),Ke={style:{"white-space":"pre-wrap"}},Le=k({__name:"EventMessageV",props:{event:{},content:{},user:{}},emits:["delete","replyFondSoutien"],setup(t,{emit:o}){const e=t,s=o,c=z(()=>u(e.content.Message.Origine)),n=z(()=>e.user==y.Backoffice||e.user==y.FondSoutien&&v);function u(P){switch(P){case y.Backoffice:return"bg-light-green-lighten-3";case y.FondSoutien:return"bg-yellow-darken-1";case y.Directeur:return"bg-lime";case y.Espaceperso:return"bg-light-blue-lighten-3"}}const C=H(!1),v=z(()=>e.content.Message.Origine==e.user);return(P,f)=>(a(),r(b,{icon:v.value?"mdi-email-arrow-right":"mdi-email-arrow-left",color:"light-blue-darken-3",time:e.event.Created,size:"x-large"},{default:i(()=>[l(D,{"no-gutters":""},{default:i(()=>[l(g,{"align-self":"center"},{default:i(()=>[l(j,{class:I(c.value)},{default:i(()=>[l(N,{class:"pa-2"},{default:i(()=>[p("pre",Ke,_(e.content.Message.Contenu),1)]),_:1})]),_:1},8,["class"])]),_:1}),l(g,{cols:"auto","align-self":"center"},{default:i(()=>[n.value?(a(),r($,{key:0,icon:"",size:"x-small",class:"ml-2",onClick:f[0]||(f[0]=x=>C.value=!0)},{default:i(()=>[l(F,{color:"red"},{default:i(()=>[...f[4]||(f[4]=[d("mdi-delete",-1)])]),_:1})]),_:1})):V("",!0)]),_:1})]),_:1}),e.user==m(y).Espaceperso&&e.content.Message.Origine==m(y).FondSoutien?(a(),r(D,{key:0,"no-gutters":"",class:"mt-2"},{default:i(()=>[l(O),l($,{size:"small",onClick:f[1]||(f[1]=x=>s("replyFondSoutien")),"prepend-icon":"mdi-reply"},{default:i(()=>[...f[5]||(f[5]=[d(" Répondre au fonds de soutien ",-1)])]),_:1})]),_:1})):V("",!0),C.value?(a(),r(Te,{key:1,modelValue:C.value,"onUpdate:modelValue":f[3]||(f[3]=x=>C.value=x),"max-width":"400px"},{default:i(()=>[l(j,{title:"Confirmation"},{default:i(()=>[l(N,null,{default:i(()=>[...f[6]||(f[6]=[d(" Confirmez-vous la suppression de ce message ? ",-1),p("br",null,null,-1),p("br",null,null,-1),d(" Attention, cette opération est irréversible. ",-1)])]),_:1}),l(Ve,null,{default:i(()=>[l(O),l($,{color:"red",onClick:f[2]||(f[2]=x=>s("delete"))},{default:i(()=>[...f[7]||(f[7]=[d("Supprimer",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):V("",!0)]),_:1},8,["icon","time"]))}}),Me=k({__name:"EventPlaceLibereeV",props:{event:{},content:{},user:{}},emits:["acceptPlaceLiberee"],setup(t,{emit:o}){const e=t,s=o;return(c,n)=>{const u=b;return a(),r(u,{icon:"mdi-information-outline",color:"yellow",time:e.event.Created},{default:i(()=>[l(D,null,{default:i(()=>[l(g,{"align-self":"center"},{default:i(()=>[n[1]||(n[1]=d(" Une place pour ",-1)),p("i",null,_(e.content.ParticipantLabel),1),d(" s'est libérée sur le séjour "+_(e.content.CampLabel)+". ",1)]),_:1}),l(g,{cols:"auto","align-self":"center"},{default:i(()=>[e.user==m(y).Espaceperso&&!e.content.Accepted?(a(),r($,{key:0,size:"small",color:"green",onClick:n[0]||(n[0]=C=>s("acceptPlaceLiberee")),"prepend-icon":"mdi-check"},{default:i(()=>[...n[2]||(n[2]=[d(" Accepter la place",-1)])]),_:1})):V("",!0),e.content.Accepted?(a(),r(Se,{key:1,"prepend-icon":"mdi-check"},{default:i(()=>[...n[3]||(n[3]=[d(" Acceptée ",-1)])]),_:1})):V("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Fe=k({__name:"EventSupprimeV",props:{event:{},content:{}},setup(t){const o=t;return(e,s)=>{const c=b;return a(),r(c,{color:"grey",icon:"mdi-close",time:o.event.Created,size:"small"},{default:i(()=>[...s[0]||(s[0]=[d(" Message supprimé ",-1)])]),_:1},8,["time"])}}}),Re=k({__name:"EventValidationV",props:{event:{},content:{},user:{}},emits:["goToValidation"],setup(t,{emit:o}){const e=t,s=o;return(c,n)=>{const u=b;return a(),r(u,{color:"green",icon:"mdi-map-marker-check",time:e.event.Created},{default:i(()=>[l(D,{"no-gutters":""},{default:i(()=>[l(g,{"align-self":"center"},{default:i(()=>[d(" Inscription reçue et confirmée "+_(e.content.ByCamp?`par la direction du séjour ${e.content.ByCamp}.`:"par le centre."),1)]),_:1}),l(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==m(y).Espaceperso?(a(),r($,{key:0,icon:"mdi-information",flat:"",class:"mr-2",onClick:n[0]||(n[0]=C=>s("goToValidation"))})):V("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Ue={key:0},Ae=k({__name:"EventFactureV",props:{event:{},content:{}},setup(t){const o=t;return(e,s)=>{const c=b;return a(),r(c,{color:"orange-darken-1",icon:"mdi-invoice",time:o.event.Created},{default:i(()=>[s[0]||(s[0]=d(" Demande de règlement envoyée. ",-1)),o.content.IsRappel?(a(),X("i",Ue,"Il s'agit d'un rappel.")):V("",!0)]),_:1},8,["time"])}}}),je=k({__name:"EventCampDocsV",props:{event:{},content:{},user:{}},emits:["goToDocuments"],setup(t,{emit:o}){const e=t,s=o;return(c,n)=>{const u=b;return a(),r(u,{icon:"mdi-mail",color:"light-blue",time:e.event.Created},{default:i(()=>[l(D,null,{default:i(()=>[l(g,{"align-self":"center"},{default:i(()=>[n[1]||(n[1]=d(" Les documents du séjour ",-1)),p("i",null,_(e.content.CampLabel),1),n[2]||(n[2]=d(" ont été envoyés. ",-1))]),_:1}),l(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==m(y).Espaceperso?(a(),r($,{key:0,size:"small",onClick:n[0]||(n[0]=C=>s("goToDocuments",e.content.IdCamp)),class:"mr-2"},{default:i(()=>[...n[3]||(n[3]=[d(" Lire ",-1)])]),_:1})):V("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Ne=k({__name:"EventAttestationV",props:{event:{},content:{}},setup(t){const o=t,e=z(()=>{switch(o.content.Distribution){case B.DEspacePerso:return"téléchargée depuis l'espace personnel";case B.DMail:return"envoyée";case B.DMailAndDownloaded:return"envoyée et téléchargée"}});return(s,c)=>{const n=b;return a(),r(n,{icon:"mdi-invoice-check",color:"light-green-darken-1",time:o.event.Created},{default:i(()=>[c[0]||(c[0]=d(" Une ",-1)),p("b",null,_(o.content.IsPresence?"attestation de présence":"facture acquittée"),1),d(" a été "+_(e.value)+". ",1)]),_:1},8,["time"])}}}),Oe=k({__name:"EventSondageV",props:{event:{},content:{},user:{}},emits:["goToSondage"],setup(t,{emit:o}){const e=t,s=o;return(c,n)=>{const u=b;return a(),r(u,{color:"purple",icon:"mdi-comment-quote",time:e.event.Created},{default:i(()=>[l(D,null,{default:i(()=>[l(g,{"align-self":"center"},{default:i(()=>[d(" Un sondage concernant le séjour "+_(e.content.CampLabel)+" a été envoyé. ",1)]),_:1}),l(g,{"align-self":"center",cols:"auto"},{default:i(()=>[l($,{size:"small",onClick:n[0]||(n[0]=C=>s("goToSondage",e.content.IdCamp))},{default:i(()=>[d(_(e.user==m(y).Espaceperso?"répondre":"aller"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["time"])}}}),Qe=k({__name:"EventSwitch",props:{event:{}},emits:["editPaiement","deleteMessage","goToSondage","goToDocuments","goToValidation","acceptPlaceLiberee","replyFondSoutien"],setup(t,{emit:o}){const e=t,s=o;return(c,n)=>{const u=Be,C=we;return e.event.Kind=="inscription-time"?(a(),r(u,{key:0,time:e.event.Time},null,8,["time"])):e.event.Kind=="paiement"?(a(),r(C,{key:1,paiement:e.event.Paiement,user:e.event.User,onEdit:n[0]||(n[0]=v=>s("editPaiement",e.event.Paiement))},null,8,["paiement","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==m(S).Supprime?(a(),r(Fe,{key:2,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==m(S).Validation?(a(),r(Re,{key:3,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToValidation:n[1]||(n[1]=v=>s("goToValidation"))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==m(S).Message?(a(),r(Le,{key:4,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onDelete:n[2]||(n[2]=v=>s("deleteMessage",e.event.Event)),onReplyFondSoutien:n[3]||(n[3]=v=>s("replyFondSoutien"))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==m(S).PlaceLiberee?(a(),r(Me,{key:5,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onAcceptPlaceLiberee:n[4]||(n[4]=v=>s("acceptPlaceLiberee",e.event.Event.Id))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==m(S).Facture?(a(),r(Ae,{key:6,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==m(S).CampDocs?(a(),r(je,{key:7,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToDocuments:n[5]||(n[5]=v=>s("goToDocuments",v))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==m(S).Attestation?(a(),r(Ne,{key:8,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==m(S).Sondage?(a(),r(Oe,{key:9,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToSondage:n[6]||(n[6]=v=>s("goToSondage",v))},null,8,["event","content","user"])):V("",!0)}}});export{He as V,Je as _,Qe as a};
