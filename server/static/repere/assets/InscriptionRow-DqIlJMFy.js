import{$ as e,$n as t,An as n,B as r,Bi as i,Bn as a,Bt as o,Ca as s,Cr as c,Dt as l,Ea as u,Er as d,Et as f,F as p,Fi as m,Gi as h,Gn as g,Gr as _,Gt as v,Hn as y,I as b,Ii as x,In as ee,J as S,Jn as C,Jr as te,Jt as ne,Ki as re,Kt as w,L as ie,Ln as T,Lt as E,M as D,Mi as O,N as ae,Ni as k,Nt as oe,O as A,Ot as se,P as j,Pi as M,Q as ce,Qi as N,R as le,Ri as P,Rr as ue,Sa as F,Sr as de,St as fe,T as pe,Ta as me,Ti as he,Tr as ge,U as I,Ur as _e,Ut as L,V as ve,Wi as ye,Wr as be,Xn as xe,Xr as Se,Yi as Ce,Yn as R,Z as z,_ as we,_a as B,_i as Te,_t as Ee,aa as De,b as Oe,bt as ke,ca as V,d as Ae,di as je,dr as Me,ea as H,en as Ne,er as Pe,f as Fe,fa as Ie,fi as Le,fr as Re,g as ze,gr as Be,ha as U,ji as W,k as G,kn as Ve,kt as He,la as Ue,ln as We,ma as Ge,mr as Ke,na as qe,nn as Je,nr as Ye,nt as Xe,oa as Ze,or as Qe,pi as $e,pr as et,qn as tt,ra as nt,rr as rt,rt as K,sn as it,sr as at,u as ot,ua as q,vi as st,vt as ct,w as lt,wa as ut,xi as dt,xt as ft,ya as pt,yr as mt,yt as ht,z as J,zi as Y,zr as gt,zt as _t}from"./VSnackbar-CJGaOJRg.js";import{S as vt,_ as yt,a as bt,d as xt,f as St,g as Ct,i as wt,m as Tt,n as Et,o as Dt,p as Ot,r as kt,s as X,t as At,v as Z,x as Q}from"./VSelect-Cz1h7iLA.js";import{a as jt}from"./VTabs-C5CLGXwg.js";import{t as Mt}from"./VBadge-Cwt4_7Zi.js";import{t as Nt}from"./VDialog-CM5aVLMh.js";import{t as Pt}from"./VTooltip-Bqe4Tpx1.js";import{n as Ft,r as It,t as Lt}from"./filter-u9RSBvBk.js";import{t as Rt}from"./VTextarea-DC8GD60_.js";import{t as zt}from"./VAlert-CoEQ2zHY.js";import{t as Bt}from"./VForm-B-rx05Ha.js";const Vt=new class extends Ve{constructor(e,t,n,r,i){super(r,i),this.onError=e,this.showMessage=t,this.isFondsSoutien=n}hasToken(){return this.authToken!=``}setToken(e,t){this.authToken=e,this.isFondsSoutien=t}handleError(e){let{kind:t,messageHtml:n}=Je(e);this.onError(t,n)}startRequest(){}}((e,t)=>{},(e,t)=>{},!1,w(),``);function Ht(e){return e.Camp.Statut!=g.Ferme&&!e.IsTerminated}function Ut(){return{Pattern:``,IdCamp:{Valid:!1,Id:0},Attente:a.EmptyQA,Reglement:y.EmptyQR,SortByNewMessages:!1,OnlyFondSoutien:!1}}function Wt(e){let t=Ut();return t.Pattern=`id:${e}`,t}let Gt;(function(e){function t(){return window.localStorage.getItem(`cachedTokenBackoffice`)||``}e.get=t;function n(e){window.localStorage.setItem(`cachedTokenBackoffice`,e)}e.set=n;function r(){window.localStorage.removeItem(`cachedTokenBackoffice`)}e.clear=r})(Gt||={});function Kt(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e,i=B(!1),a=B(0),o=O(()=>{let e=typeof i.value==`boolean`?`top`:i.value;return[n.value?{top:`auto`,bottom:`auto`,height:void 0}:void 0,i.value?{[e]:_(a.value)}:{top:r.value.top}]});N(()=>{V(n,e=>{e?window.addEventListener(`scroll`,c,{passive:!0}):window.removeEventListener(`scroll`,c)},{immediate:!0})}),Ce(()=>{window.removeEventListener(`scroll`,c)});let s=0;function c(){let e=s>window.scrollY?`up`:`down`,n=t.value.getBoundingClientRect(),o=parseFloat(r.value.top??0),c=window.scrollY-Math.max(0,a.value-o),l=n.height+Math.max(a.value,o)-window.scrollY-window.innerHeight,u=parseFloat(getComputedStyle(t.value).getPropertyValue(`--v-body-scroll-y`))||0;n.height<window.innerHeight-o?(i.value=`top`,a.value=o):e===`up`&&i.value===`bottom`||e===`down`&&i.value===`top`?(a.value=window.scrollY+n.top-u,i.value=!0):e===`down`&&l<=0?(a.value=0,i.value=`bottom`):e===`up`&&c<=0&&(u?i.value!==`top`&&(a.value=-c+u+o,i.value=`top`):(a.value=n.top+c,i.value=`top`)),s=window.scrollY}return{isStuck:i,stickyStyles:o}}var qt=100,Jt=20;function Yt(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function Xt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;let r=Yt(t),i=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(i-r)*Math.abs(i),n===e.length-1&&(t*=.5)}return Yt(t)*1e3}function Zt(){let e={};function t(t){Array.from(t.changedTouches).forEach(n=>{(e[n.identifier]??(e[n.identifier]=new gt(Jt))).push([t.timeStamp,n])})}function n(t){Array.from(t.changedTouches).forEach(t=>{delete e[t.identifier]})}function r(t){let n=e[t]?.values().reverse();if(!n)throw Error(`No samples for touch id ${t}`);let r=n[0],i=[],a=[];for(let e of n){if(r[0]-e[0]>qt)break;i.push({t:e[0],d:e[1].clientX}),a.push({t:e[0],d:e[1].clientY})}return{x:Xt(i),y:Xt(a),get direction(){let{x:e,y:t}=this,[n,r]=[Math.abs(e),Math.abs(t)];return n>r&&e>=0?`right`:n>r&&e<=0?`left`:r>n&&t>=0?`down`:r>n&&t<=0?`up`:Qt()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function Qt(){throw Error()}function $t(e){let{el:t,isActive:n,isTemporary:r,width:i,touchless:a,position:o}=e;N(()=>{window.addEventListener(`touchstart`,v,{passive:!0}),window.addEventListener(`touchmove`,y,{passive:!1}),window.addEventListener(`touchend`,b,{passive:!0})}),Ce(()=>{window.removeEventListener(`touchstart`,v),window.removeEventListener(`touchmove`,y),window.removeEventListener(`touchend`,b)});let s=O(()=>[`left`,`right`].includes(o.value)),{addMovement:c,endTouch:l,getVelocity:u}=Zt(),d=!1,f=B(!1),p=B(0),m=B(0),h;function g(e,t){return(o.value===`left`?e:o.value===`right`?document.documentElement.clientWidth-e:o.value===`top`?e:o.value===`bottom`?document.documentElement.clientHeight-e:en())-(t?i.value:0)}function _(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=o.value===`left`?(e-m.value)/i.value:o.value===`right`?(document.documentElement.clientWidth-e-m.value)/i.value:o.value===`top`?(e-m.value)/i.value:o.value===`bottom`?(document.documentElement.clientHeight-e-m.value)/i.value:en();return t?be(n):n}function v(e){if(a.value)return;let t=e.changedTouches[0].clientX,u=e.changedTouches[0].clientY,f=o.value===`left`?t<25:o.value===`right`?t>document.documentElement.clientWidth-25:o.value===`top`?u<25:o.value===`bottom`?u>document.documentElement.clientHeight-25:en(),v=n.value&&(o.value===`left`?t<i.value:o.value===`right`?t>document.documentElement.clientWidth-i.value:o.value===`top`?u<i.value:o.value===`bottom`?u>document.documentElement.clientHeight-i.value:en());(f||v||n.value&&r.value)&&(h=[t,u],m.value=g(s.value?t:u,n.value),p.value=_(s.value?t:u),d=m.value>-20&&m.value<80,l(e),c(e))}function y(e){let t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;if(d){if(!e.cancelable){d=!1;return}let r=Math.abs(t-h[0]),i=Math.abs(n-h[1]);(s.value?r>i&&r>3:i>r&&i>3)?(f.value=!0,d=!1):(s.value?i:r)>3&&(d=!1)}if(!f.value)return;e.preventDefault(),c(e);let r=_(s.value?t:n,!1);p.value=Math.max(0,Math.min(1,r)),r>1?m.value=g(s.value?t:n,!0):r<0&&(m.value=g(s.value?t:n,!1))}function b(e){if(d=!1,!f.value)return;c(e),f.value=!1;let t=u(e.changedTouches[0].identifier),r=Math.abs(t.x),i=Math.abs(t.y);(s.value?r>i&&r>400:i>r&&i>3)?n.value=t.direction===({left:`right`,right:`left`,top:`down`,bottom:`up`}[o.value]||en()):n.value=p.value>.5}let x=O(()=>f.value?{transform:o.value===`left`?`translateX(calc(-100% + ${p.value*i.value}px))`:o.value===`right`?`translateX(calc(100% - ${p.value*i.value}px))`:o.value===`top`?`translateY(calc(-100% + ${p.value*i.value}px))`:o.value===`bottom`?`translateY(calc(100% - ${p.value*i.value}px))`:en(),transition:`none`}:void 0);return Ke(f,()=>{let e=t.value?.style.transform??null,n=t.value?.style.transition??null;Ue(()=>{t.value?.style.setProperty(`transform`,x.value?.transform||`none`),t.value?.style.setProperty(`transition`,x.value?.transition||null)}),Ie(()=>{t.value?.style.setProperty(`transform`,e),t.value?.style.setProperty(`transition`,n)})}),{isDragging:f,dragProgress:p,dragStyles:x}}function en(){throw Error()}var tn=[`start`,`end`,`left`,`right`,`top`,`bottom`];const nn=d({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:`start`,validator:e=>tn.includes(e)},sticky:Boolean,...ke(),...ge(),...b(),...Qe({mobile:null}),...ct(),...t(),...f(),...$e(j(),[`disableInitialFocus`]),..._t({tag:`nav`}),...Ye()},`VNavigationDrawer`),rn=de()({name:`VNavigationDrawer`,props:nn(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t,{isRtl:a}=Re(),{themeClasses:o}=rt(e),{borderClasses:s}=ft(e),{backgroundColorClasses:u,backgroundColorStyles:d}=se(()=>e.color),{elevationClasses:f}=ht(e),{displayClasses:m,mobile:g}=at(e),{roundedClasses:_}=l(e),v=S(),y=et(e,`modelValue`,null,e=>!!e),{ssrBootStyles:b}=Ee(),{scopeId:x}=ae(),ee=U(),C=B(!1),{runOpenDelay:te,runCloseDelay:ne}=ie(e,e=>{C.value=e}),w=O(()=>e.rail&&e.expandOnHover&&C.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),T=O(()=>ue(e.location,a.value)),E=pt(()=>e.persistent),D=O(()=>!e.permanent&&(g.value||e.temporary)),A=O(()=>e.sticky&&!D.value&&T.value!==`bottom`);p(e,{isActive:y,localTop:D,contentEl:ee}),Ke(()=>e.expandOnHover&&e.rail!=null,()=>{V(C,e=>r(`update:rail`,!e))}),Ke(()=>!e.disableResizeWatcher,()=>{V(D,t=>!e.permanent&&re(()=>y.value=!t))}),Ke(()=>!e.disableRouteWatcher&&!!v,()=>{V(v.currentRoute,()=>D.value&&(y.value=!1))}),V(()=>e.permanent,e=>{e&&(y.value=!0)}),e.modelValue==null&&!D.value&&(y.value=e.permanent||!g.value);let{isDragging:j,dragProgress:M}=$t({el:ee,isActive:y,isTemporary:D,width:w,touchless:pt(()=>e.touchless),position:T}),ce=O(()=>{let t=D.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):w.value;return j.value?t*M.value:t}),{layoutItemStyles:N,layoutItemScrimStyles:le}=Pe({id:e.name,order:O(()=>parseInt(e.order,10)),position:T,layoutSize:ce,elementSize:w,active:Ge(y),disableTransitions:pt(()=>j.value),absolute:O(()=>e.absolute||A.value&&typeof P.value!=`string`)}),{isStuck:P,stickyStyles:F}=Kt({rootEl:ee,isSticky:A,layoutItemStyles:N}),de=se(()=>typeof e.scrim==`string`?e.scrim:null),pe=O(()=>({...j.value?{opacity:M.value*.2,transition:`none`}:void 0,...le.value}));return c({VList:{bgColor:`transparent`}}),Be(()=>{let t=i.image||e.image;return k(W,null,[Y(e.tag,h({ref:ee,onMouseenter:te,onMouseleave:ne,class:[`v-navigation-drawer`,`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":C.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":D.value,"v-navigation-drawer--persistent":E.value,"v-navigation-drawer--active":y.value,"v-navigation-drawer--sticky":A.value},o.value,u.value,s.value,m.value,f.value,_.value,e.class],style:[d.value,N.value,b.value,F.value,e.style],inert:!y.value},x,n),{default:()=>[t&&k(`div`,{key:`image`,class:`v-navigation-drawer__img`},[i.image?Y(oe,{key:`image-defaults`,disabled:!e.image,defaults:{VImg:{alt:``,cover:!0,height:`inherit`,src:e.image}}},i.image):Y(fe,{key:`image-img`,alt:``,cover:!0,height:`inherit`,src:e.image},null)]),i.prepend&&k(`div`,{class:`v-navigation-drawer__prepend`},[i.prepend?.()]),k(`div`,{class:`v-navigation-drawer__content`},[i.default?.()]),i.append&&k(`div`,{class:`v-navigation-drawer__append`},[i.append?.()])]}),Y(he,{name:`fade-transition`},{default:()=>[D.value&&(j.value||y.value)&&!!e.scrim&&k(`div`,h({class:[`v-navigation-drawer__scrim`,de.backgroundColorClasses.value],style:[pe.value,de.backgroundColorStyles.value],onClick:()=>{E.value||(y.value=!1)}},x),null)]})])}),{isStuck:P}}}),an=d({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...we(),...Ot()},`VSwitch`),on=de()({name:`VSwitch`,inheritAttrs:!1,props:an(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:r}=t,i=et(e,`indeterminate`),a=et(e,`modelValue`),{loaderClasses:o}=ce(e),{isFocused:c,focus:l,blur:u}=lt(e),d=U(),f=U(),p=dt&&window.matchMedia(`(forced-colors: active)`).matches,m=pt(()=>typeof e.loading==`string`&&e.loading!==``?e.loading:e.color),g=De(),_=pt(()=>e.id||`switch-${g}`);function v(){i.value&&=!1}function y(e){e.stopPropagation(),e.preventDefault(),d.value?.input?.click()}return Be(()=>{let[t,g]=Se(n),b=ze.filterProps(e),x=St.filterProps(e);return Y(ze,h({ref:f,class:[`v-switch`,{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":i.value},o.value,e.class]},t,b,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,id:_.value,focused:c.value,style:e.style}),{...r,default:t=>{let{id:n,messagesId:o,isDisabled:c,isReadonly:f,isValid:_}=t,b={model:a,isValid:_};return Y(St,h({ref:d},x,{modelValue:a.value,"onUpdate:modelValue":[e=>a.value=e,v],id:n.value,"aria-describedby":o.value,type:`checkbox`,"aria-checked":i.value?`mixed`:void 0,disabled:c.value,readonly:f.value,onFocus:l,onBlur:u},g),{...r,default:e=>{let{backgroundColorClasses:t,backgroundColorStyles:n}=e;return k(`div`,{class:s([`v-switch__track`,p?void 0:t.value]),style:me(n.value),onClick:y},[r[`track-true`]&&k(`div`,{key:`prepend`,class:`v-switch__track-true`},[r[`track-true`](b)]),r[`track-false`]&&k(`div`,{key:`append`,class:`v-switch__track-false`},[r[`track-false`](b)])])},input:t=>{let{inputNode:n,icon:i,backgroundColorClasses:a,backgroundColorStyles:o}=t;return k(W,null,[n,k(`div`,{class:s([`v-switch__thumb`,{"v-switch__thumb--filled":i||e.loading},e.inset||p?void 0:a.value]),style:me(e.inset?void 0:o.value)},[r.thumb?Y(oe,{defaults:{VIcon:{icon:i,size:`x-small`}}},{default:()=>[r.thumb({...b,icon:i})]}):Y(E,null,{default:()=>[e.loading?Y(z,{name:`v-switch`,active:!0,color:_.value===!1?void 0:m.value},{default:e=>r.loader?r.loader(e):Y(Xe,{active:e.isActive,color:e.color,indeterminate:!0,size:`16`,width:`2`},null)}):i&&Y(K,{key:String(i),icon:i,size:`x-small`},null)]})])])}})}})}),Fe({},f)}}),sn=d({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Ft({filterKeys:[`title`]}),...Et(),...$e(Ae({modelValue:null,role:`combobox`}),[`validationValue`,`dirty`])},`VAutocomplete`),cn=de()({name:`VAutocomplete`,props:sn(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t,{t:r}=Me(),i=U(),a=B(!1),o=B(!0),c=B(!1),l=U(),u=U(),d=B(-1),f=B(null),{items:p,transformIn:m,transformOut:g}=Ct(e),{textColorClasses:_,textColorStyles:v}=He(()=>i.value?.color),{InputIcon:y}=pe(e),b=et(e,`search`,``),x=et(e,`modelValue`,[],e=>m(e===null?[null]:Te(e)),t=>{let n=g(t);return e.multiple?n:n[0]??null}),ee=O(()=>typeof e.counterValue==`function`?e.counterValue(x.value):typeof e.counterValue==`number`?e.counterValue:x.value.length),S=Oe(e),{filteredItems:C,getMatches:ne}=It(e,p,()=>f.value??(o.value?``:b.value)),w=O(()=>e.hideSelected&&f.value===null?C.value.filter(e=>!x.value.some(t=>t.value===e.value)):C.value),ie=pt(()=>e.closableChips&&!S.isReadonly.value&&!S.isDisabled.value),T=O(()=>!!(e.chips||n.chip)),E=O(()=>T.value||!!n.selection),D=O(()=>x.value.map(e=>e.props.value)),ae=O(()=>w.value.find(e=>e.type===`item`&&!e.props.disabled)),A=O(()=>(e.autoSelectFirst===!0||e.autoSelectFirst===`exact`&&b.value===ae.value?.title)&&w.value.length>0&&!o.value&&!c.value),se=O(()=>e.hideNoData&&!w.value.length||S.isReadonly.value||S.isDisabled.value),j=et(e,`menu`),M=O({get:()=>j.value,set:e=>{j.value&&!e&&l.value?.ΨopenChildren.size||e&&se.value||(j.value=e)}}),{menuId:ce,ariaExpanded:N,ariaControls:ue}=kt(e,M),F=U(),de=wt(F,i);function fe(t){e.openOnClear&&(M.value=!0),b.value=``}function he(){se.value||(M.value=!0)}function ge(e){se.value||(a.value&&(e.preventDefault(),e.stopPropagation()),M.value=!M.value)}function I(e){(_e(e)||e.key===`Backspace`)&&i.value?.focus()}function L(t){if(S.isReadonly.value)return;let n=i.value?.selectionStart,r=x.value.length;if([`Enter`,`ArrowDown`,`ArrowUp`].includes(t.key)&&t.preventDefault(),[`Enter`,`ArrowDown`].includes(t.key)&&(M.value=!0),[`Escape`].includes(t.key)&&(M.value=!1),A.value&&[`Enter`,`Tab`].includes(t.key)&&ae.value&&!x.value.some(e=>{let{value:t}=e;return t===ae.value.value})&&z(ae.value),t.key===`ArrowDown`&&A.value&&F.value?.focus(`next`),[`Backspace`,`Delete`].includes(t.key)){if(!e.multiple&&E.value&&x.value.length>0&&!b.value)return z(x.value[0],!1);if(~d.value){t.preventDefault();let e=d.value;z(x.value[d.value],!1),d.value=e>=r-1?r-2:e}else t.key===`Backspace`&&!b.value&&(d.value=r-1);return}if(e.multiple)if(t.key===`ArrowLeft`){if(d.value<0&&n&&n>0)return;let e=d.value>-1?d.value-1:r-1;if(x.value[e])d.value=e;else{let e=b.value?.length??null;d.value=-1,i.value?.setSelectionRange(e,e)}}else if(t.key===`ArrowRight`){if(d.value<0)return;let e=d.value+1;x.value[e]?d.value=e:(d.value=-1,i.value?.setSelectionRange(0,0))}else ~d.value&&_e(t)&&(d.value=-1)}function ve(e){if(je(i.value,`:autofill`)||je(i.value,`:-webkit-autofill`)){let t=p.value.find(t=>t.title===e.target.value);t&&z(t)}}function ye(){e.eager&&u.value?.calculateVisibleItems()}function be(){a.value&&(o.value=!0,i.value?.focus()),f.value=null}function xe(e){a.value=!0,setTimeout(()=>{c.value=!0})}function Se(e){c.value=!1}function Ce(t){(t==null||t===``&&!e.multiple&&!E.value)&&(x.value=[])}let R=B(!1);function z(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!t||t.props.disabled))if(e.multiple){let r=x.value.findIndex(n=>(e.valueComparator||mt)(n.value,t.value)),i=n??!~r;if(~r){let e=i?[...x.value,t]:[...x.value];e.splice(r,1),x.value=e}else i&&(x.value=[...x.value,t]);e.clearOnSelect&&(b.value=``)}else{let e=n!==!1;x.value=e?[t]:[],f.value=o.value?``:b.value??``,b.value=e&&!E.value?t.title:``,re(()=>{M.value=!1,o.value=!0})}}return V(a,(t,n)=>{t!==n&&(t?(R.value=!0,b.value=e.multiple||E.value?``:String(x.value.at(-1)?.props.title??``),o.value=!0,re(()=>R.value=!1)):(!e.multiple&&b.value==null&&(x.value=[]),M.value=!1,!o.value&&b.value&&(f.value=b.value),b.value=``,d.value=-1))}),V(b,e=>{!a.value||R.value||(e&&(M.value=!0),o.value=!e)}),V(M,t=>{if(!e.hideSelected&&t&&x.value.length&&o.value){let e=w.value.findIndex(e=>x.value.some(t=>e.value===t.value));st&&window.requestAnimationFrame(()=>{e>=0&&u.value?.scrollToIndex(e)})}t&&(f.value=null)}),V(p,(e,t)=>{M.value||a.value&&!t.length&&e.length&&(M.value=!0)}),Be(()=>{let t=!!(!e.hideNoData||w.value.length||n[`prepend-item`]||n[`append-item`]||n[`no-data`]),c=x.value.length>0,f=ot.filterProps(e);return Y(ot,h({ref:i},f,{modelValue:b.value,"onUpdate:modelValue":[e=>b.value=e,Ce],focused:a.value,"onUpdate:focused":e=>a.value=e,validationValue:x.externalValue,counterValue:ee.value,dirty:c,onChange:ve,class:[`v-autocomplete`,`v-autocomplete--${e.multiple?`multiple`:`single`}`,{"v-autocomplete--active-menu":M.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!E.value,"v-autocomplete--selecting-index":d.value>-1},e.class],style:e.style,readonly:S.isReadonly.value,placeholder:c?void 0:e.placeholder,"onClick:clear":fe,"onMousedown:control":he,onKeydown:L,"aria-expanded":N.value,"aria-controls":ue.value}),{...n,default:i=>{let{id:a}=i;return k(W,null,[Y(Dt,h({id:ce.value,ref:l,modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,activator:`parent`,contentClass:`v-autocomplete__content`,disabled:se.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:ye,onAfterLeave:be},e.menuProps),{default:()=>[t&&Y(Tt,h({ref:F,filterable:!0,selected:D.value,selectStrategy:e.multiple?`independent`:`single-independent`,onMousedown:e=>e.preventDefault(),onKeydown:I,onFocusin:xe,onFocusout:Se,tabindex:`-1`,selectable:!!w.value.length,"aria-live":`polite`,"aria-labelledby":`${a.value}-label`,"aria-multiselectable":e.multiple,color:e.itemColor??e.color},de,e.listProps),{default:()=>[n[`prepend-item`]?.(),!w.value.length&&!e.hideNoData&&(n[`no-data`]?.()??Y(Z,{key:`no-data`,title:r(e.noDataText)},null)),Y(bt,{ref:u,renderless:!0,items:w.value,itemKey:`value`},{default:t=>{let{item:r,index:i,itemRef:a}=t,s=h(r.props,{ref:a,key:r.value,active:A.value&&r===ae.value?!0:void 0,onClick:()=>z(r,null),"aria-posinset":i+1,"aria-setsize":w.value.length});return r.type===`divider`?n.divider?.({props:r.raw,index:i})??Y(vt,h(r.props,{key:`divider-${i}`}),null):r.type===`subheader`?n.subheader?.({props:r.raw,index:i})??Y(yt,h(r.props,{key:`subheader-${i}`}),null):n.item?.({item:r,index:i,props:s})??Y(Z,h(s,{role:`option`}),{prepend:t=>{let{isSelected:n}=t;return k(W,null,[e.multiple&&!e.hideSelected?Y(xt,{key:r.value,modelValue:n,ripple:!1,tabindex:`-1`,"aria-hidden":!0,onClick:e=>e.preventDefault()},null):void 0,r.props.prependAvatar&&Y(le,{image:r.props.prependAvatar},null),r.props.prependIcon&&Y(K,{icon:r.props.prependIcon},null)])},title:()=>o.value?r.title:Lt(`v-autocomplete`,r.title,ne(r)?.title)})}}),n[`append-item`]?.()]})]}),x.value.map((t,r)=>{function i(e){e.stopPropagation(),e.preventDefault(),z(t,!1)}let a=h(X.filterProps(t.props),{"onClick:close":i,onKeydown(e){e.key!==`Enter`&&e.key!==` `||(e.preventDefault(),e.stopPropagation(),i(e))},onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),o=T.value?!!n.chip:!!n.selection,c=o?te(T.value?n.chip({item:t,index:r,props:a}):n.selection({item:t,index:r})):void 0;if(!(o&&!c))return k(`div`,{key:t.value,class:s([`v-autocomplete__selection`,r===d.value&&[`v-autocomplete__selection--selected`,_.value]]),style:me(r===d.value?v.value:{})},[T.value?n.chip?Y(oe,{key:`chip-defaults`,defaults:{VChip:{closable:ie.value,size:`small`,text:t.title}}},{default:()=>[c]}):Y(X,h({key:`chip`,closable:ie.value,size:`small`,text:t.title,disabled:t.props.disabled},a),null):c??k(`span`,{class:`v-autocomplete__selection-text`},[t.title,e.multiple&&r<x.value.length-1&&k(`span`,{class:`v-autocomplete__selection-comma`},[P(`,`)])])])})])},"append-inner":function(){var t=[...arguments];return k(W,null,[n[`append-inner`]?.(...t),e.menuIcon?Y(K,{class:`v-autocomplete__menu-icon`,color:i.value?.fieldIconColor,icon:e.menuIcon,onMousedown:ge,onClick:Le,"aria-hidden":!0,tabindex:`-1`},null):void 0,e.appendInnerIcon&&Y(y,{key:`append-icon`,name:`appendInner`,color:t[0].iconColor.value},null)])}})}),Fe({isFocused:a,isPristine:o,menu:M,search:b,filteredItems:C,select:z},i)}});var ln=300,un=i({__name:`SelectPersonne`,props:ye({label:{},initialPersonne:{},api:{},readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(e){let t=e,n=Ze(e,`modelValue`),r=U(n.value==0?[]:[{title:t.initialPersonne,value:n.value}]),i=U(``);async function a(){if(!i.value)return;let e=await t.api.SelectPersonne({search:i.value});e!==void 0&&(r.value=(e||[]).map(e=>({title:e.Label,value:e.Id})))}let o;function s(e){i.value=e||``,clearTimeout(o),o=setTimeout(a,ln)}return(e,a)=>(H(),M(cn,{label:t.label,variant:`outlined`,density:`compact`,readonly:t.readonly,"hide-details":``,items:r.value,"model-value":F(We)(n.value),"onUpdate:modelValue":a[0]||=e=>n.value=F(Ne)(e),search:i.value,"onUpdate:search":[a[1]||=e=>i.value=e,s],clearable:``,"no-data-text":i.value.length?`Aucun profil ne correspond à votre recherche.`:`Veuillez entrer une recherche.`},null,8,[`label`,`readonly`,`items`,`model-value`,`search`,`no-data-text`]))}}),dn=i({__name:`RequestProgressCard`,props:{title:{},current:{},total:{}},setup(t){let n=t;return(t,r)=>(H(),M(A,{title:n.title},{default:q(()=>[Y(G,null,{default:q(()=>[Y(e,{max:n.total,"model-value":n.current,color:`primary`,height:`24`},{default:q(()=>[P(u(n.current)+` / `+u(n.total),1)]),_:1},8,[`max`,`model-value`])]),_:1})]),_:1},8,[`title`]))}}),$=i({__name:`RatingBadge`,props:{label:{},value:{}},setup(e){let t=e,n=O(()=>Math.floor(t.value)==t.value?t.value.toString():t.value.toFixed(1)),i=O(()=>{let e=(t.value-1)/3;return`rgb(${200*(1-e)},${255*e},0)`});return(e,a)=>(H(),M(J,{"no-gutters":``},{default:q(()=>[Y(r,{cols:`10`},{default:q(()=>[P(u(t.label),1)]),_:1}),Y(r,{cols:`2`,"align-self":`center`},{default:q(()=>[t.value==0?m(``,!0):(H(),M(Mt,{key:0,inline:``,content:n.value,color:i.value},null,8,[`content`,`color`]))]),_:1})]),_:1}))}}),fn=i({__name:`CampSondagesV`,props:{sondages:{}},setup(e){let t=e;return(e,n)=>(H(),x(W,null,[t.sondages.Sondages?.length?(H(),M(A,{key:0,title:`Vue d'ensembe`,subtitle:`Moyenne des (${t.sondages.Sondages.length}) notes atttribuées (de 1 à 4)`,class:`mb-2`},{default:q(()=>[Y(G,null,{default:q(()=>[Y(J,null,{default:q(()=>[Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{readonly:``,label:`Informations avant le séjour`,value:t.sondages.Moyennes.InfosAvantSejour},null,8,[`value`])]),_:1}),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{readonly:``,label:`Informations pendant le séjour`,value:t.sondages.Moyennes.InfosPendantSejour},null,8,[`value`])]),_:1}),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{readonly:``,label:`L'hébergement`,value:t.sondages.Moyennes.Hebergement},null,8,[`value`])]),_:1})]),_:1}),Y(J,null,{default:q(()=>[Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{readonly:``,label:`Les activités`,value:t.sondages.Moyennes.Activites},null,8,[`value`])]),_:1}),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{readonly:``,label:`Le thème`,value:t.sondages.Moyennes.Theme},null,8,[`value`])]),_:1}),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{readonly:``,label:`La nourriture`,value:t.sondages.Moyennes.Nourriture},null,8,[`value`])]),_:1})]),_:1}),Y(J,null,{default:q(()=>[Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{readonly:``,label:`L'hygiène corporelle et vestimentaire`,value:t.sondages.Moyennes.Hygiene},null,8,[`value`])]),_:1}),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{readonly:``,label:`L'ambiance du groupe`,value:t.sondages.Moyennes.Ambiance},null,8,[`value`])]),_:1}),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{readonly:``,label:`Le ressenti global de votre enfant`,value:t.sondages.Moyennes.Ressenti},null,8,[`value`])]),_:1})]),_:1})]),_:1})]),_:1},8,[`subtitle`])):(H(),M(ve,{key:1},{default:q(()=>[Y(zt,{type:`info`},{default:q(()=>[...n[0]||=[P(` Aucun avis n'a encore été rempli. `,-1)]]),_:1})]),_:1})),(H(!0),x(W,null,qe(t.sondages.Sondages,(e,t)=>(H(),M(A,{title:`${e.ResponsableNom} - ${e.ResponsableMail}`,subtitle:(e.Participants||[]).join(`, `),class:`my-2`,key:t},{append:q(()=>[P(u(F(L).time(e.Sondage.Modified)),1)]),default:q(()=>[Y(G,null,{default:q(()=>[Y(J,null,{default:q(()=>[Y(r,{cols:`7`},{default:q(()=>[Y(J,null,{default:q(()=>[Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{label:`Informations avant le séjour`,value:e.Sondage.InfosAvantSejour},null,8,[`value`])]),_:2},1024),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{label:`Informations pendant le séjour`,value:e.Sondage.InfosPendantSejour},null,8,[`value`])]),_:2},1024),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{label:`L'hébergement`,value:e.Sondage.Hebergement},null,8,[`value`])]),_:2},1024)]),_:2},1024),Y(J,null,{default:q(()=>[Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{label:`Les activités`,value:e.Sondage.Activites},null,8,[`value`])]),_:2},1024),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{label:`Le thème`,value:e.Sondage.Theme},null,8,[`value`])]),_:2},1024),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{label:`La nourriture`,value:e.Sondage.Nourriture},null,8,[`value`])]),_:2},1024)]),_:2},1024),Y(J,null,{default:q(()=>[Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{label:`L'hygiène corporelle et vestimentaire`,value:e.Sondage.Hygiene},null,8,[`value`])]),_:2},1024),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{label:`L'ambiance du groupe`,value:e.Sondage.Ambiance},null,8,[`value`])]),_:2},1024),Y(r,{cols:`12`,sm:`6`,md:`4`},{default:q(()=>[Y($,{label:`Le ressenti global de votre enfant`,value:e.Sondage.Ressenti},null,8,[`value`])]),_:2},1024)]),_:2},1024)]),_:2},1024),Y(r,{"align-self":`center`},{default:q(()=>[Y(J,null,{default:q(()=>[Y(r,{cols:`12`},{default:q(()=>[Y(Rt,{density:`compact`,label:`Participant`,variant:`outlined`,"hide-details":``,value:e.Sondage.MessageEnfant,readonly:``,rows:`3`},null,8,[`value`])]),_:2},1024),Y(r,{cols:`12`},{default:q(()=>[Y(Rt,{density:`compact`,label:`Responsable`,variant:`outlined`,"hide-details":``,value:e.Sondage.MessageResponsable,readonly:``,rows:`3`},null,8,[`value`])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`title`,`subtitle`]))),128))],64))}}),pn=i({__name:`ReglementsCard`,props:{data:{}},setup(e){let t=e;function n(e){return(t.data.Dossiers||{})[e.Participant.IdDossier]}let r=O(()=>(t.data.Participants||[]).filter(e=>n(e).Reglement==tt.Complet).length);return(i,a)=>(H(),M(A,{title:`Suivi du règlement`,subtitle:`${r.value} / ${t.data.Participants?.length||0} complet`},{default:q(()=>[Y(G,null,{default:q(()=>[Y(Tt,null,{default:q(()=>[(H(!0),x(W,null,qe(e.data.Participants,e=>(H(),M(Z,{title:F(v).NOMPrenom(e.Personne),subtitle:n(e).Responsable},{append:q(()=>[Y(X,{"prepend-icon":`mdi-currency-eur`,color:F(L).colorStatutPaiement(n(e).Reglement)},{default:q(()=>[P(u(F(C)[n(e).Reglement]),1)]),_:2},1032,[`color`])]),_:2},1032,[`title`,`subtitle`]))),256))]),_:1})]),_:1})]),_:1},8,[`subtitle`]))}}),mn=i({__name:`SelectCamp`,props:ye({label:{},camps:{},readonly:{type:Boolean},defaultStyle:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(e){let t=e,n=Ze(e,`modelValue`),r=U(!1),i=O(()=>t.camps.filter(e=>r.value?!0:!e.IsOld).map(e=>({title:e.Label,value:e.Id})));return(e,a)=>(H(),M(At,{density:t.defaultStyle?void 0:`compact`,variant:t.defaultStyle?void 0:`outlined`,label:t.label,readonly:t.readonly,items:i.value,clearable:``,"model-value":F(We)(n.value),"onUpdate:modelValue":a[1]||=e=>n.value=F(Ne)(e),"no-data-text":`Aucun séjour n'existe.`,"hide-details":``,autocomplete:`off`},{prepend:q(()=>[Y(Pt,{text:r.value?`Masquer les séjours terminés`:`Afficher les séjours terminés`},{activator:q(({props:e})=>[Y(I,h({size:`small`,variant:r.value?`tonal`:`flat`},e,{icon:`mdi-history`,onClick:a[0]||=e=>r.value=!r.value}),null,16,[`variant`])]),_:1},8,[`text`])]),_:1},8,[`density`,`variant`,`label`,`readonly`,`items`,`model-value`]))}}),hn=300,gn=i({__name:`SelectDossier`,props:ye({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(e){let t=e,n=Ze(e,`modelValue`),r=U([]);N(a);function i(e){return{title:e.Responsable,subtitle:e.Participants,value:e.Id}}async function a(){let e=n.value;if(e==0)return;let t=await Vt.DossiersSearch(Wt(e));t!==void 0&&(r.value=(t.Dossiers||[]).map(i))}let o=U(``);async function s(){if(!o.value)return;let e=Ut();e.Pattern=o.value;let t=await Vt.DossiersSearch(e);t!==void 0&&(r.value=(t.Dossiers||[]).map(i))}let c;function l(e){o.value=e||``,clearTimeout(c),c=setTimeout(s,hn)}return(e,i)=>(H(),M(cn,{label:`Dossier`,variant:`outlined`,density:`compact`,readonly:t.readonly,"hide-details":``,items:r.value,"no-filter":``,"model-value":F(We)(n.value),"onUpdate:modelValue":i[0]||=e=>n.value=F(Ne)(e),search:o.value,"onUpdate:search":[i[1]||=e=>o.value=e,l],clearable:``,"no-data-text":o.value.length?`Aucun dossier ne correspond à votre recherche.`:`Veuillez entrer une recherche.`},{item:q(({item:e,props:t})=>[Y(Z,h(t,{title:e.title,subtitle:e.raw.subtitle}),null,16,[`title`,`subtitle`])]),_:1},8,[`readonly`,`items`,`model-value`,`search`,`no-data-text`]))}}),_n=i({__name:`StatutParticipantField`,props:ye({hideDetails:{type:Boolean},readonly:{type:Boolean},rules:{},restrictItems:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(e){let t=e,n=Ze(e,`modelValue`),r=O(()=>it(xe).filter(e=>t.restrictItems===void 0||t.restrictItems.includes(e.value)).map(e=>({value:e.value,title:e.title,format:L.statutParticipant(e.value)})));return(e,i)=>(H(),M(At,{label:`Statut`,variant:`outlined`,density:`compact`,items:r.value,readonly:t.readonly,"hide-details":t.hideDetails,modelValue:n.value,"onUpdate:modelValue":i[0]||=e=>n.value=e,rules:t.rules},{item:q(({item:e,props:t})=>[Y(Z,h(t,{title:e.title}),{prepend:q(()=>[Y(K,{color:e.raw.format.color},{default:q(()=>[P(u(e.raw.format.icon),1)]),_:2},1032,[`color`])]),_:2},1040,[`title`])]),selection:q(({item:e})=>[Y(Z,{title:e.title,density:`compact`},{prepend:q(()=>[Y(K,{color:e.raw.format.color,size:`small`},{default:q(()=>[P(u(e.raw.format.icon),1)]),_:2},1032,[`color`])]),_:2},1032,[`title`])]),_:1},8,[`items`,`readonly`,`hide-details`,`modelValue`,`rules`]))}}),vn=i({__name:`ParticipantEdit`,props:{participant:{},personne:{},api:{},hidePersonneDossier:{type:Boolean},readonlyStatut:{type:Boolean}},emits:[`save`],setup(e,{emit:t}){let n=e,i=t,a=U(ne(n.participant)),o=O(()=>!!(a.value.IdPersonne&&a.value.IdDossier));return(e,t)=>{let s=un,c=gn,l=jt;return H(),M(A,{title:`Editer le participant`},{default:q(()=>[Y(G,null,{default:q(()=>[Y(Bt,null,{default:q(()=>[n.hidePersonneDossier?m(``,!0):(H(),M(J,{key:0},{default:q(()=>[Y(r,null,{default:q(()=>[Y(s,{label:`Personne`,modelValue:a.value.IdPersonne,"onUpdate:modelValue":t[0]||=e=>a.value.IdPersonne=e,"initial-personne":F(v).label(n.personne),api:n.api},null,8,[`modelValue`,`initial-personne`,`api`])]),_:1}),Y(r,null,{default:q(()=>[Y(c,{modelValue:a.value.IdDossier,"onUpdate:modelValue":t[1]||=e=>a.value.IdDossier=e},null,8,[`modelValue`])]),_:1})]),_:1})),Y(J,null,{default:q(()=>[Y(r,null,{default:q(()=>[Y(_n,{modelValue:a.value.Statut,"onUpdate:modelValue":t[2]||=e=>a.value.Statut=e,"hide-details":``,readonly:n.readonlyStatut},null,8,[`modelValue`,`readonly`])]),_:1})]),_:1}),Y(J,null,{default:q(()=>[Y(r,null,{default:q(()=>[Y(l,{modelValue:a.value.Navette,"onUpdate:modelValue":t[3]||=e=>a.value.Navette=e},null,8,[`modelValue`])]),_:1}),Y(r,null,{default:q(()=>[Y(ot,{modelValue:a.value.Commentaire,"onUpdate:modelValue":t[4]||=e=>a.value.Commentaire=e,label:`Commentaire`,density:`compact`,variant:`outlined`},null,8,[`modelValue`])]),_:1})]),_:1})]),_:1})]),_:1}),Y(D,null,{default:q(()=>[Y(Q),Y(I,{disabled:!o.value,onClick:t[5]||=e=>i(`save`,a.value)},{default:q(()=>[...t[6]||=[P(`Enregistrer`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})}}}),yn=i({__name:`ParticipantRow`,props:{participant:{},index:{}},setup(e){let t=e,n=O(()=>`mx-2 px-2 rounded `+(t.index%2==0?`bg-grey-lighten-4`:``));return(e,i)=>(H(),M(J,{"no-gutters":``,class:s(n.value)},{default:q(()=>[Y(r,{"align-self":`center`,cols:`2`},{default:q(()=>[Y(Z,{title:F(v).NOMPrenom(t.participant.Personne),class:`px-0`},{prepend:q(()=>[t.participant.Participant.Statut==F(R).Inscrit?m(``,!0):(H(),M(Pt,{key:0,text:F(xe)[t.participant.Participant.Statut]},{activator:q(({props:e})=>[Y(K,h({color:F(L).statutParticipant(t.participant.Participant.Statut).color},e),{default:q(()=>[P(u(F(L).statutParticipant(t.participant.Participant.Statut).icon),1)]),_:1},16,[`color`])]),_:1},8,[`text`]))]),_:1},8,[`title`])]),_:1}),Y(r,{"align-self":`center`,cols:`1`,class:`text-center`},{default:q(()=>[Y(K,{class:`ma-2 mr-4`},{default:q(()=>[P(u(F(L).sexeIcon(t.participant.Personne.Sexe)),1)]),_:1})]),_:1}),Y(r,{"align-self":`center`,cols:`1`},{default:q(()=>[Y(J,{"no-gutters":``},{default:q(()=>[Y(r,{"align-self":`end`,class:`text-center`},{default:q(()=>[P(u(F(L).dateNaissance(t.participant.Personne.DateNaissance)),1)]),_:1}),Y(r,{"align-self":`end`,cols:`auto`},{default:q(()=>[t.participant.HasBirthday?(H(),M(Pt,{key:0,text:`${t.participant.Personne.Prenom} a son anniveraire pendant le séjour !`},{activator:q(({props:e})=>[Y(K,h(e,{color:`pink`}),{default:q(()=>[...i[0]||=[P(`mdi-cake-variant`,-1)]]),_:1},16)]),_:1},8,[`text`])):m(``,!0)]),_:1})]),_:1})]),_:1}),Y(r,{"align-self":`center`,cols:`1`,class:`text-center`},{default:q(()=>[P(u(t.participant.Age)+` ans `,1)]),_:1}),Y(r,{"align-self":`center`,cols:`1`,class:`text-center`},{default:q(()=>[P(u(t.participant.Participant.Navette==F(ee).NoBus?`-`:F(T)[t.participant.Participant.Navette]),1)]),_:1}),Y(r,{"align-self":`center`,cols:`2`},{default:q(()=>[P(u(t.participant.Participant.Commentaire),1)]),_:1}),Y(r,{cols:`2`,"align-self":`center`,class:`text-center`},{default:q(()=>[P(u(F(L).time(t.participant.MomentInscription)),1)]),_:1}),nt(e.$slots,`append`),e.$slots.append===void 0?(H(),M(Q,{key:0})):m(``,!0),Y(r,{"align-self":`center`,cols:`auto`},{default:q(()=>[Y(Dt,null,{activator:q(({props:e})=>[Y(I,h(e,{icon:`mdi-dots-vertical`,size:`x-small`,class:`mx-1`}),null,16)]),default:q(()=>[nt(e.$slots,`actions`)]),_:3})]),_:3})]),_:3},8,[`class`]))}}),bn=i({__name:`ParticipantRowHeader`,setup(e){return(e,t)=>(H(),M(J,{"no-gutters":``,class:`mx-2 px-2`},{default:q(()=>[Y(r,{class:`font-weight-bold`,"align-self":`center`,cols:`2`},{default:q(()=>[...t[0]||=[P(` Participant `,-1)]]),_:1}),Y(r,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`1`},{default:q(()=>[...t[1]||=[P(` Sexe `,-1)]]),_:1}),Y(r,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`1`},{default:q(()=>[...t[2]||=[P(` Date de naissance `,-1)]]),_:1}),Y(r,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`1`},{default:q(()=>[...t[3]||=[P(` Age `,-1)]]),_:1}),Y(r,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`1`},{default:q(()=>[...t[4]||=[P(` Navette `,-1)]]),_:1}),Y(r,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`2`},{default:q(()=>[...t[5]||=[P(` Commentaire `,-1)]]),_:1}),Y(r,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`2`},{default:q(()=>[...t[6]||=[P(` Inscription `,-1)]]),_:1}),nt(e.$slots,`append`),e.$slots.append===void 0?(H(),M(Q,{key:0})):m(``,!0),Y(r,{cols:`auto`},{default:q(()=>[Y(I,{size:`x-small`,color:`white`,icon:``,variant:`plain`,disabled:``})]),_:1})]),_:3}))}}),xn=i({__name:`CardValideParticipantRow`,props:ye({participant:{},statut:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(e){let t=e,n=Ze(e,`modelValue`);function i(e){return e.AgeMin?e.AgeMax?e.EquilibreGF?e.Place?``:`Camp complet`:`Equilibre G./F.`:`Trop âgé${L.accord(t.participant.Personne.Sexe)}`:`Trop jeune`}return(e,a)=>{let s=_n;return H(),M(J,null,{default:q(()=>[Y(r,{cols:`4`,"align-self":`center`},{default:q(()=>[Y(Z,{title:F(v).label(t.participant.Personne),subtitle:F(o).label(t.participant.Camp)},null,8,[`title`,`subtitle`])]),_:1}),Y(r,{cols:`3`,"align-self":`center`,class:`text-center`},{default:q(()=>[t.statut.Statut==F(R).Inscrit?m(``,!0):(H(),M(X,{key:0,color:`warning`,"prepend-icon":`mdi-alert`},{default:q(()=>[P(u(i(t.statut.Causes)),1)]),_:1}))]),_:1}),Y(r,{"align-self":`center`},{default:q(()=>[t.statut.Validable?(H(),M(s,{key:0,modelValue:n.value,"onUpdate:modelValue":a[0]||=e=>n.value=e,"hide-details":``,readonly:!t.statut.AllowedChanges?.length,"restrict-items":(t.statut.AllowedChanges||[]).concat(t.statut.Statut)},null,8,[`modelValue`,`readonly`,`restrict-items`])):t.participant.Participant.Statut==F(R).AStatuer?(H(),M(X,{key:2,size:`small`},{default:q(()=>[...a[2]||=[P(` Seul le centre peut accepter cette inscription. `,-1)]]),_:1})):(H(),M(X,{key:1,size:`small`},{default:q(()=>[...a[1]||=[P(` Inscription déjà validée. `,-1)]]),_:1}))]),_:1})]),_:1})}}}),Sn=i({__name:`CardValide`,props:{inscription:{},idParticipants:{}},emits:[`valide`],setup(e,{emit:t}){let n=e,r=t,i=O(()=>(n.inscription.Participants||[]).filter(e=>n.idParticipants?n.idParticipants.includes(e.Participant.Id):!0)),a=U(Object.fromEntries(i.value.filter(e=>(n.inscription.StatutHints||{})[e.Participant.Id].Validable).map(e=>[e.Participant.Id,(n.inscription.StatutHints||{})[e.Participant.Id].Statut]))),o=O(()=>Object.values(a.value).length>0);return(e,t)=>(H(),M(A,{title:`Valider l'inscription`,subtitle:`Un mail de confirmation va être envoyé.`},{default:q(()=>[Y(G,null,{default:q(()=>[(H(!0),x(W,null,qe(i.value,e=>(H(),M(xn,{participant:e,statut:(n.inscription.StatutHints||{})[e.Participant.Id],modelValue:a.value[e.Participant.Id],"onUpdate:modelValue":t=>a.value[e.Participant.Id]=t},null,8,[`participant`,`statut`,`modelValue`,`onUpdate:modelValue`]))),256))]),_:1}),Y(D,null,{default:q(()=>[Y(I,{onClick:t[0]||=e=>r(`valide`,a.value,!1),disabled:!o.value},{default:q(()=>[...t[2]||=[P(`Valider sans notification`,-1)]]),_:1},8,[`disabled`]),Y(Q),Y(I,{onClick:t[1]||=e=>r(`valide`,a.value,!0),disabled:!o.value},{default:q(()=>[...t[3]||=[P(`Valider`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1}))}}),Cn=300,wn=i({__name:`DebounceField`,props:{modelValue:{required:!0},modelModifiers:{}},emits:[`update:modelValue`],setup(e){let t=e,n=U(``),r=Ze(e,`modelValue`);V(()=>r.value,()=>{n.value=r.value});let i;function a(e){if(n.value=e||``,clearTimeout(i),!e){r.value=n.value;return}i=setTimeout(()=>{r.value=n.value},Cn)}return(e,r)=>(H(),M(ot,h(t,{modelValue:n.value,"onUpdate:modelValue":[r[0]||=e=>n.value=e,a]}),{"append-inner":q(()=>[nt(e.$slots,`append-inner`)]),append:q(()=>[nt(e.$slots,`append`)]),_:3},16,[`modelValue`]))}}),Tn={key:0},En=i({__name:`CardSimilaires`,props:{personne:{},api:{}},emits:[`identifie`],setup(e,{emit:t}){let n=e,i=t;N(o);let a=U([]);async function o(){let e=await n.api.SearchSimilaires({idPersonne:n.personne.Id});e!==void 0&&(a.value=e||[])}let s=U(!1),c=U(``),l=U([]);async function d(){if((c.value||``).length<3)return;let e=await n.api.SelectPersonne({search:c.value});e!==void 0&&(l.value=e||[])}function f(){i(`identifie`,{IdTemporaire:n.personne.Id,Rattache:!1,RattacheTo:0})}function p(e){i(`identifie`,{IdTemporaire:n.personne.Id,Rattache:!0,RattacheTo:e})}function h(e){let t=Math.floor(e*2);return`rgb(${255-t},${t}, 15)`}return(e,t)=>{let n=wn;return H(),M(A,{title:`Identifier le profil`,width:`600px`,subtitle:s.value?``:`Liste des profils similaires`},{default:q(()=>[Y(G,{class:`pb-0`},{default:q(()=>[s.value?(H(),x(`div`,Tn,[Y(n,{modelValue:c.value,"onUpdate:modelValue":[t[0]||=e=>c.value=e,d],label:`Rechercher un profil`,density:`comfortable`,clearable:``,autofocus:``,"hide-details":``},null,8,[`modelValue`]),Y(Tt,{density:`compact`},{default:q(()=>[c.value.length>=3&&!l.value.length?(H(),M(J,{key:0,class:`ma-2`,"no-gutters":``},{default:q(()=>[Y(r,{class:`text-center`},{default:q(()=>[...t[3]||=[k(`i`,null,`Aucun profil ne correspond à votre recherche.`,-1)]]),_:1})]),_:1})):m(``,!0),(H(!0),x(W,null,qe(l.value,(e,t)=>(H(),M(Z,{key:t,title:e.Label,subtitle:F(L).dateNaissance(e.DateNaissance),"append-icon":F(L).sexeIcon(e.Sexe),onClick:t=>p(e.Id)},null,8,[`title`,`subtitle`,`append-icon`,`onClick`]))),128))]),_:1})])):(H(),M(Tt,{key:1,density:`compact`},{default:q(()=>[a.value.length?m(``,!0):(H(),M(J,{key:0,class:`mx-2`,"no-gutters":``},{default:q(()=>[Y(r,{class:`text-center`},{default:q(()=>[...t[4]||=[k(`i`,null,`Aucun profil existant sur la base n'est similaire.`,-1)]]),_:1})]),_:1})),(H(!0),x(W,null,qe(a.value,(e,t)=>(H(),M(Z,{key:t,title:e.Personne.Label,subtitle:F(L).dateNaissance(e.Personne.DateNaissance),"prepend-icon":F(L).sexeIcon(e.Personne.Sexe),onClick:t=>p(e.Personne.Id)},{append:q(()=>[Y(X,{color:h(e.ScorePercent)},{default:q(()=>[P(u(e.ScorePercent)+` % `,1)]),_:2},1032,[`color`])]),_:2},1032,[`title`,`subtitle`,`prepend-icon`,`onClick`]))),128))]),_:1}))]),_:1}),Y(D,null,{default:q(()=>[Y(I,{onClick:t[1]||=e=>{s.value=!s.value,c.value=``}},{default:q(()=>[P(u(s.value?`Retour aux suggestions`:`Chercher manuellement`),1)]),_:1}),Y(Q),Y(I,{variant:`elevated`,elevation:`1`,onClick:t[2]||=e=>f(),"prepend-icon":`mdi-plus`},{default:q(()=>[...t[5]||=[P(` Créer un nouveau profil`,-1)]]),_:1})]),_:1})]),_:1},8,[`subtitle`])}}}),Dn=i({__name:`InscriptionEtatcivilCols`,props:{personne:{},api:{},acteur:{}},emits:[`identifie`],setup(e,{emit:t}){let i=e,a=t;return(e,t)=>(H(),x(W,null,[Y(r,{"align-self":`center`,cols:`3`},{default:q(()=>[Y(Pt,null,{activator:q(({props:e})=>[i.personne.IsTemp?(H(),M(Dt,{key:0,"close-on-content-click":!1},{activator:q(({props:t})=>[Y(X,h({label:``},h(t,e)),{prepend:q(()=>[Y(K,{class:`mr-2`,icon:`mdi-alert`,color:`orange`})]),default:q(()=>[P(` `+u(F(v).label(i.personne)),1)]),_:1},16)]),default:q(()=>[i.acteur==F(n).Directeur?(H(),M(A,{key:0},{default:q(()=>[Y(G,null,{default:q(()=>[...t[1]||=[P(` Le rapprochement de ce profil requiert une action du centre d'inscription. `,-1)]]),_:1})]),_:1})):(H(),M(En,{key:1,api:i.api,personne:i.personne,onIdentifie:t[0]||=e=>a(`identifie`,e)},null,8,[`api`,`personne`]))]),_:2},1024)):(H(),x(`div`,ut(h({key:1},e)),u(F(v).label(i.personne)),17))]),default:q(()=>[i.personne.IsTemp?(H(),x(W,{key:0},[P(` Ce profil est temporaire et doit être identifié. `)],64)):(H(),x(W,{key:1},[P(` Ce profil est identifié (ID: `+u(i.personne.Id)+`). `,1)],64))]),_:1})]),_:1}),Y(r,{"align-self":`center`,cols:`auto`},{default:q(()=>[Y(K,{icon:F(L).sexeIcon(i.personne.Sexe),class:`mx-4`},null,8,[`icon`])]),_:1}),Y(r,{"align-self":`center`,cols:`2`},{default:q(()=>[t[2]||=k(`small`,{class:`text-grey`},`né(e) le`,-1),P(` `+u(F(L).dateNaissance(i.personne.DateNaissance)),1)]),_:1})],64))}}),On=i({__name:`InscriptionRow`,props:{inscription:{},api:{},user:{},hideDelete:{type:Boolean},alreadyValidated:{type:Boolean}},emits:[`identifie`,`valide`,`merge`,`delete`,`deleteParticipant`],setup(e,{emit:t}){let i=e,a=t,s=O(()=>i.user==null?n.Backoffice:n.Directeur),c=O(()=>!i.inscription.Responsable.IsTemp&&!!i.inscription.Participants?.every(e=>!e.Personne.IsTemp));function l(e){return c.value&&(i.user===null||i.user==e.IdCamp)}let d=O(()=>i.user==null?i.inscription.Participants||[]:(i.inscription.Participants||[]).filter(e=>e.Camp.Id==i.user)),f=O(()=>(i.inscription.Participants?.length||0)-d.value.length),p=U(null);return(t,g)=>(H(),M(A,{subtitle:F(L).time(i.inscription.Dossier.MomentInscription,!0,!0)},{append:q(()=>[e.alreadyValidated?(H(),M(Pt,{key:0,text:`En attente de validation par les autres séjours`},{activator:q(({props:e})=>[Y(K,h(e,{color:`green`}),{default:q(()=>[...g[7]||=[P(` mdi-check `,-1)]]),_:1},16)]),_:1})):(H(),M(I,{key:1,disabled:!c.value||!i.inscription.Participants?.length,onClick:g[0]||=e=>a(`valide`),"prepend-icon":`mdi-check-all`},{default:q(()=>[...g[8]||=[P(` Tout valider`,-1)]]),_:1},8,[`disabled`])),i.hideDelete?m(``,!0):(H(),M(Dt,{key:2},{activator:q(({props:e})=>[Y(I,h(e,{variant:`flat`,icon:`mdi-dots-vertical`,size:`small`,class:`ml-1`}),null,16)]),default:q(()=>[Y(Tt,{density:`compact`},{default:q(()=>[Y(Z,{"prepend-icon":`mdi-file-move`,onClick:g[1]||=e=>a(`merge`),title:`Fusionner vers ...`}),Y(vt),Y(Z,{title:`Supprimer`,"prepend-icon":`mdi-delete`,onClick:g[2]||=e=>a(`delete`)})]),_:1})]),_:1}))]),default:q(()=>[Y(G,null,{default:q(()=>[Y(J,null,{default:q(()=>[Y(r,{cols:`7`},{default:q(()=>[Y(J,{"no-gutters":``,class:`my-0 py-1 font-italic`},{default:q(()=>[Y(Dn,{api:i.api,personne:i.inscription.Responsable,acteur:s.value,onIdentifie:g[3]||=e=>a(`identifie`,e)},null,8,[`api`,`personne`,`acteur`]),Y(Q),Y(r,{cols:`auto`},{default:q(()=>[f.value?(H(),M(X,{key:0,size:`small`},{default:q(()=>[P(` + `+u(f.value)+` inscrit(s) sur d'autres séjours `,1)]),_:1})):m(``,!0)]),_:1})]),_:1}),Y(vt,{thickness:`4`,rounded:``}),(H(!0),x(W,null,qe(d.value,(e,t)=>(H(),M(J,{"no-gutters":``,class:`my-0 py-1`,key:t},{default:q(()=>[Y(r,{cols:`auto`},{default:q(()=>[...g[9]||=[k(`div`,{style:{width:`12px`}},null,-1)]]),_:1}),Y(Dn,{api:i.api,personne:e.Personne,acteur:s.value,onIdentifie:g[4]||=e=>a(`identifie`,e)},null,8,[`api`,`personne`,`acteur`]),Y(r,{"align-self":`center`,cols:`3`,class:`text-center`},{default:q(()=>[s.value==F(n).Backoffice?(H(),x(W,{key:0},[P(u(F(o).label(e.Camp)),1)],64)):m(``,!0)]),_:2},1024),Y(Q),Y(r,{"align-self":`center`,cols:`1`,class:`pr-2 text-center`},{default:q(()=>[e.Participant.Statut==F(R).AStatuer?l(e.Participant)?(H(),M(I,{key:1,size:`small`,title:`Valider ce participant...`,onClick:t=>a(`valide`,e.Participant.Id)},{default:q(()=>[Y(K,{icon:F(L).statutParticipant(F(R).AStatuer).icon},null,8,[`icon`]),Y(K,null,{default:q(()=>[...g[10]||=[P(`mdi-arrow-right`,-1)]]),_:1}),Y(K,{icon:F(L).statutParticipant((i.inscription.StatutHints||{})[e.Participant.Id].Statut).icon,color:F(L).statutParticipant((i.inscription.StatutHints||{})[e.Participant.Id].Statut).color},null,8,[`icon`,`color`])]),_:2},1032,[`onClick`])):m(``,!0):(H(),M(K,{key:0,color:F(L).statutParticipant(e.Participant.Statut).color,icon:F(L).statutParticipant(e.Participant.Statut).icon},null,8,[`color`,`icon`]))]),_:2},1024),i.hideDelete?m(``,!0):(H(),M(r,{key:0,"align-self":`center`,cols:`auto`},{default:q(()=>[Y(I,{icon:``,size:`x-small`,onClick:t=>p.value=e,title:`Supprimer ce participant...`},{default:q(()=>[Y(K,{color:`red`},{default:q(()=>[...g[11]||=[P(`mdi-delete`,-1)]]),_:1})]),_:1},8,[`onClick`])]),_:2},1024))]),_:2},1024))),128))]),_:1}),Y(r,{cols:`5`},{default:q(()=>[Y(J,{"no-gutters":``},{default:q(()=>[Y(r,{cols:`auto`,class:`px-2`},{default:q(()=>[Y(K,{color:i.inscription.Message.length?`primary`:`grey`},{default:q(()=>[...g[12]||=[P(`mdi-message`,-1)]]),_:1},8,[`color`])]),_:1}),Y(r,null,{default:q(()=>[(H(!0),x(W,null,qe(i.inscription.Message.split(`
`),(e,t)=>(H(),x(`div`,{key:t},u(e),1))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),Y(Nt,{"model-value":p.value!=null,"onUpdate:modelValue":g[6]||=e=>p.value=null,"max-width":`600px`},{default:q(()=>[p.value?(H(),M(A,{key:0,title:`Confirmation`},{default:q(()=>[Y(G,null,{default:q(()=>[g[13]||=P(` Confirmez-vous la suppression du participant `,-1),k(`b`,null,u(F(v).label(p.value.Personne)),1),g[14]||=P(` ? `,-1),g[15]||=k(`br`,null,null,-1),g[16]||=k(`br`,null,null,-1),g[17]||=P(` Attention, cette opération est irréversible. `,-1)]),_:1}),Y(D,null,{default:q(()=>[Y(Q),Y(I,{color:`red`,onClick:g[5]||=e=>{a(`deleteParticipant`,p.value.Participant.Id),p.value=null}},{default:q(()=>[...g[18]||=[P(`Supprimer`,-1)]]),_:1})]),_:1})]),_:1})):m(``,!0)]),_:1},8,[`model-value`])]),_:1},8,[`subtitle`]))}});export{Vt as _,yn as a,Ht as b,mn as c,dn as d,un as f,Gt as g,rn as h,bn as i,pn as l,on as m,wn as n,vn as o,cn as p,Sn as r,gn as s,On as t,fn as u,Ut as v,Wt as y};