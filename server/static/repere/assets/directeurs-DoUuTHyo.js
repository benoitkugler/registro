import{$i as e,$r as t,$t as n,Ai as r,Ar as i,B as a,Bi as o,Bt as s,C as c,Ca as l,Cn as u,Da as d,Di as f,Dn as p,Dr as m,E as h,Ea as g,En as _,Er as v,Fi as y,Fr as b,Gi as x,Gt as S,H as ee,Ht as te,I as ne,Ii as C,Ji as w,Jt as re,Ki as T,Kt as E,L as ie,Li as D,M as O,Mi as k,Mr as ae,Ni as A,Nr as oe,O as j,Oi as M,Or as se,Pi as N,Pr as ce,Qi as P,Qt as le,Ri as F,Sa as ue,Si as de,Sn as fe,Sr as pe,St as me,Ta as he,Ti as I,Tn as ge,Tr as _e,U as L,Ui as ve,Ur as ye,Ut as be,V as xe,Vi as Se,Wi as Ce,Wr as we,Wt as Te,Xi as Ee,Xt as De,Yr as Oe,Zi as ke,Zn as Ae,_ as je,_n as Me,aa as Ne,bn as Pe,br as Fe,cn as Ie,dr as Le,er as Re,f as ze,fa as Be,fr as Ve,g as He,ga as Ue,gn as We,gt as Ge,hr as Ke,ht as qe,i as Je,ji as R,jr as Ye,k as Xe,ki as z,kr as Ze,la as B,ma as Qe,mn as $e,mr as et,mt as tt,n as nt,na as rt,ni as it,nn as at,nr as ot,nt as st,oa as ct,on as lt,ot as ut,pi as dt,pn as ft,qi as pt,r as mt,ra as ht,rn as gt,rt as _t,sa as vt,sn as yt,t as bt,ta as xt,tr as V,u as St,ua as Ct,un as wt,ur as Tt,vn as Et,vr as Dt,w as Ot,wa as kt,wn as At,wr as jt,xa as Mt,xn as Nt,xr as Pt,ya as Ft,yi as It,yn as Lt,z as Rt,zi as zt,zt as Bt}from"./VSnackbar-LvWtNdJy.js";import{S as Vt,_ as Ht,m as Ut,o as Wt,s as Gt,t as Kt,u as qt,v as Jt,x as Yt}from"./VSelect-Bx_vVmV1.js";import{n as Xt,r as Zt,t as Qt}from"./vue-router-C8ebQPUi.js";import{a as $t,c as en,d as tn,f as nn,h as rn,i as an,l as on,m as sn,o as cn,p as ln,r as un,t as dn,u as fn}from"./InscriptionRow-CHvJ17mA.js";import{n as pn,r as mn,t as hn}from"./FileCard-CVMWAru2.js";import{t as gn}from"./VBadge-DXxfq13U.js";import{n as _n,t as vn}from"./VPicker-CmjLZybh.js";import"./VSheet-BYlkzo_m.js";import{t as yn}from"./VDialog-BCp13ton.js";import{t as bn}from"./VTooltip-C1Jcx6l0.js";import{t as xn}from"./VTextarea-Dhn7CSAE.js";import{i as Sn,n as Cn,o as wn,r as Tn,t as En}from"./VTabs-BiDtev8R.js";import{t as Dn}from"./VAlert-CBLxfJ74.js";import"./VWindowItem-BWBtfq3X.js";import{a as On,i as kn,n as An,o as jn,r as Mn,s as Nn,t as Pn}from"./VSlider-DhIcZbC_.js";const H=new class extends We{camp=null;comptaURL=``;constructor(e,t,n){super(n,``),this.onError=e,this.showMessage=t}hasToken(){return this.authToken!=``}setCamp(e,t,n){this.camp=e,this.comptaURL=t,this.authToken=n}handleError(e){let{kind:t,messageHtml:n}=at(e);this.onError(t,n)}startRequest(){}}((e,t)=>{},(e,t)=>{},E());function Fn(e){return e.Content.Message.Origine==Me.Directeur&&e.Content.Message.OrigineCamp.Id==H.camp?.Id}function In(e){return H.camp==null||Fn(e)?!1:!(e.Content.VuParCampsIDs||[]).includes(H.camp.Id)}let Ln;(function(e){function t(){let e=window.localStorage.getItem(`cachedIdCamp`)||``,t=window.localStorage.getItem(`cachedTokenDirecteurs`)||``;return{idCamp:Number(e),token:t}}e.get=t;function n(e,t){window.localStorage.setItem(`cachedIdCamp`,String(e)),window.localStorage.setItem(`cachedTokenDirecteurs`,t)}e.set=n;function r(){window.localStorage.removeItem(`cachedIdCamp`),window.localStorage.removeItem(`cachedTokenDirecteurs`)}e.clear=r})(Ln||={});var Rn=zt({__name:`NavBar`,props:{title:{},hideMenu:{type:Boolean}},setup(t){let n=t;return(t,i)=>(e(),y(r,null,[F(rn,{app:``,"model-value":!n.hideMenu,"expand-on-hover":``,permanent:``,rail:``},{default:B(()=>[F(Jt,{"prepend-icon":`mdi-menu`,title:`Registro - Directeurs`,subtitle:`v0.9.2`}),F(Vt),F(Jt,{"prepend-icon":`mdi-calendar-multiple-check`,link:``,to:{path:`/inscriptions`},color:`primary`},{default:B(()=>[...i[1]||=[D(` Inscriptions `,-1)]]),_:1}),F(Jt,{"prepend-icon":`mdi-mail`,link:``,to:{path:`/documents`},color:`primary`},{default:B(()=>[...i[2]||=[D(` Documents `,-1)]]),_:1}),F(Vt),F(Jt,{"prepend-icon":`mdi-account-hard-hat`,link:``,to:{path:`/equipiers`},color:`primary`},{default:B(()=>[...i[3]||=[D(` Equipiers `,-1)]]),_:1}),F(Vt),F(Jt,{"prepend-icon":`mdi-image-album`,link:``,to:{path:`/photos`},color:`primary`},{default:B(()=>[...i[4]||=[D(` Album photos `,-1)]]),_:1}),F(Vt),F(Jt,{"prepend-icon":`mdi-comment-quote`,link:``,to:{path:`/avis`},color:`primary`},{default:B(()=>[...i[5]||=[D(` Avis `,-1)]]),_:1}),F(Vt),F(Vt),F(Jt,{"prepend-icon":`mdi-logout`,link:``,to:{path:`/`},color:`primary`,onClick:i[0]||=e=>Mt(Ln).clear()},{default:B(()=>[...i[6]||=[D(` Se déconnecter `,-1)]]),_:1})]),_:1},8,[`model-value`]),F(Ge,{rounded:``,elevation:`4`,color:`primary`},{append:B(()=>[rt(t.$slots,`default`),i[7]||=k(`div`,{class:`mr-2`},null,-1)]),default:B(()=>[F(ee,null,{default:B(()=>[F(Rt,null,{default:B(()=>[F(a,{"align-self":`center`,cols:`auto`},{default:B(()=>[F(me,{width:`150`,src:`/static/repere/logo.png`})]),_:1}),F(a,{"align-self":`center`},{default:B(()=>[D(he(n.title),1)]),_:1})]),_:1})]),_:1})]),_:3})],64))}}),zn=zt({__name:`index`,setup(t){let n=Zt();ke(()=>{o(),a()});let i=Qe([]);async function a(){let e=await H.GetCamps();e!==void 0&&(i.value=e||[])}async function o(){await n.isReady();let e=n.currentRoute.value.query.idCamp,t=n.currentRoute.value.query[`backoffice-token`];e&&t&&c(Number(e),t)}let s=Qe([]);async function c(e,t){let r=await H.Loggin({password:t,idCamp:e});r!==void 0&&(r.IsValid?(H.setCamp(r.Camp,r.ComptaURL,r.Token),Ln.set(e,r.Token),H.showMessage(`Bienvenue !`),n.push({path:`/inscriptions`})):s.value=[`Mot de passe incorrect.`])}let l=Qe(0),u=Qe(``),d=Qe(!1);function f(){c(l.value,u.value)}return(t,n)=>{let a=en;return e(),y(r,null,[F(Rn,{title:`Connection à la page Directeur`,"hide-menu":``}),F(xe,{class:`fill-height`},{default:B(()=>[F(j,{title:`Connection`,class:`mx-auto`,width:`400px`},{default:B(()=>[F(Xe,null,{default:B(()=>[k(`form`,null,[F(a,{label:`Camp`,modelValue:l.value,"onUpdate:modelValue":n[0]||=e=>l.value=e,camps:i.value,name:`user`,"default-style":``},null,8,[`modelValue`,`camps`]),F(St,{class:`mt-2`,label:`Mot de passe`,modelValue:u.value,"onUpdate:modelValue":[n[2]||=e=>u.value=e,n[3]||=e=>s.value=[]],"error-messages":s.value,type:d.value?void 0:`password`,name:`password`,onKeydown:n[4]||=M(z(()=>!l.value||!u.value.length?null:f(),[`prevent`]),[`enter`]),autocomplete:`current-password`},{"append-inner":B(()=>[F(L,{class:`ml-2`,size:`small`,icon:d.value?`mdi-eye`:`mdi-eye-off`,flat:``,onClick:n[1]||=e=>d.value=!d.value},null,8,[`icon`])]),_:1},8,[`modelValue`,`error-messages`,`type`])])]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{disabled:!l.value||!u.value.length,onClick:f},{default:B(()=>[...n[5]||=[D(`Se connecter`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1})],64)}}}),Bn={key:1,class:`text-center font-italic`},Vn={key:2},Hn=zt({__name:`PannelInscriptions`,emits:[`goTo`],setup(t,{emit:n}){let i=n,a=Qe(!1);ke(c);let o=Qe([]);async function c(){a.value=!0;let e=await H.InscriptionsGet();a.value=!1,e!==void 0&&(o.value=e||[])}let l=Qe(``),u=R(()=>{let e=le(l.value);return o.value.filter(t=>S.match(t.Responsable,e)||t.Participants?.some(t=>S.match(t.Personne,e)||s.match(t.Camp,e)))});function d(e){let t=H.camp.Id;return(e.Participants||[]).filter(e=>e.Camp.Id==t).every(e=>e.Participant.Statut!=p.AStatuer)}async function f(e,t){let n=await H.InscriptionsIdentifiePersonne({IdDossier:e,Target:t});if(n===void 0)return;H.showMessage(`Profil identifié avec succès.`);let r=o.value.findIndex(t=>t.Dossier.Id==e);o.value[r]=n}let m=Qe(null);function h(e){return(e.Participants||[]).filter(e=>e.Camp.Id==H.camp?.Id).map(e=>e.Participant.Id)}async function g(e,t){if(!m.value)return;let n=m.value.inscription.Dossier.Id;m.value=null;let r=await H.InscriptionsValide({IdDossier:n,Statuts:e,SendMail:t});if(r!==void 0)if(H.showMessage(`Inscription validée avec succès.`,``,{title:`Aller aux participants`,action:()=>i(`goTo`)}),r.Dossier.IsValidated)o.value=o.value.filter(e=>e.Dossier.Id!=n);else{let e=o.value.findIndex(e=>e.Dossier.Id==n);o.value[e]=r}}return(t,n)=>{let i=un;return e(),A(j,{title:`Inscriptions`,subtitle:`En attente de validation`,class:`ma-2`},{append:B(()=>[F(St,{width:`300`,"append-inner-icon":`mdi-magnify`,label:`Rechercher`,"hide-details":``,modelValue:l.value,"onUpdate:modelValue":n[0]||=e=>l.value=e},null,8,[`modelValue`])]),default:B(()=>[F(Xe,null,{default:B(()=>[a.value?(e(),A(Je,{key:0})):o.value.length?(e(),y(`div`,Vn,[(e(!0),y(r,null,xt(u.value,(t,n)=>(e(),A(dn,{class:`my-1`,user:Mt(H).camp.Id,key:n,inscription:t,"hide-delete":``,"already-validated":d(t),onIdentifie:e=>f(t.Dossier.Id,e),onValide:e=>m.value={inscription:t,participants:e===void 0?h(t):[e]},api:{SearchSimilaires:Mt(H).InscriptionsSearchSimilaires.bind(Mt(H)),SelectPersonne:Mt(H).SelectPersonne.bind(Mt(H))}},null,8,[`user`,`inscription`,`already-validated`,`onIdentifie`,`onValide`,`api`]))),128))])):(e(),y(`div`,Bn,` Il n'y a aucune inscription à valider. `))]),_:1}),F(yn,{"model-value":m.value!=null,"onUpdate:modelValue":n[1]||=e=>m.value=null,"max-width":`800px`},{default:B(()=>[m.value?(e(),A(i,{key:0,inscription:m.value.inscription,"id-participants":m.value.participants,onValide:g},null,8,[`inscription`,`id-participants`])):N(``,!0)]),_:1},8,[`model-value`])]),_:1})}}});const Un=_e({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>[`even`,`odd`].includes(e)},...jt(),...tt(),...Bt(),...V()},`VTable`),Wn=Pt()({name:`VTable`,props:Un(),setup(e,t){let{slots:n,emit:r}=t,{themeClasses:i}=ot(e),{densityClasses:a}=qe(e);return Ke(()=>F(e.tag,{class:ue([`v-table`,{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped===`even`,"v-table--striped-odd":e.striped===`odd`},i.value,a.value,e.class]),style:kt(e.style)},{default:()=>[n.top?.(),n.default?k(`div`,{class:`v-table__wrapper`,style:{height:we(e.height)}},[k(`table`,null,[n.default()])]):n.wrapper?.(),n.bottom?.()]})),{}}});var Gn=[`title`],Kn={class:`py-2`},qn={class:`px-2 text-center`},Jn={class:`px-2`},Yn={class:`px-2`},Xn=zt({__name:`FichesSanitairesPannel`,setup(t){ke(i);let n=Qe(null);async function i(){let e=await H.ParticipantsGetFichesSanitaires();e!==void 0&&(n.value=e||[])}function a(e){switch(e.State){case fe.NoFiche:return`red`;case fe.Outdated:return`orange`;case fe.UpToDate:return`green`}}async function o(e){let t=await H.ParticipantsDownloadFicheSanitaire({idParticipant:e});t!==void 0&&(H.showMessage(`Fiche sanitaire téléchargée avec succès.`),lt(t.blob,t.filename))}return(t,i)=>n.value==null?(e(),A(Je,{key:1,type:`card`})):(e(),A(j,{key:0,title:`Fiches sanitaires et vaccins`,"max-width":`1200px`,class:`mx-auto`},{append:B(()=>[F(Wt,null,{activator:B(({props:e})=>[F(L,Ce({icon:`mdi-download`},e),null,16)]),default:B(()=>[F(Ut,null,{default:B(()=>[F(Jt,{title:`Fiches sanitaires`,subtitle:`Document unique au format .pdf (sans les vaccins)`})]),_:1})]),_:1})]),default:B(()=>[F(Xe,null,{default:B(()=>[F(Wn,null,{default:B(()=>[(e(!0),y(r,null,xt(n.value,t=>(e(),y(`tr`,{title:t.Personne},[k(`td`,Kn,he(t.Personne),1),k(`td`,qn,[F(Gt,{color:a(t)},{default:B(()=>[D(he(Mt(u)[t.State]),1)]),_:2},1032,[`color`])]),k(`td`,Jn,[t.Fiche.TraitementMedical?(e(),A(Gt,{key:0,"prepend-icon":`mdi-alert`},{default:B(()=>[...i[0]||=[D(` Traitement `,-1)]]),_:1})):N(``,!0)]),i[1]||=k(`td`,{class:`px-2`},null,-1),k(`td`,Yn,[F(Wt,null,{activator:B(({props:e})=>[F(L,Ce({ref_for:!0},e,{icon:`mdi-dots-vertical`,size:`x-small`}),null,16)]),default:B(()=>[F(Ut,null,{default:B(()=>[F(Jt,{title:`Fiche sanitaire`,subtitle:`Télécharger au format .pdf`,"prepend-icon":`mdi-download`,onClick:e=>o(t.IdParticipant),disabled:t.State==Mt(fe).NoFiche},null,8,[`onClick`,`disabled`]),F(Vt,{thickness:`1`})]),_:2},1024)]),_:2},1024)])],8,Gn))),256))]),_:1})]),_:1})]),_:1}))}}),Zn={class:`text-left py-1`},Qn={class:`text-center`},$n={class:`text-center`},er={class:`text-right py-1`},tr=zt({__name:`DocumentsPannel`,setup(t){ke(i);let n=Qe(null);async function i(){let e=await H.ParticipantsLoadFiles();e!==void 0&&(n.value=e)}let a=R(()=>Object.values(n.value?.Demandes||{}).sort((e,t)=>e.Id-t.Id).map(e=>({Id:e.Id,title:e.Categorie==Et.NoBuiltin?e.Description:Lt[e.Categorie]})));function o(e){let t=Object.values(n.value?.Demandes||{});return t?e.Fichesanitaire==fe.UpToDate&&t.every(t=>((e.Files||{})[t.Id]||[]).length!=0):!1}let s=Be(new Set);async function c(e){s.add(e.Id);let t=await H.ParticipantsRelanceDocuments([e.Id]);s.delete(e.Id),t!==void 0&&H.showMessage(`Message de relance pour ${e.Personne} envoyé avec succès.`)}let l=Qe(!1),d=Qe([]);function f(){return(n.value?.Participants||[]).filter(e=>!o(e)).map(e=>e.Id)}async function p(){l.value=!1;let e=d.value;e.forEach(e=>s.add(e));let t=await H.ParticipantsRelanceDocuments(e);e.forEach(e=>s.delete(e)),t!==void 0&&H.showMessage(`Messages de relance envoyés avec succès.`)}return(t,i)=>n.value==null?(e(),A(Je,{key:1,type:`card`})):(e(),A(j,{key:0,title:`Documents`,subtitle:`Documents déposés via l'espace de suivi, à télécharger`},{append:B(()=>[F(L,{class:`mx-1`,onClick:i[0]||=e=>{d.value=f(),l.value=!0},disabled:s.size!=0,"prepend-icon":`mdi-email-arrow-right`},{default:B(()=>[...i[3]||=[D(` Relancer...`,-1)]]),_:1},8,[`disabled`]),F(L,{"prepend-icon":`mdi-download`},{default:B(()=>[i[4]||=D(` Télécharger... `,-1),F(Wt,{activator:`parent`},{default:B(()=>[F(Ut,null,{default:B(()=>[F(Jt,{title:`Fiches sanitaires`,subtitle:`Télécharger un fichier .pdf`,href:Mt(H).DocumentsDownloadFichesSanitaires(Mt(H).authToken)},null,8,[`href`]),(e(!0),y(r,null,xt(a.value,t=>(e(),A(Jt,{title:t.title,subtitle:`Télécharger une archive .zip`,href:Mt(H).DocumentsStreamFiles(t.Id,Mt(H).authToken)},null,8,[`title`,`href`]))),256))]),_:1})]),_:1})]),_:1})]),default:B(()=>[F(Xe,null,{default:B(()=>[n.value.DocumentsReady?N(``,!0):(e(),A(Dn,{key:0,type:`warning`},{append:B(()=>[F(L,{"prepend-icon":`mdi-cog`,to:{path:`/documents`}},{default:B(()=>[...i[5]||=[D(` Configurer `,-1)]]),_:1})]),default:B(()=>[i[6]||=D(` Les documents sont encore verrouillés et masqués aux participants. `,-1)]),_:1})),F(Wn,{class:`mt-4`},{default:B(()=>[k(`tr`,null,[i[7]||=k(`th`,{class:`text-left`},`Participant`,-1),i[8]||=k(`th`,null,`Fiche sanitaire`,-1),(e(!0),y(r,null,xt(a.value,t=>(e(),y(`th`,null,he(t.title),1))),256)),i[9]||=k(`th`,{style:{width:`40px`}},null,-1)]),(e(!0),y(r,null,xt(n.value.Participants,t=>(e(),y(`tr`,null,[k(`td`,Zn,he(t.Personne),1),k(`td`,Qn,[F(Gt,{color:Mt(be).colorFichesanitaireState(t.Fichesanitaire),density:`compact`},{default:B(()=>[D(he(Mt(u)[t.Fichesanitaire]),1)]),_:2},1032,[`color`])]),(e(!0),y(r,null,xt(a.value,n=>(e(),y(`td`,$n,[(t.Files||{})[n.Id]?.length?(e(),A(L,{key:0,icon:``,size:`small`,flat:``},{default:B(()=>[F(_t,{color:`green`},{default:B(()=>[...i[10]||=[D(`mdi-check`,-1)]]),_:1}),F(Wt,{activator:`parent`},{default:B(()=>[F(Ut,null,{default:B(()=>[(e(!0),y(r,null,xt((t.Files||{})[n.Id],t=>(e(),A(Jt,{title:t.NomClient,subtitle:`${Mt(be).size(t.Taille)} - Ajouté ${Mt(be).date(t.Uploaded)}`},{append:B(()=>[F(wn,{class:`ma-2`,"file-key":t.Key,"is-generated-doc":!1},null,8,[`file-key`])]),_:2},1032,[`title`,`subtitle`]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)):(e(),A(_t,{key:1,color:`orange`},{default:B(()=>[...i[11]||=[D(`mdi-alert `,-1)]]),_:1}))]))),256)),k(`td`,er,[F(L,{icon:``,size:`small`,disabled:o(t)||s.has(t.Id),onClick:e=>c(t)},{default:B(()=>[s.has(t.Id)?(e(),A(st,{key:0,size:`small`})):(e(),A(_t,{key:1,icon:`mdi-email-arrow-right`})),F(bn,{activator:`parent`},{default:B(()=>[...i[12]||=[D(` Envoyer un email de relance `,-1)]]),_:1})]),_:2},1032,[`disabled`,`onClick`])])]))),256))]),_:1})]),_:1}),F(yn,{modelValue:l.value,"onUpdate:modelValue":i[2]||=e=>l.value=e,"max-width":`600px`},{default:B(()=>[F(j,{title:`Envoi d'une relance`,subtitle:`Un mail de relance va être envoyé aux participants suivants.`},{default:B(()=>[F(Xe,null,{default:B(()=>[F(ln,{density:`compact`,multiple:``,chips:``,"closable-chips":``,items:(n.value.Participants||[]).map(e=>({title:e.Personne,value:e.Id})),modelValue:d.value,"onUpdate:modelValue":i[1]||=e=>d.value=e},null,8,[`items`,`modelValue`])]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{onClick:p,disabled:!d.value.length,color:`green`},{default:B(()=>[...i[13]||=[D(`Relancer`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),_:1}))}}),nr=zt({__name:`MessageRow`,props:{message:{}},emits:[`setSeen`,`startReply`],setup(t,{emit:n}){let r=t,i=n,o=R(()=>In(r.message)),s=R(()=>Fn(r.message)),c=R(()=>{let e=r.message.Content.Message.Origine;return e==Me.Backoffice||e==Me.FondSoutien});return(t,n)=>(e(),A(Rt,{class:`my-1`},{default:B(()=>[F(a,{"align-self":`center`,cols:`1`,class:`text-center`},{default:B(()=>[s.value?N(``,!0):(e(),A(bn,{key:0,text:o.value?`Marquer comme lu`:`Marquer comme non lu`,location:`left`},{activator:B(({props:e})=>[F(L,Ce(e,{size:`small`,icon:``,flat:``,onClick:n[0]||=e=>i(`setSeen`,o.value)}),{default:B(()=>[F(_t,{color:o.value?`pink`:``,icon:o.value?`mdi-message-badge`:`mdi-message-check`},null,8,[`color`,`icon`])]),_:1},16)]),_:1},8,[`text`]))]),_:1}),F(a,{"align-self":`center`,class:ue({"rounded-lg":!0,"font-weight-bold":o.value,"bg-purple-lighten-4":s.value,"bg-green-lighten-4":c.value,"bg-blue-lighten-4":!(s.value||c.value)}),style:{"font-size":`smaller`}},{default:B(()=>[k(`pre`,null,he(r.message.Content.Message.Contenu),1)]),_:1},8,[`class`]),F(a,{"align-self":`center`,cols:`2`,class:`text-grey`},{default:B(()=>[D(he(Mt(be).time(r.message.Event.Created)),1)]),_:1})]),_:1}))}}),rr=zt({__name:`MessagesPannel`,setup(t){ke(l);let n=Qe(0),i=Qe(!1),a=R(()=>(c.value?.Messages||[]).filter(e=>!i.value||In(e)));function o(e){let t=new Date(e[0].Event.Created);for(let n of e){let e=new Date(n.Event.Created);e.valueOf()>t.valueOf()&&(t=e)}return t}let s=R(()=>{let e=new Map;for(let t of a.value)e.set(t.Event.IdDossier,(e.get(t.Event.IdDossier)||[]).concat(t));let t=Array.from(e.entries()).map(e=>({IdDossier:e[0],Dossier:(c.value?.Dossiers||{})[e[0]],Messages:e[1].reverse()}));return n.value==0?t.sort((e,t)=>o(t.Messages).valueOf()-o(e.Messages).valueOf()):t.sort((e,t)=>e.Dossier.Responsable.localeCompare(t.Dossier.Responsable)),t}),c=Qe(null);async function l(){let e=await H.ParticipantsMessagesLoad();e!==void 0&&(c.value=e||[])}async function u(e,t){if(!c.value)return;let n=await H.ParticipantsMessageSetSeen({idEvent:e,seen:t});if(n===void 0)return;let r=c.value.Messages?.findIndex(t=>t.Event.Id==e);c.value.Messages[r]=n,H.showMessage(t?`Message marqué comme lu.`:`Message marqué comme non lu.`)}let d=Qe(null),f=Qe(``);async function p(){let e=d.value;if(!c.value||!e)return;d.value=null;let t=await H.ParticipantsMessagesCreate({Contenu:f.value,IdDossier:e});t!==void 0&&(H.showMessage(`Message envoyé avec succès.`),c.value.Messages=[t].concat(c.value.Messages||[]))}return(t,a)=>c.value==null?(e(),A(Je,{key:1,type:`card`})):(e(),A(j,{key:0,title:`Messages des familles`},{append:B(()=>[F(ut,{color:`primary`,class:`mx-1`,modelValue:n.value,"onUpdate:modelValue":a[0]||=e=>n.value=e,rounded:``,mandatory:``},{default:B(()=>[F(L,{icon:`mdi-sort-clock-ascending-outline`,title:`Trier par date du dernier message`}),F(L,{icon:`mdi-sort-alphabetical-ascending`,title:`Trier par nom`})]),_:1},8,[`modelValue`]),F(Vt,{vertical:``,thickness:`1`,class:`mx-1`}),F(L,{icon:``,size:`small`,class:`mx-1`,variant:i.value?`tonal`:`elevated`,onClick:a[1]||=e=>i.value=!i.value},{default:B(()=>[F(_t,{color:`pink`},{default:B(()=>[...a[4]||=[D(`mdi-message-badge`,-1)]]),_:1}),F(bn,{activator:`parent`},{default:B(()=>[...a[5]||=[D(` Filtrer les messages non lu `,-1)]]),_:1})]),_:1},8,[`variant`])]),default:B(()=>[F(Xe,null,{default:B(()=>[(e(!0),y(r,null,xt(s.value,t=>(e(),A(j,{title:t.Dossier.Responsable,subtitle:(t.Dossier.Participants||[]).join(`, `),class:`my-2`},{append:B(()=>[F(L,{size:`small`,onClick:e=>d.value=t.IdDossier,"prepend-icon":`mdi-reply`},{default:B(()=>[...a[6]||=[D(` Répondre`,-1)]]),_:1},8,[`onClick`])]),default:B(()=>[F(Xe,null,{default:B(()=>[(e(!0),y(r,null,xt(t.Messages,t=>(e(),A(nr,{message:t,onSetSeen:e=>u(t.Event.Id,e),onStartReply:e=>d.value=t.Event.IdDossier},null,8,[`message`,`onSetSeen`,`onStartReply`]))),256))]),_:2},1024)]),_:2},1032,[`title`,`subtitle`]))),256))]),_:1}),F(yn,{"model-value":d.value!==null,"onUpdate:modelValue":a[3]||=e=>d.value=null,"max-width":`600px`},{default:B(()=>[d.value?(e(),A(j,{key:0,title:`Nouveau message`,subtitle:(c.value.Dossiers||{})[d.value].Responsable},{default:B(()=>[F(Xe,null,{default:B(()=>[F(xn,{autofocus:``,placeholder:`Rédigez votre message...`,modelValue:f.value,"onUpdate:modelValue":a[2]||=e=>f.value=e,rows:`10`},null,8,[`modelValue`])]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{disabled:!f.value.length,onClick:p,"prepend-icon":`mdi-send`},{default:B(()=>[...a[7]||=[D(` Envoyer`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1},8,[`subtitle`])):N(``,!0)]),_:1},8,[`model-value`])]),_:1}))}}),ir=zt({__name:`StatistiquesCard`,props:{participants:{},statistiques:{}},setup(t){let n=t,r=R(()=>n.participants.filter(e=>e.Participant.Statut==p.Inscrit&&e.HasBirthday).length);return R(()=>n.participants.filter(e=>e.Participant.Statut==p.Inscrit)),R(()=>{let e={inscrits:0,listeAttente:0,anniversaires:0,garcons:0,filles:0,suisses:0};n.participants.forEach(t=>{t.Participant.Statut==p.Inscrit&&(e.inscrits+=1)})}),(t,i)=>(e(),A(j,{subtitle:`Statistiques`,width:`300px`},{default:B(()=>[F(Xe,null,{default:B(()=>[F(Rt,{class:`my-1`,"no-gutters":``,justify:`space-between`},{default:B(()=>[F(a,null,{default:B(()=>[...i[0]||=[D(` Inscrits `,-1)]]),_:1}),F(a,{cols:`auto`},{default:B(()=>[F(gn,{color:`primary`,inline:``,content:n.statistiques.Valides},null,8,[`content`])]),_:1})]),_:1}),n.statistiques.ValidesSuisses?(e(),A(Rt,{key:0,class:`my-1`,"no-gutters":``,justify:`space-between`},{default:B(()=>[F(a,null,{default:B(()=>[...i[1]||=[D(` Dont suisses `,-1)]]),_:1}),F(a,{cols:`auto`},{default:B(()=>[F(gn,{color:`primary`,inline:``,content:n.statistiques.ValidesSuisses},null,8,[`content`])]),_:1})]),_:1})):N(``,!0),F(Rt,{class:`my-1`,"no-gutters":``,justify:`space-between`},{default:B(()=>[F(a,null,{default:B(()=>[...i[2]||=[D(` Garçons/Filles `,-1)]]),_:1}),F(a,{cols:`auto`},{default:B(()=>[F(gn,{color:`primary`,inline:``,content:`${n.statistiques.Valides-n.statistiques.ValidesFilles} /  ${n.statistiques.ValidesFilles}`},null,8,[`content`])]),_:1})]),_:1}),F(Rt,{class:`my-1`,"no-gutters":``,justify:`space-between`},{default:B(()=>[F(a,null,{default:B(()=>[...i[3]||=[D(` Anniversaires `,-1)]]),_:1}),F(a,{cols:`auto`},{default:B(()=>[F(gn,{color:`amber-lighten-1`,inline:``,content:r.value},null,8,[`content`])]),_:1})]),_:1}),F(Vt,{thickness:`1`}),F(Rt,{class:`my-1`,"no-gutters":``,justify:`space-between`},{default:B(()=>[F(a,null,{default:B(()=>[...i[4]||=[D(` Liste d'attente `,-1)]]),_:1}),F(a,{cols:`auto`},{default:B(()=>[F(gn,{color:`orange`,inline:``,content:n.statistiques.Inscriptions-n.statistiques.Valides},null,8,[`content`])]),_:1})]),_:1})]),_:1})]),_:1}))}});const U=Fe({name:`VColorPickerCanvas`,props:_e({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...jt()},`VColorPickerCanvas`)(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,n){let{emit:r}=n,i=Ue(!1),a=Qe(),o=Ue(parseFloat(e.width)),s=Ue(parseFloat(e.height)),c=Qe({x:0,y:0}),l=R({get:()=>c.value,set(t){if(!a.value)return;let{x:n,y:i}=t;c.value=t,r(`update:color`,{h:e.color?.h??0,s:ye(n,0,o.value)/o.value,v:1-ye(i,0,s.value)/s.value,a:e.color?.a??1})}}),u=R(()=>{let{x:t,y:n}=l.value,r=parseInt(e.dotSize,10)/2;return{width:we(e.dotSize),height:we(e.dotSize),transform:`translate(${we(t-r)}, ${we(n-r)})`}}),{resizeRef:d}=Re(e=>{if(!d.el?.offsetParent)return;let{width:t,height:n}=e[0].contentRect;o.value=Math.round(t),s.value=Math.round(n)});function f(e,t,n){let{left:r,top:i,width:a,height:o}=n;l.value={x:ye(e-r,0,a),y:ye(t-i,0,o)}}function p(t){t.type===`mousedown`&&t.preventDefault(),!e.disabled&&(m(t),window.addEventListener(`mousemove`,m),window.addEventListener(`mouseup`,h),window.addEventListener(`touchmove`,m),window.addEventListener(`touchend`,h))}function m(n){if(e.disabled||!a.value)return;i.value=!0;let r=t(n);f(r.clientX,r.clientY,a.value.getBoundingClientRect())}function h(){window.removeEventListener(`mousemove`,m),window.removeEventListener(`mouseup`,h),window.removeEventListener(`touchmove`,m),window.removeEventListener(`touchend`,h)}function g(){if(!a.value)return;let t=a.value,n=t.getContext(`2d`);if(!n)return;let r=n.createLinearGradient(0,0,t.width,0);r.addColorStop(0,`hsla(0, 0%, 100%, 1)`),r.addColorStop(1,`hsla(${e.color?.h??0}, 100%, 50%, 1)`),n.fillStyle=r,n.fillRect(0,0,t.width,t.height);let i=n.createLinearGradient(0,0,0,t.height);i.addColorStop(0,`hsla(0, 0%, 0%, 0)`),i.addColorStop(1,`hsla(0, 0%, 0%, 1)`),n.fillStyle=i,n.fillRect(0,0,t.width,t.height)}return vt(()=>e.color?.h,g,{immediate:!0}),vt(()=>[o.value,s.value],(e,t)=>{g(),c.value={x:l.value.x*e[0]/t[0],y:l.value.y*e[1]/t[1]}},{flush:`post`}),vt(()=>e.color,()=>{if(i.value){i.value=!1;return}c.value=e.color?{x:e.color.s*o.value,y:(1-e.color.v)*s.value}:{x:0,y:0}},{deep:!0,immediate:!0}),ke(()=>g()),Ke(()=>k(`div`,{ref:d,class:ue([`v-color-picker-canvas`,e.class]),style:kt(e.style),onMousedown:p,onTouchstartPassive:p},[k(`canvas`,{ref:a,width:o.value,height:s.value},null),e.color&&k(`div`,{class:ue([`v-color-picker-canvas__dot`,{"v-color-picker-canvas__dot--disabled":e.disabled}]),style:kt(u.value)},null)])),{}}});function ar(e,t){if(t){let{a:t,...n}=e;return n}return e}function or(e,t){if(t==null||typeof t==`string`){let n=e.a!==1;if(t?.startsWith(`rgb(`)){let{r:t,g:r,b:a,a:o}=i(e);return`rgb(${t} ${r} ${a}`+(n?` / ${o})`:`)`)}else if(t?.startsWith(`hsl(`)){let{h:t,s:r,l:i,a}=se(e);return`hsl(${t} ${Math.round(r*100)} ${Math.round(i*100)}`+(n?` / ${a})`:`)`)}let r=Ze(e);return e.a===1?r.slice(0,7):r}if(typeof t==`object`){let n;return it(t,[`r`,`g`,`b`])?n=i(e):it(t,[`h`,`s`,`l`])?n=se(e):it(t,[`h`,`s`,`v`])&&(n=e),ar(n,!it(t,[`a`])&&e.a===1)}return e}const sr={h:0,s:0,v:0,a:1};var cr={inputProps:{type:`number`,min:0},inputs:[{label:`R`,max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)}),localeKey:`redInput`},{label:`G`,max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)}),localeKey:`greenInput`},{label:`B`,max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)}),localeKey:`blueInput`},{label:`A`,max:1,step:.01,getValue:e=>{let{a:t}=e;return t==null?1:Math.round(t*100)/100},getColor:(e,t)=>({...e,a:Number(t)}),localeKey:`alphaInput`}],to:i,from:oe},W={...cr,inputs:cr.inputs?.slice(0,3)},lr={inputProps:{type:`number`,min:0},inputs:[{label:`H`,max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)}),localeKey:`hueInput`},{label:`S`,max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)}),localeKey:`saturationInput`},{label:`L`,max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)}),localeKey:`lightnessInput`},{label:`A`,max:1,step:.01,getValue:e=>{let{a:t}=e;return t==null?1:Math.round(t*100)/100},getColor:(e,t)=>({...e,a:Number(t)}),localeKey:`alphaInput`}],to:se,from:v},ur={...lr,inputs:lr.inputs.slice(0,3)},dr={inputProps:{type:`text`},inputs:[{label:`HEXA`,getValue:e=>e,getColor:(e,t)=>t,localeKey:`hexaInput`}],to:Ze,from:Ye};const fr={rgb:W,rgba:cr,hsl:ur,hsla:lr,hex:{...dr,inputs:[{label:`HEX`,getValue:e=>e.slice(0,7),getColor:(e,t)=>t,localeKey:`hexInput`}]},hexa:dr};var pr=e=>{let{label:t,...n}=e;return k(`div`,{class:`v-color-picker-edit__input`},[k(`input`,l(o(n)),null),k(`span`,null,[t])])};const mr=Fe({name:`VColorPickerEdit`,props:_e({color:Object,disabled:Boolean,mode:{type:String,default:`rgba`,validator:e=>Object.keys(fr).includes(e)},modes:{type:Array,default:()=>Object.keys(fr),validator:e=>Array.isArray(e)&&e.every(e=>Object.keys(fr).includes(e))},...jt()},`VColorPickerEdit`)(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t,{t:r}=Tt(),i=R(()=>e.modes.map(e=>({...fr[e],name:e}))),a=R(()=>{let t=i.value.find(t=>t.name===e.mode);if(!t)return[];let a=e.color?t.to(e.color):null;return t.inputs?.map(i=>{let{getValue:o,getColor:s,localeKey:c,...l}=i;return{...t.inputProps,...l,ariaLabel:r(`$vuetify.colorPicker.ariaLabel.${c}`),disabled:e.disabled,value:a&&o(a),onChange:e=>{let r=e.target;r&&n(`update:color`,t.from(s(a??t.to(sr),r.value)))}}})});return Ke(()=>k(`div`,{class:ue([`v-color-picker-edit`,e.class]),style:kt(e.style)},[a.value?.map(e=>F(pr,e,null)),i.value.length>1&&F(L,{icon:`$unfold`,size:`x-small`,variant:`plain`,"aria-label":r(`$vuetify.colorPicker.ariaLabel.changeFormat`),onClick:()=>{let t=i.value.findIndex(t=>t.name===e.mode);n(`update:mode`,i.value[(t+1)%i.value.length].name)}},null)])),{}}}),hr=_e({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,hideEyeDropper:Boolean,eyeDropperIcon:{type:et,default:`$eyeDropper`},...jt()},`VColorPickerPreview`),gr=Fe({name:`VColorPickerPreview`,props:hr(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t,{t:r}=Tt(),i=new AbortController;P(()=>i.abort());async function a(){if(!It||e.disabled)return;let t=new window.EyeDropper;try{let r=oe(b((await t.open({signal:i.signal})).sRGBHex));n(`update:color`,{...e.color??sr,...r})}catch{}}return Ke(()=>k(`div`,{class:ue([`v-color-picker-preview`,{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class]),style:kt(e.style)},[It&&!e.hideEyeDropper&&k(`div`,{class:`v-color-picker-preview__eye-dropper`,key:`eyeDropper`},[F(L,{"aria-label":r(`$vuetify.colorPicker.ariaLabel.eyedropper`),density:`comfortable`,disabled:e.disabled,icon:e.eyeDropperIcon,variant:`plain`,onClick:a},null)]),k(`div`,{class:`v-color-picker-preview__dot`},[k(`div`,{style:{background:m(e.color??sr)}},null)]),k(`div`,{class:`v-color-picker-preview__sliders`},[F(Pn,{class:`v-color-picker-preview__track v-color-picker-preview__hue`,"aria-label":r(`$vuetify.colorPicker.ariaLabel.hueSlider`),modelValue:e.color?.h,"onUpdate:modelValue":t=>n(`update:color`,{...e.color??sr,h:t}),step:1,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:`white`,hideDetails:!0},null),!e.hideAlpha&&F(Pn,{class:`v-color-picker-preview__track v-color-picker-preview__alpha`,"aria-label":r(`$vuetify.colorPicker.ariaLabel.alphaSlider`),modelValue:e.color?.a??1,"onUpdate:modelValue":t=>n(`update:color`,{...e.color??sr,a:t}),step:.01,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:`white`,hideDetails:!0},null)])])),{}}});var _r={red:{base:`#f44336`,lighten5:`#ffebee`,lighten4:`#ffcdd2`,lighten3:`#ef9a9a`,lighten2:`#e57373`,lighten1:`#ef5350`,darken1:`#e53935`,darken2:`#d32f2f`,darken3:`#c62828`,darken4:`#b71c1c`,accent1:`#ff8a80`,accent2:`#ff5252`,accent3:`#ff1744`,accent4:`#d50000`},pink:{base:`#e91e63`,lighten5:`#fce4ec`,lighten4:`#f8bbd0`,lighten3:`#f48fb1`,lighten2:`#f06292`,lighten1:`#ec407a`,darken1:`#d81b60`,darken2:`#c2185b`,darken3:`#ad1457`,darken4:`#880e4f`,accent1:`#ff80ab`,accent2:`#ff4081`,accent3:`#f50057`,accent4:`#c51162`},purple:{base:`#9c27b0`,lighten5:`#f3e5f5`,lighten4:`#e1bee7`,lighten3:`#ce93d8`,lighten2:`#ba68c8`,lighten1:`#ab47bc`,darken1:`#8e24aa`,darken2:`#7b1fa2`,darken3:`#6a1b9a`,darken4:`#4a148c`,accent1:`#ea80fc`,accent2:`#e040fb`,accent3:`#d500f9`,accent4:`#aa00ff`},deepPurple:{base:`#673ab7`,lighten5:`#ede7f6`,lighten4:`#d1c4e9`,lighten3:`#b39ddb`,lighten2:`#9575cd`,lighten1:`#7e57c2`,darken1:`#5e35b1`,darken2:`#512da8`,darken3:`#4527a0`,darken4:`#311b92`,accent1:`#b388ff`,accent2:`#7c4dff`,accent3:`#651fff`,accent4:`#6200ea`},indigo:{base:`#3f51b5`,lighten5:`#e8eaf6`,lighten4:`#c5cae9`,lighten3:`#9fa8da`,lighten2:`#7986cb`,lighten1:`#5c6bc0`,darken1:`#3949ab`,darken2:`#303f9f`,darken3:`#283593`,darken4:`#1a237e`,accent1:`#8c9eff`,accent2:`#536dfe`,accent3:`#3d5afe`,accent4:`#304ffe`},blue:{base:`#2196f3`,lighten5:`#e3f2fd`,lighten4:`#bbdefb`,lighten3:`#90caf9`,lighten2:`#64b5f6`,lighten1:`#42a5f5`,darken1:`#1e88e5`,darken2:`#1976d2`,darken3:`#1565c0`,darken4:`#0d47a1`,accent1:`#82b1ff`,accent2:`#448aff`,accent3:`#2979ff`,accent4:`#2962ff`},lightBlue:{base:`#03a9f4`,lighten5:`#e1f5fe`,lighten4:`#b3e5fc`,lighten3:`#81d4fa`,lighten2:`#4fc3f7`,lighten1:`#29b6f6`,darken1:`#039be5`,darken2:`#0288d1`,darken3:`#0277bd`,darken4:`#01579b`,accent1:`#80d8ff`,accent2:`#40c4ff`,accent3:`#00b0ff`,accent4:`#0091ea`},cyan:{base:`#00bcd4`,lighten5:`#e0f7fa`,lighten4:`#b2ebf2`,lighten3:`#80deea`,lighten2:`#4dd0e1`,lighten1:`#26c6da`,darken1:`#00acc1`,darken2:`#0097a7`,darken3:`#00838f`,darken4:`#006064`,accent1:`#84ffff`,accent2:`#18ffff`,accent3:`#00e5ff`,accent4:`#00b8d4`},teal:{base:`#009688`,lighten5:`#e0f2f1`,lighten4:`#b2dfdb`,lighten3:`#80cbc4`,lighten2:`#4db6ac`,lighten1:`#26a69a`,darken1:`#00897b`,darken2:`#00796b`,darken3:`#00695c`,darken4:`#004d40`,accent1:`#a7ffeb`,accent2:`#64ffda`,accent3:`#1de9b6`,accent4:`#00bfa5`},green:{base:`#4caf50`,lighten5:`#e8f5e9`,lighten4:`#c8e6c9`,lighten3:`#a5d6a7`,lighten2:`#81c784`,lighten1:`#66bb6a`,darken1:`#43a047`,darken2:`#388e3c`,darken3:`#2e7d32`,darken4:`#1b5e20`,accent1:`#b9f6ca`,accent2:`#69f0ae`,accent3:`#00e676`,accent4:`#00c853`},lightGreen:{base:`#8bc34a`,lighten5:`#f1f8e9`,lighten4:`#dcedc8`,lighten3:`#c5e1a5`,lighten2:`#aed581`,lighten1:`#9ccc65`,darken1:`#7cb342`,darken2:`#689f38`,darken3:`#558b2f`,darken4:`#33691e`,accent1:`#ccff90`,accent2:`#b2ff59`,accent3:`#76ff03`,accent4:`#64dd17`},lime:{base:`#cddc39`,lighten5:`#f9fbe7`,lighten4:`#f0f4c3`,lighten3:`#e6ee9c`,lighten2:`#dce775`,lighten1:`#d4e157`,darken1:`#c0ca33`,darken2:`#afb42b`,darken3:`#9e9d24`,darken4:`#827717`,accent1:`#f4ff81`,accent2:`#eeff41`,accent3:`#c6ff00`,accent4:`#aeea00`},yellow:{base:`#ffeb3b`,lighten5:`#fffde7`,lighten4:`#fff9c4`,lighten3:`#fff59d`,lighten2:`#fff176`,lighten1:`#ffee58`,darken1:`#fdd835`,darken2:`#fbc02d`,darken3:`#f9a825`,darken4:`#f57f17`,accent1:`#ffff8d`,accent2:`#ffff00`,accent3:`#ffea00`,accent4:`#ffd600`},amber:{base:`#ffc107`,lighten5:`#fff8e1`,lighten4:`#ffecb3`,lighten3:`#ffe082`,lighten2:`#ffd54f`,lighten1:`#ffca28`,darken1:`#ffb300`,darken2:`#ffa000`,darken3:`#ff8f00`,darken4:`#ff6f00`,accent1:`#ffe57f`,accent2:`#ffd740`,accent3:`#ffc400`,accent4:`#ffab00`},orange:{base:`#ff9800`,lighten5:`#fff3e0`,lighten4:`#ffe0b2`,lighten3:`#ffcc80`,lighten2:`#ffb74d`,lighten1:`#ffa726`,darken1:`#fb8c00`,darken2:`#f57c00`,darken3:`#ef6c00`,darken4:`#e65100`,accent1:`#ffd180`,accent2:`#ffab40`,accent3:`#ff9100`,accent4:`#ff6d00`},deepOrange:{base:`#ff5722`,lighten5:`#fbe9e7`,lighten4:`#ffccbc`,lighten3:`#ffab91`,lighten2:`#ff8a65`,lighten1:`#ff7043`,darken1:`#f4511e`,darken2:`#e64a19`,darken3:`#d84315`,darken4:`#bf360c`,accent1:`#ff9e80`,accent2:`#ff6e40`,accent3:`#ff3d00`,accent4:`#dd2c00`},brown:{base:`#795548`,lighten5:`#efebe9`,lighten4:`#d7ccc8`,lighten3:`#bcaaa4`,lighten2:`#a1887f`,lighten1:`#8d6e63`,darken1:`#6d4c41`,darken2:`#5d4037`,darken3:`#4e342e`,darken4:`#3e2723`},blueGrey:{base:`#607d8b`,lighten5:`#eceff1`,lighten4:`#cfd8dc`,lighten3:`#b0bec5`,lighten2:`#90a4ae`,lighten1:`#78909c`,darken1:`#546e7a`,darken2:`#455a64`,darken3:`#37474f`,darken4:`#263238`},grey:{base:`#9e9e9e`,lighten5:`#fafafa`,lighten4:`#f5f5f5`,lighten3:`#eeeeee`,lighten2:`#e0e0e0`,lighten1:`#bdbdbd`,darken1:`#757575`,darken2:`#616161`,darken3:`#424242`,darken4:`#212121`},shades:{black:`#000000`,white:`#ffffff`,transparent:`#ffffff00`}};const vr=_e({swatches:{type:Array,default:()=>yr(_r)},disabled:Boolean,color:Object,maxHeight:[Number,String],...jt()},`VColorPickerSwatches`);function yr(e){return Object.keys(e).map(t=>{let n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const br=Fe({name:`VColorPickerSwatches`,props:vr(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;function r(t){e.disabled||!t||n(`update:color`,t)}return Ke(()=>k(`div`,{class:ue([`v-color-picker-swatches`,e.class]),style:kt([{maxHeight:we(e.maxHeight)},e.style])},[k(`div`,null,[e.swatches.map(t=>k(`div`,{class:`v-color-picker-swatches__swatch`},[t.map(t=>{let n=b(t),i=oe(n),a=ae(n);return k(`div`,{class:ue([`v-color-picker-swatches__color`,{"v-color-picker-swatches__color--disabled":e.disabled}]),onClick:()=>r(i)},[k(`div`,{style:{background:a}},[e.color&&Dt(e.color,i)?F(_t,{size:`x-small`,icon:`$success`,color:ce(t,`#FFFFFF`)>2?`white`:`black`},null):void 0])])})]))])])),{}}}),xr=Fe({name:`VColorPicker`,props:_e({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:`rgba`,validator:e=>Object.keys(fr).includes(e)},modes:{type:Array,default:()=>Object.keys(fr),validator:e=>Array.isArray(e)&&e.every(e=>Object.keys(fr).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},..._n({hideHeader:!0}),...dt(hr(),[`hideEyeDropper`,`eyeDropperIcon`])},`VColorPicker`)(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e,t){let{slots:n}=t,i=Ve(e,`mode`),a=Qe(null),o=Ve(e,`modelValue`,void 0,e=>{if(e==null||e===``)return null;let t;try{t=oe(b(e))}catch(e){return de(e),null}return t},t=>t?or(t,e.modelValue):null),s=R(()=>o.value?{...o.value,h:a.value??o.value.h}:null),{rtlClasses:c}=Le(),l=!0;vt(o,e=>{if(!l){l=!0;return}e&&(a.value=e.h)},{immediate:!0});let u=e=>{l=!1,a.value=e.h,o.value=e};return pt(()=>{e.modes.includes(i.value)||(i.value=e.modes[0])}),pe({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Ke(()=>F(vn,Ce(vn.filterProps(e),{class:[`v-color-picker`,c.value,e.class],style:[{"--v-color-picker-color-hsv":m({...s.value??sr,a:1})},e.style]}),{...n,default:()=>k(r,null,[!e.hideCanvas&&F(U,{key:`canvas`,color:s.value,"onUpdate:color":u,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&k(`div`,{key:`controls`,class:`v-color-picker__controls`},[!e.hideSliders&&F(gr,{key:`preview`,color:s.value,"onUpdate:color":u,hideAlpha:!i.value.endsWith(`a`),disabled:e.disabled,hideEyeDropper:e.hideEyeDropper,eyeDropperIcon:e.eyeDropperIcon},null),!e.hideInputs&&F(mr,{key:`edit`,modes:e.modes,mode:i.value,"onUpdate:mode":e=>i.value=e,color:s.value,"onUpdate:color":u,disabled:e.disabled},null)]),e.showSwatches&&F(br,{key:`swatches`,color:s.value,"onUpdate:color":u,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)])})),{}}});var Sr=zt({__name:`ColorField`,props:ve({label:{},swatches:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(t){let n=t,r=Ne(t,`modelValue`);function i(e){r.value=e.substring(0,7)}let o=R(()=>{let e=[],t=n.swatches.length;for(let r=0;r<t;r+=5)e.push(n.swatches.slice(r,r+5));return e}),s=R(()=>n.swatches.length!=0);return(t,c)=>(e(),A(Rt,null,{default:B(()=>[F(a,{"align-self":`center`,class:`ml-2`},{default:B(()=>[D(he(n.label),1)]),_:1}),F(a,{"align-self":`center`,cols:`auto`},{default:B(()=>[F(Wt,{top:``,"close-on-content-click":!1},{activator:B(({props:e})=>[F(L,Ce({color:r.value},e,{width:`90px`}),null,16,[`color`])]),default:B(()=>[F(j,null,{default:B(()=>[F(Xe,{class:`pa-0`},{default:B(()=>[F(xr,{value:r.value||`#252EBC`,"onUpdate:modelValue":i,flat:``,swatches:o.value,"show-swatches":s.value,"hide-canvas":s.value,"hide-sliders":s.value,mode:`hex`},null,8,[`value`,`swatches`,`show-swatches`,`hide-canvas`,`hide-sliders`])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});function Cr(e){let t=Object.values(e||{});return t.sort((e,t)=>new Date(e.Fin).valueOf()-new Date(t.Fin).valueOf()),t}function wr(e,t){let n=new Date(t).valueOf();for(let t of e)if(n<=new Date(t.Fin).valueOf())return t.Id;return null}function Tr(e){let t={},n=Cr(e);if(n.length==0)return t;let r=Array.from({length:n.length});r[0]=[``,n[0].Fin];for(let e=1;e<n.length;e++){let t=n[e],i=n[e-1];r[e]=[wt(i.Fin,1),t.Fin]}return n.forEach((e,n)=>t[e.Id]=r[n]),t}function Er(e){let[t,n]=e;return ft(t)?`né avant le ${be.dateNaissance(n)}`:`né entre le ${be.dateNaissance(t)} et le ${be.dateNaissance(n)}`}function Dr(e,t){let n=Cr(e),r={},i=!1;for(let e of t){if(e.Participant.Statut!=p.Inscrit)continue;let t=wr(n,e.Personne.DateNaissance);t===null?i=!0:r[t]=(r[t]||0)+1}return{sizes:r,isMissing:i}}const Or=_e({disabled:Boolean,modelValue:{type:Boolean,default:null},...ne()},`VHover`),kr=Pt()({name:`VHover`,props:Or(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t,r=Ve(e,`modelValue`),{runOpenDelay:i,runCloseDelay:a}=ie(e,t=>!e.disabled&&(r.value=t));return()=>n.default?.({isHovering:r.value,props:{onMouseenter:i,onMouseleave:a}})}}),Ar=_e({...c(),...je(),...On(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},`VRangeSlider`),jr=Pt()({name:`VRangeSlider`,inheritAttrs:!1,props:Ar(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:i,attrs:a}=t,o=Qe(),s=Qe(),c=Qe(),{rtlClasses:l}=Le();function u(t){if(!o.value||!s.value)return;let n=kn(t,o.value.$el,e.direction),r=kn(t,s.value.$el,e.direction),i=Math.abs(n),a=Math.abs(r);return i<a||i===a&&n<0?o.value.$el:s.value.$el}let d=Nn(e),f=Ve(e,`modelValue`,void 0,e=>e?.length?e.map(e=>d.roundValue(e)):[0,0]),{activeThumbRef:p,hasLabels:m,max:g,min:_,mousePressed:v,onSliderMousedown:y,onSliderTouchstart:b,position:x,trackContainerRef:S,disabled:ee,readonly:te}=jn({props:e,steps:d,onSliderStart:()=>{if(ee.value||te.value){p.value?.blur();return}i(`start`,f.value)},onSliderEnd:t=>{let{value:n}=t;if(ee.value||te.value)p.value?.blur();else{let t=p.value===o.value?.$el?[n,f.value[1]]:[f.value[0],n];!e.strict&&t[0]<t[1]&&(f.value=t)}i(`end`,f.value)},onSliderMove:t=>{let{value:n}=t,[r,i]=f.value;if(ee.value||te.value){p.value?.blur();return}!e.strict&&r===i&&r!==_.value&&(p.value=n>r?s.value?.$el:o.value?.$el,p.value?.focus()),p.value===o.value?.$el?f.value=[Math.min(n,i),i]:f.value=[r,Math.max(r,n)]},getActiveThumb:u}),{isFocused:ne,focus:C,blur:w}=Ot(e),re=R(()=>x(f.value[0])),T=R(()=>x(f.value[1]));return Ke(()=>{let t=He.filterProps(e),[i,u]=Oe(a),d=!!(e.label||n.label||n.prepend);return F(He,Ce({class:[`v-slider`,`v-range-slider`,{"v-slider--has-labels":!!n[`tick-label`]||m.value,"v-slider--focused":ne.value,"v-slider--pressed":v.value,"v-slider--disabled":ee.value},l.value,e.class],style:e.style,ref:c},t,i,{focused:ne.value}),{...n,prepend:d?t=>k(r,null,[n.label?.(t)??(e.label?F(h,{class:`v-slider__label`,text:e.label},null):void 0),n.prepend?.(t)]):void 0,default:t=>{let{id:r,messagesId:i}=t;return k(`div`,{class:`v-slider__container`,onMousedown:te.value?void 0:y,onTouchstartPassive:te.value?void 0:b},[k(`input`,{id:`${r.value}_start`,name:e.name||r.value,disabled:ee.value,readonly:te.value,tabindex:`-1`,value:f.value[0]},null),k(`input`,{id:`${r.value}_stop`,name:e.name||r.value,disabled:ee.value,readonly:te.value,tabindex:`-1`,value:f.value[1]},null),F(An,{ref:S,start:re.value,stop:T.value},{"tick-label":n[`tick-label`]}),F(Mn,Ce({ref:o,"aria-describedby":i.value,focused:ne&&p.value===o.value?.$el,modelValue:f.value[0],"onUpdate:modelValue":e=>f.value=[e,f.value[1]],onFocus:e=>{C(),p.value=o.value?.$el,g.value!==_.value&&f.value[0]===f.value[1]&&f.value[1]===_.value&&e.relatedTarget!==s.value?.$el&&(o.value?.$el.blur(),s.value?.$el.focus())},onBlur:()=>{w(),p.value=void 0},min:_.value,max:f.value[1],position:re.value,ripple:e.ripple},u),{"thumb-label":n[`thumb-label`]}),F(Mn,Ce({ref:s,"aria-describedby":i.value,focused:ne&&p.value===s.value?.$el,modelValue:f.value[1],"onUpdate:modelValue":e=>f.value=[f.value[0],e],onFocus:e=>{C(),p.value=s.value?.$el,g.value!==_.value&&f.value[0]===f.value[1]&&f.value[0]===g.value&&e.relatedTarget!==o.value?.$el&&(s.value?.$el.blur(),o.value?.$el.focus())},onBlur:()=>{w(),p.value=void 0},min:f.value[0],max:g.value,position:T.value,ripple:e.ripple},u),{"thumb-label":n[`thumb-label`]})])}})}),ze({focus:()=>o.value?.$el.focus()},c)}});var Mr=1e3*60*60*24,Nr=zt({__name:`GroupesDateSlider`,props:ve({groupes:{},start:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:ve([`refresh`],[`update:modelValue`]),setup(t,{emit:n}){let r=t,i=Ne(t,`modelValue`),a=s(r.groupes.MinHint)-365,o=s(r.groupes.MaxHint)+365;function s(e){return new Date(e).valueOf()/Mr}function c(e){return $e(new Date(Mr*e))}return(n,r)=>(e(),A(kr,null,{default:B(({isHovering:n,props:l})=>[n?(e(),A(Pn,Ce({key:1},l,{color:`primary`,"hide-details":``,min:a,max:o,"thumb-label":``,"model-value":s(i.value),"onUpdate:modelValue":r[0]||=e=>i.value=c(e)}),{"thumb-label":B(({modelValue:e})=>[D(he(Mt(be).dateNaissance(c(e))),1)]),_:1},16,[`model-value`])):(e(),A(jr,Ce({key:0},l,{"hide-details":``,min:a,max:o,"model-value":[Mt(ft)(t.start)?a:s(t.start),s(i.value)],color:`primary`}),null,16,[`model-value`]))]),_:1}))}}),Pr=zt({__name:`GroupesPlagesEditPannel`,props:{groupes:{},participants:{}},emits:[`save`],setup(t,{emit:n}){let i=t,o=n,s=Be(re(i.groupes.Groupes||{})),c=R(()=>Tr(s)),l=R(()=>Dr(s,i.participants));function u(){for(let e of Object.values(i.groupes.ParticipantsToGroupe||{}))if(e.Manuel)return!0;return!1}let d=Qe(!1);return(t,n)=>(e(),A(j,{title:`Modifier les plages`,subtitle:`La plage de chaque groupe est définie par la date de naissance de fin (et le début du groupe précédent).`},{default:B(()=>[F(Xe,null,{default:B(()=>[l.value.isMissing?(e(),A(Dn,{key:0,type:`warning`},{default:B(()=>[...n[4]||=[D(` Attention, les plages définies ne prennent pas en compte tout les inscrits. `,-1)]]),_:1})):N(``,!0),F(Ut,null,{default:B(()=>[(e(!0),y(r,null,xt(Object.values(s),t=>(e(),A(Jt,{title:t.Nom,subtitle:Mt(Er)(c.value[t.Id])},{prepend:B(()=>[F(gn,{inline:``,color:t.Couleur},null,8,[`color`])]),append:B(()=>[F(Rt,{style:{width:`300px`}},{default:B(()=>[F(a,{"align-self":`center`,cols:`8`,class:`my-4`},{default:B(()=>[F(Nr,{groupes:i.groupes,modelValue:t.Fin,"onUpdate:modelValue":e=>t.Fin=e,start:c.value[t.Id][0]},null,8,[`groupes`,`modelValue`,`onUpdate:modelValue`,`start`])]),_:2},1024),F(a,{"align-self":`center`,cols:`4`},{default:B(()=>[F(Gt,{"prepend-icon":`mdi-account-multiple`},{default:B(()=>[D(he(l.value.sizes[t.Id]||0),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`title`,`subtitle`]))),256))]),_:1})]),_:1}),F(O,null,{default:B(()=>[F(L,{"prepend-icon":`mdi-check`,onClick:n[0]||=()=>u()?d.value=!0:o(`save`,s,!0)},{default:B(()=>[...n[5]||=[D(`Enregistrer et appliquer`,-1)]]),_:1})]),_:1}),F(yn,{modelValue:d.value,"onUpdate:modelValue":n[3]||=e=>d.value=e,"max-width":`600px`},{default:B(()=>[F(j,{title:`Mise à jour des groupes`},{default:B(()=>[F(Xe,null,{default:B(()=>[...n[6]||=[D(` Certains participants ont déjà un groupe, affecté manuellement. `,-1),k(`br`,null,null,-1),D(` Vous pouvez conserver ce choix ou le remplacer par celui définit par les dates de naissance. `,-1)]]),_:1}),F(O,null,{default:B(()=>[F(L,{onClick:n[1]||=e=>o(`save`,s,!1)},{default:B(()=>[...n[7]||=[D(`Conserver les affectations manuelles`,-1)]]),_:1}),F(Yt),F(L,{onClick:n[2]||=e=>o(`save`,s,!0)},{default:B(()=>[...n[8]||=[D(`Tout mettre à jour`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),_:1}))}}),Fr=zt({__name:`GroupesPannel`,props:{groupes:{},participants:{}},emits:[`refresh`],setup(t,{emit:n}){let i=t,o=n;async function s(){let e=await H.GroupeCreate();e!==void 0&&(H.showMessage(`Groupe créé avec succès.`),o(`refresh`),c.value=e)}let c=Qe(null);async function l(){if(c.value==null)return;let e=await H.GroupeUpdate(c.value);c.value=null,e!==void 0&&(H.showMessage(`Groupe modifié avec succès.`),o(`refresh`))}let u=Qe(null);async function d(){if(u.value==null)return;let e=await H.GroupeDelete({id:u.value.Id});u.value=null,e!==void 0&&(H.showMessage(`Groupe supprimé avec succès.`),o(`refresh`))}let f=R(()=>Tr(i.groupes.Groupes)),p=Qe(!1);async function m(e,t){p.value=!1,await H.GroupeUpdatePlages({Fins:Object.fromEntries(Object.values(e||{}).map(e=>[e.Id,e.Fin])),OverrideManuel:t})!==void 0&&(H.showMessage(`Plages modifiées avec succès.`),o(`refresh`))}return(t,n)=>{let o=Sr;return e(),A(j,{title:`Groupes`,subtitle:`Définir des groupes d'âge`},{append:B(()=>[F(L,{"prepend-icon":`mdi-cog`,class:`mr-2`,onClick:n[0]||=e=>p.value=!0},{default:B(()=>[...n[6]||=[D(`Plages d'âge...`,-1)]]),_:1}),F(L,{"prepend-icon":`mdi-plus`,color:`green`,onClick:s},{default:B(()=>[...n[7]||=[D(`Ajouter`,-1)]]),_:1})]),default:B(()=>[F(Xe,null,{default:B(()=>[F(Ut,null,{default:B(()=>[(e(!0),y(r,null,xt(Object.values(i.groupes.Groupes||{}),t=>(e(),A(Jt,{title:t.Nom,subtitle:Mt(Er)(f.value[t.Id])},{prepend:B(()=>[F(gn,{color:t.Couleur,inline:``},null,8,[`color`])]),append:B(()=>[F(L,{icon:`mdi-pencil`,size:`small`,onClick:e=>c.value=Mt(re)(t)},null,8,[`onClick`]),F(L,{class:`ml-2`,icon:`mdi-delete`,size:`small`,color:`red`,onClick:e=>u.value=t},null,8,[`onClick`])]),_:2},1032,[`title`,`subtitle`]))),256))]),_:1})]),_:1}),F(yn,{"model-value":c.value!=null,"onUpdate:modelValue":n[3]||=e=>c.value=null,"max-width":`400px`},{default:B(()=>[c.value?(e(),A(j,{key:0,title:`Modifier le groupe`},{default:B(()=>[F(Xe,null,{default:B(()=>[F(Rt,null,{default:B(()=>[F(a,null,{default:B(()=>[F(St,{autofocus:``,modelValue:c.value.Nom,"onUpdate:modelValue":n[1]||=e=>c.value.Nom=e,label:`Nom`,variant:`outlined`,density:`comfortable`},null,8,[`modelValue`])]),_:1})]),_:1}),F(Rt,null,{default:B(()=>[F(a,null,{default:B(()=>[F(o,{label:`Couleur`,modelValue:c.value.Couleur,"onUpdate:modelValue":n[2]||=e=>c.value.Couleur=e,swatches:[]},null,8,[`modelValue`])]),_:1})]),_:1})]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{onClick:l},{default:B(()=>[...n[8]||=[D(` Enregistrer `,-1)]]),_:1})]),_:1})]),_:1})):N(``,!0)]),_:1},8,[`model-value`]),F(yn,{modelValue:p.value,"onUpdate:modelValue":n[4]||=e=>p.value=e,"max-width":`800px`},{default:B(()=>[F(Pr,{groupes:i.groupes,participants:i.participants,onSave:m},null,8,[`groupes`,`participants`])]),_:1},8,[`modelValue`]),F(yn,{"model-value":u.value!=null,"onUpdate:modelValue":n[5]||=e=>u.value=null,"max-width":`600px`},{default:B(()=>[u.value?(e(),A(j,{key:0,title:`Confirmer la suppression`},{default:B(()=>[F(Xe,null,{default:B(()=>[D(` Confirmez-vous la suppression du groupe `+he(u.value.Nom)+` ? `,1),n[9]||=k(`br`,null,null,-1),n[10]||=k(`br`,null,null,-1),n[11]||=D(` Attention, cette action est irréversible. `,-1)]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{onClick:d,color:`red`},{default:B(()=>[...n[12]||=[D(`Supprimer`,-1)]]),_:1})]),_:1})]),_:1})):N(``,!0)]),_:1},8,[`model-value`])]),_:1})}}}),Ir={key:1},Lr={key:0,class:`text-center font-italic mt-4`},Rr=zt({__name:`PannelParticipants`,setup(t,{expose:n}){ke(()=>{m(),f(),s()}),n({loadParticipants:f});let i=Qe(!1),o=Qe([]);async function s(){let e=await H.GetCamps();e!==void 0&&(o.value=e||[])}let c=Qe(!1),l=R(()=>{let e=d.value,t=p.value;if(!e)return[];let n=(e.Participants||[]).map(e=>{let n=(t.ParticipantsToGroupe||{})[e.Participant.Id];return{participant:e,groupe:n?(t.Groupes||{})[n.IdGroupe]:null}});return n.sort((e,t)=>Te.cmp(e.participant,t.participant,c.value)),n}),u=R(()=>Object.values(p.value.Groupes||{}).length!=0),d=Qe(null);async function f(){i.value=!0;let e=await H.ParticipantsGet();i.value=!1,e!==void 0&&(d.value=e)}let p=Qe({Groupes:{},ParticipantsToGroupe:{},MinHint:``,MaxHint:``});async function m(){let e=await H.GroupesGet();e!==void 0&&(p.value=e)}let h=Qe(null);async function g(e){if(h.value==null||d.value==null)return;let t=await H.ParticipantsUpdate(e);h.value=null,t!==void 0&&(H.showMessage(`Participant modifié avec succès.`),f())}async function _(e,t){await H.ParticipantSetGroupe({idParticipant:e.Participant.Id,idGroupe:t})!==void 0&&(H.showMessage(`Groupe attribué avec succès.`),m())}let v=Qe(!1),b=Qe(!1),x=Qe(!1),S=Qe(!1),ee=Qe(!1);return(t,n)=>{let o=an,s=$t,f=cn,te=on;return d.value==null?(e(),A(Je,{key:1,type:`card`})):(e(),A(j,{key:0},{title:B(()=>[F(L,{flat:``,icon:``},{default:B(()=>[F(_t,null,{default:B(()=>[...n[12]||=[D(`mdi-information`,-1)]]),_:1}),F(bn,{activator:`parent`,"content-class":`ma-0 pa-0`},{default:B(()=>[F(ir,{participants:d.value.Participants||[],statistiques:d.value.Statistiques},null,8,[`participants`,`statistiques`])]),_:1})]),_:1}),n[13]||=D(` Participants `,-1)]),append:B(()=>[F(L,{onClick:n[0]||=e=>x.value=!0,class:`mx-1`,"prepend-icon":`mdi-email`},{default:B(()=>[...n[14]||=[D(` Messages`,-1)]]),_:1}),F(L,{onClick:n[1]||=e=>b.value=!0,class:`mx-1`,"prepend-icon":`mdi-folder`},{default:B(()=>[...n[15]||=[D(` Documents`,-1)]]),_:1}),F(L,{onClick:n[2]||=e=>ee.value=!0,class:`mx-1`,"prepend-icon":`mdi-account-group`},{default:B(()=>[...n[16]||=[D(` Groupes`,-1)]]),_:1}),F(Vt,{thickness:`1`,vertical:``,class:`mx-1`}),F(L,{icon:``,flat:``},{default:B(()=>[F(_t,null,{default:B(()=>[...n[17]||=[D(`mdi-dots-vertical`,-1)]]),_:1}),F(Wt,{activator:`parent`},{default:B(()=>[F(Ut,{density:`compact`},{default:B(()=>[F(Jt,{title:`Trier par moment d'inscription`,onClick:n[3]||=e=>c.value=!c.value,"prepend-icon":`mdi-sort-calendar-ascending`,"append-icon":c.value?`mdi-check`:``},null,8,[`append-icon`]),F(Vt,{thickness:`1`}),F(Jt,{"prepend-icon":`mdi-file-excel`,title:`Exporter`,subtitle:`au format Excel`,link:``,href:Mt(H).ParticipantsDownloadListe(Mt(H).authToken)},null,8,[`href`]),F(Vt,{thickness:`1`}),F(Jt,{"prepend-icon":`mdi-pill`,title:`Fiches sanitaires`,subtitle:`Analyser le contenu des fiches sanitaires`,onClick:n[4]||=e=>v.value=!0}),F(Jt,{"prepend-icon":`mdi-currency-eur`,title:`Suivi du règlement`,onClick:n[5]||=e=>S.value=!0})]),_:1})]),_:1})]),_:1})]),default:B(()=>[F(Xe,{class:`mt-4`},{default:B(()=>[i.value?(e(),A(Je,{key:0,type:`table`})):(e(),y(`div`,Ir,[F(o,null,C({_:2},[u.value?{name:`append`,fn:B(()=>[F(a,{class:`font-weight-bold text-center`,"align-self":`center`},{default:B(()=>[...n[18]||=[D(`Groupe`,-1)]]),_:1})]),key:`0`}:void 0]),1024),l.value.length?N(``,!0):(e(),y(`div`,Lr,` Aucun participant n'est encore inscrit sur ce séjour. `)),(e(!0),y(r,null,xt(l.value,(t,n)=>(e(),A(s,{participant:t.participant,index:n,groupe:t.groupe},C({actions:B(()=>[F(Ut,{density:`comfortable`},{default:B(()=>[F(Jt,{title:`Modifier`,"prepend-icon":`mdi-pencil`,onClick:e=>h.value=t.participant},null,8,[`onClick`])]),_:2},1024)]),_:2},[u.value?{name:`append`,fn:B(()=>[F(a,{"align-self":`center`,class:`text-center`},{default:B(()=>[F(Gt,{color:t.groupe?t.groupe.Couleur:``,label:``,elevation:`1`},{default:B(()=>[D(he(t.groupe?t.groupe.Nom:`Aucun groupe`)+` `,1),F(Wt,{activator:`parent`},{default:B(()=>[F(Ut,{density:`compact`},{default:B(()=>[(e(!0),y(r,null,xt(Object.values(p.value.Groupes||{}),n=>(e(),A(Jt,{title:n.Nom,onClickOnce:e=>_(t.participant,n.Id)},{prepend:B(()=>[F(gn,{color:n.Couleur,inline:``},null,8,[`color`])]),_:2},1032,[`title`,`onClickOnce`]))),256)),F(Vt),F(Jt,{title:`Retirer`,onClickOnce:e=>_(t.participant,-1),"prepend-icon":`mdi-close`},null,8,[`onClickOnce`])]),_:2},1024)]),_:2},1024)]),_:2},1032,[`color`])]),_:2},1024)]),key:`0`}:void 0]),1032,[`participant`,`index`,`groupe`]))),256))]))]),_:1}),h.value==null?N(``,!0):(e(),A(yn,{key:0,"model-value":h.value!=null,"onUpdate:modelValue":n[6]||=e=>h.value=null,"max-width":`800px`},{default:B(()=>[F(f,{participant:h.value.Participant,personne:h.value.Personne,api:{SelectPersonne:Mt(H).SelectPersonne.bind(Mt(H))},"hide-personne-dossier":``,"readonly-statut":``,onSave:g},null,8,[`participant`,`personne`,`api`])]),_:1},8,[`model-value`])),F(yn,{modelValue:v.value,"onUpdate:modelValue":n[7]||=e=>v.value=e},{default:B(()=>[F(Xn)]),_:1},8,[`modelValue`]),F(yn,{modelValue:b.value,"onUpdate:modelValue":n[8]||=e=>b.value=e,"max-width":`800px`},{default:B(()=>[F(tr)]),_:1},8,[`modelValue`]),F(yn,{modelValue:x.value,"onUpdate:modelValue":n[9]||=e=>x.value=e,"max-width":`1200px`},{default:B(()=>[F(rr)]),_:1},8,[`modelValue`]),F(yn,{modelValue:S.value,"onUpdate:modelValue":n[10]||=e=>S.value=e,"max-width":`700px`},{default:B(()=>[F(te,{data:d.value},null,8,[`data`])]),_:1},8,[`modelValue`]),F(yn,{modelValue:ee.value,"onUpdate:modelValue":n[11]||=e=>ee.value=e,"max-width":`700px`},{default:B(()=>[F(Fr,{groupes:p.value,participants:d.value.Participants||[],onRefresh:m},null,8,[`groupes`,`participants`])]),_:1},8,[`modelValue`])]),_:1}))}}}),zr=zt({__name:`inscriptions`,setup(t){let n=Zt(),i=R(()=>Bi(n.currentRoute.value.query));ke(async()=>{let e=await H.InscriptionsGet();e!==void 0&&(e?.length||s(`participants`))});let a=R(()=>i.value.tab||`insc`),o=ct(`participants`);function s(e){let t=n.currentRoute.value;n.push({path:t.path,query:{tab:e}}),e==`participants`&&o.value?.loadParticipants()}return(t,n)=>(e(),y(r,null,[F(Rn,{title:`${Mt(H).camp?.Label} - Suivi des inscriptions`},{default:B(()=>[F(En,{"model-value":a.value,"onUpdate:modelValue":n[0]||=e=>s(e)},{default:B(()=>[F(Sn,{value:`insc`},{default:B(()=>[...n[2]||=[D(`Inscriptions en attente`,-1)]]),_:1}),F(Sn,{value:`participants`},{default:B(()=>[...n[3]||=[D(`Liste des participants`,-1)]]),_:1})]),_:1},8,[`model-value`])]),_:1},8,[`title`]),F(Tn,{"model-value":a.value},{default:B(()=>[F(Cn,{value:`insc`},{default:B(()=>[F(Hn,{onGoTo:n[1]||=()=>s(`participants`)})]),_:1}),F(Cn,{value:`participants`},{default:B(()=>[F(Rr,{ref_key:`participants`,ref:o},null,512)]),_:1})]),_:1},8,[`model-value`])],64))}}),Br=zt({__name:`DemandeChip`,props:{demande:{}},emits:[`updateState`],setup(t,{emit:n}){let i=t,o=n,s=R(()=>{let e=!!i.demande.Files?.length;switch(i.demande.State){case Pe.NonDemande:return;case Pe.Optionnelle:return e?`green`:`yellow-darken-2`;case Pe.Obligatoire:return e?`green`:`red`}});return(t,n)=>{let c=hn;return e(),A(Wt,{location:`bottom center`},{activator:B(({props:e})=>[F(Gt,Ce(e,{color:s.value,class:`my-1`,size:`small`}),{default:B(()=>[D(he(Mt(Nt)[i.demande.State]),1)]),_:1},16,[`color`])]),default:B(()=>[F(j,{subtitle:`Demande de document`},{default:B(()=>[F(Xe,null,{default:B(()=>[F(ut,{density:`comfortable`,rounded:`lg`,variant:`outlined`,color:`primary`,mandatory:``,"model-value":i.demande.State,"onUpdate:modelValue":n[0]||=e=>o(`updateState`,e)},{default:B(()=>[F(L,{value:Mt(Pe).NonDemande},{default:B(()=>[...n[1]||=[D(`Non requis`,-1)]]),_:1},8,[`value`]),F(L,{value:Mt(Pe).Optionnelle},{default:B(()=>[D(he(Mt(Nt)[Mt(Pe).Optionnelle]),1)]),_:1},8,[`value`]),F(L,{value:Mt(Pe).Obligatoire},{default:B(()=>[D(he(Mt(Nt)[Mt(Pe).Obligatoire]),1)]),_:1},8,[`value`])]),_:1},8,[`model-value`]),i.demande.Files?.length?(e(),y(r,{key:0},[F(Vt,{thickness:`2`,class:`mt-2`}),F(Rt,null,{default:B(()=>[(e(!0),y(r,null,xt(i.demande.Files,t=>(e(),A(a,{cols:`4`},{default:B(()=>[F(c,{file:t},null,8,[`file`])]),_:2},1024))),256))]),_:1})],64)):N(``,!0)]),_:1})]),_:1})]),_:1})}}}),Vr={key:1},Hr={class:`text-left`},Ur=zt({__name:`DocumentsTable`,props:{equipiers:{}},setup(t){let n=t;ke(o);let i=Qe([]),a=Qe([]);async function o(){let e=await H.EquipiersDemandesGet();e!==void 0&&(i.value=e.Demandes||[],a.value=e.Equipiers||[])}function s(e,t){return a.value.find(n=>n.Key.IdDemande==t&&n.Key.IdEquipier==e)}async function c(e,t,n){await H.EquipiersDemandeSet({IdEquipier:e,IdDemande:t,State:n})!==void 0&&(H.showMessage(`Demande modifiée avec succès.`),s(e,t).State=n)}return(t,a)=>(e(),A(j,{title:`Documents de l'équipe`,subtitle:`Demandes et fichiers déposés par l'équipe`},{append:B(()=>[F(L,{href:Mt(H).EquipiersDownloadFiles(Mt(H).authToken),"prepend-icon":`mdi-download`},{default:B(()=>[...a[0]||=[D(` Télécharger`,-1)]]),_:1},8,[`href`])]),default:B(()=>[F(Xe,{class:`mt-4`},{default:B(()=>[i.value?(e(),y(`div`,Vr,[F(Wn,{class:`text-center`},{default:B(()=>[k(`tr`,null,[a[1]||=k(`td`,null,null,-1),(e(!0),y(r,null,xt(i.value,t=>(e(),y(`td`,null,he(Mt(Lt)[t.Categorie]),1))),256))]),(e(!0),y(r,null,xt(n.equipiers,(t,n)=>(e(),y(`tr`,{class:ue(n%2==0?`bg-grey-lighten-4 rounded`:``)},[k(`td`,Hr,he(t.Personne),1),(e(!0),y(r,null,xt(i.value,n=>(e(),y(`td`,null,[F(Br,{demande:s(t.Equipier.Id,n.Id),onUpdateState:e=>c(t.Equipier.Id,n.Id,e)},null,8,[`demande`,`onUpdateState`])]))),256))],2))),256))]),_:1})])):(e(),A(Je,{key:0,type:`table`}))]),_:1})]),_:1}))}}),Wr=zt({__name:`RolesField`,props:ve({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(t){let n=t,r=Ne(t,`modelValue`),i=yt(_);return(t,a)=>(e(),A(Kt,{chips:``,"closable-chips":``,label:`Rôles`,variant:`outlined`,density:`compact`,"hide-details":``,items:Mt(i),readonly:n.readonly,multiple:``,modelValue:r.value,"onUpdate:modelValue":a[0]||=e=>r.value=e},null,8,[`items`,`readonly`,`modelValue`]))}}),Gr=zt({__name:`AddEquipierCard`,emits:[`create`],setup(t,{emit:n}){let r=n,i=Qe({CreatePersonne:!1,IdPersonne:0,Nom:``,Prenom:``,Mail:``,Roles:[]}),o=R(()=>!!((i.value.CreatePersonne?i.value.Nom&&i.value.Prenom&&i.value.Mail:i.value.IdPersonne)&&i.value.Roles?.length));return(t,n)=>{let s=nn;return e(),A(j,{title:`Ajouter un équipier`,subtitle:`Sélectionner un profil existant ou créer un nouveau.`},{default:B(()=>[F(Xe,{class:`mt-4`},{default:B(()=>[F(Rt,null,{default:B(()=>[F(a,{"align-self":`center`},{default:B(()=>[i.value.CreatePersonne?(e(),A(Rt,{key:1},{default:B(()=>[F(a,null,{default:B(()=>[F(St,{autofocus:``,"hide-details":``,label:`Nom`,density:`compact`,variant:`outlined`,modelValue:i.value.Nom,"onUpdate:modelValue":n[1]||=e=>i.value.Nom=e},null,8,[`modelValue`])]),_:1}),F(a,null,{default:B(()=>[F(St,{"hide-details":``,label:`Prénom`,density:`compact`,variant:`outlined`,modelValue:i.value.Prenom,"onUpdate:modelValue":n[2]||=e=>i.value.Prenom=e},null,8,[`modelValue`])]),_:1}),F(a,{cols:`12`},{default:B(()=>[F(St,{variant:`outlined`,density:`compact`,modelValue:i.value.Mail,"onUpdate:modelValue":n[3]||=e=>i.value.Mail=e,label:`Adresse mail`,type:`email`,rules:[Mt(te).required(`Une adresse mail est nécessaire pour inviter l'équipier.`)]},null,8,[`modelValue`,`rules`])]),_:1})]),_:1})):(e(),A(s,{key:0,label:`Personne`,modelValue:i.value.IdPersonne,"onUpdate:modelValue":n[0]||=e=>i.value.IdPersonne=e,"initial-personne":``,api:{SelectPersonne:Mt(H).SelectPersonne.bind(Mt(H))}},null,8,[`modelValue`,`api`]))]),_:1}),F(a,{cols:`auto`},{default:B(()=>[F(Vt,{thickness:`2`,vertical:``,class:`py-2`},{default:B(()=>[...n[7]||=[D(`ou`,-1)]]),_:1})]),_:1}),F(a,{cols:`auto`,"align-self":`center`},{default:B(()=>[F(L,{onClick:n[4]||=e=>i.value.CreatePersonne=!i.value.CreatePersonne},{default:B(()=>[D(he(i.value.CreatePersonne?`Sélectionner`:`Créer`),1)]),_:1})]),_:1})]),_:1}),F(Rt,null,{default:B(()=>[F(a,null,{default:B(()=>[F(Wr,{modelValue:i.value.Roles,"onUpdate:modelValue":n[5]||=e=>i.value.Roles=e},null,8,[`modelValue`])]),_:1})]),_:1})]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{disabled:!o.value,onClick:n[6]||=e=>r(`create`,i.value)},{default:B(()=>[...n[8]||=[D(`Ajouter`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})}}}),Kr=zt({__name:`StatistiquesCard`,props:{equipiers:{}},setup(t){let n=t;return(t,r)=>(e(),A(j,{subtitle:`Statistiques`,width:`300px`},{default:B(()=>[F(Xe,null,{default:B(()=>[F(Rt,{class:`my-1`,"no-gutters":``,justify:`space-between`},{default:B(()=>[F(a,null,{default:B(()=>[...r[0]||=[D(` Equipiers `,-1)]]),_:1}),F(a,{cols:`auto`},{default:B(()=>[F(gn,{color:`primary`,inline:``,content:n.equipiers.length},null,8,[`content`])]),_:1})]),_:1}),F(Rt,{class:`my-1`,"no-gutters":``,justify:`space-between`},{default:B(()=>[F(a,null,{default:B(()=>[...r[1]||=[D(` Animateurs `,-1)]]),_:1}),F(a,{cols:`auto`},{default:B(()=>[F(gn,{color:`primary`,inline:``,content:n.equipiers.filter(e=>e.IsAnimateur).length},null,8,[`content`])]),_:1})]),_:1}),F(Rt,{class:`my-1`,"no-gutters":``,justify:`space-between`},{default:B(()=>[F(a,null,{default:B(()=>[...r[2]||=[D(` Au pair `,-1)]]),_:1}),F(a,{cols:`auto`},{default:B(()=>[F(gn,{color:`primary`,inline:``,content:n.equipiers.filter(e=>e.IsAuPair).length},null,8,[`content`])]),_:1})]),_:1}),F(Rt,{class:`my-1`,"no-gutters":``,justify:`space-between`},{default:B(()=>[F(a,null,{default:B(()=>[...r[3]||=[D(` Anniversaires `,-1)]]),_:1}),F(a,{cols:`auto`},{default:B(()=>[F(gn,{color:`amber-lighten-1`,inline:``,content:n.equipiers.filter(e=>e.HasBirthday).length},null,8,[`content`])]),_:1})]),_:1})]),_:1})]),_:1}))}}),qr=zt({__name:`equipiers`,setup(t){Zt(),ke(o);let i=Qe([]);async function o(){let e=await H.EquipiersGet();e!==void 0&&(e?.sort((e,t)=>e.Equipier.Id-t.Equipier.Id),i.value=e||[])}let s=Qe(!1);function c(e){return(e||[]).map(e=>_[e]).join(`, `)}function l(e){switch(e){case At.NotSend:return{icon:`mdi-form-select`,color:``};case At.Pending:return{icon:`mdi-clock`,color:`yellow-darken-2`};case At.Answered:return{icon:`mdi-check`,color:`green`}}}let u=Qe(!1);async function d(e){u.value=!1;let t=await H.EquipiersCreate(e);t!==void 0&&(H.showMessage(`Equipier crée avec succès.`),i.value.push(t))}async function f(e){let t=await H.EquipiersInvite({OnlyOne:n(e)});t!==void 0&&(H.showMessage(`Equipier invité avec succès.`),t?.sort((e,t)=>e.Equipier.Id-t.Equipier.Id),i.value=t||[])}async function p(){let e=await H.EquipiersInvite({OnlyOne:n(null)});e!==void 0&&(H.showMessage(`Equipiers invités avec succès.`),e?.sort((e,t)=>e.Equipier.Id-t.Equipier.Id),i.value=e||[])}let m=Qe(null);async function h(){if(m.value==null)return;let e=m.value.Equipier.Id;m.value=null,await H.EquipiersDelete({id:e})!==void 0&&(H.showMessage(`Equipier supprimé avec succès.`),i.value=i.value.filter(t=>t.Equipier.Id!=e))}return(t,n)=>(e(),y(r,null,[F(Rn,{title:`${Mt(H).camp?.Label} - Equipiers`},{default:B(()=>[F(L,{onClick:n[0]||=e=>s.value=!0,"prepend-icon":`mdi-file`},{default:B(()=>[...n[6]||=[D(` Documents `,-1)]]),_:1})]),_:1},8,[`title`]),F(j,{class:`mt-2 mx-auto`,"max-width":`800px`},{title:B(()=>[F(L,{flat:``,icon:``},{default:B(()=>[F(_t,null,{default:B(()=>[...n[7]||=[D(`mdi-information`,-1)]]),_:1}),F(bn,{activator:`parent`,"content-class":`ma-0 pa-0`},{default:B(()=>[F(Kr,{equipiers:i.value},null,8,[`equipiers`])]),_:1})]),_:1}),n[8]||=D(` Équipiers `,-1)]),append:B(()=>[F(L,{color:`green`,onClick:n[1]||=e=>u.value=!0,"prepend-icon":`mdi-plus`},{default:B(()=>[...n[9]||=[D(` Ajouter un équipier`,-1)]]),_:1}),F(Wt,null,{activator:B(({props:e})=>[F(L,Ce(e,{class:`ml-2`,icon:`mdi-dots-vertical`,size:`small`}),null,16)]),default:B(()=>[F(Ut,null,{default:B(()=>[F(Jt,null,{default:B(()=>[F(Jt,{title:`Inviter tous`,subtitle:`Envoi un mail à tous les équipiers en attente`,"prepend-icon":`mdi-email`,onClick:n[2]||=e=>p()})]),_:1})]),_:1})]),_:1})]),default:B(()=>[F(Xe,null,{default:B(()=>[F(Ut,null,{default:B(()=>[(e(!0),y(r,null,xt(i.value,t=>(e(),A(Jt,{title:t.Personne,subtitle:c(t.Equipier.Roles)},{append:B(()=>[F(Rt,null,{default:B(()=>[t.HasBirthday?(e(),A(a,{key:0,cols:`2`,"align-self":`center`},{default:B(()=>[F(bn,{text:`${t.Personne} a son anniveraire pendant le séjour !`},{activator:B(({props:e})=>[F(_t,Ce({ref_for:!0},e,{color:`pink`}),{default:B(()=>[...n[10]||=[D(`mdi-cake-variant`,-1)]]),_:1},16)]),_:1},8,[`text`])]),_:2},1024)):N(``,!0),F(a,{"align-self":`center`},{default:B(()=>[F(Gt,{"prepend-icon":l(t.Equipier.FormStatus).icon,color:l(t.Equipier.FormStatus).color},{default:B(()=>[D(he(Mt(ge)[t.Equipier.FormStatus]),1)]),_:2},1032,[`prepend-icon`,`color`])]),_:2},1024),t.Equipier.FormStatus==Mt(At).Answered&&!t.Equipier.AccepteCharte.Bool?(e(),A(a,{key:1,"align-self":`center`},{default:B(()=>[F(Gt,{color:`warning`},{default:B(()=>[...n[11]||=[D(`Charte non acceptée`,-1)]]),_:1})]),_:1})):N(``,!0),F(a,{"align-self":`center`},{default:B(()=>[F(Wt,null,{activator:B(({props:e})=>[F(L,Ce({ref_for:!0},e,{icon:`mdi-dots-vertical`,size:`x-small`}),null,16)]),default:B(()=>[F(Ut,null,{default:B(()=>[F(Jt,{title:`Inviter`,subtitle:`Envoi un mail avec le lien vers le formulaire`,"prepend-icon":`mdi-email`,onClick:e=>f(t.Equipier.Id)},null,8,[`onClick`]),F(Jt,{title:`Aller au formulaire`,"prepend-icon":`mdi-open-in-new`,href:t.FormURL,target:`_blank`},null,8,[`href`]),F(Vt),F(Jt,{title:`Supprimer`,"prepend-icon":`mdi-delete`,onClick:e=>m.value=t},null,8,[`onClick`])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`title`,`subtitle`]))),256))]),_:1})]),_:1})]),_:1}),F(yn,{modelValue:s.value,"onUpdate:modelValue":n[3]||=e=>s.value=e},{default:B(()=>[F(Ur,{equipiers:i.value},null,8,[`equipiers`])]),_:1},8,[`modelValue`]),F(yn,{modelValue:u.value,"onUpdate:modelValue":n[4]||=e=>u.value=e,"max-width":`600px`},{default:B(()=>[F(Gr,{onCreate:d})]),_:1},8,[`modelValue`]),F(yn,{"model-value":m.value!=null,"onUpdate:modelValue":n[5]||=e=>m.value=null,"max-width":`400px`},{default:B(()=>[m.value?(e(),A(j,{key:0,title:`Confirmation`},{default:B(()=>[F(Xe,null,{default:B(()=>[D(` Confirmez-vous la suppression de l'équipier `+he(m.value.Personne)+` ? `,1),n[12]||=k(`br`,null,null,-1),n[13]||=k(`br`,null,null,-1),n[14]||=D(` Attention, cette opération est irréversible. `,-1)]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{color:`red`,onClick:h},{default:B(()=>[...n[15]||=[D(` Supprimer `,-1)]]),_:1})]),_:1})]),_:1})):N(``,!0)]),_:1},8,[`model-value`])],64))}});d(((e,t)=>{(function(){var e=function(e){if(e===null)return`null`;if(e===void 0)return`undefined`;var t=typeof e;return t===`object`&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name===`Array`)?`array`:t===`object`&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name===`String`)?`string`:t},n=function(e){return[`undefined`,`boolean`,`number`,`string`,`function`,`xml`,`null`].indexOf(e)!==-1},r=function(e,t){return Array.prototype.slice.call(e).sort(t)},i=function(e,t){return a(function(n,r){return e.eq(t(n),t(r))})},a=function(e){return{eq:e}},o=a(function(e,t){return e===t}),s=function(e){return a(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e.eq(t[i],n[i]))return!1;return!0})},c=function(e,t){return i(s(e),function(e){return r(e,t)})},l=function(e){return a(function(t,n){var r=Object.keys(t),i=Object.keys(n);if(!c(o).eq(r,i))return!1;for(var a=r.length,s=0;s<a;s++){var l=r[s];if(!e.eq(t[l],n[l]))return!1}return!0})},u=a(function(t,r){if(t===r)return!0;var i=e(t);return i===e(r)?n(i)?t===r:i===`array`?s(u).eq(t,r):i===`object`?l(u).eq(t,r):!1:!1});let d=Object.getPrototypeOf,f=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,p=e=>{let t=typeof e;return e===null?`null`:t===`object`&&Array.isArray(e)?`array`:t===`object`&&f(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:t},m=e=>t=>p(t)===e,h=e=>t=>typeof t===e,g=e=>t=>e===t,_=(e,t)=>y(e)&&f(e,t,(e,t)=>d(e)===t),v=m(`string`),y=m(`object`),b=e=>_(e,Object),x=m(`array`),S=g(null),ee=h(`boolean`),te=g(void 0),ne=e=>e==null,C=e=>!ne(e),w=h(`function`),re=h(`number`),T=(e,t)=>{if(x(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},E=()=>{},ie=(e,t)=>(...n)=>e(t.apply(null,n)),D=(e,t)=>n=>e(t(n)),O=e=>()=>e,k=e=>e,ae=(e,t)=>e===t;function A(e,...t){return(...n)=>{let r=t.concat(n);return e.apply(null,r)}}let oe=e=>t=>!e(t),j=e=>()=>{throw Error(e)},M=e=>e(),se=e=>{e()},N=O(!1),ce=O(!0);class P{tag;value;static singletonNone=new P(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new P(!0,e)}static none(){return P.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?P.some(e(this.value)):P.none()}bind(e){return this.tag?e(this.value):P.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:P.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return C(e)?P.some(e):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}let le=Array.prototype.slice,F=Array.prototype.indexOf,ue=Array.prototype.push,de=(e,t)=>F.call(e,t),fe=(e,t)=>{let n=de(e,t);return n===-1?P.none():P.some(n)},pe=(e,t)=>de(e,t)>-1,me=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return!0}return!1},he=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},I=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},ge=(e,t)=>{for(let n=e.length-1;n>=0;n--){let r=e[n];t(r,n)}},_e=(e,t)=>{let n=[],r=[];for(let i=0,a=e.length;i<a;i++){let a=e[i];(t(a,i)?n:r).push(a)}return{pass:n,fail:r}},L=(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t(i,r)&&n.push(i)}return n},ve=(e,t)=>{if(e.length===0)return[];{let n=t(e[0]),r=[],i=[];for(let a=0,o=e.length;a<o;a++){let o=e[a],s=t(o);s!==n&&(r.push(i),i=[]),n=s,i.push(o)}return i.length!==0&&r.push(i),r}},ye=(e,t,n)=>(ge(e,(e,r)=>{n=t(n,e,r)}),n),be=(e,t,n)=>(I(e,(e,r)=>{n=t(n,e,r)}),n),xe=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return P.some(i);if(n(i,r))break}return P.none()},Se=(e,t)=>xe(e,t,N),Ce=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return P.some(n)}return P.none()},we=(e,t)=>{for(let n=e.length-1;n>=0;n--)if(t(e[n],n))return P.some(n);return P.none()},Te=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!x(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);ue.apply(t,e[n])}return t},Ee=(e,t)=>Te(he(e,t)),De=(e,t)=>{for(let n=0,r=e.length;n<r;++n){let r=e[n];if(t(r,n)!==!0)return!1}return!0},Oe=e=>{let t=le.call(e,0);return t.reverse(),t},ke=(e,t)=>L(e,e=>!pe(t,e)),Ae=(e,t)=>{let n={};for(let r=0,i=e.length;r<i;r++){let i=e[r];n[String(i)]=t(i,r)}return n},je=(e,t)=>{let n=le.call(e,0);return n.sort(t),n},Me=(e,t)=>t>=0&&t<e.length?P.some(e[t]):P.none(),Ne=e=>Me(e,0),Pe=e=>Me(e,e.length-1),Fe=w(Array.from)?Array.from:e=>le.call(e),Ie=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return P.none()},Le=(e,t)=>{let n=[],r=w(t)?e=>me(n,n=>t(n,e)):e=>pe(n,e);for(let t=0,i=e.length;t<i;t++){let i=e[t];r(i)||n.push(i)}return n},Re=Object.keys,ze=Object.hasOwnProperty,Be=(e,t)=>{let n=Re(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},Ve=(e,t)=>He(e,(e,n)=>({k:n,v:t(e,n)})),He=(e,t)=>{let n={};return Be(e,(e,r)=>{let i=t(e,r);n[i.k]=i.v}),n},Ue=e=>(t,n)=>{e[n]=t},We=(e,t,n,r)=>{Be(e,(e,i)=>{(t(e,i)?n:r)(e,i)})},Ge=(e,t)=>{let n={},r={};return We(e,t,Ue(n),Ue(r)),{t:n,f:r}},Ke=(e,t)=>{let n={};return We(e,t,Ue(n),E),n},qe=(e,t)=>{let n=[];return Be(e,(e,r)=>{n.push(t(e,r))}),n},Je=e=>qe(e,k),R=(e,t)=>Ye(e,t)?P.from(e[t]):P.none(),Ye=(e,t)=>ze.call(e,t),Xe=(e,t)=>Ye(e,t)&&e[t]!==void 0&&e[t]!==null,z=(e,t,n=u)=>l(n).eq(e,t),Ze={generate:e=>{if(!x(e))throw Error(`cases must be an array`);if(e.length===0)throw Error(`there must be at least one case`);let t=[],n={};return I(e,(r,i)=>{let a=Re(r);if(a.length!==1)throw Error(`one and only one name per case`);let o=a[0],s=r[o];if(n[o]!==void 0)throw Error(`duplicate key detected:`+o);if(o===`cata`)throw Error(`cannot have a case named cata (sorry)`);if(!x(s))throw Error(`case arguments must be an array`);t.push(o),n[o]=(...n)=>{let r=n.length;if(r!==s.length)throw Error(`Wrong number of arguments to case `+o+`. Expected `+s.length+` (`+s+`), got `+r);return{fold:(...t)=>{if(t.length!==e.length)throw Error(`Wrong number of arguments to fold. Expected `+e.length+`, got `+t.length);return t[i].apply(null,n)},match:e=>{let r=Re(e);if(t.length!==r.length)throw Error(`Wrong number of arguments to match. Expected: `+t.join(`,`)+`
Actual: `+r.join(`,`));if(!De(t,e=>pe(r,e)))throw Error(`Not all branches were specified when using match. Specified: `+r.join(`, `)+`
Required: `+t.join(`, `));return e[o].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:o,params:n})}}}}),n}},B=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Qe=e=>{let t=t=>t(e),n=O(e),r=()=>i,i={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:ce,isError:N,map:t=>et.value(t(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:t=>{t(e)},toOptional:()=>P.some(e)};return i},$e=e=>{let t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:N,isError:ce,map:t,mapError:t=>et.error(t(e)),bind:t,exists:N,forall:ce,getOr:k,or:k,getOrThunk:M,orThunk:M,getOrDie:j(String(e)),each:E,toOptional:P.none};return n},et={value:Qe,error:$e,fromOption:(e,t)=>e.fold(()=>$e(t),Qe)},tt=typeof window<`u`?window:Function(`return this;`)(),nt=()=>{let e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},rt=()=>{let e=nt(),t=(t,n)=>{let r=``;for(let i=t;i<=n;++i){let t=e[i].toString(16).padStart(2,`0`);r+=t}return r};return`${t(0,3)}-${t(4,5)}-${t(6,7)}-${t(8,9)}-${t(10,15)}`},it=(e,t,n)=>Math.min(Math.max(e,t),n),at=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295,ot=0,st=e=>{let t=new Date().getTime(),n=Math.floor(at()*1e9);return ot++,e+`_`+n+ot+String(t)},ct=()=>window.isSecureContext?window.crypto.randomUUID():rt(),lt=(e,t)=>t,ut=(e,t)=>b(e)&&b(t)?ft(e,t):t,dt=e=>(...t)=>{if(t.length===0)throw Error(`Can't merge zero objects`);let n={};for(let r=0;r<t.length;r++){let i=t[r];for(let t in i)Ye(i,t)&&(n[t]=e(n[t],i[t]))}return n},ft=dt(ut),pt=dt(lt),mt=(e,t,n=ae)=>e.exists(e=>n(e,t)),ht=(e,t,n=ae)=>_t(e,t,n).getOr(e.isNone()&&t.isNone()),gt=e=>{let t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},_t=(e,t,n)=>e.isSome()&&t.isSome()?P.some(n(e.getOrDie(),t.getOrDie())):P.none(),vt=(e,t,n,r)=>e.isSome()&&t.isSome()&&n.isSome()?P.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):P.none(),yt=e=>e.bind(k),bt=(e,t)=>e?P.some(t):P.none(),xt=(e,t)=>{let n=t??tt;for(let t=0;t<e.length&&n!=null;++t)n=n[e[t]];return n},V=(e,t)=>xt(e.split(`.`),t);Ze.generate([{bothErrors:[`error1`,`error2`]},{firstError:[`error1`,`value2`]},{secondError:[`value1`,`error2`]},{bothValues:[`value1`,`value2`]}]);let St=e=>{let t=[],n=[];return I(e,e=>{e.fold(e=>{t.push(e)},e=>{n.push(e)})}),{errors:t,values:n}},Ct=e=>{let t=B(P.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(P.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(P.some(e))}}},wt=e=>{let t=B(P.none()),n=()=>t.get().each(e=>clearInterval(e));return{clear:()=>{n(),t.set(P.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:r=>{n(),t.set(P.some(setInterval(r,e)))}}},Tt=()=>{let e=Ct(E),t=t=>e.get().each(t);return{...e,on:t}},Et=(e,t)=>e.substring(t),Dt=(e,t,n)=>t===``||e.length>=t.length&&e.substr(n,n+t.length)===t,Ot=(e,t)=>At(e,t)?Et(e,t.length):e,kt=(e,t,n=0,r)=>{let i=e.indexOf(t,n);return i===-1?!1:te(r)?!0:i+t.length<=r},At=(e,t)=>Dt(e,t,0),jt=(e,t)=>Dt(e,t,e.length-t.length),Mt=e=>t=>t.replace(e,``),Nt=Mt(/^\s+|\s+$/g),Pt=Mt(/^\s+/g),Ft=Mt(/\s+$/g),It=e=>e.length>0,Lt=e=>!It(e),Rt=(e,t)=>t<=0?``:Array(t+1).join(e),zt=(e,t=10)=>{let n=parseInt(e,t);return isNaN(n)?P.none():P.some(n)},Bt=(e,t)=>{let n=null;return{cancel:()=>{S(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{S(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},Vt=(e,t)=>{let n=null,r=()=>{S(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...i)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,i)},t)}}},Ht=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},Ut=e=>e===`﻿`,Wt=e=>e.replace(/\uFEFF/g,``),Gt=e=>{let t={};return I(e,e=>{t[e]={}}),Re(t)},Kt=e=>e.length!==void 0,qt=Array.isArray,Jt=e=>{if(qt(e))return e;{let t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},Yt=(e,t,n)=>{if(!e)return!1;if(n||=e,Kt(e)){for(let r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(let r in e)if(Ye(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},Xt=(e,t)=>{let n=[];return Yt(e,(r,i)=>{n.push(t(r,i,e))}),n},Zt=(e,t)=>{let n=[];return Yt(e,(r,i)=>{(!t||t(r,i,e))&&n.push(r)}),n},Qt=(e,t)=>{if(e){for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},$t=(e,t,n,r)=>{let i=te(n)?e[0]:n;for(let n=0;n<e.length;n++)i=t.call(r,i,e[n],n);return i},en=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1},tn=e=>e[e.length-1],nn=(e,t,n,r)=>{let i=e.isiOS()&&/ipad/i.test(n)===!0,a=e.isiOS()&&!i,o=e.isiOS()||e.isAndroid(),s=o||r(`(pointer:coarse)`),c=i||!a&&o&&r(`(min-device-width:768px)`),l=a||o&&!c,u=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,d=!l&&!c&&!u;return{isiPad:O(i),isiPhone:O(a),isTablet:O(c),isPhone:O(l),isTouch:O(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:O(u),isDesktop:O(d)}},rn=(e,t)=>{for(let n=0;n<e.length;n++){let r=e[n];if(r.test(t))return r}},an=(e,t)=>{let n=rn(e,t);if(!n)return{major:0,minor:0};let r=e=>Number(t.replace(n,`$`+e));return cn(r(1),r(2))},on=(e,t)=>{let n=String(t).toLowerCase();return e.length===0?sn():an(e,n)},sn=()=>cn(0,0),cn=(e,t)=>({major:e,minor:t}),ln={nu:cn,detect:on,unknown:sn},un=(e,t)=>Ie(t.brands,t=>{let n=t.brand.toLowerCase();return Se(e,e=>n===e.brand?.toLowerCase()).map(e=>({current:e.name,version:ln.nu(parseInt(t.version,10),0)}))}),dn=(e,t)=>{let n=String(t).toLowerCase();return Se(e,e=>e.search(n))},fn=(e,t)=>dn(e,t).map(e=>{let n=ln.detect(e.versionRegexes,t);return{current:e.name,version:n}}),pn=(e,t)=>dn(e,t).map(e=>{let n=ln.detect(e.versionRegexes,t);return{current:e.name,version:n}}),mn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,hn=e=>t=>kt(t,e),gn=[{name:`Edge`,versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>kt(e,`edge/`)&&kt(e,`chrome`)&&kt(e,`safari`)&&kt(e,`applewebkit`)},{name:`Chromium`,brand:`Chromium`,versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,mn],search:e=>kt(e,`chrome`)&&!kt(e,`chromeframe`)},{name:`IE`,versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>kt(e,`msie`)||kt(e,`trident`)},{name:`Opera`,versionRegexes:[mn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:hn(`opera`)},{name:`Firefox`,versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:hn(`firefox`)},{name:`Safari`,versionRegexes:[mn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(kt(e,`safari`)||kt(e,`mobile/`))&&kt(e,`applewebkit`)}],_n=[{name:`Windows`,search:hn(`win`),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:`iOS`,search:e=>kt(e,`iphone`)||kt(e,`ipad`),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:`Android`,search:hn(`android`),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:`macOS`,search:hn(`mac os x`),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:`Linux`,search:hn(`linux`),versionRegexes:[]},{name:`Solaris`,search:hn(`sunos`),versionRegexes:[]},{name:`FreeBSD`,search:hn(`freebsd`),versionRegexes:[]},{name:`ChromeOS`,search:hn(`cros`),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],vn={browsers:O(gn),oses:O(_n)},yn=`Edge`,bn=`Chromium`,xn=`Opera`,Sn=`Firefox`,Cn=`Safari`,wn=()=>Tn({current:void 0,version:ln.unknown()}),Tn=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(yn),isChromium:r(bn),isIE:r(`IE`),isOpera:r(xn),isFirefox:r(Sn),isSafari:r(Cn)}},En={unknown:wn,nu:Tn,edge:O(yn),chromium:O(bn),ie:O(`IE`),opera:O(xn),firefox:O(Sn),safari:O(Cn)},Dn=`Windows`,On=`Android`,kn=`Linux`,An=`macOS`,jn=`Solaris`,Mn=`FreeBSD`,Nn=`ChromeOS`,Pn=()=>H({current:void 0,version:ln.unknown()}),H=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(Dn),isiOS:r(`iOS`),isAndroid:r(On),isMacOS:r(An),isLinux:r(kn),isSolaris:r(jn),isFreeBSD:r(Mn),isChromeOS:r(Nn)}},Fn={unknown:Pn,nu:H,windows:O(Dn),ios:O(`iOS`),android:O(On),linux:O(kn),macos:O(An),solaris:O(jn),freebsd:O(Mn),chromeos:O(Nn)},In={detect:(e,t,n)=>{let r=vn.browsers(),i=vn.oses(),a=t.bind(e=>un(r,e)).orThunk(()=>fn(r,e)).fold(En.unknown,En.nu),o=pn(i,e).fold(Fn.unknown,Fn.nu);return{browser:a,os:o,deviceType:nn(o,a,e,n)}}},Ln=e=>window.matchMedia(e).matches,Rn=Ht(()=>In.detect(window.navigator.userAgent,P.from(window.navigator.userAgentData),Ln)),zn=()=>Rn(),Bn=(e,t)=>V(e,t),Vn=(e,t)=>{let n=Bn(e,t);if(n==null)throw Error(e+` not available on this browser`);return n},Hn=Object.getPrototypeOf,Un=e=>Vn(`HTMLElement`,e),Wn=e=>{let t=V(`ownerDocument.defaultView`,e);return y(e)&&(Un(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Hn(e).constructor.name))},Gn=window.navigator.userAgent,Kn=zn(),qn=Kn.browser,Jn=Kn.os,Yn=Kn.deviceType,Xn=Gn.indexOf(`Windows Phone`)!==-1,Zn={transparentSrc:`data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7`,documentMode:qn.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!qn.isIE(),windowsPhone:Xn,browser:{current:qn.current,version:qn.version,isChromium:qn.isChromium,isEdge:qn.isEdge,isFirefox:qn.isFirefox,isIE:qn.isIE,isOpera:qn.isOpera,isSafari:qn.isSafari},os:{current:Jn.current,version:Jn.version,isAndroid:Jn.isAndroid,isChromeOS:Jn.isChromeOS,isFreeBSD:Jn.isFreeBSD,isiOS:Jn.isiOS,isLinux:Jn.isLinux,isMacOS:Jn.isMacOS,isSolaris:Jn.isSolaris,isWindows:Jn.isWindows},deviceType:{isDesktop:Yn.isDesktop,isiPad:Yn.isiPad,isiPhone:Yn.isiPhone,isPhone:Yn.isPhone,isTablet:Yn.isTablet,isTouch:Yn.isTouch,isWebView:Yn.isWebView}},Qn=/^\s*|\s*$/g,$n=e=>ne(e)?``:(``+e).replace(Qn,``),er=(e,t)=>t?t===`array`&&qt(e)?!0:typeof e===t:e!==void 0,tr=(e,t,n={})=>{let r=v(e)?e.split(t||`,`):e||[],i=r.length;for(;i--;)n[r[i]]={};return n},nr=Ye,rr=(e,...t)=>{for(let n=0;n<t.length;n++){let r=t[n];for(let t in r)if(Ye(r,t)){let n=r[t];n!==void 0&&(e[t]=n)}}return e},ir=function(e,t,n,r){r||=this,e&&(n&&(e=e[n]),Yt(e,(e,i)=>t.call(r,e,i,n)===!1?!1:(ir(e,t,n,r),!0)))},U={trim:$n,isArray:qt,is:er,toArray:Jt,makeMap:tr,each:Yt,map:Xt,grep:Zt,inArray:Qt,hasOwn:nr,extend:rr,walk:ir,resolve:(e,t=window)=>{let n=e.split(`.`);for(let e=0,r=n.length;e<r&&(t=t[n[e]],t);e++);return t},explode:(e,t)=>x(e)?e:e===``?[]:Xt(e.split(t||`,`),$n),_addCacheSuffix:e=>{let t=Zn.cacheSuffix;return t&&(e+=(e.indexOf(`?`)===-1?`?`:`&`)+t),e}},ar=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return cr(n.childNodes[0])},or=(e,t)=>cr((t||document).createElement(e)),sr=(e,t)=>cr((t||document).createTextNode(e)),cr=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},W={fromHtml:ar,fromTag:or,fromText:sr,fromDom:cr,fromPoint:(e,t,n)=>P.from(e.dom.elementFromPoint(t,n)).map(cr)},lr=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,n)=>{e.setStart(t.dom,n)},t=>{e.setStartAfter(t.dom)})},ur=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,n)=>{e.setEnd(t.dom,n)},t=>{e.setEndAfter(t.dom)})},dr=(e,t,n)=>{let r=e.document.createRange();return lr(r,t),ur(r,n),r},fr=(e,t,n,r,i)=>{let a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,i),a},pr=Ze.generate([{ltr:[`start`,`soffset`,`finish`,`foffset`]},{rtl:[`start`,`soffset`,`finish`,`foffset`]}]),mr=(e,t,n)=>t(W.fromDom(n.startContainer),n.startOffset,W.fromDom(n.endContainer),n.endOffset),hr=(e,t)=>t.match({domRange:e=>({ltr:O(e),rtl:P.none}),relative:(t,n)=>({ltr:Ht(()=>dr(e,t,n)),rtl:Ht(()=>P.some(dr(e,n,t)))}),exact:(t,n,r,i)=>({ltr:Ht(()=>fr(e,t,n,r,i)),rtl:Ht(()=>P.some(fr(e,r,i,t,n)))})}),gr=(e,t)=>{let n=t.ltr();return n.collapsed?t.rtl().filter(e=>e.collapsed===!1).map(e=>pr.rtl(W.fromDom(e.endContainer),e.endOffset,W.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>mr(e,pr.ltr,n)):mr(e,pr.ltr,n)},_r=(e,t)=>gr(e,hr(e,t));pr.ltr,pr.rtl;let vr=(e,t)=>{let n=e.dom;if(n.nodeType!==1)return!1;{let e=n;if(e.matches!==void 0)return e.matches(t);if(e.msMatchesSelector!==void 0)return e.msMatchesSelector(t);if(e.webkitMatchesSelector!==void 0)return e.webkitMatchesSelector(t);if(e.mozMatchesSelector!==void 0)return e.mozMatchesSelector(t);throw Error(`Browser lacks native selectors`)}},yr=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,br=(e,t)=>{let n=t===void 0?document:t.dom;return yr(n)?[]:he(n.querySelectorAll(e),W.fromDom)},xr=(e,t)=>{let n=t===void 0?document:t.dom;return yr(n)?P.none():P.from(n.querySelector(e)).map(W.fromDom)},Sr=(e,t)=>e.dom===t.dom,Cr=(e,t)=>{let n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},wr=vr,Tr=(e,t)=>{let n=[],r=e=>(n.push(e),t(e)),i=t(e);do i=i.bind(r);while(i.isSome());return n},Er=e=>e.dom.nodeName.toLowerCase(),Dr=e=>e.dom.nodeType,Or=e=>t=>Dr(t)===e,kr=e=>Dr(e)===8||Er(e)===`#comment`,Ar=e=>jr(e)&&Wn(e.dom),jr=Or(1),Mr=Or(3),Nr=Or(9),Pr=Or(11),Fr=e=>t=>jr(t)&&Er(t)===e,Ir=e=>W.fromDom(e.dom.ownerDocument),Lr=e=>Nr(e)?e:Ir(e),Rr=e=>W.fromDom(Lr(e).dom.documentElement),zr=e=>W.fromDom(Lr(e).dom.defaultView),Br=e=>P.from(e.dom.parentNode).map(W.fromDom),Vr=e=>P.from(e.dom.parentElement).map(W.fromDom),Hr=(e,t)=>{let n=w(t)?t:N,r=e.dom,i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){let e=r.parentNode,t=W.fromDom(e);if(i.push(t),n(t)===!0)break;r=e}return i},Ur=e=>Br(e).map(Jr).map(t=>L(t,t=>!Sr(e,t))).getOr([]),Wr=e=>P.from(e.dom.previousSibling).map(W.fromDom),Gr=e=>P.from(e.dom.nextSibling).map(W.fromDom),Kr=e=>Oe(Tr(e,Wr)),qr=e=>Tr(e,Gr),Jr=e=>he(e.dom.childNodes,W.fromDom),Yr=(e,t)=>{let n=e.dom.childNodes;return P.from(n[t]).map(W.fromDom)},Xr=e=>Yr(e,0),Zr=e=>Yr(e,e.dom.childNodes.length-1),Qr=e=>e.dom.childNodes.length,$r=e=>{let t=e.dom.head;if(t==null)throw Error(`Head is not available yet`);return W.fromDom(t)},ei=e=>Pr(e)&&C(e.dom.host),ti=e=>W.fromDom(e.dom.getRootNode()),ni=e=>ei(e)?e:$r(Lr(e)),ri=e=>ei(e)?e:W.fromDom(Lr(e).dom.body),ii=e=>{let t=ti(e);return ei(t)?P.some(t):P.none()},ai=e=>W.fromDom(e.dom.host),oi=e=>{if(C(e.target)){let t=W.fromDom(e.target);if(jr(t)&&si(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return Ne(t)}}return P.from(e.target)},si=e=>C(e.dom.shadowRoot),ci=(e,t,n,r,i,a,o)=>({target:e,x:t,y:n,stop:r,prevent:i,kill:a,raw:o}),li=e=>{let t=W.fromDom(oi(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=ie(r,n);return ci(t,e.clientX,e.clientY,n,r,i,e)},ui=(e,t)=>n=>{e(n)&&t(li(n))},di=(e,t,n,r,i)=>{let a=ui(n,r);return e.dom.addEventListener(t,a,i),{unbind:A(pi,e,t,a,i)}},fi=(e,t,n,r)=>di(e,t,n,r,!1),pi=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},mi=ce,hi=(e,t,n)=>fi(e,t,mi,n),gi=()=>W.fromDom(document),_i=(e,t=!1)=>e.dom.focus({preventScroll:t}),vi=e=>{let t=ti(e).dom;return e.dom===t.activeElement},yi=(e=gi())=>P.from(e.dom.activeElement).map(W.fromDom),bi=e=>yi(ti(e)).filter(t=>e.dom.contains(t.dom)),xi=(e,t)=>{Br(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},Si=(e,t)=>{Gr(e).fold(()=>{Br(e).each(e=>{wi(e,t)})},e=>{xi(e,t)})},Ci=(e,t)=>{Xr(e).fold(()=>{wi(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},wi=(e,t)=>{e.dom.appendChild(t.dom)},Ti=(e,t)=>{xi(e,t),wi(t,e)},Ei=(e,t)=>{I(t,t=>{xi(e,t)})},Di=(e,t)=>{I(t,(n,r)=>{Si(r===0?e:t[r-1],n)})},Oi=(e,t)=>{I(t,t=>{wi(e,t)})},ki=(e,t,n)=>{if(v(n)||ee(n)||re(n))e.setAttribute(t,n+``);else throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`)},Ai=(e,t,n)=>{ki(e.dom,t,n)},ji=(e,t)=>{let n=e.dom;Be(t,(e,t)=>{ki(n,t,e)})},Mi=(e,t)=>{let n=e.dom.getAttribute(t);return n===null?void 0:n},Ni=(e,t)=>P.from(Mi(e,t)),Pi=(e,t)=>{let n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},Fi=(e,t)=>{e.dom.removeAttribute(t)},Ii=e=>{let t=e.dom.attributes;return t==null||t.length===0},Li=e=>be(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),Ri=e=>{e.dom.textContent=``,I(Jr(e),e=>{zi(e)})},zi=e=>{let t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Bi=e=>{let t=Jr(e);t.length>0&&Di(e,t),zi(e)},Vi=(e,t)=>W.fromDom(e.dom.cloneNode(t)),Hi=e=>Vi(e,!1),Ui=e=>Vi(e,!0),Wi=(e,t)=>{let n=W.fromTag(t);return ji(n,Li(e)),n},Gi=(e,t)=>{let n=Wi(e,t);return Si(e,n),Oi(n,Jr(e)),zi(e),n},Ki=(e,t)=>{let n=(t||document).createElement(`div`);return n.innerHTML=e,Jr(W.fromDom(n))},qi=e=>he(e,W.fromDom),Ji=e=>e.dom.innerHTML,Yi=(e,t)=>{let n=Ir(e).dom,r=W.fromDom(n.createDocumentFragment());Oi(r,Ki(t,n)),Ri(e),wi(e,r)},Xi=e=>{let t=W.fromTag(`div`);return wi(t,W.fromDom(e.dom.cloneNode(!0))),Ji(t)},Zi=e=>e.style!==void 0&&w(e.style.getPropertyValue),Qi=e=>{let t=Mr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;let n=t.ownerDocument;return ii(W.fromDom(t)).fold(()=>n.body.contains(t),D(Qi,ai))},$i=(e,t,n)=>{if(!v(n))throw console.error(`Invalid call to CSS.set. Property `,t,`:: Value `,n,`:: Element `,e),Error(`CSS value must be a string: `+n);Zi(e)&&e.style.setProperty(t,n)},ea=(e,t)=>{Zi(e)&&e.style.removeProperty(t)},ta=(e,t,n)=>{let r=e.dom;$i(r,t,n)},na=(e,t)=>{let n=e.dom;Be(t,(e,t)=>{$i(n,t,e)})},ra=(e,t)=>{let n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return r===``&&!Qi(e)?ia(n,t):r},ia=(e,t)=>Zi(e)?e.style.getPropertyValue(t):``,aa=(e,t)=>{let n=e.dom,r=ia(n,t);return P.from(r).filter(e=>e.length>0)},oa=e=>{let t={},n=e.dom;if(Zi(n))for(let e=0;e<n.style.length;e++){let r=n.style.item(e);t[r]=n.style[r]}return t},sa=(e,t)=>{let n=e.dom;ea(n,t),mt(Ni(e,`style`).map(Nt),``)&&Fi(e,`style`)},ca=e=>e.dom.offsetWidth,la=((e,t)=>{let n=(t,n)=>{if(!re(n)&&!n.match(/^[0-9]+$/))throw Error(e+`.set accepts only positive integer values. Value was `+n);let r=t.dom;Zi(r)&&(r.style[e]=n+`px`)},r=n=>{let r=t(n);if(r<=0||r===null){let t=ra(n,e);return parseFloat(t)||0}return r},i=r,a=(e,t)=>be(t,(t,n)=>{let r=ra(e,n),i=r===void 0?0:parseInt(r,10);return isNaN(i)?t:t+i},0);return{set:n,get:r,getOuter:i,aggregate:a,max:(e,t,n)=>{let r=a(e,n);return t>r?t-r:0}}})(`height`,e=>{let t=e.dom;return Qi(e)?t.getBoundingClientRect().height:t.offsetHeight}),ua=e=>la.get(e),da=(e,t)=>({left:e,top:t,translate:(n,r)=>da(e+n,t+r)}),fa=da,pa=e=>{let t=e.getBoundingClientRect();return fa(t.left,t.top)},ma=(e,t)=>e===void 0?t===void 0?0:t:e,ha=e=>{let t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return fa(n.offsetLeft,n.offsetTop);let a=ma(r?.pageYOffset,i.scrollTop),o=ma(r?.pageXOffset,i.scrollLeft),s=ma(i.clientTop,n.clientTop),c=ma(i.clientLeft,n.clientLeft);return ga(e).translate(o-c,a-s)},ga=e=>{let t=e.dom,n=t.ownerDocument.body;return n===t?fa(n.offsetLeft,n.offsetTop):Qi(e)?pa(t):fa(0,0)},_a=e=>{let t=e===void 0?document:e.dom;return fa(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},va=(e,t,n)=>{let r=(n===void 0?document:n.dom).defaultView;r&&r.scrollTo(e,t)},ya=(e,t)=>{zn().browser.isSafari()&&w(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},ba=(e,t)=>{let n=n=>{if(!e(n))throw Error(`Can only get `+t+` value of a `+t+` node`);return r(n).getOr(``)},r=t=>e(t)?P.from(t.dom.nodeValue):P.none();return{get:n,getOption:r,set:(n,r)=>{if(!e(n))throw Error(`Can only set raw `+t+` value of a `+t+` node`);n.dom.nodeValue=r}}},xa=(e,t)=>{let n=(t||document).createDocumentFragment();return I(e,e=>{n.appendChild(e.dom)}),W.fromDom(n)},Sa=ba(Mr,`text`),Ca=e=>Sa.get(e),wa=e=>Sa.getOption(e),Ta=(e,t)=>Sa.set(e,t),Ea=(e,t)=>{let n=Mi(e,t);return n===void 0||n===``?[]:n.split(` `)},Da=(e,t,n)=>(Ai(e,t,Ea(e,t).concat([n]).join(` `)),!0),Oa=(e,t,n)=>{let r=L(Ea(e,t),e=>e!==n);return r.length>0?Ai(e,t,r.join(` `)):Fi(e,t),!1};var ka=(e,t,n,r,i)=>e(n,r)?P.some(n):w(i)&&i(n)?P.none():t(n,r,i);let Aa=(e,t,n)=>{let r=e.dom,i=w(n)?n:N;for(;r.parentNode;){r=r.parentNode;let e=W.fromDom(r);if(t(e))return P.some(e);if(i(e))break}return P.none()},G=(e,t,n)=>ka((e,t)=>t(e),Aa,e,t,n),ja=(e,t)=>{let n=e.dom;return n.parentNode?Ma(W.fromDom(n.parentNode),n=>!Sr(e,n)&&t(n)):P.none()},Ma=(e,t)=>Se(e.dom.childNodes,e=>t(W.fromDom(e))).map(W.fromDom),Na=(e,t)=>{let n=e=>{for(let r=0;r<e.childNodes.length;r++){let i=W.fromDom(e.childNodes[r]);if(t(i))return P.some(i);let a=n(e.childNodes[r]);if(a.isSome())return a}return P.none()};return n(e.dom)},Pa=(e,t,n)=>Aa(e,e=>vr(e,t),n),Fa=(e,t)=>xr(t,e),Ia=(e,t,n)=>ka((e,t)=>vr(e,t),Pa,e,t,n),La=e=>e.dom.classList!==void 0,Ra=e=>Ea(e,`class`),za=(e,t)=>Da(e,`class`,t),Ba=(e,t)=>Oa(e,`class`,t),Va=(e,t)=>pe(Ra(e),t)?Ba(e,t):za(e,t),Ha=(e,t)=>{La(e)?e.dom.classList.add(t):za(e,t)},Ua=e=>{(La(e)?e.dom.classList:Ra(e)).length===0&&Fi(e,`class`)},Wa=(e,t)=>{La(e)?e.dom.classList.remove(t):Ba(e,t),Ua(e)},Ga=(e,t)=>{let n=La(e)?e.dom.classList.toggle(t):Va(e,t);return Ua(e),n},Ka=(e,t)=>La(e)&&e.dom.classList.contains(t),K=(e,t)=>{I(t,t=>{Ha(e,t)})},qa=(e,t)=>{I(t,t=>{Wa(e,t)})},Ja=e=>Ia(e,`[contenteditable]`),Ya=(e,t=!1)=>Qi(e)?e.dom.isContentEditable:Ja(e).fold(O(t),e=>Xa(e)===`true`),Xa=e=>e.dom.contentEditable,Za=(e,t)=>{e.dom.contentEditable=t?`true`:`false`},Qa=(e,t,n)=>L(Hr(e,n),t),$a=(e,t)=>L(Jr(e),t),eo=(e,t)=>{let n=[];return I(Jr(e),e=>{t(e)&&(n=n.concat([e])),n=n.concat(eo(e,t))}),n},to=(e,t,n)=>Qa(e,e=>vr(e,t),n),no=(e,t)=>br(t,e),ro=(e,t,n)=>Aa(e,t,n).isSome(),io=(e,t)=>ja(e,t).isSome(),ao=(e,t)=>Na(e,t).isSome(),oo=(e,t)=>ro(e,A(Sr,t)),so=(e,t,n)=>Pa(e,t,n).isSome(),co=e=>w(e)?e:N,lo=(e,t,n)=>{let r=e.dom,i=co(n);for(;r.parentNode;){r=r.parentNode;let e=W.fromDom(r),n=t(e);if(n.isSome())return n;if(i(e))break}return P.none()},uo=(e,t,n)=>{let r=t(e),i=co(n);return r.orThunk(()=>i(e)?P.none():lo(e,t,i))},fo=e=>wa(e).filter(e=>e.trim().length!==0||e.indexOf(`\xA0`)>-1).isSome(),po=e=>Ar(e)&&Mi(e,`contenteditable`)===`false`,mo=[`img`,`br`],ho=e=>fo(e)||pe(mo,Er(e))||po(e),go=e=>Na(e,ho),_o={create:(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r})},vo=Ze.generate([{before:[`element`]},{on:[`element`,`offset`]},{after:[`element`]}]),yo={before:vo.before,on:vo.on,after:vo.after,cata:(e,t,n,r)=>e.fold(t,n,r),getStart:e=>e.fold(k,k,k)},bo=Ze.generate([{domRange:[`rng`]},{relative:[`startSitu`,`finishSitu`]},{exact:[`start`,`soffset`,`finish`,`foffset`]}]),xo=e=>bo.exact(e.start,e.soffset,e.finish,e.foffset),So=e=>e.match({domRange:e=>W.fromDom(e.startContainer),relative:(e,t)=>yo.getStart(e),exact:(e,t,n,r)=>e}),Co={domRange:bo.domRange,relative:bo.relative,exact:bo.exact,exactFromRange:xo,getWin:e=>zr(So(e)),range:_o.create},wo=(e,t,n)=>P.from(e.caretPositionFromPoint?.(t,n)).bind(t=>{if(t.offsetNode===null)return P.none();let n=e.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),P.some(n)}),To=(e,t,n)=>P.from(e.caretRangeFromPoint?.(t,n)),Eo=(e,t,n)=>e.caretPositionFromPoint?wo(e,t,n):e.caretRangeFromPoint?To(e,t,n):P.none(),Do=(e,t,n)=>{let r=e.document;return Eo(r,t,n).map(e=>_o.create(W.fromDom(e.startContainer),e.startOffset,W.fromDom(e.endContainer),e.endOffset))},Oo=(e,t)=>{let n=Er(e);return n===`input`?yo.after(e):pe([`br`,`img`],n)?t===0?yo.before(e):yo.after(e):yo.on(e,t)},ko=(e,t)=>{let n=e.fold(yo.before,Oo,yo.after),r=t.fold(yo.before,Oo,yo.after);return Co.relative(n,r)},Ao=(e,t,n,r)=>{let i=Oo(e,t),a=Oo(n,r);return Co.relative(i,a)},jo=e=>e.match({domRange:e=>{let t=W.fromDom(e.startContainer),n=W.fromDom(e.endContainer);return Ao(t,e.startOffset,n,e.endOffset)},relative:ko,exact:Ao}),Mo=e=>{let t=Co.getWin(e).dom,n=(e,n,r,i)=>fr(t,e,n,r,i);return _r(t,jo(e)).match({ltr:n,rtl:n})},No=(e,t,n)=>Do(e,t,n),Po=e=>{let t=e===void 0?window:e;return zn().browser.isFirefox()?P.none():P.from(t.visualViewport)},Fo=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),Io=e=>{let t=e===void 0?window:e,n=t.document,r=_a(W.fromDom(n));return Po(t).fold(()=>{let e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return Fo(r.left,r.top,n,i)},e=>Fo(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height))};class Lo{rootNode;node;constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,`firstChild`,`nextSibling`,e),this.node}prev(e){return this.node=this.findSibling(this.node,`lastChild`,`previousSibling`,e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,r){if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let r=e.parentNode;r&&r!==this.rootNode;r=r.parentNode)if(t=r[n],t)return t}}}findPreviousNode(e,t){if(e){let n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t){for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e}return n}let r=e.parentNode;if(r&&r!==this.rootNode)return r}}}let Ro=/^[ \t\r\n]*$/,zo=e=>Ro.test(e),Bo=e=>{for(let t of e)if(!Ut(t))return!1;return!0},Vo=e=>` \f	\v`.indexOf(e)!==-1,Ho=e=>e===`
`||e===`\r`,Uo=(e,t)=>t<e.length&&t>=0?Ho(e[t]):!1,Wo=(e,t=4,n=!0,r=!0)=>{let i=Rt(` `,t),a=e.replace(/\t/g,i);return be(a,(e,t)=>Vo(t)||t===`\xA0`?e.pcIsSpace||e.str===``&&n||e.str.length===a.length-1&&r||Uo(a,e.str.length+1)?{pcIsSpace:!1,str:e.str+`\xA0`}:{pcIsSpace:!0,str:e.str+` `}:{pcIsSpace:Ho(t),str:e.str+t},{pcIsSpace:!1,str:``}).str},Go=e=>t=>!!t&&t.nodeType===e,Ko=e=>!!e&&!Object.getPrototypeOf(e),qo=Go(1),Jo=e=>qo(e)&&Ar(W.fromDom(e)),Yo=e=>qo(e)&&e.namespaceURI===`http://www.w3.org/2000/svg`,Xo=e=>{let t=e.toLowerCase();return e=>C(e)&&e.nodeName.toLowerCase()===t},Zo=e=>{let t=e.map(e=>e.toLowerCase());return e=>e&&e.nodeName?pe(t,e.nodeName.toLowerCase()):!1},Qo=(e,t)=>{let n=t.toLowerCase().split(` `);return t=>{if(qo(t)){let r=t.ownerDocument.defaultView;if(r)for(let i=0;i<n.length;i++){let a=r.getComputedStyle(t,null);if((a?a.getPropertyValue(e):null)===n[i])return!0}}return!1}},$o=e=>t=>qo(t)&&t.hasAttribute(e),es=e=>qo(e)&&e.hasAttribute(`data-mce-bogus`),ts=e=>qo(e)&&e.getAttribute(`data-mce-bogus`)===`all`,ns=e=>qo(e)&&e.tagName===`TABLE`,rs=e=>t=>!!(Jo(t)&&(t.contentEditable===e||t.getAttribute(`data-mce-contenteditable`)===e)),is=Zo([`textarea`,`input`]),q=Go(3),as=Go(4),os=Go(7),ss=Go(8),cs=Go(9),ls=Go(11),us=Xo(`br`),ds=Xo(`img`),fs=Xo(`a`),ps=rs(`true`),ms=rs(`false`),hs=e=>Jo(e)&&e.isContentEditable&&C(e.parentElement)&&!e.parentElement.isContentEditable,gs=Zo([`td`,`th`]),_s=Zo([`td`,`th`,`caption`]),vs=Xo(`template`),ys=Zo([`video`,`audio`,`object`,`embed`]),bs=Xo(`li`),xs=Xo(`details`),Ss=Xo(`summary`),Cs=`uc-video`,ws=e=>e.nodeName.toLowerCase()===Cs,Ts={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Es=(e,t,n)=>{let r=W.fromDom(t),i=W.fromDom(e),a=n.getWhitespaceElements();return ro(i,e=>Ye(a,Er(e)),A(Sr,r))},Ds=e=>qo(e)&&e.nodeName===`A`&&!e.hasAttribute(`href`)&&(e.hasAttribute(`name`)||e.hasAttribute(`id`)),Os=(e,t)=>qo(e)&&Ye(t.getNonEmptyElements(),e.nodeName),ks=$o(`data-mce-bookmark`),As=e=>Vr(W.fromDom(e)).exists(e=>!Ya(e)),js=(e,t,n)=>zo(e.data)&&!Es(e,t,n),Ms=(e,t,n,r)=>q(e)&&!js(e,t,n)&&(!r.includeZwsp||!Bo(e.data)),Ns=(e,t,n,r)=>w(r.isContent)&&r.isContent(t)||Os(t,e)||ks(t)||Ds(t)||Ms(t,n,e,r)||ms(t)||ps(t)&&As(t),Ps=(e,t,n)=>{let r={...Ts,...n};if(r.checkRootAsContent&&Ns(e,t,t,r))return!1;let i=t.firstChild,a=0;if(!i)return!0;let o=new Lo(i,t);do{if(r.skipBogus&&qo(i)){let e=i.getAttribute(`data-mce-bogus`);if(e){i=o.next(e===`all`);continue}}if(ss(i)){i=o.next(!0);continue}if(us(i)){a++,i=o.next();continue}if(Ns(e,i,t,r))return!1;i=o.next()}while(i);return a<=1},Fs=(e,t,n)=>Ps(e,t.dom,{checkRootAsContent:!0,...n}),Is=(e,t,n)=>Ns(e,t,t,{includeZwsp:Ts.includeZwsp,...n}),Ls=e=>{let t=e.toLowerCase();return t===`svg`?`svg`:t===`math`?`math`:`html`},Rs=e=>Ls(e)!==`html`,zs=e=>Rs(e.nodeName),Bs=e=>Ls(e.nodeName),Vs=[`svg`,`math`],Hs=()=>{let e=Tt(),t=()=>e.get().map(Bs).getOr(`html`);return{track:n=>(zs(n)?e.set(n):e.get().exists(e=>!e.contains(n))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Us=`data-mce-block`,Ws=e=>L(Re(e),e=>!/[A-Z]/.test(e)),Gs=e=>he(Ws(e),e=>{let t=CSS.escape(e);return`${t}:`+he(Vs,e=>`not(${e} ${t})`).join(`:`)}).join(`,`),Ks=(e,t)=>C(t.querySelector(e))?(t.setAttribute(Us,`true`),t.getAttribute(`data-mce-selected`)===`inline-boundary`&&t.removeAttribute(`data-mce-selected`),!0):(t.removeAttribute(Us),!1),qs=(e,t)=>{let n=Gs(e.getTransparentElements()),r=Gs(e.getBlockElements());return L(t.querySelectorAll(n),e=>Ks(r,e))},Js=(e,t,n)=>{let r=n?`lastChild`:`firstChild`;for(let n=t[r];n;n=n[r])if(Ps(e,n,{checkRootAsContent:!0})){n.parentNode?.removeChild(n);return}},Ys=(e,t,n)=>{let r=document.createRange(),i=t.parentNode;if(i){r.setStartBefore(t),r.setEndBefore(n);let a=r.extractContents();Js(e,a,!0),r.setStartAfter(n),r.setEndAfter(t);let o=r.extractContents();Js(e,o,!1),Ps(e,a,{checkRootAsContent:!0})||i.insertBefore(a,t),Ps(e,n,{checkRootAsContent:!0})||i.insertBefore(n,t),Ps(e,o,{checkRootAsContent:!0})||i.insertBefore(o,t),i.removeChild(t)}},Xs=(e,t,n)=>{let r=e.getBlockElements(),i=W.fromDom(t),a=e=>Er(e)in r,o=e=>Sr(e,i);I(qi(n),t=>{Aa(t,a,o).each(n=>{let r=$a(t,t=>a(t)&&!e.isValidChild(Er(n),Er(t)));if(r.length>0){let t=Vr(n);I(r,t=>{Aa(t,a,o).each(n=>{Ys(e,n.dom,t.dom)})}),t.each(t=>qs(e,t.dom))}})})},Zs=(e,t,n)=>{I([...n,...ic(e,t)?[t]:[]],t=>I(no(W.fromDom(t),t.nodeName.toLowerCase()),t=>{ac(e,t.dom)&&Bi(t)}))},Qs=(e,t)=>{let n=qs(e,t);Xs(e,t,n),Zs(e,t,n)},$s=(e,t)=>{rc(e,t)&&Ks(Gs(e.getBlockElements()),t)},ec=(e,t,n)=>{let r=Hr(W.fromDom(n),e=>Sr(e,W.fromDom(t)));Me(r,r.length-2).filter(jr).fold(()=>Qs(e,t),t=>Qs(e,t.dom))},tc=e=>e.hasAttribute(Us),nc=(e,t)=>Ye(e.getTransparentElements(),t),rc=(e,t)=>qo(t)&&nc(e,t.nodeName),ic=(e,t)=>rc(e,t)&&tc(t),ac=(e,t)=>rc(e,t)&&!tc(t),oc=(e,t)=>t.type===1&&nc(e,t.name)&&v(t.attr(Us)),sc=zn().browser,cc=e=>Se(e,jr),lc=e=>sc.isFirefox()&&Er(e)===`table`?cc(Jr(e)).filter(e=>Er(e)===`caption`).bind(e=>cc(qr(e)).map(t=>{let n=t.dom.offsetTop,r=e.dom.offsetTop,i=e.dom.offsetHeight;return n<=r?-i:0})).getOr(0):0,uc=(e,t)=>e.children&&pe(e.children,t),dc=(e,t,n)=>{let r=0,i=0,a=e.ownerDocument;if(n||=e,t){if(n===e&&t.getBoundingClientRect&&ra(W.fromDom(e),`position`)===`static`){let n=t.getBoundingClientRect();return r=n.left+(a.documentElement.scrollLeft||e.scrollLeft)-a.documentElement.clientLeft,i=n.top+(a.documentElement.scrollTop||e.scrollTop)-a.documentElement.clientTop,{x:r,y:i}}let o=t;for(;o&&o!==n&&o.nodeType&&!uc(o,n);){let e=o;r+=e.offsetLeft||0,i+=e.offsetTop||0,o=e.offsetParent}for(o=t.parentNode;o&&o!==n&&o.nodeType&&!uc(o,n);)r-=o.scrollLeft||0,i-=o.scrollTop||0,o=o.parentNode;i+=lc(W.fromDom(t))}return{x:r,y:i}},fc=(e,t)=>{let n=t.crossOrigin;if(t.contentCssCors)return`anonymous`;if(w(n))return n(e)},pc=(e,t={})=>{let n=0,r={},i=W.fromDom(e),a=Lr(i),o=e=>{t.referrerPolicy=e},s=e=>{t.contentCssCors=e},c=e=>{t.crossOrigin=e},l=e=>{wi(ni(i),e)},u=e=>{Fa(ni(i),`#`+e).each(zi)},d=e=>R(r,e).getOrThunk(()=>({id:`mce-u`+ n++,passed:[],failed:[],count:0})),f=e=>new Promise((n,i)=>{let o,s=U._addCacheSuffix(e),c=d(s);r[s]=c,c.count++;let u=(e,t)=>{I(e,se),c.status=t,c.passed=[],c.failed=[],o&&=(o.onload=null,o.onerror=null,null)},f=()=>u(c.passed,2),p=()=>u(c.failed,3);if(n&&c.passed.push(n),i&&c.failed.push(i),c.status===1)return;if(c.status===2){f();return}if(c.status===3){p();return}c.status=1;let m=W.fromTag(`link`,a.dom);ji(m,{rel:`stylesheet`,type:`text/css`,id:c.id});let h=fc(e,t);h!==void 0&&Ai(m,`crossOrigin`,h),t.referrerPolicy&&Ai(m,`referrerpolicy`,t.referrerPolicy),o=m.dom,o.onload=f,o.onerror=p,l(m),Ai(m,`href`,s)}),p=(e,t)=>{let n=d(e);r[e]=n,n.count++;let i=W.fromTag(`style`,a.dom);ji(i,{rel:`stylesheet`,type:`text/css`,id:n.id,"data-mce-key":e}),i.dom.innerHTML=t,l(i)},m=e=>Promise.allSettled(he(e,e=>f(e).then(O(e)))).then(e=>{let t=_e(e,e=>e.status===`fulfilled`);return t.fail.length>0?Promise.reject(he(t.fail,e=>e.reason)):he(t.pass,e=>e.value)}),h=e=>{let t=U._addCacheSuffix(e);R(r,t).each(e=>{--e.count===0&&(delete r[t],u(e.id))})};return{load:f,loadRawCss:p,loadAll:m,unload:h,unloadRawCss:e=>{R(r,e).each(t=>{--t.count===0&&(delete r[e],u(t.id))})},unloadAll:e=>{I(e,e=>{h(e)})},_setReferrerPolicy:o,_setContentCssCors:s,_setCrossOrigin:c}},mc=(()=>{let e=new WeakMap;return{forElement:(t,n)=>{let r=ti(t).dom;return P.from(e.get(r)).getOrThunk(()=>{let t=pc(r,n);return e.set(r,t),t})}}})(),hc=e=>e.nodeName.toLowerCase()===`span`,gc=(e,t)=>C(e)&&(Is(t,e)||t.isInline(e.nodeName.toLowerCase())),_c=(e,t,n)=>{let r=new Lo(e,t).prev(!1),i=new Lo(e,t).next(!1),a=te(r)||gc(r,n),o=te(i)||gc(i,n);return a&&o},vc=e=>hc(e)&&e.getAttribute(`data-mce-type`)===`bookmark`,yc=(e,t,n)=>q(e)&&e.data.length>0&&_c(e,t,n),bc=e=>qo(e)?e.childNodes.length>0:!1,xc=e=>ls(e)||cs(e),Sc=(e,t,n,r)=>{let i=r||t;if(qo(t)&&vc(t))return t;let a=t.childNodes;for(let t=a.length-1;t>=0;t--)Sc(e,a[t],n,i);if(qo(t)){let e=t.childNodes;e.length===1&&vc(e[0])&&t.parentNode?.insertBefore(e[0],t)}return!xc(t)&&!Is(n,t)&&!bc(t)&&!yc(t,i,n)&&e.remove(t),t},Cc=U.makeMap,wc=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tc=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ec=/[<>&\"\']/g,Dc=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Oc={128:`€`,130:`‚`,131:`ƒ`,132:`„`,133:`…`,134:`†`,135:`‡`,136:`ˆ`,137:`‰`,138:`Š`,139:`‹`,140:`Œ`,142:`Ž`,145:`‘`,146:`’`,147:`“`,148:`”`,149:`•`,150:`–`,151:`—`,152:`˜`,153:`™`,154:`š`,155:`›`,156:`œ`,158:`ž`,159:`Ÿ`},kc={'"':`&quot;`,"'":`&#39;`,"<":`&lt;`,">":`&gt;`,"&":`&amp;`,"`":`&#96;`},Ac={"&lt;":`<`,"&gt;":`>`,"&amp;":`&`,"&quot;":`"`,"&apos;":`'`},jc=e=>{let t=W.fromTag(`div`).dom;return t.innerHTML=e,t.textContent||t.innerText||e},Mc=(e,t)=>{let n={};if(e){let r=e.split(`,`);t||=10;for(let e=0;e<r.length;e+=2){let i=String.fromCharCode(parseInt(r[e],t));if(!kc[i]){let t=`&`+r[e+1]+`;`;n[i]=t,n[t]=i}}return n}else return},Nc=Mc(`50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro`,32),Pc=(e,t)=>e.replace(t?wc:Tc,e=>kc[e]||e),Fc=e=>(``+e).replace(Ec,e=>kc[e]||e),Ic=(e,t)=>e.replace(t?wc:Tc,e=>e.length>1?`&#`+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+`;`:kc[e]||`&#`+e.charCodeAt(0)+`;`),Lc=(e,t,n)=>{let r=n||Nc;return e.replace(t?wc:Tc,e=>kc[e]||r[e]||e)},Rc={encodeRaw:Pc,encodeAllRaw:Fc,encodeNumeric:Ic,encodeNamed:Lc,getEncodeFunc:(e,t)=>{let n=Mc(t)||Nc,r=(e,t)=>e.replace(t?wc:Tc,e=>kc[e]===void 0?n[e]===void 0?e.length>1?`&#`+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+`;`:`&#`+e.charCodeAt(0)+`;`:n[e]:kc[e]),i=(e,t)=>Lc(e,t,n),a=Cc(e.replace(/\+/g,`,`));return a.named&&a.numeric?r:a.named?t?i:Lc:a.numeric?Ic:Pc},decode:e=>e.replace(Dc,(e,t)=>t?(t=t.charAt(0).toLowerCase()===`x`?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(t&1023))):Oc[t]||String.fromCharCode(t)):Ac[e]||Nc[e]||jc(e))},zc=(e,t)=>(e=U.trim(e),e?e.split(t||` `):[]),Bc=e=>RegExp(`^`+e.replace(/([?+*])/g,`.$1`)+`$`),Vc=e=>y(e)&&e.source&&Object.prototype.toString.call(e)===`[object RegExp]`,Hc=e=>{let t=e=>x(e)?he(e,t):Vc(e)?new RegExp(e.source,e.flags):y(e)?Ve(e,t):e;return t(e)},Uc=e=>{let t=/^(~)?(.+)$/;return Ee(zc(e,`,`),e=>{let n=t.exec(e);return n?[{cloneName:n[1]===`~`?`span`:`div`,name:n[2]}]:[]})},Wc=e=>Object.freeze([`id`,`accesskey`,`class`,`dir`,`lang`,`style`,`tabindex`,`title`,`role`,...e===`html4`?[]:[`contenteditable`,`contextmenu`,`draggable`,`dropzone`,`hidden`,`spellcheck`,`translate`,`itemprop`,`itemscope`,`itemtype`],...e===`html5-strict`?[]:[`xml:lang`]]),Gc=e=>{let t,n;t=`address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul`,n=`a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment`,e!==`html4`&&(t+=` article aside details dialog figure main header footer hgroup section nav a ins del canvas map`,n+=` audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg`),e!==`html5-strict`&&(n=[n,`acronym applet basefont big font strike tt`].join(` `),t=[t,`center dir isindex noframes`].join(` `));let r=[t,n].join(` `);return{blockContent:t,phrasingContent:n,flowContent:r}},Kc=e=>{let{blockContent:t,phrasingContent:n,flowContent:r}=Gc(e),i=e=>Object.freeze(e.split(` `));return Object.freeze({blockContent:i(t),phrasingContent:i(n),flowContent:i(r)})},qc={html4:Ht(()=>Kc(`html4`)),html5:Ht(()=>Kc(`html5`)),"html5-strict":Ht(()=>Kc(`html5-strict`))},Jc=(e,t)=>{let{blockContent:n,phrasingContent:r,flowContent:i}=qc[e]();return t===`blocks`?P.some(n):t===`phrasing`?P.some(r):t===`flow`?P.some(i):P.none()},Yc=e=>{let t=Wc(e),{phrasingContent:n,flowContent:r}=Gc(e),i={},a=(e,t,n)=>{i[e]={attributes:Ae(t,O({})),attributesOrder:t,children:Ae(n,O({}))}},o=(e,n=``,r=``)=>{let i=zc(r),o=zc(e),s=o.length,c=[...t,...zc(n)];for(;s--;)a(o[s],c.slice(),i)},s=(e,t)=>{let n=zc(e),r=zc(t),a=n.length;for(;a--;){let e=i[n[a]];for(let t=0,n=r.length;t<n;t++)e.attributes[r[t]]={},e.attributesOrder.push(r[t])}};return e!==`html5-strict`&&(I(zc(`acronym applet basefont big font strike tt`),e=>{o(e,``,n)}),I(zc(`center dir isindex noframes`),e=>{o(e,``,r)})),o(`html`,`manifest`,`head body`),o(`head`,``,`base command link meta noscript script style title`),o(`title hr noscript br`),o(`base`,`href target`),o(`link`,`href rel media hreflang type sizes hreflang`),o(`meta`,`name http-equiv content charset property`),o(`style`,`media type scoped`),o(`script`,`src async defer type charset`),o(`body`,`onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload`,r),o(`dd div`,``,r),o(`address dt caption`,``,e===`html4`?n:r),o(`h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn`,``,n),o(`blockquote`,`cite`,r),o(`ol`,`reversed start type`,`li`),o(`ul`,``,`li`),o(`li`,`value`,r),o(`dl`,``,`dt dd`),o(`a`,`href target rel media hreflang type`,e===`html4`?n:r),o(`q`,`cite`,n),o(`ins del`,`cite datetime`,r),o(`img`,`src sizes srcset alt usemap ismap width height`),o(`iframe`,`src name width height`,r),o(`embed`,`src type width height`),o(`object`,`data type typemustmatch name usemap form width height`,[r,`param`].join(` `)),o(`param`,`name value`),o(`map`,`name`,[r,`area`].join(` `)),o(`area`,`alt coords shape href target rel media hreflang type`),o(`table`,`border`,`caption colgroup thead tfoot tbody tr`+(e===`html4`?` col`:``)),o(`colgroup`,`span`,`col`),o(`col`,`span`),o(`tbody thead tfoot`,``,`tr`),o(`tr`,``,`td th`),o(`td`,`colspan rowspan headers`,r),o(`th`,`colspan rowspan headers scope abbr`,r),o(`form`,`accept-charset action autocomplete enctype method name novalidate target`,r),o(`fieldset`,`disabled form name`,[r,`legend`].join(` `)),o(`label`,`form for`,n),o(`input`,`accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width`),o(`button`,`disabled form formaction formenctype formmethod formnovalidate formtarget name type value`,e===`html4`?r:n),o(`select`,`disabled form multiple name required size`,`option optgroup`),o(`optgroup`,`disabled label`,`option`),o(`option`,`disabled label selected value`),o(`textarea`,`cols dirname disabled form maxlength name readonly required rows wrap`),o(`menu`,`type label`,[r,`li`].join(` `)),o(`noscript`,``,r),e!==`html4`&&(o(`wbr`),o(`ruby`,``,[n,`rt rp`].join(` `)),o(`figcaption`,``,r),o(`mark rt rp bdi`,``,n),o(`summary`,``,[n,`h1 h2 h3 h4 h5 h6`].join(` `)),o(`canvas`,`width height`,r),o(`data`,`value`,n),o(`video`,`src crossorigin poster preload autoplay mediagroup loop controlslist disablepictureinpicture disableremoteplayback playsinline muted controls width height buffered`,[r,`track source`].join(` `)),o(`audio`,`src crossorigin preload autoplay mediagroup loop muted controls buffered volume`,[r,`track source`].join(` `)),o(`picture`,``,`img source`),o(`source`,`src srcset type media sizes`),o(`track`,`kind src srclang label default`),o(`datalist`,``,[n,`option`].join(` `)),o(`article section nav aside main header footer`,``,r),o(`hgroup`,``,`h1 h2 h3 h4 h5 h6`),o(`figure`,``,[r,`figcaption`].join(` `)),o(`time`,`datetime`,n),o(`dialog`,`open`,r),o(`command`,`type label icon disabled checked radiogroup command`),o(`output`,`for form name`,n),o(`progress`,`value max`,n),o(`meter`,`value min max low high optimum`,n),o(`details`,`open`,[r,`summary`].join(` `)),o(`keygen`,`autofocus challenge disabled form keytype name`),a(`svg`,`id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform`.split(` `),[])),e!==`html5-strict`&&(s(`script`,`language xml:space`),s(`style`,`xml:space`),s(`object`,`declare classid code codebase codetype archive standby align border hspace vspace`),s(`embed`,`align name hspace vspace`),s(`param`,`valuetype type`),s(`a`,`charset name rev shape coords`),s(`br`,`clear`),s(`applet`,`codebase archive code object alt name width height align hspace vspace`),s(`img`,`name longdesc align border hspace vspace`),s(`iframe`,`longdesc frameborder marginwidth marginheight scrolling align`),s(`font basefont`,`size color face`),s(`input`,`usemap align`),s(`select`),s(`textarea`),s(`h1 h2 h3 h4 h5 h6 div p legend caption`,`align`),s(`ul`,`type compact`),s(`li`,`type`),s(`ol dl menu dir`,`compact`),s(`pre`,`width xml:space`),s(`hr`,`align noshade size width`),s(`isindex`,`prompt`),s(`table`,`summary width frame rules cellspacing cellpadding align bgcolor`),s(`col`,`width align char charoff valign`),s(`colgroup`,`width align char charoff valign`),s(`thead`,`align char charoff valign`),s(`tr`,`align char charoff valign bgcolor`),s(`th`,`axis align char charoff valign nowrap bgcolor width height`),s(`form`,`accept`),s(`td`,`abbr axis scope align char charoff valign nowrap bgcolor width height`),s(`tfoot`,`align char charoff valign`),s(`tbody`,`align char charoff valign`),s(`area`,`nohref`),s(`body`,`background bgcolor text link vlink alink`)),e!==`html4`&&(s(`input button select textarea`,`autofocus`),s(`input textarea`,`placeholder`),s(`a`,`download`),s(`link script img`,`crossorigin`),s(`img`,`loading`),s(`iframe`,`sandbox seamless allow allowfullscreen loading referrerpolicy`)),e!==`html4`&&I([i.video,i.audio],e=>{delete e.children.audio,delete e.children.video}),I(zc(`a form meter progress dfn`),e=>{i[e]&&delete i[e].children[e]}),delete i.caption.children.table,delete i.script,i},Xc=e=>e===`-`?`remove`:`add`,Zc=e=>P.from(/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/.exec(e)).map(e=>({preset:e[1]===`@`,name:e[2]})),Qc=e=>{let t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Ee(zc(e,`,`),e=>{let n=t.exec(e);if(n){let e=n[1];return[{operation:e?Xc(e):`replace`,name:n[2],validChildren:Ee(zc(n[3],`|`),e=>Zc(e).toArray())}]}else return[]})},$c=(e,t)=>{let n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:i,attributesOrder:a}=t;return I(zc(e,`|`),e=>{let o=n.exec(e);if(o){let e={},n=o[1],s=o[2].replace(/[\\:]:/g,`:`),c=o[3],l=o[4];if(n===`!`&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(s),e.required=!0),n===`-`){delete i[s],a.splice(U.inArray(a,s),1);return}if(c&&(c===`=`?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:s,value:l}),e.defaultValue=l):c===`~`?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:s,value:l}),e.forcedValue=l):c===`<`&&(e.validValues=U.makeMap(l,`?`))),r.test(s)){let n=e;t.attributePatterns=t.attributePatterns||[],n.pattern=Bc(s),t.attributePatterns.push(n)}else i[s]||a.push(s),i[s]=e}})},el=(e,t)=>{Be(e.attributes,(e,n)=>{t.attributes[n]=e}),t.attributesOrder.push(...e.attributesOrder)},tl=(e,t)=>{let n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Ee(zc(t,`,`),t=>{let r=n.exec(t);if(r){let t=r[1],n=r[2],i=r[3],a=r[4],o=r[5],s={attributes:{},attributesOrder:[]};if(e.each(e=>el(e,s)),t===`#`?s.paddEmpty=!0:t===`-`&&(s.removeEmpty=!0),a===`!`&&(s.removeEmptyAttrs=!0),o&&$c(o,s),i&&(s.outputName=n),n===`@`)if(e.isNone())e=P.some(s);else return[];return[i?{name:n,element:s,aliasName:i}:{name:n,element:s}]}else return[]})},nl={},rl=U.makeMap,il=U.each,al=U.extend,ol=U.explode,sl=(e,t={})=>al(rl(e,` `,rl(e.toUpperCase(),` `)),t),cl=e=>sl(`td th li dt dd figcaption caption details summary`,e.getTextBlockElements()),ll=(e,t)=>{if(e){let n={};return v(e)&&(e={"*":e}),il(e,(e,r)=>{n[r]=n[r.toUpperCase()]=t===`map`?rl(e,/[, ]/):ol(e,/[, ]/)}),n}else return},ul=(e={})=>{let t={},n={},r=[],i={},a={},o={},s=(t,n,r)=>{let i=e[t];if(i)return rl(i,/[, ]/,rl(i.toUpperCase(),/[, ]/));{let e=nl[t];return e||(e=sl(n,r),nl[t]=e),e}},c=e.schema??`html5`,l=Yc(c);e.verify_html===!1&&(e.valid_elements=`*[*]`);let u=ll(e.valid_styles),d=ll(e.invalid_styles,`map`),f=ll(e.valid_classes,`map`),p=s(`whitespace_elements`,`pre script noscript style textarea video audio iframe object code`),m=s(`self_closing_elements`,`colgroup dd dt li option p td tfoot th thead tr`),h=s(`void_elements`,`area base basefont br col frame hr img input isindex link meta param embed source wbr track`),g=s(`boolean_attributes`,`checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen`),_=`td th iframe video audio object script code`,b=s(`non_empty_elements`,_+` pre svg textarea summary`,h),S=s(`move_caret_before_on_enter_elements`,_+` table`,h),te=`h1 h2 h3 h4 h5 h6`,ne=s(`text_block_elements`,te+` p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure`),C=s(`block_elements`,`hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col`,ne),w=s(`text_inline_elements`,`span strong b em i font s strike u var cite dfn code mark q sup sub samp`),re=s(`transparent_elements`,`a ins del canvas map`),T=s(`wrap_block_elements`,`pre `+te);il(`script noscript iframe noframes noembed title style textarea xmp plaintext`.split(` `),e=>{a[e]=RegExp(`</`+e+`[^>]*>`,`gi`)});let E=e=>{let n=P.from(t[`@`]),i=/[*?+]/;I(tl(n,e??``),({name:e,element:n,aliasName:a})=>{if(a&&(t[a]=n),i.test(e)){let t=n;t.pattern=Bc(e),r.push(t)}else t[e]=n})},ie=e=>{r=[],I(Re(t),e=>{delete t[e]}),E(e)},D=(e,r)=>{delete nl.text_block_elements,delete nl.block_elements;let a=r.extends?!xe(r.extends):!1,o=r.extends;if(n[e]=o?n[o]:{},i[e]=o??e,b[e.toUpperCase()]={},b[e]={},a||(C[e.toUpperCase()]={},C[e]={}),o&&!t[e]&&t[o]){let n=Hc(t[o]);delete n.removeEmptyAttrs,delete n.removeEmpty,t[e]=n}else t[e]={attributesOrder:[],attributes:{}};if(x(r.attributes)){let n=e=>{i.attributesOrder.push(e),i.attributes[e]={}},i=t[e]??{};delete i.attributesDefault,delete i.attributesForced,delete i.attributePatterns,delete i.attributesRequired,i.attributesOrder=[],i.attributes={},I(r.attributes,e=>{let t=Wc(c);Zc(e).each(({preset:e,name:r})=>{e?r===`global`&&I(t,n):n(r)})}),t[e]=i}if(ee(r.padEmpty)){let n=t[e]??{};n.paddEmpty=r.padEmpty,t[e]=n}if(x(r.children)){let t={},i=e=>{t[e]={}},a=e=>{Jc(c,e).each(e=>{I(e,i)})};I(r.children,e=>{Zc(e).each(({preset:e,name:t})=>{e?a(t):i(t)})}),n[e]=t}o&&Be(n,(t,r)=>{t[o]&&(n[r]=t=al({},n[r]),t[e]=t[o])})},k=e=>{I(Uc(e??``),({name:e,cloneName:t})=>{D(e,{extends:t})})},ae=(e,t)=>{o[e]=t},A=e=>{y(e)?Be(e,(e,t)=>{let n=e.componentUrl;v(n)&&ae(t,n),D(t,e)}):v(e)&&k(e)},oe=e=>{I(Qc(e??``),({operation:e,name:t,validChildren:r})=>{let i=e===`replace`?{"#comment":{}}:n[t],a=t=>{e===`remove`?delete i[t]:i[t]={}},o=e=>{Jc(c,e).each(e=>{I(e,a)})};I(r,({preset:e,name:t})=>{e?o(t):a(t)}),n[t]=i})},j=e=>{let n=t[e];if(n)return n;let i=r.length;for(;i--;){let t=r[i];if(t.pattern.test(e))return t}},M=()=>{e.valid_elements?(ie(e.valid_elements),il(l,(e,t)=>{n[t]=e.children})):(il(l,(e,r)=>{t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children}),il(zc(`strong/b em/i`),e=>{let n=zc(e,`/`);t[n[1]].outputName=n[0]}),il(w,(n,r)=>{t[r]&&(e.padd_empty_block_inline_children&&(t[r].paddInEmptyBlock=!0),t[r].removeEmpty=!0)}),il(zc(`ol ul blockquote a table tbody`),e=>{t[e]&&(t[e].removeEmpty=!0)}),il(zc(`p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary`),e=>{t[e]&&(t[e].paddEmpty=!0)}),il(zc(`span`),e=>{t[e].removeEmptyAttrs=!0})),delete t.svg,A(e.custom_elements),oe(e.valid_children),E(e.extended_valid_elements),oe(`+ol[ul|ol],+ul[ul|ol]`),il({dd:`dl`,dt:`dl`,li:`ul ol`,td:`tr`,th:`tr`,tr:`tbody thead tfoot`,tbody:`table`,thead:`table`,tfoot:`table`,legend:`fieldset`,area:`map`,param:`video audio object`},(e,n)=>{t[n]&&(t[n].parentsRequired=zc(e))}),e.invalid_elements&&il(ol(e.invalid_elements),e=>{t[e]&&delete t[e]}),j(`span`)||E(`span[!data-mce-type|*]`)},se=O(u),N=O(d),ce=O(f),le=O(g),F=O(C),ue=O(ne),de=O(w),fe=O(Object.seal(h)),pe=O(m),me=O(b),he=O(S),ge=O(p),_e=O(re),L=O(T),ve=O(Object.seal(a)),ye=(e,t)=>{let r=n[e.toLowerCase()];return!!(r&&r[t.toLowerCase()])},be=(e,t)=>{let n=j(e);if(n)if(t){if(n.attributes[t])return!0;let e=n.attributePatterns;if(e){let n=e.length;for(;n--;)if(e[n].pattern.test(t))return!0}}else return!0;return!1},xe=e=>Ye(F(),e),Se=e=>!At(e,`#`)&&be(e)&&!xe(e),Ce=e=>Ye(L(),e)||Se(e),we=O(i),Te=O(o);return M(),{type:c,children:n,elements:t,getValidStyles:se,getValidClasses:ce,getBlockElements:F,getInvalidStyles:N,getVoidElements:fe,getTextBlockElements:ue,getTextInlineElements:de,getBoolAttrs:le,getElementRule:j,getSelfClosingElements:pe,getNonEmptyElements:me,getMoveCaretBeforeOnEnterElements:he,getWhitespaceElements:ge,getTransparentElements:_e,getSpecialElements:ve,getComponentUrls:Te,isValidChild:ye,isValid:be,isBlock:xe,isInline:Se,isWrapper:Ce,getCustomElements:we,addValidElements:E,setValidElements:ie,addCustomElements:A,addValidChildren:oe}},dl=e=>({value:fl(e)}),fl=e=>Ot(e,`#`).toUpperCase(),pl=e=>{let t=e.toString(16);return(t.length===1?`0`+t:t).toUpperCase()},ml=e=>dl(pl(e.red)+pl(e.green)+pl(e.blue)),hl=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,gl=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,_l=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),vl=(e,t,n,r)=>_l(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseFloat(r)),yl=e=>hl.test(e)?`rgb`:gl.test(e)?`rgba`:`other`,bl=e=>{let t=hl.exec(e);if(t!==null)return P.some(vl(t[1],t[2],t[3],`1`));let n=gl.exec(e);return n===null?P.none():P.some(vl(n[1],n[2],n[3],n[4]))},xl=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Sl=e=>bl(e).map(ml).map(e=>`#`+e.value).getOr(e),Cl=(e={},t)=>{let n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,a={},o,s;t&&(o=t.getValidStyles(),s=t.getInvalidStyles());let c=`\\" \\' \\; \\: ; : ﻿`.split(` `);for(let e=0;e<c.length;e++)a[c[e]]=`﻿`+e,a[`﻿`+e]=c[e];let l={parse:t=>{let o={},s=!1,c=e.url_converter,u=e.url_converter_scope||l,d=(e,t,n)=>{let r=o[e+`-top`+t];if(!r)return;let i=o[e+`-right`+t];if(!i)return;let a=o[e+`-bottom`+t];if(!a)return;let s=o[e+`-left`+t];if(!s)return;let c=[r,i,a,s],l=c.length-1;for(;l--&&c[l]===c[l+1];);l>-1&&n||(o[e+t]=l===-1?c[0]:c.join(` `),delete o[e+`-top`+t],delete o[e+`-right`+t],delete o[e+`-bottom`+t],delete o[e+`-left`+t])},f=e=>{let t=o[e];if(!t)return;let n=t.indexOf(`,`)>-1?[t]:t.split(` `),r=n.length;for(;r--;)if(n[r]!==n[0])return!1;return o[e]=n[0],!0},p=(e,t,n,r)=>{f(t)&&f(n)&&f(r)&&(o[e]=o[t]+` `+o[n]+` `+o[r],delete o[t],delete o[n],delete o[r])},m=e=>(s=!0,a[e]),h=(e,t)=>(s&&(e=e.replace(/\uFEFF[0-9]/g,e=>a[e])),t||(e=e.replace(/\\([\'\";:])/g,`$1`)),e),g=e=>String.fromCharCode(parseInt(e.slice(1),16)),_=e=>e.replace(/\\[0-9a-f]+/gi,g),v=(t,n,r,i,a,o)=>{if(a||=o,a)return a=h(a),`'`+a.replace(/\'/g,`\\'`)+`'`;if(n=h(n||r||i||``),!e.allow_script_urls){let t=n.replace(/[\s\r\n]+/g,``);if(/(java|vb)script:/i.test(t)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return``}return c&&(n=c.call(u,n,`style`)),`url('`+n.replace(/\'/g,`\\'`)+`')`};if(t){t=t.replace(/[\u0000-\u001F]/g,``),t=t.replace(/\\[\"\';:\uFEFF]/g,m).replace(/\"[^\"]+\"|\'[^\']+\'/g,e=>e.replace(/[;:]/g,m));let a;for(;a=r.exec(t);){r.lastIndex=a.index+a[0].length;let t=a[1].replace(i,``).toLowerCase(),c=a[2].replace(i,``);if(t&&c){if(t=_(t),c=_(c),t.indexOf(`﻿`)!==-1||t.indexOf(`"`)!==-1||!e.allow_script_urls&&(t===`behavior`||/expression\s*\(|\/\*|\*\//.test(c)))continue;t===`font-weight`&&c===`700`?c=`bold`:(t===`color`||t===`background-color`)&&(c=c.toLowerCase()),yl(c)===`rgb`&&bl(c).each(e=>{c=Sl(xl(e)).toLowerCase()}),c=c.replace(n,v),o[t]=s?h(c,!0):c}}d(`border`,``,!0),d(`border`,`-width`),d(`border`,`-color`),d(`border`,`-style`),d(`padding`,``),d(`margin`,``),p(`border`,`border-width`,`border-style`,`border-color`),o.border===`medium none`&&delete o.border,o[`border-image`]===`none`&&delete o[`border-image`]}return o},serialize:(e,t)=>{let n=``,r=(t,r)=>{let i=r[t];if(i)for(let t=0,r=i.length;t<r;t++){let r=i[t],a=e[r];a&&(n+=(n.length>0?` `:``)+r+`: `+a+`;`)}},i=(e,t)=>{if(!s||!t)return!0;let n=s[`*`];return n&&n[e]?!1:(n=s[t],!(n&&n[e]))};return t&&o?(r(`*`,o),r(t,o)):Be(e,(e,r)=>{e&&i(r,t)&&(n+=(n.length>0?` `:``)+r+`: `+e+`;`)}),n}};return l},wl={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Tl=e=>e instanceof Event||w(e.initEvent),El=e=>e.isDefaultPrevented===ce||e.isDefaultPrevented===N,Dl=e=>ne(e.preventDefault)||Tl(e),Ol=(e,t)=>{let n=t??{};for(let t in e)Ye(wl,t)||(n[t]=e[t]);return C(e.composedPath)&&(n.composedPath=()=>e.composedPath()),C(e.getModifierState)&&(n.getModifierState=t=>e.getModifierState(t)),C(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},kl=(e,t,n,r)=>{let i=Ol(t,r);return i.type=e,ne(i.target)&&(i.target=i.srcElement??n),Dl(t)&&(i.preventDefault=()=>{i.defaultPrevented=!0,i.isDefaultPrevented=ce,w(t.preventDefault)&&t.preventDefault()},i.stopPropagation=()=>{i.cancelBubble=!0,i.isPropagationStopped=ce,w(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=()=>{i.isImmediatePropagationStopped=ce,i.stopPropagation()},El(i)||(i.isDefaultPrevented=i.defaultPrevented===!0?ce:N,i.isPropagationStopped=i.cancelBubble===!0?ce:N,i.isImmediatePropagationStopped=N)),i},Al=/^(?:mouse|contextmenu)|click/,jl=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},Ml=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},Nl=e=>C(e)&&Al.test(e.type),Pl=(e,t)=>{let n=kl(e.type,e,document,t);if(Nl(e)&&te(e.pageX)&&!te(e.clientX)){let t=n.target.ownerDocument||document,r=t.documentElement,i=t.body,a=n;a.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),a.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)}return n},Fl=(e,t,n)=>{let r=e.document,i={type:`ready`};if(n.domLoaded){t(i);return}let a=()=>r.readyState===`complete`||r.readyState===`interactive`&&r.body,o=()=>{Ml(e,`DOMContentLoaded`,o),Ml(e,`load`,o),n.domLoaded||(n.domLoaded=!0,t(i)),e=null};a()?o():jl(e,`DOMContentLoaded`,o),n.domLoaded||jl(e,`load`,o)};class Il{static Event=new Il;domLoaded=!1;events={};expando;hasFocusIn;count=1;constructor(){this.expando=`mce-data-`+(+new Date).toString(32),this.hasFocusIn=`onfocusin`in document.documentElement,this.count=1}bind(e,t,n,r){let i=this,a,o=window,s=e=>{i.executeHandlers(Pl(e||o.event),c)};if(!e||q(e)||ss(e))return n;let c;e[i.expando]?c=e[i.expando]:(c=i.count++,e[i.expando]=c,i.events[c]={}),r||=e;let l=t.split(` `),u=l.length;for(;u--;){let t=l[u],d=s,f=!1,p=!1;if(t===`DOMContentLoaded`&&(t=`ready`),i.domLoaded&&t===`ready`&&e.readyState===`complete`){n.call(r,Pl({type:t}));continue}!i.hasFocusIn&&(t===`focusin`||t===`focusout`)&&(f=!0,p=t===`focusin`?`focus`:`blur`,d=e=>{let t=Pl(e||o.event);t.type=t.type===`focus`?`focusin`:`focusout`,i.executeHandlers(t,c)}),a=i.events[c][t],a?t===`ready`&&i.domLoaded?n(Pl({type:t})):a.push({func:n,scope:r}):(i.events[c][t]=a=[{func:n,scope:r}],a.fakeName=p,a.capture=f,a.nativeHandler=d,t===`ready`?Fl(e,d,i):jl(e,p||t,d,f))}return e=a=null,n}unbind(e,t,n){if(!e||q(e)||ss(e))return this;let r=e[this.expando];if(r){let i=this.events[r];if(t){let r=t.split(` `),a=r.length;for(;a--;){let t=r[a],o=i[t];if(o){if(n){let e=o.length;for(;e--;)if(o[e].func===n){let n=o.nativeHandler,r=o.fakeName,a=o.capture,s=o.slice(0,e).concat(o.slice(e+1));s.nativeHandler=n,s.fakeName=r,s.capture=a,i[t]=s}}(!n||o.length===0)&&(delete i[t],Ml(e,o.fakeName||t,o.nativeHandler,o.capture))}}}else Be(i,(t,n)=>{Ml(e,t.fakeName||n,t.nativeHandler,t.capture)}),i={};for(let e in i)if(Ye(i,e))return this;delete this.events[r];try{delete e[this.expando]}catch{e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||q(e)||ss(e))return this;let r=Pl({type:t,target:e},n);do{let t=e[this.expando];t&&this.executeHandlers(r,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return this}clean(e){if(!e||q(e)||ss(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);let t=e.getElementsByTagName(`*`),n=t.length;for(;n--;)e=t[n],e[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){let n=this.events[t],r=n&&n[e.type];if(r)for(let t=0,n=r.length;t<n;t++){let n=r[t];if(n&&n.func.call(n.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}let J=U.each,Ll=U.grep,Rl=`data-mce-style`,zl=U.makeMap(`fill-opacity font-weight line-height opacity orphans widows z-index zoom`,` `),Bl=(e,t,n)=>{ne(n)||n===``?Fi(e,t):Ai(e,t,n)},Vl=e=>e.replace(/[A-Z]/g,e=>`-`+e.toLowerCase()),Hl=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){let e=i.nodeType;t&&q(i)&&(e===r||!i.data.length)||(n++,r=e)}return n},Ul=(e,t)=>{let n=Mi(t,`style`);Bl(t,Rl,e.serialize(e.parse(n),Er(t)))},Wl=(e,t)=>re(e)?Ye(zl,t)?e+``:e+`px`:e,Gl=(e,t,n)=>{let r=Vl(t);ne(n)||n===``?sa(e,r):ta(e,r,Wl(n,r))},Kl=(e,t,n)=>{let r=t.keep_values,i={set:(e,r,i)=>{let a=W.fromDom(e);w(t.url_converter)&&C(r)&&(r=t.url_converter.call(t.url_converter_scope||n(),String(r),i,e)),Bl(a,`data-mce-`+i,r),Bl(a,i,r)},get:(e,t)=>{let n=W.fromDom(e);return Mi(n,`data-mce-`+t)||Mi(n,t)}},a={style:{set:(t,n)=>{let i=W.fromDom(t);r&&Bl(i,Rl,n),Fi(i,`style`),v(n)&&na(i,e.parse(n))},get:t=>{let n=W.fromDom(t),r=Mi(n,Rl)||Mi(n,`style`);return e.serialize(e.parse(r),Er(n))}}};return r&&(a.href=a.src=i),a},ql=(e,t={})=>{let n={},r=window,i={},a=0,o=mc.forElement(W.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy,crossOrigin:e=>{let n=t.crossOrigin;if(w(n))return n(e,`stylesheet`)}}),s=[],c=t.schema?t.schema:ul({}),l=Cl({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),u=t.ownEvents?new Il:Il.Event,d=c.getBlockElements(),f=e=>v(e)?Ye(d,e):qo(e)&&(Ye(d,e.nodeName)||ic(c,e)),p=t=>t&&e&&v(t)?e.getElementById(t):t,m=e=>{let t=p(e);return C(t)?W.fromDom(t):null},h=(e,t,n=``)=>{let r,i=m(e);if(C(i)&&jr(i)){let e=Je[t];r=e&&e.get?e.get(i.dom,t):Mi(i,t)}return C(r)?r:n},g=e=>{let t=p(e);return ne(t)?[]:t.attributes},_=(e,n,r)=>{P(e,e=>{if(qo(e)){let i=W.fromDom(e),a=r===``?null:r,o=Mi(i,n),s=Je[n];s&&s.set?s.set(i.dom,a,n):Bl(i,n,a),o!==a&&t.onSetAttrib&&t.onSetAttrib({attrElm:i.dom,attrName:n,attrValue:a})}})},y=(e,t)=>e.cloneNode(t),S=()=>t.root_element||e.body,ee=e=>{let t=Io(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},te=(t,n)=>dc(e.body,p(t),n),re=(e,n,r)=>{P(e,e=>{let i=W.fromDom(e);Gl(i,n,r),t.update_styles&&Ul(l,i)})},T=(e,n)=>{P(e,e=>{let r=W.fromDom(e);Be(n,(e,t)=>{Gl(r,t,e)}),t.update_styles&&Ul(l,r)})},ie=(e,t,n)=>{let r=p(e);if(!(ne(r)||!Jo(r)&&!Yo(r)))return n?ra(W.fromDom(r),Vl(t)):(t=t.replace(/-(\D)/g,(e,t)=>t.toUpperCase()),t===`float`&&(t=`cssFloat`),r.style?r.style[t]:void 0)},D=e=>{let t=p(e);if(!t)return{w:0,h:0};let n=ie(t,`width`),r=ie(t,`height`);return(!n||n.indexOf(`px`)===-1)&&(n=`0`),(!r||r.indexOf(`px`)===-1)&&(r=`0`),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(r,10)||t.offsetHeight||t.clientHeight}},k=e=>{let t=p(e),n=te(t),r=D(t);return{x:n.x,y:n.y,w:r.w,h:r.h}},ae=(e,t)=>e?me(x(e)?e:[e],e=>vr(W.fromDom(e),t)):!1,A=(e,t,n,r)=>{let i=[],a=p(e);r=r===void 0;let o=n||(S().nodeName===`BODY`?null:S().parentNode);if(v(t))if(t===`*`)t=qo;else{let e=t;t=t=>ae(t,e)}for(;a&&!(a===o||ne(a.nodeType)||cs(a)||ls(a));){if(!t||t(a))if(r)i.push(a);else return[a];a=a.parentNode}return r?i:null},oe=(e,t,n)=>{let r=A(e,t,n,!1);return r&&r.length>0?r[0]:null},j=(e,t,n)=>{let r=t;if(e){v(t)&&(r=e=>ae(e,t));for(let t=e[n];t;t=t[n])if(w(r)&&r(t))return t}return null},M=(e,t)=>j(e,t,`nextSibling`),se=(e,t)=>j(e,t,`previousSibling`),N=e=>w(e.querySelectorAll),ce=(n,r)=>{let i=p(r)??t.root_element??e;return N(i)?Fe(i.querySelectorAll(n)):[]},P=function(e,t,n){let r=n??this;if(x(e)){let n=[];return J(e,(e,i)=>{let a=p(e);a&&n.push(t.call(r,a,i))}),n}else{let n=p(e);return n?t.call(r,n):!1}},le=(e,t)=>{P(e,e=>{Be(t,(t,n)=>{_(e,n,t)})})},F=(e,t)=>{P(e,e=>{Yi(W.fromDom(e),t)})},ue=(t,n,r,i,a)=>P(t,t=>{let o=v(n)?e.createElement(n):n;return C(r)&&le(o,r),i&&(!v(i)&&i.nodeType?o.appendChild(i):v(i)&&F(o,i)),a?o:t.appendChild(o)}),de=(t,n,r)=>ue(e.createElement(t),t,n,r,!0),fe=Rc.decode,pe=Rc.encodeAllRaw,he=(e,t,n=``)=>{let r=`<`+e;for(let e in t)Xe(t,e)&&(r+=` `+e+`="`+pe(t[e])+`"`);return Lt(n)&&Ye(c.getVoidElements(),e)?r+` />`:r+`>`+n+`</`+e+`>`},ge=t=>{let n=e.createElement(`div`),r=e.createDocumentFragment();r.appendChild(n),t&&(n.innerHTML=t);let i;for(;i=n.firstChild;)r.appendChild(i);return r.removeChild(n),r},_e=(e,t)=>P(e,e=>{let n=W.fromDom(e);return t&&I(Jr(n),e=>{Mr(e)&&e.dom.length===0?zi(e):xi(n,e)}),zi(n),n.dom}),L=e=>P(e,e=>{let t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))}),ve=e=>l.parse(e),ye=(e,t)=>l.serialize(e,t),be=t=>{if(qe!==ql.DOM&&e===document){if(n[t])return;n[t]=!0}let r=e.getElementById(`mceDefaultStyles`);if(!r){r=e.createElement(`style`),r.id=`mceDefaultStyles`,r.type=`text/css`;let t=e.head;t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(e.createTextNode(t))},xe=e=>{e||=``,I(e.split(`,`),e=>{i[e]=!0,o.load(e).catch(E)})},Se=(e,t,n)=>{P(e,e=>{if(qo(e)){let r=W.fromDom(e);I(t.split(` `),e=>{C(n)?(n?Ha:Wa)(r,e):Ga(r,e)})}})},Ce=(e,t)=>{Se(e,t,!0)},we=(e,t)=>{Se(e,t,!1)},Te=(e,t)=>{let n=m(e),r=t.split(` `);return C(n)&&De(r,e=>Ka(n,e))},Ee=e=>{P(e,e=>sa(W.fromDom(e),`display`))},Oe=e=>{P(e,e=>ta(W.fromDom(e),`display`,`none`))},ke=e=>{let t=m(e);return C(t)&&mt(aa(t,`display`),`none`)},Ae=e=>(e||`mce_`)+ a++,je=e=>{let t=m(e);return C(t)?qo(t.dom)?t.dom.outerHTML:Xi(t):``},Me=(e,t)=>{P(e,e=>{qo(e)&&(e.outerHTML=t)})},Ne=(e,t)=>{let n=p(t);return P(e,e=>{let t=n?.parentNode,r=n?.nextSibling;return t&&(r?t.insertBefore(e,r):t.appendChild(e)),e})},Pe=(e,t,n)=>P(t,r=>{let i=x(t)?e.cloneNode(!0):e;return n&&J(Ll(r.childNodes),e=>{i.appendChild(e)}),r.parentNode?.replaceChild(i,r),r}),Ie=(e,t)=>{if(e.nodeName!==t.toUpperCase()){let n=de(t);return J(g(e),t=>{_(n,t.nodeName,h(e,t.nodeName))}),Pe(n,e,!0),n}else return e},Le=(e,t)=>{let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},Re=(e,t,n)=>{if(b(t)){let r=e=>!!t[e.nodeName.toLowerCase()];return Ps(c,e,{...n,isContent:r})}else return Ps(c,e,n)},ze=()=>e.createRange(),Ve=(e,t,n)=>{let r=ze(),i,a;if(e&&t&&e.parentNode&&t.parentNode){let o=e.parentNode;return r.setStart(o,Hl(e)),r.setEnd(t.parentNode,Hl(t)),i=r.extractContents(),r=ze(),r.setStart(t.parentNode,Hl(t)+1),r.setEnd(o,Hl(e)+1),a=r.extractContents(),o.insertBefore(Sc(qe,i,c),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(Sc(qe,a,c),e),_e(e),n||t}else return},He=(n,i,a,o)=>{if(x(n)){let e=n.length,t=[];for(;e--;)t[e]=He(n[e],i,a,o);return t}else return t.collect&&(n===e||n===r)&&s.push([n,i,a,o]),u.bind(n,i,a,o||qe)},Ue=(t,n,i)=>{if(x(t)){let e=t.length,r=[];for(;e--;)r[e]=Ue(t[e],n,i);return r}else{if(s.length>0&&(t===e||t===r)){let e=s.length;for(;e--;){let[r,a,o]=s[e];t===r&&(!n||n===a)&&(!i||i===o)&&u.unbind(r,a,o)}}return u.unbind(t,n,i)}},We=(e,t,n)=>u.dispatch(e,t,n),Ge=(e,t,n)=>u.dispatch(e,t,n),Ke=e=>{if(e&&Jo(e)){let t=e.getAttribute(`data-mce-contenteditable`);return t&&t!==`inherit`?t:e.contentEditable===`inherit`?null:e.contentEditable}else return null},qe={doc:e,settings:t,win:r,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:o,boundEvents:s,styles:l,schema:c,events:u,isBlock:f,root:null,clone:y,getRoot:S,getViewPort:ee,getRect:k,getSize:D,getParent:oe,getParents:A,get:p,getNext:M,getPrev:se,select:ce,is:ae,add:ue,create:de,createHTML:he,createFragment:ge,remove:_e,setStyle:re,getStyle:ie,setStyles:T,removeAllAttribs:L,setAttrib:_,setAttribs:le,getAttrib:h,getPos:te,parseStyle:ve,serializeStyle:ye,addStyle:be,loadCSS:xe,addClass:Ce,removeClass:we,hasClass:Te,toggleClass:Se,show:Ee,hide:Oe,isHidden:ke,uniqueId:Ae,setHTML:F,getOuterHTML:je,setOuterHTML:Me,decode:fe,encode:pe,insertAfter:Ne,replace:Pe,rename:Ie,findCommonAncestor:Le,run:P,getAttribs:g,isEmpty:Re,createRng:ze,nodeIndex:Hl,split:Ve,bind:He,unbind:Ue,fire:Ge,dispatch:We,getContentEditable:Ke,getContentEditableParent:e=>{let t=S(),n=null;for(let r=e;r&&r!==t&&(n=Ke(r),n===null);r=r.parentNode);return n},isEditable:e=>{if(C(e)){let t=qo(e)?e:e.parentElement;return C(t)&&Jo(t)&&Ya(W.fromDom(t))}else return!1},destroy:()=>{if(s.length>0){let e=s.length;for(;e--;){let[t,n,r]=s[e];u.unbind(t,n,r)}}Be(i,(e,t)=>{o.unload(t),delete i[t]})},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>`startContainer: `+e.startContainer.nodeName+`, startOffset: `+e.startOffset+`, endContainer: `+e.endContainer.nodeName+`, endOffset: `+e.endOffset},Je=Kl(l,t,O(qe));return qe};ql.DOM=ql(document),ql.nodeIndex=Hl;let Jl=ql.DOM;class Yl{static ScriptLoader=new Yl;settings;states={};queue=[];scriptLoadedCallbacks={};queueLoadedCallbacks=[];loading=!1;constructor(e={}){this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}_setCrossOrigin(e){this.settings.crossOrigin=e}loadScript(e){return new Promise((t,n)=>{let r=Jl,i=document,a,o=()=>{r.remove(l),a&&(a.onerror=a.onload=a=null)},s=()=>{o(),t()},c=()=>{o(),n(`Failed to load script: `+e)},l=r.uniqueId();a=i.createElement(`script`),a.id=l,a.type=`text/javascript`,a.src=U._addCacheSuffix(e),this.settings.referrerPolicy&&r.setAttrib(a,`referrerpolicy`,this.settings.referrerPolicy);let u=this.settings.crossOrigin;if(w(u)){let t=u(e);t!==void 0&&r.setAttrib(a,`crossorigin`,t)}a.onload=s,a.onerror=c,(i.head||i.body).appendChild(a)})}isDone(e){return this.states[e]===2}markDone(e){this.states[e]=2}add(e){let t=this;return t.queue.push(e),t.states[e]===void 0&&(t.states[e]=0),new Promise((n,r)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:r})})}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){let e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){let t=this,n=(e,n)=>{R(t.scriptLoadedCallbacks,n).each(t=>{I(t,t=>t[e](n))}),delete t.scriptLoadedCallbacks[n]},r=e=>{let t=L(e,e=>e.status===`rejected`);return t.length>0?Promise.reject(Ee(t,({reason:e})=>x(e)?e:[e])):Promise.resolve()},i=e=>Promise.allSettled(he(e,e=>t.states[e]===2?(n(`resolve`,e),Promise.resolve()):t.states[e]===3?(n(`reject`,e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then(()=>{t.states[e]=2,n(`resolve`,e);let a=t.queue;return a.length>0?(t.queue=[],i(a).then(r)):Promise.resolve()},()=>(t.states[e]=3,n(`reject`,e),Promise.reject(e)))))),a=e=>(t.loading=!0,i(e).then(e=>{t.loading=!1;let n=t.queueLoadedCallbacks.shift();return P.from(n).each(se),r(e)})),o=Gt(e);return t.loading?new Promise((e,n)=>{t.queueLoadedCallbacks.push(()=>{a(o).then(e,n)})}):a(o)}getScriptAttributes(e){let t={};this.settings.referrerPolicy&&(t.referrerpolicy=this.settings.referrerPolicy);let n=this.settings.crossOrigin;if(w(n)){let r=n(e);v(r)&&(t.crossorigin=r)}return t}}let Xl=(e,t)=>{let n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},Zl=e=>y(e)&&Ye(e,`raw`),Y=e=>x(e)&&e.length>1,Ql={},$l=B(`en`),eu=()=>R(Ql,$l.get()),tu={getData:()=>Ve(Ql,e=>({...e})),setCode:e=>{e&&$l.set(e)},getCode:()=>$l.get(),add:(e,t)=>{let n=Ql[e];n||(Ql[e]=n={});let r=he(Re(t),e=>e.toLowerCase());Be(t,(e,i)=>{let a=i.toLowerCase();a!==i&&Xl(r,a)?(Ye(t,a)||(n[a]=e),n[i]=e):n[a]=e})},translate:e=>{let t=eu().getOr({}),n=e=>w(e)?Object.prototype.toString.call(e):r(e)?``:``+e,r=e=>e===``||e==null,i=e=>{let r=n(e);return Ye(t,r)?n(t[r]):R(t,r.toLowerCase()).map(n).getOr(r)},a=e=>e.replace(/{context:\w+}$/,``),o=e=>e.replaceAll(`...`,`…`);if(r(e))return``;if(Zl(e))return o(n(e.raw));if(Y(e)){let t=e.slice(1);return o(a(i(e[0]).replace(/\{([0-9]+)\}/g,(e,r)=>Ye(t,r)?n(t[r]):e)))}return o(a(i(e)))},isRtl:()=>eu().bind(e=>R(e,`_dir`)).exists(e=>e===`rtl`),hasCode:e=>Ye(Ql,e)},nu=()=>{let e=[],t={},n={},r=[],i=(e,t)=>{I(L(r,n=>n.name===e&&n.state===t),e=>e.resolve())},a=e=>Ye(t,e),o=e=>Ye(n,e),s=e=>{if(n[e])return n[e].instance},c=(e,n)=>{let r=tu.getCode(),i=`,`+(n||``)+`,`;!r||n&&i.indexOf(`,`+r+`,`)===-1||Yl.ScriptLoader.add(t[e]+`/langs/`+r+`.js`)},l=(e,t)=>{nu.languageLoad!==!1&&(a(e)?c(e,t):m(e,`loaded`).then(()=>c(e,t)))},u=(t,r)=>(e.push(r),n[t]={instance:r},i(t,`added`),r),d=e=>{delete t[e],delete n[e]},f=(e,t)=>v(t)?v(e)?{prefix:``,resource:t,suffix:``}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,p=(e,r)=>{if(t[e])return Promise.resolve();let a=v(r)?r:r.prefix+r.resource+r.suffix;a.indexOf(`/`)!==0&&a.indexOf(`://`)===-1&&(a=nu.baseURL+`/`+a),t[e]=a.substring(0,a.lastIndexOf(`/`));let o=()=>(i(e,`loaded`),Promise.resolve());return n[e]?o():Yl.ScriptLoader.add(a).then(o)},m=(e,t=`added`)=>t===`added`&&o(e)||t===`loaded`&&a(e)?Promise.resolve():new Promise(n=>{r.push({name:e,state:t,resolve:n})});return{items:e,urls:t,lookup:n,get:s,requireLangPack:l,add:u,remove:d,createUrl:f,load:p,waitFor:m}};nu.languageLoad=!0,nu.baseURL=``,nu.PluginManager=nu(),nu.ThemeManager=nu(),nu.ModelManager=nu();let ru=O(`mce-annotation`),iu=O(`data-mce-annotation`),au=O(`data-mce-annotation-uid`),ou=O(`data-mce-annotation-active`),su=O(`data-mce-annotation-classes`),cu=O(`data-mce-annotation-attrs`),lu=e=>t=>Sr(t,e),uu=(e,t)=>{let n=e.selection.getRng(),r=W.fromDom(n.startContainer),i=W.fromDom(e.getBody()),a=t.fold(()=>`.`+ru(),e=>`[${iu()}="${e}"]`);return Ia(Yr(r,n.startOffset).getOr(r),a,lu(i)).bind(t=>Ni(t,`${au()}`).bind(n=>Ni(t,`${iu()}`).map(t=>({uid:n,name:t,elements:pu(e,n)}))))},du=e=>jr(e)&&Ka(e,ru()),fu=(e,t)=>Pi(e,`data-mce-bogus`)||so(e,`[data-mce-bogus="all"]`,lu(t)),pu=(e,t)=>{let n=W.fromDom(e.getBody());return L(no(n,`[${au()}="${t}"]`),e=>!fu(e,n))},mu=(e,t)=>{let n=W.fromDom(e.getBody()),r=no(n,`[${iu()}="${t}"]`),i={};return I(r,e=>{if(!fu(e,n)){let t=Mi(e,au());i[t]=R(i,t).getOr([]).concat([e])}}),i},hu=(e,t)=>{let n=B({}),r=()=>({listeners:[],previous:Tt()}),i=(e,t)=>{a(e,e=>(t(e),e))},a=(e,t)=>{let i=n.get();i[e]=t(R(i,e).getOrThunk(r)),n.set(i)},o=(e,t,n)=>{i(e,r=>{I(r.listeners,r=>r(!0,e,{uid:t,nodes:he(n,e=>e.dom)}))})},s=e=>{i(e,t=>{I(t.listeners,t=>t(!1,e))})},c=(t,n)=>{I(pu(e,t),e=>{n?Ai(e,ou(),`true`):Fi(e,ou())})},l=Vt(()=>{I(je(t.getNames()),t=>{a(t,n=>{let r=n.previous.get();return uu(e,P.some(t)).fold(()=>{r.each(e=>{s(t),n.previous.clear(),c(e,!1)})},({uid:e,name:t,elements:i})=>{mt(r,e)||(r.each(e=>c(e,!1)),o(t,e,i),n.previous.set(e),c(e,!0))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on(`remove`,()=>{l.cancel()}),e.on(`NodeChange`,()=>{l.throttle()}),{addListener:(e,t)=>{a(e,e=>({previous:e.previous,listeners:e.listeners.concat([t])}))}}},gu=(e,t)=>{let n=iu(),r=e=>P.from(e.attr(n)).bind(t.lookup),i=e=>{e.attr(au(),null),e.attr(iu(),null),e.attr(ou(),null);let t=P.from(e.attr(cu())).map(e=>e.split(`,`)).getOr([]),n=P.from(e.attr(su())).map(e=>e.split(`,`)).getOr([]);I(t,t=>e.attr(t,null));let r=ke(e.attr(`class`)?.split(` `)??[],[ru()].concat(n));e.attr(`class`,r.length>0?r.join(` `):null),e.attr(su(),null),e.attr(cu(),null)};e.serializer.addTempAttr(ou()),e.serializer.addAttributeFilter(n,e=>{for(let t of e)r(t).each(e=>{e.persistent===!1&&(t.name===`span`?t.unwrap():i(t))})})},_u=()=>{let e={};return{register:(t,n)=>{e[t]={name:t,settings:n}},lookup:t=>R(e,t).map(e=>e.settings),getNames:()=>Re(e)}},vu=(e,t,n=N)=>{let r=new Lo(e,t),i=e=>{let t;do t=r[e]();while(t&&!q(t)&&!n(t));return P.from(t).filter(q)};return{current:()=>P.from(r.current()).filter(q),next:()=>i(`next`),prev:()=>i(`prev`),prev2:()=>i(`prev2`)}},yu=(e,t)=>{let n=t||(t=>e.isBlock(t)||us(t)||ms(t)),r=(e,t,n,i)=>{if(q(e)){let n=i(e,t,e.data);if(n!==-1)return P.some({container:e,offset:n})}return n().bind(e=>r(e.container,e.offset,n,i))};return{backwards:(t,i,a,o)=>{let s=vu(t,o??e.getRoot(),n);return r(t,i,()=>s.prev().map(e=>({container:e,offset:e.length})),a).getOrNull()},forwards:(t,i,a,o)=>{let s=vu(t,o??e.getRoot(),n);return r(t,i,()=>s.next().map(e=>({container:e,offset:0})),a).getOrNull()}}},bu=[`td`,`th`],xu=[`thead`,`tbody`,`tfoot`],Su=[`h1`,`h2`,`h3`,`h4`,`h5`,`h6`,`p`,`div`,`address`,`pre`,`form`,`blockquote`,`center`,`dir`,`fieldset`,`header`,`footer`,`article`,`section`,`hgroup`,`aside`,`nav`,`figure`],Cu=[`li`,`dd`,`dt`],wu=[`ul`,`ol`,`dl`],Tu=[`pre`,`script`,`textarea`,`style`],Eu=e=>{let t;return n=>(t||=Ae(e,ce),Ye(t,Er(n)))},Du=e=>Er(e)===`table`,Ou=e=>jr(e)&&Er(e)===`br`,ku=Eu(Su),Au=Eu(wu),ju=Eu(Cu),Mu=Eu(xu),Nu=Eu(bu),Pu=Eu(Tu),Fu=e=>{let t=[],n=e.dom;for(;n;)t.push(W.fromDom(n)),n=n.lastChild;return t},Iu=e=>{let t=no(e,`br`),n=L(Fu(e).slice(-1),Ou);t.length===n.length&&I(n,zi)},Lu=()=>{let e=W.fromTag(`br`);return Ai(e,`data-mce-bogus`,`1`),e},Ru=e=>{Ri(e),wi(e,Lu())},zu=(e,t)=>{Zr(e).each(n=>{Wr(n).each(r=>{t.isBlock(Er(e))&&Ou(n)&&t.isBlock(Er(r))&&zi(n)})})},Bu=Ut,Vu=Wt,Hu=e=>e.insertContent(`﻿`,{preserve_zwsp:!0}),Uu=qo,Wu=q,Gu=e=>(Wu(e)&&(e=e.parentNode),Uu(e)&&e.hasAttribute(`data-mce-caret`)),Ku=e=>Wu(e)&&Bu(e.data),qu=e=>Gu(e)||Ku(e),Ju=e=>e.firstChild!==e.lastChild||!us(e.firstChild),Yu=(e,t)=>{let n=(e.ownerDocument??document).createTextNode(`﻿`),r=e.parentNode;if(t){let t=e.previousSibling;if(Wu(t)){if(qu(t))return t;if(ed(t))return t.splitText(t.data.length-1)}r?.insertBefore(n,e)}else{let t=e.nextSibling;if(Wu(t)){if(qu(t))return t;if($u(t))return t.splitText(1),t}e.nextSibling?r?.insertBefore(n,e.nextSibling):r?.appendChild(n)}return n},Xu=e=>{let t=e.container();return q(t)?t.data.charAt(e.offset())===`﻿`||e.isAtStart()&&Ku(t.previousSibling):!1},Zu=e=>{let t=e.container();return q(t)?t.data.charAt(e.offset()-1)===`﻿`||e.isAtEnd()&&Ku(t.nextSibling):!1},Qu=(e,t,n)=>{let r=(t.ownerDocument??document).createElement(e);r.setAttribute(`data-mce-caret`,n?`before`:`after`),r.setAttribute(`data-mce-bogus`,`all`),r.appendChild(Lu().dom);let i=t.parentNode;return n?i?.insertBefore(r,t):t.nextSibling?i?.insertBefore(r,t.nextSibling):i?.appendChild(r),r},$u=e=>Wu(e)&&e.data[0]===`﻿`,ed=e=>Wu(e)&&e.data[e.data.length-1]===`﻿`,td=e=>{let t=e.getElementsByTagName(`br`),n=t[t.length-1];es(n)&&n.parentNode?.removeChild(n)},nd=e=>e&&e.hasAttribute(`data-mce-caret`)?(td(e),e.removeAttribute(`data-mce-caret`),e.removeAttribute(`data-mce-bogus`),e.removeAttribute(`style`),e.removeAttribute(`data-mce-style`),e.removeAttribute(`_moz_abspos`),e):null,rd=e=>Gu(e.startContainer),id=Math.round,ad=e=>e?{left:id(e.left),top:id(e.top),bottom:id(e.bottom),right:id(e.right),width:id(e.width),height:id(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},od=(e,t)=>(e=ad(e),t||(e.left+=e.width),e.right=e.left,e.width=0,e),sd=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,cd=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,ld=(e,t)=>{let n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:cd(t.top-e.bottom,e,t)},ud=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:cd(t.bottom-e.top,e,t),dd=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,fd=e=>be(e,(e,t)=>e.fold(()=>P.some(t),e=>{let n=Math.min(t.left,e.left),r=Math.min(t.top,e.top),i=Math.max(t.right,e.right),a=Math.max(t.bottom,e.bottom);return P.some({top:r,right:i,bottom:a,left:n,width:i-n,height:a-r})}),P.none()),pd=(e,t,n)=>{let r=Math.max(Math.min(t,e.left+e.width),e.left),i=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-i)*(n-i))},md=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),hd=e=>{let t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},gd=(e,t)=>{if(qo(e)&&e.hasChildNodes()){let n=e.childNodes;return n[it(t,0,n.length-1)]}else return e},_d=(e,t)=>{if(!(t<0&&qo(e)&&e.hasChildNodes()))return gd(e,t)},vd=RegExp(`[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]`),yd=e=>v(e)&&e.charCodeAt(0)>=768&&vd.test(e),bd=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},xd=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},Sd=ps,Cd=ms,wd=us,Td=q,Ed=Zo([`script`,`style`,`textarea`]),Dd=Zo([`img`,`input`,`textarea`,`hr`,`iframe`,`video`,`audio`,`object`,`embed`]),Od=Zo([`table`]),kd=qu,Ad=e=>kd(e)?!1:Td(e)?!Ed(e.parentNode):Dd(e)||wd(e)||Od(e)||Md(e),jd=e=>qo(e)&&e.getAttribute(`unselectable`)===`true`,Md=e=>!jd(e)&&Cd(e),Nd=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Md(n))return!1;if(Sd(n))return!0}return!0},Pd=e=>Md(e)?!be(Fe(e.getElementsByTagName(`*`)),(e,t)=>e||Sd(t),!1):!1,Fd=e=>Dd(e)||Pd(e),Id=(e,t)=>Ad(e)&&Nd(e,t),Ld=qo,Rd=Ad,zd=Qo(`display`,`block table`),Bd=xd(Ld,Rd,oe(Qo(`float`,`left right`))),Vd=oe(Qo(`white-space`,`pre pre-line pre-wrap`)),Hd=q,Ud=us,Wd=ql.nodeIndex,Gd=_d,Kd=e=>e?e.createRange():ql.DOM.createRng(),qd=e=>v(e)&&/[\r\n\t ]/.test(e),Jd=e=>!!e.setStart&&!!e.setEnd,Yd=e=>{let t=e.startContainer,n=e.startOffset;if(qd(e.toString())&&Vd(t.parentNode)&&q(t)){let e=t.data;if(qd(e[n-1])||qd(e[n+1]))return!0}return!1},Xd=e=>{let t=e.ownerDocument,n=Kd(t),r=t.createTextNode(`\xA0`),i=e.parentNode;i.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);let a=ad(n.getBoundingClientRect());return i.removeChild(r),a},Zd=e=>{let t=e.startContainer,n=e.endContainer,r=e.startOffset,i=e.endOffset;if(t===n&&q(n)&&r===0&&i===1){let t=e.cloneRange();return t.setEndAfter(n),$d(t)}else return null},Qd=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,$d=e=>{let t,n=e.getClientRects();return t=n.length>0?ad(n[0]):ad(e.getBoundingClientRect()),!Jd(e)&&Ud(e)&&Qd(t)?Xd(e):Qd(t)&&Jd(e)?Zd(e)??t:t},ef=(e,t)=>{let n=od(e,t);return n.width=1,n.right=n.left+1,n},tf=e=>{let t=[],n=e=>{e.height!==0&&(t.length>0&&sd(e,t[t.length-1])||t.push(e))},r=(e,t)=>{let r=Kd(e.ownerDocument);if(t<e.data.length){if(yd(e.data[t]))return;if(yd(e.data[t-1])&&(r.setStart(e,t),r.setEnd(e,t+1),!Yd(r))){n(ef($d(r),!1));return}}t>0&&(r.setStart(e,t-1),r.setEnd(e,t),Yd(r)||n(ef($d(r),!1))),t<e.data.length&&(r.setStart(e,t),r.setEnd(e,t+1),Yd(r)||n(ef($d(r),!0)))},i=e.container(),a=e.offset();if(Hd(i))return r(i,a),t;if(Ld(i))if(e.isAtEnd()){let e=Gd(i,a);Hd(e)&&r(e,e.data.length),Bd(e)&&!Ud(e)&&n(ef($d(e),!1))}else{let o=Gd(i,a);if(Hd(o)&&r(o,0),Bd(o)&&e.isAtEnd())return n(ef($d(o),!1)),t;let s=Gd(e.container(),e.offset()-1);Bd(s)&&!Ud(s)&&(zd(s)||zd(o)||!Bd(o))&&n(ef($d(s),!1)),Bd(o)&&n(ef($d(o),!0))}return t},X=(e,t,n)=>{let r=()=>(Hd(e),t===0),i=()=>Hd(e)?t>=e.data.length:t>=e.childNodes.length,a=()=>{let n=Kd(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},o=()=>(n||=tf(X(e,t)),n);return{container:O(e),offset:O(t),toRange:a,getClientRects:o,isVisible:()=>o().length>0,isAtStart:r,isAtEnd:i,isEqual:n=>n&&e===n.container()&&t===n.offset(),getNode:n=>Gd(e,n?t-1:t)}};X.fromRangeStart=e=>X(e.startContainer,e.startOffset),X.fromRangeEnd=e=>X(e.endContainer,e.endOffset),X.after=e=>X(e.parentNode,Wd(e)+1),X.before=e=>X(e.parentNode,Wd(e)),X.isAbove=(e,t)=>_t(Ne(t.getClientRects()),Pe(e.getClientRects()),ld).getOr(!1),X.isBelow=(e,t)=>_t(Pe(t.getClientRects()),Ne(e.getClientRects()),ud).getOr(!1),X.isAtStart=e=>e?e.isAtStart():!1,X.isAtEnd=e=>e?e.isAtEnd():!1,X.isTextPosition=e=>e?q(e.container()):!1,X.isElementPosition=e=>!X.isTextPosition(e);let nf=(e,t)=>{q(t)&&t.data.length===0&&e.remove(t)},rf=(e,t,n)=>{t.insertNode(n),nf(e,n.previousSibling),nf(e,n.nextSibling)},af=(e,t,n)=>{let r=P.from(n.firstChild),i=P.from(n.lastChild);t.insertNode(n),r.each(t=>nf(e,t.previousSibling)),i.each(t=>nf(e,t.nextSibling))},of=(e,t,n)=>{ls(n)?af(e,t,n):rf(e,t,n)},sf=q,cf=es,lf=ql.nodeIndex,uf=e=>{let t=e.parentNode;return cf(t)?uf(t):t},df=e=>e?$t(e.childNodes,(e,t)=>(cf(t)&&t.nodeName!==`BR`?e=e.concat(df(t)):e.push(t),e),[]):[],ff=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&sf(n);)t+=n.data.length;return t},pf=e=>t=>e===t,mf=e=>{let t,n;t=df(uf(e)),n=en(t,pf(e),e),t=t.slice(0,n+1);let r=$t(t,(e,n,r)=>(sf(n)&&sf(t[r-1])&&e++,e),0);return t=Zt(t,Zo([e.nodeName])),n=en(t,pf(e),e),n-r},hf=e=>(sf(e)?`text()`:e.nodeName.toLowerCase())+`[`+mf(e)+`]`,gf=(e,t,n)=>{let r=[];for(let i=t.parentNode;i&&i!==e&&!(n&&n(i));i=i.parentNode)r.push(i);return r},_f=(e,t)=>{let n=[],r=t.container(),i=t.offset(),a;if(sf(r))a=ff(r,i);else{let e=r.childNodes;i>=e.length?(a=`after`,i=e.length-1):a=`before`,r=e[i]}n.push(hf(r));let o=gf(e,r);return o=Zt(o,oe(es)),n=n.concat(Xt(o,e=>hf(e))),n.reverse().join(`/`)+`,`+a},vf=(e,t,n)=>{let r=df(e);return r=Zt(r,(e,t)=>!sf(e)||!sf(r[t-1])),r=Zt(r,Zo([t])),r[n]},yf=(e,t)=>{let n=e,r=0;for(;sf(n);){let i=n.data.length;if(t>=r&&t<=r+i){e=n,t-=r;break}if(!sf(n.nextSibling)){e=n,t=i;break}r+=i,n=n.nextSibling}return sf(e)&&t>e.data.length&&(t=e.data.length),X(e,t)},bf=(e,t)=>{if(!t)return null;let n=t.split(`,`),r=n[0].split(`/`),i=n.length>1?n[1]:`before`,a=$t(r,(e,t)=>{let n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?(n[1]===`text()`&&(n[1]=`#text`),vf(e,n[1],parseInt(n[2],10))):null},e);if(!a)return null;if(!sf(a)&&a.parentNode){let e;return e=i===`after`?lf(a)+1:lf(a),X(a.parentNode,e)}return yf(a,parseInt(i,10))},xf=ms,Sf=(e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let n=t.previousSibling;n&&q(n);n=n.previousSibling)r+=e(n.data).length;return r},Cf=(e,t,n,r,i)=>{let a=i?r.startContainer:r.endContainer,o=i?r.startOffset:r.endOffset,s=[],c=e.getRoot();if(q(a))s.push(n?Sf(t,a,o):o);else{let t=0,r=a.childNodes;o>=r.length&&r.length&&(t=1,o=Math.max(0,r.length-1)),s.push(e.nodeIndex(r[o],n)+t)}for(let t=a;t&&t!==c;t=t.parentNode)s.push(e.nodeIndex(t,n));return s},wf=(e,t,n,r)=>{let i=t.dom,a=Cf(i,e,n,r,!0),o=t.isForward(),s=rd(r)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:a,forward:o,...s}:{start:a,end:Cf(i,e,n,r,!1),forward:o,...s}},Tf=(e,t,n)=>{let r=0;return U.each(e.select(t),e=>{if(e.getAttribute(`data-mce-bogus`)!==`all`){if(e===n)return!1;r++}}),r},Ef=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(qo(n)&&n.nodeName===`TR`){let i=n.childNodes;n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},Df=e=>(Ef(e,!0),Ef(e,!1),e),Of=(e,t)=>{if(qo(e)&&(e=gd(e,t),xf(e)))return e;if(qu(e)){q(e)&&Gu(e)&&(e=e.parentNode);let t=e.previousSibling;if(xf(t)||(t=e.nextSibling,xf(t)))return t}},kf=e=>Of(e.startContainer,e.startOffset)||Of(e.endContainer,e.endOffset),Af=(e,t,n)=>{let r=n.getNode(),i=n.getRng();if(r.nodeName===`IMG`||xf(r)){let e=r.nodeName;return{name:e,index:Tf(n.dom,e,r)}}let a=kf(i);if(a){let e=a.tagName;return{name:e,index:Tf(n.dom,e,a)}}return wf(e,n,t,i)},jf=e=>{let t=e.getRng();return{start:_f(e.dom.getRoot(),X.fromRangeStart(t)),end:_f(e.dom.getRoot(),X.fromRangeEnd(t)),forward:e.isForward()}},Mf=e=>({rng:e.getRng(),forward:e.isForward()}),Nf=(e,t,n)=>{let r={"data-mce-type":`bookmark`,id:t,style:`overflow:hidden;line-height:0px`};return n?e.create(`span`,r,`&#xFEFF;`):e.create(`span`,r)},Pf=(e,t)=>{let n=e.dom,r=e.getRng(),i=n.uniqueId(),a=e.isCollapsed(),o=e.getNode(),s=o.nodeName,c=e.isForward();if(s===`IMG`)return{name:s,index:Tf(n,s,o)};let l=Df(r.cloneRange());a||(l.collapse(!1),of(n,l,Nf(n,i+`_end`,t))),r=Df(r),r.collapse(!0);let u=Nf(n,i+`_start`,t);return of(n,r,u),e.moveToBookmark({id:i,keep:!0,forward:c}),{id:i,forward:c}},Ff=(e,t,n=!1)=>t===2?Af(Vu,n,e):t===3?jf(e):t?Mf(e):Pf(e,!1),If=A(Af,k,!0),Lf=e=>e===1,Rf=e=>e===-1,zf=e=>e.type===`inline-command`||e.type===`inline-format`,Bf=e=>e.type===`block-command`||e.type===`block-format`,Vf=(e,t)=>(e.type===`block-command`||e.type===`block-format`)&&e.trigger===t,Hf=e=>{let t=t=>et.error({message:t,pattern:e}),n=(n,r,i)=>{if(e.format!==void 0){let i;if(x(e.format)){if(!De(e.format,v))return t(n+" pattern has non-string items in the `format` array");i=e.format}else if(v(e.format))i=[e.format];else return t(n+" pattern has non-string `format` parameter");return et.value(r(i))}else if(e.cmd!==void 0)return v(e.cmd)?et.value(i(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter");else return t(n+" pattern is missing both `format` and `cmd` parameters")};if(!y(e))return t(`Raw pattern is not an object`);if(!v(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!v(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,i=e.end;return i.length===0&&(i=r,r=``),n(`Inline`,e=>({type:`inline-format`,start:r,end:i,format:e}),(e,t)=>({type:`inline-command`,start:r,end:i,cmd:e,value:t}))}else if(e.replacement!==void 0)return v(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):et.value({type:`inline-command`,start:``,end:e.start,cmd:`mceInsertContent`,value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter");else{let r=e.trigger??`space`;return e.start.length===0?t("Block pattern has empty `start` parameter"):n(`Block`,t=>({type:`block-format`,start:e.start,format:t[0],trigger:r}),(t,n)=>({type:`block-command`,start:e.start,cmd:t,value:n,trigger:r}))}},Uf=e=>L(e,Bf),Wf=e=>L(e,zf),Gf=(e,t)=>({inlinePatterns:Wf(e),blockPatterns:Uf(e),dynamicPatternsLookup:t}),Kf=(e,t)=>({...e,blockPatterns:L(e.blockPatterns,e=>Vf(e,t))}),qf=e=>{let t=St(he(e,Hf));return I(t.errors,e=>console.error(e.message,e.pattern)),t.values},Jf=e=>t=>qf(e(t)),Yf=(e,t)=>e.dispatch(`PreProcess`,t),Xf=(e,t)=>e.dispatch(`PostProcess`,t),Zf=e=>{e.dispatch(`remove`)},Qf=e=>{e.dispatch(`detach`)},$f=(e,t)=>{e.dispatch(`SwitchMode`,{mode:t})},ep=(e,t,n,r,i)=>{e.dispatch(`ObjectResizeStart`,{target:t,width:n,height:r,origin:i})},tp=(e,t,n,r,i)=>{e.dispatch(`ObjectResized`,{target:t,width:n,height:r,origin:i})},np=e=>{e.dispatch(`PreInit`)},rp=e=>{e.dispatch(`PostRender`)},ip=e=>{e.dispatch(`Init`)},ap=(e,t)=>{e.dispatch(`PlaceholderToggle`,{state:t})},op=(e,t,n)=>{e.dispatch(t,n)},sp=(e,t,n,r)=>{e.dispatch(`FormatApply`,{format:t,node:n,vars:r})},cp=(e,t,n,r)=>{e.dispatch(`FormatRemove`,{format:t,node:n,vars:r})},lp=(e,t)=>e.dispatch(`BeforeSetContent`,t),up=(e,t)=>e.dispatch(`SetContent`,t),dp=(e,t)=>e.dispatch(`BeforeGetContent`,t),fp=(e,t)=>e.dispatch(`GetContent`,t),pp=(e,t)=>{e.dispatch(`AutocompleterStart`,t)},mp=(e,t)=>{e.dispatch(`AutocompleterUpdate`,t)},hp=(e,t)=>{e.dispatch(`AutocompleterUpdateActiveRange`,t)},gp=e=>{e.dispatch(`AutocompleterEnd`)},_p=(e,t,n)=>e.dispatch(`PastePreProcess`,{content:t,internal:n}),vp=(e,t,n)=>e.dispatch(`PastePostProcess`,{node:t,internal:n}),yp=(e,t)=>e.dispatch(`PastePlainTextToggle`,{state:t}),bp=(e,t)=>e.dispatch(`EditableRootStateChange`,{state:t}),xp=(e,t)=>e.dispatch(`DisabledStateChange`,{state:t}),Sp=e=>e.dispatch(`CloseActiveTooltips`),Cp=zn().deviceType,wp=Cp.isTouch(),Tp=ql.DOM,Ep=e=>be(e.indexOf(`=`)>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(`,`),(e,t)=>{let n=t.split(`=`),r=n[0],i=n.length>1?n[1]:r;return e[Nt(r)]=Nt(i),e},{}),Dp=e=>_(e,RegExp),Z=e=>t=>t.options.get(e),Op=e=>v(e)||y(e),kp=(e,t=``)=>n=>{let r=v(n);return r?n.indexOf(`=`)===-1?{value:n,valid:r}:{value:R(Ep(n),e.id).getOr(t),valid:r}:{valid:!1,message:`Must be a string.`}},Ap=e=>{let t=e.options.register;t(`id`,{processor:`string`,default:e.id}),t(`selector`,{processor:`string`}),t(`target`,{processor:`object`}),t(`suffix`,{processor:`string`}),t(`cache_suffix`,{processor:`string`}),t(`base_url`,{processor:`string`}),t(`referrer_policy`,{processor:`string`,default:``}),t(`crossorigin`,{processor:`function`,default:O(void 0)}),t(`language_load`,{processor:`boolean`,default:!0}),t(`inline`,{processor:`boolean`,default:!1}),t(`iframe_attrs`,{processor:`object`,default:{}}),t(`doctype`,{processor:`string`,default:`<!DOCTYPE html>`}),t(`document_base_url`,{processor:`string`,default:e.editorManager.documentBaseURL}),t(`body_id`,{processor:kp(e,`tinymce`),default:`tinymce`}),t(`body_class`,{processor:kp(e),default:``}),t(`content_security_policy`,{processor:`string`,default:``}),t(`br_in_pre`,{processor:`boolean`,default:!0}),t(`forced_root_block`,{processor:e=>{let t=v(e)&&It(e);return t?{value:e,valid:t}:{valid:!1,message:`Must be a non-empty string.`}},default:`p`}),t(`forced_root_block_attrs`,{processor:`object`,default:{}}),t(`newline_behavior`,{processor:e=>{let t=pe([`block`,`linebreak`,`invert`,`default`],e);return t?{value:e,valid:t}:{valid:!1,message:`Must be one of: block, linebreak, invert or default.`}},default:`default`}),t(`br_newline_selector`,{processor:`string`,default:`.mce-toc h2,figcaption,caption`}),t(`no_newline_selector`,{processor:`string`,default:``}),t(`keep_styles`,{processor:`boolean`,default:!0}),t(`end_container_on_empty_block`,{processor:e=>ee(e)||v(e)?{valid:!0,value:e}:{valid:!1,message:`Must be boolean or a string`},default:`blockquote`}),t(`font_size_style_values`,{processor:`string`,default:`xx-small,x-small,small,medium,large,x-large,xx-large`}),t(`font_size_legacy_values`,{processor:`string`,default:`xx-small,small,medium,large,x-large,xx-large,300%`}),t(`font_size_classes`,{processor:`string`,default:``}),t(`automatic_uploads`,{processor:`boolean`,default:!0}),t(`images_reuse_filename`,{processor:`boolean`,default:!1}),t(`images_replace_blob_uris`,{processor:`boolean`,default:!0}),t(`icons`,{processor:`string`,default:``}),t(`icons_url`,{processor:`string`,default:``}),t(`images_upload_url`,{processor:`string`,default:``}),t(`images_upload_base_path`,{processor:`string`,default:``}),t(`images_upload_credentials`,{processor:`boolean`,default:!1}),t(`images_upload_handler`,{processor:`function`}),t(`language`,{processor:`string`,default:`en`}),t(`language_url`,{processor:`string`,default:``}),t(`entity_encoding`,{processor:`string`,default:`named`}),t(`indent`,{processor:`boolean`,default:!0}),t(`indent_before`,{processor:`string`,default:`p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist`}),t(`indent_after`,{processor:`string`,default:`p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist`}),t(`indent_use_margin`,{processor:`boolean`,default:!1}),t(`indentation`,{processor:`string`,default:`40px`}),t(`content_css`,{processor:e=>{let t=e===!1||v(e)||T(e,v);return t?v(e)?{value:he(e.split(`,`),Nt),valid:t}:x(e)?{value:e,valid:t}:e===!1?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:`Must be false, a string or an array of strings.`}},default:Dm(e)?[]:[`default`]}),t(`content_style`,{processor:`string`}),t(`content_css_cors`,{processor:`boolean`,default:!1}),t(`font_css`,{processor:e=>{let t=v(e)||T(e,v);return t?{value:x(e)?e:he(e.split(`,`),Nt),valid:t}:{valid:!1,message:`Must be a string or an array of strings.`}},default:[]}),t(`extended_mathml_attributes`,{processor:`string[]`}),t(`extended_mathml_elements`,{processor:`string[]`}),t(`inline_boundaries`,{processor:`boolean`,default:!0}),t(`inline_boundaries_selector`,{processor:`string`,default:`a[href],code,span.mce-annotation`}),t(`object_resizing`,{processor:e=>{let t=ee(e)||v(e);return t?e===!1||Cp.isiPhone()||Cp.isiPad()?{value:``,valid:t}:{value:e===!0?`table,img,figure.image,div,video,iframe`:e,valid:t}:{valid:!1,message:`Must be boolean or a string`}},default:!wp}),t(`resize_img_proportional`,{processor:`boolean`,default:!0}),t(`event_root`,{processor:`string`}),t(`service_message`,{processor:`string`}),t(`onboarding`,{processor:`boolean`,default:!0}),t(`tiny_cloud_entry_url`,{processor:`string`}),t(`theme`,{processor:e=>e===!1||v(e)||w(e),default:`silver`}),t(`theme_url`,{processor:`string`}),t(`formats`,{processor:`object`}),t(`format_empty_lines`,{processor:`boolean`,default:!1}),t(`format_noneditable_selector`,{processor:`string`,default:``}),t(`preview_styles`,{processor:e=>{let t=e===!1||v(e);return t?{value:e===!1?``:e,valid:t}:{valid:!1,message:`Must be false or a string`}},default:`font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow`}),t(`custom_ui_selector`,{processor:`string`,default:``}),t(`hidden_input`,{processor:`boolean`,default:!0}),t(`submit_patch`,{processor:`boolean`,default:!0}),t(`encoding`,{processor:`string`}),t(`add_form_submit_trigger`,{processor:`boolean`,default:!0}),t(`add_unload_trigger`,{processor:`boolean`,default:!0}),t(`custom_undo_redo_levels`,{processor:`number`,default:0}),t(`disable_nodechange`,{processor:`boolean`,default:!1}),t(`disabled`,{processor:t=>ee(t)?(e.initialized&&kh(e)!==t&&Promise.resolve().then(()=>{xp(e,t)}),{valid:!0,value:t}):{valid:!1,message:`The value must be a boolean.`},default:!1}),t(`readonly`,{processor:`boolean`,default:!1}),t(`editable_root`,{processor:`boolean`,default:!0}),t(`plugins`,{processor:`string[]`,default:[]}),t(`external_plugins`,{processor:`object`}),t(`forced_plugins`,{processor:`string[]`}),t(`model`,{processor:`string`,default:e.hasPlugin(`rtc`)?`plugin`:`dom`}),t(`model_url`,{processor:`string`}),t(`block_unsupported_drop`,{processor:`boolean`,default:!0}),t(`visual`,{processor:`boolean`,default:!0}),t(`visual_table_class`,{processor:`string`,default:`mce-item-table`}),t(`visual_anchor_class`,{processor:`string`,default:`mce-item-anchor`}),t(`iframe_aria_text`,{processor:`string`,default:`Rich Text Area${e.hasPlugin(`help`)?`. Press ALT-0 for help.`:``}`}),t(`setup`,{processor:`function`}),t(`init_instance_callback`,{processor:`function`}),t(`url_converter`,{processor:`function`,default:e.convertURL}),t(`url_converter_scope`,{processor:`object`,default:e}),t(`urlconverter_callback`,{processor:`function`}),t(`allow_conditional_comments`,{processor:`boolean`,default:!1}),t(`allow_html_data_urls`,{processor:`boolean`,default:!1}),t(`allow_svg_data_urls`,{processor:`boolean`}),t(`allow_html_in_named_anchor`,{processor:`boolean`,default:!1}),t(`allow_html_in_comments`,{processor:`boolean`,default:!1}),t(`allow_script_urls`,{processor:`boolean`,default:!1}),t(`allow_unsafe_link_target`,{processor:`boolean`,default:!1}),t(`allow_mathml_annotation_encodings`,{processor:e=>{let t=T(e,v);return t?{value:e,valid:t}:{valid:!1,message:`Must be an array of strings.`}},default:[]}),t(`convert_fonts_to_spans`,{processor:`boolean`,default:!0,deprecated:!0}),t(`fix_list_elements`,{processor:`boolean`,default:!1}),t(`preserve_cdata`,{processor:`boolean`,default:!1}),t(`remove_trailing_brs`,{processor:`boolean`,default:!0}),t(`pad_empty_with_br`,{processor:`boolean`,default:!1}),t(`inline_styles`,{processor:`boolean`,default:!0,deprecated:!0}),t(`element_format`,{processor:`string`,default:`html`}),t(`entities`,{processor:`string`}),t(`schema`,{processor:`string`,default:`html5`}),t(`convert_urls`,{processor:`boolean`,default:!0}),t(`relative_urls`,{processor:`boolean`,default:!0}),t(`remove_script_host`,{processor:`boolean`,default:!0}),t(`custom_elements`,{processor:Op}),t(`extended_valid_elements`,{processor:`string`}),t(`invalid_elements`,{processor:`string`}),t(`invalid_styles`,{processor:Op}),t(`valid_children`,{processor:`string`}),t(`valid_classes`,{processor:Op}),t(`valid_elements`,{processor:`string`}),t(`valid_styles`,{processor:Op}),t(`verify_html`,{processor:`boolean`,default:!0}),t(`auto_focus`,{processor:e=>v(e)||e===!0}),t(`browser_spellcheck`,{processor:`boolean`,default:!1}),t(`protect`,{processor:`array`}),t(`images_file_types`,{processor:`string`,default:`jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp`}),t(`deprecation_warnings`,{processor:`boolean`,default:!0}),t(`a11y_advanced_options`,{processor:`boolean`,default:!1}),t(`api_key`,{processor:`string`}),t(`license_key`,{processor:`string`}),t(`paste_block_drop`,{processor:`boolean`,default:!1}),t(`paste_data_images`,{processor:`boolean`,default:!0}),t(`paste_preprocess`,{processor:`function`}),t(`paste_postprocess`,{processor:`function`}),t(`paste_webkit_styles`,{processor:`string`,default:`none`}),t(`paste_remove_styles_if_webkit`,{processor:`boolean`,default:!0}),t(`paste_merge_formats`,{processor:`boolean`,default:!0}),t(`smart_paste`,{processor:`boolean`,default:!0}),t(`paste_as_text`,{processor:`boolean`,default:!1}),t(`paste_tab_spaces`,{processor:`number`,default:4}),t(`text_patterns`,{processor:e=>T(e,y)||e===!1?{value:qf(e===!1?[]:e),valid:!0}:{valid:!1,message:`Must be an array of objects or false.`},default:[{start:`*`,end:`*`,format:`italic`},{start:`**`,end:`**`,format:`bold`},{start:`#`,format:`h1`,trigger:`space`},{start:`##`,format:`h2`,trigger:`space`},{start:`###`,format:`h3`,trigger:`space`},{start:`####`,format:`h4`,trigger:`space`},{start:`#####`,format:`h5`,trigger:`space`},{start:`######`,format:`h6`,trigger:`space`},{start:`1.`,cmd:`InsertOrderedList`,trigger:`space`},{start:`*`,cmd:`InsertUnorderedList`,trigger:`space`},{start:`-`,cmd:`InsertUnorderedList`,trigger:`space`},{start:`>`,cmd:`mceBlockQuote`,trigger:`space`},{start:`---`,cmd:`InsertHorizontalRule`,trigger:`space`}]}),t(`text_patterns_lookup`,{processor:e=>w(e)?{value:Jf(e),valid:!0}:{valid:!1,message:`Must be a single function`},default:e=>[]}),t(`noneditable_class`,{processor:`string`,default:`mceNonEditable`}),t(`editable_class`,{processor:`string`,default:`mceEditable`}),t(`noneditable_regexp`,{processor:e=>T(e,Dp)?{value:e,valid:!0}:Dp(e)?{value:[e],valid:!0}:{valid:!1,message:`Must be a RegExp or an array of RegExp.`},default:[]}),t(`table_tab_navigation`,{processor:`boolean`,default:!0}),t(`highlight_on_focus`,{processor:`boolean`,default:!0}),t(`xss_sanitization`,{processor:`boolean`,default:!0}),t(`details_initial_state`,{processor:e=>{let t=pe([`inherited`,`collapsed`,`expanded`],e);return t?{value:e,valid:t}:{valid:!1,message:`Must be one of: inherited, collapsed, or expanded.`}},default:`inherited`}),t(`details_serialized_state`,{processor:e=>{let t=pe([`inherited`,`collapsed`,`expanded`],e);return t?{value:e,valid:t}:{valid:!1,message:`Must be one of: inherited, collapsed, or expanded.`}},default:`inherited`}),t(`init_content_sync`,{processor:`boolean`,default:!1}),t(`newdocument_content`,{processor:`string`,default:``}),t(`sandbox_iframes`,{processor:`boolean`,default:!0}),t(`sandbox_iframes_exclusions`,{processor:`string[]`,default:[`youtube.com`,`youtu.be`,`vimeo.com`,`player.vimeo.com`,`dailymotion.com`,`embed.music.apple.com`,`open.spotify.com`,`giphy.com`,`dai.ly`,`codepen.io`]}),t(`convert_unsafe_embeds`,{processor:`boolean`,default:!0}),t(`user_id`,{processor:`string`,default:`Anonymous`}),t(`fetch_users`,{processor:e=>e===void 0?{valid:!0,value:void 0}:w(e)?{valid:!0,value:e}:{valid:!1,message:`fetch_users must be a function that returns a Promise<ExpectedUser[]>`}}),e.on(`ScriptsLoaded`,()=>{t(`directionality`,{processor:`string`,default:tu.isRtl()?`rtl`:void 0}),t(`placeholder`,{processor:`string`,default:Tp.getAttrib(e.getElement(),`placeholder`)})}),t(`lists_indent_on_tab`,{processor:`boolean`,default:!0}),t(`list_max_depth`,{processor:e=>{let t=re(e);if(t){if(e<0)throw Error(`list_max_depth cannot be set to lower than 0`);return{value:e,valid:t}}else return{valid:!1,message:`Must be a number`}}})},jp=Z(`iframe_attrs`),Mp=Z(`doctype`),Np=Z(`document_base_url`),Pp=Z(`body_id`),Fp=Z(`body_class`),Ip=Z(`content_security_policy`),Lp=Z(`br_in_pre`),Rp=Z(`forced_root_block`),zp=Z(`forced_root_block_attrs`),Bp=Z(`newline_behavior`),Vp=Z(`br_newline_selector`),Hp=Z(`no_newline_selector`),Up=Z(`keep_styles`),Wp=Z(`end_container_on_empty_block`),Gp=Z(`automatic_uploads`),Kp=Z(`images_reuse_filename`),qp=Z(`images_replace_blob_uris`),Jp=Z(`icons`),Yp=Z(`icons_url`),Xp=Z(`images_upload_url`),Zp=Z(`images_upload_base_path`),Qp=Z(`images_upload_credentials`),$p=Z(`images_upload_handler`),em=Z(`content_css_cors`),tm=Z(`referrer_policy`),nm=Z(`crossorigin`),rm=Z(`language`),im=Z(`language_url`),am=Z(`indent_use_margin`),om=Z(`indentation`),sm=Z(`content_css`),cm=Z(`content_style`),lm=Z(`font_css`),um=Z(`directionality`),dm=Z(`inline_boundaries_selector`),fm=Z(`object_resizing`),pm=Z(`resize_img_proportional`),mm=Z(`placeholder`),hm=Z(`event_root`),gm=Z(`service_message`),_m=Z(`theme`),vm=Z(`theme_url`),ym=Z(`model`),bm=Z(`model_url`),xm=Z(`inline_boundaries`),Sm=Z(`formats`),Cm=Z(`preview_styles`),wm=Z(`format_empty_lines`),Tm=Z(`format_noneditable_selector`),Em=Z(`custom_ui_selector`),Dm=Z(`inline`),Om=Z(`hidden_input`),km=Z(`submit_patch`),Am=Z(`add_form_submit_trigger`),jm=Z(`add_unload_trigger`),Mm=Z(`custom_undo_redo_levels`),Nm=Z(`disable_nodechange`),Pm=Z(`readonly`),Fm=Z(`editable_root`),Im=Z(`content_css_cors`),Lm=Z(`plugins`),Rm=Z(`external_plugins`),zm=Z(`block_unsupported_drop`),Bm=Z(`visual`),Vm=Z(`visual_table_class`),Hm=Z(`visual_anchor_class`),Um=Z(`iframe_aria_text`),Wm=Z(`setup`),Gm=Z(`init_instance_callback`),Km=Z(`urlconverter_callback`),qm=Z(`auto_focus`),Jm=Z(`browser_spellcheck`),Ym=Z(`protect`),Xm=Z(`paste_block_drop`),Zm=Z(`paste_data_images`),Qm=Z(`paste_preprocess`),$m=Z(`paste_postprocess`),eh=Z(`newdocument_content`),th=Z(`paste_webkit_styles`),nh=Z(`paste_remove_styles_if_webkit`),rh=Z(`paste_merge_formats`),ih=Z(`smart_paste`),ah=Z(`paste_as_text`),oh=Z(`paste_tab_spaces`),sh=Z(`allow_html_data_urls`),ch=Z(`text_patterns`),lh=Z(`text_patterns_lookup`),uh=Z(`noneditable_class`),dh=Z(`editable_class`),fh=Z(`noneditable_regexp`),ph=Z(`preserve_cdata`),mh=Z(`highlight_on_focus`),hh=Z(`xss_sanitization`),gh=Z(`init_content_sync`),_h=e=>e.options.isSet(`text_patterns_lookup`),vh=e=>U.explode(e.options.get(`font_size_style_values`)),yh=e=>U.explode(e.options.get(`font_size_classes`)),bh=e=>e.options.get(`encoding`)===`xml`,xh=e=>U.explode(e.options.get(`images_file_types`)),Sh=Z(`table_tab_navigation`),Ch=Z(`details_initial_state`),wh=Z(`details_serialized_state`),Th=Z(`sandbox_iframes`),Eh=e=>e.options.get(`sandbox_iframes_exclusions`),Dh=Z(`convert_unsafe_embeds`),Oh=Z(`license_key`),Q=Z(`api_key`),kh=Z(`disabled`),Ah=Z(`user_id`),jh=Z(`fetch_users`),Mh=Z(`lists_indent_on_tab`),Nh=e=>P.from(e.options.get(`list_max_depth`)),Ph=qo,Fh=q,Ih=e=>{let t=e.parentNode;t&&t.removeChild(e)},Lh=e=>{let t=Vu(e);return{count:e.length-t.length,text:t}},Rh=e=>{let t;for(;(t=e.data.lastIndexOf(`﻿`))!==-1;)e.deleteData(t,1)},zh=(e,t)=>(Gh(e),t),Bh=(e,t)=>{let n=Lh(e.data.substr(0,t.offset())),r=Lh(e.data.substr(t.offset()));return(n.text+r.text).length>0?(Rh(e),X(e,t.offset()-n.count)):t},Vh=(e,t)=>{let n=t.container(),r=fe(Fe(n.childNodes),e).map(e=>e<t.offset()?X(n,t.offset()-1):t).getOr(t);return Gh(e),r},Hh=(e,t)=>Fh(e)&&t.container()===e?Bh(e,t):zh(e,t),Uh=(e,t)=>t.container()===e.parentNode?Vh(e,t):zh(e,t),Wh=(e,t)=>X.isTextPosition(t)?Hh(e,t):Uh(e,t),Gh=e=>{Ph(e)&&qu(e)&&(Ju(e)?e.removeAttribute(`data-mce-caret`):Ih(e)),Fh(e)&&(Rh(e),e.data.length===0&&Ih(e))},Kh=ms,qh=ys,Jh=gs,Yh=(e,t,n)=>{let r=od(t.getBoundingClientRect(),n),i,a;if(e.tagName===`BODY`){let t=e.ownerDocument.documentElement;i=e.scrollLeft||t.scrollLeft,a=e.scrollTop||t.scrollTop}else{let t=e.getBoundingClientRect();i=e.scrollLeft-t.left,a=e.scrollTop-t.top}r.left+=i,r.right+=i,r.top+=a,r.bottom+=a,r.width=1;let o=t.offsetWidth-t.clientWidth;return o>0&&(n&&(o*=-1),r.left+=o,r.right+=o),r},Xh=e=>{let t=no(W.fromDom(e),`*[contentEditable=false],video,audio,embed,object`);for(let e=0;e<t.length;e++){let n=t[e].dom,r=n.previousSibling;if(ed(r)){let e=r.data;e.length===1?r.parentNode?.removeChild(r):r.deleteData(e.length-1,1)}r=n.nextSibling,$u(r)&&(r.data.length===1?r.parentNode?.removeChild(r):r.deleteData(0,1))}},Zh=(e,t,n,r)=>{let i=Tt(),a,o,s=Rp(e),c=e.dom,l=(e,r)=>{let a;if(u(),Jh(r))return null;if(n(r)){let n=Qu(s,r,e),l=Yh(t,r,e);c.setStyle(n,`top`,l.top),c.setStyle(n,`caret-color`,`transparent`),o=n;let u=c.create(`div`,{class:`mce-visual-caret`,"data-mce-bogus":`all`});c.setStyles(u,{...l}),c.add(t,u),i.set({caret:u,element:r,before:e}),e&&c.addClass(u,`mce-visual-caret-before`),d(),a=r.ownerDocument.createRange(),a.setStart(n,0),a.setEnd(n,0)}else return o=Yu(r,e),a=r.ownerDocument.createRange(),$h(o.nextSibling)?(a.setStart(o,0),a.setEnd(o,0)):(a.setStart(o,1),a.setEnd(o,1)),a;return a},u=()=>{Xh(t),o&&=(Gh(o),null),i.on(e=>{c.remove(e.caret),i.clear()}),a&&=(clearInterval(a),void 0)},d=()=>{a=window.setInterval(()=>{i.on(e=>{r()?c.toggleClass(e.caret,`mce-visual-caret-hidden`):c.addClass(e.caret,`mce-visual-caret-hidden`)})},500)};return{isShowing:i.isSet,show:l,hide:u,getCss:()=>`.mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}`,reposition:()=>{i.on(e=>{let n=Yh(t,e.element,e.before);c.setStyles(e.caret,{...n})})},destroy:()=>clearInterval(a)}},Qh=()=>Zn.browser.isFirefox(),$h=e=>Kh(e)||qh(e),eg=e=>($h(e)||ns(e)&&Qh())&&Vr(W.fromDom(e)).exists(Ya),tg=ps,ng=ms,rg=ys,ig=Qo(`display`,`block table table-cell table-row table-caption list-item`),ag=qu,og=Gu,sg=qo,cg=q,lg=Ad,ug=(e,t)=>{let n;for(;n=e(t);)if(!og(n))return n;return null},dg=(e,t,n,r,i)=>{let a=new Lo(e,r),o=ng(e)||og(e),s;if(Rf(t)){if(o&&(s=ug(a.prev.bind(a),!0),n(s)))return s;for(;s=ug(a.prev.bind(a),i);)if(n(s))return s}if(Lf(t)){if(o&&(s=ug(a.next.bind(a),!0),n(s)))return s;for(;s=ug(a.next.bind(a),i);)if(n(s))return s}return null},fg=(e,t)=>Aa(W.fromDom(e),e=>tg(e.dom),e=>e.dom===t).map(e=>e.dom).getOr(t),pg=e=>qo(e)&&ra(W.fromDom(e),`position`)===`absolute`,mg=(e,t)=>e.parentNode!==t,hg=(e,t)=>ng(e)&&pg(e)&&mg(e,t),gg=(e,t)=>{for(;e&&e!==t;){if(ig(e)&&!hg(e,t))return e;e=e.parentNode}return null},_g=(e,t,n)=>gg(e.container(),n)===gg(t.container(),n),vg=(e,t)=>{if(!t)return P.none();let n=t.container(),r=t.offset();return sg(n)?P.from(n.childNodes[r+e]):P.none()},yg=(e,t)=>{let n=(t.ownerDocument??document).createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},bg=(e,t,n)=>gg(t,e)===gg(n,e),xg=(e,t,n)=>{let r=e?`previousSibling`:`nextSibling`,i=n;for(;i&&i!==t;){let e=i[r];if(e&&ag(e)&&(e=e[r]),ng(e)||rg(e)){if(bg(t,e,i))return e;break}if(lg(e))break;i=i.parentNode}return null},Sg=A(yg,!0),Cg=A(yg,!1),wg=(e,t,n)=>{let r,i=A(xg,!0,t),a=A(xg,!1,t),o=n.startContainer,s=n.startOffset;if(Gu(o)){let e=cg(o)?o.parentNode:o,t=e.getAttribute(`data-mce-caret`);if(t===`before`&&(r=e.nextSibling,eg(r)))return Sg(r);if(t===`after`&&(r=e.previousSibling,eg(r)))return Cg(r)}if(!n.collapsed)return n;if(q(o)){if(ag(o)){if(e===1){if(r=a(o),r)return Sg(r);if(r=i(o),r)return Cg(r)}if(e===-1){if(r=i(o),r)return Cg(r);if(r=a(o),r)return Sg(r)}return n}if(ed(o)&&s>=o.data.length-1)return e===1&&(r=a(o),r)?Sg(r):n;if($u(o)&&s<=1)return e===-1&&(r=i(o),r)?Cg(r):n;if(s===o.data.length)return r=a(o),r?Sg(r):n;if(s===0)return r=i(o),r?Cg(r):n}return n},Tg=(e,t)=>vg(e?0:-1,t).filter(ng),Eg=(e,t,n)=>{let r=wg(e,t,n);return e===-1?X.fromRangeStart(r):X.fromRangeEnd(r)},Dg=e=>P.from(e.getNode()).map(W.fromDom),Og=e=>P.from(e.getNode(!0)).map(W.fromDom),kg=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Ag=(e,t)=>{let n=_g(e,t);return!n&&us(e.getNode())?!0:n},jg=ms,Mg=q,Ng=qo,Pg=us,Fg=Ad,Ig=Fd,Lg=Id,Rg=(e,t)=>{let n=[],r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n},zg=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Bg=(e,t)=>{if(Lf(e)){if(Fg(t.previousSibling)&&!Mg(t.previousSibling))return X.before(t);if(Mg(t))return X(t,0)}if(Rf(e)){if(Fg(t.nextSibling)&&!Mg(t.nextSibling))return X.after(t);if(Mg(t))return X(t,t.data.length)}return Rf(e)?Pg(t)?X.before(t):X.after(t):X.before(t)},Vg=(e,t)=>{let n=t.nextSibling;return n&&Fg(n)?Mg(n)?X(n,0):X.before(n):Hg(1,X.after(t),e)},Hg=(e,t,n)=>{let r,i,a,o;if(!Ng(n)||!t)return null;if(t.isEqual(X.after(n))&&n.lastChild){if(o=X.after(n.lastChild),Rf(e)&&Fg(n.lastChild)&&Ng(n.lastChild))return Pg(n.lastChild)?X.before(n.lastChild):o}else o=t;let s=o.container(),c=o.offset();if(Mg(s)){if(Rf(e)&&c>0)return X(s,--c);if(Lf(e)&&c<s.length)return X(s,++c);r=s}else{if(Rf(e)&&c>0&&(i=zg(s,c-1),Fg(i)))return!Ig(i)&&(a=dg(i,e,Lg,i),a)?Mg(a)?X(a,a.data.length):X.after(a):Mg(i)?X(i,i.data.length):X.before(i);if(Lf(e)&&c<s.childNodes.length&&(i=zg(s,c),Fg(i)))return Pg(i)?Vg(n,i):!Ig(i)&&(a=dg(i,e,Lg,i),a)?Mg(a)?X(a,0):X.before(a):Mg(i)?X(i,0):X.after(i);r=i||o.getNode()}if(r&&(Lf(e)&&o.isAtEnd()||Rf(e)&&o.isAtStart())&&(r=dg(r,e,ce,n,!0),Lg(r,n)))return Bg(e,r);i=r&&dg(r,e,Lg,n);let l=tn(L(Rg(s,n),jg));return l&&(!i||!l.contains(i))?(o=Lf(e)?X.after(l):X.before(l),o):i?Bg(e,i):null},Ug=e=>({next:t=>Hg(1,t,e),prev:t=>Hg(-1,t,e)}),Wg=(e,t,n)=>Zg(e,t,e?X.before(n):X.after(n)),Gg=e=>us(e)?X.before(e):X.after(e),Kg=e=>X.isTextPosition(e)?e.offset()===0:Ad(e.getNode()),qg=e=>{if(X.isTextPosition(e)){let t=e.container();return e.offset()===t.data.length}else return Ad(e.getNode(!0))},Jg=(e,t)=>!X.isTextPosition(e)&&!X.isTextPosition(t)&&e.getNode()===t.getNode(!0),Yg=e=>!X.isTextPosition(e)&&us(e.getNode()),Xg=(e,t,n)=>e?!Jg(t,n)&&!Yg(t)&&qg(t)&&Kg(n):!Jg(n,t)&&Kg(t)&&qg(n),Zg=(e,t,n)=>{let r=Ug(t);return P.from(e?r.next(n):r.prev(n))},Qg=(e,t,n)=>Zg(e,t,n).bind(r=>_g(n,r,t)&&Xg(e,n,r)?Zg(e,t,r):P.some(r)),$g=(e,t,n,r)=>Qg(e,t,n).bind(n=>r(n)?$g(e,t,n,r):P.some(n)),e_=(e,t)=>{let n=e?t.firstChild:t.lastChild;return q(n)?P.some(X(n,e?0:n.data.length)):n?Ad(n)?P.some(e?X.before(n):Gg(n)):Wg(e,t,n):P.none()},t_=A(Zg,!0),n_=A(Zg,!1),r_=A(e_,!0),i_=A(e_,!1),a_=`_mce_caret`,o_=e=>qo(e)&&e.id===a_,s_=(e,t)=>{let n=t;for(;n&&n!==e;){if(o_(n))return n;n=n.parentNode}return null},c_=e=>v(e.start),l_=e=>Ye(e,`rng`),u_=e=>Ye(e,`id`),d_=e=>Ye(e,`name`),f_=e=>U.isArray(e.start),p_=e=>!d_(e)&&ee(e.forward)?e.forward:!0,m_=(e,t)=>(qo(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML=`<br data-mce-bogus="1" />`),t),h_=(e,t)=>_t(P.from(bf(e.getRoot(),t.start)),P.from(bf(e.getRoot(),t.end)),(n,r)=>{let i=e.createRng();return i.setStart(n.container(),n.offset()),i.setEnd(r.container(),r.offset()),{range:i,forward:p_(t)}}),g_=(e,t)=>{let n=(e.ownerDocument??document).createTextNode(`﻿`);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},__=e=>!e.hasChildNodes(),v_=(e,t)=>i_(e).fold(N,e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0)),y_=(e,t,n)=>__(t)&&s_(e,t)?(g_(t,n),!0):!1,b_=(e,t,n,r)=>{let i=n[t?`start`:`end`],a=e.getRoot();if(i){let e=a,n=i[0];for(let t=i.length-1;e&&t>=1;t--){let n=e.childNodes;if(y_(a,e,r))return!0;if(i[t]>n.length-1)return y_(a,e,r)?!0:v_(e,r);e=n[i[t]]}q(e)&&(n=Math.min(i[0],e.data.length)),qo(e)&&(n=Math.min(i[0],e.childNodes.length)),t?r.setStart(e,n):r.setEnd(e,n)}return!0},x_=e=>q(e)&&e.data.length>0,S_=(e,t,n)=>{let r=e.get(n.id+`_`+t),i=r?.parentNode,a=n.keep;if(r&&i){let o,s;if(t===`start`?a?r.hasChildNodes()?(o=r.firstChild,s=1):x_(r.nextSibling)?(o=r.nextSibling,s=0):x_(r.previousSibling)?(o=r.previousSibling,s=r.previousSibling.data.length):(o=i,s=e.nodeIndex(r)+1):(o=i,s=e.nodeIndex(r)):a?r.hasChildNodes()?(o=r.firstChild,s=1):x_(r.previousSibling)?(o=r.previousSibling,s=r.previousSibling.data.length):(o=i,s=e.nodeIndex(r)):(o=i,s=e.nodeIndex(r)),!a){let i=r.previousSibling,a=r.nextSibling;U.each(U.grep(r.childNodes),e=>{q(e)&&(e.data=e.data.replace(/\uFEFF/g,``))});let c;for(;c=e.get(n.id+`_`+t);)e.remove(c,!0);if(q(a)&&q(i)&&!Zn.browser.isOpera()){let t=i.data.length;i.appendData(a.data),e.remove(a),o=i,s=t}}return P.some(X(o,s))}else return P.none()},C_=(e,t)=>{let n=e.createRng();return b_(e,!0,t,n)&&b_(e,!1,t,n)?P.some({range:n,forward:p_(t)}):P.none()},w_=(e,t)=>{let n=S_(e,`start`,t);return _t(n,S_(e,`end`,t).or(n),(n,r)=>{let i=e.createRng();return i.setStart(m_(e,n.container()),n.offset()),i.setEnd(m_(e,r.container()),r.offset()),{range:i,forward:p_(t)}})},T_=(e,t)=>P.from(e.select(t.name)[t.index]).map(t=>{let n=e.createRng();return n.selectNode(t),{range:n,forward:!0}}),E_=(e,t)=>{let n=e.dom;if(t){if(f_(t))return C_(n,t);if(c_(t))return h_(n,t);if(u_(t))return w_(n,t);if(d_(t))return T_(n,t);if(l_(t))return P.some({range:t.rng,forward:p_(t)})}return P.none()},D_=(e,t,n)=>Ff(e,t,n),O_=(e,t)=>{E_(e,t).each(({range:t,forward:n})=>{e.setRng(t,n)})},k_=e=>qo(e)&&e.tagName===`SPAN`&&e.getAttribute(`data-mce-type`)===`bookmark`,A_=(e=>t=>e===t)(`\xA0`),j_=e=>e!==``&&` \f
\r	\v`.indexOf(e)!==-1,M_=e=>!j_(e)&&!A_(e)&&!Ut(e),N_=e=>{let t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},P_=e=>Ee(e,e=>{let t=hd(e);return t?[W.fromDom(t)]:[]}),F_=e=>N_(e).length>1,I_=e=>L(P_(e),Nu),L_=e=>no(e,`td[data-mce-selected],th[data-mce-selected]`),R_=(e,t)=>{let n=L_(t);return n.length>0?n:I_(e)},z_=e=>R_(N_(e.selection.getSel()),W.fromDom(e.getBody())),B_=(e,t)=>Pa(e,`table`,t),V_=e=>{let t=e.startContainer,n=e.startOffset;return q(t)?n===0?P.some(W.fromDom(t)):P.none():P.from(t.childNodes[n]).map(W.fromDom)},H_=e=>{let t=e.endContainer,n=e.endOffset;return q(t)?n===t.data.length?P.some(W.fromDom(t)):P.none():P.from(t.childNodes[n-1]).map(W.fromDom)},U_=e=>Xr(e).fold(O([e]),t=>[e].concat(U_(t))),W_=e=>Zr(e).fold(O([e]),t=>Er(t)===`br`?Wr(t).map(t=>[e].concat(W_(t))).getOr([]):[e].concat(W_(t))),G_=(e,t)=>_t(V_(t),H_(t),(t,n)=>{let r=Se(U_(e),A(Sr,t)),i=Se(W_(e),A(Sr,n));return r.isSome()&&i.isSome()}).getOr(!1),K_=(e,t,n,r)=>{let i=n,a=new Lo(n,i),o=Ke(e.schema.getMoveCaretBeforeOnEnterElements(),(e,t)=>!pe([`td`,`th`,`table`],t.toLowerCase())),s=n;do{if(q(s)&&U.trim(s.data).length!==0){r?t.setStart(s,0):t.setEnd(s,s.data.length);return}if(o[s.nodeName]){r?t.setStartBefore(s):s.nodeName===`BR`?t.setEndBefore(s):t.setEndAfter(s);return}}while(s=r?a.next():a.prev());i.nodeName===`BODY`&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},q_=e=>{let t=e.selection.getSel();return C(t)&&t.rangeCount>0},J_=(e,t)=>{let n=z_(e);n.length>0?I(n,n=>{let r=n.dom,i=e.dom.createRng();i.setStartBefore(r),i.setEndAfter(r),t(i,!0)}):t(e.selection.getRng(),!1)},Y_=(e,t,n)=>{let r=Pf(e,t);n(r),e.moveToBookmark(r)},X_=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),Z_=e=>X_(e,Jo),Q_=e=>X_(e,q),$_=e=>X_(e,fs),ev=e=>re(e?.nodeType),tv=e=>qo(e)&&!k_(e)&&!o_(e)&&!es(e),nv=(e,t)=>{if(tv(t)&&!/^(TD|TH)$/.test(t.nodeName)){let n=e.getAttrib(t,`data-mce-selected`),r=parseInt(n,10);return!isNaN(r)&&r>0}else return!1},rv=(e,t,n)=>{let{selection:r,dom:i}=e,a=r.getNode(),o=ms(a);Y_(r,!0,()=>{t()}),o&&ms(a)&&i.isChildOf(a,e.getBody())?e.selection.select(a):n(r.getStart())&&iv(i,r)},iv=(e,t)=>{let n=t.getRng(),{startContainer:r,startOffset:i}=n;if(!nv(e,t.getNode())&&qo(r)){let a=r.childNodes,o=e.getRoot(),s;if(i<a.length){let t=a[i];s=new Lo(t,e.getParent(t,e.isBlock)??o)}else{let t=a[a.length-1];s=new Lo(t,e.getParent(t,e.isBlock)??o),s.next(!0)}for(let r=s.current();r;r=s.next())if(e.getContentEditable(r)===`false`)return;else if(q(r)&&!cv(r)){n.setStart(r,0),t.setRng(n);return}}},av=(e,t,n)=>{if(e){let r=t?`nextSibling`:`previousSibling`;for(e=n?e:e[r];e;e=e[r])if(qo(e)||!cv(e))return e}},ov=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||ic(e,t),sv=(e,t,n)=>e.schema.isValidChild(t,n),cv=(e,t=!1)=>C(e)&&q(e)?zo(t?e.data.replace(/ /g,`\xA0`):e.data):!1,lv=e=>C(e)&&q(e)&&e.length===0,uv=(e,t)=>{let n=`[data-mce-cef-wrappable]`,r=Tm(e),i=Lt(r)?n:`${n},${r}`;return vr(W.fromDom(t),i)},dv=(e,t)=>{let n=e.dom;return tv(t)&&n.getContentEditable(t)===`false`&&uv(e,t)&&n.select(`[contenteditable="true"]`,t).length===0},fv=(e,t)=>w(e)?e(t):(C(t)&&(e=e.replace(/%(\w+)/g,(e,n)=>t[n]||e)),e),pv=(e,t)=>(e||=``,t||=``,e=``+(e.nodeName||e),t=``+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),mv=(e,t)=>{if(ne(e))return null;{let n=String(e);return(t===`color`||t===`backgroundColor`)&&(n=Sl(n)),t===`fontWeight`&&e===700&&(n=`bold`),t===`fontFamily`&&(n=n.replace(/[\'\"]/g,``).replace(/,\s+/g,`,`)),n}},hv=(e,t,n)=>mv(e.getStyle(t,n),n),gv=(e,t)=>{let n;return e.getParent(t,t=>qo(t)?(n=e.getStyle(t,`text-decoration`),!!n&&n!==`none`):!1),n},_v=(e,t,n)=>e.getParents(t,n,e.getRoot()),vv=(e,t,n)=>{let r=e.formatter.get(t);return C(r)&&me(r,n)},yv=(e,t)=>vv(e,t,e=>{let t=e=>w(e)||e.length>1&&e.charAt(0)===`%`;return me([`styles`,`attributes`],n=>R(e,n).exists(e=>me(x(e)?e:Je(e),t)))}),bv=(e,t,n)=>{let r=[`inline`,`block`,`selector`,`attributes`,`styles`,`classes`],i=e=>Ke(e,(e,t)=>me(r,e=>e===t));return vv(e,t,t=>{let r=i(t);return vv(e,n,e=>z(r,i(e)))})},xv=e=>Xe(e,`block`),Sv=e=>xv(e)&&e.wrapper===!0,Cv=e=>xv(e)&&e.wrapper!==!0,wv=e=>Xe(e,`selector`),Tv=e=>Xe(e,`inline`),Ev=e=>wv(e)&&Tv(e)&&mt(R(e,`mixed`),!0),Dv=e=>wv(e)&&e.expand!==!1&&!Tv(e),Ov=e=>{let t=[],n=e;for(;n;){if(q(n)&&n.data!==`﻿`||n.childNodes.length>1)return[];qo(n)&&t.push(n),n=n.firstChild}return t},kv=e=>Ov(e).length>0,Av=e=>o_(e.dom)&&kv(e.dom),jv=k_,Mv=_v,Nv=cv,Pv=ov,Fv=e=>us(e)&&e.getAttribute(`data-mce-bogus`)&&!e.nextSibling,Iv=(e,t)=>{let n=t;for(;n;){if(qo(n)&&e.getContentEditable(n))return e.getContentEditable(n)===`false`?n:t;n=n.parentNode}return t},Lv=(e,t,n,r)=>{let i=t.data;if(e){for(let e=n;e>0;e--)if(r(i.charAt(e-1)))return e}else for(let e=n;e<i.length;e++)if(r(i.charAt(e)))return e;return-1},Rv=(e,t,n)=>Lv(e,t,n,e=>A_(e)||j_(e)),zv=(e,t,n)=>Lv(e,t,n,M_),Bv=(e,t,n,r,i,a)=>{let o,s=e.getParent(n,t=>hs(t)||e.isBlock(t)),c=C(s)?s:t,l=(t,n,r)=>{let a=yu(e),s=i?a.backwards:a.forwards;return P.from(s(t,n,(e,t)=>jv(e.parentNode)?-1:(o=e,r(i,e,t)),c))};return l(n,r,Rv).bind(e=>a?l(e.container,e.offset+(i?-1:0),zv):P.some(e)).orThunk(()=>o?P.some({container:o,offset:i?0:o.length}):P.none())},Vv=(e,t,n,r,i)=>{let a=r[i];q(r)&&Lt(r.data)&&a&&(r=a);let o=Mv(e,r);for(let r=0;r<o.length;r++)for(let i=0;i<t.length;i++){let a=t[i];if(!(C(a.collapsed)&&a.collapsed!==n.collapsed)&&wv(a)&&e.is(o[r],a.selector))return o[r]}return r},Hv=(e,t,n,r)=>{let i=n,a=e.getRoot(),o=t[0];if(xv(o)&&(i=o.wrapper?null:e.getParent(n,o.block,a)),!i){let t=e.getParent(n,`LI,TD,TH,SUMMARY`)??a;i=e.getParent(q(n)?n.parentNode:n,t=>t!==a&&Pv(e.schema,t),t)}if(i&&xv(o)&&o.wrapper&&(i=Mv(e,i,`ul,ol`).reverse()[0]||i),!i)for(i=n;i&&i[r]&&!e.isBlock(i[r])&&(i=i[r],!pv(i,`br`)););return i||n},Uv=(e,t,n,r)=>{let i=n.parentNode;return C(n[r])?!1:i===t||ne(i)||e.isBlock(i)?!0:Uv(e,t,i,r)},Wv=(e,t,n,r,i,a)=>{let o=n,s=i?`previousSibling`:`nextSibling`,c=e.getRoot();if(q(n)&&!Nv(n)&&(i?r>0:r<n.data.length))return n;for(;o;){if(hs(o))return n;if(!t[0].block_expand&&e.isBlock(o))return a?o:n;for(let t=o[s];t;t=t[s]){let n=q(t)&&!Uv(e,c,t,s);if(!jv(t)&&!Fv(t)&&!Nv(t,n))return o}if(o===c||o.parentNode===c){n=o;break}o=o.parentNode}return n},Gv=e=>jv(e.parentNode)||jv(e),Kv=(e,t,n,r={})=>{let{includeTrailingSpace:i=!1,expandToBlock:a=!0}=r,o=e.getParent(t.commonAncestorContainer,e=>hs(e)),s=C(o)?o:e.getRoot(),{startContainer:c,startOffset:l,endContainer:u,endOffset:d}=t,f=n[0];return qo(c)&&c.hasChildNodes()&&(c=gd(c,l),q(c)&&(l=0)),qo(u)&&u.hasChildNodes()&&(u=gd(u,t.collapsed?d:d-1),q(u)&&(d=u.data.length)),c=Iv(e,c),u=Iv(e,u),Gv(c)&&(c=jv(c)?c:c.parentNode,c=t.collapsed?c.previousSibling||c:c.nextSibling||c,q(c)&&(l=t.collapsed?c.length:0)),Gv(u)&&(u=jv(u)?u:u.parentNode,u=t.collapsed?u.nextSibling||u:u.previousSibling||u,q(u)&&(d=t.collapsed?0:u.length)),t.collapsed&&(Bv(e,s,c,l,!0,i).each(({container:e,offset:t})=>{c=e,l=t}),Bv(e,s,u,d,!1,i).each(({container:e,offset:t})=>{u=e,d=t})),(Tv(f)||f.block_expand)&&((!Tv(f)||!q(c)||l===0)&&(c=Wv(e,n,c,l,!0,a)),(!Tv(f)||!q(u)||d===u.data.length)&&(u=Wv(e,n,u,d,!1,a))),Dv(f)&&(c=Vv(e,n,t,c,`previousSibling`),u=Vv(e,n,t,u,`nextSibling`)),(xv(f)||wv(f))&&(c=Hv(e,n,c,`previousSibling`),u=Hv(e,n,u,`nextSibling`),xv(f)&&(e.isBlock(c)||(c=Wv(e,n,c,l,!0,a),q(c)&&(l=0)),e.isBlock(u)||(u=Wv(e,n,u,d,!1,a),q(u)&&(d=u.data.length)))),qo(c)&&c.parentNode&&(l=e.nodeIndex(c),c=c.parentNode),qo(u)&&u.parentNode&&(d=e.nodeIndex(u)+1,u=u.parentNode),{startContainer:c,startOffset:l,endContainer:u,endOffset:d}},qv=(e,t,n)=>{let r=t.startOffset,i=gd(t.startContainer,r),a=t.endOffset,o=gd(t.endContainer,a-1),s=e=>{let t=e[0];q(t)&&t===i&&r>=t.data.length&&e.splice(0,1);let n=e[e.length-1];return a===0&&e.length>0&&n===o&&q(n)&&e.splice(e.length-1,1),e},c=(e,t,n)=>{let r=[];for(;e&&e!==n;e=e[t])r.push(e);return r},l=(t,n)=>e.getParent(t,e=>e.parentNode===n,n),u=(e,t,r)=>{let i=r?`nextSibling`:`previousSibling`;for(let a=e,o=a.parentNode;a&&a!==t;a=o){o=a.parentNode;let t=c(a===e?a:a[i],i);t.length&&(r||t.reverse(),n(s(t)))}};if(i===o)return n(s([i]));let d=e.findCommonAncestor(i,o)??e.getRoot();if(e.isChildOf(i,o))return u(i,d,!0);if(e.isChildOf(o,i))return u(o,d);let f=l(i,d)||i,p=l(o,d)||o;u(i,f,!0);let m=c(f===i?f:f.nextSibling,`nextSibling`,p===o?p.nextSibling:p);m.length&&n(s(m)),u(o,p)},Jv=[`pre[class*=language-][contenteditable="false"]`,`figure.image`,`div[data-ephox-embed-iri]`,`div.tiny-pageembed`,`div.mce-toc`,`div[data-mce-toc]`,`div.mce-footnotes`],Yv=e=>Mr(e)&&Ca(e)===`﻿`,Xv=(e,t,n,r)=>Vr(t).fold(()=>`skipping`,i=>r===`br`||Yv(t)?`valid`:du(t)?`existing`:o_(t.dom)?`caret`:me(Jv,e=>vr(t,e))?`valid-block`:!sv(e,n,r)||!sv(e,Er(i),n)?`invalid-child`:`valid`),Zv=(e,t)=>{let n=Kv(e.dom,t,[{inline:`span`}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Qv=(e,t,n,r,i,a)=>{let{uid:o=t,...s}=n;Ha(e,ru()),Ai(e,`${au()}`,o),Ai(e,`${iu()}`,r);let{attributes:c={},classes:l=[]}=i(o,s);if(ji(e,c),K(e,l),a){l.length>0&&Ai(e,`${su()}`,l.join(`,`));let t=Re(c);t.length>0&&Ai(e,`${cu()}`,t.join(`,`))}},$v=e=>{Wa(e,ru()),Fi(e,`${au()}`),Fi(e,`${iu()}`),Fi(e,`${ou()}`);let t=Ni(e,`${cu()}`).map(e=>e.split(`,`)).getOr([]),n=Ni(e,`${su()}`).map(e=>e.split(`,`)).getOr([]);I(t,t=>Fi(e,t)),qa(e,n),Fi(e,`${su()}`),Fi(e,`${cu()}`)},ey=(e,t,n,r,i)=>{let a=W.fromTag(`span`,e);return Qv(a,t,n,r,i,!1),a},ty=(e,t,n,r,i,a)=>{let o=[],s=ey(e.getDoc(),n,a,r,i),c=Tt(),l=()=>{c.clear()},u=()=>c.get().getOrThunk(()=>{let e=Hi(s);return o.push(e),c.set(e),e}),d=e=>{I(e,f)},f=t=>{switch(Xv(e,t,`span`,Er(t))){case`invalid-child`:l(),d(Jr(t)),l();break;case`valid-block`:l(),Qv(t,n,a,r,i,!0);break;case`valid`:Ti(t,u());break}},p=e=>{d(he(e,W.fromDom))};return qv(e.dom,t,e=>{l(),p(e)}),o},ny=(e,t,n,r)=>{e.undoManager.transact(()=>{let i=e.selection,a=i.getRng(),o=z_(e).length>0,s=st(`mce-annotation`);if(a.collapsed&&!o&&Zv(e,a),i.getRng().collapsed&&!o){let a=ey(e.getDoc(),s,r,t,n.decorate);Yi(a,`\xA0`),i.getRng().insertNode(a.dom),i.select(a.dom)}else Y_(i,!1,()=>{J_(e,i=>{ty(e,i,s,t,n.decorate,r)})})})},ry=e=>{let t=_u();gu(e,t);let n=hu(e,t),r=Fr(`span`),i=e=>{I(e,e=>{r(e)?Bi(e):$v(e)})};return{register:(e,n)=>{t.register(e,n)},annotate:(n,r)=>{t.lookup(n).each(t=>{ny(e,n,t,r)})},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{uu(e,P.some(t)).each(({elements:t})=>{let n=e.selection.getBookmark();i(t),e.selection.moveToBookmark(n)})},removeAll:t=>{let n=e.selection.getBookmark();Be(mu(e,t),(e,t)=>{i(e)}),e.selection.moveToBookmark(n)},getAll:t=>Ve(mu(e,t),e=>he(e,e=>e.dom))}},iy=e=>({getBookmark:A(D_,e),moveToBookmark:A(O_,e)});iy.isBookmarkNode=k_;let ay=(e,t,n)=>n.collapsed?!1:me(n.getClientRects(),n=>dd(n,e,t)),oy=(e,t)=>{let n=Mr(t)?Ca(t).length:Jr(t).length+1;return e>n?n:e<0?0:e},sy=e=>Co.range(e.start,oy(e.soffset,e.start),e.finish,oy(e.foffset,e.finish)),cy=(e,t)=>!Ko(t.dom)&&(Cr(e,t)||Sr(e,t)),ly=e=>t=>cy(e,t.start)&&cy(e,t.finish),uy=e=>e.inline||Zn.browser.isFirefox(),dy=e=>Co.range(W.fromDom(e.startContainer),e.startOffset,W.fromDom(e.endContainer),e.endOffset),fy=e=>{let t=e.getSelection();return(!t||t.rangeCount===0?P.none():P.from(t.getRangeAt(0))).map(dy)},py=e=>fy(zr(e).dom).filter(ly(e)),my=(e,t)=>P.from(t).filter(ly(e)).map(sy),hy=e=>{let t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),P.some(t)}catch{return P.none()}},gy=e=>{let t=uy(e)?py(W.fromDom(e.getBody())):P.none();e.bookmark=t.isSome()?t:e.bookmark},_y=e=>(e.bookmark?e.bookmark:P.none()).bind(t=>my(W.fromDom(e.getBody()),t)).bind(hy),vy=e=>{_y(e).each(t=>e.selection.setRng(t))},yy={isEditorUIElement:e=>{let t=e.className.toString();return t.indexOf(`tox-`)!==-1||t.indexOf(`mce-`)!==-1}},by=(e,t)=>(re(t)||(t=0),window.setTimeout(e,t)),xy=(e,t)=>(re(t)||(t=0),window.setInterval(e,t)),Sy={setEditorTimeout:(e,t,n)=>by(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{let r=xy(()=>{e.removed?window.clearInterval(r):t()},n);return r}},Cy=e=>e.type===`nodechange`&&e.selectionChange,wy=(e,t)=>{let n=()=>{t.throttle()};ql.DOM.bind(document,`mouseup`,n),e.on(`remove`,()=>{ql.DOM.unbind(document,`mouseup`,n)})},Ty=(e,t)=>{e.on(`mouseup touchend`,e=>{t.throttle()})},Ey=(e,t)=>{Ty(e,t),e.on(`keyup NodeChange AfterSetSelectionRange`,t=>{Cy(t)||gy(e)})},Dy=e=>{let t=Bt(()=>{gy(e)},0);e.on(`init`,()=>{e.inline&&wy(e,t),Ey(e,t)}),e.on(`remove`,()=>{t.cancel()})},Oy,ky=ql.DOM,Ay=e=>qo(e)&&yy.isEditorUIElement(e),jy=e=>{let t=e.classList;return t===void 0?!1:t.contains(`tox-edit-area`)||t.contains(`tox-edit-area__iframe`)||t.contains(`mce-content-body`)},My=(e,t)=>{let n=Em(e);return ky.getParent(t,t=>Ay(t)||(n?e.dom.is(t,n):!1))!==null},Ny=e=>{try{return yi(ti(W.fromDom(e.getElement()))).fold(()=>document.body,e=>e.dom)}catch{return document.body}},Py=(e,t)=>{let n=t.editor;Dy(n);let r=(e,t)=>{mh(e)&&e.inline!==!0&&t(W.fromDom(e.getContainer()),`tox-edit-focus`)};n.on(`focusin`,()=>{let t=e.focusedEditor;jy(Ny(n))&&r(n,Ha),t!==n&&(t&&t.dispatch(`blur`,{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch(`focus`,{blurredEditor:t}),n.focus(!0))}),n.on(`focusout`,()=>{Sy.setEditorTimeout(n,()=>{let t=e.focusedEditor;(!jy(Ny(n))||t!==n)&&r(n,Wa),!My(n,Ny(n))&&t===n&&(n.dispatch(`blur`,{focusedEditor:null}),e.focusedEditor=null)})}),Oy||(Oy=t=>{let n=e.activeEditor;n&&oi(t).each(t=>{let r=t;r.ownerDocument===document&&r!==document.body&&!My(n,r)&&e.focusedEditor===n&&(n.dispatch(`blur`,{focusedEditor:null}),e.focusedEditor=null)})},ky.bind(document,`focusin`,Oy))},Fy=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Oy&&(ky.unbind(document,`focusin`,Oy),Oy=null)},Iy=e=>{e.on(`AddEditor`,A(Py,e)),e.on(`RemoveEditor`,A(Fy,e))},Ly=(e,t)=>e.dom.getParent(t,t=>e.dom.getContentEditable(t)===`true`),Ry=(e,t)=>e.dom.getParent(t,t=>e.dom.getContentEditable(t)===`false`)!==null,zy=e=>e.collapsed?P.from(gd(e.startContainer,e.startOffset)).map(W.fromDom):P.none(),By=(e,t)=>zy(t).bind(t=>Mu(t)?P.some(t):Cr(e,t)?P.none():P.some(e)),Vy=(e,t)=>{By(W.fromDom(e.getBody()),t).bind(e=>r_(e.dom)).fold(()=>{e.selection.normalize()},t=>e.selection.setRng(t.toRange()))},Hy=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Uy=e=>vi(e)||bi(e).isSome(),Wy=e=>C(e.iframeElement)&&vi(W.fromDom(e.iframeElement)),Gy=e=>{let t=e.getBody();return t&&Uy(W.fromDom(t))},Ky=e=>yi(ti(W.fromDom(e.getElement()))).filter(t=>!jy(t.dom)&&My(e,t.dom)).isSome(),qy=e=>e.inline?Gy(e):Wy(e),Jy=e=>qy(e)||Ky(e),Yy=e=>{let t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable();let i=e=>{_y(e).each(t=>{e.selection.setRng(t),r=t})};!qy(e)&&e.hasEditableRoot()&&i(e);let a=Ly(e,t.getNode());if(a&&e.dom.isChildOf(a,n)){Ry(e,a)||Hy(n),Hy(a),e.hasEditableRoot()||i(e),Vy(e,r),Xy(e);return}e.inline||(Zn.browser.isOpera()||Hy(n),e.getWin().focus()),(Zn.browser.isFirefox()||e.inline)&&(Hy(n),Vy(e,r)),Xy(e)},Xy=e=>e.editorManager.setActive(e),Zy=(e,t)=>{e.removed||(t?Xy(e):Yy(e))},$={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||$.metaKeyPressed(e),metaKeyPressed:e=>Zn.os.isMacOS()||Zn.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Qy=`data-mce-selected`,$y=`table,img,figure.image,hr,video,span.mce-preview-object,details,${Cs}`,eb=Math.abs,tb=Math.round,nb={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},rb=e=>e.type===`longpress`||e.type.indexOf(`touch`)===0,ib=(e,t)=>{let n=t.dom,r=t.getDoc(),i=document,a=t.getBody(),o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x=e=>C(e)&&(ds(e)||n.is(e,`figure.image`)),S=e=>ys(e)||n.hasClass(e,`mce-preview-object`),ee=(e,t)=>{if(rb(e)){let n=e.touches[0];return x(e.target)&&!ay(n.clientX,n.clientY,t)}else return x(e.target)&&!ay(e.clientX,e.clientY,t)},te=e=>{let n=e.target;ee(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},ne=e=>n.hasClass(e,`mce-preview-object`)&&C(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,`figure.image`)?[e.querySelector(`img`)]:[e],w=e=>{let r=fm(t);return!r||t.mode.isReadOnly()||e.getAttribute(`data-mce-resize`)===`false`||e===t.getBody()?!1:n.hasClass(e,`mce-preview-object`)&&C(e.firstElementChild)?vr(W.fromDom(e.firstElementChild),r):vr(W.fromDom(e),r)},re=(e,t)=>{if(S(t))return e.create(`img`,{src:Zn.transparentSrc});if(ns(t)){let n=At(l.name,`n`)?Ne:Pe,r=t.cloneNode(!0);return n(e.select(`tr`,r)).each(t=>{let n=e.select(`td,th`,t);e.setStyle(t,`height`,null),I(n,t=>e.setStyle(t,`height`,null))}),r}else return t.cloneNode(!0)},T=(e,r,i)=>{C(i)&&I(ne(e),e=>{if(e.style[r]||!t.schema.isValid(e.nodeName.toLowerCase(),r))n.setStyle(e,r,i);else if(ws(e))if(e[r]=i,e.width>400&&!(r===`width`&&i<400))e[r]=i,n.setAttrib(e,r,``+i);else{let t=r===`height`?400*h:400;e[r]=t,n.setAttrib(e,r,``+t)}else n.setAttrib(e,r,``+i)})},E=(e,t,n)=>{T(e,`width`,t),T(e,`height`,n)},ie=e=>{let r,i,u,ee,te;r=e.screenX-d,i=e.screenY-f,_=r*l[2]+p,v=i*l[3]+m,_=_<5?5:_,v=v<5?5:v,u=(x(o)||S(o)||ws(o))&&pm(t)!==!1?!$.modifierPressed(e):$.modifierPressed(e),u&&(eb(r)>eb(i)?(v=tb(_*h),_=tb(v/h)):(_=tb(v/h),v=tb(_*h))),E(s,_,v),ee=l.startPos.x+r,te=l.startPos.y+i,ee=ee>0?ee:0,te=te>0?te:0,n.setStyles(c,{left:ee,top:te,display:`block`}),c.innerHTML=_+` &times; `+v,r=a.scrollWidth-y,i=a.scrollHeight-b,r+i!==0&&n.setStyles(c,{left:ee-r,top:te-i}),g||=(ep(t,o,p,m,`corner-`+l.name),!0)},D=()=>{let e=g;g=!1,e&&(T(o,`width`,_),T(o,`height`,v)),n.unbind(r,`mousemove`,ie),n.unbind(r,`mouseup`,D),i!==r&&(n.unbind(i,`mousemove`,ie),n.unbind(i,`mouseup`,D)),n.remove(s),n.remove(c),n.remove(u),O(o),e&&(tp(t,o,_,v,`corner-`+l.name),n.setAttrib(o,`style`,n.getAttrib(o,`style`))),t.nodeChanged()},O=e=>{j();let g=n.getPos(e,a),x=g.x,S=g.y,ee=e.getBoundingClientRect(),te=ee.width||ee.right-ee.left,C=ee.height||ee.bottom-ee.top;o!==e&&(ae(),o=e,_=v=0);let T=t.dispatch(`ObjectSelected`,{target:e});w(e)&&!T.isDefaultPrevented()?Be(nb,(e,t)=>{let g=g=>{let _=ne(o)[0];d=g.screenX,f=g.screenY,p=_.clientWidth,m=_.clientHeight,h=m/p,l=e,l.name=t,l.startPos={x:te*e[0]+x,y:C*e[1]+S},y=a.scrollWidth,b=a.scrollHeight,u=n.add(a,`div`,{class:`mce-resize-backdrop`,"data-mce-bogus":`all`}),n.setStyles(u,{position:`fixed`,left:`0`,top:`0`,width:`100%`,height:`100%`}),s=re(n,o),n.addClass(s,`mce-clonedresizable`),n.setAttrib(s,`data-mce-bogus`,`all`),s.contentEditable=`false`,n.setStyles(s,{left:x,top:S,margin:0}),E(s,te,C),s.removeAttribute(Qy),a.appendChild(s),n.bind(r,`mousemove`,ie),n.bind(r,`mouseup`,D),i!==r&&(n.bind(i,`mousemove`,ie),n.bind(i,`mouseup`,D)),c=n.add(a,`div`,{class:`mce-resize-helper`,"data-mce-bogus":`all`},p+` &times; `+m)},_=n.get(`mceResizeHandle`+t);_&&n.remove(_),_=n.add(a,`div`,{id:`mceResizeHandle`+t,"data-mce-bogus":`all`,class:`mce-resizehandle`,unselectable:!0,style:`cursor:`+t+`-resize; margin:0; padding:0`}),n.bind(_,`mousedown`,e=>{e.stopImmediatePropagation(),e.preventDefault(),g(e)}),e.elm=_,n.setStyles(_,{left:te*e[0]+x-_.offsetWidth/2,top:C*e[1]+S-_.offsetHeight/2})}):ae(!1)},k=Bt(O,0),ae=(e=!0)=>{k.cancel(),j(),o&&e&&o.removeAttribute(Qy),Be(nb,(e,t)=>{let r=n.get(`mceResizeHandle`+t);r&&(n.unbind(r),n.remove(r))})},A=(e,t)=>n.isChildOf(e,t),oe=r=>{if(g||t.removed||t.composing)return;let i=r.type===`mousedown`?r.target:e.getNode(),o=Ia(W.fromDom(i),$y).map(e=>e.dom).filter(e=>n.isEditable(e.parentElement)||e.nodeName===`IMG`&&n.isEditable(e)).getOrUndefined(),s=C(o)?n.getAttrib(o,Qy,`1`):`1`;if(I(n.select(`img[${Qy}],hr[${Qy}]`),e=>{e.removeAttribute(Qy)}),C(o)&&A(o,a)&&Jy(t)&&(M(),A(e.getStart(!0),o)&&A(e.getEnd(!0),o))){n.setAttrib(o,Qy,s),k.throttle(o);return}ae()},j=()=>{Be(nb,e=>{e.elm&&(n.unbind(e.elm),delete e.elm)})},M=()=>{try{t.getDoc().execCommand(`enableObjectResizing`,!1,`false`)}catch{}};return t.on(`init`,()=>{M(),t.on(`NodeChange ResizeEditor ResizeWindow ResizeContent drop`,oe),t.on(`keyup compositionend`,e=>{o&&o.nodeName===`TABLE`&&oe(e)}),t.on(`hide blur`,ae),t.on(`contextmenu longpress`,te,!0)}),t.on(`remove`,j),{isResizable:w,showResizeRect:O,hideResizeRect:ae,updateResizeRect:oe,destroy:()=>{k.cancel(),o=s=u=null}}},ab=(e,t,n)=>No(zr(W.fromDom(n)).dom,e,t).map(e=>{let t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t}).getOrUndefined(),ob=(e,t)=>C(e)&&C(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,sb=(e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null},cb=(e,t,n)=>sb(e,t,n)!==null,lb=(e,t,n)=>cb(e,t,e=>e.nodeName===n),ub=(e,t)=>qu(e)&&!cb(e,t,o_),db=(e,t,n)=>{let r=t.parentNode;if(r){let i=new Lo(t,e.getParent(r,e.isBlock)||e.getRoot()),a;for(;a=i[n?`prev`:`next`]();)if(us(a))return!0}return!1},fb=(e,t)=>e.previousSibling?.nodeName===t,pb=(e,t)=>{let n=t;for(;n&&n!==e;){if(ms(n))return!0;n=n.parentNode}return!1},mb=(e,t,n,r,i)=>{let a=e.getRoot(),o=e.schema.getNonEmptyElements(),s=i.parentNode,c,l;if(!s)return P.none();let u=e.getParent(s,e.isBlock)||a;if(r&&us(i)&&t&&e.isEmpty(u))return P.some(X(s,e.nodeIndex(i)));let d=new Lo(i,u);for(;l=d[r?`prev`:`next`]();){if(e.getContentEditableParent(l)===`false`||ub(l,a))return P.none();if(q(l)&&l.data.length>0)return lb(l,a,`A`)?P.none():P.some(X(l,r?l.data.length:0));if(e.isBlock(l)||o[l.nodeName.toLowerCase()])return P.none();c=l}return ss(c)?P.none():n&&c?P.some(X(c,0)):P.none()},hb=(e,t,n,r)=>{let i=e.getRoot(),a,o=!1,s=n?r.startContainer:r.endContainer,c=n?r.startOffset:r.endOffset,l=qo(s)&&c===s.childNodes.length,u=e.schema.getNonEmptyElements(),d=n;if(qu(s))return P.none();if(qo(s)&&c>s.childNodes.length-1&&(d=!1),cs(s)&&(s=i,c=0),s===i){if(d&&(a=s.childNodes[c>0?c-1:0],a&&(qu(a)||u[a.nodeName]||ns(a))))return P.none();if(s.hasChildNodes()){if(c=Math.min(!d&&c>0?c-1:c,s.childNodes.length-1),s=s.childNodes[c],c=q(s)&&l?s.data.length:0,!t&&s===i.lastChild&&ns(s)||pb(i,s)||qu(s)||xs(s))return P.none();if(s.hasChildNodes()&&!ns(s)){a=s;let t=new Lo(s,i);do{if(ms(a)||qu(a)){o=!1;break}if(q(a)&&a.data.length>0){c=d?0:a.data.length,s=a,o=!0;break}if(u[a.nodeName.toLowerCase()]&&!_s(a)){c=e.nodeIndex(a),s=a.parentNode,d||c++,o=!0;break}}while(a=d?t.next():t.prev())}}}return t&&(q(s)&&c===0&&mb(e,l,t,!0,s).each(e=>{s=e.container(),c=e.offset(),o=!0}),qo(s)&&(a=s.childNodes[c],a||=s.childNodes[c-1],a&&us(a)&&!fb(a,`A`)&&!db(e,a,!1)&&!db(e,a,!0)&&mb(e,l,t,!0,a).each(e=>{s=e.container(),c=e.offset(),o=!0}))),d&&!t&&q(s)&&c===s.data.length&&mb(e,l,t,!1,s).each(e=>{s=e.container(),c=e.offset(),o=!0}),o&&s?P.some(X(s,c)):P.none()},gb=(e,t)=>{let n=t.collapsed,r=t.cloneRange(),i=X.fromRangeStart(t);return hb(e,n,!0,r).each(e=>{(!n||!X.isAbove(i,e))&&r.setStart(e.container(),e.offset())}),n||hb(e,n,!1,r).each(e=>{r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),ob(t,r)?P.none():P.some(r)},_b=(e,t)=>e.splitText(t),vb=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;if(t===r&&q(t)){if(n>0&&n<t.data.length)if(r=_b(t,n),t=r.previousSibling,i>n){i-=n;let e=_b(r,i).previousSibling;t=r=e,i=e.data.length,n=0}else i=0}else if(q(t)&&n>0&&n<t.data.length&&(t=_b(t,n),n=0),q(r)&&i>0&&i<r.data.length){let e=_b(r,i).previousSibling;r=e,i=e.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:i}},yb=e=>({walk:(t,n)=>qv(e,t,n),split:vb,expand:(t,n={type:`word`})=>{if(n.type===`word`){let n=Kv(e,t,[{inline:`span`}],{includeTrailingSpace:!1,expandToBlock:!1}),r=e.createRng();return r.setStart(n.startContainer,n.startOffset),r.setEnd(n.endContainer,n.endOffset),r}return t},normalize:t=>gb(e,t).fold(N,e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0))});yb.compareRanges=ob,yb.getCaretRangeFromPoint=ab,yb.getSelectedNode=hd,yb.getNode=gd;let bb=(e,t)=>e.view(t).fold(O([]),t=>{let n=bb(e,e.owner(t));return[t].concat(n)}),xb=(e,t)=>bb(t,t.owner(e));var Sb=Object.freeze({__proto__:null,view:e=>(e.dom===document?P.none():P.from(e.dom.defaultView?.frameElement)).map(W.fromDom),owner:e=>Lr(e)});let Cb=e=>{let t=_a(gi()),n=xb(e,Sb),r=ga(e),i=ye(n,(e,t)=>{let n=ga(t);return{left:e.left+n.left,top:e.top+n.top}},{left:0,top:0});return fa(i.left+r.left+t.left,i.top+r.top+t.top)},wb=e=>Er(e)===`textarea`,Tb=(e,t)=>e.dispatch(`ScrollIntoView`,t).isDefaultPrevented(),Eb=(e,t)=>{e.dispatch(`AfterScrollIntoView`,t)},Db=(e,t)=>{let n=Jr(e);if(n.length===0||wb(e))return{element:e,offset:t};if(t<n.length&&!wb(n[t]))return{element:n[t],offset:0};{let r=n[n.length-1];return wb(r)?{element:e,offset:t}:Er(r)===`img`?{element:r,offset:1}:Mr(r)?{element:r,offset:Ca(r).length}:{element:r,offset:Jr(r).length}}},Ob=(e,t)=>{let n=ha(e),r=ua(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},kb=(e,t)=>{let n=Db(e,t),r=W.fromHtml(`<span data-mce-bogus="all" style="display: inline-block;">﻿</span>`);return xi(n.element,r),Ob(r,()=>zi(r))},Ab=e=>Ob(W.fromDom(e),E),jb=(e,t,n,r)=>{Fb(e,(i,a)=>Nb(e,t,n,r),n)},Mb=(e,t,n,r,i)=>{let a={elm:r.element.dom,alignToTop:i};if(Tb(e,a))return;let o=_a(t).top;n(e,t,o,r,i),Eb(e,a)},Nb=(e,t,n,r)=>{let i=W.fromDom(e.getBody()),a=W.fromDom(e.getDoc());ca(i);let o=kb(W.fromDom(n.startContainer),n.startOffset);Mb(e,a,t,o,r),o.cleanup()},Pb=(e,t,n,r)=>{Mb(e,W.fromDom(e.getDoc()),n,Ab(t),r)},Fb=(e,t,n)=>{let r=n.startContainer,i=n.startOffset,a=n.endContainer,o=n.endOffset;t(W.fromDom(r),W.fromDom(a));let s=e.dom.createRng();s.setStart(r,i),s.setEnd(a,o),e.selection.setRng(n)},Ib=(e,t,n,r,i)=>{let a=t.pos;if(r)va(a.left,Math.max(0,a.top-30),i);else{let r=a.top-n+t.height+30;va(-e.getBody().getBoundingClientRect().left,r,i)}},Lb=(e,t,n,r,i,a)=>{let o=r+n,s=i.pos.top,c=i.bottom,l=c-s>=r;s<n?Ib(e,i,r,a!==!1,t):s>o?Ib(e,i,r,l?a!==!1:a===!0,t):c>o&&!l&&Ib(e,i,r,a===!0,t)},Rb=(e,t,n,r,i)=>{let a=zr(t).dom.innerHeight;Lb(e,t,n,a,r,i)},zb=(e,t,n,r,i)=>{let a=zr(t).dom.innerHeight;Lb(e,t,n,a,r,i);let o=Cb(r.element),s=Io(window);o.top<s.y?ya(r.element,i!==!1):o.top>s.bottom&&ya(r.element,i===!0)},Bb=(e,t,n)=>jb(e,Rb,t,n),Vb=(e,t,n)=>Pb(e,t,Rb,n),Hb=(e,t,n)=>jb(e,zb,t,n),Ub=(e,t,n)=>Pb(e,t,zb,n),Wb=(e,t,n)=>{(e.inline?Vb:Ub)(e,t,n)},Gb=(e,t,n)=>{(e.inline?Bb:Hb)(e,t,n)},Kb=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),qb=(e,t,n,r,i)=>{let a=n?t.startContainer:t.endContainer,o=n?t.startOffset:t.endOffset;return P.from(a).map(W.fromDom).map(e=>!r||!t.collapsed?Yr(e,i(e,o)).getOr(e):e).bind(e=>jr(e)?P.some(e):Br(e).filter(jr)).map(e=>e.dom).getOr(e)},Jb=(e,t,n=!1)=>qb(e,t,!0,n,(e,t)=>Math.min(Qr(e),t)),Yb=(e,t,n=!1)=>qb(e,t,!1,n,(e,t)=>t>0?t-1:t),Xb=(e,t)=>{let n=e;for(;e&&q(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},Zb=(e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer,i=t.startOffset,a=t.endOffset,o=t.commonAncestorContainer;t.collapsed||(n===r&&a-i<2&&n.hasChildNodes()&&(o=n.childNodes[i]),q(n)&&q(r)&&(n=n.length===i?Xb(n.nextSibling,!0):n.parentNode,r=a===0?Xb(r.previousSibling,!1):r.parentNode,n&&n===r&&(o=n)));let s=q(o)?o.parentNode:o;return Jo(s)?s:e},Qb=(e,t,n,r)=>{let i=[],a=e.getRoot(),o=e.getParent(n||Jb(a,t,t.collapsed),e.isBlock),s=e.getParent(r||Yb(a,t,t.collapsed),e.isBlock);if(o&&o!==a&&i.push(o),o&&s&&o!==s){let t,n=new Lo(o,a);for(;(t=n.next())&&t!==s;)e.isBlock(t)&&i.push(t)}return s&&o!==s&&s!==a&&i.push(s),i},$b=(e,t,n)=>P.from(t).bind(t=>P.from(t.parentNode).map(r=>{let i=e.nodeIndex(t),a=e.createRng();return a.setStart(r,i),a.setEnd(r,i+1),n&&(K_(e,a,t,!0),K_(e,a,t,!1)),a})),ex=(e,t)=>he(t,t=>{let n=e.dispatch(`GetSelectionRange`,{range:t});return n.range===t?t:n.range}),tx={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},nx=(e,t,n)=>{let r=n?`lastChild`:`firstChild`,i=n?`prev`:`next`;if(e[r])return e[r];if(e!==t){let n=e[i];if(n)return n;for(let r=e.parent;r&&r!==t;r=r.parent)if(n=r[i],n)return n}},rx=e=>{let t=e.value??``;if(!zo(t))return!1;let n=e.parent;return!(n&&(n.name!==`span`||n.attr(`style`))&&/^[ ]+$/.test(t))},ix=e=>{let t=e.name===`a`&&!e.attr(`href`)&&e.attr(`id`);return e.attr(`name`)||e.attr(`id`)&&!e.firstChild||e.attr(`data-mce-bookmark`)||t};class ax{static create(e,t){let n=new ax(e,tx[e]||1);return t&&Be(t,(e,t)=>{n.attr(t,e)}),n}name;type;attributes;value;parent;firstChild;lastChild;next;prev;raw;constructor(e,t){this.name=e,this.type=t,t===1&&(this.attributes=[],this.attributes.map={})}replace(e){let t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){let n=this;if(!v(e))return C(e)&&Be(e,(e,t)=>{n.attr(t,e)}),n;let r=n.attributes;if(r){if(t!==void 0){if(t===null){if(e in r.map){delete r.map[e];let t=r.length;for(;t--;)if(r[t].name===e)return r.splice(t,1),n}return n}if(e in r.map){let n=r.length;for(;n--;)if(r[n].name===e){r[n].value=t;break}}else r.push({name:e,value:t});return r.map[e]=t,n}return r.map[e]}}clone(){let e=this,t=new ax(e.name,e.type),n=e.attributes;if(n){let e=[];e.map={};for(let t=0,r=n.length;t<r;t++){let r=n[t];r.name!==`id`&&(e[e.length]={name:r.name,value:r.value},e.map[r.name]=r.value)}t.attributes=e}return t.value=e.value,t}wrap(e){let t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){let e=this;for(let t=e.firstChild;t;){let n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){let e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r&&(r.next=n),t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n&&(n.prev=r),e.parent=e.next=e.prev=null),e}append(e){let t=this;e.parent&&e.remove();let n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();let r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=r,e}getAll(e){let t=this,n=[];for(let r=t.firstChild;r;r=nx(r,t))r.name===e&&n.push(r);return n}children(){let e=this,t=[];for(let n=e.firstChild;n;n=n.next)t.push(n);return t}empty(){let e=this;if(e.firstChild){let t=[];for(let n=e.firstChild;n;n=nx(n,e))t.push(n);let n=t.length;for(;n--;){let e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){let r=this,i=r.firstChild;if(ix(r))return!1;if(i)do{if(i.type===1){if(i.attr(`data-mce-bogus`))continue;if(e[i.name]||ix(i))return!1}if(i.type===8||i.type===3&&!rx(i)||i.type===3&&i.parent&&t[i.parent.name]&&zo(i.value??``)||n&&n(i))return!1}while(i=nx(i,r));return!0}walk(e){return nx(this,null,e)}}let ox=U.makeMap(`NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT`,` `),sx=e=>v(e.nodeValue)&&e.nodeValue.includes(`﻿`),cx=e=>`${e.length===0?``:`${he(e,e=>`[${e}]`).join(`,`)},`}[data-mce-bogus="all"]`,lx=(e,t)=>t.querySelectorAll(cx(e)),ux=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,e=>sx(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),dx=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,e=>{if(sx(e)){let t=e.parentNode;return t&&Ye(ox,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),fx=e=>ux(e).nextNode()!==null,px=e=>dx(e).nextNode()!==null,mx=(e,t)=>t.querySelector(cx(e))!==null,hx=(e,t)=>{I(lx(e,t),t=>{let n=W.fromDom(t);Mi(n,`data-mce-bogus`)===`all`?zi(n):I(e,e=>{Pi(n,e)&&Fi(n,e)})})},gx=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},_x=ie(gx,ux),vx=ie(gx,dx),yx=(e,t)=>{let n=[{condition:A(mx,t),action:A(hx,t)},{condition:fx,action:_x},{condition:px,action:vx}],r=e,i=!1;return I(n,({condition:t,action:n})=>{t(r)&&(i||=(r=e.cloneNode(!0),!0),n(r))}),r},bx=e=>{I(no(e,`[data-mce-bogus]`),e=>{Mi(e,`data-mce-bogus`)===`all`?zi(e):Ou(e)?(xi(e,W.fromText(`﻿`)),zi(e)):Bi(e)})},xx=e=>{I(no(e,`input`),e=>{Fi(e,`name`)})},Sx=(e,t)=>{let n=Rp(e),r=RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s|\u00a0|<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(r,``)},Cx=(e,t)=>{let n=e.getDoc(),r=ti(W.fromDom(e.getBody())),i=W.fromTag(`div`,n);Ai(i,`data-mce-bogus`,`all`),na(i,{position:`fixed`,left:`-9999999px`,top:`0`}),Yi(i,t.innerHTML),bx(i),xx(i),wi(ri(r),i);let a=Vu(i.dom.innerText);return zi(i),a},wx=(e,t,n)=>{let r;return r=t.format===`raw`?U.trim(Vu(yx(n,e.serializer.getTempAttrs()).innerHTML)):t.format===`text`?Cx(e,n):t.format===`tree`?e.serializer.serialize(n,t):Sx(e,e.serializer.serialize(n,t)),t.format!==`text`&&!Pu(W.fromDom(n))&&v(r)?U.trim(r):r},Tx=(e,t)=>P.from(e.getBody()).fold(O(t.format===`tree`?new ax(`body`,11):``),n=>wx(e,t,n)),Ex=U.makeMap,Dx=e=>{let t=[];e||={};let n=e.indent,r=Ex(e.indent_before||``),i=Ex(e.indent_after||``),a=Rc.getEncodeFunc(e.entity_encoding||`raw`,e.entities),o=e.element_format!==`xhtml`;return{start:(e,s,c)=>{if(n&&r[e]&&t.length>0){let e=t[t.length-1];e.length>0&&e!==`
`&&t.push(`
`)}if(t.push(`<`,e),s)for(let e=0,n=s.length;e<n;e++){let n=s[e];t.push(` `,n.name,`="`,a(n.value,!0),`"`)}if(!c||o?t[t.length]=`>`:t[t.length]=` />`,c&&n&&i[e]&&t.length>0){let e=t[t.length-1];e.length>0&&e!==`
`&&t.push(`
`)}},end:e=>{let r;t.push(`</`,e,`>`),n&&i[e]&&t.length>0&&(r=t[t.length-1],r.length>0&&r!==`
`&&t.push(`
`))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:a(e))},cdata:e=>{t.push(`<![CDATA[`,e,`]]>`)},comment:e=>{t.push(`<!--`,e,`-->`)},pi:(e,r)=>{r?t.push(`<?`,e,` `,a(r),`?>`):t.push(`<?`,e,`?>`),n&&t.push(`
`)},doctype:e=>{t.push(`<!DOCTYPE`,e,`>`,n?`
`:``)},reset:()=>{t.length=0},getContent:()=>t.join(``).replace(/\n$/,``)}},Ox=(e={},t=ul())=>{let n=Dx(e);return e.validate=`validate`in e?e.validate:!0,{serialize:r=>{let i=e.validate,a={3:e=>{n.text(e.value??``,e.raw)},8:e=>{n.comment(e.value??``)},7:e=>{n.pi(e.name,e.value)},10:e=>{n.doctype(e.value??``)},4:e=>{n.cdata(e.value??``)},11:e=>{let t=e;if(t=t.firstChild)do o(t);while(t=t.next)}};n.reset();let o=e=>{let r=a[e.type];if(r)r(e);else{let r=e.name,a=r in t.getVoidElements(),s=e.attributes;if(i&&s&&s.length>1){let n=[];n.map={};let r=t.getElementRule(e.name);if(r){for(let e=0,t=r.attributesOrder.length;e<t;e++){let t=r.attributesOrder[e];if(t in s.map){let e=s.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=s.length;e<t;e++){let t=s[e].name;if(!(t in n.map)){let e=s.map[t];n.map[t]=e,n.push({name:t,value:e})}}s=n}}if(n.start(r,s,a),Rs(r))v(e.value)&&n.text(e.value,!0),n.end(r);else if(!a){let t=e.firstChild;if(t){(r===`pre`||r===`textarea`)&&t.type===3&&t.value?.[0]===`
`&&n.text(`
`,!0);do o(t);while(t=t.next)}n.end(r)}}};return r.type===1&&!e.inner?o(r):r.type===3?a[3](r):a[11](r),n.getContent()}}},kx=new Set;I(`margin.margin-left.margin-right.margin-top.margin-bottom.padding.padding-left.padding-right.padding-top.padding-bottom.border.border-width.border-style.border-color.background.background-attachment.background-clip.background-image.background-origin.background-position.background-repeat.background-size.float.position.left.right.top.bottom.z-index.display.transform.width.max-width.min-width.height.max-height.min-height.overflow.overflow-x.overflow-y.text-overflow.vertical-align.transition.transition-delay.transition-duration.transition-property.transition-timing-function`.split(`.`),e=>{kx.add(e)});let Ax=new Set;I([`background-color`],e=>{Ax.add(e)});let jx=[`font`,`text-decoration`,`text-emphasis`],Mx=(e,t)=>e.parseStyle(e.getAttrib(t,`style`)),Nx=(e,t)=>Re(Mx(e,t)),Px=e=>kx.has(e),Fx=e=>Ax.has(e),Ix=(e,t)=>me(Nx(e,t),e=>Px(e)),Lx=(e,t)=>Ix(e,t)&&me(Nx(e,t),e=>Fx(e)),Rx=e=>L(e,e=>me(jx,t=>At(e,t))),zx=(e,t,n)=>{let r=Nx(e,t),i=Nx(e,n),a=r=>{let i=e.getStyle(t,r)??``,a=e.getStyle(n,r)??``;return It(i)&&It(a)&&i!==a};return me(r,e=>{let t=t=>me(t,t=>t===e);return!t(i)&&t(jx)?me(Rx(i),a):a(e)})},Bx=(e,t,n)=>P.from(n.container()).filter(q).exists(r=>{let i=e?0:-1;return t(r.data.charAt(n.offset()+i))}),Vx=A(Bx,!0,j_),Hx=A(Bx,!1,j_),Ux=e=>{let t=e.container();return q(t)&&(t.data.length===0||Bu(t.data)&&iy.isBookmarkNode(t.parentNode))},Wx=(e,t)=>n=>vg(e?0:-1,n).filter(t).isSome(),Gx=e=>ds(e)&&ra(W.fromDom(e),`display`)===`block`,Kx=e=>ms(e)&&!ts(e),qx=Wx(!0,Gx),Jx=Wx(!1,Gx),Yx=Wx(!0,ys),Xx=Wx(!1,ys),Zx=Wx(!0,ns),Qx=Wx(!1,ns),$x=Wx(!0,Kx),eS=Wx(!1,Kx),tS=e=>e.slice(0,-1),nS=(e,t,n)=>Cr(t,e)?tS(Hr(e,e=>n(e)||Sr(e,t))):[],rS=(e,t)=>nS(e,t,N),iS=(e,t)=>[e].concat(rS(e,t)),aS=(e,t,n)=>$g(e,t,n,Ux),oS=e=>t=>e.isBlock(Er(t)),sS=(e,t,n)=>Se(iS(W.fromDom(t.container()),e),oS(n)),cS=(e,t,n,r)=>aS(e,t.dom,n).forall(e=>sS(t,n,r).fold(()=>!_g(e,n,t.dom),r=>!_g(e,n,t.dom)&&Cr(r,W.fromDom(e.container())))),lS=(e,t,n,r)=>sS(t,n,r).fold(()=>aS(e,t.dom,n).forall(e=>!_g(e,n,t.dom)),t=>aS(e,t.dom,n).isNone()),uS=A(lS,!1),dS=A(lS,!0),fS=A(cS,!1),pS=A(cS,!0),mS=e=>Dg(e).exists(Ou),hS=(e,t,n,r)=>Zg(e,Ne(L(iS(W.fromDom(n.container()),t),e=>r.isBlock(Er(e)))).getOr(t).dom,n).filter(mS),gS=(e,t,n)=>Dg(t).exists(Ou)||hS(!0,e,t,n).isSome(),_S=(e,t,n)=>Og(t).exists(Ou)||hS(!1,e,t,n).isSome(),vS=A(hS,!1),yS=A(hS,!0),bS=e=>X.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),xS=(e,t,n)=>Ne(L(iS(W.fromDom(t.container()),e),e=>n.isBlock(Er(e)))).getOr(e),SS=(e,t,n)=>bS(t)?Hx(t):Hx(t)||n_(xS(e,t,n).dom,t).exists(Hx),CS=(e,t,n)=>bS(t)?Vx(t):Vx(t)||t_(xS(e,t,n).dom,t).exists(Vx),wS=e=>pe([`pre`,`pre-wrap`],e),TS=e=>Dg(e).bind(e=>G(e,jr)).exists(e=>wS(ra(e,`white-space`))),ES=(e,t)=>n_(e.dom,t).isNone(),DS=(e,t)=>t_(e.dom,t).isNone(),OS=(e,t,n)=>ES(e,t)||DS(e,t)||uS(e,t,n)||dS(e,t,n)||_S(e,t,n)||gS(e,t,n),kS=e=>C(e)&&ms(e)&&ig(e),AS=(e,t)=>n=>kS(new Lo(n,e)[t]()),jS=(e,t)=>{let n=t_(e.dom,t).getOr(t),r=AS(e.dom,`next`);return t.isAtEnd()&&(r(t.container())||r(n.container()))},MS=(e,t)=>{let n=n_(e.dom,t).getOr(t),r=AS(e.dom,`prev`);return t.isAtStart()&&(r(t.container())||r(n.container()))},NS=(e,t,n)=>TS(t)?!1:OS(e,t,n)||SS(e,t,n)||CS(e,t,n),PS=(e,t,n)=>TS(t)?!1:uS(e,t,n)||fS(e,t,n)||_S(e,t,n)||SS(e,t,n)||MS(e,t),FS=e=>{let t=e.container(),n=e.offset();return q(t)&&n<t.data.length?X(t,n+1):e},IS=(e,t,n)=>TS(t)?!1:dS(e,t,n)||pS(e,t,n)||gS(e,t,n)||CS(e,t,n)||jS(e,t),LS=(e,t,n)=>PS(e,t,n)||IS(e,FS(t),n),RS=(e,t)=>A_(e.charAt(t)),zS=(e,t)=>j_(e.charAt(t)),BS=e=>{let t=e.container();return q(t)&&kt(t.data,`\xA0`)},VS=e=>{let t=e.split(``);return he(t,(e,n)=>A_(e)&&n>0&&n<t.length-1&&M_(t[n-1])&&M_(t[n+1])?` `:e).join(``)},HS=(e,t,n,r)=>{let i=t.data,a=X(t,0);return!n&&RS(i,0)&&!LS(e,a,r)?(t.data=` `+i.slice(1),!0):n&&zS(i,0)&&PS(e,a,r)?(t.data=`\xA0`+i.slice(1),!0):!1},US=e=>{let t=e.data,n=VS(t);return n===t?!1:(e.data=n,!0)},WS=(e,t,n,r)=>{let i=t.data,a=X(t,i.length-1);return!n&&RS(i,i.length-1)&&!LS(e,a,r)?(t.data=i.slice(0,-1)+` `,!0):n&&zS(i,i.length-1)&&IS(e,a,r)?(t.data=i.slice(0,-1)+`\xA0`,!0):!1},GS=(e,t,n)=>{let r=t.container();return q(r)?BS(t)?bt(HS(e,r,!1,n)||US(r)||WS(e,r,!1,n),t):LS(e,t,n)?bt(HS(e,r,!0,n)||WS(e,r,!0,n),t):P.none():P.none()},KS=e=>{let t=W.fromDom(e.getBody());e.selection.isCollapsed()&&GS(t,X.fromRangeStart(e.selection.getRng()),e.schema).each(t=>{e.selection.setRng(t.toRange())})},qS=(e,t,n,r)=>{if(n===0)return;let i=W.fromDom(e),a=Aa(i,e=>r.isBlock(Er(e))).getOr(i),o=e.data.slice(t,t+n),s=t+n>=e.data.length&&IS(a,X(e,e.data.length),r),c=t===0&&PS(a,X(e,0),r);e.replaceData(t,n,Wo(o,4,c,s))},JS=(e,t,n)=>{let r=e.data.slice(t);qS(e,t,r.length-Pt(r).length,n)},YS=(e,t,n)=>{let r=e.data.slice(0,t),i=r.length-Ft(r).length;qS(e,t-i,i,n)},XS=(e,t,n,r,i=!0)=>{let a=Ft(e.data).length,o=i?e:t,s=i?t:e;return i?o.appendData(s.data):o.insertData(0,s.data),zi(W.fromDom(s)),r&&JS(o,a,n),o},ZS=(e,t)=>{let n=e.container(),r=e.offset();return!X.isTextPosition(e)&&n===t.parentNode&&r>X.before(t).offset()},QS=(e,t)=>ZS(t,e)?X(t.container(),t.offset()-1):t,$S=e=>q(e)?X(e,0):X.before(e),eC=e=>q(e)?X(e,e.data.length):X.after(e),tC=e=>Ad(e.previousSibling)?P.some(eC(e.previousSibling)):e.previousSibling?i_(e.previousSibling):P.none(),nC=e=>Ad(e.nextSibling)?P.some($S(e.nextSibling)):e.nextSibling?r_(e.nextSibling):P.none(),rC=(e,t)=>P.from(t.previousSibling?t.previousSibling:t.parentNode).bind(t=>n_(e,X.before(t))).orThunk(()=>t_(e,X.after(t))),iC=(e,t)=>t_(e,X.after(t)).orThunk(()=>n_(e,X.before(t))),aC=(e,t)=>tC(t).orThunk(()=>nC(t)).orThunk(()=>rC(e,t)),oC=(e,t)=>nC(t).orThunk(()=>tC(t)).orThunk(()=>iC(e,t)),sC=(e,t,n)=>e?oC(t,n):aC(t,n),cC=(e,t,n)=>sC(e,t,n).map(A(QS,n)),lC=(e,t,n)=>{n.fold(()=>{e.focus()},n=>{e.selection.setRng(n.toRange(),t)})},uC=e=>t=>t.dom===e,dC=(e,t)=>t&&Ye(e.schema.getBlockElements(),Er(t)),fC=(e,t,n)=>{if(Fs(e,t)){let e=W.fromHtml(`<br data-mce-bogus="1">`);return n?I(Jr(t),e=>{Av(e)||zi(e)}):Ri(t),wi(t,e),P.some(X.before(e.dom))}else return P.none()},pC=(e,t,n,r)=>{let i=Wr(e).filter(Mr),a=Gr(e).filter(Mr);return zi(e),vt(i,a,t,(e,t,i)=>{let a=e.dom,o=t.dom,s=a.data.length;return XS(a,o,n,r),i.container()===o?X(a,s):i}).orThunk(()=>(r&&(i.each(e=>YS(e.dom,e.dom.length,n)),a.each(e=>JS(e.dom,0,n))),t))},mC=(e,t)=>Ye(e.schema.getTextInlineElements(),Er(t)),hC=(e,t,n,r=!0,i=!1)=>{let a=cC(t,e.getBody(),n.dom),o=Aa(n,A(dC,e),uC(e.getBody())),s=pC(n,a,e.schema,mC(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(``),e.selection.setCursorLocation()):o.bind(t=>fC(e.schema,t,i)).fold(()=>{r&&lC(e,t,s)},n=>{r&&lC(e,t,P.some(n))})},gC=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,_C=e=>gC.test(e),vC=(e,t)=>vr(W.fromDom(t),dm(e))&&!ic(e.schema,t)&&e.dom.isEditable(t),yC=e=>ql.DOM.getStyle(e,`direction`,!0)===`rtl`||_C(e.textContent??``),bC=(e,t,n)=>L(ql.DOM.getParents(n.container(),`*`,t),e),xC=(e,t,n)=>{let r=bC(e,t,n);return P.from(r[r.length-1])},SC=(e,t,n)=>{let r=gg(t,e),i=gg(n,e);return C(r)&&r===i},CC=e=>Xu(e)||Zu(e),wC=(e,t)=>{let n=t.container(),r=t.offset();return e?Ku(n)?q(n.nextSibling)?X(n.nextSibling,0):X.after(n):Xu(t)?X(n,r+1):t:Ku(n)?q(n.previousSibling)?X(n.previousSibling,n.previousSibling.data.length):X.before(n):Zu(t)?X(n,r-1):t},TC=A(wC,!0),EC=A(wC,!1),DC=(e,t)=>{let n=e=>e.stopImmediatePropagation();e.on(`beforeinput input`,n,!0),e.getDoc().execCommand(t),e.off(`beforeinput input`,n)},OC=e=>{e.execCommand(`delete`)},kC=e=>DC(e,`Delete`),AC=e=>DC(e,`ForwardDelete`),jC=e=>t=>mt(Br(t),e,Sr),MC=e=>ku(e)||ju(e),NC=(e,t)=>Cr(e,t)?G(t,MC,jC(e)):P.none(),PC=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent(``,{no_selection:!t})},FC=(e,t,n)=>_t(r_(n),i_(n),(r,i)=>{let a=wC(!0,r),o=wC(!1,i),s=wC(!1,t);return e?t_(n,s).exists(e=>e.isEqual(o)&&t.isEqual(a)):n_(n,s).exists(e=>e.isEqual(a)&&t.isEqual(o))}).getOr(!0),IC=e=>(kr(e)?Wr(e):Zr(e)).bind(IC).orThunk(()=>P.some(e)),LC=(e,t,n,r=!0)=>{t.deleteContents();let i=IC(n).getOr(n),a=W.fromDom(e.dom.getParent(i.dom,e.dom.isBlock)??n.dom);a.dom===e.getBody()?PC(e,r):Fs(e.schema,a,{checkRootAsContent:!1})&&(Ru(a),r&&e.selection.setCursorLocation(a.dom,0)),Sr(n,a)||I((mt(Br(a),n)?[]:Ur(a)).concat(Jr(n)),t=>{!Sr(t,a)&&!Cr(t,a)&&Fs(e.schema,t)&&zi(t)})},RC=e=>t=>Sr(e,t),zC=e=>no(e,`td,th`),BC=(e,t)=>B_(W.fromDom(e),t),VC=e=>_t(e.startTable,e.endTable,(t,n)=>{let r=ao(t,e=>Sr(e,n)),i=ao(n,e=>Sr(e,t));return!r&&!i?e:{...e,startTable:r?P.none():e.startTable,endTable:i?P.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),HC=e=>VC(e),UC=(e,t)=>{let n=BC(e.startContainer,t),r=BC(e.endContainer,t),i=n.isSome(),a=r.isSome(),o=_t(n,r,Sr).getOr(!1);return HC({startTable:n,endTable:r,isStartInTable:i,isEndInTable:a,isSameTable:o,isMultiTable:!o&&i&&a})},WC=(e,t)=>({start:e,end:t}),GC=(e,t,n)=>({rng:e,table:t,cells:n}),KC=Ze.generate([{singleCellTable:[`rng`,`cell`]},{fullTable:[`table`]},{partialTable:[`cells`,`outsideDetails`]},{multiTable:[`startTableCells`,`endTableCells`,`betweenRng`]}]),qC=(e,t)=>Ia(W.fromDom(e),`td,th`,t),JC=e=>!Sr(e.start,e.end),YC=(e,t)=>B_(e.start,t).bind(n=>B_(e.end,t).bind(e=>bt(Sr(n,e),n))),XC=(e,t)=>!JC(e)&&YC(e,t).exists(e=>{let t=e.dom.rows;return t.length===1&&t[0].cells.length===1}),ZC=(e,t)=>_t(qC(e.startContainer,t),qC(e.endContainer,t),WC),QC=e=>t=>B_(t,e).bind(e=>Pe(zC(e)).map(e=>WC(t,e))),$C=e=>t=>B_(t,e).bind(e=>Ne(zC(e)).map(e=>WC(e,t))),ew=e=>t=>YC(t,e).map(e=>GC(t,e,zC(e))),tw=(e,t,n,r)=>{if(n.collapsed||!e.forall(JC))return P.none();if(t.isSameTable){let t=e.bind(ew(r));return P.some({start:t,end:t})}else{let e=qC(n.startContainer,r),t=qC(n.endContainer,r),i=e.bind(QC(r)).bind(ew(r)),a=t.bind($C(r)).bind(ew(r));return P.some({start:i,end:a})}},nw=(e,t)=>Ce(e,e=>Sr(e,t)),rw=e=>_t(nw(e.cells,e.rng.start),nw(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),iw=(e,t,n)=>e.exists(e=>XC(e,n)&&G_(e.start,t)),aw=(e,t)=>{let{startTable:n,endTable:r}=t,i=e.cloneRange();return n.each(e=>i.setStartAfter(e.dom)),r.each(e=>i.setEndBefore(e.dom)),i},ow=(e,t,n,r)=>tw(e,t,n,r).bind(({start:e,end:t})=>e.or(t)).bind(e=>{let{isSameTable:r}=t,i=rw(e).getOr([]);if(r&&e.cells.length===i.length)return P.some(KC.fullTable(e.table));if(i.length>0){if(r)return P.some(KC.partialTable(i,P.none()));{let e=aw(n,t);return P.some(KC.partialTable(i,P.some({...t,rng:e})))}}else return P.none()}),sw=(e,t,n,r)=>tw(e,t,n,r).bind(({start:e,end:r})=>{let i=e.bind(rw).getOr([]),a=r.bind(rw).getOr([]);if(i.length>0&&a.length>0){let e=aw(n,t);return P.some(KC.multiTable(i,a,e))}else return P.none()}),cw=(e,t)=>{let n=RC(e),r=ZC(t,n),i=UC(t,n);return iw(r,t,n)?r.map(e=>KC.singleCellTable(t,e.start)):i.isMultiTable?sw(r,i,t,n):ow(r,i,t,n)},lw=e=>I(e,e=>{Fi(e,`contenteditable`),Ru(e)}),uw=(e,t)=>P.from(e.dom.getParent(t,e.dom.isBlock)).map(W.fromDom),dw=(e,t,n)=>{n.each(n=>{t?zi(n):(Ru(n),e.selection.setCursorLocation(n.dom,0))})},fw=(e,t,n,r)=>{let i=n.cloneRange();r?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(t.dom.lastChild)):(i.setStartBefore(t.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),gw(e,i,t,!1).each(e=>e())},pw=e=>{let t=z_(e),n=W.fromDom(e.selection.getNode());gs(n.dom)&&Fs(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&me(t,e=>Sr(e,n))&&Ai(n,`data-mce-selected`,`1`)},mw=(e,t,n)=>P.some(()=>{let r=e.selection.getRng();lw(n.bind(({rng:n,isStartInTable:i})=>{let a=uw(e,i?n.endContainer:n.startContainer);n.deleteContents(),dw(e,i,a.filter(A(Fs,e.schema)));let o=i?t[0]:t[t.length-1];return fw(e,o,r,i),Fs(e.schema,o)?P.none():P.some(i?t.slice(1):t.slice(0,-1))}).getOr(t)),pw(e)}),hw=(e,t,n,r)=>P.some(()=>{let i=e.selection.getRng(),a=t[0],o=n[n.length-1];fw(e,a,i,!0),fw(e,o,i,!1);let s=Fs(e.schema,a)?t:t.slice(1),c=Fs(e.schema,o)?n:n.slice(0,-1);lw(s.concat(c)),r.deleteContents(),pw(e)}),gw=(e,t,n,r=!0)=>P.some(()=>{LC(e,t,n,r)}),_w=(e,t)=>P.some(()=>hC(e,!1,t)),vw=(e,t,n)=>cw(t,n).bind(t=>t.fold(A(gw,e),A(_w,e),A(mw,e),A(hw,e))),yw=(e,t)=>Tw(e,t),bw=(e,t,n,r)=>Cw(t,r).fold(()=>vw(e,t,n),t=>yw(e,t)),xw=(e,t,n)=>{let r=W.fromDom(e.getBody()),i=e.selection.getRng();return n.length===0?bw(e,r,i,t):mw(e,n,P.none())},Sw=(e,t)=>Se(iS(t,e),Nu),Cw=(e,t)=>Se(iS(t,e),Fr(`caption`)),ww=(e,t,n,r,i)=>Qg(n,e.getBody(),i).bind(e=>Sw(t,W.fromDom(e.getNode())).bind(e=>Sr(e,r)?P.none():P.some(E))),Tw=(e,t)=>P.some(()=>{Ru(t),e.selection.setCursorLocation(t.dom,0)}),Ew=(e,t,n,r)=>r_(e.dom).bind(i=>i_(e.dom).map(e=>t?n.isEqual(i)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(i))).getOr(!0),Dw=(e,t)=>Tw(e,t),Ow=(e,t,n)=>Cw(e,W.fromDom(n.getNode())).fold(()=>P.some(E),e=>bt(!Sr(e,t),E)),kw=(e,t,n,r,i)=>Qg(n,e.getBody(),i).fold(()=>P.some(E),a=>Ew(r,n,i,a)?Dw(e,r):Ow(t,r,a)),Aw=(e,t,n,r)=>{let i=X.fromRangeStart(e.selection.getRng());return Sw(n,r).bind(r=>Fs(e.schema,r,{checkRootAsContent:!1})?Tw(e,r):ww(e,n,t,r,i))},jw=(e,t,n,r)=>{let i=X.fromRangeStart(e.selection.getRng());return Fs(e.schema,r)?Tw(e,r):kw(e,n,t,r,i)},Mw=(e,t)=>e?Zx(t):Qx(t),Nw=(e,t)=>{let n=X.fromRangeStart(e.selection.getRng());return Mw(t,n)||Zg(t,e.getBody(),n).exists(e=>Mw(t,e))},Pw=(e,t,n)=>{let r=W.fromDom(e.getBody());return Cw(r,n).fold(()=>Aw(e,t,r,n).orThunk(()=>bt(Nw(e,t),E)),n=>jw(e,t,r,n))},Fw=(e,t)=>{let n=W.fromDom(e.selection.getStart(!0)),r=z_(e);return e.selection.isCollapsed()&&r.length===0?Pw(e,t,n):xw(e,n,r)},Iw=(e,t)=>{let n=t;for(;n&&n!==e;){if(ps(n)||ms(n))return n;n=n.parentNode}return null},Lw=[`data-ephox-`,`data-mce-`,`data-alloy-`,`data-snooker-`,`_`],Rw=U.each,zw=e=>{let t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;let r=e=>{let n={};return Rw(t.getAttribs(e),r=>{let a=r.nodeName.toLowerCase();a!==`style`&&!i(a)&&(n[a]=t.getAttrib(e,a))}),n},a=(e,t)=>{for(let n in e)if(Ye(e,n)){let r=t[n];if(te(r)||e[n]!==r)return!1;delete t[n]}for(let e in t)if(Ye(t,e))return!1;return!0};return qo(e)&&qo(n)&&(!a(r(e),r(n))||!a(t.parseStyle(t.getAttrib(e,`style`)),t.parseStyle(t.getAttrib(n,`style`))))?!1:!k_(e)&&!k_(n)},i=e=>me(Lw,t=>At(e,t))||n.has(e);return{compare:r,isAttributeInternal:i}},Bw=(e,t)=>{if(q(e))return{container:e,offset:t};let n=yb.getNode(e,t);return q(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&q(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&q(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},Vw=e=>{let t=e.cloneRange(),n=Bw(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);let r=Bw(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},Hw=ql.DOM,Uw=()=>Hw.create(`span`,{"data-mce-type":`bookmark`}),Ww=(e,t,n)=>{if(qo(e)){let r=n();return e.hasChildNodes()?t===e.childNodes.length?e.appendChild(r):e.insertBefore(r,e.childNodes[t]):e.appendChild(r),{container:r,offset:0}}else return{container:e,offset:t}},Gw=(e,t)=>{let n=e=>{let t=e.parentNode?.firstChild,n=0;for(;t;){if(t===e)return n;(!qo(t)||t.getAttribute(`data-mce-type`)!==`bookmark`)&&n++,t=t.nextSibling}return-1};if(qo(e)&&C(e.parentNode)){let r=e;t=n(e),e=e.parentNode,Hw.remove(r),!e.hasChildNodes()&&Hw.isBlock(e)&&e.appendChild(Hw.create(`br`))}return{container:e,offset:t}},Kw=(e,t,n,r)=>{let i=Hw.createRng();return i.setStart(e,t),i.setEnd(n,r),Vw(i)},qw=(e,t=Uw)=>{let{container:n,offset:r}=Ww(e.startContainer,e.startOffset,t);if(e.collapsed)return{startContainer:n,startOffset:r};{let{container:i,offset:a}=Ww(e.endContainer,e.endOffset,t);return{startContainer:n,startOffset:r,endContainer:i,endOffset:a}}},Jw=e=>{let{container:t,offset:n}=Gw(e.startContainer,e.startOffset);if(!te(e.endContainer)&&!te(e.endOffset)){let{container:r,offset:i}=Gw(e.endContainer,e.endOffset);return Kw(t,n,r,i)}else return Kw(t,n,t,n)},Yw=(e,t,n,r)=>{if(U.each(n.styles,(n,i)=>{e.setStyle(t,i,fv(n,r))}),n.styles){let n=e.getAttrib(t,`style`);n&&e.setAttrib(t,`data-mce-style`,n)}},Xw=(e,t,n,r,i)=>{let a=e.dom;w(n.onformat)&&n.onformat(t,n,r,i),Yw(a,t,n,r),U.each(n.attributes,(e,n)=>{a.setAttrib(t,n,fv(e,r))}),U.each(n.classes,e=>{let n=fv(e,r);a.hasClass(t,n)||a.addClass(t,n)})},Zw=e=>!x(e.attributes)&&!x(e.styles),Qw=pv,$w=(e,t,n)=>{let r=e.formatter.get(n);if(r)for(let n=0;n<r.length;n++){let i=r[n];if(wv(i)&&i.inherit===!1&&e.dom.is(t,i.selector))return!0}return!1},eT=(e,t,n,r,i)=>{let a=e.dom.getRoot();return t===a?!1:!!rT(e,e.dom.getParent(t,t=>$w(e,t,n)?!0:t.parentNode===a||!!rT(e,t,n,r,!0)),n,r,i)},tT=(e,t,n)=>Tv(n)&&Qw(t,n.inline)||xv(n)&&Qw(t,n.block)?!0:wv(n)?qo(t)&&e.is(t,n.selector):!1,nT=(e,t,n,r,i,a)=>{let o=n[r],s=r===`attributes`;if(w(n.onmatch))return n.onmatch(t,n,r);if(o){if(Kt(o)){for(let n=0;n<o.length;n++)if(s?e.getAttrib(t,o[n]):hv(e,t,o[n]))return!0}else for(let r in o)if(Ye(o,r)){let c=s?e.getAttrib(t,r):hv(e,t,r),l=fv(o[r],a),u=ne(c)||Lt(c);if(u&&ne(l))continue;if(i&&u&&!n.exact||(!i||n.exact)&&!Qw(c,mv(l,r)))return!1}}return!0},rT=(e,t,n,r,i)=>{let a=e.formatter.get(n),o=e.dom;if(a&&qo(t))for(let n=0;n<a.length;n++){let s=a[n];if(tT(e.dom,t,s)&&nT(o,t,s,`attributes`,i,r)&&nT(o,t,s,`styles`,i,r)){let n=s.classes;if(n){for(let i=0;i<n.length;i++)if(!e.dom.hasClass(t,fv(n[i],r)))return}return s}}},iT=(e,t,n,r,i)=>{if(r)return eT(e,r,t,n,i);if(r=e.selection.getNode(),eT(e,r,t,n,i))return!0;let a=e.selection.getStart();return!!(a!==r&&eT(e,a,t,n,i))},aT=(e,t,n)=>{let r=[],i={},a=e.selection.getStart();return e.dom.getParent(a,a=>{for(let o=0;o<t.length;o++){let s=t[o];!i[s]&&rT(e,a,s,n)&&(i[s]=!0,r.push(s))}},e.dom.getRoot()),r},oT=(e,t)=>{let n=t=>Sr(t,W.fromDom(e.getBody())),r=(t,n)=>rT(e,t.dom,n)?P.some(n):P.none();return P.from(e.selection.getStart(!0)).bind(e=>uo(W.fromDom(e),e=>Ie(t,t=>r(e,t)),n)).getOrNull()},sT=(e,t)=>{let n=e.formatter.get(t),r=e.dom;if(n&&e.selection.isEditable()){let t=_v(r,e.selection.getStart());for(let e=n.length-1;e>=0;e--){let i=n[e];if(!wv(i))return!0;for(let e=t.length-1;e>=0;e--)if(r.is(t[e],i.selector))return!0}}return!1},cT=(e,t,n)=>be(n,(n,r)=>{let i=yv(e,r);return e.formatter.matchNode(t,r,{},i)?n.concat([r]):n},[]),lT=(e,t)=>e.importNode(t,!0),uT=e=>{if(e){let t=new Lo(e,e);for(let e=t.current();e;e=t.next())if(q(e))return e}return null},dT=e=>{let t=W.fromTag(`span`);return ji(t,{id:a_,"data-mce-bogus":`1`,"data-mce-type":`format-caret`}),e&&wi(t,W.fromText(`﻿`)),t},fT=e=>{let t=uT(e);return t&&t.data.charAt(0)===`﻿`&&t.deleteData(0,1),t},pT=(e,t,n)=>{let r=e.dom,i=e.selection;if(kv(t))hC(e,!1,W.fromDom(t),n,!0);else{let e=i.getRng(),n=r.getParent(t,r.isBlock),a=e.startContainer,o=e.startOffset,s=e.endContainer,c=e.endOffset,l=fT(t);r.remove(t,!0),a===l&&o>0&&e.setStart(l,o-1),s===l&&c>0&&e.setEnd(l,c-1),n&&r.isEmpty(n)&&Ru(W.fromDom(n)),i.setRng(e)}},mT=(e,t,n)=>{let r=e.dom,i=e.selection;if(t)pT(e,t,n);else if(t=s_(e.getBody(),i.getStart()),!t)for(;t=r.get(a_);)pT(e,t,n)},hT=(e,t,n)=>{let r=e.dom,i=r.getParent(n,A(ov,e.schema));i&&r.isEmpty(i)?n.parentNode?.replaceChild(t,n):(Iu(W.fromDom(n)),r.isEmpty(n)?n.parentNode?.replaceChild(t,n):r.insertAfter(t,n))},gT=(e,t)=>(e.appendChild(t),t),_T=(e,t)=>{let n=ye(e,(e,t)=>gT(e,t.cloneNode(!1)),t);return gT(n,(n.ownerDocument??document).createTextNode(`﻿`))},vT=(e,t,n,r,i,a)=>{let o=e.formatter,s=e.dom;if(L(cT(e,n,L(Re(o.get()),e=>e!==r&&!kt(e,`removeformat`))),t=>!bv(e,t,r)).length>0){let e=n.cloneNode(!1);return s.add(t,e),o.remove(r,i,e,a),s.remove(e),P.some(e)}else return P.none()},yT=e=>Ta(e,Ca(e).replace(RegExp(`\xA0$`),` `)),bT=(e,t)=>{let n=()=>{t!==null&&!e.dom.isEmpty(t)&&Wr(W.fromDom(t)).each(e=>{Mr(e)?yT(e):Na(e,e=>Mr(e)).each(e=>{Mr(e)&&yT(e)})})};e.once(`input`,t=>{t.data&&!j_(t.data)&&(t.isComposing?e.once(`compositionend`,()=>{n()}):n())})},xT=(e,t,n)=>{let r,i=e.selection,a=e.formatter.get(t);if(!a)return;let o=i.getRng(),s=o.startOffset,c=o.startContainer.nodeValue;r=s_(e.getBody(),i.getStart());let l=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&s>0&&s<c.length&&l.test(c.charAt(s))&&l.test(c.charAt(s-1))){let r=i.getBookmark();o.collapse(!0);let s=Kv(e.dom,o,a);s=vb(s),e.formatter.apply(t,n,s),i.moveToBookmark(r)}else{let a=r?uT(r):null;!r||a?.data!==`﻿`?(r=lT(e.getDoc(),dT(!0).dom),a=r.firstChild,o.insertNode(r),s=1,bT(e,r),e.formatter.apply(t,n,r)):e.formatter.apply(t,n,r),i.setCursorLocation(a,s)}},ST=(e,t,n,r)=>{let i=e.dom,a=e.selection,o=!1,s=e.formatter.get(t);if(!s)return;let c=a.getRng(),l=c.startContainer,u=c.startOffset,d=l;q(l)&&(u!==l.data.length&&(o=!0),d=d.parentNode);let f=[],p;for(;d;){if(rT(e,d,t,n,r)){p=d;break}d.nextSibling&&(o=!0),f.push(d),d=d.parentNode}if(p)if(o){let o=a.getBookmark();c.collapse(!0);let l=Kv(i,c,s,{includeTrailingSpace:!0});l=vb(l),e.formatter.remove(t,n,l,r),a.moveToBookmark(o)}else{let o=s_(e.getBody(),p),s=C(o)?i.getParents(p.parentNode,ce,o):[],c=dT(!1).dom;hT(e,c,o??p);let l=vT(e,c,p,t,n,r),u=_T([...f,...l.toArray(),...s],c);o&&pT(e,o,C(o)),a.setCursorLocation(u,1),bT(e,c),i.isEmpty(p)&&i.remove(p)}},CT=(e,t,n)=>{let r=e.selection,i=e.getBody();mT(e,null,n),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===`﻿`&&mT(e,s_(i,r.getStart()),!0),(t===37||t===39)&&mT(e,s_(i,r.getStart()),!0)},wT=e=>q(e)&&jt(e.data,`\xA0`),TT=e=>{e.on(`mouseup keydown`,t=>{CT(e,t.keyCode,wT(e.selection.getRng().endContainer))})},ET=e=>{let t=dT(!1);return{caretContainer:t,caretPosition:X(_T(e,t.dom),0)}},DT=(e,t)=>{let{caretContainer:n,caretPosition:r}=ET(t);return xi(W.fromDom(e),n),zi(W.fromDom(e)),r},OT=(e,t)=>{let{caretContainer:n,caretPosition:r}=ET(t);return e.insertNode(n.dom),r},kT=(e,t)=>o_(t.dom)?!1:Ye(e.schema.getTextInlineElements(),Er(t))&&!o_(t.dom)&&!es(t.dom),AT=[`fontWeight`,`fontStyle`,`color`,`fontSize`,`fontFamily`],jT=e=>y(e.styles)&&me(Re(e.styles),e=>pe(AT,e)),MT=e=>Se(e,e=>Tv(e)&&e.inline===`span`&&jT(e)),NT=(e,t)=>{let n=e.get(t);return x(n)?MT(n):P.none()},PT=(e,t)=>n_(t,X.fromRangeStart(e)).isNone(),FT=(e,t)=>t_(t,X.fromRangeEnd(e)).exists(e=>!us(e.getNode())||t_(t,e).isSome())===!1,IT=e=>t=>bs(t)&&e.isEditable(t),LT=e=>{let t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return PT(n,t[0])&&FT(n,t[0])?t:[];{let e=Ne(t).filter(e=>PT(n,e)).toArray(),r=Pe(t).filter(e=>FT(n,e)).toArray(),i=t.slice(1,-1);return e.concat(i).concat(r)}},RT=e=>L(LT(e),IT(e.dom)),zT=e=>L(e.getSelectedBlocks(),IT(e.dom)),BT=U.each,VT=e=>qo(e)&&!k_(e)&&!o_(e)&&!es(e),HT=(e,t)=>{for(let n=e;n;n=n[t]){if(q(n)&&It(n.data))return e;if(qo(n)&&!k_(n))return n}return e},UT=(e,t,n)=>{let r=zw(e),i=Jo(t)&&e.dom.isEditable(t),a=Jo(n)&&e.dom.isEditable(n);if(i&&a){let i=HT(t,`previousSibling`),a=HT(n,`nextSibling`);if(r.compare(i,a)){for(let e=i.nextSibling;e&&e!==a;){let t=e;e=e.nextSibling,i.appendChild(t)}return e.dom.remove(a),U.each(U.grep(a.childNodes),e=>{i.appendChild(e)}),i}}return n},WT=(e,t,n,r)=>{if(r&&t.merge_siblings!==!1){let t=UT(e,av(r),r)??r;UT(e,t,av(t,!0))}},GT=(e,t,n)=>{if(t.clear_child_styles){let r=t.links?`*:not(a)`:`*`;BT(e.select(r,n),n=>{VT(n)&&e.isEditable(n)&&BT(t.styles,(t,r)=>{e.setStyle(n,r,``)})})}},KT=(e,t,n)=>{BT(e.childNodes,e=>{VT(e)&&(t(e)&&n(e),e.hasChildNodes()&&KT(e,t,n))})},qT=(e,t)=>{t.nodeName===`SPAN`&&e.getAttribs(t).length===0&&e.remove(t,!0)},JT=(e,t)=>n=>!!(n&&hv(e,n,t)),YT=(e,t,n)=>r=>{e.setStyle(r,t,n),r.getAttribute(`style`)===``&&r.removeAttribute(`style`),qT(e,r)},XT=Ze.generate([{keep:[]},{rename:[`name`]},{removed:[]}]),ZT=/^(src|href|style)$/,QT=U.each,$T=pv,eE=e=>/^(TR|TH|TD)$/.test(e.nodeName),tE=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),nE=(e,t,n)=>{let r=t[n?`startContainer`:`endContainer`],i=t[n?`startOffset`:`endOffset`];if(qo(r)){let e=r.childNodes.length-1;!n&&i&&i--,r=r.childNodes[i>e?e:i]}return q(r)&&n&&i>=r.data.length&&(r=new Lo(r,e.getBody()).next()||r),q(r)&&!n&&i===0&&(r=new Lo(r,e.getBody()).prev()||r),r},rE=(e,t)=>{let n=t?`firstChild`:`lastChild`,r=e[n];return eE(e)&&r?e.nodeName===`TR`&&r[n]||r:e},iE=(e,t,n,r)=>{let i=e.create(n,r);return t.parentNode?.insertBefore(i,t),i.appendChild(t),i},aE=(e,t,n,r,i)=>{let a=W.fromDom(t),o=W.fromDom(e.create(r,i));return Oi(o,n?qr(a):Kr(a)),n?(xi(a,o),Ci(o,a)):(Si(a,o),wi(o,a)),o.dom},oE=(e,t)=>t.links&&e.nodeName===`A`,sE=(e,t,n)=>{let r=t.parentNode,i,a=e.dom,o=Rp(e);xv(n)&&r===a.getRoot()&&(!n.list_block||!$T(t,n.list_block))&&I(Fe(t.childNodes),t=>{sv(e,o,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=iE(a,t,o),a.setAttribs(i,zp(e))):i=null}),!(Ev(n)&&!$T(n.inline,t))&&a.remove(t,!0)},cE=(e,t,n)=>re(e)?{name:t,value:null}:{name:e,value:fv(t,n)},lE=(e,t)=>{e.getAttrib(t,`style`)===``&&(t.removeAttribute(`style`),t.removeAttribute(`data-mce-style`))},uE=(e,t,n,r,i)=>{let a=!1;QT(n.styles,(o,s)=>{let{name:c,value:l}=cE(s,o,r),u=mv(l,c);(n.remove_similar||S(l)||!qo(i)||$T(hv(e,i,c),u))&&e.setStyle(t,c,``),a=!0}),a&&lE(e,t)},dE=(e,t,n)=>{t===`removeformat`?I(zT(e.selection),t=>{I(AT,n=>e.dom.setStyle(t,n,``)),lE(e.dom,t)}):NT(e.formatter,t).each(t=>{I(zT(e.selection),r=>uE(e.dom,r,t,n,null))})},fE=(e,t,n,r,i)=>{let a=e.dom,o=zw(e),s=e.schema;if(Tv(t)&&nc(s,t.inline)&&ic(s,r)&&r.parentElement===e.getBody())return sE(e,r,t),XT.removed();if(!t.ceFalseOverride&&r&&a.getContentEditableParent(r)===`false`||r&&!tT(a,r,t)&&!oE(r,t))return XT.keep();let c=r,l=t.preserve_attributes;if(Tv(t)&&t.remove===`all`&&x(l)){let e=L(a.getAttribs(c),e=>pe(l,e.name.toLowerCase()));if(a.removeAllAttribs(c),I(e,e=>a.setAttrib(c,e.name,e.value)),e.length>0)return XT.rename(`span`)}if(t.remove!==`all`){uE(a,c,t,n,i),QT(t.attributes,(e,r)=>{let{name:o,value:s}=cE(r,e,n);if(t.remove_similar||S(s)||!qo(i)||$T(a.getAttrib(i,o),s)){if(o===`class`){let e=a.getAttrib(c,o);if(e){let t=``;if(I(e.split(/\s+/),e=>{/mce\-\w+/.test(e)&&(t+=(t?` `:``)+e)}),t){a.setAttrib(c,o,t);return}}}if(ZT.test(o)&&c.removeAttribute(`data-mce-`+o),o===`style`&&Zo([`li`])(c)&&a.getStyle(c,`list-style-type`)===`none`){c.removeAttribute(o),a.setStyle(c,`list-style-type`,`none`);return}o===`class`&&c.removeAttribute(`className`),c.removeAttribute(o)}}),QT(t.classes,e=>{e=fv(e,n),(!qo(i)||a.hasClass(i,e))&&a.removeClass(c,e)});let e=a.getAttribs(c);for(let t=0;t<e.length;t++){let n=e[t].nodeName;if(!o.isAttributeInternal(n))return XT.keep()}}return t.remove===`none`?XT.keep():(sE(e,c,t),XT.removed())},pE=(e,t,n,r,i)=>{let a;return t.parentNode&&I(_v(e.dom,t.parentNode).reverse(),t=>{if(!a&&qo(t)&&t.id!==`_start`&&t.id!==`_end`){let o=rT(e,t,n,r,i);o&&o.split!==!1&&(a=t)}}),a},mE=(e,t,n,r)=>fE(e,t,n,r,r).fold(O(r),t=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,t)),O(null)),hE=(e,t,n,r,i,a,o,s)=>{let c,l,u=e.dom;if(n){let d=n.parentNode;for(let n=r.parentNode;n&&n!==d;n=n.parentNode){let r=u.clone(n,!1);for(let n=0;n<t.length&&(r=mE(e,t[n],s,r),r!==null);n++);r&&(c&&r.appendChild(c),l||=r,c=r)}a&&(!o.mixed||!u.isBlock(n))&&(r=u.split(n,r)??r),c&&l&&(i.parentNode?.insertBefore(c,i),l.appendChild(i),Tv(o)&&WT(e,o,s,c))}return r},gE=(e,t,n,r,i)=>{let a=e.formatter.get(t),o=a[0],s=e.dom,c=e.selection,l=r=>hE(e,a,pE(e,r,t,n,i),r,r,!0,o,n),u=e=>k_(e)&&qo(e)&&(e.id===`_start`||e.id===`_end`),d=t=>me(a,r=>yE(e,r,n,t,t)),f=t=>{let n=Fe(t.childNodes),r=d(t)||me(a,e=>tT(s,t,e)),i=t.parentNode;if(!r&&C(i)&&Dv(o)&&d(i),o.deep&&n.length)for(let e=0;e<n.length;e++)f(n[e]);I([`underline`,`line-through`,`overline`],n=>{qo(t)&&e.dom.getStyle(t,`text-decoration`)===n&&t.parentNode&&gv(s,t.parentNode)===n&&yE(e,{deep:!1,exact:!0,inline:`span`,styles:{textDecoration:n}},void 0,t)})},p=e=>{let t=s.get(e?`_start`:`_end`);if(t){let n=t[e?`firstChild`:`lastChild`];return u(n)&&(n=n[e?`firstChild`:`lastChild`]),q(n)&&n.data.length===0&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),s.remove(t,!0),n}else return null},m=t=>{let n,r,i=Kv(s,t,a,{includeTrailingSpace:t.collapsed});if(o.split){if(i=vb(i),n=nE(e,i,!0),r=nE(e,i),n!==r){if(n=rE(n,!0),r=rE(r,!1),tE(s,n,r)){l(aE(s,P.from(n.firstChild).getOr(n),!0,`span`,{id:`_start`,"data-mce-type":`bookmark`})),p(!0);return}if(tE(s,r,n)){l(aE(s,P.from(r.lastChild).getOr(r),!1,`span`,{id:`_end`,"data-mce-type":`bookmark`})),p(!1);return}n=iE(s,n,`span`,{id:`_start`,"data-mce-type":`bookmark`}),r=iE(s,r,`span`,{id:`_end`,"data-mce-type":`bookmark`});let e=s.createRng();e.setStartAfter(n),e.setEndBefore(r),qv(s,e,e=>{I(e,e=>{!k_(e)&&!k_(e.parentNode)&&l(e)})}),l(n),l(r),n=p(!0),r=p()}else n=r=l(n);i.startContainer=n.parentNode?n.parentNode:n,i.startOffset=s.nodeIndex(n),i.endContainer=r.parentNode?r.parentNode:r,i.endOffset=s.nodeIndex(r)+1}qv(s,i,e=>{I(e,f)})};if(r){if(ev(r)){let e=s.createRng();e.setStartBefore(r),e.setEndAfter(r),m(e)}else m(r);cp(e,t,r,n);return}!c.isCollapsed()||!Tv(o)||z_(e).length?(rv(e,()=>J_(e,m),r=>Tv(o)&&iT(e,t,n,r)),e.nodeChanged()):ST(e,t,n,i),dE(e,t,n),cp(e,t,r,n)},_E=(e,t,n,r,i)=>{(r||e.selection.isEditable())&&gE(e,t,n,r,i)},vE=(e,t,n,r)=>fE(e,t,n,r).fold(()=>P.some(r),t=>P.some(e.dom.rename(r,t)),P.none),yE=(e,t,n,r,i)=>fE(e,t,n,r,i).fold(N,t=>(e.dom.rename(r,t),!0),ce),bE=[`fontsize`,`subscript`,`superscript`],xE=[`strikethrough`,...bE],SE=(e,t,n)=>C(e.matchNode(t.dom,n,{},n===`fontsize`)),CE=(e,t)=>me(bE,n=>SE(e,t,n)),wE=e=>pe(xE,e),TE=(e,t,n,r,i)=>{let a=Hr(t,e).filter(jr);return we(a,n).map(e=>{let t=a[e];return{container:t,innerWrapper:r(t),outerWrappers:[...i(Hi(t)).toArray(),...Ee(a.slice(0,e),e=>n(e)?i(e).toArray():[Hi(e)])]}})},EE=(e,t,n,r)=>{I(Jr(e),e=>{jr(e)&&n(e)&&r(e).isNone()&&Bi(e)}),I(Jr(e),e=>wi(t,e)),Ci(e,t)},DE=(e,t)=>{if(t.length>0){let n=t[t.length-1];xi(e,n),wi(be(t.slice(0,t.length-1),(e,t)=>(wi(e,t),t),n),e)}},OE=(e,t,n,r,i)=>{let a=t=>Sr(W.fromDom(e.getRoot()),t)||e.isBlock(t.dom);I(t,t=>{TE(a,t,n,r,i).each(({container:r,innerWrapper:a,outerWrappers:o})=>{e.split(r.dom,t.dom),EE(t,a,n,i),DE(t,o)})})},kE=(e,t,n)=>{let r=n=>C(rT(e,n.dom,t)),i=n=>{let r=W.fromTag(Er(n)),i=rT(e,n.dom,t,{});return C(i)&&Zw(i)&&Xw(e,r.dom,i),r},a=n=>{let r=rT(e,n.dom,t,{});return C(r)?vE(e,r,{},n.dom).map(W.fromDom):P.some(n)},o=qw(e.selection.getRng());OE(e.dom,n,r,i,a),e.selection.setRng(Jw(o))},AE=(e,t)=>Ee(t,t=>{let n=eo(t,t=>CE(e,t));return CE(e,t)?[t,...n]:n}),jE=(e,t,n)=>{wE(t)&&kE(e,`strikethrough`,AE(e.formatter,n))},ME=(e,t)=>{kE(e,`strikethrough`,L(t,t=>CE(e.formatter,t)))},NE=e=>[`h1`,`h2`,`h3`,`h4`,`h5`,`h6`].includes(e.name),PE=e=>e.name===`summary`,FE=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},IE=(e,t,n,r)=>{let i=n.name;for(let t=0,a=e.length;t<a;t++){let a=e[t];if(a.name===i){let e=r.nodes[i];e?e.nodes.push(n):r.nodes[i]={filter:a,nodes:[n]}}}if(n.attributes)for(let e=0,i=t.length;e<i;e++){let i=t[e],a=i.name;if(a in n.attributes.map){let e=r.attributes[a];e?e.nodes.push(n):r.attributes[a]={filter:i,nodes:[n]}}}},LE=(e,t,n)=>{let r={nodes:{},attributes:{}};return n.firstChild&&FE(n,n=>{IE(e,t,n,r)}),r},RE=(e,t)=>{let n=(e,n)=>{Be(e,e=>{let r=Fe(e.nodes);I(e.filter.callbacks,i=>{for(let t=r.length-1;t>=0;t--){let i=r[t];(!(n?i.attr(e.filter.name)!==void 0:i.name===e.filter.name)||ne(i.parent))&&r.splice(t,1)}r.length>0&&i(r,e.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},zE=(e,t,n,r={})=>{RE(LE(e,t,n),r)},BE=(e,t,n,r)=>{if((e.pad_empty_with_br||t.insert)&&n(r)){let e=new ax(`br`,1);t.insert&&e.attr(`data-mce-bogus`,`1`),r.empty().append(e)}else r.empty().append(new ax(`#text`,3)).value=`\xA0`},VE=e=>HE(e,`#text`)&&e?.firstChild?.value===`\xA0`,HE=(e,t)=>{let n=e?.firstChild;return C(n)&&n===e.lastChild&&n.name===t},UE=(e,t)=>e.getElementRule(t.name)?.paddEmpty===!0,WE=(e,t,n,r)=>r.isEmpty(t,n,t=>UE(e,t)),GE=(e,t)=>C(e)&&(t(e)||e.name===`br`),KE=e=>{let t;for(let n=e;n;n=n.parent){let e=n.attr(`contenteditable`);if(e===`false`)break;e===`true`&&(t=n)}return P.from(t)},qE=e=>{let t=[];for(let n=e.firstChild;C(n);n=n.walk())t.push(n);return t},JE=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{let r=e.children();for(let e of r)n&&!t.isValidChild(n.name,e.name)&&JE(e,t,n);e.unwrap()}},YE=(e,t,n,r=E)=>{let i=t.getTextBlockElements(),a=t.getNonEmptyElements(),o=t.getWhitespaceElements(),s=U.makeMap(`tr,td,th,tbody,thead,tfoot,table,summary`),c=new Set,l=e=>e!==n&&!s[e.name];for(let n=0;n<e.length;n++){let s=e[n],u,d,f;if(!s.parent||c.has(s))continue;if(i[s.name]&&s.parent.name===`li`){let e=s.next;for(;e&&i[e.name];)e.name=`li`,c.add(e),s.parent.insert(e,s.parent),e=e.next;s.unwrap();continue}let p=[s];for(u=s.parent;u&&!t.isValidChild(u.name,s.name)&&l(u);u=u.parent)p.push(u);if(u&&p.length>1)if(ZE(t,s,u))JE(s,t);else{p.reverse(),d=p[0].clone(),r(d);let e=d;for(let n=0;n<p.length-1;n++){t.isValidChild(e.name,p[n].name)&&n>0?(f=p[n].clone(),r(f),e.append(f)):f=e;for(let e=p[n].firstChild;e&&e!==p[n+1];){let t=e.next;f.append(e),e=t}e=f}WE(t,a,o,d)?u.insert(s,p[0],!0):(u.insert(d,p[0],!0),u.insert(s,d)),u=p[0],(WE(t,a,o,u)||HE(u,`br`))&&u.empty().remove()}else if(s.parent){if(s.name===`li`){let e=s.prev;if(e&&(e.name===`ul`||e.name===`ol`)){e.append(s);continue}if(e=s.next,e&&(e.name===`ul`||e.name===`ol`)&&e.firstChild){e.insert(s,e.firstChild,!0);continue}let t=new ax(`ul`,1);r(t),s.wrap(t);continue}if(t.isValidChild(s.parent.name,`div`)&&t.isValidChild(`div`,s.name)){let e=new ax(`div`,1);r(e),s.wrap(e)}else JE(s,t)}}},XE=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},ZE=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name===`a`&&XE(n,`a`)?!0:PE(n)&&NE(t)?!(n?.firstChild===t&&n?.lastChild===t):!1:!1,QE=(e,t,n,r)=>{let i=document.createRange();return i.setStart(e,t),i.setEnd(n,r),i},$E=e=>{let t=X.fromRangeStart(e),n=X.fromRangeEnd(e),r=e.commonAncestorContainer;return Zg(!1,r,n).map(i=>!_g(t,n,r)&&_g(t,i,r)?QE(t.container(),t.offset(),i.container(),i.offset()):e).getOr(e)},eD=e=>e.collapsed?e:$E(e),tD=U.explode,nD=()=>{let e={};return{addFilter:(t,n)=>{I(tD(t),t=>{Ye(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)})},getFilters:()=>Je(e),removeFilter:(t,n)=>{I(tD(t),t=>{if(Ye(e,t))if(C(n)){let r=e[t],i=L(r.callbacks,e=>e!==n);i.length>0?r.callbacks=i:delete e[t]}else delete e[t]})}}},rD=e=>e.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`),iD=e=>e.replace(/&lt;/g,`<`).replace(/&gt;/g,`>`).replace(/&amp;/g,`&`),aD=(e,t)=>{I(t,t=>{e.attr(t,null)})},oD=(e,t,n)=>{e.addNodeFilter(`font`,e=>{I(e,e=>{let r=t.parse(e.attr(`style`)),i=e.attr(`color`),a=e.attr(`face`),o=e.attr(`size`);i&&(r.color=i),a&&(r[`font-family`]=a),o&&zt(o).each(e=>{r[`font-size`]=n[e-1]}),e.name=`span`,e.attr(`style`,t.serialize(r)),aD(e,[`color`,`face`,`size`])})})},sD=(e,t,n)=>{e.addNodeFilter(`strike`,e=>{let r=t.type!==`html4`;I(e,e=>{if(r)e.name=`s`;else{let t=n.parse(e.attr(`style`));t[`text-decoration`]=`line-through`,e.name=`span`,e.attr(`style`,n.serialize(t))}})})},cD=(e,t,n)=>{let r=Cl();t.convert_fonts_to_spans&&oD(e,r,U.explode(t.font_size_legacy_values??``)),sD(e,n,r)},lD=(e,t,n)=>{t.inline_styles&&cD(e,t,n)},uD=e=>fetch(e).then(e=>e.ok?e.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:`blob`})),dD=e=>{let t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:``},fD=e=>{try{return decodeURIComponent(e)}catch{return e}},pD=e=>{let[t,...n]=e.split(`,`),r=n.join(`,`),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(i){let e=i[2]===`;base64`,t=fD(r),n=e?dD(t):t;return P.some({type:i[1],data:n,base64Encoded:e})}else return P.none()},mD=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch{return P.none()}let i=new Uint8Array(r.length);for(let e=0;e<i.length;e++)i[e]=r.charCodeAt(e);return P.some(new Blob([i],{type:e}))},hD=e=>new Promise((t,n)=>{pD(e).bind(({type:e,data:t,base64Encoded:n})=>mD(e,t,n)).fold(()=>n(`Invalid data URI`),t)}),gD=e=>At(e,`blob:`)?uD(e):At(e,`data:`)?hD(e):Promise.reject(`Unknown URI format`),_D=e=>new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{n(r.error?.message)},r.readAsDataURL(e)}),vD=0,yD=e=>(e||`blobid`)+ vD++,bD=(e,t,n)=>pD(e).bind(({data:e,type:r,base64Encoded:i})=>t&&!i?P.none():n(i?e:btoa(e),r)),xD=(e,t,n)=>{let r=e.create(yD(),t,n);return e.add(r),r},SD=(e,t,n=!1)=>bD(t,n,(t,n)=>P.from(e.getByData(t,n)).orThunk(()=>mD(n,t).map(n=>xD(e,n,t)))),CD=(e,t)=>{let n=()=>Promise.reject(`Invalid data URI`);if(At(t,`blob:`)){let r=e.getByUri(t);return C(r)?Promise.resolve(r):gD(t).then(t=>_D(t).then(r=>bD(r,!1,n=>P.some(xD(e,t,n))).getOrThunk(n)))}else if(At(t,`data:`))return SD(e,t).fold(n,e=>Promise.resolve(e));else return Promise.reject(`Unknown image data format`)},wD=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,TD=e=>P.from(e.match(wD)).bind(e=>Me(e,1)).map(e=>At(e,`www.`)?e.substring(4):e),ED=(e,t)=>{P.from(e.attr(`src`)).bind(TD).forall(e=>!pe(t,e))&&e.attr(`sandbox`,``)},DD=(e,t)=>At(e,`${t}/`),OD=e=>te(e)?`iframe`:DD(e,`image`)?`img`:DD(e,`video`)?`video`:DD(e,`audio`)?`audio`:`iframe`,kD=({type:e,src:t,width:n,height:r}={},i,a)=>{let o=OD(e),s=new ax(o,1);return s.attr(o===`audio`?{src:t}:{src:t,width:n,height:r}),(o===`audio`||o===`video`)&&s.attr(`controls`,``),o===`iframe`&&i&&ED(s,a),s},AD=e=>C(e.attr(`data-mce-bogus`)),jD=e=>e.attr(`src`)===Zn.transparentSrc||C(e.attr(`data-mce-placeholder`)),MD=(e,t)=>{let{blob_cache:n}=t;if(n){let t=e=>{let t=e.attr(`src`);jD(e)||AD(e)||ne(t)||SD(n,t,!0).each(t=>{e.attr(`src`,t.blobUri())})};e.addAttributeFilter(`src`,e=>I(e,t))}},ND=(e,t)=>{let n=e.schema;e.addAttributeFilter(`href`,e=>{let n=e.length,r=e=>e.split(` `).filter(e=>e.length>0).concat([`noopener`]).sort().join(` `),i=e=>{let t=e?U.trim(e):``;return/\b(noopener)\b/g.test(t)?t:r(t)};if(!t.allow_unsafe_link_target)for(;n--;){let t=e[n];t.name===`a`&&t.attr(`target`)===`_blank`&&t.attr(`rel`,i(t.attr(`rel`)))}}),t.allow_html_in_named_anchor||e.addAttributeFilter(`id,name`,e=>{let t=e.length,n,r,i,a;for(;t--;)if(a=e[t],a.name===`a`&&a.firstChild&&!a.attr(`href`))for(i=a.parent,n=a.lastChild;n&&i;)r=n.prev,i.insert(n,a),n=r}),t.fix_list_elements&&e.addNodeFilter(`ul,ol`,e=>{let t=e.length,n,r;for(;t--;)if(n=e[t],r=n.parent,r&&(r.name===`ul`||r.name===`ol`))if(n.prev&&n.prev.name===`li`)n.prev.append(n);else{let e=new ax(`li`,1);e.attr(`style`,`list-style-type: none`),n.wrap(e)}});let r=n.getValidClasses();t.validate&&r&&e.addAttributeFilter(`class`,e=>{let t=e.length;for(;t--;){let n=e[t],i=n.attr(`class`)??``,a=U.explode(i,` `),o=``;for(let e=0;e<a.length;e++){let t=a[e],i=!1,s=r[`*`];s&&s[t]&&(i=!0),s=r[n.name],!i&&s&&s[t]&&(i=!0),i&&(o&&(o+=` `),o+=t)}o.length||(o=null),n.attr(`class`,o)}}),MD(e,t);let i=t.sandbox_iframes??!1,a=Le(t.sandbox_iframes_exclusions??[]);t.convert_unsafe_embeds&&e.addNodeFilter(`object,embed`,e=>I(e,e=>{e.replace(kD({type:e.attr(`type`),src:e.name===`object`?e.attr(`data`):e.attr(`src`),width:e.attr(`width`),height:e.attr(`height`)},i,a))})),i&&e.addNodeFilter(`iframe`,e=>I(e,e=>ED(e,a)))},{entries:PD,setPrototypeOf:FD,isFrozen:ID,getPrototypeOf:LD,getOwnPropertyDescriptor:RD}=Object,{freeze:zD,seal:BD,create:VD}=Object,{apply:HD,construct:UD}=typeof Reflect<`u`&&Reflect;zD||=function(e){return e},BD||=function(e){return e},HD||=function(e,t,n){return e.apply(t,n)},UD||=function(e,t){return new e(...t)};let WD=iO(Array.prototype.forEach),GD=iO(Array.prototype.lastIndexOf),KD=iO(Array.prototype.pop),qD=iO(Array.prototype.push),JD=iO(Array.prototype.splice),YD=iO(String.prototype.toLowerCase),XD=iO(String.prototype.toString),ZD=iO(String.prototype.match),QD=iO(String.prototype.replace),$D=iO(String.prototype.indexOf),eO=iO(String.prototype.trim),tO=iO(Object.prototype.hasOwnProperty),nO=iO(RegExp.prototype.test),rO=aO(TypeError);function iO(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);var n=[...arguments].slice(1);return HD(e,t,n)}}function aO(e){return function(){return UD(e,[...arguments])}}function oO(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YD;FD&&FD(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i==`string`){let e=n(i);e!==i&&(ID(t)||(t[r]=e),i=e)}e[i]=!0}return e}function sO(e){for(let t=0;t<e.length;t++)tO(e,t)||(e[t]=null);return e}function cO(e){let t=VD(null);for(let[n,r]of PD(e))tO(e,n)&&(Array.isArray(r)?t[n]=sO(r):r&&typeof r==`object`&&r.constructor===Object?t[n]=cO(r):t[n]=r);return t}function lO(e,t){for(;e!==null;){let n=RD(e,t);if(n){if(n.get)return iO(n.get);if(typeof n.value==`function`)return iO(n.value)}e=LD(e)}function n(){return null}return n}let uO=zD(`a.abbr.acronym.address.area.article.aside.audio.b.bdi.bdo.big.blink.blockquote.body.br.button.canvas.caption.center.cite.code.col.colgroup.content.data.datalist.dd.decorator.del.details.dfn.dialog.dir.div.dl.dt.element.em.fieldset.figcaption.figure.font.footer.form.h1.h2.h3.h4.h5.h6.head.header.hgroup.hr.html.i.img.input.ins.kbd.label.legend.li.main.map.mark.marquee.menu.menuitem.meter.nav.nobr.ol.optgroup.option.output.p.picture.pre.progress.q.rp.rt.ruby.s.samp.section.select.shadow.small.source.spacer.span.strike.strong.style.sub.summary.sup.table.tbody.td.template.textarea.tfoot.th.thead.time.tr.track.tt.u.ul.var.video.wbr`.split(`.`)),dO=zD(`svg.a.altglyph.altglyphdef.altglyphitem.animatecolor.animatemotion.animatetransform.circle.clippath.defs.desc.ellipse.filter.font.g.glyph.glyphref.hkern.image.line.lineargradient.marker.mask.metadata.mpath.path.pattern.polygon.polyline.radialgradient.rect.stop.style.switch.symbol.text.textpath.title.tref.tspan.view.vkern`.split(`.`)),fO=zD([`feBlend`,`feColorMatrix`,`feComponentTransfer`,`feComposite`,`feConvolveMatrix`,`feDiffuseLighting`,`feDisplacementMap`,`feDistantLight`,`feDropShadow`,`feFlood`,`feFuncA`,`feFuncB`,`feFuncG`,`feFuncR`,`feGaussianBlur`,`feImage`,`feMerge`,`feMergeNode`,`feMorphology`,`feOffset`,`fePointLight`,`feSpecularLighting`,`feSpotLight`,`feTile`,`feTurbulence`]),pO=zD([`animate`,`color-profile`,`cursor`,`discard`,`font-face`,`font-face-format`,`font-face-name`,`font-face-src`,`font-face-uri`,`foreignobject`,`hatch`,`hatchpath`,`mesh`,`meshgradient`,`meshpatch`,`meshrow`,`missing-glyph`,`script`,`set`,`solidcolor`,`unknown`,`use`]),mO=zD(`math.menclose.merror.mfenced.mfrac.mglyph.mi.mlabeledtr.mmultiscripts.mn.mo.mover.mpadded.mphantom.mroot.mrow.ms.mspace.msqrt.mstyle.msub.msup.msubsup.mtable.mtd.mtext.mtr.munder.munderover.mprescripts`.split(`.`)),hO=zD([`maction`,`maligngroup`,`malignmark`,`mlongdiv`,`mscarries`,`mscarry`,`msgroup`,`mstack`,`msline`,`msrow`,`semantics`,`annotation`,`annotation-xml`,`mprescripts`,`none`]),gO=zD([`#text`]),_O=zD(`accept.action.align.alt.autocapitalize.autocomplete.autopictureinpicture.autoplay.background.bgcolor.border.capture.cellpadding.cellspacing.checked.cite.class.clear.color.cols.colspan.controls.controlslist.coords.crossorigin.datetime.decoding.default.dir.disabled.disablepictureinpicture.disableremoteplayback.download.draggable.enctype.enterkeyhint.face.for.headers.height.hidden.high.href.hreflang.id.inputmode.integrity.ismap.kind.label.lang.list.loading.loop.low.max.maxlength.media.method.min.minlength.multiple.muted.name.nonce.noshade.novalidate.nowrap.open.optimum.pattern.placeholder.playsinline.popover.popovertarget.popovertargetaction.poster.preload.pubdate.radiogroup.readonly.rel.required.rev.reversed.role.rows.rowspan.spellcheck.scope.selected.shape.size.sizes.span.srclang.start.src.srcset.step.style.summary.tabindex.title.translate.type.usemap.valign.value.width.wrap.xmlns.slot`.split(`.`)),vO=zD(`accent-height.accumulate.additive.alignment-baseline.amplitude.ascent.attributename.attributetype.azimuth.basefrequency.baseline-shift.begin.bias.by.class.clip.clippathunits.clip-path.clip-rule.color.color-interpolation.color-interpolation-filters.color-profile.color-rendering.cx.cy.d.dx.dy.diffuseconstant.direction.display.divisor.dur.edgemode.elevation.end.exponent.fill.fill-opacity.fill-rule.filter.filterunits.flood-color.flood-opacity.font-family.font-size.font-size-adjust.font-stretch.font-style.font-variant.font-weight.fx.fy.g1.g2.glyph-name.glyphref.gradientunits.gradienttransform.height.href.id.image-rendering.in.in2.intercept.k.k1.k2.k3.k4.kerning.keypoints.keysplines.keytimes.lang.lengthadjust.letter-spacing.kernelmatrix.kernelunitlength.lighting-color.local.marker-end.marker-mid.marker-start.markerheight.markerunits.markerwidth.maskcontentunits.maskunits.max.mask.media.method.mode.min.name.numoctaves.offset.operator.opacity.order.orient.orientation.origin.overflow.paint-order.path.pathlength.patterncontentunits.patterntransform.patternunits.points.preservealpha.preserveaspectratio.primitiveunits.r.rx.ry.radius.refx.refy.repeatcount.repeatdur.restart.result.rotate.scale.seed.shape-rendering.slope.specularconstant.specularexponent.spreadmethod.startoffset.stddeviation.stitchtiles.stop-color.stop-opacity.stroke-dasharray.stroke-dashoffset.stroke-linecap.stroke-linejoin.stroke-miterlimit.stroke-opacity.stroke.stroke-width.style.surfacescale.systemlanguage.tabindex.tablevalues.targetx.targety.transform.transform-origin.text-anchor.text-decoration.text-rendering.textlength.type.u1.u2.unicode.values.viewbox.visibility.version.vert-adv-y.vert-origin-x.vert-origin-y.width.word-spacing.wrap.writing-mode.xchannelselector.ychannelselector.x.x1.x2.xmlns.y.y1.y2.z.zoomandpan`.split(`.`)),yO=zD(`accent.accentunder.align.bevelled.close.columnsalign.columnlines.columnspan.denomalign.depth.dir.display.displaystyle.encoding.fence.frame.height.href.id.largeop.length.linethickness.lspace.lquote.mathbackground.mathcolor.mathsize.mathvariant.maxsize.minsize.movablelimits.notation.numalign.open.rowalign.rowlines.rowspacing.rowspan.rspace.rquote.scriptlevel.scriptminsize.scriptsizemultiplier.selection.separator.separators.stretchy.subscriptshift.supscriptshift.symmetric.voffset.width.xmlns`.split(`.`)),bO=zD([`xlink:href`,`xml:id`,`xlink:title`,`xml:space`,`xmlns:xlink`]),xO=BD(/\{\{[\w\W]*|[\w\W]*\}\}/gm),SO=BD(/<%[\w\W]*|[\w\W]*%>/gm),CO=BD(/\$\{[\w\W]*/gm),wO=BD(/^data-[\-\w.\u00B7-\uFFFF]+$/),TO=BD(/^aria-[\-\w]+$/),EO=BD(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),DO=BD(/^(?:\w+script|data):/i),OO=BD(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kO=BD(/^html$/i),AO=BD(/^[a-z][.\w]*(-[.\w]+)+$/i);var jO=Object.freeze({__proto__:null,ARIA_ATTR:TO,ATTR_WHITESPACE:OO,CUSTOM_ELEMENT:AO,DATA_ATTR:wO,DOCTYPE_NAME:kO,ERB_EXPR:SO,IS_ALLOWED_URI:EO,IS_SCRIPT_OR_DATA:DO,MUSTACHE_EXPR:xO,TMPLIT_EXPR:CO});let MO={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},NO=function(){return typeof window>`u`?null:window},PO=function(e,t){if(typeof e!=`object`||typeof e.createPolicy!=`function`)return null;let n=null,r=`data-tt-policy-suffix`;t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let i=`dompurify`+(n?`#`+n:``);try{return e.createPolicy(i,{createHTML(e){return e},createScriptURL(e){return e}})}catch{return console.warn(`TrustedTypes policy `+i+` could not be created.`),null}},FO=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function IO(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NO(),t=e=>IO(e);if(t.version=`3.2.6`,t.removed=[],!e||!e.document||e.document.nodeType!==MO.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e,r=n,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:c,NodeFilter:l,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=e,m=c.prototype,h=lO(m,`cloneNode`),g=lO(m,`remove`),_=lO(m,`nextSibling`),v=lO(m,`childNodes`),y=lO(m,`parentNode`);if(typeof o==`function`){let e=n.createElement(`template`);e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let b,x=``,{implementation:S,createNodeIterator:ee,createDocumentFragment:te,getElementsByTagName:ne}=n,{importNode:C}=r,w=FO();t.isSupported=typeof PD==`function`&&typeof y==`function`&&S&&S.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:re,ERB_EXPR:T,TMPLIT_EXPR:E,DATA_ATTR:ie,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:k,CUSTOM_ELEMENT:ae}=jO,{IS_ALLOWED_URI:A}=jO,oe=null,j=oO({},[...uO,...dO,...fO,...mO,...gO]),M=null,se=oO({},[..._O,...vO,...yO,...bO]),N=Object.seal(VD(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ce=null,P=null,le=!0,F=!0,ue=!1,de=!0,fe=!1,pe=!0,me=!1,he=!1,I=!1,ge=!1,_e=!1,L=!1,ve=!0,ye=!1,be=!0,xe=!1,Se={},Ce=null,we=oO({},[`annotation-xml`,`audio`,`colgroup`,`desc`,`foreignobject`,`head`,`iframe`,`math`,`mi`,`mn`,`mo`,`ms`,`mtext`,`noembed`,`noframes`,`noscript`,`plaintext`,`script`,`style`,`svg`,`template`,`thead`,`title`,`video`,`xmp`]),Te=null,Ee=oO({},[`audio`,`video`,`img`,`source`,`image`,`track`]),De=null,Oe=oO({},[`alt`,`class`,`for`,`id`,`label`,`name`,`pattern`,`placeholder`,`role`,`summary`,`title`,`value`,`style`,`xmlns`]),ke=`http://www.w3.org/1998/Math/MathML`,Ae=`http://www.w3.org/2000/svg`,je=`http://www.w3.org/1999/xhtml`,Me=je,Ne=!1,Pe=null,Fe=oO({},[ke,Ae,je],XD),Ie=oO({},[`mi`,`mo`,`mn`,`ms`,`mtext`]),Le=oO({},[`annotation-xml`]),Re=oO({},[`title`,`style`,`font`,`a`,`script`]),ze=null,Be=[`application/xhtml+xml`,`text/html`],Ve=null,He=null,Ue=n.createElement(`form`),We=function(e){return e instanceof RegExp||e instanceof Function},Ge=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(He&&He===e)){if((!e||typeof e!=`object`)&&(e={}),e=cO(e),ze=Be.indexOf(e.PARSER_MEDIA_TYPE)===-1?`text/html`:e.PARSER_MEDIA_TYPE,Ve=ze===`application/xhtml+xml`?XD:YD,oe=tO(e,`ALLOWED_TAGS`)?oO({},e.ALLOWED_TAGS,Ve):j,M=tO(e,`ALLOWED_ATTR`)?oO({},e.ALLOWED_ATTR,Ve):se,Pe=tO(e,`ALLOWED_NAMESPACES`)?oO({},e.ALLOWED_NAMESPACES,XD):Fe,De=tO(e,`ADD_URI_SAFE_ATTR`)?oO(cO(Oe),e.ADD_URI_SAFE_ATTR,Ve):Oe,Te=tO(e,`ADD_DATA_URI_TAGS`)?oO(cO(Ee),e.ADD_DATA_URI_TAGS,Ve):Ee,Ce=tO(e,`FORBID_CONTENTS`)?oO({},e.FORBID_CONTENTS,Ve):we,ce=tO(e,`FORBID_TAGS`)?oO({},e.FORBID_TAGS,Ve):cO({}),P=tO(e,`FORBID_ATTR`)?oO({},e.FORBID_ATTR,Ve):cO({}),Se=tO(e,`USE_PROFILES`)?e.USE_PROFILES:!1,le=e.ALLOW_ARIA_ATTR!==!1,F=e.ALLOW_DATA_ATTR!==!1,ue=e.ALLOW_UNKNOWN_PROTOCOLS||!1,de=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fe=e.SAFE_FOR_TEMPLATES||!1,pe=e.SAFE_FOR_XML!==!1,me=e.WHOLE_DOCUMENT||!1,ge=e.RETURN_DOM||!1,_e=e.RETURN_DOM_FRAGMENT||!1,L=e.RETURN_TRUSTED_TYPE||!1,I=e.FORCE_BODY||!1,ve=e.SANITIZE_DOM!==!1,ye=e.SANITIZE_NAMED_PROPS||!1,be=e.KEEP_CONTENT!==!1,xe=e.IN_PLACE||!1,A=e.ALLOWED_URI_REGEXP||EO,Me=e.NAMESPACE||je,Ie=e.MATHML_TEXT_INTEGRATION_POINTS||Ie,Le=e.HTML_INTEGRATION_POINTS||Le,N=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&We(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(N.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&We(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(N.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==`boolean`&&(N.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fe&&(F=!1),_e&&(ge=!0),Se&&(oe=oO({},gO),M=[],Se.html===!0&&(oO(oe,uO),oO(M,_O)),Se.svg===!0&&(oO(oe,dO),oO(M,vO),oO(M,bO)),Se.svgFilters===!0&&(oO(oe,fO),oO(M,vO),oO(M,bO)),Se.mathMl===!0&&(oO(oe,mO),oO(M,yO),oO(M,bO))),e.ADD_TAGS&&(oe===j&&(oe=cO(oe)),oO(oe,e.ADD_TAGS,Ve)),e.ADD_ATTR&&(M===se&&(M=cO(M)),oO(M,e.ADD_ATTR,Ve)),e.ADD_URI_SAFE_ATTR&&oO(De,e.ADD_URI_SAFE_ATTR,Ve),e.FORBID_CONTENTS&&(Ce===we&&(Ce=cO(Ce)),oO(Ce,e.FORBID_CONTENTS,Ve)),be&&(oe[`#text`]=!0),me&&oO(oe,[`html`,`head`,`body`]),oe.table&&(oO(oe,[`tbody`]),delete ce.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!=`function`)throw rO(`TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.`);if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!=`function`)throw rO(`TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.`);b=e.TRUSTED_TYPES_POLICY,x=b.createHTML(``)}else b===void 0&&(b=PO(p,i)),b!==null&&typeof x==`string`&&(x=b.createHTML(``));zD&&zD(e),He=e}},Ke=oO({},[...dO,...fO,...pO]),qe=oO({},[...mO,...hO]),Je=function(e){let t=y(e);(!t||!t.tagName)&&(t={namespaceURI:Me,tagName:`template`});let n=YD(e.tagName),r=YD(t.tagName);return Pe[e.namespaceURI]?e.namespaceURI===Ae?t.namespaceURI===je?n===`svg`:t.namespaceURI===ke?n===`svg`&&(r===`annotation-xml`||Ie[r]):!!Ke[n]:e.namespaceURI===ke?t.namespaceURI===je?n===`math`:t.namespaceURI===Ae?n===`math`&&Le[r]:!!qe[n]:e.namespaceURI===je?t.namespaceURI===Ae&&!Le[r]||t.namespaceURI===ke&&!Ie[r]?!1:!qe[n]&&(Re[n]||!Ke[n]):!!(ze===`application/xhtml+xml`&&Pe[e.namespaceURI]):!1},R=function(e){qD(t.removed,{element:e});try{y(e).removeChild(e)}catch{g(e)}},Ye=function(e,n){try{qD(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch{qD(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e===`is`)if(ge||_e)try{R(n)}catch{}else try{n.setAttribute(e,``)}catch{}},Xe=function(e){let t=null,r=null;if(I)e=`<remove></remove>`+e;else{let t=ZD(e,/^[\r\n\t ]+/);r=t&&t[0]}ze===`application/xhtml+xml`&&Me===je&&(e=`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>`+e+`</body></html>`);let i=b?b.createHTML(e):e;if(Me===je)try{t=new f().parseFromString(i,ze)}catch{}if(!t||!t.documentElement){t=S.createDocument(Me,`template`,null);try{t.documentElement.innerHTML=Ne?x:i}catch{}}let a=t.body||t.documentElement;return e&&r&&a.insertBefore(n.createTextNode(r),a.childNodes[0]||null),Me===je?ne.call(t,me?`html`:`body`)[0]:me?t.documentElement:a},z=function(e){return ee.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},Ze=function(e){return e instanceof d&&(typeof e.nodeName!=`string`||typeof e.textContent!=`string`||typeof e.removeChild!=`function`||!(e.attributes instanceof u)||typeof e.removeAttribute!=`function`||typeof e.setAttribute!=`function`||typeof e.namespaceURI!=`string`||typeof e.insertBefore!=`function`||typeof e.hasChildNodes!=`function`)},B=function(e){return typeof s==`function`&&e instanceof s};function Qe(e,n,r){WD(e,e=>{e.call(t,n,r,He)})}let $e=function(e){let n=null;if(Qe(w.beforeSanitizeElements,e,null),Ze(e))return R(e),!0;let r=Ve(e.nodeName);if(Qe(w.uponSanitizeElement,e,{tagName:r,allowedTags:oe}),pe&&e.hasChildNodes()&&!B(e.firstElementChild)&&nO(/<[/\w!]/g,e.innerHTML)&&nO(/<[/\w!]/g,e.textContent)||e.nodeType===MO.progressingInstruction||pe&&e.nodeType===MO.comment&&nO(/<[/\w]/g,e.data))return R(e),!0;if(!oe[r]||ce[r]){if(!ce[r]&&tt(r)&&(N.tagNameCheck instanceof RegExp&&nO(N.tagNameCheck,r)||N.tagNameCheck instanceof Function&&N.tagNameCheck(r)))return!1;if(be&&!Ce[r]){let t=y(e)||e.parentNode,n=v(e)||e.childNodes;if(n&&t){let r=n.length;for(let i=r-1;i>=0;--i){let r=h(n[i],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,_(e))}}}return R(e),!0}return e instanceof c&&!Je(e)||(r===`noscript`||r===`noembed`||r===`noframes`)&&nO(/<\/no(script|embed|frames)/i,e.innerHTML)?(R(e),!0):(fe&&e.nodeType===MO.text&&(n=e.textContent,WD([re,T,E],e=>{n=QD(n,e,` `)}),e.textContent!==n&&(qD(t.removed,{element:e.cloneNode()}),e.textContent=n)),Qe(w.afterSanitizeElements,e,null),!1)},et=function(e,t,r){if(ve&&(t===`id`||t===`name`)&&(r in n||r in Ue))return!1;if(!(F&&!P[t]&&nO(ie,t))&&!(le&&nO(D,t))){if(!M[t]||P[t]){if(!(tt(e)&&(N.tagNameCheck instanceof RegExp&&nO(N.tagNameCheck,e)||N.tagNameCheck instanceof Function&&N.tagNameCheck(e))&&(N.attributeNameCheck instanceof RegExp&&nO(N.attributeNameCheck,t)||N.attributeNameCheck instanceof Function&&N.attributeNameCheck(t))||t===`is`&&N.allowCustomizedBuiltInElements&&(N.tagNameCheck instanceof RegExp&&nO(N.tagNameCheck,r)||N.tagNameCheck instanceof Function&&N.tagNameCheck(r))))return!1}else if(!De[t]&&!nO(A,QD(r,k,``))&&!((t===`src`||t===`xlink:href`||t===`href`)&&e!==`script`&&$D(r,`data:`)===0&&Te[e])&&!(ue&&!nO(O,QD(r,k,``)))&&r)return!1}return!0},tt=function(e){return e!==`annotation-xml`&&ZD(e,ae)},nt=function(e){Qe(w.beforeSanitizeAttributes,e,null);let{attributes:n}=e;if(!n||Ze(e))return;let r={attrName:``,attrValue:``,keepAttr:!0,allowedAttributes:M,forceKeepAttr:void 0},i=n.length;for(;i--;){let{name:a,namespaceURI:o,value:s}=n[i],c=Ve(a),l=s,u=a===`value`?l:eO(l);if(r.attrName=c,r.attrValue=u,r.keepAttr=!0,r.forceKeepAttr=void 0,Qe(w.uponSanitizeAttribute,e,r),u=r.attrValue,ye&&(c===`id`||c===`name`)&&(Ye(a,e),u=`user-content-`+u),pe&&nO(/((--!?|])>)|<\/(style|title)/i,u)){Ye(a,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Ye(a,e);continue}if(!de&&nO(/\/>/i,u)){Ye(a,e);continue}fe&&WD([re,T,E],e=>{u=QD(u,e,` `)});let d=Ve(e.nodeName);if(!et(d,c,u)){Ye(a,e);continue}if(b&&typeof p==`object`&&typeof p.getAttributeType==`function`&&!o)switch(p.getAttributeType(d,c)){case`TrustedHTML`:u=b.createHTML(u);break;case`TrustedScriptURL`:u=b.createScriptURL(u);break}if(u!==l)try{o?e.setAttributeNS(o,a,u):e.setAttribute(a,u),Ze(e)?R(e):KD(t.removed)}catch{Ye(a,e)}}Qe(w.afterSanitizeAttributes,e,null)},rt=function e(t){let n=null,r=z(t);for(Qe(w.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Qe(w.uponSanitizeShadowNode,n,null),$e(n),nt(n),n.content instanceof a&&e(n.content);Qe(w.afterSanitizeShadowDOM,t,null)};return t.sanitize=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=null,o=null,c=null,l=null;if(Ne=!e,Ne&&(e=`<!-->`),typeof e!=`string`&&!B(e))if(typeof e.toString==`function`){if(e=e.toString(),typeof e!=`string`)throw rO(`dirty is not a string, aborting`)}else throw rO(`toString is not a function`);if(!t.isSupported)return e;if(he||Ge(n),t.removed=[],typeof e==`string`&&(xe=!1),xe){if(e.nodeName){let t=Ve(e.nodeName);if(!oe[t]||ce[t])throw rO(`root node is forbidden and cannot be sanitized in-place`)}}else if(e instanceof s)i=Xe(`<!---->`),o=i.ownerDocument.importNode(e,!0),o.nodeType===MO.element&&o.nodeName===`BODY`||o.nodeName===`HTML`?i=o:i.appendChild(o);else{if(!ge&&!fe&&!me&&e.indexOf(`<`)===-1)return b&&L?b.createHTML(e):e;if(i=Xe(e),!i)return ge?null:L?x:``}i&&I&&R(i.firstChild);let u=z(xe?e:i);for(;c=u.nextNode();)$e(c),nt(c),c.content instanceof a&&rt(c.content);if(xe)return e;if(ge){if(_e)for(l=te.call(i.ownerDocument);i.firstChild;)l.appendChild(i.firstChild);else l=i;return(M.shadowroot||M.shadowrootmode)&&(l=C.call(r,l,!0)),l}let d=me?i.outerHTML:i.innerHTML;return me&&oe[`!doctype`]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&nO(kO,i.ownerDocument.doctype.name)&&(d=`<!DOCTYPE `+i.ownerDocument.doctype.name+`>
`+d),fe&&WD([re,T,E],e=>{d=QD(d,e,` `)}),b&&L?b.createHTML(d):d},t.setConfig=function(){Ge(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),he=!0},t.clearConfig=function(){He=null,he=!1},t.isValidAttribute=function(e,t,n){return He||Ge({}),et(Ve(e),Ve(t),n)},t.addHook=function(e,t){typeof t==`function`&&qD(w[e],t)},t.removeHook=function(e,t){if(t!==void 0){let n=GD(w[e],t);return n===-1?void 0:JD(w[e],n,1)[0]}return KD(w[e])},t.removeHooks=function(e){w[e]=[]},t.removeAllHooks=function(){w=FO()},t}var LO=IO();let RO=U.each,zO=U.trim,BO=[`source`,`protocol`,`authority`,`userInfo`,`user`,`password`,`host`,`port`,`relative`,`path`,`directory`,`file`,`query`,`anchor`],VO={ftp:21,http:80,https:443,mailto:25},HO=[`img`,`video`],UO=(e,t)=>C(e)?!e:C(t)?!pe(HO,t):!0,WO=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},GO=(e,t,n)=>{let r=WO(t).replace(/\s/g,``);return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?UO(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class KO{static parseDataUri(e){let t,n=decodeURIComponent(e).split(`,`),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){return n.allow_script_urls?!0:!GO(n,Rc.decode(e).replace(/[\s\u0000-\u001F]+/g,``),t)}static getDocumentBaseUrl(e){let t;return t=e.protocol.indexOf(`http`)!==0&&e.protocol!==`file:`?e.href??``:e.protocol+`//`+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,``).replace(/[\/\\][^\/]+$/,``),/[\/\\]$/.test(t)||(t+=`/`)),t}source;protocol;authority;userInfo;user;password;host;port;relative;path=``;directory=``;file;query;anchor;settings;constructor(e,t={}){e=zO(e),this.settings=t;let n=t.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){r.source=e;return}let i=e.indexOf(`//`)===0;if(e.indexOf(`/`)===0&&!i&&(e=(n&&n.protocol||`http`)+`://mce_host`+e),!/^[\w\-]*:?\/\//.test(e)){let t=n?n.path:new KO(document.location.href).directory;if(n?.protocol===``)e=`//mce_host`+r.toAbsPath(t,e);else{let i=/([^#?]*)([#?]?.*)/.exec(e);i&&(e=(n&&n.protocol||`http`)+`://mce_host`+r.toAbsPath(t,i[1])+i[2])}}e=e.replace(/@@/g,`(mce_at)`);let a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);a&&RO(BO,(e,t)=>{let n=a[t];n&&=n.replace(/\(mce_at\)/g,`@@`),r[e]=n}),n&&(r.protocol||=n.protocol,r.userInfo||=n.userInfo,!r.port&&r.host===`mce_host`&&(r.port=n.port),(!r.host||r.host===`mce_host`)&&(r.host=n.host),r.source=``),i&&(r.protocol=``)}setPath(e){let t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source=``,this.getURI()}toRelative(e){if(e===`./`)return e;let t=new KO(e,{base_uri:this});if(t.host!==`mce_host`&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&t.protocol!==``)return t.getURI();let n=this.getURI(),r=t.getURI();if(n===r||n.charAt(n.length-1)===`/`&&n.substr(0,n.length-1)===r)return n;let i=this.toRelPath(this.path,t.path);return t.query&&(i+=`?`+t.query),t.anchor&&(i+=`#`+t.anchor),i}toAbsolute(e,t){let n=new KO(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;let t=this.protocol?VO[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n=0,r=``,i,a,o=e.substring(0,e.lastIndexOf(`/`)).split(`/`),s=t.split(`/`);if(o.length>=s.length){for(i=0,a=o.length;i<a;i++)if(i>=s.length||o[i]!==s[i]){n=i+1;break}}if(o.length<s.length){for(i=0,a=s.length;i<a;i++)if(i>=o.length||o[i]!==s[i]){n=i+1;break}}if(n===1)return t;for(i=0,a=o.length-(n-1);i<a;i++)r+=`../`;for(i=n-1,a=s.length;i<a;i++)i===n-1?r+=s[i]:r+=`/`+s[i];return r}toAbsPath(e,t){let n=0,r=/\/$/.test(t)?`/`:``,i=e.split(`/`),a=t.split(`/`),o=[];RO(i,e=>{e&&o.push(e)});let s=[];for(let e=a.length-1;e>=0;e--)if(!(a[e].length===0||a[e]===`.`)){if(a[e]===`..`){n++;continue}if(n>0){n--;continue}s.push(a[e])}let c=o.length-n,l;return l=c<=0?Oe(s).join(`/`):o.slice(0,c).join(`/`)+`/`+Oe(s).join(`/`),l.indexOf(`/`)!==0&&(l=`/`+l),r&&l.lastIndexOf(`/`)!==l.length-1&&(l+=r),l}getURI(e=!1){let t;return(!this.source||e)&&(t=``,e||(this.protocol?t+=this.protocol+`://`:t+=`//`,this.userInfo&&(t+=this.userInfo+`@`),this.host&&(t+=this.host),this.port&&(t+=`:`+this.port)),this.path&&(t+=this.path),this.query&&(t+=`?`+this.query),this.anchor&&(t+=`#`+this.anchor),this.source=t),this.source}}let qO=U.makeMap(`src,href,data,background,action,formaction,poster,xlink:href`),JO=`data-mce-type`,YO=0,XO=(e,t,n,r,i)=>{let a=t.validate,o=n.getSpecialElements();e.nodeType===8&&(!t.allow_conditional_comments&&/^\[if/i.test(e.nodeValue??``)&&(e.nodeValue=` `+e.nodeValue),t.sanitize&&t.allow_html_in_comments&&v(e.nodeValue)&&(e.nodeValue=rD(e.nodeValue)));let s=i?.tagName??e.nodeName.toLowerCase();if(r!==`html`&&n.isValid(r)){C(i)&&(i.allowedTags[s]=!0);return}if(e.nodeType!==1||s===`body`)return;let c=W.fromDom(e),l=Pi(c,JO),u=Mi(c,`data-mce-bogus`);if(!l&&v(u)){u===`all`?zi(c):Bi(c);return}let d=n.getElementRule(s);if(a&&!d){Ye(o,s)?zi(c):Bi(c);return}else C(i)&&(i.allowedTags[s]=!0);if(a&&d&&!l){if(I(d.attributesForced??[],e=>{Ai(c,e.name,e.value===`{$uid}`?`mce_${YO++}`:e.value)}),I(d.attributesDefault??[],e=>{Pi(c,e.name)||Ai(c,e.name,e.value===`{$uid}`?`mce_${YO++}`:e.value)}),d.attributesRequired&&!me(d.attributesRequired,e=>Pi(c,e))){Bi(c);return}if(d.removeEmptyAttrs&&Ii(c)){Bi(c);return}d.outputName&&d.outputName!==s&&Gi(c,d.outputName)}},ZO=(e,t,n,r,i)=>{let a=e.tagName.toLowerCase(),{attrName:o,attrValue:s}=i;i.keepAttr=QO(t,n,r,a,o,s),i.keepAttr?(i.allowedAttributes[o]=!0,ek(o,n,e.nodeName)&&(i.attrValue=o),t.allow_svg_data_urls&&At(s,`data:image/svg+xml`)&&(i.forceKeepAttr=!0)):$O(e,o)&&(i.forceKeepAttr=!0)},QO=(e,t,n,r,i,a)=>n!==`html`&&!Rs(r)?!0:!(i in qO&&GO(e,a,r))&&(!e.validate||t.isValid(r,i)||At(i,`data-`)||At(i,`aria-`)),$O=(e,t)=>e.hasAttribute(JO)&&(t===`id`||t===`class`||t===`style`),ek=(e,t,n)=>e in t.getBoolAttrs()&&!Ye(t.getCustomElements(),n.toLowerCase()),tk=(e,t,n,r)=>{let{attributes:i}=e;for(let a=i.length-1;a>=0;a--){let o=i[a],s=o.name,c=o.value;!QO(t,n,r,e.tagName.toLowerCase(),s,c)&&!$O(e,s)?e.removeAttribute(s):ek(s,n,e.nodeName)&&e.setAttribute(s,s)}},nk=(e,t,n)=>{let r=LO();return r.addHook(`uponSanitizeElement`,(r,i)=>{XO(r,e,t,n.track(r),i)}),r.addHook(`uponSanitizeAttribute`,(r,i)=>{ZO(r,e,t,n.current(),i)}),r},rk=(e,t)=>{let n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:[`#comment`,`#cdata-section`,`body`,`html`],ALLOWED_ATTR:[]};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n},ik=e=>{let t={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:[`type`,`href`,`role`,`arcrole`,`title`,`show`,`actuate`,`label`,`from`,`to`].map(e=>`xlink:${e}`)};LO().sanitize(e,t)},ak=(e,t)=>{let n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=LO(),i=t.allow_mathml_annotation_encodings,a=x(i)&&i.length>0,o=e=>{let t=e.getAttribute(`encoding`);return a&&v(t)&&pe(i,t)},s=(e,n)=>a&&n===`semantics`?P.some(!0):n===`annotation`?P.some(qo(e)&&o(e)):x(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(n)?P.from(!0):P.none();r.addHook(`uponSanitizeElement`,(e,n)=>{let r=n.tagName??e.nodeName.toLowerCase();s(e,r).each(i=>{n.allowedTags[r]=i,!i&&t.sanitize&&qo(e)&&e.remove()})}),r.addHook(`uponSanitizeAttribute`,(e,n)=>{x(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(n.attrName)&&(n.forceKeepAttr=!0)}),r.sanitize(e,n)},ok=e=>t=>{let n=Bs(t);if(n===`svg`)ik(t);else if(n===`math`)ak(t,e);else throw Error(`Not a namespace element`)},sk=(e,t)=>{let n=Hs();if(e.sanitize){let r=nk(e,t,n);return{sanitizeHtmlElement:(t,i)=>{r.sanitize(t,rk(e,i)),r.removed=[],n.reset()},sanitizeNamespaceElement:ok(e)}}else return{sanitizeHtmlElement:(r,i)=>{let a=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT),o;for(;o=a.nextNode();){let r=n.track(o);XO(o,e,t,r),qo(o)&&tk(o,e,t,r)}n.reset()},sanitizeNamespaceElement:E}},ck=[`script`,`style`,`template`,`param`,`meta`,`title`,`link`],lk=U.makeMap,uk=U.extend,dk=(e,t,n,r,i)=>{let a=e.name,o=a in n&&a!==`title`&&a!==`textarea`&&a!==`noscript`,s=t.childNodes;for(let t=0,a=s.length;t<a;t++){let a=s[t],c=new ax(a.nodeName.toLowerCase(),a.nodeType);if(qo(a)){let e=a.attributes;for(let t=0,n=e.length;t<n;t++){let n=e[t];c.attr(n.name,n.value)}Rs(c.name)&&(r(a),c.value=a.innerHTML)}else q(a)?(c.value=a.data,o&&(c.raw=!0)):ss(a)?c.value=i?iD(a.data):a.data:(as(a)||os(a))&&(c.value=a.data);if(vs(a)){let e=ax.create(`#text`);e.value=a.innerHTML,e.raw=!0,c.append(e)}else Rs(c.name)||dk(c,a,n,r,i);e.append(c)}},fk=(e,t,n)=>{let r=[];for(let n=e,i=n;n;i=n,n=n.walk()){let a=n;I(t,e=>e(a)),ne(a.parent)&&a!==e?n=i:r.push(a)}for(let e=r.length-1;e>=0;e--){let t=r[e];I(n,e=>e(t))}},pk=(e,t,n,r)=>{let i=n.validate,a=t.getNonEmptyElements(),o=t.getWhitespaceElements(),s=uk(lk(ck),t.getBlockElements()),c=cl(t),l=/[ \t\r\n]+/g,u=/^[ \t\r\n]+/,d=/[ \t\r\n]+$/,f=e=>{let t=e.parent;for(;C(t);)if(t.name in o)return!0;else t=t.parent;return!1},p=e=>{let n=e;for(;C(n);)if(n.name in c)return WE(t,a,o,n);else n=n.parent;return!1},m=n=>n.name in s||oc(t,n)||Rs(n.name)&&n.parent===e,h=(t,n)=>C(n?t.prev:t.next)||ne(t.parent)?!1:m(t.parent)&&(t.parent!==e||r.isRootContent===!0);return[e=>{if(e.type===3&&!f(e)){let t=e.value??``;t=t.replace(l,` `),(GE(e.prev,m)||h(e,!0))&&(t=t.replace(u,``)),t.length===0||t===` `&&e.prev&&e.prev.type===8&&e.next&&e.next.type===8?e.remove():e.value=t}},e=>{if(e.type===1){let s=t.getElementRule(e.name);if(i&&s){let i=WE(t,a,o,e);s.paddInEmptyBlock&&i&&p(e)?BE(n,r,m,e):s.removeEmpty&&i?m(e)?e.remove():e.unwrap():s.paddEmpty&&(i||VE(e))&&BE(n,r,m,e)}}else if(e.type===3&&!f(e)){let t=e.value??``;(e.next&&m(e.next)||h(e,!1))&&(t=t.replace(d,``)),t.length===0?e.remove():e.value=t}}]},mk=(e,t)=>{let n=t.forced_root_block??e.forced_root_block;return n===!1?``:n===!0?`p`:n},hk=` xmlns="http://www.w3.org/1999/xhtml"`,gk=(e={},t=ul())=>{let n=nD(),r=nD(),i={validate:!0,root_name:`body`,sanitize:!0,allow_html_in_comments:!1,...e},a=new DOMParser,o=sk(i,t),s=(e,n,r=`html`,i=!1)=>{let s=r===`xhtml`,c=s?`application/xhtml+xml`:`text/html`,l=Ye(t.getSpecialElements(),n.toLowerCase()),u=l?`<${n}>${e}</${n}>`:e,d=a.parseFromString(/^[\s]*<head/i.test(e)||/^[\s]*<html/i.test(e)||/^[\s]*<!DOCTYPE/i.test(e)?`<html${s?hk:``}>${u}</html>`:s?`<html${hk}><head></head><body>${u}</body></html>`:`<body>${u}</body>`,c),f=i?d.documentElement:d.body;return o.sanitizeHtmlElement(f,c),l?f.firstChild:f},c=n.addFilter,l=n.getFilters,u=n.removeFilter,d=r.addFilter,f=r.getFilters,p=r.removeFilter,m=(e,n)=>{ZE(t,e)&&n.push(e)},h=(e,n)=>{let r=v(n.attr(JO)),i=n.type===1&&!Ye(e,n.name)&&!oc(t,n)&&!Rs(n.name);return n.type===3||i&&!r},g=(e,n)=>{let r=uk(lk(ck),t.getBlockElements()),a=/^[ \t\r\n]+/,o=/[ \t\r\n]+$/,s=e.firstChild,c=null,l=e=>{e&&(s=e.firstChild,s&&s.type===3&&(s.value=s.value?.replace(a,``)),s=e.lastChild,s&&s.type===3&&(s.value=s.value?.replace(o,``)))};if(t.isValidChild(e.name,n.toLowerCase())){for(;s;){let t=s.next;h(r,s)?c?c.append(s):(c=new ax(n,1),c.attr(i.forced_root_block_attrs),e.insert(c,s),c.append(s)):(l(c),c=null),s=t}l(c)}},_={schema:t,addAttributeFilter:d,getAttributeFilters:f,removeAttributeFilter:p,addNodeFilter:c,getNodeFilters:l,removeNodeFilter:u,parse:(e,n={})=>{let r=i.validate,a=(n.context??i.root_name)===`#document`,c=n.context??(a?`html`:i.root_name),u=s(e,c,n.format,a);Qs(t,u);let d=new ax(c,11);dk(d,u,t.getSpecialElements(),o.sanitizeNamespaceElement,i.sanitize&&i.allow_html_in_comments),u.innerHTML=``;let[p,h]=pk(d,t,i,n),_=[],v=r?e=>m(e,_):E,y={nodes:{},attributes:{}},b=e=>IE(l(),f(),e,y);fk(d,[p,b],[h,v]),_.reverse(),r&&_.length>0&&(n.context?n.invalid=!0:YE(_,t,d,b));let x=mk(i,n);return x&&(d.name===`body`||n.isRootContent)&&g(d,x),n.invalid||RE(y,n),d}};return ND(_,i),lD(_,i,t),_},_k=e=>e instanceof ax,vk=e=>_k(e)?Ox({validate:!1}).serialize(e):e,yk=(e,t,n)=>{let r=vk(e),i=t(r);if(i.isDefaultPrevented())return i;if(_k(e))if(i.content!==r){let t=gk({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:e.name});return{...i,content:t}}else return{...i,content:e};else return i},bk=e=>({sanitize:hh(e),sandbox_iframes:Th(e),sandbox_iframes_exclusions:Eh(e)}),xk=(e,t)=>{if(t.no_events)return et.value(t);{let n=dp(e,t);return n.isDefaultPrevented()?et.error(fp(e,{content:``,...n}).content):et.value(n)}},Sk=(e,t,n)=>n.no_events?t:yk(t,t=>fp(e,{...n,content:t}),bk(e)).content,Ck=(e,t)=>{if(t.no_events)return et.value(t);{let n=yk(t.content,n=>lp(e,{...t,content:n}),bk(e));return n.isDefaultPrevented()?(up(e,n),et.error(void 0)):et.value(n)}},wk=(e,t,n)=>{n.no_events||up(e,{...n,content:t})},Tk=`autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format`.split(`,`),Ek=[`content_css_cors`],Dk=`bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc`.split(`,`),Ok=[{name:`export`,replacedWith:`Export to PDF`}],kk=(e,t)=>je(L(t,t=>Ye(e,t))),Ak=e=>{let t=kk(e,Tk),n=e.forced_root_block;return(n===!1||n===``)&&t.push(`forced_root_block (false only)`),je(t)},jk=e=>kk(e,Ek),Mk=(e,t)=>{let n=U.makeMap(e.plugins,` `);return je(L(t,e=>Ye(n,e)))},Nk=e=>Mk(e,Dk),Pk=e=>Mk(e,Ok.map(e=>e.name)),Fk=(e,t)=>{let n=Ak(e),r=Nk(t),i=r.length>0,a=n.length>0,o=t.theme===`mobile`;if(i||a||o){let e=o?`

Themes:
- mobile`:``,t=i?`\n\nPlugins:
- ${r.join(`
- `)}`:``,s=a?`\n\nOptions:
- ${n.join(`
- `)}`:``;console.warn(`The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information.`+e+t+s)}},Ik=e=>Se(Ok,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),Lk=(e,t)=>{let n=jk(e),r=Pk(t),i=r.length>0,a=n.length>0;if(i||a){let e=i?`\n\nPlugins:
- ${r.map(Ik).join(`
- `)}`:``,t=a?`\n\nOptions:
- ${n.join(`
- `)}`:``;console.warn(`The following deprecated features are currently enabled but will be removed soon.`+e+t)}},Rk=(e,t)=>{Fk(e,t),Lk(e,t)},zk={fire:`The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.`,selectionSetContent:`The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.`},Bk=e=>{console.warn(zk[e],Error().stack)},Vk=e=>e.dom.length===0?(zi(e),P.none()):P.some(e),Hk=(e,t)=>e.filter(e=>iy.isBookmarkNode(e.dom)).bind(t?Gr:Wr),Uk=(e,t,n,r,i)=>{let a=e.dom,o=t.dom,s=r?a.length:o.length;r?(XS(a,o,i,!1,!r),n.setStart(o,s)):(XS(o,a,i,!1,!r),n.setEnd(o,s))},Wk=(e,t,n)=>{Br(e).each(r=>{let i=e.dom;t&&PS(r,X(i,0),n)?JS(i,0,n):!t&&IS(r,X(i,i.length),n)&&YS(i,i.length,n)})},Gk=(e,t,n,r,i)=>{e.bind(e=>((r?YS:JS)(e.dom,r?e.dom.length:0,i),t.filter(Mr).map(t=>Uk(e,t,n,r,i)))).orThunk(()=>Hk(t,r).or(t).filter(Mr).map(e=>Wk(e,r,i)))},Kk=(e,t,n)=>{let r=P.from(t.firstChild).map(W.fromDom),i=P.from(t.lastChild).map(W.fromDom);e.deleteContents(),e.insertNode(t);let a=r.bind(Wr).filter(Mr).bind(Vk),o=i.bind(Gr).filter(Mr).bind(Vk);Gk(a,r,e,!0,n),Gk(o,i,e,!1,n),e.collapse(!1)},qk=(e,t)=>({format:`html`,...e,set:!0,selection:!0,content:t}),Jk=(e,t)=>{if(t.format!==`raw`){let n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),i=r?{context:r.nodeName.toLowerCase()}:{},a=e.parser.parse(t.content,{forced_root_block:!1,...i,...t});return Ox({validate:!1},e.schema).serialize(a)}else return t.content},Yk=(e,t,n={})=>{Ck(e,qk(n,t)).each(t=>{let n=Jk(e,t),r=e.selection.getRng();Kk(r,r.createContextualFragment(n),e.schema),e.selection.setRng(r),Gb(e,r),wk(e,n,t)})},Xk=(e,t,n={})=>{Bk(`selectionSetContent`),Yk(e,t,n)},Zk=e=>C(e.firstChild)&&e.firstChild===e.lastChild,Qk=e=>e.name===`br`||e.value===`\xA0`,$k=(e,t)=>e.getBlockElements()[t.name]&&Zk(t)&&Qk(t.firstChild),eA=(e,t)=>{let n=e.getNonEmptyElements();return C(t)&&(t.isEmpty(n)||$k(e,t))},tA=(e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&n.name===`meta`&&(n=n.next),r&&r.attr(`id`)===`mce_marker`&&(r=r.prev),eA(e,r)&&(r=r?.prev),!n||n!==r?!1:n.name===`ul`||n.name===`ol`},nA=e=>{let t=e.firstChild,n=e.lastChild;return t&&t.nodeName===`META`&&t.parentNode?.removeChild(t),n&&n.id===`mce_marker`&&n.parentNode?.removeChild(n),e},rA=(e,t,n)=>{let r=t.serialize(n);return nA(e.createFragment(r))},iA=e=>L(e?.childNodes??[],e=>e.nodeName===`LI`),aA=e=>e.data===`\xA0`||us(e),oA=e=>C(e?.firstChild)&&e.firstChild===e.lastChild&&aA(e.firstChild),sA=e=>!e.firstChild||oA(e),cA=e=>e.length>0&&sA(e[e.length-1])?e.slice(0,-1):e,lA=(e,t)=>{let n=e.getParent(t,e.isBlock);return n&&n.nodeName===`LI`?n:null},uA=(e,t)=>!!lA(e,t),dA=(e,t)=>{let n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},fA=(e,t)=>{let n=X.before(e),r=Ug(t).next(n);return r?r.toRange():null},pA=(e,t)=>{let n=X.after(e),r=Ug(t).prev(n);return r?r.toRange():null},mA=(e,t,n,r)=>{let i=dA(e,r),a=e.parentNode;return a&&(a.insertBefore(i[0],e),U.each(t,t=>{a.insertBefore(t,e)}),a.insertBefore(i[1],e),a.removeChild(e)),pA(t[t.length-1],n)},hA=(e,t,n)=>{let r=e.parentNode;return r&&U.each(t,t=>{r.insertBefore(t,e)}),fA(e,n)},gA=(e,t,n,r)=>(r.insertAfter(t.reverse(),e),pA(t[0],n)),_A=(e,t,n,r)=>{let i=rA(t,e,r),a=lA(t,n.startContainer),o=cA(iA(i.firstChild)),s=t.getRoot(),c=e=>{let r=X.fromRangeStart(n),i=Ug(t.getRoot()),o=(e===1?i.prev(r):i.next(r))?.getNode();return o?lA(t,o)!==a:!0};return a?c(1)?hA(a,o,s):c(2)?gA(a,o,s,t):mA(a,o,s,n):null},vA=[`pre`],yA=(e,t,n,r)=>{let i=t.firstChild,a=t.lastChild,o=i===(a.attr(`data-mce-type`)===`bookmark`?a.prev:a),s=pe(vA,i.name);if(o&&s){let t=i.attr(`contenteditable`)!==`false`,a=e.getParent(n,e.isBlock)?.nodeName.toLowerCase()===i.name,o=P.from(Iw(r,n)).forall(ps);return t&&a&&o}else return!1},bA=gs,xA=(e,t,n)=>C(n)?n===e.getParent(t.endContainer,bA)&&G_(W.fromDom(n),t):!1,SA=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){let e=t.childNodes;return e.length===1&&us(e[0])||e.length===0}else return!1},CA=(e,t,n)=>{n.getAttribute(`data-mce-bogus`)===`all`?n.parentNode?.insertBefore(e.dom.createFragment(t),n):SA(e.dom,n)?e.dom.setHTML(n,t):Yk(e,t,{no_events:!0})},wA=(e,t,n)=>{P.from(e.getParent(t,`td,th`)).map(W.fromDom).each(e=>zu(e,n))},TA=(e,t)=>{let n=e.schema.getTextInlineElements(),r=e.dom;if(t){let t=e.getBody(),i=zw(e),a=`*[data-mce-fragment]`,o=r.select(a);U.each(o,e=>{let o=e=>C(n[e.nodeName.toLowerCase()]),s=e=>e.childNodes.length===1;if((e=>!(Ix(r,e)||Lx(r,e)))(e)&&o(e)&&s(e)){let n=Nx(r,e),c=(e,t)=>De(e,e=>pe(t,e)),l=t=>s(e)&&r.is(t,a)&&o(t)&&(t.nodeName===e.nodeName&&c(n,Nx(r,t))||l(t.children[0])),u=n=>C(n)&&n!==t&&(i.compare(e,n)||u(n.parentElement)),d=n=>C(n)&&n!==t&&r.is(n,a)&&(zx(r,e,n)||d(n.parentElement));(l(e.children[0])||u(e.parentElement)&&!d(e.parentElement))&&r.remove(e,!0)}}),ME(e,qi(o))}},EA=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr(`data-mce-fragment`,`1`)},DA=e=>{U.each(e.getElementsByTagName(`*`),e=>{e.removeAttribute(`data-mce-fragment`)})},OA=e=>!!e.getAttribute(`data-mce-fragment`),kA=(e,t)=>C(t)&&!e.schema.getVoidElements()[t.nodeName],AA=(e,t)=>{let n,r=e.dom,i=e.selection;if(!t)return;i.scrollIntoView(t);let a=Iw(e.getBody(),t);if(a&&r.getContentEditable(a)===`false`){r.remove(t),i.select(a);return}let o=r.createRng(),s=t.previousSibling;if(q(s)){o.setStart(s,s.nodeValue?.length??0);let e=t.nextSibling;q(e)&&(s.appendData(e.data),e.parentNode?.removeChild(e))}else o.setStartBefore(t),o.setEndBefore(t);let c=t=>{let n=X.fromRangeStart(t);return n=Ug(e.getBody()).next(n),n?.toRange()},l=r.getParent(t,r.isBlock);if(r.remove(t),l&&r.isEmpty(l)){let e=bA(l);Ri(W.fromDom(l)),o.setStart(l,0),o.setEnd(l,0),!e&&!OA(l)&&(n=c(o))?(o=n,r.remove(l)):r.add(l,r.create(`br`,e?{}:{"data-mce-bogus":`1`}))}i.setRng(o)},jA=e=>{let t=e.dom,n=eD(e.selection.getRng());e.selection.setRng(n);let r=t.getParent(n.startContainer,bA);xA(t,n,r)?gw(e,n,W.fromDom(r)):$_(n)||Q_(n)?n.deleteContents():e.getDoc().execCommand(`Delete`,!1)},MA=e=>{for(let t=e;t;t=t.walk())if(t.attr(`id`)===`mce_marker`)return P.some(t);return P.none()},NA=(e,t,n)=>me(n.children(),NE)&&e.getParent(t,e.isBlock)?.nodeName===`SUMMARY`,PA=(e,t,n)=>{let r=e.selection,i=e.dom,a=e.parser,o=n.merge,s=Ox({validate:!0},e.schema),c=`<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>`;n.preserve_zwsp||(t=Vu(t)),t.indexOf(`{$caret}`)===-1&&(t+=`{$caret}`),t=t.replace(/\{\$caret\}/,c);let l=r.getRng(),u=l.startContainer,d=e.getBody();u===d&&r.isCollapsed()&&i.isBlock(d.firstChild)&&kA(e,d.firstChild)&&i.isEmpty(d.firstChild)&&(l=i.createRng(),l.setStart(d.firstChild,0),l.setEnd(d.firstChild,0),r.setRng(l)),r.isCollapsed()||jA(e);let f=r.getNode(),p={context:f.nodeName.toLowerCase(),data:n.data,insert:!0},m=a.parse(t,p);if(n.paste===!0&&tA(e.schema,m)&&uA(i,f))return l=_A(s,i,r.getRng(),m),l&&r.setRng(l),t;n.paste===!0&&yA(i,m,f,e.getBody())&&m.firstChild?.unwrap(),EA(m);let h=m.lastChild;if(h&&h.attr(`id`)===`mce_marker`){let t=h;for(h=h.prev;h&&h.name!==`table`;h=h.walk(!0))if(h.type===3||!i.isBlock(h.name)){h.parent&&e.schema.isValidChild(h.parent.name,`span`)&&h.parent.insert(t,h,h.name===`br`);break}}if(e._selectionOverrides.showBlockCaretContainer(f),!p.invalid&&!NA(i,f,m))t=s.serialize(m),CA(e,t,f);else{Yk(e,c);let n=r.getNode(),o,l=e.getBody();for(cs(n)?n=o=l:o=n;o&&o!==l;)n=o,o=o.parentNode;t=n===l?l.innerHTML:i.getOuterHTML(n);let u=a.parse(t),d=MA(u),f=d.bind(KE).getOr(u);d.each(e=>e.replace(m));let p=qE(m);m.unwrap(),YE(L(p,t=>ZE(e.schema,t)),e.schema,f),zE(a.getNodeFilters(),a.getAttributeFilters(),u),t=s.serialize(u),n===l?i.setHTML(l,t):i.setOuterHTML(n,t)}return TA(e,o),AA(e,i.get(`mce_marker`)),DA(e.getBody()),wA(i,r.getStart(),e.schema),ec(e.schema,e.getBody(),r.getStart()),t},FA=e=>{qy(e)&&r_(e.getBody()).each(t=>{let n=t.getNode(),r=ns(n)?r_(n).getOr(t):t;e.selection.setRng(r.toRange())})},IA=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&FA(e)},LA=(e,t,n,r)=>{if(n=Vu(n),n.length===0||/^\s+$/.test(n)){let i=`<br data-mce-bogus="1">`;t.nodeName===`TABLE`?n=`<tr><td>`+i+`</td></tr>`:/^(UL|OL)$/.test(t.nodeName)&&(n=`<li>`+i+`</li>`);let a=Rp(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())?(n=i,n=e.dom.createHTML(a,zp(e),n)):n||=i,IA(e,n,r.no_selection),{content:n,html:n}}else{r.format!==`raw`&&(n=Ox({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));let i=Pu(W.fromDom(t))?n:U.trim(n);return IA(e,i,r.no_selection),{content:i,html:i}}},RA=(e,t,n,r)=>{zE(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);let i=Ox({validate:!1},e.schema).serialize(n),a=Vu(Pu(W.fromDom(t))?i:U.trim(i));return IA(e,a,r.no_selection),{content:n,html:a}},zA=(e,t,n)=>P.from(e.getBody()).map(r=>_k(t)?RA(e,r,t,n):LA(e,r,t,n)).getOr({content:t,html:_k(n.content)?``:n.content}),BA={},VA=Zo([`pre`]),HA=(e,t)=>{BA[e]||(BA[e]=[]),BA[e].push(t)},UA=(e,t)=>{Ye(BA,e)&&I(BA[e],e=>{e(t)})};HA(`pre`,e=>{let t=e.selection.getRng(),n=e=>t=>{let n=t.previousSibling;return VA(n)&&pe(e,n)},r=(e,t)=>{let n=W.fromDom(t),r=Lr(n).dom;zi(n),Oi(W.fromDom(e),[W.fromTag(`br`,r),W.fromTag(`br`,r),...Jr(n)])};if(!t.collapsed){let t=e.selection.getSelectedBlocks();I(L(L(t,VA),n(t)),e=>{r(e.previousSibling,e)})}});let WA=U.each,GA=(e,t,n,r)=>{let i=t=>{if(Jo(t)&&qo(t.parentNode)&&e.isEditable(t)){let n=gv(e,t.parentNode);e.getStyle(t,`color`)&&n?e.setStyle(t,`text-decoration`,n):e.getStyle(t,`text-decoration`)===n&&e.setStyle(t,`text-decoration`,null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(U.walk(r,i,`childNodes`),i(r))},KA=(e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){let i=JT(e,`fontSize`);KT(r,t=>i(t)&&e.isEditable(t),YT(e,`backgroundColor`,fv(t.styles.backgroundColor,n)))}},qA=(e,t,n,r)=>{if(Tv(t)&&(t.inline===`sub`||t.inline===`sup`)){let n=JT(e,`fontSize`);KT(r,t=>n(t)&&e.isEditable(t),YT(e,`fontSize`,``));let i=L(e.select(t.inline===`sup`?`sub`:`sup`,r),e.isEditable);e.remove(i,!0)}},JA=(e,t,n,r)=>{WA(t,t=>{Tv(t)&&WA(e.dom.select(t.inline,r),r=>{VT(r)&&yE(e,t,n,r,t.exact?r:null)}),GT(e.dom,t,r)})},YA=(e,t,n,r,i)=>{let a=i.parentNode;rT(e,a,n,r)&&yE(e,t,r,i)||t.merge_with_parents&&a&&e.dom.getParent(a,a=>rT(e,a,n,r)?(yE(e,t,r,i),!0):!1)},XA=U.each,ZA=(e,t,n,r)=>{if(wm(e)&&Tv(t)&&n.parentNode){let t=cl(e.schema),i=io(W.fromDom(n),e=>o_(e.dom));return Xe(t,r)&&Ps(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!i}else return!1},QA=(e,t,n,r)=>{let i=e.formatter.get(t),a=i[0],o=!r&&e.selection.isCollapsed(),s=e.dom,c=e.selection,l=(t,r)=>{let i=!1;return XA(t,t=>wv(t)?s.getContentEditable(r)===`false`&&!t.ceFalseOverride||C(t.collapsed)&&t.collapsed!==o?!0:s.is(r,t.selector)&&!o_(r)?(Xw(e,r,t,n,r),i=!0,!1):!0:!1),i},u=t=>{if(v(t)){let i=s.create(t);return Xw(e,i,a,n,r),i}else return null},d=(o,s,c)=>{let d=[],f=!0,p=a.inline||a.block,m=u(p),h=r=>Sv(a)&&rT(e,r,t,n),g=(t,n,r)=>{let i=Cv(a)&&ov(e.schema,t)&&sv(e,n,p);return r&&i},_=(t,n,r,i)=>{let s=sv(e,p,t.nodeName.toLowerCase())&&sv(e,n,p),l=!c&&q(t)&&Bu(t.data),u=o_(t),d=!Tv(a)||!o.isBlock(t);return(r||i)&&s&&!l&&!u&&d};qv(o,s,t=>{let r,s=t=>{let c=!1,u=f,v=!1,y=t.parentNode,b=y.nodeName.toLowerCase(),x=o.getContentEditable(t);C(x)&&(u=f,f=x===`true`,c=!0,v=dv(e,t));let S=f&&!c;if(us(t)&&!ZA(e,a,t,b)){r=null,xv(a)&&o.remove(t);return}if(h(t)){r=null;return}if(g(t,b,S)){let i=o.rename(t,p);Xw(e,i,a,n,t),d.push(i),r=null;return}if(wv(a)){let e=l(i,t);if(!e&&C(y)&&Dv(a)&&(e=l(i,y)),!Tv(a)||e){r=null;return}}C(m)&&_(t,b,S,v)?(r||(r=o.clone(m,!1),y.insertBefore(r,t),d.push(r)),v&&c&&(f=u),r.appendChild(t)):(r=null,I(Fe(t.childNodes),s),c&&(f=u),r=null)};I(t,s)}),a.links===!0&&I(d,t=>{let i=t=>{t.nodeName===`A`&&Xw(e,t,a,n,r),I(Fe(t.childNodes),i)};i(t)}),jE(e,t,qi(d)),I(d,r=>{let s=e=>{let t=0;return I(e.childNodes,e=>{!lv(e)&&!k_(e)&&t++}),t},c=t=>Se(t.childNodes,tv).filter(e=>o.getContentEditable(e)!==`false`&&tT(o,e,a)).map(r=>{let i=o.clone(r,!1);return Xw(e,i,a,n,t),o.replace(i,t,!0),o.remove(r,!0),i}).getOr(t),l=s(r);if((d.length>1||!o.isBlock(r))&&l===0){o.remove(r,!0);return}(Tv(a)||xv(a)&&a.wrapper)&&(!a.exact&&l===1&&(r=c(r)),JA(e,i,n,r),YA(e,a,t,n,r),KA(o,a,n,r),GA(o,a,n,r),qA(o,a,n,r),WT(e,a,n,r))})},f=ev(r)?r:c.getNode();if(s.getContentEditable(f)===`false`&&!dv(e,f)){r=f,l(i,r),sp(e,t,r,n);return}if(a){if(r)if(ev(r)){if(!l(i,r)){let e=s.createRng();e.setStartBefore(r),e.setEndAfter(r),d(s,Kv(s,e,i),!0)}}else d(s,r,!0);else !o||!Tv(a)||z_(e).length?(c.setRng(eD(c.getRng())),rv(e,()=>{J_(e,(e,t)=>{d(s,t?e:Kv(s,e,i),!1)})},ce),e.nodeChanged()):xT(e,t,n),NT(e.formatter,t).each(t=>{I(RT(e.selection),e=>Yw(s,e,t,n))});UA(t,e)}sp(e,t,r,n)},$A=(e,t,n,r)=>{(r||e.selection.isEditable())&&QA(e,t,n,r)},ej=e=>Ye(e,`vars`),tj=(e,t)=>{e.set({}),t.on(`NodeChange`,n=>{aj(t,n.element,e.get())}),t.on(`FormatApply FormatRemove`,n=>{aj(t,P.from(n.node).map(e=>ev(e)?e:e.startContainer).bind(e=>qo(e)?P.some(e):P.from(e.parentElement)).getOrThunk(()=>nj(t)),e.get())})},nj=e=>e.selection.getStart(),rj=(e,t,n,r,i)=>xe(t,t=>!te(e.formatter.matchNode(t,n,i??{},r)),t=>$w(e,t,n)?!0:r?!1:C(e.formatter.matchNode(t,n,i,!0))),ij=(e,t)=>{let n=t??nj(e);return L(_v(e.dom,n),e=>qo(e)&&!es(e))},aj=(e,t,n)=>{let r=ij(e,t);Be(n,(n,i)=>{let a=n=>{let a=rj(e,r,i,n.similar,ej(n)?n.vars:void 0),o=a.isSome();if(n.state.get()!==o){n.state.set(o);let e=a.getOr(t);ej(n)?n.callback(o,{node:e,format:i,parents:r}):I(n.callbacks,t=>t(o,{node:e,format:i,parents:r}))}};I([n.withSimilar,n.withoutSimilar],a),I(n.withVars,a)})},oj=(e,t,n,r,i,a)=>{let o=t.get();I(n.split(`,`),t=>{let n=R(o,t).getOrThunk(()=>{let e={withSimilar:{state:B(!1),similar:!0,callbacks:[]},withoutSimilar:{state:B(!1),similar:!1,callbacks:[]},withVars:[]};return o[t]=e,e}),s=()=>rj(e,ij(e),t,i,a).isSome();if(te(a)){let e=i?n.withSimilar:n.withoutSimilar;e.callbacks.push(r),e.callbacks.length===1&&e.state.set(s())}else n.withVars.push({state:B(s()),similar:i,vars:a,callback:r})}),t.set(o)},sj=(e,t,n)=>{let r=e.get();I(t.split(`,`),e=>R(r,e).each(t=>{r[e]={withSimilar:{...t.withSimilar,callbacks:L(t.withSimilar.callbacks,e=>e!==n)},withoutSimilar:{...t.withoutSimilar,callbacks:L(t.withoutSimilar.callbacks,e=>e!==n)},withVars:L(t.withVars,e=>e.callback!==n)}})),e.set(r)},cj=(e,t,n,r,i,a)=>(oj(e,t,n,r,i,a),{unbind:()=>sj(t,n,r)}),lj=(e,t,n,r)=>{let i=e.formatter.get(t);i&&(iT(e,t,n,r)&&(!(`toggle`in i[0])||i[0].toggle)?_E(e,t,n,r):$A(e,t,n,r))},uj=(e,t,n)=>({element:e,width:t,rows:n}),dj=(e,t)=>({element:e,cells:t}),fj=(e,t)=>({x:e,y:t}),pj=(e,t)=>Ni(e,t).bind(zt).getOr(1),mj=(e,t,n,r,i)=>{let a=pj(i,`rowspan`),o=pj(i,`colspan`),s=e.rows;for(let e=n;e<n+a;e++){s[e]||(s[e]=dj(Ui(r),[]));for(let r=t;r<t+o;r++){let a=s[e].cells;a[r]=e===n&&r===t?i:Hi(i)}}},hj=(e,t,n)=>{let r=e.rows;return!!(r[n]?r[n].cells:[])[t]},gj=(e,t,n)=>{for(;hj(e,t,n);)t++;return t},_j=e=>be(e,(e,t)=>t.cells.length>e?t.cells.length:e,0),vj=(e,t)=>{let n=e.rows;for(let e=0;e<n.length;e++){let r=n[e].cells;for(let n=0;n<r.length;n++)if(Sr(r[n],t))return P.some(fj(n,e))}return P.none()},yj=(e,t,n,r,i)=>{let a=[],o=e.rows;for(let e=n;e<=i;e++){let n=o[e].cells,i=t<r?n.slice(t,r+1):n.slice(r,t+1);a.push(dj(o[e].element,i))}return a},bj=(e,t,n)=>{let r=t.x,i=t.y,a=n.x,o=n.y,s=i<o?yj(e,r,i,a,o):yj(e,r,o,a,i);return uj(e.element,_j(s),s)},xj=(e,t)=>{let n=Hi(e.element),r=W.fromTag(`tbody`);return Oi(r,t),wi(n,r),n},Sj=e=>he(e.rows,e=>{let t=he(e.cells,e=>{let t=Ui(e);return Fi(t,`colspan`),Fi(t,`rowspan`),t}),n=Hi(e.element);return Oi(n,t),n}),Cj=e=>{let t=uj(Hi(e),0,[]);return I(no(e,`tr`),(e,n)=>{I(no(e,`td,th`),(r,i)=>{mj(t,gj(t,i,n),n,e,r)})}),uj(t.element,_j(t.rows),t.rows)},wj=e=>xj(e,Sj(e)),Tj=(e,t,n)=>vj(e,t).bind(t=>vj(e,n).map(n=>bj(e,t,n))),Ej=e=>Se(e,e=>Er(e)===`ul`||Er(e)===`ol`),Dj=(e,t)=>Se(e,e=>Er(e)===`li`&&G_(e,t)).fold(O([]),t=>Ej(e).map(e=>{let t=W.fromTag(Er(e));return na(t,Ke(oa(e),(e,t)=>At(t,`list-style`))),[W.fromTag(`li`),t]}).getOr([])),Oj=(e,t)=>{let n=be(t,(e,t)=>(wi(t,e),t),e);return t.length>0?xa([n]):n},kj=e=>ju(e)?Br(e).filter(Au).fold(O([]),t=>[e,t]):Au(e)?[e]:[],Aj=(e,t,n)=>{let r=W.fromDom(t.commonAncestorContainer),i=iS(r,e),a=L(i,e=>n.isWrapper(Er(e))),o=Dj(i,t);return he(a.concat(o.length?o:kj(r)),Hi)},jj=()=>xa([]),Mj=(e,t,n)=>Oj(W.fromDom(t.cloneContents()),Aj(e,t,n)),Nj=(e,t)=>Pa(t,`table`,A(Sr,e)),Pj=(e,t)=>Nj(e,t[0]).bind(e=>{let n=t[0],r=t[t.length-1];return Tj(Cj(e),n,r).map(e=>xa([wj(e)]))}).getOrThunk(jj),Fj=(e,t,n)=>t.length>0&&t[0].collapsed?jj():Mj(e,t[0],n),Ij=(e,t,n)=>{let r=R_(t,e);return r.length>0?Pj(e,r):Fj(e,t,n)},Lj=(e,t)=>t>=0&&t<e.length&&j_(e.charAt(t)),Rj=e=>Vu(e.innerText),zj=e=>e.map(e=>e.nodeName).getOr(`div`).toLowerCase(),Bj=e=>P.from(e.selection.getRng()).map(t=>{let n=P.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),i=zj(n),a=W.fromDom(t.cloneContents());bx(a),xx(a);let o=e.dom.add(r,i,{"data-mce-bogus":`all`,style:`overflow: hidden; opacity: 0;`},a.dom),s=Rj(o),c=Vu(o.textContent??``);if(e.dom.remove(o),Lj(c,0)||Lj(c,c.length-1)){let e=Rj(n.getOr(r)),t=e.indexOf(s);if(t===-1)return s;{let n=Lj(e,t-1),r=Lj(e,t+s.length);return(n?` `:``)+s+(r?` `:``)}}else return s}).getOr(``),Vj=(e,t)=>{let n=e.selection.getRng(),r=e.dom.create(`body`),i=ex(e,N_(e.selection.getSel())),a=t.contextual?Ij(W.fromDom(e.getBody()),i,e.schema).dom:n.cloneContents();return a&&r.appendChild(a),e.selection.serializer.serialize(r,t)},Hj=(e,t)=>{if(t.format===`text`)return Bj(e);{let n=Vj(e,t);return t.format===`tree`?n:e.selection.isCollapsed()?``:n}},Uj=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),Wj=(e,t,n={})=>xk(e,Uj(n,t)).fold(k,t=>Sk(e,Hj(e,t),t)),Gj=(e,t)=>{let n=e.length+t.length+2,r=Array(n),i=Array(n),a=(e,t,n)=>({start:e,end:t,diag:n}),o=(n,r,i,a,s)=>{let l=c(n,r,i,a);if(l===null||l.start===r&&l.diag===r-a||l.end===n&&l.diag===n-i){let o=n,c=i;for(;o<r||c<a;)o<r&&c<a&&e[o]===t[c]?(s.push([0,e[o]]),++o,++c):r-n>a-i?(s.push([2,e[o]]),++o):(s.push([1,t[c]]),++c)}else{o(n,l.start,i,l.start-l.diag,s);for(let t=l.start;t<l.end;++t)s.push([0,e[t]]);o(l.end,r,l.end-l.diag,a,s)}},s=(n,r,i,o)=>{let s=n;for(;s-r<o&&s<i&&e[s]===t[s-r];)++s;return a(n,s,r)},c=(n,a,o,c)=>{let l=a-n,u=c-o;if(l===0||u===0)return null;let d=l-u,f=u+l,p=(f%2==0?f:f+1)/2;r[1+p]=n,i[1+p]=a+1;let m,h,g,_,v;for(m=0;m<=p;++m){for(h=-m;h<=m;h+=2){for(g=h+p,h===-m||h!==m&&r[g-1]<r[g+1]?r[g]=r[g+1]:r[g]=r[g-1]+1,_=r[g],v=_-n+o-h;_<a&&v<c&&e[_]===t[v];)r[g]=++_,++v;if(d%2!=0&&d-m<=h&&h<=d+m&&i[g-d]<=r[g])return s(i[g-d],h+n-o,a,c)}for(h=d-m;h<=d+m;h+=2){for(g=h+p-d,h===d-m||h!==d+m&&i[g+1]<=i[g-1]?i[g]=i[g+1]-1:i[g]=i[g-1],_=i[g]-1,v=_-n+o-h;_>=n&&v>=o&&e[_]===t[v];)i[g]=_--,v--;if(d%2==0&&-m<=h&&h<=m&&i[g]<=r[g+d])return s(i[g],h+n-o,a,c)}}return null},l=[];return o(0,e.length,0,t.length,l),l},Kj=e=>qo(e)?e.outerHTML:q(e)?Rc.encodeRaw(e.data,!1):ss(e)?`<!--`+e.data+`-->`:``,qj=e=>{let t,n=document.createElement(`div`),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},Jj=(e,t,n)=>{let r=qj(t);if(e.hasChildNodes()&&n<e.childNodes.length){let t=e.childNodes[n];e.insertBefore(r,t)}else e.appendChild(r)},Yj=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){let n=e.childNodes[t];e.removeChild(n)}},Xj=(e,t)=>{let n=0;I(e,e=>{e[0]===0?n++:e[0]===1?(Jj(t,e[1],n),n++):e[0]===2&&Yj(t,n)})},Zj=(e,t)=>L(he(Fe(e.childNodes),t?ie(Vu,Kj):Kj),e=>e.length>0),Qj=(e,t)=>(Xj(Gj(he(Fe(t.childNodes),Kj),e),t),t),$j=Ht(()=>document.implementation.createHTMLDocument(`undo`)),eM=e=>e.querySelector(`iframe`)!==null,tM=e=>({type:`fragmented`,fragments:e,content:``,bookmark:null,beforeBookmark:null}),nM=e=>({type:`complete`,fragments:null,content:e,bookmark:null,beforeBookmark:null}),rM=e=>{let t=e.serializer.getTempAttrs(),n=yx(e.getBody(),t);return eM(n)?tM(Zj(n,!0)):nM(Vu(n.innerHTML))},iM=(e,t,n)=>{let r=n?t.beforeBookmark:t.bookmark;t.type===`fragmented`?Qj(t.fragments,e.getBody()):e.setContent(t.content,{format:`raw`,no_selection:C(r)&&f_(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},aM=e=>e.type===`fragmented`?e.fragments.join(``):e.content,oM=e=>{let t=W.fromTag(`body`,$j());return Yi(t,aM(e)),I(no(t,`*[data-mce-bogus]`),Bi),Ji(t)},sM=(e,t)=>aM(e)===aM(t),cM=(e,t)=>oM(e)===oM(t),lM=(e,t)=>!e||!t?!1:sM(e,t)?!0:cM(e,t),uM=e=>e.get()===0,dM=(e,t,n)=>{uM(n)&&(e.typing=t)},fM=(e,t)=>{e.typing&&(dM(e,!1,t),e.add())},pM=e=>{e.typing&&(e.typing=!1,e.add())},mM=(e,t,n)=>{uM(t)&&n.set(If(e.selection))},hM=(e,t,n,r,i,a,o)=>{let s=rM(e),c=U.extend(a||{},s);if(!uM(r)||e.removed)return null;let l=t.data[n.get()];if(e.dispatch(`BeforeAddUndo`,{level:c,lastLevel:l,originalEvent:o}).isDefaultPrevented()||l&&lM(l,c))return null;t.data[n.get()]&&i.get().each(e=>{t.data[n.get()].beforeBookmark=e});let u=Mm(e);if(u&&t.data.length>u){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}c.bookmark=If(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(c),n.set(t.data.length-1);let d={level:c,lastLevel:l,originalEvent:o};return n.get()>0?(e.setDirty(!0),e.dispatch(`AddUndo`,d),e.dispatch(`change`,d)):e.dispatch(`AddUndo`,d),c},gM=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch(`ClearUndos`)},_M=(e,t,n,r,i)=>{if(t.transact(r)){let r=t.data[n.get()].bookmark,a=t.data[n.get()-1];iM(e,a,!0),t.transact(i)&&(t.data[n.get()-1].beforeBookmark=r)}},vM=(e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],iM(e,r,!1),e.setDirty(!0),e.dispatch(`Redo`,{level:r})),r},yM=(e,t,n,r)=>{let i;return t.typing&&(t.add(),t.typing=!1,dM(t,!1,n)),r.get()>0&&(r.set(r.get()-1),i=t.data[r.get()],iM(e,i,!0),e.setDirty(!0),e.dispatch(`Undo`,{level:i})),i},bM=e=>{e.clear(),e.add()},xM=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!lM(rM(e),t.data[0]),SM=(e,t)=>t.get()<e.data.length-1&&!e.typing,CM=(e,t,n)=>(fM(e,t),e.beforeChange(),e.ignore(n),e.add()),wM=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},TM=(e,t)=>{let n=e.dom,r=C(t)?t:e.getBody();I(n.select(`table,a`,r),t=>{switch(t.nodeName){case`TABLE`:let r=Vm(e),i=n.getAttrib(t,`border`);(!i||i===`0`)&&e.hasVisual?n.addClass(t,r):n.removeClass(t,r);break;case`A`:if(!n.getAttrib(t,`href`)){let r=n.getAttrib(t,`name`)||t.id,i=Hm(e);r&&e.hasVisual?n.addClass(t,i):n.removeClass(t,i)}break}}),e.dispatch(`VisualAid`,{element:t,hasVisual:e.hasVisual})},EM=e=>({init:{bindEvents:E},undoManager:{beforeChange:(t,n)=>mM(e,t,n),add:(t,n,r,i,a,o)=>hM(e,t,n,r,i,a,o),undo:(t,n,r)=>yM(e,t,n,r),redo:(t,n)=>vM(e,t,n),clear:(t,n)=>gM(e,t,n),reset:e=>bM(e),hasUndo:(t,n)=>xM(e,t,n),hasRedo:(e,t)=>SM(e,t),transact:(e,t,n)=>CM(e,t,n),ignore:(e,t)=>wM(e,t),extra:(t,n,r,i)=>_M(e,t,n,r,i)},formatter:{match:(t,n,r,i)=>iT(e,t,n,r,i),matchAll:(t,n)=>aT(e,t,n),matchNode:(t,n,r,i)=>rT(e,t,n,r,i),canApply:t=>sT(e,t),closest:t=>oT(e,t),apply:(t,n,r)=>$A(e,t,n,r),remove:(t,n,r,i)=>_E(e,t,n,r,i),toggle:(t,n,r)=>lj(e,t,n,r),formatChanged:(t,n,r,i,a)=>cj(e,t,n,r,i,a)},editor:{getContent:t=>Tx(e,t),setContent:(t,n)=>zA(e,t,n),insertContent:(t,n)=>PA(e,t,n),addVisual:t=>TM(e,t)},selection:{getContent:(t,n)=>Wj(e,t,n)},autocompleter:{addDecoration:E,removeDecoration:E},raw:{getModel:()=>P.none()}}),DM=e=>{let t=e=>y(e)?e:{},{init:n,undoManager:r,formatter:i,editor:a,selection:o,autocompleter:s,raw:c}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(e,t,n)=>r.transact(n),ignore:(e,t)=>r.ignore(t),extra:(e,t,n,i)=>r.extra(n,i)},formatter:{match:(e,n,r,a)=>i.match(e,t(n),a),matchAll:i.matchAll,matchNode:i.matchNode,canApply:e=>i.canApply(e),closest:e=>i.closest(e),apply:(e,n,r)=>i.apply(e,t(n)),remove:(e,n,r,a)=>i.remove(e,t(n)),toggle:(e,n,r)=>i.toggle(e,t(n)),formatChanged:(e,t,n,r,a)=>i.formatChanged(t,n,r,a)},editor:{getContent:e=>a.getContent(e),setContent:(e,t)=>({content:a.setContent(e,t),html:``}),insertContent:(e,t)=>(a.insertContent(e),``),addVisual:a.addVisual},selection:{getContent:(e,t)=>o.getContent(t)},autocompleter:{addDecoration:s.addDecoration,removeDecoration:s.removeDecoration},raw:{getModel:()=>P.some(c.getRawModel())}}},OM=()=>{let e=O(null),t=O(``);return{init:{bindEvents:E},undoManager:{beforeChange:E,add:e,undo:e,redo:e,clear:E,reset:E,hasUndo:N,hasRedo:N,transact:e,ignore:E,extra:E},formatter:{match:N,matchAll:O([]),matchNode:O(void 0),canApply:N,closest:t,apply:E,remove:E,toggle:E,formatChanged:O({unbind:E})},editor:{getContent:t,setContent:O({content:``,html:``}),insertContent:O(``),addVisual:E},selection:{getContent:t},autocompleter:{addDecoration:E,removeDecoration:E},raw:{getModel:O(P.none())}}},kM=e=>Ye(e.plugins,`rtc`),AM=e=>R(e.plugins,`rtc`).bind(e=>P.from(e.setup)),jM=e=>{let t=e;return AM(e).fold(()=>(t.rtcInstance=EM(e),P.none()),e=>(t.rtcInstance=OM(),P.some(()=>e().then(e=>(t.rtcInstance=DM(e),e.rtc.isRemote)))))},MM=e=>e.rtcInstance?e.rtcInstance:EM(e),NM=e=>{let t=e.rtcInstance;if(t)return t;throw Error(`Failed to get RTC instance not yet initialized.`)},PM=(e,t,n)=>{NM(e).undoManager.beforeChange(t,n)},FM=(e,t,n,r,i,a,o)=>NM(e).undoManager.add(t,n,r,i,a,o),IM=(e,t,n,r)=>NM(e).undoManager.undo(t,n,r),LM=(e,t,n)=>NM(e).undoManager.redo(t,n),RM=(e,t,n)=>{NM(e).undoManager.clear(t,n)},zM=(e,t)=>{NM(e).undoManager.reset(t)},BM=(e,t,n)=>NM(e).undoManager.hasUndo(t,n),VM=(e,t,n)=>NM(e).undoManager.hasRedo(t,n),HM=(e,t,n,r)=>NM(e).undoManager.transact(t,n,r),UM=(e,t,n)=>{NM(e).undoManager.ignore(t,n)},WM=(e,t,n,r,i)=>{NM(e).undoManager.extra(t,n,r,i)},GM=(e,t,n,r,i)=>NM(e).formatter.match(t,n,r,i),KM=(e,t,n)=>NM(e).formatter.matchAll(t,n),qM=(e,t,n,r,i)=>NM(e).formatter.matchNode(t,n,r,i),JM=(e,t)=>NM(e).formatter.canApply(t),YM=(e,t)=>NM(e).formatter.closest(t),XM=(e,t,n,r)=>{NM(e).formatter.apply(t,n,r)},ZM=(e,t,n,r,i)=>{NM(e).formatter.remove(t,n,r,i)},QM=(e,t,n,r)=>{NM(e).formatter.toggle(t,n,r)},$M=(e,t,n,r,i,a)=>NM(e).formatter.formatChanged(t,n,r,i,a),eN=(e,t)=>MM(e).editor.getContent(t),tN=(e,t,n)=>MM(e).editor.setContent(t,n),nN=(e,t,n)=>MM(e).editor.insertContent(t,n),rN=(e,t,n)=>NM(e).selection.getContent(t,n),iN=(e,t)=>NM(e).editor.addVisual(t),aN=e=>NM(e).init.bindEvents(),oN=(e,t={})=>rN(e,t.format?t.format:`html`,t),sN=(e,t,n)=>{if(Ye(e,t)){let r=L(e[t],e=>e!==n);r.length===0?delete e[t]:e[t]=r}};var cN=(e,t)=>{let n,r,i=(t,n)=>Se(n,n=>e.is(n,t)),a=t=>e.getParents(t,void 0,e.getRoot()),o=()=>{n={},r={},t.on(`NodeChange`,e=>{let t=e.element,o=a(t),s={};Be(n,(e,t)=>{i(t,o).each(n=>{r[t]||(I(e,e=>{e(!0,{node:n,selector:t,parents:o})}),r[t]=e),s[t]=e})}),Be(r,(e,n)=>{s[n]||(delete r[n],I(e,e=>{e(!1,{node:t,selector:n,parents:o})}))})})};return{selectorChangedWithUnbind:(e,s)=>(n||o(),n[e]||(n[e]=[]),n[e].push(s),i(e,a(t.selection.getStart())).each(()=>{r[e]=n[e]}),{unbind:()=>{sN(n,e,s),sN(r,e,s)}})}};let lN=e=>!!(e&&e.ownerDocument)&&Cr(W.fromDom(e.ownerDocument),W.fromDom(e)),uN=e=>e?lN(e.startContainer)&&lN(e.endContainer):!1,dN=(e,t,n,r)=>{let i,a,{selectorChangedWithUnbind:o}=cN(e,r),s=(t,n)=>{let i=e.createRng();C(t)&&C(n)?(i.setStart(t,n),i.setEnd(t,n),b(i),_(!1)):(K_(e,i,r.getBody(),!0),b(i))},c=e=>oN(r,e),l=(e,t)=>Xk(r,e,t),u=e=>Jb(r.getBody(),y(),e),d=e=>Yb(r.getBody(),y(),e),f=(e,t)=>w.getBookmark(e,t),p=e=>w.moveToBookmark(e),m=(t,n)=>($b(e,t,n).each(b),t),h=()=>{let e=y(),t=v();return!e||e.item?!1:e.compareEndPoints?e.compareEndPoints(`StartToEnd`,e)===0:!t||e.collapsed},g=()=>{if(r.mode.isReadOnly())return!1;let t=y(),n=r.getBody().querySelectorAll(`[data-mce-selected="1"]`);return n.length>0?De(n,t=>e.isEditable(t.parentElement)):Kb(e,t)},_=e=>{let t=y();t.collapse(!!e),b(t)},v=()=>t.getSelection?t.getSelection():t.document.selection,y=()=>{let n,o=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch{return-1}},s=t.document;if(C(r.bookmark)&&!qy(r)){let e=_y(r);if(e.isSome())return e.map(e=>ex(r,[e])[0]).getOr(s.createRange())}try{let e=v();e&&!Ko(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):s.createRange(),n=ex(r,[n])[0])}catch{}if(n||=s.createRange(),cs(n.startContainer)&&n.collapsed){let t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return i&&a&&(o(n.START_TO_START,n,i)===0&&o(n.END_TO_END,n,i)===0?n=a:(i=null,a=null)),n},b=(e,t)=>{if(!uN(e))return;let n=v();if(e=r.dispatch(`SetSelectionRange`,{range:e,forward:t}).range,n){a=e;try{n.removeAllRanges(),n.addRange(e)}catch{}t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&n?.setBaseAndExtent&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){let t=e.startContainer.childNodes[e.startOffset];t&&t.nodeName===`IMG`&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),(n.anchorNode!==e.startContainer||n.focusNode!==e.endContainer)&&n.setBaseAndExtent(t,0,t,1))}r.dispatch(`AfterSetSelectionRange`,{range:e,forward:t})},x=t=>(Yk(r,e.getOuterHTML(t)),t),S=()=>Zb(r.getBody(),y()),ee=(t,n)=>Qb(e,y(),t,n),te=()=>{let t=v(),n=t?.anchorNode,r=t?.focusNode;if(!t||!n||!r||Ko(n)||Ko(r))return!0;let i=e.createRng(),a=e.createRng();try{i.setStart(n,t.anchorOffset),i.collapse(!0),a.setStart(r,t.focusOffset),a.collapse(!0)}catch{return!0}return i.compareBoundaryPoints(i.START_TO_START,a)<=0},ne={dom:e,win:t,serializer:n,editor:r,expand:(t={type:`word`})=>b(yb(e).expand(y(),t)),collapse:_,setCursorLocation:s,getContent:c,setContent:l,getBookmark:f,moveToBookmark:p,select:m,isCollapsed:h,isEditable:g,isForward:te,setNode:x,getNode:S,getSel:v,setRng:b,getRng:y,getStart:u,getEnd:d,getSelectedBlocks:ee,normalize:()=>{let t=y();if(!F_(v())&&q_(r)){let n=gb(e,t);return n.each(e=>{b(e,te())}),n.getOr(t)}return t},selectorChanged:(e,t)=>(o(e,t),ne),selectorChangedWithUnbind:o,getScrollContainer:()=>{let t,n=e.getRoot();for(;n&&n.nodeName!==`BODY`;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:(e,t)=>{C(e)?Wb(r,e,t):Gb(r,y(),t)},placeCaretAt:(e,t)=>b(ab(e,t,r.getDoc())),getBoundingClientRect:()=>{let e=y();return e.collapsed?X.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=i=a=null,re.destroy()}},w=iy(ne),re=ib(ne,r);return ne.bookmarkManager=w,ne.controlSelection=re,ne},fN=(e,t,n)=>{t.addNodeFilter(`br`,(t,r,i)=>{let a=U.extend({},n.getBlockElements()),o=n.getNonEmptyElements(),s=n.getWhitespaceElements();a.body=1;let c=e=>e.name in a||oc(n,e);for(let r=0,l=t.length;r<l;r++){let l=t[r],u=l.parent;if(u&&c(u)&&l===u.lastChild){let t=l.prev;for(;t;){let e=t.name;if(e!==`span`||t.attr(`data-mce-type`)!==`bookmark`){e===`br`&&(l=null);break}t=t.prev}if(l&&(l.remove(),WE(n,o,s,u))){let t=n.getElementRule(u.name);t&&(t.removeEmpty?u.remove():t.paddEmpty&&BE(e,i,c,u))}}else{let e=l;for(;u&&u.firstChild===e&&u.lastChild===e&&(e=u,!a[u.name]);)u=u.parent;if(e===u){let e=new ax(`#text`,3);e.value=`\xA0`,l.replace(e)}}}})},pN=(e,t,n)=>{e.addAttributeFilter(`data-mce-tabindex`,(e,t)=>{let n=e.length;for(;n--;){let r=e[n];r.attr(`tabindex`,r.attr(`data-mce-tabindex`)),r.attr(t,null)}}),e.addAttributeFilter(`src,href,style`,(e,r)=>{let i=`data-mce-`+r,a=t.url_converter,o=t.url_converter_scope,s=e.length;for(;s--;){let t=e[s],c=t.attr(i);c===void 0?(c=t.attr(r),r===`style`?c=n.serializeStyle(n.parseStyle(c),t.name):a&&(c=a.call(o,c,r,t.name)),t.attr(r,c.length>0?c:null)):(t.attr(r,c.length>0?c:null),t.attr(i,null))}}),e.addAttributeFilter(`class`,e=>{let t=e.length;for(;t--;){let n=e[t],r=n.attr(`class`);r&&(r=r.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,``),n.attr(`class`,r.length>0?r:null))}}),e.addAttributeFilter(`data-mce-type`,(e,t,n)=>{let r=e.length;for(;r--;){let t=e[r];t.attr(`data-mce-type`)===`bookmark`&&!n.cleanup&&(P.from(t.firstChild).exists(e=>!Bu(e.value??``))?t.unwrap():t.remove())}}),e.addNodeFilter(`script,style`,(e,n)=>{let r=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,``).replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,``).replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,``),i=e.length;for(;i--;){let a=e[i],o=a.firstChild,s=o?.value??``;if(n===`script`){let e=a.attr(`type`);e&&a.attr(`type`,e===`mce-no/type`?null:e.replace(/^mce\-/,``)),t.element_format===`xhtml`&&o&&s.length>0&&(o.value=`// <![CDATA[
`+r(s)+`
// ]]>`)}else t.element_format===`xhtml`&&o&&s.length>0&&(o.value=`<!--
`+r(s)+`
-->`)}}),e.addNodeFilter(`#comment`,e=>{let r=e.length;for(;r--;){let i=e[r],a=i.value;t.preserve_cdata&&a?.indexOf(`[CDATA[`)===0?(i.name=`#cdata`,i.type=4,i.value=n.decode(a.replace(/^\[CDATA\[|\]\]$/g,``))):a?.indexOf(`mce:protected `)===0&&(i.name=`#text`,i.type=3,i.raw=!0,i.value=unescape(a).substr(14))}}),e.addNodeFilter(`xml:namespace,input`,(e,t)=>{let n=e.length;for(;n--;){let r=e[n];r.type===7?r.remove():r.type===1&&t===`input`&&!r.attr(`type`)&&r.attr(`type`,`text`)}}),e.addAttributeFilter(`data-mce-type`,t=>{I(t,t=>{t.attr(`data-mce-type`)===`format-caret`&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter(`data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder`,(e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)}),t.remove_trailing_brs&&fN(t,e,e.schema)},mN=e=>{let t=e=>e?.name===`br`,n=e.lastChild;if(t(n)){let e=n.prev;t(e)&&(n.remove(),e.remove())}},hN=(e,t,n)=>{let r,i=e.dom,a=t.cloneNode(!0),o=document.implementation;if(o.createHTMLDocument){let e=o.createHTMLDocument(``);U.each(a.nodeName===`BODY`?a.childNodes:[a],t=>{e.body.appendChild(e.importNode(t,!0))}),a=a.nodeName===`BODY`?e.body:e.body.firstChild,r=i.doc,i.doc=e}return Yf(e,{...n,node:a}),r&&(i.doc=r),a},gN=(e,t)=>C(e)&&e.hasEventListeners(`PreProcess`)&&!t.no_events,_N=(e,t,n)=>gN(e,n)?hN(e,t,n):t,vN=(e,t,n)=>{U.inArray(t,n)===-1&&(e.addAttributeFilter(n,(e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)}),t.push(n))},yN=(e,t,n)=>!t.no_events&&e?Xf(e,{...t,content:n}).content:n,bN=(e,t,n)=>{let r=Vu(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Pu(W.fromDom(t))?r:U.trim(r)},xN=(e,t,n)=>{let r=n.selection?{forced_root_block:!1,...n}:n,i=e.parse(t,r);return mN(i),i},SN=(e,t,n)=>Ox(e,t).serialize(n),CN=(e,t,n,r,i)=>yN(e,i,SN(t,n,r)),wN=(e,t)=>{let n=[`data-mce-selected`],r={entity_encoding:`named`,remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=t&&t.dom?t.dom:ql.DOM,a=t&&t.schema?t.schema:ul(r),o=gk(r,a);return pN(o,r,i),{schema:a,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:(e,n={})=>{let{indent:s,entity_encoding:c,...l}=n,u={format:`html`,...l},d=xN(o,bN(i,_N(t,e,u),u),u);return u.format===`tree`?d:CN(t,{...r,...C(s)?{indent:s}:{},...C(c)?{entity_encoding:c}:{}},a,d,u)},addRules:a.addValidElements,setRules:a.setValidElements,addTempAttr:A(vN,o,n),getTempAttrs:O(n),getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},TN=(e,t)=>{let n=wN(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},EN=(e,t)=>({...e,format:t,get:!0,getInner:!0}),DN=(e,t={})=>xk(e,EN(t,t.format?t.format:`html`)).fold(k,t=>Sk(e,eN(e,t),t)),ON=(e,t)=>({format:`html`,...e,set:!0,content:t}),kN=(e,t,n={})=>{Ck(e,ON(n,t)).each(t=>{wk(e,tN(e,t.content,t).html,t)})},AN=ql.DOM,jN=e=>{AN.setStyle(e.id,`display`,e.orgDisplay)},MN=e=>P.from(e).each(e=>e.destroy()),NN=e=>{let t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;let n=e.selection;if(n){let e=n.dom;t.selection=n.win=n.dom=e.doc=null}},PN=e=>{let t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),AN.unbind(t,`submit reset`,e.formEventDelegate))},FN=e=>{if(!e.removed){let{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),i=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&C(i?.nextSibling)&&AN.remove(i.nextSibling),Zf(e),e.editorManager.remove(e),!e.inline&&r&&jN(e),Qf(e),AN.remove(e.getContainer()),MN(t),MN(n),e.destroy()}},IN=(e,t)=>{let{selection:n,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off(`beforeunload`,e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),MN(n),MN(r)),PN(e),NN(e),e.destroyed=!0}},LN=(()=>{let e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>Ye(e,t)}})(),RN=nu.ModelManager,zN=(e,t)=>t.dom[e],BN=(e,t)=>parseInt(ra(t,e),10),VN=A(zN,`clientWidth`),HN=A(zN,`clientHeight`),UN=A(BN,`margin-top`),WN=A(BN,`margin-left`),GN=e=>e.dom.getBoundingClientRect(),KN=(e,t,n)=>{let r=VN(e),i=HN(e);return t>=0&&n>=0&&t<=r&&n<=i},qN=(e,t,n,r)=>{let i=GN(t),a=e?i.left+t.dom.clientLeft+WN(t):0,o=e?i.top+t.dom.clientTop+UN(t):0;return{x:n-a,y:r-o}},JN=(e,t,n)=>{let r=W.fromDom(e.getBody()),i=e.inline?r:Rr(r),a=qN(e.inline,i,t,n);return KN(i,a.x,a.y)},YN=e=>P.from(e).map(W.fromDom),XN=e=>YN(e.inline?e.getBody():e.getContentAreaContainer()).map(Qi).getOr(!1);var ZN=()=>{let e=()=>{throw Error(`Theme did not provide a NotificationManager implementation.`)};return{open:e,close:e,getArgs:e}};let QN=e=>{let t=[],n=()=>{let t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():ZN()},r=()=>P.from(t[0]),i=(e,t)=>e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout,a=()=>{r().each(e=>{e.reposition()})},o=e=>{t.push(e)},s=e=>{Ce(t,t=>t===e).each(e=>{t.splice(e,1)})},c=(r,c=!0)=>e.removed||!XN(e)?{}:(c&&e.dispatch(`BeforeOpenNotification`,{notification:r}),Se(t,e=>i(n().getArgs(e),r)).getOrThunk(()=>{e.editorManager.setActive(e);let t=n().open(r,()=>{s(t)},()=>Jy(e));return o(t),a(),e.dispatch(`OpenNotification`,{notification:{...t}}),t})),l=()=>{r().each(e=>{n().close(e),s(e),a()})},u=O(t);return(e=>{e.on(`SkinLoaded`,()=>{let t=gm(e);t&&c({text:t,type:`warning`,timeout:0},!1),a()}),e.on(`show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged`,()=>{requestAnimationFrame(a)}),e.on(`remove`,()=>{I(t.slice(),e=>{n().close(e)})}),e.on(`keydown`,e=>{let t=e.key?.toLowerCase()===`f12`||e.keyCode===123;e.altKey&&t&&(e.preventDefault(),r().map(e=>W.fromDom(e.getEl())).each(e=>_i(e)))})})(e),{open:c,close:l,getNotifications:u}},$N=nu.PluginManager,eP=nu.ThemeManager;var tP=()=>{let e=()=>{throw Error(`Theme did not provide a WindowManager implementation.`)};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};let nP=e=>{let t=[],n=()=>{let t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():tP()},r=(e,t)=>(...n)=>t?t.apply(e,n):void 0,i=t=>{e.dispatch(`OpenWindow`,{dialog:t})},a=t=>{e.dispatch(`CloseWindow`,{dialog:t})},o=(e,n)=>{t.push({instanceApi:e,triggerElement:n}),i(e)},s=n=>{a(n);let r=Ie(t,({instanceApi:e,triggerElement:t})=>e===n?t:P.none());t=L(t,({instanceApi:e})=>e!==n),t.length===0?e.focus():r.filter(Qi).each(_i)},c=()=>P.from(t[t.length-1]),l=t=>{e.editorManager.setActive(e),gy(e);let n=yi();e.ui.show();let r=t();return o(r,n),r},u=(e,t)=>l(()=>n().open(e,t,s)),d=e=>l(()=>n().openUrl(e,s)),f=e=>{t.length!==0&&e.each(e=>_i(e))};return e.on(`remove`,()=>{I(t,({instanceApi:e})=>{n().close(e)})}),{open:u,openUrl:d,alert:(e,t,i)=>{let a=yi(),o=n();o.alert(e,r(i||o,()=>{f(a),t?.()}))},confirm:(e,t,i)=>{let a=yi(),o=n();o.confirm(e,r(i||o,e=>{f(a),t?.(e)}))},close:()=>{c().each(({instanceApi:e})=>{n().close(e),s(e)})}}},rP=(e,t)=>{e.notificationManager.open({type:`error`,text:t})},iP=(e,t)=>{e._skinLoaded?rP(e,t):e.on(`SkinLoaded`,()=>{rP(e,t)})},aP=(e,t)=>{iP(e,tu.translate([`Failed to upload image: {0}`,t]))},oP=(e,t,n)=>{op(e,t,{message:n}),console.error(n)},sP=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,cP=(e,t,n)=>{oP(e,`PluginLoadError`,sP(`plugin`,t,n))},lP=(e,t,n)=>{oP(e,`IconsLoadError`,sP(`icons`,t,n))},uP=(e,t,n)=>{oP(e,`LanguageLoadError`,sP(`language`,t,n))},dP=(e,t,n)=>{oP(e,`ThemeLoadError`,sP(`theme`,t,n))},fP=(e,t,n)=>{oP(e,`ModelLoadError`,sP(`model`,t,n))},pP=(e,t)=>{oP(e,`LicenseKeyManagerLoadError`,sP(`license key manager`,t))},mP=(e,t)=>{oP(e,`ComponentLoadError`,sP(`component`,t))},hP=(e,t,n)=>{let r=tu.translate([`Failed to initialize plugin: {0}`,t]);op(e,`PluginLoadError`,{message:r}),gP(r,n),iP(e,r)},gP=(e,...t)=>{let n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},_P=new WeakMap,vP=e=>{_P.has(e)||(_P.set(e,!0),e.initialized?(e.removed||e.mode.set(`readonly`),e.options.set(`disabled`,!0)):e.on(`init`,()=>{e.removed||e.mode.set(`readonly`),e.options.set(`disabled`,!0)}),e.on(`DisabledStateChange`,e=>{let{state:t}=e;t||e.preventDefault()},!0),e.on(`SwitchMode`,t=>{let{mode:n}=t;n!==`readonly`&&e.mode.set(`readonly`)}))},yP=(e,t)=>{let{type:n,message:r}=t;e.notificationManager.open({type:n,text:r})},bP=e=>{switch(e){case`error`:return console.error;case`info`:return console.info;case`warn`:return console.warn;default:return console.log}},xP=e=>{bP(e.type)(e.message)},SP=(e,t)=>{let{console:n,editor:r}=t;C(r)&&(e._skinLoaded?yP(e,r):e.on(`SkinLoaded`,()=>{yP(e,r)})),C(n)&&xP(n)},CP=`Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/`,wP=e=>{let t=`The editor is disabled because a TinyMCE license key has not been provided.`;SP(e,{console:{type:`error`,message:[`${t}`,`Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.`,CP].join(` `)},editor:{type:`warning`,message:`${t}`}})},TP=(e,t)=>{let n=`${t===`online`?`API`:`license`} key`,r=`The editor is disabled because the TinyMCE ${n} could not be validated.`;SP(e,{console:{type:`error`,message:[`${r}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${n} to be validated but could not be loaded.`,CP].join(` `)},editor:{type:`warning`,message:`${r}`}})},EP=(e,t)=>{SP(e,{console:{type:`error`,message:[`${`The "${t}" plugin requires a valid TinyMCE license key.`}`,CP].join(` `)}})},DP=`licensekeymanager`,OP=e=>v(Q(e))?`online`:`offline`,kP=e=>{let t=Oh(e)?.toLowerCase();return t===`gpl`?`gpl`:ne(t)?`no_key`:`non_gpl`},AP=e=>{let t=OP(e),n=kP(e),r=new Set([...Lm(e),...Re(Rm(e))]).has(DP);return n!==`gpl`||t===`online`||r?{type:`use_plugin`,onlineStatus:t,licenseKeyType:n,forcePlugin:r}:{type:`use_gpl`,onlineStatus:t,licenseKeyType:n,forcePlugin:r}},jP=e=>({validate:t=>{let{plugin:n}=t;return v(n)&&EP(e,n),Promise.resolve(!1)}}),MP=e=>({validate:t=>{let{plugin:n}=t,r=v(n);return r&&EP(e,n),Promise.resolve(!r)}}),NP=`manager`,PP=DP,FP=(()=>{let e=nu();return{load:(t,n)=>{if(AP(t).type===`use_plugin`){let r=R(Rm(t),PP).map(Nt).filter(It).getOr(`plugins/${PP}/plugin${n}.js`);e.load(NP,r).catch(()=>{pP(t,r)})}},add:t=>{e.add(NP,t)},init:t=>{let n=e=>{Object.defineProperty(t,`licenseKeyManager`,{value:e,writable:!1,configurable:!1,enumerable:!0})},r=AP(t),i=e.get(NP);if(C(i))n(i(t,e.urls[NP]));else switch(r.type){case`use_gpl`:n(MP(t));break;case`use_plugin`:vP(t),n(jP(t)),r.onlineStatus===`offline`&&r.licenseKeyType===`no_key`?wP(t):TP(t,r.onlineStatus);break}t.licenseKeyManager.validate({})}}})(),IP=e=>{P.from(e.selection.getNode()).each(e=>{e.removeAttribute(`data-mce-selected`)})},LP=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},RP=(e,t)=>{LP(e,`StyleWithCSS`,t),LP(e,`enableInlineTableEditing`,t),LP(e,`enableObjectResizing`,t)},zP=e=>{e.selection.setRng(e.selection.getRng())},BP=(e,t,n)=>{Ka(e,t)&&!n?Wa(e,t):n&&Ha(e,t)},VP=e=>{BP(W.fromDom(e.getBody()),`mce-content-readonly`,!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),IP(e)},HP=e=>{let t=W.fromDom(e.getBody());BP(t,`mce-content-readonly`,!1),e.hasEditableRoot()&&Za(t,!0),RP(e,!1),Jy(e)&&e.focus(),zP(e),e.nodeChanged()},UP=e=>kh(e),WP=`data-mce-contenteditable`,GP=e=>{I(no(e,`*[contenteditable="true"]`),e=>{Ai(e,WP,`true`),Za(e,!1)})},KP=e=>{I(no(e,`*[${WP}="true"]`),e=>{Fi(e,WP),Za(e,!0)})},qP=(e,t)=>{let n=W.fromDom(e.getBody());t?(VP(e),Za(n,!1),GP(n)):(KP(n),HP(e))},JP=e=>{e.serializer?YP(e):e.on(`PreInit`,()=>{YP(e)})},YP=e=>{e.parser.addAttributeFilter(`contenteditable`,t=>{UP(e)&&I(t,e=>{e.attr(WP,e.attr(`contenteditable`)),e.attr(`contenteditable`,`false`)})}),e.serializer.addAttributeFilter(WP,t=>{UP(e)&&I(t,e=>{e.attr(`contenteditable`,e.attr(WP))})}),e.serializer.addTempAttr(WP)},XP=e=>e.type===`click`,ZP=[`copy`],QP=e=>pe(ZP,e.type),$P=(e,t)=>Ia(t,`a`,t=>Sr(t,W.fromDom(e.getBody()))).bind(e=>Ni(e,`href`)),eF=(e,t)=>{XP(t)&&!$.metaKeyPressed(t)?$P(e,W.fromDom(t.target)).each(n=>{if(t.preventDefault(),/^#/.test(n)){let t=e.dom.select(`${n},[name="${Ot(n,`#`)}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,`_blank`,`rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes`)}):QP(t)&&e.dispatch(t.type,t)},tF=e=>{e.on(`ShowCaret ObjectSelected`,t=>{UP(e)&&t.preventDefault()}),e.on(`DisabledStateChange`,t=>{t.isDefaultPrevented()||qP(e,t.state)})},nF=e=>{JP(e),tF(e)},rF=e=>/^[a-z0-9\-]+$/i.test(e),iF=e=>`content/`+e+`/content.css`,aF=e=>tinymce.Resource.has(iF(e)),oF=e=>cF(e,sm(e)),sF=e=>cF(e,lm(e)),cF=(e,t)=>{let n=e.editorManager.baseURL+`/skins/content`,r=`content${e.editorManager.suffix}.css`;return he(t,t=>aF(t)?t:rF(t)&&!e.inline?`${n}/${t}/${r}`:e.documentBaseURI.toAbsolute(t))},lF=e=>{e.contentCSS=e.contentCSS.concat(oF(e),sF(e))},uF=e=>e?Fe(e.getElementsByTagName(`img`)):[],dF=(e,t)=>{let n={};return{findAll:(r,i=ce)=>{let a=he(L(uF(r),t=>{let n=t.src;return t.hasAttribute(`data-mce-bogus`)||t.hasAttribute(`data-mce-placeholder`)||!n||n===Zn.transparentSrc?!1:At(n,`blob:`)?!e.isUploaded(n)&&i(t):At(n,`data:`)?i(t):!1}),e=>{let r=e.src;if(Ye(n,r))return n[r].then(t=>v(t)?t:{image:e,blobInfo:t.blobInfo});{let i=CD(t,r).then(t=>(delete n[r],{image:e,blobInfo:t})).catch(e=>(delete n[r],e));return n[r]=i,i}});return Promise.all(a)}}},fF=()=>{let e={},t=(e,t)=>({status:e,resultUri:t}),n=t=>t in e;return{hasBlobUri:n,getResultUri:t=>{let n=e[t];return n?n.resultUri:null},isPending:t=>n(t)?e[t].status===1:!1,isUploaded:t=>n(t)?e[t].status===2:!1,markPending:n=>{e[n]=t(1,null)},markUploaded:(n,r)=>{e[n]=t(2,r)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}},pF=0,mF=()=>{let e=()=>Math.round(at()*4294967295).toString(36);return`s`+new Date().getTime().toString(36)+e()+e()+e()},hF=e=>e+ pF+++mF(),gF=()=>{let e=[],t=e=>({"image/jpeg":`jpg`,"image/jpg":`jpg`,"image/gif":`gif`,"image/png":`png`,"image/apng":`apng`,"image/avif":`avif`,"image/svg+xml":`svg`,"image/webp":`webp`,"image/bmp":`bmp`,"image/tiff":`tiff`})[e.toLowerCase()]||`dat`,n=(e,t,n,i,a)=>{if(v(e))return r({id:e,name:i,filename:a,blob:t,base64:n});if(y(e))return r(e);throw Error(`Unknown input type`)},r=e=>{if(!e.blob||!e.base64)throw Error(`blob and base64 representations of the image are required for BlobInfo to be created`);let n=e.id||hF(`blobid`),r=e.name||n,i=e.blob;return{id:O(n),name:O(r),filename:O(e.filename||r+`.`+t(i.type)),blob:O(i),base64:O(e.base64),blobUri:O(e.blobUri||URL.createObjectURL(i)),uri:O(e.uri)}},i=t=>{o(t.id())||e.push(t)},a=t=>Se(e,t).getOrUndefined(),o=e=>a(t=>t.id()===e);return{create:n,add:i,get:o,getByUri:e=>a(t=>t.blobUri()===e),getByData:(e,t)=>a(n=>n.base64()===e&&n.blob().type===t),findFirst:a,removeByUri:t=>{e=L(e,e=>e.blobUri()===t?(URL.revokeObjectURL(e.blobUri()),!1):!0)},destroy:()=>{I(e,e=>{URL.revokeObjectURL(e.blobUri())}),e=[]}}},_F=(e,t)=>{let n={},r=(e,t)=>e?e.replace(/\/$/,``)+`/`+t.replace(/^\//,``):t,i=(e,n)=>new Promise((i,a)=>{let o=new XMLHttpRequest;o.open(`POST`,t.url),o.withCredentials=t.credentials,o.upload.onprogress=e=>{n(e.loaded/e.total*100)},o.onerror=()=>{a(`Image upload failed due to a XHR Transport error. Code: `+o.status)},o.onload=()=>{if(o.status<200||o.status>=300){a(`HTTP Error: `+o.status);return}let e=JSON.parse(o.responseText);if(!e||!v(e.location)){a(`Invalid JSON: `+o.responseText);return}i(r(t.basePath,e.location))};let s=new FormData;s.append(`file`,e.blob(),e.filename()),o.send(s)}),a=w(t.handler)?t.handler:i,o=()=>new Promise(e=>{e([])}),s=(e,t)=>({url:t,blobInfo:e,status:!0}),c=(e,t)=>({url:``,blobInfo:e,status:!1,error:t}),l=(e,t)=>{U.each(n[e],e=>{e(t)}),delete n[e]},u=(t,n,r)=>(e.markPending(t.blobUri()),new Promise(i=>{let a,o;try{let u=()=>{a&&(a.close(),o=E)},d=n=>{u(),e.markUploaded(t.blobUri(),n),l(t.blobUri(),s(t,n)),i(s(t,n))},f=n=>{u(),e.removeFailed(t.blobUri()),l(t.blobUri(),c(t,n)),i(c(t,n))};o=e=>{e<0||e>100||P.from(a).orThunk(()=>P.from(r).map(M)).each(t=>{a=t,t.progressBar.value(e)})},n(t,o).then(d,e=>{f(v(e)?{message:e}:e)})}catch(e){i(c(t,e))}})),d=e=>e===i,f=e=>{let t=e.blobUri();return new Promise(e=>{n[t]=n[t]||[],n[t].push(e)})},p=(t,n)=>(t=U.grep(t,t=>!e.isUploaded(t.blobUri())),Promise.all(U.map(t,t=>e.isPending(t.blobUri())?f(t):u(t,a,n))));return{upload:(e,n)=>!t.url&&d(a)?o():p(e,n)}},vF=e=>()=>e.notificationManager.open({text:e.translate(`Image uploading...`),type:`info`,timeout:-1,progressBar:!0}),yF=(e,t)=>_F(t,{url:Xp(e),basePath:Zp(e),credentials:Qp(e),handler:$p(e)}),bF=e=>{let t=yF(e,fF());return{upload:(n,r=!0)=>t.upload(n,r?vF(e):void 0)}},xF=(e,t)=>e.dom.isEmpty(t.dom)&&C(e.schema.getTextBlockElements()[Er(t)]),SF=e=>t=>{xF(e,t)&&wi(t,W.fromHtml(`<br data-mce-bogus="1" />`))},CF=e=>{let t=gF(),n,r,i=fF(),a=[],o=t=>n=>e.selection?t(n):[],s=e=>e+(e.indexOf(`?`)===-1?`?`:`&`)+new Date().getTime(),c=(e,t,n)=>{let r=0;do r=e.indexOf(t,r),r!==-1&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1);while(r!==-1);return e},l=(e,t,n)=>{let r=`src="${n}"${n===Zn.transparentSrc?` data-mce-placeholder="1"`:``}`;return e=c(e,`src="${t}"`,r),e=c(e,`data-mce-src="`+t+`"`,`data-mce-src="`+n+`"`),e},u=(t,n)=>{I(e.undoManager.data,e=>{e.type===`fragmented`?e.fragments=he(e.fragments,e=>l(e,t,n)):e.content=l(e.content,t,n)})},d=(t,n)=>{let r=e.convertURL(n,`src`);u(t.src,n),ji(W.fromDom(t),{src:Kp(e)?s(n):n,"data-mce-src":r})},f=()=>(n||=yF(e,i),g().then(o(r=>{let i=he(r,e=>e.blobInfo);return n.upload(i,vF(e)).then(o(n=>{let i=[],a=!1,o=he(n,(n,o)=>{let{blobInfo:s,image:c}=r[o],l=!1;return n.status&&qp(e)?(n.url&&!kt(c.src,n.url)&&(a=!0),t.removeByUri(c.src),kM(e)||d(c,n.url)):n.error&&(n.error.remove&&(u(c.src,Zn.transparentSrc),i.push(c),l=!0),aP(e,n.error.message)),{element:c,status:n.status,uploadUri:n.url,blobInfo:s,removed:l}});return i.length>0&&!kM(e)?e.undoManager.transact(()=>{I(qi(i),n=>{let r=Br(n);zi(n),r.each(SF(e)),t.removeByUri(n.dom.src)})}):a&&e.undoManager.dispatchChange(),o}))}))),p=()=>Gp(e)?f():Promise.resolve([]),m=e=>De(a,t=>t(e)),h=e=>{a.push(e)},g=()=>(r||=dF(i,t),r.findAll(e.getBody(),m).then(o(t=>{let n=L(t,t=>v(t)?(iP(e,t),!1):t.uriType!==`blob`);return kM(e)||I(n,e=>{u(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute(`data-mce-src`)}),n}))),_=()=>{t.destroy(),i.destroy(),r=n=null},y=n=>n.replace(/src="(blob:[^"]+)"/g,(n,r)=>{let a=i.getResultUri(r);if(a)return`src="`+a+`"`;let o=t.getByUri(r);return o||=be(e.editorManager.get(),(e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(r),void 0),o?`src="data:`+o.blob().type+`;base64,`+o.base64()+`"`:n});return e.on(`SetContent`,()=>{Gp(e)?p():g()}),e.on(`RawSaveContent`,e=>{e.content=y(e.content)}),e.on(`GetContent`,e=>{e.source_view||e.format===`raw`||e.format===`tree`||(e.content=y(e.content))}),e.on(`PostRender`,()=>{e.parser.addNodeFilter(`img`,e=>{I(e,e=>{let n=e.attr(`src`);if(!n||t.getByUri(n))return;let r=i.getResultUri(n);r&&e.attr(`src`,r)})})}),{blobCache:t,addFilter:h,uploadImages:f,uploadImagesAuto:p,scanForImages:g,destroy:_}},wF=e=>{let t=e.dom,n=e.schema.type,r={valigntop:[{selector:`td,th`,styles:{verticalAlign:`top`}}],valignmiddle:[{selector:`td,th`,styles:{verticalAlign:`middle`}}],valignbottom:[{selector:`td,th`,styles:{verticalAlign:`bottom`}}],alignleft:[{selector:`figure.image`,collapsed:!1,classes:`align-left`,ceFalseOverride:!0,preview:`font-family font-size`},{selector:`figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre`,styles:{textAlign:`left`},inherit:!1,preview:!1},{selector:`img,audio,video`,collapsed:!1,styles:{float:`left`},preview:`font-family font-size`},{selector:`.mce-placeholder`,styles:{float:`left`},ceFalseOverride:!0},{selector:`table`,collapsed:!1,styles:{marginLeft:`0px`,marginRight:`auto`},onformat:e=>{t.setStyle(e,`float`,null)},preview:`font-family font-size`},{selector:`.mce-preview-object,[data-ephox-embed-iri]`,ceFalseOverride:!0,styles:{float:`left`}}],aligncenter:[{selector:`figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre`,styles:{textAlign:`center`},inherit:!1,preview:`font-family font-size`},{selector:`figure.image`,collapsed:!1,classes:`align-center`,ceFalseOverride:!0,preview:`font-family font-size`},{selector:`img,audio,video`,collapsed:!1,styles:{display:`block`,marginLeft:`auto`,marginRight:`auto`},preview:!1},{selector:`.mce-placeholder`,styles:{display:`block`,marginLeft:`auto`,marginRight:`auto`},ceFalseOverride:!0},{selector:`table`,collapsed:!1,styles:{marginLeft:`auto`,marginRight:`auto`},preview:`font-family font-size`},{selector:`.mce-preview-object`,ceFalseOverride:!0,styles:{display:`table`,marginLeft:`auto`,marginRight:`auto`},preview:!1},{selector:`[data-ephox-embed-iri]`,ceFalseOverride:!0,styles:{marginLeft:`auto`,marginRight:`auto`},preview:!1}],alignright:[{selector:`figure.image`,collapsed:!1,classes:`align-right`,ceFalseOverride:!0,preview:`font-family font-size`},{selector:`figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre`,styles:{textAlign:`right`},inherit:!1,preview:`font-family font-size`},{selector:`img,audio,video`,collapsed:!1,styles:{float:`right`},preview:`font-family font-size`},{selector:`.mce-placeholder`,styles:{float:`right`},ceFalseOverride:!0},{selector:`table`,collapsed:!1,styles:{marginRight:`0px`,marginLeft:`auto`},onformat:e=>{t.setStyle(e,`float`,null)},preview:`font-family font-size`},{selector:`.mce-preview-object,[data-ephox-embed-iri]`,ceFalseOverride:!0,styles:{float:`right`},preview:!1}],alignjustify:[{selector:`figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre`,styles:{textAlign:`justify`},inherit:!1,preview:`font-family font-size`}],bold:[{inline:`strong`,remove:`all`,preserve_attributes:[`class`,`style`]},{inline:`span`,styles:{fontWeight:`bold`}},{inline:`b`,remove:`all`,preserve_attributes:[`class`,`style`]}],italic:[{inline:`em`,remove:`all`,preserve_attributes:[`class`,`style`]},{inline:`span`,styles:{fontStyle:`italic`}},{inline:`i`,remove:`all`,preserve_attributes:[`class`,`style`]}],underline:[{inline:`span`,styles:{textDecoration:`underline`},exact:!0},{inline:`u`,remove:`all`,preserve_attributes:[`class`,`style`]}],strikethrough:(()=>{let e={inline:`span`,styles:{textDecoration:`line-through`},exact:!0},t={inline:`strike`,remove:`all`,preserve_attributes:[`class`,`style`]},r={inline:`s`,remove:`all`,preserve_attributes:[`class`,`style`]};return n===`html4`?[e,r,t]:[r,e,t]})(),forecolor:{inline:`span`,styles:{color:`%value`},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:`span`,styles:{backgroundColor:`%value`},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:`span`,toggle:!1,styles:{fontFamily:`%value`},clear_child_styles:!0},fontsize:{inline:`span`,toggle:!1,styles:{fontSize:`%value`},clear_child_styles:!0},lineheight:{selector:`h1,h2,h3,h4,h5,h6,p,li,td,th,div`,styles:{lineHeight:`%value`}},fontsize_class:{inline:`span`,attributes:{class:`%value`}},blockquote:{block:`blockquote`,wrapper:!0,remove:`all`},subscript:{inline:`sub`},superscript:{inline:`sup`},code:{inline:`code`},samp:{inline:`samp`},link:{inline:`a`,selector:`a`,remove:`all`,split:!0,deep:!0,onmatch:(e,t,n)=>qo(e)&&e.hasAttribute(`href`),onformat:(e,n,r)=>{U.each(r,(n,r)=>{t.setAttrib(e,r,n)})}},lang:{inline:`span`,clear_child_styles:!0,remove_similar:!0,attributes:{lang:`%value`,"data-mce-lang":e=>e?.customValue??null}},removeformat:[{selector:`b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small`,remove:`all`,split:!0,expand:!1,block_expand:!0,deep:!0},{selector:`span`,attributes:[`style`,`class`],remove:`empty`,split:!0,expand:!1,deep:!0},{selector:`*`,attributes:[`style`,`class`],split:!1,expand:!1,deep:!0}]};return U.each(`p h1 h2 h3 h4 h5 h6 div address pre dt dd`.split(/\s/),e=>{r[e]={block:e,remove:`all`}}),r},TF={remove_similar:!0,inherit:!1},EF={selector:`td,th`,...TF},DF=O({tablecellbackgroundcolor:{styles:{backgroundColor:`%value`},...EF},tablecellverticalalign:{styles:{"vertical-align":`%value`},...EF},tablecellbordercolor:{styles:{borderColor:`%value`},...EF},tablecellclass:{classes:[`%value`],...EF},tableclass:{selector:`table`,classes:[`%value`],...TF},tablecellborderstyle:{styles:{borderStyle:`%value`},...EF},tablecellborderwidth:{styles:{borderWidth:`%value`},...EF}}),OF=e=>{let t={},n=e=>C(e)?t[e]:t,r=e=>Ye(t,e),i=(e,n)=>{e&&(v(e)?(x(n)||(n=[n]),I(n,e=>{te(e.deep)&&(e.deep=!wv(e)),te(e.split)&&(e.split=!wv(e)||Tv(e)),te(e.remove)&&wv(e)&&!Tv(e)&&(e.remove=`none`),wv(e)&&Tv(e)&&(e.mixed=!0,e.block_expand=!0),v(e.classes)&&(e.classes=e.classes.split(/\s+/))}),t[e]=n):Be(e,(e,t)=>{i(t,e)}))};return i(wF(e)),i(DF()),i(Sm(e)),{get:n,has:r,register:i,unregister:e=>(e&&t[e]&&delete t[e],t)}},kF=U.each,AF=ql.DOM,jF=e=>C(e)&&y(e),MF=(e,t)=>{let n=t&&t.schema||ul({}),r=(e,t)=>{t.classes.length>0&&AF.addClass(e,t.classes.join(` `)),AF.setAttribs(e,t.attrs)},i=e=>{let t=v(e)?{name:e,classes:[],attrs:{}}:e,n=AF.create(t.name);return r(n,t),n},a=(e,t)=>{let r=n.getElementRule(e.nodeName.toLowerCase())?.parentsRequired;return r&&r.length?t&&pe(r,t)?t:r[0]:!1},o=(e,t,n)=>{let r,s=t[0],c=jF(s)?s.name:void 0,l=a(e,c);if(l)c===l?(r=s,t=t.slice(1)):r=l;else if(s)r=s,t=t.slice(1);else if(!n)return e;let u=r?i(r):AF.create(`div`);u.appendChild(e),n&&U.each(n,t=>{let n=i(t);u.insertBefore(n,e)});let d=jF(r)?r.siblings:void 0;return o(u,t,d)},s=AF.create(`div`);if(e.length>0){let t=e[0],n=i(t),r=jF(t)?t.siblings:void 0;s.appendChild(o(n,e.slice(1),r))}return s},NF=e=>{e=U.trim(e);let t=`div`,n={name:t,classes:[],attrs:{},selector:e};return e!==`*`&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(e,t,r,i,a)=>{switch(t){case`#`:n.attrs.id=r;break;case`.`:n.classes.push(r);break;case`:`:U.inArray(`checked disabled enabled read-only required`.split(` `),r)!==-1&&(n.attrs[r]=r);break}if(i===`[`){let e=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return``})),n.name=t||`div`,n},PF=e=>v(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,`$1`),U.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),e=>{let t=U.map(e.split(/(?:~\+|~|\+)/),NF),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[],FF=(e,t)=>{let n=``,r=Cm(e);if(r===``)return``;let i=e=>v(e)?e.replace(/%(\w+)/g,``):``,a=(t,n)=>AF.getStyle(n??e.getBody(),t,!0);if(v(t)){let n=e.formatter.get(t);if(!n)return``;t=n[0]}if(`preview`in t){let e=t.preview;if(e===!1)return``;r=e||r}let o=t.block||t.inline||`span`,s,c=PF(t.selector);c.length>0?(c[0].name||(c[0].name=o),o=t.selector,s=MF(c,e)):s=MF([o],e);let l=AF.select(o,s)[0]||s.firstChild;kF(t.styles,(e,t)=>{let n=i(e);n&&AF.setStyle(l,t,n)}),kF(t.attributes,(e,t)=>{let n=i(e);n&&AF.setAttrib(l,t,n)}),kF(t.classes,e=>{let t=i(e);AF.hasClass(l,t)||AF.addClass(l,t)}),e.dispatch(`PreviewFormats`),AF.setStyles(s,{position:`absolute`,left:-65535}),e.getBody().appendChild(s);let u=a(`fontSize`),d=/px$/.test(u)?parseInt(u,10):0;return kF(r.split(` `),e=>{let t=a(e,l);if(!(e===`background-color`&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=a(e),Sl(t).toLowerCase()===`#ffffff`))&&!(e===`color`&&Sl(t).toLowerCase()===`#000000`)){if(e===`font-size`&&/em|%$/.test(t)){if(d===0)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*d+`px`}e===`border`&&t&&(n+=`padding:0 2px;`),n+=e+`:`+t+`;`}}),e.dispatch(`AfterPreviewFormats`),AF.remove(s),n},IF=e=>{e.addShortcut(`meta+b`,``,`Bold`),e.addShortcut(`meta+i`,``,`Italic`),e.addShortcut(`meta+u`,``,`Underline`);for(let t=1;t<=6;t++)e.addShortcut(`access+`+t,``,[`FormatBlock`,!1,`h`+t]);e.addShortcut(`access+7`,``,[`FormatBlock`,!1,`p`]),e.addShortcut(`access+8`,``,[`FormatBlock`,!1,`div`]),e.addShortcut(`access+9`,``,[`FormatBlock`,!1,`address`])},LF=e=>{let t=OF(e),n=B({});return IF(e),TT(e),kM(e)||tj(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,r)=>{XM(e,t,n,r)},remove:(t,n,r,i)=>{ZM(e,t,n,r,i)},toggle:(t,n,r)=>{QM(e,t,n,r)},match:(t,n,r,i)=>GM(e,t,n,r,i),closest:t=>YM(e,t),matchAll:(t,n)=>KM(e,t,n),matchNode:(t,n,r,i)=>qM(e,t,n,r,i),canApply:t=>JM(e,t),formatChanged:(t,r,i,a)=>$M(e,n,t,r,i,a),getCssText:A(FF,e)}},RF=e=>{switch(e.toLowerCase()){case`undo`:case`redo`:case`mcefocus`:return!0;default:return!1}},zF=(e,t,n)=>{let r=B(!1),i=e=>{dM(t,!1,n),t.add({},e)};e.on(`init`,()=>{t.add()}),e.on(`BeforeExecCommand`,e=>{let r=e.command;RF(r)||(fM(t,n),t.beforeChange())}),e.on(`ExecCommand`,e=>{let t=e.command;RF(t)||i(e)}),e.on(`ObjectResizeStart cut`,()=>{t.beforeChange()}),e.on(`SaveContent ObjectResized blur`,i),e.on(`dragend`,i),e.on(`keyup`,n=>{let a=n.keyCode;if(n.isDefaultPrevented())return;let o=Zn.os.isMacOS()&&n.key===`Meta`;(a>=33&&a<=36||a>=37&&a<=40||a===45||n.ctrlKey||o)&&(i(),e.nodeChanged()),(a===46||a===8)&&e.nodeChanged(),r.get()&&t.typing&&!lM(rM(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch(`TypingUndo`),r.set(!1),e.nodeChanged())}),e.on(`keydown`,e=>{let a=e.keyCode;if(e.isDefaultPrevented())return;if(a>=33&&a<=36||a>=37&&a<=40||a===45){t.typing&&i(e);return}let o=e.ctrlKey&&!e.altKey||e.metaKey;if((a<16||a>20)&&a!==224&&a!==91&&!t.typing&&!o){t.beforeChange(),dM(t,!0,n),t.add({},e),r.set(!0);return}(Zn.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&t.beforeChange()}),e.on(`mousedown`,e=>{t.typing&&i(e)});let a=e=>e.inputType===`insertReplacementText`,o=e=>e.inputType===`insertText`&&e.data===null,s=e=>e.inputType===`insertFromPaste`||e.inputType===`insertFromDrop`;e.on(`input`,e=>{e.inputType&&(a(e)||o(e)||s(e))&&i(e)}),e.on(`AddUndo Undo Redo ClearUndos`,t=>{t.isDefaultPrevented()||e.nodeChanged()})},BF=e=>{e.addShortcut(`meta+z`,``,`Undo`),e.addShortcut(`meta+y,meta+shift+z`,``,`Redo`)},VF=e=>{let t=Tt(),n=B(0),r=B(0),i={data:[],typing:!1,beforeChange:()=>{PM(e,n,t)},add:(a,o)=>FM(e,i,r,n,t,a,o),dispatchChange:()=>{e.setDirty(!0);let t=rM(e);t.bookmark=If(e.selection),e.dispatch(`change`,{level:t,lastLevel:Me(i.data,r.get()).getOrUndefined()})},undo:()=>IM(e,i,n,r),redo:()=>LM(e,r,i.data),clear:()=>{RM(e,i,r)},reset:()=>{zM(e,i)},hasUndo:()=>BM(e,i,r),hasRedo:()=>VM(e,i,r),transact:t=>HM(e,i,n,t),ignore:t=>{UM(e,n,t)},extra:(t,n)=>{WM(e,i,r,t,n)}};return kM(e)||zF(e,i,n),BF(e),i},HF=[9,27,$.HOME,$.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,$.DOWN,$.UP,$.LEFT,$.RIGHT].concat(Zn.browser.isFirefox()?[224]:[]),UF=`data-mce-placeholder`,WF=e=>e.type===`keydown`||e.type===`keyup`,GF=e=>{let t=e.keyCode;return t===$.BACKSPACE||t===$.DELETE},KF=e=>{if(WF(e)){let t=e.keyCode;return!GF(e)&&($.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||pe(HF,t))}else return!1},qF=e=>WF(e)&&!(GF(e)||e.type===`keyup`&&e.keyCode===229),JF=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){let r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,`padding-left`)||e.getStyle(t.firstElementChild,`padding-right`)?!1:n===r.nodeName.toLowerCase():!0}else return!1},YF=e=>{let t=e.dom,n=Rp(e),r=mm(e)??``,i=(a,o)=>{if(KF(a))return;let s=e.getBody(),c=qF(a)?!1:JF(t,s,n);(t.getAttrib(s,UF)!==``!==c||o)&&(t.setAttrib(s,UF,c?r:null),ap(e,c),e.on(c?`keydown`:`keyup`,i),e.off(c?`keyup`:`keydown`,i))};It(r)&&e.on(`init`,t=>{i(t,!0),e.on(`change SetContent ExecCommand`,i),e.on(`paste`,t=>Sy.setEditorTimeout(e,()=>i(t)))})},XF=e=>t=>C(t)&&t.nodeName.toLowerCase()===e,ZF=e=>t=>C(t)&&e.test(t.nodeName),QF=e=>C(e)&&e.nodeType===3,$F=e=>C(e)&&e.nodeType===1,eI=ZF(/^(OL|UL|DL)$/),tI=ZF(/^(OL|UL)$/),nI=ZF(/^(LI|DT|DD)$/),rI=ZF(/^(DT|DD)$/),iI=XF(`br`),aI=e=>e.parentNode?.firstChild===e,oI=(e,t)=>C(t)&&t.nodeName in e.schema.getTextBlockElements(),sI=(e,t)=>C(e)&&e.nodeName in t,cI=(e,t)=>C(t)&&t.nodeName in e.schema.getVoidElements(),lI=(e,t)=>iI(t)?e.isBlock(t.nextSibling)&&!iI(t.previousSibling):!1,uI=(e,t,n)=>{let r=e.isEmpty(t);return n&&e.select(`span[data-mce-type=bookmark]`,t).length>0?!1:r},dI=(e,t)=>e.isChildOf(t,e.getRoot()),fI=ql.DOM,pI=(e,t)=>{let n=t.parentElement;if(n&&n.nodeName===`LI`&&n.firstChild===t){let r=n.previousSibling;r&&r.nodeName===`LI`?(r.appendChild(t),uI(e,n)&&fI.remove(n)):fI.setStyle(n,`listStyleType`,`none`)}if(eI(n)){let e=n.previousSibling;e&&e.nodeName===`LI`&&e.appendChild(t)}},mI=(e,t)=>{let n=U.grep(e.select(`ol,ul`,t));U.each(n,t=>{pI(e,t)})},hI=(e,t)=>{if(QF(e))return{container:e,offset:t};let n=yb.getNode(e,t);return QF(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&QF(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&QF(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},gI=e=>{let t=e.cloneRange(),n=hI(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);let r=hI(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},_I=[`OL`,`UL`,`DL`],vI=_I.join(`,`),yI=(e,t)=>{let n=t||e.selection.getStart(!0);return e.dom.getParent(n,vI,OI(e,n))},bI=(e,t)=>C(e)&&t.length===1&&t[0]===e,xI=e=>L(e.querySelectorAll(vI),eI),SI=e=>{let t=yI(e),n=e.selection.getSelectedBlocks();return bI(t,n)?xI(t):L(n,e=>eI(e)&&t!==e)},CI=(e,t)=>Le(U.map(t,t=>e.dom.getParent(t,`li,dd,dt`,OI(e,t))||t)),wI=e=>L(CI(e,e.selection.getSelectedBlocks()),nI),TI=e=>L(wI(e),rI),EI=(e,t)=>{let n=e.dom.getParents(t,`TD,TH`);return n.length>0?n[0]:e.getBody()},DI=(e,t)=>!eI(t)&&!nI(t)&&me(_I,n=>e.isValidChild(t.nodeName,n)),OI=(e,t)=>{let n=e.dom.getParents(t,e.dom.isBlock),r=t=>t.nodeName.toLowerCase()!==Rp(e);return Se(n,t=>r(t)&&DI(e.schema,t)).getOr(e.getBody())},kI=e=>Br(e).exists(e=>nI(e.dom)&&Xr(e).exists(e=>!eI(e.dom))&&Zr(e).exists(e=>!eI(e.dom))),AI=(e,t)=>Pe(e.dom.getParents(t,`ol,ul`,OI(e,t))),jI=e=>{let t=AI(e,e.selection.getStart()),n=L(e.selection.getSelectedBlocks(),tI);return t.toArray().concat(n)},MI=e=>{let t=e.selection.getStart();return e.dom.getParents(t,`ol,ul`,OI(e,t))},NI=e=>{let t=jI(e);return Se(MI(e),e=>kI(W.fromDom(e))).fold(()=>PI(e,t),e=>[e])},PI=(e,t)=>Le(he(t,t=>AI(e,t).getOr(t))),FI=e=>/\btox\-/.test(e.className),II=(e,t)=>t!==null&&!e.dom.isEditable(t),LI=e=>II(e,yI(e))||!e.selection.isEditable(),RI=(e,t)=>II(e,e.dom.getParent(t,`ol,ul,dl`))||!e.selection.isEditable(),zI=(e,t,n)=>e.dispatch(`ListMutation`,{action:t,element:n}),BI=(e,t,n={})=>{let r=e.dom,i=e.schema.getBlockElements(),a=r.createFragment(),o=Rp(e),s=zp(e),c,l,u=!1;for(l=r.create(o,{...s,...n.style?{style:n.style}:{}}),sI(t.firstChild,i)||a.appendChild(l);c=t.firstChild;){let e=c.nodeName;!u&&(e!==`SPAN`||c.getAttribute(`data-mce-type`)!==`bookmark`)&&(u=!0),sI(c,i)?(a.appendChild(c),l=null):(l||(l=r.create(o,s),a.appendChild(l)),l.appendChild(c))}return!u&&l&&l.appendChild(r.create(`br`,{"data-mce-bogus":`1`})),a},VI=e=>wr(e,`OL,UL`),HI=e=>wr(e,`LI`),UI=e=>Xr(e).exists(VI),WI=e=>Zr(e).exists(VI),GI=(e,t)=>Nh(e).map(e=>e>=t).getOr(!0),KI=e=>`listAttributes`in e,qI=e=>`isComment`in e,JI=e=>`isFragment`in e,YI=e=>e.depth>0,XI=e=>e.isSelected,ZI=e=>{let t=Jr(e);return he(WI(e)?t.slice(0,-1):t,Ui)},QI=(e,t,n)=>Br(e).filter(jr).map(r=>({depth:t,dirty:!1,isSelected:n,content:ZI(e),itemAttributes:Li(e),listAttributes:Li(r),listType:Er(r),isInPreviousLi:!1})),$I=(e,t)=>{wi(e.item,t.list)},eL=e=>{for(let t=1;t<e.length;t++)$I(e[t-1],e[t])},tL=(e,t)=>{_t(Pe(e),Ne(t),$I)},nL=(e,t)=>{let n={list:W.fromTag(t,e),item:W.fromTag(`li`,e)};return wi(n.list,n.item),n},rL=(e,t,n)=>{let r=[];for(let i=0;i<n;i++)r.push(nL(e,KI(t)?t.listType:t.parentListType));return r},iL=(e,t)=>{for(let t=0;t<e.length-1;t++)ta(e[t].item,`list-style-type`,`none`);Pe(e).each(e=>{KI(t)&&(ji(e.list,t.listAttributes),ji(e.item,t.itemAttributes)),Oi(e.item,t.content)})},aL=(e,t)=>{Er(e.list)!==t.listType&&(e.list=Gi(e.list,t.listType)),ji(e.list,t.listAttributes)},oL=(e,t,n)=>{let r=W.fromTag(`li`,e);return ji(r,t),Oi(r,n),r},sL=(e,t)=>{wi(e.list,t),e.item=t},cL=(e,t,n)=>{let r=t.slice(0,n.depth);return Pe(r).each(t=>{if(KI(n))sL(t,oL(e,n.itemAttributes,n.content)),aL(t,n);else if(JI(n))Oi(t.item,n.content);else{let e=W.fromHtml(`<!--${n.content}-->`);wi(t.list,e)}}),r},lL=(e,t,n)=>{let r=rL(e,n,n.depth-t.length);return eL(r),iL(r,n),tL(t,r),t.concat(r)},uL=(e,t)=>{let n=P.none(),r=be(t,(t,r,i)=>qI(r)?i===0?(n=P.some(r),t):cL(e,t,r):r.depth>t.length?lL(e,t,r):cL(e,t,r),[]);return n.each(e=>{let t=W.fromHtml(`<!--${e.content}-->`);Ne(r).each(e=>{Ci(e.list,t)})}),Ne(r).map(e=>e.list)},dL=(e,t,n)=>{switch(t){case`Indent`:if(GI(e,n.depth))n.depth++;else return;break;case`Outdent`:n.depth--;break;case`Flatten`:n.depth=0}n.dirty=!0},fL=(e,t)=>{KI(e)&&KI(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},pL=e=>{e.listAttributes=Ke(e.listAttributes,(e,t)=>t!==`start`)},mL=(e,t)=>{let n=e[t].depth,r=e=>e.depth===n&&!e.dirty,i=e=>e.depth<n;return xe(Oe(e.slice(0,t)),r,i).orThunk(()=>xe(e.slice(t+1),r,i))},hL=e=>(I(e,(t,n)=>{mL(e,n).fold(()=>{t.dirty&&KI(t)&&pL(t)},e=>fL(t,e))}),e),gL=(e,t,n,r)=>{if(kr(r))return[{depth:e+1,content:r.dom.nodeValue??``,dirty:!1,isSelected:!1,isComment:!0}];t.each(e=>{Sr(e.start,r)&&n.set(!0)});let i=QI(r,e,n.get());t.each(e=>{Sr(e.end,r)&&n.set(!1)});let a=Zr(r).filter(VI).map(r=>vL(e,t,n,r)).getOr([]);return i.toArray().concat(a)},_L=(e,t,n,r)=>Xr(r).filter(VI).fold(()=>gL(e,t,n,r),i=>{let a=be(Jr(r),(r,a,o)=>{if(o===0)return r;if(HI(a))return r.concat(gL(e,t,n,a));{let t={isFragment:!0,depth:e,content:[a],isSelected:!1,dirty:!1,parentListType:Er(i)};return r.concat(t)}},[]);return vL(e,t,n,i).concat(a)}),vL=(e,t,n,r)=>Ee(Jr(r),r=>(VI(r)?vL:_L)(e+1,t,n,r)),yL=(e,t)=>{let n=B(!1);return he(e,e=>({sourceList:e,entries:vL(0,t,n,e)}))},bL=(e,t)=>he(hL(t),t=>{let n=qI(t)?xa([W.fromHtml(`<!--${t.content}-->`)]):xa(t.content),r=KI(t)?t.itemAttributes:{};return W.fromDom(BI(e,n.dom,r))}),xL=(e,t)=>{let n=hL(t);return uL(e.contentDocument,n).toArray()},SL=(e,t)=>Ee(ve(t,YI),t=>Ne(t).exists(YI)?xL(e,t):bL(e,t)),CL=(e,t,n)=>{I(L(t,XI),t=>dL(e,n,t))},wL=e=>{let t=he(wI(e),W.fromDom);return _t(Se(t,oe(UI)),Se(Oe(t),oe(UI)),(e,t)=>({start:e,end:t}))},TL=(e,t,n)=>{I(yL(t,wL(e)),t=>{CL(e,t.entries,n);let r=SL(e,t.entries);I(r,t=>{zI(e,n===`Indent`?`IndentList`:`OutdentList`,t.dom)}),Ei(t.sourceList,r),zi(t.sourceList)})},EL=e=>Nh(e).forall(t=>me(e.selection.getSelectedBlocks(),e=>Ia(W.fromDom(e),`li`).forall(e=>to(e,`ol,ul`).length<=t))),DL=ql.DOM,OL=(e,t,n)=>{let r=e=>{let t=e.parentNode;t&&U.each(i,e=>{t.insertBefore(e,n.parentNode)}),DL.remove(e)},i=DL.select(`span[data-mce-type="bookmark"]`,t),a=BI(e,n),o=DL.createRng();o.setStartAfter(n),o.setEndAfter(t);let s=o.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if(t.nodeName===`LI`&&e.dom.isEmpty(t)){DL.remove(t);break}e.dom.isEmpty(s)||DL.insertAfter(s,t),DL.insertAfter(a,t);let c=n.parentElement;c&&uI(e.dom,c)&&r(c),DL.remove(n),uI(e.dom,t)&&DL.remove(t)},kL=Fr(`dd`),AL=Fr(`dt`),jL=(e,t)=>{kL(t)?Gi(t,`dt`):AL(t)&&Vr(t).each(n=>OL(e,n.dom,t.dom))},ML=e=>{AL(e)&&Gi(e,`dd`)},NL=(e,t,n)=>{t===`Indent`?I(n,ML):I(n,t=>jL(e,t))},PL=(e,t)=>{let n=qi(NI(e)),r=qi(TI(e)),i=!1;if(n.length||r.length){let a=e.selection.getBookmark();TL(e,n,t),NL(e,t,r),e.selection.moveToBookmark(a),e.selection.setRng(gI(e.selection.getRng())),e.nodeChanged(),i=!0}return i},FL=(e,t)=>!LI(e)&&PL(e,t),IL=e=>FL(e,`Indent`),LL=e=>FL(e,`Outdent`),RL=e=>FL(e,`Flatten`),zL=e=>{switch(e){case`UL`:return`ToggleUlList`;case`OL`:return`ToggleOlList`;case`DL`:return`ToggleDLList`}},BL=(e,t,n)=>{let r=n[`list-style-type`]?n[`list-style-type`]:null;e.setStyle(t,`list-style-type`,r)},VL=(e,t)=>{U.each(t,(t,n)=>{e.setAttribute(n,t)})},HL=(e,t,n)=>{VL(t,n[`list-attributes`]),U.each(e.select(`li`,t),e=>{VL(e,n[`list-item-attributes`])})},UL=(e,t,n)=>{BL(e,t,n),HL(e,t,n)},WL=(e,t,n)=>{U.each(n,n=>e.setStyle(t,n,``))},GL=(e,t)=>C(t)&&!sI(t,e.schema.getBlockElements()),KL=(e,t,n,r)=>{let i=t[n?`startContainer`:`endContainer`],a=t[n?`startOffset`:`endOffset`];$F(i)&&(i=i.childNodes[Math.min(a,i.childNodes.length-1)]||i),!n&&iI(i.nextSibling)&&(i=i.nextSibling);let o=t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&r!==t;)t=t.parentNode;return t},s=(t,n)=>{let r=new Lo(t,o(t)),i=n?`next`:`prev`,a;for(;a=r[i]();)if(!(cI(e,a)||Ut(a.textContent)||a.textContent?.length===0))return P.some(a);return P.none()};if(n&&QF(i))if(Ut(i.textContent))i=s(i,!1).getOr(i);else for(i.parentNode!==null&&GL(e,i.parentNode)&&(i=i.parentNode);i.previousSibling!==null&&(GL(e,i.previousSibling)||QF(i.previousSibling));)i=i.previousSibling;if(!n&&QF(i))if(Ut(i.textContent))i=s(i,!0).getOr(i);else for(i.parentNode!==null&&GL(e,i.parentNode)&&(i=i.parentNode);i.nextSibling!==null&&(GL(e,i.nextSibling)||QF(i.nextSibling));)i=i.nextSibling;for(;i.parentNode!==r;){let t=i.parentNode;if(oI(e,i)||/^(TD|TH)$/.test(t.nodeName))return i;i=t}return i},qL=(e,t,n)=>{let r=[],i=e.dom,a=KL(e,t,!0,n),o=KL(e,t,!1,n),s,c=[];for(let e=a;e&&(c.push(e),e!==o);e=e.nextSibling);return U.each(c,t=>{if(oI(e,t)){r.push(t),s=null;return}if(i.isBlock(t)||iI(t)){iI(t)&&i.remove(t),s=null;return}let a=t.nextSibling;if(iy.isBookmarkNode(t)&&(eI(a)||oI(e,a)||!a&&t.parentNode===n)){s=null;return}s||(s=i.create(`p`),t.parentNode?.insertBefore(s,t),r.push(s)),s.appendChild(t)}),r},JL=(e,t,n)=>{let r=e.getStyle(t,`list-style-type`),i=n?n[`list-style-type`]:``;return i=i===null?``:i,r===i},YL=(e,t)=>{let n=e.selection.getStart(!0),r=KL(e,t,!0,e.getBody());return oo(W.fromDom(r),W.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:n},XL=(e,t,n)=>{let r=e.selection.getRng(),i=`LI`,a=OI(e,YL(e,r)),o=e.dom;if(o.getContentEditable(e.selection.getNode())===`false`)return;t=t.toUpperCase(),t===`DL`&&(i=`DT`);let s=qw(r),c=L(qL(e,r,a),e.dom.isEditable);U.each(c,r=>{let a,s=r.previousSibling,c=r.parentNode;nI(c)||(s&&eI(s)&&s.nodeName===t&&JL(o,s,n)?(a=s,r=o.rename(r,i),s.appendChild(r)):(a=o.create(t),c.insertBefore(a,r),a.appendChild(r),r=o.rename(r,i)),WL(o,r,[`margin`,`margin-right`,`margin-bottom`,`margin-left`,`margin-top`,`padding`,`padding-right`,`padding-bottom`,`padding-left`,`padding-top`]),UL(o,a,n),tR(e.dom,a))}),e.selection.setRng(Jw(s))},ZL=(e,t)=>eI(e)&&e.nodeName===t?.nodeName,QL=(e,t,n)=>e.getStyle(t,`list-style-type`,!0)===e.getStyle(n,`list-style-type`,!0),$L=(e,t)=>e.className===t.className,eR=(e,t,n)=>ZL(t,n)&&QL(e,t,n)&&$L(t,n),tR=(e,t)=>{let n,r=t.nextSibling;if(eR(e,t,r)){let i=r;for(;n=i.firstChild;)t.appendChild(n);e.remove(i)}if(r=t.previousSibling,eR(e,t,r)){let i=r;for(;n=i.lastChild;)t.insertBefore(n,t.firstChild);e.remove(i)}},nR=(e,t,n,r)=>{if(t.nodeName!==n){let i=e.dom.rename(t,n);UL(e.dom,i,r),zI(e,zL(n),i)}else UL(e.dom,t,r),zI(e,zL(n),t)},rR=(e,t,n,r)=>{if(t.classList.forEach((e,n,r)=>{e.startsWith(`tox-`)&&(r.remove(e),r.length===0&&t.removeAttribute(`class`))}),t.nodeName!==n){let i=e.dom.rename(t,n);UL(e.dom,i,r),zI(e,zL(n),i)}else UL(e.dom,t,r),zI(e,zL(n),t)},iR=(e,t,n,r,i)=>{let a=eI(t);if(a&&t.nodeName===r&&!aR(i)&&!FI(t))RL(e);else{XL(e,r,i);let o=qw(e.selection.getRng()),s=a?[t,...n]:n,c=a&&FI(t)?rR:nR;U.each(s,t=>{c(e,t,r,i)}),e.selection.setRng(Jw(o))}},aR=e=>`list-style-type`in e,oR=(e,t,n,r)=>{if(t!==e.getBody())if(t)if(t.nodeName===n&&!aR(r)&&!FI(t))RL(e);else{let i=qw(e.selection.getRng());FI(t)&&t.classList.forEach((e,n,r)=>{e.startsWith(`tox-`)&&(r.remove(e),r.length===0&&t.removeAttribute(`class`))}),UL(e.dom,t,r);let a=e.dom.rename(t,n);tR(e.dom,a),e.selection.setRng(Jw(i)),XL(e,n,r),zI(e,zL(n),a)}else XL(e,n,r),zI(e,zL(n),t)},sR=(e,t,n)=>{let r=yI(e);if(RI(e,r))return;let i=SI(e),a=y(n)?n:{};i.length>0?iR(e,r,i,t,a):oR(e,r,t,a)},cR=(e,t,n,r)=>{let i=t.startContainer,a=t.startOffset;if(QF(i)&&(n?a<i.data.length:a>0))return i;let o=e.schema.getNonEmptyElements();$F(i)&&(i=yb.getNode(i,a));let s=new Lo(i,r);n&&lI(e.dom,i)&&s.next();let c=n?s.next.bind(s):s.prev2.bind(s);for(;i=c();)if(i.nodeName===`LI`&&!i.hasChildNodes()||o[i.nodeName]||QF(i)&&i.data.length>0)return i;return null},lR=(e,t)=>{let n=t.childNodes;return n.length===1&&!eI(n[0])&&e.isBlock(n[0])},uR=e=>P.from(e).map(W.fromDom).filter(Ar).exists(e=>Ya(e)&&!pe([`details`],Er(e))),dR=(e,t)=>{lR(e,t)&&uR(t.firstChild)&&e.remove(t.firstChild,!0)},fR=(e,t,n)=>{let r,i=lR(e,n)?n.firstChild:n;if(dR(e,t),!uI(e,t,!0))for(;r=t.firstChild;)i.appendChild(r)},pR=(e,t,n)=>{let r,i=t.parentNode;if(!dI(e,t)||!dI(e,n))return;eI(n.lastChild)&&(r=n.lastChild),i===n.lastChild&&iI(i.previousSibling)&&e.remove(i.previousSibling);let a=n.lastChild;a&&iI(a)&&t.hasChildNodes()&&e.remove(a),uI(e,n,!0)&&Ri(W.fromDom(n)),fR(e,t,n),r&&n.appendChild(r);let o=Cr(W.fromDom(n),W.fromDom(t))?e.getParents(t,eI,n):[];e.remove(t),I(o,t=>{uI(e,t)&&t!==e.getRoot()&&e.remove(t)})},mR=(e,t,n)=>{Ri(W.fromDom(n)),pR(e.dom,t,n),e.selection.setCursorLocation(n,0)},hR=(e,t,n,r)=>{let i=e.dom;if(i.isEmpty(r))mR(e,n,r);else{let a=qw(t);pR(i,n,r),e.selection.setRng(Jw(a))}},gR=(e,t,n,r)=>{let i=qw(t);pR(e.dom,n,r);let a=Jw(i);e.selection.setRng(a)},_R=(e,t)=>{let n=e.dom,r=e.selection,i=EI(e,r.getStart()),a=n.getParent(r.getStart(),`LI`,i);if(a){let o=a.parentElement;if(o===e.getBody()&&uI(n,o))return!0;let s=gI(r.getRng()),c=n.getParent(cR(e,s,t,i),`LI`,i),l=c&&(t?n.isChildOf(a,c):n.isChildOf(c,a));if(c&&c!==a&&!l)return e.undoManager.transact(()=>{t?hR(e,s,c,a):aI(a)?LL(e):gR(e,s,a,c)}),!0;if(l&&!t&&c!==a){let t=s.commonAncestorContainer.parentElement;return!t||n.isChildOf(c,t)?!1:(e.undoManager.transact(()=>{let r=qw(s);fR(n,t,c),t.remove();let i=Jw(r);e.selection.setRng(i)}),!0)}else if(!c&&!t&&s.startOffset===0&&s.endOffset===0)return e.undoManager.transact(()=>{RL(e)}),!0}return!1},vR=(e,t,n)=>{let r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},yR=(e,t)=>{let n=e.dom,r=e.selection.getStart(),i=EI(e,r),a=n.getParent(r,n.isBlock,i);if(a&&n.isEmpty(a,void 0,{checkRootAsContent:!0})){let r=gI(e.selection.getRng()),o=cR(e,r,t,i),s=n.getParent(o,`LI`,i);if(o&&s){let c=e=>pe([`td`,`th`,`caption`],Er(e)),l=e=>e.dom===i;return ht(G(W.fromDom(s),c,l),G(W.fromDom(r.startContainer),c,l),Sr)?(e.undoManager.transact(()=>{let r=s.parentNode;vR(n,a,i),tR(n,r),e.selection.select(o,!0),e.selection.collapse(t)}),!0):!1}}return!1},bR=(e,t)=>_R(e,t)||yR(e,t),xR=e=>{let t=e.selection.getStart(),n=EI(e,t);return C(e.dom.getParent(t,`LI,DT,DD`,n))||wI(e).length>0},SR=e=>xR(e)?(e.undoManager.transact(()=>{let t=!0,n=()=>t=!1;e.on(`input`,n),e.execCommand(`Delete`),e.off(`input`,n),t&&e.dispatch(`input`),mI(e.dom,e.getBody())}),!0):!1,CR=(e,t)=>{let n=e.selection;return!RI(e,n.getNode())&&(n.isCollapsed()?bR(e,t):SR(e))},wR=(e,t)=>({block:e,position:t}),TR=(e,t)=>({from:e,to:t}),ER=(e,t)=>NC(W.fromDom(e),W.fromDom(t.container())).map(e=>wR(e,t)),DR=e=>!(Cr(e.to.block,e.from.block)||Cr(e.from.block,e.to.block)),OR=e=>!Sr(e.from.block,e.to.block),kR=(e,t)=>G(t,e=>Nu(e)||ps(e.dom),t=>Sr(t,e)).filter(jr).getOr(e),AR=(e,t)=>{let n=W.fromDom(e);return Sr(kR(n,t.from.block),kR(n,t.to.block))},jR=e=>ms(e.from.block.dom)===!1&&ms(e.to.block.dom)===!1,MR=e=>{let t=e=>ku(e)||tc(e.dom)||ju(e);return t(e.from.block)&&t(e.to.block)},NR=(e,t,n,r)=>us(r.position.getNode())&&!Fs(e,r.block)?e_(!1,r.block.dom).bind(e=>e.isEqual(r.position)?Zg(n,t,e).bind(e=>ER(t,e)):P.some(r)).getOr(r):r,PR=(e,t,n,r)=>{let i=ER(t,X.fromRangeStart(r));return _t(i,i.bind(r=>Zg(n,t,r.position).bind(r=>ER(t,r).map(r=>NR(e,t,n,r)))),TR).filter(e=>OR(e)&&AR(t,e)&&jR(e)&&MR(e)&&DR(e))},FR=(e,t,n,r)=>r.collapsed?PR(e,t,n,r):P.none(),IR=(e,t)=>{let n=Jr(e);return Ce(n,e=>t.isBlock(Er(e))).fold(O(n),e=>n.slice(0,e))},LR=(e,t)=>{let n=IR(e,t);return I(n,zi),n},RR=(e,t,n)=>Se(iS(n,t).reverse(),t=>Fs(e,t)).each(zi),zR=(e,t)=>L(Kr(t),t=>!Fs(e,t)).length===0,BR=(e,t,n,r,i)=>{if(Fs(r,n))return Ru(n),r_(n.dom);zR(r,i)&&Fs(r,t)&&xi(i,W.fromTag(`br`));let a=n_(n.dom,X.before(i.dom));return I(LR(t,r),e=>{xi(i,e)}),RR(r,e,t),a},VR=(e,t)=>e.isInline(Er(t)),HR=(e,t,n,r)=>{if(Fs(r,n)){if(Fs(r,t)){let e=ye((e=>{let t=(e,n)=>Xr(e).fold(()=>n,e=>VR(r,e)?t(e,n.concat(Hi(e))):n);return t(e,[])})(n),(e,t)=>(Ti(e,t),t),Lu());Ri(t),wi(t,e)}return zi(n),r_(t.dom)}let i=i_(n.dom);return I(LR(t,r),e=>{wi(n,e)}),RR(r,e,t),i},UR=(e,t)=>{let n=iS(t,e);return P.from(n[n.length-1])},WR=(e,t)=>Cr(t,e)?UR(t,e):P.none(),GR=(e,t)=>{e_(e,t.dom).bind(e=>P.from(e.getNode())).map(W.fromDom).filter(Ou).each(zi)},KR=(e,t,n,r)=>(GR(!0,t),GR(!1,n),WR(t,n).fold(A(HR,e,t,n,r),A(BR,e,t,n,r))),qR=(e,t,n,r,i)=>t?KR(e,r,n,i):KR(e,n,r,i),JR=(e,t)=>{let n=W.fromDom(e.getBody());return FR(e.schema,n.dom,t,e.selection.getRng()).map(r=>()=>{qR(n,t,r.from.block,r.to.block,e.schema).each(t=>{e.selection.setRng(t.toRange())})})},YR=(e,t,n)=>{let r=t.getRng();return _t(NC(e,W.fromDom(r.startContainer)),NC(e,W.fromDom(r.endContainer)),(i,a)=>Sr(i,a)?P.none():P.some(()=>{r.deleteContents(),qR(e,!0,i,a,n).each(e=>{t.setRng(e.toRange())})})).getOr(P.none())},XR=(e,t)=>Aa(W.fromDom(t),Nu,A(Sr,e)).isSome(),ZR=(e,t)=>XR(e,t.startContainer)||XR(e,t.endContainer),QR=(e,t)=>{let n=n_(e.dom,X.fromRangeStart(t)).isNone(),r=t_(e.dom,X.fromRangeEnd(t)).isNone();return!ZR(e,t)&&n&&r},$R=e=>P.some(()=>{e.setContent(``),e.selection.setCursorLocation()}),ez=e=>{let t=W.fromDom(e.getBody());return QR(t,e.selection.getRng())?$R(e):YR(t,e.selection,e.schema)},tz=(e,t)=>e.selection.isCollapsed()?P.none():ez(e),nz=(e,t,n,r,i)=>P.from(t._selectionOverrides.showCaret(e,n,r,i)),rz=e=>{let t=e.ownerDocument.createRange();return t.selectNode(e),t},iz=(e,t)=>e.dispatch(`BeforeObjectSelected`,{target:t}).isDefaultPrevented()?P.none():P.some(rz(t)),az=(e,t,n)=>{let r=wg(1,e.getBody(),t),i=X.fromRangeStart(r),a=i.getNode();if($h(a))return nz(1,e,a,!i.isAtEnd(),!1);let o=i.getNode(!0);if($h(o))return nz(1,e,o,!1,!1);let s=Iw(e.dom.getRoot(),i.getNode());return $h(s)?nz(1,e,s,!1,n):P.none()},oz=(e,t,n)=>t.collapsed?az(e,t,n).getOr(t):t,sz=e=>$x(e)||Yx(e),cz=e=>eS(e)||Xx(e),lz=(e,t)=>{q(t)&&t.data.length===0&&e.remove(t)},uz=(e,t,n,r,i,a)=>{nz(r,e,a.getNode(!i),i,!0).each(n=>{if(t.collapsed){let e=t.cloneRange();i?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)}),lz(e.dom,n)},dz=(e,t)=>{let n=e.selection.getRng();if(!q(n.commonAncestorContainer))return P.none();let r=t?1:-1,i=Ug(e.getBody()),a=A(kg,t?i.next:i.prev),o=t?sz:cz,s=Eg(r,e.getBody(),n),c=a(s),l=c&&wC(t,c);if(!l||!Ag(s,l))return P.none();if(o(l))return P.some(()=>uz(e,n,s.getNode(),r,t,l));let u=a(l);return u&&o(u)&&Ag(l,u)?P.some(()=>uz(e,n,s.getNode(),r,t,u)):P.none()},fz=(e,t)=>dz(e,t),pz=(e,t)=>{let n=e.getBody();return t?r_(n).filter($x):i_(n).filter(eS)},mz=e=>{let t=e.selection.getRng();return!t.collapsed&&(pz(e,!0).exists(e=>e.isEqual(X.fromRangeStart(t)))||pz(e,!1).exists(e=>e.isEqual(X.fromRangeEnd(t))))},hz=e=>C(e)&&(Nu(W.fromDom(e))||ju(W.fromDom(e))),gz=Ze.generate([{remove:[`element`]},{moveToElement:[`element`]},{moveToPosition:[`position`]}]),_z=(e,t)=>{let n=t.getNode(!e),r=e?`after`:`before`;return qo(n)&&n.getAttribute(`data-mce-caret`)===r},vz=(e,t,n,r,i)=>{let a=t=>i.isInline(t.nodeName.toLowerCase())&&!_g(n,r,e);return Tg(!t,n).fold(()=>Tg(t,r).fold(N,a),a)},yz=(e,t,n,r,i)=>{let a=i.getNode(!n);return NC(W.fromDom(t),W.fromDom(r.getNode())).map(t=>Fs(e,t)?gz.remove(t.dom):gz.moveToElement(a)).orThunk(()=>P.some(gz.moveToElement(a)))},bz=(e,t,n,r)=>Zg(t,e,n).bind(i=>hz(i.getNode())||vz(e,t,n,i,r)?P.none():t&&ms(i.getNode())||!t&&ms(i.getNode(!0))?yz(r,e,t,n,i):t&&eS(n)||!t&&$x(n)?P.some(gz.moveToPosition(i)):P.none()),xz=(e,t)=>ne(t)?P.none():e&&ms(t.nextSibling)?P.some(gz.moveToElement(t.nextSibling)):!e&&ms(t.previousSibling)?P.some(gz.moveToElement(t.previousSibling)):P.none(),Sz=(e,t,n)=>n.fold(e=>P.some(gz.remove(e)),e=>P.some(gz.moveToElement(e)),n=>_g(t,n,e)?P.none():P.some(gz.moveToPosition(n))),Cz=(e,t,n,r)=>_z(t,n)?xz(t,n.getNode(!t)).orThunk(()=>bz(e,t,n,r)):bz(e,t,n,r).bind(t=>Sz(e,n,t)),wz=(e,t,n,r)=>{let i=wg(t?1:-1,e,n),a=X.fromRangeStart(i),o=W.fromDom(e);return!t&&eS(a)?P.some(gz.remove(a.getNode(!0))):t&&$x(a)?P.some(gz.remove(a.getNode())):!t&&$x(a)&&_S(o,a,r)?vS(o,a,r).map(e=>gz.remove(e.getNode())):t&&eS(a)&&gS(o,a,r)?yS(o,a,r).map(e=>gz.remove(e.getNode())):Cz(e,t,a,r)},Tz=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),hC(e,t,W.fromDom(n)),!0),Ez=(e,t)=>n=>{let r=t?X.before(n):X.after(n);return e.selection.setRng(r.toRange()),!0},Dz=e=>t=>(e.selection.setRng(t.toRange()),!0),Oz=(e,t)=>P.from(Iw(e.getBody(),t)),kz=(e,t)=>Oz(e,e.selection.getNode()).filter(ms).fold(()=>wz(e.getBody(),t,e.selection.getRng(),e.schema).map(n=>()=>n.fold(Tz(e,t),Ez(e,t),Dz(e))),()=>P.some(E)),Az=e=>{I(no(e,`.mce-offscreen-selection`),zi)},jz=(e,t)=>{let n=e.selection.getNode();return ms(n)&&!gs(n)?Oz(e,n.parentNode).filter(ms).fold(()=>P.some(()=>{Az(W.fromDom(e.getBody())),hC(e,t,W.fromDom(e.selection.getNode())),PC(e)}),()=>P.some(E)):mz(e)?P.some(()=>{LC(e,e.selection.getRng(),W.fromDom(e.getBody()))}):P.none()},Mz=e=>{let t=e.dom,n=e.selection,r=Iw(e.getBody(),n.getNode());if(ps(r)&&t.isBlock(r)&&t.isEmpty(r)){let e=t.create(`br`,{"data-mce-bogus":`1`});t.setHTML(r,``),r.appendChild(e),n.setRng(X.before(e).toRange())}return!0},Nz=(e,t)=>e.selection.isCollapsed()?kz(e,t):jz(e,t),Pz=(e,t)=>{let n=e.dom,r=n.getParent(e.selection.getStart(),n.isBlock),i=n.getParent(e.selection.getEnd(),n.isBlock),a=e.getBody();if(r?.nodeName?.toLowerCase()===`div`&&r&&i&&r===a.firstChild&&i===a.lastChild&&!n.isEmpty(a)){let n=r.cloneNode(!1);return P.some(()=>{if(t?AC(e):kC(e),a.firstChild!==r){let t=qw(e.selection.getRng(),()=>document.createElement(`span`));Array.from(a.childNodes).forEach(e=>n.appendChild(e)),a.appendChild(n),e.selection.setRng(Jw(t))}})}return P.none()},Fz=(e,t)=>{let n=X.fromRangeStart(e.selection.getRng());return Zg(t,e.getBody(),n).filter(e=>t?qx(e):Jx(e)).bind(e=>vg(t?0:-1,e)).map(t=>()=>e.selection.select(t))},Iz=(e,t)=>e.selection.isCollapsed()?Fz(e,t):P.none(),Lz=q,Rz=e=>Lz(e)&&e.data[0]===`﻿`,zz=e=>Lz(e)&&e.data[e.data.length-1]===`﻿`,Bz=e=>(e.ownerDocument??document).createTextNode(`﻿`),Vz=e=>{if(Lz(e.previousSibling))return zz(e.previousSibling)||e.previousSibling.appendData(`﻿`),e.previousSibling;if(Lz(e))return Rz(e)||e.insertData(0,`﻿`),e;{let t=Bz(e);return e.parentNode?.insertBefore(t,e),t}},Hz=e=>{if(Lz(e.nextSibling))return Rz(e.nextSibling)||e.nextSibling.insertData(0,`﻿`),e.nextSibling;if(Lz(e))return zz(e)||e.appendData(`﻿`),e;{let t=Bz(e);return e.nextSibling?e.parentNode?.insertBefore(t,e.nextSibling):e.parentNode?.appendChild(t),t}},Uz=(e,t)=>e?Vz(t):Hz(t),Wz=A(Uz,!0),Gz=A(Uz,!1),Kz=(e,t)=>q(e.container())?Uz(t,e.container()):Uz(t,e.getNode()),qz=(e,t)=>{let n=t.get();return n&&e.container()===n&&Ku(n)},Jz=(e,t)=>t.fold(t=>{Gh(e.get());let n=Wz(t);return e.set(n),P.some(X(n,n.length-1))},t=>r_(t).map(t=>{if(qz(t,e))return X(e.get(),1);{Gh(e.get());let n=Kz(t,!0);return e.set(n),X(n,1)}}),t=>i_(t).map(t=>{if(qz(t,e)){let t=e.get();return X(t,t.length-1)}else{Gh(e.get());let n=Kz(t,!1);return e.set(n),X(n,n.length-1)}}),t=>{Gh(e.get());let n=Gz(t);return e.set(n),P.some(X(n,1))}),Yz=(e,t)=>{for(let n=0;n<e.length;n++){let r=e[n].apply(null,t);if(r.isSome())return r}return P.none()},Xz=Ze.generate([{before:[`element`]},{start:[`element`]},{end:[`element`]},{after:[`element`]}]),Zz=(e,t)=>gg(t,e)||e,Qz=(e,t,n)=>{let r=TC(n),i=Zz(t,r.container());return xC(e,i,r).fold(()=>t_(i,r).bind(A(xC,e,i)).map(e=>Xz.before(e)),P.none)},$z=(e,t)=>s_(e,t)===null,eB=(e,t,n)=>xC(e,t,n).filter(A($z,t)),tB=(e,t,n)=>{let r=EC(n);return eB(e,t,r).bind(e=>n_(e,r).isNone()?P.some(Xz.start(e)):P.none())},nB=(e,t,n)=>{let r=TC(n);return eB(e,t,r).bind(e=>t_(e,r).isNone()?P.some(Xz.end(e)):P.none())},rB=(e,t,n)=>{let r=EC(n),i=Zz(t,r.container());return xC(e,i,r).fold(()=>n_(i,r).bind(A(xC,e,i)).map(e=>Xz.after(e)),P.none)},iB=e=>!yC(oB(e)),aB=(e,t,n)=>Yz([Qz,tB,nB,rB],[e,t,n]).filter(iB),oB=e=>e.fold(k,k,k,k),sB=e=>e.fold(O(`before`),O(`start`),O(`end`),O(`after`)),cB=e=>e.fold(Xz.before,Xz.before,Xz.after,Xz.after),lB=e=>e.fold(Xz.start,Xz.start,Xz.end,Xz.end),uB=(e,t)=>sB(e)===sB(t)&&oB(e)===oB(t),dB=(e,t,n,r,i,a)=>_t(xC(t,n,r),xC(t,n,i),(t,r)=>t!==r&&SC(n,t,r)?Xz.after(e?t:r):a).getOr(a),fB=(e,t)=>e.fold(ce,e=>!uB(e,t)),pB=(e,t,n,r,i)=>{let a=wC(e,i);return Zg(e,n,a).map(A(wC,e)).fold(()=>r.map(cB),i=>aB(t,n,i).map(A(dB,e,t,n,a,i)).filter(A(fB,r))).filter(iB)},mB=(e,t)=>e?t.fold(ie(P.some,Xz.start),P.none,ie(P.some,Xz.after),P.none):t.fold(P.none,ie(P.some,Xz.before),P.none,ie(P.some,Xz.end)),hB=(e,t,n,r)=>{let i=wC(e,r),a=aB(t,n,i);return aB(t,n,i).bind(A(mB,e)).orThunk(()=>pB(e,t,n,a,r))},gB=e=>w(e.selection.getSel().modify),_B=(e,t,n)=>{let r=e?1:-1;return t.setRng(X(n.container(),n.offset()+r).toRange()),t.getSel().modify(`move`,e?`forward`:`backward`,`word`),!0},vB=(e,t)=>{let n=t.selection.getRng(),r=e?X.fromRangeEnd(n):X.fromRangeStart(n);return gB(t)?e&&Xu(r)?_B(!0,t.selection,r):!e&&Zu(r)?_B(!1,t.selection,r):!1:!1};var yB;(function(e){e[e.Br=0]=`Br`,e[e.Block=1]=`Block`,e[e.Wrap=2]=`Wrap`,e[e.Eol=3]=`Eol`})(yB||={});let bB=(e,t)=>e===-1?Oe(t):t,xB=(e,t,n)=>e===1?t.next(n):t.prev(n),SB=(e,t,n,r)=>us(r.getNode(t===1))?yB.Br:_g(n,r)===!1?yB.Block:yB.Wrap,CB=(e,t,n,r)=>{let i=Ug(n),a=r,o=[];for(;a;){let r=xB(t,i,a);if(!r)break;if(us(r.getNode(!1)))return t===1?{positions:bB(t,o).concat([r]),breakType:yB.Br,breakAt:P.some(r)}:{positions:bB(t,o),breakType:yB.Br,breakAt:P.some(r)};if(!r.isVisible()){a=r;continue}if(e(a,r)){let e=SB(n,t,a,r);return{positions:bB(t,o),breakType:e,breakAt:P.some(r)}}o.push(r),a=r}return{positions:bB(t,o),breakType:yB.Eol,breakAt:P.none()}},wB=(e,t,n,r)=>t(n,r).breakAt.map(r=>{let i=t(n,r).positions;return e===-1?i.concat(r):[r].concat(i)}).getOr([]),TB=(e,t)=>be(e,(e,n)=>e.fold(()=>P.some(n),r=>_t(Ne(r.getClientRects()),Ne(n.getClientRects()),(e,i)=>{let a=Math.abs(t-e.left);return Math.abs(t-i.left)<=a?n:r}).or(e)),P.none()),EB=(e,t)=>Ne(t.getClientRects()).bind(t=>TB(e,t.left)),DB=A(CB,X.isAbove,-1),OB=A(CB,X.isBelow,1),kB=A(wB,-1,DB),AB=A(wB,1,OB),jB=(e,t)=>DB(e,t).breakAt.isNone(),MB=(e,t)=>OB(e,t).breakAt.isNone(),NB=e=>r_(e).map(t=>[t].concat(OB(e,t).positions)).getOr([]),PB=e=>i_(e).map(t=>DB(e,t).positions.concat(t)).getOr([]),FB=(e,t)=>EB(kB(e,t),t),IB=(e,t)=>EB(AB(e,t),t),LB=ms,RB=(e,t)=>Math.abs(e.left-t),zB=(e,t)=>Math.abs(e.right-t),BB=e=>Xe(e,`node`),VB=(e,t)=>$t(e,(e,n)=>{let r=Math.min(RB(e,t),zB(e,t)),i=Math.min(RB(n,t),zB(n,t));return i===r&&BB(n)&&LB(n.node)||i<r?n:e}),HB=e=>{let t=t=>he(t,t=>{let n=ad(t);return n.node=e,n});if(qo(e))return t(e.getClientRects());if(q(e)){let n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},UB=e=>Ee(e,HB);var WB;(function(e){e[e.Up=-1]=`Up`,e[e.Down=1]=`Down`})(WB||={});let GB=(e,t,n,r)=>{let i=r;for(;i=dg(i,e,Id,t);)if(n(i))return},KB=(e,t,n,r,i,a)=>{let o=0,s=[],c=r=>{let a=UB([r]);e===WB.Up&&(a=a.reverse());for(let e=0;e<a.length;e++){let r=a[e];if(!n(r,l)){if(s.length>0&&t(r,tn(s))&&o++,r.line=o,i(r))return!0;s.push(r)}}return!1},l=tn(a.getClientRects());if(!l)return s;let u=a.getNode();return u&&(c(u),GB(e,r,c,u)),s},qB=(e,t)=>t.line>e,JB=(e,t)=>t.line===e,YB=A(KB,WB.Up,ld,ud),XB=A(KB,WB.Down,ud,ld),ZB=e=>tn(e.getClientRects()),QB=(e,t,n,r)=>{let i=Ug(t),a,o,s,c,l=[],u=0;e===WB.Down?(a=i.next,o=ud,s=ld,c=X.after(r)):(a=i.prev,o=ld,s=ud,c=X.before(r));let d=ZB(c);do{if(!c.isVisible())continue;let e=ZB(c);if(s(e,d))continue;l.length>0&&o(e,tn(l))&&u++;let t=ad(e);if(t.position=c,t.line=u,n(t))return l;l.push(t)}while(c=a(c));return l},$B=e=>t=>qB(e,t),eV=e=>t=>JB(e,t),tV=(e,t)=>{e.selection.setRng(t),Gb(e,e.selection.getRng())},nV=(e,t,n)=>P.some(oz(e,t,n)),rV=(e,t)=>{let n=e.getNode(t===-1);return C(n)&&pg(n)?P.some(n):P.none()},iV=(e,t)=>{let n=e.dom.createRng();return n.selectNode(t),n},aV=(e,t,n,r,i,a)=>{let o=t===1,s=Ug(e.getBody()),c=A(kg,o?s.next:s.prev),l=o?r:i;if(!n.collapsed){let r=hd(n);if(a(r))if(pg(r)){let r=Eg(t,e.getBody(),n);return P.from(c(r)).map(e=>e.toRange())}else return nz(t,e,r,t===-1,!1);else if(mz(e)){let e=n.cloneRange();return e.collapse(t===-1),P.from(e)}}let u=Eg(t,e.getBody(),n);if(l(u))return iz(e,u.getNode(!o));let d=c(u),f=rd(n);if(d)d=wC(o,d);else return f?P.some(n):P.none();if(l(d))return rV(d,t).fold(()=>nz(t,e,d?.getNode(!o),o,!1),t=>P.some(iV(e,t)));let p=c(d);return p&&l(p)&&Ag(d,p)?rV(d,t).fold(()=>nz(t,e,p.getNode(!o),o,!1),t=>P.some(iV(e,t))):f?nV(e,d.toRange(),!1):P.none()},oV=(e,t,n,r,i,a)=>{let o=Eg(t,e.getBody(),n),s=tn(o.getClientRects()),c=t===WB.Down,l=e.getBody();if(!s)return P.none();if(mz(e)){let e=c?X.fromRangeEnd(n):X.fromRangeStart(n);return(c?IB:FB)(l,e).orThunk(()=>P.from(e)).map(e=>e.toRange())}let u=L((c?XB:YB)(l,$B(1),o),eV(1)),d=s.left,f=VB(u,d);if(f&&a(f.node)){let n=Math.abs(d-f.left),r=Math.abs(d-f.right);return nz(t,e,f.node,n<r,!1)}let p;if(p=r(o)?o.getNode():i(o)?o.getNode(!0):hd(n),p){let n=QB(t,l,$B(1),p),r=VB(L(n,eV(1)),d);if(r||(r=tn(L(n,eV(0))),r))return nV(e,r.position.toRange(),!1)}return u.length===0?sV(e,c).filter(c?i:r).map(t=>oz(e,t.toRange(),!1)):P.none()},sV=(e,t)=>{let n=e.selection.getRng(),r=t?X.fromRangeEnd(n):X.fromRangeStart(n),i=fg(r.container(),e.getBody());return t?Pe(OB(i,r).positions):Ne(DB(i,r).positions)},cV=(e,t,n)=>sV(e,t).filter(n).exists(t=>(e.selection.setRng(t.toRange()),!0)),lV=(e,t)=>{let n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},uV=(e,t)=>{e?t.setAttribute(`data-mce-selected`,`inline-boundary`):t.removeAttribute(`data-mce-selected`)},dV=(e,t,n)=>Jz(t,n).map(t=>(lV(e,t),n)),fV=(e,t,n)=>{let r=X.fromRangeStart(e);if(e.collapsed)return r;{let i=X.fromRangeEnd(e);return n?n_(t,i).getOr(i):t_(t,r).getOr(r)}},pV=(e,t,n)=>{let r=e.getBody(),i=fV(e.selection.getRng(),r,n);return hB(n,A(vC,e),r,i).bind(n=>dV(e,t,n))},mV=(e,t,n)=>{let r=L(he(no(W.fromDom(t.getRoot()),`*[data-mce-selected="inline-boundary"]`),e=>e.dom),e),i=L(n,e);I(ke(r,i),A(uV,!1)),I(ke(i,r),A(uV,!0))},hV=(e,t)=>{let n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){let r=X.fromRangeStart(e.selection.getRng());X.isTextPosition(r)&&!CC(r)&&(lV(e,Wh(n,r)),t.set(null))}},gV=(e,t,n,r)=>{t.selection.isCollapsed()&&I(L(r,e),r=>{let i=X.fromRangeStart(t.selection.getRng());aB(e,t.getBody(),i).bind(e=>dV(t,n,e))})},_V=(e,t,n)=>xm(e)?pV(e,t,n).isSome():!1,vV=(e,t,n)=>xm(t)?vB(e,t):!1,yV=e=>{let t=B(null),n=A(vC,e);return e.on(`NodeChange`,r=>{xm(e)&&(mV(n,e.dom,r.parents),hV(e,t),gV(n,e,t,r.parents))}),t},bV=A(vV,!0),xV=A(vV,!1),SV=(e,t,n)=>{if(xm(e)){let r=sV(e,t).getOrThunk(()=>{let n=e.selection.getRng();return t?X.fromRangeEnd(n):X.fromRangeStart(n)});return aB(A(vC,e),e.getBody(),r).exists(t=>Jz(n,cB(t)).exists(t=>(lV(e,t),!0)))}else return!1},CV=(e,t)=>{let n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},wV=e=>_t(r_(e),i_(e),(t,n)=>{let r=wC(!0,t),i=wC(!1,n);return t_(e,r).forall(e=>e.isEqual(i))}).getOr(!0),TV=(e,t)=>n=>Jz(t,n).map(t=>()=>lV(e,t)),EV=(e,t,n,r)=>{let i=e.getBody(),a=A(vC,e);e.undoManager.ignore(()=>{e.selection.setRng(CV(n,r)),kC(e),aB(a,i,X.fromRangeStart(e.selection.getRng())).map(lB).bind(TV(e,t)).each(se)}),e.nodeChanged()},DV=(e,t)=>gg(t,e)||e,OV=(e,t,n,r)=>{let i=DV(e.getBody(),r.container()),a=A(vC,e),o=aB(a,i,r);return o.bind(e=>n?e.fold(O(P.some(lB(e))),P.none,O(P.some(cB(e))),P.none):e.fold(P.none,O(P.some(cB(e))),P.none,O(P.some(lB(e))))).map(TV(e,t)).getOrThunk(()=>{let s=Qg(n,i,r),c=s.bind(e=>aB(a,i,e));return _t(o,c,()=>xC(a,i,r).bind(t=>wV(t)?P.some(()=>{hC(e,n,W.fromDom(t))}):P.none())).getOrThunk(()=>c.bind(()=>s.map(i=>()=>{n?EV(e,t,r,i):EV(e,t,i,r)})))})},kV=(e,t,n)=>e.selection.isCollapsed()&&xm(e)?OV(e,t,n,X.fromRangeStart(e.selection.getRng())):P.none(),AV=e=>Qr(e)>1,jV=(e,t)=>{let n=W.fromDom(e.getBody()),r=iS(W.fromDom(e.selection.getStart()),n);return Ce(r,t).fold(O(r),e=>r.slice(0,e))},MV=e=>Qr(e)===1,NV=e=>jV(e,t=>e.schema.isBlock(Er(t))||AV(t)),PV=e=>jV(e,t=>e.schema.isBlock(Er(t))),FV=(e,t)=>{let n=A(kT,e);return Ee(t,e=>n(e)?[e.dom]:[])},IV=e=>FV(e,PV(e)),LV=(e,t,n,r)=>{let i=FV(t,r);if(i.length===0)hC(t,e,n);else{let e=DT(n.dom,i);t.selection.setRng(e.toRange())}},RV=(e,t)=>{let n=L(NV(e),MV);return Pe(n).bind(r=>FC(t,X.fromRangeStart(e.selection.getRng()),r.dom)&&!Av(r)?P.some(()=>LV(t,e,r,n)):P.none())},zV=(e,t)=>{let n=t.parentElement;return us(t)&&!S(n)&&e.dom.isEmpty(n)},BV=e=>Av(W.fromDom(e)),VV=(e,t)=>{let n=e.selection.getStart(),r=zV(e,n)||BV(n)?DT(n,t):OT(e.selection.getRng(),t);e.selection.setRng(r.toRange())},HV=(e,t)=>{let n=ke(t,IV(e));n.length>0&&VV(e,n)},UV=e=>q(e.startContainer),WV=e=>e.startOffset===0&&UV(e),GV=(e,t)=>{let n=t.startContainer.parentElement;return!S(n)&&kT(e,W.fromDom(n))},KV=e=>{let t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!S(t)&&!S(n)&&t.isEqualNode(n)},qV=e=>{let t=e.endContainer;return e.endOffset===(q(t)?t.length:t.childNodes.length)},JV=e=>KV(e)&&qV(e),YV=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),XV=e=>JV(e)||YV(e),ZV=e=>{let t=e.selection.getRng();return WV(t)&&GV(e,t)&&XV(t)},QV=e=>{if(ZV(e)){let t=IV(e);return P.some(()=>{kC(e),HV(e,t)})}else return P.none()},$V=(e,t)=>e.selection.isCollapsed()?RV(e,t):QV(e),eH=(e,t)=>ro(e,e=>o_(e.dom),e=>t.isBlock(Er(e))),tH=e=>eH(W.fromDom(e.selection.getStart()),e.schema),nH=e=>{let t=e.selection.getRng();return t.collapsed&&(UV(t)||e.dom.isEmpty(t.startContainer))&&!tH(e)},rH=e=>(nH(e)&&VV(e,[]),!0),iH=(e,t,n)=>C(n)?P.some(()=>{e._selectionOverrides.hideFakeCaret(),hC(e,t,W.fromDom(n))}):P.none(),aH=(e,t)=>{let n=t?Yx:Xx,r=Eg(t?1:-1,e.getBody(),e.selection.getRng());return n(r)?iH(e,t,r.getNode(!t)):P.from(wC(t,r)).filter(e=>n(e)&&Ag(r,e)).bind(n=>iH(e,t,n.getNode(!t)))},oH=(e,t)=>{let n=e.selection.getNode();return ys(n)?iH(e,t,n):P.none()},sH=(e,t)=>e.selection.isCollapsed()?aH(e,t):oH(e,t),cH=e=>G(e,e=>ps(e.dom)||ms(e.dom)).exists(e=>ps(e.dom)),lH=e=>zt(e??``).getOr(0),uH=(e,t)=>(e||Du(t)?`margin`:`padding`)+(ra(t,`direction`)===`rtl`?`-right`:`-left`),dH=(e,t,n,r,i,a)=>{let o=uH(n,W.fromDom(a)),s=lH(e.getStyle(a,o));if(t===`outdent`){let t=Math.max(0,s-r);e.setStyle(a,o,t?t+i:``)}else{let t=s+r+i;e.setStyle(a,o,t)}},fH=(e,t)=>De(t,t=>{let n=aa(t,uH(am(e),t)).map(lH).getOr(0);return e.dom.getContentEditable(t.dom)!==`false`&&n>0}),pH=e=>{let t=_H(e);return!e.mode.isReadOnly()&&(t.length>1||fH(e,t))},mH=e=>!e.mode.isReadOnly()&&EL(e),hH=e=>Au(e)||ju(e),gH=e=>Br(e).exists(hH),_H=e=>L(qi(e.selection.getSelectedBlocks()),e=>!hH(e)&&!gH(e)&&cH(e)),vH=(e,t)=>{if(e.mode.isReadOnly())return;let{dom:n}=e,r=om(e),i=/[a-z%]+$/i.exec(r)?.[0]??`px`,a=lH(r),o=am(e);I(_H(e),e=>{dH(n,t,o,a,i,e.dom)}),t===`indent`?IL(e):LL(e)},yH=e=>vH(e,`indent`),bH=e=>vH(e,`outdent`),xH=e=>{if(e.selection.isCollapsed()&&pH(e)){let t=e.dom,n=e.selection.getRng(),r=X.fromRangeStart(n),i=t.getParent(n.startContainer,t.isBlock);if(i!==null&&uS(W.fromDom(i),r,e.schema))return P.some(()=>bH(e))}return P.none()},SH=(e,t)=>Z_(eD(e.selection.getRng()))?P.some(()=>hC(e,t,W.fromDom(e.selection.getNode()))):P.none(),CH=(e,t)=>e.selection.isCollapsed()?P.none():SH(e,t),wH=(e,t,n)=>Ie([xH,Nz,fz,(e,n)=>kV(e,t,n),JR,Fw,Iz,sH,tz,$V,Pz,CH],t=>t(e,n)).filter(t=>e.selection.isEditable()),TH=(e,t)=>{wH(e,t,!1).fold(()=>{e.selection.isEditable()&&(kC(e),PC(e))},se),xR(e)&&mI(e.dom,e.getBody())},EH=(e,t)=>{wH(e,t,!0).fold(()=>{e.selection.isEditable()&&AC(e)},se),xR(e)&&mI(e.dom,e.getBody())},DH=(e,t)=>{e.addCommand(`delete`,()=>{TH(e,t)}),e.addCommand(`forwardDelete`,()=>{EH(e,t)})},OH=e=>e.touches===void 0||e.touches.length!==1?P.none():P.some(e.touches[0]),kH=(e,t)=>{let n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5},AH=e=>{let t=Tt(),n=B(!1),r=Vt(t=>{e.dispatch(`longpress`,{...t,type:`longpress`}),n.set(!0)},400);e.on(`touchstart`,e=>{OH(e).each(i=>{r.cancel();let a={x:i.clientX,y:i.clientY,target:e.target};r.throttle(e),n.set(!1),t.set(a)})},!0),e.on(`touchmove`,i=>{r.cancel(),OH(i).each(r=>{t.on(i=>{kH(r,i)&&(t.clear(),n.set(!1),e.dispatch(`longpresscancel`))})})},!0),e.on(`touchend touchcancel`,i=>{r.cancel(),i.type!==`touchcancel`&&t.get().filter(e=>e.target.isEqualNode(i.target)).each(()=>{n.get()?i.preventDefault():e.dispatch(`tap`,{...i,type:`tap`})})},!0)},jH=(e,t)=>Ye(e,t.nodeName),MH=(e,t)=>q(t)?!0:qo(t)?!jH(e.getBlockElements(),t)&&!k_(t)&&!ic(e,t)&&!zs(t)&&!vs(t):!1,NH=(e,t,n)=>me(rS(W.fromDom(n),W.fromDom(t)),t=>jH(e,t.dom)),PH=(e,t)=>{if(q(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||jH(e,t.nextSibling)||zs(t.nextSibling)}return!1},FH=e=>e.dom.create(Rp(e),zp(e)),IH=e=>{let t=e.dom,n=e.selection,r=e.schema,i=r.getBlockElements(),a=n.getStart(),o=e.getBody(),s,c,l=null,u=Rp(e);if(!a||!qo(a))return;let d=o.nodeName.toLowerCase();if(!r.isValidChild(d,u.toLowerCase())||NH(i,o,a))return;if(o.firstChild===o.lastChild&&us(o.firstChild)){s=FH(e),s.appendChild(Lu().dom),o.replaceChild(s,o.firstChild),e.selection.setCursorLocation(s,0),e.nodeChanged();return}let f=o.firstChild;for(;f;)if(qo(f)&&$s(r,f),MH(r,f)){if(PH(i,f)){c=f,f=f.nextSibling,t.remove(c);continue}if(!s){if(!l&&e.hasFocus()&&(l=qw(e.selection.getRng(),()=>document.createElement(`span`))),!f.parentNode){f=null;break}s=FH(e),o.insertBefore(s,f)}c=f,f=f.nextSibling,s.appendChild(c)}else s=null,f=f.nextSibling;l&&(e.selection.setRng(Jw(l)),e.nodeChanged())},LH=(e,t,n)=>{let r=W.fromDom(FH(e)),i=Lu();wi(r,i),n(t,r);let a=document.createRange();return a.setStartBefore(i.dom),a.setEndBefore(i.dom),a},RH=e=>{e.on(`NodeChange`,()=>IH(e))},zH=e=>t=>(` `+t.attr(`class`)+` `).indexOf(e)!==-1,BH=(e,t,n)=>function(r){let i=arguments,a=i[i.length-2],o=a>0?t.charAt(a-1):``;if(o===`"`)return r;if(o===`>`){let e=t.lastIndexOf(`<`,a);if(e!==-1&&t.substring(e,a).indexOf(`contenteditable="false"`)!==-1)return r}return`<span class="`+n+`" data-mce-content="`+e.dom.encode(i[0])+`">`+e.dom.encode(typeof i[1]==`string`?i[1]:i[0])+`</span>`},VH=(e,t,n)=>{let r=t.length,i=n.content;if(n.format!==`raw`){for(;r--;)i=i.replace(t[r],BH(e,i,uh(e)));n.content=i}},HH=(e,t)=>De(e,e=>{let n=t.match(e);return n!==null&&n[0].length===t.length}),UH=e=>{let t=`contenteditable`,n=` `+U.trim(dh(e))+` `,r=` `+U.trim(uh(e))+` `,i=zH(n),a=zH(r),o=fh(e);o.length>0&&e.on(`BeforeSetContent`,t=>{VH(e,o,t)}),e.parser.addAttributeFilter(`class`,e=>{let n=e.length;for(;n--;){let r=e[n];i(r)?r.attr(t,`true`):a(r)&&r.attr(t,`false`)}}),e.serializer.addAttributeFilter(t,e=>{let n=e.length;for(;n--;){let r=e[n];if(!i(r)&&!a(r))continue;let s=r.attr(`data-mce-content`);o.length>0&&s?HH(o,s)?(r.name=`#text`,r.type=3,r.raw=!0,r.value=s):r.remove():r.attr(t,null)}})},WH=e=>Fa(W.fromDom(e.getBody()),`*[data-mce-caret]`).map(e=>e.dom).getOrNull(),GH=(e,t)=>{t.hasAttribute(`data-mce-caret`)&&(nd(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},KH=(e,t)=>{let n=WH(e);if(n){if(t.type===`compositionstart`){t.preventDefault(),t.stopPropagation(),GH(e,n);return}Ju(n)&&(GH(e,n),e.undoManager.add())}},qH=e=>{e.on(`keyup compositionstart`,A(KH,e))},JH=ms,YH=(e,t,n)=>aV(t,e,n,$x,eS,JH),XH=(e,t,n)=>oV(t,e,n,e=>$x(e)||Zx(e),e=>eS(e)||Qx(e),JH),ZH=e=>{let t=e.dom.create(Rp(e));return t.innerHTML=`<br data-mce-bogus="1">`,t},QH=(e,t,n)=>{let r=Ug(e.getBody()),i=A(kg,t===1?r.next:r.prev);if(n.collapsed){let r=e.dom.getParent(n.startContainer,`PRE`);if(!r)return;if(!i(X.fromRangeStart(n))){let n=W.fromDom(ZH(e));t===1?Si(W.fromDom(r),n):xi(W.fromDom(r),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},$H=(e,t)=>{let n=t?1:-1,r=e.selection.getRng();return YH(n,e,r).orThunk(()=>(QH(e,n,r),P.none()))},eU=(e,t)=>{let n=t?1:-1,r=e.selection.getRng();return XH(n,e,r).orThunk(()=>(QH(e,n,r),P.none()))},tU=(e,t)=>yC(t?e.getEnd(!0):e.getStart(!0))?!t:t,nU=(e,t)=>$H(e,tU(e.selection,t)).exists(t=>(tV(e,t),!0)),rU=(e,t)=>eU(e,t).exists(t=>(tV(e,t),!0)),iU=(e,t)=>cV(e,t,t?eS:$x),aU=(e,t)=>pz(e,!t).map(n=>{let r=n.toRange(),i=e.selection.getRng();return t?r.setStart(i.startContainer,i.startOffset):r.setEnd(i.endContainer,i.endOffset),r}).exists(t=>(tV(e,t),!0)),oU=(e,t)=>{let n=e=>Sr(e,t);return G(W.fromDom(e.container()),e=>ps(e.dom),n).filter(e=>!n(e))},sU=(e,t,n)=>(n?IB:FB)(e.getBody(),t).map(e=>e.toRange()),cU=(e,t)=>{let n=X.fromRangeStart(e.selection.getRng()),r=X.fromRangeEnd(e.selection.getRng()),i=W.fromDom(e.getBody());return yt(_t(oU(n,i),oU(r,i),(e,t)=>Sr(e,t)?P.some(e):P.none())).fold(N,i=>t&&MB(i.dom,r)||!t&&jB(i.dom,n)?sU(e,t?r:n,t).exists(t=>(tV(e,t),!0)):!1)},lU=(e,t)=>cU(e,t),uU=e=>pe([`figcaption`],Er(e)),dU=(e,t,n)=>{let r=A(Sr,t);return G(W.fromDom(e.container()),e=>n.isBlock(Er(e)),r).filter(uU)},fU=(e,t,n)=>t?MB(e.dom,n):jB(e.dom,n),pU=(e,t)=>{let n=W.fromDom(e.getBody()),r=X.fromRangeStart(e.selection.getRng());return dU(r,n,e.schema).exists(()=>{if(fU(n,t,r)){let r=LH(e,n,t?wi:Ci);return e.selection.setRng(r),!0}else return!1})},mU=(e,t)=>e.selection.isCollapsed()?pU(e,t):!1,hU=(e,t,n)=>{let r=e.selection.getRng(),i=X.fromRangeStart(r);return e.getBody().firstChild===t&&jB(n,i)?(e.execCommand(`InsertNewBlockBefore`),!0):!1},gU=(e,t)=>{let n=e.selection.getRng(),r=X.fromRangeStart(n);return e.getBody().lastChild===t&&MB(t,r)?(e.execCommand(`InsertNewBlockAfter`),!0):!1},_U=(e,t)=>t?P.from(e.dom.getParent(e.selection.getNode(),`details`)).map(t=>gU(e,t)).getOr(!1):P.from(e.dom.getParent(e.selection.getNode(),`summary`)).bind(t=>P.from(e.dom.getParent(t,`details`)).map(n=>hU(e,n,t))).getOr(!1),vU=(e,t)=>_U(e,t),yU={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},bU=e=>he(e,e=>({...yU,...e})),xU=e=>he(e,e=>({...yU,...e})),SU=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,CU=(e,t)=>Ee(bU(e),e=>SU(e,t)?[e]:[]),wU=(e,t)=>Ee(xU(e),e=>SU(e,t)?[e]:[]),TU=(e,...t)=>()=>e.apply(null,t),EU=(e,t)=>Se(CU(e,t),e=>e.action()),DU=(e,t)=>Ie(wU(e,t),e=>e.action()),OU=(e,t)=>aV(e,t?1:-1,e.selection.getRng(),Yx,Xx,ys).exists(t=>(tV(e,t),!0)),kU=(e,t)=>oV(e,t?1:-1,e.selection.getRng(),Yx,Xx,ys).exists(t=>(tV(e,t),!0)),AU=(e,t)=>cV(e,t,t?Xx:Yx),jU=(e,t)=>MU(e,t,ce),MU=(e,t,n)=>Ee(Jr(e),e=>vr(e,t)?n(e)?[e]:[]:MU(e,t,n)),NU=(e,t,n=N)=>n(t)?P.none():pe(e,Er(t))?P.some(t):Pa(t,e.join(`,`),e=>vr(e,`table`)||n(e)),PU=(e,t)=>NU([`td`,`th`],e,t),FU=e=>jU(e,`th,td`),IU=(e,t)=>Ia(e,`table`,t),LU=Ze.generate([{none:[`current`]},{first:[`current`]},{middle:[`current`,`target`]},{last:[`current`]}]),RU=e=>LU.none(e),zU={...LU,none:RU},BU=(e,t,n,r,i=ce)=>{let a=r===1;if(!a&&n<=0)return zU.first(e[0]);if(a&&n>=e.length-1)return zU.last(e[e.length-1]);{let a=n+r,o=e[a];return i(o)?zU.middle(t,o):BU(e,t,a,r,i)}},VU=(e,t)=>IU(e,t).bind(t=>{let n=FU(t);return Ce(n,t=>Sr(e,t)).map(e=>({index:e,all:n}))}),HU=(e,t,n)=>VU(e,n).fold(()=>zU.none(e),n=>BU(n.all,e,n.index,1,t)),UU=(e,t,n)=>VU(e,n).fold(()=>zU.none(),n=>BU(n.all,e,n.index,-1,t));var WU=`body.p.div.article.aside.figcaption.figure.footer.header.nav.section.ol.ul.li.table.thead.tbody.tfoot.caption.tr.td.th.h1.h2.h3.h4.h5.h6.blockquote.pre.address`.split(`.`),GU=()=>({up:O({selector:Pa,closest:Ia,predicate:Aa,all:Hr}),down:O({selector:no,predicate:eo}),styles:O({get:ra,getRaw:aa,set:ta,remove:sa}),attrs:O({get:Mi,set:Ai,remove:Fi,copyTo:(e,t)=>{ji(t,Li(e))}}),insert:O({before:xi,after:Si,afterAll:Di,append:wi,appendAll:Oi,prepend:Ci,wrap:Ti}),remove:O({unwrap:Bi,remove:zi}),create:O({nu:W.fromTag,clone:e=>W.fromDom(e.dom.cloneNode(!1)),text:W.fromText}),query:O({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:Wr,nextSibling:Gr}),property:O({children:Jr,name:Er,parent:Br,document:e=>Lr(e).dom,isText:Mr,isComment:kr,isElement:jr,isSpecial:e=>pe([`script`,`noscript`,`iframe`,`noframes`,`noembed`,`title`,`style`,`textarea`,`xmp`],Er(e)),getLanguage:e=>jr(e)?Ni(e,`lang`):P.none(),getText:Ca,setText:Ta,isBoundary:e=>jr(e)?Er(e)===`body`?!0:pe(WU,Er(e)):!1,isEmptyTag:e=>jr(e)?pe([`br`,`img`,`hr`,`input`],Er(e)):!1,isNonEditable:e=>jr(e)&&Mi(e,`contenteditable`)===`false`}),eq:Sr,is:wr});let KU=(e,t)=>({element:e,offset:t}),qU=(e,t)=>{if(e.property().isText(t))return KU(t,e.property().getText(t).length);{let n=e.property().children(t);return n.length>0?qU(e,n[n.length-1]):KU(t,n.length)}},JU=(e,t,n)=>{let r=e.property().children(t);return r.length>0&&n<r.length?JU(e,r[n],0):r.length>0&&e.property().isElement(t)&&r.length===n?qU(e,r[r.length-1]):KU(t,n)},YU=JU,XU=GU(),ZU=(e,t)=>YU(XU,e,t),QU=st(`image`),$U=e=>{let t=e;return P.from(t[QU])},eW=(e,t)=>{let n=e;n[QU]=t},tW=st(`event`),nW=e=>{let t=e;return P.from(t[tW])},rW=e=>t=>{let n=t;n[tW]=e},iW=(e,t)=>rW(t)(e),aW=rW(0),oW=rW(2),sW=rW(1),cW=(e=>t=>{let n=t;return P.from(n[tW]).exists(t=>t===e)})(0),lW=()=>Object.freeze({length:0,item:e=>null}),uW=st(`mode`),dW=e=>{let t=e;return P.from(t[uW])},fW=e=>t=>{let n=t;n[uW]=e},pW=(e,t)=>fW(t)(e),mW=fW(0),hW=fW(2),gW=fW(1),_W=e=>t=>{let n=t;return P.from(n[uW]).exists(t=>t===e)},vW=_W(0),yW=_W(1),bW=(e,t)=>({...t,get length(){return t.length},add:(n,r)=>{if(vW(e))if(v(n)){if(!te(r))return t.add(n,r)}else return t.add(n);return null},remove:n=>{vW(e)&&t.remove(n)},clear:()=>{vW(e)&&t.clear()}}),xW=[`none`,`copy`,`link`,`move`],SW=[`none`,`copy`,`copyLink`,`copyMove`,`link`,`linkMove`,`move`,`all`,`uninitialized`],CW=()=>{let e=new window.DataTransfer,t=`move`,n=`all`,r={get dropEffect(){return t},set dropEffect(e){pe(xW,e)&&(t=e)},get effectAllowed(){return n},set effectAllowed(e){cW(r)&&pe(SW,e)&&(n=e)},get items(){return bW(r,e.items)},get files(){return yW(r)?lW():e.files},get types(){return e.types},setDragImage:(t,n,i)=>{vW(r)&&(eW(r,{image:t,x:n,y:i}),e.setDragImage(t,n,i))},getData:t=>yW(r)?``:e.getData(t),setData:(t,n)=>{vW(r)&&e.setData(t,n)},clearData:t=>{vW(r)&&e.clearData(t)}};return mW(r),r},wW=e=>{let t=CW(),n=dW(e);return hW(e),aW(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,$U(e).each(e=>t.setDragImage(e.image,e.x,e.y)),I(e.types,n=>{n!==`Files`&&t.setData(n,e.getData(n))}),I(e.files,e=>t.items.add(e)),nW(e).each(e=>{iW(t,e)}),n.each(n=>{pW(e,n),pW(t,n)}),t},TW=e=>{let t=e.getData(`text/html`);return t===``?P.none():P.some(t)},EW=(e,t)=>e.setData(`text/html`,t),DW=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),OW=(e,t)=>Ee(t,t=>{let n=DW(ad(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}),kW=(e,t,n)=>be(e,(e,r)=>e.fold(()=>P.some(r),e=>{let i=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),a=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return P.some(a<i?r:e)}),P.none()),AW=(e,t,n,r,i)=>kW(L(OW(e,no(W.fromDom(n),`td,th,caption`).map(e=>e.dom)),e=>t(e,i)),r,i).map(e=>e.cell),jW=e=>e.bottom,MW=e=>e.top,NW=(e,t)=>e.y<t,PW=(e,t)=>e.y>t,FW=A(AW,jW,NW),IW=A(AW,MW,PW),LW=(e,t)=>Ne(t.getClientRects()).bind(t=>FW(e,t.left,t.top)).bind(e=>EB(PB(e),t)),RW=(e,t)=>Pe(t.getClientRects()).bind(t=>IW(e,t.left,t.top)).bind(e=>EB(NB(e),t)),zW=(e,t,n)=>n.breakAt.exists(n=>e(t,n).breakAt.isSome()),BW=e=>e.breakType===yB.Wrap&&e.positions.length===0,VW=e=>e.breakType===yB.Br&&e.positions.length===1,HW=(e,t,n)=>{let r=e(t,n);return BW(r)||!us(n.getNode())&&VW(r)?!zW(e,t,r):r.breakAt.isNone()},UW=A(HW,DB),WW=A(HW,OB),GW=(e,t,n)=>{let r=X.fromRangeStart(t);return e_(!e,n).exists(e=>e.isEqual(r))},KW=(e,t,n,r)=>{let i=e.selection.getRng(),a=t?1:-1;return Qh()&&GW(t,i,n)?(nz(a,e,n,!t,!1).each(t=>{tV(e,t)}),!0):!1},qW=(e,t,n)=>LW(t,n).orThunk(()=>Ne(n.getClientRects()).bind(n=>TB(kB(e,X.before(t)),n.left))).getOr(X.before(t)),JW=(e,t,n)=>RW(t,n).orThunk(()=>Ne(n.getClientRects()).bind(n=>TB(AB(e,X.after(t)),n.left))).getOr(X.after(t)),YW=(e,t)=>{let n=t.getNode(e);return ns(n)?P.some(n):P.none()},XW=(e,t,n)=>{t.undoManager.transact(()=>{let r=e?Si:xi;tV(t,LH(t,W.fromDom(n),r))})},ZW=(e,t,n)=>{let r=YW(!!t,n),i=t===!1;r.fold(()=>tV(e,n.toRange()),r=>e_(i,e.getBody()).filter(e=>e.isEqual(n)).fold(()=>tV(e,n.toRange()),n=>XW(t,e,r)))},QW=(e,t,n,r)=>{let i=e.selection.getRng(),a=X.fromRangeStart(i),o=e.getBody();return!t&&UW(r,a)?(ZW(e,t,qW(o,n,a)),!0):t&&WW(r,a)?(ZW(e,t,JW(o,n,a)),!0):!1},$W=(e,t,n)=>P.from(e.dom.getParent(e.selection.getNode(),`td,th`)).bind(r=>P.from(e.dom.getParent(r,`table`)).map(i=>n(e,t,i,r))).getOr(!1),eG=(e,t)=>$W(e,t,KW),tG=(e,t)=>$W(e,t,QW),nG=e=>Mo(Co.exact(e,0,e,0)),rG=e=>cG(e)||Ur(e).some(e=>Ar(e)&&cG(e)),iG=(e,t,n)=>n.fold(P.none,P.none,(e,t)=>go(t).map(e=>nG(e)),n=>e.mode.isReadOnly()||!aG(n)||!rG(n)?P.none():(e.execCommand(`mceTableInsertRowAfter`),oG(e,t,n))),aG=e=>G(e,Fr(`table`)).exists(Ya),oG=(e,t,n)=>iG(e,t,HU(n,cG)),sG=(e,t,n)=>iG(e,t,UU(n,cG)),cG=e=>Ya(e)||ao(e,lG),lG=e=>Ar(e)&&Ya(e),uG=(e,t)=>{let n=[`table`,`li`,`dl`],r=W.fromDom(e.getBody()),i=e=>{let t=Er(e);return Sr(e,r)||pe(n,t)},a=e.selection.getRng();return PU(W.fromDom(t?a.endContainer:a.startContainer),i).map(n=>(IU(n,i).each(t=>{e.model.table.clearSelectedCells(t.dom)}),e.selection.collapse(!t),(t?oG:sG)(e,i,n).each(t=>{e.selection.setRng(t)}),!0)).getOr(!1)},dG=(e,t,n)=>{let r=Zn.os.isMacOS()||Zn.os.isiOS(),i=Zn.browser.isFirefox();EU([{keyCode:$.RIGHT,action:TU(nU,e,!0)},{keyCode:$.LEFT,action:TU(nU,e,!1)},{keyCode:$.UP,action:TU(rU,e,!1)},{keyCode:$.DOWN,action:TU(rU,e,!0)},...r?[{keyCode:$.UP,action:TU(aU,e,!1),metaKey:!0,shiftKey:!0},{keyCode:$.DOWN,action:TU(aU,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:$.RIGHT,action:TU(eG,e,!0)},{keyCode:$.LEFT,action:TU(eG,e,!1)},{keyCode:$.UP,action:TU(tG,e,!1)},{keyCode:$.DOWN,action:TU(tG,e,!0)},{keyCode:$.UP,action:TU(tG,e,!1)},{keyCode:$.UP,action:TU(vU,e,!1)},{keyCode:$.DOWN,action:TU(vU,e,!0)},{keyCode:$.RIGHT,action:TU(OU,e,!0)},{keyCode:$.LEFT,action:TU(OU,e,!1)},{keyCode:$.UP,action:TU(kU,e,!1)},{keyCode:$.DOWN,action:TU(kU,e,!0)},{keyCode:$.RIGHT,action:TU(_V,e,t,!0)},{keyCode:$.LEFT,action:TU(_V,e,t,!1)},{keyCode:$.RIGHT,ctrlKey:!r,altKey:r,action:TU(bV,e,t)},{keyCode:$.LEFT,ctrlKey:!r,altKey:r,action:TU(xV,e,t)},{keyCode:$.UP,action:TU(mU,e,!1)},{keyCode:$.DOWN,action:TU(mU,e,!0)},...i?[{keyCode:$.UP,action:TU(lU,e,!1)},{keyCode:$.DOWN,action:TU(lU,e,!0)}]:[]],n).each(e=>{n.preventDefault()})},fG=(e,t)=>{e.on(`keydown`,n=>{n.isDefaultPrevented()||dG(e,t,n)})},pG=(e,t)=>({container:e,offset:t}),mG=ql.DOM,hG=e=>t=>e===t?-1:0,gG=e=>t=>e.isBlock(t)||pe([`BR`,`IMG`,`HR`,`INPUT`],t.nodeName)||e.getContentEditable(t)===`false`,_G=(e,t,n)=>{if(q(e)&&t>=0)return P.some(pG(e,t));{let r=yu(mG);return P.from(r.backwards(e,t,hG(e),n)).map(e=>pG(e.container,e.container.data.length))}},vG=(e,t,n)=>{if(q(e)&&t>=e.length)return P.some(pG(e,t));{let r=yu(mG);return P.from(r.forwards(e,t,hG(e),n)).map(e=>pG(e.container,0))}},yG=(e,t,n)=>{if(!q(e))return P.none();let r=e.data;if(t>=0&&t<=r.length)return P.some(pG(e,t));{let r=yu(mG);return P.from(r.backwards(e,t,hG(e),n)).bind(e=>{let r=e.container.data;return yG(e.container,t+r.length,n)})}},bG=(e,t,n)=>{if(!q(e))return P.none();let r=e.data;if(t<=r.length)return P.some(pG(e,t));{let i=yu(mG);return P.from(i.forwards(e,t,hG(e),n)).bind(e=>bG(e.container,t-r.length,n))}},xG=(e,t,n,r,i)=>{let a=yu(e,gG(e));return P.from(a.backwards(t,n,r,i))},SG=e=>e.collapsed&&q(e.startContainer),CG=e=>Vu(e.toString().replace(/\u00A0/g,` `)),wG=e=>e!==``&&` \xA0﻿\f
\r	\v`.indexOf(e)!==-1,TG=(e,t)=>e.substring(t.length),EG=(e,t,n,r=!1)=>{let i,a=n.charAt(0);for(i=t-1;i>=0;i--){let o=e.charAt(i);if(!r&&wG(o))return P.none();if(a===o&&kt(e,n,i,t))break}return P.some(i)},DG=(e,t,n,r=!1)=>{if(!SG(t))return P.none();let i={text:``,offset:0},a=(e,t,a)=>(i.text=a+i.text,i.offset+=t,EG(i.text,i.offset,n,r).getOr(t)),o=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return xG(e,t.startContainer,t.startOffset,a,o).bind(e=>{let r=t.cloneRange();if(r.setStart(e.container,e.offset),r.setEnd(t.endContainer,t.endOffset),r.collapsed)return P.none();let i=CG(r);return i.lastIndexOf(n)===0?P.some({text:TG(i,n),range:r,trigger:n}):P.none()})},OG=e=>e.nodeType===3,kG=e=>e.nodeType===1,AG=e=>{if(OG(e))return pG(e,e.data.length);{let t=e.childNodes;return t.length>0?AG(t[t.length-1]):pG(e,t.length)}},jG=(e,t)=>{let n=e.childNodes;return n.length>0&&t<n.length?jG(n[t],0):n.length>0&&kG(e)&&n.length===t?AG(n[n.length-1]):pG(e,t)},MG=(e,t)=>{let n=e.getParent(t.container,e.isBlock)??e.getRoot();return xG(e,t.container,t.offset,(e,t)=>t===0?-1:t,n).filter(e=>!wG(e.container.data.charAt(e.offset-1))).isSome()},NG=e=>t=>!MG(e,jG(t.startContainer,t.startOffset)),PG=(e,t,n)=>Ie(n.triggers,n=>DG(e,t,n)),FG=(e,t)=>{let n=t(),r=e.selection.getRng();return PG(e.dom,r,n).bind(n=>IG(e,t,n))},IG=(e,t,n,r={})=>{let i=t(),a=e.selection.getRng().startContainer.nodeValue??``,o=L(i.lookupByTrigger(n.trigger),t=>n.text.length>=t.minChars&&t.matches.getOrThunk(()=>NG(e.dom))(n.range,a,n.text));if(o.length===0)return P.none();let s=Promise.all(he(o,e=>e.fetch(n.text,e.maxResults,r).then(t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))));return P.some({lookupData:s,context:n})};var LG;(function(e){e[e.Error=0]=`Error`,e[e.Value=1]=`Value`})(LG||={});let RG=(e,t,n)=>e.stype===LG.Error?t(e.serror):n(e.svalue),zG=e=>{let t=[],n=[];return I(e,e=>{RG(e,e=>n.push(e),e=>t.push(e))}),{values:t,errors:n}},BG=(e,t)=>e.stype===LG.Error?{stype:LG.Error,serror:t(e.serror)}:e,VG=(e,t)=>e.stype===LG.Value?{stype:LG.Value,svalue:t(e.svalue)}:e,HG=(e,t)=>e.stype===LG.Value?t(e.svalue):e,UG=(e,t)=>e.stype===LG.Error?t(e.serror):e,WG=e=>({stype:LG.Value,svalue:e}),GG=e=>({stype:LG.Error,serror:e}),KG={fromResult:e=>e.fold(GG,WG),toResult:e=>RG(e,et.error,et.value),svalue:WG,partition:zG,serror:GG,bind:HG,bindError:UG,map:VG,mapError:BG,fold:RG},qG=e=>y(e)&&Re(e).length>100?` removed due to size`:JSON.stringify(e,null,2),JG=e=>he(e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:O(`... (only showing first ten failures)`)}]):e,e=>`Failed path: (`+e.path.join(` > `)+`)
`+e.getErrorInfo()),YG=(e,t)=>KG.serror([{path:e,getErrorInfo:t}]),XG=(e,t,n)=>YG(e,()=>`Could not find valid *required* value for "`+t+`" in `+qG(n)),ZG=(e,t)=>YG(e,O(t)),QG=e=>({extract:(t,n)=>KG.bindError(e(n),e=>ZG(t,e)),toString:O(`val`)}),$G=O(QG(KG.svalue)),eK=(e,t)=>QG(n=>{let r=typeof n;return e(n)?KG.svalue(n):KG.serror(`Expected type: ${t} but got: ${r}`)}),tK=eK(re,`number`),nK=eK(v,`string`);eK(ee,`boolean`);let rK=eK(w,`function`),iK=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case`Boolean`:case`Number`:case`String`:case`Date`:case`RegExp`:case`Blob`:case`FileList`:case`ImageData`:case`ImageBitmap`:case`ArrayBuffer`:return!0;case`Array`:case`Object`:return Object.keys(e).every(t=>iK(e[t]));default:return!1}};QG(e=>iK(e)?KG.svalue(e):KG.serror(`Expected value to be acceptable for sending via postMessage`));let aK=()=>({tag:`required`,process:{}}),oK=e=>({tag:`defaultedThunk`,process:e}),sK=e=>oK(O(e)),cK=()=>({tag:`option`,process:{}}),lK=(e,t,n,r)=>({tag:`field`,key:e,newKey:t,presence:n,prop:r}),uK=(e,t,n)=>{switch(e.tag){case`field`:return t(e.key,e.newKey,e.presence,e.prop);case`custom`:return n(e.newKey,e.instantiator)}},dK=(e,t)=>KG.svalue(ft(t,pt.apply(void 0,e))),fK=e=>ie(KG.serror,Te)(e),pK={consolidateObj:(e,t)=>{let n=KG.partition(e);return n.errors.length>0?fK(n.errors):dK(n.values,t)},consolidateArr:e=>{let t=KG.partition(e);return t.errors.length>0?fK(t.errors):KG.svalue(t.values)}},mK=(e,t,n,r)=>R(t,n).fold(()=>XG(e,n,t),r),hK=(e,t,n,r)=>r(R(e,t).getOrThunk(()=>n(e))),gK=(e,t,n)=>n(R(e,t)),_K=(e,t,n,r)=>r(R(e,t).map(t=>t===!0?n(e):t)),vK=(e,t,n,r,i)=>{let a=e=>i.extract(t.concat([r]),e),o=e=>e.fold(()=>KG.svalue(P.none()),e=>{let n=i.extract(t.concat([r]),e);return KG.map(n,P.some)});switch(e.tag){case`required`:return mK(t,n,r,a);case`defaultedThunk`:return hK(n,r,e.process,a);case`option`:return gK(n,r,o);case`defaultedOptionThunk`:return _K(n,r,e.process,o);case`mergeWithThunk`:return hK(n,r,O({}),t=>a(ft(e.process(n),t)))}},yK=(e,t,n)=>{let r={},i=[];for(let a of n)uK(a,(n,a,o,s)=>{let c=vK(o,e,t,n,s);KG.fold(c,e=>{i.push(...e)},e=>{r[a]=e})},(e,n)=>{r[e]=n(t)});return i.length>0?KG.serror(i):KG.svalue(r)},bK=e=>({extract:(t,n)=>yK(t,n,e),toString:()=>`obj{
`+he(e,e=>uK(e,(e,t,n,r)=>e+` -> `+r.toString(),(e,t)=>`state(`+e+`)`)).join(`
`)+`}`}),xK=e=>({extract:(t,n)=>{let r=he(n,(n,r)=>e.extract(t.concat([`[`+r+`]`]),n));return pK.consolidateArr(r)},toString:()=>`array(`+e.toString()+`)`}),SK=(e,t,n)=>{let r=t.extract([e],n);return KG.mapError(r,e=>({input:n,errors:e}))},CK=(e,t,n)=>KG.toResult(SK(e,t,n)),wK=e=>`Errors: 
`+JG(e.errors).join(`
`)+`

Input object: `+qG(e.input),TK=lK,EK=e=>TK(e,e,aK(),$G()),DK=(e,t)=>TK(e,e,aK(),t),OK=e=>DK(e,nK),kK=e=>DK(e,rK),AK=e=>TK(e,e,cK(),$G()),jK=(e,t)=>TK(e,e,cK(),t),MK=e=>jK(e,nK),NK=e=>jK(e,rK),PK=(e,t)=>TK(e,e,sK(t),$G()),FK=(e,t,n)=>TK(e,e,sK(t),n),IK=(e,t)=>FK(e,t,tK),LK=(e,t,n)=>FK(e,t,xK(n)),RK=OK(`type`),zK=kK(`fetch`),BK=kK(`onAction`);MK(`name`),MK(`text`),MK(`role`),MK(`icon`),MK(`url`),MK(`tooltip`),MK(`chevronTooltip`),MK(`label`),MK(`shortcut`);let VK=bK([RK,OK(`trigger`),IK(`minChars`,1),(e=>PK(`columns`,e))(1),IK(`maxResults`,10),NK(`matches`),zK,BK,LK(`highlightOn`,[],nK)]),HK=e=>CK(`Autocompleter`,VK,e),UK=()=>{let e={},t={},n={},r={},i={},a={},o={},s={},c={},l=(e,t)=>(n,r)=>{e[n.toLowerCase()]={...r,type:t}};return{addButton:l(e,`button`),addGroupToolbarButton:l(e,`grouptoolbarbutton`),addToggleButton:l(e,`togglebutton`),addMenuButton:l(e,`menubutton`),addSplitButton:l(e,`splitbutton`),addMenuItem:l(t,`menuitem`),addNestedMenuItem:l(t,`nestedmenuitem`),addToggleMenuItem:l(t,`togglemenuitem`),addAutocompleter:l(n,`autocompleter`),addContextMenu:l(i,`contextmenu`),addContextToolbar:l(a,`contexttoolbar`),addContextForm:((e,t)=>(n,r)=>{e[n.toLowerCase()]={type:t,...r}})(a,`contextform`),addSidebar:l(s,`sidebar`),addView:l(c,`views`),addIcon:(e,t)=>r[e.toLowerCase()]=t,addContext:(e,t)=>o[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:i,contextToolbars:a,sidebars:s,views:c,contexts:o})}},WK=e=>{let t=e.ui.registry.getAll().popups,n=Ve(t,e=>HK(e).fold(e=>{throw Error(wK(e))},k)),r=Gt(qe(n,e=>e.trigger)),i=Je(n);return{dataset:n,triggers:r,lookupByTrigger:e=>L(i,t=>t.trigger===e)}},GK=(e,t)=>{let n=Vt(t.load,50);e.on(`input`,t=>{t.inputType===`insertCompositionText`&&!e.composing||n.throttle()}),e.on(`keydown`,e=>{let r=e.which;r===8?n.throttle():r===27?(n.cancel(),t.cancelIfNecessary()):(r===38||r===40)&&n.cancel()},!0),e.on(`remove`,n.cancel)},KK=e=>{let t=Tt(),n=B(!1),r=t.isSet,i=()=>{r()&&(gp(e),n.set(!1),t.clear())},a=e=>{r()||t.set({trigger:e.trigger,matchLength:e.text.length})},o=Ht(()=>WK(e)),s=n=>t.get().map(t=>DG(e.dom,e.selection.getRng(),t.trigger,!0).bind(t=>IG(e,o,t,n))).getOrThunk(()=>FG(e,o)),c=r=>{s(r).fold(i,r=>{a(r.context),r.lookupData.then(i=>{t.get().map(a=>{let o=r.context;a.trigger===o.trigger&&(t.set({...a,matchLength:o.text.length}),n.get()?(hp(e,{range:o.range}),mp(e,{lookupData:i})):(n.set(!0),hp(e,{range:o.range}),pp(e,{lookupData:i})))})})})},l=(e,t)=>{let n=e.compareBoundaryPoints(window.Range.START_TO_START,t),r=e.compareBoundaryPoints(window.Range.END_TO_END,t);return n>=0&&r<=0},u=()=>t.get().bind(({trigger:t})=>{let r=e.selection.getRng();return DG(e.dom,r,t,n.get()).filter(({range:e})=>l(r,e)).map(({range:e})=>e)});e.addCommand(`mceAutocompleterReload`,(e,t)=>{c(y(t)?t.fetchOptions:{})}),e.addCommand(`mceAutocompleterClose`,i),e.addCommand(`mceAutocompleterRefreshActiveRange`,()=>{u().each(t=>{hp(e,{range:t})})}),e.editorCommands.addQueryStateHandler(`mceAutoCompleterInRange`,()=>u().isSome()),GK(e,{cancelIfNecessary:i,load:c})},qK=zn().browser.isSafari(),JK=e=>Ru(W.fromDom(e)),YK=(e,t)=>e.startOffset===0&&e.endOffset===t.textContent?.length,XK=(e,t)=>P.from(e.getParent(t.container(),`details`)),ZK=(e,t)=>XK(e,t).isSome(),QK=(e,t)=>{let n=P.from(e.getParent(t.startContainer,`details`)),r=P.from(e.getParent(t.endContainer,`details`));if(n.isSome()||r.isSome()){let t=n.bind(t=>P.from(e.select(`summary`,t)[0]));return P.some({startSummary:t,startDetails:n,endDetails:r})}else return P.none()},$K=(e,t)=>r_(t).exists(t=>t.isEqual(e)),eq=(e,t)=>i_(t).exists(n=>us(n.getNode())&&n_(t,n).exists(t=>t.isEqual(e))||n.isEqual(e)),tq=(e,t)=>t.startSummary.exists(t=>$K(e,t)),nq=(e,t)=>t.startSummary.exists(t=>eq(e,t)),rq=(e,t)=>t.startDetails.exists(n=>n_(n,e).forall(n=>t.startSummary.exists(t=>!t.contains(e.container())&&t.contains(n.container())))),iq=(e,t,n)=>n.startDetails.exists(n=>t_(e,t).forall(e=>!n.contains(e.container()))),aq=(e,t)=>{let n=t.getNode();te(n)||e.selection.setCursorLocation(n,t.offset())},oq=(e,t,n)=>{let r=e.dom.getParent(t.container(),`details`);if(r&&!r.open){let t=e.dom.select(`summary`,r)[0];t&&(n?r_(t):i_(t)).each(t=>aq(e,t))}else aq(e,t)},sq=(e,t)=>{let n=t=>t.contains(e.startContainer),r=t=>t.contains(e.endContainer),i=t.startSummary.exists(n),a=t.startSummary.exists(r),o=t.startDetails.forall(e=>t.endDetails.forall(t=>e!==t));return(i||a)&&!(i&&a)||o},cq=(e,t,n)=>{let{dom:r,selection:i}=e,a=e.getBody();if(n===`character`){let n=X.fromRangeStart(i.getRng()),o=r.getParent(n.container(),r.isBlock),s=XK(r,n),c=o&&r.isEmpty(o),l=S(o?.previousSibling),u=S(o?.nextSibling);return c&&(t?u:l)&&Qg(!t,a,n).exists(e=>ZK(r,e)&&!ht(s,XK(r,e)))?!0:Qg(t,a,n).fold(N,n=>{let i=XK(r,n);if(ZK(r,n)&&!ht(s,i)){if(t||oq(e,n,!1),o&&c){if(t&&l||!t&&u)return!0;oq(e,n,t),e.dom.remove(o)}return!0}else return!1})}else return!1},lq=(e,t,n,r)=>{let i=e.selection.getRng(),a=X.fromRangeStart(i),o=e.getBody();return r===`selection`?sq(i,t):n?nq(a,t)||iq(o,a,t):tq(a,t)||rq(a,t)},uq=(e,t,n)=>QK(e.dom,e.selection.getRng()).fold(()=>cq(e,t,n),r=>lq(e,r,t,n)||cq(e,t,n)),dq=(e,t,n)=>{let r=e.selection,i=r.getNode(),a=r.getRng(),o=X.fromRangeStart(a);return Ss(i)?(n===`selection`&&YK(a,i)||FC(t,o,i)?JK(i):e.undoManager.transact(()=>{let a=r.getSel(),{anchorNode:o,anchorOffset:s,focusNode:c,focusOffset:l}=a??{},u=()=>{C(o)&&C(s)&&C(c)&&C(l)&&a?.setBaseAndExtent(o,s,c,l)},d=()=>{o=a?.anchorNode,s=a?.anchorOffset,c=a?.focusNode,l=a?.focusOffset},f=(e,t)=>{I(e.childNodes,e=>{ev(e)&&t.appendChild(e)})},p=e.dom.create(`span`,{"data-mce-bogus":`1`});f(i,p),i.appendChild(p),u(),(n===`word`||n===`line`)&&a?.modify(`extend`,t?`right`:`left`,n),!r.isCollapsed()&&YK(r.getRng(),p)?JK(i):(e.execCommand(t?`ForwardDelete`:`Delete`),d(),f(p,i),u()),e.dom.remove(p)}),!0):!1},fq=(e,t,n)=>uq(e,t,n)||qK&&dq(e,t,n)?P.some(E):P.none(),pq=e=>(t,n,r={})=>{let i=t.getBody(),a={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:E,inputType:n},o=Ol(new InputEvent(e));return t.dispatch(e,{...o,...a,...r})},mq=pq(`input`),hq=pq(`beforeinput`),gq=zn(),_q=gq.os,vq=_q.isMacOS()||_q.isiOS(),yq=gq.browser.isFirefox(),bq=(e,t,n)=>{let r=n.keyCode===$.BACKSPACE?`deleteContentBackward`:`deleteContentForward`,i=e.selection.isCollapsed(),a=i?`character`:`selection`,o=e=>i?e?`word`:`line`:`selection`;DU([{keyCode:$.BACKSPACE,action:TU(xH,e)},{keyCode:$.BACKSPACE,action:TU(Nz,e,!1)},{keyCode:$.DELETE,action:TU(Nz,e,!0)},{keyCode:$.BACKSPACE,action:TU(fz,e,!1)},{keyCode:$.DELETE,action:TU(fz,e,!0)},{keyCode:$.BACKSPACE,action:TU(kV,e,t,!1)},{keyCode:$.DELETE,action:TU(kV,e,t,!0)},{keyCode:$.BACKSPACE,action:TU(Fw,e,!1)},{keyCode:$.DELETE,action:TU(Fw,e,!0)},{keyCode:$.BACKSPACE,action:TU(fq,e,!1,a)},{keyCode:$.DELETE,action:TU(fq,e,!0,a)},...vq?[{keyCode:$.BACKSPACE,altKey:!0,action:TU(fq,e,!1,o(!0))},{keyCode:$.DELETE,altKey:!0,action:TU(fq,e,!0,o(!0))},{keyCode:$.BACKSPACE,metaKey:!0,action:TU(fq,e,!1,o(!1))}]:[{keyCode:$.BACKSPACE,ctrlKey:!0,action:TU(fq,e,!1,o(!0))},{keyCode:$.DELETE,ctrlKey:!0,action:TU(fq,e,!0,o(!0))}],{keyCode:$.BACKSPACE,action:TU(Iz,e,!1)},{keyCode:$.DELETE,action:TU(Iz,e,!0)},{keyCode:$.BACKSPACE,action:TU(sH,e,!1)},{keyCode:$.DELETE,action:TU(sH,e,!0)},{keyCode:$.BACKSPACE,action:TU(tz,e,!1)},{keyCode:$.DELETE,action:TU(tz,e,!0)},{keyCode:$.BACKSPACE,action:TU(JR,e,!1)},{keyCode:$.DELETE,action:TU(JR,e,!0)},{keyCode:$.BACKSPACE,action:TU($V,e,!1)},{keyCode:$.DELETE,action:TU($V,e,!0)},{keyCode:$.BACKSPACE,action:TU(Pz,e,!1)},{keyCode:$.DELETE,action:TU(Pz,e,!0)},{keyCode:$.BACKSPACE,action:TU(CH,e,!1)},{keyCode:$.DELETE,action:TU(CH,e,!0)}],n).filter(t=>e.selection.isEditable()).each(t=>{n.preventDefault(),hq(e,r).isDefaultPrevented()||(t(),mq(e,r))})},xq=(e,t,n,r)=>EU([{keyCode:$.BACKSPACE,action:TU(Mz,e)},{keyCode:$.DELETE,action:TU(Mz,e)},...vq?[{keyCode:$.BACKSPACE,altKey:!0,action:TU(rH,e)},{keyCode:$.DELETE,altKey:!0,action:TU(rH,e)},...n?[{keyCode:yq?224:91,action:TU(()=>(HV(e,r),rH(e)))}]:[]]:[{keyCode:$.BACKSPACE,ctrlKey:!0,action:TU(rH,e)},{keyCode:$.DELETE,ctrlKey:!0,action:TU(rH,e)}]],t),Sq=(e,t)=>{let n=!1,r=[];e.on(`keydown`,i=>{n=i.keyCode===$.BACKSPACE,r=IV(e),i.isDefaultPrevented()||bq(e,t,i)}),e.on(`keyup`,t=>{t.isDefaultPrevented()||(xq(e,t,n,r),r.length=0),n=!1})},Cq=(e,t)=>{let n=W.fromDom(e),r=W.fromDom(t),i=Fr(`span`),a=A(Sr,n),o=e=>jr(e)&&aa(e,`font-size`).isSome();I([...o(r)?[r]:[],...Qa(r,o,a)].slice(1),e=>{sa(e,`font-size`),Fi(e,`data-mce-style`),i(e)&&Ii(e)&&Bi(e)})},wq=e=>{for(;e;){if(qo(e)||q(e)&&e.data&&/[\r\n\s]/.test(e.data))return P.from(W.fromDom(e));e=e.nextSibling}return P.none()},Tq=(e,t)=>{let n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){let e=e=>/^(ul|ol|dl)$/.test(Er(e)),r=t=>e(t)?P.from(t):Na(t,e),i=e=>n.isEmpty(e.dom);wq(t.firstChild).each(e=>{r(e).fold(()=>{if(i(e)){let t=ZU(e,0).element;jr(t)&&!Ou(t)&&wi(t,W.fromText(`\xA0`))}},e=>{xi(e,W.fromText(`\xA0`))})})}let i=n.createRng();if(t.normalize(),t.hasChildNodes()){let e=new Lo(t,t),n=t,a;for(;a=e.current();){if(q(a)){i.setStart(a,0),i.setEnd(a,0);break}if(r[a.nodeName.toLowerCase()]){i.setStartBefore(a),i.setEndBefore(a);break}n=a,a=e.next()}a||(i.setStart(n,0),i.setEnd(n,0))}else us(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),Gb(e,i)},Eq=(e,t)=>{let n=e.getRoot(),r,i=t;for(;i!==n&&i&&e.getContentEditable(i)!==`false`;){if(e.getContentEditable(i)===`true`){r=i;break}i=i.parentNode}return i===n?n:r},Dq=e=>P.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Oq=e=>Dq(e).fold(O(``),e=>e.nodeName.toUpperCase()),kq=e=>Dq(e).filter(e=>ju(W.fromDom(e))).isSome(),Aq=e=>{e.innerHTML=`<br data-mce-bogus="1">`},jq=(e,t,n)=>{let r=e.dom;P.from(n.style).map(r.parseStyle).each(e=>{let n={...oa(W.fromDom(t)),...e};r.setStyles(t,n)}),_t(P.from(n.class).map(e=>e.split(/\s+/)),P.from(t.className).map(e=>L(e.split(/\s+/),e=>e!==``)),(e,n)=>{let i=L(n,t=>!pe(e,t)),a=[...e,...i];r.setAttrib(t,`class`,a.join(` `))});let i=[`style`,`class`],a=Ke(n,(e,t)=>!pe(i,t));r.setAttribs(t,a)},Mq=(e,t)=>{Rp(e).toLowerCase()===t.tagName.toLowerCase()&&jq(e,t,zp(e))},Nq=(e,t,n,r,i=!0,a,o)=>{let s=e.dom,c=e.schema,l=Rp(e),u=n?n.nodeName.toUpperCase():``,d=t,f=c.getTextInlineElements(),p;p=a||u===`TABLE`||u===`HR`?s.create(a||l,o||{}):n.cloneNode(!1);let m=p;if(!i)s.setAttrib(p,`style`,null),s.setAttrib(p,`class`,null);else{do if(f[d.nodeName]){if(o_(d)||k_(d))continue;let e=d.cloneNode(!1);s.setAttrib(e,`id`,``),p.hasChildNodes()?(e.appendChild(p.firstChild),p.appendChild(e)):(m=e,p.appendChild(e))}while((d=d.parentNode)&&d!==r);Cq(p,m)}return Mq(e,p),Aq(m),p},Pq=(e,t)=>e.dom.getParent(t,xs),Fq=(e,t,n)=>{let r=t;for(;r&&r!==e&&S(r.nextSibling);){let e=r.parentElement;if(!e||!n(e))return xs(e);r=e}return!1},Iq=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Rp(e)&&e.dom.isEmpty(n)&&Fq(e.getBody(),n,t=>Ye(e.schema.getTextBlockElements(),t.nodeName.toLowerCase())),Lq=(e,t,n)=>{let r=t(Rp(e)),i=Pq(e,n);i&&(e.dom.insertAfter(r,i),Tq(e,r),(n.parentElement?.childNodes?.length??0)>1&&e.dom.remove(n))},Rq=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,zq=e=>e.parentNode?.firstChild===e,Bq=(e,t)=>{let n=e?.parentNode;return C(n)&&n.nodeName===t},Vq=e=>C(e)&&/^(OL|UL|LI)$/.test(e.nodeName),Hq=e=>C(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Uq=e=>Vq(e)&&Vq(e.parentNode),Wq=e=>{let t=e.parentNode;return Hq(t)?t:e},Gq=(e,t,n)=>{let r=e[n?`firstChild`:`lastChild`];for(;r&&!qo(r);)r=r[n?`nextSibling`:`previousSibling`];return r===t},Kq=e=>be(qe(oa(W.fromDom(e)),(e,t)=>`${t}: ${e};`),(e,t)=>e+t,``),qq=(e,t,n,r,i)=>{let a=e.dom,o=e.selection.getRng(),s=n.parentNode;if(n===e.getBody()||!s)return;Uq(n)&&(i=`LI`);let c=Hq(r)?Kq(r):void 0,l=Hq(r)&&c?t(i,{style:Kq(r)}):t(i);if(Gq(n,r,!0)&&Gq(n,r,!1))if(Bq(n,`LI`)){let e=Wq(n);a.insertAfter(l,e),zq(n)?a.remove(e):a.remove(n)}else a.replace(l,n);else if(Gq(n,r,!0))Bq(n,`LI`)?(a.insertAfter(l,Wq(n)),l.appendChild(a.doc.createTextNode(` `)),l.appendChild(n)):s.insertBefore(l,n),a.remove(r);else if(Gq(n,r,!1))a.insertAfter(l,Wq(n)),a.remove(r);else{n=Wq(n);let e=o.cloneRange();e.setStartAfter(r),e.setEndAfter(n);let t=e.extractContents();if(i===`LI`&&Rq(t,`LI`)){let e=L(he(l.children,W.fromDom),oe(Fr(`br`)));l=t.firstChild,a.insertAfter(t,n),I(e,e=>Ci(W.fromDom(l),e)),c&&l.setAttribute(`style`,c)}else a.insertAfter(t,n),a.insertAfter(l,n);a.remove(r)}Tq(e,l)},Jq=e=>{I(eo(W.fromDom(e),Mr),e=>{let t=e.dom;t.nodeValue=Vu(t.data)})},Yq=(e,t)=>{let n=e.dom.getParent(t,`ol,ul,dl`);return n!==null&&e.dom.getContentEditableParent(n)===`false`},Xq=(e,t)=>t&&t.nodeName===`A`&&e.isEmpty(t),Zq=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,Qq=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,$q=(e,t)=>C(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!==`false`,eJ=(e,t,n)=>{let r=[];if(!n)return;let i=n;for(;i=i.firstChild;){if(e.isBlock(i))return;qo(i)&&!t[i.nodeName.toLowerCase()]&&r.push(i)}let a=r.length;for(;a--;)i=r[a],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild?.nodeValue===``||Xq(e,i))&&e.remove(i)},tJ=(e,t,n)=>q(t)?e?n===1&&t.data.charAt(n-1)===`﻿`?0:n:n===t.data.length-1&&t.data.charAt(n)===`﻿`?t.data.length:n:n,nJ=e=>{let t=e.cloneRange();return t.setStart(e.startContainer,tJ(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,tJ(!1,e.endContainer,e.endOffset)),t},rJ=e=>{let t=e;do q(t)&&(t.data=t.data.replace(/^[\r\n]+/,``)),t=t.firstChild;while(t)},iJ=(e,t,n,r,i)=>{let a=e.dom,o=Eq(a,r)??a.getRoot(),s=a.getParent(r,a.isBlock);if(!s||!$q(a,s)){if(s||=o,!s.hasChildNodes()){let r=a.create(t);return Mq(e,r),s.appendChild(r),n.setStart(r,0),n.setEnd(r,0),r}let c=r;for(;c&&c.parentNode!==s;)c=c.parentNode;let l;for(;c&&!a.isBlock(c);)l=c,c=c.previousSibling;let u=l?.parentElement?.nodeName;if(l&&u&&e.schema.isValidChild(u,t.toLowerCase())){let o=l.parentNode,s=a.create(t);for(Mq(e,s),o.insertBefore(s,l),c=l;c&&!a.isBlock(c);){let e=c.nextSibling;s.appendChild(c),c=e}n.setStart(r,i),n.setEnd(r,i)}}return r},aJ=(e,t)=>{t.normalize();let n=t.lastChild;(!n||qo(n)&&/^(left|right)$/gi.test(e.getStyle(n,`float`,!0)))&&e.add(t,`br`)},oJ=(e,t)=>{let n=Wp(e);return ne(t)?!1:v(n)?pe(U.explode(n),t.nodeName.toLowerCase()):n},sJ={insert:(e,t)=>{let n,r,i,a,o=!1,s=e.dom,c=e.schema.getNonEmptyElements(),l=e.selection.getRng(),u=Rp(e),d=W.fromDom(l.startContainer),f=Yr(d,l.startOffset),p=f.exists(e=>Ar(e)&&!Ya(e)),m=l.collapsed&&p,h=(t,r)=>Nq(e,n,x,b,Up(e),t,r),g=e=>{let t=tJ(e,n,r);if(q(n)&&(e?t>0:t<n.data.length))return!1;if((n.parentNode===x||n===x)&&o&&!e||e&&qo(n)&&n===x.firstChild)return!0;if(Zq(n,`TABLE`)||Zq(n,`HR`))return Qq(n,`BR`)?!e:o&&!e||!o&&e;let i=new Lo(n,x);q(n)&&(e&&t===0?i.prev():!e&&t===n.data.length&&i.next());let a;for(;a=i.current();){if(qo(a)){if(!a.getAttribute(`data-mce-bogus`)){let e=a.nodeName.toLowerCase();if(c[e]&&e!==`br`)return!1}}else if(q(a)&&!zo(a.data))return!1;e?i.prev():i.next()}return!0},_=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(i)&&S!==`HGROUP`?h(u):h(),oJ(e,a)&&$q(s,a)&&s.isEmpty(x,void 0,{includeZwsp:!0})?t=s.split(a,x):s.insertAfter(t,x),Tq(e,t),t};gb(s,l).each(e=>{l.setStart(e.startContainer,e.startOffset),l.setEnd(e.endContainer,e.endOffset)}),n=l.startContainer,r=l.startOffset;let v=!!(t&&t.shiftKey),y=!!(t&&t.ctrlKey);qo(n)&&n.hasChildNodes()&&!m&&(o=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,r=o&&q(n)?n.data.length:0);let b=Eq(s,n);if(!b||Yq(e,n))return;v||(n=iJ(e,u,l,n,r));let x=s.getParent(n,s.isBlock)||s.getRoot();a=C(x?.parentNode)?s.getParent(x.parentNode,s.isBlock):null,i=x?x.nodeName.toUpperCase():``;let S=a?a.nodeName.toUpperCase():``;if(S===`LI`&&!y){let e=a;x=e,a=e.parentNode,i=S}if(qo(a)&&Iq(e,v,x))return Lq(e,h,x);if(/^(LI|DT|DD)$/.test(i)&&qo(a)&&s.isEmpty(x)){qq(e,h,a,x,u);return}if(!m&&(x===e.getBody()||!$q(s,x)))return;let ee=x.parentNode,te;if(m)te=h(u),f.fold(()=>{wi(d,W.fromDom(te))},e=>{xi(e,W.fromDom(te))}),e.selection.setCursorLocation(te,0);else if(Gu(x))te=nd(x),s.isEmpty(x)&&Aq(x),Mq(e,te),Tq(e,te);else if(g(!1))te=_();else if(g(!0)&&ee){let t=X.fromRangeStart(l),n=Qx(t),r=W.fromDom(x),i=_S(r,t,e.schema)?vS(r,t,e.schema).bind(e=>P.from(e.getNode())):P.none();te=ee.insertBefore(h(),x),Tq(e,Zq(x,`HR`)||n?te:i.getOr(x))}else{let t=nJ(l).cloneRange();t.setEndAfter(x);let n=t.extractContents();Jq(n),rJ(n),te=n.firstChild,x===te?C(ee)&&s.insertAfter(n,ee):s.insertAfter(n,x),eJ(s,c,te),aJ(s,x),s.isEmpty(x)&&Aq(x),te.normalize(),s.isEmpty(te)?(s.remove(te),_()):(Mq(e,te),Tq(e,te))}s.setAttrib(te,`id`,``),e.dispatch(`NewBlock`,{newBlock:te})},fakeEventName:`insertParagraph`},cJ=(e,t,n)=>{let r=new Lo(t,n),i,a=e.getNonEmptyElements();for(;i=r.next();)if(a[i.nodeName.toLowerCase()]||q(i)&&i.length>0)return!0;return!1},lJ=(e,t,n)=>{let r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Gb(e,r)},uJ=(e,t)=>{let n=e.selection,r=e.dom,i=n.getRng(),a,o=!1;gb(r,i).each(e=>{i.setStart(e.startContainer,e.startOffset),i.setEnd(e.endContainer,e.endOffset)});let s=i.startOffset,c=i.startContainer;if(qo(c)&&c.hasChildNodes()){let e=s>c.childNodes.length-1;c=c.childNodes[Math.min(s,c.childNodes.length-1)]||c,s=e&&q(c)?c.data.length:0}let l=r.getParent(c,r.isBlock),u=l&&l.parentNode?r.getParent(l.parentNode,r.isBlock):null,d=u?u.nodeName.toUpperCase():``,f=!!(t&&t.ctrlKey);d===`LI`&&!f&&(l=u),q(c)&&s>=c.data.length&&(cJ(e.schema,c,l||r.getRoot())||(a=r.create(`br`),i.insertNode(a),i.setStartAfter(a),i.setEndAfter(a),o=!0)),a=r.create(`br`),of(r,i,a),lJ(e,a,o),e.undoManager.add()},dJ=(e,t)=>{let n=W.fromTag(`br`);xi(W.fromDom(t),n),e.undoManager.add()},fJ=(e,t)=>{mJ(e.getBody(),t)||Si(W.fromDom(t),W.fromTag(`br`));let n=W.fromTag(`br`);Si(W.fromDom(t),n),lJ(e,n.dom,!1),e.undoManager.add()},pJ=e=>us(e.getNode()),mJ=(e,t)=>pJ(X.after(t))?!0:t_(e,X.after(t)).map(e=>us(e.getNode())).getOr(!1),hJ=e=>e&&e.nodeName===`A`&&`href`in e,gJ=e=>e.fold(N,hJ,hJ,N),_J=e=>{let t=A(vC,e),n=X.fromRangeStart(e.selection.getRng());return aB(t,e.getBody(),n).filter(gJ)},vJ=(e,t)=>{t.fold(E,A(dJ,e),A(fJ,e),E)},yJ={insert:(e,t)=>{let n=_J(e);n.isSome()?n.each(A(vJ,e)):uJ(e,t)},fakeEventName:`insertLineBreak`},bJ=(e,t)=>Dq(e).filter(e=>t.length>0&&vr(W.fromDom(e),t)).isSome(),xJ=e=>bJ(e,Vp(e)),SJ=e=>bJ(e,Hp(e)),CJ=Ze.generate([{br:[]},{block:[]},{none:[]}]),wJ=(e,t)=>SJ(e),TJ=e=>(t,n)=>kq(t)===e,EJ=(e,t)=>(n,r)=>Oq(n)===e.toUpperCase()===t,DJ=e=>ne(Eq(e.dom,e.selection.getStart())),OJ=e=>EJ(`pre`,e),kJ=()=>EJ(`summary`,!0),AJ=e=>(t,n)=>Lp(t)===e,jJ=(e,t)=>xJ(e),MJ=(e,t)=>t,NJ=e=>{let t=Rp(e),n=Eq(e.dom,e.selection.getStart());return C(n)&&e.schema.isValidChild(n.nodeName,t)},PJ=e=>{let t=e.selection.getRng(),n=Yr(W.fromDom(t.startContainer),t.startOffset).map(e=>Ar(e)&&!Ya(e));return t.collapsed&&n.getOr(!0)},FJ=(e,t)=>(n,r)=>be(e,(e,t)=>e&&t(n,r),!0)?P.some(t):P.none(),IJ=(e,t)=>Yz([FJ([wJ],CJ.none()),FJ([OJ(!0),DJ],CJ.none()),FJ([kJ()],CJ.br()),FJ([OJ(!0),AJ(!1),MJ],CJ.br()),FJ([OJ(!0),AJ(!1)],CJ.block()),FJ([OJ(!0),AJ(!0),MJ],CJ.block()),FJ([OJ(!0),AJ(!0)],CJ.br()),FJ([TJ(!0),MJ],CJ.br()),FJ([TJ(!0)],CJ.block()),FJ([jJ],CJ.br()),FJ([MJ],CJ.br()),FJ([NJ],CJ.block()),FJ([PJ],CJ.block())],[e,!!(t&&t.shiftKey)]).getOr(CJ.none()),LJ=(e,t,n)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||OC(t),!(C(n)&&hq(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),C(n)&&mq(t,e.fakeEventName)))},RJ=(e,t)=>{if(e.mode.isReadOnly())return;let n=()=>LJ(yJ,e,t),r=()=>LJ(sJ,e,t),i=IJ(e,t);switch(Bp(e)){case`linebreak`:i.fold(n,n,E);break;case`block`:i.fold(r,r,E);break;case`invert`:i.fold(r,n,E);break;default:i.fold(n,r,E);break}},zJ=zn(),BJ=zJ.os.isiOS()&&zJ.browser.isSafari(),VJ=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),pM(e.undoManager),e.undoManager.transact(()=>{RJ(e,t)}))},HJ=e=>{if(!e.collapsed)return!1;let t=e.startContainer;if(q(t)){let n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return n.test(r)}else return!1},UJ=e=>{let t=P.none(),n=e=>{t=P.some(e.selection.getBookmark()),e.undoManager.add()},r=(e,n)=>{e.undoManager.undo(),t.fold(E,t=>e.selection.moveToBookmark(t)),VJ(e,n),t=P.none()};e.on(`keydown`,t=>{t.keyCode===$.ENTER&&(BJ&&HJ(e.selection.getRng())?n(e):VJ(e,t))}),e.on(`keyup`,n=>{n.keyCode===$.ENTER&&t.each(()=>r(e,n))})},WJ=(e,t,n)=>{let r=Zn.os.isMacOS()||Zn.os.isiOS();EU([{keyCode:$.END,action:TU(iU,e,!0)},{keyCode:$.HOME,action:TU(iU,e,!1)},...r?[]:[{keyCode:$.HOME,action:TU(aU,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:$.END,action:TU(aU,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:$.END,action:TU(AU,e,!0)},{keyCode:$.HOME,action:TU(AU,e,!1)},{keyCode:$.END,action:TU(SV,e,!0,t)},{keyCode:$.HOME,action:TU(SV,e,!1,t)}],n).each(e=>{n.preventDefault()})},GJ=(e,t)=>{e.on(`keydown`,n=>{n.isDefaultPrevented()||WJ(e,t,n)})},KJ=e=>{e.on(`input`,t=>{t.isComposing||KS(e)})},qJ=zn(),JJ=(e,t,n)=>{EU([{keyCode:$.PAGE_UP,action:TU(SV,e,!1,t)},{keyCode:$.PAGE_DOWN,action:TU(SV,e,!0,t)}],n)},YJ=e=>e.stopImmediatePropagation(),XJ=e=>e.keyCode===$.PAGE_UP||e.keyCode===$.PAGE_DOWN,ZJ=(e,t,n)=>{n&&!e.get()?t.on(`NodeChange`,YJ,!0):!n&&e.get()&&t.off(`NodeChange`,YJ),e.set(n)},QJ=(e,t)=>{if(qJ.os.isMacOS())return;let n=B(!1);e.on(`keydown`,t=>{XJ(t)&&ZJ(n,e,!0)}),e.on(`keyup`,r=>{r.isDefaultPrevented()||JJ(e,t,r),XJ(r)&&n.get()&&(ZJ(n,e,!1),e.nodeChanged())})},$J=(e,t)=>e===t||e.contains(t),eY=(e,t)=>!$J(e.getBody(),t.startContainer)||!$J(e.getBody(),t.endContainer)?!0:Kb(e.dom,t),tY=e=>{e.on(`beforeinput`,t=>{(!e.selection.isEditable()||me(t.getTargetRanges(),t=>!eY(e,t)))&&t.preventDefault()})},nY=(e,t)=>{let n=t.container(),r=t.offset();return q(n)?(n.insertData(r,e),P.some(X(n,r+e.length))):Dg(t).map(n=>{let r=W.fromText(e);return t.isAtEnd()?Si(n,r):xi(n,r),X(r.dom,e.length)})},rY=A(nY,`\xA0`),iY=A(nY,` `),aY=(e,t,n)=>NS(e,t,n)?rY(t):iY(t),oY=e=>t=>t.fold(t=>n_(e.dom,X.before(t)),e=>r_(e),e=>i_(e),t=>t_(e.dom,X.after(t))),sY=(e,t,n)=>r=>NS(e,r,n)?rY(t):iY(t),cY=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},lY=(e,t)=>e.isEditable(e.getParent(t,`summary`)),uY=e=>{let t=X.fromRangeStart(e.selection.getRng()),n=W.fromDom(e.getBody());if(e.selection.isCollapsed()){let r=A(vC,e),i=X.fromRangeStart(e.selection.getRng());return aB(r,e.getBody(),i).bind(oY(n)).map(r=>()=>sY(n,t,e.schema)(r).each(cY(e)))}else return P.none()},dY=e=>bt(Zn.browser.isFirefox()&&e.selection.isEditable()&&lY(e.dom,e.selection.getRng().startContainer),()=>{let t=W.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand(`Delete`),aY(t,X.fromRangeStart(e.selection.getRng()),e.schema).each(cY(e))}),fY=(e,t)=>{DU([{keyCode:$.SPACEBAR,action:TU(uY,e)},{keyCode:$.SPACEBAR,action:TU(dY,e)}],t).each(n=>{t.preventDefault(),hq(e,`insertText`,{data:` `}).isDefaultPrevented()||(n(),mq(e,`insertText`,{data:` `}))})},pY=e=>{e.on(`keydown`,t=>{t.isDefaultPrevented()||fY(e,t)})},mY=e=>Sh(e)?[{keyCode:$.TAB,action:TU(uG,e,!0)},{keyCode:$.TAB,shiftKey:!0,action:TU(uG,e,!1)}]:[],hY=(e,t)=>{EU([...mY(e)],t).each(e=>{t.preventDefault()})},gY=e=>{e.on(`keydown`,t=>{t.isDefaultPrevented()||hY(e,t)})},_Y=e=>{if(e.addShortcut(`Meta+P`,``,`mcePrint`),KK(e),kM(e))return B(null);{let t=yV(e);return tY(e),qH(e),fG(e,t),Sq(e,t),UJ(e),pY(e),KJ(e),gY(e),GJ(e,t),QJ(e,t),t}},vY=(e,t)=>{let n=yI(e);n===null||RI(e,n)||e.undoManager.transact(()=>{y(t.styles)&&e.dom.setStyles(n,t.styles),y(t.attrs)&&Be(t.attrs,(t,r)=>e.dom.setAttrib(n,r,t))})},yY=(e,t)=>()=>{let n=yI(e);return C(n)&&n.nodeName===t},bY=e=>{e.addCommand(`InsertUnorderedList`,(t,n)=>{sR(e,`UL`,n)}),e.addCommand(`InsertOrderedList`,(t,n)=>{sR(e,`OL`,n)}),e.addCommand(`InsertDefinitionList`,(t,n)=>{sR(e,`DL`,n)}),e.addCommand(`RemoveList`,()=>{RL(e)}),e.addCommand(`mceListUpdate`,(t,n)=>{y(n)&&vY(e,n)}),e.addCommand(`mceListBackspaceDelete`,(t,n)=>{CR(e,n)}),e.addQueryStateHandler(`InsertUnorderedList`,yY(e,`UL`)),e.addQueryStateHandler(`InsertOrderedList`,yY(e,`OL`)),e.addQueryStateHandler(`InsertDefinitionList`,yY(e,`DL`))},xY=e=>{e.on(`keydown`,t=>{t.keyCode===$.BACKSPACE?CR(e,!1)&&t.preventDefault():t.keyCode===$.DELETE&&CR(e,!0)&&t.preventDefault()})},SY=e=>e.type===3,CY=e=>e.length===0,wY=e=>{let t=(t,n)=>{let r=ax.create(`li`);I(t,e=>r.append(e)),n?e.insert(r,n,!0):e.append(r)},n=be(e.children(),(e,n)=>SY(n)?[...e,n]:!CY(e)&&!SY(n)?(t(e,n),[]):e,[]);CY(n)||t(n)},TY=e=>{e.on(`PreInit`,()=>{let{parser:t}=e;t.addNodeFilter(`ul,ol`,e=>I(e,wY))})},EY=e=>{e.on(`keydown`,t=>{t.keyCode!==$.TAB||$.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?LL(e):IL(e))&&t.preventDefault()})})},DY=e=>{Mh(e)&&EY(e)},OY=e=>{xY(e),bY(e),TY(e),DY(e)};class kY{editor;lastPath=[];constructor(e){this.editor=e;let t,n=this;`onselectionchange`in e.getDoc()||e.on(`NodeChange click mouseup keyup focus`,n=>{let r=e.selection.getRng(),i={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};(n.type===`nodechange`||!ob(i,t))&&e.dispatch(`SelectionChange`),t=i}),e.on(`contextmenu`,()=>{gy(e),e.dispatch(`SelectionChange`)}),e.on(`SelectionChange`,()=>{let t=e.selection.getStart(!0);t&&q_(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on(`mouseup`,t=>{!t.isDefaultPrevented()&&q_(e)&&(e.selection.getNode().nodeName===`IMG`?Sy.setEditorTimeout(e,()=>{e.nodeChanged()}):e.nodeChanged())})}nodeChanged(e={}){let t=this.editor,n=t.selection,r;if(t.initialized&&n&&!Nm(t)&&!kh(t)){let i=t.getBody();r=n.getStart(!0)||i,(r.ownerDocument!==t.getDoc()||!t.dom.isChildOf(r,i))&&(r=i);let a=[];t.dom.getParent(r,e=>e===i?!0:(a.push(e),!1)),t.dispatch(`NodeChange`,{...e,element:r,parents:a})}}isSameElementPath(e){let t,n=this.editor,r=Oe(n.dom.getParents(e,ce,n.getBody()));if(r.length===this.lastPath.length){for(t=r.length;t>=0&&r[t]===this.lastPath[t];t--);if(t===-1)return this.lastPath=r,!0}return this.lastPath=r,!1}}let AY=`x-tinymce/html`,jY=O(AY),MY=`<!-- `+AY+` -->`,NY=e=>MY+e,PY=e=>e.replace(MY,``),FY=e=>e.indexOf(MY)!==-1,IY=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),LY=(e,t)=>{let n=`<`+e,r=qe(t,(e,t)=>t+`="`+Rc.encodeAllRaw(e)+`"`);return r.length&&(n+=` `+r.join(` `)),n+`>`},RY=(e,t,n)=>{let r=e.split(/\n\n/),i=LY(t,n),a=`</`+t+`>`,o=he(r,e=>e.split(/\n/).join(`<br />`));return o.length===1?o[0]:he(o,e=>i+e+a).join(``)},zY=`%MCEPASTEBIN%`,BY=(e,t)=>{let{dom:n,selection:r}=e,i=e.getBody();t.set(r.getRng());let a=n.add(e.getBody(),`div`,{id:`mcepastebin`,class:`mce-pastebin`,contentEditable:!0,"data-mce-bogus":`all`,style:`position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0`},zY);Zn.browser.isFirefox()&&n.setStyle(a,`left`,n.getStyle(i,`direction`,!0)===`rtl`?65535:-65535),n.bind(a,`beforedeactivate focusin focusout`,e=>{e.stopPropagation()}),a.focus(),r.select(a,!0)},VY=(e,t)=>{let n=e.dom;if(HY(e)){let r,i=t.get();for(;r=HY(e);)n.remove(r),n.unbind(r);i&&e.selection.setRng(i)}t.set(null)},HY=e=>e.dom.get(`mcepastebin`),UY=e=>C(e)&&e.id===`mcepastebin`,WY=e=>{let t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[r,...i]=L(e.getBody().childNodes,UY);I(i,e=>{n(r,e)});let a=t.select(`div[id=mcepastebin]`,r);for(let e=a.length-1;e>=0;e--){let i=t.create(`div`);r.insertBefore(i,a[e]),n(i,a[e])}return r?r.innerHTML:``},GY=e=>e===zY,KY=e=>{let t=B(null);return{create:()=>BY(e,t),remove:()=>VY(e,t),getEl:()=>HY(e),getHtml:()=>WY(e),getLastRng:t.get}},qY=(e,t)=>(U.each(t,t=>{e=_(t,RegExp)?e.replace(t,``):e.replace(t[0],t[1])}),e),JY=e=>{let t=ul(),n=gk({},t),r=``,i=t.getVoidElements(),a=U.makeMap(`script noscript style textarea video audio iframe object`,` `),o=t.getBlockElements(),s=e=>{let n=e.name,c=e;if(n===`br`){r+=`
`;return}if(n!==`wbr`){if(i[n]&&(r+=` `),a[n]){r+=` `;return}if(e.type===3&&(r+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do s(t);while(t=t.next)}o[n]&&c.next&&(r+=`
`,n===`p`&&(r+=`
`))}};return e=qY(e,[/<!\[[^\]]+\]>/g]),s(n.parse(e)),r},YY=e=>(e=qY(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,n)=>!t&&!n?` `:`\xA0`],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),XY=e=>{let t=0;return()=>e+ t++},ZY=e=>{let t=e.toLowerCase(),n={jpg:`jpeg`,jpe:`jpeg`,jfi:`jpeg`,jif:`jpeg`,jfif:`jpeg`,pjpeg:`jpeg`,pjp:`jpeg`,svg:`svg+xml`};return U.hasOwn(n,t)?`image/`+n[t]:`image/`+t},QY=(e,t)=>{let n=gk({sanitize:hh(e),sandbox_iframes:Th(e),sandbox_iframes_exclusions:Eh(e),convert_unsafe_embeds:Dh(e)},e.schema);n.addNodeFilter(`meta`,e=>{U.each(e,e=>{e.remove()})});let r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Ox({validate:!0},e.schema).serialize(r)},$Y=(e,t)=>({content:e,cancelled:t}),eX=(e,t,n)=>{let r=vp(e,e.dom.create(`div`,{style:`display:none`},t),n);return $Y(r.node.innerHTML,r.isDefaultPrevented())},tX=(e,t,n)=>{let r=_p(e,t,n),i=QY(e,r.content);return e.hasEventListeners(`PastePostProcess`)&&!r.isDefaultPrevented()?eX(e,i,n):$Y(i,r.isDefaultPrevented())},nX=(e,t,n)=>tX(e,t,n),rX=(e,t)=>(e.insertContent(t,{merge:rh(e),paste:!0}),!0),iX=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),aX=(e,t)=>iX(t)&&me(xh(e),e=>jt(t.toLowerCase(),`.${e.toLowerCase()}`)),oX=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent(`<img src="`+t+`">`)}),!0),sX=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand(`mceInsertLink`,!1,t)}),!0),cX=(e,t,n)=>!e.selection.isCollapsed()&&iX(t)?sX(e,t,n):!1,lX=(e,t,n)=>aX(e,t)?oX(e,t,n):!1,uX=(e,t)=>{U.each([cX,lX,rX],n=>!n(e,t,rX))},dX=(e,t,n)=>{n||!ih(e)?rX(e,t):uX(e,t)},fX=XY(`mceclip`),pX=e=>{let t=CW();return EW(t,e),hW(t),t},mX=(e,t,n,r,i)=>{let a=nX(e,t,n);if(!a.cancelled){let t=a.content,n=()=>dX(e,t,r);i?hq(e,`insertFromPaste`,{dataTransfer:pX(t)}).isDefaultPrevented()||(n(),mq(e,`insertFromPaste`)):n()}},hX=(e,t,n,r)=>{let i=n||FY(t);mX(e,PY(t),i,!1,r)},gX=(e,t,n)=>{mX(e,RY(Wo(e.dom.encode(t).replace(/\r\n/g,`
`),oh(e)),Rp(e),zp(e)),!1,!0,n)},_X=e=>{let t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){let r=e.types[n];try{t[r]=e.getData(r)}catch{t[r]=``}}return t},vX=(e,t)=>t in e&&e[t].length>0,yX=e=>vX(e,`text/html`)||vX(e,`text/plain`),bX=(e,t)=>{let n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return C(n)?e.dom.encode(n[1]):void 0},xX=(e,t,n,r)=>{let i=fX(),a=Kp(e)&&C(n.name),o=a?bX(e,n.name):i,s=a?n.name:void 0,c=t.create(i,n,r,o,s);return t.add(c),c},SX=(e,t)=>{pD(t.uri).each(({data:n,type:r,base64Encoded:i})=>{let a=i?n:btoa(n),o=t.file,s=e.editorUpload.blobCache;hX(e,`<img src="${(s.getByData(a,r)??xX(e,s,o,a)).blobUri()}">`,!1,!0)})},CX=e=>e.type===`paste`,wX=e=>Promise.all(he(e,e=>_D(e).then(t=>({file:e,uri:t})))),TX=e=>{let t=xh(e);return e=>At(e.type,`image/`)&&me(t,t=>ZY(t)===e.type)},EX=(e,t)=>{let n=t.items?Ee(Fe(t.items),e=>e.kind===`file`?[e.getAsFile()]:[]):[],r=t.files?Fe(t.files):[];return L(n.length>0?n:r,TX(e))},DX=(e,t,n)=>{let r=CX(t)?t.clipboardData:t.dataTransfer;if(Zm(e)&&r){let i=EX(e,r);if(i.length>0)return t.preventDefault(),wX(i).then(t=>{n&&e.selection.setRng(n),I(t,t=>{SX(e,t)})}),!0}return!1},OX=e=>Zn.os.isAndroid()&&e.clipboardData?.items?.length===0,kX=e=>$.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,AX=(e,t,n,r,i)=>{let a=YY(n),o=vX(t,jY())||FY(n),s=!o&&IY(a),c=iX(a);(GY(a)||!a.length||s&&!c)&&(r=!0),(r||c)&&(a=vX(t,`text/plain`)&&s?t[`text/plain`]:JY(a)),!GY(a)&&(r?gX(e,a,i):hX(e,a,o,i))},jX=(e,t,n)=>{let r,i=()=>t.getLastRng()||e.selection.getRng();e.on(`keydown`,e=>{kX(e)&&!e.isDefaultPrevented()&&(r=e.shiftKey&&e.keyCode===86)}),e.on(`paste`,a=>{if(a.isDefaultPrevented()||OX(a))return;let o=n.get()===`text`||r;r=!1;let s=_X(a.clipboardData);!yX(s)&&DX(e,a,i())||(vX(s,`text/html`)?(a.preventDefault(),AX(e,s,s[`text/html`],o,!0)):vX(s,`text/plain`)&&vX(s,`text/uri-list`)?(a.preventDefault(),AX(e,s,s[`text/plain`],o,!0)):(t.create(),Sy.setEditorTimeout(e,()=>{let n=t.getHtml();t.remove(),AX(e,s,n,o,!1)},0)))})},MX=e=>{let t=e=>At(e,`webkit-fake-url`),n=e=>At(e,`data:`),r=e=>e.data?.paste===!0;e.parser.addNodeFilter(`img`,(i,a,o)=>{if(!Zm(e)&&r(o))for(let r of i){let i=r.attr(`src`);v(i)&&!r.attr(`data-mce-object`)&&i!==Zn.transparentSrc&&(t(i)||!sh(e)&&n(i))&&r.remove()}})},NX=(e,t,n)=>{jX(e,t,n),MX(e)},PX=(e,t)=>{t.get()===`text`?(t.set(`html`),yp(e,!1)):(t.set(`text`),yp(e,!0)),e.focus()},FX=(e,t)=>{e.addCommand(`mceTogglePlainTextPaste`,()=>{PX(e,t)}),e.addCommand(`mceInsertClipboardContent`,(t,n)=>{n.html&&hX(e,n.html,n.internal,!1),n.text&&gX(e,n.text,!1)})},IX=(e,t,n)=>{if(e)try{return e.clearData(),e.setData(`text/html`,t),e.setData(`text/plain`,n),e.setData(jY(),t),!0}catch{return!1}else return!1},LX=(e,t,n,r)=>{IX(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},RX=e=>(t,n)=>{let{dom:r,selection:i}=e,a=r.create(`div`,{contenteditable:`false`,"data-mce-bogus":`all`}),o=r.create(`div`,{contenteditable:`true`},t);r.setStyles(a,{position:`fixed`,top:`0`,left:`-3000px`,width:`1000px`,overflow:`hidden`}),a.appendChild(o),r.add(e.getBody(),a);let s=i.getRng();o.focus();let c=r.createRng();c.selectNodeContents(o),i.setRng(c),Sy.setEditorTimeout(e,()=>{i.setRng(s),r.remove(a),n()},0)},zX=e=>({html:NY(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:`text`})}),BX=e=>!!e.dom.getParent(e.selection.getStart(),`td[data-mce-selected],th[data-mce-selected]`,e.getBody()),VX=e=>!e.selection.isCollapsed()||BX(e),HX=(e,t)=>n=>{!n.isDefaultPrevented()&&VX(e)&&e.selection.isEditable()&&LX(n,zX(e),RX(e),()=>{if(Zn.browser.isChromium()||Zn.browser.isFirefox()){let n=e.selection.getRng();Sy.setEditorTimeout(e,()=>{e.selection.setRng(n),TH(e,t)},0)}else TH(e,t)})},UX=e=>t=>{!t.isDefaultPrevented()&&VX(e)&&LX(t,zX(e),RX(e),E)},WX=(e,t)=>{e.on(`cut`,HX(e,t)),e.on(`copy`,UX(e))},GX=(e,t)=>yb.getCaretRangeFromPoint(t.clientX??0,t.clientY??0,e.getDoc()),KX=e=>{let t=e[`text/plain`];return t?t.indexOf(`file://`)===0:!1},qX=(e,t)=>{t&&e.selection.setRng(t),e.focus()},JX=e=>me(e.files,e=>/^image\//.test(e.type)),YX=(e,t,n,r)=>{let i=e.getParent(n,e=>ic(t,e));if(!S(e.getParent(n,`summary`)))return!0;if(i&&Ye(r,`text/html`)){let e=new DOMParser().parseFromString(r[`text/html`],`text/html`).body;return!S(e.querySelector(i.nodeName.toLowerCase()))}else return!1},XX=e=>{e.on(`input`,t=>{t.inputType===`deleteByDrag`&&I(L(e.dom.select(`details`),e=>S(e.querySelector(`summary`))),t=>{us(t.firstChild)&&t.firstChild.remove();let n=e.dom.create(`summary`);n.appendChild(Lu().dom),t.prepend(n)})})},ZX=(e,t)=>{Xm(e)&&e.on(`dragend dragover draggesture dragdrop drop drag`,e=>{e.preventDefault(),e.stopPropagation()}),Zm(e)||e.on(`drop`,e=>{let t=e.dataTransfer;t&&JX(t)&&e.preventDefault()}),e.on(`drop`,n=>{if(n.isDefaultPrevented())return;let r=GX(e,n);if(ne(r))return;let i=_X(n.dataTransfer),a=vX(i,jY());if((!yX(i)||KX(i))&&DX(e,n,r))return;let o=i[jY()],s=o||i[`text/html`]||i[`text/plain`],c=YX(e.dom,e.schema,r.startContainer,i),l=t.get();l&&!c||s&&(n.preventDefault(),Sy.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(o||l&&c)&&e.execCommand(`Delete`),qX(e,r);let t=YY(s);i[`text/html`]?hX(e,t,a,!0):gX(e,t,!0)})}))}),e.on(`dragstart`,e=>{t.set(!0)}),e.on(`dragover dragend`,n=>{Zm(e)&&!t.get()&&(n.preventDefault(),qX(e,GX(e,n))),n.type===`dragend`&&t.set(!1)}),XX(e)},QX=e=>{let t=t=>n=>{t(e,n)},n=Qm(e);w(n)&&e.on(`PastePreProcess`,t(n));let r=$m(e);w(r)&&e.on(`PastePostProcess`,t(r))},$X=(e,t)=>{e.on(`PastePreProcess`,n=>{n.content=t(e,n.content,n.internal)})},eZ=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,tZ=e=>U.trim(e).replace(eZ,Sl).toLowerCase(),nZ=(e,t,n)=>{let r=th(e);if(n||r===`all`||!nh(e))return t;let i=r?r.split(/[, ]/):[];if(i&&r!==`none`){let n=e.dom,r=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(e,t,a,o)=>{let s=n.parseStyle(n.decode(a)),c={};for(let e=0;e<i.length;e++){let t=s[i[e]],a=t,o=n.getStyle(r,i[e],!0);/color/.test(i[e])&&(a=tZ(a),o=tZ(o)),o!==a&&(c[i[e]]=t)}let l=n.serializeStyle(c,`span`);return l?t+` style="`+l+`"`+o:t+o})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,`$1$3`);return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(e,t,n,r)=>t+` style="`+n+`"`+r),t},rZ=e=>{(Zn.browser.isChromium()||Zn.browser.isSafari())&&$X(e,nZ)},iZ=(e,t)=>{let n=B(!1),r=B(ah(e)?`text`:`html`),i=KY(e);rZ(e),FX(e,r),QX(e),e.addQueryStateHandler(`mceTogglePlainTextPaste`,()=>r.get()===`text`),e.on(`PreInit`,()=>{WX(e,t),ZX(e,n),NX(e,i,r)})},aZ=e=>{e.on(`click`,t=>{e.dom.getParent(t.target,`details`)&&t.preventDefault()})},oZ=e=>{e.parser.addNodeFilter(`details`,t=>{let n=Ch(e);I(t,e=>{n===`expanded`?e.attr(`open`,`open`):n===`collapsed`&&e.attr(`open`,null)})}),e.serializer.addNodeFilter(`details`,t=>{let n=wh(e);I(t,e=>{n===`expanded`?e.attr(`open`,`open`):n===`collapsed`&&e.attr(`open`,null)})})},sZ=e=>{aZ(e),oZ(e)},cZ=us,lZ=q,uZ=e=>ms(e.dom),dZ=e=>ps(e.dom),fZ=e=>t=>Sr(W.fromDom(e),t),pZ=(e,t,n)=>G(W.fromDom(e),e=>dZ(e)||n.isBlock(Er(e)),fZ(t)).getOr(W.fromDom(t)).dom,mZ=(e,t)=>G(W.fromDom(e),uZ,fZ(t)),hZ=(e,t,n)=>{let r=new Lo(e,t),i=n?r.next.bind(r):r.prev.bind(r),a=e;for(let t=n?e:i();t&&!cZ(t);t=i())Ad(t)&&(a=t);return a},gZ=(e,t,n)=>{let r=X.fromRangeStart(e).getNode(),i=pZ(r,t,n),a=hZ(r,i,!1),o=hZ(r,i,!0),s=document.createRange();return mZ(a,i).fold(()=>{lZ(a)?s.setStart(a,0):s.setStartBefore(a)},e=>s.setStartBefore(e.dom)),mZ(o,i).fold(()=>{lZ(o)?s.setEnd(o,o.data.length):s.setEndAfter(o)},e=>s.setEndAfter(e.dom)),s},_Z=e=>{let t=gZ(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(eD(t))},vZ=e=>{e.on(`mousedown`,t=>{t.detail>=3&&(t.preventDefault(),_Z(e))})};var yZ;(function(e){e.Before=`before`,e.After=`after`})(yZ||={});let bZ=(e,t)=>Math.abs(e.left-t),xZ=(e,t)=>Math.abs(e.right-t),SZ=(e,t)=>e>=t.top&&e<=t.bottom,CZ=(e,t)=>e.top<t.bottom&&e.bottom>t.top,wZ=(e,t)=>{let n=md(e,t)/Math.min(e.height,t.height);return CZ(e,t)&&n>.5},TZ=(e,t)=>fd(L(e,e=>SZ(t,e))).fold(()=>[[],e],t=>{let{pass:n,fail:r}=_e(e,e=>wZ(e,t));return[n,r]}),EZ=(e,t)=>({node:e.node,position:bZ(e,t)<xZ(e,t)?yZ.Before:yZ.After}),DZ=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),OZ=(e,t,n,r)=>{let i=e=>Ad(e.node)?P.some(e):qo(e.node)?OZ(Fe(e.node.childNodes),t,n,!1):P.none(),a=(e,r,a)=>i(r).filter(r=>Math.abs(a(e,t,n)-a(r,t,n))<2&&q(r.node)),o=(e,o)=>{let s=je(e,(e,r)=>o(e,t,n)-o(r,t,n));return Ie(s,i).map(e=>r&&!q(e.node)&&s.length>1?a(e,s[1],o).getOr(e):e)},[s,c]=TZ(UB(e),n),{pass:l,fail:u}=_e(c,e=>e.top<n);return o(s,DZ).orThunk(()=>o(u,pd)).orThunk(()=>o(l,pd))},kZ=(e,t,n,r)=>{let i=(t,a)=>{let o=L(t.dom.childNodes,oe(e=>qo(e)&&e.classList.contains(`mce-drag-container`)));return a.fold(()=>OZ(o,n,r,!0),e=>OZ(L(o,t=>t!==e.dom),n,r,!0)).orThunk(()=>(Sr(t,e)?P.none():Vr(t)).bind(e=>i(e,P.some(t))))};return i(t,P.none())},AZ=(e,t,n)=>{let r=W.fromDom(e),i=Lr(r);return kZ(r,W.fromPoint(i,t,n).filter(e=>Cr(r,e)).getOr(r),t,n)},jZ=(e,t,n)=>AZ(e,t,n).filter(e=>eg(e.node)).map(e=>EZ(e,t)),MZ=e=>{let t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,i=n.defaultView;return{top:t.top+(i?.scrollY??0)-r.clientTop,left:t.left+(i?.scrollX??0)-r.clientLeft}},NZ=e=>e.inline?MZ(e.getBody()):{left:0,top:0},PZ=e=>{let t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},FZ=e=>{let t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i},IZ=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){let n=MZ(e.getContentAreaContainer()),r=FZ(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},LZ=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),RZ=(e,t)=>LZ(NZ(e),PZ(e),IZ(e,t)),zZ=e=>({target:e,srcElement:e}),BZ=(e,t,n,r)=>({...t,dataTransfer:r,type:e,...zZ(n)}),VZ=(e,t,n)=>{let r=j(`Function not supported on simulated event.`);return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:E,stopImmediatePropagation:E,stopPropagation:E,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:n,...zZ(t)}},HZ=(e,t)=>{let n=wW(e);return t===`dragstart`?(aW(n),mW(n)):t===`drop`?(oW(n),hW(n)):(sW(n),gW(n)),n},UZ=(e,t,n,r)=>{let i=HZ(n,e);return te(r)?VZ(e,t,i):BZ(e,r,t,i)},WZ=ms,GZ=bd(WZ,ps),KZ=(e,t,n)=>WZ(n)&&n!==t&&e.isEditable(n.parentElement),qZ=(e,t,n)=>ne(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),JZ=(e,t,n,r)=>{let i=e.dom,a=t.cloneNode(!0);i.setStyles(a,{width:n,height:r}),i.setAttrib(a,`data-mce-selected`,null);let o=i.create(`div`,{class:`mce-drag-container`,"data-mce-bogus":`all`,unselectable:`on`,contenteditable:`false`});return i.setStyles(o,{position:`absolute`,opacity:.5,overflow:`hidden`,border:0,padding:0,margin:0,width:n,height:r}),i.setStyles(a,{margin:0,boxSizing:`border-box`}),o.appendChild(a),o},YZ=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},XZ=(e,t)=>n=>()=>{let r=e===`left`?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:`smooth`})},ZZ=XZ(`left`,-32),QZ=XZ(`left`,32),$Z=XZ(`top`,-32),eQ=XZ(`top`,32),tQ=(e,t,n,r,i,a,o,s,c,l,u,d)=>{let f=0,p=0;e.style.left=t.pageX+`px`,e.style.top=t.pageY+`px`,t.pageX+n>i&&(f=t.pageX+n-i),t.pageY+r>a&&(p=t.pageY+r-a),e.style.width=n-f+`px`,e.style.height=r-p+`px`;let m=c.clientHeight,h=c.clientWidth,g=o+c.getBoundingClientRect().top,_=s+c.getBoundingClientRect().left;u.on(e=>{e.intervalId.clear(),e.dragging&&d&&(o+8>=m?e.intervalId.set(eQ(l)):o-8<=0?e.intervalId.set($Z(l)):s+8>=h?e.intervalId.set(QZ(l)):s-8<=0?e.intervalId.set(ZZ(l)):g+16>=window.innerHeight?e.intervalId.set(eQ(window)):g-16<=0?e.intervalId.set($Z(window)):_+16>=window.innerWidth?e.intervalId.set(QZ(window)):_-16<=0&&e.intervalId.set(ZZ(window)))})},nQ=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},rQ=(e,t)=>{let n=e.getParent(t.parentNode,e.isBlock);nQ(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&Ru(W.fromDom(n))},iQ=e=>e.button===0,aQ=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),oQ=(e,t)=>n=>{if(iQ(n)){let r=Se(t.dom.getParents(n.target),GZ).getOr(null);if(C(r)&&KZ(t.dom,t.getBody(),r)){let i=t.dom.getPos(r),a=t.getBody(),o=t.getDoc().documentElement;e.set({element:r,dataTransfer:CW(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?a.scrollWidth:o.offsetWidth)-2,maxY:(t.inline?a.scrollHeight:o.offsetHeight)-2,relX:n.pageX-i.x,relY:n.pageY-i.y,width:r.offsetWidth,height:r.offsetHeight,ghost:JZ(t,r,r.offsetWidth,r.offsetHeight),intervalId:wt(100)})}}},sQ=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),jZ(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),r=>{let i=e._selectionOverrides.showCaret(1,r.node,r.position===yZ.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(t,n)})},cQ=(e,t,n,r,i)=>{t===`dragstart`&&EW(r,e.dom.getOuterHTML(n));let a=UZ(t,n,r,i);return e.dispatch(t,a)},lQ=(e,t)=>{let n=Bt((e,n)=>sQ(t,e,n),0);t.on(`remove`,n.cancel);let r=e;return i=>e.on(e=>{let a=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(!e.dragging&&a>10){let n=cQ(t,`dragstart`,e.element,e.dataTransfer,i);if(C(n.dataTransfer)&&(e.dataTransfer=n.dataTransfer),n.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){let a=i.currentTarget===t.getDoc().documentElement,o=aQ(e,RZ(t,i));YZ(e.ghost,t.getBody()),tQ(e.ghost,o,e.width,e.height,e.maxX,e.maxY,i.clientY,i.clientX,t.getContentAreaContainer(),t.getWin(),r,a),n.throttle(i.clientX,i.clientY)}})},uQ=e=>{let t=e.getSel();if(C(t)){let e=t.getRangeAt(0).startContainer;return q(e)?e.parentNode:e}else return null},dQ=(e,t)=>n=>{e.on(e=>{e.intervalId.clear(),e.dragging&&(qZ(t,uQ(t.selection),e.element)&&(cQ(t,`drop`,t.getDoc().elementFromPoint(n.clientX,n.clientY)??t.getBody(),e.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{rQ(t.dom,e.element),TW(e.dataTransfer).each(e=>t.insertContent(e)),t._selectionOverrides.hideFakeCaret()})),cQ(t,`dragend`,t.getBody(),e.dataTransfer,n))}),mQ(e)},fQ=(e,t,n)=>{e.on(e=>{e.intervalId.clear(),e.dragging&&n.fold(()=>cQ(t,`dragend`,e.element,e.dataTransfer),n=>cQ(t,`dragend`,e.element,e.dataTransfer,n))}),mQ(e)},pQ=(e,t)=>n=>fQ(e,t,P.some(n)),mQ=e=>{e.on(e=>{e.intervalId.clear(),nQ(e.ghost)}),e.clear()},hQ=e=>{let t=Tt(),n=ql.DOM,r=document,i=oQ(t,e),a=lQ(t,e),o=dQ(t,e),s=pQ(t,e);e.on(`mousedown`,i),e.on(`mousemove`,a),e.on(`mouseup`,o),n.bind(r,`mousemove`,a),n.bind(r,`mouseup`,s),e.on(`remove`,()=>{n.unbind(r,`mousemove`,a),n.unbind(r,`mouseup`,s)}),e.on(`keydown`,n=>{n.keyCode===$.ESC&&fQ(t,e,P.none())})},gQ=e=>{let t=t=>{if(!t.isDefaultPrevented()){let n=t.dataTransfer;n&&(pe(n.types,`Files`)||n.files.length>0)&&(t.preventDefault(),t.type===`drop`&&iP(e,`Dropped file type is not supported`))}},n=n=>{My(e,n.target)&&t(n)},r=()=>{let r=ql.DOM,i=e.dom,a=document,o=e.inline?e.getBody():e.getDoc(),s=[`drop`,`dragover`];I(s,e=>{r.bind(a,e,n),i.bind(o,e,t)}),e.on(`remove`,()=>{I(s,e=>{r.unbind(a,e,n),i.unbind(o,e,t)})})};e.on(`init`,()=>{Sy.setEditorTimeout(e,r,0)})},_Q=e=>{hQ(e),zm(e)&&gQ(e)},vQ=e=>{let t=Bt(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){let t=e.selection.getRng();if(t.collapsed){let n=oz(e,t,!1);e.selection.setRng(n)}}},0);e.on(`focus`,()=>{t.throttle()}),e.on(`blur`,()=>{t.cancel()})},yQ=e=>{e.on(`init`,()=>{e.on(`focusin`,t=>{let n=t.target;if(ys(n)){let t=Iw(e.getBody(),n),r=ms(t)?t:n;e.selection.getNode()!==r&&iz(e,r).each(t=>e.selection.setRng(t))}})})},bQ=ms,xQ=(e,t)=>Iw(e.getBody(),t),SQ=e=>{let t=e.selection,n=e.dom,r=e.getBody(),i=Zh(e,r,n.isBlock,()=>qy(e)),a=`sel-`+n.uniqueId(),o=`data-mce-selected`,s,c=e=>C(e)&&n.hasClass(e,`mce-offscreen-selection`),l=e=>e!==r&&(bQ(e)||ys(e))&&n.isChildOf(e,r)&&n.isEditable(e.parentNode),u=e=>{e&&t.setRng(e)},d=(n,r,a,o=!0)=>e.dispatch(`ShowCaret`,{target:r,direction:n,before:a}).isDefaultPrevented()?null:(o&&t.scrollIntoView(r,n===-1),i.show(a,r)),f=e=>{e.hasAttribute(`data-mce-caret`)&&(nd(e),t.scrollIntoView(e))},p=()=>{e.on(`click`,t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())}),e.on(`blur NewBlock`,x),e.on(`ResizeWindow FullscreenStateChanged`,i.reposition),e.on(`tap`,t=>{let n=t.target,r=xQ(e,n);bQ(r)?(t.preventDefault(),iz(e,r).each(b)):l(n)&&iz(e,n).each(b)},!0),e.on(`mousedown`,t=>{let i=t.target;if(i!==r&&i.nodeName!==`HTML`&&!n.isChildOf(i,r)||!JN(e,t.clientX,t.clientY))return;x(),ee();let a=xQ(e,i);bQ(a)?(t.preventDefault(),iz(e,a).each(b)):jZ(r,t.clientX,t.clientY).each(n=>{t.preventDefault(),u(d(1,n.node,n.position===yZ.Before,!1)),Jo(a)?a.focus():e.getBody().focus()})}),e.on(`keypress`,e=>{$.modifierPressed(e)||bQ(t.getNode())&&e.preventDefault()}),e.on(`GetSelectionRange`,e=>{let t=e.range;if(s){if(!s.parentNode){s=null;return}t=t.cloneRange(),t.selectNode(s),e.range=t}}),e.on(`focusin`,t=>{if(!ys(t.target)&&e.getBody().contains(t.target)&&t.target!==e.getBody()&&!e.dom.isEditable(t.target.parentNode)){i.isShowing()&&i.hide(),t.target.contains(e.selection.getNode())||(e.selection.select(t.target,!0),e.selection.collapse(!0));let n=b(e.selection.getRng(),!0);n&&e.selection.setRng(n)}}),e.on(`SetSelectionRange`,e=>{e.range=g(e.range);let t=b(e.range,e.forward);t&&(e.range=t)});let a=e=>qo(e)&&e.id===`mcepastebin`;e.on(`AfterSetSelectionRange`,e=>{let t=e.range,n=t.startContainer.parentElement;!h(t)&&!a(n)&&ee(),c(n)||x()}),_Q(e),vQ(e),yQ(e)},m=e=>qu(e)||$u(e)||ed(e),h=e=>m(e.startContainer)||m(e.endContainer),g=t=>{let r=e.schema.getVoidElements(),i=n.createRng(),a=t.startContainer,o=t.startOffset,s=t.endContainer,c=t.endOffset;return Ye(r,a.nodeName.toLowerCase())?o===0?i.setStartBefore(a):i.setStartAfter(a):i.setStart(a,o),Ye(r,s.nodeName.toLowerCase())?c===0?i.setEndBefore(s):i.setEndAfter(s):i.setEnd(s,c),i},_=(r,i)=>{let o=W.fromDom(e.getBody()),s=e.getDoc(),c=Fa(o,`#`+a).getOrThunk(()=>{let e=W.fromHtml(`<div data-mce-bogus="all" class="mce-offscreen-selection"></div>`,s);return Ai(e,`id`,a),wi(o,e),e}),l=n.createRng();Ri(c),Oi(c,[W.fromText(`\xA0`,s),W.fromDom(i),W.fromText(`\xA0`,s)]),l.setStart(c.dom.firstChild,1),l.setEnd(c.dom.lastChild,0),na(c,{top:n.getPos(r,e.getBody()).y+`px`}),_i(c);let u=t.getSel();return u&&(u.removeAllRanges(),u.addRange(l)),l},v=t=>{let n=e.getDoc().createElement(`div`);n.style.width=t.style.width,n.style.height=t.style.height;let r=t.getAttribute(`width`);r&&n.setAttribute(`width`,r);let i=t.getAttribute(`height`);return i&&n.setAttribute(`height`,i),n},y=t=>{let r=ws(t)?v(t):t.cloneNode(!0),i=e.dispatch(`ObjectSelected`,{target:t,targetClone:r});if(i.isDefaultPrevented())return null;let a=_(t,i.targetClone),c=W.fromDom(t);return I(no(W.fromDom(e.getBody()),`*[${o}]`),e=>{Sr(c,e)||Fi(e,o)}),n.getAttrib(t,o)||t.setAttribute(o,`1`),s=t,ee(),a},b=(e,t)=>{if(!e)return null;if(e.collapsed){if(!h(e)){let i=t?1:-1,a=Eg(i,r,e),o=a.getNode(!t);if(C(o)){if(eg(o))return d(i,o,t?!a.isAtEnd():!1,!1);if(Ku(o)&&ms(o.nextSibling)){let e=n.createRng();return e.setStart(o,0),e.setEnd(o,0),e}}let s=a.getNode(t);if(C(s)){if(eg(s))return d(i,s,t?!1:!a.isAtEnd(),!1);if(Ku(s)&&ms(s.previousSibling)){let e=n.createRng();return e.setStart(s,1),e.setEnd(s,1),e}}}return null}let i=e.startContainer,a=e.startOffset,o=e.endOffset;if(q(i)&&a===0&&bQ(i.parentNode)&&(i=i.parentNode,a=n.nodeIndex(i),i=i.parentNode),!qo(i))return null;if(o===a+1&&i===e.endContainer){let e=i.childNodes[a];if(l(e))return y(e)}return null},x=()=>{s&&s.removeAttribute(o),Fa(W.fromDom(e.getBody()),`#`+a).each(zi),s=null},S=()=>{i.destroy(),s=null},ee=()=>{i.hide()};return kM(e)||p(),{showCaret:d,showBlockCaretContainer:f,hideFakeCaret:ee,destroy:S}},CQ=(e,t)=>{let n=t;for(let t=e.previousSibling;q(t);t=t.previousSibling)n+=t.data.length;return n},wQ=(e,t,n,r,i)=>{if(q(n)&&(r<0||r>n.data.length))return[];let a=i&&q(n)?[CQ(n,r)]:[r],o=n;for(;o!==t&&o.parentNode;)a.push(e.nodeIndex(o,i)),o=o.parentNode;return o===t?a.reverse():[]},TQ=(e,t,n,r,i,a,o=!1)=>({start:wQ(e,t,n,r,o),end:wQ(e,t,i,a,o)}),EQ=(e,t)=>{let n=t.slice(),r=n.pop();return re(r)?be(n,(e,t)=>e.bind(e=>P.from(e.childNodes[t])),P.some(e)).bind(e=>q(e)&&(r<0||r>e.data.length)?P.none():P.some({node:e,offset:r})):P.none()},DQ=(e,t)=>EQ(e,t.start).bind(({node:n,offset:r})=>EQ(e,t.end).map(({node:e,offset:t})=>{let i=document.createRange();return i.setStart(n,r),i.setEnd(e,t),i})),OQ=(e,t,n,r=!1)=>TQ(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r),kQ=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){let r=t.parentNode;e.remove(t,q(t.firstChild)&&zo(t.firstChild.data)),kQ(e,r,n)}},AQ=(e,t,n,r=!0)=>{let i=t.startContainer.parentNode,a=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(q(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),q(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),kQ(e,i,n),i!==a&&kQ(e,a,n))},jQ=(e,t)=>P.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),MQ=(e,t,n)=>{let r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:Uf(r).concat(e.blockPatterns),inlinePatterns:Wf(r).concat(e.inlinePatterns)}},NQ=(e,t,n,r)=>{let i=e.createRng();return i.setStart(t,0),i.setEnd(n,r),i.toString()},PQ=(e,t)=>e.create(`span`,{"data-mce-type":`bookmark`,id:t}),FQ=(e,t)=>{let n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},IQ=(e,t,n)=>{let r=DQ(e.getRoot(),n).getOrDie(`Unable to resolve path range`),i=r.startContainer,a=r.endContainer,o=r.endOffset===0?a:a.splitText(r.endOffset),s=r.startOffset===0?i:i.splitText(r.startOffset),c=s.parentNode;return{prefix:t,end:o.parentNode.insertBefore(PQ(e,t+`-end`),o),start:c.insertBefore(PQ(e,t+`-start`),s)}},LQ=(e,t,n)=>{kQ(e,e.get(t.prefix+`-end`),n),kQ(e,e.get(t.prefix+`-start`),n)},RQ=e=>e.start.length===0,zQ=e=>(t,n)=>{let r=t.data.substring(0,n),i=r.lastIndexOf(e.charAt(e.length-1)),a=r.lastIndexOf(e);return a===-1?i===-1?-1:i+1:a+e.length},BQ=(e,t,n,r)=>{let i=t.start;return xG(e,r.container,r.offset,zQ(i),n).bind(r=>{let a=n.textContent?.indexOf(i)??-1;if(a!==-1&&r.offset>=a+i.length){let t=e.createRng();return t.setStart(r.container,r.offset-i.length),t.setEnd(r.container,r.offset),P.some(t)}else{let a=r.offset-i.length;return yG(r.container,a,n).map(t=>{let n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(r.container,r.offset),n}).filter(e=>e.toString()===i).orThunk(()=>BQ(e,t,n,pG(r.container,0)))}})},VQ=(e,t,n,r,i,a=!1)=>{if(t.start.length===0&&!a){let t=e.createRng();return t.setStart(n,r),t.setEnd(n,r),P.some(t)}return _G(n,r,i).bind(n=>BQ(e,t,i,n).bind(e=>a&&(e.endContainer===n.container&&e.endOffset===n.offset||n.offset===0&&e.endContainer.textContent?.length===e.endOffset)?P.none():P.some(e)))},HQ=(e,t,n,r)=>{let i=e.dom,a=i.getRoot(),o=n.pattern,s=n.position.container,c=n.position.offset;return yG(s,c-n.pattern.end.length,t).bind(l=>{let u=TQ(i,a,l.container,l.offset,s,c,r);if(RQ(o))return P.some({matches:[{pattern:o,startRng:u,endRng:u}],position:l});{let s=UQ(e,n.remainingPatterns,l.container,l.offset,t,r),c=s.getOr({matches:[],position:l}),d=c.position;return VQ(i,o,d.container,d.offset,t,s.isNone()).map(e=>{let t=OQ(i,a,e,r);return{matches:c.matches.concat([{pattern:o,startRng:t,endRng:u}]),position:pG(e.startContainer,e.startOffset)}})}})},UQ=(e,t,n,r,i,a)=>{let o=e.dom;return _G(n,r,o.getRoot()).bind(s=>{let c=NQ(o,i,n,r);for(let o=0;o<t.length;o++){let l=t[o];if(!jt(c,l.end))continue;let u=t.slice();u.splice(o,1);let d=HQ(e,i,{pattern:l,remainingPatterns:u,position:s},a);if(d.isNone()&&r>0)return UQ(e,t,n,r-1,i,a);if(d.isSome())return d}return P.none()})},WQ=(e,t,n)=>{e.selection.setRng(n),t.type===`inline-format`?I(t.format,t=>{e.formatter.apply(t)}):e.execCommand(t.cmd,!1,t.value)},GQ=(e,t,n,r)=>{let i=FQ(e.dom,n);AQ(e.dom,i,r),WQ(e,t,i)},KQ=(e,t,n,r,i)=>{let a=e.dom,o=FQ(a,r);AQ(a,FQ(a,n),i),AQ(a,o,i),WQ(e,t,FQ(a,{prefix:n.prefix,start:n.end,end:r.start}))},qQ=(e,t)=>{let n=st(`mce_textpattern`),r=ye(t,(t,r)=>{let i=IQ(e,n+`_end${t.length}`,r.endRng);return t.concat([{...r,endMarker:i}])},[]);return ye(r,(t,i)=>{let a=r.length-t.length-1,o=RQ(i.pattern)?i.endMarker:IQ(e,n+`_start${a}`,i.startRng);return t.concat([{...i,startMarker:o}])},[])},JQ=e=>je(e,(e,t)=>t.end.length-e.end.length),YQ=(e,t)=>{let n=De(e,e=>me(t,t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},XQ=(e,t,n,r,i,a)=>YQ(UQ(e,i.inlinePatterns,n,r,t,a).fold(()=>[],e=>e.matches),UQ(e,JQ(i.inlinePatterns),n,r,t,a).fold(()=>[],e=>e.matches)),ZQ=(e,t)=>{if(t.length===0)return;let n=e.dom,r=e.selection.getBookmark();I(qQ(n,t),t=>{let r=n.getParent(t.startMarker.start,n.isBlock),i=e=>e===r;RQ(t.pattern)?GQ(e,t.pattern,t.endMarker,i):KQ(e,t.pattern,t.startMarker,t.endMarker,i),LQ(n,t.endMarker,i),LQ(n,t.startMarker,i)}),e.selection.moveToBookmark(r)},QQ=(e,t,n)=>vG(t,0,t).map(r=>{let i=r.container;return bG(i,n.start.length,t).each(n=>{let r=e.createRng();r.setStart(i,0),r.setEnd(n.container,n.offset),AQ(e,r,e=>e===t)}),i}),$Q=e=>(t,n)=>{let r=t.dom,i=n.pattern,a=DQ(r.getRoot(),n.range).getOrDie(`Unable to resolve path range`),o=(e,t)=>{let n=t.get(e);return x(n)&&Ne(n).exists(e=>Ye(e,`block`))};return jQ(t,a).each(n=>{i.type===`block-format`?o(i.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,n,i),t.formatter.apply(i.format)}):i.type===`block-command`&&t.undoManager.transact(()=>{e(t.dom,n,i),t.execCommand(i.cmd,!1,i.value)})}),!0},e$=e=>je(e,(e,t)=>t.start.length-e.start.length),t$=e=>(t,n)=>{let r=e$(t),i=n.replace(`\xA0`,` `);return Se(r,t=>e(t,n,i))},n$=(e,t)=>(n,r,i,a,o=r.textContent??``)=>{let s=n.dom,c=Rp(n);return s.is(r,c)?e(i.blockPatterns,o).map(e=>t&&U.trim(o).length===e.start.length?[]:[{pattern:e,range:TQ(s,s.getRoot(),r,0,r,0,a)}]).getOr([]):[]},r$=e=>/^\s[^\s]/.test(e),i$=$Q((e,t,n)=>{QQ(e,t,n).each(e=>{let t=W.fromDom(e),n=Ca(t);r$(n)&&Ta(t,n.slice(1))})}),a$=n$(t$((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),!0),o$=(e,t)=>{let n=e.selection.getRng();return jQ(e,n).map(r=>{let i=Math.max(0,n.startOffset),a=MQ(t,r,r.textContent??``);return{inlineMatches:XQ(e,r,n.startContainer,i,a,!0),blockMatches:a$(e,r,a,!0)}}).filter(({inlineMatches:e,blockMatches:t})=>t.length>0||e.length>0)},s$=(e,t)=>{if(t.length===0)return;let n=e.selection.getBookmark();I(t,t=>i$(e,t)),e.selection.moveToBookmark(n)},c$=$Q(QQ),l$=n$(t$((e,t,n)=>t===e.start||n===e.start),!1),u$=(e,t)=>{let n=e.selection.getRng();return jQ(e,n).map(r=>{let i=Math.max(0,n.startOffset),a=NQ(e.dom,r,n.startContainer,i);return l$(e,r,MQ(t,r,a),!1,a)}).filter(e=>e.length>0)},d$=(e,t)=>{I(t,t=>c$(e,t))},f$=(e,t)=>o$(e,t).fold(N,({inlineMatches:t,blockMatches:n})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand(`mceInsertNewLine`)},()=>{Hu(e),ZQ(e,t),s$(e,n);let r=e.selection.getRng(),i=_G(r.startContainer,r.startOffset,e.dom.getRoot());e.execCommand(`mceInsertNewLine`),i.each(t=>{let n=t.container;n.data.charAt(t.offset-1)===`﻿`&&(n.deleteData(t.offset-1,1),kQ(e.dom,n.parentNode,t=>t===e.dom.getRoot()))})}),!0)),p$=(e,t)=>{let n=e.selection.getRng();jQ(e,n).map(r=>{let i=Math.max(0,n.startOffset-1),a=MQ(t,r,NQ(e.dom,r,n.startContainer,i)),o=XQ(e,r,n.startContainer,i,a,!1);o.length>0&&e.undoManager.transact(()=>{ZQ(e,o)})})},m$=(e,t)=>u$(e,t).fold(N,t=>(e.undoManager.transact(()=>{d$(e,t)}),!0)),h$=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},g$=(e,t)=>h$(e,t,(e,t)=>e===t.keyCode&&!$.modifierPressed(t)),_$=(e,t)=>h$(e,t,(e,t)=>e.charCodeAt(0)===t.charCode),v$=e=>{let t=[`,`,`.`,`;`,`:`,`!`,`?`],n=[32],r=()=>Gf(ch(e).filter(t=>t.type===`inline-command`||t.type===`block-command`?e.queryCommandSupported(t.cmd):!0),lh(e)),i=()=>_h(e);e.on(`keydown`,t=>{if(t.keyCode===13&&!$.modifierPressed(t)&&e.selection.isCollapsed()&&e.selection.isEditable()){let n=Kf(r(),`enter`);(n.inlinePatterns.length>0||n.blockPatterns.length>0||i())&&f$(e,n)&&t.preventDefault()}},!0),e.on(`keydown`,t=>{if(t.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){let n=Kf(r(),`space`);(n.blockPatterns.length>0||i())&&m$(e,n)&&t.preventDefault()}},!0);let a=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){let t=Kf(r(),`space`);(t.inlinePatterns.length>0||i())&&p$(e,t)}};e.on(`keyup`,e=>{g$(n,e)&&a()}),e.on(`keypress`,n=>{_$(t,n)&&Sy.setEditorTimeout(e,a)})},y$=e=>{v$(e)},b$=e=>{let t=U.each,n=$.BACKSPACE,r=$.DELETE,i=e.dom,a=e.selection,o=e.parser,s=Zn.browser,c=s.isFirefox(),l=s.isChromium()||s.isSafari(),u=Zn.deviceType.isiPhone()||Zn.deviceType.isiPad(),d=Zn.os.isMacOS()||Zn.os.isiOS(),f=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},p=e=>e.isDefaultPrevented(),m=()=>{let t=e=>{let t=i.create(`body`),n=e.cloneContents();return t.appendChild(n),a.serializer.serialize(t,{format:`html`})},o=n=>{let r=t(n),a=i.createRng();return a.selectNode(e.getBody()),r===t(a)};e.on(`keydown`,t=>{let a=t.keyCode;if(!p(t)&&(a===r||a===n)&&e.selection.isEditable()){let n=e.selection.isCollapsed(),r=e.getBody();if(n&&!Ps(e.schema,r)||!n&&!o(e.selection.getRng()))return;t.preventDefault(),e.setContent(``),r.firstChild&&i.isBlock(r.firstChild)?e.selection.setCursorLocation(r.firstChild,0):e.selection.setCursorLocation(r,0),e.nodeChanged()}})},h=()=>{e.shortcuts.add(`meta+a`,null,`SelectAll`)},g=()=>{e.inline||i.bind(e.getDoc(),`mousedown mouseup`,t=>{let n;if(t.target===e.getDoc().documentElement)if(n=a.getRng(),e.getDoc().getSelection()?.anchorNode!==null&&e.getBody().focus(),t.type===`mousedown`){if(qu(n.startContainer))return;a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(n)})},_=()=>{e.on(`keydown`,t=>{if(!p(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName(`hr`).length)return;if(a.isCollapsed()&&a.getRng().startOffset===0){let e=a.getNode(),n=e.previousSibling;if(e.nodeName===`HR`){i.remove(e),t.preventDefault();return}n&&n.nodeName&&n.nodeName.toLowerCase()===`hr`&&(i.remove(n),t.preventDefault())}}})},v=()=>{Range.prototype.getClientRects||e.on(`mousedown`,t=>{if(!p(t)&&t.target.nodeName===`HTML`){let t=e.getBody();t.blur(),Sy.setEditorTimeout(e,()=>{t.focus()})}})},y=()=>{let t=Hm(e);e.on(`click`,n=>{let r=n.target;/^(IMG|HR)$/.test(r.nodeName)&&i.isEditable(r)&&(n.preventDefault(),e.selection.select(r),e.nodeChanged()),r.nodeName===`A`&&i.hasClass(r,t)&&r.childNodes.length===0&&i.isEditable(r.parentNode)&&(n.preventDefault(),a.select(r))})},b=()=>{let t=t=>t.nodeName===`IMG`&&e.dom.isEditable(t);e.on(`mousedown`,n=>{_t(P.from(n.clientX),P.from(n.clientY),(r,i)=>{let a=e.getDoc().caretPositionFromPoint(r,i),o=a?.offsetNode?.childNodes[a.offset-(a.offset>0?1:0)]||a?.offsetNode;if(C(o)&&t(o)){let t=o.getBoundingClientRect();n.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(o),n.clientX<t.left||n.clientY<t.top?e.selection.collapse(!0):(n.clientX>t.right||n.clientY>t.bottom)&&e.selection.collapse(!1)}})})},x=()=>{let n=()=>{let n=i.getAttribs(a.getStart().cloneNode(!1));return()=>{let r=a.getStart();r!==e.getBody()&&(i.setAttrib(r,`style`,null),t(n,e=>{r.setAttributeNode(e.cloneNode(!0))}))}},r=()=>!a.isCollapsed()&&i.getParent(a.getStart(),i.isBlock)!==i.getParent(a.getEnd(),i.isBlock);e.on(`keypress`,t=>{let i;return!p(t)&&(t.keyCode===8||t.keyCode===46)&&r()?(i=n(),e.getDoc().execCommand(`delete`,!1),i(),t.preventDefault(),!1):!0}),i.bind(e.getDoc(),`cut`,t=>{if(!p(t)&&r()){let t=n();Sy.setEditorTimeout(e,()=>{t()})}})},S=()=>{e.on(`keydown`,e=>{if(!p(e)&&e.keyCode===n&&a.isCollapsed()&&a.getRng().startOffset===0){let t=a.getNode().previousSibling;if(t&&t.nodeName&&t.nodeName.toLowerCase()===`table`)return e.preventDefault(),!1}return!0})},ee=()=>{e.on(`keydown`,t=>{if(p(t)||t.keyCode!==$.BACKSPACE)return;let n=a.getRng(),r=n.startContainer,o=n.startOffset,s=i.getRoot(),c=r;if(!(!n.collapsed||o!==0)){for(;c.parentNode&&c.parentNode.firstChild===c&&c.parentNode!==s;)c=c.parentNode;c.nodeName===`BLOCKQUOTE`&&(e.formatter.toggle(`blockquote`,void 0,c),n=i.createRng(),n.setStart(r,0),n.setEnd(r,0),a.setRng(n))}})},te=()=>{let t=Fr(`figcaption`);e.on(`keydown`,n=>{if(n.keyCode===$.LEFT||n.keyCode===$.RIGHT){let r=W.fromDom(e.selection.getNode());t(r)&&e.selection.isCollapsed()&&Br(r).bind(t=>e.selection.getRng().startOffset===0&&n.keyCode===$.LEFT?Wr(t):e.selection.getRng().endOffset===r.dom.textContent?.length&&n.keyCode===$.RIGHT?Gr(t):P.none()).each(t=>{e.selection.setCursorLocation(t.dom,0)})}})},ne=()=>{Pm(e)||e.on(`BeforeExecCommand mousedown`,()=>{f(`StyleWithCSS`,!1),f(`enableInlineTableEditing`,!1),fm(e)||f(`enableObjectResizing`,!1)})},w=()=>{let n=()=>{t(i.select(`a:not([data-mce-block])`),e=>{let t=e.parentNode,n=i.getRoot();if(t?.lastChild===e){for(;t&&!i.isBlock(t);){if(t.parentNode?.lastChild!==t||t===n)return;t=t.parentNode}i.add(t,`br`,{"data-mce-bogus":1})}})};e.on(`SetContent ExecCommand`,e=>{(e.type===`setcontent`||e.command===`mceInsertLink`)&&n()})},re=()=>{e.on(`init`,()=>{f(`DefaultParagraphSeparator`,Rp(e))})},T=e=>{let t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&n.startOffset===0&&n.endOffset===t.childNodes.length},ie=()=>{e.on(`keyup focusin mouseup`,t=>{!$.modifierPressed(t)&&!T(e)&&a.normalize()},!0)},D=()=>{e.contentStyles.push(`img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}`)},O=()=>{e.inline||e.on(`keydown`,()=>{document.activeElement===document.body&&e.getWin().focus()})},k=()=>{e.inline||(e.contentStyles.push(`body {min-height: 150px}`),e.on(`click`,t=>{let n;t.target.nodeName===`HTML`&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())}))},ae=()=>{d&&e.on(`keydown`,t=>{$.metaKeyPressed(t)&&!t.shiftKey&&(t.keyCode===37||t.keyCode===39)&&(t.preventDefault(),e.selection.getSel().modify(`move`,t.keyCode===37?`backward`:`forward`,`lineboundary`))})},A=()=>{e.on(`click`,e=>{let t=e.target;do if(t.tagName===`A`){e.preventDefault();return}while(t=t.parentNode)}),e.contentStyles.push(`.mce-content-body {-webkit-touch-callout: none}`)},oe=()=>{e.on(`init`,()=>{e.dom.bind(e.getBody(),`submit`,e=>{e.preventDefault()})})},j=()=>{o.addNodeFilter(`br`,e=>{let t=e.length;for(;t--;)e[t].attr(`class`)===`Apple-interchange-newline`&&e[t].remove()})},M=E;return kM(e)?(l&&(g(),y(),oe(),h(),u&&(O(),k(),A())),c&&(v(),ne(),D(),ae())):(ee(),m(),Zn.windowsPhone||ie(),l&&(g(),y(),re(),oe(),S(),j(),u?(O(),k(),A()):h()),c&&(te(),b(),_(),v(),x(),ne(),w(),D(),ae(),S())),{refreshContentEditable:M,isHidden:()=>{if(!c||e.removed)return!1;let t=e.selection.getSel();return!t||!t.rangeCount||t.rangeCount===0}}};class x$ extends Error{url;constructor(e,t){super(e),this.url=t}}let S$={},C$=(e,t,n)=>new Promise((r,i)=>{let a=W.fromTag(`script`);ji(a,{type:`text/javascript`,src:e,...n});let o=()=>{zi(a)};hi(a,`load`,()=>{o(),r()}),hi(a,`error`,()=>{o(),i(Error(`Failed to load script url: ${e}`))}),wi($r(t),a)}),w$=async(e,t)=>(await C$(e,t,Yl.ScriptLoader.getScriptAttributes(e)).catch(()=>Promise.reject(new x$(`Failed to load component url: ${e}`,e))),e),T$=e=>qe(e,(e,t)=>R(S$,e).getOrThunk(()=>{if(ne(window.customElements.get(t))){let t=w$(e,gi());return S$[e]=t,t}else return Promise.resolve(e)}).catch(t=>(delete S$[e],Promise.reject(t)))),E$=(e,t)=>he(Le(Je(e)),e=>w$(e,W.fromDom(t))),D$=e=>{let t=e.schema.getComponentUrls();return e.inline?T$(t):E$(t,e.getDoc())},O$=async e=>{let t=D$(e),n=L(await Promise.allSettled(t),e=>e.status===`rejected`);n.length>0&&I(n,t=>{if(t.reason instanceof x$){let{url:n}=t.reason;mP(e,n)}})},k$=e=>{O$(e)},A$=ql.DOM,j$=(e,t)=>{let n=ni(ti(W.fromDom(e.getBody()))),r=W.fromTag(`style`);Ai(r,`type`,`text/css`),wi(r,W.fromText(t)),wi(n,r),e.on(`remove`,()=>{zi(r)})},M$=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,N$=e=>Ke(e,e=>te(e)===!1),P$=e=>{let t=e.options.get,n=e.editorUpload.blobCache;return N$({allow_conditional_comments:t(`allow_conditional_comments`),allow_html_data_urls:t(`allow_html_data_urls`),allow_svg_data_urls:t(`allow_svg_data_urls`),allow_html_in_named_anchor:t(`allow_html_in_named_anchor`),allow_script_urls:t(`allow_script_urls`),allow_html_in_comments:t(`allow_html_in_comments`),allow_mathml_annotation_encodings:t(`allow_mathml_annotation_encodings`),allow_unsafe_link_target:t(`allow_unsafe_link_target`),convert_unsafe_embeds:t(`convert_unsafe_embeds`),convert_fonts_to_spans:t(`convert_fonts_to_spans`),extended_mathml_attributes:t(`extended_mathml_attributes`),extended_mathml_elements:t(`extended_mathml_elements`),fix_list_elements:t(`fix_list_elements`),font_size_legacy_values:t(`font_size_legacy_values`),forced_root_block:t(`forced_root_block`),forced_root_block_attrs:t(`forced_root_block_attrs`),preserve_cdata:t(`preserve_cdata`),inline_styles:t(`inline_styles`),root_name:M$(e),sandbox_iframes:t(`sandbox_iframes`),sandbox_iframes_exclusions:Eh(e),sanitize:t(`xss_sanitization`),validate:!0,blob_cache:n,document:e.getDoc()})},F$=e=>{let t=e.options.get;return N$({custom_elements:t(`custom_elements`),extended_valid_elements:t(`extended_valid_elements`),invalid_elements:t(`invalid_elements`),invalid_styles:t(`invalid_styles`),schema:t(`schema`),valid_children:t(`valid_children`),valid_classes:t(`valid_classes`),valid_elements:t(`valid_elements`),valid_styles:t(`valid_styles`),verify_html:t(`verify_html`),padd_empty_block_inline_children:t(`format_empty_lines`)})},I$=e=>{let t=e.options.get;return{...P$(e),...F$(e),...N$({remove_trailing_brs:t(`remove_trailing_brs`),pad_empty_with_br:t(`pad_empty_with_br`),url_converter:t(`url_converter`),url_converter_scope:t(`url_converter_scope`),element_format:t(`element_format`),entities:t(`entities`),entity_encoding:t(`entity_encoding`),indent:t(`indent`),indent_after:t(`indent_after`),indent_before:t(`indent_before`)})}},L$=e=>{let t=gk(P$(e),e.schema);return t.addAttributeFilter(`src,href,style,tabindex`,(t,n)=>{let r=e.dom,i=`data-mce-`+n,a=t.length;for(;a--;){let o=t[a],s=o.attr(n);if(s&&!o.attr(i)){if(s.indexOf(`data:`)===0||s.indexOf(`blob:`)===0)continue;n===`style`?(s=r.serializeStyle(r.parseStyle(s),o.name),s.length||(s=null),o.attr(i,s),o.attr(n,s)):n===`tabindex`?(o.attr(i,s),o.attr(n,null)):o.attr(i,e.convertURL(s,n,o.name))}}}),t.addNodeFilter(`script`,e=>{let t=e.length;for(;t--;){let n=e[t],r=n.attr(`type`)||`no/type`;r.indexOf(`mce-`)!==0&&n.attr(`type`,`mce-`+r)}}),ph(e)&&t.addNodeFilter(`#cdata`,t=>{let n=t.length;for(;n--;){let r=t[n];r.type=8,r.name=`#comment`,r.value=`[CDATA[`+e.dom.encode(r.value??``)+`]]`}}),t.addNodeFilter(`p,h1,h2,h3,h4,h5,h6,div`,t=>{let n=t.length,r=e.schema.getNonEmptyElements();for(;n--;){let e=t[n];e.isEmpty(r)&&e.getAll(`br`).length===0&&e.append(new ax(`br`,1))}}),t},R$=e=>{let t=qm(e);t&&Sy.setEditorTimeout(e,()=>{let n;n=t===!0?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},z$=e=>{let t=e.dom.getRoot();!e.inline&&(!q_(e)||e.selection.getStart(!0)===t)&&r_(t).each(t=>{let n=t.getNode(),r=ns(n)?r_(n).getOr(t):t;e.selection.setRng(r.toRange())})},B$=e=>{e.bindPendingEventDelegates(),e.initialized=!0,ip(e),e.focus(!0),z$(e),e.nodeChanged({initial:!0});let t=Gm(e);w(t)&&t.call(e,e),R$(e),UP(e)&&qP(e,!0)},V$=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,H$=(e,t,n)=>{let{pass:r,fail:i}=_e(t,e=>tinymce.Resource.has(iF(e))),a=[...r.map(t=>{let n=tinymce.Resource.get(iF(t));return v(n)?Promise.resolve(V$(e).loadRawCss(t,n)):Promise.resolve()}),V$(e).loadAll(i)];return e.inline?a:a.concat([e.ui.styleSheetLoader.loadAll(n)])},U$=e=>{let t=V$(e),n=lm(e),r=e.contentCSS,i=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},a=()=>{e.removed?i():e.on(`remove`,i)};if(e.contentStyles.length>0){let t=``;U.each(e.contentStyles,e=>{t+=e+`\r
`}),e.dom.addStyle(t)}let o=Promise.all(H$(e,r,n)).then(a).catch(a),s=cm(e);return s&&j$(e,s),o},W$=e=>{let t=e.getDoc(),n=e.getBody();np(e),Jm(e)||(t.body.spellcheck=!1,A$.setAttrib(n,`spellcheck`,`false`)),e.quirks=b$(e),rp(e);let r=um(e);r!==void 0&&(n.dir=r);let i=Ym(e);i&&e.on(`BeforeSetContent`,e=>{U.each(i,t=>{e.content=e.content.replace(t,e=>`<!--mce:protected `+escape(e)+`-->`)})}),e.on(`SetContent`,()=>{e.addVisual(e.getBody())}),e.on(`compositionstart compositionend`,t=>{e.composing=t.type===`compositionstart`})},G$=e=>{kM(e)||e.load({initial:!0,format:`html`}),e.startContent=e.getContent({format:`raw`})},K$=e=>{e.removed!==!0&&(G$(e),B$(e))},q$=e=>{let t=!1,n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},J$=e=>{let t=e.getElement(),n=e.getDoc();e.inline&&(A$.addClass(t,`mce-content-body`),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);let r=e.getBody();r.disabled=!0,e.readonly=Pm(e),e._editableRoot=Fm(e),!kh(e)&&e.hasEditableRoot()&&(e.inline&&A$.getStyle(r,`position`,!0)===`static`&&(r.style.position=`relative`),r.contentEditable=`true`),r.disabled=!1,e.editorUpload=CF(e),e.schema=ul(F$(e)),e.dom=ql(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:em(e),referrerPolicy:tm(e),crossOrigin:nm(e),onSetAttrib:t=>{e.dispatch(`SetAttrib`,t)}}),e.parser=L$(e),e.serializer=TN(I$(e),e),e.selection=dN(e.dom,e.getWin(),e.serializer,e),e.annotator=ry(e),e.formatter=LF(e),e.undoManager=VF(e),e._nodeChangeDispatcher=new kY(e),e._selectionOverrides=SQ(e),OY(e),AH(e),sZ(e),UH(e),kM(e)||(vZ(e),y$(e));let i=_Y(e);DH(e,i),RH(e),YF(e),iZ(e,i);let a=jM(e);W$(e),k$(e),a.fold(()=>{let t=q$(e);U$(e).then(()=>{K$(e),t()})},t=>{e.setProgressState(!0),U$(e).then(()=>{t().then(t=>{e.setProgressState(!1),K$(e),aN(e)},t=>{e.notificationManager.open({type:`error`,text:String(t)}),K$(e),aN(e)})})})},Y$=ql.DOM,X$=(e,t,n,r)=>{let i=W.fromTag(`iframe`);return r.each(e=>Ai(i,`tabindex`,e)),ji(i,n),ji(i,{id:e+`_ifr`,frameBorder:`0`,allowTransparency:`true`,...Zn.browser.isFirefox()?{title:t}:{}}),Ha(i,`tox-edit-area__iframe`),i},Z$=e=>{let t=Mp(e)+`<html><head>`;Np(e)!==e.editorManager.documentBaseURL&&(t+=`<base href="`+e.documentBaseURI.getURI()+`" />`),t+=`<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />`;let n=Pp(e),r=Fp(e),i=e.translate(Um(e)),a=Zn.browser.isFirefox()?``:`aria-label="${i}"`;return Ip(e)&&(t+=`<meta http-equiv="Content-Security-Policy" content="`+Ip(e)+`" />`),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" ${a}><br></body></html>`,t},Q$=(e,t)=>{let n=Um(e),r=e.translate(n),i=Ni(W.fromDom(e.getElement()),`tabindex`).bind(zt),a=X$(e.id,r,jp(e),i).dom;a.onload=()=>{a.onload=null,e.dispatch(`load`)},e.contentAreaContainer=t.iframeContainer,e.iframeElement=a,e.iframeHTML=Z$(e),Y$.add(t.iframeContainer,a)},$$=e=>{let t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,J$(e)};if(gh(e)||Zn.browser.isFirefox()){let t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close(),n()}else{let r=hi(W.fromDom(t),`load`,()=>{r.unbind(),n()});t.srcdoc=e.iframeHTML}},e1=(e,t)=>{Q$(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=Y$.isHidden(t.editorContainer)),e.getElement().style.display=`none`,Y$.setAttrib(e.id,`aria-hidden`,`true`),e.getElement().style.visibility=e.orgVisibility,$$(e)},t1=ql.DOM,n1=(e,t,n)=>{let r=$N.get(n),i=$N.urls[n]||e.editorManager.documentBaseURL.replace(/\/$/,``);if(n=U.trim(n),r&&U.inArray(t,n)===-1){if(e.plugins[n])return;try{let a=r(e,i)||{};e.plugins[n]=a,w(a.init)&&(a.init(e,i),t.push(n))}catch(t){hP(e,n,t)}}},r1=e=>{let t=t=>{t.keyCode===$.ESC&&!t.defaultPrevented&&Sp(e).isDefaultPrevented()&&t.preventDefault()};document.addEventListener(`keyup`,t),e.inline||e.on(`keyup`,t),e.on(`remove`,()=>{document.removeEventListener(`keyup`,t),e.inline||e.off(`keyup`,t)})},i1=e=>e.replace(/^\-/,``),a1=e=>{let t=[];I(Lm(e),n=>{n1(e,t,i1(n))})},o1=e=>{let t=U.trim(Jp(e)),n=e.ui.registry.getAll().icons;Be({...LN.get(`default`).icons,...LN.get(t).icons},(t,r)=>{Ye(n,r)||e.ui.registry.addIcon(r,t)})},s1=e=>{let t=_m(e);v(t)?(e.theme=eP.get(t)(e,eP.urls[t])||{},w(e.theme.init)&&e.theme.init(e,eP.urls[t]||e.editorManager.documentBaseURL.replace(/\/$/,``))):e.theme={}},c1=e=>{let t=ym(e);e.model=RN.get(t)(e,RN.urls[t])},l1=e=>{FP.init(e)},u1=e=>{let t=e.theme.renderUI;return t?t():m1(e)},d1=e=>{let t=e.getElement(),n=_m(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+`_parent`),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+`_iframecontainer`),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n},f1=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),p1=e=>{let t=t1.create(`div`);return t1.insertAfter(t,e),f1(t,t)},m1=e=>{let t=e.getElement();return e.inline?f1(null):p1(t)},h1=e=>(e.orgDisplay=e.getElement().style.display,v(_m(e))?u1(e):w(_m(e))?d1(e):m1(e)),g1=(e,t)=>{let n={show:P.from(t.show).getOr(E),hide:P.from(t.hide).getOr(E),isEnabled:P.from(t.isEnabled).getOr(ce),setEnabled:n=>{n&&(e.mode.get()===`readonly`||UP(e))||P.from(t.setEnabled).each(e=>e(n))}};e.ui={...e.ui,...n}},_1=async e=>{e.dispatch(`ScriptsLoaded`),o1(e),r1(e),s1(e),c1(e),l1(e),a1(e);let t=await h1(e);g1(e,P.from(t.api).getOr({})),e.editorContainer=t.editorContainer,lF(e),e.inline?J$(e):e1(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},v1=ql.DOM,y1=e=>e.charAt(0)===`-`,b1=(e,t)=>{let n=rm(t),r=im(t);if(!tu.hasCode(n)&&n!==`en`){let i=It(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(i).catch(()=>{uP(t,i,n)})}},x1=(e,t)=>{let n=_m(e);if(v(n)&&!y1(n)&&!Ye(eP.urls,n)){let r=vm(e),i=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;eP.load(n,i).catch(()=>{dP(e,i,n)})}},S1=(e,t)=>{let n=ym(e);if(n!==`plugin`&&!Ye(RN.urls,n)){let r=bm(e),i=v(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;RN.load(n,i).catch(()=>{fP(e,i,n)})}},C1=(e,t)=>{FP.load(e,t)},w1=e=>P.from(Yp(e)).filter(It).map(e=>({url:e,name:P.none()})),T1=(e,t,n)=>P.from(t).filter(e=>It(e)&&!LN.has(e)).map(t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:P.some(t)})),E1=(e,t,n)=>{I(gt([T1(t,`default`,n),w1(t).orThunk(()=>T1(t,Jp(t),``))]),n=>{e.add(n.url).catch(()=>{lP(t,n.url,n.name.getOrUndefined())})})},D1=(e,t)=>{let n=(t,n)=>{t!==`licensekeymanager`&&$N.load(t,n).catch(()=>{cP(e,n,t)})};Be(Rm(e),(t,r)=>{n(r,t),e.options.set(`plugins`,Lm(e).concat(r))}),I(Lm(e),e=>{e=U.trim(e),e&&!$N.urls[e]&&!y1(e)&&n(e,`plugins/${e}/plugin${t}.js`)})},O1=e=>{let t=_m(e);return!v(t)||C(eP.get(t))},k1=e=>{let t=ym(e);return C(RN.get(t))},A1=(e,t)=>{let n=Yl.ScriptLoader,r=()=>{!e.removed&&O1(e)&&k1(e)&&_1(e)};x1(e,t),S1(e,t),C1(e,t),b1(n,e),E1(n,e,t),D1(e,t),n.loadQueue().then(r,r)},j1=(e,t)=>mc.forElement(e,{contentCssCors:Im(t),referrerPolicy:tm(t)}),M1=e=>{let t=e.id;tu.setCode(rm(e));let n=()=>{v1.unbind(window,`ready`,n),e.render()};if(!Il.Event.domLoaded){v1.bind(window,`ready`,n);return}if(!e.getElement())return;let r=W.fromDom(e.getElement()),i=Li(r);e.on(`remove`,()=>{ge(r.dom.attributes,e=>Fi(r,e.name)),ji(r,i)}),e.ui.styleSheetLoader=j1(r,e),Dm(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility=`hidden`);let a=e.getElement().form||v1.getParent(t,`form`);a&&(e.formElement=a,Om(e)&&!is(e.getElement())&&(v1.insertAfter(v1.create(`input`,{type:`hidden`,name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},v1.bind(a,`submit reset`,e.formEventDelegate),e.on(`reset`,()=>{e.resetContent()}),km(e)&&!a.submit.nodeType&&!a.submit.length&&!a._mceOldSubmit&&(a._mceOldSubmit=a.submit,a.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)))),e.windowManager=nP(e),e.notificationManager=QN(e),bh(e)&&e.on(`GetContent`,e=>{e.save&&(e.content=v1.encode(e.content))}),Am(e)&&e.on(`submit`,()=>{e.initialized&&e.save()}),jm(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:`raw`,no_events:!0,set_dirty:!1})},e.editorManager.on(`BeforeUnload`,e._beforeUnload)),e.editorManager.add(e),A1(e,e.suffix)},N1=`#E41B60.#AD1457.#1939EC.#001CB5.#648000.#465B00.#006CE7.#0054B4.#00838F.#006064.#00866F.#004D40.#51742F.#385021.#CF4900.#A84600.#CC0000.#6A1B9A.#9C27B0.#6A00AB.#3041BA.#0A1877.#774433.#452B24.#607D8B.#455A64`.split(`.`),P1=e=>Intl.Segmenter?`${new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value?.segment}`:e.trim()[0],F1=(e,t)=>{let n=5381;for(let t=0;t<e.length;t++)n=(n<<5)+n+e.charCodeAt(t);return(n>>>0)%(t+1)},I1=e=>N1[F1(e??``,N1.length-1)],L1=(e,t,n)=>{let r=n/2;return`<svg height="${n}" width="${n}" xmlns="http://www.w3.org/2000/svg"><circle cx="${r}" cy="${r}" r="${r}" fill="${t}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${r}">`+e+`</text></svg>`},R1=(e,t,n)=>`data:image/svg+xml,`+encodeURIComponent(L1(e,t,n)),z1=(e,t={size:36})=>R1(P1(e.name),I1(e.id),t.size),B1=bK([EK(`id`),MK(`name`),MK(`avatar`),AK(`custom`)]),V1=e=>{let t={};return Be(e,(e,n)=>{e.each(e=>{t[n]=e})}),t},H1=e=>{if(!Array.isArray(e))throw Error(`fetch_users must return an array`);let{errors:t,values:n}=St(he(e,e=>CK(`Invalid user object`,B1,e)));if(t.length>0){let e=he(t,(e,t)=>`User at index ${t}: ${wK(e)}`);console.warn(`User validation errors:
`+e.join(`
`))}return he(n,e=>{let{id:t,name:n,avatar:r,...i}=e;return{id:t,name:n.getOr(t),avatar:r.getOr(z1({id:t,name:n.getOr(t)})),...V1(i)}})},U1=e=>{let t=new Map,n=new Map,r=e=>P.from(t.get(e)),i=(e,n)=>{t.set(n,e)},a=(e,t)=>P.from(n.get(e)).each(({reject:r})=>{r(t),n.delete(e)}),o=(e,t)=>P.from(n.get(e)).each(({resolve:r})=>{r(t),n.delete(e)}),s=t=>{let s=jh(e);if(!Array.isArray(t))return{};if(!s)return Ae(t,e=>Promise.resolve({id:e,name:e,avatar:z1({id:e,name:e})}));let c=Le(L(t,e=>!r(e).isSome()));return I(c,e=>{i(new Promise((t,r)=>{n.set(e,{resolve:t,reject:r})}),e)}),c.length>0&&s(c).then(H1).then(e=>{let t=new Set(he(e,e=>e.id));I(e,e=>o(e.id,e)),I(c,e=>{t.has(e)||a(e,Error(`User ${e} not found`))})}).catch(e=>{I(c,t=>a(t,e instanceof Error?e:Error(`Network error`)))}),be(t,(e,t)=>(e[t]=r(t).getOr(Promise.resolve({id:t,name:t,avatar:z1({id:t,name:t})})),e),{})},c=Ah(e);return Object.freeze({userId:c,fetchUsers:s})},W1=e=>U1(e),G1=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,UP(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),bp(e,t))},K1=e=>e._editableRoot,q1=(e,t)=>({sections:O(e),options:O(t)}),J1=zn().deviceType,Y1=J1.isPhone(),X1=J1.isTablet(),Z1=e=>ne(e)?[]:L(he(x(e)?e:e.split(/[ ,]/),Nt),It),Q1=(e,t)=>{let n=Ge(t,(t,n)=>pe(e,n));return q1(n.t,n.f)},$1=(e,t,n={})=>{let r=R(e.sections(),t).getOr({});return U.extend({},n,r)},e0=(e,t)=>Ye(e.sections(),t),t0=(e,t)=>e0(e,t)?e.sections()[t]:{},n0=(e,t)=>{let n={table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:R(e,`toolbar_mode`).getOr(`scrolling`),toolbar_sticky:!1},r={menubar:!1};return{...n,...t?r:{}}},r0=(e,t)=>{let n=t.external_plugins??{};return e&&e.external_plugins?U.extend({},e.external_plugins,n):n},i0=(e,t)=>[...Z1(e),...Z1(t)],a0=(e,t,n,r)=>e&&e0(t,`mobile`)?r:n,o0=(e,t,n,r)=>{let i=Z1(n.forced_plugins),a=Z1(r.plugins),o=t0(t,`mobile`),s=i0(i,a0(e,t,a,o.plugins?Z1(o.plugins):a));return U.extend(r,{forced_plugins:i,plugins:s})},s0=(e,t)=>e&&e0(t,`mobile`),c0=(e,t,n,r,i)=>{let a=Q1([`mobile`],ft(e?{mobile:n0(i.mobile??{},t)}:{},i));return o0(e,a,r,U.extend(n,r,a.options(),s0(e,a)?$1(a,`mobile`):{},{external_plugins:r0(r,a.options())}))},l0=(e,t)=>{let n=pt(t);return c0(Y1||X1,Y1,n,e,n)},u0=(e,t)=>iN(e,t),d0=e=>{let t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()},n=n=>()=>{I(`left,center,right,justify`.split(`,`),t=>{n!==t&&e.formatter.remove(`align`+t)}),n!==`none`&&t(`align`+n)};e.editorCommands.addCommands({JustifyLeft:n(`left`),JustifyCenter:n(`center`),JustifyRight:n(`right`),JustifyFull:n(`justify`),JustifyNone:n(`none`)})},f0=e=>{let t=t=>()=>{let n=e.selection;return me(n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks(),n=>C(e.formatter.matchNode(n,t)))};e.editorCommands.addCommands({JustifyLeft:t(`alignleft`),JustifyCenter:t(`aligncenter`),JustifyRight:t(`alignright`),JustifyFull:t(`alignjustify`)},`state`)},p0=e=>{d0(e),f0(e)},m0=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{let n=e.getDoc(),r;try{n.execCommand(t)}catch{r=!0}if(t===`paste`&&!n.queryCommandEnabled(t)&&(r=!0),r||!n.queryCommandSupported(t)){let t=e.translate(`Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.`);(Zn.os.isMacOS()||Zn.os.isiOS())&&(t=t.replace(/Ctrl\+/g,`⌘+`)),e.notificationManager.open({text:t,type:`error`})}}})},h0=(e,t,n,r)=>{let i=W.fromDom(e.getRoot());return n=PS(i,X.fromRangeStart(t),r)?n.replace(/^ /,`&nbsp;`):n.replace(/^&nbsp;/,` `),n=IS(i,X.fromRangeEnd(t),r)?n.replace(/(&nbsp;| )(<br( \/)>)?$/,`&nbsp;`):n.replace(/&nbsp;(<br( \/)?>)?$/,` `),n},g0=e=>{if(typeof e!=`string`){let t=U.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},_0=(e,t)=>{let n=e.selection,r=e.dom;return/^ | $/.test(t)?h0(r,n.getRng(),t,e.schema):t},v0=(e,t)=>{if(e.selection.isEditable()){let{content:n,details:r}=g0(t);Ck(e,{...r,content:_0(e,n),format:`html`,set:!1,selection:!0}).each(t=>{wk(e,nN(e,t.content,r),t),e.addVisual()})}},y0=e=>{e.editorCommands.addCommands({mceCleanup:()=>{let t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{v0(e,e.dom.createHTML(`img`,{src:r}))},insertHorizontalRule:()=>{e.execCommand(`mceInsertContent`,!1,`<hr>`)},insertText:(t,n,r)=>{v0(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{v0(e,r)},mceInsertContent:(t,n,r)=>{v0(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand(`mceInsertContent`,!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:`text`})))},mceNewDocument:()=>{e.setContent(eh(e))}})},b0={"font-size":`size`,"font-family":`face`},x0=Fr(`font`),S0=(e,t,n)=>{let r=t=>aa(t,e).orThunk(()=>x0(t)?R(b0,e).bind(e=>Ni(t,e)):P.none());return uo(W.fromDom(n),e=>r(e),e=>Sr(W.fromDom(t),e))},C0=e=>e.replace(/[\'\"\\]/g,``).replace(/,\s+/g,`,`),w0=(e,t)=>P.from(ql.DOM.getStyle(t,e,!0)),T0=e=>(t,n)=>P.from(n).map(W.fromDom).filter(jr).bind(n=>S0(e,t,n.dom).or(w0(e,n.dom))).getOr(``),E0=T0(`font-size`),D0=ie(C0,T0(`font-family`)),O0=e=>r_(e.getBody()).bind(e=>{let t=e.container();return P.from(q(t)?t.parentNode:t)}),k0=e=>P.from(e.selection.getRng()).bind(t=>{let n=e.getBody();return t.startContainer===n&&t.startOffset===0?P.none():P.from(e.selection.getStart(!0))}),A0=(e,t)=>k0(e).orThunk(A(O0,e)).map(W.fromDom).filter(jr).bind(t),j0=(e,t)=>A0(e,D(P.some,t)),M0=(e,t)=>{if(/^[0-9.]+$/.test(t)){let n=parseInt(t,10);if(n>=1&&n<=7){let r=vh(e),i=yh(e);return i.length>0?i[n-1]||t:r[n-1]||t}else return t}else return t},N0=e=>he(e.split(/\s*,\s*/),e=>e.indexOf(` `)!==-1&&!(At(e,`"`)||At(e,`'`))?`'${e}'`:e).join(`,`),P0=(e,t)=>{let n=M0(e,t);e.formatter.toggle(`fontname`,{value:N0(n)}),e.nodeChanged()},F0=e=>j0(e,t=>D0(e.getBody(),t.dom)).getOr(``),I0=(e,t)=>{e.formatter.toggle(`fontsize`,{value:M0(e,t)}),e.nodeChanged()},L0=e=>j0(e,t=>E0(e.getBody(),t.dom)).getOr(``),R0=e=>j0(e,t=>uo(t,e=>aa(e,`line-height`),A(Sr,W.fromDom(e.getBody()))).getOrThunk(()=>{let e=parseFloat(ra(t,`line-height`)),n=parseFloat(ra(t,`font-size`));return String(e/n)})).getOr(``),z0=(e,t)=>{e.formatter.toggle(`lineheight`,{value:String(t)}),e.nodeChanged()},B0=e=>{let t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,r)=>{t(e,{value:r})},BackColor:(e,n,r)=>{t(`hilitecolor`,{value:r})},FontName:(t,n,r)=>{P0(e,r)},FontSize:(t,n,r)=>{I0(e,r)},LineHeight:(t,n,r)=>{z0(e,r)},Lang:(e,n,r)=>{t(e,{value:r.code,customValue:r.customCode??null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t(`blockquote`)},FormatBlock:(e,n,r)=>{t(v(r)?r:`p`)},mceToggleFormat:(e,n,r)=>{t(r)}})},V0=e=>{let t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t(`blockquote`)},`state`),e.editorCommands.addQueryValueHandler(`FontName`,()=>F0(e)),e.editorCommands.addQueryValueHandler(`FontSize`,()=>L0(e)),e.editorCommands.addQueryValueHandler(`LineHeight`,()=>R0(e))},H0=e=>{B0(e),V0(e)},U0=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},W0=e=>{e.editorCommands.addCommands({Indent:()=>{yH(e)},Outdent:()=>{bH(e)}}),e.editorCommands.addCommands({Outdent:()=>pH(e),Indent:()=>mH(e)},`state`)},G0=e=>{let t=(t,n,r)=>{if(e.mode.isReadOnly())return;let i=v(r)?{href:r}:r,a=e.dom.getParent(e.selection.getNode(),`a`);y(i)&&v(i.href)&&(i.href=i.href.replace(/ /g,`%20`).replace(/&amp;/g,`&`),(!a||!i.href)&&e.formatter.remove(`link`),i.href&&e.formatter.apply(`link`,i,a))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){let t=e.dom.getParent(e.selection.getStart(),`a`);t&&e.dom.remove(t,!0);return}e.formatter.remove(`link`)}},mceInsertLink:t,createLink:t})},K0=(e,t,n,r)=>{let i=e.dom,a=e=>i.isBlock(e)&&e.parentElement===n,o=a(t)?t:i.getParent(r,a,n);return P.from(o).map(W.fromDom)},q0=(e,t)=>{if(e.mode.isReadOnly())return;let n=e.dom,r=e.selection.getRng(),i=t?e.selection.getStart():e.selection.getEnd(),a=t?r.startContainer:r.endContainer,o=Eq(n,a);if(!o||!o.isContentEditable)return;let s=t?xi:Si,c=Rp(e);K0(e,i,o,a).each(t=>{let n=Nq(e,a,t.dom,o,!1,c);s(t,W.fromDom(n)),e.selection.setCursorLocation(n,0),e.dispatch(`NewBlock`,{newBlock:n}),mq(e,`insertParagraph`)})},J0=e=>q0(e,!0),Y0=e=>q0(e,!1),X0=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{J0(e)},InsertNewBlockAfter:()=>{Y0(e)}})},Z0=e=>{e.editorCommands.addCommands({insertParagraph:()=>{LJ(sJ,e)},mceInsertNewLine:(t,n,r)=>{RJ(e,r)},InsertLineBreak:(t,n,r)=>{LJ(yJ,e)}})},Q0=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let i=0;e.dom.getParent(e.selection.getNode(),t=>qo(t)&&i++===r?(e.selection.select(t),!1):!0,e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{let t=e.dom.getParent(e.selection.getStart(),ps);if(t){let n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},$0=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{let i=r??e.selection.getNode();if(i!==e.getBody()){let t=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{Zy(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},e2=e=>{p0(e),m0(e),U0(e),Q0(e),y0(e),G0(e),W0(e),X0(e),Z0(e),H0(e),$0(e)},t2=[`toggleview`],n2=e=>pe(t2,e.toLowerCase());class r2{editor;commands={state:{},exec:{},value:{}};constructor(e){this.editor=e}execCommand(e,t=!1,n,r){let i=this.editor,a=e.toLowerCase(),o=r?.skip_focus;if(i.removed||(a!==`mcefocus`&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(a)&&!o?i.focus():vy(i)),i.dispatch(`BeforeExecCommand`,{command:e,ui:t,value:n}).isDefaultPrevented()))return!1;let s=this.commands.exec[a];return w(s)?(s(a,t,n,r),i.dispatch(`ExecCommand`,{command:e,ui:t,value:n,args:r}),!0):!1}queryCommandState(e){if(!n2(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;let t=e.toLowerCase(),n=this.commands.state[t];return w(n)?n(t):!1}queryCommandValue(e){if(!n2(e)&&this.editor.quirks.isHidden()||this.editor.removed)return``;let t=e.toLowerCase(),n=this.commands.value[t];return w(n)?n(t):``}addCommands(e,t=`exec`){let n=this.commands;Be(e,(e,r)=>{I(r.toLowerCase().split(`,`),r=>{n[t][r]=e})})}addCommand(e,t,n){let r=e.toLowerCase();this.commands.exec[r]=(e,r,i,a)=>t.call(n??this.editor,r,i,a)}queryCommandSupported(e){let t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(n??this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(n??this.editor)}}let i2=U.makeMap(`focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel`,` `);class a2{static isNative(e){return!!i2[e.toLowerCase()]}settings;scope;toggleEvent;bindings={};constructor(e){this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||N}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){let n=e.toLowerCase(),r=kl(n,t??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);let i=this.bindings[n];if(i)for(let e=0,t=i.length;e<t;e++){let t=i[e];if(!t.removed){if(t.once&&this.off(n,t.func),r.isImmediatePropagationStopped())return r;if(t.func.call(this.scope,r)===!1)return r.preventDefault(),r}}return r}on(e,t,n,r){if(t===!1&&(t=N),t){let i={func:t,removed:!1};r&&U.extend(i,r);let a=e.toLowerCase().split(` `),o=a.length;for(;o--;){let e=a[o],t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[i,...t]:[...t,i],this.bindings[e]=t}}return this}off(e,t){if(e){let n=e.toLowerCase().split(` `),r=n.length;for(;r--;){let i=n[r],a=this.bindings[i];if(!i)return Be(this.bindings,(e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]}),this;if(a){if(!t)a.length=0;else{let e=_e(a,e=>e.func===t);a=e.fail,this.bindings[i]=a,I(e.pass,e=>{e.removed=!0})}a.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}}else Be(this.bindings,(e,t)=>{this.toggleEvent(t,!1)}),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();let t=this.bindings[e];return!(!t||t.length===0)}}let o2=e=>(e._eventDispatcher||=new a2({scope:e,toggleEvent:(t,n)=>{a2.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}}),e._eventDispatcher),s2={fire(e,t,n){return Bk(`fire`),this.dispatch(e,t,n)},dispatch(e,t,n){let r=this;if(r.removed&&e!==`remove`&&e!==`detach`)return kl(e.toLowerCase(),t??{},r);let i=o2(r).dispatch(e,t);if(n!==!1&&r.parent){let t=r.parent();for(;t&&!i.isPropagationStopped();)t.dispatch(e,i,!1),t=t.parent?t.parent():void 0}return i},on(e,t,n){return o2(this).on(e,t,n)},off(e,t){return o2(this).off(e,t)},once(e,t){return o2(this).once(e,t)},hasEventListeners(e){return o2(this).has(e)}},c2=ql.DOM,l2,u2=(e,t)=>{if(t===`selectionchange`)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;let n=hm(e);return n?(e.eventRoot||=c2.select(n)[0],e.eventRoot):e.getBody()},d2=e=>!e.hidden&&!UP(e),f2=(e,t,n)=>{d2(e)?e.dispatch(t,n):UP(e)&&eF(e,n)},p2=(e,t)=>{if(e.delegates||={},e.delegates[t]||e.removed)return;let n=u2(e,t);if(hm(e)){if(l2||(l2={},e.editorManager.on(`removeEditor`,()=>{e.editorManager.activeEditor||(l2&&=(Be(l2,(t,n)=>{e.dom.unbind(u2(e,n))}),null))})),l2[t])return;let r=n=>{let r=n.target,i=e.editorManager.get(),a=i.length;for(;a--;){let e=i[a].getBody();(e===r||c2.isChildOf(r,e))&&f2(i[a],t,n)}};l2[t]=r,c2.bind(n,t,r)}else{let r=n=>{f2(e,t,n)};c2.bind(n,t,r),e.delegates[t]=r}},m2={...s2,bindPendingEventDelegates(){let e=this;U.each(e._pendingNativeEvents,t=>{p2(e,t)})},toggleNativeEvent(e,t){let n=this;e===`focus`||e===`blur`||n.removed||(t?n.initialized?p2(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(u2(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){let e=this,t=e.getBody(),n=e.dom;e.delegates&&(Be(e.delegates,(t,n)=>{e.dom.unbind(u2(e,n),n,t)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},h2=e=>v(e)?{value:e.split(/[ ,]/),valid:!0}:T(e,v)?{value:e,valid:!0}:{valid:!1,message:`The value must be a string[] or a comma/space separated string.`},g2=e=>{let t=(()=>{switch(e){case`array`:return x;case`boolean`:return ee;case`function`:return w;case`number`:return re;case`object`:return y;case`string`:return v;case`string[]`:return h2;case`object[]`:return e=>T(e,y);case`regexp`:return e=>_(e,RegExp);default:return ce}})();return n=>b2(n,t,`The value must be a ${e}.`)},_2=e=>v(e.processor),v2=(e,t)=>e+(Lt(t.message)?``:`. ${t.message}`),y2=e=>e.valid,b2=(e,t,n=``)=>{let r=t(e);return ee(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},x2=(e,t,n)=>{if(!te(t)){let r=b2(t,n);if(y2(r))return r.value;console.error(v2(`Invalid default value passed for the "${e}" option`,r))}},S2=(e,t,n=t)=>{let r={},i={},a=(e,t,n)=>{let r=b2(t,n);return y2(r)?(i[e]=r.value,!0):(console.warn(v2(`Invalid value passed for the ${e} option`,r)),!1)},o=(e,n)=>{let o=_2(n)?g2(n.processor):n.processor,s=x2(e,n.default,o);r[e]={...n,default:s,processor:o},R(i,e).orThunk(()=>R(t,e)).each(t=>a(e,t,o))},s=e=>Ye(r,e);return{register:o,isRegistered:s,get:e=>R(i,e).orThunk(()=>R(r,e).map(e=>e.default)).getOrUndefined(),set:(e,t)=>{if(s(e)){let n=r[e];return n.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):a(e,t,n.processor)}else return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{let t=s(e);return t&&delete i[e],t},isSet:e=>Ye(i,e),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(e,t)=>ee(t)||re(t)||v(t)||S(t)||x(t)||b(t)?t:Object.prototype.toString.call(t))))}catch(e){console.error(e)}}}},C2=(e,t)=>{e.dom.contentEditable=t?`true`:`false`},w2=(e,t)=>{let n=W.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&C2(n,!0),VP(e)):(e.readonly=!1,HP(e))},T2=e=>e.readonly,E2=e=>{C(e.undoManager.add())&&(e.undoManager.undo(),e.undoManager.reset())},D2=e=>me(e,e=>e.type===`characterData`||e.type===`childList`),O2=e=>{let t=t=>{T2(e)&&D2(t)&&E2(e)},n=new MutationObserver(t);e.on(`beforeinput paste cut dragend dragover draggesture dragdrop drop drag`,t=>{T2(e)&&t.preventDefault()}),e.on(`BeforeExecCommand`,t=>{(t.command===`Undo`||t.command===`Redo`)&&T2(e)&&t.preventDefault()}),e.on(`compositionstart`,()=>{T2(e)&&n.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on(`compositionend`,()=>{T2(e)&&t(n.takeRecords()),n.disconnect()})},k2=[`design`,`readonly`],A2=(e,t,n,r)=>{let i=n[t.get()],a=n[r];try{a.activate()}catch(e){console.error(`problem while activating editor mode ${r}:`,e);return}i.deactivate(),i.editorReadOnly!==a.editorReadOnly&&w2(e,a.editorReadOnly),t.set(r),$f(e,r)},j2=(e,t,n,r)=>{if(!(r===n.get()||e.initialized&&UP(e))){if(!Ye(t,r))throw Error(`Editor mode '${r}' is invalid`);e.initialized?A2(e,n,t,r):e.on(`init`,()=>A2(e,n,t,r))}},M2=(e,t,n)=>{if(pe(k2,t))throw Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}},N2=e=>{let t=B(`design`),n=B({design:{activate:E,deactivate:E,editorReadOnly:!1},readonly:{activate:E,deactivate:E,editorReadOnly:!0}});return O2(e),nF(e),{isReadOnly:()=>T2(e),set:r=>j2(e,n.get(),t,r),get:()=>t.get(),register:(e,t)=>{n.set(M2(n.get(),e,t))}}},P2=U.each,F2=U.explode,I2={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},L2=U.makeMap(`alt,ctrl,shift,meta,access`),R2=e=>e in L2,z2=e=>{let t={},n=Zn.os.isMacOS()||Zn.os.isiOS();P2(F2(e.toLowerCase(),`+`),e=>{R2(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=I2[e]||e.toUpperCase().charCodeAt(0))});let r=[t.keyCode],i;for(i in L2)t[i]?r.push(i):t[i]=!1;return t.id=r.join(`,`),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class B2{editor;shortcuts={};pendingPatterns=[];constructor(e){this.editor=e;let t=this;e.on(`keyup keypress keydown`,e=>{(t.hasModifier(e)||t.isFunctionKey(e))&&!e.isDefaultPrevented()&&(P2(t.shortcuts,n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),e.type===`keydown`&&t.executeShortcutAction(n))}),t.matchShortcut(e,t.pendingPatterns[0])&&(t.pendingPatterns.length===1&&e.type===`keydown`&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}add(e,t,n,r){let i=this,a=i.normalizeCommandFunc(n);return P2(F2(U.trim(e)),e=>{let n=i.createShortcut(e,t,a,r);i.shortcuts[n.id]=n}),!0}remove(e){let t=this.createShortcut(e);return this.shortcuts[t.id]?(delete this.shortcuts[t.id],!0):!1}normalizeCommandFunc(e){let t=this,n=e;return typeof n==`string`?()=>{t.editor.execCommand(n,!1,null)}:U.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,r){let i=U.map(F2(e,`>`),z2);return i[i.length-1]=U.extend(i[i.length-1],{func:n,scope:r||this.editor}),U.extend(i[0],{desc:this.editor.translate(t),subpatterns:i.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return e.type===`keydown`&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!t||t.ctrl!==e.ctrlKey||t.meta!==e.metaKey||t.alt!==e.altKey||t.shift!==e.shiftKey?!1:e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode?(e.preventDefault(),!0):!1}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}let V2=()=>{let e=UK();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},H2=ql.DOM,U2=U.extend,W2=U.each;class G2{baseUri;id;editorUid;plugins={};documentBaseURI;baseURI;contentCSS=[];contentStyles=[];ui;mode;options;editorUpload;userLookup;shortcuts;loadedCSS={};editorCommands;suffix;editorManager;hidden;inline;hasVisual;isNotDirty=!1;annotator;bodyElement;bookmark;composing=!1;container;contentAreaContainer;contentDocument;contentWindow;delegates;destroyed=!1;dom;editorContainer;eventRoot;formatter;formElement;formEventDelegate;hasHiddenInput=!1;iframeElement=null;iframeHTML;initialized=!1;notificationManager;orgDisplay;orgVisibility;parser;quirks;readonly=!1;removed=!1;schema;selection;serializer;startContent=``;targetElm;theme;model;undoManager;windowManager;licenseKeyManager;_beforeUnload;_eventDispatcher;_nodeChangeDispatcher;_pendingNativeEvents=[];_selectionOverrides;_skinLoaded=!1;_editableRoot=!0;bindPendingEventDelegates;toggleNativeEvent;unbindAllNativeEvents;fire;dispatch;on;off;once;hasEventListeners;constructor(e,t,n){this.editorManager=n,U2(this,m2);let r=this;this.id=e,this.editorUid=ct(),this.hidden=!1;let i=l0(n.defaultOptions,t);this.options=S2(r,i,t),Ap(r),this.userLookup=W1(this);let a=this.options.get;a(`deprecation_warnings`)&&Rk(t,i);let o=a(`suffix`);o&&(n.suffix=o),this.suffix=n.suffix;let s=a(`base_url`);s&&n._setBaseUrl(s),this.baseUri=n.baseURI;let c=tm(r);c&&(Yl.ScriptLoader._setReferrerPolicy(c),ql.DOM.styleSheetLoader._setReferrerPolicy(c)),Yl.ScriptLoader._setCrossOrigin(e=>nm(r)(e,`script`)),ql.DOM.styleSheetLoader._setCrossOrigin(e=>nm(r)(e,`stylesheet`));let l=Im(r);C(l)&&ql.DOM.styleSheetLoader._setContentCssCors(l),nu.languageLoad=a(`language_load`),nu.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new KO(Np(r),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Dm(r),this.hasVisual=Bm(r),this.shortcuts=new B2(this),this.editorCommands=new r2(this),e2(this);let u=a(`cache_suffix`);u&&(Zn.cacheSuffix=u.replace(/^[\?\&]+/,``)),this.ui={registry:V2(),styleSheetLoader:void 0,show:E,hide:E,setEnabled:E,isEnabled:ce},this.mode=N2(r),Object.defineProperty(this,`editorUid`,{writable:!1,configurable:!1,enumerable:!0}),n.dispatch(`SetupEditor`,{editor:this});let d=Wm(r);w(d)&&d.call(r,r)}render(){M1(this)}focus(e){this.execCommand(`mceFocus`,!1,e)}hasFocus(){return qy(this)}translate(e){return tu.translate(e)}getParam(e,t,n){let r=this.options;return r.isRegistered(e)||(C(n)?r.register(e,{processor:n,default:t}):r.register(e,{processor:ce,default:t})),!r.isSet(e)&&!te(t)?t:r.get(e)}hasPlugin(e,t){return pe(Lm(this),e)?t?$N.get(e)!==void 0:!0:!1}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,r){this.shortcuts.add(e,t,n,r)}execCommand(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){let e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=`true`:(H2.show(e.getContainer()),H2.hide(e.id)),e.load(),e.dispatch(`show`))}hide(){let e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable=`false`,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(H2.hide(e.getContainer()),H2.setStyle(e.id,`display`,e.orgDisplay)),e.hidden=!0,e.dispatch(`hide`))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch(`ProgressState`,{state:e,time:t})}load(e={}){let t=this,n=t.getElement();if(!t.removed&&n){let r={...e,load:!0},i=is(n)?n.value:n.innerHTML;t.setContent(i,r),r.no_events||t.dispatch(`LoadContent`,{...r,element:n})}}save(e={}){let t=this,n=t.getElement();if(!n||!t.initialized||t.removed)return``;let r={...e,save:!0,element:n},i=t.getContent(r),a={...r,content:i};if(a.no_events||t.dispatch(`SaveContent`,a),a.format===`raw`&&t.dispatch(`RawSaveContent`,a),i=a.content,is(n))n.value=i;else{(e.is_removing||!t.inline)&&(n.innerHTML=i);let r=H2.getParent(t.id,`form`);r&&W2(r.elements,e=>e.name===t.id?(e.value=i,!1):!0)}return a.element=r.element=n=null,a.set_dirty!==!1&&t.setDirty(!1),i}setContent(e,t){kN(this,e,t)}getContent(e){return DN(this,e)}insertContent(e,t){t&&(e=U2({content:e},t)),this.execCommand(`mceInsertContent`,!1,e)}resetContent(e){e===void 0?kN(this,this.startContent,{initial:!0,format:`raw`}):kN(this,e,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){let t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch(`dirty`)}getContainer(){let e=this;return e.container||=e.editorContainer||H2.get(e.id+`_parent`),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||=H2.get(this.id),this.targetElm}getWin(){let e=this;if(!e.contentWindow){let t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){let e=this;if(!e.contentDocument){let t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){let e=this.getDoc();return this.bodyElement??e?.body??null}convertURL(e,t,n){let r=this,i=r.options.get,a=Km(r);if(w(a))return a.call(r,e,n,!0,t);if(!i(`convert_urls`)||n===`link`||y(n)&&n.nodeName===`LINK`||e.indexOf(`file:`)===0||e.length===0)return e;let o=new KO(e);return o.protocol!==`http`&&o.protocol!==`https`&&o.protocol!==``?e:i(`relative_urls`)?r.documentBaseURI.toRelative(e):(e=r.documentBaseURI.toAbsolute(e,i(`remove_script_host`)),e)}addVisual(e){u0(this,e)}setEditableRoot(e){G1(this,e)}hasEditableRoot(){return K1(this)}remove(){FN(this)}destroy(e){IN(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}let K2=ql.DOM,q2=U.each,J2=!1,Y2,X2=[],Z2=e=>{let t=e.type;q2(n4.get(),n=>{switch(t){case`scroll`:n.dispatch(`ScrollWindow`,e);break;case`resize`:n.dispatch(`ResizeWindow`,e);break}})},Q2=e=>{if(e!==J2){let t=ql.DOM;e?(t.bind(window,`resize`,Z2),t.bind(window,`scroll`,Z2)):(t.unbind(window,`resize`,Z2),t.unbind(window,`scroll`,Z2)),J2=e}},$2=e=>{let t=X2;return X2=L(X2,t=>e!==t),n4.activeEditor===e&&(n4.activeEditor=X2.length>0?X2[0]:null),n4.focusedEditor===e&&(n4.focusedEditor=null),t.length!==X2.length},e4=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&($2(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},t4=document.compatMode!==`CSS1Compat`,n4={...s2,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:ct(),majorVersion:`8`,minorVersion:`2.2`,releaseDate:`2025-11-17`,i18n:tu,activeEditor:null,focusedEditor:null,setup(){let e=this,t=``,n=``,r=KO.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,``).replace(/[\/\\][^\/]+$/,``),/[\/\\]$/.test(r)||(r+=`/`));let i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,n=i.suffix;else{let e=document.getElementsByTagName(`script`);for(let r=0;r<e.length;r++){let i=e[r].src||``;if(i===``)continue;let a=i.substring(i.lastIndexOf(`/`));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){a.indexOf(`.min`)!==-1&&(n=`.min`),t=i.substring(0,i.lastIndexOf(`/`));break}}if(!t&&document.currentScript){let e=document.currentScript.src;e.indexOf(`.min`)!==-1&&(n=`.min`),t=e.substring(0,e.lastIndexOf(`/`))}}e.baseURL=new KO(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new KO(e.baseURL),e.suffix=n,Iy(e),I([`majorVersion`,`minorVersion`,`releaseDate`,`pageUid`,`_addLicenseKeyManager`],t=>Object.defineProperty(e,t,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){let t=e.base_url;t&&this._setBaseUrl(t);let n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;let r=e.plugin_base_urls;r!==void 0&&Be(r,(e,t)=>{nu.PluginManager.urls[t]=e})},init(e){let t=this,n,r=U.makeMap(`area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu`,` `),i=(e,t)=>e.inline&&t.tagName.toLowerCase()in r,a=e=>{let t=e.id;return t||(t=R(e,`name`).filter(e=>!K2.get(e)).getOrThunk(K2.uniqueId),e.setAttribute(`id`,t)),t},o=n=>{let r=e[n];if(r)return r.apply(t,[])},s=e=>Zn.browser.isIE()||Zn.browser.isEdge()?(gP(`TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers`),[]):t4?(gP(`Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode.`),[]):v(e.selector)?K2.select(e.selector):C(e.target)?[e.target]:[],c=e=>{n=e},l=()=>{let n=0,r=[],u,d=(e,i,a)=>{let o=new G2(e,i,t);r.push(o),o.on(`init`,()=>{++n===u.length&&c(r)}),o.targetElm=o.targetElm||a,o.render()};K2.unbind(window,`ready`,l),o(`onpageload`),u=Le(s(e)),U.each(u,e=>{e4(t.get(e.id))}),u=U.grep(u,e=>!t.get(e.id)),u.length===0?c([]):q2(u,t=>{i(e,t)?gP(`Could not initialize inline editor on invalid inline target element`,t):d(a(t),e,t)})};return K2.bind(window,`ready`,l),new Promise(e=>{n?e(n):c=t=>{e(t)}})},get(e){return arguments.length===0?X2.slice(0):v(e)?Se(X2,t=>t.id===e).getOr(null):re(e)&&X2[e]?X2[e]:null},add(e){let t=this,n=t.get(e.id);return n===e?e:(n===null&&X2.push(e),Q2(!0),t.activeEditor=e,t.dispatch(`AddEditor`,{editor:e}),Y2||(Y2=e=>{let n=t.dispatch(`BeforeUnload`);if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener(`beforeunload`,Y2)),e)},createEditor(e,t){return this.add(new G2(e,t,this))},remove(e){let t=this,n;if(!e){for(let e=X2.length-1;e>=0;e--)t.remove(X2[e]);return}if(v(e)){q2(K2.select(e),e=>{n=t.get(e.id),n&&t.remove(n)});return}return n=e,S(t.get(n.id))?null:($2(n)&&t.dispatch(`RemoveEditor`,{editor:n}),X2.length===0&&window.removeEventListener(`beforeunload`,Y2),n.remove(),Q2(X2.length>0),n)},execCommand(e,t,n){let r=this,i=y(n)?n.id??n.index:n;switch(e){case`mceAddEditor`:if(!r.get(i)){let e=n.options;new G2(i,e,r).render()}return!0;case`mceRemoveEditor`:{let e=r.get(i);return e&&e.remove(),!0}case`mceToggleEditor`:{let e=r.get(i);return e?(e.isHidden()?e.show():e.hide(),!0):(r.execCommand(`mceAddEditor`,!1,n),!0)}}return r.activeEditor?r.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{q2(X2,e=>{e.save()})},addI18n:(e,t)=>{tu.add(e,t)},translate:e=>tu.translate(e),setActive(e){let t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch(`deactivate`,{relatedTarget:e}),e.dispatch(`activate`,{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new KO(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,``)),this.baseURI=new KO(this.baseURL)},_addLicenseKeyManager:e=>FP.add(e)};n4.setup();let r4=(()=>{let e=Tt();return{FakeClipboardItem:e=>({items:e,types:Re(e),getType:t=>R(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),i4=Math.min,a4=Math.max,o4=Math.round,s4=(e,t,n)=>{let r=t.x,i=t.y,a=e.w,o=e.h,s=t.w,c=t.h,l=(n||``).split(``);return l[0]===`b`&&(i+=c),l[1]===`r`&&(r+=s),l[0]===`c`&&(i+=o4(c/2)),l[1]===`c`&&(r+=o4(s/2)),l[3]===`b`&&(i-=o),l[4]===`r`&&(r-=a),l[3]===`c`&&(i-=o4(o/2)),l[4]===`c`&&(r-=o4(a/2)),f4(r,i,a,o)},c4=(e,t,n,r)=>{for(let i=0;i<r.length;i++){let a=s4(e,t,r[i]);if(a.x>=n.x&&a.x+a.w<=n.w+n.x&&a.y>=n.y&&a.y+a.h<=n.h+n.y)return r[i]}return null},l4=(e,t,n)=>f4(e.x-t,e.y-n,e.w+t*2,e.h+n*2),u4=(e,t)=>{let n=a4(e.x,t.x),r=a4(e.y,t.y),i=i4(e.x+e.w,t.x+t.w),a=i4(e.y+e.h,t.y+t.h);return i-n<0||a-r<0?null:f4(n,r,i-n,a-r)},d4=(e,t,n)=>{let r=e.x,i=e.y,a=e.x+e.w,o=e.y+e.h,s=t.x+t.w,c=t.y+t.h,l=a4(0,t.x-r),u=a4(0,t.y-i),d=a4(0,a-s),f=a4(0,o-c);return r+=l,i+=u,n&&(a+=l,o+=u,r-=d,i-=f),a-=d,o-=f,f4(r,i,a-r,o-i)},f4=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),p4={inflate:l4,relativePosition:s4,findBestRelativePosition:c4,intersect:u4,clamp:d4,create:f4,fromClientRect:e=>f4(e.left,e.top,e.width,e.height)},m4=(e,t,n=1e3)=>{let r=!1,i=null,a=e=>(...t)=>{r||(r=!0,i!==null&&(window.clearTimeout(i),i=null),e.apply(null,t))},o=a(e),s=a(t);return{start:(...e)=>{!r&&i===null&&(i=window.setTimeout(()=>s.apply(null,e),n))},resolve:o,reject:s}},h4=(()=>{let e={},t={},n={};return{load:(n,r)=>{let i=`Script at URL "${r}" failed to load`,a=`Script at URL "${r}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(e[n]!==void 0)return e[n];{let o=new Promise((e,o)=>{let s=m4(e,o);t[n]=s.resolve,Yl.ScriptLoader.loadScript(r).then(()=>s.start(a),()=>s.reject(i))});return e[n]=o,o}},add:(r,i)=>{t[r]!==void 0&&(t[r](i),delete t[r]),e[r]=Promise.resolve(i),n[r]=i},has:e=>e in n,get:e=>n[e],unload:t=>{delete e[t],delete n[t]}}})(),g4=()=>(()=>{let e={},t=[],n={getItem:t=>e[t]||null,setItem:(n,r)=>{t.push(n),e[n]=String(r)},key:e=>t[e],removeItem:n=>{t=t.filter(e=>e===n),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,`length`,{get:()=>t.length,configurable:!1,enumerable:!1}),n})(),_4;try{let e=`__storage_test__`;_4=window.localStorage,_4.setItem(e,e),_4.removeItem(e)}catch{_4=g4()}let v4={geom:{Rect:p4},util:{Delay:Sy,Tools:U,VK:$,URI:KO,EventDispatcher:a2,Observable:s2,I18n:tu,LocalStorage:_4,ImageUploader:bF},dom:{EventUtils:Il,TreeWalker:Lo,TextSeeker:yu,DOMUtils:ql,ScriptLoader:Yl,RangeUtils:yb,Serializer:TN,StyleSheetLoader:pc,ControlSelection:ib,BookmarkManager:iy,Selection:dN,Event:Il.Event},html:{Styles:Cl,Entities:Rc,Node:ax,Schema:ul,DomParser:gk,Writer:Dx,Serializer:Ox},Env:Zn,AddOnManager:nu,Annotator:ry,Formatter:LF,UndoManager:VF,EditorCommands:r2,WindowManager:nP,NotificationManager:QN,EditorObservable:m2,Shortcuts:B2,Editor:G2,FocusManager:yy,EditorManager:n4,DOM:ql.DOM,ScriptLoader:Yl.ScriptLoader,PluginManager:$N,ThemeManager:eP,ModelManager:RN,IconManager:LN,Resource:h4,FakeClipboard:r4,trim:U.trim,isArray:U.isArray,is:U.is,toArray:U.toArray,makeMap:U.makeMap,each:U.each,map:U.map,grep:U.grep,inArray:U.inArray,extend:U.extend,walk:U.walk,resolve:U.resolve,explode:U.explode,_addCacheSuffix:U._addCacheSuffix},y4=U.extend(n4,v4);(e=>{window.tinymce=e,window.tinyMCE=e})(y4),(e=>{if(typeof t==`object`)try{t.exports=e}catch{}})(y4)})()}))(),tinymce.IconManager.add(`default`,{icons:{"accessibility-check":`<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>`,"accordion-toggle":`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>`,accordion:`<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>`,"action-next":`<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>`,"action-prev":`<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>`,addtag:`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>`,"ai-prompt":`<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>`,ai:`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>`,"align-center":`<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,"align-justify":`<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,"align-left":`<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,"align-none":`<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>`,"align-right":`<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,"arrow-left":`<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>`,"arrow-right":`<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>`,bold:`<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>`,bookmark:`<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>`,"border-style":`<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>`,"border-width":`<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>`,brightness:`<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>`,browse:`<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>`,cancel:`<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>`,"cell-background-color":`<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>`,"cell-border-color":`<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>`,"change-case":`<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>`,"character-count":`<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>`,"checklist-rtl":`<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>`,checklist:`<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>`,"checkmark-filled":`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>`,checkmark:`<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>`,"chevron-down":`<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>`,"chevron-left":`<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>`,"chevron-right":`<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>`,"chevron-up":`<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>`,"close-filled":`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>`,close:`<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>`,"code-sample":`<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>`,"color-levels":`<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>`,"color-picker":`<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>`,"color-swatch-remove-color":`<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>`,"color-swatch":`<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>`,"comment-add":`<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>`,comment:`<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>`,contrast:`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>`,copy:`<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>`,crop:`<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>`,"cut-column":`<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>`,"cut-row":`<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>`,cut:`<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>`,"document-gear-properties":`<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>`,"document-properties":`<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>`,drag:`<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>`,"duplicate-column":`<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>`,"duplicate-row":`<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>`,duplicate:`<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>`,"edit-block":`<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>`,"edit-image":`<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>`,"embed-page":`<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>`,embed:`<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>`,emoji:`<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>`,export:`<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>`,feedback:`<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>`,fill:`<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>`,"flip-horizontally":`<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>`,"flip-vertically":`<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>`,footnote:`<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>`,"format-code":`<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>`,"format-painter":`<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>`,format:`<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>`,fullscreen:`<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>`,gallery:`<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>`,gamma:`<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>`,help:`<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>`,"highlight-bg-color":`<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>`,home:`<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>`,"horizontal-rule":`<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>`,"image-options":`<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>`,image:`<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>`,indent:`<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>`,info:`<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>`,"insert-character":`<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>`,"insert-time":`<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>`,invert:`<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>`,italic:`<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>`,language:`<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>`,"line-height":`<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>`,line:`<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>`,link:`<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>`,"list-bull-circle":`<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>`,"list-bull-default":`<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>`,"list-bull-disc":`<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>`,"list-bull-square":`<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>`,"list-num-default-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>`,"list-num-default":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>`,"list-num-lower-alpha-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>`,"list-num-lower-alpha":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>`,"list-num-lower-greek-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>`,"list-num-lower-greek":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>`,"list-num-lower-roman-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>`,"list-num-lower-roman":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>`,"list-num-upper-alpha-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>`,"list-num-upper-alpha":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>`,"list-num-upper-roman-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>`,"list-num-upper-roman":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>`,lock:`<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>`,ltr:`<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>`,"math-equation":`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>`,mentions:`<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>`,minus:`<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>`,"more-drawer":`<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>`,"new-document":`<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>`,"new-tab":`<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>`,"non-breaking":`<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>`,notice:`<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>`,"ordered-list-rtl":`<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>`,"ordered-list":`<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>`,orientation:`<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>`,outdent:`<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>`,"export-pdf":`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>`,"export-word":`<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>`,"import-word":`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>`,"page-break":`<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>`,paragraph:`<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>`,"paste-column-after":`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>`,"paste-column-before":`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>`,"paste-row-after":`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>`,"paste-row-before":`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>`,"paste-text":`<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>`,paste:`<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>`,"permanent-pen":`<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>`,plus:`<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>`,preferences:`<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>`,preview:`<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>`,print:`<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>`,quote:`<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>`,redo:`<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>`,reload:`<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>`,"remove-formatting":`<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>`,remove:`<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>`,"resize-handle":`<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>`,resize:`<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>`,"restore-draft":`<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>`,"revision-history":`<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>`,"rotate-left":`<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>`,"rotate-right":`<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>`,rtl:`<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>`,save:`<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>`,search:`<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>`,"select-all":`<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>`,selected:`<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>`,send:`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>`,settings:`<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>`,sharpen:`<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>`,sourcecode:`<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>`,"spell-check":`<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>`,"strike-through":`<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>`,subscript:`<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>`,"suggestededits-badge":`<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>`,suggestededits:`<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>`,superscript:`<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>`,"table-caption":`<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>`,"table-cell-classes":`<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>`,"table-cell-properties":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>`,"table-cell-select-all":`<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>`,"table-cell-select-inner":`<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>`,"table-classes":`<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>`,"table-delete-column":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>`,"table-delete-row":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>`,"table-delete-table":`<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>`,"table-insert-column-after":`<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>`,"table-insert-column-before":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>`,"table-insert-row-above":`<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>`,"table-insert-row-after":`<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>`,"table-left-header":`<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>`,"table-merge-cells":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>`,"table-row-numbering-rtl":`<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>`,"table-row-numbering":`<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>`,"table-row-properties":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>`,"table-split-cells":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>`,"table-top-header":`<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>`,table:`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>`,"template-add":`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>`,template:`<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>`,"temporary-placeholder":`<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>`,"text-color":`<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>`,"text-size-decrease":`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>`,"text-size-increase":`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>`,toc:`<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,translate:`<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>`,typography:`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>`,underline:`<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,undo:`<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>`,unlink:`<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>`,unlock:`<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>`,"unordered-list":`<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>`,unselected:`<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>`,upload:`<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>`,"add-file":`<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>`,adjustments:`<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>`,"alt-text":`<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>`,"auto-image-enhancement":`<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>`,blur:`<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>`,box:`<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>`,camera:`<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>`,caption:`<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>`,dropbox:`<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>`,evernote:`<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>`,exposure:`<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>`,fb:`<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>`,flickr:`<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>`,folder:`<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>`,"google-drive":`<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>`,"google-photos":`<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>`,grayscale:`<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>`,huddle:`<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>`,"image-decorative":`<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>`,"image-enhancements":`<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>`,instagram:`<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>`,onedrive:`<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>`,"photo-filter":`<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>`,"revert-changes":`<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>`,saturation:`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>`,"transform-image":`<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>`,vibrance:`<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>`,vk:`<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>`,warmth:`<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>`,user:`<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>`,"vertical-align":`<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>`,visualblocks:`<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>`,visualchars:`<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>`,warning:`<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>`,"zoom-in":`<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>`,"zoom-out":`<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>`}}),(function(){let e=Object.getPrototypeOf,t=(e,t,n)=>!!n(e,t.prototype)||e.constructor?.name===t.name,n=e=>n=>(e=>{let n=typeof e;return e===null?`null`:n===`object`&&Array.isArray(e)?`array`:n===`object`&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?`string`:n})(n)===e,r=e=>t=>typeof t===e,i=e=>t=>e===t,a=n(`string`),o=n(`object`),s=n=>((n,r)=>o(n)&&t(n,r,((t,n)=>e(t)===n)))(n,Object),c=n(`array`),l=i(null),u=r(`boolean`),d=i(void 0),f=e=>e==null,p=e=>!f(e),m=r(`function`),h=r(`number`),g=(e,t)=>{if(c(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},_=()=>{},v=e=>()=>e(),y=(e,t)=>(...n)=>e(t.apply(null,n)),b=e=>()=>e,x=e=>e,S=(e,t)=>e===t;function ee(e,...t){return(...n)=>{let r=t.concat(n);return e.apply(null,r)}}let te=e=>t=>!e(t),ne=e=>()=>{throw Error(e)},C=e=>e(),w=b(!1),re=b(!0);class T{tag;value;static singletonNone=new T(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new T(!0,e)}static none(){return T.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?T.some(e(this.value)):T.none()}bind(e){return this.tag?e(this.value):T.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:T.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return p(e)?T.some(e):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}let E=Array.prototype.slice,ie=Array.prototype.indexOf,D=Array.prototype.push,O=(e,t)=>ie.call(e,t),k=(e,t)=>O(e,t)>-1,ae=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},A=(e,t)=>{let n=[];for(let r=0;r<e;r++)n.push(t(r));return n},oe=(e,t)=>{let n=[];for(let r=0;r<e.length;r+=t){let i=E.call(e,r,r+t);n.push(i)}return n},j=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},M=(e,t)=>{for(let n=0,r=e.length;n<r;n++)t(e[n],n)},se=(e,t)=>{let n=[],r=[];for(let i=0,a=e.length;i<a;i++){let a=e[i];(t(a,i)?n:r).push(a)}return{pass:n,fail:r}},N=(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t(i,r)&&n.push(i)}return n},ce=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,r)=>{n=t(n,e,r)})),n),P=(e,t,n)=>(M(e,((e,r)=>{n=t(n,e,r)})),n),le=(e,t)=>((e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return T.some(i);if(n(i,r))break}return T.none()})(e,t,w),F=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return T.some(n);return T.none()},ue=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!c(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);D.apply(t,e[n])}return t},de=(e,t)=>ue(j(e,t)),fe=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},pe=e=>{let t=E.call(e,0);return t.reverse(),t},me=(e,t)=>N(e,(e=>!k(t,e))),he=(e,t)=>{let n={};for(let r=0,i=e.length;r<i;r++){let i=e[r];n[String(i)]=t(i,r)}return n},I=e=>[e],ge=(e,t)=>{let n=E.call(e,0);return n.sort(t),n},_e=(e,t)=>t>=0&&t<e.length?T.some(e[t]):T.none(),L=e=>_e(e,0),ve=e=>_e(e,e.length-1),ye=m(Array.from)?Array.from:e=>E.call(e),be=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return T.none()},xe=Object.keys,Se=Object.hasOwnProperty,Ce=(e,t)=>{let n=xe(e);for(let r=0,i=n.length;r<i;r++){let i=n[r];t(e[i],i)}},we=(e,t)=>Te(e,((e,n)=>({k:n,v:t(e,n)}))),Te=(e,t)=>{let n={};return Ce(e,((e,r)=>{let i=t(e,r);n[i.k]=i.v})),n},Ee=e=>(t,n)=>{e[n]=t},De=(e,t,n,r)=>{Ce(e,((e,i)=>{(t(e,i)?n:r)(e,i)}))},Oe=(e,t)=>{let n={};return De(e,t,Ee(n),_),n},ke=(e,t)=>{let n=[];return Ce(e,((e,r)=>{n.push(t(e,r))})),n},Ae=(e,t)=>{let n=xe(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];if(t(a,i,e))return T.some(a)}return T.none()},je=e=>ke(e,x),Me=(e,t)=>Ne(e,t)?T.from(e[t]):T.none(),Ne=(e,t)=>Se.call(e,t),Pe=(e,t)=>Ne(e,t)&&e[t]!==void 0&&e[t]!==null,Fe=e=>{if(!c(e))throw Error(`cases must be an array`);if(e.length===0)throw Error(`there must be at least one case`);let t=[],n={};return M(e,((r,i)=>{let a=xe(r);if(a.length!==1)throw Error(`one and only one name per case`);let o=a[0],s=r[o];if(n[o]!==void 0)throw Error(`duplicate key detected:`+o);if(o===`cata`)throw Error(`cannot have a case named cata (sorry)`);if(!c(s))throw Error(`case arguments must be an array`);t.push(o),n[o]=(...n)=>{let r=n.length;if(r!==s.length)throw Error(`Wrong number of arguments to case `+o+`. Expected `+s.length+` (`+s+`), got `+r);return{fold:(...t)=>{if(t.length!==e.length)throw Error(`Wrong number of arguments to fold. Expected `+e.length+`, got `+t.length);return t[i].apply(null,n)},match:e=>{let r=xe(e);if(t.length!==r.length)throw Error(`Wrong number of arguments to match. Expected: `+t.join(`,`)+`
Actual: `+r.join(`,`));if(!fe(t,(e=>k(r,e))))throw Error(`Not all branches were specified when using match. Specified: `+r.join(`, `)+`
Required: `+t.join(`, `));return e[o].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:o,params:n})}}}})),n},Ie=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Le=e=>{let t=T.none(),n=[],r=e=>{i()?a(e):n.push(e)},i=()=>t.isSome(),a=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{i()||(t=T.some(e),M(n,a),n=[])})),{get:r,map:e=>Le((t=>{r((n=>{t(e(n))}))})),isReady:i}},Re={nu:Le,pure:e=>Le((t=>{t(e)}))},ze=e=>{setTimeout((()=>{throw e}),0)},Be=e=>{let t=t=>{e().then(t,ze)};return{map:t=>Be((()=>e().then(t))),bind:t=>Be((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>Be((()=>e().then((()=>t.toPromise())))),toLazy:()=>Re.nu(t),toCached:()=>{let t=null;return Be((()=>(t===null&&(t=e()),t)))},toPromise:e,get:t}},Ve=e=>Be((()=>new Promise(e))),He=e=>Be((()=>Promise.resolve(e))),Ue=e=>{let t=t=>t(e),n=b(e),r=()=>i,i={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:re,isError:w,map:t=>Ge.value(t(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:t=>{t(e)},toOptional:()=>T.some(e)};return i},We=e=>{let t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:w,isError:re,map:t,mapError:t=>Ge.error(t(e)),bind:t,exists:w,forall:re,getOr:x,or:x,getOrThunk:C,orThunk:C,getOrDie:ne(String(e)),each:_,toOptional:T.none};return n},Ge={value:Ue,error:We,fromOption:(e,t)=>e.fold((()=>We(t)),Ue)},Ke=e=>({...e,toCached:()=>Ke(e.toCached()),bindFuture:t=>Ke(e.bind((e=>e.fold((e=>He(Ge.error(e))),(e=>t(e)))))),bindResult:t=>Ke(e.map((e=>e.bind(t)))),mapResult:t=>Ke(e.map((e=>e.map(t)))),mapError:t=>Ke(e.map((e=>e.mapError(t)))),foldResult:(t,n)=>e.map((e=>e.fold(t,n))),withTimeout:(t,n)=>Ke(Ve((r=>{let i=!1,a=setTimeout((()=>{i=!0,r(Ge.error(n()))}),t);e.get((e=>{i||(clearTimeout(a),r(e))}))})))}),qe=e=>Ke(Ve(e)),Je=typeof window<`u`?window:Function(`return this;`)(),R=(e,t,n,r)=>{let i=e+t;return i>r?n:i<n?r:i},Ye=(e,t,n)=>Math.min(Math.max(e,t),n),Xe=0,z=e=>{let t=new Date().getTime(),n=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Xe++,e+`_`+n+Xe+String(t)},Ze=e=>(...t)=>{if(t.length===0)throw Error(`Can't merge zero objects`);let n={};for(let r=0;r<t.length;r++){let i=t[r];for(let t in i)Ne(i,t)&&(n[t]=e(n[t],i[t]))}return n},B=Ze(((e,t)=>s(e)&&s(t)?B(e,t):t)),Qe=Ze(((e,t)=>t)),$e=(e,t,n=S)=>e.exists((e=>n(e,t))),et=e=>{let t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},tt=(e,t,n)=>e.isSome()&&t.isSome()?T.some(n(e.getOrDie(),t.getOrDie())):T.none(),nt=(e,t)=>e==null?T.none():T.some(t(e)),rt=(e,t)=>e?T.some(t):T.none(),it=(e,t)=>((e,t)=>{let n=t??Je;for(let t=0;t<e.length&&n!=null;++t)n=n[e[t]];return n})(e.split(`.`),t);Fe([{bothErrors:[`error1`,`error2`]},{firstError:[`error1`,`value2`]},{secondError:[`value1`,`error2`]},{bothValues:[`value1`,`value2`]}]);let at=e=>{let t=Ie(T.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(T.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(T.some(e))}}},ot=()=>at((e=>e.unbind())),st=()=>{let e=at(_);return{...e,on:t=>e.get().each(t)}},ct=(e,t,n)=>t===``||e.length>=t.length&&e.substr(n,n+t.length)===t,lt=(e,t)=>dt(e,t)?((e,t)=>e.substring(t))(e,t.length):e,ut=(e,t,n=0,r)=>{let i=e.indexOf(t,n);return i!==-1&&(!!d(r)||i+t.length<=r)},dt=(e,t)=>ct(e,t,0),ft=(e,t)=>ct(e,t,e.length-t.length),pt=(Ot=/^\s+|\s+$/g,e=>e.replace(Ot,``)),mt=e=>e.length>0,ht=e=>!mt(e),gt=(e,t)=>{let n=null,r=()=>{l(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...i)=>{r(),n=setTimeout((()=>{n=null,e.apply(null,i)}),t)}}},_t=e=>{let t,n=!1;return(...r)=>(n||(n=!0,t=e.apply(null,r)),t)},vt=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},yt=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return vt(n.childNodes[0])},bt=(e,t)=>vt((t||document).createElement(e)),xt=(e,t)=>vt((t||document).createTextNode(e)),V=vt,St=(e,t,n)=>{let r=e.document.createRange();var i;return i=r,t.fold((e=>{i.setStartBefore(e.dom)}),((e,t)=>{i.setStart(e.dom,t)}),(e=>{i.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(r,n),r},Ct=(e,t,n,r,i)=>{let a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,i),a},wt=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Tt=Fe([{ltr:[`start`,`soffset`,`finish`,`foffset`]},{rtl:[`start`,`soffset`,`finish`,`foffset`]}]),Et=(e,t,n)=>t(V(n.startContainer),n.startOffset,V(n.endContainer),n.endOffset),Dt=(e,t)=>((e,t)=>((e,t)=>{let n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>Tt.rtl(V(e.endContainer),e.endOffset,V(e.startContainer),e.startOffset))).getOrThunk((()=>Et(0,Tt.ltr,n))):Et(0,Tt.ltr,n)})(0,((e,t)=>t.match({domRange:e=>({ltr:b(e),rtl:T.none}),relative:(t,n)=>({ltr:_t((()=>St(e,t,n))),rtl:_t((()=>T.some(St(e,n,t))))}),exact:(t,n,r,i)=>({ltr:_t((()=>Ct(e,t,n,r,i))),rtl:_t((()=>T.some(Ct(e,r,i,t,n))))})}))(e,t)))(e,t).match({ltr:(t,n,r,i)=>{let a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,i),a},rtl:(t,n,r,i)=>{let a=e.document.createRange();return a.setStart(r.dom,i),a.setEnd(t.dom,n),a}});var Ot;Tt.ltr,Tt.rtl;let kt=(e,t)=>{let n=e.dom;if(n.nodeType!==1)return!1;{let e=n;if(e.matches!==void 0)return e.matches(t);if(e.msMatchesSelector!==void 0)return e.msMatchesSelector(t);if(e.webkitMatchesSelector!==void 0)return e.webkitMatchesSelector(t);if(e.mozMatchesSelector!==void 0)return e.mozMatchesSelector(t);throw Error(`Browser lacks native selectors`)}},At=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,jt=(e,t)=>{let n=t===void 0?document:t.dom;return At(n)?T.none():T.from(n.querySelector(e)).map(V)},Mt=(e,t)=>e.dom===t.dom,Nt=(e,t)=>{let n=e.dom,r=t.dom;return n!==r&&n.contains(r)},Pt=()=>Ft(0,0),Ft=(e,t)=>({major:e,minor:t}),It={nu:Ft,detect:(e,t)=>{let n=String(t).toLowerCase();return e.length===0?Pt():((e,t)=>{let n=((e,t)=>{for(let n=0;n<e.length;n++){let r=e[n];if(r.test(t))return r}})(e,t);if(!n)return{major:0,minor:0};let r=e=>Number(t.replace(n,`$`+e));return Ft(r(1),r(2))})(e,n)},unknown:Pt},Lt=(e,t)=>{let n=String(t).toLowerCase();return le(e,(e=>e.search(n)))},Rt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zt=e=>t=>ut(t,e),Bt=[{name:`Edge`,versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ut(e,`edge/`)&&ut(e,`chrome`)&&ut(e,`safari`)&&ut(e,`applewebkit`)},{name:`Chromium`,brand:`Chromium`,versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Rt],search:e=>ut(e,`chrome`)&&!ut(e,`chromeframe`)},{name:`IE`,versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ut(e,`msie`)||ut(e,`trident`)},{name:`Opera`,versionRegexes:[Rt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zt(`opera`)},{name:`Firefox`,versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zt(`firefox`)},{name:`Safari`,versionRegexes:[Rt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ut(e,`safari`)||ut(e,`mobile/`))&&ut(e,`applewebkit`)}],Vt=[{name:`Windows`,search:zt(`win`),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:`iOS`,search:e=>ut(e,`iphone`)||ut(e,`ipad`),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:`Android`,search:zt(`android`),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:`macOS`,search:zt(`mac os x`),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:`Linux`,search:zt(`linux`),versionRegexes:[]},{name:`Solaris`,search:zt(`sunos`),versionRegexes:[]},{name:`FreeBSD`,search:zt(`freebsd`),versionRegexes:[]},{name:`ChromeOS`,search:zt(`cros`),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ht={browsers:b(Bt),oses:b(Vt)},Ut=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(`Edge`),isChromium:r(`Chromium`),isIE:r(`IE`),isOpera:r(`Opera`),isFirefox:r(`Firefox`),isSafari:r(`Safari`)}},Wt=()=>Ut({current:void 0,version:It.unknown()}),Gt=Ut,Kt=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(`Windows`),isiOS:r(`iOS`),isAndroid:r(`Android`),isMacOS:r(`macOS`),isLinux:r(`Linux`),isSolaris:r(`Solaris`),isFreeBSD:r(`FreeBSD`),isChromeOS:r(`ChromeOS`)}},qt=()=>Kt({current:void 0,version:It.unknown()}),Jt=Kt,Yt=e=>window.matchMedia(e).matches,Xt=_t((()=>((e,t,n)=>{let r=Ht.browsers(),i=Ht.oses(),a=t.bind((e=>((e,t)=>be(t.brands,(t=>{let n=t.brand.toLowerCase();return le(e,(e=>n===e.brand?.toLowerCase())).map((e=>({current:e.name,version:It.nu(parseInt(t.version,10),0)})))})))(r,e))).orThunk((()=>((e,t)=>Lt(e,t).map((e=>{let n=It.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e))).fold(Wt,Gt),o=((e,t)=>Lt(e,t).map((e=>{let n=It.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(i,e).fold(qt,Jt);return{browser:a,os:o,deviceType:((e,t,n,r)=>{let i=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!i,o=e.isiOS()||e.isAndroid(),s=o||r(`(pointer:coarse)`),c=i||!a&&o&&r(`(min-device-width:768px)`),l=a||o&&!c,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!u;return{isiPad:b(i),isiPhone:b(a),isTablet:b(c),isPhone:b(l),isTouch:b(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:b(u),isDesktop:b(d)}})(o,a,e,n)}})(window.navigator.userAgent,T.from(window.navigator.userAgentData),Yt))),Zt=()=>Xt(),Qt=Object.getPrototypeOf,$t=e=>{let t=it(`ownerDocument.defaultView`,e);return o(e)&&((e=>((e,t)=>{let n=((e,t)=>it(e,t))(e,t);if(n==null)throw Error(e+` not available on this browser`);return n})(`HTMLElement`,e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Qt(e).constructor.name))},en=e=>e.dom.nodeName.toLowerCase(),tn=e=>t=>(e=>e.dom.nodeType)(t)===e,nn=e=>rn(e)&&$t(e.dom),rn=tn(1),an=tn(3),on=tn(9),sn=tn(11),cn=e=>t=>rn(t)&&en(t)===e,ln=e=>V(e.dom.ownerDocument),un=e=>on(e)?e:ln(e),dn=e=>V(un(e).dom.documentElement),fn=e=>V(un(e).dom.defaultView),pn=e=>T.from(e.dom.parentNode).map(V),mn=e=>T.from(e.dom.parentElement).map(V),hn=e=>T.from(e.dom.offsetParent).map(V),gn=e=>T.from(e.dom.previousSibling).map(V),_n=e=>T.from(e.dom.nextSibling).map(V),vn=e=>j(e.dom.childNodes,V),yn=(e,t)=>{let n=e.dom.childNodes;return T.from(n[t]).map(V)},bn=e=>yn(e,0),xn=(e,t)=>({element:e,offset:t}),Sn=(e,t)=>{let n=vn(e);return n.length>0&&t<n.length?xn(n[t],0):xn(e,t)},Cn=e=>sn(e)&&p(e.dom.host),wn=e=>V(e.dom.getRootNode()),Tn=e=>Cn(e)?e:V(un(e).dom.body),En=e=>{let t=wn(e);return Cn(t)?T.some(t):T.none()},Dn=e=>V(e.dom.host),On=e=>{let t=V((e=>{if(p(e.target)){let t=V(e.target);if(rn(t)&&(e=>p(e.dom.shadowRoot))(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return L(t)}}return T.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=y(r,n);return((e,t,n,r,i,a,o)=>({target:e,x:t,y:n,stop:r,prevent:i,kill:a,raw:o}))(t,e.clientX,e.clientY,n,r,i,e)},kn=(e,t,n,r,i)=>{let a=((e,t)=>n=>{e(n)&&t(On(n))})(n,r);return e.dom.addEventListener(t,a,i),{unbind:ee(An,e,t,a,i)}},An=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},jn=re,Mn=(e,t,n)=>((e,t,n,r)=>kn(e,t,n,r,!1))(e,t,jn,n),Nn=(e,t,n)=>((e,t,n,r)=>kn(e,t,n,r,!0))(e,t,jn,n),Pn=On,H=()=>V(document),Fn=(e,t=!1)=>e.dom.focus({preventScroll:t}),In=e=>e.dom.blur(),Ln=e=>{let t=wn(e).dom;return e.dom===t.activeElement},Rn=(e=H())=>T.from(e.dom.activeElement).map(V),zn=e=>Rn(wn(e)).filter((t=>e.dom.contains(t.dom))),Bn=(e,t)=>{pn(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Vn=(e,t)=>{_n(e).fold((()=>{pn(e).each((e=>{Un(e,t)}))}),(e=>{Bn(e,t)}))},Hn=(e,t)=>{bn(e).fold((()=>{Un(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Un=(e,t)=>{e.dom.appendChild(t.dom)},Wn=(e,t)=>{M(t,(t=>{Un(e,t)}))},Gn=(e,t,n)=>{if(!(a(n)||u(n)||h(n)))throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`);e.setAttribute(t,n+``)},Kn=(e,t,n)=>{Gn(e.dom,t,n)},qn=(e,t)=>{let n=e.dom;Ce(t,((e,t)=>{Gn(n,t,e)}))},Jn=(e,t)=>{let n=e.dom.getAttribute(t);return n===null?void 0:n},Yn=(e,t)=>T.from(Jn(e,t)),Xn=(e,t)=>{let n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Zn=(e,t)=>{e.dom.removeAttribute(t)},Qn=e=>{e.dom.textContent=``,M(vn(e),(e=>{$n(e)}))},$n=e=>{let t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},er=(e,t)=>V(e.dom.cloneNode(t)),tr=e=>e.dom.innerHTML,nr=(e,t)=>{let n=ln(e).dom,r=V(n.createDocumentFragment());Wn(r,((e,t)=>{let n=(t||document).createElement(`div`);return n.innerHTML=e,vn(V(n))})(t,n)),Qn(e),Un(e,r)},rr=e=>new Promise(((t,n)=>{let r=()=>{a(),t(e)},i=[Mn(e,`load`,r),Mn(e,`error`,(()=>{a(),n(`Unable to load data from image: `+e.dom.src)}))],a=()=>M(i,(e=>e.unbind()));e.dom.complete&&r()})),ir=e=>e.style!==void 0&&m(e.style.getPropertyValue),U=e=>{let t=an(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;let n=t.ownerDocument;return En(V(t)).fold((()=>n.body.contains(t)),(r=U,i=Dn,e=>r(i(e))));var r,i},ar=()=>or(V(document)),or=e=>{let t=e.dom.body;if(t==null)throw Error(`Body is not available yet`);return V(t)},sr=(e,t,n)=>{if(!a(n))throw console.error(`Invalid call to CSS.set. Property `,t,`:: Value `,n,`:: Element `,e),Error(`CSS value must be a string: `+n);ir(e)&&e.style.setProperty(t,n)},cr=(e,t)=>{ir(e)&&e.style.removeProperty(t)},W=(e,t,n)=>{let r=e.dom;sr(r,t,n)},lr=(e,t)=>{let n=e.dom;Ce(t,((e,t)=>{sr(n,t,e)}))},ur=(e,t)=>{let n=e.dom;Ce(t,((e,t)=>{e.fold((()=>{cr(n,t)}),(e=>{sr(n,t,e)}))}))},dr=(e,t)=>{let n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return r!==``||U(e)?r:fr(n,t)},fr=(e,t)=>ir(e)?e.style.getPropertyValue(t):``,pr=(e,t)=>{let n=e.dom,r=fr(n,t);return T.from(r).filter((e=>e.length>0))},mr=e=>{let t={},n=e.dom;if(ir(n))for(let e=0;e<n.style.length;e++){let r=n.style.item(e);t[r]=n.style[r]}return t},hr=(e,t,n)=>{let r=bt(e);return W(r,t,n),pr(r,t).isSome()},gr=(e,t)=>{let n=e.dom;cr(n,t),$e(Yn(e,`style`).map(pt),``)&&Zn(e,`style`)},_r=e=>e.dom.offsetWidth,vr=(e,t)=>{let n=n=>{let r=t(n);if(r<=0||r===null){let t=dr(n,e);return parseFloat(t)||0}return r},r=(e,t)=>P(t,((t,n)=>{let r=dr(e,n),i=r===void 0?0:parseInt(r,10);return isNaN(i)?t:t+i}),0);return{set:(t,n)=>{if(!h(n)&&!n.match(/^[0-9]+$/))throw Error(e+`.set accepts only positive integer values. Value was `+n);let r=t.dom;ir(r)&&(r.style[e]=n+`px`)},get:n,getOuter:n,aggregate:r,max:(e,t,n)=>{let i=r(e,n);return t>i?t-i:0}}},yr=vr(`height`,(e=>{let t=e.dom;return U(e)?t.getBoundingClientRect().height:t.offsetHeight})),br=e=>yr.get(e),xr=e=>yr.getOuter(e),Sr=e=>!(e=>e.offsetWidth<=0&&e.offsetHeight<=0)(e.dom),Cr=vr(`width`,(e=>{let t=e.dom;return U(e)?t.getBoundingClientRect().width:t.offsetWidth})),wr=e=>Cr.get(e),Tr=e=>Cr.getOuter(e),Er=(e,t)=>({left:e,top:t,translate:(n,r)=>Er(e+n,t+r)}),Dr=Er,Or=(e,t)=>e===void 0?t===void 0?0:t:e,kr=e=>{let t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return Dr(n.offsetLeft,n.offsetTop);let a=Or(r?.pageYOffset,i.scrollTop),o=Or(r?.pageXOffset,i.scrollLeft),s=Or(i.clientTop,n.clientTop),c=Or(i.clientLeft,n.clientLeft);return Ar(e).translate(o-c,a-s)},Ar=e=>{let t=e.dom,n=t.ownerDocument.body;return n===t?Dr(n.offsetLeft,n.offsetTop):U(e)?(e=>{let t=e.getBoundingClientRect();return Dr(t.left,t.top)})(t):Dr(0,0)},jr=e=>{let t=e===void 0?document:e.dom;return Dr(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},Mr=(e,t,n)=>{let r=(n===void 0?document:n.dom).defaultView;r&&r.scrollTo(e,t)},Nr=(e=>{let t=t=>e(t)?T.from(t.dom.nodeValue):T.none();return{get:n=>{if(!e(n))throw Error(`Can only get text value of a text node`);return t(n).getOr(``)},getOption:t,set:(t,n)=>{if(!e(t))throw Error(`Can only set raw text value of a text node`);t.dom.nodeValue=n}}})(an),Pr=(e,t)=>n=>Fr(n)===`rtl`?t:e,Fr=e=>dr(e,`direction`)===`rtl`?`rtl`:`ltr`,Ir=(e,t)=>{let n=Jn(e,t);return n===void 0||n===``?[]:n.split(` `)};var Lr=(e,t,n,r,i)=>e(n,r)?T.some(n):m(i)&&i(n)?T.none():t(n,r,i);let Rr=(e,t,n)=>{let r=e.dom,i=m(n)?n:w;for(;r.parentNode;){r=r.parentNode;let e=V(r);if(t(e))return T.some(e);if(i(e))break}return T.none()},zr=(e,t,n)=>Lr(((e,t)=>t(e)),Rr,e,t,n),Br=(e,t)=>le(e.dom.childNodes,(e=>t(V(e)))).map(V),Vr=(e,t,n)=>Rr(e,(e=>kt(e,t)),n),Hr=(e,t)=>(e=>{let n=e.dom;return n.parentNode?Br(V(n.parentNode),(n=>!Mt(e,n)&&kt(n,t))):T.none()})(e),Ur=(e,t)=>Br(e,(e=>kt(e,t))),Wr=(e,t)=>jt(t,e),Gr=(e,t,n)=>Lr(((e,t)=>kt(e,t)),Vr,e,t,n),Kr=(e,t)=>{e.dom.checked=t},qr=e=>e.dom.checked,Jr=e=>e.dom.classList!==void 0,Yr=e=>Ir(e,`class`),Xr=(e,t)=>((e,t,n)=>(Kn(e,t,Ir(e,t).concat([n]).join(` `)),!0))(e,`class`,t),Zr=(e,t)=>((e,t,n)=>{let r=N(Ir(e,t),(e=>e!==n));return r.length>0?Kn(e,t,r.join(` `)):Zn(e,t),!1})(e,`class`,t),Qr=(e,t)=>{Jr(e)?e.dom.classList.add(t):Xr(e,t)},$r=e=>{(Jr(e)?e.dom.classList:Yr(e)).length===0&&Zn(e,`class`)},ei=(e,t)=>{Jr(e)?e.dom.classList.remove(t):Zr(e,t),$r(e)},ti=(e,t)=>Jr(e)&&e.dom.classList.contains(t),ni=(e,t)=>{M(t,(t=>{Qr(e,t)}))},ri=(e,t)=>{M(t,(t=>{ei(e,t)}))},ii=e=>Jr(e)?(e=>{let t=e.dom.classList,n=Array(t.length);for(let e=0;e<t.length;e++){let r=t.item(e);r!==null&&(n[e]=r)}return n})(e):Yr(e),ai=e=>e.dom.value,oi=(e,t)=>{if(t===void 0)throw Error(`Value.set was undefined`);e.dom.value=t},si=(e,t,n)=>N(((e,t)=>{let n=m(t)?t:w,r=e.dom,i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){let e=r.parentNode,t=V(e);if(i.push(t),!0===n(t))break;r=e}return i})(e,n),t),ci=(e,t)=>((e,t)=>{let n=t===void 0?document:t.dom;return At(n)?[]:j(n.querySelectorAll(e),V)})(t,e),li=(e,t,n)=>zr(e,t,n).isSome(),ui=(e,t,n)=>Gr(e,t,n).isSome(),di=e=>m(e)?e:w,fi=(e,t,n)=>{let r=e.dom,i=di(n);for(;r.parentNode;){r=r.parentNode;let e=V(r),n=t(e);if(n.isSome())return n;if(i(e))break}return T.none()},pi=(e,t,n)=>{let r=t(e),i=di(n);return r.orThunk((()=>i(e)?T.none():fi(e,t,i)))},mi=(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r}),hi=Fe([{before:[`element`]},{on:[`element`,`offset`]},{after:[`element`]}]),gi=(hi.before,hi.on,hi.after,e=>e.fold(x,x,x)),_i=Fe([{domRange:[`rng`]},{relative:[`startSitu`,`finishSitu`]},{exact:[`start`,`soffset`,`finish`,`foffset`]}]),vi={domRange:_i.domRange,relative:_i.relative,exact:_i.exact,exactFromRange:e=>_i.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>fn((e=>e.match({domRange:e=>V(e.startContainer),relative:(e,t)=>gi(e),exact:(e,t,n,r)=>e}))(e)),range:mi},yi=e=>{if(e.rangeCount>0){let t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return T.some(mi(V(t.startContainer),t.startOffset,V(n.endContainer),n.endOffset))}return T.none()},bi=e=>{if(e.anchorNode===null||e.focusNode===null)return yi(e);{let t=V(e.anchorNode),n=V(e.focusNode);return((e,t,n,r)=>{let i=((e,t,n,r)=>{let i=ln(e).dom.createRange();return i.setStart(e.dom,t),i.setEnd(n.dom,r),i})(e,t,n,r),a=Mt(e,n)&&t===r;return i.collapsed&&!a})(t,e.anchorOffset,n,e.focusOffset)?T.some(mi(t,e.anchorOffset,n,e.focusOffset)):yi(e)}},xi=(e,t)=>(e=>{let t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?T.some(n).map(wt):T.none()})(Dt(e,t)),Si={unsupportedLength:[`em`,`ex`,`cap`,`ch`,`ic`,`rem`,`lh`,`rlh`,`vw`,`vh`,`vi`,`vb`,`vmin`,`vmax`,`cm`,`mm`,`Q`,`in`,`pc`,`pt`,`px`],fixed:[`px`,`pt`],relative:[`%`],empty:[``]},Ci=(()=>{let e=`[0-9]+`,t=`[eE][+-]?`+e,n=e=>`(?:${e})?`,r=[`Infinity`,e+`\\.`+n(e)+n(t),`\\.`+e+n(t),e+n(t)].join(`|`);return RegExp(`^([+-]?(?:${r}))(.*)$`)})(),wi=(e,t)=>T.from(Ci.exec(e)).bind((e=>{let n=Number(e[1]),r=e[2];return((e,t)=>ae(t,(t=>ae(Si[t],(t=>e===t)))))(r,t)?T.some({value:n,unit:r}):T.none()})),Ti=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),Ei=e=>{let t=e===void 0?window:e,n=t.document,r=jr(V(n));return(e=>{let t=e===void 0?window:e;return Zt().browser.isFirefox()?T.none():T.from(t.visualViewport)})(t).fold((()=>{let e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return Ti(r.left,r.top,n,i)}),(e=>Ti(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)))},Di=(e,t)=>e.view(t).fold(b([]),(t=>{let n=Di(e,e.owner(t));return[t].concat(n)}));var Oi=Object.freeze({__proto__:null,view:e=>(e.dom===document?T.none():T.from(e.dom.defaultView?.frameElement)).map(V),owner:e=>ln(e)});let ki=e=>{let t=jr(H());return((e,t)=>{let n=Di(t,t.owner(e));return T.some(n)})(e,Oi).fold(ee(kr,e),(n=>{let r=Ar(e),i=ce(n,((e,t)=>{let n=Ar(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Dr(i.left+r.left+t.left,i.top+r.top+t.top)}))},Ai=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),ji=e=>{let t=kr(e),n=Tr(e),r=xr(e);return Ai(t.left,t.top,n,r)},Mi=e=>{let t=ki(e),n=Tr(e),r=xr(e);return Ai(t.left,t.top,n,r)},Ni=(e,t)=>{let n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.right,t.right),a=Math.min(e.bottom,t.bottom);return Ai(n,r,i-n,a-r)},Pi=()=>Ei(window),Fi=(e,t)=>Mt(e.element,t.event.target),Ii=e=>($e(pr(e,`position`),`fixed`)?T.none():hn(e)).orThunk((()=>{let t=bt(`span`);return pn(e).bind((e=>{Un(e,t);let n=hn(t);return $n(t),n}))})),Li=e=>Ii(e).map(kr).getOrThunk((()=>Dr(0,0)));var Ri;(function(e){e[e.Error=0]=`Error`,e[e.Value=1]=`Value`})(Ri||={});let zi=(e,t,n)=>e.stype===Ri.Error?t(e.serror):n(e.svalue),Bi=e=>({stype:Ri.Value,svalue:e}),Vi=e=>({stype:Ri.Error,serror:e}),Hi=Bi,Ui=Vi,Wi=zi,Gi=e=>o(e)&&xe(e).length>100?` removed due to size`:JSON.stringify(e,null,2),Ki=(e,t)=>Ui([{path:e,getErrorInfo:t}]),qi=e=>({extract:(t,n)=>((e,t)=>e.stype===Ri.Error?t(e.serror):e)(e(n),(e=>((e,t)=>Ki(e,b(t)))(t,e))),toString:b(`val`)}),Ji=qi(Hi),Yi=b(Ji),Xi=(e,t)=>qi((n=>{let r=typeof n;return e(n)?Hi(n):Ui(`Expected type: ${t} but got: ${r}`)})),Zi=Xi(h,`number`),Qi=Xi(a,`string`),$i=Xi(u,`boolean`),ea=Xi(m,`function`),ta=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case`Boolean`:case`Number`:case`String`:case`Date`:case`RegExp`:case`Blob`:case`FileList`:case`ImageData`:case`ImageBitmap`:case`ArrayBuffer`:return!0;case`Array`:case`Object`:return Object.keys(e).every((t=>ta(e[t])));default:return!1}},na=qi((e=>ta(e)?Hi(e):Ui(`Expected value to be acceptable for sending via postMessage`))),ra=e=>({tag:`defaultedThunk`,process:e}),ia=e=>ra(b(e)),aa=e=>({tag:`mergeWithThunk`,process:e}),oa=(e,t,n,r)=>({tag:`field`,key:e,newKey:t,presence:n,prop:r}),sa=(e,t,n)=>{switch(e.tag){case`field`:return t(e.key,e.newKey,e.presence,e.prop);case`custom`:return n(e.newKey,e.instantiator)}},ca=e=>{let t=(e=>{let t=[],n=[];return M(e,(e=>{zi(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,y(Ui,ue)(n)):Hi(t.values);var n},la=(e,t,n,r)=>r(Me(e,t).getOrThunk((()=>n(e)))),ua=(e,t,n,r,i)=>{let a=e=>i.extract(t.concat([r]),e),o=e=>e.fold((()=>Hi(T.none())),(e=>((e,t)=>e.stype===Ri.Value?{stype:Ri.Value,svalue:t(e.svalue)}:e)(i.extract(t.concat([r]),e),T.some)));switch(e.tag){case`required`:return((e,t,n,r)=>Me(t,n).fold((()=>((e,t,n)=>Ki(e,(()=>`Could not find valid *required* value for "`+t+`" in `+Gi(n))))(e,n,t)),r))(t,n,r,a);case`defaultedThunk`:return la(n,r,e.process,a);case`option`:return((e,t,n)=>n(Me(e,t)))(n,r,o);case`defaultedOptionThunk`:return((e,t,n,r)=>r(Me(e,t).map((t=>!0===t?n(e):t))))(n,r,e.process,o);case`mergeWithThunk`:return la(n,r,b({}),(t=>a(B(e.process(n),t))))}},da=e=>({extract:(t,n)=>e().extract(t,n),toString:()=>e().toString()}),fa=e=>xe(Oe(e,p)),pa=e=>{let t=ma(e),n=ce(e,((e,t)=>sa(t,(t=>B(e,{[t]:!0})),b(e))),{});return{extract:(e,r)=>{let i=N(u(r)?[]:fa(r),(e=>!Pe(n,e)));return i.length===0?t.extract(e,r):((e,t)=>Ki(e,(()=>`There are unsupported fields: [`+t.join(`, `)+`] specified`)))(e,i)},toString:t.toString}},ma=e=>({extract:(t,n)=>((e,t,n)=>{let r={},i=[];for(let a of n)sa(a,((n,a,o,s)=>{Wi(ua(o,e,t,n,s),(e=>{i.push(...e)}),(e=>{r[a]=e}))}),((e,n)=>{r[e]=n(t)}));return i.length>0?Ui(i):Hi(r)})(t,n,e),toString:()=>`obj{
`+j(e,(e=>sa(e,((e,t,n,r)=>e+` -> `+r.toString()),((e,t)=>`state(`+e+`)`)))).join(`
`)+`}`}),ha=e=>({extract:(t,n)=>ca(j(n,((n,r)=>e.extract(t.concat([`[`+r+`]`]),n)))),toString:()=>`array(`+e.toString()+`)`}),ga=(e,t)=>{let n=t===void 0?x:t;return{extract:(t,r)=>{let i=[];for(let a of e){let e=a.extract(t,r);if(e.stype===Ri.Value)return{stype:Ri.Value,svalue:n(e.svalue)};i.push(e)}return ca(i)},toString:()=>`oneOf(`+j(e,(e=>e.toString())).join(`, `)+`)`}},_a=(e,t)=>({extract:(n,r)=>((e,t)=>e.stype===Ri.Value?t(e.svalue):e)(((t,n)=>ha(qi(e)).extract(t,n))(n,xe(r)),(e=>ma(j(e,(e=>oa(e,e,{tag:`required`,process:{}},t)))).extract(n,r))),toString:()=>`setOf(`+t.toString()+`)`}),va=y(ha,ma),ya=(e,t)=>({extract:(n,r)=>Me(r,e).fold((()=>((e,t)=>Ki(e,(()=>`Choice schema did not contain choice key: "`+t+`"`)))(n,e)),(e=>((e,t,n,r)=>Me(n,r).fold((()=>((e,t,n)=>Ki(e,(()=>`The chosen schema: "`+n+`" did not exist in branches: `+Gi(t))))(e,n,r)),(n=>n.extract(e.concat([`branch: `+r]),t))))(n,r,t,e))),toString:()=>`chooseOn(`+e+`). Possible values: `+xe(t)}),ba=e=>qi((t=>e(t).fold(Ui,Hi))),xa=(e,t)=>_a((t=>e(t).fold(Vi,Bi)),t),Sa=(e,t,n)=>{return r=((e,t,n)=>((e,t)=>e.stype===Ri.Error?{stype:Ri.Error,serror:t(e.serror)}:e)(t.extract([e],n),(e=>({input:n,errors:e}))))(e,t,n),zi(r,Ge.error,Ge.value);var r},Ca=e=>e.fold((e=>{throw Error(Ta(e))}),x),wa=(e,t,n)=>Ca(Sa(e,t,n)),Ta=e=>`Errors: 
`+(e=>j(e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:b(`... (only showing first ten failures)`)}]):e,(e=>`Failed path: (`+e.path.join(` > `)+`)
`+e.getErrorInfo())))(e.errors).join(`
`)+`

Input object: `+Gi(e.input),Ea=(e,t)=>ya(e,we(t,ma)),Da=(e,t)=>((e,t)=>{let n=_t(t);return{extract:(e,t)=>n().extract(e,t),toString:()=>n().toString()}})(0,t),Oa=oa,ka=(e,t)=>({tag:`custom`,newKey:e,instantiator:t}),Aa=e=>ba((t=>k(e,t)?Ge.value(t):Ge.error(`Unsupported value: "${t}", choose one of "${e.join(`, `)}".`))),G=e=>Oa(e,e,{tag:`required`,process:{}},Yi()),ja=(e,t)=>Oa(e,e,{tag:`required`,process:{}},t),Ma=e=>ja(e,Zi),Na=e=>ja(e,Qi),Pa=(e,t)=>Oa(e,e,{tag:`required`,process:{}},Aa(t)),Fa=e=>ja(e,ea),Ia=(e,t)=>Oa(e,e,{tag:`required`,process:{}},ma(t)),La=(e,t)=>Oa(e,e,{tag:`required`,process:{}},va(t)),Ra=(e,t)=>Oa(e,e,{tag:`required`,process:{}},ha(t)),za=e=>Oa(e,e,{tag:`option`,process:{}},Yi()),Ba=(e,t)=>Oa(e,e,{tag:`option`,process:{}},t),Va=e=>Ba(e,Zi),Ha=e=>Ba(e,Qi),Ua=(e,t)=>Ba(e,Aa(t)),Wa=e=>Ba(e,ea),Ga=(e,t)=>Ba(e,ha(t)),Ka=(e,t)=>Ba(e,ma(t)),K=(e,t)=>Oa(e,e,ia(t),Yi()),qa=(e,t,n)=>Oa(e,e,ia(t),n),Ja=(e,t)=>qa(e,t,Zi),Ya=(e,t)=>qa(e,t,Qi),Xa=(e,t,n)=>qa(e,t,Aa(n)),Za=(e,t)=>qa(e,t,$i),Qa=(e,t)=>qa(e,t,ea),$a=(e,t,n)=>qa(e,t,ha(n)),eo=(e,t,n)=>qa(e,t,ma(n)),to=(e,t)=>((e,t)=>({[e]:t}))(e,t),no=e=>(e=>{let t={};return M(e,(e=>{t[e.key]=e.value})),t})(e),ro=b,io=ro(`touchstart`),ao=ro(`touchmove`),oo=ro(`touchend`),so=ro(`touchcancel`),co=ro(`mousedown`),lo=ro(`mousemove`),uo=ro(`mouseout`),fo=ro(`mouseup`),po=ro(`mouseover`),mo=ro(`focusin`),ho=ro(`focusout`),go=ro(`keydown`),_o=ro(`keyup`),vo=ro(`input`),yo=ro(`change`),bo=ro(`click`),xo=ro(`transitioncancel`),So=ro(`transitionend`),Co=ro(`transitionstart`),wo=ro(`selectstart`),To=e=>b(`alloy.`+e),Eo={tap:To(`tap`)},Do=To(`focus`),Oo=To(`blur.post`),ko=To(`paste.post`),Ao=To(`receive`),jo=To(`execute`),Mo=To(`focus.item`),No=Eo.tap,Po=To(`longpress`),Fo=To(`sandbox.close`),Io=To(`typeahead.cancel`),Lo=To(`system.init`),Ro=To(`system.touchmove`),zo=To(`system.touchend`),Bo=To(`system.scroll`),Vo=To(`system.resize`),Ho=To(`system.attached`),Uo=To(`system.detached`),Wo=To(`system.dismissRequested`),Go=To(`system.repositionRequested`),Ko=To(`focusmanager.shifted`),qo=To(`slotcontainer.visibility`),Jo=To(`system.external.element.scroll`),Yo=To(`change.tab`),Xo=To(`dismiss.tab`),Zo=To(`highlight`),Qo=To(`dehighlight`),$o=e=>(e=>Cn(e)?`#shadow-root`:(e=>{let t=bt(`div`);return Un(t,V(e.dom.cloneNode(!0))),tr(t)})((e=>er(e,!1))(e)))(e);var es;(function(e){e[e.STOP=0]=`STOP`,e[e.NORMAL=1]=`NORMAL`,e[e.LOGGING=2]=`LOGGING`})(es||={});let ts=Ie({}),ns=[`alloy/data/Fields`,`alloy/debugging/Debugging`],rs=(e,t,n)=>((e,t,n)=>{switch(Me(ts.get(),e).orThunk((()=>be(xe(ts.get()),(t=>e.indexOf(t)>-1?T.some(ts.get()[t]):T.none())))).getOr(es.NORMAL)){case es.NORMAL:return n(is());case es.LOGGING:{let r=((e,t)=>{let n=[],r=new Date().getTime();return{logEventCut:(e,t,r)=>{n.push({outcome:`cut`,target:t,purpose:r})},logEventStopped:(e,t,r)=>{n.push({outcome:`stopped`,target:t,purpose:r})},logNoParent:(e,t,r)=>{n.push({outcome:`no-parent`,target:t,purpose:r})},logEventNoHandlers:(e,t)=>{n.push({outcome:`no-handlers-left`,target:t})},logEventResponse:(e,t,r)=>{n.push({outcome:`response`,purpose:r,target:t})},write:()=>{let i=new Date().getTime();k([`mousemove`,`mouseover`,`mouseout`,Lo()],e)||console.log(e,{event:e,time:i-r,target:t.dom,sequence:j(n,(e=>k([`cut`,`stopped`,`response`],e.outcome)?`{`+e.purpose+`} `+e.outcome+` at (`+$o(e.target)+`)`:e.outcome))})}}})(e,t),i=n(r);return r.write(),i}case es.STOP:return!0}})(e,t,n),is=b({logEventCut:_,logEventStopped:_,logNoParent:_,logEventNoHandlers:_,logEventResponse:_,write:_}),q=b([G(`menu`),G(`selectedMenu`)]),as=b([G(`item`),G(`selectedItem`)]);as().concat(q());let os=b(ma(as())),ss=Ia(`initSize`,[G(`numColumns`),G(`numRows`)]),cs=()=>Ia(`markers`,[G(`backgroundMenu`)].concat(q(),as())),ls=e=>Ia(`markers`,j(e,G)),us=(e,t,n)=>((()=>{let e=Error();e.stack!==void 0&&le(e.stack.split(`
`),(e=>e.indexOf(`alloy`)>0&&!ae(ns,(t=>e.indexOf(t)>-1)))).getOr(`unknown`)})(),Oa(t,t,n,ba((e=>Ge.value(((...t)=>e.apply(void 0,t))))))),ds=e=>us(0,e,ia(_)),fs=e=>us(0,e,ia(T.none)),ps=e=>us(0,e,{tag:`required`,process:{}}),ms=e=>us(0,e,{tag:`required`,process:{}}),hs=(e,t)=>ka(e,b(t)),gs=e=>ka(e,x),_s=b(ss),vs=e=>j(e,(e=>ft(e,`/*`)?e.substring(0,e.length-2):e)),ys=(e,t)=>{let n=e.toString(),r=n.indexOf(`)`)+1,i=n.indexOf(`(`),a=n.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:vs(a)}),e},bs=(e,t)=>{let n=null;return{cancel:()=>{n!==null&&(clearTimeout(n),n=null)},schedule:(...r)=>{n=setTimeout((()=>{e.apply(null,r),n=null}),t)}}},xs=e=>{let t=e.raw;return t.touches===void 0||t.touches.length!==1?T.none():T.some(t.touches[0])};var Ss;(function(e){e.OnFocusMode=`onFocus`,e.OnEnterOrSpaceMode=`onEnterOrSpace`,e.OnApiMode=`onApi`})(Ss||={});let Cs=`placeholder`,ws=Fe([{single:[`required`,`valueThunk`]},{multiple:[`required`,`valueThunks`]}]),Ts=e=>Ne(e,`uiType`),Es=(e,t,n,r)=>((e,t,n,r)=>Ts(n)&&n.uiType===Cs?((e,t,n,r)=>e.exists((e=>e!==n.owner))?ws.single(!0,b(n)):Me(r,n.name).fold((()=>{throw Error(`Unknown placeholder component: `+n.name+`
Known: [`+xe(r)+`]
Namespace: `+e.getOr(`none`)+`
Spec: `+JSON.stringify(n,null,2))}),(e=>e.replace())))(e,0,n,r):ws.single(!1,b(n)))(e,0,n,r).fold(((i,a)=>{let o=Ts(n)?a(t,n.config,n.validated):a(t),s=de(Me(o,`components`).getOr([]),(n=>Es(e,t,n,r)));return[{...o,components:s}]}),((e,r)=>{if(Ts(n)){let e=r(t,n.config,n.validated);return n.validated.preprocess.getOr(x)(e)}return r(t)})),Ds=ws.single,Os=ws.multiple,ks=b(Cs),As=Fe([{required:[`data`]},{external:[`data`]},{optional:[`data`]},{group:[`data`]}]),js=K(`factory`,{sketch:x}),Ms=K(`schema`,[]),Ns=G(`name`),Ps=Oa(`pname`,`pname`,ra((e=>`<alloy.`+z(e.name)+`>`)),Yi()),Fs=ka(`schema`,(()=>[za(`preprocess`)])),Is=K(`defaults`,b({})),Ls=K(`overrides`,b({})),Rs=ma([js,Ms,Ns,Ps,Is,Ls]),zs=ma([js,Ms,Ns,Is,Ls]),Bs=ma([js,Ms,Ns,Ps,Is,Ls]),Vs=ma([js,Fs,Ns,G(`unit`),Ps,Is,Ls]),Hs=e=>e.fold(T.some,T.none,T.some,T.some),Us=e=>{let t=e=>e.name;return e.fold(t,t,t,t)},Ws=(e,t)=>n=>e(wa(`Converting part type`,t,n)),Gs=Ws(As.required,Rs),Ks=Ws(As.external,zs),qs=Ws(As.optional,Bs),Js=Ws(As.group,Vs),Ys=b(`entirety`);var Xs=Object.freeze({__proto__:null,required:Gs,external:Ks,optional:qs,group:Js,asNamedPart:Hs,name:Us,asCommon:e=>e.fold(x,x,x,x),original:Ys});let Zs=(e,t,n,r)=>B(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r)),Qs=(e,t)=>{let n={};return M(t,(t=>{Hs(t).each((t=>{let r=$s(e,t.pname);n[t.name]=n=>{let i=wa(`Part: `+t.name+` in `+e,ma(t.schema),n);return{...r,config:n,validated:i}}}))})),n},$s=(e,t)=>({uiType:ks(),owner:e,name:t}),ec=(e,t,n)=>({uiType:ks(),owner:e,name:t,config:n,validated:{}}),tc=e=>de(e,(e=>e.fold(T.none,T.some,T.none,T.none).map((e=>Ia(e.name,e.schema.concat([gs(Ys())])))).toArray())),nc=e=>j(e,Us),rc=(e,t,n)=>((e,t,n)=>{let r={},i={};return M(n,(e=>{e.fold((e=>{r[e.pname]=Ds(!0,((t,n,r)=>e.factory.sketch(Zs(t,e,n,r))))}),(e=>{let n=t.parts[e.name];i[e.name]=b(e.factory.sketch(Zs(t,e,n[Ys()]),n))}),(e=>{r[e.pname]=Ds(!1,((t,n,r)=>e.factory.sketch(Zs(t,e,n,r))))}),(e=>{r[e.pname]=Os(!0,((t,n,r)=>{let i=t[e.name];return j(i,(n=>e.factory.sketch(B(e.defaults(t,n,r),n,e.overrides(t,n)))))}))}))})),{internals:b(r),externals:b(i)}})(0,t,n),ic=(e,t,n)=>((e,t,n,r)=>{let i=we(r,((e,t)=>((e,t)=>{let n=!1;return{name:b(e),required:()=>t.fold(((e,t)=>e),((e,t)=>e)),used:()=>n,replace:()=>{if(n)throw Error(`Trying to use the same placeholder more than once: `+e);return n=!0,t}}})(t,e))),a=((e,t,n,r)=>de(n,(n=>Es(e,t,n,r))))(e,t,n,i);return Ce(i,(n=>{if(!1===n.used()&&n.required())throw Error(`Placeholder: `+n.name()+` was not found in components list
Namespace: `+e.getOr(`none`)+`
Components: `+JSON.stringify(t.components,null,2))})),a})(T.some(e),t,t.components,n),ac=(e,t,n)=>{let r=t.partUids[n];return e.getSystem().getByUid(r).toOptional()},oc=(e,t,n)=>ac(e,t,n).getOrDie(`Could not find part: `+n),sc=(e,t,n)=>{let r={},i=t.partUids,a=e.getSystem();return M(n,(e=>{r[e]=b(a.getByUid(i[e]))})),r},cc=(e,t)=>{let n=e.getSystem();return we(t.partUids,((e,t)=>b(n.getByUid(e))))},lc=e=>xe(e.partUids),uc=(e,t,n)=>{let r={},i=t.partUids,a=e.getSystem();return M(n,(e=>{r[e]=b(a.getByUid(i[e]).getOrDie())})),r},dc=(e,t)=>no(j(nc(t),(t=>({key:t,value:e+`-`+t})))),fc=e=>Oa(`partUids`,`partUids`,aa((t=>dc(t.uid,e))),Yi());var pc=Object.freeze({__proto__:null,generate:Qs,generateOne:ec,schemas:tc,names:nc,substitutes:rc,components:ic,defaultUids:dc,defaultUidsSchema:fc,getAllParts:cc,getAllPartNames:lc,getPart:ac,getPartOrDie:oc,getParts:sc,getPartsOrDie:uc});let mc=[`valignCentre`,`alignLeft`,`alignRight`,`alignCentre`,`top`,`bottom`,`left`,`right`,`inset`],hc=(e,t,n,r=1)=>{let i=e*r,a=t*r,o=e=>Me(n,e).getOr([]),s=(e,t,n)=>{let r=me(mc,n);return{offset:Dr(e,t),classesOn:de(n,o),classesOff:de(r,o)}};return{southeast:()=>s(-e,t,[`top`,`alignLeft`]),southwest:()=>s(e,t,[`top`,`alignRight`]),south:()=>s(-e/2,t,[`top`,`alignCentre`]),northeast:()=>s(-e,-t,[`bottom`,`alignLeft`]),northwest:()=>s(e,-t,[`bottom`,`alignRight`]),north:()=>s(-e/2,-t,[`bottom`,`alignCentre`]),east:()=>s(e,-t/2,[`valignCentre`,`left`]),west:()=>s(-e,-t/2,[`valignCentre`,`right`]),insetNortheast:()=>s(i,a,[`top`,`alignLeft`,`inset`]),insetNorthwest:()=>s(-i,a,[`top`,`alignRight`,`inset`]),insetNorth:()=>s(-i/2,a,[`top`,`alignCentre`,`inset`]),insetSoutheast:()=>s(i,-a,[`bottom`,`alignLeft`,`inset`]),insetSouthwest:()=>s(-i,-a,[`bottom`,`alignRight`,`inset`]),insetSouth:()=>s(-i/2,-a,[`bottom`,`alignCentre`,`inset`]),insetEast:()=>s(-i,-a/2,[`valignCentre`,`right`,`inset`]),insetWest:()=>s(i,-a/2,[`valignCentre`,`left`,`inset`])}},gc=()=>hc(0,0,{}),_c=(e,t,n,r,i,a,o,s=!1)=>({x:e,y:t,bubble:n,direction:r,placement:i,restriction:a,label:`${o}-${i}`,alwaysFit:s}),vc=Fe([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),yc=vc.southeast,bc=vc.southwest,xc=vc.northeast,Sc=vc.northwest,Cc=vc.south,wc=vc.north,Tc=vc.east,Ec=vc.west,Dc=(e,t)=>he([`left`,`right`,`top`,`bottom`],(n=>Me(t,n).map((t=>((e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}})(e,t))))),Oc=`layout`,kc=e=>e.x,Ac=(e,t)=>e.x+e.width/2-t.width/2,jc=(e,t)=>e.x+e.width-t.width,Mc=(e,t)=>e.y-t.height,Nc=e=>e.y+e.height,Pc=(e,t)=>e.y+e.height/2-t.height/2,Fc=(e,t,n)=>_c(kc(e),Nc(e),n.southeast(),yc(),`southeast`,Dc(e,{left:1,top:3}),Oc),Ic=(e,t,n)=>_c(jc(e,t),Nc(e),n.southwest(),bc(),`southwest`,Dc(e,{right:0,top:3}),Oc),Lc=(e,t,n)=>_c(kc(e),Mc(e,t),n.northeast(),xc(),`northeast`,Dc(e,{left:1,bottom:2}),Oc),Rc=(e,t,n)=>_c(jc(e,t),Mc(e,t),n.northwest(),Sc(),`northwest`,Dc(e,{right:0,bottom:2}),Oc),zc=(e,t,n)=>_c(Ac(e,t),Mc(e,t),n.north(),wc(),`north`,Dc(e,{bottom:2}),Oc),Bc=(e,t,n)=>_c(Ac(e,t),Nc(e),n.south(),Cc(),`south`,Dc(e,{top:3}),Oc),Vc=(e,t,n)=>_c((e=>e.x+e.width)(e),Pc(e,t),n.east(),Tc(),`east`,Dc(e,{left:0}),Oc),Hc=(e,t,n)=>_c(((e,t)=>e.x-t.width)(e,t),Pc(e,t),n.west(),Ec(),`west`,Dc(e,{right:1}),Oc),Uc=()=>[Fc,Ic,Lc,Rc,Bc,zc,Vc,Hc],Wc=()=>[Ic,Fc,Rc,Lc,Bc,zc,Vc,Hc],Gc=()=>[Lc,Rc,Fc,Ic,zc,Bc],Kc=()=>[Rc,Lc,Ic,Fc,zc,Bc],qc=()=>[Fc,Ic,Lc,Rc,Bc,zc],Jc=()=>[Ic,Fc,Rc,Lc,Bc,zc],Yc=`data-alloy-placement`,Xc=e=>Yn(e,Yc),Zc=`layout-inset`,Qc=e=>e.x,$c=(e,t)=>e.x+e.width/2-t.width/2,el=(e,t)=>e.x+e.width-t.width,tl=e=>e.y,nl=(e,t)=>e.y+e.height-t.height,rl=(e,t)=>e.y+e.height/2-t.height/2,il=(e,t,n)=>_c(el(e,t),nl(e,t),n.insetSouthwest(),Sc(),`southwest`,Dc(e,{right:0,bottom:3}),Zc),al=(e,t,n)=>_c(Qc(e),nl(e,t),n.insetSoutheast(),xc(),`southeast`,Dc(e,{left:1,bottom:3}),Zc),ol=(e,t,n)=>_c(el(e,t),tl(e),n.insetNorthwest(),bc(),`northwest`,Dc(e,{right:0,top:2}),Zc),sl=(e,t,n)=>_c(Qc(e),tl(e),n.insetNortheast(),yc(),`northeast`,Dc(e,{left:1,top:2}),Zc),cl=(e,t,n)=>_c($c(e,t),tl(e),n.insetNorth(),Cc(),`north`,Dc(e,{top:2}),Zc),ll=(e,t,n)=>_c($c(e,t),nl(e,t),n.insetSouth(),wc(),`south`,Dc(e,{bottom:3}),Zc),ul=(e,t,n)=>_c(el(e,t),rl(e,t),n.insetEast(),Ec(),`east`,Dc(e,{right:0}),Zc),dl=(e,t,n)=>_c(Qc(e),rl(e,t),n.insetWest(),Tc(),`west`,Dc(e,{left:1}),Zc),fl=e=>{switch(e){case`north`:return cl;case`northeast`:return sl;case`northwest`:return ol;case`south`:return ll;case`southeast`:return al;case`southwest`:return il;case`east`:return ul;case`west`:return dl}},pl=(e,t,n,r,i)=>Xc(r).map(fl).getOr(cl)(e,t,n,r,i),ml=e=>{switch(e){case`north`:return ll;case`northeast`:return al;case`northwest`:return il;case`south`:return cl;case`southeast`:return sl;case`southwest`:return ol;case`east`:return dl;case`west`:return ul}},hl=(e,t,n,r,i)=>Xc(r).map(ml).getOr(cl)(e,t,n,r,i),gl=(e,t)=>{((e,t)=>{W(e,`max-height`,yr.max(e,t,[`margin-top`,`border-top-width`,`padding-top`,`padding-bottom`,`border-bottom-width`,`margin-bottom`])+`px`)})(e,Math.floor(t))},_l=b(((e,t)=>{gl(e,t),lr(e,{"overflow-x":`hidden`,"overflow-y":`auto`})})),vl=b(((e,t)=>{gl(e,t)})),yl=b(((e,t)=>{((e,t)=>{W(e,`max-width`,Cr.max(e,t,[`margin-left`,`border-left-width`,`padding-left`,`padding-right`,`border-right-width`,`margin-right`])+`px`)})(e,Math.floor(t))}));var bl;(function(e){e.TopToBottom=`toptobottom`,e.BottomToTop=`bottomtotop`})(bl||={});let xl=`data-alloy-vertical-dir`,Sl=e=>li(e,(e=>rn(e)&&Jn(e,`data-alloy-vertical-dir`)===bl.BottomToTop));var Cl;(function(e){e[e.HighlightMenuAndItem=0]=`HighlightMenuAndItem`,e[e.HighlightJustMenu=1]=`HighlightJustMenu`,e[e.HighlightNone=2]=`HighlightNone`})(Cl||={});let wl={init:()=>Tl({readState:b(`No State required`)})},Tl=e=>e,El={can:re,abort:w,run:_},Dl=e=>{if(!Pe(e,`can`)&&!Pe(e,`abort`)&&!Pe(e,`run`))throw Error(`EventHandler defined by: `+JSON.stringify(e,null,2)+` does not have can, abort, or run!`);return{...El,...e}},Ol=(e,t)=>{Ml(e,e.element,t,{})},kl=(e,t,n)=>{Ml(e,e.element,t,n)},Al=e=>{Ol(e,jo())},jl=(e,t,n)=>{Ml(e,t,n,{})},Ml=(e,t,n,r)=>{let i={target:t,...r};e.getSystem().triggerEvent(n,t,i)},Nl=(e,t,n,r)=>{e.getSystem().triggerEvent(n,t,r.event)},Pl=e=>no(e),Fl=(e,t)=>({key:e,value:Dl({abort:t})}),Il=e=>({key:e,value:Dl({run:(e,t)=>{t.event.prevent()}})}),J=(e,t)=>({key:e,value:Dl({run:t})}),Ll=(e,t,n)=>({key:e,value:Dl({run:(e,r)=>{t.apply(void 0,[e,r].concat(n))}})}),Rl=e=>t=>({key:e,value:Dl({run:(e,n)=>{Fi(e,n)&&t(e,n)}})}),zl=(e,t,n)=>((e,t)=>J(e,((n,r)=>{n.getSystem().getByUid(t).each((t=>{Nl(t,t.element,e,r)}))})))(e,t.partUids[n]),Bl=(e,t)=>J(e,((e,n)=>{let r=n.event;t(e,e.getSystem().getByDom(r.target).getOrThunk((()=>pi(r.target,(t=>e.getSystem().getByDom(t).toOptional()),w).getOr(e))),n)})),Vl=e=>J(e,((e,t)=>{t.cut()})),Hl=e=>J(e,((e,t)=>{t.stop()})),Ul=(e,t)=>Rl(e)(t),Wl=Rl(Ho()),Gl=Rl(Uo()),Kl=Rl(Lo()),ql=(e=>t=>J(e,t))(jo()),Jl=e=>({classes:d(e.classes)?[]:e.classes,attributes:d(e.attributes)?{}:e.attributes,styles:d(e.styles)?{}:e.styles}),Yl=(e,t,n)=>Kl(((r,i)=>{n(r,e,t)})),Xl=e=>({key:e,value:void 0}),Zl=(e,t,n,r,i,a,o)=>{let s=e=>Pe(e,n)?e[n]():T.none(),c=we(i,((e,t)=>((e,t,n)=>((e,t,n)=>{let r=n.toString(),i=r.indexOf(`)`)+1,a=r.indexOf(`(`),o=r.substring(a+1,i-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:vs(o.slice(0,1).concat(o.slice(3)))}),e})(((r,...i)=>{let a=[r].concat(i);return r.config({name:b(e)}).fold((()=>{throw Error(`We could not find any behaviour configuration for: `+e+`. Using API: `+n)}),(e=>{let n=Array.prototype.slice.call(a,1);return t.apply(void 0,[r,e.config,e.state].concat(n))}))}),n,t))(n,e,t))),l={...we(a,((e,t)=>ys(e,t))),...c,revoke:ee(Xl,n),config:t=>({key:n,value:{config:wa(n+`-config`,e,t),me:l,configAsRaw:_t((()=>wa(n+`-config`,e,t))),initialConfig:t,state:o}}),schema:b(t),exhibit:(e,t)=>tt(s(e),Me(r,`exhibit`),((e,n)=>n(t,e.config,e.state))).getOrThunk((()=>Jl({}))),name:b(n),handlers:e=>s(e).map((e=>Me(r,`events`).getOr((()=>({})))(e.config,e.state))).getOr({})};return l},Y=e=>no(e),Ql=pa([G(`fields`),G(`name`),K(`active`,{}),K(`apis`,{}),K(`state`,wl),K(`extra`,{})]),$l=e=>{let t=wa(`Creating behaviour: `+e.name,Ql,e);return((e,t,n,r,i,a)=>{let o=pa(e),s=Ka(t,[(c=e,Ba(`config`,pa(c)))]);var c;return Zl(o,s,t,n,r,i,a)})(t.fields,t.name,t.active,t.apis,t.extra,t.state)},eu=pa([G(`branchKey`),G(`branches`),G(`name`),K(`active`,{}),K(`apis`,{}),K(`state`,wl),K(`extra`,{})]),tu=e=>{let t=wa(`Creating behaviour: `+e.name,eu,e);return((e,t,n,r,i,a)=>Zl(e,Ka(t,[Ba(`config`,e)]),t,n,r,i,a))(Ea(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},nu=b(void 0),ru=(e,t)=>({key:e,value:{config:{},me:((e,t)=>{let n=Pl(t);return $l({fields:[G(`enabled`)],name:e,active:{events:b(n)}})})(e,t),configAsRaw:b({}),initialConfig:{},state:wl}}),iu=(e,t)=>{t.ignore||(Fn(e.element),t.onFocus(e))};var au=Object.freeze({__proto__:null,focus:iu,blur:(e,t)=>{t.ignore||In(e.element)},isFocused:e=>Ln(e.element)}),ou=Object.freeze({__proto__:null,exhibit:(e,t)=>Jl(t.ignore?{}:{attributes:{tabindex:`-1`}}),events:e=>Pl([J(Do(),((t,n)=>{iu(t,e),n.stop()}))].concat(e.stopMousedown?[J(co(),((e,t)=>{t.event.prevent()}))]:[]))});let su=$l({fields:[ds(`onFocus`),K(`stopMousedown`,!1),K(`ignore`,!1)],name:`focusing`,active:ou,apis:au}),cu=[8],lu=[9],uu=[13],du=[27],fu=[32],pu=[37],mu=[38],hu=[39],gu=[40],_u=b(`tooltipping.close.all`),vu=b(`dismiss.popups`),yu=b(`reposition.popups`),bu=b(`mouse.released`),xu=(e,t,n)=>{let r=pe(e.slice(0,t)),i=pe(e.slice(t+1));return le(r.concat(i),n)},Su=(e,t,n)=>le(pe(e.slice(0,t)),n),Cu=(e,t,n)=>{let r=e.slice(0,t);return le(e.slice(t+1).concat(r),n)},wu=(e,t,n)=>le(e.slice(t+1),n),Tu=e=>t=>{let n=t.raw;return k(e,n.which)},Eu=e=>t=>fe(e,(e=>e(t))),Du=e=>!0===e.raw.shiftKey,Ou=e=>!0===e.raw.ctrlKey,ku=te(Du),Au=(e,t)=>({matches:e,classification:t}),ju=(e,t,n,r)=>{M(ci(e.element,`.`+t.highlightClass),(n=>{ae(r,(e=>Mt(e.element,n)))||(ei(n,t.highlightClass),e.getSystem().getByDom(n).each((n=>{t.onDehighlight(e,n),Ol(n,Qo())})))}))},Mu=(e,t,n,r)=>{ju(e,t,0,[r]),Nu(e,t,n,r)||(Qr(r.element,t.highlightClass),t.onHighlight(e,r),Ol(r,Zo()))},Nu=(e,t,n,r)=>ti(r.element,t.highlightClass),Pu=(e,t,n)=>Wr(e.element,`.`+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),Fu=(e,t,n)=>{let r=ci(e.element,`.`+t.itemClass);return(r.length>0?T.some(r[r.length-1]):T.none()).bind((t=>e.getSystem().getByDom(t).toOptional()))},Iu=(e,t,n,r)=>{let i=ci(e.element,`.`+t.itemClass);return F(i,(e=>ti(e,t.highlightClass))).bind((t=>{let n=R(t,r,0,i.length-1);return e.getSystem().getByDom(i[n]).toOptional()}))},Lu=(e,t,n)=>et(j(ci(e.element,`.`+t.itemClass),(t=>e.getSystem().getByDom(t).toOptional())));var Ru=Object.freeze({__proto__:null,dehighlightAll:(e,t,n)=>ju(e,t,0,[]),dehighlight:(e,t,n,r)=>{Nu(e,t,n,r)&&(ei(r.element,t.highlightClass),t.onDehighlight(e,r),Ol(r,Qo()))},highlight:Mu,highlightFirst:(e,t,n)=>{Pu(e,t).each((r=>{Mu(e,t,n,r)}))},highlightLast:(e,t,n)=>{Fu(e,t).each((r=>{Mu(e,t,n,r)}))},highlightAt:(e,t,n,r)=>{((e,t,n,r)=>{let i=ci(e.element,`.`+t.itemClass);return T.from(i[r]).fold((()=>Ge.error(Error(`No element found with index `+r))),e.getSystem().getByDom)})(e,t,0,r).fold((e=>{throw e}),(r=>{Mu(e,t,n,r)}))},highlightBy:(e,t,n,r)=>{le(Lu(e,t),r).each((r=>{Mu(e,t,n,r)}))},isHighlighted:Nu,getHighlighted:(e,t,n)=>Wr(e.element,`.`+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),getFirst:Pu,getLast:Fu,getPrevious:(e,t,n)=>Iu(e,t,0,-1),getNext:(e,t,n)=>Iu(e,t,0,1),getCandidates:Lu});let zu=$l({fields:[G(`highlightClass`),G(`itemClass`),ds(`onHighlight`),ds(`onDehighlight`)],name:`highlighting`,apis:Ru}),Bu=(e,t,n)=>{t.exists((e=>n.exists((t=>Mt(t,e)))))||kl(e,Ko(),{prevFocus:t,newFocus:n})},Vu=()=>{let e=e=>zn(e.element);return{get:e,set:(t,n)=>{let r=e(t);t.getSystem().triggerFocus(n,t.element),Bu(t,r,e(t))}}},Hu=()=>{let e=e=>zu.getHighlighted(e).map((e=>e.element));return{get:e,set:(t,n)=>{let r=e(t);t.getSystem().getByDom(n).fold(_,(e=>{zu.highlight(t,e)})),Bu(t,r,e(t))}}},Uu=(e,t,n,r,i)=>{let a=(e,t,n,r,i)=>{return(a=n(e,t,r,i),o=t.event,le(a,(e=>e.matches(o))).map((e=>e.classification))).bind((n=>n(e,t,r,i)));var a,o},o={schema:()=>e.concat([K(`focusManager`,Vu()),qa(`focusInside`,`onFocus`,ba((e=>k([`onFocus`,`onEnterOrSpace`,`onApi`],e)?Ge.value(e):Ge.error(`Invalid value for focusInside`)))),hs(`handler`,o),hs(`state`,t),hs(`sendFocusIn`,i)]),processKey:a,toEvents:(e,t)=>{let o=e.focusInside===Ss.OnFocusMode?i(e).map((n=>J(Do(),((r,i)=>{n(r,e,t),i.stop()})))):T.none(),s=[J(go(),((r,o)=>{a(r,o,n,e,t).fold((()=>{((n,r)=>{let a=Tu(fu.concat(uu))(r.event);e.focusInside===Ss.OnEnterOrSpaceMode&&a&&Fi(n,r)&&i(e).each((i=>{i(n,e,t),r.stop()}))})(r,o)}),(e=>{o.stop()}))})),J(_o(),((n,i)=>{a(n,i,r,e,t).each((e=>{i.stop()}))}))];return Pl(o.toArray().concat(s))}};return o},Wu=e=>{let t=[za(`onEscape`),za(`onEnter`),K(`selector`,`[data-alloy-tabstop="true"]:not(:disabled)`),K(`firstTabstop`,0),K(`useTabstopAt`,re),za(`visibilitySelector`),e],n=(e,t)=>br(e.visibilitySelector.bind((e=>Gr(t,e))).getOr(t))>0,r=(e,t)=>t.focusManager.get(e).bind((e=>Gr(e,t.selector))),i=(e,t,r)=>{((e,t)=>{let r=N(ci(e.element,t.selector),(e=>n(t,e)));return T.from(r[t.firstTabstop])})(e,t).each((n=>{t.focusManager.set(e,n)}))},a=(e,t,i,a)=>{let o=N(ci(e.element,i.selector),(e=>n(i,e)));return r(e,i).bind((t=>F(o,ee(Mt,t)).bind((t=>((e,t,r,i,a)=>a(t,r,(e=>((e,t)=>n(e,t)&&e.useTabstopAt(t))(i,e))).fold((()=>i.cyclic?T.some(!0):T.none()),(t=>(i.focusManager.set(e,t),T.some(!0)))))(e,o,t,i,a)))))},o=(e,t,n)=>a(e,0,n,n.cyclic?xu:Su),s=(e,t,n)=>a(e,0,n,n.cyclic?Cu:wu),c=b([Au(Eu([Du,Tu(lu)]),o),Au(Tu(lu),s),Au(Eu([ku,Tu(uu)]),((e,t,n)=>n.onEnter.bind((n=>n(e,t)))))]),l=b([Au(Tu(du),((e,t,n)=>(e.getSystem().broadcastOn([_u()],{closedTooltip:()=>{t.stop()}}),t.isStopped()?T.none():n.onEscape.bind((n=>n(e,t)))))),Au(Tu(lu),((e,t,n)=>r(e,n).filter((e=>!n.useTabstopAt(e))).bind((r=>((e=>(e=>pn(e))(e).bind(bn).exists((t=>Mt(t,e))))(r)?o:s)(e,t,n)))))]);return Uu(t,wl.init,c,l,(()=>T.some(i)))};var Gu=Wu(ka(`cyclic`,w)),Ku=Wu(ka(`cyclic`,re));let qu=e=>cn(`input`)(e)&&Jn(e,`type`)!==`radio`||cn(`textarea`)(e),Ju=(e,t,n)=>qu(n)&&Tu(fu)(t.event)?T.none():((e,t,n)=>(jl(e,n,jo()),T.some(!0)))(e,0,n),Yu=(e,t)=>T.some(!0),Xu=[K(`execute`,Ju),K(`useSpace`,!1),K(`useEnter`,!0),K(`useControlEnter`,!1),K(`useDown`,!1)],Zu=(e,t,n)=>n.execute(e,t,e.element);var Qu=Uu(Xu,wl.init,((e,t,n,r)=>{let i=n.useSpace&&!qu(e.element)?fu:[],a=n.useEnter?uu:[],o=n.useDown?gu:[];return[Au(Tu(i.concat(a).concat(o)),Zu)].concat(n.useControlEnter?[Au(Eu([Ou,Tu(uu)]),Zu)]:[])}),((e,t,n,r)=>n.useSpace&&!qu(e.element)?[Au(Tu(fu),Yu)]:[]),(()=>T.none()));let $u=()=>{let e=st();return Tl({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:`?`,numColumns:`?`}),setGridSize:(t,n)=>{e.set({numRows:t,numColumns:n})},getNumRows:()=>e.get().map((e=>e.numRows)),getNumColumns:()=>e.get().map((e=>e.numColumns))})};var ed=Object.freeze({__proto__:null,flatgrid:$u,init:e=>e.state(e)});let td=e=>(t,n,r,i)=>ad(e(t.element),t,n,r,i),nd=(e,t)=>td(Pr(e,t)),rd=(e,t)=>td(Pr(t,e)),id=e=>(t,n,r,i)=>ad(e,t,n,r,i),ad=(e,t,n,r,i)=>r.focusManager.get(t).bind((n=>e(t.element,n,r,i))).map((e=>(r.focusManager.set(t,e),!0))),od=id,sd=id,cd=id,ld=(e,t,n)=>(e=>F(e,(e=>Mt(e,t))).map((t=>({index:t,candidates:e}))))(N(ci(e,n),Sr)),ud=(e,t)=>F(e,(e=>Mt(t,e))),dd=(e,t,n,r)=>r(Math.floor(t/n),t%n).bind((t=>{let r=t.row*n+t.column;return r>=0&&r<e.length?T.some(e[r]):T.none()})),fd=(e,t,n,r,i)=>dd(e,t,r,((t,a)=>{let o=R(a,i,0,(t===n-1?e.length-t*r:r)-1);return T.some({row:t,column:o})})),pd=(e,t,n,r,i)=>dd(e,t,r,((t,a)=>{let o=R(t,i,0,n-1),s=Ye(a,0,(o===n-1?e.length-o*r:r)-1);return T.some({row:o,column:s})})),md=[G(`selector`),K(`execute`,Ju),fs(`onEscape`),K(`captureTab`,!1),_s()],hd=(e,t,n)=>{Wr(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},gd=e=>(t,n,r,i)=>ld(t,n,r.selector).bind((t=>e(t.candidates,t.index,i.getNumRows().getOr(r.initSize.numRows),i.getNumColumns().getOr(r.initSize.numColumns)))),_d=(e,t,n)=>n.captureTab?T.some(!0):T.none(),vd=gd(((e,t,n,r)=>fd(e,t,n,r,-1))),yd=gd(((e,t,n,r)=>fd(e,t,n,r,1))),bd=gd(((e,t,n,r)=>pd(e,t,n,r,-1))),xd=gd(((e,t,n,r)=>pd(e,t,n,r,1)));var Sd=Uu(md,$u,b([Au(Tu(pu),nd(vd,yd)),Au(Tu(hu),rd(vd,yd)),Au(Tu(mu),od(bd)),Au(Tu(gu),sd(xd)),Au(Eu([Du,Tu(lu)]),_d),Au(Eu([ku,Tu(lu)]),_d),Au(Tu(fu.concat(uu)),((e,t,n,r)=>((e,t)=>t.focusManager.get(e).bind((e=>Gr(e,t.selector))))(e,n).bind((r=>n.execute(e,t,r)))))]),b([Au(Tu(du),((e,t,n)=>n.onEscape(e,t))),Au(Tu(fu),Yu)]),(()=>T.some(hd)));let Cd=(e,t,n,r,i)=>{let a=(e,t,n)=>i(e,t,r,0,n.length-1,n[t],(t=>{return r=n[t],en(r)===`button`&&Jn(r,`disabled`)===`disabled`?a(e,t,n):T.from(n[t]);var r}));return ld(e,n,t).bind((e=>{let t=e.index,n=e.candidates;return a(t,t,n)}))},wd=(e,t,n,r)=>Cd(e,t,n,r,((e,t,n,r,i,a,o)=>{let s=Ye(t+n,r,i);return s===e?T.from(a):o(s)})),Td=(e,t,n,r)=>Cd(e,t,n,r,((e,t,n,r,i,a,o)=>{let s=R(t,n,r,i);return s===e?T.none():o(s)})),Ed=[G(`selector`),K(`getInitial`,T.none),K(`execute`,Ju),fs(`onEscape`),K(`executeOnMove`,!1),K(`allowVertical`,!0),K(`allowHorizontal`,!0),K(`cycles`,!0)],Dd=(e,t,n)=>((e,t)=>t.focusManager.get(e).bind((e=>Gr(e,t.selector))))(e,n).bind((r=>n.execute(e,t,r))),Od=(e,t,n)=>{t.getInitial(e).orThunk((()=>Wr(e.element,t.selector))).each((n=>{t.focusManager.set(e,n)}))},kd=(e,t,n)=>(n.cycles?Td:wd)(e,n.selector,t,-1),Ad=(e,t,n)=>(n.cycles?Td:wd)(e,n.selector,t,1),jd=e=>(t,n,r,i)=>e(t,n,r,i).bind((()=>r.executeOnMove?Dd(t,n,r):T.some(!0))),Md=b([Au(Tu(fu),Yu),Au(Tu(du),((e,t,n)=>n.onEscape(e,t)))]);var Nd=Uu(Ed,wl.init,((e,t,n,r)=>{let i=[...n.allowHorizontal?pu:[]].concat(n.allowVertical?mu:[]),a=[...n.allowHorizontal?hu:[]].concat(n.allowVertical?gu:[]);return[Au(Tu(i),jd(nd(kd,Ad))),Au(Tu(a),jd(rd(kd,Ad))),Au(Tu(uu),Dd),Au(Tu(fu),Dd)]}),Md,(()=>T.some(Od)));let Pd=(e,t,n)=>T.from(e[t]).bind((e=>T.from(e[n]).map((e=>({rowIndex:t,columnIndex:n,cell:e}))))),Fd=(e,t,n,r)=>{let i=e[t].length;return Pd(e,t,R(n,r,0,i-1))},Id=(e,t,n,r)=>{let i=R(n,r,0,e.length-1),a=e[i].length;return Pd(e,i,Ye(t,0,a-1))},Ld=(e,t,n,r)=>{let i=e[t].length;return Pd(e,t,Ye(n+r,0,i-1))},Rd=(e,t,n,r)=>{let i=Ye(n+r,0,e.length-1),a=e[i].length;return Pd(e,i,Ye(t,0,a-1))},zd=[Ia(`selectors`,[G(`row`),G(`cell`)]),K(`cycles`,!0),K(`previousSelector`,T.none),K(`execute`,Ju)],Bd=(e,t,n)=>{t.previousSelector(e).orThunk((()=>{let n=t.selectors;return Wr(e.element,n.cell)})).each((n=>{t.focusManager.set(e,n)}))},Vd=(e,t)=>(n,r,i)=>{let a=i.cycles?e:t;return Gr(r,i.selectors.row).bind((e=>ud(ci(e,i.selectors.cell),r).bind((t=>{let r=ci(n,i.selectors.row);return ud(r,e).bind((e=>a(((e,t)=>j(e,(e=>ci(e,t.selectors.cell))))(r,i),e,t).map((e=>e.cell))))}))))},Hd=Vd(((e,t,n)=>Fd(e,t,n,-1)),((e,t,n)=>Ld(e,t,n,-1))),Ud=Vd(((e,t,n)=>Fd(e,t,n,1)),((e,t,n)=>Ld(e,t,n,1))),Wd=Vd(((e,t,n)=>Id(e,n,t,-1)),((e,t,n)=>Rd(e,n,t,-1))),Gd=Vd(((e,t,n)=>Id(e,n,t,1)),((e,t,n)=>Rd(e,n,t,1))),Kd=b([Au(Tu(pu),nd(Hd,Ud)),Au(Tu(hu),rd(Hd,Ud)),Au(Tu(mu),od(Wd)),Au(Tu(gu),sd(Gd)),Au(Tu(fu.concat(uu)),((e,t,n)=>zn(e.element).bind((r=>n.execute(e,t,r)))))]),qd=b([Au(Tu(fu),Yu)]);var Jd=Uu(zd,wl.init,Kd,qd,(()=>T.some(Bd)));let Yd=[G(`selector`),K(`execute`,Ju),K(`moveOnTab`,!1)],Xd=(e,t,n)=>n.focusManager.get(e).bind((r=>n.execute(e,t,r))),Zd=(e,t,n)=>{Wr(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},Qd=(e,t,n)=>Td(e,n.selector,t,-1),$d=(e,t,n)=>Td(e,n.selector,t,1),ef=b([Au(Tu(mu),cd(Qd)),Au(Tu(gu),cd($d)),Au(Eu([Du,Tu(lu)]),((e,t,n,r)=>n.moveOnTab?cd(Qd)(e,t,n,r):T.none())),Au(Eu([ku,Tu(lu)]),((e,t,n,r)=>n.moveOnTab?cd($d)(e,t,n,r):T.none())),Au(Tu(uu),Xd),Au(Tu(fu),Xd)]),tf=b([Au(Tu(fu),Yu)]);var X=Uu(Yd,wl.init,ef,tf,(()=>T.some(Zd))),nf=Uu([fs(`onSpace`),fs(`onEnter`),fs(`onShiftEnter`),fs(`onLeft`),fs(`onRight`),fs(`onTab`),fs(`onShiftTab`),fs(`onUp`),fs(`onDown`),fs(`onEscape`),K(`stopSpaceKeyup`,!1),za(`focusIn`)],wl.init,((e,t,n)=>[Au(Tu(fu),n.onSpace),Au(Eu([ku,Tu(uu)]),n.onEnter),Au(Eu([Du,Tu(uu)]),n.onShiftEnter),Au(Eu([Du,Tu(lu)]),n.onShiftTab),Au(Eu([ku,Tu(lu)]),n.onTab),Au(Tu(mu),n.onUp),Au(Tu(gu),n.onDown),Au(Tu(pu),n.onLeft),Au(Tu(hu),n.onRight),Au(Tu(fu),n.onSpace)]),((e,t,n)=>[...n.stopSpaceKeyup?[Au(Tu(fu),Yu)]:[],Au(Tu(du),n.onEscape)]),(e=>e.focusIn));let rf=Gu.schema(),af=Ku.schema(),of=Nd.schema(),sf=Sd.schema(),cf=Jd.schema(),lf=Qu.schema(),uf=X.schema(),df=nf.schema(),ff=tu({branchKey:`mode`,branches:Object.freeze({__proto__:null,acyclic:rf,cyclic:af,flow:of,flatgrid:sf,matrix:cf,execution:lf,menu:uf,special:df}),name:`keying`,active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,n)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(r=>{r(e,t,n)}))},setGridSize:(e,t,n,r,i)=>{(e=>Pe(e,`setGridSize`))(n)?n.setGridSize(r,i):console.error(`Layout does not support setGridSize`)}},state:ed}),pf=z(`alloy-premade`),mf=e=>(Object.defineProperty(e.element.dom,pf,{value:e.uid,writable:!0}),to(pf,e)),hf=e=>Me(e,pf),gf=e=>((e,t)=>{let n=t.toString(),r=n.indexOf(`)`)+1,i=n.indexOf(`(`),a=n.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:`OVERRIDE`,parameters:vs(a.slice(1))}),e})(((t,...n)=>e(t.getApis(),t,...n)),e),_f=e=>e.getSystem().isConnected(),vf=e=>{Ol(e,Uo()),M(e.components(),vf)},yf=e=>{M(e.components(),yf),Ol(e,Ho())},bf=(e,t)=>{e.getSystem().addToWorld(t),U(e.element)&&yf(t)},xf=e=>{vf(e),e.getSystem().removeFromWorld(e)},Sf=(e,t)=>{Un(e.element,t.element)},Cf=(e,t)=>{wf(e,t,Un)},wf=(e,t,n)=>{e.getSystem().addToWorld(t),n(e.element,t.element),U(e.element)&&yf(t),e.syncComponents()},Tf=e=>{vf(e),$n(e.element),e.getSystem().removeFromWorld(e)},Ef=e=>{let t=pn(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));Tf(e),t.each((e=>{e.syncComponents()}))},Df=e=>{M(e.components(),Tf),Qn(e.element),e.syncComponents()},Of=(e,t)=>{Af(e,t,Un)},kf=(e,t)=>{Af(e,t,Vn)},Af=(e,t,n)=>{n(e,t.element),M(vn(t.element),(e=>{t.getByDom(e).each(yf)}))},jf=e=>{M(vn(e.element),(t=>{e.getByDom(t).each(vf)})),$n(e.element)},Mf=(e,t,n)=>{n.fold((()=>Un(e,t)),(e=>{Mt(e,t)||(Bn(e,t),$n(e))}))},Nf=(e,t,n)=>{let r=j(t,n);return M(vn(e).slice(r.length),$n),r},Pf=(e,t,n,r)=>{let i=yn(e,t),a=r(n,i),o=((e,t,n)=>yn(e,t).map((e=>{if(n.exists((t=>!Mt(t,e)))){let t=bt(n.map(en).getOr(`span`));return Bn(e,t),t}return e})))(e,t,i);return Mf(e,a.element,o),a},Ff=(e,t)=>{let n=wn(t),r=Rn(n).bind((e=>{let n=t=>Mt(e,t);return n(t)?T.some(t):((e,t)=>{let n=e=>{for(let r=0;r<e.childNodes.length;r++){let i=V(e.childNodes[r]);if(t(i))return T.some(i);let a=n(e.childNodes[r]);if(a.isSome())return a}return T.none()};return n(e.dom)})(t,n)})),i=e(t);return r.each((e=>{Rn(n).filter((t=>Mt(t,e))).fold((()=>{Fn(e)}),_)})),i},If=(e,t)=>{Ff((()=>{((e,t,n)=>{let r=e.components();(e=>{M(e.components(),(e=>$n(e.element))),Qn(e.element),e.syncComponents()})(e);let i=n(t);M(me(r,i),(t=>{vf(t),e.getSystem().removeFromWorld(t)})),M(i,(t=>{_f(t)?Sf(e,t):(e.getSystem().addToWorld(t),Sf(e,t),U(e.element)&&yf(t))})),e.syncComponents()})(e,t,(()=>j(t,e.getSystem().build)))}),e.element)},Lf=(e,t)=>{Ff((()=>{((n,r)=>{let i=n.components(),a=de(r,(e=>hf(e).toArray()));M(i,(e=>{k(a,e)||xf(e)}));let o=((e,t,n)=>Nf(e,t,((t,r)=>Pf(e,r,t,n))))(e.element,t,e.getSystem().buildOrPatch);M(me(i,o),(e=>{_f(e)&&xf(e)})),M(o,(e=>{_f(e)||bf(n,e)})),n.syncComponents()})(e,t)}),e.element)},Rf=(e,t,n,r)=>{xf(t),bf(e,Pf(e.element,n,r,e.getSystem().buildOrPatch)),e.syncComponents()},zf=(e,t,n)=>{wf(e,e.getSystem().build(n),t)},Bf=(e,t,n,r)=>{Ef(t),zf(e,((e,t)=>((e,t,n)=>{yn(e,n).fold((()=>{Un(e,t)}),(e=>{Bn(e,t)}))})(e,t,n)),r)},Vf=(e,t)=>e.components(),Hf=(e,t,n,r,i)=>{let a=Vf(e);return T.from(a[r]).map((n=>(i.fold((()=>Ef(n)),(i=>{(t.reuseDom?Rf:Bf)(e,n,r,i)})),n)))};var Uf=Object.freeze({__proto__:null,append:(e,t,n,r)=>{zf(e,Un,r)},prepend:(e,t,n,r)=>{zf(e,Hn,r)},remove:(e,t,n,r)=>{le(Vf(e),(e=>Mt(r.element,e.element))).each(Ef)},replaceAt:Hf,replaceBy:(e,t,n,r,i)=>F(Vf(e),r).bind((n=>Hf(e,t,0,n,i))),set:(e,t,n,r)=>(t.reuseDom?Lf:If)(e,r),contents:Vf});let Wf=$l({fields:[Za(`reuseDom`,!0)],name:`replacing`,apis:Uf}),Gf=Pl([(e=>({key:e,value:Dl({can:(e,t)=>{let n=t.event,r=n.originator,i=n.target;return!((e,t,n)=>Mt(t,e.element)&&!Mt(t,n))(e,r,i)||(console.warn(Do()+` did not get interpreted by the desired target. 
Originator: `+$o(r)+`
Target: `+$o(i)+`
Check the `+Do()+` event handlers`),!1)}})}))(Do())]);var Kf=Object.freeze({__proto__:null,events:Gf});let qf=b(`alloy-id-`),Jf=b(`data-alloy-id`),Yf=qf(),Xf=Jf(),Zf=(e,t)=>{Object.defineProperty(e.dom,Xf,{value:t,writable:!0})},Qf=e=>{let t=rn(e)?e.dom[Xf]:null;return T.from(t)},$f=e=>z(e),ep=x,tp=e=>{let t=t=>`The component must be in a context to execute: ${t}`+(e?`
`+$o(e().element)+` is not in context.`:``),n=e=>()=>{throw Error(t(e))},r=e=>()=>{console.warn(t(e))};return{debugInfo:b(`fake`),triggerEvent:r(`triggerEvent`),triggerFocus:r(`triggerFocus`),triggerEscape:r(`triggerEscape`),broadcast:r(`broadcast`),broadcastOn:r(`broadcastOn`),broadcastEvent:r(`broadcastEvent`),build:n(`build`),buildOrPatch:n(`buildOrPatch`),addToWorld:n(`addToWorld`),removeFromWorld:n(`removeFromWorld`),addToGui:n(`addToGui`),removeFromGui:n(`removeFromGui`),getByUid:n(`getByUid`),getByDom:n(`getByDom`),isConnected:w}},np=tp(),rp=(e,t)=>{let n={};return Ce(e,((e,r)=>{Ce(e,((e,i)=>{n[i]=Me(n,i).getOr([]).concat([t(r,e)])}))})),n},ip=e=>e.cHandler,ap=(e,t)=>({name:e,handler:t}),op=(e,t)=>{let n={};return M(e,(e=>{n[e.name()]=e.handlers(t)})),n},sp=(e,t,n)=>{let r=t[n];return r?((e,t,n,r)=>{try{let i=ge(n,((n,i)=>{let a=n[t],o=i[t],s=r.indexOf(a),c=r.indexOf(o);if(s===-1)throw Error(`The ordering for `+e+` does not have an entry for `+a+`.
Order specified: `+JSON.stringify(r,null,2));if(c===-1)throw Error(`The ordering for `+e+` does not have an entry for `+o+`.
Order specified: `+JSON.stringify(r,null,2));return s<c?-1:c<s?1:0}));return Ge.value(i)}catch(e){return Ge.error([e])}})(`Event: `+n,`name`,e,r).map((e=>(e=>({can:(e=>(...t)=>P(e,((e,n)=>e&&(e=>e.can)(n).apply(void 0,t)),!0))(e),abort:(e=>(...t)=>P(e,((e,n)=>e||(e=>e.abort)(n).apply(void 0,t)),!1))(e),run:(...t)=>{M(e,(e=>{e.run.apply(void 0,t)}))}}))(j(e,(e=>e.handler))))):((e,t)=>Ge.error([`The event (`+e+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(j(t,(e=>e.name)),null,2)]))(n,e)},cp=(e,t)=>((e,t)=>{let n=(e=>{let t=[],n=[];return M(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(e);return n.errors.length>0?(r=n.errors,Ge.error(ue(r))):((e,t)=>e.length===0?Ge.value(t):Ge.value(B(t,Qe.apply(void 0,e))))(n.values,t);var r})(ke(e,((e,n)=>(e.length===1?Ge.value(e[0].handler):sp(e,t,n)).map((r=>to(n,((e,t)=>({handler:e,purpose:t}))((e=>{let t=(e=>m(e)?{can:re,abort:w,run:e}:e)(e);return(e,n,...r)=>{let i=[e,n].concat(r);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}})(r),e.length>1?N(t[n],(t=>ae(e,(e=>e.name===t)))).join(` > `):e[0].name)))))),{}),lp=`alloy.base.behaviour`,up=ma([Oa(`dom`,`dom`,{tag:`required`,process:{}},ma([G(`tag`),K(`styles`,{}),K(`classes`,[]),K(`attributes`,{}),za(`value`),za(`innerHtml`)])),G(`components`),G(`uid`),K(`events`,{}),K(`apis`,{}),Oa(`eventOrder`,`eventOrder`,(Sp={[jo()]:[`disabling`,lp,`toggling`,`typeaheadevents`],[Do()]:[lp,`focusing`,`keying`],[Lo()]:[lp,`disabling`,`toggling`,`representing`,`tooltipping`],[vo()]:[lp,`representing`,`streaming`,`invalidating`],[Uo()]:[lp,`representing`,`item-events`,`toolbar-button-events`,`tooltipping`],[co()]:[`focusing`,lp,`item-type-events`],[io()]:[`focusing`,lp,`item-type-events`],[po()]:[`item-type-events`,`tooltipping`],[Ao()]:[`receiving`,`reflecting`,`tooltipping`]},aa(b(Sp))),Yi()),za(`domModification`)]),dp=e=>e.events,fp=(e,t)=>{let n=xe(e);return{toRemove:me(xe(t),n),toSet:(e=>{let n={},r={};return De(e,((e,n)=>!Ne(t,n)||e!==t[n]),Ee(n),Ee(r)),{t:n,f:r}})(e).t}},pp=(e,t)=>{let n=t.filter((t=>en(t)===e.tag&&!(e=>e.innerHtml.isSome()&&e.domChildren.length>0)(e)&&!(e=>Ne(e.dom,pf))(t))).bind((t=>((e,t)=>{try{let n=((e,t)=>{let{class:n,style:r,...i}=(e=>P(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))(t),{toSet:a,toRemove:o}=fp(e.attributes,i),s=mr(t),{toSet:c,toRemove:l}=fp(e.styles,s),u=ii(t),d=me(u,e.classes),f=me(e.classes,u);return M(o,(e=>Zn(t,e))),qn(t,a),ni(t,f),ri(t,d),M(l,(e=>gr(t,e))),lr(t,c),e.innerHtml.fold((()=>{((e,t)=>{Nf(e,t,((t,n)=>(Mf(e,t,yn(e,n)),t)))})(t,e.domChildren)}),(e=>{nr(t,e)})),(()=>{let n=t,r=e.value.getOrUndefined();r!==ai(n)&&oi(n,r??``)})(),t})(e,t);return T.some(n)}catch{return T.none()}})(e,t))).getOrThunk((()=>(e=>{let t=bt(e.tag);qn(t,e.attributes),ni(t,e.classes),lr(t,e.styles),e.innerHtml.each((e=>nr(t,e)));let n=e.domChildren;return Wn(t,n),e.value.each((e=>{oi(t,e)})),t})(e)));return Zf(n,e.uid),n},mp=e=>((e,t)=>((e,t)=>({list:t,data:we(Sa(`component.behaviours`,ma(j(t,(e=>Ka(e.name(),[G(`config`),K(`state`,wl)])))),e.behaviours).fold((t=>{throw Error(Ta(t)+`
Complete spec:
`+JSON.stringify(e,null,2))}),x),(e=>b(e.map((e=>({config:e.config,state:e.state.init(e.config)}))))))}))(e,t))(e,(e=>{let t=Me(e,`behaviours`).getOr({});return de(xe(t),(e=>{let n=t[e];return p(n)?[n.me]:[]}))})(e)),hp=(e,t)=>{let n=()=>d,r=Ie(np),i=Ca((e=>Sa(`custom.definition`,up,e))(e)),a=mp(e),o=(e=>e.list)(a),s=(e=>e.data)(a),c=pp(((e,t,n)=>{let r={...(i=e).dom,uid:i.uid,domChildren:j(i.components,(e=>e.element))};var i;let a=(e=>e.domModification.fold((()=>Jl({})),Jl))(e),o={"alloy.base.modification":a},s=t.length>0?((e,t,n,r)=>{let i={...t};M(n,(t=>{i[t.name()]=t.exhibit(e,r)}));let a=rp(i,((e,t)=>({name:e,modification:t}))),o=e=>ce(e,((e,t)=>({...t.modification,...e})),{});return Jl({classes:ce(a.classes,((e,t)=>t.modification.concat(e)),[]),attributes:o(a.attributes),styles:o(a.styles)})})(n,o,t,r):a;return c=r,l=s,{...c,attributes:{...c.attributes,...l.attributes},styles:{...c.styles,...l.styles},classes:c.classes.concat(l.classes)};var c,l})(i,o,s),t),l=((e,t,n)=>{let r={"alloy.base.behaviour":dp(e)};return((e,t,n,r)=>cp(((e,t,n)=>rp({...n,...op(t,e)},ap))(e,n,r),t))(n,e.eventOrder,t,r).getOrDie()})(i,o,s),u=Ie(i.components),d={uid:e.uid,getSystem:r.get,config:t=>{let n=s;return(m(n[t.name()])?n[t.name()]:()=>{throw Error(`Could not find `+t.name()+` in `+JSON.stringify(e,null,2))})()},hasConfigured:e=>m(s[e.name()]),spec:e,readState:e=>s[e]().map((e=>e.state.readState())).getOr(`not enabled`),getApis:()=>i.apis,connect:e=>{r.set(e)},disconnect:()=>{r.set(tp(n))},element:c,syncComponents:()=>{let e=de(vn(c),(e=>r.get().getByDom(e).fold((()=>[]),I)));u.set(e)},components:u.get,events:l};return d},gp=e=>_p({element:xt(e)}),_p=e=>{let t=wa(`external.component`,pa([G(`element`),za(`uid`)]),e),n=Ie(tp()),r=t.uid.getOrThunk((()=>$f(`external`)));Zf(t.element,r);let i={uid:r,getSystem:n.get,config:T.none,hasConfigured:w,connect:e=>{n.set(e)},disconnect:()=>{n.set(tp((()=>i)))},getApis:()=>({}),element:t.element,spec:e,readState:b(`No state`),syncComponents:_,components:b([]),events:{}};return mf(i)},vp=$f,yp=(e,t)=>hf(e).getOrThunk((()=>((e,t)=>{let{events:n,...r}=ep(e),i=((e,t)=>{let n=Me(e,`components`).getOr([]);return t.fold((()=>j(n,bp)),(e=>j(n,((t,n)=>yp(t,yn(e,n))))))})(r,t),a={...r,events:{...Kf,...n},components:i};return Ge.value(hp(a,t))})((e=>Ne(e,`uid`))(e)?e:{uid:vp(``),...e},t).getOrDie())),bp=e=>yp(e,T.none()),xp=mf;var Sp,Cp=Object.freeze({__proto__:null,block:(e,t,n,r)=>{Kn(e.element,`aria-busy`,!0);let i=t.getRoot(e).getOr(e),a=r(i,Y([ff.config({mode:`special`,onTab:()=>T.some(!0),onShiftTab:()=>T.some(!0)}),su.config({})])),o=i.getSystem().build(a);Wf.append(i,xp(o)),o.hasConfigured(ff)&&t.focus&&ff.focusIn(o),n.isBlocked()||t.onBlock(e),n.blockWith((()=>Wf.remove(i,o)))},unblock:(e,t,n)=>{Zn(e.element,`aria-busy`),n.isBlocked()&&t.onUnblock(e),n.clear()},isBlocked:(e,t,n)=>n.isBlocked()});let wp=$l({fields:[Qa(`getRoot`,T.none),Za(`focus`,!0),ds(`onBlock`),ds(`onUnblock`)],name:`blocking`,apis:Cp,state:Object.freeze({__proto__:null,init:()=>{let e=at((e=>e.destroy()));return Tl({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})});var Tp=Object.freeze({__proto__:null,getCurrent:(e,t,n)=>t.find(e)});let Ep=$l({fields:[G(`find`)],name:`composing`,apis:Tp});var Dp=Object.freeze({__proto__:null,getCoupled:(e,t,n,r)=>n.getOrCreate(e,t,r),getExistingCoupled:(e,t,n,r)=>n.getExisting(e,t,r)});let Z=$l({fields:[ja(`others`,xa(Ge.value,Yi()))],name:`coupling`,apis:Dp,state:Object.freeze({__proto__:null,init:()=>{let e={},t=(t,n)=>{if(xe(t.others).length===0)throw Error(`Cannot find any known coupled components`);return Me(e,n)};return Tl({readState:b({}),getExisting:(e,n,r)=>t(n,r).orThunk((()=>(Me(n.others,r).getOrDie(`No information found for coupled component: `+r),T.none()))),getOrCreate:(n,r,i)=>t(r,i).getOrThunk((()=>{let t=Me(r.others,i).getOrDie(`No information found for coupled component: `+i)(n),a=n.getSystem().build(t);return e[i]=a,a}))})}})}),Op=[`input`,`button`,`textarea`,`select`],kp=(e,t,n)=>{(t.disabled()?Fp:Ip)(e,t)},Ap=(e,t)=>!0===t.useNative&&k(Op,en(e.element)),jp=e=>{Kn(e.element,`disabled`,`disabled`)},Mp=e=>{Zn(e.element,`disabled`)},Np=e=>{Kn(e.element,`aria-disabled`,`true`)},Pp=e=>{Kn(e.element,`aria-disabled`,`false`)},Fp=(e,t,n)=>{t.disableClass.each((t=>{Qr(e.element,t)})),(Ap(e,t)?jp:Np)(e),t.onDisabled(e)},Ip=(e,t,n)=>{t.disableClass.each((t=>{ei(e.element,t)})),(Ap(e,t)?Mp:Pp)(e),t.onEnabled(e)},Lp=(e,t)=>Ap(e,t)?(e=>Xn(e.element,`disabled`))(e):(e=>Jn(e.element,`aria-disabled`)===`true`)(e);var Rp=Object.freeze({__proto__:null,enable:Ip,disable:Fp,isDisabled:Lp,onLoad:kp,set:(e,t,n,r)=>{(r?Fp:Ip)(e,t)}}),zp=Object.freeze({__proto__:null,exhibit:(e,t)=>Jl({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Pl([Fl(jo(),((t,n)=>Lp(t,e))),Yl(e,t,kp)])});let Bp=$l({fields:[Qa(`disabled`,w),K(`useNative`,!0),za(`disableClass`),ds(`onDisabled`),ds(`onEnabled`)],name:`disabling`,active:zp,apis:Rp}),Vp=(e,t,n,r,i)=>{let a=e=>e+`px`;return{position:e,left:t.map(a),top:n.map(a),right:r.map(a),bottom:i.map(a)}},Hp=(e,t)=>{ur(e,(e=>({...e,position:T.some(e.position)}))(t))},Up=(e,t)=>{let n=e.element;Qr(n,t.transitionClass),ei(n,t.fadeOutClass),Qr(n,t.fadeInClass),t.onShow(e)},Wp=(e,t)=>{let n=e.element;Qr(n,t.transitionClass),ei(n,t.fadeInClass),Qr(n,t.fadeOutClass),t.onHide(e)},Gp=(e,t)=>e.y>=t.y,Kp=(e,t)=>e.bottom<=t.bottom,qp=(e,t,n)=>({location:`top`,leftX:t,topY:n.bounds.y-e.y}),Jp=(e,t,n)=>({location:`bottom`,leftX:t,bottomY:e.bottom-n.bounds.bottom}),Yp=e=>e.box.x-e.win.x,Xp=(e,t,n)=>n.getInitialPos().map((n=>{let r=((e,t)=>{let n=t.optScrollEnv.fold(b(e.bounds.y),(t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop)));return Dr(e.bounds.x,n)})(n,t);return{box:Ai(r.left,r.top,wr(e),br(e)),location:n.location}})),Zp=(e,t,n,r,i)=>{let a=((e,t)=>{let n=t.optScrollEnv.fold(b(e.y),(t=>e.y+t.currentScrollTop-t.scrollElmTop));return Dr(e.x,n)})(t,n),o=Ai(a.left,a.top,t.width,t.height);r.setInitialPos({style:mr(e),position:dr(e,`position`)||`static`,bounds:o,location:i.location})},Qp=(e,t,n)=>n.getInitialPos().bind((r=>{switch(n.clearInitialPos(),r.position){case`static`:return T.some({morph:`static`});case`absolute`:let n=Ii(e).getOr(ar()),i=ji(n),a=n.dom.scrollTop??0;return T.some({morph:`absolute`,positionCss:Vp(`absolute`,Me(r.style,`left`).map((e=>t.x-i.x)),Me(r.style,`top`).map((e=>t.y-i.y+a)),Me(r.style,`right`).map((e=>i.right-t.right)),Me(r.style,`bottom`).map((e=>i.bottom-t.bottom)))});default:return T.none()}})),$p=e=>{switch(e.location){case`top`:return T.some({morph:`fixed`,positionCss:Vp(`fixed`,T.some(e.leftX),T.some(e.topY),T.none(),T.none())});case`bottom`:return T.some({morph:`fixed`,positionCss:Vp(`fixed`,T.some(e.leftX),T.none(),T.none(),T.some(e.bottomY))});default:return T.none()}},em=(e,t,n)=>{let r=e.element;return $e(pr(r,`position`),`fixed`)?((e,t,n)=>((e,t,n)=>Xp(e,t,n).filter((({box:e})=>((e,t,n)=>fe(e,(e=>{switch(e){case`bottom`:return Kp(t,n.bounds);case`top`:return Gp(t,n.bounds)}})))(n.getModes(),e,t))).bind((({box:t})=>Qp(e,t,n))))(e,t,n).orThunk((()=>t.optScrollEnv.bind((r=>Xp(e,t,n))).bind((({box:e,location:n})=>{let r=Pi(),i=Yp({win:r,box:e});return $p(n===`top`?qp(r,i,t):Jp(r,i,t))})))))(r,t,n):((e,t,n)=>{let r=ji(e),i=Pi(),a=((e,t,n)=>{let r=t.win,i=t.box,a=Yp(t);return be(e,(e=>{switch(e){case`bottom`:return Kp(i,n.bounds)?T.none():T.some(Jp(r,a,n));case`top`:return Gp(i,n.bounds)?T.none():T.some(qp(r,a,n));default:return T.none()}})).getOr({location:`no-dock`})})(n.getModes(),{win:i,box:r},t);return a.location===`top`||a.location===`bottom`?(Zp(e,r,t,n,a),$p(a)):T.none()})(r,t,n)},tm=(e,t,n)=>{n.setDocked(!1),M([`left`,`right`,`top`,`bottom`,`position`],(t=>gr(e.element,t))),t.onUndocked(e)},nm=(e,t,n,r)=>{let i=r.position===`fixed`;n.setDocked(i),Hp(e.element,r),(i?t.onDocked:t.onUndocked)(e)},rm=(e,t,n,r,i=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((a=>{let o=((e,t)=>e.y<t.bottom&&e.bottom>t.y)(a,r.bounds);o!==n.isVisible()&&(n.setVisible(o),i&&!o?(ni(e.element,[t.fadeOutClass]),t.onHide(e)):(o?Up:Wp)(e,t))}))}))},im=(e,t,n,r,i)=>{rm(e,t,n,r,!0),nm(e,t,n,i.positionCss)},am=(e,t,n)=>{e.getSystem().isConnected()&&((e,t,n)=>{let r=t.lazyViewport(e);rm(e,t,n,r),em(e,r,n).each((i=>{((e,t,n,r,i)=>{switch(i.morph){case`static`:return tm(e,t,n);case`absolute`:return nm(e,t,n,i.positionCss);case`fixed`:im(e,t,n,r,i)}})(e,t,n,r,i)}))})(e,t,n)},om=(e,t,n)=>{n.isDocked()&&((e,t,n)=>{let r=e.element;n.setDocked(!1),((e,t,n)=>{let r=e.element;return Xp(r,t,n).bind((({box:e})=>Qp(r,e,n)))})(e,t.lazyViewport(e),n).each((r=>{switch(r.morph){case`static`:tm(e,t,n);break;case`absolute`:nm(e,t,n,r.positionCss)}})),n.setVisible(!0),t.contextual.each((t=>{ri(r,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),am(e,t,n)})(e,t,n)},sm=e=>(t,n,r)=>{let i=n.lazyViewport(t);((e,t,n,r)=>{let i=ji(e),a=Pi(),o=r(a,Yp({win:a,box:i}),t);return o.location===`bottom`||o.location===`top`?(((e,t,n,r,i)=>{r.getInitialPos().fold((()=>Zp(e,t,n,r,i)),(()=>_))})(e,i,t,n,o),$p(o)):T.none()})(t.element,i,r,e).each((e=>{im(t,n,r,i,e)}))},cm=sm(qp),lm=sm(Jp);var um=Object.freeze({__proto__:null,refresh:am,reset:om,isDocked:(e,t,n)=>n.isDocked(),getModes:(e,t,n)=>n.getModes(),setModes:(e,t,n,r)=>n.setModes(r),forceDockToTop:cm,forceDockToBottom:lm}),dm=Object.freeze({__proto__:null,events:(e,t)=>Pl([Ul(So(),((n,r)=>{e.contextual.each((e=>{ti(n.element,e.transitionClass)&&(ri(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n)),r.stop()}))})),J(Bo(),((n,r)=>{am(n,e,t)})),J(Jo(),((n,r)=>{am(n,e,t)})),J(Vo(),((n,r)=>{om(n,e,t)}))])});let fm=$l({fields:[Ka(`contextual`,[Na(`fadeInClass`),Na(`fadeOutClass`),Na(`transitionClass`),Fa(`lazyContext`),ds(`onShow`),ds(`onShown`),ds(`onHide`),ds(`onHidden`)]),Qa(`lazyViewport`,(()=>({bounds:Pi(),optScrollEnv:T.none()}))),$a(`modes`,[`top`,`bottom`],Qi),ds(`onDocked`),ds(`onUndocked`)],name:`docking`,active:dm,apis:um,state:Object.freeze({__proto__:null,init:e=>{let t=Ie(!1),n=Ie(!0),r=st(),i=Ie(e.modes);return Tl({isDocked:t.get,setDocked:t.set,getInitialPos:r.get,setInitialPos:r.set,clearInitialPos:r.clear,isVisible:n.get,setVisible:n.set,getModes:i.get,setModes:i.set,readState:()=>`docked:  ${t.get()}, visible: ${n.get()}, modes: ${i.get().join(`,`)}`})}})}),pm=Fe([{offset:[`x`,`y`]},{absolute:[`x`,`y`]},{fixed:[`x`,`y`]}]),mm=e=>t=>t.translate(-e.left,-e.top),hm=e=>t=>t.translate(e.left,e.top),gm=e=>(t,n)=>P(e,((e,t)=>t(e)),Dr(t,n)),_m=(e,t,n)=>e.fold(gm([hm(n),mm(t)]),gm([mm(t)]),gm([])),vm=(e,t,n)=>e.fold(gm([hm(n)]),gm([]),gm([hm(t)])),ym=(e,t,n)=>e.fold(gm([]),gm([mm(n)]),gm([hm(t),mm(n)])),bm=(e,t,n)=>{let r=e.fold(((e,t)=>({position:T.some(`absolute`),left:T.some(e+`px`),top:T.some(t+`px`)})),((e,t)=>({position:T.some(`absolute`),left:T.some(e-n.left+`px`),top:T.some(t-n.top+`px`)})),((e,t)=>({position:T.some(`fixed`),left:T.some(e+`px`),top:T.some(t+`px`)})));return{right:T.none(),bottom:T.none(),...r}},xm=(e,t,n,r)=>{let i=(e,i)=>(a,o)=>{let s=e(t,n,r);return i(a.getOr(s.left),o.getOr(s.top))};return e.fold(i(ym,Sm),i(vm,Cm),i(_m,wm))},Sm=pm.offset,Cm=pm.absolute,wm=pm.fixed,Tm=(e,t)=>{let n=Jn(e,t);return d(n)?NaN:parseInt(n,10)},Em=(e,t,n,r,i,a)=>{let o=((e,t,n,r)=>((e,t)=>{let n=e.element,r=Tm(n,t.leftAttr),i=Tm(n,t.topAttr);return isNaN(r)||isNaN(i)?T.none():T.some(Dr(r,i))})(e,t).fold((()=>n),(e=>wm(e.left+r.left,e.top+r.top))))(e,t,n,r),s=t.mustSnap?Om(e,t,o,i,a):km(e,t,o,i,a),c=_m(o,i,a);return((e,t,n)=>{let r=e.element;Kn(r,t.leftAttr,n.left+`px`),Kn(r,t.topAttr,n.top+`px`)})(e,t,c),s.fold((()=>({coord:wm(c.left,c.top),extra:T.none()})),(e=>({coord:e.output,extra:e.extra})))},Dm=(e,t,n,r)=>be(e,(e=>((e,t,n,r,i,a)=>{let o=vm(e,i,a),s=vm(t,i,a);return Math.abs(o.left-s.left)<=n&&Math.abs(o.top-s.top)<=r})(t,e.sensor,e.range.left,e.range.top,n,r)?T.some({output:xm(e.output,t,n,r),extra:e.extra}):T.none())),Om=(e,t,n,r,i)=>{let a=t.getSnapPoints(e);return Dm(a,n,r,i).orThunk((()=>P(a,((e,t)=>{let a=((e,t,n,r,i,a)=>{let o=vm(e,i,a),s=vm(t,i,a);return Dr(Math.abs(o.left-s.left),Math.abs(o.top-s.top))})(n,t.sensor,t.range.left,t.range.top,r,i);return e.deltas.fold((()=>({deltas:T.some(a),snap:T.some(t)})),(n=>(a.left+a.top)/2<=(n.left+n.top)/2?{deltas:T.some(a),snap:T.some(t)}:e))}),{deltas:T.none(),snap:T.none()}).snap.map((e=>({output:xm(e.output,n,r,i),extra:e.extra})))))},km=(e,t,n,r,i)=>Dm(t.getSnapPoints(e),n,r,i);var Am=Object.freeze({__proto__:null,snapTo:(e,t,n,r)=>{let i=t.getTarget(e.element);if(t.repositionTarget){let t=jr(ln(e.element)),n=Li(i);ur(i,bm(((e,t,n)=>({coord:xm(e.output,e.output,t,n),extra:e.extra}))(r,t,n).coord,0,n))}}});let jm=(e,t)=>eo(e,{},j(t,(t=>{return n=t.name(),r=`Cannot configure `+t.name()+` for `+e,Oa(n,n,{tag:`option`,process:{}},qi((e=>Ui(`The field: `+n+` is forbidden. `+r))));var n,r})).concat([ka(`dump`,x)])),Mm=e=>e.dump,Nm=(e,t)=>({...Y(t),...e.dump}),Pm=jm,Fm=Nm,Im=(e,t,n,r,i)=>{let a=((e,t)=>(e.length>0?[Ia(`parts`,e)]:[]).concat([G(`uid`),K(`dom`,{}),K(`components`,[]),gs(`originalSpec`),K(`debug.sketcher`,{})]).concat(t))(r,i);return wa(e+` [SpecSchema]`,pa(a.concat(t)),n)},Lm=(e,t,n,r,i)=>{let a=Rm(i),o=Im(e,t,a,tc(n),[fc(n)]),s=rc(0,o,n);return r(o,ic(e,o,s.internals()),a,s.externals())},Rm=e=>(e=>Ne(e,`uid`))(e)?e:{...e,uid:$f(`uid`)},zm=pa([G(`name`),G(`factory`),G(`configFields`),K(`apis`,{}),K(`extraApis`,{})]),Bm=pa([G(`name`),G(`factory`),G(`configFields`),G(`partFields`),K(`apis`,{}),K(`extraApis`,{})]),Vm=e=>{let t=wa(`Sketcher for `+e.name,zm,e),n=we(t.apis,gf),r=we(t.extraApis,((e,t)=>ys(e,t)));return{name:t.name,configFields:t.configFields,sketch:e=>((e,t,n,r)=>{let i=Rm(r);return n(Im(e,t,i,[],[]),i)})(t.name,t.configFields,t.factory,e),...n,...r}},Hm=e=>{let t=wa(`Sketcher for `+e.name,Bm,e),n=Qs(t.name,t.partFields),r=we(t.apis,gf),i=we(t.extraApis,((e,t)=>ys(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>Lm(t.name,t.configFields,t.partFields,t.factory,e),parts:n,...r,...i}},Um=Vm({name:`Container`,factory:e=>{let{attributes:t,...n}=e.dom;return{uid:e.uid,dom:{tag:`div`,attributes:{role:`presentation`,...t},...n},components:e.components,behaviours:Mm(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[K(`components`,[]),jm(`containerBehaviours`,[]),K(`events`,{}),K(`domModification`,{}),K(`eventOrder`,{})]}),Wm=`data-initial-z-index`,Gm=(e,t)=>{e.getSystem().addToGui(t),(e=>{pn(e.element).filter(rn).each((t=>{pr(t,`z-index`).each((e=>{Kn(t,Wm,e)})),W(t,`z-index`,dr(e.element,`z-index`))}))})(t)},Km=e=>{(e=>{pn(e.element).filter(rn).each((e=>{Yn(e,Wm).fold((()=>gr(e,`z-index`)),(t=>W(e,`z-index`,t))),Zn(e,Wm)}))})(e),e.getSystem().removeFromGui(e)},qm=(e,t,n)=>e.getSystem().build(Um.sketch({dom:{styles:{left:`0px`,top:`0px`,width:`100%`,height:`100%`,position:`fixed`,"z-index":`1000000000000000`},classes:[t]},events:n}));var Jm=Ka(`snaps`,[G(`getSnapPoints`),ds(`onSensor`),G(`leftAttr`),G(`topAttr`),K(`lazyViewport`,Pi),K(`mustSnap`,!1)]);let Ym=[K(`useFixed`,w),G(`blockerClass`),K(`getTarget`,x),K(`onDrag`,_),K(`repositionTarget`,!0),K(`onDrop`,_),Qa(`getBounds`,Pi),Jm],Xm=e=>{return(t=pr(e,`left`),n=pr(e,`top`),r=pr(e,`position`),t.isSome()&&n.isSome()&&r.isSome()?T.some(((e,t,n)=>(n===`fixed`?wm:Sm)(parseInt(e,10),parseInt(t,10)))(t.getOrDie(),n.getOrDie(),r.getOrDie())):T.none()).getOrThunk((()=>{let t=kr(e);return Cm(t.left,t.top)}));var t,n,r},Zm=(e,t)=>({bounds:e.getBounds(),height:xr(t.element),width:Tr(t.element)}),Qm=(e,t,n,r,i)=>{let a=n.update(r,i),o=n.getStartData().getOrThunk((()=>Zm(t,e)));a.each((n=>{((e,t,n,r)=>{let i=t.getTarget(e.element);if(t.repositionTarget){let a=jr(ln(e.element)),o=Li(i),s=Xm(i);ur(i,bm(((e,t,n,r,i,a,o)=>((e,t,n,r,i)=>{let a=i.bounds,o=vm(t,n,r),s=Cm(Ye(o.left,a.x,a.x+a.width-i.width),Ye(o.top,a.y,a.y+a.height-i.height));return t.fold((()=>{let e=ym(s,n,r);return Sm(e.left,e.top)}),b(s),(()=>{let e=_m(s,n,r);return wm(e.left,e.top)}))})(0,t.fold((()=>{let e=(t=n,o=a.left,s=a.top,t.fold(((e,t)=>Sm(e+o,t+s)),((e,t)=>Cm(e+o,t+s)),((e,t)=>wm(e+o,t+s))));var t,o,s;let c=_m(e,r,i);return wm(c.left,c.top)}),(t=>{let o=Em(e,t,n,a,r,i);return o.extra.each((n=>{t.onSensor(e,n)})),o.coord})),r,i,o))(e,t.snaps,s,a,o,r,n),0,o))}t.onDrag(e,i,r)})(e,t,o,n)}))},$m=(e,t,n,r)=>{t.each(Km),n.snaps.each((t=>{((e,t)=>{((e,t)=>{let n=e.element;Zn(n,t.leftAttr),Zn(n,t.topAttr)})(e,t)})(e,t)}));let i=n.getTarget(e.element);r.reset(),n.onDrop(e,i)},eh=e=>(t,n)=>{let r=e=>{n.setStartData(Zm(t,e))};return Pl([J(Bo(),(e=>{n.getStartData().each((()=>r(e)))})),...e(t,n,r)])};var th=Object.freeze({__proto__:null,getData:e=>T.from(Dr(e.x,e.y)),getDelta:(e,t)=>Dr(t.left-e.left,t.top-e.top)});let nh=(e,t,n)=>[J(co(),((r,i)=>{if(i.event.raw.button!==0)return;i.stop();let a=()=>$m(r,T.some(c),e,t),o=bs(a,200),s={drop:a,delayDrop:o.schedule,forceDrop:a,move:n=>{o.cancel(),Qm(r,e,t,th,n)}},c=qm(r,e.blockerClass,(e=>Pl([J(co(),e.forceDrop),J(fo(),e.drop),J(lo(),((t,n)=>{e.move(n.event)})),J(uo(),e.delayDrop)]))(s));n(r),Gm(r,c)}))],rh=[...Ym,hs(`dragger`,{handlers:eh(nh)})];var ih=Object.freeze({__proto__:null,getData:e=>{let t=e.raw.touches;return t.length===1?(e=>{let t=e[0];return T.some(Dr(t.clientX,t.clientY))})(t):T.none()},getDelta:(e,t)=>Dr(t.left-e.left,t.top-e.top)});let ah=(e,t,n)=>{let r=st(),i=n=>{$m(n,r.get(),e,t),r.clear()};return[J(io(),((a,o)=>{o.stop();let s=()=>i(a),c={drop:s,delayDrop:_,forceDrop:s,move:n=>{Qm(a,e,t,ih,n)}},l=qm(a,e.blockerClass,(e=>Pl([J(io(),e.forceDrop),J(oo(),e.drop),J(so(),e.drop),J(ao(),((t,n)=>{e.move(n.event)}))]))(c));r.set(l),n(a),Gm(a,l)})),J(ao(),((n,r)=>{r.stop(),Qm(n,e,t,ih,r.event)})),J(oo(),((e,t)=>{t.stop(),i(e)})),J(so(),i)]},oh=rh,sh=[...Ym,hs(`dragger`,{handlers:eh(ah)})],ch=[...Ym,hs(`dragger`,{handlers:eh(((e,t,n)=>[...nh(e,t,n),...ah(e,t,n)]))})],lh=tu({branchKey:`mode`,branches:Object.freeze({__proto__:null,mouse:oh,touch:sh,mouseOrTouch:ch}),name:`dragging`,active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:T.from(e.extra)})},state:Object.freeze({__proto__:null,init:()=>{let e=T.none(),t=T.none();return Tl({readState:b({}),reset:()=>{e=T.none(),t=T.none()},update:(t,n)=>t.getData(n).bind((n=>((t,n)=>{let r=e.map((e=>t.getDelta(e,n)));return e=T.some(n),r})(t,n))),getStartData:()=>t,setStartData:e=>{t=T.some(e)}})}}),apis:Am}),uh=[`input`,`textarea`],dh=e=>k(uh,en(e)),fh=(e,t)=>{ei(t.getRoot(e).getOr(e.element),t.invalidClass),t.notify.each((t=>{dh(e.element)&&Kn(e.element,`aria-invalid`,!1),t.getContainer(e).each((e=>{nr(e,t.validHtml)})),t.onValid(e)}))},ph=(e,t,n,r)=>{Qr(t.getRoot(e).getOr(e.element),t.invalidClass),t.notify.each((t=>{dh(e.element)&&Kn(e.element,`aria-invalid`,!0),t.getContainer(e).each((e=>{nr(e,r)})),t.onInvalid(e,r)}))},mh=(e,t,n)=>t.validator.fold((()=>He(Ge.value(!0))),(t=>t.validate(e))),hh=(e,t,n)=>(t.notify.each((t=>{t.onValidate(e)})),mh(e,t).map((n=>e.getSystem().isConnected()?n.fold((n=>(ph(e,t,0,n),Ge.error(n))),(n=>(fh(e,t),Ge.value(n)))):Ge.error(`No longer in system`))));var gh=Object.freeze({__proto__:null,markValid:fh,markInvalid:ph,query:mh,run:hh,isInvalid:(e,t)=>ti(t.getRoot(e).getOr(e.element),t.invalidClass)}),_h=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map((t=>Pl([J(t.onEvent,(t=>{hh(t,e).get(x)}))].concat(t.validateOnLoad?[Wl((t=>{hh(t,e).get(_)}))]:[])))).getOr({})}),vh=[G(`invalidClass`),K(`getRoot`,T.none),Ka(`notify`,[K(`aria`,`alert`),K(`getContainer`,T.none),K(`validHtml`,``),ds(`onValid`),ds(`onInvalid`),ds(`onValidate`)]),Ka(`validator`,[G(`validate`),K(`onEvent`,`input`),K(`validateOnLoad`,!0)])];let yh=(e,t,n)=>{t.store.manager.onLoad(e,t,n)},bh=(e,t,n)=>{t.store.manager.onUnload(e,t,n)};var xh=Object.freeze({__proto__:null,onLoad:yh,onUnload:bh,setValue:(e,t,n,r)=>{t.store.manager.setValue(e,t,n,r)},getValue:(e,t,n)=>t.store.manager.getValue(e,t,n),getState:(e,t,n)=>n}),Sh=Object.freeze({__proto__:null,events:(e,t)=>Pl(e.resetOnDom?[Wl(((n,r)=>{yh(n,e,t)})),Gl(((n,r)=>{bh(n,e,t)}))]:[Yl(e,t,yh)])});let Ch=()=>{let e=Ie(null);return Tl({set:e.set,get:e.get,isNotSet:()=>e.get()===null,clear:()=>{e.set(null)},readState:()=>({mode:`memory`,value:e.get()})})},wh=()=>{let e=Ie({}),t=Ie({});return Tl({readState:()=>({mode:`dataset`,dataByValue:e.get(),dataByText:t.get()}),lookup:n=>Me(e.get(),n).orThunk((()=>Me(t.get(),n))),update:n=>{let r=e.get(),i=t.get(),a={},o={};M(n,(e=>{a[e.value]=e,Me(e,`meta`).each((t=>{Me(t,`text`).each((t=>{o[t]=e}))}))})),e.set({...r,...a}),t.set({...i,...o})},clear:()=>{e.set({}),t.set({})}})};var Th=Object.freeze({__proto__:null,memory:Ch,dataset:wh,manual:()=>Tl({readState:_}),init:e=>e.store.manager.state(e)});let Eh=(e,t,n,r)=>{let i=t.store;n.update([r]),i.setValue(e,r),t.onSetValue(e,r)};var Dh=[za(`initialValue`),G(`getFallbackEntry`),G(`getDataKey`),G(`setValue`),hs(`manager`,{setValue:Eh,getValue:(e,t,n)=>{let r=t.store,i=r.getDataKey(e);return n.lookup(i).getOrThunk((()=>r.getFallbackEntry(i)))},onLoad:(e,t,n)=>{t.store.initialValue.each((r=>{Eh(e,t,n,r)}))},onUnload:(e,t,n)=>{n.clear()},state:wh})],Oh=[G(`getValue`),K(`setValue`,_),za(`initialValue`),hs(`manager`,{setValue:(e,t,n,r)=>{t.store.setValue(e,r),t.onSetValue(e,r)},getValue:(e,t,n)=>t.store.getValue(e),onLoad:(e,t,n)=>{t.store.initialValue.each((n=>{t.store.setValue(e,n)}))},onUnload:_,state:wl.init})];let Q=$l({fields:[qa(`store`,{mode:`memory`},Ea(`mode`,{memory:[za(`initialValue`),hs(`manager`,{setValue:(e,t,n,r)=>{n.set(r),t.onSetValue(e,r)},getValue:(e,t,n)=>n.get(),onLoad:(e,t,n)=>{t.store.initialValue.each((e=>{n.isNotSet()&&n.set(e)}))},onUnload:(e,t,n)=>{n.clear()},state:Ch})],manual:Oh,dataset:Dh})),ds(`onSetValue`),K(`resetOnDom`,!1)],name:`representing`,active:Sh,apis:xh,extra:{setValueFrom:(e,t)=>{let n=Q.getValue(t);Q.setValue(e,n)}},state:Th}),kh=$l({fields:vh,name:`invalidating`,active:_h,apis:gh,extra:{validation:e=>t=>He(e(Q.getValue(t)))}});var Ah=Object.freeze({__proto__:null,exhibit:(e,t)=>Jl({classes:[],styles:t.useFixed()?{}:{position:`relative`}})});let jh=Fe([{none:[]},{relative:[`x`,`y`,`width`,`height`]},{fixed:[`x`,`y`,`width`,`height`]}]),Mh=(e,t,n,r,i,a)=>{let o=t.rect,s=o.x-n,c=o.y-r,l=i-(s+o.width),u=a-(c+o.height),d=T.some(s),f=T.some(c),p=T.some(l),m=T.some(u),h=T.none();return t.direction.fold((()=>Vp(e,d,f,h,h)),(()=>Vp(e,h,f,p,h)),(()=>Vp(e,d,h,h,m)),(()=>Vp(e,h,h,p,m)),(()=>Vp(e,d,f,h,h)),(()=>Vp(e,d,h,h,m)),(()=>Vp(e,d,f,h,h)),(()=>Vp(e,h,f,p,h)))},Nh=(e,t)=>e.fold((()=>{let e=t.rect;return Vp(`absolute`,T.some(e.x),T.some(e.y),T.none(),T.none())}),((e,n,r,i)=>Mh(`absolute`,t,e,n,r,i)),((e,n,r,i)=>Mh(`fixed`,t,e,n,r,i))),Ph=(e,t)=>{let n=ee(ki,t),r=e.fold(n,n,(()=>{let e=jr();return ki(t).translate(-e.left,-e.top)})),i=Tr(t),a=xr(t);return Ai(r.left,r.top,i,a)},Fh=(e,t)=>t.fold((()=>e.fold(Pi,Pi,Ai)),(t=>e.fold(b(t),b(t),(()=>{let n=Ih(e,t.x,t.y);return Ai(n.left,n.top,t.width,t.height)})))),Ih=(e,t,n)=>{let r=Dr(t,n);return e.fold(b(r),b(r),(()=>{let e=jr();return r.translate(-e.left,-e.top)}))};jh.none;let Lh=jh.relative,Rh=jh.fixed,zh=Fe([{fit:[`reposition`]},{nofit:[`reposition`,`visibleW`,`visibleH`,`isVisible`]}]),Bh=(e,t,n,r)=>{let i=e.bubble,a=i.offset,o=((e,t,n)=>{let r=(r,i)=>t[r].map((t=>{let a=r===`top`||r===`bottom`,o=a?n.top:n.left,s=(r===`left`||r===`top`?Math.max:Math.min)(t,i)+o;return a?Ye(s,e.y,e.bottom):Ye(s,e.x,e.right)})).getOr(i),i=r(`left`,e.x),a=r(`top`,e.y),o=r(`right`,e.right),s=r(`bottom`,e.bottom);return Ai(i,a,o-i,s-a)})(r,e.restriction,a),s=e.x+a.left,c=e.y+a.top,l=Ai(s,c,t,n),{originInBounds:u,sizeInBounds:d,visibleW:f,visibleH:p}=((e,t)=>{let{x:n,y:r,right:i,bottom:a}=t,{x:o,y:s,right:c,bottom:l,width:u,height:d}=e;return{originInBounds:o>=n&&o<=i&&s>=r&&s<=a,sizeInBounds:c<=i&&c>=n&&l<=a&&l>=r,visibleW:Math.min(u,o>=n?i-o:c-n),visibleH:Math.min(d,s>=r?a-s:l-r)}})(l,o),m=u&&d,h=m?l:((e,t)=>{let{x:n,y:r,right:i,bottom:a}=t,{x:o,y:s,width:c,height:l}=e,u=Math.max(n,i-c),d=Math.max(r,a-l),f=Ye(o,n,u),p=Ye(s,r,d);return Ai(f,p,Math.min(f+c,i)-f,Math.min(p+l,a)-p)})(l,o),g=h.width>0&&h.height>0,{maxWidth:_,maxHeight:v}=((e,t,n)=>{let r=b(t.bottom-n.y),i=b(n.bottom-t.y),a=((e,t,n,r)=>e.fold(t,t,r,r,t,r,n,n))(e,i,i,r),o=b(t.right-n.x),s=b(n.right-t.x);return{maxWidth:((e,t,n,r)=>e.fold(t,r,t,r,n,n,t,r))(e,s,s,o),maxHeight:a}})(e.direction,h,r),y={rect:h,maxHeight:v,maxWidth:_,direction:e.direction,placement:e.placement,classes:{on:i.classesOn,off:i.classesOff},layout:e.label,testY:c};return m||e.alwaysFit?zh.fit(y):zh.nofit(y,f,p,g)},Vh=[`top`,`bottom`,`right`,`left`],Hh=`data-alloy-transition-timer`,Uh=(e,t,n,r,i,o)=>{let s=((e,t,n)=>n.exists((n=>{let r=e.mode;return r===`all`||n[r]!==t[r]})))(r,i,o);if(s||((e,t)=>((e,t)=>fe(t,(t=>ti(e,t))))(e,t.classes))(e,r)){W(e,`position`,n.position);let o=Ph(t,e),c=Nh(t,{...i,rect:o}),l=he(Vh,(e=>c[e]));((e,t)=>{let n=e=>parseFloat(e).toFixed(3);return Ae(t,((t,r)=>!((e,t,n=S)=>tt(e,t,n).getOr(e.isNone()&&t.isNone()))(e[r].map(n),t.map(n)))).isSome()})(n,l)&&(ur(e,l),s&&((e,t)=>{ni(e,t.classes),Yn(e,Hh).each((t=>{clearTimeout(parseInt(t,10)),Zn(e,Hh)})),((e,t)=>{let n=ot(),r=ot(),i,o=t=>{let n=t.raw.pseudoElement??``;return Mt(t.target,e)&&ht(n)&&k(Vh,t.raw.propertyName)},s=a=>{if(f(a)||o(a)){n.clear(),r.clear();let o=a?.raw.type;(f(o)||o===So())&&(clearTimeout(i),Zn(e,Hh),ri(e,t.classes))}},c=Mn(e,Co(),(t=>{o(t)&&(c.unbind(),n.set(Mn(e,So(),s)),r.set(Mn(e,xo(),s)))})),l=(e=>{let t=t=>N(dr(e,t).split(/\s*,\s*/),mt),n=e=>{if(a(e)&&/^[\d.]+/.test(e)){let t=parseFloat(e);return ft(e,`ms`)?t:1e3*t}return 0},r=t(`transition-delay`);return P(t(`transition-duration`),((e,t,i)=>{let a=n(r[i])+n(t);return Math.max(e,a)}),0)})(e);window.requestAnimationFrame((()=>{i=setTimeout(s,l+17),Kn(e,Hh,i)}))})(e,t)})(e,r),_r(e))}else ri(e,r.classes)},Wh=(e,t,n)=>e[t]===void 0?n:e[t],Gh=(e,t,n,r)=>{let i=((e,t,n,r)=>{gr(t,`max-height`),gr(t,`max-width`);let i=(a=t,{width:Math.ceil(Tr(a)),height:xr(a)});var a;return((e,t,n,r,i,a)=>{let o=r.width,s=r.height,c=(t,c,l,u,d)=>{let f=Bh(t(n,r,i,e,a),o,s,a);return f.fold(b(f),((e,t,n,r)=>(d===r?n>u||t>l:!d&&r)?f:zh.nofit(c,l,u,d)))};return P(t,((e,t)=>{let n=ee(c,t);return e.fold(b(e),n)}),zh.nofit({rect:n,maxHeight:r.height,maxWidth:r.width,direction:yc(),placement:`southeast`,classes:{on:[],off:[]},layout:`none`,testY:n.y},-1,-1,!1)).fold(x,x)})(t,r.preference,e,i,n,r.bounds)})(e,t,n,r);return((e,t,n)=>{let r=Nh(n.origin,t);n.transition.each((i=>{Uh(e,n.origin,r,i,t,n.lastPlacement)})),Hp(e,r)})(t,i,r),((e,t)=>{((e,t)=>{Kn(e,Yc,t)})(e,t.placement)})(t,i),((e,t)=>{let n=t.classes;ri(e,n.off),ni(e,n.on)})(t,i),((e,t,n)=>{(0,n.maxHeightFunction)(e,t.maxHeight)})(t,i,r),((e,t,n)=>{(0,n.maxWidthFunction)(e,t.maxWidth)})(t,i,r),{layout:i.layout,placement:i.placement}},Kh=x,qh=()=>Ka(`layouts`,[G(`onLtr`),G(`onRtl`),za(`onBottomLtr`),za(`onBottomRtl`)]),Jh=(e,t,n,r,i,a,o)=>{let s=o.map(Sl).getOr(!1),c=t.layouts.map((t=>t.onLtr(e))),l=t.layouts.map((t=>t.onRtl(e)));return Pr(s?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(c).getOr(i):c.getOr(n),s?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(l).getOr(a):l.getOr(r))(e)};var Yh=[G(`hotspot`),za(`bubble`),K(`overrides`,{}),qh(),hs(`placement`,((e,t,n)=>{let r=t.hotspot,i=Ph(n,r.element),a=Jh(e.element,t,qc(),Jc(),Gc(),Kc(),T.some(t.hotspot.element));return T.some(Kh({anchorBox:i,bubble:t.bubble.getOr(gc()),overrides:t.overrides,layouts:a}))}))],Xh=[G(`x`),G(`y`),K(`height`,0),K(`width`,0),K(`bubble`,gc()),K(`overrides`,{}),qh(),hs(`placement`,((e,t,n)=>{let r=Ih(n,t.x,t.y),i=Ai(r.left,r.top,t.width,t.height),a=Jh(e.element,t,Uc(),Wc(),Uc(),Wc(),T.none());return T.some(Kh({anchorBox:i,bubble:t.bubble,overrides:t.overrides,layouts:a}))}))];let Zh=Fe([{screen:[`point`]},{absolute:[`point`,`scrollLeft`,`scrollTop`]}]),Qh=e=>e.fold(x,((e,t,n)=>e.translate(-t,-n))),$h=e=>e.fold(x,x),eg=e=>P(e,((e,t)=>e.translate(t.left,t.top)),Dr(0,0)),tg=e=>eg(j(e,$h)),ng=Zh.screen,rg=Zh.absolute,ig=(e,t,n)=>{let r=jr(ln(e.element));return rg(((e,t,n)=>{let r=fn(n.root).dom;return T.from(r.frameElement).map(V).filter((t=>Mt(ln(t),ln(e.element)))).map(kr)})(e,0,n).getOr(r),r.left,r.top)},ag=(e,t,n,r)=>{let i=ng(Dr(e,t));return T.some(((e,t,n)=>({point:e,width:t,height:n}))(i,n,r))},og=(e,t,n,r,i)=>e.map((e=>{let a=[t,e.point],o=(s=()=>tg(a),c=()=>tg(a),l=()=>(e=>eg(j(e,Qh)))(a),r.fold(s,c,l));var s,c,l;let u=(m=o.left,h=o.top,g=e.width,_=e.height,{x:m,y:h,width:g,height:_}),d=n.showAbove?Gc():qc(),f=n.showAbove?Kc():Jc(),p=Jh(i,n,d,f,d,f,T.none());var m,h,g,_;return Kh({anchorBox:u,bubble:n.bubble.getOr(gc()),overrides:n.overrides,layouts:p})}));var sg=[G(`node`),G(`root`),za(`bubble`),qh(),K(`overrides`,{}),K(`showAbove`,!1),hs(`placement`,((e,t,n)=>{let r=ig(e,0,t);return t.node.filter(U).bind((i=>{let a=i.dom.getBoundingClientRect();return og(ag(a.left,a.top,a.width,a.height),r,t,n,t.node.getOr(e.element))}))}))];let cg=(e,t)=>({element:e,offset:t}),lg=(e,t)=>an(e)?cg(e,t):((e,t)=>{let n=vn(e);if(n.length===0)return cg(e,t);if(t<n.length)return cg(n[t],0);{let e=n[n.length-1];return cg(e,an(e)?(e=>Nr.get(e))(e).length:vn(e).length)}})(e,t),ug=e=>e.foffset!==void 0,dg=(e,t)=>t.getSelection.getOrThunk((()=>()=>(e=>(e=>T.from(e.getSelection()))(e).filter((e=>e.rangeCount>0)).bind(bi))(e)))().map((e=>{if(ug(e)){let t=lg(e.start,e.soffset),n=lg(e.finish,e.foffset);return vi.range(t.element,t.offset,n.element,n.offset)}return e}));var fg=[za(`getSelection`),G(`root`),za(`bubble`),qh(),K(`overrides`,{}),K(`showAbove`,!1),hs(`placement`,((e,t,n)=>{let r=fn(t.root).dom,i=ig(e,0,t);return og(dg(r,t).bind((e=>{if(ug(e))return((e,t)=>(e=>{let t=e.getBoundingClientRect();return t.width>0||t.height>0?T.some(t).map(wt):T.none()})(Dt(e,t)))(r,vi.exactFromRange(e)).orThunk((()=>{let t=xt(`﻿`);Bn(e.start,t);let n=xi(r,vi.exact(t,0,t,1));return $n(t),n})).bind((e=>ag(e.left,e.top,e.width,e.height)));{let t=we(e,(e=>e.dom.getBoundingClientRect())),n={left:Math.min(t.firstCell.left,t.lastCell.left),right:Math.max(t.firstCell.right,t.lastCell.right),top:Math.min(t.firstCell.top,t.lastCell.top),bottom:Math.max(t.firstCell.bottom,t.lastCell.bottom)};return ag(n.left,n.top,n.right-n.left,n.bottom-n.top)}})),i,t,n,dg(r,t).bind((e=>ug(e)?rn(e.start)?T.some(e.start):mn(e.start):T.some(e.firstCell))).getOr(e.element))}))];let pg=`link-layout`,mg=e=>e.x+e.width,hg=(e,t)=>e.x-t.width,gg=(e,t)=>e.y-t.height+e.height,_g=e=>e.y,vg=(e,t,n)=>_c(mg(e),_g(e),n.southeast(),yc(),`southeast`,Dc(e,{left:0,top:2}),pg),yg=(e,t,n)=>_c(hg(e,t),_g(e),n.southwest(),bc(),`southwest`,Dc(e,{right:1,top:2}),pg),bg=(e,t,n)=>_c(mg(e),gg(e,t),n.northeast(),xc(),`northeast`,Dc(e,{left:0,bottom:3}),pg),xg=(e,t,n)=>_c(hg(e,t),gg(e,t),n.northwest(),Sc(),`northwest`,Dc(e,{right:1,bottom:3}),pg),Sg=()=>[vg,yg,bg,xg],Cg=()=>[yg,vg,xg,bg];var wg=Ea(`type`,{selection:fg,node:sg,hotspot:Yh,submenu:[G(`item`),qh(),K(`overrides`,{}),hs(`placement`,((e,t,n)=>{let r=Ph(n,t.item.element),i=Jh(e.element,t,Sg(),Cg(),Sg(),Cg(),T.none());return T.some(Kh({anchorBox:r,bubble:gc(),overrides:t.overrides,layouts:i}))}))],makeshift:Xh});let Tg=[Ra(`classes`,Qi),Xa(`mode`,`all`,[`all`,`layout`,`placement`])],Eg=[K(`useFixed`,w),za(`getBounds`)],Dg=[ja(`anchor`,wg),Ka(`transition`,Tg)],Og=(e,t,n,r,i,a)=>{let o=wa(`placement.info`,ma(Dg),i),s=o.anchor,c=r.element,l=n.get(r.uid);Ff((()=>{W(c,`position`,`fixed`);let i=pr(c,`visibility`);W(c,`visibility`,`hidden`);let u=t.useFixed()?(()=>{let e=document.documentElement;return Rh(0,0,e.clientWidth,e.clientHeight)})():(e=>{let t=kr(e.element),n=e.element.dom.getBoundingClientRect();return Lh(t.left,t.top,n.width,n.height)})(e);s.placement(e,s,u).each((e=>{let i=((e,t,n,r,i,a)=>((e,t,n,r,i,a,o,s)=>{let c=Wh(o,`maxHeightFunction`,_l()),l=Wh(o,`maxWidthFunction`,_),u=e.anchorBox,d=e.origin;return Gh(u,t,n,{bounds:Fh(d,a),origin:d,preference:r,maxHeightFunction:c,maxWidthFunction:l,lastPlacement:i,transition:s})})(((e,t)=>((e,t)=>({anchorBox:e,origin:t}))(e,t))(t.anchorBox,e),r.element,t.bubble,t.layouts,i,n,t.overrides,a))(u,e,a.orThunk((()=>t.getBounds.map(C))),r,l,o.transition);n.set(r.uid,i)})),i.fold((()=>{gr(c,`visibility`)}),(e=>{W(c,`visibility`,e)})),pr(c,`left`).isNone()&&pr(c,`top`).isNone()&&pr(c,`right`).isNone()&&pr(c,`bottom`).isNone()&&$e(pr(c,`position`),`fixed`)&&gr(c,`position`)}),c)},kg=$l({fields:Eg,name:`positioning`,active:Ah,apis:Object.freeze({__proto__:null,position:(e,t,n,r,i)=>{Og(e,t,n,r,i,T.none())},positionWithinBounds:Og,getMode:(e,t,n)=>t.useFixed()?`fixed`:`absolute`,reset:(e,t,n,r)=>{let i=r.element;M([`position`,`left`,`right`,`top`,`bottom`],(e=>gr(i,e))),(e=>{Zn(e,Yc)})(i),n.clear(r.uid)}}),state:Object.freeze({__proto__:null,init:()=>{let e={};return Tl({readState:()=>e,clear:t=>{p(t)?delete e[t]:e={}},set:(t,n)=>{e[t]=n},get:t=>Me(e,t)})}})});var Ag=Object.freeze({__proto__:null,events:e=>Pl([J(Ao(),((t,n)=>{let r=e.channels,i=xe(r),a=n;M(((e,t)=>t.universal?e:N(e,(e=>k(t.channels,e))))(i,a),(e=>{let n=r[e],i=n.schema,o=wa(`channel[`+e+`] data
Receiver: `+$o(t.element),i,a.data);n.onReceive(t,o)}))}))])});let jg=$l({fields:[ja(`channels`,xa(Ge.value,pa([ps(`onReceive`),K(`schema`,Yi())])))],name:`receiving`,active:Ag});var Mg=Object.freeze({__proto__:null,events:(e,t)=>{let n=(n,r)=>{e.updateState.each((e=>{let i=e(n,r);t.set(i)})),e.renderComponents.each((i=>{let a=i(r,t.get());(e.reuseDom?Lf:If)(n,a)}))};return Pl([J(Ao(),((t,r)=>{let i=r;if(!i.universal){let r=e.channel;k(i.channels,r)&&n(t,i.data)}})),Wl(((t,r)=>{e.initialData.each((e=>{n(t,e)}))}))])}}),Ng=Object.freeze({__proto__:null,getState:(e,t,n)=>n});let Pg=$l({fields:[G(`channel`),za(`renderComponents`),za(`updateState`),za(`initialData`),Za(`reuseDom`,!0)],name:`reflecting`,active:Mg,apis:Ng,state:Object.freeze({__proto__:null,init:()=>{let e=Ie(T.none());return{readState:()=>e.get().getOr(`none`),get:e.get,set:e.set,clear:()=>e.set(T.none())}}})}),Fg=(e,t,n,r)=>{n.get().each((t=>{Df(e)})),Cf(t.getAttachPoint(e),e);let i=e.getSystem().build(r);return Cf(e,i),n.set(i),i},Ig=(e,t,n,r)=>{let i=Fg(e,t,n,r);return t.onOpen(e,i),i},Lg=(e,t,n)=>{n.get().each((r=>{Df(e),Ef(e),t.onClose(e,r),n.clear()}))},Rg=(e,t,n)=>n.isOpen(),zg=(e,t,n)=>{let r=t.getAttachPoint(e);W(e.element,`position`,kg.getMode(r)),((e,t,n)=>{pr(e.element,t).fold((()=>{Zn(e.element,n)}),(t=>{Kn(e.element,n,t)})),W(e.element,t,`hidden`)})(e,`visibility`,t.cloakVisibilityAttr)},Bg=(e,t,n)=>{(e=>ae([`top`,`left`,`right`,`bottom`],(t=>pr(e,t).isSome())))(e.element)||gr(e.element,`position`),((e,t,n)=>{Yn(e.element,n).fold((()=>gr(e.element,t)),(n=>W(e.element,t,n)))})(e,`visibility`,t.cloakVisibilityAttr)};var Vg=Object.freeze({__proto__:null,cloak:zg,decloak:Bg,open:Ig,openWhileCloaked:(e,t,n,r,i)=>{zg(e,t),Ig(e,t,n,r),i(),Bg(e,t)},close:Lg,isOpen:Rg,isPartOf:(e,t,n,r)=>Rg(0,0,n)&&n.get().exists((n=>t.isPartOf(e,n,r))),getState:(e,t,n)=>n.get(),setContent:(e,t,n,r)=>n.get().map((()=>Fg(e,t,n,r)))}),Hg=Object.freeze({__proto__:null,events:(e,t)=>Pl([J(Fo(),((n,r)=>{Lg(n,e,t)}))])});let Ug=$l({fields:[ds(`onOpen`),ds(`onClose`),G(`isPartOf`),G(`getAttachPoint`),K(`cloakVisibilityAttr`,`data-precloak-visibility`)],name:`sandboxing`,active:Hg,apis:Vg,state:Object.freeze({__proto__:null,init:()=>{let e=st();return Tl({readState:b(`not-implemented`),isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}})}),Wg=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),Gg=e=>e.dimension.property,Kg=(e,t)=>e.dimension.getDimension(t),qg=(e,t)=>{ri(Wg(e,t),[t.shrinkingClass,t.growingClass])},Jg=(e,t)=>{ei(e.element,t.openClass),Qr(e.element,t.closedClass),W(e.element,Gg(t),`0px`),_r(e.element)},Yg=(e,t)=>{ei(e.element,t.closedClass),Qr(e.element,t.openClass),gr(e.element,Gg(t))},Xg=(e,t,n,r)=>{n.setCollapsed(),W(e.element,Gg(t),Kg(t,e.element)),qg(e,t),Jg(e,t),t.onStartShrink(e),t.onShrunk(e)},Zg=(e,t,n,r)=>{let i=r.getOrThunk((()=>Kg(t,e.element)));n.setCollapsed(),W(e.element,Gg(t),i),_r(e.element);let a=Wg(e,t);ei(a,t.growingClass),Qr(a,t.shrinkingClass),Jg(e,t),t.onStartShrink(e)},Qg=(e,t,n)=>{let r=Kg(t,e.element);(r===`0px`?Xg:Zg)(e,t,n,T.some(r))},$g=(e,t,n)=>{let r=Wg(e,t),i=ti(r,t.shrinkingClass),a=Kg(t,e.element);Yg(e,t);let o=Kg(t,e.element);(i?()=>{W(e.element,Gg(t),a),_r(e.element)}:()=>{Jg(e,t)})(),ei(r,t.shrinkingClass),Qr(r,t.growingClass),Yg(e,t),W(e.element,Gg(t),o),n.setExpanded(),t.onStartGrow(e)},e_=(e,t,n)=>!0===ti(Wg(e,t),t.growingClass),t_=(e,t,n)=>!0===ti(Wg(e,t),t.shrinkingClass);var n_=Object.freeze({__proto__:null,refresh:(e,t,n)=>{if(n.isExpanded()){gr(e.element,Gg(t));let n=Kg(t,e.element);W(e.element,Gg(t),n)}},grow:(e,t,n)=>{n.isExpanded()||$g(e,t,n)},shrink:(e,t,n)=>{n.isExpanded()&&Qg(e,t,n)},immediateShrink:(e,t,n)=>{n.isExpanded()&&Xg(e,t,n)},hasGrown:(e,t,n)=>n.isExpanded(),hasShrunk:(e,t,n)=>n.isCollapsed(),isGrowing:e_,isShrinking:t_,isTransitioning:(e,t,n)=>e_(e,t)||t_(e,t),toggleGrow:(e,t,n)=>{(n.isExpanded()?Qg:$g)(e,t,n)},disableTransitions:qg,immediateGrow:(e,t,n)=>{n.isExpanded()||(Yg(e,t),W(e.element,Gg(t),Kg(t,e.element)),qg(e,t),n.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),r_=Object.freeze({__proto__:null,exhibit:(e,t,n)=>{let r=t.expanded;return Jl(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:to(t.dimension.property,`0px`)})},events:(e,t)=>Pl([Ul(So(),((n,r)=>{r.event.raw.propertyName===e.dimension.property&&(qg(n,e),t.isExpanded()&&gr(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])});let i_=$l({fields:[G(`closedClass`),G(`openClass`),G(`shrinkingClass`),G(`growingClass`),za(`getAnimationRoot`),ds(`onShrunk`),ds(`onStartShrink`),ds(`onGrown`),ds(`onStartGrow`),K(`expanded`,!1),ja(`dimension`,Ea(`property`,{width:[hs(`property`,`width`),hs(`getDimension`,(e=>wr(e)+`px`))],height:[hs(`property`,`height`),hs(`getDimension`,(e=>br(e)+`px`))]}))],name:`sliding`,active:r_,apis:n_,state:Object.freeze({__proto__:null,init:e=>{let t=Ie(e.expanded);return Tl({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:ee(t.set,!1),setExpanded:ee(t.set,!0),readState:()=>`expanded: `+t.get()})}})});var a_=Object.freeze({__proto__:null,events:(e,t)=>{let n=e.stream.streams.setup(e,t);return Pl([J(e.event,n),Gl((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[J(e,(()=>t.cancel()))])).getOr([])))}});let o_=e=>{let t=Ie(null);return Tl({readState:()=>({timer:t.get()===null?`unset`:`set`}),setTimer:e=>{t.set(e)},cancel:()=>{let e=t.get();e!==null&&e.cancel()}})};var s_=Object.freeze({__proto__:null,throttle:o_,init:e=>e.stream.streams.state(e)});let c_=$l({fields:[ja(`stream`,Ea(`mode`,{throttle:[G(`delay`),K(`stopEvent`,!0),hs(`streams`,{setup:(e,t)=>{let n=e.stream,r=gt(e.onStream,n.delay);return t.setTimer(r),(e,t)=>{r.throttle(e,t),n.stopEvent&&t.stop()}},state:o_})]})),K(`event`,`input`),za(`cancelEvent`),ps(`onStream`)],name:`streaming`,active:a_,state:s_});var l_=Object.freeze({__proto__:null,exhibit:(e,t)=>Jl({attributes:no([{key:t.tabAttr,value:`true`}])})});let u_=$l({fields:[K(`tabAttr`,`data-alloy-tabstop`)],name:`tabstopping`,active:l_}),d_=(e,t,n,r)=>{let i=n.get();n.set(r),((e,t,n)=>{t.toggleClass.each((t=>{n.get()?Qr(e.element,t):ei(e.element,t)}))})(e,t,n),((e,t,n)=>{let r=t.aria;r.update(e,r,n.get())})(e,t,n),i!==r&&t.onToggled(e,r)},f_=(e,t,n)=>{d_(e,t,n,!n.get())},p_=(e,t,n)=>{d_(e,t,n,t.selected)};var m_=Object.freeze({__proto__:null,onLoad:p_,toggle:f_,isOn:(e,t,n)=>n.get(),on:(e,t,n)=>{d_(e,t,n,!0)},off:(e,t,n)=>{d_(e,t,n,!1)},set:d_}),h_=Object.freeze({__proto__:null,exhibit:()=>Jl({}),events:(e,t)=>{let n=(r=e,i=t,a=f_,ql((e=>{a(e,r,i)})));var r,i,a;let o=Yl(e,t,p_);return Pl(ue([e.toggleOnExecute?[n]:[],[o]]))}});let g_=(e,t,n)=>{Kn(e.element,`aria-expanded`,n)},__=$l({fields:[K(`selected`,!1),za(`toggleClass`),K(`toggleOnExecute`,!0),ds(`onToggled`),qa(`aria`,{mode:`none`},Ea(`mode`,{pressed:[K(`syncWithExpanded`,!1),hs(`update`,((e,t,n)=>{Kn(e.element,`aria-pressed`,n),t.syncWithExpanded&&g_(e,0,n)}))],checked:[hs(`update`,((e,t,n)=>{Kn(e.element,`aria-checked`,n)}))],expanded:[hs(`update`,g_)],selected:[hs(`update`,((e,t,n)=>{Kn(e.element,`aria-selected`,n)}))],none:[hs(`update`,_)]}))],name:`toggling`,active:h_,apis:m_,state:(v_=!1,{init:()=>{let e=Ie(v_);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(v_),readState:()=>e.get()}}})});var v_;let y_=z(`tooltip.exclusive`),b_=z(`tooltip.show`),x_=z(`tooltip.hide`),S_=z(`tooltip.immediateHide`),C_=z(`tooltip.immediateShow`),w_=(e,t,n)=>{e.getSystem().broadcastOn([y_],{})};var T_=Object.freeze({__proto__:null,hideAllExclusive:w_,immediateOpenClose:(e,t,n,r)=>Ol(e,r?C_:S_),isEnabled:(e,t,n)=>n.isEnabled(),setComponents:(e,t,n,r)=>{n.getTooltip().each((e=>{e.getSystem().isConnected()&&Wf.set(e,r)}))},setEnabled:(e,t,n,r)=>n.setEnabled(r)}),E_=Object.freeze({__proto__:null,events:(e,t)=>{let n=n=>{t.getTooltip().each((r=>{r.getSystem().isConnected()&&(Ef(r),e.onHide(n,r),t.clearTooltip())})),t.clearTimer()},r=n=>{if(!t.isShowing()&&t.isEnabled()){w_(n);let r=e.lazySink(n).getOrDie(),i=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Pl(e.mode===`normal`?[J(po(),(e=>{Ol(n,b_)})),J(uo(),(e=>{Ol(n,x_)}))]:[]),behaviours:Y([Wf.config({})])});t.setTooltip(i),Cf(r,i),e.onShow(n,i),kg.position(r,i,{anchor:e.anchor(n)})}},i=n=>{t.getTooltip().each((t=>{let r=e.lazySink(n).getOrDie();kg.position(r,t,{anchor:e.anchor(n)})}))};return Pl(ue([[Kl((t=>{e.onSetup(t)})),J(b_,(n=>{t.resetTimer((()=>{r(n)}),e.delayForShow())})),J(x_,(r=>{t.resetTimer((()=>{n(r)}),e.delayForHide())})),J(C_,(e=>{t.resetTimer((()=>{r(e)}),0)})),J(S_,(e=>{t.resetTimer((()=>{n(e)}),0)})),J(Ao(),((e,r)=>{let i=r;i.universal||(k(i.channels,y_)||k(i.channels,_u()))&&(i.data.closedTooltip&&t.isShowing()&&i.data.closedTooltip(),n(e))})),Gl((e=>{n(e)}))],(()=>{switch(e.mode){case`normal`:return[J(mo(),(e=>{Ol(e,C_)})),J(Oo(),(e=>{Ol(e,S_)})),J(po(),(e=>{Ol(e,b_)})),J(uo(),(e=>{Ol(e,x_)}))];case`follow-highlight`:return[J(Zo(),((e,t)=>{Ol(e,b_)})),J(Qo(),(e=>{Ol(e,x_)}))];case`children-normal`:return[J(mo(),((n,r)=>{zn(n.element).each((a=>{kt(r.event.target,`[data-mce-tooltip]`)&&t.getTooltip().fold((()=>{Ol(n,C_)}),(r=>{t.isShowing()&&(e.onShow(n,r),i(n))}))}))})),J(Oo(),(e=>{zn(e.element).fold((()=>{Ol(e,S_)}),_)})),J(po(),(n=>{Wr(n.element,`[data-mce-tooltip]:hover`).each((r=>{t.getTooltip().fold((()=>{Ol(n,b_)}),(r=>{t.isShowing()&&(e.onShow(n,r),i(n))}))}))})),J(uo(),(e=>{Wr(e.element,`[data-mce-tooltip]:hover`).fold((()=>{Ol(e,x_)}),_)}))];default:return[J(mo(),((n,r)=>{zn(n.element).each((a=>{kt(r.event.target,`[data-mce-tooltip]`)&&t.getTooltip().fold((()=>{Ol(n,C_)}),(r=>{t.isShowing()&&(e.onShow(n,r),i(n))}))}))})),J(Oo(),(e=>{zn(e.element).fold((()=>{Ol(e,S_)}),_)}))]}})()]))}});let D_=$l({fields:[G(`lazySink`),G(`tooltipDom`),K(`exclusive`,!0),K(`tooltipComponents`,[]),Qa(`delayForShow`,b(300)),Qa(`delayForHide`,b(100)),Qa(`onSetup`,_),Xa(`mode`,`normal`,[`normal`,`follow-highlight`,`children-keyboard-focus`,`children-normal`]),K(`anchor`,(e=>({type:`hotspot`,hotspot:e,layouts:{onLtr:b([Bc,zc,Fc,Lc,Ic,Rc]),onRtl:b([Bc,zc,Fc,Lc,Ic,Rc])},bubble:hc(0,-2,{})}))),ds(`onHide`),ds(`onShow`)],name:`tooltipping`,active:E_,state:Object.freeze({__proto__:null,init:()=>{let e=Ie(!0),t=st(),n=st(),r=()=>{t.on(clearTimeout)},i=b(`not-implemented`);return Tl({getTooltip:n.get,isShowing:n.isSet,setTooltip:n.set,clearTooltip:n.clear,clearTimer:r,resetTimer:(e,n)=>{r(),t.set(setTimeout(e,n))},readState:i,isEnabled:()=>e.get(),setEnabled:t=>e.set(t)})}}),apis:T_}),O_=$l({fields:[],name:`unselecting`,active:Object.freeze({__proto__:null,events:()=>Pl([Fl(wo(),re)]),exhibit:()=>Jl({styles:{"-webkit-user-select":`none`,"user-select":`none`,"-ms-user-select":`none`,"-moz-user-select":`-moz-none`},attributes:{unselectable:`on`}})})}),k_=e=>{let t=yt(e),n=vn(t),r=(e=>P(e.dom.attributes===void 0?[]:e.dom.attributes,((e,t)=>t.name===`class`?e:{...e,[t.name]:t.value}),{}))(t),i=(e=>Array.prototype.slice.call(e.dom.classList,0))(t),a=n.length===0?{}:{innerHtml:tr(t)};return{tag:en(t),classes:i,attributes:r,...a}},A_=e=>{let t=(e=>e.uid!==void 0)(e)&&Pe(e,`uid`)?e.uid:$f(`memento`);return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}},j_=pc,M_=Xs,N_=(e,t)=>{let n={stopBackspace:!0,...t},r=(e=>{let t=st(),n=Ie(!1),r=bs((t=>{e.triggerEvent(Po(),t),n.set(!0)}),400),i=no([{key:io(),value:e=>(xs(e).each((i=>{r.cancel();let a={x:i.clientX,y:i.clientY,target:e.target};r.schedule(e),n.set(!1),t.set(a)})),T.none())},{key:ao(),value:e=>(r.cancel(),xs(e).each((e=>{t.on((n=>{((e,t)=>{let n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5})(e,n)&&t.clear()}))})),T.none())},{key:oo(),value:i=>(r.cancel(),t.get().filter((e=>Mt(e.target,i.target))).map((t=>n.get()?(i.prevent(),!1):e.triggerEvent(No(),i))))}]);return{fireIfReady:(e,t)=>Me(i,t).bind((t=>t(e)))}})(n),i=j([`touchstart`,`touchmove`,`touchend`,`touchcancel`,`gesturestart`,`mousedown`,`mouseup`,`mouseover`,`mousemove`,`mouseout`,`click`,`selectstart`,`input`,`contextmenu`,`change`,`transitionend`,`transitioncancel`,`drag`,`dragstart`,`dragend`,`dragenter`,`dragleave`,`dragover`,`drop`,`keyup`],(t=>Mn(e,t,(e=>{r.fireIfReady(e,t).each((t=>{t&&e.kill()})),n.triggerEvent(t,e)&&e.kill()})))),a=st(),o=Mn(e,`paste`,(e=>{r.fireIfReady(e,`paste`).each((t=>{t&&e.kill()})),n.triggerEvent(`paste`,e)&&e.kill(),a.set(setTimeout((()=>{n.triggerEvent(ko(),e)}),0))})),s=Mn(e,`keydown`,(e=>{n.triggerEvent(`keydown`,e)?e.kill():n.stopBackspace&&(e=>e.raw.which===cu[0]&&!k([`input`,`textarea`],en(e.target))&&!ui(e.target,`[contenteditable="true"]`))(e)&&e.prevent()})),c=Mn(e,`focusin`,(e=>{n.triggerEvent(`focusin`,e)&&e.kill()})),l=st(),u=Mn(e,`focusout`,(e=>{n.triggerEvent(`focusout`,e)&&e.kill(),l.set(setTimeout((()=>{n.triggerEvent(Oo(),e)}),0))}));return{unbind:()=>{M(i,(e=>{e.unbind()})),s.unbind(),c.unbind(),u.unbind(),o.unbind(),a.on(clearTimeout),l.on(clearTimeout)}}},P_=(e,t)=>Ie(Me(e,`target`).getOr(t)),F_=Fe([{stopped:[]},{resume:[`element`]},{complete:[]}]),I_=(e,t,n,r,i,a)=>{let o=e(t,r),s=((e,t)=>{let n=Ie(!1),r=Ie(!1);return{stop:()=>{n.set(!0)},cut:()=>{r.set(!0)},isStopped:n.get,isCut:r.get,event:e,setSource:t.set,getSource:t.get}})(n,i);return o.fold((()=>(a.logEventNoHandlers(t,r),F_.complete())),(e=>{let n=e.descHandler;return ip(n)(s),s.isStopped()?(a.logEventStopped(t,e.element,n.purpose),F_.stopped()):s.isCut()?(a.logEventCut(t,e.element,n.purpose),F_.complete()):pn(e.element).fold((()=>(a.logNoParent(t,e.element,n.purpose),F_.complete())),(r=>(a.logEventResponse(t,e.element,n.purpose),F_.resume(r))))}))},L_=(e,t,n,r,i,a)=>I_(e,t,n,r,i,a).fold(re,(r=>L_(e,t,n,r,i,a)),w),R_=(e,t,n,r,i)=>L_(e,t,n,r,P_(n,r),i),z_=()=>{let e=(()=>{let e={};return{registerId:(t,n,r)=>{Ce(r,((r,i)=>{let a=e[i]===void 0?{}:e[i];a[n]=((e,t)=>({cHandler:ee.apply(void 0,[e.handler].concat(t)),purpose:e.purpose}))(r,t),e[i]=a}))},unregisterId:t=>{Ce(e,((e,n)=>{Ne(e,t)&&delete e[t]}))},filterByType:t=>Me(e,t).map((e=>ke(e,((e,t)=>((e,t)=>({id:e,descHandler:t}))(t,e))))).getOr([]),find:(t,n,r)=>Me(e,n).bind((e=>pi(r,(t=>((e,t)=>Qf(t).bind((t=>Me(e,t))).map((e=>((e,t)=>({element:e,descHandler:t}))(t,e))))(e,t)),t)))}})(),t={},n=n=>{Qf(n.element).each((n=>{delete t[n],e.unregisterId(n)}))};return{find:(t,n,r)=>e.find(t,n,r),filter:t=>e.filterByType(t),register:r=>{let i=(e=>{let t=e.element;return Qf(t).getOrThunk((()=>((e,t)=>{let n=z(Yf+`uid-`);return Zf(t,n),n})(0,e.element)))})(r);Pe(t,i)&&((e,r)=>{let i=t[r];if(i!==e)throw Error(`The tagId "`+r+`" is already used by: `+$o(i.element)+`
Cannot use it for: `+$o(e.element)+`
The conflicting element is`+(U(i.element)?` `:` not `)+`already in the DOM`);n(e)})(r,i);let a=[r];e.registerId(a,i,r.events),t[i]=r},unregister:n,getById:e=>Me(t,e)}},B_=e=>{let t=t=>pn(e.element).fold(re,(e=>Mt(t,e))),n=z_(),r=(e,r)=>n.find(t,e,r),i=N_(e.element,{triggerEvent:(e,t)=>rs(e,t.target,(n=>((e,t,n,r)=>R_(e,t,n,n.target,r))(r,e,t,n)))}),a={debugInfo:b(`real`),triggerEvent:(e,t,n)=>{rs(e,t,(i=>R_(r,e,n,t,i)))},triggerFocus:(e,t)=>{Qf(e).fold((()=>{Fn(e)}),(n=>{rs(Do(),e,(n=>(((e,t,n,r,i)=>{I_(e,t,n,r,P_(n,r),i)})(r,Do(),{originator:t,kill:_,prevent:_,target:e},e,n),!1)))}))},triggerEscape:(e,t)=>{a.triggerEvent(`keydown`,e.element,t.event)},getByUid:e=>m(e),getByDom:e=>h(e),build:bp,buildOrPatch:yp,addToGui:e=>{c(e)},removeFromGui:e=>{l(e)},addToWorld:e=>{o(e)},removeFromWorld:e=>{s(e)},broadcast:e=>{d(e)},broadcastOn:(e,t)=>{f(e,t)},broadcastEvent:(e,t)=>{p(e,t)},isConnected:re},o=e=>{e.connect(a),an(e.element)||(n.register(e),M(e.components(),o),a.triggerEvent(Lo(),e.element,{target:e.element}))},s=e=>{an(e.element)||(M(e.components(),s),n.unregister(e)),e.disconnect()},c=t=>{Cf(e,t)},l=e=>{Ef(e)},u=e=>{M(n.filter(Ao()),(t=>{let n=t.descHandler;ip(n)(e)}))},d=e=>{u({universal:!0,data:e})},f=(e,t)=>{u({universal:!1,channels:e,data:t})},p=(e,t)=>((e,t)=>{let n=(e=>{let t=Ie(!1);return{stop:()=>{t.set(!0)},cut:_,isStopped:t.get,isCut:w,event:e,setSource:ne(`Cannot set source of a broadcasted event`),getSource:ne(`Cannot get source of a broadcasted event`)}})(t);return M(e,(e=>{let t=e.descHandler;ip(t)(n)})),n.isStopped()})(n.filter(e),t),m=e=>n.getById(e).fold((()=>Ge.error(Error(`Could not find component with uid: "`+e+`" in system.`))),Ge.value),h=e=>m(Qf(e).getOr(`not found`));return o(e),{root:e,element:e.element,destroy:()=>{i.unbind(),$n(e.element)},add:c,remove:l,getByUid:m,getByDom:h,addToWorld:o,removeFromWorld:s,broadcast:d,broadcastOn:f,broadcastEvent:p}},V_=()=>{let e=(e,t)=>{t.stop(),Al(e)};return[J(bo(),e),J(No(),e),Vl(io()),Vl(co())]},H_=e=>Pl(ue([e.map((e=>ql(((t,n)=>{e(t),n.stop()})))).toArray(),V_()])),U_=Vm({name:`Button`,factory:e=>{let t=H_(e.action),n=e.dom.tag,r=t=>Me(e.dom,`attributes`).bind((e=>Me(e,t)));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Fm(e.buttonBehaviours,[su.config({}),ff.config({mode:`execution`,useSpace:!0,useEnter:!0})]),domModification:{attributes:n===`button`?{type:r(`type`).getOr(`button`),...r(`role`).map((e=>({role:e}))).getOr({})}:{role:e.role.getOr(r(`role`).getOr(`button`))}},eventOrder:e.eventOrder}},configFields:[K(`uid`,void 0),G(`dom`),K(`components`,[]),Pm(`buttonBehaviours`,[su,ff]),za(`action`),za(`role`),K(`eventOrder`,{})]}),W_=b([K(`shell`,!1),G(`makeItem`),K(`setupItem`,_),Pm(`listBehaviours`,[Wf])]),G_=b([qs({name:`items`,overrides:()=>({behaviours:Y([Wf.config({})])})})]),K_=Hm({name:b(`CustomList`)(),configFields:W_(),partFields:G_(),factory:(e,t,n,r)=>{let i=e.shell?{behaviours:[Wf.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:Nm(e.listBehaviours,i.behaviours),apis:{setItems:(t,n)=>{var r;(r=t,e.shell?T.some(r):ac(r,e,`items`)).fold((()=>{throw console.error(`Custom List was defined to not be a shell, but no item container was specified in components`),Error(`Custom List was defined to not be a shell, but no item container was specified in components`)}),(r=>{let i=Wf.contents(r),a=n.length,o=a-i.length,s=o>0?A(o,(()=>e.makeItem())):[];M(i.slice(a),(e=>Wf.remove(r,e))),M(s,(e=>Wf.append(r,e))),M(Wf.contents(r),((r,i)=>{e.setupItem(t,r,n[i],i)}))}))}}}},apis:{setItems:(e,t,n)=>{e.setItems(t,n)}}}),q_=`aria-controls`,J_=()=>{let e=z(q_);return{id:e,link:t=>{Kn(t,q_,e)},unlink:e=>{Zn(e,q_)}}},Y_=(e,t)=>li(t,(t=>Mt(t,e.element)),w)||((e,t)=>(e=>zr(e,(e=>{if(!rn(e))return!1;let t=Jn(e,`id`);return t!==void 0&&t.indexOf(q_)>-1})).bind((e=>{let t=Jn(e,`id`);return Wr(wn(e),`[${q_}="${t}"]`)})))(t).exists((t=>Y_(e,t))))(e,t),X_=`alloy.item-hover`,Z_=`alloy.item-focus`,Q_=`alloy.item-toggled`,$_=e=>{(zn(e.element).isNone()||su.isFocused(e))&&(su.isFocused(e)||su.focus(e),kl(e,X_,{item:e}))},ev=e=>{kl(e,Z_,{item:e})},tv=b(X_),nv=b(Z_),rv=b(Q_),iv=e=>e.role.fold((()=>e.toggling.map((e=>e.exclusive?`menuitemradio`:`menuitemcheckbox`)).getOr(`menuitem`)),x);var av=[G(`data`),G(`components`),G(`dom`),K(`hasSubmenu`,!1),za(`toggling`),za(`role`),Pm(`itemBehaviours`,[__,su,ff,Q]),K(`ignoreFocus`,!1),K(`domModification`,{}),hs(`builder`,(e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:iv(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Fm(e.itemBehaviours,[e.toggling.fold(__.revoke,(t=>__.config(((e,t)=>({aria:{mode:t?`selected`:`checked`},...Oe(e,((e,t)=>t!==`exclusive`)),onToggled:(t,n)=>{m(e.onToggled)&&e.onToggled(t,n),((e,t)=>{kl(e,Q_,{item:e,state:t})})(t,n)}}))(t,e.role.exists((e=>e===`option`)))))),su.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{ev(e)}}),ff.config({mode:`execution`}),Q.config({store:{mode:`memory`,initialValue:e.data}}),ru(`item-type-events`,[...V_(),J(po(),$_),J(Mo(),su.focus)])]),components:e.components,eventOrder:e.eventOrder}))),K(`eventOrder`,{})],ov=[G(`dom`),G(`components`),hs(`builder`,(e=>({dom:e.dom,components:e.components,events:Pl([Hl(Mo())])})))];let sv=b(`item-widget`),cv=b([Gs({name:`widget`,overrides:e=>({behaviours:Y([Q.config({store:{mode:`manual`,getValue:t=>e.data,setValue:_}})])})})]),lv=Ea(`type`,{widget:[G(`uid`),G(`data`),G(`components`),G(`dom`),K(`autofocus`,!1),K(`ignoreFocus`,!1),Pm(`widgetBehaviours`,[Q,su,ff]),K(`domModification`,{}),fc(cv()),hs(`builder`,(e=>{let t=rc(sv(),e,cv()),n=ic(sv(),e,t.internals()),r=t=>ac(t,e,`widget`).map((e=>(ff.focusIn(e),e))),i=(t,n)=>(qu(n.event.target)||e.autofocus&&n.setSource(t.element),T.none());return{dom:e.dom,components:n,domModification:e.domModification,events:Pl([ql(((e,t)=>{r(e).each((e=>{t.stop()}))})),J(po(),$_),J(Mo(),((t,n)=>{e.autofocus?r(t):su.focus(t)}))]),behaviours:Fm(e.widgetBehaviours,[Q.config({store:{mode:`memory`,initialValue:e.data}}),su.config({ignore:e.ignoreFocus,onFocus:e=>{ev(e)}}),ff.config({mode:`special`,focusIn:e.autofocus?e=>{r(e)}:nu(),onLeft:i,onRight:i,onEscape:(t,n)=>su.isFocused(t)||e.autofocus?(e.autofocus&&n.setSource(t.element),T.none()):(su.focus(t),T.some(!0))})])}}))],item:av,separator:ov}),uv=b([Js({factory:{sketch:e=>{let t=wa(`menu.spec item`,lv,e);return t.builder(t)}},name:`items`,unit:`item`,defaults:(e,t)=>Ne(t,`uid`)?t:{...t,uid:$f(`item`)},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),dv=b([Ha(`role`),G(`value`),G(`items`),G(`dom`),G(`components`),K(`eventOrder`,{}),jm(`menuBehaviours`,[zu,Q,Ep,ff]),qa(`movement`,{mode:`menu`,moveOnTab:!0},Ea(`mode`,{grid:[_s(),hs(`config`,((e,t)=>({mode:`flatgrid`,selector:`.`+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager})))],matrix:[hs(`config`,((e,t)=>({mode:`matrix`,selectors:{row:t.rowSelector,cell:`.`+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}))),G(`rowSelector`),K(`previousSelector`,T.none)],menu:[K(`moveOnTab`,!0),hs(`config`,((e,t)=>({mode:`menu`,selector:`.`+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager})))]})),ja(`markers`,os()),K(`fakeFocus`,!1),K(`focusManager`,Vu()),ds(`onHighlight`),ds(`onDehighlight`),K(`showMenuRole`,!0)]),fv=b(`alloy.menu-focus`),pv=Hm({name:`Menu`,configFields:dv(),partFields:uv(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Nm(e.menuBehaviours,[zu.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),Q.config({store:{mode:`memory`,initialValue:e.value}}),Ep.config({find:T.some}),ff.config(e.movement.config(e,e.movement))]),events:Pl([J(nv(),((e,t)=>{let n=t.event;e.getSystem().getByDom(n.target).each((n=>{zu.highlight(e,n),t.stop(),kl(e,fv(),{menu:e,item:n})}))})),J(tv(),((e,t)=>{let n=t.event.item;zu.highlight(e,n)})),J(rv(),((e,t)=>{let{item:n,state:r}=t.event;r&&Jn(n.element,`role`)===`menuitemradio`&&((e,t)=>{M(ci(e.element,`[role="menuitemradio"][aria-checked="true"]`),(n=>{Mt(n,t.element)||e.getSystem().getByDom(n).each((e=>{__.off(e)}))}))})(e,n)}))]),components:t,eventOrder:e.eventOrder,...e.showMenuRole?{domModification:{attributes:{role:e.role.getOr(`menu`)}}}:{}})}),mv=(e,t,n,r)=>Me(n,r).bind((r=>Me(e,r).bind((r=>{let i=mv(e,t,n,r);return T.some([r].concat(i))})))).getOr([]),hv=e=>e.type===`prepared`?T.some(e.menu):T.none(),gv=()=>{let e=Ie({}),t=Ie({}),n=Ie({}),r=st(),i=Ie({}),a=e=>o(e).bind(hv),o=e=>Me(t.get(),e),s=t=>Me(e.get(),t);return{setMenuBuilt:(e,n)=>{t.set({...t.get(),[e]:{type:`prepared`,menu:n}})},setContents:(a,o,s,c)=>{r.set(a),e.set(s),t.set(o),i.set(c);let l=((e,t)=>{let n={};Ce(e,((e,t)=>{M(e,(e=>{n[e]=t}))}));let r=t,i=Te(t,((e,t)=>({k:e,v:t}))),a=we(i,((e,t)=>[t].concat(mv(n,r,i,t))));return we(n,(e=>Me(a,e).getOr([e])))})(c,s);n.set(l)},expand:t=>Me(e.get(),t).map((e=>{let r=Me(n.get(),t).getOr([]);return[e].concat(r)})),refresh:e=>Me(n.get(),e),collapse:e=>Me(n.get(),e).bind((e=>e.length>1?T.some(e.slice(1)):T.none())),lookupMenu:o,lookupItem:s,otherMenus:e=>me(xe(i.get()),e),getPrimary:()=>r.get().bind(a),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),n.set({}),r.clear()},isClear:()=>r.get().isNone(),getTriggeringPath:(t,i)=>{let o=N(s(t).toArray(),(e=>a(e).isSome()));return Me(n.get(),t).bind((t=>{let n=pe(o.concat(t));return(e=>{let t=[];for(let n=0;n<e.length;n++){let r=e[n];if(!r.isSome())return T.none();t.push(r.getOrDie())}return T.some(t)})(de(n,((t,o)=>((t,n,r)=>a(t).bind((i=>(t=>Ae(e.get(),((e,n)=>e===t)))(t).bind((e=>n(e).map((e=>({triggeredMenu:i,triggeringItem:e,triggeringPath:r}))))))))(t,i,n.slice(0,o+1)).fold((()=>$e(r.get(),t)?[]:[T.none()]),(e=>[T.some(e)])))))}))}}},_v=hv,vv=z(`tiered-menu-item-highlight`),yv=z(`tiered-menu-item-dehighlight`),bv=b(`collapse-item`),xv=Vm({name:`TieredMenu`,configFields:[ms(`onExecute`),ms(`onEscape`),ps(`onOpenMenu`),ps(`onOpenSubmenu`),ds(`onRepositionMenu`),ds(`onCollapseMenu`),K(`highlightOnOpen`,Cl.HighlightMenuAndItem),Ia(`data`,[G(`primary`),G(`menus`),G(`expansions`)]),K(`fakeFocus`,!1),ds(`onHighlightItem`),ds(`onDehighlightItem`),ds(`onHover`),cs(),G(`dom`),K(`navigateOnHover`,!0),K(`stayInDom`,!1),jm(`tmenuBehaviours`,[ff,zu,Ep,Wf]),K(`eventOrder`,{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{let n=st(),r=gv(),i=e=>Q.getValue(e).value,a=t=>we(e.data.menus,((e,t)=>de(e.items,(e=>e.type===`separator`?[]:[e.data.value])))),o=zu.highlight,s=(t,n)=>{o(t,n),zu.getHighlighted(n).orThunk((()=>zu.getFirst(n))).each((r=>{e.fakeFocus?zu.highlight(n,r):jl(t,r.element,Mo())}))},c=(e,t)=>et(j(t,(t=>e.lookupMenu(t).bind((e=>e.type===`prepared`?T.some(e.menu):T.none()))))),l=(t,n,r)=>{M(c(n,n.otherMenus(r)),(n=>{ri(n.element,[e.markers.backgroundMenu]),e.stayInDom||Wf.remove(t,n)}))},u=(t,r)=>{Ce((t=>n.get().getOrThunk((()=>{let r={};return M(N(ci(t.element,`.${e.markers.item}`),(e=>Jn(e,`aria-haspopup`)===`true`)),(e=>{t.getSystem().getByDom(e).each((e=>{let t=i(e);r[t]=e}))})),n.set(r),r})))(t),((e,t)=>{let n=k(r,t);Kn(e.element,`aria-expanded`,n)}))},d=(t,n,r)=>T.from(r[0]).bind((i=>n.lookupMenu(i).bind((i=>{if(i.type===`notbuilt`)return T.none();{let a=i.menu;return M(c(n,r.slice(1)),(t=>{Qr(t.element,e.markers.backgroundMenu)})),U(a.element)||Wf.append(t,xp(a)),ri(a.element,[e.markers.backgroundMenu]),s(t,a),l(t,n,r),T.some(a)}})))),f;(function(e){e[e.HighlightSubmenu=0]=`HighlightSubmenu`,e[e.HighlightParent=1]=`HighlightParent`})(f||={});let p=(t,n,a=f.HighlightSubmenu)=>{if(n.hasConfigured(Bp)&&Bp.isDisabled(n))return T.some(n);{let o=i(n);return r.expand(o).bind((i=>(u(t,i),T.from(i[0]).bind((o=>r.lookupMenu(o).bind((s=>{let c=((e,t,n)=>{if(n.type===`notbuilt`){let i=e.getSystem().build(n.nbMenu());return r.setMenuBuilt(t,i),i}return n.menu})(t,o,s);return U(c.element)||Wf.append(t,xp(c)),e.onOpenSubmenu(t,n,c,pe(i)),a===f.HighlightSubmenu?(zu.highlightFirst(c),d(t,r,i)):(zu.dehighlightAll(c),T.some(n))})))))))}},m=(t,n)=>{let a=i(n);return r.collapse(a).bind((i=>(u(t,i),d(t,r,i).map((r=>(e.onCollapseMenu(t,n,r),r))))))},h=t=>(n,r)=>Gr(r.getSource(),`.${e.markers.item}`).bind((e=>n.getSystem().getByDom(e).toOptional().bind((e=>t(n,e).map(re))))),g=Pl([J(fv(),((e,t)=>{let n=t.event.item;r.lookupItem(i(n)).each((()=>{let n=t.event.menu;zu.highlight(e,n);let a=i(t.event.item);r.refresh(a).each((t=>l(e,r,t)))}))})),ql(((t,n)=>{let r=n.event.target;t.getSystem().getByDom(r).each((n=>{i(n).indexOf(`collapse-item`)===0&&m(t,n),p(t,n,f.HighlightSubmenu).fold((()=>{e.onExecute(t,n)}),_)}))})),Wl(((t,n)=>{(t=>{let n=((t,n,r)=>we(r,((r,i)=>{let a=()=>pv.sketch({...r,value:i,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{kl(e,vv,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{kl(e,yv,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?Hu():Vu()});return i===n?{type:`prepared`,menu:t.getSystem().build(a())}:{type:`notbuilt`,nbMenu:a}})))(t,e.data.primary,e.data.menus),i=a();return r.setContents(e.data.primary,n,e.data.expansions,i),r.getPrimary()})(t).each((n=>{Wf.append(t,xp(n)),e.onOpenMenu(t,n),e.highlightOnOpen===Cl.HighlightMenuAndItem?s(t,n):e.highlightOnOpen===Cl.HighlightJustMenu&&o(t,n)}))})),J(vv,((t,n)=>{e.onHighlightItem(t,n.event.menuComp,n.event.itemComp)})),J(yv,((t,n)=>{e.onDehighlightItem(t,n.event.menuComp,n.event.itemComp)})),...e.navigateOnHover?[J(tv(),((t,n)=>{let a=n.event.item;((e,t)=>{let n=i(t);r.refresh(n).bind((t=>(u(e,t),d(e,r,t))))})(t,a),p(t,a,f.HighlightParent),e.onHover(t,a)}))]:[]]),v=e=>zu.getHighlighted(e).bind(zu.getHighlighted);return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Nm(e.tmenuBehaviours,[ff.config({mode:`special`,onRight:h(((e,t)=>qu(t.element)?T.none():p(e,t,f.HighlightSubmenu))),onLeft:h(((e,t)=>qu(t.element)?T.none():m(e,t))),onEscape:h(((t,n)=>m(t,n).orThunk((()=>e.onEscape(t,n).map((()=>t)))))),focusIn:(e,t)=>{r.getPrimary().each((t=>{jl(e,t.element,Mo())}))}}),zu.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Ep.config({find:e=>zu.getHighlighted(e)}),Wf.config({})]),eventOrder:e.eventOrder,apis:{collapseMenu:e=>{v(e).each((t=>{m(e,t)}))},highlightPrimary:e=>{r.getPrimary().each((t=>{s(e,t)}))},repositionMenus:t=>{r.getPrimary().bind((e=>v(t).bind((e=>{let t=i(e),n=et(j(je(r.getMenus()),_v));return r.getTriggeringPath(t,(e=>((e,t,n)=>be(t,(e=>e.getSystem().isConnected()?le(zu.getCandidates(e),(e=>i(e)===n)):T.none())))(0,n,e)))})).map((t=>({primary:e,triggeringPath:t}))))).fold((()=>{(e=>T.from(e.components()[0]).filter((e=>Jn(e.element,`role`)===`menu`)))(t).each((n=>{e.onRepositionMenu(t,n,[])}))}),(({primary:n,triggeringPath:r})=>{e.onRepositionMenu(t,n,r)}))}},events:g}},extraApis:{tieredData:(e,t,n)=>({primary:e,menus:t,expansions:n}),singleData:(e,t)=>({primary:e,menus:to(e,t),expansions:{}}),collapseItem:e=>({value:z(bv()),meta:{text:e}})}}),Sv=b(`sink`),Cv=b(qs({name:Sv(),overrides:b({dom:{tag:`div`},behaviours:Y([kg.config({useFixed:re})]),events:Pl([Vl(go()),Vl(co()),Vl(bo())])})})),wv=pa([K(`isExtraPart`,w),Ka(`fireEventInstead`,[K(`event`,Wo())])]),Tv=e=>{let t=wa(`Dismissal`,wv,e);return{[vu()]:{schema:pa([G(`target`)]),onReceive:(e,n)=>{Ug.isOpen(e)&&(Ug.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold((()=>Ug.close(e)),(t=>Ol(e,t.event))))}}}},Ev=pa([Ka(`fireEventInstead`,[K(`event`,Go())]),Fa(`doReposition`)]),Dv=e=>{let t=wa(`Reposition`,Ev,e);return{[yu()]:{onReceive:e=>{Ug.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>Ol(e,t.event)))}}}},Ov=(e,t)=>{let n=e.getHotspot(t).getOr(t),r=`hotspot`,i=e.getAnchorOverrides();return e.layouts.fold((()=>({type:r,hotspot:n,overrides:i})),(e=>({type:r,hotspot:n,overrides:i,layouts:e})))},kv=(e,t,n,r,i,a,o)=>((e,t,n,r,i,a,o)=>{let s=((e,t,n)=>(0,e.fetch)(n).map(t))(e,t,r),c=Mv(r,e);return s.map((t=>t.bind((t=>{let s=t.menus[t.primary];return T.from(s).each((t=>{e.listRole.each((e=>{t.role=e}))})),T.from(xv.sketch({...a.menu(),uid:$f(``),data:t,highlightOnOpen:o,onOpenMenu:(e,t)=>{let r=c().getOrDie();kg.position(r,t,{anchor:n}),Ug.decloak(i)},onOpenSubmenu:(e,t,n)=>{let r=c().getOrDie();kg.position(r,n,{anchor:{type:`submenu`,item:t}}),Ug.decloak(i)},onRepositionMenu:(e,t,r)=>{let i=c().getOrDie();kg.position(i,t,{anchor:n}),M(r,(e=>{kg.position(i,e.triggeredMenu,{anchor:{type:`submenu`,item:e.triggeringItem}})}))},onEscape:()=>(su.focus(r),Ug.close(i),T.some(!0))}))}))))})(e,t,Ov(e,n),n,r,i,o).map((e=>(e.fold((()=>{Ug.isOpen(r)&&Ug.close(r)}),(e=>{Ug.cloak(r),Ug.open(r,e),a(r)})),r))),Av=(e,t,n,r,i,a,o)=>(Ug.close(r),He(r)),jv=(e,t,n,r,i,a)=>{let o=Z.getCoupled(n,`sandbox`);return(Ug.isOpen(o)?Av:kv)(e,t,n,o,r,i,a)},Mv=(e,t)=>e.getSystem().getByUid(t.uid+`-`+Sv()).map((e=>()=>Ge.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>Ge.error(Error(`No internal sink is specified, nor could an external sink be found`))),(t=>()=>t(e))))),Nv=e=>{Ug.getState(e).each((e=>{xv.repositionMenus(e)}))},Pv=(e,t,n)=>{let r=J_(),i=Mv(t,e);return{dom:{tag:`div`,classes:e.sandboxClasses,attributes:{id:r.id}},behaviours:Fm(e.sandboxBehaviours,[Q.config({store:{mode:`memory`,initialValue:t}}),Ug.config({onOpen:(i,a)=>{let o=Ov(e,t);r.link(t.element),e.matchWidth&&((e,t,n)=>{let r=Ep.getCurrent(t).getOr(t),i=wr(e.element);n?W(r.element,`min-width`,i+`px`):((e,t)=>{Cr.set(e,t)})(r.element,i)})(o.hotspot,a,e.useMinWidth),e.onOpen(o,i,a),n!==void 0&&n.onOpen!==void 0&&n.onOpen(i,a)},onClose:(e,a)=>{r.unlink(t.element),i().getOr(a).element.dom.dispatchEvent(new window.FocusEvent(`focusout`)),n!==void 0&&n.onClose!==void 0&&n.onClose(e,a)},isPartOf:(e,n,r)=>Y_(n,r)||Y_(t,r),getAttachPoint:()=>i().getOrDie()}),Ep.config({find:e=>Ug.getState(e).bind((e=>Ep.getCurrent(e)))}),jg.config({channels:{...Tv({isExtraPart:w}),...Dv({doReposition:Nv})}})])}},Fv=()=>[K(`sandboxClasses`,[]),Pm(`sandboxBehaviours`,[Ep,jg,Ug,Q])],Iv=b([G(`dom`),G(`fetch`),ds(`onOpen`),fs(`onExecute`),K(`getHotspot`,T.some),K(`getAnchorOverrides`,b({})),qh(),jm(`dropdownBehaviours`,[__,Z,ff,su]),G(`toggleClass`),K(`eventOrder`,{}),za(`lazySink`),K(`matchWidth`,!1),K(`useMinWidth`,!1),za(`role`),za(`listRole`)].concat(Fv())),Lv=b([Ks({schema:[cs(),K(`fakeFocus`,!1)],name:`menu`,defaults:e=>({onExecute:e.onExecute})}),Cv()]),Rv=Hm({name:`Dropdown`,configFields:Iv(),partFields:Lv(),factory:(e,t,n,r)=>{let i=e=>{Ug.getState(e).each((e=>{xv.highlightPrimary(e)}))},a=(t,n,i)=>jv(e,x,t,r,n,i),o={expand:e=>{__.isOn(e)||a(e,_,Cl.HighlightNone).get(_)},open:e=>{__.isOn(e)||a(e,_,Cl.HighlightMenuAndItem).get(_)},refetch:t=>Z.getExistingCoupled(t,`sandbox`).fold((()=>a(t,_,Cl.HighlightMenuAndItem).map(_)),(n=>kv(e,x,t,n,r,_,Cl.HighlightMenuAndItem).map(_))),isOpen:__.isOn,close:e=>{__.isOn(e)&&a(e,_,Cl.HighlightMenuAndItem).get(_)},repositionMenus:e=>{__.isOn(e)&&(e=>{Nv(Z.getCoupled(e,`sandbox`))})(e)}},s=(e,t)=>(Al(e),T.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:Nm(e.dropdownBehaviours,[__.config({toggleClass:e.toggleClass,aria:{mode:`expanded`}}),Z.config({others:{sandbox:t=>Pv(e,t,{onOpen:()=>__.on(t),onClose:()=>__.off(t)})}}),ff.config({mode:`special`,onSpace:s,onEnter:s,onDown:(e,t)=>(Rv.isOpen(e)?i(Z.getCoupled(e,`sandbox`)):Rv.open(e),T.some(!0)),onEscape:(e,t)=>Rv.isOpen(e)?(Rv.close(e),T.some(!0)):T.none()}),su.config({})]),events:H_(T.some((e=>{a(e,i,Cl.HighlightMenuAndItem).get(_)}))),eventOrder:{...e.eventOrder,[jo()]:[`disabling`,`toggling`,`alloy.base.behaviour`]},apis:o,domModification:{attributes:{"aria-haspopup":e.listRole.getOr(`true`),...e.role.fold((()=>({})),(e=>({role:e}))),...e.dom.tag===`button`?{type:Me(e.dom,`attributes`).bind((e=>Me(e,`type`))).getOr(`button`)}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),zv=`form`,Bv=[jm(`formBehaviours`,[Q])],Vv=e=>`<alloy.field.`+e+`>`,Hv=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Nm(e.formBehaviours,[Q.config({store:{mode:`manual`,getValue:t=>we(cc(t,e),((e,t)=>e().bind((e=>{return n=Ep.getCurrent(e),r=Error(`Cannot find a current component to extract the value from for form part '${t}': `+$o(e.element)),n.fold((()=>Ge.error(r)),Ge.value);var n,r})).map(Q.getValue))),setValue:(t,n)=>{Ce(n,((n,r)=>{ac(t,e,r).each((e=>{Ep.getCurrent(e).each((e=>{Q.setValue(e,n)}))}))}))}}})]),apis:{getField:(t,n)=>ac(t,e,n).bind(Ep.getCurrent)}}),Uv={getField:gf(((e,t,n)=>e.getField(t,n))),sketch:e=>{let t=(()=>{let e=[];return{field:(t,n)=>(e.push(t),ec(zv,Vv(t),n)),record:b(e)}})(),n=e(t);return Lm(zv,Bv,j(t.record(),(e=>Gs({name:e,pname:Vv(e)}))),Hv,n)}},Wv=b([G(`dom`),K(`shell`,!0),jm(`toolbarBehaviours`,[Wf])]),Gv=b([qs({name:`groups`,overrides:()=>({behaviours:Y([Wf.config({})])})})]),Kv=Hm({name:`Toolbar`,configFields:Wv(),partFields:Gv(),factory:(e,t,n,r)=>{let i=e.shell?{behaviours:[Wf.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:Nm(e.toolbarBehaviours,i.behaviours),apis:{setGroups:(t,n)=>{var r;(r=t,e.shell?T.some(r):ac(r,e,`groups`)).fold((()=>{throw console.error(`Toolbar was defined to not be a shell, but no groups container was specified in components`),Error(`Toolbar was defined to not be a shell, but no groups container was specified in components`)}),(e=>{Wf.set(e,n)}))},refresh:_},domModification:{attributes:{role:`group`}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)}}}),qv=b([ls([`toggledClass`]),G(`lazySink`),Fa(`fetch`),Wa(`getBounds`),Ka(`fireDismissalEventInstead`,[K(`event`,Wo())]),qh(),ds(`onToggled`)]),Jv=b([Ks({name:`button`,overrides:e=>({dom:{attributes:{"aria-haspopup":`true`}},buttonBehaviours:Y([__.config({toggleClass:e.markers.toggledClass,aria:{mode:`expanded`},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Ks({factory:Kv,schema:Wv(),name:`toolbar`,overrides:e=>({toolbarBehaviours:Y([ff.config({mode:`cyclic`,onEscape:t=>(ac(t,e,`button`).each(su.focus),T.none())})])})})]),Yv=st(),Xv=(e,t)=>{let n=Z.getCoupled(e,`toolbarSandbox`);Ug.isOpen(n)?Ug.close(n):Ug.open(n,t.toolbar())},Zv=(e,t,n,r)=>{let i=n.getBounds.map((e=>e())),a=n.lazySink(e).getOrDie();kg.positionWithinBounds(a,t,{anchor:{type:`hotspot`,hotspot:e,layouts:r,overrides:{maxWidthFunction:yl()}}},i)},Qv=(e,t,n,r,i)=>{Kv.setGroups(t,i),Zv(e,t,n,r),__.on(e)},$v=Hm({name:`FloatingToolbarButton`,factory:(e,t,n,r)=>({...U_.sketch({...r.button(),action:e=>{Xv(e,r)},buttonBehaviours:Fm({dump:r.button().buttonBehaviours},[Z.config({others:{toolbarSandbox:t=>((e,t,n)=>{let r=J_();return{dom:{tag:`div`,attributes:{id:r.id}},behaviours:Y([ff.config({mode:`special`,onEscape:e=>(Ug.close(e),T.some(!0))}),Ug.config({onOpen:(i,a)=>{let o=Yv.get().getOr(!1);n.fetch().get((i=>{Qv(e,a,n,t.layouts,i),r.link(e.element),o||ff.focusIn(a)}))},onClose:()=>{__.off(e),Yv.get().getOr(!1)||su.focus(e),r.unlink(e.element)},isPartOf:(t,n,r)=>Y_(n,r)||Y_(e,r),getAttachPoint:()=>n.lazySink(e).getOrDie()}),jg.config({channels:{...Tv({isExtraPart:w,...n.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Dv({doReposition:()=>{Ug.getState(Z.getCoupled(e,`toolbarSandbox`)).each((r=>{Zv(e,r,n,t.layouts)}))}})}})])}})(t,n,e)}})])}),apis:{setGroups:(t,r)=>{Ug.getState(Z.getCoupled(t,`toolbarSandbox`)).each((i=>{Qv(t,i,e,n.layouts,r)}))},reposition:t=>{Ug.getState(Z.getCoupled(t,`toolbarSandbox`)).each((r=>{Zv(t,r,e,n.layouts)}))},toggle:e=>{Xv(e,r)},toggleWithoutFocusing:e=>{((e,t)=>{Yv.set(!0),Xv(e,t),Yv.clear()})(e,r)},getToolbar:e=>Ug.getState(Z.getCoupled(e,`toolbarSandbox`)),isOpen:e=>Ug.isOpen(Z.getCoupled(e,`toolbarSandbox`))}}),configFields:qv(),partFields:Jv(),apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),ey=b([K(`prefix`,`form-field`),jm(`fieldBehaviours`,[Ep,Q])]),ty=b([qs({schema:[G(`dom`)],name:`label`}),qs({factory:{sketch:e=>({uid:e.uid,dom:{tag:`span`,styles:{display:`none`},attributes:{"aria-hidden":`true`},innerHtml:e.text}})},schema:[G(`text`)],name:`aria-descriptor`}),Gs({factory:{sketch:e=>{let t=((e,t)=>{let n={};return Ce(e,((e,r)=>{k(t,r)||(n[r]=e)})),n})(e,[`factory`]);return e.factory.sketch(t)}},schema:[G(`factory`)],name:`field`})]),ny=Hm({name:`FormField`,configFields:ey(),partFields:ty(),factory:(e,t,n,r)=>{let i=Nm(e.fieldBehaviours,[Ep.config({find:t=>ac(t,e,`field`)}),Q.config({store:{mode:`manual`,getValue:e=>Ep.getCurrent(e).bind(Q.getValue),setValue:(e,t)=>{Ep.getCurrent(e).each((e=>{Q.setValue(e,t)}))}}})]),a=Pl([Wl(((t,n)=>{let r=sc(t,e,[`label`,`field`,`aria-descriptor`]);r.field().each((t=>{let n=z(e.prefix);r.label().each((e=>{Kn(e.element,`for`,n),Kn(t.element,`id`,n)})),r[`aria-descriptor`]().each((n=>{let r=z(e.prefix);Kn(n.element,`id`,r),Kn(t.element,`aria-describedby`,r)}))}))}))]);return{uid:e.uid,dom:e.dom,components:t,behaviours:i,events:a,apis:{getField:t=>ac(t,e,`field`),getLabel:t=>ac(t,e,`label`)}}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}}),ry=b([K(`field1Name`,`field1`),K(`field2Name`,`field2`),ps(`onLockedChange`),ls([`lockClass`]),K(`locked`,!1),Pm(`coupledFieldBehaviours`,[Ep,Q]),Qa(`onInput`,_)]),iy=(e,t)=>Gs({factory:ny,name:e,overrides:e=>({fieldBehaviours:Y([ru(`coupled-input-behaviour`,[J(vo(),(n=>{((e,t,n)=>ac(e,t,n).bind(Ep.getCurrent))(n,e,t).each((t=>{ac(n,e,`lock`).each((r=>{__.isOn(r)&&e.onLockedChange(n,t,r),e.onInput(n)}))}))}))])])})}),ay=b([iy(`field1`,`field2`),iy(`field2`,`field1`),Gs({factory:U_,schema:[G(`dom`)],name:`lock`,overrides:e=>({buttonBehaviours:Y([__.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:`pressed`}})])})})]),oy=Hm({name:`FormCoupledInputs`,configFields:ry(),partFields:ay(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Fm(e.coupledFieldBehaviours,[Ep.config({find:T.some}),Q.config({store:{mode:`manual`,getValue:t=>{let n=uc(t,e,[`field1`,`field2`]);return{[e.field1Name]:Q.getValue(n.field1()),[e.field2Name]:Q.getValue(n.field2())}},setValue:(t,n)=>{let r=uc(t,e,[`field1`,`field2`]);Pe(n,e.field1Name)&&Q.setValue(r.field1(),n[e.field1Name]),Pe(n,e.field2Name)&&Q.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:t=>ac(t,e,`field1`),getField2:t=>ac(t,e,`field2`),getLock:t=>ac(t,e,`lock`)}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),sy=Vm({name:`HtmlSelect`,configFields:[G(`options`),jm(`selectBehaviours`,[su,Q]),K(`selectClasses`,[]),K(`selectAttributes`,{}),za(`data`)],factory:(e,t)=>{let n=j(e.options,(e=>({dom:{tag:`option`,value:e.value,innerHtml:e.text}}))),r=e.data.map((e=>to(`initialValue`,e))).getOr({});return{uid:e.uid,dom:{tag:`select`,classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Nm(e.selectBehaviours,[su.config({}),Q.config({store:{mode:`manual`,getValue:e=>ai(e.element),setValue:(t,n)=>{let r=L(e.options);le(e.options,(e=>e.value===n)).isSome()?oi(t.element,n):t.element.dom.selectedIndex===-1&&n===``&&r.each((e=>oi(t.element,e.value)))},...r}})])}}}),cy=Vm({name:`InlineView`,configFields:[G(`lazySink`),ds(`onShow`),ds(`onHide`),Wa(`onEscape`),jm(`inlineBehaviours`,[Ug,Q,jg]),Ka(`fireDismissalEventInstead`,[K(`event`,Wo())]),Ka(`fireRepositionEventInstead`,[K(`event`,Go())]),K(`getRelated`,T.none),K(`isExtraPart`,w),K(`eventOrder`,T.none)],factory:(e,t)=>{let n=(t,n,r,i)=>{let a=e.lazySink(t).getOrDie();Ug.openWhileCloaked(t,n,(()=>kg.positionWithinBounds(a,t,r,i()))),Q.setValue(t,T.some({mode:`position`,config:r,getBounds:i}))},r=(t,n,r,i)=>{let a=((e,t,n,r,i)=>{let a=()=>e.lazySink(t),o=r.type===`horizontal`?{layouts:{onLtr:()=>qc(),onRtl:()=>Jc()}}:{},s=e=>(e=>e.length===2)(e)?o:{};return xv.sketch({dom:{tag:`div`},data:r.data,markers:r.menu.markers,highlightOnOpen:r.menu.highlightOnOpen,fakeFocus:r.menu.fakeFocus,onEscape:()=>(Ug.close(t),e.onEscape.map((e=>e(t))),T.some(!0)),onExecute:()=>T.some(!0),onOpenMenu:(e,t)=>{kg.positionWithinBounds(a().getOrDie(),t,n,i())},onOpenSubmenu:(e,t,n,r)=>{let i=a().getOrDie();kg.position(i,n,{anchor:{type:`submenu`,item:t,...s(r)}})},onRepositionMenu:(e,t,r)=>{let o=a().getOrDie();kg.positionWithinBounds(o,t,n,i()),M(r,(e=>{let t=s(e.triggeringPath);kg.position(o,e.triggeredMenu,{anchor:{type:`submenu`,item:e.triggeringItem,...t}})}))}})})(e,t,n,r,i);Ug.open(t,a),Q.setValue(t,T.some({mode:`menu`,menu:a}))},i=t=>{Ug.isOpen(t)&&Q.getValue(t).each((n=>{switch(n.mode){case`menu`:Ug.getState(t).each(xv.repositionMenus);break;case`position`:let r=e.lazySink(t).getOrDie();kg.positionWithinBounds(r,t,n.config,n.getBounds())}}))},a={setContent:(e,t)=>{Ug.setContent(e,t)},showAt:(e,t,r)=>{let i=T.none;n(e,t,r,i)},showWithinBounds:n,showMenuAt:(e,t,n)=>{r(e,t,n,T.none)},showMenuWithinBounds:r,hide:e=>{Ug.isOpen(e)&&(Q.setValue(e,T.none()),Ug.close(e))},getContent:e=>Ug.getState(e),reposition:i,isOpen:Ug.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Nm(e.inlineBehaviours,[Ug.config({isPartOf:(t,n,r)=>Y_(n,r)||((t,n)=>e.getRelated(t).exists((e=>Y_(e,n))))(t,r),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),Q.config({store:{mode:`memory`,initialValue:T.none()}}),jg.config({channels:{...Tv({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Dv({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:i})}})]),eventOrder:e.eventOrder,apis:a}},apis:{showAt:(e,t,n,r)=>{e.showAt(t,n,r)},showWithinBounds:(e,t,n,r,i)=>{e.showWithinBounds(t,n,r,i)},showMenuAt:(e,t,n,r)=>{e.showMenuAt(t,n,r)},showMenuWithinBounds:(e,t,n,r,i)=>{e.showMenuWithinBounds(t,n,r,i)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,n)=>{e.setContent(t,n)},reposition:(e,t)=>{e.reposition(t)}}}),ly=b([Ya(`type`,`text`),za(`data`),K(`inputAttributes`,{}),K(`inputStyles`,{}),K(`tag`,`input`),K(`inputClasses`,[]),ds(`onSetValue`),Qa(`fromInputValue`,x),Qa(`toInputValue`,x),K(`styles`,{}),K(`eventOrder`,{}),jm(`inputBehaviours`,[Q,su]),K(`selectOnFocus`,!0)]),uy=e=>Y([su.config({onFocus:e.selectOnFocus?t=>{let n=t.element,r=ai(n);e.type!==`range`&&n.dom.setSelectionRange(0,r.length)}:_})]),dy=e=>({...uy(e),...Nm(e.inputBehaviours,[Q.config({store:{mode:`manual`,...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:t=>e.fromInputValue(ai(t.element)),setValue:(t,n)=>{ai(t.element)!==n&&oi(t.element,e.toInputValue(n))}},onSetValue:e.onSetValue})])}),fy=e=>({tag:e.tag,attributes:{type:e.type,...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),py=Vm({name:`Input`,configFields:ly(),factory:(e,t)=>({uid:e.uid,dom:fy(e),components:[],behaviours:dy(e),eventOrder:e.eventOrder})}),my=Qs(sv(),cv()),hy=b([G(`lazySink`),za(`dragBlockClass`),Qa(`getBounds`,Pi),K(`useTabstopAt`,re),K(`firstTabstop`,0),K(`eventOrder`,{}),jm(`modalBehaviours`,[ff]),fs(`onExecute`),ms(`onEscape`)]),gy={sketch:x},_y=b([qs({name:`draghandle`,overrides:(e,t)=>({behaviours:Y([lh.config({mode:`mouse`,getTarget:e=>Vr(e,`[role="dialog"]`).getOr(e),blockerClass:e.dragBlockClass.getOrDie(Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),Gs({schema:[G(`dom`)],name:`title`}),Gs({factory:gy,schema:[G(`dom`)],name:`close`}),Gs({factory:gy,schema:[G(`dom`)],name:`body`}),qs({factory:gy,schema:[G(`dom`)],name:`footer`}),Ks({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[K(`dom`,{tag:`div`,styles:{position:`fixed`,left:`0px`,top:`0px`,right:`0px`,bottom:`0px`}}),K(`components`,[])],name:`blocker`})]),vy=Hm({name:`ModalDialog`,configFields:hy(),partFields:_y(),factory:(e,t,n,r)=>{let i=st(),a=z(`modal-events`),o={...e.eventOrder,[Ho()]:[a].concat(e.eventOrder[`alloy.system.attached`]||[])},s=Zt();return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{i.set(t);let n=e.lazySink(t).getOrDie(),a=r.blocker();Cf(n,n.getSystem().build({...a,components:a.components.concat([xp(t)]),behaviours:Y([su.config({}),ru(`dialog-blocker-events`,[Ul(mo(),(()=>{wp.isBlocked(t)||ff.focusIn(t)}))])])})),ff.focusIn(t)},hide:e=>{i.clear(),pn(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{Ef(e)}))}))},getBody:t=>oc(t,e,`body`),getFooter:t=>ac(t,e,`footer`),setIdle:e=>{wp.unblock(e)},setBusy:(e,t)=>{wp.block(e,t)}},eventOrder:o,domModification:{attributes:{role:`dialog`,"aria-modal":`true`}},behaviours:Nm(e.modalBehaviours,[Wf.config({}),ff.config({mode:`cyclic`,onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),wp.config({getRoot:i.get}),ru(a,[Wl((t=>{let n=oc(t,e,`title`).element,r=(e=>e.dom.textContent)(n);s.os.isMacOS()&&p(r)?Kn(t.element,`aria-label`,r):((e,t)=>{Kn(e,`aria-labelledby`,Yn(e,`id`).fold((()=>{let e=z(`dialog-label`);return Kn(t,`id`,e),e}),x))})(t.element,n)}))])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,n)=>{e.setBusy(t,n)},setIdle:(e,t)=>{e.setIdle(t)}}}),yy=qs({schema:[G(`dom`)],name:`label`}),by=e=>qs({name:e+`-edge`,overrides:t=>t.model.manager.edgeActions[e].fold((()=>({})),(e=>({events:Pl([Ll(io(),((t,n,r)=>e(t,r)),[t]),Ll(co(),((t,n,r)=>e(t,r)),[t]),Ll(lo(),((t,n,r)=>{r.mouseIsDown.get()&&e(t,r)}),[t])])})))}),xy=by(`top-left`),Sy=by(`top`),Cy=by(`top-right`),wy=by(`right`),Ty=by(`bottom-right`),Ey=by(`bottom`),Dy=by(`bottom-left`),Oy=by(`left`),ky=Gs({name:`thumb`,defaults:b({dom:{styles:{position:`absolute`}}}),overrides:e=>({events:Pl([zl(io(),e,`spectrum`),zl(ao(),e,`spectrum`),zl(oo(),e,`spectrum`),zl(co(),e,`spectrum`),zl(lo(),e,`spectrum`),zl(fo(),e,`spectrum`)])})}),Ay=e=>Du(e.event);var jy=[yy,Oy,wy,Sy,Ey,xy,Cy,Dy,Ty,ky,Gs({schema:[ka(`mouseIsDown`,(()=>Ie(!1)))],name:`spectrum`,overrides:e=>{let t=e.model.manager,n=(n,r)=>t.getValueFromEvent(r).map((r=>t.setValueFrom(n,e,r)));return{behaviours:Y([ff.config({mode:`special`,onLeft:(n,r)=>t.onLeft(n,e,Ay(r)),onRight:(n,r)=>t.onRight(n,e,Ay(r)),onUp:(n,r)=>t.onUp(n,e,Ay(r)),onDown:(n,r)=>t.onDown(n,e,Ay(r))}),u_.config({}),su.config({})]),events:Pl([J(io(),n),J(ao(),n),J(co(),n),J(lo(),((t,r)=>{e.mouseIsDown.get()&&n(t,r)}))])}}})];let My=b(`slider.change.value`),Ny=e=>{let t=e.event.raw;if((e=>e.type.indexOf(`touch`)!==-1)(t)){let e=t;return e.touches!==void 0&&e.touches.length===1?T.some(e.touches[0]).map((e=>Dr(e.clientX,e.clientY))):T.none()}{let e=t;return e.clientX===void 0?T.none():T.some(e).map((e=>Dr(e.clientX,e.clientY)))}},Py=e=>e.model.minX,Fy=e=>e.model.minY,Iy=e=>e.model.minX-1,Ly=e=>e.model.minY-1,Ry=e=>e.model.maxX,zy=e=>e.model.maxY,By=e=>e.model.maxX+1,Vy=e=>e.model.maxY+1,Hy=(e,t,n)=>t(e)-n(e),Uy=e=>Hy(e,Ry,Py),Wy=e=>Hy(e,zy,Fy),Gy=e=>Uy(e)/2,Ky=e=>Wy(e)/2,qy=(e,t)=>t?e.stepSize*e.speedMultiplier:e.stepSize,Jy=e=>e.snapToGrid,Yy=e=>e.snapStart,Xy=e=>e.rounded,Zy=(e,t)=>e[t+`-edge`]!==void 0,$=e=>Zy(e,`left`),Qy=e=>Zy(e,`right`),$y=e=>Zy(e,`top`),eb=e=>Zy(e,`bottom`),tb=e=>e.model.value.get(),nb=(e,t)=>({x:e,y:t}),rb=(e,t)=>{kl(e,My(),{value:t})},ib=(e,t,n,r)=>e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r),ab=(e,t,n,r)=>e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r),ob=(e,t,n)=>Math.max(t,Math.min(n,e)),sb=e=>{let{min:t,max:n,range:r,value:i,step:a,snap:o,snapStart:s,rounded:c,hasMinEdge:l,hasMaxEdge:u,minBound:d,maxBound:f,screenRange:p}=e,m=l?t-1:t,h=u?n+1:n;if(i<d)return m;if(i>f)return h;{let e=ob(((e,t,n)=>Math.min(n,Math.max(e,t))-t)(i,d,f)/p*r+t,m,h);return o&&e>=t&&e<=n?((e,t,n,r,i)=>i.fold((()=>{let i=e-t;return ob(t+Math.round(i/r)*r,t-1,n+1)}),(t=>{let i=(e-t)%r,a=Math.round(i/r),o=Math.floor((e-t)/r),s=Math.floor((n-t)/r),c=t+Math.min(s,o+a)*r;return Math.max(t,c)})))(e,t,n,a,s):c?Math.round(e):e}},cb=e=>{let{min:t,max:n,range:r,value:i,hasMinEdge:a,hasMaxEdge:o,maxBound:s,maxOffset:c,centerMinEdge:l,centerMaxEdge:u}=e;return i<t?a?0:l:i>n?o?s:u:(i-t)/r*c},lb=`right`,ub=`bottom`,db=`left`,fb=e=>e.element.dom.getBoundingClientRect(),pb=(e,t)=>e[t],mb=e=>pb(fb(e),db),hb=e=>pb(fb(e),lb),gb=e=>pb(fb(e),`top`),_b=e=>pb(fb(e),ub),vb=e=>pb(fb(e),`width`),yb=e=>pb(fb(e),`height`),bb=(e,t,n)=>(e+t)/2-n,xb=(e,t)=>{let n=fb(e),r=fb(t);return bb(pb(n,db),pb(n,lb),pb(r,db))},Sb=(e,t)=>{let n=fb(e),r=fb(t);return bb(pb(n,`top`),pb(n,ub),pb(r,`top`))},Cb=(e,t)=>{kl(e,My(),{value:t})},wb=(e,t,n)=>sb({min:Py(t),max:Ry(t),range:Uy(t),value:n,step:qy(t),snap:Jy(t),snapStart:Yy(t),rounded:Xy(t),hasMinEdge:$(t),hasMaxEdge:Qy(t),minBound:mb(e),maxBound:hb(e),screenRange:vb(e)}),Tb=e=>(t,n,r)=>((e,t,n,r)=>{let i=(e>0?ab:ib)(tb(n),Py(n),Ry(n),qy(n,r));return Cb(t,i),T.some(i)})(e,t,n,r).map(re),Eb=(e,t,n,r,i,a)=>{let o=((e,t,n,r,i)=>{let a=vb(e),o=r.bind((t=>T.some(xb(t,e)))).getOr(0),s=i.bind((t=>T.some(xb(t,e)))).getOr(a);return cb({min:Py(t),max:Ry(t),range:Uy(t),value:n,hasMinEdge:$(t),hasMaxEdge:Qy(t),minBound:mb(e),minOffset:0,maxBound:hb(e),maxOffset:a,centerMinEdge:o,centerMaxEdge:s})})(t,a,n,r,i);return mb(t)-mb(e)+o},Db=Tb(-1),Ob=Tb(1),kb=T.none,Ab=T.none,jb={"top-left":T.none(),top:T.none(),"top-right":T.none(),right:T.some(((e,t)=>{rb(e,By(t))})),"bottom-right":T.none(),bottom:T.none(),"bottom-left":T.none(),left:T.some(((e,t)=>{rb(e,Iy(t))}))};var Mb=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{let r=wb(e,t,n);return Cb(e,r),r},setToMin:(e,t)=>{Cb(e,Py(t))},setToMax:(e,t)=>{Cb(e,Ry(t))},findValueOfOffset:wb,getValueFromEvent:e=>Ny(e).map((e=>e.left)),findPositionOfValue:Eb,setPositionFromValue:(e,t,n,r)=>{let i=tb(n),a=Eb(e,r.getSpectrum(e),i,r.getLeftEdge(e),r.getRightEdge(e),n),o=wr(t.element)/2;W(t.element,`left`,a-o+`px`)},onLeft:Db,onRight:Ob,onUp:kb,onDown:Ab,edgeActions:jb});let Nb=(e,t)=>{kl(e,My(),{value:t})},Pb=(e,t,n)=>sb({min:Fy(t),max:zy(t),range:Wy(t),value:n,step:qy(t),snap:Jy(t),snapStart:Yy(t),rounded:Xy(t),hasMinEdge:$y(t),hasMaxEdge:eb(t),minBound:gb(e),maxBound:_b(e),screenRange:yb(e)}),Fb=e=>(t,n,r)=>((e,t,n,r)=>{let i=(e>0?ab:ib)(tb(n),Fy(n),zy(n),qy(n,r));return Nb(t,i),T.some(i)})(e,t,n,r).map(re),Ib=(e,t,n,r,i,a)=>{let o=((e,t,n,r,i)=>{let a=yb(e),o=r.bind((t=>T.some(Sb(t,e)))).getOr(0),s=i.bind((t=>T.some(Sb(t,e)))).getOr(a);return cb({min:Fy(t),max:zy(t),range:Wy(t),value:n,hasMinEdge:$y(t),hasMaxEdge:eb(t),minBound:gb(e),minOffset:0,maxBound:_b(e),maxOffset:a,centerMinEdge:o,centerMaxEdge:s})})(t,a,n,r,i);return gb(t)-gb(e)+o},Lb=T.none,Rb=T.none,zb=Fb(-1),Bb=Fb(1),Vb={"top-left":T.none(),top:T.some(((e,t)=>{rb(e,Ly(t))})),"top-right":T.none(),right:T.none(),"bottom-right":T.none(),bottom:T.some(((e,t)=>{rb(e,Vy(t))})),"bottom-left":T.none(),left:T.none()};var Hb=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{let r=Pb(e,t,n);return Nb(e,r),r},setToMin:(e,t)=>{Nb(e,Fy(t))},setToMax:(e,t)=>{Nb(e,zy(t))},findValueOfOffset:Pb,getValueFromEvent:e=>Ny(e).map((e=>e.top)),findPositionOfValue:Ib,setPositionFromValue:(e,t,n,r)=>{let i=tb(n),a=Ib(e,r.getSpectrum(e),i,r.getTopEdge(e),r.getBottomEdge(e),n),o=br(t.element)/2;W(t.element,`top`,a-o+`px`)},onLeft:Lb,onRight:Rb,onUp:zb,onDown:Bb,edgeActions:Vb});let Ub=(e,t)=>{kl(e,My(),{value:t})},Wb=(e,t)=>({x:e,y:t}),Gb=(e,t)=>(n,r,i)=>((e,t,n,r,i)=>{let a=e>0?ab:ib,o=t?tb(r).x:a(tb(r).x,Py(r),Ry(r),qy(r,i));return Ub(n,Wb(o,t?a(tb(r).y,Fy(r),zy(r),qy(r,i)):tb(r).y)),T.some(o)})(e,t,n,r,i).map(re),Kb=Gb(-1,!1),qb=Gb(1,!1),Jb=Gb(-1,!0),Yb=Gb(1,!0),Xb={"top-left":T.some(((e,t)=>{rb(e,nb(Iy(t),Ly(t)))})),top:T.some(((e,t)=>{rb(e,nb(Gy(t),Ly(t)))})),"top-right":T.some(((e,t)=>{rb(e,nb(By(t),Ly(t)))})),right:T.some(((e,t)=>{rb(e,nb(By(t),Ky(t)))})),"bottom-right":T.some(((e,t)=>{rb(e,nb(By(t),Vy(t)))})),bottom:T.some(((e,t)=>{rb(e,nb(Gy(t),Vy(t)))})),"bottom-left":T.some(((e,t)=>{rb(e,nb(Iy(t),Vy(t)))})),left:T.some(((e,t)=>{rb(e,nb(Iy(t),Ky(t)))}))};var Zb=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{let r=Wb(wb(e,t,n.left),Pb(e,t,n.top));return Ub(e,r),r},setToMin:(e,t)=>{Ub(e,Wb(Py(t),Fy(t)))},setToMax:(e,t)=>{Ub(e,Wb(Ry(t),zy(t)))},getValueFromEvent:e=>Ny(e),setPositionFromValue:(e,t,n,r)=>{let i=tb(n),a=Eb(e,r.getSpectrum(e),i.x,r.getLeftEdge(e),r.getRightEdge(e),n),o=Ib(e,r.getSpectrum(e),i.y,r.getTopEdge(e),r.getBottomEdge(e),n),s=wr(t.element)/2,c=br(t.element)/2;W(t.element,`left`,a-s+`px`),W(t.element,`top`,o-c+`px`)},onLeft:Kb,onRight:qb,onUp:Jb,onDown:Yb,edgeActions:Xb});let Qb=Hm({name:`Slider`,configFields:[K(`stepSize`,1),K(`speedMultiplier`,10),K(`onChange`,_),K(`onChoose`,_),K(`onInit`,_),K(`onDragStart`,_),K(`onDragEnd`,_),K(`snapToGrid`,!1),K(`rounded`,!0),za(`snapStart`),ja(`model`,Ea(`mode`,{x:[K(`minX`,0),K(`maxX`,100),ka(`value`,(e=>Ie(e.mode.minX))),G(`getInitialValue`),hs(`manager`,Mb)],y:[K(`minY`,0),K(`maxY`,100),ka(`value`,(e=>Ie(e.mode.minY))),G(`getInitialValue`),hs(`manager`,Hb)],xy:[K(`minX`,0),K(`maxX`,100),K(`minY`,0),K(`maxY`,100),ka(`value`,(e=>Ie({x:e.mode.minX,y:e.mode.minY}))),G(`getInitialValue`),hs(`manager`,Zb)]})),jm(`sliderBehaviours`,[ff,Q]),ka(`mouseIsDown`,(()=>Ie(!1)))],partFields:jy,factory:(e,t,n,r)=>{let i=t=>oc(t,e,`thumb`),a=t=>oc(t,e,`spectrum`),o=t=>ac(t,e,`left-edge`),s=t=>ac(t,e,`right-edge`),c=t=>ac(t,e,`top-edge`),l=t=>ac(t,e,`bottom-edge`),u=e.model,d=u.manager,f=(t,n)=>{d.setPositionFromValue(t,n,e,{getLeftEdge:o,getRightEdge:s,getTopEdge:c,getBottomEdge:l,getSpectrum:a})},p=(e,t)=>{u.value.set(t),f(e,i(e))},m=t=>{let n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&ac(t,e,`thumb`).each((n=>{let r=u.value.get();e.onChoose(t,n,r)}))},h=(t,n)=>{n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,i(t))},g=(t,n)=>{n.stop(),e.onDragEnd(t,i(t)),m(t)},_=t=>{ac(t,e,`spectrum`).map(ff.focusIn)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Nm(e.sliderBehaviours,[ff.config({mode:`special`,focusIn:_}),Q.config({store:{mode:`manual`,getValue:e=>u.value.get(),setValue:p}}),jg.config({channels:{[bu()]:{onReceive:m}}})]),events:Pl([J(My(),((t,n)=>{((t,n)=>{p(t,n);let r=i(t);e.onChange(t,r,n),T.some(!0)})(t,n.event.value)})),Wl(((t,n)=>{let r=u.getInitialValue();u.value.set(r);let o=i(t);f(t,o);let s=a(t);e.onInit(t,o,s,u.value.get())})),J(io(),h),J(oo(),g),J(co(),((e,t)=>{_(e),h(e,t)})),J(fo(),g)]),apis:{resetToMin:t=>{d.setToMin(t,e)},resetToMax:t=>{d.setToMax(t,e)},setValue:p,refresh:f},domModification:{styles:{position:`relative`}}}},apis:{setValue:(e,t,n)=>{e.setValue(t,n)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),$b=`container`,ex=[jm(`slotBehaviours`,[])],tx=e=>`<alloy.field.`+e+`>`,nx=(e,t)=>{let n=t=>lc(e),r=(t,n)=>(r,i)=>ac(r,e,i).map((e=>t(e,i))).getOr(n),i=(e,t)=>Jn(e.element,`aria-hidden`)!==`true`,a=r(i,!1),o=r(((e,t)=>{if(i(e)){let n=e.element;W(n,`display`,`none`),Kn(n,`aria-hidden`,`true`),kl(e,qo(),{name:t,visible:!1})}})),s=(e=>(t,n)=>{M(n,(n=>e(t,n)))})(o),c={getSlotNames:n,getSlot:(t,n)=>ac(t,e,n),isShowing:a,hideSlot:o,hideAllSlots:e=>s(e,n()),showSlot:r(((e,t)=>{if(!i(e)){let n=e.element;gr(n,`display`),Zn(n,`aria-hidden`),kl(e,qo(),{name:t,visible:!0})}}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:Mm(e.slotBehaviours),apis:c}},rx={...we({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,n)=>e.getSlot(t,n),isShowing:(e,t,n)=>e.isShowing(t,n),hideSlot:(e,t,n)=>e.hideSlot(t,n),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,n)=>e.showSlot(t,n)},(e=>gf(e))),sketch:e=>{let t=(()=>{let e=[];return{slot:(t,n)=>(e.push(t),ec($b,tx(t),n)),record:b(e)}})(),n=e(t);return Lm($b,ex,j(t.record(),(e=>Gs({name:e,pname:tx(e)}))),nx,n)}},ix=(e,t,n)=>({within:e,extra:t,withinWidth:n}),ax=(e,t,n)=>{let r=P(e,((e,t)=>((e,t)=>{let r=n(e);return T.some({element:e,start:t,finish:t+r,width:r})})(t,e.len).fold(b(e),(t=>({len:t.finish,list:e.list.concat([t])})))),{len:0,list:[]}).list,i=N(r,(e=>e.finish<=t)),a=ce(i,((e,t)=>e+t.width),0);return{within:i,extra:r.slice(i.length),withinWidth:a}},ox=e=>j(e,(e=>e.element)),sx=(e,t)=>{let n=j(t,(e=>xp(e)));Kv.setGroups(e,n)},cx=(e,t,n)=>{let r=t.builtGroups.get();if(r.length===0)return;let i=oc(e,t,`primary`),a=Z.getCoupled(e,`overflowGroup`);W(i.element,`visibility`,`hidden`);let o=r.concat([a]),s=be(o,(e=>zn(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));n([]),sx(i,o);let c=((e,t,n,r)=>{let i=((e,t,n)=>{let r=ax(t,e,n);return r.extra.length===0?T.some(r):T.none()})(e,t,n).getOrThunk((()=>ax(t,e-n(r),n))),a=i.within,o=i.extra,s=i.withinWidth;return o.length===1&&o[0].width<=n(r)?((e,t,n)=>ix(ox(e.concat(t)),[],n))(a,o,s):o.length>=1?((e,t,n,r)=>ix(ox(e).concat([n]),ox(t),r))(a,o,r,s):((e,t,n)=>ix(ox(e),[],n))(a,0,s)})(wr(i.element),t.builtGroups.get(),(e=>Math.ceil(e.element.dom.getBoundingClientRect().width)),a);c.extra.length===0?(Wf.remove(i,a),n([])):(sx(i,c.within),n(c.extra)),gr(i.element,`visibility`),_r(i.element),s.each(su.focus)},lx=b([jm(`splitToolbarBehaviours`,[Z]),ka(`builtGroups`,(()=>Ie([])))]),ux=b([ls([`overflowToggledClass`]),Wa(`getOverflowBounds`),G(`lazySink`),ka(`overflowGroups`,(()=>Ie([]))),ds(`onOpened`),ds(`onClosed`)].concat(lx())),dx=b([Gs({factory:Kv,schema:Wv(),name:`primary`}),Ks({schema:Wv(),name:`overflow`}),Ks({name:`overflow-button`}),Ks({name:`overflow-group`})]),fx=b([G(`items`),ls([`itemSelector`]),jm(`tgroupBehaviours`,[ff])]),px=b([Js({name:`items`,unit:`item`})]),mx=Hm({name:`ToolbarGroup`,configFields:fx(),partFields:px(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Nm(e.tgroupBehaviours,[ff.config({mode:`flow`,selector:e.markers.itemSelector})]),domModification:{attributes:{role:`toolbar`}}})}),hx=e=>j(e,(e=>xp(e))),gx=(e,t,n)=>{cx(e,n,(r=>{n.overflowGroups.set(r),t.getOpt(e).each((e=>{$v.setGroups(e,hx(r))}))}))},_x=Hm({name:`SplitFloatingToolbar`,configFields:ux(),partFields:dx(),factory:(e,t,n,r)=>{let i=A_($v.sketch({fetch:()=>Ve((t=>{t(hx(e.overflowGroups.get()))})),layouts:{onLtr:()=>[Ic,Fc],onRtl:()=>[Fc,Ic],onBottomLtr:()=>[Rc,Lc],onBottomRtl:()=>[Lc,Rc]},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r[`overflow-button`](),toolbar:r.overflow()},onToggled:(t,n)=>e[n?`onOpened`:`onClosed`](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Nm(e.splitToolbarBehaviours,[Z.config({others:{overflowGroup:()=>mx.sketch({...r[`overflow-group`](),items:[i.asSpec()]})}})]),apis:{setGroups:(t,n)=>{e.builtGroups.set(j(n,t.getSystem().build)),gx(t,i,e)},refresh:t=>gx(t,i,e),toggle:e=>{i.getOpt(e).each((e=>{$v.toggle(e)}))},toggleWithoutFocusing:e=>{i.getOpt(e).each($v.toggleWithoutFocusing)},isOpen:e=>i.getOpt(e).map($v.isOpen).getOr(!1),reposition:e=>{i.getOpt(e).each((e=>{$v.reposition(e)}))},getOverflow:e=>i.getOpt(e).bind($v.getToolbar)},domModification:{attributes:{role:`group`}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),vx=b([ls([`closedClass`,`openClass`,`shrinkingClass`,`growingClass`,`overflowToggledClass`]),ds(`onOpened`),ds(`onClosed`)].concat(lx())),yx=b([Gs({factory:Kv,schema:Wv(),name:`primary`}),Gs({factory:Kv,schema:Wv(),name:`overflow`,overrides:e=>({toolbarBehaviours:Y([i_.config({dimension:{property:`height`},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{ac(t,e,`overflow-button`).each((e=>{__.off(e)})),e.onClosed(t)},onGrown:t=>{e.onOpened(t)},onStartGrow:t=>{ac(t,e,`overflow-button`).each(__.on)}}),ff.config({mode:`acyclic`,onEscape:t=>(ac(t,e,`overflow-button`).each(su.focus),T.some(!0))})])})}),Ks({name:`overflow-button`,overrides:e=>({buttonBehaviours:Y([__.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:`expanded`},toggleOnExecute:!1})])})}),Ks({name:`overflow-group`})]),bx=(e,t,n)=>{ac(e,t,`overflow-button`).each((r=>{ac(e,t,`overflow`).each((i=>{if(xx(e,t),i_.hasShrunk(i)){let e=t.onOpened;t.onOpened=r=>{n||ff.focusIn(i),e(r),t.onOpened=e}}else{let e=t.onClosed;t.onClosed=i=>{n||su.focus(r),e(i),t.onClosed=e}}i_.toggleGrow(i)}))}))},xx=(e,t)=>{ac(e,t,`overflow`).each((n=>{cx(e,t,(e=>{let t=j(e,(e=>xp(e)));Kv.setGroups(n,t)})),ac(e,t,`overflow-button`).each((e=>{i_.hasGrown(n)&&__.on(e)})),i_.refresh(n)}))},Sx=Hm({name:`SplitSlidingToolbar`,configFields:vx(),partFields:yx(),factory:(e,t,n,r)=>{let i=`alloy.toolbar.toggle`;return{uid:e.uid,dom:e.dom,components:t,behaviours:Nm(e.splitToolbarBehaviours,[Z.config({others:{overflowGroup:e=>mx.sketch({...r[`overflow-group`](),items:[U_.sketch({...r[`overflow-button`](),action:t=>{Ol(e,i)}})]})}}),ru(`toolbar-toggle-events`,[J(i,(t=>{bx(t,e,!1)}))])]),apis:{setGroups:(t,n)=>{((t,n)=>{let r=j(n,t.getSystem().build);e.builtGroups.set(r)})(t,n),xx(t,e)},refresh:t=>xx(t,e),toggle:t=>{bx(t,e,!1)},toggleWithoutFocusing:t=>{bx(t,e,!0)},isOpen:t=>((e,t)=>ac(e,t,`overflow`).map(i_.hasGrown).getOr(!1))(t,e)},domModification:{attributes:{role:`group`}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),Cx=Vm({name:`TabButton`,configFields:[K(`uid`,void 0),G(`value`),Oa(`dom`,`dom`,aa((()=>({attributes:{role:`tab`,id:z(`aria`),"aria-selected":`false`}}))),Yi()),za(`action`),K(`domModification`,{}),jm(`tabButtonBehaviours`,[su,ff,Q]),G(`view`)],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:H_(e.action),behaviours:Nm(e.tabButtonBehaviours,[su.config({}),ff.config({mode:`execution`,useSpace:!0,useEnter:!0}),Q.config({store:{mode:`memory`,initialValue:e.value}})]),domModification:e.domModification})}),wx=b([G(`tabs`),G(`dom`),K(`clickToDismiss`,!1),jm(`tabbarBehaviours`,[zu,ff]),ls([`tabClass`,`selectedClass`])]),Tx=b([Js({factory:Cx,name:`tabs`,unit:`tab`,overrides:e=>{let t=(e,t)=>{zu.dehighlight(e,t),kl(e,Xo(),{tabbar:e,button:t})},n=(e,t)=>{zu.highlight(e,t),kl(e,Yo(),{tabbar:e,button:t})};return{action:r=>{let i=r.getSystem().getByUid(e.uid).getOrDie(),a=zu.isHighlighted(i,r);(a&&e.clickToDismiss?t:a?_:n)(i,r)},domModification:{classes:[e.markers.tabClass]}}}})]),Ex=Hm({name:`Tabbar`,configFields:wx(),partFields:Tx(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":`Tabbar`,domModification:{attributes:{role:`tablist`}},behaviours:Nm(e.tabbarBehaviours,[zu.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{Kn(t.element,`aria-selected`,`true`)},onDehighlight:(e,t)=>{Kn(t.element,`aria-selected`,`false`)}}),ff.config({mode:`flow`,getInitial:e=>zu.getHighlighted(e).map((e=>e.element)),selector:`.`+e.markers.tabClass,executeOnMove:!0})])})}),Dx=Vm({name:`Tabview`,configFields:[jm(`tabviewBehaviours`,[Wf])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:Nm(e.tabviewBehaviours,[Wf.config({})]),domModification:{attributes:{role:`tabpanel`}}})}),Ox=b([K(`selectFirst`,!0),ds(`onChangeTab`),ds(`onDismissTab`),K(`tabs`,[]),jm(`tabSectionBehaviours`,[])]),kx=b([Gs({factory:Ex,schema:[G(`dom`),Ia(`markers`,[G(`tabClass`),G(`selectedClass`)])],name:`tabbar`,defaults:e=>({tabs:e.tabs})}),Gs({factory:Dx,name:`tabview`})]),Ax=Hm({name:`TabSection`,configFields:Ox(),partFields:kx(),factory:(e,t,n,r)=>{let i=(t,n)=>{ac(t,e,`tabbar`).each((e=>{n(e).each(Al)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:Mm(e.tabSectionBehaviours),events:Pl(ue([e.selectFirst?[Wl(((e,t)=>{i(e,zu.getFirst)}))]:[],[J(Yo(),((t,n)=>{(t=>{let n=Q.getValue(t);ac(t,e,`tabview`).each((r=>{le(e.tabs,(e=>e.value===n)).each((n=>{let i=n.view();Yn(t.element,`id`).each((e=>{Kn(r.element,`aria-labelledby`,e)})),Wf.set(r,i),e.onChangeTab(r,t,i)}))}))})(n.event.button)})),J(Xo(),((t,n)=>{let r=n.event.button;e.onDismissTab(t,r)}))]])),apis:{getViewItems:t=>ac(t,e,`tabview`).map((e=>Wf.contents(e))).getOr([]),showTab:(e,t)=>{i(e,(e=>le(zu.getCandidates(e),(e=>Q.getValue(e)===t)).filter((t=>!zu.isHighlighted(e,t)))))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,n)=>{e.showTab(t,n)}}}),jx=(e,t,n)=>{let r=Q.getValue(n);Q.setValue(t,r),Nx(t)},Mx=(e,t)=>{let n=e.element,r=ai(n),i=n.dom;Jn(n,`type`)!==`number`&&t(i,r)},Nx=e=>{Mx(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},Px=b(`alloy.typeahead.itemexecute`),Fx=b([za(`lazySink`),G(`fetch`),K(`minChars`,5),K(`responseTime`,1e3),ds(`onOpen`),K(`getHotspot`,T.some),K(`getAnchorOverrides`,b({})),K(`layouts`,T.none()),K(`eventOrder`,{}),eo(`model`,{},[K(`getDisplayText`,(e=>e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value)),K(`selectsOver`,!0),K(`populateFromBrowse`,!0)]),ds(`onSetValue`),fs(`onExecute`),ds(`onItemExecute`),K(`inputClasses`,[]),K(`inputAttributes`,{}),K(`inputStyles`,{}),K(`matchWidth`,!0),K(`useMinWidth`,!1),K(`dismissOnBlur`,!0),ls([`openClass`]),za(`initialData`),za(`listRole`),jm(`typeaheadBehaviours`,[su,Q,c_,ff,__,Z]),ka(`lazyTypeaheadComp`,(()=>Ie(T.none))),ka(`previewing`,(()=>Ie(!0)))].concat(ly(),Fv())),Ix=b([Ks({schema:[cs()],name:`menu`,overrides:e=>({fakeFocus:!0,onHighlightItem:(t,n,r)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each((t=>{((e,t,n)=>{if(e.selectsOver){let r=Q.getValue(t),i=e.getDisplayText(r),a=Q.getValue(n);return e.getDisplayText(a).indexOf(i)===0?T.some((()=>{jx(0,t,n),((e,t)=>{Mx(e,((e,n)=>e.setSelectionRange(t,n.length)))})(t,i.length)})):T.none()}return T.none()})(e.model,t,r).fold((()=>{e.model.selectsOver?(zu.dehighlight(n,r),e.previewing.set(!0)):e.previewing.set(!1)}),(t=>{t(),e.previewing.set(!1)}))})):e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&jx(e.model,t,r),Yn(r.element,`id`).each((e=>Kn(t.element,`aria-activedescendant`,e)))}))},onExecute:(t,n)=>e.lazyTypeaheadComp.get().map((e=>(kl(e,Px(),{item:n}),!0))),onHover:(t,n)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&jx(e.model,t,n)}))}})})]),Lx=Hm({name:`Typeahead`,configFields:Fx(),partFields:Ix(),factory:(e,t,n,r)=>{let i=(t,n,i)=>{e.previewing.set(!1);let a=Z.getCoupled(t,`sandbox`);Ug.isOpen(a)?Ep.getCurrent(a).each((e=>{zu.getHighlighted(e).fold((()=>{i(e)}),(()=>{Nl(a,e.element,`keydown`,n)}))})):kv(e,o(t),t,a,r,e=>{Ep.getCurrent(e).each(i)},Cl.HighlightMenuAndItem).get(_)},a=uy(e),o=e=>t=>t.map((t=>{let n=de(je(t.menus),(e=>N(e.items,(e=>e.type===`item`))));return Q.getState(e).update(j(n,(e=>e.data))),t})),s=e=>Ep.getCurrent(e),c=`typeaheadevents`,l=[su.config({}),Q.config({onSetValue:e.onSetValue,store:{mode:`dataset`,getDataKey:e=>ai(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,n)=>{oi(t.element,e.model.getDisplayText(n))},...e.initialData.map((e=>to(`initialValue`,e))).getOr({})}}),c_.config({stream:{mode:`throttle`,delay:e.responseTime,stopEvent:!1},onStream:(t,n)=>{let i=Z.getCoupled(t,`sandbox`);if(su.isFocused(t)&&ai(t.element).length>=e.minChars){let n=s(i).bind((e=>zu.getHighlighted(e).map(Q.getValue)));e.previewing.set(!0),kv(e,o(t),t,i,r,t=>{s(i).each((t=>{n.fold((()=>{e.model.selectsOver&&zu.highlightFirst(t)}),(e=>{zu.highlightBy(t,(t=>Q.getValue(t).value===e.value)),zu.getHighlighted(t).orThunk((()=>(zu.highlightFirst(t),T.none())))}))}))},Cl.HighlightJustMenu).get(_)}},cancelEvent:Io()}),ff.config({mode:`special`,onDown:(e,t)=>(i(e,t,zu.highlightFirst),T.some(!0)),onEscape:e=>{let t=Z.getCoupled(e,`sandbox`);return Ug.isOpen(t)?(Ug.close(t),T.some(!0)):T.none()},onUp:(e,t)=>(i(e,t,zu.highlightLast),T.some(!0)),onEnter:t=>{let n=Z.getCoupled(t,`sandbox`),r=Ug.isOpen(n);if(r&&!e.previewing.get())return s(n).bind((e=>zu.getHighlighted(e))).map((e=>(kl(t,Px(),{item:e}),!0)));{let i=Q.getValue(t);return Ol(t,Io()),e.onExecute(n,t,i),r&&Ug.close(n),T.some(!0)}}}),__.config({toggleClass:e.markers.openClass,aria:{mode:`expanded`}}),Z.config({others:{sandbox:t=>Pv(e,t,{onOpen:()=>__.on(t),onClose:()=>{e.lazyTypeaheadComp.get().each((e=>Zn(e.element,`aria-activedescendant`))),__.off(t)}})}}),ru(c,[Wl((t=>{e.lazyTypeaheadComp.set(T.some(t))})),Gl((t=>{e.lazyTypeaheadComp.set(T.none())})),ql((t=>{let n=_;jv(e,o(t),t,r,n,Cl.HighlightMenuAndItem).get(_)})),J(Px(),((t,n)=>{let r=Z.getCoupled(t,`sandbox`);jx(e.model,t,n.event.item),Ol(t,Io()),e.onItemExecute(t,r,n.event.item,Q.getValue(t)),Ug.close(r),Nx(t)}))].concat(e.dismissOnBlur?[J(Oo(),(e=>{let t=Z.getCoupled(e,`sandbox`);zn(t.element).isNone()&&Ug.close(t)}))]:[]))],u={[Uo()]:[Q.name(),c_.name(),c],...e.eventOrder};return{uid:e.uid,dom:fy(B(e,{inputAttributes:{role:`combobox`,"aria-autocomplete":`list`,"aria-haspopup":`true`}})),behaviours:{...a,...Nm(e.typeaheadBehaviours,l)},eventOrder:u}}});var Rx,zx,Bx=tinymce.util.Tools.resolve(`tinymce.ThemeManager`),Vx=tinymce.util.Tools.resolve(`tinymce.util.Delay`),Hx=tinymce.util.Tools.resolve(`tinymce.dom.DOMUtils`),Ux=tinymce.util.Tools.resolve(`tinymce.EditorManager`),Wx=tinymce.util.Tools.resolve(`tinymce.Env`);(function(e){e.default=`wrap`,e.floating=`floating`,e.sliding=`sliding`,e.scrolling=`scrolling`})(Rx||={}),function(e){e.auto=`auto`,e.top=`top`,e.bottom=`bottom`}(zx||={});let Gx=e=>t=>t.options.get(e),Kx=e=>t=>T.from(e(t)),qx=e=>{let t=Wx.deviceType.isPhone(),n=Wx.deviceType.isTablet()||t,r=e.options.register,i=e=>a(e)||!1===e,o=e=>a(e)||h(e);r(`skin`,{processor:e=>a(e)||!1===e,default:`oxide`}),r(`skin_url`,{processor:`string`}),r(`height`,{processor:o,default:Math.max(e.getElement().offsetHeight,400)}),r(`width`,{processor:o,default:Hx.DOM.getStyle(e.getElement(),`width`)}),r(`min_height`,{processor:`number`,default:100}),r(`min_width`,{processor:`number`}),r(`max_height`,{processor:`number`}),r(`max_width`,{processor:`number`}),r(`style_formats`,{processor:`object[]`}),r(`style_formats_merge`,{processor:`boolean`,default:!1}),r(`style_formats_autohide`,{processor:`boolean`,default:!1}),r(`line_height_formats`,{processor:`string`,default:`1 1.1 1.2 1.3 1.4 1.5 2`}),r(`font_family_formats`,{processor:`string`,default:`Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats`}),r(`font_size_formats`,{processor:`string`,default:`8pt 10pt 12pt 14pt 18pt 24pt 36pt`}),r(`font_size_input_default_unit`,{processor:`string`,default:`pt`}),r(`block_formats`,{processor:`string`,default:`Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre`}),r(`content_langs`,{processor:`object[]`}),r(`removed_menuitems`,{processor:`string`,default:``}),r(`menubar`,{processor:e=>a(e)||u(e),default:!t}),r(`menu`,{processor:`object`,default:{}}),r(`toolbar`,{processor:e=>u(e)||a(e)||c(e)?{value:e,valid:!0}:{valid:!1,message:`Must be a boolean, string or array.`},default:!0}),A(9,(e=>{r(`toolbar`+(e+1),{processor:`string`})})),r(`toolbar_mode`,{processor:`string`,default:n?`scrolling`:`floating`}),r(`toolbar_groups`,{processor:`object`,default:{}}),r(`toolbar_location`,{processor:`string`,default:zx.auto}),r(`toolbar_persist`,{processor:`boolean`,default:!1}),r(`toolbar_sticky`,{processor:`boolean`,default:e.inline}),r(`toolbar_sticky_offset`,{processor:`number`,default:0}),r(`fixed_toolbar_container`,{processor:`string`,default:``}),r(`fixed_toolbar_container_target`,{processor:`object`}),r(`ui_mode`,{processor:`string`,default:`combined`}),r(`file_picker_callback`,{processor:`function`}),r(`file_picker_validator_handler`,{processor:`function`}),r(`file_picker_types`,{processor:`string`}),r(`typeahead_urls`,{processor:`boolean`,default:!0}),r(`anchor_top`,{processor:i,default:`#top`}),r(`anchor_bottom`,{processor:i,default:`#bottom`}),r(`draggable_modal`,{processor:`boolean`,default:!1}),r(`statusbar`,{processor:`boolean`,default:!0}),r(`elementpath`,{processor:`boolean`,default:!0}),r(`branding`,{processor:`boolean`,default:!0}),r(`promotion`,{processor:`boolean`,default:!0}),r(`resize`,{processor:e=>e===`both`||u(e),default:!Wx.deviceType.isTouch()}),r(`sidebar_show`,{processor:`string`}),r(`help_accessibility`,{processor:`boolean`,default:e.hasPlugin(`help`)}),r(`default_font_stack`,{processor:`string[]`,default:[]})},Jx=Gx(`readonly`),Yx=Gx(`disabled`),Xx=Gx(`height`),Zx=Gx(`width`),Qx=Kx(Gx(`min_width`)),$x=Kx(Gx(`min_height`)),eS=Kx(Gx(`max_width`)),tS=Kx(Gx(`max_height`)),nS=Kx(Gx(`style_formats`)),rS=Gx(`style_formats_merge`),iS=Gx(`style_formats_autohide`),aS=Gx(`content_langs`),oS=Gx(`removed_menuitems`),sS=Gx(`toolbar_mode`),cS=Gx(`toolbar_groups`),lS=Gx(`toolbar_location`),uS=Gx(`fixed_toolbar_container`),dS=Gx(`fixed_toolbar_container_target`),fS=Gx(`toolbar_persist`),pS=Gx(`toolbar_sticky_offset`),mS=Gx(`menubar`),hS=Gx(`toolbar`),gS=Gx(`file_picker_callback`),_S=Gx(`file_picker_validator_handler`),vS=Gx(`font_size_input_default_unit`),yS=Gx(`file_picker_types`),bS=Gx(`typeahead_urls`),xS=Gx(`anchor_top`),SS=Gx(`anchor_bottom`),CS=Gx(`draggable_modal`),wS=Gx(`statusbar`),TS=Gx(`elementpath`),ES=Gx(`branding`),DS=Gx(`resize`),OS=Gx(`paste_as_text`),kS=Gx(`sidebar_show`),AS=Gx(`promotion`),jS=Gx(`help_accessibility`),MS=Gx(`default_font_stack`),NS=Gx(`skin`),PS=e=>!1===e.options.get(`skin`),FS=e=>!1!==e.options.get(`menubar`),IS=e=>{let t=e.options.get(`skin_url`);if(PS(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{let t=e.options.get(`skin`);return Ux.baseURL+`/skins/ui/`+t}},LS=e=>e.options.get(`line_height_formats`).split(` `),RS=e=>{let t=hS(e),n=a(t),r=c(t)&&t.length>0;return!BS(e)&&(r||n||!0===t)},zS=e=>{let t=N(A(9,(t=>e.options.get(`toolbar`+(t+1)))),a);return rt(t.length>0,t)},BS=e=>zS(e).fold((()=>{let t=hS(e);return g(t,a)&&t.length>0}),re),VS=e=>lS(e)===zx.bottom,HS=e=>{if(!e.inline)return T.none();let t=uS(e)??``;if(t.length>0)return Wr(ar(),t);let n=dS(e);return p(n)?T.some(V(n)):T.none()},US=e=>e.inline&&HS(e).isSome(),WS=e=>HS(e).getOrThunk((()=>Tn(wn(V(e.getElement()))))),GS=e=>e.inline&&!FS(e)&&!RS(e)&&!BS(e),KS=e=>(e.options.get(`toolbar_sticky`)||e.inline)&&!US(e)&&!GS(e),qS=e=>!US(e)&&e.options.get(`ui_mode`)===`split`,JS=e=>we(e.options.get(`menu`),(e=>({...e,items:e.items})));var YS=Object.freeze({__proto__:null,get ToolbarMode(){return Rx},get ToolbarLocation(){return zx},register:qx,getSkinUrl:IS,getSkinUrlOption:e=>T.from(e.options.get(`skin_url`)),isReadOnly:Jx,isDisabled:Yx,getSkin:NS,isSkinDisabled:PS,getHeightOption:Xx,getWidthOption:Zx,getMinWidthOption:Qx,getMinHeightOption:$x,getMaxWidthOption:eS,getMaxHeightOption:tS,getUserStyleFormats:nS,shouldMergeStyleFormats:rS,shouldAutoHideStyleFormats:iS,getLineHeightFormats:LS,getContentLanguages:aS,getRemovedMenuItems:oS,isMenubarEnabled:FS,isMultipleToolbars:BS,isToolbarEnabled:RS,isToolbarPersist:fS,getMultipleToolbarsOption:zS,getUiContainer:WS,useFixedContainer:US,isSplitUiMode:qS,getToolbarMode:sS,isDraggableModal:CS,isDistractionFree:GS,isStickyToolbar:KS,getStickyToolbarOffset:pS,getToolbarLocation:lS,isToolbarLocationBottom:VS,getToolbarGroups:cS,getMenus:JS,getMenubar:mS,getToolbar:hS,getFilePickerCallback:gS,getFilePickerTypes:yS,useTypeaheadUrls:bS,getAnchorTop:xS,getAnchorBottom:SS,getFilePickerValidatorHandler:_S,getFontSizeInputDefaultUnit:vS,useStatusBar:wS,useElementPath:TS,promotionEnabled:AS,useBranding:ES,getResize:DS,getPasteAsText:OS,getSidebarShow:kS,useHelpAccessibility:jS,getDefaultFontStack:MS});let XS=[`visible`,`hidden`,`clip`],ZS=e=>pt(e).length>0&&!k(XS,e),QS=e=>{if(nn(e)){let t=dr(e,`overflow-x`),n=dr(e,`overflow-y`);return ZS(t)||ZS(n)}return!1},$S=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen(),eC=(e,t)=>qS(e)?((e,t)=>{let n=si(t,QS),r=n.length===0?En(t).map(Dn).map((e=>si(e,QS))).getOr([]):n;return L(r).map((t=>({element:t,others:r.slice(1),isFullscreen:()=>$S(e)})))})(e,t):T.none(),tC=e=>{let t=[...j(e.others,ji),Pi()];return e.isFullscreen()?Pi():((e,t)=>P(t,((e,t)=>Ni(e,t)),e))(ji(e.element),t)},{entries:nC,setPrototypeOf:rC,isFrozen:iC,getPrototypeOf:aC,getOwnPropertyDescriptor:oC}=Object,{freeze:sC,seal:cC,create:lC}=Object,{apply:uC,construct:dC}=typeof Reflect<`u`&&Reflect;sC||=function(e){return e},cC||=function(e){return e},uC||=function(e,t,n){return e.apply(t,n)},dC||=function(e,t){return new e(...t)};let fC=DC(Array.prototype.forEach),pC=DC(Array.prototype.lastIndexOf),mC=DC(Array.prototype.pop),hC=DC(Array.prototype.push),gC=DC(Array.prototype.splice),_C=DC(String.prototype.toLowerCase),vC=DC(String.prototype.toString),yC=DC(String.prototype.match),bC=DC(String.prototype.replace),xC=DC(String.prototype.indexOf),SC=DC(String.prototype.trim),CC=DC(Object.prototype.hasOwnProperty),wC=DC(RegExp.prototype.test),TC=(EC=TypeError,function(){return dC(EC,[...arguments])});var EC;function DC(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);var n=[...arguments].slice(1);return uC(e,t,n)}}function OC(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_C;rC&&rC(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i==`string`){let e=n(i);e!==i&&(iC(t)||(t[r]=e),i=e)}e[i]=!0}return e}function kC(e){for(let t=0;t<e.length;t++)CC(e,t)||(e[t]=null);return e}function AC(e){let t=lC(null);for(let[n,r]of nC(e))CC(e,n)&&(Array.isArray(r)?t[n]=kC(r):r&&typeof r==`object`&&r.constructor===Object?t[n]=AC(r):t[n]=r);return t}function jC(e,t){for(;e!==null;){let n=oC(e,t);if(n){if(n.get)return DC(n.get);if(typeof n.value==`function`)return DC(n.value)}e=aC(e)}return function(){return null}}let MC=sC(`a.abbr.acronym.address.area.article.aside.audio.b.bdi.bdo.big.blink.blockquote.body.br.button.canvas.caption.center.cite.code.col.colgroup.content.data.datalist.dd.decorator.del.details.dfn.dialog.dir.div.dl.dt.element.em.fieldset.figcaption.figure.font.footer.form.h1.h2.h3.h4.h5.h6.head.header.hgroup.hr.html.i.img.input.ins.kbd.label.legend.li.main.map.mark.marquee.menu.menuitem.meter.nav.nobr.ol.optgroup.option.output.p.picture.pre.progress.q.rp.rt.ruby.s.samp.section.select.shadow.small.source.spacer.span.strike.strong.style.sub.summary.sup.table.tbody.td.template.textarea.tfoot.th.thead.time.tr.track.tt.u.ul.var.video.wbr`.split(`.`)),NC=sC(`svg.a.altglyph.altglyphdef.altglyphitem.animatecolor.animatemotion.animatetransform.circle.clippath.defs.desc.ellipse.filter.font.g.glyph.glyphref.hkern.image.line.lineargradient.marker.mask.metadata.mpath.path.pattern.polygon.polyline.radialgradient.rect.stop.style.switch.symbol.text.textpath.title.tref.tspan.view.vkern`.split(`.`)),PC=sC([`feBlend`,`feColorMatrix`,`feComponentTransfer`,`feComposite`,`feConvolveMatrix`,`feDiffuseLighting`,`feDisplacementMap`,`feDistantLight`,`feDropShadow`,`feFlood`,`feFuncA`,`feFuncB`,`feFuncG`,`feFuncR`,`feGaussianBlur`,`feImage`,`feMerge`,`feMergeNode`,`feMorphology`,`feOffset`,`fePointLight`,`feSpecularLighting`,`feSpotLight`,`feTile`,`feTurbulence`]),FC=sC([`animate`,`color-profile`,`cursor`,`discard`,`font-face`,`font-face-format`,`font-face-name`,`font-face-src`,`font-face-uri`,`foreignobject`,`hatch`,`hatchpath`,`mesh`,`meshgradient`,`meshpatch`,`meshrow`,`missing-glyph`,`script`,`set`,`solidcolor`,`unknown`,`use`]),IC=sC(`math.menclose.merror.mfenced.mfrac.mglyph.mi.mlabeledtr.mmultiscripts.mn.mo.mover.mpadded.mphantom.mroot.mrow.ms.mspace.msqrt.mstyle.msub.msup.msubsup.mtable.mtd.mtext.mtr.munder.munderover.mprescripts`.split(`.`)),LC=sC([`maction`,`maligngroup`,`malignmark`,`mlongdiv`,`mscarries`,`mscarry`,`msgroup`,`mstack`,`msline`,`msrow`,`semantics`,`annotation`,`annotation-xml`,`mprescripts`,`none`]),RC=sC([`#text`]),zC=sC(`accept.action.align.alt.autocapitalize.autocomplete.autopictureinpicture.autoplay.background.bgcolor.border.capture.cellpadding.cellspacing.checked.cite.class.clear.color.cols.colspan.controls.controlslist.coords.crossorigin.datetime.decoding.default.dir.disabled.disablepictureinpicture.disableremoteplayback.download.draggable.enctype.enterkeyhint.face.for.headers.height.hidden.high.href.hreflang.id.inputmode.integrity.ismap.kind.label.lang.list.loading.loop.low.max.maxlength.media.method.min.minlength.multiple.muted.name.nonce.noshade.novalidate.nowrap.open.optimum.pattern.placeholder.playsinline.popover.popovertarget.popovertargetaction.poster.preload.pubdate.radiogroup.readonly.rel.required.rev.reversed.role.rows.rowspan.spellcheck.scope.selected.shape.size.sizes.span.srclang.start.src.srcset.step.style.summary.tabindex.title.translate.type.usemap.valign.value.width.wrap.xmlns.slot`.split(`.`)),BC=sC(`accent-height.accumulate.additive.alignment-baseline.amplitude.ascent.attributename.attributetype.azimuth.basefrequency.baseline-shift.begin.bias.by.class.clip.clippathunits.clip-path.clip-rule.color.color-interpolation.color-interpolation-filters.color-profile.color-rendering.cx.cy.d.dx.dy.diffuseconstant.direction.display.divisor.dur.edgemode.elevation.end.exponent.fill.fill-opacity.fill-rule.filter.filterunits.flood-color.flood-opacity.font-family.font-size.font-size-adjust.font-stretch.font-style.font-variant.font-weight.fx.fy.g1.g2.glyph-name.glyphref.gradientunits.gradienttransform.height.href.id.image-rendering.in.in2.intercept.k.k1.k2.k3.k4.kerning.keypoints.keysplines.keytimes.lang.lengthadjust.letter-spacing.kernelmatrix.kernelunitlength.lighting-color.local.marker-end.marker-mid.marker-start.markerheight.markerunits.markerwidth.maskcontentunits.maskunits.max.mask.media.method.mode.min.name.numoctaves.offset.operator.opacity.order.orient.orientation.origin.overflow.paint-order.path.pathlength.patterncontentunits.patterntransform.patternunits.points.preservealpha.preserveaspectratio.primitiveunits.r.rx.ry.radius.refx.refy.repeatcount.repeatdur.restart.result.rotate.scale.seed.shape-rendering.slope.specularconstant.specularexponent.spreadmethod.startoffset.stddeviation.stitchtiles.stop-color.stop-opacity.stroke-dasharray.stroke-dashoffset.stroke-linecap.stroke-linejoin.stroke-miterlimit.stroke-opacity.stroke.stroke-width.style.surfacescale.systemlanguage.tabindex.tablevalues.targetx.targety.transform.transform-origin.text-anchor.text-decoration.text-rendering.textlength.type.u1.u2.unicode.values.viewbox.visibility.version.vert-adv-y.vert-origin-x.vert-origin-y.width.word-spacing.wrap.writing-mode.xchannelselector.ychannelselector.x.x1.x2.xmlns.y.y1.y2.z.zoomandpan`.split(`.`)),VC=sC(`accent.accentunder.align.bevelled.close.columnsalign.columnlines.columnspan.denomalign.depth.dir.display.displaystyle.encoding.fence.frame.height.href.id.largeop.length.linethickness.lspace.lquote.mathbackground.mathcolor.mathsize.mathvariant.maxsize.minsize.movablelimits.notation.numalign.open.rowalign.rowlines.rowspacing.rowspan.rspace.rquote.scriptlevel.scriptminsize.scriptsizemultiplier.selection.separator.separators.stretchy.subscriptshift.supscriptshift.symmetric.voffset.width.xmlns`.split(`.`)),HC=sC([`xlink:href`,`xml:id`,`xlink:title`,`xml:space`,`xmlns:xlink`]),UC=cC(/\{\{[\w\W]*|[\w\W]*\}\}/gm),WC=cC(/<%[\w\W]*|[\w\W]*%>/gm),GC=cC(/\$\{[\w\W]*/gm),KC=cC(/^data-[\-\w.\u00B7-\uFFFF]+$/),qC=cC(/^aria-[\-\w]+$/),JC=cC(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),YC=cC(/^(?:\w+script|data):/i),XC=cC(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ZC=cC(/^html$/i),QC=cC(/^[a-z][.\w]*(-[.\w]+)+$/i);var $C=Object.freeze({__proto__:null,ARIA_ATTR:qC,ATTR_WHITESPACE:XC,CUSTOM_ELEMENT:QC,DATA_ATTR:KC,DOCTYPE_NAME:ZC,ERB_EXPR:WC,IS_ALLOWED_URI:JC,IS_SCRIPT_OR_DATA:YC,MUSTACHE_EXPR:UC,TMPLIT_EXPR:GC});let ew=function(){return typeof window>`u`?null:window};var tw=function e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ew(),n=t=>e(t);if(n.version=`3.2.6`,n.removed=[],!t||!t.document||t.document.nodeType!==9||!t.Element)return n.isSupported=!1,n;let{document:r}=t,i=r,a=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:c,Element:l,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:p,trustedTypes:m}=t,h=l.prototype,g=jC(h,`cloneNode`),_=jC(h,`remove`),v=jC(h,`nextSibling`),y=jC(h,`childNodes`),b=jC(h,`parentNode`);if(typeof s==`function`){let e=r.createElement(`template`);e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let x,S=``,{implementation:ee,createNodeIterator:te,createDocumentFragment:ne,getElementsByTagName:C}=r,{importNode:w}=i,re={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported=typeof nC==`function`&&typeof b==`function`&&ee&&ee.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:T,ERB_EXPR:E,TMPLIT_EXPR:ie,DATA_ATTR:D,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:k,ATTR_WHITESPACE:ae,CUSTOM_ELEMENT:A}=$C,{IS_ALLOWED_URI:oe}=$C,j=null,M=OC({},[...MC,...NC,...PC,...IC,...RC]),se=null,N=OC({},[...zC,...BC,...VC,...HC]),ce=Object.seal(lC(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),P=null,le=null,F=!0,ue=!0,de=!1,fe=!0,pe=!1,me=!0,he=!1,I=!1,ge=!1,_e=!1,L=!1,ve=!1,ye=!0,be=!1,xe=!0,Se=!1,Ce={},we=null,Te=OC({},[`annotation-xml`,`audio`,`colgroup`,`desc`,`foreignobject`,`head`,`iframe`,`math`,`mi`,`mn`,`mo`,`ms`,`mtext`,`noembed`,`noframes`,`noscript`,`plaintext`,`script`,`style`,`svg`,`template`,`thead`,`title`,`video`,`xmp`]),Ee=null,De=OC({},[`audio`,`video`,`img`,`source`,`image`,`track`]),Oe=null,ke=OC({},[`alt`,`class`,`for`,`id`,`label`,`name`,`pattern`,`placeholder`,`role`,`summary`,`title`,`value`,`style`,`xmlns`]),Ae=`http://www.w3.org/1998/Math/MathML`,je=`http://www.w3.org/2000/svg`,Me=`http://www.w3.org/1999/xhtml`,Ne=Me,Pe=!1,Fe=null,Ie=OC({},[Ae,je,Me],vC),Le=OC({},[`mi`,`mo`,`mn`,`ms`,`mtext`]),Re=OC({},[`annotation-xml`]),ze=OC({},[`title`,`style`,`font`,`a`,`script`]),Be=null,Ve=[`application/xhtml+xml`,`text/html`],He=null,Ue=null,We=r.createElement(`form`),Ge=function(e){return e instanceof RegExp||e instanceof Function},Ke=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Ue||Ue!==e){if(e&&typeof e==`object`||(e={}),e=AC(e),Be=Ve.indexOf(e.PARSER_MEDIA_TYPE)===-1?`text/html`:e.PARSER_MEDIA_TYPE,He=Be===`application/xhtml+xml`?vC:_C,j=CC(e,`ALLOWED_TAGS`)?OC({},e.ALLOWED_TAGS,He):M,se=CC(e,`ALLOWED_ATTR`)?OC({},e.ALLOWED_ATTR,He):N,Fe=CC(e,`ALLOWED_NAMESPACES`)?OC({},e.ALLOWED_NAMESPACES,vC):Ie,Oe=CC(e,`ADD_URI_SAFE_ATTR`)?OC(AC(ke),e.ADD_URI_SAFE_ATTR,He):ke,Ee=CC(e,`ADD_DATA_URI_TAGS`)?OC(AC(De),e.ADD_DATA_URI_TAGS,He):De,we=CC(e,`FORBID_CONTENTS`)?OC({},e.FORBID_CONTENTS,He):Te,P=CC(e,`FORBID_TAGS`)?OC({},e.FORBID_TAGS,He):AC({}),le=CC(e,`FORBID_ATTR`)?OC({},e.FORBID_ATTR,He):AC({}),Ce=!!CC(e,`USE_PROFILES`)&&e.USE_PROFILES,F=!1!==e.ALLOW_ARIA_ATTR,ue=!1!==e.ALLOW_DATA_ATTR,de=e.ALLOW_UNKNOWN_PROTOCOLS||!1,fe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,pe=e.SAFE_FOR_TEMPLATES||!1,me=!1!==e.SAFE_FOR_XML,he=e.WHOLE_DOCUMENT||!1,_e=e.RETURN_DOM||!1,L=e.RETURN_DOM_FRAGMENT||!1,ve=e.RETURN_TRUSTED_TYPE||!1,ge=e.FORCE_BODY||!1,ye=!1!==e.SANITIZE_DOM,be=e.SANITIZE_NAMED_PROPS||!1,xe=!1!==e.KEEP_CONTENT,Se=e.IN_PLACE||!1,oe=e.ALLOWED_URI_REGEXP||JC,Ne=e.NAMESPACE||Me,Le=e.MATHML_TEXT_INTEGRATION_POINTS||Le,Re=e.HTML_INTEGRATION_POINTS||Re,ce=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ge(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ge(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==`boolean`&&(ce.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pe&&(ue=!1),L&&(_e=!0),Ce&&(j=OC({},RC),se=[],!0===Ce.html&&(OC(j,MC),OC(se,zC)),!0===Ce.svg&&(OC(j,NC),OC(se,BC),OC(se,HC)),!0===Ce.svgFilters&&(OC(j,PC),OC(se,BC),OC(se,HC)),!0===Ce.mathMl&&(OC(j,IC),OC(se,VC),OC(se,HC))),e.ADD_TAGS&&(j===M&&(j=AC(j)),OC(j,e.ADD_TAGS,He)),e.ADD_ATTR&&(se===N&&(se=AC(se)),OC(se,e.ADD_ATTR,He)),e.ADD_URI_SAFE_ATTR&&OC(Oe,e.ADD_URI_SAFE_ATTR,He),e.FORBID_CONTENTS&&(we===Te&&(we=AC(we)),OC(we,e.FORBID_CONTENTS,He)),xe&&(j[`#text`]=!0),he&&OC(j,[`html`,`head`,`body`]),j.table&&(OC(j,[`tbody`]),delete P.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!=`function`)throw TC(`TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.`);if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!=`function`)throw TC(`TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.`);x=e.TRUSTED_TYPES_POLICY,S=x.createHTML(``)}else x===void 0&&(x=function(e,t){if(typeof e!=`object`||typeof e.createPolicy!=`function`)return null;let n=null,r=`data-tt-policy-suffix`;t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let i=`dompurify`+(n?`#`+n:``);try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch{return console.warn(`TrustedTypes policy `+i+` could not be created.`),null}}(m,a)),x!==null&&typeof S==`string`&&(S=x.createHTML(``));sC&&sC(e),Ue=e}},qe=OC({},[...NC,...PC,...FC]),Je=OC({},[...IC,...LC]),R=function(e){hC(n.removed,{element:e});try{b(e).removeChild(e)}catch{_(e)}},Ye=function(e,t){try{hC(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch{hC(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),e===`is`)if(_e||L)try{R(t)}catch{}else try{t.setAttribute(e,``)}catch{}},Xe=function(e){let t=null,n=null;if(ge)e=`<remove></remove>`+e;else{let t=yC(e,/^[\r\n\t ]+/);n=t&&t[0]}Be===`application/xhtml+xml`&&Ne===Me&&(e=`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>`+e+`</body></html>`);let i=x?x.createHTML(e):e;if(Ne===Me)try{t=new p().parseFromString(i,Be)}catch{}if(!t||!t.documentElement){t=ee.createDocument(Ne,`template`,null);try{t.documentElement.innerHTML=Pe?S:i}catch{}}let a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),Ne===Me?C.call(t,he?`html`:`body`)[0]:he?t.documentElement:a},z=function(e){return te.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Ze=function(e){return e instanceof f&&(typeof e.nodeName!=`string`||typeof e.textContent!=`string`||typeof e.removeChild!=`function`||!(e.attributes instanceof d)||typeof e.removeAttribute!=`function`||typeof e.setAttribute!=`function`||typeof e.namespaceURI!=`string`||typeof e.insertBefore!=`function`||typeof e.hasChildNodes!=`function`)},B=function(e){return typeof c==`function`&&e instanceof c};function Qe(e,t,r){fC(e,(e=>{e.call(n,t,r,Ue)}))}let $e=function(e){let t=null;if(Qe(re.beforeSanitizeElements,e,null),Ze(e))return R(e),!0;let r=He(e.nodeName);if(Qe(re.uponSanitizeElement,e,{tagName:r,allowedTags:j}),me&&e.hasChildNodes()&&!B(e.firstElementChild)&&wC(/<[/\w!]/g,e.innerHTML)&&wC(/<[/\w!]/g,e.textContent)||e.nodeType===7||me&&e.nodeType===8&&wC(/<[/\w]/g,e.data))return R(e),!0;if(!j[r]||P[r]){if(!P[r]&&tt(r)&&(ce.tagNameCheck instanceof RegExp&&wC(ce.tagNameCheck,r)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(r)))return!1;if(xe&&!we[r]){let t=b(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){let i=g(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,v(e))}}return R(e),!0}return e instanceof l&&!function(e){let t=b(e);t&&t.tagName||(t={namespaceURI:Ne,tagName:`template`});let n=_C(e.tagName),r=_C(t.tagName);return!!Fe[e.namespaceURI]&&(e.namespaceURI===je?t.namespaceURI===Me?n===`svg`:t.namespaceURI===Ae?n===`svg`&&(r===`annotation-xml`||Le[r]):!!qe[n]:e.namespaceURI===Ae?t.namespaceURI===Me?n===`math`:t.namespaceURI===je?n===`math`&&Re[r]:!!Je[n]:e.namespaceURI===Me?!(t.namespaceURI===je&&!Re[r])&&!(t.namespaceURI===Ae&&!Le[r])&&!Je[n]&&(ze[n]||!qe[n]):!(Be!==`application/xhtml+xml`||!Fe[e.namespaceURI]))}(e)?(R(e),!0):r!==`noscript`&&r!==`noembed`&&r!==`noframes`||!wC(/<\/no(script|embed|frames)/i,e.innerHTML)?(pe&&e.nodeType===3&&(t=e.textContent,fC([T,E,ie],(e=>{t=bC(t,e,` `)})),e.textContent!==t&&(hC(n.removed,{element:e.cloneNode()}),e.textContent=t)),Qe(re.afterSanitizeElements,e,null),!1):(R(e),!0)},et=function(e,t,n){if(ye&&(t===`id`||t===`name`)&&(n in r||n in We))return!1;if(!(ue&&!le[t]&&wC(D,t))&&!(F&&wC(O,t))){if(!se[t]||le[t]){if(!(tt(e)&&(ce.tagNameCheck instanceof RegExp&&wC(ce.tagNameCheck,e)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(e))&&(ce.attributeNameCheck instanceof RegExp&&wC(ce.attributeNameCheck,t)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(t))||t===`is`&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&wC(ce.tagNameCheck,n)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(n))))return!1}else if(!Oe[t]&&!wC(oe,bC(n,ae,``))&&(t!==`src`&&t!==`xlink:href`&&t!==`href`||e===`script`||xC(n,`data:`)!==0||!Ee[e])&&!(de&&!wC(k,bC(n,ae,``)))&&n)return!1}return!0},tt=function(e){return e!==`annotation-xml`&&yC(e,A)},nt=function(e){Qe(re.beforeSanitizeAttributes,e,null);let{attributes:t}=e;if(!t||Ze(e))return;let r={attrName:``,attrValue:``,keepAttr:!0,allowedAttributes:se,forceKeepAttr:void 0},i=t.length;for(;i--;){let{name:a,namespaceURI:o,value:s}=t[i],c=He(a),l=s,u=a===`value`?l:SC(l);if(r.attrName=c,r.attrValue=u,r.keepAttr=!0,r.forceKeepAttr=void 0,Qe(re.uponSanitizeAttribute,e,r),u=r.attrValue,!be||c!==`id`&&c!==`name`||(Ye(a,e),u=`user-content-`+u),me&&wC(/((--!?|])>)|<\/(style|title)/i,u)){Ye(a,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Ye(a,e);continue}if(!fe&&wC(/\/>/i,u)){Ye(a,e);continue}pe&&fC([T,E,ie],(e=>{u=bC(u,e,` `)}));let d=He(e.nodeName);if(et(d,c,u)){if(x&&typeof m==`object`&&typeof m.getAttributeType==`function`&&!o)switch(m.getAttributeType(d,c)){case`TrustedHTML`:u=x.createHTML(u);break;case`TrustedScriptURL`:u=x.createScriptURL(u)}if(u!==l)try{o?e.setAttributeNS(o,a,u):e.setAttribute(a,u),Ze(e)?R(e):mC(n.removed)}catch{Ye(a,e)}}else Ye(a,e)}Qe(re.afterSanitizeAttributes,e,null)},rt=function e(t){let n=null,r=z(t);for(Qe(re.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Qe(re.uponSanitizeShadowNode,n,null),$e(n),nt(n),n.content instanceof o&&e(n.content);Qe(re.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null,a=null,s=null,l=null;if(Pe=!e,Pe&&(e=`<!-->`),typeof e!=`string`&&!B(e)){if(typeof e.toString!=`function`)throw TC(`toString is not a function`);if(typeof(e=e.toString())!=`string`)throw TC(`dirty is not a string, aborting`)}if(!n.isSupported)return e;if(I||Ke(t),n.removed=[],typeof e==`string`&&(Se=!1),Se){if(e.nodeName){let t=He(e.nodeName);if(!j[t]||P[t])throw TC(`root node is forbidden and cannot be sanitized in-place`)}}else if(e instanceof c)r=Xe(`<!---->`),a=r.ownerDocument.importNode(e,!0),a.nodeType===1&&a.nodeName===`BODY`||a.nodeName===`HTML`?r=a:r.appendChild(a);else{if(!_e&&!pe&&!he&&e.indexOf(`<`)===-1)return x&&ve?x.createHTML(e):e;if(r=Xe(e),!r)return _e?null:ve?S:``}r&&ge&&R(r.firstChild);let u=z(Se?e:r);for(;s=u.nextNode();)$e(s),nt(s),s.content instanceof o&&rt(s.content);if(Se)return e;if(_e){if(L)for(l=ne.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(se.shadowroot||se.shadowrootmode)&&(l=w.call(i,l,!0)),l}let d=he?r.outerHTML:r.innerHTML;return he&&j[`!doctype`]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&wC(ZC,r.ownerDocument.doctype.name)&&(d=`<!DOCTYPE `+r.ownerDocument.doctype.name+`>
`+d),pe&&fC([T,E,ie],(e=>{d=bC(d,e,` `)})),x&&ve?x.createHTML(d):d},n.setConfig=function(){Ke(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),I=!0},n.clearConfig=function(){Ue=null,I=!1},n.isValidAttribute=function(e,t,n){return Ue||Ke({}),et(He(e),He(t),n)},n.addHook=function(e,t){typeof t==`function`&&hC(re[e],t)},n.removeHook=function(e,t){if(t!==void 0){let n=pC(re[e],t);return n===-1?void 0:gC(re[e],n,1)[0]}return mC(re[e])},n.removeHooks=function(e){re[e]=[]},n.removeAllHooks=function(){re={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();let nw=e=>tw().sanitize(e);var rw=tinymce.util.Tools.resolve(`tinymce.util.I18n`);let iw={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},aw=`temporary-placeholder`,ow=e=>()=>Me(e,aw).getOr(`!not found!`),sw=(e,t)=>{let n=e.toLowerCase();if(rw.isRtl()){let e=((e,t)=>ft(e,t)?e:((e,t)=>e+t)(e,t))(n,`-rtl`);return Ne(t,e)?e:n}return n},cw=(e,t)=>Me(t,sw(e,t)),lw=(e,t)=>{let n=t();return cw(e,n).getOrThunk(ow(n))},uw=()=>ru(`add-focusable`,[Wl((e=>{Ur(e.element,`svg`).each((e=>Kn(e,`focusable`,`false`)))}))]),dw=(e,t,n,r)=>{let i=(e=>!!rw.isRtl()&&Ne(iw,e))(t)?[`tox-icon--flip`]:[],a=Me(n,sw(t,n)).or(r).getOrThunk(ow(n));return{dom:{tag:e.tag,attributes:e.attributes??{},classes:e.classes.concat(i),innerHtml:a},behaviours:Y([...e.behaviours??[],uw()]),eventOrder:e.eventOrder??{}}},fw=(e,t,n,r=T.none())=>dw(t,e,n(),r),pw={success:`checkmark`,error:`warning`,err:`error`,warning:`warning`,warn:`warning`,info:`info`},mw=Vm({name:`Notification`,factory:e=>{let t=z(`notification-text`),n=A_({dom:k_(`<p id=${t}>${nw(e.backstageProvider.translate(e.text))}</p>`),behaviours:Y([Wf.config({})])}),r=e=>({dom:{tag:`div`,classes:[`tox-bar`],styles:{width:`${e}%`}}}),i=e=>({dom:{tag:`div`,classes:[`tox-text`],innerHtml:`${e}%`}}),a=A_({dom:{tag:`div`,classes:e.progress?[`tox-progress-bar`,`tox-progress-indicator`]:[`tox-progress-bar`]},components:[{dom:{tag:`div`,classes:[`tox-bar-container`]},components:[r(0)]},i(0)],behaviours:Y([Wf.config({})])}),o={updateProgress:(e,t)=>{e.getSystem().isConnected()&&a.getOpt(e).each((e=>{Wf.set(e,[{dom:{tag:`div`,classes:[`tox-bar-container`]},components:[r(t)]},i(t)])}))},updateText:(e,t)=>{if(e.getSystem().isConnected()){let r=n.get(e);Wf.set(r,[gp(t)])}}},s=ue([e.icon.toArray(),[e.level],T.from(pw[e.level]).toArray()]),c=A_(U_.sketch({dom:{tag:`button`,classes:[`tox-notification__dismiss`,`tox-button`,`tox-button--naked`,`tox-button--icon`],attributes:{"aria-label":e.backstageProvider.translate(`Close`)}},components:[fw(`close`,{tag:`span`,classes:[`tox-icon`]},e.iconProvider)],buttonBehaviours:Y([u_.config({}),D_.config({...e.backstageProvider.tooltips.getConfig({tooltipText:e.backstageProvider.translate(`Close`)})})]),action:t=>{e.onAction(t)}})),l=[((e,t,n)=>{let r=n();return dw({tag:`div`,classes:[`tox-notification__icon`]},le(e,(e=>Ne(r,sw(e,r)))).getOr(aw),r,T.none())})(s,0,e.iconProvider),{dom:{tag:`div`,classes:[`tox-notification__body`]},components:[n.asSpec()],behaviours:Y([Wf.config({})])}];return{uid:e.uid,dom:{tag:`div`,attributes:{role:`alert`,"aria-labelledby":t},classes:[`tox-notification`,`tox-notification--in`,`tox-notification--${e.level}`]},behaviours:Y([u_.config({}),su.config({}),ff.config({mode:`special`,onEscape:t=>(e.onAction(t),T.some(!0))})]),components:l.concat(e.progress?[a.asSpec()]:[]).concat([c.asSpec()]),apis:o}},configFields:[Xa(`level`,`info`,[`success`,`error`,`warning`,`warn`,`info`]),G(`progress`),za(`icon`),G(`onAction`),G(`text`),G(`iconProvider`),G(`backstageProvider`)],apis:{updateProgress:(e,t,n)=>{e.updateProgress(t,n)},updateText:(e,t,n)=>{e.updateText(t,n)}}});var hw=(e,t,n,r)=>{let i=t.backstage.shared,a=()=>V(e.queryCommandValue(`ToggleView`)===``?e.getContentAreaContainer():e.getContainer()),o=()=>{let e=ji(a());return T.some(e)},s=e=>{o().each((t=>{M(e,(e=>{gr(e.element,`width`),wr(e.element)>t.width&&W(e.element,`width`,t.width+`px`)}))}))};return{open:(t,c,l)=>{let u=()=>{r.on((t=>{c();let n=l();(e=>{Wf.remove(e,d),f()})(t),((t,n)=>{vn(t.element).length===0?((t,n)=>{cy.hide(t),r.clear(),n&&e.focus()})(t,n):((e,t)=>{t&&ff.focusIn(e)})(t,n)})(t,n)}))},d=bp(mw.sketch({text:t.text,level:k([`success`,`error`,`warning`,`warn`,`info`],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,onAction:u,iconProvider:i.providers.icons,backstageProvider:i.providers}));if(r.isSet()){let e=xp(d);r.on((t=>{Wf.append(t,e),cy.reposition(t),d.hasConfigured(fm)&&fm.refresh(t),s(t.components())}))}else{let t=bp(cy.sketch({dom:{tag:`div`,classes:[`tox-notifications-container`],attributes:{"aria-label":`Notifications`,role:`region`}},lazySink:i.getSink,fireDismissalEventInstead:{},...i.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Y([ff.config({mode:`cyclic`,selector:`.tox-notification, .tox-notification a, .tox-notification button`}),Wf.config({}),...KS(e)&&i.header.isPositionedAtTop()?[]:[fm.config({contextual:{lazyContext:()=>T.some(ji(a())),fadeInClass:`tox-notification-container-dock-fadein`,fadeOutClass:`tox-notification-container-dock-fadeout`,transitionClass:`tox-notification-container-dock-transition`},modes:[`top`],lazyViewport:t=>eC(e,t.element).map((e=>({bounds:tC(e),optScrollEnv:T.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:kr(e.element).top})}))).getOrThunk((()=>({bounds:Pi(),optScrollEnv:T.none()})))})]])})),s=xp(d),c={maxHeightFunction:vl()},l={...i.anchors.banner(),overrides:c};r.set(t),n.add(t),cy.showWithinBounds(t,s,{anchor:l},o)}h(t.timeout)&&t.timeout>0&&Vx.setEditorTimeout(e,(()=>{u()}),t.timeout);let f=()=>{r.on((e=>{cy.reposition(e),e.hasConfigured(fm)&&fm.refresh(e),s(e.components())}))};return{close:u,reposition:f,text:e=>{mw.updateText(d,e)},settings:t,getEl:()=>d.element.dom,progressBar:{value:e=>{mw.updateProgress(d,e)}}}},close:e=>{e.close()},getArgs:e=>e.settings}},gw;(function(e){e[e.CLOSE_ON_EXECUTE=0]=`CLOSE_ON_EXECUTE`,e[e.BUBBLE_TO_SANDBOX=1]=`BUBBLE_TO_SANDBOX`})(gw||={});var _w=gw;let vw=`tox-menu-nav__js`,yw=`tox-collection__item`,bw={normal:vw,color:`tox-swatch`},xw=`tox-collection__item--enabled`,Sw=`tox-collection__item-icon`,Cw=`tox-collection__item-label`,ww=`tox-collection__item-caret`,Tw=`tox-collection__item--active`,Ew=`tox-collection__item-container`,Dw=`tox-collection__item-container--row`,Ow=e=>Me(bw,e).getOr(vw),kw=e=>e===`color`?`tox-swatches`:`tox-menu`,Aw=e=>({backgroundMenu:`tox-background-menu`,selectedMenu:`tox-selected-menu`,selectedItem:`tox-collection__item--active`,hasIcons:`tox-menu--has-icons`,menu:kw(e),tieredMenu:`tox-tiered-menu`}),jw=e=>{let t=Aw(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Ow(e)}},Mw=(e,t,n)=>{let r=Aw(n);return{tag:`div`,classes:ue([[r.menu,`tox-menu-${t}-column`],e?[r.hasIcons]:[]])}},Nw=[pv.parts.items({})],Pw=(e,t,n)=>({dom:{tag:`div`,classes:ue([[Aw(n).tieredMenu]])},markers:jw(n)}),Fw=z(`refetch-trigger-event`),Iw=z(`redirect-menu-item-interaction`),Lw=`tox-menu__searcher`,Rw=e=>Wr(e.element,`.${Lw}`).bind((t=>e.getSystem().getByDom(t).toOptional())),zw=Rw,Bw=e=>({fetchPattern:Q.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),Vw=e=>{let t=(e,t)=>(t.cut(),T.none()),n=(e,t)=>(kl(e,Iw,{interactionEvent:t.event,eventType:t.event.raw.type}),T.some(!0)),r=`searcher-events`;return{dom:{tag:`div`,classes:[yw]},components:[py.sketch({inputClasses:[Lw,`tox-textfield`],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:`search`,"aria-autocomplete":`list`},inputBehaviours:Y([ru(r,[J(vo(),(e=>{Ol(e,Fw)})),J(go(),((e,t)=>{t.event.raw.key===`Escape`&&t.stop()}))]),ff.config({mode:`special`,onLeft:t,onRight:t,onSpace:t,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[r,ff.name()]}})]}},Hw=`tox-collection--results__js`,Uw=e=>e.dom?{...e,dom:{...e.dom,attributes:{...e.dom.attributes??{},id:z(`aria-item-search-result-id`),"aria-selected":`false`}}}:e,Ww=`Use arrow keys to navigate.`,Gw=(e,t)=>n=>j(oe(n,t),(t=>({dom:e,components:t}))),Kw=(e,t)=>{let n=[],r=[];return M(e,((e,i)=>{t(e,i)?(r.length>0&&n.push(r),r=[],(Ne(e.dom,`innerHtml`)||e.components&&e.components.length>0)&&r.push(e)):r.push(e)})),r.length>0&&n.push(r),j(n,(e=>({dom:{tag:`div`,classes:[`tox-collection__group`]},components:e})))},qw=(e,t,n)=>pv.parts.items({preprocess:r=>{let i=j(r,n);return e!==`auto`&&e>1?Gw({tag:`div`,classes:[`tox-collection__group`]},e)(i):Kw(i,((e,n)=>t[n].type===`separator`))}}),Jw=(e,t,n=!0)=>{return{dom:{tag:`div`,classes:[`tox-menu`,`tox-collection`].concat(e===1?[`tox-collection--list`]:[`tox-collection--grid`]),attributes:{...(r=t,ae(r,(e=>e.type===`widget`))?{"aria-label":rw.translate(Ww)}:{})}},components:[qw(e,t,x)]};var r},Yw=e=>ae(e,(e=>`icon`in e&&e.icon!==void 0)),Xw=e=>(console.error(Ta(e)),console.log(e),T.none()),Zw=(e,t,n,r,i)=>{let a=(o=n,{dom:{tag:`div`,classes:[`tox-collection`,`tox-collection--horizontal`]},components:[pv.parts.items({preprocess:e=>Kw(e,((e,t)=>o[t].type===`separator`))})]});var o;return{value:e,dom:a.dom,components:a.components,items:n}},Qw=(e,t,n,r,i)=>{if(i.menuType===`color`){let t=(e=>({dom:{tag:`div`,classes:[`tox-menu`,`tox-swatches-menu`],attributes:{"aria-label":rw.translate(Ww)}},components:[{dom:{tag:`div`,classes:[`tox-swatches`]},components:[pv.parts.items({preprocess:e===`auto`?x:Gw({tag:`div`,classes:[`tox-swatches__row`]},e)})]}]}))(r);return{value:e,dom:t.dom,components:t.components,items:n}}if(i.menuType===`imageselector`&&r!==`auto`){let t=(e=>({dom:{tag:`div`,classes:[`tox-menu`,`tox-image-selector-menu`]},components:[{dom:{tag:`div`,classes:[`tox-image-selector`]},components:[pv.parts.items({preprocess:e===`auto`?x:Gw({tag:`div`,classes:[`tox-image-selector__row`]},e)})]}]}))(r);return{value:e,dom:t.dom,components:t.components,items:n}}if(i.menuType===`normal`&&r===`auto`){let t=Jw(r,n);return{value:e,dom:t.dom,components:t.components,items:n}}if(i.menuType===`normal`||i.menuType===`searchable`){let t=i.menuType===`searchable`?i.searchMode.searchMode===`search-with-field`?((e,t,n)=>{let r=z(`aria-controls-search-results`);return{dom:{tag:`div`,classes:[`tox-menu`,`tox-collection`].concat(e===1?[`tox-collection--list`]:[`tox-collection--grid`])},components:[Vw({i18n:rw.translate,placeholder:n.placeholder}),{dom:{tag:`div`,classes:[...e===1?[`tox-collection--list`]:[`tox-collection--grid`],Hw],attributes:{id:r}},components:[qw(e,t,Uw)]}]}})(r,n,i.searchMode):((e,t)=>{let n=z(`aria-controls-search-results`);return{dom:{tag:`div`,classes:[`tox-menu`,`tox-collection`,Hw].concat(e===1?[`tox-collection--list`]:[`tox-collection--grid`]),attributes:{id:n}},components:[qw(e,t,Uw)]}})(r,n):Jw(r,n);return{value:e,dom:t.dom,components:t.components,items:n}}if(i.menuType===`listpreview`&&r!==`auto`){let t=(e=>({dom:{tag:`div`,classes:[`tox-menu`,`tox-collection`,`tox-collection--toolbar`,`tox-collection--toolbar-lg`]},components:[pv.parts.items({preprocess:Gw({tag:`div`,classes:[`tox-collection__group`]},e)})]}))(r);return{value:e,dom:t.dom,components:t.components,items:n}}return{value:e,dom:Mw(t,r,i.menuType),components:Nw,items:n}},$w=Na(`type`),eT=Na(`name`),tT=Na(`label`),nT=Na(`text`),rT=Na(`title`),iT=Na(`icon`),aT=Na(`url`),oT=Na(`value`),sT=Fa(`fetch`),cT=Fa(`getSubmenuItems`),lT=Fa(`onAction`),uT=Fa(`onItemAction`),dT=Qa(`onSetup`,(()=>_)),fT=Ha(`name`),pT=Ha(`text`),mT=Ha(`role`),hT=Ha(`icon`),gT=Ha(`tooltip`),_T=Ha(`chevronTooltip`),vT=Ha(`label`),yT=Ha(`shortcut`),bT=Wa(`select`),xT=Za(`active`,!1),ST=Za(`borderless`,!1),CT=Za(`enabled`,!0),wT=Za(`primary`,!1),TT=e=>K(`columns`,e),ET=K(`meta`,{}),DT=Qa(`onAction`,_),OT=e=>Ya(`type`,e),kT=e=>Oa(`name`,`name`,ra((()=>z(`${e}-name`))),Qi),AT=ma([$w,nT,Pa(`level`,[`info`,`warn`,`error`,`success`]),iT,K(`url`,``)]),jT=ma([$w,nT,CT,kT(`button`),hT,ST,Ua(`buttonType`,[`primary`,`secondary`,`toolbar`]),wT,Ya(`context`,`mode:design`)]),MT=[$w,eT],NT=MT.concat([vT]),PT=ma(MT.concat([tT,CT,Ya(`context`,`mode:design`)])),FT=$i,IT=ma(NT.concat([TT(`auto`),Ya(`context`,`mode:design`)])),LT=va([oT,nT,iT]),RT=ma(NT.concat([Ya(`storageKey`,`default`),Ya(`context`,`mode:design`)])),zT=Qi,BT=ma(NT),VT=Qi,HT=MT.concat([Ya(`tag`,`textarea`),Na(`scriptId`),Na(`scriptUrl`),Wa(`onFocus`),qa(`settings`,void 0,na)]),UT=MT.concat([Ya(`tag`,`textarea`),Fa(`init`)]),WT=ba((e=>Sa(`customeditor.old`,pa(UT),e).orThunk((()=>Sa(`customeditor.new`,pa(HT),e))))),GT=Qi,KT=[CT,pT,mT,yT,Oa(`value`,`value`,ra((()=>z(`menuitem-value`))),Yi()),ET,Ya(`context`,`mode:design`)],qT=ma([$w,eT].concat(KT)),JT=$i,YT=[kT(`button`),hT,Xa(`align`,`end`,[`start`,`end`]),wT,CT,Ua(`buttonType`,[`primary`,`secondary`]),Ya(`context`,`mode:design`)],XT=[...YT,nT],ZT=[Pa(`type`,[`submit`,`cancel`,`custom`]),...XT],QT=Ea(`type`,{submit:ZT,cancel:ZT,custom:ZT,menu:[Pa(`type`,[`menu`]),pT,gT,hT,Ra(`items`,qT),...YT],togglebutton:[...YT,Pa(`type`,[`togglebutton`]),gT,hT,pT,Za(`active`,!1)]}),$T=ma(NT.concat([Ya(`context`,`mode:design`)])),eE=ha(Ji),tE=e=>[$w,Ma(`columns`),e],nE=ma([$w,Na(`html`),Xa(`presets`,`presentation`,[`presentation`,`document`]),Qa(`onInit`,_),Za(`stretched`,!1)]),rE=ma(NT.concat([Za(`border`,!1),Za(`sandboxed`,!0),Za(`streamContent`,!1),Za(`transparent`,!0)])),iE=Qi,aE=ma(MT.concat([Ha(`height`)])),oE=ma([Na(`url`),Va(`zoom`),Va(`cachedWidth`),Va(`cachedHeight`)]),sE=ma(NT.concat([Ha(`inputMode`),Ha(`placeholder`),Za(`maximized`,!1),CT,Ya(`context`,`mode:design`)])),cE=Qi,lE=e=>[$w,tT,e,Xa(`align`,`start`,[`start`,`center`,`end`]),Ha(`for`)],uE=[nT,oT],dE=[nT,Ra(`items`,Da(0,(()=>fE)))],fE=ga([ma(uE),ma(dE)]),pE=ma(NT.concat([Ra(`items`,fE),CT,Ya(`context`,`mode:design`)])),mE=Qi,hE=ma(NT.concat([La(`items`,[nT,oT]),Ja(`size`,1),CT,Ya(`context`,`mode:design`)])),gE=Qi,_E=ma(NT.concat([Za(`constrain`,!0),CT,Ya(`context`,`mode:design`)])),vE=ma([Na(`width`),Na(`height`)]),yE=ma(MT.concat([tT,Ja(`min`,0),Ja(`max`,0)])),bE=Zi,xE=ma([$w,Ra(`header`,Qi),Ra(`cells`,ha(Qi))]),SE=ma(NT.concat([Ha(`placeholder`),Za(`maximized`,!1),CT,Ya(`context`,`mode:design`),Ba(`spellcheck`,$i)])),CE=Qi,wE=ma([$w,...[Ya(`buttonType`,`default`),Ha(`text`),Ha(`tooltip`),Ha(`icon`),qa(`search`,!1,ga([$i,ma([Ha(`placeholder`)])],(e=>u(e)?e?T.some({placeholder:T.none()}):T.none():T.some(e)))),Fa(`fetch`),Qa(`onSetup`,(()=>_)),Ya(`context`,`mode:design`)]]),TE=e=>Sa(`menubutton`,wE,e),EE=[Pa(`type`,[`directory`,`leaf`]),rT,Na(`id`),Ba(`menu`,wE),Ha(`customStateIcon`),Ha(`customStateIconTooltip`)],DE=ma(EE),OE=ma(EE.concat([Ra(`children`,Da(0,(()=>ya(`type`,{directory:OE,leaf:DE}))))])),kE=ma([$w,Ra(`items`,ya(`type`,{directory:OE,leaf:DE})),Wa(`onLeafAction`),Wa(`onToggleExpand`),$a(`defaultExpandedIds`,[],Qi),Ha(`defaultSelectedId`)]),AE=ma(NT.concat([Xa(`filetype`,`file`,[`image`,`media`,`file`]),CT,Ha(`picker_text`),Ya(`context`,`mode:design`)])),jE=ma([oT,ET]),ME=e=>Oa(`items`,`items`,{tag:`required`,process:{}},ha(ba((t=>Sa(`Checking item of ${e}`,NE,t).fold((e=>Ge.error(Ta(e))),(e=>Ge.value(e))))))),NE=da((()=>{return ya(`type`,{alertbanner:AT,bar:ma((e=ME(`bar`),[$w,e])),button:jT,checkbox:PT,colorinput:RT,colorpicker:BT,dropzone:$T,grid:ma(tE(ME(`grid`))),iframe:rE,input:sE,listbox:pE,selectbox:hE,sizeinput:_E,slider:yE,textarea:SE,urlinput:AE,customeditor:WT,htmlpanel:nE,imagepreview:aE,collection:IT,label:ma(lE(ME(`label`))),table:xE,tree:kE,panel:PE});var e})),PE=ma([$w,K(`classes`,[]),Ra(`items`,NE)]),FE=ma([$w,La(`tabs`,[kT(`tab`),rT,Ra(`items`,NE)])]),IE=XT,LE=QT,RE=ma([Na(`title`),ja(`body`,ya(`type`,{panel:PE,tabpanel:FE})),Ya(`size`,`normal`),$a(`buttons`,[],LE),K(`initialData`,{}),Qa(`onAction`,_),Qa(`onChange`,_),Qa(`onSubmit`,_),Qa(`onClose`,_),Qa(`onCancel`,_),Qa(`onTabChange`,_)]),zE=ma([Pa(`type`,[`cancel`,`custom`]),...IE]),BE=ma([Na(`title`),Na(`url`),Va(`height`),Va(`width`),Ga(`buttons`,zE),Qa(`onAction`,_),Qa(`onCancel`,_),Qa(`onClose`,_),Qa(`onMessage`,_)]),VE=e=>o(e)?[e].concat(de(je(e),VE)):c(e)?de(e,VE):[],HE=e=>a(e.type)&&a(e.name),UE={checkbox:FT,colorinput:zT,colorpicker:VT,dropzone:eE,input:cE,iframe:iE,imagepreview:oE,selectbox:gE,sizeinput:vE,slider:bE,listbox:mE,size:vE,textarea:CE,urlinput:jE,customeditor:GT,collection:LT,togglemenuitem:JT},WE=e=>ma(de((e=>N(VE(e),HE))(e),(e=>(e=>T.from(UE[e.type]))(e).fold((()=>[]),(t=>[ja(e.name,t)]))))),GE=e=>({internalDialog:Ca(Sa(`dialog`,RE,e)),dataValidator:WE(e),initialData:e.initialData??{}}),KE={open:(e,t)=>{let n=GE(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(e,t)=>e(Ca(Sa(`dialog`,BE,t))),redial:e=>GE(e)},qE=ma([$w,pT]),JE=ma([OT(`autocompleteitem`),xT,CT,ET,oT,pT,hT]);Na(`trigger`),Ja(`minChars`,1),TT(1),Ja(`maxResults`,10),Wa(`matches`),$a(`highlightOn`,[],Qi);let YE=[CT,gT,hT,pT,dT,Ya(`context`,`mode:design`)],XE=ma([$w,lT,yT].concat(YE)),ZE=e=>Sa(`toolbarbutton`,XE,e),QE=[xT].concat(YE),$E=ma(QE.concat([$w,lT,yT])),eD=e=>Sa(`ToggleButton`,$E,e),tD=[Qa(`predicate`,w),Xa(`scope`,`node`,[`node`,`editor`]),Xa(`position`,`selection`,[`node`,`selection`,`line`])],nD=YE.concat([OT(`contextformbutton`),Ya(`align`,`end`),wT,lT,ka(`original`,x)]),rD=QE.concat([OT(`contextformbutton`),Ya(`align`,`end`),wT,lT,ka(`original`,x)]),iD=YE.concat([OT(`contextformbutton`)]),aD=QE.concat([OT(`contextformtogglebutton`)]),oD=[vT,Ra(`commands`,Ea(`type`,{contextformbutton:nD,contextformtogglebutton:rD})),Ba(`launch`,Ea(`type`,{contextformbutton:iD,contextformtogglebutton:aD})),Qa(`onInput`,_),Qa(`onSetup`,_)],sD=Ea(`type`,{contextform:[...tD,...oD,Pa(`type`,[`contextform`]),Qa(`initValue`,b(``)),Ha(`placeholder`)],contextsliderform:[...tD,...oD,Pa(`type`,[`contextsliderform`]),Qa(`initValue`,b(0)),Qa(`min`,b(0)),Qa(`max`,b(100))],contextsizeinputform:[...tD,...oD,Pa(`type`,[`contextsizeinputform`]),Qa(`initValue`,b({width:``,height:``}))]}),cD=YE.concat([OT(`contexttoolbarbutton`)]),lD=ma([OT(`contexttoolbar`),Ka(`launch`,cD),ja(`items`,ga([Qi,va([Ha(`name`),Ha(`label`),Ra(`items`,Qi)])]))].concat(tD)),uD=e=>({name:e.name.getOrUndefined(),label:e.label.getOrUndefined(),items:e.items}),dD=ma([$w,Na(`src`),Ha(`alt`),$a(`classes`,[],Qi)]),fD=ma([$w,nT,fT,$a(`classes`,[`tox-collection__item-label`],Qi)]),pD=da((()=>ya(`type`,{cardimage:dD,cardtext:fD,cardcontainer:mD}))),mD=ma([$w,Ya(`direction`,`horizontal`),Ya(`align`,`left`),Ya(`valign`,`middle`),Ra(`items`,pD)]),hD=ma([$w,vT,Ra(`items`,pD),dT,DT].concat(KT)),gD=ma([$w,xT,hT,vT].concat(KT)),_D=[$w,Na(`fancytype`),DT],vD=Ea(`fancytype`,{inserttable:[K(`initData`,{})].concat(_D),colorswatch:[Wa(`select`),eo(`initData`,{},[Za(`allowCustomColors`,!0),Ya(`storageKey`,`default`),Ga(`colors`,Yi())])].concat(_D),imageselect:[Wa(`select`),Ia(`initData`,[Ma(`columns`),$a(`items`,[],Yi())])].concat(_D)}),yD=ma([$w,xT,aT,vT,gT].concat(KT)),bD=ma([$w,xT,iT,tT,gT,oT].concat(KT)),xD=ma([$w,dT,DT,hT].concat(KT)),SD=ma([$w,cT,dT,hT].concat(KT)),CD=ma([$w,hT,xT,dT,lT].concat(KT)),wD=ma([hT,gT,Qa(`onShow`,_),Qa(`onHide`,_),dT]),TD=ma([$w,ja(`items`,ga([va([eT,Ra(`items`,Qi)]),Qi]))].concat(YE)),ED=ma([$w,gT,_T,hT,pT,bT,sT,dT,Xa(`presets`,`normal`,[`normal`,`color`,`listpreview`]),TT(1),lT,uT,Ya(`context`,`mode:design`)]),DD=[pT,hT,Ha(`tooltip`),Xa(`buttonType`,`secondary`,[`primary`,`secondary`]),Za(`borderless`,!1),Fa(`onAction`),Ya(`context`,`mode:design`)],OD={button:[...DD,nT,Pa(`type`,[`button`])],togglebutton:[...DD,Za(`active`,!1),Pa(`type`,[`togglebutton`])]},kD=[Pa(`type`,[`group`]),$a(`buttons`,[],Ea(`type`,OD))],AD=ma([$a(`buttons`,[],Ea(`type`,{...OD,group:kD})),Fa(`onShow`),Fa(`onHide`)]),jD=(e,t,n)=>{let r=ci(e.element,`.`+n);if(r.length>0){let e=F(r,(e=>{let n=e.dom.getBoundingClientRect().top,i=r[0].dom.getBoundingClientRect().top;return Math.abs(n-i)>t})).getOr(r.length);return T.some({numColumns:e,numRows:Math.ceil(r.length/e)})}return T.none()},MD=e=>((e,t)=>Y([ru(e,t)]))(z(`unnamed-events`),e),ND=e=>Bp.config({disabled:e,disableClass:`tox-collection__item--state-disabled`}),PD=e=>Bp.config({disabled:e}),FD=e=>Bp.config({disabled:e,disableClass:`tox-tbtn--disabled`,useNative:!1}),ID=(e,t)=>{let n=e.getApi(t);return e=>{e(n)}},LD=(e,t)=>Wl((n=>{m(e.onBeforeSetup)&&e.onBeforeSetup(n),ID(e,n)((n=>{let r=e.onSetup(n);m(r)&&t.set(r)}))})),RD=(e,t)=>Gl((n=>ID(e,n)(t.get()))),zD=(e,t,n)=>Gl((r=>(n.set(Q.getValue(r)),ID(e,r)(t.get())))),BD=`silver.uistate`,VD=`setDisabled`,HD=`init`,UD=[`switchmode`,HD],WD=(e,t)=>{let n=e.mainUi.outerContainer,r=[e.mainUi.mothership,...e.uiMotherships];t===VD&&M(r,(e=>{e.broadcastOn([vu()],{target:n.element})})),M(r,(e=>{e.broadcastOn([BD],t)}))},GD=(e,t)=>{e.on(`init SwitchMode`,(e=>{WD(t,e.type)})),e.on(`DisabledStateChange`,(n=>{n.isDefaultPrevented()||(WD(t,n.state?VD:HD),n.state||e.nodeChanged())})),e.on(`NodeChange`,(n=>{WD(t,e.ui.isEnabled()?n.type:VD)})),Jx(e)&&e.mode.set(`readonly`)},KD=e=>jg.config({channels:{[BD]:{onReceive:(t,n)=>{if(n===VD||n===`setEnabled`)return void Bp.set(t,n===VD);let{contextType:r,shouldDisable:i}=e();(r!==`mode`||k(UD,n))&&Bp.set(t,i)}}}}),qD=(e,t)=>ql(((n,r)=>{ID(e,n)(e.onAction),e.triggersSubmenu||t!==_w.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&Ol(n,Fo()),r.stop())})),JD={[jo()]:[`disabling`,`alloy.base.behaviour`,`toggling`,`item-events`]},YD=et,XD=(e,t,n,r)=>{let i=Ie(_);return{type:`item`,dom:t.dom,components:YD(t.optComponents),data:e.data,eventOrder:JD,hasSubmenu:e.triggersSubmenu,itemBehaviours:Y([ru(`item-events`,[qD(e,n),LD(e,i),RD(e,i)]),ND((()=>!e.enabled||r.checkUiComponentContext(e.context).shouldDisable)),KD((()=>r.checkUiComponentContext(e.context))),Wf.config({})].concat(e.itemBehaviours))}},ZD=e=>({value:e.value,meta:{text:e.text.getOr(``),...e.meta}}),QD=(e,t)=>{let n=bt(`div`);return Qr(n,`tox-image-selector-loading-spinner`),{dom:{tag:e.tag,attributes:e.attributes??{},classes:e.classes},components:[{dom:{tag:`div`,classes:[`tox-image-selector-image-wrapper`]},components:[{dom:{tag:`img`,attributes:{src:t},classes:[`tox-image-selector-image-img`]}}]},...e.checkMark.toArray()],behaviours:Y([...e.behaviours??[],ru(`render-image-events`,[Wl((e=>{var t=e.element;Qr(t,`tox-image-selector-loading-spinner-wrapper`),Un(t,n),Wr(e.element,`img`).each((t=>{rr(t).catch((e=>{console.error(e)})).finally((()=>{(e=>{ei(e,`tox-image-selector-loading-spinner-wrapper`),$n(n)})(e.element)}))}))}))])])}},$D=e=>{let t=Wx.os.isMacOS()||Wx.os.isiOS(),n=t?{alt:`⌥`,ctrl:`⌃`,shift:`⇧`,meta:`⌘`,access:`⌃⌥`}:{meta:`Ctrl`,access:`Shift+Alt`},r=j(e.split(`+`),(e=>{let t=e.toLowerCase().trim();return Ne(n,t)?n[t]:e}));return t?r.join(``):r.join(`+`)},eO=(e,t,n=[Sw])=>fw(e,{tag:`div`,classes:n},t),tO=e=>({dom:{tag:`div`,classes:[Cw]},components:[gp(rw.translate(e))]}),nO=(e,t)=>({dom:{tag:`div`,classes:t,innerHtml:e}}),rO=(e,t)=>({dom:{tag:`div`,classes:[Cw]},components:[{dom:{tag:e.tag,styles:e.styles},components:[gp(rw.translate(t))]}]}),iO=e=>({dom:{tag:`div`,classes:[`tox-collection__item-accessory`]},components:[gp($D(e))]}),aO=e=>eO(`checkmark`,e,[`tox-collection__item-checkmark`]),oO=(e,t)=>{let n=e.map((e=>({attributes:{id:z(`menu-item`),"aria-label":rw.translate(e)}}))).getOr({});return{tag:`div`,classes:[vw,yw].concat(t),...n}},sO=e=>({dom:{tag:`label`},components:[gp(e)]}),cO=(e,t,n,r=T.none())=>e.presets===`color`?((e,t,n)=>{let r=e.value,i=e.iconContent.map((e=>((e,t,n)=>{let r=t();return cw(e,r).or(n).getOrThunk(ow(r))})(e,t.icons,n))),a=e.ariaLabel.map((e=>({"aria-label":t.translate(e),"data-mce-name":e}))).getOr({});return{dom:(()=>{let e=i.getOr(``),t={tag:`div`,attributes:a,classes:[`tox-swatch`]};return r===`custom`?{...t,tag:`button`,classes:[...t.classes,`tox-swatches__picker-btn`],innerHtml:e}:r===`remove`?{...t,classes:[...t.classes,`tox-swatch--remove`],innerHtml:e}:p(r)?{...t,attributes:{...t.attributes,"data-mce-color":r},styles:{"background-color":r},innerHtml:e}:t})(),optComponents:[]}})(e,t,r):e.presets===`img`?(e=>{var t,n;return{dom:oO(e.ariaLabel,[`tox-collection__item-image-selector`]),optComponents:[T.some((t=e.iconContent.getOrDie(),n={tag:`div`,classes:[`tox-collection__item-image`],checkMark:e.checkMark},QD(n,t))),e.labelContent.map(sO)]}})(e):((e,t,n,r)=>{let i={tag:`div`,classes:[Sw]},a=n?e.iconContent.map((e=>fw(e,i,t.icons,r))).orThunk((()=>T.some({dom:i}))):T.none(),o=e.checkMark,s=T.from(e.meta).fold((()=>tO),(e=>Ne(e,`style`)?ee(rO,e.style):tO)),c=e.htmlContent.fold((()=>e.textContent.map(s)),(e=>T.some(nO(e,[Cw]))));return{dom:oO(e.ariaLabel,[]),optComponents:[a,c,e.shortcutContent.map(iO),o,e.caret,e.labelContent.map(sO)]}})(e,t,n,r),lO=(e,t,n)=>Me(e,`tooltipWorker`).map((e=>[D_.config({lazySink:t.getSink,tooltipDom:{tag:`div`,classes:[`tox-tooltip-worker-container`]},tooltipComponents:[],anchor:e=>({type:`submenu`,item:e,overrides:{maxHeightFunction:vl}}),mode:`follow-highlight`,onShow:(t,n)=>{e((e=>{D_.setComponents(t,[_p({element:V(e)})])}))}})])).getOrThunk((()=>n.map((e=>[D_.config({...t.providers.tooltips.getConfig({tooltipText:e}),mode:`follow-highlight`})])).getOr([]))),uO=(e,t)=>{let n=(e=>Hx.DOM.encode(e))(rw.translate(e));if(t.length>0){let e=new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`))(t),`gi`);return n.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return n},dO=(e,t)=>j(e,(e=>{switch(e.type){case`cardcontainer`:return((e,t)=>({dom:{tag:`div`,classes:[Ew,e.direction===`vertical`?`tox-collection__item-container--column`:Dw,e.align===`left`?`tox-collection__item-container--align-left`:`tox-collection__item-container--align-right`,(()=>{switch(e.valign){case`top`:return`tox-collection__item-container--valign-top`;case`middle`:return`tox-collection__item-container--valign-middle`;case`bottom`:return`tox-collection__item-container--valign-bottom`}})()]},components:t}))(e,dO(e.items,t));case`cardimage`:return((e,t,n)=>({dom:{tag:`img`,classes:t,attributes:{src:e,alt:n.getOr(``)}}}))(e.src,e.classes,e.alt);case`cardtext`:let n=e.name.exists((e=>k(t.cardText.highlightOn,e)))?T.from(t.cardText.matchText).getOr(``):``;return nO(uO(e.text,n),e.classes)}})),fO=(e,t,n,r,i,a,o,s=!0)=>{let c=cO({presets:n,textContent:t?e.text:T.none(),htmlContent:T.none(),labelContent:e.label,ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:T.none(),checkMark:t?T.some(aO(o.icons)):T.none(),caret:T.none(),value:e.value},o,s),l=e.text.filter(b(!t)).map((e=>D_.config(o.tooltips.getConfig({tooltipText:o.translate(e)}))));return B(XD({context:e.context,data:ZD(e),enabled:e.enabled,getApi:e=>({setActive:t=>{__.set(e,t)},isActive:()=>__.isOn(e),isEnabled:()=>!Bp.isDisabled(e),setEnabled:t=>Bp.set(e,!t)}),onAction:t=>r(e.value),onSetup:e=>(e.setActive(i),_),triggersSubmenu:!1,itemBehaviours:[...l.toArray()]},c,a,o),{toggling:{toggleClass:xw,toggleOnExecute:!1,selected:e.active,exclusive:!0}})},pO=e=>({value:_O(e)}),mO=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,hO=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,gO=e=>mO.test(e)||hO.test(e),_O=e=>lt(e,`#`).toUpperCase(),vO=e=>{let t=e.toString(16);return(t.length===1?`0`+t:t).toUpperCase()},yO=e=>pO(vO(e.red)+vO(e.green)+vO(e.blue)),bO=(e,t,n)=>({hue:e,saturation:t,value:n}),xO=e=>{let t=0,n=0,r=0,i=e.red/255,a=e.green/255,o=e.blue/255,s=Math.min(i,Math.min(a,o)),c=Math.max(i,Math.max(a,o));return s===c?(r=s,bO(0,0,100*r)):(t=i===s?3:o===s?1:5,t=60*(t-(i===s?a-o:o===s?i-a:o-i)/(c-s)),n=(c-s)/c,r=c,bO(Math.round(t),Math.round(100*n),Math.round(100*r)))},SO=Math.min,CO=Math.max,wO=Math.round,TO=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,EO=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,DO=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),OO=e=>{let t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},kO=e=>{let t,n,r,i=(e.hue||0)%360,a=e.saturation/100,o=e.value/100;if(a=CO(0,SO(a,1)),o=CO(0,SO(o,1)),a===0)return t=n=r=wO(255*o),DO(t,n,r,1);let s=i/60,c=o*a,l=c*(1-Math.abs(s%2-1)),u=o-c;switch(Math.floor(s)){case 0:t=c,n=l,r=0;break;case 1:t=l,n=c,r=0;break;case 2:t=0,n=c,r=l;break;case 3:t=0,n=l,r=c;break;case 4:t=l,n=0,r=c;break;case 5:t=c,n=0,r=l;break;default:t=n=r=0}return t=wO(255*(t+u)),n=wO(255*(n+u)),r=wO(255*(r+u)),DO(t,n,r,1)},AO=e=>{let t=(e=>{let t=(e=>({value:e.value.replace(mO,((e,t,n,r)=>t+t+n+n+r+r))}))(e),n=hO.exec(t.value);return n===null?[`FFFFFF`,`FF`,`FF`,`FF`]:n})(e);return DO(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1)},jO=(e,t,n,r)=>DO(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseFloat(r)),MO=e=>{let t=TO.exec(e);if(t!==null)return T.some(jO(t[1],t[2],t[3],`1`));let n=EO.exec(e);return n===null?T.none():T.some(jO(n[1],n[2],n[3],n[4]))},NO=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,PO=DO(255,0,0,1),FO=e=>yO(kO(e)),IO=(e,t)=>{e.dispatch(`ResizeContent`,t)},LO=(e,t)=>{e.dispatch(`TextColorChange`,t)},RO=(e,t)=>e.dispatch(`ResolveName`,{name:t.nodeName.toLowerCase(),target:t}),zO=e=>{e.dispatch(`ContextToolbarClose`)},BO=(e,t)=>()=>{e(),t()},VO=(e,t=re)=>UO(e,`NodeChange`,(n=>{n.setEnabled(e.selection.isEditable()&&t())})),HO=(e,t)=>n=>{let r=VO(e)(n),i=((e,t)=>n=>{let r=ot(),i=()=>{n.setActive(e.formatter.match(t));let i=e.formatter.formatChanged(t,n.setActive);r.set(i)};return e.initialized?i():e.once(`init`,i),()=>{e.off(`init`,i),r.clear()}})(e,t)(n);return()=>{r(),i()}},UO=(e,t,n)=>r=>{let i=()=>n(r),a=()=>{n(r),e.on(t,i)};return e.initialized?a():e.once(`init`,a),()=>{e.off(`init`,a),e.off(t,i)}},WO=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand(`mceToggleFormat`,!1,t.format)}))},GO=(e,t)=>()=>e.execCommand(t);var KO=tinymce.util.Tools.resolve(`tinymce.util.LocalStorage`);let qO={},JO=e=>Me(qO,e).getOrThunk((()=>{let t=`tinymce-custom-colors-${e}`;if(f(KO.getItem(t))){let e=KO.getItem(`tinymce-custom-colors`);KO.setItem(t,p(e)?e:`[]`)}let n=((e,t=10)=>{let n=KO.getItem(e),r=t-(i=a(n)?JSON.parse(n):[]).length<0?i.slice(0,t):i;var i;let o=e=>{r.splice(e,1)};return{add:n=>{((e,t)=>{let n=O(e,t);return n===-1?T.none():T.some(n)})(r,n).each(o),r.unshift(n),r.length>t&&r.pop(),KO.setItem(e,JSON.stringify(r))},state:()=>r.slice(0)}})(t,10);return qO[e]=n,n})),YO=(e,t)=>{JO(e).add(t)},XO=`forecolor`,ZO=`hilitecolor`,QO=e=>{let t=[];for(let n=0;n<e.length;n+=2)t.push({text:e[n+1],value:e[n],icon:`checkmark`,type:`choiceitem`});return t},$O=e=>t=>t.options.get(e),ek=`#000000`,tk=(e,t)=>t===XO&&e.options.isSet(`color_map_foreground`)?$O(`color_map_foreground`)(e):t===ZO&&e.options.isSet(`color_map_background`)?$O(`color_map_background`)(e):e.options.isSet(`color_map_raw`)?$O(`color_map_raw`)(e):$O(`color_map`)(e),nk=(e,t=`default`)=>Math.max(5,Math.ceil(Math.sqrt(tk(e,t).length))),rk=(e,t)=>{let n=$O(`color_cols`)(e),r=nk(e,t);return n===nk(e)?r:n},ik=(e,t=`default`)=>Math.round(t===XO?$O(`color_cols_foreground`)(e):t===ZO?$O(`color_cols_background`)(e):$O(`color_cols`)(e)),ak=$O(`custom_colors`),ok=$O(`color_default_foreground`),sk=$O(`color_default_background`),ck=(e,t)=>{let n=V(e.selection.getStart());return MO(t===`hilitecolor`?pi(n,(e=>{if(rn(e)){let t=dr(e,`background-color`);return rt((e=>MO(e).exists((e=>e.alpha!==0)))(t),t)}return T.none()})).getOr(`rgba(0, 0, 0, 0)`):dr(n,`color`)).map((e=>`#`+yO(e).value))},lk=e=>{let t=`choiceitem`,n={type:t,text:`Remove color`,icon:`color-swatch-remove-color`,value:`remove`};return e?[n,{type:t,text:`Custom color`,icon:`color-picker`,value:`custom`}]:[n]},uk=(e,t,n,r)=>{n===`custom`?yk(e)((n=>{n.each((n=>{YO(t,n),e.execCommand(`mceApplyTextcolor`,t,n),r(n)}))}),ck(e,t).getOr(ek)):n===`remove`?(r(``),e.execCommand(`mceRemoveTextcolor`,t)):(r(n),e.execCommand(`mceApplyTextcolor`,t,n))},dk=(e,t,n)=>e.concat((e=>j(JO(e).state(),(e=>({type:`choiceitem`,text:e,icon:`checkmark`,value:e}))))(t).concat(lk(n))),fk=(e,t,n)=>r=>{r(dk(e,t,n))},pk=(e,t,n)=>{let r=t===`forecolor`?`tox-icon-text-color__color`:`tox-icon-highlight-bg-color__color`;e.setIconFill(r,n)},mk=(e,t)=>{e.setTooltip(t)},hk=(e,t)=>n=>$e(ck(e,t),n.toUpperCase()),gk=(e,t,n)=>{if(ht(n))return t===`forecolor`?`Text color`:`Background color`;let r=t===`forecolor`?`Text color {0}`:`Background color {0}`,i=le(dk(tk(e,t),t,!1),(e=>e.value===n)).getOr({text:``}).text;return e.translate([r,e.translate(i)])},_k=(e,t,n,r)=>{e.ui.registry.addSplitButton(t,{tooltip:gk(e,n,r.get()),chevronTooltip:t===`forecolor`?`Text color menu`:`Background color menu`,presets:`color`,icon:t===`forecolor`?`text-color`:`highlight-bg-color`,select:hk(e,n),columns:ik(e,n),fetch:fk(tk(e,n),n,ak(e)),onAction:t=>{uk(e,n,r.get(),_)},onItemAction:(i,a)=>{uk(e,n,a,(n=>{r.set(n),LO(e,{name:t,color:n})}))},onSetup:i=>{pk(i,t,r.get());let a=r=>{r.name===t&&(pk(i,r.name,r.color),mk(i,gk(e,n,r.color)))};return e.on(`TextColorChange`,a),BO(VO(e)(i),(()=>{e.off(`TextColorChange`,a)}))}})},vk=(e,t,n,r,i)=>{e.ui.registry.addNestedMenuItem(t,{text:r,icon:t===`forecolor`?`text-color`:`highlight-bg-color`,onSetup:r=>(mk(r,gk(e,n,i.get())),pk(r,t,i.get()),VO(e)(r)),getSubmenuItems:()=>[{type:`fancymenuitem`,fancytype:`colorswatch`,select:hk(e,n),initData:{storageKey:n},onAction:r=>{uk(e,n,r.value,(n=>{i.set(n),LO(e,{name:t,color:n})}))}}]})},yk=e=>(t,n)=>{let r=!1,i={colorpicker:n};e.windowManager.open({title:`Color Picker`,size:`normal`,body:{type:`panel`,items:[{type:`colorpicker`,name:`colorpicker`,label:`Color`}]},buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:i,onAction:(e,t)=>{t.name===`hex-valid`&&(r=t.value)},onSubmit:n=>{let i=n.getData().colorpicker;r?(t(T.from(i)),n.close()):e.windowManager.alert(e.translate([`Invalid hex color code: {0}`,i]))},onClose:_,onCancel:()=>{t(T.none())}})},bk=(e,t,n,r,i,a,o,s)=>Qw(e,Yw(t),xk(t,n,r,i===`color`?`color`:`normal`,a,o,s),r,{menuType:i}),xk=(e,t,n,r,i,a,o)=>et(j(e,(s=>{return s.type===`choiceitem`?(c=s,Sa(`choicemenuitem`,gD,c)).fold(Xw,(s=>T.some(fO(s,n===1,r,t,a(s.value),i,o,Yw(e))))):s.type===`imageitem`?(e=>Sa(`imagemenuitem`,yD,e))(s).fold(Xw,(e=>T.some(((e,t,n,r,i)=>{let a=cO({presets:`img`,textContent:T.none(),htmlContent:T.none(),ariaLabel:e.tooltip,iconContent:T.some(e.url),labelContent:e.label,shortcutContent:T.none(),checkMark:T.some(aO(i.icons)),caret:T.none(),value:e.value},i,!0),o=e.tooltip.map((e=>D_.config(i.tooltips.getConfig({tooltipText:i.translate(e)}))));return B(XD({context:e.context,data:ZD(e),enabled:e.enabled,getApi:e=>({setActive:t=>{__.set(e,t)},isActive:()=>__.isOn(e),isEnabled:()=>!Bp.isDisabled(e),setEnabled:t=>Bp.set(e,!t)}),onAction:n=>{t(e.value),n.setActive(!0)},onSetup:e=>(e.setActive(n),_),triggersSubmenu:!1,itemBehaviours:[...o.toArray()]},a,r,i),{toggling:{toggleClass:xw,toggleOnExecute:!1,selected:e.active,exclusive:!0}})})(e,t,a(e.value),i,o)))):s.type===`resetimage`?(e=>Sa(`resetimageitem`,bD,e))(s).fold(Xw,(s=>T.some(fO({...s,type:`choiceitem`,text:s.tooltip,icon:T.some(s.icon),label:T.some(s.label)},n===1,r,t,a(s.value),i,o,Yw(e))))):T.none();var c}))),Sk=(e,t)=>{let n=jw(t);return e===1?{mode:`menu`,moveOnTab:!0}:e===`auto`?{mode:`grid`,selector:`.`+n.item,initSize:{numColumns:1,numRows:1}}:{mode:`matrix`,rowSelector:`.`+{color:`tox-swatches__row`,imageselector:`tox-image-selector__row`,listpreview:`tox-collection__group`,normal:`tox-collection__group`}[t],previousSelector:e=>t===`color`?Wr(e.element,`[aria-checked=true]`):T.none()}},Ck=z(`cell-over`),wk=z(`cell-execute`),Tk=(e,t,n)=>{let r=n=>kl(n,wk,{row:e,col:t}),i=(e,t)=>{t.stop(),r(e)};return bp({dom:{tag:`div`,attributes:{role:`button`,"aria-label":n}},behaviours:Y([ru(`insert-table-picker-cell`,[J(po(),su.focus),J(jo(),r),J(bo(),i),J(No(),i)]),__.config({toggleClass:`tox-insert-table-picker__selected`,toggleOnExecute:!1}),su.config({onFocus:n=>kl(n,Ck,{row:e,col:t})})])})},Ek=e=>de(e,(e=>j(e,xp))),Dk=(e,t)=>gp(`${t}x${e}`),Ok={inserttable:(e,t)=>{let n=(e=>{let t=[];for(let n=0;n<10;n++){let r=[];for(let t=0;t<10;t++){let i=e(n+1,t+1);r.push(Tk(n,t,i))}t.push(r)}return t})((e=>(t,n)=>e.shared.providers.translate([`{0} columns, {1} rows`,n,t]))(t)),r=Dk(0,0),i=A_({dom:{tag:`span`,classes:[`tox-insert-table-picker__label`]},components:[r],behaviours:Y([Wf.config({})])});return{type:`widget`,data:{value:z(`widget-id`)},dom:{tag:`div`,classes:[`tox-fancymenuitem`]},autofocus:!0,components:[my.widget({dom:{tag:`div`,classes:[`tox-insert-table-picker`]},components:Ek(n).concat(i.asSpec()),behaviours:Y([ru(`insert-table-picker`,[Wl((e=>{Wf.set(i.get(e),[r])})),Bl(Ck,((e,t,r)=>{let{row:a,col:o}=r.event;((e,t,n)=>{for(let r=0;r<10;r++)for(let i=0;i<10;i++)__.set(e[r][i],r<=t&&i<=n)})(n,a,o),Wf.set(i.get(e),[Dk(a+1,o+1)])})),Bl(wk,((t,n,r)=>{let{row:i,col:a}=r.event;Ol(t,Fo()),e.onAction({numRows:i+1,numColumns:a+1})}))]),ff.config({initSize:{numRows:10,numColumns:10},mode:`flatgrid`,selector:`[role="button"]`})])})]}},colorswatch:(e,t)=>{let n=((e,t)=>{let n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>dk(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,n)),(e=>e.concat(lk(n))))})(e,t),r=t.colorinput.getColorCols(e.initData.storageKey),i=`color`,a={...bk(z(`menu-value`),n,(t=>{e.onAction({value:t})}),r,i,_w.CLOSE_ON_EXECUTE,e.select.getOr(w),t.shared.providers),markers:jw(i),movement:Sk(r,i),showMenuRole:!1};return{type:`widget`,data:{value:z(`widget-id`)},dom:{tag:`div`,classes:[`tox-fancymenuitem`]},autofocus:!0,components:[my.widget(pv.sketch(a))]}},imageselect:(e,t)=>{let n=`imageselector`,r=e.initData.columns,i={...bk(z(`menu-value`),e.initData.items,(t=>{e.onAction({value:t})}),r,n,_w.CLOSE_ON_EXECUTE,e.select.getOr(w),t.shared.providers),markers:jw(n),movement:Sk(r,n),showMenuRole:!1};return{type:`widget`,data:{value:z(`widget-id`)},dom:{tag:`div`,classes:[`tox-fancymenuitem`,`tox-collection--toolbar`]},autofocus:!0,components:[my.widget(pv.sketch(i))]}}},kk=e=>({type:`separator`,dom:{tag:`div`,classes:[yw,`tox-collection__group-heading`]},components:e.text.map(gp).toArray()}),Ak=(e,t,n)=>{zw(e).each((e=>{var r;((e,t)=>{Yn(t.element,`id`).each((t=>Kn(e.element,`aria-activedescendant`,t)))})(e,n),(ti((r=t).element,Hw)?T.some(r.element):Wr(r.element,`.`+Hw)).each((t=>{Yn(t,`id`).each((t=>Kn(e.element,`aria-controls`,t)))}))})),Kn(n.element,`aria-selected`,`true`)},jk=(e,t,n)=>{Kn(n.element,`aria-selected`,`false`)},Mk=e=>Z.getExistingCoupled(e,`sandbox`).bind(Rw).map(Bw).map((e=>e.fetchPattern)).getOr(``);var Nk;(function(e){e[e.ContentFocus=0]=`ContentFocus`,e[e.UiFocus=1]=`UiFocus`})(Nk||={});let Pk=(e,t,n,r,i)=>{let a=n.shared.providers,o=e=>i?{...e,shortcut:T.none(),icon:e.text.isSome()?T.none():e.icon}:e;switch(e.type){case`menuitem`:return(s=e,Sa(`menuitem`,xD,s)).fold(Xw,(e=>T.some(((e,t,n,r=!0)=>{let i=cO({presets:`normal`,iconContent:e.icon,textContent:e.text,htmlContent:T.none(),labelContent:T.none(),ariaLabel:e.text,caret:T.none(),checkMark:T.none(),shortcutContent:e.shortcut},n,r);return XD({context:e.context,data:ZD(e),getApi:e=>({isEnabled:()=>!Bp.isDisabled(e),setEnabled:t=>Bp.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n)})(o(e),t,a,r))));case`nestedmenuitem`:return(e=>Sa(`nestedmenuitem`,SD,e))(e).fold(Xw,(e=>T.some(((e,t,n,r=!0,i=!1)=>{let a=i?(o=n.icons,eO(`chevron-down`,o,[ww])):(e=>eO(`chevron-right`,e,[ww]))(n.icons);var o;let s=cO({presets:`normal`,iconContent:e.icon,textContent:e.text,htmlContent:T.none(),ariaLabel:e.text,labelContent:T.none(),caret:T.some(a),checkMark:T.none(),shortcutContent:e.shortcut},n,r);return XD({context:e.context,data:ZD(e),getApi:e=>({isEnabled:()=>!Bp.isDisabled(e),setEnabled:t=>Bp.set(e,!t),setIconFill:(t,n)=>{Wr(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each((e=>{Kn(e,`fill`,n)}))},setTooltip:t=>{let r=n.translate(t);Kn(e.element,`aria-label`,r)}}),enabled:e.enabled,onAction:_,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},s,t,n)})(o(e),t,a,r,i))));case`togglemenuitem`:return(e=>Sa(`togglemenuitem`,CD,e))(e).fold(Xw,(e=>T.some(((e,t,n,r=!0)=>{let i=cO({iconContent:e.icon,textContent:e.text,htmlContent:T.none(),labelContent:T.none(),ariaLabel:e.text,checkMark:T.some(aO(n.icons)),caret:T.none(),shortcutContent:e.shortcut,presets:`normal`,meta:e.meta},n,r);return B(XD({context:e.context,data:ZD(e),enabled:e.enabled,getApi:e=>({setActive:t=>{__.set(e,t)},isActive:()=>__.isOn(e),isEnabled:()=>!Bp.isDisabled(e),setEnabled:t=>Bp.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n),{toggling:{toggleClass:xw,toggleOnExecute:!1,selected:e.active},role:e.role.getOrUndefined()})})(o(e),t,a,r))));case`separator`:return(e=>Sa(`separatormenuitem`,qE,e))(e).fold(Xw,(e=>T.some(kk(e))));case`fancymenuitem`:return(e=>Sa(`fancymenuitem`,vD,e))(e).fold(Xw,(e=>((e,t)=>Me(Ok,e.fancytype).map((n=>n(e,t))))(e,n)));default:return console.error(`Unknown item in general menu`,e),T.none()}var s},Fk=(e,t,n,r,i,a,o)=>{let s=r===1,c=!s||Yw(e);return et(j(e,(e=>{switch(e.type){case`separator`:return(r=e,Sa(`Autocompleter.Separator`,qE,r)).fold(Xw,(e=>T.some(kk(e))));case`cardmenuitem`:return(e=>Sa(`cardmenuitem`,hD,e))(e).fold(Xw,(e=>T.some(((e,t,n,r)=>{let i={dom:oO(e.label,[]),optComponents:[T.some({dom:{tag:`div`,classes:[Ew,Dw]},components:dO(e.items,r)})]};return XD({context:`mode:design`,data:ZD({text:T.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!Bp.isDisabled(e),setEnabled:t=>{Bp.set(e,!t),M(ci(e.element,`*`),(n=>{e.getSystem().getByDom(n).each((e=>{e.hasConfigured(Bp)&&Bp.set(e,!t)}))}))}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:T.from(r.itemBehaviours).getOr([])},i,t,n.providers)})({...e,onAction:t=>{e.onAction(t),n(e.value,e.meta)}},i,a,{itemBehaviours:lO(e.meta,a,T.none()),cardText:{matchText:t,highlightOn:o}}))));default:return(e=>Sa(`Autocompleter.Item`,JE,e))(e).fold(Xw,(e=>T.some(((e,t,n,r,i,a,o,s=!0)=>{let c=cO({presets:r,textContent:T.none(),htmlContent:n?e.text.map((e=>uO(e,t))):T.none(),ariaLabel:e.text,labelContent:T.none(),iconContent:e.icon,shortcutContent:T.none(),checkMark:T.none(),caret:T.none(),value:e.value},o.providers,s,e.icon),l=e.text.filter((e=>!n&&e!==``));return XD({context:`mode:design`,data:ZD(e),enabled:e.enabled,getApi:b({}),onAction:t=>i(e.value,e.meta),onSetup:b(_),triggersSubmenu:!1,itemBehaviours:lO(e,o,l)},c,a,o.providers)})(e,t,s,`normal`,n,i,a,c))))}var r})))},Ik=(e,t,n,r,i,a)=>{let o=Yw(t),s=et(j(t,(e=>{let t=e=>Pk(e,n,r,(e=>i?!Ne(e,`text`):o)(e),i);return e.type===`nestedmenuitem`&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)}))),c=(e=>e.searchMode===`no-search`?{menuType:`normal`}:{menuType:`searchable`,searchMode:e})(a);return(i?Zw:Qw)(e,o,s,1,c)},Lk=e=>xv.singleData(e.value,e),Rk=e=>mi(V(e.startContainer),e.startOffset,V(e.endContainer),e.endOffset),zk=(e,t)=>{let n=z(`autocompleter`),r=Ie(!1),i=Ie(!1),a=st(),o=bp(cy.sketch({dom:{tag:`div`,classes:[`tox-autocompleter`],attributes:{id:n}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Y([ru(`dismissAutocompleter`,[J(Wo(),(()=>d())),J(Zo(),((t,n)=>{Yn(n.event.target,`id`).each((t=>Kn(V(e.getBody()),`aria-activedescendant`,t)))}))])]),lazySink:t.getSink})),s=()=>cy.isOpen(o),c=i.get,l=()=>{if(s()){cy.hide(o),e.dom.remove(n,!1);let t=V(e.getBody());Yn(t,`aria-owns`).filter((e=>e===n)).each((()=>{Zn(t,`aria-owns`),Zn(t,`aria-activedescendant`)}))}},u=()=>cy.getContent(o).bind((e=>_e(e.components(),0))),d=()=>e.execCommand(`mceAutocompleterClose`),f=i=>{let s=(n=>{let i=be(n,(e=>T.from(e.columns))).getOr(1);return de(n,(n=>{let o=n.items;return Fk(o,n.matchText,((t,i)=>{let o={hide:()=>d(),reload:t=>{l(),e.execCommand(`mceAutocompleterReload`,!1,{fetchOptions:t})}};e.execCommand(`mceAutocompleterRefreshActiveRange`),a.get().each((e=>{r.set(!0),n.onAction(o,e,t,i),r.set(!1)}))}),i,_w.BUBBLE_TO_SANDBOX,t,n.highlightOn)}))})(i);s.length>0?(((t,n)=>{let r=be(t,(e=>T.from(e.columns))).getOr(1);cy.showMenuAt(o,{anchor:{type:`selection`,getSelection:()=>a.get().map(Rk),root:V(e.getBody())}},((e,t,n,r)=>{let i=Sk(t,r),a=jw(r);return{data:Lk({...e,movement:i,menuBehaviours:MD(t===`auto`?[Wl(((e,t)=>{jD(e,4,a.item).each((({numColumns:t,numRows:n})=>{ff.setGridSize(e,n,t)}))}))]:[])}),menu:{markers:jw(r),fakeFocus:n===Nk.ContentFocus}}})(Qw(`autocompleter-value`,!0,n,r,{menuType:`normal`}),r,Nk.ContentFocus,`normal`)),u().each(zu.highlightFirst)})(i,s),Kn(V(e.getBody()),`aria-owns`,n),e.inline||p()):l()},p=()=>{e.dom.get(n)&&e.dom.remove(n,!1);let t=e.getDoc().documentElement,r=e.selection.getNode(),i=(e=>er(e,!0))(o.element);lr(i,{border:`0`,clip:`rect(0 0 0 0)`,height:`1px`,margin:`-1px`,overflow:`hidden`,padding:`0`,position:`absolute`,width:`1px`,top:`${r.offsetTop}px`,left:`${r.offsetLeft}px`}),e.dom.add(t,i.dom),Wr(i,`[role="menu"]`).each((e=>{gr(e,`position`),gr(e,`max-height`)}))};e.on(`AutocompleterStart`,(({lookupData:e})=>{i.set(!0),r.set(!1),f(e)})),e.on(`AutocompleterUpdate`,(({lookupData:e})=>f(e))),e.on(`AutocompleterUpdateActiveRange`,(({range:e})=>a.set(e))),e.on(`AutocompleterEnd`,(()=>{l(),i.set(!1),r.set(!1),a.clear()})),((e,t)=>{let n=(e,t)=>{kl(e,go(),{raw:t})},r=()=>e.getMenu().bind(zu.getHighlighted);t.on(`keydown`,(t=>{let i=t.which;e.isActive()&&(e.isMenuOpen()?i===13?(r().each(Al),t.preventDefault()):i===40?(r().fold((()=>{e.getMenu().each(zu.highlightFirst)}),(e=>{n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):i!==37&&i!==38&&i!==39||r().each((e=>{n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):i!==13&&i!==38&&i!==40||e.cancelIfNecessary())})),t.on(`NodeChange`,(()=>{!e.isActive()||e.isProcessingAction()||t.queryCommandState(`mceAutoCompleterInRange`)||e.cancelIfNecessary()}))})({cancelIfNecessary:d,isMenuOpen:s,isActive:c,isProcessingAction:r.get,getMenu:u},e)};var Bk=tinymce.util.Tools.resolve(`tinymce.html.Entities`);let Vk=(e,t,n,r)=>{let i=Hk(e,t,n,r);return ny.sketch(i)},Hk=(e,t,n,r)=>({dom:Uk(n),components:e.toArray().concat([t]),fieldBehaviours:Y(r)}),Uk=e=>({tag:`div`,classes:[`tox-form__group`].concat(e)}),Wk=(e,t)=>ny.parts.label({dom:{tag:`label`,classes:[`tox-label`]},components:[gp(t.translate(e))]}),Gk=z(`form-component-change`),Kk=z(`form-component-input`),qk=z(`form-close`),Jk=z(`form-cancel`),Yk=z(`form-action`),Xk=z(`form-submit`),Zk=z(`form-block`),Qk=z(`form-unblock`),$k=z(`form-tabchange`),eA=z(`form-resize`),tA=(e,t,n)=>{let r=e.label.map((e=>Wk(e,t))),i=t.icons(),a=e=>(t,n)=>{Gr(n.event.target,`[data-collection-item-value]`).each((r=>{e(t,n,r,Jn(r,`data-collection-item-value`))}))},o=a(((n,r,i,a)=>{r.stop(),t.checkUiComponentContext(`mode:design`).shouldDisable||t.isDisabled()||kl(n,Yk,{name:e.name,value:a})})),s=[J(po(),a(((e,t,n)=>{Fn(n,!0)}))),J(bo(),o),J(No(),o),J(mo(),a(((e,t,n)=>{Wr(e.element,`.`+Tw).each((e=>{ei(e,Tw)})),Qr(n,Tw)}))),J(ho(),a((e=>{Wr(e.element,`.`+Tw).each((e=>{ei(e,Tw),In(e)}))}))),ql(a(((t,n,r,i)=>{kl(t,Yk,{name:e.name,value:i})})))],c=(e,t)=>j(ci(e.element,`.tox-collection__item`),t),l=ny.parts.field({dom:{tag:`div`,classes:[`tox-collection`].concat(e.columns===1?[`tox-collection--list`]:[`tox-collection--grid`])},components:[],factory:{sketch:x},behaviours:Y([Bp.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{c(e,(e=>{Qr(e,`tox-collection__item--state-disabled`),Kn(e,`aria-disabled`,!0)}))},onEnabled:e=>{c(e,(e=>{ei(e,`tox-collection__item--state-disabled`),Zn(e,`aria-disabled`)}))}}),KD((()=>t.checkUiComponentContext(e.context))),Wf.config({}),D_.config({...t.tooltips.getConfig({tooltipText:``,onShow:e=>{Wr(e.element,`.`+Tw+`[data-mce-tooltip]`).each((n=>{Yn(n,`data-mce-tooltip`).each((n=>{D_.setComponents(e,t.tooltips.getComponents({tooltipText:n}))}))}))}}),mode:`children-keyboard-focus`,anchor:e=>({type:`node`,node:Wr(e.element,`.`+Tw).orThunk((()=>jt(`.tox-collection__item`))),root:e.element,layouts:{onLtr:b([Bc,zc,Fc,Lc,Ic,Rc]),onRtl:b([Bc,zc,Fc,Lc,Ic,Rc])},bubble:hc(0,-2,{})})}),Q.config({store:{mode:`memory`,initialValue:n.getOr([])},onSetValue:(n,r)=>{((n,r)=>{let a=t.checkUiComponentContext(`mode:design`).shouldDisable||t.isDisabled()?` tox-collection__item--state-disabled`:``,o=j(r,(t=>{let n=rw.translate(t.text),r=e.columns===1?`<div class="tox-collection__item-label">${n}</div>`:``,o=`<div class="tox-collection__item-icon">${(e=>i[e]??e)(t.icon)}</div>`,s={_:` `," - ":` `,"-":` `},c=n.replace(/\_| \- |\-/g,(e=>s[e]));return`<div data-mce-tooltip="${c}" class="tox-collection__item${a}" tabindex="-1" data-collection-item-value="${Bk.encodeAllRaw(t.value)}" aria-label="${c}">${o}${r}</div>`})),s=j(e.columns!==`auto`&&e.columns>1?oe(o,e.columns):[o],(e=>`<div class="tox-collection__group">${e.join(``)}</div>`));nr(n.element,s.join(``))})(n,r),e.columns===`auto`&&jD(n,5,`tox-collection__item`).each((({numRows:e,numColumns:t})=>{ff.setGridSize(n,e,t)})),Ol(n,eA)}}),u_.config({}),ff.config((u=e.columns,u===1?{mode:`menu`,moveOnTab:!1,selector:`.tox-collection__item`}:u===`auto`?{mode:`flatgrid`,selector:`.tox-collection__item`,initSize:{numColumns:1,numRows:1}}:{mode:`matrix`,selectors:{row:`.tox-collection__group`,cell:`.${yw}`}})),ru(`collection-events`,s)]),eventOrder:{[jo()]:[`disabling`,`alloy.base.behaviour`,`collection-events`],[mo()]:[`collection-events`,`tooltipping`]}});var u;return Vk(r,l,[`tox-form__group--collection`],[])},nA=z(`color-input-change`),rA=z(`color-swatch-change`),iA=z(`color-picker-cancel`),aA=()=>Ep.config({find:T.some}),oA=e=>Ep.config({find:t=>yn(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),sA=ma([K(`preprocess`,x),K(`postprocess`,x)]),cA=(e,t)=>{let n=wa(`RepresentingConfigs.memento processors`,sA,t);return Q.config({store:{mode:`manual`,getValue:t=>{let r=e.get(t),i=Q.getValue(r);return n.postprocess(i)},setValue:(t,r)=>{let i=n.preprocess(r),a=e.get(t);Q.setValue(a,i)}}})},lA=(e,t,n)=>Q.config({store:{mode:`manual`,...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:n}}),uA=(e,t,n)=>lA(e,(e=>t(e.element)),((e,t)=>n(e.element,t))),dA=e=>Q.config({store:{mode:`memory`,initialValue:e}}),fA=z(`rgb-hex-update`),pA=z(`slider-update`),mA=z(`palette-update`),hA=z(`valid-input`),gA=z(`invalid-input`),_A=z(`validating-input`),vA=`colorcustom.rgb.`,yA={isEnabled:re,setEnabled:_,immediatelyShow:_,immediatelyHide:_},bA=(e,t,n,r,i,a)=>{let o=(e,t)=>{let n=t.get();e!==n.isEnabled()&&(n.setEnabled(e),e?n.immediatelyShow():n.immediatelyHide())},s=(n,r,i)=>kh.config({invalidClass:t(`invalid`),notify:{onValidate:e=>{kl(e,_A,{type:n})},onValid:e=>{o(!1,i),kl(e,hA,{type:n,value:Q.getValue(e)})},onInvalid:e=>{o(!0,i),kl(e,gA,{type:n,value:Q.getValue(e)})}},validator:{validate:t=>He(r(Q.getValue(t))?Ge.value(!0):Ge.error(e(`aria.input.invalid`))),validateOnLoad:!1}}),c=(n,r,o,c,l)=>{let u=Ie(yA),d=e(vA+`range`),f=ny.parts.label({dom:{tag:`label`},components:[gp(o)]}),p=ny.parts.field({data:l,factory:py,inputAttributes:{type:`text`,"aria-label":c,...r===`hex`?{"aria-live":`polite`}:{}},inputClasses:[t(`textfield`)],inputBehaviours:Y([s(r,n,u),u_.config({}),D_.config({...i({tooltipText:``,onSetup:e=>{u.set({isEnabled:()=>D_.isEnabled(e),setEnabled:t=>D_.setEnabled(e,t),immediatelyShow:()=>D_.immediateOpenClose(e,!0),immediatelyHide:()=>D_.immediateOpenClose(e,!1)}),D_.setEnabled(e,!1)},onShow:(n,i)=>{D_.setComponents(n,[{dom:{tag:`p`,classes:[t(`rgb-warning-note`)]},components:[gp(e(r===`hex`?`colorcustom.rgb.invalidHex`:`colorcustom.rgb.invalid`))]}])}})})]),onSetValue:e=>{kh.isInvalid(e)&&kh.run(e).get(_)}}),m=z(`aria-invalid`),h=A_(a(`invalid`,T.some(m),`warning`)),g=[f,p,A_({dom:{tag:`div`,classes:[t(`invalid-icon`)]},components:[h.asSpec()]}).asSpec()],v=r===`hex`?[]:[ny.parts[`aria-descriptor`]({text:d})],y=g.concat(v);return{dom:{tag:`div`,attributes:{role:`presentation`},classes:[t(`rgb-container`)]},components:y}},l=(e,t)=>{let n=t.red,r=t.green,i=t.blue;Q.setValue(e,{red:n,green:r,blue:i})},u=A_({dom:{tag:`div`,classes:[t(`rgba-preview`)],styles:{"background-color":`white`},attributes:{role:`presentation`}}}),d=(e,t)=>{u.getOpt(e).each((e=>{W(e.element,`background-color`,`#`+t.value)}))};return Vm({factory:()=>{let i={red:Ie(T.some(255)),green:Ie(T.some(255)),blue:Ie(T.some(255)),hex:Ie(T.some(`ffffff`))},a=e=>i[e].get(),o=(e,t)=>{i[e].set(t)},s=e=>{let t=e.red,n=e.green,r=e.blue;o(`red`,T.some(t)),o(`green`,T.some(n)),o(`blue`,T.some(r))},f=(e,t)=>{let n=t.event;n.type===`hex`?r(e):o(n.type,T.none())},p=(e,t)=>{let r=t.event;(e=>e.type===`hex`)(r)?((e,t)=>{n(e);let r=pO(t);o(`hex`,T.some(r.value));let i=AO(r);l(e,i),s(i),kl(e,fA,{hex:r}),d(e,r)})(e,r.value):((e,t,n)=>{let r=parseInt(n,10);o(t,T.some(r)),a(`red`).bind((e=>a(`green`).bind((t=>a(`blue`).map((n=>DO(e,t,n,1))))))).each((t=>{let n=((e,t)=>{let n=yO(t);return Uv.getField(e,`hex`).each((t=>{su.isFocused(t)||Q.setValue(e,{hex:n.value})})),n})(e,t);kl(e,fA,{hex:n}),d(e,n)}))})(e,r.type,r.value)},m=t=>({label:e(vA+t+`.label`),description:e(vA+t+`.description`)}),h=m(`red`),g=m(`green`),_=m(`blue`),v=m(`hex`);return B(Uv.sketch((n=>({dom:{tag:`form`,classes:[t(`rgb-form`)],attributes:{"aria-label":e(`aria.color.picker`)}},components:[n.field(`red`,ny.sketch(c(OO,`red`,h.label,h.description,255))),n.field(`green`,ny.sketch(c(OO,`green`,g.label,g.description,255))),n.field(`blue`,ny.sketch(c(OO,`blue`,_.label,_.description,255))),n.field(`hex`,ny.sketch(c(gO,`hex`,v.label,v.description,`ffffff`))),u.asSpec()],formBehaviours:Y([kh.config({invalidClass:t(`form-invalid`)}),ru(`rgb-form-events`,[J(hA,p),J(gA,f),J(_A,f)])])}))),{apis:{updateHex:(e,t)=>{Q.setValue(e,{hex:t.value}),((e,t)=>{let n=AO(t);l(e,n),s(n)})(e,t),d(e,t)}}})},name:`RgbForm`,configFields:[],apis:{updateHex:(e,t,n)=>{e.updateHex(t,n)}},extraApis:{}})},xA=(e,t,n,r)=>Vm({name:`ColourPicker`,configFields:[G(`dom`),K(`onValidHex`,_),K(`onInvalidHex`,_)],factory:i=>{let a=bA(e,t,i.onValidHex,i.onInvalidHex,n,r),o=((e,t)=>{let n=Qb.parts.spectrum({dom:{tag:`canvas`,attributes:{role:`presentation`},classes:[t(`sv-palette-spectrum`)]}}),r=Qb.parts.thumb({dom:{tag:`div`,attributes:{role:`presentation`},classes:[t(`sv-palette-thumb`)],innerHtml:`<div class=${t(`sv-palette-inner-thumb`)} role="presentation"></div>`}}),i=(e,t)=>{let{width:n,height:r}=e,i=e.getContext(`2d`);if(i===null)return;i.fillStyle=t,i.fillRect(0,0,n,r);let a=i.createLinearGradient(0,0,n,0);a.addColorStop(0,`rgba(255,255,255,1)`),a.addColorStop(1,`rgba(255,255,255,0)`),i.fillStyle=a,i.fillRect(0,0,n,r);let o=i.createLinearGradient(0,0,0,r);o.addColorStop(0,`rgba(0,0,0,0)`),o.addColorStop(1,`rgba(0,0,0,1)`),i.fillStyle=o,i.fillRect(0,0,n,r)};return Vm({factory:a=>{let o=b({x:0,y:0}),s=Y([Ep.config({find:T.some}),su.config({})]);return Qb.sketch({dom:{tag:`div`,attributes:{role:`slider`,"aria-valuetext":e([`Saturation {0}%, Brightness {1}%`,0,0])},classes:[t(`sv-palette`)]},model:{mode:`xy`,getInitialValue:o},rounded:!1,components:[n,r],onChange:(t,n,r)=>{h(r)||Kn(t.element,`aria-valuetext`,e([`Saturation {0}%, Brightness {1}%`,Math.floor(r.x),Math.floor(100-r.y)])),kl(t,mA,{value:r})},onInit:(e,t,n,r)=>{i(n.element.dom,NO(PO))},sliderBehaviours:s})},name:`SaturationBrightnessPalette`,configFields:[],apis:{setHue:(e,t,n)=>{((e,t)=>{let n=e.components()[0].element.dom;i(n,NO(kO(bO(t,100,100))))})(t,n)},setThumb:(t,n,r)=>{((t,n)=>{let r=xO(AO(n));Qb.setValue(t,{x:r.saturation,y:100-r.value}),Kn(t.element,`aria-valuetext`,e([`Saturation {0}%, Brightness {1}%`,r.saturation,r.value]))})(n,r)}},extraApis:{}})})(e,t),s={paletteRgba:Ie(PO),paletteHue:Ie(0)},c=A_(((e,t)=>{let n=Qb.parts.spectrum({dom:{tag:`div`,classes:[t(`hue-slider-spectrum`)],attributes:{role:`presentation`}}}),r=Qb.parts.thumb({dom:{tag:`div`,classes:[t(`hue-slider-thumb`)],attributes:{role:`presentation`}}});return Qb.sketch({dom:{tag:`div`,classes:[t(`hue-slider`)],attributes:{role:`slider`,"aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:`y`,getInitialValue:b(0)},components:[n,r],sliderBehaviours:Y([su.config({})]),onChange:(e,t,n)=>{Kn(e.element,`aria-valuenow`,Math.floor(360-3.6*n)),kl(e,pA,{value:n})}})})(0,t)),l=A_(o.sketch({})),u=A_(a.sketch({})),d=(e,t,n)=>{l.getOpt(e).each((e=>{o.setHue(e,n)}))},f=(e,t)=>{u.getOpt(e).each((e=>{a.updateHex(e,t)}))},p=(e,t,n)=>{c.getOpt(e).each((e=>{Qb.setValue(e,(e=>100-e/360*100)(n))}))},m=(e,t)=>{l.getOpt(e).each((e=>{o.setThumb(e,t)}))},g=(e,t,n,r)=>{((e,t)=>{let n=AO(e);s.paletteRgba.set(n),s.paletteHue.set(t)})(t,n),M(r,(r=>{r(e,t,n)}))};return{uid:i.uid,dom:i.dom,components:[l.asSpec(),c.asSpec(),u.asSpec()],behaviours:Y([ru(`colour-picker-events`,[J(fA,(()=>{let e=[d,p,m];return(t,n)=>{let r=n.event.hex;g(t,r,(e=>xO(AO(e)))(r).hue,e)}})()),J(mA,(()=>{let e=[f];return(t,n)=>{let r=n.event.value,i=s.paletteHue.get();g(t,FO(bO(i,r.x,100-r.y)),i,e)}})()),J(pA,(()=>{let e=[d,f];return(t,n)=>{let r=(e=>(100-e)/100*360)(n.event.value),i=xO(s.paletteRgba.get());g(t,FO(bO(r,i.saturation,i.value)),r,e)}})())]),Ep.config({find:e=>u.getOpt(e)}),ff.config({mode:`acyclic`})])}}}),SA={"colorcustom.rgb.red.label":`R`,"colorcustom.rgb.red.description":`Red channel`,"colorcustom.rgb.green.label":`G`,"colorcustom.rgb.green.description":`Green channel`,"colorcustom.rgb.blue.label":`B`,"colorcustom.rgb.blue.description":`Blue channel`,"colorcustom.rgb.hex.label":`#`,"colorcustom.rgb.hex.description":`Hex color code`,"colorcustom.rgb.range":`Range 0 to 255`,"colorcustom.rgb.invalid":`Numbers only, 0 to 255`,"colorcustom.rgb.invalidHex":`Hexadecimal only, 000000 to FFFFFF`,"aria.color.picker":`Color Picker`,"aria.input.invalid":`Invalid input`};var CA=tinymce.util.Tools.resolve(`tinymce.Resource`);let wA=e=>Ne(e,`init`);var TA=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let EA=z(`browse.files.event`),DA=(e,t,n)=>{let r=(e,t)=>{t.stop()},i=e=>(t,n)=>{M(e,(e=>{e(t,n)}))},a=A_({dom:{tag:`input`,attributes:{type:`file`,accept:`image/*`},styles:{display:`none`}},behaviours:Y([ru(`input-file-events`,[Vl(bo()),Vl(No())])])}),o=e.label.map((e=>Wk(e,t))),s=ny.parts.field({factory:U_,dom:{tag:`button`,styles:{position:`relative`},classes:[`tox-button`,`tox-button--secondary`]},components:[gp(t.translate(`Browse for an image`)),a.asSpec()],action:e=>{a.get(e).element.dom.click()},buttonBehaviours:Y([aA(),dA(n.getOr([])),u_.config({}),PD((()=>t.checkUiComponentContext(e.context).shouldDisable)),KD((()=>t.checkUiComponentContext(e.context)))])});return Vk(o,{dom:{tag:`div`,classes:[`tox-dropzone-container`]},behaviours:Y([Bp.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable}),KD((()=>t.checkUiComponentContext(e.context))),__.config({toggleClass:`dragenter`,toggleOnExecute:!1}),ru(`dropzone-events`,[J(`dragenter`,i([r,__.toggle])),J(`dragleave`,i([r,__.toggle])),J(`dragover`,r),J(`drop`,i([r,(e,t)=>{if(!Bp.isDisabled(e)){let n=t.event.raw;kl(e,EA,{files:n.dataTransfer?.files})}}])),J(yo(),((e,t)=>{let n=t.event.raw.target;kl(e,EA,{files:n.files})}))])]),components:[{dom:{tag:`div`,classes:[`tox-dropzone`],styles:{}},components:[{dom:{tag:`p`},components:[gp(t.translate(`Drop an image here`))]},s]}]},[`tox-form__group--stretched`],[ru(`handle-files`,[J(EA,((n,r)=>{ny.getField(n).each((n=>{var i=n,a;(a=r.event.files)&&(Q.setValue(i,((e,t)=>{let n=TA.explode(t.getOption(`images_file_types`));return N(ye(e),(e=>ae(n,(t=>ft(e.name.toLowerCase(),`.${t.toLowerCase()}`)))))})(a,t)),kl(i,Gk,{name:e.name}))}))}))])])},OA=z(`alloy-fake-before-tabstop`),kA=z(`alloy-fake-after-tabstop`),AA=e=>({dom:{tag:`div`,styles:{width:`1px`,height:`1px`,outline:`none`},attributes:{tabindex:`0`},classes:e},behaviours:Y([su.config({ignore:!0}),u_.config({})])}),jA=(e,t)=>({dom:{tag:`div`,classes:[`tox-navobj`,...e.getOr([])]},components:[AA([OA]),t,AA([kA])],behaviours:Y([oA(1)])}),MA=(e,t)=>{kl(e,go(),{raw:{which:9,shiftKey:t}})},NA=(e,t)=>{let n=t.element;ti(n,OA)?MA(e,!0):ti(n,kA)&&MA(e,!1)},PA=e=>ui(e,[`.`+OA,`.`+kA].join(`,`),w),FA=z(`update-dialog`),IA=z(`update-title`),LA=z(`update-body`),RA=z(`update-footer`),zA=z(`body-send-message`),BA=z(`dialog-focus-shifted`),VA=Zt().browser,HA=VA.isSafari(),UA=VA.isFirefox(),WA=HA||UA,GA=VA.isChromium(),KA=({scrollTop:e,scrollHeight:t,clientHeight:n})=>Math.ceil(e)+n>=t,qA=(e,t)=>e.scrollTo(0,t===`bottom`?99999999:t),JA=(e,t,n)=>{let r=e.dom;T.from(r.contentDocument).fold(n,(e=>{let n=0,i=((e,t)=>{let n=e.body;return T.from(!/^<!DOCTYPE (html|HTML)/.test(t)&&(!GA&&!HA||p(n)&&(n.scrollTop!==0||Math.abs(n.scrollHeight-n.clientHeight)>1))?n:e.documentElement)})(e,t).map((e=>(n=e.scrollTop,e))).forall(KA),a=()=>{let e=r.contentWindow;p(e)&&(i?qA(e,`bottom`):!i&&WA&&n!==0&&qA(e,n))};HA&&r.addEventListener(`load`,a,{once:!0}),e.open(),e.write(t),e.close(),HA||a()}))},YA=rt(WA,HA?500:200).map((e=>((e,t)=>{let n=null,r=null;return{cancel:()=>{l(n)||(clearTimeout(n),n=null,r=null)},throttle:(...i)=>{r=i,l(n)&&(n=setTimeout((()=>{let t=r;n=null,r=null,e.apply(null,t)}),t))}}})(JA,e))),XA=z(`toolbar.button.execute`),ZA=z(`common-button-display-events`),QA={[jo()]:[`disabling`,`alloy.base.behaviour`,`toggling`,`toolbar-button-events`,`tooltipping`],[Ho()]:[`toolbar-button-events`,ZA],[Uo()]:[`toolbar-button-events`,`dropdown-events`,`tooltipping`],[co()]:[`focusing`,`alloy.base.behaviour`,ZA]},$A=e=>W(e.element,`width`,dr(e.element,`width`)),ej=(e,t,n)=>fw(e,{tag:`span`,classes:[`tox-icon`,`tox-tbtn__icon-wrap`],behaviours:n},t),tj=(e,t)=>ej(e,t,[]),nj=(e,t)=>ej(e,t,[Wf.config({})]),rj=(e,t,n)=>({dom:{tag:`span`,classes:[`${t}__select-label`]},components:[gp(n.translate(e))],behaviours:Y([Wf.config({})])}),ij=z(`update-menu-text`),aj=z(`update-menu-icon`),oj=z(`update-tooltip-text`),sj=(e,t,n,r)=>{let i=Ie(_),a=Ie(e.tooltip),o=e.text.map((e=>A_(rj(e,t,n.providers)))),s=e.icon.map((e=>A_(nj(e,n.providers.icons)))),c=(e,t)=>{let n=Q.getValue(e);return su.focus(n),kl(n,`keydown`,{raw:t.event.raw}),Rv.close(n),T.some(!0)},l=e.role.fold((()=>({})),(e=>({role:e}))),u=T.from(e.listRole).map((e=>({listRole:e}))).getOr({}),d=e.ariaLabel.fold((()=>({})),(e=>({"aria-label":n.providers.translate(e)}))),f=fw(`chevron-down`,{tag:`div`,classes:[`${t}__select-chevron`]},n.providers.icons),m=z(`common-button-display-events`),h=`dropdown-events`;return A_(Rv.sketch({...e.uid?{uid:e.uid}:{},...l,...u,dom:{tag:`button`,classes:[t,`${t}--select`].concat(j(e.classes,(e=>`${t}--${e}`))),attributes:{...d,...p(r)?{"data-mce-name":r}:{}}},components:YD([s.map((e=>e.asSpec())),o.map((e=>e.asSpec())),T.some(f)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,n,r)=>{e.searchable&&(e=>{zw(e).each((e=>su.focus(e)))})(r)},dropdownBehaviours:Y([...e.dropdownBehaviours,PD((()=>e.disabled||n.providers.checkUiComponentContext(e.context).shouldDisable)),KD((()=>n.providers.checkUiComponentContext(e.context))),O_.config({}),Wf.config({}),...e.tooltip.map((t=>D_.config(n.providers.tooltips.getConfig({tooltipText:n.providers.translate(t),onShow:t=>{if(tt(a.get(),e.tooltip,((e,t)=>t!==e)).getOr(!1)){let e=n.providers.translate(a.get().getOr(``));D_.setComponents(t,n.providers.tooltips.getComponents({tooltipText:e}))}}})))).toArray(),ru(h,[LD(e,i),RD(e,i)]),ru(m,[Wl(((t,n)=>{e.listRole!==`listbox`&&$A(t)}))]),ru(`update-dropdown-width-variable`,[J(Vo(),((e,t)=>Rv.close(e)))]),ru(`menubutton-update-display-text`,[J(ij,((e,t)=>{o.bind((t=>t.getOpt(e))).each((e=>{Wf.set(e,[gp(n.providers.translate(t.event.text))])}))})),J(aj,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{Wf.set(e,[nj(t.event.icon,n.providers.icons)])}))})),J(oj,((e,t)=>{let r=n.providers.translate(t.event.text);Kn(e.element,`aria-label`,r),a.set(T.some(t.event.text))}))])]),eventOrder:B(QA,{[co()]:[`focusing`,`alloy.base.behaviour`,`item-type-events`,`normal-dropdown-events`],[Ho()]:[`toolbar-button-events`,D_.name(),h,m]}),sandboxBehaviours:Y([ff.config({mode:`special`,onLeft:c,onRight:c}),ru(`dropdown-sandbox-events`,[J(Fw,((e,t)=>{(e=>{let t=Q.getValue(e),n=Rw(e).map(Bw);Rv.refetch(t).get((()=>{let e=Z.getCoupled(t,`sandbox`);n.each((t=>Rw(e).each((e=>((e,t)=>{Q.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd})(e,t)))))}))})(e),t.stop()})),J(Iw,((e,t)=>{((e,t)=>{(e=>Ug.getState(e).bind(zu.getHighlighted).bind(zu.getHighlighted))(e).each((n=>{((e,t,n,r)=>{let i={...r,target:t};e.getSystem().triggerEvent(n,t,i)})(e,n.element,t.event.eventType,t.event.interactionEvent)}))})(e,t),t.stop()}))])]),lazySink:n.getSink,toggleClass:`${t}--active`,parts:{menu:{...Pw(0,e.columns,e.presets),fakeFocus:e.searchable,...e.listRole===`listbox`?{}:{onHighlightItem:Ak,onCollapseMenu:(e,t,n)=>{zu.getHighlighted(n).each((t=>{Ak(e,n,t)}))},onDehighlightItem:jk}}},getAnchorOverrides:()=>({maxHeightFunction:(e,t)=>{_l()(e,t-10)}}),fetch:t=>Ve(ee(e.fetch,t))})).asSpec()},cj=e=>e.type===`separator`,lj={type:`separator`},uj=(e,t)=>ce(((e,t)=>{let n=P(e,((e,n)=>(e=>a(e))(n)?n===``?e:n===`|`?e.length>0&&!cj(e[e.length-1])?e.concat([lj]):e:Ne(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])),[]);return n.length>0&&cj(n[n.length-1])&&n.pop(),n})(a(e)?e.split(` `):e,t),((e,n)=>{if((e=>Ne(e,`getSubmenuItems`))(n)){let r=((e,t)=>{let n=uj(e.getSubmenuItems(),t);return{item:e,menus:B(n.menus,{[e.value]:n.items}),expansions:B(n.expansions,{[e.value]:e.value})}})((e=>B({value:Me(e,`value`).getOrThunk((()=>z(`generated-menu-item`)))},e))(n),t);return{menus:B(e.menus,r.menus),items:[r.item,...e.items],expansions:B(e.expansions,r.expansions)}}return{...e,items:[n,...e.items]}}),{menus:{},expansions:{},items:[]}),dj=(e,t,n,r)=>{let i=z(`primary-menu`),a=uj(e,n.shared.providers.menuItems());if(a.items.length===0)return T.none();let o=(e=>e.search.fold((()=>({searchMode:`no-search`})),(e=>({searchMode:`search-with-field`,placeholder:e.placeholder}))))(r),s=Ik(i,a.items,t,n,r.isHorizontalMenu,o),c=(e=>e.search.fold((()=>({searchMode:`no-search`})),(e=>({searchMode:`search-with-results`}))))(r),l=B(we(a.menus,((e,r)=>Ik(r,e,t,n,!1,c))),to(i,s));return T.from(xv.tieredData(i,l,a.expansions))},fj=e=>!Ne(e,`items`),pj=`data-value`,mj=(e,t,n,r,i)=>j(n,(n=>fj(n)?{type:`togglemenuitem`,...i?{}:{role:`option`},text:n.text,value:n.value,active:n.value===r,onAction:()=>{Q.setValue(e,n.value),kl(e,Gk,{name:t}),su.focus(e)}}:{type:`nestedmenuitem`,text:n.text,getSubmenuItems:()=>mj(e,t,n.items,r,i)})),hj=(e,t)=>be(e,(e=>fj(e)?rt(e.value===t,e):hj(e.items,t))),gj=e=>{let t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=e.value.toFixed((r=e.unit)in t?t[r]:1);var r;return n.indexOf(`.`)!==-1&&(n=n.replace(/\.?0*$/,``)),n+e.unit},_j=e=>{let t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(t!==null){let e=parseFloat(t[1]),n=t[2];return Ge.value({value:e,unit:n})}return Ge.error(e)},vj=(e,t)=>{let n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=e=>Ne(n,e);return e.unit===t?T.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?T.some(e.value):T.some(e.value/n[e.unit]*n[t]):T.none()},yj=e=>T.none(),bj=(e,t)=>tt(_j(e).toOptional(),_j(t).toOptional(),((e,t)=>vj(e,t.unit).map((e=>t.value/e)).map((e=>{return n=e,r=t.unit,e=>vj(e,r).map((e=>({value:e*n,unit:r})));var n,r})).getOr(yj))).getOr(yj),xj=(e,t)=>{let n=e.label.map((e=>Wk(e,t))),r=[Bp.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable}),KD((()=>t.checkUiComponentContext(e.context))),ff.config({mode:`execution`,useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(Ol(e,Xk),T.some(!0))}),ru(`textfield-change`,[J(vo(),((t,n)=>{kl(t,Gk,{name:e.name})})),J(ko(),((t,n)=>{kl(t,Gk,{name:e.name})}))]),u_.config({})],i=e.validation.map((e=>kh.config({getRoot:e=>mn(e.element),invalidClass:`tox-invalid`,validator:{validate:t=>{let n=Q.getValue(t),r=e.validator(n);return He(!0===r?Ge.value(n):Ge.error(r))},validateOnLoad:e.validateOnLoad}}))).toArray(),a=e.placeholder.fold(b({}),(e=>({placeholder:t.translate(e)}))),o=e.inputMode.fold(b({}),(e=>({inputmode:e}))),s={...e.spellcheck.fold(b({}),(e=>({spellcheck:e}))),...a,...o,"data-mce-name":e.name},c=ny.parts.field({tag:!0===e.multiline?`textarea`:`input`,...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:s,inputClasses:[e.classname],inputBehaviours:Y(ue([r,i])),selectOnFocus:!1,factory:py});return Vk(n,e.multiline?{dom:{tag:`div`,classes:[`tox-textarea-wrap`]},components:[c]}:c,(e.flex?[`tox-form__group--stretched`]:[]).concat(e.maximized?[`tox-form-group--maximize`]:[]),[Bp.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{ny.getField(e).each(Bp.disable)},onEnabled:e=>{ny.getField(e).each(Bp.enable)}}),KD((()=>t.checkUiComponentContext(e.context)))])},Sj=e=>({isEnabled:()=>!Bp.isDisabled(e),setEnabled:t=>Bp.set(e,!t),setActive:t=>{let n=e.element;t?(Qr(n,`tox-tbtn--enabled`),Kn(n,`aria-pressed`,!0)):(ei(n,`tox-tbtn--enabled`),Zn(n,`aria-pressed`))},isActive:()=>ti(e.element,`tox-tbtn--enabled`),setTooltip:t=>{kl(e,oj,{text:t})},setText:t=>{kl(e,ij,{text:t})},setIcon:t=>kl(e,aj,{icon:t})}),Cj=(e,t,n,r,i=!0,a)=>{let o=e.buttonType===`bordered`?[`bordered`]:[];return sj({text:e.text,icon:e.icon,tooltip:e.tooltip,ariaLabel:e.tooltip,searchable:e.search.isSome(),role:r,fetch:(t,r)=>{let i={pattern:e.search.isSome()?Mk(t):``};e.fetch((t=>{r(dj(t,_w.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:e.search}))}),i,Sj(t))},onSetup:e.onSetup,getApi:e=>Sj(e),columns:1,presets:`normal`,classes:o,dropdownBehaviours:[...i?[u_.config({})]:[]],context:e.context},t,n.shared,a)},wj=(e,t,n)=>{let r=e=>r=>{let i=!r.isActive();r.setActive(i),e.storage.set(i),n.shared.getSink().each((n=>{t().getOpt(n).each((t=>{Fn(t.element),kl(t,Yk,{name:e.name,value:e.storage.get()})}))}))},i=e=>t=>{t.setActive(e.storage.get())};return t=>{t(j(e,(e=>{let t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,context:e.context,onAction:r(e),onSetup:i(e)}})))}},Tj=e=>({dom:{tag:`span`,classes:[`tox-tree__label`],attributes:{"aria-label":e}},components:[gp(e)]}),Ej=(e,t,n)=>{e.customStateIcon.each((r=>t.push(kj(r,n.shared.providers.icons,e.customStateIconTooltip.fold((()=>[]),(e=>[D_.config(n.shared.providers.tooltips.getConfig({tooltipText:e}))])),[`tox-icon-custom-state`]))))},Dj=z(`leaf-label-event-id`),Oj=({leaf:e,onLeafAction:t,visible:n,treeId:r,selectedId:i,backstage:a})=>{let o=e.menu.map((e=>Cj(e,`tox-mbtn`,a,T.none(),n))),s=[Tj(e.title)];return Ej(e,s,a),o.each((e=>s.push(e))),U_.sketch({dom:{tag:`div`,classes:[`tox-tree--leaf__label`,`tox-trbtn`].concat(n?[`tox-tree--leaf__label--visible`]:[])},components:s,role:`treeitem`,action:n=>{t(e.id),n.getSystem().broadcastOn([`update-active-item-${r}`],{value:e.id})},eventOrder:{[go()]:[Dj,`keying`]},buttonBehaviours:Y([...n?[u_.config({})]:[],__.config({toggleClass:`tox-trbtn--enabled`,toggleOnExecute:!1,aria:{mode:`selected`}}),jg.config({channels:{[`update-active-item-${r}`]:{onReceive:(t,n)=>{(n.value===e.id?__.on:__.off)(t)}}}}),ru(Dj,[Wl(((t,n)=>{i.each((n=>{(n===e.id?__.on:__.off)(t)}))})),J(go(),((e,t)=>{let n=t.event.raw.code===`ArrowLeft`,r=t.event.raw.code===`ArrowRight`;n?(Vr(e.element,`.tox-tree--directory`).each((t=>{e.getSystem().getByDom(t).each((e=>{Ur(t,`.tox-tree--directory__label`).each((t=>{e.getSystem().getByDom(t).each(su.focus)}))}))})),t.stop()):r&&t.stop()}))])])})},kj=(e,t,n,r,i)=>fw(e,{tag:`span`,classes:[`tox-tree__icon-wrap`,`tox-icon`].concat(r||[]),behaviours:n,attributes:i},t),Aj=z(`directory-label-event-id`),jj=({directory:e,visible:t,noChildren:n,backstage:r})=>{let i=e.menu.map((e=>Cj(e,`tox-mbtn`,r,T.none()))),a=[{dom:{tag:`div`,classes:[`tox-chevron`]},components:[(o=r.shared.providers.icons,kj(`chevron-right`,o,[]))]},Tj(e.title)];var o;Ej(e,a,r),i.each((e=>{a.push(e)}));let s=t=>{Vr(t.element,`.tox-tree--directory`).each((n=>{t.getSystem().getByDom(n).each((n=>{let r=!__.isOn(n);__.toggle(n),kl(t,`expand-tree-node`,{expanded:r,node:e.id})}))}))};return U_.sketch({dom:{tag:`div`,classes:[`tox-tree--directory__label`,`tox-trbtn`].concat(t?[`tox-tree--directory__label--visible`]:[])},components:a,action:s,eventOrder:{[go()]:[Aj,`keying`]},buttonBehaviours:Y([...t?[u_.config({})]:[],ru(Aj,[J(go(),((e,t)=>{let r=t.event.raw.code===`ArrowRight`,i=t.event.raw.code===`ArrowLeft`;r&&n&&t.stop(),(r||i)&&Vr(e.element,`.tox-tree--directory`).each((n=>{e.getSystem().getByDom(n).each((n=>{!__.isOn(n)&&r||__.isOn(n)&&i?(s(e),t.stop()):i&&!__.isOn(n)&&(Vr(n.element,`.tox-tree--directory`).each((e=>{Ur(e,`.tox-tree--directory__label`).each((e=>{n.getSystem().getByDom(e).each(su.focus)}))})),t.stop())}))}))}))])])})},Mj=({children:e,onLeafAction:t,visible:n,treeId:r,expandedIds:i,selectedId:a,backstage:o})=>({dom:{tag:`div`,classes:[`tox-tree--directory__children`]},components:e.map((e=>e.type===`leaf`?Oj({leaf:e,selectedId:a,onLeafAction:t,visible:n,treeId:r,backstage:o}):Pj({directory:e,expandedIds:i,selectedId:a,onLeafAction:t,labelTabstopping:n,treeId:r,backstage:o}))),behaviours:Y([i_.config({dimension:{property:`height`},closedClass:`tox-tree--directory__children--closed`,openClass:`tox-tree--directory__children--open`,growingClass:`tox-tree--directory__children--growing`,shrinkingClass:`tox-tree--directory__children--shrinking`,expanded:n}),Wf.config({})])}),Nj=z(`directory-event-id`),Pj=({directory:e,onLeafAction:t,labelTabstopping:n,treeId:r,backstage:i,expandedIds:a,selectedId:o})=>{let{children:s}=e,c=Ie(a),l=a.includes(e.id);return{dom:{tag:`div`,classes:[`tox-tree--directory`],attributes:{role:`treeitem`}},components:[jj({directory:e,visible:n,noChildren:e.children.length===0,backstage:i}),Mj({children:s,expandedIds:a,selectedId:o,onLeafAction:t,visible:l,treeId:r,backstage:i})],behaviours:Y([ru(Nj,[Wl(((e,t)=>{__.set(e,l)})),J(`expand-tree-node`,((e,t)=>{let{expanded:n,node:r}=t.event;c.set(n?[...c.get(),r]:c.get().filter((e=>e!==r)))}))]),__.config({...e.children.length>0?{aria:{mode:`expanded`}}:{},toggleClass:`tox-tree--directory--expanded`,onToggled:(e,n)=>{let a=e.components()[1],l=(u=n,s.map((e=>e.type===`leaf`?Oj({leaf:e,selectedId:o,onLeafAction:t,visible:u,treeId:r,backstage:i}):Pj({directory:e,expandedIds:c.get(),selectedId:o,onLeafAction:t,labelTabstopping:u,treeId:r,backstage:i}))));var u;n?i_.grow(a):i_.shrink(a),Wf.set(a,l)}})])}},Fj=z(`tree-event-id`),Ij=(e,t,n=[],r,i,a,o)=>{let s=t.fold((()=>({})),(e=>({action:e})));return B(B({buttonBehaviours:Y([ND((()=>!e.enabled||o.checkUiComponentContext(e.context).shouldDisable)),KD((()=>o.checkUiComponentContext(e.context))),u_.config({}),...a.map((e=>D_.config(o.tooltips.getConfig({tooltipText:o.translate(e)})))).toArray(),ru(`button press`,[Il(`click`)])].concat(n)),eventOrder:{click:[`button press`,`alloy.base.behaviour`],mousedown:[`button press`,`alloy.base.behaviour`]},...s},{dom:r}),{components:i})},Lj=(e,t,n,r=[],i)=>Ij(e,t,r,{tag:`button`,classes:[`tox-tbtn`],attributes:{...e.tooltip.map((e=>({"aria-label":n.translate(e)}))).getOr({}),"data-mce-name":i}},YD([e.icon.map((e=>tj(e,n.icons)))]),e.tooltip,n),Rj=e=>{switch(e){case`primary`:return[`tox-button`];case`toolbar`:return[`tox-tbtn`];default:return[`tox-button`,`tox-button--secondary`]}},zj=(e,t,n,r=[],i=[])=>{let a=n.translate(e.text),o=e.icon.map((e=>tj(e,n.icons))),s=[o.getOrThunk((()=>gp(a)))];return Ij(e,t,r,{tag:`button`,classes:[...Rj(e.buttonType.getOr(e.primary||e.borderless?`primary`:`secondary`)),...o.isSome()?[`tox-button--icon`]:[],...e.borderless?[`tox-button--naked`]:[],...i],attributes:{"aria-label":a,"data-mce-name":e.text}},s,e.icon.map(b(a)),n)},Bj=(e,t,n,r=[],i=[])=>{let a=zj(e,T.some(t),n,r,i);return U_.sketch(a)},Vj=(e,t)=>n=>{t===`custom`?kl(n,Yk,{name:e,value:{}}):t===`submit`?Ol(n,Xk):t===`cancel`?Ol(n,Jk):console.error(`Unknown button type: `,t)},Hj=(e,t,n)=>{if(((e,t)=>t===`menu`)(0,t)){let t=()=>i,r=e,i=A_(Cj({...e,buttonType:`default`,type:`menubutton`,search:T.none(),onSetup:t=>(t.setEnabled(e.enabled),_),fetch:wj(r.items,t,n)},`tox-tbtn`,n,T.none(),!0,e.text.or(e.tooltip).getOrUndefined()));return i.asSpec()}if(((e,t)=>t===`custom`||t===`cancel`||t===`submit`)(0,t)){let r=Vj(e.name,t);return Bj({...e,context:t===`cancel`?`any`:e.context,borderless:!1},r,n.shared.providers,[])}if(((e,t)=>t===`togglebutton`)(0,t))return((e,t,n)=>{let r=e.icon.map((e=>nj(e,t.icons))).map(A_),i=e.buttonType.getOr(e.primary?`primary`:`secondary`),a={...e,name:e.name??``,primary:i===`primary`,tooltip:e.tooltip,enabled:e.enabled??!1,borderless:!1},o=a.tooltip.or(e.text).map((e=>({"aria-label":t.translate(e)}))).getOr({}),s=Rj(i??`secondary`),c=e.icon.isSome()&&e.text.isSome(),l={tag:`button`,classes:[...s.concat(e.icon.isSome()?[`tox-button--icon`]:[]),...e.active?[`tox-button--enabled`]:[],...c?[`tox-button--icon-and-text`]:[]],attributes:{...o,...p(n)?{"data-mce-name":n}:{}}},u=gp(t.translate(e.text.getOr(``))),d=[...YD([r.map((e=>e.asSpec()))]),...e.text.isSome()?[u]:[]],f=Ij(a,T.some((n=>{kl(n,Yk,{name:e.name,value:{setIcon:e=>{r.map((r=>r.getOpt(n).each((n=>{Wf.set(n,[nj(e,t.icons)])}))))}}})})),[],l,d,e.tooltip,t);return U_.sketch(f)})(e,n.shared.providers,e.text.or(e.tooltip).getOrUndefined());throw console.error(`Unknown footer button type: `,t),Error(`Unknown footer button type`)},Uj={type:`separator`},Wj=e=>({type:`menuitem`,value:e.url,text:e.title,meta:{attach:e.attach},onAction:_}),Gj=(e,t)=>({type:`menuitem`,value:t,text:e,meta:{attach:void 0},onAction:_}),Kj=(e,t)=>(e=>j(e,Wj))(((e,t)=>N(t,(t=>t.type===e)))(e,t)),qj=e=>Kj(`header`,e.targets),Jj=e=>Kj(`anchor`,e.targets),Yj=e=>T.from(e.anchorTop).map((e=>Gj(`<top>`,e))).toArray(),Xj=e=>T.from(e.anchorBottom).map((e=>Gj(`<bottom>`,e))).toArray(),Zj=(e,t)=>{let n=e.toLowerCase();return N(t,(e=>{let t=e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.text,r=e.value??``;return ut(t.toLowerCase(),n)||ut(r.toLowerCase(),n)}))},Qj=z(`aria-invalid`),$j=e=>(t,n,r,i,a)=>Me(n,`name`).fold((()=>e(n,i,T.none(),a)),(o=>t.field(o,e(n,i,Me(r,o),a)))),eM={bar:$j(((e,t)=>((e,t)=>({dom:{tag:`div`,classes:[`tox-bar`,`tox-form__controls-h-stack`]},components:j(e.items,t.interpreter)}))(e,t.shared))),collection:$j(((e,t,n)=>tA(e,t.shared.providers,n))),alertbanner:$j(((e,t)=>((e,t)=>{let n=lw(e.icon,t.icons);return Um.sketch({dom:{tag:`div`,attributes:{role:`alert`},classes:[`tox-notification`,`tox-notification--in`,`tox-notification--${e.level}`]},components:[{dom:{tag:`div`,classes:[`tox-notification__icon`],innerHtml:e.url?void 0:n},components:e.url?[U_.sketch({dom:{tag:`button`,classes:[`tox-button`,`tox-button--naked`,`tox-button--icon`],innerHtml:n,attributes:{title:t.translate(e.iconTooltip)}},action:t=>kl(t,Yk,{name:`alert-banner`,value:e.url}),buttonBehaviours:Y([uw()])})]:void 0},{dom:{tag:`div`,classes:[`tox-notification__body`],innerHtml:t.translate(e.text)}}]})})(e,t.shared.providers))),input:$j(((e,t,n)=>((e,t,n)=>xj({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:`tox-textfield`,validation:T.none(),maximized:e.maximized,data:n,context:e.context,spellcheck:T.none()},t))(e,t.shared.providers,n))),textarea:$j(((e,t,n)=>((e,t,n)=>xj({name:e.name,multiline:!0,label:e.label,inputMode:T.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:`tox-textarea`,validation:T.none(),maximized:e.maximized,data:n,context:e.context,spellcheck:e.spellcheck},t))(e,t.shared.providers,n))),label:$j(((e,t,n,r)=>((e,t,n)=>{let r=`tox-label`,i=e.align===`center`?[`${r}--center`]:[],a=e.align===`end`?[`${r}--end`]:[],o=A_({dom:{tag:`label`,classes:[r,...i,...a]},components:[gp(t.providers.translate(e.label))]}),s=j(e.items,t.interpreter);return{dom:{tag:`div`,classes:[`tox-form__group`]},components:[o.asSpec(),...s],behaviours:Y([aA(),Wf.config({}),(c=T.none(),uA(c,tr,nr)),ff.config({mode:`acyclic`}),ru(`label`,[Wl((t=>{e.for.each((e=>{n(e).each((e=>{o.getOpt(t).each((t=>{let n=Jn(e.element,`id`)??z(`form-field`);Kn(e.element,`id`,n),Kn(t.element,`for`,n)}))}))}))}))])])};var c})(e,t.shared,r))),iframe:(eN=(e,t,n)=>((e,t,n)=>{let r=`tox-dialog__iframe`,i=e.transparent?[]:[`${r}--opaque`],a=e.border?[`tox-navobj-bordered`]:[],o={...e.label.map((e=>({title:e}))).getOr({}),...n.map((e=>({srcdoc:e}))).getOr({}),...e.sandboxed?{sandbox:`allow-scripts allow-same-origin`}:{}},s=((e,t)=>{let n=Ie(e.getOr(``));return{getValue:e=>n.get(),setValue:(e,r)=>{if(n.get()!==r){let n=e.element,i=()=>Kn(n,`srcdoc`,r);t?YA.fold(b(JA),(e=>e.throttle))(n,r,i):i()}n.set(r)}}})(n,e.streamContent);return Vk(e.label.map((e=>Wk(e,t))),ny.parts.field({factory:{sketch:e=>jA(T.from(a),{uid:e.uid,dom:{tag:`iframe`,attributes:o,classes:[r,...i]},behaviours:Y([u_.config({}),su.config({}),lA(n,s.getValue,s.setValue),jg.config({channels:{[BA]:{onReceive:(e,t)=>{t.newFocus.each((t=>{mn(e.element).each((n=>{(Mt(e.element,t)?Qr:ei)(n,`tox-navobj-bordered-focus`)}))}))}}}})])})}}),[`tox-form__group--stretched`],[])})(e,t.shared.providers,n),(e,t,n,r,i)=>{let a=B(t,{source:`dynamic`});return $j(eN)(e,a,n,r,i)}),button:$j(((e,t)=>((e,t)=>{let n=Vj(e.name,`custom`);return r=T.none(),i=ny.parts.field({factory:U_,...zj(e,T.some(n),t,[dA(``),aA()])}),Vk(r,i,[],[]);var r,i})(e,t.shared.providers))),checkbox:$j(((e,t,n)=>((e,t,n)=>{let r=e=>(e.element.dom.click(),T.some(!0)),i=ny.parts.field({factory:{sketch:x},dom:{tag:`input`,classes:[`tox-checkbox__input`],attributes:{type:`checkbox`}},behaviours:Y([aA(),Bp.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{mn(e.element).each((e=>Qr(e,`tox-checkbox--disabled`)))},onEnabled:e=>{mn(e.element).each((e=>ei(e,`tox-checkbox--disabled`)))}}),u_.config({}),su.config({}),uA(n,qr,Kr),ff.config({mode:`special`,onEnter:r,onSpace:r,stopSpaceKeyup:!0}),ru(`checkbox-events`,[J(yo(),((t,n)=>{kl(t,Gk,{name:e.name})}))])])}),a=ny.parts.label({dom:{tag:`span`,classes:[`tox-checkbox__label`]},components:[gp(t.translate(e.label))],behaviours:Y([O_.config({})])}),o=e=>fw(e===`checked`?`selected`:`unselected`,{tag:`span`,classes:[`tox-icon`,`tox-checkbox-icon__`+e]},t.icons),s=A_({dom:{tag:`div`,classes:[`tox-checkbox__icons`]},components:[o(`checked`),o(`unchecked`)]});return ny.sketch({dom:{tag:`label`,classes:[`tox-checkbox`]},components:[i,s.asSpec(),a],fieldBehaviours:Y([Bp.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),KD((()=>t.checkUiComponentContext(e.context)))])})})(e,t.shared.providers,n))),colorinput:$j(((e,t,n)=>((e,t,n,r)=>{let i=ny.parts.field({factory:py,inputClasses:[`tox-textfield`],data:r,onSetValue:e=>kh.run(e).get(_),inputBehaviours:Y([Bp.config({disabled:()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable}),KD((()=>t.providers.checkUiComponentContext(e.context))),u_.config({}),kh.config({invalidClass:`tox-textbox-field-invalid`,getRoot:e=>mn(e.element),notify:{onValid:e=>{kl(e,nA,{color:Q.getValue(e)})}},validator:{validateOnLoad:!1,validate:e=>{let t=Q.getValue(e);if(t.length===0)return He(Ge.value(!0));{let e=bt(`span`);return W(e,`background-color`,t),He(pr(e,`background-color`).fold((()=>Ge.error(`blah`)),(e=>Ge.value(t))))}}}})]),selectOnFocus:!1}),a=e.label.map((e=>Wk(e,t.providers))),o=(e,t)=>{kl(e,rA,{value:t})},s=A_(((e,t)=>Rv.sketch({dom:e.dom,components:e.components,toggleClass:`mce-active`,dropdownBehaviours:Y([PD((()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable)),KD((()=>t.providers.checkUiComponentContext(e.context))),O_.config({}),u_.config({})]),layouts:e.layouts,sandboxClasses:[`tox-dialog__popups`],lazySink:t.getSink,fetch:n=>Ve((t=>e.fetch(t))).map((r=>T.from(Lk(B(bk(z(`menu-value`),r,(t=>{e.onItemAction(n,t)}),e.columns,e.presets,_w.CLOSE_ON_EXECUTE,w,t.providers),{movement:Sk(e.columns,e.presets)}))))),parts:{menu:Pw(0,0,e.presets)}}))({dom:{tag:`span`,attributes:{"aria-label":t.providers.translate(`Color swatch`)}},layouts:{onRtl:()=>[Ic,Fc,Bc],onLtr:()=>[Fc,Ic,Bc]},components:[],fetch:fk(n.getColors(e.storageKey),e.storageKey,n.hasCustomColors()),columns:n.getColorCols(e.storageKey),presets:`color`,onItemAction:(t,r)=>{s.getOpt(t).each((t=>{r===`custom`?n.colorPicker((n=>{n.fold((()=>Ol(t,iA)),(n=>{o(t,n),YO(e.storageKey,n)}))}),`#ffffff`):o(t,r===`remove`?``:r)}))},context:e.context},t));return ny.sketch({dom:{tag:`div`,classes:[`tox-form__group`]},components:a.toArray().concat([{dom:{tag:`div`,classes:[`tox-color-input`]},components:[i,s.asSpec()]}]),fieldBehaviours:Y([ru(`form-field-events`,[J(nA,((t,n)=>{s.getOpt(t).each((e=>{W(e.element,`background-color`,n.event.color)})),kl(t,Gk,{name:e.name})})),J(rA,((e,t)=>{ny.getField(e).each((n=>{Q.setValue(n,t.event.value),Ep.getCurrent(e).each(su.focus)}))})),J(iA,((e,t)=>{ny.getField(e).each((t=>{Ep.getCurrent(e).each(su.focus)}))}))])])})})(e,t.shared,t.colorinput,n))),colorpicker:$j(((e,t,n)=>((e,t,n)=>{let r=e=>`tox-`+e,i=A_(xA((e=>t=>a(t)?e.translate(SA[t]):e.translate(t))(t),r,t.tooltips.getConfig,((e,n,r=e,i=e)=>fw(r,{tag:`div`,classes:[`tox-icon`,`tox-control-wrap__status-icon-`+e],attributes:{title:t.translate(i),"aria-live":`polite`,...n.fold((()=>({})),(e=>({id:e})))}},t.icons))).sketch({dom:{tag:`div`,classes:[r(`color-picker-container`)],attributes:{role:`presentation`}},onValidHex:e=>{kl(e,Yk,{name:`hex-valid`,value:!0})},onInvalidHex:e=>{kl(e,Yk,{name:`hex-valid`,value:!1})}}));return{dom:{tag:`div`},components:[i.asSpec()],behaviours:Y([lA(n,(e=>{let t=i.get(e);return Ep.getCurrent(t).bind((e=>Q.getValue(e).hex)).map((e=>`#`+lt(e,`#`))).getOr(``)}),((e,t)=>{let n=T.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind((e=>_e(e,1))),r=i.get(e);Ep.getCurrent(r).fold((()=>{console.log(`Can not find form`)}),(e=>{Q.setValue(e,{hex:n.getOr(``)}),Uv.getField(e,`hex`).each((e=>{Ol(e,vo())}))}))})),aA()])}})(0,t.shared.providers,n))),dropzone:$j(((e,t,n)=>DA(e,t.shared.providers,n))),grid:$j(((e,t)=>((e,t)=>({dom:{tag:`div`,classes:[`tox-form__grid`,`tox-form__grid--${e.columns}col`]},components:j(e.items,t.interpreter)}))(e,t.shared))),listbox:$j(((e,t,n)=>((e,t,n)=>{let r=ae(e.items,(e=>!fj(e))),i=t.shared.providers,a=n.bind((t=>hj(e.items,t))).orThunk((()=>L(e.items).filter(fj))),o=e.label.map((e=>Wk(e,i))),s={dom:{tag:`div`,classes:[`tox-listboxfield`]},components:[ny.parts.field({dom:{},factory:{sketch:n=>sj({context:e.context,uid:n.uid,text:a.map((e=>e.text)),icon:T.none(),tooltip:T.none(),role:rt(!r,`combobox`),...r?{}:{listRole:`listbox`},ariaLabel:e.label,fetch:(n,i)=>{i(dj(mj(n,e.name,e.items,Q.getValue(n),r),_w.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:T.none()}))},onSetup:b(_),getApi:b({}),columns:1,presets:`normal`,classes:[],dropdownBehaviours:[u_.config({}),lA(a.map((e=>e.value)),(e=>Jn(e.element,pj)),((t,n)=>{hj(e.items,n).each((e=>{Kn(t.element,pj,e.value),kl(t,ij,{text:e.text})}))}))]},`tox-listbox`,t.shared)}})]};return ny.sketch({dom:{tag:`div`,classes:[`tox-form__group`]},components:ue([o.toArray(),[s]]),fieldBehaviours:Y([Bp.config({disabled:()=>!e.enabled||i.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{ny.getField(e).each(Bp.disable)},onEnabled:e=>{ny.getField(e).each(Bp.enable)}})])})})(e,t,n))),selectbox:$j(((e,t,n)=>((e,t,n)=>{let r=j(e.items,(e=>({text:t.translate(e.text),value:e.value}))),i=e.label.map((e=>Wk(e,t))),a=ny.parts.field({dom:{},...n.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:r,factory:sy,selectBehaviours:Y([Bp.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),u_.config({}),ru(`selectbox-change`,[J(yo(),((t,n)=>{kl(t,Gk,{name:e.name})}))])])}),o=e.size>1?T.none():T.some(fw(`chevron-down`,{tag:`div`,classes:[`tox-selectfield__icon-js`]},t.icons)),s={dom:{tag:`div`,classes:[`tox-selectfield`]},components:ue([[a],o.toArray()])};return ny.sketch({dom:{tag:`div`,classes:[`tox-form__group`]},components:ue([i.toArray(),[s]]),fieldBehaviours:Y([Bp.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{ny.getField(e).each(Bp.disable)},onEnabled:e=>{ny.getField(e).each(Bp.enable)}}),KD((()=>t.checkUiComponentContext(e.context)))])})})(e,t.shared.providers,n))),sizeinput:$j(((e,t)=>((e,t)=>{let n=yj,r=z(`ratio-event`),i=e=>fw(e,{tag:`span`,classes:[`tox-icon`,`tox-lock-icon__`+e]},t.icons),a=()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,o=KD((()=>t.checkUiComponentContext(e.context))),s=e.label.getOr(`Constrain proportions`),c=t.translate(s),l=oy.parts.lock({dom:{tag:`button`,classes:[`tox-lock`,`tox-button`,`tox-button--naked`,`tox-button--icon`],attributes:{"aria-label":c,"data-mce-name":s}},components:[i(`lock`),i(`unlock`)],buttonBehaviours:Y([Bp.config({disabled:a}),o,u_.config({}),D_.config(t.tooltips.getConfig({tooltipText:c}))])}),u=e=>({dom:{tag:`div`,classes:[`tox-form__group`]},components:e}),d=t=>ny.parts.field({factory:py,inputClasses:[`tox-textfield`],inputBehaviours:Y([Bp.config({disabled:a}),o,u_.config({}),ru(`size-input-events`,[J(mo(),((e,n)=>{kl(e,r,{isField1:t})})),J(yo(),((t,n)=>{kl(t,Gk,{name:e.name})}))])]),selectOnFocus:!1}),f=e=>({dom:{tag:`label`,classes:[`tox-label`]},components:[gp(t.translate(e))]}),p=oy.parts.field1(u([ny.parts.label(f(`Width`)),d(!0)])),m=oy.parts.field2(u([ny.parts.label(f(`Height`)),d(!1)]));return oy.sketch({dom:{tag:`div`,classes:[`tox-form__group`]},components:[{dom:{tag:`div`,classes:[`tox-form__controls-h-stack`]},components:[p,m,u([f(`\xA0`),l])]}],field1Name:`width`,field2Name:`height`,locked:!0,markers:{lockClass:`tox-locked`},onLockedChange:(e,t,r)=>{_j(Q.getValue(e)).each((e=>{n(e).each((e=>{Q.setValue(t,gj(e))}))}))},coupledFieldBehaviours:Y([Bp.config({disabled:a,onDisabled:e=>{oy.getField1(e).bind(ny.getField).each(Bp.disable),oy.getField2(e).bind(ny.getField).each(Bp.disable),oy.getLock(e).each(Bp.disable)},onEnabled:e=>{oy.getField1(e).bind(ny.getField).each(Bp.enable),oy.getField2(e).bind(ny.getField).each(Bp.enable),oy.getLock(e).each(Bp.enable)}}),KD((()=>t.checkUiComponentContext(`mode:design`))),ru(`size-input-events2`,[J(r,((e,t)=>{let r=t.event.isField1,i=r?oy.getField1(e):oy.getField2(e),a=r?oy.getField2(e):oy.getField1(e);n=bj(i.map(Q.getValue).getOr(``),a.map(Q.getValue).getOr(``))}))])])})})(e,t.shared.providers))),slider:$j(((e,t,n)=>((e,t,n)=>{let r=Qb.parts.label({dom:{tag:`label`,classes:[`tox-label`]},components:[gp(t.translate(e.label))]}),i=Qb.parts.spectrum({dom:{tag:`div`,classes:[`tox-slider__rail`],attributes:{role:`presentation`}}}),a=Qb.parts.thumb({dom:{tag:`div`,classes:[`tox-slider__handle`],attributes:{role:`presentation`}}});return Qb.sketch({dom:{tag:`div`,classes:[`tox-slider`],attributes:{role:`presentation`}},model:{mode:`x`,minX:e.min,maxX:e.max,getInitialValue:b(n.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[r,i,a],sliderBehaviours:Y([aA(),su.config({})]),onChoose:(t,n,r)=>{kl(t,Gk,{name:e.name,value:r})},onChange:(t,n,r)=>{kl(t,Gk,{name:e.name,value:r})}})})(e,t.shared.providers,n))),urlinput:$j(((e,t,n)=>((e,t,n,r)=>{let i=t.shared.providers,a=t=>{let r=Q.getValue(t);n.addToHistory(r.value,e.filetype)},o={...r.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:[`tox-textfield`],sandboxClasses:[`tox-dialog__popups`],inputAttributes:{type:`url`},minChars:0,responseTime:0,fetch:r=>He(dj(((e,t,n)=>{let r=Q.getValue(t),i=r?.meta?.text??r.value;return n.getLinkInformation().fold((()=>[]),(t=>{let r=Zj(i,(e=>j(e,(e=>Gj(e,e))))(n.getHistory(e)));return e===`file`?(a=[r,Zj(i,qj(t)),Zj(i,ue([Yj(t),Jj(t),Xj(t)]))],P(a,((e,t)=>e.length===0||t.length===0?e.concat(t):e.concat(Uj,t)),[])):r;var a}))})(e.filetype,r,n),_w.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:T.none()})),getHotspot:e=>p.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(kh)&&kh.run(e).get(_)},typeaheadBehaviours:Y([...n.getValidationHandler().map((t=>kh.config({getRoot:e=>mn(e.element),invalidClass:`tox-control-wrap--status-invalid`,notify:{onInvalid:(e,t)=>{l.getOpt(e).each((e=>{Kn(e.element,`title`,i.translate(t))}))}},validator:{validate:n=>{let r=Q.getValue(n);return qe((i=>{t({type:e.filetype,url:r.value},(e=>{e.status===`invalid`?(Kn(n.element,`aria-errormessage`,Qj),i(Ge.error(e.message))):(Zn(n.element,`aria-errormessage`),i(Ge.value(e.message)))}))}))},validateOnLoad:!1}}))).toArray(),Bp.config({disabled:()=>!e.enabled||i.checkUiComponentContext(e.context).shouldDisable}),u_.config({}),ru(`urlinput-events`,[J(vo(),(t=>{let n=ai(t.element),r=n.trim();r!==n&&oi(t.element,r),e.filetype===`file`&&kl(t,Gk,{name:e.name})})),J(yo(),(t=>{kl(t,Gk,{name:e.name}),a(t)})),J(ko(),(t=>{kl(t,Gk,{name:e.name}),a(t)}))])]),eventOrder:{[vo()]:[`streaming`,`urlinput-events`,`invalidating`]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:`tox-textfield--popup-open`},lazySink:t.shared.getSink,parts:{menu:Pw(0,0,`normal`)},onExecute:(e,t,n)=>{kl(t,Xk,{})},onItemExecute:(t,n,r,i)=>{a(t),kl(t,Gk,{name:e.name})}},s=ny.parts.field({...o,factory:Lx}),c=e.label.map((e=>Wk(e,i))),l=A_(((e,t,n=e,r=e)=>fw(n,{tag:`div`,classes:[`tox-icon`,`tox-control-wrap__status-icon-`+e],attributes:{title:i.translate(r),"aria-live":`polite`,...t.fold((()=>({})),(e=>({id:e})))}},i.icons))(`invalid`,T.some(Qj),`warning`)),u=A_({dom:{tag:`div`,classes:[`tox-control-wrap__status-icon-wrap`]},components:[l.asSpec()]}),d=n.getUrlPicker(e.filetype),f=z(`browser.url.event`),p=A_({dom:{tag:`div`,classes:[`tox-control-wrap`]},components:[s,u.asSpec()],behaviours:Y([Bp.config({disabled:()=>!e.enabled||i.checkUiComponentContext(e.context).shouldDisable})])}),m=A_(Bj({context:e.context,name:e.name,icon:T.some(`browse`),text:e.picker_text.or(e.label).getOr(``),enabled:e.enabled,primary:!1,buttonType:T.none(),borderless:!0},(e=>Ol(e,f)),i,[],[`tox-browse-url`]));return ny.sketch({dom:Uk([]),components:c.toArray().concat([{dom:{tag:`div`,classes:[`tox-form__controls-h-stack`]},components:ue([[p.asSpec()],d.map((()=>m.asSpec())).toArray()])}]),fieldBehaviours:Y([Bp.config({disabled:()=>!e.enabled||i.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{ny.getField(e).each(Bp.disable),m.getOpt(e).each(Bp.disable)},onEnabled:e=>{ny.getField(e).each(Bp.enable),m.getOpt(e).each(Bp.enable)}}),KD((()=>i.checkUiComponentContext(e.context))),ru(`url-input-events`,[J(f,(t=>{Ep.getCurrent(t).each((n=>{let r=Q.getValue(n),i={fieldname:e.name,...r};d.each((r=>{r(i).get((r=>{Q.setValue(n,r),kl(t,Gk,{name:e.name})}))}))}))}))])])})})(e,t,t.urlinput,n))),customeditor:$j((e=>{let t=st(),n=A_({dom:{tag:e.tag}}),r=st(),i=!wA(e)&&e.onFocus.isSome()?[su.config({onFocus:t=>{e.onFocus.each((e=>{e(t.element.dom)}))}}),u_.config({})]:[];return{dom:{tag:`div`,classes:[`tox-custom-editor`]},behaviours:Y([ru(`custom-editor-events`,[Wl((i=>{n.getOpt(i).each((n=>{(wA(e)?e.init(n.element.dom):CA.load(e.scriptId,e.scriptUrl).then((t=>t(n.element.dom,e.settings)))).then((e=>{r.on((t=>{e.setValue(t)})),r.clear(),t.set(e)}))}))}))]),lA(T.none(),(()=>t.get().fold((()=>r.get().getOr(``)),(e=>e.getValue()))),((e,n)=>{t.get().fold((()=>r.set(n)),(e=>e.setValue(n)))})),aA()].concat(i)),components:[n.asSpec()]}})),htmlpanel:$j(((e,t)=>((e,t)=>{let n=[`tox-form__group`,...e.stretched?[`tox-form__group--stretched`]:[]],r=ru(`htmlpanel`,[Wl((t=>{e.onInit(t.element.dom)}))]);return e.presets===`presentation`?Um.sketch({dom:{tag:`div`,classes:n,innerHtml:e.html},containerBehaviours:Y([D_.config({...t.tooltips.getConfig({tooltipText:``,onShow:e=>{Wr(e.element,`[data-mce-tooltip]:hover`).orThunk((()=>zn(e.element))).each((n=>{Yn(n,`data-mce-tooltip`).each((n=>{D_.setComponents(e,t.tooltips.getComponents({tooltipText:n}))}))}))}}),mode:`children-normal`,anchor:e=>({type:`node`,node:Wr(e.element,`[data-mce-tooltip]:hover`).orThunk((()=>zn(e.element).filter((e=>Yn(e,`data-mce-tooltip`).isSome())))),root:e.element,layouts:{onLtr:b([Bc,zc,Fc,Lc,Ic,Rc]),onRtl:b([Bc,zc,Fc,Lc,Ic,Rc])},bubble:hc(0,-2,{})})}),r])}):Um.sketch({dom:{tag:`div`,classes:n,innerHtml:e.html,attributes:{role:`document`}},containerBehaviours:Y([u_.config({}),su.config({}),r])})})(e,t.shared.providers))),imagepreview:$j(((e,t,n)=>((e,t)=>{let n=Ie(t.getOr({url:``})),r=A_({dom:{tag:`img`,classes:[`tox-imagepreview__image`],attributes:t.map((e=>({src:e.url}))).getOr({})}}),i=A_({dom:{tag:`div`,classes:[`tox-imagepreview__container`],attributes:{role:`presentation`}},components:[r.asSpec()]}),a={};e.height.each((e=>a.height=e));let o=t.map((e=>({url:e.url,zoom:T.from(e.zoom),cachedWidth:T.from(e.cachedWidth),cachedHeight:T.from(e.cachedHeight)})));return{dom:{tag:`div`,classes:[`tox-imagepreview`],styles:a,attributes:{role:`presentation`}},components:[i.asSpec()],behaviours:Y([aA(),lA(o,(()=>n.get()),((e,t)=>{let a={url:t.url};t.zoom.each((e=>a.zoom=e)),t.cachedWidth.each((e=>a.cachedWidth=e)),t.cachedHeight.each((e=>a.cachedHeight=e)),n.set(a);let o=()=>{let{cachedWidth:t,cachedHeight:n,zoom:r}=a;if(!d(t)&&!d(n)){d(r)&&(a.zoom=((e,t,n)=>{let r=wr(e),i=br(e);return Math.min(r/t,i/n,1)})(e.element,t,n));let o=((e,t,n,r,i)=>{let a=n*i,o=r*i,s=Math.max(0,e/2-a/2),c=Math.max(0,t/2-o/2);return{left:s.toString()+`px`,top:c.toString()+`px`,width:a.toString()+`px`,height:o.toString()+`px`}})(wr(e.element),br(e.element),t,n,a.zoom);i.getOpt(e).each((e=>{lr(e.element,o)}))}};r.getOpt(e).each((n=>{let r=n.element;t.url!==Jn(r,`src`)&&(Kn(r,`src`,t.url),ei(e.element,`tox-imagepreview__loaded`)),o(),rr(r).then((t=>{e.getSystem().isConnected()&&(Qr(e.element,`tox-imagepreview__loaded`),a.cachedWidth=t.dom.naturalWidth,a.cachedHeight=t.dom.naturalHeight,o())}))}))}))])}})(e,n))),table:$j(((e,t)=>((e,t)=>{let n=e=>({dom:{tag:`td`,innerHtml:t.translate(e)}});return{dom:{tag:`table`,classes:[`tox-dialog__table`]},components:[(i=e.header,{dom:{tag:`thead`},components:[{dom:{tag:`tr`},components:j(i,(e=>({dom:{tag:`th`,innerHtml:t.translate(e)}})))}]}),(r=e.cells,{dom:{tag:`tbody`},components:j(r,(e=>({dom:{tag:`tr`},components:j(e,n)})))})],behaviours:Y([u_.config({}),su.config({})])};var r,i})(e,t.shared.providers))),tree:$j(((e,t)=>((e,t)=>{let n=e.onLeafAction.getOr(_),r=e.onToggleExpand.getOr(_),i=e.defaultExpandedIds,a=Ie(i),o=Ie(e.defaultSelectedId),s=z(`tree-id`),c=(r,i)=>e.items.map((e=>e.type===`leaf`?Oj({leaf:e,selectedId:r,onLeafAction:n,visible:!0,treeId:s,backstage:t}):Pj({directory:e,selectedId:r,onLeafAction:n,expandedIds:i,labelTabstopping:!0,treeId:s,backstage:t})));return{dom:{tag:`div`,classes:[`tox-tree`],attributes:{role:`tree`}},components:c(o.get(),a.get()),behaviours:Y([ff.config({mode:`flow`,selector:`.tox-tree--leaf__label--visible, .tox-tree--directory__label--visible`,cycles:!1}),ru(Fj,[J(`expand-tree-node`,((e,t)=>{let{expanded:n,node:i}=t.event;a.set(n?[...a.get(),i]:a.get().filter((e=>e!==i))),r(a.get(),{expanded:n,node:i})}))]),jg.config({channels:{[`update-active-item-${s}`]:{onReceive:(e,t)=>{o.set(T.some(t.value)),Wf.set(e,c(T.some(t.value),a.get()))}}}}),Wf.config({})])}})(e,t))),panel:$j(((e,t)=>((e,t)=>({dom:{tag:`div`,classes:e.classes},components:j(e.items,t.shared.interpreter)}))(e,t)))},tM={field:(e,t)=>t,record:b([])},nM=(e,t,n,r,i)=>{let a=B(r,{shared:{interpreter:t=>rM(e,t,n,a,i)}});return rM(e,t,n,a,i)},rM=(e,t,n,r,i)=>Me(eM,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(a=>a(e,t,n,r,i))),iM=(e,t,n,r)=>rM(tM,e,t,n,r),aM={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},oM=(e,t,n)=>{let r={maxHeightFunction:vl()};return()=>n()?{type:`node`,root:Tn(wn(e())),node:T.from(e()),bubble:hc(12,12,aM),layouts:{onRtl:()=>[sl],onLtr:()=>[ol]},overrides:r}:{type:`hotspot`,hotspot:t(),bubble:hc(-12,12,aM),layouts:{onRtl:()=>[Fc,Ic,Bc],onLtr:()=>[Ic,Fc,Bc]},overrides:r}},sM=(e,t,n,r)=>{let i={maxHeightFunction:vl()};return()=>r()?{type:`node`,root:Tn(wn(t())),node:T.from(t()),bubble:hc(12,12,aM),layouts:{onRtl:()=>[cl],onLtr:()=>[cl]},overrides:i}:e?{type:`node`,root:Tn(wn(t())),node:T.from(t()),bubble:hc(0,-xr(t()),aM),layouts:{onRtl:()=>[zc],onLtr:()=>[zc]},overrides:i}:{type:`hotspot`,hotspot:n(),bubble:hc(0,0,aM),layouts:{onRtl:()=>[zc],onLtr:()=>[zc]},overrides:i}},cM=(e,t,n)=>()=>n()?{type:`node`,root:Tn(wn(e())),node:T.from(e()),layouts:{onRtl:()=>[cl],onLtr:()=>[cl]}}:{type:`hotspot`,hotspot:t(),layouts:{onRtl:()=>[Bc],onLtr:()=>[Bc]}},lM=(e,t)=>()=>({type:`selection`,root:t(),getSelection:()=>{let t=e.selection.getRng(),n=e.model.table.getSelectedCells();if(n.length>1){let e=n[0],t=n[n.length-1],r={firstCell:V(e),lastCell:V(t)};return T.some(r)}return T.some(vi.range(V(t.startContainer),t.startOffset,V(t.endContainer),t.endOffset))}}),uM=e=>t=>({type:`node`,root:e(),node:t}),dM=(e,t,n,r)=>{let i=US(e),a=()=>V(e.getBody()),o=()=>V(e.getContentAreaContainer()),s=()=>i||!r();return{inlineDialog:oM(o,t,s),inlineBottomDialog:sM(e.inline,o,n,s),banner:cM(o,t,s),cursor:lM(e,a),node:uM(a)}},fM=e=>(t,n)=>{yk(e)(t,n)},pM=e=>()=>ak(e),mM=e=>t=>tk(e,t),hM=e=>t=>ik(e,t),gM=e=>()=>CS(e),_M=e=>Pe(e,`items`),vM=e=>Pe(e,`format`),yM=[{title:`Headings`,items:[{title:`Heading 1`,format:`h1`},{title:`Heading 2`,format:`h2`},{title:`Heading 3`,format:`h3`},{title:`Heading 4`,format:`h4`},{title:`Heading 5`,format:`h5`},{title:`Heading 6`,format:`h6`}]},{title:`Inline`,items:[{title:`Bold`,format:`bold`},{title:`Italic`,format:`italic`},{title:`Underline`,format:`underline`},{title:`Strikethrough`,format:`strikethrough`},{title:`Superscript`,format:`superscript`},{title:`Subscript`,format:`subscript`},{title:`Code`,format:`code`}]},{title:`Blocks`,items:[{title:`Paragraph`,format:`p`},{title:`Blockquote`,format:`blockquote`},{title:`Div`,format:`div`},{title:`Pre`,format:`pre`}]},{title:`Align`,items:[{title:`Left`,format:`alignleft`},{title:`Center`,format:`aligncenter`},{title:`Right`,format:`alignright`},{title:`Justify`,format:`alignjustify`}]}],bM=e=>P(e,((e,t)=>{if(Ne(t,`items`)){let n=bM(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(Ne(t,`inline`)||(e=>Ne(e,`block`))(t)||(e=>Ne(e,`selector`))(t)){let n=`custom-${a(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),xM=e=>nS(e).map((t=>{let n=((e,t)=>{let n=bM(t),r=t=>{M(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?r(n.customFormats):e.on(`init`,(()=>{r(n.customFormats)})),n.formats})(e,t);return rS(e)?yM.concat(n):n})).getOr(yM),SM=(e,t,n)=>({...e,type:`formatter`,isSelected:t(e.format),getStylePreview:n(e.format)}),CM=(e,t,n,r)=>{let i=t=>j(t,(t=>_M(t)?(e=>{let t=i(e.items);return{...e,type:`submenu`,getStyleItems:b(t)}})(t):vM(t)?(e=>SM(e,n,r))(t):(e=>{let t=xe(e);return t.length===1&&k(t,`title`)})(t)?{...t,type:`separator`}:(t=>{let i=a(t.name)?t.name:z(t.title),o=`custom-${i}`,s={...t,type:`formatter`,format:o,isSelected:n(o),getStylePreview:r(o)};return e.formatter.register(i,s),s})(t)));return i(t)},wM=e=>{let t=0,n=e=>[{dom:{tag:`div`,classes:[`tox-tooltip__body`]},components:[gp(e.tooltipText)]}];return{getConfig:r=>({delayForShow:()=>t>0?60:300,delayForHide:b(300),exclusive:!0,lazySink:e,tooltipDom:{tag:`div`,classes:[`tox-tooltip`,`tox-tooltip--up`]},tooltipComponents:n(r),onShow:(e,n)=>{t++,r.onShow&&r.onShow(e,n)},onHide:(e,n)=>{t--,r.onHide&&r.onHide(e,n)},onSetup:r.onSetup}),getComponents:n}},TM=TA.trim,EM=e=>t=>!!((e=>p(e)&&e.nodeType===1)(t)&&(t.contentEditable===e||t.getAttribute(`data-mce-contenteditable`)===e)),DM=EM(`true`),OM=EM(`false`),kM=(e,t,n,r,i)=>({type:e,title:t,url:n,level:r,attach:i}),AM=e=>e.innerText||e.textContent,jM=e=>(e=>e&&e.nodeName===`A`&&(e.id||e.name)!==void 0)(e)&&NM(e),MM=e=>e&&/^(H[1-6])$/.test(e.nodeName),NM=e=>(e=>{let t=e;for(;t=t.parentNode;){let e=t.contentEditable;if(e&&e!==`inherit`)return DM(t)}return!1})(e)&&!OM(e),PM=e=>MM(e)&&NM(e),FM=e=>{let t=(e=>e.id?e.id:z(`h`))(e);return kM(`header`,AM(e)??``,`#`+t,(e=>MM(e)?parseInt(e.nodeName.substr(1),10):0)(e),(()=>{e.id=t}))},IM=e=>{let t=e.id||e.name;return kM(`anchor`,AM(e)||`#`+t,`#`+t,0,_)},LM=e=>TM(e.title).length>0,RM=e=>{let t=(e=>j(ci(V(e),`h1,h2,h3,h4,h5,h6,a:not([href])`),(e=>e.dom)))(e);return N((e=>j(N(e,PM),FM))(t).concat((e=>j(N(e,jM),IM))(t)),LM)},zM=`tinymce-url-history`,BM=e=>a(e)&&/^https?/.test(e),VM=e=>o(e)&&Ae(e,(e=>{return!(c(t=e)&&t.length<=5&&fe(t,BM));var t})).isNone(),HM=()=>{let e=KO.getItem(zM);if(e===null)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log(`Local storage `+zM+` was not valid JSON`,e),{};throw e}return VM(t)?t:(console.log(`Local storage `+zM+` was not valid format`,t),{})},UM=e=>Me(HM(),e).getOr([]),WM=(e,t)=>{if(!BM(e))return;let n=HM(),r=N(Me(n,t).getOr([]),(t=>t!==e));n[t]=[e].concat(r).slice(0,5),(e=>{if(!VM(e))throw Error(`Bad format for history:
`+JSON.stringify(e));KO.setItem(zM,JSON.stringify(e))})(n)},GM=e=>!!e,KM=e=>we(TA.makeMap(e,/[, ]/),GM),qM=e=>T.from(gS(e)),JM=e=>T.from(e).filter(a).getOrUndefined(),YM=e=>({getHistory:UM,addToHistory:WM,getLinkInformation:()=>(e=>bS(e)?T.some({targets:RM(e.getBody()),anchorTop:JM(xS(e)),anchorBottom:JM(SS(e))}):T.none())(e),getValidationHandler:()=>(e=>T.from(_S(e)))(e),getUrlPicker:t=>((e,t)=>((e,t)=>{let n=(e=>{let t=T.from(yS(e)).filter(GM).map(KM);return qM(e).fold(w,(e=>t.fold(re,(e=>xe(e).length>0&&e))))})(e);return u(n)?n?qM(e):T.none():n[t]?qM(e):T.none()})(e,t).map((n=>r=>Ve((i=>{let s={filetype:t,fieldname:r.fieldname,...T.from(r.meta).getOr({})};n.call(e,((e,t)=>{if(!a(e))throw Error(`Expected value to be string`);if(t!==void 0&&!o(t))throw Error(`Expected meta to be a object`);i({value:e,meta:t})}),r.value,s)})))))(e,t)}),XM={skipFocus:`ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/`},ZM=_,QM=w,$M=b([]);var eN,tN=Object.freeze({__proto__:null,setup:ZM,isDocked:QM,getBehaviours:$M});let nN=b(z(`toolbar-height-change`)),rN={fadeInClass:`tox-editor-dock-fadein`,fadeOutClass:`tox-editor-dock-fadeout`,transitionClass:`tox-editor-dock-transition`},iN=`tox-tinymce--toolbar-sticky-on`,aN=`tox-tinymce--toolbar-sticky-off`,oN=(e,t)=>k(fm.getModes(e),t),sN=e=>{let t=e.element;mn(t).each((n=>{let r=`padding-`+fm.getModes(e)[0];fm.isDocked(e)?(W(t,`width`,wr(n)+`px`),W(n,r,(e=>xr(e)+(parseInt(dr(e,`margin-top`),10)||0)+(parseInt(dr(e,`margin-bottom`),10)||0))(t)+`px`)):(gr(t,`width`),gr(n,r))}))},cN=(e,t)=>{t?(ei(e,rN.fadeOutClass),ni(e,[rN.transitionClass,rN.fadeInClass])):(ei(e,rN.fadeInClass),ni(e,[rN.fadeOutClass,rN.transitionClass]))},lN=(e,t)=>{let n=V(e.getContainer());t?(Qr(n,iN),ei(n,aN)):(Qr(n,aN),ei(n,iN))},uN=(e,t)=>{let n=st(),r=t.getSink,i=e=>{r().each((t=>e(t.element)))},a=t=>{e.inline||sN(t),lN(e,fm.isDocked(t)),t.getSystem().broadcastOn([yu()],{}),r().each((e=>e.getSystem().broadcastOn([yu()],{})))},o=e.inline?[]:[jg.config({channels:{[nN()]:{onReceive:sN}}})];return[su.config({}),fm.config({contextual:{lazyContext:t=>{let n=xr(t.element),r=e.inline?e.getContentAreaContainer():e.getContainer();return T.from(r).map((r=>{let i=ji(V(r));return eC(e,t.element).fold((()=>{let e=i.height-n,r=i.y+(oN(t,`top`)?0:n);return Ai(i.x,r,i.width,e)}),(e=>{let r=Ni(i,tC(e)),a=oN(t,`top`)?r.y:r.y+n;return Ai(r.x,a,r.width,r.height-n)}))}))},onShow:()=>{i((e=>cN(e,!0)))},onShown:e=>{i((e=>ri(e,[rN.transitionClass,rN.fadeInClass]))),n.get().each((t=>{((e,t)=>{let n=ln(t);Rn(n).filter((e=>!Mt(t,e))).filter((t=>Mt(t,V(n.dom.body))||Nt(e,t))).each((()=>Fn(t)))})(e.element,t),n.clear()}))},onHide:e=>{((e,t)=>zn(e).orThunk((()=>t().toOptional().bind((e=>zn(e.element))))))(e.element,r).fold(n.clear,n.set),i((e=>cN(e,!1)))},onHidden:()=>{i((e=>ri(e,[rN.transitionClass])))},...rN},lazyViewport:t=>eC(e,t.element).fold((()=>{let n=Pi(),r=pS(e),i=n.y+(oN(t,`top`)&&!$S(e)?r:0),a=n.height-(oN(t,`bottom`)?r:0);return{bounds:Ai(n.x,i,n.width,a),optScrollEnv:T.none()}}),(e=>({bounds:tC(e),optScrollEnv:T.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:kr(e.element).top})}))),modes:[t.header.getDockingMode()],onDocked:a,onUndocked:a}),...o]};var dN=Object.freeze({__proto__:null,setup:(e,t,n)=>{e.inline||(t.header.isPositionedAtTop()||e.on(`ResizeEditor`,(()=>{n().each(fm.reset)})),e.on(`ResizeWindow ResizeEditor`,(()=>{n().each(sN)})),e.on(`SkinLoaded`,(()=>{n().each((e=>{fm.isDocked(e)?fm.reset(e):fm.refresh(e)}))})),e.on(`FullscreenStateChanged`,(()=>{n().each(fm.reset)}))),e.on(`AfterScrollIntoView`,(e=>{n().each((t=>{fm.refresh(t);let n=t.element;Sr(n)&&((e,t)=>{let n=ln(t),r=fn(t).dom.innerHeight,i=jr(n),a=V(e.elm),o=Mi(a),s=br(a),c=o.y,l=c+s,u=kr(t),d=br(t),f=u.top,p=f+d,m=Math.abs(f-i.top)<2,h=Math.abs(p-(i.top+r))<2;if(m&&c<p)Mr(i.left,c-d,n);else if(h&&l>f){let e=c-r+s+d;Mr(i.left,e,n)}})(e,n)}))})),e.on(`PostRender`,(()=>{lN(e,!1)}))},isDocked:e=>e().map(fm.isDocked).getOr(!1),getBehaviours:uN}),fN=Vm({factory:(e,t)=>{let n={focus:ff.focusIn,setMenus:(e,n)=>{let r=j(n,(e=>Cj(TE({type:`menubutton`,text:e.text,fetch:t=>{t(e.getItems())},context:`any`}).mapError((e=>Ta(e))).getOrDie(),`tox-mbtn`,t.backstage,T.some(`menuitem`))));Wf.set(e,r)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Y([Wf.config({}),ru(`menubar-events`,[Wl((t=>{e.onSetup(t)})),J(po(),((e,t)=>{Wr(e.element,`.tox-mbtn--active`).each((n=>{Gr(t.event.target,`.tox-mbtn`).each((t=>{Mt(n,t)||e.getSystem().getByDom(n).each((n=>{e.getSystem().getByDom(t).each((e=>{Rv.expand(e),Rv.close(n),su.focus(e)}))}))}))}))})),J(Ko(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((n=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{Rv.isOpen(n)&&(Rv.expand(e),Rv.close(n))}))}))}))]),ff.config({mode:`flow`,selector:`.tox-mbtn`,onEscape:t=>(e.onEscape(t),T.some(!0))}),u_.config({})]),apis:n,domModification:{attributes:{role:`menubar`}}}},name:`silver.Menubar`,configFields:[G(`dom`),G(`uid`),G(`onEscape`),G(`backstage`),K(`onSetup`,_)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,n)=>{e.setMenus(t,n)}}});let pN=e=>({element:()=>e.element.dom}),mN=(e,t)=>{let n=j(xe(t),(e=>{let n=t[e],r=Ca((e=>Sa(`sidebar`,wD,e))(n));return{name:e,getApi:pN,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return j(n,(t=>{let r=Ie(_);return e.slot(t.name,{dom:{tag:`div`,classes:[`tox-sidebar__pane`]},behaviours:MD([LD(t,r),RD(t,r),J(qo(),((e,t)=>{let r=t.event;le(n,(e=>e.name===r.name)).each((t=>{(r.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},hN=e=>rx.sketch((t=>({dom:{tag:`div`,classes:[`tox-sidebar__pane-container`]},components:mN(t,e),slotBehaviours:MD([Wl((e=>rx.hideAllSlots(e)))])}))),gN=(e,t)=>{Kn(e,`role`,t)},_N=e=>Ep.getCurrent(e).bind((e=>i_.isGrowing(e)||i_.hasGrown(e)?Ep.getCurrent(e).bind((e=>le(rx.getSlotNames(e),(t=>rx.isShowing(e,t))))):T.none())),vN=z(`FixSizeEvent`),yN=z(`AutoSizeEvent`),bN=e=>Ep.getCurrent(e).each((e=>Fn(e.element,!0))),xN=(e,t,n)=>{let r=Ie(!1),i=st(),a=n=>{var i;r.get()&&(!(e=>e.type===`focusin`)(i=n)||!(i.composed?L(i.composedPath()):T.from(i.target)).map(V).filter(rn).exists((e=>ti(e,`mce-pastebin`))))&&(n.preventDefault(),bN(t()),e.editorManager.setActive(e))};e.inline||e.on(`PreInit`,(()=>{e.dom.bind(e.getWin(),`focusin`,a),e.on(`BeforeExecCommand`,(e=>{e.command.toLowerCase()===`mcefocus`&&!0!==e.value&&a(e)}))}));let o=i=>{i!==r.get()&&(r.set(i),((e,t,n,r)=>{let i=t.element;if(((e,t)=>{let n=`tabindex`,r=`data-mce-${n}`;T.from(e.iframeElement).map(V).each((e=>{t?(Yn(e,n).each((t=>Kn(e,r,t))),Kn(e,n,-1)):(Zn(e,n),Yn(e,r).each((t=>{Kn(e,n,t),Zn(e,r)})))}))})(e,n),n)wp.block(t,(e=>(t,n)=>({dom:{tag:`div`,attributes:{"aria-label":e.translate(`Loading...`),tabindex:`0`},classes:[`tox-throbber__busy-spinner`]},components:[{dom:k_(`<div class="tox-spinner"><div></div><div></div><div></div></div>`)}]}))(r)),gr(i,`display`),Zn(i,`aria-hidden`),e.hasFocus()&&bN(t);else{let n=Ep.getCurrent(t).exists((e=>Ln(e.element)));wp.unblock(t),W(i,`display`,`none`),Kn(i,`aria-hidden`,`true`),n&&e.focus()}})(e,t(),i,n.providers),((e,t)=>{e.dispatch(`AfterProgressState`,{state:t})})(e,i))};e.on(`ProgressState`,(t=>{if(i.on(clearTimeout),h(t.time)){let n=Vx.setEditorTimeout(e,(()=>o(t.state)),t.time);i.set(n)}else o(t.state),i.clear()}))},SN=e=>{let t=e.label.isNone()?e.title.fold((()=>({})),(e=>({attributes:{"aria-label":e}}))):e.label.fold((()=>({})),(e=>({attributes:{"aria-label":e}})));return{dom:{tag:`div`,classes:[`tox-toolbar__group`].concat(e.label.isSome()?[`tox-toolbar__group_with_label`]:[]),...t},components:[...e.label.map((e=>({dom:{tag:`span`,classes:[`tox-label`,`tox-label--context-toolbar`]},components:[gp(e)]}))).toArray(),mx.parts.items({})],items:e.items,markers:{itemSelector:`.tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])`},tgroupBehaviours:Y([u_.config({}),su.config({ignore:!0})])}},CN=e=>mx.sketch(SN(e)),wN=(e,t)=>{let n=Wl((t=>{let n=j(e.initGroups,CN);Kv.setGroups(t,n)}));return Y([FD((()=>e.providers.checkUiComponentContext(`any`).shouldDisable)),KD((()=>e.providers.checkUiComponentContext(`any`))),ff.config({mode:t,onEscape:e.onEscape,visibilitySelector:`.tox-toolbar__overflow`,selector:`.tox-toolbar__group`}),ru(`toolbar-events`,[n])])},TN=e=>{let t=e.cyclicKeying?`cyclic`:`acyclic`;return{uid:e.uid,dom:{tag:`div`,classes:[`tox-toolbar-overlord`]},parts:{"overflow-group":SN({title:T.none(),label:T.none(),items:[]}),"overflow-button":Lj({context:`any`,name:`more`,icon:T.some(`more-drawer`),enabled:!0,tooltip:T.some(`Reveal or hide additional toolbar items`),primary:!1,buttonType:T.none(),borderless:!1},T.none(),e.providers,[],`overflow-button`)},splitToolbarBehaviours:wN(e,t)}},EN=e=>{let t=TN(e),n=_x.parts.primary({dom:{tag:`div`,classes:[`tox-toolbar__primary`]}});return _x.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{let t=e.moreDrawerData.lazyHeader().element,n=Mi(t),r=dn(t),i=Mi(r),a=Math.max(r.dom.scrollHeight,i.height);return Ai(n.x+4,i.y,n.width-8,a)},parts:{...t.parts,overflow:{dom:{tag:`div`,classes:[`tox-toolbar__overflow`],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:`tox-tbtn--enabled`},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},DN=e=>{let t=Sx.parts.primary({dom:{tag:`div`,classes:[`tox-toolbar__primary`]}}),n=Sx.parts.overflow({dom:{tag:`div`,classes:[`tox-toolbar__overflow`]}}),r=TN(e);return Sx.sketch({...r,components:[t,n],markers:{openClass:`tox-toolbar__overflow--open`,closedClass:`tox-toolbar__overflow--closed`,growingClass:`tox-toolbar__overflow--growing`,shrinkingClass:`tox-toolbar__overflow--shrinking`,overflowToggledClass:`tox-tbtn--enabled`},onOpened:t=>{t.getSystem().broadcastOn([nN()],{type:`opened`}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([nN()],{type:`closed`}),e.onToggled(t,!1)}})},ON=e=>{let t=e.cyclicKeying?`cyclic`:`acyclic`;return Kv.sketch({uid:e.uid,dom:{tag:`div`,classes:[`tox-toolbar`].concat(e.type===Rx.scrolling?[`tox-toolbar--scrolling`]:[])},components:[Kv.parts.groups({})],toolbarBehaviours:wN(e,t)})},kN=(e,t)=>((e,t)=>{let n=e.type===`togglebutton`,r=e.icon.map((e=>nj(e,t.icons))).map(A_),i={...e,name:n?e.text.getOr(e.icon.getOr(``)):e.text??e.icon.getOr(``),primary:e.buttonType===`primary`,buttonType:T.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},a=Rj(e.buttonType??`secondary`),o=n?e.text.map(t.translate):T.some(t.translate(e.text)),s=o.map(gp),c=i.tooltip.or(o).map((e=>({"aria-label":t.translate(e)}))).getOr({}),l=YD([r.map((e=>e.asSpec())),s]),u=e.icon.isSome()&&s.isSome(),d={tag:`button`,classes:a.concat(...e.icon.isSome()&&!u?[`tox-button--icon`]:[]).concat(...u?[`tox-button--icon-and-text`]:[]).concat(...e.borderless?[`tox-button--naked`]:[]).concat(...e.type===`togglebutton`&&e.active?[`tox-button--enabled`]:[]),attributes:c},f=Ij(i,T.some((i=>{let a=e=>{r.map((n=>n.getOpt(i).each((n=>{Wf.set(n,[nj(e,t.icons)])}))))};return n?e.onAction({setIcon:a,setActive:e=>{let t=i.element;e?(Qr(t,`tox-button--enabled`),Kn(t,`aria-pressed`,!0)):(ei(t,`tox-button--enabled`),Zn(t,`aria-pressed`))},isActive:()=>ti(i.element,`tox-button--enabled`),focus:()=>Fn(i.element)}):e.type===`button`?e.onAction({setIcon:a}):void 0})),[],d,l,e.tooltip,t);return U_.sketch(f)})(e,t),AN=Zt().deviceType,jN=AN.isPhone(),MN=AN.isTablet();var NN=Hm({name:`silver.View`,configFields:[G(`viewConfig`)],partFields:[qs({factory:{sketch:e=>{let t=!1,n=j(e.buttons,(n=>n.type===`group`?(t=!0,((e,t)=>({dom:{tag:`div`,classes:[`tox-view__toolbar__group`]},components:j(e.buttons,(e=>kN(e,t)))}))(n,e.providers)):kN(n,e.providers)));return{uid:e.uid,dom:{tag:`div`,classes:[t?`tox-view__toolbar`:`tox-view__header`,...jN||MN?[`tox-view--mobile`,`tox-view--scrolling`]:[]]},behaviours:Y([su.config({}),ff.config({mode:`flow`,selector:`button, .tox-button`,focusInside:Ss.OnEnterOrSpaceMode})]),components:t?n:[Um.sketch({dom:{tag:`div`,classes:[`tox-view__header-start`]},components:[]}),Um.sketch({dom:{tag:`div`,classes:[`tox-view__header-end`]},components:n})]}}},schema:[G(`buttons`),G(`providers`)],name:`header`}),qs({factory:{sketch:e=>({uid:e.uid,behaviours:Y([su.config({}),u_.config({})]),dom:{tag:`div`,classes:[`tox-view__pane`]}})},schema:[],name:`pane`})],factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Y([su.config({}),ff.config({mode:`cyclic`,focusInside:Ss.OnEnterOrSpaceMode})]),apis:{getPane:t=>j_.getPart(t,e,`pane`),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide}}),apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});let PN=(e,t,n)=>ke(t,((t,r)=>{let i=Ca(Sa(`view`,AD,t));return e.slot(r,NN.sketch({dom:{tag:`div`,classes:[`tox-view`]},viewConfig:i,components:[...i.buttons.length>0?[NN.parts.header({buttons:i.buttons,providers:n})]:[],NN.parts.pane({})]}))})),FN=(e,t)=>rx.sketch((n=>({dom:{tag:`div`,classes:[`tox-view-wrap__slot-container`]},components:PN(n,e,t),slotBehaviours:MD([Wl((e=>rx.hideAllSlots(e)))])}))),IN=e=>le(rx.getSlotNames(e),(t=>rx.isShowing(e,t))),LN=(e,t,n)=>{rx.getSlot(e,t).each((e=>{NN.getPane(e).each((t=>{var r;n(e)((r=t.element.dom,{getContainer:b(r)}))}))}))};var RN=Vm({factory:(e,t)=>{let n={setViews:(e,n)=>{Wf.set(e,[FN(n,t.backstage.shared.providers)])},whichView:e=>Ep.getCurrent(e).bind(IN),toggleView:(e,t,n,r)=>Ep.getCurrent(e).exists((i=>{let a=IN(i),o=a.exists((e=>r===e)),s=rx.getSlot(i,r).isSome();return s&&(rx.hideAllSlots(i),o?((e=>{let t=e.element;W(t,`display`,`none`),Kn(t,`aria-hidden`,`true`)})(e),t()):(n(),(e=>{let t=e.element;gr(t,`display`),Zn(t,`aria-hidden`)})(e),rx.showSlot(i,r),((e,t)=>{LN(e,t,NN.getOnShow)})(i,r)),a.each((e=>((e,t)=>LN(e,t,NN.getOnHide))(i,e)))),s}))};return{uid:e.uid,dom:{tag:`div`,classes:[`tox-view-wrap`],attributes:{"aria-hidden":`true`},styles:{display:`none`}},components:[],behaviours:Y([Wf.config({}),Ep.config({find:e=>L(Wf.contents(e))})]),apis:n}},name:`silver.ViewWrapper`,configFields:[G(`backstage`)],apis:{setViews:(e,t,n)=>e.setViews(t,n),toggleView:(e,t,n,r,i)=>e.toggleView(t,n,r,i),whichView:(e,t)=>e.whichView(t)}});let zN=M_.optional({factory:fN,name:`menubar`,schema:[G(`backstage`)]}),BN=M_.optional({factory:{sketch:e=>K_.sketch({uid:e.uid,dom:e.dom,listBehaviours:Y([ff.config({mode:`acyclic`,selector:`.tox-toolbar`})]),makeItem:()=>ON({type:e.type,uid:z(`multiple-toolbar-item`),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),T.some(!0))}),setupItem:(e,t,n,r)=>{Kv.setGroups(t,n)},shell:!0})},name:`multiple-toolbar`,schema:[G(`dom`),G(`onEscape`)]}),VN=M_.optional({factory:{sketch:e=>(e=>e.type===Rx.sliding?DN:e.type===Rx.floating?EN:ON)(e)({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),T.some(!0)),onToggled:(t,n)=>e.onToolbarToggled(n),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})},name:`toolbar`,schema:[G(`dom`),G(`onEscape`),G(`getSink`)]}),HN=M_.optional({factory:{sketch:e=>{let t=e.editor,n=e.sticky?uN:$M;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Y(n(t,e.sharedBackstage))}}},name:`header`,schema:[G(`dom`)]}),UN=M_.optional({factory:{sketch:e=>{let t=e.promotionLink?[{dom:{tag:`a`,attributes:{href:`https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral`,rel:`noopener`,target:`_blank`,"aria-hidden":`true`},classes:[`tox-promotion-link`],innerHtml:`💝 Get all features`}}]:[];return{uid:e.uid,dom:e.dom,components:t}}},name:`promotion`,schema:[G(`dom`),G(`promotionLink`)]}),WN=M_.optional({name:`socket`,schema:[G(`dom`)]}),GN=M_.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:`div`,classes:[`tox-sidebar`],attributes:{role:`presentation`}},components:[{dom:{tag:`div`,classes:[`tox-sidebar__slider`]},components:[],behaviours:Y([u_.config({}),su.config({}),i_.config({dimension:{property:`width`},closedClass:`tox-sidebar--sliding-closed`,openClass:`tox-sidebar--sliding-open`,shrinkingClass:`tox-sidebar--sliding-shrinking`,growingClass:`tox-sidebar--sliding-growing`,onShrunk:e=>{Ep.getCurrent(e).each(rx.hideAllSlots),Ol(e,yN)},onGrown:e=>{Ol(e,yN)},onStartGrow:e=>{kl(e,vN,{width:pr(e.element,`width`).getOr(``)})},onStartShrink:e=>{kl(e,vN,{width:wr(e.element)+`px`})}}),Wf.config({}),Ep.config({find:e=>L(Wf.contents(e))})])}],behaviours:Y([oA(0),ru(`sidebar-sliding-events`,[J(vN,((e,t)=>{W(e.element,`width`,t.event.width)})),J(yN,((e,t)=>{gr(e.element,`width`)}))])])})},name:`sidebar`,schema:[G(`dom`)]}),KN=M_.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:`div`,attributes:{"aria-hidden":`true`},classes:[`tox-throbber`],styles:{display:`none`}},behaviours:Y([Wf.config({}),wp.config({focus:!1}),Ep.config({find:e=>L(e.components())})]),components:[]})},name:`throbber`,schema:[G(`dom`)]}),qN=M_.optional({factory:RN,name:`viewWrapper`,schema:[G(`backstage`)]}),JN=M_.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:`div`,classes:[`tox-editor-container`]},components:e.components})},name:`editorContainer`,schema:[]});var YN=Hm({name:`OuterContainer`,factory:(e,t,n)=>{let r=!1,i=e=>{Hr(e,`.tox-statusbar`).each((e=>{dr(e,`display`)===`none`&&Jn(e,`aria-hidden`)===`true`?(gr(e,`display`),Zn(e,`aria-hidden`)):(W(e,`display`,`none`),Kn(e,`aria-hidden`,`true`))}))},o={getSocket:t=>j_.getPart(t,e,`socket`),setSidebar:(t,n,r)=>{j_.getPart(t,e,`sidebar`).each((e=>((e,t,n)=>{Ep.getCurrent(e).each((r=>{Wf.set(r,[hN(t)]);let i=n?.toLowerCase();a(i)&&Ne(t,i)&&Ep.getCurrent(r).each((t=>{rx.showSlot(t,i),i_.immediateGrow(r),gr(r.element,`width`),gN(e.element,`region`)}))}))})(e,n,r)))},toggleSidebar:(t,n)=>{j_.getPart(t,e,`sidebar`).each((e=>((e,t)=>{Ep.getCurrent(e).each((n=>{Ep.getCurrent(n).each((r=>{i_.hasGrown(n)?rx.isShowing(r,t)?(i_.shrink(n),gN(e.element,`presentation`)):(rx.hideAllSlots(r),rx.showSlot(r,t),gN(e.element,`region`)):(rx.hideAllSlots(r),rx.showSlot(r,t),i_.grow(n),gN(e.element,`region`))}))}))})(e,n)))},whichSidebar:t=>j_.getPart(t,e,`sidebar`).bind(_N).getOrNull(),getHeader:t=>j_.getPart(t,e,`header`),getToolbar:t=>j_.getPart(t,e,`toolbar`),setToolbar:(t,n)=>{j_.getPart(t,e,`toolbar`).each((e=>{let t=j(n,CN);e.getApis().setGroups(e,t)}))},setToolbars:(t,n)=>{j_.getPart(t,e,`multiple-toolbar`).each((e=>{let t=j(n,(e=>j(e,CN)));K_.setItems(e,t)}))},refreshToolbar:t=>{j_.getPart(t,e,`toolbar`).each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{j_.getPart(t,e,`toolbar`).each((e=>{nt(e.getApis().toggle,(t=>t(e)))}))},toggleToolbarDrawerWithoutFocusing:t=>{j_.getPart(t,e,`toolbar`).each((e=>{nt(e.getApis().toggleWithoutFocusing,(t=>t(e)))}))},isToolbarDrawerToggled:t=>j_.getPart(t,e,`toolbar`).bind((e=>T.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>j_.getPart(t,e,`throbber`),focusToolbar:t=>{j_.getPart(t,e,`toolbar`).orThunk((()=>j_.getPart(t,e,`multiple-toolbar`))).each((e=>{ff.focusIn(e)}))},setMenubar:(t,n)=>{j_.getPart(t,e,`menubar`).each((e=>{fN.setMenus(e,n)}))},focusMenubar:t=>{j_.getPart(t,e,`menubar`).each((e=>{fN.focus(e)}))},setViews:(t,n)=>{j_.getPart(t,e,`viewWrapper`).each((e=>{RN.setViews(e,n)}))},toggleView:(t,n)=>j_.getPart(t,e,`viewWrapper`).exists((e=>RN.toggleView(e,(()=>o.showMainView(t)),(()=>o.hideMainView(t)),n))),whichView:t=>j_.getPart(t,e,`viewWrapper`).bind(RN.whichView).getOrNull(),hideMainView:t=>{r=o.isToolbarDrawerToggled(t),r&&o.toggleToolbarDrawer(t),j_.getPart(t,e,`editorContainer`).each((e=>{let t=e.element;i(t),W(t,`display`,`none`),Kn(t,`aria-hidden`,`true`)}))},showMainView:t=>{r&&o.toggleToolbarDrawer(t),j_.getPart(t,e,`editorContainer`).each((e=>{let t=e.element;i(t),gr(t,`display`),Zn(t,`aria-hidden`)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:o,behaviours:e.behaviours}},configFields:[G(`dom`),G(`behaviours`)],partFields:[HN,zN,VN,BN,WN,GN,UN,KN,qN,JN],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,n,r)=>{e.setSidebar(t,n,r)},toggleSidebar:(e,t,n)=>{e.toggleSidebar(t,n)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,n)=>{e.setToolbar(t,n)},setToolbars:(e,t,n)=>{e.setToolbars(t,n)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,n)=>{e.setMenubar(t,n)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,n)=>{e.setViews(t,n)},toggleView:(e,t,n)=>e.toggleView(t,n),whichView:(e,t)=>e.whichView(t)}});let XN={file:{title:`File`,items:`newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations`},edit:{title:`Edit`,items:`undo redo | cut copy paste pastetext | selectall | searchreplace`},view:{title:`View`,items:`code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments`},insert:{title:`Insert`,items:`image video link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime`},format:{title:`Format`,items:`bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat`},tools:{title:`Tools`,items:`aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate`},table:{title:`Table`,items:`inserttable | cell row column | advtablesort | tableprops deletetable`},help:{title:`Help`,items:`help`}},ZN=e=>e.split(` `),QN=(e,t)=>{let n={...XN,...t.menus},r=xe(t.menus).length>0;return N(j(N(t.menubar===void 0||!0===t.menubar?ZN(`file edit view insert format tools table help`):ZN(!1===t.menubar?``:t.menubar),(e=>{let n=Ne(XN,e);return r?n||Me(t.menus,e).exists((e=>Ne(e,`items`))):n})),(r=>{let i=n[r];return((e,t,n)=>{let r=oS(n).split(/[ ,]/);return{text:e.title,getItems:()=>de(e.items,(e=>{let n=e.toLowerCase();return n.trim().length===0||ae(r,(e=>e===n))?[]:n===`separator`||n===`|`?[{type:`separator`}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}})({title:i.title,items:ZN(i.items)},t,e)})),(e=>e.getItems().length>0&&ae(e.getItems(),(e=>a(e)||e.type!==`separator`))))},$N=(e,t,n)=>(e.on(`remove`,(()=>n.unload(t))),n.load(t)),eP=(e,t,n,r)=>(e.on(`remove`,(()=>r.unloadRawCss(t))),r.loadRawCss(t,n)),tP=e=>T.from(tinymce.Resource.get(e)).filter(a),nP=(e,t,n=``)=>{let r=(e=>{let t=NS(e);return t?T.from(t):T.none()})(e).map((e=>((e,t)=>`ui/`+e+`/`+t)(e,`${t}.css`)));return tt(r,r.bind(tP),((e,t)=>({_kind:`load-raw`,key:e,css:t}))).getOrThunk((()=>({_kind:`load-stylesheet`,url:n+`/${t}${e.editorManager.suffix}.css`})))},rP=(e,t)=>{let n=e.ui.styleSheetLoader,r=nP(e,`skin`,t);switch(r._kind){case`load-raw`:let{key:t,css:i}=r;return eP(e,t,i,n),Promise.resolve();case`load-stylesheet`:let{url:a}=r;return $N(e,a,n);default:return Promise.resolve()}},iP=(e,t)=>{var n;if(n=V(e.getElement()),!En(n).isSome())return Promise.resolve();{let n=Hx.DOM.styleSheetLoader,r=nP(e,`skin.shadowdom`,t);switch(r._kind){case`load-raw`:let{key:t,css:i}=r;return eP(e,t,i,n),Promise.resolve();case`load-stylesheet`:let{url:a}=r;return $N(e,a,n);default:return Promise.resolve()}}},aP=(e,t)=>(async(e,t)=>{let n=IS(t);if(await((e,t,n)=>{let r=nP(e,t?`content.inline`:`content`,n);switch(r._kind){case`load-raw`:let{key:i,css:a}=r;return t?eP(e,i,a,e.ui.styleSheetLoader):e.on(`PostRender`,(()=>{eP(e,i,a,e.dom.styleSheetLoader)})),Promise.resolve();case`load-stylesheet`:let{url:o}=r;return n&&e.contentCSS.push(o),Promise.resolve();default:return Promise.resolve()}})(t,e,n),!PS(t)&&a(n))return Promise.all([rP(t,n),iP(t,n)]).then()})(e,t).then((e=>{let t=()=>{e._skinLoaded=!0,(e=>{e.dispatch(`SkinLoaded`)})(e)};return()=>{e.initialized?t():e.on(`init`,t)}})(t),(e=>()=>((e,t)=>{e.dispatch(`SkinLoadError`,t)})(e,{message:`Skin could not be loaded`}))(t)),oP=ee(aP,!1),sP=ee(aP,!0),cP=e=>({isEnabled:()=>!Bp.isDisabled(e),setEnabled:t=>Bp.set(e,!t),setText:t=>kl(e,ij,{text:t}),setIcon:t=>kl(e,aj,{icon:t})}),lP=e=>({setActive:t=>{__.set(e,t)},isActive:()=>__.isOn(e),isEnabled:()=>!Bp.isDisabled(e),setEnabled:t=>Bp.set(e,!t),setText:t=>kl(e,ij,{text:t}),setIcon:t=>kl(e,aj,{icon:t})}),uP=(e,t)=>e.map((e=>({"aria-label":t.translate(e)}))).getOr({}),dP=z(`focus-button`),fP=(e,t,n,r,i,a,o)=>{let s=t.map((e=>A_(rj(e,`tox-tbtn`,i)))),c=e.map((e=>A_(nj(e,i.icons))));return{dom:{tag:`button`,classes:[`tox-tbtn`].concat(t.isSome()?[`tox-tbtn--select`]:[]),attributes:{...uP(n,i),...p(o)?{"data-mce-name":o}:{}}},components:YD([c.map((e=>e.asSpec())),s.map((e=>e.asSpec()))]),eventOrder:{[co()]:[`focusing`,`alloy.base.behaviour`,ZA],[Ho()]:[ZA,`toolbar-group-button-events`],[Uo()]:[ZA,`toolbar-group-button-events`,`tooltipping`]},buttonBehaviours:Y([FD((()=>i.checkUiComponentContext(a).shouldDisable)),KD((()=>i.checkUiComponentContext(a))),ru(ZA,[Wl(((e,t)=>$A(e))),J(ij,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{Wf.set(e,[gp(i.translate(t.event.text))])}))})),J(aj,((e,t)=>{c.bind((t=>t.getOpt(e))).each((e=>{Wf.set(e,[nj(t.event.icon,i.icons)])}))})),J(co(),((e,t)=>{t.event.prevent(),Ol(e,dP)}))])].concat(r.getOr([])))}},pP=(e,t,n,r)=>{let i=Ie(_),a=fP(e.icon,e.text,e.tooltip,T.none(),n,e.context,r);return U_.sketch({dom:a.dom,components:a.components,eventOrder:QA,buttonBehaviours:{...Y([ru(`toolbar-button-events`,[(o={onAction:e.onAction,getApi:t.getApi},ql(((e,t)=>{ID(o,e)((t=>{kl(e,XA,{buttonApi:t}),o.onAction(t)}))}))),LD(t,i),RD(t,i)]),...e.tooltip.map((t=>D_.config(n.tooltips.getConfig({tooltipText:n.translate(t)+e.shortcut.map((e=>` (${$D(e)})`)).getOr(``)})))).toArray(),FD((()=>!e.enabled||n.checkUiComponentContext(e.context).shouldDisable)),KD((()=>n.checkUiComponentContext(e.context)))].concat(t.toolbarButtonBehaviours)),[ZA]:a.buttonBehaviours?.[ZA]}});var o},mP=(e,t,n,r)=>pP(e,{toolbarButtonBehaviours:n.length>0?[ru(`toolbarButtonWith`,n)]:[],getApi:cP,onSetup:e.onSetup},t,r),hP=(e,t,n,r)=>pP(e,{toolbarButtonBehaviours:[Wf.config({}),__.config({toggleClass:`tox-tbtn--enabled`,aria:{mode:`pressed`},toggleOnExecute:!1})].concat(n.length>0?[ru(`toolbarToggleButtonWith`,n)]:[]),getApi:lP,onSetup:e.onSetup},t,r),gP=(e,t,n)=>r=>Ve((e=>t.fetch(e))).map((i=>T.from(Lk(B(bk(z(`menu-value`),i,(n=>{t.onItemAction(e(r),n)}),t.columns,t.presets,_w.CLOSE_ON_EXECUTE,t.select.getOr(w),n),{movement:Sk(t.columns,t.presets),menuBehaviours:MD(t.columns===`auto`?[Wl(((e,n)=>{jD(e,4,Ow(t.presets)).each((({numRows:t,numColumns:n})=>{ff.setGridSize(e,t,n)}))}))]:[])}))))),_P=e=>{cy.getContent(e).each((e=>{Wr(e.element,`.tox-toolbar-slider__input,.tox-toolbar-textfield`).fold((()=>ff.focusIn(e)),Fn)}))},vP=z(`forward-slide`),yP=z(`backward-slide`),bP=z(`change-slide-event`),xP=`tox-pop--resizing`,SP=(e,t,n)=>ht(n)?e.translate(t):e.translate([t,e.translate(n)]),CP=(e,t)=>{let n=(n,i,a,o)=>{let s=e.shared.providers.translate(n.title);if(n.type===`separator`)return T.some({type:`separator`,text:s});if(n.type===`submenu`){let e=de(n.getStyleItems(),(e=>r(e,i,o)));return i===0&&e.length<=0?T.none():T.some({type:`nestedmenuitem`,text:s,enabled:e.length>0,getSubmenuItems:()=>de(n.getStyleItems(),(e=>r(e,i,o)))})}return T.some({type:`togglemenuitem`,text:s,icon:n.icon,active:n.isSelected(o),enabled:!a,onAction:t.onAction(n),...n.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},r=(e,r,i)=>{let a=e.type===`formatter`&&t.isInvalid(e);return r===0?a?[]:n(e,r,!1,i).toArray():n(e,r,a,i).toArray()},i=e=>{let n=t.getCurrentValue(),i=t.shouldHide?0:1;return de(e,(e=>r(e,i,n)))};return{validateItems:i,getFetch:(e,t)=>(n,r)=>{r(dj(i(t()),_w.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:T.none()}))}}},wP=(e,t)=>{let n=t.dataset,r=n.type===`basic`?()=>j(n.data,(e=>SM(e,t.isSelectedFor,t.getPreviewFor))):n.getData;return{items:CP(e,t),getStyleItems:r}},TP=(e,t,n,r,i,a)=>{let{items:o,getStyleItems:s}=wP(t,n),c=Ie(n.tooltip);return sj({context:`mode:design`,text:n.icon.isSome()?T.none():n.text,icon:n.icon,ariaLabel:T.some(n.tooltip),tooltip:T.none(),role:T.none(),fetch:o.getFetch(t,s),onSetup:t=>{let a=n=>t.setTooltip(SP(e,r(n.value),n.value));return e.on(i,a),BO(UO(e,`NodeChange`,(t=>{let r=t.getComponent();n.updateText(r),Bp.set(t.getComponent(),!e.selection.isEditable()||s().length===0)}))(t),(()=>e.off(i,a)))},getApi:e=>({getComponent:b(e),setTooltip:n=>{let r=t.shared.providers.translate(n);Kn(e.element,`aria-label`,r),c.set(n)}}),columns:1,presets:`normal`,classes:n.icon.isSome()?[]:[`bespoke`],dropdownBehaviours:[D_.config({...t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(n.tooltip),onShow:e=>{if(n.tooltip!==c.get()){let n=t.shared.providers.translate(c.get());D_.setComponents(e,t.shared.providers.tooltips.getComponents({tooltipText:n}))}}})})]},`tox-tbtn`,t.shared,a)};var EP;(function(e){e[e.SemiColon=0]=`SemiColon`,e[e.Space=1]=`Space`})(EP||={});let DP=(e,t,n)=>{let r=(i=((e,t)=>t===EP.SemiColon?e.replace(/;$/,``).split(`;`):e.split(` `))(e.options.get(t),n),j(i,(e=>{let t=e,n=e,r=e.split(`=`);return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}})));var i;return{type:`basic`,data:r}},OP=b(`Alignment {0}`),kP=`left`,AP=[{title:`Left`,icon:`align-left`,format:`alignleft`,command:`JustifyLeft`},{title:`Center`,icon:`align-center`,format:`aligncenter`,command:`JustifyCenter`},{title:`Right`,icon:`align-right`,format:`alignright`,command:`JustifyRight`},{title:`Justify`,icon:`align-justify`,format:`alignjustify`,command:`JustifyFull`}],jP=e=>{let t={type:`basic`,data:AP};return{tooltip:SP(e,OP(),kP),text:T.none(),icon:T.some(`align-left`),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:e=>T.none,onAction:t=>()=>le(AP,(e=>e.format===t.format)).each((t=>e.execCommand(t.command))),updateText:t=>{let n=le(AP,(t=>e.formatter.match(t.format))).fold(b(kP),(e=>e.title.toLowerCase()));kl(t,aj,{icon:`align-${n}`}),((e,t)=>{e.dispatch(`AlignTextUpdate`,t)})(e,{value:n})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},MP=(e,t)=>{let n=t(),r=j(n,(e=>e.format));return T.from(e.formatter.closest(r)).bind((e=>le(n,(t=>t.format===e))))},NP=b(`Block {0}`),PP=`Paragraph`,FP=e=>{let t=DP(e,`block_formats`,EP.SemiColon);return{tooltip:SP(e,NP(),PP),text:T.some(PP),icon:T.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:t=>()=>{let n=e.formatter.get(t);return n?T.some({tag:n.length>0&&(n[0].inline||n[0].block)||`div`,styles:e.dom.parseStyle(e.formatter.getCssText(t))}):T.none()},onAction:WO(e),updateText:n=>{let r=MP(e,(()=>t.data)).fold(b(PP),(e=>e.title));kl(n,ij,{text:r}),((e,t)=>{e.dispatch(`BlocksTextUpdate`,t)})(e,{value:r})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},IP=b(`Font {0}`),LP=`System Font`,RP=[`-apple-system`,`Segoe UI`,`Roboto`,`Helvetica Neue`,`sans-serif`],zP=e=>j(e.split(/\s*,\s*/),(e=>e.replace(/^['"]+|['"]+$/g,``))),BP=(e,t)=>t.length>0&&fe(t,(t=>e.indexOf(t.toLowerCase())>-1)),VP=e=>{let t=()=>{let t=e=>e?zP(e)[0]:``,r=e.queryCommandValue(`FontName`),i=n.data,a=r?r.toLowerCase():``,o=MS(e);return{matchOpt:le(i,(e=>{let n=e.format;return n.toLowerCase()===a||t(n).toLowerCase()===t(a).toLowerCase()})).orThunk((()=>rt(((e,t)=>{if(e.indexOf(`-apple-system`)===0||t.length>0){let n=zP(e.toLowerCase());return BP(n,RP)||BP(n,t)}return!1})(a,o),{title:LP,format:a}))),font:r}},n=DP(e,`font_family_formats`,EP.SemiColon);return{tooltip:SP(e,IP(),LP),text:T.some(LP),icon:T.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getCurrentValue:()=>{let{matchOpt:e}=t();return e},getPreviewFor:e=>()=>T.some({tag:`div`,styles:e.indexOf(`dings`)===-1?{"font-family":e}:{}}),onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand(`FontName`,!1,t.format)}))},updateText:n=>{let{matchOpt:r,font:i}=t(),a=r.fold(b(i),(e=>e.title));kl(n,ij,{text:a}),((e,t)=>{e.dispatch(`FontFamilyTextUpdate`,t)})(e,{value:a})},dataset:n,shouldHide:!1,isInvalid:w}};var HP=tinymce.util.Tools.resolve(`tinymce.util.VK`);let UP=b(`Font size {0}`),WP=`12pt`,GP={"8pt":`1`,"10pt":`2`,"12pt":`3`,"14pt":`4`,"18pt":`5`,"24pt":`6`,"36pt":`7`},KP={"xx-small":`7pt`,"x-small":`8pt`,small:`10pt`,medium:`12pt`,large:`14pt`,"x-large":`18pt`,"xx-large":`24pt`},qP=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{let n=10**t;return Math.round(e*n)/n})(72*parseInt(e,10)/96,t||0)+`pt`:Me(KP,e).getOr(e),JP=e=>Me(GP,e).getOr(``),YP=e=>{let t=()=>{let t=T.none(),n=r.data,i=e.queryCommandValue(`FontSize`);if(i)for(let e=3;t.isNone()&&e>=0;e--){let r=qP(i,e),a=JP(r);t=le(n,(e=>e.format===i||e.format===r||e.format===a))}return{matchOpt:t,size:i}},n=b(T.none),r=DP(e,`font_size_formats`,EP.Space);return{tooltip:SP(e,UP(),WP),text:T.some(WP),icon:T.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getPreviewFor:n,getCurrentValue:()=>{let{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand(`FontSize`,!1,t.format)}))},updateText:n=>{let{matchOpt:r,size:i}=t(),a=r.fold(b(i),(e=>e.title));kl(n,ij,{text:a}),((e,t)=>{e.dispatch(`FontSizeTextUpdate`,t)})(e,{value:a})},dataset:r,shouldHide:!1,isInvalid:w}},XP=e=>ht(e)?`Formats`:`Format {0}`,ZP=(e,t)=>{let n=`Formats`;return{tooltip:SP(e,XP(``),``),text:T.some(n),icon:T.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:t=>()=>{let n=e.formatter.get(t);return n===void 0?T.none():T.some({tag:n.length>0&&(n[0].inline||n[0].block)||`div`,styles:e.dom.parseStyle(e.formatter.getCssText(t))})},onAction:WO(e),updateText:t=>{let r=e=>_M(e)?de(e.items,r):vM(e)?[{title:e.title,format:e.format}]:[],i=MP(e,b(de(xM(e),r))).fold(b({title:n,tooltipLabel:``}),(e=>({title:e.title,tooltipLabel:e.title})));kl(t,ij,{text:i.title}),((e,t)=>{e.dispatch(`StylesTextUpdate`,t)})(e,{value:i.tooltipLabel})},shouldHide:iS(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},QP=[{name:`history`,items:[`undo`,`redo`]},{name:`ai`,items:[`aidialog`,`aishortcuts`]},{name:`styles`,items:[`styles`]},{name:`formatting`,items:[`bold`,`italic`]},{name:`alignment`,items:[`alignleft`,`aligncenter`,`alignright`,`alignjustify`]},{name:`indentation`,items:[`outdent`,`indent`]},{name:`permanent pen`,items:[`permanentpen`]},{name:`comments`,items:[`addcomment`]}],$P=(e,t)=>(n,r,i,a)=>t(e(n).mapError((e=>Ta(e))).getOrDie(),r,i,a),eF={button:$P(ZE,((e,t,n,r)=>((e,t,n)=>mP(e,t,[],n))(e,t.shared.providers,r))),togglebutton:$P(eD,((e,t,n,r)=>((e,t,n)=>hP(e,t,[],n))(e,t.shared.providers,r))),menubutton:$P(TE,((e,t,n,r)=>Cj(e,`tox-tbtn`,t,T.none(),!1,r))),splitbutton:$P((e=>Sa(`SplitButton`,ED,e)),((e,t,n,r)=>((e,t,n)=>{let r=Ie(_),i=Ie(e.tooltip.getOr(``)),a=((e,t,n)=>r=>{let i=r.getSystem(),a=r.element,o=()=>{let e=ti(a,`tox-split-button__chevron`);return{mainOpt:e?gn(a).bind((e=>i.getByDom(e).toOptional())):T.some(r),chevronOpt:e?T.some(r):_n(a).bind((e=>i.getByDom(e).toOptional().filter((e=>ti(e.element,`tox-split-button__chevron`)))))}},s=e=>{let{mainOpt:t,chevronOpt:n}=o();t.each(e),n.each(e)};return{isEnabled:()=>{let{mainOpt:e}=o();return e.exists((e=>!Bp.isDisabled(e)))},setEnabled:e=>s((t=>Bp.set(t,!e))),setText:e=>{let{mainOpt:t}=o();t.each((t=>kl(t,ij,{text:e})))},setIcon:e=>{let{mainOpt:t}=o();t.each((t=>kl(t,aj,{icon:e})))},setIconFill:(e,t)=>s((n=>{Wr(n.element,`svg path[class="${e}"], rect[class="${e}"]`).each((e=>{Kn(e,`fill`,t)}))})),isActive:()=>{let{mainOpt:e}=o();return e.exists((e=>__.isOn(e)))},setActive:e=>{let{mainOpt:t}=o();t.each((t=>__.set(t,e)))},setTooltip:r=>{e.set(r);let{mainOpt:i,chevronOpt:a}=o();i.each((e=>Kn(e.element,`aria-label`,t.providers.translate(r))));let s=n.chevronTooltip.map((e=>t.providers.translate(e))).getOr(t.providers.translate(`${r} menu`));a.each((e=>Kn(e.element,`aria-label`,s)))}}})(i,t,e),o=z(`tox-split-menu`),s=Ie(!1),c=()=>e.tooltip.map((e=>t.providers.translate(e))).getOr(t.providers.translate(`Text color`)),l=()=>e.chevronTooltip.map((e=>t.providers.translate(e))).getOrThunk((()=>{let e=c();return t.providers.translate([`{0} menu`,e])})),u=(e,t)=>{s.set(e),Kn(t.element,`aria-expanded`,String(e))},d=Rv.sketch({dom:{tag:`button`,classes:[`tox-tbtn`,`tox-split-button__chevron`],innerHtml:lw(`chevron-down`,t.providers.icons),attributes:{"aria-label":l(),...p(n)?{"data-mce-name":n+`-chevron`}:{},"aria-haspopup":`menu`,"aria-expanded":String(s.get()),"aria-controls":o}},components:[],toggleClass:`tox-tbtn--enabled`,dropdownBehaviours:Y([ru(`split-dropdown-events`,[Wl(((e,t)=>$A(e))),LD({getApi:a,onSetup:e.onSetup},r),J(`alloy-dropdown-open`,(e=>u(!0,e))),J(`alloy-dropdown-close`,(e=>u(!1,e)))]),FD((()=>t.providers.checkUiComponentContext(e.context).shouldDisable)),KD((()=>t.providers.checkUiComponentContext(e.context))),O_.config({}),D_.config(t.providers.tooltips.getConfig({tooltipText:l(),onShow:n=>{if(i.get()!==e.tooltip.getOr(``)){let r=e.chevronTooltip.map((e=>t.providers.translate(e))).getOr(`${t.providers.translate(i.get())} menu`);D_.setComponents(n,t.providers.tooltips.getComponents({tooltipText:r}))}}}))]),lazySink:t.getSink,fetch:gP(a,e,t.providers),getHotspot:e=>gn(e.element).bind((t=>e.getSystem().getByDom(t).toOptional())),onOpen:(e,t,n)=>{zu.highlightBy(n,(e=>ti(e.element,`tox-collection__item--active`))),zu.getHighlighted(n).each(ff.focusIn)},parts:{menu:{...Pw(0,e.columns,e.presets),dom:{...Pw(0,e.columns,e.presets).dom,tag:`div`,attributes:{id:o}}}}}),f=fP(e.icon,e.text,T.none(),T.some([__.config({toggleClass:`tox-tbtn--enabled`,aria:e.presets===`color`?{mode:`none`}:{mode:`pressed`},toggleOnExecute:!1}),...e.tooltip.isSome()?[D_.config(t.providers.tooltips.getConfig({tooltipText:t.providers.translate(e.tooltip.getOr(``)),onShow:n=>{if(i.get()!==e.tooltip.getOr(``)){let e=t.providers.translate(i.get());D_.setComponents(n,t.providers.tooltips.getComponents({tooltipText:e}))}}}))]:[]]),t.providers,e.context,n);return[U_.sketch({dom:{...f.dom,classes:[`tox-tbtn`,`tox-split-button__main`].concat(e.text.isSome()?[`tox-tbtn--select`]:[]),attributes:{"aria-label":c(),...p(n)?{"data-mce-name":n}:{}}},components:f.components,eventOrder:f.eventOrder,buttonBehaviours:f.buttonBehaviours,action:t=>{if(e.onAction){let n=a(t);n.isEnabled()&&e.onAction(n)}}}),d]})(e,t.shared,r))),grouptoolbarbutton:$P((e=>Sa(`GroupToolbarButton`,TD,e)),((e,t,n,r)=>{let i=n.ui.registry.getAll().buttons,a={[xl]:t.shared.header.isPositionedAtTop()?bl.TopToBottom:bl.BottomToTop};if(sS(n)===Rx.floating)return((e,t,n,r,i)=>{let a=t.shared,o=Ie(_),s={toolbarButtonBehaviours:[],getApi:cP,onSetup:e.onSetup},c=[ru(`toolbar-group-button-events`,[LD(s,o),RD(s,o)]),...e.tooltip.map((e=>D_.config(t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(e)})))).toArray()];return $v.sketch({lazySink:a.getSink,fetch:()=>Ve((t=>{t(j(n(e.items),CN))})),markers:{toggledClass:`tox-tbtn--enabled`},parts:{button:fP(e.icon,e.text,e.tooltip,T.some(c),a.providers,e.context,i),toolbar:{dom:{tag:`div`,classes:[`tox-toolbar__overflow`],attributes:r}}}})})(e,t,(e=>nF(n,{buttons:i,toolbar:e,allowToolbarGroups:!1},t,T.none())),a,r);throw Error(`Toolbar groups are only supported when using floating toolbar mode`)}))},tF={styles:(e,t)=>TP(e,t,ZP(e,{type:`advanced`,...t.styles}),XP,`StylesTextUpdate`,`styles`),fontsize:(e,t)=>TP(e,t,YP(e),UP,`FontSizeTextUpdate`,`fontsize`),fontsizeinput:(e,t)=>((e,t,n,r)=>{let i=T.none(),a=UO(e,`NodeChange SwitchMode DisabledStateChange`,(t=>{let r=t.getComponent();i=T.some(r),n.updateInputValue(r),Bp.set(r,!e.selection.isEditable()||Yx(e))})),o=e=>({getComponent:b(e)}),s=Ie(_),c=z(`custom-number-input-events`),l=(e,t,r)=>{let a=i.map((e=>Q.getValue(e))).getOr(``),o=n.getNewValue(a,e),s=a.length-`${o}`.length,c=i.map((e=>e.element.dom.selectionStart-s)),l=i.map((e=>e.element.dom.selectionEnd-s));n.onAction(o,r),i.each((e=>{Q.setValue(e,o),t&&(c.each((t=>e.element.dom.selectionStart=t)),l.each((t=>e.element.dom.selectionEnd=t)))}))},u=(e,t)=>l(((e,t)=>e-t),e,t),d=(e,t)=>l(((e,t)=>e+t),e,t),f=e=>mn(e.element).fold(T.none,(e=>(Fn(e),T.some(!0)))),m=e=>Ln(e.element)?(bn(e.element).each((e=>Fn(e))),T.some(!0)):T.none(),h=(n,r,i,a)=>{let s=Ie(_),c=t.shared.providers.translate(i),l=z(`altExecuting`),u=UO(e,`NodeChange SwitchMode DisabledStateChange`,(t=>{Bp.set(t.getComponent(),!e.selection.isEditable()||Yx(e))})),d=e=>{Bp.isDisabled(e)||n(!0)};return U_.sketch({dom:{tag:`button`,attributes:{"aria-label":c,"data-mce-name":r},classes:a.concat(r)},components:[tj(r,t.shared.providers.icons)],buttonBehaviours:Y([Bp.config({}),D_.config(t.shared.providers.tooltips.getConfig({tooltipText:c})),ru(l,[LD({onSetup:u,getApi:o},s),RD({getApi:o},s),J(go(),((e,t)=>{t.event.raw.keyCode!==HP.SPACEBAR&&t.event.raw.keyCode!==HP.ENTER||Bp.isDisabled(e)||n(!1)})),J(bo(),d),J(oo(),d)])]),eventOrder:{[go()]:[l,`keying`],[bo()]:[l,`alloy.base.behaviour`],[oo()]:[l,`alloy.base.behaviour`],[Ho()]:[`alloy.base.behaviour`,l,`tooltipping`],[Uo()]:[l,`tooltipping`]}})},g=A_(h((e=>u(!1,e)),`minus`,`Decrease font size`,[])),v=A_(h((e=>d(!1,e)),`plus`,`Increase font size`,[])),y=A_({dom:{tag:`div`,classes:[`tox-input-wrapper`]},components:[py.sketch({inputBehaviours:Y([Bp.config({}),ru(c,[LD({onSetup:a,getApi:o},s),RD({getApi:o},s)]),ru(`input-update-display-text`,[J(ij,((e,t)=>{Q.setValue(e,t.event.text)})),J(ho(),(e=>{n.onAction(Q.getValue(e))})),J(yo(),(e=>{n.onAction(Q.getValue(e))}))]),ff.config({mode:`special`,onEnter:e=>(l(x,!0,!0),T.some(!0)),onEscape:f,onUp:e=>(d(!0,!1),T.some(!0)),onDown:e=>(u(!0,!1),T.some(!0)),onLeft:(e,t)=>(t.cut(),T.none()),onRight:(e,t)=>(t.cut(),T.none())})])})],behaviours:Y([su.config({}),ff.config({mode:`special`,onEnter:m,onSpace:m,onEscape:f}),ru(`input-wrapper-events`,[J(po(),(e=>{M([g,v],(t=>{let n=V(t.get(e).element.dom);Ln(n)&&In(n)}))}))])])});return{dom:{tag:`div`,classes:[`tox-number-input`],attributes:{...p(r)?{"data-mce-name":r}:{}}},components:[g.asSpec(),y.asSpec(),v.asSpec()],behaviours:Y([su.config({}),ff.config({mode:`flow`,focusInside:Ss.OnEnterOrSpaceMode,cycles:!1,selector:`button, .tox-input-wrapper`,onEscape:e=>Ln(e.element)?T.none():(Fn(e.element),T.some(!0))})])}})(e,t,(e=>{let t=()=>e.queryCommandValue(`FontSize`);return{updateInputValue:e=>kl(e,ij,{text:t()}),onAction:(t,n)=>e.execCommand(`FontSize`,!1,t,{skip_focus:!n}),getNewValue:(n,r)=>{wi(n,[`unsupportedLength`,`empty`]);let i=t(),a=wi(n,[`unsupportedLength`,`empty`]).or(wi(i,[`unsupportedLength`,`empty`])),o=a.map((e=>e.value)).getOr(16),s=vS(e),c=a.map((e=>e.unit)).filter((e=>e!==``)).getOr(s),l=r(o,(e=>({em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}})[e]??{step:1})(c).step),u=`${(e=>e>=0)(l)?l:o}${c}`;return u!==i&&((e,t)=>{e.dispatch(`FontSizeInputTextUpdate`,t)})(e,{value:u}),u}}})(e),`fontsizeinput`),fontfamily:(e,t)=>TP(e,t,VP(e),IP,`FontFamilyTextUpdate`,`fontfamily`),blocks:(e,t)=>TP(e,t,FP(e),NP,`BlocksTextUpdate`,`blocks`),align:(e,t)=>TP(e,t,jP(e),OP,`AlignTextUpdate`,`align`),navigateback:(e,t)=>mP(Ca(ZE({type:`button`,icon:`chevron-left`,tooltip:`Back`,onAction:_})),t.shared.providers,[J(XA,(e=>{Ol(e,yP)}))])},nF=(e,t,n,r)=>N(j((e=>{let t=e.toolbar,n=e.buttons;return!1===t?[]:t===void 0||!0===t?(e=>N(j(QP,(t=>{let n=N(t.items,(t=>Ne(e,t)||Ne(tF,t)));return{name:t.name,items:n}})),(e=>e.items.length>0)))(n):a(t)?(e=>j(e.split(`|`),(e=>({items:e.trim().split(` `)}))))(t):(e=>g(e,(e=>(Ne(e,`name`)||Ne(e,`label`))&&Ne(e,`items`))))(t)?t:(console.error(`Toolbar type should be string, string[], boolean or ToolbarGroup[]`),[])})(t),(i=>{let a=de(i.items,(i=>i.trim().length===0?[]:((e,t,n,r,i,a)=>Me(t,n.toLowerCase()).orThunk((()=>a.bind((e=>be(e,(e=>Me(t,e+n.toLowerCase()))))))).fold((()=>Me(tF,n.toLowerCase()).map((t=>t(e,i)))),(t=>t.type!==`grouptoolbarbutton`||r?((e,t,n,r)=>Me(eF,e.type).fold((()=>(console.error(`skipping button defined by`,e),T.none())),(i=>T.some(i(e,t,n,r)))))(t,i,e,n.toLowerCase()):(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),T.none()))))(e,t.buttons,i,t.allowToolbarGroups,n,r).map((e=>Array.isArray(e)?e:[e])).getOr([])));return{title:T.from(e.translate(i.name)),label:rt(i.label!==void 0,e.translate(i.label)),items:a}})),(e=>e.items.length>0)),rF=(e,t,n,r)=>{let i=t.mainUi.outerContainer,o=n.toolbar,s=n.buttons;if(g(o,a)){let t=o.map((t=>nF(e,{toolbar:t,buttons:s,allowToolbarGroups:n.allowToolbarGroups},r,T.none())));YN.setToolbars(i,t)}else YN.setToolbar(i,nF(e,n,r,T.none()))},iF=Zt(),aF=iF.os.isiOS()&&iF.os.version.major<=12;var oF=Object.freeze({__proto__:null,render:(e,t,n,r,i)=>{let{mainUi:a,uiMotherships:o}=t,s=Ie(0),c=a.outerContainer;oP(e);let u=V(i.targetNode),d=Tn(wn(u));kf(u,a.mothership),((e,t,n)=>{qS(e)&&kf(n.mainUi.mothership.element,n.popupUi.mothership),Of(t,n.dialogUi.mothership)})(e,d,t),e.on(`PostRender`,(()=>{YN.setSidebar(c,n.sidebar,kS(e))})),e.on(`SkinLoaded`,(()=>{rF(e,t,n,r),s.set(e.getWin().innerWidth),YN.setMenubar(c,QN(e,n)),YN.setViews(c,n.views),((e,t)=>{let{uiMotherships:n}=t,r=e.dom,i=e.getWin(),a=e.getDoc().documentElement,o=Ie(Dr(i.innerWidth,i.innerHeight)),s=Ie(Dr(a.offsetWidth,a.offsetHeight)),c=()=>{let t=o.get();t.left===i.innerWidth&&t.top===i.innerHeight||(o.set(Dr(i.innerWidth,i.innerHeight)),IO(e))},l=()=>{let t=e.getDoc().documentElement,n=s.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(s.set(Dr(t.offsetWidth,t.offsetHeight)),IO(e))},u=t=>{((e,t)=>{e.dispatch(`ScrollContent`,t)})(e,t)};r.bind(i,`resize`,c),r.bind(i,`scroll`,u);let d=Nn(V(e.getBody()),`load`,l);e.on(`hide`,(()=>{M(n,(e=>{W(e.element,`display`,`none`)}))})),e.on(`show`,(()=>{M(n,(e=>{gr(e.element,`display`)}))})),e.on(`NodeChange`,l),e.on(`remove`,(()=>{d.unbind(),r.unbind(i,`resize`,c),r.unbind(i,`scroll`,u),i=null}))})(e,t)}));let f=YN.getSocket(c).getOrDie(`Could not find expected socket element`);if(aF){lr(f.element,{overflow:`scroll`,"-webkit-overflow-scrolling":`touch`});let t=(e=>{let t=null;return{cancel:()=>{l(t)||(clearTimeout(t),t=null)},throttle:(...n)=>{l(t)&&(t=setTimeout((()=>{t=null,e.apply(null,n)}),20))}}})((()=>{e.dispatch(`ScrollContent`)})),n=Mn(f.element,`scroll`,t.throttle);e.on(`remove`,n.unbind)}GD(e,t),e.addCommand(`ToggleSidebar`,((t,n)=>{YN.toggleSidebar(c,n),(e=>{e.dispatch(`ToggleSidebar`)})(e)})),e.addQueryValueHandler(`ToggleSidebar`,(()=>YN.whichSidebar(c)??``)),e.addCommand(`ToggleView`,((t,n)=>{if(YN.toggleView(c,n)){let t=c.element;a.mothership.broadcastOn([vu()],{target:t}),M(o,(e=>{e.broadcastOn([vu()],{target:t})})),l(YN.whichView(c))&&(e.focus(),e.nodeChanged(),YN.refreshToolbar(c)),(e=>{e.dispatch(`ToggleView`)})(e)}})),e.addQueryValueHandler(`ToggleView`,(()=>YN.whichView(c)??``));let p=sS(e);return p!==Rx.sliding&&p!==Rx.floating||e.on(`ResizeWindow ResizeEditor ResizeContent`,(()=>{let n=e.getWin().innerWidth;n!==s.get()&&(YN.refreshToolbar(t.mainUi.outerContainer),s.set(n))})),{iframeContainer:f.element.dom,editorContainer:c.element.dom,api:{setEnabled:e=>{WD(t,e?`setEnabled`:`setDisabled`)},isEnabled:()=>!Bp.isDisabled(c)}}}});let sF=e=>h(e)?e+`px`:e,cF=(e,t,n)=>{let r=t.filter((t=>e<t)),i=n.filter((t=>e>t));return r.or(i).getOr(e)},lF=e=>{let t=Zx(e),n=Qx(e),r=eS(e);return(i=t,/^[0-9\.]+(|px)$/i.test(``+i)?T.some(parseInt(``+i,10)):T.none()).map((e=>cF(e,n,r)));var i},{ToolbarLocation:uF,ToolbarMode:dF}=YS,fF=(e,t,n,r,i)=>{let{mainUi:a,uiMotherships:o}=n,s=Hx.DOM,c=US(e),l=KS(e),u=eS(e).or(lF(e)),d=r.shared.header,f=d.isPositionedAtTop,p=sS(e),m=p===dF.sliding||p===dF.floating,h=Ie(!1),g=()=>h.get()&&!e.removed,_=e=>m?e.fold(b(0),(e=>e.components().length>1?br(e.components()[1].element):0)):0,v=()=>{M(o,(e=>{e.broadcastOn([yu()],{})}))},y=n=>{if(!g())return;c||i.on((e=>{let n=u.getOrThunk((()=>Ei().width-Ar(t).left-10));W(e.element,`max-width`,n+`px`)}));let r=jr(),o=!(c||c||!(kr(a.outerContainer.element).left+Tr(a.outerContainer.element)>=window.innerWidth-40||pr(a.outerContainer.element,`width`).isSome())||(W(a.outerContainer.element,`position`,`absolute`),W(a.outerContainer.element,`left`,`0px`),gr(a.outerContainer.element,`width`),0));if(m&&YN.refreshToolbar(a.outerContainer),!c){let n=jr(),s=rt(r.left!==n.left,r);((n,r)=>{i.on((i=>{let o=_(YN.getToolbar(a.outerContainer)),s=ji(t),c=((e,t)=>qS(e)?Ii(t):T.none())(e,a.outerContainer.element),l=c.fold((()=>s.x),(e=>{let t=ji(e);return Mt(e,ar())?s.x:s.x-t.x})),u=rt(n,Math.ceil(a.outerContainer.element.dom.getBoundingClientRect().width)).filter((e=>e>150)).map((e=>{let t=r.getOr(jr()),n=window.innerWidth-(l-t.left),i=Math.max(Math.min(e,n),150);return n<e&&W(a.outerContainer.element,`width`,i+`px`),{width:i+`px`}})).getOr({width:`max-content`}),d={position:`absolute`,left:Math.round(l)+`px`,top:c.fold((()=>f()?Math.max(s.y-br(i.element)+o,0):s.bottom),(e=>{let t=ji(e),n=e.dom.scrollTop??0,r=Mt(e,ar())?Math.max(s.y-br(i.element)+o,0):s.y-t.y+n-br(i.element)+o;return f()?r:s.bottom}))+`px`};lr(a.outerContainer.element,{...d,...u})}))})(o,s),s.each((e=>{Mr(e.left,n.top)}))}l&&i.on(n),v()},x=()=>!(c||!l||!g())&&i.get().exists((n=>{let r=d.getDockingMode(),o=(n=>{switch(lS(e)){case uF.auto:let e=_(YN.getToolbar(a.outerContainer)),r=br(n.element)-e,i=ji(t);if(i.y>r)return`top`;{let e=dn(t),n=Math.max(e.dom.scrollHeight,br(e));return i.bottom<n-r||Pi().bottom<i.bottom-r?`bottom`:`top`}case uF.bottom:return`bottom`;case uF.top:default:return`top`}})(n);return o!==r&&(s=o,i.on((e=>{fm.setModes(e,[s]),d.setDockingMode(s);let t=f()?bl.TopToBottom:bl.BottomToTop;Kn(e.element,xl,t)})),!0);var s}));return{isVisible:g,isPositionedAtTop:f,show:()=>{h.set(!0),W(a.outerContainer.element,`display`,`flex`),s.addClass(e.getBody(),`mce-edit-focus`),M(o,(e=>{gr(e.element,`display`)})),x(),qS(e)?y((e=>fm.isDocked(e)?fm.reset(e):fm.refresh(e))):y(fm.refresh)},hide:()=>{h.set(!1),W(a.outerContainer.element,`display`,`none`),s.removeClass(e.getBody(),`mce-edit-focus`),M(o,(e=>{W(e.element,`display`,`none`)}))},update:y,updateMode:()=>{x()&&y(fm.reset)},repositionPopups:v}},pF=(e,t)=>{let n=ji(e);return{pos:t?n.y:n.bottom,bounds:n}};var mF=Object.freeze({__proto__:null,render:(e,t,n,r,i)=>{let{mainUi:a}=t,o=st(),s=V(i.targetNode),c=fF(e,s,t,r,o),l=fS(e);sP(e);let u=()=>{if(o.isSet())return void c.show();o.set(YN.getHeader(a.outerContainer).getOrDie());let i=WS(e);qS(e)?(kf(s,a.mothership),kf(s,t.popupUi.mothership)):Of(i,a.mothership),Of(i,t.dialogUi.mothership);let u=()=>{rF(e,t,n,r),YN.setMenubar(a.outerContainer,QN(e,n)),c.show(),((e,t,n,r)=>{let i=Ie(pF(t,n.isPositionedAtTop())),a=r=>{let{pos:a,bounds:o}=pF(t,n.isPositionedAtTop()),{pos:s,bounds:c}=i.get(),l=o.height!==c.height||o.width!==c.width;i.set({pos:a,bounds:o}),l&&IO(e,r),n.isVisible()&&(s===a?l&&(n.updateMode(),n.repositionPopups()):n.update(fm.reset))};r||(e.on(`activate`,n.show),e.on(`deactivate`,n.hide)),e.on(`SkinLoaded ResizeWindow`,(()=>n.update(fm.reset))),e.on(`NodeChange keydown`,(e=>{requestAnimationFrame((()=>a(e)))}));let o=0,s=gt((()=>n.update(fm.refresh)),33);e.on(`ScrollWindow`,(()=>{let e=jr().left;e!==o&&(o=e,s.throttle()),n.updateMode()})),qS(e)&&e.on(`ElementScroll`,(e=>{n.update(fm.refresh)}));let c=ot();c.set(Nn(V(e.getBody()),`load`,(e=>a(e.raw)))),e.on(`remove`,(()=>{c.clear()}))})(e,s,c,l),e.nodeChanged()};l?e.once(`SkinLoaded`,u):u()};e.on(`show`,u),e.on(`hide`,c.hide),l||(e.on(`focus`,u),e.on(`blur`,c.hide)),e.on(`init`,(()=>{(e.hasFocus()||l)&&u()})),GD(e,t);let d={show:u,hide:c.hide,setEnabled:e=>{WD(t,e?`setEnabled`:`setDisabled`)},isEnabled:()=>!Bp.isDisabled(a.outerContainer)};return{editorContainer:a.outerContainer.element.dom,api:d}}});let hF=`contexttoolbar-hide`,gF=(e,t,n)=>({setInputEnabled:t=>{!t&&n&&Fn(n),Bp.set(e,!t)},isInputEnabled:()=>!Bp.isDisabled(e),hide:()=>{Ol(e,Fo())},back:()=>{Ol(e,yP)},getValue:()=>t.get().getOrThunk((()=>Q.getValue(e))),setValue:n=>{e.getSystem().isConnected()?Q.setValue(e,n):t.set(n)}}),_F=(e,t,n)=>gF(pn(e.element).bind((t=>e.getSystem().getByDom(t).toOptional())).getOr(e),t,n),vF=(e,t,n)=>J(XA,((r,i)=>{let a=gF(e.get(r),n,r.element);t.onAction(a,i.event.buttonApi)})),yF=(e,t,n,r)=>{let i=j(t,(t=>A_(((e,t,n,r)=>(e=>e.type===`contextformtogglebutton`)(t)?((e,t,n,r)=>{let{primary:i,...a}=t.original;return hP(Ca(eD({...a,type:`togglebutton`,onAction:_})),n,[vF(e,t,r)])})(e,t,n,r):((e,t,n,r)=>{let{primary:i,...a}=t.original;return mP(Ca(ZE({...a,type:`button`,onAction:_})),n,[vF(e,t,r)])})(e,t,n,r))(e,t,n,r))));return{asSpecs:()=>j(i,(e=>e.asSpec())),findPrimary:e=>be(t,((t,n)=>t.primary?T.from(i[n]).bind((t=>t.getOpt(e))).filter(te(Bp.isDisabled)):T.none()))}},bF=(e,t,n,r)=>{let{width:i,height:a}=e.initValue(),o=yj,s=z(`ratio-event`),c=e=>gF(e,r),l=e=>fw(e,{tag:`span`,classes:[`tox-icon`,`tox-lock-icon__`+e]},t.icons),u=()=>!1,d=e.label.getOr(`Constrain proportions`),f=t.translate(d),p=oy.parts.lock({dom:{tag:`button`,classes:[`tox-lock`,`tox-lock-context-form-size-input`,`tox-button`,`tox-button--naked`,`tox-button--icon`],attributes:{"aria-label":f,"data-mce-name":d}},components:[l(`lock`),l(`unlock`)],buttonBehaviours:Y([Bp.config({disabled:u}),u_.config({}),D_.config(t.tooltips.getConfig({tooltipText:f}))])}),m=e=>({dom:{tag:`div`,classes:[`tox-context-form__group`]},components:e}),h=e=>Vr(e.element,`div.tox-focusable-wrapper`).fold(T.none,(e=>(Fn(e),T.some(!0)))),g=e=>ny.parts.field({factory:py,inputClasses:[`tox-textfield`,`tox-toolbar-textfield`,`tox-textfield-size`],data:e?i:a,inputBehaviours:Y([Bp.config({disabled:u}),u_.config({}),ru(`size-input-toolbar-events`,[J(mo(),((t,n)=>{kl(t,s,{isField1:e})}))]),ff.config({mode:`special`,onEnter:n,onEscape:h})]),selectOnFocus:!1}),v=e=>({dom:{tag:`label`,classes:[`tox-label`]},components:[gp(t.translate(e))]}),y=e=>({dom:{tag:`div`,classes:[`tox-focusable-wrapper`,`tox-toolbar-nav-item`]},components:[e],behaviours:Y([u_.config({}),su.config({}),ff.config({mode:`special`,onEnter:e=>Wr(e.element,`input`).fold(T.none,(e=>(Fn(e),T.some(!0))))})])}),b=y(oy.parts.field1(m([ny.parts.label(v(`Width:`)),g(!0)]))),x=y(oy.parts.field2(m([ny.parts.label(v(`Height:`)),g(!1)]))),S=Ie(_),ee=[LD({onBeforeSetup:e=>Wr(e.element,`input`).each(Fn),onSetup:e.onSetup,getApi:c},S),zD({getApi:c},S,r)];return oy.sketch({dom:{tag:`div`,classes:[`tox-context-form__group`]},components:[b,m([p]),x],field1Name:`width`,field2Name:`height`,locked:!0,markers:{lockClass:`tox-locked`},onLockedChange:(e,t,n)=>{_j(Q.getValue(e)).each((e=>{o(e).each((e=>{Q.setValue(t,gj(e))}))}))},onInput:e=>Ol(e,Kk),coupledFieldBehaviours:Y([su.config({}),ff.config({mode:`flow`,focusInside:Ss.OnEnterOrSpaceMode,cycles:!1,selector:`button, .tox-focusable-wrapper`}),Bp.config({disabled:u,onDisabled:e=>{oy.getField1(e).bind(ny.getField).each(Bp.disable),oy.getField2(e).bind(ny.getField).each(Bp.disable),oy.getLock(e).each(Bp.disable)},onEnabled:e=>{oy.getField1(e).bind(ny.getField).each(Bp.enable),oy.getField2(e).bind(ny.getField).each(Bp.enable),oy.getLock(e).each(Bp.enable)}}),KD((()=>t.checkUiComponentContext(`mode:design`))),ru(`size-input-toolbar-events2`,[J(s,((e,t)=>{let n=t.event.isField1,r=n?oy.getField1(e):oy.getField2(e),i=n?oy.getField2(e):oy.getField1(e);o=bj(r.map(Q.getValue).getOr(``),i.map(Q.getValue).getOr(``))})),J(Kk,(t=>e.onInput(c(t)))),...ee])])})},xF=(e,t,n)=>ny.sketch({dom:{tag:`div`,classes:[`tox-context-form__group`]},components:[...e.toArray(),t],fieldBehaviours:Y([Bp.config({disabled:()=>n.checkUiComponentContext(`mode:design`).shouldDisable,onDisabled:e=>{(e=>{zn(e.element).each((e=>{Vr(e,`[tabindex="-1"]`).each((e=>{Fn(e)}))}))})(e),ny.getField(e).each(Bp.disable)},onEnabled:e=>{ny.getField(e).each(Bp.enable)}})])}),SF=(e,t,n,r)=>{let i=Ie(_),a=e=>_F(e,r);return xF(e.label.map((e=>ny.parts.label({dom:{tag:`label`,classes:[`tox-label`]},components:[gp(t.translate(e))]}))),ny.parts.field({factory:py,type:`range`,inputClasses:[`tox-toolbar-slider__input`,`tox-toolbar-nav-item`],inputAttributes:{min:String(e.min()),max:String(e.max())},data:e.initValue().toString(),fromInputValue:t=>(e=>{let t=parseFloat(e);return isNaN(t)?T.none():T.some(t)})(t).getOr(e.min()),toInputValue:e=>String(e),inputBehaviours:Y([Bp.config({disabled:()=>t.checkUiComponentContext(`mode:design`).shouldDisable}),KD((()=>t.checkUiComponentContext(`mode:design`))),ff.config({mode:`special`,onEnter:n,onLeft:(e,t)=>(t.cut(),T.none()),onRight:(e,t)=>(t.cut(),T.none())}),ru(`slider-events`,[LD({onSetup:e.onSetup,getApi:a,onBeforeSetup:ff.focusIn},i),zD({getApi:a},i,r),J(vo(),(t=>{e.onInput(a(t))}))])])}),t)},CF=(e,t,n,r)=>{let i=Ie(_),a=e=>_F(e,r),o=e.label.map((e=>ny.parts.label({dom:{tag:`label`,classes:[`tox-label`]},components:[gp(t.translate(e))]}))),s={...e.placeholder.map((e=>({placeholder:t.translate(e)}))).getOr({})};return xF(o,ny.parts.field({factory:py,inputClasses:[`tox-toolbar-textfield`,`tox-toolbar-nav-item`],inputAttributes:s,data:e.initValue(),selectOnFocus:!0,inputBehaviours:Y([Bp.config({disabled:()=>t.checkUiComponentContext(`mode:design`).shouldDisable}),KD((()=>t.checkUiComponentContext(`mode:design`))),ff.config({mode:`special`,onEnter:n,onLeft:(e,t)=>(t.cut(),T.none()),onRight:(e,t)=>(t.cut(),T.none())}),ru(`input-events`,[LD({onSetup:e.onSetup,getApi:e=>Vr(e.element,`.tox-toolbar`).bind((e=>Wr(e,`button:enabled`))).fold((()=>_F(e,r)),(t=>_F(e,r,t))),onBeforeSetup:ff.focusIn},i),zD({getApi:a},i,r),J(vo(),(t=>{e.onInput(a(t))}))])])}),t)},wF=(e,t,n)=>{let r=st(),i=A_(e(n,(e=>o.findPrimary(e).orThunk((()=>s.findPrimary(e))).map((e=>(Al(e),!0)))),r)),a=se(t.commands,(e=>e.align===`start`)),o=yF(i,a.pass,n,r),s=yF(i,a.fail,n,r);return N([{title:T.none(),label:T.none(),items:o.asSpecs()},{title:T.none(),label:T.none(),items:[i.asSpec()]},{title:T.none(),label:T.none(),items:s.asSpecs()}],(e=>e.items.length>0))},TF=(e,t)=>{switch(e.type){case`contextform`:return wF(ee(CF,e),e,t);case`contextsliderform`:return wF(ee(SF,e),e,t);case`contextsizeinputform`:return wF(ee(bF,e),e,t)}},EF=(e,t,n)=>t.bottom-e.y>=n&&e.bottom-t.y>=n,DF=e=>{let t=(e=>{let t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){let n=Sn(V(e.startContainer),e.startOffset).element;return(an(n)?pn(n):T.some(n)).filter(rn).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t})(e.selection.getRng());if(e.inline){let e=jr();return Ai(e.left+t.left,e.top+t.top,t.width,t.height)}{let n=Mi(V(e.getBody()));return Ai(n.x+t.left,n.y+t.top,t.width,t.height)}},OF=(e,t,n,r=0)=>{let i=Ei(window),a=ji(V(e.getContentAreaContainer())),o=FS(e)||RS(e)||BS(e),{x:s,width:c}=((e,t,n)=>{let r=Math.max(e.x+n,t.x);return{x:r,width:Math.min(e.right-n,t.right)-r}})(a,i,r);if(e.inline&&!o)return Ai(s,i.y,c,i.height);{let{y:o,bottom:l}=((e,t,n,r,i,a)=>{let o=V(e.getContainer()),s=ji(Wr(o,`.tox-editor-header`).getOr(o)),c=s.y>=t.bottom,l=r&&!c;if(e.inline&&l)return{y:Math.max(s.bottom+a,n.y),bottom:n.bottom};if(e.inline&&!l)return{y:n.y,bottom:Math.min(s.y-a,n.bottom)};let u=i===`line`?ji(o):t;return l?{y:Math.max(s.bottom+a,n.y),bottom:Math.min(u.bottom-a,n.bottom)}:{y:Math.max(u.y+a,n.y),bottom:Math.min(s.y-a,n.bottom)}})(e,a,i,t.header.isPositionedAtTop(),n,r);return Ai(s,o,c,l-o)}},kF={valignCentre:[],alignCentre:[],alignLeft:[`tox-pop--align-left`],alignRight:[`tox-pop--align-right`],right:[`tox-pop--right`],left:[`tox-pop--left`],bottom:[`tox-pop--bottom`],top:[`tox-pop--top`],inset:[`tox-pop--inset`]},AF={maxHeightFunction:vl(),maxWidthFunction:yl()},jF=e=>e===`node`,MF=(e,t,n,r,i)=>{let a=DF(e),o=r.lastElement().exists((e=>Mt(n,e)));return((e,t)=>{let n=e.selection.getRng(),r=Sn(V(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&Mt(r.element,t)})(e,n)?o?pl:cl:o?((e,n)=>{let i=pr(e,`position`);W(e,`position`,n);let o=EF(a,ji(t),-20)&&!r.isReposition()?hl:pl;return i.each((t=>W(e,`position`,t))),o})(t,r.getMode()):(r.getMode()===`fixed`?i.y+jr().top:i.y)+(br(t)+12)<=a.y?cl:ll},NF=(e,t,n,r)=>{let i=t=>(r,i,a,o,s)=>({...MF(e,o,t,n,s)({...r,y:s.y,height:s.height},i,a,o,s),alwaysFit:!0}),a=e=>jF(r)?[i(e)]:[];return t?{onLtr:e=>[Bc,Fc,Ic,Lc,Rc,zc].concat(a(e)),onRtl:e=>[Bc,Ic,Fc,Rc,Lc,zc].concat(a(e))}:{onLtr:e=>[zc,Bc,Lc,Fc,Rc,Ic].concat(a(e)),onRtl:e=>[zc,Bc,Rc,Ic,Lc,Fc].concat(a(e))}},PF=(e,t)=>{let{pass:n,fail:r}=se(N(t,(t=>t.predicate(e.dom))),(e=>e.type===`contexttoolbar`));return{contextToolbars:n,contextForms:r}},FF=(e,t)=>{let n={},r=[],i=[],a={},o={};return M(xe(e),(s=>{let c=e[s];c.type===`contextform`||c.type===`contextsliderform`||c.type===`contextsizeinputform`?((e,s)=>{let c=Ca(Sa(`ContextForm`,sD,s));n[e]=c,c.launch.map((n=>{a[`form:`+e]={...s.launch,type:n.type===`contextformtogglebutton`?`togglebutton`:`button`,onAction:()=>{t(c)}}})),c.scope===`editor`?i.push(c):r.push(c),o[e]=c})(s,c):c.type===`contexttoolbar`&&((e,n)=>{var s;(s=n,Sa(`ContextToolbar`,lD,s)).each((s=>{s.launch.isSome()&&(a[`toolbar:`+e]={...n.launch,type:`button`,onAction:()=>{t(s)}}),n.scope===`editor`?i.push(s):r.push(s),o[e]=s}))})(s,c)})),{forms:n,inNodeScope:r,inEditorScope:i,lookupTable:o,formNavigators:a}},IF=`tox-pop--transition`,LF=(e,t,n,r)=>{let i=r.backstage,o=i.shared,s=Zt().deviceType.isTouch,c=st(),l=st(),u=st(),d=(e=>{let t=Ie([]);return{sketch:cy.sketch({dom:{tag:`div`,classes:[`tox-pop`]},fireDismissalEventInstead:{event:`doNotDismissYet`},onShow:e=>{t.set([]),cy.getContent(e).each((e=>{gr(e.element,`visibility`)})),ei(e.element,xP),gr(e.element,`width`)},onHide:()=>{t.set([]),e.onHide()},inlineBehaviours:Y([ru(`context-toolbar-events`,[Ul(So(),((e,t)=>{t.event.raw.propertyName===`width`&&(ei(e.element,xP),gr(e.element,`width`))})),J(bP,((t,n)=>{let r=t.element;gr(r,`width`);let i=wr(r),a=zn(t.element).isSome();gr(r,`left`),gr(r,`right`),gr(r,`max-width`),cy.setContent(t,n.event.contents),Qr(r,xP);let o=wr(r);W(r,`transition`,`none`),cy.reposition(t),gr(r,`transition`),W(r,`width`,i+`px`),n.event.focus.fold((()=>{a&&_P(t)}),(n=>{Rn(wn(t.element)).fold((()=>Fn(n)),(t=>{Mt(t,n)||e.focusElement(n)}))})),setTimeout((()=>{W(t.element,`width`,o+`px`)}),0)})),J(vP,((e,n)=>{cy.getContent(e).each((n=>{t.set(t.get().concat([{bar:n,focus:Rn(wn(e.element))}]))})),kl(e,bP,{contents:n.event.forwardContents,focus:T.none()})})),J(yP,((n,r)=>{e.onBack(),ve(t.get()).each((e=>{t.set(t.get().slice(0,t.get().length-1)),kl(n,bP,{contents:xp(e.bar),focus:e.focus})}))}))]),ff.config({mode:`special`,onEscape:n=>ve(t.get()).fold((()=>e.onEscape()),(e=>(Ol(n,yP),T.some(!0))))})]),lazySink:()=>Ge.value(e.sink)}),inSubtoolbar:()=>t.get().length>0}})({sink:n,onEscape:()=>(e.focus(),zO(e),T.some(!0)),onHide:()=>{zO(e)},onBack:()=>{(e=>{e.dispatch(`ContextFormSlideBack`)})(e)},focusElement:t=>{e.getBody().contains(t.dom)?e.focus():Fn(t)}}),f=bp(d.sketch),p=()=>{let t=u.get().getOr(`node`);return OF(e,o,t,jF(t)?1:0)},m=()=>!(e.removed||s()&&i.isContextMenuOpen()),h=()=>{if(m()){let t=p(),n=$e(u.get(),`node`)?((e,t)=>t.filter((e=>U(e)&&nn(e))).map(Mi).getOrThunk((()=>DF(e))))(e,c.get()):DF(e);return t.height<=0||!EF(n,t,.01)}return!0},g=()=>{c.clear(),l.clear(),u.clear(),cy.hide(f)},v=()=>{if(cy.isOpen(f)){let e=f.element;gr(e,`display`),h()?W(e,`display`,`none`):(l.set(0),cy.reposition(f))}},y=t=>({dom:{tag:`div`,classes:[`tox-pop__dialog`]},components:[t],behaviours:Y([ff.config({mode:`acyclic`}),ru(`pop-dialog-wrap-events`,[Wl((t=>{e.shortcuts.add(`ctrl+F9`,`focus statusbar`,(()=>ff.focusIn(t)))})),Gl((t=>{e.shortcuts.remove(`ctrl+F9`)}))])])}),b=e=>{kl(f,vP,{forwardContents:y(S([e]))})},x=_t((()=>FF(t,b))),S=t=>{let{buttons:n}=e.ui.registry.getAll(),i={...n,...x().formNavigators},s=sS(e)===Rx.scrolling?Rx.scrolling:Rx.default,c=ue(j(t,(t=>{return t.type===`contexttoolbar`?((t,n)=>nF(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},r.backstage,T.some([`form:`,`toolbar:`])))(i,(n=t,{...n,launch:n.launch.getOrUndefined(),items:a(n.items)?n.items:j(n.items,uD)})):((e,t)=>TF(e,t))(t,o.providers);var n})));return ON({type:s,uid:z(`context-toolbar`),initGroups:c,onEscape:T.none,cyclicKeying:!0,providers:o.providers})},ee=(t,r)=>{if(ne.cancel(),!m())return;let i=S(t),a=t[0].position,d=((t,r)=>B(t===`node`?o.anchors.node(r):o.anchors.cursor(),((e,t,n,r)=>t===`line`?{bubble:hc(12,0,kF),layouts:{onLtr:()=>[Vc],onRtl:()=>[Hc]},overrides:AF}:{bubble:hc(0,12,kF,1/12),layouts:NF(e,n,r,t),overrides:AF})(e,t,s(),{lastElement:c.get,isReposition:()=>$e(l.get(),0),getMode:()=>kg.getMode(n)})))(a,r);u.set(a),l.set(1);let g=f.element;gr(g,`display`),(e=>$e(tt(e,c.get(),Mt),!0))(r)||(ei(g,IF),kg.reset(n,f)),cy.showWithinBounds(f,y(i),{anchor:d,transition:{classes:[IF],mode:`placement`}},(()=>T.some(p()))),r.fold(c.clear,c.set),h()&&W(g,`display`,`none`)},te=!1,ne=gt((()=>{!e.hasFocus()||e.removed||te||(ti(f.element,IF)?ne.throttle():((e,t)=>{let n=V(t.getBody()),r=e=>Mt(e,n),i=V(t.selection.getNode());return(e=>!r(e)&&!Nt(n,e))(i)?T.none():((e,t,n)=>{let r=PF(e,t);if(r.contextForms.length>0)return T.some({elem:e,toolbars:[r.contextForms[0]]});{let t=PF(e,n);if(t.contextForms.length>0)return T.some({elem:e,toolbars:[t.contextForms[0]]});if(r.contextToolbars.length>0||t.contextToolbars.length>0){let n=(e=>{if(e.length<=1)return e;{let t=t=>ae(e,(e=>e.position===t)),n=t=>N(e,(e=>e.position===t)),r=t(`selection`),i=t(`node`);if(r||i){if(i&&r){let e=n(`node`),t=j(n(`selection`),(e=>({...e,position:`node`})));return e.concat(t)}return n(r?`selection`:`node`)}return n(`line`)}})(r.contextToolbars.concat(t.contextToolbars));return T.some({elem:e,toolbars:n})}return T.none()}})(i,e.inNodeScope,e.inEditorScope).orThunk((()=>((e,t,n)=>e(t)?T.none():fi(t,(e=>{if(rn(e)){let{contextToolbars:t,contextForms:r}=PF(e,n.inNodeScope),i=r.length>0?r:(e=>{if(e.length<=1)return e;{let t=t=>le(e,(e=>e.position===t));return t(`selection`).orThunk((()=>t(`node`))).orThunk((()=>t(`line`))).map((e=>e.position)).fold((()=>[]),(t=>N(e,(e=>e.position===t))))}})(t);return i.length>0?T.some({elem:e,toolbars:i}):T.none()}return T.none()}),e))(r,i,e)))})(x(),e).fold(g,(e=>{ee(e.toolbars,T.some(e.elem))})))}),17);e.on(`init`,(()=>{e.on(`remove`,g),e.on(`ScrollContent ScrollWindow ObjectResized ResizeEditor longpress`,v),e.on(`click focus SetContent`,ne.throttle),e.on(`keyup`,(e=>{var t;((t=e.keyCode)!==HP.ENTER&&t!==HP.SPACEBAR||!d.inSubtoolbar())&&ne.throttle()})),e.on(hF,g),e.on(`contexttoolbar-show`,(t=>{Me(x().lookupTable,t.toolbarKey).each((n=>{ee([n],rt(t.target!==e,t.target)),_P(f)}))})),e.on(`focusout`,(t=>{Vx.setEditorTimeout(e,(()=>{zn(n.element).isNone()&&zn(f.element).isNone()&&!e.hasFocus()&&g()}),0)})),e.on(`SwitchMode`,(()=>{e.mode.isReadOnly()&&g()})),e.on(`DisabledStateChange`,(e=>{e.state&&g()})),e.on(`ExecCommand`,(({command:e})=>{e.toLowerCase()===`toggleview`&&g()})),e.on(`AfterProgressState`,(t=>{t.state?g():e.hasFocus()&&ne.throttle()})),e.on(`dragstart`,(()=>{te=!0})),e.on(`dragend drop`,(()=>{te=!1})),e.on(`NodeChange`,(e=>{d.inSubtoolbar()?(W(f.element,`transition`,`none`),v(),gr(f.element,`transition`)):zn(f.element).fold(ne.throttle,_)}))}))},RF=(e,t)=>{let n=()=>{let n=t.getOptions(e),r=t.getCurrent(e).map(t.hash),i=st();return j(n,(n=>({type:`togglemenuitem`,text:t.display(n),onSetup:a=>{let o=e=>{e&&(i.on((e=>e.setActive(!1))),i.set(a)),a.setActive(e)};o($e(r,t.hash(n)));let s=t.watcher(e,n,o);return()=>{i.clear(),s()}},onAction:()=>t.setCurrent(e,n)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(n()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:`nestedmenuitem`,text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},zF=e=>{RF(e,(e=>({name:`lineheight`,text:`Line height`,icon:`line-height`,getOptions:LS,hash:e=>(e=>wi(e,[`fixed`,`relative`,`empty`]).map((({value:e,unit:t})=>e+t)))(e).getOr(e),display:x,watcher:(e,t,n)=>e.formatter.formatChanged(`lineheight`,n,!1,{value:t}).unbind,getCurrent:e=>T.from(e.queryCommandValue(`LineHeight`)),setCurrent:(e,t)=>e.execCommand(`LineHeight`,!1,t),onToolbarSetup:VO(e),onMenuSetup:VO(e)}))(e)),(e=>T.from(aS(e)).map((t=>({name:`language`,text:`Language`,icon:`language`,getOptions:b(t),hash:e=>d(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,n)=>e.formatter.formatChanged(`lang`,n,!1,{value:t.code,customValue:t.customCode??null}).unbind,getCurrent:e=>pi(V(e.selection.getNode()),(e=>T.some(e).filter(rn).bind((e=>Yn(e,`lang`).map((t=>({code:t,customCode:Yn(e,`data-mce-lang`).getOrUndefined(),title:``}))))))),setCurrent:(e,t)=>e.execCommand(`Lang`,!1,t),onToolbarSetup:t=>{let n=ot();return t.setActive(e.formatter.match(`lang`,{},void 0,!0)),n.set(e.formatter.formatChanged(`lang`,t.setActive,!0)),BO(n.clear,VO(e)(t))},onMenuSetup:VO(e)}))))(e).each((t=>RF(e,t)))},BF=e=>UO(e,`NodeChange`,(t=>{t.setEnabled(e.queryCommandState(`outdent`)&&e.selection.isEditable())})),VF=(e,t)=>n=>{n.setActive(t.get());let r=e=>{t.set(e.state),n.setActive(e.state)};return e.on(`PastePlainTextToggle`,r),BO((()=>e.off(`PastePlainTextToggle`,r)),VO(e)(n))},HF=(e,t)=>()=>{e.execCommand(`mceToggleFormat`,!1,t)},UF=e=>{(e=>{(e=>{TA.each([{name:`bold`,text:`Bold`,icon:`bold`,shortcut:`Meta+B`},{name:`italic`,text:`Italic`,icon:`italic`,shortcut:`Meta+I`},{name:`underline`,text:`Underline`,icon:`underline`,shortcut:`Meta+U`},{name:`strikethrough`,text:`Strikethrough`,icon:`strike-through`},{name:`subscript`,text:`Subscript`,icon:`subscript`},{name:`superscript`,text:`Superscript`,icon:`superscript`}],((t,n)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:HO(e,t.name),onAction:HF(e,t.name),shortcut:t.shortcut})}));for(let t=1;t<=6;t++){let n=`h`+t,r=`Access+${t}`;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:`Heading `+t,onSetup:HO(e,n),onAction:HF(e,n),shortcut:r})}})(e),(e=>{TA.each([{name:`copy`,text:`Copy`,action:`Copy`,icon:`copy`,context:`any`},{name:`help`,text:`Help`,action:`mceHelp`,icon:`help`,shortcut:`Alt+0`,context:`any`},{name:`selectall`,text:`Select all`,action:`SelectAll`,icon:`select-all`,shortcut:`Meta+A`,context:`any`},{name:`newdocument`,text:`New document`,action:`mceNewDocument`,icon:`new-document`},{name:`print`,text:`Print`,action:`mcePrint`,icon:`print`,shortcut:`Meta+P`,context:`any`}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:GO(e,t.action),shortcut:t.shortcut,context:t.context})})),TA.each([{name:`cut`,text:`Cut`,action:`Cut`,icon:`cut`},{name:`paste`,text:`Paste`,action:`Paste`,icon:`paste`},{name:`removeformat`,text:`Clear formatting`,action:`RemoveFormat`,icon:`remove-formatting`},{name:`remove`,text:`Remove`,action:`Delete`,icon:`remove`},{name:`hr`,text:`Horizontal line`,action:`InsertHorizontalRule`,icon:`horizontal-rule`}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:VO(e),onAction:GO(e,t.action)})}))})(e),(e=>{TA.each([{name:`blockquote`,text:`Blockquote`,action:`mceBlockQuote`,icon:`quote`}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:GO(e,t.action),onSetup:HO(e,t.name)})}))})(e)})(e),(e=>{TA.each([{name:`newdocument`,text:`New document`,action:`mceNewDocument`,icon:`new-document`},{name:`copy`,text:`Copy`,action:`Copy`,icon:`copy`,shortcut:`Meta+C`,context:`any`},{name:`selectall`,text:`Select all`,action:`SelectAll`,icon:`select-all`,shortcut:`Meta+A`,context:`any`},{name:`print`,text:`Print...`,action:`mcePrint`,icon:`print`,shortcut:`Meta+P`,context:`any`}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:GO(e,t.action),context:t.context})})),TA.each([{name:`bold`,text:`Bold`,action:`Bold`,icon:`bold`,shortcut:`Meta+B`},{name:`italic`,text:`Italic`,action:`Italic`,icon:`italic`,shortcut:`Meta+I`},{name:`underline`,text:`Underline`,action:`Underline`,icon:`underline`,shortcut:`Meta+U`},{name:`strikethrough`,text:`Strikethrough`,action:`Strikethrough`,icon:`strike-through`},{name:`subscript`,text:`Subscript`,action:`Subscript`,icon:`subscript`},{name:`superscript`,text:`Superscript`,action:`Superscript`,icon:`superscript`},{name:`removeformat`,text:`Clear formatting`,action:`RemoveFormat`,icon:`remove-formatting`},{name:`cut`,text:`Cut`,action:`Cut`,icon:`cut`,shortcut:`Meta+X`},{name:`paste`,text:`Paste`,action:`Paste`,icon:`paste`,shortcut:`Meta+V`},{name:`hr`,text:`Horizontal line`,action:`InsertHorizontalRule`,icon:`horizontal-rule`}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:VO(e),onAction:GO(e,t.action)})})),e.ui.registry.addMenuItem(`codeformat`,{text:`Code`,icon:`sourcecode`,onSetup:VO(e),onAction:HF(e,`code`)})})(e)},WF=(e,t)=>UO(e,`Undo Redo AddUndo TypingUndo ClearUndos SwitchMode`,(n=>{n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),GF=e=>UO(e,`VisualAid`,(t=>{t.setActive(e.hasVisual)})),KF=(e,t)=>{(e=>{M([{name:`alignleft`,text:`Align left`,cmd:`JustifyLeft`,icon:`align-left`},{name:`aligncenter`,text:`Align center`,cmd:`JustifyCenter`,icon:`align-center`},{name:`alignright`,text:`Align right`,cmd:`JustifyRight`,icon:`align-right`},{name:`alignjustify`,text:`Justify`,cmd:`JustifyFull`,icon:`align-justify`}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:GO(e,t.cmd),onSetup:HO(e,t.name)})})),e.ui.registry.addButton(`alignnone`,{tooltip:`No alignment`,icon:`align-none`,onSetup:VO(e),onAction:GO(e,`JustifyNone`)})})(e),UF(e),((e,t)=>{((e,t)=>{let n=wP(t,jP(e));e.ui.registry.addNestedMenuItem(`align`,{text:t.shared.providers.translate(`Align`),onSetup:VO(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{let n=wP(t,VP(e));e.ui.registry.addNestedMenuItem(`fontfamily`,{text:t.shared.providers.translate(`Fonts`),onSetup:VO(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{let n=wP(t,ZP(e,{type:`advanced`,...t.styles}));e.ui.registry.addNestedMenuItem(`styles`,{text:`Formats`,onSetup:VO(e,(()=>n.getStyleItems().length>0)),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{let n=wP(t,FP(e));e.ui.registry.addNestedMenuItem(`blocks`,{text:`Blocks`,onSetup:VO(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{let n=wP(t,YP(e));e.ui.registry.addNestedMenuItem(`fontsize`,{text:`Font sizes`,onSetup:VO(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t)})(e,t),(e=>{(e=>{e.ui.registry.addMenuItem(`undo`,{text:`Undo`,icon:`undo`,shortcut:`Meta+Z`,onSetup:WF(e,`hasUndo`),onAction:GO(e,`undo`)}),e.ui.registry.addMenuItem(`redo`,{text:`Redo`,icon:`redo`,shortcut:`Meta+Y`,onSetup:WF(e,`hasRedo`),onAction:GO(e,`redo`)})})(e),(e=>{e.ui.registry.addButton(`undo`,{tooltip:`Undo`,icon:`undo`,enabled:!1,onSetup:WF(e,`hasUndo`),onAction:GO(e,`undo`),shortcut:`Meta+Z`}),e.ui.registry.addButton(`redo`,{tooltip:`Redo`,icon:`redo`,enabled:!1,onSetup:WF(e,`hasRedo`),onAction:GO(e,`redo`),shortcut:`Meta+Y`})})(e)})(e),(e=>{(e=>{e.addCommand(`mceApplyTextcolor`,((t,n)=>{((e,t,n)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))})(e,t,n)})),e.addCommand(`mceRemoveTextcolor`,(t=>{((e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()}))})(e,t)}))})(e);let t=ok(e),n=sk(e),r=Ie(t),i=Ie(n);_k(e,`forecolor`,`forecolor`,r),_k(e,`backcolor`,`hilitecolor`,i),vk(e,`forecolor`,`forecolor`,`Text color`,r),vk(e,`backcolor`,`hilitecolor`,`Background color`,i)})(e),(e=>{(e=>{e.ui.registry.addButton(`visualaid`,{tooltip:`Visual aids`,text:`Visual aids`,onAction:GO(e,`mceToggleVisualAid`),context:`any`})})(e),(e=>{e.ui.registry.addToggleMenuItem(`visualaid`,{text:`Visual aids`,onSetup:GF(e),onAction:GO(e,`mceToggleVisualAid`),context:`any`})})(e)})(e),(e=>{(e=>{e.ui.registry.addButton(`outdent`,{tooltip:`Decrease indent`,icon:`outdent`,onSetup:BF(e),onAction:GO(e,`outdent`)}),e.ui.registry.addButton(`indent`,{tooltip:`Increase indent`,icon:`indent`,onSetup:VO(e,(()=>e.queryCommandState(`indent`))),onAction:GO(e,`indent`)})})(e)})(e),zF(e),(e=>{let t=Ie(OS(e)),n=()=>e.execCommand(`mceTogglePlainTextPaste`);e.ui.registry.addToggleButton(`pastetext`,{active:!1,icon:`paste-text`,tooltip:`Paste as text`,onAction:n,onSetup:VF(e,t)}),e.ui.registry.addToggleMenuItem(`pastetext`,{text:`Paste as text`,icon:`paste-text`,onAction:n,onSetup:VF(e,t)})})(e),(e=>{e.ui.registry.addContext(`editable`,(()=>e.selection.isEditable())),e.ui.registry.addContext(`mode`,(t=>e.mode.get()===t)),e.ui.registry.addContext(`any`,re),e.ui.registry.addContext(`formatting`,(t=>e.formatter.canApply(t))),e.ui.registry.addContext(`insert`,(t=>e.schema.isValidChild(e.selection.getNode().tagName,t)))})(e)},qF=e=>a(e)?e.split(/[ ,]/):e,JF=e=>t=>t.options.get(e),YF=JF(`contextmenu_never_use_native`),XF=JF(`contextmenu_avoid_overlap`),ZF=e=>{let t=e.ui.registry.getAll().contextMenus,n=e.options.get(`contextmenu`);return e.options.isSet(`contextmenu`)?n:N(n,(e=>Ne(t,e)))},QF=(e,t)=>({type:`makeshift`,x:e,y:t}),$F=e=>e.type===`longpress`||e.type.indexOf(`touch`)===0,eI=(e,t)=>t.type===`contextmenu`||t.type===`longpress`?e.inline?(e=>{if($F(e)){let t=e.touches[0];return QF(t.pageX,t.pageY)}return QF(e.pageX,e.pageY)})(t):((e,t)=>{let n=Hx.DOM.getPos(e);return((e,t,n)=>QF(e.x+t,e.y+n))(t,n.x,n.y)})(e.getContentAreaContainer(),(e=>{if($F(e)){let t=e.touches[0];return QF(t.clientX,t.clientY)}return QF(e.clientX,e.clientY)})(t)):tI(e),tI=e=>({type:`selection`,root:V(e.selection.getNode())}),nI=(e,t,n)=>{switch(n){case`node`:return(e=>({type:`node`,node:T.some(V(e.selection.getNode())),root:V(e.getBody())}))(e);case`point`:return eI(e,t);case`selection`:return tI(e)}},rI=(e,t,n,r,i,a)=>{let o=n(),s=nI(e,t,a);dj(o,_w.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:T.none()}).map((e=>{t.preventDefault(),cy.showMenuAt(i,{anchor:s},{menu:{markers:jw(`normal`)},data:e})}))},iI={onLtr:()=>[Bc,Fc,Ic,Lc,Rc,zc,cl,ll,sl,al,ol,il],onRtl:()=>[Bc,Ic,Fc,Rc,Lc,zc,cl,ll,ol,il,sl,al]},aI={valignCentre:[],alignCentre:[],alignLeft:[`tox-pop--align-left`],alignRight:[`tox-pop--align-right`],right:[`tox-pop--right`],left:[`tox-pop--left`],bottom:[`tox-pop--bottom`],top:[`tox-pop--top`]},oI=(e,t,n,r,i,a)=>{let o=Zt(),s=o.os.isiOS(),c=o.os.isMacOS(),l=o.os.isAndroid(),u=o.deviceType.isTouch(),d=()=>{((e,t,n,r,i,a,o)=>{let s=((e,t,n)=>{let r=nI(e,t,n);return{bubble:hc(0,n===`point`?12:0,aI),layouts:iI,overrides:{maxWidthFunction:yl(),maxHeightFunction:vl()},...r}})(e,t,a);dj(n,_w.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!0,search:T.none()}).map((n=>{t.preventDefault();let c=o?Cl.HighlightMenuAndItem:Cl.HighlightNone;cy.showMenuWithinBounds(i,{anchor:s},{menu:{markers:jw(`normal`),highlightOnOpen:c},data:n,type:`horizontal`},(()=>T.some(OF(e,r.shared,a===`node`?`node`:`selection`)))),e.dispatch(hF)}))})(e,t,n(),r,i,a,!(l||s||c&&u))};if((c||s)&&a!==`node`){let n=()=>{(e=>{let t=e.selection.getRng(),n=()=>{Vx.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),a()};e.once(`touchend`,n);let r=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on(`mousedown`,r,!0);let i=()=>a();e.once(`longpresscancel`,i);let a=()=>{e.off(`touchend`,n),e.off(`longpresscancel`,i),e.off(`mousedown`,r)}})(e),d()};((e,t)=>{let n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;{let r=t.touches[0],i=n.getRng();return xi(e.getWin(),vi.domRange(i)).exists((e=>e.left<=r.clientX&&e.right>=r.clientX&&e.top<=r.clientY&&e.bottom>=r.clientY))}})(e,t)?n():(e.once(`selectionchange`,n),e.once(`touchend`,(()=>e.off(`selectionchange`,n))))}else d()},sI=e=>a(e)?e===`|`:e.type===`separator`,cI={type:`separator`},lI=e=>{let t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(a(e))return e;switch(e.type){case`separator`:return cI;case`submenu`:return{type:`nestedmenuitem`,...t(e),getSubmenuItems:()=>{let t=e.getSubmenuItems();return a(t)?t:j(t,lI)}};default:let n=e;return{type:`menuitem`,...t(n),onAction:v(n.onAction)}}},uI=(e,t)=>{if(t.length===0)return e;let n=ve(e).filter((e=>!sI(e))).fold((()=>[]),(e=>[cI]));return e.concat(n).concat(t).concat([cI])},dI=(e,t)=>!(e=>e.type===`longpress`||Ne(e,`touches`))(t)&&(t.button!==2||t.target===e.getBody()&&t.pointerType===``),fI=(e,t)=>dI(e,t)?e.selection.getStart(!0):t.target,pI=(e,t,n)=>{let r=Zt().deviceType.isTouch,i=bp(cy.sketch({dom:{tag:`div`},lazySink:t,onEscape:()=>e.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Y([ru(`dismissContextMenu`,[J(Wo(),((t,n)=>{Ug.close(t),e.focus()}))])])})),o=()=>cy.hide(i),s=t=>{if(YF(e)&&t.preventDefault(),((e,t)=>t.ctrlKey&&!YF(e))(e,t)||(e=>ZF(e).length===0)(e))return;let o=((e,t)=>{let n=XF(e),r=dI(e,t)?`selection`:`point`;return mt(n)&&ui(V(fI(e,t)),n)?`node`:r})(e,t);(r()?oI:rI)(e,t,(()=>{let n=fI(e,t),r=e.ui.registry.getAll(),i=ZF(e);return((e,t,n)=>{let r=P(t,((t,r)=>Me(e,r.toLowerCase()).map((e=>{let r=e.update(n);return a(r)&&mt(pt(r))?uI(t,r.split(` `)):c(r)&&r.length>0?uI(t,j(r,lI)):t})).getOrThunk((()=>t.concat([r])))),[]);return r.length>0&&sI(r[r.length-1])&&r.pop(),r})(r.contextMenus,i,n)}),n,i,o)};e.on(`init`,(()=>{let t=`ResizeEditor ScrollContent ScrollWindow longpresscancel`+(r()?``:` ResizeWindow`);e.on(t,o),e.on(`longpress contextmenu`,s)}))},mI=(e,t,n,r,i,a)=>e.fold((()=>lh.snap({sensor:Cm(n-20,r-20),range:Dr(i,a),output:Cm(T.some(n),T.some(r)),extra:{td:t}})),(e=>{let i=n-20,a=r-20,o=e.element.dom.getBoundingClientRect();return lh.snap({sensor:Cm(i,a),range:Dr(40,40),output:Cm(T.some(n-o.width/2),T.some(r-o.height/2)),extra:{td:t}})})),hI=(e,t,n)=>({getSnapPoints:e,leftAttr:`data-drag-left`,topAttr:`data-drag-top`,onSensor:(e,r)=>{let i=r.td;((e,t)=>e.exists((e=>Mt(e,t))))(t.get(),i)||(t.set(i),n(i))},mustSnap:!0}),gI=e=>A_(U_.sketch({dom:{tag:`div`,classes:[`tox-selector`]},buttonBehaviours:Y([lh.config({mode:`mouseOrTouch`,blockerClass:`blocker`,snaps:e}),O_.config({})]),eventOrder:{mousedown:[`dragging`,`alloy.base.behaviour`],touchstart:[`dragging`,`alloy.base.behaviour`]}})),_I=(e,t)=>{let n=Ie([]),r=Ie([]),i=Ie(!1),a=st(),o=st(),s=e=>{let n=Mi(e);return mI(d.getOpt(t),e,n.x,n.y,n.width,n.height)},c=e=>{let n=Mi(e);return mI(f.getOpt(t),e,n.right,n.bottom,n.width,n.height)},l=hI((()=>j(n.get(),(e=>s(e)))),a,(t=>{o.get().each((n=>{e.dispatch(`TableSelectorChange`,{start:t,finish:n})}))})),u=hI((()=>j(r.get(),(e=>c(e)))),o,(t=>{a.get().each((n=>{e.dispatch(`TableSelectorChange`,{start:n,finish:t})}))})),d=gI(l),f=gI(u),p=bp(d.asSpec()),m=bp(f.asSpec()),h=(t,n,r,i)=>{let a=r(n);lh.snapTo(t,a),((t,n)=>{let r=n.dom.getBoundingClientRect();gr(t.element,`display`);let a=fn(V(e.getBody())).dom.innerHeight,o=r[i]<0,s=((e,t)=>e[i]>t)(r,a);(o||s)&&W(t.element,`display`,`none`)})(t,n)},g=e=>h(p,e,s,`top`),_=e=>h(m,e,c,`bottom`);if(Zt().deviceType.isTouch()){let s=e=>j(e,V);e.on(`TableSelectionChange`,(e=>{i.get()||(Cf(t,p),Cf(t,m),i.set(!0));let c=V(e.start),l=V(e.finish);a.set(c),o.set(l),T.from(e.otherCells).each((e=>{n.set(s(e.upOrLeftCells)),r.set(s(e.downOrRightCells)),g(c),_(l)}))})),e.on(`ResizeEditor ResizeWindow ScrollContent`,(()=>{a.get().each(g),o.get().each(_)})),e.on(`TableSelectionClear`,(()=>{i.get()&&(Ef(p),Ef(m),i.set(!1)),a.clear(),o.clear()}))}},vI=(e,t,n)=>{let r=t.delimiter??`›`;return{dom:{tag:`div`,classes:[`tox-statusbar__path`],attributes:{role:`navigation`}},behaviours:Y([ff.config({mode:`flow`,selector:`div[role=button]`}),Bp.config({disabled:n.isDisabled}),KD((()=>n.checkUiComponentContext(`any`))),u_.config({}),Wf.config({}),ru(`elementPathEvents`,[Wl(((t,i)=>{e.shortcuts.add(`alt+F11`,`focus statusbar elementpath`,(()=>ff.focusIn(t))),e.on(`NodeChange`,(i=>{let a=(t=>{let n=[],r=t.length;for(;r-- >0;){let a=t[r];if(a.nodeType===1&&(i=a).nodeName!==`BR`&&!i.getAttribute(`data-mce-bogus`)&&i.getAttribute(`data-mce-type`)!==`bookmark`){let t=RO(e,a);if(t.isDefaultPrevented()||n.push({name:t.name,element:a}),t.isPropagationStopped())break}}var i;return n})(i.parents),o=a.length>0?P(a,((t,i,a)=>{let o=((t,r,i)=>U_.sketch({dom:{tag:`div`,classes:[`tox-statusbar__path-item`],attributes:{"data-index":i}},components:[gp(t)],action:t=>{e.focus(),e.selection.select(r),e.nodeChanged()},buttonBehaviours:Y([D_.config({...n.tooltips.getConfig({tooltipText:n.translate([`Select the {0} element`,r.nodeName.toLowerCase()]),onShow:(e,t)=>{((e,t)=>{Kn(e,`aria-describedby`,T.from(Jn(e,`id`)).getOrThunk((()=>{let e=z(`aria`);return Kn(t,`id`,e),e})))})(e.element,t.element)},onHide:e=>{var t=e.element;Zn(t,`aria-describedby`)}})}),PD(n.isDisabled),KD((()=>n.checkUiComponentContext(`any`)))])}))(i.name,i.element,a);return a===0?t.concat([o]):t.concat([{dom:{tag:`div`,classes:[`tox-statusbar__path-divider`],attributes:{"aria-hidden":!0}},components:[gp(` ${r} `)]},o])}),[]):[];Wf.set(t,o)}))}))])]),components:[]}};var yI;(function(e){e[e.None=0]=`None`,e[e.Both=1]=`Both`,e[e.Vertical=2]=`Vertical`})(yI||={});let bI=e=>{let t=V(e.getContainer());return{height:br(t),width:wr(t)}},xI=(e,t,n)=>{let r=V(e.getContainer()),i=((e,t,n,r)=>{let i=cF(r.height+t.top,$x(e),tS(e));return n===yI.Both?{height:i,width:cF(r.width+t.left,Qx(e),eS(e))}:{height:i}})(e,t,n,bI(e));return Ce(i,((e,t)=>{h(e)&&W(r,t,sF(e))})),(e=>{e.dispatch(`ResizeEditor`)})(e),i},SI=(e,t,n)=>{Kn(e.element,`aria-valuetext`,((e,t)=>t===yI.Both?rw.translate([`Editor's height: {0} pixels, Editor's width: {1} pixels`,e.height,e.width]):rw.translate([`Editor's height: {0} pixels`,e.height]))(t,n))},CI=(e,t,n,r,i)=>(SI(t,xI(e,Dr(20*r,20*i),n),n),T.some(!0)),wI=(e,t)=>{let n=()=>{let n=[],r=jS(e),i=TS(e),a=ES(e)||e.hasPlugin(`wordcount`);return i&&n.push(vI(e,{},t)),r&&n.push((()=>{let e=$D(`Alt+0`);return{dom:{tag:`div`,classes:[`tox-statusbar__help-text`]},components:[gp(rw.translate([`Press {0} for help`,e]))]}})()),a&&n.push((()=>{let n=[];return e.hasPlugin(`wordcount`)&&n.push(((e,t)=>{let n=(e,n,r)=>Wf.set(e,[gp(t.translate([`{0} `+r,n[r]]))]);return U_.sketch({dom:{tag:`button`,classes:[`tox-statusbar__wordcount`]},components:[],buttonBehaviours:Y([PD(t.isDisabled),KD((()=>t.checkUiComponentContext(`any`))),u_.config({}),Wf.config({}),Q.config({store:{mode:`memory`,initialValue:{mode:`words`,count:{words:0,characters:0}}}}),ru(`wordcount-events`,[ql((e=>{let t=Q.getValue(e),r=t.mode===`words`?`characters`:`words`;Q.setValue(e,{mode:r,count:t.count}),n(e,t.count,r)})),Wl((t=>{e.on(`wordCountUpdate`,(e=>{let{mode:r}=Q.getValue(t);Q.setValue(t,{mode:r,count:e.wordCount}),n(t,e.wordCount,r)}))}))])]),eventOrder:{[jo()]:[`disabling`,`alloy.base.behaviour`,`wordcount-events`]}})})(e,t)),ES(e)&&n.push({dom:{tag:`span`,classes:[`tox-statusbar__branding`]},components:[{dom:{tag:`a`,attributes:{href:`https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7`,rel:`noopener`,target:`_blank`,"aria-label":e.translate([`Build with {0}`,`TinyMCE`])},innerHtml:e.translate([`Build with {0}`,`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>`])},behaviours:Y([su.config({})])}]}),{dom:{tag:`div`,classes:[`tox-statusbar__right-container`]},components:n}})()),n.length>0?[{dom:{tag:`div`,classes:[`tox-statusbar__text-container`,...(()=>{let e=`tox-statusbar__text-container--flex-start`,t=`tox-statusbar__text-container--flex-end`;if(r){let n=`tox-statusbar__text-container-3-cols`;return a||i?a&&!i?[n,t]:[n,e]:[n,`tox-statusbar__text-container--space-around`]}return[a&&!i?t:e]})()]},components:n}]:[]};return{dom:{tag:`div`,classes:[`tox-statusbar`]},components:(()=>{let r=n(),i=((e,t)=>{let n=(e=>{let t=DS(e);return!1===t?yI.None:t===`both`?yI.Both:yI.Vertical})(e);if(n===yI.None)return T.none();let r=n===yI.Both?rw.translate(`Press the arrow keys to resize the editor.`):rw.translate(`Press the Up and Down arrow keys to resize the editor.`),i=n===yI.Both?`tox-statusbar__resize-cursor-both`:`tox-statusbar__resize-cursor-default`;return T.some(fw(`resize-handle`,{tag:`div`,classes:[`tox-statusbar__resize-handle`,i],attributes:{"aria-label":t.translate(r),"data-mce-name":`resize-handle`,role:`separator`},behaviours:[lh.config({mode:`mouse`,repositionTarget:!1,onDrag:(t,r,i)=>{SI(t,xI(e,i,n),n)},blockerClass:`tox-blocker`}),ff.config({mode:`special`,onLeft:t=>CI(e,t,n,-1,0),onRight:t=>CI(e,t,n,1,0),onUp:t=>CI(e,t,n,0,-1),onDown:t=>CI(e,t,n,0,1)}),u_.config({}),su.config({}),D_.config(t.tooltips.getConfig({tooltipText:t.translate(`Resize`)})),ru(`set-aria-valuetext`,[Wl((t=>{let r=()=>{SI(t,bI(e),n)};e._skinLoaded?r():e.once(`SkinLoaded`,r)}))])],eventOrder:{[Ho()]:[`add-focusable`,`set-aria-valuetext`]}},t.icons))})(e,t);return r.concat(i.toArray())})()}},TI=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),EI=(e,t)=>{let n=e.inline,r=n?mF:oF,i=KS(e)?dN:tN,a=(()=>{let e=st(),t=st(),n=st();return{dialogUi:e,popupUi:t,mainUi:n,getUiMotherships:()=>{let n=e.get().map((e=>e.mothership)),r=t.get().map((e=>e.mothership));return n.fold((()=>r.toArray()),(e=>r.fold((()=>[e]),(t=>Mt(e.element,t.element)?[e]:[e,t]))))},lazyGetInOuterOrDie:(e,t)=>()=>n.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`)}})(),o=st(),s=st(),c=st(),l=Zt().deviceType.isTouch()?[`tox-platform-touch`]:[],u=VS(e),d=sS(e),f=A_({dom:{tag:`div`,classes:[`tox-anchorbar`]}}),p=A_({dom:{tag:`div`,classes:[`tox-bottom-anchorbar`]}}),m=()=>a.mainUi.get().map((e=>e.outerContainer)).bind(YN.getHeader),h=a.lazyGetInOuterOrDie(`anchor bar`,f.getOpt),g=a.lazyGetInOuterOrDie(`bottom anchor bar`,p.getOpt),_=a.lazyGetInOuterOrDie(`toolbar`,YN.getToolbar),v=a.lazyGetInOuterOrDie(`throbber`,YN.getThrobber),y=((e,t,n,r)=>{let i=Ie(!1),a=(e=>{let t=Ie(VS(e)?`bottom`:`top`);return{isPositionedAtTop:()=>t.get()===`top`,getDockingMode:t.get,setDockingMode:t.set}})(t),o={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:rw.translate,isDisabled:()=>!t.ui.isEnabled(),getOption:t.options.get,tooltips:wM(e.dialog),checkUiComponentContext:e=>{if(Yx(t))return{contextType:`disabled`,shouldDisable:!0};let[n,r=``]=e.split(`:`),i=t.ui.registry.getAll().contexts;return{contextType:n,shouldDisable:!Me(i,n).fold((()=>Me(i,`mode`).map((e=>e(`design`))).getOr(!1)),(e=>r.charAt(0)===`!`?!e(r.slice(1)):e(r)))}}},s=YM(t),c=(e=>{let t=t=>()=>e.formatter.match(t),n=t=>()=>{let n=e.formatter.get(t);return n===void 0?T.none():T.some({tag:n.length>0&&(n[0].inline||n[0].block)||`div`,styles:e.dom.parseStyle(e.formatter.getCssText(t))})},r=Ie([]),i=Ie([]),a=Ie(!1);return e.on(`PreInit`,(i=>{let a=CM(e,xM(e),t,n);r.set(a)})),e.on(`addStyleModifications`,(r=>{let o=CM(e,r.items,t,n);i.set(o),a.set(r.replace)})),{getData:()=>{let e=a.get()?[]:r.get(),t=i.get();return e.concat(t)}}})(t),l=(e=>({colorPicker:fM(e),hasCustomColors:pM(e),getColors:mM(e),getColorCols:hM(e)}))(t),u=(e=>({isDraggableModal:gM(e)}))(t),d={shared:{providers:o,anchors:dM(t,n,r,a.isPositionedAtTop),header:a},urlinput:s,styles:c,colorinput:l,dialog:u,isContextMenuOpen:()=>i.get(),setContextMenuState:e=>i.set(e)},f=e=>T.none(),p={...d,shared:{...d.shared,interpreter:e=>iM(e,{},p,f),getSink:e.popup}},m={...d,shared:{...d.shared,interpreter:e=>iM(e,{},m,f),getSink:e.dialog}};return{popup:p,dialog:m}})({popup:()=>Ge.fromOption(a.popupUi.get().map((e=>e.sink)),`(popup) UI has not been rendered`),dialog:()=>Ge.fromOption(a.dialogUi.get().map((e=>e.sink)),`UI has not been rendered`)},e,h,g),b=()=>{let t=(()=>{let t={attributes:{[xl]:u?bl.BottomToTop:bl.TopToBottom}},n=YN.parts.menubar({dom:{tag:`div`,classes:[`tox-menubar`]},backstage:y.popup,onEscape:()=>{e.focus()}}),r=YN.parts.toolbar({dom:{tag:`div`,classes:[`tox-toolbar`]},getSink:y.popup.shared.getSink,providers:y.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{((e,t)=>{e.dispatch(`ToggleToolbarDrawer`,{state:t})})(e,t)},type:d,lazyToolbar:_,lazyHeader:()=>m().getOrDie(`Could not find header element`),...t}),i=YN.parts[`multiple-toolbar`]({dom:{tag:`div`,classes:[`tox-toolbar-overlord`]},providers:y.popup.shared.providers,onEscape:()=>{e.focus()},type:d}),a=BS(e),o=RS(e),s=FS(e),c=AS(e),l=a||o||s,p=[(h=c,YN.parts.promotion({dom:{tag:`div`,classes:[`tox-promotion`]},promotionLink:h})),n];var h;return YN.parts.header({dom:{tag:`div`,classes:[`tox-editor-header`].concat(l?[]:[`tox-editor-header--empty`]),...t},components:ue([s?p:[],a?[i]:o?[r]:[],US(e)?[]:[f.asSpec()]]),sticky:KS(e),editor:e,sharedBackstage:y.popup.shared})})(),r={dom:{tag:`div`,classes:[`tox-sidebar-wrap`]},components:[YN.parts.socket({dom:{tag:`div`,classes:[`tox-edit-area`]}}),YN.parts.sidebar({dom:{tag:`div`,classes:[`tox-sidebar`]}})]},i=YN.parts.throbber({dom:{tag:`div`,classes:[`tox-throbber`]},backstage:y.popup}),a=YN.parts.viewWrapper({backstage:y.popup}),s=wS(e)&&!n?T.some(wI(e,y.popup.shared.providers)):T.none(),c=ue([u?[]:[t],n?[]:[r],u?[t]:[]]),h=YN.parts.editorContainer({components:ue([c,n?[]:[p.asSpec()]])}),g=GS(e),v={role:`application`,...rw.isRtl()?{dir:`rtl`}:{},...g?{"aria-hidden":`true`}:{}},b=bp(YN.sketch({dom:{tag:`div`,classes:[`tox`,`tox-tinymce`].concat(n?[`tox-tinymce-inline`]:[],u?[`tox-tinymce--toolbar-bottom`]:[],l),styles:{visibility:`hidden`,...g?{opacity:`0`,border:`0`}:{}},attributes:v},components:[h,...n?[]:[a,...s.toArray()],i],behaviours:Y([KD((()=>y.popup.shared.providers.checkUiComponentContext(`any`))),Bp.config({disableClass:`tox-tinymce--disabled`}),ff.config({mode:`cyclic`,selector:`.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle`})])})),x=B_(b);return o.set(x),{mothership:x,outerContainer:b}},x=t=>{let n=sF((e=>(e=>{let t=((e,t)=>{if(typeof t==`number`)return T.from(t);let n=/^([0-9.]+)(pt|em|px)$/.exec(t.trim());if(n){let t=n[2],r=Number.parseFloat(n[1]);if(Number.isNaN(r)||r<0)return T.none();if(t===`em`)return T.from(r*Number.parseFloat(window.getComputedStyle(e.dom).fontSize));if(t===`pt`)return T.from(.75*r);if(t===`px`)return T.from(r)}return T.none()})(V(e.targetElm),Xx(e)),n=$x(e),r=tS(e);return t.map((e=>cF(e,n,r)))})(e).getOr(Xx(e)))(e)),r=sF((e=>lF(e).getOr(Zx(e)))(e));return e.inline||(hr(`div`,`width`,r)&&W(t.element,`width`,r),hr(`div`,`height`,n)?W(t.element,`height`,n):W(t.element,`height`,`400px`)),n},S=t=>{let{mainUi:n,popupUi:a,uiMotherships:o}=t;we(cS(e),((t,n)=>{e.ui.registry.addGroupToolbarButton(n,t)}));let{buttons:s,menuItems:c,contextToolbars:l,sidebars:u,views:f}=e.ui.registry.getAll(),p=zS(e),h={menuItems:c,menus:JS(e),menubar:mS(e),toolbar:p.getOrThunk((()=>hS(e))),allowToolbarGroups:d===Rx.floating,buttons:s,sidebar:u,views:f};var g=n.outerContainer;e.addShortcut(`alt+F9`,`focus menubar`,(()=>{YN.focusMenubar(g)})),e.addShortcut(`alt+F10`,`focus toolbar`,(()=>{YN.focusToolbar(g)})),e.addCommand(`ToggleToolbarDrawer`,((e,t,n)=>{t?.skipFocus?(console.warn(XM.skipFocus,Error().stack),YN.toggleToolbarDrawerWithoutFocusing(g)):n?.skip_focus?YN.toggleToolbarDrawerWithoutFocusing(g):YN.toggleToolbarDrawer(g)})),e.addQueryStateHandler(`ToggleToolbarDrawer`,(()=>YN.isToolbarDrawerToggled(g))),e.on(`blur`,(()=>{sS(e)===Rx.floating&&YN.isToolbarDrawerToggled(g)&&YN.toggleToolbarDrawerWithoutFocusing(g)})),((e,t,n)=>{let r=(e,r)=>{M([t,...n],(t=>{t.broadcastEvent(e,r)}))},i=(e,r)=>{M([t,...n],(t=>{t.broadcastOn([e],r)}))},a=e=>i(vu(),{target:e.target}),o=e=>{i(_u(),{closedTooltip:()=>{e.preventDefault()}})},s=H(),c=Mn(s,`touchstart`,a),l=Mn(s,`touchmove`,(e=>r(Ro(),e))),u=Mn(s,`touchend`,(e=>r(zo(),e))),d=Mn(s,`mousedown`,a),f=Mn(s,`mouseup`,(e=>{e.raw.button===0&&i(bu(),{target:e.target})})),p=e=>i(vu(),{target:V(e.target)}),m=e=>{e.button===0&&i(bu(),{target:V(e.target)})},h=()=>{M(e.editorManager.get(),(t=>{e!==t&&t.dispatch(`DismissPopups`,{relatedTarget:e})}))},g=e=>r(Bo(),Pn(e)),_=e=>{i(yu(),{}),r(Vo(),Pn(e))},v=Nn(wn(V(e.getElement())),`scroll`,(n=>{requestAnimationFrame((()=>{e.getContainer()!=null&&ae(eC(e,t.element).map((e=>[e.element,...e.others])).getOr([]),(e=>Mt(e,n.target)))&&(e.dispatch(`ElementScroll`,{target:n.target.dom}),r(Jo(),n))}))})),y=()=>i(yu(),{}),b=t=>{t.state&&i(vu(),{target:V(e.getContainer())})},x=e=>{i(vu(),{target:V(e.relatedTarget.getContainer())})},S=t=>e.dispatch(`focusin`,t),ee=t=>e.dispatch(`focusout`,t);e.on(`PostRender`,(()=>{e.on(`click`,p),e.on(`tap`,p),e.on(`mouseup`,m),e.on(`mousedown`,h),e.on(`ScrollWindow`,g),e.on(`ResizeWindow`,_),e.on(`ResizeEditor`,y),e.on(`AfterProgressState`,b),e.on(`DismissPopups`,x),e.on(`CloseActiveTooltips`,o),M([t,...n],(e=>{e.element.dom.addEventListener(`focusin`,S),e.element.dom.addEventListener(`focusout`,ee)}))})),e.on(`remove`,(()=>{e.off(`click`,p),e.off(`tap`,p),e.off(`mouseup`,m),e.off(`mousedown`,h),e.off(`ScrollWindow`,g),e.off(`ResizeWindow`,_),e.off(`ResizeEditor`,y),e.off(`AfterProgressState`,b),e.off(`DismissPopups`,x),e.off(`CloseActiveTooltips`,o),M([t,...n],(e=>{e.element.dom.removeEventListener(`focusin`,S),e.element.dom.removeEventListener(`focusout`,ee)})),d.unbind(),c.unbind(),l.unbind(),u.unbind(),f.unbind(),v.unbind()})),e.on(`detach`,(()=>{M([t,...n],jf),M([t,...n],(e=>e.destroy()))}))})(e,n.mothership,o),i.setup(e,y.popup.shared,m),KF(e,y.popup),pI(e,y.popup.shared.getSink,y.popup),(e=>{let{sidebars:t}=e.ui.registry.getAll();M(xe(t),(n=>{let r=t[n],i=()=>$e(T.from(e.queryCommandValue(`ToggleSidebar`)),n);e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:t=>{e.execCommand(`ToggleSidebar`,!1,n),t.setActive(i())},onSetup:t=>{t.setActive(i());let n=()=>t.setActive(i());return e.on(`ToggleSidebar`,n),()=>{e.off(`ToggleSidebar`,n)}},context:`any`})}))})(e),xN(e,v,y.popup.shared),LF(e,l,a.sink,{backstage:y.popup}),_I(e,a.sink);let _={targetNode:e.getElement(),height:x(n.outerContainer)};return r.render(e,t,h,y.popup,_)};return{popups:{backstage:y.popup,getMothership:()=>TI(`popups`,c)},dialogs:{backstage:y.dialog,getMothership:()=>TI(`dialogs`,s)},renderUI:()=>{let n=b(),r=(()=>{let t=WS(e),n=Mt(ar(),t)&&dr(t,`display`)===`grid`,r={dom:{tag:`div`,classes:[`tox`,`tox-silver-sink`,`tox-tinymce-aux`].concat(l),attributes:{...rw.isRtl()?{dir:`rtl`}:{}}},behaviours:Y([kg.config({useFixed:()=>i.isDocked(m)})])},a={dom:{styles:{width:document.body.clientWidth+`px`}},events:Pl([J(Vo(),(e=>{W(e.element,`width`,document.body.clientWidth+`px`)}))])},o=bp(B(r,n?a:{})),c=B_(o);return s.set(c),{sink:o,mothership:c}})(),o=qS(e)?(()=>{let e=bp({dom:{tag:`div`,classes:[`tox`,`tox-silver-sink`,`tox-silver-popup-sink`,`tox-tinymce-aux`].concat(l),attributes:{...rw.isRtl()?{dir:`rtl`}:{}}},behaviours:Y([kg.config({useFixed:()=>i.isDocked(m),getBounds:()=>t.getPopupSinkBounds()})])}),n=B_(e);return c.set(n),{sink:e,mothership:n}})():(e=>(c.set(e.mothership),e))(r);return a.dialogUi.set(r),a.popupUi.set(o),a.mainUi.set(n),S({popupUi:o,dialogUi:r,mainUi:n,uiMotherships:a.getUiMotherships()})}}},DI=e=>{let t=[],n={};return Ce(e,((e,r)=>{e.fold((()=>{t.push(r)}),(e=>{n[r]=e}))})),t.length>0?Ge.error(t):Ge.value(n)},OI=(e,t,n,r)=>{let i=A_(Uv.sketch((i=>({dom:{tag:`div`,classes:[`tox-form`].concat(e.classes)},components:j(e.items,(e=>nM(i,e,t,n,r)))}))));return{dom:{tag:`div`,classes:[`tox-dialog__body`]},components:[{dom:{tag:`div`,classes:[`tox-dialog__body-content`]},components:[i.asSpec()]}],behaviours:Y([ff.config({mode:`acyclic`,useTabstopAt:te(PA)}),(a=i,Ep.config({find:a.getOpt})),cA(i,{postprocess:e=>DI(e).fold((e=>(console.error(e),{})),x)}),ru(`dialog-body-panel`,[J(mo(),((e,t)=>{e.getSystem().broadcastOn([BA],{newFocus:T.some(t.event.target)})}))])])};var a},kI=(e,t)=>{W(e,`height`,t+`px`),W(e,`flex-basis`,t+`px`)},AI=(e,t,n)=>{Vr(e,`[role="dialog"]`).each((e=>{Wr(e,`[role="tablist"]`).each((r=>{n.get().map((n=>(W(t,`height`,`0`),W(t,`flex-basis`,`0`),Math.min(n,((e,t,n)=>{let r=dn(e).dom,i=Vr(e,`.tox-dialog-wrap`).getOr(e),a;a=dr(i,`position`)===`fixed`?Math.max(r.clientHeight,window.innerHeight):Math.max(r.offsetHeight,r.scrollHeight);let o=br(t),s=t.dom.offsetLeft>=n.dom.offsetLeft+wr(n)?Math.max(br(n),o):o,c=parseInt(dr(e,`margin-top`),10)||0,l=parseInt(dr(e,`margin-bottom`),10)||0;return a-(br(e)+c+l-s)})(e,t,r))))).each((e=>{kI(t,e)}))}))}))},jI=e=>Wr(e,`[role="tabpanel"]`),MI=`send-data-to-section`,NI=`send-data-to-view`,PI=(e,t,n,r)=>{let i=Ie({}),a=e=>{let t=DI(Q.getValue(e)).getOr({}),n=B(i.get(),t);i.set(n)},o=e=>{let t=i.get();Q.setValue(e,t)},s=Ie(null),c=j(e.tabs,(e=>({value:e.name,dom:{tag:`div`,classes:[`tox-dialog__body-nav-item`]},components:[gp(n.shared.providers.translate(e.title))],view:()=>[Uv.sketch((i=>({dom:{tag:`div`,classes:[`tox-form`]},components:j(e.items,(e=>nM(i,e,t,n,r))),formBehaviours:Y([ff.config({mode:`acyclic`,useTabstopAt:te(PA)}),ru(`TabView.form.events`,[Wl(o),Gl(a)]),jg.config({channels:no([{key:MI,value:{onReceive:a}},{key:NI,value:{onReceive:o}}])})])})))]}))),l=(e=>{let t=st();return{extraEvents:[Wl((n=>{let r=n.element;jI(r).each((i=>{W(i,`visibility`,`hidden`),n.getSystem().getByDom(i).toOptional().each((n=>{(e=>L(ge(e,((e,t)=>e>t?-1:e<t?1:0))))(((e,t,n)=>j(e,((r,i)=>{Wf.set(n,e[i].view());let a=t.dom.getBoundingClientRect();return Wf.set(n,[]),a.height})))(e,i,n)).fold(t.clear,t.set)})),AI(r,i,t),gr(i,`visibility`),((e,t)=>{L(e).each((e=>Ax.showTab(t,e.value)))})(e,n),requestAnimationFrame((()=>{AI(r,i,t)}))}))})),J(Vo(),(e=>{let n=e.element;jI(n).each((e=>{AI(n,e,t)}))})),J(eA,((e,n)=>{let r=e.element;jI(r).each((e=>{let n=Rn(wn(e));W(e,`visibility`,`hidden`);let i=pr(e,`height`).map((e=>parseInt(e,10)));gr(e,`height`),gr(e,`flex-basis`);let a=e.dom.getBoundingClientRect().height;i.forall((e=>a>e))?(t.set(a),AI(r,e,t)):i.each((t=>{kI(e,t)})),gr(e,`visibility`),n.each(Fn)}))}))],selectFirst:!1}})(c);return Ax.sketch({dom:{tag:`div`,classes:[`tox-dialog__body`]},onChangeTab:(e,t,n)=>{let r=Q.getValue(t);kl(e,$k,{name:r,oldName:s.get()}),s.set(r)},tabs:c,components:[Ax.parts.tabbar({dom:{tag:`div`,classes:[`tox-dialog__body-nav`]},components:[Ex.parts.tabs({})],markers:{tabClass:`tox-tab`,selectedClass:`tox-dialog__body-nav-item--active`},tabbarBehaviours:Y([u_.config({})])}),Ax.parts.tabview({dom:{tag:`div`,classes:[`tox-dialog__body-content`]}})],selectFirst:l.selectFirst,tabSectionBehaviours:Y([ru(`tabpanel`,l.extraEvents),ff.config({mode:`acyclic`}),Ep.config({find:e=>L(Ax.getViewItems(e))}),lA(T.none(),(e=>(e.getSystem().broadcastOn([MI],{}),i.get())),((e,t)=>{i.set(t),e.getSystem().broadcastOn([NI],{})}))])})},FI=(e,t,n,r,i,a)=>({dom:{tag:`div`,classes:[`tox-dialog__content-js`],attributes:{...n.map((e=>({id:e}))).getOr({}),...i?{"aria-live":`polite`}:{}}},components:[],behaviours:Y([oA(0),Pg.config({channel:`${LA}-${t}`,updateState:(e,t)=>T.some({isTabPanel:()=>t.body.type===`tabpanel`}),renderComponents:e=>{let t=e.body;return t.type===`tabpanel`?[PI(t,e.initialData,r,a)]:[OI(t,e.initialData,r,a)]},initialData:e})])}),II=Wx.deviceType.isTouch(),LI=(e,t)=>({dom:{tag:`div`,styles:{display:`none`},classes:[`tox-dialog__header`]},components:[e,t]}),RI=(e,t)=>vy.parts.close(U_.sketch({dom:{tag:`button`,classes:[`tox-button`,`tox-button--icon`,`tox-button--naked`],attributes:{type:`button`,"aria-label":t.translate(`Close`)}},action:e,buttonBehaviours:Y([u_.config({})])})),zI=()=>vy.parts.title({dom:{tag:`div`,classes:[`tox-dialog__title`],innerHtml:``,styles:{display:`none`}}}),BI=(e,t)=>vy.parts.body({dom:{tag:`div`,classes:[`tox-dialog__body`]},components:[{dom:{tag:`div`,classes:[`tox-dialog__body-content`]},components:[{dom:k_(`<p>${nw(t.translate(e))}</p>`)}]}]}),VI=e=>vy.parts.footer({dom:{tag:`div`,classes:[`tox-dialog__footer`]},components:e}),HI=(e,t)=>[Um.sketch({dom:{tag:`div`,classes:[`tox-dialog__footer-start`]},components:e}),Um.sketch({dom:{tag:`div`,classes:[`tox-dialog__footer-end`]},components:t})],UI=e=>{let t=`tox-dialog`,n=t+`-wrap`,r=n+`__backdrop`,i=t+`__disable-scroll`;return vy.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),T.some(!0)),useTabstopAt:e=>!PA(e),firstTabstop:e.firstTabstop,dom:{tag:`div`,classes:[t].concat(e.extraClasses),styles:{position:`relative`,...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:k_(`<div class="${n}"></div>`),components:[{dom:{tag:`div`,classes:II?[r,r+`--opaque`]:[r]}}]}},dragBlockClass:n,modalBehaviours:Y([su.config({}),ru(`dialog-events`,e.dialogEvents.concat([Ul(mo(),((e,t)=>{wp.isBlocked(e)||ff.focusIn(e)})),J(Ko(),((e,t)=>{e.getSystem().broadcastOn([BA],{newFocus:t.event.newFocus})}))])),ru(`scroll-lock`,[Wl((()=>{Qr(ar(),i)})),Gl((()=>{ei(ar(),i)}))]),...e.extraBehaviours]),eventOrder:{[jo()]:[`dialog-events`],[Ho()]:[`scroll-lock`,`dialog-events`,`alloy.base.behaviour`],[Uo()]:[`alloy.base.behaviour`,`dialog-events`,`scroll-lock`],...e.eventOrder}})},WI=e=>U_.sketch({dom:{tag:`button`,classes:[`tox-button`,`tox-button--icon`,`tox-button--naked`],attributes:{type:`button`,"aria-label":e.translate(`Close`),"data-mce-name":`close`}},buttonBehaviours:Y([u_.config({}),D_.config(e.tooltips.getConfig({tooltipText:e.translate(`Close`)}))]),components:[fw(`close`,{tag:`span`,classes:[`tox-icon`]},e.icons)],action:e=>{Ol(e,Jk)}}),GI=(e,t,n,r)=>({dom:{tag:`h1`,classes:[`tox-dialog__title`],attributes:{...n.map((e=>({id:e}))).getOr({})}},components:[],behaviours:Y([Pg.config({channel:`${IA}-${t}`,initialData:e,renderComponents:e=>[gp(r.translate(e.title))]})])}),KI=()=>({dom:k_(`<div class="tox-dialog__draghandle"></div>`)}),qI=(e,t,n)=>((e,t,n)=>{let r=vy.parts.title(GI(e,t,T.none(),n)),i=vy.parts.draghandle(KI()),a=vy.parts.close(WI(n)),o=[r].concat(e.draggable?[i]:[],[a]);return Um.sketch({dom:k_(`<div class="tox-dialog__header"></div>`),components:o})})({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers),JI=(e,t,n,r)=>({dom:{tag:`div`,classes:[`tox-dialog__busy-spinner`],attributes:{"aria-label":n.translate(e)},styles:{left:`0px`,right:`0px`,bottom:`0px`,top:`${r.getOr(0)}px`,position:`absolute`}},behaviours:t,components:[{dom:k_(`<div class="tox-spinner"><div></div><div></div><div></div></div>`)}]}),YI=(e,t,n)=>({onClose:()=>n.closeWindow(),onBlock:n=>{let r=Wr(e().element,`.tox-dialog__header`).map((e=>br(e)));vy.setBusy(e(),((e,i)=>JI(n.message,i,t,r)))},onUnblock:()=>{vy.setIdle(e())}}),XI=`tox-dialog--fullscreen`,ZI=`tox-dialog--width-lg`,QI=`tox-dialog--width-md`,$I=e=>{switch(e){case`large`:return T.some(ZI);case`medium`:return T.some(QI);default:return T.none()}},eL=(e,t)=>{let n=V(t.element.dom);ti(n,XI)||(ri(n,[ZI,QI]),$I(e).each((e=>Qr(n,e))))},tL=(e,t)=>{let n=V(e.element.dom);((e,t)=>{M(t,(t=>{((e,t)=>{Jr(e)?e.dom.classList.toggle(t):((e,t)=>k(Yr(e),t)?Zr(e,t):Xr(e,t))(e,t),$r(e)})(e,t)}))})(n,[XI,...le(ii(n),(e=>e===ZI||e===QI)).or($I(t)).toArray()])},nL=(e,t,n)=>bp(UI({...e,firstTabstop:1,lazySink:n.shared.getSink,extraBehaviours:[dA({}),...e.extraBehaviours],onEscape:e=>{Ol(e,Jk)},dialogEvents:t,eventOrder:{[Ao()]:[Pg.name(),jg.name()],[Ho()]:[`scroll-lock`,Pg.name(),`messages`,`dialog-events`,`alloy.base.behaviour`],[Uo()]:[`alloy.base.behaviour`,`dialog-events`,`messages`,Pg.name(),`scroll-lock`]}})),rL=(e,t={})=>j(e,(e=>e.type===`menu`?(e=>{let n=j(e.items,(e=>{let n=Me(t,e.name).getOr(Ie(!1));return{...e,storage:n}}));return{...e,items:n}})(e):e)),iL=e=>P(e,((e,t)=>t.type===`menu`?P(t.items,((e,t)=>(e[t.name]=t.storage,e)),e):e),{}),aL=(e,t)=>[Bl(mo(),NA),e(qk,((e,n,r,i)=>{Ln(i.element)&&Rn(wn(i.element)).each(In),t.onClose(),n.onClose()})),e(Jk,((e,t,n,r)=>{t.onCancel(e),Ol(r,qk)})),J(Qk,((e,n)=>t.onUnblock())),J(Zk,((e,n)=>t.onBlock(n.event)))],oL=(e,t,n)=>{let r=(t,n)=>J(t,((t,r)=>{i(t,((i,a)=>{n(e(),i,r.event,t)}))})),i=(e,t)=>{Pg.getState(e).get().each((n=>{t(n.internalDialog,e)}))};return[...aL(r,t),r(Xk,((e,t)=>t.onSubmit(e))),r(Gk,((e,t,n)=>{t.onChange(e,{name:n.name})})),r(Yk,((e,t,r,i)=>{let a=()=>i.getSystem().isConnected()?ff.focusIn(i):void 0,o=e=>Xn(e,`disabled`)||Yn(e,`aria-disabled`).exists((e=>e===`true`)),s=wn(i.element),c=Rn(s);t.onAction(e,{name:r.name,value:r.value}),Rn(s).fold(a,(e=>{o(e)||c.exists((t=>Nt(e,t)&&o(t)))?a():n().toOptional().filter((t=>!Nt(t.element,e))).each(a)}))})),r($k,((e,t,n)=>{t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Gl((t=>{let n=e();Q.setValue(t,n.getData())}))]},sL=(e,t)=>{let n=se(t.map((e=>e.footerButtons)).getOr([]),(e=>e.align===`start`)),r=(e,t)=>Um.sketch({dom:{tag:`div`,classes:[`tox-dialog__footer-${e}`]},components:j(t,(e=>e.memento.asSpec()))});return[r(`start`,n.pass),r(`end`,n.fail)]},cL=(e,t,n)=>({dom:k_(`<div class="tox-dialog__footer"></div>`),components:[],behaviours:Y([Pg.config({channel:`${RA}-${t}`,initialData:e,updateState:(e,t)=>{let r=j(t.buttons,(e=>{let t=A_(((e,t)=>Hj(e,e.type,t))(e,n));return{name:e.name,align:e.align,memento:t}}));return T.some({lookupByName:t=>((e,t,n)=>le(t,(e=>e.name===n)).bind((t=>t.memento.getOpt(e))))(e,r,t),footerButtons:r})},renderComponents:sL})])}),lL=(e,t,n)=>vy.parts.footer(cL(e,t,n)),uL=(e,t)=>{if(e.getRoot().getSystem().isConnected()){let n=Ep.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return Uv.getField(n,t).orThunk((()=>e.getFooter().bind((e=>Pg.getState(e).get())).bind((e=>e.lookupByName(t)))))}return T.none()},dL=(e,t,n)=>{let r=t=>{let n=e.getRoot();n.getSystem().isConnected()&&t(n)},i={getData:()=>{let t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t;return{...Q.getValue(r),...we(n,(e=>e.get()))}},setData:t=>{r((r=>{let a=B(i.getData(),t),o=((e,t)=>{let n=e.getRoot();return Pg.getState(n).get().map((e=>Ca(Sa(`data`,e.dataValidator,t)))).getOr(t)})(e,a),s=e.getFormWrapper();Q.setValue(s,o),Ce(n,((e,t)=>{Ne(a,t)&&e.set(a[t])}))}))},setEnabled:(t,n)=>{uL(e,t).each(n?Bp.enable:Bp.disable)},focus:t=>{uL(e,t).each(su.focus)},block:e=>{if(!a(e))throw Error(`The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument`);r((t=>{kl(t,Zk,{message:e})}))},unblock:()=>{r((e=>{Ol(e,Qk)}))},showTab:t=>{r((n=>{let r=e.getBody();Pg.getState(r).get().exists((e=>e.isTabPanel()))&&Ep.getCurrent(r).each((e=>{Ax.showTab(e,t)}))}))},redial:a=>{r((r=>{let o=e.getId(),s=t(a),c=rL(s.internalDialog.buttons,n);r.getSystem().broadcastOn([`${FA}-${o}`],s),r.getSystem().broadcastOn([`${IA}-${o}`],s.internalDialog),r.getSystem().broadcastOn([`${LA}-${o}`],s.internalDialog),r.getSystem().broadcastOn([`${RA}-${o}`],{...s.internalDialog,buttons:c}),i.setData(s.initialData)}))},close:()=>{r((e=>{Ol(e,qk)}))},toggleFullscreen:e.toggleFullscreen};return i},fL=(e,t,n,r=!1,i)=>{let a=z(`dialog`),o=z(`dialog-label`),s=z(`dialog-content`),c=e.internalDialog,l=Ie(c.size),u=$I(l.get()).toArray(),d=A_(((e,t,n,r)=>Um.sketch({dom:k_(`<div class="tox-dialog__header"></div>`),components:[GI(e,t,T.some(n),r),KI(),WI(r)],containerBehaviours:Y([lh.config({mode:`mouse`,blockerClass:`blocker`,getTarget:e=>Gr(e,`[role="dialog"]`).getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:`data-drag-left`,topAttr:`data-drag-top`},onDrag:(e,t)=>{e.getSystem().broadcastOn([yu()],{target:t})}})])}))({title:c.title,draggable:!0},a,o,n.shared.providers)),f=A_(((e,t,n,r,i,a)=>FI(e,t,T.some(n),r,i,a))({body:c.body,initialData:c.initialData},a,s,n,r,(e=>uL(y,e)))),p=rL(c.buttons),m=iL(p),h=rt(p.length!==0,A_(((e,t,n)=>cL(e,t,n))({buttons:p},a,n))),g=oL((()=>x),{onBlock:e=>{wp.block(v,((t,r)=>{let i=d.getOpt(v).map((e=>br(e.element)));return JI(e.message,r,n.shared.providers,i)}))},onUnblock:()=>{wp.unblock(v)},onClose:()=>t.closeWindow()},n.shared.getSink),_=Zt().os,v=bp({dom:{tag:`div`,classes:[`tox-dialog`,`tox-dialog-inline`,...u],attributes:{role:`dialog`,..._.isMacOS()?{"aria-label":c.title}:{"aria-labelledby":o}}},eventOrder:{[Ao()]:[Pg.name(),jg.name()],[jo()]:[`execute-on-form`],[Ho()]:[`reflecting`,`execute-on-form`]},behaviours:Y([ff.config({mode:`cyclic`,onEscape:e=>(Ol(e,qk),T.some(!0)),useTabstopAt:e=>!PA(e)&&(en(e)!==`button`||Jn(e,`disabled`)!==`disabled`),firstTabstop:1}),Pg.config({channel:`${FA}-${a}`,updateState:(e,t)=>(l.set(t.internalDialog.size),eL(t.internalDialog.size,e),i(),T.some(t)),initialData:e}),su.config({}),ru(`execute-on-form`,g.concat([Ul(mo(),((e,t)=>{ff.focusIn(e)})),J(Ko(),((e,t)=>{e.getSystem().broadcastOn([BA],{newFocus:t.event.newFocus})}))])),wp.config({getRoot:()=>T.some(v)}),Wf.config({}),dA({})]),components:[d.asSpec(),f.asSpec(),...h.map((e=>e.asSpec())).toArray()]}),y={getId:b(a),getRoot:b(v),getFooter:()=>h.map((e=>e.get(v))),getBody:()=>f.get(v),getFormWrapper:()=>{let e=f.get(v);return Ep.getCurrent(e).getOr(e)},toggleFullscreen:()=>{tL(v,l.get())}},x=dL(y,t.redial,m);return{dialog:v,instanceApi:x}};var pL=tinymce.util.Tools.resolve(`tinymce.util.URI`);let mL=[`insertContent`,`setContent`,`execCommand`,`close`,`block`,`unblock`],hL=e=>o(e)&&mL.indexOf(e.mceAction)!==-1,gL=(e,t,n,r)=>{let i=z(`dialog`),s=qI(e.title,i,r),c=(e=>{let t={dom:{tag:`div`,classes:[`tox-dialog__content-js`]},components:[{dom:{tag:`div`,classes:[`tox-dialog__body-iframe`]},components:[jA(T.none(),{dom:{tag:`iframe`,attributes:{src:e.url}},behaviours:Y([u_.config({}),su.config({})])})]}],behaviours:Y([ff.config({mode:`acyclic`,useTabstopAt:te(PA)})])};return vy.parts.body(t)})(e),l=e.buttons.bind((e=>e.length===0?T.none():T.some(lL({buttons:e},i,r)))),d=((e,t)=>{let n=(e,t)=>J(e,((e,n)=>{r(e,((r,i)=>{t(y,r,n.event,e)}))})),r=(e,t)=>{Pg.getState(e).get().each((n=>{t(n,e)}))};return[...aL(n,t),n(Yk,((e,t,n)=>{t.onAction(e,{name:n.name})}))]})(0,YI((()=>v),r.shared.providers,t)),f={...e.height.fold((()=>({})),(e=>({height:e+`px`,"max-height":e+`px`}))),...e.width.fold((()=>({})),(e=>({width:e+`px`,"max-width":e+`px`})))},m=e.width.isNone()&&e.height.isNone()?[`tox-dialog--width-lg`]:[],h=new pL(e.url,{base_uri:new pL(window.location.href)}),g=`${h.protocol}://${h.host}${h.port?`:`+h.port:``}`,_=ot(),v=nL({id:i,header:s,body:c,footer:l,extraClasses:m,extraBehaviours:[Pg.config({channel:`${FA}-${i}`,updateState:(e,t)=>T.some(t),initialData:e}),ru(`messages`,[Wl((()=>{let t=Mn(V(window),`message`,(t=>{if(h.isSameOrigin(new pL(t.raw.origin))){let r=t.raw.data;hL(r)?((e,t,n)=>{switch(n.mceAction){case`insertContent`:e.insertContent(n.content);break;case`setContent`:e.setContent(n.content);break;case`execCommand`:let r=!!u(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case`close`:t.close();break;case`block`:t.block(n.message);break;case`unblock`:t.unblock()}})(n,y,r):(e=>!hL(e)&&o(e)&&Ne(e,`mceAction`))(r)&&e.onMessage(y,r)}}));_.set(t)})),Gl(_.clear)]),jg.config({channels:{[zA]:{onReceive:(e,t)=>{Wr(e.element,`iframe`).each((e=>{let n=e.dom.contentWindow;p(n)&&n.postMessage(t,g)}))}}}})],extraStyles:f},d,r),y=(e=>{let t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!a(e))throw Error(`The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument`);t((t=>{kl(t,Zk,{message:e})}))},unblock:()=>{t((e=>{Ol(e,Qk)}))},close:()=>{t((e=>{Ol(e,qk)}))},sendMessage:e=>{t((t=>{t.getSystem().broadcastOn([zA],e)}))}}})(v);return{dialog:v,instanceApi:y}},_L=(e,t)=>Ca(Sa(`data`,t,e)),vL=e=>ui(e,`.tox-alert-dialog`)||ui(e,`.tox-confirm-dialog`),yL=(e,t,n,r)=>t&&n?[]:[fm.config({contextual:{lazyContext:()=>T.some(ji(V(e.getContentAreaContainer()))),fadeInClass:`tox-dialog-dock-fadein`,fadeOutClass:`tox-dialog-dock-fadeout`,transitionClass:`tox-dialog-dock-transition`,onHide:r},modes:[`top`],lazyViewport:t=>eC(e,t.element).map((e=>({bounds:tC(e),optScrollEnv:T.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:kr(e.element).top})}))).getOrThunk((()=>({bounds:Pi(),optScrollEnv:T.none()})))})],bL=e=>{let t=e.editor,n=KS(t),r=(e=>{let t=e.shared;return{open:(n,r)=>{let i=()=>{vy.hide(o),r()},a=A_(Hj({context:`any`,name:`close-alert`,text:`OK`,primary:!0,buttonType:T.some(`primary`),align:`end`,enabled:!0,icon:T.none()},`cancel`,e)),o=bp(UI({lazySink:()=>t.getSink(),header:LI(zI(),RI(i,t.providers)),body:BI(n,t.providers),footer:T.some(VI(HI([],[a.asSpec()]))),onEscape:i,extraClasses:[`tox-alert-dialog`],extraBehaviours:[],extraStyles:{},dialogEvents:[J(Jk,i)],eventOrder:{}}));vy.show(o);let s=a.get(o);su.focus(s)}}})(e.backstages.dialog),i=(e=>{let t=e.shared;return{open:(n,r)=>{let i=e=>{vy.hide(s),r(e)},a=A_(Hj({context:`any`,name:`yes`,text:`Yes`,primary:!0,buttonType:T.some(`primary`),align:`end`,enabled:!0,icon:T.none()},`submit`,e)),o=Hj({context:`any`,name:`no`,text:`No`,primary:!1,buttonType:T.some(`secondary`),align:`end`,enabled:!0,icon:T.none()},`cancel`,e),s=bp(UI({lazySink:()=>t.getSink(),header:LI(zI(),RI((()=>i(!1)),t.providers)),body:BI(n,t.providers),footer:T.some(VI(HI([],[o,a.asSpec()]))),onEscape:()=>i(!1),extraClasses:[`tox-confirm-dialog`],extraBehaviours:[],extraStyles:{},dialogEvents:[J(Jk,(()=>i(!1))),J(Xk,(()=>i(!0)))],eventOrder:{}}));vy.show(s);let c=a.get(s);su.focus(c)}}})(e.backstages.dialog),a=(t,n)=>KE.open(((t,r,i)=>{let a=r,o=((e,t,n)=>{let r=z(`dialog`),i=e.internalDialog,a=qI(i.title,r,n),o=Ie(i.size),s=$I(o.get()).toArray(),c=((e,t,n,r)=>{let i=FI(e,t,T.none(),n,!1,r);return vy.parts.body(i)})({body:i.body,initialData:i.initialData},r,n,(e=>uL(m,e))),l=rL(i.buttons),u=iL(l),d=rt(l.length!==0,lL({buttons:l},r,n)),f=oL((()=>h),YI((()=>p),n.shared.providers,t),n.shared.getSink),p=nL({id:r,header:a,body:c,footer:d,extraClasses:s,extraBehaviours:[Pg.config({channel:`${FA}-${r}`,updateState:(e,t)=>(o.set(t.internalDialog.size),eL(t.internalDialog.size,e),T.some(t)),initialData:e})],extraStyles:{}},f,n),m={getId:b(r),getRoot:b(p),getBody:()=>vy.getBody(p),getFooter:()=>vy.getFooter(p),getFormWrapper:()=>{let e=vy.getBody(p);return Ep.getCurrent(e).getOr(e)},toggleFullscreen:()=>{tL(p,o.get())}},h=dL(m,t.redial,u);return{dialog:p,instanceApi:h}})({dataValidator:i,initialData:a,internalDialog:t},{redial:KE.redial,closeWindow:()=>{vy.hide(o.dialog),n(o.instanceApi)}},e.backstages.dialog);return vy.show(o.dialog),o.instanceApi.setData(a),o.instanceApi}),t),o=(r,i,a,o)=>KE.open(((r,s,c)=>{let l=_L(s,c),u=st(),d=e.backstages.popup.shared.header.isPositionedAtTop(),f=()=>u.on((e=>{cy.reposition(e),n&&d||fm.refresh(e)})),p=fL({dataValidator:c,initialData:l,internalDialog:r},{redial:KE.redial,closeWindow:()=>{u.on(cy.hide),t.off(`ResizeEditor`,f),t.off(`ScrollWindow`,m),u.clear(),a(p.instanceApi)}},e.backstages.popup,o.ariaAttrs,f),m=()=>p.dialog.getSystem().broadcastOn([yu()],{target:p.dialog.element}),h=bp(cy.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:`div`,classes:[]},fireDismissalEventInstead:o.persistent?{event:`doNotDismissYet`}:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Y([ru(`window-manager-inline-events`,[J(Wo(),((e,t)=>{Ol(p.dialog,Jk)}))]),...yL(t,n,d,(()=>p.dialog.getSystem().broadcastOn([vu()],{target:p.dialog.element})))]),isExtraPart:(e,t)=>vL(t)}));return u.set(h),cy.showWithinBounds(h,xp(p.dialog),{anchor:i},(()=>{let e=ji(t.inline?ar():V(t.getContainer()));return T.some(e)})),n&&d||(fm.refresh(h),t.on(`ResizeEditor`,f)),t.on(`ScrollWindow`,m),p.instanceApi.setData(l),ff.focusIn(p.dialog),p.instanceApi}),r),s=(n,r,i,a)=>KE.open(((n,o,s)=>{let c=_L(o,s),l=st(),u=e.backstages.popup.shared.header.isPositionedAtTop(),d=()=>l.on((e=>{cy.reposition(e),fm.refresh(e)})),f=fL({dataValidator:s,initialData:c,internalDialog:n},{redial:KE.redial,closeWindow:()=>{l.on(cy.hide),t.off(`ResizeEditor ScrollWindow ElementScroll`,d),l.clear(),i(f.instanceApi)}},e.backstages.popup,a.ariaAttrs,d),p=bp(cy.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:`div`,classes:[]},fireDismissalEventInstead:a.persistent?{event:`doNotDismissYet`}:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Y([ru(`window-manager-inline-events`,[J(Wo(),((e,t)=>{Ol(f.dialog,Jk)}))]),fm.config({contextual:{lazyContext:()=>T.some(ji(V(t.getContentAreaContainer()))),fadeInClass:`tox-dialog-dock-fadein`,fadeOutClass:`tox-dialog-dock-fadeout`,transitionClass:`tox-dialog-dock-transition`},modes:[`top`,`bottom`],lazyViewport:e=>eC(t,e.element).map((e=>({bounds:tC(e),optScrollEnv:T.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:kr(e.element).top})}))).getOrThunk((()=>({bounds:Pi(),optScrollEnv:T.none()})))})]),isExtraPart:(e,t)=>vL(t)}));return l.set(p),cy.showWithinBounds(p,xp(f.dialog),{anchor:r},(()=>e.backstages.popup.shared.getSink().toOptional().bind((e=>{let n=eC(t,e.element).map((e=>tC(e))).getOr(Pi()),r=Ni(ji(V(t.getContentAreaContainer())),n);return T.some(Ai(r.x,r.y,r.width,r.height-15))})))),fm.refresh(p),t.on(`ResizeEditor ScrollWindow ElementScroll ResizeWindow`,d),f.instanceApi.setData(c),ff.focusIn(f.dialog),f.instanceApi}),n);return{open:(t,n,r)=>{if(!d(n)){if(n.inline===`toolbar`)return o(t,e.backstages.popup.shared.anchors.inlineDialog(),r,n);if(n.inline===`bottom`)return s(t,e.backstages.popup.shared.anchors.inlineBottomDialog(),r,n);if(n.inline===`cursor`)return o(t,e.backstages.popup.shared.anchors.cursor(),r,n)}return a(t,r)},openUrl:(n,r)=>((n,r)=>KE.openUrl((n=>{let i=gL(n,{closeWindow:()=>{vy.hide(i.dialog),r(i.instanceApi)}},t,e.backstages.dialog);return vy.show(i.dialog),i.instanceApi}),n))(n,r),alert:(e,t)=>{r.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{i.open(e,t)}}},xL=e=>{qx(e),(e=>{let t=e.options.register,n=e=>{return g(e,a)?{value:(t=e,QO(t.map(((e,t)=>t%2==0?`#`+(e=>{return(t=e,gO(t)?T.some({value:_O(t)}):T.none()).orThunk((()=>MO(e).map(yO))).getOrThunk((()=>{let t=document.createElement(`canvas`);t.height=1,t.width=1;let n=t.getContext(`2d`);n.clearRect(0,0,t.width,t.height),n.fillStyle=`#FFFFFF`,n.fillStyle=e,n.fillRect(0,0,1,1);let r=n.getImageData(0,0,1,1).data,i=r[0],a=r[1],o=r[2],s=r[3];return yO(DO(i,a,o,s))}));var t})(e).value:e)))),valid:!0}:{valid:!1,message:`Must be an array of strings.`};var t},r=e=>h(e)&&e>0?{value:e,valid:!0}:{valid:!1,message:`Must be a positive number.`};t(`color_map`,{processor:n,default:`#BFEDD2.Light Green.#FBEEB8.Light Yellow.#F8CAC6.Light Red.#ECCAFA.Light Purple.#C2E0F4.Light Blue.#2DC26B.Green.#F1C40F.Yellow.#E03E2D.Red.#B96AD9.Purple.#3598DB.Blue.#169179.Dark Turquoise.#E67E23.Orange.#BA372A.Dark Red.#843FA1.Dark Purple.#236FA1.Dark Blue.#ECF0F1.Light Gray.#CED4D9.Medium Gray.#95A5A6.Gray.#7E8C8D.Dark Gray.#34495E.Navy Blue.#000000.Black.#ffffff.White`.split(`.`)}),t(`color_map_raw`,{processor:e=>g(e,a)?{value:QO(e),valid:!0}:{valid:!1,message:`Must be an array of strings.`}}),t(`color_map_background`,{processor:n}),t(`color_map_foreground`,{processor:n}),t(`color_cols`,{processor:r,default:nk(e)}),t(`color_cols_foreground`,{processor:r,default:rk(e,XO)}),t(`color_cols_background`,{processor:r,default:rk(e,ZO)}),t(`custom_colors`,{processor:`boolean`,default:!0}),t(`color_default_foreground`,{processor:`string`,default:ek}),t(`color_default_background`,{processor:`string`,default:ek})})(e),(e=>{let t=e.options.register;t(`contextmenu_avoid_overlap`,{processor:`string`,default:``}),t(`contextmenu_never_use_native`,{processor:`boolean`,default:!1}),t(`contextmenu`,{processor:e=>!1===e?{value:[],valid:!0}:a(e)||g(e,a)?{value:qF(e),valid:!0}:{valid:!1,message:`Must be false or a string.`},default:`link linkchecker image editimage table spellchecker configurepermanentpen`})})(e)};Bx.add(`silver`,(e=>{xL(e);let t=()=>Pi(),{dialogs:n,popups:r,renderUI:i}=EI(e,{getPopupSinkBounds:()=>t()});zk(e,r.backstage.shared);let a=bL({editor:e,backstages:{popup:r.backstage,dialog:n.backstage}}),o=st();return{renderUI:()=>{let n=i();return eC(e,r.getMothership().element).each((e=>{t=()=>tC(e)})),n},getWindowManagerImpl:b(a),getNotificationManagerImpl:()=>hw(e,{backstage:r.backstage},r.getMothership(),o),getPromotionElement:()=>Wr(V(e.getContainer()),`.tox-promotion`).map((e=>e.dom)).getOrNull()}}))})(),(function(){var e=tinymce.util.Tools.resolve(`tinymce.ModelManager`);let t=e=>t=>(e=>{let t=typeof e;return e===null?`null`:t===`object`&&Array.isArray(e)?`array`:t===`object`&&(n=r=e,(i=String).prototype.isPrototypeOf(n)||r.constructor?.name===i.name)?`string`:t;var n,r,i})(t)===e,n=e=>t=>typeof t===e,r=e=>t=>e===t,i=t(`string`),a=t(`object`),o=t(`array`),s=r(null),c=n(`boolean`),l=r(void 0),u=e=>!(e=>e==null)(e),d=n(`function`),f=n(`number`),p=()=>{},m=e=>()=>e,h=e=>e,g=(e,t)=>e===t;function _(e,...t){return(...n)=>{let r=t.concat(n);return e.apply(null,r)}}let v=e=>t=>!e(t),y=e=>e(),b=m(!1),x=m(!0);class S{tag;value;static singletonNone=new S(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new S(!0,e)}static none(){return S.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?S.some(e(this.value)):S.none()}bind(e){return this.tag?e(this.value):S.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:S.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return u(e)?S.some(e):S.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}let ee=Array.prototype.slice,te=Array.prototype.indexOf,ne=Array.prototype.push,C=(e,t)=>{return n=e,r=t,te.call(n,r)>-1;var n,r},w=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},re=(e,t)=>{let n=[];for(let r=0;r<e;r++)n.push(t(r));return n},T=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},E=(e,t)=>{for(let n=0,r=e.length;n<r;n++)t(e[n],n)},ie=(e,t)=>{let n=[],r=[];for(let i=0,a=e.length;i<a;i++){let a=e[i];(t(a,i)?n:r).push(a)}return{pass:n,fail:r}},D=(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t(i,r)&&n.push(i)}return n},O=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,r)=>{n=t(n,e,r)})),n),k=(e,t,n)=>(E(e,((e,r)=>{n=t(n,e,r)})),n),ae=(e,t)=>((e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return S.some(i);if(n(i,r))break}return S.none()})(e,t,b),A=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return S.some(n);return S.none()},oe=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!o(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);ne.apply(t,e[n])}return t},j=(e,t)=>oe(T(e,t)),M=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},se=(e,t)=>{let n={};for(let r=0,i=e.length;r<i;r++){let i=e[r];n[String(i)]=t(i,r)}return n},N=(e,t)=>t>=0&&t<e.length?S.some(e[t]):S.none(),ce=e=>N(e,0),P=e=>N(e,e.length-1),le=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return S.none()},F=Object.keys,ue=Object.hasOwnProperty,de=(e,t)=>{let n=F(e);for(let r=0,i=n.length;r<i;r++){let i=n[r];t(e[i],i)}},fe=(e,t)=>pe(e,((e,n)=>({k:n,v:t(e,n)}))),pe=(e,t)=>{let n={};return de(e,((e,r)=>{let i=t(e,r);n[i.k]=i.v})),n},me=(e,t)=>{let n=[];return de(e,((e,r)=>{n.push(t(e,r))})),n},he=e=>me(e,h),I=(e,t)=>ue.call(e,t),ge=e=>{if(!o(e))throw Error(`cases must be an array`);if(e.length===0)throw Error(`there must be at least one case`);let t=[],n={};return E(e,((r,i)=>{let a=F(r);if(a.length!==1)throw Error(`one and only one name per case`);let s=a[0],c=r[s];if(n[s]!==void 0)throw Error(`duplicate key detected:`+s);if(s===`cata`)throw Error(`cannot have a case named cata (sorry)`);if(!o(c))throw Error(`case arguments must be an array`);t.push(s),n[s]=(...n)=>{let r=n.length;if(r!==c.length)throw Error(`Wrong number of arguments to case `+s+`. Expected `+c.length+` (`+c+`), got `+r);return{fold:(...t)=>{if(t.length!==e.length)throw Error(`Wrong number of arguments to fold. Expected `+e.length+`, got `+t.length);return t[i].apply(null,n)},match:e=>{let r=F(e);if(t.length!==r.length)throw Error(`Wrong number of arguments to match. Expected: `+t.join(`,`)+`
Actual: `+r.join(`,`));if(!M(t,(e=>C(r,e))))throw Error(`Not all branches were specified when using match. Specified: `+r.join(`, `)+`
Required: `+t.join(`, `));return e[s].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:s,params:n})}}}})),n},_e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},L=e=>e.slice(0).sort(),ve=(e,t)=>{let n=D(t,(t=>!C(e,t)));n.length>0&&(e=>{throw Error(`Unsupported keys for object: `+L(e).join(`, `))})(n)},ye=e=>((e,t)=>((e,t,n)=>{if(t.length===0)throw Error(`You must specify at least one required field.`);return((e,t)=>{if(!o(t))throw Error(`The `+e+` fields must be an array. Was: `+t+`.`);E(t,(t=>{if(!i(t))throw Error(`The value `+t+` in the `+e+` fields was not a string.`)}))})(`required`,t),(e=>{let t=L(e);ae(t,((e,n)=>n<t.length-1&&e===t[n+1])).each((e=>{throw Error(`The field: `+e+` occurs more than once in the combined fields: [`+t.join(`, `)+`].`)}))})(t),r=>{let i=F(r);M(t,(e=>C(i,e)))||((e,t)=>{throw Error(`All required keys (`+L(e).join(`, `)+`) were not specified. Specified keys were: `+L(t).join(`, `)+`.`)})(t,i),e(t,i);let a=D(t,(e=>!n.validate(r[e],e)));return a.length>0&&((e,t)=>{throw Error(`All values need to be of type: `+t+`. Keys (`+L(e).join(`, `)+`) were not.`)})(a,n.label),r}})(e,t,{validate:d,label:`function`}))(ve,e),be=e=>{let t=t=>t(e),n=m(e),r=()=>i,i={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:x,isError:b,map:t=>Se.value(t(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:t=>{t(e)},toOptional:()=>S.some(e)};return i},xe=e=>{let t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:b,isError:x,map:t,mapError:t=>Se.error(t(e)),bind:t,exists:b,forall:x,getOr:h,or:h,getOrThunk:y,orThunk:y,getOrDie:(r=String(e),()=>{throw Error(r)}),each:p,toOptional:S.none};var r;return n},Se={value:be,error:xe,fromOption:(e,t)=>e.fold((()=>xe(t)),be)},Ce=typeof window<`u`?window:Function(`return this;`)(),we=e=>{let t=e.replace(/\./g,`-`);return{resolve:e=>t+`-`+e}},Te=(e,t,n=g)=>e.exists((e=>n(e,t))),Ee=e=>{let t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},De=(e,t)=>e?S.some(t):S.none(),Oe=(e,t)=>((e,t)=>{let n=t??Ce;for(let t=0;t<e.length&&n!=null;++t)n=n[e[t]];return n})(e.split(`.`),t),ke=()=>{let e=(e=>{let t=_e(S.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(S.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(S.some(e))}}})(p);return{...e,on:t=>e.get().each(t)}},Ae=(e,t,n)=>t===``||e.length>=t.length&&e.substr(n,n+t.length)===t,je=(e,t,n=0,r)=>{let i=e.indexOf(t,n);return i!==-1&&(!!l(r)||i+t.length<=r)},Me=(e,t)=>Ae(e,t,0),Ne=(e,t)=>Ae(e,t,e.length-t.length),Pe=(e=>t=>t.replace(e,``))(/^\s+|\s+$/g),Fe=e=>e.length>0,Ie=e=>{let t,n=!1;return(...r)=>(n||(n=!0,t=e.apply(null,r)),t)},Le=[`tfoot`,`thead`,`tbody`,`colgroup`],Re=(e,t,n)=>({element:e,rowspan:t,colspan:n}),ze=(e,t,n)=>({element:e,cells:t,section:n}),Be=(e,t,n)=>({element:e,isNew:t,isLocked:n}),Ve=(e,t,n,r)=>({element:e,cells:t,section:n,isNew:r}),He=(e,t,n)=>{let r=e.cells,i=r.slice(0,t),a=r.slice(t);return Ge(e,i.concat(n).concat(a))},Ue=(e,t,n)=>He(e,t,[n]),We=(e,t,n)=>{e.cells[t]=n},Ge=(e,t)=>Ve(e.element,t,e.section,e.isNew),Ke=(e,t)=>e.cells[t],qe=(e,t)=>Ke(e,t).element,Je=e=>e.cells.length,R=e=>{let t=ie(e,(e=>e.section===`colgroup`));return{rows:t.fail,cols:t.pass}},Ye=(e,t,n)=>{let r=T(e.cells,n);return Ve(t(e.element),r,e.section,!0)},Xe=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},z={fromHtml:(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return Xe(n.childNodes[0])},fromTag:(e,t)=>Xe((t||document).createElement(e)),fromText:(e,t)=>Xe((t||document).createTextNode(e)),fromDom:Xe,fromPoint:(e,t,n)=>S.from(e.dom.elementFromPoint(t,n)).map(Xe)},Ze=(e,t)=>{let n=e.document.createRange();return n.selectNode(t.dom),n},B=(e,t)=>{let n=e.document.createRange();return Qe(n,t),n},Qe=(e,t)=>e.selectNodeContents(t.dom),$e=(e,t,n)=>{let r=e.document.createRange();var i;return i=r,t.fold((e=>{i.setStartBefore(e.dom)}),((e,t)=>{i.setStart(e.dom,t)}),(e=>{i.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(r,n),r},et=(e,t,n,r,i)=>{let a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,i),a},tt=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),nt=ge([{ltr:[`start`,`soffset`,`finish`,`foffset`]},{rtl:[`start`,`soffset`,`finish`,`foffset`]}]),rt=(e,t,n)=>t(z.fromDom(n.startContainer),n.startOffset,z.fromDom(n.endContainer),n.endOffset),it=(e,t)=>((e,t)=>{let n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>nt.rtl(z.fromDom(e.endContainer),e.endOffset,z.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>rt(0,nt.ltr,n))):rt(0,nt.ltr,n)})(0,((e,t)=>t.match({domRange:e=>({ltr:m(e),rtl:S.none}),relative:(t,n)=>({ltr:Ie((()=>$e(e,t,n))),rtl:Ie((()=>S.some($e(e,n,t))))}),exact:(t,n,r,i)=>({ltr:Ie((()=>et(e,t,n,r,i))),rtl:Ie((()=>S.some(et(e,r,i,t,n))))})}))(e,t)),at=(e,t)=>it(e,t).match({ltr:(t,n,r,i)=>{let a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,i),a},rtl:(t,n,r,i)=>{let a=e.document.createRange();return a.setStart(r.dom,i),a.setEnd(t.dom,n),a}});nt.ltr,nt.rtl;let ot=(e,t)=>{let n=e.dom;if(n.nodeType!==1)return!1;{let e=n;if(e.matches!==void 0)return e.matches(t);if(e.msMatchesSelector!==void 0)return e.msMatchesSelector(t);if(e.webkitMatchesSelector!==void 0)return e.webkitMatchesSelector(t);if(e.mozMatchesSelector!==void 0)return e.mozMatchesSelector(t);throw Error(`Browser lacks native selectors`)}},st=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,ct=(e,t)=>{let n=t===void 0?document:t.dom;return st(n)?S.none():S.from(n.querySelector(e)).map(z.fromDom)},lt=(e,t)=>e.dom===t.dom,ut=(e,t)=>{let n=e.dom,r=t.dom;return n!==r&&n.contains(r)},dt=ot,ft=()=>pt(0,0),pt=(e,t)=>({major:e,minor:t}),mt={nu:pt,detect:(e,t)=>{let n=String(t).toLowerCase();return e.length===0?ft():((e,t)=>{let n=((e,t)=>{for(let n=0;n<e.length;n++){let r=e[n];if(r.test(t))return r}})(e,t);if(!n)return{major:0,minor:0};let r=e=>Number(t.replace(n,`$`+e));return pt(r(1),r(2))})(e,n)},unknown:ft},ht=(e,t)=>{let n=String(t).toLowerCase();return ae(e,(e=>e.search(n)))},gt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_t=e=>t=>je(t,e),vt=[{name:`Edge`,versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>je(e,`edge/`)&&je(e,`chrome`)&&je(e,`safari`)&&je(e,`applewebkit`)},{name:`Chromium`,brand:`Chromium`,versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,gt],search:e=>je(e,`chrome`)&&!je(e,`chromeframe`)},{name:`IE`,versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>je(e,`msie`)||je(e,`trident`)},{name:`Opera`,versionRegexes:[gt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_t(`opera`)},{name:`Firefox`,versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_t(`firefox`)},{name:`Safari`,versionRegexes:[gt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(je(e,`safari`)||je(e,`mobile/`))&&je(e,`applewebkit`)}],yt=[{name:`Windows`,search:_t(`win`),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:`iOS`,search:e=>je(e,`iphone`)||je(e,`ipad`),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:`Android`,search:_t(`android`),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:`macOS`,search:_t(`mac os x`),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:`Linux`,search:_t(`linux`),versionRegexes:[]},{name:`Solaris`,search:_t(`sunos`),versionRegexes:[]},{name:`FreeBSD`,search:_t(`freebsd`),versionRegexes:[]},{name:`ChromeOS`,search:_t(`cros`),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],bt={browsers:m(vt),oses:m(yt)},xt=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(`Edge`),isChromium:r(`Chromium`),isIE:r(`IE`),isOpera:r(`Opera`),isFirefox:r(`Firefox`),isSafari:r(`Safari`)}},V=()=>xt({current:void 0,version:mt.unknown()}),St=xt,Ct=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(`Windows`),isiOS:r(`iOS`),isAndroid:r(`Android`),isMacOS:r(`macOS`),isLinux:r(`Linux`),isSolaris:r(`Solaris`),isFreeBSD:r(`FreeBSD`),isChromeOS:r(`ChromeOS`)}},wt=()=>Ct({current:void 0,version:mt.unknown()}),Tt=Ct,Et=e=>window.matchMedia(e).matches,Dt=Ie((()=>((e,t,n)=>{let r=bt.browsers(),i=bt.oses(),a=t.bind((e=>((e,t)=>le(t.brands,(t=>{let n=t.brand.toLowerCase();return ae(e,(e=>n===e.brand?.toLowerCase())).map((e=>({current:e.name,version:mt.nu(parseInt(t.version,10),0)})))})))(r,e))).orThunk((()=>((e,t)=>ht(e,t).map((e=>{let n=mt.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e))).fold(V,St),o=((e,t)=>ht(e,t).map((e=>{let n=mt.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(i,e).fold(wt,Tt);return{browser:a,os:o,deviceType:((e,t,n,r)=>{let i=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!i,o=e.isiOS()||e.isAndroid(),s=o||r(`(pointer:coarse)`),c=i||!a&&o&&r(`(min-device-width:768px)`),l=a||o&&!c,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!u;return{isiPad:m(i),isiPhone:m(a),isTablet:m(c),isPhone:m(l),isTouch:m(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:m(u),isDesktop:m(d)}})(o,a,e,n)}})(window.navigator.userAgent,S.from(window.navigator.userAgentData),Et))),Ot=()=>Dt(),kt=Object.getPrototypeOf,At=e=>{let t=Oe(`ownerDocument.defaultView`,e);return a(e)&&((e=>((e,t)=>{let n=((e,t)=>Oe(e,t))(e,t);if(n==null)throw Error(e+` not available on this browser`);return n})(`HTMLElement`,e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(kt(e).constructor.name))},jt=e=>e.dom.nodeName.toLowerCase(),Mt=e=>e.dom.nodeType,Nt=e=>t=>Mt(t)===e,Pt=e=>Mt(e)===8||jt(e)===`#comment`,Ft=e=>It(e)&&At(e.dom),It=Nt(1),Lt=Nt(3),Rt=Nt(9),zt=Nt(11),Bt=e=>t=>It(t)&&jt(t)===e,Vt=e=>z.fromDom(e.dom.ownerDocument),Ht=e=>Rt(e)?e:Vt(e),Ut=e=>S.from(e.dom.parentNode).map(z.fromDom),Wt=e=>S.from(e.dom.parentElement).map(z.fromDom),Gt=(e,t)=>{let n=d(t)?t:b,r=e.dom,i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){let e=r.parentNode,t=z.fromDom(e);if(i.push(t),!0===n(t))break;r=e}return i},Kt=e=>S.from(e.dom.previousSibling).map(z.fromDom),qt=e=>S.from(e.dom.nextSibling).map(z.fromDom),Jt=e=>T(e.dom.childNodes,z.fromDom),Yt=(e,t)=>{let n=e.dom.childNodes;return S.from(n[t]).map(z.fromDom)},Xt=e=>zt(e)&&u(e.dom.host),Zt=e=>z.fromDom(e.dom.getRootNode()),Qt=e=>z.fromDom(e.dom.host),$t=e=>{let t=z.fromDom((e=>{if(u(e.target)){let t=z.fromDom(e.target);if(It(t)&&u(t.dom.shadowRoot)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return ce(t)}}return S.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=(a=r,o=n,(...e)=>a(o.apply(null,e)));var a,o;return((e,t,n,r,i,a,o)=>({target:e,x:t,y:n,stop:r,prevent:i,kill:a,raw:o}))(t,e.clientX,e.clientY,n,r,i,e)},en=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},tn=x,nn=(e,t,n)=>((e,t,n,r)=>((e,t,n,r,i)=>{let a=((e,t)=>n=>{e(n)&&t($t(n))})(n,r);return e.dom.addEventListener(t,a,i),{unbind:_(en,e,t,a,i)}})(e,t,n,r,!1))(e,t,tn,n),rn=$t,an=(e,t)=>{Ut(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},on=(e,t)=>{qt(e).fold((()=>{Ut(e).each((e=>{cn(e,t)}))}),(e=>{an(e,t)}))},sn=(e,t)=>{(e=>Yt(e,0))(e).fold((()=>{cn(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},cn=(e,t)=>{e.dom.appendChild(t.dom)},ln=(e,t)=>{an(e,t),cn(t,e)},un=(e,t)=>{E(t,((n,r)=>{on(r===0?e:t[r-1],n)}))},dn=(e,t)=>{E(t,(t=>{cn(e,t)}))},fn=(e,t,n)=>{if(!(i(n)||c(n)||f(n)))throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`);e.setAttribute(t,n+``)},pn=(e,t,n)=>{fn(e.dom,t,n)},mn=(e,t)=>{let n=e.dom;de(t,((e,t)=>{fn(n,t,e)}))},hn=(e,t)=>{let n=e.dom.getAttribute(t);return n===null?void 0:n},gn=(e,t)=>S.from(hn(e,t)),_n=(e,t)=>{e.dom.removeAttribute(t)},vn=e=>k(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),yn=e=>{e.dom.textContent=``,E(Jt(e),(e=>{bn(e)}))},bn=e=>{let t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},xn=e=>{let t=Jt(e);t.length>0&&un(e,t),bn(e)},Sn=(e,t)=>z.fromDom(e.dom.cloneNode(t)),Cn=e=>Sn(e,!1),wn=e=>Sn(e,!0),Tn=(e,t)=>{let n=z.fromTag(t);return mn(n,vn(e)),n},En=e=>e.style!==void 0&&d(e.style.getPropertyValue),Dn=e=>{let t=Lt(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;let n=t.ownerDocument;return(e=>{let t=Zt(e);return Xt(t)?S.some(t):S.none()})(z.fromDom(t)).fold((()=>n.body.contains(t)),(r=Dn,i=Qt,e=>r(i(e))));var r,i},On=(e,t,n)=>{if(!i(n))throw console.error(`Invalid call to CSS.set. Property `,t,`:: Value `,n,`:: Element `,e),Error(`CSS value must be a string: `+n);En(e)&&e.style.setProperty(t,n)},kn=(e,t,n)=>{let r=e.dom;On(r,t,n)},An=(e,t)=>{let n=e.dom;de(t,((e,t)=>{On(n,t,e)}))},jn=(e,t)=>{let n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return r!==``||Dn(e)?r:Mn(n,t)},Mn=(e,t)=>En(e)?e.style.getPropertyValue(t):``,Nn=(e,t)=>{let n=e.dom,r=Mn(n,t);return S.from(r).filter((e=>e.length>0))},Pn=(e,t)=>{((e,t)=>{En(e)&&e.style.removeProperty(t)})(e.dom,t),Te(gn(e,`style`).map(Pe),``)&&_n(e,`style`)},H=(e,t)=>{let n=n=>{let r=t(n);if(r<=0||r===null){let t=jn(n,e);return parseFloat(t)||0}return r},r=(e,t)=>k(t,((t,n)=>{let r=jn(e,n),i=r===void 0?0:parseInt(r,10);return isNaN(i)?t:t+i}),0);return{set:(t,n)=>{if(!f(n)&&!n.match(/^[0-9]+$/))throw Error(e+`.set accepts only positive integer values. Value was `+n);let r=t.dom;En(r)&&(r.style[e]=n+`px`)},get:n,getOuter:n,aggregate:r,max:(e,t,n)=>{let i=r(e,n);return t>i?t-i:0}}},Fn=(e,t,n)=>((e,t)=>(e=>{let t=parseFloat(e);return isNaN(t)?S.none():S.some(t)})(e).getOr(t))(jn(e,t),n),In=H(`height`,(e=>{let t=e.dom;return Dn(e)?t.getBoundingClientRect().height:t.offsetHeight})),Ln=e=>In.get(e),Rn=e=>In.getOuter(e),zn=H(`width`,(e=>{let t=e.dom;return Dn(e)?t.getBoundingClientRect().width:t.offsetWidth})),Bn=e=>zn.get(e),Vn=e=>zn.getOuter(e),Hn=e=>((e,t)=>{let n=e.dom,r=n.getBoundingClientRect().width||n.offsetWidth;return t===`border-box`?r:((e,t,n,r)=>t-Fn(e,`padding-${n}`,0)-Fn(e,`padding-${r}`,0)-Fn(e,`border-${n}-width`,0)-Fn(e,`border-${r}-width`,0))(e,r,`left`,`right`)})(e,`content-box`),Un=(e,t)=>({left:e,top:t,translate:(n,r)=>Un(e+n,t+r)}),Wn=Un,Gn=(e,t)=>e===void 0?t===void 0?0:t:e,Kn=e=>{let t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return Wn(n.offsetLeft,n.offsetTop);let a=Gn(r?.pageYOffset,i.scrollTop),o=Gn(r?.pageXOffset,i.scrollLeft),s=Gn(i.clientTop,n.clientTop),c=Gn(i.clientLeft,n.clientLeft);return qn(e).translate(o-c,a-s)},qn=e=>{let t=e.dom,n=t.ownerDocument.body;return n===t?Wn(n.offsetLeft,n.offsetTop):Dn(e)?(e=>{let t=e.getBoundingClientRect();return Wn(t.left,t.top)})(t):Wn(0,0)},Jn=(e=>{let t=t=>e(t)?S.from(t.dom.nodeValue):S.none();return{get:n=>{if(!e(n))throw Error(`Can only get text value of a text node`);return t(n).getOr(``)},getOption:t,set:(t,n)=>{if(!e(t))throw Error(`Can only set raw text value of a text node`);t.dom.nodeValue=n}}})(Lt),Yn=e=>Jn.get(e),Xn=e=>Jn.getOption(e),Zn=(e,t)=>Jn.set(e,t),Qn=(e,t)=>n=>$n(n)===`rtl`?t:e,$n=e=>jn(e,`direction`)===`rtl`?`rtl`:`ltr`;var er=(e,t,n,r,i)=>e(n,r)?S.some(n):d(i)&&i(n)?S.none():t(n,r,i);let tr=(e,t,n)=>{let r=e.dom,i=d(n)?n:b;for(;r.parentNode;){r=r.parentNode;let e=z.fromDom(r);if(t(e))return S.some(e);if(i(e))break}return S.none()},nr=(e,t,n)=>er(((e,t)=>t(e)),tr,e,t,n),rr=(e,t,n)=>tr(e,(e=>ot(e,t)),n),ir=(e,t)=>(e=>ae(e.dom.childNodes,(e=>{return n=z.fromDom(e),ot(n,t);var n})).map(z.fromDom))(e),U=(e,t)=>ct(t,e),ar=(e,t,n)=>er(((e,t)=>ot(e,t)),rr,e,t,n),or=e=>e.dom.classList!==void 0,sr=(e,t)=>((e,t,n)=>(pn(e,t,((e,t)=>{let n=hn(e,t);return n===void 0||n===``?[]:n.split(` `)})(e,t).concat([n]).join(` `)),!0))(e,`class`,t),cr=(e,t)=>{or(e)?e.dom.classList.add(t):sr(e,t)},W=(e,t)=>or(e)&&e.dom.classList.contains(t),lr=e=>ar(e,`[contenteditable]`),ur=(e,t=!1)=>Dn(e)?e.dom.isContentEditable:lr(e).fold(m(t),(e=>dr(e)===`true`)),dr=e=>e.dom.contentEditable,fr=(e,t)=>{let n=[];return E(Jt(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(fr(e,t))})),n},pr=(e,t,n)=>((e,n,r)=>D(Gt(e,r),(e=>ot(e,t))))(e,0,n),mr=(e,t)=>(e=>D(Jt(e),(e=>ot(e,t))))(e),hr=(e,t)=>((e,t)=>{let n=t===void 0?document:t.dom;return st(n)?[]:T(n.querySelectorAll(e),z.fromDom)})(t,e),gr=e=>jt(e)===`img`?1:Xn(e).fold((()=>Jt(e).length),(e=>e.length)),_r=[`img`,`br`],vr=e=>Xn(e).filter((e=>e.trim().length!==0||e.indexOf(`\xA0`)>-1)).isSome()||C(_r,jt(e))||(e=>Ft(e)&&hn(e,`contenteditable`)===`false`)(e),yr=e=>((e,t)=>{let n=e=>{for(let r=0;r<e.childNodes.length;r++){let i=z.fromDom(e.childNodes[r]);if(t(i))return S.some(i);let a=n(e.childNodes[r]);if(a.isSome())return a}return S.none()};return n(e.dom)})(e,vr),br=e=>xr(e,vr),xr=(e,t)=>{let n=e=>{let r=Jt(e);for(let e=r.length-1;e>=0;e--){let i=r[e];if(t(i))return S.some(i);let a=n(i);if(a.isSome())return a}return S.none()};return n(e)},Sr=(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r}),Cr=ge([{before:[`element`]},{on:[`element`,`offset`]},{after:[`element`]}]),wr={before:Cr.before,on:Cr.on,after:Cr.after,cata:(e,t,n,r)=>e.fold(t,n,r),getStart:e=>e.fold(h,h,h)},Tr=ge([{domRange:[`rng`]},{relative:[`startSitu`,`finishSitu`]},{exact:[`start`,`soffset`,`finish`,`foffset`]}]),Er={domRange:Tr.domRange,relative:Tr.relative,exact:Tr.exact,exactFromRange:e=>Tr.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{let t=(e=>e.match({domRange:e=>z.fromDom(e.startContainer),relative:(e,t)=>wr.getStart(e),exact:(e,t,n,r)=>e}))(e);return z.fromDom(Ht(t).dom.defaultView)},range:Sr},Dr=(e,t)=>{let n=jt(e);return n===`input`?wr.after(e):C([`br`,`img`],n)?t===0?wr.before(e):wr.after(e):wr.on(e,t)},Or=e=>S.from(e.getSelection()),kr=(e,t)=>{Or(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},Ar=(e,t,n,r,i)=>{kr(e,et(e,t,n,r,i))},jr=(e,t)=>it(e,t).match({ltr:(t,n,r,i)=>{Ar(e,t,n,r,i)},rtl:(t,n,r,i)=>{Or(e).each((a=>{if(a.setBaseAndExtent)a.setBaseAndExtent(t.dom,n,r.dom,i);else if(a.extend)try{((e,t,n,r,i,a)=>{t.collapse(n.dom,r),t.extend(i.dom,a)})(0,a,t,n,r,i)}catch{Ar(e,r,i,t,n)}else Ar(e,r,i,t,n)}))}}),Mr=(e,t,n,r,i)=>{jr(e,((e,t,n,r)=>{let i=Dr(e,t),a=Dr(n,r);return Er.relative(i,a)})(t,n,r,i))},Nr=(e,t,n)=>{jr(e,((e,t)=>{let n=e.fold(wr.before,Dr,wr.after),r=t.fold(wr.before,Dr,wr.after);return Er.relative(n,r)})(t,n))},Pr=e=>{if(e.rangeCount>0){let t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return S.some(Sr(z.fromDom(t.startContainer),t.startOffset,z.fromDom(n.endContainer),n.endOffset))}return S.none()},Fr=e=>{if(e.anchorNode===null||e.focusNode===null)return Pr(e);{let t=z.fromDom(e.anchorNode),n=z.fromDom(e.focusNode);return((e,t,n,r)=>{let i=((e,t,n,r)=>{let i=Vt(e).dom.createRange();return i.setStart(e.dom,t),i.setEnd(n.dom,r),i})(e,t,n,r),a=lt(e,n)&&t===r;return i.collapsed&&!a})(t,e.anchorOffset,n,e.focusOffset)?S.some(Sr(t,e.anchorOffset,n,e.focusOffset)):Pr(e)}},Ir=(e,t,n=!0)=>{kr(e,(n?B:Ze)(e,t))},Lr=e=>(e=>Or(e).filter((e=>e.rangeCount>0)).bind(Fr))(e).map((e=>Er.exact(e.start,e.soffset,e.finish,e.foffset))),Rr=(e,t,n)=>((e,t,n)=>((e,t,n)=>e.caretPositionFromPoint?((e,t,n)=>S.from(e.caretPositionFromPoint?.(t,n)).bind((t=>{if(t.offsetNode===null)return S.none();let n=e.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),S.some(n)})))(e,t,n):e.caretRangeFromPoint?((e,t,n)=>S.from(e.caretRangeFromPoint?.(t,n)))(e,t,n):S.none())(e.document,t,n).map((e=>Sr(z.fromDom(e.startContainer),e.startOffset,z.fromDom(e.endContainer),e.endOffset))))(e,t,n),zr={unsupportedLength:[`em`,`ex`,`cap`,`ch`,`ic`,`rem`,`lh`,`rlh`,`vw`,`vh`,`vi`,`vb`,`vmin`,`vmax`,`cm`,`mm`,`Q`,`in`,`pc`,`pt`,`px`],fixed:[`px`,`pt`],relative:[`%`],empty:[``]},Br=(()=>{let e=`[0-9]+`,t=`[eE][+-]?`+e,n=e=>`(?:${e})?`,r=[`Infinity`,e+`\\.`+n(e)+n(t),`\\.`+e+n(t),e+n(t)].join(`|`);return RegExp(`^([+-]?(?:${r}))(.*)$`)})(),Vr=e=>T(e,m(0)),Hr=(e,t,n,r,i)=>i(e.slice(0,t)).concat(r).concat(i(e.slice(n))),Ur=e=>(t,n,r,i)=>{if(e(r)){let e=Math.max(i,t[n]-Math.abs(r)),a=Math.abs(e-t[n]);return r>=0?a:-a}return r},Wr=Ur((e=>e<0)),Gr=Ur(x),Kr=()=>{let e=(e,t,n,r)=>{let i=(100+n)/100,a=Math.max(r,(e[t]+n)/i);return T(e,((e,n)=>(n===t?a:e/i)-e))},t=(t,n,r,i,a,o)=>o?e(t,n,i,a):((e,t,n,r,i)=>{let a=Wr(e,t,r,i);return Hr(e,t,n+1,[a,0],Vr)})(t,n,r,i,a);return{resizeTable:(e,t)=>e(t),clampTableDelta:Wr,calcLeftEdgeDeltas:t,calcMiddleDeltas:(e,n,r,i,a,o,s)=>t(e,r,i,a,o,s),calcRightEdgeDeltas:(t,n,r,i,a,o)=>{if(o)return e(t,r,i,a);{let e=Wr(t,r,i,a);return Vr(t.slice(0,r)).concat([e])}},calcRedestributedWidths:(e,t,n,r)=>{if(r){let r=(t+n)/t,i=T(e,(e=>e/r));return{delta:100*r-100,newSizes:i}}return{delta:n,newSizes:e}}}},qr=()=>{let e=(e,t,n,r,i)=>{let a=Gr(e,r>=0?n:t,r,i);return Hr(e,t,n+1,[a,-a],Vr)};return{resizeTable:(e,t,n)=>{n&&e(t)},clampTableDelta:(e,t,n,r,i)=>{if(i){if(n>=0)return n;{let t=k(e,((e,t)=>e+t-r),0);return Math.max(-t,n)}}return Wr(e,t,n,r)},calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,n,r,i,a,o)=>e(t,r,i,a,o),calcRightEdgeDeltas:(e,t,n,r,i,a)=>a?Vr(e):T(e,m(r/e.length)),calcRedestributedWidths:(e,t,n,r)=>({delta:0,newSizes:e})}},Jr=(e,t,n=0)=>gn(e,t).map((e=>parseInt(e,10))).getOr(n),Yr=(e,t)=>Jr(e,t,1),Xr=e=>Bt(`col`)(e)?Jr(e,`span`,1)>1:Yr(e,`colspan`)>1,Zr=(e,t)=>parseInt(jn(e,t),10),Qr=m(10),$r=m(10),ei=(e,t)=>ti(e,t,x),ti=(e,t,n)=>j(Jt(e),(e=>ot(e,t)?n(e)?[e]:[]:ti(e,t,n))),ni=(e,t)=>((e,t,n=b)=>n(t)?S.none():C(e,jt(t))?S.some(t):rr(t,e.join(`,`),(e=>ot(e,`table`)||n(e))))([`td`,`th`],e,t),ri=e=>ei(e,`th,td`),ii=e=>ot(e,`colgroup`)?mr(e,`col`):j(si(e),(e=>mr(e,`col`))),ai=(e,t)=>ar(e,`table`,t),oi=e=>ei(e,`tr`),si=e=>ai(e).fold(m([]),(e=>mr(e,`colgroup`))),ci=Bt(`th`),li=e=>M(e,(e=>ci(e.element))),ui=(e,t)=>e&&t?`sectionCells`:e?`section`:`cells`,di=e=>{let t=e.section===`thead`,n=Te(fi(e.cells),`th`);return e.section===`tfoot`?{type:`footer`}:t||n?{type:`header`,subType:ui(t,n)}:{type:`body`}},fi=e=>{let t=D(e,(e=>ci(e.element)));return t.length===0?S.some(`td`):t.length===e.length?S.some(`th`):S.none()},pi=(e,t)=>T(e,(e=>jt(e)===`colgroup`?ze(e,T(ii(e),(e=>Re(e,1,Jr(e,`span`,1)))),`colgroup`):ze(e,T(ri(e),(e=>Re(e,Jr(e,`rowspan`,1),Jr(e,`colspan`,1)))),t(e)))),mi=e=>Ut(e).map((e=>{let t=jt(e);return(e=>C(Le,e))(t)?t:`tbody`})).getOr(`tbody`),hi=e=>{let t=oi(e);return pi([...si(e),...t],mi)},gi=`data-snooker-locked-cols`,_i=e=>gn(e,gi).bind((e=>S.from(e.match(/\d+/g)))).map((e=>se(e,x))),vi=e=>(e=>{let t=ee.call(e,0);return t.sort(void 0),t})(me(k(R(e).rows,((e,t)=>(E(t.cells,((t,n)=>{t.isLocked&&(e[n]=!0)})),e)),{}),((e,t)=>parseInt(t,10)))),yi=(e,t)=>e+`,`+t,bi=(e,t)=>D(j(e.all,(e=>e.cells)),t),xi=e=>{let t={},n=[],r=ce(e).map((e=>e.element)).bind(ai).bind(_i).getOr({}),i=0,a=0,o=0,{pass:s,fail:c}=ie(e,(e=>e.section===`colgroup`));E(c,(e=>{let s=[];E(e.cells,(e=>{let n=0;for(;t[yi(o,n)]!==void 0;)n++;let i=((e,t)=>I(e,t)&&e[t]!==void 0&&e[t]!==null)(r,n.toString()),c=((e,t,n,r,i,a)=>({element:e,rowspan:t,colspan:n,row:r,column:i,isLocked:a}))(e.element,e.rowspan,e.colspan,o,n,i);for(let r=0;r<e.colspan;r++)for(let i=0;i<e.rowspan;i++){let e=n+r,s=yi(o+i,e);t[s]=c,a=Math.max(a,e+1)}s.push(c)})),i++,n.push(ze(e.element,s,e.section)),o++}));let{columns:l,colgroups:u}=P(s).map((e=>{let t=(e=>{let t={},n=0;return E(e.cells,(e=>{let r=e.colspan;re(r,(i=>{let a=n+i;t[a]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,r,a)})),n+=r})),t})(e);return{colgroups:[((e,t)=>({element:e,columns:t}))(e.element,he(t))],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}})));return{grid:((e,t)=>({rows:e,columns:t}))(i,a),access:t,all:n,columns:l,colgroups:u}},Si=e=>xi(hi(e)),Ci=xi,wi=(e,t,n)=>S.from(e.access[yi(t,n)]),Ti=(e,t,n)=>{let r=bi(e,(e=>n(t,e.element)));return r.length>0?S.some(r[0]):S.none()},Ei=bi,Di=e=>j(e.all,(e=>e.cells)),Oi=e=>he(e.columns),ki=e=>F(e.columns).length>0,Ai=(e,t)=>S.from(e.columns[t]),ji=(e,t,n)=>Be(n(e.element,t),!0,e.isLocked),Mi=(e,t)=>e.section===t?e:Ve(e.element,e.cells,t,e.isNew),Ni=()=>({transformRow:Mi,transformCell:(e,t,n)=>{let r=n(e.element,t);return Be(jt(r)===`td`?r:(e=>{let t=Tn(e,`td`);return on(e,t),dn(t,Jt(e)),bn(e),t})(r),e.isNew,e.isLocked)}}),Pi=()=>({transformRow:Mi,transformCell:ji}),Fi=()=>({transformRow:(e,t)=>Mi(e,t===`thead`?`tbody`:t),transformCell:ji}),Ii=Ni,Li=Pi,Ri=Fi,zi=()=>({transformRow:h,transformCell:ji}),Bi=(e,t=x)=>{let n=e.grid,r=re(n.columns,h),i=re(n.rows,h);return T(r,(n=>Vi((()=>j(i,(t=>wi(e,t,n).filter((e=>e.column===n)).toArray()))),(e=>e.colspan===1&&t(e.element)),(()=>wi(e,0,n)))))},Vi=(e,t,n)=>{let r=e();return ae(r,t).orThunk((()=>S.from(r[0]).orThunk(n))).map((e=>e.element))},Hi=e=>{let t=e.grid,n=re(t.rows,h),r=re(t.columns,h);return T(n,(t=>Vi((()=>j(r,(n=>wi(e,t,n).filter((e=>e.row===t)).fold(m([]),(e=>[e]))))),(e=>e.rowspan===1),(()=>wi(e,t,0)))))},Ui=(e,t)=>({row:e,y:t}),Wi=(e,t)=>({col:e,x:t}),Gi=e=>Kn(e).left+Vn(e),Ki=e=>Kn(e).left,qi=(e,t)=>Wi(e,Ki(t)),Ji=(e,t)=>Wi(e,Gi(t)),Yi=e=>Kn(e).top,Xi=(e,t)=>Ui(e,Yi(t)),Zi=(e,t)=>Ui(e,Yi(t)+Rn(t)),Qi=(e,t,n)=>{if(n.length===0)return[];let r=T(n.slice(1),((t,n)=>t.map((t=>e(n,t))))),i=n[n.length-1].map((e=>t(n.length-1,e)));return r.concat([i])},$i={delta:h,positions:e=>Qi(Xi,Zi,e),edge:Yi},ea=Qn({delta:h,edge:Ki,positions:e=>Qi(qi,Ji,e)},{delta:e=>-e,edge:Gi,positions:e=>Qi(Ji,qi,e)}),ta={delta:(e,t)=>ea(t).delta(e,t),positions:(e,t)=>ea(t).positions(e,t),edge:e=>ea(e).edge(e)},na=/(\d+(\.\d+)?)%/,ra=/(\d+(\.\d+)?)px|em/,ia=Bt(`col`),aa=Bt(`tr`),oa=(e,t,n)=>{let r=Wt(e).getOrThunk((()=>(e=>{let t=e.dom.body;if(t==null)throw Error(`Body is not available yet`);return z.fromDom(t)})(Vt(e))));return t(e)/n(r)*100},sa=(e,t)=>{kn(e,`width`,t+`px`)},ca=(e,t)=>{kn(e,`width`,t+`%`)},la=(e,t)=>{kn(e,`height`,t+`px`)},ua=e=>{let t=(e=>{return Fn(t=e,`height`,t.dom.offsetHeight)+`px`;var t})(e);return t?((e,t,n,r)=>{let i=parseFloat(e);return Ne(e,`%`)&&jt(t)!==`table`?((e,t,n,r)=>{let i=ai(e).map((e=>{let r=n(e);return Math.floor(t/100*r)})).getOr(t);return r(e,i),i})(t,i,n,r):i})(t,e,Ln,la):Ln(e)},da=(e,t)=>Nn(e,t).orThunk((()=>gn(e,t).map((e=>e+`px`)))),fa=e=>da(e,`width`),pa=e=>oa(e,Bn,Hn),ma=e=>{return ia(e)?Math.round(Bn(e)):Fn(t=e,`width`,t.dom.offsetWidth);var t},ha=e=>aa(e)?Ln(e):((e,t,n)=>n(e)/Yr(e,`rowspan`))(e,0,ua),ga=(e,t,n)=>{kn(e,`width`,t+n)},_a=e=>oa(e,Bn,Hn)+`%`,va=m(na),ya=Bt(`col`),ba=e=>fa(e).getOrThunk((()=>ma(e)+`px`)),xa=e=>{return(t=e,da(t,`height`)).getOrThunk((()=>ha(e)+`px`));var t},Sa=(e,t,n,r,i,a)=>e.filter(r).fold((()=>a(((e,t)=>{if(t<0||t>=e.length-1)return S.none();let n=e[t].fold((()=>le((e=>{let t=ee.call(e,0);return t.reverse(),t})(e.slice(0,t)),((e,t)=>e.map((e=>({value:e,delta:t+1})))))),(e=>S.some({value:e,delta:0}))),r=e[t+1].fold((()=>le(e.slice(t+1),((e,t)=>e.map((e=>({value:e,delta:t+1})))))),(e=>S.some({value:e,delta:1})));return n.bind((e=>r.map((t=>{let n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))))})(n,t))),(e=>i(e))),Ca=(e,t,n,r)=>{let i=Bi(e),a=ki(e)?(e=>T(Oi(e),(e=>S.from(e.element))))(e):i,o=[S.some(ta.edge(t))].concat(T(ta.positions(i,t),(e=>e.map((e=>e.x))))),s=v(Xr);return T(a,((e,t)=>Sa(e,t,o,s,(e=>{if((e=>{let t=Ot().browser,n=t.isChromium()||t.isFirefox();return!ya(e)||n})(e))return n(e);return Sa((a=i[t])==null?S.none():h(a),t,o,s,(e=>r(S.some(Math.round(Bn(e))))),r);var a}),r)))},wa=e=>e.map((e=>e+`px`)).getOr(``),Ta=(e,t,n)=>Ca(e,t,ma,(e=>e.getOrThunk(n.minCellWidth))),Ea=(e,t,n,r)=>{let i=Hi(e),a=T(e.all,(e=>S.some(e.element))),o=[S.some($i.edge(t))].concat(T($i.positions(i,t),(e=>e.map((e=>e.y)))));return T(a,((e,t)=>Sa(e,t,o,x,n,r)))},Da=(e,t)=>()=>Dn(e)?t(e):parseFloat(Nn(e,`width`).getOr(`0`)),Oa=e=>{let t=Da(e,(e=>parseFloat(_a(e)))),n=Da(e,Bn);return{width:t,pixelWidth:n,getWidths:(t,n)=>((e,t,n)=>Ca(e,t,pa,(e=>e.fold((()=>n.minCellWidth()),(e=>e/n.pixelWidth()*100)))))(t,e,n),getCellDelta:e=>e/n()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>Qr()/n()*100,setElementWidth:ca,adjustTableWidth:n=>{let r=t();ca(e,r+n/100*r)},isRelative:!0,label:`percent`}},ka=e=>{let t=Da(e,Bn);return{width:t,pixelWidth:t,getWidths:(t,n)=>Ta(t,e,n),getCellDelta:h,singleColumnWidth:(e,t)=>[Math.max(Qr(),e+t)-e],minCellWidth:Qr,setElementWidth:sa,adjustTableWidth:n=>{sa(e,t()+n)},isRelative:!1,label:`pixel`}},Aa=e=>fa(e).fold((()=>(e=>{let t=Da(e,Bn),n=m(0);return{width:t,pixelWidth:t,getWidths:(t,n)=>Ta(t,e,n),getCellDelta:n,singleColumnWidth:m([0]),minCellWidth:n,setElementWidth:p,adjustTableWidth:p,isRelative:!0,label:`none`}})(e)),(t=>((e,t)=>va().exec(t)===null?ka(e):Oa(e))(e,t))),G=ka,ja=Oa,Ma=(e,t,n,r)=>{n===r?_n(e,t):pn(e,t,n)},Na=(e,t,n)=>{P(mr(e,t)).fold((()=>sn(e,n)),(e=>on(e,n)))},Pa=(e,t)=>{let n=[],r=[],i=e=>T(e,(e=>{e.isNew&&n.push(e.element);let t=e.element;return yn(t),E(e.cells,(e=>{e.isNew&&r.push(e.element),Ma(e.element,`colspan`,e.colspan,1),Ma(e.element,`rowspan`,e.rowspan,1),cn(t,e.element)})),t})),a=e=>j(e,(e=>T(e.cells,(e=>(Ma(e.element,`span`,e.colspan,1),e.element))))),o=(t,n)=>{dn(((e,t)=>{let n=ir(e,t).getOrThunk((()=>{let n=z.fromTag(t,Vt(e).dom);return t===`thead`?Na(e,`caption,colgroup`,n):t===`colgroup`?Na(e,`caption`,n):cn(e,n),n}));return yn(n),n})(e,n),(n===`colgroup`?a:i)(t))},s=(t,n)=>{t.length>0?o(t,n):(t=>{ir(e,t).each(bn)})(n)},c=[],l=[],u=[],d=[];return E(t,(e=>{switch(e.section){case`thead`:c.push(e);break;case`tbody`:l.push(e);break;case`tfoot`:u.push(e);break;case`colgroup`:d.push(e)}})),s(d,`colgroup`),s(c,`thead`),s(l,`tbody`),s(u,`tfoot`),{newRows:n,newCells:r}},Fa=(e,t)=>{if(e.length===0)return 0;let n=e[0];return A(e,(e=>!t(n.element,e.element))).getOr(e.length)},Ia=(e,t)=>{let n=T(e,(e=>T(e.cells,b)));return T(e,((r,i)=>{let a=j(r.cells,((r,a)=>{if(!1===n[i][a]){let u=((e,t,n,r)=>{let i=((e,t)=>e[t])(e,t),a=i.section===`colgroup`;return{colspan:Fa(i.cells.slice(n),r),rowspan:a?1:Fa(((e,t)=>T(e,(e=>Ke(e,t))))(e.slice(t),n),r)}})(e,i,a,t);return((e,t,r,i)=>{for(let a=e;a<e+r;a++)for(let e=t;e<t+i;e++)n[a][e]=!0})(i,a,u.rowspan,u.colspan),[(o=r.element,s=u.rowspan,c=u.colspan,l=r.isNew,{element:o,rowspan:s,colspan:c,isNew:l})]}return[];var o,s,c,l}));return((e,t,n,r)=>({element:e,cells:t,section:n,isNew:r}))(r.element,a,r.section,r.isNew)}))},La=(e,t,n)=>{let r=[];E(e.colgroups,(i=>{let a=[];for(let r=0;r<e.grid.columns;r++){let i=Ai(e,r).map((e=>Be(e.element,n,!1))).getOrThunk((()=>Be(t.colGap(),!0,!1)));a.push(i)}r.push(Ve(i.element,a,`colgroup`,n))}));for(let i=0;i<e.grid.rows;i++){let a=[];for(let r=0;r<e.grid.columns;r++){let o=wi(e,i,r).map((e=>Be(e.element,n,e.isLocked))).getOrThunk((()=>Be(t.gap(),!0,!1)));a.push(o)}let o=e.all[i],s=Ve(o.element,a,o.section,n);r.push(s)}return r},Ra=e=>Ia(e,lt),za=(e,t)=>le(e.all,(e=>ae(e.cells,(e=>lt(t,e.element))))),Ba=(e,t,n)=>{let r=Ee(T(t.selection,(t=>ni(t).bind((t=>za(e,t))).filter(n))));return De(r.length>0,r)},Va=(e,t,n,r,i,a,o,s,c)=>{let l=Si(a),u=S.from(c?.section).getOrThunk(zi);return t(l,o).map((t=>{let n=e(((e,t)=>La(e,t,!1))(l,s),t,lt,i(s),u),r=vi(n.grid);return{info:t,grid:Ra(n.grid),cursor:n.cursor,lockedColumns:r}})).bind((e=>{let t=Pa(a,e.grid),i=S.from(c?.sizing).getOrThunk((()=>Aa(a))),o=S.from(c?.resize).getOrThunk(qr);return n(a,e.grid,e.info,{sizing:i,resize:o,section:u}),r(a),_n(a,gi),e.lockedColumns.length>0&&pn(a,gi,e.lockedColumns.join(`,`)),S.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},Ha=(e,t)=>ni(t.element).bind((n=>za(e,n).map((e=>({...e,generators:t.generators,clipboard:t.clipboard}))))),Ua=(e,t)=>Ba(e,t,x).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),Wa=(e,t)=>Ba(e,t,x),Ga=(e,t)=>Ba(e,t,(e=>!e.isLocked)),Ka=(e,t)=>M(t,(t=>((e,t)=>za(e,t).exists((e=>!e.isLocked)))(e,t))),K=(e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>Ka(e,t.cells))),qa=(e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>Ka(e,t))),Ja={...ge([{none:[]},{only:[`index`]},{left:[`index`,`next`]},{middle:[`prev`,`index`,`next`]},{right:[`prev`,`index`]}])},Ya=(e,t,n)=>{E(((e,t)=>ki(e)?((e,t)=>T(Oi(e),((e,n)=>({element:e.element,width:t[n],colspan:e.colspan}))))(e,t):((e,t)=>T(Di(e),(e=>{let n=((e,t,n)=>{let r=0;for(let i=e;i<t;i++)r+=n[i]===void 0?0:n[i];return r})(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}})))(e,t))(e,t),(e=>{n.setElementWidth(e.element,e.width)}))},Xa=(e,t,n,r,i)=>{let a=Si(e),o=i.getCellDelta(t),s=i.getWidths(a,i),c=n===a.grid.columns-1,l=r.clampTableDelta(s,n,o,i.minCellWidth(),c);Ya(a,T(((e,t,n,r,i)=>{let a=e.slice(0),o=((e,t)=>e.length===0?Ja.none():e.length===1?Ja.only(0):t===0?Ja.left(0,1):t===e.length-1?Ja.right(t-1,t):t>0&&t<e.length-1?Ja.middle(t-1,t,t+1):Ja.none())(e,t),s=m(T(a,m(0)));return o.fold(s,(e=>r.singleColumnWidth(a[e],n)),((e,t)=>i.calcLeftEdgeDeltas(a,e,t,n,r.minCellWidth(),r.isRelative)),((e,t,o)=>i.calcMiddleDeltas(a,e,t,o,n,r.minCellWidth(),r.isRelative)),((e,t)=>i.calcRightEdgeDeltas(a,e,t,n,r.minCellWidth(),r.isRelative)))})(s,n,l,i,r),((e,t)=>e+s[t])),i),r.resizeTable(i.adjustTableWidth,l,c)},Za=(e,t,n)=>{let r=Si(e),i=T(((e,t)=>Ea(e,t,ha,(e=>e.getOrThunk($r))))(r,e),((e,r)=>n===r?Math.max(t+e,$r()):e));E(((e,t)=>T(e.all,((e,n)=>({element:e.element,height:t[n]}))))(r,i),(e=>{la(e.element,e.height)})),E(Di(r),(e=>{(e=>{Pn(e,`height`)})(e.element)})),la(e,O(i,((e,t)=>e+t),0))},Qa=(e,t)=>{Xr(e)||(e=>fa(e).bind((e=>{return t=e,n=[`fixed`,`relative`,`empty`],S.from(Br.exec(t)).bind((e=>{let t=Number(e[1]),r=e[2];return((e,t)=>w(t,(t=>w(zr[t],(t=>e===t)))))(r,n)?S.some({value:t,unit:r}):S.none()}));var t,n})))(e).each((n=>{let r=n.value/2;ga(e,r,n.unit),ga(t,r,n.unit)}))},$a=(e,t,n)=>{let r=Jr(e,t,1);n===1||r<=1?_n(e,t):pn(e,t,Math.min(n,r))},eo=(e,t)=>n=>{let r=n.column+n.colspan-1,i=n.column;return r>=e&&i<t},to=(e,t,n)=>{let r=e[n].element,i=z.fromTag(`td`);cn(i,z.fromTag(`br`)),(t?cn:sn)(r,i)},no=Bt(`col`),ro=Bt(`colgroup`),io=e=>jt(e)===`tr`||ro(e),ao=e=>({element:e,colspan:Jr(e,`colspan`,1),rowspan:Jr(e,`rowspan`,1)}),oo=e=>gn(e,`scope`).map((e=>e.substr(0,3))),so=(e,t=ao)=>{let n=n=>{if(io(n))return ro((i={element:n}).element)?e.colgroup(i):e.row(i);{let i=n,a=(t=>no(t.element)?e.col(t):e.cell(t))(t(i));return r=S.some({item:i,replacement:a}),a}var i},r=S.none();return{getOrInit:(e,t)=>r.fold((()=>n(e)),(r=>t(e,r.item)?r.replacement:n(e)))}},co=e=>t=>{let n=[],r=r=>{let i=e===`td`?{scope:null}:{},a=t.replace(r,e,i);return n.push({item:r,sub:a}),a};return{replaceOrInit:(e,t)=>{if(io(e)||no(e))return e;{let i=e;return((e,t)=>ae(n,(n=>t(n.item,e))))(i,t).fold((()=>r(i)),(n=>t(e,n.item)?n.sub:r(i)))}}}},lo=e=>({unmerge:t=>{let n=oo(t);return n.each((e=>pn(t,`scope`,e))),()=>{let r=e.cell({element:t,colspan:1,rowspan:1});return Pn(r,`width`),Pn(t,`width`),n.each((e=>pn(r,`scope`,e))),r}},merge:e=>(Pn(e[0],`width`),(()=>{let t=Ee(T(e,oo));if(t.length===0)return S.none();{let e=t[0],n=[`row`,`col`];return w(t,(t=>t!==e&&C(n,t)))?S.none():S.from(e)}})().fold((()=>_n(e[0],`scope`)),(t=>pn(e[0],`scope`,t+`group`))),m(e[0]))}),uo=ge([{invalid:[`raw`]},{pixels:[`value`]},{percent:[`value`]}]),fo=(e,t,n)=>{let r=n.substring(0,n.length-e.length),i=parseFloat(r);return r===i.toString()?t(i):uo.invalid(n)},po={...uo,from:e=>Ne(e,`%`)?fo(`%`,uo.percent,e):Ne(e,`px`)?fo(`px`,uo.pixels,e):uo.invalid(e)},mo=(e,t,n)=>{let r=po.from(n);return _o(M(e,(e=>e===`0px`))?((e,t)=>re(t,e.fold((()=>m(``)),(e=>m(e/t+`px`)),(()=>m(100/t+`%`)))))(r,e.length):((e,t,n)=>e.fold((()=>t),(e=>((e,t,n)=>{let r=n/t;return T(e,(e=>po.from(e).fold((()=>e),(e=>e*r+`px`),(e=>e/100*n+`px`))))})(t,n,e)),(e=>((e,t)=>T(e,(e=>po.from(e).fold((()=>e),(e=>e/t*100+`%`),(e=>e+`%`)))))(t,n))))(r,e,t))},ho=(e,t)=>e.length===0?t:O(e,((e,t)=>po.from(t).fold(m(0),h,h)+e),0),go=(e,t)=>po.from(e).fold(m(e),(e=>e+t+`px`),(e=>e+t+`%`)),_o=e=>{if(e.length===0)return e;let t=O(e,((e,t)=>{let n=po.from(t).fold((()=>({value:t,remainder:0})),(e=>(e=>{let t=Math.floor(e);return{value:t+`px`,remainder:e-t}})(e)),(e=>({value:e+`%`,remainder:0})));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([go(n[n.length-1],Math.round(t.remainder))])},vo=po.from,yo=(e,t,n)=>{let r=Si(e),i=r.all,a=Di(r),o=Oi(r);t.each((t=>{let n=vo(t).fold(m(`px`),m(`px`),m(`%`)),i=Bn(e),s=mo(((e,t)=>Ca(e,t,ba,wa))(r,e),i,t);ki(r)?((e,t,n)=>{E(t,((t,r)=>{let i=ho([e[r]],Qr());kn(t.element,`width`,i+n)}))})(s,o,n):((e,t,n)=>{E(t,(t=>{let r=ho(e.slice(t.column,t.colspan+t.column),Qr());kn(t.element,`width`,r+n)}))})(s,a,n),kn(e,`width`,t)})),n.each((t=>{let n=Ln(e);((e,t,n)=>{E(n,(e=>{Pn(e.element,`height`)})),E(t,((t,n)=>{kn(t.element,`height`,e[n])}))})(mo(((e,t)=>Ea(e,t,xa,wa))(r,e),n,t),i,a),kn(e,`height`,t)}))},bo=e=>fa(e).exists((e=>na.test(e))),xo=e=>fa(e).exists((e=>ra.test(e))),So=e=>fa(e).isNone();var Co=`body.p.div.article.aside.figcaption.figure.footer.header.nav.section.ol.ul.li.table.thead.tbody.tfoot.caption.tr.td.th.h1.h2.h3.h4.h5.h6.blockquote.pre.address`.split(`.`),wo=()=>({up:m({selector:rr,closest:ar,predicate:tr,all:Gt}),down:m({selector:hr,predicate:fr}),styles:m({get:jn,getRaw:Nn,set:kn,remove:Pn}),attrs:m({get:hn,set:pn,remove:_n,copyTo:(e,t)=>{mn(t,vn(e))}}),insert:m({before:an,after:on,afterAll:un,append:cn,appendAll:dn,prepend:sn,wrap:ln}),remove:m({unwrap:xn,remove:bn}),create:m({nu:z.fromTag,clone:e=>z.fromDom(e.dom.cloneNode(!1)),text:z.fromText}),query:m({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:Kt,nextSibling:qt}),property:m({children:Jt,name:jt,parent:Ut,document:e=>Ht(e).dom,isText:Lt,isComment:Pt,isElement:It,isSpecial:e=>C([`script`,`noscript`,`iframe`,`noframes`,`noembed`,`title`,`style`,`textarea`,`xmp`],jt(e)),getLanguage:e=>It(e)?gn(e,`lang`):S.none(),getText:Yn,setText:Zn,isBoundary:e=>!!It(e)&&(jt(e)===`body`||C(Co,jt(e))),isEmptyTag:e=>!!It(e)&&C([`br`,`img`,`hr`,`input`],jt(e)),isNonEditable:e=>It(e)&&hn(e,`contenteditable`)===`false`}),eq:lt,is:dt});let To=(e,t)=>({item:e,mode:t}),Eo=(e,t,n,r=Do)=>e.property().parent(t).map((e=>To(e,r))),Do=(e,t,n,r=Oo)=>n.sibling(e,t).map((e=>To(e,r))),Oo=(e,t,n,r=Oo)=>{let i=e.property().children(t);return n.first(i).map((e=>To(e,r)))},ko=[{current:Eo,next:Do,fallback:S.none()},{current:Do,next:Oo,fallback:S.some(Eo)},{current:Oo,next:Oo,fallback:S.some(Do)}],Ao=(e,t,n,r,i=ko)=>ae(i,(e=>e.current===n)).bind((n=>n.current(e,t,r,n.next).orThunk((()=>n.fallback.bind((n=>Ao(e,t,n,r))))))),jo=(e,t,n,r,i,a)=>Ao(e,t,r,i).bind((t=>a(t.item)?S.none():n(t.item)?S.some(t.item):jo(e,t.item,n,t.mode,i,a))),Mo=(e,t)=>({element:e,offset:t}),No=(e,t,n)=>e.property().isText(t)&&e.property().getText(t).trim().length===0||e.property().isComment(t)?n(t).bind((t=>No(e,t,n).orThunk((()=>S.some(t))))):S.none(),Po=(e,t)=>e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length,Fo=(e,t)=>{let n=No(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return Mo(n,Po(e,n));let r=e.property().children(n);return r.length>0?Fo(e,r[r.length-1]):Mo(n,Po(e,n))},Io=Fo,Lo=wo(),Ro=e=>t=>e.property().children(t).length===0,zo=(e,t,n,r)=>jo(e,t,n,Do,{sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?S.some(e[e.length-1]):S.none()},r),Bo=(e,t,n,r)=>jo(e,t,n,Do,{sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?S.some(e[0]):S.none()},r),Vo=wo(),Ho=(e,t)=>((e,t,n)=>zo(e,t,Ro(e),n))(Vo,e,t),Uo=(e,t)=>((e,t,n)=>Bo(e,t,Ro(e),n))(Vo,e,t),Wo=`body.p.div.article.aside.figcaption.figure.footer.header.nav.section.ol.ul.table.thead.tfoot.tbody.caption.tr.td.th.h1.h2.h3.h4.h5.h6.blockquote.pre.address`.split(`.`),Go=(e,t,n,r)=>O(r,((n,r)=>Ko(e,n,t(e,r))),t(e,n)),Ko=(e,t,n)=>t.bind((t=>n.filter(_(e.eq,t)))),qo=wo(),Jo=(e,t)=>((e,t,n)=>n.length>0?((e,t,n,r)=>r(e,t,n[0],n.slice(1)))(e,t,n,Go):S.none())(qo,((t,n)=>e(n)),t),Yo=wo(),Xo=e=>((e,t)=>C(Wo,e.property().name(t)))(Yo,e),Zo=e=>((e,t)=>C([`ol`,`ul`],e.property().name(t)))(Yo,e),Qo=e=>{let t=Bt(`br`),n=e=>br(e).bind((n=>{let r=qt(n).map((e=>!!Xo(e)||!!((e,t)=>C([`br`,`img`,`hr`,`input`],e.property().name(t)))(Yo,e)&&jt(e)!==`img`)).getOr(!1);return Ut(n).map((i=>{return!0===r||jt(a=i)===`li`||tr(a,Zo).isSome()||t(n)||Xo(i)&&!lt(e,i)?[]:[z.fromTag(`br`)];var a}))})).getOr([]),r=(()=>{let r=j(e,(e=>{let r=Jt(e);return(e=>M(e,(e=>t(e)||Lt(e)&&Yn(e).trim().length===0)))(r)?[]:r.concat(n(e))}));return r.length===0?[z.fromTag(`br`)]:r})();yn(e[0]),dn(e[0],r)},$o=e=>{_n(e,`width`),_n(e,`height`)},es=e=>{let t=_a(e);yo(e,S.some(t),S.none()),$o(e)},ts=e=>{let t=(e=>Bn(e)+`px`)(e);yo(e,S.some(t),S.none()),$o(e)},ns=e=>{Pn(e,`width`);let t=ii(e);E(t.length>0?t:ri(e),(e=>{Pn(e,`width`),$o(e)})),$o(e)},rs={scope:[`row`,`col`]},is=e=>()=>{let t=z.fromTag(`td`,e.dom);return cn(t,z.fromTag(`br`,e.dom)),t},q=e=>()=>z.fromTag(`col`,e.dom),as=e=>()=>z.fromTag(`colgroup`,e.dom),os=e=>()=>z.fromTag(`tr`,e.dom),ss=(e,t,n)=>{let r=((e,t)=>{let n=Tn(e,t);return dn(n,Jt(wn(e))),n})(e,t);return de(n,((e,t)=>{e===null?_n(r,t):pn(r,t,e)})),r},cs=e=>e,ls=(e,t,n)=>{let r=(e,t)=>{((e,t)=>{let n=e.dom,r=t.dom;En(n)&&En(r)&&(r.style.cssText=n.style.cssText)})(e.element,t),Pn(t,`height`),e.colspan!==1&&Pn(t,`width`)};return{col:n=>{let i=z.fromTag(jt(n.element),t.dom);return r(n,i),e(n.element,i),i},colgroup:as(t),row:os(t),cell:i=>{let a=z.fromTag(jt(i.element),t.dom),o=n.getOr([`strong`,`em`,`b`,`i`,`span`,`font`,`h1`,`h2`,`h3`,`h4`,`h5`,`h6`,`p`,`div`]);return cn(o.length>0?((e,t,n)=>yr(e).map((r=>O(pr(r,n.join(`,`),(t=>lt(t,e))),((e,t)=>{let n=Cn(t);return cn(e,n),n}),t))).getOr(t))(i.element,a,o):a,z.fromTag(`br`)),r(i,a),((e,t)=>{de(rs,((n,r)=>gn(e,r).filter((e=>C(n,e))).each((e=>pn(t,r,e)))))})(i.element,a),e(i.element,a),a},replace:ss,colGap:q(t),gap:is(t)}},us=e=>({col:q(e),colgroup:as(e),row:os(e),cell:is(e),replace:cs,colGap:q(e),gap:is(e)}),ds=e=>Si(e).grid,fs=(e,t,n,r)=>{let i=R(e).rows,a=!0;for(let e=0;e<i.length;e++)for(let o=0;o<Je(i[0]);o++){let s=i[e],c=Ke(s,o),l=n(c.element,t);l&&!a?We(s,o,Be(r(),!0,c.isLocked)):l&&(a=!1)}return e},ps=(e,t)=>({rowDelta:0,colDelta:Je(e[0])-Je(t[0])}),ms=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),hs=(e,t,n,r)=>{let i=t.section===`colgroup`?n.col:n.cell;return re(e,(e=>Be(i(),!0,r(e))))},gs=(e,t,n,r)=>{let i=e[e.length-1];return e.concat(re(t,(()=>{let e=Ye(i,i.section===`colgroup`?n.colgroup:n.row,h);return Ge(e,hs(e.cells.length,e,n,(e=>I(r,e.toString()))))})))},_s=(e,t,n,r)=>T(e,(e=>He(e,r,hs(t,e,n,b)))),vs=(e,t,n)=>{let r=t.colDelta<0?_s:h,i=t.rowDelta<0?gs:h,a=vi(e),o=Je(e[0]),s=w(a,(e=>e===o-1)),c=r(e,Math.abs(t.colDelta),n,s?o-1:o),l=vi(c);return i(c,Math.abs(t.rowDelta),n,se(l,x))},ys=(e,t,n,r)=>{let i=_(r,Ke(e[t],n).element),a=e[t];return e.length>1&&Je(a)>1&&(n>0&&i(qe(a,n-1))||n<a.cells.length-1&&i(qe(a,n+1))||t>0&&i(qe(e[t-1],n))||t<e.length-1&&i(qe(e[t+1],n)))},bs=(e,t,n)=>D(n,(n=>n>=e.column&&n<=Je(t[0])+e.column)),xs=(e,t,n,r,i)=>{((e,t,n,r)=>{t>0&&t<e[0].cells.length&&E(e,(e=>{let i=e.cells[t-1],a=0,o=r();for(;e.cells.length>t+a&&n(i.element,e.cells[t+a].element);)We(e,t+a,Be(o,!0,e.cells[t+a].isLocked)),a++}))})(t,e,i,r.cell);let a=vs(n,ms(n,t),r);return T(vs(t,ms(t,a),r),((t,n)=>He(t,e,a[n].cells)))},Ss=(e,t,n,r,i)=>{((e,t,n,r)=>{let i=R(e).rows;t>0&&t<i.length&&E(((e,t)=>k(e,((e,n)=>w(e,(e=>t(e.element,n.element)))?e:e.concat([n])),[]))(i[t-1].cells,n),(e=>{let a=S.none();for(let o=t;o<i.length;o++)for(let t=0;t<Je(i[0]);t++){let s=i[o],c=Ke(s,t);n(c.element,e.element)&&(a.isNone()&&(a=S.some(r())),a.each((e=>{We(s,t,Be(e,!0,c.isLocked))})))}}))})(t,e,i,r.cell);let a=vi(t),o=ps(t,n),s=vs(t,{...o,colDelta:o.colDelta-a.length},r),{cols:c,rows:l}=R(s),u=vi(s),d=ps(n,t),f={...d,colDelta:d.colDelta+u.length},p=vs((m=r,h=u,T(n,(e=>k(h,((t,n)=>{let r=hs(1,e,m,x)[0];return Ue(t,n,r)}),e)))),f,r);var m,h;return[...c,...l.slice(0,e),...p,...l.slice(e,l.length)]},Cs=(e,t,n,r,i)=>{let{rows:a,cols:o}=R(e),s=a.slice(0,t),c=a.slice(t);return[...o,...s,((e,t,n,r)=>Ye(e,(e=>r(e,n)),t))(a[n],((e,n)=>t>0&&t<a.length&&r(qe(a[t-1],n),qe(a[t],n))?Ke(a[t],n):Be(i(e.element,r),!0,e.isLocked)),r,i),...c]},ws=(e,t,n,r,i)=>T(e,(e=>{let a=t>0&&t<Je(e)&&r(qe(e,t-1),qe(e,t));return Ue(e,t,((e,t,n,r,i,a,o)=>n!==`colgroup`&&r?Ke(e,t):Be(o(Ke(e,i).element,a),!0,!1))(e,t,e.section,a,n,r,i))})),Ts=(e,t,n,r)=>((e,t,n,r)=>qe(e[t],n)!==void 0&&t>0&&r(qe(e[t-1],n),qe(e[t],n)))(e,t,n,r)||((e,t,n)=>t>0&&n(qe(e,t-1),qe(e,t)))(e[t],n,r),Es=(e,t,n,r)=>{let i=e=>(e=>e===`row`?(e=>Yr(e,`rowspan`)>1)(t):Xr(t))(e)?`${e}group`:e;return e?ci(t)?i(n):null:r&&ci(t)?i(n===`row`?`col`:`row`):null},Ds=(e,t,n)=>Be(n(e.element,t),!0,e.isLocked),Os=(e,t,n,r,i,a,o)=>T(e,((e,s)=>(e=>{let c=e.cells,l=T(c,((e,c)=>{if((e=>w(t,(t=>n(e.element,t.element))))(e)){let t=o(e,s,c)?i(e,n,r):e;return a(t,s,c).each((e=>{var n=t.element;de({scope:S.from(e)},((e,t)=>{e.fold((()=>{_n(n,t)}),(e=>{fn(n.dom,t,e)}))}))})),t}return e}));return Ve(e.element,l,e.section,e.isNew)})(e))),ks=(e,t,n)=>j(e,((r,i)=>Ts(e,i,t,n)?[]:[Ke(r,t)])),As=(e,t,n,r,i)=>{let a=R(e).rows,o=j(t,(e=>ks(a,e,r))),s=T(a,(e=>li(e.cells))),c=((e,t)=>M(t,h)&&li(e)?x:(e,n,r)=>!(jt(e.element)===`th`&&t[n]))(o,s);return Os(e,o,r,i,Ds,((e,t)=>(n,r)=>S.some(Es(e,n.element,`row`,t[r])))(n,s),c)},js=(e,t,n,r)=>{let i=R(e).rows;return Os(e,T(t,(e=>Ke(i[e.row],e.column))),n,r,Ds,S.none,x)},Ms=e=>k(e,((e,t)=>w(e,(e=>e.column===t.column))?e:e.concat([t])),[]).sort(((e,t)=>e.column-t.column)),Ns=e=>ur(e,!0),Ps=e=>{ri(e).length===0&&bn(e)},Fs=(e,t)=>({grid:e,cursor:t}),Is=(e,t,n)=>Fs(e,((e,t,n)=>{let r=R(e).rows;return S.from(r[t]?.cells[n]?.element).filter(Ns).orThunk((()=>(e=>le(e,(e=>le(e.cells,(e=>{let t=e.element;return De(Ns(t),t)})))))(r)))})(e,t,n)),Ls=e=>k(e,((e,t)=>w(e,(e=>e.row===t.row))?e:e.concat([t])),[]).sort(((e,t)=>e.row-t.row)),Rs=(e,t,n,r)=>{let i=t[0].row,a=O(Ls(t),((e,t)=>({grid:Cs(e.grid,i,t.row+e.delta,n,r.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Is(a,i,t[0].column)},zs=(e,t,n,r)=>{let i=Ls(t),a=i[i.length-1],o=a.row+a.rowspan;return Is(O(i,((e,t)=>Cs(e,o,t.row,n,r.getOrInit)),e),o,t[0].column)},Bs=(e,t,n,r)=>{let i=t.details,a=Ms(i),o=a[0].column,s=O(a,((e,t)=>({grid:ws(e.grid,o,t.column+e.delta,n,r.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Is(s,i[0].row,o)},Vs=(e,t,n,r)=>{let i=t.details,a=i[i.length-1],o=a.column+a.colspan;return Is(O(Ms(i),((e,t)=>ws(e,o,t.column,n,r.getOrInit)),e),i[0].row,o)},Hs=(e,t,n,r)=>Is(As(e,T(Ms(t),(e=>e.column)),!0,n,r.replaceOrInit),t[0].row,t[0].column),Us=(e,t,n,r)=>Is(js(e,t,n,r.replaceOrInit),t[0].row,t[0].column),Ws=(e,t,n,r)=>Is(As(e,T(Ms(t),(e=>e.column)),!1,n,r.replaceOrInit),t[0].row,t[0].column),Gs=(e,t,n,r)=>Is(js(e,t,n,r.replaceOrInit),t[0].row,t[0].column),Ks=(e,t)=>(n,r,i,a,o)=>Is(((e,t,n,r,i,a,o)=>{let{cols:s,rows:c}=R(e),l=c[t[0]],u=j(t,(e=>((e,t,n)=>{let r=e[t];return j(r.cells,((r,i)=>Ts(e,t,i,n)?[]:[r]))})(c,e,i))),d=T(l.cells,((e,t)=>li(ks(c,t,i)))),f=[...c];E(t,(e=>{f[e]=o.transformRow(c[e],n)}));let p=[...s,...f],m=((e,t)=>M(t,h)&&li(e.cells)?x:(e,n,r)=>!(jt(e.element)===`th`&&t[r]))(l,d),g=((e,t)=>(n,r,i)=>S.some(Es(e,n.element,`col`,t[i])))(r,d);return Os(p,u,i,a,o.transformCell,g,m)})(n,T(Ls(r),(e=>e.row)),e,t,i,a.replaceOrInit,o),r[0].row,r[0].column),qs=Ks(`thead`,!0),Js=Ks(`tbody`,!1),Ys=Ks(`tfoot`,!1),Xs=(e,t,n,r)=>{let i=Ms(t.details),a=((e,t)=>j(e,(e=>{let n=e.cells,r=O(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),n);return r.length>0?[Ve(e.element,r,e.section,e.isNew)]:[]})))(e,T(i,(e=>e.column))),o=a.length>0?a[0].cells.length-1:0;return Is(a,i[0].row,Math.min(i[0].column,o))},Zs=(e,t,n,r)=>{let i=Ls(t),a=((e,t,n)=>{let{rows:r,cols:i}=R(e);return[...i,...r.slice(0,t),...r.slice(n+1)]})(e,i[0].row,i[i.length-1].row),o=Math.max(R(a).rows.length-1,0);return Is(a,Math.min(t[0].row,o),t[0].column)},Qs=(e,t,n,r)=>{let i=t.cells;return Qo(i),Fs(((e,t,n,r)=>{let i=R(e).rows;if(i.length===0)return e;for(let e=t.startRow;e<=t.finishRow;e++)for(let n=t.startCol;n<=t.finishCol;n++){let t=i[e],a=Ke(t,n).isLocked;We(t,n,Be(r(),!1,a))}return e})(e,t.bounds,0,r.merge(i)),S.from(i[0]))},$s=(e,t,n,r)=>Fs(O(t,((e,t)=>fs(e,t,n,r.unmerge(t))),e),S.from(t[0])),ec=(e,t,n,r)=>{let i=((e,t)=>La(Si(e),t,!0))(t.clipboard,t.generators);var a,o;return((e,t,n,r,i)=>{let a=vi(t),o=((e,t,n)=>{let r=Je(t[0]);return{row:R(t).cols.length+e.row,column:ae(re(r-e.column,(t=>t+e.column)),(e=>M(n,(t=>t!==e)))).getOr(r-1)}})(e,t,a),s=R(n).rows,c=bs(o,s,a);return((e,t,n)=>{if(e.row>=t.length||e.column>Je(t[0]))return Se.error(`invalid start address out of table bounds, row: `+e.row+`, column: `+e.column);let r=t.slice(e.row),i=r[0].cells.slice(e.column),a=Je(n[0]),o=n.length;return Se.value({rowDelta:r.length-o,colDelta:i.length-a})})(o,t,s).map((e=>{let n=vs(t,{...e,colDelta:e.colDelta-c.length},r);return((e,t,n,r,i,a)=>{let o=e.row,s=e.column,c=o+n.length,l=s+Je(n[0])+a.length,u=se(a,x);for(let e=o;e<c;e++){let a=0;for(let c=s;c<l;c++){if(u[c]){a++;continue}ys(t,e,c,i)&&fs(t,qe(t[e],c),i,r.cell);let l=c-s-a,d=Ke(n[e-o],l),f=d.element,p=r.replace(f);We(t[e],c,Be(p,!0,d.isLocked))}}return t})(o,n,s,r,i,bs(o,s,vi(n)))}))})((a=t.row,o=t.column,{row:a,column:o}),e,i,t.generators,n).fold((()=>Fs(e,S.some(t.element))),(e=>Is(e,t.row,t.column)))},tc=(e,t,n)=>La(Ci(((e,t)=>pi(e,(()=>t)))(e,n.section)),t,!0),nc=(e,t,n,r)=>{let i=R(e).rows,a=t.cells[0].column,o=i[t.cells[0].row];return Is(xs(a,e,tc(t.clipboard,t.generators,o),t.generators,n),t.cells[0].row,t.cells[0].column)},rc=(e,t,n,r)=>{let i=R(e).rows,a=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,o=i[t.cells[0].row];return Is(xs(a,e,tc(t.clipboard,t.generators,o),t.generators,n),t.cells[0].row,a)},ic=(e,t,n,r)=>{let i=R(e).rows,a=t.cells[0].row,o=i[a];return Is(Ss(a,e,tc(t.clipboard,t.generators,o),t.generators,n),t.cells[0].row,t.cells[0].column)},ac=(e,t,n,r)=>{let i=R(e).rows,a=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,o=i[t.cells[0].row];return Is(Ss(a,e,tc(t.clipboard,t.generators,o),t.generators,n),a,t.cells[0].column)},oc=(e,t,n,r)=>((e,t,n,r)=>{let i=Ci(t);Ya(i,r.getWidths(i,r),r)})(0,t,0,r.sizing),sc=(e,t,n,r)=>((e,t,n,r,i)=>{let a=Ci(t),o=r.getWidths(a,r),s=r.pixelWidth(),{newSizes:c,delta:l}=i.calcRedestributedWidths(o,s,n.pixelDelta,r.isRelative);Ya(a,c,r),r.adjustTableWidth(l)})(0,t,n,r.sizing,r.resize),cc=(e,t)=>w(t,(e=>e.column===0&&e.isLocked)),lc=(e,t)=>w(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),uc=(e,t)=>{let n=Bi(e);return k(Ms(t),((e,t)=>e+n[t.column].map(Vn).getOr(0)),0)},dc=e=>(t,n)=>Wa(t,n).filter((n=>!(e?cc:lc)(t,n))).map((e=>({details:e,pixelDelta:uc(t,e)}))),fc=(e,t)=>Ga(e,t).map((t=>({details:t,pixelDelta:-uc(e,t)}))),pc=e=>(t,n)=>Ua(t,n).filter((n=>!(e?cc:lc)(t,n.cells))),mc=co(`th`),hc=co(`td`),gc=(e,t,n,r)=>Va(Rs,Wa,p,p,so,e,t,n,r),_c=(e,t,n,r)=>Va(zs,Wa,p,p,so,e,t,n,r),vc=(e,t,n,r)=>Va(Bs,dc(!0),sc,p,so,e,t,n,r),yc=(e,t,n,r)=>Va(Vs,dc(!1),sc,p,so,e,t,n,r),bc=(e,t,n,r)=>Va(Xs,fc,sc,Ps,so,e,t,n,r),xc=(e,t,n,r)=>Va(Zs,Wa,p,Ps,so,e,t,n,r),Sc=(e,t,n,r)=>Va(Hs,Ga,p,p,mc,e,t,n,r),Cc=(e,t,n,r)=>Va(Ws,Ga,p,p,hc,e,t,n,r),wc=(e,t,n,r)=>Va(qs,Wa,p,p,mc,e,t,n,r),Tc=(e,t,n,r)=>Va(Js,Wa,p,p,hc,e,t,n,r),Ec=(e,t,n,r)=>Va(Ys,Wa,p,p,hc,e,t,n,r),Dc=(e,t,n,r)=>Va(Us,Ga,p,p,mc,e,t,n,r),Oc=(e,t,n,r)=>Va(Gs,Ga,p,p,hc,e,t,n,r),kc=(e,t,n,r)=>Va(Qs,K,oc,p,lo,e,t,n,r),Ac=(e,t,n,r)=>Va($s,qa,oc,p,lo,e,t,n,r),jc=(e,t,n,r)=>Va(ec,Ha,oc,p,so,e,t,n,r),Mc=(e,t,n,r)=>Va(nc,pc(!0),p,p,so,e,t,n,r),Nc=(e,t,n,r)=>Va(rc,pc(!1),p,p,so,e,t,n,r),Pc=(e,t,n,r)=>Va(ic,Ua,p,p,so,e,t,n,r),Fc=(e,t,n,r)=>Va(ac,Ua,p,p,so,e,t,n,r),Ic=(e,t)=>{let n=Si(e);return Wa(n,t).bind((e=>{let t=e[e.length-1],r=e[0].column,i=t.column+t.colspan;return fi(oe(T(n.all,(e=>D(e.cells,(e=>e.column>=r&&e.column<i))))))})).getOr(``)},Lc=(e,t)=>Wa(Si(e),t).bind(fi).getOr(``),Rc=(e,t)=>{let n=Si(e);return Wa(n,t).bind((e=>{let t=e[e.length-1],r=e[0].row,i=t.row+t.rowspan;return(e=>{let t=T(e,(e=>di(e).type)),n=C(t,`header`),r=C(t,`footer`);if(n||r){let e=C(t,`body`);return!n||e||r?n||e||!r?S.none():S.some(`footer`):S.some(`header`)}return S.some(`body`)})(n.all.slice(r,i))})).getOr(``)},zc=(e,t)=>{let n=t.column,r=t.column+t.colspan-1,i=t.row,a=t.row+t.rowspan-1;return n<=e.finishCol&&r>=e.startCol&&i<=e.finishRow&&a>=e.startRow},Bc=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Vc=(e,t,n)=>{let r=Ti(e,t,lt),i=Ti(e,n,lt);return r.bind((e=>i.map((t=>{return n=e,r=t,{startRow:Math.min(n.row,r.row),startCol:Math.min(n.column,r.column),finishRow:Math.max(n.row+n.rowspan-1,r.row+r.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,r.column+r.colspan-1)};var n,r}))))},Hc=(e,t,n)=>Vc(e,t,n).map((t=>T(Ei(e,_(zc,t)),(e=>e.element)))),Uc=(e,t)=>Ti(e,t,((e,t)=>ut(t,e))).map((e=>e.element)),Wc=(e,t,n)=>Hc(Kc(e),t,n),Gc=(e,t,n,r,i)=>{let a=Kc(e),o=lt(e,n)?S.some(t):Uc(a,t),s=lt(e,i)?S.some(r):Uc(a,r);return o.bind((e=>s.bind((t=>Hc(a,e,t)))))},Kc=Si,qc={styles:{"border-collapse":`collapse`,width:`100%`},attributes:{border:`1`},colGroups:!1},Jc=(e,t,n,r)=>re(e,(e=>((e,t,n,r)=>{let i=z.fromTag(`tr`);for(let a=0;a<e;a++){let e=z.fromTag(r<t||a<n?`th`:`td`);a<n&&pn(e,`scope`,`row`),r<t&&pn(e,`scope`,`col`),cn(e,z.fromTag(`br`)),cn(i,e)}return i})(t,n,r,e))),Yc=e=>{let t=[];return{bind:e=>{if(e===void 0)throw Error(`Event bind error: undefined handler`);t.push(e)},unbind:e=>{t=D(t,(t=>t!==e))},trigger:(...n)=>{let r={};E(e,((e,t)=>{r[e]=n[t]})),E(t,(e=>{e(r)}))}}},Xc=e=>({registry:fe(e,(e=>({bind:e.bind,unbind:e.unbind}))),trigger:fe(e,(e=>e.trigger))}),Zc=ye([`compare`,`extract`,`mutate`,`sink`]),Qc=ye([`element`,`start`,`stop`,`destroy`]),$c=ye([`forceDrop`,`drop`,`move`,`delayDrop`]),el=()=>{let e={onEvent:p,reset:p,events:Xc({move:Yc([`info`])}).registry},t=(()=>{let e=S.none(),t=Xc({move:Yc([`info`])});return{onEvent:(n,r)=>{r.extract(n).each((n=>{((t,n)=>{let r=e.map((e=>t.compare(e,n)));return e=S.some(n),r})(r,n).each((e=>{t.trigger.move(e)}))}))},reset:()=>{e=S.none()},events:t.registry}})(),n=e;return{on:()=>{n.reset(),n=t},off:()=>{n.reset(),n=e},isOn:()=>n===t,onEvent:(e,t)=>{n.onEvent(e,t)},events:t.events}},tl=we(`ephox-dragster`).resolve;var nl=Zc({compare:(e,t)=>Wn(t.left-e.left,t.top-e.top),extract:e=>S.some(Wn(e.x,e.y)),sink:(e,t)=>{let n=(e=>{let t={layerClass:tl(`blocker`),...e},n=z.fromTag(`div`);return pn(n,`role`,`presentation`),pn(n,`data-mce-bogus`,`all`),An(n,{position:`fixed`,left:`0px`,top:`0px`,width:`100%`,height:`100%`}),cr(n,tl(`blocker`)),cr(n,t.layerClass),{element:m(n),destroy:()=>{bn(n)}}})(t),r=nn(n.element(),`mousedown`,e.forceDrop),i=nn(n.element(),`mouseup`,e.drop),a=nn(n.element(),`mousemove`,e.move),o=nn(n.element(),`mouseout`,e.delayDrop);return Qc({element:n.element,start:e=>{cn(e,n.element())},stop:()=>{bn(n.element())},destroy:()=>{n.destroy(),i.unbind(),a.unbind(),o.unbind(),r.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});let rl=we(`ephox-snooker`).resolve,il=rl(`resizer-bar`),al=rl(`resizer-rows`),ol=rl(`resizer-cols`),sl=e=>{E(hr(e.parent(),`.`+il),bn)},cl=(e,t,n)=>{let r=e.origin();E(t,(t=>{t.each((t=>{let i=n(r,t);cr(i,il),cn(e.parent(),i)}))}))},ll=(e,t,n,r,i)=>{let a=Kn(n),o=t.isResizable,s=r.length>0?$i.positions(r,n):[],c=s.length>0?((e,t)=>j(e.all,((e,n)=>t(e.element)?[n]:[])))(e,o):[];((e,t,n,r)=>{cl(e,t,((e,t)=>{let i=((e,t,n,r)=>{let i=z.fromTag(`div`);return An(i,{position:`absolute`,left:t+`px`,top:n-3.5+`px`,height:`7px`,width:r+`px`}),mn(i,{"data-mce-bogus":`all`,"data-row":e,role:`presentation`}),i})(t.row,n.left-e.left,t.y-e.top,r);return cr(i,al),i}))})(t,D(s,((e,t)=>w(c,(e=>t===e)))),a,Vn(n));let l=i.length>0?ta.positions(i,n):[],u=l.length>0?((e,t)=>{let n=[];return re(e.grid.columns,(r=>{Ai(e,r).map((e=>e.element)).forall(t)&&n.push(r)})),D(n,(n=>M(Ei(e,(e=>e.column===n)),(e=>t(e.element)))))})(e,o):[];((e,t,n,r)=>{cl(e,t,((e,t)=>{let i=((e,t,n,r,i)=>{let a=z.fromTag(`div`);return An(a,{position:`absolute`,left:t-3.5+`px`,top:n+`px`,height:i+`px`,width:`7px`}),mn(a,{"data-mce-bogus":`all`,"data-column":e,role:`presentation`}),a})(t.col,t.x-e.left,n.top-e.top,0,r);return cr(i,ol),i}))})(t,D(l,((e,t)=>w(u,(e=>t===e)))),a,Rn(n))},ul=(e,t)=>{if(sl(e),e.isResizable(t)){let n=Si(t);ll(n,e,t,Hi(n),Bi(n))}},dl=(e,t)=>{E(hr(e.parent(),`.`+il),t)},fl=e=>{dl(e,(e=>{kn(e,`display`,`none`)}))},pl=e=>{dl(e,(e=>{kn(e,`display`,`block`)}))},ml=rl(`resizer-bar-dragging`),hl=e=>{let t=(()=>{let e=Xc({drag:Yc([`xDelta`,`yDelta`,`target`])}),t=S.none(),n=(()=>{let e=Xc({drag:Yc([`xDelta`,`yDelta`])});return{mutate:(t,n)=>{e.trigger.drag(t,n)},events:e.registry}})();return n.events.drag.bind((n=>{t.each((t=>{e.trigger.drag(n.xDelta,n.yDelta,t)}))})),{assign:e=>{t=S.some(e)},get:()=>t,mutate:n.mutate,events:e.registry}})(),n=((e,t={})=>((e,t,n)=>{let r=!1,i=Xc({start:Yc([]),stop:Yc([])}),a=el(),o=()=>{u.stop(),a.isOn()&&(a.off(),i.trigger.stop())},c=(e=>{let t=null,n=()=>{s(t)||(clearTimeout(t),t=null)};return{cancel:n,throttle:(...r)=>{n(),t=setTimeout((()=>{t=null,e.apply(null,r)}),200)}}})(o);a.events.move.bind((n=>{t.mutate(e,n.info)}));let l=e=>(...t)=>{r&&e.apply(null,t)},u=t.sink($c({forceDrop:o,drop:l(o),move:l((e=>{c.cancel(),a.onEvent(e,t)})),delayDrop:l(c.throttle)}),n);return{element:u.element,go:e=>{u.start(e),a.on(),i.trigger.start()},on:()=>{r=!0},off:()=>{r=!1},isActive:()=>r,destroy:()=>{u.destroy()},events:i.registry}})(e,t.mode??nl,t))(t,{}),r=S.none(),i=(e,t)=>S.from(hn(e,t));t.events.drag.bind((e=>{i(e.target,`data-row`).each((t=>{let n=Zr(e.target,`top`);kn(e.target,`top`,n+e.yDelta+`px`)})),i(e.target,`data-column`).each((t=>{let n=Zr(e.target,`left`);kn(e.target,`left`,n+e.xDelta+`px`)}))}));let a=(e,t)=>Zr(e,t)-Jr(e,`data-initial-`+t,0);n.events.stop.bind((()=>{t.get().each((t=>{r.each((n=>{i(t,`data-row`).each((e=>{let r=a(t,`top`);_n(t,`data-initial-top`),d.trigger.adjustHeight(n,r,parseInt(e,10))})),i(t,`data-column`).each((e=>{let r=a(t,`left`);_n(t,`data-initial-left`),d.trigger.adjustWidth(n,r,parseInt(e,10))})),ul(e,n)}))}))}));let o=(r,i)=>{d.trigger.startAdjust(),t.assign(r),pn(r,`data-initial-`+i,Zr(r,i)),cr(r,ml),kn(r,`opacity`,`0.2`),n.go(e.dragContainer())},c=nn(e.parent(),`mousedown`,(e=>{var t=e.target;W(t,al)&&o(e.target,`top`),(e=>W(e,ol))(e.target)&&o(e.target,`left`)})),l=t=>lt(t,e.view()),u=nn(e.view(),`mouseover`,(t=>{var i;(i=t.target,ar(i,`table`,l).filter(ur)).fold((()=>{Dn(t.target)&&!(e=>W(e,`ephox-snooker-resizer-bar`)||W(e,`ephox-dragster-blocker`))(t.target)&&sl(e)}),(t=>{n.isActive()&&(r=S.some(t),ul(e,t))}))})),d=Xc({adjustHeight:Yc([`table`,`delta`,`row`]),adjustWidth:Yc([`table`,`delta`,`column`]),startAdjust:Yc([])});return{destroy:()=>{c.unbind(),u.unbind(),n.destroy(),sl(e)},refresh:t=>{ul(e,t)},on:n.on,off:n.off,hideBars:_(fl,e),showBars:_(pl,e),events:d.registry}},gl=e=>t=>t.options.get(e),_l=`100%`,vl=e=>{let t=e.dom,n=t.getParent(e.selection.getStart(),t.isBlock)??e.getBody();return Hn(z.fromDom(n))+`px`},yl=e=>S.from(e.options.get(`table_clone_elements`)),bl=gl(`table_header_type`),xl=gl(`table_column_resizing`),Sl=e=>xl(e)===`preservetable`,Cl=e=>xl(e)===`resizetable`,wl=gl(`table_sizing_mode`),Tl=e=>wl(e)===`relative`,El=e=>wl(e)===`fixed`,Dl=e=>wl(e)===`responsive`,Ol=gl(`table_resize_bars`),kl=gl(`table_style_by_css`),Al=gl(`table_merge_content_on_paste`),jl=e=>{let t=e.options,n=t.get(`table_default_attributes`);return t.isSet(`table_default_attributes`)?n:((e,t)=>Dl(e)||kl(e)?t:El(e)?{...t,width:vl(e)}:{...t,width:_l})(e,n)},Ml=gl(`table_use_colgroups`),Nl=e=>z.fromDom(e.getBody()),Pl=e=>t=>lt(t,Nl(e)),Fl=e=>{_n(e,`data-mce-style`);let t=e=>_n(e,`data-mce-style`);E(ri(e),t),E(ii(e),t),E(oi(e),t)},Il=e=>z.fromDom(e.selection.getStart()),J=e=>e.getBoundingClientRect().width,Ll=e=>e.getBoundingClientRect().height,Rl=e=>(t,n)=>{let r=t.dom.getStyle(n,e)||t.dom.getAttrib(n,e);return S.from(r).filter(Fe)},zl=Rl(`width`),Bl=Rl(`height`),Vl=e=>nr(e,Bt(`table`)).exists(ur),Hl=e=>rr(e,`table`),Ul=(e,t,n)=>{let r=e=>t=>n!==void 0&&n(t)||lt(t,e);return lt(e,t)?S.some({boxes:S.some([e]),start:e,finish:t}):Hl(e).bind((i=>Hl(t).bind((a=>{if(lt(i,a))return S.some({boxes:Wc(i,e,t),start:e,finish:t});if(ut(i,a)){let n=pr(t,`td,th`,r(i)),o=n.length>0?n[n.length-1]:t;return S.some({boxes:Gc(i,e,i,t,a),start:e,finish:o})}if(ut(a,i)){let n=pr(e,`td,th`,r(a)),o=n.length>0?n[n.length-1]:e;return S.some({boxes:Gc(a,e,i,t,a),start:e,finish:o})}return((e,t)=>((e,t,n,r=b)=>{let i=[t].concat(e.up().all(t)),a=[n].concat(e.up().all(n)),o=e=>A(e,r).fold((()=>e),(t=>e.slice(0,t+1))),s=o(i),c=o(a);return{firstpath:s,secondpath:c,shared:ae(s,(t=>w(c,((e,t)=>_(e.eq,t))(e,t))))}})(qo,e,t,void 0))(e,t).shared.bind((o=>ar(o,`table`,n).bind((n=>{let o=pr(t,`td,th`,r(n)),s=o.length>0?o[o.length-1]:t,c=pr(e,`td,th`,r(n)),l=c.length>0?c[c.length-1]:e;return S.some({boxes:Gc(n,e,i,t,a),start:l,finish:s})}))))}))))},Wl=(e,t)=>{let n=hr(e,t);return n.length>0?S.some(n):S.none()},Gl=(e,t,n)=>U(e,t).bind((t=>U(e,n).bind((e=>Jo(Hl,[t,e]).map((n=>({first:t,last:e,table:n}))))))),Kl=(e,t,n,r,i)=>((e,t)=>ae(e,(e=>ot(e,t))))(e,i).bind((e=>((e,t,n)=>ai(e).bind((r=>((e,t,n,r)=>Ti(e,t,lt).bind((t=>{let i=n>0?t.row+t.rowspan-1:t.row,a=r>0?t.column+t.colspan-1:t.column;return wi(e,i+n,a+r).map((e=>e.element))})))(Kc(r),e,t,n))))(e,t,n).bind((e=>((e,t)=>rr(e,`table`).bind((n=>U(n,t).bind((t=>Ul(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))))(e,r))))),ql=(e,t)=>Wl(e,t),Jl=(e,t,n)=>Gl(e,t,n).bind((t=>{let n=t=>lt(e,t),r=`thead,tfoot,tbody,table`,i=rr(t.first,r,n),a=rr(t.last,r,n);return i.bind((e=>a.bind((n=>lt(e,n)?((e,t,n)=>((e,t,n)=>Vc(e,t,n).bind((t=>((e,t)=>{let n=!0,r=_(Bc,t);for(let i=t.startRow;i<=t.finishRow;i++)for(let a=t.startCol;a<=t.finishCol;a++)n&&=wi(e,i,a).exists(r);return n?S.some(t):S.none()})(e,t))))(Kc(e),t,n))(t.table,t.first,t.last):S.none()))))})),Yl=h,Xl=e=>{let t=(e,t)=>gn(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&M(e,(e=>t(e,`rowspan`)||t(e,`colspan`)))?S.some(e):S.none()},Zl=(e,t,n)=>t.length<=1?S.none():Jl(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),Y=(e,t)=>({selection:e,kill:t}),Ql=()=>({tag:`none`}),$l=e=>({tag:`multiple`,elements:e}),eu=e=>({tag:`single`,element:e}),tu=(e,t,n,r)=>({start:wr.on(e,t),finish:wr.on(n,r)}),nu=(e,t)=>{let n=at(e,t);return Sr(z.fromDom(n.startContainer),n.startOffset,z.fromDom(n.endContainer),n.endOffset)},ru=tu,iu=(e,t,n,r,i)=>lt(n,r)?S.none():Ul(n,r,t).bind((t=>{let r=t.boxes.getOr([]);return r.length>1?(i(e,r,t.start,t.finish),S.some(Y(S.some(ru(n,0,n,gr(n))),!0))):S.none()})),au=ge([{none:[`message`]},{success:[]},{failedUp:[`cell`]},{failedDown:[`cell`]}]),ou=e=>ar(e,`tr`),su={...au,verify:(e,t,n,r,i,a,o)=>ar(r,`td,th`,o).bind((n=>ar(t,`td,th`,o).map((t=>lt(n,t)?lt(r,n)&&gr(n)===i?a(t):au.none(`in same cell`):Jo(ou,[n,t]).fold((()=>((e,t,n)=>{let r=e.getRect(t),i=e.getRect(n);return i.right>r.left&&i.left<r.right})(e,t,n)?au.success():a(t)),(e=>a(t))))))).getOr(au.none(`default`)),cata:(e,t,n,r,i)=>e.fold(t,n,r,i)},cu=Bt(`br`),lu=(e,t,n)=>t(e,n).bind((e=>Lt(e)&&Yn(e).trim().length===0?lu(e,t,n):S.some(e))),uu=(e,t,n,r)=>((e,t)=>Yt(e,t).filter(cu).orThunk((()=>Yt(e,t-1).filter(cu))))(t,n).bind((t=>r.traverse(t).fold((()=>lu(t,r.gather,e).map(r.relative)),(e=>(e=>Ut(e).bind((t=>{let n=Jt(t);return((e,t)=>A(e,_(lt,t)))(n,e).map((r=>((e,t,n,r)=>({parent:e,children:t,element:n,index:r}))(t,n,e,r)))})))(e).map((e=>wr.on(e.parent,e.index))))))),du=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),fu=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),pu=(e,t,n)=>({left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}),mu=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),hu=(e,t)=>S.some(e.getRect(t)),gu=(e,t,n)=>It(t)?hu(e,t).map(mu):Lt(t)?((e,t,n)=>n>=0&&n<gr(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):S.none())(e,t,n).map(mu):S.none(),_u=(e,t)=>It(t)?hu(e,t).map(mu):Lt(t)?e.getRangedRect(t,0,t,gr(t)).map(mu):S.none(),vu=ge([{none:[]},{retry:[`caret`]}]),yu=(e,t,n)=>nr(t,Xo).fold(b,(t=>_u(e,t).exists((e=>((e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right)(n,e))))),bu={point:e=>e.bottom,adjuster:(e,t,n,r,i)=>{let a=du(i,5);return Math.abs(n.bottom-r.bottom)<1||n.top>i.bottom?vu.retry(a):n.top===i.bottom?vu.retry(du(i,1)):yu(e,t,i)?vu.retry(pu(a,5,0)):vu.none()},move:du,gather:Uo},xu=(e,t,n,r,i)=>i===0?S.some(r):((e,t,n)=>e.elementFromPoint(t,n).filter((e=>jt(e)===`table`)).isSome())(e,r.left,t.point(r))?((e,t,n,r,i)=>xu(e,t,n,t.move(r,5),i))(e,t,n,r,i-1):e.situsFromPoint(r.left,t.point(r)).bind((a=>a.start.fold(S.none,(a=>_u(e,a).bind((o=>t.adjuster(e,a,o,n,r).fold(S.none,(r=>xu(e,t,n,r,i-1))))).orThunk((()=>S.some(r)))),S.none))),Su=(e,t,n)=>{let r=e.move(n,5),i=xu(t,e,n,r,100).getOr(r);return((e,t,n)=>e.point(t)>n.getInnerHeight()?S.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?S.some(-e.point(t)):S.none())(e,i,t).fold((()=>t.situsFromPoint(i.left,e.point(i))),(n=>(t.scrollBy(0,n),t.situsFromPoint(i.left,e.point(i)-n))))},Cu={tryUp:_(Su,{point:e=>e.top,adjuster:(e,t,n,r,i)=>{let a=fu(i,5);return Math.abs(n.top-r.top)<1||n.bottom<i.top?vu.retry(a):n.bottom===i.top?vu.retry(fu(i,1)):yu(e,t,i)?vu.retry(pu(a,5,0)):vu.none()},move:fu,gather:Ho}),tryDown:_(Su,bu),getJumpSize:m(5)},wu=(e,t,n)=>e.getSelection().bind((r=>((e,t,n,r)=>(cu(t)?((e,t,n)=>n.traverse(t).orThunk((()=>lu(t,n.gather,e))).map(n.relative))(e,t,r):uu(e,t,n,r)).map((e=>({start:e,finish:e}))))(t,r.finish,r.foffset,n).fold((()=>S.some(Mo(r.finish,r.foffset))),(i=>{let a=e.fromSitus(i);return o=su.verify(e,r.finish,r.foffset,a.finish,a.foffset,n.failure,t),su.cata(o,(e=>S.none()),(()=>S.none()),(e=>S.some(Mo(e,0))),(e=>S.some(Mo(e,gr(e)))));var o})))),Tu=(e,t,n,r,i,a)=>a===0?S.none():Ou(e,t,n,r,i).bind((o=>{let s=e.fromSitus(o),c=su.verify(e,n,r,s.finish,s.foffset,i.failure,t);return su.cata(c,(()=>S.none()),(()=>S.some(o)),(o=>lt(n,o)&&r===0?Eu(e,n,r,fu,i):Tu(e,t,o,0,i,a-1)),(o=>lt(n,o)&&r===gr(o)?Eu(e,n,r,du,i):Tu(e,t,o,gr(o),i,a-1)))})),Eu=(e,t,n,r,i)=>gu(e,t,n).bind((t=>Du(e,i,r(t,Cu.getJumpSize())))),Du=(e,t,n)=>{let r=Ot().browser;return r.isChromium()||r.isSafari()||r.isFirefox()?t.retry(e,n):S.none()},Ou=(e,t,n,r,i)=>gu(e,n,r).bind((t=>Du(e,i,t))),ku=(e,t,n,r,i)=>ar(r,`td,th`,t).bind((r=>ar(r,`table`,t).bind((a=>((e,t)=>tr(e,(e=>Ut(e).exists((e=>lt(e,t)))),void 0).isSome())(i,a)?((e,t,n)=>wu(e,t,n).bind((r=>Tu(e,t,r.element,r.offset,n,20).map(e.fromSitus))))(e,t,n).bind((e=>ar(e.finish,`td,th`,t).map((t=>({start:r,finish:t,range:e}))))):S.none())))),Au=(e,t,n,r,i,a)=>a(r,t).orThunk((()=>ku(e,t,n,r,i).map((e=>{let t=e.range;return Y(S.some(ru(t.start,t.soffset,t.finish,t.foffset)),!0)})))),ju=(e,t)=>ar(e,`tr`,t).bind((e=>ar(e,`table`,t).bind((n=>lt(e,hr(n,`tr`)[0])?((e,t,n)=>zo(Vo,e,(e=>br(e).isSome()),n))(n,0,t).map((e=>{let t=gr(e);return Y(S.some(ru(e,t,e,t)),!0)})):S.none())))),Mu=(e,t)=>ar(e,`tr`,t).bind((e=>ar(e,`table`,t).bind((n=>{let r=hr(n,`tr`);return lt(e,r[r.length-1])?((e,t,n)=>Bo(Vo,e,(e=>yr(e).isSome()),n))(n,0,t).map((e=>Y(S.some(ru(e,0,e,0)),!0))):S.none()})))),Nu=(e,t,n,r,i,a,o)=>ku(e,n,r,i,a).bind((e=>iu(t,n,e.start,e.finish,o))),Pu=(e,t)=>ar(e,`td,th`,t),Fu=e=>Wt(e).exists(ur),Iu={traverse:qt,gather:Uo,relative:wr.before,retry:Cu.tryDown,failure:su.failedDown},Lu={traverse:Kt,gather:Ho,relative:wr.before,retry:Cu.tryUp,failure:su.failedUp},Ru=e=>t=>t===e,zu=Ru(38),Bu=Ru(40),Vu=e=>e>=37&&e<=40,Hu={isBackward:Ru(37),isForward:Ru(39)},Uu={isBackward:Ru(39),isForward:Ru(37)},Wu=e=>({elementFromPoint:(t,n)=>z.fromPoint(z.fromDom(e.document),t,n),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,n,r,i)=>((e,t)=>(e=>{let t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?S.some(n).map(tt):S.none()})(at(e,t)))(e,Er.exact(t,n,r,i)),getSelection:()=>Lr(e).map((t=>nu(e,t))),fromSitus:t=>nu(e,Er.relative(t.start,t.finish)),situsFromPoint:(t,n)=>Rr(e,t,n).map((e=>tu(e.start,e.soffset,e.finish,e.foffset))),clearSelection:()=>{(e=>{Or(e).each((e=>e.removeAllRanges()))})(e)},collapseSelection:(t=!1)=>{Lr(e).each((n=>n.fold((e=>e.collapse(t)),((n,r)=>{let i=t?n:r;Nr(e,i,i)}),((n,r,i,a)=>{let o=t?n:i,s=t?r:a;Mr(e,o,s,o,s)}))))},setSelection:t=>{Mr(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,n)=>{Nr(e,t,n)},selectNode:t=>{Ir(e,t,!1)},selectContents:t=>{Ir(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>(e=>{let t=e===void 0?document:e.dom;return Wn(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)})(z.fromDom(e.document)).top,scrollBy:(t,n)=>{((e,t,n)=>{let r=(n===void 0?document:n.dom).defaultView;r&&r.scrollBy(e,t)})(t,n,z.fromDom(e.document))}}),Gu=(e,t)=>({rows:e,cols:t}),Ku=e=>nr(e,Ft).exists(ur),qu=(e,t)=>Ku(e)||Ku(t),Ju=`data-mce-selected`,Yu=`data-mce-first-selected`,Xu=`data-mce-last-selected`;``+Ju;let Zu={selected:Ju,selectedSelector:`td[`+Ju+`],th[data-mce-selected]`,firstSelected:Yu,firstSelectedSelector:`td[`+Yu+`],th[data-mce-first-selected]`,lastSelected:Xu,lastSelectedSelector:`td[`+Xu+`],th[data-mce-last-selected]`},Qu=(e,t,n)=>({element:n,mergable:Zl(t,e,Zu),unmergable:Xl(e),selection:Yl(e)}),$u=e=>(t,n)=>{let r=jt(t),i=r===`col`||r===`colgroup`?ai(a=t).bind((e=>ql(e,Zu.firstSelectedSelector))).fold(m(a),(e=>e[0])):t;var a;return ar(i,e,n)},ed=$u(`th,td,caption`),td=$u(`th,td`),nd=e=>{return t=e.model.table.getSelectedCells(),T(t,z.fromDom);var t},rd=(e,t)=>{e.on(`BeforeGetContent`,(t=>{let n=n=>{t.preventDefault(),(e=>ai(e[0]).map((e=>{let t=((e,t)=>{let n=e=>ot(e.element,t),r=wn(e),i=hi(r),a=Aa(e),o=Ci(i),s=((e,t)=>{let n=e.grid.columns,r=e.grid.rows,i=n,a=0,o=0,s=[],c=[];return de(e.access,(e=>{if(s.push(e),t(e)){c.push(e);let t=e.row,n=t+e.rowspan-1,s=e.column,l=s+e.colspan-1;t<r?r=t:n>a&&(a=n),s<i?i=s:l>o&&(o=l)}})),((e,t,n,r,i,a)=>({minRow:e,minCol:t,maxRow:n,maxCol:r,allCells:i,selectedCells:a}))(r,i,a,o,s,c)})(o,n),c=`th:not(`+t+`),td:not(`+t+`)`;return E(ti(r,`th,td`,(e=>ot(e,c))),bn),((e,t,n,r)=>{let i=D(e,(e=>e.section!==`colgroup`)),a=t.grid.columns,o=t.grid.rows;for(let e=0;e<o;e++){let o=!1;for(let s=0;s<a;s++)e<n.minRow||e>n.maxRow||s<n.minCol||s>n.maxCol||(wi(t,e,s).filter(r).isNone()?to(i,o,e):o=!0)}})(i,o,s,n),((e,t,n,r)=>{de(n.columns,(e=>{(e.column<t.minCol||e.column>t.maxCol)&&bn(e.element)})),E(D(ei(e,`tr`),(e=>e.dom.childElementCount===0)),bn),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||E(ei(e,`th,td`),(e=>{_n(e,`rowspan`),_n(e,`colspan`)})),_n(e,gi),_n(e,`data-snooker-col-series`),Aa(e).adjustTableWidth(r)})(r,s,o,((e,t,n,r)=>{if(r.minCol===0&&t.grid.columns===r.maxCol+1)return 0;let i=Ta(t,e,n),a=k(i,((e,t)=>e+t),0),o=k(i.slice(r.minCol,r.maxCol+1),((e,t)=>e+t),0)/a*n.pixelWidth()-n.pixelWidth();return n.getCellDelta(o)})(e,Si(e),a,s)),r})(e,`[data-mce-selected]`);return Fl(t),[t]})))(n).each((n=>{t.content=t.format===`text`?((e,t)=>{let n=e.getDoc(),r=Zt(z.fromDom(e.getBody())),i=z.fromTag(`div`,n);pn(i,`data-mce-bogus`,`all`),An(i,{position:`fixed`,left:`-9999999px`,top:`0`,overflow:`hidden`,opacity:`0`});let a=(e=>Xt(e)?e:z.fromDom(Ht(e).dom.body))(r);dn(i,t),cn(a,i);let o=i.dom.innerText;return bn(i),o})(e,n):((e,t)=>T(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(``))(e,n)}))};if(!0===t.selection){let t=(e=>D(nd(e),(e=>ot(e,Zu.selectedSelector))))(e);t.length>=1&&n(t)}})),e.on(`BeforeSetContent`,(n=>{!0===n.selection&&!0===n.paste&&ce(nd(e)).each((r=>{ai(r).each((i=>{let a=D((e=>{let t=document.createElement(`div`);return t.innerHTML=e,Jt(z.fromDom(t))})(n.content),(e=>jt(e)!==`meta`)),o=Bt(`table`);if(Al(e)&&a.length===1&&o(a[0])){n.preventDefault();let o=us(z.fromDom(e.getDoc())),s=((e,t,n)=>({element:e,clipboard:t,generators:n}))(r,a[0],o);t.pasteCells(i,s).each((()=>{e.focus()}))}}))}))}))},id=(e,t)=>e.dispatch(`NewRow`,{node:t}),ad=(e,t)=>e.dispatch(`NewCell`,{node:t}),od=(e,t,n)=>{e.dispatch(`TableModified`,{...n,table:t})},sd={structure:!1,style:!0},cd={structure:!0,style:!1},ld={structure:!0,style:!0},ud=(e,t)=>Tl(e)?ja(t):El(e)?G(t):Aa(t),dd=(e,t,n)=>{let r=e=>jt(Nl(e))===`table`,i=yl(e),a=Cl(e)?p:Qa,o=t=>{switch(bl(e)){case`section`:return Ii();case`sectionCells`:return Li();case`cells`:return Ri();default:return((e,t)=>{var n;switch((n=Si(e),le(n.all,(e=>{let t=di(e);return t.type===`header`?S.from(t.subType):S.none()}))).getOr(t)){case`section`:return Ni();case`sectionCells`:return Pi();case`cells`:return Fi()}})(t,`section`)}},s=(r,a,s,c)=>(l,u,d=!1)=>{Fl(l);let f=ls(s,z.fromDom(e.getDoc()),i),p={sizing:ud(e,l),resize:Cl(e)?Kr():qr(),section:o(l)};return a(l)?r(l,u,f,p).bind((r=>{t.refresh(l.dom),E(r.newRows,(t=>{id(e,t.dom)})),E(r.newCells,(t=>{ad(e,t.dom)}));let i=((t,r)=>r.cursor.fold((()=>ce(ri(t)).filter(Dn).map((r=>{n.clearSelectedCells(t.dom);let i=e.dom.createRng();return i.selectNode(r.dom),e.selection.setRng(i),pn(r,`data-mce-selected`,`1`),i}))),(r=>{let i=Io(Lo,r),a=e.dom.createRng();return a.setStart(i.element.dom,i.offset),a.setEnd(i.element.dom,i.offset),e.selection.setRng(a),n.clearSelectedCells(t.dom),S.some(a)})))(l,r);return Dn(l)&&(Fl(l),d||od(e,l.dom,c)),i.map((e=>({rng:e,effect:c})))})):S.none()};return{deleteRow:s(xc,(t=>!r(e)||ds(t).rows>1),p,cd),deleteColumn:s(bc,(t=>!r(e)||ds(t).columns>1),p,cd),insertRowsBefore:s(gc,x,p,cd),insertRowsAfter:s(_c,x,p,cd),insertColumnsBefore:s(vc,x,a,cd),insertColumnsAfter:s(yc,x,a,cd),mergeCells:s(kc,x,p,cd),unmergeCells:s(Ac,x,p,cd),pasteColsBefore:s(Mc,x,p,cd),pasteColsAfter:s(Nc,x,p,cd),pasteRowsBefore:s(Pc,x,p,cd),pasteRowsAfter:s(Fc,x,p,cd),pasteCells:s(jc,x,p,ld),makeCellsHeader:s(Dc,x,p,cd),unmakeCellsHeader:s(Oc,x,p,cd),makeColumnsHeader:s(Sc,x,p,cd),unmakeColumnsHeader:s(Cc,x,p,cd),makeRowsHeader:s(wc,x,p,cd),makeRowsBody:s(Tc,x,p,cd),makeRowsFooter:s(Ec,x,p,cd),getTableRowType:Rc,getTableCellType:Lc,getTableColType:Ic}},fd=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},pd=(e,t,n,r,a)=>{let o=(e=>{let t=e.options,n=t.get(`table_default_styles`);return t.isSet(`table_default_styles`)?n:((e,t)=>Dl(e)||!kl(e)?t:El(e)?{...t,width:vl(e)}:{...t,width:_l})(e,n)})(e),s={styles:o,attributes:jl(e),colGroups:Ml(e)};return e.undoManager.ignore((()=>{let i=((e,t,n,r,i,a=qc)=>{let o=z.fromTag(`table`),s=i!==`cells`;An(o,a.styles),mn(o,a.attributes),a.colGroups&&cn(o,(e=>{let t=z.fromTag(`colgroup`);return re(e,(()=>cn(t,z.fromTag(`col`)))),t})(t));let c=Math.min(e,n);if(s&&n>0){let e=z.fromTag(`thead`);cn(o,e),dn(e,Jc(n,t,i===`sectionCells`?c:0,r))}let l=z.fromTag(`tbody`);return cn(o,l),dn(l,Jc(s?e-c:e,t,s?0:n,r)),o})(n,t,a,r,bl(e),s);pn(i,`data-mce-id`,`__mce`);let o=(e=>{let t=z.fromTag(`div`);return cn(t,z.fromDom(e.dom.cloneNode(!0))),(e=>e.dom.innerHTML)(t)})(i);e.insertContent(o),e.addVisual()})),U(Nl(e),`table[data-mce-id="__mce"]`).map((t=>(El(e)?ts(t):Dl(e)?ns(t):(Tl(e)||(e=>i(e)&&e.indexOf(`%`)!==-1)(o.width))&&es(t),Fl(t),_n(t,`data-mce-id`),((e,t)=>{E(hr(t,`tr`),(t=>{id(e,t.dom),E(hr(t,`th,td`),(t=>{ad(e,t.dom)}))}))})(e,t),((e,t)=>{U(t,`td,th`).each(_(fd,e))})(e,t),t.dom))).getOrNull()};var md=tinymce.util.Tools.resolve(`tinymce.FakeClipboard`);let hd=`x-tinymce/dom-table-`,gd=hd+`rows`,_d=hd+`columns`,vd=e=>{let t=md.FakeClipboardItem(e);md.write([t])},yd=e=>le(md.read()??[],(t=>S.from(t.getType(e)))),bd=e=>{yd(e).isSome()&&md.clear()},xd=e=>{e.fold(Cd,(e=>vd({[gd]:e})))},Sd=()=>yd(gd),Cd=()=>bd(gd),wd=e=>{e.fold(Ed,(e=>vd({[_d]:e})))},Td=()=>yd(_d),Ed=()=>bd(_d),Dd=e=>ed(Il(e),Pl(e)).filter(Vl),Od=(e,t)=>{let n=Pl(e),r=e=>ai(e,n),o=t=>(e=>td(Il(e),Pl(e)).filter(Vl))(e).bind((e=>r(e).map((n=>t(n,e))))),s=t=>{e.focus()},c=(t,n=!1)=>o(((r,i)=>{t(r,Qu(nd(e),r,i),n).each(s)})),l=()=>o(((t,n)=>((e,t,n)=>{let r=Si(e);return Wa(r,t).bind((e=>{let t=Ra(j(R(La(r,n,!1)).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),(e=>{let t=D(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})));return De(t.length>0,t)})).map((e=>T(e,(e=>{let t=Cn(e.element);return E(e.cells,(e=>{let n=wn(e.element);Ma(n,`colspan`,e.colspan,1),Ma(n,`rowspan`,e.rowspan,1),cn(t,n)})),t}))))})(t,Qu(nd(e),t,n),ls(p,z.fromDom(e.getDoc()),S.none())))),u=()=>o(((t,n)=>((e,t)=>{let n=Si(e);return Ga(n,t).map((e=>{let t=e[e.length-1],r=e[0].column,i=t.column+t.colspan,a=((e,t,n)=>{if(ki(e)){let r=T(D(Oi(e),eo(t,n)),(e=>{let r=wn(e.element);return $a(r,`span`,n-t),r})),i=z.fromTag(`colgroup`);return dn(i,r),[i]}return[]})(n,r,i),o=((e,t,n)=>T(e.all,(e=>{let r=T(D(e.cells,eo(t,n)),(e=>{let r=wn(e.element);return $a(r,`colspan`,n-t),r})),i=z.fromTag(`tr`);return dn(i,r),i})))(n,r,i);return[...a,...o]}))})(t,Qu(nd(e),t,n)))),d=(t,n)=>n().each((n=>{let r=T(n,(e=>wn(e)));o(((n,i)=>{let a=us(z.fromDom(e.getDoc()));t(n,((e,t,n,r)=>({selection:Yl(e),clipboard:n,generators:r}))(nd(e),0,r,a)).each(s)}))})),m=e=>(t,n)=>((e,t)=>I(e,t)?S.from(e[t]):S.none())(n,`type`).each((t=>{c(e(t),n.no_events)}));de({mceTableSplitCells:()=>c(t.unmergeCells),mceTableMergeCells:()=>c(t.mergeCells),mceTableInsertRowBefore:()=>c(t.insertRowsBefore),mceTableInsertRowAfter:()=>c(t.insertRowsAfter),mceTableInsertColBefore:()=>c(t.insertColumnsBefore),mceTableInsertColAfter:()=>c(t.insertColumnsAfter),mceTableDeleteCol:()=>c(t.deleteColumn),mceTableDeleteRow:()=>c(t.deleteRow),mceTableCutCol:()=>u().each((e=>{wd(e),c(t.deleteColumn)})),mceTableCutRow:()=>l().each((e=>{xd(e),c(t.deleteRow)})),mceTableCopyCol:()=>u().each((e=>wd(e))),mceTableCopyRow:()=>l().each((e=>xd(e))),mceTablePasteColBefore:()=>d(t.pasteColsBefore,Td),mceTablePasteColAfter:()=>d(t.pasteColsAfter,Td),mceTablePasteRowBefore:()=>d(t.pasteRowsBefore,Sd),mceTablePasteRowAfter:()=>d(t.pasteRowsAfter,Sd),mceTableDelete:()=>Dd(e).each((t=>{ai(t,n).filter(v(n)).each((t=>{let n=z.fromText(``);if(on(t,n),bn(t),e.dom.isEmpty(e.getBody()))e.setContent(``),e.selection.setCursorLocation();else{let t=e.dom.createRng();t.setStart(n.dom,0),t.setEnd(n.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),mceTableCellToggleClass:(t,n)=>{o((t=>{let r=nd(e),i=M(r,(t=>e.formatter.match(`tablecellclass`,{value:n},t.dom)))?e.formatter.remove:e.formatter.apply;E(r,(e=>i(`tablecellclass`,{value:n},e.dom))),od(e,t.dom,sd)}))},mceTableToggleClass:(t,n)=>{o((t=>{e.formatter.toggle(`tableclass`,{value:n},t.dom),od(e,t.dom,sd)}))},mceTableToggleCaption:()=>{Dd(e).each((t=>{ai(t,n).each((n=>{ir(n,`caption`).fold((()=>{let t=z.fromTag(`caption`);cn(t,z.fromText(`Caption`)),((e,t)=>{Yt(e,0).fold((()=>{cn(e,t)}),(e=>{an(e,t)}))})(n,t),e.selection.setCursorLocation(t.dom,0)}),(r=>{Bt(`caption`)(t)&&ct(`td`,n).each((t=>e.selection.setCursorLocation(t.dom,0))),bn(r)})),od(e,n.dom,cd)}))}))},mceTableSizingMode:(t,r)=>(t=>Dd(e).each((r=>{Dl(e)||El(e)||Tl(e)||ai(r,n).each((n=>{t!==`relative`||bo(n)?t!==`fixed`||xo(n)?t!==`responsive`||So(n)||ns(n):ts(n):es(n),Fl(n),od(e,n.dom,cd)}))})))(r),mceTableCellType:m((e=>e===`th`?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:m((e=>e===`th`?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:m((e=>{switch(e){case`header`:return t.makeRowsHeader;case`footer`:return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,n)=>e.addCommand(n,t))),e.addCommand(`mceInsertTable`,((t,n)=>{((e,t,n,r={})=>{let i=e=>f(e)&&e>0;if(i(t)&&i(n)){let i=r.headerRows||0;return pd(e,n,t,r.headerColumns||0,i)}console.error(`Invalid values for mceInsertTable - rows and columns values are required to insert a table.`)})(e,n.rows,n.columns,n.options)})),e.addCommand(`mceTableApplyCellStyle`,((t,n)=>{let o=e=>`tablecell`+e.toLowerCase().replace(`-`,``);if(!a(n))return;let s=D(nd(e),Vl);if(s.length===0)return;let c=((e,t)=>{let n={};return((e,t,n,r)=>{de(e,((e,i)=>{(t(e,i)?n:r)(e,i)}))})(e,t,(e=>(t,n)=>{e[n]=t})(n),p),n})(n,((t,n)=>e.formatter.has(o(n))&&i(t)));(e=>{for(let t in e)if(ue.call(e,t))return!1;return!0})(c)||(de(c,((t,n)=>{let r=o(n);E(s,(n=>{t===``?e.formatter.remove(r,{value:null},n.dom,!0):e.formatter.apply(r,{value:t},n.dom)}))})),r(s[0]).each((t=>od(e,t.dom,sd))))}))},kd=e=>!W(z.fromDom(e.target),`ephox-snooker-resizer-bar`),Ad=(e,t)=>{let n=(i=Zu.selectedSelector,{get:()=>ql(z.fromDom(e.getBody()),i).fold((()=>td(Il(e),Pl(e)).fold(Ql,eu)),$l)}),r=((e,t,n)=>{let r=t=>{_n(t,e.selected),_n(t,e.firstSelected),_n(t,e.lastSelected)},i=t=>{pn(t,e.selected,`1`)},a=e=>{o(e),n()},o=t=>{E(hr(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`),r)};return{clearBeforeUpdate:o,clear:a,selectRange:(n,r,o,s)=>{a(n),E(r,i),pn(o,e.firstSelected,`1`),pn(s,e.lastSelected,`1`),t(r,o,s)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}})(Zu,((t,n,r)=>{ai(n).each((i=>{let a=T(t,(e=>e.dom)),o=yl(e),s=ls(p,z.fromDom(e.getDoc()),o),c=((e,t,n)=>{let r=Si(e);return Wa(r,t).map((e=>{let{rows:t}=R(La(r,n,!1));return{upOrLeftCells:((e,t)=>j(Ra(e.slice(0,t[t.length-1].row+1)),(e=>T(e.cells.slice(0,t[t.length-1].column+1),(e=>e.element)))))(t,e),downOrRightCells:((e,t)=>j(Ra(e.slice(t[0].row+t[0].rowspan-1,e.length)),(e=>T(e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length),(e=>e.element)))))(t,e)}}))})(i,{selection:nd(e)},s).map((e=>fe(e,(e=>T(e,(e=>e.dom)))))).getOrUndefined();((e,t,n,r,i)=>{e.dispatch(`TableSelectionChange`,{cells:t,start:n,finish:r,otherCells:i})})(e,a,n.dom,r.dom,c)}))}),(()=>(e=>{e.dispatch(`TableSelectionClear`)})(e)));var i;return e.on(`init`,(n=>{let i=e.getWin(),a=Nl(e),o=Pl(e),s=((e,t,n,r)=>{let i=((e,t,n,r)=>{let i=ke(),a=i.clear,o=a=>{i.on((i=>{r.clearBeforeUpdate(t),Pu(a.target,n).each((o=>{Ul(i,o,n).each((n=>{let i=n.boxes.getOr([]);if(i.length===1){let e=i[0],n=dr(e)===`false`,o=Te(lr(a.target),e,lt);n&&o&&r.selectRange(t,i,e,e)}else i.length>1&&(r.selectRange(t,i,n.start,n.finish),e.selectContents(o))}))}))}))};return{clearstate:a,mousedown:e=>{r.clear(t),Pu(e.target,n).filter(Fu).each(i.set)},mouseover:e=>{o(e)},mouseup:e=>{o(e),a()}}})(Wu(e),t,n,r);return{clearstate:i.clearstate,mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}})(i,a,o,r),c=((e,t,n,r)=>{let i=Wu(e),a=()=>(r.clear(t),S.none());return{keydown:(e,o,s,c,l,u)=>{let d=e.raw,f=d.which,p=!0===d.shiftKey;return Wl(t,r.selectedSelector).fold((()=>(Vu(f)&&!p&&r.clearBeforeUpdate(t),Vu(f)&&p&&!qu(o,c)?S.none:Bu(f)&&p?_(Nu,i,t,n,Iu,c,o,r.selectRange):zu(f)&&p?_(Nu,i,t,n,Lu,c,o,r.selectRange):Bu(f)?_(Au,i,n,Iu,c,o,Mu):zu(f)?_(Au,i,n,Lu,c,o,ju):S.none)),(e=>{let n=n=>()=>le(n,(n=>((e,t,n,r,i)=>Kl(r,e,t,i.firstSelectedSelector,i.lastSelectedSelector).map((e=>(i.clearBeforeUpdate(n),i.selectRange(n,e.boxes,e.start,e.finish),e.boxes))))(n.rows,n.cols,t,e,r))).fold((()=>Gl(t,r.firstSelectedSelector,r.lastSelectedSelector).map((e=>{let n=Bu(f)||u.isForward(f)?wr.after:wr.before;return i.setRelativeSelection(wr.on(e.first,0),n(e.table)),r.clear(t),Y(S.none(),!0)}))),(e=>S.some(Y(S.none(),!0))));return Vu(f)&&p&&!qu(o,c)?S.none:Bu(f)&&p?n([Gu(1,0)]):zu(f)&&p?n([Gu(-1,0)]):u.isBackward(f)&&p?n([Gu(0,-1),Gu(-1,0)]):u.isForward(f)&&p?n([Gu(0,1),Gu(1,0)]):Vu(f)&&!p?a:S.none}))()},keyup:(e,i,a,o,s)=>Wl(t,r.selectedSelector).fold((()=>{let c=e.raw,l=c.which;return!0===c.shiftKey&&Vu(l)&&qu(i,o)?((e,t,n,r,i,a,o)=>lt(n,i)&&r===a?S.none():ar(n,`td,th`,t).bind((n=>ar(i,`td,th`,t).bind((r=>iu(e,t,n,r,o))))))(t,n,i,a,o,s,r.selectRange):S.none()}),S.none)}})(i,a,o,r),l=((e,t,n,r)=>{let i=Wu(e);return(e,a)=>{r.clearBeforeUpdate(t),Ul(e,a,n).each((e=>{let n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish),i.selectContents(a),i.collapseSelection()}))}})(i,a,o,r);e.on(`TableSelectorChange`,(e=>l(e.start,e.finish)));let u=(t,n)=>{(e=>!0===e.raw.shiftKey)(t)&&(n.kill&&t.kill(),n.selection.each((t=>{let n=at(i,Er.relative(t.start,t.finish));e.selection.setRng(n)})))},d=e=>e.button===0,f=(()=>{let e=_e(z.fromDom(a)),t=_e(0);return{touchEnd:n=>{let r=z.fromDom(n.target);if(Bt(`td`)(r)||Bt(`th`)(r)){let i=e.get(),a=t.get();lt(i,r)&&n.timeStamp-a<300&&(n.preventDefault(),l(r,r))}e.set(r),t.set(n.timeStamp)}}})();e.on(`dragstart`,(e=>{s.clearstate()})),e.on(`mousedown`,(e=>{d(e)&&kd(e)&&s.mousedown(rn(e))})),e.on(`mouseover`,(e=>{var t;((t=e).buttons===void 0||1&t.buttons)&&kd(e)&&s.mouseover(rn(e))})),e.on(`mouseup`,(e=>{d(e)&&kd(e)&&s.mouseup(rn(e))})),e.on(`touchend`,f.touchEnd),e.on(`keyup`,(t=>{let n=rn(t);if(n.raw.shiftKey&&Vu(n.raw.which)){let t=e.selection.getRng(),r=z.fromDom(t.startContainer),i=z.fromDom(t.endContainer);c.keyup(n,r,t.startOffset,i,t.endOffset).each((e=>{u(n,e)}))}})),e.on(`keydown`,(n=>{let r=rn(n);t.hide();let i=e.selection.getRng(),a=z.fromDom(i.startContainer),o=z.fromDom(i.endContainer),s=Qn(Hu,Uu)(z.fromDom(e.selection.getStart()));c.keydown(r,a,i.startOffset,o,i.endOffset,s).each((e=>{u(r,e)})),t.show()})),e.on(`NodeChange`,(()=>{let t=e.selection;Jo(ai,[z.fromDom(t.getStart()),z.fromDom(t.getEnd())]).fold((()=>r.clear(a)),p)}))})),e.on(`PreInit`,(()=>{e.serializer.addTempAttr(Zu.firstSelected),e.serializer.addTempAttr(Zu.lastSelected)})),{getSelectedCells:()=>((e,t)=>{switch(e.tag){case`none`:return t();case`single`:return(e=>[e.dom])(e.element);case`multiple`:return(e=>T(e,(e=>e.dom)))(e.elements)}})(n.get(),m([])),clearSelectedCells:e=>r.clear(z.fromDom(e))}},jd=e=>u(e)&&e.nodeName===`TABLE`,Md=`bar-`,Nd=e=>hn(e,`data-mce-resize`)!==`false`,Pd=e=>{let t=ke(),n=ke(),r=ke(),i,a,o,s,c=t=>ud(e,t),l=()=>Sl(e)?qr():Kr(),u=(t,n,r,u)=>{let d=(e=>{return Me(t=e,`corner-`)?(e=>e.substring(7))(t):t;var t})(n),f=Ne(d,`e`),p=Me(d,`n`);if(a===``&&es(t),s===``&&(e=>{let t=(e=>Ln(e)+`px`)(e);yo(e,S.none(),S.some(t)),$o(e)})(t),r!==i&&a!==``){kn(t,`width`,a);let n=l(),o=c(t),s=Sl(e)||f?(e=>ds(e).columns)(t)-1:0;Xa(t,r-i,s,n,o)}else (e=>/^(\d+(\.\d+)?)%$/.test(e))(a)&&kn(t,`width`,r*parseFloat(a.replace(`%`,``))/i+`%`);if((e=>/^(\d+(\.\d+)?)px$/.test(e))(a)&&(e=>{ki(Si(e))||E(ri(e),(e=>{kn(e,`width`,jn(e,`width`)),_n(e,`width`)}))})(t),u!==o&&s!==``){kn(t,`height`,s);let e=p?0:(e=>ds(e).rows)(t)-1;Za(t,u-o,e)}};e.on(`init`,(()=>{let i=((e,t)=>((e,t)=>({parent:m(e),view:m(e),dragContainer:m(e),origin:()=>Kn(e),isResizable:t}))(z.fromDom(e.getBody()),t))(e,Nd);if(r.set(i),(e=>C(e.options.get(`object_resizing`).split(`,`),`table`))(e)&&Ol(e)){let r=((e,t,n)=>{let r=$i,i=ta,a=hl(e),o=Xc({beforeResize:Yc([`table`,`type`]),afterResize:Yc([`table`,`type`]),startDrag:Yc([])});return a.events.adjustHeight.bind((e=>{let t=e.table;o.trigger.beforeResize(t,`row`),Za(t,r.delta(e.delta,t),e.row),o.trigger.afterResize(t,`row`)})),a.events.startAdjust.bind((e=>{o.trigger.startDrag()})),a.events.adjustWidth.bind((e=>{let r=e.table;o.trigger.beforeResize(r,`col`);let a=i.delta(e.delta,r),s=n(r);Xa(r,a,e.column,t,s),o.trigger.afterResize(r,`col`)})),{on:a.on,off:a.off,refreshBars:a.refresh,hideBars:a.hideBars,showBars:a.showBars,destroy:a.destroy,events:o.registry}})(i,l(),c);e.mode.isReadOnly()||r.on(),r.events.startDrag.bind((n=>{t.set(e.selection.getRng())})),r.events.beforeResize.bind((t=>{let n=t.table.dom;((e,t,n,r,i)=>{e.dispatch(`ObjectResizeStart`,{target:t,width:n,height:r,origin:i})})(e,n,J(n),Ll(n),Md+t.type)})),r.events.afterResize.bind((n=>{let r=n.table,i=r.dom;Fl(r),t.on((t=>{e.selection.setRng(t),e.focus()})),((e,t,n,r,i)=>{e.dispatch(`ObjectResized`,{target:t,width:n,height:r,origin:i})})(e,i,J(i),Ll(i),Md+n.type),e.undoManager.add()})),n.set(r)}})),e.on(`ObjectResizeStart`,(t=>{let n=t.target;if(jd(n)&&!e.mode.isReadOnly()){let r=z.fromDom(n);E(e.dom.select(`.mce-clonedresizable`),(t=>{e.dom.addClass(t,`mce-`+xl(e)+`-columns`)})),!xo(r)&&El(e)?ts(r):!bo(r)&&Tl(e)&&es(r),So(r)&&Me(t.origin,Md)&&es(r),i=t.width,a=Dl(e)?``:zl(e,n).getOr(``),o=t.height,s=Bl(e,n).getOr(``)}})),e.on(`ObjectResized`,(t=>{let n=t.target;if(jd(n)){let r=z.fromDom(n),i=t.origin;(e=>Me(e,`corner-`))(i)&&u(r,i,t.width,t.height),Fl(r),od(e,r.dom,sd)}}));let d=()=>{n.on((e=>{e.on(),e.showBars()}))},f=()=>{n.on((e=>{e.off(),e.hideBars()}))};return e.on(`DisabledStateChange`,(e=>{e.state?f():d()})),e.on(`SwitchMode`,(()=>{e.mode.isReadOnly()?f():d()})),e.on(`dragstart dragend`,(e=>{e.type===`dragstart`?f():d()})),e.on(`remove`,(()=>{n.on((e=>{e.destroy()}))})),{refresh:e=>{n.on((t=>t.refreshBars(z.fromDom(e))))},hide:()=>{n.on((e=>e.hideBars()))},show:()=>{n.on((e=>e.showBars()))}}},Fd=e=>{(e=>{let t=e.options.register;t(`table_clone_elements`,{processor:`string[]`}),t(`table_use_colgroups`,{processor:`boolean`,default:!0}),t(`table_header_type`,{processor:e=>{let t=C([`section`,`cells`,`sectionCells`,`auto`],e);return t?{value:e,valid:t}:{valid:!1,message:`Must be one of: section, cells, sectionCells or auto.`}},default:`section`}),t(`table_sizing_mode`,{processor:`string`,default:`auto`}),t(`table_default_attributes`,{processor:`object`,default:{border:`1`}}),t(`table_default_styles`,{processor:`object`,default:{"border-collapse":`collapse`}}),t(`table_column_resizing`,{processor:e=>{let t=C([`preservetable`,`resizetable`],e);return t?{value:e,valid:t}:{valid:!1,message:`Must be preservetable, or resizetable.`}},default:`preservetable`}),t(`table_resize_bars`,{processor:`boolean`,default:!0}),t(`table_style_by_css`,{processor:`boolean`,default:!0}),t(`table_merge_content_on_paste`,{processor:`boolean`,default:!0})})(e);let t=Pd(e),n=Ad(e,t),r=dd(e,t,n);return Od(e,r),((e,t)=>{let n=Pl(e),r=t=>td(Il(e)).bind((r=>ai(r,n).map((n=>t(n,Qu(nd(e),n,r)))))).getOr(``);de({mceTableRowType:()=>r(t.getTableRowType),mceTableCellType:()=>r(t.getTableCellType),mceTableColType:()=>r(t.getTableColType)},((t,n)=>e.addQueryValueHandler(n,t)))})(e,r),rd(e,r),{getSelectedCells:n.getSelectedCells,clearSelectedCells:n.clearSelectedCells}};e.add(`dom`,(e=>({table:Fd(e)})))})(),tinymce.Resource.add(`ui/oxide/skin.css`,`.tox{box-shadow:none;box-sizing:content-box;cursor:auto;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox{color:var(--tox-private-color-black,#222f3e);font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--tox-private-font-size-base, 16px)}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);z-index:var(--tox-private-z-index-sink,1300)}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:8px;margin-bottom:8px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;justify-content:center;align-items:center;gap:2px;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--error svg{fill:#c00}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--error svg{fill:#c00}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-button--stretch{width:100%}.tox .tox-button--secondary--outline{background-color:transparent;border-color:var(--tox-private-button-secondary-outline-border-color,#f0f0f0);color:var(--tox-private-button-secondary-outline-text-color,#222f3e)}.tox .tox-button--secondary--outline:focus:not(:disabled){background-color:var(--tox-private-button-secondary-outline-focus-background-color,#e3e3e3);border-color:var(--tox-private-button-secondary-outline-focus-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-focus-text-color,#222f3e)}.tox .tox-button--secondary--outline:hover:not(:disabled){background-color:var(--tox-private-button-secondary-outline-hover-background-color,#f0f0f0);border-color:var(--tox-private-button-secondary-outline-hover-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-hover-text-color,#222f3e)}.tox .tox-button--secondary--outline:active:not(:disabled){background-color:var(--tox-private-button-secondary-outline-active-background-color,#e3e3e3);border-color:var(--tox-private-button-secondary-outline-active-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-active-text-color,#222f3e)}.tox .tox-button--secondary--outline[disabled]{background-color:var(--tox-private-button-secondary-outline-disabled-background-color,transparent);border-color:var(--tox-private-button-secondary-outline-disabled-border-color,#f0f0f0);color:var(--tox-private-button-secondary-outline-disabled-text-color,rgba(34,47,62,.5))}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-context-form__group .tox-button--icon.tox-lock-context-form-size-input{margin-left:8px;margin-right:8px}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-selectfield select option:checked{background-color:revert;color:revert}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox-mentions__card-common{z-index:1200}.tox.tox-mentions__card{background:#fff;border:1px solid #eee;display:flex;padding:4px 8px}.tox.tox-mentions__card .tox-mentions__container{display:flex;flex-direction:column;align-self:center;margin:0 4px}.tox .tox-mentions__avatar{width:42px;height:42px;border-radius:50%;margin-right:4px}.tox .tox-mentions__username{font-size:14px;line-height:21px;color:#222f3e}.tox .tox-mentions__description{font-size:12px;line-height:21px;color:rgba(34,47,62,.7)}.tox .tox-collection__item--active .tox-mentions__description,.tox .tox-collection__item--active .tox-mentions__username{color:inherit}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1302;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:var(--tox-private-sidebar-background-color,#f0f0f0);display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-sidebar-content{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px;border-left:1px solid var(--tox-private-sidebar-border-color,#e3e3e3)}.tox .tox-sidebar-content__header{align-items:center;display:flex;justify-content:space-between;box-shadow:var(--tox-private-sidebar-header-box-shadow,0 4px 8px 0 rgba(34,47,62,.1));padding:var(--tox-private-pad-sm,8px) 12px;background:var(--tox-private-background-color,#fff);z-index:1}.tox .tox-sidebar-content__header .tox-sidebar-content__header-close-button{margin-left:auto}.tox .tox-sidebar-content__title{font-size:var(--tox-private-font-size-lg, 20px);font-weight:var(--tox-private-font-weight-normal,normal);padding:var(--tox-private-pad-sm,8px) 0 var(--tox-private-pad-sm,8px) 0;color:var(--tox-private-text-color,#222f3e);line-height:28px}.tox-ai .tox-ai__user-prompt{display:flex;flex-direction:column;margin-left:auto;gap:inherit}.tox-ai .tox-ai__user-prompt__context{margin-left:auto}.tox-ai .tox-ai__user-prompt__text{background-color:var(--tox-private-ai-user-prompt-background,#f0f0f0);padding:var(--tox-private-pad-sm,8px) 12px;border-radius:var(--tox-private-control-border-radius,6px);max-width:80%;align-self:flex-end;color:var(--tox-private-text-color,#222f3e)}.tox-ai .tox-ai__scroll{overflow:auto;background-color:var(--tox-private-background-color,#fff);display:flex;padding:12px;flex-direction:column;align-items:flex-start;gap:12px;flex:1 0 0;align-self:stretch}.tox-ai .tox-ai__response-content{padding:var(--tox-private-pad-sm,8px) 0;color:var(--tox-private-text-color,#222f3e);font-feature-settings:'liga' off,'clig' off;font-size:var(--tox-private-font-size-sm, 14px);font-style:normal;font-weight:var(--tox-private-font-weight-normal,normal);line-height:var(--tox-private-line-height, 18px);white-space:pre-wrap}.tox-ai .tox-ai__response.tox-ai__response-streaming{background:linear-gradient(180deg,var(--tox-private-color-black,#222f3e) 0,color-mix(in srgb,var(--tox-private-color-black,#222f3e) 0,transparent) 100%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.tox-ai .tox-ai__error-message{border-radius:var(--tox-private-panel-border-radius,6px);border:1px solid var(--tox-private-color-error,#c00);background:linear-gradient(0deg,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 0,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 100%),var(--tox-private-color-error,#c00);padding:var(--tox-private-pad-sm,8px);width:100%}.tox-ai .tox-ai__footer{border-top:1px solid var(--tox-private-ai-footer-border-color,#e3e3e3);padding:12px;gap:var(--tox-private-pad-sm,8px);background-color:var(--tox-private-background-color,#fff);display:flex;flex-direction:column}.tox-ai .tox-ai__footer-actions{display:flex;gap:var(--tox-private-pad-sm,8px)}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-cursor-default{cursor:ns-resize}.tox .tox-statusbar__resize-cursor-both{cursor:nwse-resize}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-tag{width:-moz-fit-content;width:fit-content;display:flex;padding:4px 6px;align-items:center;gap:4px;border-radius:3px;background:linear-gradient(0deg,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 0,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 100%),var(--tox-private-color-tint,#006ce7);line-height:var(--tox-private-base-value, 16px);font-size:var(--tox-private-font-size-xs, 12px)}.tox .tox-tag .tox-tag__icon{height:var(--tox-private-base-value,16px)}.tox .tox-tag .tox-tag__close{height:var(--tox-private-base-value,16px)}.tox .tox-tag .tox-tag__close .tox-button.tox-button--icon{border:0;padding:0}.tox .tox-tag .tox-tag__close .tox-button.tox-button--icon::before{box-shadow:none}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-toggle{--tox-private-slider-background-color:#fff;--tox-private-slider-border-color:rgb(227, 227, 227);--tox-private-slider-handle-background-color:#222f3e;display:flex;align-items:center;gap:4px;padding:4px;font-weight:400;line-height:24px;white-space:nowrap;background-color:#fff;color:#222f3e}.tox .tox-toggle input{position:absolute;opacity:0;width:0;height:0}.tox .tox-toggle__slider{position:relative;cursor:pointer;box-sizing:border-box;transition:.4s;border-radius:34px;width:28px;height:16px;background-color:var(--tox-private-slider-background-color);border:1px solid var(--tox-private-slider-border-color)}.tox .tox-toggle__slider::before{position:absolute;content:"";height:12px;width:12px;left:1px;bottom:1px;transition:.4s;border-radius:50%;background-color:var(--tox-private-slider-handle-background-color)}.tox input:checked+.tox-toggle__slider{--tox-private-slider-background-color:#006ce7;--tox-private-slider-border-color:#006ce7}.tox input:focus+.tox-toggle__slider{box-shadow:0 0 0 1px #fff,0 0 0 2px #006ce7}.tox input:checked+.tox-toggle__slider::before{transform:translateX(12px);--tox-private-slider-handle-background-color:#fff}.tox input:disabled+.tox-toggle__slider::before{opacity:50%}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}.tox .tox-tbtn .tox-tbtn__icon-wrap{pointer-events:none}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button__main{border-radius:3px 0 0 3px;margin-right:0}.tox .tox-split-button__main:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__main:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:3px 0 0 3px}@media (forced-colors:active){.tox .tox-split-button__main:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron{width:16px;border-radius:0 3px 3px 0;margin-left:0}.tox .tox-split-button__chevron:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__chevron:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:0 3px 3px 0}@media (forced-colors:active){.tox .tox-split-button__chevron:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox.tox-platform-touch .tox-split-button__main{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button__chevron.tox-tbtn--disabled,.tox .tox-split-button__main.tox-tbtn--disabled{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:hover,.tox .tox-split-button__main.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:focus,.tox .tox-split-button__main.tox-tbtn--disabled:focus{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:min(80%,15em);padding:8px 0 0 0;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden;background-color:#fff}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__align-right{margin-left:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-view .tox-revisionhistory__pane{padding:0}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{display:block;width:min-content;padding:4px 8px;margin-bottom:8px;font-size:12px;font-weight:700;border-radius:4px;background:#d3d5d8}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-content{display:flex;flex-direction:row;gap:8px;align-items:center}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-info{display:flex;flex-direction:column;flex:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;font-weight:400}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox [data-mce-name=suggestededits] .tox-icon .tox-icon--badge{fill:#006ce7}.tox .tox-view .tox-suggestededits__pane{padding:0}.tox .tox-suggestededits__sink{position:relative;z-index:1000}.tox .tox-suggestededits__sink .tox-tiered-menu .tox-collection--list{position:absolute}.tox .tox-suggestededits__container{height:100%;display:flex;flex-direction:column}.tox .tox-suggestededits__container .tox-suggestededits{background-color:#fff;border-top:1px solid #eee;display:flex;flex:1;height:inherit;overflow-x:auto;overflow-y:hidden;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__content{flex:1}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model{height:100%;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model .tox-suggestededits__iframe{height:100%;width:100%;overflow:scroll;background-color:#fff}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar{background-color:#f0f0f0;display:flex;flex-direction:column;flex:0 1 auto;min-width:248px;width:316px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-header{padding:4px 12px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content{display:flex;flex:1;flex-direction:column;gap:12px;overflow:auto;padding:6px 12px 12px 12px;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card{background-color:#fff;border-radius:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--divider{background-color:#f0f0f0;height:1px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--editor,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header{display:flex;flex:auto;justify-content:space-between;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar .tox-skeleton__circle,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar img{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--avatar{height:36px;width:36px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e;font-size:14px;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution{align-items:center;border:0;border-radius:20px;height:20px;width:20px;display:flex;flex:0 0 auto;justify-content:center;text-align:center}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--accepted .tox-icon svg{fill:#78AB46}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--rejected .tox-icon svg{fill:#c00}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content{display:flex;flex-direction:column;align-self:stretch;flex:auto;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations{display:flex;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar{align-items:center;border-radius:6px;display:flex;flex-direction:column;font-size:12px;justify-content:space-between;width:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--insert{background-color:#78ab46;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--modify{background-color:#006ce7;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--remove{background-color:#c00;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-text{color:#222f3e;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--feedback{color:#222f3e;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--textarea{border:2px solid #eee;border-radius:6px;color:#222f3e;gap:8px;padding:5px 6px;resize:none;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--textarea:focus{border:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer{display:flex;flex-direction:column;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp .tox-icon svg{fill:#222F3E80;transform:translate(0,8px);margin-top:-10px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons{display:flex;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons.tox-suggestededits__card--review-buttons{justify-content:space-between;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons.tox-suggestededits__card--feedback-buttons{justify-content:flex-end}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--hidden{opacity:.5}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--resolved{background-color:#d3d5d8}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active:focus,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active:focus-visible{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single{border-radius:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single:focus,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single:focus-visible{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card:hover{box-shadow:0 4px 8px 0 #d3d5d8}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=e=>({backspaceDelete:t=>{e.execCommand(`mceListBackspaceDelete`,!1,t)}}),n=e=>t=>typeof t===e,r=e=>e==null,i=e=>!r(e),a=n(`function`),o=e=>()=>e,s=(e,t)=>e===t,c=o(!1);class l{tag;value;static singletonNone=new l(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new l(!0,e)}static none(){return l.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?l.some(e(this.value)):l.none()}bind(e){return this.tag?e(this.value):l.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:l.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return i(e)?l.some(e):l.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}let u=Array.prototype.slice,d=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return!0}return!1},f=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},p=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},m=(e,t,n)=>(p(e,(e,r)=>{n=t(n,e,r)}),n),h=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return l.some(i);if(n(i,r))break}return l.none()},g=(e,t)=>h(e,t,c),_=e=>{let t=u.call(e,0);return t.reverse(),t};a(Array.from)&&Array.from;let v=(e,t,n=s)=>e.exists(e=>n(e,t)),y=(e=>t=>t.replace(e,``))(/^\s+|\s+$/g),b=e=>e.length>0,x=e=>!b(e),S=e=>m(f(_(y(e).split(``)),(e,t)=>{let n=e.toUpperCase().charCodeAt(0)-65+1;return 26**t*n}),(e,t)=>e+t,0),ee=e=>{if(e--,e<0)return``;{let t=e%26;return ee(Math.floor(e/26))+String.fromCharCode(65+t)}},te=e=>/^[A-Z]+$/.test(e),ne=e=>/^[a-z]+$/.test(e),C=e=>/^[0-9]+$/.test(e),w=e=>C(e)?2:te(e)?0:ne(e)?1:x(e)?3:4,re=e=>{switch(w(e)){case 2:return l.some({listStyleType:l.none(),start:e});case 0:return l.some({listStyleType:l.some(`upper-alpha`),start:S(e).toString()});case 1:return l.some({listStyleType:l.some(`lower-alpha`),start:S(e).toString()});case 3:return l.some({listStyleType:l.none(),start:``});case 4:return l.none()}},T=e=>{let t=parseInt(e.start,10);return v(e.listStyleType,`upper-alpha`)?ee(t):v(e.listStyleType,`lower-alpha`)?ee(t).toLowerCase():e.start},E=(e=>t=>t.options.get(e))(`forced_root_block`),ie=e=>/\btox\-/.test(e.className),D=e=>t=>i(t)&&e.test(t.nodeName),O=e=>t=>i(t)&&t.nodeName.toLowerCase()===e,k=D(/^(OL|UL|DL)$/),ae=D(/^(TH|TD)$/),A=D(/^(LI|DT|DD)$/),oe=(e,t)=>h(e,k,ae).exists(e=>e.nodeName===t&&!ie(e)),j=(e,t)=>{let n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on(`NodeChange`,t),()=>e.off(`NodeChange`,t)},M=(e,t)=>t!==null&&!e.dom.isEditable(t),se=(e,t)=>M(e,e.dom.getParent(t,`ol,ul,dl`))||!e.selection.isEditable(),N=O(`ol`),ce=[`OL`,`UL`,`DL`],P=ce.join(`,`),le=(e,t)=>{let n=t||e.selection.getStart(!0);return e.dom.getParent(n,P,F(e,n))},F=(e,t)=>{let n=e.dom.getParents(t,e.dom.isBlock),r=t=>t.nodeName.toLowerCase()!==E(e);return g(n,t=>r(t)&&ue(e.schema,t)).getOr(e.getBody())},ue=(e,t)=>!k(t)&&!A(t)&&d(ce,n=>e.isValidChild(t.nodeName,n)),de=e=>{let t=le(e);!N(t)||se(e,t)||e.windowManager.open({title:`List Properties`,body:{type:`panel`,items:[{type:`input`,name:`start`,label:`Start list at number`,inputMode:`numeric`}]},initialData:{start:T({start:e.dom.getAttrib(t,`start`,`1`),listStyleType:l.from(e.dom.getStyle(t,`list-style-type`))})},buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],onSubmit:t=>{re(t.getData().start).each(t=>{e.execCommand(`mceListUpdate`,!1,{attrs:{start:t.start===`1`?``:t.start},styles:{"list-style-type":t.listStyleType.getOr(``)}})}),t.close()}})},fe=e=>{e.addCommand(`mceListProps`,()=>{de(e)})},pe=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),j(e,r=>{n.setActive(oe(r.parents,t)),n.setEnabled(!se(e,r.element)&&e.selection.isEditable())})),me=e=>{let t=t=>()=>e.execCommand(t);e.hasPlugin(`advlist`)||(e.ui.registry.addToggleButton(`numlist`,{icon:`ordered-list`,active:!1,tooltip:`Numbered list`,onAction:t(`InsertOrderedList`),onSetup:pe(e,`OL`)}),e.ui.registry.addToggleButton(`bullist`,{icon:`unordered-list`,active:!1,tooltip:`Bullet list`,onAction:t(`InsertUnorderedList`),onSetup:pe(e,`UL`)}))},he=(e,t)=>n=>j(e,r=>n.setEnabled(oe(r.parents,t)&&!se(e,r.element))),I=e=>{let t={text:`List properties...`,icon:`ordered-list`,onAction:()=>e.execCommand(`mceListProps`),onSetup:he(e,`OL`)};e.ui.registry.addMenuItem(`listprops`,t),e.ui.registry.addContextMenu(`lists`,{update:t=>N(le(e,t))?[`listprops`]:[]})};e.add(`lists`,e=>(fe(e),me(e),I(e),t(e)))})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t,n)=>{let r=t===`UL`?`InsertUnorderedList`:`InsertOrderedList`;e.execCommand(r,!1,n===!1?null:{"list-style-type":n})},n=e=>{e.addCommand(`ApplyUnorderedListStyle`,(n,r)=>{t(e,`UL`,r[`list-style-type`])}),e.addCommand(`ApplyOrderedListStyle`,(n,r)=>{t(e,`OL`,r[`list-style-type`])})},r=e=>t=>t.options.get(e),i=e=>{let t=e.options.register;t(`advlist_number_styles`,{processor:`string[]`,default:`default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman`.split(`,`)}),t(`advlist_bullet_styles`,{processor:`string[]`,default:`default,disc,circle,square`.split(`,`)})},a=r(`advlist_number_styles`),o=r(`advlist_bullet_styles`),s=e=>e==null,c=e=>!s(e);class l{tag;value;static singletonNone=new l(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new l(!0,e)}static none(){return l.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?l.some(e(this.value)):l.none()}bind(e){return this.tag?e(this.value):l.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:l.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return c(e)?l.some(e):l.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}let u=Array.prototype.indexOf,d=(e,t)=>u.call(e,t),f=(e,t)=>d(e,t)>-1,p=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return l.some(i);if(n(i,r))break}return l.none()},m=Object.keys,h=(e,t)=>{let n=m(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},g=(e,t)=>_(e,(e,n)=>({k:n,v:t(e,n)})),_=(e,t)=>{let n={};return h(e,(e,r)=>{let i=t(e,r);n[i.k]=i.v}),n};var v=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let y=e=>/\btox\-/.test(e.className),b=(e,t)=>e.dom.isChildOf(t,e.getBody()),x=e=>t=>c(t)&&e.test(t.nodeName),S=x(/^(OL|UL|DL)$/),ee=x(/^(TH|TD)$/),te=(e,t,n)=>p(t,e=>S(e)&&!y(e),ee).exists(t=>t.nodeName===n&&b(e,t)),ne=e=>{let t=e.dom.getParent(e.selection.getNode(),`ol,ul`),n=e.dom.getStyle(t,`listStyleType`);return l.from(n)},C=(e,t)=>t!==null&&!e.dom.isEditable(t),w=(e,t)=>C(e,e.dom.getParent(t,`ol,ul,dl`))||!e.selection.isEditable(),re=(e,t)=>{let n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on(`NodeChange`,t),()=>e.off(`NodeChange`,t)},T=e=>e.replace(/\-/g,` `).replace(/\b\w/g,e=>e.toUpperCase()),E=e=>s(e)||e===`default`?``:e,ie=(e,t)=>n=>{let r=(e,r)=>{let i=e.selection.getStart(!0);n.setActive(te(e,r,t)),n.setEnabled(!w(e,i))};return re(e,t=>r(e,t.parents))},D=(e,n,r,i,a,o)=>{let s={"lower-latin":`lower-alpha`,"upper-latin":`upper-alpha`,"lower-alpha":`lower-latin`,"upper-alpha":`upper-latin`},c=g(s,e=>f(o,e));e.ui.registry.addSplitButton(n,{tooltip:r,chevronTooltip:`${r} menu`,icon:a===`OL`?`ordered-list`:`unordered-list`,presets:`listpreview`,columns:a===`OL`?3:4,fetch:e=>{e(v.map(o,e=>{let t=a===`OL`?`num`:`bull`,n=e===`decimal`?`default`:e,r=E(e),i=T(e);return{type:`choiceitem`,value:r,icon:`list-`+t+`-`+n,text:i}}))},onAction:()=>e.execCommand(i),onItemAction:(n,r)=>{t(e,a,r)},select:t=>ne(e).exists(e=>t===e||s[e]===t&&!c[t]),onSetup:ie(e,a)})},O=(e,n,r,i,a,o)=>{e.ui.registry.addToggleButton(n,{active:!1,tooltip:r,icon:a===`OL`?`ordered-list`:`unordered-list`,onSetup:ie(e,a),onAction:()=>e.queryCommandState(i)||o===``?e.execCommand(i):t(e,a,o)})},k=(e,t,n,r,i,a)=>{a.length>1?D(e,t,n,r,i,a):O(e,t,n,r,i,E(a[0]))},ae=e=>{k(e,`numlist`,`Numbered list`,`InsertOrderedList`,`OL`,a(e)),k(e,`bullist`,`Bullet list`,`InsertUnorderedList`,`UL`,o(e))};e.add(`advlist`,e=>{e.hasPlugin(`lists`)?(i(e),ae(e),n(e)):console.error(`Please use the Lists plugin together with the List Styles plugin.`)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=Object.getPrototypeOf,n=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,r=e=>{let t=typeof e;return e===null?`null`:t===`object`&&Array.isArray(e)?`array`:t===`object`&&n(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:t},i=e=>t=>r(t)===e,a=e=>t=>typeof t===e,o=e=>t=>e===t,s=(e,r)=>l(e)&&n(e,r,(e,n)=>t(e)===n),c=i(`string`),l=i(`object`),u=e=>s(e,Object),d=i(`array`),f=o(null),p=a(`boolean`),m=e=>e==null,h=e=>!m(e),g=a(`function`),_=a(`number`),v=(e,t)=>{if(d(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},y=()=>{};class b{tag;value;static singletonNone=new b(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new b(!0,e)}static none(){return b.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?b.some(e(this.value)):b.none()}bind(e){return this.tag?e(this.value):b.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:b.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return h(e)?b.some(e):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}Array.prototype.slice;let x=Array.prototype.push,S=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!d(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);x.apply(t,e[n])}return t},ee=(e,t)=>t>=0&&t<e.length?b.some(e[t]):b.none(),te=e=>ee(e,0);g(Array.from)&&Array.from;let ne=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return b.none()},C=Object.keys,w=Object.hasOwnProperty,re=(e,t)=>{let n=C(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},T=e=>(t,n)=>{e[n]=t},E=(e,t,n,r)=>{re(e,(e,i)=>{(t(e,i)?n:r)(e,i)})},ie=(e,t)=>{let n={};return E(e,t,T(n),y),n},D=(e,t)=>w.call(e,t),O=(e,t)=>D(e,t)&&e[t]!==void 0&&e[t]!==null,k=(e=>(...t)=>{if(t.length===0)throw Error(`Can't merge zero objects`);let n={};for(let r=0;r<t.length;r++){let i=t[r];for(let t in i)D(i,t)&&(n[t]=e(n[t],i[t]))}return n})((e,t)=>u(e)&&u(t)?k(e,t):t),ae=e=>e.length>0,A=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return M(n.childNodes[0])},oe=(e,t)=>M((t||document).createElement(e)),j=(e,t)=>M((t||document).createTextNode(e)),M=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},se={fromHtml:A,fromTag:oe,fromText:j,fromDom:M,fromPoint:(e,t,n)=>b.from(e.dom.elementFromPoint(t,n)).map(M)},N=(e,t,n)=>{if(c(n)||p(n)||_(n))e.setAttribute(t,n+``);else throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`)},ce=(e,t,n)=>{N(e.dom,t,n)},P=(e,t)=>{e.dom.removeAttribute(t)};var le=tinymce.util.Tools.resolve(`tinymce.dom.DOMUtils`),F=tinymce.util.Tools.resolve(`tinymce.util.URI`);let ue=e=>t=>t.options.get(e),de=e=>{let t=e.options.register;t(`image_dimensions`,{processor:`boolean`,default:!0}),t(`image_advtab`,{processor:`boolean`,default:!1}),t(`image_uploadtab`,{processor:`boolean`,default:!0}),t(`image_prepend_url`,{processor:`string`,default:``}),t(`image_class_list`,{processor:`object[]`}),t(`image_description`,{processor:`boolean`,default:!0}),t(`image_title`,{processor:`boolean`,default:!1}),t(`image_caption`,{processor:`boolean`,default:!1}),t(`image_list`,{processor:e=>{let t=e===!1||c(e)||v(e,l)||g(e);return t?{value:e,valid:t}:{valid:!1,message:`Must be false, a string, an array or a function.`}},default:!1})},fe=ue(`image_dimensions`),pe=ue(`image_advtab`),me=ue(`image_uploadtab`),he=ue(`image_prepend_url`),I=ue(`image_class_list`),ge=ue(`image_description`),_e=ue(`image_title`),L=ue(`image_caption`),ve=ue(`image_list`),ye=ue(`a11y_advanced_options`),be=ue(`automatic_uploads`),xe=e=>ae(e.options.get(`images_upload_url`)),Se=e=>h(e.options.get(`images_upload_handler`)),Ce=(e,t)=>Math.max(parseInt(e,10),parseInt(t,10)),we=e=>new Promise(t=>{let n=document.createElement(`img`),r=e=>{n.parentNode&&n.parentNode.removeChild(n),t(e)};n.addEventListener(`load`,()=>{let e={width:Ce(n.width,n.clientWidth),height:Ce(n.height,n.clientHeight)};r(Promise.resolve(e))}),n.addEventListener(`error`,()=>{r(Promise.reject(`Failed to get image dimensions for: ${e}`))});let i=n.style;i.visibility=`hidden`,i.position=`fixed`,i.bottom=i.left=`0px`,i.width=i.height=`auto`,document.body.appendChild(n),n.src=e}),Te=e=>(e&&=e.replace(/px$/,``),e),Ee=e=>(e.length>0&&/^[0-9]+$/.test(e)&&(e+=`px`),e),De=e=>{if(e.margin){let t=String(e.margin).split(` `);switch(t.length){case 1:e[`margin-top`]=e[`margin-top`]||t[0],e[`margin-right`]=e[`margin-right`]||t[0],e[`margin-bottom`]=e[`margin-bottom`]||t[0],e[`margin-left`]=e[`margin-left`]||t[0];break;case 2:e[`margin-top`]=e[`margin-top`]||t[0],e[`margin-right`]=e[`margin-right`]||t[1],e[`margin-bottom`]=e[`margin-bottom`]||t[0],e[`margin-left`]=e[`margin-left`]||t[1];break;case 3:e[`margin-top`]=e[`margin-top`]||t[0],e[`margin-right`]=e[`margin-right`]||t[1],e[`margin-bottom`]=e[`margin-bottom`]||t[2],e[`margin-left`]=e[`margin-left`]||t[1];break;case 4:e[`margin-top`]=e[`margin-top`]||t[0],e[`margin-right`]=e[`margin-right`]||t[1],e[`margin-bottom`]=e[`margin-bottom`]||t[2],e[`margin-left`]=e[`margin-left`]||t[3]}delete e.margin}return e},Oe=(e,t)=>{let n=ve(e);c(n)?fetch(n).then(e=>{e.ok&&e.json().then(t)}):g(n)?n(t):t(n)},ke=(e,t,n)=>{let r=()=>{n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=()=>{!t.width&&!t.height&&fe(e)&&e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},Ae=e=>new Promise((t,n)=>{let r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=()=>{n(r.error?.message)},r.readAsDataURL(e)}),je=e=>e.nodeName===`IMG`&&(e.hasAttribute(`data-mce-object`)||e.hasAttribute(`data-mce-placeholder`)),Me=(e,t)=>{let n=e.options.get;return F.isDomSafe(t,`img`,{allow_html_data_urls:n(`allow_html_data_urls`),allow_script_urls:n(`allow_script_urls`),allow_svg_data_urls:n(`allow_svg_data_urls`)})},Ne=le.DOM,Pe=e=>e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?Te(e.style.marginLeft):``,Fe=e=>e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?Te(e.style.marginTop):``,Ie=e=>e.style.borderWidth?Te(e.style.borderWidth):``,Le=(e,t)=>e.hasAttribute(t)?e.getAttribute(t)??``:``,Re=e=>e.parentNode!==null&&e.parentNode.nodeName===`FIGURE`,ze=(e,t,n)=>{n===``||n===null?e.removeAttribute(t):e.setAttribute(t,n)},Be=e=>{let t=Ne.create(`figure`,{class:`image`});Ne.insertAfter(t,e),t.appendChild(e),t.appendChild(Ne.create(`figcaption`,{contentEditable:`true`},`Caption`)),t.contentEditable=`false`},Ve=e=>{let t=e.parentNode;h(t)&&(Ne.insertAfter(e,t),Ne.remove(t))},He=e=>{Re(e)?Ve(e):Be(e)},Ue=(e,t)=>{let n=e.getAttribute(`style`),r=t(n===null?``:n);r.length>0?(e.setAttribute(`style`,r),e.setAttribute(`data-mce-style`,r)):e.removeAttribute(`style`)},We=(e,t)=>(e,n,r)=>{let i=e.style;i[n]?(i[n]=Ee(r),Ue(e,t)):ze(e,n,r)},Ge=(e,t)=>e.style[t]?Te(e.style[t]):Le(e,t),Ke=(e,t)=>{let n=Ee(t);e.style.marginLeft=n,e.style.marginRight=n},qe=(e,t)=>{let n=Ee(t);e.style.marginTop=n,e.style.marginBottom=n},Je=(e,t)=>{let n=Ee(t);e.style.borderWidth=n},R=(e,t)=>{e.style.borderStyle=t},Ye=e=>e.style.borderStyle??``,Xe=e=>h(e)&&e.nodeName===`FIGURE`,z=e=>e.nodeName===`IMG`,Ze=e=>{let t=Ne.getAttrib(e,`alt`),n=Ne.getAttrib(e,`role`);return e.hasAttribute(`alt`)&&t.length===0||n===`presentation`||n===`none`},B=e=>Ze(e)?``:Le(e,`alt`),Qe=()=>({src:``,alt:``,title:``,width:``,height:``,class:``,style:``,caption:!1,hspace:``,vspace:``,border:``,borderStyle:``,isDecorative:!1}),$e=(e,t)=>{let n=document.createElement(`img`);return ze(n,`style`,t.style),(Pe(n)||t.hspace!==``)&&Ke(n,t.hspace),(Fe(n)||t.vspace!==``)&&qe(n,t.vspace),(Ie(n)||t.border!==``)&&Je(n,t.border),(Ye(n)||t.borderStyle!==``)&&R(n,t.borderStyle),e(n.getAttribute(`style`)??``)},et=(e,t)=>{let n=document.createElement(`img`);if(ot(e,{...t,caption:!1},n),rt(n,t.alt,t.isDecorative),t.caption){let e=Ne.create(`figure`,{class:`image`});return e.appendChild(n),e.appendChild(Ne.create(`figcaption`,{contentEditable:`true`},`Caption`)),e.contentEditable=`false`,e}else return n},tt=(e,t)=>({src:Le(t,`src`),alt:B(t),title:Le(t,`title`),width:Ge(t,`width`),height:Ge(t,`height`),class:Le(t,`class`),style:e(Le(t,`style`)),caption:Re(t),hspace:Pe(t),vspace:Fe(t),border:Ie(t),borderStyle:Ye(t),isDecorative:Ze(t)}),nt=(e,t,n,r,i)=>{n[r]!==t[r]&&i(e,r,String(n[r]))},rt=(e,t,n)=>{n?(Ne.setAttrib(e,`role`,`presentation`),ce(se.fromDom(e),`alt`,``)):(f(t)?P(se.fromDom(e),`alt`):ce(se.fromDom(e),`alt`,t),Ne.getAttrib(e,`role`)===`presentation`&&Ne.setAttrib(e,`role`,``))},it=(e,t,n)=>{(n.alt!==t.alt||n.isDecorative!==t.isDecorative)&&rt(e,n.alt,n.isDecorative)},at=(e,t)=>(n,r,i)=>{e(n,i),Ue(n,t)},ot=(e,t,n)=>{let r=tt(e,n);nt(n,r,t,`caption`,(e,t,n)=>He(e)),nt(n,r,t,`src`,ze),nt(n,r,t,`title`,ze),nt(n,r,t,`width`,We(`width`,e)),nt(n,r,t,`height`,We(`height`,e)),nt(n,r,t,`class`,ze),nt(n,r,t,`style`,at((e,t)=>ze(e,`style`,t),e)),nt(n,r,t,`hspace`,at(Ke,e)),nt(n,r,t,`vspace`,at(qe,e)),nt(n,r,t,`border`,at(Je,e)),nt(n,r,t,`borderStyle`,at(R,e)),it(n,r,t)},st=(e,t)=>{let n=De(e.dom.styles.parse(t)),r=e.dom.styles.parse(e.dom.styles.serialize(n));return e.dom.styles.serialize(r)},ct=e=>{let t=e.selection.getNode(),n=e.dom.getParent(t,`figure.image`);return n?e.dom.select(`img`,n)[0]:t&&(t.nodeName!==`IMG`||je(t))?null:t},lt=(e,t)=>{let n=e.dom,r=ie(e.schema.getTextBlockElements(),(t,n)=>!e.schema.isValidChild(n,`figure`)),i=n.getParent(t.parentNode,e=>O(r,e.nodeName),e.getBody());return i?n.split(i,t)??t:t},ut=e=>{let t=ct(e);return t?tt(t=>st(e,t),t):Qe()},dt=(e,t)=>{let n=et(t=>st(e,t),t);e.dom.setAttrib(n,`data-mce-id`,`__mcenew`),e.focus(),e.insertContent(n.outerHTML);let r=e.dom.select(`*[data-mce-id="__mcenew"]`)[0];if(e.dom.setAttrib(r,`data-mce-id`,null),Xe(r)){let t=lt(e,r);e.selection.select(t)}else e.selection.select(r)},ft=(e,t)=>{e.dom.setAttrib(t,`src`,t.getAttribute(`src`))},pt=(e,t)=>{if(t){let n=e.dom.is(t.parentNode,`figure.image`)?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(``),e.selection.setCursorLocation())}},mt=(e,t)=>{let n=ct(e);if(n)if(ot(t=>st(e,t),t,n),ft(e,n),Xe(n.parentNode)){e.dom.setStyle(n,`float`,``);let t=n.parentNode;lt(e,t),e.selection.select(n.parentNode)}else e.selection.select(n),ke(e,t,n)},ht=(e,t)=>{let n=t.src;return{...t,src:Me(e,n)?n:``}},gt=(e,t)=>{let n=ct(e);if(n){let r={...tt(t=>st(e,t),n),...t},i=ht(e,r);r.src?mt(e,i):pt(e,n)}else t.src&&dt(e,{...Qe(),...t})};var _t=tinymce.util.Tools.resolve(`tinymce.util.ImageUploader`),vt=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let yt=e=>c(e.value)?e.value:``,bt=e=>c(e.text)?e.text:c(e.title)?e.title:``,xt=(e,t)=>{let n=[];return vt.each(e,e=>{let r=bt(e);if(e.menu!==void 0){let i=xt(e.menu,t);n.push({text:r,items:i})}else{let i=t(e);n.push({text:r,value:i})}}),n},V=(e=yt)=>t=>t?b.from(t).map(t=>xt(t,e)):b.none(),St=e=>V(yt)(e),Ct=e=>D(e,`items`),wt=(e,t)=>ne(e,e=>Ct(e)?wt(e.items,t):e.value===t?b.some(e):b.none()),Tt={sanitizer:V,sanitize:St,findEntry:(e,t)=>e.bind(e=>wt(e,t))},Et={makeTab:e=>({title:`Advanced`,name:`advanced`,items:[{type:`grid`,columns:2,items:[{type:`input`,label:`Vertical space`,name:`vspace`,inputMode:`numeric`},{type:`input`,label:`Horizontal space`,name:`hspace`,inputMode:`numeric`},{type:`input`,label:`Border width`,name:`border`,inputMode:`numeric`},{type:`listbox`,name:`borderstyle`,label:`Border style`,items:[{text:`Select...`,value:``},{text:`Solid`,value:`solid`},{text:`Dotted`,value:`dotted`},{text:`Dashed`,value:`dashed`},{text:`Double`,value:`double`},{text:`Groove`,value:`groove`},{text:`Ridge`,value:`ridge`},{text:`Inset`,value:`inset`},{text:`Outset`,value:`outset`},{text:`None`,value:`none`},{text:`Hidden`,value:`hidden`}]}]}]})},Dt=e=>{let t=Tt.sanitizer(t=>e.convertURL(t.value||t.url||``,`src`)),n=new Promise(n=>{Oe(e,e=>{n(t(e).map(e=>S([[{text:`None`,value:``}],e])))})}),r=Tt.sanitize(I(e)),i=pe(e),a=me(e),o=xe(e),s=Se(e),l=ut(e),u=ge(e),d=_e(e),f=fe(e),p=L(e),m=ye(e),h=be(e),g=b.some(he(e)).filter(e=>c(e)&&e.length>0);return n.then(e=>({image:l,imageList:e,classList:r,hasAdvTab:i,hasUploadTab:a,hasUploadUrl:o,hasUploadHandler:s,hasDescription:u,hasImageTitle:d,hasDimensions:f,hasImageCaption:p,prependURL:g,hasAccessibilityOptions:m,automaticUploads:h}))},Ot=e=>{let t={name:`src`,type:`urlinput`,filetype:`image`,label:`Source`,picker_text:`Browse files`},n=e.imageList.map(e=>({name:`images`,type:`listbox`,label:`Image list`,items:e})),r={name:`alt`,type:`input`,label:`Alternative description`,enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)},i={name:`title`,type:`input`,label:`Image title`},a={name:`dimensions`,type:`sizeinput`},o={type:`label`,label:`Accessibility`,items:[{name:`isDecorative`,type:`checkbox`,label:`Image is decorative`}]},s=e.classList.map(e=>({name:`classes`,type:`listbox`,label:`Class`,items:e})),c={type:`label`,label:`Caption`,items:[{type:`checkbox`,name:`caption`,label:`Show caption`}]};return S([[t],n.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[o]:[],e.hasDescription?[r]:[],e.hasImageTitle?[i]:[],e.hasDimensions?[a]:[],[{...(e=>e?{type:`grid`,columns:2}:{type:`panel`})(e.classList.isSome()&&e.hasImageCaption),items:S([s.toArray(),e.hasImageCaption?[c]:[]])}]])},kt={makeTab:e=>({title:`General`,name:`general`,items:Ot(e)}),makeItems:Ot},At={makeTab:e=>({title:`Upload`,name:`upload`,items:[{type:`dropzone`,name:`fileinput`}]})},jt=e=>({prevImage:Tt.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}),Mt=e=>({src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}),Nt=(e,t)=>({src:e.src.value,alt:(e.alt===null||e.alt.length===0)&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}),Pt=(e,t)=>/^(?:[a-zA-Z]+:)?\/\//.test(t)?b.none():e.prependURL.bind(e=>t.substring(0,e.length)===e?b.none():b.some(e+t)),Ft=(e,t)=>{let n=t.getData();Pt(e,n.src.value).each(e=>{t.setData({src:{value:e,meta:n.src.meta}})})},It=(e,t,n)=>{e.hasDescription&&c(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&c(n.title)&&(t.title=n.title),e.hasDimensions&&(c(n.width)&&(t.dimensions.width=n.width),c(n.height)&&(t.dimensions.height=n.height)),c(n.class)&&Tt.findEntry(e.classList,n.class).each(e=>{t.classes=e.value}),e.hasImageCaption&&p(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(c(n.style)&&(t.style=n.style),c(n.vspace)&&(t.vspace=n.vspace),c(n.border)&&(t.border=n.border),c(n.hspace)&&(t.hspace=n.hspace),c(n.borderstyle)&&(t.borderstyle=n.borderstyle))},Lt=(e,t)=>{let n=t.getData(),r=n.src.meta;if(r!==void 0){let i=k({},n);It(e,i,r),t.setData(i)}},Rt=(e,t,n,r)=>{let i=r.getData(),a=i.src.value,o=i.src.meta||{};!o.width&&!o.height&&t.hasDimensions&&(ae(a)?e.imageSize(a).then(e=>{n.open&&r.setData({dimensions:e})}).catch(e=>console.error(e)):r.setData({dimensions:{width:``,height:``}}))},zt=(e,t,n)=>{let r=n.getData(),i=Tt.findEntry(e.imageList,r.src.value);t.prevImage=i,n.setData({images:i.map(e=>e.value).getOr(``)})},Bt=(e,t,n,r)=>{Ft(t,r),Lt(t,r),Rt(e,t,n,r),zt(t,n,r)},Vt=(e,t,n,r)=>{let i=r.getData(),a=Tt.findEntry(t.imageList,i.images);a.each(e=>{i.alt===``||n.prevImage.map(e=>e.text===i.alt).getOr(!1)?e.value===``?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})}),n.prevImage=a,Bt(e,t,n,r)},Ht=(e,t,n,r)=>{let i=r.getData();r.block(`Uploading image`),te(i.fileinput).fold(()=>{r.unblock()},i=>{let a=URL.createObjectURL(i),o=()=>{r.unblock(),URL.revokeObjectURL(a)},s=i=>{r.setData({src:{value:i,meta:{}}}),r.showTab(`general`),Bt(e,t,n,r),r.focus(`src`)};Ae(i).then(n=>{let c=e.createBlobCache(i,a,n);t.automaticUploads?e.uploadImage(c).then(e=>{s(e.url),o()}).catch(t=>{o(),e.alertErr(t,()=>{r.focus(`fileinput`)})}):(e.addToBlobCache(c),s(c.blobUri()),r.unblock())})})},Ut=(e,t,n)=>(r,i)=>{i.name===`src`?Bt(e,t,n,r):i.name===`images`?Vt(e,t,n,r):i.name===`alt`?n.prevAlt=r.getData().alt:i.name===`fileinput`?Ht(e,t,n,r):i.name===`isDecorative`&&r.setEnabled(`alt`,!r.getData().isDecorative)},Wt=e=>()=>{e.open=!1},Gt=e=>e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler?{type:`tabpanel`,tabs:S([[kt.makeTab(e)],e.hasAdvTab?[Et.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[At.makeTab(e)]:[]])}:{type:`panel`,items:kt.makeItems(e)},Kt=(e,t,n)=>r=>{let i=k(Mt(t.image),r.getData()),a={...i,style:$e(n.normalizeCss,Nt(i,!1))};e.execCommand(`mceUpdateImage`,!1,Nt(a,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),r.close()},qt=e=>t=>Me(e,t)?we(e.documentBaseURI.toAbsolute(t)).then(e=>({width:String(e.width),height:String(e.height)})):Promise.resolve({width:``,height:``}),Jt=e=>(t,n,r)=>e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?.replace(/\.[^\.]+$/,``),filename:t.name,base64:r.split(`,`)[1]}),Yt=e=>t=>{e.editorUpload.blobCache.add(t)},Xt=e=>(t,n)=>{e.windowManager.alert(t,n)},Zt=e=>t=>st(e,t),Qt=e=>t=>e.dom.parseStyle(t),$t=e=>(t,n)=>e.dom.serializeStyle(t,n),en=e=>t=>_t(e).upload([t],!1).then(e=>e.length===0?Promise.reject(`Failed to upload image`):e[0].status===!1?Promise.reject(e[0].error?.message):e[0]),tn=e=>{let t={imageSize:qt(e),addToBlobCache:Yt(e),createBlobCache:Jt(e),alertErr:Xt(e),normalizeCss:Zt(e),parseStyle:Qt(e),serializeStyle:$t(e),uploadImage:en(e)};return{open:()=>{Dt(e).then(n=>{let r=jt(n);return{title:`Insert/Edit Image`,size:`normal`,body:Gt(n),buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:Mt(n.image),onSubmit:Kt(e,n,t),onChange:Ut(t,n,r),onClose:Wt(r)}}).then(e.windowManager.open)}}},nn=e=>{e.addCommand(`mceImage`,tn(e).open),e.addCommand(`mceUpdateImage`,(t,n)=>{e.undoManager.transact(()=>gt(e,n))})},rn=e=>{let t=e.attr(`class`);return h(t)&&/\bimage\b/.test(t)},an=e=>t=>{let n=t.length,r=t=>{t.attr(`contenteditable`,e?`true`:null)};for(;n--;){let i=t[n];rn(i)&&(i.attr(`contenteditable`,e?`false`:null),vt.each(i.getAll(`figcaption`),r))}},on=e=>{e.on(`PreInit`,()=>{e.parser.addNodeFilter(`figure`,an(!0)),e.serializer.addNodeFilter(`figure`,an(!1))})},sn=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},cn=e=>{e.ui.registry.addToggleButton(`image`,{icon:`image`,tooltip:`Insert/edit image`,onAction:tn(e).open,onSetup:t=>{t.setActive(h(ct(e)));let n=e.selection.selectorChangedWithUnbind(`img:not([data-mce-object]):not([data-mce-placeholder]),figure.image`,t.setActive).unbind,r=sn(e)(t);return()=>{n(),r()}}}),e.ui.registry.addMenuItem(`image`,{icon:`image`,text:`Image...`,onAction:tn(e).open,onSetup:sn(e)}),e.ui.registry.addContextMenu(`image`,{update:t=>e.selection.isEditable()&&(Xe(t)||z(t)&&!je(t))?[`image`]:[]})};e.add(`image`,e=>{de(e),on(e),cn(e),nn(e)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t)=>{e.focus(),e.undoManager.transact(()=>{e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},n=e=>e.getContent({source_view:!0}),r=e=>{let r=n(e);e.windowManager.open({title:`Source Code`,size:`large`,body:{type:`panel`,items:[{type:`textarea`,name:`code`,spellcheck:!1}]},buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:{code:r},onSubmit:n=>{t(e,n.getData().code),n.close()}})},i=e=>{e.addCommand(`mceCodeEditor`,()=>{r(e)})},a=e=>{let t=()=>e.execCommand(`mceCodeEditor`);e.ui.registry.addButton(`code`,{icon:`sourcecode`,tooltip:`Source code`,onAction:t}),e.ui.registry.addMenuItem(`code`,{icon:`sourcecode`,text:`Source code`,onAction:t})};e.add(`code`,e=>(i(e),a(e),{}))})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,n=e=>{let n=typeof e;return e===null?`null`:n===`object`&&Array.isArray(e)?`array`:n===`object`&&t(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:n},r=e=>t=>n(t)===e,i=e=>t=>typeof t===e,a=e=>t=>e===t,o=r(`string`),s=r(`object`),c=r(`array`),l=a(null),u=i(`boolean`),d=e=>e==null,f=e=>!d(e),p=i(`function`),m=(e,t)=>{if(c(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},h=()=>{},g=e=>()=>e,_=(e,t)=>e===t;class v{tag;value;static singletonNone=new v(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new v(!0,e)}static none(){return v.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?v.some(e(this.value)):v.none()}bind(e){return this.tag?e(this.value):v.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:v.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return f(e)?v.some(e):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}Array.prototype.slice;let y=Array.prototype.indexOf,b=Array.prototype.push,x=(e,t)=>y.call(e,t),S=(e,t)=>x(e,t)>-1,ee=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},te=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},ne=(e,t,n)=>(te(e,(e,r)=>{n=t(n,e,r)}),n),C=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!c(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);b.apply(t,e[n])}return t},w=(e,t)=>C(ee(e,t));p(Array.from)&&Array.from;let re=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return v.none()},T=Object.keys,E=Object.hasOwnProperty,ie=(e,t)=>{let n=T(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},D=e=>(t,n)=>{e[n]=t},O=(e,t,n,r)=>{ie(e,(e,i)=>{(t(e,i)?n:r)(e,i)})},k=(e,t)=>{let n={};return O(e,t,D(n),h),n},ae=(e,t)=>E.call(e,t),A=(e,t)=>ae(e,t)&&e[t]!==void 0&&e[t]!==null,oe=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},j=(e,t,n=_)=>e.exists(e=>n(e,t)),M=e=>{let t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},se=(e,t)=>e?v.some(t):v.none(),N=e=>{let t=oe(v.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(v.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(v.some(e))}}},ce=()=>{let e=N(h),t=t=>e.get().each(t);return{...e,on:t}},P=(e,t)=>e.substring(t),le=(e,t,n)=>t===``||e.length>=t.length&&e.substr(n,n+t.length)===t,F=(e,t)=>ue(e,t)?P(e,t.length):e,ue=(e,t)=>le(e,t,0),de=e=>t=>t.options.get(e),fe=e=>{let t=e.options.register;t(`link_assume_external_targets`,{processor:e=>{let t=o(e)||u(e);return t?e===!0?{value:1,valid:t}:e===`http`||e===`https`?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:`Must be a string or a boolean.`}},default:!1}),t(`link_context_toolbar`,{processor:`boolean`,default:!1}),t(`link_list`,{processor:e=>o(e)||p(e)||m(e,s)}),t(`link_default_target`,{processor:`string`}),t(`link_default_protocol`,{processor:`string`,default:`https`}),t(`link_target_list`,{processor:e=>u(e)||m(e,s),default:!0}),t(`link_rel_list`,{processor:`object[]`,default:[]}),t(`link_class_list`,{processor:`object[]`,default:[]}),t(`link_title`,{processor:`boolean`,default:!0}),t(`allow_unsafe_link_target`,{processor:`boolean`,default:!1}),t(`link_quicklink`,{processor:`boolean`,default:!1}),t(`link_attributes_postprocess`,{processor:`function`})},pe=de(`link_assume_external_targets`),me=de(`link_context_toolbar`),he=de(`link_list`),I=de(`link_default_target`),ge=de(`link_default_protocol`),_e=de(`link_target_list`),L=de(`link_rel_list`),ve=de(`link_class_list`),ye=de(`link_title`),be=de(`allow_unsafe_link_target`),xe=de(`link_quicklink`),Se=de(`link_attributes_postprocess`);var Ce=tinymce.util.Tools.resolve(`tinymce.util.URI`),we=tinymce.util.Tools.resolve(`tinymce.dom.TreeWalker`),Te=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let Ee=e=>f(e)&&e.nodeName.toLowerCase()===`a`,De=e=>Ee(e)&&!!Ae(e),Oe=(e,t)=>{if(e.collapsed)return[];{let n=e.cloneContents(),r=n.firstChild,i=new we(r,n),a=[],o=r;do t(o)&&a.push(o);while(o=i.next());return a}},ke=e=>/^\w+:/i.test(e),Ae=e=>e.getAttribute(`data-mce-href`)??e.getAttribute(`href`)??``,je=(e,t)=>{let n=[`noopener`],r=e?e.split(/\s+/):[],i=e=>Te.trim(e.sort().join(` `)),a=e=>(e=o(e),e.length>0?e.concat(n):n),o=e=>e.filter(e=>Te.inArray(n,e)===-1),s=t?a(r):o(r);return s.length>0?i(s):``},Me=e=>e.replace(/\uFEFF/g,``),Ne=(e,t)=>(t=t||Ie(e.selection.getRng())[0]||e.selection.getNode(),Ve(t)?v.from(e.dom.select(`a[href]`,t)[0]):v.from(e.dom.getParent(t,`a[href]`))),Pe=(e,t)=>Ne(e,t).isSome(),Fe=(e,t)=>Me(t.fold(()=>e.getContent({format:`text`}),e=>e.innerText||e.textContent||``)),Ie=e=>Oe(e,De),Le=e=>Te.grep(e,De),Re=e=>Le(e).length>0,ze=e=>Ie(e).length>0,Be=e=>{let t=e.schema.getTextInlineElements(),n=e=>e.nodeType===1&&!Ee(e)&&!ae(t,e.nodeName.toLowerCase());if(Ne(e).exists(e=>e.hasAttribute(`data-mce-block`)))return!1;let r=e.selection.getRng();return r.collapsed?!0:Oe(r,n).length===0},Ve=e=>f(e)&&e.nodeName===`FIGURE`&&/\bimage\b/i.test(e.className),He=e=>ne([`title`,`rel`,`class`,`target`],(t,n)=>(e[n].each(e=>{t[n]=e.length>0?e:null}),t),{href:e.href}),Ue=(e,t)=>(t===`http`||t===`https`)&&!ke(e)?t+`://`+e:e,We=(e,t)=>{let n={...t};return L(e).length===0&&!be(e)&&(n.rel=je(n.rel,n.target===`_blank`)||null),v.from(n.target).isNone()&&_e(e)===!1&&(n.target=I(e)),n.href=Ue(n.href,pe(e)),n},Ge=(e,t,n,r)=>{n.each(e=>{ae(t,`innerText`)?t.innerText=e:t.textContent=e}),e.dom.setAttribs(t,r);let i=e.dom.createRng();i.setStartAfter(t),i.setEndAfter(t),e.selection.setRng(i)},Ke=(e,t,n,r)=>{let i=e.dom;Ve(t)?Qe(i,t,r):n.fold(()=>{e.execCommand(`mceInsertLink`,!1,r);let t=e.selection.getEnd(),n=i.createRng();n.setStartAfter(t),n.setEndAfter(t),e.selection.setRng(n)},t=>{e.insertContent(i.createHTML(`a`,r,i.encode(t)))})},qe=(e,t,n)=>{let r=e.selection.getNode(),i=Ne(e,r),a=We(e,He(n)),o=Se(e);f(o)&&o(a),e.undoManager.transact(()=>{n.href===t.href&&t.attach(),i.fold(()=>{Ke(e,r,n.text,a)},t=>{e.focus(),Ge(e,t,n.text,a)})})},Je=e=>{let t=e.dom,n=e.selection,r=n.getBookmark(),i=n.getRng().cloneRange(),a=t.getParent(i.startContainer,`a[href]`,e.getBody()),o=t.getParent(i.endContainer,`a[href]`,e.getBody());a&&i.setStartBefore(a),o&&i.setEndAfter(o),n.setRng(i),e.execCommand(`unlink`),n.moveToBookmark(r)},R=e=>{e.undoManager.transact(()=>{let t=e.selection.getNode();Ve(t)?B(e,t):Je(e),e.focus()})},Ye=e=>{let{class:t,href:n,rel:r,target:i,text:a,title:o}=e;return k({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:i.getOrNull(),text:a.getOrNull(),title:o.getOrNull()},(e,t)=>l(e)===!1)},Xe=(e,t)=>{let n=e.options.get,r={allow_html_data_urls:n(`allow_html_data_urls`),allow_script_urls:n(`allow_script_urls`),allow_svg_data_urls:n(`allow_svg_data_urls`)},i=t.href;return{...t,href:Ce.isDomSafe(i,`a`,r)?i:``}},z=(e,t,n)=>{let r=Xe(e,n);e.hasPlugin(`rtc`,!0)?e.execCommand(`createlink`,!1,Ye(r)):qe(e,t,r)},Ze=e=>{e.hasPlugin(`rtc`,!0)?e.execCommand(`unlink`):R(e)},B=(e,t)=>{let n=e.dom.select(`img`,t)[0];if(n){let r=e.dom.getParents(n,`a[href]`,t)[0];r&&(r.parentNode?.insertBefore(n,r),e.dom.remove(r))}},Qe=(e,t,n)=>{let r=e.select(`img`,t)[0];if(r){let t=e.create(`a`,n);r.parentNode?.insertBefore(t,r),t.appendChild(r)}},$e=e=>o(e.value)?e.value:``,et=e=>o(e.text)?e.text:o(e.title)?e.title:``,tt=(e,t)=>{let n=[];return Te.each(e,e=>{let r=et(e);if(e.menu!==void 0){let i=tt(e.menu,t);n.push({text:r,items:i})}else{let i=t(e);n.push({text:r,value:i})}}),n},nt=(e=$e)=>t=>v.from(t).map(t=>tt(t,e)),rt={sanitize:e=>nt($e)(e),sanitizeWith:nt,createUi:(e,t)=>n=>({name:e,type:`listbox`,label:t,items:n}),getValue:$e},it=e=>A(e,`items`),at=(e,t)=>re(t,t=>it(t)?at(e,t.items):se(t.value===e,t)),ot=(e,t,n,r)=>{let i=r[t],a=e.length>0;return i===void 0?v.none():at(i,n).map(t=>({url:{value:t.value,meta:{text:a?e:t.text,attach:h}},text:a?e:t.text}))},st=(e,t)=>t===`link`?e.link:t===`anchor`?e.anchor:v.none(),ct={init:(e,t)=>{let n={text:e.text,title:e.title},r=e=>se(n.title.length<=0,v.from(e.meta?.title).getOr(``)),i=e=>se(n.text.length<=0,v.from(e.meta?.text).getOr(e.value)),a=e=>{let t=i(e.url),n=r(e.url);return t.isSome()||n.isSome()?v.some({...t.map(e=>({text:e})).getOr({}),...n.map(e=>({title:e})).getOr({})}):v.none()},o=(e,r)=>{let i=st(t,r).getOr([]);return ot(n.text,r,i,e)};return{onChange:(e,t)=>{let r=t.name;return r===`url`?a(e()):S([`anchor`,`link`],r)?o(e(),r):((r===`text`||r===`title`)&&(n[r]=e()[r]),v.none())}}},getDelta:ot};var lt=tinymce.util.Tools.resolve(`tinymce.util.Delay`);let ut=(e,t,n)=>{let r=e.selection.getRng();lt.setEditorTimeout(e,()=>{e.windowManager.confirm(t,t=>{e.selection.setRng(r),n(t)})})},dt=e=>{let t=e.href;return t.indexOf(`@`)>0&&t.indexOf(`/`)===-1&&t.indexOf(`mailto:`)===-1?v.some({message:`The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?`,preprocess:e=>({...e,href:`mailto:`+t})}):v.none()},ft=(e,t)=>n=>{let r=n.href;return e===1&&!ke(r)||e===0&&/^\s*www(\.|\d\.)/i.test(r)?v.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+`://`+r})}):v.none()},pt={preprocess:(e,t)=>re([dt,ft(pe(e),ge(e))],e=>e(t)).fold(()=>Promise.resolve(t),n=>new Promise(r=>{ut(e,n.message,e=>{r(e?n.preprocess(t):t)})}))},mt={getAnchors:e=>{let t=w(e.dom.select(`a:not([href])`),e=>{let t=e.name||e.id;return t?[{text:t,value:`#`+t}]:[]});return t.length>0?v.some([{text:`None`,value:``}].concat(t)):v.none()}},ht={getClasses:e=>{let t=ve(e);return t.length>0?rt.sanitize(t):v.none()}},gt=e=>{try{return v.some(JSON.parse(e))}catch{return v.none()}},_t={getLinks:e=>{let t=t=>e.convertURL(t.value||t.url||``,`href`),n=he(e);return new Promise(e=>{o(n)?fetch(n).then(e=>e.ok?e.text().then(gt):Promise.reject()).then(e,()=>e(v.none())):p(n)?n(t=>e(v.some(t))):e(v.from(n))}).then(e=>e.bind(rt.sanitizeWith(t)).map(e=>e.length>0?[{text:`None`,value:``}].concat(e):e))}},vt={getRels:(e,t)=>{let n=L(e);if(n.length>0){let r=j(t,`_blank`);return(be(e)===!1?rt.sanitizeWith(e=>je(rt.getValue(e),r)):rt.sanitize)(n)}return v.none()}},yt=[{text:`Current window`,value:``},{text:`New window`,value:`_blank`}],bt={getTargets:e=>{let t=_e(e);return c(t)?rt.sanitize(t).orThunk(()=>v.some(yt)):t===!1?v.none():v.some(yt)}},xt=(e,t,n)=>{let r=e.getAttrib(t,n);return r!==null&&r.length>0?v.some(r):v.none()},V=(e,t)=>{let n=e.dom,r=Be(e)?v.some(Fe(e.selection,t)):v.none(),i=t.bind(e=>v.from(n.getAttrib(e,`href`))),a=t.bind(e=>v.from(n.getAttrib(e,`target`))),o=t.bind(e=>xt(n,e,`rel`)),s=t.bind(e=>xt(n,e,`class`));return{url:i,text:r,title:t.bind(e=>xt(n,e,`title`)),target:a,rel:o,linkClass:s}},St={collect:(e,t)=>_t.getLinks(e).then(n=>{let r=V(e,t);return{anchor:r,catalogs:{targets:bt.getTargets(e),rels:vt.getRels(e,r.target),classes:ht.getClasses(e),anchor:mt.getAnchors(e),link:n},optNode:t,flags:{titleEnabled:ye(e)}}})},Ct=(e,t)=>n=>{let r=n.getData();if(!r.url.value){Ze(e),n.close();return}let i=e=>v.from(r[e]).filter(n=>!j(t.anchor[e],n)),a={href:r.url.value,text:i(`text`),target:i(`target`),rel:i(`rel`),class:i(`linkClass`),title:i(`title`)},o={href:r.url.value,attach:r.url.meta!==void 0&&r.url.meta.attach?r.url.meta.attach:h};pt.preprocess(e,a).then(t=>{z(e,o,t)}),n.close()},wt=e=>{let t=Ne(e);return St.collect(e,t)},Tt=(e,t)=>{let n=e.anchor,r=n.url.getOr(``);return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(``),title:n.title.getOr(``),anchor:r,link:r,rel:n.rel.getOr(``),target:n.target.or(t).getOr(``),linkClass:n.linkClass.getOr(``)}},Et=(e,t,n)=>{let r=[{name:`url`,type:`urlinput`,filetype:`file`,label:`URL`,picker_text:`Browse links`}],i=e.anchor.text.map(()=>({name:`text`,type:`input`,label:`Text to display`})).toArray(),a=e.flags.titleEnabled?[{name:`title`,type:`input`,label:`Title`}]:[],o=Tt(e,v.from(I(n))),s=e.catalogs,c=ct.init(o,s);return{title:`Insert/Edit Link`,size:`normal`,body:{type:`panel`,items:C([r,i,a,M([s.anchor.map(rt.createUi(`anchor`,`Anchors`)),s.rels.map(rt.createUi(`rel`,`Rel`)),s.targets.map(rt.createUi(`target`,`Open link in...`)),s.link.map(rt.createUi(`link`,`Link list`)),s.classes.map(rt.createUi(`linkClass`,`Class`))])])},buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:o,onChange:(e,{name:t})=>{c.onChange(e.getData,{name:t}).each(t=>{e.setData(t)})},onSubmit:t}},Dt=e=>{wt(e).then(t=>Et(t,Ct(e,t),e)).then(t=>{e.windowManager.open(t)})},Ot=e=>{e.addCommand(`mceLink`,(t,n)=>{n?.dialog===!0||!xe(e)?Dt(e):e.dispatch(`contexttoolbar-show`,{toolbarKey:`quicklink`})})},kt=e=>{e.addShortcut(`Meta+K`,``,()=>{e.execCommand(`mceLink`)})};var At=tinymce.util.Tools.resolve(`tinymce.util.VK`);let jt=(e,t)=>{document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)},Mt=e=>{let t=document.createElement(`a`);t.target=`_blank`,t.href=e,t.rel=`noreferrer noopener`;let n=new MouseEvent(`click`,{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(n),jt(t,n)},Nt=e=>e.altKey===!0&&e.shiftKey===!1&&e.ctrlKey===!1&&e.metaKey===!1,Pt=(e,t)=>{if(t){let n=Ae(t);if(/^#/.test(n)){let t=e.dom.select(`${n},[name="${F(n,`#`)}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else Mt(t.href)}},Ft=e=>{let t=e.selection.getRng(),n=t.startContainer;return De(n)&&t.startContainer===t.endContainer&&e.dom.select(`img`,n).length===1},It=(e,t)=>{let n=Le(e.dom.getParents(t));return se(n.length===1,n[0])},Lt=e=>{let t=Ie(e.selection.getRng());return se(t.length>0,t[0]).or(It(e,e.selection.getNode()))},Rt=e=>e.selection.isCollapsed()||Ft(e)?It(e,e.selection.getStart()):Lt(e),zt=e=>{let t=ce(),n=()=>t.get().or(Rt(e));return e.on(`contextmenu`,n=>{It(e,n.target).each(t.set)}),e.on(`SelectionChange`,()=>{t.isSet()||Rt(e).each(t.set)}),e.on(`click`,n=>{t.clear();let r=Le(e.dom.getParents(n.target));r.length===1&&At.metaKeyPressed(n)&&(n.preventDefault(),Pt(e,r[0]))}),e.on(`keydown`,r=>{t.clear(),!r.isDefaultPrevented()&&r.keyCode===13&&Nt(r)&&n().each(t=>{r.preventDefault(),Pt(e,t)})}),{gotoSelectedLink:()=>n().each(t=>Pt(e,t))}},Bt=e=>()=>{e.execCommand(`mceLink`,!1,{dialog:!0})},Vt=(e,t)=>(e.on(`NodeChange`,t),()=>e.off(`NodeChange`,t)),Ht=e=>t=>{let n=()=>{t.setActive(!e.mode.isReadOnly()&&Pe(e,e.selection.getNode())),t.setEnabled(e.selection.isEditable())};return n(),Vt(e,n)},Ut=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return n(),Vt(e,n)},Wt=e=>t=>{let n=t=>Re(t)||ze(e.selection.getRng()),r=e.dom.getParents(e.selection.getStart()),i=r=>{t.setEnabled(n(r)&&e.selection.isEditable())};return i(r),Vt(e,e=>i(e.parents))},Gt=(e,t)=>{e.ui.registry.addToggleButton(`link`,{icon:`link`,tooltip:`Insert/edit link`,shortcut:`Meta+K`,onAction:Bt(e),onSetup:Ht(e)}),e.ui.registry.addButton(`openlink`,{icon:`new-tab`,tooltip:`Open link`,onAction:t.gotoSelectedLink,onSetup:Wt(e)}),e.ui.registry.addButton(`unlink`,{icon:`unlink`,tooltip:`Remove link`,onAction:()=>Ze(e),onSetup:Wt(e)})},Kt=(e,t)=>{e.ui.registry.addMenuItem(`openlink`,{text:`Open link`,icon:`new-tab`,onAction:t.gotoSelectedLink,onSetup:Wt(e)}),e.ui.registry.addMenuItem(`link`,{icon:`link`,text:`Link...`,shortcut:`Meta+K`,onAction:Bt(e),onSetup:Ut(e)}),e.ui.registry.addMenuItem(`unlink`,{icon:`unlink`,text:`Remove link`,onAction:()=>Ze(e),onSetup:Wt(e)})},qt=e=>{e.ui.registry.addContextMenu(`link`,{update:t=>e.dom.isEditable(t)?Re(e.dom.getParents(t,`a`))?`link unlink openlink`:`link`:``})},Jt=(e,t)=>{let n=e=>{e.selection.collapse(!1)},r=t=>{let n=e.selection.getNode();return t.setEnabled(Pe(e,n)&&e.selection.isEditable()),h},i=t=>{let n=Ne(e),r=Be(e);return n.isNone()&&r?se(Fe(e.selection,n).length===0,t):v.none()};e.ui.registry.addContextForm(`quicklink`,{launch:{type:`contextformtogglebutton`,icon:`link`,tooltip:`Link`,onSetup:Ht(e)},label:`Link`,predicate:t=>me(e)&&Pe(e,t),initValue:()=>Ne(e).fold(g(``),Ae),commands:[{type:`contextformtogglebutton`,icon:`link`,tooltip:`Link`,primary:!0,onSetup:t=>{let n=e.selection.getNode();return t.setActive(Pe(e,n)),Ht(e)(t)},onAction:t=>{let r=t.getValue(),a=i(r);z(e,{href:r,attach:h},{href:r,text:a,title:v.none(),rel:v.none(),target:v.from(I(e)),class:v.none()}),n(e),t.hide()}},{type:`contextformbutton`,icon:`unlink`,tooltip:`Remove link`,onSetup:r,onAction:t=>{Ze(e),t.hide()}},{type:`contextformbutton`,icon:`new-tab`,tooltip:`Open link`,onSetup:r,onAction:e=>{t.gotoSelectedLink(),e.hide()}}]})},Yt=e=>{let t=zt(e);Gt(e,t),Kt(e,t),qt(e),Jt(e,t)};e.add(`link`,e=>{fe(e),Ot(e),Yt(e),kt(e)})})()}))(),tinymce.Resource.add(`ui/oxide/content.css`,`@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],> audio[data-mce-selected],> video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}@media print{.mce-content-body .mce-placeholder,.mce-content-body [data-mce-bogus=all],.mce-content-body [data-mce-bogus]{display:none!important}.mce-content-body .mce-visual-caret{display:none!important}.mce-content-body .mce-edit-focus,.mce-content-body :focus,.mce-content-body [data-mce-selected]{outline:0!important}}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.tox-suggestededits__annotation--added,.tox-suggestededits__annotation--modified,.tox-suggestededits__annotation--removed{-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--added__highlight{background-color:rgba(120,171,70,.2);-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--added__selected{background-color:rgba(120,171,70,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--modified__highlight{background-color:rgba(0,108,231,.2);-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--modified__selected{background-color:rgba(0,108,231,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--removed__highlight{background-color:rgba(204,0,0,.2);-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--removed__selected{background-color:rgba(204,0,0,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--added.tox-suggestededits__annotation--added__hidden,.tox-suggestededits__annotation--modified.tox-suggestededits__annotation--modified__hidden,.tox-suggestededits__annotation--removed.tox-suggestededits__annotation--removed__hidden{display:none;-webkit-text-decoration:none;text-decoration:none}:has(> div > iframe).tox-suggestededits__annotation--added,:has(> div > iframe).tox-suggestededits__annotation--modified,:has(> div > iframe).tox-suggestededits__annotation--removed{padding:7px;margin:5px}iframe.tox-suggestededits__annotation--added__highlight,img.tox-suggestededits__annotation--added__highlight,video.tox-suggestededits__annotation--added__highlight{outline:.25em solid rgba(120,171,70,.2);padding:.25em}iframe.tox-suggestededits__annotation--added__selected,img.tox-suggestededits__annotation--added__selected,video.tox-suggestededits__annotation--added__selected{border:.25em solid rgba(120,171,70,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--modified__highlight,img.tox-suggestededits__annotation--modified__highlight,video.tox-suggestededits__annotation--modified__highlight{outline:.25em solid rgba(0,108,231,.2);padding:.25em}iframe.tox-suggestededits__annotation--modified__selected,img.tox-suggestededits__annotation--modified__selected,video.tox-suggestededits__annotation--modified__selected{border:.25em solid rgba(0,108,231,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--removed__highlight,img.tox-suggestededits__annotation--removed__highlight,video.tox-suggestededits__annotation--removed__highlight{outline:.25em solid rgba(204,0,0,.2);padding:.25em}iframe.tox-suggestededits__annotation--removed__selected,img.tox-suggestededits__annotation--removed__selected,video.tox-suggestededits__annotation--removed__selected{border:.25em solid rgba(204,0,0,.2);outline:.125em solid #006ce7;padding:0}div.tox-suggestededits__annotation:has(> hr){padding:.25em}div.tox-suggestededits__annotation--removed__highlight>hr{border-color:rgba(0,0,0,.2)}div.tox-suggestededits__annotation--added__highlight>hr{border-color:rgba(0,0,0,.2)}.mce-pagebreak.tox-suggestededits__annotation--added__selected,.mce-pagebreak.tox-suggestededits__annotation--modified__selected,.mce-pagebreak.tox-suggestededits__annotation--removed__selected{border:1px dashed #aaa;box-shadow:none}.mce-pagebreak.tox-suggestededits__annotation--added__highlight,.mce-pagebreak.tox-suggestededits__annotation--modified__highlight,.mce-pagebreak.tox-suggestededits__annotation--removed__highlight{padding:0}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:rgba(255,255,255,.5)}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uc-video{display:inline-block;position:relative}.tox-uc-video:not([data-mce-selected]):after{content:"";position:absolute;top:0;left:0;width:100%;height:100%}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:min(100%,600px);height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--icon-min-width:24px;--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}@media print{tiny-uploadcare-placeholder{display:none!important}}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out;box-shadow:0 0 0 99999px #222f3e80;z-index:1}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]:is(td,th,tr){position:static}body{font-family:sans-serif}table{border-collapse:collapse}`),tinymce.Resource.add(`content/default/content.css`,`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`),tinymce.addI18n(`fr_FR`,{"#":`#`,Accessibility:`Accessibilité`,Accordion:`Accordéon`,"Accordion body...":`Corps de l'accordéon...`,"Accordion summary...":`Résumé de l'accordéon...`,Action:`Action`,Activity:`Activité`,Address:`Adresse`,Advanced:`Options avancées`,Align:`Aligner`,"Align center":`Centrer`,"Align left":`Aligner à gauche`,"Align right":`Aligner à droite`,Alignment:`Alignement`,"Alignment {0}":`Alignement {0}`,All:`Tout`,"Alternative description":`Description alternative`,"Alternative source":`Source alternative`,"Alternative source URL":`URL de la source alternative`,Anchor:`Ancre`,"Anchor...":`Ancre...`,Anchors:`Ancres`,"Animals and Nature":`Animaux & nature`,Arrows:`Flèches`,B:`B`,"Background color":`Couleur d'arrière-plan`,"Background color {0}":`Couleur d'arrière-plan {0}`,Black:`Noir`,Block:`Bloc`,"Block {0}":`Bloc {0}`,Blockquote:`Bloc de citation`,Blocks:`Blocs`,Blue:`Bleu`,"Blue component":`Composant bleu`,Body:`Corps`,Bold:`Gras`,Border:`Bordure`,"Border color":`Couleur de bordure`,"Border style":`Style de la bordure`,"Border width":`Épaisseur de la bordure`,Bottom:`En bas`,"Browse files":`Consulter les fichiers`,"Browse for an image":`Rechercher une image`,"Browse links":`Consulter les liens`,"Bullet list":`Liste à puces`,Cancel:`Annuler`,Caption:`Légende`,Cell:`Cellule`,"Cell padding":`Marge intérieure des cellules`,"Cell properties":`Propriétés de la cellule`,"Cell spacing":`Espacement entre les cellules`,"Cell styles":`Type de cellule`,"Cell type":`Type de cellule`,Center:`Centre`,Characters:`Caractères`,"Characters (no spaces)":`Caractères (espaces non compris)`,Circle:`Cercle`,Class:`Classe`,"Clear formatting":`Effacer la mise en forme`,Close:`Fermer`,Code:`Code`,"Code sample...":`Exemple de code...`,"Code view":`Affichage du code`,"Color Picker":`Sélecteur de couleurs`,"Color swatch":`Échantillon de couleurs`,Cols:`Colonnes`,Column:`Colonne`,"Column clipboard actions":`Actions du presse-papiers des colonnes`,"Column group":`Groupe de colonnes`,"Column header":`En-tête de colonne`,"Constrain proportions":`Limiter les proportions`,Copy:`Copier`,"Copy column":`Copier la colonne`,"Copy row":`Copier la ligne`,"Could not find the specified string.":`Impossible de trouver la chaîne spécifiée.`,"Could not load emojis":`Impossible de charger les emojis`,Count:`Total`,Currency:`Devise`,"Current window":`Fenêtre active`,"Custom color":`Couleur personnalisée`,"Custom...":`Personnalisée...`,Cut:`Couper`,"Cut column":`Couper la colonne`,"Cut row":`Couper la ligne`,"Dark Blue":`Bleu foncé`,"Dark Gray":`Gris foncé`,"Dark Green":`Vert foncé`,"Dark Orange":`Orange foncé`,"Dark Purple":`Violet foncé`,"Dark Red":`Rouge foncé`,"Dark Turquoise":`Turquoise foncé`,"Dark Yellow":`Jaune foncé`,Dashed:`Tirets`,"Date/time":`Date/heure`,"Decrease indent":`Réduire le retrait`,Default:`Par défaut`,"Delete accordion":`Supprimer l'accordéon`,"Delete column":`Supprimer la colonne`,"Delete row":`Supprimer la ligne`,"Delete table":`Supprimer le tableau`,Dimensions:`Dimensions`,Disc:`Disque`,Div:`Div`,Document:`Document`,Dotted:`Pointillé`,Double:`Deux traits continus`,"Drop an image here":`Déposer une image ici`,"Dropped file type is not supported":`Le type de fichier déposé n'est pas pris en charge`,Edit:`Modifier`,Embed:`Incorporer`,Emojis:`Émojis`,"Emojis...":`Émojis...`,Error:`Erreur`,"Error: Form submit field collision.":`Erreur\xA0: conflit de champs lors de la soumission du formulaire.`,"Error: No form element found.":`Erreur : aucun élément de formulaire trouvé.`,"Extended Latin":`Latin étendu`,"Failed to initialize plugin: {0}":`Échec d'initialisation de l'extension\xA0: {0}`,"Failed to load plugin url: {0}":`Échec de chargement de l'URL du plug-in\xA0: {0}`,"Failed to load plugin: {0} from url {1}":`Échec de chargement du plug-in\xA0: {0} à partir de l’URL {1}`,"Failed to upload image: {0}":`Échec d'envoi de l'image\xA0: {0}`,File:`Fichier`,Find:`Rechercher`,"Find (if searchreplace plugin activated)":`Rechercher (si l'extension 'searchreplace' est activée)`,"Find and Replace":`Trouver et remplacer`,"Find and replace...":`Trouver et remplacer...`,"Find in selection":`Trouver dans la sélection`,"Find whole words only":`Mot entier`,Flags:`Drapeaux`,"Focus to contextual toolbar":`Mettre le focus sur la barre d'outils contextuelle`,"Focus to element path":`Mettre le focus sur le chemin vers l'élément`,"Focus to menubar":`Mettre le focus sur la barre de menu`,"Focus to toolbar":`Mettre le focus sur la barre d'outils`,Font:`Police`,"Font size {0}":`Taille de police\xA0{0}`,"Font sizes":`Tailles de police`,"Font {0}":`Police {0}`,Fonts:`Polices`,"Food and Drink":`Nourriture & boissons`,Footer:`Pied de page`,Format:`Format`,"Format {0}":`Format\xA0{0}`,Formats:`Formats`,Fullscreen:`Plein écran`,G:`V`,General:`Général`,Gray:`Gris`,Green:`Vert`,"Green component":`Composant vert`,Groove:`Sculpté`,"Handy Shortcuts":`Raccourcis utiles`,Header:`En-tête`,"Header cell":`Cellule d'en-tête`,"Heading 1":`Titre\xA01`,"Heading 2":`Titre\xA02`,"Heading 3":`Titre\xA03`,"Heading 4":`Titre\xA04`,"Heading 5":`Titre\xA05`,"Heading 6":`Titre\xA06`,Headings:`Titres`,Height:`Hauteur`,Help:`Aide`,"Hex color code":`Code couleur hexadécimal`,Hidden:`Masqué`,"Horizontal align":`Alignement horizontal`,"Horizontal line":`Ligne horizontale`,"Horizontal space":`Espace horizontal`,ID:`ID`,"ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":`L'ID doit commencer par une lettre, suivie uniquement par des lettres, numéros, tirets, points, deux-points et underscores.`,"Image is decorative":`L'image est décorative`,"Image list":`Liste des images`,"Image title":`Titre d'image`,"Image...":`Image...`,"ImageProxy HTTP error: Could not find Image Proxy":`Erreur HTTP d'ImageProxy : Impossible de trouver ImageProxy`,"ImageProxy HTTP error: Incorrect Image Proxy URL":`Erreur HTTP d'ImageProxy : URL de ImageProxy incorrecte`,"ImageProxy HTTP error: Rejected request":`Erreur HTTP d'ImageProxy : Requête rejetée`,"ImageProxy HTTP error: Unknown ImageProxy error":`Erreur HTTP d'ImageProxy : Erreur ImageProxy inconnue`,"Increase indent":`Augmenter le retrait`,Inline:`En ligne`,Insert:`Insérer`,"Insert Template":`Insérer le modèle`,"Insert accordion":`Insérer un accordéon`,"Insert column after":`Insérer une colonne après`,"Insert column before":`Insérer une colonne avant`,"Insert date/time":`Insérer date/heure`,"Insert image":`Insérer une image`,"Insert link (if link plugin activated)":`Insérer un lien (si l'extension 'link' est activée)`,"Insert row after":`Insérer une ligne après`,"Insert row before":`Insérer une ligne avant`,"Insert table":`Insérer un tableau`,"Insert template...":`Insérer un modèle...`,"Insert video":`Insérer une vidéo`,"Insert/Edit code sample":`Insérer / modifier un bloc de code`,"Insert/edit image":`Insérer/modifier image`,"Insert/edit link":`Insérer/modifier lien`,"Insert/edit media":`Insérer/modifier un média`,"Insert/edit video":`Insérer/modifier une vidéo`,Inset:`Incrusté`,"Invalid hex color code: {0}":`Code couleur hexadécimal invalide : {0}`,"Invalid input":`Entrée invalide`,Italic:`Italique`,Justify:`Justifier`,"Keyboard Navigation":`Navigation au clavier`,Language:`Langue`,"Learn more...":`En savoir plus...`,Left:`Gauche`,"Left to right":`De gauche à droite`,"Light Blue":`Bleu clair`,"Light Gray":`Gris clair`,"Light Green":`Vert clair`,"Light Purple":`Violet clair`,"Light Red":`Rouge clair`,"Light Yellow":`Jaune clair`,"Line height":`Hauteur de la ligne`,"Link list":`Liste des liens`,"Link...":`Lien...`,"List Properties":`Propriétés de la liste`,"List properties...":`Lister les propriétés...`,"Loading emojis...":`Chargement des emojis...`,"Loading...":`Chargement...`,"Lower Alpha":`Alphabet en minuscules`,"Lower Greek":`Alphabet grec en minuscules`,"Lower Roman":`Chiffre romain inférieur`,"Match case":`Respecter la casse`,Mathematical:`Opérateurs mathématiques`,"Media poster (Image URL)":`Affiche de média (URL de l'image)`,"Media...":`Média...`,"Medium Blue":`Bleu moyen`,"Medium Gray":`Gris moyen`,"Medium Purple":`Violet moyen`,"Merge cells":`Fusionner les cellules`,Middle:`Au milieu`,"Midnight Blue":`Bleu de minuit`,"More...":`Plus...`,Name:`Nom`,"Navy Blue":`Bleu marine`,"New document":`Nouveau document`,"New window":`Nouvelle fenêtre`,Next:`Suivante`,No:`Non`,"No alignment":`Aucun alignement`,"No color":`Aucune couleur`,"Nonbreaking space":`Espace insécable`,None:`Aucun`,"Numbered list":`Liste numérotée`,OR:`OU`,Objects:`Objets`,Ok:`Ok`,"Open help dialog":`Ouvrir la boîte de dialogue d'aide`,"Open link":`Ouvrir le lien`,"Open link in...":`Ouvrir le lien dans...`,"Open popup menu for split buttons":`Ouvrir le menu contextuel pour les boutons partagés`,Orange:`Orange`,Outset:`Relief`,"Page break":`Saut de page`,Paragraph:`Paragraphe`,Paste:`Coller`,"Paste as text":`Coller comme texte`,"Paste column after":`Coller la colonne après`,"Paste column before":`Coller la colonne avant`,"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":`Le collage est maintenant en mode texte brut. Les contenus seront collés sans retenir les formatages jusqu'à ce que vous désactiviez cette option.`,"Paste or type a link":`Coller ou taper un lien`,"Paste row after":`Coller la ligne après`,"Paste row before":`Coller la ligne avant`,"Paste your embed code below:":`Collez votre code incorporé ci-dessous :`,People:`Personnes`,Plugins:`Plug-ins`,"Plugins installed ({0}):":`Extensions installées ({0})\xA0:`,"Powered by {0}":`Avec {0}`,Pre:`Préformaté`,Preferences:`Préférences`,Preformatted:`Préformaté`,"Premium plugins:":`Plug-ins premium\xA0:`,"Press the Up and Down arrow keys to resize the editor.":`Appuyez sur les touches fléchées haut et bas pour redimensionner l'éditeur.`,"Press the arrow keys to resize the editor.":`Appuyez sur les touches fléchées pour redimensionner l'éditeur.`,"Press {0} for help":`Appuyez sur {0} pour obtenir de l'aide`,Preview:`Aperçu`,Previous:`Précédente`,Print:`Imprimer`,"Print...":`Imprimer...`,Purple:`Violet`,Quotations:`Citations`,R:`R`,"Range 0 to 255":`Plage de 0 à 255`,Red:`Rouge`,"Red component":`Composant rouge`,Redo:`Refaire`,Remove:`Retiré`,"Remove color":`Supprimer la couleur`,"Remove link":`Enlever le lien`,Replace:`Remplacer`,"Replace all":`Remplacer tout`,"Replace with":`Remplacer par`,Resize:`Redimensionner`,"Restore last draft":`Restaurer le dernier brouillon`,"Reveal or hide additional toolbar items":`Affichez ou masquez les éléments supplémentaires de la barre d'outils`,"Rich Text Area":`Zone de Texte Riche`,"Rich Text Area. Press ALT-0 for help.":`Zone de Texte Riche. Appuyez sur ALT-0 pour l'aide.`,"Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":`Zone de Texte Riche. Appuyez sur ALT-F9 pour le menu. Appuyez sur ALT-F10 pour la barre d'outils. Appuyez sur ALT-0 pour l'aide`,Ridge:`Extrudé`,Right:`Droite`,"Right to left":`De droite à gauche`,Row:`Ligne`,"Row clipboard actions":`Actions du presse-papiers des lignes`,"Row group":`Groupe de lignes`,"Row header":`En-tête de ligne`,"Row properties":`Propriétés de la ligne`,"Row type":`Type de ligne`,Rows:`Lignes`,Save:`Enregistrer`,"Save (if save plugin activated)":`Enregistrer (si l'extension 'save' est activée)`,Scope:`Étendue`,Search:`Rechercher`,"Select all":`Sélectionner tout`,"Select...":`Sélectionner...`,Selection:`Sélection`,Shortcut:`Raccourci`,"Show blocks":`Afficher les blocs`,"Show caption":`Afficher une légende`,"Show invisible characters":`Afficher les caractères invisibles`,Size:`Taille`,Solid:`Trait continu`,Source:`Source`,"Source code":`Code source`,"Special Character":`Caractère spécial`,"Special character...":`Caractère spécial...`,"Split cell":`Diviser la cellule`,Square:`Carré`,"Start list at number":`Liste de départ au numéro`,Strikethrough:`Barré`,Style:`Style`,Subscript:`Indice`,Superscript:`Exposant`,"Switch to or from fullscreen mode":`Passer en ou quitter le mode plein écran`,Symbols:`Symboles`,"System Font":`Police système`,Table:`Tableau`,"Table caption":`Légende de tableau`,"Table properties":`Propriétés du tableau`,"Table styles":`Style tableau`,Template:`Modèle`,Templates:`Modèles`,Text:`Texte`,"Text color":`Couleur du texte`,"Text color {0}":`Couleur du texte {0}`,"Text to display":`Texte à afficher`,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":`L'URL que vous avez saisie semble être une adresse e-mail. Souhaitez-vous y ajouter le préfixe requis mailto:\xA0?`,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":`L'URL que vous avez saisie semble être un lien externe. Souhaitez-vous y ajouter le préfixe requis mailto:\xA0?`,"The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":`L'URL que vous avez saisie semble être un lien externe. Voulez-vous ajouter le préfixe https:// requis\xA0?`,Title:`Titre`,"To open the popup, press Shift+Enter":`Pour ouvrir la popup, appuyez sur Maj+Entrée`,"Toggle accordion":`Activer l'accordéon`,Tools:`Outils`,Top:`En haut`,"Travel and Places":`Voyages et lieux`,Turquoise:`Turquoise`,Underline:`Souligné`,Undo:`Annuler`,Upload:`Télécharger`,"Uploading image":`Téléversement d'une image`,"Upper Alpha":`Alphabet en majuscules`,"Upper Roman":`Chiffre romain supérieur`,Url:`URL`,"User Defined":`Défini par l'utilisateur`,Valid:`Valide`,Version:`Version`,"Vertical align":`Alignement vertical`,"Vertical space":`Espace vertical`,View:`Afficher`,"Visual aids":`Aides visuelles`,Warn:`Avertir`,White:`Blanc`,Width:`Largeur`,"Word count":`Nombre de mots`,Words:`Mots`,"Words: {0}":`Mots\xA0: {0}`,Yellow:`Jaune`,Yes:`Oui`,"You are using {0}":`Vous utilisez {0}`,"You have unsaved changes are you sure you want to navigate away?":`Vous avez des modifications non enregistrées, êtes-vous sûr de vouloir quitter la page\xA0?`,"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":`Votre navigateur ne supporte pas l’accès direct au presse-papiers. Merci d'utiliser les raccourcis clavier Ctrl+X/C/V.`,alignment:`alignement`,"austral sign":`Symbole austral`,"cedi sign":`Symbole cedi`,"colon sign":`symbole colón`,"cruzeiro sign":`Symbole cruzeiro`,"currency sign":`symbole devise`,"dollar sign":`symbole dollar`,"dong sign":`Symbole dong`,"drachma sign":`Symbole drachme`,"euro-currency sign":`symbole euro`,example:`exemple`,formatting:`mise en forme`,"french franc sign":`symbole franc français`,"german penny symbol":`Symbole pfennig`,"guarani sign":`Symbole guarani`,history:`historique`,"hryvnia sign":`Symbole hryvnia`,indentation:`retrait`,"indian rupee sign":`Symbole roupie indienne`,"kip sign":`Symbole kip`,"lira sign":`Symbole lire`,"livre tournois sign":`Symbole livre tournois`,"manat sign":`Symbole manat`,"mill sign":`Symbole millième`,"naira sign":`Symbole naira`,"new sheqel sign":`Symbole nouveau chékel`,"nordic mark sign":`Symbole du mark nordique`,"peseta sign":`Symbole peseta`,"peso sign":`Symbole peso`,"ruble sign":`Symbole rouble`,"rupee sign":`Symbole roupie`,"spesmilo sign":`Symbole spesmilo`,styles:`styles`,"tenge sign":`Symbole tenge`,"tugrik sign":`Symbole tougrik`,"turkish lira sign":`Symbole lire turque`,"won sign":`Symbole won`,"yen character":`Sinogramme Yen`,"yen/yuan character variant one":`Sinogramme Yen/Yuan, première variante`,"yuan character":`Sinogramme Yuan`,"yuan character, in hong kong and taiwan":`Sinogramme Yuan, Hong Kong et Taiwan`,"{0} characters":`{0}\xA0caractères`,"{0} columns, {1} rows":`\xA0{0}\xA0colonnes,\xA0{1}\xA0lignes`,"{0} words":`{0} mots`});var Jr=`onActivate.onAddUndo.onBeforeAddUndo.onBeforeExecCommand.onBeforeGetContent.onBeforeRenderUI.onBeforeSetContent.onBeforePaste.onBlur.onChange.onClearUndos.onClick.onContextMenu.onCommentChange.onCompositionEnd.onCompositionStart.onCompositionUpdate.onCopy.onCut.onDblclick.onDeactivate.onDirty.onDrag.onDragDrop.onDragEnd.onDragGesture.onDragOver.onDrop.onExecCommand.onFocus.onFocusIn.onFocusOut.onGetContent.onHide.onInit.onInput.onKeyDown.onKeyPress.onKeyUp.onLoadContent.onMouseDown.onMouseEnter.onMouseLeave.onMouseMove.onMouseOut.onMouseOver.onMouseUp.onNodeChange.onObjectResizeStart.onObjectResized.onObjectSelected.onPaste.onPostProcess.onPostRender.onPreProcess.onProgressState.onRedo.onRemove.onReset.onSaveContent.onSelectionChange.onSetAttrib.onSetContent.onShow.onSubmit.onUndo.onVisualAid`.split(`.`),Yr=function(e){return Jr.map(function(e){return e.toLowerCase()}).indexOf(e.toLowerCase())!==-1},Xr=function(e,t,n){Object.keys(t).filter(Yr).forEach(function(r){var i=t[r];typeof i==`function`&&(r===`onInit`?i(e,n):n.on(r.substring(2),function(e){return i(e,n)}))})},Zr=function(e,t,n,r){var i=e.modelEvents?e.modelEvents:null,a=Array.isArray(i)?i.join(` `):i;vt(r,function(t,r){n&&typeof t==`string`&&t!==r&&t!==n.getContent({format:e.outputFormat})&&n.setContent(t)}),n.on(a||`change input undo redo`,function(){t.emit(`update:modelValue`,n.getContent({format:e.outputFormat}))})},Qr=function(e,t,n,r,i,a){r.setContent(a()),n.attrs[`onUpdate:modelValue`]&&Zr(t,n,r,i),Xr(e,n.attrs,r)},$r=0,ei=function(e){var t=Date.now(),n=Math.floor(Math.random()*1e9);return $r++,e+`_`+n+$r+String(t)},ti=function(e){return e!==null&&e.tagName.toLowerCase()===`textarea`},ni=function(e){return e===void 0||e===``?[]:Array.isArray(e)?e:e.split(` `)},ri=function(e,t){return ni(e).concat(ni(t))},ii=function(e){return e==null},ai=function(e){return typeof e.options?.set==`function`&&e.options.isRegistered(`disabled`)},oi=function(){return{listeners:[],scriptId:ei(`tiny-script`),scriptLoaded:!1}},si=function(){var e=oi(),t=function(e,t,n,r){var i=t.createElement(`script`);i.referrerPolicy=`origin`,i.type=`application/javascript`,i.id=e,i.src=n;var a=function(){i.removeEventListener(`load`,a),r()};i.addEventListener(`load`,a),t.head&&t.head.appendChild(i)};return{load:function(n,r,i){e.scriptLoaded?i():(e.listeners.push(i),n.getElementById(e.scriptId)||t(e.scriptId,n,r,function(){e.listeners.forEach(function(e){return e()}),e.scriptLoaded=!0}))},reinitialize:function(){e=oi()}}}(),ci=function(){return typeof window<`u`?window:global},li=function(){var e=ci();return e&&e.tinymce?e.tinymce:null},ui={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e===`html`||e===`text`}}},di=function(){return di=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},di.apply(this,arguments)},fi=function(e,t,n,r){return e(r||`div`,{id:t,ref:n})},pi=function(e,t,n){return e(`textarea`,{id:t,visibility:`hidden`,ref:n})},mi={selector:void 0,target:void 0},hi=function(e,t){typeof e.mode?.set==`function`?e.mode.set(t):e.setMode(t)},gi=zt({props:ui,setup:function(e,t){var n=e.init?di(di({},e.init),mi):di({},mi),r=Ft(e),i=r.disabled,a=r.readonly,o=r.modelValue,s=r.tagName,c=Qe(null),l=null,u=e.id||ei(`tiny-vue`),d=e.init&&e.init.inline||e.inline,f=!!t.attrs[`onUpdate:modelValue`],p=!0,m=e.initialValue?e.initialValue:``,h=``,g=function(e){return f?function(){return o?.value?o.value:``}:function(){return e?m:h}},_=function(){var r=g(p),i=di(di({},n),{disabled:e.disabled,readonly:e.readonly,target:c.value,plugins:ri(n.plugins,e.plugins),toolbar:e.toolbar||n.toolbar,inline:d,license_key:e.licenseKey,setup:function(i){l=i,!ai(l)&&e.disabled===!0&&hi(l,`readonly`),i.on(`init`,function(n){return Qr(n,e,t,i,o,r)}),typeof n.setup==`function`&&n.setup(i)}});ti(c.value)&&(c.value.style.visibility=``),li().init(i),p=!1};return vt(a,function(e){l!==null&&hi(l,e?`readonly`:`design`)}),vt(i,function(e){l!==null&&(ai(l)?l.options.set(`disabled`,e):hi(l,e?`readonly`:`design`))}),vt(s,function(e){var t;l&&(f||(h=l.getContent()),(t=li())==null||t.remove(l),x(function(){return _()}))}),ke(function(){if(li()!==null)_();else if(c.value&&c.value.ownerDocument){var t=e.cloudChannel?e.cloudChannel:`8`,n=e.apiKey?e.apiKey:`no-api-key`,r=ii(e.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${n}/tinymce/${t}/tinymce.min.js`:e.tinymceScriptSrc;si.load(c.value.ownerDocument,r,_)}}),w(function(){li()!==null&&li().remove(l)}),d||(T(function(){p||_()}),Ee(function(){var e;l&&(f||(h=l.getContent()),(e=li())==null||e.remove(l))})),t.expose({rerender:function(e){var t;l&&(h=l.getContent(),(t=li())==null||t.remove(l),n=di(di(di({},n),e),mi),x(function(){return _()}))},getEditor:function(){return l}}),function(){return d?fi(Se,u,c,e.tagName):pi(Se,u,c)}}}),_i=zt({__name:`LettreOptionsCard`,props:{options:{}},emits:[`save`],setup(t,{emit:n}){let r=t,i=n,o=Qe(re(r.options)),s=[`#BFEDD2`,`#FBEEB8`,`#F8CAC6`,`#ECCAFA`,`#C2E0F4`,`#2DC26B`,`#F1C40F`,`#E03E2D`,`#B96AD9`,`#3598DB`,`#169179`,`#E67E23`,`#BA372A`,`#843FA1`,`#236FA1`,`#ECF0F1`,`#CED4D9`,`#95A5A6`,`#7E8C8D`,`#34495E`,`#000000`,`#ffffff`];return(t,n)=>{let r=Sr;return e(),A(j,{title:`Options de l'entête`},{default:B(()=>[F(Xe,null,{default:B(()=>[F(Rt,null,{default:B(()=>[F(a,null,{default:B(()=>[F(sn,{color:`primary`,density:`compact`,modelValue:o.value.UseCoordCentre,"onUpdate:modelValue":n[0]||=e=>o.value.UseCoordCentre=e,hint:`Activer pour remplacer les coordonnées du directeur par ceux du centre, dans l'entête de la lettre.`,"persistent-hint":``,label:`Coordonnées du centre`},null,8,[`modelValue`])]),_:1}),F(a,{cols:`5`},{default:B(()=>[Ct(F(sn,{color:`primary`,density:`compact`,modelValue:o.value.ShowAdressePostale,"onUpdate:modelValue":n[1]||=e=>o.value.ShowAdressePostale=e,hint:`Afficher l'adresse postale du directeur.`,"persistent-hint":``,label:`Ajouter l'adresse postale`},null,8,[`modelValue`]),[[f,!o.value.UseCoordCentre]])]),_:1})]),_:1}),F(Rt,{class:`mt-4`},{default:B(()=>[F(a,{cols:`6`},{default:B(()=>[F(r,{label:`Couleur du texte de l'entête`,modelValue:o.value.ColorCoord,"onUpdate:modelValue":n[2]||=e=>o.value.ColorCoord=e,swatches:s},null,8,[`modelValue`])]),_:1})]),_:1})]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{color:`success`,onClick:n[3]||=e=>i(`save`,o.value)},{default:B(()=>[...n[4]||=[D(`Enregistrer`,-1)]]),_:1})]),_:1})]),_:1})}}}),vi=[`data`],yi=`<p><span style="font-size: 12pt; color: #3598db;" data-mce-style="font-size: 12pt; color: #3598db;">ESPACE PERSONNEL</span></p><p>Lors de votre inscription, un espace personnel de suivi vous a été attribué et un lien vers celui-ci envoyé dans le mail de confirmation (<span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Mon</span> <span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Dossier</span>). Dans cet espace vous trouverez :</p><ul><li>le <strong>suivi financier</strong> : vous pourrez alors joindre en ligne les aides auxquelles vous avez droit</li><li>les <strong>documents liés au séjour</strong> : liste de vêtement, lettre aux parents, plan d’accès au site ...</li><li>les <strong>documents à compléter</strong> ou joindre en ligne : test d'aisance aquatique si besoin ...</li><li>l'<strong>album photo</strong> du séjour</li><li>la <strong>fiche sanitaire</strong> à compléter en ligne</li></ul><p><em>TOUTES LES INFOS ET DOCUMENTS DU SÉJOUR SE TROUVENT DANS VOTRE ESPACE DÉDIÉ.</em></p>`,bi=zt({__name:`PannelLettre`,setup(t){ke(i);let n=Qe(null);async function i(){let e=await H.LettreGet();e!==void 0&&(e.File.Id==0&&e.Lettre.Html==``&&(e.Lettre.Html=yi),n.value=e)}let a=R(()=>{let e=n.value?.File;return e?e.Id==0?`En attente de création`:`Enregistrée le ${be.time(e.Uploaded)} (taille : ${be.size(e.Taille)})`:``}),o=R(()=>({language:`fr_FR`,height:`75vh`,plugins:[`lists`,`advlist`,`image`,`code`,`link`],menubar:!1,statusbar:!1,paste_data_images:!0,image_advtab:!1,browser_spellcheck:!0,contextmenu:[],font_formats:`Arial=arial;`,toolbar:[`undo redo | cut copy paste | bold italic underline strikethrough | fontsize |  forecolor backcolor current_backcolor  |  alignleft aligncenter alignright | bullist numlist outdent indent | image styles link`],target_list:[{title:`Nouvelle page`,value:`_blank`}],link_title:!1,link_assume_external_targets:!0,relative_urls:!1,remove_script_host:!1,image_description:!1,images_upload_url:H.LettreImageUpload(H.authToken),automatic_uploads:!0,formats:{imageMargin:{selector:`img`,styles:{marginRight:`20px`}}},style_formats:[{title:`Espacer l'image à droite`,format:`imageMargin`}]})),s=Qe(!1);async function c(){if(n.value==null)return;s.value=!0;let e=await H.LettreUpdate(n.value.Lettre);s.value=!1,e!==void 0&&(H.showMessage(`Lettre enregistrée avec succès.`),n.value=e,d.value=!0)}let l=Qe(!1);async function u(e){n.value&&(l.value=!1,n.value.Lettre.UseCoordCentre=e.UseCoordCentre,n.value.Lettre.ShowAdressePostale=e.ShowAdressePostale,n.value.Lettre.ColorCoord=e.ColorCoord,c())}let d=Qe(!1),f=R(()=>n.value?De.LoadDocument(n.value.File.Key):``);return(t,i)=>(e(),y(r,null,[n.value==null?(e(),A(Je,{key:0,type:`card`})):N(``,!0),F(j,{class:`mt-2 mx-auto`,title:`Editer la lettre`,subtitle:a.value,"max-width":`800px`},{append:B(()=>[F(L,{class:`mx-2`,onClick:i[0]||=e=>l.value=!0,"prepend-icon":`mdi-cog`},{default:B(()=>[...i[4]||=[D(` Options`,-1)]]),_:1}),F(Vt,{thickness:`2`,vertical:``}),s.value?(e(),A(st,{key:0,color:`primary`,indeterminate:``,class:`mx-2`,size:`42`})):(e(),A(bn,{key:1,text:`Enregistrer et visualiser`},{activator:B(({props:e})=>[F(L,Ce(e,{class:`mx-2`,icon:`mdi-content-save`,onClick:c,disabled:!n.value}),null,16,[`disabled`])]),_:1}))]),default:B(()=>[n.value?(e(),A(Xe,{key:0},{default:B(()=>[F(Mt(gi),{licenseKey:`gpl`,modelValue:n.value.Lettre.Html,"onUpdate:modelValue":i[1]||=e=>n.value.Lettre.Html=e,init:o.value},null,8,[`modelValue`,`init`])]),_:1})):N(``,!0)]),_:1},8,[`subtitle`]),F(yn,{modelValue:l.value,"onUpdate:modelValue":i[2]||=e=>l.value=e,"max-width":`800px`},{default:B(()=>[n.value?(e(),A(_i,{key:0,options:{UseCoordCentre:n.value.Lettre.UseCoordCentre,ShowAdressePostale:n.value.Lettre.ShowAdressePostale,ColorCoord:n.value.Lettre.ColorCoord},onSave:u},null,8,[`options`])):N(``,!0)]),_:1},8,[`modelValue`]),F(yn,{modelValue:d.value,"onUpdate:modelValue":i[3]||=e=>d.value=e},{default:B(()=>[d.value?(e(),y(`object`,{key:0,type:`application/pdf`,data:f.value,style:{height:`95vh`}},null,8,vi)):N(``,!0)]),_:1},8,[`modelValue`])],64))}}),xi={key:0,class:`mr-4`},Si=zt({__name:`AddDemandeCard`,props:{availableDemandes:{},selectedDemandes:{}},emits:[`selected`,`created`,`updated`,`deleted`],setup(t,{emit:n}){let i=t,o=n;async function s(){let e=await H.DocumentsCreateDemande();e!==void 0&&(o(`created`,e),c.value=re(e))}let c=Qe(null);async function l(){let e=c.value;e!=null&&(c.value=null,await H.DocumentsUpdateDemande(e.Demande)!==void 0&&(H.showMessage(`Modifications enregistrées avec succès.`),o(`updated`,e)))}let u=Qe(null);async function d(){let e=u.value;e!=null&&(u.value=null,await H.DocumentsDeleteDemande({idDemande:e.Id})!==void 0&&(H.showMessage(`Demande supprimée avec succès.`),o(`deleted`,e)))}let f=Qe(null),p=ct(`fileInput`),m=Qe(null);function h(e){f.value=e,x(()=>p.value?.openDialog())}async function _(){let e=f.value,t=m.value;if(t==null||e==null)return;f.value=null,m.value=null;let n=await H.DocumentsUploadDemandeFile(t,{idDemande:e.Demande.Id});n!==void 0&&(H.showMessage(`Document téléversé avec succès.`),o(`updated`,{Demande:e.Demande,File:n}))}let v=Qe(null);async function b(){let e=v.value;e!=null&&(v.value=null,await H.DocumentsDeleteDemandeFile({key:e.File.Key})!==void 0&&(H.showMessage(`Document supprimé avec succès.`),o(`updated`,{Demande:e.Demande,File:{Id:0,Key:``,NomClient:``,Taille:0,Uploaded:``}})))}return(t,n)=>{let x=hn,S=mn,ee=pn;return e(),A(j,{title:`Demander un document`,subtitle:`Les familles devront fournir ce document sur leur espace personnel.`,class:`ma-2`},{append:B(()=>[F(L,{onClick:s},{prepend:B(()=>[F(_t,{color:`green`},{default:B(()=>[...n[8]||=[D(`mdi-plus`,-1)]]),_:1})]),default:B(()=>[n[9]||=D(` Nouvelle demande`,-1)]),_:1})]),default:B(()=>[F(Xe,null,{default:B(()=>[F(Ut,null,{default:B(()=>[i.availableDemandes.length?N(``,!0):(e(),A(Jt,{key:0,class:`text-center`},{default:B(()=>[...n[10]||=[k(`i`,null,`Aucune demande.`,-1)]]),_:1})),(e(!0),y(r,null,xt(i.availableDemandes,t=>(e(),A(Jt,Ce({title:t.Demande.Description,subtitle:t.Demande.IdDirecteur.Valid?`Demande vous appartenant`:`Demande globale`,rounded:``,class:`my-1`},{[g(!i.selectedDemandes.includes(t.Demande.Id)&&`click`)]:e=>o(`selected`,t.Demande)}),C({append:B(()=>[t.File.Id==0?(e(),A(L,{key:1,size:`small`,class:`mr-2`,onClick:z(e=>h(t),[`stop`])},{prepend:B(()=>[F(_t,{color:`green`,icon:`mdi-upload`})]),default:B(()=>[n[12]||=D(` Document à remplir `,-1)]),_:1},8,[`onClick`])):(e(),y(`div`,xi,[F(x,{file:t.File,onDelete:e=>v.value=t},null,8,[`file`,`onDelete`])])),F(L,{icon:``,size:`x-small`,class:`mx-1`,onClick:z(e=>c.value=t,[`stop`]),disabled:!t.Demande.IdDirecteur.Valid},{default:B(()=>[F(_t,null,{default:B(()=>[...n[13]||=[D(`mdi-pencil`,-1)]]),_:1})]),_:1},8,[`onClick`,`disabled`]),F(L,{icon:``,size:`x-small`,class:`mx-1`,onClick:z(e=>u.value=t.Demande,[`stop`]),disabled:!t.Demande.IdDirecteur.Valid},{default:B(()=>[F(_t,{color:`red`},{default:B(()=>[...n[14]||=[D(`mdi-delete`,-1)]]),_:1})]),_:1},8,[`onClick`,`disabled`])]),_:2},[i.selectedDemandes.includes(t.Demande.Id)?{name:`prepend`,fn:B(()=>[F(_t,{color:`green`},{default:B(()=>[...n[11]||=[D(`mdi-check`,-1)]]),_:1})]),key:`0`}:void 0]),1040,[`title`,`subtitle`]))),256))]),_:1})]),_:1}),F(yn,{"model-value":u.value!=null,"onUpdate:modelValue":n[0]||=e=>u.value=null,"max-width":`400px`},{default:B(()=>[u.value?(e(),A(j,{key:0,title:`Confirmer la suppression`},{default:B(()=>[F(Xe,null,{default:B(()=>[...n[15]||=[D(` Confirmez-vous la suppression de cette demande ? Les éventuels documents déjà téléversés seront supprimés. `,-1),k(`br`,null,null,-1),k(`br`,null,null,-1),D(` Attention, cette opération est irréversible. `,-1)]]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{color:`red`,onClick:d},{default:B(()=>[...n[16]||=[D(`Supprimer`,-1)]]),_:1})]),_:1})]),_:1})):N(``,!0)]),_:1},8,[`model-value`]),F(yn,{"model-value":c.value!=null,"onUpdate:modelValue":n[4]||=e=>c.value=null,"max-width":`600px`},{default:B(()=>[c.value?(e(),A(j,{key:0,title:`Document à fournir`},{default:B(()=>[F(Xe,null,{default:B(()=>[F(Rt,null,{default:B(()=>[F(a,null,{default:B(()=>[F(St,{density:`compact`,variant:`outlined`,label:`Description`,modelValue:c.value.Demande.Description,"onUpdate:modelValue":n[1]||=e=>c.value.Demande.Description=e,hint:`Texte affiché sur l'espace de suivi.`},null,8,[`modelValue`])]),_:1})]),_:1}),F(Rt,null,{default:B(()=>[F(a,null,{default:B(()=>[F(S,{density:`compact`,variant:`outlined`,label:`Document temporaire`,min:0,suffix:`jours`,modelValue:c.value.Demande.JoursValide,"onUpdate:modelValue":n[2]||=e=>c.value.Demande.JoursValide=e,hint:`Nombre de jours de validité (0 pour un document permanent)`},null,8,[`modelValue`])]),_:1}),F(a,null,{default:B(()=>[F(S,{density:`compact`,variant:`outlined`,label:`Nombre maximum de fichiers`,modelValue:c.value.Demande.MaxDocs,"onUpdate:modelValue":n[3]||=e=>c.value.Demande.MaxDocs=e,hint:`Limite le nombre de fichiers pouvant être déposés.`},null,8,[`modelValue`])]),_:1})]),_:1})]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{onClick:l},{default:B(()=>[...n[17]||=[D(`Enregistrer`,-1)]]),_:1})]),_:1})]),_:1})):N(``,!0)]),_:1},8,[`model-value`]),F(yn,{"model-value":f.value!=null,"onUpdate:modelValue":n[6]||=e=>f.value=null,"max-width":`600px`},{default:B(()=>[F(j,{title:`Ajouter un document`,subtitle:`Document à remplir par les familles`},{default:B(()=>[F(Xe,null,{default:B(()=>[F(ee,{ref_key:`fileInput`,ref:p,onUpdate:n[5]||=e=>m.value=e},null,512)]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{disabled:!m.value,onClick:_},{default:B(()=>[...n[18]||=[D(`Charger`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`model-value`]),F(yn,{"model-value":v.value!=null,"onUpdate:modelValue":n[7]||=e=>v.value=null,"max-width":`400px`},{default:B(()=>[v.value?(e(),A(j,{key:0,title:`Confirmer la suppression`},{default:B(()=>[F(Xe,null,{default:B(()=>[n[19]||=D(` Confirmez-vous la suppression du document `,-1),k(`i`,null,he(v.value.File.NomClient),1),n[20]||=D(` ? `,-1),n[21]||=k(`br`,null,null,-1),n[22]||=k(`br`,null,null,-1),n[23]||=D(` Attention, cette opération est irréversible. `,-1)]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{color:`red`,onClick:b},{default:B(()=>[...n[24]||=[D(`Supprimer`,-1)]]),_:1})]),_:1})]),_:1})):N(``,!0)]),_:1},8,[`model-value`])]),_:1})}}}),Ci={class:`mt-2 text-center`},wi=zt({__name:`PannelDocuments`,emits:[`goTo`],setup(t,{emit:n}){let i=n;ke(s);let o=Qe(null);async function s(){let e=await H.DocumentsGet();e!==void 0&&(o.value=e)}async function c(e,t){o.value!=null&&(o.value.ToShow[e]=t,await H.DocumentsUpdateToShow(o.value.ToShow)!==void 0&&H.showMessage(`Modifications enregistrées avec succès.`))}let l=Qe(!1),u=Qe(null);async function d(){if(l.value=!1,o.value==null||u.value==null)return;let e=await H.DocumentsUploadToDownload(u.value);e!==void 0&&(H.showMessage(`Document ajouté avec succès.`),o.value.FilesToDownload=(o.value.FilesToDownload||[]).concat(e))}let f=Qe(null);async function p(){let e=f.value;f.value=null,!(o.value==null||e==null)&&await H.DocumentsDeleteToDownload({key:e.Key})!==void 0&&(o.value.FilesToDownload=(o.value.FilesToDownload||[]).filter(t=>t.Key!=e.Key),H.showMessage(`Document supprimé avec succès.`))}let m=Qe(!1);async function h(e){if(!o.value)return;o.value.AvailableDemandes=(o.value.AvailableDemandes||[]).concat(e);let t=await H.DocumentsApplyDemande({idDemande:e.Demande.Id});t!==void 0&&(H.showMessage(`Demande créée et activée pour ce séjour.`),o.value.CampDemandes=(o.value?.CampDemandes||[]).concat(t))}function g(e){if(!o.value)return;let t=(o.value.AvailableDemandes||[]).findIndex(t=>t.Demande.Id==e.Demande.Id);o.value.AvailableDemandes[t]=e;let n=(o.value.CampDemandes||[]).findIndex(t=>t.Demande.Id==e.Demande.Id);o.value.CampDemandes[n]=e}function _(e){o.value&&(o.value.AvailableDemandes=(o.value.AvailableDemandes||[]).filter(t=>t.Demande.Id!=e.Id),o.value.CampDemandes=(o.value.CampDemandes||[]).filter(t=>t.Demande.Id!=e.Id))}async function v(e){if(!o.value)return;m.value=!1;let t=await H.DocumentsApplyDemande({idDemande:e.Id});t!==void 0&&(H.showMessage(`Demande bien activée pour ce séjour.`),o.value.CampDemandes=(o.value?.CampDemandes||[]).concat(t))}async function b(e){o.value&&await H.DocumentsUnapplyDemande({idDemande:e.Id})!==void 0&&(H.showMessage(`Demande retirée avec succès.`),o.value.CampDemandes=(o.value?.CampDemandes||[]).filter(t=>t.Demande.Id!=e.Id))}let x=Qe(!1),S=R(()=>{let e=o.value;if(!e)return[];let t=[];return e.ToShow.LettreDirecteur&&t.push(`Lettre aux familles`),e.ToShow.ListeVetements&&t.push(`Liste de vêtements`),e.ToShow.CharteParticipant&&t.push(`Charte`),e.ToShow.ListeParticipants&&t.push(`Liste des participants`),e.FilesToDownload?.forEach(e=>t.push(e.NomClient)),e.CampDemandes?.forEach(e=>t.push(be.demande(e.Demande))),t});async function ee(){x.value=!1,await H.DocumentsUnlock()!==void 0&&(H.showMessage(`Documents débloqués avec succès.`),o.value&&(o.value.Ready=!0))}let te=Qe(null);async function ne(){te.value={Current:0,Total:10};let e=await H.DocumentsUnlockAndSend();if(e===void 0){x.value=!1,te.value=null;return}await gt(e,e=>te.value=e,e=>H.onError(`Envoi d'une notification`,e)),te.value=null,x.value=!1,o.value&&(o.value.Ready=!0),H.showMessage(`Notifications envoyées avec succès.`)}return(t,n)=>{let s=hn;return e(),y(r,null,[F(j,{title:`Documents du séjour`,subtitle:`Choisir les documents à lire ou remplir par les familles.`,class:`ma-2 mx-auto`,"max-width":`800px`},C({default:B(()=>[o.value==null?(e(),A(Je,{key:0})):(e(),A(Xe,{key:1},{default:B(()=>[F(Dn,{type:`info`,closable:``},{default:B(()=>[...n[16]||=[D(` La `,-1),k(`b`,null,`fiche sanitaire`,-1),D(` et les `,-1),k(`b`,null,`vaccins`,-1),D(` sont automatiquement demandés pour les participants mineurs. `,-1)]]),_:1}),F(Ut,null,{default:B(()=>[F(Ht,null,{default:B(()=>[...n[17]||=[D(`Documents générés`,-1)]]),_:1}),F(Jt,{title:`Lettre aux familles`,subtitle:`Document officiel pour le premier contact`},{append:B(()=>[F(L,{icon:`mdi-pencil`,size:`small`,class:`mr-4`,onClick:n[1]||=e=>i(`goTo`,`lettre`)}),F(sn,{color:`primary`,"hide-details":``,"model-value":o.value.ToShow.LettreDirecteur,"onUpdate:modelValue":n[2]||=e=>c(`LettreDirecteur`,e)},null,8,[`model-value`])]),_:1}),F(Jt,{title:`Liste de vêtements`},{append:B(()=>[F(L,{icon:`mdi-pencil`,size:`small`,class:`mr-4`,onClick:n[3]||=e=>i(`goTo`,`vetements`)}),F(sn,{color:`primary`,"hide-details":``,"model-value":o.value.ToShow.ListeVetements,"onUpdate:modelValue":n[4]||=e=>c(`ListeVetements`,e)},null,8,[`model-value`])]),_:1}),F(Jt,{title:`Charte`,subtitle:`Contrat moral à accepter pour les participants agés de 12 ans ou plus`},{append:B(()=>[F(sn,{color:`primary`,"hide-details":``,"model-value":o.value.ToShow.CharteParticipant,"onUpdate:modelValue":n[5]||=e=>c(`CharteParticipant`,e)},null,8,[`model-value`])]),_:1}),F(Jt,{title:`Liste des participants`,subtitle:`Permet par exemple d'organiser un co-voiturage`},{append:B(()=>[F(sn,{color:`primary`,"hide-details":``,"model-value":o.value.ToShow.ListeParticipants,"onUpdate:modelValue":n[6]||=e=>c(`ListeParticipants`,e)},null,8,[`model-value`])]),_:1}),F(Vt,{thickness:`1`,class:`my-2`}),F(Rt,{"no-gutters":``},{default:B(()=>[F(a,{"align-self":`center`},{default:B(()=>[F(Ht,null,{default:B(()=>[...n[18]||=[D(`Documents à lire `,-1)]]),_:1})]),_:1}),F(a,{"align-self":`center`,cols:`auto`,class:`mx-2`},{default:B(()=>[F(L,{size:`small`,onClick:n[7]||=e=>l.value=!0},{prepend:B(()=>[F(_t,{color:`green`},{default:B(()=>[...n[19]||=[D(`mdi-plus`,-1)]]),_:1})]),default:B(()=>[n[20]||=D(` Ajouter `,-1)]),_:1})]),_:1})]),_:1}),o.value.FilesToDownload?.length?N(``,!0):(e(),A(Jt,{key:0},{default:B(()=>[...n[21]||=[k(`i`,null,`Aucun document.`,-1)]]),_:1})),(e(!0),y(r,null,xt(o.value.FilesToDownload,t=>(e(),A(Jt,{title:t.NomClient},{append:B(()=>[F(s,{file:t,onDelete:e=>f.value=t},null,8,[`file`,`onDelete`])]),_:2},1032,[`title`]))),256)),F(Vt,{thickness:`1`,class:`my-2`}),F(Rt,{"no-gutters":``},{default:B(()=>[F(a,{"align-self":`center`},{default:B(()=>[F(Ht,null,{default:B(()=>[...n[22]||=[D(`Documents à fournir (collectés sur l'espace de suivi) `,-1)]]),_:1})]),_:1}),F(a,{"align-self":`center`,cols:`auto`,class:`mx-2`},{default:B(()=>[F(L,{size:`small`,onClick:n[8]||=e=>m.value=!0},{prepend:B(()=>[F(_t,{color:`green`},{default:B(()=>[...n[23]||=[D(`mdi-plus`,-1)]]),_:1})]),default:B(()=>[n[24]||=D(` Ajouter `,-1)]),_:1})]),_:1})]),_:1}),o.value.CampDemandes?.length?N(``,!0):(e(),A(Jt,{key:1},{default:B(()=>[...n[25]||=[k(`i`,null,`Aucun document.`,-1)]]),_:1})),(e(!0),y(r,null,xt(o.value.CampDemandes,t=>(e(),A(Jt,{title:Mt(be).demande(t.Demande)},{append:B(()=>[F(L,{icon:``,size:`x-small`,onClick:e=>b(t.Demande)},{default:B(()=>[F(_t,{color:`red`},{default:B(()=>[...n[26]||=[D(`mdi-close`,-1)]]),_:1})]),_:1},8,[`onClick`])]),_:2},1032,[`title`]))),256))]),_:1})]),_:1})),F(yn,{modelValue:l.value,"onUpdate:modelValue":n[10]||=e=>l.value=e,"max-width":`600px`},{default:B(()=>[F(j,{title:`Charger un document`,subtitle:`Ce document sera distribué sur l'espace personnel des familles.`},{default:B(()=>[F(Xe,null,{default:B(()=>[F(pn,{label:`Document à distribuer`,onUpdate:n[9]||=e=>u.value=e})]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{color:`green`,disabled:u.value==null,onClick:d},{default:B(()=>[...n[27]||=[D(`Charger`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`modelValue`]),F(yn,{"model-value":f.value!=null,"onUpdate:modelValue":n[11]||=e=>f.value=null,"max-width":`400px`},{default:B(()=>[f.value?(e(),A(j,{key:0,title:`Confirmer la suppression`},{default:B(()=>[F(Xe,null,{default:B(()=>[n[28]||=D(` Confirmez-vous la suppression du document `,-1),k(`i`,null,he(f.value.NomClient),1),n[29]||=D(` ? `,-1),n[30]||=k(`br`,null,null,-1),n[31]||=k(`br`,null,null,-1),n[32]||=D(` Attention, cette opération est irréversible. `,-1)]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{color:`red`,onClick:p},{default:B(()=>[...n[33]||=[D(`Supprimer`,-1)]]),_:1})]),_:1})]),_:1})):N(``,!0)]),_:1},8,[`model-value`])]),_:2},[o.value?{name:`append`,fn:B(()=>[o.value.Ready?(e(),A(Gt,{key:0,"prepend-icon":`mdi-lock-open`,color:`success`},{default:B(()=>[...n[14]||=[D(` Documents visibles `,-1)]]),_:1})):(e(),A(L,{key:1,onClick:n[0]||=e=>x.value=!0,"prepend-icon":`mdi-lock-open`,disabled:!S.value.length},{default:B(()=>[...n[15]||=[D(` Envoyer`,-1)]]),_:1},8,[`disabled`]))]),key:`0`}:void 0]),1024),F(yn,{modelValue:m.value,"onUpdate:modelValue":n[12]||=e=>m.value=e,"max-width":`800px`},{default:B(()=>[o.value?(e(),A(Si,{key:0,availableDemandes:o.value.AvailableDemandes||[],selectedDemandes:(o.value.CampDemandes||[]).map(e=>e.Demande.Id),onSelected:v,onCreated:h,onUpdated:g,onDeleted:_},null,8,[`availableDemandes`,`selectedDemandes`])):N(``,!0)]),_:1},8,[`modelValue`]),F(yn,{modelValue:x.value,"onUpdate:modelValue":n[13]||=e=>x.value=e,"max-width":`800px`},{default:B(()=>[F(j,{title:`Confirmer l'envoi des documents`},{default:B(()=>[F(Xe,null,{default:B(()=>[n[34]||=D(` Les documents suivants seront disponibles sur l'espace de suivi, et un mail de notification sera envoyé. `,-1),k(`div`,Ci,[(e(!0),y(r,null,xt(S.value,t=>(e(),A(Gt,{class:`mx-1`},{default:B(()=>[D(he(t),1)]),_:2},1024))),256))])]),_:1}),F(O,null,{default:B(()=>[F(L,{onClick:ee,"prepend-icon":`mdi-lock-open`},{default:B(()=>[...n[35]||=[D(` Débloquer sans envoi de mail `,-1)]]),_:1}),F(Yt),F(L,{onClick:ne,"prepend-icon":`mdi-email-arrow-right`},{default:B(()=>[...n[36]||=[D(` Débloquer et notifier`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`modelValue`]),F(yn,{"model-value":te.value!=null,persistent:``,"max-width":`600px`},{default:B(()=>[te.value?(e(),A(tn,{key:0,title:`Envoi du sondage en cours`,current:te.value.Current,total:te.value.Total},null,8,[`current`,`total`])):N(``,!0)]),_:1},8,[`model-value`])],64)}}}),Ti={key:1,style:{height:`15px`}},Ei=zt({__name:`DropZone`,props:{isDragging:{type:Boolean}},emits:[`onDrop`],setup(t,{emit:n}){let r=t,i=n,a=Qe(!1);function o(e){a.value=!0,e.preventDefault()}function s(e){a.value=!1,e.preventDefault(),i(`onDrop`,e)}return(t,n)=>r.isDragging?(e(),y(`div`,{key:0,style:{height:`15px`},class:ue({"bg-blue-lighten-1":a.value,"bg-blue-lighten-4":!a.value,rounded:!0}),onDragenter:o,onDragover:n[0]||=e=>e.preventDefault(),onDragleave:n[1]||=e=>a.value=!1,onDrop:s},null,34)):(e(),y(`div`,Ti))}});const Di={Ete:[{Quantite:2,Description:`Sweats ou pull-overs`,Important:!1},{Quantite:1,Description:`Polaire`,Important:!1},{Quantite:6,Description:`Tee shirts`,Important:!1},{Quantite:2,Description:`Pantalons ou jogging`,Important:!1},{Quantite:3,Description:`Shorts`,Important:!1},{Quantite:6,Description:`Slips ou culottes`,Important:!1},{Quantite:4,Description:`Paires de chaussettes`,Important:!1},{Quantite:1,Description:`Pyjama`,Important:!1},{Quantite:1,Description:`Maillot de bain`,Important:!1},{Quantite:2,Description:`Grandes serviettes`,Important:!1},{Quantite:1,Description:`Gant de toilette`,Important:!1},{Quantite:1,Description:`Nécessaire de toilette : shampoing, savon, brosse à dent, dentifrice.....`,Important:!1},{Quantite:1,Description:`Paire de lunette de soleil`,Important:!0},{Quantite:1,Description:`Sac de couchage`,Important:!1},{Quantite:1,Description:`Casquette`,Important:!0},{Quantite:1,Description:`Veste de pluie`,Important:!1},{Quantite:1,Description:`Paire de bonnes baskets`,Important:!0},{Quantite:1,Description:`Paire de chaussure pour aller dans l’eau. (Une paire de vieille chaussure est suffisante !)`,Important:!0},{Quantite:1,Description:`Paire de chaussure légère (sandale)`,Important:!1},{Quantite:1,Description:`Petit sac à dos, gourde, lampe de poche`,Important:!1}],Hiver:[{Quantite:6,Description:`Slips`,Important:!1},{Quantite:6,Description:`Paires de chaussettes longues et chaudes`,Important:!1},{Quantite:5,Description:`T-shirts manches longues`,Important:!1},{Quantite:2,Description:`Pull-overs`,Important:!1},{Quantite:2,Description:`Pantalons`,Important:!1},{Quantite:2,Description:`T-shirt manches courtes`,Important:!1},{Quantite:2,Description:`Leggings ou collants chauds`,Important:!1},{Quantite:1,Description:`Polaire`,Important:!1},{Quantite:1,Description:`Serviette de toilette`,Important:!1},{Quantite:1,Description:`Trousse de toilette complète`,Important:!1},{Quantite:1,Description:`Drap de dessous (90 cm)`,Important:!1},{Quantite:1,Description:`Sac de couchage ou drap de dessus`,Important:!1},{Quantite:1,Description:`Combinaison ou pantalon de ski`,Important:!1},{Quantite:1,Description:`Anorak, bonnet, paire de gants de ski`,Important:!1},{Quantite:1,Description:`Paire de lunette, crème solaire`,Important:!1},{Quantite:1,Description:`Paire de baskets`,Important:!1},{Quantite:1,Description:`Paire de boots ou chaussures de marche`,Important:!1},{Quantite:1,Description:`Paire de pantoufles`,Important:!1},{Quantite:1,Description:`Pyjama`,Important:!1},{Quantite:1,Description:`Jogging`,Important:!1}]};var Oi={ref:`bottom`},ki=[`data`],Ai=zt({__name:`PannelVetements`,setup(t){ke(s);let n=Qe(null),i=Qe(null),o=R(()=>JSON.stringify(i.value)!=JSON.stringify(n.value));async function s(){let e=await H.VetementsGet();e!==void 0&&(n.value=e,i.value=re(e))}function c(){n.value&&(n.value.Vetements=(n.value.Vetements||[]).concat({Description:``,Important:!1,Quantite:1}),l.value=n.value.Vetements.length-1,x(()=>{v.value&&v.value.scrollIntoView()}))}let l=Qe(null);function u(e){n.value&&(n.value.Vetements=re(Di[e]))}function d(e){n.value&&(n.value.Vetements||[]).splice(e,1)}let f=Qe(!1),p=Qe(``),m=R(()=>De.RenderDocumentCamp(p.value,!1));async function h(){if(!n.value)return;let e=await H.VetementsUpdate(n.value);e!==void 0&&(i.value=re(n.value),p.value=e,H.showMessage(`Liste de vêtements enregistrée avec succès.`))}function g(e,t){f.value=!0,e.dataTransfer.effectAllowed=`move`,e.dataTransfer.setData(`text/json`,JSON.stringify({index:t}))}function _(e,t){if(!n.value)return;let r=JSON.parse(e.dataTransfer.getData(`text/json`));n.value.Vetements=Ie(r.index,t,n.value.Vetements)}let v=ct(`bottom`),b=Qe(!1),S={language:`fr_FR`,height:150,menubar:!1,statusbar:!1,formats:{underline:{inline:`u`}},entity_encoding:`raw`,font_formats:`Arial=arial,helvetica,sans-serif;`,toolbar:[`undo redo | cut copy paste | bold italic underline `]};return(t,i)=>{let s=Ei,v=mn;return e(),y(r,null,[F(j,{title:`Liste de vêtements`,class:`ma-2 mx-auto`,"max-width":`1000px`},{append:B(()=>[F(L,{icon:``,onClick:c,size:`small`,class:`mx-1`},{default:B(()=>[F(_t,{color:`green`},{default:B(()=>[...i[9]||=[D(`mdi-plus`,-1)]]),_:1})]),_:1}),F(Wt,null,{activator:B(({props:e})=>[F(L,Ce(e,{class:`mx-1`,size:`small`}),{default:B(()=>[...i[10]||=[D(`Importer...`,-1)]]),_:1},16)]),default:B(()=>[F(Ut,null,{default:B(()=>[F(Jt,{title:`Liste d'été`,subtitle:`Remplace la liste actuelle`,onClick:i[0]||=e=>u(`Ete`)}),F(Jt,{title:`Liste d'hiver`,subtitle:`Remplace la liste actuelle`,onClick:i[1]||=e=>u(`Hiver`)})]),_:1})]),_:1}),F(Vt,{vertical:``,thickness:`2`,class:`mx-1`}),F(L,{size:`small`,class:`mx-1`,onClick:i[2]||=e=>b.value=!0,"prepend-icon":`mdi-text-box-edit`},{default:B(()=>[...i[11]||=[D(` Texte `,-1)]]),_:1}),F(Vt,{vertical:``,thickness:`2`,class:`mx-1`}),F(L,{icon:``,onClick:h,size:`small`,class:`mx-1`},{default:B(()=>[F(gn,{color:o.value?`pink`:`transparent`,dot:``},{default:B(()=>[F(_t,null,{default:B(()=>[...i[12]||=[D(`mdi-content-save`,-1)]]),_:1})]),_:1},8,[`color`])]),_:1})]),default:B(()=>[n.value==null?(e(),A(Je,{key:0})):(e(),A(Xe,{key:1},{default:B(()=>[F(Ut,{density:`compact`,style:{"max-height":`75vh`},class:`overflow-y-auto`},{default:B(()=>[n.value.Vetements?.length?N(``,!0):(e(),A(Jt,{key:0,class:`text-center`},{default:B(()=>[...i[13]||=[k(`i`,null,`Aucun vêtement.`,-1)]]),_:1})),(e(!0),y(r,null,xt(n.value.Vetements,(t,o)=>(e(),y(r,null,[F(s,{isDragging:f.value,onOnDrop:e=>_(e,o)},null,8,[`isDragging`,`onOnDrop`]),l.value==o?(e(),A(Rt,{key:0,class:`mx-0`},{default:B(()=>[F(a,{"align-self":`center`,cols:`2`},{default:B(()=>[F(v,{label:`Quantité`,modelValue:n.value.Vetements[o].Quantite,"onUpdate:modelValue":e=>n.value.Vetements[o].Quantite=e},null,8,[`modelValue`,`onUpdate:modelValue`])]),_:2},1024),F(a,{"align-self":`center`},{default:B(()=>[F(St,{density:`compact`,variant:`outlined`,label:`Description`,"hide-details":``,modelValue:n.value.Vetements[o].Description,"onUpdate:modelValue":e=>n.value.Vetements[o].Description=e},null,8,[`modelValue`,`onUpdate:modelValue`])]),_:2},1024),F(a,{"align-self":`center`,cols:`auto`},{default:B(()=>[F(qt,{density:`compact`,variant:`outlined`,label:`Important`,"hide-details":``,modelValue:n.value.Vetements[o].Important,"onUpdate:modelValue":e=>n.value.Vetements[o].Important=e},null,8,[`modelValue`,`onUpdate:modelValue`])]),_:2},1024),F(a,{"align-self":`center`,cols:`auto`},{default:B(()=>[F(L,{size:`small`,onClick:i[3]||=e=>l.value=null},{prepend:B(()=>[F(_t,{color:`green`},{default:B(()=>[...i[14]||=[D(`mdi-check`,-1)]]),_:1})]),default:B(()=>[i[15]||=D(` Terminer`,-1)]),_:1})]),_:1})]),_:2},1024)):(e(),A(Jt,{key:1,title:t.Description,subtitle:t.Important?`Important`:``},{prepend:B(()=>[F(gn,{inline:``,content:t.Quantite,color:`primary`},null,8,[`content`])]),append:B(()=>[F(_t,{class:`mx-1`,style:{cursor:`grab`},draggable:!0,onDragstart:e=>g(e,o),onDragend:i[4]||=e=>f.value=!1},{default:B(()=>[...i[16]||=[D(`mdi-drag-vertical`,-1)]]),_:1},8,[`onDragstart`]),F(L,{icon:`mdi-pencil`,size:`x-small`,class:`mx-1`,onClick:e=>l.value=o},null,8,[`onClick`]),F(L,{icon:``,onClick:e=>d(o),size:`x-small`},{default:B(()=>[F(_t,{color:`red`},{default:B(()=>[...i[17]||=[D(`mdi-close`,-1)]]),_:1})]),_:1},8,[`onClick`])]),_:2},1032,[`title`,`subtitle`]))],64))),256)),F(s,{isDragging:f.value,onOnDrop:i[5]||=e=>_(e,n.value?.Vetements?.length||0)},null,8,[`isDragging`]),k(`div`,Oi,null,512)]),_:1})]),_:1}))]),_:1}),F(yn,{"model-value":!!p.value,"onUpdate:modelValue":i[6]||=e=>p.value=``},{default:B(()=>[p.value?(e(),y(`object`,{key:0,type:`application/pdf`,data:m.value,style:{height:`95vh`}},null,8,ki)):N(``,!0)]),_:1},8,[`model-value`]),F(yn,{modelValue:b.value,"onUpdate:modelValue":i[8]||=e=>b.value=e,"max-width":`600px`},{default:B(()=>[F(j,{title:`Texte complémentaire`,subtitle:`Ce texte apparaît à la fin de la liste de vêtements.`},{default:B(()=>[n.value?(e(),A(Xe,{key:0},{default:B(()=>[F(Mt(gi),{licenseKey:`gpl`,modelValue:n.value.Complement,"onUpdate:modelValue":i[7]||=e=>n.value.Complement=e,init:S},null,8,[`modelValue`])]),_:1})):N(``,!0)]),_:1})]),_:1},8,[`modelValue`])],64)}}}),ji=zt({__name:`documents`,setup(t){let n=Zt(),i=R(()=>Vi(n.currentRoute.value.query)),a=R(()=>i.value.tab||`documents`);function o(e){let t=n.currentRoute.value;n.push({path:t.path,query:{tab:e}})}return(t,n)=>(e(),y(r,null,[F(Rn,{title:`${Mt(H).camp?.Label} - Communication & Documents`},{default:B(()=>[F(En,{"model-value":a.value,"onUpdate:modelValue":n[0]||=e=>o(e)},{default:B(()=>[F(Sn,{value:`documents`},{default:B(()=>[...n[1]||=[D(`Documents`,-1)]]),_:1}),F(Sn,{value:`lettre`},{prepend:B(()=>[F(_t,null,{default:B(()=>[...n[2]||=[D(`mdi-mail`,-1)]]),_:1})]),default:B(()=>[n[3]||=D(` Lettre aux familles`,-1)]),_:1}),F(Sn,{value:`vetements`},{prepend:B(()=>[F(_t,null,{default:B(()=>[...n[4]||=[D(`mdi-washing-machine`,-1)]]),_:1})]),default:B(()=>[n[5]||=D(` Liste de vêtements`,-1)]),_:1})]),_:1},8,[`model-value`])]),_:1},8,[`title`]),F(Tn,{"model-value":a.value},{default:B(()=>[F(Cn,{value:`documents`},{default:B(()=>[F(wi,{onGoTo:o})]),_:1}),F(Cn,{value:`lettre`},{default:B(()=>[F(bi)]),_:1}),F(Cn,{value:`vetements`},{default:B(()=>[F(Ai)]),_:1})]),_:1},8,[`model-value`])],64))}}),Mi={key:0,class:`text-center my-6`},Ni=[`href`],Pi=[`href`],Fi=zt({__name:`photos`,setup(t){ke(i);let n=Qe(null);async function i(){let e=await H.PhotosLoad();e!==void 0&&(n.value=e)}let o=Qe(!1),s=Qe(null);async function c(){if(!n.value)return;o.value=!1;let e=await H.PhotosInvite();e!==void 0&&(await gt(e,e=>s.value=e,e=>H.onError(`Envoi du mail`,e)),s.value=null,H.showMessage(`Mails envoyés avec succès.`))}return(t,i)=>{let l=tn;return e(),y(r,null,[F(Rn,{title:`${Mt(H).camp?.Label} - Album photos`},null,8,[`title`]),n.value==null?(e(),y(`div`,Mi,[F(st,{indeterminate:``})])):n.value.HasAlbum?(e(),A(j,{key:2,title:`Album`,class:`ma-2`},{append:B(()=>[F(L,{onClick:i[0]||=e=>o.value=!0,disabled:s.value!=null},{prepend:B(()=>[F(_t,{color:`green`},{default:B(()=>[...i[3]||=[D(`mdi-send`,-1)]]),_:1})]),default:B(()=>[i[4]||=D(` Inviter... `,-1)]),_:1},8,[`disabled`])]),default:B(()=>[F(Xe,null,{default:B(()=>[F(Rt,null,{default:B(()=>[F(a,{"align-self":`center`},{default:B(()=>[i[5]||=D(`Nom de l'album : `,-1),k(`b`,null,he(n.value.Album.albumName),1)]),_:1}),F(a,{"align-self":`center`},{default:B(()=>[i[6]||=D(`Créé le : `,-1),k(`b`,null,he(Mt(be).date(n.value.Album.createdAt)),1)]),_:1}),F(a,{"align-self":`center`},{default:B(()=>[i[7]||=D(`Nombre de photos : `,-1),k(`b`,null,he(n.value.Album.assetCount),1)]),_:1})]),_:1}),F(Rt,null,{default:B(()=>[F(a,{cols:`4`},{default:B(()=>[...i[8]||=[D(`Lien Équipe (permission d'ajout)`,-1)]]),_:1}),F(a,null,{default:B(()=>[k(`a`,{target:`_blank`,href:n.value.Album.EquipiersURL},he(n.value.Album.EquipiersURL),9,Ni)]),_:1})]),_:1}),F(Rt,null,{default:B(()=>[F(a,{cols:`4`},{default:B(()=>[...i[9]||=[D(`Lien Inscrits (lecture seule)`,-1)]]),_:1}),F(a,null,{default:B(()=>[k(`a`,{target:`_blank`,href:n.value.Album.InscritsURL},he(n.value.Album.InscritsURL),9,Pi)]),_:1})]),_:1})]),_:1}),F(yn,{modelValue:o.value,"onUpdate:modelValue":i[1]||=e=>o.value=e,"max-width":`800px`},{default:B(()=>[F(j,{title:`Envoyer le lien de l'album`},{default:B(()=>[F(Xe,null,{default:B(()=>[...i[10]||=[D(` Confirmez-vous l'envoi d'un mail aux responsables et aux équipiers ? `,-1)]]),_:1}),F(O,null,{default:B(()=>[F(Yt),F(L,{color:`green`,onClick:c},{default:B(()=>[...i[11]||=[D(`Partager le lien par mail`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`modelValue`]),F(yn,{"model-value":s.value!=null},{default:B(()=>[s.value==null?N(``,!0):(e(),A(l,{key:0,title:`Envoi des mails`,current:s.value.Current,total:s.value.Total},null,8,[`current`,`total`]))]),_:1},8,[`model-value`])]),_:1})):(e(),A(Dn,{key:1,type:`warning`,class:`ma-2`},{default:B(()=>[...i[2]||=[D(`Aucun album n'est associé au séjour.`,-1)]]),_:1}))],64)}}}),Ii={key:0,class:`text-center my-6`},Li={key:1,class:`ma-2`},Ri=[{path:`/`,component:zn},{path:`/inscriptions`,component:zr},{path:`/equipiers`,component:qr},{path:`/documents`,component:ji},{path:`/photos`,component:Fi},{path:`/avis`,component:zt({__name:`avis`,setup(t){ke(i);let n=Qe(null);async function i(){let e=await H.SondagesGet();e!==void 0&&(n.value=e)}return(t,i)=>(e(),y(r,null,[F(Rn,{title:`${Mt(H).camp?.Label} - Avis sur le séjour`},null,8,[`title`]),n.value==null?(e(),y(`div`,Ii,[F(st,{indeterminate:``})])):(e(),y(`div`,Li,[F(fn,{sondages:n.value},null,8,[`sondages`])]))],64))}})}],zi=Qt({history:Xt(`/directeurs`),routes:Ri});zi.onError((e,t)=>{e?.message?.includes?.(`Failed to fetch dynamically imported module`)?localStorage.getItem(`vuetify:dynamic-reload`)?console.error(`Dynamic import error, reloading page did not fix it`,e):(console.log(`Reloading page to fix dynamic import error`),localStorage.setItem(`vuetify:dynamic-reload`,`true`),location.assign(t.fullPath)):console.error(e)}),zi.isReady().then(()=>{localStorage.removeItem(`vuetify:dynamic-reload`)});function Bi(e){return{tab:e.tab}}function Vi(e){return{tab:e.tab}}var Hi=[`innerHTML`],Ui=I(zt({__name:`App`,setup(t){let n=Be({text:``,color:`accent`,action:void 0,timeout:4e3}),r=Qe(``),i=Qe(``);return H.onError=(e,t)=>{r.value=e,i.value=t},H.showMessage=(e,t,r)=>{n.text=e,n.color=t||`success`,n.action=r,n.timeout=1e4,n.timeout=4e3},Zt().beforeEach(async(e,t)=>{if(H.hasToken())return;let{idCamp:n,token:r}=Ln.get();if(r){let t=await H.Loggin({idCamp:n,password:r});if(t&&t.IsValid)return H.setCamp(t.Camp,t.ComptaURL,t.Token),H.showMessage(`Bienvenue !`),e.path==`/`?{path:`/inscriptions`}:void 0}if(e.path!==`/`)return{path:`/`}}),(t,a)=>{let o=ht(`router-view`);return e(),A(mt,null,{default:B(()=>[F(nt,null,{default:B(()=>[F(o),F(bt,{style:{"z-index":`10000`},app:``,"model-value":n.text!=``,"onUpdate:modelValue":a[1]||=e=>n.text=``,timeout:n.timeout,color:n.color,location:`bottom left`,"close-on-content-click":``},{default:B(()=>[D(he(n.text)+` `,1),n.action?(e(),A(L,{key:0,onClick:a[0]||=e=>n.action.action(),class:`ml-2`},{default:B(()=>[D(he(n.action.title),1)]),_:1})):N(``,!0)]),_:1},8,[`model-value`,`timeout`,`color`]),F(bt,{app:``,"model-value":r.value!=``,"onUpdate:modelValue":a[2]||=e=>r.value=``,timeout:4e3,color:`red`},{default:B(()=>[k(`b`,null,he(r.value),1),k(`div`,{innerHTML:i.value},null,8,Hi)]),_:1},8,[`model-value`])]),_:1})]),_:1})}}}));Ui.use(Ae).use(zi),Ui.mount(`#app`);