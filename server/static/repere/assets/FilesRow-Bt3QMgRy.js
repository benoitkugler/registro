import{$i as e,Ai as t,B as n,Fi as r,Gi as i,Li as a,M as o,Mi as s,Ni as c,O as l,Pi as u,Ri as d,Sa as f,U as p,Xn as m,k as h,la as g,ma as _,na as v,oa as y,rt as b,ta as x,z as S,zi as C}from"./VSnackbar-LvWtNdJy.js";import{v as w,x as T}from"./VSelect-Bx_vVmV1.js";import{n as E,t as D}from"./FileCard-CVMWAru2.js";import{t as O}from"./VDialog-BCp13ton.js";const k={NotSend:0,Pending:1,Answered:2};k.NotSend,k.Pending,k.Answered;const A={Direction:0,Adjoint:1,Animation:2,Menage:3,Cuisine:4,Intendance:5,Infirmerie:6,AideAnimation:7,Lingerie:8,Chauffeur:9,Factotum:10,Babysiter:11,AutreRole:12};A.Direction,A.Adjoint,A.Animation,A.Menage,A.Cuisine,A.Intendance,A.Infirmerie,A.AideAnimation,A.Lingerie,A.Chauffeur,A.Factotum,A.Babysiter,A.AutreRole;const j={NoBuiltin:0,CarteId:1,Permis:2,SB:3,Secourisme:4,Bafa:5,Bafd:6,CarteVitale:7,Vaccins:8,Haccp:9,BafdEquiv:10,BafaEquiv:11,CertMedicalCuisine:12,PhotoIdentite:13,ExtraitCasierJudiciaire:14,Autre:15},M={[j.NoBuiltin]:`-`,[j.CarteId]:`Carte d'identité/Passeport`,[j.Permis]:`Permis de conduire`,[j.SB]:`Surveillant de baignade`,[j.Secourisme]:`Secourisme (PSC1 - AFPS)`,[j.Bafa]:`BAFA`,[j.Bafd]:`BAFD`,[j.CarteVitale]:`Carte Vitale`,[j.Vaccins]:`Vaccins`,[j.Haccp]:`Cuisine (HACCP)`,[j.BafdEquiv]:`Equivalent BAFD`,[j.BafaEquiv]:`Equivalent BAFA`,[j.CertMedicalCuisine]:`Certificat médical cuisine`,[j.PhotoIdentite]:`Photo d'identité`,[j.ExtraitCasierJudiciaire]:`Extrait du casier judiciaire`,[j.Autre]:`Autre`},N={AAucun:0,AAutre:1,ASb:2,ACanoe:3,AVoile:4,AMoto:5},P={[N.AAucun]:`Non effectué`,[N.AAutre]:`Approfondissement`,[N.ASb]:`Surveillant de baignade`,[N.ACanoe]:`Canoë - Kayak`,[N.AVoile]:`Voile`,[N.AMoto]:`Loisirs motocyclistes`},F={DAucun:0,DBafa:1,DBafaStag:2,DBafd:3,DBafdStag:4,DCap:5,DAssSociale:6,DEducSpe:7,DMonEduc:8,DInstit:9,DProf:10,DAgreg:11,DBjeps:12,DDut:13,DEje:14,DDeug:15,DStaps:16,DBapaat:17,DBeatep:18,DZzautre:19},I={[F.DAucun]:`Aucun`,[F.DBafa]:`BAFA Titulaire`,[F.DBafaStag]:`BAFA Stagiaire`,[F.DBafd]:`BAFD titulaire`,[F.DBafdStag]:`BAFD stagiaire`,[F.DCap]:`CAP petit enfance`,[F.DAssSociale]:`Assitante Sociale`,[F.DEducSpe]:`Educ. spé.`,[F.DMonEduc]:`Moniteur educateur`,[F.DInstit]:`Professeur des écoles`,[F.DProf]:`Enseignant du secondaire`,[F.DAgreg]:`Agrégé`,[F.DBjeps]:`BPJEPS`,[F.DDut]:`DUT carrière sociale`,[F.DEje]:`EJE`,[F.DDeug]:`DEUG`,[F.DStaps]:`STAPS`,[F.DBapaat]:`BAPAAT`,[F.DBeatep]:`BEATEP`,[F.DZzautre]:`AUTRE`},L={NoEtatCivil:0,Marie:1,Celibataire:2},R={[L.NoEtatCivil]:``,[L.Marie]:`Marié(e)`,[L.Celibataire]:`Célibataire`},z={NoSexe:0,Woman:1,Man:2};z.NoSexe,z.Woman,z.Man;var B=class{constructor(e,t){this.baseURL=e,this.authToken=t}getHeaders(){return{Authorization:`Bearer `+this.authToken}}async Load(e){let t=this.baseURL+`/api/v1/equipier`;this.startRequest();try{return(await m.get(t,{headers:this.getHeaders(),params:{token:e.token}})).data}catch(e){this.handleError(e)}}async LoadPhotos(e){let t=this.baseURL+`/api/v1/equipier/photos`;this.startRequest();try{return(await m.get(t,{headers:this.getHeaders(),params:{token:e.token}})).data}catch(e){this.handleError(e)}}async Update(e){let t=this.baseURL+`/api/v1/equipier`;this.startRequest();try{return await m.post(t,e,{headers:this.getHeaders()}),!0}catch(e){this.handleError(e)}}async UpdateCharte(e){let t=this.baseURL+`/api/v1/equipier/charte`;this.startRequest();try{return await m.post(t,null,{headers:this.getHeaders(),params:{token:e.token,accept:e.accept?`ok`:``}}),!0}catch(e){this.handleError(e)}}async UploadDocument(e,t){let n=this.baseURL+`/api/v1/equipier/upload`;this.startRequest();try{let r=new FormData;return r.append(`document`,e,e.name),(await m.put(n,r,{headers:this.getHeaders(),params:{token:t.token,idDemande:String(t.idDemande)}})).data}catch(e){this.handleError(e)}}async DeleteDocument(e){let t=this.baseURL+`/api/v1/equipier/upload`;this.startRequest();try{return await m.delete(t,{headers:this.getHeaders(),params:{key:e.key}}),!0}catch(e){this.handleError(e)}}},V=C({__name:`FilesRow`,props:{title:{},subtitle:{},maxDocs:{},files:{},inUpload:{type:Boolean},showUploadText:{type:Boolean}},emits:[`upload`,`delete`],setup(m,{emit:C}){let k=m,A=C,j=_(!1),M=_(null),N=_(null),P=y(`input`);function F(){j.value=!0,i(()=>P.value?.openDialog())}return(i,m)=>{let _=D,y=E;return e(),c(w,{title:k.title,subtitle:k.subtitle,rounded:``,class:`bg-grey-lighten-4 my-2`},{prepend:g(()=>[v(i.$slots,`prepend`)]),append:g(()=>[d(S,null,{default:g(()=>[(e(!0),r(t,null,x(k.files,t=>(e(),c(n,{"align-self":`center`},{default:g(()=>[d(_,{file:t,onDelete:e=>N.value=t},null,8,[`file`,`onDelete`])]),_:2},1024))),256)),d(n,{"align-self":`center`,cols:`auto`},{default:g(()=>[k.showUploadText?(e(),c(p,{key:0,class:`my-2`,size:`small`,onClick:F,disabled:k.inUpload||k.maxDocs!=0&&k.files.length>=k.maxDocs},{prepend:g(()=>[d(b,{color:`green`,icon:k.inUpload?`mdi-loading`:`mdi-upload`,class:f(k.inUpload?`mdi-spin`:void 0)},null,8,[`icon`,`class`])]),default:g(()=>[m[5]||=a(` Charger un document `,-1)]),_:1},8,[`disabled`])):(e(),c(p,{key:1,class:`my-2`,icon:``,size:`x-small`,onClick:F,disabled:k.inUpload||k.maxDocs!=0&&k.files.length>=k.maxDocs},{default:g(()=>[d(b,{color:`green`,icon:k.inUpload?`mdi-loading`:`mdi-upload`,class:f(k.inUpload?`mdi-spin`:void 0)},null,8,[`icon`,`class`])]),_:1},8,[`disabled`]))]),_:1})]),_:1})]),default:g(()=>[d(O,{modelValue:j.value,"onUpdate:modelValue":m[2]||=e=>j.value=e,"max-width":`600px`},{default:g(()=>[d(l,{title:`Charger un document`},{default:g(()=>[d(h,null,{default:g(()=>[d(y,{onUpdate:m[0]||=e=>M.value=e,ref_key:`input`,ref:P},null,512)]),_:1}),d(o,null,{default:g(()=>[d(T),d(p,{disabled:M.value==null,onClick:m[1]||=e=>{A(`upload`,M.value),j.value=!1}},{default:g(()=>[...m[6]||=[a(`Charger`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`modelValue`]),N.value==null?u(``,!0):(e(),c(O,{key:0,"model-value":N.value!=null,"onUpdate:modelValue":m[4]||=e=>N.value=null,"max-width":`600px`},{default:g(()=>[d(l,{title:`Confirmation`},{default:g(()=>[d(h,null,{default:g(()=>[...m[7]||=[a(` Le document va être supprimé. `,-1),s(`br`,null,null,-1),s(`br`,null,null,-1),a(` Attention, cette opération est irréversible. `,-1)]]),_:1}),d(o,null,{default:g(()=>[d(T),d(p,{color:`red`,onClick:m[3]||=e=>{A(`delete`,N.value),N.value=null}},{default:g(()=>[...m[8]||=[a(`Supprimer`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`model-value`]))]),_:3},8,[`title`,`subtitle`])}}});export{M as a,R as c,j as i,z as l,B as n,I as o,P as r,L as s,V as t};