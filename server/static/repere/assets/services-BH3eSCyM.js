import{$i as e,Ai as t,At as n,B as r,Fi as i,H as a,Kt as o,Li as s,Mi as c,Ni as l,O as u,Pi as d,Ri as f,St as p,Ta as m,Ti as h,U as g,V as _,Xn as v,Zi as y,Zn as ee,fa as b,gt as x,i as S,k as C,la as w,ma as T,n as E,nn as D,r as O,ra as k,t as A,u as te,xa as j,z as M,zi as N}from"./VSnackbar-B_L40pBc.js";import{n as P,t as F}from"./vue-router-CUNDSgXw.js";import{t as I}from"./_plugin-vue_export-helper-U-kLyCs_.js";import{t as L}from"./VDialog-Dn9kFB-3.js";import{t as R}from"./VAlert-B-pVagoP.js";var z=class{constructor(e,t){this.baseURL=e,this.authToken=t}getHeaders(){return{Authorization:`Bearer `+this.authToken}}async ValideTransfertFicheSanitaire(e){let t=this.baseURL+`/api/v1/espaceperso/fichesanitaires/transfert`;this.startRequest();try{return await v.post(t,null,{headers:this.getHeaders(),params:{token:e.token}}),!0}catch(e){this.handleError(e)}}async SearchMail(e){let t=this.baseURL+`/api/v1/services/search-mail`;this.startRequest();try{return(await v.get(t,{headers:this.getHeaders(),params:{mail:e.mail}})).data}catch(e){this.handleError(e)}}};const B=new class extends z{constructor(e,t,n){super(n,``),this.onError=e,this.showMessage=t}handleError(e){let{kind:t,messageHtml:n}=D(e);this.onError(t,n)}startRequest(){}}((e,t)=>{},(e,t)=>{},o());var V=[`innerHTML`],H=N({__name:`App`,setup(t){let n=b({text:``,color:`primary`,action:void 0,timeout:4e3}),r=T(``),i=T(``);return B.onError=(e,t)=>{r.value=e,i.value=t},B.showMessage=(e,t,r)=>{n.text=e,n.color=t||`success`,n.action=r,n.timeout=1e4,n.timeout=4e3},(t,a)=>{let o=k(`router-view`);return e(),l(O,null,{default:w(()=>[f(E,null,{default:w(()=>[f(o),f(A,{style:{"z-index":`10000`},app:``,"model-value":n.text!=``,"onUpdate:modelValue":a[1]||=e=>n.text=``,timeout:n.timeout,color:n.color,location:`bottom left`,"close-on-content-click":``},{default:w(()=>[s(m(n.text)+` `,1),n.action?(e(),l(g,{key:0,onClick:a[0]||=e=>n.action.action(),class:`ml-2`},{default:w(()=>[s(m(n.action.title),1)]),_:1})):d(``,!0)]),_:1},8,[`model-value`,`timeout`,`color`]),f(A,{app:``,"model-value":r.value!=``,"onUpdate:modelValue":a[2]||=e=>r.value=``,timeout:4e3,color:`red`},{default:w(()=>[c(`b`,null,m(r.value),1),c(`div`,{innerHTML:i.value},null,8,V)]),_:1},8,[`model-value`])]),_:1})]),_:1})}}}),U=N({__name:`NavBar`,props:{title:{}},setup(t){let n=t;return(t,i)=>(e(),l(x,{rounded:``,elevation:`4`,color:`primary`},{default:w(()=>[f(a,null,{default:w(()=>[f(M,null,{default:w(()=>[f(r,{"align-self":`center`,cols:`auto`},{default:w(()=>[f(p,{width:`150`,src:`/static/repere/logo.png`})]),_:1}),f(r,{"align-self":`center`},{default:w(()=>[s(m(n.title),1)]),_:1})]),_:1})]),_:1})]),_:1}))}}),W={key:0},G={key:1},K=N({__name:`index`,setup(n){let a=`Repère`,o=T(``),p=T(null);async function h(){let e=await B.SearchMail({mail:o.value});e!==void 0&&(p.value=e)}return(n,v)=>(e(),i(t,null,[f(U,{title:`Portail de gestion - Association ${j(a)}`},null,8,[`title`]),f(_,{class:`fill-height flex-column justify-space-evenly`},{default:w(()=>[f(u,{class:`border-primary border-lg`,title:`Inscriptions`,width:`100%`},{default:w(()=>[f(C,null,{default:w(()=>[f(M,null,{default:w(()=>[f(r,{"align-self":`center`},{default:w(()=>[...v[2]||=[s(` Vous cherchez plus d'informations sur notre association ? C'est par ici ! `,-1)]]),_:1}),f(r,{"align-self":`center`,cols:`auto`},{default:w(()=>[f(g,{color:`accent`,href:j(`https://asso-repere.ch`)},{default:w(()=>[s(`Site `+m(j(a)),1)]),_:1},8,[`href`])]),_:1})]),_:1}),f(M,null,{default:w(()=>[f(r,{"align-self":`center`},{default:w(()=>[v[3]||=s(` Vous souhaitez vous `,-1),v[4]||=c(`b`,null,`inscrire`,-1),s(` à un camp `+m(j(a))+` ? C'est par là ! `,1)]),_:1}),f(r,{"align-self":`center`,cols:`auto`},{default:w(()=>[f(g,{color:`accent`,href:`/inscription`},{default:w(()=>[...v[5]||=[s(`Inscription`,-1)]]),_:1})]),_:1})]),_:1}),f(M,null,{default:w(()=>[f(r,{"align-self":`center`},{default:w(()=>[...v[6]||=[s(` Vous souhaitez accéder à votre `,-1),c(`b`,null,`espace de suivi`,-1),s(` ? Recevez à nouveau votre lien de connexion par email. `,-1)]]),_:1}),f(r,{"align-self":`center`,cols:`3`},{default:w(()=>[f(te,{label:`Email`,"hide-details":``,density:`compact`,variant:`outlined`,modelValue:o.value,"onUpdate:modelValue":v[0]||=e=>o.value=e,color:`primary`},null,8,[`modelValue`])]),_:1}),f(r,{"align-self":`center`,cols:`auto`},{default:w(()=>[f(g,{color:`accent`,disabled:o.value.length<3,onClick:h},{default:w(()=>[...v[7]||=[s(`Retrouver mon lien`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1})]),_:1}),f(u,{class:`border-primary border-lg`,title:`Directeurs`,width:`100%`},{default:w(()=>[f(C,null,{default:w(()=>[f(M,null,{default:w(()=>[f(r,{"align-self":`center`},{default:w(()=>[...v[8]||=[s(` Vous êtes un `,-1),c(`b`,null,`directeur de séjour`,-1),s(` ? C'est par ici ! `,-1)]]),_:1}),f(r,{"align-self":`center`,cols:`auto`},{default:w(()=>[f(g,{color:`accent`,href:`/directeurs`},{default:w(()=>[...v[9]||=[s(`Portail des directeurs`,-1)]]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),f(L,{"model-value":p.value!=null,"onUpdate:modelValue":v[1]||=e=>p.value=null,"max-width":`600px`},{default:w(()=>[p.value?(e(),l(u,{key:0,title:`Recherche de votre espace de suivi`},{default:w(()=>[f(C,null,{default:w(()=>[p.value.Found==0?(e(),i(`div`,W,` Navré, mais votre adresse mail ne fait pas partie des inscriptions enregistrées dans notre base de données. `)):(e(),i(`div`,G,[v[10]||=s(` Bonne nouvelle, votre adresse `,-1),c(`b`,null,m(o.value),1),v[11]||=s(` est bien présente dans notre base de données ! `,-1),v[12]||=c(`br`,null,null,-1),v[13]||=c(`br`,null,null,-1),v[14]||=s(` Un mail contenant le lien de connexion vous y a été envoyé. `,-1)]))]),_:1})]),_:1})):d(``,!0)]),_:1},8,[`model-value`])]),_:1})],64))}});const q={TransfertFicheSanitaire:1};q.TransfertFicheSanitaire;var J=N({__name:`services`,setup(r){let a=T(!0),o=T(1);y(()=>{let e=new URLSearchParams(window.location.search),t=e.get(`service`)||``,n=Number(t);switch(n){case q.TransfertFicheSanitaire:return o.value=n,u(e.get(`token`)||``);default:B.onError(`Service invalide`,`Le paramètre <i>service</i> a une valeur incorrecte : ${t}`)}});async function u(e){await B.ValideTransfertFicheSanitaire({token:e}),a.value=!1}return(r,u)=>(e(),i(t,null,[f(U,{title:`Portail`}),f(_,{class:`fill-height`},{default:w(()=>[f(n,null,{default:w(()=>[a.value?(e(),l(S,{key:0})):o.value==j(q).TransfertFicheSanitaire?(e(),l(R,{key:1,title:`Partage de fiche sanitaire`,type:`success`},{default:w(()=>[...u[0]||=[s(` L'accès à la fiche a bien été mis à jour. `,-1),c(`br`,null,null,-1),c(`small`,{class:`text-muted`},`Vous pouvez quitter cette page et actualiser votre espace de suivi pour y accéder.`,-1)]]),_:1})):d(``,!0)]),_:1})]),_:1})],64))}}),Y={};function X(t,n){return e(),l(u,{title:`CGU`})}var Z=I(Y,[[`render`,X]]),ne={};function re(t,n){return e(),l(u,{title:`Protection des données`,subtitle:`Notre Politique de Confidentialité`},{default:w(()=>[f(C,{class:`cgu`},{default:w(()=>[...n[0]||=[c(`div`,null,[s(` A partir du 25 mai 2018, le nouveau Règlement Général de Protection des Données (RGPD) s’applique à l’ensemble du territoire européen. Nous mesurons l’importance de respecter les données que vous nous confiez. L’association Repère a toujours veillé à ne pas vendre, louer, échanger ou acheter d’adresses. Les données personnelles que vous nous avez remises sont utilisées pour mettre en œuvre ses objectifs : «Créer et gérer des séjours pour enfants, adolescents et adultes. Partager les valeurs chrétiennes, à travers des animations adaptées à l’âge des participants.». `),c(`br`),s(` Vous pourrez découvrir ci-dessous la mise à jour des Règles de Protections de vos Données. ou vous désinscrire de nos envois par email. Nous vous invitons à découvrir ci-dessous la mise à jour des Règles de Protections de vos Données. Elles seront amenées à évoluer en fonction des futures précisions légales et des cas de jurisprudence. `)],-1),c(`div`,{class:`text-grey font-weight-bold my-4`},` 1. Informations générales `,-1),c(`div`,null,[s(` Vos données à caractères personnelles sont collectées par : Association Repère Chemin des Trois-Rois 5, 1005 Lausanne, Suisse `),c(`br`),s(` Votre référent concernant la protection des données : webmaster@lerepere.ch `)],-1),c(`div`,{class:`text-grey font-weight-bold my-4`},` 2. Collecte des données personnelles `,-1),c(`div`,null,[s(` Les données à caractère personnel en notre possession ont été collectées : `),c(`ul`,null,[c(`li`,null,` Via les utilisateurs eux-mêmes (donateurs, personnes intéressées, participants à nos activités, membres de l’association…) et, dans ce cas des adresses emails `)]),c(`br`),s(` Aucune donnée personnelle n’a été collectée par l’intermédiaire d’un tiers (loueur de fichier, broker, prestataire, etc.). `),c(`br`),c(`br`),s(` L’association Repère collecte des données personnelles pour les principales catégories de destinataires suivantes : `),c(`ul`,null,[c(`li`,null,`membres bénévoles`),c(`li`,null,`intervenants`),c(`li`,null,`participants aux activités`),c(`li`,null,`donateurs`)]),c(`br`),s(` Les principales données collectées sont : `),c(`ul`,null,[c(`li`,null,` vos moyens de contact : adresses postales et emails, numéros de téléphone `),c(`li`,null,` votre composition familiale : prénoms et date de naissance des membres d’une famille `)])],-1),c(`div`,{class:`text-grey font-weight-bold my-4`},` 3. Finalité de collecte des données `,-1),c(`div`,null,[s(` L’association Repère collecte vos données personnelles dans les cas suivants : `),c(`ul`,null,[c(`li`,null,`une inscription à l’un de nos séjours,`),c(`li`,null,`une demande pour être informé de nos actions,`),c(`li`,null,`une participation à une de nos activités,`),c(`li`,null,`une démarche qui nécessite un suivi de notre part,`),c(`li`,null,`un don pour soutenir nos activités.`)]),c(`br`),s(` La finalité de cette collecte est de nous permettre de : `),c(`ul`,null,[c(`li`,null,`vous informer de manière ciblée de nos activités,`),c(`li`,null,`vous envoyer le catalogue de l’association,`),c(`li`,null,` vous sensibiliser à notre mission et faire appel à votre générosité, `),c(`li`,null,`vous permettre de sensibiliser vos réseaux à notre mission,`),c(`li`,null,` vous envoyer des sondages et questionnaires pour nous aider à mieux accomplir notre mission faire le suivi de vos dons (dont les reçus fiscaux), `),c(`li`,null,`vous rendre compte des activités accomplies grâce à vos dons.`)]),c(`br`),s(` L’association Repère s’engage à traiter vos données à caractère personnel de manière licite, loyale et transparente, conformément à l’esprit du règlement européen 2016/679, article 5. Seules les données nécessaires aux finalités ci-dessus sont collectées. Si vous ne pensez pas relever des cas cités ci-dessus, merci de nous l’indiquer pour que nous puissions améliorer la qualité de nos services. Pour rappel, l’Association Repère: `),c(`ul`,null,[c(`li`,null,`n’achète pas d’adresses emails ou postales`),c(`li`,null,` ne loue ni n’échange les adresses et les données vous concernant `),c(`li`,null,`ne prête ni ne divulgue vos adresses à ses partenaires`),c(`li`,null,` n’achète aucune information complémentaire disponible légalement à la vente auprès de tiers et qui lui permettrait d’effectuer des profilages sans votre consentement. `)]),c(`br`),s(` L’accès à vos données personnelles n’est possible que pour les salariés et bénévoles de l’Association Repère en charge de vos dossiers ou demandes. Du fait de son activité dans un contexte religieux, l’association Repère peut être amenée à collecter des informations concernant l’adhésion ou la responsabilité religieuse de certains de ses contacts. Ces données sont collectées avec le consentement des intéressés et sont nécessaires à la finalité du traitement`),c(`sup`,null,`1`),s(`. `)],-1),c(`div`,{class:`text-grey font-weight-bold my-4`},` 4. Règles de consentement `,-1),c(`div`,null,[s(` Le consentement est au cœur de la relation entre l’Association Repère et ses donateurs et ses contacts. Le respect des données que vous nous confiez est notre responsabilité et nous souhaitons le faire au mieux de vos attentes et dans l’application des directives décrites dans l’article 7 du RGPD. Si vous faites une demande pour être tenu informé de nos activités, vous consentez à ce que nous utilisions vos données personnelles pour : `),c(`ul`,null,[c(`li`,null,`vous informer des activités de l’association,`),c(`li`,null,` vous avertir des besoins ou actions qui nécessitent votre soutien, `),c(`li`,null,`vous sensibiliser à notre mission auprès des familles.`)]),c(`br`),s(` Ces règles s’appliquent aux personnes ayant fait un don et/ou ayant interagi avec l’Association Repère avant le 25 Mai 2018. Vous pouvez, à tout moment et sur simple demande`),c(`sup`,null,`2`),s(`, modifier les critères de votre consentement : `),c(`ul`,null,[c(`li`,null,`ne plus recevoir la newsletter`),c(`li`,null,`ne plus recevoir les catalogues papier`),c(`li`,null,`ne plus recevoir de sollicitations de don`),c(`li`,null,`ne plus rien recevoir.`)])],-1),c(`div`,{class:`text-grey font-weight-bold my-4`},` 5. Accès à vos données personnelles `,-1),c(`div`,null,[s(` Vous pouvez demander`),c(`sup`,null,`3`),s(` à l’Association Repère l’accès aux données personnelles`),c(`sup`,null,`4`),s(` vous concernant soit : `),c(`ul`,null,[c(`li`,null,`pour vous en informer,`),c(`li`,null,`pour rectifier des informations inexactes,`),c(`li`,null,`pour en demander l’effacement (droit à l’oubli),`),c(`li`,null,`pour en limiter les usages`)]),c(`br`),s(` Toute demande : `),c(`ul`,null,[c(`li`,null,` fera l’objet d’un contrôle préalable d’identité par vérifications d’informations de nos opérateurs. `),c(`li`,null,` sera traitée dans la mesure de nos capacités et dans les meilleurs délais, sous un mois par défaut. Si cela n’est pas possible, nous vous en informerons et veillerons à le faire sous deux mois. Quel que soit le traitement, vous serez tenus informés de sa bonne réalisation. `),c(`li`,null,` infondée ou excessive sera refusée et pourra faire l’objet d’un signalement auprès de la CNIL, l’instance de régulation de RGPD. `)]),c(`br`),s(` Dans le cas d’une demande de tiers, seules sont recevables les demandes provenant d’un tiers ayant une responsabilité légale prouvée (ex. curatelle, parents d’enfants mineurs, …). `)],-1),c(`div`,{class:`text-grey font-weight-bold my-4`},` 6. Durée et limites de conservation `,-1),c(`div`,null,` Dans le prolongement des recommandations de la CNIL, l’Association Repère conserve par défaut vos données 10 ans après votre dernière activité (don, engagement, interaction, demande de votre part). Sans interaction de votre part, l’intégrité vos données n’est pas garantie au-delà de 10 ans. Si vos données personnelles s’avèrent nécessaires à l’accomplissement de notre mission ou des responsabilités légales qui nous incombent, elles peuvent être conservées au-delà de cette durée. Le motif en est alors indiqué dans le registre des fichiers afférents. `,-1),c(`div`,{class:`text-grey font-weight-bold my-4`},` 7. Sous-traitance et échange des données `,-1),c(`div`,null,` Notre base de données fait l’objet d’un support externalisé avec un prestataire dédié. Celui-ci respecte par contrat la confidentialité des données qu’il serait amené à consulter. `,-1),c(`div`,{class:`text-grey font-weight-bold my-4`},` 8. Registre de traitements `,-1),c(`div`,null,[s(` Un registre des activités de traitements est tenu par le référent à la protection des données de l’Association Repère. Ce registre recense l’ensemble des fichiers de données personnelles tenues par l’Association Repère, qu’ils soient informatisés ou non. Le registre détaille : `),c(`ul`,null,[c(`li`,null,` la finalité de traitement et, au cas échéant, ses sous-finalités, `),c(`li`,null,`les catégories de personnes concernées,`),c(`li`,null,`la nature des données personnelles collectées et conservées,`),c(`li`,null,`le besoin auxquelles répondent ces données,`),c(`li`,null,`leur durée de conservation.`)])],-1),c(`div`,{class:`text-grey font-weight-bold my-4`},`9. Procédure d’alerte`,-1),c(`div`,null,` Nous avons l’obligation de vous informer de certains types de violations de données personnelles. En cas de compromission de vos données personnelles incombant à l’Association Repère, nous vous contacterons dans les meilleurs délais pour vous informer des mesures que nous avons prises. Si cette compromission est de votre fait, vous devez de même nous avertir rapidement pour que nous puissions agir en conséquence. `,-1),c(`hr`,{class:`my-4`},null,-1),c(`div`,null,[c(`ol`,{style:{"margin-left":`24px`,"font-size":`smaller`},class:`font-italic`},[c(`li`,null,` le traitement est effectué, dans le cadre de leurs activités légitimes et moyennant les garanties appropriées, par une fondation, une association ou tout autre organisme à but non lucratif et poursuivant une finalité politique, philosophique, religieuse ou syndicale, à condition que ledit traitement se rapporte exclusivement aux membres ou aux anciens membres dudit organisme ou aux personnes entretenant avec celui-ci des contacts réguliers en liaison avec ses finalités et que les données à caractère personnel ne soient pas communiquées en dehors de cet organisme sans le consentement des personnes concernées; `),c(`li`,null,`Article 7.3`),c(`li`,null,` Article 12.5b : « Lorsque les demandes d’une personne concernée sont manifestement infondées ou excessives, notamment en raison de leur caractère répétitif, le responsable du traitement peut exiger le paiement de frais raisonnables qui tiennent compte des coûts administratifs supportés pour fournir les informations, procéder aux communications ou prendre les mesures demandées ; refuser de donner suite à ces demandes. » `),c(`li`,null,` Article 4.5 : « le traitement de données à caractère personnel de telle façon que celles-ci ne puissent plus être attribuées à une personne concernée précise sans avoir recours à des informations supplémentaires, pour autant que ces informations supplémentaires soient conservées séparément et soumises à des mesures techniques et organisationnelles afin de garantir que les données à caractère personnel ne sont pas attribuées à une personne physique identifiée ou identifiable. » `)])],-1)]]),_:1})]),_:1})}var ie=I(ne,[[`render`,re],[`__scopeId`,`data-v-e699b52e`]]),ae=[{path:`/`,component:K},{path:`/services`,component:J},{path:`/cgu`,component:N({__name:`cgu`,setup(n){let r=`repere`;return(n,a)=>(e(),i(t,null,[f(U,{title:`Mentions légales`}),f(_,{class:`fill-height`},{default:w(()=>[j(r)==`acve`?(e(),l(Z,{key:0})):j(r)==`repere`?(e(),l(ie,{key:1})):d(``,!0)]),_:1})],64))}})}],Q=F({history:P(`/`),routes:ae});Q.onError((e,t)=>{e?.message?.includes?.(`Failed to fetch dynamically imported module`)?localStorage.getItem(`vuetify:dynamic-reload`)?console.error(`Dynamic import error, reloading page did not fix it`,e):(console.log(`Reloading page to fix dynamic import error`),localStorage.setItem(`vuetify:dynamic-reload`,`true`),location.assign(t.fullPath)):console.error(e)}),Q.isReady().then(()=>{localStorage.removeItem(`vuetify:dynamic-reload`)});var $=h(H);$.use(ee).use(Q),$.mount(`#app`);