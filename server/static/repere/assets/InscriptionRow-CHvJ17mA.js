import{$ as e,$i as t,$n as n,Ai as r,B as i,Bt as a,Ca as o,Dt as s,Et as c,F as l,Fi as u,Fn as d,Gi as f,Gt as p,Hr as m,I as h,In as g,J as ee,Ji as te,Jn as _,Jt as ne,Kn as v,Kt as y,L as re,Li as b,Lr as ie,Lt as x,M as S,Mi as C,N as w,Ni as T,Nt as ae,O as E,On as D,Ot as oe,P as O,Pi as k,Q as A,Qn as se,R as ce,Ri as j,Rr as M,Sa as le,Sr as ue,St as de,T as fe,Ta as N,Tr as P,U as F,Ui as I,Ur as pe,Ut as L,V as me,Vn as he,Wi as R,Wn as ge,Wr as _e,Yn as ve,Yr as ye,Z as be,Zi as xe,_ as Se,_i as Ce,_t as z,aa as we,ar as Te,b as Ee,bi as De,bt as Oe,ca as ke,d as Ae,da as je,di as Me,dr as Ne,en as Pe,f as Fe,fi as Ie,fr as Le,g as Re,ga as B,gi as ze,hr as Be,ia as Ve,ji as V,k as H,kn as He,kt as Ue,la as U,ln as We,ma as W,na as Ge,nn as Ke,nr as qe,nt as Je,or as Ye,pa as Xe,pr as Ze,qn as Qe,qr as $e,rt as G,sa as K,sn as et,ta as tt,tr as nt,u as rt,ui as it,ur as at,va as ot,vr as st,vt as ct,w as lt,wa as ut,wi as dt,wr as ft,xa as q,xr as pt,xt as mt,yt as ht,z as J,zi as Y,zn as gt,zt as _t}from"./VSnackbar-LvWtNdJy.js";import{S as vt,_ as yt,a as bt,d as xt,f as St,g as Ct,i as wt,m as Tt,n as Et,o as Dt,p as Ot,r as kt,s as X,t as At,v as Z,x as Q}from"./VSelect-Bx_vVmV1.js";import{t as jt}from"./VBadge-DXxfq13U.js";import{t as Mt}from"./VDialog-BCp13ton.js";import{t as Nt}from"./VTooltip-C1Jcx6l0.js";import{n as Pt,r as Ft,t as It}from"./filter-C7I09mZD.js";import{t as Lt}from"./VTextarea-Dhn7CSAE.js";import{a as Rt}from"./VTabs-BiDtev8R.js";import{t as zt}from"./VAlert-CBLxfJ74.js";import{t as Bt}from"./VForm-BJ4UCAvF.js";const Vt=new class extends D{constructor(e,t,n,r,i){super(r,i),this.onError=e,this.showMessage=t,this.isFondsSoutien=n}hasToken(){return this.authToken!=``}setToken(e,t){this.authToken=e,this.isFondsSoutien=t}handleError(e){let{kind:t,messageHtml:n}=Ke(e);this.onError(t,n)}startRequest(){}}((e,t)=>{},(e,t)=>{},!1,y(),``);function Ht(e){return e.Camp.Statut!=ge.Ferme&&!e.IsTerminated}function Ut(){return{Pattern:``,IdCamp:{Valid:!1,Id:0},Attente:gt.EmptyQA,Reglement:he.EmptyQR,SortByNewMessages:!1,OnlyFondSoutien:!1}}function Wt(e){let t=Ut();return t.Pattern=`id:${e}`,t}let Gt;(function(e){function t(){return window.localStorage.getItem(`cachedTokenBackoffice`)||``}e.get=t;function n(e){window.localStorage.setItem(`cachedTokenBackoffice`,e)}e.set=n;function r(){window.localStorage.removeItem(`cachedTokenBackoffice`)}e.clear=r})(Gt||={});function Kt(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e,i=B(!1),a=B(0),o=V(()=>{let e=typeof i.value==`boolean`?`top`:i.value;return[n.value?{top:`auto`,bottom:`auto`,height:void 0}:void 0,i.value?{[e]:_e(a.value)}:{top:r.value.top}]});xe(()=>{K(n,e=>{e?window.addEventListener(`scroll`,c,{passive:!0}):window.removeEventListener(`scroll`,c)},{immediate:!0})}),te(()=>{window.removeEventListener(`scroll`,c)});let s=0;function c(){let e=s>window.scrollY?`up`:`down`,n=t.value.getBoundingClientRect(),o=parseFloat(r.value.top??0),c=window.scrollY-Math.max(0,a.value-o),l=n.height+Math.max(a.value,o)-window.scrollY-window.innerHeight,u=parseFloat(getComputedStyle(t.value).getPropertyValue(`--v-body-scroll-y`))||0;n.height<window.innerHeight-o?(i.value=`top`,a.value=o):e===`up`&&i.value===`bottom`||e===`down`&&i.value===`top`?(a.value=window.scrollY+n.top-u,i.value=!0):e===`down`&&l<=0?(a.value=0,i.value=`bottom`):e===`up`&&c<=0&&(u?i.value!==`top`&&(a.value=-c+u+o,i.value=`top`):(a.value=n.top+c,i.value=`top`)),s=window.scrollY}return{isStuck:i,stickyStyles:o}}var qt=100,Jt=20;function Yt(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function Xt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;let r=Yt(t),i=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(i-r)*Math.abs(i),n===e.length-1&&(t*=.5)}return Yt(t)*1e3}function Zt(){let e={};function t(t){Array.from(t.changedTouches).forEach(n=>{(e[n.identifier]??(e[n.identifier]=new M(Jt))).push([t.timeStamp,n])})}function n(t){Array.from(t.changedTouches).forEach(t=>{delete e[t.identifier]})}function r(t){let n=e[t]?.values().reverse();if(!n)throw Error(`No samples for touch id ${t}`);let r=n[0],i=[],a=[];for(let e of n){if(r[0]-e[0]>qt)break;i.push({t:e[0],d:e[1].clientX}),a.push({t:e[0],d:e[1].clientY})}return{x:Xt(i),y:Xt(a),get direction(){let{x:e,y:t}=this,[n,r]=[Math.abs(e),Math.abs(t)];return n>r&&e>=0?`right`:n>r&&e<=0?`left`:r>n&&t>=0?`down`:r>n&&t<=0?`up`:Qt()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function Qt(){throw Error()}function $t(e){let{el:t,isActive:n,isTemporary:r,width:i,touchless:a,position:o}=e;xe(()=>{window.addEventListener(`touchstart`,_,{passive:!0}),window.addEventListener(`touchmove`,ne,{passive:!1}),window.addEventListener(`touchend`,v,{passive:!0})}),te(()=>{window.removeEventListener(`touchstart`,_),window.removeEventListener(`touchmove`,ne),window.removeEventListener(`touchend`,v)});let s=V(()=>[`left`,`right`].includes(o.value)),{addMovement:c,endTouch:l,getVelocity:u}=Zt(),d=!1,f=B(!1),p=B(0),m=B(0),h;function g(e,t){return(o.value===`left`?e:o.value===`right`?document.documentElement.clientWidth-e:o.value===`top`?e:o.value===`bottom`?document.documentElement.clientHeight-e:en())-(t?i.value:0)}function ee(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=o.value===`left`?(e-m.value)/i.value:o.value===`right`?(document.documentElement.clientWidth-e-m.value)/i.value:o.value===`top`?(e-m.value)/i.value:o.value===`bottom`?(document.documentElement.clientHeight-e-m.value)/i.value:en();return t?pe(n):n}function _(e){if(a.value)return;let t=e.changedTouches[0].clientX,u=e.changedTouches[0].clientY,f=o.value===`left`?t<25:o.value===`right`?t>document.documentElement.clientWidth-25:o.value===`top`?u<25:o.value===`bottom`?u>document.documentElement.clientHeight-25:en(),te=n.value&&(o.value===`left`?t<i.value:o.value===`right`?t>document.documentElement.clientWidth-i.value:o.value===`top`?u<i.value:o.value===`bottom`?u>document.documentElement.clientHeight-i.value:en());(f||te||n.value&&r.value)&&(h=[t,u],m.value=g(s.value?t:u,n.value),p.value=ee(s.value?t:u),d=m.value>-20&&m.value<80,l(e),c(e))}function ne(e){let t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;if(d){if(!e.cancelable){d=!1;return}let r=Math.abs(t-h[0]),i=Math.abs(n-h[1]);(s.value?r>i&&r>3:i>r&&i>3)?(f.value=!0,d=!1):(s.value?i:r)>3&&(d=!1)}if(!f.value)return;e.preventDefault(),c(e);let r=ee(s.value?t:n,!1);p.value=Math.max(0,Math.min(1,r)),r>1?m.value=g(s.value?t:n,!0):r<0&&(m.value=g(s.value?t:n,!1))}function v(e){if(d=!1,!f.value)return;c(e),f.value=!1;let t=u(e.changedTouches[0].identifier),r=Math.abs(t.x),i=Math.abs(t.y);(s.value?r>i&&r>400:i>r&&i>3)?n.value=t.direction===({left:`right`,right:`left`,top:`down`,bottom:`up`}[o.value]||en()):n.value=p.value>.5}let y=V(()=>f.value?{transform:o.value===`left`?`translateX(calc(-100% + ${p.value*i.value}px))`:o.value===`right`?`translateX(calc(100% - ${p.value*i.value}px))`:o.value===`top`?`translateY(calc(-100% + ${p.value*i.value}px))`:o.value===`bottom`?`translateY(calc(100% - ${p.value*i.value}px))`:en(),transition:`none`}:void 0);return Ze(f,()=>{let e=t.value?.style.transform??null,n=t.value?.style.transition??null;ke(()=>{t.value?.style.setProperty(`transform`,y.value?.transform||`none`),t.value?.style.setProperty(`transition`,y.value?.transition||null)}),je(()=>{t.value?.style.setProperty(`transform`,e),t.value?.style.setProperty(`transition`,n)})}),{isDragging:f,dragProgress:p,dragStyles:y}}function en(){throw Error()}var tn=[`start`,`end`,`left`,`right`,`top`,`bottom`];const nn=P({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:`start`,validator:e=>tn.includes(e)},sticky:Boolean,...Oe(),...ft(),...h(),...Te({mobile:null}),...ct(),...se(),...c(),...Ie(O(),[`disableInitialFocus`]),..._t({tag:`nav`}),...nt()},`VNavigationDrawer`),rn=pt()({name:`VNavigationDrawer`,props:nn(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:i,emit:a,slots:o}=t,{isRtl:c}=Ne(),{themeClasses:u}=qe(e),{borderClasses:d}=mt(e),{backgroundColorClasses:p,backgroundColorStyles:m}=oe(()=>e.color),{elevationClasses:h}=ht(e),{displayClasses:g,mobile:te}=Ye(e),{roundedClasses:_}=s(e),ne=ee(),v=Le(e,`modelValue`,null,e=>!!e),{ssrBootStyles:y}=z(),{scopeId:b}=w(),x=W(),S=B(!1),{runOpenDelay:T,runCloseDelay:E}=re(e,e=>{S.value=e}),D=V(()=>e.rail&&e.expandOnHover&&S.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),O=V(()=>ie(e.location,c.value)),k=ot(()=>e.persistent),A=V(()=>!e.permanent&&(te.value||e.temporary)),se=V(()=>e.sticky&&!A.value&&O.value!==`bottom`);l(e,{isActive:v,localTop:A,contentEl:x}),Ze(()=>e.expandOnHover&&e.rail!=null,()=>{K(S,e=>a(`update:rail`,!e))}),Ze(()=>!e.disableResizeWatcher,()=>{K(A,t=>!e.permanent&&f(()=>v.value=!t))}),Ze(()=>!e.disableRouteWatcher&&!!ne,()=>{K(ne.currentRoute,()=>A.value&&(v.value=!1))}),K(()=>e.permanent,e=>{e&&(v.value=!0)}),e.modelValue==null&&!A.value&&(v.value=e.permanent||!te.value);let{isDragging:ce,dragProgress:M}=$t({el:x,isActive:v,isTemporary:A,width:D,touchless:ot(()=>e.touchless),position:O}),le=V(()=>{let t=A.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):D.value;return ce.value?t*M.value:t}),{layoutItemStyles:fe,layoutItemScrimStyles:N}=n({id:e.name,order:V(()=>parseInt(e.order,10)),position:O,layoutSize:le,elementSize:D,active:Xe(v),disableTransitions:ot(()=>ce.value),absolute:V(()=>e.absolute||se.value&&typeof P.value!=`string`)}),{isStuck:P,stickyStyles:F}=Kt({rootEl:x,isSticky:se,layoutItemStyles:fe}),I=oe(()=>typeof e.scrim==`string`?e.scrim:null),pe=V(()=>({...ce.value?{opacity:M.value*.2,transition:`none`}:void 0,...N.value}));return ue({VList:{bgColor:`transparent`}}),Be(()=>{let t=o.image||e.image;return C(r,null,[j(e.tag,R({ref:x,onMouseenter:T,onMouseleave:E,class:[`v-navigation-drawer`,`v-navigation-drawer--${O.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":S.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":A.value,"v-navigation-drawer--persistent":k.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":se.value},u.value,p.value,d.value,g.value,h.value,_.value,e.class],style:[m.value,fe.value,y.value,F.value,e.style],inert:!v.value},b,i),{default:()=>[t&&C(`div`,{key:`image`,class:`v-navigation-drawer__img`},[o.image?j(ae,{key:`image-defaults`,disabled:!e.image,defaults:{VImg:{alt:``,cover:!0,height:`inherit`,src:e.image}}},o.image):j(de,{key:`image-img`,alt:``,cover:!0,height:`inherit`,src:e.image},null)]),o.prepend&&C(`div`,{class:`v-navigation-drawer__prepend`},[o.prepend?.()]),C(`div`,{class:`v-navigation-drawer__content`},[o.default?.()]),o.append&&C(`div`,{class:`v-navigation-drawer__append`},[o.append?.()])]}),j(dt,{name:`fade-transition`},{default:()=>[A.value&&(ce.value||v.value)&&!!e.scrim&&C(`div`,R({class:[`v-navigation-drawer__scrim`,I.backgroundColorClasses.value],style:[pe.value,I.backgroundColorStyles.value],onClick:()=>{k.value||(v.value=!1)}},b),null)]})])}),{isStuck:P}}}),an=P({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Se(),...Ot()},`VSwitch`),on=pt()({name:`VSwitch`,inheritAttrs:!1,props:an(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:i}=t,a=Le(e,`indeterminate`),o=Le(e,`modelValue`),{loaderClasses:s}=A(e),{isFocused:c,focus:l,blur:u}=lt(e),d=W(),f=W(),p=De&&window.matchMedia(`(forced-colors: active)`).matches,m=ot(()=>typeof e.loading==`string`&&e.loading!==``?e.loading:e.color),h=Ve(),g=ot(()=>e.id||`switch-${h}`);function ee(){a.value&&=!1}function te(e){e.stopPropagation(),e.preventDefault(),d.value?.input?.click()}return Be(()=>{let[t,h]=ye(n),_=Re.filterProps(e),ne=St.filterProps(e);return j(Re,R({ref:f,class:[`v-switch`,{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":a.value},s.value,e.class]},t,_,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,id:g.value,focused:c.value,style:e.style}),{...i,default:t=>{let{id:n,messagesId:s,isDisabled:c,isReadonly:f,isValid:g}=t,_={model:o,isValid:g};return j(St,R({ref:d},ne,{modelValue:o.value,"onUpdate:modelValue":[e=>o.value=e,ee],id:n.value,"aria-describedby":s.value,type:`checkbox`,"aria-checked":a.value?`mixed`:void 0,disabled:c.value,readonly:f.value,onFocus:l,onBlur:u},h),{...i,default:e=>{let{backgroundColorClasses:t,backgroundColorStyles:n}=e;return C(`div`,{class:le([`v-switch__track`,p?void 0:t.value]),style:ut(n.value),onClick:te},[i[`track-true`]&&C(`div`,{key:`prepend`,class:`v-switch__track-true`},[i[`track-true`](_)]),i[`track-false`]&&C(`div`,{key:`append`,class:`v-switch__track-false`},[i[`track-false`](_)])])},input:t=>{let{inputNode:n,icon:a,backgroundColorClasses:o,backgroundColorStyles:s}=t;return C(r,null,[n,C(`div`,{class:le([`v-switch__thumb`,{"v-switch__thumb--filled":a||e.loading},e.inset||p?void 0:o.value]),style:ut(e.inset?void 0:s.value)},[i.thumb?j(ae,{defaults:{VIcon:{icon:a,size:`x-small`}}},{default:()=>[i.thumb({..._,icon:a})]}):j(x,null,{default:()=>[e.loading?j(be,{name:`v-switch`,active:!0,color:g.value===!1?void 0:m.value},{default:e=>i.loader?i.loader(e):j(Je,{active:e.isActive,color:e.color,indeterminate:!0,size:`16`,width:`2`},null)}):a&&j(G,{key:String(a),icon:a,size:`x-small`},null)]})])])}})}})}),Fe({},f)}}),sn=P({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Pt({filterKeys:[`title`]}),...Et(),...Ie(Ae({modelValue:null,role:`combobox`}),[`validationValue`,`dirty`])},`VAutocomplete`),cn=pt()({name:`VAutocomplete`,props:sn(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t,{t:i}=at(),a=W(),o=B(!1),s=B(!0),c=B(!1),l=W(),u=W(),d=B(-1),p=B(null),{items:h,transformIn:g,transformOut:ee}=Ct(e),{textColorClasses:te,textColorStyles:_}=Ue(()=>a.value?.color),{InputIcon:ne}=fe(e),v=Le(e,`search`,``),y=Le(e,`modelValue`,[],e=>g(e===null?[null]:ze(e)),t=>{let n=ee(t);return e.multiple?n:n[0]??null}),re=V(()=>typeof e.counterValue==`function`?e.counterValue(y.value):typeof e.counterValue==`number`?e.counterValue:y.value.length),ie=Ee(e),{filteredItems:x,getMatches:S}=Ft(e,h,()=>p.value??(s.value?``:v.value)),w=V(()=>e.hideSelected&&p.value===null?x.value.filter(e=>!y.value.some(t=>t.value===e.value)):x.value),T=ot(()=>e.closableChips&&!ie.isReadonly.value&&!ie.isDisabled.value),E=V(()=>!!(e.chips||n.chip)),D=V(()=>E.value||!!n.selection),oe=V(()=>y.value.map(e=>e.props.value)),O=V(()=>w.value.find(e=>e.type===`item`&&!e.props.disabled)),k=V(()=>(e.autoSelectFirst===!0||e.autoSelectFirst===`exact`&&v.value===O.value?.title)&&w.value.length>0&&!s.value&&!c.value),A=V(()=>e.hideNoData&&!w.value.length||ie.isReadonly.value||ie.isDisabled.value),se=Le(e,`menu`),M=V({get:()=>se.value,set:e=>{se.value&&!e&&l.value?.ΨopenChildren.size||e&&A.value||(se.value=e)}}),{menuId:ue,ariaExpanded:de,ariaControls:N}=kt(e,M),P=W(),F=wt(P,a);function I(t){e.openOnClear&&(M.value=!0),v.value=``}function pe(){A.value||(M.value=!0)}function L(e){A.value||(o.value&&(e.preventDefault(),e.stopPropagation()),M.value=!M.value)}function me(e){(m(e)||e.key===`Backspace`)&&a.value?.focus()}function he(t){if(ie.isReadonly.value)return;let n=a.value?.selectionStart,r=y.value.length;if([`Enter`,`ArrowDown`,`ArrowUp`].includes(t.key)&&t.preventDefault(),[`Enter`,`ArrowDown`].includes(t.key)&&(M.value=!0),[`Escape`].includes(t.key)&&(M.value=!1),k.value&&[`Enter`,`Tab`].includes(t.key)&&O.value&&!y.value.some(e=>{let{value:t}=e;return t===O.value.value})&&z(O.value),t.key===`ArrowDown`&&k.value&&P.value?.focus(`next`),[`Backspace`,`Delete`].includes(t.key)){if(!e.multiple&&D.value&&y.value.length>0&&!v.value)return z(y.value[0],!1);if(~d.value){t.preventDefault();let e=d.value;z(y.value[d.value],!1),d.value=e>=r-1?r-2:e}else t.key===`Backspace`&&!v.value&&(d.value=r-1);return}if(e.multiple)if(t.key===`ArrowLeft`){if(d.value<0&&n&&n>0)return;let e=d.value>-1?d.value-1:r-1;if(y.value[e])d.value=e;else{let e=v.value?.length??null;d.value=-1,a.value?.setSelectionRange(e,e)}}else if(t.key===`ArrowRight`){if(d.value<0)return;let e=d.value+1;y.value[e]?d.value=e:(d.value=-1,a.value?.setSelectionRange(0,0))}else ~d.value&&m(t)&&(d.value=-1)}function ge(e){if(it(a.value,`:autofill`)||it(a.value,`:-webkit-autofill`)){let t=h.value.find(t=>t.title===e.target.value);t&&z(t)}}function _e(){e.eager&&u.value?.calculateVisibleItems()}function ve(){o.value&&(s.value=!0,a.value?.focus()),p.value=null}function ye(e){o.value=!0,setTimeout(()=>{c.value=!0})}function be(e){c.value=!1}function xe(t){(t==null||t===``&&!e.multiple&&!D.value)&&(y.value=[])}let Se=B(!1);function z(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!t||t.props.disabled))if(e.multiple){let r=y.value.findIndex(n=>(e.valueComparator||st)(n.value,t.value)),i=n??!~r;if(~r){let e=i?[...y.value,t]:[...y.value];e.splice(r,1),y.value=e}else i&&(y.value=[...y.value,t]);e.clearOnSelect&&(v.value=``)}else{let e=n!==!1;y.value=e?[t]:[],p.value=s.value?``:v.value??``,v.value=e&&!D.value?t.title:``,f(()=>{M.value=!1,s.value=!0})}}return K(o,(t,n)=>{t!==n&&(t?(Se.value=!0,v.value=e.multiple||D.value?``:String(y.value.at(-1)?.props.title??``),s.value=!0,f(()=>Se.value=!1)):(!e.multiple&&v.value==null&&(y.value=[]),M.value=!1,!s.value&&v.value&&(p.value=v.value),v.value=``,d.value=-1))}),K(v,e=>{!o.value||Se.value||(e&&(M.value=!0),s.value=!e)}),K(M,t=>{if(!e.hideSelected&&t&&y.value.length&&s.value){let e=w.value.findIndex(e=>y.value.some(t=>e.value===t.value));Ce&&window.requestAnimationFrame(()=>{e>=0&&u.value?.scrollToIndex(e)})}t&&(p.value=null)}),K(h,(e,t)=>{M.value||o.value&&!t.length&&e.length&&(M.value=!0)}),Be(()=>{let t=!!(!e.hideNoData||w.value.length||n[`prepend-item`]||n[`append-item`]||n[`no-data`]),c=y.value.length>0,f=rt.filterProps(e);return j(rt,R({ref:a},f,{modelValue:v.value,"onUpdate:modelValue":[e=>v.value=e,xe],focused:o.value,"onUpdate:focused":e=>o.value=e,validationValue:y.externalValue,counterValue:re.value,dirty:c,onChange:ge,class:[`v-autocomplete`,`v-autocomplete--${e.multiple?`multiple`:`single`}`,{"v-autocomplete--active-menu":M.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!D.value,"v-autocomplete--selecting-index":d.value>-1},e.class],style:e.style,readonly:ie.isReadonly.value,placeholder:c?void 0:e.placeholder,"onClick:clear":I,"onMousedown:control":pe,onKeydown:he,"aria-expanded":de.value,"aria-controls":N.value}),{...n,default:a=>{let{id:o}=a;return C(r,null,[j(Dt,R({id:ue.value,ref:l,modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,activator:`parent`,contentClass:`v-autocomplete__content`,disabled:A.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:_e,onAfterLeave:ve},e.menuProps),{default:()=>[t&&j(Tt,R({ref:P,filterable:!0,selected:oe.value,selectStrategy:e.multiple?`independent`:`single-independent`,onMousedown:e=>e.preventDefault(),onKeydown:me,onFocusin:ye,onFocusout:be,tabindex:`-1`,selectable:!!w.value.length,"aria-live":`polite`,"aria-labelledby":`${o.value}-label`,"aria-multiselectable":e.multiple,color:e.itemColor??e.color},F,e.listProps),{default:()=>[n[`prepend-item`]?.(),!w.value.length&&!e.hideNoData&&(n[`no-data`]?.()??j(Z,{key:`no-data`,title:i(e.noDataText)},null)),j(bt,{ref:u,renderless:!0,items:w.value,itemKey:`value`},{default:t=>{let{item:i,index:a,itemRef:o}=t,c=R(i.props,{ref:o,key:i.value,active:k.value&&i===O.value?!0:void 0,onClick:()=>z(i,null),"aria-posinset":a+1,"aria-setsize":w.value.length});return i.type===`divider`?n.divider?.({props:i.raw,index:a})??j(vt,R(i.props,{key:`divider-${a}`}),null):i.type===`subheader`?n.subheader?.({props:i.raw,index:a})??j(yt,R(i.props,{key:`subheader-${a}`}),null):n.item?.({item:i,index:a,props:c})??j(Z,R(c,{role:`option`}),{prepend:t=>{let{isSelected:n}=t;return C(r,null,[e.multiple&&!e.hideSelected?j(xt,{key:i.value,modelValue:n,ripple:!1,tabindex:`-1`,"aria-hidden":!0,onClick:e=>e.preventDefault()},null):void 0,i.props.prependAvatar&&j(ce,{image:i.props.prependAvatar},null),i.props.prependIcon&&j(G,{icon:i.props.prependIcon},null)])},title:()=>s.value?i.title:It(`v-autocomplete`,i.title,S(i)?.title)})}}),n[`append-item`]?.()]})]}),y.value.map((t,r)=>{function i(e){e.stopPropagation(),e.preventDefault(),z(t,!1)}let a=R(X.filterProps(t.props),{"onClick:close":i,onKeydown(e){e.key!==`Enter`&&e.key!==` `||(e.preventDefault(),e.stopPropagation(),i(e))},onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),o=E.value?!!n.chip:!!n.selection,s=o?$e(E.value?n.chip({item:t,index:r,props:a}):n.selection({item:t,index:r})):void 0;if(!(o&&!s))return C(`div`,{key:t.value,class:le([`v-autocomplete__selection`,r===d.value&&[`v-autocomplete__selection--selected`,te.value]]),style:ut(r===d.value?_.value:{})},[E.value?n.chip?j(ae,{key:`chip-defaults`,defaults:{VChip:{closable:T.value,size:`small`,text:t.title}}},{default:()=>[s]}):j(X,R({key:`chip`,closable:T.value,size:`small`,text:t.title,disabled:t.props.disabled},a),null):s??C(`span`,{class:`v-autocomplete__selection-text`},[t.title,e.multiple&&r<y.value.length-1&&C(`span`,{class:`v-autocomplete__selection-comma`},[b(`,`)])])])})])},"append-inner":function(){var t=[...arguments];return C(r,null,[n[`append-inner`]?.(...t),e.menuIcon?j(G,{class:`v-autocomplete__menu-icon`,color:a.value?.fieldIconColor,icon:e.menuIcon,onMousedown:L,onClick:Me,"aria-hidden":!0,tabindex:`-1`},null):void 0,e.appendInnerIcon&&j(ne,{key:`append-icon`,name:`appendInner`,color:t[0].iconColor.value},null)])}})}),Fe({isFocused:o,isPristine:s,menu:M,search:v,filteredItems:x,select:z},a)}});var ln=300,un=Y({__name:`SelectPersonne`,props:I({label:{},initialPersonne:{},api:{},readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(e){let n=e,r=we(e,`modelValue`),i=W(r.value==0?[]:[{title:n.initialPersonne,value:r.value}]),a=W(``);async function o(){if(!a.value)return;let e=await n.api.SelectPersonne({search:a.value});e!==void 0&&(i.value=(e||[]).map(e=>({title:e.Label,value:e.Id})))}let s;function c(e){a.value=e||``,clearTimeout(s),s=setTimeout(o,ln)}return(e,o)=>(t(),T(cn,{label:n.label,variant:`outlined`,density:`compact`,readonly:n.readonly,"hide-details":``,items:i.value,"model-value":q(We)(r.value),"onUpdate:modelValue":o[0]||=e=>r.value=q(Pe)(e),search:a.value,"onUpdate:search":[o[1]||=e=>a.value=e,c],clearable:``,"no-data-text":a.value.length?`Aucun profil ne correspond à votre recherche.`:`Veuillez entrer une recherche.`},null,8,[`label`,`readonly`,`items`,`model-value`,`search`,`no-data-text`]))}}),dn=Y({__name:`RequestProgressCard`,props:{title:{},current:{},total:{}},setup(n){let r=n;return(n,i)=>(t(),T(E,{title:r.title},{default:U(()=>[j(H,null,{default:U(()=>[j(e,{max:r.total,"model-value":r.current,color:`primary`,height:`24`},{default:U(()=>[b(N(r.current)+` / `+N(r.total),1)]),_:1},8,[`max`,`model-value`])]),_:1})]),_:1},8,[`title`]))}}),$=Y({__name:`RatingBadge`,props:{label:{},value:{}},setup(e){let n=e,r=V(()=>Math.floor(n.value)==n.value?n.value.toString():n.value.toFixed(1)),a=V(()=>{let e=(n.value-1)/3;return`rgb(${200*(1-e)},${255*e},0)`});return(e,o)=>(t(),T(J,{"no-gutters":``},{default:U(()=>[j(i,{cols:`10`},{default:U(()=>[b(N(n.label),1)]),_:1}),j(i,{cols:`2`,"align-self":`center`},{default:U(()=>[n.value==0?k(``,!0):(t(),T(jt,{key:0,inline:``,content:r.value,color:a.value},null,8,[`content`,`color`]))]),_:1})]),_:1}))}}),fn=Y({__name:`CampSondagesV`,props:{sondages:{}},setup(e){let n=e;return(e,a)=>(t(),u(r,null,[n.sondages.Sondages?.length?(t(),T(E,{key:0,title:`Vue d'ensembe`,subtitle:`Moyenne des (${n.sondages.Sondages.length}) notes atttribuées (de 1 à 4)`,class:`mb-2`},{default:U(()=>[j(H,null,{default:U(()=>[j(J,null,{default:U(()=>[j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{readonly:``,label:`Informations avant le séjour`,value:n.sondages.Moyennes.InfosAvantSejour},null,8,[`value`])]),_:1}),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{readonly:``,label:`Informations pendant le séjour`,value:n.sondages.Moyennes.InfosPendantSejour},null,8,[`value`])]),_:1}),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{readonly:``,label:`L'hébergement`,value:n.sondages.Moyennes.Hebergement},null,8,[`value`])]),_:1})]),_:1}),j(J,null,{default:U(()=>[j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{readonly:``,label:`Les activités`,value:n.sondages.Moyennes.Activites},null,8,[`value`])]),_:1}),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{readonly:``,label:`Le thème`,value:n.sondages.Moyennes.Theme},null,8,[`value`])]),_:1}),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{readonly:``,label:`La nourriture`,value:n.sondages.Moyennes.Nourriture},null,8,[`value`])]),_:1})]),_:1}),j(J,null,{default:U(()=>[j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{readonly:``,label:`L'hygiène corporelle et vestimentaire`,value:n.sondages.Moyennes.Hygiene},null,8,[`value`])]),_:1}),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{readonly:``,label:`L'ambiance du groupe`,value:n.sondages.Moyennes.Ambiance},null,8,[`value`])]),_:1}),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{readonly:``,label:`Le ressenti global de votre enfant`,value:n.sondages.Moyennes.Ressenti},null,8,[`value`])]),_:1})]),_:1})]),_:1})]),_:1},8,[`subtitle`])):(t(),T(me,{key:1},{default:U(()=>[j(zt,{type:`info`},{default:U(()=>[...a[0]||=[b(` Aucun avis n'a encore été rempli. `,-1)]]),_:1})]),_:1})),(t(!0),u(r,null,tt(n.sondages.Sondages,(e,n)=>(t(),T(E,{title:`${e.ResponsableNom} - ${e.ResponsableMail}`,subtitle:(e.Participants||[]).join(`, `),class:`my-2`,key:n},{append:U(()=>[b(N(q(L).time(e.Sondage.Modified)),1)]),default:U(()=>[j(H,null,{default:U(()=>[j(J,null,{default:U(()=>[j(i,{cols:`7`},{default:U(()=>[j(J,null,{default:U(()=>[j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{label:`Informations avant le séjour`,value:e.Sondage.InfosAvantSejour},null,8,[`value`])]),_:2},1024),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{label:`Informations pendant le séjour`,value:e.Sondage.InfosPendantSejour},null,8,[`value`])]),_:2},1024),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{label:`L'hébergement`,value:e.Sondage.Hebergement},null,8,[`value`])]),_:2},1024)]),_:2},1024),j(J,null,{default:U(()=>[j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{label:`Les activités`,value:e.Sondage.Activites},null,8,[`value`])]),_:2},1024),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{label:`Le thème`,value:e.Sondage.Theme},null,8,[`value`])]),_:2},1024),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{label:`La nourriture`,value:e.Sondage.Nourriture},null,8,[`value`])]),_:2},1024)]),_:2},1024),j(J,null,{default:U(()=>[j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{label:`L'hygiène corporelle et vestimentaire`,value:e.Sondage.Hygiene},null,8,[`value`])]),_:2},1024),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{label:`L'ambiance du groupe`,value:e.Sondage.Ambiance},null,8,[`value`])]),_:2},1024),j(i,{cols:`12`,sm:`6`,md:`4`},{default:U(()=>[j($,{label:`Le ressenti global de votre enfant`,value:e.Sondage.Ressenti},null,8,[`value`])]),_:2},1024)]),_:2},1024)]),_:2},1024),j(i,{"align-self":`center`},{default:U(()=>[j(J,null,{default:U(()=>[j(i,{cols:`12`},{default:U(()=>[j(Lt,{density:`compact`,label:`Participant`,variant:`outlined`,"hide-details":``,value:e.Sondage.MessageEnfant,readonly:``,rows:`3`},null,8,[`value`])]),_:2},1024),j(i,{cols:`12`},{default:U(()=>[j(Lt,{density:`compact`,label:`Responsable`,variant:`outlined`,"hide-details":``,value:e.Sondage.MessageResponsable,readonly:``,rows:`3`},null,8,[`value`])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`title`,`subtitle`]))),128))],64))}}),pn=Y({__name:`ReglementsCard`,props:{data:{}},setup(e){let n=e;function i(e){return(n.data.Dossiers||{})[e.Participant.IdDossier]}let a=V(()=>(n.data.Participants||[]).filter(e=>i(e).Reglement==v.Complet).length);return(o,s)=>(t(),T(E,{title:`Suivi du règlement`,subtitle:`${a.value} / ${n.data.Participants?.length||0} complet`},{default:U(()=>[j(H,null,{default:U(()=>[j(Tt,null,{default:U(()=>[(t(!0),u(r,null,tt(e.data.Participants,e=>(t(),T(Z,{title:q(p).NOMPrenom(e.Personne),subtitle:i(e).Responsable},{append:U(()=>[j(X,{"prepend-icon":`mdi-currency-eur`,color:q(L).colorStatutPaiement(i(e).Reglement)},{default:U(()=>[b(N(q(Qe)[i(e).Reglement]),1)]),_:2},1032,[`color`])]),_:2},1032,[`title`,`subtitle`]))),256))]),_:1})]),_:1})]),_:1},8,[`subtitle`]))}}),mn=Y({__name:`SelectCamp`,props:I({label:{},camps:{},readonly:{type:Boolean},defaultStyle:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(e){let n=e,r=we(e,`modelValue`),i=W(!1),a=V(()=>n.camps.filter(e=>i.value?!0:!e.IsOld).map(e=>({title:e.Label,value:e.Id})));return(e,o)=>(t(),T(At,{density:n.defaultStyle?void 0:`compact`,variant:n.defaultStyle?void 0:`outlined`,label:n.label,readonly:n.readonly,items:a.value,clearable:``,"model-value":q(We)(r.value),"onUpdate:modelValue":o[1]||=e=>r.value=q(Pe)(e),"no-data-text":`Aucun séjour n'existe.`,"hide-details":``,autocomplete:`off`},{prepend:U(()=>[j(Nt,{text:i.value?`Masquer les séjours terminés`:`Afficher les séjours terminés`},{activator:U(({props:e})=>[j(F,R({size:`small`,variant:i.value?`tonal`:`flat`},e,{icon:`mdi-history`,onClick:o[0]||=e=>i.value=!i.value}),null,16,[`variant`])]),_:1},8,[`text`])]),_:1},8,[`density`,`variant`,`label`,`readonly`,`items`,`model-value`]))}}),hn=300,gn=Y({__name:`SelectDossier`,props:I({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(e){let n=e,r=we(e,`modelValue`),i=W([]);xe(o);function a(e){return{title:e.Responsable,subtitle:e.Participants,value:e.Id}}async function o(){let e=r.value;if(e==0)return;let t=await Vt.DossiersSearch(Wt(e));t!==void 0&&(i.value=(t.Dossiers||[]).map(a))}let s=W(``);async function c(){if(!s.value)return;let e=Ut();e.Pattern=s.value;let t=await Vt.DossiersSearch(e);t!==void 0&&(i.value=(t.Dossiers||[]).map(a))}let l;function u(e){s.value=e||``,clearTimeout(l),l=setTimeout(c,hn)}return(e,a)=>(t(),T(cn,{label:`Dossier`,variant:`outlined`,density:`compact`,readonly:n.readonly,"hide-details":``,items:i.value,"no-filter":``,"model-value":q(We)(r.value),"onUpdate:modelValue":a[0]||=e=>r.value=q(Pe)(e),search:s.value,"onUpdate:search":[a[1]||=e=>s.value=e,u],clearable:``,"no-data-text":s.value.length?`Aucun dossier ne correspond à votre recherche.`:`Veuillez entrer une recherche.`},{item:U(({item:e,props:t})=>[j(Z,R(t,{title:e.title,subtitle:e.raw.subtitle}),null,16,[`title`,`subtitle`])]),_:1},8,[`readonly`,`items`,`model-value`,`search`,`no-data-text`]))}}),_n=Y({__name:`StatutParticipantField`,props:I({hideDetails:{type:Boolean},readonly:{type:Boolean},rules:{},restrictItems:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(e){let n=e,r=we(e,`modelValue`),i=V(()=>et(ve).filter(e=>n.restrictItems===void 0||n.restrictItems.includes(e.value)).map(e=>({value:e.value,title:e.title,format:L.statutParticipant(e.value)})));return(e,a)=>(t(),T(At,{label:`Statut`,variant:`outlined`,density:`compact`,items:i.value,readonly:n.readonly,"hide-details":n.hideDetails,modelValue:r.value,"onUpdate:modelValue":a[0]||=e=>r.value=e,rules:n.rules},{item:U(({item:e,props:t})=>[j(Z,R(t,{title:e.title}),{prepend:U(()=>[j(G,{color:e.raw.format.color},{default:U(()=>[b(N(e.raw.format.icon),1)]),_:2},1032,[`color`])]),_:2},1040,[`title`])]),selection:U(({item:e})=>[j(Z,{title:e.title,density:`compact`},{prepend:U(()=>[j(G,{color:e.raw.format.color,size:`small`},{default:U(()=>[b(N(e.raw.format.icon),1)]),_:2},1032,[`color`])]),_:2},1032,[`title`])]),_:1},8,[`items`,`readonly`,`hide-details`,`modelValue`,`rules`]))}}),vn=Y({__name:`ParticipantEdit`,props:{participant:{},personne:{},api:{},hidePersonneDossier:{type:Boolean},readonlyStatut:{type:Boolean}},emits:[`save`],setup(e,{emit:n}){let r=e,a=n,o=W(ne(r.participant)),s=V(()=>!!(o.value.IdPersonne&&o.value.IdDossier));return(e,n)=>{let c=un,l=gn,u=Rt;return t(),T(E,{title:`Editer le participant`},{default:U(()=>[j(H,null,{default:U(()=>[j(Bt,null,{default:U(()=>[r.hidePersonneDossier?k(``,!0):(t(),T(J,{key:0},{default:U(()=>[j(i,null,{default:U(()=>[j(c,{label:`Personne`,modelValue:o.value.IdPersonne,"onUpdate:modelValue":n[0]||=e=>o.value.IdPersonne=e,"initial-personne":q(p).label(r.personne),api:r.api},null,8,[`modelValue`,`initial-personne`,`api`])]),_:1}),j(i,null,{default:U(()=>[j(l,{modelValue:o.value.IdDossier,"onUpdate:modelValue":n[1]||=e=>o.value.IdDossier=e},null,8,[`modelValue`])]),_:1})]),_:1})),j(J,null,{default:U(()=>[j(i,null,{default:U(()=>[j(_n,{modelValue:o.value.Statut,"onUpdate:modelValue":n[2]||=e=>o.value.Statut=e,"hide-details":``,readonly:r.readonlyStatut},null,8,[`modelValue`,`readonly`])]),_:1})]),_:1}),j(J,null,{default:U(()=>[j(i,null,{default:U(()=>[j(u,{modelValue:o.value.Navette,"onUpdate:modelValue":n[3]||=e=>o.value.Navette=e},null,8,[`modelValue`])]),_:1}),j(i,null,{default:U(()=>[j(rt,{modelValue:o.value.Commentaire,"onUpdate:modelValue":n[4]||=e=>o.value.Commentaire=e,label:`Commentaire`,density:`compact`,variant:`outlined`},null,8,[`modelValue`])]),_:1})]),_:1})]),_:1})]),_:1}),j(S,null,{default:U(()=>[j(Q),j(F,{disabled:!s.value,onClick:n[5]||=e=>a(`save`,o.value)},{default:U(()=>[...n[6]||=[b(`Enregistrer`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})}}}),yn=Y({__name:`ParticipantRow`,props:{participant:{},index:{}},setup(e){let n=e,r=V(()=>`mx-2 px-2 rounded `+(n.index%2==0?`bg-grey-lighten-4`:``));return(e,a)=>(t(),T(J,{"no-gutters":``,class:le(r.value)},{default:U(()=>[j(i,{"align-self":`center`,cols:`2`},{default:U(()=>[j(Z,{title:q(p).NOMPrenom(n.participant.Personne),class:`px-0`},{prepend:U(()=>[n.participant.Participant.Statut==q(_).Inscrit?k(``,!0):(t(),T(Nt,{key:0,text:q(ve)[n.participant.Participant.Statut]},{activator:U(({props:e})=>[j(G,R({color:q(L).statutParticipant(n.participant.Participant.Statut).color},e),{default:U(()=>[b(N(q(L).statutParticipant(n.participant.Participant.Statut).icon),1)]),_:1},16,[`color`])]),_:1},8,[`text`]))]),_:1},8,[`title`])]),_:1}),j(i,{"align-self":`center`,cols:`1`,class:`text-center`},{default:U(()=>[j(G,{class:`ma-2 mr-4`},{default:U(()=>[b(N(q(L).sexeIcon(n.participant.Personne.Sexe)),1)]),_:1})]),_:1}),j(i,{"align-self":`center`,cols:`1`},{default:U(()=>[j(J,{"no-gutters":``},{default:U(()=>[j(i,{"align-self":`end`,class:`text-center`},{default:U(()=>[b(N(q(L).dateNaissance(n.participant.Personne.DateNaissance)),1)]),_:1}),j(i,{"align-self":`end`,cols:`auto`},{default:U(()=>[n.participant.HasBirthday?(t(),T(Nt,{key:0,text:`${n.participant.Personne.Prenom} a son anniveraire pendant le séjour !`},{activator:U(({props:e})=>[j(G,R(e,{color:`pink`}),{default:U(()=>[...a[0]||=[b(`mdi-cake-variant`,-1)]]),_:1},16)]),_:1},8,[`text`])):k(``,!0)]),_:1})]),_:1})]),_:1}),j(i,{"align-self":`center`,cols:`1`,class:`text-center`},{default:U(()=>[b(N(n.participant.Age)+` ans `,1)]),_:1}),j(i,{"align-self":`center`,cols:`1`,class:`text-center`},{default:U(()=>[b(N(n.participant.Participant.Navette==q(d).NoBus?`-`:q(g)[n.participant.Participant.Navette]),1)]),_:1}),j(i,{"align-self":`center`,cols:`2`},{default:U(()=>[b(N(n.participant.Participant.Commentaire),1)]),_:1}),j(i,{cols:`2`,"align-self":`center`,class:`text-center`},{default:U(()=>[b(N(q(L).time(n.participant.MomentInscription)),1)]),_:1}),Ge(e.$slots,`append`),e.$slots.append===void 0?(t(),T(Q,{key:0})):k(``,!0),j(i,{"align-self":`center`,cols:`auto`},{default:U(()=>[j(Dt,null,{activator:U(({props:e})=>[j(F,R(e,{icon:`mdi-dots-vertical`,size:`x-small`,class:`mx-1`}),null,16)]),default:U(()=>[Ge(e.$slots,`actions`)]),_:3})]),_:3})]),_:3},8,[`class`]))}}),bn=Y({__name:`ParticipantRowHeader`,setup(e){return(e,n)=>(t(),T(J,{"no-gutters":``,class:`mx-2 px-2`},{default:U(()=>[j(i,{class:`font-weight-bold`,"align-self":`center`,cols:`2`},{default:U(()=>[...n[0]||=[b(` Participant `,-1)]]),_:1}),j(i,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`1`},{default:U(()=>[...n[1]||=[b(` Sexe `,-1)]]),_:1}),j(i,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`1`},{default:U(()=>[...n[2]||=[b(` Date de naissance `,-1)]]),_:1}),j(i,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`1`},{default:U(()=>[...n[3]||=[b(` Age `,-1)]]),_:1}),j(i,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`1`},{default:U(()=>[...n[4]||=[b(` Navette `,-1)]]),_:1}),j(i,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`2`},{default:U(()=>[...n[5]||=[b(` Commentaire `,-1)]]),_:1}),j(i,{class:`font-weight-bold text-center`,"align-self":`center`,cols:`2`},{default:U(()=>[...n[6]||=[b(` Inscription `,-1)]]),_:1}),Ge(e.$slots,`append`),e.$slots.append===void 0?(t(),T(Q,{key:0})):k(``,!0),j(i,{cols:`auto`},{default:U(()=>[j(F,{size:`x-small`,color:`white`,icon:``,variant:`plain`,disabled:``})]),_:1})]),_:3}))}}),xn=Y({__name:`CardValideParticipantRow`,props:I({participant:{},statut:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(e){let n=e,r=we(e,`modelValue`);function o(e){return e.AgeMin?e.AgeMax?e.EquilibreGF?e.Place?``:`Camp complet`:`Equilibre G./F.`:`Trop âgé${L.accord(n.participant.Personne.Sexe)}`:`Trop jeune`}return(e,s)=>{let c=_n;return t(),T(J,null,{default:U(()=>[j(i,{cols:`4`,"align-self":`center`},{default:U(()=>[j(Z,{title:q(p).label(n.participant.Personne),subtitle:q(a).label(n.participant.Camp)},null,8,[`title`,`subtitle`])]),_:1}),j(i,{cols:`3`,"align-self":`center`,class:`text-center`},{default:U(()=>[n.statut.Statut==q(_).Inscrit?k(``,!0):(t(),T(X,{key:0,color:`warning`,"prepend-icon":`mdi-alert`},{default:U(()=>[b(N(o(n.statut.Causes)),1)]),_:1}))]),_:1}),j(i,{"align-self":`center`},{default:U(()=>[n.statut.Validable?(t(),T(c,{key:0,modelValue:r.value,"onUpdate:modelValue":s[0]||=e=>r.value=e,"hide-details":``,readonly:!n.statut.AllowedChanges?.length,"restrict-items":(n.statut.AllowedChanges||[]).concat(n.statut.Statut)},null,8,[`modelValue`,`readonly`,`restrict-items`])):n.participant.Participant.Statut==q(_).AStatuer?(t(),T(X,{key:2,size:`small`},{default:U(()=>[...s[2]||=[b(` Seul le centre peut accepter cette inscription. `,-1)]]),_:1})):(t(),T(X,{key:1,size:`small`},{default:U(()=>[...s[1]||=[b(` Inscription déjà validée. `,-1)]]),_:1}))]),_:1})]),_:1})}}}),Sn=Y({__name:`CardValide`,props:{inscription:{},idParticipants:{}},emits:[`valide`],setup(e,{emit:n}){let i=e,a=n,o=V(()=>(i.inscription.Participants||[]).filter(e=>i.idParticipants?i.idParticipants.includes(e.Participant.Id):!0)),s=W(Object.fromEntries(o.value.filter(e=>(i.inscription.StatutHints||{})[e.Participant.Id].Validable).map(e=>[e.Participant.Id,(i.inscription.StatutHints||{})[e.Participant.Id].Statut]))),c=V(()=>Object.values(s.value).length>0);return(e,n)=>(t(),T(E,{title:`Valider l'inscription`,subtitle:`Un mail de confirmation va être envoyé.`},{default:U(()=>[j(H,null,{default:U(()=>[(t(!0),u(r,null,tt(o.value,e=>(t(),T(xn,{participant:e,statut:(i.inscription.StatutHints||{})[e.Participant.Id],modelValue:s.value[e.Participant.Id],"onUpdate:modelValue":t=>s.value[e.Participant.Id]=t},null,8,[`participant`,`statut`,`modelValue`,`onUpdate:modelValue`]))),256))]),_:1}),j(S,null,{default:U(()=>[j(F,{onClick:n[0]||=e=>a(`valide`,s.value,!1),disabled:!c.value},{default:U(()=>[...n[2]||=[b(`Valider sans notification`,-1)]]),_:1},8,[`disabled`]),j(Q),j(F,{onClick:n[1]||=e=>a(`valide`,s.value,!0),disabled:!c.value},{default:U(()=>[...n[3]||=[b(`Valider`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1}))}}),Cn=300,wn=Y({__name:`DebounceField`,props:{modelValue:{required:!0},modelModifiers:{}},emits:[`update:modelValue`],setup(e){let n=e,r=W(``),i=we(e,`modelValue`);K(()=>i.value,()=>{r.value=i.value});let a;function o(e){if(r.value=e||``,clearTimeout(a),!e){i.value=r.value;return}a=setTimeout(()=>{i.value=r.value},Cn)}return(e,i)=>(t(),T(rt,R(n,{modelValue:r.value,"onUpdate:modelValue":[i[0]||=e=>r.value=e,o]}),{"append-inner":U(()=>[Ge(e.$slots,`append-inner`)]),append:U(()=>[Ge(e.$slots,`append`)]),_:3},16,[`modelValue`]))}}),Tn={key:0},En=Y({__name:`CardSimilaires`,props:{personne:{},api:{}},emits:[`identifie`],setup(e,{emit:n}){let a=e,o=n;xe(c);let s=W([]);async function c(){let e=await a.api.SearchSimilaires({idPersonne:a.personne.Id});e!==void 0&&(s.value=e||[])}let l=W(!1),d=W(``),f=W([]);async function p(){if((d.value||``).length<3)return;let e=await a.api.SelectPersonne({search:d.value});e!==void 0&&(f.value=e||[])}function m(){o(`identifie`,{IdTemporaire:a.personne.Id,Rattache:!1,RattacheTo:0})}function h(e){o(`identifie`,{IdTemporaire:a.personne.Id,Rattache:!0,RattacheTo:e})}function g(e){let t=Math.floor(e*2);return`rgb(${255-t},${t}, 15)`}return(e,n)=>{let a=wn;return t(),T(E,{title:`Identifier le profil`,width:`600px`,subtitle:l.value?``:`Liste des profils similaires`},{default:U(()=>[j(H,{class:`pb-0`},{default:U(()=>[l.value?(t(),u(`div`,Tn,[j(a,{modelValue:d.value,"onUpdate:modelValue":[n[0]||=e=>d.value=e,p],label:`Rechercher un profil`,density:`comfortable`,clearable:``,autofocus:``,"hide-details":``},null,8,[`modelValue`]),j(Tt,{density:`compact`},{default:U(()=>[d.value.length>=3&&!f.value.length?(t(),T(J,{key:0,class:`ma-2`,"no-gutters":``},{default:U(()=>[j(i,{class:`text-center`},{default:U(()=>[...n[3]||=[C(`i`,null,`Aucun profil ne correspond à votre recherche.`,-1)]]),_:1})]),_:1})):k(``,!0),(t(!0),u(r,null,tt(f.value,(e,n)=>(t(),T(Z,{key:n,title:e.Label,subtitle:q(L).dateNaissance(e.DateNaissance),"append-icon":q(L).sexeIcon(e.Sexe),onClick:t=>h(e.Id)},null,8,[`title`,`subtitle`,`append-icon`,`onClick`]))),128))]),_:1})])):(t(),T(Tt,{key:1,density:`compact`},{default:U(()=>[s.value.length?k(``,!0):(t(),T(J,{key:0,class:`mx-2`,"no-gutters":``},{default:U(()=>[j(i,{class:`text-center`},{default:U(()=>[...n[4]||=[C(`i`,null,`Aucun profil existant sur la base n'est similaire.`,-1)]]),_:1})]),_:1})),(t(!0),u(r,null,tt(s.value,(e,n)=>(t(),T(Z,{key:n,title:e.Personne.Label,subtitle:q(L).dateNaissance(e.Personne.DateNaissance),"prepend-icon":q(L).sexeIcon(e.Personne.Sexe),onClick:t=>h(e.Personne.Id)},{append:U(()=>[j(X,{color:g(e.ScorePercent)},{default:U(()=>[b(N(e.ScorePercent)+` % `,1)]),_:2},1032,[`color`])]),_:2},1032,[`title`,`subtitle`,`prepend-icon`,`onClick`]))),128))]),_:1}))]),_:1}),j(S,null,{default:U(()=>[j(F,{onClick:n[1]||=e=>{l.value=!l.value,d.value=``}},{default:U(()=>[b(N(l.value?`Retour aux suggestions`:`Chercher manuellement`),1)]),_:1}),j(Q),j(F,{variant:`elevated`,elevation:`1`,onClick:n[2]||=e=>m(),"prepend-icon":`mdi-plus`},{default:U(()=>[...n[5]||=[b(` Créer un nouveau profil`,-1)]]),_:1})]),_:1})]),_:1},8,[`subtitle`])}}}),Dn=Y({__name:`InscriptionEtatcivilCols`,props:{personne:{},api:{},acteur:{}},emits:[`identifie`],setup(e,{emit:n}){let a=e,s=n;return(e,n)=>(t(),u(r,null,[j(i,{"align-self":`center`,cols:`3`},{default:U(()=>[j(Nt,null,{activator:U(({props:e})=>[a.personne.IsTemp?(t(),T(Dt,{key:0,"close-on-content-click":!1},{activator:U(({props:t})=>[j(X,R({label:``},R(t,e)),{prepend:U(()=>[j(G,{class:`mr-2`,icon:`mdi-alert`,color:`orange`})]),default:U(()=>[b(` `+N(q(p).label(a.personne)),1)]),_:1},16)]),default:U(()=>[a.acteur==q(He).Directeur?(t(),T(E,{key:0},{default:U(()=>[j(H,null,{default:U(()=>[...n[1]||=[b(` Le rapprochement de ce profil requiert une action du centre d'inscription. `,-1)]]),_:1})]),_:1})):(t(),T(En,{key:1,api:a.api,personne:a.personne,onIdentifie:n[0]||=e=>s(`identifie`,e)},null,8,[`api`,`personne`]))]),_:2},1024)):(t(),u(`div`,o(R({key:1},e)),N(q(p).label(a.personne)),17))]),default:U(()=>[a.personne.IsTemp?(t(),u(r,{key:0},[b(` Ce profil est temporaire et doit être identifié. `)],64)):(t(),u(r,{key:1},[b(` Ce profil est identifié (ID: `+N(a.personne.Id)+`). `,1)],64))]),_:1})]),_:1}),j(i,{"align-self":`center`,cols:`auto`},{default:U(()=>[j(G,{icon:q(L).sexeIcon(a.personne.Sexe),class:`mx-4`},null,8,[`icon`])]),_:1}),j(i,{"align-self":`center`,cols:`2`},{default:U(()=>[n[2]||=C(`small`,{class:`text-grey`},`né(e) le`,-1),b(` `+N(q(L).dateNaissance(a.personne.DateNaissance)),1)]),_:1})],64))}}),On=Y({__name:`InscriptionRow`,props:{inscription:{},api:{},user:{},hideDelete:{type:Boolean},alreadyValidated:{type:Boolean}},emits:[`identifie`,`valide`,`merge`,`delete`,`deleteParticipant`],setup(e,{emit:n}){let o=e,s=n,c=V(()=>o.user==null?He.Backoffice:He.Directeur),l=V(()=>!o.inscription.Responsable.IsTemp&&!!o.inscription.Participants?.every(e=>!e.Personne.IsTemp));function d(e){return l.value&&(o.user===null||o.user==e.IdCamp)}let f=V(()=>o.user==null?o.inscription.Participants||[]:(o.inscription.Participants||[]).filter(e=>e.Camp.Id==o.user)),m=V(()=>(o.inscription.Participants?.length||0)-f.value.length),h=W(null);return(n,g)=>(t(),T(E,{subtitle:q(L).time(o.inscription.Dossier.MomentInscription,!0,!0)},{append:U(()=>[e.alreadyValidated?(t(),T(Nt,{key:0,text:`En attente de validation par les autres séjours`},{activator:U(({props:e})=>[j(G,R(e,{color:`green`}),{default:U(()=>[...g[7]||=[b(` mdi-check `,-1)]]),_:1},16)]),_:1})):(t(),T(F,{key:1,disabled:!l.value||!o.inscription.Participants?.length,onClick:g[0]||=e=>s(`valide`),"prepend-icon":`mdi-check-all`},{default:U(()=>[...g[8]||=[b(` Tout valider`,-1)]]),_:1},8,[`disabled`])),o.hideDelete?k(``,!0):(t(),T(Dt,{key:2},{activator:U(({props:e})=>[j(F,R(e,{variant:`flat`,icon:`mdi-dots-vertical`,size:`small`,class:`ml-1`}),null,16)]),default:U(()=>[j(Tt,{density:`compact`},{default:U(()=>[j(Z,{"prepend-icon":`mdi-file-move`,onClick:g[1]||=e=>s(`merge`),title:`Fusionner vers ...`}),j(vt),j(Z,{title:`Supprimer`,"prepend-icon":`mdi-delete`,onClick:g[2]||=e=>s(`delete`)})]),_:1})]),_:1}))]),default:U(()=>[j(H,null,{default:U(()=>[j(J,null,{default:U(()=>[j(i,{cols:`7`},{default:U(()=>[j(J,{"no-gutters":``,class:`my-0 py-1 font-italic`},{default:U(()=>[j(Dn,{api:o.api,personne:o.inscription.Responsable,acteur:c.value,onIdentifie:g[3]||=e=>s(`identifie`,e)},null,8,[`api`,`personne`,`acteur`]),j(Q),j(i,{cols:`auto`},{default:U(()=>[m.value?(t(),T(X,{key:0,size:`small`},{default:U(()=>[b(` + `+N(m.value)+` inscrit(s) sur d'autres séjours `,1)]),_:1})):k(``,!0)]),_:1})]),_:1}),j(vt,{thickness:`4`,rounded:``}),(t(!0),u(r,null,tt(f.value,(e,n)=>(t(),T(J,{"no-gutters":``,class:`my-0 py-1`,key:n},{default:U(()=>[j(i,{cols:`auto`},{default:U(()=>[...g[9]||=[C(`div`,{style:{width:`12px`}},null,-1)]]),_:1}),j(Dn,{api:o.api,personne:e.Personne,acteur:c.value,onIdentifie:g[4]||=e=>s(`identifie`,e)},null,8,[`api`,`personne`,`acteur`]),j(i,{"align-self":`center`,cols:`3`,class:`text-center`},{default:U(()=>[c.value==q(He).Backoffice?(t(),u(r,{key:0},[b(N(q(a).label(e.Camp)),1)],64)):k(``,!0)]),_:2},1024),j(Q),j(i,{"align-self":`center`,cols:`1`,class:`pr-2 text-center`},{default:U(()=>[e.Participant.Statut==q(_).AStatuer?d(e.Participant)?(t(),T(F,{key:1,size:`small`,title:`Valider ce participant...`,onClick:t=>s(`valide`,e.Participant.Id)},{default:U(()=>[j(G,{icon:q(L).statutParticipant(q(_).AStatuer).icon},null,8,[`icon`]),j(G,null,{default:U(()=>[...g[10]||=[b(`mdi-arrow-right`,-1)]]),_:1}),j(G,{icon:q(L).statutParticipant((o.inscription.StatutHints||{})[e.Participant.Id].Statut).icon,color:q(L).statutParticipant((o.inscription.StatutHints||{})[e.Participant.Id].Statut).color},null,8,[`icon`,`color`])]),_:2},1032,[`onClick`])):k(``,!0):(t(),T(G,{key:0,color:q(L).statutParticipant(e.Participant.Statut).color,icon:q(L).statutParticipant(e.Participant.Statut).icon},null,8,[`color`,`icon`]))]),_:2},1024),o.hideDelete?k(``,!0):(t(),T(i,{key:0,"align-self":`center`,cols:`auto`},{default:U(()=>[j(F,{icon:``,size:`x-small`,onClick:t=>h.value=e,title:`Supprimer ce participant...`},{default:U(()=>[j(G,{color:`red`},{default:U(()=>[...g[11]||=[b(`mdi-delete`,-1)]]),_:1})]),_:1},8,[`onClick`])]),_:2},1024))]),_:2},1024))),128))]),_:1}),j(i,{cols:`5`},{default:U(()=>[j(J,{"no-gutters":``},{default:U(()=>[j(i,{cols:`auto`,class:`px-2`},{default:U(()=>[j(G,{color:o.inscription.Message.length?`primary`:`grey`},{default:U(()=>[...g[12]||=[b(`mdi-message`,-1)]]),_:1},8,[`color`])]),_:1}),j(i,null,{default:U(()=>[(t(!0),u(r,null,tt(o.inscription.Message.split(`
`),(e,n)=>(t(),u(`div`,{key:n},N(e),1))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),j(Mt,{"model-value":h.value!=null,"onUpdate:modelValue":g[6]||=e=>h.value=null,"max-width":`600px`},{default:U(()=>[h.value?(t(),T(E,{key:0,title:`Confirmation`},{default:U(()=>[j(H,null,{default:U(()=>[g[13]||=b(` Confirmez-vous la suppression du participant `,-1),C(`b`,null,N(q(p).label(h.value.Personne)),1),g[14]||=b(` ? `,-1),g[15]||=C(`br`,null,null,-1),g[16]||=C(`br`,null,null,-1),g[17]||=b(` Attention, cette opération est irréversible. `,-1)]),_:1}),j(S,null,{default:U(()=>[j(Q),j(F,{color:`red`,onClick:g[5]||=e=>{s(`deleteParticipant`,h.value.Participant.Id),h.value=null}},{default:U(()=>[...g[18]||=[b(`Supprimer`,-1)]]),_:1})]),_:1})]),_:1})):k(``,!0)]),_:1},8,[`model-value`])]),_:1},8,[`subtitle`]))}});export{Vt as _,yn as a,Ht as b,mn as c,dn as d,un as f,Gt as g,rn as h,bn as i,pn as l,on as m,wn as n,vn as o,cn as p,Sn as r,gn as s,On as t,fn as u,Ut as v,Wt as y};