import{B as e,Bi as t,Ca as n,Fi as r,Ii as i,Ki as a,M as o,Ni as s,O as c,Pi as l,Ri as u,U as d,Zn as f,ea as p,ha as m,ji as h,k as g,na as _,ra as v,rt as y,sa as b,ua as x,z as S,zi as C}from"./VSnackbar-DKsX373a.js";import{v as w,x as T}from"./VSelect-DKlba4X0.js";import{t as E}from"./VDialog-491dXdoo.js";import{n as D,t as O}from"./FileCard-B5JGRUtq.js";const k={NotSend:0,Pending:1,Answered:2};k.NotSend,k.Pending,k.Answered;const A={Direction:0,Adjoint:1,Animation:2,Menage:3,Cuisine:4,Intendance:5,Infirmerie:6,AideAnimation:7,Lingerie:8,Chauffeur:9,Factotum:10,Babysiter:11,AutreRole:12};A.Direction,A.Adjoint,A.Animation,A.Menage,A.Cuisine,A.Intendance,A.Infirmerie,A.AideAnimation,A.Lingerie,A.Chauffeur,A.Factotum,A.Babysiter,A.AutreRole;const j={NoBuiltin:0,CarteId:1,Permis:2,SB:3,Secourisme:4,Bafa:5,Bafd:6,CarteVitale:7,Vaccins:8,Haccp:9,BafdEquiv:10,BafaEquiv:11,CertMedicalCuisine:12,Autre:13},M={[j.NoBuiltin]:`-`,[j.CarteId]:`Carte d'identité/Passeport`,[j.Permis]:`Permis de conduire`,[j.SB]:`Surveillant de baignade`,[j.Secourisme]:`Secourisme (PSC1 - AFPS)`,[j.Bafa]:`BAFA`,[j.Bafd]:`BAFD`,[j.CarteVitale]:`Carte Vitale`,[j.Vaccins]:`Vaccins`,[j.Haccp]:`Cuisine (HACCP)`,[j.BafdEquiv]:`Equivalent BAFD`,[j.BafaEquiv]:`Equivalent BAFA`,[j.CertMedicalCuisine]:`Certificat médical cuisine`,[j.Autre]:`Autre`},N={AAucun:0,AAutre:1,ASb:2,ACanoe:3,AVoile:4,AMoto:5},P={[N.AAucun]:`Non effectué`,[N.AAutre]:`Approfondissement`,[N.ASb]:`Surveillant de baignade`,[N.ACanoe]:`Canoë - Kayak`,[N.AVoile]:`Voile`,[N.AMoto]:`Loisirs motocyclistes`},F={DAucun:0,DBafa:1,DBafaStag:2,DBafd:3,DBafdStag:4,DCap:5,DAssSociale:6,DEducSpe:7,DMonEduc:8,DInstit:9,DProf:10,DAgreg:11,DBjeps:12,DDut:13,DEje:14,DDeug:15,DStaps:16,DBapaat:17,DBeatep:18,DZzautre:19},I={[F.DAucun]:`Aucun`,[F.DBafa]:`BAFA Titulaire`,[F.DBafaStag]:`BAFA Stagiaire`,[F.DBafd]:`BAFD titulaire`,[F.DBafdStag]:`BAFD stagiaire`,[F.DCap]:`CAP petit enfance`,[F.DAssSociale]:`Assitante Sociale`,[F.DEducSpe]:`Educ. spé.`,[F.DMonEduc]:`Moniteur educateur`,[F.DInstit]:`Professeur des écoles`,[F.DProf]:`Enseignant du secondaire`,[F.DAgreg]:`Agrégé`,[F.DBjeps]:`BPJEPS`,[F.DDut]:`DUT carrière sociale`,[F.DEje]:`EJE`,[F.DDeug]:`DEUG`,[F.DStaps]:`STAPS`,[F.DBapaat]:`BAPAAT`,[F.DBeatep]:`BEATEP`,[F.DZzautre]:`AUTRE`},L={NoSexe:0,Woman:1,Man:2};L.NoSexe,L.Woman,L.Man;var R=class{constructor(e,t){this.baseURL=e,this.authToken=t}getHeaders(){return{Authorization:`Bearer `+this.authToken}}async Load(e){let t=this.baseURL+`/api/v1/equipier`;this.startRequest();try{return(await f.get(t,{headers:this.getHeaders(),params:{token:e.token}})).data}catch(e){this.handleError(e)}}async LoadPhotos(e){let t=this.baseURL+`/api/v1/equipier/photos`;this.startRequest();try{return(await f.get(t,{headers:this.getHeaders(),params:{token:e.token}})).data}catch(e){this.handleError(e)}}async Update(e){let t=this.baseURL+`/api/v1/equipier`;this.startRequest();try{return await f.post(t,e,{headers:this.getHeaders()}),!0}catch(e){this.handleError(e)}}async UpdateCharte(e){let t=this.baseURL+`/api/v1/equipier/charte`;this.startRequest();try{return await f.post(t,null,{headers:this.getHeaders(),params:{token:e.token,accept:e.accept?`ok`:``}}),!0}catch(e){this.handleError(e)}}async UploadDocument(e,t){let n=this.baseURL+`/api/v1/equipier/upload`;this.startRequest();try{let r=new FormData;return r.append(`document`,e,e.name),(await f.put(n,r,{headers:this.getHeaders(),params:{token:t.token,idDemande:String(t.idDemande)}})).data}catch(e){this.handleError(e)}}async DeleteDocument(e){let t=this.baseURL+`/api/v1/equipier/upload`;this.startRequest();try{return await f.delete(t,{headers:this.getHeaders(),params:{key:e.key}}),!0}catch(e){this.handleError(e)}}},z=t({__name:`FilesRow`,props:{title:{},subtitle:{},maxDocs:{},files:{},inUpload:{type:Boolean},showUploadText:{type:Boolean}},emits:[`upload`,`delete`],setup(t,{emit:f}){let k=t,A=f,j=m(!1),M=m(null),N=m(null),P=b(`input`);function F(){j.value=!0,a(()=>P.value?.openDialog())}return(t,a)=>{let f=O,m=D;return p(),l(w,{title:k.title,subtitle:k.subtitle,rounded:``,class:`bg-grey-lighten-4 my-1`},{prepend:x(()=>[v(t.$slots,`prepend`)]),append:x(()=>[C(S,null,{default:x(()=>[(p(!0),i(h,null,_(k.files,t=>(p(),l(e,{"align-self":`center`},{default:x(()=>[C(f,{file:t,onDelete:e=>N.value=t},null,8,[`file`,`onDelete`])]),_:2},1024))),256)),C(e,{"align-self":`center`,cols:`auto`},{default:x(()=>[k.showUploadText?(p(),l(d,{key:0,class:`my-2`,size:`small`,onClick:F,disabled:k.inUpload||k.maxDocs!=0&&k.files.length>=k.maxDocs},{prepend:x(()=>[C(y,{color:`green`,icon:k.inUpload?`mdi-loading`:`mdi-upload`,class:n(k.inUpload?`mdi-spin`:void 0)},null,8,[`icon`,`class`])]),default:x(()=>[a[5]||=u(` Charger un document `,-1)]),_:1},8,[`disabled`])):(p(),l(d,{key:1,class:`my-2`,icon:``,size:`x-small`,onClick:F,disabled:k.inUpload||k.maxDocs!=0&&k.files.length>=k.maxDocs},{default:x(()=>[C(y,{color:`green`,icon:k.inUpload?`mdi-loading`:`mdi-upload`,class:n(k.inUpload?`mdi-spin`:void 0)},null,8,[`icon`,`class`])]),_:1},8,[`disabled`]))]),_:1})]),_:1})]),default:x(()=>[C(E,{modelValue:j.value,"onUpdate:modelValue":a[2]||=e=>j.value=e,"max-width":`600px`},{default:x(()=>[C(c,{title:`Charger un document`},{default:x(()=>[C(g,null,{default:x(()=>[C(m,{onUpdate:a[0]||=e=>M.value=e,ref_key:`input`,ref:P},null,512)]),_:1}),C(o,null,{default:x(()=>[C(T),C(d,{disabled:M.value==null,onClick:a[1]||=e=>{A(`upload`,M.value),j.value=!1}},{default:x(()=>[...a[6]||=[u(`Charger`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`modelValue`]),N.value==null?r(``,!0):(p(),l(E,{key:0,"model-value":N.value!=null,"onUpdate:modelValue":a[4]||=e=>N.value=null,"max-width":`600px`},{default:x(()=>[C(c,{title:`Confirmation`},{default:x(()=>[C(g,null,{default:x(()=>[...a[7]||=[u(` Le document va être supprimé. `,-1),s(`br`,null,null,-1),s(`br`,null,null,-1),u(` Attention, cette opération est irréversible. `,-1)]]),_:1}),C(o,null,{default:x(()=>[C(T),C(d,{color:`red`,onClick:a[3]||=e=>{A(`delete`,N.value),N.value=null}},{default:x(()=>[...a[8]||=[u(`Supprimer`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`model-value`]))]),_:3},8,[`title`,`subtitle`])}}});export{M as a,j as i,R as n,I as o,P as r,L as s,z as t};