import{a7 as L,a8 as B,cI as W,ab as U,bS as Z,bQ as ee,ac as F,j as p,U as S,ad as T,b as o,E as R,c3 as te,c0 as N,cz as G,b_ as q,aP as M,b9 as Q,cJ as ne,aY as ie,k as h,G as oe,aQ as x,aN as J,cK as le,aK as se,aL as ae,bh as re,bj as ue,bX as b,c as $,aM as de,aO as ce,bk as me,d as k,z as r,o as a,w as i,g as z,h as y,r as ve,t as _,C as f,D as X,e as u,a as Y,A as E,F as fe,am as C,s as I,l as A,m as j,u as pe,cL as K,cM as D}from"./VSnackbar-lB5Kt1MJ.js";import{i as ge,j as Ce,b as O,e as _e}from"./VSelect-Cq60DlPv.js";import{V as ye}from"./VDialog-DNm6CVPi.js";const ke=B({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Q,iconColor:String,lineColor:String,...M(),...q(),...G(),...N()},"VTimelineDivider"),Ee=L()({name:"VTimelineDivider",props:ke(),setup(t,s){let{slots:e}=s;const{sizeClasses:l,sizeStyles:d}=W(t,"v-timeline-divider__dot"),{backgroundColorStyles:n,backgroundColorClasses:c}=U(()=>t.dotColor),{roundedClasses:g}=Z(t,"v-timeline-divider__dot"),{elevationClasses:m}=ee(t),{backgroundColorClasses:P,backgroundColorStyles:v}=U(()=>t.lineColor);return F(()=>p("div",{class:T(["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class]),style:S(t.style)},[p("div",{class:T(["v-timeline-divider__before",P.value]),style:S(v.value)},null),!t.hideDot&&p("div",{key:"dot",class:T(["v-timeline-divider__dot",m.value,g.value,l.value]),style:S(d.value)},[p("div",{class:T(["v-timeline-divider__inner-dot",c.value,g.value]),style:S(n.value)},[e.default?o(te,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},e.default):o(R,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),p("div",{class:T(["v-timeline-divider__after",P.value]),style:S(v.value)},null)])),{}}}),H=B({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Q,iconColor:String,lineInset:[Number,String],side:{type:String,validator:t=>t==null||["start","end"].includes(t)},...M(),...le(),...N(),...q(),...G(),...J()},"VTimelineItem"),Ve=L()({name:"VTimelineItem",props:H(),setup(t,s){let{slots:e}=s;const{dimensionStyles:l}=ne(t),d=ie(0),n=h();return oe(n,c=>{c&&(d.value=c.$el.querySelector(".v-timeline-divider__dot")?.getBoundingClientRect().width??0)},{flush:"post"}),F(()=>p("div",{class:T(["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot,"v-timeline-item--side-start":t.side==="start","v-timeline-item--side-end":t.side==="end"},t.class]),style:S([{"--v-timeline-dot-size":x(d.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${x(t.lineInset)})`:x(0)},t.style])},[p("div",{class:"v-timeline-item__body",style:S(l.value)},[e.default?.()]),o(Ee,{ref:n,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:e.icon}),t.density!=="compact"&&p("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&e.opposite?.()])])),{}}}),be=B({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...me(H({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...M(),...ce(),...J(),...de()},"VTimeline"),Ae=L()({name:"VTimeline",props:be(),setup(t,s){let{slots:e}=s;const{themeClasses:l}=se(t),{densityClasses:d}=ae(t),{rtlClasses:n}=re();ue({VTimelineDivider:{lineColor:b(()=>t.lineColor)},VTimelineItem:{density:b(()=>t.density),dotColor:b(()=>t.dotColor),fillDot:b(()=>t.fillDot),hideOpposite:b(()=>t.hideOpposite),iconColor:b(()=>t.iconColor),lineColor:b(()=>t.lineColor),lineInset:b(()=>t.lineInset),size:b(()=>t.size)}});const c=$(()=>{const m=t.side?t.side:t.density!=="default"?"end":null;return m&&`v-timeline--side-${m}`}),g=$(()=>{const m=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return m;case"start":return m[0];case"end":return m[1];default:return null}});return F(()=>o(t.tag,{class:T(["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,g.value,{"v-timeline--inset-line":!!t.lineInset},l.value,d.value,c.value,n.value,t.class]),style:S([{"--v-timeline-line-thickness":x(t.lineThickness)},t.style])},e)),{}}}),De={class:"ma-2"},V=k({__name:"EventItem",props:{color:{},icon:{},time:{},size:{}},setup(t){const s=t;return(e,l)=>(a(),r(Ve,{"dot-color":s.color,width:"100%",size:s.size||"medium",elevation:2},{icon:i(()=>[p("div",De,[o(R,{icon:s.icon},null,8,["icon"])])]),default:i(()=>[o(z,{justify:"space-between","no-gutters":""},{default:i(()=>[o(y,{"align-self":"center",cols:"10"},{default:i(()=>[ve(e.$slots,"default")]),_:3}),o(y,{"align-self":"center",cols:"2",class:"text-grey pl-2"},{default:i(()=>[p("small",null,_(f(X).time(s.time)),1)]),_:1})]),_:3})]),_:3},8,["dot-color","size"]))}}),Se=k({__name:"EventPaiementV",props:{paiement:{},user:{}},emits:["edit"],setup(t,{emit:s}){const e=t,l=s;return(d,n)=>{const c=V;return a(),r(c,{color:"#ad9726",icon:"mdi-cash",time:e.paiement.Time},{default:i(()=>[o(z,null,{default:i(()=>[o(y,{"align-self":"center"},{default:i(()=>[o(ge,null,{default:i(()=>[u(_(e.paiement.IsRemboursement?"Remboursement":"Paiement")+" ",1),e.paiement.IsRemboursement?E("",!0):(a(),Y(fe,{key:0},[n[1]||(n[1]=u(" de ",-1)),p("i",null,_(e.paiement.Payeur),1)],64)),n[2]||(n[2]=u(" : ",-1)),p("b",null,_(f(X).montant(e.paiement.Montant)),1)]),_:1}),o(Ce,null,{default:i(()=>[u(_(e.paiement.Label),1)]),_:1})]),_:1}),o(y,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==f(C).Backoffice||e.user==f(C).FondSoutien?(a(),r(I,{key:0,icon:"mdi-pencil",size:"x-small",onClick:n[0]||(n[0]=g=>l("edit"))})):E("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Te=k({__name:"EventInscriptionTimeV",props:{time:{}},setup(t){const s=t;return(e,l)=>(a(),r(V,{color:"grey",icon:"mdi-map-marker",time:s.time},{default:i(()=>[...l[0]||(l[0]=[u(" Demande d'inscription effectuée. ",-1)])]),_:1},8,["time"]))}}),Ie={style:{"white-space":"pre-wrap"}},ze=k({__name:"EventMessageV",props:{event:{},content:{},user:{}},emits:["delete","replyFondSoutien"],setup(t,{emit:s}){const e=t,l=s,d=$(()=>c(e.content.Message.Origine)),n=$(()=>e.user==C.Backoffice||e.user==C.FondSoutien&&m);function c(P){switch(P){case C.Backoffice:return"bg-light-green-lighten-3";case C.FondSoutien:return"bg-yellow-darken-1";case C.Directeur:return"bg-lime";case C.Espaceperso:return"bg-light-blue-lighten-3"}}const g=h(!1),m=$(()=>e.content.Message.Origine==e.user);return(P,v)=>(a(),r(V,{icon:m.value?"mdi-email-arrow-right":"mdi-email-arrow-left",color:"light-blue-darken-3",time:e.event.Created,size:"x-large"},{default:i(()=>[o(z,{"no-gutters":""},{default:i(()=>[o(y,{"align-self":"center"},{default:i(()=>[o(A,{class:T(d.value)},{default:i(()=>[o(j,{class:"pa-2"},{default:i(()=>[p("pre",Ie,_(e.content.Message.Contenu),1)]),_:1})]),_:1},8,["class"])]),_:1}),o(y,{cols:"auto","align-self":"center"},{default:i(()=>[n.value?(a(),r(I,{key:0,icon:"",size:"x-small",class:"ml-2",onClick:v[0]||(v[0]=w=>g.value=!0)},{default:i(()=>[o(R,{color:"red"},{default:i(()=>[...v[4]||(v[4]=[u("mdi-delete",-1)])]),_:1})]),_:1})):E("",!0)]),_:1})]),_:1}),e.user==f(C).Espaceperso&&e.content.Message.Origine==f(C).FondSoutien?(a(),r(z,{key:0,"no-gutters":"",class:"mt-2"},{default:i(()=>[o(O),o(I,{size:"small",onClick:v[1]||(v[1]=w=>l("replyFondSoutien")),"prepend-icon":"mdi-reply"},{default:i(()=>[...v[5]||(v[5]=[u(" Répondre au fonds de soutien ",-1)])]),_:1})]),_:1})):E("",!0),g.value?(a(),r(ye,{key:1,modelValue:g.value,"onUpdate:modelValue":v[3]||(v[3]=w=>g.value=w),"max-width":"400px"},{default:i(()=>[o(A,{title:"Confirmation"},{default:i(()=>[o(j,null,{default:i(()=>[...v[6]||(v[6]=[u(" Confirmez-vous la suppression de ce message ? ",-1),p("br",null,null,-1),p("br",null,null,-1),u(" Attention, cette opération est irréversible. ",-1)])]),_:1}),o(pe,null,{default:i(()=>[o(O),o(I,{color:"red",onClick:v[2]||(v[2]=w=>l("delete"))},{default:i(()=>[...v[7]||(v[7]=[u("Supprimer",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):E("",!0)]),_:1},8,["icon","time"]))}}),$e=k({__name:"EventPlaceLibereeV",props:{event:{},content:{},user:{}},emits:["acceptPlaceLiberee"],setup(t,{emit:s}){const e=t,l=s;return(d,n)=>{const c=V;return a(),r(c,{icon:"mdi-information-outline",color:"yellow",time:e.event.Created},{default:i(()=>[o(z,null,{default:i(()=>[o(y,{"align-self":"center"},{default:i(()=>[n[1]||(n[1]=u(" Une place pour ",-1)),p("i",null,_(e.content.ParticipantLabel),1),u(" s'est libérée sur le séjour "+_(e.content.CampLabel)+". ",1)]),_:1}),o(y,{cols:"auto","align-self":"center"},{default:i(()=>[e.user==f(C).Espaceperso&&!e.content.Accepted?(a(),r(I,{key:0,size:"small",color:"green",onClick:n[0]||(n[0]=g=>l("acceptPlaceLiberee")),"prepend-icon":"mdi-check"},{default:i(()=>[...n[2]||(n[2]=[u(" Accepter la place",-1)])]),_:1})):E("",!0),e.content.Accepted?(a(),r(_e,{key:1,"prepend-icon":"mdi-check"},{default:i(()=>[...n[3]||(n[3]=[u(" Acceptée ",-1)])]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Pe=k({__name:"EventSupprimeV",props:{event:{},content:{}},setup(t){const s=t;return(e,l)=>{const d=V;return a(),r(d,{color:"grey",icon:"mdi-close",time:s.event.Created,size:"small"},{default:i(()=>[...l[0]||(l[0]=[u(" Message supprimé ",-1)])]),_:1},8,["time"])}}}),we=k({__name:"EventValidationV",props:{event:{},content:{},user:{}},emits:["goToValidation"],setup(t,{emit:s}){const e=t,l=s;return(d,n)=>{const c=V;return a(),r(c,{color:"green",icon:"mdi-map-marker-check",time:e.event.Created},{default:i(()=>[o(z,{"no-gutters":""},{default:i(()=>[o(y,{"align-self":"center"},{default:i(()=>[u(" Inscription reçue et confirmée "+_(e.content.ByCamp?`par la direction du séjour ${e.content.ByCamp}.`:"par le centre."),1)]),_:1}),o(y,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==f(C).Espaceperso?(a(),r(I,{key:0,icon:"mdi-information",flat:"",class:"mr-2",onClick:n[0]||(n[0]=g=>l("goToValidation"))})):E("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),xe={key:0},Ke=k({__name:"EventFactureV",props:{event:{},content:{}},setup(t){const s=t;return(e,l)=>{const d=V;return a(),r(d,{color:"orange-darken-1",icon:"mdi-invoice",time:s.event.Created},{default:i(()=>[l[0]||(l[0]=u(" Demande de règlement envoyée. ",-1)),s.content.IsRappel?(a(),Y("i",xe,"Il s'agit d'un rappel.")):E("",!0)]),_:1},8,["time"])}}}),Le=k({__name:"EventCampDocsV",props:{event:{},content:{},user:{}},emits:["goToDocuments"],setup(t,{emit:s}){const e=t,l=s;return(d,n)=>{const c=V;return a(),r(c,{icon:"mdi-mail",color:"light-blue",time:e.event.Created},{default:i(()=>[o(z,null,{default:i(()=>[o(y,{"align-self":"center"},{default:i(()=>[n[1]||(n[1]=u(" Les documents du séjour ",-1)),p("i",null,_(e.content.CampLabel),1),n[2]||(n[2]=u(" ont été envoyés. ",-1))]),_:1}),o(y,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==f(C).Espaceperso?(a(),r(I,{key:0,size:"small",onClick:n[0]||(n[0]=g=>l("goToDocuments",e.content.IdCamp)),class:"mr-2"},{default:i(()=>[...n[3]||(n[3]=[u(" Lire ",-1)])]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Be=k({__name:"EventAttestationV",props:{event:{},content:{}},setup(t){const s=t,e=$(()=>{switch(s.content.Distribution){case K.DEspacePerso:return"téléchargée depuis l'espace personnel";case K.DMail:return"envoyée";case K.DMailAndDownloaded:return"envoyée et téléchargée"}});return(l,d)=>{const n=V;return a(),r(n,{icon:"mdi-invoice-check",color:"light-green-darken-1",time:s.event.Created},{default:i(()=>[d[0]||(d[0]=u(" Une ",-1)),p("b",null,_(s.content.IsPresence?"attestation de présence":"facture acquittée"),1),u(" a été "+_(e.value)+". ",1)]),_:1},8,["time"])}}}),Fe=k({__name:"EventSondageV",props:{event:{},content:{},user:{}},emits:["goToSondage"],setup(t,{emit:s}){const e=t,l=s;return(d,n)=>{const c=V;return a(),r(c,{color:"purple",icon:"mdi-comment-quote",time:e.event.Created},{default:i(()=>[o(z,null,{default:i(()=>[o(y,{"align-self":"center"},{default:i(()=>[u(" Un sondage concernant le séjour "+_(e.content.CampLabel)+" a été envoyé. ",1)]),_:1}),o(y,{"align-self":"center",cols:"auto"},{default:i(()=>[o(I,{size:"small",onClick:n[0]||(n[0]=g=>l("goToSondage",e.content.IdCamp))},{default:i(()=>[u(_(e.user==f(C).Espaceperso?"répondre":"aller"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["time"])}}}),je=k({__name:"EventSwitch",props:{event:{}},emits:["editPaiement","deleteMessage","goToSondage","goToDocuments","goToValidation","acceptPlaceLiberee","replyFondSoutien"],setup(t,{emit:s}){const e=t,l=s;return(d,n)=>{const c=Te,g=Se;return e.event.Kind=="inscription-time"?(a(),r(c,{key:0,time:e.event.Time},null,8,["time"])):e.event.Kind=="paiement"?(a(),r(g,{key:1,paiement:e.event.Paiement,user:e.event.User,onEdit:n[0]||(n[0]=m=>l("editPaiement",e.event.Paiement))},null,8,["paiement","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==f(D).SupprimeEvt?(a(),r(Pe,{key:2,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==f(D).ValidationEvt?(a(),r(we,{key:3,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToValidation:n[1]||(n[1]=m=>l("goToValidation"))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==f(D).MessageEvt?(a(),r(ze,{key:4,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onDelete:n[2]||(n[2]=m=>l("deleteMessage",e.event.Event)),onReplyFondSoutien:n[3]||(n[3]=m=>l("replyFondSoutien"))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==f(D).PlaceLibereeEvt?(a(),r($e,{key:5,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onAcceptPlaceLiberee:n[4]||(n[4]=m=>l("acceptPlaceLiberee",e.event.Event.Id))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==f(D).FactureEvt?(a(),r(Ke,{key:6,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==f(D).CampDocsEvt?(a(),r(Le,{key:7,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToDocuments:n[5]||(n[5]=m=>l("goToDocuments",m))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==f(D).AttestationEvt?(a(),r(Be,{key:8,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==f(D).SondageEvt?(a(),r(Fe,{key:9,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToSondage:n[6]||(n[6]=m=>l("goToSondage",m))},null,8,["event","content","user"])):E("",!0)}}});export{Ae as V,je as _};
