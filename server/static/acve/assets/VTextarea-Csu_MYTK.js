import{Ca as e,Ct as t,D as n,Di as r,Er as i,Gi as a,Gr as o,Ki as s,Mi as c,Ni as l,Qi as u,S as d,Sr as f,Vr as p,Wr as m,Xr as ee,Yi as h,_ as g,_a as te,ca as _,da as v,f as y,g as b,gr as x,h as S,ha as C,ji as w,la as T,m as E,p as ne,pi as D,pr as re,sr as ie,w as O,x as k,zi as A}from"./VSnackbar-DKsX373a.js";const j=i({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxHeight:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...E(),...D(g(),[`direction`]),...d()},`VTextarea`),M=f()({name:`VTextarea`,directives:{vIntersect:t},inheritAttrs:!1,props:j(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(i,d){let{attrs:f,emit:g,slots:E}=d,D=re(i,`modelValue`),{isFocused:j,focus:M,blur:N}=O(i),{onIntersect:P}=ne(i),F=c(()=>typeof i.counterValue==`function`?i.counterValue(D.value):(D.value||``).toString().length),I=c(()=>{if(f.maxlength)return f.maxlength;if(!(!i.counter||typeof i.counter!=`number`&&typeof i.counter!=`string`))return i.counter}),L=C(),R=C(),z=te(``),B=C(),V=C(0),{platform:H}=ie(),U=S(i),W=c(()=>i.persistentPlaceholder||j.value||i.active);function G(){U.isSuppressing.value&&U.update(),B.value!==document.activeElement&&B.value?.focus(),j.value||M()}function K(e){G(),g(`click:control`,e)}function q(e){g(`mousedown:control`,e)}function J(e){e.stopPropagation(),G(),s(()=>{D.value=``,p(i[`onClick:clear`],e)})}function ae(e){let t=e.target;if(!i.modelModifiers?.trim){D.value=t.value;return}let n=t.value,r=t.selectionStart,a=t.selectionEnd;D.value=n,s(()=>{let e=0;n.trimStart().length===t.value.length&&(e=n.length-t.value.length),r!=null&&(t.selectionStart=r-e),a!=null&&(t.selectionEnd=a-e)})}let Y=C(),X=C(Number(i.rows)),Z=c(()=>[`plain`,`underlined`].includes(i.variant));T(()=>{i.autoGrow||(X.value=Number(i.rows))});function Q(){s(()=>{if(!B.value)return;if(H.value.firefox){V.value=12;return}let{offsetWidth:e,clientWidth:t}=B.value;V.value=Math.max(0,e-t)}),i.autoGrow&&s(()=>{if(!Y.value||!R.value)return;let e=getComputedStyle(Y.value),t=getComputedStyle(R.value.$el),n=parseFloat(e.getPropertyValue(`--v-field-padding-top`))+parseFloat(e.getPropertyValue(`--v-input-padding-top`))+parseFloat(e.getPropertyValue(`--v-field-padding-bottom`)),r=Y.value.scrollHeight,a=parseFloat(e.lineHeight),s=Math.max(parseFloat(i.rows)*a+n,parseFloat(t.getPropertyValue(`--v-input-control-height`))),c=i.maxHeight?parseFloat(i.maxHeight):parseFloat(i.maxRows)*a+n||1/0,l=m(r??0,s,c);X.value=Math.floor((l-n)/a),z.value=o(l)})}u(Q),_(D,Q),_(()=>i.rows,Q),_(()=>i.maxHeight,Q),_(()=>i.maxRows,Q),_(()=>i.density,Q),_(X,e=>{g(`update:rows`,e)});let $;return _(Y,e=>{e?($=new ResizeObserver(Q),$.observe(Y.value)):$?.disconnect()}),h(()=>{$?.disconnect()}),x(()=>{let s=!!(E.counter||i.counter||i.counterValue),c=!!(s||E.details),[u,d]=ee(f),{modelValue:p,...m}=b.filterProps(i),h={...k.filterProps(i),"onClick:clear":J};return A(b,a({ref:L,modelValue:D.value,"onUpdate:modelValue":e=>D.value=e,class:[`v-textarea v-text-field`,{"v-textarea--prefixed":i.prefix,"v-textarea--suffixed":i.suffix,"v-text-field--prefixed":i.prefix,"v-text-field--suffixed":i.suffix,"v-textarea--auto-grow":i.autoGrow,"v-textarea--no-resize":i.noResize||i.autoGrow,"v-input--plain-underlined":Z.value},i.class],style:[{"--v-textarea-max-height":i.maxHeight?o(i.maxHeight):void 0,"--v-textarea-scroll-bar-width":o(V.value)},i.style]},u,m,{centerAffix:X.value===1&&!Z.value,focused:j.value}),{...E,default:n=>{let{id:o,isDisabled:s,isDirty:c,isReadonly:u,isValid:f,hasDetails:p}=n;return A(k,a({ref:R,style:{"--v-textarea-control-height":z.value},onClick:K,onMousedown:q,"onClick:prependInner":i[`onClick:prependInner`],"onClick:appendInner":i[`onClick:appendInner`]},h,{id:o.value,active:W.value||c.value,labelId:`${o.value}-label`,centerAffix:X.value===1&&!Z.value,dirty:c.value||i.dirty,disabled:s.value,focused:j.value,details:p.value,error:f.value===!1}),{...E,default:n=>{let{props:{class:c,...f},controlRef:p}=n;return l(w,null,[i.prefix&&l(`span`,{class:`v-text-field__prefix`},[i.prefix]),v(l(`textarea`,a({ref:e=>B.value=p.value=e,class:c,value:D.value,onInput:ae,autofocus:i.autofocus,readonly:u.value,disabled:s.value,placeholder:i.placeholder,rows:i.rows,name:U.fieldName.value,autocomplete:U.fieldAutocomplete.value,onFocus:G,onBlur:N,"aria-labelledby":`${o.value}-label`},f,d),null),[[t,{handler:P},null,{once:!0}]]),i.autoGrow&&v(l(`textarea`,{class:e([c,`v-textarea__sizer`]),id:`${f.id}-sizer`,"onUpdate:modelValue":e=>D.value=e,ref:Y,readonly:!0,"aria-hidden":`true`},null),[[r,D.value]]),i.suffix&&l(`span`,{class:`v-text-field__suffix`},[i.suffix])])}})},details:c?e=>l(w,null,[E.details?.(e),s&&l(w,null,[l(`span`,null,null),A(n,{active:i.persistentCounter||j.value,value:F.value,max:I.value,disabled:i.disabled},E.counter)])]):void 0})}),y({},L,R,B)}});export{M as t};