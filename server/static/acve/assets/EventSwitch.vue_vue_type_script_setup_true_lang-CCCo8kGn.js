import{d as k,v as Z,x as ee,a9 as te,ai as U,y as r,o as a,g as D,w as i,b as o,a4 as b,h as g,a2 as v,ah as ne,z as L,A as F,cB as ie,G as A,c0 as le,b$ as oe,C as M,j as p,J as T,E as I,a7 as x,H as se,ay as q,aw as G,ax as h,aA as R,I as H,cC as ae,P as re,k as J,R as ue,D as B,av as Q,cD as de,ap as ce,bg as me,$ as ve,ar as fe,Q as E,c as z,au as pe,az as Ce,bR as ge,r as ye,t as _,a6 as W,e as u,a as X,F as _e,aU as y,q as $,l as j,m as O,s as ke,cE as K,cF as S}from"./VSnackbar-Bb6JWY-C.js";import{b as be,i as Ve,l as Ee,m as De,c as N,f as Se,h as Te}from"./VTextarea-Ex3xMDut.js";const he=k({__name:"MontantField",props:Z({label:{},hideDetails:{type:Boolean},readonlyCurrency:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const l=t,e=ee(t,"modelValue"),s=te(U);return(c,n)=>(a(),r(D,{"no-gutters":""},{default:i(()=>[o(g,{cols:l.readonlyCurrency?12:6},{default:i(()=>[o(be,{class:"mr-1",variant:"outlined",density:"compact","hide-details":l.hideDetails,label:l.label,type:"number",disabled:l.disabled,"model-value":e.value.Cent/100,"onUpdate:modelValue":n[0]||(n[0]=d=>e.value={Cent:v(ne)(Number(d)*100),Currency:e.value.Currency}),suffix:l.readonlyCurrency?v(U)[e.value.Currency]:void 0},null,8,["hide-details","label","disabled","model-value","suffix"])]),_:1},8,["cols"]),l.readonlyCurrency?b("",!0):(a(),r(g,{key:0,cols:"6"},{default:i(()=>[o(Ve,{label:"Monnaie",variant:"outlined",density:"compact",disabled:l.disabled,items:v(s),"model-value":e.value.Currency,"hide-details":l.hideDetails,"onUpdate:modelValue":n[1]||(n[1]=d=>e.value={Cent:e.value.Cent,Currency:d})},null,8,["disabled","items","model-value","hide-details"])]),_:1}))]),_:1}))}}),Ie=F({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:H,iconColor:String,lineColor:String,...R(),...h(),...G(),...q()},"VTimelineDivider"),$e=L()({name:"VTimelineDivider",props:Ie(),setup(t,l){let{slots:e}=l;const{sizeClasses:s,sizeStyles:c}=ie(t,"v-timeline-divider__dot"),{backgroundColorStyles:n,backgroundColorClasses:d}=A(()=>t.dotColor),{roundedClasses:C}=le(t,"v-timeline-divider__dot"),{elevationClasses:f}=oe(t),{backgroundColorClasses:P,backgroundColorStyles:m}=A(()=>t.lineColor);return M(()=>p("div",{class:I(["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class]),style:T(t.style)},[p("div",{class:I(["v-timeline-divider__before",P.value]),style:T(m.value)},null),!t.hideDot&&p("div",{key:"dot",class:I(["v-timeline-divider__dot",f.value,C.value,s.value]),style:T(c.value)},[p("div",{class:I(["v-timeline-divider__inner-dot",d.value,C.value]),style:T(n.value)},[e.default?o(se,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},e.default):o(x,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),p("div",{class:I(["v-timeline-divider__after",P.value]),style:T(m.value)},null)])),{}}}),Y=F({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:H,iconColor:String,lineInset:[Number,String],side:{type:String,validator:t=>t==null||["start","end"].includes(t)},...R(),...de(),...q(),...h(),...G(),...Q()},"VTimelineItem"),ze=L()({name:"VTimelineItem",props:Y(),setup(t,l){let{slots:e}=l;const{dimensionStyles:s}=ae(t),c=re(0),n=J();return ue(n,d=>{d&&(c.value=d.$el.querySelector(".v-timeline-divider__dot")?.getBoundingClientRect().width??0)},{flush:"post"}),M(()=>p("div",{class:I(["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot,"v-timeline-item--side-start":t.side==="start","v-timeline-item--side-end":t.side==="end"},t.class]),style:T([{"--v-timeline-dot-size":B(c.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${B(t.lineInset)})`:B(0)},t.style])},[p("div",{class:"v-timeline-item__body",style:T(s.value)},[e.default?.()]),o($e,{ref:n,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:e.icon}),t.density!=="compact"&&p("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&e.opposite?.()])])),{}}}),Pe=F({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...ge(Y({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...R(),...Ce(),...Q(),...pe()},"VTimeline"),He=L()({name:"VTimeline",props:Pe(),setup(t,l){let{slots:e}=l;const{themeClasses:s}=ce(t),{densityClasses:c}=me(t),{rtlClasses:n}=ve();fe({VTimelineDivider:{lineColor:E(()=>t.lineColor)},VTimelineItem:{density:E(()=>t.density),dotColor:E(()=>t.dotColor),fillDot:E(()=>t.fillDot),hideOpposite:E(()=>t.hideOpposite),iconColor:E(()=>t.iconColor),lineColor:E(()=>t.lineColor),lineInset:E(()=>t.lineInset),size:E(()=>t.size)}});const d=z(()=>{const f=t.side?t.side:t.density!=="default"?"end":null;return f&&`v-timeline--side-${f}`}),C=z(()=>{const f=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return f;case"start":return f[0];case"end":return f[1];default:return null}});return M(()=>o(t.tag,{class:I(["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,C.value,{"v-timeline--inset-line":!!t.lineInset},s.value,c.value,d.value,n.value,t.class]),style:T([{"--v-timeline-line-thickness":B(t.lineThickness)},t.style])},e)),{}}}),xe={class:"ma-2"},V=k({__name:"EventItem",props:{color:{},icon:{},time:{},size:{}},setup(t){const l=t;return(e,s)=>(a(),r(ze,{"dot-color":l.color,width:"100%",size:l.size||"medium",elevation:2},{icon:i(()=>[p("div",xe,[o(x,{icon:l.icon},null,8,["icon"])])]),default:i(()=>[o(D,{justify:"space-between","no-gutters":""},{default:i(()=>[o(g,{"align-self":"center",cols:"10"},{default:i(()=>[ye(e.$slots,"default")]),_:3}),o(g,{"align-self":"center",cols:"2",class:"text-grey pl-2"},{default:i(()=>[p("small",null,_(v(W).time(l.time)),1)]),_:1})]),_:3})]),_:3},8,["dot-color","size"]))}}),we=k({__name:"EventPaiementV",props:{paiement:{},user:{}},emits:["edit"],setup(t,{emit:l}){const e=t,s=l;return(c,n)=>{const d=V;return a(),r(d,{color:"#ad9726",icon:"mdi-cash",time:e.paiement.Time},{default:i(()=>[o(D,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[o(Ee,null,{default:i(()=>[u(_(e.paiement.IsRemboursement?"Remboursement":"Paiement")+" ",1),e.paiement.IsRemboursement?b("",!0):(a(),X(_e,{key:0},[n[1]||(n[1]=u(" de ",-1)),p("i",null,_(e.paiement.Payeur),1)],64)),n[2]||(n[2]=u(" : ",-1)),p("b",null,_(v(W).montant(e.paiement.Montant)),1)]),_:1}),o(De,null,{default:i(()=>[u(_(e.paiement.Label),1)]),_:1})]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==v(y).Backoffice||e.user==v(y).FondSoutien?(a(),r($,{key:0,icon:"mdi-pencil",size:"x-small",onClick:n[0]||(n[0]=C=>s("edit"))})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Be=k({__name:"EventInscriptionTimeV",props:{time:{}},setup(t){const l=t;return(e,s)=>(a(),r(V,{color:"grey",icon:"mdi-map-marker",time:l.time},{default:i(()=>[...s[0]||(s[0]=[u(" Demande d'inscription effectuée. ",-1)])]),_:1},8,["time"]))}}),Ke={style:{"white-space":"pre-wrap"}},Le=k({__name:"EventMessageV",props:{event:{},content:{},user:{}},emits:["delete","replyFondSoutien"],setup(t,{emit:l}){const e=t,s=l,c=z(()=>d(e.content.Message.Origine)),n=z(()=>e.user==y.Backoffice||e.user==y.FondSoutien&&f);function d(P){switch(P){case y.Backoffice:return"bg-light-green-lighten-3";case y.FondSoutien:return"bg-yellow-darken-1";case y.Directeur:return"bg-lime";case y.Espaceperso:return"bg-light-blue-lighten-3"}}const C=J(!1),f=z(()=>e.content.Message.Origine==e.user);return(P,m)=>(a(),r(V,{icon:f.value?"mdi-email-arrow-right":"mdi-email-arrow-left",color:"light-blue-darken-3",time:e.event.Created,size:"x-large"},{default:i(()=>[o(D,{"no-gutters":""},{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[o(j,{class:I(c.value)},{default:i(()=>[o(O,{class:"pa-2"},{default:i(()=>[p("pre",Ke,_(e.content.Message.Contenu),1)]),_:1})]),_:1},8,["class"])]),_:1}),o(g,{cols:"auto","align-self":"center"},{default:i(()=>[n.value?(a(),r($,{key:0,icon:"",size:"x-small",class:"ml-2",onClick:m[0]||(m[0]=w=>C.value=!0)},{default:i(()=>[o(x,{color:"red"},{default:i(()=>[...m[4]||(m[4]=[u("mdi-delete",-1)])]),_:1})]),_:1})):b("",!0)]),_:1})]),_:1}),e.user==v(y).Espaceperso&&e.content.Message.Origine==v(y).FondSoutien?(a(),r(D,{key:0,"no-gutters":"",class:"mt-2"},{default:i(()=>[o(N),o($,{size:"small",onClick:m[1]||(m[1]=w=>s("replyFondSoutien"))},{prepend:i(()=>[o(x,null,{default:i(()=>[...m[5]||(m[5]=[u("mdi-reply",-1)])]),_:1})]),default:i(()=>[m[6]||(m[6]=u(" Répondre au fonds de soutien ",-1))]),_:1})]),_:1})):b("",!0),C.value?(a(),r(Se,{key:1,modelValue:C.value,"onUpdate:modelValue":m[3]||(m[3]=w=>C.value=w),"max-width":"400px"},{default:i(()=>[o(j,{title:"Confirmation"},{default:i(()=>[o(O,null,{default:i(()=>[...m[7]||(m[7]=[u(" Confirmez-vous la suppression de ce message ? ",-1),p("br",null,null,-1),p("br",null,null,-1),u(" Attention, cette opération est irréversible. ",-1)])]),_:1}),o(ke,null,{default:i(()=>[o(N),o($,{color:"red",onClick:m[2]||(m[2]=w=>s("delete"))},{default:i(()=>[...m[8]||(m[8]=[u("Supprimer",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):b("",!0)]),_:1},8,["icon","time"]))}}),Fe=k({__name:"EventPlaceLibereeV",props:{event:{},content:{},user:{}},emits:["acceptPlaceLiberee"],setup(t,{emit:l}){const e=t,s=l;return(c,n)=>{const d=V;return a(),r(d,{icon:"mdi-information-outline",color:"yellow",time:e.event.Created},{default:i(()=>[o(D,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[n[1]||(n[1]=u(" Une place pour ",-1)),p("i",null,_(e.content.ParticipantLabel),1),u(" s'est libérée sur le séjour "+_(e.content.CampLabel)+". ",1)]),_:1}),o(g,{cols:"auto","align-self":"center"},{default:i(()=>[e.user==v(y).Espaceperso&&!e.content.Accepted?(a(),r($,{key:0,size:"small",color:"green",onClick:n[0]||(n[0]=C=>s("acceptPlaceLiberee"))},{prepend:i(()=>[o(x,null,{default:i(()=>[...n[2]||(n[2]=[u("mdi-check",-1)])]),_:1})]),default:i(()=>[n[3]||(n[3]=u(" Accepter la place",-1))]),_:1})):b("",!0),e.content.Accepted?(a(),r(Te,{key:1,"prepend-icon":"mdi-check"},{default:i(()=>[...n[4]||(n[4]=[u(" Acceptée ",-1)])]),_:1})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Me=k({__name:"EventSupprimeV",props:{event:{},content:{}},setup(t){const l=t;return(e,s)=>{const c=V;return a(),r(c,{color:"grey",icon:"mdi-close",time:l.event.Created,size:"small"},{default:i(()=>[...s[0]||(s[0]=[u(" Message supprimé ",-1)])]),_:1},8,["time"])}}}),Re=k({__name:"EventValidationV",props:{event:{},content:{},user:{}},emits:["goToValidation"],setup(t,{emit:l}){const e=t,s=l;return(c,n)=>{const d=V;return a(),r(d,{color:"green",icon:"mdi-map-marker-check",time:e.event.Created},{default:i(()=>[o(D,{"no-gutters":""},{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[u(" Inscription reçue et confirmée "+_(e.content.ByCamp?`par la direction du séjour ${e.content.ByCamp}.`:"par le centre."),1)]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==v(y).Espaceperso?(a(),r($,{key:0,icon:"mdi-information",flat:"",class:"mr-2",onClick:n[0]||(n[0]=C=>s("goToValidation"))})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Ue={key:0},Ae=k({__name:"EventFactureV",props:{event:{},content:{}},setup(t){const l=t;return(e,s)=>{const c=V;return a(),r(c,{color:"orange-darken-1",icon:"mdi-invoice",time:l.event.Created},{default:i(()=>[s[0]||(s[0]=u(" Demande de règlement envoyée. ",-1)),l.content.IsRappel?(a(),X("i",Ue,"Il s'agit d'un rappel.")):b("",!0)]),_:1},8,["time"])}}}),je=k({__name:"EventCampDocsV",props:{event:{},content:{},user:{}},emits:["goToDocuments"],setup(t,{emit:l}){const e=t,s=l;return(c,n)=>{const d=V;return a(),r(d,{icon:"mdi-mail",color:"light-blue",time:e.event.Created},{default:i(()=>[o(D,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[n[1]||(n[1]=u(" Les documents du séjour ",-1)),p("i",null,_(e.content.CampLabel),1),n[2]||(n[2]=u(" ont été envoyés. ",-1))]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==v(y).Espaceperso?(a(),r($,{key:0,size:"small",onClick:n[0]||(n[0]=C=>s("goToDocuments",e.content.IdCamp)),class:"mr-2"},{default:i(()=>[...n[3]||(n[3]=[u(" Lire ",-1)])]),_:1})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Oe=k({__name:"EventAttestationV",props:{event:{},content:{}},setup(t){const l=t,e=z(()=>{switch(l.content.Distribution){case K.DEspacePerso:return"téléchargée depuis l'espace personnel";case K.DMail:return"envoyée";case K.DMailAndDownloaded:return"envoyée et téléchargée"}});return(s,c)=>{const n=V;return a(),r(n,{icon:"mdi-invoice-check",color:"light-green-darken-1",time:l.event.Created},{default:i(()=>[c[0]||(c[0]=u(" Une ",-1)),p("b",null,_(l.content.IsPresence?"attestation de présence":"facture acquittée"),1),u(" a été "+_(e.value)+". ",1)]),_:1},8,["time"])}}}),Ne=k({__name:"EventSondageV",props:{event:{},content:{},user:{}},emits:["goToSondage"],setup(t,{emit:l}){const e=t,s=l;return(c,n)=>{const d=V;return a(),r(d,{color:"purple",icon:"mdi-comment-quote",time:e.event.Created},{default:i(()=>[o(D,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[u(" Un sondage concernant le séjour "+_(e.content.CampLabel)+" a été envoyé. ",1)]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[o($,{size:"small",onClick:n[0]||(n[0]=C=>s("goToSondage",e.content.IdCamp))},{default:i(()=>[u(_(e.user==v(y).Espaceperso?"répondre":"aller"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["time"])}}}),Je=k({__name:"EventSwitch",props:{event:{}},emits:["editPaiement","deleteMessage","goToSondage","goToDocuments","goToValidation","acceptPlaceLiberee","replyFondSoutien"],setup(t,{emit:l}){const e=t,s=l;return(c,n)=>{const d=Be,C=we;return e.event.Kind=="inscription-time"?(a(),r(d,{key:0,time:e.event.Time},null,8,["time"])):e.event.Kind=="paiement"?(a(),r(C,{key:1,paiement:e.event.Paiement,user:e.event.User,onEdit:n[0]||(n[0]=f=>s("editPaiement",e.event.Paiement))},null,8,["paiement","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==v(S).Supprime?(a(),r(Me,{key:2,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==v(S).Validation?(a(),r(Re,{key:3,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToValidation:n[1]||(n[1]=f=>s("goToValidation"))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==v(S).Message?(a(),r(Le,{key:4,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onDelete:n[2]||(n[2]=f=>s("deleteMessage",e.event.Event)),onReplyFondSoutien:n[3]||(n[3]=f=>s("replyFondSoutien"))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==v(S).PlaceLiberee?(a(),r(Fe,{key:5,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onAcceptPlaceLiberee:n[4]||(n[4]=f=>s("acceptPlaceLiberee",e.event.Event.Id))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==v(S).Facture?(a(),r(Ae,{key:6,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==v(S).CampDocs?(a(),r(je,{key:7,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToDocuments:n[5]||(n[5]=f=>s("goToDocuments",f))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==v(S).Attestation?(a(),r(Oe,{key:8,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==v(S).Sondage?(a(),r(Ne,{key:9,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToSondage:n[6]||(n[6]=f=>s("goToSondage",f))},null,8,["event","content","user"])):b("",!0)}}});export{He as V,he as _,Je as a};
