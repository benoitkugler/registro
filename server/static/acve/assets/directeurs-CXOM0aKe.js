import{a7 as J7,a8 as eb,ac as vx,b as F,H as $c,s as _o,ag as LJ,aE as FJ,aF as zJ,aG as VJ,aH as HJ,aI as WL,d as cr,k as wo,a as xn,o as mt,F as ys,w as U,e as wt,V as $J,z as Qt,A as js,f as UJ,g as Ar,h as Go,i as ZJ,t as sr,r as jJ,j as Po,N as Zc,l as Ds,m as ws,n as bx,p as WJ,q as G7,u as Ol,v as qJ,c as Ws,$ as GJ,a4 as LH,I as KJ,X as jp,B as Ia,C as _n,aJ as QL,aK as YJ,aL as XJ,U as NC,ad as J1,aM as QJ,aN as JJ,aO as eee,aP as UE,aQ as DC,aR as y$,aS as VE,aT as tee,aU as w$,aV as oee,_ as JL,D as km,E as Kr,Y as eR,ak as _$,aW as FH,aX as ZE,aY as VL,aZ as j7,a_ as nee,G as xx,a$ as see,b0 as ree,b1 as C$,b2 as aee,b3 as qL,b4 as tR,b5 as GL,b6 as W7,ae as k$,b7 as iee,b8 as lee,b9 as cee,ba as dee,bb as zH,bc as S$,bd as eF,be as uee,bf as mee,bg as gee,af as K7,bh as E$,bi as fee,bj as pee,bk as hee,x as Y7,y as tF,bl as bee,aw as A$,bm as xee,bn as vee,bo as yee,bp as VH,bq as wee,br as _ee,bs as Cee,bt as kee,ai as See,L as V2,a3 as Eee,av as X7,ax as oF,bu as hx,bv as HL,J as Aee,bw as T$,aj as Tee,bx as Dee,by as q7,an as HH,bz as Oee,bA as Ree,bB as Nee,bC as Mee,bD as $H,bE as Q7,bF as Bee,bG as Pee,bH as D$,bI as Iee,a1 as O$,bJ as Lee,ay as Fee,az as zee,aA as UH,aB as Vee,aC as Hee,aD as $ee}from"./VSnackbar-lB5Kt1MJ.js";import{u as jE,c as Uee,a as Zee}from"./vue-router-CHIdAw-S.js";import{V as jee,j as Wee,m as qee,n as Gee,b as Kee,f as Yee,l as Xee,h as Qee,k as Jee,_ as ete,a as OC,e as R$,d as tte}from"./InscriptionRow.vue_vue_type_script_setup_true_lang-BeC1Qhyb.js";import{V as gs,a as ki,b as uc,e as Wp,g as Lf,d as Uc,f as ote,h as $L,c as nte}from"./VSelect-Cq60DlPv.js";import{V as lr}from"./VDialog-DNm6CVPi.js";import{a as ste,V as Cm,c as N$,d as HE,e as $E,b as M$,_ as B$}from"./VTabs-CiFIUxkl.js";import{V as oR}from"./VAlert-BxHFPAUq.js";import{V as $2}from"./VTooltip-CatPFXah.js";import{V as rte}from"./VTextarea-CR_S6i-v.js";import{V as KL,u as ate,a as ite,m as lte,g as ZH,b as cte,c as jH}from"./VSlider-BnNH4j7N.js";import{V as WH,m as dte}from"./VPicker-BNvQ31aE.js";import{_ as nF,a as P$}from"./FileCard.vue_vue_type_script_setup_true_lang-CHB_HJjN.js";import"./filter-DN9khlHE.js";import"./VForm-Ds-Pciay.js";import"./VWindowItem-BhUyBOw6.js";import"./VSheet-B0H-_6Rs.js";const ute=eb({...LJ(FJ({icon:"$menu",variant:"text"}),["spaced"])},"VAppBarNavIcon"),mte=J7()({name:"VAppBarNavIcon",props:ute(),setup(Q,re){let{slots:ke}=re;return vx(()=>F(_o,$c(Q,{class:["v-app-bar-nav-icon"]}),ke)),{}}});class gte extends VJ{constructor(re,ke,be){super(be,""),this.onError=re,this.showMessage=ke}camp=null;comptaURL="";hasToken(){return this.authToken!=""}setCamp(re,ke,be){this.camp=re,this.comptaURL=ke,this.authToken=be}handleError(re){const{kind:ke,messageHtml:be}=HJ(re);this.onError(ke,be)}startRequest(){}}const Mt=new gte((Q,re)=>{},(Q,re)=>{},zJ());function I$(Q){return Q.Content.Message.Origine==WL.Directeur&&Q.Content.Message.OrigineCamp.Id==Mt.camp?.Id}function L$(Q){return Mt.camp==null||I$(Q)?!1:!(Q.Content.VuParCampsIDs||[]).includes(Mt.camp.Id)}const MC=cr({__name:"NavBar",props:{title:{},hideMenu:{type:Boolean}},setup(Q){const re=Q,ke="/static/acve/logo.png",be="v0.8.1",Re=wo(!1);return(xe,ve)=>(mt(),xn(ys,null,[F(jee,{app:"",modelValue:Re.value,"onUpdate:modelValue":ve[0]||(ve[0]=_e=>Re.value=_e),temporary:""},{default:U(()=>[F(gs,{title:"Registro - Portail des directeurs",subtitle:be}),F(ki),F(gs,{"prepend-icon":"mdi-calendar-multiple-check",link:"",to:{path:"/inscriptions"},color:"primary"},{default:U(()=>[...ve[2]||(ve[2]=[wt(" Inscriptions ",-1)])]),_:1}),F(gs,{"prepend-icon":"mdi-mail",link:"",to:{path:"/documents"},color:"primary"},{default:U(()=>[...ve[3]||(ve[3]=[wt(" Documents ",-1)])]),_:1}),F(ki),F(gs,{"prepend-icon":"mdi-account-hard-hat",link:"",to:{path:"/equipiers"},color:"primary"},{default:U(()=>[...ve[4]||(ve[4]=[wt(" Equipiers ",-1)])]),_:1}),F(ki),F(gs,{"prepend-icon":"mdi-image-album",link:"",to:{path:"/photos"},color:"primary"},{default:U(()=>[...ve[5]||(ve[5]=[wt(" Album photos ",-1)])]),_:1}),F(ki),F(gs,{"prepend-icon":"mdi-comment-quote",link:"",to:{path:"/avis"},color:"primary"},{default:U(()=>[...ve[6]||(ve[6]=[wt(" Avis ",-1)])]),_:1}),F(ki),F(ki),F(gs,{"prepend-icon":"mdi-logout",link:"",to:{path:"/"},color:"primary"},{default:U(()=>[...ve[7]||(ve[7]=[wt(" Se déconnecter ",-1)])]),_:1})]),_:1},8,["modelValue"]),F($J,{rounded:"",elevation:"4",color:"secondary"},{append:U(()=>[jJ(xe.$slots,"default"),ve[8]||(ve[8]=Po("div",{class:"mr-2"},null,-1))]),default:U(()=>[re.hideMenu?js("",!0):(mt(),Qt(mte,{key:0,onClick:ve[1]||(ve[1]=_e=>Re.value=!Re.value)})),F(UJ,null,{default:U(()=>[F(Ar,null,{default:U(()=>[F(Go,{"align-self":"center",cols:"auto"},{default:U(()=>[F(ZJ,{width:"60",src:ke})]),_:1}),F(Go,{"align-self":"center"},{default:U(()=>[wt(sr(re.title),1)]),_:1})]),_:1})]),_:1})]),_:3})],64))}}),fte=cr({__name:"index",setup(Q){const re=jE();Zc(()=>{Re(),be()});const ke=wo([]);async function be(){const st=await Mt.GetCamps();st!==void 0&&(ke.value=st||[])}async function Re(){await re.isReady();const st=re.currentRoute.value.query.idCamp,Ue=re.currentRoute.value.query["backoffice-token"];st&&Ue&&ve(Number(st),Ue)}const xe=wo([]);async function ve(st,Ue){const ge=await Mt.Loggin({password:Ue,idCamp:st});ge!==void 0&&(ge.IsValid?(Mt.setCamp(ge.Camp,ge.ComptaURL,ge.Token),Mt.showMessage("Bienvenue !"),re.push({path:"/inscriptions"})):xe.value=["Mot de passe incorrect."])}const _e=wo(0),$e=wo(""),lt=wo(!1);function dt(){ve(_e.value,$e.value)}return(st,Ue)=>{const ge=Wee;return mt(),xn(ys,null,[F(MC,{title:"Connection à la page Directeur","hide-menu":""}),F(qJ,{class:"fill-height"},{default:U(()=>[F(Ds,{title:"Connection",class:"mx-auto",width:"400px"},{default:U(()=>[F(ws,null,{default:U(()=>[F(ge,{label:"Camp",modelValue:_e.value,"onUpdate:modelValue":Ue[0]||(Ue[0]=Je=>_e.value=Je),camps:ke.value,name:"user","default-style":""},null,8,["modelValue","camps"]),F(bx,{class:"mt-2",label:"Mot de passe",modelValue:$e.value,"onUpdate:modelValue":[Ue[2]||(Ue[2]=Je=>$e.value=Je),Ue[3]||(Ue[3]=Je=>xe.value=[])],"error-messages":xe.value,type:lt.value?void 0:"password",name:"password",onKeydown:Ue[4]||(Ue[4]=WJ(G7(()=>!_e.value||!$e.value.length?null:dt(),["prevent"]),["enter"]))},{"append-inner":U(()=>[F(_o,{class:"ml-2",size:"small",icon:lt.value?"mdi-eye":"mdi-eye-off",flat:"",onClick:Ue[1]||(Ue[1]=Je=>lt.value=!lt.value)},null,8,["icon"])]),_:1},8,["modelValue","error-messages","type"])]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{disabled:!_e.value||!$e.value.length,onClick:dt},{default:U(()=>[...Ue[5]||(Ue[5]=[wt("Se connecter",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}}),pte={key:1,class:"text-center font-italic"},hte={key:2},bte=cr({__name:"PannelInscriptions",emits:["goTo"],setup(Q,{emit:re}){const ke=re,be=wo(!1);Zc(xe);const Re=wo([]);async function xe(){be.value=!0;const ge=await Mt.InscriptionsGet();be.value=!1,ge!==void 0&&(Re.value=ge||[])}const ve=wo(""),_e=Ws(()=>{const ge=GJ(ve.value);return Re.value.filter(Je=>LH.match(Je.Responsable,ge)||Je.Participants?.some(St=>LH.match(St.Personne,ge)||KJ.match(St.Camp,ge)))});function $e(ge){const Je=Mt.camp.Id;return(ge.Participants||[]).filter(St=>St.Camp.Id==Je).every(St=>St.Participant.Statut!=QL.AStatuer)}async function lt(ge,Je){const St=await Mt.InscriptionsIdentifiePersonne({IdDossier:ge,Target:Je});if(St===void 0)return;Mt.showMessage("Profil identifié avec succès.");const Gt=Re.value.findIndex(we=>we.Dossier.Id==ge);Re.value[Gt]=St}const dt=wo(null);function st(ge){return(ge.Participants||[]).filter(Je=>Je.Camp.Id==Mt.camp?.Id).map(Je=>Je.Participant.Id)}async function Ue(ge,Je){if(!dt.value)return;const St=dt.value.inscription.Dossier.Id;dt.value=null;const Gt=await Mt.InscriptionsValide({IdDossier:St,Statuts:ge,SendMail:Je});if(Gt!==void 0)if(Mt.showMessage("Inscription validée avec succès.","",{title:"Aller aux participants",action:()=>ke("goTo")}),Gt.Dossier.IsValidated)Re.value=Re.value.filter(we=>we.Dossier.Id!=St);else{const we=Re.value.findIndex(Tt=>Tt.Dossier.Id==St);Re.value[we]=Gt}}return(ge,Je)=>{const St=Gee;return mt(),Qt(Ds,{title:"Inscriptions",subtitle:"En attente de validation",class:"ma-2"},{append:U(()=>[F(bx,{width:"300","append-inner-icon":"mdi-magnify",label:"Rechercher","hide-details":"",modelValue:ve.value,"onUpdate:modelValue":Je[0]||(Je[0]=Gt=>ve.value=Gt)},null,8,["modelValue"])]),default:U(()=>[F(ws,null,{default:U(()=>[be.value?(mt(),Qt(jp,{key:0})):Re.value.length?(mt(),xn("div",hte,[(mt(!0),xn(ys,null,Ia(_e.value,(Gt,we)=>(mt(),Qt(qee,{class:"my-1",user:_n(Mt).camp.Id,key:we,inscription:Gt,"hide-delete":"","already-validated":$e(Gt),onIdentifie:Tt=>lt(Gt.Dossier.Id,Tt),onValide:Tt=>dt.value={inscription:Gt,participants:Tt===void 0?st(Gt):[Tt]},api:{SearchSimilaires:_n(Mt).InscriptionsSearchSimilaires.bind(_n(Mt)),SelectPersonne:_n(Mt).SelectPersonne.bind(_n(Mt))}},null,8,["user","inscription","already-validated","onIdentifie","onValide","api"]))),128))])):(mt(),xn("div",pte," Il n'y a aucune inscription à valider. "))]),_:1}),F(lr,{"model-value":dt.value!=null,"onUpdate:modelValue":Je[1]||(Je[1]=Gt=>dt.value=null),"max-width":"800px"},{default:U(()=>[dt.value?(mt(),Qt(St,{key:0,inscription:dt.value.inscription,"id-participants":dt.value.participants,onValide:Ue},null,8,["inscription","id-participants"])):js("",!0)]),_:1},8,["model-value"])]),_:1})}}}),xte=eb({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:Q=>["even","odd"].includes(Q)},...UE(),...eee(),...JJ(),...QJ()},"VTable"),sF=J7()({name:"VTable",props:xte(),setup(Q,re){let{slots:ke,emit:be}=re;const{themeClasses:Re}=YJ(Q),{densityClasses:xe}=XJ(Q);return vx(()=>F(Q.tag,{class:J1(["v-table",{"v-table--fixed-height":!!Q.height,"v-table--fixed-header":Q.fixedHeader,"v-table--fixed-footer":Q.fixedFooter,"v-table--has-top":!!ke.top,"v-table--has-bottom":!!ke.bottom,"v-table--hover":Q.hover,"v-table--striped-even":Q.striped==="even","v-table--striped-odd":Q.striped==="odd"},Re.value,xe.value,Q.class]),style:NC(Q.style)},{default:()=>[ke.top?.(),ke.default?Po("div",{class:"v-table__wrapper",style:{height:DC(Q.height)}},[Po("table",null,[ke.default()])]):ke.wrapper?.(),ke.bottom?.()]})),{}}}),vte=["title"],yte={class:"py-2"},wte={class:"px-2 text-center"},_te={class:"px-2"},Cte={class:"px-2"},kte=cr({__name:"FichesSanitairesPannel",setup(Q){Zc(ke);const re=wo(null);async function ke(){const xe=await Mt.ParticipantsGetFichesSanitaires();xe!==void 0&&(re.value=xe||[])}function be(xe){switch(xe.State){case VE.NoFiche:return"red";case VE.Outdated:return"orange";case VE.UpToDate:return"green"}}async function Re(xe){const ve=await Mt.ParticipantsDownloadFicheSanitaire({idParticipant:xe});ve!==void 0&&(Mt.showMessage("Fiche sanitaire téléchargée avec succès."),tee(ve.blob,ve.filename))}return(xe,ve)=>re.value!=null?(mt(),Qt(Ds,{key:0,title:"Fiches sanitaires et vaccins","max-width":"1200px",class:"mx-auto"},{append:U(()=>[F(Lf,null,{activator:U(({props:_e})=>[F(_o,$c({icon:"mdi-download"},_e),null,16)]),default:U(()=>[F(Uc,null,{default:U(()=>[F(gs,{title:"Fiches sanitaires",subtitle:"Document unique au format .pdf (sans les vaccins)"})]),_:1})]),_:1})]),default:U(()=>[F(ws,null,{default:U(()=>[F(sF,null,{default:U(()=>[(mt(!0),xn(ys,null,Ia(re.value,_e=>(mt(),xn("tr",{title:_e.Personne},[Po("td",yte,sr(_e.Personne),1),Po("td",wte,[F(Wp,{color:be(_e)},{default:U(()=>[wt(sr(_n(y$)[_e.State]),1)]),_:2},1032,["color"])]),Po("td",_te,[_e.Fiche.TraitementMedical?(mt(),Qt(Wp,{key:0,"prepend-icon":"mdi-alert"},{default:U(()=>[...ve[0]||(ve[0]=[wt(" Traitement ",-1)])]),_:1})):js("",!0)]),ve[1]||(ve[1]=Po("td",{class:"px-2"},null,-1)),Po("td",Cte,[F(Lf,null,{activator:U(({props:$e})=>[F(_o,$c({ref_for:!0},$e,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:U(()=>[F(Uc,null,{default:U(()=>[F(gs,{title:"Fiche sanitaire",subtitle:"Télécharger au format .pdf","prepend-icon":"mdi-download",onClick:$e=>Re(_e.IdParticipant),disabled:_e.State==_n(VE).NoFiche},null,8,["onClick","disabled"]),F(ki,{thickness:"1"})]),_:2},1024)]),_:2},1024)])],8,vte))),256))]),_:1})]),_:1})]),_:1})):(mt(),Qt(jp,{key:1,type:"card"}))}}),Ste={class:"text-left py-1"},Ete={class:"text-center"},Ate={class:"text-center"},Tte={class:"text-right py-1"},Dte=cr({__name:"DocumentsPannel",setup(Q){Zc(ke);const re=wo(null);async function ke(){const st=await Mt.ParticipantsLoadFiles();st!==void 0&&(re.value=st)}const be=Ws(()=>Object.values(re.value?.Demandes||{}).sort((st,Ue)=>st.Id-Ue.Id).map(st=>({Id:st.Id,title:st.Categorie==oee.NoBuiltin?st.Description:w$[st.Categorie]})));function Re(st){const Ue=Object.values(re.value?.Demandes||{});return Ue?st.Fichesanitaire==VE.UpToDate&&Ue.every(ge=>((st.Files||{})[ge.Id]||[]).length!=0):!1}const xe=JL(new Set);async function ve(st){xe.add(st.Id);const Ue=await Mt.ParticipantsRelanceDocuments([st.Id]);xe.delete(st.Id),Ue!==void 0&&Mt.showMessage(`Message de relance pour ${st.Personne} envoyé avec succès.`)}const _e=wo(!1),$e=wo([]);function lt(){return(re.value?.Participants||[]).filter(st=>!Re(st)).map(st=>st.Id)}async function dt(){_e.value=!1;const st=$e.value;st.forEach(ge=>xe.add(ge));const Ue=await Mt.ParticipantsRelanceDocuments(st);st.forEach(ge=>xe.delete(ge)),Ue!==void 0&&Mt.showMessage("Messages de relance envoyés avec succès.")}return(st,Ue)=>re.value!=null?(mt(),Qt(Ds,{key:0,title:"Documents",subtitle:"Documents déposés via l'espace de suivi, à télécharger"},{append:U(()=>[F(_o,{class:"mx-1",onClick:Ue[0]||(Ue[0]=ge=>{$e.value=lt(),_e.value=!0}),disabled:xe.size!=0,"prepend-icon":"mdi-email-arrow-right"},{default:U(()=>[...Ue[3]||(Ue[3]=[wt(" Relancer...",-1)])]),_:1},8,["disabled"]),F(_o,{"prepend-icon":"mdi-download"},{default:U(()=>[Ue[4]||(Ue[4]=wt(" Télécharger... ",-1)),F(Lf,{activator:"parent"},{default:U(()=>[F(Uc,null,{default:U(()=>[F(gs,{title:"Fiches sanitaires",subtitle:"Télécharger un fichier .pdf",href:_n(Mt).DocumentsDownloadFichesSanitaires(_n(Mt).authToken)},null,8,["href"]),(mt(!0),xn(ys,null,Ia(be.value,ge=>(mt(),Qt(gs,{title:ge.title,subtitle:"Télécharger une archive .zip",href:_n(Mt).DocumentsStreamFiles(ge.Id,_n(Mt).authToken)},null,8,["title","href"]))),256))]),_:1})]),_:1})]),_:1})]),default:U(()=>[F(ws,null,{default:U(()=>[re.value.DocumentsReady?js("",!0):(mt(),Qt(oR,{key:0,type:"warning"},{append:U(()=>[F(_o,{"prepend-icon":"mdi-cog",to:{path:"/documents"}},{default:U(()=>[...Ue[5]||(Ue[5]=[wt(" Configurer ",-1)])]),_:1})]),default:U(()=>[Ue[6]||(Ue[6]=wt(" Les documents sont encore verrouillés et masqués aux participants. ",-1))]),_:1})),F(sF,{class:"mt-4"},{default:U(()=>[Po("tr",null,[Ue[7]||(Ue[7]=Po("th",{class:"text-left"},"Participant",-1)),Ue[8]||(Ue[8]=Po("th",null,"Fiche sanitaire",-1)),(mt(!0),xn(ys,null,Ia(be.value,ge=>(mt(),xn("th",null,sr(ge.title),1))),256)),Ue[9]||(Ue[9]=Po("th",{style:{width:"40px"}},null,-1))]),(mt(!0),xn(ys,null,Ia(re.value.Participants,ge=>(mt(),xn("tr",null,[Po("td",Ste,sr(ge.Personne),1),Po("td",Ete,[F(Wp,{color:_n(km).colorFichesanitaireState(ge.Fichesanitaire),density:"compact"},{default:U(()=>[wt(sr(_n(y$)[ge.Fichesanitaire]),1)]),_:2},1032,["color"])]),(mt(!0),xn(ys,null,Ia(be.value,Je=>(mt(),xn("td",Ate,[(ge.Files||{})[Je.Id]?.length?(mt(),Qt(_o,{key:0,icon:"",size:"small",flat:""},{default:U(()=>[F(Kr,{color:"green"},{default:U(()=>[...Ue[10]||(Ue[10]=[wt("mdi-check",-1)])]),_:1}),F(Lf,{activator:"parent"},{default:U(()=>[F(Uc,null,{default:U(()=>[(mt(!0),xn(ys,null,Ia((ge.Files||{})[Je.Id],St=>(mt(),Qt(gs,{title:St.NomClient,subtitle:`${_n(km).size(St.Taille)} - Ajouté ${_n(km).date(St.Uploaded)}`},{append:U(()=>[F(ste,{class:"ma-2","file-key":St.Key,"is-generated-doc":!1},null,8,["file-key"])]),_:2},1032,["title","subtitle"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)):(mt(),Qt(Kr,{key:1,color:"orange"},{default:U(()=>[...Ue[11]||(Ue[11]=[wt("mdi-alert ",-1)])]),_:1}))]))),256)),Po("td",Tte,[F(_o,{icon:"",size:"small",disabled:Re(ge)||xe.has(ge.Id),onClick:Je=>ve(ge)},{default:U(()=>[xe.has(ge.Id)?(mt(),Qt(eR,{key:0,size:"small"})):(mt(),Qt(Kr,{key:1,icon:"mdi-email-arrow-right"})),F($2,{activator:"parent"},{default:U(()=>[...Ue[12]||(Ue[12]=[wt(" Envoyer un email de relance ",-1)])]),_:1})]),_:2},1032,["disabled","onClick"])])]))),256))]),_:1})]),_:1}),F(lr,{modelValue:_e.value,"onUpdate:modelValue":Ue[2]||(Ue[2]=ge=>_e.value=ge),"max-width":"600px"},{default:U(()=>[F(Ds,{title:"Envoi d'une relance",subtitle:"Un mail de relance va être envoyé aux participants suivants."},{default:U(()=>[F(ws,null,{default:U(()=>[F(Kee,{density:"compact",multiple:"",chips:"","closable-chips":"",items:(re.value.Participants||[]).map(ge=>({title:ge.Personne,value:ge.Id})),modelValue:$e.value,"onUpdate:modelValue":Ue[1]||(Ue[1]=ge=>$e.value=ge)},null,8,["items","modelValue"])]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{onClick:dt,disabled:!$e.value.length,color:"green"},{default:U(()=>[...Ue[13]||(Ue[13]=[wt("Relancer",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})):(mt(),Qt(jp,{key:1,type:"card"}))}}),qH=cr({__name:"MessageRow",props:{message:{},showReply:{type:Boolean}},emits:["setSeen","startReply"],setup(Q,{emit:re}){const ke=Q,be=re,Re=Ws(()=>L$(ke.message)),xe=Ws(()=>I$(ke.message)),ve=Ws(()=>{const _e=ke.message.Content.Message.Origine;return _e==WL.Backoffice||_e==WL.FondSoutien});return(_e,$e)=>(mt(),Qt(Ar,{class:"my-1"},{default:U(()=>[F(Go,{"align-self":"center",cols:"1",class:"text-center"},{default:U(()=>[xe.value?js("",!0):(mt(),Qt($2,{key:0,text:Re.value?"Marquer comme lu":"Marquer comme non lu",location:"left"},{activator:U(({props:lt})=>[F(_o,$c(lt,{size:"small",icon:"",flat:"",onClick:$e[0]||($e[0]=dt=>be("setSeen",Re.value))}),{default:U(()=>[F(Kr,{color:Re.value?"pink":"",icon:Re.value?"mdi-message-badge":"mdi-message-check"},null,8,["color","icon"])]),_:1},16)]),_:1},8,["text"]))]),_:1}),F(Go,{"align-self":"center",class:J1({"rounded-lg":!0,"font-weight-bold":Re.value,"bg-purple-lighten-4":xe.value,"bg-green-lighten-4":ve.value,"bg-blue-lighten-4":!(xe.value||ve.value)}),style:{"font-size":"smaller"}},{default:U(()=>[Po("pre",null,sr(ke.message.Content.Message.Contenu),1)]),_:1},8,["class"]),ke.showReply?(mt(),Qt(Go,{key:0,"align-self":"center",cols:"auto"},{default:U(()=>[F(_o,{icon:"",size:"small",onClick:$e[1]||($e[1]=lt=>be("startReply"))},{default:U(()=>[F(Kr,null,{default:U(()=>[...$e[2]||($e[2]=[wt("mdi-reply",-1)])]),_:1})]),_:1})]),_:1})):js("",!0),F(Go,{"align-self":"center",cols:"2",class:"text-grey"},{default:U(()=>[wt(sr(_n(km).time(ke.message.Event.Created)),1)]),_:1})]),_:1}))}}),Ote=cr({__name:"MessagesPannel",setup(Q){Zc(ve);const re=wo(0),ke=wo(!1),be=Ws(()=>(xe.value?.Messages||[]).filter(st=>!ke.value||L$(st))),Re=Ws(()=>{const st=new Map;for(const Ue of be.value)st.set(Ue.Event.IdDossier,(st.get(Ue.Event.IdDossier)||[]).concat(Ue));return Array.from(st.entries()).map(Ue=>({IdDossier:Ue[0],Dossier:(xe.value?.Dossiers||{})[Ue[0]],Messages:Ue[1].reverse()})).sort((Ue,ge)=>Ue.Dossier.Responsable.localeCompare(ge.Dossier.Responsable))}),xe=wo(null);async function ve(){const st=await Mt.ParticipantsMessagesLoad();st!==void 0&&(xe.value=st||[])}async function _e(st,Ue){if(!xe.value)return;const ge=await Mt.ParticipantsMessageSetSeen({idEvent:st,seen:Ue});if(ge===void 0)return;const Je=xe.value.Messages?.findIndex(St=>St.Event.Id==st);xe.value.Messages[Je]=ge,Mt.showMessage(Ue?"Message marqué comme lu.":"Message marqué comme non lu.")}const $e=wo(null),lt=wo("");async function dt(){const st=$e.value;if(!xe.value||!st)return;$e.value=null;const Ue=await Mt.ParticipantsMessagesCreate({Contenu:lt.value,IdDossier:st});Ue!==void 0&&(Mt.showMessage("Message envoyé avec succès."),xe.value.Messages=[Ue].concat(xe.value.Messages||[]))}return(st,Ue)=>xe.value!=null?(mt(),Qt(Ds,{key:0,title:"Messages des familles"},{append:U(()=>[F(_$,{color:"secondary",class:"mx-1",modelValue:re.value,"onUpdate:modelValue":Ue[0]||(Ue[0]=ge=>re.value=ge),rounded:""},{default:U(()=>[F(_o,{size:"small","prepend-icon":"mdi-clock"},{default:U(()=>[...Ue[4]||(Ue[4]=[wt(" Trier par date",-1)])]),_:1}),F(_o,{size:"small","append-icon":"mdi-account"},{default:U(()=>[...Ue[5]||(Ue[5]=[wt(" Trier par inscrit",-1)])]),_:1})]),_:1},8,["modelValue"]),F(ki,{vertical:"",thickness:"1",class:"mx-1"}),F(_o,{icon:"",size:"small",class:"mx-1",variant:ke.value?"tonal":"elevated",onClick:Ue[1]||(Ue[1]=ge=>ke.value=!ke.value)},{default:U(()=>[F(Kr,{color:"pink"},{default:U(()=>[...Ue[6]||(Ue[6]=[wt("mdi-message-badge",-1)])]),_:1}),F($2,{activator:"parent"},{default:U(()=>[...Ue[7]||(Ue[7]=[wt(" Filtrer les messages non lu ",-1)])]),_:1})]),_:1},8,["variant"])]),default:U(()=>[re.value==0?(mt(),Qt(ws,{key:0},{default:U(()=>[(mt(!0),xn(ys,null,Ia(be.value,ge=>(mt(),Qt(qH,{message:ge,onSetSeen:Je=>_e(ge.Event.Id,Je),onStartReply:Je=>$e.value=ge.Event.IdDossier,"show-reply":!0},null,8,["message","onSetSeen","onStartReply"]))),256))]),_:1})):(mt(),Qt(ws,{key:1},{default:U(()=>[(mt(!0),xn(ys,null,Ia(Re.value,ge=>(mt(),Qt(Ds,{title:ge.Dossier.Responsable,subtitle:(ge.Dossier.Participants||[]).join(", "),class:"my-2"},{append:U(()=>[F(_o,{size:"small",onClick:Je=>$e.value=ge.IdDossier,"prepend-icon":"mdi-reply"},{default:U(()=>[...Ue[8]||(Ue[8]=[wt(" Répondre",-1)])]),_:1},8,["onClick"])]),default:U(()=>[F(ws,null,{default:U(()=>[(mt(!0),xn(ys,null,Ia(ge.Messages,Je=>(mt(),Qt(qH,{message:Je,onSetSeen:St=>_e(Je.Event.Id,St),onStartReply:St=>$e.value=Je.Event.IdDossier,"show-reply":!1},null,8,["message","onSetSeen","onStartReply"]))),256))]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})),F(lr,{"model-value":$e.value!==null,"onUpdate:modelValue":Ue[3]||(Ue[3]=ge=>$e.value=null),"max-width":"600px"},{default:U(()=>[$e.value?(mt(),Qt(Ds,{key:0,title:"Nouveau message",subtitle:(xe.value.Dossiers||{})[$e.value].Responsable},{default:U(()=>[F(ws,null,{default:U(()=>[F(rte,{autofocus:"",placeholder:"Rédigez votre message...",modelValue:lt.value,"onUpdate:modelValue":Ue[2]||(Ue[2]=ge=>lt.value=ge),rows:"10"},null,8,["modelValue"])]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{disabled:!lt.value.length,onClick:dt,"prepend-icon":"mdi-send"},{default:U(()=>[...Ue[9]||(Ue[9]=[wt(" Envoyer",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1},8,["subtitle"])):js("",!0)]),_:1},8,["model-value"])]),_:1})):(mt(),Qt(jp,{key:1,type:"card"}))}}),Rte=cr({__name:"StatistiquesCard",props:{participants:{}},setup(Q){const re=Q,ke=Ws(()=>re.participants.filter(be=>be.Participant.Statut==QL.Inscrit));return(be,Re)=>(mt(),Qt(Ds,{subtitle:"Statistiques",width:"300px"},{default:U(()=>[F(ws,null,{default:U(()=>[F(Ar,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[F(Go,null,{default:U(()=>[...Re[0]||(Re[0]=[wt(" Inscrits ",-1)])]),_:1}),F(Go,{cols:"auto"},{default:U(()=>[F(Cm,{color:"secondary",inline:"",content:ke.value.length},null,8,["content"])]),_:1})]),_:1}),F(Ar,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[F(Go,null,{default:U(()=>[...Re[1]||(Re[1]=[wt(" Garçons/Filles ",-1)])]),_:1}),F(Go,{cols:"auto"},{default:U(()=>[F(Cm,{color:"secondary",inline:"",content:`${ke.value.filter(xe=>xe.Personne.Sexe==_n(FH).Man).length} /  ${ke.value.filter(xe=>xe.Personne.Sexe==_n(FH).Woman).length}`},null,8,["content"])]),_:1})]),_:1}),F(Ar,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[F(Go,null,{default:U(()=>[...Re[2]||(Re[2]=[wt(" Anniversaires ",-1)])]),_:1}),F(Go,{cols:"auto"},{default:U(()=>[F(Cm,{color:"amber-lighten-1",inline:"",content:ke.value.filter(xe=>xe.HasBirthday).length},null,8,["content"])]),_:1})]),_:1}),F(ki,{thickness:"1"}),F(Ar,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[F(Go,null,{default:U(()=>[...Re[3]||(Re[3]=[wt(" Liste d'attente ",-1)])]),_:1}),F(Go,{cols:"auto"},{default:U(()=>[F(Cm,{color:"orange",inline:"",content:re.participants.length-ke.value.length},null,8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Nte=eb({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...UE()},"VColorPickerCanvas"),Mte=ZE({name:"VColorPickerCanvas",props:Nte(),emits:{"update:color":Q=>!0,"update:position":Q=>!0},setup(Q,re){let{emit:ke}=re;const be=VL(!1),Re=wo(),xe=VL(parseFloat(Q.width)),ve=VL(parseFloat(Q.height)),_e=wo({x:0,y:0}),$e=Ws({get:()=>_e.value,set(Gt){if(!Re.value)return;const{x:we,y:Tt}=Gt;_e.value=Gt,ke("update:color",{h:Q.color?.h??0,s:j7(we,0,xe.value)/xe.value,v:1-j7(Tt,0,ve.value)/ve.value,a:Q.color?.a??1})}}),lt=Ws(()=>{const{x:Gt,y:we}=$e.value,Tt=parseInt(Q.dotSize,10)/2;return{width:DC(Q.dotSize),height:DC(Q.dotSize),transform:`translate(${DC(Gt-Tt)}, ${DC(we-Tt)})`}}),{resizeRef:dt}=nee(Gt=>{if(!dt.el?.offsetParent)return;const{width:we,height:Tt}=Gt[0].contentRect;xe.value=we,ve.value=Tt});function st(Gt,we,Tt){const{left:tt,top:se,width:We,height:ne}=Tt;$e.value={x:j7(Gt-tt,0,We),y:j7(we-se,0,ne)}}function Ue(Gt){Gt.type==="mousedown"&&Gt.preventDefault(),!Q.disabled&&(ge(Gt),window.addEventListener("mousemove",ge),window.addEventListener("mouseup",Je),window.addEventListener("touchmove",ge),window.addEventListener("touchend",Je))}function ge(Gt){if(Q.disabled||!Re.value)return;be.value=!0;const we=see(Gt);st(we.clientX,we.clientY,Re.value.getBoundingClientRect())}function Je(){window.removeEventListener("mousemove",ge),window.removeEventListener("mouseup",Je),window.removeEventListener("touchmove",ge),window.removeEventListener("touchend",Je)}function St(){if(!Re.value)return;const Gt=Re.value,we=Gt.getContext("2d");if(!we)return;const Tt=we.createLinearGradient(0,0,Gt.width,0);Tt.addColorStop(0,"hsla(0, 0%, 100%, 1)"),Tt.addColorStop(1,`hsla(${Q.color?.h??0}, 100%, 50%, 1)`),we.fillStyle=Tt,we.fillRect(0,0,Gt.width,Gt.height);const tt=we.createLinearGradient(0,0,0,Gt.height);tt.addColorStop(0,"hsla(0, 0%, 0%, 0)"),tt.addColorStop(1,"hsla(0, 0%, 0%, 1)"),we.fillStyle=tt,we.fillRect(0,0,Gt.width,Gt.height)}return xx(()=>Q.color?.h,St,{immediate:!0}),xx(()=>[xe.value,ve.value],(Gt,we)=>{St(),_e.value={x:$e.value.x*Gt[0]/we[0],y:$e.value.y*Gt[1]/we[1]}},{flush:"post"}),xx(()=>Q.color,()=>{if(be.value){be.value=!1;return}_e.value=Q.color?{x:Q.color.s*xe.value,y:(1-Q.color.v)*ve.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Zc(()=>St()),vx(()=>Po("div",{ref:dt,class:J1(["v-color-picker-canvas",Q.class]),style:NC(Q.style),onMousedown:Ue,onTouchstartPassive:Ue},[Po("canvas",{ref:Re,width:xe.value,height:ve.value},null),Q.color&&Po("div",{class:J1(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":Q.disabled}]),style:NC(lt.value)},null)])),{}}});function Bte(Q,re){if(re){const{a:ke,...be}=Q;return be}return Q}function Pte(Q,re){if(re==null||typeof re=="string"){const ke=Q.a!==1;if(re?.startsWith("rgb(")){const{r:Re,g:xe,b:ve,a:_e}=GL(Q);return`rgb(${Re} ${xe} ${ve}`+(ke?` / ${_e})`:")")}else if(re?.startsWith("hsl(")){const{h:Re,s:xe,l:ve,a:_e}=qL(Q);return`hsl(${Re} ${Math.round(xe*100)} ${Math.round(ve*100)}`+(ke?` / ${_e})`:")")}const be=C$(Q);return Q.a===1?be.slice(0,7):be}if(typeof re=="object"){let ke;return W7(re,["r","g","b"])?ke=GL(Q):W7(re,["h","s","l"])?ke=qL(Q):W7(re,["h","s","v"])&&(ke=Q),Bte(ke,!W7(re,["a"])&&Q.a===1)}return Q}const RC={h:0,s:0,v:0,a:1},YL={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:Q=>Math.round(Q.r),getColor:(Q,re)=>({...Q,r:Number(re)}),localeKey:"redInput"},{label:"G",max:255,step:1,getValue:Q=>Math.round(Q.g),getColor:(Q,re)=>({...Q,g:Number(re)}),localeKey:"greenInput"},{label:"B",max:255,step:1,getValue:Q=>Math.round(Q.b),getColor:(Q,re)=>({...Q,b:Number(re)}),localeKey:"blueInput"},{label:"A",max:1,step:.01,getValue:Q=>{let{a:re}=Q;return re!=null?Math.round(re*100)/100:1},getColor:(Q,re)=>({...Q,a:Number(re)}),localeKey:"alphaInput"}],to:GL,from:tR},Ite={...YL,inputs:YL.inputs?.slice(0,3)},XL={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:Q=>Math.round(Q.h),getColor:(Q,re)=>({...Q,h:Number(re)}),localeKey:"hueInput"},{label:"S",max:1,step:.01,getValue:Q=>Math.round(Q.s*100)/100,getColor:(Q,re)=>({...Q,s:Number(re)}),localeKey:"saturationInput"},{label:"L",max:1,step:.01,getValue:Q=>Math.round(Q.l*100)/100,getColor:(Q,re)=>({...Q,l:Number(re)}),localeKey:"lightnessInput"},{label:"A",max:1,step:.01,getValue:Q=>{let{a:re}=Q;return re!=null?Math.round(re*100)/100:1},getColor:(Q,re)=>({...Q,a:Number(re)}),localeKey:"alphaInput"}],to:qL,from:aee},Lte={...XL,inputs:XL.inputs.slice(0,3)},F$={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:Q=>Q,getColor:(Q,re)=>re,localeKey:"hexaInput"}],to:C$,from:ree},Fte={...F$,inputs:[{label:"HEX",getValue:Q=>Q.slice(0,7),getColor:(Q,re)=>re,localeKey:"hexInput"}]},H2={rgb:Ite,rgba:YL,hsl:Lte,hsla:XL,hex:Fte,hexa:F$},zte=Q=>{let{label:re,...ke}=Q;return Po("div",{class:"v-color-picker-edit__input"},[Po("input",iee(lee(ke)),null),Po("span",null,[re])])},Vte=eb({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:Q=>Object.keys(H2).includes(Q)},modes:{type:Array,default:()=>Object.keys(H2),validator:Q=>Array.isArray(Q)&&Q.every(re=>Object.keys(H2).includes(re))},...UE()},"VColorPickerEdit"),Hte=ZE({name:"VColorPickerEdit",props:Vte(),emits:{"update:color":Q=>!0,"update:mode":Q=>!0},setup(Q,re){let{emit:ke}=re;const{t:be}=k$(),Re=Ws(()=>Q.modes.map(ve=>({...H2[ve],name:ve}))),xe=Ws(()=>{const ve=Re.value.find($e=>$e.name===Q.mode);if(!ve)return[];const _e=Q.color?ve.to(Q.color):null;return ve.inputs?.map($e=>{let{getValue:lt,getColor:dt,localeKey:st,...Ue}=$e;return{...ve.inputProps,...Ue,ariaLabel:be(`$vuetify.colorPicker.ariaLabel.${st}`),disabled:Q.disabled,value:_e&&lt(_e),onChange:ge=>{const Je=ge.target;Je&&ke("update:color",ve.from(dt(_e??ve.to(RC),Je.value)))}}})});return vx(()=>Po("div",{class:J1(["v-color-picker-edit",Q.class]),style:NC(Q.style)},[xe.value?.map(ve=>F(zte,ve,null)),Re.value.length>1&&F(_o,{icon:"$unfold",size:"x-small",variant:"plain","aria-label":be("$vuetify.colorPicker.ariaLabel.changeFormat"),onClick:()=>{const ve=Re.value.findIndex(_e=>_e.name===Q.mode);ke("update:mode",Re.value[(ve+1)%Re.value.length].name)}},null)])),{}}}),z$=eb({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,hideEyeDropper:Boolean,eyeDropperIcon:{type:cee,default:"$eyeDropper"},...UE()},"VColorPickerPreview"),$te=ZE({name:"VColorPickerPreview",props:z$(),emits:{"update:color":Q=>!0},setup(Q,re){let{emit:ke}=re;const{t:be}=k$(),Re=new AbortController;dee(()=>Re.abort());async function xe(){if(!zH||Q.disabled)return;const ve=new window.EyeDropper;try{const _e=await ve.open({signal:Re.signal}),$e=tR(eF(_e.sRGBHex));ke("update:color",{...Q.color??RC,...$e})}catch{}}return vx(()=>Po("div",{class:J1(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":Q.hideAlpha},Q.class]),style:NC(Q.style)},[zH&&!Q.hideEyeDropper&&Po("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[F(_o,{"aria-label":be("$vuetify.colorPicker.ariaLabel.eyedropper"),density:"comfortable",disabled:Q.disabled,icon:Q.eyeDropperIcon,variant:"plain",onClick:xe},null)]),Po("div",{class:"v-color-picker-preview__dot"},[Po("div",{style:{background:S$(Q.color??RC)}},null)]),Po("div",{class:"v-color-picker-preview__sliders"},[F(KL,{class:"v-color-picker-preview__track v-color-picker-preview__hue",name:be("$vuetify.colorPicker.ariaLabel.hueSlider"),modelValue:Q.color?.h,"onUpdate:modelValue":ve=>ke("update:color",{...Q.color??RC,h:ve}),step:1,min:0,max:360,disabled:Q.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!Q.hideAlpha&&F(KL,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",name:be("$vuetify.colorPicker.ariaLabel.alphaSlider"),modelValue:Q.color?.a??1,"onUpdate:modelValue":ve=>ke("update:color",{...Q.color??RC,a:ve}),step:.01,min:0,max:1,disabled:Q.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])),{}}}),Ute={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Zte={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},jte={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Wte={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},qte={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Gte={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Kte={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},Yte={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Xte={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},Qte={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},Jte={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},eoe={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},toe={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},ooe={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},noe={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},soe={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},roe={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},aoe={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},ioe={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},loe={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},coe={red:Ute,pink:Zte,purple:jte,deepPurple:Wte,indigo:qte,blue:Gte,lightBlue:Kte,cyan:Yte,teal:Xte,green:Qte,lightGreen:Jte,lime:eoe,yellow:toe,amber:ooe,orange:noe,deepOrange:soe,brown:roe,blueGrey:aoe,grey:ioe,shades:loe},doe=eb({swatches:{type:Array,default:()=>uoe(coe)},disabled:Boolean,color:Object,maxHeight:[Number,String],...UE()},"VColorPickerSwatches");function uoe(Q){return Object.keys(Q).map(re=>{const ke=Q[re];return ke.base?[ke.base,ke.darken4,ke.darken3,ke.darken2,ke.darken1,ke.lighten1,ke.lighten2,ke.lighten3,ke.lighten4,ke.lighten5]:[ke.black,ke.white,ke.transparent]})}const moe=ZE({name:"VColorPickerSwatches",props:doe(),emits:{"update:color":Q=>!0},setup(Q,re){let{emit:ke}=re;return vx(()=>Po("div",{class:J1(["v-color-picker-swatches",Q.class]),style:NC([{maxHeight:DC(Q.maxHeight)},Q.style])},[Po("div",null,[Q.swatches.map(be=>Po("div",{class:"v-color-picker-swatches__swatch"},[be.map(Re=>{const xe=eF(Re),ve=tR(xe),_e=uee(xe);return Po("div",{class:"v-color-picker-swatches__color",onClick:()=>ve&&ke("update:color",ve)},[Po("div",{style:{background:_e}},[Q.color&&mee(Q.color,ve)?F(Kr,{size:"x-small",icon:"$success",color:gee(Re,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),goe=eb({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:Q=>Object.keys(H2).includes(Q)},modes:{type:Array,default:()=>Object.keys(H2),validator:Q=>Array.isArray(Q)&&Q.every(re=>Object.keys(H2).includes(re))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...dte({hideHeader:!0}),...hee(z$(),["hideEyeDropper","eyeDropperIcon"])},"VColorPicker"),foe=ZE({name:"VColorPicker",props:goe(),emits:{"update:modelValue":Q=>!0,"update:mode":Q=>!0},setup(Q,re){let{slots:ke}=re;const be=K7(Q,"mode"),Re=wo(null),xe=K7(Q,"modelValue",void 0,dt=>{if(dt==null||dt==="")return null;let st;try{st=tR(eF(dt))}catch{return null}return st},dt=>dt?Pte(dt,Q.modelValue):null),ve=Ws(()=>xe.value?{...xe.value,h:Re.value??xe.value.h}:null),{rtlClasses:_e}=E$();let $e=!0;xx(xe,dt=>{if(!$e){$e=!0;return}dt&&(Re.value=dt.h)},{immediate:!0});const lt=dt=>{$e=!1,Re.value=dt.h,xe.value=dt};return fee(()=>{Q.modes.includes(be.value)||(be.value=Q.modes[0])}),pee({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),vx(()=>{const dt=WH.filterProps(Q);return F(WH,$c(dt,{class:["v-color-picker",_e.value,Q.class],style:[{"--v-color-picker-color-hsv":S$({...ve.value??RC,a:1})},Q.style]}),{...ke,default:()=>Po(ys,null,[!Q.hideCanvas&&F(Mte,{key:"canvas",color:ve.value,"onUpdate:color":lt,disabled:Q.disabled,dotSize:Q.dotSize,width:Q.width,height:Q.canvasHeight},null),(!Q.hideSliders||!Q.hideInputs)&&Po("div",{key:"controls",class:"v-color-picker__controls"},[!Q.hideSliders&&F($te,{key:"preview",color:ve.value,"onUpdate:color":lt,hideAlpha:!be.value.endsWith("a"),disabled:Q.disabled,hideEyeDropper:Q.hideEyeDropper,eyeDropperIcon:Q.eyeDropperIcon},null),!Q.hideInputs&&F(Hte,{key:"edit",modes:Q.modes,mode:be.value,"onUpdate:mode":st=>be.value=st,color:ve.value,"onUpdate:color":lt,disabled:Q.disabled},null)]),Q.showSwatches&&F(moe,{key:"swatches",color:ve.value,"onUpdate:color":lt,maxHeight:Q.swatchesMaxHeight,swatches:Q.swatches,disabled:Q.disabled},null)])})}),{}}}),V$=cr({__name:"ColorField",props:Y7({label:{},swatches:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(Q){const re=Q,ke=tF(Q,"modelValue");function be(ve){ke.value=ve.substring(0,7)}const Re=Ws(()=>{const ve=[];let _e=re.swatches.length,$e=5;for(let lt=0;lt<_e;lt+=$e)ve.push(re.swatches.slice(lt,lt+$e));return ve}),xe=Ws(()=>re.swatches.length!=0);return(ve,_e)=>(mt(),Qt(Ar,null,{default:U(()=>[F(Go,{"align-self":"center",class:"ml-2"},{default:U(()=>[wt(sr(re.label),1)]),_:1}),F(Go,{"align-self":"center",cols:"auto"},{default:U(()=>[F(Lf,{top:"","close-on-content-click":!1},{activator:U(({props:$e})=>[F(_o,$c({color:ke.value},$e,{width:"90px"}),null,16,["color"])]),default:U(()=>[F(Ds,null,{default:U(()=>[F(ws,{class:"pa-0"},{default:U(()=>[F(foe,{value:ke.value||"#252EBC","onUpdate:modelValue":be,flat:"",swatches:Re.value,"show-swatches":xe.value,"hide-canvas":xe.value,"hide-sliders":xe.value,mode:"hex"},null,8,["value","swatches","show-swatches","hide-canvas","hide-sliders"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});function H$(Q){const re=Object.values(Q||{});return re.sort((ke,be)=>new Date(ke.Fin).valueOf()-new Date(be.Fin).valueOf()),re}function poe(Q,re){const ke=new Date(re).valueOf();for(const be of Q){const Re=new Date(be.Fin).valueOf();if(ke<=Re)return be.Id}return null}function $$(Q){const re={},ke=H$(Q);if(ke.length==0)return re;const be=Array.from({length:ke.length});be[0]=["",ke[0].Fin];for(let Re=1;Re<ke.length;Re++){const xe=ke[Re],ve=ke[Re-1],_e=bee(ve.Fin,1);be[Re]=[_e,xe.Fin]}return ke.forEach((Re,xe)=>re[Re.Id]=be[xe]),re}function U$(Q){const[re,ke]=Q;return A$(re)?`né avant le ${km.dateNaissance(ke)}`:`né entre le ${km.dateNaissance(re)} et le ${km.dateNaissance(ke)}`}function hoe(Q,re){const ke=H$(Q),be={};let Re=!1;for(const xe of re){if(xe.Participant.Statut!=QL.Inscrit)continue;const ve=poe(ke,xe.Personne.DateNaissance);ve===null?Re=!0:be[ve]=(be[ve]||0)+1}return{sizes:be,isMissing:Re}}const boe=eb({disabled:Boolean,modelValue:{type:Boolean,default:null},...vee()},"VHover"),xoe=J7()({name:"VHover",props:boe(),emits:{"update:modelValue":Q=>!0},setup(Q,re){let{slots:ke}=re;const be=K7(Q,"modelValue"),{runOpenDelay:Re,runCloseDelay:xe}=xee(Q,ve=>!Q.disabled&&(be.value=ve));return()=>ke.default?.({isHovering:be.value,props:{onMouseenter:Re,onMouseleave:xe}})}}),voe=eb({...Cee(),..._ee(),...lte(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),yoe=J7()({name:"VRangeSlider",props:voe(),emits:{"update:focused":Q=>!0,"update:modelValue":Q=>!0,end:Q=>!0,start:Q=>!0},setup(Q,re){let{slots:ke,emit:be}=re;const Re=wo(),xe=wo(),ve=wo(),{rtlClasses:_e}=E$();function $e(Me){if(!Re.value||!xe.value)return;const Ut=ZH(Me,Re.value.$el,Q.direction),E=ZH(Me,xe.value.$el,Q.direction),mo=Math.abs(Ut),To=Math.abs(E);return mo<To||mo===To&&Ut<0?Re.value.$el:xe.value.$el}const lt=ate(Q),dt=K7(Q,"modelValue",void 0,Me=>Me?.length?Me.map(Ut=>lt.roundValue(Ut)):[0,0]),{activeThumbRef:st,hasLabels:Ue,max:ge,min:Je,mousePressed:St,onSliderMousedown:Gt,onSliderTouchstart:we,position:Tt,trackContainerRef:tt,disabled:se,readonly:We}=ite({props:Q,steps:lt,onSliderStart:()=>{if(se.value||We.value){st.value?.blur();return}be("start",dt.value)},onSliderEnd:Me=>{let{value:Ut}=Me;if(se.value||We.value)st.value?.blur();else{const E=st.value===Re.value?.$el?[Ut,dt.value[1]]:[dt.value[0],Ut];!Q.strict&&E[0]<E[1]&&(dt.value=E)}be("end",dt.value)},onSliderMove:Me=>{let{value:Ut}=Me;const[E,mo]=dt.value;if(se.value||We.value){st.value?.blur();return}!Q.strict&&E===mo&&E!==Je.value&&(st.value=Ut>E?xe.value?.$el:Re.value?.$el,st.value?.focus()),st.value===Re.value?.$el?dt.value=[Math.min(Ut,mo),mo]:dt.value=[E,Math.max(E,Ut)]},getActiveThumb:$e}),{isFocused:ne,focus:nt,blur:Ko}=yee(Q),Co=Ws(()=>Tt(dt.value[0])),to=Ws(()=>Tt(dt.value[1]));return vx(()=>{const Me=VH.filterProps(Q),Ut=!!(Q.label||ke.label||ke.prepend);return F(VH,$c({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!ke["tick-label"]||Ue.value,"v-slider--focused":ne.value,"v-slider--pressed":St.value,"v-slider--disabled":se.value},_e.value,Q.class],style:Q.style,ref:ve},Me,{focused:ne.value}),{...ke,prepend:Ut?E=>Po(ys,null,[ke.label?.(E)??(Q.label?F(kee,{class:"v-slider__label",text:Q.label},null):void 0),ke.prepend?.(E)]):void 0,default:E=>{let{id:mo,messagesId:To}=E;return Po("div",{class:"v-slider__container",onMousedown:We.value?void 0:Gt,onTouchstartPassive:We.value?void 0:we},[Po("input",{id:`${mo.value}_start`,name:Q.name||mo.value,disabled:se.value,readonly:We.value,tabindex:"-1",value:dt.value[0]},null),Po("input",{id:`${mo.value}_stop`,name:Q.name||mo.value,disabled:se.value,readonly:We.value,tabindex:"-1",value:dt.value[1]},null),F(cte,{ref:tt,start:Co.value,stop:to.value},{"tick-label":ke["tick-label"]}),F(jH,{ref:Re,"aria-describedby":To.value,focused:ne&&st.value===Re.value?.$el,modelValue:dt.value[0],"onUpdate:modelValue":yn=>dt.value=[yn,dt.value[1]],onFocus:yn=>{nt(),st.value=Re.value?.$el,ge.value!==Je.value&&dt.value[0]===dt.value[1]&&dt.value[1]===Je.value&&yn.relatedTarget!==xe.value?.$el&&(Re.value?.$el.blur(),xe.value?.$el.focus())},onBlur:()=>{Ko(),st.value=void 0},min:Je.value,max:dt.value[1],position:Co.value,ripple:Q.ripple},{"thumb-label":ke["thumb-label"]}),F(jH,{ref:xe,"aria-describedby":To.value,focused:ne&&st.value===xe.value?.$el,modelValue:dt.value[1],"onUpdate:modelValue":yn=>dt.value=[dt.value[0],yn],onFocus:yn=>{nt(),st.value=xe.value?.$el,ge.value!==Je.value&&dt.value[0]===dt.value[1]&&dt.value[0]===ge.value&&yn.relatedTarget!==Re.value?.$el&&(xe.value?.$el.blur(),Re.value?.$el.focus())},onBlur:()=>{Ko(),st.value=void 0},min:dt.value[0],max:ge.value,position:to.value,ripple:Q.ripple},{"thumb-label":ke["thumb-label"]})])}})}),wee({focus:()=>Re.value?.$el.focus()},ve)}}),GH=1e3*60*60*24,woe=cr({__name:"GroupesDateSlider",props:Y7({groupes:{},start:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:Y7(["refresh"],["update:modelValue"]),setup(Q,{emit:re}){const ke=Q,be=tF(Q,"modelValue"),Re=ve(ke.groupes.MinHint)-365,xe=ve(ke.groupes.MaxHint)+365;function ve($e){return new Date($e).valueOf()/GH}function _e($e){return See(new Date(GH*$e))}return($e,lt)=>(mt(),Qt(xoe,null,{default:U(({isHovering:dt,props:st})=>[dt?(mt(),Qt(KL,$c({key:1},st,{color:"primary","hide-details":"",min:Re,max:xe,"thumb-label":"","model-value":ve(be.value),"onUpdate:modelValue":lt[0]||(lt[0]=Ue=>be.value=_e(Ue))}),{"thumb-label":U(({modelValue:Ue})=>[wt(sr(_n(km).dateNaissance(_e(Ue))),1)]),_:1},16,["model-value"])):(mt(),Qt(yoe,$c({key:0},st,{"hide-details":"",min:Re,max:xe,"model-value":[_n(A$)(Q.start)?Re:ve(Q.start),ve(be.value)],color:"primary"}),null,16,["model-value"]))]),_:1}))}}),_oe=cr({__name:"GroupesPlagesEditPannel",props:{groupes:{},participants:{}},emits:["save"],setup(Q,{emit:re}){const ke=Q,be=re,Re=JL(V2(ke.groupes.Groupes||{})),xe=Ws(()=>$$(Re)),ve=Ws(()=>hoe(Re,ke.participants));function _e(){for(const lt of Object.values(ke.groupes.ParticipantsToGroupe||{}))if(lt.Manuel)return!0;return!1}const $e=wo(!1);return(lt,dt)=>(mt(),Qt(Ds,{title:"Modifier les plages",subtitle:"La plage de chaque groupe est définie par la date de naissance de fin (et le début du groupe précédent)."},{default:U(()=>[F(ws,null,{default:U(()=>[ve.value.isMissing?(mt(),Qt(oR,{key:0,type:"warning"},{default:U(()=>[...dt[4]||(dt[4]=[wt(" Attention, les plages définies ne prennent pas en compte tout les inscrits. ",-1)])]),_:1})):js("",!0),F(Uc,null,{default:U(()=>[(mt(!0),xn(ys,null,Ia(Object.values(Re),st=>(mt(),Qt(gs,{title:st.Nom,subtitle:_n(U$)(xe.value[st.Id])},{prepend:U(()=>[F(Cm,{inline:"",color:st.Couleur},null,8,["color"])]),append:U(()=>[F(Ar,{style:{width:"300px"}},{default:U(()=>[F(Go,{"align-self":"center",cols:"8",class:"my-4"},{default:U(()=>[F(woe,{groupes:ke.groupes,modelValue:st.Fin,"onUpdate:modelValue":Ue=>st.Fin=Ue,start:xe.value[st.Id][0]},null,8,["groupes","modelValue","onUpdate:modelValue","start"])]),_:2},1024),F(Go,{"align-self":"center",cols:"4"},{default:U(()=>[F(Wp,{"prepend-icon":"mdi-account-multiple"},{default:U(()=>[wt(sr(ve.value.sizes[st.Id]||0),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1}),F(Ol,null,{default:U(()=>[F(_o,{"prepend-icon":"mdi-check",onClick:dt[0]||(dt[0]=()=>_e()?$e.value=!0:be("save",Re,!0))},{default:U(()=>[...dt[5]||(dt[5]=[wt("Enregistrer et appliquer",-1)])]),_:1})]),_:1}),F(lr,{modelValue:$e.value,"onUpdate:modelValue":dt[3]||(dt[3]=st=>$e.value=st),"max-width":"600px"},{default:U(()=>[F(Ds,{title:"Mise à jour des groupes"},{default:U(()=>[F(ws,null,{default:U(()=>[...dt[6]||(dt[6]=[wt(" Certains participants ont déjà un groupe, affecté manuellement. ",-1),Po("br",null,null,-1),wt(" Vous pouvez conserver ce choix ou le remplacer par celui définit par les dates de naissance. ",-1)])]),_:1}),F(Ol,null,{default:U(()=>[F(_o,{onClick:dt[1]||(dt[1]=st=>be("save",Re,!1))},{default:U(()=>[...dt[7]||(dt[7]=[wt("Conserver les affectations manuelles",-1)])]),_:1}),F(uc),F(_o,{onClick:dt[2]||(dt[2]=st=>be("save",Re,!0))},{default:U(()=>[...dt[8]||(dt[8]=[wt("Tout mettre à jour",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}}),Coe=cr({__name:"GroupesPannel",props:{groupes:{},participants:{}},emits:["refresh"],setup(Q,{emit:re}){const ke=Q,be=re;async function Re(){const Ue=await Mt.GroupeCreate();Ue!==void 0&&(Mt.showMessage("Groupe créé avec succès."),be("refresh"),xe.value=Ue)}const xe=wo(null);async function ve(){if(xe.value==null)return;const Ue=await Mt.GroupeUpdate(xe.value);xe.value=null,Ue!==void 0&&(Mt.showMessage("Groupe modifié avec succès."),be("refresh"))}const _e=wo(null);async function $e(){if(_e.value==null)return;const Ue=await Mt.GroupeDelete({id:_e.value.Id});_e.value=null,Ue!==void 0&&(Mt.showMessage("Groupe supprimé avec succès."),be("refresh"))}const lt=Ws(()=>$$(ke.groupes.Groupes)),dt=wo(!1);async function st(Ue,ge){dt.value=!1,await Mt.GroupeUpdatePlages({Fins:Object.fromEntries(Object.values(Ue||{}).map(St=>[St.Id,St.Fin])),OverrideManuel:ge})!==void 0&&(Mt.showMessage("Plages modifiées avec succès."),be("refresh"))}return(Ue,ge)=>{const Je=V$;return mt(),Qt(Ds,{title:"Groupes",subtitle:"Définir des groupes d'âge"},{append:U(()=>[F(_o,{"prepend-icon":"mdi-cog",class:"mr-2",onClick:ge[0]||(ge[0]=St=>dt.value=!0)},{default:U(()=>[...ge[6]||(ge[6]=[wt("Plages d'âge...",-1)])]),_:1}),F(_o,{"prepend-icon":"mdi-plus",color:"green",onClick:Re},{default:U(()=>[...ge[7]||(ge[7]=[wt("Ajouter",-1)])]),_:1})]),default:U(()=>[F(ws,null,{default:U(()=>[F(Uc,null,{default:U(()=>[(mt(!0),xn(ys,null,Ia(Object.values(ke.groupes.Groupes||{}),St=>(mt(),Qt(gs,{title:St.Nom,subtitle:_n(U$)(lt.value[St.Id])},{prepend:U(()=>[F(Cm,{color:St.Couleur,inline:""},null,8,["color"])]),append:U(()=>[F(_o,{icon:"mdi-pencil",size:"small",onClick:Gt=>xe.value=_n(V2)(St)},null,8,["onClick"]),F(_o,{class:"ml-2",icon:"mdi-delete",size:"small",color:"red",onClick:Gt=>_e.value=St},null,8,["onClick"])]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1}),F(lr,{"model-value":xe.value!=null,"onUpdate:modelValue":ge[3]||(ge[3]=St=>xe.value=null),"max-width":"400px"},{default:U(()=>[xe.value?(mt(),Qt(Ds,{key:0,title:"Modifier le groupe"},{default:U(()=>[F(ws,null,{default:U(()=>[F(Ar,null,{default:U(()=>[F(Go,null,{default:U(()=>[F(bx,{autofocus:"",modelValue:xe.value.Nom,"onUpdate:modelValue":ge[1]||(ge[1]=St=>xe.value.Nom=St),label:"Nom",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1})]),_:1}),F(Ar,null,{default:U(()=>[F(Go,null,{default:U(()=>[F(Je,{label:"Couleur",modelValue:xe.value.Couleur,"onUpdate:modelValue":ge[2]||(ge[2]=St=>xe.value.Couleur=St),swatches:[]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{onClick:ve},{default:U(()=>[...ge[8]||(ge[8]=[wt(" Enregistrer ",-1)])]),_:1})]),_:1})]),_:1})):js("",!0)]),_:1},8,["model-value"]),F(lr,{modelValue:dt.value,"onUpdate:modelValue":ge[4]||(ge[4]=St=>dt.value=St),"max-width":"800px"},{default:U(()=>[F(_oe,{groupes:ke.groupes,participants:ke.participants,onSave:st},null,8,["groupes","participants"])]),_:1},8,["modelValue"]),F(lr,{"model-value":_e.value!=null,"onUpdate:modelValue":ge[5]||(ge[5]=St=>_e.value=null),"max-width":"600px"},{default:U(()=>[_e.value?(mt(),Qt(Ds,{key:0,title:"Confirmer la suppression"},{default:U(()=>[F(ws,null,{default:U(()=>[wt(" Confirmez-vous la suppression du groupe "+sr(_e.value.Nom)+" ? ",1),ge[9]||(ge[9]=Po("br",null,null,-1)),ge[10]||(ge[10]=Po("br",null,null,-1)),ge[11]||(ge[11]=wt(" Attention, cette action est irréversible. ",-1))]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{onClick:$e,color:"red"},{default:U(()=>[...ge[12]||(ge[12]=[wt("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):js("",!0)]),_:1},8,["model-value"])]),_:1})}}}),koe={key:1},Soe={key:0,class:"text-center font-italic mt-4"},Eoe=cr({__name:"PannelParticipants",setup(Q,{expose:re}){Zc(()=>{st(),lt(),Re()}),re({loadParticipants:lt});const ke=wo(!1),be=wo([]);async function Re(){const se=await Mt.GetCamps();se!==void 0&&(be.value=se||[])}const xe=wo(!1),ve=Ws(()=>{const se=$e.value,We=dt.value;if(!se)return[];const ne=(se.Participants||[]).map(nt=>{const Ko=(We.ParticipantsToGroupe||{})[nt.Participant.Id];return{participant:nt,groupe:Ko?(We.Groupes||{})[Ko.IdGroupe]:null}});return ne.sort((nt,Ko)=>Eee.cmp(nt.participant,Ko.participant,xe.value)),ne}),_e=Ws(()=>Object.values(dt.value.Groupes||{}).length!=0),$e=wo(null);async function lt(){ke.value=!0;const se=await Mt.ParticipantsGet();ke.value=!1,se!==void 0&&($e.value=se)}const dt=wo({Groupes:{},ParticipantsToGroupe:{},MinHint:"",MaxHint:""});async function st(){const se=await Mt.GroupesGet();se!==void 0&&(dt.value=se)}const Ue=wo(null);async function ge(se){if(Ue.value==null||$e.value==null)return;const We=await Mt.ParticipantsUpdate(se);Ue.value=null,We!==void 0&&(Mt.showMessage("Participant modifié avec succès."),lt())}async function Je(se,We){await Mt.ParticipantSetGroupe({idParticipant:se.Participant.Id,idGroupe:We})!==void 0&&(Mt.showMessage("Groupe attribué avec succès."),st())}const St=wo(!1),Gt=wo(!1),we=wo(!1),Tt=wo(!1),tt=wo(!1);return(se,We)=>{const ne=Yee,nt=Xee,Ko=Qee,Co=Jee;return $e.value!=null?(mt(),Qt(Ds,{key:0},{title:U(()=>[F(_o,{flat:"",icon:""},{default:U(()=>[F(Kr,null,{default:U(()=>[...We[12]||(We[12]=[wt("mdi-information",-1)])]),_:1}),F($2,{activator:"parent","content-class":"ma-0 pa-0"},{default:U(()=>[F(Rte,{participants:$e.value.Participants||[]},null,8,["participants"])]),_:1})]),_:1}),We[13]||(We[13]=wt(" Participants ",-1))]),append:U(()=>[F(_o,{onClick:We[0]||(We[0]=to=>we.value=!0),class:"mx-1","prepend-icon":"mdi-email"},{default:U(()=>[...We[14]||(We[14]=[wt(" Messages",-1)])]),_:1}),F(_o,{onClick:We[1]||(We[1]=to=>Gt.value=!0),class:"mx-1","prepend-icon":"mdi-folder"},{default:U(()=>[...We[15]||(We[15]=[wt(" Documents",-1)])]),_:1}),F(_o,{onClick:We[2]||(We[2]=to=>tt.value=!0),class:"mx-1","prepend-icon":"mdi-account-group"},{default:U(()=>[...We[16]||(We[16]=[wt(" Groupes",-1)])]),_:1}),F(ki,{thickness:"1",vertical:"",class:"mx-1"}),F(_o,{icon:"",flat:""},{default:U(()=>[F(Kr,null,{default:U(()=>[...We[17]||(We[17]=[wt("mdi-dots-vertical",-1)])]),_:1}),F(Lf,{activator:"parent"},{default:U(()=>[F(Uc,{density:"compact"},{default:U(()=>[F(gs,{title:"Trier par moment d'inscription",onClick:We[3]||(We[3]=to=>xe.value=!xe.value),"prepend-icon":"mdi-sort-calendar-ascending","append-icon":xe.value?"mdi-check":""},null,8,["append-icon"]),F(ki,{thickness:"1"}),F(gs,{"prepend-icon":"mdi-file-excel",title:"Exporter",subtitle:"au format Excel",link:"",href:_n(Mt).ParticipantsDownloadListe(_n(Mt).authToken)},null,8,["href"]),F(ki,{thickness:"1"}),F(gs,{"prepend-icon":"mdi-pill",title:"Fiches sanitaires",subtitle:"Analyser le contenu des fiches sanitaires",onClick:We[4]||(We[4]=to=>St.value=!0)}),F(gs,{"prepend-icon":"mdi-currency-eur",title:"Suivi du règlement",onClick:We[5]||(We[5]=to=>Tt.value=!0)})]),_:1})]),_:1})]),_:1})]),default:U(()=>[F(ws,{class:"mt-4"},{default:U(()=>[ke.value?(mt(),Qt(jp,{key:0,type:"table"})):(mt(),xn("div",koe,[F(ne,null,X7({_:2},[_e.value?{name:"append",fn:U(()=>[F(Go,{class:"font-weight-bold text-center","align-self":"center"},{default:U(()=>[...We[18]||(We[18]=[wt("Groupe",-1)])]),_:1})]),key:"0"}:void 0]),1024),ve.value.length?js("",!0):(mt(),xn("div",Soe," Aucun participant n'est encore inscrit sur ce séjour. ")),(mt(!0),xn(ys,null,Ia(ve.value,(to,Me)=>(mt(),Qt(nt,{participant:to.participant,index:Me,groupe:to.groupe},X7({actions:U(()=>[F(Uc,{density:"comfortable"},{default:U(()=>[F(gs,{title:"Modifier","prepend-icon":"mdi-pencil",onClick:Ut=>Ue.value=to.participant},null,8,["onClick"])]),_:2},1024)]),_:2},[_e.value?{name:"append",fn:U(()=>[F(Go,{"align-self":"center",class:"text-center"},{default:U(()=>[F(Wp,{color:to.groupe?to.groupe.Couleur:"",label:"",elevation:"1"},{default:U(()=>[wt(sr(to.groupe?to.groupe.Nom:"Aucun groupe")+" ",1),F(Lf,{activator:"parent"},{default:U(()=>[F(Uc,{density:"compact"},{default:U(()=>[(mt(!0),xn(ys,null,Ia(Object.values(dt.value.Groupes||{}),Ut=>(mt(),Qt(gs,{title:Ut.Nom,onClickOnce:E=>Je(to.participant,Ut.Id)},{prepend:U(()=>[F(Cm,{color:Ut.Couleur,inline:""},null,8,["color"])]),_:2},1032,["title","onClickOnce"]))),256)),F(ki),F(gs,{title:"Retirer",onClickOnce:Ut=>Je(to.participant,-1),"prepend-icon":"mdi-close"},null,8,["onClickOnce"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["color"])]),_:2},1024)]),key:"0"}:void 0]),1032,["participant","index","groupe"]))),256))]))]),_:1}),Ue.value!=null?(mt(),Qt(lr,{key:0,"model-value":Ue.value!=null,"onUpdate:modelValue":We[6]||(We[6]=to=>Ue.value=null),"max-width":"800px"},{default:U(()=>[F(Ko,{participant:Ue.value.Participant,personne:Ue.value.Personne,api:{SelectPersonne:_n(Mt).SelectPersonne.bind(_n(Mt))},"hide-personne-dossier":"","readonly-statut":"",onSave:ge},null,8,["participant","personne","api"])]),_:1},8,["model-value"])):js("",!0),F(lr,{modelValue:St.value,"onUpdate:modelValue":We[7]||(We[7]=to=>St.value=to)},{default:U(()=>[F(kte)]),_:1},8,["modelValue"]),F(lr,{modelValue:Gt.value,"onUpdate:modelValue":We[8]||(We[8]=to=>Gt.value=to),"max-width":"800px"},{default:U(()=>[F(Dte)]),_:1},8,["modelValue"]),F(lr,{modelValue:we.value,"onUpdate:modelValue":We[9]||(We[9]=to=>we.value=to),"max-width":"1200px"},{default:U(()=>[F(Ote)]),_:1},8,["modelValue"]),F(lr,{modelValue:Tt.value,"onUpdate:modelValue":We[10]||(We[10]=to=>Tt.value=to),"max-width":"700px"},{default:U(()=>[F(Co,{data:$e.value},null,8,["data"])]),_:1},8,["modelValue"]),F(lr,{modelValue:tt.value,"onUpdate:modelValue":We[11]||(We[11]=to=>tt.value=to),"max-width":"700px"},{default:U(()=>[F(Coe,{groupes:dt.value,participants:$e.value.Participants||[],onRefresh:st},null,8,["groupes","participants"])]),_:1},8,["modelValue"])]),_:1})):(mt(),Qt(jp,{key:1,type:"card"}))}}}),Aoe=cr({__name:"inscriptions",setup(Q){const re=jE(),ke=Ws(()=>Rne(re.currentRoute.value.query));Zc(async()=>{const ve=await Mt.InscriptionsGet();ve!==void 0&&(ve?.length||xe("participants"))});const be=Ws(()=>ke.value.tab||"insc"),Re=oF("participants");function xe(ve){const _e=re.currentRoute.value;re.push({path:_e.path,query:{tab:ve}}),ve=="participants"&&Re.value?.loadParticipants()}return(ve,_e)=>(mt(),xn(ys,null,[F(MC,{title:`${_n(Mt).camp?.Label} - Suivi des inscriptions`},{default:U(()=>[F(N$,{"model-value":be.value,"onUpdate:modelValue":_e[0]||(_e[0]=$e=>xe($e))},{default:U(()=>[F(HE,{value:"insc"},{default:U(()=>[..._e[2]||(_e[2]=[wt("Inscriptions en attente",-1)])]),_:1}),F(HE,{value:"participants"},{default:U(()=>[..._e[3]||(_e[3]=[wt("Liste des participants",-1)])]),_:1})]),_:1},8,["model-value"])]),_:1},8,["title"]),F(M$,{"model-value":be.value},{default:U(()=>[F($E,{value:"insc"},{default:U(()=>[F(bte,{onGoTo:_e[1]||(_e[1]=()=>xe("participants"))})]),_:1}),F($E,{value:"participants"},{default:U(()=>[F(Eoe,{ref_key:"participants",ref:Re},null,512)]),_:1})]),_:1},8,["model-value"])],64))}}),Toe=cr({__name:"DemandeChip",props:{demande:{}},emits:["updateState"],setup(Q,{emit:re}){const ke=Q,be=re,Re=Ws(()=>{const xe=!!ke.demande.Files?.length;switch(ke.demande.State){case hx.NonDemande:return;case hx.Optionnelle:return xe?"green":"yellow-darken-2";case hx.Obligatoire:return xe?"green":"red"}});return(xe,ve)=>{const _e=nF;return mt(),Qt(Lf,null,{activator:U(({props:$e})=>[F(Wp,$c($e,{color:Re.value,class:"my-1",size:"small"}),{default:U(()=>[wt(sr(_n(HL)[ke.demande.State]),1)]),_:1},16,["color"])]),default:U(()=>[F(Ds,{title:"Documents"},{default:U(()=>[F(ws,null,{default:U(()=>[F(_$,{mandatory:"","model-value":ke.demande.State,"onUpdate:modelValue":ve[0]||(ve[0]=$e=>be("updateState",$e))},{default:U(()=>[F(_o,{value:_n(hx).NonDemande},{default:U(()=>[...ve[1]||(ve[1]=[wt("Non requis",-1)])]),_:1},8,["value"]),F(_o,{value:_n(hx).Optionnelle},{default:U(()=>[wt(sr(_n(HL)[_n(hx).Optionnelle]),1)]),_:1},8,["value"]),F(_o,{value:_n(hx).Obligatoire},{default:U(()=>[wt(sr(_n(HL)[_n(hx).Obligatoire]),1)]),_:1},8,["value"])]),_:1},8,["model-value"]),ke.demande.Files?.length?(mt(),xn(ys,{key:0},[F(ki,{thickness:"2",class:"mt-2"}),F(Ar,null,{default:U(()=>[(mt(!0),xn(ys,null,Ia(ke.demande.Files,$e=>(mt(),Qt(Go,{cols:"4"},{default:U(()=>[F(_e,{file:$e},null,8,["file"])]),_:2},1024))),256))]),_:1})],64)):js("",!0)]),_:1})]),_:1})]),_:1})}}}),Doe={key:1},Ooe={class:"text-left"},Roe=cr({__name:"DocumentsTable",props:{equipiers:{}},setup(Q){const re=Q;Zc(Re);const ke=wo([]),be=wo([]);async function Re(){const _e=await Mt.EquipiersDemandesGet();_e!==void 0&&(ke.value=_e.Demandes||[],be.value=_e.Equipiers||[])}function xe(_e,$e){return be.value.find(lt=>lt.Key.IdDemande==$e&&lt.Key.IdEquipier==_e)}async function ve(_e,$e,lt){await Mt.EquipiersDemandeSet({IdEquipier:_e,IdDemande:$e,State:lt})!==void 0&&(Mt.showMessage("Demande modifiée avec succès."),xe(_e,$e).State=lt)}return(_e,$e)=>(mt(),Qt(Ds,{title:"Documents de l'équipe",subtitle:"Demandes et fichiers déposés par l'équipe"},{append:U(()=>[F(_o,{href:_n(Mt).EquipiersDownloadFiles(_n(Mt).authToken),"prepend-icon":"mdi-download"},{default:U(()=>[...$e[0]||($e[0]=[wt(" Télécharger",-1)])]),_:1},8,["href"])]),default:U(()=>[F(ws,{class:"mt-4"},{default:U(()=>[ke.value?(mt(),xn("div",Doe,[F(sF,{class:"text-center"},{default:U(()=>[Po("tr",null,[$e[1]||($e[1]=Po("td",null,null,-1)),(mt(!0),xn(ys,null,Ia(ke.value,lt=>(mt(),xn("td",null,sr(_n(w$)[lt.Categorie]),1))),256))]),(mt(!0),xn(ys,null,Ia(re.equipiers,(lt,dt)=>(mt(),xn("tr",{class:J1(dt%2==0?"bg-grey-lighten-4 rounded":"")},[Po("td",Ooe,sr(lt.Personne),1),(mt(!0),xn(ys,null,Ia(ke.value,st=>(mt(),xn("td",null,[F(Toe,{demande:xe(lt.Equipier.Id,st.Id),onUpdateState:Ue=>ve(lt.Equipier.Id,st.Id,Ue)},null,8,["demande","onUpdateState"])]))),256))],2))),256))]),_:1})])):(mt(),Qt(jp,{key:0,type:"table"}))]),_:1})]),_:1}))}}),Noe=cr({__name:"RolesField",props:Y7({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(Q){const re=Q,ke=tF(Q,"modelValue"),be=Aee(T$);return(Re,xe)=>(mt(),Qt(ote,{chips:"","closable-chips":"",label:"Rôles",variant:"outlined",density:"compact","hide-details":"",items:_n(be),readonly:re.readonly,multiple:"",modelValue:ke.value,"onUpdate:modelValue":xe[0]||(xe[0]=ve=>ke.value=ve)},null,8,["items","readonly","modelValue"]))}}),Moe=cr({__name:"AddEquipierCard",emits:["create"],setup(Q,{emit:re}){const ke=re,be=wo({CreatePersonne:!1,IdPersonne:0,Nom:"",Prenom:"",Mail:"",Roles:[]}),Re=Ws(()=>!!((be.value.CreatePersonne?be.value.Nom&&be.value.Prenom&&be.value.Mail:be.value.IdPersonne)&&be.value.Roles?.length));return(xe,ve)=>{const _e=ete;return mt(),Qt(Ds,{title:"Ajouter un équipier",subtitle:"Sélectionner un profil existant ou créer un nouveau."},{default:U(()=>[F(ws,{class:"mt-4"},{default:U(()=>[F(Ar,null,{default:U(()=>[F(Go,{"align-self":"center"},{default:U(()=>[be.value.CreatePersonne?(mt(),Qt(Ar,{key:1},{default:U(()=>[F(Go,null,{default:U(()=>[F(bx,{autofocus:"","hide-details":"",label:"Nom",density:"compact",variant:"outlined",modelValue:be.value.Nom,"onUpdate:modelValue":ve[1]||(ve[1]=$e=>be.value.Nom=$e)},null,8,["modelValue"])]),_:1}),F(Go,null,{default:U(()=>[F(bx,{"hide-details":"",label:"Prénom",density:"compact",variant:"outlined",modelValue:be.value.Prenom,"onUpdate:modelValue":ve[2]||(ve[2]=$e=>be.value.Prenom=$e)},null,8,["modelValue"])]),_:1}),F(Go,{cols:"12"},{default:U(()=>[F(bx,{variant:"outlined",density:"compact",modelValue:be.value.Mail,"onUpdate:modelValue":ve[3]||(ve[3]=$e=>be.value.Mail=$e),label:"Adresse mail",type:"email",rules:[_n(Tee).required("Une adresse mail est nécessaire pour inviter l'équipier.")]},null,8,["modelValue","rules"])]),_:1})]),_:1})):(mt(),Qt(_e,{key:0,label:"Personne",modelValue:be.value.IdPersonne,"onUpdate:modelValue":ve[0]||(ve[0]=$e=>be.value.IdPersonne=$e),"initial-personne":"",api:{SelectPersonne:_n(Mt).SelectPersonne.bind(_n(Mt))}},null,8,["modelValue","api"]))]),_:1}),F(Go,{cols:"auto"},{default:U(()=>[F(ki,{thickness:"2",vertical:"",class:"py-2"},{default:U(()=>[...ve[7]||(ve[7]=[wt("ou",-1)])]),_:1})]),_:1}),F(Go,{cols:"auto","align-self":"center"},{default:U(()=>[F(_o,{onClick:ve[4]||(ve[4]=$e=>be.value.CreatePersonne=!be.value.CreatePersonne)},{default:U(()=>[wt(sr(be.value.CreatePersonne?"Sélectionner":"Créer"),1)]),_:1})]),_:1})]),_:1}),F(Ar,null,{default:U(()=>[F(Go,null,{default:U(()=>[F(Noe,{modelValue:be.value.Roles,"onUpdate:modelValue":ve[5]||(ve[5]=$e=>be.value.Roles=$e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{disabled:!Re.value,onClick:ve[6]||(ve[6]=$e=>ke("create",be.value))},{default:U(()=>[...ve[8]||(ve[8]=[wt("Ajouter",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})}}}),Boe=cr({__name:"StatistiquesCard",props:{equipiers:{}},setup(Q){const re=Q;return(ke,be)=>(mt(),Qt(Ds,{subtitle:"Statistiques",width:"300px"},{default:U(()=>[F(ws,null,{default:U(()=>[F(Ar,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[F(Go,null,{default:U(()=>[...be[0]||(be[0]=[wt(" Equipiers ",-1)])]),_:1}),F(Go,{cols:"auto"},{default:U(()=>[F(Cm,{color:"secondary",inline:"",content:re.equipiers.length},null,8,["content"])]),_:1})]),_:1}),F(Ar,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[F(Go,null,{default:U(()=>[...be[1]||(be[1]=[wt(" Animateurs ",-1)])]),_:1}),F(Go,{cols:"auto"},{default:U(()=>[F(Cm,{color:"secondary",inline:"",content:re.equipiers.filter(Re=>Re.IsAnimateur).length},null,8,["content"])]),_:1})]),_:1}),F(Ar,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[F(Go,null,{default:U(()=>[...be[2]||(be[2]=[wt(" Au pair ",-1)])]),_:1}),F(Go,{cols:"auto"},{default:U(()=>[F(Cm,{color:"secondary",inline:"",content:re.equipiers.filter(Re=>Re.IsAuPair).length},null,8,["content"])]),_:1})]),_:1}),F(Ar,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[F(Go,null,{default:U(()=>[...be[3]||(be[3]=[wt(" Anniversaires ",-1)])]),_:1}),F(Go,{cols:"auto"},{default:U(()=>[F(Cm,{color:"amber-lighten-1",inline:"",content:re.equipiers.filter(Re=>Re.HasBirthday).length},null,8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Poe=cr({__name:"equipiers",setup(Q){jE(),Zc(ke);const re=wo([]);async function ke(){const Ue=await Mt.EquipiersGet();Ue!==void 0&&(Ue?.sort((ge,Je)=>ge.Equipier.Id-Je.Equipier.Id),re.value=Ue||[])}const be=wo(!1);function Re(Ue){return(Ue||[]).map(ge=>T$[ge]).join(", ")}function xe(Ue){switch(Ue){case q7.NotSend:return{icon:"mdi-form-select",color:""};case q7.Pending:return{icon:"mdi-clock",color:"yellow-darken-2"};case q7.Answered:return{icon:"mdi-check",color:"green"}}}const ve=wo(!1);async function _e(Ue){ve.value=!1;const ge=await Mt.EquipiersCreate(Ue);ge!==void 0&&(Mt.showMessage("Equipier crée avec succès."),re.value.push(ge))}async function $e(Ue){const ge=await Mt.EquipiersInvite({OnlyOne:HH(Ue)});ge!==void 0&&(Mt.showMessage("Equipier invité avec succès."),ge?.sort((Je,St)=>Je.Equipier.Id-St.Equipier.Id),re.value=ge||[])}async function lt(){const Ue=await Mt.EquipiersInvite({OnlyOne:HH(null)});Ue!==void 0&&(Mt.showMessage("Equipiers invités avec succès."),Ue?.sort((ge,Je)=>ge.Equipier.Id-Je.Equipier.Id),re.value=Ue||[])}const dt=wo(null);async function st(){if(dt.value==null)return;const Ue=dt.value.Equipier.Id;dt.value=null,await Mt.EquipiersDelete({id:Ue})!==void 0&&(Mt.showMessage("Equipier supprimé avec succès."),re.value=re.value.filter(Je=>Je.Equipier.Id!=Ue))}return(Ue,ge)=>(mt(),xn(ys,null,[F(MC,{title:`${_n(Mt).camp?.Label} - Equipiers`},{default:U(()=>[F(_o,{onClick:ge[0]||(ge[0]=Je=>be.value=!0),"prepend-icon":"mdi-file"},{default:U(()=>[...ge[6]||(ge[6]=[wt(" Documents ",-1)])]),_:1})]),_:1},8,["title"]),F(Ds,{class:"mt-2 mx-auto","max-width":"800px"},{title:U(()=>[F(_o,{flat:"",icon:""},{default:U(()=>[F(Kr,null,{default:U(()=>[...ge[7]||(ge[7]=[wt("mdi-information",-1)])]),_:1}),F($2,{activator:"parent","content-class":"ma-0 pa-0"},{default:U(()=>[F(Boe,{equipiers:re.value},null,8,["equipiers"])]),_:1})]),_:1}),ge[8]||(ge[8]=wt(" Équipiers ",-1))]),append:U(()=>[F(_o,{color:"green",onClick:ge[1]||(ge[1]=Je=>ve.value=!0),"prepend-icon":"mdi-plus"},{default:U(()=>[...ge[9]||(ge[9]=[wt(" Ajouter un équipier",-1)])]),_:1}),F(Lf,null,{activator:U(({props:Je})=>[F(_o,$c(Je,{class:"ml-2",icon:"mdi-dots-vertical",size:"small"}),null,16)]),default:U(()=>[F(Uc,null,{default:U(()=>[F(gs,null,{default:U(()=>[F(gs,{title:"Inviter tous",subtitle:"Envoi un mail à tous les équipiers en attente","prepend-icon":"mdi-email",onClick:ge[2]||(ge[2]=Je=>lt())})]),_:1})]),_:1})]),_:1})]),default:U(()=>[F(ws,null,{default:U(()=>[F(Uc,null,{default:U(()=>[(mt(!0),xn(ys,null,Ia(re.value,Je=>(mt(),Qt(gs,{title:Je.Personne,subtitle:Re(Je.Equipier.Roles)},{append:U(()=>[F(Ar,null,{default:U(()=>[Je.HasBirthday?(mt(),Qt(Go,{key:0,cols:"2","align-self":"center"},{default:U(()=>[F($2,{text:`${Je.Personne} a son anniveraire pendant le séjour !`},{activator:U(({props:St})=>[F(Kr,$c({ref_for:!0},St,{color:"pink"}),{default:U(()=>[...ge[10]||(ge[10]=[wt("mdi-cake-variant",-1)])]),_:1},16)]),_:1},8,["text"])]),_:2},1024)):js("",!0),F(Go,{"align-self":"center"},{default:U(()=>[F(Wp,{"prepend-icon":xe(Je.Equipier.FormStatus).icon,color:xe(Je.Equipier.FormStatus).color},{default:U(()=>[wt(sr(_n(Dee)[Je.Equipier.FormStatus]),1)]),_:2},1032,["prepend-icon","color"])]),_:2},1024),Je.Equipier.FormStatus==_n(q7).Answered&&!Je.Equipier.AccepteCharte.Bool?(mt(),Qt(Go,{key:1,"align-self":"center"},{default:U(()=>[F(Wp,{color:"warning"},{default:U(()=>[...ge[11]||(ge[11]=[wt("Charte non acceptée",-1)])]),_:1})]),_:1})):js("",!0),F(Go,{"align-self":"center"},{default:U(()=>[F(Lf,null,{activator:U(({props:St})=>[F(_o,$c({ref_for:!0},St,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:U(()=>[F(Uc,null,{default:U(()=>[F(gs,{title:"Inviter",subtitle:"Envoi un mail avec le lien vers le formulaire","prepend-icon":"mdi-email",onClick:St=>$e(Je.Equipier.Id)},null,8,["onClick"]),F(gs,{title:"Aller au formulaire","prepend-icon":"mdi-open-in-new",href:Je.FormURL,target:"_blank"},null,8,["href"]),F(ki),F(gs,{title:"Supprimer","prepend-icon":"mdi-delete",onClick:St=>dt.value=Je},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1}),F(lr,{modelValue:be.value,"onUpdate:modelValue":ge[3]||(ge[3]=Je=>be.value=Je)},{default:U(()=>[F(Roe,{equipiers:re.value},null,8,["equipiers"])]),_:1},8,["modelValue"]),F(lr,{modelValue:ve.value,"onUpdate:modelValue":ge[4]||(ge[4]=Je=>ve.value=Je),"max-width":"600px"},{default:U(()=>[F(Moe,{onCreate:_e})]),_:1},8,["modelValue"]),F(lr,{"model-value":dt.value!=null,"onUpdate:modelValue":ge[5]||(ge[5]=Je=>dt.value=null),"max-width":"400px"},{default:U(()=>[dt.value?(mt(),Qt(Ds,{key:0,title:"Confirmation"},{default:U(()=>[F(ws,null,{default:U(()=>[wt(" Confirmez-vous la suppression de l'équipier "+sr(dt.value.Personne)+" ? ",1),ge[12]||(ge[12]=Po("br",null,null,-1)),ge[13]||(ge[13]=Po("br",null,null,-1)),ge[14]||(ge[14]=wt(" Attention, cette opération est irréversible. ",-1))]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{color:"red",onClick:st},{default:U(()=>[...ge[15]||(ge[15]=[wt(" Supprimer ",-1)])]),_:1})]),_:1})]),_:1})):js("",!0)]),_:1},8,["model-value"])],64))}});var UL={exports:{}},KH;function Ioe(){return KH||(KH=1,function(Q){(function(){var re=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},ke=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},be=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},Re=function(e,t){return xe(function(o,s){return e.eq(t(o),t(s))})},xe=function(e){return{eq:e}},ve=xe(function(e,t){return e===t}),_e=ve,$e=function(e){return xe(function(t,o){if(t.length!==o.length)return!1;for(var s=t.length,a=0;a<s;a++)if(!e.eq(t[a],o[a]))return!1;return!0})},lt=function(e,t){return Re($e(e),function(o){return be(o,t)})},dt=function(e){return xe(function(t,o){var s=Object.keys(t),a=Object.keys(o);if(!lt(_e).eq(s,a))return!1;for(var c=s.length,u=0;u<c;u++){var f=s[u];if(!e.eq(t[f],o[f]))return!1}return!0})},st=xe(function(e,t){if(e===t)return!0;var o=re(e),s=re(t);return o!==s?!1:ke(o)?e===t:o==="array"?$e(st).eq(e,t):o==="object"?dt(st).eq(e,t):!1});const Ue=Object.getPrototypeOf,ge=(e,t,o)=>o(e,t.prototype)?!0:e.constructor?.name===t.name,Je=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&ge(e,String,(o,s)=>s.isPrototypeOf(o))?"string":t},St=e=>t=>Je(t)===e,Gt=e=>t=>typeof t===e,we=e=>t=>e===t,Tt=(e,t)=>se(e)&&ge(e,t,(o,s)=>Ue(o)===s),tt=St("string"),se=St("object"),We=e=>Tt(e,Object),ne=St("array"),nt=we(null),Ko=Gt("boolean"),Co=we(void 0),to=e=>e==null,Me=e=>!to(e),Ut=Gt("function"),E=Gt("number"),mo=(e,t)=>{if(ne(e)){for(let o=0,s=e.length;o<s;++o)if(!t(e[o]))return!1;return!0}return!1},To=()=>{},yn=(e,t)=>(...o)=>e(t.apply(null,o)),ua=(e,t)=>o=>e(t(o)),pt=e=>()=>e,En=e=>e,Si=(e,t)=>e===t;function ze(e,...t){return(...o)=>{const s=t.concat(o);return e.apply(null,s)}}const Ee=e=>t=>!e(t),yt=e=>()=>{throw new Error(e)},un=e=>e(),Oo=e=>{e()},Do=pt(!1),Yo=pt(!0);class B{tag;value;static singletonNone=new B(!1);constructor(t,o){this.tag=t,this.value=o}static some(t){return new B(!0,t)}static none(){return B.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?B.some(t(this.value)):B.none()}bind(t){return this.tag?t(this.value):B.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:B.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Me(t)?B.some(t):B.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const tr=Array.prototype.slice,Os=Array.prototype.indexOf,Uo=Array.prototype.push,li=(e,t)=>Os.call(e,t),br=(e,t)=>{const o=li(e,t);return o===-1?B.none():B.some(o)},Wo=(e,t)=>li(e,t)>-1,In=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];if(t(a,o))return!0}return!1},Io=(e,t)=>{const o=e.length,s=new Array(o);for(let a=0;a<o;a++){const c=e[a];s[a]=t(c,a)}return s},Ge=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];t(a,o)}},gt=(e,t)=>{for(let o=e.length-1;o>=0;o--){const s=e[o];t(s,o)}},Et=(e,t)=>{const o=[],s=[];for(let a=0,c=e.length;a<c;a++){const u=e[a];(t(u,a)?o:s).push(u)}return{pass:o,fail:s}},xt=(e,t)=>{const o=[];for(let s=0,a=e.length;s<a;s++){const c=e[s];t(c,s)&&o.push(c)}return o},Gn=(e,t)=>{if(e.length===0)return[];{let o=t(e[0]);const s=[];let a=[];for(let c=0,u=e.length;c<u;c++){const f=e[c],b=t(f);b!==o&&(s.push(a),a=[]),o=b,a.push(f)}return a.length!==0&&s.push(a),s}},gn=(e,t,o)=>(gt(e,(s,a)=>{o=t(o,s,a)}),o),Zo=(e,t,o)=>(Ge(e,(s,a)=>{o=t(o,s,a)}),o),jc=(e,t,o)=>{for(let s=0,a=e.length;s<a;s++){const c=e[s];if(t(c,s))return B.some(c);if(o(c,s))break}return B.none()},An=(e,t)=>jc(e,t,Do),Is=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];if(t(a,o))return B.some(o)}return B.none()},Wc=(e,t)=>{for(let o=e.length-1;o>=0;o--)if(t(e[o],o))return B.some(o);return B.none()},qc=e=>{const t=[];for(let o=0,s=e.length;o<s;++o){if(!ne(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Uo.apply(t,e[o])}return t},dr=(e,t)=>qc(Io(e,t)),La=(e,t)=>{for(let o=0,s=e.length;o<s;++o){const a=e[o];if(t(a,o)!==!0)return!1}return!0},ma=e=>{const t=tr.call(e,0);return t.reverse(),t},Rl=(e,t)=>xt(e,o=>!Wo(t,o)),Tr=(e,t)=>{const o={};for(let s=0,a=e.length;s<a;s++){const c=e[s];o[String(c)]=t(c,s)}return o},no=(e,t)=>{const o=tr.call(e,0);return o.sort(t),o},cn=(e,t)=>t>=0&&t<e.length?B.some(e[t]):B.none(),Kn=e=>cn(e,0),qs=e=>cn(e,e.length-1),Ot=Ut(Array.from)?Array.from:e=>tr.call(e),Ei=(e,t)=>{for(let o=0;o<e.length;o++){const s=t(e[o],o);if(s.isSome())return s}return B.none()},Nl=(e,t)=>{const o=[],s=Ut(t)?a=>In(o,c=>t(c,a)):a=>Wo(o,a);for(let a=0,c=e.length;a<c;a++){const u=e[a];s(u)||o.push(u)}return o},Yr=Object.keys,Hs=Object.hasOwnProperty,on=(e,t)=>{const o=Yr(e);for(let s=0,a=o.length;s<a;s++){const c=o[s],u=e[c];t(u,c)}},$r=(e,t)=>Sg(e,(o,s)=>({k:s,v:t(o,s)})),Sg=(e,t)=>{const o={};return on(e,(s,a)=>{const c=t(s,a);o[c.k]=c.v}),o},mc=e=>(t,o)=>{e[o]=t},Jo=(e,t,o,s)=>{on(e,(a,c)=>{(t(a,c)?o:s)(a,c)})},Ur=(e,t)=>{const o={},s={};return Jo(e,t,mc(o),mc(s)),{t:o,f:s}},Dr=(e,t)=>{const o={};return Jo(e,t,mc(o),To),o},ga=(e,t)=>{const o=[];return on(e,(s,a)=>{o.push(t(s,a))}),o},_s=e=>ga(e,En),Cn=(e,t)=>ko(e,t)?B.from(e[t]):B.none(),ko=(e,t)=>Hs.call(e,t),De=(e,t)=>ko(e,t)&&e[t]!==void 0&&e[t]!==null,Ld=(e,t,o=st)=>dt(o).eq(e,t),ll={generate:e=>{if(!ne(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return Ge(e,(s,a)=>{const c=Yr(s);if(c.length!==1)throw new Error("one and only one name per case");const u=c[0],f=s[u];if(o[u]!==void 0)throw new Error("duplicate key detected:"+u);if(u==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ne(f))throw new Error("case arguments must be an array");t.push(u),o[u]=(...b)=>{const _=b.length;if(_!==f.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+f.length+" ("+f+"), got "+_);return{fold:(...R)=>{if(R.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+R.length);return R[a].apply(null,b)},match:R=>{const M=Yr(R);if(t.length!==M.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+M.join(","));if(!La(t,te=>Wo(M,te)))throw new Error("Not all branches were specified when using match. Specified: "+M.join(", ")+`
Required: `+t.join(", "));return R[u].apply(null,b)},log:R=>{console.log(R,{constructors:t,constructor:u,params:b})}}}}),o}},jn=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}},cl=e=>{const t=c=>c(e),o=pt(e),s=()=>a,a={tag:!0,inner:e,fold:(c,u)=>u(e),isValue:Yo,isError:Do,map:c=>Gs.value(c(e)),mapError:s,bind:t,exists:t,forall:t,getOr:o,or:s,getOrThunk:o,orThunk:s,getOrDie:o,each:c=>{c(e)},toOptional:()=>B.some(e)};return a},Ml=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(s,a)=>s(e),isValue:Do,isError:Yo,map:t,mapError:s=>Gs.error(s(e)),bind:t,exists:Do,forall:Yo,getOr:En,or:En,getOrThunk:un,orThunk:un,getOrDie:yt(String(e)),each:To,toOptional:B.none};return o},Gs={value:cl,error:Ml,fromOption:(e,t)=>e.fold(()=>Ml(t),cl)},Sm=typeof window<"u"?window:Function("return this;")(),Ks=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},Zr=()=>{const e=Ks(),t=(o,s)=>{let a="";for(let c=o;c<=s;++c){const u=e[c].toString(16).padStart(2,"0");a+=u}return a};return`${t(0,3)}-${t(4,5)}-${t(6,7)}-${t(8,9)}-${t(10,15)}`},zn=(e,t,o)=>Math.min(Math.max(e,t),o),Bl=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let os=0;const Ys=e=>{const o=new Date().getTime(),s=Math.floor(Bl()*1e9);return os++,e+"_"+s+os+String(o)},Mu=()=>window.isSecureContext?window.crypto.randomUUID():Zr(),zd=(e,t)=>t,Bu=(e,t)=>We(e)&&We(t)?gc(e,t):t,Pl=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let s=0;s<t.length;s++){const a=t[s];for(const c in a)ko(a,c)&&(o[c]=e(o[c],a[c]))}return o},gc=Pl(Bu),Pu=Pl(zd),xr=(e,t,o=Si)=>e.exists(s=>o(s,t)),Iu=(e,t,o=Si)=>Rs(e,t,o).getOr(e.isNone()&&t.isNone()),qp=e=>{const t=[],o=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(o);return t},Rs=(e,t,o)=>e.isSome()&&t.isSome()?B.some(o(e.getOrDie(),t.getOrDie())):B.none(),Eg=(e,t,o,s)=>e.isSome()&&t.isSome()&&o.isSome()?B.some(s(e.getOrDie(),t.getOrDie(),o.getOrDie())):B.none(),Ft=e=>e.bind(En),Vd=(e,t)=>e?B.some(t):B.none(),Ag=(e,t)=>{let o=t??Sm;for(let s=0;s<e.length&&o!==void 0&&o!==null;++s)o=o[e[s]];return o},Tg=(e,t)=>{const o=e.split(".");return Ag(o,t)};ll.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Gc=e=>{const t=[],o=[];return Ge(e,s=>{s.fold(a=>{t.push(a)},a=>{o.push(a)})}),{errors:t,values:o}},Dg=e=>{const t=jn(B.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(B.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:f=>{o(),t.set(B.some(f))}}},Ff=e=>{const t=jn(B.none()),o=()=>t.get().each(f=>clearInterval(f));return{clear:()=>{o(),t.set(B.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:f=>{o(),t.set(B.some(setInterval(f,e)))}}},Il=()=>{const e=Dg(To);return{...e,on:o=>e.get().each(o)}},ci=(e,t)=>e.substring(t),zf=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Vf=(e,t)=>$s(e,t)?ci(e,t.length):e,Xo=(e,t,o=0,s)=>{const a=e.indexOf(t,o);return a!==-1?Co(s)?!0:a+t.length<=s:!1},$s=(e,t)=>zf(e,t,0),Og=(e,t)=>zf(e,t,e.length-t.length),Kc=e=>t=>t.replace(e,""),dl=Kc(/^\s+|\s+$/g),Hf=Kc(/^\s+/g),Em=Kc(/\s+$/g),Or=e=>e.length>0,Yc=e=>!Or(e),Gp=(e,t)=>t<=0?"":new Array(t+1).join(e),Lu=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?B.none():B.some(o)},ks=(e,t)=>{let o=null;return{cancel:()=>{nt(o)||(clearTimeout(o),o=null)},throttle:(...c)=>{nt(o)&&(o=setTimeout(()=>{o=null,e.apply(null,c)},t))}}},Hd=(e,t)=>{let o=null;const s=()=>{nt(o)||(clearTimeout(o),o=null)};return{cancel:s,throttle:(...c)=>{s(),o=setTimeout(()=>{o=null,e.apply(null,c)},t)}}},di=e=>{let t=!1,o;return(...s)=>(t||(t=!0,o=e.apply(null,s)),o)},Xc="\uFEFF",Us=" ",Ai="…",Ti=e=>e===Xc,$f=e=>e.replace(/\uFEFF/g,""),Am=e=>{const t={};return Ge(e,o=>{t[o]={}}),Yr(t)},fa=e=>e.length!==void 0,$d=Array.isArray,Ud=e=>{if($d(e))return e;{const t=[];for(let o=0,s=e.length;o<s;o++)t[o]=e[o];return t}},ul=(e,t,o)=>{if(!e)return!1;if(o=o||e,fa(e)){for(let s=0,a=e.length;s<a;s++)if(t.call(o,e[s],s,e)===!1)return!1}else for(const s in e)if(ko(e,s)&&t.call(o,e[s],s,e)===!1)return!1;return!0},Tm=(e,t)=>{const o=[];return ul(e,(s,a)=>{o.push(t(s,a,e))}),o},Zd=(e,t)=>{const o=[];return ul(e,(s,a)=>{(!t||t(s,a,e))&&o.push(s)}),o},Rg=(e,t)=>{if(e){for(let o=0,s=e.length;o<s;o++)if(e[o]===t)return o}return-1},Qc=(e,t,o,s)=>{let a=Co(o)?e[0]:o;for(let c=0;c<e.length;c++)a=t.call(s,a,e[c],c);return a},Ga=(e,t,o)=>{for(let s=0,a=e.length;s<a;s++)if(t.call(o,e[s],s,e))return s;return-1},j=e=>e[e.length-1],ce=(e,t,o,s)=>{const a=e.isiOS()&&/ipad/i.test(o)===!0,c=e.isiOS()&&!a,u=e.isiOS()||e.isAndroid(),f=u||s("(pointer:coarse)"),b=a||!c&&u&&s("(min-device-width:768px)"),_=c||u&&!b,T=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,R=!_&&!b&&!T;return{isiPad:pt(a),isiPhone:pt(c),isTablet:pt(b),isPhone:pt(_),isTouch:pt(f),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:pt(T),isDesktop:pt(R)}},Se=(e,t)=>{for(let o=0;o<e.length;o++){const s=e[o];if(s.test(t))return s}},rt=(e,t)=>{const o=Se(e,t);if(!o)return{major:0,minor:0};const s=a=>Number(t.replace(o,"$"+a));return nn(s(1),s(2))},Bt=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?Wt():rt(e,o)},Wt=()=>nn(0,0),nn=(e,t)=>({major:e,minor:t}),Yn={nu:nn,detect:Bt,unknown:Wt},Qo=(e,t)=>Ei(t.brands,o=>{const s=o.brand.toLowerCase();return An(e,a=>s===a.brand?.toLowerCase()).map(a=>({current:a.name,version:Yn.nu(parseInt(o.version,10),0)}))}),P=(e,t)=>{const o=String(t).toLowerCase();return An(e,s=>s.search(o))},W=(e,t)=>P(e,t).map(o=>{const s=Yn.detect(o.versionRegexes,t);return{current:o.name,version:s}}),le=(e,t)=>P(e,t).map(o=>{const s=Yn.detect(o.versionRegexes,t);return{current:o.name,version:s}}),Ie=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,jt=e=>t=>Xo(t,e),fn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Xo(e,"edge/")&&Xo(e,"chrome")&&Xo(e,"safari")&&Xo(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ie],search:e=>Xo(e,"chrome")&&!Xo(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Xo(e,"msie")||Xo(e,"trident")},{name:"Opera",versionRegexes:[Ie,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:jt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:jt("firefox")},{name:"Safari",versionRegexes:[Ie,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Xo(e,"safari")||Xo(e,"mobile/"))&&Xo(e,"applewebkit")}],is=[{name:"Windows",search:jt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Xo(e,"iphone")||Xo(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:jt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:jt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:jt("linux"),versionRegexes:[]},{name:"Solaris",search:jt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:jt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:jt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Xr={browsers:pt(fn),oses:pt(is)},Hn="Edge",pa="Chromium",Ca="IE",Zi="Opera",ur="Firefox",ml="Safari",Jc=()=>ka({current:void 0,version:Yn.unknown()}),ka=e=>{const t=e.current,o=e.version,s=a=>()=>t===a;return{current:t,version:o,isEdge:s(Hn),isChromium:s(pa),isIE:s(Ca),isOpera:s(Zi),isFirefox:s(ur),isSafari:s(ml)}},Ll={unknown:Jc,nu:ka},Kp="Windows",Uf="iOS",Qr="Android",Ng="Linux",Dm="macOS",ed="Solaris",yx="FreeBSD",Sa="ChromeOS",Yp=()=>Fu({current:void 0,version:Yn.unknown()}),Fu=e=>{const t=e.current,o=e.version,s=a=>()=>t===a;return{current:t,version:o,isWindows:s(Kp),isiOS:s(Uf),isAndroid:s(Qr),isMacOS:s(Dm),isLinux:s(Ng),isSolaris:s(ed),isFreeBSD:s(yx),isChromeOS:s(Sa)}},Fa={unknown:Yp,nu:Fu},td={detect:(e,t,o)=>{const s=Xr.browsers(),a=Xr.oses(),c=t.bind(b=>Qo(s,b)).orThunk(()=>W(s,e)).fold(Ll.unknown,Ll.nu),u=le(a,e).fold(Fa.unknown,Fa.nu),f=ce(u,c,e,o);return{browser:c,os:u,deviceType:f}}},ob=e=>window.matchMedia(e).matches;let vr=di(()=>td.detect(window.navigator.userAgent,B.from(window.navigator.userAgentData),ob));const gl=()=>vr(),jd=(e,t)=>Tg(e,t),od=(e,t)=>{const o=jd(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},za=Object.getPrototypeOf,Fl=e=>od("HTMLElement",e),wx=e=>{const t=Tg("ownerDocument.defaultView",e);return se(e)&&(Fl(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(za(e).constructor.name))},_x=window.navigator.userAgent,Di=gl(),ui=Di.browser,fl=Di.os,io=Di.deviceType,U2=_x.indexOf("Windows Phone")!==-1,Bo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:ui.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!ui.isIE(),windowsPhone:U2,browser:{current:ui.current,version:ui.version,isChromium:ui.isChromium,isEdge:ui.isEdge,isFirefox:ui.isFirefox,isIE:ui.isIE,isOpera:ui.isOpera,isSafari:ui.isSafari},os:{current:fl.current,version:fl.version,isAndroid:fl.isAndroid,isChromeOS:fl.isChromeOS,isFreeBSD:fl.isFreeBSD,isiOS:fl.isiOS,isLinux:fl.isLinux,isMacOS:fl.isMacOS,isSolaris:fl.isSolaris,isWindows:fl.isWindows},deviceType:{isDesktop:io.isDesktop,isiPad:io.isiPad,isiPhone:io.isiPhone,isPhone:io.isPhone,isTablet:io.isTablet,isTouch:io.isTouch,isWebView:io.isWebView}},Jr=/^\s*|\s*$/g,nb=e=>to(e)?"":(""+e).replace(Jr,""),Xs=(e,t)=>t?t==="array"&&$d(e)?!0:typeof e===t:e!==void 0,sb=(e,t,o={})=>{const s=tt(e)?e.split(t||","):e||[];let a=s.length;for(;a--;)o[s[a]]={};return o},Wd=ko,Cx=(e,...t)=>{for(let o=0;o<t.length;o++){const s=t[o];for(const a in s)if(ko(s,a)){const c=s[a];c!==void 0&&(e[a]=c)}}return e},Om=function(e,t,o,s){s=s||this,e&&(o&&(e=e[o]),ul(e,(a,c)=>t.call(s,a,c,o)===!1?!1:(Om(a,t,o,s),!0)))},ct={trim:nb,isArray:$d,is:Xs,toArray:Ud,makeMap:sb,each:ul,map:Tm,grep:Zd,inArray:Rg,hasOwn:Wd,extend:Cx,walk:Om,resolve:(e,t=window)=>{const o=e.split(".");for(let s=0,a=o.length;s<a&&(t=t[o[s]],!!t);s++);return t},explode:(e,t)=>ne(e)?e:e===""?[]:Tm(e.split(t||","),nb),_addCacheSuffix:e=>{const t=Bo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},mr=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return nd(s.childNodes[0])},Z2=(e,t)=>{const s=(t||document).createElement(e);return nd(s)},kx=(e,t)=>{const s=(t||document).createTextNode(e);return nd(s)},nd=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},oe={fromHtml:mr,fromTag:Z2,fromText:kx,fromDom:nd,fromPoint:(e,t,o)=>B.from(e.dom.elementFromPoint(t,o)).map(nd)},Rm=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,s)=>{e.setStart(o.dom,s)},o=>{e.setStartAfter(o.dom)})},Va=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,s)=>{e.setEnd(o.dom,s)},o=>{e.setEndAfter(o.dom)})},rb=(e,t,o)=>{const s=e.document.createRange();return Rm(s,t),Va(s,o),s},gr=(e,t,o,s,a)=>{const c=e.document.createRange();return c.setStart(t.dom,o),c.setEnd(s.dom,a),c},zu=ll.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),sd=(e,t,o)=>t(oe.fromDom(o.startContainer),o.startOffset,oe.fromDom(o.endContainer),o.endOffset),pn=(e,t)=>t.match({domRange:o=>({ltr:pt(o),rtl:B.none}),relative:(o,s)=>({ltr:di(()=>rb(e,o,s)),rtl:di(()=>B.some(rb(e,s,o)))}),exact:(o,s,a,c)=>({ltr:di(()=>gr(e,o,s,a,c)),rtl:di(()=>B.some(gr(e,a,c,o,s)))})}),Xp=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(a=>a.collapsed===!1).map(a=>zu.rtl(oe.fromDom(a.endContainer),a.endOffset,oe.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>sd(e,zu.ltr,o)):sd(e,zu.ltr,o)},Sx=(e,t)=>{const o=pn(e,t);return Xp(e,o)};zu.ltr,zu.rtl;const Pg=8,Rr=9,Vu=11,qd=1,Ig=3,Ln=(e,t)=>{const o=e.dom;if(o.nodeType!==qd)return!1;{const s=o;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Gd=e=>e.nodeType!==qd&&e.nodeType!==Rr&&e.nodeType!==Vu||e.childElementCount===0,Lg=(e,t)=>{const o=t===void 0?document:t.dom;return Gd(o)?[]:Io(o.querySelectorAll(e),oe.fromDom)},Ns=(e,t)=>{const o=t===void 0?document:t.dom;return Gd(o)?B.none():B.from(o.querySelector(e)).map(oe.fromDom)},sn=(e,t)=>e.dom===t.dom,Nr=(e,t)=>{const o=e.dom,s=t.dom;return o===s?!1:o.contains(s)},Nm=Ln,Oi=(e,t)=>{const o=[],s=c=>(o.push(c),t(c));let a=t(e);do a=a.bind(s);while(a.isSome());return o},jo=e=>e.dom.nodeName.toLowerCase(),Ex=e=>e.dom.nodeType,Fg=e=>t=>Ex(t)===e,Ax=e=>Ex(e)===Pg||jo(e)==="#comment",Kd=e=>fr(e)&&wx(e.dom),fr=Fg(qd),Ka=Fg(Ig),j2=Fg(Rr),W2=Fg(Vu),ea=e=>t=>fr(t)&&jo(t)===e,Tx=e=>oe.fromDom(e.dom.ownerDocument),fc=e=>j2(e)?e:Tx(e),ls=e=>oe.fromDom(fc(e).dom.documentElement),pl=e=>oe.fromDom(fc(e).dom.defaultView),ji=e=>B.from(e.dom.parentNode).map(oe.fromDom),Mm=e=>B.from(e.dom.parentElement).map(oe.fromDom),Ya=(e,t)=>{const o=Ut(t)?t:Do;let s=e.dom;const a=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const c=s.parentNode,u=oe.fromDom(c);if(a.push(u),o(u)===!0)break;s=c}return a},jf=e=>{const t=o=>xt(o,s=>!sn(e,s));return ji(e).map(rn).map(t).getOr([])},zl=e=>B.from(e.dom.previousSibling).map(oe.fromDom),rd=e=>B.from(e.dom.nextSibling).map(oe.fromDom),Ss=e=>ma(Oi(e,zl)),ab=e=>Oi(e,rd),rn=e=>Io(e.dom.childNodes,oe.fromDom),pr=(e,t)=>{const o=e.dom.childNodes;return B.from(o[t]).map(oe.fromDom)},Vl=e=>pr(e,0),ta=e=>pr(e,e.dom.childNodes.length-1),Wf=e=>e.dom.childNodes.length,jr=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return oe.fromDom(t)},Yd=e=>W2(e)&&Me(e.dom.host),Xd=e=>oe.fromDom(e.dom.getRootNode()),oa=e=>Yd(e)?e:jr(fc(e)),Qp=e=>Yd(e)?e:oe.fromDom(fc(e).dom.body),Jp=e=>{const t=Xd(e);return Yd(t)?B.some(t):B.none()},Dx=e=>oe.fromDom(e.dom.host),eh=e=>{if(Me(e.target)){const t=oe.fromDom(e.target);if(fr(t)&&th(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Kn(o)}}return B.from(e.target)},th=e=>Me(e.dom.shadowRoot),ib=(e,t,o,s,a,c,u)=>({target:e,x:t,y:o,stop:s,prevent:a,kill:c,raw:u}),lb=e=>{const t=oe.fromDom(eh(e).getOr(e.target)),o=()=>e.stopPropagation(),s=()=>e.preventDefault(),a=yn(s,o);return ib(t,e.clientX,e.clientY,o,s,a,e)},cb=(e,t)=>o=>{e(o)&&t(lb(o))},db=(e,t,o,s,a)=>{const c=cb(o,s);return e.dom.addEventListener(t,c,a),{unbind:ze(ub,e,t,c,a)}},ad=(e,t,o,s)=>db(e,t,o,s,!1),ub=(e,t,o,s)=>{e.dom.removeEventListener(t,o,s)},q2=Yo,oh=(e,t,o)=>ad(e,t,q2,o),Ha=()=>oe.fromDom(document),zg=(e,t=!1)=>e.dom.focus({preventScroll:t}),pc=e=>{const t=Xd(e).dom;return e.dom===t.activeElement},Qd=(e=Ha())=>B.from(e.dom.activeElement).map(oe.fromDom),mb=e=>Qd(Xd(e)).filter(t=>e.dom.contains(t.dom)),na=(e,t)=>{ji(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},Hl=(e,t)=>{rd(e).fold(()=>{ji(e).each(a=>{dn(a,t)})},s=>{na(s,t)})},hc=(e,t)=>{Vl(e).fold(()=>{dn(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},dn=(e,t)=>{e.dom.appendChild(t.dom)},yr=(e,t)=>{na(e,t),dn(t,e)},Hu=(e,t)=>{Ge(t,o=>{na(e,o)})},nh=(e,t)=>{Ge(t,(o,s)=>{const a=s===0?e:t[s-1];Hl(a,o)})},Qs=(e,t)=>{Ge(t,o=>{dn(e,o)})},gb=(e,t,o)=>{if(tt(o)||Ko(o)||E(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Wr=(e,t,o)=>{gb(e.dom,t,o)},Ri=(e,t)=>{const o=e.dom;on(t,(s,a)=>{gb(o,a,s)})},or=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},bc=(e,t)=>B.from(or(e,t)),Bm=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Mr=(e,t)=>{e.dom.removeAttribute(t)},$u=e=>{const t=e.dom.attributes;return t==null||t.length===0},xc=e=>Zo(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),Uu=e=>{e.dom.textContent="",Ge(rn(e),t=>{cs(t)})},cs=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Ni=e=>{const t=rn(e);t.length>0&&nh(e,t),cs(e)},Pm=(e,t)=>oe.fromDom(e.dom.cloneNode(t)),id=e=>Pm(e,!1),Mi=e=>Pm(e,!0),fb=(e,t)=>{const o=oe.fromTag(t),s=xc(e);return Ri(o,s),o},Vg=(e,t)=>{const o=fb(e,t);Hl(e,o);const s=rn(e);return Qs(o,s),cs(e),o},wr=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,rn(oe.fromDom(s))},hl=e=>Io(e,oe.fromDom),qf=e=>e.dom.innerHTML,Im=(e,t)=>{const s=Tx(e).dom,a=oe.fromDom(s.createDocumentFragment()),c=wr(t,s);Qs(a,c),Uu(e),dn(e,a)},G2=e=>{const t=oe.fromTag("div"),o=oe.fromDom(e.dom.cloneNode(!0));return dn(t,o),qf(t)},Lm=e=>e.style!==void 0&&Ut(e.style.getPropertyValue),Jd=e=>{const t=Ka(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return Jp(oe.fromDom(t)).fold(()=>o.body.contains(t),ua(Jd,Dx))},pb=(e,t,o)=>{if(!tt(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Lm(e)&&e.style.setProperty(t,o)},Ox=(e,t)=>{Lm(e)&&e.style.removeProperty(t)},Hg=(e,t,o)=>{const s=e.dom;pb(s,t,o)},Gf=(e,t)=>{const o=e.dom;on(t,(s,a)=>{pb(o,a,s)})},Wi=(e,t)=>{const o=e.dom,a=window.getComputedStyle(o).getPropertyValue(t);return a===""&&!Jd(e)?K2(o,t):a},K2=(e,t)=>Lm(e)?e.style.getPropertyValue(t):"",Fm=(e,t)=>{const o=e.dom,s=K2(o,t);return B.from(s).filter(a=>a.length>0)},zm=e=>{const t={},o=e.dom;if(Lm(o))for(let s=0;s<o.style.length;s++){const a=o.style.item(s);t[a]=o.style[a]}return t},mi=(e,t)=>{const o=e.dom;Ox(o,t),xr(bc(e,"style").map(dl),"")&&Mr(e,"style")},go=e=>e.dom.offsetWidth,sh=((e,t)=>{const o=(f,b)=>{if(!E(b)&&!b.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+b);const _=f.dom;Lm(_)&&(_.style[e]=b+"px")},s=f=>{const b=t(f);if(b<=0||b===null){const _=Wi(f,e);return parseFloat(_)||0}return b},a=s,c=(f,b)=>Zo(b,(_,T)=>{const R=Wi(f,T),M=R===void 0?0:parseInt(R,10);return isNaN(M)?_:_+M},0);return{set:o,get:s,getOuter:a,aggregate:c,max:(f,b,_)=>{const T=c(f,_);return b>T?b-T:0}}})("height",e=>{const t=e.dom;return Jd(e)?t.getBoundingClientRect().height:t.offsetHeight}),Y2=e=>sh.get(e),rh=(e,t)=>({left:e,top:t,translate:(s,a)=>rh(e+s,t+a)}),ld=rh,ah=e=>{const t=e.getBoundingClientRect();return ld(t.left,t.top)},ih=(e,t)=>e!==void 0?e:t!==void 0?t:0,Ms=e=>{const t=e.dom.ownerDocument,o=t.body,s=t.defaultView,a=t.documentElement;if(o===e.dom)return ld(o.offsetLeft,o.offsetTop);const c=ih(s?.pageYOffset,a.scrollTop),u=ih(s?.pageXOffset,a.scrollLeft),f=ih(a.clientTop,o.clientTop),b=ih(a.clientLeft,o.clientLeft);return Bi(e).translate(u-b,c-f)},Bi=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?ld(s.offsetLeft,s.offsetTop):Jd(e)?ah(t):ld(0,0)},$a=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return ld(o,s)},Zu=(e,t,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(e,t)},Xa=(e,t)=>{gl().browser.isSafari()&&Ut(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},lh=(e,t)=>{const o=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return s(c).getOr("")},s=c=>e(c)?B.from(c.dom.nodeValue):B.none();return{get:o,getOption:s,set:(c,u)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=u}}},_r=(e,t)=>{const s=document.createDocumentFragment();return Ge(e,a=>{s.appendChild(a.dom)}),oe.fromDom(s)},Ea=lh(Ka,"text"),cd=e=>Ea.get(e),ft=e=>Ea.getOption(e),Pi=(e,t)=>Ea.set(e,t),Hm=(e,t)=>{const o=or(e,t);return o===void 0||o===""?[]:o.split(" ")},Br=(e,t,o)=>{const a=Hm(e,t).concat([o]);return Wr(e,t,a.join(" ")),!0},vc=(e,t,o)=>{const s=xt(Hm(e,t),a=>a!==o);return s.length>0?Wr(e,t,s.join(" ")):Mr(e,t),!1};var bl=(e,t,o,s,a)=>e(o,s)?B.some(o):Ut(a)&&a(o)?B.none():t(o,s,a);const Qa=(e,t,o)=>{let s=e.dom;const a=Ut(o)?o:Do;for(;s.parentNode;){s=s.parentNode;const c=oe.fromDom(s);if(t(c))return B.some(c);if(a(c))break}return B.none()},Ii=(e,t,o)=>bl((a,c)=>c(a),Qa,e,t,o),Ja=(e,t)=>{const o=e.dom;return o.parentNode?Mn(oe.fromDom(o.parentNode),s=>!sn(e,s)&&t(s)):B.none()},Mn=(e,t)=>{const o=a=>t(oe.fromDom(a));return An(e.dom.childNodes,o).map(oe.fromDom)},Li=(e,t)=>{const o=s=>{for(let a=0;a<s.childNodes.length;a++){const c=oe.fromDom(s.childNodes[a]);if(t(c))return B.some(c);const u=o(s.childNodes[a]);if(u.isSome())return u}return B.none()};return o(e.dom)},Js=(e,t,o)=>Qa(e,s=>Ln(s,t),o),Zs=(e,t)=>Ns(t,e),dd=(e,t,o)=>bl((a,c)=>Ln(a,c),Js,e,t,o),Pr=e=>e.dom.classList!==void 0,$m=e=>Hm(e,"class"),gi=(e,t)=>Br(e,"class",t),Pe=(e,t)=>vc(e,"class",t),$l=(e,t)=>Wo($m(e),t)?Pe(e,t):gi(e,t),Ul=(e,t)=>{Pr(e)?e.dom.classList.add(t):gi(e,t)},Es=e=>{(Pr(e)?e.dom.classList:$m(e)).length===0&&Mr(e,"class")},Fi=(e,t)=>{Pr(e)?e.dom.classList.remove(t):Pe(e,t),Es(e)},Aa=(e,t)=>{const o=Pr(e)?e.dom.classList.toggle(t):$l(e,t);return Es(e),o},ds=(e,t)=>Pr(e)&&e.dom.classList.contains(t),ju=(e,t)=>{Ge(t,o=>{Ul(e,o)})},hb=(e,t)=>{Ge(t,o=>{Fi(e,o)})},$g=e=>dd(e,"[contenteditable]"),qi=(e,t=!1)=>Jd(e)?e.dom.isContentEditable:$g(e).fold(pt(t),o=>ha(o)==="true"),ha=e=>e.dom.contentEditable,Zl=(e,t)=>{e.dom.contentEditable=t?"true":"false"},Kf=(e,t,o)=>xt(Ya(e,o),t),Um=(e,t)=>xt(rn(e),t),Gi=(e,t)=>{let o=[];return Ge(rn(e),s=>{t(s)&&(o=o.concat([s])),o=o.concat(Gi(s,t))}),o},Ki=(e,t,o)=>Kf(e,s=>Ln(s,t),o),qr=(e,t)=>Lg(t,e),eu=(e,t,o)=>Qa(e,t,o).isSome(),bb=(e,t)=>Ja(e,t).isSome(),ei=(e,t)=>Li(e,t).isSome(),jl=(e,t)=>eu(e,ze(sn,t)),Rx=(e,t,o)=>Js(e,t,o).isSome(),yc=e=>Ut(e)?e:Do,BC=(e,t,o)=>{let s=e.dom;const a=yc(o);for(;s.parentNode;){s=s.parentNode;const c=oe.fromDom(s),u=t(c);if(u.isSome())return u;if(a(c))break}return B.none()},ud=(e,t,o)=>{const s=t(e),a=yc(o);return s.orThunk(()=>a(e)?B.none():BC(e,t,a))},Zm=e=>ft(e).filter(t=>t.trim().length!==0||t.indexOf(Us)>-1).isSome(),jm=e=>Kd(e)&&or(e,"contenteditable")==="false",X2=["img","br"],Yf=e=>Zm(e)||Wo(X2,jo(e))||jm(e),PC=e=>Li(e,Yf),er={create:(e,t,o,s)=>({start:e,soffset:t,finish:o,foffset:s})},xb=ll.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Wl=(e,t,o,s)=>e.fold(t,o,s),Wu=e=>e.fold(En,En,En),Mx=xb.before,Wm=xb.on,Yi=xb.after,fi={before:Mx,on:Wm,after:Yi,cata:Wl,getStart:Wu},qu=ll.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Q2=e=>qu.exact(e.start,e.soffset,e.finish,e.foffset),ch=e=>e.match({domRange:t=>oe.fromDom(t.startContainer),relative:(t,o)=>fi.getStart(t),exact:(t,o,s,a)=>t}),Bx=qu.domRange,vb=qu.relative,J2=qu.exact,ey=e=>{const t=ch(e);return pl(t)},yb=er.create,ql={domRange:Bx,relative:vb,exact:J2,exactFromRange:Q2,getWin:ey,range:yb},wc=(e,t,o)=>B.from(e.caretPositionFromPoint?.(t,o)).bind(s=>{if(s.offsetNode===null)return B.none();const a=e.createRange();return a.setStart(s.offsetNode,s.offset),a.collapse(),B.some(a)}),tu=(e,t,o)=>B.from(e.caretRangeFromPoint?.(t,o)),Ug=(e,t,o)=>e.caretPositionFromPoint?wc(e,t,o):e.caretRangeFromPoint?tu(e,t,o):B.none(),ty=(e,t,o)=>{const s=e.document;return Ug(s,t,o).map(a=>er.create(oe.fromDom(a.startContainer),a.startOffset,oe.fromDom(a.endContainer),a.endOffset))},Zg=(e,t)=>{const o=jo(e);return o==="input"?fi.after(e):Wo(["br","img"],o)?t===0?fi.before(e):fi.after(e):fi.on(e,t)},wb=(e,t)=>{const o=e.fold(fi.before,Zg,fi.after),s=t.fold(fi.before,Zg,fi.after);return ql.relative(o,s)},dh=(e,t,o,s)=>{const a=Zg(e,t),c=Zg(o,s);return ql.relative(a,c)},_b=e=>e.match({domRange:t=>{const o=oe.fromDom(t.startContainer),s=oe.fromDom(t.endContainer);return dh(o,t.startOffset,s,t.endOffset)},relative:wb,exact:dh}),Cb=e=>{const t=ql.getWin(e).dom,o=(a,c,u,f)=>gr(t,a,c,u,f),s=_b(e);return Sx(t,s).match({ltr:o,rtl:o})},Px=(e,t,o)=>ty(e,t,o),Ix=e=>{const t=e===void 0?window:e;return gl().browser.isFirefox()?B.none():B.from(t.visualViewport)},Gl=(e,t,o,s)=>({x:e,y:t,width:o,height:s,right:e+o,bottom:t+s}),md=e=>{const t=e===void 0?window:e,o=t.document,s=$a(oe.fromDom(o));return Ix(t).fold(()=>{const a=t.document.documentElement,c=a.clientWidth,u=a.clientHeight;return Gl(s.left,s.top,c,u)},a=>Gl(Math.max(a.pageLeft,s.left),Math.max(a.pageTop,s.top),a.width,a.height))};class rr{rootNode;node;constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,s,a){if(t){if(!a&&t[o])return t[o];if(t!==this.rootNode){let c=t[s];if(c)return c;for(let u=t.parentNode;u&&u!==this.rootNode;u=u.parentNode)if(c=u[s],c)return c}}}findPreviousNode(t,o){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!o){for(let c=s.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return s}const a=t.parentNode;if(a&&a!==this.rootNode)return a}}}const oy=/^[ \t\r\n]*$/,qm=e=>oy.test(e),Lx=e=>{for(const t of e)if(!Ti(t))return!1;return!0},kb=e=>" \f	\v".indexOf(e)!==-1,uh=e=>e===`
`||e==="\r",ny=(e,t)=>t<e.length&&t>=0?uh(e[t]):!1,sy=(e,t=4,o=!0,s=!0)=>{const a=Gp(" ",t),c=e.replace(/\t/g,a);return Zo(c,(f,b)=>kb(b)||b===Us?f.pcIsSpace||f.str===""&&o||f.str.length===c.length-1&&s||ny(c,f.str.length+1)?{pcIsSpace:!1,str:f.str+Us}:{pcIsSpace:!0,str:f.str+" "}:{pcIsSpace:uh(b),str:f.str+b},{pcIsSpace:!1,str:""}).str},Gu=e=>t=>!!t&&t.nodeType===e,_c=e=>!!e&&!Object.getPrototypeOf(e),qt=Gu(1),$o=e=>qt(e)&&Kd(oe.fromDom(e)),zi=e=>qt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Cc=e=>{const t=e.toLowerCase();return o=>Me(o)&&o.nodeName.toLowerCase()===t},xl=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const s=o.nodeName.toLowerCase();return Wo(t,s)}return!1}},ns=(e,t)=>{const o=t.toLowerCase().split(" ");return s=>{if(qt(s)){const a=s.ownerDocument.defaultView;if(a)for(let c=0;c<o.length;c++){const u=a.getComputedStyle(s,null);if((u?u.getPropertyValue(e):null)===o[c])return!0}}return!1}},ry=e=>t=>qt(t)&&t.hasAttribute(e),Gm=e=>qt(e)&&e.hasAttribute("data-mce-bogus"),jg=e=>qt(e)&&e.getAttribute("data-mce-bogus")==="all",kc=e=>qt(e)&&e.tagName==="TABLE",Sb=e=>t=>!!($o(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),mh=xl(["textarea","input"]),ht=Gu(3),Fx=Gu(4),gh=Gu(7),gd=Gu(8),Wg=Gu(9),fh=Gu(11),Ls=Cc("br"),Eb=Cc("img"),ph=Cc("a"),pi=Sb("true"),Xn=Sb("false"),qg=e=>$o(e)&&e.isContentEditable&&Me(e.parentElement)&&!e.parentElement.isContentEditable,Gg=xl(["td","th"]),Ab=xl(["td","th","caption"]),Ta=Cc("template"),hi=xl(["video","audio","object","embed"]),IC=Cc("li"),zx=Cc("details"),LC=Cc("summary"),ay="uc-video",Tb=e=>e.nodeName.toLowerCase()===ay,Vx={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Db=(e,t,o)=>{const s=oe.fromDom(t),a=oe.fromDom(e),c=o.getWhitespaceElements();return eu(a,f=>ko(c,jo(f)),ze(sn,s))},bi=e=>qt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Kl=(e,t)=>qt(e)&&ko(t.getNonEmptyElements(),e.nodeName),Sc=ry("data-mce-bookmark"),Ob=e=>Mm(oe.fromDom(e)).exists(t=>!qi(t)),Hx=(e,t,o)=>qm(e.data)&&!Db(e,t,o),FC=(e,t,o,s)=>ht(e)&&!Hx(e,t,o)&&(!s.includeZwsp||!Lx(e.data)),hh=(e,t,o,s)=>Ut(s.isContent)&&s.isContent(t)||Kl(t,e)||Sc(t)||bi(t)||FC(t,o,e,s)||Xn(t)||pi(t)&&Ob(t),fd=(e,t,o)=>{const s={...Vx,...o};if(s.checkRootAsContent&&hh(e,t,t,s))return!1;let a=t.firstChild,c=0;if(!a)return!0;const u=new rr(a,t);do{if(s.skipBogus&&qt(a)){const f=a.getAttribute("data-mce-bogus");if(f){a=u.next(f==="all");continue}}if(gd(a)){a=u.next(!0);continue}if(Ls(a)){c++,a=u.next();continue}if(hh(e,a,t,s))return!1;a=u.next()}while(a);return c<=1},ti=(e,t,o)=>fd(e,t.dom,{checkRootAsContent:!0,...o}),Rb=(e,t,o)=>hh(e,t,t,{includeZwsp:Vx.includeZwsp,...o}),Xf=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Km=e=>Xf(e)!=="html",bh=e=>Km(e.nodeName),Nb=e=>Xf(e.nodeName),fs=["svg","math"],Ym=()=>{const e=Il(),t=()=>e.get().map(Nb).getOr("html");return{track:a=>(bh(a)?e.set(a):e.get().exists(c=>!c.contains(a))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Kg="data-mce-block",$x=e=>xt(Yr(e),t=>!/[A-Z]/.test(t)),xh=e=>Io($x(e),t=>{const o=CSS.escape(t);return`${o}:`+Io(fs,s=>`not(${s} ${o})`).join(":")}).join(","),vh=(e,t)=>Me(t.querySelector(e))?(t.setAttribute(Kg,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Kg),!1),Mb=(e,t)=>{const o=xh(e.getTransparentElements()),s=xh(e.getBlockElements());return xt(t.querySelectorAll(o),a=>vh(s,a))},Bb=(e,t,o)=>{const s=o?"lastChild":"firstChild";for(let a=t[s];a;a=a[s])if(fd(e,a,{checkRootAsContent:!0})){a.parentNode?.removeChild(a);return}},iy=(e,t,o)=>{const s=document.createRange(),a=t.parentNode;if(a){s.setStartBefore(t),s.setEndBefore(o);const c=s.extractContents();Bb(e,c,!0),s.setStartAfter(o),s.setEndAfter(t);const u=s.extractContents();Bb(e,u,!1),fd(e,c,{checkRootAsContent:!0})||a.insertBefore(c,t),fd(e,o,{checkRootAsContent:!0})||a.insertBefore(o,t),fd(e,u,{checkRootAsContent:!0})||a.insertBefore(u,t),a.removeChild(t)}},Ux=(e,t,o)=>{const s=e.getBlockElements(),a=oe.fromDom(t),c=f=>jo(f)in s,u=f=>sn(f,a);Ge(hl(o),f=>{Qa(f,c,u).each(b=>{const _=Um(f,T=>c(T)&&!e.isValidChild(jo(b),jo(T)));if(_.length>0){const T=Mm(b);Ge(_,R=>{Qa(R,c,u).each(M=>{iy(e,M.dom,R.dom)})}),T.each(R=>Mb(e,R.dom))}})})},Xi=(e,t,o)=>{Ge([...o,...Ku(e,t)?[t]:[]],s=>Ge(qr(oe.fromDom(s),s.nodeName.toLowerCase()),a=>{ly(e,a.dom)&&Ni(a)}))},Qf=(e,t)=>{const o=Mb(e,t);Ux(e,t,o),Xi(e,t,o)},Da=(e,t)=>{if(wh(e,t)){const o=xh(e.getBlockElements());vh(o,t)}},Xm=(e,t,o)=>{const s=c=>sn(c,oe.fromDom(t)),a=Ya(oe.fromDom(o),s);cn(a,a.length-2).filter(fr).fold(()=>Qf(e,t),c=>Qf(e,c.dom))},Jf=e=>e.hasAttribute(Kg),yh=(e,t)=>ko(e.getTransparentElements(),t),wh=(e,t)=>qt(t)&&yh(e,t.nodeName),Ku=(e,t)=>wh(e,t)&&Jf(t),ly=(e,t)=>wh(e,t)&&!Jf(t),Pb=(e,t)=>t.type===1&&yh(e,t.name)&&tt(t.attr(Kg)),cy=gl().browser,Zx=e=>An(e,fr),Oa=e=>cy.isFirefox()&&jo(e)==="table"?Zx(rn(e)).filter(t=>jo(t)==="caption").bind(t=>Zx(ab(t)).map(o=>{const s=o.dom.offsetTop,a=t.dom.offsetTop,c=t.dom.offsetHeight;return s<=a?-c:0})).getOr(0):0,Yu=(e,t)=>e.children&&Wo(e.children,t),dy=(e,t,o)=>{let s=0,a=0;const c=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&Wi(oe.fromDom(e),"position")==="static"){const f=t.getBoundingClientRect();return s=f.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,a=f.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:s,y:a}}let u=t;for(;u&&u!==o&&u.nodeType&&!Yu(u,o);){const f=u;s+=f.offsetLeft||0,a+=f.offsetTop||0,u=f.offsetParent}for(u=t.parentNode;u&&u!==o&&u.nodeType&&!Yu(u,o);)s-=u.scrollLeft||0,a-=u.scrollTop||0,u=u.parentNode;a+=Oa(oe.fromDom(t))}return{x:s,y:a}},uy=(e,t)=>{const o=t.crossOrigin;return t.contentCssCors?"anonymous":Ut(o)?o(e):void 0},jx=(e,t={})=>{let o=0;const s={},a=oe.fromDom(e),c=fc(a),u=Ce=>{t.referrerPolicy=Ce},f=Ce=>{t.contentCssCors=Ce},b=Ce=>{t.crossOrigin=Ce},_=Ce=>{dn(oa(a),Ce)},T=Ce=>{const Te=oa(a);Zs(Te,"#"+Ce).each(cs)},R=Ce=>Cn(s,Ce).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),M=Ce=>new Promise((Te,Xe)=>{let it;const It=ct._addCacheSuffix(Ce),Xt=R(It);s[It]=Xt,Xt.count++;const Ke=(Eo,bn)=>{Ge(Eo,Oo),Xt.status=bn,Xt.passed=[],Xt.failed=[],it&&(it.onload=null,it.onerror=null,it=null)},Ze=()=>Ke(Xt.passed,2),Qe=()=>Ke(Xt.failed,3);if(Te&&Xt.passed.push(Te),Xe&&Xt.failed.push(Xe),Xt.status===1)return;if(Xt.status===2){Ze();return}if(Xt.status===3){Qe();return}Xt.status=1;const Nt=oe.fromTag("link",c.dom);Ri(Nt,{rel:"stylesheet",type:"text/css",id:Xt.id});const po=uy(Ce,t);po!==void 0&&Wr(Nt,"crossOrigin",po),t.referrerPolicy&&Wr(Nt,"referrerpolicy",t.referrerPolicy),it=Nt.dom,it.onload=Ze,it.onerror=Qe,_(Nt),Wr(Nt,"href",It)}),$=(Ce,Te)=>{const Xe=R(Ce);s[Ce]=Xe,Xe.count++;const it=oe.fromTag("style",c.dom);Ri(it,{rel:"stylesheet",type:"text/css",id:Xe.id,"data-mce-key":Ce}),it.dom.innerHTML=Te,_(it)},te=Ce=>Promise.allSettled(Io(Ce,Xe=>M(Xe).then(pt(Xe)))).then(Xe=>{const it=Et(Xe,It=>It.status==="fulfilled");return it.fail.length>0?Promise.reject(Io(it.fail,It=>It.reason)):Io(it.pass,It=>It.value)}),G=Ce=>{const Te=ct._addCacheSuffix(Ce);Cn(s,Te).each(Xe=>{--Xe.count===0&&(delete s[Te],T(Xe.id))})};return{load:M,loadRawCss:$,loadAll:te,unload:G,unloadRawCss:Ce=>{Cn(s,Ce).each(Te=>{--Te.count===0&&(delete s[Ce],T(Te.id))})},unloadAll:Ce=>{Ge(Ce,Te=>{G(Te)})},_setReferrerPolicy:u,_setContentCssCors:f,_setCrossOrigin:b}},Ib=(()=>{const e=new WeakMap;return{forElement:(o,s)=>{const c=Xd(o).dom;return B.from(e.get(c)).getOrThunk(()=>{const u=jx(c,s);return e.set(c,u),u})}}})(),gy=e=>e.nodeName.toLowerCase()==="span",Cr=(e,t)=>Me(e)&&(Rb(t,e)||t.isInline(e.nodeName.toLowerCase())),Ir=(e,t,o)=>{const s=new rr(e,t).prev(!1),a=new rr(e,t).next(!1),c=Co(s)||Cr(s,o),u=Co(a)||Cr(a,o);return c&&u},ba=e=>gy(e)&&e.getAttribute("data-mce-type")==="bookmark",Ra=(e,t,o)=>ht(e)&&e.data.length>0&&Ir(e,t,o),sa=e=>qt(e)?e.childNodes.length>0:!1,Lr=e=>fh(e)||Wg(e),ep=(e,t,o,s)=>{const a=s||t;if(qt(t)&&ba(t))return t;const c=t.childNodes;for(let u=c.length-1;u>=0;u--)ep(e,c[u],o,a);if(qt(t)){const u=t.childNodes;u.length===1&&ba(u[0])&&t.parentNode?.insertBefore(u[0],t)}return!Lr(t)&&!Rb(o,t)&&!sa(t)&&!Ra(t,a,o)&&e.remove(t),t},Lb=ct.makeMap,tp=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_h=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fb=/[<>&\"\']/g,Ch=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Wx={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},ou={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},vl={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Qm=e=>{const t=oe.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Xu=(e,t)=>{const o={};if(e){const s=e.split(",");t=t||10;for(let a=0;a<s.length;a+=2){const c=String.fromCharCode(parseInt(s[a],t));if(!ou[c]){const u="&"+s[a+1]+";";o[c]=u,o[u]=c}}return o}else return},kh=Xu("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),qx=(e,t)=>e.replace(t?tp:_h,o=>ou[o]||o),Gx=e=>(""+e).replace(Fb,t=>ou[t]||t),Sh=(e,t)=>e.replace(t?tp:_h,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":ou[o]||"&#"+o.charCodeAt(0)+";"),Eh=(e,t,o)=>{const s=o||kh;return e.replace(t?tp:_h,a=>ou[a]||s[a]||a)},pd={encodeRaw:qx,encodeAllRaw:Gx,encodeNumeric:Sh,encodeNamed:Eh,getEncodeFunc:(e,t)=>{const o=Xu(t)||kh,s=(u,f)=>u.replace(f?tp:_h,b=>ou[b]!==void 0?ou[b]:o[b]!==void 0?o[b]:b.length>1?"&#"+((b.charCodeAt(0)-55296)*1024+(b.charCodeAt(1)-56320)+65536)+";":"&#"+b.charCodeAt(0)+";"),a=(u,f)=>Eh(u,f,o),c=Lb(e.replace(/\+/g,","));return c.named&&c.numeric?s:c.named?t?a:Eh:c.numeric?Sh:qx},decode:e=>e.replace(Ch,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Wx[o]||String.fromCharCode(o)):vl[t]||kh[t]||Qm(t))},Fr=(e,t)=>(e=ct.trim(e),e?e.split(t||" "):[]),Jm=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Yl=e=>se(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Th=e=>{const t=o=>ne(o)?Io(o,t):Yl(o)?new RegExp(o.source,o.flags):se(o)?$r(o,t):o;return t(e)},Vb=e=>{const t=/^(~)?(.+)$/;return dr(Fr(e,","),o=>{const s=t.exec(o);if(s){const c=s[1]==="~"?"span":"div",u=s[2];return[{cloneName:c,name:u}]}else return[]})},Hb=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),fy=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:s}},$b=e=>{const{blockContent:t,phrasingContent:o,flowContent:s}=fy(e),a=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:a(t),phrasingContent:a(o),flowContent:a(s)})},zC={html4:di(()=>$b("html4")),html5:di(()=>$b("html5")),"html5-strict":di(()=>$b("html5-strict"))},py=(e,t)=>{const{blockContent:o,phrasingContent:s,flowContent:a}=zC[e]();return t==="blocks"?B.some(o):t==="phrasing"?B.some(s):t==="flow"?B.some(a):B.none()},eg=e=>{const t=Hb(e),{phrasingContent:o,flowContent:s}=fy(e),a={},c=(b,_,T)=>{a[b]={attributes:Tr(_,pt({})),attributesOrder:_,children:Tr(T,pt({}))}},u=(b,_="",T="")=>{const R=Fr(T),M=Fr(b);let $=M.length;const te=[...t,...Fr(_)];for(;$--;)c(M[$],te.slice(),R)},f=(b,_)=>{const T=Fr(b),R=Fr(_);let M=T.length;for(;M--;){const $=a[T[M]];for(let te=0,G=R.length;te<G;te++)$.attributes[R[te]]={},$.attributesOrder.push(R[te])}};return e!=="html5-strict"&&(Ge(Fr("acronym applet basefont big font strike tt"),T=>{u(T,"",o)}),Ge(Fr("center dir isindex noframes"),T=>{u(T,"",s)})),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset property"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),u("dd div","",s),u("address dt caption","",e==="html4"?o:s),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),u("blockquote","cite",s),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",s),u("dl","","dt dd"),u("a","href target rel media hreflang type",e==="html4"?o:s),u("q","cite",o),u("ins del","cite datetime",s),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",s),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),u("param","name value"),u("map","name",[s,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",s),u("th","colspan rowspan headers scope abbr",s),u("form","accept-charset action autocomplete enctype method name novalidate target",s),u("fieldset","disabled form name",[s,"legend"].join(" ")),u("label","form for",o),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:o),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[s,"li"].join(" ")),u("noscript","",s),e!=="html4"&&(u("wbr"),u("ruby","",[o,"rt rp"].join(" ")),u("figcaption","",s),u("mark rt rp bdi","",o),u("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),u("canvas","width height",s),u("data","value",o),u("video","src crossorigin poster preload autoplay mediagroup loop controlslist disablepictureinpicture disableremoteplayback playsinline muted controls width height buffered",[s,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[o,"option"].join(" ")),u("article section nav aside main header footer","",s),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[s,"figcaption"].join(" ")),u("time","datetime",o),u("dialog","open",s),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",o),u("progress","value max",o),u("meter","value min max low high optimum",o),u("details","open",[s,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid code codebase codetype archive standby align border hspace vspace"),f("embed","align name hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br","clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),f("area","nohref"),f("body","background bgcolor text link vlink alink")),e!=="html4"&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("img","loading"),f("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Ge([a.video,a.audio],b=>{delete b.children.audio,delete b.children.video}),Ge(Fr("a form meter progress dfn"),b=>{a[b]&&delete a[b].children[b]}),delete a.caption.children.table,delete a.script,a},Kx=e=>e==="-"?"remove":"add",Qu=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return B.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},Ub=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return dr(Fr(e,","),o=>{const s=t.exec(o);if(s){const a=s[1],c=a?Kx(a):"replace",u=s[2],f=dr(Fr(s[3],"|"),b=>Qu(b).toArray());return[{operation:c,name:u,validChildren:f}]}else return[]})},nu=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:a,attributesOrder:c}=t;return Ge(Fr(e,"|"),u=>{const f=o.exec(u);if(f){const b={},_=f[1],T=f[2].replace(/[\\:]:/g,":"),R=f[3],M=f[4];if(_==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(T),b.required=!0),_==="-"){delete a[T],c.splice(ct.inArray(c,T),1);return}if(R&&(R==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:T,value:M}),b.defaultValue=M):R==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:T,value:M}),b.forcedValue=M):R==="<"&&(b.validValues=ct.makeMap(M,"?"))),s.test(T)){const $=b;t.attributePatterns=t.attributePatterns||[],$.pattern=Jm(T),t.attributePatterns.push($)}else a[T]||c.push(T),a[T]=b}})},Dh=(e,t)=>{on(e.attributes,(o,s)=>{t.attributes[s]=o}),t.attributesOrder.push(...e.attributesOrder)},hy=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return dr(Fr(t,","),s=>{const a=o.exec(s);if(a){const c=a[1],u=a[2],f=a[3],b=a[4],_=a[5],T={attributes:{},attributesOrder:[]};if(e.each(R=>Dh(R,T)),c==="#"?T.paddEmpty=!0:c==="-"&&(T.removeEmpty=!0),b==="!"&&(T.removeEmptyAttrs=!0),_&&nu(_,T),f&&(T.outputName=u),u==="@")if(e.isNone())e=B.some(T);else return[];return[f?{name:u,element:T,aliasName:f}:{name:u,element:T}]}else return[]})},Na={},xi=ct.makeMap,ar=ct.each,Yg=ct.extend,hd=ct.explode,an=(e,t={})=>{const o=xi(e," ",xi(e.toUpperCase()," "));return Yg(o,t)},oo=e=>an("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Xg=(e,t)=>{if(e){const o={};return tt(e)&&(e={"*":e}),ar(e,(s,a)=>{o[a]=o[a.toUpperCase()]=t==="map"?xi(s,/[, ]/):hd(s,/[, ]/)}),o}else return},su=(e={})=>{const t={},o={};let s=[];const a={},c={},u={},f=(ho,wn,Er)=>{const Ts=e[ho];if(Ts)return xi(Ts,/[, ]/,xi(Ts.toUpperCase(),/[, ]/));{let as=Na[ho];return as||(as=an(wn,Er),Na[ho]=as),as}},b=e.schema??"html5",_=eg(b);e.verify_html===!1&&(e.valid_elements="*[*]");const T=Xg(e.valid_styles),R=Xg(e.invalid_styles,"map"),M=Xg(e.valid_classes,"map"),$=f("whitespace_elements","pre script noscript style textarea video audio iframe object code"),te=f("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),G=f("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ee=f("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ye="td th iframe video audio object script code",Ce=f("non_empty_elements",ye+" pre svg textarea summary",G),Te=f("move_caret_before_on_enter_elements",ye+" table",G),Xe="h1 h2 h3 h4 h5 h6",it=f("text_block_elements",Xe+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),It=f("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",it),Xt=f("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ke=f("transparent_elements","a ins del canvas map"),Ze=f("wrap_block_elements","pre "+Xe);ar("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),ho=>{c[ho]=new RegExp("</"+ho+"[^>]*>","gi")});const Qe=ho=>{const wn=B.from(t["@"]),Er=/[*?+]/;Ge(hy(wn,ho??""),({name:Ts,element:as,aliasName:hr})=>{if(hr&&(t[hr]=as),Er.test(Ts)){const dc=as;dc.pattern=Jm(Ts),s.push(dc)}else t[Ts]=as})},Nt=ho=>{s=[],Ge(Yr(t),wn=>{delete t[wn]}),Qe(ho)},po=(ho,wn)=>{delete Na.text_block_elements,delete Na.block_elements;const Er=wn.extends?!Dl(wn.extends):!1,Ts=wn.extends;if(o[ho]=Ts?o[Ts]:{},a[ho]=Ts??ho,Ce[ho.toUpperCase()]={},Ce[ho]={},Er||(It[ho.toUpperCase()]={},It[ho]={}),Ts&&!t[ho]&&t[Ts]){const as=Th(t[Ts]);delete as.removeEmptyAttrs,delete as.removeEmpty,t[ho]=as}else t[ho]={attributesOrder:[],attributes:{}};if(ne(wn.attributes)){const as=dc=>{hr.attributesOrder.push(dc),hr.attributes[dc]={}},hr=t[ho]??{};delete hr.attributesDefault,delete hr.attributesForced,delete hr.attributePatterns,delete hr.attributesRequired,hr.attributesOrder=[],hr.attributes={},Ge(wn.attributes,dc=>{const al=Hb(b);Qu(dc).each(({preset:Id,name:Pf})=>{Id?Pf==="global"&&Ge(al,as):as(Pf)})}),t[ho]=hr}if(Ko(wn.padEmpty)){const as=t[ho]??{};as.paddEmpty=wn.padEmpty,t[ho]=as}if(ne(wn.children)){const as={},hr=al=>{as[al]={}},dc=al=>{py(b,al).each(Id=>{Ge(Id,hr)})};Ge(wn.children,al=>{Qu(al).each(({preset:Id,name:Pf})=>{Id?dc(Pf):hr(Pf)})}),o[ho]=as}Ts&&on(o,(as,hr)=>{as[Ts]&&(o[hr]=as=Yg({},o[hr]),as[ho]=as[Ts])})},Eo=ho=>{Ge(Vb(ho??""),({name:wn,cloneName:Er})=>{po(wn,{extends:Er})})},bn=(ho,wn)=>{u[ho]=wn},qn=ho=>{se(ho)?on(ho,(wn,Er)=>{const Ts=wn.componentUrl;tt(Ts)&&bn(Er,Ts),po(Er,wn)}):tt(ho)&&Eo(ho)},xs=ho=>{Ge(Ub(ho??""),({operation:wn,name:Er,validChildren:Ts})=>{const as=wn==="replace"?{"#comment":{}}:o[Er],hr=al=>{wn==="remove"?delete as[al]:as[al]={}},dc=al=>{py(b,al).each(Id=>{Ge(Id,hr)})};Ge(Ts,({preset:al,name:Id})=>{al?dc(Id):hr(Id)}),o[Er]=as})},Ps=ho=>{const wn=t[ho];if(wn)return wn;let Er=s.length;for(;Er--;){const Ts=s[Er];if(Ts.pattern.test(ho))return Ts}},da=()=>{e.valid_elements?(Nt(e.valid_elements),ar(_,(ho,wn)=>{o[wn]=ho.children})):(ar(_,(ho,wn)=>{t[wn]={attributes:ho.attributes,attributesOrder:ho.attributesOrder},o[wn]=ho.children}),ar(Fr("strong/b em/i"),ho=>{const wn=Fr(ho,"/");t[wn[1]].outputName=wn[0]}),ar(Xt,(ho,wn)=>{t[wn]&&(e.padd_empty_block_inline_children&&(t[wn].paddInEmptyBlock=!0),t[wn].removeEmpty=!0)}),ar(Fr("ol ul blockquote a table tbody"),ho=>{t[ho]&&(t[ho].removeEmpty=!0)}),ar(Fr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),ho=>{t[ho]&&(t[ho].paddEmpty=!0)}),ar(Fr("span"),ho=>{t[ho].removeEmptyAttrs=!0})),delete t.svg,qn(e.custom_elements),xs(e.valid_children),Qe(e.extended_valid_elements),xs("+ol[ul|ol],+ul[ul|ol]"),ar({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(ho,wn)=>{t[wn]&&(t[wn].parentsRequired=Fr(ho))}),e.invalid_elements&&ar(hd(e.invalid_elements),ho=>{t[ho]&&delete t[ho]}),Ps("span")||Qe("span[!data-mce-type|*]")},Bd=pt(T),zt=pt(R),so=pt(M),Zn=pt(ee),Fn=pt(It),eo=pt(it),kt=pt(Xt),Lt=pt(Object.seal(G)),co=pt(te),Mo=pt(Ce),ts=pt(Te),vs=pt($),Pd=pt(Ke),lc=pt(Ze),wm=pt(Object.seal(c)),_m=(ho,wn)=>{const Er=o[ho.toLowerCase()];return!!(Er&&Er[wn.toLowerCase()])},cc=(ho,wn)=>{const Er=Ps(ho);if(Er)if(wn){if(Er.attributes[wn])return!0;const Ts=Er.attributePatterns;if(Ts){let as=Ts.length;for(;as--;)if(Ts[as].pattern.test(wn))return!0}}else return!0;return!1},Dl=ho=>ko(Fn(),ho),Ru=ho=>!$s(ho,"#")&&cc(ho)&&!Dl(ho),mx=ho=>ko(lc(),ho)||Ru(ho),gx=pt(a),CC=pt(u);return da(),{type:b,children:o,elements:t,getValidStyles:Bd,getValidClasses:so,getBlockElements:Fn,getInvalidStyles:zt,getVoidElements:Lt,getTextBlockElements:eo,getTextInlineElements:kt,getBoolAttrs:Zn,getElementRule:Ps,getSelfClosingElements:co,getNonEmptyElements:Mo,getMoveCaretBeforeOnEnterElements:ts,getWhitespaceElements:vs,getTransparentElements:Pd,getSpecialElements:wm,getComponentUrls:CC,isValidChild:_m,isValid:cc,isBlock:Dl,isInline:Ru,isWrapper:mx,getCustomElements:gx,addValidElements:Qe,setValidElements:Nt,addCustomElements:qn,addValidChildren:xs}},Yx=e=>({value:Oh(e)}),Oh=e=>Vf(e,"#").toUpperCase(),Wn=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},tg=e=>{const t=Wn(e.red)+Wn(e.green)+Wn(e.blue);return Yx(t)},Rh=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,et=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Zb=(e,t,o,s)=>({red:e,green:t,blue:o,alpha:s}),op=(e,t,o,s)=>{const a=parseInt(e,10),c=parseInt(t,10),u=parseInt(o,10),f=parseFloat(s);return Zb(a,c,u,f)},np=e=>Rh.test(e)?"rgb":et.test(e)?"rgba":"other",jb=e=>{const t=Rh.exec(e);if(t!==null)return B.some(op(t[1],t[2],t[3],"1"));const o=et.exec(e);return o!==null?B.some(op(o[1],o[2],o[3],o[4])):B.none()},Ju=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Qg=e=>jb(e).map(tg).map(t=>"#"+t.value).getOr(e),bd=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,c={};let u,f;const b=Xc;t&&(u=t.getValidStyles(),f=t.getInvalidStyles());const _=(`\\" \\' \\; \\: ; : `+b).split(" ");for(let R=0;R<_.length;R++)c[_[R]]=b+R,c[b+R]=_[R];const T={parse:R=>{const M={};let $=!1;const te=e.url_converter,G=e.url_converter_scope||T,ee=(Ke,Ze,Qe)=>{const Nt=M[Ke+"-top"+Ze];if(!Nt)return;const po=M[Ke+"-right"+Ze];if(!po)return;const Eo=M[Ke+"-bottom"+Ze];if(!Eo)return;const bn=M[Ke+"-left"+Ze];if(!bn)return;const qn=[Nt,po,Eo,bn];let xs=qn.length-1;for(;xs--&&qn[xs]===qn[xs+1];);xs>-1&&Qe||(M[Ke+Ze]=xs===-1?qn[0]:qn.join(" "),delete M[Ke+"-top"+Ze],delete M[Ke+"-right"+Ze],delete M[Ke+"-bottom"+Ze],delete M[Ke+"-left"+Ze])},ye=Ke=>{const Ze=M[Ke];if(!Ze)return;const Qe=Ze.indexOf(",")>-1?[Ze]:Ze.split(" ");let Nt=Qe.length;for(;Nt--;)if(Qe[Nt]!==Qe[0])return!1;return M[Ke]=Qe[0],!0},Ce=(Ke,Ze,Qe,Nt)=>{ye(Ze)&&ye(Qe)&&ye(Nt)&&(M[Ke]=M[Ze]+" "+M[Qe]+" "+M[Nt],delete M[Ze],delete M[Qe],delete M[Nt])},Te=Ke=>($=!0,c[Ke]),Xe=(Ke,Ze)=>($&&(Ke=Ke.replace(/\uFEFF[0-9]/g,Qe=>c[Qe])),Ze||(Ke=Ke.replace(/\\([\'\";:])/g,"$1")),Ke),it=Ke=>String.fromCharCode(parseInt(Ke.slice(1),16)),It=Ke=>Ke.replace(/\\[0-9a-f]+/gi,it),Xt=(Ke,Ze,Qe,Nt,po,Eo)=>{if(po=po||Eo,po)return po=Xe(po),"'"+po.replace(/\'/g,"\\'")+"'";if(Ze=Xe(Ze||Qe||Nt||""),!e.allow_script_urls){const bn=Ze.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(bn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(bn))return""}return te&&(Ze=te.call(G,Ze,"style")),"url('"+Ze.replace(/\'/g,"\\'")+"')"};if(R){R=R.replace(/[\u0000-\u001F]/g,""),R=R.replace(/\\[\"\';:\uFEFF]/g,Te).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ze=>Ze.replace(/[;:]/g,Te));let Ke;for(;Ke=s.exec(R);){s.lastIndex=Ke.index+Ke[0].length;let Ze=Ke[1].replace(a,"").toLowerCase(),Qe=Ke[2].replace(a,"");if(Ze&&Qe){if(Ze=It(Ze),Qe=It(Qe),Ze.indexOf(b)!==-1||Ze.indexOf('"')!==-1||!e.allow_script_urls&&(Ze==="behavior"||/expression\s*\(|\/\*|\*\//.test(Qe)))continue;Ze==="font-weight"&&Qe==="700"?Qe="bold":(Ze==="color"||Ze==="background-color")&&(Qe=Qe.toLowerCase()),np(Qe)==="rgb"&&jb(Qe).each(Nt=>{Qe=Qg(Ju(Nt)).toLowerCase()}),Qe=Qe.replace(o,Xt),M[Ze]=$?Xe(Qe,!0):Qe}}ee("border","",!0),ee("border","-width"),ee("border","-color"),ee("border","-style"),ee("padding",""),ee("margin",""),Ce("border","border-width","border-style","border-color"),M.border==="medium none"&&delete M.border,M["border-image"]==="none"&&delete M["border-image"]}return M},serialize:(R,M)=>{let $="";const te=(ee,ye)=>{const Ce=ye[ee];if(Ce)for(let Te=0,Xe=Ce.length;Te<Xe;Te++){const it=Ce[Te],It=R[it];It&&($+=($.length>0?" ":"")+it+": "+It+";")}},G=(ee,ye)=>{if(!f||!ye)return!0;let Ce=f["*"];return Ce&&Ce[ee]?!1:(Ce=f[ye],!(Ce&&Ce[ee]))};return M&&u?(te("*",u),te(M,u)):on(R,(ee,ye)=>{ee&&G(ye,M)&&($+=($.length>0?" ":"")+ye+": "+ee+";")}),$}};return T},us={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ec=e=>e instanceof Event||Ut(e.initEvent),by=e=>e.isDefaultPrevented===Yo||e.isDefaultPrevented===Do,ru=e=>to(e.preventDefault)||Ec(e),Ac=(e,t)=>{const o=t??{};for(const s in e)ko(us,s)||(o[s]=e[s]);return Me(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Me(e.getModifierState)&&(o.getModifierState=s=>e.getModifierState(s)),Me(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},sp=(e,t,o,s)=>{const a=Ac(t,s);return a.type=e,to(a.target)&&(a.target=a.srcElement??o),ru(t)&&(a.preventDefault=()=>{a.defaultPrevented=!0,a.isDefaultPrevented=Yo,Ut(t.preventDefault)&&t.preventDefault()},a.stopPropagation=()=>{a.cancelBubble=!0,a.isPropagationStopped=Yo,Ut(t.stopPropagation)&&t.stopPropagation()},a.stopImmediatePropagation=()=>{a.isImmediatePropagationStopped=Yo,a.stopPropagation()},by(a)||(a.isDefaultPrevented=a.defaultPrevented===!0?Yo:Do,a.isPropagationStopped=a.cancelBubble===!0?Yo:Do,a.isImmediatePropagationStopped=Do)),a},VC="mce-data-",xy=/^(?:mouse|contextmenu)|click/,vt=(e,t,o,s)=>{e.addEventListener(t,o,s||!1)},Wb=(e,t,o,s)=>{e.removeEventListener(t,o,s||!1)},xa=e=>Me(e)&&xy.test(e.type),Nh=(e,t)=>{const o=sp(e.type,e,document,t);if(xa(e)&&Co(e.pageX)&&!Co(e.clientX)){const s=o.target.ownerDocument||document,a=s.documentElement,c=s.body,u=o;u.pageX=e.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),u.pageY=e.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}return o},Xx=(e,t,o)=>{const s=e.document,a={type:"ready"};if(o.domLoaded){t(a);return}const c=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,u=()=>{Wb(e,"DOMContentLoaded",u),Wb(e,"load",u),o.domLoaded||(o.domLoaded=!0,t(a)),e=null};c()?u():vt(e,"DOMContentLoaded",u),o.domLoaded||vt(e,"load",u)};class og{static Event=new og;domLoaded=!1;events={};expando;hasFocusIn;count=1;constructor(){this.expando=VC+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,s,a){const c=this;let u;const f=window,b=M=>{c.executeHandlers(Nh(M||f.event),_)};if(!t||ht(t)||gd(t))return s;let _;t[c.expando]?_=t[c.expando]:(_=c.count++,t[c.expando]=_,c.events[_]={}),a=a||t;const T=o.split(" ");let R=T.length;for(;R--;){let M=T[R],$=b,te=!1,G=!1;if(M==="DOMContentLoaded"&&(M="ready"),c.domLoaded&&M==="ready"&&t.readyState==="complete"){s.call(a,Nh({type:M}));continue}!c.hasFocusIn&&(M==="focusin"||M==="focusout")&&(te=!0,G=M==="focusin"?"focus":"blur",$=ee=>{const ye=Nh(ee||f.event);ye.type=ye.type==="focus"?"focusin":"focusout",c.executeHandlers(ye,_)}),u=c.events[_][M],u?M==="ready"&&c.domLoaded?s(Nh({type:M})):u.push({func:s,scope:a}):(c.events[_][M]=u=[{func:s,scope:a}],u.fakeName=G,u.capture=te,u.nativeHandler=$,M==="ready"?Xx(t,$,c):vt(t,G||M,$,te))}return t=u=null,s}unbind(t,o,s){if(!t||ht(t)||gd(t))return this;const a=t[this.expando];if(a){let c=this.events[a];if(o){const u=o.split(" ");let f=u.length;for(;f--;){const b=u[f],_=c[b];if(_){if(s){let T=_.length;for(;T--;)if(_[T].func===s){const R=_.nativeHandler,M=_.fakeName,$=_.capture,te=_.slice(0,T).concat(_.slice(T+1));te.nativeHandler=R,te.fakeName=M,te.capture=$,c[b]=te}}(!s||_.length===0)&&(delete c[b],Wb(t,_.fakeName||b,_.nativeHandler,_.capture))}}}else on(c,(u,f)=>{Wb(t,u.fakeName||f,u.nativeHandler,u.capture)}),c={};for(const u in c)if(ko(c,u))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,s){return this.dispatch(t,o,s)}dispatch(t,o,s){if(!t||ht(t)||gd(t))return this;const a=Nh({type:o,target:t},s);do{const c=t[this.expando];c&&this.executeHandlers(a,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!a.isPropagationStopped());return this}clean(t){if(!t||ht(t)||gd(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let s=o.length;for(;s--;)t=o[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const s=this.events[o],a=s&&s[t.type];if(a)for(let c=0,u=a.length;c<u;c++){const f=a[c];if(f&&f.func.call(f.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}const uo=ct.each,Qx=ct.grep,rp="data-mce-style",HC=ct.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),au=(e,t,o)=>{to(o)||o===""?Mr(e,t):Wr(e,t,o)},vo=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),ng=(e,t)=>{let o=0;if(e)for(let s=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const c=a.nodeType;t&&ht(a)&&(c===s||!a.data.length)||(o++,s=c)}return o},iu=(e,t)=>{const o=or(t,"style"),s=e.serialize(e.parse(o),jo(t));au(t,rp,s)},Xl=(e,t)=>E(e)?ko(HC,t)?e+"":e+"px":e,sg=(e,t,o)=>{const s=vo(t);to(o)||o===""?mi(e,s):Hg(e,s,Xl(o,s))},Vi=(e,t,o)=>{const s=t.keep_values,a={set:(u,f,b)=>{const _=oe.fromDom(u);Ut(t.url_converter)&&Me(f)&&(f=t.url_converter.call(t.url_converter_scope||o(),String(f),b,u));const T="data-mce-"+b;au(_,T,f),au(_,b,f)},get:(u,f)=>{const b=oe.fromDom(u);return or(b,"data-mce-"+f)||or(b,f)}},c={style:{set:(u,f)=>{const b=oe.fromDom(u);s&&au(b,rp,f),Mr(b,"style"),tt(f)&&Gf(b,e.parse(f))},get:u=>{const f=oe.fromDom(u),b=or(f,rp)||or(f,"style");return e.serialize(e.parse(b),jo(f))}}};return s&&(c.href=c.src=a),c},Bn=(e,t={})=>{const o={},s=window,a={};let c=0;const u=!0,f=!0,b=Ib.forElement(oe.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy,crossOrigin:Be=>{const Fe=t.crossOrigin;if(Ut(Fe))return Fe(Be,"stylesheet")}}),_=[],T=t.schema?t.schema:su({}),R=bd({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),M=t.ownEvents?new og:og.Event,$=T.getBlockElements(),te=Be=>tt(Be)?ko($,Be):qt(Be)&&(ko($,Be.nodeName)||Ku(T,Be)),G=Be=>Be&&e&&tt(Be)?e.getElementById(Be):Be,ee=Be=>{const Fe=G(Be);return Me(Fe)?oe.fromDom(Fe):null},ye=(Be,Fe,Ht="")=>{let Dt;const Ao=ee(Be);if(Me(Ao)&&fr(Ao)){const Pn=Z7[Fe];Pn&&Pn.get?Dt=Pn.get(Ao.dom,Fe):Dt=or(Ao,Fe)}return Me(Dt)?Dt:Ht},Ce=Be=>{const Fe=G(Be);return to(Fe)?[]:Fe.attributes},Te=(Be,Fe,Ht)=>{so(Be,Dt=>{if(qt(Dt)){const Ao=oe.fromDom(Dt),Pn=Ht===""?null:Ht,Gr=or(Ao,Fe),If=Z7[Fe];If&&If.set?If.set(Ao.dom,Pn,Fe):au(Ao,Fe,Pn),Gr!==Pn&&t.onSetAttrib&&t.onSetAttrib({attrElm:Ao.dom,attrName:Fe,attrValue:Pn})}})},Xe=(Be,Fe)=>Be.cloneNode(Fe),it=()=>t.root_element||e.body,It=Be=>{const Fe=md(Be);return{x:Fe.x,y:Fe.y,w:Fe.width,h:Fe.height}},Xt=(Be,Fe)=>dy(e.body,G(Be),Fe),Ke=(Be,Fe,Ht)=>{so(Be,Dt=>{const Ao=oe.fromDom(Dt);sg(Ao,Fe,Ht),t.update_styles&&iu(R,Ao)})},Ze=(Be,Fe)=>{so(Be,Ht=>{const Dt=oe.fromDom(Ht);on(Fe,(Ao,Pn)=>{sg(Dt,Pn,Ao)}),t.update_styles&&iu(R,Dt)})},Qe=(Be,Fe,Ht)=>{const Dt=G(Be);if(!(to(Dt)||!$o(Dt)&&!zi(Dt)))return Ht?Wi(oe.fromDom(Dt),vo(Fe)):(Fe=Fe.replace(/-(\D)/g,(Ao,Pn)=>Pn.toUpperCase()),Fe==="float"&&(Fe="cssFloat"),Dt.style?Dt.style[Fe]:void 0)},Nt=Be=>{const Fe=G(Be);if(!Fe)return{w:0,h:0};let Ht=Qe(Fe,"width"),Dt=Qe(Fe,"height");return(!Ht||Ht.indexOf("px")===-1)&&(Ht="0"),(!Dt||Dt.indexOf("px")===-1)&&(Dt="0"),{w:parseInt(Ht,10)||Fe.offsetWidth||Fe.clientWidth,h:parseInt(Dt,10)||Fe.offsetHeight||Fe.clientHeight}},po=Be=>{const Fe=G(Be),Ht=Xt(Fe),Dt=Nt(Fe);return{x:Ht.x,y:Ht.y,w:Dt.w,h:Dt.h}},Eo=(Be,Fe)=>{if(!Be)return!1;const Ht=ne(Be)?Be:[Be];return In(Ht,Dt=>Ln(oe.fromDom(Dt),Fe))},bn=(Be,Fe,Ht,Dt)=>{const Ao=[];let Pn=G(Be);Dt=Dt===void 0;const Gr=Ht||(it().nodeName!=="BODY"?it().parentNode:null);if(tt(Fe))if(Fe==="*")Fe=qt;else{const If=Fe;Fe=kg=>Eo(kg,If)}for(;Pn&&!(Pn===Gr||to(Pn.nodeType)||Wg(Pn)||fh(Pn));){if(!Fe||Fe(Pn))if(Dt)Ao.push(Pn);else return[Pn];Pn=Pn.parentNode}return Dt?Ao:null},qn=(Be,Fe,Ht)=>{const Dt=bn(Be,Fe,Ht,!1);return Dt&&Dt.length>0?Dt[0]:null},xs=(Be,Fe,Ht)=>{let Dt=Fe;if(Be){tt(Fe)&&(Dt=Ao=>Eo(Ao,Fe));for(let Ao=Be[Ht];Ao;Ao=Ao[Ht])if(Ut(Dt)&&Dt(Ao))return Ao}return null},Ps=(Be,Fe)=>xs(Be,Fe,"nextSibling"),da=(Be,Fe)=>xs(Be,Fe,"previousSibling"),Bd=Be=>Ut(Be.querySelectorAll),zt=(Be,Fe)=>{const Ht=G(Fe)??t.root_element??e;return Bd(Ht)?Ot(Ht.querySelectorAll(Be)):[]},so=function(Be,Fe,Ht){const Dt=Ht??this;if(ne(Be)){const Ao=[];return uo(Be,(Pn,Gr)=>{const If=G(Pn);If&&Ao.push(Fe.call(Dt,If,Gr))}),Ao}else{const Ao=G(Be);return Ao?Fe.call(Dt,Ao):!1}},Zn=(Be,Fe)=>{so(Be,Ht=>{on(Fe,(Dt,Ao)=>{Te(Ht,Ao,Dt)})})},Fn=(Be,Fe)=>{so(Be,Ht=>{const Dt=oe.fromDom(Ht);Im(Dt,Fe)})},eo=(Be,Fe,Ht,Dt,Ao)=>so(Be,Pn=>{const Gr=tt(Fe)?e.createElement(Fe):Fe;return Me(Ht)&&Zn(Gr,Ht),Dt&&(!tt(Dt)&&Dt.nodeType?Gr.appendChild(Dt):tt(Dt)&&Fn(Gr,Dt)),Ao?Gr:Pn.appendChild(Gr)}),kt=(Be,Fe,Ht)=>eo(e.createElement(Be),Be,Fe,Ht,!0),Lt=pd.decode,co=pd.encodeAllRaw,Mo=(Be,Fe,Ht="")=>{let Dt="<"+Be;for(const Ao in Fe)De(Fe,Ao)&&(Dt+=" "+Ao+'="'+co(Fe[Ao])+'"');return Yc(Ht)&&ko(T.getVoidElements(),Be)?Dt+" />":Dt+">"+Ht+"</"+Be+">"},ts=Be=>{const Fe=e.createElement("div"),Ht=e.createDocumentFragment();Ht.appendChild(Fe),Be&&(Fe.innerHTML=Be);let Dt;for(;Dt=Fe.firstChild;)Ht.appendChild(Dt);return Ht.removeChild(Fe),Ht},vs=(Be,Fe)=>so(Be,Ht=>{const Dt=oe.fromDom(Ht);return Fe&&Ge(rn(Dt),Ao=>{Ka(Ao)&&Ao.dom.length===0?cs(Ao):na(Dt,Ao)}),cs(Dt),Dt.dom}),Pd=Be=>so(Be,Fe=>{const Ht=Fe.attributes;for(let Dt=Ht.length-1;Dt>=0;Dt--)Fe.removeAttributeNode(Ht.item(Dt))}),lc=Be=>R.parse(Be),wm=(Be,Fe)=>R.serialize(Be,Fe),_m=Be=>{if(px!==Bn.DOM&&e===document){if(o[Be])return;o[Be]=!0}let Fe=e.getElementById("mceDefaultStyles");if(!Fe){Fe=e.createElement("style"),Fe.id="mceDefaultStyles",Fe.type="text/css";const Ht=e.head;Ht.firstChild?Ht.insertBefore(Fe,Ht.firstChild):Ht.appendChild(Fe)}Fe.styleSheet?Fe.styleSheet.cssText+=Be:Fe.appendChild(e.createTextNode(Be))},cc=Be=>{Be||(Be=""),Ge(Be.split(","),Fe=>{a[Fe]=!0,b.load(Fe).catch(To)})},Dl=(Be,Fe,Ht)=>{so(Be,Dt=>{if(qt(Dt)){const Ao=oe.fromDom(Dt),Pn=Fe.split(" ");Ge(Pn,Gr=>{Me(Ht)?(Ht?Ul:Fi)(Ao,Gr):Aa(Ao,Gr)})}})},Ru=(Be,Fe)=>{Dl(Be,Fe,!0)},mx=(Be,Fe)=>{Dl(Be,Fe,!1)},gx=(Be,Fe)=>{const Ht=ee(Be),Dt=Fe.split(" ");return Me(Ht)&&La(Dt,Ao=>ds(Ht,Ao))},CC=Be=>{so(Be,Fe=>mi(oe.fromDom(Fe),"display"))},ho=Be=>{so(Be,Fe=>Hg(oe.fromDom(Fe),"display","none"))},wn=Be=>{const Fe=ee(Be);return Me(Fe)&&xr(Fm(Fe,"display"),"none")},Er=Be=>(Be||"mce_")+c++,Ts=Be=>{const Fe=ee(Be);return Me(Fe)?qt(Fe.dom)?Fe.dom.outerHTML:G2(Fe):""},as=(Be,Fe)=>{so(Be,Ht=>{qt(Ht)&&(Ht.outerHTML=Fe)})},hr=(Be,Fe)=>{const Ht=G(Fe);return so(Be,Dt=>{const Ao=Ht?.parentNode,Pn=Ht?.nextSibling;return Ao&&(Pn?Ao.insertBefore(Dt,Pn):Ao.appendChild(Dt)),Dt})},dc=(Be,Fe,Ht)=>so(Fe,Dt=>{const Ao=ne(Fe)?Be.cloneNode(!0):Be;return Ht&&uo(Qx(Dt.childNodes),Pn=>{Ao.appendChild(Pn)}),Dt.parentNode?.replaceChild(Ao,Dt),Dt}),al=(Be,Fe)=>{if(Be.nodeName!==Fe.toUpperCase()){const Ht=kt(Fe);return uo(Ce(Be),Dt=>{Te(Ht,Dt.nodeName,ye(Be,Dt.nodeName))}),dc(Ht,Be,!0),Ht}else return Be},Id=(Be,Fe)=>{let Ht=Be;for(;Ht;){let Dt=Fe;for(;Dt&&Ht!==Dt;)Dt=Dt.parentNode;if(Ht===Dt)break;Ht=Ht.parentNode}return!Ht&&Be.ownerDocument?Be.ownerDocument.documentElement:Ht},Pf=(Be,Fe,Ht)=>We(Fe)?fd(T,Be,{...Ht,isContent:Ao=>{const Pn=Ao.nodeName.toLowerCase();return!!Fe[Pn]}}):fd(T,Be,Ht),kC=()=>e.createRange(),SC=(Be,Fe,Ht)=>{let Dt=kC(),Ao,Pn;if(Be&&Fe&&Be.parentNode&&Fe.parentNode){const Gr=Be.parentNode;return Dt.setStart(Gr,ng(Be)),Dt.setEnd(Fe.parentNode,ng(Fe)),Ao=Dt.extractContents(),Dt=kC(),Dt.setStart(Fe.parentNode,ng(Fe)+1),Dt.setEnd(Gr,ng(Be)+1),Pn=Dt.extractContents(),Gr.insertBefore(ep(px,Ao,T),Be),Ht?Gr.insertBefore(Ht,Be):Gr.insertBefore(Fe,Be),Gr.insertBefore(ep(px,Pn,T),Be),vs(Be),Ht||Fe}else return},F2=(Be,Fe,Ht,Dt)=>{if(ne(Be)){let Ao=Be.length;const Pn=[];for(;Ao--;)Pn[Ao]=F2(Be[Ao],Fe,Ht,Dt);return Pn}else return t.collect&&(Be===e||Be===s)&&_.push([Be,Fe,Ht,Dt]),M.bind(Be,Fe,Ht,Dt||px)},Cg=(Be,Fe,Ht)=>{if(ne(Be)){let Dt=Be.length;const Ao=[];for(;Dt--;)Ao[Dt]=Cg(Be[Dt],Fe,Ht);return Ao}else{if(_.length>0&&(Be===e||Be===s)){let Dt=_.length;for(;Dt--;){const[Ao,Pn,Gr]=_[Dt];Be===Ao&&(!Fe||Fe===Pn)&&(!Ht||Ht===Gr)&&M.unbind(Ao,Pn,Gr)}}return M.unbind(Be,Fe,Ht)}},fx=(Be,Fe,Ht)=>M.dispatch(Be,Fe,Ht),IE=(Be,Fe,Ht)=>M.dispatch(Be,Fe,Ht),EC=Be=>{if(Be&&$o(Be)){const Fe=Be.getAttribute("data-mce-contenteditable");return Fe&&Fe!=="inherit"?Fe:Be.contentEditable!=="inherit"?Be.contentEditable:null}else return null},px={doc:e,settings:t,win:s,files:a,stdMode:u,boxModel:f,styleSheetLoader:b,boundEvents:_,styles:R,schema:T,events:M,isBlock:te,root:null,clone:Xe,getRoot:it,getViewPort:It,getRect:po,getSize:Nt,getParent:qn,getParents:bn,get:G,getNext:Ps,getPrev:da,select:zt,is:Eo,add:eo,create:kt,createHTML:Mo,createFragment:ts,remove:vs,setStyle:Ke,getStyle:Qe,setStyles:Ze,removeAllAttribs:Pd,setAttrib:Te,setAttribs:Zn,getAttrib:ye,getPos:Xt,parseStyle:lc,serializeStyle:wm,addStyle:_m,loadCSS:cc,addClass:Ru,removeClass:mx,hasClass:gx,toggleClass:Dl,show:CC,hide:ho,isHidden:wn,uniqueId:Er,setHTML:Fn,getOuterHTML:Ts,setOuterHTML:as,decode:Lt,encode:co,insertAfter:hr,replace:dc,rename:al,findCommonAncestor:Id,run:so,getAttribs:Ce,isEmpty:Pf,createRng:kC,nodeIndex:ng,split:SC,bind:F2,unbind:Cg,fire:IE,dispatch:fx,getContentEditable:EC,getContentEditableParent:Be=>{const Fe=it();let Ht=null;for(let Dt=Be;Dt&&Dt!==Fe&&(Ht=EC(Dt),Ht===null);Dt=Dt.parentNode);return Ht},isEditable:Be=>{if(Me(Be)){const Fe=qt(Be)?Be:Be.parentElement;return Me(Fe)&&$o(Fe)&&qi(oe.fromDom(Fe))}else return!1},destroy:()=>{if(_.length>0){let Be=_.length;for(;Be--;){const[Fe,Ht,Dt]=_[Be];M.unbind(Fe,Ht,Dt)}}on(a,(Be,Fe)=>{b.unload(Fe),delete a[Fe]})},isChildOf:(Be,Fe)=>Be===Fe||Fe.contains(Be),dumpRng:Be=>"startContainer: "+Be.startContainer.nodeName+", startOffset: "+Be.startOffset+", endContainer: "+Be.endContainer.nodeName+", endOffset: "+Be.endOffset},Z7=Vi(R,t,pt(px));return px};Bn.DOM=Bn(document),Bn.nodeIndex=ng;const ap=Bn.DOM,Mh=0,Jg=1,Ql=2,xd=3;class oi{static ScriptLoader=new oi;settings;states={};queue=[];scriptLoadedCallbacks={};queueLoadedCallbacks=[];loading=!1;constructor(t={}){this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}_setCrossOrigin(t){this.settings.crossOrigin=t}loadScript(t){return new Promise((o,s)=>{const a=ap,c=document;let u;const f=()=>{a.remove(T),u&&(u.onerror=u.onload=u=null)},b=()=>{f(),o()},_=()=>{f(),s("Failed to load script: "+t)},T=a.uniqueId();u=c.createElement("script"),u.id=T,u.type="text/javascript",u.src=ct._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy);const R=this.settings.crossOrigin;if(Ut(R)){const M=R(t);M!==void 0&&a.setAttrib(u,"crossorigin",M)}u.onload=b,u.onerror=_,(c.head||c.body).appendChild(u)})}isDone(t){return this.states[t]===Ql}markDone(t){this.states[t]=Ql}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=Mh),new Promise((a,c)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:a,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,s=(b,_)=>{Cn(o.scriptLoadedCallbacks,_).each(T=>{Ge(T,R=>R[b](_))}),delete o.scriptLoadedCallbacks[_]},a=b=>{const _=xt(b,T=>T.status==="rejected");return _.length>0?Promise.reject(dr(_,({reason:T})=>ne(T)?T:[T])):Promise.resolve()},c=b=>Promise.allSettled(Io(b,_=>o.states[_]===Ql?(s("resolve",_),Promise.resolve()):o.states[_]===xd?(s("reject",_),Promise.reject(_)):(o.states[_]=Jg,o.loadScript(_).then(()=>{o.states[_]=Ql,s("resolve",_);const T=o.queue;return T.length>0?(o.queue=[],c(T).then(a)):Promise.resolve()},()=>(o.states[_]=xd,s("reject",_),Promise.reject(_)))))),u=b=>(o.loading=!0,c(b).then(_=>{o.loading=!1;const T=o.queueLoadedCallbacks.shift();return B.from(T).each(Oo),a(_)})),f=Am(t);return o.loading?new Promise((b,_)=>{o.queueLoadedCallbacks.push(()=>{u(f).then(b,_)})}):u(f)}getScriptAttributes(t){const o={};this.settings.referrerPolicy&&(o.referrerpolicy=this.settings.referrerPolicy);const s=this.settings.crossOrigin;if(Ut(s)){const a=s(t);tt(a)&&(o.crossorigin=a)}return o}}const Bh=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},vy=e=>se(e)&&ko(e,"raw"),Jx=e=>ne(e)&&e.length>1,Ph={},Ih=jn("en"),hn=()=>Cn(Ph,Ih.get()),yl={getData:()=>$r(Ph,e=>({...e})),setCode:e=>{e&&Ih.set(e)},getCode:()=>Ih.get(),add:(e,t)=>{let o=Ph[e];o||(Ph[e]=o={});const s=Io(Yr(t),a=>a.toLowerCase());on(t,(a,c)=>{const u=c.toLowerCase();u!==c&&Bh(s,u)?(ko(t,u)||(o[u]=a),o[c]=a):o[u]=a})},translate:e=>{const t=hn().getOr({}),o=f=>Ut(f)?Object.prototype.toString.call(f):s(f)?"":""+f,s=f=>f===""||f===null||f===void 0,a=f=>{const b=o(f);return ko(t,b)?o(t[b]):Cn(t,b.toLowerCase()).map(o).getOr(b)},c=f=>f.replace(/{context:\w+}$/,""),u=f=>f.replaceAll("...",Ai);if(s(e))return"";if(vy(e))return u(o(e.raw));if(Jx(e)){const f=e.slice(1),b=a(e[0]).replace(/\{([0-9]+)\}/g,(_,T)=>ko(f,T)?o(f[T]):_);return u(c(b))}return u(c(a(e)))},isRtl:()=>hn().bind(e=>Cn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>ko(Ph,e)},Ua=()=>{const e=[],t={},o={},s=[],a=(G,ee)=>{const ye=xt(s,Ce=>Ce.name===G&&Ce.state===ee);Ge(ye,Ce=>Ce.resolve())},c=G=>ko(t,G),u=G=>ko(o,G),f=G=>{if(o[G])return o[G].instance},b=(G,ee)=>{const ye=yl.getCode(),Ce=","+(ee||"")+",";!ye||ee&&Ce.indexOf(","+ye+",")===-1||oi.ScriptLoader.add(t[G]+"/langs/"+ye+".js")},_=(G,ee)=>{Ua.languageLoad!==!1&&(c(G)?b(G,ee):te(G,"loaded").then(()=>b(G,ee)))},T=(G,ee)=>(e.push(ee),o[G]={instance:ee},a(G,"added"),ee),R=G=>{delete t[G],delete o[G]},M=(G,ee)=>tt(ee)?tt(G)?{prefix:"",resource:ee,suffix:""}:{prefix:G.prefix,resource:ee,suffix:G.suffix}:ee,$=(G,ee)=>{if(t[G])return Promise.resolve();let ye=tt(ee)?ee:ee.prefix+ee.resource+ee.suffix;ye.indexOf("/")!==0&&ye.indexOf("://")===-1&&(ye=Ua.baseURL+"/"+ye),t[G]=ye.substring(0,ye.lastIndexOf("/"));const Ce=()=>(a(G,"loaded"),Promise.resolve());return o[G]?Ce():oi.ScriptLoader.add(ye).then(Ce)},te=(G,ee="added")=>ee==="added"&&u(G)||ee==="loaded"&&c(G)?Promise.resolve():new Promise(ye=>{s.push({name:G,state:ee,resolve:ye})});return{items:e,urls:t,lookup:o,get:f,requireLangPack:_,add:T,remove:R,createUrl:M,load:$,waitFor:te}};Ua.languageLoad=!0,Ua.baseURL="",Ua.PluginManager=Ua(),Ua.ThemeManager=Ua(),Ua.ModelManager=Ua();const ef=pt("mce-annotation"),em=pt("data-mce-annotation"),Tc=pt("data-mce-annotation-uid"),tf=pt("data-mce-annotation-active"),rg=pt("data-mce-annotation-classes"),ln=pt("data-mce-annotation-attrs"),ev=e=>t=>sn(t,e),qb=(e,t)=>{const o=e.selection.getRng(),s=oe.fromDom(o.startContainer),a=oe.fromDom(e.getBody()),c=t.fold(()=>"."+ef(),b=>`[${em()}="${b}"]`),u=pr(s,o.startOffset).getOr(s);return dd(u,c,ev(a)).bind(b=>bc(b,`${Tc()}`).bind(_=>bc(b,`${em()}`).map(T=>{const R=Gb(e,_);return{uid:_,name:T,elements:R}})))},tv=e=>fr(e)&&ds(e,ef()),Jl=(e,t)=>Bm(e,"data-mce-bogus")||Rx(e,'[data-mce-bogus="all"]',ev(t)),Gb=(e,t)=>{const o=oe.fromDom(e.getBody()),s=qr(o,`[${Tc()}="${t}"]`);return xt(s,a=>!Jl(a,o))},Kb=(e,t)=>{const o=oe.fromDom(e.getBody()),s=qr(o,`[${em()}="${t}"]`),a={};return Ge(s,c=>{if(!Jl(c,o)){const u=or(c,Tc()),f=Cn(a,u).getOr([]);a[u]=f.concat([c])}}),a},Yb=(e,t)=>{const o=jn({}),s=()=>({listeners:[],previous:Il()}),a=(R,M)=>{c(R,$=>(M($),$))},c=(R,M)=>{const $=o.get(),te=Cn($,R).getOrThunk(s),G=M(te);$[R]=G,o.set($)},u=(R,M,$)=>{a(R,te=>{Ge(te.listeners,G=>G(!0,R,{uid:M,nodes:Io($,ee=>ee.dom)}))})},f=R=>{a(R,M=>{Ge(M.listeners,$=>$(!1,R))})},b=(R,M)=>{Ge(Gb(e,R),$=>{M?Wr($,tf(),"true"):Mr($,tf())})},_=Hd(()=>{const R=no(t.getNames());Ge(R,M=>{c(M,$=>{const te=$.previous.get();return qb(e,B.some(M)).fold(()=>{te.each(G=>{f(M),$.previous.clear(),b(G,!1)})},({uid:G,name:ee,elements:ye})=>{xr(te,G)||(te.each(Ce=>b(Ce,!1)),u(ee,G,ye),$.previous.set(G),b(G,!0))}),{previous:$.previous,listeners:$.listeners}})})},30);return e.on("remove",()=>{_.cancel()}),e.on("NodeChange",()=>{_.throttle()}),{addListener:(R,M)=>{c(R,$=>({previous:$.previous,listeners:$.listeners.concat([M])}))}}},ag=(e,t)=>{const o=em(),s=c=>B.from(c.attr(o)).bind(t.lookup),a=c=>{c.attr(Tc(),null),c.attr(em(),null),c.attr(tf(),null);const u=B.from(c.attr(ln())).map(T=>T.split(",")).getOr([]),f=B.from(c.attr(rg())).map(T=>T.split(",")).getOr([]);Ge(u,T=>c.attr(T,null));const b=c.attr("class")?.split(" ")??[],_=Rl(b,[ef()].concat(f));c.attr("class",_.length>0?_.join(" "):null),c.attr(rg(),null),c.attr(ln(),null)};e.serializer.addTempAttr(tf()),e.serializer.addAttributeFilter(o,c=>{for(const u of c)s(u).each(f=>{f.persistent===!1&&(u.name==="span"?u.unwrap():a(u))})})},of=()=>{const e={};return{register:(a,c)=>{e[a]={name:a,settings:c}},lookup:a=>Cn(e,a).map(c=>c.settings),getNames:()=>Yr(e)}},nf=(e,t,o=Do)=>{const s=new rr(e,t),a=c=>{let u;do u=s[c]();while(u&&!ht(u)&&!o(u));return B.from(u).filter(ht)};return{current:()=>B.from(s.current()).filter(ht),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},ec=(e,t)=>{const o=t||(u=>e.isBlock(u)||Ls(u)||Xn(u)),s=(u,f,b,_)=>{if(ht(u)){const T=_(u,f,u.data);if(T!==-1)return B.some({container:u,offset:T})}return b().bind(T=>s(T.container,T.offset,b,_))};return{backwards:(u,f,b,_)=>{const T=nf(u,_??e.getRoot(),o);return s(u,f,()=>T.prev().map(R=>({container:R,offset:R.length})),b).getOrNull()},forwards:(u,f,b,_)=>{const T=nf(u,_??e.getRoot(),o);return s(u,f,()=>T.next().map(R=>({container:R,offset:0})),b).getOrNull()}}},zh=["td","th"],yy=["thead","tbody","tfoot"],wy=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],ov=["li","dd","dt"],yd=["ul","ol","dl"],nv=["pre","script","textarea","style"],tm=e=>{let t;return o=>(t=t||Tr(e,Yo),ko(t,jo(o)))},Xb=e=>jo(e)==="table",Qi=e=>fr(e)&&jo(e)==="br",lp=tm(wy),zr=tm(yd),om=tm(ov),sv=tm(yy),cp=tm(zh),Vh=tm(nv),_y=e=>{const t=[];let o=e.dom;for(;o;)t.push(oe.fromDom(o)),o=o.lastChild;return t},Hh=e=>{const t=qr(e,"br"),o=xt(_y(e).slice(-1),Qi);t.length===o.length&&Ge(o,cs)},sf=()=>{const e=oe.fromTag("br");return Wr(e,"data-mce-bogus","1"),e},lu=e=>{Uu(e),dn(e,sf())},dp=(e,t)=>{ta(e).each(o=>{zl(o).each(s=>{t.isBlock(jo(e))&&Qi(o)&&t.isBlock(jo(s))&&cs(o)})})},Vr=Xc,rf=Ti,Hi=$f,Cy=e=>e.insertContent(Vr,{preserve_zwsp:!0}),ky=qt,up=ht,af=e=>(up(e)&&(e=e.parentNode),ky(e)&&e.hasAttribute("data-mce-caret")),nm=e=>up(e)&&rf(e.data),wl=e=>af(e)||nm(e),$h=e=>e.firstChild!==e.lastChild||!Ls(e.firstChild),Qb=(e,t)=>{const s=(e.ownerDocument??document).createTextNode(Vr),a=e.parentNode;if(t){const c=e.previousSibling;if(up(c)){if(wl(c))return c;if(jh(c))return c.splitText(c.data.length-1)}a?.insertBefore(s,e)}else{const c=e.nextSibling;if(up(c)){if(wl(c))return c;if(lf(c))return c.splitText(1),c}e.nextSibling?a?.insertBefore(s,e.nextSibling):a?.appendChild(s)}return s},Uh=e=>{const t=e.container();return ht(t)?t.data.charAt(e.offset())===Vr||e.isAtStart()&&nm(t.previousSibling):!1},Zh=e=>{const t=e.container();return ht(t)?t.data.charAt(e.offset()-1)===Vr||e.isAtEnd()&&nm(t.nextSibling):!1},Sy=(e,t,o)=>{const a=(t.ownerDocument??document).createElement(e);a.setAttribute("data-mce-caret",o?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(sf().dom);const c=t.parentNode;return o?c?.insertBefore(a,t):t.nextSibling?c?.insertBefore(a,t.nextSibling):c?.appendChild(a),a},lf=e=>up(e)&&e.data[0]===Vr,jh=e=>up(e)&&e.data[e.data.length-1]===Vr,Ey=e=>{const t=e.getElementsByTagName("br"),o=t[t.length-1];Gm(o)&&o.parentNode?.removeChild(o)},rv=e=>e&&e.hasAttribute("data-mce-caret")?(Ey(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,g=e=>af(e.startContainer),h=Math.round,y=e=>e?{left:h(e.left),top:h(e.top),bottom:h(e.bottom),right:h(e.right),width:h(e.width),height:h(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},C=(e,t)=>(e=y(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),D=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,O=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,L=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:O(t.top-e.bottom,e,t)},z=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:O(t.bottom-e.top,e,t),X=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,ae=e=>Zo(e,(t,o)=>t.fold(()=>B.some(o),s=>{const a=Math.min(o.left,s.left),c=Math.min(o.top,s.top),u=Math.max(o.right,s.right),f=Math.max(o.bottom,s.bottom);return B.some({top:c,right:u,bottom:f,left:a,width:u-a,height:f-c})}),B.none()),he=(e,t,o)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(o-a)*(o-a))},ie=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),fe=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},de=(e,t)=>{if(qt(e)&&e.hasChildNodes()){const o=e.childNodes,s=zn(t,0,o.length-1);return o[s]}else return e},Oe=(e,t)=>{if(!(t<0&&qt(e)&&e.hasChildNodes()))return de(e,t)},Ae=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),ot=e=>tt(e)&&e.charCodeAt(0)>=768&&Ae.test(e),at=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},bt=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},_t=pi,Ct=Xn,At=Ls,Rt=ht,Yt=xl(["script","style","textarea"]),bo=xl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Rn=xl(["table"]),Fo=wl,zo=e=>Fo(e)?!1:Rt(e)?!Yt(e.parentNode):bo(e)||At(e)||Rn(e)||$n(e),Vo=e=>qt(e)&&e.getAttribute("unselectable")==="true",$n=e=>!Vo(e)&&Ct(e),kr=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if($n(o))return!1;if(_t(o))return!0}return!0},Za=e=>$n(e)?!Zo(Ot(e.getElementsByTagName("*")),(t,o)=>t||_t(o),!1):!1,va=e=>bo(e)||Za(e),Ji=(e,t)=>zo(e)&&kr(e,t),Kt=qt,ja=zo,sm=ns("display","block table"),Wh=ns("float","left right"),wd=bt(Kt,ja,Ee(Wh)),qh=Ee(ns("white-space","pre pre-line pre-wrap")),Dc=ht,cu=Ls,ZC=Bn.nodeIndex,Jb=Oe,Ay=e=>e?e.createRange():Bn.DOM.createRng(),cf=e=>tt(e)&&/[\r\n\t ]/.test(e),jC=e=>!!e.setStart&&!!e.setEnd,Ty=e=>{const t=e.startContainer,o=e.startOffset;if(cf(e.toString())&&qh(t.parentNode)&&ht(t)){const s=t.data;if(cf(s[o-1])||cf(s[o+1]))return!0}return!1},df=e=>{const t=e.ownerDocument,o=Ay(t),s=t.createTextNode(Us),a=e.parentNode;a.insertBefore(s,e),o.setStart(s,0),o.setEnd(s,1);const c=y(o.getBoundingClientRect());return a.removeChild(s),c},WE=e=>{const t=e.startContainer,o=e.endContainer,s=e.startOffset,a=e.endOffset;if(t===o&&ht(o)&&s===0&&a===1){const c=e.cloneRange();return c.setEndAfter(o),rm(c)}else return null},Dy=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,rm=e=>{let t;const o=e.getClientRects();return o.length>0?t=y(o[0]):t=y(e.getBoundingClientRect()),!jC(e)&&cu(e)&&Dy(t)?df(e):Dy(t)&&jC(e)?WE(e)??t:t},mp=(e,t)=>{const o=C(e,t);return o.width=1,o.right=o.left+1,o},nR=e=>{const t=[],o=u=>{u.height!==0&&(t.length>0&&D(u,t[t.length-1])||t.push(u))},s=(u,f)=>{const b=Ay(u.ownerDocument);if(f<u.data.length){if(ot(u.data[f]))return;if(ot(u.data[f-1])&&(b.setStart(u,f),b.setEnd(u,f+1),!Ty(b))){o(mp(rm(b),!1));return}}f>0&&(b.setStart(u,f-1),b.setEnd(u,f),Ty(b)||o(mp(rm(b),!1))),f<u.data.length&&(b.setStart(u,f),b.setEnd(u,f+1),Ty(b)||o(mp(rm(b),!0)))},a=e.container(),c=e.offset();if(Dc(a))return s(a,c),t;if(Kt(a))if(e.isAtEnd()){const u=Jb(a,c);Dc(u)&&s(u,u.data.length),wd(u)&&!cu(u)&&o(mp(rm(u),!1))}else{const u=Jb(a,c);if(Dc(u)&&s(u,0),wd(u)&&e.isAtEnd())return o(mp(rm(u),!1)),t;const f=Jb(e.container(),e.offset()-1);wd(f)&&!cu(f)&&(sm(f)||sm(u)||!wd(u))&&o(mp(rm(f),!1)),wd(u)&&o(mp(rm(u),!0))}return t},Ye=(e,t,o)=>{const s=()=>(Dc(e),t===0),a=()=>Dc(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const T=Ay(e.ownerDocument);return T.setStart(e,t),T.setEnd(e,t),T},u=()=>(o||(o=nR(Ye(e,t))),o),f=()=>u().length>0,b=T=>T&&e===T.container()&&t===T.offset(),_=T=>Jb(e,T?t-1:t);return{container:pt(e),offset:pt(t),toRange:c,getClientRects:u,isVisible:f,isAtStart:s,isAtEnd:a,isEqual:b,getNode:_}};Ye.fromRangeStart=e=>Ye(e.startContainer,e.startOffset),Ye.fromRangeEnd=e=>Ye(e.endContainer,e.endOffset),Ye.after=e=>Ye(e.parentNode,ZC(e)+1),Ye.before=e=>Ye(e.parentNode,ZC(e)),Ye.isAbove=(e,t)=>Rs(Kn(t.getClientRects()),qs(e.getClientRects()),L).getOr(!1),Ye.isBelow=(e,t)=>Rs(qs(t.getClientRects()),Kn(e.getClientRects()),z).getOr(!1),Ye.isAtStart=e=>e?e.isAtStart():!1,Ye.isAtEnd=e=>e?e.isAtEnd():!1,Ye.isTextPosition=e=>e?ht(e.container()):!1,Ye.isElementPosition=e=>!Ye.isTextPosition(e);const av=(e,t)=>{ht(t)&&t.data.length===0&&e.remove(t)},qE=(e,t,o)=>{t.insertNode(o),av(e,o.previousSibling),av(e,o.nextSibling)},WC=(e,t,o)=>{const s=B.from(o.firstChild),a=B.from(o.lastChild);t.insertNode(o),s.each(c=>av(e,c.previousSibling)),a.each(c=>av(e,c.nextSibling))},Oy=(e,t,o)=>{fh(o)?WC(e,t,o):qE(e,t,o)},du=ht,GE=Gm,Ry=Bn.nodeIndex,KE=e=>{const t=e.parentNode;return GE(t)?KE(t):t},e0=e=>e?Qc(e.childNodes,(t,o)=>(GE(o)&&o.nodeName!=="BR"?t=t.concat(e0(o)):t.push(o),t),[]):[],YE=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&du(o);)t+=o.data.length;return t},XE=e=>t=>e===t,No=e=>{let t,o;t=e0(KE(e)),o=Ga(t,XE(e),e),t=t.slice(0,o+1);const s=Qc(t,(a,c,u)=>(du(c)&&du(t[u-1])&&a++,a),0);return t=Zd(t,xl([e.nodeName])),o=Ga(t,XE(e),e),o-s},QE=e=>(du(e)?"text()":e.nodeName.toLowerCase())+"["+No(e)+"]",sR=(e,t,o)=>{const s=[];for(let a=t.parentNode;a&&a!==e;a=a.parentNode)s.push(a);return s},JE=(e,t)=>{let o=[],s=t.container(),a=t.offset(),c;if(du(s))c=YE(s,a);else{const f=s.childNodes;a>=f.length?(c="after",a=f.length-1):c="before",s=f[a]}o.push(QE(s));let u=sR(e,s);return u=Zd(u,Ee(Gm)),o=o.concat(Tm(u,f=>QE(f))),o.reverse().join("/")+","+c},rR=(e,t,o)=>{let s=e0(e);return s=Zd(s,(a,c)=>!du(a)||!du(s[c-1])),s=Zd(s,xl([t])),s[o]},aR=(e,t)=>{let o=e,s=0;for(;du(o);){const a=o.data.length;if(t>=s&&t<=s+a){e=o,t=t-s;break}if(!du(o.nextSibling)){e=o,t=a;break}s+=a,o=o.nextSibling}return du(e)&&t>e.data.length&&(t=e.data.length),Ye(e,t)},qC=(e,t)=>{if(!t)return null;const o=t.split(","),s=o[0].split("/"),a=o.length>1?o[1]:"before",c=Qc(s,(u,f)=>{const b=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(f);return b?(b[1]==="text()"&&(b[1]="#text"),rR(u,b[1],parseInt(b[2],10))):null},e);if(!c)return null;if(!du(c)&&c.parentNode){let u;return a==="after"?u=Ry(c)+1:u=Ry(c),Ye(c.parentNode,u)}return aR(c,parseInt(a,10))},t0=Xn,iv=(e,t,o)=>{let s=e(t.data.slice(0,o)).length;for(let a=t.previousSibling;a&&ht(a);a=a.previousSibling)s+=e(a.data).length;return s},Gh=(e,t,o,s,a)=>{const c=a?s.startContainer:s.endContainer;let u=a?s.startOffset:s.endOffset;const f=[],b=e.getRoot();if(ht(c))f.push(o?iv(t,c,u):u);else{let _=0;const T=c.childNodes;u>=T.length&&T.length&&(_=1,u=Math.max(0,T.length-1)),f.push(e.nodeIndex(T[u],o)+_)}for(let _=c;_&&_!==b;_=_.parentNode)f.push(e.nodeIndex(_,o));return f},iR=(e,t,o,s)=>{const a=t.dom,c=Gh(a,e,o,s,!0),u=t.isForward(),f=g(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:u,...f};{const b=Gh(a,e,o,s,!1);return{start:c,end:b,forward:u,...f}}},o0=(e,t,o)=>{let s=0;return ct.each(e.select(t),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;s++;return}}),s},eA=(e,t)=>{let o=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(qt(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(t?s:s-1,a.length-1)],o&&(s=t?0:o.childNodes.length,t?e.setStart(o,s):e.setEnd(o,s))}},GC=e=>(eA(e,!0),eA(e,!1),e),Ny=(e,t)=>{if(qt(e)&&(e=de(e,t),t0(e)))return e;if(wl(e)){ht(e)&&af(e)&&(e=e.parentNode);let o=e.previousSibling;if(t0(o)||(o=e.nextSibling,t0(o)))return o}},lR=e=>Ny(e.startContainer,e.startOffset)||Ny(e.endContainer,e.endOffset),tA=(e,t,o)=>{const s=o.getNode(),a=o.getRng();if(s.nodeName==="IMG"||t0(s)){const u=s.nodeName;return{name:u,index:o0(o.dom,u,s)}}const c=lR(a);if(c){const u=c.tagName;return{name:u,index:o0(o.dom,u,c)}}return iR(e,o,t,a)},cR=e=>{const t=e.getRng();return{start:JE(e.dom.getRoot(),Ye.fromRangeStart(t)),end:JE(e.dom.getRoot(),Ye.fromRangeEnd(t)),forward:e.isForward()}},dR=e=>({rng:e.getRng(),forward:e.isForward()}),gp=(e,t,o)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",s,"&#xFEFF;"):e.create("span",s)},oA=(e,t)=>{const o=e.dom;let s=e.getRng();const a=o.uniqueId(),c=e.isCollapsed(),u=e.getNode(),f=u.nodeName,b=e.isForward();if(f==="IMG")return{name:f,index:o0(o,f,u)};const _=GC(s.cloneRange());if(!c){_.collapse(!1);const R=gp(o,a+"_end",t);Oy(o,_,R)}s=GC(s),s.collapse(!0);const T=gp(o,a+"_start",t);return Oy(o,s,T),e.moveToBookmark({id:a,keep:!0,forward:b}),{id:a,forward:b}},uR=(e,t,o=!1)=>t===2?tA(Hi,o,e):t===3?cR(e):t?dR(e):oA(e,!1),My=ze(tA,En,!0),n0=e=>e===1,Kh=e=>e===-1,mR=e=>e.type==="inline-command"||e.type==="inline-format",Bs=e=>e.type==="block-command"||e.type==="block-format",nA=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,gR=e=>{const t=s=>Gs.error({message:s,pattern:e}),o=(s,a,c)=>{if(e.format!==void 0){let u;if(ne(e.format)){if(!La(e.format,tt))return t(s+" pattern has non-string items in the `format` array");u=e.format}else if(tt(e.format))u=[e.format];else return t(s+" pattern has non-string `format` parameter");return Gs.value(a(u))}else return e.cmd!==void 0?tt(e.cmd)?Gs.value(c(e.cmd,e.value)):t(s+" pattern has non-string `cmd` parameter"):t(s+" pattern is missing both `format` and `cmd` parameters")};if(!se(e))return t("Raw pattern is not an object");if(!tt(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!tt(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let s=e.start,a=e.end;return a.length===0&&(a=s,s=""),o("Inline",c=>({type:"inline-format",start:s,end:a,format:c}),(c,u)=>({type:"inline-command",start:s,end:a,cmd:c,value:u}))}else{if(e.replacement!==void 0)return tt(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Gs.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter");{const s=e.trigger??"space";return e.start.length===0?t("Block pattern has empty `start` parameter"):o("Block",a=>({type:"block-format",start:e.start,format:a[0],trigger:s}),(a,c)=>({type:"block-command",start:e.start,cmd:a,value:c,trigger:s}))}}},By=e=>xt(e,Bs),ni=e=>xt(e,mR),Oc=(e,t)=>({inlinePatterns:ni(e),blockPatterns:By(e),dynamicPatternsLookup:t}),Py=(e,t)=>({...e,blockPatterns:xt(e.blockPatterns,o=>nA(o,t))}),sA=e=>{const t=Gc(Io(e,gR));return Ge(t.errors,o=>console.error(o.message,o.pattern)),t.values},fR=e=>t=>{const o=e(t);return sA(o)},am=(e,t)=>e.dispatch("PreProcess",t),pR=(e,t)=>e.dispatch("PostProcess",t),hR=e=>{e.dispatch("remove")},kn=e=>{e.dispatch("detach")},bR=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},xR=(e,t,o,s,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:s,origin:a})},vR=(e,t,o,s,a)=>{e.dispatch("ObjectResized",{target:t,width:o,height:s,origin:a})},Sr=e=>{e.dispatch("PreInit")},yR=e=>{e.dispatch("PostRender")},rA=e=>{e.dispatch("Init")},KC=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},aA=(e,t,o)=>{e.dispatch(t,o)},iA=(e,t,o,s)=>{e.dispatch("FormatApply",{format:t,node:o,vars:s})},lA=(e,t,o,s)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:s})},wR=(e,t)=>e.dispatch("BeforeSetContent",t),Iy=(e,t)=>e.dispatch("SetContent",t),YC=(e,t)=>e.dispatch("BeforeGetContent",t),XC=(e,t)=>e.dispatch("GetContent",t),_R=(e,t)=>{e.dispatch("AutocompleterStart",t)},CR=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},QC=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},Jt=e=>{e.dispatch("AutocompleterEnd")},uu=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),cA=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),dA=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),kR=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),uA=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),mA=e=>e.dispatch("CloseActiveTooltips"),lv=gl().deviceType,JC=lv.isTouch(),ek=Bn.DOM,tk=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Zo(t,(o,s)=>{const a=s.split("="),c=a[0],u=a.length>1?a[1]:c;return o[dl(c)]=dl(u),o},{})},ok=e=>Tt(e,RegExp),Zt=e=>t=>t.options.get(e),s0=e=>tt(e)||se(e),gA=(e,t="")=>o=>{const s=tt(o);if(s)if(o.indexOf("=")!==-1){const a=tk(o);return{value:Cn(a,e.id).getOr(t),valid:s}}else return{value:o,valid:s};else return{valid:!1,message:"Must be a string."}},fA=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("crossorigin",{processor:"function",default:pt(void 0)}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),t("body_id",{processor:gA(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:gA(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const s=tt(o)&&Or(o);return s?{value:o,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const s=Wo(["block","linebreak","invert","default"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>Ko(o)?{valid:!0,value:o}:tt(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const s=o===!1||tt(o)||mo(o,tt);return s?tt(o)?{value:Io(o.split(","),dl),valid:s}:ne(o)?{value:o,valid:s}:o===!1?{value:[],valid:s}:{value:o,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:$y(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const s=tt(o)||mo(o,tt);return s?{value:ne(o)?o:Io(o.split(","),dl),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const s=Ko(o)||tt(o);return s?o===!1||lv.isiPhone()||lv.isiPad()?{value:"",valid:s}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!JC}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:o=>o===!1||tt(o)||Ut(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const s=o===!1||tt(o);return s?{value:o===!1?"":o,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:o=>Ko(o)?(e.initialized&&Gy(e)!==o&&Promise.resolve().then(()=>{uA(e,o)}),{valid:!0,value:o}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_html_in_comments",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:o=>{const s=mo(o,tt);return s?{value:o,valid:s}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:s0}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:s0}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:s0}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:s0}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>tt(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>mo(o,se)||o===!1?{value:sA(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Ut(o)?{value:fR(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>mo(o,ok)?{value:o,valid:!0}:ok(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const s=Wo(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const s=Wo(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),t("user_id",{processor:"string",default:"Anonymous"}),t("fetch_users",{processor:o=>o===void 0?{valid:!0,value:void 0}:Ut(o)?{valid:!0,value:o}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:yl.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:ek.getAttrib(e.getElement(),"placeholder")})}),t("lists_indent_on_tab",{processor:"boolean",default:!0}),t("list_max_depth",{processor:o=>{const s=E(o);if(s){if(o<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:o,valid:s}}else return{valid:!1,message:"Must be a number"}}})},nk=Zt("iframe_attrs"),pA=Zt("doctype"),sk=Zt("document_base_url"),Ly=Zt("body_id"),hA=Zt("body_class"),rk=Zt("content_security_policy"),SR=Zt("br_in_pre"),si=Zt("forced_root_block"),r0=Zt("forced_root_block_attrs"),ER=Zt("newline_behavior"),AR=Zt("br_newline_selector"),Fs=Zt("no_newline_selector"),ak=Zt("keep_styles"),Fy=Zt("end_container_on_empty_block"),cv=Zt("automatic_uploads"),ig=Zt("images_reuse_filename"),zy=Zt("images_replace_blob_uris"),Yh=Zt("icons"),bA=Zt("icons_url"),xA=Zt("images_upload_url"),ik=Zt("images_upload_base_path"),Vy=Zt("images_upload_credentials"),fp=Zt("images_upload_handler"),Xh=Zt("content_css_cors"),Hy=Zt("referrer_policy"),lk=Zt("crossorigin"),ck=Zt("language"),TR=Zt("language_url"),vA=Zt("indent_use_margin"),DR=Zt("indentation"),Wa=Zt("content_css"),dk=Zt("content_style"),qa=Zt("font_css"),a0=Zt("directionality"),i0=Zt("inline_boundaries_selector"),uk=Zt("object_resizing"),mk=Zt("resize_img_proportional"),yA=Zt("placeholder"),wA=Zt("event_root"),OR=Zt("service_message"),vi=Zt("theme"),el=Zt("theme_url"),_d=Zt("model"),gk=Zt("model_url"),l0=Zt("inline_boundaries"),RR=Zt("formats"),_A=Zt("preview_styles"),NR=Zt("format_empty_lines"),fk=Zt("format_noneditable_selector"),MR=Zt("custom_ui_selector"),$y=Zt("inline"),pk=Zt("hidden_input"),CA=Zt("submit_patch"),hk=Zt("add_form_submit_trigger"),BR=Zt("add_unload_trigger"),kA=Zt("custom_undo_redo_levels"),PR=Zt("disable_nodechange"),bk=Zt("readonly"),SA=Zt("editable_root"),EA=Zt("content_css_cors"),dv=Zt("plugins"),xk=Zt("external_plugins"),IR=Zt("block_unsupported_drop"),LR=Zt("visual"),Qh=Zt("visual_table_class"),AA=Zt("visual_anchor_class"),vk=Zt("iframe_aria_text"),TA=Zt("setup"),DA=Zt("init_instance_callback"),OA=Zt("urlconverter_callback"),yk=Zt("auto_focus"),FR=Zt("browser_spellcheck"),zR=Zt("protect"),VR=Zt("paste_block_drop"),c0=Zt("paste_data_images"),RA=Zt("paste_preprocess"),HR=Zt("paste_postprocess"),$R=Zt("newdocument_content"),NA=Zt("paste_webkit_styles"),MA=Zt("paste_remove_styles_if_webkit"),UR=Zt("paste_merge_formats"),BA=Zt("smart_paste"),ZR=Zt("paste_as_text"),jR=Zt("paste_tab_spaces"),WR=Zt("allow_html_data_urls"),qR=Zt("text_patterns"),Vt=Zt("text_patterns_lookup"),im=Zt("noneditable_class"),GR=Zt("editable_class"),wk=Zt("noneditable_regexp"),PA=Zt("preserve_cdata"),IA=Zt("highlight_on_focus"),Uy=Zt("xss_sanitization"),KR=Zt("init_content_sync"),LA=e=>e.options.isSet("text_patterns_lookup"),YR=e=>ct.explode(e.options.get("font_size_style_values")),XR=e=>ct.explode(e.options.get("font_size_classes")),Zy=e=>e.options.get("encoding")==="xml",FA=e=>ct.explode(e.options.get("images_file_types")),zA=Zt("table_tab_navigation"),jy=Zt("details_initial_state"),QR=Zt("details_serialized_state"),_k=Zt("sandbox_iframes"),Ck=e=>e.options.get("sandbox_iframes_exclusions"),Wy=Zt("convert_unsafe_embeds"),Jh=Zt("license_key"),qy=Zt("api_key"),Gy=Zt("disabled"),JR=Zt("user_id"),VA=Zt("fetch_users"),eN=Zt("lists_indent_on_tab"),HA=e=>B.from(e.options.get("list_max_depth")),$A=qt,kk=ht,UA=e=>{const t=e.parentNode;t&&t.removeChild(e)},ZA=e=>{const t=Hi(e);return{count:e.length-t.length,text:t}},Sk=e=>{let t;for(;(t=e.data.lastIndexOf(Vr))!==-1;)e.deleteData(t,1)},Ky=(e,t)=>(pp(e),t),jA=(e,t)=>{const o=ZA(e.data.substr(0,t.offset())),s=ZA(e.data.substr(t.offset()));return(o.text+s.text).length>0?(Sk(e),Ye(e,t.offset()-o.count)):t},tN=(e,t)=>{const o=t.container(),s=br(Ot(o.childNodes),e).map(a=>a<t.offset()?Ye(o,t.offset()-1):t).getOr(t);return pp(e),s},Yy=(e,t)=>kk(e)&&t.container()===e?jA(e,t):Ky(e,t),WA=(e,t)=>t.container()===e.parentNode?tN(e,t):Ky(e,t),Ek=(e,t)=>Ye.isTextPosition(t)?Yy(e,t):WA(e,t),pp=e=>{$A(e)&&wl(e)&&($h(e)?e.removeAttribute("data-mce-caret"):UA(e)),kk(e)&&(Sk(e),e.data.length===0&&UA(e))},oN=Xn,Xy=hi,qA=Gg,GA="*[contentEditable=false],video,audio,embed,object",Ak=(e,t,o)=>{const s=C(t.getBoundingClientRect(),o);let a,c;if(e.tagName==="BODY"){const f=e.ownerDocument.documentElement;a=e.scrollLeft||f.scrollLeft,c=e.scrollTop||f.scrollTop}else{const f=e.getBoundingClientRect();a=e.scrollLeft-f.left,c=e.scrollTop-f.top}s.left+=a,s.right+=a,s.top+=c,s.bottom+=c,s.width=1;let u=t.offsetWidth-t.clientWidth;return u>0&&(o&&(u*=-1),s.left+=u,s.right+=u),s},KA=e=>{const t=qr(oe.fromDom(e),GA);for(let o=0;o<t.length;o++){const s=t[o].dom;let a=s.previousSibling;if(jh(a)){const c=a.data;c.length===1?a.parentNode?.removeChild(a):a.deleteData(c.length-1,1)}a=s.nextSibling,lf(a)&&(a.data.length===1?a.parentNode?.removeChild(a):a.deleteData(0,1))}},YA=(e,t,o,s)=>{const a=Il();let c,u;const f=si(e),b=e.dom,_=(G,ee)=>{let ye;if(T(),qA(ee))return null;if(o(ee)){const Ce=Sy(f,ee,G),Te=Ak(t,ee,G);b.setStyle(Ce,"top",Te.top),b.setStyle(Ce,"caret-color","transparent"),u=Ce;const Xe=b.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});b.setStyles(Xe,{...Te}),b.add(t,Xe),a.set({caret:Xe,element:ee,before:G}),G&&b.addClass(Xe,"mce-visual-caret-before"),R(),ye=ee.ownerDocument.createRange(),ye.setStart(Ce,0),ye.setEnd(Ce,0)}else return u=Qb(ee,G),ye=ee.ownerDocument.createRange(),d0(u.nextSibling)?(ye.setStart(u,0),ye.setEnd(u,0)):(ye.setStart(u,1),ye.setEnd(u,1)),ye;return ye},T=()=>{KA(t),u&&(pp(u),u=null),a.on(G=>{b.remove(G.caret),a.clear()}),c&&(clearInterval(c),c=void 0)},R=()=>{c=window.setInterval(()=>{a.on(G=>{s()?b.toggleClass(G.caret,"mce-visual-caret-hidden"):b.addClass(G.caret,"mce-visual-caret-hidden")})},500)},M=()=>{a.on(G=>{const ee=Ak(t,G.element,G.before);b.setStyles(G.caret,{...ee})})},$=()=>clearInterval(c),te=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:a.isSet,show:_,hide:T,getCss:te,reposition:M,destroy:$}},Tk=()=>Bo.browser.isFirefox(),d0=e=>oN(e)||Xy(e),u0=e=>(d0(e)||kc(e)&&Tk())&&Mm(oe.fromDom(e)).exists(qi),XA=pi,uv=Xn,nN=hi,QA=ns("display","block table table-cell table-row table-caption list-item"),JA=wl,e5=af,sN=qt,t5=ht,rN=zo,Ma=(e,t)=>{let o;for(;o=e(t);)if(!e5(o))return o;return null},mv=(e,t,o,s,a)=>{const c=new rr(e,s),u=uv(e)||e5(e);let f;if(Kh(t)){if(u&&(f=Ma(c.prev.bind(c),!0),o(f)))return f;for(;f=Ma(c.prev.bind(c),a);)if(o(f))return f}if(n0(t)){if(u&&(f=Ma(c.next.bind(c),!0),o(f)))return f;for(;f=Ma(c.next.bind(c),a);)if(o(f))return f}return null},aN=(e,t)=>{const o=a=>XA(a.dom),s=a=>a.dom===t;return Qa(oe.fromDom(e),o,s).map(a=>a.dom).getOr(t)},tl=e=>qt(e)&&Wi(oe.fromDom(e),"position")==="absolute",iN=(e,t)=>e.parentNode!==t,lN=(e,t)=>uv(e)&&tl(e)&&iN(e,t),hp=(e,t)=>{for(;e&&e!==t;){if(QA(e)&&!lN(e,t))return e;e=e.parentNode}return null},ra=(e,t,o)=>hp(e.container(),o)===hp(t.container(),o),Qy=(e,t)=>{if(!t)return B.none();const o=t.container(),s=t.offset();return sN(o)?B.from(o.childNodes[s+e]):B.none()},Dk=(e,t)=>{const s=(t.ownerDocument??document).createRange();return e?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),s},o5=(e,t,o)=>hp(t,e)===hp(o,e),Ok=(e,t,o)=>{const s=e?"previousSibling":"nextSibling";let a=o;for(;a&&a!==t;){let c=a[s];if(c&&JA(c)&&(c=c[s]),uv(c)||nN(c)){if(o5(t,c,a))return c;break}if(rN(c))break;a=a.parentNode}return null},m0=ze(Dk,!0),g0=ze(Dk,!1),Rk=(e,t,o)=>{let s;const a=ze(Ok,!0,t),c=ze(Ok,!1,t),u=o.startContainer,f=o.startOffset;if(af(u)){const b=t5(u)?u.parentNode:u,_=b.getAttribute("data-mce-caret");if(_==="before"&&(s=b.nextSibling,u0(s)))return m0(s);if(_==="after"&&(s=b.previousSibling,u0(s)))return g0(s)}if(!o.collapsed)return o;if(ht(u)){if(JA(u)){if(e===1){if(s=c(u),s)return m0(s);if(s=a(u),s)return g0(s)}if(e===-1){if(s=a(u),s)return g0(s);if(s=c(u),s)return m0(s)}return o}if(jh(u)&&f>=u.data.length-1)return e===1&&(s=c(u),s)?m0(s):o;if(lf(u)&&f<=1)return e===-1&&(s=a(u),s)?g0(s):o;if(f===u.data.length)return s=c(u),s?m0(s):o;if(f===0)return s=a(u),s?g0(s):o}return o},n5=(e,t)=>Qy(e?0:-1,t).filter(uv),f0=(e,t,o)=>{const s=Rk(e,t,o);return e===-1?Ye.fromRangeStart(s):Ye.fromRangeEnd(s)},Jy=e=>B.from(e.getNode()).map(oe.fromDom),Dn=e=>B.from(e.getNode(!0)).map(oe.fromDom),e1=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},mu=(e,t)=>{const o=ra(e,t);return!o&&Ls(e.getNode())?!0:o},t1=Xn,Cd=ht,ew=qt,gv=Ls,o1=zo,s5=va,fv=Ji,r5=(e,t)=>{const o=[];let s=e;for(;s&&s!==t;)o.push(s),s=s.parentNode;return o},Nk=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Mk=(e,t)=>{if(n0(e)){if(o1(t.previousSibling)&&!Cd(t.previousSibling))return Ye.before(t);if(Cd(t))return Ye(t,0)}if(Kh(e)){if(o1(t.nextSibling)&&!Cd(t.nextSibling))return Ye.after(t);if(Cd(t))return Ye(t,t.data.length)}return Kh(e)?gv(t)?Ye.before(t):Ye.after(t):Ye.before(t)},cN=(e,t)=>{const o=t.nextSibling;return o&&o1(o)?Cd(o)?Ye(o,0):Ye.before(o):Bk(1,Ye.after(t),e)},Bk=(e,t,o)=>{let s,a,c,u;if(!ew(o)||!t)return null;if(t.isEqual(Ye.after(o))&&o.lastChild){if(u=Ye.after(o.lastChild),Kh(e)&&o1(o.lastChild)&&ew(o.lastChild))return gv(o.lastChild)?Ye.before(o.lastChild):u}else u=t;const f=u.container();let b=u.offset();if(Cd(f)){if(Kh(e)&&b>0)return Ye(f,--b);if(n0(e)&&b<f.length)return Ye(f,++b);s=f}else{if(Kh(e)&&b>0&&(a=Nk(f,b-1),o1(a)))return!s5(a)&&(c=mv(a,e,fv,a),c)?Cd(c)?Ye(c,c.data.length):Ye.after(c):Cd(a)?Ye(a,a.data.length):Ye.before(a);if(n0(e)&&b<f.childNodes.length&&(a=Nk(f,b),o1(a)))return gv(a)?cN(o,a):!s5(a)&&(c=mv(a,e,fv,a),c)?Cd(c)?Ye(c,0):Ye.before(c):Cd(a)?Ye(a,0):Ye.after(a);s=a||u.getNode()}if(s&&(n0(e)&&u.isAtEnd()||Kh(e)&&u.isAtStart())&&(s=mv(s,e,Yo,o,!0),fv(s,o)))return Mk(e,s);a=s&&mv(s,e,fv,o);const _=j(xt(r5(f,o),t1));return _&&(!a||!_.contains(a))?(n0(e)?u=Ye.after(_):u=Ye.before(_),u):a?Mk(e,a):null},lg=e=>({next:t=>Bk(1,t,e),prev:t=>Bk(-1,t,e)}),_l=(e,t,o)=>{const s=e?Ye.before(o):Ye.after(o);return kd(e,t,s)},dN=e=>Ls(e)?Ye.before(e):Ye.after(e),Pk=e=>Ye.isTextPosition(e)?e.offset()===0:zo(e.getNode()),a5=e=>{if(Ye.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return zo(e.getNode(!0))},i5=(e,t)=>!Ye.isTextPosition(e)&&!Ye.isTextPosition(t)&&e.getNode()===t.getNode(!0),Ik=e=>!Ye.isTextPosition(e)&&Ls(e.getNode()),uN=(e,t,o)=>e?!i5(t,o)&&!Ik(t)&&a5(t)&&Pk(o):!i5(o,t)&&Pk(t)&&a5(o),kd=(e,t,o)=>{const s=lg(t);return B.from(e?s.next(o):s.prev(o))},Un=(e,t,o)=>kd(e,t,o).bind(s=>ra(o,s,t)&&uN(e,o,s)?kd(e,t,s):B.some(s)),p0=(e,t,o,s)=>Un(e,t,o).bind(a=>s(a)?p0(e,t,a,s):B.some(a)),n1=(e,t)=>{const o=e?t.firstChild:t.lastChild;return ht(o)?B.some(Ye(o,e?0:o.data.length)):o?zo(o)?B.some(e?Ye.before(o):dN(o)):_l(e,t,o):B.none()},ol=ze(kd,!0),tc=ze(kd,!1),$i=ze(n1,!0),Sd=ze(n1,!1),Lk="_mce_caret",Lo=e=>qt(e)&&e.id===Lk,uf=(e,t)=>{let o=t;for(;o&&o!==e;){if(Lo(o))return o;o=o.parentNode}return null},l5=e=>tt(e.start),pv=e=>ko(e,"rng"),hv=e=>ko(e,"id"),h0=e=>ko(e,"name"),b0=e=>ct.isArray(e.start),bv=e=>!h0(e)&&Ko(e.forward)?e.forward:!0,c5=(e,t)=>(qt(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),mN=(e,t)=>{const o=B.from(qC(e.getRoot(),t.start)),s=B.from(qC(e.getRoot(),t.end));return Rs(o,s,(a,c)=>{const u=e.createRng();return u.setStart(a.container(),a.offset()),u.setEnd(c.container(),c.offset()),{range:u,forward:bv(t)}})},gN=(e,t)=>{const s=(e.ownerDocument??document).createTextNode(Vr);e.appendChild(s),t.setStart(s,0),t.setEnd(s,0)},fN=e=>!e.hasChildNodes(),bs=(e,t)=>Sd(e).fold(Do,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),x0=(e,t,o)=>fN(t)&&uf(e,t)?(gN(t,o),!0):!1,cg=(e,t,o,s)=>{const a=o[t?"start":"end"],c=e.getRoot();if(a){let u=c,f=a[0];for(let b=a.length-1;u&&b>=1;b--){const _=u.childNodes;if(x0(c,u,s))return!0;if(a[b]>_.length-1)return x0(c,u,s)?!0:bs(u,s);u=_[a[b]]}ht(u)&&(f=Math.min(a[0],u.data.length)),qt(u)&&(f=Math.min(a[0],u.childNodes.length)),t?s.setStart(u,f):s.setEnd(u,f)}return!0},On=e=>ht(e)&&e.data.length>0,aa=(e,t,o)=>{const s=e.get(o.id+"_"+t),a=s?.parentNode,c=o.keep;if(s&&a){let u,f;if(t==="start"?c?s.hasChildNodes()?(u=s.firstChild,f=1):On(s.nextSibling)?(u=s.nextSibling,f=0):On(s.previousSibling)?(u=s.previousSibling,f=s.previousSibling.data.length):(u=a,f=e.nodeIndex(s)+1):(u=a,f=e.nodeIndex(s)):c?s.hasChildNodes()?(u=s.firstChild,f=1):On(s.previousSibling)?(u=s.previousSibling,f=s.previousSibling.data.length):(u=a,f=e.nodeIndex(s)):(u=a,f=e.nodeIndex(s)),!c){const b=s.previousSibling,_=s.nextSibling;ct.each(ct.grep(s.childNodes),R=>{ht(R)&&(R.data=R.data.replace(/\uFEFF/g,""))});let T;for(;T=e.get(o.id+"_"+t);)e.remove(T,!0);if(ht(_)&&ht(b)&&!Bo.browser.isOpera()){const R=b.data.length;b.appendData(_.data),e.remove(_),u=b,f=R}}return B.some(Ye(u,f))}else return B.none()},dg=(e,t)=>{const o=e.createRng();return cg(e,!0,t,o)&&cg(e,!1,t,o)?B.some({range:o,forward:bv(t)}):B.none()},pN=(e,t)=>{const o=aa(e,"start",t),s=aa(e,"end",t);return Rs(o,s.or(o),(a,c)=>{const u=e.createRng();return u.setStart(c5(e,a.container()),a.offset()),u.setEnd(c5(e,c.container()),c.offset()),{range:u,forward:bv(t)}})},d5=(e,t)=>B.from(e.select(t.name)[t.index]).map(o=>{const s=e.createRng();return s.selectNode(o),{range:s,forward:!0}}),xv=(e,t)=>{const o=e.dom;if(t){if(b0(t))return dg(o,t);if(l5(t))return mN(o,t);if(hv(t))return pN(o,t);if(h0(t))return d5(o,t);if(pv(t))return B.some({range:t.rng,forward:bv(t)})}return B.none()},u5=(e,t,o)=>uR(e,t,o),m5=(e,t)=>{xv(e,t).each(({range:o,forward:s})=>{e.setRng(o,s)})},Rc=e=>qt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",v0=(e=>t=>e===t)(Us),bp=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,vv=e=>!bp(e)&&!v0(e)&&!Ti(e),Ba=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},hN=e=>dr(e,t=>{const o=fe(t);return o?[oe.fromDom(o)]:[]}),bN=e=>Ba(e).length>1,xN=e=>xt(hN(e),cp),g5=e=>qr(e,"td[data-mce-selected],th[data-mce-selected]"),y0=(e,t)=>{const o=g5(t);return o.length>0?o:xN(e)},s1=e=>y0(Ba(e.selection.getSel()),oe.fromDom(e.getBody())),lm=(e,t)=>Js(e,"table",t),f5=e=>{const t=e.startContainer,o=e.startOffset;return ht(t)?o===0?B.some(oe.fromDom(t)):B.none():B.from(t.childNodes[o]).map(oe.fromDom)},p5=e=>{const t=e.endContainer,o=e.endOffset;return ht(t)?o===t.data.length?B.some(oe.fromDom(t)):B.none():B.from(t.childNodes[o-1]).map(oe.fromDom)},Fk=e=>Vl(e).fold(pt([e]),t=>[e].concat(Fk(t))),tw=e=>ta(e).fold(pt([e]),t=>jo(t)==="br"?zl(t).map(o=>[e].concat(tw(o))).getOr([]):[e].concat(tw(t))),ow=(e,t)=>Rs(f5(t),p5(t),(o,s)=>{const a=An(Fk(e),ze(sn,o)),c=An(tw(e),ze(sn,s));return a.isSome()&&c.isSome()}).getOr(!1),nw=(e,t,o,s)=>{const a=o,c=new rr(o,a),u=Dr(e.schema.getMoveCaretBeforeOnEnterElements(),(b,_)=>!Wo(["td","th","table"],_.toLowerCase()));let f=o;do{if(ht(f)&&ct.trim(f.data).length!==0){s?t.setStart(f,0):t.setEnd(f,f.data.length);return}if(u[f.nodeName]){s?t.setStartBefore(f):f.nodeName==="BR"?t.setEndBefore(f):t.setEndAfter(f);return}}while(f=s?c.next():c.prev());a.nodeName==="BODY"&&(s?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},sw=e=>{const t=e.selection.getSel();return Me(t)&&t.rangeCount>0},zk=(e,t)=>{const o=s1(e);o.length>0?Ge(o,s=>{const a=s.dom,c=e.dom.createRng();c.setStartBefore(a),c.setEndAfter(a),t(c,!0)}):t(e.selection.getRng(),!1)},h5=(e,t,o)=>{const s=oA(e,t);o(s),e.moveToBookmark(s)},Vk=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),vN=e=>Vk(e,$o),Hk=e=>Vk(e,ht),$k=e=>Vk(e,ph),yv=e=>E(e?.nodeType),Uk=e=>qt(e)&&!Rc(e)&&!Lo(e)&&!Gm(e),yN=(e,t)=>{if(Uk(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),s=parseInt(o,10);return!isNaN(s)&&s>0}else return!1},b5=(e,t,o)=>{const{selection:s,dom:a}=e,c=s.getNode(),u=Xn(c);h5(s,!0,()=>{t()}),u&&Xn(c)&&a.isChildOf(c,e.getBody())?e.selection.select(c):o(s.getStart())&&x5(a,s)},x5=(e,t)=>{const o=t.getRng(),{startContainer:s,startOffset:a}=o,c=t.getNode();if(!yN(e,c)&&qt(s)){const u=s.childNodes,f=e.getRoot();let b;if(a<u.length){const _=u[a];b=new rr(_,e.getParent(_,e.isBlock)??f)}else{const _=u[u.length-1];b=new rr(_,e.getParent(_,e.isBlock)??f),b.next(!0)}for(let _=b.current();_;_=b.next()){if(e.getContentEditable(_)==="false")return;if(ht(_)&&!Zk(_)){o.setStart(_,0),t.setRng(o);return}}}},ug=(e,t,o)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(qt(e)||!Zk(e))return e}},rw=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Ku(e,t),r1=(e,t,o)=>e.schema.isValidChild(t,o),Zk=(e,t=!1)=>{if(Me(e)&&ht(e)){const o=t?e.data.replace(/ /g," "):e.data;return qm(o)}else return!1},wN=e=>Me(e)&&ht(e)&&e.length===0,v5=(e,t)=>{const o="[data-mce-cef-wrappable]",s=fk(e),a=Yc(s)?o:`${o},${s}`;return Ln(oe.fromDom(t),a)},jk=(e,t)=>{const o=e.dom;return Uk(t)&&o.getContentEditable(t)==="false"&&v5(e,t)&&o.select('[contenteditable="true"]',t).length===0},xp=(e,t)=>Ut(e)?e(t):(Me(t)&&(e=e.replace(/%(\w+)/g,(o,s)=>t[s]||o)),e),mf=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),aw=(e,t)=>{if(to(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=Qg(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},iw=(e,t,o)=>{const s=e.getStyle(t,o);return aw(s,o)},y5=(e,t)=>{let o;return e.getParent(t,s=>qt(s)?(o=e.getStyle(s,"text-decoration"),!!o&&o!=="none"):!1),o},w0=(e,t,o)=>e.getParents(t,o,e.getRoot()),Wk=(e,t,o)=>{const s=e.formatter.get(t);return Me(s)&&In(s,o)},qk=(e,t)=>Wk(e,t,s=>{const a=c=>Ut(c)||c.length>1&&c.charAt(0)==="%";return In(["styles","attributes"],c=>Cn(s,c).exists(u=>{const f=ne(u)?u:_s(u);return In(f,a)}))}),w5=(e,t,o)=>{const s=["inline","block","selector","attributes","styles","classes"],a=c=>Dr(c,(u,f)=>In(s,b=>b===f));return Wk(e,t,c=>{const u=a(c);return Wk(e,o,f=>{const b=a(f);return Ld(u,b)})})},Ed=e=>De(e,"block"),_N=e=>Ed(e)&&e.wrapper===!0,_5=e=>Ed(e)&&e.wrapper!==!0,Nc=e=>De(e,"selector"),ya=e=>De(e,"inline"),C5=e=>Nc(e)&&ya(e)&&xr(Cn(e,"mixed"),!0),lw=e=>Nc(e)&&e.expand!==!1&&!ya(e),CN=e=>{const t=[];let o=e;for(;o;){if(ht(o)&&o.data!==Vr||o.childNodes.length>1)return[];qt(o)&&t.push(o),o=o.firstChild}return t},k5=e=>CN(e).length>0,nl=e=>Lo(e.dom)&&k5(e.dom),a1=Rc,S5=w0,Gk=Zk,kN=rw,_0=e=>Ls(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,i1=(e,t)=>{let o=t;for(;o;){if(qt(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},E5=(e,t,o,s)=>{const a=t.data;if(e){for(let c=o;c>0;c--)if(s(a.charAt(c-1)))return c}else for(let c=o;c<a.length;c++)if(s(a.charAt(c)))return c;return-1},cm=(e,t,o)=>E5(e,t,o,s=>v0(s)||bp(s)),SN=(e,t,o)=>E5(e,t,o,vv),A5=(e,t,o,s,a,c)=>{let u;const f=e.getParent(o,R=>qg(R)||e.isBlock(R)),b=Me(f)?f:t,_=(R,M,$)=>{const te=ec(e),G=a?te.backwards:te.forwards;return B.from(G(R,M,(ee,ye)=>a1(ee.parentNode)?-1:(u=ee,$(a,ee,ye)),b))};return _(o,s,cm).bind(R=>c?_(R.container,R.offset+(a?-1:0),SN):B.some(R)).orThunk(()=>u?B.some({container:u,offset:a?0:u.length}):B.none())},wv=(e,t,o,s,a)=>{const c=s[a];ht(s)&&Yc(s.data)&&c&&(s=c);const u=S5(e,s);for(let f=0;f<u.length;f++)for(let b=0;b<t.length;b++){const _=t[b];if(!(Me(_.collapsed)&&_.collapsed!==o.collapsed)&&Nc(_)&&e.is(u[f],_.selector))return u[f]}return s},cw=(e,t,o,s)=>{let a=o;const c=e.getRoot(),u=t[0];if(Ed(u)&&(a=u.wrapper?null:e.getParent(o,u.block,c)),!a){const f=e.getParent(o,"LI,TD,TH,SUMMARY")??c;a=e.getParent(ht(o)?o.parentNode:o,b=>b!==c&&kN(e.schema,b),f)}if(a&&Ed(u)&&u.wrapper&&(a=S5(e,a,"ul,ol").reverse()[0]||a),!a)for(a=o;a&&a[s]&&!e.isBlock(a[s])&&(a=a[s],!mf(a,"br")););return a||o},dw=(e,t,o,s)=>{const a=o.parentNode;return Me(o[s])?!1:a===t||to(a)||e.isBlock(a)?!0:dw(e,t,a,s)},_v=(e,t,o,s,a,c)=>{let u=o;const f=a?"previousSibling":"nextSibling",b=e.getRoot();if(ht(o)&&!Gk(o)&&(a?s>0:s<o.data.length))return o;for(;u;){if(qg(u))return o;if(!t[0].block_expand&&e.isBlock(u))return c?u:o;for(let _=u[f];_;_=_[f]){const T=ht(_)&&!dw(e,b,_,f);if(!a1(_)&&!_0(_)&&!Gk(_,T))return u}if(u===b||u.parentNode===b){o=u;break}u=u.parentNode}return o},gf=e=>a1(e.parentNode)||a1(e),l1=(e,t,o,s={})=>{const{includeTrailingSpace:a=!1,expandToBlock:c=!0}=s,u=e.getParent(t.commonAncestorContainer,$=>qg($)),f=Me(u)?u:e.getRoot();let{startContainer:b,startOffset:_,endContainer:T,endOffset:R}=t;const M=o[0];return qt(b)&&b.hasChildNodes()&&(b=de(b,_),ht(b)&&(_=0)),qt(T)&&T.hasChildNodes()&&(T=de(T,t.collapsed?R:R-1),ht(T)&&(R=T.data.length)),b=i1(e,b),T=i1(e,T),gf(b)&&(b=a1(b)?b:b.parentNode,t.collapsed?b=b.previousSibling||b:b=b.nextSibling||b,ht(b)&&(_=t.collapsed?b.length:0)),gf(T)&&(T=a1(T)?T:T.parentNode,t.collapsed?T=T.nextSibling||T:T=T.previousSibling||T,ht(T)&&(R=t.collapsed?0:T.length)),t.collapsed&&(A5(e,f,b,_,!0,a).each(({container:G,offset:ee})=>{b=G,_=ee}),A5(e,f,T,R,!1,a).each(({container:G,offset:ee})=>{T=G,R=ee})),(ya(M)||M.block_expand)&&((!ya(M)||!ht(b)||_===0)&&(b=_v(e,o,b,_,!0,c)),(!ya(M)||!ht(T)||R===T.data.length)&&(T=_v(e,o,T,R,!1,c))),lw(M)&&(b=wv(e,o,t,b,"previousSibling"),T=wv(e,o,t,T,"nextSibling")),(Ed(M)||Nc(M))&&(b=cw(e,o,b,"previousSibling"),T=cw(e,o,T,"nextSibling"),Ed(M)&&(e.isBlock(b)||(b=_v(e,o,b,_,!0,c),ht(b)&&(_=0)),e.isBlock(T)||(T=_v(e,o,T,R,!1,c),ht(T)&&(R=T.data.length)))),qt(b)&&b.parentNode&&(_=e.nodeIndex(b),b=b.parentNode),qt(T)&&T.parentNode&&(R=e.nodeIndex(T)+1,T=T.parentNode),{startContainer:b,startOffset:_,endContainer:T,endOffset:R}},Cv=(e,t,o)=>{const s=t.startOffset,a=de(t.startContainer,s),c=t.endOffset,u=de(t.endContainer,c-1),f=G=>{const ee=G[0];ht(ee)&&ee===a&&s>=ee.data.length&&G.splice(0,1);const ye=G[G.length-1];return c===0&&G.length>0&&ye===u&&ht(ye)&&G.splice(G.length-1,1),G},b=(G,ee,ye)=>{const Ce=[];for(;G&&G!==ye;G=G[ee])Ce.push(G);return Ce},_=(G,ee)=>e.getParent(G,ye=>ye.parentNode===ee,ee),T=(G,ee,ye)=>{const Ce=ye?"nextSibling":"previousSibling";for(let Te=G,Xe=Te.parentNode;Te&&Te!==ee;Te=Xe){Xe=Te.parentNode;const it=b(Te===G?Te:Te[Ce],Ce);it.length&&(ye||it.reverse(),o(f(it)))}};if(a===u)return o(f([a]));const R=e.findCommonAncestor(a,u)??e.getRoot();if(e.isChildOf(a,u))return T(a,R,!0);if(e.isChildOf(u,a))return T(u,R);const M=_(a,R)||a,$=_(u,R)||u;T(a,M,!0);const te=b(M===a?M:M.nextSibling,"nextSibling",$===u?$.nextSibling:$);te.length&&o(f(te)),T(u,$)},en=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],EN=e=>Ka(e)&&cd(e)===Vr,T5=(e,t,o,s)=>Mm(t).fold(()=>"skipping",a=>s==="br"||EN(t)?"valid":tv(t)?"existing":Lo(t.dom)?"caret":In(en,c=>Ln(t,c))?"valid-block":!r1(e,o,s)||!r1(e,jo(a),o)?"invalid-child":"valid"),AN=(e,t)=>{const o=l1(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},ir=(e,t,o,s,a,c)=>{const{uid:u=t,...f}=o;Ul(e,ef()),Wr(e,`${Tc()}`,u),Wr(e,`${em()}`,s);const{attributes:b={},classes:_=[]}=a(u,f);if(Ri(e,b),ju(e,_),c){_.length>0&&Wr(e,`${rg()}`,_.join(","));const T=Yr(b);T.length>0&&Wr(e,`${ln()}`,T.join(","))}},TN=e=>{Fi(e,ef()),Mr(e,`${Tc()}`),Mr(e,`${em()}`),Mr(e,`${tf()}`);const t=bc(e,`${ln()}`).map(s=>s.split(",")).getOr([]),o=bc(e,`${rg()}`).map(s=>s.split(",")).getOr([]);Ge(t,s=>Mr(e,s)),hb(e,o),Mr(e,`${rg()}`),Mr(e,`${ln()}`)},zs=(e,t,o,s,a)=>{const c=oe.fromTag("span",e);return ir(c,t,o,s,a,!1),c},D5=(e,t,o,s,a,c)=>{const u=[],f=zs(e.getDoc(),o,c,s,a),b=Il(),_=()=>{b.clear()},T=()=>b.get().getOrThunk(()=>{const te=id(f);return u.push(te),b.set(te),te}),R=te=>{Ge(te,M)},M=te=>{switch(T5(e,te,"span",jo(te))){case"invalid-child":{_();const ee=rn(te);R(ee),_();break}case"valid-block":{_(),ir(te,o,c,s,a,!0);break}case"valid":{const ee=T();yr(te,ee);break}}},$=te=>{const G=Io(te,oe.fromDom);R(G)};return Cv(e.dom,t,te=>{_(),$(te)}),u},O5=(e,t,o,s)=>{e.undoManager.transact(()=>{const a=e.selection,c=a.getRng(),u=s1(e).length>0,f=Ys("mce-annotation");if(c.collapsed&&!u&&AN(e,c),a.getRng().collapsed&&!u){const b=zs(e.getDoc(),f,s,t,o.decorate);Im(b,Us),a.getRng().insertNode(b.dom),a.select(b.dom)}else h5(a,!1,()=>{zk(e,b=>{D5(e,b,f,t,o.decorate,s)})})})},R5=e=>{const t=of();ag(e,t);const o=Yb(e,t),s=ea("span"),a=c=>{Ge(c,u=>{s(u)?Ni(u):TN(u)})};return{register:(c,u)=>{t.register(c,u)},annotate:(c,u)=>{t.lookup(c).each(f=>{O5(e,c,f,u)})},annotationChanged:(c,u)=>{o.addListener(c,u)},remove:c=>{qb(e,B.some(c)).each(({elements:u})=>{const f=e.selection.getBookmark();a(u),e.selection.moveToBookmark(f)})},removeAll:c=>{const u=e.selection.getBookmark();on(Kb(e,c),(f,b)=>{a(f)}),e.selection.moveToBookmark(u)},getAll:c=>{const u=Kb(e,c);return $r(u,f=>Io(f,b=>b.dom))}}},c1=e=>({getBookmark:ze(u5,e),moveToBookmark:ze(m5,e)});c1.isBookmarkNode=Rc;const mg=(e,t,o)=>o.collapsed?!1:In(o.getClientRects(),s=>X(s,e,t)),uw=(e,t)=>{const o=Ka(t)?cd(t).length:rn(t).length+1;return e>o?o:e<0?0:e},DN=e=>ql.range(e.start,uw(e.soffset,e.start),e.finish,uw(e.foffset,e.finish)),mw=(e,t)=>!_c(t.dom)&&(Nr(e,t)||sn(e,t)),N5=e=>t=>mw(e,t.start)&&mw(e,t.finish),ia=e=>e.inline||Bo.browser.isFirefox(),ON=e=>ql.range(oe.fromDom(e.startContainer),e.startOffset,oe.fromDom(e.endContainer),e.endOffset),vp=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?B.none():B.from(t.getRangeAt(0))).map(ON)},RN=e=>{const t=pl(e);return vp(t.dom).filter(N5(e))},NN=(e,t)=>B.from(t).filter(N5(e)).map(DN),MN=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),B.some(t)}catch{return B.none()}},gw=e=>{const t=ia(e)?RN(oe.fromDom(e.getBody())):B.none();e.bookmark=t.isSome()?t:e.bookmark},Kk=e=>(e.bookmark?e.bookmark:B.none()).bind(o=>NN(oe.fromDom(e.getBody()),o)).bind(MN),BN=e=>{Kk(e).each(t=>e.selection.setRng(t))},M5={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},PN=(e,t)=>(E(t)||(t=0),window.setTimeout(e,t)),fw=(e,t)=>(E(t)||(t=0),window.setInterval(e,t)),Ad={setEditorTimeout:(e,t,o)=>PN(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const s=fw(()=>{e.removed?window.clearInterval(s):t()},o);return s}},IN=e=>e.type==="nodechange"&&e.selectionChange,kv=(e,t)=>{const o=()=>{t.throttle()};Bn.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Bn.DOM.unbind(document,"mouseup",o)})},Yk=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},d1=(e,t)=>{Yk(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{IN(o)||gw(e)})},u1=e=>{const t=ks(()=>{gw(e)},0);e.on("init",()=>{e.inline&&kv(e,t),d1(e,t)}),e.on("remove",()=>{t.cancel()})};let ff;const C0=Bn.DOM,m1=e=>qt(e)&&M5.isEditorUIElement(e),pf=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},g1=(e,t)=>{const o=MR(e);return C0.getParent(t,a=>m1(a)||(o?e.dom.is(a,o):!1))!==null},k0=e=>{try{const t=Xd(oe.fromDom(e.getElement()));return Qd(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},B5=(e,t)=>{const o=t.editor;u1(o);const s=(a,c)=>{if(IA(a)&&a.inline!==!0){const u=oe.fromDom(a.getContainer());c(u,"tox-edit-focus")}};o.on("focusin",()=>{const a=e.focusedEditor;pf(k0(o))&&s(o,Ul),a!==o&&(a&&a.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:a}),o.focus(!0))}),o.on("focusout",()=>{Ad.setEditorTimeout(o,()=>{const a=e.focusedEditor;(!pf(k0(o))||a!==o)&&s(o,Fi),!g1(o,k0(o))&&a===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),ff||(ff=a=>{const c=e.activeEditor;c&&eh(a).each(u=>{const f=u;f.ownerDocument===document&&f!==document.body&&!g1(c,f)&&e.focusedEditor===c&&(c.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},C0.bind(document,"focusin",ff))},Xk=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&ff&&(C0.unbind(document,"focusin",ff),ff=null)},Qk=e=>{e.on("AddEditor",ze(B5,e)),e.on("RemoveEditor",ze(Xk,e))},P5=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),I5=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,S0=e=>e.collapsed?B.from(de(e.startContainer,e.startOffset)).map(oe.fromDom):B.none(),L5=(e,t)=>S0(t).bind(o=>sv(o)?B.some(o):Nr(e,o)?B.none():B.some(e)),Jk=(e,t)=>{L5(oe.fromDom(e.getBody()),t).bind(o=>$i(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},Sv=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},pw=e=>pc(e)||mb(e).isSome(),F5=e=>Me(e.iframeElement)&&pc(oe.fromDom(e.iframeElement)),z5=e=>{const t=e.getBody();return t&&pw(oe.fromDom(t))},V5=e=>{const t=Xd(oe.fromDom(e.getElement()));return Qd(t).filter(o=>!pf(o.dom)&&g1(e,o.dom)).isSome()},f1=e=>e.inline?z5(e):F5(e),dm=e=>f1(e)||V5(e),yp=e=>{const t=e.selection,o=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const a=u=>{Kk(u).each(f=>{u.selection.setRng(f),s=f})};!f1(e)&&e.hasEditableRoot()&&a(e);const c=P5(e,t.getNode());if(c&&e.dom.isChildOf(c,o)){I5(e,c)||Sv(o),Sv(c),e.hasEditableRoot()||a(e),Jk(e,s),Mc(e);return}e.inline||(Bo.browser.isOpera()||Sv(o),e.getWin().focus()),(Bo.browser.isFirefox()||e.inline)&&(Sv(o),Jk(e,s)),Mc(e)},Mc=e=>e.editorManager.setActive(e),e4=(e,t)=>{e.removed||(t?Mc(e):yp(e))},Pt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Pt.metaKeyPressed(e),metaKeyPressed:e=>Bo.os.isMacOS()||Bo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},wp="data-mce-selected",H5=`table,img,figure.image,hr,video,span.mce-preview-object,details,${ay}`,t4=Math.abs,E0=Math.round,hw={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},$5=e=>e.type==="longpress"||e.type.indexOf("touch")===0,bw=(e,t)=>{const o=t.dom,s=t.getDoc(),a=document,c=t.getBody();let u,f,b,_,T,R,M,$,te,G,ee,ye,Ce,Te,Xe;const it=eo=>Me(eo)&&(Eb(eo)||o.is(eo,"figure.image")),It=eo=>hi(eo)||o.hasClass(eo,"mce-preview-object"),Xt=(eo,kt)=>{if($5(eo)){const Lt=eo.touches[0];return it(eo.target)&&!mg(Lt.clientX,Lt.clientY,kt)}else return it(eo.target)&&!mg(eo.clientX,eo.clientY,kt)},Ke=eo=>{const kt=eo.target;Xt(eo,t.selection.getRng())&&!eo.isDefaultPrevented()&&t.selection.select(kt)},Ze=eo=>o.hasClass(eo,"mce-preview-object")&&Me(eo.firstElementChild)?[eo,eo.firstElementChild]:o.is(eo,"figure.image")?[eo.querySelector("img")]:[eo],Qe=eo=>{const kt=uk(t);return!kt||t.mode.isReadOnly()||eo.getAttribute("data-mce-resize")==="false"||eo===t.getBody()?!1:o.hasClass(eo,"mce-preview-object")&&Me(eo.firstElementChild)?Ln(oe.fromDom(eo.firstElementChild),kt):Ln(oe.fromDom(eo),kt)},Nt=(eo,kt)=>{if(It(kt))return eo.create("img",{src:Bo.transparentSrc});if(kc(kt)){const co=$s(_.name,"n")?Kn:qs,Mo=kt.cloneNode(!0);return co(eo.select("tr",Mo)).each(ts=>{const vs=eo.select("td,th",ts);eo.setStyle(ts,"height",null),Ge(vs,Pd=>eo.setStyle(Pd,"height",null))}),Mo}else return kt.cloneNode(!0)},po=(eo,kt,Lt)=>{if(Me(Lt)){const co=Ze(eo);Ge(co,Mo=>{if(Mo.style[kt]||!t.schema.isValid(Mo.nodeName.toLowerCase(),kt))o.setStyle(Mo,kt,Lt);else if(Tb(Mo)){Mo[kt]=Lt;const ts=400;if(Mo.width>ts&&!(kt==="width"&&Lt<ts))Mo[kt]=Lt,o.setAttrib(Mo,kt,""+Lt);else{const vs=kt==="height"?ts*G:ts;Mo[kt]=vs,o.setAttrib(Mo,kt,""+vs)}}else o.setAttrib(Mo,kt,""+Lt)})}},Eo=(eo,kt,Lt)=>{po(eo,"width",kt),po(eo,"height",Lt)},bn=eo=>{let kt,Lt,co,Mo,ts;kt=eo.screenX-R,Lt=eo.screenY-M,ye=kt*_[2]+$,Ce=Lt*_[3]+te,ye=ye<5?5:ye,Ce=Ce<5?5:Ce,(it(u)||It(u)||Tb(u))&&mk(t)!==!1?co=!Pt.modifierPressed(eo):co=Pt.modifierPressed(eo),co&&(t4(kt)>t4(Lt)?(Ce=E0(ye*G),ye=E0(Ce/G)):(ye=E0(Ce/G),Ce=E0(ye*G))),Eo(f,ye,Ce),Mo=_.startPos.x+kt,ts=_.startPos.y+Lt,Mo=Mo>0?Mo:0,ts=ts>0?ts:0,o.setStyles(b,{left:Mo,top:ts,display:"block"}),b.innerHTML=ye+" &times; "+Ce,kt=c.scrollWidth-Te,Lt=c.scrollHeight-Xe,kt+Lt!==0&&o.setStyles(b,{left:Mo-kt,top:ts-Lt}),ee||(xR(t,u,$,te,"corner-"+_.name),ee=!0)},qn=()=>{const eo=ee;ee=!1,eo&&(po(u,"width",ye),po(u,"height",Ce)),o.unbind(s,"mousemove",bn),o.unbind(s,"mouseup",qn),a!==s&&(o.unbind(a,"mousemove",bn),o.unbind(a,"mouseup",qn)),o.remove(f),o.remove(b),o.remove(T),xs(u),eo&&(vR(t,u,ye,Ce,"corner-"+_.name),o.setAttrib(u,"style",o.getAttrib(u,"style"))),t.nodeChanged()},xs=eo=>{so();const kt=o.getPos(eo,c),Lt=kt.x,co=kt.y,Mo=eo.getBoundingClientRect(),ts=Mo.width||Mo.right-Mo.left,vs=Mo.height||Mo.bottom-Mo.top;u!==eo&&(da(),u=eo,ye=Ce=0);const Pd=t.dispatch("ObjectSelected",{target:eo});Qe(eo)&&!Pd.isDefaultPrevented()?on(hw,(lc,wm)=>{const _m=Dl=>{const Ru=Ze(u)[0];R=Dl.screenX,M=Dl.screenY,$=Ru.clientWidth,te=Ru.clientHeight,G=te/$,_=lc,_.name=wm,_.startPos={x:ts*lc[0]+Lt,y:vs*lc[1]+co},Te=c.scrollWidth,Xe=c.scrollHeight,T=o.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(T,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),f=Nt(o,u),o.addClass(f,"mce-clonedresizable"),o.setAttrib(f,"data-mce-bogus","all"),f.contentEditable="false",o.setStyles(f,{left:Lt,top:co,margin:0}),Eo(f,ts,vs),f.removeAttribute(wp),c.appendChild(f),o.bind(s,"mousemove",bn),o.bind(s,"mouseup",qn),a!==s&&(o.bind(a,"mousemove",bn),o.bind(a,"mouseup",qn)),b=o.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},$+" &times; "+te)};let cc=o.get("mceResizeHandle"+wm);cc&&o.remove(cc),cc=o.add(c,"div",{id:"mceResizeHandle"+wm,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+wm+"-resize; margin:0; padding:0"}),o.bind(cc,"mousedown",Dl=>{Dl.stopImmediatePropagation(),Dl.preventDefault(),_m(Dl)}),lc.elm=cc,o.setStyles(cc,{left:ts*lc[0]+Lt-cc.offsetWidth/2,top:vs*lc[1]+co-cc.offsetHeight/2})}):da(!1)},Ps=ks(xs,0),da=(eo=!0)=>{Ps.cancel(),so(),u&&eo&&u.removeAttribute(wp),on(hw,(kt,Lt)=>{const co=o.get("mceResizeHandle"+Lt);co&&(o.unbind(co),o.remove(co))})},Bd=(eo,kt)=>o.isChildOf(eo,kt),zt=eo=>{if(ee||t.removed||t.composing)return;const kt=eo.type==="mousedown"?eo.target:e.getNode(),Lt=dd(oe.fromDom(kt),H5).map(Mo=>Mo.dom).filter(Mo=>o.isEditable(Mo.parentElement)||Mo.nodeName==="IMG"&&o.isEditable(Mo)).getOrUndefined(),co=Me(Lt)?o.getAttrib(Lt,wp,"1"):"1";if(Ge(o.select(`img[${wp}],hr[${wp}]`),Mo=>{Mo.removeAttribute(wp)}),Me(Lt)&&Bd(Lt,c)&&dm(t)){Zn();const Mo=e.getStart(!0);if(Bd(Mo,Lt)&&Bd(e.getEnd(!0),Lt)){o.setAttrib(Lt,wp,co),Ps.throttle(Lt);return}}da()},so=()=>{on(hw,eo=>{eo.elm&&(o.unbind(eo.elm),delete eo.elm)})},Zn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Zn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",zt),t.on("keyup compositionend",eo=>{u&&u.nodeName==="TABLE"&&zt(eo)}),t.on("hide blur",da),t.on("contextmenu longpress",Ke,!0)}),t.on("remove",so),{isResizable:Qe,showResizeRect:xs,hideResizeRect:da,updateResizeRect:zt,destroy:()=>{Ps.cancel(),u=f=T=null}}},um=(e,t,o)=>{const s=pl(oe.fromDom(o));return Px(s.dom,e,t).map(a=>{const c=o.createRange();return c.setStart(a.start.dom,a.soffset),c.setEnd(a.finish.dom,a.foffset),c}).getOrUndefined()},Bc=(e,t)=>Me(e)&&Me(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,xw=(e,t,o)=>{let s=e;for(;s&&s!==t;){if(o(s))return s;s=s.parentNode}return null},o4=(e,t,o)=>xw(e,t,o)!==null,vw=(e,t,o)=>o4(e,t,s=>s.nodeName===o),U5=(e,t)=>wl(e)&&!o4(e,t,Lo),n4=(e,t,o)=>{const s=t.parentNode;if(s){const a=new rr(t,e.getParent(s,e.isBlock)||e.getRoot());let c;for(;c=a[o?"prev":"next"]();)if(Ls(c))return!0}return!1},Z5=(e,t)=>e.previousSibling?.nodeName===t,j5=(e,t)=>{let o=t;for(;o&&o!==e;){if(Xn(o))return!0;o=o.parentNode}return!1},yw=(e,t,o,s,a)=>{const c=e.getRoot(),u=e.schema.getNonEmptyElements(),f=a.parentNode;let b,_;if(!f)return B.none();const T=e.getParent(f,e.isBlock)||c;if(s&&Ls(a)&&t&&e.isEmpty(T))return B.some(Ye(f,e.nodeIndex(a)));const R=new rr(a,T);for(;_=R[s?"prev":"next"]();){if(e.getContentEditableParent(_)==="false"||U5(_,c))return B.none();if(ht(_)&&_.data.length>0)return vw(_,c,"A")?B.none():B.some(Ye(_,s?_.data.length:0));if(e.isBlock(_)||u[_.nodeName.toLowerCase()])return B.none();b=_}return gd(b)?B.none():o&&b?B.some(Ye(b,0)):B.none()},s4=(e,t,o,s)=>{const a=e.getRoot();let c,u=!1,f=o?s.startContainer:s.endContainer,b=o?s.startOffset:s.endOffset;const _=qt(f)&&b===f.childNodes.length,T=e.schema.getNonEmptyElements();let R=o;if(wl(f))return B.none();if(qt(f)&&b>f.childNodes.length-1&&(R=!1),Wg(f)&&(f=a,b=0),f===a){if(R&&(c=f.childNodes[b>0?b-1:0],c&&(wl(c)||T[c.nodeName]||kc(c))))return B.none();if(f.hasChildNodes()){if(b=Math.min(!R&&b>0?b-1:b,f.childNodes.length-1),f=f.childNodes[b],b=ht(f)&&_?f.data.length:0,!t&&f===a.lastChild&&kc(f)||j5(a,f)||wl(f)||zx(f))return B.none();if(f.hasChildNodes()&&!kc(f)){c=f;const M=new rr(f,a);do{if(Xn(c)||wl(c)){u=!1;break}if(ht(c)&&c.data.length>0){b=R?0:c.data.length,f=c,u=!0;break}if(T[c.nodeName.toLowerCase()]&&!Ab(c)){b=e.nodeIndex(c),f=c.parentNode,R||b++,u=!0;break}}while(c=R?M.next():M.prev())}}}return t&&(ht(f)&&b===0&&yw(e,_,t,!0,f).each(M=>{f=M.container(),b=M.offset(),u=!0}),qt(f)&&(c=f.childNodes[b],c||(c=f.childNodes[b-1]),c&&Ls(c)&&!Z5(c,"A")&&!n4(e,c,!1)&&!n4(e,c,!0)&&yw(e,_,t,!0,c).each(M=>{f=M.container(),b=M.offset(),u=!0}))),R&&!t&&ht(f)&&b===f.data.length&&yw(e,_,t,!1,f).each(M=>{f=M.container(),b=M.offset(),u=!0}),u&&f?B.some(Ye(f,b)):B.none()},p1=(e,t)=>{const o=t.collapsed,s=t.cloneRange(),a=Ye.fromRangeStart(t);return s4(e,o,!0,s).each(c=>{(!o||!Ye.isAbove(a,c))&&s.setStart(c.container(),c.offset())}),o||s4(e,o,!1,s).each(c=>{s.setEnd(c.container(),c.offset())}),o&&s.collapse(!0),Bc(t,s)?B.none():B.some(s)},A0=(e,t)=>e.splitText(t),Ev=e=>{let t=e.startContainer,o=e.startOffset,s=e.endContainer,a=e.endOffset;if(t===s&&ht(t)){if(o>0&&o<t.data.length)if(s=A0(t,o),t=s.previousSibling,a>o){a=a-o;const c=A0(s,a).previousSibling;t=s=c,a=c.data.length,o=0}else a=0}else if(ht(t)&&o>0&&o<t.data.length&&(t=A0(t,o),o=0),ht(s)&&a>0&&a<s.data.length){const c=A0(s,a).previousSibling;s=c,a=c.data.length}return{startContainer:t,startOffset:o,endContainer:s,endOffset:a}},gu=e=>({walk:(c,u)=>Cv(e,c,u),split:Ev,expand:(c,u={type:"word"})=>{if(u.type==="word"){const f=l1(e,c,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),b=e.createRng();return b.setStart(f.startContainer,f.startOffset),b.setEnd(f.endContainer,f.endOffset),b}return c},normalize:c=>p1(e,c).fold(Do,u=>(c.setStart(u.startContainer,u.startOffset),c.setEnd(u.endContainer,u.endOffset),!0))});gu.compareRanges=Bc,gu.getCaretRangeFromPoint=um,gu.getSelectedNode=fe,gu.getNode=de;const W5=(e,t)=>e.view(t).fold(pt([]),s=>{const a=e.owner(s),c=W5(e,a);return[s].concat(c)}),LN=(e,t)=>{const o=t.owner(e);return W5(t,o)};var FN=Object.freeze({__proto__:null,view:e=>(e.dom===document?B.none():B.from(e.dom.defaultView?.frameElement)).map(oe.fromDom),owner:e=>fc(e)});const zN=e=>{const t=Ha(),o=$a(t),s=LN(e,FN),a=Bi(e),c=gn(s,(u,f)=>{const b=Bi(f);return{left:u.left+b.left,top:u.top+b.top}},{left:0,top:0});return ld(c.left+a.left+o.left,c.top+a.top+o.top)},T0=e=>jo(e)==="textarea",r4=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),q5=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},a4=(e,t)=>{const o=rn(e);if(o.length===0||T0(e))return{element:e,offset:t};if(t<o.length&&!T0(o[t]))return{element:o[t],offset:0};{const s=o[o.length-1];return T0(s)?{element:e,offset:t}:jo(s)==="img"?{element:s,offset:1}:Ka(s)?{element:s,offset:cd(s).length}:{element:s,offset:rn(s).length}}},G5=(e,t)=>{const o=Ms(e),s=Y2(e);return{element:e,bottom:o.top+s,height:s,pos:o,cleanup:t}},VN=(e,t)=>{const o=a4(e,t),s=oe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Vr+"</span>");return na(o.element,s),G5(s,()=>cs(s))},HN=e=>G5(oe.fromDom(e),To),K5=(e,t,o,s)=>{ww(e,(a,c)=>$N(e,t,o,s),o)},Y5=(e,t,o,s,a)=>{const c={elm:s.element.dom,alignToTop:a};if(r4(e,c))return;const u=$a(t).top;o(e,t,u,s,a),q5(e,c)},$N=(e,t,o,s)=>{const a=oe.fromDom(e.getBody()),c=oe.fromDom(e.getDoc());go(a);const u=VN(oe.fromDom(o.startContainer),o.startOffset);Y5(e,c,t,u,s),u.cleanup()},Av=(e,t,o,s)=>{const a=oe.fromDom(e.getDoc());Y5(e,a,o,HN(t),s)},ww=(e,t,o)=>{const s=o.startContainer,a=o.startOffset,c=o.endContainer,u=o.endOffset;t(oe.fromDom(s),oe.fromDom(c));const f=e.dom.createRng();f.setStart(s,a),f.setEnd(c,u),e.selection.setRng(o)},D0=(e,t,o,s,a)=>{const c=t.pos,u=30;if(s)Zu(c.left,Math.max(0,c.top-u),a);else{const f=c.top-o+t.height+u;Zu(-e.getBody().getBoundingClientRect().left,f,a)}},X5=(e,t,o,s,a,c)=>{const u=s+o,f=a.pos.top,b=a.bottom,_=b-f>=s;f<o?D0(e,a,s,c!==!1,t):f>u?D0(e,a,s,_?c!==!1:c===!0,t):b>u&&!_&&D0(e,a,s,c===!0,t)},Q5=(e,t,o,s,a)=>{const c=pl(t).dom.innerHeight;X5(e,t,o,c,s,a)},J5=(e,t,o,s,a)=>{const c=pl(t).dom.innerHeight;X5(e,t,o,c,s,a);const u=zN(s.element),f=md(window);u.top<f.y?Xa(s.element,a!==!1):u.top>f.bottom&&Xa(s.element,a===!0)},UN=(e,t,o)=>K5(e,Q5,t,o),ZN=(e,t,o)=>Av(e,t,Q5,o),jN=(e,t,o)=>K5(e,J5,t,o),fu=(e,t,o)=>Av(e,t,J5,o),eT=(e,t,o)=>{(e.inline?ZN:fu)(e,t,o)},Tv=(e,t,o)=>{(e.inline?UN:jN)(e,t,o)},i4=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),tT=(e,t,o,s,a)=>{const c=o?t.startContainer:t.endContainer,u=o?t.startOffset:t.endOffset;return B.from(c).map(oe.fromDom).map(f=>!s||!t.collapsed?pr(f,a(f,u)).getOr(f):f).bind(f=>fr(f)?B.some(f):ji(f).filter(fr)).map(f=>f.dom).getOr(e)},oT=(e,t,o=!1)=>tT(e,t,!0,o,(s,a)=>Math.min(Wf(s),a)),ri=(e,t,o=!1)=>tT(e,t,!1,o,(s,a)=>a>0?a-1:a),_w=(e,t)=>{const o=e;for(;e&&ht(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},nT=(e,t)=>{if(!t)return e;let o=t.startContainer,s=t.endContainer;const a=t.startOffset,c=t.endOffset;let u=t.commonAncestorContainer;t.collapsed||(o===s&&c-a<2&&o.hasChildNodes()&&(u=o.childNodes[a]),ht(o)&&ht(s)&&(o.length===a?o=_w(o.nextSibling,!0):o=o.parentNode,c===0?s=_w(s.previousSibling,!1):s=s.parentNode,o&&o===s&&(u=o)));const f=ht(u)?u.parentNode:u;return $o(f)?f:e},Cw=(e,t,o,s)=>{const a=[],c=e.getRoot(),u=e.getParent(o||oT(c,t,t.collapsed),e.isBlock),f=e.getParent(s||ri(c,t,t.collapsed),e.isBlock);if(u&&u!==c&&a.push(u),u&&f&&u!==f){let b;const _=new rr(u,c);for(;(b=_.next())&&b!==f;)e.isBlock(b)&&a.push(b)}return f&&u!==f&&f!==c&&a.push(f),a},sT=(e,t,o)=>B.from(t).bind(s=>B.from(s.parentNode).map(a=>{const c=e.nodeIndex(s),u=e.createRng();return u.setStart(a,c),u.setEnd(a,c+1),o&&(nw(e,u,s,!0),nw(e,u,s,!1)),u})),kw=(e,t)=>Io(t,o=>{const s=e.dispatch("GetSelectionRange",{range:o});return s.range!==o?s.range:o}),rT={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Sw=(e,t,o)=>{const s=o?"lastChild":"firstChild",a=o?"prev":"next";if(e[s])return e[s];if(e!==t){let c=e[a];if(c)return c;for(let u=e.parent;u&&u!==t;u=u.parent)if(c=u[a],c)return c}},WN=e=>{const t=e.value??"";if(!qm(t))return!1;const o=e.parent;return!(o&&(o.name!=="span"||o.attr("style"))&&/^[ ]+$/.test(t))},aT=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class yi{static create(t,o){const s=new yi(t,rT[t]||1);return o&&on(o,(a,c)=>{s.attr(c,a)}),s}name;type;attributes;value;parent;firstChild;lastChild;next;prev;raw;constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const s=this;if(!tt(t))return Me(t)&&on(t,(c,u)=>{s.attr(u,c)}),s;const a=s.attributes;if(a){if(o!==void 0){if(o===null){if(t in a.map){delete a.map[t];let c=a.length;for(;c--;)if(a[c].name===t)return a.splice(c,1),s}return s}if(t in a.map){let c=a.length;for(;c--;)if(a[c].name===t){a[c].value=o;break}}else a.push({name:t,value:o});return a.map[t]=o,s}return a.map[t]}}clone(){const t=this,o=new yi(t.name,t.type),s=t.attributes;if(s){const a=[];a.map={};for(let c=0,u=s.length;c<u;c++){const f=s[c];f.name!=="id"&&(a[a.length]={name:f.name,value:f.value},a.map[f.name]=f.value)}o.attributes=a}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const s=o.next;t.insert(o,t,!0),o=s}t.remove()}remove(){const t=this,o=t.parent,s=t.next,a=t.prev;return o&&(o.firstChild===t?(o.firstChild=s,s&&(s.prev=null)):a&&(a.next=s),o.lastChild===t?(o.lastChild=a,a&&(a.next=null)):s&&(s.prev=a),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const s=o.lastChild;return s?(s.next=t,t.prev=s,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,s){t.parent&&t.remove();const a=o.parent||this;return s?(o===a.firstChild?a.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===a.lastChild?a.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=a,t}getAll(t){const o=this,s=[];for(let a=o.firstChild;a;a=Sw(a,o))a.name===t&&s.push(a);return s}children(){const t=this,o=[];for(let s=t.firstChild;s;s=s.next)o.push(s);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let a=t.firstChild;a;a=Sw(a,t))o.push(a);let s=o.length;for(;s--;){const a=o[s];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},s){const a=this;let c=a.firstChild;if(aT(a))return!1;if(c)do{if(c.type===1){if(c.attr("data-mce-bogus"))continue;if(t[c.name]||aT(c))return!1}if(c.type===8||c.type===3&&!WN(c)||c.type===3&&c.parent&&o[c.parent.name]&&qm(c.value??"")||s&&s(c))return!1}while(c=Sw(c,a));return!0}walk(t){return Sw(this,null,t)}}const Ew=ct.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),l4=e=>tt(e.nodeValue)&&e.nodeValue.includes(Vr),c4=e=>`${e.length===0?"":`${Io(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,iT=(e,t)=>t.querySelectorAll(c4(e)),lT=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>l4(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),cT=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(l4(t)){const o=t.parentNode;return o&&ko(Ew,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),d4=e=>lT(e).nextNode()!==null,u4=e=>cT(e).nextNode()!==null,m4=(e,t)=>t.querySelector(c4(e))!==null,qN=(e,t)=>{Ge(iT(e,t),o=>{const s=oe.fromDom(o);or(s,"data-mce-bogus")==="all"?cs(s):Ge(e,a=>{Bm(s,a)&&Mr(s,a)})})},dT=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},GN=yn(dT,lT),KN=yn(dT,cT),g4=(e,t)=>{const o=[{condition:ze(m4,t),action:ze(qN,t)},{condition:d4,action:GN},{condition:u4,action:KN}];let s=e,a=!1;return Ge(o,({condition:c,action:u})=>{c(s)&&(a||(s=e.cloneNode(!0),a=!0),u(s))}),s},uT=e=>{const t=qr(e,"[data-mce-bogus]");Ge(t,o=>{or(o,"data-mce-bogus")==="all"?cs(o):Qi(o)?(na(o,oe.fromText(Xc)),cs(o)):Ni(o)})},mT=e=>{const t=qr(e,"input");Ge(t,o=>{Mr(o,"name")})},YN=(e,t)=>{const o=si(e),s=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},XN=(e,t)=>{const o=e.getDoc(),s=Xd(oe.fromDom(e.getBody())),a=oe.fromTag("div",o);Wr(a,"data-mce-bogus","all"),Gf(a,{position:"fixed",left:"-9999999px",top:"0"}),Im(a,t.innerHTML),uT(a),mT(a);const c=Qp(s);dn(c,a);const u=Hi(a.dom.innerText);return cs(a),u},QN=(e,t,o)=>{let s;return t.format==="raw"?s=ct.trim(Hi(g4(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=XN(e,o):t.format==="tree"?s=e.serializer.serialize(o,t):s=YN(e,e.serializer.serialize(o,t)),t.format!=="text"&&!Vh(oe.fromDom(o))&&tt(s)?ct.trim(s):s},O0=(e,t)=>B.from(e.getBody()).fold(pt(t.format==="tree"?new yi("body",11):""),o=>QN(e,t,o)),Dv=ct.makeMap,f4=e=>{const t=[];e=e||{};const o=e.indent,s=Dv(e.indent_before||""),a=Dv(e.indent_after||""),c=pd.getEncodeFunc(e.entity_encoding||"raw",e.entities),u=e.element_format!=="xhtml";return{start:(f,b,_)=>{if(o&&s[f]&&t.length>0){const T=t[t.length-1];T.length>0&&T!==`
`&&t.push(`
`)}if(t.push("<",f),b)for(let T=0,R=b.length;T<R;T++){const M=b[T];t.push(" ",M.name,'="',c(M.value,!0),'"')}if(!_||u?t[t.length]=">":t[t.length]=" />",_&&o&&a[f]&&t.length>0){const T=t[t.length-1];T.length>0&&T!==`
`&&t.push(`
`)}},end:f=>{let b;t.push("</",f,">"),o&&a[f]&&t.length>0&&(b=t[t.length-1],b.length>0&&b!==`
`&&t.push(`
`))},text:(f,b)=>{f.length>0&&(t[t.length]=b?f:c(f))},cdata:f=>{t.push("<![CDATA[",f,"]]>")},comment:f=>{t.push("<!--",f,"-->")},pi:(f,b)=>{b?t.push("<?",f," ",c(b),"?>"):t.push("<?",f,"?>"),o&&t.push(`
`)},doctype:f=>{t.push("<!DOCTYPE",f,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},hf=(e={},t=su())=>{const o=f4(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const c=e.validate,u={3:b=>{o.text(b.value??"",b.raw)},8:b=>{o.comment(b.value??"")},7:b=>{o.pi(b.name,b.value)},10:b=>{o.doctype(b.value??"")},4:b=>{o.cdata(b.value??"")},11:b=>{let _=b;if(_=_.firstChild)do f(_);while(_=_.next)}};o.reset();const f=b=>{const _=u[b.type];if(_)_(b);else{const T=b.name,R=T in t.getVoidElements();let M=b.attributes;if(c&&M&&M.length>1){const $=[];$.map={};const te=t.getElementRule(b.name);if(te){for(let G=0,ee=te.attributesOrder.length;G<ee;G++){const ye=te.attributesOrder[G];if(ye in M.map){const Ce=M.map[ye];$.map[ye]=Ce,$.push({name:ye,value:Ce})}}for(let G=0,ee=M.length;G<ee;G++){const ye=M[G].name;if(!(ye in $.map)){const Ce=M.map[ye];$.map[ye]=Ce,$.push({name:ye,value:Ce})}}M=$}}if(o.start(T,M,R),Km(T))tt(b.value)&&o.text(b.value,!0),o.end(T);else if(!R){let $=b.firstChild;if($){(T==="pre"||T==="textarea")&&$.type===3&&$.value?.[0]===`
`&&o.text(`
`,!0);do f($);while($=$.next)}o.end(T)}}};return a.type===1&&!e.inner?f(a):a.type===3?u[3](a):u[11](a),o.getContent()}}},Aw=new Set;Ge(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{Aw.add(t)});const gT=new Set;Ge(["background-color"],t=>{gT.add(t)});const fT=["font","text-decoration","text-emphasis"],JN=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),wi=(e,t)=>Yr(JN(e,t)),Ov=e=>Aw.has(e),eM=e=>gT.has(e),Rv=(e,t)=>In(wi(e,t),o=>Ov(o)),Nv=(e,t)=>Rv(e,t)&&In(wi(e,t),o=>eM(o)),tM=e=>xt(e,t=>In(fT,o=>$s(t,o))),R0=(e,t,o)=>{const s=wi(e,t),a=wi(e,o),c=u=>{const f=e.getStyle(t,u)??"",b=e.getStyle(o,u)??"";return Or(f)&&Or(b)&&f!==b};return In(s,u=>{const f=b=>In(b,_=>_===u);if(!f(a)&&f(fT)){const b=tM(a);return In(b,c)}else return c(u)})},Qn=(e,t,o)=>B.from(o.container()).filter(ht).exists(s=>{const a=e?0:-1;return t(s.data.charAt(o.offset()+a))}),h1=ze(Qn,!0,bp),Tw=ze(Qn,!1,bp),pT=e=>{const t=e.container();return ht(t)&&(t.data.length===0||rf(t.data)&&c1.isBookmarkNode(t.parentNode))},mm=(e,t)=>o=>Qy(e?0:-1,o).filter(t).isSome(),Dw=e=>Eb(e)&&Wi(oe.fromDom(e),"display")==="block",Ow=e=>Xn(e)&&!jg(e),p4=mm(!0,Dw),h4=mm(!1,Dw),_p=mm(!0,hi),b1=mm(!1,hi),b4=mm(!0,kc),Rw=mm(!1,kc),bf=mm(!0,Ow),xf=mm(!1,Ow),hT=e=>e.slice(0,-1),x1=(e,t,o)=>Nr(t,e)?hT(Ya(e,s=>o(s)||sn(s,t))):[],x4=(e,t)=>x1(e,t,Do),gm=(e,t)=>[e].concat(x4(e,t)),v4=(e,t,o)=>p0(e,t,o,pT),oM=e=>t=>e.isBlock(jo(t)),y4=(e,t,o)=>An(gm(oe.fromDom(t.container()),e),oM(o)),w4=(e,t,o,s)=>v4(e,t.dom,o).forall(a=>y4(t,o,s).fold(()=>!ra(a,o,t.dom),c=>!ra(a,o,t.dom)&&Nr(c,oe.fromDom(a.container())))),_4=(e,t,o,s)=>y4(t,o,s).fold(()=>v4(e,t.dom,o).forall(a=>!ra(a,o,t.dom)),a=>v4(e,a.dom,o).isNone()),N0=ze(_4,!1),C4=ze(_4,!0),bT=ze(w4,!1),xT=ze(w4,!0),vT=e=>Jy(e).exists(Qi),Mv=(e,t,o,s)=>{const a=xt(gm(oe.fromDom(o.container()),t),u=>s.isBlock(jo(u))),c=Kn(a).getOr(t);return kd(e,c.dom,o).filter(vT)},Nw=(e,t,o)=>Jy(t).exists(Qi)||Mv(!0,e,t,o).isSome(),Bv=(e,t,o)=>Dn(t).exists(Qi)||Mv(!1,e,t,o).isSome(),k4=ze(Mv,!1),yT=ze(Mv,!0),S4=e=>Ye.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Mw=(e,t,o)=>{const s=xt(gm(oe.fromDom(t.container()),e),a=>o.isBlock(jo(a)));return Kn(s).getOr(e)},E4=(e,t,o)=>S4(t)?Tw(t):Tw(t)||tc(Mw(e,t,o).dom,t).exists(Tw),A4=(e,t,o)=>S4(t)?h1(t):h1(t)||ol(Mw(e,t,o).dom,t).exists(h1),wT=e=>Wo(["pre","pre-wrap"],e),Bw=e=>Jy(e).bind(t=>Ii(t,fr)).exists(t=>wT(Wi(t,"white-space"))),_T=(e,t)=>tc(e.dom,t).isNone(),CT=(e,t)=>ol(e.dom,t).isNone(),kT=(e,t,o)=>_T(e,t)||CT(e,t)||N0(e,t,o)||C4(e,t,o)||Bv(e,t,o)||Nw(e,t,o),T4=e=>Me(e)&&Xn(e)&&QA(e),Pv=(e,t)=>o=>T4(new rr(o,e)[t]()),ST=(e,t)=>{const o=ol(e.dom,t).getOr(t),s=Pv(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(o.container()))},ET=(e,t)=>{const o=tc(e.dom,t).getOr(t),s=Pv(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(o.container()))},Iv=(e,t,o)=>Bw(t)?!1:kT(e,t,o)||E4(e,t,o)||A4(e,t,o),v1=(e,t,o)=>Bw(t)?!1:N0(e,t,o)||bT(e,t,o)||Bv(e,t,o)||E4(e,t,o)||ET(e,t),Lv=e=>{const t=e.container(),o=e.offset();return ht(t)&&o<t.data.length?Ye(t,o+1):e},y1=(e,t,o)=>Bw(t)?!1:C4(e,t,o)||xT(e,t,o)||Nw(e,t,o)||A4(e,t,o)||ST(e,t),Pw=(e,t,o)=>v1(e,t,o)||y1(e,Lv(t),o),w1=(e,t)=>v0(e.charAt(t)),Iw=(e,t)=>bp(e.charAt(t)),D4=e=>{const t=e.container();return ht(t)&&Xo(t.data,Us)},M0=e=>{const t=e.split("");return Io(t,(o,s)=>v0(o)&&s>0&&s<t.length-1&&vv(t[s-1])&&vv(t[s+1])?" ":o).join("")},vf=(e,t,o,s)=>{const a=t.data,c=Ye(t,0);return!o&&w1(a,0)&&!Pw(e,c,s)?(t.data=" "+a.slice(1),!0):o&&Iw(a,0)&&v1(e,c,s)?(t.data=Us+a.slice(1),!0):!1},AT=e=>{const t=e.data,o=M0(t);return o!==t?(e.data=o,!0):!1},TT=(e,t,o,s)=>{const a=t.data,c=Ye(t,a.length-1);return!o&&w1(a,a.length-1)&&!Pw(e,c,s)?(t.data=a.slice(0,-1)+" ",!0):o&&Iw(a,a.length-1)&&y1(e,c,s)?(t.data=a.slice(0,-1)+Us,!0):!1},nM=(e,t,o)=>{const s=t.container();if(!ht(s))return B.none();if(D4(t)){const a=vf(e,s,!1,o)||AT(s)||TT(e,s,!1,o);return Vd(a,t)}else if(Pw(e,t,o)){const a=vf(e,s,!0,o)||TT(e,s,!0,o);return Vd(a,t)}else return B.none()},DT=e=>{const t=oe.fromDom(e.getBody());e.selection.isCollapsed()&&nM(t,Ye.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},O4=(e,t,o,s)=>{if(o===0)return;const a=oe.fromDom(e),c=Qa(a,_=>s.isBlock(jo(_))).getOr(a),u=e.data.slice(t,t+o),f=t+o>=e.data.length&&y1(c,Ye(e,e.data.length),s),b=t===0&&v1(c,Ye(e,0),s);e.replaceData(t,o,sy(u,4,b,f))},Fv=(e,t,o)=>{const s=e.data.slice(t),a=s.length-Hf(s).length;O4(e,t,a,o)},gg=(e,t,o)=>{const s=e.data.slice(0,t),a=s.length-Em(s).length;O4(e,t-a,a,o)},yf=(e,t,o,s,a=!0)=>{const c=Em(e.data).length,u=a?e:t,f=a?t:e;return a?u.appendData(f.data):u.insertData(0,f.data),cs(oe.fromDom(f)),s&&Fv(u,c,o),u},OT=(e,t)=>{const o=e.container(),s=e.offset();return!Ye.isTextPosition(e)&&o===t.parentNode&&s>Ye.before(t).offset()},RT=(e,t)=>OT(t,e)?Ye(t.container(),t.offset()-1):t,sM=e=>ht(e)?Ye(e,0):Ye.before(e),rM=e=>ht(e)?Ye(e,e.data.length):Ye.after(e),NT=e=>zo(e.previousSibling)?B.some(rM(e.previousSibling)):e.previousSibling?Sd(e.previousSibling):B.none(),Cl=e=>zo(e.nextSibling)?B.some(sM(e.nextSibling)):e.nextSibling?$i(e.nextSibling):B.none(),pu=(e,t)=>B.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>tc(e,Ye.before(o))).orThunk(()=>ol(e,Ye.after(t))),MT=(e,t)=>ol(e,Ye.after(t)).orThunk(()=>tc(e,Ye.before(t))),R4=(e,t)=>NT(t).orThunk(()=>Cl(t)).orThunk(()=>pu(e,t)),N4=(e,t)=>Cl(t).orThunk(()=>NT(t)).orThunk(()=>MT(e,t)),Lw=(e,t,o)=>e?N4(t,o):R4(t,o),aM=(e,t,o)=>Lw(e,t,o).map(ze(RT,o)),M4=(e,t,o)=>{o.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},zv=e=>t=>t.dom===e,iM=(e,t)=>t&&ko(e.schema.getBlockElements(),jo(t)),Fw=(e,t,o)=>{if(ti(e,t)){const s=oe.fromHtml('<br data-mce-bogus="1">');return o?Ge(rn(t),a=>{nl(a)||cs(a)}):Uu(t),dn(t,s),B.some(Ye.before(s.dom))}else return B.none()},B4=(e,t,o,s)=>{const a=zl(e).filter(Ka),c=rd(e).filter(Ka);return cs(e),Eg(a,c,t,(u,f,b)=>{const _=u.dom,T=f.dom,R=_.data.length;return yf(_,T,o,s),b.container()===T?Ye(_,R):b}).orThunk(()=>(s&&(a.each(u=>gg(u.dom,u.dom.length,o)),c.each(u=>Fv(u.dom,0,o))),t))},BT=(e,t)=>ko(e.schema.getTextInlineElements(),jo(t)),hu=(e,t,o,s=!0,a=!1)=>{const c=aM(t,e.getBody(),o.dom),u=Qa(o,ze(iM,e),zv(e.getBody())),f=B4(o,c,e.schema,BT(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):u.bind(b=>Fw(e.schema,b,a)).fold(()=>{s&&M4(e,t,f)},b=>{s&&M4(e,t,B.some(b))})},lM=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,cM=e=>lM.test(e),sl=(e,t)=>Ln(oe.fromDom(t),i0(e))&&!Ku(e.schema,t)&&e.dom.isEditable(t),kl=e=>Bn.DOM.getStyle(e,"direction",!0)==="rtl"||cM(e.textContent??""),Vv=(e,t,o)=>xt(Bn.DOM.getParents(o.container(),"*",t),e),wf=(e,t,o)=>{const s=Vv(e,t,o);return B.from(s[s.length-1])},oc=(e,t,o)=>{const s=hp(t,e),a=hp(o,e);return Me(s)&&s===a},hs=e=>Uh(e)||Zh(e),Td=(e,t)=>{const o=t.container(),s=t.offset();return e?nm(o)?ht(o.nextSibling)?Ye(o.nextSibling,0):Ye.after(o):Uh(t)?Ye(o,s+1):t:nm(o)?ht(o.previousSibling)?Ye(o.previousSibling,o.previousSibling.data.length):Ye.before(o):Zh(t)?Ye(o,s-1):t},fg=ze(Td,!0),B0=ze(Td,!1),P4=(e,t)=>{const o=s=>s.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},I4=e=>{e.execCommand("delete")},P0=e=>P4(e,"Delete"),PT=e=>P4(e,"ForwardDelete"),L4=e=>t=>xr(ji(t),e,sn),dM=e=>lp(e)||om(e),Hv=(e,t)=>Nr(e,t)?Ii(t,dM,L4(e)):B.none(),zw=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Vw=(e,t,o)=>Rs($i(o),Sd(o),(s,a)=>{const c=Td(!0,s),u=Td(!1,a),f=Td(!1,t);return e?ol(o,f).exists(b=>b.isEqual(u)&&t.isEqual(c)):tc(o,f).exists(b=>b.isEqual(c)&&t.isEqual(u))}).getOr(!0),F4=e=>(Ax(e)?zl(e):ta(e)).bind(F4).orThunk(()=>B.some(e)),$v=(e,t,o,s=!0)=>{t.deleteContents();const a=F4(o).getOr(o),c=oe.fromDom(e.dom.getParent(a.dom,e.dom.isBlock)??o.dom);if(c.dom===e.getBody()?zw(e,s):ti(e.schema,c,{checkRootAsContent:!1})&&(lu(c),s&&e.selection.setCursorLocation(c.dom,0)),!sn(o,c)){const u=xr(ji(c),o)?[]:jf(c);Ge(u.concat(rn(o)),f=>{!sn(f,c)&&!Nr(f,c)&&ti(e.schema,f)&&cs(f)})}},uM=e=>t=>sn(e,t),z4=e=>qr(e,"td,th"),IT=(e,t)=>lm(oe.fromDom(e),t),mM=e=>Rs(e.startTable,e.endTable,(t,o)=>{const s=ei(t,c=>sn(c,o)),a=ei(o,c=>sn(c,t));return!s&&!a?e:{...e,startTable:s?B.none():e.startTable,endTable:a?B.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),gM=e=>mM(e),LT=(e,t)=>{const o=IT(e.startContainer,t),s=IT(e.endContainer,t),a=o.isSome(),c=s.isSome(),u=Rs(o,s,sn).getOr(!1);return gM({startTable:o,endTable:s,isStartInTable:a,isEndInTable:c,isSameTable:u,isMultiTable:!u&&a&&c})},V4=(e,t)=>({start:e,end:t}),fM=(e,t,o)=>({rng:e,table:t,cells:o}),I0=ll.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Hw=(e,t)=>dd(oe.fromDom(e),"td,th",t),H4=e=>!sn(e.start,e.end),FT=(e,t)=>lm(e.start,t).bind(o=>lm(e.end,t).bind(s=>Vd(sn(o,s),o))),pM=(e,t)=>!H4(e)&&FT(e,t).exists(o=>{const s=o.dom.rows;return s.length===1&&s[0].cells.length===1}),zT=(e,t)=>{const o=Hw(e.startContainer,t),s=Hw(e.endContainer,t);return Rs(o,s,V4)},_i=e=>t=>lm(t,e).bind(o=>qs(z4(o)).map(s=>V4(t,s))),hM=e=>t=>lm(t,e).bind(o=>Kn(z4(o)).map(s=>V4(s,t))),$w=e=>t=>FT(t,e).map(o=>fM(t,o,z4(o))),Uw=(e,t,o,s)=>{if(o.collapsed||!e.forall(H4))return B.none();if(t.isSameTable){const a=e.bind($w(s));return B.some({start:a,end:a})}else{const a=Hw(o.startContainer,s),c=Hw(o.endContainer,s),u=a.bind(_i(s)).bind($w(s)),f=c.bind(hM(s)).bind($w(s));return B.some({start:u,end:f})}},Zw=(e,t)=>Is(e,o=>sn(o,t)),jw=e=>Rs(Zw(e.cells,e.rng.start),Zw(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),VT=(e,t,o)=>e.exists(s=>pM(s,o)&&ow(s.start,t)),$4=(e,t)=>{const{startTable:o,endTable:s}=t,a=e.cloneRange();return o.each(c=>a.setStartAfter(c.dom)),s.each(c=>a.setEndBefore(c.dom)),a},HT=(e,t,o,s)=>Uw(e,t,o,s).bind(({start:a,end:c})=>a.or(c)).bind(a=>{const{isSameTable:c}=t,u=jw(a).getOr([]);if(c&&a.cells.length===u.length)return B.some(I0.fullTable(a.table));if(u.length>0){if(c)return B.some(I0.partialTable(u,B.none()));{const f=$4(o,t);return B.some(I0.partialTable(u,B.some({...t,rng:f})))}}else return B.none()}),Pc=(e,t,o,s)=>Uw(e,t,o,s).bind(({start:a,end:c})=>{const u=a.bind(jw).getOr([]),f=c.bind(jw).getOr([]);if(u.length>0&&f.length>0){const b=$4(o,t);return B.some(I0.multiTable(u,f,b))}else return B.none()}),bM=(e,t)=>{const o=uM(e),s=zT(t,o),a=LT(t,o);return VT(s,t,o)?s.map(c=>I0.singleCellTable(t,c.start)):a.isMultiTable?Pc(s,a,t,o):HT(s,a,t,o)},Ww=e=>Ge(e,t=>{Mr(t,"contenteditable"),lu(t)}),xM=(e,t)=>B.from(e.dom.getParent(t,e.dom.isBlock)).map(oe.fromDom),U4=(e,t,o)=>{o.each(s=>{t?cs(s):(lu(s),e.selection.setCursorLocation(s.dom,0))})},Ic=(e,t,o,s)=>{const a=o.cloneRange();s?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),Z4(e,a,t,!1).each(c=>c())},qw=e=>{const t=s1(e),o=oe.fromDom(e.selection.getNode());Gg(o.dom)&&ti(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&In(t,s=>sn(s,o))&&Wr(o,"data-mce-selected","1")},Uv=(e,t,o)=>B.some(()=>{const s=e.selection.getRng(),a=o.bind(({rng:c,isStartInTable:u})=>{const f=xM(e,u?c.endContainer:c.startContainer);c.deleteContents(),U4(e,u,f.filter(ze(ti,e.schema)));const b=u?t[0]:t[t.length-1];return Ic(e,b,s,u),ti(e.schema,b)?B.none():B.some(u?t.slice(1):t.slice(0,-1))}).getOr(t);Ww(a),qw(e)}),$T=(e,t,o,s)=>B.some(()=>{const a=e.selection.getRng(),c=t[0],u=o[o.length-1];Ic(e,c,a,!0),Ic(e,u,a,!1);const f=ti(e.schema,c)?t:t.slice(1),b=ti(e.schema,u)?o:o.slice(0,-1);Ww(f.concat(b)),s.deleteContents(),qw(e)}),Z4=(e,t,o,s=!0)=>B.some(()=>{$v(e,t,o,s)}),j4=(e,t)=>B.some(()=>hu(e,!1,t)),UT=(e,t,o)=>bM(t,o).bind(s=>s.fold(ze(Z4,e),ze(j4,e),ze(Uv,e),ze($T,e))),W4=(e,t)=>Kw(e,t),ZT=(e,t,o,s)=>Gw(t,s).fold(()=>UT(e,t,o),a=>W4(e,a)),_1=(e,t,o)=>{const s=oe.fromDom(e.getBody()),a=e.selection.getRng();return o.length!==0?Uv(e,o,B.none()):ZT(e,s,a,t)},q4=(e,t)=>An(gm(t,e),cp),Gw=(e,t)=>An(gm(t,e),ea("caption")),jT=(e,t,o,s,a)=>Un(o,e.getBody(),a).bind(c=>q4(t,oe.fromDom(c.getNode())).bind(u=>sn(u,s)?B.none():B.some(To))),Kw=(e,t)=>B.some(()=>{lu(t),e.selection.setCursorLocation(t.dom,0)}),G4=(e,t,o,s)=>$i(e.dom).bind(a=>Sd(e.dom).map(c=>t?o.isEqual(a)&&s.isEqual(c):o.isEqual(c)&&s.isEqual(a))).getOr(!0),Cp=(e,t)=>Kw(e,t),vM=(e,t,o)=>Gw(e,oe.fromDom(o.getNode())).fold(()=>B.some(To),s=>Vd(!sn(s,t),To)),yM=(e,t,o,s,a)=>Un(o,e.getBody(),a).fold(()=>B.some(To),c=>G4(s,o,a,c)?Cp(e,s):vM(t,s,c)),Zv=(e,t,o,s)=>{const a=Ye.fromRangeStart(e.selection.getRng());return q4(o,s).bind(c=>ti(e.schema,c,{checkRootAsContent:!1})?Kw(e,c):jT(e,o,t,c,a))},WT=(e,t,o,s)=>{const a=Ye.fromRangeStart(e.selection.getRng());return ti(e.schema,s)?Kw(e,s):yM(e,o,t,s,a)},K4=(e,t)=>e?b4(t):Rw(t),qT=(e,t)=>{const o=Ye.fromRangeStart(e.selection.getRng());return K4(t,o)||kd(t,e.getBody(),o).exists(s=>K4(t,s))},Yw=(e,t,o)=>{const s=oe.fromDom(e.getBody());return Gw(s,o).fold(()=>Zv(e,t,s,o).orThunk(()=>Vd(qT(e,t),To)),a=>WT(e,t,s,a))},Xw=(e,t)=>{const o=oe.fromDom(e.selection.getStart(!0)),s=s1(e);return e.selection.isCollapsed()&&s.length===0?Yw(e,t,o):_1(e,o,s)},kp=(e,t)=>{let o=t;for(;o&&o!==e;){if(pi(o)||Xn(o))return o;o=o.parentNode}return null},wM=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],Qw=ct.each,Jw=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),s=(c,u)=>{if(c.nodeName!==u.nodeName||c.nodeType!==u.nodeType)return!1;const f=_=>{const T={};return Qw(t.getAttribs(_),R=>{const M=R.nodeName.toLowerCase();M!=="style"&&!a(M)&&(T[M]=t.getAttrib(_,M))}),T},b=(_,T)=>{for(const R in _)if(ko(_,R)){const M=T[R];if(Co(M)||_[R]!==M)return!1;delete T[R]}for(const R in T)if(ko(T,R))return!1;return!0};return qt(c)&&qt(u)&&(!b(f(c),f(u))||!b(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(u,"style"))))?!1:!Rc(c)&&!Rc(u)},a=c=>In(wM,u=>$s(c,u))||o.has(c);return{compare:s,isAttributeInternal:a}},Y4=(e,t)=>{if(ht(e))return{container:e,offset:t};const o=gu.getNode(e,t);return ht(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&ht(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&ht(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},e_=e=>{const t=e.cloneRange(),o=Y4(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const s=Y4(e.endContainer,e.endOffset);return t.setEnd(s.container,s.offset),t},L0=Bn.DOM,X4=()=>L0.create("span",{"data-mce-type":"bookmark"}),Q4=(e,t,o)=>{if(qt(e)){const s=o();return e.hasChildNodes()?t===e.childNodes.length?e.appendChild(s):e.insertBefore(s,e.childNodes[t]):e.appendChild(s),{container:s,offset:0}}else return{container:e,offset:t}},F0=(e,t)=>{const o=s=>{let a=s.parentNode?.firstChild,c=0;for(;a;){if(a===s)return c;(!qt(a)||a.getAttribute("data-mce-type")!=="bookmark")&&c++,a=a.nextSibling}return-1};if(qt(e)&&Me(e.parentNode)){const s=e;t=o(e),e=e.parentNode,L0.remove(s),!e.hasChildNodes()&&L0.isBlock(e)&&e.appendChild(L0.create("br"))}return{container:e,offset:t}},bu=(e,t,o,s)=>{const a=L0.createRng();return a.setStart(e,t),a.setEnd(o,s),e_(a)},_f=(e,t=X4)=>{const{container:o,offset:s}=Q4(e.startContainer,e.startOffset,t);if(e.collapsed)return{startContainer:o,startOffset:s};{const{container:a,offset:c}=Q4(e.endContainer,e.endOffset,t);return{startContainer:o,startOffset:s,endContainer:a,endOffset:c}}},fm=e=>{const{container:t,offset:o}=F0(e.startContainer,e.startOffset);if(!Co(e.endContainer)&&!Co(e.endOffset)){const{container:s,offset:a}=F0(e.endContainer,e.endOffset);return bu(t,o,s,a)}else return bu(t,o,t,o)},nr=(e,t,o,s)=>{if(ct.each(o.styles,(a,c)=>{e.setStyle(t,c,xp(a,s))}),o.styles){const a=e.getAttrib(t,"style");a&&e.setAttrib(t,"data-mce-style",a)}},Sp=(e,t,o,s,a)=>{const c=e.dom;Ut(o.onformat)&&o.onformat(t,o,s,a),nr(c,t,o,s),ct.each(o.attributes,(u,f)=>{c.setAttrib(t,f,xp(u,s))}),ct.each(o.classes,u=>{const f=xp(u,s);c.hasClass(t,f)||c.addClass(t,f)})},t_=e=>!ne(e.attributes)&&!ne(e.styles),pm=mf,J4=(e,t,o)=>{const s=e.formatter.get(o);if(s)for(let a=0;a<s.length;a++){const c=s[a];if(Nc(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},jv=(e,t,o,s,a)=>{const c=e.dom.getRoot();if(t===c)return!1;const u=e.dom.getParent(t,f=>J4(e,f,o)?!0:f.parentNode===c||!!Dd(e,f,o,s,!0));return!!Dd(e,u,o,s,a)},o_=(e,t,o)=>ya(o)&&pm(t,o.inline)||Ed(o)&&pm(t,o.block)?!0:Nc(o)?qt(t)&&e.is(t,o.selector):!1,C1=(e,t,o,s,a,c)=>{const u=o[s],f=s==="attributes";if(Ut(o.onmatch))return o.onmatch(t,o,s);if(u){if(fa(u)){for(let b=0;b<u.length;b++)if(f?e.getAttrib(t,u[b]):iw(e,t,u[b]))return!0}else for(const b in u)if(ko(u,b)){const _=f?e.getAttrib(t,b):iw(e,t,b),T=xp(u[b],c),R=to(_)||Yc(_);if(R&&to(T))continue;if(a&&R&&!o.exact||(!a||o.exact)&&!pm(_,aw(T,b)))return!1}}return!0},Dd=(e,t,o,s,a)=>{const c=e.formatter.get(o),u=e.dom;if(c&&qt(t))for(let f=0;f<c.length;f++){const b=c[f];if(o_(e.dom,t,b)&&C1(u,t,b,"attributes",a,s)&&C1(u,t,b,"styles",a,s)){const _=b.classes;if(_){for(let T=0;T<_.length;T++)if(!e.dom.hasClass(t,xp(_[T],s)))return}return b}}},e3=(e,t,o,s,a)=>{if(s)return jv(e,s,t,o,a);if(s=e.selection.getNode(),jv(e,s,t,o,a))return!0;const c=e.selection.getStart();return!!(c!==s&&jv(e,c,t,o,a))},z0=(e,t,o)=>{const s=[],a={},c=e.selection.getStart();return e.dom.getParent(c,u=>{for(let f=0;f<t.length;f++){const b=t[f];!a[b]&&Dd(e,u,b,o)&&(a[b]=!0,s.push(b))}},e.dom.getRoot()),s},_M=(e,t)=>{const o=a=>sn(a,oe.fromDom(e.getBody())),s=(a,c)=>Dd(e,a.dom,c)?B.some(c):B.none();return B.from(e.selection.getStart(!0)).bind(a=>ud(oe.fromDom(a),c=>Ei(t,u=>s(c,u)),o)).getOrNull()},k1=(e,t)=>{const o=e.formatter.get(t),s=e.dom;if(o&&e.selection.isEditable()){const a=e.selection.getStart(),c=w0(s,a);for(let u=o.length-1;u>=0;u--){const f=o[u];if(!Nc(f))return!0;for(let b=c.length-1;b>=0;b--)if(s.is(c[b],f.selector))return!0}}return!1},CM=(e,t,o)=>Zo(o,(s,a)=>{const c=qk(e,a);return e.formatter.matchNode(t,a,{},c)?s.concat([a]):s},[]),xu=Vr,kM=(e,t)=>e.importNode(t,!0),Lc=e=>{if(e){const t=new rr(e,e);for(let o=t.current();o;o=t.next())if(ht(o))return o}return null},Cf=e=>{const t=oe.fromTag("span");return Ri(t,{id:Lk,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&dn(t,oe.fromText(xu)),t},SM=e=>{const t=Lc(e);return t&&t.data.charAt(0)===xu&&t.deleteData(0,1),t},S1=(e,t,o)=>{const s=e.dom,a=e.selection;if(k5(t))hu(e,!1,oe.fromDom(t),o,!0);else{const c=a.getRng(),u=s.getParent(t,s.isBlock),f=c.startContainer,b=c.startOffset,_=c.endContainer,T=c.endOffset,R=SM(t);s.remove(t,!0),f===R&&b>0&&c.setStart(R,b-1),_===R&&T>0&&c.setEnd(R,T-1),u&&s.isEmpty(u)&&lu(oe.fromDom(u)),a.setRng(c)}},Wv=(e,t,o)=>{const s=e.dom,a=e.selection;if(t)S1(e,t,o);else if(t=uf(e.getBody(),a.getStart()),!t)for(;t=s.get(Lk);)S1(e,t,o)},EM=(e,t,o)=>{const s=e.dom,a=s.getParent(o,ze(rw,e.schema));a&&s.isEmpty(a)?o.parentNode?.replaceChild(t,o):(Hh(oe.fromDom(o)),s.isEmpty(o)?o.parentNode?.replaceChild(t,o):s.insertAfter(t,o))},E1=(e,t)=>(e.appendChild(t),t),GT=(e,t)=>{const o=gn(e,(a,c)=>E1(a,c.cloneNode(!1)),t),s=o.ownerDocument??document;return E1(o,s.createTextNode(xu))},vu=(e,t,o,s,a,c)=>{const u=e.formatter,f=e.dom,b=xt(Yr(u.get()),R=>R!==s&&!Xo(R,"removeformat")),_=CM(e,o,b);if(xt(_,R=>!w5(e,R,s)).length>0){const R=o.cloneNode(!1);return f.add(t,R),u.remove(s,a,R,c),f.remove(R),B.some(R)}else return B.none()},qv=e=>Pi(e,cd(e).replace(new RegExp(`${Us}$`)," ")),t3=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&zl(oe.fromDom(t)).each(s=>{Ka(s)?qv(s):Li(s,a=>Ka(a)).each(a=>{Ka(a)&&qv(a)})})};e.once("input",s=>{s.data&&!bp(s.data)&&(s.isComposing?e.once("compositionend",()=>{o()}):o())})},o3=(e,t,o)=>{let s;const a=e.selection,c=e.formatter.get(t);if(!c)return;const u=a.getRng();let f=u.startOffset;const _=u.startContainer.nodeValue;s=uf(e.getBody(),a.getStart());const T=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(_&&f>0&&f<_.length&&T.test(_.charAt(f))&&T.test(_.charAt(f-1))){const R=a.getBookmark();u.collapse(!0);let M=l1(e.dom,u,c);M=Ev(M),e.formatter.apply(t,o,M),a.moveToBookmark(R)}else{let R=s?Lc(s):null;(!s||R?.data!==xu)&&(s=kM(e.getDoc(),Cf(!0).dom),R=s.firstChild,u.insertNode(s),f=1,t3(e,s)),e.formatter.apply(t,o,s),a.setCursorLocation(R,f)}},n3=(e,t,o,s)=>{const a=e.dom,c=e.selection;let u=!1;const f=e.formatter.get(t);if(!f)return;const b=c.getRng(),_=b.startContainer,T=b.startOffset;let R=_;ht(_)&&(T!==_.data.length&&(u=!0),R=R.parentNode);const M=[];let $;for(;R;){if(Dd(e,R,t,o,s)){$=R;break}R.nextSibling&&(u=!0),M.push(R),R=R.parentNode}if($)if(u){const te=c.getBookmark();b.collapse(!0);let G=l1(a,b,f,{includeTrailingSpace:!0});G=Ev(G),e.formatter.remove(t,o,G,s),c.moveToBookmark(te)}else{const te=uf(e.getBody(),$),G=Me(te)?a.getParents($.parentNode,Yo,te):[],ee=Cf(!1).dom;EM(e,ee,te??$);const ye=vu(e,ee,$,t,o,s),Ce=GT([...M,...ye.toArray(),...G],ee);te&&S1(e,te,Me(te)),c.setCursorLocation(Ce,1),t3(e,ee),a.isEmpty($)&&a.remove($)}},A1=(e,t,o)=>{const s=e.selection,a=e.getBody();Wv(e,null,o),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===xu&&Wv(e,uf(a,s.getStart()),!0),(t===37||t===39)&&Wv(e,uf(a,s.getStart()),!0)},s3=e=>ht(e)&&Og(e.data,Us),AM=e=>{e.on("mouseup keydown",t=>{A1(e,t.keyCode,s3(e.selection.getRng().endContainer))})},KT=e=>{const t=Cf(!1),o=GT(e,t.dom);return{caretContainer:t,caretPosition:Ye(o,0)}},YT=(e,t)=>{const{caretContainer:o,caretPosition:s}=KT(t);return na(oe.fromDom(e),o),cs(oe.fromDom(e)),s},TM=(e,t)=>{const{caretContainer:o,caretPosition:s}=KT(t);return e.insertNode(o.dom),s},T1=(e,t)=>{if(Lo(t.dom))return!1;const o=e.schema.getTextInlineElements();return ko(o,jo(t))&&!Lo(t.dom)&&!Gm(t.dom)},yu=["fontWeight","fontStyle","color","fontSize","fontFamily"],DM=e=>se(e.styles)&&In(Yr(e.styles),t=>Wo(yu,t)),OM=e=>An(e,t=>ya(t)&&t.inline==="span"&&DM(t)),XT=(e,t)=>{const o=e.get(t);return ne(o)?OM(o):B.none()},QT=(e,t)=>tc(t,Ye.fromRangeStart(e)).isNone(),JT=(e,t)=>ol(t,Ye.fromRangeEnd(e)).exists(o=>!Ls(o.getNode())||ol(t,o).isSome())===!1,e6=e=>t=>IC(t)&&e.isEditable(t),RM=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return QT(o,t[0])&&JT(o,t[0])?t:[];{const s=Kn(t).filter(u=>QT(o,u)).toArray(),a=qs(t).filter(u=>JT(o,u)).toArray(),c=t.slice(1,-1);return s.concat(c).concat(a)}},NM=e=>xt(RM(e),e6(e.dom)),t6=e=>xt(e.getSelectedBlocks(),e6(e.dom)),r3=ct.each,a3=e=>qt(e)&&!Rc(e)&&!Lo(e)&&!Gm(e),o6=(e,t)=>{for(let o=e;o;o=o[t]){if(ht(o)&&Or(o.data))return e;if(qt(o)&&!Rc(o))return o}return e},n6=(e,t,o)=>{const s=Jw(e),a=$o(t)&&e.dom.isEditable(t),c=$o(o)&&e.dom.isEditable(o);if(a&&c){const u=o6(t,"previousSibling"),f=o6(o,"nextSibling");if(s.compare(u,f)){for(let b=u.nextSibling;b&&b!==f;){const _=b;b=b.nextSibling,u.appendChild(_)}return e.dom.remove(f),ct.each(ct.grep(f.childNodes),b=>{u.appendChild(b)}),u}}return o},s6=(e,t,o,s)=>{if(s&&t.merge_siblings!==!1){const a=n6(e,ug(s),s)??s;n6(e,a,ug(a,!0))}},MM=(e,t,o)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";r3(e.select(s,o),a=>{a3(a)&&e.isEditable(a)&&r3(t.styles,(c,u)=>{e.setStyle(a,u,"")})})}},pg=(e,t,o)=>{r3(e.childNodes,s=>{a3(s)&&(t(s)&&o(s),s.hasChildNodes()&&pg(s,t,o))})},BM=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},r6=(e,t)=>o=>!!(o&&iw(e,o,t)),n_=(e,t,o)=>s=>{e.setStyle(s,t,o),s.getAttribute("style")===""&&s.removeAttribute("style"),BM(e,s)},Ep=ll.generate([{keep:[]},{rename:["name"]},{removed:[]}]),i3=/^(src|href|style)$/,l3=ct.each,s_=mf,PM=e=>/^(TR|TH|TD)$/.test(e.nodeName),a6=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),i6=(e,t,o)=>{let s=t[o?"startContainer":"endContainer"],a=t[o?"startOffset":"endOffset"];if(qt(s)){const c=s.childNodes.length-1;!o&&a&&a--,s=s.childNodes[a>c?c:a]}return ht(s)&&o&&a>=s.data.length&&(s=new rr(s,e.getBody()).next()||s),ht(s)&&!o&&a===0&&(s=new rr(s,e.getBody()).prev()||s),s},l6=(e,t)=>{const o=t?"firstChild":"lastChild",s=e[o];return PM(e)&&s?e.nodeName==="TR"&&s[o]||s:e},c3=(e,t,o,s)=>{const a=e.create(o,s);return t.parentNode?.insertBefore(a,t),a.appendChild(t),a},c6=(e,t,o,s,a)=>{const c=oe.fromDom(t),u=oe.fromDom(e.create(s,a)),f=o?ab(c):Ss(c);return Qs(u,f),o?(na(c,u),hc(u,c)):(Hl(c,u),dn(u,c)),u.dom},IM=(e,t)=>t.links&&e.nodeName==="A",d6=(e,t,o)=>{const s=t.parentNode;let a;const c=e.dom,u=si(e);Ed(o)&&s===c.getRoot()&&(!o.list_block||!s_(t,o.list_block))&&Ge(Ot(t.childNodes),f=>{r1(e,u,f.nodeName.toLowerCase())?a?a.appendChild(f):(a=c3(c,f,u),c.setAttribs(a,r0(e))):a=null}),!(C5(o)&&!s_(o.inline,t))&&c.remove(t,!0)},u6=(e,t,o)=>E(e)?{name:t,value:null}:{name:e,value:xp(t,o)},m6=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},g6=(e,t,o,s,a)=>{let c=!1;l3(o.styles,(u,f)=>{const{name:b,value:_}=u6(f,u,s),T=aw(_,b);(o.remove_similar||nt(_)||!qt(a)||s_(iw(e,a,b),T))&&e.setStyle(t,b,""),c=!0}),c&&m6(e,t)},LM=(e,t,o)=>{t==="removeformat"?Ge(t6(e.selection),s=>{Ge(yu,a=>e.dom.setStyle(s,a,"")),m6(e.dom,s)}):XT(e.formatter,t).each(s=>{Ge(t6(e.selection),a=>g6(e.dom,a,s,o,null))})},d3=(e,t,o,s,a)=>{const c=e.dom,u=Jw(e),f=e.schema;if(ya(t)&&yh(f,t.inline)&&Ku(f,s)&&s.parentElement===e.getBody())return d6(e,s,t),Ep.removed();if(!t.ceFalseOverride&&s&&c.getContentEditableParent(s)==="false"||s&&!o_(c,s,t)&&!IM(s,t))return Ep.keep();const b=s,_=t.preserve_attributes;if(ya(t)&&t.remove==="all"&&ne(_)){const T=xt(c.getAttribs(b),R=>Wo(_,R.name.toLowerCase()));if(c.removeAllAttribs(b),Ge(T,R=>c.setAttrib(b,R.name,R.value)),T.length>0)return Ep.rename("span")}if(t.remove!=="all"){g6(c,b,t,o,a),l3(t.attributes,(R,M)=>{const{name:$,value:te}=u6(M,R,o);if(t.remove_similar||nt(te)||!qt(a)||s_(c.getAttrib(a,$),te)){if($==="class"){const G=c.getAttrib(b,$);if(G){let ee="";if(Ge(G.split(/\s+/),ye=>{/mce\-\w+/.test(ye)&&(ee+=(ee?" ":"")+ye)}),ee){c.setAttrib(b,$,ee);return}}}if(i3.test($)&&b.removeAttribute("data-mce-"+$),$==="style"&&xl(["li"])(b)&&c.getStyle(b,"list-style-type")==="none"){b.removeAttribute($),c.setStyle(b,"list-style-type","none");return}$==="class"&&b.removeAttribute("className"),b.removeAttribute($)}}),l3(t.classes,R=>{R=xp(R,o),(!qt(a)||c.hasClass(a,R))&&c.removeClass(b,R)});const T=c.getAttribs(b);for(let R=0;R<T.length;R++){const M=T[R].nodeName;if(!u.isAttributeInternal(M))return Ep.keep()}}return t.remove!=="none"?(d6(e,b,t),Ep.removed()):Ep.keep()},FM=(e,t,o,s,a)=>{let c;return t.parentNode&&Ge(w0(e.dom,t.parentNode).reverse(),u=>{if(!c&&qt(u)&&u.id!=="_start"&&u.id!=="_end"){const f=Dd(e,u,o,s,a);f&&f.split!==!1&&(c=u)}}),c},zM=(e,t,o,s)=>d3(e,t,o,s,s).fold(pt(s),a=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,a)),pt(null)),VM=(e,t,o,s,a,c,u,f)=>{let b,_;const T=e.dom;if(o){const R=o.parentNode;for(let M=s.parentNode;M&&M!==R;M=M.parentNode){let $=T.clone(M,!1);for(let te=0;te<t.length&&($=zM(e,t[te],f,$),$!==null);te++);$&&(b&&$.appendChild(b),_||(_=$),b=$)}(!u.mixed||!T.isBlock(o))&&(s=T.split(o,s)??s),b&&_&&(a.parentNode?.insertBefore(b,a),_.appendChild(a),ya(u)&&s6(e,u,f,b))}return s},HM=(e,t,o,s,a)=>{const c=e.formatter.get(t),u=c[0],f=e.dom,b=e.selection,_=G=>{const ee=FM(e,G,t,o,a);return VM(e,c,ee,G,G,!0,u,o)},T=G=>Rc(G)&&qt(G)&&(G.id==="_start"||G.id==="_end"),R=G=>In(c,ee=>Gv(e,ee,o,G,G)),M=G=>{const ee=Ot(G.childNodes),Ce=R(G)||In(c,it=>o_(f,G,it)),Te=G.parentNode;if(!Ce&&Me(Te)&&lw(u)&&R(Te),u.deep&&ee.length)for(let it=0;it<ee.length;it++)M(ee[it]);Ge(["underline","line-through","overline"],it=>{qt(G)&&e.dom.getStyle(G,"text-decoration")===it&&G.parentNode&&y5(f,G.parentNode)===it&&Gv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:it}},void 0,G)})},$=G=>{const ee=f.get(G?"_start":"_end");if(ee){let ye=ee[G?"firstChild":"lastChild"];return T(ye)&&(ye=ye[G?"firstChild":"lastChild"]),ht(ye)&&ye.data.length===0&&(ye=G?ee.previousSibling||ee.nextSibling:ee.nextSibling||ee.previousSibling),f.remove(ee,!0),ye}else return null},te=G=>{let ee,ye,Ce=l1(f,G,c,{includeTrailingSpace:G.collapsed});if(u.split){if(Ce=Ev(Ce),ee=i6(e,Ce,!0),ye=i6(e,Ce),ee!==ye){if(ee=l6(ee,!0),ye=l6(ye,!1),a6(f,ee,ye)){const Xe=B.from(ee.firstChild).getOr(ee);_(c6(f,Xe,!0,"span",{id:"_start","data-mce-type":"bookmark"})),$(!0);return}if(a6(f,ye,ee)){const Xe=B.from(ye.lastChild).getOr(ye);_(c6(f,Xe,!1,"span",{id:"_end","data-mce-type":"bookmark"})),$(!1);return}ee=c3(f,ee,"span",{id:"_start","data-mce-type":"bookmark"}),ye=c3(f,ye,"span",{id:"_end","data-mce-type":"bookmark"});const Te=f.createRng();Te.setStartAfter(ee),Te.setEndBefore(ye),Cv(f,Te,Xe=>{Ge(Xe,it=>{!Rc(it)&&!Rc(it.parentNode)&&_(it)})}),_(ee),_(ye),ee=$(!0),ye=$()}else ee=ye=_(ee);Ce.startContainer=ee.parentNode?ee.parentNode:ee,Ce.startOffset=f.nodeIndex(ee),Ce.endContainer=ye.parentNode?ye.parentNode:ye,Ce.endOffset=f.nodeIndex(ye)+1}Cv(f,Ce,Te=>{Ge(Te,M)})};if(s){if(yv(s)){const G=f.createRng();G.setStartBefore(s),G.setEndAfter(s),te(G)}else te(s);lA(e,t,s,o);return}!b.isCollapsed()||!ya(u)||s1(e).length?(b5(e,()=>zk(e,te),G=>ya(u)&&e3(e,t,o,G)),e.nodeChanged()):n3(e,t,o,a),LM(e,t,o),lA(e,t,s,o)},f6=(e,t,o,s,a)=>{(s||e.selection.isEditable())&&HM(e,t,o,s,a)},p6=(e,t,o,s)=>d3(e,t,o,s).fold(()=>B.some(s),a=>B.some(e.dom.rename(s,a)),B.none),Gv=(e,t,o,s,a)=>d3(e,t,o,s,a).fold(Do,c=>(e.dom.rename(s,c),!0),Yo),h6=["fontsize","subscript","superscript"],$M=["strikethrough",...h6],UM=(e,t,o)=>Me(e.matchNode(t.dom,o,{},o==="fontsize")),u3=(e,t)=>In(h6,o=>UM(e,t,o)),ZM=e=>Wo($M,e),jM=(e,t,o,s,a)=>{const c=Ya(t,e).filter(fr);return Wc(c,o).map(u=>{const f=c[u],b=s(f),_=[...a(id(f)).toArray(),...dr(c.slice(0,u),T=>o(T)?a(T).toArray():[id(T)])];return{container:f,innerWrapper:b,outerWrappers:_}})},WM=(e,t,o,s)=>{Ge(rn(e),a=>{fr(a)&&o(a)&&s(a).isNone()&&Ni(a)}),Ge(rn(e),a=>dn(t,a)),hc(e,t)},b6=(e,t)=>{if(t.length>0){const o=t[t.length-1];na(e,o);const s=Zo(t.slice(0,t.length-1),(a,c)=>(dn(a,c),c),o);dn(s,e)}},qM=(e,t,o,s,a)=>{const c=u=>sn(oe.fromDom(e.getRoot()),u)||e.isBlock(u.dom);Ge(t,u=>{jM(c,u,o,s,a).each(({container:f,innerWrapper:b,outerWrappers:_})=>{e.split(f.dom,u.dom),WM(u,b,o,a),b6(u,_)})})},x6=(e,t,o)=>{const s=f=>Me(Dd(e,f.dom,t)),a=f=>{const b=oe.fromTag(jo(f)),_=Dd(e,f.dom,t,{});return Me(_)&&t_(_)&&Sp(e,b.dom,_),b},c=f=>{const b=Dd(e,f.dom,t,{});return Me(b)?p6(e,b,{},f.dom).map(oe.fromDom):B.some(f)},u=_f(e.selection.getRng());qM(e.dom,o,s,a,c),e.selection.setRng(fm(u))},GM=(e,t)=>dr(t,o=>{const s=Gi(o,a=>u3(e,a));return u3(e,o)?[o,...s]:s}),KM=(e,t,o)=>{if(ZM(t)){const s=GM(e.formatter,o);x6(e,"strikethrough",s)}},YM=(e,t)=>{const o=xt(t,s=>u3(e.formatter,s));x6(e,"strikethrough",o)},v6=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),XM=e=>e.name==="summary",QM=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},y6=(e,t,o,s)=>{const a=o.name;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.name===a){const b=s.nodes[a];b?b.nodes.push(o):s.nodes[a]={filter:f,nodes:[o]}}}if(o.attributes)for(let c=0,u=t.length;c<u;c++){const f=t[c],b=f.name;if(b in o.attributes.map){const _=s.attributes[b];_?_.nodes.push(o):s.attributes[b]={filter:f,nodes:[o]}}}},w6=(e,t,o)=>{const s={nodes:{},attributes:{}};return o.firstChild&&QM(o,a=>{y6(e,t,a,s)}),s},m3=(e,t)=>{const o=(s,a)=>{on(s,c=>{const u=Ot(c.nodes);Ge(c.filter.callbacks,f=>{for(let b=u.length-1;b>=0;b--){const _=u[b];(!(a?_.attr(c.filter.name)!==void 0:_.name===c.filter.name)||to(_.parent))&&u.splice(b,1)}u.length>0&&f(u,c.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},g3=(e,t,o,s={})=>{const a=w6(e,t,o);m3(a,s)},r_=(e,t,o,s)=>{if((e.pad_empty_with_br||t.insert)&&o(s)){const c=new yi("br",1);t.insert&&c.attr("data-mce-bogus","1"),s.empty().append(c)}else s.empty().append(new yi("#text",3)).value=Us},JM=e=>f3(e,"#text")&&e?.firstChild?.value===Us,f3=(e,t)=>{const o=e?.firstChild;return Me(o)&&o===e.lastChild&&o.name===t},eB=(e,t)=>e.getElementRule(t.name)?.paddEmpty===!0,Kv=(e,t,o,s)=>s.isEmpty(t,o,a=>eB(e,a)),tB=(e,t)=>Me(e)&&(t(e)||e.name==="br"),oB=e=>{let t;for(let o=e;o;o=o.parent){const s=o.attr("contenteditable");if(s==="false")break;s==="true"&&(t=o)}return B.from(t)},nB=e=>{const t=[];for(let o=e.firstChild;Me(o);o=o.walk())t.push(o);return t},p3=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const a of s)o&&!t.isValidChild(o.name,a.name)&&p3(a,t,o);e.unwrap()}},a_=(e,t,o,s=To)=>{const a=t.getTextBlockElements(),c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),f=ct.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),b=new Set,_=T=>T!==o&&!f[T.name];for(let T=0;T<e.length;T++){const R=e[T];let M,$,te;if(!R.parent||b.has(R))continue;if(a[R.name]&&R.parent.name==="li"){let ee=R.next;for(;ee&&a[ee.name];){ee.name="li",b.add(ee),R.parent.insert(ee,R.parent);ee=ee.next}R.unwrap();continue}const G=[R];for(M=R.parent;M&&!t.isValidChild(M.name,R.name)&&_(M);M=M.parent)G.push(M);if(M&&G.length>1)if(b3(t,R,M))p3(R,t);else{G.reverse(),$=G[0].clone(),s($);let ee=$;for(let ye=0;ye<G.length-1;ye++){t.isValidChild(ee.name,G[ye].name)&&ye>0?(te=G[ye].clone(),s(te),ee.append(te)):te=ee;for(let Ce=G[ye].firstChild;Ce&&Ce!==G[ye+1];){const Te=Ce.next;te.append(Ce),Ce=Te}ee=te}Kv(t,c,u,$)?M.insert(R,G[0],!0):(M.insert($,G[0],!0),M.insert(R,$)),M=G[0],(Kv(t,c,u,M)||f3(M,"br"))&&M.empty().remove()}else if(R.parent){if(R.name==="li"){let ee=R.prev;if(ee&&(ee.name==="ul"||ee.name==="ol")){ee.append(R);continue}if(ee=R.next,ee&&(ee.name==="ul"||ee.name==="ol")&&ee.firstChild){ee.insert(R,ee.firstChild,!0);continue}const ye=new yi("ul",1);s(ye),R.wrap(ye);continue}if(t.isValidChild(R.parent.name,"div")&&t.isValidChild("div",R.name)){const ee=new yi("div",1);s(ee),R.wrap(ee)}else p3(R,t)}}},h3=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},b3=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&h3(o,"a")?!0:XM(o)&&v6(t)?!(o?.firstChild===t&&o?.lastChild===t):!1:!1,_6=(e,t,o,s)=>{const a=document.createRange();return a.setStart(e,t),a.setEnd(o,s),a},sB=e=>{const t=Ye.fromRangeStart(e),o=Ye.fromRangeEnd(e),s=e.commonAncestorContainer;return kd(!1,s,o).map(a=>!ra(t,o,s)&&ra(t,a,s)?_6(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},i_=e=>e.collapsed?e:sB(e),C6=ct.explode,k6=()=>{const e={};return{addFilter:(a,c)=>{Ge(C6(a),u=>{ko(e,u)||(e[u]={name:u,callbacks:[]}),e[u].callbacks.push(c)})},getFilters:()=>_s(e),removeFilter:(a,c)=>{Ge(C6(a),u=>{if(ko(e,u))if(Me(c)){const f=e[u],b=xt(f.callbacks,_=>_!==c);b.length>0?f.callbacks=b:delete e[u]}else delete e[u]})}}},rB=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),aB=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),iB=(e,t)=>{Ge(t,o=>{e.attr(o,null)})},lB=(e,t,o)=>{e.addNodeFilter("font",s=>{Ge(s,a=>{const c=t.parse(a.attr("style")),u=a.attr("color"),f=a.attr("face"),b=a.attr("size");u&&(c.color=u),f&&(c["font-family"]=f),b&&Lu(b).each(_=>{c["font-size"]=o[_-1]}),a.name="span",a.attr("style",t.serialize(c)),iB(a,["color","face","size"])})})},x3=(e,t,o)=>{e.addNodeFilter("strike",s=>{const a=t.type!=="html4";Ge(s,c=>{if(a)c.name="s";else{const u=o.parse(c.attr("style"));u["text-decoration"]="line-through",c.name="span",c.attr("style",o.serialize(u))}})})},cB=(e,t,o)=>{const s=bd();t.convert_fonts_to_spans&&lB(e,s,ct.explode(t.font_size_legacy_values??"")),x3(e,o,s)},dB=(e,t,o)=>{t.inline_styles&&cB(e,t,o)},uB=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),S6=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},D1=e=>{try{return decodeURIComponent(e)}catch{return e}},l_=e=>{const[t,...o]=e.split(","),s=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(a){const c=a[2]===";base64",u=D1(s),f=c?S6(u):u;return B.some({type:a[1],data:f,base64Encoded:c})}else return B.none()},E6=(e,t,o=!0)=>{let s=t;if(o)try{s=atob(t)}catch{return B.none()}const a=new Uint8Array(s.length);for(let c=0;c<a.length;c++)a[c]=s.charCodeAt(c);return B.some(new Blob([a],{type:e}))},V0=e=>new Promise((t,o)=>{l_(e).bind(({type:s,data:a,base64Encoded:c})=>E6(s,a,c)).fold(()=>o("Invalid data URI"),t)}),mB=e=>$s(e,"blob:")?uB(e):$s(e,"data:")?V0(e):Promise.reject("Unknown URI format"),c_=e=>new Promise((t,o)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{o(s.error?.message)},s.readAsDataURL(e)});let v3=0;const gB=e=>"blobid"+v3++,y3=(e,t,o)=>l_(e).bind(({data:s,type:a,base64Encoded:c})=>{if(t&&!c)return B.none();{const u=c?s:btoa(s);return o(u,a)}}),Yv=(e,t,o)=>{const s=e.create(gB(),t,o);return e.add(s),s},A6=(e,t,o=!1)=>y3(t,o,(s,a)=>B.from(e.getByData(s,a)).orThunk(()=>E6(a,s).map(c=>Yv(e,c,s)))),fB=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if($s(t,"blob:")){const s=e.getByUri(t);return Me(s)?Promise.resolve(s):mB(t).then(a=>c_(a).then(c=>y3(c,!1,u=>B.some(Yv(e,a,u))).getOrThunk(o)))}else return $s(t,"data:")?A6(e,t).fold(o,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},pB=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,hB=e=>B.from(e.match(pB)).bind(t=>cn(t,1)).map(t=>$s(t,"www.")?t.substring(4):t),d_=(e,t)=>{B.from(e.attr("src")).bind(hB).forall(o=>!Wo(t,o))&&e.attr("sandbox","")},w3=(e,t)=>$s(e,`${t}/`),bB=e=>Co(e)?"iframe":w3(e,"image")?"img":w3(e,"video")?"video":w3(e,"audio")?"audio":"iframe",xB=({type:e,src:t,width:o,height:s}={},a,c)=>{const u=bB(e),f=new yi(u,1);return f.attr(u==="audio"?{src:t}:{src:t,width:o,height:s}),(u==="audio"||u==="video")&&f.attr("controls",""),u==="iframe"&&a&&d_(f,c),f},vB=e=>Me(e.attr("data-mce-bogus")),yB=e=>e.attr("src")===Bo.transparentSrc||Me(e.attr("data-mce-placeholder")),wB=(e,t)=>{const{blob_cache:o}=t;if(o){const s=a=>{const c=a.attr("src");yB(a)||vB(a)||to(c)||A6(o,c,!0).each(u=>{a.attr("src",u.blobUri())})};e.addAttributeFilter("src",a=>Ge(a,s))}},_B=(e,t)=>{const o=e.schema;e.addAttributeFilter("href",u=>{let f=u.length;const b=T=>T.split(" ").filter(M=>M.length>0).concat(["noopener"]).sort().join(" "),_=T=>{const R=T?ct.trim(T):"";return/\b(noopener)\b/g.test(R)?R:b(R)};if(!t.allow_unsafe_link_target)for(;f--;){const T=u[f];T.name==="a"&&T.attr("target")==="_blank"&&T.attr("rel",_(T.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",u=>{let f=u.length,b,_,T,R;for(;f--;)if(R=u[f],R.name==="a"&&R.firstChild&&!R.attr("href"))for(T=R.parent,b=R.lastChild;b&&T;)_=b.prev,T.insert(b,R),b=_}),t.fix_list_elements&&e.addNodeFilter("ul,ol",u=>{let f=u.length,b,_;for(;f--;)if(b=u[f],_=b.parent,_&&(_.name==="ul"||_.name==="ol"))if(b.prev&&b.prev.name==="li")b.prev.append(b);else{const T=new yi("li",1);T.attr("style","list-style-type: none"),b.wrap(T)}});const s=o.getValidClasses();t.validate&&s&&e.addAttributeFilter("class",u=>{let f=u.length;for(;f--;){const b=u[f],_=b.attr("class")??"",T=ct.explode(_," ");let R="";for(let M=0;M<T.length;M++){const $=T[M];let te=!1,G=s["*"];G&&G[$]&&(te=!0),G=s[b.name],!te&&G&&G[$]&&(te=!0),te&&(R&&(R+=" "),R+=$)}R.length||(R=null),b.attr("class",R)}}),wB(e,t);const a=t.sandbox_iframes??!1,c=Nl(t.sandbox_iframes_exclusions??[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",u=>Ge(u,f=>{f.replace(xB({type:f.attr("type"),src:f.name==="object"?f.attr("data"):f.attr("src"),width:f.attr("width"),height:f.attr("height")},a,c))})),a&&e.addNodeFilter("iframe",u=>Ge(u,f=>d_(f,c)))};const{entries:T6,setPrototypeOf:D6,isFrozen:CB,getPrototypeOf:kB,getOwnPropertyDescriptor:O6}=Object;let{freeze:nc,seal:wu,create:R6}=Object,{apply:Xv,construct:_3}=typeof Reflect<"u"&&Reflect;nc||(nc=function(t){return t}),wu||(wu=function(t){return t}),Xv||(Xv=function(t,o,s){return t.apply(o,s)}),_3||(_3=function(t,o){return new t(...o)});const u_=sc(Array.prototype.forEach),SB=sc(Array.prototype.lastIndexOf),N6=sc(Array.prototype.pop),Qv=sc(Array.prototype.push),EB=sc(Array.prototype.splice),m_=sc(String.prototype.toLowerCase),C3=sc(String.prototype.toString),M6=sc(String.prototype.match),Jv=sc(String.prototype.replace),AB=sc(String.prototype.indexOf),TB=sc(String.prototype.trim),_u=sc(Object.prototype.hasOwnProperty),Sl=sc(RegExp.prototype.test),e2=DB(TypeError);function sc(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return Xv(e,t,s)}}function DB(e){return function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return _3(e,o)}}function ms(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m_;D6&&D6(e,null);let s=t.length;for(;s--;){let a=t[s];if(typeof a=="string"){const c=o(a);c!==a&&(CB(t)||(t[s]=c),a=c)}e[a]=!0}return e}function t2(e){for(let t=0;t<e.length;t++)_u(e,t)||(e[t]=null);return e}function hg(e){const t=R6(null);for(const[o,s]of T6(e))_u(e,o)&&(Array.isArray(s)?t[o]=t2(s):s&&typeof s=="object"&&s.constructor===Object?t[o]=hg(s):t[o]=s);return t}function kf(e,t){for(;e!==null;){const s=O6(e,t);if(s){if(s.get)return sc(s.get);if(typeof s.value=="function")return sc(s.value)}e=kB(e)}function o(){return null}return o}const o2=nc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),O1=nc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Od=nc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R1=nc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),n2=nc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),B6=nc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H0=nc(["#text"]),k3=nc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),S3=nc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$0=nc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),s2=nc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Hr=wu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),OB=wu(/<%[\w\W]*|[\w\W]*%>/gm),RB=wu(/\$\{[\w\W]*/gm),U0=wu(/^data-[\-\w.\u00B7-\uFFFF]+$/),N1=wu(/^aria-[\-\w]+$/),Ap=wu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),NB=wu(/^(?:\w+script|data):/i),E3=wu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),g_=wu(/^html$/i),P6=wu(/^[a-z][.\w]*(-[.\w]+)+$/i);var A3=Object.freeze({__proto__:null,ARIA_ATTR:N1,ATTR_WHITESPACE:E3,CUSTOM_ELEMENT:P6,DATA_ATTR:U0,DOCTYPE_NAME:g_,ERB_EXPR:OB,IS_ALLOWED_URI:Ap,IS_SCRIPT_OR_DATA:NB,MUSTACHE_EXPR:Hr,TMPLIT_EXPR:RB});const r2={element:1,text:3,progressingInstruction:7,comment:8,document:9},MB=function(){return typeof window>"u"?null:window},T3=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(s=o.getAttribute(a));const c="dompurify"+(s?"#"+s:"");try{return t.createPolicy(c,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},f_=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function D3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:MB();const t=vn=>D3(vn);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==r2.document||!e.Element)return t.isSupported=!1,t;let{document:o}=e;const s=o,a=s.currentScript,{DocumentFragment:c,HTMLTemplateElement:u,Node:f,Element:b,NodeFilter:_,NamedNodeMap:T=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:R,DOMParser:M,trustedTypes:$}=e,te=b.prototype,G=kf(te,"cloneNode"),ee=kf(te,"remove"),ye=kf(te,"nextSibling"),Ce=kf(te,"childNodes"),Te=kf(te,"parentNode");if(typeof u=="function"){const vn=o.createElement("template");vn.content&&vn.content.ownerDocument&&(o=vn.content.ownerDocument)}let Xe,it="";const{implementation:It,createNodeIterator:Xt,createDocumentFragment:Ke,getElementsByTagName:Ze}=o,{importNode:Qe}=s;let Nt=f_();t.isSupported=typeof T6=="function"&&typeof Te=="function"&&It&&It.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:po,ERB_EXPR:Eo,TMPLIT_EXPR:bn,DATA_ATTR:qn,ARIA_ATTR:xs,IS_SCRIPT_OR_DATA:Ps,ATTR_WHITESPACE:da,CUSTOM_ELEMENT:Bd}=A3;let{IS_ALLOWED_URI:zt}=A3,so=null;const Zn=ms({},[...o2,...O1,...Od,...n2,...H0]);let Fn=null;const eo=ms({},[...k3,...S3,...$0,...s2]);let kt=Object.seal(R6(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Lt=null,co=null,Mo=!0,ts=!0,vs=!1,Pd=!0,lc=!1,wm=!0,_m=!1,cc=!1,Dl=!1,Ru=!1,mx=!1,gx=!1,CC=!0,ho=!1;const wn="user-content-";let Er=!0,Ts=!1,as={},hr=null;const dc=ms({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let al=null;const Id=ms({},["audio","video","img","source","image","track"]);let Pf=null;const kC=ms({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),SC="http://www.w3.org/1998/Math/MathML",F2="http://www.w3.org/2000/svg",Cg="http://www.w3.org/1999/xhtml";let fx=Cg,IE=!1,EC=null;const EH=ms({},[SC,F2,Cg],C3);let LE=ms({},["mi","mo","mn","ms","mtext"]),FE=ms({},["annotation-xml"]);const AH=ms({},["title","style","font","a","script"]);let AC=null;const px=["application/xhtml+xml","text/html"],Z7="text/html";let Be=null,Fe=null;const Ht=o.createElement("form"),Dt=function(je){return je instanceof RegExp||je instanceof Function},Ao=function(){let je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Fe&&Fe===je)){if((!je||typeof je!="object")&&(je={}),je=hg(je),AC=px.indexOf(je.PARSER_MEDIA_TYPE)===-1?Z7:je.PARSER_MEDIA_TYPE,Be=AC==="application/xhtml+xml"?C3:m_,so=_u(je,"ALLOWED_TAGS")?ms({},je.ALLOWED_TAGS,Be):Zn,Fn=_u(je,"ALLOWED_ATTR")?ms({},je.ALLOWED_ATTR,Be):eo,EC=_u(je,"ALLOWED_NAMESPACES")?ms({},je.ALLOWED_NAMESPACES,C3):EH,Pf=_u(je,"ADD_URI_SAFE_ATTR")?ms(hg(kC),je.ADD_URI_SAFE_ATTR,Be):kC,al=_u(je,"ADD_DATA_URI_TAGS")?ms(hg(Id),je.ADD_DATA_URI_TAGS,Be):Id,hr=_u(je,"FORBID_CONTENTS")?ms({},je.FORBID_CONTENTS,Be):dc,Lt=_u(je,"FORBID_TAGS")?ms({},je.FORBID_TAGS,Be):hg({}),co=_u(je,"FORBID_ATTR")?ms({},je.FORBID_ATTR,Be):hg({}),as=_u(je,"USE_PROFILES")?je.USE_PROFILES:!1,Mo=je.ALLOW_ARIA_ATTR!==!1,ts=je.ALLOW_DATA_ATTR!==!1,vs=je.ALLOW_UNKNOWN_PROTOCOLS||!1,Pd=je.ALLOW_SELF_CLOSE_IN_ATTR!==!1,lc=je.SAFE_FOR_TEMPLATES||!1,wm=je.SAFE_FOR_XML!==!1,_m=je.WHOLE_DOCUMENT||!1,Ru=je.RETURN_DOM||!1,mx=je.RETURN_DOM_FRAGMENT||!1,gx=je.RETURN_TRUSTED_TYPE||!1,Dl=je.FORCE_BODY||!1,CC=je.SANITIZE_DOM!==!1,ho=je.SANITIZE_NAMED_PROPS||!1,Er=je.KEEP_CONTENT!==!1,Ts=je.IN_PLACE||!1,zt=je.ALLOWED_URI_REGEXP||Ap,fx=je.NAMESPACE||Cg,LE=je.MATHML_TEXT_INTEGRATION_POINTS||LE,FE=je.HTML_INTEGRATION_POINTS||FE,kt=je.CUSTOM_ELEMENT_HANDLING||{},je.CUSTOM_ELEMENT_HANDLING&&Dt(je.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(kt.tagNameCheck=je.CUSTOM_ELEMENT_HANDLING.tagNameCheck),je.CUSTOM_ELEMENT_HANDLING&&Dt(je.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(kt.attributeNameCheck=je.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),je.CUSTOM_ELEMENT_HANDLING&&typeof je.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(kt.allowCustomizedBuiltInElements=je.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),lc&&(ts=!1),mx&&(Ru=!0),as&&(so=ms({},H0),Fn=[],as.html===!0&&(ms(so,o2),ms(Fn,k3)),as.svg===!0&&(ms(so,O1),ms(Fn,S3),ms(Fn,s2)),as.svgFilters===!0&&(ms(so,Od),ms(Fn,S3),ms(Fn,s2)),as.mathMl===!0&&(ms(so,n2),ms(Fn,$0),ms(Fn,s2))),je.ADD_TAGS&&(so===Zn&&(so=hg(so)),ms(so,je.ADD_TAGS,Be)),je.ADD_ATTR&&(Fn===eo&&(Fn=hg(Fn)),ms(Fn,je.ADD_ATTR,Be)),je.ADD_URI_SAFE_ATTR&&ms(Pf,je.ADD_URI_SAFE_ATTR,Be),je.FORBID_CONTENTS&&(hr===dc&&(hr=hg(hr)),ms(hr,je.FORBID_CONTENTS,Be)),Er&&(so["#text"]=!0),_m&&ms(so,["html","head","body"]),so.table&&(ms(so,["tbody"]),delete Lt.tbody),je.TRUSTED_TYPES_POLICY){if(typeof je.TRUSTED_TYPES_POLICY.createHTML!="function")throw e2('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof je.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw e2('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Xe=je.TRUSTED_TYPES_POLICY,it=Xe.createHTML("")}else Xe===void 0&&(Xe=T3($,a)),Xe!==null&&typeof it=="string"&&(it=Xe.createHTML(""));nc&&nc(je),Fe=je}},Pn=ms({},[...O1,...Od,...R1]),Gr=ms({},[...n2,...B6]),If=function(je){let ro=Te(je);(!ro||!ro.tagName)&&(ro={namespaceURI:fx,tagName:"template"});const tn=m_(je.tagName),Pa=m_(ro.tagName);return EC[je.namespaceURI]?je.namespaceURI===F2?ro.namespaceURI===Cg?tn==="svg":ro.namespaceURI===SC?tn==="svg"&&(Pa==="annotation-xml"||LE[Pa]):!!Pn[tn]:je.namespaceURI===SC?ro.namespaceURI===Cg?tn==="math":ro.namespaceURI===F2?tn==="math"&&FE[Pa]:!!Gr[tn]:je.namespaceURI===Cg?ro.namespaceURI===F2&&!FE[Pa]||ro.namespaceURI===SC&&!LE[Pa]?!1:!Gr[tn]&&(AH[tn]||!Pn[tn]):!!(AC==="application/xhtml+xml"&&EC[je.namespaceURI]):!1},kg=function(je){Qv(t.removed,{element:je});try{Te(je).removeChild(je)}catch{ee(je)}},TC=function(je,ro){try{Qv(t.removed,{attribute:ro.getAttributeNode(je),from:ro})}catch{Qv(t.removed,{attribute:null,from:ro})}if(ro.removeAttribute(je),je==="is")if(Ru||mx)try{kg(ro)}catch{}else try{ro.setAttribute(je,"")}catch{}},TH=function(je){let ro=null,tn=null;if(Dl)je="<remove></remove>"+je;else{const il=M6(je,/^[\r\n\t ]+/);tn=il&&il[0]}AC==="application/xhtml+xml"&&fx===Cg&&(je='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+je+"</body></html>");const Pa=Xe?Xe.createHTML(je):je;if(fx===Cg)try{ro=new M().parseFromString(Pa,AC)}catch{}if(!ro||!ro.documentElement){ro=It.createDocument(fx,"template",null);try{ro.documentElement.innerHTML=IE?it:Pa}catch{}}const Vc=ro.body||ro.documentElement;return je&&tn&&Vc.insertBefore(o.createTextNode(tn),Vc.childNodes[0]||null),fx===Cg?Ze.call(ro,_m?"html":"body")[0]:_m?ro.documentElement:Vc},DH=function(je){return Xt.call(je.ownerDocument||je,je,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT|_.SHOW_PROCESSING_INSTRUCTION|_.SHOW_CDATA_SECTION,null)},FL=function(je){return je instanceof R&&(typeof je.nodeName!="string"||typeof je.textContent!="string"||typeof je.removeChild!="function"||!(je.attributes instanceof T)||typeof je.removeAttribute!="function"||typeof je.setAttribute!="function"||typeof je.namespaceURI!="string"||typeof je.insertBefore!="function"||typeof je.hasChildNodes!="function")},OH=function(je){return typeof f=="function"&&je instanceof f};function X1(vn,je,ro){u_(vn,tn=>{tn.call(t,je,ro,Fe)})}const RH=function(je){let ro=null;if(X1(Nt.beforeSanitizeElements,je,null),FL(je))return kg(je),!0;const tn=Be(je.nodeName);if(X1(Nt.uponSanitizeElement,je,{tagName:tn,allowedTags:so}),wm&&je.hasChildNodes()&&!OH(je.firstElementChild)&&Sl(/<[/\w!]/g,je.innerHTML)&&Sl(/<[/\w!]/g,je.textContent)||je.nodeType===r2.progressingInstruction||wm&&je.nodeType===r2.comment&&Sl(/<[/\w]/g,je.data))return kg(je),!0;if(!so[tn]||Lt[tn]){if(!Lt[tn]&&MH(tn)&&(kt.tagNameCheck instanceof RegExp&&Sl(kt.tagNameCheck,tn)||kt.tagNameCheck instanceof Function&&kt.tagNameCheck(tn)))return!1;if(Er&&!hr[tn]){const Pa=Te(je)||je.parentNode,Vc=Ce(je)||je.childNodes;if(Vc&&Pa){const il=Vc.length;for(let Nu=il-1;Nu>=0;--Nu){const Q1=G(Vc[Nu],!0);Q1.__removalCount=(je.__removalCount||0)+1,Pa.insertBefore(Q1,ye(je))}}}return kg(je),!0}return je instanceof b&&!If(je)||(tn==="noscript"||tn==="noembed"||tn==="noframes")&&Sl(/<\/no(script|embed|frames)/i,je.innerHTML)?(kg(je),!0):(lc&&je.nodeType===r2.text&&(ro=je.textContent,u_([po,Eo,bn],Pa=>{ro=Jv(ro,Pa," ")}),je.textContent!==ro&&(Qv(t.removed,{element:je.cloneNode()}),je.textContent=ro)),X1(Nt.afterSanitizeElements,je,null),!1)},NH=function(je,ro,tn){if(CC&&(ro==="id"||ro==="name")&&(tn in o||tn in Ht))return!1;if(!(ts&&!co[ro]&&Sl(qn,ro))){if(!(Mo&&Sl(xs,ro))){if(!Fn[ro]||co[ro]){if(!(MH(je)&&(kt.tagNameCheck instanceof RegExp&&Sl(kt.tagNameCheck,je)||kt.tagNameCheck instanceof Function&&kt.tagNameCheck(je))&&(kt.attributeNameCheck instanceof RegExp&&Sl(kt.attributeNameCheck,ro)||kt.attributeNameCheck instanceof Function&&kt.attributeNameCheck(ro))||ro==="is"&&kt.allowCustomizedBuiltInElements&&(kt.tagNameCheck instanceof RegExp&&Sl(kt.tagNameCheck,tn)||kt.tagNameCheck instanceof Function&&kt.tagNameCheck(tn))))return!1}else if(!Pf[ro]){if(!Sl(zt,Jv(tn,da,""))){if(!((ro==="src"||ro==="xlink:href"||ro==="href")&&je!=="script"&&AB(tn,"data:")===0&&al[je])){if(!(vs&&!Sl(Ps,Jv(tn,da,"")))){if(tn)return!1}}}}}}return!0},MH=function(je){return je!=="annotation-xml"&&M6(je,Bd)},BH=function(je){X1(Nt.beforeSanitizeAttributes,je,null);const{attributes:ro}=je;if(!ro||FL(je))return;const tn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Fn,forceKeepAttr:void 0};let Pa=ro.length;for(;Pa--;){const Vc=ro[Pa],{name:il,namespaceURI:Nu,value:Q1}=Vc,zE=Be(il),zL=Q1;let Hc=il==="value"?zL:TB(zL);if(tn.attrName=zE,tn.attrValue=Hc,tn.keepAttr=!0,tn.forceKeepAttr=void 0,X1(Nt.uponSanitizeAttribute,je,tn),Hc=tn.attrValue,ho&&(zE==="id"||zE==="name")&&(TC(il,je),Hc=wn+Hc),wm&&Sl(/((--!?|])>)|<\/(style|title)/i,Hc)){TC(il,je);continue}if(tn.forceKeepAttr)continue;if(!tn.keepAttr){TC(il,je);continue}if(!Pd&&Sl(/\/>/i,Hc)){TC(il,je);continue}lc&&u_([po,Eo,bn],IH=>{Hc=Jv(Hc,IH," ")});const PH=Be(je.nodeName);if(!NH(PH,zE,Hc)){TC(il,je);continue}if(Xe&&typeof $=="object"&&typeof $.getAttributeType=="function"&&!Nu)switch($.getAttributeType(PH,zE)){case"TrustedHTML":{Hc=Xe.createHTML(Hc);break}case"TrustedScriptURL":{Hc=Xe.createScriptURL(Hc);break}}if(Hc!==zL)try{Nu?je.setAttributeNS(Nu,il,Hc):je.setAttribute(il,Hc),FL(je)?kg(je):N6(t.removed)}catch{TC(il,je)}}X1(Nt.afterSanitizeAttributes,je,null)},IJ=function vn(je){let ro=null;const tn=DH(je);for(X1(Nt.beforeSanitizeShadowDOM,je,null);ro=tn.nextNode();)X1(Nt.uponSanitizeShadowNode,ro,null),RH(ro),BH(ro),ro.content instanceof c&&vn(ro.content);X1(Nt.afterSanitizeShadowDOM,je,null)};return t.sanitize=function(vn){let je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ro=null,tn=null,Pa=null,Vc=null;if(IE=!vn,IE&&(vn="<!-->"),typeof vn!="string"&&!OH(vn))if(typeof vn.toString=="function"){if(vn=vn.toString(),typeof vn!="string")throw e2("dirty is not a string, aborting")}else throw e2("toString is not a function");if(!t.isSupported)return vn;if(cc||Ao(je),t.removed=[],typeof vn=="string"&&(Ts=!1),Ts){if(vn.nodeName){const Q1=Be(vn.nodeName);if(!so[Q1]||Lt[Q1])throw e2("root node is forbidden and cannot be sanitized in-place")}}else if(vn instanceof f)ro=TH("<!---->"),tn=ro.ownerDocument.importNode(vn,!0),tn.nodeType===r2.element&&tn.nodeName==="BODY"||tn.nodeName==="HTML"?ro=tn:ro.appendChild(tn);else{if(!Ru&&!lc&&!_m&&vn.indexOf("<")===-1)return Xe&&gx?Xe.createHTML(vn):vn;if(ro=TH(vn),!ro)return Ru?null:gx?it:""}ro&&Dl&&kg(ro.firstChild);const il=DH(Ts?vn:ro);for(;Pa=il.nextNode();)RH(Pa),BH(Pa),Pa.content instanceof c&&IJ(Pa.content);if(Ts)return vn;if(Ru){if(mx)for(Vc=Ke.call(ro.ownerDocument);ro.firstChild;)Vc.appendChild(ro.firstChild);else Vc=ro;return(Fn.shadowroot||Fn.shadowrootmode)&&(Vc=Qe.call(s,Vc,!0)),Vc}let Nu=_m?ro.outerHTML:ro.innerHTML;return _m&&so["!doctype"]&&ro.ownerDocument&&ro.ownerDocument.doctype&&ro.ownerDocument.doctype.name&&Sl(g_,ro.ownerDocument.doctype.name)&&(Nu="<!DOCTYPE "+ro.ownerDocument.doctype.name+`>
`+Nu),lc&&u_([po,Eo,bn],Q1=>{Nu=Jv(Nu,Q1," ")}),Xe&&gx?Xe.createHTML(Nu):Nu},t.setConfig=function(){let vn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ao(vn),cc=!0},t.clearConfig=function(){Fe=null,cc=!1},t.isValidAttribute=function(vn,je,ro){Fe||Ao({});const tn=Be(vn),Pa=Be(je);return NH(tn,Pa,ro)},t.addHook=function(vn,je){typeof je=="function"&&Qv(Nt[vn],je)},t.removeHook=function(vn,je){if(je!==void 0){const ro=SB(Nt[vn],je);return ro===-1?void 0:EB(Nt[vn],ro,1)[0]}return N6(Nt[vn])},t.removeHooks=function(vn){Nt[vn]=[]},t.removeAllHooks=function(){Nt=f_()},t}var Tp=D3();const O3=ct.each,I6=ct.trim,L6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],F6={ftp:21,http:80,https:443,mailto:25},z6=["img","video"],V6=(e,t)=>Me(e)?!e:Me(t)?!Wo(z6,t):!0,H6=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},R3=(e,t,o)=>{const s=H6(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?V6(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class Rd{static parseDataUri(t){let o;const s=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(s[0]);return a&&(o=a[1]),{type:o,data:s[1]}}static isDomSafe(t,o,s={}){if(s.allow_script_urls)return!0;{const a=pd.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!R3(s,a,o)}}static getDocumentBaseUrl(t){let o;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?o=t.href??"":o=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o}source;protocol;authority;userInfo;user;password;host;port;relative;path="";directory="";file;query;anchor;settings;constructor(t,o={}){t=I6(t),this.settings=o;const s=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const f=s?s.path:new Rd(document.location.href).directory;if(s?.protocol==="")t="//mce_host"+a.toAbsPath(f,t);else{const b=/([^#?]*)([#?]?.*)/.exec(t);b&&(t=(s&&s.protocol||"http")+"://mce_host"+a.toAbsPath(f,b[1])+b[2])}}t=t.replace(/@@/g,"(mce_at)");const u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);u&&O3(L6,(f,b)=>{let _=u[b];_&&(_=_.replace(/\(mce_at\)/g,"@@")),a[f]=_}),s&&(a.protocol||(a.protocol=s.protocol),a.userInfo||(a.userInfo=s.userInfo),!a.port&&a.host==="mce_host"&&(a.port=s.port),(!a.host||a.host==="mce_host")&&(a.host=s.host),a.source=""),c&&(a.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new Rd(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const s=this.getURI(),a=o.getURI();if(s===a||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===a)return s;let c=this.toRelPath(this.path,o.path);return o.query&&(c+="?"+o.query),o.anchor&&(c+="#"+o.anchor),c}toAbsolute(t,o){const s=new Rd(t,{base_uri:this});return s.getURI(o&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?F6[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let s=0,a="",c,u;const f=t.substring(0,t.lastIndexOf("/")).split("/"),b=o.split("/");if(f.length>=b.length){for(c=0,u=f.length;c<u;c++)if(c>=b.length||f[c]!==b[c]){s=c+1;break}}if(f.length<b.length){for(c=0,u=b.length;c<u;c++)if(c>=f.length||f[c]!==b[c]){s=c+1;break}}if(s===1)return o;for(c=0,u=f.length-(s-1);c<u;c++)a+="../";for(c=s-1,u=b.length;c<u;c++)c!==s-1?a+="/"+b[c]:a+=b[c];return a}toAbsPath(t,o){let s=0;const a=/\/$/.test(o)?"/":"",c=t.split("/"),u=o.split("/"),f=[];O3(c,R=>{R&&f.push(R)});const b=[];for(let R=u.length-1;R>=0;R--)if(!(u[R].length===0||u[R]===".")){if(u[R]===".."){s++;continue}if(s>0){s--;continue}b.push(u[R])}const _=f.length-s;let T;return _<=0?T=ma(b).join("/"):T=f.slice(0,_).join("/")+"/"+ma(b).join("/"),T.indexOf("/")!==0&&(T="/"+T),a&&T.lastIndexOf("/")!==T.length-1&&(T+=a),T}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const N3=ct.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),M1="data-mce-type";let Z0=0;const p_=(e,t,o,s,a)=>{const c=t.validate,u=o.getSpecialElements();e.nodeType===Pg&&(!t.allow_conditional_comments&&/^\[if/i.test(e.nodeValue??"")&&(e.nodeValue=" "+e.nodeValue),t.sanitize&&t.allow_html_in_comments&&tt(e.nodeValue)&&(e.nodeValue=rB(e.nodeValue)));const f=a?.tagName??e.nodeName.toLowerCase();if(s!=="html"&&o.isValid(s)){Me(a)&&(a.allowedTags[f]=!0);return}if(e.nodeType!==qd||f==="body")return;const b=oe.fromDom(e),_=Bm(b,M1),T=or(b,"data-mce-bogus");if(!_&&tt(T)){T==="all"?cs(b):Ni(b);return}const R=o.getElementRule(f);if(c&&!R){ko(u,f)?cs(b):Ni(b);return}else Me(a)&&(a.allowedTags[f]=!0);if(c&&R&&!_){if(Ge(R.attributesForced??[],M=>{Wr(b,M.name,M.value==="{$uid}"?`mce_${Z0++}`:M.value)}),Ge(R.attributesDefault??[],M=>{Bm(b,M.name)||Wr(b,M.name,M.value==="{$uid}"?`mce_${Z0++}`:M.value)}),R.attributesRequired&&!In(R.attributesRequired,M=>Bm(b,M))){Ni(b);return}if(R.removeEmptyAttrs&&$u(b)){Ni(b);return}R.outputName&&R.outputName!==f&&Vg(b,R.outputName)}},$6=(e,t,o,s,a)=>{const c=e.tagName.toLowerCase(),{attrName:u,attrValue:f}=a;a.keepAttr=M3(t,o,s,c,u,f),a.keepAttr?(a.allowedAttributes[u]=!0,U6(u,o,e.nodeName)&&(a.attrValue=u),t.allow_svg_data_urls&&$s(f,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):a2(e,u)&&(a.forceKeepAttr=!0)},M3=(e,t,o,s,a,c)=>o!=="html"&&!Km(s)?!0:!(a in N3&&R3(e,c,s))&&(!e.validate||t.isValid(s,a)||$s(a,"data-")||$s(a,"aria-")),a2=(e,t)=>e.hasAttribute(M1)&&(t==="id"||t==="class"||t==="style"),U6=(e,t,o)=>e in t.getBoolAttrs()&&!ko(t.getCustomElements(),o.toLowerCase()),BB=(e,t,o,s)=>{const{attributes:a}=e;for(let c=a.length-1;c>=0;c--){const u=a[c],f=u.name,b=u.value;!M3(t,o,s,e.tagName.toLowerCase(),f,b)&&!a2(e,f)?e.removeAttribute(f):U6(f,o,e.nodeName)&&e.setAttribute(f,f)}},B1=(e,t,o)=>{const s=Tp();return s.addHook("uponSanitizeElement",(a,c)=>{p_(a,e,t,o.track(a),c)}),s.addHook("uponSanitizeAttribute",(a,c)=>{$6(a,e,t,o.current(),c)}),s},B3=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},Z6=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(s=>`xlink:${s}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};Tp().sanitize(e,o)},i2=(e,t)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},s=Tp(),a=t.allow_mathml_annotation_encodings,c=ne(a)&&a.length>0,u=b=>{const _=b.getAttribute("encoding");return c&&tt(_)&&Wo(a,_)},f=(b,_)=>c&&_==="semantics"?B.some(!0):_==="annotation"?B.some(qt(b)&&u(b)):ne(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(_)?B.from(!0):B.none();s.addHook("uponSanitizeElement",(b,_)=>{const T=_.tagName??b.nodeName.toLowerCase();f(b,T).each(M=>{_.allowedTags[T]=M,!M&&t.sanitize&&qt(b)&&b.remove()})}),s.addHook("uponSanitizeAttribute",(b,_)=>{ne(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(_.attrName)&&(_.forceKeepAttr=!0)}),s.sanitize(e,o)},j6=e=>t=>{const o=Nb(t);if(o==="svg")Z6(t);else if(o==="math")i2(t,e);else throw new Error("Not a namespace element")},P3=(e,t)=>{const o=Ym();if(e.sanitize){const s=B1(e,t,o);return{sanitizeHtmlElement:(c,u)=>{s.sanitize(c,B3(e,u)),s.removed=[],o.reset()},sanitizeNamespaceElement:j6(e)}}else return{sanitizeHtmlElement:(c,u)=>{const f=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let b;for(;b=f.nextNode();){const _=o.track(b);p_(b,e,t,_),qt(b)&&BB(b,e,t,_)}o.reset()},sanitizeNamespaceElement:To}},I3=["script","style","template","param","meta","title","link"],L3=ct.makeMap,F3=ct.extend,h_=(e,t,o,s,a)=>{const c=e.name,u=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",f=t.childNodes;for(let b=0,_=f.length;b<_;b++){const T=f[b],R=new yi(T.nodeName.toLowerCase(),T.nodeType);if(qt(T)){const M=T.attributes;for(let $=0,te=M.length;$<te;$++){const G=M[$];R.attr(G.name,G.value)}Km(R.name)&&(s(T),R.value=T.innerHTML)}else ht(T)?(R.value=T.data,u&&(R.raw=!0)):gd(T)?R.value=a?aB(T.data):T.data:(Fx(T)||gh(T))&&(R.value=T.data);if(Ta(T)){const M=yi.create("#text");M.value=T.innerHTML,M.raw=!0,R.append(M)}else Km(R.name)||h_(R,T,o,s,a);e.append(R)}},W6=(e,t,o)=>{const s=[];for(let a=e,c=a;a;c=a,a=a.walk()){const u=a;Ge(t,f=>f(u)),to(u.parent)&&u!==e?a=c:s.push(u)}for(let a=s.length-1;a>=0;a--){const c=s[a];Ge(o,u=>u(c))}},PB=(e,t,o,s)=>{const a=o.validate,c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),f=F3(L3(I3),t.getBlockElements()),b=oo(t),_=/[ \t\r\n]+/g,T=/^[ \t\r\n]+/,R=/[ \t\r\n]+$/,M=Ce=>{let Te=Ce.parent;for(;Me(Te);){if(Te.name in u)return!0;Te=Te.parent}return!1},$=Ce=>{let Te=Ce;for(;Me(Te);){if(Te.name in b)return Kv(t,c,u,Te);Te=Te.parent}return!1},te=Ce=>Ce.name in f||Pb(t,Ce)||Km(Ce.name)&&Ce.parent===e,G=(Ce,Te)=>{const Xe=Te?Ce.prev:Ce.next;return Me(Xe)||to(Ce.parent)?!1:te(Ce.parent)&&(Ce.parent!==e||s.isRootContent===!0)};return[Ce=>{if(Ce.type===3&&!M(Ce)){let Te=Ce.value??"";Te=Te.replace(_," "),(tB(Ce.prev,te)||G(Ce,!0))&&(Te=Te.replace(T,"")),Te.length===0||Te===" "&&Ce.prev&&Ce.prev.type===Pg&&Ce.next&&Ce.next.type===Pg?Ce.remove():Ce.value=Te}},Ce=>{if(Ce.type===1){const Te=t.getElementRule(Ce.name);if(a&&Te){const Xe=Kv(t,c,u,Ce);Te.paddInEmptyBlock&&Xe&&$(Ce)?r_(o,s,te,Ce):Te.removeEmpty&&Xe?te(Ce)?Ce.remove():Ce.unwrap():Te.paddEmpty&&(Xe||JM(Ce))&&r_(o,s,te,Ce)}}else if(Ce.type===3&&!M(Ce)){let Te=Ce.value??"";(Ce.next&&te(Ce.next)||G(Ce,!1))&&(Te=Te.replace(R,"")),Te.length===0?Ce.remove():Ce.value=Te}}]},q6=(e,t)=>{const o=t.forced_root_block??e.forced_root_block;return o===!1?"":o===!0?"p":o},l2=' xmlns="http://www.w3.org/1999/xhtml"',wa=(e={},t=su())=>{const o=k6(),s=k6(),a={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},c=new DOMParser,u=P3(a,t),f=(Te,Xe,it="html",It=!1)=>{const Xt=it==="xhtml",Ke=Xt?"application/xhtml+xml":"text/html",Ze=ko(t.getSpecialElements(),Xe.toLowerCase()),Qe=Ze?`<${Xe}>${Te}</${Xe}>`:Te,Nt=()=>/^[\s]*<head/i.test(Te)||/^[\s]*<html/i.test(Te)||/^[\s]*<!DOCTYPE/i.test(Te)?`<html${Xt?l2:""}>${Qe}</html>`:Xt?`<html${l2}><head></head><body>${Qe}</body></html>`:`<body>${Qe}</body>`,po=c.parseFromString(Nt(),Ke),Eo=It?po.documentElement:po.body;return u.sanitizeHtmlElement(Eo,Ke),Ze?Eo.firstChild:Eo},b=o.addFilter,_=o.getFilters,T=o.removeFilter,R=s.addFilter,M=s.getFilters,$=s.removeFilter,te=(Te,Xe)=>{b3(t,Te)&&Xe.push(Te)},G=(Te,Xe)=>{const it=tt(Xe.attr(M1)),It=Xe.type===1&&!ko(Te,Xe.name)&&!Pb(t,Xe)&&!Km(Xe.name);return Xe.type===3||It&&!it},ee=(Te,Xe)=>{const it=F3(L3(I3),t.getBlockElements()),It=/^[ \t\r\n]+/,Xt=/[ \t\r\n]+$/;let Ke=Te.firstChild,Ze=null;const Qe=Nt=>{Nt&&(Ke=Nt.firstChild,Ke&&Ke.type===3&&(Ke.value=Ke.value?.replace(It,"")),Ke=Nt.lastChild,Ke&&Ke.type===3&&(Ke.value=Ke.value?.replace(Xt,"")))};if(t.isValidChild(Te.name,Xe.toLowerCase())){for(;Ke;){const Nt=Ke.next;G(it,Ke)?(Ze||(Ze=new yi(Xe,1),Ze.attr(a.forced_root_block_attrs),Te.insert(Ze,Ke)),Ze.append(Ke)):(Qe(Ze),Ze=null),Ke=Nt}Qe(Ze)}},Ce={schema:t,addAttributeFilter:R,getAttributeFilters:M,removeAttributeFilter:$,addNodeFilter:b,getNodeFilters:_,removeNodeFilter:T,parse:(Te,Xe={})=>{const it=a.validate,It=(Xe.context??a.root_name)==="#document",Xt=Xe.context??(It?"html":a.root_name),Ke=f(Te,Xt,Xe.format,It);Qf(t,Ke);const Ze=new yi(Xt,11);h_(Ze,Ke,t.getSpecialElements(),u.sanitizeNamespaceElement,a.sanitize&&a.allow_html_in_comments),Ke.innerHTML="";const[Qe,Nt]=PB(Ze,t,a,Xe),po=[],Eo=it?Ps=>te(Ps,po):To,bn={nodes:{},attributes:{}},qn=Ps=>y6(_(),M(),Ps,bn);W6(Ze,[Qe,qn],[Nt,Eo]),po.reverse(),it&&po.length>0&&(Xe.context?Xe.invalid=!0:a_(po,t,Ze,qn));const xs=q6(a,Xe);return xs&&(Ze.name==="body"||Xe.isRootContent)&&ee(Ze,xs),Xe.invalid||m3(bn,Xe),Ze}};return _B(Ce,a),dB(Ce,a,t),Ce},P1=e=>e instanceof yi,I1=e=>P1(e)?hf({validate:!1}).serialize(e):e,z3=(e,t,o)=>{const s=I1(e),a=t(s);if(a.isDefaultPrevented())return a;if(P1(e))if(a.content!==s){const c=wa({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:e.name});return{...a,content:c}}else return{...a,content:e};else return a},El=e=>({sanitize:Uy(e),sandbox_iframes:_k(e),sandbox_iframes_exclusions:Ck(e)}),Dp=(e,t)=>{if(t.no_events)return Gs.value(t);{const o=YC(e,t);return o.isDefaultPrevented()?Gs.error(XC(e,{content:"",...o}).content):Gs.value(o)}},V3=(e,t,o)=>o.no_events?t:z3(t,a=>XC(e,{...o,content:a}),El(e)).content,b_=(e,t)=>{if(t.no_events)return Gs.value(t);{const o=z3(t.content,s=>wR(e,{...t,content:s}),El(e));return o.isDefaultPrevented()?(Iy(e,o),Gs.error(void 0)):Gs.value(o)}},x_=(e,t,o)=>{o.no_events||Iy(e,{...o,content:t})},H3="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),$3=["content_css_cors"],G6="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),Cu=[{name:"export",replacedWith:"Export to PDF"}],v_=(e,t)=>{const o=xt(t,s=>ko(e,s));return no(o)},y_=e=>{const t=v_(e,H3),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),no(t)},U3=e=>v_(e,$3),Z3=(e,t)=>{const o=ct.makeMap(e.plugins," "),a=xt(t,c=>ko(o,c));return no(a)},K6=e=>Z3(e,G6),Y6=e=>Z3(e,Cu.map(t=>t.name)),IB=(e,t)=>{const o=y_(e),s=K6(t),a=s.length>0,c=o.length>0,u=t.theme==="mobile";if(a||c||u){const f=`
- `,b=u?`

Themes:${f}mobile`:"",_=a?`

Plugins:${f}${s.join(f)}`:"",T=c?`

Options:${f}${o.join(f)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+b+_+T)}},LB=e=>An(Cu,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),X6=(e,t)=>{const o=U3(e),s=Y6(t),a=s.length>0,c=o.length>0;if(a||c){const u=`
- `,f=a?`

Plugins:${u}${s.map(LB).join(u)}`:"",b=c?`

Options:${u}${o.join(u)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+f+b)}},Q6=(e,t)=>{IB(e,t),X6(e,t)},j3={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},w_=e=>{console.warn(j3[e],new Error().stack)},W3=e=>e.dom.length===0?(cs(e),B.none()):B.some(e),q3=(e,t)=>e.filter(o=>c1.isBookmarkNode(o.dom)).bind(t?rd:zl),J6=(e,t,o,s,a)=>{const c=e.dom,u=t.dom,f=s?c.length:u.length;s?(yf(c,u,a,!1,!s),o.setStart(u,f)):(yf(u,c,a,!1,!s),o.setEnd(u,f))},eD=(e,t,o)=>{ji(e).each(s=>{const a=e.dom;t&&v1(s,Ye(a,0),o)?Fv(a,0,o):!t&&y1(s,Ye(a,a.length),o)&&gg(a,a.length,o)})},__=(e,t,o,s,a)=>{e.bind(c=>((s?gg:Fv)(c.dom,s?c.dom.length:0,a),t.filter(Ka).map(f=>J6(c,f,o,s,a)))).orThunk(()=>q3(t,s).or(t).filter(Ka).map(u=>eD(u,s,a)))},tD=(e,t,o)=>{const s=B.from(t.firstChild).map(oe.fromDom),a=B.from(t.lastChild).map(oe.fromDom);e.deleteContents(),e.insertNode(t);const c=s.bind(zl).filter(Ka).bind(W3),u=a.bind(rd).filter(Ka).bind(W3);__(c,s,e,!0,o),__(u,a,e,!1,o),e.collapse(!1)},oD=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),nD=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),s=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),a=s?{context:s.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return hf({validate:!1},e.schema).serialize(c)}else return t.content},L1=(e,t,o={})=>{const s=oD(o,t);b_(e,s).each(a=>{const c=nD(e,a),u=e.selection.getRng();tD(u,u.createContextualFragment(c),e.schema),e.selection.setRng(u),Tv(e,u),x_(e,c,a)})},FB=(e,t,o={})=>{w_("selectionSetContent"),L1(e,t,o)},c2=e=>Me(e.firstChild)&&e.firstChild===e.lastChild,sD=e=>e.name==="br"||e.value===Us,rD=(e,t)=>e.getBlockElements()[t.name]&&c2(t)&&sD(t.firstChild),zB=(e,t)=>{const o=e.getNonEmptyElements();return Me(t)&&(t.isEmpty(o)||rD(e,t))},VB=(e,t)=>{let o=t.firstChild,s=t.lastChild;return o&&o.name==="meta"&&(o=o.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),zB(e,s)&&(s=s?.prev),!o||o!==s?!1:o.name==="ul"||o.name==="ol"},aD=e=>{const t=e.firstChild,o=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode?.removeChild(t),o&&o.id==="mce_marker"&&o.parentNode?.removeChild(o),e},HB=(e,t,o)=>{const s=t.serialize(o),a=e.createFragment(s);return aD(a)},iD=e=>xt(e?.childNodes??[],t=>t.nodeName==="LI"),lD=e=>e.data===Us||Ls(e),$B=e=>Me(e?.firstChild)&&e.firstChild===e.lastChild&&lD(e.firstChild),UB=e=>!e.firstChild||$B(e),C_=e=>e.length>0&&UB(e[e.length-1])?e.slice(0,-1):e,G3=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},ZB=(e,t)=>!!G3(e,t),cD=(e,t)=>{const o=t.cloneRange(),s=t.cloneRange();return o.setStartBefore(e),s.setEndAfter(e),[o.cloneContents(),s.cloneContents()]},K3=(e,t)=>{const o=Ye.before(e),a=lg(t).next(o);return a?a.toRange():null},dD=(e,t)=>{const o=Ye.after(e),a=lg(t).prev(o);return a?a.toRange():null},jB=(e,t,o,s)=>{const a=cD(e,s),c=e.parentNode;return c&&(c.insertBefore(a[0],e),ct.each(t,u=>{c.insertBefore(u,e)}),c.insertBefore(a[1],e),c.removeChild(e)),dD(t[t.length-1],o)},WB=(e,t,o)=>{const s=e.parentNode;return s&&ct.each(t,a=>{s.insertBefore(a,e)}),K3(e,o)},d2=(e,t,o,s)=>(s.insertAfter(t.reverse(),e),dD(t[0],o)),qB=(e,t,o,s)=>{const a=HB(t,e,s),c=G3(t,o.startContainer),u=C_(iD(a.firstChild)),f=1,b=2,_=t.getRoot(),T=R=>{const M=Ye.fromRangeStart(o),$=lg(t.getRoot()),G=(R===f?$.prev(M):$.next(M))?.getNode();return G?G3(t,G)!==c:!0};return c?T(f)?WB(c,u,_):T(b)?d2(c,u,_,t):jB(c,u,_,o):null},uD=["pre"],Op=(e,t,o,s)=>{const a=t.firstChild,c=t.lastChild,u=c.attr("data-mce-type")==="bookmark"?c.prev:c,f=a===u,b=Wo(uD,a.name);if(f&&b){const _=a.attr("contenteditable")!=="false",T=e.getParent(o,e.isBlock)?.nodeName.toLowerCase()===a.name,R=B.from(kp(s,o)).forall(pi);return _&&T&&R}else return!1},Ui=Gg,mD=(e,t,o)=>{if(Me(o)){const s=e.getParent(t.endContainer,Ui);return o===s&&ow(oe.fromDom(o),t)}else return!1},u2=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const o=t.childNodes;return o.length===1&&Ls(o[0])||o.length===0}else return!1},Rp=(e,t,o)=>{o.getAttribute("data-mce-bogus")==="all"?o.parentNode?.insertBefore(e.dom.createFragment(t),o):u2(e.dom,o)?e.dom.setHTML(o,t):L1(e,t,{no_events:!0})},bg=(e,t,o)=>{B.from(e.getParent(t,"td,th")).map(oe.fromDom).each(s=>dp(s,o))},m2=(e,t)=>{const o=e.schema.getTextInlineElements(),s=e.dom;if(t){const a=e.getBody(),c=Jw(e),u="*[data-mce-fragment]",f=s.select(u);ct.each(f,b=>{const _=M=>Me(o[M.nodeName.toLowerCase()]),T=M=>M.childNodes.length===1;if((M=>!(Rv(s,M)||Nv(s,M)))(b)&&_(b)&&T(b)){const M=wi(s,b),$=(ye,Ce)=>La(ye,Te=>Wo(Ce,Te)),te=ye=>T(b)&&s.is(ye,u)&&_(ye)&&(ye.nodeName===b.nodeName&&$(M,wi(s,ye))||te(ye.children[0])),G=ye=>Me(ye)&&ye!==a&&(c.compare(b,ye)||G(ye.parentElement)),ee=ye=>Me(ye)&&ye!==a&&s.is(ye,u)&&(R0(s,b,ye)||ee(ye.parentElement));(te(b.children[0])||G(b.parentElement)&&!ee(b.parentElement))&&s.remove(b,!0)}}),YM(e,hl(f))}},Y3=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},X3=e=>{ct.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},gD=e=>!!e.getAttribute("data-mce-fragment"),fD=(e,t)=>Me(t)&&!e.schema.getVoidElements()[t.nodeName],GB=(e,t)=>{let o;const s=e.dom,a=e.selection;if(!t)return;a.scrollIntoView(t);const c=kp(e.getBody(),t);if(c&&s.getContentEditable(c)==="false"){s.remove(t),a.select(c);return}let u=s.createRng();const f=t.previousSibling;if(ht(f)){u.setStart(f,f.nodeValue?.length??0);const T=t.nextSibling;ht(T)&&(f.appendData(T.data),T.parentNode?.removeChild(T))}else u.setStartBefore(t),u.setEndBefore(t);const b=T=>{let R=Ye.fromRangeStart(T);return R=lg(e.getBody()).next(R),R?.toRange()},_=s.getParent(t,s.isBlock);if(s.remove(t),_&&s.isEmpty(_)){const T=Ui(_);Uu(oe.fromDom(_)),u.setStart(_,0),u.setEnd(_,0),!T&&!gD(_)&&(o=b(u))?(u=o,s.remove(_)):s.add(_,s.create("br",T?{}:{"data-mce-bogus":"1"}))}a.setRng(u)},pD=e=>{const t=e.dom,o=i_(e.selection.getRng());e.selection.setRng(o);const s=t.getParent(o.startContainer,Ui);mD(t,o,s)?Z4(e,o,oe.fromDom(s)):$k(o)||Hk(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},hD=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return B.some(t);return B.none()},bD=(e,t,o)=>In(o.children(),v6)&&e.getParent(t,e.isBlock)?.nodeName==="SUMMARY",Np=(e,t,o)=>{const s=e.selection,a=e.dom,c=e.parser,u=o.merge,f=hf({validate:!0},e.schema),b='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=Hi(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,b);let _=s.getRng();const T=_.startContainer,R=e.getBody();T===R&&s.isCollapsed()&&a.isBlock(R.firstChild)&&fD(e,R.firstChild)&&a.isEmpty(R.firstChild)&&(_=a.createRng(),_.setStart(R.firstChild,0),_.setEnd(R.firstChild,0),s.setRng(_)),s.isCollapsed()||pD(e);const M=s.getNode(),$={context:M.nodeName.toLowerCase(),data:o.data,insert:!0},te=c.parse(t,$);if(o.paste===!0&&VB(e.schema,te)&&ZB(a,M))return _=qB(f,a,s.getRng(),te),_&&s.setRng(_),t;o.paste===!0&&Op(a,te,M,e.getBody())&&te.firstChild?.unwrap(),Y3(te);let G=te.lastChild;if(G&&G.attr("id")==="mce_marker"){const ee=G;for(G=G.prev;G&&G.name!=="table";G=G.walk(!0))if(G.type===3||!a.isBlock(G.name)){G.parent&&e.schema.isValidChild(G.parent.name,"span")&&G.parent.insert(ee,G,G.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(M),!$.invalid&&!bD(a,M,te))t=f.serialize(te),Rp(e,t,M);else{L1(e,b);let ee=s.getNode(),ye;const Ce=e.getBody();for(Wg(ee)?ee=ye=Ce:ye=ee;ye&&ye!==Ce;)ee=ye,ye=ye.parentNode;t=ee===Ce?Ce.innerHTML:a.getOuterHTML(ee);const Te=c.parse(t),Xe=hD(Te),it=Xe.bind(oB).getOr(Te);Xe.each(Ke=>Ke.replace(te));const It=nB(te);te.unwrap();const Xt=xt(It,Ke=>b3(e.schema,Ke));a_(Xt,e.schema,it),g3(c.getNodeFilters(),c.getAttributeFilters(),Te),t=f.serialize(Te),ee===Ce?a.setHTML(Ce,t):a.setOuterHTML(ee,t)}return m2(e,u),GB(e,a.get("mce_marker")),X3(e.getBody()),bg(a,s.getStart(),e.schema),Xm(e.schema,e.getBody(),s.getStart()),t},Q3=e=>{f1(e)&&$i(e.getBody()).each(t=>{const o=t.getNode(),s=kc(o)?$i(o).getOr(t):t;e.selection.setRng(s.toRange())})},J3=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&Q3(e)},KB=(e,t,o,s)=>{if(o=Hi(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+a+"</li>");const c=si(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(o=a,o=e.dom.createHTML(c,r0(e),o)):o||(o=a),J3(e,o,s.no_selection),{content:o,html:o}}else{s.format!=="raw"&&(o=hf({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const a=Vh(oe.fromDom(t))?o:ct.trim(o);return J3(e,a,s.no_selection),{content:a,html:a}}},F1=(e,t,o,s)=>{g3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const a=hf({validate:!1},e.schema).serialize(o),c=Hi(Vh(oe.fromDom(t))?a:ct.trim(a));return J3(e,c,s.no_selection),{content:o,html:c}},xD=(e,t,o)=>B.from(e.getBody()).map(s=>P1(t)?F1(e,s,t,o):KB(e,s,t,o)).getOr({content:t,html:P1(o.content)?"":o.content}),Mp={},k_=xl(["pre"]),vD=(e,t)=>{Mp[e]||(Mp[e]=[]),Mp[e].push(t)},yD=(e,t)=>{ko(Mp,e)&&Ge(Mp[e],o=>{o(t)})};vD("pre",e=>{const t=e.selection.getRng(),o=a=>c=>{const u=c.previousSibling;return k_(u)&&Wo(a,u)},s=(a,c)=>{const u=oe.fromDom(c),f=fc(u).dom;cs(u),Qs(oe.fromDom(a),[oe.fromTag("br",f),oe.fromTag("br",f),...rn(u)])};if(!t.collapsed){const a=e.selection.getSelectedBlocks(),c=xt(xt(a,k_),o(a));Ge(c,u=>{s(u.previousSibling,u)})}});const eS=ct.each,wD=(e,t,o,s)=>{const a=c=>{if($o(c)&&qt(c.parentNode)&&e.isEditable(c)){const u=y5(e,c.parentNode);e.getStyle(c,"color")&&u?e.setStyle(c,"text-decoration",u):e.getStyle(c,"text-decoration")===u&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(ct.walk(s,a,"childNodes"),a(s))},_D=(e,t,o,s)=>{if(t.styles&&t.styles.backgroundColor){const a=r6(e,"fontSize");pg(s,c=>a(c)&&e.isEditable(c),n_(e,"backgroundColor",xp(t.styles.backgroundColor,o)))}},tS=(e,t,o,s)=>{if(ya(t)&&(t.inline==="sub"||t.inline==="sup")){const a=r6(e,"fontSize");pg(s,u=>a(u)&&e.isEditable(u),n_(e,"fontSize",""));const c=xt(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(c,!0)}},YB=(e,t,o,s)=>{eS(t,a=>{ya(a)&&eS(e.dom.select(a.inline,s),c=>{a3(c)&&Gv(e,a,o,c,a.exact?c:null)}),MM(e.dom,a,s)})},XB=(e,t,o,s,a)=>{const c=a.parentNode;Dd(e,c,o,s)&&Gv(e,t,s,a)||t.merge_with_parents&&c&&e.dom.getParent(c,u=>Dd(e,u,o,s)?(Gv(e,t,s,a),!0):!1)},QB=ct.each,JB=(e,t,o,s)=>{if(NR(e)&&ya(t)&&o.parentNode){const a=oo(e.schema),c=bb(oe.fromDom(o),u=>Lo(u.dom));return De(a,s)&&fd(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},eP=(e,t,o,s)=>{const a=e.formatter.get(t),c=a[0],u=!s&&e.selection.isCollapsed(),f=e.dom,b=e.selection,_=($,te)=>{let G=!1;return QB($,ee=>Nc(ee)?f.getContentEditable(te)==="false"&&!ee.ceFalseOverride||Me(ee.collapsed)&&ee.collapsed!==u?!0:f.is(te,ee.selector)&&!Lo(te)?(Sp(e,te,ee,o,te),G=!0,!1):!0:!1),G},T=$=>{if(tt($)){const te=f.create($);return Sp(e,te,c,o,s),te}else return null},R=($,te,G)=>{const ee=[];let ye=!0;const Ce=c.inline||c.block,Te=T(Ce),Xe=Xt=>_N(c)&&Dd(e,Xt,t,o),it=(Xt,Ke,Ze)=>{const Qe=_5(c)&&rw(e.schema,Xt)&&r1(e,Ke,Ce);return Ze&&Qe},It=(Xt,Ke,Ze,Qe)=>{const Nt=Xt.nodeName.toLowerCase(),po=r1(e,Ce,Nt)&&r1(e,Ke,Ce),Eo=!G&&ht(Xt)&&rf(Xt.data),bn=Lo(Xt),qn=!ya(c)||!$.isBlock(Xt);return(Ze||Qe)&&po&&!Eo&&!bn&&qn};Cv($,te,Xt=>{let Ke;const Ze=Qe=>{let Nt=!1,po=ye,Eo=!1;const bn=Qe.parentNode,qn=bn.nodeName.toLowerCase(),xs=$.getContentEditable(Qe);Me(xs)&&(po=ye,ye=xs==="true",Nt=!0,Eo=jk(e,Qe));const Ps=ye&&!Nt;if(Ls(Qe)&&!JB(e,c,Qe,qn)){Ke=null,Ed(c)&&$.remove(Qe);return}if(Xe(Qe)){Ke=null;return}if(it(Qe,qn,Ps)){const da=$.rename(Qe,Ce);Sp(e,da,c,o,Qe),ee.push(da),Ke=null;return}if(Nc(c)){let da=_(a,Qe);if(!da&&Me(bn)&&lw(c)&&(da=_(a,bn)),!ya(c)||da){Ke=null;return}}Me(Te)&&It(Qe,qn,Ps,Eo)?(Ke||(Ke=$.clone(Te,!1),bn.insertBefore(Ke,Qe),ee.push(Ke)),Eo&&Nt&&(ye=po),Ke.appendChild(Qe)):(Ke=null,Ge(Ot(Qe.childNodes),Ze),Nt&&(ye=po),Ke=null)};Ge(Xt,Ze)}),c.links===!0&&Ge(ee,Xt=>{const Ke=Ze=>{Ze.nodeName==="A"&&Sp(e,Ze,c,o,s),Ge(Ot(Ze.childNodes),Ke)};Ke(Xt)}),KM(e,t,hl(ee)),Ge(ee,Xt=>{const Ke=Nt=>{let po=0;return Ge(Nt.childNodes,Eo=>{!wN(Eo)&&!Rc(Eo)&&po++}),po},Ze=Nt=>An(Nt.childNodes,Uk).filter(Eo=>$.getContentEditable(Eo)!=="false"&&o_($,Eo,c)).map(Eo=>{const bn=$.clone(Eo,!1);return Sp(e,bn,c,o,Nt),$.replace(bn,Nt,!0),$.remove(Eo,!0),bn}).getOr(Nt),Qe=Ke(Xt);if((ee.length>1||!$.isBlock(Xt))&&Qe===0){$.remove(Xt,!0);return}(ya(c)||Ed(c)&&c.wrapper)&&(!c.exact&&Qe===1&&(Xt=Ze(Xt)),YB(e,a,o,Xt),XB(e,c,t,o,Xt),_D($,c,o,Xt),wD($,c,o,Xt),tS($,c,o,Xt),s6(e,c,o,Xt))})},M=yv(s)?s:b.getNode();if(f.getContentEditable(M)==="false"&&!jk(e,M)){s=M,_(a,s),iA(e,t,s,o);return}if(c){if(s)if(yv(s)){if(!_(a,s)){const $=f.createRng();$.setStartBefore(s),$.setEndAfter(s),R(f,l1(f,$,a),!0)}}else R(f,s,!0);else!u||!ya(c)||s1(e).length?(b.setRng(i_(b.getRng())),b5(e,()=>{zk(e,($,te)=>{const G=te?$:l1(f,$,a);R(f,G,!1)})},Yo),e.nodeChanged()):o3(e,t,o),XT(e.formatter,t).each($=>{Ge(NM(e.selection),te=>nr(f,te,$,o))});yD(t,e)}iA(e,t,s,o)},oS=(e,t,o,s)=>{(s||e.selection.isEditable())&&eP(e,t,o,s)},xg=e=>ko(e,"vars"),nS=(e,t)=>{e.set({}),t.on("NodeChange",o=>{sS(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const s=B.from(o.node).map(a=>yv(a)?a:a.startContainer).bind(a=>qt(a)?B.some(a):B.from(a.parentElement)).getOrThunk(()=>CD(t));sS(t,s,e.get())})},CD=e=>e.selection.getStart(),S_=(e,t,o,s,a)=>jc(t,f=>{const b=e.formatter.matchNode(f,o,a??{},s);return!Co(b)},f=>J4(e,f,o)?!0:s?!1:Me(e.formatter.matchNode(f,o,a,!0))),E_=(e,t)=>{const o=t??CD(e);return xt(w0(e.dom,o),s=>qt(s)&&!Gm(s))},sS=(e,t,o)=>{const s=E_(e,t);on(o,(a,c)=>{const u=f=>{const b=S_(e,s,c,f.similar,xg(f)?f.vars:void 0),_=b.isSome();if(f.state.get()!==_){f.state.set(_);const T=b.getOr(t);xg(f)?f.callback(_,{node:T,format:c,parents:s}):Ge(f.callbacks,R=>R(_,{node:T,format:c,parents:s}))}};Ge([a.withSimilar,a.withoutSimilar],u),Ge(a.withVars,u)})},kD=(e,t,o,s,a,c)=>{const u=t.get();Ge(o.split(","),f=>{const b=Cn(u,f).getOrThunk(()=>{const T={withSimilar:{state:jn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:jn(!1),similar:!1,callbacks:[]},withVars:[]};return u[f]=T,T}),_=()=>{const T=E_(e);return S_(e,T,f,a,c).isSome()};if(Co(c)){const T=a?b.withSimilar:b.withoutSimilar;T.callbacks.push(s),T.callbacks.length===1&&T.state.set(_())}else b.withVars.push({state:jn(_()),similar:a,vars:c,callback:s})}),t.set(u)},SD=(e,t,o)=>{const s=e.get();Ge(t.split(","),a=>Cn(s,a).each(c=>{s[a]={withSimilar:{...c.withSimilar,callbacks:xt(c.withSimilar.callbacks,u=>u!==o)},withoutSimilar:{...c.withoutSimilar,callbacks:xt(c.withoutSimilar.callbacks,u=>u!==o)},withVars:xt(c.withVars,u=>u.callback!==o)}})),e.set(s)},tP=(e,t,o,s,a,c)=>(kD(e,t,o,s,a,c),{unbind:()=>SD(t,o,s)}),g2=(e,t,o,s)=>{const a=e.formatter.get(t);a&&(e3(e,t,o,s)&&(!("toggle"in a[0])||a[0].toggle)?f6(e,t,o,s):oS(e,t,o,s))},j0=(e,t,o)=>({element:e,width:t,rows:o}),rS=(e,t)=>({element:e,cells:t}),ED=(e,t)=>({x:e,y:t}),aS=(e,t)=>bc(e,t).bind(Lu).getOr(1),AD=(e,t,o,s,a)=>{const c=aS(a,"rowspan"),u=aS(a,"colspan"),f=e.rows;for(let b=o;b<o+c;b++){f[b]||(f[b]=rS(Mi(s),[]));for(let _=t;_<t+u;_++){const T=f[b].cells;T[_]=b===o&&_===t?a:id(a)}}},A_=(e,t,o)=>{const s=e.rows;return!!(s[o]?s[o].cells:[])[t]},iS=(e,t,o)=>{for(;A_(e,t,o);)t++;return t},W0=e=>Zo(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),TD=(e,t)=>{const o=e.rows;for(let s=0;s<o.length;s++){const a=o[s].cells;for(let c=0;c<a.length;c++)if(sn(a[c],t))return B.some(ED(c,s))}return B.none()},lS=(e,t,o,s,a)=>{const c=[],u=e.rows;for(let f=o;f<=a;f++){const b=u[f].cells,_=t<s?b.slice(t,s+1):b.slice(s,t+1);c.push(rS(u[f].element,_))}return c},oP=(e,t,o)=>{const s=t.x,a=t.y,c=o.x,u=o.y,f=a<u?lS(e,s,a,c,u):lS(e,s,u,c,a);return j0(e.element,W0(f),f)},nP=(e,t)=>{const o=id(e.element),s=oe.fromTag("tbody");return Qs(s,t),dn(o,s),o},DD=e=>Io(e.rows,t=>{const o=Io(t.cells,a=>{const c=Mi(a);return Mr(c,"colspan"),Mr(c,"rowspan"),c}),s=id(t.element);return Qs(s,o),s}),OD=e=>{const t=j0(id(e),0,[]);return Ge(qr(e,"tr"),(o,s)=>{Ge(qr(o,"td,th"),(a,c)=>{AD(t,iS(t,c,s),s,o,a)})}),j0(t.element,W0(t.rows),t.rows)},sP=e=>nP(e,DD(e)),cS=(e,t,o)=>TD(e,t).bind(s=>TD(e,o).map(a=>oP(e,s,a))),Bp=e=>An(e,t=>jo(t)==="ul"||jo(t)==="ol"),RD=(e,t)=>An(e,o=>jo(o)==="li"&&ow(o,t)).fold(pt([]),o=>Bp(e).map(s=>{const a=oe.fromTag(jo(s)),c=Dr(zm(s),(u,f)=>$s(f,"list-style"));return Gf(a,c),[oe.fromTag("li"),a]}).getOr([])),dS=(e,t)=>{const o=Zo(t,(s,a)=>(dn(a,s),a),e);return t.length>0?_r([o]):o},ND=e=>om(e)?ji(e).filter(zr).fold(pt([]),t=>[e,t]):zr(e)?[e]:[],uS=(e,t,o)=>{const s=oe.fromDom(t.commonAncestorContainer),a=gm(s,e),c=xt(a,b=>o.isWrapper(jo(b))),u=RD(a,t),f=c.concat(u.length?u:ND(s));return Io(f,id)},Sf=()=>_r([]),MD=(e,t,o)=>dS(oe.fromDom(t.cloneContents()),uS(e,t,o)),Nd=(e,t)=>Js(t,"table",ze(sn,e)),z1=(e,t)=>Nd(e,t[0]).bind(o=>{const s=t[0],a=t[t.length-1],c=OD(o);return cS(c,s,a).map(u=>_r([sP(u)]))}).getOrThunk(Sf),BD=(e,t,o)=>t.length>0&&t[0].collapsed?Sf():MD(e,t[0],o),mS=(e,t,o)=>{const s=y0(t,e);return s.length>0?z1(e,s):BD(e,t,o)},f2=(e,t)=>t>=0&&t<e.length&&bp(e.charAt(t)),PD=e=>Hi(e.innerText),ID=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),q0=e=>B.from(e.selection.getRng()).map(t=>{const o=B.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),s=e.getBody(),a=ID(o),c=oe.fromDom(t.cloneContents());uT(c),mT(c);const u=e.dom.add(s,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},c.dom),f=PD(u),b=Hi(u.textContent??"");if(e.dom.remove(u),f2(b,0)||f2(b,b.length-1)){const _=o.getOr(s),T=PD(_),R=T.indexOf(f);if(R===-1)return f;{const M=f2(T,R-1),$=f2(T,R+f.length);return(M?" ":"")+f+($?" ":"")}}else return f}).getOr(""),T_=(e,t)=>{const o=e.selection.getRng(),s=e.dom.create("body"),a=e.selection.getSel(),c=kw(e,Ba(a)),u=t.contextual?mS(oe.fromDom(e.getBody()),c,e.schema).dom:o.cloneContents();return u&&s.appendChild(u),e.selection.serializer.serialize(s,t)},LD=(e,t)=>{if(t.format==="text")return q0(e);{const o=T_(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},FD=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),gS=(e,t,o={})=>{const s=FD(o,t);return Dp(e,s).fold(En,a=>{const c=LD(e,a);return V3(e,c,a)})},D_=0,p2=1,fS=2,O_=(e,t)=>{const o=e.length+t.length+2,s=new Array(o),a=new Array(o),c=(T,R,M)=>({start:T,end:R,diag:M}),u=(T,R,M,$,te)=>{const G=b(T,R,M,$);if(G===null||G.start===R&&G.diag===R-$||G.end===T&&G.diag===T-M){let ee=T,ye=M;for(;ee<R||ye<$;)ee<R&&ye<$&&e[ee]===t[ye]?(te.push([D_,e[ee]]),++ee,++ye):R-T>$-M?(te.push([fS,e[ee]]),++ee):(te.push([p2,t[ye]]),++ye)}else{u(T,G.start,M,G.start-G.diag,te);for(let ee=G.start;ee<G.end;++ee)te.push([D_,e[ee]]);u(G.end,R,G.end-G.diag,$,te)}},f=(T,R,M,$)=>{let te=T;for(;te-R<$&&te<M&&e[te]===t[te-R];)++te;return c(T,te,R)},b=(T,R,M,$)=>{const te=R-T,G=$-M;if(te===0||G===0)return null;const ee=te-G,ye=G+te,Ce=(ye%2===0?ye:ye+1)/2;s[1+Ce]=T,a[1+Ce]=R+1;let Te,Xe,it,It,Xt;for(Te=0;Te<=Ce;++Te){for(Xe=-Te;Xe<=Te;Xe+=2){for(it=Xe+Ce,Xe===-Te||Xe!==Te&&s[it-1]<s[it+1]?s[it]=s[it+1]:s[it]=s[it-1]+1,It=s[it],Xt=It-T+M-Xe;It<R&&Xt<$&&e[It]===t[Xt];)s[it]=++It,++Xt;if(ee%2!==0&&ee-Te<=Xe&&Xe<=ee+Te&&a[it-ee]<=s[it])return f(a[it-ee],Xe+T-M,R,$)}for(Xe=ee-Te;Xe<=ee+Te;Xe+=2){for(it=Xe+Ce-ee,Xe===ee-Te||Xe!==ee+Te&&a[it+1]<=a[it-1]?a[it]=a[it+1]-1:a[it]=a[it-1],It=a[it]-1,Xt=It-T+M-Xe;It>=T&&Xt>=M&&e[It]===t[Xt];)a[it]=It--,Xt--;if(ee%2===0&&-Te<=Xe&&Xe<=Te&&a[it]<=s[it+ee])return f(a[it],Xe+T-M,R,$)}}return null},_=[];return u(0,e.length,0,t.length,_),_},pS=e=>qt(e)?e.outerHTML:ht(e)?pd.encodeRaw(e.data,!1):gd(e)?"<!--"+e.data+"-->":"",zD=e=>{let t;const o=document.createElement("div"),s=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)s.appendChild(t);return s},VD=(e,t,o)=>{const s=zD(t);if(e.hasChildNodes()&&o<e.childNodes.length){const a=e.childNodes[o];e.insertBefore(s,a)}else e.appendChild(s)},h2=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},rP=(e,t)=>{let o=0;Ge(e,s=>{s[0]===D_?o++:s[0]===p2?(VD(t,s[1],o),o++):s[0]===fS&&h2(t,o)})},HD=(e,t)=>xt(Io(Ot(e.childNodes),yn(Hi,pS)),o=>o.length>0),$D=(e,t)=>{const o=Io(Ot(t.childNodes),pS);return rP(O_(o,e),t),t},UD=di(()=>document.implementation.createHTMLDocument("undo")),hS=e=>e.querySelector("iframe")!==null,ZD=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),jD=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),R_=e=>{const t=e.serializer.getTempAttrs(),o=g4(e.getBody(),t);return hS(o)?ZD(HD(o)):jD(Hi(o.innerHTML))},bS=(e,t,o)=>{const s=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?$D(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Me(s)&&b0(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},xS=e=>e.type==="fragmented"?e.fragments.join(""):e.content,N_=e=>{const t=oe.fromTag("body",UD());return Im(t,xS(e)),Ge(qr(t,"*[data-mce-bogus]"),Ni),qf(t)},aP=(e,t)=>xS(e)===xS(t),M_=(e,t)=>N_(e)===N_(t),vS=(e,t)=>!e||!t?!1:aP(e,t)?!0:M_(e,t),b2=e=>e.get()===0,x2=(e,t,o)=>{b2(o)&&(e.typing=t)},yS=(e,t)=>{e.typing&&(x2(e,!1,t),e.add())},WD=e=>{e.typing&&(e.typing=!1,e.add())},B_=(e,t,o)=>{b2(t)&&o.set(My(e.selection))},iP=(e,t,o,s,a,c,u)=>{const f=R_(e),b=ct.extend(c||{},f);if(!b2(s)||e.removed)return null;const _=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:b,lastLevel:_,originalEvent:u}).isDefaultPrevented()||_&&vS(_,b))return null;t.data[o.get()]&&a.get().each(M=>{t.data[o.get()].beforeBookmark=M});const T=kA(e);if(T&&t.data.length>T){for(let M=0;M<t.data.length-1;M++)t.data[M]=t.data[M+1];t.data.length--,o.set(t.data.length)}b.bookmark=My(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(b),o.set(t.data.length-1);const R={level:b,lastLevel:_,originalEvent:u};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",R),e.dispatch("change",R)):e.dispatch("AddUndo",R),b},lP=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},wS=(e,t,o,s,a)=>{if(t.transact(s)){const c=t.data[o.get()].bookmark,u=t.data[o.get()-1];bS(e,u,!0),t.transact(a)&&(t.data[o.get()-1].beforeBookmark=c)}},qD=(e,t,o)=>{let s;return t.get()<o.length-1&&(t.set(t.get()+1),s=o[t.get()],bS(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},cP=(e,t,o,s)=>{let a;return t.typing&&(t.add(),t.typing=!1,x2(t,!1,o)),s.get()>0&&(s.set(s.get()-1),a=t.data[s.get()],bS(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},dP=e=>{e.clear(),e.add()},uP=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!vS(R_(e),t.data[0]),mP=(e,t)=>t.get()<e.data.length-1&&!e.typing,_S=(e,t,o)=>(yS(e,t),e.beforeChange(),e.ignore(o),e.add()),GD=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},la=(e,t)=>{const o=e.dom,s=Me(t)?t:e.getBody();Ge(o.select("table,a",s),a=>{switch(a.nodeName){case"TABLE":const c=Qh(e),u=o.getAttrib(a,"border");(!u||u==="0")&&e.hasVisual?o.addClass(a,c):o.removeClass(a,c);break;case"A":if(!o.getAttrib(a,"href")){const f=o.getAttrib(a,"name")||a.id,b=AA(e);f&&e.hasVisual?o.addClass(a,b):o.removeClass(a,b)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},KD=e=>({init:{bindEvents:To},undoManager:{beforeChange:(t,o)=>B_(e,t,o),add:(t,o,s,a,c,u)=>iP(e,t,o,s,a,c,u),undo:(t,o,s)=>cP(e,t,o,s),redo:(t,o)=>qD(e,t,o),clear:(t,o)=>lP(e,t,o),reset:t=>dP(t),hasUndo:(t,o)=>uP(e,t,o),hasRedo:(t,o)=>mP(t,o),transact:(t,o,s)=>_S(t,o,s),ignore:(t,o)=>GD(t,o),extra:(t,o,s,a)=>wS(e,t,o,s,a)},formatter:{match:(t,o,s,a)=>e3(e,t,o,s,a),matchAll:(t,o)=>z0(e,t,o),matchNode:(t,o,s,a)=>Dd(e,t,o,s,a),canApply:t=>k1(e,t),closest:t=>_M(e,t),apply:(t,o,s)=>oS(e,t,o,s),remove:(t,o,s,a)=>f6(e,t,o,s,a),toggle:(t,o,s)=>g2(e,t,o,s),formatChanged:(t,o,s,a,c)=>tP(e,t,o,s,a,c)},editor:{getContent:t=>O0(e,t),setContent:(t,o)=>xD(e,t,o),insertContent:(t,o)=>Np(e,t,o),addVisual:t=>la(e,t)},selection:{getContent:(t,o)=>gS(e,t,o)},autocompleter:{addDecoration:To,removeDecoration:To},raw:{getModel:()=>B.none()}}),gP=e=>{const t=_=>se(_)?_:{},{init:o,undoManager:s,formatter:a,editor:c,selection:u,autocompleter:f,raw:b}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(_,T,R)=>s.transact(R),ignore:(_,T)=>s.ignore(T),extra:(_,T,R,M)=>s.extra(R,M)},formatter:{match:(_,T,R,M)=>a.match(_,t(T),M),matchAll:a.matchAll,matchNode:a.matchNode,canApply:_=>a.canApply(_),closest:_=>a.closest(_),apply:(_,T,R)=>a.apply(_,t(T)),remove:(_,T,R,M)=>a.remove(_,t(T)),toggle:(_,T,R)=>a.toggle(_,t(T)),formatChanged:(_,T,R,M,$)=>a.formatChanged(T,R,M,$)},editor:{getContent:_=>c.getContent(_),setContent:(_,T)=>({content:c.setContent(_,T),html:""}),insertContent:(_,T)=>(c.insertContent(_),""),addVisual:c.addVisual},selection:{getContent:(_,T)=>u.getContent(T)},autocompleter:{addDecoration:f.addDecoration,removeDecoration:f.removeDecoration},raw:{getModel:()=>B.some(b.getRawModel())}}},YD=()=>{const e=pt(null),t=pt("");return{init:{bindEvents:To},undoManager:{beforeChange:To,add:e,undo:e,redo:e,clear:To,reset:To,hasUndo:Do,hasRedo:Do,transact:e,ignore:To,extra:To},formatter:{match:Do,matchAll:pt([]),matchNode:pt(void 0),canApply:Do,closest:t,apply:To,remove:To,toggle:To,formatChanged:pt({unbind:To})},editor:{getContent:t,setContent:pt({content:"",html:""}),insertContent:pt(""),addVisual:To},selection:{getContent:t},autocompleter:{addDecoration:To,removeDecoration:To},raw:{getModel:pt(B.none())}}},ku=e=>ko(e.plugins,"rtc"),XD=e=>Cn(e.plugins,"rtc").bind(t=>B.from(t.setup)),v2=e=>{const t=e;return XD(e).fold(()=>(t.rtcInstance=KD(e),B.none()),o=>(t.rtcInstance=YD(),B.some(()=>o().then(s=>(t.rtcInstance=gP(s),s.rtc.isRemote)))))},CS=e=>e.rtcInstance?e.rtcInstance:KD(e),_a=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},fP=(e,t,o)=>{_a(e).undoManager.beforeChange(t,o)},pP=(e,t,o,s,a,c,u)=>_a(e).undoManager.add(t,o,s,a,c,u),hP=(e,t,o,s)=>_a(e).undoManager.undo(t,o,s),bP=(e,t,o)=>_a(e).undoManager.redo(t,o),xP=(e,t,o)=>{_a(e).undoManager.clear(t,o)},vP=(e,t)=>{_a(e).undoManager.reset(t)},yP=(e,t,o)=>_a(e).undoManager.hasUndo(t,o),wP=(e,t,o)=>_a(e).undoManager.hasRedo(t,o),_P=(e,t,o,s)=>_a(e).undoManager.transact(t,o,s),QD=(e,t,o)=>{_a(e).undoManager.ignore(t,o)},JD=(e,t,o,s,a)=>{_a(e).undoManager.extra(t,o,s,a)},eO=(e,t,o,s,a)=>_a(e).formatter.match(t,o,s,a),tO=(e,t,o)=>_a(e).formatter.matchAll(t,o),oO=(e,t,o,s,a)=>_a(e).formatter.matchNode(t,o,s,a),nO=(e,t)=>_a(e).formatter.canApply(t),sO=(e,t)=>_a(e).formatter.closest(t),CP=(e,t,o,s)=>{_a(e).formatter.apply(t,o,s)},kP=(e,t,o,s,a)=>{_a(e).formatter.remove(t,o,s,a)},rO=(e,t,o,s)=>{_a(e).formatter.toggle(t,o,s)},SP=(e,t,o,s,a,c)=>_a(e).formatter.formatChanged(t,o,s,a,c),EP=(e,t)=>CS(e).editor.getContent(t),aO=(e,t,o)=>CS(e).editor.setContent(t,o),iO=(e,t,o)=>CS(e).editor.insertContent(t,o),AP=(e,t,o)=>_a(e).selection.getContent(t,o),lO=(e,t)=>_a(e).editor.addVisual(t),kS=e=>_a(e).init.bindEvents(),TP=(e,t={})=>{const o=t.format?t.format:"html";return AP(e,o,t)},cO=(e,t,o)=>{if(ko(e,t)){const s=xt(e[t],a=>a!==o);s.length===0?delete e[t]:e[t]=s}};var DP=(e,t)=>{let o,s;const a=(f,b)=>An(b,_=>e.is(_,f)),c=f=>e.getParents(f,void 0,e.getRoot()),u=()=>{o={},s={},t.on("NodeChange",f=>{const b=f.element,_=c(b),T={};on(o,(R,M)=>{a(M,_).each($=>{s[M]||(Ge(R,te=>{te(!0,{node:$,selector:M,parents:_})}),s[M]=R),T[M]=R})}),on(s,(R,M)=>{T[M]||(delete s[M],Ge(R,$=>{$(!1,{node:b,selector:M,parents:_})}))})})};return{selectorChangedWithUnbind:(f,b)=>(o||u(),o[f]||(o[f]=[]),o[f].push(b),a(f,c(t.selection.getStart())).each(()=>{s[f]=o[f]}),{unbind:()=>{cO(o,f,b),cO(s,f,b)}})}};const dO=e=>!!(e&&e.ownerDocument)&&Nr(oe.fromDom(e.ownerDocument),oe.fromDom(e)),OP=e=>e?dO(e.startContainer)&&dO(e.endContainer):!1,y2=(e,t,o,s)=>{let a,c;const{selectorChangedWithUnbind:u}=DP(e,s),f=(zt,so)=>{const Zn=e.createRng();Me(zt)&&Me(so)?(Zn.setStart(zt,so),Zn.setEnd(zt,so),Xe(Zn),ye(!1)):(nw(e,Zn,s.getBody(),!0),Xe(Zn))},b=zt=>TP(s,zt),_=(zt,so)=>FB(s,zt,so),T=zt=>oT(s.getBody(),Te(),zt),R=zt=>ri(s.getBody(),Te(),zt),M=(zt,so)=>da.getBookmark(zt,so),$=zt=>da.moveToBookmark(zt),te=(zt,so)=>(sT(e,zt,so).each(Xe),zt),G=()=>{const zt=Te(),so=Ce();return!zt||zt.item?!1:zt.compareEndPoints?zt.compareEndPoints("StartToEnd",zt)===0:!so||zt.collapsed},ee=()=>{if(s.mode.isReadOnly())return!1;const zt=Te(),so=s.getBody().querySelectorAll('[data-mce-selected="1"]');return so.length>0?La(so,Zn=>e.isEditable(Zn.parentElement)):i4(e,zt)},ye=zt=>{const so=Te();so.collapse(!!zt),Xe(so)},Ce=()=>t.getSelection?t.getSelection():t.document.selection,Te=()=>{let zt;const so=(Fn,eo,kt)=>{try{return eo.compareBoundaryPoints(Fn,kt)}catch{return-1}},Zn=t.document;if(Me(s.bookmark)&&!f1(s)){const Fn=Kk(s);if(Fn.isSome())return Fn.map(eo=>kw(s,[eo])[0]).getOr(Zn.createRange())}try{const Fn=Ce();Fn&&!_c(Fn.anchorNode)&&(Fn.rangeCount>0?zt=Fn.getRangeAt(0):zt=Zn.createRange(),zt=kw(s,[zt])[0])}catch{}if(zt||(zt=Zn.createRange()),Wg(zt.startContainer)&&zt.collapsed){const Fn=e.getRoot();zt.setStart(Fn,0),zt.setEnd(Fn,0)}return a&&c&&(so(zt.START_TO_START,zt,a)===0&&so(zt.END_TO_END,zt,a)===0?zt=c:(a=null,c=null)),zt},Xe=(zt,so)=>{if(!OP(zt))return;const Zn=Ce();if(zt=s.dispatch("SetSelectionRange",{range:zt,forward:so}).range,Zn){c=zt;try{Zn.removeAllRanges(),Zn.addRange(zt)}catch{}so===!1&&Zn.extend&&(Zn.collapse(zt.endContainer,zt.endOffset),Zn.extend(zt.startContainer,zt.startOffset)),a=Zn.rangeCount>0?Zn.getRangeAt(0):null}if(!zt.collapsed&&zt.startContainer===zt.endContainer&&Zn?.setBaseAndExtent&&zt.endOffset-zt.startOffset<2&&zt.startContainer.hasChildNodes()){const eo=zt.startContainer.childNodes[zt.startOffset];eo&&eo.nodeName==="IMG"&&(Zn.setBaseAndExtent(zt.startContainer,zt.startOffset,zt.endContainer,zt.endOffset),(Zn.anchorNode!==zt.startContainer||Zn.focusNode!==zt.endContainer)&&Zn.setBaseAndExtent(eo,0,eo,1))}s.dispatch("AfterSetSelectionRange",{range:zt,forward:so})},it=zt=>(L1(s,e.getOuterHTML(zt)),zt),It=()=>nT(s.getBody(),Te()),Xt=(zt,so)=>Cw(e,Te(),zt,so),Ke=()=>{const zt=Ce(),so=zt?.anchorNode,Zn=zt?.focusNode;if(!zt||!so||!Zn||_c(so)||_c(Zn))return!0;const Fn=e.createRng(),eo=e.createRng();try{Fn.setStart(so,zt.anchorOffset),Fn.collapse(!0),eo.setStart(Zn,zt.focusOffset),eo.collapse(!0)}catch{return!0}return Fn.compareBoundaryPoints(Fn.START_TO_START,eo)<=0},Ps={dom:e,win:t,serializer:o,editor:s,expand:(zt={type:"word"})=>Xe(gu(e).expand(Te(),zt)),collapse:ye,setCursorLocation:f,getContent:b,setContent:_,getBookmark:M,moveToBookmark:$,select:te,isCollapsed:G,isEditable:ee,isForward:Ke,setNode:it,getNode:It,getSel:Ce,setRng:Xe,getRng:Te,getStart:T,getEnd:R,getSelectedBlocks:Xt,normalize:()=>{const zt=Te(),so=Ce();if(!bN(so)&&sw(s)){const Zn=p1(e,zt);return Zn.each(Fn=>{Xe(Fn,Ke())}),Zn.getOr(zt)}return zt},selectorChanged:(zt,so)=>(u(zt,so),Ps),selectorChangedWithUnbind:u,getScrollContainer:()=>{let zt,so=e.getRoot();for(;so&&so.nodeName!=="BODY";){if(so.scrollHeight>so.clientHeight){zt=so;break}so=so.parentNode}return zt},scrollIntoView:(zt,so)=>{Me(zt)?eT(s,zt,so):Tv(s,Te(),so)},placeCaretAt:(zt,so)=>Xe(um(zt,so,s.getDoc())),getBoundingClientRect:()=>{const zt=Te();return zt.collapsed?Ye.fromRangeStart(zt).getClientRects()[0]:zt.getBoundingClientRect()},destroy:()=>{t=a=c=null,Bd.destroy()}},da=c1(Ps),Bd=bw(Ps,s);return Ps.bookmarkManager=da,Ps.controlSelection=Bd,Ps},uO=(e,t,o)=>{t.addNodeFilter("br",(s,a,c)=>{const u=ct.extend({},o.getBlockElements()),f=o.getNonEmptyElements(),b=o.getWhitespaceElements();u.body=1;const _=T=>T.name in u||Pb(o,T);for(let T=0,R=s.length;T<R;T++){let M=s[T],$=M.parent;if($&&_($)&&M===$.lastChild){let te=M.prev;for(;te;){const G=te.name;if(G!=="span"||te.attr("data-mce-type")!=="bookmark"){G==="br"&&(M=null);break}te=te.prev}if(M&&(M.remove(),Kv(o,f,b,$))){const G=o.getElementRule($.name);G&&(G.removeEmpty?$.remove():G.paddEmpty&&r_(e,c,_,$))}}else{let te=M;for(;$&&$.firstChild===te&&$.lastChild===te&&(te=$,!u[$.name]);)$=$.parent;if(te===$){const G=new yi("#text",3);G.value=Us,M.replace(G)}}}})},mO=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(s,a)=>{let c=s.length;for(;c--;){const u=s[c];u.attr("tabindex",u.attr("data-mce-tabindex")),u.attr(a,null)}}),e.addAttributeFilter("src,href,style",(s,a)=>{const c="data-mce-"+a,u=t.url_converter,f=t.url_converter_scope;let b=s.length;for(;b--;){const _=s[b];let T=_.attr(c);T!==void 0?(_.attr(a,T.length>0?T:null),_.attr(c,null)):(T=_.attr(a),a==="style"?T=o.serializeStyle(o.parseStyle(T),_.name):u&&(T=u.call(f,T,a,_.name)),_.attr(a,T.length>0?T:null))}}),e.addAttributeFilter("class",s=>{let a=s.length;for(;a--;){const c=s[a];let u=c.attr("class");u&&(u=u.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",u.length>0?u:null))}}),e.addAttributeFilter("data-mce-type",(s,a,c)=>{let u=s.length;for(;u--;){const f=s[u];f.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(B.from(f.firstChild).exists(_=>!rf(_.value??""))?f.unwrap():f.remove())}}),e.addNodeFilter("script,style",(s,a)=>{const c=f=>f.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let u=s.length;for(;u--;){const f=s[u],b=f.firstChild,_=b?.value??"";if(a==="script"){const T=f.attr("type");T&&f.attr("type",T==="mce-no/type"?null:T.replace(/^mce\-/,"")),t.element_format==="xhtml"&&b&&_.length>0&&(b.value=`// <![CDATA[
`+c(_)+`
// ]]>`)}else t.element_format==="xhtml"&&b&&_.length>0&&(b.value=`<!--
`+c(_)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let a=s.length;for(;a--;){const c=s[a],u=c.value;t.preserve_cdata&&u?.indexOf("[CDATA[")===0?(c.name="#cdata",c.type=4,c.value=o.decode(u.replace(/^\[CDATA\[|\]\]$/g,""))):u?.indexOf("mce:protected ")===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(u).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,a)=>{let c=s.length;for(;c--;){const u=s[c];u.type===7?u.remove():u.type===1&&a==="input"&&!u.attr("type")&&u.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{Ge(s,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,a)=>{let c=s.length;for(;c--;)s[c].attr(a,null)}),t.remove_trailing_brs&&uO(t,e,e.schema)},gO=e=>{const t=s=>s?.name==="br",o=e.lastChild;if(t(o)){const s=o.prev;t(s)&&(o.remove(),s.remove())}},RP=(e,t,o)=>{let s;const a=e.dom;let c=t.cloneNode(!0);const u=document.implementation;if(u.createHTMLDocument){const f=u.createHTMLDocument("");ct.each(c.nodeName==="BODY"?c.childNodes:[c],b=>{f.body.appendChild(f.importNode(b,!0))}),c.nodeName!=="BODY"?c=f.body.firstChild:c=f.body,s=a.doc,a.doc=f}return am(e,{...o,node:c}),s&&(a.doc=s),c},NP=(e,t)=>Me(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,fO=(e,t,o)=>NP(e,o)?RP(e,t,o):t,MP=(e,t,o)=>{ct.inArray(t,o)===-1&&(e.addAttributeFilter(o,(s,a)=>{let c=s.length;for(;c--;)s[c].attr(a,null)}),t.push(o))},SS=(e,t,o)=>!t.no_events&&e?pR(e,{...t,content:o}).content:o,pO=(e,t,o)=>{const s=Hi(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||Vh(oe.fromDom(t))?s:ct.trim(s)},BP=(e,t,o)=>{const s=o.selection?{forced_root_block:!1,...o}:o,a=e.parse(t,s);return gO(a),a},PP=(e,t,o)=>hf(e,t).serialize(o),IP=(e,t,o,s,a)=>{const c=PP(t,o,s);return SS(e,a,c)},LP=(e,t)=>{const o=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:Bn.DOM,c=t&&t.schema?t.schema:su(s),u=wa(s,c);mO(u,s,a);const f=(b,_={})=>{const{indent:T,entity_encoding:R,...M}=_,$={format:"html",...M},te=fO(t,b,$),G=pO(a,te,$),ee=BP(u,G,$);if($.format==="tree")return ee;const ye={...s,...Me(T)?{indent:T}:{},...Me(R)?{entity_encoding:R}:{}};return IP(t,ye,c,ee,$)};return{schema:c,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:f,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:ze(MP,u,o),getTempAttrs:pt(o),getNodeFilters:u.getNodeFilters,getAttributeFilters:u.getAttributeFilters,removeNodeFilter:u.removeNodeFilter,removeAttributeFilter:u.removeAttributeFilter}},ES=(e,t)=>{const o=LP(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},hO="html",FP=(e,t)=>({...e,format:t,get:!0,getInner:!0}),AS=(e,t={})=>{const o=t.format?t.format:hO,s=FP(t,o);return Dp(e,s).fold(En,a=>{const c=EP(e,a);return V3(e,c,a)})},vg="html",bO=(e,t)=>({format:vg,...e,set:!0,content:t}),P_=(e,t,o={})=>{const s=bO(o,t);b_(e,s).each(a=>{const c=aO(e,a.content,a);x_(e,c.html,a)})},V1=Bn.DOM,TS=e=>{V1.setStyle(e.id,"display",e.orgDisplay)},w2=e=>B.from(e).each(t=>t.destroy()),xO=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const s=o.dom;t.selection=o.win=o.dom=s.doc=null}},vO=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),V1.unbind(t,"submit reset",e.formEventDelegate))},zP=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,s=e.getBody(),a=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Me(a?.nextSibling)&&V1.remove(a.nextSibling),hR(e),e.editorManager.remove(e),!e.inline&&s&&TS(e),kn(e),V1.remove(e.getContainer()),w2(t),w2(o),e.destroy()}},DS=(e,t)=>{const{selection:o,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),w2(o),w2(s)),vO(e),xO(e),e.destroyed=!0}},I_=(()=>{const e={};return{add:(a,c)=>{e[a]=c},get:a=>e[a]?e[a]:{icons:{}},has:a=>ko(e,a)}})(),G0=Ua.ModelManager,_2=(e,t)=>t.dom[e],yO=(e,t)=>parseInt(Wi(t,e),10),OS=ze(_2,"clientWidth"),RS=ze(_2,"clientHeight"),wO=ze(yO,"margin-top"),VP=ze(yO,"margin-left"),_O=e=>e.dom.getBoundingClientRect(),L_=(e,t,o)=>{const s=OS(e),a=RS(e);return t>=0&&o>=0&&t<=s&&o<=a},CO=(e,t,o,s)=>{const a=_O(t),c=e?a.left+t.dom.clientLeft+VP(t):0,u=e?a.top+t.dom.clientTop+wO(t):0,f=o-c,b=s-u;return{x:f,y:b}},kO=(e,t,o)=>{const s=oe.fromDom(e.getBody()),a=e.inline?s:ls(s),c=CO(e.inline,a,t,o);return L_(a,c.x,c.y)},HP=e=>B.from(e).map(oe.fromDom),$P=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return HP(t).map(Jd).getOr(!1)};var NS=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const MS=e=>{const t=[],o=()=>{const M=e.theme;return M&&M.getNotificationManagerImpl?M.getNotificationManagerImpl():NS()},s=()=>B.from(t[0]),a=(M,$)=>M.type===$.type&&M.text===$.text&&!M.progressBar&&!M.timeout&&!$.progressBar&&!$.timeout,c=()=>{s().each(M=>{M.reposition()})},u=M=>{t.push(M)},f=M=>{Is(t,$=>$===M).each($=>{t.splice($,1)})},b=(M,$=!0)=>e.removed||!$P(e)?{}:($&&e.dispatch("BeforeOpenNotification",{notification:M}),An(t,te=>a(o().getArgs(te),M)).getOrThunk(()=>{e.editorManager.setActive(e);const te=o().open(M,()=>{f(te)},()=>dm(e));return u(te),c(),e.dispatch("OpenNotification",{notification:{...te}}),te})),_=()=>{s().each(M=>{o().close(M),f(M),c()})},T=pt(t);return(M=>{M.on("SkinLoaded",()=>{const $=OR(M);$&&b({text:$,type:"warning",timeout:0},!1),c()}),M.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(c)}),M.on("remove",()=>{Ge(t.slice(),$=>{o().close($)})}),M.on("keydown",$=>{const te=$.key?.toLowerCase()==="f12"||$.keyCode===123;$.altKey&&te&&($.preventDefault(),s().map(G=>oe.fromDom(G.getEl())).each(G=>zg(G)))})})(e),{open:b,close:_,getNotifications:T}},H1=Ua.PluginManager,$1=Ua.ThemeManager;var UP=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const U1=e=>{let t=[];const o=()=>{const ee=e.theme;return ee&&ee.getWindowManagerImpl?ee.getWindowManagerImpl():UP()},s=(ee,ye)=>(...Ce)=>ye?ye.apply(ee,Ce):void 0,a=ee=>{e.dispatch("OpenWindow",{dialog:ee})},c=ee=>{e.dispatch("CloseWindow",{dialog:ee})},u=(ee,ye)=>{t.push({instanceApi:ee,triggerElement:ye}),a(ee)},f=ee=>{c(ee);const ye=Ei(t,({instanceApi:Ce,triggerElement:Te})=>Ce===ee?Te:B.none());t=xt(t,({instanceApi:Ce})=>Ce!==ee),t.length===0?e.focus():ye.filter(Jd).each(zg)},b=()=>B.from(t[t.length-1]),_=ee=>{e.editorManager.setActive(e),gw(e);const ye=Qd();e.ui.show();const Ce=ee();return u(Ce,ye),Ce},T=(ee,ye)=>_(()=>o().open(ee,ye,f)),R=ee=>_(()=>o().openUrl(ee,f)),M=ee=>{t.length!==0&&ee.each(ye=>zg(ye))},$=(ee,ye,Ce)=>{const Te=Qd(),Xe=o();Xe.alert(ee,s(Ce||Xe,()=>{M(Te),ye?.()}))},te=(ee,ye,Ce)=>{const Te=Qd(),Xe=o();Xe.confirm(ee,s(Ce||Xe,it=>{M(Te),ye?.(it)}))},G=()=>{b().each(({instanceApi:ee})=>{o().close(ee),f(ee)})};return e.on("remove",()=>{Ge(t,({instanceApi:ee})=>{o().close(ee)})}),{open:T,openUrl:R,alert:$,confirm:te,close:G}},SO=(e,t)=>{e.notificationManager.open({type:"error",text:t})},F_=(e,t)=>{e._skinLoaded?SO(e,t):e.on("SkinLoaded",()=>{SO(e,t)})},EO=(e,t)=>{F_(e,yl.translate(["Failed to upload image: {0}",t]))},Pp=(e,t,o)=>{aA(e,t,{message:o}),console.error(o)},yg=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,ZP=(e,t,o)=>{Pp(e,"PluginLoadError",yg("plugin",t,o))},jP=(e,t,o)=>{Pp(e,"IconsLoadError",yg("icons",t,o))},WP=(e,t,o)=>{Pp(e,"LanguageLoadError",yg("language",t,o))},qP=(e,t,o)=>{Pp(e,"ThemeLoadError",yg("theme",t,o))},GP=(e,t,o)=>{Pp(e,"ModelLoadError",yg("model",t,o))},KP=(e,t)=>{Pp(e,"LicenseKeyManagerLoadError",yg("license key manager",t))},YP=(e,t)=>{Pp(e,"ComponentLoadError",yg("component",t))},XP=(e,t,o)=>{const s=yl.translate(["Failed to initialize plugin: {0}",t]);aA(e,"PluginLoadError",{message:s}),z_(s,o),F_(e,s)},z_=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},AO=new WeakMap,ss=e=>{if(AO.has(e))return;AO.set(e,!0);const t=()=>{e.on("SwitchMode",s=>{const{mode:a}=s;a!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",s=>{const{state:a}=s;a||s.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),t()},BS=(e,t)=>{const{type:o,message:s}=t;e.notificationManager.open({type:o,text:s})},PS=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},TO=e=>{PS(e.type)(e.message)},V_=(e,t)=>{const{console:o,editor:s}=t;Me(s)&&(e._skinLoaded?BS(e,s):e.on("SkinLoaded",()=>{BS(e,s)})),Me(o)&&TO(o)},LS="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",FS="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",QP=e=>{const t="The editor is disabled because a TinyMCE license key has not been provided.";V_(e,{console:{type:"error",message:[`${t}`,FS,LS].join(" ")},editor:{type:"warning",message:`${t}`}})},JP=(e,t)=>{const o=`${t==="online"?"API":"license"} key`,s=`The editor is disabled because the TinyMCE ${o} could not be validated.`;V_(e,{console:{type:"error",message:[`${s}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,LS].join(" ")},editor:{type:"warning",message:`${s}`}})},zS=(e,t)=>{const o=`The "${t}" plugin requires a valid TinyMCE license key.`;V_(e,{console:{type:"error",message:[`${o}`,LS].join(" ")}})},DO="licensekeymanager",eI=e=>tt(qy(e))?"online":"offline",OO=e=>{const t=Jh(e)?.toLowerCase();return t==="gpl"?"gpl":to(t)?"no_key":"non_gpl"},RO=e=>{const t=eI(e),o=OO(e),s=new Set([...dv(e),...Yr(xk(e))]).has(DO);return o!=="gpl"||t==="online"||s?{type:"use_plugin",onlineStatus:t,licenseKeyType:o,forcePlugin:s}:{type:"use_gpl",onlineStatus:t,licenseKeyType:o,forcePlugin:s}},tI=e=>({validate:t=>{const{plugin:o}=t;return tt(o)&&zS(e,o),Promise.resolve(!1)}}),oI=e=>({validate:t=>{const{plugin:o}=t,s=tt(o);return s&&zS(e,o),Promise.resolve(!s)}}),K0="manager",VS=DO,H_=(()=>{const e=Ua();return{load:(a,c)=>{if(RO(a).type==="use_plugin"){const b=Cn(xk(a),VS).map(dl).filter(Or).getOr(`plugins/${VS}/plugin${c}.js`);e.load(K0,b).catch(()=>{KP(a,b)})}},add:a=>{e.add(K0,a)},init:a=>{const c=b=>{Object.defineProperty(a,"licenseKeyManager",{value:b,writable:!1,configurable:!1,enumerable:!0})},u=RO(a),f=e.get(K0);if(Me(f)){const b=f(a,e.urls[K0]);c(b)}else switch(u.type){case"use_gpl":{c(oI(a));break}case"use_plugin":{ss(a),c(tI(a)),u.onlineStatus==="offline"&&u.licenseKeyType==="no_key"?QP(a):JP(a,u.onlineStatus);break}}a.licenseKeyManager.validate({})}}})(),nI=e=>{B.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},$_=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},MO=(e,t)=>{$_(e,"StyleWithCSS",t),$_(e,"enableInlineTableEditing",t),$_(e,"enableObjectResizing",t)},U_=e=>{e.selection.setRng(e.selection.getRng())},Z_=(e,t,o)=>{ds(e,t)&&!o?Fi(e,t):o&&Ul(e,t)},j_=e=>{const t=oe.fromDom(e.getBody());Z_(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),nI(e)},Z1=e=>{const t=oe.fromDom(e.getBody());Z_(t,"mce-content-readonly",!1),e.hasEditableRoot()&&Zl(t,!0),MO(e,!1),dm(e)&&e.focus(),U_(e),e.nodeChanged()},Ef=e=>Gy(e),Su="data-mce-contenteditable",C2=e=>{Ge(qr(e,'*[contenteditable="true"]'),t=>{Wr(t,Su,"true"),Zl(t,!1)})},Y0=e=>{Ge(qr(e,`*[${Su}="true"]`),t=>{Mr(t,Su),Zl(t,!0)})},W_=(e,t)=>{const o=oe.fromDom(e.getBody());t?(j_(e),Zl(o,!1),C2(o)):(Y0(o),Z1(e))},BO=e=>{e.serializer?HS(e):e.on("PreInit",()=>{HS(e)})},HS=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Ef(e)&&Ge(t,o=>{o.attr(Su,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Su,t=>{Ef(e)&&Ge(t,o=>{o.attr("contenteditable",o.attr(Su))})}),e.serializer.addTempAttr(Su)},$S=e=>e.type==="click",PO=["copy"],IO=e=>Wo(PO,e.type),LO=(e,t)=>dd(t,"a",s=>sn(s,oe.fromDom(e.getBody()))).bind(s=>bc(s,"href")),US=(e,t)=>{if($S(t)&&!Pt.metaKeyPressed(t)){const o=oe.fromDom(t.target);LO(e,o).each(s=>{if(t.preventDefault(),/^#/.test(s)){const a=e.dom.select(`${s},[name="${Vf(s,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else IO(t)&&e.dispatch(t.type,t)},FO=e=>{e.on("ShowCaret ObjectSelected",t=>{Ef(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||W_(e,t.state)})},zO=e=>{BO(e),FO(e)},ZS=e=>/^[a-z0-9\-]+$/i.test(e),jS=e=>"content/"+e+"/content.css",VO=e=>tinymce.Resource.has(jS(e)),HO=e=>k2(e,Wa(e)),$O=e=>k2(e,qa(e)),k2=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return Io(t,c=>VO(c)?c:ZS(c)&&!e.inline?`${o}/${c}/${a}`:e.documentBaseURI.toAbsolute(c))},UO=e=>{e.contentCSS=e.contentCSS.concat(HO(e),$O(e))},ZO=e=>e?Ot(e.getElementsByTagName("img")):[],sI=(e,t)=>{const o={};return{findAll:(a,c=Yo)=>{const u=xt(ZO(a),b=>{const _=b.src;return b.hasAttribute("data-mce-bogus")||b.hasAttribute("data-mce-placeholder")||!_||_===Bo.transparentSrc?!1:$s(_,"blob:")?!e.isUploaded(_)&&c(b):$s(_,"data:")?c(b):!1}),f=Io(u,b=>{const _=b.src;if(ko(o,_))return o[_].then(T=>tt(T)?T:{image:b,blobInfo:T.blobInfo});{const T=fB(t,_).then(R=>(delete o[_],{image:b,blobInfo:R})).catch(R=>(delete o[_],R));return o[_]=T,T}});return Promise.all(f)}}},jO=()=>{let o={};const s=(M,$)=>({status:M,resultUri:$}),a=M=>M in o;return{hasBlobUri:a,getResultUri:M=>{const $=o[M];return $?$.resultUri:null},isPending:M=>a(M)?o[M].status===1:!1,isUploaded:M=>a(M)?o[M].status===2:!1,markPending:M=>{o[M]=s(1,null)},markUploaded:(M,$)=>{o[M]=s(2,$)},removeFailed:M=>{delete o[M]},destroy:()=>{o={}}}};let rI=0;const aI=()=>{const e=()=>Math.round(Bl()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},WO=e=>e+rI+++aI(),qO=()=>{let e=[];const t=R=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[R.toLowerCase()]||"dat",o=(R,M,$,te,G)=>{if(tt(R))return s({id:R,name:te,filename:G,blob:M,base64:$});if(se(R))return s(R);throw new Error("Unknown input type")},s=R=>{if(!R.blob||!R.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const M=R.id||WO("blobid"),$=R.name||M,te=R.blob;return{id:pt(M),name:pt($),filename:pt(R.filename||$+"."+t(te.type)),blob:pt(te),base64:pt(R.base64),blobUri:pt(R.blobUri||URL.createObjectURL(te)),uri:pt(R.uri)}},a=R=>{u(R.id())||e.push(R)},c=R=>An(e,R).getOrUndefined(),u=R=>c(M=>M.id()===R);return{create:o,add:a,get:u,getByUri:R=>c(M=>M.blobUri()===R),getByData:(R,M)=>c($=>$.base64()===R&&$.blob().type===M),findFirst:c,removeByUri:R=>{e=xt(e,M=>M.blobUri()===R?(URL.revokeObjectURL(M.blobUri()),!1):!0)},destroy:()=>{Ge(e,R=>{URL.revokeObjectURL(R.blobUri())}),e=[]}}},GO=(e,t)=>{const o={},s=(G,ee)=>G?G.replace(/\/$/,"")+"/"+ee.replace(/^\//,""):ee,a=(G,ee)=>new Promise((ye,Ce)=>{const Te=new XMLHttpRequest;Te.open("POST",t.url),Te.withCredentials=t.credentials,Te.upload.onprogress=it=>{ee(it.loaded/it.total*100)},Te.onerror=()=>{Ce("Image upload failed due to a XHR Transport error. Code: "+Te.status)},Te.onload=()=>{if(Te.status<200||Te.status>=300){Ce("HTTP Error: "+Te.status);return}const it=JSON.parse(Te.responseText);if(!it||!tt(it.location)){Ce("Invalid JSON: "+Te.responseText);return}ye(s(t.basePath,it.location))};const Xe=new FormData;Xe.append("file",G.blob(),G.filename()),Te.send(Xe)}),c=Ut(t.handler)?t.handler:a,u=()=>new Promise(G=>{G([])}),f=(G,ee)=>({url:ee,blobInfo:G,status:!0}),b=(G,ee)=>({url:"",blobInfo:G,status:!1,error:ee}),_=(G,ee)=>{ct.each(o[G],ye=>{ye(ee)}),delete o[G]},T=(G,ee,ye)=>(e.markPending(G.blobUri()),new Promise(Ce=>{let Te,Xe;try{const it=()=>{Te&&(Te.close(),Xe=To)},It=Ke=>{it(),e.markUploaded(G.blobUri(),Ke),_(G.blobUri(),f(G,Ke)),Ce(f(G,Ke))},Xt=Ke=>{it(),e.removeFailed(G.blobUri()),_(G.blobUri(),b(G,Ke)),Ce(b(G,Ke))};Xe=Ke=>{Ke<0||Ke>100||B.from(Te).orThunk(()=>B.from(ye).map(un)).each(Ze=>{Te=Ze,Ze.progressBar.value(Ke)})},ee(G,Xe).then(It,Ke=>{Xt(tt(Ke)?{message:Ke}:Ke)})}catch(it){Ce(b(G,it))}})),R=G=>G===a,M=G=>{const ee=G.blobUri();return new Promise(ye=>{o[ee]=o[ee]||[],o[ee].push(ye)})},$=(G,ee)=>(G=ct.grep(G,ye=>!e.isUploaded(ye.blobUri())),Promise.all(ct.map(G,ye=>e.isPending(ye.blobUri())?M(ye):T(ye,c,ee))));return{upload:(G,ee)=>!t.url&&R(c)?u():$(G,ee)}},KO=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),X0=(e,t)=>GO(t,{url:xA(e),basePath:ik(e),credentials:Vy(e),handler:fp(e)}),iI=e=>{const t=jO(),o=X0(e,t);return{upload:(s,a=!0)=>o.upload(s,a?KO(e):void 0)}},YO=(e,t)=>e.dom.isEmpty(t.dom)&&Me(e.schema.getTextBlockElements()[jo(t)]),q_=e=>t=>{YO(e,t)&&dn(t,oe.fromHtml('<br data-mce-bogus="1" />'))},XO=e=>{const t=qO();let o,s;const a=jO(),c=[],u=Te=>Xe=>e.selection?Te(Xe):[],f=Te=>Te+(Te.indexOf("?")===-1?"?":"&")+new Date().getTime(),b=(Te,Xe,it)=>{let It=0;do It=Te.indexOf(Xe,It),It!==-1&&(Te=Te.substring(0,It)+it+Te.substr(It+Xe.length),It+=it.length-Xe.length+1);while(It!==-1);return Te},_=(Te,Xe,it)=>{const It=`src="${it}"${it===Bo.transparentSrc?' data-mce-placeholder="1"':""}`;return Te=b(Te,`src="${Xe}"`,It),Te=b(Te,'data-mce-src="'+Xe+'"','data-mce-src="'+it+'"'),Te},T=(Te,Xe)=>{Ge(e.undoManager.data,it=>{it.type==="fragmented"?it.fragments=Io(it.fragments,It=>_(It,Te,Xe)):it.content=_(it.content,Te,Xe)})},R=(Te,Xe)=>{const it=e.convertURL(Xe,"src");T(Te.src,Xe),Ri(oe.fromDom(Te),{src:ig(e)?f(Xe):Xe,"data-mce-src":it})},M=()=>(o||(o=X0(e,a)),ee().then(u(Te=>{const Xe=Io(Te,it=>it.blobInfo);return o.upload(Xe,KO(e)).then(u(it=>{const It=[];let Xt=!1;const Ke=Io(it,(Ze,Qe)=>{const{blobInfo:Nt,image:po}=Te[Qe];let Eo=!1;return Ze.status&&zy(e)?(Ze.url&&!Xo(po.src,Ze.url)&&(Xt=!0),t.removeByUri(po.src),ku(e)||R(po,Ze.url)):Ze.error&&(Ze.error.remove&&(T(po.src,Bo.transparentSrc),It.push(po),Eo=!0),EO(e,Ze.error.message)),{element:po,status:Ze.status,uploadUri:Ze.url,blobInfo:Nt,removed:Eo}});return It.length>0&&!ku(e)?e.undoManager.transact(()=>{Ge(hl(It),Ze=>{const Qe=ji(Ze);cs(Ze),Qe.each(q_(e)),t.removeByUri(Ze.dom.src)})}):Xt&&e.undoManager.dispatchChange(),Ke}))}))),$=()=>cv(e)?M():Promise.resolve([]),te=Te=>La(c,Xe=>Xe(Te)),G=Te=>{c.push(Te)},ee=()=>(s||(s=sI(a,t)),s.findAll(e.getBody(),te).then(u(Te=>{const Xe=xt(Te,it=>tt(it)?(F_(e,it),!1):it.uriType!=="blob");return ku(e)||Ge(Xe,it=>{T(it.image.src,it.blobInfo.blobUri()),it.image.src=it.blobInfo.blobUri(),it.image.removeAttribute("data-mce-src")}),Xe}))),ye=()=>{t.destroy(),a.destroy(),s=o=null},Ce=Te=>Te.replace(/src="(blob:[^"]+)"/g,(Xe,it)=>{const It=a.getResultUri(it);if(It)return'src="'+It+'"';let Xt=t.getByUri(it);return Xt||(Xt=Zo(e.editorManager.get(),(Ke,Ze)=>Ke||Ze.editorUpload&&Ze.editorUpload.blobCache.getByUri(it),void 0)),Xt?'src="data:'+Xt.blob().type+";base64,"+Xt.base64()+'"':Xe});return e.on("SetContent",()=>{cv(e)?$():ee()}),e.on("RawSaveContent",Te=>{Te.content=Ce(Te.content)}),e.on("GetContent",Te=>{Te.source_view||Te.format==="raw"||Te.format==="tree"||(Te.content=Ce(Te.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Te=>{Ge(Te,Xe=>{const it=Xe.attr("src");if(!it||t.getByUri(it))return;const It=a.getResultUri(it);It&&Xe.attr("src",It)})})}),{blobCache:t,addFilter:G,uploadImages:M,uploadImagesAuto:$,scanForImages:ee,destroy:ye}},QO=e=>{const t=e.dom,o=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},u={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[u,a,c]:[a,u,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,c,u)=>qt(a)&&a.hasAttribute("href"),onformat:(a,c,u)=>{ct.each(u,(f,b)=>{t.setAttrib(a,b,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>a?.customValue??null}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ct.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),a=>{s[a]={block:a,remove:"all"}}),s},JO={remove_similar:!0,inherit:!1},Q0={selector:"td,th",...JO},WS={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Q0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Q0},tablecellbordercolor:{styles:{borderColor:"%value"},...Q0},tablecellclass:{classes:["%value"],...Q0},tableclass:{selector:"table",classes:["%value"],...JO},tablecellborderstyle:{styles:{borderStyle:"%value"},...Q0},tablecellborderwidth:{styles:{borderWidth:"%value"},...Q0}},G_=pt(WS),e8=e=>{const t={},o=u=>Me(u)?t[u]:t,s=u=>ko(t,u),a=(u,f)=>{u&&(tt(u)?(ne(f)||(f=[f]),Ge(f,b=>{Co(b.deep)&&(b.deep=!Nc(b)),Co(b.split)&&(b.split=!Nc(b)||ya(b)),Co(b.remove)&&Nc(b)&&!ya(b)&&(b.remove="none"),Nc(b)&&ya(b)&&(b.mixed=!0,b.block_expand=!0),tt(b.classes)&&(b.classes=b.classes.split(/\s+/))}),t[u]=f):on(u,(b,_)=>{a(_,b)}))},c=u=>(u&&t[u]&&delete t[u],t);return a(QO(e)),a(G_()),a(RR(e)),{get:o,has:s,register:a,unregister:c}},J0=ct.each,Fc=Bn.DOM,qS=e=>Me(e)&&se(e),GS=(e,t)=>{const o=t&&t.schema||su({}),s=(b,_)=>{_.classes.length>0&&Fc.addClass(b,_.classes.join(" ")),Fc.setAttribs(b,_.attrs)},a=b=>{const _=tt(b)?{name:b,classes:[],attrs:{}}:b,T=Fc.create(_.name);return s(T,_),T},c=(b,_)=>{const R=o.getElementRule(b.nodeName.toLowerCase())?.parentsRequired;return R&&R.length?_&&Wo(R,_)?_:R[0]:!1},u=(b,_,T)=>{let R;const M=_[0],$=qS(M)?M.name:void 0,te=c(b,$);if(te)$===te?(R=M,_=_.slice(1)):R=te;else if(M)R=M,_=_.slice(1);else if(!T)return b;const G=R?a(R):Fc.create("div");G.appendChild(b),T&&ct.each(T,ye=>{const Ce=a(ye);G.insertBefore(Ce,b)});const ee=qS(R)?R.siblings:void 0;return u(G,_,ee)},f=Fc.create("div");if(e.length>0){const b=e[0],_=a(b),T=qS(b)?b.siblings:void 0;f.appendChild(u(_,e.slice(1),T))}return f},lI=e=>{e=ct.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,a,c,u,f)=>{switch(a){case"#":o.attrs.id=c;break;case".":o.classes.push(c);break;case":":ct.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(o.attrs[c]=c);break}if(u==="["){const b=f.match(/([\w\-]+)(?:\=\"([^\"]+))?/);b&&(o.attrs[b[1]]=b[2])}return""})),o.name=t||"div",o},t8=e=>tt(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ct.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=ct.map(t.split(/(?:~\+|~|\+)/),lI),s=o.pop();return o.length&&(s.siblings=o),s}).reverse()):[],KS=(e,t)=>{let o="",s=_A(e);if(s==="")return"";const a=M=>tt(M)?M.replace(/%(\w+)/g,""):"",c=(M,$)=>Fc.getStyle($??e.getBody(),M,!0);if(tt(t)){const M=e.formatter.get(t);if(!M)return"";t=M[0]}if("preview"in t){const M=t.preview;if(M===!1)return"";s=M||s}let u=t.block||t.inline||"span",f;const b=t8(t.selector);b.length>0?(b[0].name||(b[0].name=u),u=t.selector,f=GS(b,e)):f=GS([u],e);const _=Fc.select(u,f)[0]||f.firstChild;J0(t.styles,(M,$)=>{const te=a(M);te&&Fc.setStyle(_,$,te)}),J0(t.attributes,(M,$)=>{const te=a(M);te&&Fc.setAttrib(_,$,te)}),J0(t.classes,M=>{const $=a(M);Fc.hasClass(_,$)||Fc.addClass(_,$)}),e.dispatch("PreviewFormats"),Fc.setStyles(f,{position:"absolute",left:-65535}),e.getBody().appendChild(f);const T=c("fontSize"),R=/px$/.test(T)?parseInt(T,10):0;return J0(s.split(" "),M=>{let $=c(M,_);if(!(M==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test($)&&($=c(M),Qg($).toLowerCase()==="#ffffff"))&&!(M==="color"&&Qg($).toLowerCase()==="#000000")){if(M==="font-size"&&/em|%$/.test($)){if(R===0)return;$=parseFloat($)/(/%$/.test($)?100:1)*R+"px"}M==="border"&&$&&(o+="padding:0 2px;"),o+=M+":"+$+";"}}),e.dispatch("AfterPreviewFormats"),Fc.remove(f),o},K_=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},YS=e=>{const t=e8(e),o=jn({});return K_(e),AM(e),ku(e)||nS(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,a,c)=>{CP(e,s,a,c)},remove:(s,a,c,u)=>{kP(e,s,a,c,u)},toggle:(s,a,c)=>{rO(e,s,a,c)},match:(s,a,c,u)=>eO(e,s,a,c,u),closest:s=>sO(e,s),matchAll:(s,a)=>tO(e,s,a),matchNode:(s,a,c,u)=>oO(e,s,a,c,u),canApply:s=>nO(e,s),formatChanged:(s,a,c,u)=>SP(e,o,s,a,c,u),getCssText:ze(KS,e)}},XS=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},cI=(e,t,o)=>{const s=jn(!1),a=b=>{x2(t,!1,o),t.add({},b)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",b=>{const _=b.command;XS(_)||(yS(t,o),t.beforeChange())}),e.on("ExecCommand",b=>{const _=b.command;XS(_)||a(b)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",b=>{const _=b.keyCode;if(b.isDefaultPrevented())return;const T=Bo.os.isMacOS()&&b.key==="Meta";(_>=33&&_<=36||_>=37&&_<=40||_===45||b.ctrlKey||T)&&(a(),e.nodeChanged()),(_===46||_===8)&&e.nodeChanged(),s.get()&&t.typing&&!vS(R_(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",b=>{const _=b.keyCode;if(b.isDefaultPrevented())return;if(_>=33&&_<=36||_>=37&&_<=40||_===45){t.typing&&a(b);return}const T=b.ctrlKey&&!b.altKey||b.metaKey;if((_<16||_>20)&&_!==224&&_!==91&&!t.typing&&!T){t.beforeChange(),x2(t,!0,o),t.add({},b),s.set(!0);return}(Bo.os.isMacOS()?b.metaKey:b.ctrlKey&&!b.altKey)&&t.beforeChange()}),e.on("mousedown",b=>{t.typing&&a(b)});const c=b=>b.inputType==="insertReplacementText",u=b=>b.inputType==="insertText"&&b.data===null,f=b=>b.inputType==="insertFromPaste"||b.inputType==="insertFromDrop";e.on("input",b=>{b.inputType&&(c(b)||u(b)||f(b))&&a(b)}),e.on("AddUndo Undo Redo ClearUndos",b=>{b.isDefaultPrevented()||e.nodeChanged()})},o8=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},n8=e=>{const t=Il(),o=jn(0),s=jn(0),a={data:[],typing:!1,beforeChange:()=>{fP(e,o,t)},add:(c,u)=>pP(e,a,s,o,t,c,u),dispatchChange:()=>{e.setDirty(!0);const c=R_(e);c.bookmark=My(e.selection),e.dispatch("change",{level:c,lastLevel:cn(a.data,s.get()).getOrUndefined()})},undo:()=>hP(e,a,o,s),redo:()=>bP(e,s,a.data),clear:()=>{xP(e,a,s)},reset:()=>{vP(e,a)},hasUndo:()=>yP(e,a,s),hasRedo:()=>wP(e,a,s),transact:c=>_P(e,a,o,c),ignore:c=>{QD(e,o,c)},extra:(c,u)=>{JD(e,a,s,c,u)}};return ku(e)||cI(e,a,o),o8(e),a},dI=[9,27,Pt.HOME,Pt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Pt.DOWN,Pt.UP,Pt.LEFT,Pt.RIGHT].concat(Bo.browser.isFirefox()?[224]:[]),Y_="data-mce-placeholder",s8=e=>e.type==="keydown"||e.type==="keyup",QS=e=>{const t=e.keyCode;return t===Pt.BACKSPACE||t===Pt.DELETE},JS=e=>{if(s8(e)){const t=e.keyCode;return!QS(e)&&(Pt.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Wo(dI,t))}else return!1},r8=e=>s8(e)&&!(QS(e)||e.type==="keyup"&&e.keyCode===229),a8=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===s.nodeName.toLowerCase():!0}else return!1},i8=e=>{const t=e.dom,o=si(e),s=yA(e)??"",a=(c,u)=>{if(JS(c))return;const f=e.getBody(),b=r8(c)?!1:a8(t,f,o);(t.getAttrib(f,Y_)!==""!==b||u)&&(t.setAttrib(f,Y_,b?s:null),KC(e,b),e.on(b?"keydown":"keyup",a),e.off(b?"keyup":"keydown",a))};Or(s)&&e.on("init",c=>{a(c,!0),e.on("change SetContent ExecCommand",a),e.on("paste",u=>Ad.setEditorTimeout(e,()=>a(u)))})},l8=e=>t=>Me(t)&&t.nodeName.toLowerCase()===e,X_=e=>t=>Me(t)&&e.test(t.nodeName),wg=e=>Me(e)&&e.nodeType===3,Q_=e=>Me(e)&&e.nodeType===1,Md=X_(/^(OL|UL|DL)$/),eE=X_(/^(OL|UL)$/),J_=X_(/^(LI|DT|DD)$/),c8=X_(/^(DT|DD)$/),j1=l8("br"),uI=e=>e.parentNode?.firstChild===e,eC=(e,t)=>Me(t)&&t.nodeName in e.schema.getTextBlockElements(),S2=(e,t)=>Me(e)&&e.nodeName in t,mI=(e,t)=>Me(t)&&t.nodeName in e.schema.getVoidElements(),tC=(e,t)=>j1(t)?e.isBlock(t.nextSibling)&&!j1(t.previousSibling):!1,W1=(e,t,o)=>{const s=e.isEmpty(t);return o&&e.select("span[data-mce-type=bookmark]",t).length>0?!1:s},d8=(e,t)=>e.isChildOf(t,e.getRoot()),u8=Bn.DOM,m8=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const s=o.previousSibling;s&&s.nodeName==="LI"?(s.appendChild(t),W1(e,o)&&u8.remove(o)):u8.setStyle(o,"listStyleType","none")}if(Md(o)){const s=o.previousSibling;s&&s.nodeName==="LI"&&s.appendChild(t)}},oC=(e,t)=>{const o=ct.grep(e.select("ol,ul",t));ct.each(o,s=>{m8(e,s)})},g8=(e,t)=>{if(wg(e))return{container:e,offset:t};const o=gu.getNode(e,t);return wg(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&wg(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&wg(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},nC=e=>{const t=e.cloneRange(),o=g8(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const s=g8(e.endContainer,e.endOffset);return t.setEnd(s.container,s.offset),t},ex=["OL","UL","DL"],tE=ex.join(","),E2=(e,t)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,tE,tx(e,o))},f8=(e,t)=>Me(e)&&t.length===1&&t[0]===e,p8=e=>xt(e.querySelectorAll(tE),Md),gI=e=>{const t=E2(e),o=e.selection.getSelectedBlocks();return f8(t,o)?p8(t):xt(o,s=>Md(s)&&t!==s)},fI=(e,t)=>{const o=ct.map(t,s=>{const a=e.dom.getParent(s,"li,dd,dt",tx(e,s));return a||s});return Nl(o)},oE=e=>{const t=e.selection.getSelectedBlocks();return xt(fI(e,t),J_)},pI=e=>xt(oE(e),c8),sC=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()},nE=(e,t)=>!Md(t)&&!J_(t)&&In(ex,o=>e.isValidChild(t.nodeName,o)),tx=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock),s=c=>c.nodeName.toLowerCase()!==si(e);return An(o,c=>s(c)&&nE(e.schema,c)).getOr(e.getBody())},h8=e=>ji(e).exists(t=>J_(t.dom)&&Vl(t).exists(o=>!Md(o.dom))&&ta(t).exists(o=>!Md(o.dom))),sE=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",tx(e,t));return qs(o)},b8=e=>{const t=sE(e,e.selection.getStart()),o=xt(e.selection.getSelectedBlocks(),eE);return t.toArray().concat(o)},hI=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",tx(e,t))},x8=e=>{const t=b8(e),o=hI(e);return An(o,s=>h8(oe.fromDom(s))).fold(()=>v8(e,t),s=>[s])},v8=(e,t)=>{const o=Io(t,s=>sE(e,s).getOr(s));return Nl(o)},A2=e=>/\btox\-/.test(e.className),y8=(e,t)=>t!==null&&!e.dom.isEditable(t),bI=e=>{const t=E2(e);return y8(e,t)||!e.selection.isEditable()},Eu=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return y8(e,o)||!e.selection.isEditable()},Ip=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o}),rE=(e,t,o={})=>{const s=e.dom,a=e.schema.getBlockElements(),c=s.createFragment(),u=si(e),f=r0(e);let b,_,T=!1;for(_=s.create(u,{...f,...o.style?{style:o.style}:{}}),S2(t.firstChild,a)||c.appendChild(_);b=t.firstChild;){const R=b.nodeName;!T&&(R!=="SPAN"||b.getAttribute("data-mce-type")!=="bookmark")&&(T=!0),S2(b,a)?(c.appendChild(b),_=null):(_||(_=s.create(u,f),c.appendChild(_)),_.appendChild(b))}return!T&&_&&_.appendChild(s.create("br",{"data-mce-bogus":"1"})),c},q1=e=>Nm(e,"OL,UL"),rC=e=>Nm(e,"LI"),w8=e=>Vl(e).exists(q1),_8=e=>ta(e).exists(q1),xI=(e,t)=>HA(e).map(o=>o>=t).getOr(!0),Lp=e=>"listAttributes"in e,C8=e=>"isComment"in e,k8=e=>"isFragment"in e,T2=e=>e.depth>0,aE=e=>e.isSelected,S8=e=>{const t=rn(e),o=_8(e)?t.slice(0,-1):t;return Io(o,Mi)},E8=(e,t,o)=>ji(e).filter(fr).map(s=>({depth:t,dirty:!1,isSelected:o,content:S8(e),itemAttributes:xc(e),listAttributes:xc(s),listType:jo(s),isInPreviousLi:!1})),A8=(e,t)=>{dn(e.item,t.list)},T8=e=>{for(let t=1;t<e.length;t++)A8(e[t-1],e[t])},vI=(e,t)=>{Rs(qs(e),Kn(t),A8)},D8=(e,t)=>{const o={list:oe.fromTag(t,e),item:oe.fromTag("li",e)};return dn(o.list,o.item),o},O8=(e,t,o)=>{const s=[];for(let a=0;a<o;a++)s.push(D8(e,Lp(t)?t.listType:t.parentListType));return s},R8=(e,t)=>{for(let o=0;o<e.length-1;o++)Hg(e[o].item,"list-style-type","none");qs(e).each(o=>{Lp(t)&&(Ri(o.list,t.listAttributes),Ri(o.item,t.itemAttributes)),Qs(o.item,t.content)})},N8=(e,t)=>{jo(e.list)!==t.listType&&(e.list=Vg(e.list,t.listType)),Ri(e.list,t.listAttributes)},M8=(e,t,o)=>{const s=oe.fromTag("li",e);return Ri(s,t),Qs(s,o),s},B8=(e,t)=>{dn(e.list,t),e.item=t},aC=(e,t,o)=>{const s=t.slice(0,o.depth);return qs(s).each(a=>{if(Lp(o)){const c=M8(e,o.itemAttributes,o.content);B8(a,c),N8(a,o)}else if(k8(o))Qs(a.item,o.content);else{const c=oe.fromHtml(`<!--${o.content}-->`);dn(a.list,c)}}),s},P8=(e,t,o)=>{const s=O8(e,o,o.depth-t.length);return T8(s),R8(s,o),vI(t,s),t.concat(s)},I8=(e,t)=>{let o=B.none();const s=Zo(t,(a,c,u)=>C8(c)?u===0?(o=B.some(c),a):aC(e,a,c):c.depth>a.length?P8(e,a,c):aC(e,a,c),[]);return o.each(a=>{const c=oe.fromHtml(`<!--${a.content}-->`);Kn(s).each(u=>{hc(u.list,c)})}),Kn(s).map(a=>a.list)},L8=(e,t,o)=>{switch(t){case"Indent":if(xI(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},F8=(e,t)=>{Lp(e)&&Lp(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},z8=e=>{e.listAttributes=Dr(e.listAttributes,(t,o)=>o!=="start")},V8=(e,t)=>{const o=e[t].depth,s=c=>c.depth===o&&!c.dirty,a=c=>c.depth<o;return jc(ma(e.slice(0,t)),s,a).orThunk(()=>jc(e.slice(t+1),s,a))},iE=e=>(Ge(e,(t,o)=>{V8(e,o).fold(()=>{t.dirty&&Lp(t)&&z8(t)},s=>F8(t,s))}),e),iC=(e,t,o,s)=>{if(Ax(s))return[{depth:e+1,content:s.dom.nodeValue??"",dirty:!1,isSelected:!1,isComment:!0}];t.each(u=>{sn(u.start,s)&&o.set(!0)});const a=E8(s,e,o.get());t.each(u=>{sn(u.end,s)&&o.set(!1)});const c=ta(s).filter(q1).map(u=>G1(e,t,o,u)).getOr([]);return a.toArray().concat(c)},lE=(e,t,o,s)=>Vl(s).filter(q1).fold(()=>iC(e,t,o,s),a=>{const c=Zo(rn(s),(u,f,b)=>{if(b===0)return u;if(rC(f))return u.concat(iC(e,t,o,f));{const _={isFragment:!0,depth:e,content:[f],isSelected:!1,dirty:!1,parentListType:jo(a)};return u.concat(_)}},[]);return G1(e,t,o,a).concat(c)}),G1=(e,t,o,s)=>dr(rn(s),a=>{const c=q1(a)?G1:lE,u=e+1;return c(u,t,o,a)}),H8=(e,t)=>{const o=jn(!1),s=0;return Io(e,a=>({sourceList:a,entries:G1(s,t,o,a)}))},$8=(e,t)=>{const o=iE(t);return Io(o,s=>{const a=C8(s)?_r([oe.fromHtml(`<!--${s.content}-->`)]):_r(s.content),c=Lp(s)?s.itemAttributes:{};return oe.fromDom(rE(e,a.dom,c))})},U8=(e,t)=>{const o=iE(t);return I8(e.contentDocument,o).toArray()},cE=(e,t)=>dr(Gn(t,T2),o=>Kn(o).exists(T2)?U8(e,o):$8(e,o)),Z8=(e,t,o)=>{Ge(xt(t,aE),s=>L8(e,o,s))},j8=e=>{const t=Io(oE(e),oe.fromDom);return Rs(An(t,Ee(w8)),An(ma(t),Ee(w8)),(o,s)=>({start:o,end:s}))},W8=(e,t,o)=>{const s=H8(t,j8(e));Ge(s,a=>{Z8(e,a.entries,o);const c=cE(e,a.entries);Ge(c,u=>{Ip(e,o==="Indent"?"IndentList":"OutdentList",u.dom)}),Hu(a.sourceList,c),cs(a.sourceList)})},yI=e=>HA(e).forall(t=>{const o=e.selection.getSelectedBlocks();return In(o,s=>dd(oe.fromDom(s),"li").forall(a=>Ki(a,"ol,ul").length<=t))}),Af=Bn.DOM,q8=(e,t,o)=>{const s=_=>{const T=_.parentNode;T&&ct.each(a,R=>{T.insertBefore(R,o.parentNode)}),Af.remove(_)},a=Af.select('span[data-mce-type="bookmark"]',t),c=rE(e,o),u=Af.createRng();u.setStartAfter(o),u.setEndAfter(t);const f=u.extractContents();for(let _=f.firstChild;_;_=_.firstChild)if(_.nodeName==="LI"&&e.dom.isEmpty(_)){Af.remove(_);break}e.dom.isEmpty(f)||Af.insertAfter(f,t),Af.insertAfter(c,t);const b=o.parentElement;b&&W1(e.dom,b)&&s(b),Af.remove(o),W1(e.dom,t)&&Af.remove(t)},lC=ea("dd"),dE=ea("dt"),G8=(e,t)=>{lC(t)?Vg(t,"dt"):dE(t)&&Mm(t).each(o=>q8(e,o.dom,t.dom))},uE=e=>{dE(e)&&Vg(e,"dd")},wI=(e,t,o)=>{t==="Indent"?Ge(o,uE):Ge(o,s=>G8(e,s))},K8=(e,t)=>{const o=hl(x8(e)),s=hl(pI(e));let a=!1;if(o.length||s.length){const c=e.selection.getBookmark();W8(e,o,t),wI(e,t,s),e.selection.moveToBookmark(c),e.selection.setRng(nC(e.selection.getRng())),e.nodeChanged(),a=!0}return a},mE=(e,t)=>!bI(e)&&K8(e,t),gE=e=>mE(e,"Indent"),cC=e=>mE(e,"Outdent"),dC=e=>mE(e,"Flatten"),ox=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},_I=(e,t,o)=>{const s=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",s)},n=(e,t)=>{ct.each(t,(o,s)=>{e.setAttribute(s,o)})},r=(e,t,o)=>{n(t,o["list-attributes"]),ct.each(e.select("li",t),s=>{n(s,o["list-item-attributes"])})},i=(e,t,o)=>{_I(e,t,o),r(e,t,o)},l=(e,t,o)=>{ct.each(o,s=>e.setStyle(t,s,""))},d=(e,t)=>Me(t)&&!S2(t,e.schema.getBlockElements()),m=(e,t,o,s)=>{let a=t[o?"startContainer":"endContainer"];const c=t[o?"startOffset":"endOffset"];Q_(a)&&(a=a.childNodes[Math.min(c,a.childNodes.length-1)]||a),!o&&j1(a.nextSibling)&&(a=a.nextSibling);const u=b=>{for(;!e.dom.isBlock(b)&&b.parentNode&&s!==b;)b=b.parentNode;return b},f=(b,_)=>{const T=new rr(b,u(b)),R=_?"next":"prev";let M;for(;M=T[R]();)if(!(mI(e,M)||Ti(M.textContent)||M.textContent?.length===0))return B.some(M);return B.none()};if(o&&wg(a))if(Ti(a.textContent))a=f(a,!1).getOr(a);else for(a.parentNode!==null&&d(e,a.parentNode)&&(a=a.parentNode);a.previousSibling!==null&&(d(e,a.previousSibling)||wg(a.previousSibling));)a=a.previousSibling;if(!o&&wg(a))if(Ti(a.textContent))a=f(a,!0).getOr(a);else for(a.parentNode!==null&&d(e,a.parentNode)&&(a=a.parentNode);a.nextSibling!==null&&(d(e,a.nextSibling)||wg(a.nextSibling));)a=a.nextSibling;for(;a.parentNode!==s;){const b=a.parentNode;if(eC(e,a)||/^(TD|TH)$/.test(b.nodeName))return a;a=b}return a},p=(e,t,o)=>{const s=[],a=e.dom,c=m(e,t,!0,o),u=m(e,t,!1,o);let f;const b=[];for(let _=c;_&&(b.push(_),_!==u);_=_.nextSibling);return ct.each(b,_=>{if(eC(e,_)){s.push(_),f=null;return}if(a.isBlock(_)||j1(_)){j1(_)&&a.remove(_),f=null;return}const T=_.nextSibling;if(c1.isBookmarkNode(_)&&(Md(T)||eC(e,T)||!T&&_.parentNode===o)){f=null;return}f||(f=a.create("p"),_.parentNode?.insertBefore(f,_),s.push(f)),f.appendChild(_)}),s},x=(e,t,o)=>{const s=e.getStyle(t,"list-style-type");let a=o?o["list-style-type"]:"";return a=a===null?"":a,s===a},v=(e,t)=>{const o=e.selection.getStart(!0),s=m(e,t,!0,e.getBody());return jl(oe.fromDom(s),oe.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:o},w=(e,t,o)=>{const s=e.selection.getRng();let a="LI";const c=tx(e,v(e,s)),u=e.dom;if(u.getContentEditable(e.selection.getNode())==="false")return;t=t.toUpperCase(),t==="DL"&&(a="DT");const f=_f(s),b=xt(p(e,s,c),e.dom.isEditable);ct.each(b,_=>{let T;const R=_.previousSibling,M=_.parentNode;J_(M)||(R&&Md(R)&&R.nodeName===t&&x(u,R,o)?(T=R,_=u.rename(_,a),R.appendChild(_)):(T=u.create(t),M.insertBefore(T,_),T.appendChild(_),_=u.rename(_,a)),l(u,_,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),i(u,T,o),I(e.dom,T))}),e.selection.setRng(fm(f))},S=(e,t)=>Md(e)&&e.nodeName===t?.nodeName,k=(e,t,o)=>{const s=e.getStyle(t,"list-style-type",!0),a=e.getStyle(o,"list-style-type",!0);return s===a},A=(e,t)=>e.className===t.className,N=(e,t,o)=>S(t,o)&&k(e,t,o)&&A(t,o),I=(e,t)=>{let o,s=t.nextSibling;if(N(e,t,s)){const a=s;for(;o=a.firstChild;)t.appendChild(o);e.remove(a)}if(s=t.previousSibling,N(e,t,s)){const a=s;for(;o=a.lastChild;)t.insertBefore(o,t.firstChild);e.remove(a)}},K=(e,t,o,s)=>{if(t.nodeName!==o){const a=e.dom.rename(t,o);i(e.dom,a,s),Ip(e,ox(o),a)}else i(e.dom,t,s),Ip(e,ox(o),t)},Z=(e,t,o,s)=>{if(t.classList.forEach((a,c,u)=>{a.startsWith("tox-")&&(u.remove(a),u.length===0&&t.removeAttribute("class"))}),t.nodeName!==o){const a=e.dom.rename(t,o);i(e.dom,a,s),Ip(e,ox(o),a)}else i(e.dom,t,s),Ip(e,ox(o),t)},q=(e,t,o,s,a)=>{const c=Md(t);if(c&&t.nodeName===s&&!V(a)&&!A2(t))dC(e);else{w(e,s,a);const u=_f(e.selection.getRng()),f=c?[t,...o]:o,b=c&&A2(t)?Z:K;ct.each(f,_=>{b(e,_,s,a)}),e.selection.setRng(fm(u))}},V=e=>"list-style-type"in e,H=(e,t,o,s)=>{if(t!==e.getBody())if(t)if(t.nodeName===o&&!V(s)&&!A2(t))dC(e);else{const a=_f(e.selection.getRng());A2(t)&&t.classList.forEach((u,f,b)=>{u.startsWith("tox-")&&(b.remove(u),b.length===0&&t.removeAttribute("class"))}),i(e.dom,t,s);const c=e.dom.rename(t,o);I(e.dom,c),e.selection.setRng(fm(a)),w(e,o,s),Ip(e,ox(o),c)}else w(e,o,s),Ip(e,ox(o),t)},Y=(e,t,o)=>{const s=E2(e);if(Eu(e,s))return;const a=gI(e),c=se(o)?o:{};a.length>0?q(e,s,a,t,c):H(e,s,t,c)},J=(e,t,o,s)=>{let a=t.startContainer;const c=t.startOffset;if(wg(a)&&(o?c<a.data.length:c>0))return a;const u=e.schema.getNonEmptyElements();Q_(a)&&(a=gu.getNode(a,c));const f=new rr(a,s);o&&tC(e.dom,a)&&f.next();const b=o?f.next.bind(f):f.prev2.bind(f);for(;a=b();)if(a.nodeName==="LI"&&!a.hasChildNodes()||u[a.nodeName]||wg(a)&&a.data.length>0)return a;return null},me=(e,t)=>{const o=t.childNodes;return o.length===1&&!Md(o[0])&&e.isBlock(o[0])},ue=e=>B.from(e).map(oe.fromDom).filter(Kd).exists(t=>qi(t)&&!Wo(["details"],jo(t))),pe=(e,t)=>{me(e,t)&&ue(t.firstChild)&&e.remove(t.firstChild,!0)},He=(e,t,o)=>{let s;const a=me(e,o)?o.firstChild:o;if(pe(e,t),!W1(e,t,!0))for(;s=t.firstChild;)a.appendChild(s)},Ve=(e,t,o)=>{let s;const a=t.parentNode;if(!d8(e,t)||!d8(e,o))return;Md(o.lastChild)&&(s=o.lastChild),a===o.lastChild&&j1(a.previousSibling)&&e.remove(a.previousSibling);const c=o.lastChild;c&&j1(c)&&t.hasChildNodes()&&e.remove(c),W1(e,o,!0)&&Uu(oe.fromDom(o)),He(e,t,o),s&&o.appendChild(s);const f=Nr(oe.fromDom(o),oe.fromDom(t))?e.getParents(t,Md,o):[];e.remove(t),Ge(f,b=>{W1(e,b)&&b!==e.getRoot()&&e.remove(b)})},Le=(e,t,o)=>{Uu(oe.fromDom(o)),Ve(e.dom,t,o),e.selection.setCursorLocation(o,0)},qe=(e,t,o,s)=>{const a=e.dom;if(a.isEmpty(s))Le(e,o,s);else{const c=_f(t);Ve(a,o,s),e.selection.setRng(fm(c))}},ut=(e,t,o,s)=>{const a=_f(t);Ve(e.dom,o,s);const c=fm(a);e.selection.setRng(c)},$t=(e,t)=>{const o=e.dom,s=e.selection,a=s.getStart(),c=sC(e,a),u=o.getParent(s.getStart(),"LI",c);if(u){const f=u.parentElement;if(f===e.getBody()&&W1(o,f))return!0;const b=nC(s.getRng()),_=o.getParent(J(e,b,t,c),"LI",c),T=_&&(t?o.isChildOf(u,_):o.isChildOf(_,u));if(_&&_!==u&&!T)return e.undoManager.transact(()=>{t?qe(e,b,_,u):uI(u)?cC(e):ut(e,b,u,_)}),!0;if(T&&!t&&_!==u){const R=b.commonAncestorContainer.parentElement;return!R||o.isChildOf(_,R)?!1:(e.undoManager.transact(()=>{const M=_f(b);He(o,R,_),R.remove();const $=fm(M);e.selection.setRng($)}),!0)}else if(!_&&!t&&b.startOffset===0&&b.endOffset===0)return e.undoManager.transact(()=>{dC(e)}),!0}return!1},lo=(e,t,o)=>{const s=e.getParent(t.parentNode,e.isBlock,o);e.remove(t),s&&e.isEmpty(s)&&e.remove(s)},fo=(e,t)=>{const o=e.dom,s=e.selection.getStart(),a=sC(e,s),c=o.getParent(s,o.isBlock,a);if(c&&o.isEmpty(c,void 0,{checkRootAsContent:!0})){const u=nC(e.selection.getRng()),f=J(e,u,t,a),b=o.getParent(f,"LI",a);if(f&&b){const _=$=>Wo(["td","th","caption"],jo($)),T=$=>$.dom===a,R=Ii(oe.fromDom(b),_,T),M=Ii(oe.fromDom(u.startContainer),_,T);return Iu(R,M,sn)?(e.undoManager.transact(()=>{const $=b.parentNode;lo(o,c,a),I(o,$),e.selection.select(f,!0),e.selection.collapse(t)}),!0):!1}}return!1},qo=(e,t)=>$t(e,t)||fo(e,t),Sn=e=>{const t=e.selection.getStart(),o=sC(e,t),s=e.dom.getParent(t,"LI,DT,DD",o);return Me(s)||oE(e).length>0},Jn=e=>Sn(e)?(e.undoManager.transact(()=>{let t=!0;const o=()=>t=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),t&&e.dispatch("input"),oC(e.dom,e.getBody())}),!0):!1,ao=(e,t)=>{const o=e.selection;return!Eu(e,o.getNode())&&(o.isCollapsed()?qo(e,t):Jn(e))},es=(e,t)=>({block:e,position:t}),xo=(e,t)=>({from:e,to:t}),ps=(e,t)=>{const o=oe.fromDom(e),s=oe.fromDom(t.container());return Hv(o,s).map(a=>es(a,t))},Nn=e=>!(Nr(e.to.block,e.from.block)||Nr(e.from.block,e.to.block)),ca=e=>!sn(e.from.block,e.to.block),rs=(e,t)=>Ii(t,a=>cp(a)||pi(a.dom),a=>sn(a,e)).filter(fr).getOr(e),Al=(e,t)=>{const o=oe.fromDom(e);return sn(rs(o,t.from.block),rs(o,t.to.block))},Ci=e=>Xn(e.from.block.dom)===!1&&Xn(e.to.block.dom)===!1,rl=e=>{const t=o=>lp(o)||Jf(o.dom)||om(o);return t(e.from.block)&&t(e.to.block)},Tf=(e,t,o,s)=>Ls(s.position.getNode())&&!ti(e,s.block)?n1(!1,s.block.dom).bind(a=>a.isEqual(s.position)?kd(o,t,a).bind(c=>ps(t,c)):B.some(s)).getOr(s):s,nx=(e,t,o,s)=>{const a=ps(t,Ye.fromRangeStart(s)),c=a.bind(u=>kd(o,t,u.position).bind(f=>ps(t,f).map(b=>Tf(e,t,o,b))));return Rs(a,c,xo).filter(u=>ca(u)&&Al(t,u)&&Ci(u)&&rl(u)&&Nn(u))},uC=(e,t,o,s)=>s.collapsed?nx(e,t,o,s):B.none(),hm=(e,t)=>{const o=rn(e);return Is(o,s=>t.isBlock(jo(s))).fold(pt(o),s=>o.slice(0,s))},Fp=(e,t)=>{const o=hm(e,t);return Ge(o,cs),o},bm=(e,t,o)=>{const s=gm(o,t);return An(s.reverse(),a=>ti(e,a)).each(cs)},sx=(e,t)=>xt(Ss(t),o=>!ti(e,o)).length===0,rx=(e,t,o,s,a)=>{if(ti(s,o))return lu(o),$i(o.dom);sx(s,a)&&ti(s,t)&&na(a,oe.fromTag("br"));const c=tc(o.dom,Ye.before(a.dom));return Ge(Fp(t,s),u=>{na(a,u)}),bm(s,e,t),c},zp=(e,t)=>e.isInline(jo(t)),ax=(e,t,o,s)=>{if(ti(s,o)){if(ti(s,t)){const u=gn((f=>{const b=(_,T)=>Vl(_).fold(()=>T,R=>zp(s,R)?b(R,T.concat(id(R))):T);return b(f,[])})(o),(f,b)=>(yr(f,b),b),sf());Uu(t),dn(t,u)}return cs(o),$i(t.dom)}const a=Sd(o.dom);return Ge(Fp(t,s),c=>{dn(o,c)}),bm(s,e,t),a},K1=(e,t)=>{const o=gm(t,e);return B.from(o[o.length-1])},D2=(e,t)=>Nr(t,e)?K1(t,e):B.none(),ix=(e,t)=>{n1(e,t.dom).bind(o=>B.from(o.getNode())).map(oe.fromDom).filter(Qi).each(cs)},Y1=(e,t,o,s)=>(ix(!0,t),ix(!1,o),D2(t,o).fold(ze(ax,e,t,o,s),ze(rx,e,t,o,s))),Df=(e,t,o,s,a)=>t?Y1(e,s,o,a):Y1(e,o,s,a),mn=(e,t)=>{const o=oe.fromDom(e.getBody());return uC(e.schema,o.dom,t,e.selection.getRng()).map(a=>()=>{Df(o,t,a.from.block,a.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},Au=(e,t,o)=>{const s=t.getRng();return Rs(Hv(e,oe.fromDom(s.startContainer)),Hv(e,oe.fromDom(s.endContainer)),(a,c)=>sn(a,c)?B.none():B.some(()=>{s.deleteContents(),Df(e,!0,a,c,o).each(u=>{t.setRng(u.toRange())})})).getOr(B.none())},Tu=(e,t)=>{const o=oe.fromDom(t),s=ze(sn,e);return Qa(o,cp,s).isSome()},Y8=(e,t)=>Tu(e,t.startContainer)||Tu(e,t.endContainer),X8=(e,t)=>{const o=tc(e.dom,Ye.fromRangeStart(t)).isNone(),s=ol(e.dom,Ye.fromRangeEnd(t)).isNone();return!Y8(e,t)&&o&&s},fE=e=>B.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),Q8=e=>{const t=oe.fromDom(e.getBody()),o=e.selection.getRng();return X8(t,o)?fE(e):Au(t,e.selection,e.schema)},lx=(e,t)=>e.selection.isCollapsed()?B.none():Q8(e),Du=(e,t,o,s,a)=>B.from(t._selectionOverrides.showCaret(e,o,s,a)),Of=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},_g=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?B.none():B.some(Of(t)),pE=(e,t,o)=>{const s=Rk(1,e.getBody(),t),a=Ye.fromRangeStart(s),c=a.getNode();if(d0(c))return Du(1,e,c,!a.isAtEnd(),!1);const u=a.getNode(!0);if(d0(u))return Du(1,e,u,!1,!1);const f=kp(e.dom.getRoot(),a.getNode());return d0(f)?Du(1,e,f,!1,o):B.none()},O2=(e,t,o)=>t.collapsed?pE(e,t,o).getOr(t):t,CI=e=>bf(e)||_p(e),mC=e=>xf(e)||b1(e),gC=(e,t)=>{ht(t)&&t.data.length===0&&e.remove(t)},J8=(e,t,o,s,a,c)=>{Du(s,e,c.getNode(!a),a,!0).each(u=>{if(t.collapsed){const f=t.cloneRange();a?f.setEnd(u.startContainer,u.startOffset):f.setStart(u.endContainer,u.endOffset),f.deleteContents()}else t.deleteContents();e.selection.setRng(u)}),gC(e.dom,o)},R2=(e,t)=>{const o=e.selection.getRng();if(!ht(o.commonAncestorContainer))return B.none();const s=t?1:-1,a=lg(e.getBody()),c=ze(e1,t?a.next:a.prev),u=t?CI:mC,f=f0(s,e.getBody(),o),b=c(f),_=b&&Td(t,b);if(!_||!mu(f,_))return B.none();if(u(_))return B.some(()=>J8(e,o,f.getNode(),s,t,_));const T=c(_);return T&&u(T)&&mu(_,T)?B.some(()=>J8(e,o,f.getNode(),s,t,T)):B.none()},hE=(e,t)=>R2(e,t),ai=(e,t)=>{const o=e.getBody();return t?$i(o).filter(bf):Sd(o).filter(xf)},Vp=e=>{const t=e.selection.getRng();return!t.collapsed&&(ai(e,!0).exists(o=>o.isEqual(Ye.fromRangeStart(t)))||ai(e,!1).exists(o=>o.isEqual(Ye.fromRangeEnd(t))))},kI=e=>Me(e)&&(cp(oe.fromDom(e))||om(oe.fromDom(e))),rc=ll.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),bE=(e,t)=>{const o=t.getNode(!e),s=e?"after":"before";return qt(o)&&o.getAttribute("data-mce-caret")===s},e7=(e,t,o,s,a)=>{const c=u=>a.isInline(u.nodeName.toLowerCase())&&!ra(o,s,e);return n5(!t,o).fold(()=>n5(t,s).fold(Do,c),c)},xE=(e,t,o,s,a)=>{const c=a.getNode(!o);return Hv(oe.fromDom(t),oe.fromDom(s.getNode())).map(u=>ti(e,u)?rc.remove(u.dom):rc.moveToElement(c)).orThunk(()=>B.some(rc.moveToElement(c)))},xm=(e,t,o,s)=>kd(t,e,o).bind(a=>kI(a.getNode())||e7(e,t,o,a,s)?B.none():t&&Xn(a.getNode())||!t&&Xn(a.getNode(!0))?xE(s,e,t,o,a):t&&xf(o)||!t&&bf(o)?B.some(rc.moveToPosition(a)):B.none()),cx=(e,t)=>to(t)?B.none():e&&Xn(t.nextSibling)?B.some(rc.moveToElement(t.nextSibling)):!e&&Xn(t.previousSibling)?B.some(rc.moveToElement(t.previousSibling)):B.none(),t7=(e,t,o)=>o.fold(s=>B.some(rc.remove(s)),s=>B.some(rc.moveToElement(s)),s=>ra(t,s,e)?B.none():B.some(rc.moveToPosition(s))),o7=(e,t,o,s)=>bE(t,o)?cx(t,o.getNode(!t)).orThunk(()=>xm(e,t,o,s)):xm(e,t,o,s).bind(a=>t7(e,o,a)),vE=(e,t,o,s)=>{const a=Rk(t?1:-1,e,o),c=Ye.fromRangeStart(a),u=oe.fromDom(e);return!t&&xf(c)?B.some(rc.remove(c.getNode(!0))):t&&bf(c)?B.some(rc.remove(c.getNode())):!t&&bf(c)&&Bv(u,c,s)?k4(u,c,s).map(f=>rc.remove(f.getNode())):t&&xf(c)&&Nw(u,c,s)?yT(u,c,s).map(f=>rc.remove(f.getNode())):o7(e,t,c,s)},n7=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),hu(e,t,oe.fromDom(o)),!0),Rf=(e,t)=>o=>{const s=t?Ye.before(o):Ye.after(o);return e.selection.setRng(s.toRange()),!0},s7=e=>t=>(e.selection.setRng(t.toRange()),!0),yE=(e,t)=>B.from(kp(e.getBody(),t)),r7=(e,t)=>{const o=e.selection.getNode();return yE(e,o).filter(Xn).fold(()=>vE(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(n7(e,t),Rf(e,t),s7(e))),()=>B.some(To))},a7=e=>{Ge(qr(e,".mce-offscreen-selection"),cs)},SI=(e,t)=>{const o=e.selection.getNode();return Xn(o)&&!Gg(o)?yE(e,o.parentNode).filter(Xn).fold(()=>B.some(()=>{a7(oe.fromDom(e.getBody())),hu(e,t,oe.fromDom(e.selection.getNode())),zw(e)}),()=>B.some(To)):Vp(e)?B.some(()=>{$v(e,e.selection.getRng(),oe.fromDom(e.getBody()))}):B.none()},Ne=e=>{const t=e.dom,o=e.selection,s=kp(e.getBody(),o.getNode());if(pi(s)&&t.isBlock(s)&&t.isEmpty(s)){const a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(a),o.setRng(Ye.before(a).toRange())}return!0},Ho=(e,t)=>e.selection.isCollapsed()?r7(e,t):SI(e,t),yo=(e,t)=>{const o=e.dom,s=o.getParent(e.selection.getStart(),o.isBlock),a=o.getParent(e.selection.getEnd(),o.isBlock),c=e.getBody();if(s?.nodeName?.toLowerCase()==="div"&&s&&a&&s===c.firstChild&&a===c.lastChild&&!o.isEmpty(c)){const f=s.cloneNode(!1),b=()=>{if(t?PT(e):P0(e),c.firstChild!==s){const _=_f(e.selection.getRng(),()=>document.createElement("span"));Array.from(c.childNodes).forEach(T=>f.appendChild(T)),c.appendChild(f),e.selection.setRng(fm(_))}};return B.some(b)}return B.none()},As=(e,t)=>{const o=Ye.fromRangeStart(e.selection.getRng());return kd(t,e.getBody(),o).filter(s=>t?p4(s):h4(s)).bind(s=>Qy(t?0:-1,s)).map(s=>()=>e.selection.select(s))},Vs=(e,t)=>e.selection.isCollapsed()?As(e,t):B.none(),Vn=ht,ii=e=>Vn(e)&&e.data[0]===Vr,Nf=e=>Vn(e)&&e.data[e.data.length-1]===Vr,vm=e=>(e.ownerDocument??document).createTextNode(Vr),wE=e=>{if(Vn(e.previousSibling))return Nf(e.previousSibling)||e.previousSibling.appendData(Vr),e.previousSibling;if(Vn(e))return ii(e)||e.insertData(0,Vr),e;{const t=vm(e);return e.parentNode?.insertBefore(t,e),t}},Tl=e=>{if(Vn(e.nextSibling))return ii(e.nextSibling)||e.nextSibling.insertData(0,Vr),e.nextSibling;if(Vn(e))return Nf(e)||e.appendData(Vr),e;{const t=vm(e);return e.nextSibling?e.parentNode?.insertBefore(t,e.nextSibling):e.parentNode?.appendChild(t),t}},N2=(e,t)=>e?wE(t):Tl(t),i7=ze(N2,!0),q$=ze(N2,!1),uF=(e,t)=>ht(e.container())?N2(t,e.container()):N2(t,e.getNode()),mF=(e,t)=>{const o=t.get();return o&&e.container()===o&&nm(o)},EI=(e,t)=>t.fold(o=>{pp(e.get());const s=i7(o);return e.set(s),B.some(Ye(s,s.length-1))},o=>$i(o).map(s=>{if(mF(s,e)){const a=e.get();return Ye(a,1)}else{pp(e.get());const a=uF(s,!0);return e.set(a),Ye(a,1)}}),o=>Sd(o).map(s=>{if(mF(s,e)){const a=e.get();return Ye(a,a.length-1)}else{pp(e.get());const a=uF(s,!1);return e.set(a),Ye(a,a.length-1)}}),o=>{pp(e.get());const s=q$(o);return e.set(s),B.some(Ye(s,1))}),gF=(e,t)=>{for(let o=0;o<e.length;o++){const s=e[o].apply(null,t);if(s.isSome())return s}return B.none()},ac=ll.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),fF=(e,t)=>{const o=hp(t,e);return o||e},G$=(e,t,o)=>{const s=fg(o),a=fF(t,s.container());return wf(e,a,s).fold(()=>ol(a,s).bind(ze(wf,e,a)).map(c=>ac.before(c)),B.none)},K$=(e,t)=>uf(e,t)===null,pF=(e,t,o)=>wf(e,t,o).filter(ze(K$,t)),Y$=(e,t,o)=>{const s=B0(o);return pF(e,t,s).bind(a=>tc(a,s).isNone()?B.some(ac.start(a)):B.none())},X$=(e,t,o)=>{const s=fg(o);return pF(e,t,s).bind(a=>ol(a,s).isNone()?B.some(ac.end(a)):B.none())},Q$=(e,t,o)=>{const s=B0(o),a=fF(t,s.container());return wf(e,a,s).fold(()=>tc(a,s).bind(ze(wf,e,a)).map(c=>ac.after(c)),B.none)},hF=e=>!kl(AI(e)),Hp=(e,t,o)=>gF([G$,Y$,X$,Q$],[e,t,o]).filter(hF),AI=e=>e.fold(En,En,En,En),bF=e=>e.fold(pt("before"),pt("start"),pt("end"),pt("after")),l7=e=>e.fold(ac.before,ac.before,ac.after,ac.after),TI=e=>e.fold(ac.start,ac.start,ac.end,ac.end),J$=(e,t)=>bF(e)===bF(t)&&AI(e)===AI(t),eU=(e,t,o,s,a,c)=>Rs(wf(t,o,s),wf(t,o,a),(u,f)=>u!==f&&oc(o,u,f)?ac.after(e?u:f):c).getOr(c),tU=(e,t)=>e.fold(Yo,o=>!J$(o,t)),oU=(e,t,o,s,a)=>{const c=Td(e,a);return kd(e,o,c).map(ze(Td,e)).fold(()=>s.map(l7),b=>Hp(t,o,b).map(ze(eU,e,t,o,c,b)).filter(ze(tU,s))).filter(hF)},nU=(e,t)=>e?t.fold(yn(B.some,ac.start),B.none,yn(B.some,ac.after),B.none):t.fold(B.none,yn(B.some,ac.before),B.none,yn(B.some,ac.end)),sU=(e,t,o,s)=>{const a=Td(e,s),c=Hp(t,o,a);return Hp(t,o,a).bind(ze(nU,e)).orThunk(()=>oU(e,t,o,c,s))},rU=e=>Ut(e.selection.getSel().modify),xF=(e,t,o)=>{const s=e?1:-1;return t.setRng(Ye(o.container(),o.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},aU=(e,t)=>{const o=t.selection.getRng(),s=e?Ye.fromRangeEnd(o):Ye.fromRangeStart(o);return rU(t)?e&&Uh(s)?xF(!0,t.selection,s):!e&&Zh(s)?xF(!1,t.selection,s):!1:!1};var $p;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})($p||($p={}));const c7=(e,t)=>e===-1?ma(t):t,iU=(e,t,o)=>e===1?t.next(o):t.prev(o),lU=(e,t,o,s)=>Ls(s.getNode(t===1))?$p.Br:ra(o,s)===!1?$p.Block:$p.Wrap,vF=(e,t,o,s)=>{const a=lg(o);let c=s;const u=[];for(;c;){const f=iU(t,a,c);if(!f)break;if(Ls(f.getNode(!1)))return t===1?{positions:c7(t,u).concat([f]),breakType:$p.Br,breakAt:B.some(f)}:{positions:c7(t,u),breakType:$p.Br,breakAt:B.some(f)};if(!f.isVisible()){c=f;continue}if(e(c,f)){const b=lU(o,t,c,f);return{positions:c7(t,u),breakType:b,breakAt:B.some(f)}}u.push(f),c=f}return{positions:c7(t,u),breakType:$p.Eol,breakAt:B.none()}},yF=(e,t,o,s)=>t(o,s).breakAt.map(a=>{const c=t(o,a).positions;return e===-1?c.concat(a):[a].concat(c)}).getOr([]),DI=(e,t)=>Zo(e,(o,s)=>o.fold(()=>B.some(s),a=>Rs(Kn(a.getClientRects()),Kn(s.getClientRects()),(c,u)=>{const f=Math.abs(t-c.left);return Math.abs(t-u.left)<=f?s:a}).or(o)),B.none()),d7=(e,t)=>Kn(t.getClientRects()).bind(o=>DI(e,o.left)),_E=ze(vF,Ye.isAbove,-1),CE=ze(vF,Ye.isBelow,1),wF=ze(yF,-1,_E),_F=ze(yF,1,CE),OI=(e,t)=>_E(e,t).breakAt.isNone(),RI=(e,t)=>CE(e,t).breakAt.isNone(),cU=e=>$i(e).map(t=>[t].concat(CE(e,t).positions)).getOr([]),dU=e=>Sd(e).map(t=>_E(e,t).positions.concat(t)).getOr([]),CF=(e,t)=>d7(wF(e,t),t),kF=(e,t)=>d7(_F(e,t),t),uU=Xn,SF=(e,t)=>Math.abs(e.left-t),EF=(e,t)=>Math.abs(e.right-t),mU=e=>De(e,"node"),AF=(e,t)=>Qc(e,(o,s)=>{const a=Math.min(SF(o,t),EF(o,t)),c=Math.min(SF(s,t),EF(s,t));return c===a&&mU(s)&&uU(s.node)||c<a?s:o}),gU=e=>{const t=o=>Io(o,s=>{const a=y(s);return a.node=e,a});if(qt(e))return t(e.getClientRects());if(ht(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},TF=e=>dr(e,gU);var M2;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(M2||(M2={}));const fU=(e,t,o,s)=>{let a=s;for(;a=mv(a,e,Ji,t);)if(o(a))return},DF=(e,t,o,s,a,c)=>{let u=0;const f=[],b=R=>{let M=TF([R]);e===M2.Up&&(M=M.reverse());for(let $=0;$<M.length;$++){const te=M[$];if(!o(te,_)){if(f.length>0&&t(te,j(f))&&u++,te.line=u,a(te))return!0;f.push(te)}}return!1},_=j(c.getClientRects());if(!_)return f;const T=c.getNode();return T&&(b(T),fU(e,s,b,T)),f},pU=(e,t)=>t.line>e,hU=(e,t)=>t.line===e,bU=ze(DF,M2.Up,L,z),xU=ze(DF,M2.Down,z,L),OF=e=>j(e.getClientRects()),vU=(e,t,o,s)=>{const a=lg(t);let c,u,f,b;const _=[];let T=0;e===M2.Down?(c=a.next,u=z,f=L,b=Ye.after(s)):(c=a.prev,u=L,f=z,b=Ye.before(s));const R=OF(b);do{if(!b.isVisible())continue;const M=OF(b);if(f(M,R))continue;_.length>0&&u(M,j(_))&&T++;const $=y(M);if($.position=b,$.line=T,o($))return _;_.push($)}while(b=c(b));return _},RF=e=>t=>pU(e,t),NI=e=>t=>hU(e,t),Up=(e,t)=>{e.selection.setRng(t),Tv(e,e.selection.getRng())},MI=(e,t,o)=>B.some(O2(e,t,o)),NF=(e,t)=>{const o=e.getNode(t===-1);return Me(o)&&tl(o)?B.some(o):B.none()},MF=(e,t)=>{const o=e.dom.createRng();return o.selectNode(t),o},BF=(e,t,o,s,a,c)=>{const u=t===1,f=lg(e.getBody()),b=ze(e1,u?f.next:f.prev),_=u?s:a;if(!o.collapsed){const te=fe(o);if(c(te))if(tl(te)){const G=f0(t,e.getBody(),o);return B.from(b(G)).map(ee=>ee.toRange())}else return Du(t,e,te,t===-1,!1);else if(Vp(e)){const G=o.cloneRange();return G.collapse(t===-1),B.from(G)}}const T=f0(t,e.getBody(),o);if(_(T))return _g(e,T.getNode(!u));let R=b(T);const M=g(o);if(R)R=Td(u,R);else return M?B.some(o):B.none();if(_(R))return NF(R,t).fold(()=>Du(t,e,R?.getNode(!u),u,!1),te=>B.some(MF(e,te)));const $=b(R);return $&&_($)&&mu(R,$)?NF(R,t).fold(()=>Du(t,e,$.getNode(!u),u,!1),te=>B.some(MF(e,te))):M?MI(e,R.toRange(),!1):B.none()},PF=(e,t,o,s,a,c)=>{const u=f0(t,e.getBody(),o),f=j(u.getClientRects()),b=t===M2.Down,_=e.getBody();if(!f)return B.none();if(Vp(e)){const ee=b?Ye.fromRangeEnd(o):Ye.fromRangeStart(o);return(b?kF:CF)(_,ee).orThunk(()=>B.from(ee)).map(Ce=>Ce.toRange())}const R=(b?xU:bU)(_,RF(1),u),M=xt(R,NI(1)),$=f.left,te=AF(M,$);if(te&&c(te.node)){const ee=Math.abs($-te.left),ye=Math.abs($-te.right);return Du(t,e,te.node,ee<ye,!1)}let G;if(s(u)?G=u.getNode():a(u)?G=u.getNode(!0):G=fe(o),G){const ee=vU(t,_,RF(1),G);let ye=AF(xt(ee,NI(1)),$);if(ye||(ye=j(xt(ee,NI(0))),ye))return MI(e,ye.position.toRange(),!1)}return M.length===0?BI(e,b).filter(b?a:s).map(ee=>O2(e,ee.toRange(),!1)):B.none()},BI=(e,t)=>{const o=e.selection.getRng(),s=t?Ye.fromRangeEnd(o):Ye.fromRangeStart(o),a=aN(s.container(),e.getBody());if(t){const c=CE(a,s);return qs(c.positions)}else{const c=_E(a,s);return Kn(c.positions)}},IF=(e,t,o)=>BI(e,t).filter(o).exists(s=>(e.selection.setRng(s.toRange()),!0)),u7=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},LF=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},FF=(e,t,o)=>EI(t,o).map(s=>(u7(e,s),o)),yU=(e,t,o)=>{const s=Ye.fromRangeStart(e);if(e.collapsed)return s;{const a=Ye.fromRangeEnd(e);return o?tc(t,a).getOr(a):ol(t,s).getOr(s)}},wU=(e,t,o)=>{const s=e.getBody(),a=yU(e.selection.getRng(),s,o),c=ze(sl,e);return sU(o,c,s,a).bind(f=>FF(e,t,f))},_U=(e,t,o)=>{const s=Io(qr(oe.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),u=>u.dom),a=xt(s,e),c=xt(o,e);Ge(Rl(a,c),ze(LF,!1)),Ge(Rl(c,a),ze(LF,!0))},CU=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const s=Ye.fromRangeStart(e.selection.getRng());Ye.isTextPosition(s)&&!hs(s)&&(u7(e,Ek(o,s)),t.set(null))}},kU=(e,t,o,s)=>{if(t.selection.isCollapsed()){const a=xt(s,e);Ge(a,c=>{const u=Ye.fromRangeStart(t.selection.getRng());Hp(e,t.getBody(),u).bind(f=>FF(t,o,f))})}},zF=(e,t,o)=>l0(e)?wU(e,t,o).isSome():!1,VF=(e,t,o)=>l0(t)?aU(e,t):!1,SU=e=>{const t=jn(null),o=ze(sl,e);return e.on("NodeChange",s=>{l0(e)&&(_U(o,e.dom,s.parents),CU(e,t),kU(o,e,t,s.parents))}),t},EU=ze(VF,!0),AU=ze(VF,!1),m7=(e,t,o)=>{if(l0(e)){const s=BI(e,t).getOrThunk(()=>{const a=e.selection.getRng();return t?Ye.fromRangeEnd(a):Ye.fromRangeStart(a)});return Hp(ze(sl,e),e.getBody(),s).exists(a=>{const c=l7(a);return EI(o,c).exists(u=>(u7(e,u),!0))})}else return!1},TU=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},DU=e=>Rs($i(e),Sd(e),(t,o)=>{const s=Td(!0,t),a=Td(!1,o);return ol(e,s).forall(c=>c.isEqual(a))}).getOr(!0),HF=(e,t)=>o=>EI(t,o).map(s=>()=>u7(e,s)),$F=(e,t,o,s)=>{const a=e.getBody(),c=ze(sl,e);e.undoManager.ignore(()=>{e.selection.setRng(TU(o,s)),P0(e),Hp(c,a,Ye.fromRangeStart(e.selection.getRng())).map(TI).bind(HF(e,t)).each(Oo)}),e.nodeChanged()},OU=(e,t)=>{const o=hp(t,e);return o||e},RU=(e,t,o,s)=>{const a=OU(e.getBody(),s.container()),c=ze(sl,e),u=Hp(c,a,s);return u.bind(b=>o?b.fold(pt(B.some(TI(b))),B.none,pt(B.some(l7(b))),B.none):b.fold(B.none,pt(B.some(l7(b))),B.none,pt(B.some(TI(b))))).map(HF(e,t)).getOrThunk(()=>{const b=Un(o,a,s),_=b.bind(T=>Hp(c,a,T));return Rs(u,_,()=>wf(c,a,s).bind(T=>DU(T)?B.some(()=>{hu(e,o,oe.fromDom(T))}):B.none())).getOrThunk(()=>_.bind(()=>b.map(T=>()=>{o?$F(e,t,s,T):$F(e,t,T,s)})))})},PI=(e,t,o)=>{if(e.selection.isCollapsed()&&l0(e)){const s=Ye.fromRangeStart(e.selection.getRng());return RU(e,t,o,s)}return B.none()},NU=e=>Wf(e)>1,UF=(e,t)=>{const o=oe.fromDom(e.getBody()),s=oe.fromDom(e.selection.getStart()),a=gm(s,o);return Is(a,t).fold(pt(a),c=>a.slice(0,c))},MU=e=>Wf(e)===1,BU=e=>UF(e,t=>e.schema.isBlock(jo(t))||NU(t)),PU=e=>UF(e,t=>e.schema.isBlock(jo(t))),ZF=(e,t)=>{const o=ze(T1,e);return dr(t,s=>o(s)?[s.dom]:[])},II=e=>{const t=PU(e);return ZF(e,t)},IU=(e,t,o,s)=>{const a=ZF(t,s);if(a.length===0)hu(t,e,o);else{const c=YT(o.dom,a);t.selection.setRng(c.toRange())}},LU=(e,t)=>{const o=xt(BU(e),MU);return qs(o).bind(s=>{const a=Ye.fromRangeStart(e.selection.getRng());return Vw(t,a,s.dom)&&!nl(s)?B.some(()=>IU(t,e,s,o)):B.none()})},FU=(e,t)=>{const o=t.parentElement;return Ls(t)&&!nt(o)&&e.dom.isEmpty(o)},zU=e=>nl(oe.fromDom(e)),jF=(e,t)=>{const o=e.selection.getStart(),s=FU(e,o)||zU(o)?YT(o,t):TM(e.selection.getRng(),t);e.selection.setRng(s.toRange())},WF=(e,t)=>{const o=Rl(t,II(e));o.length>0&&jF(e,o)},qF=e=>ht(e.startContainer),VU=e=>e.startOffset===0&&qF(e),HU=(e,t)=>{const o=t.startContainer.parentElement;return!nt(o)&&T1(e,oe.fromDom(o))},$U=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!nt(t)&&!nt(o)&&t.isEqualNode(o)},UU=e=>{const t=e.endContainer;return e.endOffset===(ht(t)?t.length:t.childNodes.length)},ZU=e=>$U(e)&&UU(e),jU=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),WU=e=>ZU(e)||jU(e),qU=e=>{const t=e.selection.getRng();return VU(t)&&HU(e,t)&&WU(t)},GU=e=>{if(qU(e)){const t=II(e);return B.some(()=>{P0(e),WF(e,t)})}else return B.none()},LI=(e,t)=>e.selection.isCollapsed()?LU(e,t):GU(e),KU=(e,t)=>eu(e,o=>Lo(o.dom),o=>t.isBlock(jo(o))),YU=e=>KU(oe.fromDom(e.selection.getStart()),e.schema),XU=e=>{const t=e.selection.getRng();return t.collapsed&&(qF(t)||e.dom.isEmpty(t.startContainer))&&!YU(e)},kE=e=>(XU(e)&&jF(e,[]),!0),FI=(e,t,o)=>Me(o)?B.some(()=>{e._selectionOverrides.hideFakeCaret(),hu(e,t,oe.fromDom(o))}):B.none(),QU=(e,t)=>{const o=t?_p:b1,a=f0(t?1:-1,e.getBody(),e.selection.getRng());return o(a)?FI(e,t,a.getNode(!t)):B.from(Td(t,a)).filter(c=>o(c)&&mu(a,c)).bind(c=>FI(e,t,c.getNode(!t)))},JU=(e,t)=>{const o=e.selection.getNode();return hi(o)?FI(e,t,o):B.none()},zI=(e,t)=>e.selection.isCollapsed()?QU(e,t):JU(e,t),eZ=e=>Ii(e,t=>pi(t.dom)||Xn(t.dom)).exists(t=>pi(t.dom)),VI=e=>Lu(e??"").getOr(0),GF=(e,t)=>{const o=e||Xb(t)?"margin":"padding",s=Wi(t,"direction")==="rtl"?"-right":"-left";return o+s},tZ=(e,t,o,s,a,c)=>{const u=GF(o,oe.fromDom(c)),f=VI(e.getStyle(c,u));if(t==="outdent"){const b=Math.max(0,f-s);e.setStyle(c,u,b?b+a:"")}else{const b=f+s+a;e.setStyle(c,u,b)}},oZ=(e,t)=>La(t,o=>{const s=GF(vA(e),o),a=Fm(o,s).map(VI).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&a>0}),KF=e=>{const t=XF(e);return!e.mode.isReadOnly()&&(t.length>1||oZ(e,t))},nZ=e=>!e.mode.isReadOnly()&&yI(e),YF=e=>zr(e)||om(e),sZ=e=>ji(e).exists(YF),XF=e=>xt(hl(e.selection.getSelectedBlocks()),t=>!YF(t)&&!sZ(t)&&eZ(t)),QF=(e,t)=>{if(e.mode.isReadOnly())return;const{dom:o}=e,s=DR(e),a=/[a-z%]+$/i.exec(s)?.[0]??"px",c=VI(s),u=vA(e);Ge(XF(e),f=>{tZ(o,t,u,c,a,f.dom)}),t==="indent"?gE(e):cC(e)},rZ=e=>QF(e,"indent"),JF=e=>QF(e,"outdent"),e9=e=>{if(e.selection.isCollapsed()&&KF(e)){const t=e.dom,o=e.selection.getRng(),s=Ye.fromRangeStart(o),a=t.getParent(o.startContainer,t.isBlock);if(a!==null&&N0(oe.fromDom(a),s,e.schema))return B.some(()=>JF(e))}return B.none()},aZ=(e,t)=>{const o=i_(e.selection.getRng());return vN(o)?B.some(()=>hu(e,t,oe.fromDom(e.selection.getNode()))):B.none()},HI=(e,t)=>e.selection.isCollapsed()?B.none():aZ(e,t),t9=(e,t,o)=>Ei([e9,Ho,hE,(s,a)=>PI(s,t,a),mn,Xw,Vs,zI,lx,LI,yo,HI],s=>s(e,o)).filter(s=>e.selection.isEditable()),$I=(e,t)=>{t9(e,t,!1).fold(()=>{e.selection.isEditable()&&(P0(e),zw(e))},Oo),Sn(e)&&oC(e.dom,e.getBody())},iZ=(e,t)=>{t9(e,t,!0).fold(()=>{e.selection.isEditable()&&PT(e)},Oo),Sn(e)&&oC(e.dom,e.getBody())},lZ=(e,t)=>{e.addCommand("delete",()=>{$I(e,t)}),e.addCommand("forwardDelete",()=>{iZ(e,t)})},o9=5,cZ=400,n9=e=>e.touches===void 0||e.touches.length!==1?B.none():B.some(e.touches[0]),dZ=(e,t)=>{const o=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return o>o9||s>o9},uZ=e=>{const t=Il(),o=jn(!1),s=Hd(a=>{e.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},cZ);e.on("touchstart",a=>{n9(a).each(c=>{s.cancel();const u={x:c.clientX,y:c.clientY,target:a.target};s.throttle(a),o.set(!1),t.set(u)})},!0),e.on("touchmove",a=>{s.cancel(),n9(a).each(c=>{t.on(u=>{dZ(c,u)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{s.cancel(),a.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},UI=(e,t)=>ko(e,t.nodeName),mZ=(e,t)=>ht(t)?!0:qt(t)?!UI(e.getBlockElements(),t)&&!Rc(t)&&!Ku(e,t)&&!bh(t)&&!Ta(t):!1,gZ=(e,t,o)=>In(x4(oe.fromDom(o),oe.fromDom(t)),s=>UI(e,s.dom)),fZ=(e,t)=>{if(ht(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||UI(e,t.nextSibling)||bh(t.nextSibling)}return!1},ZI=e=>e.dom.create(si(e),r0(e)),pZ=e=>{const t=e.dom,o=e.selection,s=e.schema,a=s.getBlockElements(),c=o.getStart(),u=e.getBody();let f,b,_=null;const T=si(e);if(!c||!qt(c))return;const R=u.nodeName.toLowerCase();if(!s.isValidChild(R,T.toLowerCase())||gZ(a,u,c))return;if(u.firstChild===u.lastChild&&Ls(u.firstChild)){f=ZI(e),f.appendChild(sf().dom),u.replaceChild(f,u.firstChild),e.selection.setCursorLocation(f,0),e.nodeChanged();return}let M=u.firstChild;for(;M;)if(qt(M)&&Da(s,M),mZ(s,M)){if(fZ(a,M)){b=M,M=M.nextSibling,t.remove(b);continue}if(!f){if(!_&&e.hasFocus()&&(_=_f(e.selection.getRng(),()=>document.createElement("span"))),!M.parentNode){M=null;break}f=ZI(e),u.insertBefore(f,M)}b=M,M=M.nextSibling,f.appendChild(b)}else f=null,M=M.nextSibling;_&&(e.selection.setRng(fm(_)),e.nodeChanged())},s9=(e,t,o)=>{const s=oe.fromDom(ZI(e)),a=sf();dn(s,a),o(t,s);const c=document.createRange();return c.setStartBefore(a.dom),c.setEndBefore(a.dom),c},hZ=e=>{e.on("NodeChange",()=>pZ(e))},r9=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,bZ=(e,t,o)=>function(s){const a=arguments,c=a[a.length-2],u=c>0?t.charAt(c-1):"";if(u==='"')return s;if(u===">"){const f=t.lastIndexOf("<",c);if(f!==-1&&t.substring(f,c).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},xZ=(e,t,o)=>{let s=t.length,a=o.content;if(o.format!=="raw"){for(;s--;)a=a.replace(t[s],bZ(e,a,im(e)));o.content=a}},vZ=(e,t)=>La(e,o=>{const s=t.match(o);return s!==null&&s[0].length===t.length}),yZ=e=>{const t="contenteditable",o=" "+ct.trim(GR(e))+" ",s=" "+ct.trim(im(e))+" ",a=r9(o),c=r9(s),u=wk(e);u.length>0&&e.on("BeforeSetContent",f=>{xZ(e,u,f)}),e.parser.addAttributeFilter("class",f=>{let b=f.length;for(;b--;){const _=f[b];a(_)?_.attr(t,"true"):c(_)&&_.attr(t,"false")}}),e.serializer.addAttributeFilter(t,f=>{let b=f.length;for(;b--;){const _=f[b];if(!a(_)&&!c(_))continue;const T=_.attr("data-mce-content");u.length>0&&T?vZ(u,T)?(_.name="#text",_.type=3,_.raw=!0,_.value=T):_.remove():_.attr(t,null)}})},wZ=e=>Zs(oe.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),a9=(e,t)=>{t.hasAttribute("data-mce-caret")&&(rv(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},_Z=(e,t)=>{const o=wZ(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),a9(e,o);return}$h(o)&&(a9(e,o),e.undoManager.add())}},CZ=e=>{e.on("keyup compositionstart",ze(_Z,e))},i9=Xn,kZ=(e,t,o)=>BF(t,e,o,bf,xf,i9),SZ=(e,t,o)=>PF(t,e,o,c=>bf(c)||b4(c),c=>xf(c)||Rw(c),i9),EZ=e=>{const t=e.dom.create(si(e));return t.innerHTML='<br data-mce-bogus="1">',t},l9=(e,t,o)=>{const s=lg(e.getBody()),a=ze(e1,t===1?s.next:s.prev);if(o.collapsed){const c=e.dom.getParent(o.startContainer,"PRE");if(!c)return;if(!a(Ye.fromRangeStart(o))){const f=oe.fromDom(EZ(e));t===1?Hl(oe.fromDom(c),f):na(oe.fromDom(c),f),e.selection.select(f.dom,!0),e.selection.collapse()}}},AZ=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return kZ(o,e,s).orThunk(()=>(l9(e,o,s),B.none()))},TZ=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return SZ(o,e,s).orThunk(()=>(l9(e,o,s),B.none()))},DZ=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return kl(o)?!t:t},c9=(e,t)=>AZ(e,DZ(e.selection,t)).exists(o=>(Up(e,o),!0)),d9=(e,t)=>TZ(e,t).exists(o=>(Up(e,o),!0)),u9=(e,t)=>IF(e,t,t?xf:bf),g7=(e,t)=>ai(e,!t).map(o=>{const s=o.toRange(),a=e.selection.getRng();return t?s.setStart(a.startContainer,a.startOffset):s.setEnd(a.endContainer,a.endOffset),s}).exists(o=>(Up(e,o),!0)),m9=(e,t)=>{const o=u=>sn(u,t),s=u=>pi(u.dom),a=oe.fromDom(e.container());return Ii(a,s,o).filter(u=>!o(u))},OZ=(e,t,o)=>(o?kF:CF)(e.getBody(),t).map(a=>a.toRange()),RZ=(e,t)=>{const o=Ye.fromRangeStart(e.selection.getRng()),s=Ye.fromRangeEnd(e.selection.getRng()),a=oe.fromDom(e.getBody());return Ft(Rs(m9(o,a),m9(s,a),(u,f)=>sn(u,f)?B.some(u):B.none())).fold(Do,u=>t&&RI(u.dom,s)||!t&&OI(u.dom,o)?OZ(e,t?s:o,t).exists(f=>(Up(e,f),!0)):!1)},g9=(e,t)=>RZ(e,t),NZ=e=>Wo(["figcaption"],jo(e)),MZ=(e,t,o)=>{const s=ze(sn,t);return Ii(oe.fromDom(e.container()),a=>o.isBlock(jo(a)),s).filter(NZ)},BZ=(e,t,o)=>t?RI(e.dom,o):OI(e.dom,o),PZ=(e,t)=>{const o=oe.fromDom(e.getBody()),s=Ye.fromRangeStart(e.selection.getRng());return MZ(s,o,e.schema).exists(()=>{if(BZ(o,t,s)){const c=s9(e,o,t?dn:hc);return e.selection.setRng(c),!0}else return!1})},f9=(e,t)=>e.selection.isCollapsed()?PZ(e,t):!1,IZ=(e,t,o)=>{const s=e.selection.getRng(),a=Ye.fromRangeStart(s);return e.getBody().firstChild===t&&OI(o,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},LZ=(e,t)=>{const o=e.selection.getRng(),s=Ye.fromRangeStart(o);return e.getBody().lastChild===t&&RI(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},FZ=(e,t)=>t?B.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>LZ(e,o)).getOr(!1):B.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>B.from(e.dom.getParent(o,"details")).map(s=>IZ(e,s,o))).getOr(!1),p9=(e,t)=>FZ(e,t),h9={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},zZ=e=>Io(e,t=>({...h9,...t})),VZ=e=>Io(e,t=>({...h9,...t})),b9=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,HZ=(e,t)=>dr(zZ(e),o=>b9(o,t)?[o]:[]),$Z=(e,t)=>dr(VZ(e),o=>b9(o,t)?[o]:[]),So=(e,...t)=>()=>e.apply(null,t),SE=(e,t)=>An(HZ(e,t),o=>o.action()),x9=(e,t)=>Ei($Z(e,t),o=>o.action()),v9=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return BF(e,o,s,_p,b1,hi).exists(a=>(Up(e,a),!0))},y9=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return PF(e,o,s,_p,b1,hi).exists(a=>(Up(e,a),!0))},w9=(e,t)=>IF(e,t,t?b1:_p),UZ=(e,t)=>_9(e,t,Yo),_9=(e,t,o)=>dr(rn(e),s=>Ln(s,t)?o(s)?[s]:[]:_9(s,t,o)),ZZ=(e,t,o=Do)=>{if(o(t))return B.none();if(Wo(e,jo(t)))return B.some(t);const s=a=>Ln(a,"table")||o(a);return Js(t,e.join(","),s)},jZ=(e,t)=>ZZ(["td","th"],e,t),WZ=e=>UZ(e,"th,td"),C9=(e,t)=>dd(e,"table",t),k9=ll.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),EE={...k9,none:e=>k9.none(e)},jI=(e,t,o,s,a=Yo)=>{const c=s===1;if(!c&&o<=0)return EE.first(e[0]);if(c&&o>=e.length-1)return EE.last(e[e.length-1]);{const u=o+s,f=e[u];return a(f)?EE.middle(t,f):jI(e,t,u,s,a)}},S9=(e,t)=>C9(e,t).bind(o=>{const s=WZ(o);return Is(s,c=>sn(e,c)).map(c=>({index:c,all:s}))}),qZ=(e,t,o)=>S9(e,o).fold(()=>EE.none(e),a=>jI(a.all,e,a.index,1,t)),GZ=(e,t,o)=>S9(e,o).fold(()=>EE.none(),a=>jI(a.all,e,a.index,-1,t));var KZ=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],YZ=()=>{const e=_=>oe.fromDom(_.dom.cloneNode(!1)),t=_=>fc(_).dom,o=_=>fr(_)?jo(_)==="body"?!0:Wo(KZ,jo(_)):!1,s=_=>fr(_)?Wo(["br","img","hr","input"],jo(_)):!1,a=_=>fr(_)&&or(_,"contenteditable")==="false",c=(_,T)=>_.dom.compareDocumentPosition(T.dom),u=(_,T)=>{const R=xc(_);Ri(T,R)},f=_=>{const T=jo(_);return Wo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],T)},b=_=>fr(_)?bc(_,"lang"):B.none();return{up:pt({selector:Js,closest:dd,predicate:Qa,all:Ya}),down:pt({selector:qr,predicate:Gi}),styles:pt({get:Wi,getRaw:Fm,set:Hg,remove:mi}),attrs:pt({get:or,set:Wr,remove:Mr,copyTo:u}),insert:pt({before:na,after:Hl,afterAll:nh,append:dn,appendAll:Qs,prepend:hc,wrap:yr}),remove:pt({unwrap:Ni,remove:cs}),create:pt({nu:oe.fromTag,clone:e,text:oe.fromText}),query:pt({comparePosition:c,prevSibling:zl,nextSibling:rd}),property:pt({children:rn,name:jo,parent:ji,document:t,isText:Ka,isComment:Ax,isElement:fr,isSpecial:f,getLanguage:b,getText:cd,setText:Pi,isBoundary:o,isEmptyTag:s,isNonEditable:a}),eq:sn,is:Nm}};const WI=(e,t)=>({element:e,offset:t}),E9=(e,t)=>{if(e.property().isText(t))return WI(t,e.property().getText(t).length);{const o=e.property().children(t);return o.length>0?E9(e,o[o.length-1]):WI(t,o.length)}},A9=(e,t,o)=>{const s=e.property().children(t);return s.length>0&&o<s.length?A9(e,s[o],0):s.length>0&&e.property().isElement(t)&&s.length===o?E9(e,s[s.length-1]):WI(t,o)},XZ=A9,QZ=YZ(),JZ=(e,t)=>XZ(QZ,e,t),T9=Ys("image"),ej=e=>{const t=e;return B.from(t[T9])},tj=(e,t)=>{const o=e;o[T9]=t},qI=Ys("event"),oj=e=>{const t=e;return B.from(t[qI])},f7=e=>t=>{const o=t;o[qI]=e},nj=(e,t)=>f7(t)(e),D9=f7(0),sj=f7(2),rj=f7(1),aj=(e=>t=>{const o=t;return B.from(o[qI]).exists(s=>s===e)})(0),ij=()=>Object.freeze({length:0,item:e=>null}),GI=Ys("mode"),lj=e=>{const t=e;return B.from(t[GI])},p7=e=>t=>{const o=t;o[GI]=e},O9=(e,t)=>p7(t)(e),R9=p7(0),KI=p7(2),cj=p7(1),N9=e=>t=>{const o=t;return B.from(o[GI]).exists(s=>s===e)},fC=N9(0),M9=N9(1),dj=(e,t)=>({...t,get length(){return t.length},add:(o,s)=>{if(fC(e))if(tt(o)){if(!Co(s))return t.add(o,s)}else return t.add(o);return null},remove:o=>{fC(e)&&t.remove(o)},clear:()=>{fC(e)&&t.clear()}}),uj=["none","copy","link","move"],mj=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],YI=()=>{const e=new window.DataTransfer;let t="move",o="all";const s={get dropEffect(){return t},set dropEffect(a){Wo(uj,a)&&(t=a)},get effectAllowed(){return o},set effectAllowed(a){aj(s)&&Wo(mj,a)&&(o=a)},get items(){return dj(s,e.items)},get files(){return M9(s)?ij():e.files},get types(){return e.types},setDragImage:(a,c,u)=>{fC(s)&&(tj(s,{image:a,x:c,y:u}),e.setDragImage(a,c,u))},getData:a=>M9(s)?"":e.getData(a),setData:(a,c)=>{fC(s)&&e.setData(a,c)},clearData:a=>{fC(s)&&e.clearData(a)}};return R9(s),s},gj=e=>{const t=YI(),o=lj(e);return KI(e),D9(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,ej(e).each(s=>t.setDragImage(s.image,s.x,s.y)),Ge(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),Ge(e.files,s=>t.items.add(s)),oj(e).each(s=>{nj(t,s)}),o.each(s=>{O9(e,s),O9(t,s)}),t},fj=e=>{const t=e.getData("text/html");return t===""?B.none():B.some(t)},B9=(e,t)=>e.setData("text/html",t),pj=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),hj=(e,t)=>dr(t,o=>{const s=pj(y(o.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:o},{x:s.right,y:e(s),cell:o}]}),bj=(e,t,o)=>Zo(e,(s,a)=>s.fold(()=>B.some(a),c=>{const u=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o)),f=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-o));return B.some(f<u?a:c)}),B.none()),P9=(e,t,o,s,a)=>{const c=qr(oe.fromDom(o),"td,th,caption").map(f=>f.dom),u=xt(hj(e,c),f=>t(f,a));return bj(u,s,a).map(f=>f.cell)},xj=e=>e.bottom,vj=e=>e.top,yj=(e,t)=>e.y<t,wj=(e,t)=>e.y>t,_j=ze(P9,xj,yj),Cj=ze(P9,vj,wj),kj=(e,t)=>Kn(t.getClientRects()).bind(o=>_j(e,o.left,o.top)).bind(o=>d7(dU(o),t)),Sj=(e,t)=>qs(t.getClientRects()).bind(o=>Cj(e,o.left,o.top)).bind(o=>d7(cU(o),t)),Ej=(e,t,o)=>o.breakAt.exists(s=>e(t,s).breakAt.isSome()),Aj=e=>e.breakType===$p.Wrap&&e.positions.length===0,Tj=e=>e.breakType===$p.Br&&e.positions.length===1,I9=(e,t,o)=>{const s=e(t,o);return Aj(s)||!Ls(o.getNode())&&Tj(s)?!Ej(e,t,s):s.breakAt.isNone()},Dj=ze(I9,_E),Oj=ze(I9,CE),Rj=(e,t,o)=>{const s=Ye.fromRangeStart(t);return n1(!e,o).exists(a=>a.isEqual(s))},Nj=(e,t,o,s)=>{const a=e.selection.getRng(),c=t?1:-1;return Tk()&&Rj(t,a,o)?(Du(c,e,o,!t,!1).each(u=>{Up(e,u)}),!0):!1},Mj=(e,t,o)=>kj(t,o).orThunk(()=>Kn(o.getClientRects()).bind(s=>DI(wF(e,Ye.before(t)),s.left))).getOr(Ye.before(t)),Bj=(e,t,o)=>Sj(t,o).orThunk(()=>Kn(o.getClientRects()).bind(s=>DI(_F(e,Ye.after(t)),s.left))).getOr(Ye.after(t)),L9=(e,t)=>{const o=t.getNode(e);return kc(o)?B.some(o):B.none()},Pj=(e,t,o)=>{t.undoManager.transact(()=>{const s=e?Hl:na,a=s9(t,oe.fromDom(o),s);Up(t,a)})},F9=(e,t,o)=>{const s=L9(!!t,o),a=t===!1;s.fold(()=>Up(e,o.toRange()),c=>n1(a,e.getBody()).filter(u=>u.isEqual(o)).fold(()=>Up(e,o.toRange()),u=>Pj(t,e,c)))},Ij=(e,t,o,s)=>{const a=e.selection.getRng(),c=Ye.fromRangeStart(a),u=e.getBody();if(!t&&Dj(s,c)){const f=Mj(u,o,c);return F9(e,t,f),!0}else if(t&&Oj(s,c)){const f=Bj(u,o,c);return F9(e,t,f),!0}else return!1},z9=(e,t,o)=>B.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>B.from(e.dom.getParent(s,"table")).map(a=>o(e,t,a,s))).getOr(!1),V9=(e,t)=>z9(e,t,Nj),XI=(e,t)=>z9(e,t,Ij),Lj=e=>{const t=ql.exact(e,0,e,0);return Cb(t)},Fj=e=>h7(e)||jf(e).some(t=>Kd(t)&&h7(t)),H9=(e,t,o)=>o.fold(B.none,B.none,(s,a)=>PC(a).map(c=>Lj(c)),s=>e.mode.isReadOnly()||!zj(s)||!Fj(s)?B.none():(e.execCommand("mceTableInsertRowAfter"),$9(e,t,s))),zj=e=>Ii(e,ea("table")).exists(qi),$9=(e,t,o)=>H9(e,t,qZ(o,h7)),Vj=(e,t,o)=>H9(e,t,GZ(o,h7)),h7=e=>qi(e)||ei(e,Hj),Hj=e=>Kd(e)&&qi(e),U9=(e,t)=>{const o=["table","li","dl"],s=oe.fromDom(e.getBody()),a=f=>{const b=jo(f);return sn(f,s)||Wo(o,b)},c=e.selection.getRng(),u=oe.fromDom(t?c.endContainer:c.startContainer);return jZ(u,a).map(f=>(C9(f,a).each(T=>{e.model.table.clearSelectedCells(T.dom)}),e.selection.collapse(!t),(t?$9:Vj)(e,a,f).each(T=>{e.selection.setRng(T)}),!0)).getOr(!1)},$j=(e,t,o)=>{const s=Bo.os.isMacOS()||Bo.os.isiOS(),a=Bo.browser.isFirefox();SE([{keyCode:Pt.RIGHT,action:So(c9,e,!0)},{keyCode:Pt.LEFT,action:So(c9,e,!1)},{keyCode:Pt.UP,action:So(d9,e,!1)},{keyCode:Pt.DOWN,action:So(d9,e,!0)},...s?[{keyCode:Pt.UP,action:So(g7,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Pt.DOWN,action:So(g7,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Pt.RIGHT,action:So(V9,e,!0)},{keyCode:Pt.LEFT,action:So(V9,e,!1)},{keyCode:Pt.UP,action:So(XI,e,!1)},{keyCode:Pt.DOWN,action:So(XI,e,!0)},{keyCode:Pt.UP,action:So(XI,e,!1)},{keyCode:Pt.UP,action:So(p9,e,!1)},{keyCode:Pt.DOWN,action:So(p9,e,!0)},{keyCode:Pt.RIGHT,action:So(v9,e,!0)},{keyCode:Pt.LEFT,action:So(v9,e,!1)},{keyCode:Pt.UP,action:So(y9,e,!1)},{keyCode:Pt.DOWN,action:So(y9,e,!0)},{keyCode:Pt.RIGHT,action:So(zF,e,t,!0)},{keyCode:Pt.LEFT,action:So(zF,e,t,!1)},{keyCode:Pt.RIGHT,ctrlKey:!s,altKey:s,action:So(EU,e,t)},{keyCode:Pt.LEFT,ctrlKey:!s,altKey:s,action:So(AU,e,t)},{keyCode:Pt.UP,action:So(f9,e,!1)},{keyCode:Pt.DOWN,action:So(f9,e,!0)},...a?[{keyCode:Pt.UP,action:So(g9,e,!1)},{keyCode:Pt.DOWN,action:So(g9,e,!0)}]:[]],o).each(c=>{o.preventDefault()})},Uj=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||$j(e,t,o)})},Mf=(e,t)=>({container:e,offset:t}),b7=Bn.DOM,x7=e=>t=>e===t?-1:0,Zj=e=>t=>e.isBlock(t)||Wo(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",QI=(e,t,o)=>{if(ht(e)&&t>=0)return B.some(Mf(e,t));{const s=ec(b7);return B.from(s.backwards(e,t,x7(e),o)).map(a=>Mf(a.container,a.container.data.length))}},jj=(e,t,o)=>{if(ht(e)&&t>=e.length)return B.some(Mf(e,t));{const s=ec(b7);return B.from(s.forwards(e,t,x7(e),o)).map(a=>Mf(a.container,0))}},JI=(e,t,o)=>{if(!ht(e))return B.none();const s=e.data;if(t>=0&&t<=s.length)return B.some(Mf(e,t));{const a=ec(b7);return B.from(a.backwards(e,t,x7(e),o)).bind(c=>{const u=c.container.data;return JI(c.container,t+u.length,o)})}},Z9=(e,t,o)=>{if(!ht(e))return B.none();const s=e.data;if(t<=s.length)return B.some(Mf(e,t));{const a=ec(b7);return B.from(a.forwards(e,t,x7(e),o)).bind(c=>Z9(c.container,t-s.length,o))}},eL=(e,t,o,s,a)=>{const c=ec(e,Zj(e));return B.from(c.backwards(t,o,s,a))},Wj=e=>e.collapsed&&ht(e.startContainer),qj=e=>Hi(e.toString().replace(/\u00A0/g," ")),j9=e=>e!==""&&`  \uFEFF\f
\r	\v`.indexOf(e)!==-1,Gj=(e,t)=>e.substring(t.length),Kj=(e,t,o,s=!1)=>{let a;const c=o.charAt(0);for(a=t-1;a>=0;a--){const u=e.charAt(a);if(!s&&j9(u))return B.none();if(c===u&&Xo(e,o,a,t))break}return B.some(a)},tL=(e,t,o,s=!1)=>{if(!Wj(t))return B.none();const a={text:"",offset:0},c=(f,b,_)=>(a.text=_+a.text,a.offset+=b,Kj(a.text,a.offset,o,s).getOr(b)),u=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return eL(e,t.startContainer,t.startOffset,c,u).bind(f=>{const b=t.cloneRange();if(b.setStart(f.container,f.offset),b.setEnd(t.endContainer,t.endOffset),b.collapsed)return B.none();const _=qj(b);return _.lastIndexOf(o)!==0?B.none():B.some({text:Gj(_,o),range:b,trigger:o})})},Yj=e=>e.nodeType===Ig,Xj=e=>e.nodeType===qd,W9=e=>{if(Yj(e))return Mf(e,e.data.length);{const t=e.childNodes;return t.length>0?W9(t[t.length-1]):Mf(e,t.length)}},q9=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?q9(o[t],0):o.length>0&&Xj(e)&&o.length===t?W9(o[o.length-1]):Mf(e,t)},Qj=(e,t)=>{const o=e.getParent(t.container,e.isBlock)??e.getRoot();return eL(e,t.container,t.offset,(s,a)=>a===0?-1:a,o).filter(s=>{const a=s.container.data.charAt(s.offset-1);return!j9(a)}).isSome()},Jj=e=>t=>{const o=q9(t.startContainer,t.startOffset);return!Qj(e,o)},eW=(e,t,o)=>Ei(o.triggers,s=>tL(e,t,s)),tW=(e,t)=>{const o=t(),s=e.selection.getRng();return eW(e.dom,s,o).bind(a=>G9(e,t,a))},G9=(e,t,o,s={})=>{const a=t(),u=e.selection.getRng().startContainer.nodeValue??"",f=xt(a.lookupByTrigger(o.trigger),_=>o.text.length>=_.minChars&&_.matches.getOrThunk(()=>Jj(e.dom))(o.range,u,o.text));if(f.length===0)return B.none();const b=Promise.all(Io(f,_=>_.fetch(o.text,_.maxResults,s).then(R=>({matchText:o.text,items:R,columns:_.columns,onAction:_.onAction,highlightOn:_.highlightOn}))));return B.some({lookupData:b,context:o})};var Bf;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Bf||(Bf={}));const oL=(e,t,o)=>e.stype===Bf.Error?t(e.serror):o(e.svalue),oW=e=>{const t=[],o=[];return Ge(e,s=>{oL(s,a=>o.push(a),a=>t.push(a))}),{values:t,errors:o}},nW=(e,t)=>e.stype===Bf.Error?{stype:Bf.Error,serror:t(e.serror)}:e,sW=(e,t)=>e.stype===Bf.Value?{stype:Bf.Value,svalue:t(e.svalue)}:e,rW=(e,t)=>e.stype===Bf.Value?t(e.svalue):e,aW=(e,t)=>e.stype===Bf.Error?t(e.serror):e,K9=e=>({stype:Bf.Value,svalue:e}),Y9=e=>({stype:Bf.Error,serror:e}),ic={fromResult:e=>e.fold(Y9,K9),toResult:e=>oL(e,Gs.error,Gs.value),svalue:K9,partition:oW,serror:Y9,bind:rW,bindError:aW,map:sW,mapError:nW,fold:oL},X9=e=>se(e)&&Yr(e).length>100?" removed due to size":JSON.stringify(e,null,2),iW=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:pt("... (only showing first ten failures)")}]):e;return Io(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},Q9=(e,t)=>ic.serror([{path:e,getErrorInfo:t}]),lW=(e,t,o)=>Q9(e,()=>'Could not find valid *required* value for "'+t+'" in '+X9(o)),cW=(e,t)=>Q9(e,pt(t)),J9=e=>{const t=(s,a)=>ic.bindError(e(a),c=>cW(s,c)),o=pt("val");return{extract:t,toString:o}},dW=J9(ic.svalue),nL=pt(dW),sL=(e,t)=>J9(o=>{const s=typeof o;return e(o)?ic.svalue(o):ic.serror(`Expected type: ${t} but got: ${s}`)}),uW=sL(E,"number"),rL=sL(tt,"string"),ez=sL(Ut,"function"),tz=()=>({tag:"required",process:{}}),mW=e=>({tag:"defaultedThunk",process:e}),oz=e=>mW(pt(e)),nz=()=>({tag:"option",process:{}}),gW=(e,t,o,s)=>({tag:"field",key:e,newKey:t,presence:o,prop:s}),sz=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},fW=(e,t)=>ic.svalue(gc(t,Pu.apply(void 0,e))),rz=e=>yn(ic.serror,qc)(e),pW={consolidateObj:(e,t)=>{const o=ic.partition(e);return o.errors.length>0?rz(o.errors):fW(o.values,t)},consolidateArr:e=>{const t=ic.partition(e);return t.errors.length>0?rz(t.errors):ic.svalue(t.values)}},hW=(e,t,o,s)=>Cn(t,o).fold(()=>lW(e,o,t),s),az=(e,t,o,s)=>{const a=Cn(e,t).getOrThunk(()=>o(e));return s(a)},bW=(e,t,o)=>o(Cn(e,t)),xW=(e,t,o,s)=>{const a=Cn(e,t).map(c=>c===!0?o(e):c);return s(a)},vW=(e,t,o,s,a)=>{const c=f=>a.extract(t.concat([s]),f),u=f=>f.fold(()=>ic.svalue(B.none()),b=>{const _=a.extract(t.concat([s]),b);return ic.map(_,B.some)});switch(e.tag){case"required":return hW(t,o,s,c);case"defaultedThunk":return az(o,s,e.process,c);case"option":return bW(o,s,u);case"defaultedOptionThunk":return xW(o,s,e.process,u);case"mergeWithThunk":return az(o,s,pt({}),f=>{const b=gc(e.process(o),f);return c(b)})}},yW=(e,t,o)=>{const s={},a=[];for(const c of o)sz(c,(u,f,b,_)=>{const T=vW(b,e,t,u,_);ic.fold(T,R=>{a.push(...R)},R=>{s[f]=R})},(u,f)=>{s[u]=f(t)});return a.length>0?ic.serror(a):ic.svalue(s)},iz=e=>({extract:(s,a)=>yW(s,a,e),toString:()=>`obj{
`+Io(e,a=>sz(a,(c,u,f,b)=>c+" -> "+b.toString(),(c,u)=>"state("+c+")")).join(`
`)+"}"}),wW=e=>({extract:(s,a)=>{const c=Io(a,(u,f)=>e.extract(s.concat(["["+f+"]"]),u));return pW.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),_W=(e,t,o)=>{const s=t.extract([e],o);return ic.mapError(s,a=>({input:o,errors:a}))},lz=(e,t,o)=>ic.toResult(_W(e,t,o)),cz=e=>`Errors: 
`+iW(e.errors).join(`
`)+`

Input object: `+X9(e.input),pC=gW,CW=e=>pC(e,e,tz(),nL()),dz=(e,t)=>pC(e,e,tz(),t),uz=e=>dz(e,rL),mz=e=>dz(e,ez),kW=e=>pC(e,e,nz(),nL()),gz=(e,t)=>pC(e,e,nz(),t),fz=e=>gz(e,rL),SW=e=>gz(e,ez),EW=(e,t)=>pC(e,e,oz(t),nL()),pz=(e,t,o)=>pC(e,e,oz(t),o),hz=(e,t)=>pz(e,t,uW),AW=(e,t,o)=>pz(e,t,wW(o)),TW=uz("type"),DW=mz("fetch"),OW=mz("onAction"),RW=e=>EW("columns",e),NW=iz([TW,uz("trigger"),hz("minChars",1),RW(1),hz("maxResults",10),SW("matches"),DW,OW,AW("highlightOn",[],rL)]),MW=e=>lz("Autocompleter",NW,e),BW=()=>{const e={},t={},o={},s={},a={},c={},u={},f={},b={},_=($,te)=>(G,ee)=>{$[G.toLowerCase()]={...ee,type:te}},T=($,te)=>(G,ee)=>{$[G.toLowerCase()]={type:te,...ee}},R=($,te)=>s[$.toLowerCase()]=te,M=($,te)=>u[$.toLowerCase()]=te;return{addButton:_(e,"button"),addGroupToolbarButton:_(e,"grouptoolbarbutton"),addToggleButton:_(e,"togglebutton"),addMenuButton:_(e,"menubutton"),addSplitButton:_(e,"splitbutton"),addMenuItem:_(t,"menuitem"),addNestedMenuItem:_(t,"nestedmenuitem"),addToggleMenuItem:_(t,"togglemenuitem"),addAutocompleter:_(o,"autocompleter"),addContextMenu:_(a,"contextmenu"),addContextToolbar:_(c,"contexttoolbar"),addContextForm:T(c,"contextform"),addSidebar:_(f,"sidebar"),addView:_(b,"views"),addIcon:R,addContext:M,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:o,contextMenus:a,contextToolbars:c,sidebars:f,views:b,contexts:u})}},PW=e=>{const t=e.ui.registry.getAll().popups,o=$r(t,u=>MW(u).fold(f=>{throw new Error(cz(f))},En)),s=Am(ga(o,u=>u.trigger)),a=_s(o);return{dataset:o,triggers:s,lookupByTrigger:u=>xt(a,f=>f.trigger===u)}},IW=(e,t)=>{const o=Hd(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",s=>{const a=s.which;a===8?o.throttle():a===27?(o.cancel(),t.cancelIfNecessary()):(a===38||a===40)&&o.cancel()},!0),e.on("remove",o.cancel)},LW=e=>{const t=Il(),o=jn(!1),s=t.isSet,a=()=>{s()&&(Jt(e),o.set(!1),t.clear())},c=R=>{s()||t.set({trigger:R.trigger,matchLength:R.text.length})},u=di(()=>PW(e)),f=R=>t.get().map(M=>tL(e.dom,e.selection.getRng(),M.trigger,!0).bind($=>G9(e,u,$,R))).getOrThunk(()=>tW(e,u)),b=R=>{f(R).fold(a,M=>{c(M.context),M.lookupData.then($=>{t.get().map(te=>{const G=M.context;te.trigger===G.trigger&&(t.set({...te,matchLength:G.text.length}),o.get()?(QC(e,{range:G.range}),CR(e,{lookupData:$})):(o.set(!0),QC(e,{range:G.range}),_R(e,{lookupData:$})))})})})},_=(R,M)=>{const $=R.compareBoundaryPoints(window.Range.START_TO_START,M),te=R.compareBoundaryPoints(window.Range.END_TO_END,M);return $>=0&&te<=0},T=()=>t.get().bind(({trigger:R})=>{const M=e.selection.getRng();return tL(e.dom,M,R,o.get()).filter(({range:$})=>_(M,$)).map(({range:$})=>$)});e.addCommand("mceAutocompleterReload",(R,M)=>{const $=se(M)?M.fetchOptions:{};b($)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{T().each(R=>{QC(e,{range:R})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>T().isSome()),IW(e,{cancelIfNecessary:a,load:b})},FW=gl().browser.isSafari(),bz=e=>lu(oe.fromDom(e)),xz=(e,t)=>e.startOffset===0&&e.endOffset===t.textContent?.length,v7=(e,t)=>B.from(e.getParent(t.container(),"details")),vz=(e,t)=>v7(e,t).isSome(),zW=(e,t)=>{const o=B.from(e.getParent(t.startContainer,"details")),s=B.from(e.getParent(t.endContainer,"details"));if(o.isSome()||s.isSome()){const a=o.bind(c=>B.from(e.select("summary",c)[0]));return B.some({startSummary:a,startDetails:o,endDetails:s})}else return B.none()},VW=(e,t)=>$i(t).exists(o=>o.isEqual(e)),HW=(e,t)=>Sd(t).exists(o=>Ls(o.getNode())&&tc(t,o).exists(s=>s.isEqual(e))||o.isEqual(e)),$W=(e,t)=>t.startSummary.exists(o=>VW(e,o)),UW=(e,t)=>t.startSummary.exists(o=>HW(e,o)),ZW=(e,t)=>t.startDetails.exists(o=>tc(o,e).forall(s=>t.startSummary.exists(a=>!a.contains(e.container())&&a.contains(s.container())))),jW=(e,t,o)=>o.startDetails.exists(s=>ol(e,t).forall(a=>!s.contains(a.container()))),yz=(e,t)=>{const o=t.getNode();Co(o)||e.selection.setCursorLocation(o,t.offset())},wz=(e,t,o)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const a=e.dom.select("summary",s)[0];a&&(o?$i(a):Sd(a)).each(u=>yz(e,u))}else yz(e,t)},WW=(e,t)=>{const o=b=>b.contains(e.startContainer),s=b=>b.contains(e.endContainer),a=t.startSummary.exists(o),c=t.startSummary.exists(s),u=t.startDetails.forall(b=>t.endDetails.forall(_=>b!==_));return(a||c)&&!(a&&c)||u},_z=(e,t,o)=>{const{dom:s,selection:a}=e,c=e.getBody();if(o==="character"){const u=Ye.fromRangeStart(a.getRng()),f=s.getParent(u.container(),s.isBlock),b=v7(s,u),_=f&&s.isEmpty(f),T=nt(f?.previousSibling),R=nt(f?.nextSibling);return _&&(t?R:T)&&Un(!t,c,u).exists(te=>vz(s,te)&&!Iu(b,v7(s,te)))?!0:Un(t,c,u).fold(Do,M=>{const $=v7(s,M);if(vz(s,M)&&!Iu(b,$)){if(t||wz(e,M,!1),f&&_){if(t&&T)return!0;if(!t&&R)return!0;wz(e,M,t),e.dom.remove(f)}return!0}else return!1})}else return!1},qW=(e,t,o,s)=>{const c=e.selection.getRng(),u=Ye.fromRangeStart(c),f=e.getBody();return s==="selection"?WW(c,t):o?UW(u,t)||jW(f,u,t):$W(u,t)||ZW(u,t)},GW=(e,t,o)=>zW(e.dom,e.selection.getRng()).fold(()=>_z(e,t,o),s=>qW(e,s,t,o)||_z(e,t,o)),KW=(e,t,o)=>{const s=e.selection,a=s.getNode(),c=s.getRng(),u=Ye.fromRangeStart(c);return LC(a)?(o==="selection"&&xz(c,a)||Vw(t,u,a)?bz(a):e.undoManager.transact(()=>{const f=s.getSel();let{anchorNode:b,anchorOffset:_,focusNode:T,focusOffset:R}=f??{};const M=()=>{Me(b)&&Me(_)&&Me(T)&&Me(R)&&f?.setBaseAndExtent(b,_,T,R)},$=()=>{b=f?.anchorNode,_=f?.anchorOffset,T=f?.focusNode,R=f?.focusOffset},te=(ee,ye)=>{Ge(ee.childNodes,Ce=>{yv(Ce)&&ye.appendChild(Ce)})},G=e.dom.create("span",{"data-mce-bogus":"1"});te(a,G),a.appendChild(G),M(),(o==="word"||o==="line")&&f?.modify("extend",t?"right":"left",o),!s.isCollapsed()&&xz(s.getRng(),G)?bz(a):(e.execCommand(t?"ForwardDelete":"Delete"),$(),te(G,a),M()),e.dom.remove(G)}),!0):!1},B2=(e,t,o)=>GW(e,t,o)||FW&&KW(e,t,o)?B.some(To):B.none(),Cz=e=>(t,o,s={})=>{const a=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:To,inputType:o},u=Ac(new InputEvent(e));return t.dispatch(e,{...u,...c,...s})},AE=Cz("input"),y7=Cz("beforeinput"),kz=gl(),Sz=kz.os,Ez=Sz.isMacOS()||Sz.isiOS(),YW=kz.browser.isFirefox(),XW=(e,t,o)=>{const s=o.keyCode===Pt.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),c=a?"character":"selection",u=f=>a?f?"word":"line":"selection";x9([{keyCode:Pt.BACKSPACE,action:So(e9,e)},{keyCode:Pt.BACKSPACE,action:So(Ho,e,!1)},{keyCode:Pt.DELETE,action:So(Ho,e,!0)},{keyCode:Pt.BACKSPACE,action:So(hE,e,!1)},{keyCode:Pt.DELETE,action:So(hE,e,!0)},{keyCode:Pt.BACKSPACE,action:So(PI,e,t,!1)},{keyCode:Pt.DELETE,action:So(PI,e,t,!0)},{keyCode:Pt.BACKSPACE,action:So(Xw,e,!1)},{keyCode:Pt.DELETE,action:So(Xw,e,!0)},{keyCode:Pt.BACKSPACE,action:So(B2,e,!1,c)},{keyCode:Pt.DELETE,action:So(B2,e,!0,c)},...Ez?[{keyCode:Pt.BACKSPACE,altKey:!0,action:So(B2,e,!1,u(!0))},{keyCode:Pt.DELETE,altKey:!0,action:So(B2,e,!0,u(!0))},{keyCode:Pt.BACKSPACE,metaKey:!0,action:So(B2,e,!1,u(!1))}]:[{keyCode:Pt.BACKSPACE,ctrlKey:!0,action:So(B2,e,!1,u(!0))},{keyCode:Pt.DELETE,ctrlKey:!0,action:So(B2,e,!0,u(!0))}],{keyCode:Pt.BACKSPACE,action:So(Vs,e,!1)},{keyCode:Pt.DELETE,action:So(Vs,e,!0)},{keyCode:Pt.BACKSPACE,action:So(zI,e,!1)},{keyCode:Pt.DELETE,action:So(zI,e,!0)},{keyCode:Pt.BACKSPACE,action:So(lx,e,!1)},{keyCode:Pt.DELETE,action:So(lx,e,!0)},{keyCode:Pt.BACKSPACE,action:So(mn,e,!1)},{keyCode:Pt.DELETE,action:So(mn,e,!0)},{keyCode:Pt.BACKSPACE,action:So(LI,e,!1)},{keyCode:Pt.DELETE,action:So(LI,e,!0)},{keyCode:Pt.BACKSPACE,action:So(yo,e,!1)},{keyCode:Pt.DELETE,action:So(yo,e,!0)},{keyCode:Pt.BACKSPACE,action:So(HI,e,!1)},{keyCode:Pt.DELETE,action:So(HI,e,!0)}],o).filter(f=>e.selection.isEditable()).each(f=>{o.preventDefault(),y7(e,s).isDefaultPrevented()||(f(),AE(e,s))})},QW=(e,t,o,s)=>SE([{keyCode:Pt.BACKSPACE,action:So(Ne,e)},{keyCode:Pt.DELETE,action:So(Ne,e)},...Ez?[{keyCode:Pt.BACKSPACE,altKey:!0,action:So(kE,e)},{keyCode:Pt.DELETE,altKey:!0,action:So(kE,e)},...o?[{keyCode:YW?224:91,action:So(()=>(WF(e,s),kE(e)))}]:[]]:[{keyCode:Pt.BACKSPACE,ctrlKey:!0,action:So(kE,e)},{keyCode:Pt.DELETE,ctrlKey:!0,action:So(kE,e)}]],t),JW=(e,t)=>{let o=!1,s=[];e.on("keydown",a=>{o=a.keyCode===Pt.BACKSPACE,s=II(e),a.isDefaultPrevented()||XW(e,t,a)}),e.on("keyup",a=>{a.isDefaultPrevented()||(QW(e,a,o,s),s.length=0),o=!1})},eq=(e,t)=>{const o=oe.fromDom(e),s=oe.fromDom(t),a=ea("span"),c=ze(sn,o),u=b=>fr(b)&&Fm(b,"font-size").isSome(),f=[...u(s)?[s]:[],...Kf(s,u,c)];Ge(f.slice(1),b=>{mi(b,"font-size"),Mr(b,"data-mce-style"),a(b)&&$u(b)&&Ni(b)})},tq=e=>{for(;e;){if(qt(e)||ht(e)&&e.data&&/[\r\n\s]/.test(e.data))return B.from(oe.fromDom(e));e=e.nextSibling}return B.none()},hC=(e,t)=>{const o=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=b=>/^(ul|ol|dl)$/.test(jo(b)),u=b=>c(b)?B.from(b):Li(b,c),f=b=>o.isEmpty(b.dom);tq(t.firstChild).each(b=>{u(b).fold(()=>{if(f(b)){const _=JZ(b,0).element;fr(_)&&!Qi(_)&&dn(_,oe.fromText(Us))}},_=>{na(_,oe.fromText(Us))})})}const a=o.createRng();if(t.normalize(),t.hasChildNodes()){const c=new rr(t,t);let u=t,f;for(;f=c.current();){if(ht(f)){a.setStart(f,0),a.setEnd(f,0);break}if(s[f.nodeName.toLowerCase()]){a.setStartBefore(f),a.setEndBefore(f);break}u=f,f=c.next()}f||(a.setStart(u,0),a.setEnd(u,0))}else Ls(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),Tv(e,a)},TE=(e,t)=>{const o=e.getRoot();let s,a=t;for(;a!==o&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){s=a;break}a=a.parentNode}return a!==o?s:o},aL=e=>B.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),oq=e=>aL(e).fold(pt(""),t=>t.nodeName.toUpperCase()),nq=e=>aL(e).filter(t=>om(oe.fromDom(t))).isSome(),iL=e=>{e.innerHTML='<br data-mce-bogus="1">'},sq=(e,t,o)=>{const s=e.dom;B.from(o.style).map(s.parseStyle).each(b=>{const T={...zm(oe.fromDom(t)),...b};s.setStyles(t,T)});const a=B.from(o.class).map(b=>b.split(/\s+/)),c=B.from(t.className).map(b=>xt(b.split(/\s+/),_=>_!==""));Rs(a,c,(b,_)=>{const T=xt(_,M=>!Wo(b,M)),R=[...b,...T];s.setAttrib(t,"class",R.join(" "))});const u=["style","class"],f=Dr(o,(b,_)=>!Wo(u,_));s.setAttribs(t,f)},DE=(e,t)=>{if(si(e).toLowerCase()===t.tagName.toLowerCase()){const s=r0(e);sq(e,t,s)}},Az=(e,t,o,s,a=!0,c,u)=>{const f=e.dom,b=e.schema,_=si(e),T=o?o.nodeName.toUpperCase():"";let R=t;const M=b.getTextInlineElements();let $;c||T==="TABLE"||T==="HR"?$=f.create(c||_,u||{}):$=o.cloneNode(!1);let te=$;if(!a)f.setAttrib($,"style",null),f.setAttrib($,"class",null);else{do if(M[R.nodeName]){if(Lo(R)||Rc(R))continue;const G=R.cloneNode(!1);f.setAttrib(G,"id",""),$.hasChildNodes()?(G.appendChild($.firstChild),$.appendChild(G)):(te=G,$.appendChild(G))}while((R=R.parentNode)&&R!==s);eq($,te)}return DE(e,$),iL(te),$},rq=(e,t)=>e.dom.getParent(t,zx),aq=(e,t,o)=>{let s=t;for(;s&&s!==e&&nt(s.nextSibling);){const a=s.parentElement;if(!a||!o(a))return zx(a);s=a}return!1},iq=(e,t,o)=>!t&&o.nodeName.toLowerCase()===si(e)&&e.dom.isEmpty(o)&&aq(e.getBody(),o,s=>ko(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),lq=(e,t,o)=>{const s=t(si(e)),a=rq(e,o);a&&(e.dom.insertAfter(s,a),hC(e,s),(o.parentElement?.childNodes?.length??0)>1&&e.dom.remove(o))},cq=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,dq=e=>e.parentNode?.firstChild===e,Tz=(e,t)=>{const o=e?.parentNode;return Me(o)&&o.nodeName===t},Dz=e=>Me(e)&&/^(OL|UL|LI)$/.test(e.nodeName),lL=e=>Me(e)&&/^(LI|DT|DD)$/.test(e.nodeName),uq=e=>Dz(e)&&Dz(e.parentNode),w7=e=>{const t=e.parentNode;return lL(t)?t:e},_7=(e,t,o)=>{let s=e[o?"firstChild":"lastChild"];for(;s&&!qt(s);)s=s[o?"nextSibling":"previousSibling"];return s===t},Oz=e=>Zo(ga(zm(oe.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),mq=(e,t,o,s,a)=>{const c=e.dom,u=e.selection.getRng(),f=o.parentNode;if(o===e.getBody()||!f)return;uq(o)&&(a="LI");const b=lL(s)?Oz(s):void 0;let _=lL(s)&&b?t(a,{style:Oz(s)}):t(a);if(_7(o,s,!0)&&_7(o,s,!1))if(Tz(o,"LI")){const T=w7(o);c.insertAfter(_,T),dq(o)?c.remove(T):c.remove(o)}else c.replace(_,o);else if(_7(o,s,!0))Tz(o,"LI")?(c.insertAfter(_,w7(o)),_.appendChild(c.doc.createTextNode(" ")),_.appendChild(o)):f.insertBefore(_,o),c.remove(s);else if(_7(o,s,!1))c.insertAfter(_,w7(o)),c.remove(s);else{o=w7(o);const T=u.cloneRange();T.setStartAfter(s),T.setEndAfter(o);const R=T.extractContents();if(a==="LI"&&cq(R,"LI")){const M=xt(Io(_.children,oe.fromDom),Ee(ea("br")));_=R.firstChild,c.insertAfter(R,o),Ge(M,$=>hc(oe.fromDom(_),$)),b&&_.setAttribute("style",b)}else c.insertAfter(R,o),c.insertAfter(_,o);c.remove(s)}hC(e,_)},gq=e=>{Ge(Gi(oe.fromDom(e),Ka),t=>{const o=t.dom;o.nodeValue=Hi(o.data)})},fq=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},pq=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),cL=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,hq=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,dL=(e,t)=>Me(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",bq=(e,t,o)=>{const s=[];if(!o)return;let a=o;for(;a=a.firstChild;){if(e.isBlock(a))return;qt(a)&&!t[a.nodeName.toLowerCase()]&&s.push(a)}let c=s.length;for(;c--;)a=s[c],(!a.hasChildNodes()||a.firstChild===a.lastChild&&a.firstChild?.nodeValue===""||pq(e,a))&&e.remove(a)},uL=(e,t,o)=>ht(t)?e?o===1&&t.data.charAt(o-1)===Vr?0:o:o===t.data.length-1&&t.data.charAt(o)===Vr?t.data.length:o:o,xq=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,uL(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,uL(!1,e.endContainer,e.endOffset)),t},vq=e=>{let t=e;do ht(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},yq=(e,t,o,s,a)=>{const c=e.dom,u=TE(c,s)??c.getRoot();let f=c.getParent(s,c.isBlock);if(!f||!dL(c,f)){if(f=f||u,!f.hasChildNodes()){const R=c.create(t);return DE(e,R),f.appendChild(R),o.setStart(R,0),o.setEnd(R,0),R}let b=s;for(;b&&b.parentNode!==f;)b=b.parentNode;let _;for(;b&&!c.isBlock(b);)_=b,b=b.previousSibling;const T=_?.parentElement?.nodeName;if(_&&T&&e.schema.isValidChild(T,t.toLowerCase())){const R=_.parentNode,M=c.create(t);for(DE(e,M),R.insertBefore(M,_),b=_;b&&!c.isBlock(b);){const $=b.nextSibling;M.appendChild(b),b=$}o.setStart(s,a),o.setEnd(s,a)}}return s},wq=(e,t)=>{t.normalize();const o=t.lastChild;(!o||qt(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},_q=(e,t)=>{const o=Fy(e);return to(t)?!1:tt(o)?Wo(ct.explode(o),t.nodeName.toLowerCase()):o},Rz={insert:(e,t)=>{let o,s,a,c,u=!1;const f=e.dom,b=e.schema,_=b.getNonEmptyElements(),T=e.selection.getRng(),R=si(e),M=oe.fromDom(T.startContainer),$=pr(M,T.startOffset),te=$.exists(Qe=>Kd(Qe)&&!qi(Qe)),G=T.collapsed&&te,ee=(Qe,Nt)=>Az(e,o,It,it,ak(e),Qe,Nt),ye=Qe=>{const Nt=uL(Qe,o,s);if(ht(o)&&(Qe?Nt>0:Nt<o.data.length))return!1;if((o.parentNode===It||o===It)&&u&&!Qe||Qe&&qt(o)&&o===It.firstChild)return!0;if(cL(o,"TABLE")||cL(o,"HR"))return hq(o,"BR")?!Qe:u&&!Qe||!u&&Qe;const po=new rr(o,It);ht(o)&&(Qe&&Nt===0?po.prev():!Qe&&Nt===o.data.length&&po.next());let Eo;for(;Eo=po.current();){if(qt(Eo)){if(!Eo.getAttribute("data-mce-bogus")){const bn=Eo.nodeName.toLowerCase();if(_[bn]&&bn!=="br")return!1}}else if(ht(Eo)&&!qm(Eo.data))return!1;Qe?po.prev():po.next()}return!0},Ce=()=>{let Qe;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&Xt!=="HGROUP"?Qe=ee(R):Qe=ee(),_q(e,c)&&dL(f,c)&&f.isEmpty(It,void 0,{includeZwsp:!0})?Qe=f.split(c,It):f.insertAfter(Qe,It),hC(e,Qe),Qe};p1(f,T).each(Qe=>{T.setStart(Qe.startContainer,Qe.startOffset),T.setEnd(Qe.endContainer,Qe.endOffset)}),o=T.startContainer,s=T.startOffset;const Te=!!(t&&t.shiftKey),Xe=!!(t&&t.ctrlKey);qt(o)&&o.hasChildNodes()&&!G&&(u=s>o.childNodes.length-1,o=o.childNodes[Math.min(s,o.childNodes.length-1)]||o,u&&ht(o)?s=o.data.length:s=0);const it=TE(f,o);if(!it||fq(e,o))return;Te||(o=yq(e,R,T,o,s));let It=f.getParent(o,f.isBlock)||f.getRoot();c=Me(It?.parentNode)?f.getParent(It.parentNode,f.isBlock):null,a=It?It.nodeName.toUpperCase():"";const Xt=c?c.nodeName.toUpperCase():"";if(Xt==="LI"&&!Xe){const Qe=c;It=Qe,c=Qe.parentNode,a=Xt}if(qt(c)&&iq(e,Te,It))return lq(e,ee,It);if(/^(LI|DT|DD)$/.test(a)&&qt(c)&&f.isEmpty(It)){mq(e,ee,c,It,R);return}if(!G&&(It===e.getBody()||!dL(f,It)))return;const Ke=It.parentNode;let Ze;if(G)Ze=ee(R),$.fold(()=>{dn(M,oe.fromDom(Ze))},Qe=>{na(Qe,oe.fromDom(Ze))}),e.selection.setCursorLocation(Ze,0);else if(af(It))Ze=rv(It),f.isEmpty(It)&&iL(It),DE(e,Ze),hC(e,Ze);else if(ye(!1))Ze=Ce();else if(ye(!0)&&Ke){const Qe=Ye.fromRangeStart(T),Nt=Rw(Qe),po=oe.fromDom(It),bn=Bv(po,Qe,e.schema)?k4(po,Qe,e.schema).bind(xs=>B.from(xs.getNode())):B.none();Ze=Ke.insertBefore(ee(),It);const qn=cL(It,"HR")||Nt?Ze:bn.getOr(It);hC(e,qn)}else{const Qe=xq(T).cloneRange();Qe.setEndAfter(It);const Nt=Qe.extractContents();gq(Nt),vq(Nt),Ze=Nt.firstChild,It===Ze?Me(Ke)&&f.insertAfter(Nt,Ke):f.insertAfter(Nt,It),bq(f,_,Ze),wq(f,It),f.isEmpty(It)&&iL(It),Ze.normalize(),f.isEmpty(Ze)?(f.remove(Ze),Ce()):(DE(e,Ze),hC(e,Ze))}f.setAttrib(Ze,"id",""),e.dispatch("NewBlock",{newBlock:Ze})},fakeEventName:"insertParagraph"},Cq=(e,t,o)=>{const s=new rr(t,o);let a;const c=e.getNonEmptyElements();for(;a=s.next();)if(c[a.nodeName.toLowerCase()]||ht(a)&&a.length>0)return!0;return!1},Nz=(e,t,o)=>{const s=e.dom.createRng();o?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Tv(e,s)},kq=(e,t)=>{const o=e.selection,s=e.dom,a=o.getRng();let c,u=!1;p1(s,a).each($=>{a.setStart($.startContainer,$.startOffset),a.setEnd($.endContainer,$.endOffset)});let f=a.startOffset,b=a.startContainer;if(qt(b)&&b.hasChildNodes()){const $=f>b.childNodes.length-1;b=b.childNodes[Math.min(f,b.childNodes.length-1)]||b,$&&ht(b)?f=b.data.length:f=0}let _=s.getParent(b,s.isBlock);const T=_&&_.parentNode?s.getParent(_.parentNode,s.isBlock):null,R=T?T.nodeName.toUpperCase():"",M=!!(t&&t.ctrlKey);R==="LI"&&!M&&(_=T),ht(b)&&f>=b.data.length&&(Cq(e.schema,b,_||s.getRoot())||(c=s.create("br"),a.insertNode(c),a.setStartAfter(c),a.setEndAfter(c),u=!0)),c=s.create("br"),Oy(s,a,c),Nz(e,c,u),e.undoManager.add()},Sq=(e,t)=>{const o=oe.fromTag("br");na(oe.fromDom(t),o),e.undoManager.add()},Eq=(e,t)=>{Tq(e.getBody(),t)||Hl(oe.fromDom(t),oe.fromTag("br"));const o=oe.fromTag("br");Hl(oe.fromDom(t),o),Nz(e,o.dom,!1),e.undoManager.add()},Aq=e=>Ls(e.getNode()),Tq=(e,t)=>Aq(Ye.after(t))?!0:ol(e,Ye.after(t)).map(o=>Ls(o.getNode())).getOr(!1),Mz=e=>e&&e.nodeName==="A"&&"href"in e,Dq=e=>e.fold(Do,Mz,Mz,Do),Oq=e=>{const t=ze(sl,e),o=Ye.fromRangeStart(e.selection.getRng());return Hp(t,e.getBody(),o).filter(Dq)},Rq=(e,t)=>{t.fold(To,ze(Sq,e),ze(Eq,e),To)},Bz={insert:(e,t)=>{const o=Oq(e);o.isSome()?o.each(ze(Rq,e)):kq(e,t)},fakeEventName:"insertLineBreak"},Pz=(e,t)=>aL(e).filter(o=>t.length>0&&Ln(oe.fromDom(o),t)).isSome(),Nq=e=>Pz(e,AR(e)),Mq=e=>Pz(e,Fs(e)),Ou=ll.generate([{br:[]},{block:[]},{none:[]}]),Bq=(e,t)=>Mq(e),Iz=e=>(t,o)=>nq(t)===e,Lz=(e,t)=>(o,s)=>oq(o)===e.toUpperCase()===t,Pq=e=>{const t=TE(e.dom,e.selection.getStart());return to(t)},OE=e=>Lz("pre",e),Iq=()=>Lz("summary",!0),C7=e=>(t,o)=>SR(t)===e,Lq=(e,t)=>Nq(e),k7=(e,t)=>t,Fq=e=>{const t=si(e),o=TE(e.dom,e.selection.getStart());return Me(o)&&e.schema.isValidChild(o.nodeName,t)},zq=e=>{const t=e.selection.getRng(),o=oe.fromDom(t.startContainer),a=pr(o,t.startOffset).map(c=>Kd(c)&&!qi(c));return t.collapsed&&a.getOr(!0)},ym=(e,t)=>(o,s)=>Zo(e,(c,u)=>c&&u(o,s),!0)?B.some(t):B.none(),Vq=(e,t)=>gF([ym([Bq],Ou.none()),ym([OE(!0),Pq],Ou.none()),ym([Iq()],Ou.br()),ym([OE(!0),C7(!1),k7],Ou.br()),ym([OE(!0),C7(!1)],Ou.block()),ym([OE(!0),C7(!0),k7],Ou.block()),ym([OE(!0),C7(!0)],Ou.br()),ym([Iz(!0),k7],Ou.br()),ym([Iz(!0)],Ou.block()),ym([Lq],Ou.br()),ym([k7],Ou.br()),ym([Fq],Ou.block()),ym([zq],Ou.block())],[e,!!(t&&t.shiftKey)]).getOr(Ou.none()),S7=(e,t,o)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||I4(t),!(Me(o)&&y7(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),Me(o)&&AE(t,e.fakeEventName)))},Fz=(e,t)=>{if(e.mode.isReadOnly())return;const o=()=>S7(Bz,e,t),s=()=>S7(Rz,e,t),a=Vq(e,t);switch(ER(e)){case"linebreak":a.fold(o,o,To);break;case"block":a.fold(s,s,To);break;case"invert":a.fold(s,o,To);break;default:a.fold(o,s,To);break}},zz=gl(),Hq=zz.os.isiOS()&&zz.browser.isSafari(),Vz=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),WD(e.undoManager),e.undoManager.transact(()=>{Fz(e,t)}))},$q=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(ht(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return o.test(s)}else return!1},Uq=e=>{let t=B.none();const o=a=>{t=B.some(a.selection.getBookmark()),a.undoManager.add()},s=(a,c)=>{a.undoManager.undo(),t.fold(To,u=>a.selection.moveToBookmark(u)),Vz(a,c),t=B.none()};e.on("keydown",a=>{a.keyCode===Pt.ENTER&&(Hq&&$q(e.selection.getRng())?o(e):Vz(e,a))}),e.on("keyup",a=>{a.keyCode===Pt.ENTER&&t.each(()=>s(e,a))})},Zq=(e,t,o)=>{const s=Bo.os.isMacOS()||Bo.os.isiOS();SE([{keyCode:Pt.END,action:So(u9,e,!0)},{keyCode:Pt.HOME,action:So(u9,e,!1)},...s?[]:[{keyCode:Pt.HOME,action:So(g7,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Pt.END,action:So(g7,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Pt.END,action:So(w9,e,!0)},{keyCode:Pt.HOME,action:So(w9,e,!1)},{keyCode:Pt.END,action:So(m7,e,!0,t)},{keyCode:Pt.HOME,action:So(m7,e,!1,t)}],o).each(a=>{o.preventDefault()})},jq=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Zq(e,t,o)})},Wq=e=>{e.on("input",t=>{t.isComposing||DT(e)})},qq=gl(),Gq=(e,t,o)=>{SE([{keyCode:Pt.PAGE_UP,action:So(m7,e,!1,t)},{keyCode:Pt.PAGE_DOWN,action:So(m7,e,!0,t)}],o)},Hz=e=>e.stopImmediatePropagation(),$z=e=>e.keyCode===Pt.PAGE_UP||e.keyCode===Pt.PAGE_DOWN,Uz=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",Hz,!0):!o&&e.get()&&t.off("NodeChange",Hz),e.set(o)},Kq=(e,t)=>{if(qq.os.isMacOS())return;const o=jn(!1);e.on("keydown",s=>{$z(s)&&Uz(o,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||Gq(e,t,s),$z(s)&&o.get()&&(Uz(o,e,!1),e.nodeChanged())})},Zz=(e,t)=>e===t||e.contains(t),Yq=(e,t)=>!Zz(e.getBody(),t.startContainer)||!Zz(e.getBody(),t.endContainer)?!0:i4(e.dom,t),Xq=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||In(t.getTargetRanges(),o=>!Yq(e,o)))&&t.preventDefault()})},jz=(e,t)=>{const o=t.container(),s=t.offset();return ht(o)?(o.insertData(s,e),B.some(Ye(o,s+e.length))):Jy(t).map(a=>{const c=oe.fromText(e);return t.isAtEnd()?Hl(a,c):na(a,c),Ye(c.dom,e.length)})},Wz=ze(jz,Us),qz=ze(jz," "),Qq=(e,t,o)=>Iv(e,t,o)?Wz(t):qz(t),Jq=e=>t=>t.fold(o=>tc(e.dom,Ye.before(o)),o=>$i(o),o=>Sd(o),o=>ol(e.dom,Ye.after(o))),eG=(e,t,o)=>s=>Iv(e,s,o)?Wz(t):qz(t),Gz=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},tG=(e,t)=>e.isEditable(e.getParent(t,"summary")),oG=e=>{const t=Ye.fromRangeStart(e.selection.getRng()),o=oe.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=ze(sl,e),a=Ye.fromRangeStart(e.selection.getRng());return Hp(s,e.getBody(),a).bind(Jq(o)).map(c=>()=>eG(o,t,e.schema)(c).each(Gz(e)))}else return B.none()},nG=e=>{const t=()=>{const o=oe.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=Ye.fromRangeStart(e.selection.getRng());Qq(o,s,e.schema).each(Gz(e))};return Vd(Bo.browser.isFirefox()&&e.selection.isEditable()&&tG(e.dom,e.selection.getRng().startContainer),t)},sG=(e,t)=>{x9([{keyCode:Pt.SPACEBAR,action:So(oG,e)},{keyCode:Pt.SPACEBAR,action:So(nG,e)}],t).each(o=>{t.preventDefault(),y7(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),AE(e,"insertText",{data:" "}))})},rG=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||sG(e,t)})},aG=e=>zA(e)?[{keyCode:Pt.TAB,action:So(U9,e,!0)},{keyCode:Pt.TAB,shiftKey:!0,action:So(U9,e,!1)}]:[],iG=(e,t)=>{SE([...aG(e)],t).each(o=>{t.preventDefault()})},lG=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||iG(e,t)})},cG=e=>{if(e.addShortcut("Meta+P","","mcePrint"),LW(e),ku(e))return jn(null);{const t=SU(e);return Xq(e),CZ(e),Uj(e,t),JW(e,t),Uq(e),rG(e),Wq(e),lG(e),jq(e,t),Kq(e,t),t}},dG=(e,t)=>{const o=E2(e);o===null||Eu(e,o)||e.undoManager.transact(()=>{se(t.styles)&&e.dom.setStyles(o,t.styles),se(t.attrs)&&on(t.attrs,(s,a)=>e.dom.setAttrib(o,a,s))})},mL=(e,t)=>()=>{const o=E2(e);return Me(o)&&o.nodeName===t},uG=e=>{e.addCommand("InsertUnorderedList",(t,o)=>{Y(e,"UL",o)}),e.addCommand("InsertOrderedList",(t,o)=>{Y(e,"OL",o)}),e.addCommand("InsertDefinitionList",(t,o)=>{Y(e,"DL",o)}),e.addCommand("RemoveList",()=>{dC(e)}),e.addCommand("mceListUpdate",(t,o)=>{se(o)&&dG(e,o)}),e.addCommand("mceListBackspaceDelete",(t,o)=>{ao(e,o)}),e.addQueryStateHandler("InsertUnorderedList",mL(e,"UL")),e.addQueryStateHandler("InsertOrderedList",mL(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",mL(e,"DL"))},mG=e=>{e.on("keydown",t=>{t.keyCode===Pt.BACKSPACE?ao(e,!1)&&t.preventDefault():t.keyCode===Pt.DELETE&&ao(e,!0)&&t.preventDefault()})},Kz=e=>e.type===3,Yz=e=>e.length===0,gG=e=>{const t=(a,c)=>{const u=yi.create("li");Ge(a,f=>u.append(f)),c?e.insert(u,c,!0):e.append(u)},o=(a,c)=>Kz(c)?[...a,c]:!Yz(a)&&!Kz(c)?(t(a,c),[]):a,s=Zo(e.children(),o,[]);Yz(s)||t(s)},fG=e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",o=>Ge(o,gG))})},pG=e=>{e.on("keydown",t=>{t.keyCode!==Pt.TAB||Pt.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?cC(e):gE(e))&&t.preventDefault()})})},hG=e=>{eN(e)&&pG(e)},bG=e=>{mG(e),uG(e),fG(e),hG(e)};class xG{editor;lastPath=[];constructor(t){this.editor=t;let o;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",a=>{const c=t.selection.getRng(),u={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(a.type==="nodechange"||!Bc(u,o))&&t.dispatch("SelectionChange"),o=u}),t.on("contextmenu",()=>{gw(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const a=t.selection.getStart(!0);a&&sw(t)&&!s.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",a=>{!a.isDefaultPrevented()&&sw(t)&&(t.selection.getNode().nodeName==="IMG"?Ad.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor,s=o.selection;let a;if(o.initialized&&s&&!PR(o)&&!Gy(o)){const c=o.getBody();a=s.getStart(!0)||c,(a.ownerDocument!==o.getDoc()||!o.dom.isChildOf(a,c))&&(a=c);const u=[];o.dom.getParent(a,f=>f===c?!0:(u.push(f),!1)),o.dispatch("NodeChange",{...t,element:a,parents:u})}}isSameElementPath(t){let o;const s=this.editor,a=ma(s.dom.getParents(t,Yo,s.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const Xz="x-tinymce/html",E7=pt(Xz),gL="<!-- "+Xz+" -->",vG=e=>gL+e,yG=e=>e.replace(gL,""),Qz=e=>e.indexOf(gL)!==-1,wG=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),_G=(e,t)=>{let o="<"+e;const s=ga(t,(a,c)=>c+'="'+pd.encodeAllRaw(a)+'"');return s.length&&(o+=" "+s.join(" ")),o+">"},CG=(e,t,o)=>{const s=e.split(/\n\n/),a=_G(t,o),c="</"+t+">",u=Io(s,b=>b.split(/\n/).join("<br />")),f=b=>a+b+c;return u.length===1?u[0]:Io(u,f).join("")},Jz="%MCEPASTEBIN%",kG=(e,t)=>{const{dom:o,selection:s}=e,a=e.getBody();t.set(s.getRng());const c=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Jz);Bo.browser.isFirefox()&&o.setStyle(c,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(c,"beforedeactivate focusin focusout",u=>{u.stopPropagation()}),c.focus(),s.select(c,!0)},SG=(e,t)=>{const o=e.dom;if(fL(e)){let s;const a=t.get();for(;s=fL(e);)o.remove(s),o.unbind(s);a&&e.selection.setRng(a)}t.set(null)},fL=e=>e.dom.get("mcepastebin"),EG=e=>Me(e)&&e.id==="mcepastebin",AG=e=>{const t=e.dom,o=(u,f)=>{u.appendChild(f),t.remove(f,!0)},[s,...a]=xt(e.getBody().childNodes,EG);Ge(a,u=>{o(s,u)});const c=t.select("div[id=mcepastebin]",s);for(let u=c.length-1;u>=0;u--){const f=t.create("div");s.insertBefore(f,c[u]),o(f,c[u])}return s?s.innerHTML:""},eV=e=>e===Jz,TG=e=>{const t=jn(null);return{create:()=>kG(e,t),remove:()=>SG(e,t),getEl:()=>fL(e),getHtml:()=>AG(e),getLastRng:t.get}},tV=(e,t)=>(ct.each(t,o=>{Tt(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),DG=e=>{const t=su(),o=wa({},t);let s="";const a=t.getVoidElements(),c=ct.makeMap("script noscript style textarea video audio iframe object"," "),u=t.getBlockElements(),f=b=>{const _=b.name,T=b;if(_==="br"){s+=`
`;return}if(_!=="wbr"){if(a[_]&&(s+=" "),c[_]){s+=" ";return}if(b.type===3&&(s+=b.value),!(b.name in t.getVoidElements())){let R=b.firstChild;if(R)do f(R);while(R=R.next)}u[_]&&T.next&&(s+=`
`,_==="p"&&(s+=`
`))}};return e=tV(e,[/<!\[[^\]]+\]>/g]),f(o.parse(e)),s},oV=e=>(e=tV(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,s,a)=>!s&&!a?" ":Us],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),OG=e=>{let t=0;return()=>e+t++},RG=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ct.hasOwn(o,t)?"image/"+o[t]:"image/"+t},NG=(e,t)=>{const o=wa({sanitize:Uy(e),sandbox_iframes:_k(e),sandbox_iframes_exclusions:Ck(e),convert_unsafe_embeds:Wy(e)},e.schema);o.addNodeFilter("meta",a=>{ct.each(a,c=>{c.remove()})});const s=o.parse(t,{forced_root_block:!1,isRootContent:!0});return hf({validate:!0},e.schema).serialize(s)},nV=(e,t)=>({content:e,cancelled:t}),MG=(e,t,o)=>{const s=e.dom.create("div",{style:"display:none"},t),a=cA(e,s,o);return nV(a.node.innerHTML,a.isDefaultPrevented())},BG=(e,t,o)=>{const s=uu(e,t,o),a=NG(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?MG(e,a,o):nV(a,s.isDefaultPrevented())},PG=(e,t,o)=>BG(e,t,o),pL=(e,t)=>(e.insertContent(t,{merge:UR(e),paste:!0}),!0),hL=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),IG=(e,t)=>hL(t)&&In(FA(e),o=>Og(t.toLowerCase(),`.${o.toLowerCase()}`)),LG=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),FG=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),zG=(e,t,o)=>!e.selection.isCollapsed()&&hL(t)?FG(e,t,o):!1,VG=(e,t,o)=>IG(e,t)?LG(e,t,o):!1,HG=(e,t)=>{ct.each([zG,VG,pL],o=>!o(e,t,pL))},$G=(e,t,o)=>{o||!BA(e)?pL(e,t):HG(e,t)},UG=OG("mceclip"),ZG=e=>{const t=YI();return B9(t,e),KI(t),t},sV=(e,t,o,s,a)=>{const c=PG(e,t,o);if(!c.cancelled){const u=c.content,f=()=>$G(e,u,s);a?y7(e,"insertFromPaste",{dataTransfer:ZG(u)}).isDefaultPrevented()||(f(),AE(e,"insertFromPaste")):f()}},A7=(e,t,o,s)=>{const a=o||Qz(t);sV(e,yG(t),a,!1,s)},bL=(e,t,o)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),a=sy(s,jR(e)),c=CG(a,si(e),r0(e));sV(e,c,!1,!0,o)},rV=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const s=e.types[o];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},dx=(e,t)=>t in e&&e[t].length>0,aV=e=>dx(e,"text/html")||dx(e,"text/plain"),jG=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Me(o)?e.dom.encode(o[1]):void 0},WG=(e,t,o,s)=>{const a=UG(),c=ig(e)&&Me(o.name),u=c?jG(e,o.name):a,f=c?o.name:void 0,b=t.create(a,o,s,u,f);return t.add(b),b},qG=(e,t)=>{l_(t.uri).each(({data:o,type:s,base64Encoded:a})=>{const c=a?o:btoa(o),u=t.file,f=e.editorUpload.blobCache,_=f.getByData(c,s)??WG(e,f,u,c);A7(e,`<img src="${_.blobUri()}">`,!1,!0)})},GG=e=>e.type==="paste",KG=e=>Promise.all(Io(e,t=>c_(t).then(o=>({file:t,uri:o})))),YG=e=>{const t=FA(e);return o=>$s(o.type,"image/")&&In(t,s=>RG(s)===o.type)},XG=(e,t)=>{const o=t.items?dr(Ot(t.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],s=t.files?Ot(t.files):[];return xt(o.length>0?o:s,YG(e))},iV=(e,t,o)=>{const s=GG(t)?t.clipboardData:t.dataTransfer;if(c0(e)&&s){const a=XG(e,s);if(a.length>0)return t.preventDefault(),KG(a).then(c=>{o&&e.selection.setRng(o),Ge(c,u=>{qG(e,u)})}),!0}return!1},QG=e=>Bo.os.isAndroid()&&e.clipboardData?.items?.length===0,JG=e=>Pt.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,xL=(e,t,o,s,a)=>{let c=oV(o);const u=dx(t,E7())||Qz(o),f=!u&&wG(c),b=hL(c);(eV(c)||!c.length||f&&!b)&&(s=!0),(s||b)&&(dx(t,"text/plain")&&f?c=t["text/plain"]:c=DG(c)),!eV(c)&&(s?bL(e,c,a):A7(e,c,u,a))},eK=(e,t,o)=>{let s;const a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{JG(c)&&!c.isDefaultPrevented()&&(s=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||QG(c))return;const u=o.get()==="text"||s;s=!1;const f=rV(c.clipboardData);!aV(f)&&iV(e,c,a())||(dx(f,"text/html")?(c.preventDefault(),xL(e,f,f["text/html"],u,!0)):dx(f,"text/plain")&&dx(f,"text/uri-list")?(c.preventDefault(),xL(e,f,f["text/plain"],u,!0)):(t.create(),Ad.setEditorTimeout(e,()=>{const b=t.getHtml();t.remove(),xL(e,f,b,u,!1)},0)))})},tK=e=>{const t=a=>$s(a,"webkit-fake-url"),o=a=>$s(a,"data:"),s=a=>a.data?.paste===!0;e.parser.addNodeFilter("img",(a,c,u)=>{if(!c0(e)&&s(u))for(const f of a){const b=f.attr("src");tt(b)&&!f.attr("data-mce-object")&&b!==Bo.transparentSrc&&(t(b)||!WR(e)&&o(b))&&f.remove()}})},oK=(e,t,o)=>{eK(e,t,o),tK(e)},nK=(e,t)=>{t.get()==="text"?(t.set("html"),dA(e,!1)):(t.set("text"),dA(e,!0)),e.focus()},sK=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{nK(e,t)}),e.addCommand("mceInsertClipboardContent",(o,s)=>{s.html&&A7(e,s.html,s.internal,!1),s.text&&bL(e,s.text,!1)})},rK=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(E7(),t),!0}catch{return!1}else return!1},lV=(e,t,o,s)=>{rK(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):o(t.html,s)},cV=e=>(t,o)=>{const{dom:s,selection:a}=e,c=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),u=s.create("div",{contenteditable:"true"},t);s.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(u),s.add(e.getBody(),c);const f=a.getRng();u.focus();const b=s.createRng();b.selectNodeContents(u),a.setRng(b),Ad.setEditorTimeout(e,()=>{a.setRng(f),s.remove(c),o()},0)},dV=e=>({html:vG(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),aK=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),uV=e=>!e.selection.isCollapsed()||aK(e),iK=(e,t)=>o=>{!o.isDefaultPrevented()&&uV(e)&&e.selection.isEditable()&&lV(o,dV(e),cV(e),()=>{if(Bo.browser.isChromium()||Bo.browser.isFirefox()){const s=e.selection.getRng();Ad.setEditorTimeout(e,()=>{e.selection.setRng(s),$I(e,t)},0)}else $I(e,t)})},lK=e=>t=>{!t.isDefaultPrevented()&&uV(e)&&lV(t,dV(e),cV(e),To)},cK=(e,t)=>{e.on("cut",iK(e,t)),e.on("copy",lK(e))},mV=(e,t)=>gu.getCaretRangeFromPoint(t.clientX??0,t.clientY??0,e.getDoc()),dK=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},gV=(e,t)=>{t&&e.selection.setRng(t),e.focus()},uK=e=>In(e.files,t=>/^image\//.test(t.type)),mK=(e,t,o,s)=>{const a=e.getParent(o,u=>Ku(t,u));if(!nt(e.getParent(o,"summary")))return!0;if(a&&ko(s,"text/html")){const u=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!nt(u.querySelector(a.nodeName.toLowerCase()))}else return!1},gK=e=>{e.on("input",t=>{const o=s=>nt(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=xt(e.dom.select("details"),o);Ge(s,a=>{Ls(a.firstChild)&&a.firstChild.remove();const c=e.dom.create("summary");c.appendChild(sf().dom),a.prepend(c)})}})},fK=(e,t)=>{VR(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),c0(e)||e.on("drop",o=>{const s=o.dataTransfer;s&&uK(s)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const s=mV(e,o);if(to(s))return;const a=rV(o.dataTransfer),c=dx(a,E7());if((!aV(a)||dK(a))&&iV(e,o,s))return;const u=a[E7()],f=u||a["text/html"]||a["text/plain"],b=mK(e.dom,e.schema,s.startContainer,a),_=t.get();_&&!b||f&&(o.preventDefault(),Ad.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(u||_&&b)&&e.execCommand("Delete"),gV(e,s);const T=oV(f);a["text/html"]?A7(e,T,c,!0):bL(e,T,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{c0(e)&&!t.get()&&(o.preventDefault(),gV(e,mV(e,o))),o.type==="dragend"&&t.set(!1)}),gK(e)},pK=e=>{const t=a=>c=>{a(e,c)},o=RA(e);Ut(o)&&e.on("PastePreProcess",t(o));const s=HR(e);Ut(s)&&e.on("PastePostProcess",t(s))},hK=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},bK=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,fV=e=>ct.trim(e).replace(bK,Qg).toLowerCase(),xK=(e,t,o)=>{const s=NA(e);if(o||s==="all"||!MA(e))return t;const a=s?s.split(/[, ]/):[];if(a&&s!=="none"){const c=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(f,b,_,T)=>{const R=c.parseStyle(c.decode(_)),M={};for(let te=0;te<a.length;te++){const G=R[a[te]];let ee=G,ye=c.getStyle(u,a[te],!0);/color/.test(a[te])&&(ee=fV(ee),ye=fV(ye)),ye!==ee&&(M[a[te]]=G)}const $=c.serializeStyle(M,"span");return $?b+' style="'+$+'"'+T:b+T})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,u,f,b)=>u+' style="'+f+'"'+b),t},vK=e=>{(Bo.browser.isChromium()||Bo.browser.isSafari())&&hK(e,xK)},yK=(e,t)=>{const o=jn(!1),s=jn(ZR(e)?"text":"html"),a=TG(e);vK(e),sK(e,s),pK(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>s.get()==="text"),e.on("PreInit",()=>{cK(e,t),fK(e,o),oK(e,a,s)})},wK=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},_K=e=>{e.parser.addNodeFilter("details",t=>{const o=jy(e);Ge(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=QR(e);Ge(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})})},CK=e=>{wK(e),_K(e)},kK=Ls,pV=ht,SK=e=>Xn(e.dom),EK=e=>pi(e.dom),hV=e=>t=>sn(oe.fromDom(e),t),AK=(e,t,o)=>Ii(oe.fromDom(e),s=>EK(s)||o.isBlock(jo(s)),hV(t)).getOr(oe.fromDom(t)).dom,bV=(e,t)=>Ii(oe.fromDom(e),SK,hV(t)),xV=(e,t,o)=>{const s=new rr(e,t),a=o?s.next.bind(s):s.prev.bind(s);let c=e;for(let u=o?e:a();u&&!kK(u);u=a())zo(u)&&(c=u);return c},TK=(e,t,o)=>{const a=Ye.fromRangeStart(e).getNode(),c=AK(a,t,o),u=xV(a,c,!1),f=xV(a,c,!0),b=document.createRange();return bV(u,c).fold(()=>{pV(u)?b.setStart(u,0):b.setStartBefore(u)},_=>b.setStartBefore(_.dom)),bV(f,c).fold(()=>{pV(f)?b.setEnd(f,f.data.length):b.setEndAfter(f)},_=>b.setEndAfter(_.dom)),b},DK=e=>{const t=TK(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(i_(t))},OK=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),DK(e))})};var bC;(function(e){e.Before="before",e.After="after"})(bC||(bC={}));const RK=(e,t)=>Math.abs(e.left-t),NK=(e,t)=>Math.abs(e.right-t),MK=(e,t)=>e>=t.top&&e<=t.bottom,BK=(e,t)=>e.top<t.bottom&&e.bottom>t.top,PK=(e,t)=>{const o=ie(e,t)/Math.min(e.height,t.height);return BK(e,t)&&o>.5},IK=(e,t)=>{const o=xt(e,s=>MK(t,s));return ae(o).fold(()=>[[],e],s=>{const{pass:a,fail:c}=Et(e,u=>PK(u,s));return[a,c]})},LK=(e,t)=>({node:e.node,position:RK(e,t)<NK(e,t)?bC.Before:bC.After}),FK=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),vL=(e,t,o,s)=>{const a=R=>zo(R.node)?B.some(R):qt(R.node)?vL(Ot(R.node.childNodes),t,o,!1):B.none(),c=(R,M,$)=>a(M).filter(te=>Math.abs($(R,t,o)-$(te,t,o))<2&&ht(te.node)),u=(R,M)=>{const $=no(R,(te,G)=>M(te,t,o)-M(G,t,o));return Ei($,a).map(te=>s&&!ht(te.node)&&$.length>1?c(te,$[1],M).getOr(te):te)},[f,b]=IK(TF(e),o),{pass:_,fail:T}=Et(b,R=>R.top<o);return u(f,FK).orThunk(()=>u(T,he)).orThunk(()=>u(_,he))},zK=(e,t,o,s)=>{const a=(c,u)=>{const f=_=>qt(_)&&_.classList.contains("mce-drag-container"),b=xt(c.dom.childNodes,Ee(f));return u.fold(()=>vL(b,o,s,!0),_=>{const T=xt(b,R=>R!==_.dom);return vL(T,o,s,!0)}).orThunk(()=>(sn(c,e)?B.none():Mm(c)).bind(T=>a(T,B.some(c))))};return a(t,B.none())},VK=(e,t,o)=>{const s=oe.fromDom(e),a=fc(s),u=oe.fromPoint(a,t,o).filter(f=>Nr(s,f)).getOr(s);return zK(s,u,t,o)},vV=(e,t,o)=>VK(e,t,o).filter(s=>u0(s.node)).map(s=>LK(s,t)),yV=e=>{const t=e.getBoundingClientRect(),o=e.ownerDocument,s=o.documentElement,a=o.defaultView;return{top:t.top+(a?.scrollY??0)-s.clientTop,left:t.left+(a?.scrollX??0)-s.clientLeft}},HK=e=>e.inline?yV(e.getBody()):{left:0,top:0},$K=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},UK=e=>{const t=e.getBody(),o=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?s:a},ZK=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=yV(e.getContentAreaContainer()),s=UK(e);return{left:t.pageX-o.left+s.left,top:t.pageY-o.top+s.top}}return{left:t.pageX,top:t.pageY}},jK=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),WK=(e,t)=>jK(HK(e),$K(e),ZK(e,t)),wV=e=>({target:e,srcElement:e}),qK=(e,t,o,s)=>({...t,dataTransfer:s,type:e,...wV(o)}),GK=(e,t,o)=>{const s=yt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:To,stopImmediatePropagation:To,stopPropagation:To,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:o,...wV(t)}},KK=(e,t)=>{const o=gj(e);return t==="dragstart"?(D9(o),R9(o)):t==="drop"?(sj(o),KI(o)):(rj(o),cj(o)),o},YK=(e,t,o,s)=>{const a=KK(o,e);return Co(s)?GK(e,t,a):qK(e,s,t,a)},T7=32,XK=100,D7=8,O7=16,_V=Xn,QK=at(_V,pi),JK=(e,t,o)=>_V(o)&&o!==t&&e.isEditable(o.parentElement),eY=(e,t,o)=>to(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),tY=(e,t,o,s)=>{const a=e.dom,c=t.cloneNode(!0);a.setStyles(c,{width:o,height:s}),a.setAttrib(c,"data-mce-selected",null);const u=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(u,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:s}),a.setStyles(c,{margin:0,boxSizing:"border-box"}),u.appendChild(c),u},oY=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},R7=(e,t)=>o=>()=>{const s=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:s+t,behavior:"smooth"})},CV=R7("left",-T7),kV=R7("left",T7),SV=R7("top",-T7),EV=R7("top",T7),nY=(e,t,o,s,a,c,u,f,b,_,T,R)=>{let M=0,$=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>a&&(M=t.pageX+o-a),t.pageY+s>c&&($=t.pageY+s-c),e.style.width=o-M+"px",e.style.height=s-$+"px";const te=b.clientHeight,G=b.clientWidth,ee=u+b.getBoundingClientRect().top,ye=f+b.getBoundingClientRect().left;T.on(Ce=>{Ce.intervalId.clear(),Ce.dragging&&R&&(u+D7>=te?Ce.intervalId.set(EV(_)):u-D7<=0?Ce.intervalId.set(SV(_)):f+D7>=G?Ce.intervalId.set(kV(_)):f-D7<=0?Ce.intervalId.set(CV(_)):ee+O7>=window.innerHeight?Ce.intervalId.set(EV(window)):ee-O7<=0?Ce.intervalId.set(SV(window)):ye+O7>=window.innerWidth?Ce.intervalId.set(kV(window)):ye-O7<=0&&Ce.intervalId.set(CV(window)))})},AV=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},sY=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);AV(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&lu(oe.fromDom(o))},rY=e=>e.button===0,aY=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),iY=(e,t)=>o=>{if(rY(o)){const s=An(t.dom.getParents(o.target),QK).getOr(null);if(Me(s)&&JK(t.dom,t.getBody(),s)){const a=t.dom.getPos(s),c=t.getBody(),u=t.getDoc().documentElement;e.set({element:s,dataTransfer:YI(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?c.scrollWidth:u.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:u.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:s.offsetWidth,height:s.offsetHeight,ghost:tY(t,s,s.offsetWidth,s.offsetHeight),intervalId:Ff(XK)})}}},lY=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),vV(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),s=>{const a=e._selectionOverrides.showCaret(1,s.node,s.position===bC.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,o)})},RE=(e,t,o,s,a)=>{t==="dragstart"&&B9(s,e.dom.getOuterHTML(o));const c=YK(t,o,s,a);return e.dispatch(t,c)},cY=(e,t)=>{const o=ks((a,c)=>lY(t,a,c),0);t.on("remove",o.cancel);const s=e;return a=>e.on(c=>{const u=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&u>10){const f=RE(t,"dragstart",c.element,c.dataTransfer,a);if(Me(f.dataTransfer)&&(c.dataTransfer=f.dataTransfer),f.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const f=a.currentTarget===t.getDoc().documentElement,b=aY(c,WK(t,a));oY(c.ghost,t.getBody()),nY(c.ghost,b,c.width,c.height,c.maxX,c.maxY,a.clientY,a.clientX,t.getContentAreaContainer(),t.getWin(),s,f),o.throttle(a.clientX,a.clientY)}})},dY=e=>{const t=e.getSel();if(Me(t)){const s=t.getRangeAt(0).startContainer;return ht(s)?s.parentNode:s}else return null},uY=(e,t)=>o=>{e.on(s=>{if(s.intervalId.clear(),s.dragging){if(eY(t,dY(t.selection),s.element)){const a=t.getDoc().elementFromPoint(o.clientX,o.clientY)??t.getBody();RE(t,"drop",a,s.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{sY(t.dom,s.element),fj(s.dataTransfer).each(u=>t.insertContent(u)),t._selectionOverrides.hideFakeCaret()})}RE(t,"dragend",t.getBody(),s.dataTransfer,o)}}),DV(e)},TV=(e,t,o)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&o.fold(()=>RE(t,"dragend",s.element,s.dataTransfer),a=>RE(t,"dragend",s.element,s.dataTransfer,a))}),DV(e)},mY=(e,t)=>o=>TV(e,t,B.some(o)),DV=e=>{e.on(t=>{t.intervalId.clear(),AV(t.ghost)}),e.clear()},gY=e=>{const t=Il(),o=Bn.DOM,s=document,a=iY(t,e),c=cY(t,e),u=uY(t,e),f=mY(t,e);e.on("mousedown",a),e.on("mousemove",c),e.on("mouseup",u),o.bind(s,"mousemove",c),o.bind(s,"mouseup",f),e.on("remove",()=>{o.unbind(s,"mousemove",c),o.unbind(s,"mouseup",f)}),e.on("keydown",b=>{b.keyCode===Pt.ESC&&TV(t,e,B.none())})},fY=e=>{const t=a=>{if(!a.isDefaultPrevented()){const c=a.dataTransfer;c&&(Wo(c.types,"Files")||c.files.length>0)&&(a.preventDefault(),a.type==="drop"&&F_(e,"Dropped file type is not supported"))}},o=a=>{g1(e,a.target)&&t(a)},s=()=>{const a=Bn.DOM,c=e.dom,u=document,f=e.inline?e.getBody():e.getDoc(),b=["drop","dragover"];Ge(b,_=>{a.bind(u,_,o),c.bind(f,_,t)}),e.on("remove",()=>{Ge(b,_=>{a.unbind(u,_,o),c.unbind(f,_,t)})})};e.on("init",()=>{Ad.setEditorTimeout(e,s,0)})},pY=e=>{gY(e),IR(e)&&fY(e)},hY=e=>{const t=ks(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const s=O2(e,o,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},bY=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(hi(o)){const s=kp(e.getBody(),o),a=Xn(s)?s:o;e.selection.getNode()!==a&&_g(e,a).each(c=>e.selection.setRng(c))}})})},NE=Xn,OV=(e,t)=>kp(e.getBody(),t),xY=e=>{const t=e.selection,o=e.dom,s=e.getBody(),a=YA(e,s,o.isBlock,()=>f1(e)),c="sel-"+o.uniqueId(),u="data-mce-selected";let f;const b=Ke=>Me(Ke)&&o.hasClass(Ke,"mce-offscreen-selection"),_=Ke=>Ke!==s&&(NE(Ke)||hi(Ke))&&o.isChildOf(Ke,s)&&o.isEditable(Ke.parentNode),T=Ke=>{Ke&&t.setRng(Ke)},R=(Ke,Ze,Qe,Nt=!0)=>e.dispatch("ShowCaret",{target:Ze,direction:Ke,before:Qe}).isDefaultPrevented()?null:(Nt&&t.scrollIntoView(Ze,Ke===-1),a.show(Qe,Ze)),M=Ke=>{Ke.hasAttribute("data-mce-caret")&&(rv(Ke),t.scrollIntoView(Ke))},$=()=>{e.on("click",Ze=>{o.isEditable(Ze.target)||(Ze.preventDefault(),e.focus())}),e.on("blur NewBlock",it),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",Ze=>{const Qe=Ze.target,Nt=OV(e,Qe);NE(Nt)?(Ze.preventDefault(),_g(e,Nt).each(Xe)):_(Qe)&&_g(e,Qe).each(Xe)},!0),e.on("mousedown",Ze=>{const Qe=Ze.target;if(Qe!==s&&Qe.nodeName!=="HTML"&&!o.isChildOf(Qe,s)||!kO(e,Ze.clientX,Ze.clientY))return;it(),Xt();const Nt=OV(e,Qe);NE(Nt)?(Ze.preventDefault(),_g(e,Nt).each(Xe)):vV(s,Ze.clientX,Ze.clientY).each(po=>{Ze.preventDefault();const Eo=R(1,po.node,po.position===bC.Before,!1);T(Eo),$o(Nt)?Nt.focus():e.getBody().focus()})}),e.on("keypress",Ze=>{Pt.modifierPressed(Ze)||NE(t.getNode())&&Ze.preventDefault()}),e.on("GetSelectionRange",Ze=>{let Qe=Ze.range;if(f){if(!f.parentNode){f=null;return}Qe=Qe.cloneRange(),Qe.selectNode(f),Ze.range=Qe}}),e.on("focusin",Ze=>{if(!hi(Ze.target)&&e.getBody().contains(Ze.target)&&Ze.target!==e.getBody()&&!e.dom.isEditable(Ze.target.parentNode)){a.isShowing()&&a.hide(),Ze.target.contains(e.selection.getNode())||(e.selection.select(Ze.target,!0),e.selection.collapse(!0));const Qe=Xe(e.selection.getRng(),!0);Qe&&e.selection.setRng(Qe)}}),e.on("SetSelectionRange",Ze=>{Ze.range=ee(Ze.range);const Qe=Xe(Ze.range,Ze.forward);Qe&&(Ze.range=Qe)});const Ke=Ze=>qt(Ze)&&Ze.id==="mcepastebin";e.on("AfterSetSelectionRange",Ze=>{const Qe=Ze.range,Nt=Qe.startContainer.parentElement;!G(Qe)&&!Ke(Nt)&&Xt(),b(Nt)||it()}),pY(e),hY(e),bY(e)},te=Ke=>wl(Ke)||lf(Ke)||jh(Ke),G=Ke=>te(Ke.startContainer)||te(Ke.endContainer),ee=Ke=>{const Ze=e.schema.getVoidElements(),Qe=o.createRng(),Nt=Ke.startContainer,po=Ke.startOffset,Eo=Ke.endContainer,bn=Ke.endOffset;return ko(Ze,Nt.nodeName.toLowerCase())?po===0?Qe.setStartBefore(Nt):Qe.setStartAfter(Nt):Qe.setStart(Nt,po),ko(Ze,Eo.nodeName.toLowerCase())?bn===0?Qe.setEndBefore(Eo):Qe.setEndAfter(Eo):Qe.setEnd(Eo,bn),Qe},ye=(Ke,Ze)=>{const Qe=oe.fromDom(e.getBody()),Nt=e.getDoc(),po=Zs(Qe,"#"+c).getOrThunk(()=>{const qn=oe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Nt);return Wr(qn,"id",c),dn(Qe,qn),qn}),Eo=o.createRng();Uu(po),Qs(po,[oe.fromText(Us,Nt),oe.fromDom(Ze),oe.fromText(Us,Nt)]),Eo.setStart(po.dom.firstChild,1),Eo.setEnd(po.dom.lastChild,0),Gf(po,{top:o.getPos(Ke,e.getBody()).y+"px"}),zg(po);const bn=t.getSel();return bn&&(bn.removeAllRanges(),bn.addRange(Eo)),Eo},Ce=Ke=>{const Ze=e.getDoc().createElement("div");Ze.style.width=Ke.style.width,Ze.style.height=Ke.style.height;const Qe=Ke.getAttribute("width");Qe&&Ze.setAttribute("width",Qe);const Nt=Ke.getAttribute("height");return Nt&&Ze.setAttribute("height",Nt),Ze},Te=Ke=>{const Ze=Tb(Ke)?Ce(Ke):Ke.cloneNode(!0),Qe=e.dispatch("ObjectSelected",{target:Ke,targetClone:Ze});if(Qe.isDefaultPrevented())return null;const Nt=ye(Ke,Qe.targetClone),po=oe.fromDom(Ke);return Ge(qr(oe.fromDom(e.getBody()),`*[${u}]`),Eo=>{sn(po,Eo)||Mr(Eo,u)}),o.getAttrib(Ke,u)||Ke.setAttribute(u,"1"),f=Ke,Xt(),Nt},Xe=(Ke,Ze)=>{if(!Ke)return null;if(Ke.collapsed){if(!G(Ke)){const Eo=Ze?1:-1,bn=f0(Eo,s,Ke),qn=bn.getNode(!Ze);if(Me(qn)){if(u0(qn))return R(Eo,qn,Ze?!bn.isAtEnd():!1,!1);if(nm(qn)&&Xn(qn.nextSibling)){const Ps=o.createRng();return Ps.setStart(qn,0),Ps.setEnd(qn,0),Ps}}const xs=bn.getNode(Ze);if(Me(xs)){if(u0(xs))return R(Eo,xs,Ze?!1:!bn.isAtEnd(),!1);if(nm(xs)&&Xn(xs.previousSibling)){const Ps=o.createRng();return Ps.setStart(xs,1),Ps.setEnd(xs,1),Ps}}}return null}let Qe=Ke.startContainer,Nt=Ke.startOffset;const po=Ke.endOffset;if(ht(Qe)&&Nt===0&&NE(Qe.parentNode)&&(Qe=Qe.parentNode,Nt=o.nodeIndex(Qe),Qe=Qe.parentNode),!qt(Qe))return null;if(po===Nt+1&&Qe===Ke.endContainer){const Eo=Qe.childNodes[Nt];if(_(Eo))return Te(Eo)}return null},it=()=>{f&&f.removeAttribute(u),Zs(oe.fromDom(e.getBody()),"#"+c).each(cs),f=null},It=()=>{a.destroy(),f=null},Xt=()=>{a.hide()};return ku(e)||$(),{showCaret:R,showBlockCaretContainer:M,hideFakeCaret:Xt,destroy:It}},vY=(e,t)=>{let o=t;for(let s=e.previousSibling;ht(s);s=s.previousSibling)o+=s.data.length;return o},RV=(e,t,o,s,a)=>{if(ht(o)&&(s<0||s>o.data.length))return[];const c=a&&ht(o)?[vY(o,s)]:[s];let u=o;for(;u!==t&&u.parentNode;)c.push(e.nodeIndex(u,a)),u=u.parentNode;return u===t?c.reverse():[]},yL=(e,t,o,s,a,c,u=!1)=>{const f=RV(e,t,o,s,u),b=RV(e,t,a,c,u);return{start:f,end:b}},NV=(e,t)=>{const o=t.slice(),s=o.pop();return E(s)?Zo(o,(c,u)=>c.bind(f=>B.from(f.childNodes[u])),B.some(e)).bind(c=>ht(c)&&(s<0||s>c.data.length)?B.none():B.some({node:c,offset:s})):B.none()},MV=(e,t)=>NV(e,t.start).bind(({node:o,offset:s})=>NV(e,t.end).map(({node:a,offset:c})=>{const u=document.createRange();return u.setStart(o,s),u.setEnd(a,c),u})),yY=(e,t,o,s=!1)=>yL(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,s),xC=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const s=t.parentNode;e.remove(t,ht(t.firstChild)&&qm(t.firstChild.data)),xC(e,s,o)}},N7=(e,t,o,s=!0)=>{const a=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),s&&!o(t.startContainer)&&(ht(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),ht(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),xC(e,a,o),a!==c&&xC(e,c,o))},M7=(e,t)=>B.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),wL=(e,t,o)=>{const s=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:By(s).concat(e.blockPatterns),inlinePatterns:ni(s).concat(e.inlinePatterns)}},_L=(e,t,o,s)=>{const a=e.createRng();return a.setStart(t,0),a.setEnd(o,s),a.toString()},BV=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),B7=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},PV=(e,t,o)=>{const s=MV(e.getRoot(),o).getOrDie("Unable to resolve path range"),a=s.startContainer,c=s.endContainer,u=s.endOffset===0?c:c.splitText(s.endOffset),f=s.startOffset===0?a:a.splitText(s.startOffset),b=f.parentNode,_=u.parentNode;return{prefix:t,end:_.insertBefore(BV(e,t+"-end"),u),start:b.insertBefore(BV(e,t+"-start"),f)}},IV=(e,t,o)=>{xC(e,e.get(t.prefix+"-end"),o),xC(e,e.get(t.prefix+"-start"),o)},CL=e=>e.start.length===0,wY=e=>(t,o)=>{const a=t.data.substring(0,o),c=a.lastIndexOf(e.charAt(e.length-1)),u=a.lastIndexOf(e);return u!==-1?u+e.length:c!==-1?c+1:-1},LV=(e,t,o,s)=>{const a=t.start;return eL(e,s.container,s.offset,wY(a),o).bind(u=>{const f=o.textContent?.indexOf(a)??-1;if(f!==-1&&u.offset>=f+a.length){const _=e.createRng();return _.setStart(u.container,u.offset-a.length),_.setEnd(u.container,u.offset),B.some(_)}else{const _=u.offset-a.length;return JI(u.container,_,o).map(T=>{const R=e.createRng();return R.setStart(T.container,T.offset),R.setEnd(u.container,u.offset),R}).filter(T=>T.toString()===a).orThunk(()=>LV(e,t,o,Mf(u.container,0)))}})},_Y=(e,t,o,s,a,c=!1)=>{if(t.start.length===0&&!c){const u=e.createRng();return u.setStart(o,s),u.setEnd(o,s),B.some(u)}return QI(o,s,a).bind(u=>LV(e,t,a,u).bind(b=>{if(c){if(b.endContainer===u.container&&b.endOffset===u.offset)return B.none();if(u.offset===0&&b.endContainer.textContent?.length===b.endOffset)return B.none()}return B.some(b)}))},CY=(e,t,o,s)=>{const a=e.dom,c=a.getRoot(),u=o.pattern,f=o.position.container,b=o.position.offset;return JI(f,b-o.pattern.end.length,t).bind(_=>{const T=yL(a,c,_.container,_.offset,f,b,s);if(CL(u))return B.some({matches:[{pattern:u,startRng:T,endRng:T}],position:_});{const R=P7(e,o.remainingPatterns,_.container,_.offset,t,s),M=R.getOr({matches:[],position:_}),$=M.position;return _Y(a,u,$.container,$.offset,t,R.isNone()).map(G=>{const ee=yY(a,c,G,s);return{matches:M.matches.concat([{pattern:u,startRng:ee,endRng:T}]),position:Mf(G.startContainer,G.startOffset)}})}})},P7=(e,t,o,s,a,c)=>{const u=e.dom;return QI(o,s,u.getRoot()).bind(f=>{const b=_L(u,a,o,s);for(let _=0;_<t.length;_++){const T=t[_];if(!Og(b,T.end))continue;const R=t.slice();R.splice(_,1);const M=CY(e,a,{pattern:T,remainingPatterns:R,position:f},c);if(M.isNone()&&s>0)return P7(e,t,o,s-1,a,c);if(M.isSome())return M}return B.none()})},FV=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?Ge(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},kY=(e,t,o,s)=>{const a=B7(e.dom,o);N7(e.dom,a,s),FV(e,t,a)},SY=(e,t,o,s,a)=>{const c=e.dom,u=B7(c,s),f=B7(c,o);N7(c,f,a),N7(c,u,a);const b={prefix:o.prefix,start:o.end,end:s.start},_=B7(c,b);FV(e,t,_)},EY=(e,t)=>{const o=Ys("mce_textpattern"),s=gn(t,(a,c)=>{const u=PV(e,o+`_end${a.length}`,c.endRng);return a.concat([{...c,endMarker:u}])},[]);return gn(s,(a,c)=>{const u=s.length-a.length-1,f=CL(c.pattern)?c.endMarker:PV(e,o+`_start${u}`,c.startRng);return a.concat([{...c,startMarker:f}])},[])},AY=e=>no(e,(t,o)=>o.end.length-t.end.length),TY=(e,t)=>{const o=La(e,s=>In(t,a=>s.pattern.start===a.pattern.start&&s.pattern.end===a.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},zV=(e,t,o,s,a,c)=>{const u=P7(e,a.inlinePatterns,o,s,t,c).fold(()=>[],b=>b.matches),f=P7(e,AY(a.inlinePatterns),o,s,t,c).fold(()=>[],b=>b.matches);return TY(u,f)},VV=(e,t)=>{if(t.length===0)return;const o=e.dom,s=e.selection.getBookmark(),a=EY(o,t);Ge(a,c=>{const u=o.getParent(c.startMarker.start,o.isBlock),f=b=>b===u;CL(c.pattern)?kY(e,c.pattern,c.endMarker,f):SY(e,c.pattern,c.startMarker,c.endMarker,f),IV(o,c.endMarker,f),IV(o,c.startMarker,f)}),e.selection.moveToBookmark(s)},HV=(e,t,o)=>jj(t,0,t).map(s=>{const a=s.container;return Z9(a,o.start.length,t).each(c=>{const u=e.createRng();u.setStart(a,0),u.setEnd(c.container,c.offset),N7(e,u,f=>f===t)}),a}),$V=e=>(t,o)=>{const s=t.dom,a=o.pattern,c=MV(s.getRoot(),o.range).getOrDie("Unable to resolve path range"),u=(f,b)=>{const _=b.get(f);return ne(_)&&Kn(_).exists(T=>ko(T,"block"))};return M7(t,c).each(f=>{a.type==="block-format"?u(a.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,f,a),t.formatter.apply(a.format)}):a.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,f,a),t.execCommand(a.cmd,!1,a.value)})}),!0},DY=e=>no(e,(t,o)=>o.start.length-t.start.length),UV=e=>(t,o)=>{const s=DY(t),a=o.replace(Us," ");return An(s,c=>e(c,o,a))},ZV=(e,t)=>(o,s,a,c,u=s.textContent??"")=>{const f=o.dom,b=si(o);return f.is(s,b)?e(a.blockPatterns,u).map(_=>t&&ct.trim(u).length===_.start.length?[]:[{pattern:_,range:yL(f,f.getRoot(),s,0,s,0,c)}]).getOr([]):[]},OY=e=>/^\s[^\s]/.test(e),RY=$V((e,t,o)=>{HV(e,t,o).each(s=>{const a=oe.fromDom(s),c=cd(a);OY(c)&&Pi(a,c.slice(1))})}),NY=UV((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),MY=ZV(NY,!0),BY=(e,t)=>{const o=e.selection.getRng();return M7(e,o).map(s=>{const a=Math.max(0,o.startOffset),c=wL(t,s,s.textContent??""),u=zV(e,s,o.startContainer,a,c,!0),f=MY(e,s,c,!0);return{inlineMatches:u,blockMatches:f}}).filter(({inlineMatches:s,blockMatches:a})=>a.length>0||s.length>0)},PY=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();Ge(t,s=>RY(e,s)),e.selection.moveToBookmark(o)},IY=$V(HV),LY=UV((e,t,o)=>t===e.start||o===e.start),FY=ZV(LY,!1),zY=(e,t)=>{const o=e.selection.getRng();return M7(e,o).map(s=>{const a=Math.max(0,o.startOffset),c=_L(e.dom,s,o.startContainer,a),u=wL(t,s,c);return FY(e,s,u,!1,c)}).filter(s=>s.length>0)},VY=(e,t)=>{Ge(t,o=>IY(e,o))},HY=(e,t)=>BY(e,t).fold(Do,({inlineMatches:o,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{Cy(e),VV(e,o),PY(e,s);const a=e.selection.getRng(),c=QI(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(u=>{const f=u.container;f.data.charAt(u.offset-1)===Xc&&(f.deleteData(u.offset-1,1),xC(e.dom,f.parentNode,b=>b===e.dom.getRoot()))})}),!0)),$Y=(e,t)=>{const o=e.selection.getRng();M7(e,o).map(s=>{const a=Math.max(0,o.startOffset-1),c=_L(e.dom,s,o.startContainer,a),u=wL(t,s,c),f=zV(e,s,o.startContainer,a,u,!1);f.length>0&&e.undoManager.transact(()=>{VV(e,f)})})},UY=(e,t)=>zY(e,t).fold(Do,o=>(e.undoManager.transact(()=>{VY(e,o)}),!0)),jV=(e,t,o)=>{for(let s=0;s<e.length;s++)if(o(e[s],t))return!0;return!1},ZY=(e,t)=>jV(e,t,(o,s)=>o===s.keyCode&&!Pt.modifierPressed(s)),jY=(e,t)=>jV(e,t,(o,s)=>o.charCodeAt(0)===s.charCode),WY=e=>{const t=[",",".",";",":","!","?"],o=[32],s=()=>Oc(qR(e).filter(u=>u.type==="inline-command"||u.type==="block-command"?e.queryCommandSupported(u.cmd):!0),Vt(e)),a=()=>LA(e);e.on("keydown",u=>{if(u.keyCode===13&&!Pt.modifierPressed(u)&&e.selection.isCollapsed()&&e.selection.isEditable()){const f=Py(s(),"enter");(f.inlinePatterns.length>0||f.blockPatterns.length>0||a())&&HY(e,f)&&u.preventDefault()}},!0),e.on("keydown",u=>{if(u.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const f=Py(s(),"space");(f.blockPatterns.length>0||a())&&UY(e,f)&&u.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const u=Py(s(),"space");(u.inlinePatterns.length>0||a())&&$Y(e,u)}};e.on("keyup",u=>{ZY(o,u)&&c()}),e.on("keypress",u=>{jY(t,u)&&Ad.setEditorTimeout(e,c)})},qY=e=>{WY(e)},GY=e=>{const t=ct.each,o=Pt.BACKSPACE,s=Pt.DELETE,a=e.dom,c=e.selection,u=e.parser,f=Bo.browser,b=f.isFirefox(),_=f.isChromium()||f.isSafari(),T=Bo.deviceType.isiPhone()||Bo.deviceType.isiPad(),R=Bo.os.isMacOS()||Bo.os.isiOS(),M=(kt,Lt)=>{try{e.getDoc().execCommand(kt,!1,String(Lt))}catch{}},$=kt=>kt.isDefaultPrevented(),te=()=>{const kt=co=>{const Mo=a.create("body"),ts=co.cloneContents();return Mo.appendChild(ts),c.serializer.serialize(Mo,{format:"html"})},Lt=co=>{const Mo=kt(co),ts=a.createRng();ts.selectNode(e.getBody());const vs=kt(ts);return Mo===vs};e.on("keydown",co=>{const Mo=co.keyCode;if(!$(co)&&(Mo===s||Mo===o)&&e.selection.isEditable()){const ts=e.selection.isCollapsed(),vs=e.getBody();if(ts&&!fd(e.schema,vs)||!ts&&!Lt(e.selection.getRng()))return;co.preventDefault(),e.setContent(""),vs.firstChild&&a.isBlock(vs.firstChild)?e.selection.setCursorLocation(vs.firstChild,0):e.selection.setCursorLocation(vs,0),e.nodeChanged()}})},G=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ee=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",kt=>{let Lt;if(kt.target===e.getDoc().documentElement)if(Lt=c.getRng(),e.getDoc().getSelection()?.anchorNode!==null&&e.getBody().focus(),kt.type==="mousedown"){if(wl(Lt.startContainer))return;c.placeCaretAt(kt.clientX,kt.clientY)}else c.setRng(Lt)})},ye=()=>{e.on("keydown",kt=>{if(!$(kt)&&kt.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const Lt=c.getNode(),co=Lt.previousSibling;if(Lt.nodeName==="HR"){a.remove(Lt),kt.preventDefault();return}co&&co.nodeName&&co.nodeName.toLowerCase()==="hr"&&(a.remove(co),kt.preventDefault())}}})},Ce=()=>{Range.prototype.getClientRects||e.on("mousedown",kt=>{if(!$(kt)&&kt.target.nodeName==="HTML"){const Lt=e.getBody();Lt.blur(),Ad.setEditorTimeout(e,()=>{Lt.focus()})}})},Te=()=>{const kt=AA(e);e.on("click",Lt=>{const co=Lt.target;/^(IMG|HR)$/.test(co.nodeName)&&a.isEditable(co)&&(Lt.preventDefault(),e.selection.select(co),e.nodeChanged()),co.nodeName==="A"&&a.hasClass(co,kt)&&co.childNodes.length===0&&a.isEditable(co.parentNode)&&(Lt.preventDefault(),c.select(co))})},Xe=()=>{const kt=Lt=>Lt.nodeName==="IMG"&&e.dom.isEditable(Lt);e.on("mousedown",Lt=>{Rs(B.from(Lt.clientX),B.from(Lt.clientY),(co,Mo)=>{const ts=e.getDoc().caretPositionFromPoint(co,Mo),vs=ts?.offsetNode?.childNodes[ts.offset-(ts.offset>0?1:0)]||ts?.offsetNode;if(Me(vs)&&kt(vs)){const Pd=vs.getBoundingClientRect();Lt.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(vs),Lt.clientX<Pd.left||Lt.clientY<Pd.top?e.selection.collapse(!0):(Lt.clientX>Pd.right||Lt.clientY>Pd.bottom)&&e.selection.collapse(!1)}})})},it=()=>{const kt=()=>{const co=a.getAttribs(c.getStart().cloneNode(!1));return()=>{const Mo=c.getStart();Mo!==e.getBody()&&(a.setAttrib(Mo,"style",null),t(co,ts=>{Mo.setAttributeNode(ts.cloneNode(!0))}))}},Lt=()=>!c.isCollapsed()&&a.getParent(c.getStart(),a.isBlock)!==a.getParent(c.getEnd(),a.isBlock);e.on("keypress",co=>{let Mo;return!$(co)&&(co.keyCode===8||co.keyCode===46)&&Lt()?(Mo=kt(),e.getDoc().execCommand("delete",!1),Mo(),co.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",co=>{if(!$(co)&&Lt()){const Mo=kt();Ad.setEditorTimeout(e,()=>{Mo()})}})},It=()=>{e.on("keydown",kt=>{if(!$(kt)&&kt.keyCode===o&&c.isCollapsed()&&c.getRng().startOffset===0){const Lt=c.getNode().previousSibling;if(Lt&&Lt.nodeName&&Lt.nodeName.toLowerCase()==="table")return kt.preventDefault(),!1}return!0})},Xt=()=>{e.on("keydown",kt=>{if($(kt)||kt.keyCode!==Pt.BACKSPACE)return;let Lt=c.getRng();const co=Lt.startContainer,Mo=Lt.startOffset,ts=a.getRoot();let vs=co;if(!(!Lt.collapsed||Mo!==0)){for(;vs.parentNode&&vs.parentNode.firstChild===vs&&vs.parentNode!==ts;)vs=vs.parentNode;vs.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,vs),Lt=a.createRng(),Lt.setStart(co,0),Lt.setEnd(co,0),c.setRng(Lt))}})},Ke=()=>{const kt=ea("figcaption");e.on("keydown",Lt=>{if(Lt.keyCode===Pt.LEFT||Lt.keyCode===Pt.RIGHT){const co=oe.fromDom(e.selection.getNode());kt(co)&&e.selection.isCollapsed()&&ji(co).bind(Mo=>e.selection.getRng().startOffset===0&&Lt.keyCode===Pt.LEFT?zl(Mo):e.selection.getRng().endOffset===co.dom.textContent?.length&&Lt.keyCode===Pt.RIGHT?rd(Mo):B.none()).each(Mo=>{e.selection.setCursorLocation(Mo.dom,0)})}})},Ze=()=>{const kt=()=>{M("StyleWithCSS",!1),M("enableInlineTableEditing",!1),uk(e)||M("enableObjectResizing",!1)};bk(e)||e.on("BeforeExecCommand mousedown",kt)},Qe=()=>{const kt=()=>{t(a.select("a:not([data-mce-block])"),Lt=>{let co=Lt.parentNode;const Mo=a.getRoot();if(co?.lastChild===Lt){for(;co&&!a.isBlock(co);){if(co.parentNode?.lastChild!==co||co===Mo)return;co=co.parentNode}a.add(co,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Lt=>{(Lt.type==="setcontent"||Lt.command==="mceInsertLink")&&kt()})},Nt=()=>{e.on("init",()=>{M("DefaultParagraphSeparator",si(e))})},po=kt=>{const Lt=kt.getBody(),co=kt.selection.getRng();return co.startContainer===co.endContainer&&co.startContainer===Lt&&co.startOffset===0&&co.endOffset===Lt.childNodes.length},Eo=()=>{e.on("keyup focusin mouseup",kt=>{!Pt.modifierPressed(kt)&&!po(e)&&c.normalize()},!0)},bn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},qn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},xs=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",kt=>{let Lt;kt.target.nodeName==="HTML"&&(Lt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Lt),e.selection.normalize(),e.nodeChanged())}))},Ps=()=>{R&&e.on("keydown",kt=>{Pt.metaKeyPressed(kt)&&!kt.shiftKey&&(kt.keyCode===37||kt.keyCode===39)&&(kt.preventDefault(),e.selection.getSel().modify("move",kt.keyCode===37?"backward":"forward","lineboundary"))})},da=()=>{e.on("click",kt=>{let Lt=kt.target;do if(Lt.tagName==="A"){kt.preventDefault();return}while(Lt=Lt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Bd=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",kt=>{kt.preventDefault()})})},zt=()=>{u.addNodeFilter("br",kt=>{let Lt=kt.length;for(;Lt--;)kt[Lt].attr("class")==="Apple-interchange-newline"&&kt[Lt].remove()})},so=To,Zn=()=>{if(!b||e.removed)return!1;const kt=e.selection.getSel();return!kt||!kt.rangeCount||kt.rangeCount===0},Fn=()=>{_&&(ee(),Te(),Bd(),G(),T&&(qn(),xs(),da())),b&&(Ce(),Ze(),bn(),Ps())},eo=()=>{Xt(),te(),Bo.windowsPhone||Eo(),_&&(ee(),Te(),Nt(),Bd(),It(),zt(),T?(qn(),xs(),da()):G()),b&&(Ke(),Xe(),ye(),Ce(),it(),Ze(),Qe(),bn(),Ps(),It())};return ku(e)?Fn():eo(),{refreshContentEditable:so,isHidden:Zn}};class WV extends Error{url;constructor(t,o){super(t),this.url=o}}const kL={},KY=(e,t,o)=>new Promise((s,a)=>{const c=oe.fromTag("script");Ri(c,{type:"text/javascript",src:e,...o});const u=()=>{cs(c)};oh(c,"load",()=>{u(),s()}),oh(c,"error",()=>{u(),a(new Error(`Failed to load script url: ${e}`))}),dn(jr(t),c)}),qV=async(e,t)=>{const o=oi.ScriptLoader.getScriptAttributes(e);return await KY(e,t,o).catch(()=>Promise.reject(new WV(`Failed to load component url: ${e}`,e))),e},YY=e=>ga(e,(t,o)=>Cn(kL,t).getOrThunk(()=>{if(to(window.customElements.get(o))){const s=qV(t,Ha());return kL[t]=s,s}else return Promise.resolve(t)}).catch(s=>(delete kL[t],Promise.reject(s)))),XY=(e,t)=>{const o=Nl(_s(e));return Io(o,s=>qV(s,oe.fromDom(t)))},QY=e=>{const t=e.schema.getComponentUrls();return e.inline?YY(t):XY(t,e.getDoc())},JY=async e=>{const t=QY(e),o=xt(await Promise.allSettled(t),s=>s.status==="rejected");o.length>0&&Ge(o,s=>{if(s.reason instanceof WV){const{url:a}=s.reason;YP(e,a)}})},eX=e=>{JY(e)},SL=Bn.DOM,tX=(e,t)=>{const o=oe.fromDom(e.getBody()),s=oa(Xd(o)),a=oe.fromTag("style");Wr(a,"type","text/css"),dn(a,oe.fromText(t)),dn(s,a),e.on("remove",()=>{cs(a)})},oX=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,EL=e=>Dr(e,t=>Co(t)===!1),GV=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return EL({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_html_in_comments:t("allow_html_in_comments"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:oX(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:Ck(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},KV=e=>{const t=e.options.get;return EL({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},nX=e=>{const t=e.options.get;return{...GV(e),...KV(e),...EL({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},sX=e=>{const t=wa(GV(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,s)=>{const a=e.dom,c="data-mce-"+s;let u=o.length;for(;u--;){const f=o[u];let b=f.attr(s);if(b&&!f.attr(c)){if(b.indexOf("data:")===0||b.indexOf("blob:")===0)continue;s==="style"?(b=a.serializeStyle(a.parseStyle(b),f.name),b.length||(b=null),f.attr(c,b),f.attr(s,b)):s==="tabindex"?(f.attr(c,b),f.attr(s,null)):f.attr(c,e.convertURL(b,s,f.name))}}}),t.addNodeFilter("script",o=>{let s=o.length;for(;s--;){const a=o[s],c=a.attr("type")||"no/type";c.indexOf("mce-")!==0&&a.attr("type","mce-"+c)}}),PA(e)&&t.addNodeFilter("#cdata",o=>{let s=o.length;for(;s--;){const a=o[s];a.type=8,a.name="#comment",a.value="[CDATA["+e.dom.encode(a.value??"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let s=o.length;const a=e.schema.getNonEmptyElements();for(;s--;){const c=o[s];c.isEmpty(a)&&c.getAll("br").length===0&&c.append(new yi("br",1))}}),t},rX=e=>{const t=yk(e);t&&Ad.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},aX=e=>{const t=e.dom.getRoot();!e.inline&&(!sw(e)||e.selection.getStart(!0)===t)&&$i(t).each(o=>{const s=o.getNode(),a=kc(s)?$i(s).getOr(o):o;e.selection.setRng(a.toRange())})},iX=e=>{e.bindPendingEventDelegates(),e.initialized=!0,rA(e),e.focus(!0),aX(e),e.nodeChanged({initial:!0});const t=DA(e);Ut(t)&&t.call(e,e),rX(e),Ef(e)&&W_(e,!0)},AL=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,lX=(e,t,o)=>{const{pass:s,fail:a}=Et(t,f=>tinymce.Resource.has(jS(f))),u=[...s.map(f=>{const b=tinymce.Resource.get(jS(f));return tt(b)?Promise.resolve(AL(e).loadRawCss(f,b)):Promise.resolve()}),AL(e).loadAll(a)];return e.inline?u:u.concat([e.ui.styleSheetLoader.loadAll(o)])},YV=e=>{const t=AL(e),o=qa(e),s=e.contentCSS,a=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(o)},c=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let b="";ct.each(e.contentStyles,_=>{b+=_+`\r
`}),e.dom.addStyle(b)}const u=Promise.all(lX(e,s,o)).then(c).catch(c),f=dk(e);return f&&tX(e,f),u},cX=e=>{const t=e.getDoc(),o=e.getBody();Sr(e),FR(e)||(t.body.spellcheck=!1,SL.setAttrib(o,"spellcheck","false")),e.quirks=GY(e),yR(e);const s=a0(e);s!==void 0&&(o.dir=s);const a=zR(e);a&&e.on("BeforeSetContent",c=>{ct.each(a,u=>{c.content=c.content.replace(u,f=>"<!--mce:protected "+escape(f)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},dX=e=>{ku(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},TL=e=>{e.removed!==!0&&(dX(e),iX(e))},uX=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},XV=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(SL.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=bk(e),e._editableRoot=SA(e),!Gy(e)&&e.hasEditableRoot()&&(e.inline&&SL.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=XO(e),e.schema=su(KV(e)),e.dom=Bn(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Xh(e),referrerPolicy:Hy(e),crossOrigin:lk(e),onSetAttrib:u=>{e.dispatch("SetAttrib",u)}}),e.parser=sX(e),e.serializer=ES(nX(e),e),e.selection=y2(e.dom,e.getWin(),e.serializer,e),e.annotator=R5(e),e.formatter=YS(e),e.undoManager=n8(e),e._nodeChangeDispatcher=new xG(e),e._selectionOverrides=xY(e),bG(e),uZ(e),CK(e),yZ(e),ku(e)||(OK(e),qY(e));const a=cG(e);lZ(e,a),hZ(e),i8(e),yK(e,a);const c=v2(e);cX(e),eX(e),c.fold(()=>{const u=uX(e);YV(e).then(()=>{TL(e),u()})},u=>{e.setProgressState(!0),YV(e).then(()=>{u().then(f=>{e.setProgressState(!1),TL(e),kS(e)},f=>{e.notificationManager.open({type:"error",text:String(f)}),TL(e),kS(e)})})})},DL=Bn.DOM,mX=(e,t,o,s)=>{const a=oe.fromTag("iframe");return s.each(c=>Wr(a,"tabindex",c)),Ri(a,o),Ri(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",...Bo.browser.isFirefox()?{title:t}:{}}),Ul(a,"tox-edit-area__iframe"),a},gX=e=>{let t=pA(e)+"<html><head>";sk(e)!==e.editorManager.documentBaseURL&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Ly(e),s=hA(e),a=e.translate(vk(e)),c=Bo.browser.isFirefox()?"":`aria-label="${a}"`;return rk(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+rk(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${s}" data-id="${e.id}" ${c}><br></body></html>`,t},fX=(e,t)=>{const o=vk(e),s=e.translate(o),a=bc(oe.fromDom(e.getElement()),"tabindex").bind(Lu),c=mX(e.id,s,nk(e),a).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=gX(e),DL.add(t.iframeContainer,c)},pX=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,XV(e)};if(KR(e)||Bo.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),o()}else{const s=oh(oe.fromDom(t),"load",()=>{s.unbind(),o()});t.srcdoc=e.iframeHTML}},hX=(e,t)=>{fX(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=DL.isHidden(t.editorContainer)),e.getElement().style.display="none",DL.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,pX(e)},QV=Bn.DOM,bX=(e,t,o)=>{const s=H1.get(o),a=H1.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=ct.trim(o),s&&ct.inArray(t,o)===-1){if(e.plugins[o])return;try{const c=s(e,a)||{};e.plugins[o]=c,Ut(c.init)&&(c.init(e,a),t.push(o))}catch(c){XP(e,o,c)}}},xX=e=>{const t=o=>{o.keyCode===Pt.ESC&&!o.defaultPrevented&&mA(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",t),e.inline||e.on("keyup",t),e.on("remove",()=>{document.removeEventListener("keyup",t),e.inline||e.off("keyup",t)})},vX=e=>e.replace(/^\-/,""),yX=e=>{const t=[];Ge(dv(e),o=>{bX(e,t,vX(o))})},wX=e=>{const t=ct.trim(Yh(e)),o=e.ui.registry.getAll().icons,s={...I_.get("default").icons,...I_.get(t).icons};on(s,(a,c)=>{ko(o,c)||e.ui.registry.addIcon(c,a)})},_X=e=>{const t=vi(e);if(tt(t)){const o=$1.get(t);e.theme=o(e,$1.urls[t])||{},Ut(e.theme.init)&&e.theme.init(e,$1.urls[t]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},CX=e=>{const t=_d(e),o=G0.get(t);e.model=o(e,G0.urls[t])},kX=e=>{H_.init(e)},SX=e=>{const t=e.theme.renderUI;return t?t():eH(e)},EX=e=>{const t=e.getElement(),s=vi(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},JV=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),AX=e=>{const t=QV.create("div");return QV.insertAfter(t,e),JV(t,t)},eH=e=>{const t=e.getElement();return e.inline?JV(null):AX(t)},TX=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,tt(vi(e))?SX(e):Ut(vi(e))?EX(e):eH(e)},DX=(e,t)=>{const o={show:B.from(t.show).getOr(To),hide:B.from(t.hide).getOr(To),isEnabled:B.from(t.isEnabled).getOr(Yo),setEnabled:s=>{s&&(e.mode.get()==="readonly"||Ef(e))||B.from(t.setEnabled).each(c=>c(s))}};e.ui={...e.ui,...o}},OX=async e=>{e.dispatch("ScriptsLoaded"),wX(e),xX(e),_X(e),CX(e),kX(e),yX(e);const t=await TX(e);DX(e,B.from(t.api).getOr({})),e.editorContainer=t.editorContainer,UO(e),e.inline?XV(e):hX(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},P2=Bn.DOM,tH=e=>e.charAt(0)==="-",RX=(e,t)=>{const o=ck(t),s=TR(t);if(!yl.hasCode(o)&&o!=="en"){const a=Or(s)?s:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{WP(t,a,o)})}},NX=(e,t)=>{const o=vi(e);if(tt(o)&&!tH(o)&&!ko($1.urls,o)){const s=el(e),a=s?e.documentBaseURI.toAbsolute(s):`themes/${o}/theme${t}.js`;$1.load(o,a).catch(()=>{qP(e,a,o)})}},MX=(e,t)=>{const o=_d(e);if(o!=="plugin"&&!ko(G0.urls,o)){const s=gk(e),a=tt(s)?e.documentBaseURI.toAbsolute(s):`models/${o}/model${t}.js`;G0.load(o,a).catch(()=>{GP(e,a,o)})}},BX=(e,t)=>{H_.load(e,t)},PX=e=>B.from(bA(e)).filter(Or).map(t=>({url:t,name:B.none()})),oH=(e,t,o)=>B.from(t).filter(s=>Or(s)&&!I_.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${o}.js`,name:B.some(s)})),IX=(e,t,o)=>{const s=oH(t,"default",o),a=PX(t).orThunk(()=>oH(t,Yh(t),""));Ge(qp([s,a]),c=>{e.add(c.url).catch(()=>{jP(t,c.url,c.name.getOrUndefined())})})},LX=(e,t)=>{const o=(s,a)=>{s!=="licensekeymanager"&&H1.load(s,a).catch(()=>{ZP(e,a,s)})};on(xk(e),(s,a)=>{o(a,s),e.options.set("plugins",dv(e).concat(a))}),Ge(dv(e),s=>{s=ct.trim(s),s&&!H1.urls[s]&&!tH(s)&&o(s,`plugins/${s}/plugin${t}.js`)})},FX=e=>{const t=vi(e);return!tt(t)||Me($1.get(t))},zX=e=>{const t=_d(e);return Me(G0.get(t))},VX=(e,t)=>{const o=oi.ScriptLoader,s=()=>{!e.removed&&FX(e)&&zX(e)&&OX(e)};NX(e,t),MX(e,t),BX(e,t),RX(o,e),IX(o,e,t),LX(e,t),o.loadQueue().then(s,s)},HX=(e,t)=>Ib.forElement(e,{contentCssCors:EA(t),referrerPolicy:Hy(t)}),$X=e=>{const t=e.id;yl.setCode(ck(e));const o=()=>{P2.unbind(window,"ready",o),e.render()};if(!og.Event.domLoaded){P2.bind(window,"ready",o);return}if(!e.getElement())return;const s=oe.fromDom(e.getElement()),a=xc(s);e.on("remove",()=>{gt(s.dom.attributes,u=>Mr(s,u.name)),Ri(s,a)}),e.ui.styleSheetLoader=HX(s,e),$y(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||P2.getParent(t,"form");c&&(e.formElement=c,pk(e)&&!mh(e.getElement())&&(P2.insertAfter(P2.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=u=>{e.dispatch(u.type,u)},P2.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),CA(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=U1(e),e.notificationManager=MS(e),Zy(e)&&e.on("GetContent",u=>{u.save&&(u.content=P2.encode(u.content))}),hk(e)&&e.on("submit",()=>{e.initialized&&e.save()}),BR(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),VX(e,e.suffix)},nH=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],UX=e=>Intl.Segmenter?`${new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value?.segment}`:e.trim()[0],ZX=(e,t)=>{let o=5381;for(let s=0;s<e.length;s++)o=(o<<5)+o+e.charCodeAt(s);return(o>>>0)%(t+1)},jX=e=>{const t=ZX(e??"",nH.length-1);return nH[t]},WX=(e,t,o)=>{const s=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${s}" cy="${s}" r="${s}" fill="${t}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${s}">`+e+"</text></svg>"},qX=(e,t,o)=>"data:image/svg+xml,"+encodeURIComponent(WX(e,t,o)),OL=(e,t={size:36})=>qX(UX(e.name),jX(e.id),t.size),GX=iz([CW("id"),fz("name"),fz("avatar"),kW("custom")]),KX=e=>{const t={};return on(e,(o,s)=>{o.each(a=>{t[s]=a})}),t},YX=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const t=Io(e,a=>lz("Invalid user object",GX,a)),{errors:o,values:s}=Gc(t);if(o.length>0){const a=Io(o,(c,u)=>`User at index ${u}: ${cz(c)}`);console.warn(`User validation errors:
`+a.join(`
`))}return Io(s,a=>{const{id:c,name:u,avatar:f,...b}=a;return{id:c,name:u.getOr(c),avatar:f.getOr(OL({id:c,name:u.getOr(c)})),...KX(b)}})},XX=e=>{const t=new Map,o=new Map,s=_=>B.from(t.get(_)),a=(_,T)=>{t.set(T,_)},c=(_,T)=>B.from(o.get(_)).each(({reject:R})=>{R(T),o.delete(_)}),u=(_,T)=>B.from(o.get(_)).each(({resolve:R})=>{R(T),o.delete(_)}),f=_=>{const T=VA(e);if(Array.isArray(_)){if(!T)return Tr(_,M=>Promise.resolve({id:M,name:M,avatar:OL({id:M,name:M})}))}else return{};const R=Nl(xt(_,M=>!s(M).isSome()));return Ge(R,M=>{const $=new Promise((te,G)=>{o.set(M,{resolve:te,reject:G})});a($,M)}),R.length>0&&T(R).then(YX).then(M=>{const $=new Set(Io(M,te=>te.id));Ge(M,te=>u(te.id,te)),Ge(R,te=>{$.has(te)||c(te,new Error(`User ${te} not found`))})}).catch(M=>{Ge(R,$=>c($,M instanceof Error?M:new Error("Network error")))}),Zo(_,(M,$)=>(M[$]=s($).getOr(Promise.resolve({id:$,name:$,avatar:OL({id:$,name:$})})),M),{})},b=JR(e);return Object.freeze({userId:b,fetchUsers:f})},QX=e=>XX(e),JX=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,Ef(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),kR(e,t))},eQ=e=>e._editableRoot,tQ=(e,t)=>({sections:pt(e),options:pt(t)}),sH=gl().deviceType,rH=sH.isPhone(),oQ=sH.isTablet(),ME=e=>{if(to(e))return[];{const t=ne(e)?e:e.split(/[ ,]/),o=Io(t,dl);return xt(o,Or)}},nQ=(e,t)=>{const o=Ur(t,(s,a)=>Wo(e,a));return tQ(o.t,o.f)},sQ=(e,t,o={})=>{const s=e.sections(),a=Cn(s,t).getOr({});return ct.extend({},o,a)},RL=(e,t)=>ko(e.sections(),t),rQ=(e,t)=>RL(e,t)?e.sections()[t]:{},aQ=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Cn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),iQ=(e,t)=>{const o=t.external_plugins??{};return e&&e.external_plugins?ct.extend({},e.external_plugins,o):o},lQ=(e,t)=>[...ME(e),...ME(t)],cQ=(e,t,o,s)=>e&&RL(t,"mobile")?s:o,dQ=(e,t,o,s)=>{const a=ME(o.forced_plugins),c=ME(s.plugins),u=rQ(t,"mobile"),f=u.plugins?ME(u.plugins):c,b=cQ(e,t,c,f),_=lQ(a,b);return ct.extend(s,{forced_plugins:a,plugins:_})},uQ=(e,t)=>e&&RL(t,"mobile"),mQ=(e,t,o,s,a)=>{const c=e?{mobile:aQ(a.mobile??{},t)}:{},u=nQ(["mobile"],gc(c,a)),f=ct.extend(o,s,u.options(),uQ(e,u)?sQ(u,"mobile"):{},{external_plugins:iQ(s,u.options())});return dQ(e,u,s,f)},gQ=(e,t)=>{const o=Pu(t);return mQ(rH||oQ,rH,o,e,o)},fQ=(e,t)=>lO(e,t),pQ=e=>{const t=(s,a)=>{e.formatter.toggle(s,a),e.nodeChanged()},o=s=>()=>{Ge("left,center,right,justify".split(","),a=>{s!==a&&e.formatter.remove("align"+a)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},hQ=e=>{const t=o=>()=>{const s=e.selection,a=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return In(a,c=>Me(e.formatter.matchNode(c,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},bQ=e=>{pQ(e),hQ(e)},xQ=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let s;try{o.execCommand(t)}catch{s=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(s=!0),s||!o.queryCommandSupported(t)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Bo.os.isMacOS()||Bo.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:a,type:"error"})}}})},vQ=(e,t,o,s)=>{const a=oe.fromDom(e.getRoot());return v1(a,Ye.fromRangeStart(t),s)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),y1(a,Ye.fromRangeEnd(t),s)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},yQ=e=>{if(typeof e!="string"){const t=ct.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},wQ=(e,t)=>{const o=e.selection,s=e.dom;return/^ | $/.test(t)?vQ(s,o.getRng(),t,e.schema):t},I7=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:s}=yQ(t);b_(e,{...s,content:wQ(e,o),format:"html",set:!1,selection:!0}).each(a=>{const c=iO(e,a.content,s);x_(e,c,a),e.addVisual()})}},_Q=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,s)=>{I7(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,s)=>{I7(e,e.dom.encode(s))},insertHTML:(t,o,s)=>{I7(e,s)},mceInsertContent:(t,o,s)=>{I7(e,s)},mceSetContent:(t,o,s)=>{e.setContent(s)},mceReplaceContent:(t,o,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent($R(e))}})},CQ={"font-size":"size","font-family":"face"},kQ=ea("font"),SQ=(e,t,o)=>{const s=c=>Fm(c,e).orThunk(()=>kQ(c)?Cn(CQ,e).bind(u=>bc(c,u)):B.none()),a=c=>sn(oe.fromDom(t),c);return ud(oe.fromDom(o),c=>s(c),a)},EQ=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),AQ=(e,t)=>B.from(Bn.DOM.getStyle(t,e,!0)),aH=e=>(t,o)=>B.from(o).map(oe.fromDom).filter(fr).bind(s=>SQ(e,t,s.dom).or(AQ(e,s.dom))).getOr(""),TQ=aH("font-size"),DQ=yn(EQ,aH("font-family")),OQ=e=>$i(e.getBody()).bind(t=>{const o=t.container();return B.from(ht(o)?o.parentNode:o)}),RQ=e=>B.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?B.none():B.from(e.selection.getStart(!0))}),NQ=(e,t)=>RQ(e).orThunk(ze(OQ,e)).map(oe.fromDom).filter(fr).bind(t),NL=(e,t)=>NQ(e,ua(B.some,t)),iH=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const s=YR(e),a=XR(e);return a.length>0?a[o-1]||t:s[o-1]||t}else return t}else return t},MQ=e=>{const t=e.split(/\s*,\s*/);return Io(t,o=>o.indexOf(" ")!==-1&&!($s(o,'"')||$s(o,"'"))?`'${o}'`:o).join(",")},BQ=(e,t)=>{const o=iH(e,t);e.formatter.toggle("fontname",{value:MQ(o)}),e.nodeChanged()},PQ=e=>NL(e,t=>DQ(e.getBody(),t.dom)).getOr(""),IQ=(e,t)=>{e.formatter.toggle("fontsize",{value:iH(e,t)}),e.nodeChanged()},LQ=e=>NL(e,t=>TQ(e.getBody(),t.dom)).getOr(""),FQ=e=>NL(e,t=>{const o=oe.fromDom(e.getBody()),s=ud(t,c=>Fm(c,"line-height"),ze(sn,o)),a=()=>{const c=parseFloat(Wi(t,"line-height")),u=parseFloat(Wi(t,"font-size"));return String(c/u)};return s.getOrThunk(a)}).getOr(""),zQ=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},VQ=e=>{const t=(o,s)=>{e.formatter.toggle(o,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,s,a)=>{t(o,{value:a})},BackColor:(o,s,a)=>{t("hilitecolor",{value:a})},FontName:(o,s,a)=>{BQ(e,a)},FontSize:(o,s,a)=>{IQ(e,a)},LineHeight:(o,s,a)=>{zQ(e,a)},Lang:(o,s,a)=>{t(o,{value:a.code,customValue:a.customCode??null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,s,a)=>{t(tt(a)?a:"p")},mceToggleFormat:(o,s,a)=>{t(a)}})},HQ=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>PQ(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>LQ(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>FQ(e))},$Q=e=>{VQ(e),HQ(e)},UQ=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},ZQ=e=>{e.editorCommands.addCommands({Indent:()=>{rZ(e)},Outdent:()=>{JF(e)}}),e.editorCommands.addCommands({Outdent:()=>KF(e),Indent:()=>nZ(e)},"state")},jQ=e=>{const t=(o,s,a)=>{if(e.mode.isReadOnly())return;const c=tt(a)?{href:a}:a,u=e.dom.getParent(e.selection.getNode(),"a");se(c)&&tt(c.href)&&(c.href=c.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!u||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,u))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},WQ=(e,t,o,s)=>{const a=e.dom,c=f=>a.isBlock(f)&&f.parentElement===o,u=c(t)?t:a.getParent(s,c,o);return B.from(u).map(oe.fromDom)},lH=(e,t)=>{if(e.mode.isReadOnly())return;const o=e.dom,s=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),c=t?s.startContainer:s.endContainer,u=TE(o,c);if(!u||!u.isContentEditable)return;const f=t?na:Hl,b=si(e);WQ(e,a,u,c).each(_=>{const T=Az(e,c,_.dom,u,!1,b);f(_,oe.fromDom(T)),e.selection.setCursorLocation(T,0),e.dispatch("NewBlock",{newBlock:T}),AE(e,"insertParagraph")})},qQ=e=>lH(e,!0),GQ=e=>lH(e,!1),KQ=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{qQ(e)},InsertNewBlockAfter:()=>{GQ(e)}})},YQ=e=>{e.editorCommands.addCommands({insertParagraph:()=>{S7(Rz,e)},mceInsertNewLine:(t,o,s)=>{Fz(e,s)},InsertLineBreak:(t,o,s)=>{S7(Bz,e)}})},XQ=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,s)=>{let a=0;e.dom.getParent(e.selection.getNode(),c=>qt(c)&&a++===s?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,o,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),pi);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},QQ=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,s)=>{const a=s??e.selection.getNode();if(a!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,s)=>{e4(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},JQ=e=>{bQ(e),xQ(e),UQ(e),XQ(e),_Q(e),jQ(e),ZQ(e),KQ(e),YQ(e),$Q(e),QQ(e)},eJ=["toggleview"],cH=e=>Wo(eJ,e.toLowerCase());class dH{editor;commands={state:{},exec:{},value:{}};constructor(t){this.editor=t}execCommand(t,o=!1,s,a){const c=this.editor,u=t.toLowerCase(),f=a?.skip_focus;if(c.removed||(u!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(u)&&!f?c.focus():BN(c)),c.dispatch("BeforeExecCommand",{command:t,ui:o,value:s}).isDefaultPrevented()))return!1;const _=this.commands.exec[u];return Ut(_)?(_(u,o,s,a),c.dispatch("ExecCommand",{command:t,ui:o,value:s,args:a}),!0):!1}queryCommandState(t){if(!cH(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),s=this.commands.state[o];return Ut(s)?s(o):!1}queryCommandValue(t){if(!cH(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),s=this.commands.value[o];return Ut(s)?s(o):""}addCommands(t,o="exec"){const s=this.commands;on(t,(a,c)=>{Ge(c.toLowerCase().split(","),u=>{s[o][u]=a})})}addCommand(t,o,s){const a=t.toLowerCase();this.commands.exec[a]=(c,u,f,b)=>o.call(s??this.editor,u,f,b)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,s){this.commands.state[t.toLowerCase()]=()=>o.call(s??this.editor)}addQueryValueHandler(t,o,s){this.commands.value[t.toLowerCase()]=()=>o.call(s??this.editor)}}const tJ=ct.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class ML{static isNative(t){return!!tJ[t.toLowerCase()]}settings;scope;toggleEvent;bindings={};constructor(t){this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Do}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const s=t.toLowerCase(),a=sp(s,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const c=this.bindings[s];if(c)for(let u=0,f=c.length;u<f;u++){const b=c[u];if(!b.removed){if(b.once&&this.off(s,b.func),a.isImmediatePropagationStopped())return a;if(b.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(t,o,s,a){if(o===!1&&(o=Do),o){const c={func:o,removed:!1};a&&ct.extend(c,a);const u=t.toLowerCase().split(" ");let f=u.length;for(;f--;){const b=u[f];let _=this.bindings[b];_||(_=[],this.toggleEvent(b,!0)),s?_=[c,..._]:_=[..._,c],this.bindings[b]=_}}return this}off(t,o){if(t){const s=t.toLowerCase().split(" ");let a=s.length;for(;a--;){const c=s[a];let u=this.bindings[c];if(!c)return on(this.bindings,(f,b)=>{this.toggleEvent(b,!1),delete this.bindings[b]}),this;if(u){if(!o)u.length=0;else{const f=Et(u,b=>b.func===o);u=f.fail,this.bindings[c]=u,Ge(f.pass,b=>{b.removed=!0})}u.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else on(this.bindings,(s,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(t,o,s){return this.on(t,o,s,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const BE=e=>(e._eventDispatcher||(e._eventDispatcher=new ML({scope:e,toggleEvent:(t,o)=>{ML.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),BL={fire(e,t,o){return w_("fire"),this.dispatch(e,t,o)},dispatch(e,t,o){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return sp(e.toLowerCase(),t??{},s);const a=BE(s).dispatch(e,t);if(o!==!1&&s.parent){let c=s.parent();for(;c&&!a.isPropagationStopped();)c.dispatch(e,a,!1),c=c.parent?c.parent():void 0}return a},on(e,t,o){return BE(this).on(e,t,o)},off(e,t){return BE(this).off(e,t)},once(e,t){return BE(this).once(e,t)},hasEventListeners(e){return BE(this).has(e)}},L7=Bn.DOM;let I2;const F7=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=wA(e);return o?(e.eventRoot||(e.eventRoot=L7.select(o)[0]),e.eventRoot):e.getBody()},oJ=e=>!e.hidden&&!Ef(e),uH=(e,t,o)=>{oJ(e)?e.dispatch(t,o):Ef(e)&&US(e,o)},mH=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=F7(e,t);if(wA(e)){if(I2||(I2={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||I2&&(on(I2,(a,c)=>{e.dom.unbind(F7(e,c))}),I2=null)})),I2[t])return;const s=a=>{const c=a.target,u=e.editorManager.get();let f=u.length;for(;f--;){const b=u[f].getBody();(b===c||L7.isChildOf(c,b))&&uH(u[f],t,a)}};I2[t]=s,L7.bind(o,t,s)}else{const s=a=>{uH(e,t,a)};L7.bind(o,t,s),e.delegates[t]=s}},gH={...BL,bindPendingEventDelegates(){const e=this;ct.each(e._pendingNativeEvents,t=>{mH(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?mH(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(F7(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(on(e.delegates,(s,a)=>{e.dom.unbind(F7(e,a),a,s)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},nJ=e=>tt(e)?{value:e.split(/[ ,]/),valid:!0}:mo(e,tt)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},sJ=e=>{const t=(()=>{switch(e){case"array":return ne;case"boolean":return Ko;case"function":return Ut;case"number":return E;case"object":return se;case"string":return tt;case"string[]":return nJ;case"object[]":return o=>mo(o,se);case"regexp":return o=>Tt(o,RegExp);default:return Yo}})();return o=>PL(o,t,`The value must be a ${e}.`)},rJ=e=>tt(e.processor),fH=(e,t)=>{const o=Yc(t.message)?"":`. ${t.message}`;return e+o},pH=e=>e.valid,PL=(e,t,o="")=>{const s=t(e);return Ko(s)?s?{value:e,valid:!0}:{valid:!1,message:o}:s},aJ=(e,t,o)=>{if(!Co(t)){const s=PL(t,o);if(pH(s))return s.value;console.error(fH(`Invalid default value passed for the "${e}" option`,s))}},iJ=(e,t,o=t)=>{const s={},a={},c=($,te,G)=>{const ee=PL(te,G);return pH(ee)?(a[$]=ee.value,!0):(console.warn(fH(`Invalid value passed for the ${$} option`,ee)),!1)},u=($,te)=>{const G=rJ(te)?sJ(te.processor):te.processor,ee=aJ($,te.default,G);s[$]={...te,default:ee,processor:G},Cn(a,$).orThunk(()=>Cn(t,$)).each(Ce=>c($,Ce,G))},f=$=>ko(s,$);return{register:u,isRegistered:f,get:$=>Cn(a,$).orThunk(()=>Cn(s,$).map(te=>te.default)).getOrUndefined(),set:($,te)=>{if(f($)){const G=s[$];return G.immutable?(console.error(`"${$}" is an immutable option and cannot be updated`),!1):c($,te,G.processor)}else return console.warn(`"${$}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:$=>{const te=f($);return te&&delete a[$],te},isSet:$=>ko(a,$),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,($,te)=>Ko(te)||E(te)||tt(te)||nt(te)||ne(te)||We(te)?te:Object.prototype.toString.call(te))))}catch($){console.error($)}}}},lJ=(e,t)=>{e.dom.contentEditable="true"},cJ=(e,t)=>{const o=oe.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&lJ(o),j_(e)):(e.readonly=!1,Z1(e))},vC=e=>e.readonly,dJ=e=>{const t=e.undoManager.add();Me(t)&&(e.undoManager.undo(),e.undoManager.reset())},uJ=e=>In(e,t=>t.type==="characterData"||t.type==="childList"),mJ=e=>{const t=s=>{vC(e)&&uJ(s)&&dJ(e)},o=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",s=>{vC(e)&&s.preventDefault()}),e.on("BeforeExecCommand",s=>{(s.command==="Undo"||s.command==="Redo")&&vC(e)&&s.preventDefault()}),e.on("compositionstart",()=>{vC(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(vC(e)){const s=o.takeRecords();t(s)}o.disconnect()})},gJ=["design","readonly"],hH=(e,t,o,s)=>{const a=o[t.get()],c=o[s];try{c.activate()}catch(u){console.error(`problem while activating editor mode ${s}:`,u);return}a.deactivate(),a.editorReadOnly!==c.editorReadOnly&&cJ(e,c.editorReadOnly),t.set(s),bR(e,s)},fJ=(e,t,o,s)=>{if(!(s===o.get()||e.initialized&&Ef(e))){if(!ko(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?hH(e,o,t,s):e.on("init",()=>hH(e,o,t,s))}},pJ=(e,t,o)=>{if(Wo(gJ,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},hJ=e=>{const t=jn("design"),o=jn({design:{activate:To,deactivate:To,editorReadOnly:!1},readonly:{activate:To,deactivate:To,editorReadOnly:!0}});return mJ(e),zO(e),{isReadOnly:()=>vC(e),set:s=>fJ(e,o.get(),t,s),get:()=>t.get(),register:(s,a)=>{o.set(pJ(o.get(),s,a))}}},IL=ct.each,LL=ct.explode,bJ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},bH=ct.makeMap("alt,ctrl,shift,meta,access"),xJ=e=>e in bH,vJ=e=>{const t={},o=Bo.os.isMacOS()||Bo.os.isiOS();IL(LL(e.toLowerCase(),"+"),c=>{xJ(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=bJ[c]||c.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let a;for(a in bH)t[a]?s.push(a):t[a]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class xH{editor;shortcuts={};pendingPatterns=[];constructor(t){this.editor=t;const o=this;t.on("keyup keypress keydown",s=>{(o.hasModifier(s)||o.isFunctionKey(s))&&!s.isDefaultPrevented()&&(IL(o.shortcuts,a=>{o.matchShortcut(s,a)&&(o.pendingPatterns=a.subpatterns.slice(0),s.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(s,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&s.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,s,a){const c=this,u=c.normalizeCommandFunc(s);return IL(LL(ct.trim(t)),f=>{const b=c.createShortcut(f,o,u,a);c.shortcuts[b.id]=b}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,s=t;return typeof s=="string"?()=>{o.editor.execCommand(s,!1,null)}:ct.isArray(s)?()=>{o.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,o,s,a){const c=ct.map(LL(t,">"),vJ);return c[c.length-1]=ct.extend(c[c.length-1],{func:s,scope:a||this.editor}),ct.extend(c[0],{desc:this.editor.translate(o),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const yJ=()=>{const e=BW();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},L2=Bn.DOM,vH=ct.extend,wJ=ct.each;class z7{baseUri;id;editorUid;plugins={};documentBaseURI;baseURI;contentCSS=[];contentStyles=[];ui;mode;options;editorUpload;userLookup;shortcuts;loadedCSS={};editorCommands;suffix;editorManager;hidden;inline;hasVisual;isNotDirty=!1;annotator;bodyElement;bookmark;composing=!1;container;contentAreaContainer;contentDocument;contentWindow;delegates;destroyed=!1;dom;editorContainer;eventRoot;formatter;formElement;formEventDelegate;hasHiddenInput=!1;iframeElement=null;iframeHTML;initialized=!1;notificationManager;orgDisplay;orgVisibility;parser;quirks;readonly=!1;removed=!1;schema;selection;serializer;startContent="";targetElm;theme;model;undoManager;windowManager;licenseKeyManager;_beforeUnload;_eventDispatcher;_nodeChangeDispatcher;_pendingNativeEvents=[];_selectionOverrides;_skinLoaded=!1;_editableRoot=!0;bindPendingEventDelegates;toggleNativeEvent;unbindAllNativeEvents;fire;dispatch;on;off;once;hasEventListeners;constructor(t,o,s){this.editorManager=s,vH(this,gH);const a=this;this.id=t,this.editorUid=Mu(),this.hidden=!1;const c=gQ(s.defaultOptions,o);this.options=iJ(a,c,o),fA(a),this.userLookup=QX(this);const u=this.options.get;u("deprecation_warnings")&&Q6(o,c);const f=u("suffix");f&&(s.suffix=f),this.suffix=s.suffix;const b=u("base_url");b&&s._setBaseUrl(b),this.baseUri=s.baseURI;const _=Hy(a);_&&(oi.ScriptLoader._setReferrerPolicy(_),Bn.DOM.styleSheetLoader._setReferrerPolicy(_)),oi.ScriptLoader._setCrossOrigin($=>lk(a)($,"script")),Bn.DOM.styleSheetLoader._setCrossOrigin($=>lk(a)($,"stylesheet"));const T=EA(a);Me(T)&&Bn.DOM.styleSheetLoader._setContentCssCors(T),Ua.languageLoad=u("language_load"),Ua.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new Rd(sk(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=$y(a),this.hasVisual=LR(a),this.shortcuts=new xH(this),this.editorCommands=new dH(this),JQ(this);const R=u("cache_suffix");R&&(Bo.cacheSuffix=R.replace(/^[\?\&]+/,"")),this.ui={registry:yJ(),styleSheetLoader:void 0,show:To,hide:To,setEnabled:To,isEnabled:Yo},this.mode=hJ(a),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),s.dispatch("SetupEditor",{editor:this});const M=TA(a);Ut(M)&&M.call(a,a)}render(){$X(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return f1(this)}translate(t){return yl.translate(t)}getParam(t,o,s){const a=this.options;return a.isRegistered(t)||(Me(s)?a.register(t,{processor:s,default:o}):a.register(t,{processor:Yo,default:o})),!a.isSet(t)&&!Co(o)?o:a.get(t)}hasPlugin(t,o){return Wo(dv(this),t)?o?H1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,s){this.editorCommands.addCommand(t,o,s)}addQueryStateHandler(t,o,s){this.editorCommands.addQueryStateHandler(t,o,s)}addQueryValueHandler(t,o,s){this.editorCommands.addQueryValueHandler(t,o,s)}addShortcut(t,o,s,a){this.shortcuts.add(t,o,s,a)}execCommand(t,o,s,a){return this.editorCommands.execCommand(t,o,s,a)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(L2.show(t.getContainer()),L2.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(L2.hide(t.getContainer()),L2.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,s=o.getElement();if(!o.removed&&s){const a={...t,load:!0},c=mh(s)?s.value:s.innerHTML;o.setContent(c,a),a.no_events||o.dispatch("LoadContent",{...a,element:s})}}save(t={}){const o=this;let s=o.getElement();if(!s||!o.initialized||o.removed)return"";const a={...t,save:!0,element:s};let c=o.getContent(a);const u={...a,content:c};if(u.no_events||o.dispatch("SaveContent",u),u.format==="raw"&&o.dispatch("RawSaveContent",u),c=u.content,mh(s))s.value=c;else{(t.is_removing||!o.inline)&&(s.innerHTML=c);const f=L2.getParent(o.id,"form");f&&wJ(f.elements,b=>b.name===o.id?(b.value=c,!1):!0)}return u.element=a.element=s=null,u.set_dirty!==!1&&o.setDirty(!1),c}setContent(t,o){P_(this,t,o)}getContent(t){return AS(this,t)}insertContent(t,o){o&&(t=vH({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?P_(this,this.startContent,{initial:!0,format:"raw"}):P_(this,t,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||L2.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=L2.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){const t=this.getDoc();return this.bodyElement??t?.body??null}convertURL(t,o,s){const a=this,c=a.options.get,u=OA(a);if(Ut(u))return u.call(a,t,s,!0,o);if(!c("convert_urls")||s==="link"||se(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const f=new Rd(t);return f.protocol!=="http"&&f.protocol!=="https"&&f.protocol!==""?t:c("relative_urls")?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){fQ(this,t)}setEditableRoot(t){JX(this,t)}hasEditableRoot(){return eQ(this)}remove(){zP(this)}destroy(t){DS(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const yC=Bn.DOM,V7=ct.each;let yH=!1,H7,zc=[];const $7=e=>{const t=e.type;V7(ux.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},wH=e=>{if(e!==yH){const t=Bn.DOM;e?(t.bind(window,"resize",$7),t.bind(window,"scroll",$7)):(t.unbind(window,"resize",$7),t.unbind(window,"scroll",$7)),yH=e}},_H=e=>{const t=zc;return zc=xt(zc,o=>e!==o),ux.activeEditor===e&&(ux.activeEditor=zc.length>0?zc[0]:null),ux.focusedEditor===e&&(ux.focusedEditor=null),t.length!==zc.length},_J=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(_H(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},CJ=document.compatMode!=="CSS1Compat",ux={...BL,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:Mu(),majorVersion:"8",minorVersion:"2.2",releaseDate:"2025-11-17",i18n:yl,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",s=Rd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,o=a.suffix;else{const c=document.getElementsByTagName("script");for(let u=0;u<c.length;u++){const f=c[u].src||"";if(f==="")continue;const b=f.substring(f.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){b.indexOf(".min")!==-1&&(o=".min"),t=f.substring(0,f.lastIndexOf("/"));break}}if(!t&&document.currentScript){const u=document.currentScript.src;u.indexOf(".min")!==-1&&(o=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new Rd(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new Rd(e.baseURL),e.suffix=o,Qk(e),Ge(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],c=>Object.defineProperty(e,c,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&on(s,(a,c)=>{Ua.PluginManager.urls[c]=a})},init(e){const t=this;let o;const s=ct.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(T,R)=>T.inline&&R.tagName.toLowerCase()in s,c=T=>{let R=T.id;return R||(R=Cn(T,"name").filter(M=>!yC.get(M)).getOrThunk(yC.uniqueId),T.setAttribute("id",R)),R},u=T=>{const R=e[T];if(R)return R.apply(t,[])},f=T=>Bo.browser.isIE()||Bo.browser.isEdge()?(z_("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):CJ?(z_("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):tt(T.selector)?yC.select(T.selector):Me(T.target)?[T.target]:[];let b=T=>{o=T};const _=()=>{let T=0;const R=[];let M;const $=(te,G,ee)=>{const ye=new z7(te,G,t);R.push(ye),ye.on("init",()=>{++T===M.length&&b(R)}),ye.targetElm=ye.targetElm||ee,ye.render()};yC.unbind(window,"ready",_),u("onpageload"),M=Nl(f(e)),ct.each(M,te=>{_J(t.get(te.id))}),M=ct.grep(M,te=>!t.get(te.id)),M.length===0?b([]):V7(M,te=>{a(e,te)?z_("Could not initialize inline editor on invalid inline target element",te):$(c(te),e,te)})};return yC.bind(window,"ready",_),new Promise(T=>{o?T(o):b=R=>{T(R)}})},get(e){return arguments.length===0?zc.slice(0):tt(e)?An(zc,t=>t.id===e).getOr(null):E(e)&&zc[e]?zc[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&zc.push(e),wH(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),H7||(H7=s=>{const a=t.dispatch("BeforeUnload");if(a.returnValue)return s.preventDefault(),s.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",H7))),e},createEditor(e,t){return this.add(new z7(e,t,this))},remove(e){const t=this;let o;if(!e){for(let s=zc.length-1;s>=0;s--)t.remove(zc[s]);return}if(tt(e)){V7(yC.select(e),s=>{o=t.get(s.id),o&&t.remove(o)});return}return o=e,nt(t.get(o.id))?null:(_H(o)&&t.dispatch("RemoveEditor",{editor:o}),zc.length===0&&window.removeEventListener("beforeunload",H7),o.remove(),wH(zc.length>0),o)},execCommand(e,t,o){const s=this,a=se(o)?o.id??o.index:o;switch(e){case"mceAddEditor":{if(!s.get(a)){const c=o.options;new z7(a,c,s).render()}return!0}case"mceRemoveEditor":{const c=s.get(a);return c&&c.remove(),!0}case"mceToggleEditor":{const c=s.get(a);return c?(c.isHidden()?c.show():c.hide(),!0):(s.execCommand("mceAddEditor",!1,o),!0)}}return s.activeEditor?s.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{V7(zc,e=>{e.save()})},addI18n:(e,t)=>{yl.add(e,t)},translate:e=>yl.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Rd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Rd(this.baseURL)},_addLicenseKeyManager:e=>H_.add(e)};ux.setup();const kJ=(()=>{const e=Il(),t=c=>({items:c,types:Yr(c),getType:u=>Cn(c,u).getOrUndefined()}),o=c=>{e.set(c)},s=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:t,write:o,read:s,clear:a}})(),CH=Math.min,wC=Math.max,U7=Math.round,kH=(e,t,o)=>{let s=t.x,a=t.y;const c=e.w,u=e.h,f=t.w,b=t.h,_=(o||"").split("");return _[0]==="b"&&(a+=b),_[1]==="r"&&(s+=f),_[0]==="c"&&(a+=U7(b/2)),_[1]==="c"&&(s+=U7(f/2)),_[3]==="b"&&(a-=u),_[4]==="r"&&(s-=c),_[3]==="c"&&(a-=U7(u/2)),_[4]==="c"&&(s-=U7(c/2)),_C(s,a,c,u)},SJ=(e,t,o,s)=>{for(let a=0;a<s.length;a++){const c=kH(e,t,s[a]);if(c.x>=o.x&&c.x+c.w<=o.w+o.x&&c.y>=o.y&&c.y+c.h<=o.h+o.y)return s[a]}return null},EJ=(e,t,o)=>_C(e.x-t,e.y-o,e.w+t*2,e.h+o*2),AJ=(e,t)=>{const o=wC(e.x,t.x),s=wC(e.y,t.y),a=CH(e.x+e.w,t.x+t.w),c=CH(e.y+e.h,t.y+t.h);return a-o<0||c-s<0?null:_C(o,s,a-o,c-s)},TJ=(e,t,o)=>{let s=e.x,a=e.y,c=e.x+e.w,u=e.y+e.h;const f=t.x+t.w,b=t.y+t.h,_=wC(0,t.x-s),T=wC(0,t.y-a),R=wC(0,c-f),M=wC(0,u-b);return s+=_,a+=T,o&&(c+=_,u+=T,s-=R,a-=M),c-=R,u-=M,_C(s,a,c-s,u-a)},_C=(e,t,o,s)=>({x:e,y:t,w:o,h:s}),DJ={inflate:EJ,relativePosition:kH,findBestRelativePosition:SJ,intersect:AJ,clamp:TJ,create:_C,fromClientRect:e=>_C(e.left,e.top,e.width,e.height)},OJ=(e,t,o=1e3)=>{let s=!1,a=null;const c=_=>(...T)=>{s||(s=!0,a!==null&&(window.clearTimeout(a),a=null),_.apply(null,T))},u=c(e),f=c(t);return{start:(..._)=>{!s&&a===null&&(a=window.setTimeout(()=>f.apply(null,_),o))},resolve:u,reject:f}},RJ=(()=>{const e={},t={},o={};return{load:(b,_)=>{const T=`Script at URL "${_}" failed to load`,R=`Script at URL "${_}" did not call \`tinymce.Resource.add('${b}', data)\` within 1 second`;if(e[b]!==void 0)return e[b];{const M=new Promise(($,te)=>{const G=OJ($,te);t[b]=G.resolve,oi.ScriptLoader.loadScript(_).then(()=>G.start(R),()=>G.reject(T))});return e[b]=M,M}},add:(b,_)=>{t[b]!==void 0&&(t[b](_),delete t[b]),e[b]=Promise.resolve(_),o[b]=_},has:b=>b in o,get:b=>o[b],unload:b=>{delete e[b],delete o[b]}}})(),NJ=()=>(()=>{let e={},t=[];const o={getItem:s=>{const a=e[s];return a||null},setItem:(s,a)=>{t.push(s),e[s]=String(a)},key:s=>t[s],removeItem:s=>{t=t.filter(a=>a===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let PE;try{const e="__storage_test__";PE=window.localStorage,PE.setItem(e,e),PE.removeItem(e)}catch{PE=NJ()}var MJ=PE;const BJ={geom:{Rect:DJ},util:{Delay:Ad,Tools:ct,VK:Pt,URI:Rd,EventDispatcher:ML,Observable:BL,I18n:yl,LocalStorage:MJ,ImageUploader:iI},dom:{EventUtils:og,TreeWalker:rr,TextSeeker:ec,DOMUtils:Bn,ScriptLoader:oi,RangeUtils:gu,Serializer:ES,StyleSheetLoader:jx,ControlSelection:bw,BookmarkManager:c1,Selection:y2,Event:og.Event},html:{Styles:bd,Entities:pd,Node:yi,Schema:su,DomParser:wa,Writer:f4,Serializer:hf},Env:Bo,AddOnManager:Ua,Annotator:R5,Formatter:YS,UndoManager:n8,EditorCommands:dH,WindowManager:U1,NotificationManager:MS,EditorObservable:gH,Shortcuts:xH,Editor:z7,FocusManager:M5,EditorManager:ux,DOM:Bn.DOM,ScriptLoader:oi.ScriptLoader,PluginManager:H1,ThemeManager:$1,ModelManager:G0,IconManager:I_,Resource:RJ,FakeClipboard:kJ,trim:ct.trim,isArray:ct.isArray,is:ct.is,toArray:ct.toArray,makeMap:ct.makeMap,each:ct.each,map:ct.map,grep:ct.grep,inArray:ct.inArray,extend:ct.extend,walk:ct.walk,resolve:ct.resolve,explode:ct.explode,_addCacheSuffix:ct._addCacheSuffix},SH=ct.extend(ux,BJ),PJ=e=>{try{Q.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(SH),PJ(SH)})()}(UL)),UL.exports}Ioe();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const Q=Object.getPrototypeOf,re=(n,r,i)=>!!i(n,r.prototype)||n.constructor?.name===r.name,ke=n=>r=>(i=>{const l=typeof i;return i===null?"null":l==="object"&&Array.isArray(i)?"array":l==="object"&&re(i,String,(d,m)=>m.isPrototypeOf(d))?"string":l})(r)===n,be=n=>r=>typeof r===n,Re=n=>r=>n===r,xe=ke("string"),ve=ke("object"),_e=n=>((r,i)=>ve(r)&&re(r,i,(l,d)=>Q(l)===d))(n,Object),$e=ke("array"),lt=Re(null),dt=be("boolean"),st=Re(void 0),Ue=n=>n==null,ge=n=>!Ue(n),Je=be("function"),St=be("number"),Gt=(n,r)=>{if($e(n)){for(let i=0,l=n.length;i<l;++i)if(!r(n[i]))return!1;return!0}return!1},we=()=>{},Tt=n=>()=>n(),tt=(n,r)=>(...i)=>n(r.apply(null,i)),se=n=>()=>n,We=n=>n,ne=(n,r)=>n===r;function nt(n,...r){return(...i)=>{const l=r.concat(i);return n.apply(null,l)}}const Ko=n=>r=>!n(r),Co=n=>()=>{throw new Error(n)},to=n=>n(),Me=se(!1),Ut=se(!0);class E{tag;value;static singletonNone=new E(!1);constructor(r,i){this.tag=r,this.value=i}static some(r){return new E(!0,r)}static none(){return E.singletonNone}fold(r,i){return this.tag?i(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?E.some(r(this.value)):E.none()}bind(r){return this.tag?r(this.value):E.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:E.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return ge(r)?E.some(r):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const mo=Array.prototype.slice,To=Array.prototype.indexOf,yn=Array.prototype.push,ua=(n,r)=>To.call(n,r),pt=(n,r)=>ua(n,r)>-1,En=(n,r)=>{for(let i=0,l=n.length;i<l;i++)if(r(n[i],i))return!0;return!1},Si=(n,r)=>{const i=[];for(let l=0;l<n;l++)i.push(r(l));return i},ze=(n,r)=>{const i=[];for(let l=0;l<n.length;l+=r){const d=mo.call(n,l,l+r);i.push(d)}return i},Ee=(n,r)=>{const i=n.length,l=new Array(i);for(let d=0;d<i;d++){const m=n[d];l[d]=r(m,d)}return l},yt=(n,r)=>{for(let i=0,l=n.length;i<l;i++)r(n[i],i)},un=(n,r)=>{const i=[],l=[];for(let d=0,m=n.length;d<m;d++){const p=n[d];(r(p,d)?i:l).push(p)}return{pass:i,fail:l}},Oo=(n,r)=>{const i=[];for(let l=0,d=n.length;l<d;l++){const m=n[l];r(m,l)&&i.push(m)}return i},Do=(n,r,i)=>(((l,d)=>{for(let m=l.length-1;m>=0;m--)d(l[m],m)})(n,(l,d)=>{i=r(i,l,d)}),i),Yo=(n,r,i)=>(yt(n,(l,d)=>{i=r(i,l,d)}),i),B=(n,r)=>((i,l,d)=>{for(let m=0,p=i.length;m<p;m++){const x=i[m];if(l(x,m))return E.some(x);if(d(x,m))break}return E.none()})(n,r,Me),tr=(n,r)=>{for(let i=0,l=n.length;i<l;i++)if(r(n[i],i))return E.some(i);return E.none()},Os=n=>{const r=[];for(let i=0,l=n.length;i<l;++i){if(!$e(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);yn.apply(r,n[i])}return r},Uo=(n,r)=>Os(Ee(n,r)),li=(n,r)=>{for(let i=0,l=n.length;i<l;++i)if(r(n[i],i)!==!0)return!1;return!0},br=n=>{const r=mo.call(n,0);return r.reverse(),r},Wo=(n,r)=>Oo(n,i=>!pt(r,i)),In=(n,r)=>{const i={};for(let l=0,d=n.length;l<d;l++){const m=n[l];i[String(m)]=r(m,l)}return i},Io=n=>[n],Ge=(n,r)=>{const i=mo.call(n,0);return i.sort(r),i},gt=(n,r)=>r>=0&&r<n.length?E.some(n[r]):E.none(),Et=n=>gt(n,0),xt=n=>gt(n,n.length-1),Gn=Je(Array.from)?Array.from:n=>mo.call(n),gn=(n,r)=>{for(let i=0;i<n.length;i++){const l=r(n[i],i);if(l.isSome())return l}return E.none()},Zo=Object.keys,jc=Object.hasOwnProperty,An=(n,r)=>{const i=Zo(n);for(let l=0,d=i.length;l<d;l++){const m=i[l];r(n[m],m)}},Is=(n,r)=>Wc(n,(i,l)=>({k:l,v:r(i,l)})),Wc=(n,r)=>{const i={};return An(n,(l,d)=>{const m=r(l,d);i[m.k]=m.v}),i},qc=n=>(r,i)=>{n[i]=r},dr=(n,r,i,l)=>{An(n,(d,m)=>{(r(d,m)?i:l)(d,m)})},La=(n,r)=>{const i={};return dr(n,r,qc(i),we),i},ma=(n,r)=>{const i=[];return An(n,(l,d)=>{i.push(r(l,d))}),i},Rl=(n,r)=>{const i=Zo(n);for(let l=0,d=i.length;l<d;l++){const m=i[l],p=n[m];if(r(p,m,n))return E.some(p)}return E.none()},Tr=n=>ma(n,We),no=(n,r)=>cn(n,r)?E.from(n[r]):E.none(),cn=(n,r)=>jc.call(n,r),Kn=(n,r)=>cn(n,r)&&n[r]!==void 0&&n[r]!==null,qs=n=>{if(!$e(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const r=[],i={};return yt(n,(l,d)=>{const m=Zo(l);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],x=l[p];if(i[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!$e(x))throw new Error("case arguments must be an array");r.push(p),i[p]=(...v)=>{const w=v.length;if(w!==x.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+x.length+" ("+x+"), got "+w);return{fold:(...S)=>{if(S.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+S.length);return S[d].apply(null,v)},match:S=>{const k=Zo(S);if(r.length!==k.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+k.join(","));if(!li(r,A=>pt(k,A)))throw new Error("Not all branches were specified when using match. Specified: "+k.join(", ")+`
Required: `+r.join(", "));return S[p].apply(null,v)},log:S=>{console.log(S,{constructors:r,constructor:p,params:v})}}}}),i},Ot=n=>{let r=n;return{get:()=>r,set:i=>{r=i}}},Ei=n=>{let r=E.none(),i=[];const l=p=>{d()?m(p):i.push(p)},d=()=>r.isSome(),m=p=>{r.each(x=>{setTimeout(()=>{p(x)},0)})};return n(p=>{d()||(r=E.some(p),yt(i,m),i=[])}),{get:l,map:p=>Ei(x=>{l(v=>{x(p(v))})}),isReady:d}},Nl={nu:Ei,pure:n=>Ei(r=>{r(n)})},Yr=n=>{setTimeout(()=>{throw n},0)},Hs=n=>{const r=i=>{n().then(i,Yr)};return{map:i=>Hs(()=>n().then(i)),bind:i=>Hs(()=>n().then(l=>i(l).toPromise())),anonBind:i=>Hs(()=>n().then(()=>i.toPromise())),toLazy:()=>Nl.nu(r),toCached:()=>{let i=null;return Hs(()=>(i===null&&(i=n()),i))},toPromise:n,get:r}},on=n=>Hs(()=>new Promise(n)),$r=n=>Hs(()=>Promise.resolve(n)),Sg=n=>{const r=m=>m(n),i=se(n),l=()=>d,d={tag:!0,inner:n,fold:(m,p)=>p(n),isValue:Ut,isError:Me,map:m=>Jo.value(m(n)),mapError:l,bind:r,exists:r,forall:r,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:m=>{m(n)},toOptional:()=>E.some(n)};return d},mc=n=>{const r=()=>i,i={tag:!1,inner:n,fold:(l,d)=>l(n),isValue:Me,isError:Ut,map:r,mapError:l=>Jo.error(l(n)),bind:r,exists:Me,forall:Ut,getOr:We,or:We,getOrThunk:to,orThunk:to,getOrDie:Co(String(n)),each:we,toOptional:E.none};return i},Jo={value:Sg,error:mc,fromOption:(n,r)=>n.fold(()=>mc(r),Sg)},Ur=n=>({...n,toCached:()=>Ur(n.toCached()),bindFuture:r=>Ur(n.bind(i=>i.fold(l=>$r(Jo.error(l)),l=>r(l)))),bindResult:r=>Ur(n.map(i=>i.bind(r))),mapResult:r=>Ur(n.map(i=>i.map(r))),mapError:r=>Ur(n.map(i=>i.mapError(r))),foldResult:(r,i)=>n.map(l=>l.fold(r,i)),withTimeout:(r,i)=>Ur(on(l=>{let d=!1;const m=setTimeout(()=>{d=!0,l(Jo.error(i()))},r);n.get(p=>{d||(clearTimeout(m),l(p))})}))}),Dr=n=>Ur(on(n)),ga=typeof window<"u"?window:Function("return this;")(),_s=(n,r,i,l)=>{const d=n+r;return d>l?i:d<i?l:d},Cn=(n,r,i)=>Math.min(Math.max(n,r),i);let ko=0;const De=n=>{const r=new Date().getTime(),i=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return ko++,n+"_"+i+ko+String(r)},Ld=n=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<r.length;l++){const d=r[l];for(const m in d)cn(d,m)&&(i[m]=n(i[m],d[m]))}return i},Cs=Ld((n,r)=>_e(n)&&_e(r)?Cs(n,r):r),ll=Ld((n,r)=>r),jn=(n,r,i=ne)=>n.exists(l=>i(l,r)),cl=n=>{const r=[],i=l=>{r.push(l)};for(let l=0;l<n.length;l++)n[l].each(i);return r},Ml=(n,r,i)=>n.isSome()&&r.isSome()?E.some(i(n.getOrDie(),r.getOrDie())):E.none(),Fd=(n,r)=>n!=null?E.some(r(n)):E.none(),Gs=(n,r)=>n?E.some(r):E.none(),Sm=(n,r)=>((i,l)=>{let d=l??ga;for(let m=0;m<i.length&&d!=null;++m)d=d[i[m]];return d})(n.split("."),r);qs([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ks=n=>{const r=Ot(E.none()),i=()=>r.get().each(n);return{clear:()=>{i(),r.set(E.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:l=>{i(),r.set(E.some(l))}}},Zr=()=>Ks(n=>n.unbind()),zn=()=>{const n=Ks(we);return{...n,on:r=>n.get().each(r)}},Bl=(n,r,i)=>r===""||n.length>=r.length&&n.substr(i,i+r.length)===r,os=(n,r)=>Mu(n,r)?((i,l)=>i.substring(l))(n,r.length):n,Ys=(n,r,i=0,l)=>{const d=n.indexOf(r,i);return d!==-1&&(!!st(l)||d+r.length<=l)},Mu=(n,r)=>Bl(n,r,0),zd=(n,r)=>Bl(n,r,n.length-r.length),Bu=(Il=/^\s+|\s+$/g,n=>n.replace(Il,"")),Pl=n=>n.length>0,gc=n=>!Pl(n),Pu=(n,r)=>{let i=null;const l=()=>{lt(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...d)=>{l(),i=setTimeout(()=>{i=null,n.apply(null,d)},r)}}},xr=n=>{let r,i=!1;return(...l)=>(i||(i=!0,r=n.apply(null,l)),r)},Iu=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},qp=(n,r)=>{const i=document.createElement("div");if(i.innerHTML=n,!i.hasChildNodes()||i.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,n),new Error(l)}return Iu(i.childNodes[0])},Rs=(n,r)=>{const i=document.createElement(n);return Iu(i)},Eg=(n,r)=>{const i=document.createTextNode(n);return Iu(i)},Ft=Iu,Vd=(n,r,i)=>{const l=n.document.createRange();var d;return d=l,r.fold(m=>{d.setStartBefore(m.dom)},(m,p)=>{d.setStart(m.dom,p)},m=>{d.setStartAfter(m.dom)}),((m,p)=>{p.fold(x=>{m.setEndBefore(x.dom)},(x,v)=>{m.setEnd(x.dom,v)},x=>{m.setEndAfter(x.dom)})})(l,i),l},Ag=(n,r,i,l,d)=>{const m=n.document.createRange();return m.setStart(r.dom,i),m.setEnd(l.dom,d),m},Tg=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),Gc=qs([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Dg=(n,r,i)=>r(Ft(i.startContainer),i.startOffset,Ft(i.endContainer),i.endOffset),Ff=(n,r)=>((i,l)=>{const d=((m,p)=>p.match({domRange:x=>({ltr:se(x),rtl:E.none}),relative:(x,v)=>({ltr:xr(()=>Vd(m,x,v)),rtl:xr(()=>E.some(Vd(m,v,x)))}),exact:(x,v,w,S)=>({ltr:xr(()=>Ag(m,x,v,w,S)),rtl:xr(()=>E.some(Ag(m,w,S,x,v)))})}))(i,l);return((m,p)=>{const x=p.ltr();return x.collapsed?p.rtl().filter(v=>v.collapsed===!1).map(v=>Gc.rtl(Ft(v.endContainer),v.endOffset,Ft(v.startContainer),v.startOffset)).getOrThunk(()=>Dg(0,Gc.ltr,x)):Dg(0,Gc.ltr,x)})(0,d)})(n,r).match({ltr:(i,l,d,m)=>{const p=n.document.createRange();return p.setStart(i.dom,l),p.setEnd(d.dom,m),p},rtl:(i,l,d,m)=>{const p=n.document.createRange();return p.setStart(d.dom,m),p.setEnd(i.dom,l),p}});var Il;Gc.ltr,Gc.rtl;const ci=(n,r)=>{const i=n.dom;if(i.nodeType!==1)return!1;{const l=i;if(l.matches!==void 0)return l.matches(r);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(r);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(r);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},zf=n=>n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11||n.childElementCount===0,Vf=(n,r)=>{const i=r===void 0?document:r.dom;return zf(i)?E.none():E.from(i.querySelector(n)).map(Ft)},Xo=(n,r)=>n.dom===r.dom,$s=(n,r)=>{const i=n.dom,l=r.dom;return i!==l&&i.contains(l)},Og=()=>Kc(0,0),Kc=(n,r)=>({major:n,minor:r}),dl={nu:Kc,detect:(n,r)=>{const i=String(r).toLowerCase();return n.length===0?Og():((l,d)=>{const m=((x,v)=>{for(let w=0;w<x.length;w++){const S=x[w];if(S.test(v))return S}})(l,d);if(!m)return{major:0,minor:0};const p=x=>Number(d.replace(m,"$"+x));return Kc(p(1),p(2))})(n,i)},unknown:Og},Hf=(n,r)=>{const i=String(r).toLowerCase();return B(n,l=>l.search(i))},Em=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Or=n=>r=>Ys(r,n),Yc=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>Ys(n,"edge/")&&Ys(n,"chrome")&&Ys(n,"safari")&&Ys(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Em],search:n=>Ys(n,"chrome")&&!Ys(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>Ys(n,"msie")||Ys(n,"trident")},{name:"Opera",versionRegexes:[Em,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Or("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Or("firefox")},{name:"Safari",versionRegexes:[Em,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(Ys(n,"safari")||Ys(n,"mobile/"))&&Ys(n,"applewebkit")}],Gp=[{name:"Windows",search:Or("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>Ys(n,"iphone")||Ys(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Or("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Or("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Or("linux"),versionRegexes:[]},{name:"Solaris",search:Or("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Or("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Or("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Lu={browsers:se(Yc),oses:se(Gp)},ks="Edge",Hd="Chromium",di="Opera",Xc="Firefox",Us="Safari",Ai=n=>{const r=n.current,i=n.version,l=d=>()=>r===d;return{current:r,version:i,isEdge:l(ks),isChromium:l(Hd),isIE:l("IE"),isOpera:l(di),isFirefox:l(Xc),isSafari:l(Us)}},Ti=()=>Ai({current:void 0,version:dl.unknown()}),$f=Ai,Am="Windows",fa="Android",$d="Linux",Ud="macOS",ul="Solaris",Tm="FreeBSD",Zd="ChromeOS",Rg=n=>{const r=n.current,i=n.version,l=d=>()=>r===d;return{current:r,version:i,isWindows:l(Am),isiOS:l("iOS"),isAndroid:l(fa),isMacOS:l(Ud),isLinux:l($d),isSolaris:l(ul),isFreeBSD:l(Tm),isChromeOS:l(Zd)}},Qc=()=>Rg({current:void 0,version:dl.unknown()}),Ga=Rg,j=n=>window.matchMedia(n).matches;let ce=xr(()=>((n,r,i)=>{const l=Lu.browsers(),d=Lu.oses(),m=r.bind(v=>((w,S)=>gn(S.brands,k=>{const A=k.brand.toLowerCase();return B(w,N=>A===N.brand?.toLowerCase()).map(N=>({current:N.name,version:dl.nu(parseInt(k.version,10),0)}))}))(l,v)).orThunk(()=>((v,w)=>Hf(v,w).map(S=>{const k=dl.detect(S.versionRegexes,w);return{current:S.name,version:k}}))(l,n)).fold(Ti,$f),p=((v,w)=>Hf(v,w).map(S=>{const k=dl.detect(S.versionRegexes,w);return{current:S.name,version:k}}))(d,n).fold(Qc,Ga),x=((v,w,S,k)=>{const A=v.isiOS()&&/ipad/i.test(S)===!0,N=v.isiOS()&&!A,I=v.isiOS()||v.isAndroid(),K=I||k("(pointer:coarse)"),Z=A||!N&&I&&k("(min-device-width:768px)"),q=N||I&&!Z,V=w.isSafari()&&v.isiOS()&&/safari/i.test(S)===!1,H=!q&&!Z&&!V;return{isiPad:se(A),isiPhone:se(N),isTablet:se(Z),isPhone:se(q),isTouch:se(K),isAndroid:v.isAndroid,isiOS:v.isiOS,isWebView:se(V),isDesktop:se(H)}})(p,m,n,i);return{browser:m,os:p,deviceType:x}})(window.navigator.userAgent,E.from(window.navigator.userAgentData),j));const Se=()=>ce(),rt=Object.getPrototypeOf,Bt=n=>{const r=Sm("ownerDocument.defaultView",n);return ve(n)&&((i=>((l,d)=>{const m=((p,x)=>Sm(p,x))(l,d);if(m==null)throw new Error(l+" not available on this browser");return m})("HTMLElement",i))(r).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(rt(n).constructor.name))},Wt=n=>n.dom.nodeName.toLowerCase(),nn=n=>r=>(i=>i.dom.nodeType)(r)===n,Yn=n=>Qo(n)&&Bt(n.dom),Qo=nn(1),P=nn(3),W=nn(9),le=nn(11),Ie=n=>r=>Qo(r)&&Wt(r)===n,jt=n=>Ft(n.dom.ownerDocument),fn=n=>W(n)?n:jt(n),is=n=>Ft(fn(n).dom.documentElement),Xr=n=>Ft(fn(n).dom.defaultView),Hn=n=>E.from(n.dom.parentNode).map(Ft),pa=n=>E.from(n.dom.parentElement).map(Ft),Ca=n=>E.from(n.dom.offsetParent).map(Ft),Zi=n=>E.from(n.dom.previousSibling).map(Ft),ur=n=>E.from(n.dom.nextSibling).map(Ft),ml=n=>Ee(n.dom.childNodes,Ft),Jc=(n,r)=>{const i=n.dom.childNodes;return E.from(i[r]).map(Ft)},ka=n=>Jc(n,0),Ll=(n,r)=>({element:n,offset:r}),Kp=(n,r)=>{const i=ml(n);return i.length>0&&r<i.length?Ll(i[r],0):Ll(n,r)},Uf=n=>le(n)&&ge(n.dom.host),Qr=n=>Ft(n.dom.getRootNode()),Ng=n=>Uf(n)?n:Ft(fn(n).dom.body),Dm=n=>{const r=Qr(n);return Uf(r)?E.some(r):E.none()},ed=n=>Ft(n.dom.host),yx=n=>{const r=Ft((m=>{if(ge(m.target)){const p=Ft(m.target);if(Qo(p)&&(x=>ge(x.dom.shadowRoot))(p)&&m.composed&&m.composedPath){const x=m.composedPath();if(x)return Et(x)}}return E.from(m.target)})(n).getOr(n.target)),i=()=>n.stopPropagation(),l=()=>n.preventDefault(),d=tt(l,i);return((m,p,x,v,w,S,k)=>({target:m,x:p,y:x,stop:v,prevent:w,kill:S,raw:k}))(r,n.clientX,n.clientY,i,l,d,n)},Sa=(n,r,i,l,d)=>{const m=((p,x)=>v=>{p(v)&&x(yx(v))})(i,l);return n.dom.addEventListener(r,m,d),{unbind:nt(Yp,n,r,m,d)}},Yp=(n,r,i,l)=>{n.dom.removeEventListener(r,i,l)},Fu=Ut,Fa=(n,r,i)=>((l,d,m,p)=>Sa(l,d,m,p,!1))(n,r,Fu,i),tb=(n,r,i)=>((l,d,m,p)=>Sa(l,d,m,p,!0))(n,r,Fu,i),td=yx,ob=()=>Ft(document),vr=(n,r=!1)=>n.dom.focus({preventScroll:r}),gl=n=>n.dom.blur(),jd=n=>{const r=Qr(n).dom;return n.dom===r.activeElement},od=(n=ob())=>E.from(n.dom.activeElement).map(Ft),za=n=>od(Qr(n)).filter(r=>n.dom.contains(r.dom)),Fl=(n,r)=>{Hn(n).each(i=>{i.dom.insertBefore(r.dom,n.dom)})},wx=(n,r)=>{ur(n).fold(()=>{Hn(n).each(i=>{Di(i,r)})},i=>{Fl(i,r)})},_x=(n,r)=>{ka(n).fold(()=>{Di(n,r)},i=>{n.dom.insertBefore(r.dom,i.dom)})},Di=(n,r)=>{n.dom.appendChild(r.dom)},ui=(n,r)=>{yt(r,i=>{Di(n,i)})},fl=(n,r,i)=>{if(!(xe(i)||dt(i)||St(i)))throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(r,i+"")},io=(n,r,i)=>{fl(n.dom,r,i)},U2=(n,r)=>{const i=n.dom;An(r,(l,d)=>{fl(i,d,l)})},Bo=(n,r)=>{const i=n.dom.getAttribute(r);return i===null?void 0:i},Jr=(n,r)=>E.from(Bo(n,r)),nb=(n,r)=>{const i=n.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(r)},Xs=(n,r)=>{n.dom.removeAttribute(r)},sb=n=>{n.dom.textContent="",yt(ml(n),r=>{Wd(r)})},Wd=n=>{const r=n.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Cx=(n,r)=>Ft(n.dom.cloneNode(r)),Om=n=>n.dom.innerHTML,Mg=(n,r)=>{const i=jt(n).dom,l=Ft(i.createDocumentFragment()),d=((m,p)=>{const x=(p||document).createElement("div");return x.innerHTML=m,ml(Ft(x))})(r,i);ui(l,d),sb(n),Di(n,l)},Bg=n=>new Promise((r,i)=>{const l=()=>{m(),r(n)},d=[Fa(n,"load",l),Fa(n,"error",()=>{m(),i("Unable to load data from image: "+n.dom.src)})],m=()=>yt(d,p=>p.unbind());n.dom.complete&&l()}),Zf=n=>n.style!==void 0&&Je(n.style.getPropertyValue),ct=n=>{const r=P(n)?n.dom.parentNode:n.dom;if(r==null||r.ownerDocument===null)return!1;const i=r.ownerDocument;return Dm(Ft(r)).fold(()=>i.body.contains(r),(l=ct,d=ed,m=>l(d(m))));var l,d},mr=()=>Z2(Ft(document)),Z2=n=>{const r=n.dom.body;if(r==null)throw new Error("Body is not available yet");return Ft(r)},kx=(n,r,i)=>{if(!xe(i))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);Zf(n)&&n.style.setProperty(r,i)},nd=(n,r)=>{Zf(n)&&n.style.removeProperty(r)},Ro=(n,r,i)=>{const l=n.dom;kx(l,r,i)},oe=(n,r)=>{const i=n.dom;An(r,(l,d)=>{kx(i,d,l)})},Rm=(n,r)=>{const i=n.dom;An(r,(l,d)=>{l.fold(()=>{nd(i,d)},m=>{kx(i,d,m)})})},Va=(n,r)=>{const i=n.dom,l=window.getComputedStyle(i).getPropertyValue(r);return l!==""||ct(n)?l:rb(i,r)},rb=(n,r)=>Zf(n)?n.style.getPropertyValue(r):"",gr=(n,r)=>{const i=n.dom,l=rb(i,r);return E.from(l).filter(d=>d.length>0)},zu=n=>{const r={},i=n.dom;if(Zf(i))for(let l=0;l<i.style.length;l++){const d=i.style.item(l);r[d]=i.style[d]}return r},sd=(n,r,i)=>{const l=Rs(n);return Ro(l,r,i),gr(l,r).isSome()},pn=(n,r)=>{const i=n.dom;nd(i,r),jn(Jr(n,"style").map(Bu),"")&&Xs(n,"style")},Xp=n=>n.dom.offsetWidth,Sx=(n,r)=>{const i=d=>{const m=r(d);if(m<=0||m===null){const p=Va(d,n);return parseFloat(p)||0}return m},l=(d,m)=>Yo(m,(p,x)=>{const v=Va(d,x),w=v===void 0?0:parseInt(v,10);return isNaN(w)?p:p+w},0);return{set:(d,m)=>{if(!St(m)&&!m.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+m);const p=d.dom;Zf(p)&&(p.style[n]=m+"px")},get:i,getOuter:i,aggregate:l,max:(d,m,p)=>{const x=l(d,p);return m>x?m-x:0}}},Pg=Sx("height",n=>{const r=n.dom;return ct(n)?r.getBoundingClientRect().height:r.offsetHeight}),Rr=n=>Pg.get(n),Vu=n=>Pg.getOuter(n),qd=n=>!(r=>r.offsetWidth<=0&&r.offsetHeight<=0)(n.dom),Ig=Sx("width",n=>{const r=n.dom;return ct(n)?r.getBoundingClientRect().width:r.offsetWidth}),Ln=n=>Ig.get(n),Gd=n=>Ig.getOuter(n),Lg=(n,r)=>({left:n,top:r,translate:(i,l)=>Lg(n+i,r+l)}),Ns=Lg,sn=(n,r)=>n!==void 0?n:r!==void 0?r:0,Nr=n=>{const r=n.dom.ownerDocument,i=r.body,l=r.defaultView,d=r.documentElement;if(i===n.dom)return Ns(i.offsetLeft,i.offsetTop);const m=sn(l?.pageYOffset,d.scrollTop),p=sn(l?.pageXOffset,d.scrollLeft),x=sn(d.clientTop,i.clientTop),v=sn(d.clientLeft,i.clientLeft);return Nm(n).translate(p-v,m-x)},Nm=n=>{const r=n.dom,i=r.ownerDocument.body;return i===r?Ns(i.offsetLeft,i.offsetTop):ct(n)?(l=>{const d=l.getBoundingClientRect();return Ns(d.left,d.top)})(r):Ns(0,0)},Oi=n=>{const r=n!==void 0?n.dom:document,i=r.body.scrollLeft||r.documentElement.scrollLeft,l=r.body.scrollTop||r.documentElement.scrollTop;return Ns(i,l)},jo=(n,r,i)=>{const l=(i!==void 0?i.dom:document).defaultView;l&&l.scrollTo(n,r)},Ex=(n=>{const r=i=>n(i)?E.from(i.dom.nodeValue):E.none();return{get:i=>{if(!n(i))throw new Error("Can only get text value of a text node");return r(i).getOr("")},getOption:r,set:(i,l)=>{if(!n(i))throw new Error("Can only set raw text value of a text node");i.dom.nodeValue=l}}})(P),Fg=(n,r)=>i=>Ax(i)==="rtl"?r:n,Ax=n=>Va(n,"direction")==="rtl"?"rtl":"ltr",Kd=(n,r)=>{const i=Bo(n,r);return i===void 0||i===""?[]:i.split(" ")};var fr=(n,r,i,l,d)=>n(i,l)?E.some(i):Je(d)&&d(i)?E.none():r(i,l,d);const Ka=(n,r,i)=>{let l=n.dom;const d=Je(i)?i:Me;for(;l.parentNode;){l=l.parentNode;const m=Ft(l);if(r(m))return E.some(m);if(d(m))break}return E.none()},j2=(n,r,i)=>fr((l,d)=>d(l),Ka,n,r,i),W2=(n,r)=>B(n.dom.childNodes,i=>r(Ft(i))).map(Ft),ea=(n,r,i)=>Ka(n,l=>ci(l,r),i),Tx=(n,r)=>(i=>{const l=i.dom;return l.parentNode?W2(Ft(l.parentNode),d=>!Xo(i,d)&&ci(d,r)):E.none()})(n),fc=(n,r)=>W2(n,i=>ci(i,r)),ls=(n,r)=>Vf(r,n),pl=(n,r,i)=>fr((l,d)=>ci(l,d),ea,n,r,i),ji=(n,r)=>{n.dom.checked=r},Mm=n=>n.dom.checked,Ya=n=>n.dom.classList!==void 0,jf=n=>Kd(n,"class"),zl=(n,r)=>((i,l,d)=>{const m=Kd(i,l).concat([d]);return io(i,l,m.join(" ")),!0})(n,"class",r),rd=(n,r)=>((i,l,d)=>{const m=Oo(Kd(i,l),p=>p!==d);return m.length>0?io(i,l,m.join(" ")):Xs(i,l),!1})(n,"class",r),Ss=(n,r)=>{Ya(n)?n.dom.classList.add(r):zl(n,r)},ab=n=>{(Ya(n)?n.dom.classList:jf(n)).length===0&&Xs(n,"class")},rn=(n,r)=>{Ya(n)?n.dom.classList.remove(r):rd(n,r),ab(n)},pr=(n,r)=>Ya(n)&&n.dom.classList.contains(r),Vl=(n,r)=>{yt(r,i=>{Ss(n,i)})},ta=(n,r)=>{yt(r,i=>{rn(n,i)})},Wf=n=>Ya(n)?(r=>{const i=r.dom.classList,l=new Array(i.length);for(let d=0;d<i.length;d++){const m=i.item(d);m!==null&&(l[d]=m)}return l})(n):jf(n),jr=n=>n.dom.value,Yd=(n,r)=>{if(r===void 0)throw new Error("Value.set was undefined");n.dom.value=r},Xd=(n,r,i)=>Oo(((l,d)=>{const m=Je(d)?d:Me;let p=l.dom;const x=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const v=p.parentNode,w=Ft(v);if(x.push(w),m(w)===!0)break;p=v}return x})(n,i),r),oa=(n,r)=>((i,l)=>{const d=l===void 0?document:l.dom;return zf(d)?[]:Ee(d.querySelectorAll(i),Ft)})(r,n),Qp=(n,r,i)=>j2(n,r,i).isSome(),Jp=(n,r,i)=>pl(n,r,i).isSome(),Dx=n=>Je(n)?n:Me,eh=(n,r,i)=>{let l=n.dom;const d=Dx(i);for(;l.parentNode;){l=l.parentNode;const m=Ft(l),p=r(m);if(p.isSome())return p;if(d(m))break}return E.none()},th=(n,r,i)=>{const l=r(n),d=Dx(i);return l.orThunk(()=>d(n)?E.none():eh(n,r,d))},ib=(n,r,i,l)=>({start:n,soffset:r,finish:i,foffset:l}),lb=qs([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),cb=(lb.before,lb.on,lb.after,n=>n.fold(We,We,We)),db=qs([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ad={domRange:db.domRange,relative:db.relative,exact:db.exact,exactFromRange:n=>db.exact(n.start,n.soffset,n.finish,n.foffset),getWin:n=>{const r=(i=>i.match({domRange:l=>Ft(l.startContainer),relative:(l,d)=>cb(l),exact:(l,d,m,p)=>l}))(n);return Xr(r)},range:ib},ub=n=>{if(n.rangeCount>0){const r=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return E.some(ib(Ft(r.startContainer),r.startOffset,Ft(i.endContainer),i.endOffset))}return E.none()},q2=n=>{if(n.anchorNode===null||n.focusNode===null)return ub(n);{const r=Ft(n.anchorNode),i=Ft(n.focusNode);return((l,d,m,p)=>{const x=((w,S,k,A)=>{const N=jt(w).dom.createRange();return N.setStart(w.dom,S),N.setEnd(k.dom,A),N})(l,d,m,p),v=Xo(l,m)&&d===p;return x.collapsed&&!v})(r,n.anchorOffset,i,n.focusOffset)?E.some(ib(r,n.anchorOffset,i,n.focusOffset)):ub(n)}},oh=(n,r)=>(i=>{const l=i.getClientRects(),d=l.length>0?l[0]:i.getBoundingClientRect();return d.width>0||d.height>0?E.some(d).map(Tg):E.none()})(Ff(n,r)),Ha={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},zg=(()=>{const n="[0-9]+",r="[eE][+-]?"+n,i=d=>`(?:${d})?`,l=["Infinity",n+"\\."+i(n)+i(r),"\\."+n+i(r),n+i(r)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),pc=(n,r)=>E.from(zg.exec(n)).bind(i=>{const l=Number(i[1]),d=i[2];return((m,p)=>En(p,x=>En(Ha[x],v=>m===v)))(d,r)?E.some({value:l,unit:d}):E.none()}),Qd=(n,r,i,l)=>({x:n,y:r,width:i,height:l,right:n+i,bottom:r+l}),mb=n=>{const r=n===void 0?window:n,i=r.document,l=Oi(Ft(i));return(d=>{const m=d===void 0?window:d;return Se().browser.isFirefox()?E.none():E.from(m.visualViewport)})(r).fold(()=>{const d=r.document.documentElement,m=d.clientWidth,p=d.clientHeight;return Qd(l.left,l.top,m,p)},d=>Qd(Math.max(d.pageLeft,l.left),Math.max(d.pageTop,l.top),d.width,d.height))},na=(n,r)=>n.view(r).fold(se([]),i=>{const l=n.owner(i),d=na(n,l);return[i].concat(d)});var Hl=Object.freeze({__proto__:null,view:n=>(n.dom===document?E.none():E.from(n.dom.defaultView?.frameElement)).map(Ft),owner:n=>jt(n)});const hc=n=>{const r=ob(),i=Oi(r);return((d,m)=>{const p=m.owner(d),x=na(m,p);return E.some(x)})(n,Hl).fold(nt(Nr,n),d=>{const m=Nm(n),p=Do(d,(x,v)=>{const w=Nm(v);return{left:x.left+w.left,top:x.top+w.top}},{left:0,top:0});return Ns(p.left+m.left+i.left,p.top+m.top+i.top)})},dn=(n,r,i,l)=>({x:n,y:r,width:i,height:l,right:n+i,bottom:r+l}),yr=n=>{const r=Nr(n),i=Gd(n),l=Vu(n);return dn(r.left,r.top,i,l)},Hu=n=>{const r=hc(n),i=Gd(n),l=Vu(n);return dn(r.left,r.top,i,l)},nh=(n,r)=>{const i=Math.max(n.x,r.x),l=Math.max(n.y,r.y),d=Math.min(n.right,r.right),m=Math.min(n.bottom,r.bottom);return dn(i,l,d-i,m-l)},Qs=()=>mb(window),gb=(n,r)=>Xo(n.element,r.event.target),Wr=n=>(jn(gr(n,"position"),"fixed")?E.none():Ca(n)).orThunk(()=>{const r=Rs("span");return Hn(n).bind(i=>{Di(i,r);const l=Ca(r);return Wd(r),l})}),Ri=n=>Wr(n).map(Nr).getOrThunk(()=>Ns(0,0));var or;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(or||(or={}));const bc=(n,r,i)=>n.stype===or.Error?r(n.serror):i(n.svalue),Bm=n=>({stype:or.Value,svalue:n}),Mr=n=>({stype:or.Error,serror:n}),$u=Bm,xc=Mr,Uu=bc,cs=n=>ve(n)&&Zo(n).length>100?" removed due to size":JSON.stringify(n,null,2),Ni=(n,r)=>xc([{path:n,getErrorInfo:r}]),Pm=n=>({extract:(r,i)=>((l,d)=>l.stype===or.Error?d(l.serror):l)(n(i),l=>((d,m)=>Ni(d,se(m)))(r,l)),toString:se("val")}),id=Pm($u),Mi=se(id),fb=(n,r)=>Pm(i=>{const l=typeof i;return n(i)?$u(i):xc(`Expected type: ${r} but got: ${l}`)}),Vg=fb(St,"number"),wr=fb(xe,"string"),hl=fb(dt,"boolean"),qf=fb(Je,"function"),Im=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(r=>Im(n[r]));default:return!1}},G2=Pm(n=>Im(n)?$u(n):xc("Expected value to be acceptable for sending via postMessage")),Lm=n=>({tag:"defaultedThunk",process:n}),Jd=n=>Lm(se(n)),pb=n=>({tag:"mergeWithThunk",process:n}),Ox=(n,r,i,l)=>({tag:"field",key:n,newKey:r,presence:i,prop:l}),Hg=(n,r,i)=>{switch(n.tag){case"field":return r(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},Gf=n=>{const r=(l=>{const d=[],m=[];return yt(l,p=>{bc(p,x=>m.push(x),x=>d.push(x))}),{values:d,errors:m}})(n);return r.errors.length>0?(i=r.errors,tt(xc,Os)(i)):$u(r.values);var i},Wi=(n,r,i,l)=>l(no(n,r).getOrThunk(()=>i(n))),K2=(n,r,i,l,d)=>{const m=x=>d.extract(r.concat([l]),x),p=x=>x.fold(()=>$u(E.none()),v=>((w,S)=>w.stype===or.Value?{stype:or.Value,svalue:S(w.svalue)}:w)(d.extract(r.concat([l]),v),E.some));switch(n.tag){case"required":return((x,v,w,S)=>no(v,w).fold(()=>((k,A,N)=>Ni(k,()=>'Could not find valid *required* value for "'+A+'" in '+cs(N)))(x,w,v),S))(r,i,l,m);case"defaultedThunk":return Wi(i,l,n.process,m);case"option":return((x,v,w)=>w(no(x,v)))(i,l,p);case"defaultedOptionThunk":return((x,v,w,S)=>S(no(x,v).map(k=>k===!0?w(x):k)))(i,l,n.process,p);case"mergeWithThunk":return Wi(i,l,se({}),x=>{const v=Cs(n.process(i),x);return m(v)})}},Fm=n=>({extract:(r,i)=>n().extract(r,i),toString:()=>n().toString()}),zm=n=>Zo(La(n,ge)),mi=n=>{const r=go(n),i=Do(n,(l,d)=>Hg(d,m=>Cs(l,{[m]:!0}),se(l)),{});return{extract:(l,d)=>{const m=dt(d)?[]:zm(d),p=Oo(m,x=>!Kn(i,x));return p.length===0?r.extract(l,d):((x,v)=>Ni(x,()=>"There are unsupported fields: ["+v.join(", ")+"] specified"))(l,p)},toString:r.toString}},go=n=>({extract:(r,i)=>((l,d,m)=>{const p={},x=[];for(const v of m)Hg(v,(w,S,k,A)=>{const N=K2(k,l,d,w,A);Uu(N,I=>{x.push(...I)},I=>{p[S]=I})},(w,S)=>{p[w]=S(d)});return x.length>0?xc(x):$u(p)})(r,i,n),toString:()=>`obj{
`+Ee(n,i=>Hg(i,(l,d,m,p)=>l+" -> "+p.toString(),(l,d)=>"state("+l+")")).join(`
`)+"}"}),Vm=n=>({extract:(r,i)=>{const l=Ee(i,(d,m)=>n.extract(r.concat(["["+m+"]"]),d));return Gf(l)},toString:()=>"array("+n.toString()+")"}),sh=(n,r)=>{const i=r!==void 0?r:We;return{extract:(l,d)=>{const m=[];for(const p of n){const x=p.extract(l,d);if(x.stype===or.Value)return{stype:or.Value,svalue:i(x.svalue)};m.push(x)}return Gf(m)},toString:()=>"oneOf("+Ee(n,l=>l.toString()).join(", ")+")"}},Y2=(n,r)=>({extract:(i,l)=>{const d=Zo(l),m=((p,x)=>Vm(Pm(n)).extract(p,x))(i,d);return((p,x)=>p.stype===or.Value?x(p.svalue):p)(m,p=>{const x=Ee(p,v=>Ox(v,v,{tag:"required",process:{}},r));return go(x).extract(i,l)})},toString:()=>"setOf("+r.toString()+")"}),rh=tt(Vm,go),ld=(n,r)=>({extract:(i,l)=>no(l,n).fold(()=>((d,m)=>Ni(d,()=>'Choice schema did not contain choice key: "'+m+'"'))(i,n),d=>((m,p,x,v)=>no(x,v).fold(()=>((w,S,k)=>Ni(w,()=>'The chosen schema: "'+k+'" did not exist in branches: '+cs(S)))(m,x,v),w=>w.extract(m.concat(["branch: "+v]),p)))(i,l,r,d)),toString:()=>"chooseOn("+n+"). Possible values: "+Zo(r)}),ah=n=>Pm(r=>n(r).fold(xc,$u)),ih=(n,r)=>Y2(i=>n(i).fold(Mr,Bm),r),Ms=(n,r,i)=>{return l=((d,m,p)=>((x,v)=>x.stype===or.Error?{stype:or.Error,serror:v(x.serror)}:x)(m.extract([d],p),x=>({input:p,errors:x})))(n,r,i),bc(l,Jo.error,Jo.value);var l},Bi=n=>n.fold(r=>{throw new Error(Zu(r))},We),$a=(n,r,i)=>Bi(Ms(n,r,i)),Zu=n=>`Errors: 
`+(r=>{const i=r.length>10?r.slice(0,10).concat([{path:[],getErrorInfo:se("... (only showing first ten failures)")}]):r;return Ee(i,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(n.errors).join(`
`)+`

Input object: `+cs(n.input),Xa=(n,r)=>ld(n,Is(r,go)),lh=(n,r)=>((i,l)=>{const d=xr(l);return{extract:(m,p)=>d().extract(m,p),toString:()=>d().toString()}})(0,r),_r=Ox,Ea=(n,r)=>({tag:"custom",newKey:n,instantiator:r}),cd=n=>ah(r=>pt(n,r)?Jo.value(r):Jo.error(`Unsupported value: "${r}", choose one of "${n.join(", ")}".`)),ft=n=>_r(n,n,{tag:"required",process:{}},Mi()),Pi=(n,r)=>_r(n,n,{tag:"required",process:{}},r),Hm=n=>Pi(n,Vg),Br=n=>Pi(n,wr),vc=(n,r)=>_r(n,n,{tag:"required",process:{}},cd(r)),bl=n=>Pi(n,qf),Qa=(n,r)=>_r(n,n,{tag:"required",process:{}},go(r)),Ii=(n,r)=>_r(n,n,{tag:"required",process:{}},rh(r)),Ja=(n,r)=>_r(n,n,{tag:"required",process:{}},Vm(r)),Mn=n=>_r(n,n,{tag:"option",process:{}},Mi()),Li=(n,r)=>_r(n,n,{tag:"option",process:{}},r),Js=n=>Li(n,Vg),Zs=n=>Li(n,wr),dd=(n,r)=>Li(n,cd(r)),Pr=n=>Li(n,qf),$m=(n,r)=>Li(n,Vm(r)),gi=(n,r)=>Li(n,go(r)),Pe=(n,r)=>_r(n,n,Jd(r),Mi()),$l=(n,r,i)=>_r(n,n,Jd(r),i),Ul=(n,r)=>$l(n,r,Vg),Es=(n,r)=>$l(n,r,wr),Fi=(n,r,i)=>$l(n,r,cd(i)),Aa=(n,r)=>$l(n,r,hl),ds=(n,r)=>$l(n,r,qf),ju=(n,r,i)=>$l(n,r,Vm(i)),hb=(n,r,i)=>$l(n,r,go(i)),$g=(n,r)=>((i,l)=>({[i]:l}))(n,r),qi=n=>(r=>{const i={};return yt(r,l=>{i[l.key]=l.value}),i})(n),ha=se,Zl=ha("touchstart"),Kf=ha("touchmove"),Um=ha("touchend"),Gi=ha("touchcancel"),Ki=ha("mousedown"),qr=ha("mousemove"),eu=ha("mouseout"),bb=ha("mouseup"),ei=ha("mouseover"),jl=ha("focusin"),Rx=ha("focusout"),yc=ha("keydown"),BC=ha("keyup"),ud=ha("input"),Zm=ha("change"),jm=ha("click"),X2=ha("transitioncancel"),Yf=ha("transitionend"),PC=ha("transitionstart"),Nx=ha("selectstart"),er=n=>se("alloy."+n),xb={tap:er("tap")},Wl=er("focus"),Wu=er("blur.post"),Mx=er("paste.post"),Wm=er("receive"),Yi=er("execute"),fi=er("focus.item"),qu=xb.tap,Q2=er("longpress"),ch=er("sandbox.close"),Bx=er("typeahead.cancel"),vb=er("system.init"),J2=er("system.touchmove"),ey=er("system.touchend"),yb=er("system.scroll"),ql=er("system.resize"),wc=er("system.attached"),tu=er("system.detached"),Ug=er("system.dismissRequested"),ty=er("system.repositionRequested"),Zg=er("focusmanager.shifted"),wb=er("slotcontainer.visibility"),dh=er("system.external.element.scroll"),_b=er("change.tab"),Cb=er("dismiss.tab"),Px=er("highlight"),Ix=er("dehighlight"),Gl=n=>(r=>{if(Uf(r))return"#shadow-root";{const i=(l=>Cx(l,!1))(r);return(l=>{const d=Rs("div"),m=Ft(l.dom.cloneNode(!0));return Di(d,m),Om(d)})(i)}})(n);var md;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(md||(md={}));const rr=Ot({}),oy=["alloy/data/Fields","alloy/debugging/Debugging"],qm=(n,r,i)=>((l,d,m)=>{switch(no(rr.get(),l).orThunk(()=>{const p=Zo(rr.get());return gn(p,x=>l.indexOf(x)>-1?E.some(rr.get()[x]):E.none())}).getOr(md.NORMAL)){case md.NORMAL:return m(Lx());case md.LOGGING:{const p=((v,w)=>{const S=[],k=new Date().getTime();return{logEventCut:(A,N,I)=>{S.push({outcome:"cut",target:N,purpose:I})},logEventStopped:(A,N,I)=>{S.push({outcome:"stopped",target:N,purpose:I})},logNoParent:(A,N,I)=>{S.push({outcome:"no-parent",target:N,purpose:I})},logEventNoHandlers:(A,N)=>{S.push({outcome:"no-handlers-left",target:N})},logEventResponse:(A,N,I)=>{S.push({outcome:"response",purpose:I,target:N})},write:()=>{const A=new Date().getTime();pt(["mousemove","mouseover","mouseout",vb()],v)||console.log(v,{event:v,time:A-k,target:w.dom,sequence:Ee(S,N=>pt(["cut","stopped","response"],N.outcome)?"{"+N.purpose+"} "+N.outcome+" at ("+Gl(N.target)+")":N.outcome)})}}})(l,d),x=m(p);return p.write(),x}case md.STOP:return!0}})(n,r,i),Lx=se({logEventCut:we,logEventStopped:we,logNoParent:we,logEventNoHandlers:we,logEventResponse:we,write:we}),kb=se([ft("menu"),ft("selectedMenu")]),uh=se([ft("item"),ft("selectedItem")]);se(go(uh().concat(kb())));const ny=se(go(uh())),sy=Qa("initSize",[ft("numColumns"),ft("numRows")]),Gu=()=>Qa("markers",[ft("backgroundMenu")].concat(kb()).concat(uh())),_c=n=>Qa("markers",Ee(n,ft)),qt=(n,r,i)=>((()=>{const l=new Error;if(l.stack!==void 0){const d=l.stack.split(`
`);B(d,m=>m.indexOf("alloy")>0&&!En(oy,p=>m.indexOf(p)>-1)).getOr("unknown")}})(),_r(r,r,i,ah(l=>Jo.value((...d)=>l.apply(void 0,d))))),$o=n=>qt(0,n,Jd(we)),zi=n=>qt(0,n,Jd(E.none)),Cc=n=>qt(0,n,{tag:"required",process:{}}),xl=n=>qt(0,n,{tag:"required",process:{}}),ns=(n,r)=>Ea(n,se(r)),ry=n=>Ea(n,We),Gm=se(sy),jg=n=>Ee(n,r=>zd(r,"/*")?r.substring(0,r.length-2):r),kc=(n,r)=>{const i=n.toString(),l=i.indexOf(")")+1,d=i.indexOf("("),m=i.substring(d+1,l-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:r,parameters:jg(m)}),n},Sb=(n,r)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...l)=>{i=setTimeout(()=>{n.apply(null,l),i=null},r)}}},mh=n=>{const r=n.raw;return r.touches===void 0||r.touches.length!==1?E.none():E.some(r.touches[0])};var ht;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(ht||(ht={}));const Fx="placeholder",gh=qs([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),gd=n=>cn(n,"uiType"),Wg=(n,r,i,l)=>((d,m,p,x)=>gd(p)&&p.uiType===Fx?((v,w,S,k)=>v.exists(A=>A!==S.owner)?gh.single(!0,se(S)):no(k,S.name).fold(()=>{throw new Error("Unknown placeholder component: "+S.name+`
Known: [`+Zo(k)+`]
Namespace: `+v.getOr("none")+`
Spec: `+JSON.stringify(S,null,2))},A=>A.replace()))(d,0,p,x):gh.single(!1,se(p)))(n,0,i,l).fold((d,m)=>{const p=gd(i)?m(r,i.config,i.validated):m(r),x=no(p,"components").getOr([]),v=Uo(x,w=>Wg(n,r,w,l));return[{...p,components:v}]},(d,m)=>{if(gd(i)){const p=m(r,i.config,i.validated);return i.validated.preprocess.getOr(We)(p)}return m(r)}),fh=gh.single,Ls=gh.multiple,Eb=se(Fx),ph=qs([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),pi=Pe("factory",{sketch:We}),Xn=Pe("schema",[]),qg=ft("name"),Gg=_r("pname","pname",Lm(n=>"<alloy."+De(n.name)+">"),Mi()),Ab=Ea("schema",()=>[Mn("preprocess")]),Ta=Pe("defaults",se({})),hi=Pe("overrides",se({})),IC=go([pi,Xn,qg,Gg,Ta,hi]),zx=go([pi,Xn,qg,Ta,hi]),LC=go([pi,Xn,qg,Gg,Ta,hi]),ay=go([pi,Ab,qg,ft("unit"),Gg,Ta,hi]),Tb=n=>n.fold(E.some,E.none,E.some,E.some),Vx=n=>{const r=i=>i.name;return n.fold(r,r,r,r)},Db=(n,r)=>i=>{const l=$a("Converting part type",r,i);return n(l)},bi=Db(ph.required,IC),Kl=Db(ph.external,zx),Sc=Db(ph.optional,LC),Ob=Db(ph.group,ay),Hx=se("entirety");var FC=Object.freeze({__proto__:null,required:bi,external:Kl,optional:Sc,group:Ob,asNamedPart:Tb,name:Vx,asCommon:n=>n.fold(We,We,We,We),original:Hx});const hh=(n,r,i,l)=>Cs(r.defaults(n,i,l),i,{uid:n.partUids[r.name]},r.overrides(n,i,l)),fd=(n,r)=>{const i={};return yt(r,l=>{Tb(l).each(d=>{const m=ti(n,d.pname);i[d.name]=p=>{const x=$a("Part: "+d.name+" in "+n,go(d.schema),p);return{...m,config:p,validated:x}}})}),i},ti=(n,r)=>({uiType:Eb(),owner:n,name:r}),Rb=(n,r,i)=>({uiType:Eb(),owner:n,name:r,config:i,validated:{}}),Xf=n=>Uo(n,r=>r.fold(E.none,E.some,E.none,E.none).map(i=>Qa(i.name,i.schema.concat([ry(Hx())]))).toArray()),Km=n=>Ee(n,Vx),bh=(n,r,i)=>((l,d,m)=>{const p={},x={};return yt(m,v=>{v.fold(w=>{p[w.pname]=fh(!0,(S,k,A)=>w.factory.sketch(hh(S,w,k,A)))},w=>{const S=d.parts[w.name];x[w.name]=se(w.factory.sketch(hh(d,w,S[Hx()]),S))},w=>{p[w.pname]=fh(!1,(S,k,A)=>w.factory.sketch(hh(S,w,k,A)))},w=>{p[w.pname]=Ls(!0,(S,k,A)=>{const N=S[w.name];return Ee(N,I=>w.factory.sketch(Cs(w.defaults(S,I,A),I,w.overrides(S,I))))})})}),{internals:se(p),externals:se(x)}})(0,r,i),Nb=(n,r,i)=>((l,d,m,p)=>{const x=Is(p,(w,S)=>((k,A)=>{let N=!1;return{name:se(k),required:()=>A.fold((I,K)=>I,(I,K)=>I),used:()=>N,replace:()=>{if(N)throw new Error("Trying to use the same placeholder more than once: "+k);return N=!0,A}}})(S,w)),v=((w,S,k,A)=>Uo(k,N=>Wg(w,S,N,A)))(l,d,m,x);return An(x,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(d.components,null,2))}),v})(E.some(n),r,r.components,i),fs=(n,r,i)=>{const l=r.partUids[i];return n.getSystem().getByUid(l).toOptional()},Ym=(n,r,i)=>fs(n,r,i).getOrDie("Could not find part: "+i),Kg=(n,r,i)=>{const l={},d=r.partUids,m=n.getSystem();return yt(i,p=>{l[p]=se(m.getByUid(d[p]))}),l},$x=(n,r)=>{const i=n.getSystem();return Is(r.partUids,(l,d)=>se(i.getByUid(l)))},xh=n=>Zo(n.partUids),vh=(n,r,i)=>{const l={},d=r.partUids,m=n.getSystem();return yt(i,p=>{l[p]=se(m.getByUid(d[p]).getOrDie())}),l},Mb=(n,r)=>{const i=Km(r);return qi(Ee(i,l=>({key:l,value:n+"-"+l})))},Bb=n=>_r("partUids","partUids",pb(r=>Mb(r.uid,n)),Mi());var iy=Object.freeze({__proto__:null,generate:fd,generateOne:Rb,schemas:Xf,names:Km,substitutes:bh,components:Nb,defaultUids:Mb,defaultUidsSchema:Bb,getAllParts:$x,getAllPartNames:xh,getPart:fs,getPartOrDie:Ym,getParts:Kg,getPartsOrDie:vh});const Ux=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Xi=(n,r,i,l=1)=>{const d=n*l,m=r*l,p=v=>no(i,v).getOr([]),x=(v,w,S)=>{const k=Wo(Ux,S);return{offset:Ns(v,w),classesOn:Uo(S,p),classesOff:Uo(k,p)}};return{southeast:()=>x(-n,r,["top","alignLeft"]),southwest:()=>x(n,r,["top","alignRight"]),south:()=>x(-n/2,r,["top","alignCentre"]),northeast:()=>x(-n,-r,["bottom","alignLeft"]),northwest:()=>x(n,-r,["bottom","alignRight"]),north:()=>x(-n/2,-r,["bottom","alignCentre"]),east:()=>x(n,-r/2,["valignCentre","left"]),west:()=>x(-n,-r/2,["valignCentre","right"]),insetNortheast:()=>x(d,m,["top","alignLeft","inset"]),insetNorthwest:()=>x(-d,m,["top","alignRight","inset"]),insetNorth:()=>x(-d/2,m,["top","alignCentre","inset"]),insetSoutheast:()=>x(d,-m,["bottom","alignLeft","inset"]),insetSouthwest:()=>x(-d,-m,["bottom","alignRight","inset"]),insetSouth:()=>x(-d/2,-m,["bottom","alignCentre","inset"]),insetEast:()=>x(-d,-m/2,["valignCentre","right","inset"]),insetWest:()=>x(d,-m/2,["valignCentre","left","inset"])}},Qf=()=>Xi(0,0,{}),Da=(n,r,i,l,d,m,p,x=!1)=>({x:n,y:r,bubble:i,direction:l,placement:d,restriction:m,label:`${p}-${d}`,alwaysFit:x}),Xm=qs([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Jf=Xm.southeast,yh=Xm.southwest,wh=Xm.northeast,Ku=Xm.northwest,ly=Xm.south,Pb=Xm.north,cy=Xm.east,Zx=Xm.west,Oa=(n,r)=>In(["left","right","top","bottom"],i=>no(r,i).map(l=>((d,m)=>{switch(m){case 1:return d.x;case 0:return d.x+d.width;case 2:return d.y;case 3:return d.y+d.height}})(n,l))),Yu="layout",dy=n=>n.x,uy=(n,r)=>n.x+n.width/2-r.width/2,jx=(n,r)=>n.x+n.width-r.width,my=(n,r)=>n.y-r.height,Ib=n=>n.y+n.height,gy=(n,r)=>n.y+n.height/2-r.height/2,Cr=(n,r,i)=>Da(dy(n),Ib(n),i.southeast(),Jf(),"southeast",Oa(n,{left:1,top:3}),Yu),Ir=(n,r,i)=>Da(jx(n,r),Ib(n),i.southwest(),yh(),"southwest",Oa(n,{right:0,top:3}),Yu),ba=(n,r,i)=>Da(dy(n),my(n,r),i.northeast(),wh(),"northeast",Oa(n,{left:1,bottom:2}),Yu),Ra=(n,r,i)=>Da(jx(n,r),my(n,r),i.northwest(),Ku(),"northwest",Oa(n,{right:0,bottom:2}),Yu),sa=(n,r,i)=>Da(uy(n,r),my(n,r),i.north(),Pb(),"north",Oa(n,{bottom:2}),Yu),Lr=(n,r,i)=>Da(uy(n,r),Ib(n),i.south(),ly(),"south",Oa(n,{top:3}),Yu),ep=(n,r,i)=>Da((l=>l.x+l.width)(n),gy(n,r),i.east(),cy(),"east",Oa(n,{left:0}),Yu),Lb=(n,r,i)=>Da(((l,d)=>l.x-d.width)(n,r),gy(n,r),i.west(),Zx(),"west",Oa(n,{right:1}),Yu),tp=()=>[Cr,Ir,ba,Ra,Lr,sa,ep,Lb],_h=()=>[Ir,Cr,Ra,ba,Lr,sa,ep,Lb],Fb=()=>[ba,Ra,Cr,Ir,sa,Lr],Ch=()=>[Ra,ba,Ir,Cr,sa,Lr],Wx=()=>[Cr,Ir,ba,Ra,Lr,sa],ou=()=>[Ir,Cr,Ra,ba,Lr,sa],vl="data-alloy-placement",Qm=n=>Jr(n,vl),Xu="layout-inset",kh=n=>n.x,qx=(n,r)=>n.x+n.width/2-r.width/2,Gx=(n,r)=>n.x+n.width-r.width,Sh=n=>n.y,Eh=(n,r)=>n.y+n.height-r.height,zb=(n,r)=>n.y+n.height/2-r.height/2,Ah=(n,r,i)=>Da(Gx(n,r),Eh(n,r),i.insetSouthwest(),Ku(),"southwest",Oa(n,{right:0,bottom:3}),Xu),pd=(n,r,i)=>Da(kh(n),Eh(n,r),i.insetSoutheast(),wh(),"southeast",Oa(n,{left:1,bottom:3}),Xu),Fr=(n,r,i)=>Da(Gx(n,r),Sh(n),i.insetNorthwest(),yh(),"northwest",Oa(n,{right:0,top:2}),Xu),Jm=(n,r,i)=>Da(kh(n),Sh(n),i.insetNortheast(),Jf(),"northeast",Oa(n,{left:1,top:2}),Xu),Yl=(n,r,i)=>Da(qx(n,r),Sh(n),i.insetNorth(),ly(),"north",Oa(n,{top:2}),Xu),Th=(n,r,i)=>Da(qx(n,r),Eh(n,r),i.insetSouth(),Pb(),"south",Oa(n,{bottom:3}),Xu),Vb=(n,r,i)=>Da(Gx(n,r),zb(n,r),i.insetEast(),Zx(),"east",Oa(n,{right:0}),Xu),Hb=(n,r,i)=>Da(kh(n),zb(n,r),i.insetWest(),cy(),"west",Oa(n,{left:1}),Xu),fy=n=>{switch(n){case"north":return Yl;case"northeast":return Jm;case"northwest":return Fr;case"south":return Th;case"southeast":return pd;case"southwest":return Ah;case"east":return Vb;case"west":return Hb}},$b=(n,r,i,l,d)=>Qm(l).map(fy).getOr(Yl)(n,r,i,l,d),zC=n=>{switch(n){case"north":return Th;case"northeast":return pd;case"northwest":return Ah;case"south":return Yl;case"southeast":return Jm;case"southwest":return Fr;case"east":return Hb;case"west":return Vb}},py=(n,r,i,l,d)=>Qm(l).map(zC).getOr(Yl)(n,r,i,l,d),eg=(n,r)=>{((i,l)=>{const d=Pg.max(i,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Ro(i,"max-height",d+"px")})(n,Math.floor(r))},Kx=se((n,r)=>{eg(n,r),oe(n,{"overflow-x":"hidden","overflow-y":"auto"})}),Qu=se((n,r)=>{eg(n,r)}),Ub=se((n,r)=>{((i,l)=>{const d=Ig.max(i,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Ro(i,"max-width",d+"px")})(n,Math.floor(r))});var nu;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(nu||(nu={}));const Dh="data-alloy-vertical-dir",hy=n=>Qp(n,r=>Qo(r)&&Bo(r,"data-alloy-vertical-dir")===nu.BottomToTop);var Na;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(Na||(Na={}));const xi={init:()=>ar({readState:se("No State required")})},ar=n=>n,Yg={can:Ut,abort:Me,run:we},hd=n=>{if(!Kn(n,"can")&&!Kn(n,"abort")&&!Kn(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...Yg,...n}},an=(n,r)=>{Yx(n,n.element,r,{})},oo=(n,r,i)=>{Yx(n,n.element,r,i)},Xg=n=>{an(n,Yi())},su=(n,r,i)=>{Yx(n,r,i,{})},Yx=(n,r,i,l)=>{const d={target:r,...l};n.getSystem().triggerEvent(i,r,d)},Oh=(n,r,i,l)=>{n.getSystem().triggerEvent(i,r,l.event)},Wn=n=>qi(n),tg=(n,r)=>({key:n,value:hd({abort:r})}),Rh=n=>({key:n,value:hd({run:(r,i)=>{i.event.prevent()}})}),et=(n,r)=>({key:n,value:hd({run:r})}),Zb=(n,r,i)=>({key:n,value:hd({run:(l,d)=>{r.apply(void 0,[l,d].concat(i))}})}),op=n=>r=>({key:n,value:hd({run:(i,l)=>{gb(i,l)&&r(i,l)}})}),np=(n,r,i)=>((l,d)=>et(l,(m,p)=>{m.getSystem().getByUid(d).each(x=>{Oh(x,x.element,l,p)})}))(n,r.partUids[i]),jb=(n,r)=>et(n,(i,l)=>{const d=l.event,m=i.getSystem().getByDom(d.target).getOrThunk(()=>th(d.target,p=>i.getSystem().getByDom(p).toOptional(),Me).getOr(i));r(i,m,l)}),Ju=n=>et(n,(r,i)=>{i.cut()}),Qg=n=>et(n,(r,i)=>{i.stop()}),bd=(n,r)=>op(n)(r),us=op(wc()),Ec=op(tu()),by=op(vb()),ru=(n=>r=>et(n,r))(Yi()),Ac=n=>({classes:st(n.classes)?[]:n.classes,attributes:st(n.attributes)?{}:n.attributes,styles:st(n.styles)?{}:n.styles}),sp=(n,r,i)=>by((l,d)=>{i(l,n,r)}),VC=n=>({key:n,value:void 0}),xy=(n,r,i,l,d,m,p)=>{const x=S=>Kn(S,i)?S[i]():E.none(),v=Is(d,(S,k)=>((A,N,I)=>((K,Z,q)=>{const V=q.toString(),H=V.indexOf(")")+1,Y=V.indexOf("("),J=V.substring(Y+1,H-1).split(/,\s*/);return K.toFunctionAnnotation=()=>({name:Z,parameters:jg(J.slice(0,1).concat(J.slice(3)))}),K})((K,...Z)=>{const q=[K].concat(Z);return K.config({name:se(A)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+A+". Using API: "+I)},V=>{const H=Array.prototype.slice.call(q,1);return N.apply(void 0,[K,V.config,V.state].concat(H))})},I,N))(i,S,k)),w={...Is(m,(S,k)=>kc(S,k)),...v,revoke:nt(VC,i),config:S=>{const k=$a(i+"-config",n,S);return{key:i,value:{config:k,me:w,configAsRaw:xr(()=>$a(i+"-config",n,S)),initialConfig:S,state:p}}},schema:se(r),exhibit:(S,k)=>Ml(x(S),no(l,"exhibit"),(A,N)=>N(k,A.config,A.state)).getOrThunk(()=>Ac({})),name:se(i),handlers:S=>x(S).map(k=>no(l,"events").getOr(()=>({}))(k.config,k.state)).getOr({})};return w},vt=n=>qi(n),Wb=mi([ft("fields"),ft("name"),Pe("active",{}),Pe("apis",{}),Pe("state",xi),Pe("extra",{})]),xa=n=>{const r=$a("Creating behaviour: "+n.name,Wb,n);return((i,l,d,m,p,x)=>{const v=mi(i),w=gi(l,[(S=i,Li("config",mi(S)))]);var S;return xy(v,w,l,d,m,p,x)})(r.fields,r.name,r.active,r.apis,r.extra,r.state)},Nh=mi([ft("branchKey"),ft("branches"),ft("name"),Pe("active",{}),Pe("apis",{}),Pe("state",xi),Pe("extra",{})]),Xx=n=>{const r=$a("Creating behaviour: "+n.name,Nh,n);return((i,l,d,m,p,x)=>{const v=i,w=gi(l,[Li("config",i)]);return xy(v,w,l,d,m,p,x)})(Xa(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},og=se(void 0),uo=(n,r)=>{const i=((l,d)=>{const m=Wn(d);return xa({fields:[ft("enabled")],name:l,active:{events:se(m)}})})(n,r);return{key:n,value:{config:{},me:i,configAsRaw:se({}),initialConfig:{},state:xi}}},Qx=(n,r)=>{r.ignore||(vr(n.element),r.onFocus(n))};var rp=Object.freeze({__proto__:null,focus:Qx,blur:(n,r)=>{r.ignore||gl(n.element)},isFocused:n=>jd(n.element)}),HC=Object.freeze({__proto__:null,exhibit:(n,r)=>{const i=r.ignore?{}:{attributes:{tabindex:"-1"}};return Ac(i)},events:n=>Wn([et(Wl(),(r,i)=>{Qx(r,n),i.stop()})].concat(n.stopMousedown?[et(Ki(),(r,i)=>{i.event.prevent()})]:[]))}),au=[$o("onFocus"),Pe("stopMousedown",!1),Pe("ignore",!1)];const vo=xa({fields:au,name:"focusing",active:HC,apis:rp}),ng=[8],iu=[9],Xl=[13],sg=[27],Vi=[32],Bn=[37],ap=[38],Mh=[39],Jg=[40],Ql=se("tooltipping.close.all"),xd=se("dismiss.popups"),oi=se("reposition.popups"),Bh=se("mouse.released"),vy=(n,r,i)=>{const l=br(n.slice(0,r)),d=br(n.slice(r+1));return B(l.concat(d),i)},Jx=(n,r,i)=>{const l=br(n.slice(0,r));return B(l,i)},Ph=(n,r,i)=>{const l=n.slice(0,r),d=n.slice(r+1);return B(d.concat(l),i)},Ih=(n,r,i)=>{const l=n.slice(r+1);return B(l,i)},hn=n=>r=>{const i=r.raw;return pt(n,i.which)},vd=n=>r=>li(n,i=>i(r)),ip=n=>n.raw.shiftKey===!0,$C=n=>n.raw.ctrlKey===!0,Lh=Ko(ip),Tn=(n,r)=>({matches:n,classification:r}),UC=(n,r,i,l)=>{const d=oa(n.element,"."+r.highlightClass);yt(d,m=>{En(l,p=>Xo(p.element,m))||(rn(m,r.highlightClass),n.getSystem().getByDom(m).each(p=>{r.onDehighlight(n,p),an(p,Ix())}))})},Fh=(n,r,i,l)=>{UC(n,r,0,[l]),yl(n,r,i,l)||(Ss(l.element,r.highlightClass),r.onHighlight(n,l),an(l,Px()))},yl=(n,r,i,l)=>pr(l.element,r.highlightClass),Ua=(n,r,i)=>ls(n.element,"."+r.itemClass).bind(l=>n.getSystem().getByDom(l).toOptional()),ef=(n,r,i)=>{const l=oa(n.element,"."+r.itemClass);return(l.length>0?E.some(l[l.length-1]):E.none()).bind(d=>n.getSystem().getByDom(d).toOptional())},em=(n,r,i,l)=>{const d=oa(n.element,"."+r.itemClass);return tr(d,m=>pr(m,r.highlightClass)).bind(m=>{const p=_s(m,l,0,d.length-1);return n.getSystem().getByDom(d[p]).toOptional()})},Tc=(n,r,i)=>{const l=oa(n.element,"."+r.itemClass);return cl(Ee(l,d=>n.getSystem().getByDom(d).toOptional()))};var tf=Object.freeze({__proto__:null,dehighlightAll:(n,r,i)=>UC(n,r,0,[]),dehighlight:(n,r,i,l)=>{yl(n,r,i,l)&&(rn(l.element,r.highlightClass),r.onDehighlight(n,l),an(l,Ix()))},highlight:Fh,highlightFirst:(n,r,i)=>{Ua(n,r).each(l=>{Fh(n,r,i,l)})},highlightLast:(n,r,i)=>{ef(n,r).each(l=>{Fh(n,r,i,l)})},highlightAt:(n,r,i,l)=>{((d,m,p,x)=>{const v=oa(d.element,"."+m.itemClass);return E.from(v[x]).fold(()=>Jo.error(new Error("No element found with index "+x)),d.getSystem().getByDom)})(n,r,0,l).fold(d=>{throw d},d=>{Fh(n,r,i,d)})},highlightBy:(n,r,i,l)=>{const d=Tc(n,r);B(d,l).each(m=>{Fh(n,r,i,m)})},isHighlighted:yl,getHighlighted:(n,r,i)=>ls(n.element,"."+r.highlightClass).bind(l=>n.getSystem().getByDom(l).toOptional()),getFirst:Ua,getLast:ef,getPrevious:(n,r,i)=>em(n,r,0,-1),getNext:(n,r,i)=>em(n,r,0,1),getCandidates:Tc}),rg=[ft("highlightClass"),ft("itemClass"),$o("onHighlight"),$o("onDehighlight")];const ln=xa({fields:rg,name:"highlighting",apis:tf}),ev=(n,r,i)=>{r.exists(l=>i.exists(d=>Xo(d,l)))||oo(n,Zg(),{prevFocus:r,newFocus:i})},qb=()=>{const n=r=>za(r.element);return{get:n,set:(r,i)=>{const l=n(r);r.getSystem().triggerFocus(i,r.element);const d=n(r);ev(r,l,d)}}},tv=()=>{const n=r=>ln.getHighlighted(r).map(i=>i.element);return{get:n,set:(r,i)=>{const l=n(r);r.getSystem().getByDom(i).fold(we,m=>{ln.highlight(r,m)});const d=n(r);ev(r,l,d)}}},Jl=(n,r,i,l,d)=>{const m=(x,v,w,S,k)=>{return(A=w(x,v,S,k),N=v.event,B(A,I=>I.matches(N)).map(I=>I.classification)).bind(I=>I(x,v,S,k));var A,N},p={schema:()=>n.concat([Pe("focusManager",qb()),$l("focusInside","onFocus",ah(x=>pt(["onFocus","onEnterOrSpace","onApi"],x)?Jo.value(x):Jo.error("Invalid value for focusInside"))),ns("handler",p),ns("state",r),ns("sendFocusIn",d)]),processKey:m,toEvents:(x,v)=>{const w=x.focusInside!==ht.OnFocusMode?E.none():d(x).map(k=>et(Wl(),(A,N)=>{k(A,x,v),N.stop()})),S=[et(yc(),(k,A)=>{m(k,A,i,x,v).fold(()=>{((N,I)=>{const K=hn(Vi.concat(Xl))(I.event);x.focusInside===ht.OnEnterOrSpaceMode&&K&&gb(N,I)&&d(x).each(Z=>{Z(N,x,v),I.stop()})})(k,A)},N=>{A.stop()})}),et(BC(),(k,A)=>{m(k,A,l,x,v).each(N=>{A.stop()})})];return Wn(w.toArray().concat(S))}};return p},Gb=n=>{const r=[Mn("onEscape"),Mn("onEnter"),Pe("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Pe("firstTabstop",0),Pe("useTabstopAt",Ut),Mn("visibilitySelector")].concat([n]),i=(S,k)=>{const A=S.visibilitySelector.bind(N=>pl(k,N)).getOr(k);return Rr(A)>0},l=(S,k)=>k.focusManager.get(S).bind(A=>pl(A,k.selector)),d=(S,k,A)=>{((N,I)=>{const K=oa(N.element,I.selector),Z=Oo(K,q=>i(I,q));return E.from(Z[I.firstTabstop])})(S,k).each(N=>{k.focusManager.set(S,N)})},m=(S,k,A,N)=>{const I=Oo(oa(S.element,A.selector),K=>i(A,K));return l(S,A).bind(K=>tr(I,nt(Xo,K)).bind(Z=>((q,V,H,Y,J)=>J(V,H,me=>((ue,pe)=>i(ue,pe)&&ue.useTabstopAt(pe))(Y,me)).fold(()=>Y.cyclic?E.some(!0):E.none(),me=>(Y.focusManager.set(q,me),E.some(!0))))(S,I,Z,A,N)))},p=(S,k,A)=>{const N=A.cyclic?vy:Jx;return m(S,0,A,N)},x=(S,k,A)=>{const N=A.cyclic?Ph:Ih;return m(S,0,A,N)},v=se([Tn(vd([ip,hn(iu)]),p),Tn(hn(iu),x),Tn(vd([Lh,hn(Xl)]),(S,k,A)=>A.onEnter.bind(N=>N(S,k)))]),w=se([Tn(hn(sg),(S,k,A)=>(S.getSystem().broadcastOn([Ql()],{closedTooltip:()=>{k.stop()}}),k.isStopped()?E.none():A.onEscape.bind(N=>N(S,k)))),Tn(hn(iu),(S,k,A)=>l(S,A).filter(N=>!A.useTabstopAt(N)).bind(N=>((I=>(K=>Hn(K))(I).bind(ka).exists(K=>Xo(K,I)))(N)?p:x)(S,k,A)))]);return Jl(r,xi.init,v,w,()=>E.some(d))};var Kb=Gb(Ea("cyclic",Me)),Yb=Gb(Ea("cyclic",Ut));const ag=n=>Ie("input")(n)&&Bo(n,"type")!=="radio"||Ie("textarea")(n),of=(n,r,i)=>ag(i)&&hn(Vi)(r.event)?E.none():((l,d,m)=>(su(l,m,Yi()),E.some(!0)))(n,0,i),nf=(n,r)=>E.some(!0),ec=[Pe("execute",of),Pe("useSpace",!1),Pe("useEnter",!0),Pe("useControlEnter",!1),Pe("useDown",!1)],zh=(n,r,i)=>i.execute(n,r,n.element);var yy=Jl(ec,xi.init,(n,r,i,l)=>{const d=i.useSpace&&!ag(n.element)?Vi:[],m=i.useEnter?Xl:[],p=i.useDown?Jg:[],x=d.concat(m).concat(p);return[Tn(hn(x),zh)].concat(i.useControlEnter?[Tn(vd([$C,hn(Xl)]),zh)]:[])},(n,r,i,l)=>i.useSpace&&!ag(n.element)?[Tn(hn(Vi),nf)]:[],()=>E.none());const wy=()=>{const n=zn();return ar({readState:()=>n.get().map(r=>({numRows:String(r.numRows),numColumns:String(r.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(r,i)=>{n.set({numRows:r,numColumns:i})},getNumRows:()=>n.get().map(r=>r.numRows),getNumColumns:()=>n.get().map(r=>r.numColumns)})};var ov=Object.freeze({__proto__:null,flatgrid:wy,init:n=>n.state(n)});const yd=n=>(r,i,l,d)=>{const m=n(r.element);return Qi(m,r,i,l,d)},nv=(n,r)=>{const i=Fg(n,r);return yd(i)},tm=(n,r)=>{const i=Fg(r,n);return yd(i)},Xb=n=>(r,i,l,d)=>Qi(n,r,i,l,d),Qi=(n,r,i,l,d)=>l.focusManager.get(r).bind(m=>n(r.element,m,l,d)).map(m=>(l.focusManager.set(r,m),!0)),lp=Xb,zr=Xb,om=Xb,sv=(n,r,i)=>{const l=oa(n,i);return(d=>tr(d,m=>Xo(m,r)).map(m=>({index:m,candidates:d})))(Oo(l,qd))},cp=(n,r)=>tr(n,i=>Xo(r,i)),Vh=(n,r,i,l)=>l(Math.floor(r/i),r%i).bind(d=>{const m=d.row*i+d.column;return m>=0&&m<n.length?E.some(n[m]):E.none()}),_y=(n,r,i,l,d)=>Vh(n,r,l,(m,p)=>{const x=m===i-1?n.length-m*l:l,v=_s(p,d,0,x-1);return E.some({row:m,column:v})}),Hh=(n,r,i,l,d)=>Vh(n,r,l,(m,p)=>{const x=_s(m,d,0,i-1),v=x===i-1?n.length-x*l:l,w=Cn(p,0,v-1);return E.some({row:x,column:w})}),sf=[ft("selector"),Pe("execute",of),zi("onEscape"),Pe("captureTab",!1),Gm()],lu=(n,r,i)=>{ls(n.element,r.selector).each(l=>{r.focusManager.set(n,l)})},dp=n=>(r,i,l,d)=>sv(r,i,l.selector).bind(m=>n(m.candidates,m.index,d.getNumRows().getOr(l.initSize.numRows),d.getNumColumns().getOr(l.initSize.numColumns))),Vr=(n,r,i)=>i.captureTab?E.some(!0):E.none(),rf=dp((n,r,i,l)=>_y(n,r,i,l,-1)),Hi=dp((n,r,i,l)=>_y(n,r,i,l,1)),Cy=dp((n,r,i,l)=>Hh(n,r,i,l,-1)),ky=dp((n,r,i,l)=>Hh(n,r,i,l,1)),up=se([Tn(hn(Bn),nv(rf,Hi)),Tn(hn(Mh),tm(rf,Hi)),Tn(hn(ap),lp(Cy)),Tn(hn(Jg),zr(ky)),Tn(vd([ip,hn(iu)]),Vr),Tn(vd([Lh,hn(iu)]),Vr),Tn(hn(Vi.concat(Xl)),(n,r,i,l)=>((d,m)=>m.focusManager.get(d).bind(p=>pl(p,m.selector)))(n,i).bind(d=>i.execute(n,r,d)))]),af=se([Tn(hn(sg),(n,r,i)=>i.onEscape(n,r)),Tn(hn(Vi),nf)]);var nm=Jl(sf,wy,up,af,()=>E.some(lu));const wl=(n,r,i,l,d)=>{const m=(p,x,v)=>d(p,x,l,0,v.length-1,v[x],w=>{return S=v[w],Wt(S)==="button"&&Bo(S,"disabled")==="disabled"?m(p,w,v):E.from(v[w]);var S});return sv(n,i,r).bind(p=>{const x=p.index,v=p.candidates;return m(x,x,v)})},$h=(n,r,i,l)=>wl(n,r,i,l,(d,m,p,x,v,w,S)=>{const k=Cn(m+p,x,v);return k===d?E.from(w):S(k)}),Qb=(n,r,i,l)=>wl(n,r,i,l,(d,m,p,x,v,w,S)=>{const k=_s(m,p,x,v);return k===d?E.none():S(k)}),Uh=[ft("selector"),Pe("getInitial",E.none),Pe("execute",of),zi("onEscape"),Pe("executeOnMove",!1),Pe("allowVertical",!0),Pe("allowHorizontal",!0),Pe("cycles",!0)],Zh=(n,r,i)=>((l,d)=>d.focusManager.get(l).bind(m=>pl(m,d.selector)))(n,i).bind(l=>i.execute(n,r,l)),Sy=(n,r,i)=>{r.getInitial(n).orThunk(()=>ls(n.element,r.selector)).each(l=>{r.focusManager.set(n,l)})},lf=(n,r,i)=>(i.cycles?Qb:$h)(n,i.selector,r,-1),jh=(n,r,i)=>(i.cycles?Qb:$h)(n,i.selector,r,1),Ey=n=>(r,i,l,d)=>n(r,i,l,d).bind(()=>l.executeOnMove?Zh(r,i,l):E.some(!0)),rv=se([Tn(hn(Vi),nf),Tn(hn(sg),(n,r,i)=>i.onEscape(n,r))]);var g=Jl(Uh,xi.init,(n,r,i,l)=>{const d=[...i.allowHorizontal?Bn:[]].concat(i.allowVertical?ap:[]),m=[...i.allowHorizontal?Mh:[]].concat(i.allowVertical?Jg:[]);return[Tn(hn(d),Ey(nv(lf,jh))),Tn(hn(m),Ey(tm(lf,jh))),Tn(hn(Xl),Zh),Tn(hn(Vi),Zh)]},rv,()=>E.some(Sy));const h=(n,r,i)=>E.from(n[r]).bind(l=>E.from(l[i]).map(d=>({rowIndex:r,columnIndex:i,cell:d}))),y=(n,r,i,l)=>{const d=n[r].length,m=_s(i,l,0,d-1);return h(n,r,m)},C=(n,r,i,l)=>{const d=_s(i,l,0,n.length-1),m=n[d].length,p=Cn(r,0,m-1);return h(n,d,p)},D=(n,r,i,l)=>{const d=n[r].length,m=Cn(i+l,0,d-1);return h(n,r,m)},O=(n,r,i,l)=>{const d=Cn(i+l,0,n.length-1),m=n[d].length,p=Cn(r,0,m-1);return h(n,d,p)},L=[Qa("selectors",[ft("row"),ft("cell")]),Pe("cycles",!0),Pe("previousSelector",E.none),Pe("execute",of)],z=(n,r,i)=>{r.previousSelector(n).orThunk(()=>{const l=r.selectors;return ls(n.element,l.cell)}).each(l=>{r.focusManager.set(n,l)})},X=(n,r)=>(i,l,d)=>{const m=d.cycles?n:r;return pl(l,d.selectors.row).bind(p=>{const x=oa(p,d.selectors.cell);return cp(x,l).bind(v=>{const w=oa(i,d.selectors.row);return cp(w,p).bind(S=>{const k=((A,N)=>Ee(A,I=>oa(I,N.selectors.cell)))(w,d);return m(k,S,v).map(A=>A.cell)})})})},ae=X((n,r,i)=>y(n,r,i,-1),(n,r,i)=>D(n,r,i,-1)),he=X((n,r,i)=>y(n,r,i,1),(n,r,i)=>D(n,r,i,1)),ie=X((n,r,i)=>C(n,i,r,-1),(n,r,i)=>O(n,i,r,-1)),fe=X((n,r,i)=>C(n,i,r,1),(n,r,i)=>O(n,i,r,1)),de=se([Tn(hn(Bn),nv(ae,he)),Tn(hn(Mh),tm(ae,he)),Tn(hn(ap),lp(ie)),Tn(hn(Jg),zr(fe)),Tn(hn(Vi.concat(Xl)),(n,r,i)=>za(n.element).bind(l=>i.execute(n,r,l)))]),Oe=se([Tn(hn(Vi),nf)]);var Ae=Jl(L,xi.init,de,Oe,()=>E.some(z));const ot=[ft("selector"),Pe("execute",of),Pe("moveOnTab",!1)],at=(n,r,i)=>i.focusManager.get(n).bind(l=>i.execute(n,r,l)),bt=(n,r,i)=>{ls(n.element,r.selector).each(l=>{r.focusManager.set(n,l)})},_t=(n,r,i)=>Qb(n,i.selector,r,-1),Ct=(n,r,i)=>Qb(n,i.selector,r,1),At=se([Tn(hn(ap),om(_t)),Tn(hn(Jg),om(Ct)),Tn(vd([ip,hn(iu)]),(n,r,i,l)=>i.moveOnTab?om(_t)(n,r,i,l):E.none()),Tn(vd([Lh,hn(iu)]),(n,r,i,l)=>i.moveOnTab?om(Ct)(n,r,i,l):E.none()),Tn(hn(Xl),at),Tn(hn(Vi),at)]),Rt=se([Tn(hn(Vi),nf)]);var Yt=Jl(ot,xi.init,At,Rt,()=>E.some(bt));const bo=[zi("onSpace"),zi("onEnter"),zi("onShiftEnter"),zi("onLeft"),zi("onRight"),zi("onTab"),zi("onShiftTab"),zi("onUp"),zi("onDown"),zi("onEscape"),Pe("stopSpaceKeyup",!1),Mn("focusIn")];var Rn=Jl(bo,xi.init,(n,r,i)=>[Tn(hn(Vi),i.onSpace),Tn(vd([Lh,hn(Xl)]),i.onEnter),Tn(vd([ip,hn(Xl)]),i.onShiftEnter),Tn(vd([ip,hn(iu)]),i.onShiftTab),Tn(vd([Lh,hn(iu)]),i.onTab),Tn(hn(ap),i.onUp),Tn(hn(Jg),i.onDown),Tn(hn(Bn),i.onLeft),Tn(hn(Mh),i.onRight),Tn(hn(Vi),i.onSpace)],(n,r,i)=>[...i.stopSpaceKeyup?[Tn(hn(Vi),nf)]:[],Tn(hn(sg),i.onEscape)],n=>n.focusIn);const Fo=Kb.schema(),zo=Yb.schema(),Vo=g.schema(),$n=nm.schema(),kr=Ae.schema(),Za=yy.schema(),va=Yt.schema(),Ji=Rn.schema(),Kt=Xx({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Fo,cyclic:zo,flow:Vo,flatgrid:$n,matrix:kr,execution:Za,menu:va,special:Ji}),name:"keying",active:{events:(n,r)=>n.handler.toEvents(n,r)},apis:{focusIn:(n,r,i)=>{r.sendFocusIn(r).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},l=>{l(n,r,i)})},setGridSize:(n,r,i,l,d)=>{(m=>Kn(m,"setGridSize"))(i)?i.setGridSize(l,d):console.error("Layout does not support setGridSize")}},state:ov}),ja=De("alloy-premade"),sm=n=>(Object.defineProperty(n.element.dom,ja,{value:n.uid,writable:!0}),$g(ja,n)),Wh=n=>no(n,ja),wd=n=>((r,i)=>{const l=i.toString(),d=l.indexOf(")")+1,m=l.indexOf("("),p=l.substring(m+1,d-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:jg(p.slice(1))}),r})((r,...i)=>n(r.getApis(),r,...i),n),qh=n=>n.getSystem().isConnected(),Dc=n=>{an(n,tu());const r=n.components();yt(r,Dc)},cu=n=>{const r=n.components();yt(r,cu),an(n,wc())},ZC=(n,r)=>{n.getSystem().addToWorld(r),ct(n.element)&&cu(r)},Jb=n=>{Dc(n),n.getSystem().removeFromWorld(n)},Ay=(n,r)=>{Di(n.element,r.element)},cf=(n,r)=>{jC(n,r,Di)},jC=(n,r,i)=>{n.getSystem().addToWorld(r),i(n.element,r.element),ct(n.element)&&cu(r),n.syncComponents()},Ty=n=>{Dc(n),Wd(n.element),n.getSystem().removeFromWorld(n)},df=n=>{const r=Hn(n.element).bind(i=>n.getSystem().getByDom(i).toOptional());Ty(n),r.each(i=>{i.syncComponents()})},WE=n=>{const r=n.components();yt(r,Ty),sb(n.element),n.syncComponents()},Dy=(n,r)=>{mp(n,r,Di)},rm=(n,r)=>{mp(n,r,wx)},mp=(n,r,i)=>{i(n,r.element);const l=ml(r.element);yt(l,d=>{r.getByDom(d).each(cu)})},nR=n=>{const r=ml(n.element);yt(r,i=>{n.getByDom(i).each(Dc)}),Wd(n.element)},Ye=(n,r,i)=>{i.fold(()=>Di(n,r),l=>{Xo(l,r)||(Fl(l,r),Wd(l))})},av=(n,r,i)=>{const l=Ee(r,i),d=ml(n);return yt(d.slice(l.length),Wd),l},qE=(n,r,i,l)=>{const d=Jc(n,r),m=l(i,d),p=((x,v,w)=>Jc(x,v).map(S=>{if(w.exists(k=>!Xo(k,S))){const k=w.map(Wt).getOr("span"),A=Rs(k);return Fl(S,A),A}return S}))(n,r,d);return Ye(n,m.element,p),m},WC=(n,r)=>{const i=Qr(r),l=od(i).bind(m=>{const p=x=>Xo(m,x);return p(r)?E.some(r):((x,v)=>{const w=S=>{for(let k=0;k<S.childNodes.length;k++){const A=Ft(S.childNodes[k]);if(v(A))return E.some(A);const N=w(S.childNodes[k]);if(N.isSome())return N}return E.none()};return w(x.dom)})(r,p)}),d=n(r);return l.each(m=>{od(i).filter(p=>Xo(p,m)).fold(()=>{vr(m)},we)}),d},Oy=(n,r)=>{WC(()=>{((i,l,d)=>{const m=i.components();(v=>{yt(v.components(),w=>Wd(w.element)),sb(v.element),v.syncComponents()})(i);const p=d(l),x=Wo(m,p);yt(x,v=>{Dc(v),i.getSystem().removeFromWorld(v)}),yt(p,v=>{qh(v)?Ay(i,v):(i.getSystem().addToWorld(v),Ay(i,v),ct(i.element)&&cu(v))}),i.syncComponents()})(n,r,()=>Ee(r,n.getSystem().build))},n.element)},du=(n,r)=>{WC(()=>{((i,l)=>{const d=i.components(),m=Uo(l,v=>Wh(v).toArray());yt(d,v=>{pt(m,v)||Jb(v)});const p=((v,w,S)=>av(v,w,(k,A)=>qE(v,A,k,S)))(n.element,r,n.getSystem().buildOrPatch),x=Wo(d,p);yt(x,v=>{qh(v)&&Jb(v)}),yt(p,v=>{qh(v)||ZC(i,v)}),i.syncComponents()})(n,r)},n.element)},GE=(n,r,i,l)=>{Jb(r);const d=qE(n.element,i,l,n.getSystem().buildOrPatch);ZC(n,d),n.syncComponents()},Ry=(n,r,i)=>{const l=n.getSystem().build(i);jC(n,l,r)},KE=(n,r,i,l)=>{df(r),Ry(n,(d,m)=>((p,x,v)=>{Jc(p,v).fold(()=>{Di(p,x)},w=>{Fl(w,x)})})(d,m,i),l)},e0=(n,r)=>n.components(),YE=(n,r,i,l,d)=>{const m=e0(n);return E.from(m[l]).map(p=>(d.fold(()=>df(p),x=>{(r.reuseDom?GE:KE)(n,p,l,x)}),p))};var XE=Object.freeze({__proto__:null,append:(n,r,i,l)=>{Ry(n,Di,l)},prepend:(n,r,i,l)=>{Ry(n,_x,l)},remove:(n,r,i,l)=>{const d=e0(n);B(d,p=>Xo(l.element,p.element)).each(df)},replaceAt:YE,replaceBy:(n,r,i,l,d)=>{const m=e0(n);return tr(m,l).bind(p=>YE(n,r,0,p,d))},set:(n,r,i,l)=>(r.reuseDom?du:Oy)(n,l),contents:e0});const No=xa({fields:[Aa("reuseDom",!0)],name:"replacing",apis:XE}),QE=Wn([(n=>({key:n,value:hd({can:(r,i)=>{const l=i.event,d=l.originator,m=l.target;return!((p,x,v)=>Xo(x,p.element)&&!Xo(x,v))(r,d,m)||(console.warn(Wl()+` did not get interpreted by the desired target. 
Originator: `+Gl(d)+`
Target: `+Gl(m)+`
Check the `+Wl()+" event handlers"),!1)}})}))(Wl())]);var sR=Object.freeze({__proto__:null,events:QE});const JE=se("alloy-id-"),rR=se("data-alloy-id"),aR=JE(),qC=rR(),t0=(n,r)=>{Object.defineProperty(n.dom,qC,{value:r,writable:!0})},iv=n=>{const r=Qo(n)?n.dom[qC]:null;return E.from(r)},Gh=n=>De(n),iR=We,o0=n=>{const r=d=>`The component must be in a context to execute: ${d}`+(n?`
`+Gl(n().element)+" is not in context.":""),i=d=>()=>{throw new Error(r(d))},l=d=>()=>{console.warn(r(d))};return{debugInfo:se("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Me}},eA=o0(),GC=(n,r)=>{const i={};return An(n,(l,d)=>{An(l,(m,p)=>{const x=no(i,p).getOr([]);i[p]=x.concat([r(d,m)])})}),i},Ny=n=>n.cHandler,lR=(n,r)=>({name:n,handler:r}),tA=(n,r)=>{const i={};return yt(n,l=>{i[l.name()]=l.handlers(r)}),i},cR=(n,r,i)=>{const l=r[i];return l?((d,m,p,x)=>{try{const v=Ge(p,(w,S)=>{const k=w[m],A=S[m],N=x.indexOf(k),I=x.indexOf(A);if(N===-1)throw new Error("The ordering for "+d+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(x,null,2));if(I===-1)throw new Error("The ordering for "+d+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(x,null,2));return N<I?-1:I<N?1:0});return Jo.value(v)}catch(v){return Jo.error([v])}})("Event: "+i,"name",n,l).map(d=>(m=>({can:(v=>(...w)=>Yo(v,(S,k)=>S&&(A=>A.can)(k).apply(void 0,w),!0))(m),abort:(v=>(...w)=>Yo(v,(S,k)=>S||(A=>A.abort)(k).apply(void 0,w),!1))(m),run:(...v)=>{yt(m,w=>{w.run.apply(void 0,v)})}}))(Ee(d,m=>m.handler))):((d,m)=>Jo.error(["The event ("+d+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ee(m,p=>p.name),null,2)]))(i,n)},dR=(n,r)=>((i,l)=>{const d=(p=>{const x=[],v=[];return yt(p,w=>{w.fold(S=>{x.push(S)},S=>{v.push(S)})}),{errors:x,values:v}})(i);return d.errors.length>0?(m=d.errors,Jo.error(Os(m))):((p,x)=>p.length===0?Jo.value(x):Jo.value(Cs(x,ll.apply(void 0,p))))(d.values,l);var m})(ma(n,(i,l)=>(i.length===1?Jo.value(i[0].handler):cR(i,r,l)).map(d=>{const m=(x=>{const v=(w=>Je(w)?{can:Ut,abort:Me,run:w}:w)(x);return(w,S,...k)=>{const A=[w,S].concat(k);v.abort.apply(void 0,A)?S.stop():v.can.apply(void 0,A)&&v.run.apply(void 0,A)}})(d),p=i.length>1?Oo(r[l],x=>En(i,v=>v.name===x)).join(" > "):i[0].name;return $g(l,((x,v)=>({handler:x,purpose:v}))(m,p))})),{}),gp="alloy.base.behaviour",oA=go([_r("dom","dom",{tag:"required",process:{}},go([ft("tag"),Pe("styles",{}),Pe("classes",[]),Pe("attributes",{}),Mn("value"),Mn("innerHtml")])),ft("components"),ft("uid"),Pe("events",{}),Pe("apis",{}),_r("eventOrder","eventOrder",(Py={[Yi()]:["disabling",gp,"toggling","typeaheadevents"],[Wl()]:[gp,"focusing","keying"],[vb()]:[gp,"disabling","toggling","representing","tooltipping"],[ud()]:[gp,"representing","streaming","invalidating"],[tu()]:[gp,"representing","item-events","toolbar-button-events","tooltipping"],[Ki()]:["focusing",gp,"item-type-events"],[Zl()]:["focusing",gp,"item-type-events"],[ei()]:["item-type-events","tooltipping"],[Wm()]:["receiving","reflecting","tooltipping"]},pb(se(Py))),Mi()),Mn("domModification")]),uR=n=>n.events,My=(n,r)=>{const i=Zo(n),l=Zo(r),d=Wo(l,i),m=(p=>{const x={},v={};return dr(p,(w,S)=>!cn(r,S)||w!==r[S],qc(x),qc(v)),{t:x,f:v}})(n).t;return{toRemove:d,toSet:m}},n0=(n,r)=>{const i=r.filter(l=>Wt(l)===n.tag&&!(d=>d.innerHtml.isSome()&&d.domChildren.length>0)(n)&&!(d=>cn(d.dom,ja))(l)).bind(l=>((d,m)=>{try{const p=((x,v)=>{const{class:w,style:S,...k}=(Y=>Yo(Y.dom.attributes,(J,me)=>(J[me.name]=me.value,J),{}))(v),{toSet:A,toRemove:N}=My(x.attributes,k),I=zu(v),{toSet:K,toRemove:Z}=My(x.styles,I),q=Wf(v),V=Wo(q,x.classes),H=Wo(x.classes,q);return yt(N,Y=>Xs(v,Y)),U2(v,A),Vl(v,H),ta(v,V),yt(Z,Y=>pn(v,Y)),oe(v,K),x.innerHtml.fold(()=>{const Y=x.domChildren;((J,me)=>{av(J,me,(ue,pe)=>{const He=Jc(J,pe);return Ye(J,ue,He),ue})})(v,Y)},Y=>{Mg(v,Y)}),(()=>{const Y=v,J=x.value.getOrUndefined();J!==jr(Y)&&Yd(Y,J??"")})(),v})(d,m);return E.some(p)}catch{return E.none()}})(n,l)).getOrThunk(()=>(l=>{const d=Rs(l.tag);U2(d,l.attributes),Vl(d,l.classes),oe(d,l.styles),l.innerHtml.each(p=>Mg(d,p));const m=l.domChildren;return ui(d,m),l.value.each(p=>{Yd(d,p)}),d})(n));return t0(i,n.uid),i},Kh=n=>{const r=(i=>{const l=no(i,"behaviours").getOr({});return Uo(Zo(l),d=>{const m=l[d];return ge(m)?[m.me]:[]})})(n);return((i,l)=>((d,m)=>{const p=Ee(m,v=>gi(v.name(),[ft("config"),Pe("state",xi)])),x=Ms("component.behaviours",go(p),d.behaviours).fold(v=>{throw new Error(Zu(v)+`
Complete spec:
`+JSON.stringify(d,null,2))},We);return{list:m,data:Is(x,v=>{const w=v.map(S=>({config:S.config,state:S.state.init(S.config)}));return se(w)})}})(i,l))(n,r)},mR=(n,r)=>{const i=()=>A,l=Ot(eA),d=Bi((N=>Ms("custom.definition",oA,N))(n)),m=Kh(n),p=(N=>N.list)(m),x=(N=>N.data)(m),v=((N,I,K)=>{const Z={...(q=N).dom,uid:q.uid,domChildren:Ee(q.components,ue=>ue.element)};var q;const V=(ue=>ue.domModification.fold(()=>Ac({}),Ac))(N),H={"alloy.base.modification":V},Y=I.length>0?((ue,pe,He,Ve)=>{const Le={...pe};yt(He,qo=>{Le[qo.name()]=qo.exhibit(ue,Ve)});const qe=GC(Le,(qo,Sn)=>({name:qo,modification:Sn})),ut=qo=>Do(qo,(Sn,Jn)=>({...Jn.modification,...Sn}),{}),$t=Do(qe.classes,(qo,Sn)=>Sn.modification.concat(qo),[]),lo=ut(qe.attributes),fo=ut(qe.styles);return Ac({classes:$t,attributes:lo,styles:fo})})(K,H,I,Z):V;return J=Z,me=Y,{...J,attributes:{...J.attributes,...me.attributes},styles:{...J.styles,...me.styles},classes:J.classes.concat(me.classes)};var J,me})(d,p,x),w=n0(v,r),S=((N,I,K)=>{const Z={"alloy.base.behaviour":uR(N)};return((q,V,H,Y)=>{const J=((me,ue,pe)=>{const He={...pe,...tA(ue,me)};return GC(He,lR)})(q,H,Y);return dR(J,V)})(K,N.eventOrder,I,Z).getOrDie()})(d,p,x),k=Ot(d.components),A={uid:n.uid,getSystem:l.get,config:N=>{const I=x;return(Je(I[N.name()])?I[N.name()]:()=>{throw new Error("Could not find "+N.name()+" in "+JSON.stringify(n,null,2))})()},hasConfigured:N=>Je(x[N.name()]),spec:n,readState:N=>x[N]().map(I=>I.state.readState()).getOr("not enabled"),getApis:()=>d.apis,connect:N=>{l.set(N)},disconnect:()=>{l.set(o0(i))},element:w,syncComponents:()=>{const N=ml(w),I=Uo(N,K=>l.get().getByDom(K).fold(()=>[],Io));k.set(I)},components:k.get,events:S};return A},Bs=n=>{const r=Eg(n);return nA({element:r})},nA=n=>{const r=$a("external.component",mi([ft("element"),Mn("uid")]),n),i=Ot(o0()),l=r.uid.getOrThunk(()=>Gh("external"));t0(r.element,l);const d={uid:l,getSystem:i.get,config:E.none,hasConfigured:Me,connect:m=>{i.set(m)},disconnect:()=>{i.set(o0(()=>d))},getApis:()=>({}),element:r.element,spec:n,readState:se("No state"),syncComponents:we,components:se([]),events:{}};return sm(d)},gR=Gh,By=(n,r)=>Wh(n).getOrThunk(()=>((i,l)=>{const{events:d,...m}=iR(i),p=((v,w)=>{const S=no(v,"components").getOr([]);return w.fold(()=>Ee(S,ni),k=>Ee(S,(A,N)=>By(A,Jc(k,N))))})(m,l),x={...m,events:{...sR,...d},components:p};return Jo.value(mR(x,l))})((i=>cn(i,"uid"))(n)?n:{uid:gR(""),...n},r).getOrDie()),ni=n=>By(n,E.none()),Oc=sm;var Py,sA=Object.freeze({__proto__:null,block:(n,r,i,l)=>{io(n.element,"aria-busy",!0);const d=r.getRoot(n).getOr(n),m=vt([Kt.config({mode:"special",onTab:()=>E.some(!0),onShiftTab:()=>E.some(!0)}),vo.config({})]),p=l(d,m),x=d.getSystem().build(p);No.append(d,Oc(x)),x.hasConfigured(Kt)&&r.focus&&Kt.focusIn(x),i.isBlocked()||r.onBlock(n),i.blockWith(()=>No.remove(d,x))},unblock:(n,r,i)=>{Xs(n.element,"aria-busy"),i.isBlocked()&&r.onUnblock(n),i.clear()},isBlocked:(n,r,i)=>i.isBlocked()}),fR=[ds("getRoot",E.none),Aa("focus",!0),$o("onBlock"),$o("onUnblock")];const am=xa({fields:fR,name:"blocking",apis:sA,state:Object.freeze({__proto__:null,init:()=>{const n=Ks(r=>r.destroy());return ar({readState:n.isSet,blockWith:r=>{n.set({destroy:r})},clear:n.clear,isBlocked:n.isSet})}})});var pR=Object.freeze({__proto__:null,getCurrent:(n,r,i)=>r.find(n)});const hR=[ft("find")],kn=xa({fields:hR,name:"composing",apis:pR});var bR=Object.freeze({__proto__:null,getCoupled:(n,r,i,l)=>i.getOrCreate(n,r,l),getExistingCoupled:(n,r,i,l)=>i.getExisting(n,r,l)}),xR=[Pi("others",ih(Jo.value,Mi()))],vR=Object.freeze({__proto__:null,init:()=>{const n={},r=(l,d)=>{if(Zo(l.others).length===0)throw new Error("Cannot find any known coupled components");return no(n,d)},i=se({});return ar({readState:i,getExisting:(l,d,m)=>r(d,m).orThunk(()=>(no(d.others,m).getOrDie("No information found for coupled component: "+m),E.none())),getOrCreate:(l,d,m)=>r(d,m).getOrThunk(()=>{const p=no(d.others,m).getOrDie("No information found for coupled component: "+m)(l),x=l.getSystem().build(p);return n[m]=x,x})})}});const Sr=xa({fields:xR,name:"coupling",apis:bR,state:vR}),yR=["input","button","textarea","select"],rA=(n,r,i)=>{(r.disabled()?Iy:YC)(n,r)},KC=(n,r)=>r.useNative===!0&&pt(yR,Wt(n.element)),aA=n=>{io(n.element,"disabled","disabled")},iA=n=>{Xs(n.element,"disabled")},lA=n=>{io(n.element,"aria-disabled","true")},wR=n=>{io(n.element,"aria-disabled","false")},Iy=(n,r,i)=>{r.disableClass.each(l=>{Ss(n.element,l)}),(KC(n,r)?aA:lA)(n),r.onDisabled(n)},YC=(n,r,i)=>{r.disableClass.each(l=>{rn(n.element,l)}),(KC(n,r)?iA:wR)(n),r.onEnabled(n)},XC=(n,r)=>KC(n,r)?(i=>nb(i.element,"disabled"))(n):(i=>Bo(i.element,"aria-disabled")==="true")(n);var _R=Object.freeze({__proto__:null,enable:YC,disable:Iy,isDisabled:XC,onLoad:rA,set:(n,r,i,l)=>{(l?Iy:YC)(n,r)}}),CR=Object.freeze({__proto__:null,exhibit:(n,r)=>Ac({classes:r.disabled()?r.disableClass.toArray():[]}),events:(n,r)=>Wn([tg(Yi(),(i,l)=>XC(i,n)),sp(n,r,rA)])}),QC=[ds("disabled",Me),Pe("useNative",!0),Mn("disableClass"),$o("onDisabled"),$o("onEnabled")];const Jt=xa({fields:QC,name:"disabling",active:CR,apis:_R}),uu=(n,r,i,l,d)=>{const m=p=>p+"px";return{position:n,left:r.map(m),top:i.map(m),right:l.map(m),bottom:d.map(m)}},cA=(n,r)=>{Rm(n,(i=>({...i,position:E.some(i.position)}))(r))},dA=(n,r)=>{const i=n.element;Ss(i,r.transitionClass),rn(i,r.fadeOutClass),Ss(i,r.fadeInClass),r.onShow(n)},kR=(n,r)=>{const i=n.element;Ss(i,r.transitionClass),rn(i,r.fadeInClass),Ss(i,r.fadeOutClass),r.onHide(n)},uA=(n,r)=>n.y>=r.y,mA=(n,r)=>n.bottom<=r.bottom,lv=(n,r,i)=>({location:"top",leftX:r,topY:i.bounds.y-n.y}),JC=(n,r,i)=>({location:"bottom",leftX:r,bottomY:n.bottom-i.bounds.bottom}),ek=n=>n.box.x-n.win.x,tk=(n,r,i)=>i.getInitialPos().map(l=>{const d=((m,p)=>{const x=p.optScrollEnv.fold(se(m.bounds.y),v=>v.scrollElmTop+(m.bounds.y-v.currentScrollTop));return Ns(m.bounds.x,x)})(l,r);return{box:dn(d.left,d.top,Ln(n),Rr(n)),location:l.location}}),ok=(n,r,i,l,d)=>{const m=((x,v)=>{const w=v.optScrollEnv.fold(se(x.y),S=>x.y+S.currentScrollTop-S.scrollElmTop);return Ns(x.x,w)})(r,i),p=dn(m.left,m.top,r.width,r.height);l.setInitialPos({style:zu(n),position:Va(n,"position")||"static",bounds:p,location:d.location})},Zt=(n,r,i)=>i.getInitialPos().bind(l=>{switch(i.clearInitialPos(),l.position){case"static":return E.some({morph:"static"});case"absolute":const d=Wr(n).getOr(mr()),m=yr(d),p=d.dom.scrollTop??0;return E.some({morph:"absolute",positionCss:uu("absolute",no(l.style,"left").map(x=>r.x-m.x),no(l.style,"top").map(x=>r.y-m.y+p),no(l.style,"right").map(x=>m.right-r.right),no(l.style,"bottom").map(x=>m.bottom-r.bottom))});default:return E.none()}}),s0=n=>{switch(n.location){case"top":return E.some({morph:"fixed",positionCss:uu("fixed",E.some(n.leftX),E.some(n.topY),E.none(),E.none())});case"bottom":return E.some({morph:"fixed",positionCss:uu("fixed",E.some(n.leftX),E.none(),E.none(),E.some(n.bottomY))});default:return E.none()}},gA=(n,r,i)=>{const l=n.element;return jn(gr(l,"position"),"fixed")?((d,m,p)=>((x,v,w)=>tk(x,v,w).filter(({box:S})=>((k,A,N)=>li(k,I=>{switch(I){case"bottom":return mA(A,N.bounds);case"top":return uA(A,N.bounds)}}))(w.getModes(),S,v)).bind(({box:S})=>Zt(x,S,w)))(d,m,p).orThunk(()=>m.optScrollEnv.bind(x=>tk(d,m,p)).bind(({box:x,location:v})=>{const w=Qs(),S=ek({win:w,box:x}),k=v==="top"?lv(w,S,m):JC(w,S,m);return s0(k)})))(l,r,i):((d,m,p)=>{const x=yr(d),v=Qs(),w=((S,k,A)=>{const N=k.win,I=k.box,K=ek(k);return gn(S,Z=>{switch(Z){case"bottom":return mA(I,A.bounds)?E.none():E.some(JC(N,K,A));case"top":return uA(I,A.bounds)?E.none():E.some(lv(N,K,A));default:return E.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:v,box:x},m);return w.location==="top"||w.location==="bottom"?(ok(d,x,m,p,w),s0(w)):E.none()})(l,r,i)},fA=(n,r,i)=>{i.setDocked(!1),yt(["left","right","top","bottom","position"],l=>pn(n.element,l)),r.onUndocked(n)},nk=(n,r,i,l)=>{const d=l.position==="fixed";i.setDocked(d),cA(n.element,l),(d?r.onDocked:r.onUndocked)(n)},pA=(n,r,i,l,d=!1)=>{r.contextual.each(m=>{m.lazyContext(n).each(p=>{const x=((v,w)=>v.y<w.bottom&&v.bottom>w.y)(p,l.bounds);x!==i.isVisible()&&(i.setVisible(x),d&&!x?(Vl(n.element,[m.fadeOutClass]),m.onHide(n)):(x?dA:kR)(n,m))})})},sk=(n,r,i,l,d)=>{pA(n,r,i,l,!0),nk(n,r,i,d.positionCss)},Ly=(n,r,i)=>{n.getSystem().isConnected()&&((l,d,m)=>{const p=d.lazyViewport(l);pA(l,d,m,p),gA(l,p,m).each(x=>{((v,w,S,k,A)=>{switch(A.morph){case"static":return fA(v,w,S);case"absolute":return nk(v,w,S,A.positionCss);case"fixed":sk(v,w,S,k,A)}})(l,d,m,p,x)})})(n,r,i)},hA=(n,r,i)=>{i.isDocked()&&((l,d,m)=>{const p=l.element;m.setDocked(!1);const x=d.lazyViewport(l);((v,w,S)=>{const k=v.element;return tk(k,w,S).bind(({box:A})=>Zt(k,A,S))})(l,x,m).each(v=>{switch(v.morph){case"static":fA(l,d,m);break;case"absolute":nk(l,d,m,v.positionCss)}}),m.setVisible(!0),d.contextual.each(v=>{ta(p,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(l)}),Ly(l,d,m)})(n,r,i)},rk=n=>(r,i,l)=>{const d=i.lazyViewport(r);((m,p,x,v)=>{const w=yr(m),S=Qs(),k=v(S,ek({win:S,box:w}),p);return k.location==="bottom"||k.location==="top"?(((A,N,I,K,Z)=>{K.getInitialPos().fold(()=>ok(A,N,I,K,Z),()=>we)})(m,w,p,x,k),s0(k)):E.none()})(r.element,d,l,n).each(m=>{sk(r,i,l,d,m)})},SR=rk(lv),si=rk(JC);var r0=Object.freeze({__proto__:null,refresh:Ly,reset:hA,isDocked:(n,r,i)=>i.isDocked(),getModes:(n,r,i)=>i.getModes(),setModes:(n,r,i,l)=>i.setModes(l),forceDockToTop:SR,forceDockToBottom:si}),ER=Object.freeze({__proto__:null,events:(n,r)=>Wn([bd(Yf(),(i,l)=>{n.contextual.each(d=>{pr(i.element,d.transitionClass)&&(ta(i.element,[d.transitionClass,d.fadeInClass]),(r.isVisible()?d.onShown:d.onHidden)(i)),l.stop()})}),et(yb(),(i,l)=>{Ly(i,n,r)}),et(dh(),(i,l)=>{Ly(i,n,r)}),et(ql(),(i,l)=>{hA(i,n,r)})])}),AR=[gi("contextual",[Br("fadeInClass"),Br("fadeOutClass"),Br("transitionClass"),bl("lazyContext"),$o("onShow"),$o("onShown"),$o("onHide"),$o("onHidden")]),ds("lazyViewport",()=>({bounds:Qs(),optScrollEnv:E.none()})),ju("modes",["top","bottom"],wr),$o("onDocked"),$o("onUndocked")];const Fs=xa({fields:AR,name:"docking",active:ER,apis:r0,state:Object.freeze({__proto__:null,init:n=>{const r=Ot(!1),i=Ot(!0),l=zn(),d=Ot(n.modes);return ar({isDocked:r.get,setDocked:r.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:d.get,setModes:d.set,readState:()=>`docked:  ${r.get()}, visible: ${i.get()}, modes: ${d.get().join(",")}`})}})}),ak=qs([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Fy=n=>r=>r.translate(-n.left,-n.top),cv=n=>r=>r.translate(n.left,n.top),ig=n=>(r,i)=>Yo(n,(l,d)=>d(l),Ns(r,i)),zy=(n,r,i)=>n.fold(ig([cv(i),Fy(r)]),ig([Fy(r)]),ig([])),Yh=(n,r,i)=>n.fold(ig([cv(i)]),ig([]),ig([cv(r)])),bA=(n,r,i)=>n.fold(ig([]),ig([Fy(i)]),ig([cv(r),Fy(i)])),xA=(n,r,i)=>{const l=n.fold((d,m)=>({position:E.some("absolute"),left:E.some(d+"px"),top:E.some(m+"px")}),(d,m)=>({position:E.some("absolute"),left:E.some(d-i.left+"px"),top:E.some(m-i.top+"px")}),(d,m)=>({position:E.some("fixed"),left:E.some(d+"px"),top:E.some(m+"px")}));return{right:E.none(),bottom:E.none(),...l}},ik=(n,r,i,l)=>{const d=(m,p)=>(x,v)=>{const w=m(r,i,l);return p(x.getOr(w.left),v.getOr(w.top))};return n.fold(d(bA,Vy),d(Yh,fp),d(zy,Xh))},Vy=ak.offset,fp=ak.absolute,Xh=ak.fixed,Hy=(n,r)=>{const i=Bo(n,r);return st(i)?NaN:parseInt(i,10)},lk=(n,r,i,l,d,m)=>{const p=((w,S,k,A)=>((N,I)=>{const K=N.element,Z=Hy(K,I.leftAttr),q=Hy(K,I.topAttr);return isNaN(Z)||isNaN(q)?E.none():E.some(Ns(Z,q))})(w,S).fold(()=>k,N=>Xh(N.left+A.left,N.top+A.top)))(n,r,i,l),x=r.mustSnap?TR(n,r,p,d,m):vA(n,r,p,d,m),v=zy(p,d,m);return((w,S,k)=>{const A=w.element;io(A,S.leftAttr,k.left+"px"),io(A,S.topAttr,k.top+"px")})(n,r,v),x.fold(()=>({coord:Xh(v.left,v.top),extra:E.none()}),w=>({coord:w.output,extra:w.extra}))},ck=(n,r,i,l)=>gn(n,d=>{const m=d.sensor;return((x,v,w,S,k,A)=>{const N=Yh(x,k,A),I=Yh(v,k,A);return Math.abs(N.left-I.left)<=w&&Math.abs(N.top-I.top)<=S})(r,m,d.range.left,d.range.top,i,l)?E.some({output:ik(d.output,r,i,l),extra:d.extra}):E.none()}),TR=(n,r,i,l,d)=>{const m=r.getSnapPoints(n);return ck(m,i,l,d).orThunk(()=>Yo(m,(x,v)=>{const w=v.sensor,S=((k,A,N,I,K,Z)=>{const q=Yh(k,K,Z),V=Yh(A,K,Z),H=Math.abs(q.left-V.left),Y=Math.abs(q.top-V.top);return Ns(H,Y)})(i,w,v.range.left,v.range.top,l,d);return x.deltas.fold(()=>({deltas:E.some(S),snap:E.some(v)}),k=>(S.left+S.top)/2<=(k.left+k.top)/2?{deltas:E.some(S),snap:E.some(v)}:x)},{deltas:E.none(),snap:E.none()}).snap.map(x=>({output:ik(x.output,i,l,d),extra:x.extra})))},vA=(n,r,i,l,d)=>{const m=r.getSnapPoints(n);return ck(m,i,l,d)};var DR=Object.freeze({__proto__:null,snapTo:(n,r,i,l)=>{const d=r.getTarget(n.element);if(r.repositionTarget){const m=jt(n.element),p=Oi(m),x=Ri(d),v=((S,k,A)=>({coord:ik(S.output,S.output,k,A),extra:S.extra}))(l,p,x),w=xA(v.coord,0,x);Rm(d,w)}}});const Wa=(n,r)=>hb(n,{},Ee(r,i=>{return l=i.name(),d="Cannot configure "+i.name()+" for "+n,_r(l,l,{tag:"option",process:{}},Pm(m=>xc("The field: "+l+" is forbidden. "+d)));var l,d}).concat([Ea("dump",We)])),dk=n=>n.dump,qa=(n,r)=>({...vt(r),...n.dump}),a0=Wa,i0=qa,uk=(n,r,i,l,d)=>{const m=((p,x)=>(p.length>0?[Qa("parts",p)]:[]).concat([ft("uid"),Pe("dom",{}),Pe("components",[]),ry("originalSpec"),Pe("debug.sketcher",{})]).concat(x))(l,d);return $a(n+" [SpecSchema]",mi(m.concat(r)),i)},mk=(n,r,i,l,d)=>{const m=yA(d),p=Xf(i),x=Bb(i),v=uk(n,r,m,p,[x]),w=bh(0,v,i);return l(v,Nb(n,v,w.internals()),m,w.externals())},yA=n=>(r=>cn(r,"uid"))(n)?n:{...n,uid:Gh("uid")},wA=mi([ft("name"),ft("factory"),ft("configFields"),Pe("apis",{}),Pe("extraApis",{})]),OR=mi([ft("name"),ft("factory"),ft("configFields"),ft("partFields"),Pe("apis",{}),Pe("extraApis",{})]),vi=n=>{const r=$a("Sketcher for "+n.name,wA,n),i=Is(r.apis,wd),l=Is(r.extraApis,(d,m)=>kc(d,m));return{name:r.name,configFields:r.configFields,sketch:d=>((m,p,x,v)=>{const w=yA(v);return x(uk(m,p,w,[],[]),w)})(r.name,r.configFields,r.factory,d),...i,...l}},el=n=>{const r=$a("Sketcher for "+n.name,OR,n),i=fd(r.name,r.partFields),l=Is(r.apis,wd),d=Is(r.extraApis,(m,p)=>kc(m,p));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:m=>mk(r.name,r.configFields,r.partFields,r.factory,m),parts:i,...l,...d}},_d=vi({name:"Container",factory:n=>{const{attributes:r,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...i},components:n.components,behaviours:dk(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[Pe("components",[]),Wa("containerBehaviours",[]),Pe("events",{}),Pe("domModification",{}),Pe("eventOrder",{})]}),gk="data-initial-z-index",l0=(n,r)=>{n.getSystem().addToGui(r),(i=>{Hn(i.element).filter(Qo).each(l=>{gr(l,"z-index").each(d=>{io(l,gk,d)}),Ro(l,"z-index",Va(i.element,"z-index"))})})(r)},RR=n=>{(r=>{Hn(r.element).filter(Qo).each(i=>{Jr(i,gk).fold(()=>pn(i,"z-index"),l=>Ro(i,"z-index",l)),Xs(i,gk)})})(n),n.getSystem().removeFromGui(n)},_A=(n,r,i)=>n.getSystem().build(_d.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:i}));var NR=gi("snaps",[ft("getSnapPoints"),$o("onSensor"),ft("leftAttr"),ft("topAttr"),Pe("lazyViewport",Qs),Pe("mustSnap",!1)]);const fk=[Pe("useFixed",Me),ft("blockerClass"),Pe("getTarget",We),Pe("onDrag",we),Pe("repositionTarget",!0),Pe("onDrop",we),ds("getBounds",Qs),NR],MR=n=>{return(r=gr(n,"left"),i=gr(n,"top"),l=gr(n,"position"),r.isSome()&&i.isSome()&&l.isSome()?E.some(((d,m,p)=>(p==="fixed"?Xh:Vy)(parseInt(d,10),parseInt(m,10)))(r.getOrDie(),i.getOrDie(),l.getOrDie())):E.none()).getOrThunk(()=>{const d=Nr(n);return fp(d.left,d.top)});var r,i,l},$y=(n,r)=>({bounds:n.getBounds(),height:Vu(r.element),width:Gd(r.element)}),pk=(n,r,i,l,d)=>{const m=i.update(l,d),p=i.getStartData().getOrThunk(()=>$y(r,n));m.each(x=>{((v,w,S,k)=>{const A=w.getTarget(v.element);if(w.repositionTarget){const N=jt(v.element),I=Oi(N),K=Ri(A),Z=MR(A),q=((H,Y,J,me,ue,pe,He)=>((Ve,Le,qe,ut,$t)=>{const lo=$t.bounds,fo=Yh(Le,qe,ut),qo=Cn(fo.left,lo.x,lo.x+lo.width-$t.width),Sn=Cn(fo.top,lo.y,lo.y+lo.height-$t.height),Jn=fp(qo,Sn);return Le.fold(()=>{const ao=bA(Jn,qe,ut);return Vy(ao.left,ao.top)},se(Jn),()=>{const ao=zy(Jn,qe,ut);return Xh(ao.left,ao.top)})})(0,Y.fold(()=>{const Ve=(Le=J,qe=pe.left,ut=pe.top,Le.fold((lo,fo)=>Vy(lo+qe,fo+ut),(lo,fo)=>fp(lo+qe,fo+ut),(lo,fo)=>Xh(lo+qe,fo+ut)));var Le,qe,ut;const $t=zy(Ve,me,ue);return Xh($t.left,$t.top)},Ve=>{const Le=lk(H,Ve,J,pe,me,ue);return Le.extra.each(qe=>{Ve.onSensor(H,qe)}),Le.coord}),me,ue,He))(v,w.snaps,Z,I,K,k,S),V=xA(q,0,K);Rm(A,V)}w.onDrag(v,A,k)})(n,r,p,x)})},CA=(n,r,i,l)=>{r.each(RR),i.snaps.each(m=>{((p,x)=>{((v,w)=>{const S=v.element;Xs(S,w.leftAttr),Xs(S,w.topAttr)})(p,x)})(n,m)});const d=i.getTarget(n.element);l.reset(),i.onDrop(n,d)},hk=n=>(r,i)=>{const l=d=>{i.setStartData($y(r,d))};return Wn([et(yb(),d=>{i.getStartData().each(()=>l(d))}),...n(r,i,l)])};var BR=Object.freeze({__proto__:null,getData:n=>E.from(Ns(n.x,n.y)),getDelta:(n,r)=>Ns(r.left-n.left,r.top-n.top)});const kA=(n,r,i)=>[et(Ki(),(l,d)=>{if(d.event.raw.button!==0)return;d.stop();const m=()=>CA(l,E.some(v),n,r),p=Sb(m,200),x={drop:m,delayDrop:p.schedule,forceDrop:m,move:w=>{p.cancel(),pk(l,n,r,BR,w)}},v=_A(l,n.blockerClass,(w=>Wn([et(Ki(),w.forceDrop),et(bb(),w.drop),et(qr(),(S,k)=>{w.move(k.event)}),et(eu(),w.delayDrop)]))(x));i(l),l0(l,v)})],PR=[...fk,ns("dragger",{handlers:hk(kA)})];var bk=Object.freeze({__proto__:null,getData:n=>{const r=n.raw.touches;return r.length===1?(i=>{const l=i[0];return E.some(Ns(l.clientX,l.clientY))})(r):E.none()},getDelta:(n,r)=>Ns(r.left-n.left,r.top-n.top)});const SA=(n,r,i)=>{const l=zn(),d=m=>{CA(m,l.get(),n,r),l.clear()};return[et(Zl(),(m,p)=>{p.stop();const x=()=>d(m),v={drop:x,delayDrop:we,forceDrop:x,move:S=>{pk(m,n,r,bk,S)}},w=_A(m,n.blockerClass,(S=>Wn([et(Zl(),S.forceDrop),et(Um(),S.drop),et(Gi(),S.drop),et(Kf(),(k,A)=>{S.move(A.event)})]))(v));l.set(w),i(m),l0(m,w)}),et(Kf(),(m,p)=>{p.stop(),pk(m,n,r,bk,p.event)}),et(Um(),(m,p)=>{p.stop(),d(m)}),et(Gi(),d)]},EA=PR,dv=[...fk,ns("dragger",{handlers:hk(SA)})],xk=[...fk,ns("dragger",{handlers:hk((n,r,i)=>[...kA(n,r,i),...SA(n,r,i)])})];var IR=Object.freeze({__proto__:null,mouse:EA,touch:dv,mouseOrTouch:xk}),LR=Object.freeze({__proto__:null,init:()=>{let n=E.none(),r=E.none();const i=se({});return ar({readState:i,reset:()=>{n=E.none(),r=E.none()},update:(l,d)=>l.getData(d).bind(m=>((p,x)=>{const v=n.map(w=>p.getDelta(w,x));return n=E.some(x),v})(l,m)),getStartData:()=>r,setStartData:l=>{r=E.some(l)}})}});const Qh=Xx({branchKey:"mode",branches:IR,name:"dragging",active:{events:(n,r)=>n.dragger.handlers(n,r)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:E.from(n.extra)})},state:LR,apis:DR}),AA=["input","textarea"],vk=n=>{const r=Wt(n);return pt(AA,r)},TA=(n,r)=>{const i=r.getRoot(n).getOr(n.element);rn(i,r.invalidClass),r.notify.each(l=>{vk(n.element)&&io(n.element,"aria-invalid",!1),l.getContainer(n).each(d=>{Mg(d,l.validHtml)}),l.onValid(n)})},DA=(n,r,i,l)=>{const d=r.getRoot(n).getOr(n.element);Ss(d,r.invalidClass),r.notify.each(m=>{vk(n.element)&&io(n.element,"aria-invalid",!0),m.getContainer(n).each(p=>{Mg(p,l)}),m.onInvalid(n,l)})},OA=(n,r,i)=>r.validator.fold(()=>$r(Jo.value(!0)),l=>l.validate(n)),yk=(n,r,i)=>(r.notify.each(l=>{l.onValidate(n)}),OA(n,r).map(l=>n.getSystem().isConnected()?l.fold(d=>(DA(n,r,0,d),Jo.error(d)),d=>(TA(n,r),Jo.value(d))):Jo.error("No longer in system")));var FR=Object.freeze({__proto__:null,markValid:TA,markInvalid:DA,query:OA,run:yk,isInvalid:(n,r)=>{const i=r.getRoot(n).getOr(n.element);return pr(i,r.invalidClass)}}),zR=Object.freeze({__proto__:null,events:(n,r)=>n.validator.map(i=>Wn([et(i.onEvent,l=>{yk(l,n).get(We)})].concat(i.validateOnLoad?[us(l=>{yk(l,n).get(we)})]:[]))).getOr({})}),VR=[ft("invalidClass"),Pe("getRoot",E.none),gi("notify",[Pe("aria","alert"),Pe("getContainer",E.none),Pe("validHtml",""),$o("onValid"),$o("onInvalid"),$o("onValidate")]),gi("validator",[ft("validate"),Pe("onEvent","input"),Pe("validateOnLoad",!0)])];const c0=(n,r,i)=>{r.store.manager.onLoad(n,r,i)},RA=(n,r,i)=>{r.store.manager.onUnload(n,r,i)};var HR=Object.freeze({__proto__:null,onLoad:c0,onUnload:RA,setValue:(n,r,i,l)=>{r.store.manager.setValue(n,r,i,l)},getValue:(n,r,i)=>r.store.manager.getValue(n,r,i),getState:(n,r,i)=>i}),$R=Object.freeze({__proto__:null,events:(n,r)=>{const i=n.resetOnDom?[us((l,d)=>{c0(l,n,r)}),Ec((l,d)=>{RA(l,n,r)})]:[sp(n,r,c0)];return Wn(i)}});const NA=()=>{const n=Ot(null);return ar({set:n.set,get:n.get,isNotSet:()=>n.get()===null,clear:()=>{n.set(null)},readState:()=>({mode:"memory",value:n.get()})})},MA=()=>{const n=Ot({}),r=Ot({});return ar({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:r.get()}),lookup:i=>no(n.get(),i).orThunk(()=>no(r.get(),i)),update:i=>{const l=n.get(),d=r.get(),m={},p={};yt(i,x=>{m[x.value]=x,no(x,"meta").each(v=>{no(v,"text").each(w=>{p[w]=x})})}),n.set({...l,...m}),r.set({...d,...p})},clear:()=>{n.set({}),r.set({})}})};var UR=Object.freeze({__proto__:null,memory:NA,dataset:MA,manual:()=>ar({readState:we}),init:n=>n.store.manager.state(n)});const BA=(n,r,i,l)=>{const d=r.store;i.update([l]),d.setValue(n,l),r.onSetValue(n,l)};var ZR=[Mn("initialValue"),ft("getFallbackEntry"),ft("getDataKey"),ft("setValue"),ns("manager",{setValue:BA,getValue:(n,r,i)=>{const l=r.store,d=l.getDataKey(n);return i.lookup(d).getOrThunk(()=>l.getFallbackEntry(d))},onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{BA(n,r,i,l)})},onUnload:(n,r,i)=>{i.clear()},state:MA})],jR=[ft("getValue"),Pe("setValue",we),Mn("initialValue"),ns("manager",{setValue:(n,r,i,l)=>{r.store.setValue(n,l),r.onSetValue(n,l)},getValue:(n,r,i)=>r.store.getValue(n),onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{r.store.setValue(n,l)})},onUnload:we,state:xi.init})],WR=[Mn("initialValue"),ns("manager",{setValue:(n,r,i,l)=>{i.set(l),r.onSetValue(n,l)},getValue:(n,r,i)=>i.get(),onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{i.isNotSet()&&i.set(l)})},onUnload:(n,r,i)=>{i.clear()},state:NA})],qR=[$l("store",{mode:"memory"},Xa("mode",{memory:WR,manual:jR,dataset:ZR})),$o("onSetValue"),Pe("resetOnDom",!1)];const Vt=xa({fields:qR,name:"representing",active:$R,apis:HR,extra:{setValueFrom:(n,r)=>{const i=Vt.getValue(r);Vt.setValue(n,i)}},state:UR}),im=xa({fields:VR,name:"invalidating",active:zR,apis:FR,extra:{validation:n=>r=>{const i=Vt.getValue(r);return $r(n(i))}}});var GR=Object.freeze({__proto__:null,exhibit:(n,r)=>Ac({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const wk=qs([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),PA=(n,r,i,l,d,m)=>{const p=r.rect,x=p.x-i,v=p.y-l,w=d-(x+p.width),S=m-(v+p.height),k=E.some(x),A=E.some(v),N=E.some(w),I=E.some(S),K=E.none();return r.direction.fold(()=>uu(n,k,A,K,K),()=>uu(n,K,A,N,K),()=>uu(n,k,K,K,I),()=>uu(n,K,K,N,I),()=>uu(n,k,A,K,K),()=>uu(n,k,K,K,I),()=>uu(n,k,A,K,K),()=>uu(n,K,A,N,K))},IA=(n,r)=>n.fold(()=>{const i=r.rect;return uu("absolute",E.some(i.x),E.some(i.y),E.none(),E.none())},(i,l,d,m)=>PA("absolute",r,i,l,d,m),(i,l,d,m)=>PA("fixed",r,i,l,d,m)),Uy=(n,r)=>{const i=nt(hc,r),l=n.fold(i,i,()=>{const p=Oi();return hc(r).translate(-p.left,-p.top)}),d=Gd(r),m=Vu(r);return dn(l.left,l.top,d,m)},KR=(n,r)=>r.fold(()=>n.fold(Qs,Qs,dn),i=>n.fold(se(i),se(i),()=>{const l=LA(n,i.x,i.y);return dn(l.left,l.top,i.width,i.height)})),LA=(n,r,i)=>{const l=Ns(r,i);return n.fold(se(l),se(l),()=>{const d=Oi();return l.translate(-d.left,-d.top)})};wk.none;const YR=wk.relative,XR=wk.fixed,Zy=qs([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),FA=(n,r,i,l)=>{const d=n.bubble,m=d.offset,p=((Y,J,me)=>{const ue=(qe,ut)=>J[qe].map($t=>{const lo=qe==="top"||qe==="bottom",fo=lo?me.top:me.left,qo=(qe==="left"||qe==="top"?Math.max:Math.min)($t,ut)+fo;return lo?Cn(qo,Y.y,Y.bottom):Cn(qo,Y.x,Y.right)}).getOr(ut),pe=ue("left",Y.x),He=ue("top",Y.y),Ve=ue("right",Y.right),Le=ue("bottom",Y.bottom);return dn(pe,He,Ve-pe,Le-He)})(l,n.restriction,m),x=n.x+m.left,v=n.y+m.top,w=dn(x,v,r,i),{originInBounds:S,sizeInBounds:k,visibleW:A,visibleH:N}=((Y,J)=>{const{x:me,y:ue,right:pe,bottom:He}=J,{x:Ve,y:Le,right:qe,bottom:ut,width:$t,height:lo}=Y;return{originInBounds:Ve>=me&&Ve<=pe&&Le>=ue&&Le<=He,sizeInBounds:qe<=pe&&qe>=me&&ut<=He&&ut>=ue,visibleW:Math.min($t,Ve>=me?pe-Ve:qe-me),visibleH:Math.min(lo,Le>=ue?He-Le:ut-ue)}})(w,p),I=S&&k,K=I?w:((Y,J)=>{const{x:me,y:ue,right:pe,bottom:He}=J,{x:Ve,y:Le,width:qe,height:ut}=Y,$t=Math.max(me,pe-qe),lo=Math.max(ue,He-ut),fo=Cn(Ve,me,$t),qo=Cn(Le,ue,lo),Sn=Math.min(fo+qe,pe)-fo,Jn=Math.min(qo+ut,He)-qo;return dn(fo,qo,Sn,Jn)})(w,p),Z=K.width>0&&K.height>0,{maxWidth:q,maxHeight:V}=((Y,J,me)=>{const ue=se(J.bottom-me.y),pe=se(me.bottom-J.y),He=((ut,$t,lo,fo)=>ut.fold($t,$t,fo,fo,$t,fo,lo,lo))(Y,pe,pe,ue),Ve=se(J.right-me.x),Le=se(me.right-J.x);return{maxWidth:((ut,$t,lo,fo)=>ut.fold($t,fo,$t,fo,lo,lo,$t,fo))(Y,Le,Le,Ve),maxHeight:He}})(n.direction,K,l),H={rect:K,maxHeight:V,maxWidth:q,direction:n.direction,placement:n.placement,classes:{on:d.classesOn,off:d.classesOff},layout:n.label,testY:v};return I||n.alwaysFit?Zy.fit(H):Zy.nofit(H,A,N,Z)},zA=["top","bottom","right","left"],jy="data-alloy-transition-timer",QR=(n,r,i,l,d,m)=>{const p=((x,v,w)=>w.exists(S=>{const k=x.mode;return k==="all"||S[k]!==v[k]}))(l,d,m);if(p||((x,v)=>((w,S)=>li(S,k=>pr(w,k)))(x,v.classes))(n,l)){Ro(n,"position",i.position);const x=Uy(r,n),v=IA(r,{...d,rect:x}),w=In(zA,S=>v[S]);((S,k)=>{const A=N=>parseFloat(N).toFixed(3);return Rl(k,(N,I)=>!((K,Z,q=ne)=>Ml(K,Z,q).getOr(K.isNone()&&Z.isNone()))(S[I].map(A),N.map(A))).isSome()})(i,w)&&(Rm(n,w),p&&((S,k)=>{Vl(S,k.classes),Jr(S,jy).each(A=>{clearTimeout(parseInt(A,10)),Xs(S,jy)}),((A,N)=>{const I=Zr(),K=Zr();let Z;const q=J=>{const me=J.raw.pseudoElement??"";return Xo(J.target,A)&&gc(me)&&pt(zA,J.raw.propertyName)},V=J=>{if(Ue(J)||q(J)){I.clear(),K.clear();const me=J?.raw.type;(Ue(me)||me===Yf())&&(clearTimeout(Z),Xs(A,jy),ta(A,N.classes))}},H=Fa(A,PC(),J=>{q(J)&&(H.unbind(),I.set(Fa(A,Yf(),V)),K.set(Fa(A,X2(),V)))}),Y=(J=>{const me=Ve=>{const Le=Va(J,Ve).split(/\s*,\s*/);return Oo(Le,Pl)},ue=Ve=>{if(xe(Ve)&&/^[\d.]+/.test(Ve)){const Le=parseFloat(Ve);return zd(Ve,"ms")?Le:1e3*Le}return 0},pe=me("transition-delay"),He=me("transition-duration");return Yo(He,(Ve,Le,qe)=>{const ut=ue(pe[qe])+ue(Le);return Math.max(Ve,ut)},0)})(A);window.requestAnimationFrame(()=>{Z=setTimeout(V,Y+17),io(A,jy,Z)})})(S,k)})(n,l),Xp(n))}else ta(n,l.classes)},_k=(n,r,i)=>n[r]===void 0?i:n[r],Ck=(n,r,i,l)=>{const d=((m,p,x,v)=>{pn(p,"max-height"),pn(p,"max-width");const w=(S=p,{width:Math.ceil(Gd(S)),height:Vu(S)});var S;return((k,A,N,I,K,Z)=>{const q=I.width,V=I.height,H=(Y,J,me,ue,pe)=>{const He=Y(N,I,K,k,Z),Ve=FA(He,q,V,Z);return Ve.fold(se(Ve),(Le,qe,ut,$t)=>(pe===$t?ut>ue||qe>me:!pe&&$t)?Ve:Zy.nofit(J,me,ue,pe))};return Yo(A,(Y,J)=>{const me=nt(H,J);return Y.fold(se(Y),me)},Zy.nofit({rect:N,maxHeight:I.height,maxWidth:I.width,direction:Jf(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:N.y},-1,-1,!1)).fold(We,We)})(p,v.preference,m,w,x,v.bounds)})(n,r,i,l);return((m,p,x)=>{const v=IA(x.origin,p);x.transition.each(w=>{QR(m,x.origin,v,w,p,x.lastPlacement)}),cA(m,v)})(r,d,l),((m,p)=>{((x,v)=>{io(x,vl,v)})(m,p.placement)})(r,d),((m,p)=>{const x=p.classes;ta(m,x.off),Vl(m,x.on)})(r,d),((m,p,x)=>{(0,x.maxHeightFunction)(m,p.maxHeight)})(r,d,l),((m,p,x)=>{(0,x.maxWidthFunction)(m,p.maxWidth)})(r,d,l),{layout:d.layout,placement:d.placement}},Wy=We,Jh=()=>gi("layouts",[ft("onLtr"),ft("onRtl"),Mn("onBottomLtr"),Mn("onBottomRtl")]),qy=(n,r,i,l,d,m,p)=>{const x=p.map(hy).getOr(!1),v=r.layouts.map(A=>A.onLtr(n)),w=r.layouts.map(A=>A.onRtl(n)),S=x?r.layouts.bind(A=>A.onBottomLtr.map(N=>N(n))).or(v).getOr(d):v.getOr(i),k=x?r.layouts.bind(A=>A.onBottomRtl.map(N=>N(n))).or(w).getOr(m):w.getOr(l);return Fg(S,k)(n)};var Gy=[ft("hotspot"),Mn("bubble"),Pe("overrides",{}),Jh(),ns("placement",(n,r,i)=>{const l=r.hotspot,d=Uy(i,l.element),m=qy(n.element,r,Wx(),ou(),Fb(),Ch(),E.some(r.hotspot.element));return E.some(Wy({anchorBox:d,bubble:r.bubble.getOr(Qf()),overrides:r.overrides,layouts:m}))})],JR=[ft("x"),ft("y"),Pe("height",0),Pe("width",0),Pe("bubble",Qf()),Pe("overrides",{}),Jh(),ns("placement",(n,r,i)=>{const l=LA(i,r.x,r.y),d=dn(l.left,l.top,r.width,r.height),m=qy(n.element,r,tp(),_h(),tp(),_h(),E.none());return E.some(Wy({anchorBox:d,bubble:r.bubble,overrides:r.overrides,layouts:m}))})];const VA=qs([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),eN=n=>n.fold(We,(r,i,l)=>r.translate(-i,-l)),HA=n=>n.fold(We,We),$A=n=>Yo(n,(r,i)=>r.translate(i.left,i.top),Ns(0,0)),kk=n=>{const r=Ee(n,HA);return $A(r)},UA=VA.screen,ZA=VA.absolute,Sk=(n,r,i)=>{const l=jt(n.element),d=Oi(l),m=((p,x,v)=>{const w=Xr(v.root).dom;return E.from(w.frameElement).map(Ft).filter(S=>{const k=jt(S),A=jt(p.element);return Xo(k,A)}).map(Nr)})(n,0,i).getOr(d);return ZA(m,d.left,d.top)},Ky=(n,r,i,l)=>{const d=UA(Ns(n,r));return E.some(((m,p,x)=>({point:m,width:p,height:x}))(d,i,l))},jA=(n,r,i,l,d)=>n.map(m=>{const p=[r,m.point],x=(v=()=>kk(p),w=()=>kk(p),S=()=>(H=>{const Y=Ee(H,eN);return $A(Y)})(p),l.fold(v,w,S));var v,w,S;const k=(K=x.left,Z=x.top,q=m.width,V=m.height,{x:K,y:Z,width:q,height:V}),A=i.showAbove?Fb():Wx(),N=i.showAbove?Ch():ou(),I=qy(d,i,A,N,A,N,E.none());var K,Z,q,V;return Wy({anchorBox:k,bubble:i.bubble.getOr(Qf()),overrides:i.overrides,layouts:I})});var tN=[ft("node"),ft("root"),Mn("bubble"),Jh(),Pe("overrides",{}),Pe("showAbove",!1),ns("placement",(n,r,i)=>{const l=Sk(n,0,r);return r.node.filter(ct).bind(d=>{const m=d.dom.getBoundingClientRect(),p=Ky(m.left,m.top,m.width,m.height),x=r.node.getOr(n.element);return jA(p,l,r,i,x)})})];const Yy=(n,r)=>({element:n,offset:r}),WA=(n,r)=>P(n)?Yy(n,r):((i,l)=>{const d=ml(i);if(d.length===0)return Yy(i,l);if(l<d.length)return Yy(d[l],0);{const m=d[d.length-1],p=P(m)?(x=>Ex.get(x))(m).length:ml(m).length;return Yy(m,p)}})(n,r),Ek=n=>n.foffset!==void 0,pp=(n,r)=>r.getSelection.getOrThunk(()=>()=>(i=>(l=>E.from(l.getSelection()))(i).filter(l=>l.rangeCount>0).bind(q2))(n))().map(i=>{if(Ek(i)){const l=WA(i.start,i.soffset),d=WA(i.finish,i.foffset);return ad.range(l.element,l.offset,d.element,d.offset)}return i});var oN=[Mn("getSelection"),ft("root"),Mn("bubble"),Jh(),Pe("overrides",{}),Pe("showAbove",!1),ns("placement",(n,r,i)=>{const l=Xr(r.root).dom,d=Sk(n,0,r),m=pp(l,r).bind(x=>{if(Ek(x))return((w,S)=>(k=>{const A=k.getBoundingClientRect();return A.width>0||A.height>0?E.some(A).map(Tg):E.none()})(Ff(w,S)))(l,ad.exactFromRange(x)).orThunk(()=>{const w=Eg("\uFEFF");Fl(x.start,w);const S=oh(l,ad.exact(w,0,w,1));return Wd(w),S}).bind(w=>Ky(w.left,w.top,w.width,w.height));{const v=Is(x,S=>S.dom.getBoundingClientRect()),w={left:Math.min(v.firstCell.left,v.lastCell.left),right:Math.max(v.firstCell.right,v.lastCell.right),top:Math.min(v.firstCell.top,v.lastCell.top),bottom:Math.max(v.firstCell.bottom,v.lastCell.bottom)};return Ky(w.left,w.top,w.right-w.left,w.bottom-w.top)}}),p=pp(l,r).bind(x=>Ek(x)?Qo(x.start)?E.some(x.start):pa(x.start):E.some(x.firstCell)).getOr(n.element);return jA(m,d,r,i,p)})];const Xy="link-layout",qA=n=>n.x+n.width,GA=(n,r)=>n.x-r.width,Ak=(n,r)=>n.y-r.height+n.height,KA=n=>n.y,YA=(n,r,i)=>Da(qA(n),KA(n),i.southeast(),Jf(),"southeast",Oa(n,{left:0,top:2}),Xy),Tk=(n,r,i)=>Da(GA(n,r),KA(n),i.southwest(),yh(),"southwest",Oa(n,{right:1,top:2}),Xy),d0=(n,r,i)=>Da(qA(n),Ak(n,r),i.northeast(),wh(),"northeast",Oa(n,{left:0,bottom:3}),Xy),u0=(n,r,i)=>Da(GA(n,r),Ak(n,r),i.northwest(),Ku(),"northwest",Oa(n,{right:1,bottom:3}),Xy),XA=()=>[YA,Tk,d0,u0],uv=()=>[Tk,YA,u0,d0];var nN=[ft("item"),Jh(),Pe("overrides",{}),ns("placement",(n,r,i)=>{const l=Uy(i,r.item.element),d=qy(n.element,r,XA(),uv(),XA(),uv(),E.none());return E.some(Wy({anchorBox:l,bubble:Qf(),overrides:r.overrides,layouts:d}))})],QA=Xa("type",{selection:oN,node:tN,hotspot:Gy,submenu:nN,makeshift:JR});const JA=[Ja("classes",wr),Fi("mode","all",["all","layout","placement"])],e5=[Pe("useFixed",Me),Mn("getBounds")],sN=[Pi("anchor",QA),gi("transition",JA)],t5=(n,r,i,l,d,m)=>{const p=$a("placement.info",go(sN),d),x=p.anchor,v=l.element,w=i.get(l.uid);WC(()=>{Ro(v,"position","fixed");const S=gr(v,"visibility");Ro(v,"visibility","hidden");const k=r.useFixed()?(()=>{const A=document.documentElement;return XR(0,0,A.clientWidth,A.clientHeight)})():(A=>{const N=Nr(A.element),I=A.element.dom.getBoundingClientRect();return YR(N.left,N.top,I.width,I.height)})(n);x.placement(n,x,k).each(A=>{const N=m.orThunk(()=>r.getBounds.map(to)),I=((K,Z,q,V,H,Y)=>((J,me,ue,pe,He,Ve,Le,qe)=>{const ut=_k(Le,"maxHeightFunction",Kx()),$t=_k(Le,"maxWidthFunction",we),lo=J.anchorBox,fo=J.origin,qo={bounds:KR(fo,Ve),origin:fo,preference:pe,maxHeightFunction:ut,maxWidthFunction:$t,lastPlacement:He,transition:qe};return Ck(lo,me,ue,qo)})(((J,me)=>((ue,pe)=>({anchorBox:ue,origin:pe}))(J,me))(Z.anchorBox,K),V.element,Z.bubble,Z.layouts,H,q,Z.overrides,Y))(k,A,N,l,w,p.transition);i.set(l.uid,I)}),S.fold(()=>{pn(v,"visibility")},A=>{Ro(v,"visibility",A)}),gr(v,"left").isNone()&&gr(v,"top").isNone()&&gr(v,"right").isNone()&&gr(v,"bottom").isNone()&&jn(gr(v,"position"),"fixed")&&pn(v,"position")},v)};var rN=Object.freeze({__proto__:null,position:(n,r,i,l,d)=>{const m=E.none();t5(n,r,i,l,d,m)},positionWithinBounds:t5,getMode:(n,r,i)=>r.useFixed()?"fixed":"absolute",reset:(n,r,i,l)=>{const d=l.element;yt(["position","left","right","top","bottom"],m=>pn(d,m)),(m=>{Xs(m,vl)})(d),i.clear(l.uid)}});const Ma=xa({fields:e5,name:"positioning",active:GR,apis:rN,state:Object.freeze({__proto__:null,init:()=>{let n={};return ar({readState:()=>n,clear:r=>{ge(r)?delete n[r]:n={}},set:(r,i)=>{n[r]=i},get:r=>no(n,r)})}})});var mv=Object.freeze({__proto__:null,events:n=>Wn([et(Wm(),(r,i)=>{const l=n.channels,d=Zo(l),m=i,p=((x,v)=>v.universal?x:Oo(x,w=>pt(v.channels,w)))(d,m);yt(p,x=>{const v=l[x],w=v.schema,S=$a("channel["+x+`] data
Receiver: `+Gl(r.element),w,m.data);v.onReceive(r,S)})})])}),aN=[Pi("channels",ih(Jo.value,mi([Cc("onReceive"),Pe("schema",Mi())])))];const tl=xa({fields:aN,name:"receiving",active:mv});var iN=Object.freeze({__proto__:null,events:(n,r)=>{const i=(l,d)=>{n.updateState.each(m=>{const p=m(l,d);r.set(p)}),n.renderComponents.each(m=>{const p=m(d,r.get());(n.reuseDom?du:Oy)(l,p)})};return Wn([et(Wm(),(l,d)=>{const m=d;if(!m.universal){const p=n.channel;pt(m.channels,p)&&i(l,m.data)}}),us((l,d)=>{n.initialData.each(m=>{i(l,m)})})])}}),lN=Object.freeze({__proto__:null,getState:(n,r,i)=>i}),hp=[ft("channel"),Mn("renderComponents"),Mn("updateState"),Mn("initialData"),Aa("reuseDom",!0)];const ra=xa({fields:hp,name:"reflecting",active:iN,apis:lN,state:Object.freeze({__proto__:null,init:()=>{const n=Ot(E.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:()=>n.set(E.none())}}})}),Qy=(n,r,i,l)=>{i.get().each(p=>{WE(n)});const d=r.getAttachPoint(n);cf(d,n);const m=n.getSystem().build(l);return cf(n,m),i.set(m),m},Dk=(n,r,i,l)=>{const d=Qy(n,r,i,l);return r.onOpen(n,d),d},o5=(n,r,i)=>{i.get().each(l=>{WE(n),df(n),r.onClose(n,l),i.clear()})},Ok=(n,r,i)=>i.isOpen(),m0=(n,r,i)=>{const l=r.getAttachPoint(n);Ro(n.element,"position",Ma.getMode(l)),((d,m,p)=>{gr(d.element,m).fold(()=>{Xs(d.element,p)},x=>{io(d.element,p,x)}),Ro(d.element,m,"hidden")})(n,"visibility",r.cloakVisibilityAttr)},g0=(n,r,i)=>{(l=>En(["top","left","right","bottom"],d=>gr(l,d).isSome()))(n.element)||pn(n.element,"position"),((l,d,m)=>{Jr(l.element,m).fold(()=>pn(l.element,d),p=>Ro(l.element,d,p))})(n,"visibility",r.cloakVisibilityAttr)};var Rk=Object.freeze({__proto__:null,cloak:m0,decloak:g0,open:Dk,openWhileCloaked:(n,r,i,l,d)=>{m0(n,r),Dk(n,r,i,l),d(),g0(n,r)},close:o5,isOpen:Ok,isPartOf:(n,r,i,l)=>Ok(0,0,i)&&i.get().exists(d=>r.isPartOf(n,d,l)),getState:(n,r,i)=>i.get(),setContent:(n,r,i,l)=>i.get().map(()=>Qy(n,r,i,l))}),n5=Object.freeze({__proto__:null,events:(n,r)=>Wn([et(ch(),(i,l)=>{o5(i,n,r)})])}),f0=[$o("onOpen"),$o("onClose"),ft("isPartOf"),ft("getAttachPoint"),Pe("cloakVisibilityAttr","data-precloak-visibility")],Jy=Object.freeze({__proto__:null,init:()=>{const n=zn(),r=se("not-implemented");return ar({readState:r,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const Dn=xa({fields:f0,name:"sandboxing",active:n5,apis:Rk,state:Jy}),e1=(n,r)=>r.getAnimationRoot.fold(()=>n.element,i=>i(n)),mu=n=>n.dimension.property,t1=(n,r)=>n.dimension.getDimension(r),Cd=(n,r)=>{const i=e1(n,r);ta(i,[r.shrinkingClass,r.growingClass])},ew=(n,r)=>{rn(n.element,r.openClass),Ss(n.element,r.closedClass),Ro(n.element,mu(r),"0px"),Xp(n.element)},gv=(n,r)=>{rn(n.element,r.closedClass),Ss(n.element,r.openClass),pn(n.element,mu(r))},o1=(n,r,i,l)=>{i.setCollapsed(),Ro(n.element,mu(r),t1(r,n.element)),Cd(n,r),ew(n,r),r.onStartShrink(n),r.onShrunk(n)},s5=(n,r,i,l)=>{const d=l.getOrThunk(()=>t1(r,n.element));i.setCollapsed(),Ro(n.element,mu(r),d),Xp(n.element);const m=e1(n,r);rn(m,r.growingClass),Ss(m,r.shrinkingClass),ew(n,r),r.onStartShrink(n)},fv=(n,r,i)=>{const l=t1(r,n.element);(l==="0px"?o1:s5)(n,r,i,E.some(l))},r5=(n,r,i)=>{const l=e1(n,r),d=pr(l,r.shrinkingClass),m=t1(r,n.element);gv(n,r);const p=t1(r,n.element);(d?()=>{Ro(n.element,mu(r),m),Xp(n.element)}:()=>{ew(n,r)})(),rn(l,r.shrinkingClass),Ss(l,r.growingClass),gv(n,r),Ro(n.element,mu(r),p),i.setExpanded(),r.onStartGrow(n)},Nk=(n,r,i)=>{const l=e1(n,r);return pr(l,r.growingClass)===!0},Mk=(n,r,i)=>{const l=e1(n,r);return pr(l,r.shrinkingClass)===!0};var cN=Object.freeze({__proto__:null,refresh:(n,r,i)=>{if(i.isExpanded()){pn(n.element,mu(r));const l=t1(r,n.element);Ro(n.element,mu(r),l)}},grow:(n,r,i)=>{i.isExpanded()||r5(n,r,i)},shrink:(n,r,i)=>{i.isExpanded()&&fv(n,r,i)},immediateShrink:(n,r,i)=>{i.isExpanded()&&o1(n,r,i)},hasGrown:(n,r,i)=>i.isExpanded(),hasShrunk:(n,r,i)=>i.isCollapsed(),isGrowing:Nk,isShrinking:Mk,isTransitioning:(n,r,i)=>Nk(n,r)||Mk(n,r),toggleGrow:(n,r,i)=>{(i.isExpanded()?fv:r5)(n,r,i)},disableTransitions:Cd,immediateGrow:(n,r,i)=>{i.isExpanded()||(gv(n,r),Ro(n.element,mu(r),t1(r,n.element)),Cd(n,r),i.setExpanded(),r.onStartGrow(n),r.onGrown(n))}}),Bk=Object.freeze({__proto__:null,exhibit:(n,r,i)=>{const l=r.expanded;return Ac(l?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:$g(r.dimension.property,"0px")})},events:(n,r)=>Wn([bd(Yf(),(i,l)=>{l.event.raw.propertyName===n.dimension.property&&(Cd(i,n),r.isExpanded()&&pn(i.element,n.dimension.property),(r.isExpanded()?n.onGrown:n.onShrunk)(i))})])}),lg=[ft("closedClass"),ft("openClass"),ft("shrinkingClass"),ft("growingClass"),Mn("getAnimationRoot"),$o("onShrunk"),$o("onStartShrink"),$o("onGrown"),$o("onStartGrow"),Pe("expanded",!1),Pi("dimension",Xa("property",{width:[ns("property","width"),ns("getDimension",n=>Ln(n)+"px")],height:[ns("property","height"),ns("getDimension",n=>Rr(n)+"px")]}))];const _l=xa({fields:lg,name:"sliding",active:Bk,apis:cN,state:Object.freeze({__proto__:null,init:n=>{const r=Ot(n.expanded);return ar({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:nt(r.set,!1),setExpanded:nt(r.set,!0),readState:()=>"expanded: "+r.get()})}})});var dN=Object.freeze({__proto__:null,events:(n,r)=>{const i=n.stream.streams.setup(n,r);return Wn([et(n.event,i),Ec(()=>r.cancel())].concat(n.cancelEvent.map(l=>[et(l,()=>r.cancel())]).getOr([])))}});const Pk=n=>{const r=Ot(null);return ar({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:i=>{r.set(i)},cancel:()=>{const i=r.get();i!==null&&i.cancel()}})};var a5=Object.freeze({__proto__:null,throttle:Pk,init:n=>n.stream.streams.state(n)}),i5=[Pi("stream",Xa("mode",{throttle:[ft("delay"),Pe("stopEvent",!0),ns("streams",{setup:(n,r)=>{const i=n.stream,l=Pu(n.onStream,i.delay);return r.setTimer(l),(d,m)=>{l.throttle(d,m),i.stopEvent&&m.stop()}},state:Pk})]})),Pe("event","input"),Mn("cancelEvent"),Cc("onStream")];const Ik=xa({fields:i5,name:"streaming",active:dN,state:a5});var uN=Object.freeze({__proto__:null,exhibit:(n,r)=>Ac({attributes:qi([{key:r.tabAttr,value:"true"}])})}),kd=[Pe("tabAttr","data-alloy-tabstop")];const Un=xa({fields:kd,name:"tabstopping",active:uN}),p0=(n,r,i,l)=>{const d=i.get();i.set(l),((m,p,x)=>{p.toggleClass.each(v=>{x.get()?Ss(m.element,v):rn(m.element,v)})})(n,r,i),((m,p,x)=>{const v=p.aria;v.update(m,v,x.get())})(n,r,i),d!==l&&r.onToggled(n,l)},n1=(n,r,i)=>{p0(n,r,i,!i.get())},ol=(n,r,i)=>{p0(n,r,i,r.selected)};var tc=Object.freeze({__proto__:null,onLoad:ol,toggle:n1,isOn:(n,r,i)=>i.get(),on:(n,r,i)=>{p0(n,r,i,!0)},off:(n,r,i)=>{p0(n,r,i,!1)},set:p0}),$i=Object.freeze({__proto__:null,exhibit:()=>Ac({}),events:(n,r)=>{const i=(l=n,d=r,m=n1,ru(x=>{m(x,l,d)}));var l,d,m;const p=sp(n,r,ol);return Wn(Os([n.toggleOnExecute?[i]:[],[p]]))}});const Sd=(n,r,i)=>{io(n.element,"aria-expanded",i)};var Lk=[Pe("selected",!1),Mn("toggleClass"),Pe("toggleOnExecute",!0),$o("onToggled"),$l("aria",{mode:"none"},Xa("mode",{pressed:[Pe("syncWithExpanded",!1),ns("update",(n,r,i)=>{io(n.element,"aria-pressed",i),r.syncWithExpanded&&Sd(n,0,i)})],checked:[ns("update",(n,r,i)=>{io(n.element,"aria-checked",i)})],expanded:[ns("update",Sd)],selected:[ns("update",(n,r,i)=>{io(n.element,"aria-selected",i)})],none:[ns("update",we)]}))];const Lo=xa({fields:Lk,name:"toggling",active:$i,apis:tc,state:(uf=!1,{init:()=>{const n=Ot(uf);return{get:()=>n.get(),set:r=>n.set(r),clear:()=>n.set(uf),readState:()=>n.get()}}})});var uf;const l5=De("tooltip.exclusive"),pv=De("tooltip.show"),hv=De("tooltip.hide"),h0=De("tooltip.immediateHide"),b0=De("tooltip.immediateShow"),bv=(n,r,i)=>{n.getSystem().broadcastOn([l5],{})};var c5=Object.freeze({__proto__:null,hideAllExclusive:bv,immediateOpenClose:(n,r,i,l)=>an(n,l?b0:h0),isEnabled:(n,r,i)=>i.isEnabled(),setComponents:(n,r,i,l)=>{i.getTooltip().each(d=>{d.getSystem().isConnected()&&No.set(d,l)})},setEnabled:(n,r,i,l)=>i.setEnabled(l)}),mN=Object.freeze({__proto__:null,events:(n,r)=>{const i=m=>{r.getTooltip().each(p=>{p.getSystem().isConnected()&&(df(p),n.onHide(m,p),r.clearTooltip())}),r.clearTimer()},l=m=>{if(!r.isShowing()&&r.isEnabled()){bv(m);const p=n.lazySink(m).getOrDie(),x=m.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:Wn(n.mode==="normal"?[et(ei(),v=>{an(m,pv)}),et(eu(),v=>{an(m,hv)})]:[]),behaviours:vt([No.config({})])});r.setTooltip(x),cf(p,x),n.onShow(m,x),Ma.position(p,x,{anchor:n.anchor(m)})}},d=m=>{r.getTooltip().each(p=>{const x=n.lazySink(m).getOrDie();Ma.position(x,p,{anchor:n.anchor(m)})})};return Wn(Os([[by(m=>{n.onSetup(m)}),et(pv,m=>{r.resetTimer(()=>{l(m)},n.delayForShow())}),et(hv,m=>{r.resetTimer(()=>{i(m)},n.delayForHide())}),et(b0,m=>{r.resetTimer(()=>{l(m)},0)}),et(h0,m=>{r.resetTimer(()=>{i(m)},0)}),et(Wm(),(m,p)=>{const x=p;x.universal||(pt(x.channels,l5)||pt(x.channels,Ql()))&&(x.data.closedTooltip&&r.isShowing()&&x.data.closedTooltip(),i(m))}),Ec(m=>{i(m)})],(()=>{switch(n.mode){case"normal":return[et(jl(),m=>{an(m,b0)}),et(Wu(),m=>{an(m,h0)}),et(ei(),m=>{an(m,pv)}),et(eu(),m=>{an(m,hv)})];case"follow-highlight":return[et(Px(),(m,p)=>{an(m,pv)}),et(Ix(),m=>{an(m,hv)})];case"children-normal":return[et(jl(),(m,p)=>{za(m.element).each(x=>{ci(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{an(m,b0)},v=>{r.isShowing()&&(n.onShow(m,v),d(m))})})}),et(Wu(),m=>{za(m.element).fold(()=>{an(m,h0)},we)}),et(ei(),m=>{ls(m.element,"[data-mce-tooltip]:hover").each(p=>{r.getTooltip().fold(()=>{an(m,pv)},x=>{r.isShowing()&&(n.onShow(m,x),d(m))})})}),et(eu(),m=>{ls(m.element,"[data-mce-tooltip]:hover").fold(()=>{an(m,hv)},we)})];default:return[et(jl(),(m,p)=>{za(m.element).each(x=>{ci(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{an(m,b0)},v=>{r.isShowing()&&(n.onShow(m,v),d(m))})})}),et(Wu(),m=>{za(m.element).fold(()=>{an(m,h0)},we)})]}})()]))}}),gN=[ft("lazySink"),ft("tooltipDom"),Pe("exclusive",!0),Pe("tooltipComponents",[]),ds("delayForShow",se(300)),ds("delayForHide",se(100)),ds("onSetup",we),Fi("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Pe("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:se([Lr,sa,Cr,ba,Ir,Ra]),onRtl:se([Lr,sa,Cr,ba,Ir,Ra])},bubble:Xi(0,-2,{})})),$o("onHide"),$o("onShow")],fN=Object.freeze({__proto__:null,init:()=>{const n=Ot(!0),r=zn(),i=zn(),l=()=>{r.on(clearTimeout)},d=se("not-implemented");return ar({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:l,resetTimer:(m,p)=>{l(),r.set(setTimeout(m,p))},readState:d,isEnabled:()=>n.get(),setEnabled:m=>n.set(m)})}});const bs=xa({fields:gN,name:"tooltipping",active:mN,state:fN,apis:c5}),x0=xa({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Wn([tg(Nx(),Ut)]),exhibit:()=>Ac({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),cg=n=>{const r=qp(n),i=ml(r),l=(p=>{const x=p.dom.attributes!==void 0?p.dom.attributes:[];return Yo(x,(v,w)=>w.name==="class"?v:{...v,[w.name]:w.value},{})})(r),d=(p=>Array.prototype.slice.call(p.dom.classList,0))(r),m=i.length===0?{}:{innerHtml:Om(r)};return{tag:Wt(r),classes:d,attributes:l,...m}},On=n=>{const r=(i=>i.uid!==void 0)(n)&&Kn(n,"uid")?n.uid:Gh("memento");return{get:i=>i.getSystem().getByUid(r).getOrDie(),getOpt:i=>i.getSystem().getByUid(r).toOptional(),asSpec:()=>({...n,uid:r})}},aa=iy,dg=FC,pN=(n,r)=>{const i={stopBackspace:!0,...r},l=(k=>{const A=zn(),N=Ot(!1),I=Sb(Z=>{k.triggerEvent(Q2(),Z),N.set(!0)},400),K=qi([{key:Zl(),value:Z=>(mh(Z).each(q=>{I.cancel();const V={x:q.clientX,y:q.clientY,target:Z.target};I.schedule(Z),N.set(!1),A.set(V)}),E.none())},{key:Kf(),value:Z=>(I.cancel(),mh(Z).each(q=>{A.on(V=>{((H,Y)=>{const J=Math.abs(H.clientX-Y.x),me=Math.abs(H.clientY-Y.y);return J>5||me>5})(q,V)&&A.clear()})}),E.none())},{key:Um(),value:Z=>(I.cancel(),A.get().filter(q=>Xo(q.target,Z.target)).map(q=>N.get()?(Z.prevent(),!1):k.triggerEvent(qu(),Z)))}]);return{fireIfReady:(Z,q)=>no(K,q).bind(V=>V(Z))}})(i),d=Ee(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),k=>Fa(n,k,A=>{l.fireIfReady(A,k).each(N=>{N&&A.kill()}),i.triggerEvent(k,A)&&A.kill()})),m=zn(),p=Fa(n,"paste",k=>{l.fireIfReady(k,"paste").each(A=>{A&&k.kill()}),i.triggerEvent("paste",k)&&k.kill(),m.set(setTimeout(()=>{i.triggerEvent(Mx(),k)},0))}),x=Fa(n,"keydown",k=>{i.triggerEvent("keydown",k)?k.kill():i.stopBackspace&&(A=>A.raw.which===ng[0]&&!pt(["input","textarea"],Wt(A.target))&&!Jp(A.target,'[contenteditable="true"]'))(k)&&k.prevent()}),v=Fa(n,"focusin",k=>{i.triggerEvent("focusin",k)&&k.kill()}),w=zn(),S=Fa(n,"focusout",k=>{i.triggerEvent("focusout",k)&&k.kill(),w.set(setTimeout(()=>{i.triggerEvent(Wu(),k)},0))});return{unbind:()=>{yt(d,k=>{k.unbind()}),x.unbind(),v.unbind(),S.unbind(),p.unbind(),m.on(clearTimeout),w.on(clearTimeout)}}},d5=(n,r)=>{const i=no(n,"target").getOr(r);return Ot(i)},xv=qs([{stopped:[]},{resume:["element"]},{complete:[]}]),u5=(n,r,i,l,d,m)=>{const p=n(r,l),x=((v,w)=>{const S=Ot(!1),k=Ot(!1);return{stop:()=>{S.set(!0)},cut:()=>{k.set(!0)},isStopped:S.get,isCut:k.get,event:v,setSource:w.set,getSource:w.get}})(i,d);return p.fold(()=>(m.logEventNoHandlers(r,l),xv.complete()),v=>{const w=v.descHandler;return Ny(w)(x),x.isStopped()?(m.logEventStopped(r,v.element,w.purpose),xv.stopped()):x.isCut()?(m.logEventCut(r,v.element,w.purpose),xv.complete()):Hn(v.element).fold(()=>(m.logNoParent(r,v.element,w.purpose),xv.complete()),S=>(m.logEventResponse(r,v.element,w.purpose),xv.resume(S)))})},m5=(n,r,i,l,d,m)=>u5(n,r,i,l,d,m).fold(Ut,p=>m5(n,r,i,p,d,m),Me),Rc=(n,r,i,l,d)=>{const m=d5(i,l);return m5(n,r,i,l,m,d)},aF=()=>{const n=(()=>{const l={};return{registerId:(d,m,p)=>{An(p,(x,v)=>{const w=l[v]!==void 0?l[v]:{};w[m]=((S,k)=>({cHandler:nt.apply(void 0,[S.handler].concat(k)),purpose:S.purpose}))(x,d),l[v]=w})},unregisterId:d=>{An(l,(m,p)=>{cn(m,d)&&delete m[d]})},filterByType:d=>no(l,d).map(m=>ma(m,(p,x)=>((v,w)=>({id:v,descHandler:w}))(x,p))).getOr([]),find:(d,m,p)=>no(l,m).bind(x=>th(p,v=>((w,S)=>iv(S).bind(k=>no(w,k)).map(k=>((A,N)=>({element:A,descHandler:N}))(S,k)))(x,v),d))}})(),r={},i=l=>{iv(l.element).each(d=>{delete r[d],n.unregisterId(d)})};return{find:(l,d,m)=>n.find(l,d,m),filter:l=>n.filterByType(l),register:l=>{const d=(p=>{const x=p.element;return iv(x).getOrThunk(()=>((v,w)=>{const S=De(aR+"uid-");return t0(w,S),S})(0,p.element))})(l);Kn(r,d)&&((p,x)=>{const v=r[x];if(v!==p)throw new Error('The tagId "'+x+'" is already used by: '+Gl(v.element)+`
Cannot use it for: `+Gl(p.element)+`
The conflicting element is`+(ct(v.element)?" ":" not ")+"already in the DOM");i(p)})(l,d);const m=[l];n.registerId(m,d,l.events),r[d]=l},unregister:i,getById:l=>no(r,l)}},v0=n=>{const r=Z=>Hn(n.element).fold(Ut,q=>Xo(Z,q)),i=aF(),l=(Z,q)=>i.find(r,Z,q),d=pN(n.element,{triggerEvent:(Z,q)=>qm(Z,q.target,V=>((H,Y,J,me)=>Rc(H,Y,J,J.target,me))(l,Z,q,V))}),m={debugInfo:se("real"),triggerEvent:(Z,q,V)=>{qm(Z,q,H=>Rc(l,Z,V,q,H))},triggerFocus:(Z,q)=>{iv(Z).fold(()=>{vr(Z)},V=>{qm(Wl(),Z,H=>(((Y,J,me,ue,pe)=>{const He=d5(me,ue);u5(Y,J,me,ue,He,pe)})(l,Wl(),{originator:q,kill:we,prevent:we,target:Z},Z,H),!1))})},triggerEscape:(Z,q)=>{m.triggerEvent("keydown",Z.element,q.event)},getByUid:Z=>I(Z),getByDom:Z=>K(Z),build:ni,buildOrPatch:By,addToGui:Z=>{v(Z)},removeFromGui:Z=>{w(Z)},addToWorld:Z=>{p(Z)},removeFromWorld:Z=>{x(Z)},broadcast:Z=>{k(Z)},broadcastOn:(Z,q)=>{A(Z,q)},broadcastEvent:(Z,q)=>{N(Z,q)},isConnected:Ut},p=Z=>{Z.connect(m),P(Z.element)||(i.register(Z),yt(Z.components(),p),m.triggerEvent(vb(),Z.element,{target:Z.element}))},x=Z=>{P(Z.element)||(yt(Z.components(),x),i.unregister(Z)),Z.disconnect()},v=Z=>{cf(n,Z)},w=Z=>{df(Z)},S=Z=>{const q=i.filter(Wm());yt(q,V=>{const H=V.descHandler;Ny(H)(Z)})},k=Z=>{S({universal:!0,data:Z})},A=(Z,q)=>{S({universal:!1,channels:Z,data:q})},N=(Z,q)=>((V,H)=>{const Y=(J=>{const me=Ot(!1);return{stop:()=>{me.set(!0)},cut:we,isStopped:me.get,isCut:Me,event:J,setSource:Co("Cannot set source of a broadcasted event"),getSource:Co("Cannot get source of a broadcasted event")}})(H);return yt(V,J=>{const me=J.descHandler;Ny(me)(Y)}),Y.isStopped()})(i.filter(Z),q),I=Z=>i.getById(Z).fold(()=>Jo.error(new Error('Could not find component with uid: "'+Z+'" in system.')),Jo.value),K=Z=>{const q=iv(Z).getOr("not found");return I(q)};return p(n),{root:n,element:n.element,destroy:()=>{d.unbind(),Wd(n.element)},add:v,remove:w,getByUid:I,getByDom:K,addToWorld:p,removeFromWorld:x,broadcast:k,broadcastOn:A,broadcastEvent:N}},bp=()=>{const n=(r,i)=>{i.stop(),Xg(r)};return[et(jm(),n),et(qu(),n),Ju(Zl()),Ju(Ki())]},vv=n=>Wn(Os([n.map(r=>ru((i,l)=>{r(i),l.stop()})).toArray(),bp()])),Ba=vi({name:"Button",factory:n=>{const r=vv(n.action),i=n.dom.tag,l=d=>no(n.dom,"attributes").bind(m=>no(m,d));return{uid:n.uid,dom:n.dom,components:n.components,events:r,behaviours:i0(n.buttonBehaviours,[vo.config({}),Kt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i==="button"?{type:l("type").getOr("button"),...l("role").map(d=>({role:d})).getOr({})}:{role:n.role.getOr(l("role").getOr("button"))}},eventOrder:n.eventOrder}},configFields:[Pe("uid",void 0),ft("dom"),Pe("components",[]),a0("buttonBehaviours",[vo,Kt]),Mn("action"),Mn("role"),Pe("eventOrder",{})]}),hN=se([Pe("shell",!1),ft("makeItem"),Pe("setupItem",we),a0("listBehaviours",[No])]),bN=Sc({name:"items",overrides:()=>({behaviours:vt([No.config({})])})}),xN=se([bN]),g5=el({name:se("CustomList")(),configFields:hN(),partFields:xN(),factory:(n,r,i,l)=>{const d=n.shell?{behaviours:[No.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:d.components,behaviours:qa(n.listBehaviours,d.behaviours),apis:{setItems:(m,p)=>{var x;(x=m,n.shell?E.some(x):fs(x,n,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},v=>{const w=No.contents(v),S=p.length,k=S-w.length,A=k>0?Si(k,()=>n.makeItem()):[],N=w.slice(S);yt(N,K=>No.remove(v,K)),yt(A,K=>No.append(v,K));const I=No.contents(v);yt(I,(K,Z)=>{n.setupItem(m,K,p[Z],Z)})})}}}},apis:{setItems:(n,r,i)=>{n.setItems(r,i)}}}),y0="aria-controls",s1=()=>{const n=De(y0);return{id:n,link:r=>{io(r,y0,n)},unlink:r=>{Xs(r,y0)}}},lm=(n,r)=>Qp(r,i=>Xo(i,n.element),Me)||((i,l)=>(d=>j2(d,m=>{if(!Qo(m))return!1;const p=Bo(m,"id");return p!==void 0&&p.indexOf(y0)>-1}).bind(m=>{const p=Bo(m,"id"),x=Qr(m);return ls(x,`[${y0}="${p}"]`)}))(l).exists(d=>lm(i,d)))(n,r),f5="alloy.item-hover",p5="alloy.item-focus",Fk="alloy.item-toggled",tw=n=>{(za(n.element).isNone()||vo.isFocused(n))&&(vo.isFocused(n)||vo.focus(n),oo(n,f5,{item:n}))},ow=n=>{oo(n,p5,{item:n})},nw=se(f5),sw=se(p5),zk=se(Fk),h5=n=>n.role.fold(()=>n.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),We);var Vk=[ft("data"),ft("components"),ft("dom"),Pe("hasSubmenu",!1),Mn("toggling"),Mn("role"),a0("itemBehaviours",[Lo,vo,Kt,Vt]),Pe("ignoreFocus",!1),Pe("domModification",{}),ns("builder",n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:h5(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:i0(n.itemBehaviours,[n.toggling.fold(Lo.revoke,r=>Lo.config(((i,l)=>({aria:{mode:l?"selected":"checked"},...La(i,(d,m)=>m!=="exclusive"),onToggled:(d,m)=>{Je(i.onToggled)&&i.onToggled(d,m),((p,x)=>{oo(p,Fk,{item:p,state:x})})(d,m)}}))(r,n.role.exists(i=>i==="option")))),vo.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:r=>{ow(r)}}),Kt.config({mode:"execution"}),Vt.config({store:{mode:"memory",initialValue:n.data}}),uo("item-type-events",[...bp(),et(ei(),tw),et(fi(),vo.focus)])]),components:n.components,eventOrder:n.eventOrder})),Pe("eventOrder",{})],vN=[ft("dom"),ft("components"),ns("builder",n=>({dom:n.dom,components:n.components,events:Wn([Qg(fi())])}))];const Hk=se("item-widget"),$k=se([bi({name:"widget",overrides:n=>({behaviours:vt([Vt.config({store:{mode:"manual",getValue:r=>n.data,setValue:we}})])})})]),yv=[ft("uid"),ft("data"),ft("components"),ft("dom"),Pe("autofocus",!1),Pe("ignoreFocus",!1),a0("widgetBehaviours",[Vt,vo,Kt]),Pe("domModification",{}),Bb($k()),ns("builder",n=>{const r=bh(Hk(),n,$k()),i=Nb(Hk(),n,r.internals()),l=m=>fs(m,n,"widget").map(p=>(Kt.focusIn(p),p)),d=(m,p)=>(ag(p.event.target)||n.autofocus&&p.setSource(m.element),E.none());return{dom:n.dom,components:i,domModification:n.domModification,events:Wn([ru((m,p)=>{l(m).each(x=>{p.stop()})}),et(ei(),tw),et(fi(),(m,p)=>{n.autofocus?l(m):vo.focus(m)})]),behaviours:i0(n.widgetBehaviours,[Vt.config({store:{mode:"memory",initialValue:n.data}}),vo.config({ignore:n.ignoreFocus,onFocus:m=>{ow(m)}}),Kt.config({mode:"special",focusIn:n.autofocus?m=>{l(m)}:og(),onLeft:d,onRight:d,onEscape:(m,p)=>vo.isFocused(m)||n.autofocus?(n.autofocus&&p.setSource(m.element),E.none()):(vo.focus(m),E.some(!0))})])}})],Uk=Xa("type",{widget:yv,item:Vk,separator:vN}),yN=se([Ob({factory:{sketch:n=>{const r=$a("menu.spec item",Uk,n);return r.builder(r)}},name:"items",unit:"item",defaults:(n,r)=>cn(r,"uid")?r:{...r,uid:Gh("item")},overrides:(n,r)=>({type:r.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),b5=se([Zs("role"),ft("value"),ft("items"),ft("dom"),ft("components"),Pe("eventOrder",{}),Wa("menuBehaviours",[ln,Vt,kn,Kt]),$l("movement",{mode:"menu",moveOnTab:!0},Xa("mode",{grid:[Gm(),ns("config",(n,r)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:n.focusManager}))],matrix:[ns("config",(n,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+n.markers.item},previousSelector:r.previousSelector,focusManager:n.focusManager})),ft("rowSelector"),Pe("previousSelector",E.none)],menu:[Pe("moveOnTab",!0),ns("config",(n,r)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:r.moveOnTab,focusManager:n.focusManager}))]})),Pi("markers",ny()),Pe("fakeFocus",!1),Pe("focusManager",qb()),$o("onHighlight"),$o("onDehighlight"),Pe("showMenuRole",!0)]),x5=se("alloy.menu-focus"),ug=el({name:"Menu",configFields:b5(),partFields:yN(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:qa(n.menuBehaviours,[ln.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),Vt.config({store:{mode:"memory",initialValue:n.value}}),kn.config({find:E.some}),Kt.config(n.movement.config(n,n.movement))]),events:Wn([et(sw(),(d,m)=>{const p=m.event;d.getSystem().getByDom(p.target).each(x=>{ln.highlight(d,x),m.stop(),oo(d,x5(),{menu:d,item:x})})}),et(nw(),(d,m)=>{const p=m.event.item;ln.highlight(d,p)}),et(zk(),(d,m)=>{const{item:p,state:x}=m.event;x&&Bo(p.element,"role")==="menuitemradio"&&((v,w)=>{const S=oa(v.element,'[role="menuitemradio"][aria-checked="true"]');yt(S,k=>{Xo(k,w.element)||v.getSystem().getByDom(k).each(A=>{Lo.off(A)})})})(d,p)})]),components:r,eventOrder:n.eventOrder,...n.showMenuRole?{domModification:{attributes:{role:n.role.getOr("menu")}}}:{}})}),rw=(n,r,i,l)=>no(i,l).bind(d=>no(n,d).bind(m=>{const p=rw(n,r,i,m);return E.some([m].concat(p))})).getOr([]),r1=n=>n.type==="prepared"?E.some(n.menu):E.none(),Zk=()=>{const n=Ot({}),r=Ot({}),i=Ot({}),l=zn(),d=Ot({}),m=v=>p(v).bind(r1),p=v=>no(r.get(),v),x=v=>no(n.get(),v);return{setMenuBuilt:(v,w)=>{r.set({...r.get(),[v]:{type:"prepared",menu:w}})},setContents:(v,w,S,k)=>{l.set(v),n.set(S),r.set(w),d.set(k);const A=((N,I)=>{const K={};An(N,(H,Y)=>{yt(H,J=>{K[J]=Y})});const Z=I,q=Wc(I,(H,Y)=>({k:H,v:Y})),V=Is(q,(H,Y)=>[Y].concat(rw(K,Z,q,Y)));return Is(K,H=>no(V,H).getOr([H]))})(k,S);i.set(A)},expand:v=>no(n.get(),v).map(w=>{const S=no(i.get(),v).getOr([]);return[w].concat(S)}),refresh:v=>no(i.get(),v),collapse:v=>no(i.get(),v).bind(w=>w.length>1?E.some(w.slice(1)):E.none()),lookupMenu:p,lookupItem:x,otherMenus:v=>{const w=d.get();return Wo(Zo(w),v)},getPrimary:()=>l.get().bind(m),getMenus:()=>r.get(),clear:()=>{n.set({}),r.set({}),i.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(v,w)=>{const S=Oo(x(v).toArray(),k=>m(k).isSome());return no(i.get(),v).bind(k=>{const A=br(S.concat(k));return(N=>{const I=[];for(let K=0;K<N.length;K++){const Z=N[K];if(!Z.isSome())return E.none();I.push(Z.getOrDie())}return E.some(I)})(Uo(A,(N,I)=>((K,Z,q)=>m(K).bind(V=>(H=>Rl(n.get(),(Y,J)=>Y===H))(K).bind(H=>Z(H).map(Y=>({triggeredMenu:V,triggeringItem:Y,triggeringPath:q})))))(N,w,A.slice(0,I+1)).fold(()=>jn(l.get(),N)?[]:[E.none()],K=>[E.some(K)])))})}}},wN=r1,v5=De("tiered-menu-item-highlight"),jk=De("tiered-menu-item-dehighlight"),xp=se("collapse-item"),mf=vi({name:"TieredMenu",configFields:[xl("onExecute"),xl("onEscape"),Cc("onOpenMenu"),Cc("onOpenSubmenu"),$o("onRepositionMenu"),$o("onCollapseMenu"),Pe("highlightOnOpen",Na.HighlightMenuAndItem),Qa("data",[ft("primary"),ft("menus"),ft("expansions")]),Pe("fakeFocus",!1),$o("onHighlightItem"),$o("onDehighlightItem"),$o("onHover"),Gu(),ft("dom"),Pe("navigateOnHover",!0),Pe("stayInDom",!1),Wa("tmenuBehaviours",[Kt,ln,kn,No]),Pe("eventOrder",{})],apis:{collapseMenu:(n,r)=>{n.collapseMenu(r)},highlightPrimary:(n,r)=>{n.highlightPrimary(r)},repositionMenus:(n,r)=>{n.repositionMenus(r)}},factory:(n,r)=>{const i=zn(),l=Zk(),d=H=>Vt.getValue(H).value,m=H=>Is(n.data.menus,(Y,J)=>Uo(Y.items,me=>me.type==="separator"?[]:[me.data.value])),p=ln.highlight,x=(H,Y)=>{p(H,Y),ln.getHighlighted(Y).orThunk(()=>ln.getFirst(Y)).each(J=>{n.fakeFocus?ln.highlight(Y,J):su(H,J.element,fi())})},v=(H,Y)=>cl(Ee(Y,J=>H.lookupMenu(J).bind(me=>me.type==="prepared"?E.some(me.menu):E.none()))),w=(H,Y,J)=>{const me=v(Y,Y.otherMenus(J));yt(me,ue=>{ta(ue.element,[n.markers.backgroundMenu]),n.stayInDom||No.remove(H,ue)})},S=(H,Y)=>{const J=(me=>i.get().getOrThunk(()=>{const ue={},pe=oa(me.element,`.${n.markers.item}`),He=Oo(pe,Ve=>Bo(Ve,"aria-haspopup")==="true");return yt(He,Ve=>{me.getSystem().getByDom(Ve).each(Le=>{const qe=d(Le);ue[qe]=Le})}),i.set(ue),ue}))(H);An(J,(me,ue)=>{const pe=pt(Y,ue);io(me.element,"aria-expanded",pe)})},k=(H,Y,J)=>E.from(J[0]).bind(me=>Y.lookupMenu(me).bind(ue=>{if(ue.type==="notbuilt")return E.none();{const pe=ue.menu,He=v(Y,J.slice(1));return yt(He,Ve=>{Ss(Ve.element,n.markers.backgroundMenu)}),ct(pe.element)||No.append(H,Oc(pe)),ta(pe.element,[n.markers.backgroundMenu]),x(H,pe),w(H,Y,J),E.some(pe)}}));let A;(function(H){H[H.HighlightSubmenu=0]="HighlightSubmenu",H[H.HighlightParent=1]="HighlightParent"})(A||(A={}));const N=(H,Y,J=A.HighlightSubmenu)=>{if(Y.hasConfigured(Jt)&&Jt.isDisabled(Y))return E.some(Y);{const me=d(Y);return l.expand(me).bind(ue=>(S(H,ue),E.from(ue[0]).bind(pe=>l.lookupMenu(pe).bind(He=>{const Ve=((Le,qe,ut)=>{if(ut.type==="notbuilt"){const $t=Le.getSystem().build(ut.nbMenu());return l.setMenuBuilt(qe,$t),$t}return ut.menu})(H,pe,He);return ct(Ve.element)||No.append(H,Oc(Ve)),n.onOpenSubmenu(H,Y,Ve,br(ue)),J===A.HighlightSubmenu?(ln.highlightFirst(Ve),k(H,l,ue)):(ln.dehighlightAll(Ve),E.some(Y))}))))}},I=(H,Y)=>{const J=d(Y);return l.collapse(J).bind(me=>(S(H,me),k(H,l,me).map(ue=>(n.onCollapseMenu(H,Y,ue),ue))))},K=H=>(Y,J)=>pl(J.getSource(),`.${n.markers.item}`).bind(me=>Y.getSystem().getByDom(me).toOptional().bind(ue=>H(Y,ue).map(Ut))),Z=Wn([et(x5(),(H,Y)=>{const J=Y.event.item;l.lookupItem(d(J)).each(()=>{const me=Y.event.menu;ln.highlight(H,me);const ue=d(Y.event.item);l.refresh(ue).each(pe=>w(H,l,pe))})}),ru((H,Y)=>{const J=Y.event.target;H.getSystem().getByDom(J).each(me=>{d(me).indexOf("collapse-item")===0&&I(H,me),N(H,me,A.HighlightSubmenu).fold(()=>{n.onExecute(H,me)},we)})}),us((H,Y)=>{(J=>{const me=((pe,He,Ve)=>Is(Ve,(Le,qe)=>{const ut=()=>ug.sketch({...Le,value:qe,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:($t,lo)=>{oo($t,v5,{menuComp:$t,itemComp:lo})},onDehighlight:($t,lo)=>{oo($t,jk,{menuComp:$t,itemComp:lo})},focusManager:n.fakeFocus?tv():qb()});return qe===He?{type:"prepared",menu:pe.getSystem().build(ut())}:{type:"notbuilt",nbMenu:ut}}))(J,n.data.primary,n.data.menus),ue=m();return l.setContents(n.data.primary,me,n.data.expansions,ue),l.getPrimary()})(H).each(J=>{No.append(H,Oc(J)),n.onOpenMenu(H,J),n.highlightOnOpen===Na.HighlightMenuAndItem?x(H,J):n.highlightOnOpen===Na.HighlightJustMenu&&p(H,J)})}),et(v5,(H,Y)=>{n.onHighlightItem(H,Y.event.menuComp,Y.event.itemComp)}),et(jk,(H,Y)=>{n.onDehighlightItem(H,Y.event.menuComp,Y.event.itemComp)}),...n.navigateOnHover?[et(nw(),(H,Y)=>{const J=Y.event.item;((me,ue)=>{const pe=d(ue);l.refresh(pe).bind(He=>(S(me,He),k(me,l,He)))})(H,J),N(H,J,A.HighlightParent),n.onHover(H,J)})]:[]]),q=H=>ln.getHighlighted(H).bind(ln.getHighlighted),V={collapseMenu:H=>{q(H).each(Y=>{I(H,Y)})},highlightPrimary:H=>{l.getPrimary().each(Y=>{x(H,Y)})},repositionMenus:H=>{l.getPrimary().bind(J=>q(H).bind(me=>{const ue=d(me),pe=Tr(l.getMenus()),He=cl(Ee(pe,wN));return l.getTriggeringPath(ue,Ve=>((Le,qe,ut)=>gn(qe,$t=>{if(!$t.getSystem().isConnected())return E.none();const lo=ln.getCandidates($t);return B(lo,fo=>d(fo)===ut)}))(0,He,Ve))}).map(me=>({primary:J,triggeringPath:me}))).fold(()=>{(J=>E.from(J.components()[0]).filter(me=>Bo(me.element,"role")==="menu"))(H).each(J=>{n.onRepositionMenu(H,J,[])})},({primary:J,triggeringPath:me})=>{n.onRepositionMenu(H,J,me)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:qa(n.tmenuBehaviours,[Kt.config({mode:"special",onRight:K((H,Y)=>ag(Y.element)?E.none():N(H,Y,A.HighlightSubmenu)),onLeft:K((H,Y)=>ag(Y.element)?E.none():I(H,Y)),onEscape:K((H,Y)=>I(H,Y).orThunk(()=>n.onEscape(H,Y).map(()=>H))),focusIn:(H,Y)=>{l.getPrimary().each(J=>{su(H,J.element,fi())})}}),ln.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),kn.config({find:H=>ln.getHighlighted(H)}),No.config({})]),eventOrder:n.eventOrder,apis:V,events:Z}},extraApis:{tieredData:(n,r,i)=>({primary:n,menus:r,expansions:i}),singleData:(n,r)=>({primary:n,menus:$g(n,r),expansions:{}}),collapseItem:n=>({value:De(xp()),meta:{text:n}})}}),aw=se("sink"),iw=se(Sc({name:aw(),overrides:se({dom:{tag:"div"},behaviours:vt([Ma.config({useFixed:Ut})]),events:Wn([Ju(yc()),Ju(Ki()),Ju(jm())])})})),y5=mi([Pe("isExtraPart",Me),gi("fireEventInstead",[Pe("event",Ug())])]),w0=n=>{const r=$a("Dismissal",y5,n);return{[xd()]:{schema:mi([ft("target")]),onReceive:(i,l)=>{Dn.isOpen(i)&&(Dn.isPartOf(i,l.target)||r.isExtraPart(i,l.target)||r.fireEventInstead.fold(()=>Dn.close(i),d=>an(i,d.event)))}}}},Wk=mi([gi("fireEventInstead",[Pe("event",ty())]),bl("doReposition")]),qk=n=>{const r=$a("Reposition",Wk,n);return{[oi()]:{onReceive:i=>{Dn.isOpen(i)&&r.fireEventInstead.fold(()=>r.doReposition(i),l=>an(i,l.event))}}}},w5=(n,r)=>{const i=n.getHotspot(r).getOr(r),l="hotspot",d=n.getAnchorOverrides();return n.layouts.fold(()=>({type:l,hotspot:i,overrides:d}),m=>({type:l,hotspot:i,overrides:d,layouts:m}))},Ed=(n,r,i,l,d,m,p)=>((v,w,S,k,A,N,I)=>{const K=((q,V,H)=>(0,q.fetch)(H).map(V))(v,w,k),Z=Nc(k,v);return K.map(q=>q.bind(V=>{const H=V.menus[V.primary];return E.from(H).each(Y=>{v.listRole.each(J=>{Y.role=J})}),E.from(mf.sketch({...N.menu(),uid:Gh(""),data:V,highlightOnOpen:I,onOpenMenu:(Y,J)=>{const me=Z().getOrDie();Ma.position(me,J,{anchor:S}),Dn.decloak(A)},onOpenSubmenu:(Y,J,me)=>{const ue=Z().getOrDie();Ma.position(ue,me,{anchor:{type:"submenu",item:J}}),Dn.decloak(A)},onRepositionMenu:(Y,J,me)=>{const ue=Z().getOrDie();Ma.position(ue,J,{anchor:S}),yt(me,pe=>{Ma.position(ue,pe.triggeredMenu,{anchor:{type:"submenu",item:pe.triggeringItem}})})},onEscape:()=>(vo.focus(k),Dn.close(A),E.some(!0))}))}))})(n,r,w5(n,i),i,l,d,p).map(v=>(v.fold(()=>{Dn.isOpen(l)&&Dn.close(l)},w=>{Dn.cloak(l),Dn.open(l,w),m(l)}),l)),_N=(n,r,i,l,d,m,p)=>(Dn.close(l),$r(l)),_5=(n,r,i,l,d,m)=>{const p=Sr.getCoupled(i,"sandbox");return(Dn.isOpen(p)?_N:Ed)(n,r,i,p,l,d,m)},Nc=(n,r)=>n.getSystem().getByUid(r.uid+"-"+aw()).map(i=>()=>Jo.value(i)).getOrThunk(()=>r.lazySink.fold(()=>()=>Jo.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(n))),ya=n=>{Dn.getState(n).each(r=>{mf.repositionMenus(r)})},C5=(n,r,i)=>{const l=s1(),d=Nc(r,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:l.id}},behaviours:i0(n.sandboxBehaviours,[Vt.config({store:{mode:"memory",initialValue:r}}),Dn.config({onOpen:(m,p)=>{const x=w5(n,r);l.link(r.element),n.matchWidth&&((v,w,S)=>{const k=kn.getCurrent(w).getOr(w),A=Ln(v.element);S?Ro(k.element,"min-width",A+"px"):((N,I)=>{Ig.set(N,I)})(k.element,A)})(x.hotspot,p,n.useMinWidth),n.onOpen(x,m,p),i!==void 0&&i.onOpen!==void 0&&i.onOpen(m,p)},onClose:(m,p)=>{l.unlink(r.element),d().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(m,p)},isPartOf:(m,p,x)=>lm(p,x)||lm(r,x),getAttachPoint:()=>d().getOrDie()}),kn.config({find:m=>Dn.getState(m).bind(p=>kn.getCurrent(p))}),tl.config({channels:{...w0({isExtraPart:Me}),...qk({doReposition:ya})}})])}},lw=()=>[Pe("sandboxClasses",[]),a0("sandboxBehaviours",[kn,tl,Dn,Vt])],CN=se([ft("dom"),ft("fetch"),$o("onOpen"),zi("onExecute"),Pe("getHotspot",E.some),Pe("getAnchorOverrides",se({})),Jh(),Wa("dropdownBehaviours",[Lo,Sr,Kt,vo]),ft("toggleClass"),Pe("eventOrder",{}),Mn("lazySink"),Pe("matchWidth",!1),Pe("useMinWidth",!1),Mn("role"),Mn("listRole")].concat(lw())),k5=se([Kl({schema:[Gu(),Pe("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),iw()]),nl=el({name:"Dropdown",configFields:CN(),partFields:k5(),factory:(n,r,i,l)=>{const d=v=>{Dn.getState(v).each(w=>{mf.highlightPrimary(w)})},m=(v,w,S)=>_5(n,We,v,l,w,S),p={expand:v=>{Lo.isOn(v)||m(v,we,Na.HighlightNone).get(we)},open:v=>{Lo.isOn(v)||m(v,we,Na.HighlightMenuAndItem).get(we)},refetch:v=>Sr.getExistingCoupled(v,"sandbox").fold(()=>m(v,we,Na.HighlightMenuAndItem).map(we),w=>Ed(n,We,v,w,l,we,Na.HighlightMenuAndItem).map(we)),isOpen:Lo.isOn,close:v=>{Lo.isOn(v)&&m(v,we,Na.HighlightMenuAndItem).get(we)},repositionMenus:v=>{Lo.isOn(v)&&(w=>{const S=Sr.getCoupled(w,"sandbox");ya(S)})(v)}},x=(v,w)=>(Xg(v),E.some(!0));return{uid:n.uid,dom:n.dom,components:r,behaviours:qa(n.dropdownBehaviours,[Lo.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Sr.config({others:{sandbox:v=>C5(n,v,{onOpen:()=>Lo.on(v),onClose:()=>Lo.off(v)})}}),Kt.config({mode:"special",onSpace:x,onEnter:x,onDown:(v,w)=>{if(nl.isOpen(v)){const S=Sr.getCoupled(v,"sandbox");d(S)}else nl.open(v);return E.some(!0)},onEscape:(v,w)=>nl.isOpen(v)?(nl.close(v),E.some(!0)):E.none()}),vo.config({})]),events:vv(E.some(v=>{m(v,d,Na.HighlightMenuAndItem).get(we)})),eventOrder:{...n.eventOrder,[Yi()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":n.listRole.getOr("true"),...n.role.fold(()=>({}),v=>({role:v})),...n.dom.tag==="button"?{type:no(n.dom,"attributes").bind(v=>no(v,"type")).getOr("button")}:{}}}}},apis:{open:(n,r)=>n.open(r),refetch:(n,r)=>n.refetch(r),expand:(n,r)=>n.expand(r),close:(n,r)=>n.close(r),isOpen:(n,r)=>n.isOpen(r),repositionMenus:(n,r)=>n.repositionMenus(r)}}),a1="form",S5=[Wa("formBehaviours",[Vt])],Gk=n=>"<alloy.field."+n+">",kN=(n,r)=>({uid:n.uid,dom:n.dom,components:r,behaviours:qa(n.formBehaviours,[Vt.config({store:{mode:"manual",getValue:i=>{const l=$x(i,n);return Is(l,(d,m)=>d().bind(p=>{return x=kn.getCurrent(p),v=new Error(`Cannot find a current component to extract the value from for form part '${m}': `+Gl(p.element)),x.fold(()=>Jo.error(v),Jo.value);var x,v}).map(Vt.getValue))},setValue:(i,l)=>{An(l,(d,m)=>{fs(i,n,m).each(p=>{kn.getCurrent(p).each(x=>{Vt.setValue(x,d)})})})}}})]),apis:{getField:(i,l)=>fs(i,n,l).bind(kn.getCurrent)}}),_0={getField:wd((n,r,i)=>n.getField(r,i)),sketch:n=>{const r=(()=>{const m=[];return{field:(p,x)=>(m.push(p),Rb(a1,Gk(p),x)),record:se(m)}})(),i=n(r),l=r.record(),d=Ee(l,m=>bi({name:m,pname:Gk(m)}));return mk(a1,S5,d,kN,i)}},i1=se([ft("dom"),Pe("shell",!0),Wa("toolbarBehaviours",[No])]),E5=se([Sc({name:"groups",overrides:()=>({behaviours:vt([No.config({})])})})]),cm=el({name:"Toolbar",configFields:i1(),partFields:E5(),factory:(n,r,i,l)=>{const d=n.shell?{behaviours:[No.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:d.components,behaviours:qa(n.toolbarBehaviours,d.behaviours),apis:{setGroups:(m,p)=>{var x;(x=m,n.shell?E.some(x):fs(x,n,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},v=>{No.set(v,p)})},refresh:we},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)}}}),SN=se([_c(["toggledClass"]),ft("lazySink"),bl("fetch"),Pr("getBounds"),gi("fireDismissalEventInstead",[Pe("event",Ug())]),Jh(),$o("onToggled")]),A5=se([Kl({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:vt([Lo.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),Kl({factory:cm,schema:i1(),name:"toolbar",overrides:n=>({toolbarBehaviours:vt([Kt.config({mode:"cyclic",onEscape:r=>(fs(r,n,"button").each(vo.focus),E.none())})])})})]),wv=zn(),cw=(n,r)=>{const i=Sr.getCoupled(n,"toolbarSandbox");Dn.isOpen(i)?Dn.close(i):Dn.open(i,r.toolbar())},dw=(n,r,i,l)=>{const d=i.getBounds.map(p=>p()),m=i.lazySink(n).getOrDie();Ma.positionWithinBounds(m,r,{anchor:{type:"hotspot",hotspot:n,layouts:l,overrides:{maxWidthFunction:Ub()}}},d)},_v=(n,r,i,l,d)=>{cm.setGroups(r,d),dw(n,r,i,l),Lo.on(n)},gf=el({name:"FloatingToolbarButton",factory:(n,r,i,l)=>({...Ba.sketch({...l.button(),action:d=>{cw(d,l)},buttonBehaviours:i0({dump:l.button().buttonBehaviours},[Sr.config({others:{toolbarSandbox:d=>((m,p,x)=>{const v=s1();return{dom:{tag:"div",attributes:{id:v.id}},behaviours:vt([Kt.config({mode:"special",onEscape:w=>(Dn.close(w),E.some(!0))}),Dn.config({onOpen:(w,S)=>{const k=wv.get().getOr(!1);x.fetch().get(A=>{_v(m,S,x,p.layouts,A),v.link(m.element),k||Kt.focusIn(S)})},onClose:()=>{Lo.off(m),wv.get().getOr(!1)||vo.focus(m),v.unlink(m.element)},isPartOf:(w,S,k)=>lm(S,k)||lm(m,k),getAttachPoint:()=>x.lazySink(m).getOrDie()}),tl.config({channels:{...w0({isExtraPart:Me,...x.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...qk({doReposition:()=>{Dn.getState(Sr.getCoupled(m,"toolbarSandbox")).each(w=>{dw(m,w,x,p.layouts)})}})}})])}})(d,i,n)}})])}),apis:{setGroups:(d,m)=>{Dn.getState(Sr.getCoupled(d,"toolbarSandbox")).each(p=>{_v(d,p,n,i.layouts,m)})},reposition:d=>{Dn.getState(Sr.getCoupled(d,"toolbarSandbox")).each(m=>{dw(d,m,n,i.layouts)})},toggle:d=>{cw(d,l)},toggleWithoutFocusing:d=>{((m,p)=>{wv.set(!0),cw(m,p),wv.clear()})(d,l)},getToolbar:d=>Dn.getState(Sr.getCoupled(d,"toolbarSandbox")),isOpen:d=>Dn.isOpen(Sr.getCoupled(d,"toolbarSandbox"))}}),configFields:SN(),partFields:A5(),apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},reposition:(n,r)=>{n.reposition(r)},toggle:(n,r)=>{n.toggle(r)},toggleWithoutFocusing:(n,r)=>{n.toggleWithoutFocusing(r)},getToolbar:(n,r)=>n.getToolbar(r),isOpen:(n,r)=>n.isOpen(r)}}),l1=se([Pe("prefix","form-field"),Wa("fieldBehaviours",[kn,Vt])]),Cv=se([Sc({schema:[ft("dom")],name:"label"}),Sc({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[ft("text")],name:"aria-descriptor"}),bi({factory:{sketch:n=>{const r=((i,l)=>{const d={};return An(i,(m,p)=>{pt(l,p)||(d[p]=m)}),d})(n,["factory"]);return n.factory.sketch(r)}},schema:[ft("factory")],name:"field"})]),en=el({name:"FormField",configFields:l1(),partFields:Cv(),factory:(n,r,i,l)=>{const d=qa(n.fieldBehaviours,[kn.config({find:x=>fs(x,n,"field")}),Vt.config({store:{mode:"manual",getValue:x=>kn.getCurrent(x).bind(Vt.getValue),setValue:(x,v)=>{kn.getCurrent(x).each(w=>{Vt.setValue(w,v)})}}})]),m=Wn([us((x,v)=>{const w=Kg(x,n,["label","field","aria-descriptor"]);w.field().each(S=>{const k=De(n.prefix);w.label().each(A=>{io(A.element,"for",k),io(S.element,"id",k)}),w["aria-descriptor"]().each(A=>{const N=De(n.prefix);io(A.element,"id",N),io(S.element,"aria-describedby",N)})})})]),p={getField:x=>fs(x,n,"field"),getLabel:x=>fs(x,n,"label")};return{uid:n.uid,dom:n.dom,components:r,behaviours:d,events:m,apis:p}},apis:{getField:(n,r)=>n.getField(r),getLabel:(n,r)=>n.getLabel(r)}}),EN=se([Pe("field1Name","field1"),Pe("field2Name","field2"),Cc("onLockedChange"),_c(["lockClass"]),Pe("locked",!1),a0("coupledFieldBehaviours",[kn,Vt]),ds("onInput",we)]),T5=(n,r)=>bi({factory:en,name:n,overrides:i=>({fieldBehaviours:vt([uo("coupled-input-behaviour",[et(ud(),l=>{((d,m,p)=>fs(d,m,p).bind(kn.getCurrent))(l,i,r).each(d=>{fs(l,i,"lock").each(m=>{Lo.isOn(m)&&i.onLockedChange(l,d,m),i.onInput(l)})})})])])})}),AN=se([T5("field1","field2"),T5("field2","field1"),bi({factory:Ba,schema:[ft("dom")],name:"lock",overrides:n=>({buttonBehaviours:vt([Lo.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),ir=el({name:"FormCoupledInputs",configFields:EN(),partFields:AN(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,behaviours:i0(n.coupledFieldBehaviours,[kn.config({find:E.some}),Vt.config({store:{mode:"manual",getValue:d=>{const m=vh(d,n,["field1","field2"]);return{[n.field1Name]:Vt.getValue(m.field1()),[n.field2Name]:Vt.getValue(m.field2())}},setValue:(d,m)=>{const p=vh(d,n,["field1","field2"]);Kn(m,n.field1Name)&&Vt.setValue(p.field1(),m[n.field1Name]),Kn(m,n.field2Name)&&Vt.setValue(p.field2(),m[n.field2Name])}}})]),apis:{getField1:d=>fs(d,n,"field1"),getField2:d=>fs(d,n,"field2"),getLock:d=>fs(d,n,"lock")}}),apis:{getField1:(n,r)=>n.getField1(r),getField2:(n,r)=>n.getField2(r),getLock:(n,r)=>n.getLock(r)}}),TN=vi({name:"HtmlSelect",configFields:[ft("options"),Wa("selectBehaviours",[vo,Vt]),Pe("selectClasses",[]),Pe("selectAttributes",{}),Mn("data")],factory:(n,r)=>{const i=Ee(n.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),l=n.data.map(d=>$g("initialValue",d)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:qa(n.selectBehaviours,[vo.config({}),Vt.config({store:{mode:"manual",getValue:d=>jr(d.element),setValue:(d,m)=>{const p=Et(n.options);B(n.options,x=>x.value===m).isSome()?Yd(d.element,m):d.element.dom.selectedIndex===-1&&m===""&&p.each(x=>Yd(d.element,x.value))},...l}})])}}}),zs=vi({name:"InlineView",configFields:[ft("lazySink"),$o("onShow"),$o("onHide"),Pr("onEscape"),Wa("inlineBehaviours",[Dn,Vt,tl]),gi("fireDismissalEventInstead",[Pe("event",Ug())]),gi("fireRepositionEventInstead",[Pe("event",ty())]),Pe("getRelated",E.none),Pe("isExtraPart",Me),Pe("eventOrder",E.none)],factory:(n,r)=>{const i=(p,x,v,w)=>{const S=n.lazySink(p).getOrDie();Dn.openWhileCloaked(p,x,()=>Ma.positionWithinBounds(S,p,v,w())),Vt.setValue(p,E.some({mode:"position",config:v,getBounds:w}))},l=(p,x,v,w)=>{const S=((k,A,N,I,K)=>{const Z=()=>k.lazySink(A),q=I.type==="horizontal"?{layouts:{onLtr:()=>Wx(),onRtl:()=>ou()}}:{},V=H=>(Y=>Y.length===2)(H)?q:{};return mf.sketch({dom:{tag:"div"},data:I.data,markers:I.menu.markers,highlightOnOpen:I.menu.highlightOnOpen,fakeFocus:I.menu.fakeFocus,onEscape:()=>(Dn.close(A),k.onEscape.map(H=>H(A)),E.some(!0)),onExecute:()=>E.some(!0),onOpenMenu:(H,Y)=>{Ma.positionWithinBounds(Z().getOrDie(),Y,N,K())},onOpenSubmenu:(H,Y,J,me)=>{const ue=Z().getOrDie();Ma.position(ue,J,{anchor:{type:"submenu",item:Y,...V(me)}})},onRepositionMenu:(H,Y,J)=>{const me=Z().getOrDie();Ma.positionWithinBounds(me,Y,N,K()),yt(J,ue=>{const pe=V(ue.triggeringPath);Ma.position(me,ue.triggeredMenu,{anchor:{type:"submenu",item:ue.triggeringItem,...pe}})})}})})(n,p,x,v,w);Dn.open(p,S),Vt.setValue(p,E.some({mode:"menu",menu:S}))},d=p=>{Dn.isOpen(p)&&Vt.getValue(p).each(x=>{switch(x.mode){case"menu":Dn.getState(p).each(mf.repositionMenus);break;case"position":const v=n.lazySink(p).getOrDie();Ma.positionWithinBounds(v,p,x.config,x.getBounds())}})},m={setContent:(p,x)=>{Dn.setContent(p,x)},showAt:(p,x,v)=>{const w=E.none;i(p,x,v,w)},showWithinBounds:i,showMenuAt:(p,x,v)=>{l(p,x,v,E.none)},showMenuWithinBounds:l,hide:p=>{Dn.isOpen(p)&&(Vt.setValue(p,E.none()),Dn.close(p))},getContent:p=>Dn.getState(p),reposition:d,isOpen:Dn.isOpen};return{uid:n.uid,dom:n.dom,behaviours:qa(n.inlineBehaviours,[Dn.config({isPartOf:(p,x,v)=>lm(x,v)||((w,S)=>n.getRelated(w).exists(k=>lm(k,S)))(p,v),getAttachPoint:p=>n.lazySink(p).getOrDie(),onOpen:p=>{n.onShow(p)},onClose:p=>{n.onHide(p)}}),Vt.config({store:{mode:"memory",initialValue:E.none()}}),tl.config({channels:{...w0({isExtraPart:r.isExtraPart,...n.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...qk({...n.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:d})}})]),eventOrder:n.eventOrder,apis:m}},apis:{showAt:(n,r,i,l)=>{n.showAt(r,i,l)},showWithinBounds:(n,r,i,l,d)=>{n.showWithinBounds(r,i,l,d)},showMenuAt:(n,r,i,l)=>{n.showMenuAt(r,i,l)},showMenuWithinBounds:(n,r,i,l,d)=>{n.showMenuWithinBounds(r,i,l,d)},hide:(n,r)=>{n.hide(r)},isOpen:(n,r)=>n.isOpen(r),getContent:(n,r)=>n.getContent(r),setContent:(n,r,i)=>{n.setContent(r,i)},reposition:(n,r)=>{n.reposition(r)}}}),D5=se([Es("type","text"),Mn("data"),Pe("inputAttributes",{}),Pe("inputStyles",{}),Pe("tag","input"),Pe("inputClasses",[]),$o("onSetValue"),ds("fromInputValue",We),ds("toInputValue",We),Pe("styles",{}),Pe("eventOrder",{}),Wa("inputBehaviours",[Vt,vo]),Pe("selectOnFocus",!0)]),O5=n=>vt([vo.config({onFocus:n.selectOnFocus?r=>{const i=r.element,l=jr(i);n.type!=="range"&&i.dom.setSelectionRange(0,l.length)}:we})]),R5=n=>({...O5(n),...qa(n.inputBehaviours,[Vt.config({store:{mode:"manual",...n.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>n.fromInputValue(jr(r.element)),setValue:(r,i)=>{jr(r.element)!==i&&Yd(r.element,n.toInputValue(i))}},onSetValue:n.onSetValue})])}),c1=n=>({tag:n.tag,attributes:{type:n.type,...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),mg=vi({name:"Input",configFields:D5(),factory:(n,r)=>({uid:n.uid,dom:c1(n),components:[],behaviours:R5(n),eventOrder:n.eventOrder})}),uw=fd(Hk(),$k()),DN=se([ft("lazySink"),Mn("dragBlockClass"),ds("getBounds",Qs),Pe("useTabstopAt",Ut),Pe("firstTabstop",0),Pe("eventOrder",{}),Wa("modalBehaviours",[Kt]),zi("onExecute"),xl("onEscape")]),mw={sketch:We},N5=se([Sc({name:"draghandle",overrides:(n,r)=>({behaviours:vt([Qh.config({mode:"mouse",getTarget:i=>ea(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:n.getDragBounds})])})}),bi({schema:[ft("dom")],name:"title"}),bi({factory:mw,schema:[ft("dom")],name:"close"}),bi({factory:mw,schema:[ft("dom")],name:"body"}),Sc({factory:mw,schema:[ft("dom")],name:"footer"}),Kl({factory:{sketch:(n,r)=>({...n,dom:r.dom,components:r.components})},schema:[Pe("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Pe("components",[])],name:"blocker"})]),ia=el({name:"ModalDialog",configFields:DN(),partFields:N5(),factory:(n,r,i,l)=>{const d=zn(),m=De("modal-events"),p={...n.eventOrder,[wc()]:[m].concat(n.eventOrder["alloy.system.attached"]||[])},x=Se();return{uid:n.uid,dom:n.dom,components:r,apis:{show:v=>{d.set(v);const w=n.lazySink(v).getOrDie(),S=l.blocker(),k=w.getSystem().build({...S,components:S.components.concat([Oc(v)]),behaviours:vt([vo.config({}),uo("dialog-blocker-events",[bd(jl(),()=>{am.isBlocked(v)||Kt.focusIn(v)})])])});cf(w,k),Kt.focusIn(v)},hide:v=>{d.clear(),Hn(v.element).each(w=>{v.getSystem().getByDom(w).each(S=>{df(S)})})},getBody:v=>Ym(v,n,"body"),getFooter:v=>fs(v,n,"footer"),setIdle:v=>{am.unblock(v)},setBusy:(v,w)=>{am.block(v,w)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:qa(n.modalBehaviours,[No.config({}),Kt.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),am.config({getRoot:d.get}),uo(m,[us(v=>{const w=Ym(v,n,"title").element,S=(k=>k.dom.textContent)(w);x.os.isMacOS()&&ge(S)?io(v.element,"aria-label",S):((k,A)=>{const N=Jr(k,"id").fold(()=>{const I=De("dialog-label");return io(A,"id",I),I},We);io(k,"aria-labelledby",N)})(v.element,w)})])])}},apis:{show:(n,r)=>{n.show(r)},hide:(n,r)=>{n.hide(r)},getBody:(n,r)=>n.getBody(r),getFooter:(n,r)=>n.getFooter(r),setBusy:(n,r,i)=>{n.setBusy(r,i)},setIdle:(n,r)=>{n.setIdle(r)}}}),ON=Sc({schema:[ft("dom")],name:"label"}),vp=n=>Sc({name:n+"-edge",overrides:r=>r.model.manager.edgeActions[n].fold(()=>({}),i=>({events:Wn([Zb(Zl(),(l,d,m)=>i(l,m),[r]),Zb(Ki(),(l,d,m)=>i(l,m),[r]),Zb(qr(),(l,d,m)=>{m.mouseIsDown.get()&&i(l,m)},[r])])}))}),RN=vp("top-left"),NN=vp("top"),MN=vp("top-right"),gw=vp("right"),Kk=vp("bottom-right"),BN=vp("bottom"),iF=vp("bottom-left"),M5=vp("left"),PN=bi({name:"thumb",defaults:se({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:Wn([np(Zl(),n,"spectrum"),np(Kf(),n,"spectrum"),np(Um(),n,"spectrum"),np(Ki(),n,"spectrum"),np(qr(),n,"spectrum"),np(bb(),n,"spectrum")])})}),fw=n=>ip(n.event),Ad=bi({schema:[Ea("mouseIsDown",()=>Ot(!1))],name:"spectrum",overrides:n=>{const r=n.model.manager,i=(l,d)=>r.getValueFromEvent(d).map(m=>r.setValueFrom(l,n,m));return{behaviours:vt([Kt.config({mode:"special",onLeft:(l,d)=>r.onLeft(l,n,fw(d)),onRight:(l,d)=>r.onRight(l,n,fw(d)),onUp:(l,d)=>r.onUp(l,n,fw(d)),onDown:(l,d)=>r.onDown(l,n,fw(d))}),Un.config({}),vo.config({})]),events:Wn([et(Zl(),i),et(Kf(),i),et(Ki(),i),et(qr(),(l,d)=>{n.mouseIsDown.get()&&i(l,d)})])}}});var IN=[ON,M5,gw,NN,BN,RN,MN,iF,Kk,PN,Ad];const kv=se("slider.change.value"),Yk=n=>{const r=n.event.raw;if((i=>i.type.indexOf("touch")!==-1)(r)){const i=r;return i.touches!==void 0&&i.touches.length===1?E.some(i.touches[0]).map(l=>Ns(l.clientX,l.clientY)):E.none()}{const i=r;return i.clientX!==void 0?E.some(i).map(l=>Ns(l.clientX,l.clientY)):E.none()}},d1=n=>n.model.minX,u1=n=>n.model.minY,ff=n=>n.model.minX-1,C0=n=>n.model.minY-1,m1=n=>n.model.maxX,pf=n=>n.model.maxY,g1=n=>n.model.maxX+1,k0=n=>n.model.maxY+1,B5=(n,r,i)=>r(n)-i(n),Xk=n=>B5(n,m1,d1),Qk=n=>B5(n,pf,u1),P5=n=>Xk(n)/2,I5=n=>Qk(n)/2,S0=(n,r)=>r?n.stepSize*n.speedMultiplier:n.stepSize,L5=n=>n.snapToGrid,Jk=n=>n.snapStart,Sv=n=>n.rounded,pw=(n,r)=>n[r+"-edge"]!==void 0,F5=n=>pw(n,"left"),z5=n=>pw(n,"right"),V5=n=>pw(n,"top"),f1=n=>pw(n,"bottom"),dm=n=>n.model.value.get(),yp=(n,r)=>({x:n,y:r}),Mc=(n,r)=>{oo(n,kv(),{value:r})},e4=(n,r,i,l)=>n<r?n:n>i?i:n===r?r-1:Math.max(r,n-l),Pt=(n,r,i,l)=>n>i?n:n<r?r:n===i?i+1:Math.min(i,n+l),wp=(n,r,i)=>Math.max(r,Math.min(i,n)),H5=n=>{const{min:r,max:i,range:l,value:d,step:m,snap:p,snapStart:x,rounded:v,hasMinEdge:w,hasMaxEdge:S,minBound:k,maxBound:A,screenRange:N}=n,I=w?r-1:r,K=S?i+1:i;if(d<k)return I;if(d>A)return K;{const Z=((V,H,Y)=>Math.min(Y,Math.max(V,H))-H)(d,k,A),q=wp(Z/N*l+r,I,K);return p&&q>=r&&q<=i?((V,H,Y,J,me)=>me.fold(()=>{const ue=V-H,pe=Math.round(ue/J)*J;return wp(H+pe,H-1,Y+1)},ue=>{const pe=(V-ue)%J,He=Math.round(pe/J),Ve=Math.floor((V-ue)/J),Le=Math.floor((Y-ue)/J),qe=ue+Math.min(Le,Ve+He)*J;return Math.max(ue,qe)}))(q,r,i,m,x):v?Math.round(q):q}},t4=n=>{const{min:r,max:i,range:l,value:d,hasMinEdge:m,hasMaxEdge:p,maxBound:x,maxOffset:v,centerMinEdge:w,centerMaxEdge:S}=n;return d<r?m?0:w:d>i?p?x:S:(d-r)/l*v},E0="top",hw="right",$5="bottom",bw="left",um=n=>n.element.dom.getBoundingClientRect(),Bc=(n,r)=>n[r],xw=n=>{const r=um(n);return Bc(r,bw)},o4=n=>{const r=um(n);return Bc(r,hw)},vw=n=>{const r=um(n);return Bc(r,E0)},U5=n=>{const r=um(n);return Bc(r,$5)},n4=n=>{const r=um(n);return Bc(r,"width")},Z5=n=>{const r=um(n);return Bc(r,"height")},j5=(n,r,i)=>(n+r)/2-i,yw=(n,r)=>{const i=um(n),l=um(r),d=Bc(i,bw),m=Bc(i,hw),p=Bc(l,bw);return j5(d,m,p)},s4=(n,r)=>{const i=um(n),l=um(r),d=Bc(i,E0),m=Bc(i,$5),p=Bc(l,E0);return j5(d,m,p)},p1=(n,r)=>{oo(n,kv(),{value:r})},A0=(n,r,i)=>{const l={min:d1(r),max:m1(r),range:Xk(r),value:i,step:S0(r),snap:L5(r),snapStart:Jk(r),rounded:Sv(r),hasMinEdge:F5(r),hasMaxEdge:z5(r),minBound:xw(n),maxBound:o4(n),screenRange:n4(n)};return H5(l)},Ev=n=>(r,i,l)=>((d,m,p,x)=>{const v=(d>0?Pt:e4)(dm(p),d1(p),m1(p),S0(p,x));return p1(m,v),E.some(v)})(n,r,i,l).map(Ut),gu=(n,r,i,l,d,m)=>{const p=((x,v,w,S,k)=>{const A=n4(x),N=S.bind(Z=>E.some(yw(Z,x))).getOr(0),I=k.bind(Z=>E.some(yw(Z,x))).getOr(A),K={min:d1(v),max:m1(v),range:Xk(v),value:w,hasMinEdge:F5(v),hasMaxEdge:z5(v),minBound:xw(x),maxBound:o4(x),maxOffset:A,centerMinEdge:N,centerMaxEdge:I};return t4(K)})(r,m,i,l,d);return xw(r)-xw(n)+p},W5=Ev(-1),LN=Ev(1),lF=E.none,cF=E.none,FN={"top-left":E.none(),top:E.none(),"top-right":E.none(),right:E.some((n,r)=>{Mc(n,g1(r))}),"bottom-right":E.none(),bottom:E.none(),"bottom-left":E.none(),left:E.some((n,r)=>{Mc(n,ff(r))})};var zN=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=A0(n,r,i);return p1(n,l),l},setToMin:(n,r)=>{const i=d1(r);p1(n,i)},setToMax:(n,r)=>{const i=m1(r);p1(n,i)},findValueOfOffset:A0,getValueFromEvent:n=>Yk(n).map(r=>r.left),findPositionOfValue:gu,setPositionFromValue:(n,r,i,l)=>{const d=dm(i),m=gu(n,l.getSpectrum(n),d,l.getLeftEdge(n),l.getRightEdge(n),i),p=Ln(r.element)/2;Ro(r.element,"left",m-p+"px")},onLeft:W5,onRight:LN,onUp:lF,onDown:cF,edgeActions:FN});const T0=(n,r)=>{oo(n,kv(),{value:r})},r4=(n,r,i)=>{const l={min:u1(r),max:pf(r),range:Qk(r),value:i,step:S0(r),snap:L5(r),snapStart:Jk(r),rounded:Sv(r),hasMinEdge:V5(r),hasMaxEdge:f1(r),minBound:vw(n),maxBound:U5(n),screenRange:Z5(n)};return H5(l)},q5=n=>(r,i,l)=>((d,m,p,x)=>{const v=(d>0?Pt:e4)(dm(p),u1(p),pf(p),S0(p,x));return T0(m,v),E.some(v)})(n,r,i,l).map(Ut),a4=(n,r,i,l,d,m)=>{const p=((x,v,w,S,k)=>{const A=Z5(x),N=S.bind(Z=>E.some(s4(Z,x))).getOr(0),I=k.bind(Z=>E.some(s4(Z,x))).getOr(A),K={min:u1(v),max:pf(v),range:Qk(v),value:w,hasMinEdge:V5(v),hasMaxEdge:f1(v),minBound:vw(x),maxBound:U5(x),maxOffset:A,centerMinEdge:N,centerMaxEdge:I};return t4(K)})(r,m,i,l,d);return vw(r)-vw(n)+p},G5=E.none,VN=E.none,HN=q5(-1),K5=q5(1),Y5={"top-left":E.none(),top:E.some((n,r)=>{Mc(n,C0(r))}),"top-right":E.none(),right:E.none(),"bottom-right":E.none(),bottom:E.some((n,r)=>{Mc(n,k0(r))}),"bottom-left":E.none(),left:E.none()};var $N=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=r4(n,r,i);return T0(n,l),l},setToMin:(n,r)=>{const i=u1(r);T0(n,i)},setToMax:(n,r)=>{const i=pf(r);T0(n,i)},findValueOfOffset:r4,getValueFromEvent:n=>Yk(n).map(r=>r.top),findPositionOfValue:a4,setPositionFromValue:(n,r,i,l)=>{const d=dm(i),m=a4(n,l.getSpectrum(n),d,l.getTopEdge(n),l.getBottomEdge(n),i),p=Rr(r.element)/2;Ro(r.element,"top",m-p+"px")},onLeft:G5,onRight:VN,onUp:HN,onDown:K5,edgeActions:Y5});const Av=(n,r)=>{oo(n,kv(),{value:r})},ww=(n,r)=>({x:n,y:r}),D0=(n,r)=>(i,l,d)=>((m,p,x,v,w)=>{const S=m>0?Pt:e4,k=p?dm(v).x:S(dm(v).x,d1(v),m1(v),S0(v,w)),A=p?S(dm(v).y,u1(v),pf(v),S0(v,w)):dm(v).y;return Av(x,ww(k,A)),E.some(k)})(n,r,i,l,d).map(Ut),X5=D0(-1,!1),Q5=D0(1,!1),J5=D0(-1,!0),UN=D0(1,!0),ZN={"top-left":E.some((n,r)=>{Mc(n,yp(ff(r),C0(r)))}),top:E.some((n,r)=>{Mc(n,yp(P5(r),C0(r)))}),"top-right":E.some((n,r)=>{Mc(n,yp(g1(r),C0(r)))}),right:E.some((n,r)=>{Mc(n,yp(g1(r),I5(r)))}),"bottom-right":E.some((n,r)=>{Mc(n,yp(g1(r),k0(r)))}),bottom:E.some((n,r)=>{Mc(n,yp(P5(r),k0(r)))}),"bottom-left":E.some((n,r)=>{Mc(n,yp(ff(r),k0(r)))}),left:E.some((n,r)=>{Mc(n,yp(ff(r),I5(r)))})};var jN=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=A0(n,r,i.left),d=r4(n,r,i.top),m=ww(l,d);return Av(n,m),m},setToMin:(n,r)=>{const i=d1(r),l=u1(r);Av(n,ww(i,l))},setToMax:(n,r)=>{const i=m1(r),l=pf(r);Av(n,ww(i,l))},getValueFromEvent:n=>Yk(n),setPositionFromValue:(n,r,i,l)=>{const d=dm(i),m=gu(n,l.getSpectrum(n),d.x,l.getLeftEdge(n),l.getRightEdge(n),i),p=a4(n,l.getSpectrum(n),d.y,l.getTopEdge(n),l.getBottomEdge(n),i),x=Ln(r.element)/2,v=Rr(r.element)/2;Ro(r.element,"left",m-x+"px"),Ro(r.element,"top",p-v+"px")},onLeft:X5,onRight:Q5,onUp:J5,onDown:UN,edgeActions:ZN});const fu=el({name:"Slider",configFields:[Pe("stepSize",1),Pe("speedMultiplier",10),Pe("onChange",we),Pe("onChoose",we),Pe("onInit",we),Pe("onDragStart",we),Pe("onDragEnd",we),Pe("snapToGrid",!1),Pe("rounded",!0),Mn("snapStart"),Pi("model",Xa("mode",{x:[Pe("minX",0),Pe("maxX",100),Ea("value",n=>Ot(n.mode.minX)),ft("getInitialValue"),ns("manager",zN)],y:[Pe("minY",0),Pe("maxY",100),Ea("value",n=>Ot(n.mode.minY)),ft("getInitialValue"),ns("manager",$N)],xy:[Pe("minX",0),Pe("maxX",100),Pe("minY",0),Pe("maxY",100),Ea("value",n=>Ot({x:n.mode.minX,y:n.mode.minY})),ft("getInitialValue"),ns("manager",jN)]})),Wa("sliderBehaviours",[Kt,Vt]),Ea("mouseIsDown",()=>Ot(!1))],partFields:IN,factory:(n,r,i,l)=>{const d=V=>Ym(V,n,"thumb"),m=V=>Ym(V,n,"spectrum"),p=V=>fs(V,n,"left-edge"),x=V=>fs(V,n,"right-edge"),v=V=>fs(V,n,"top-edge"),w=V=>fs(V,n,"bottom-edge"),S=n.model,k=S.manager,A=(V,H)=>{k.setPositionFromValue(V,H,n,{getLeftEdge:p,getRightEdge:x,getTopEdge:v,getBottomEdge:w,getSpectrum:m})},N=(V,H)=>{S.value.set(H);const Y=d(V);A(V,Y)},I=V=>{const H=n.mouseIsDown.get();n.mouseIsDown.set(!1),H&&fs(V,n,"thumb").each(Y=>{const J=S.value.get();n.onChoose(V,Y,J)})},K=(V,H)=>{H.stop(),n.mouseIsDown.set(!0),n.onDragStart(V,d(V))},Z=(V,H)=>{H.stop(),n.onDragEnd(V,d(V)),I(V)},q=V=>{fs(V,n,"spectrum").map(Kt.focusIn)};return{uid:n.uid,dom:n.dom,components:r,behaviours:qa(n.sliderBehaviours,[Kt.config({mode:"special",focusIn:q}),Vt.config({store:{mode:"manual",getValue:V=>S.value.get(),setValue:N}}),tl.config({channels:{[Bh()]:{onReceive:I}}})]),events:Wn([et(kv(),(V,H)=>{((Y,J)=>{N(Y,J);const me=d(Y);n.onChange(Y,me,J)})(V,H.event.value)}),us((V,H)=>{const Y=S.getInitialValue();S.value.set(Y);const J=d(V);A(V,J);const me=m(V);n.onInit(V,J,me,S.value.get())}),et(Zl(),K),et(Um(),Z),et(Ki(),(V,H)=>{q(V),K(V,H)}),et(bb(),Z)]),apis:{resetToMin:V=>{k.setToMin(V,n)},resetToMax:V=>{k.setToMax(V,n)},setValue:N,refresh:A},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,r,i)=>{n.setValue(r,i)},resetToMin:(n,r)=>{n.resetToMin(r)},resetToMax:(n,r)=>{n.resetToMax(r)},refresh:(n,r)=>{n.refresh(r)}}}),eT="container",Tv=[Wa("slotBehaviours",[])],i4=n=>"<alloy.field."+n+">",tT=(n,r)=>{const i=S=>xh(n),l=(S,k)=>(A,N)=>fs(A,n,N).map(I=>S(I,N)).getOr(k),d=(S,k)=>Bo(S.element,"aria-hidden")!=="true",m=l(d,!1),p=l((S,k)=>{if(d(S)){const A=S.element;Ro(A,"display","none"),io(A,"aria-hidden","true"),oo(S,wb(),{name:k,visible:!1})}}),x=(S=>(k,A)=>{yt(A,N=>S(k,N))})(p),v=l((S,k)=>{if(!d(S)){const A=S.element;pn(A,"display"),Xs(A,"aria-hidden"),oo(S,wb(),{name:k,visible:!0})}}),w={getSlotNames:i,getSlot:(S,k)=>fs(S,n,k),isShowing:m,hideSlot:p,hideAllSlots:S=>x(S,i()),showSlot:v};return{uid:n.uid,dom:n.dom,components:r,behaviours:dk(n.slotBehaviours),apis:w}},oT=Is({getSlotNames:(n,r)=>n.getSlotNames(r),getSlot:(n,r,i)=>n.getSlot(r,i),isShowing:(n,r,i)=>n.isShowing(r,i),hideSlot:(n,r,i)=>n.hideSlot(r,i),hideAllSlots:(n,r)=>n.hideAllSlots(r),showSlot:(n,r,i)=>n.showSlot(r,i)},n=>wd(n)),ri={...oT,sketch:n=>{const r=(()=>{const m=[];return{slot:(p,x)=>(m.push(p),Rb(eT,i4(p),x)),record:se(m)}})(),i=n(r),l=r.record(),d=Ee(l,m=>bi({name:m,pname:i4(m)}));return mk(eT,Tv,d,tT,i)}},_w=(n,r,i)=>({within:n,extra:r,withinWidth:i}),nT=(n,r,i)=>{const l=Yo(n,(p,x)=>((v,w)=>{const S=i(v);return E.some({element:v,start:w,finish:w+S,width:S})})(x,p.len).fold(se(p),v=>({len:v.finish,list:p.list.concat([v])})),{len:0,list:[]}).list,d=Oo(l,p=>p.finish<=r),m=Do(d,(p,x)=>p+x.width,0);return{within:d,extra:l.slice(d.length),withinWidth:m}},Cw=n=>Ee(n,r=>r.element),sT=(n,r)=>{const i=Ee(r,l=>Oc(l));cm.setGroups(n,i)},kw=(n,r,i)=>{const l=r.builtGroups.get();if(l.length===0)return;const d=Ym(n,r,"primary"),m=Sr.getCoupled(n,"overflowGroup");Ro(d.element,"visibility","hidden");const p=l.concat([m]),x=gn(p,w=>za(w.element).bind(S=>w.getSystem().getByDom(S).toOptional()));i([]),sT(d,p);const v=((w,S,k,A)=>{const N=((q,V,H)=>{const Y=nT(V,q,H);return Y.extra.length===0?E.some(Y):E.none()})(w,S,k).getOrThunk(()=>nT(S,w-k(A),k)),I=N.within,K=N.extra,Z=N.withinWidth;return K.length===1&&K[0].width<=k(A)?((q,V,H)=>{const Y=Cw(q.concat(V));return _w(Y,[],H)})(I,K,Z):K.length>=1?((q,V,H,Y)=>{const J=Cw(q).concat([H]);return _w(J,Cw(V),Y)})(I,K,A,Z):((q,V,H)=>_w(Cw(q),[],H))(I,0,Z)})(Ln(d.element),r.builtGroups.get(),w=>Math.ceil(w.element.dom.getBoundingClientRect().width),m);v.extra.length===0?(No.remove(d,m),i([])):(sT(d,v.within),i(v.extra)),pn(d.element,"visibility"),Xp(d.element),x.each(vo.focus)},rT=se([Wa("splitToolbarBehaviours",[Sr]),Ea("builtGroups",()=>Ot([]))]),Sw=se([_c(["overflowToggledClass"]),Pr("getOverflowBounds"),ft("lazySink"),Ea("overflowGroups",()=>Ot([])),$o("onOpened"),$o("onClosed")].concat(rT())),WN=se([bi({factory:cm,schema:i1(),name:"primary"}),Kl({schema:i1(),name:"overflow"}),Kl({name:"overflow-button"}),Kl({name:"overflow-group"})]),aT=se([ft("items"),_c(["itemSelector"]),Wa("tgroupBehaviours",[Kt])]),yi=se([Ob({name:"items",unit:"item"})]),Ew=el({name:"ToolbarGroup",configFields:aT(),partFields:yi(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,behaviours:qa(n.tgroupBehaviours,[Kt.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),l4=n=>Ee(n,r=>Oc(r)),c4=(n,r,i)=>{kw(n,i,l=>{i.overflowGroups.set(l),r.getOpt(n).each(d=>{gf.setGroups(d,l4(l))})})},iT=el({name:"SplitFloatingToolbar",configFields:Sw(),partFields:WN(),factory:(n,r,i,l)=>{const d=On(gf.sketch({fetch:()=>on(m=>{m(l4(n.overflowGroups.get()))}),layouts:{onLtr:()=>[Ir,Cr],onRtl:()=>[Cr,Ir],onBottomLtr:()=>[Ra,ba],onBottomRtl:()=>[ba,Ra]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(m,p)=>n[p?"onOpened":"onClosed"](m)}));return{uid:n.uid,dom:n.dom,components:r,behaviours:qa(n.splitToolbarBehaviours,[Sr.config({others:{overflowGroup:()=>Ew.sketch({...l["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(m,p)=>{n.builtGroups.set(Ee(p,m.getSystem().build)),c4(m,d,n)},refresh:m=>c4(m,d,n),toggle:m=>{d.getOpt(m).each(p=>{gf.toggle(p)})},toggleWithoutFocusing:m=>{d.getOpt(m).each(gf.toggleWithoutFocusing)},isOpen:m=>d.getOpt(m).map(gf.isOpen).getOr(!1),reposition:m=>{d.getOpt(m).each(p=>{gf.reposition(p)})},getOverflow:m=>d.getOpt(m).bind(gf.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},refresh:(n,r)=>{n.refresh(r)},reposition:(n,r)=>{n.reposition(r)},toggle:(n,r)=>{n.toggle(r)},toggleWithoutFocusing:(n,r)=>{n.toggle(r)},isOpen:(n,r)=>n.isOpen(r),getOverflow:(n,r)=>n.getOverflow(r)}}),lT=se([_c(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),$o("onOpened"),$o("onClosed")].concat(rT())),cT=se([bi({factory:cm,schema:i1(),name:"primary"}),bi({factory:cm,schema:i1(),name:"overflow",overrides:n=>({toolbarBehaviours:vt([_l.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:r=>{fs(r,n,"overflow-button").each(i=>{Lo.off(i)}),n.onClosed(r)},onGrown:r=>{n.onOpened(r)},onStartGrow:r=>{fs(r,n,"overflow-button").each(Lo.on)}}),Kt.config({mode:"acyclic",onEscape:r=>(fs(r,n,"overflow-button").each(vo.focus),E.some(!0))})])})}),Kl({name:"overflow-button",overrides:n=>({buttonBehaviours:vt([Lo.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Kl({name:"overflow-group"})]),d4=(n,r,i)=>{fs(n,r,"overflow-button").each(l=>{fs(n,r,"overflow").each(d=>{if(u4(n,r),_l.hasShrunk(d)){const m=r.onOpened;r.onOpened=p=>{i||Kt.focusIn(d),m(p),r.onOpened=m}}else{const m=r.onClosed;r.onClosed=p=>{i||vo.focus(l),m(p),r.onClosed=m}}_l.toggleGrow(d)})})},u4=(n,r)=>{fs(n,r,"overflow").each(i=>{kw(n,r,l=>{const d=Ee(l,m=>Oc(m));cm.setGroups(i,d)}),fs(n,r,"overflow-button").each(l=>{_l.hasGrown(i)&&Lo.on(l)}),_l.refresh(i)})},m4=el({name:"SplitSlidingToolbar",configFields:lT(),partFields:cT(),factory:(n,r,i,l)=>{const d="alloy.toolbar.toggle";return{uid:n.uid,dom:n.dom,components:r,behaviours:qa(n.splitToolbarBehaviours,[Sr.config({others:{overflowGroup:m=>Ew.sketch({...l["overflow-group"](),items:[Ba.sketch({...l["overflow-button"](),action:p=>{an(m,d)}})]})}}),uo("toolbar-toggle-events",[et(d,m=>{d4(m,n,!1)})])]),apis:{setGroups:(m,p)=>{((x,v)=>{const w=Ee(v,x.getSystem().build);n.builtGroups.set(w)})(m,p),u4(m,n)},refresh:m=>u4(m,n),toggle:m=>{d4(m,n,!1)},toggleWithoutFocusing:m=>{d4(m,n,!0)},isOpen:m=>((p,x)=>fs(p,x,"overflow").map(_l.hasGrown).getOr(!1))(m,n)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},refresh:(n,r)=>{n.refresh(r)},toggle:(n,r)=>{n.toggle(r)},isOpen:(n,r)=>n.isOpen(r)}}),qN=vi({name:"TabButton",configFields:[Pe("uid",void 0),ft("value"),_r("dom","dom",pb(()=>({attributes:{role:"tab",id:De("aria"),"aria-selected":"false"}})),Mi()),Mn("action"),Pe("domModification",{}),Wa("tabButtonBehaviours",[vo,Kt,Vt]),ft("view")],factory:(n,r)=>({uid:n.uid,dom:n.dom,components:n.components,events:vv(n.action),behaviours:qa(n.tabButtonBehaviours,[vo.config({}),Kt.config({mode:"execution",useSpace:!0,useEnter:!0}),Vt.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification})}),dT=se([ft("tabs"),ft("dom"),Pe("clickToDismiss",!1),Wa("tabbarBehaviours",[ln,Kt]),_c(["tabClass","selectedClass"])]),GN=Ob({factory:qN,name:"tabs",unit:"tab",overrides:n=>{const r=(l,d)=>{ln.dehighlight(l,d),oo(l,Cb(),{tabbar:l,button:d})},i=(l,d)=>{ln.highlight(l,d),oo(l,_b(),{tabbar:l,button:d})};return{action:l=>{const d=l.getSystem().getByUid(n.uid).getOrDie(),m=ln.isHighlighted(d,l);(m&&n.clickToDismiss?r:m?we:i)(d,l)},domModification:{classes:[n.markers.tabClass]}}}}),KN=se([GN]),g4=el({name:"Tabbar",configFields:dT(),partFields:KN(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:qa(n.tabbarBehaviours,[ln.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(d,m)=>{io(m.element,"aria-selected","true")},onDehighlight:(d,m)=>{io(m.element,"aria-selected","false")}}),Kt.config({mode:"flow",getInitial:d=>ln.getHighlighted(d).map(m=>m.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])})}),uT=vi({name:"Tabview",configFields:[Wa("tabviewBehaviours",[No])],factory:(n,r)=>({uid:n.uid,dom:n.dom,behaviours:qa(n.tabviewBehaviours,[No.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),mT=se([Pe("selectFirst",!0),$o("onChangeTab"),$o("onDismissTab"),Pe("tabs",[]),Wa("tabSectionBehaviours",[])]),YN=bi({factory:g4,schema:[ft("dom"),Qa("markers",[ft("tabClass"),ft("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),XN=bi({factory:uT,name:"tabview"}),QN=se([YN,XN]),O0=el({name:"TabSection",configFields:mT(),partFields:QN(),factory:(n,r,i,l)=>{const d=(m,p)=>{fs(m,n,"tabbar").each(x=>{p(x).each(Xg)})};return{uid:n.uid,dom:n.dom,components:r,behaviours:dk(n.tabSectionBehaviours),events:Wn(Os([n.selectFirst?[us((m,p)=>{d(m,ln.getFirst)})]:[],[et(_b(),(m,p)=>{(x=>{const v=Vt.getValue(x);fs(x,n,"tabview").each(w=>{B(n.tabs,S=>S.value===v).each(S=>{const k=S.view();Jr(x.element,"id").each(A=>{io(w.element,"aria-labelledby",A)}),No.set(w,k),n.onChangeTab(w,x,k)})})})(p.event.button)}),et(Cb(),(m,p)=>{const x=p.event.button;n.onDismissTab(m,x)})]])),apis:{getViewItems:m=>fs(m,n,"tabview").map(p=>No.contents(p)).getOr([]),showTab:(m,p)=>{d(m,x=>{const v=ln.getCandidates(x);return B(v,w=>Vt.getValue(w)===p).filter(w=>!ln.isHighlighted(x,w))})}}}},apis:{getViewItems:(n,r)=>n.getViewItems(r),showTab:(n,r,i)=>{n.showTab(r,i)}}}),Dv=(n,r,i)=>{const l=Vt.getValue(i);Vt.setValue(r,l),hf(r)},f4=(n,r)=>{const i=n.element,l=jr(i),d=i.dom;Bo(i,"type")!=="number"&&r(d,l)},hf=n=>{f4(n,(r,i)=>r.setSelectionRange(i.length,i.length))},Aw=se("alloy.typeahead.itemexecute"),gT=se([Mn("lazySink"),ft("fetch"),Pe("minChars",5),Pe("responseTime",1e3),$o("onOpen"),Pe("getHotspot",E.some),Pe("getAnchorOverrides",se({})),Pe("layouts",E.none()),Pe("eventOrder",{}),hb("model",{},[Pe("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),Pe("selectsOver",!0),Pe("populateFromBrowse",!0)]),$o("onSetValue"),zi("onExecute"),$o("onItemExecute"),Pe("inputClasses",[]),Pe("inputAttributes",{}),Pe("inputStyles",{}),Pe("matchWidth",!0),Pe("useMinWidth",!1),Pe("dismissOnBlur",!0),_c(["openClass"]),Mn("initialData"),Mn("listRole"),Wa("typeaheadBehaviours",[vo,Vt,Ik,Kt,Lo,Sr]),Ea("lazyTypeaheadComp",()=>Ot(E.none)),Ea("previewing",()=>Ot(!0))].concat(D5()).concat(lw())),fT=se([Kl({schema:[Gu()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(r,i,l)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(d=>{((m,p,x)=>{if(m.selectsOver){const v=Vt.getValue(p),w=m.getDisplayText(v),S=Vt.getValue(x);return m.getDisplayText(S).indexOf(w)===0?E.some(()=>{Dv(0,p,x),((k,A)=>{f4(k,(N,I)=>N.setSelectionRange(A,I.length))})(p,w.length)}):E.none()}return E.none()})(n.model,d,l).fold(()=>{n.model.selectsOver?(ln.dehighlight(i,l),n.previewing.set(!0)):n.previewing.set(!1)},m=>{m(),n.previewing.set(!1)})}):n.lazyTypeaheadComp.get().each(d=>{n.model.populateFromBrowse&&Dv(n.model,d,l),Jr(l.element,"id").each(m=>io(d.element,"aria-activedescendant",m))})},onExecute:(r,i)=>n.lazyTypeaheadComp.get().map(l=>(oo(l,Aw(),{item:i}),!0)),onHover:(r,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(l=>{n.model.populateFromBrowse&&Dv(n.model,l,i)})}})})]),JN=el({name:"Typeahead",configFields:gT(),partFields:fT(),factory:(n,r,i,l)=>{const d=(k,A,N)=>{n.previewing.set(!1);const I=Sr.getCoupled(k,"sandbox");if(Dn.isOpen(I))kn.getCurrent(I).each(K=>{ln.getHighlighted(K).fold(()=>{N(K)},()=>{Oh(I,K.element,"keydown",A)})});else{const K=Z=>{kn.getCurrent(Z).each(N)};Ed(n,p(k),k,I,l,K,Na.HighlightMenuAndItem).get(we)}},m=O5(n),p=k=>A=>A.map(N=>{const I=Tr(N.menus),K=Uo(I,Z=>Oo(Z.items,q=>q.type==="item"));return Vt.getState(k).update(Ee(K,Z=>Z.data)),N}),x=k=>kn.getCurrent(k),v="typeaheadevents",w=[vo.config({}),Vt.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:k=>jr(k.element),getFallbackEntry:k=>({value:k,meta:{}}),setValue:(k,A)=>{Yd(k.element,n.model.getDisplayText(A))},...n.initialData.map(k=>$g("initialValue",k)).getOr({})}}),Ik.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(k,A)=>{const N=Sr.getCoupled(k,"sandbox");if(vo.isFocused(k)&&jr(k.element).length>=n.minChars){const I=x(N).bind(Z=>ln.getHighlighted(Z).map(Vt.getValue));n.previewing.set(!0);const K=Z=>{x(N).each(q=>{I.fold(()=>{n.model.selectsOver&&ln.highlightFirst(q)},V=>{ln.highlightBy(q,H=>Vt.getValue(H).value===V.value),ln.getHighlighted(q).orThunk(()=>(ln.highlightFirst(q),E.none()))})})};Ed(n,p(k),k,N,l,K,Na.HighlightJustMenu).get(we)}},cancelEvent:Bx()}),Kt.config({mode:"special",onDown:(k,A)=>(d(k,A,ln.highlightFirst),E.some(!0)),onEscape:k=>{const A=Sr.getCoupled(k,"sandbox");return Dn.isOpen(A)?(Dn.close(A),E.some(!0)):E.none()},onUp:(k,A)=>(d(k,A,ln.highlightLast),E.some(!0)),onEnter:k=>{const A=Sr.getCoupled(k,"sandbox"),N=Dn.isOpen(A);if(N&&!n.previewing.get())return x(A).bind(I=>ln.getHighlighted(I)).map(I=>(oo(k,Aw(),{item:I}),!0));{const I=Vt.getValue(k);return an(k,Bx()),n.onExecute(A,k,I),N&&Dn.close(A),E.some(!0)}}}),Lo.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Sr.config({others:{sandbox:k=>C5(n,k,{onOpen:()=>Lo.on(k),onClose:()=>{n.lazyTypeaheadComp.get().each(A=>Xs(A.element,"aria-activedescendant")),Lo.off(k)}})}}),uo(v,[us(k=>{n.lazyTypeaheadComp.set(E.some(k))}),Ec(k=>{n.lazyTypeaheadComp.set(E.none())}),ru(k=>{const A=we;_5(n,p(k),k,l,A,Na.HighlightMenuAndItem).get(we)}),et(Aw(),(k,A)=>{const N=Sr.getCoupled(k,"sandbox");Dv(n.model,k,A.event.item),an(k,Bx()),n.onItemExecute(k,N,A.event.item,Vt.getValue(k)),Dn.close(N),hf(k)})].concat(n.dismissOnBlur?[et(Wu(),k=>{const A=Sr.getCoupled(k,"sandbox");za(A.element).isNone()&&Dn.close(A)})]:[]))],S={[tu()]:[Vt.name(),Ik.name(),v],...n.eventOrder};return{uid:n.uid,dom:c1(Cs(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...m,...qa(n.typeaheadBehaviours,w)},eventOrder:S}}});var wi,Ov,eM=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Rv=tinymce.util.Tools.resolve("tinymce.util.Delay"),Nv=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tM=tinymce.util.Tools.resolve("tinymce.EditorManager"),R0=tinymce.util.Tools.resolve("tinymce.Env");(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(wi||(wi={})),function(n){n.auto="auto",n.top="top",n.bottom="bottom"}(Ov||(Ov={}));const Qn=n=>r=>r.options.get(n),h1=n=>r=>E.from(n(r)),Tw=n=>{const r=R0.deviceType.isPhone(),i=R0.deviceType.isTablet()||r,l=n.options.register,d=p=>xe(p)||p===!1,m=p=>xe(p)||St(p);l("skin",{processor:p=>xe(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:m,default:Math.max(n.getElement().offsetHeight,400)}),l("width",{processor:m,default:Nv.DOM.getStyle(n.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>xe(p)||dt(p),default:!r}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>dt(p)||xe(p)||$e(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Si(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:Ov.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:n.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:d,default:"#top"}),l("anchor_bottom",{processor:d,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||dt(p),default:!R0.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},pT=Qn("readonly"),mm=Qn("disabled"),Dw=Qn("height"),Ow=Qn("width"),p4=h1(Qn("min_width")),h4=h1(Qn("min_height")),_p=h1(Qn("max_width")),b1=h1(Qn("max_height")),b4=h1(Qn("style_formats")),Rw=Qn("style_formats_merge"),bf=Qn("style_formats_autohide"),xf=Qn("content_langs"),hT=Qn("removed_menuitems"),x1=Qn("toolbar_mode"),x4=Qn("toolbar_groups"),gm=Qn("toolbar_location"),v4=Qn("fixed_toolbar_container"),oM=Qn("fixed_toolbar_container_target"),y4=Qn("toolbar_persist"),w4=Qn("toolbar_sticky_offset"),_4=Qn("menubar"),N0=Qn("toolbar"),C4=Qn("file_picker_callback"),bT=Qn("file_picker_validator_handler"),xT=Qn("font_size_input_default_unit"),vT=Qn("file_picker_types"),Mv=Qn("typeahead_urls"),Nw=Qn("anchor_top"),Bv=Qn("anchor_bottom"),k4=Qn("draggable_modal"),yT=Qn("statusbar"),S4=Qn("elementpath"),Mw=Qn("branding"),E4=Qn("resize"),A4=Qn("paste_as_text"),wT=Qn("sidebar_show"),Bw=Qn("promotion"),_T=Qn("help_accessibility"),CT=Qn("default_font_stack"),kT=Qn("skin"),T4=n=>n.options.get("skin")===!1,Pv=n=>n.options.get("menubar")!==!1,ST=n=>{const r=n.options.get("skin_url");if(T4(n))return r;if(r)return n.documentBaseURI.toAbsolute(r);{const i=n.options.get("skin");return tM.baseURL+"/skins/ui/"+i}},ET=n=>n.options.get("line_height_formats").split(" "),Iv=n=>{const r=N0(n),i=xe(r),l=$e(r)&&r.length>0;return!Lv(n)&&(l||i||r===!0)},v1=n=>{const r=Si(9,l=>n.options.get("toolbar"+(l+1))),i=Oo(r,xe);return Gs(i.length>0,i)},Lv=n=>v1(n).fold(()=>{const r=N0(n);return Gt(r,xe)&&r.length>0},Ut),y1=n=>gm(n)===Ov.bottom,Pw=n=>{if(!n.inline)return E.none();const r=v4(n)??"";if(r.length>0)return ls(mr(),r);const i=oM(n);return ge(i)?E.some(Ft(i)):E.none()},w1=n=>n.inline&&Pw(n).isSome(),Iw=n=>Pw(n).getOrThunk(()=>Ng(Qr(Ft(n.getElement())))),D4=n=>n.inline&&!Pv(n)&&!Iv(n)&&!Lv(n),M0=n=>(n.options.get("toolbar_sticky")||n.inline)&&!w1(n)&&!D4(n),vf=n=>!w1(n)&&n.options.get("ui_mode")==="split",AT=n=>{const r=n.options.get("menu");return Is(r,i=>({...i,items:i.items}))};var TT=Object.freeze({__proto__:null,get ToolbarMode(){return wi},get ToolbarLocation(){return Ov},register:Tw,getSkinUrl:ST,getSkinUrlOption:n=>E.from(n.options.get("skin_url")),isReadOnly:pT,isDisabled:mm,getSkin:kT,isSkinDisabled:T4,getHeightOption:Dw,getWidthOption:Ow,getMinWidthOption:p4,getMinHeightOption:h4,getMaxWidthOption:_p,getMaxHeightOption:b1,getUserStyleFormats:b4,shouldMergeStyleFormats:Rw,shouldAutoHideStyleFormats:bf,getLineHeightFormats:ET,getContentLanguages:xf,getRemovedMenuItems:hT,isMenubarEnabled:Pv,isMultipleToolbars:Lv,isToolbarEnabled:Iv,isToolbarPersist:y4,getMultipleToolbarsOption:v1,getUiContainer:Iw,useFixedContainer:w1,isSplitUiMode:vf,getToolbarMode:x1,isDraggableModal:k4,isDistractionFree:D4,isStickyToolbar:M0,getStickyToolbarOffset:w4,getToolbarLocation:gm,isToolbarLocationBottom:y1,getToolbarGroups:x4,getMenus:AT,getMenubar:_4,getToolbar:N0,getFilePickerCallback:C4,getFilePickerTypes:vT,useTypeaheadUrls:Mv,getAnchorTop:Nw,getAnchorBottom:Bv,getFilePickerValidatorHandler:bT,getFontSizeInputDefaultUnit:xT,useStatusBar:yT,useElementPath:S4,promotionEnabled:Bw,useBranding:Mw,getResize:E4,getPasteAsText:A4,getSidebarShow:wT,useHelpAccessibility:_T,getDefaultFontStack:CT});const nM=["visible","hidden","clip"],DT=n=>Bu(n).length>0&&!pt(nM,n),O4=n=>{if(Yn(n)){const r=Va(n,"overflow-x"),i=Va(n,"overflow-y");return DT(r)||DT(i)}return!1},Fv=n=>n.plugins.fullscreen&&n.plugins.fullscreen.isFullscreen(),gg=(n,r)=>vf(n)?((i,l)=>{const d=Xd(l,O4),m=d.length===0?Dm(l).map(ed).map(p=>Xd(p,O4)).getOr([]):d;return Et(m).map(p=>({element:p,others:m.slice(1),isFullscreen:()=>Fv(i)}))})(n,r):E.none(),yf=n=>{const r=[...Ee(n.others,yr),Qs()];return n.isFullscreen()?Qs():((i,l)=>Yo(l,(d,m)=>nh(d,m),i))(yr(n.element),r)},{entries:OT,setPrototypeOf:RT,isFrozen:sM,getPrototypeOf:rM,getOwnPropertyDescriptor:NT}=Object;let{freeze:Cl,seal:pu,create:MT}=Object,{apply:R4,construct:N4}=typeof Reflect<"u"&&Reflect;Cl||(Cl=function(n){return n}),pu||(pu=function(n){return n}),R4||(R4=function(n,r,i){return n.apply(r,i)}),N4||(N4=function(n,r){return new n(...r)});const Lw=oc(Array.prototype.forEach),aM=oc(Array.prototype.lastIndexOf),M4=oc(Array.prototype.pop),zv=oc(Array.prototype.push),iM=oc(Array.prototype.splice),Fw=oc(String.prototype.toLowerCase),B4=oc(String.prototype.toString),BT=oc(String.prototype.match),hu=oc(String.prototype.replace),lM=oc(String.prototype.indexOf),cM=oc(String.prototype.trim),sl=oc(Object.prototype.hasOwnProperty),kl=oc(RegExp.prototype.test),Vv=(wf=TypeError,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return N4(wf,r)});var wf;function oc(n){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var i=arguments.length,l=new Array(i>1?i-1:0),d=1;d<i;d++)l[d-1]=arguments[d];return R4(n,r,l)}}function hs(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fw;RT&&RT(n,null);let l=r.length;for(;l--;){let d=r[l];if(typeof d=="string"){const m=i(d);m!==d&&(sM(r)||(r[l]=m),d=m)}n[d]=!0}return n}function Td(n){for(let r=0;r<n.length;r++)sl(n,r)||(n[r]=null);return n}function fg(n){const r=MT(null);for(const[i,l]of OT(n))sl(n,i)&&(Array.isArray(l)?r[i]=Td(l):l&&typeof l=="object"&&l.constructor===Object?r[i]=fg(l):r[i]=l);return r}function B0(n,r){for(;n!==null;){const i=NT(n,r);if(i){if(i.get)return oc(i.get);if(typeof i.value=="function")return oc(i.value)}n=rM(n)}return function(){return null}}const P4=Cl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I4=Cl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P0=Cl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),PT=Cl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L4=Cl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),dM=Cl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Hv=Cl(["#text"]),zw=Cl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Vw=Cl(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F4=Cl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$v=Cl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),uM=pu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z4=pu(/<%[\w\W]*|[\w\W]*%>/gm),IT=pu(/\$\{[\w\W]*/gm),mM=pu(/^data-[\-\w.\u00B7-\uFFFF]+$/),gM=pu(/^aria-[\-\w]+$/),LT=pu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V4=pu(/^(?:\w+script|data):/i),fM=pu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),I0=pu(/^html$/i),Hw=pu(/^[a-z][.\w]*(-[.\w]+)+$/i);var H4=Object.freeze({__proto__:null,ARIA_ATTR:gM,ATTR_WHITESPACE:fM,CUSTOM_ELEMENT:Hw,DATA_ATTR:mM,DOCTYPE_NAME:I0,ERB_EXPR:z4,IS_ALLOWED_URI:LT,IS_SCRIPT_OR_DATA:V4,MUSTACHE_EXPR:uM,TMPLIT_EXPR:IT});const FT=function(){return typeof window>"u"?null:window};var pM=function n(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:FT();const i=Ne=>n(Ne);if(i.version="3.2.6",i.removed=[],!r||!r.document||r.document.nodeType!==9||!r.Element)return i.isSupported=!1,i;let{document:l}=r;const d=l,m=d.currentScript,{DocumentFragment:p,HTMLTemplateElement:x,Node:v,Element:w,NodeFilter:S,NamedNodeMap:k=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:A,DOMParser:N,trustedTypes:I}=r,K=w.prototype,Z=B0(K,"cloneNode"),q=B0(K,"remove"),V=B0(K,"nextSibling"),H=B0(K,"childNodes"),Y=B0(K,"parentNode");if(typeof x=="function"){const Ne=l.createElement("template");Ne.content&&Ne.content.ownerDocument&&(l=Ne.content.ownerDocument)}let J,me="";const{implementation:ue,createNodeIterator:pe,createDocumentFragment:He,getElementsByTagName:Ve}=l,{importNode:Le}=d;let qe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};i.isSupported=typeof OT=="function"&&typeof Y=="function"&&ue&&ue.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ut,ERB_EXPR:$t,TMPLIT_EXPR:lo,DATA_ATTR:fo,ARIA_ATTR:qo,IS_SCRIPT_OR_DATA:Sn,ATTR_WHITESPACE:Jn,CUSTOM_ELEMENT:ao}=H4;let{IS_ALLOWED_URI:es}=H4,xo=null;const ps=hs({},[...P4,...I4,...P0,...L4,...Hv]);let Nn=null;const ca=hs({},[...zw,...Vw,...F4,...$v]);let rs=Object.seal(MT(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Al=null,Ci=null,rl=!0,Tf=!0,nx=!1,uC=!0,hm=!1,Fp=!0,bm=!1,sx=!1,rx=!1,zp=!1,ax=!1,K1=!1,D2=!0,ix=!1,Y1=!0,Df=!1,mn={},Au=null;const Tu=hs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Y8=null;const X8=hs({},["audio","video","img","source","image","track"]);let fE=null;const Q8=hs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lx="http://www.w3.org/1998/Math/MathML",Du="http://www.w3.org/2000/svg",Of="http://www.w3.org/1999/xhtml";let _g=Of,pE=!1,O2=null;const CI=hs({},[lx,Du,Of],B4);let mC=hs({},["mi","mo","mn","ms","mtext"]),gC=hs({},["annotation-xml"]);const J8=hs({},["title","style","font","a","script"]);let R2=null;const hE=["application/xhtml+xml","text/html"];let ai=null,Vp=null;const kI=l.createElement("form"),rc=function(Ne){return Ne instanceof RegExp||Ne instanceof Function},bE=function(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Vp||Vp!==Ne){if(Ne&&typeof Ne=="object"||(Ne={}),Ne=fg(Ne),R2=hE.indexOf(Ne.PARSER_MEDIA_TYPE)===-1?"text/html":Ne.PARSER_MEDIA_TYPE,ai=R2==="application/xhtml+xml"?B4:Fw,xo=sl(Ne,"ALLOWED_TAGS")?hs({},Ne.ALLOWED_TAGS,ai):ps,Nn=sl(Ne,"ALLOWED_ATTR")?hs({},Ne.ALLOWED_ATTR,ai):ca,O2=sl(Ne,"ALLOWED_NAMESPACES")?hs({},Ne.ALLOWED_NAMESPACES,B4):CI,fE=sl(Ne,"ADD_URI_SAFE_ATTR")?hs(fg(Q8),Ne.ADD_URI_SAFE_ATTR,ai):Q8,Y8=sl(Ne,"ADD_DATA_URI_TAGS")?hs(fg(X8),Ne.ADD_DATA_URI_TAGS,ai):X8,Au=sl(Ne,"FORBID_CONTENTS")?hs({},Ne.FORBID_CONTENTS,ai):Tu,Al=sl(Ne,"FORBID_TAGS")?hs({},Ne.FORBID_TAGS,ai):fg({}),Ci=sl(Ne,"FORBID_ATTR")?hs({},Ne.FORBID_ATTR,ai):fg({}),mn=!!sl(Ne,"USE_PROFILES")&&Ne.USE_PROFILES,rl=Ne.ALLOW_ARIA_ATTR!==!1,Tf=Ne.ALLOW_DATA_ATTR!==!1,nx=Ne.ALLOW_UNKNOWN_PROTOCOLS||!1,uC=Ne.ALLOW_SELF_CLOSE_IN_ATTR!==!1,hm=Ne.SAFE_FOR_TEMPLATES||!1,Fp=Ne.SAFE_FOR_XML!==!1,bm=Ne.WHOLE_DOCUMENT||!1,zp=Ne.RETURN_DOM||!1,ax=Ne.RETURN_DOM_FRAGMENT||!1,K1=Ne.RETURN_TRUSTED_TYPE||!1,rx=Ne.FORCE_BODY||!1,D2=Ne.SANITIZE_DOM!==!1,ix=Ne.SANITIZE_NAMED_PROPS||!1,Y1=Ne.KEEP_CONTENT!==!1,Df=Ne.IN_PLACE||!1,es=Ne.ALLOWED_URI_REGEXP||LT,_g=Ne.NAMESPACE||Of,mC=Ne.MATHML_TEXT_INTEGRATION_POINTS||mC,gC=Ne.HTML_INTEGRATION_POINTS||gC,rs=Ne.CUSTOM_ELEMENT_HANDLING||{},Ne.CUSTOM_ELEMENT_HANDLING&&rc(Ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(rs.tagNameCheck=Ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ne.CUSTOM_ELEMENT_HANDLING&&rc(Ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(rs.attributeNameCheck=Ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ne.CUSTOM_ELEMENT_HANDLING&&typeof Ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(rs.allowCustomizedBuiltInElements=Ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),hm&&(Tf=!1),ax&&(zp=!0),mn&&(xo=hs({},Hv),Nn=[],mn.html===!0&&(hs(xo,P4),hs(Nn,zw)),mn.svg===!0&&(hs(xo,I4),hs(Nn,Vw),hs(Nn,$v)),mn.svgFilters===!0&&(hs(xo,P0),hs(Nn,Vw),hs(Nn,$v)),mn.mathMl===!0&&(hs(xo,L4),hs(Nn,F4),hs(Nn,$v))),Ne.ADD_TAGS&&(xo===ps&&(xo=fg(xo)),hs(xo,Ne.ADD_TAGS,ai)),Ne.ADD_ATTR&&(Nn===ca&&(Nn=fg(Nn)),hs(Nn,Ne.ADD_ATTR,ai)),Ne.ADD_URI_SAFE_ATTR&&hs(fE,Ne.ADD_URI_SAFE_ATTR,ai),Ne.FORBID_CONTENTS&&(Au===Tu&&(Au=fg(Au)),hs(Au,Ne.FORBID_CONTENTS,ai)),Y1&&(xo["#text"]=!0),bm&&hs(xo,["html","head","body"]),xo.table&&(hs(xo,["tbody"]),delete Al.tbody),Ne.TRUSTED_TYPES_POLICY){if(typeof Ne.TRUSTED_TYPES_POLICY.createHTML!="function")throw Vv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ne.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Vv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');J=Ne.TRUSTED_TYPES_POLICY,me=J.createHTML("")}else J===void 0&&(J=function(Ho,yo){if(typeof Ho!="object"||typeof Ho.createPolicy!="function")return null;let As=null;const Vs="data-tt-policy-suffix";yo&&yo.hasAttribute(Vs)&&(As=yo.getAttribute(Vs));const Vn="dompurify"+(As?"#"+As:"");try{return Ho.createPolicy(Vn,{createHTML:ii=>ii,createScriptURL:ii=>ii})}catch{return console.warn("TrustedTypes policy "+Vn+" could not be created."),null}}(I,m)),J!==null&&typeof me=="string"&&(me=J.createHTML(""));Cl&&Cl(Ne),Vp=Ne}},e7=hs({},[...I4,...P0,...PT]),xE=hs({},[...L4,...dM]),xm=function(Ne){zv(i.removed,{element:Ne});try{Y(Ne).removeChild(Ne)}catch{q(Ne)}},cx=function(Ne,Ho){try{zv(i.removed,{attribute:Ho.getAttributeNode(Ne),from:Ho})}catch{zv(i.removed,{attribute:null,from:Ho})}if(Ho.removeAttribute(Ne),Ne==="is")if(zp||ax)try{xm(Ho)}catch{}else try{Ho.setAttribute(Ne,"")}catch{}},t7=function(Ne){let Ho=null,yo=null;if(rx)Ne="<remove></remove>"+Ne;else{const Vn=BT(Ne,/^[\r\n\t ]+/);yo=Vn&&Vn[0]}R2==="application/xhtml+xml"&&_g===Of&&(Ne='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ne+"</body></html>");const As=J?J.createHTML(Ne):Ne;if(_g===Of)try{Ho=new N().parseFromString(As,R2)}catch{}if(!Ho||!Ho.documentElement){Ho=ue.createDocument(_g,"template",null);try{Ho.documentElement.innerHTML=pE?me:As}catch{}}const Vs=Ho.body||Ho.documentElement;return Ne&&yo&&Vs.insertBefore(l.createTextNode(yo),Vs.childNodes[0]||null),_g===Of?Ve.call(Ho,bm?"html":"body")[0]:bm?Ho.documentElement:Vs},o7=function(Ne){return pe.call(Ne.ownerDocument||Ne,Ne,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT|S.SHOW_PROCESSING_INSTRUCTION|S.SHOW_CDATA_SECTION,null)},vE=function(Ne){return Ne instanceof A&&(typeof Ne.nodeName!="string"||typeof Ne.textContent!="string"||typeof Ne.removeChild!="function"||!(Ne.attributes instanceof k)||typeof Ne.removeAttribute!="function"||typeof Ne.setAttribute!="function"||typeof Ne.namespaceURI!="string"||typeof Ne.insertBefore!="function"||typeof Ne.hasChildNodes!="function")},n7=function(Ne){return typeof v=="function"&&Ne instanceof v};function Rf(Ne,Ho,yo){Lw(Ne,As=>{As.call(i,Ho,yo,Vp)})}const s7=function(Ne){let Ho=null;if(Rf(qe.beforeSanitizeElements,Ne,null),vE(Ne))return xm(Ne),!0;const yo=ai(Ne.nodeName);if(Rf(qe.uponSanitizeElement,Ne,{tagName:yo,allowedTags:xo}),Fp&&Ne.hasChildNodes()&&!n7(Ne.firstElementChild)&&kl(/<[/\w!]/g,Ne.innerHTML)&&kl(/<[/\w!]/g,Ne.textContent)||Ne.nodeType===7||Fp&&Ne.nodeType===8&&kl(/<[/\w]/g,Ne.data))return xm(Ne),!0;if(!xo[yo]||Al[yo]){if(!Al[yo]&&r7(yo)&&(rs.tagNameCheck instanceof RegExp&&kl(rs.tagNameCheck,yo)||rs.tagNameCheck instanceof Function&&rs.tagNameCheck(yo)))return!1;if(Y1&&!Au[yo]){const As=Y(Ne)||Ne.parentNode,Vs=H(Ne)||Ne.childNodes;if(Vs&&As)for(let Vn=Vs.length-1;Vn>=0;--Vn){const ii=Z(Vs[Vn],!0);ii.__removalCount=(Ne.__removalCount||0)+1,As.insertBefore(ii,V(Ne))}}return xm(Ne),!0}return Ne instanceof w&&!function(As){let Vs=Y(As);Vs&&Vs.tagName||(Vs={namespaceURI:_g,tagName:"template"});const Vn=Fw(As.tagName),ii=Fw(Vs.tagName);return!!O2[As.namespaceURI]&&(As.namespaceURI===Du?Vs.namespaceURI===Of?Vn==="svg":Vs.namespaceURI===lx?Vn==="svg"&&(ii==="annotation-xml"||mC[ii]):!!e7[Vn]:As.namespaceURI===lx?Vs.namespaceURI===Of?Vn==="math":Vs.namespaceURI===Du?Vn==="math"&&gC[ii]:!!xE[Vn]:As.namespaceURI===Of?!(Vs.namespaceURI===Du&&!gC[ii])&&!(Vs.namespaceURI===lx&&!mC[ii])&&!xE[Vn]&&(J8[Vn]||!e7[Vn]):!(R2!=="application/xhtml+xml"||!O2[As.namespaceURI]))}(Ne)?(xm(Ne),!0):yo!=="noscript"&&yo!=="noembed"&&yo!=="noframes"||!kl(/<\/no(script|embed|frames)/i,Ne.innerHTML)?(hm&&Ne.nodeType===3&&(Ho=Ne.textContent,Lw([ut,$t,lo],As=>{Ho=hu(Ho,As," ")}),Ne.textContent!==Ho&&(zv(i.removed,{element:Ne.cloneNode()}),Ne.textContent=Ho)),Rf(qe.afterSanitizeElements,Ne,null),!1):(xm(Ne),!0)},yE=function(Ne,Ho,yo){if(D2&&(Ho==="id"||Ho==="name")&&(yo in l||yo in kI))return!1;if(!(Tf&&!Ci[Ho]&&kl(fo,Ho))){if(!(rl&&kl(qo,Ho))){if(!Nn[Ho]||Ci[Ho]){if(!(r7(Ne)&&(rs.tagNameCheck instanceof RegExp&&kl(rs.tagNameCheck,Ne)||rs.tagNameCheck instanceof Function&&rs.tagNameCheck(Ne))&&(rs.attributeNameCheck instanceof RegExp&&kl(rs.attributeNameCheck,Ho)||rs.attributeNameCheck instanceof Function&&rs.attributeNameCheck(Ho))||Ho==="is"&&rs.allowCustomizedBuiltInElements&&(rs.tagNameCheck instanceof RegExp&&kl(rs.tagNameCheck,yo)||rs.tagNameCheck instanceof Function&&rs.tagNameCheck(yo))))return!1}else if(!fE[Ho]){if(!kl(es,hu(yo,Jn,""))){if((Ho!=="src"&&Ho!=="xlink:href"&&Ho!=="href"||Ne==="script"||lM(yo,"data:")!==0||!Y8[Ne])&&!(nx&&!kl(Sn,hu(yo,Jn,"")))){if(yo)return!1}}}}}return!0},r7=function(Ne){return Ne!=="annotation-xml"&&BT(Ne,ao)},a7=function(Ne){Rf(qe.beforeSanitizeAttributes,Ne,null);const{attributes:Ho}=Ne;if(!Ho||vE(Ne))return;const yo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Nn,forceKeepAttr:void 0};let As=Ho.length;for(;As--;){const Vs=Ho[As],{name:Vn,namespaceURI:ii,value:Nf}=Vs,vm=ai(Vn),wE=Nf;let Tl=Vn==="value"?wE:cM(wE);if(yo.attrName=vm,yo.attrValue=Tl,yo.keepAttr=!0,yo.forceKeepAttr=void 0,Rf(qe.uponSanitizeAttribute,Ne,yo),Tl=yo.attrValue,!ix||vm!=="id"&&vm!=="name"||(cx(Vn,Ne),Tl="user-content-"+Tl),Fp&&kl(/((--!?|])>)|<\/(style|title)/i,Tl)){cx(Vn,Ne);continue}if(yo.forceKeepAttr)continue;if(!yo.keepAttr){cx(Vn,Ne);continue}if(!uC&&kl(/\/>/i,Tl)){cx(Vn,Ne);continue}hm&&Lw([ut,$t,lo],i7=>{Tl=hu(Tl,i7," ")});const N2=ai(Ne.nodeName);if(yE(N2,vm,Tl)){if(J&&typeof I=="object"&&typeof I.getAttributeType=="function"&&!ii)switch(I.getAttributeType(N2,vm)){case"TrustedHTML":Tl=J.createHTML(Tl);break;case"TrustedScriptURL":Tl=J.createScriptURL(Tl)}if(Tl!==wE)try{ii?Ne.setAttributeNS(ii,Vn,Tl):Ne.setAttribute(Vn,Tl),vE(Ne)?xm(Ne):M4(i.removed)}catch{cx(Vn,Ne)}}else cx(Vn,Ne)}Rf(qe.afterSanitizeAttributes,Ne,null)},SI=function Ne(Ho){let yo=null;const As=o7(Ho);for(Rf(qe.beforeSanitizeShadowDOM,Ho,null);yo=As.nextNode();)Rf(qe.uponSanitizeShadowNode,yo,null),s7(yo),a7(yo),yo.content instanceof p&&Ne(yo.content);Rf(qe.afterSanitizeShadowDOM,Ho,null)};return i.sanitize=function(Ne){let Ho=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},yo=null,As=null,Vs=null,Vn=null;if(pE=!Ne,pE&&(Ne="<!-->"),typeof Ne!="string"&&!n7(Ne)){if(typeof Ne.toString!="function")throw Vv("toString is not a function");if(typeof(Ne=Ne.toString())!="string")throw Vv("dirty is not a string, aborting")}if(!i.isSupported)return Ne;if(sx||bE(Ho),i.removed=[],typeof Ne=="string"&&(Df=!1),Df){if(Ne.nodeName){const vm=ai(Ne.nodeName);if(!xo[vm]||Al[vm])throw Vv("root node is forbidden and cannot be sanitized in-place")}}else if(Ne instanceof v)yo=t7("<!---->"),As=yo.ownerDocument.importNode(Ne,!0),As.nodeType===1&&As.nodeName==="BODY"||As.nodeName==="HTML"?yo=As:yo.appendChild(As);else{if(!zp&&!hm&&!bm&&Ne.indexOf("<")===-1)return J&&K1?J.createHTML(Ne):Ne;if(yo=t7(Ne),!yo)return zp?null:K1?me:""}yo&&rx&&xm(yo.firstChild);const ii=o7(Df?Ne:yo);for(;Vs=ii.nextNode();)s7(Vs),a7(Vs),Vs.content instanceof p&&SI(Vs.content);if(Df)return Ne;if(zp){if(ax)for(Vn=He.call(yo.ownerDocument);yo.firstChild;)Vn.appendChild(yo.firstChild);else Vn=yo;return(Nn.shadowroot||Nn.shadowrootmode)&&(Vn=Le.call(d,Vn,!0)),Vn}let Nf=bm?yo.outerHTML:yo.innerHTML;return bm&&xo["!doctype"]&&yo.ownerDocument&&yo.ownerDocument.doctype&&yo.ownerDocument.doctype.name&&kl(I0,yo.ownerDocument.doctype.name)&&(Nf="<!DOCTYPE "+yo.ownerDocument.doctype.name+`>
`+Nf),hm&&Lw([ut,$t,lo],vm=>{Nf=hu(Nf,vm," ")}),J&&K1?J.createHTML(Nf):Nf},i.setConfig=function(){bE(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),sx=!0},i.clearConfig=function(){Vp=null,sx=!1},i.isValidAttribute=function(Ne,Ho,yo){Vp||bE({});const As=ai(Ne),Vs=ai(Ho);return yE(As,Vs,yo)},i.addHook=function(Ne,Ho){typeof Ho=="function"&&zv(qe[Ne],Ho)},i.removeHook=function(Ne,Ho){if(Ho!==void 0){const yo=aM(qe[Ne],Ho);return yo===-1?void 0:iM(qe[Ne],yo,1)[0]}return M4(qe[Ne])},i.removeHooks=function(Ne){qe[Ne]=[]},i.removeAllHooks=function(){qe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},i}();const zT=n=>pM().sanitize(n);var _i=tinymce.util.Tools.resolve("tinymce.util.I18n");const hM={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},$w="temporary-placeholder",Uw=n=>()=>no(n,$w).getOr("!not found!"),Zw=(n,r)=>{const i=n.toLowerCase();if(_i.isRtl()){const l=((d,m)=>zd(d,m)?d:((p,x)=>p+x)(d,m))(i,"-rtl");return cn(r,l)?l:i}return i},jw=(n,r)=>no(r,Zw(n,r)),VT=(n,r)=>{const i=r();return jw(n,i).getOrThunk(Uw(i))},$4=()=>uo("add-focusable",[us(n=>{fc(n.element,"svg").each(r=>io(r,"focusable","false"))})]),HT=(n,r,i,l)=>{const d=(p=>!!_i.isRtl()&&cn(hM,p))(r)?["tox-icon--flip"]:[],m=no(i,Zw(r,i)).or(l).getOrThunk(Uw(i));return{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes.concat(d),innerHtml:m},behaviours:vt([...n.behaviours??[],$4()]),eventOrder:n.eventOrder??{}}},Pc=(n,r,i,l=E.none())=>HT(r,n,i(),l),bM={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Ww=vi({name:"Notification",factory:n=>{const r=De("notification-text"),i=On({dom:cg(`<p id=${r}>${zT(n.backstageProvider.translate(n.text))}</p>`),behaviours:vt([No.config({})])}),l=k=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${k}%`}}}),d=k=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${k}%`}}),m=On({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},d(0)],behaviours:vt([No.config({})])}),p={updateProgress:(k,A)=>{k.getSystem().isConnected()&&m.getOpt(k).each(N=>{No.set(N,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(A)]},d(A)])})},updateText:(k,A)=>{if(k.getSystem().isConnected()){const N=i.get(k);No.set(N,[Bs(A)])}}},x=Os([n.icon.toArray(),[n.level],E.from(bM[n.level]).toArray()]),v=On(Ba.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[Pc("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:vt([Un.config({}),bs.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:k=>{n.onAction(k)}})),w=((k,A,N)=>{const I=N(),K=B(k,Z=>cn(I,Zw(Z,I)));return HT({tag:"div",classes:["tox-notification__icon"]},K.getOr($w),I,E.none())})(x,0,n.iconProvider),S=[w,{dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:vt([No.config({})])}];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":r},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},behaviours:vt([Un.config({}),vo.config({}),Kt.config({mode:"special",onEscape:k=>(n.onAction(k),E.some(!0))})]),components:S.concat(n.progress?[m.asSpec()]:[]).concat([v.asSpec()]),apis:p}},configFields:[Fi("level","info",["success","error","warning","warn","info"]),ft("progress"),Mn("icon"),ft("onAction"),ft("text"),ft("iconProvider"),ft("backstageProvider")],apis:{updateProgress:(n,r,i)=>{n.updateProgress(r,i)},updateText:(n,r,i)=>{n.updateText(r,i)}}});var xM=(n,r,i,l)=>{const d=r.backstage.shared,m=()=>Ft(n.queryCommandValue("ToggleView")===""?n.getContentAreaContainer():n.getContainer()),p=()=>{const v=yr(m());return E.some(v)},x=v=>{p().each(w=>{yt(v,S=>{pn(S.element,"width"),Ln(S.element)>w.width&&Ro(S.element,"width",w.width+"px")})})};return{open:(v,w,S)=>{const k=()=>{l.on(I=>{w();const K=S();(Z=>{No.remove(Z,A),N()})(I),((Z,q)=>{ml(Z.element).length===0?((V,H)=>{zs.hide(V),l.clear(),H&&n.focus()})(Z,q):((V,H)=>{H&&Kt.focusIn(V)})(Z,q)})(I,K)})},A=ni(Ww.sketch({text:v.text,level:pt(["success","error","warning","warn","info"],v.type)?v.type:void 0,progress:v.progressBar===!0,icon:v.icon,onAction:k,iconProvider:d.providers.icons,backstageProvider:d.providers}));if(l.isSet()){const I=Oc(A);l.on(K=>{No.append(K,I),zs.reposition(K),A.hasConfigured(Fs)&&Fs.refresh(K),x(K.components())})}else{const I=ni(zs.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:d.getSink,fireDismissalEventInstead:{},...d.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:vt([Kt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),No.config({}),...M0(n)&&d.header.isPositionedAtTop()?[]:[Fs.config({contextual:{lazyContext:()=>E.some(yr(m())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:V=>gg(n,V.element).map(H=>({bounds:yf(H),optScrollEnv:E.some({currentScrollTop:H.element.dom.scrollTop,scrollElmTop:Nr(H.element).top})})).getOrThunk(()=>({bounds:Qs(),optScrollEnv:E.none()}))})]])})),K=Oc(A),Z={maxHeightFunction:Qu()},q={...d.anchors.banner(),overrides:Z};l.set(I),i.add(I),zs.showWithinBounds(I,K,{anchor:q},p)}St(v.timeout)&&v.timeout>0&&Rv.setEditorTimeout(n,()=>{k()},v.timeout);const N=()=>{l.on(I=>{zs.reposition(I),I.hasConfigured(Fs)&&Fs.refresh(I),x(I.components())})};return{close:k,reposition:N,text:I=>{Ww.updateText(A,I)},settings:v,getEl:()=>A.element.dom,progressBar:{value:I=>{Ww.updateProgress(A,I)}}}},close:v=>{v.close()},getArgs:v=>v.settings}},U4;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(U4||(U4={}));var Ic=U4;const qw="tox-menu-nav__js",Uv="tox-collection__item",$T="tox-swatch",Z4={normal:qw,color:$T},j4="tox-collection__item--enabled",UT="tox-collection__item-icon",W4="tox-collection__item-label",ZT="tox-collection__item-caret",_1="tox-collection__item--active",q4="tox-collection__item-container",Gw="tox-collection__item-container--row",jT=n=>no(Z4,n).getOr(qw),Kw=n=>n==="color"?"tox-swatches":"tox-menu",G4=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Kw(n),tieredMenu:"tox-tiered-menu"}),Cp=n=>{const r=G4(n);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:jT(n)}},vM=(n,r,i)=>{const l=G4(i);return{tag:"div",classes:Os([[l.menu,`tox-menu-${r}-column`],n?[l.hasIcons]:[]])}},yM=[ug.parts.items({})],Zv=(n,r,i)=>{const l=G4(i);return{dom:{tag:"div",classes:Os([[l.tieredMenu]])},markers:Cp(i)}},WT=De("refetch-trigger-event"),K4=De("redirect-menu-item-interaction"),qT="tox-menu__searcher",Yw=n=>ls(n.element,`.${qT}`).bind(r=>n.getSystem().getByDom(r).toOptional()),Xw=Yw,kp=n=>({fetchPattern:Vt.getValue(n),selectionStart:n.element.dom.selectionStart,selectionEnd:n.element.dom.selectionEnd}),wM=n=>{const r=(d,m)=>(m.cut(),E.none()),i=(d,m)=>{const p={interactionEvent:m.event,eventType:m.event.raw.type};return oo(d,K4,p),E.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[Uv]},components:[mg.sketch({inputClasses:[qT,"tox-textfield"],inputAttributes:{...n.placeholder.map(d=>({placeholder:n.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:vt([uo(l,[et(ud(),d=>{an(d,WT)}),et(yc(),(d,m)=>{m.event.raw.key==="Escape"&&m.stop()})]),Kt.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,Kt.name()]}})]}},Qw="tox-collection--results__js",Jw=n=>n.dom?{...n,dom:{...n.dom,attributes:{...n.dom.attributes??{},id:De("aria-item-search-result-id"),"aria-selected":"false"}}}:n,Y4="Use arrow keys to navigate.",e_=(n,r)=>i=>{const l=ze(i,r);return Ee(l,d=>({dom:n,components:d}))},L0=(n,r)=>{const i=[];let l=[];return yt(n,(d,m)=>{r(d,m)?(l.length>0&&i.push(l),l=[],(cn(d.dom,"innerHtml")||d.components&&d.components.length>0)&&l.push(d)):l.push(d)}),l.length>0&&i.push(l),Ee(i,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},X4=(n,r,i)=>ug.parts.items({preprocess:l=>{const d=Ee(l,i);return n!=="auto"&&n>1?e_({tag:"div",classes:["tox-collection__group"]},n)(d):L0(d,(m,p)=>r[p].type==="separator")}}),Q4=(n,r,i=!0)=>{return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...(l=r,En(l,d=>d.type==="widget")?{"aria-label":_i.translate(Y4)}:{})}},components:[X4(n,r,We)]};var l},F0=n=>En(n,r=>"icon"in r&&r.icon!==void 0),bu=n=>(console.error(Zu(n)),console.log(n),E.none()),_f=(n,r,i,l,d)=>{const m=(p=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[ug.parts.items({preprocess:x=>L0(x,(v,w)=>p[w].type==="separator")})]});var p;return{value:n,dom:m.dom,components:m.components,items:i}},fm=(n,r,i,l,d)=>{if(d.menuType==="color"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":_i.translate(Y4)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[ug.parts.items({preprocess:p!=="auto"?e_({tag:"div",classes:["tox-swatches__row"]},p):We})]}]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}if(d.menuType==="imageselector"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[ug.parts.items({preprocess:p!=="auto"?e_({tag:"div",classes:["tox-image-selector__row"]},p):We})]}]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}if(d.menuType==="normal"&&l==="auto"){const m=Q4(l,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(d.menuType==="normal"||d.menuType==="searchable"){const m=d.menuType!=="searchable"?Q4(l,i):d.searchMode.searchMode==="search-with-field"?((p,x,v)=>{const w=De("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[wM({i18n:_i.translate,placeholder:v.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],Qw],attributes:{id:w}},components:[X4(p,x,Jw)]}]}})(l,i,d.searchMode):((p,x)=>{const v=De("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Qw].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:v}},components:[X4(p,x,Jw)]}})(l,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(d.menuType==="listpreview"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[ug.parts.items({preprocess:e_({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}return{value:n,dom:vM(r,l,d.menuType),components:yM,items:i}},nr=Br("type"),Sp=Br("name"),t_=Br("label"),pm=Br("text"),J4=Br("title"),jv=Br("icon"),o_=Br("url"),C1=Br("value"),Dd=bl("fetch"),e3=bl("getSubmenuItems"),z0=bl("onAction"),_M=bl("onItemAction"),k1=ds("onSetup",()=>we),CM=Zs("name"),xu=Zs("text"),kM=Zs("role"),Lc=Zs("icon"),Cf=Zs("tooltip"),SM=Zs("chevronTooltip"),S1=Zs("label"),Wv=Zs("shortcut"),EM=Pr("select"),E1=Aa("active",!1),GT=Aa("borderless",!1),vu=Aa("enabled",!0),qv=Aa("primary",!1),t3=n=>Pe("columns",n),o3=Pe("meta",{}),n3=ds("onAction",we),A1=n=>Es("type",n),s3=n=>_r("name","name",Lm(()=>De(`${n}-name`)),wr),AM=[nr,pm,vc("level",["info","warn","error","success"]),jv,Pe("url","")],KT=go(AM),YT=[nr,pm,vu,s3("button"),Lc,GT,dd("buttonType",["primary","secondary","toolbar"]),qv,Es("context","mode:design")],TM=go(YT),T1=[nr,Sp],yu=T1.concat([S1]),DM=T1.concat([t_,vu,Es("context","mode:design")]),OM=go(DM),XT=hl,QT=yu.concat([t3("auto"),Es("context","mode:design")]),JT=go(QT),e6=rh([C1,pm,jv]),RM=yu.concat([Es("storageKey","default"),Es("context","mode:design")]),NM=go(RM),t6=wr,r3=go(yu),a3=wr,o6=T1.concat([Es("tag","textarea"),Br("scriptId"),Br("scriptUrl"),Pr("onFocus"),$l("settings",void 0,G2)]),n6=T1.concat([Es("tag","textarea"),bl("init")]),s6=ah(n=>Ms("customeditor.old",mi(n6),n).orThunk(()=>Ms("customeditor.new",mi(o6),n))),MM=wr,pg=[vu,xu,kM,Wv,_r("value","value",Lm(()=>De("menuitem-value")),Mi()),o3,Es("context","mode:design")],BM=go([nr,Sp].concat(pg)),r6=hl,n_=[s3("button"),Lc,Fi("align","end",["start","end"]),qv,vu,dd("buttonType",["primary","secondary"]),Es("context","mode:design")],Ep=[...n_,pm],i3=[vc("type",["submit","cancel","custom"]),...Ep],l3=[vc("type",["menu"]),xu,Cf,Lc,Ja("items",BM),...n_],s_=[...n_,vc("type",["togglebutton"]),Cf,Lc,xu,Aa("active",!1)],PM=Xa("type",{submit:i3,cancel:i3,custom:i3,menu:l3,togglebutton:s_}),a6=yu.concat([Es("context","mode:design")]),i6=go(a6),l6=Vm(id),c3=n=>[nr,Hm("columns"),n],c6=[nr,Br("html"),Fi("presets","presentation",["presentation","document"]),ds("onInit",we),Aa("stretched",!1)],IM=go(c6),d6=yu.concat([Aa("border",!1),Aa("sandboxed",!0),Aa("streamContent",!1),Aa("transparent",!0)]),u6=go(d6),m6=wr,g6=go(T1.concat([Zs("height")])),LM=go([Br("url"),Js("zoom"),Js("cachedWidth"),Js("cachedHeight")]),d3=yu.concat([Zs("inputMode"),Zs("placeholder"),Aa("maximized",!1),vu,Es("context","mode:design")]),FM=go(d3),zM=wr,VM=n=>[nr,t_,n,Fi("align","start",["start","center","end"]),Zs("for")],HM=[pm,C1],f6=[pm,Ja("items",lh(0,()=>p6))],p6=sh([go(HM),go(f6)]),Gv=yu.concat([Ja("items",p6),vu,Es("context","mode:design")]),h6=go(Gv),$M=wr,UM=yu.concat([Ii("items",[pm,C1]),Ul("size",1),vu,Es("context","mode:design")]),u3=go(UM),ZM=wr,jM=yu.concat([Aa("constrain",!0),vu,Es("context","mode:design")]),WM=go(jM),b6=go([Br("width"),Br("height")]),qM=T1.concat([t_,Ul("min",0),Ul("max",0)]),x6=go(qM),GM=Vg,KM=[nr,Ja("header",wr),Ja("cells",Vm(wr))],YM=go(KM),v6=yu.concat([Zs("placeholder"),Aa("maximized",!1),vu,Es("context","mode:design"),Li("spellcheck",hl)]),XM=go(v6),QM=wr,y6=[Es("buttonType","default"),Zs("text"),Zs("tooltip"),Zs("icon"),$l("search",!1,sh([hl,go([Zs("placeholder")])],n=>dt(n)?n?E.some({placeholder:E.none()}):E.none():E.some(n))),bl("fetch"),ds("onSetup",()=>we),Es("context","mode:design")],w6=go([nr,...y6]),m3=n=>Ms("menubutton",w6,n),g3=[vc("type",["directory","leaf"]),J4,Br("id"),Li("menu",w6),Zs("customStateIcon"),Zs("customStateIconTooltip")],r_=go(g3),JM=g3.concat([Ja("children",lh(0,()=>ld("type",{directory:f3,leaf:r_})))]),f3=go(JM),eB=ld("type",{directory:f3,leaf:r_}),Kv=[nr,Ja("items",eB),Pr("onLeafAction"),Pr("onToggleExpand"),ju("defaultExpandedIds",[],wr),Zs("defaultSelectedId")],tB=go(Kv),oB=yu.concat([Fi("filetype","file",["image","media","file"]),vu,Zs("picker_text"),Es("context","mode:design")]),nB=go(oB),p3=go([C1,o3]),a_=n=>_r("items","items",{tag:"required",process:{}},Vm(ah(r=>Ms(`Checking item of ${n}`,h3,r).fold(i=>Jo.error(Zu(i)),i=>Jo.value(i))))),h3=Fm(()=>{return ld("type",{alertbanner:KT,bar:go((n=a_("bar"),[nr,n])),button:TM,checkbox:OM,colorinput:NM,colorpicker:r3,dropzone:i6,grid:go(c3(a_("grid"))),iframe:u6,input:FM,listbox:h6,selectbox:u3,sizeinput:WM,slider:x6,textarea:XM,urlinput:nB,customeditor:s6,htmlpanel:IM,imagepreview:g6,collection:JT,label:go(VM(a_("label"))),table:YM,tree:tB,panel:_6});var n}),b3=[nr,Pe("classes",[]),Ja("items",h3)],_6=go(b3),sB=[s3("tab"),J4,Ja("items",h3)],i_=[nr,Ii("tabs",sB)],C6=go(i_),k6=Ep,rB=PM,aB=go([Br("title"),Pi("body",ld("type",{panel:_6,tabpanel:C6})),Es("size","normal"),ju("buttons",[],rB),Pe("initialData",{}),ds("onAction",we),ds("onChange",we),ds("onSubmit",we),ds("onClose",we),ds("onCancel",we),ds("onTabChange",we)]),iB=go([vc("type",["cancel","custom"]),...k6]),lB=go([Br("title"),Br("url"),Js("height"),Js("width"),$m("buttons",iB),ds("onAction",we),ds("onCancel",we),ds("onClose",we),ds("onMessage",we)]),x3=n=>ve(n)?[n].concat(Uo(Tr(n),x3)):$e(n)?Uo(n,x3):[],cB=n=>xe(n.type)&&xe(n.name),dB={checkbox:XT,colorinput:t6,colorpicker:a3,dropzone:l6,input:zM,iframe:m6,imagepreview:LM,selectbox:ZM,sizeinput:b6,slider:GM,listbox:$M,size:b6,textarea:QM,urlinput:p3,customeditor:MM,collection:e6,togglemenuitem:r6},uB=n=>{const r=(l=>Oo(x3(l),cB))(n),i=Uo(r,l=>(d=>E.from(dB[d.type]))(l).fold(()=>[],d=>[Pi(l.name,d)]));return go(i)},S6=n=>({internalDialog:Bi(Ms("dialog",aB,n)),dataValidator:uB(n),initialData:n.initialData??{}}),D1={open:(n,r)=>{const i=S6(r);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,r)=>n(Bi(Ms("dialog",lB,r))),redial:n=>S6(n)},l_=go([nr,xu]),E6=go([A1("autocompleteitem"),E1,vu,o3,C1,xu,Lc]),V0=[vu,Cf,Lc,xu,k1,Es("context","mode:design")],mB=go([nr,z0,Wv].concat(V0)),c_=n=>Ms("toolbarbutton",mB,n),v3=[E1].concat(V0),gB=go(v3.concat([nr,z0,Wv])),y3=n=>Ms("ToggleButton",gB,n),Yv=[ds("predicate",Me),Fi("scope","node",["node","editor"]),Fi("position","selection",["node","selection","line"])],A6=V0.concat([A1("contextformbutton"),Es("align","end"),qv,z0,Ea("original",We)]),fB=v3.concat([A1("contextformbutton"),Es("align","end"),qv,z0,Ea("original",We)]),pB=V0.concat([A1("contextformbutton")]),hB=v3.concat([A1("contextformtogglebutton")]),d_=[S1,Ja("commands",Xa("type",{contextformbutton:A6,contextformtogglebutton:fB})),Li("launch",Xa("type",{contextformbutton:pB,contextformtogglebutton:hB})),ds("onInput",we),ds("onSetup",we)],w3=[...Yv,...d_,vc("type",["contextform"]),ds("initValue",se("")),Zs("placeholder")],bB=[...Yv,...d_,vc("type",["contextsliderform"]),ds("initValue",se(0)),ds("min",se(0)),ds("max",se(100))],xB=[...Yv,...d_,vc("type",["contextsizeinputform"]),ds("initValue",se({width:"",height:""}))],vB=Xa("type",{contextform:w3,contextsliderform:bB,contextsizeinputform:xB}),yB=V0.concat([A1("contexttoolbarbutton")]),wB=go([A1("contexttoolbar"),gi("launch",yB),Pi("items",sh([wr,rh([Zs("name"),Zs("label"),Ja("items",wr)])]))].concat(Yv)),_B=n=>({name:n.name.getOrUndefined(),label:n.label.getOrUndefined(),items:n.items}),T6=[nr,Br("src"),Zs("alt"),ju("classes",[],wr)],D6=go(T6),CB=[nr,pm,CM,ju("classes",["tox-collection__item-label"],wr)],kB=go(CB),O6=Fm(()=>ld("type",{cardimage:D6,cardtext:kB,cardcontainer:nc})),nc=go([nr,Es("direction","horizontal"),Es("align","left"),Es("valign","middle"),Ja("items",O6)]),wu=go([nr,S1,Ja("items",O6),k1,n3].concat(pg)),R6=go([nr,E1,Lc,S1].concat(pg)),Xv=[nr,Br("fancytype"),n3],_3=[Pe("initData",{})].concat(Xv),u_=[Pr("select"),hb("initData",{},[Aa("allowCustomColors",!0),Es("storageKey","default"),$m("colors",Mi())])].concat(Xv),SB=[Pr("select"),Qa("initData",[Hm("columns"),ju("items",[],Mi())])].concat(Xv),N6=Xa("fancytype",{inserttable:_3,colorswatch:u_,imageselect:SB}),Qv=go([nr,E1,o_,S1,Cf].concat(pg)),EB=go([nr,E1,jv,t_,Cf,C1].concat(pg)),m_=go([nr,k1,n3,Lc].concat(pg)),C3=go([nr,e3,k1,Lc].concat(pg)),M6=go([nr,Lc,E1,k1,z0].concat(pg)),Jv=go([Lc,Cf,ds("onShow",we),ds("onHide",we),k1]),AB=go([nr,Pi("items",sh([rh([Sp,Ja("items",wr)]),wr]))].concat(V0)),TB=go([nr,Cf,SM,Lc,xu,EM,Dd,k1,Fi("presets","normal",["normal","color","listpreview"]),t3(1),z0,_M,Es("context","mode:design")]),_u=[xu,Lc,Zs("tooltip"),Fi("buttonType","secondary",["primary","secondary"]),Aa("borderless",!1),bl("onAction"),Es("context","mode:design")],Sl={button:[..._u,pm,vc("type",["button"])],togglebutton:[..._u,Aa("active",!1),vc("type",["togglebutton"])]},e2=[vc("type",["group"]),ju("buttons",[],Xa("type",Sl))],sc=Xa("type",{...Sl,group:e2}),DB=go([ju("buttons",[],sc),bl("onShow"),bl("onHide")]),ms=(n,r,i)=>{const l=oa(n.element,"."+i);if(l.length>0){const d=tr(l,m=>{const p=m.dom.getBoundingClientRect().top,x=l[0].dom.getBoundingClientRect().top;return Math.abs(p-x)>r}).getOr(l.length);return E.some({numColumns:d,numRows:Math.ceil(l.length/d)})}return E.none()},t2=n=>((r,i)=>vt([uo(r,i)]))(De("unnamed-events"),n),hg=n=>Jt.config({disabled:n,disableClass:"tox-collection__item--state-disabled"}),kf=n=>Jt.config({disabled:n}),o2=n=>Jt.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1}),O1=(n,r)=>{const i=n.getApi(r);return l=>{l(i)}},Od=(n,r)=>us(i=>{Je(n.onBeforeSetup)&&n.onBeforeSetup(i),O1(n,i)(l=>{const d=n.onSetup(l);Je(d)&&r.set(d)})}),R1=(n,r)=>Ec(i=>O1(n,i)(r.get())),n2=(n,r,i)=>Ec(l=>(i.set(Vt.getValue(l)),O1(n,l)(r.get()))),B6="silver.uistate",H0="setDisabled",k3="init",S3=["switchmode",k3],$0=(n,r)=>{const i=n.mainUi.outerContainer,l=[n.mainUi.mothership,...n.uiMotherships];r===H0&&yt(l,d=>{d.broadcastOn([xd()],{target:i.element})}),yt(l,d=>{d.broadcastOn([B6],r)})},s2=(n,r)=>{n.on("init SwitchMode",i=>{$0(r,i.type)}),n.on("DisabledStateChange",i=>{if(!i.isDefaultPrevented()){const l=i.state?H0:k3;$0(r,l),i.state||n.nodeChanged()}}),n.on("NodeChange",i=>{const l=n.ui.isEnabled()?i.type:H0;$0(r,l)}),pT(n)&&n.mode.set("readonly")},Hr=n=>tl.config({channels:{[B6]:{onReceive:(r,i)=>{if(i===H0||i==="setEnabled")return void Jt.set(r,i===H0);const{contextType:l,shouldDisable:d}=n();(l!=="mode"||pt(S3,i))&&Jt.set(r,d)}}}}),OB=(n,r)=>ru((i,l)=>{O1(n,i)(n.onAction),n.triggersSubmenu||r!==Ic.CLOSE_ON_EXECUTE||(i.getSystem().isConnected()&&an(i,ch()),l.stop())}),RB={[Yi()]:["disabling","alloy.base.behaviour","toggling","item-events"]},U0=cl,N1=(n,r,i,l)=>{const d=Ot(we);return{type:"item",dom:r.dom,components:U0(r.optComponents),data:n.data,eventOrder:RB,hasSubmenu:n.triggersSubmenu,itemBehaviours:vt([uo("item-events",[OB(n,i),Od(n,d),R1(n,d)]),hg(()=>!n.enabled||l.checkUiComponentContext(n.context).shouldDisable),Hr(()=>l.checkUiComponentContext(n.context)),No.config({})].concat(n.itemBehaviours))}},Ap=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),NB=(n,r)=>{const i=Rs("div");return Ss(i,"tox-image-selector-loading-spinner"),{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:r},classes:["tox-image-selector-image-img"]}}]},...n.checkMark.toArray()],behaviours:vt([...n.behaviours??[],uo("render-image-events",[us(l=>{var d;d=l.element,Ss(d,"tox-image-selector-loading-spinner-wrapper"),Di(d,i),ls(l.element,"img").each(m=>{Bg(m).catch(p=>{console.error(p)}).finally(()=>{(p=>{rn(p,"tox-image-selector-loading-spinner-wrapper"),Wd(i)})(l.element)})})})])])}},E3=n=>{const r=R0.os.isMacOS()||R0.os.isiOS(),i=r?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=n.split("+"),d=Ee(l,m=>{const p=m.toLowerCase().trim();return cn(i,p)?i[p]:m});return r?d.join(""):d.join("+")},g_=(n,r,i=[UT])=>Pc(n,{tag:"div",classes:i},r),P6=n=>({dom:{tag:"div",classes:[W4]},components:[Bs(_i.translate(n))]}),A3=(n,r)=>({dom:{tag:"div",classes:r,innerHtml:n}}),r2=(n,r)=>({dom:{tag:"div",classes:[W4]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Bs(_i.translate(r))]}]}),MB=n=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Bs(E3(n))]}),T3=n=>g_("checkmark",n,["tox-collection__item-checkmark"]),f_=(n,r)=>{const i=n.map(l=>({attributes:{id:De("menu-item"),"aria-label":_i.translate(l)}})).getOr({});return{tag:"div",classes:[qw,Uv].concat(r),...i}},D3=n=>({dom:{tag:"label"},components:[Bs(n)]}),Tp=(n,r,i,l=E.none())=>n.presets==="color"?((d,m,p)=>{const x=d.value,v=d.iconContent.map(S=>((k,A,N)=>{const I=A();return jw(k,I).or(N).getOrThunk(Uw(I))})(S,m.icons,p)),w=d.ariaLabel.map(S=>({"aria-label":m.translate(S),"data-mce-name":S})).getOr({});return{dom:(()=>{const S=$T,k=v.getOr(""),A={tag:"div",attributes:w,classes:[S]};return x==="custom"?{...A,tag:"button",classes:[...A.classes,"tox-swatches__picker-btn"],innerHtml:k}:x==="remove"?{...A,classes:[...A.classes,"tox-swatch--remove"],innerHtml:k}:ge(x)?{...A,attributes:{...A.attributes,"data-mce-color":x},styles:{"background-color":x},innerHtml:k}:A})(),optComponents:[]}})(n,r,l):n.presets==="img"?(d=>{var m,p;return{dom:f_(d.ariaLabel,["tox-collection__item-image-selector"]),optComponents:[E.some((m=d.iconContent.getOrDie(),p={tag:"div",classes:["tox-collection__item-image"],checkMark:d.checkMark},NB(p,m))),d.labelContent.map(D3)]}})(n):((d,m,p,x)=>{const v={tag:"div",classes:[UT]},w=p?d.iconContent.map(N=>Pc(N,v,m.icons,x)).orThunk(()=>E.some({dom:v})):E.none(),S=d.checkMark,k=E.from(d.meta).fold(()=>P6,N=>cn(N,"style")?nt(r2,N.style):P6),A=d.htmlContent.fold(()=>d.textContent.map(k),N=>E.some(A3(N,[W4])));return{dom:f_(d.ariaLabel,[]),optComponents:[w,A,d.shortcutContent.map(MB),S,d.caret,d.labelContent.map(D3)]}})(n,r,i,l),O3=(n,r,i)=>no(n,"tooltipWorker").map(l=>[bs.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:Qu}}),mode:"follow-highlight",onShow:(d,m)=>{l(p=>{bs.setComponents(d,[nA({element:Ft(p)})])})}})]).getOrThunk(()=>i.map(l=>[bs.config({...r.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),I6=(n,r)=>{const i=(l=>Nv.DOM.encode(l))(_i.translate(n));if(r.length>0){const l=new RegExp((d=>d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(r),"gi");return i.replace(l,d=>`<span class="tox-autocompleter-highlight">${d}</span>`)}return i},L6=(n,r)=>Ee(n,i=>{switch(i.type){case"cardcontainer":return((m,p)=>{const x=m.direction==="vertical"?"tox-collection__item-container--column":Gw,v=m.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[q4,x,v,(()=>{switch(m.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(i,L6(i.items,r));case"cardimage":return((m,p,x)=>({dom:{tag:"img",classes:p,attributes:{src:m,alt:x.getOr("")}}}))(i.src,i.classes,i.alt);case"cardtext":const l=i.name.exists(m=>pt(r.cardText.highlightOn,m)),d=l?E.from(r.cardText.matchText).getOr(""):"";return A3(I6(i.text,d),i.classes)}}),F6=(n,r,i,l,d,m,p,x=!0)=>{const v=Tp({presets:i,textContent:r?n.text:E.none(),htmlContent:E.none(),labelContent:n.label,ariaLabel:n.text,iconContent:n.icon,shortcutContent:r?n.shortcut:E.none(),checkMark:r?E.some(T3(p.icons)):E.none(),caret:E.none(),value:n.value},p,x),w=n.text.filter(se(!r)).map(S=>bs.config(p.tooltips.getConfig({tooltipText:p.translate(S)})));return Cs(N1({context:n.context,data:Ap(n),enabled:n.enabled,getApi:S=>({setActive:k=>{Lo.set(S,k)},isActive:()=>Lo.isOn(S),isEnabled:()=>!Jt.isDisabled(S),setEnabled:k=>Jt.set(S,!k)}),onAction:S=>l(n.value),onSetup:S=>(S.setActive(d),we),triggersSubmenu:!1,itemBehaviours:[...w.toArray()]},v,m,p),{toggling:{toggleClass:j4,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},z6=n=>({value:Rd(n)}),V6=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,H6=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,R3=n=>V6.test(n)||H6.test(n),Rd=n=>os(n,"#").toUpperCase(),N3=n=>{const r=n.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},M1=n=>{const r=N3(n.red)+N3(n.green)+N3(n.blue);return z6(r)},Z0=(n,r,i)=>({hue:n,saturation:r,value:i}),p_=n=>{let r=0,i=0,l=0;const d=n.red/255,m=n.green/255,p=n.blue/255,x=Math.min(d,Math.min(m,p)),v=Math.max(d,Math.max(m,p));return x===v?(l=x,Z0(0,0,100*l)):(r=d===x?3:p===x?1:5,r=60*(r-(d===x?m-p:p===x?d-m:p-d)/(v-x)),i=(v-x)/v,l=v,Z0(Math.round(r),Math.round(100*i),Math.round(100*l)))},$6=Math.min,M3=Math.max,a2=Math.round,U6=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,BB=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,B1=(n,r,i,l)=>({red:n,green:r,blue:i,alpha:l}),B3=n=>{const r=parseInt(n,10);return r.toString()===n&&r>=0&&r<=255},Z6=n=>{let r,i,l;const d=(n.hue||0)%360;let m=n.saturation/100,p=n.value/100;if(m=M3(0,$6(m,1)),p=M3(0,$6(p,1)),m===0)return r=i=l=a2(255*p),B1(r,i,l,1);const x=d/60,v=p*m,w=v*(1-Math.abs(x%2-1)),S=p-v;switch(Math.floor(x)){case 0:r=v,i=w,l=0;break;case 1:r=w,i=v,l=0;break;case 2:r=0,i=v,l=w;break;case 3:r=0,i=w,l=v;break;case 4:r=w,i=0,l=v;break;case 5:r=v,i=0,l=w;break;default:r=i=l=0}return r=a2(255*(r+S)),i=a2(255*(i+S)),l=a2(255*(l+S)),B1(r,i,l,1)},i2=n=>{const r=(m=>{const p=(v=>({value:v.value.replace(V6,(S,k,A,N)=>k+k+A+A+N+N)}))(m),x=H6.exec(p.value);return x===null?["FFFFFF","FF","FF","FF"]:x})(n),i=parseInt(r[1],16),l=parseInt(r[2],16),d=parseInt(r[3],16);return B1(i,l,d,1)},j6=(n,r,i,l)=>{const d=parseInt(n,10),m=parseInt(r,10),p=parseInt(i,10),x=parseFloat(l);return B1(d,m,p,x)},P3=n=>{const r=U6.exec(n);if(r!==null)return E.some(j6(r[1],r[2],r[3],"1"));const i=BB.exec(n);return i!==null?E.some(j6(i[1],i[2],i[3],i[4])):E.none()},I3=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,L3=B1(255,0,0,1),F3=n=>M1(Z6(n)),h_=(n,r)=>{n.dispatch("ResizeContent",r)},W6=(n,r)=>{n.dispatch("TextColorChange",r)},PB=(n,r)=>n.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),q6=n=>{n.dispatch("ContextToolbarClose")},l2=(n,r)=>()=>{n(),r()},wa=(n,r=Ut)=>I1(n,"NodeChange",i=>{i.setEnabled(n.selection.isEditable()&&r())}),P1=(n,r)=>i=>{const l=wa(n)(i),d=((m,p)=>x=>{const v=Zr(),w=()=>{x.setActive(m.formatter.match(p));const S=m.formatter.formatChanged(p,x.setActive);v.set(S)};return m.initialized?w():m.once("init",w),()=>{m.off("init",w),v.clear()}})(n,r)(i);return()=>{l(),d()}},I1=(n,r,i)=>l=>{const d=()=>i(l),m=()=>{i(l),n.on(r,d)};return n.initialized?m():n.once("init",m),()=>{n.off("init",m),n.off(r,d)}},z3=n=>r=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,r.format)})},El=(n,r)=>()=>n.execCommand(r);var Dp=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const V3={},b_=n=>no(V3,n).getOrThunk(()=>{const r=`tinymce-custom-colors-${n}`,i=Dp.getItem(r);if(Ue(i)){const d=Dp.getItem("tinymce-custom-colors");Dp.setItem(r,ge(d)?d:"[]")}const l=((d,m=10)=>{const p=Dp.getItem(d),x=xe(p)?JSON.parse(p):[],v=m-(w=x).length<0?w.slice(0,m):w;var w;const S=k=>{v.splice(k,1)};return{add:k=>{((A,N)=>{const I=ua(A,N);return I===-1?E.none():E.some(I)})(v,k).each(S),v.unshift(k),v.length>m&&v.pop(),Dp.setItem(d,JSON.stringify(v))},state:()=>v.slice(0)}})(r,10);return V3[n]=l,l}),x_=(n,r)=>{b_(n).add(r)},H3="forecolor",$3="hilitecolor",G6=n=>{const r=[];for(let i=0;i<n.length;i+=2)r.push({text:n[i+1],value:n[i],icon:"checkmark",type:"choiceitem"});return r},Cu=n=>r=>r.options.get(n),v_="#000000",y_=(n,r)=>r===H3&&n.options.isSet("color_map_foreground")?Cu("color_map_foreground")(n):r===$3&&n.options.isSet("color_map_background")?Cu("color_map_background")(n):n.options.isSet("color_map_raw")?Cu("color_map_raw")(n):Cu("color_map")(n),U3=(n,r="default")=>Math.max(5,Math.ceil(Math.sqrt(y_(n,r).length))),Z3=(n,r)=>{const i=Cu("color_cols")(n),l=U3(n,r);return i===U3(n)?l:i},K6=(n,r="default")=>Math.round(r===H3?Cu("color_cols_foreground")(n):r===$3?Cu("color_cols_background")(n):Cu("color_cols")(n)),Y6=Cu("custom_colors"),IB=Cu("color_default_foreground"),LB=Cu("color_default_background"),X6=(n,r)=>{const i=Ft(n.selection.getStart()),l=r==="hilitecolor"?th(i,d=>{if(Qo(d)){const m=Va(d,"background-color");return Gs((p=>P3(p).exists(x=>x.alpha!==0))(m),m)}return E.none()}).getOr("rgba(0, 0, 0, 0)"):Va(i,"color");return P3(l).map(d=>"#"+M1(d).value)},Q6=n=>{const r="choiceitem",i={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},j3=(n,r,i,l)=>{i==="custom"?nD(n)(d=>{d.each(m=>{x_(r,m),n.execCommand("mceApplyTextcolor",r,m),l(m)})},X6(n,r).getOr(v_)):i==="remove"?(l(""),n.execCommand("mceRemoveTextcolor",r)):(l(i),n.execCommand("mceApplyTextcolor",r,i))},w_=(n,r,i)=>n.concat((l=>Ee(b_(l).state(),d=>({type:"choiceitem",text:d,icon:"checkmark",value:d})))(r).concat(Q6(i))),W3=(n,r,i)=>l=>{l(w_(n,r,i))},q3=(n,r,i)=>{const l=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(l,i)},J6=(n,r)=>{n.setTooltip(r)},eD=(n,r)=>i=>{const l=X6(n,r);return jn(l,i.toUpperCase())},__=(n,r,i)=>{if(gc(i))return r==="forecolor"?"Text color":"Background color";const l=r==="forecolor"?"Text color {0}":"Background color {0}",d=w_(y_(n,r),r,!1),m=B(d,p=>p.value===i).getOr({text:""}).text;return n.translate([l,n.translate(m)])},tD=(n,r,i,l)=>{n.ui.registry.addSplitButton(r,{tooltip:__(n,i,l.get()),chevronTooltip:r==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:eD(n,i),columns:K6(n,i),fetch:W3(y_(n,i),i,Y6(n)),onAction:d=>{j3(n,i,l.get(),we)},onItemAction:(d,m)=>{j3(n,i,m,p=>{l.set(p),W6(n,{name:r,color:p})})},onSetup:d=>{q3(d,r,l.get());const m=p=>{p.name===r&&(q3(d,p.name,p.color),J6(d,__(n,i,p.color)))};return n.on("TextColorChange",m),l2(wa(n)(d),()=>{n.off("TextColorChange",m)})}})},oD=(n,r,i,l,d)=>{n.ui.registry.addNestedMenuItem(r,{text:l,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:m=>(J6(m,__(n,i,d.get())),q3(m,r,d.get()),wa(n)(m)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:eD(n,i),initData:{storageKey:i},onAction:m=>{j3(n,i,m.value,p=>{d.set(p),W6(n,{name:r,color:p})})}}]})},nD=n=>(r,i)=>{let l=!1;const d={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:d,onAction:(m,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:m=>{const p=m.getData().colorpicker;l?(r(E.from(p)),m.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",p]))},onClose:we,onCancel:()=>{r(E.none())}})},L1=(n,r,i,l,d,m,p,x)=>{const v=F0(r),w=FB(r,i,l,d!=="color"?"normal":"color",m,p,x);return fm(n,v,w,l,{menuType:d})},FB=(n,r,i,l,d,m,p)=>cl(Ee(n,x=>{return x.type==="choiceitem"?(v=x,Ms("choicemenuitem",R6,v)).fold(bu,w=>E.some(F6(w,i===1,l,r,m(w.value),d,p,F0(n)))):x.type==="imageitem"?(w=>Ms("imagemenuitem",Qv,w))(x).fold(bu,w=>E.some(((S,k,A,N,I)=>{const K=Tp({presets:"img",textContent:E.none(),htmlContent:E.none(),ariaLabel:S.tooltip,iconContent:E.some(S.url),labelContent:S.label,shortcutContent:E.none(),checkMark:E.some(T3(I.icons)),caret:E.none(),value:S.value},I,!0),Z=S.tooltip.map(q=>bs.config(I.tooltips.getConfig({tooltipText:I.translate(q)})));return Cs(N1({context:S.context,data:Ap(S),enabled:S.enabled,getApi:q=>({setActive:V=>{Lo.set(q,V)},isActive:()=>Lo.isOn(q),isEnabled:()=>!Jt.isDisabled(q),setEnabled:V=>Jt.set(q,!V)}),onAction:q=>{k(S.value),q.setActive(!0)},onSetup:q=>(q.setActive(A),we),triggersSubmenu:!1,itemBehaviours:[...Z.toArray()]},K,N,I),{toggling:{toggleClass:j4,toggleOnExecute:!1,selected:S.active,exclusive:!0}})})(w,r,m(w.value),d,p))):x.type==="resetimage"?(w=>Ms("resetimageitem",EB,w))(x).fold(bu,w=>E.some(F6({...w,text:w.tooltip,icon:E.some(w.icon),label:E.some(w.label)},i===1,l,r,m(w.value),d,p,F0(n)))):E.none();var v})),c2=(n,r)=>{const i=Cp(r);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[r],previousSelector:l=>r==="color"?ls(l.element,"[aria-checked=true]"):E.none()}},sD=De("cell-over"),rD=De("cell-execute"),zB=(n,r,i)=>{const l=m=>oo(m,rD,{row:n,col:r}),d=(m,p)=>{p.stop(),l(m)};return ni({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:vt([uo("insert-table-picker-cell",[et(ei(),vo.focus),et(Yi(),l),et(jm(),d),et(qu(),d)]),Lo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),vo.config({onFocus:m=>oo(m,sD,{row:n,col:r})})])})},VB=n=>Uo(n,r=>Ee(r,Oc)),aD=(n,r)=>Bs(`${r}x${n}`),HB={inserttable:(n,r)=>{const i=(p=>(x,v)=>p.shared.providers.translate(["{0} columns, {1} rows",v,x]))(r),l=(p=>{const x=[];for(let v=0;v<10;v++){const w=[];for(let S=0;S<10;S++){const k=p(v+1,S+1);w.push(zB(v,S,k))}x.push(w)}return x})(i),d=aD(0,0),m=On({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[d],behaviours:vt([No.config({})])});return{type:"widget",data:{value:De("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[uw.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:VB(l).concat(m.asSpec()),behaviours:vt([uo("insert-table-picker",[us(p=>{No.set(m.get(p),[d])}),jb(sD,(p,x,v)=>{const{row:w,col:S}=v.event;((k,A,N)=>{for(let I=0;I<10;I++)for(let K=0;K<10;K++)Lo.set(k[I][K],I<=A&&K<=N)})(l,w,S),No.set(m.get(p),[aD(w+1,S+1)])}),jb(rD,(p,x,v)=>{const{row:w,col:S}=v.event;an(p,ch()),n.onAction({numRows:w+1,numColumns:S+1})})]),Kt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(n,r)=>{const i=((x,v)=>{const w=x.initData.allowCustomColors&&v.colorinput.hasCustomColors();return x.initData.colors.fold(()=>w_(v.colorinput.getColors(x.initData.storageKey),x.initData.storageKey,w),S=>S.concat(Q6(w)))})(n,r),l=r.colorinput.getColorCols(n.initData.storageKey),d="color",m=L1(De("menu-value"),i,x=>{n.onAction({value:x})},l,d,Ic.CLOSE_ON_EXECUTE,n.select.getOr(Me),r.shared.providers),p={...m,markers:Cp(d),movement:c2(l,d),showMenuRole:!1};return{type:"widget",data:{value:De("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[uw.widget(ug.sketch(p))]}},imageselect:(n,r)=>{const i="imageselector",l=n.initData.columns,d=L1(De("menu-value"),n.initData.items,p=>{n.onAction({value:p})},l,i,Ic.CLOSE_ON_EXECUTE,n.select.getOr(Me),r.shared.providers),m={...d,markers:Cp(i),movement:c2(l,i),showMenuRole:!1};return{type:"widget",data:{value:De("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[uw.widget(ug.sketch(m))]}}},iD=n=>({type:"separator",dom:{tag:"div",classes:[Uv,"tox-collection__group-heading"]},components:n.text.map(Bs).toArray()}),lD=(n,r,i)=>{Xw(n).each(l=>{var d;((m,p)=>{Jr(p.element,"id").each(x=>io(m.element,"aria-activedescendant",x))})(l,i),(pr((d=r).element,Qw)?E.some(d.element):ls(d.element,"."+Qw)).each(m=>{Jr(m,"id").each(p=>io(l.element,"aria-controls",p))})}),io(i.element,"aria-selected","true")},$B=(n,r,i)=>{io(i.element,"aria-selected","false")},UB=n=>Sr.getExistingCoupled(n,"sandbox").bind(Yw).map(kp).map(r=>r.fetchPattern).getOr("");var C_;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(C_||(C_={}));const G3=(n,r,i,l,d)=>{const m=i.shared.providers,p=v=>d?{...v,shortcut:E.none(),icon:v.text.isSome()?E.none():v.icon}:v;switch(n.type){case"menuitem":return(x=n,Ms("menuitem",m_,x)).fold(bu,v=>E.some(((w,S,k,A=!0)=>{const N=Tp({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:E.none(),labelContent:E.none(),ariaLabel:w.text,caret:E.none(),checkMark:E.none(),shortcutContent:w.shortcut},k,A);return N1({context:w.context,data:Ap(w),getApi:I=>({isEnabled:()=>!Jt.isDisabled(I),setEnabled:K=>Jt.set(I,!K)}),enabled:w.enabled,onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},N,S,k)})(p(v),r,m,l)));case"nestedmenuitem":return(v=>Ms("nestedmenuitem",C3,v))(n).fold(bu,v=>E.some(((w,S,k,A=!0,N=!1)=>{const I=N?(K=k.icons,g_("chevron-down",K,[ZT])):(q=>g_("chevron-right",q,[ZT]))(k.icons);var K;const Z=Tp({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:E.none(),ariaLabel:w.text,labelContent:E.none(),caret:E.some(I),checkMark:E.none(),shortcutContent:w.shortcut},k,A);return N1({context:w.context,data:Ap(w),getApi:q=>({isEnabled:()=>!Jt.isDisabled(q),setEnabled:V=>Jt.set(q,!V),setIconFill:(V,H)=>{ls(q.element,`svg path[class="${V}"], rect[class="${V}"]`).each(Y=>{io(Y,"fill",H)})},setTooltip:V=>{const H=k.translate(V);io(q.element,"aria-label",H)}}),enabled:w.enabled,onAction:we,onSetup:w.onSetup,triggersSubmenu:!0,itemBehaviours:[]},Z,S,k)})(p(v),r,m,l,d)));case"togglemenuitem":return(v=>Ms("togglemenuitem",M6,v))(n).fold(bu,v=>E.some(((w,S,k,A=!0)=>{const N=Tp({iconContent:w.icon,textContent:w.text,htmlContent:E.none(),labelContent:E.none(),ariaLabel:w.text,checkMark:E.some(T3(k.icons)),caret:E.none(),shortcutContent:w.shortcut,presets:"normal",meta:w.meta},k,A);return Cs(N1({context:w.context,data:Ap(w),enabled:w.enabled,getApi:I=>({setActive:K=>{Lo.set(I,K)},isActive:()=>Lo.isOn(I),isEnabled:()=>!Jt.isDisabled(I),setEnabled:K=>Jt.set(I,!K)}),onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},N,S,k),{toggling:{toggleClass:j4,toggleOnExecute:!1,selected:w.active},role:w.role.getOrUndefined()})})(p(v),r,m,l)));case"separator":return(v=>Ms("separatormenuitem",l_,v))(n).fold(bu,v=>E.some(iD(v)));case"fancymenuitem":return(v=>Ms("fancymenuitem",N6,v))(n).fold(bu,v=>((w,S)=>no(HB,w.fancytype).map(k=>k(w,S)))(v,i));default:return console.error("Unknown item in general menu",n),E.none()}var x},ZB=(n,r,i,l,d,m,p)=>{const x=l===1,v=!x||F0(n);return cl(Ee(n,w=>{switch(w.type){case"separator":return(S=w,Ms("Autocompleter.Separator",l_,S)).fold(bu,k=>E.some(iD(k)));case"cardmenuitem":return(k=>Ms("cardmenuitem",wu,k))(w).fold(bu,k=>E.some(((A,N,I,K)=>{const Z={dom:f_(A.label,[]),optComponents:[E.some({dom:{tag:"div",classes:[q4,Gw]},components:L6(A.items,K)})]};return N1({context:"mode:design",data:Ap({text:E.none(),...A}),enabled:A.enabled,getApi:q=>({isEnabled:()=>!Jt.isDisabled(q),setEnabled:V=>{Jt.set(q,!V),yt(oa(q.element,"*"),H=>{q.getSystem().getByDom(H).each(Y=>{Y.hasConfigured(Jt)&&Jt.set(Y,!V)})})}}),onAction:A.onAction,onSetup:A.onSetup,triggersSubmenu:!1,itemBehaviours:E.from(K.itemBehaviours).getOr([])},Z,N,I.providers)})({...k,onAction:A=>{k.onAction(A),i(k.value,k.meta)}},d,m,{itemBehaviours:O3(k.meta,m,E.none()),cardText:{matchText:r,highlightOn:p}})));default:return(k=>Ms("Autocompleter.Item",E6,k))(w).fold(bu,k=>E.some(((A,N,I,K,Z,q,V,H=!0)=>{const Y=Tp({presets:K,textContent:E.none(),htmlContent:I?A.text.map(me=>I6(me,N)):E.none(),ariaLabel:A.text,labelContent:E.none(),iconContent:A.icon,shortcutContent:E.none(),checkMark:E.none(),caret:E.none(),value:A.value},V.providers,H,A.icon),J=A.text.filter(me=>!I&&me!=="");return N1({context:"mode:design",data:Ap(A),enabled:A.enabled,getApi:se({}),onAction:me=>Z(A.value,A.meta),onSetup:se(we),triggersSubmenu:!1,itemBehaviours:O3(A,V,J)},Y,q,V.providers)})(k,r,x,"normal",i,d,m,v)))}var S}))},cD=(n,r,i,l,d,m)=>{const p=F0(r),x=cl(Ee(r,w=>{const S=k=>G3(k,i,l,(A=>d?!cn(A,"text"):p)(k),d);return w.type==="nestedmenuitem"&&w.getSubmenuItems().length<=0?S({...w,enabled:!1}):S(w)})),v=(w=>w.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:w})(m);return(d?_f:fm)(n,p,x,1,v)},K3=n=>mf.singleData(n.value,n),dD=n=>ib(Ft(n.startContainer),n.startOffset,Ft(n.endContainer),n.endOffset),jB=(n,r)=>{const i=De("autocompleter"),l=Ot(!1),d=Ot(!1),m=zn(),p=ni(zs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:vt([uo("dismissAutocompleter",[et(Ug(),()=>k()),et(Px(),(I,K)=>{Jr(K.event.target,"id").each(Z=>io(Ft(n.getBody()),"aria-activedescendant",Z))})])]),lazySink:r.getSink})),x=()=>zs.isOpen(p),v=d.get,w=()=>{if(x()){zs.hide(p),n.dom.remove(i,!1);const I=Ft(n.getBody());Jr(I,"aria-owns").filter(K=>K===i).each(()=>{Xs(I,"aria-owns"),Xs(I,"aria-activedescendant")})}},S=()=>zs.getContent(p).bind(I=>gt(I.components(),0)),k=()=>n.execCommand("mceAutocompleterClose"),A=I=>{const K=(Z=>{const q=gn(Z,V=>E.from(V.columns)).getOr(1);return Uo(Z,V=>{const H=V.items;return ZB(H,V.matchText,(Y,J)=>{const me={hide:()=>k(),reload:ue=>{w(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:ue})}};n.execCommand("mceAutocompleterRefreshActiveRange"),m.get().each(ue=>{l.set(!0),V.onAction(me,ue,Y,J),l.set(!1)})},q,Ic.BUBBLE_TO_SANDBOX,r,V.highlightOn)})})(I);K.length>0?(((Z,q)=>{const V=gn(Z,H=>E.from(H.columns)).getOr(1);zs.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>m.get().map(dD),root:Ft(n.getBody())}},((H,Y,J,me)=>{const ue=c2(Y,me),pe=Cp(me);return{data:K3({...H,movement:ue,menuBehaviours:t2(Y!=="auto"?[]:[us((He,Ve)=>{ms(He,4,pe.item).each(({numColumns:Le,numRows:qe})=>{Kt.setGridSize(He,qe,Le)})})])}),menu:{markers:Cp(me),fakeFocus:J===C_.ContentFocus}}})(fm("autocompleter-value",!0,q,V,{menuType:"normal"}),V,C_.ContentFocus,"normal")),S().each(ln.highlightFirst)})(I,K),io(Ft(n.getBody()),"aria-owns",i),n.inline||N()):w()},N=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const I=n.getDoc().documentElement,K=n.selection.getNode(),Z=(q=>Cx(q,!0))(p.element);oe(Z,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${K.offsetTop}px`,left:`${K.offsetLeft}px`}),n.dom.add(I,Z.dom),ls(Z,'[role="menu"]').each(q=>{pn(q,"position"),pn(q,"max-height")})};n.on("AutocompleterStart",({lookupData:I})=>{d.set(!0),l.set(!1),A(I)}),n.on("AutocompleterUpdate",({lookupData:I})=>A(I)),n.on("AutocompleterUpdateActiveRange",({range:I})=>m.set(I)),n.on("AutocompleterEnd",()=>{w(),d.set(!1),l.set(!1),m.clear()}),((I,K)=>{const Z=(V,H)=>{oo(V,yc(),{raw:H})},q=()=>I.getMenu().bind(ln.getHighlighted);K.on("keydown",V=>{const H=V.which;I.isActive()&&(I.isMenuOpen()?H===13?(q().each(Xg),V.preventDefault()):H===40?(q().fold(()=>{I.getMenu().each(ln.highlightFirst)},Y=>{Z(Y,V)}),V.preventDefault(),V.stopImmediatePropagation()):H!==37&&H!==38&&H!==39||q().each(Y=>{Z(Y,V),V.preventDefault(),V.stopImmediatePropagation()}):H!==13&&H!==38&&H!==40||I.cancelIfNecessary())}),K.on("NodeChange",()=>{!I.isActive()||I.isProcessingAction()||K.queryCommandState("mceAutoCompleterInRange")||I.cancelIfNecessary()})})({cancelIfNecessary:k,isMenuOpen:x,isActive:v,isProcessingAction:l.get,getMenu:S},n)};var WB=tinymce.util.Tools.resolve("tinymce.html.Entities");const d2=(n,r,i,l)=>{const d=qB(n,r,i,l);return en.sketch(d)},qB=(n,r,i,l)=>({dom:uD(i),components:n.toArray().concat([r]),fieldBehaviours:vt(l)}),uD=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),Op=(n,r)=>en.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Bs(r.translate(n))]}),Ui=De("form-component-change"),mD=De("form-component-input"),u2=De("form-close"),Rp=De("form-cancel"),bg=De("form-action"),m2=De("form-submit"),Y3=De("form-block"),X3=De("form-unblock"),gD=De("form-tabchange"),fD=De("form-resize"),GB=(n,r,i)=>{const l=n.label.map(k=>Op(k,r)),d=r.icons(),m=k=>(A,N)=>{pl(N.event.target,"[data-collection-item-value]").each(I=>{k(A,N,I,Bo(I,"data-collection-item-value"))})},p=m((k,A,N,I)=>{A.stop(),r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()||oo(k,bg,{name:n.name,value:I})}),x=[et(ei(),m((k,A,N)=>{vr(N,!0)})),et(jm(),p),et(qu(),p),et(jl(),m((k,A,N)=>{ls(k.element,"."+_1).each(I=>{rn(I,_1)}),Ss(N,_1)})),et(Rx(),m(k=>{ls(k.element,"."+_1).each(A=>{rn(A,_1),gl(A)})})),ru(m((k,A,N,I)=>{oo(k,bg,{name:n.name,value:I})}))],v=(k,A)=>Ee(oa(k.element,".tox-collection__item"),A),w=en.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:We},behaviours:vt([Jt.config({disabled:()=>r.checkUiComponentContext(n.context).shouldDisable,onDisabled:k=>{v(k,A=>{Ss(A,"tox-collection__item--state-disabled"),io(A,"aria-disabled",!0)})},onEnabled:k=>{v(k,A=>{rn(A,"tox-collection__item--state-disabled"),Xs(A,"aria-disabled")})}}),Hr(()=>r.checkUiComponentContext(n.context)),No.config({}),bs.config({...r.tooltips.getConfig({tooltipText:"",onShow:k=>{ls(k.element,"."+_1+"[data-mce-tooltip]").each(A=>{Jr(A,"data-mce-tooltip").each(N=>{bs.setComponents(k,r.tooltips.getComponents({tooltipText:N}))})})}}),mode:"children-keyboard-focus",anchor:k=>({type:"node",node:ls(k.element,"."+_1).orThunk(()=>Vf(".tox-collection__item")),root:k.element,layouts:{onLtr:se([Lr,sa,Cr,ba,Ir,Ra]),onRtl:se([Lr,sa,Cr,ba,Ir,Ra])},bubble:Xi(0,-2,{})})}),Vt.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(k,A)=>{((N,I)=>{const K=r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()?" tox-collection__item--state-disabled":"",Z=Ee(I,H=>{const Y=_i.translate(H.text),J=n.columns===1?`<div class="tox-collection__item-label">${Y}</div>`:"",me=`<div class="tox-collection__item-icon">${(He=>d[He]??He)(H.icon)}</div>`,ue={_:" "," - ":" ","-":" "},pe=Y.replace(/\_| \- |\-/g,He=>ue[He]);return`<div data-mce-tooltip="${pe}" class="tox-collection__item${K}" tabindex="-1" data-collection-item-value="${WB.encodeAllRaw(H.value)}" aria-label="${pe}">${me}${J}</div>`}),q=n.columns!=="auto"&&n.columns>1?ze(Z,n.columns):[Z],V=Ee(q,H=>`<div class="tox-collection__group">${H.join("")}</div>`);Mg(N.element,V.join(""))})(k,A),n.columns==="auto"&&ms(k,5,"tox-collection__item").each(({numRows:N,numColumns:I})=>{Kt.setGridSize(k,N,I)}),an(k,fD)}}),Un.config({}),Kt.config((S=n.columns,S===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:S==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${Uv}`}})),uo("collection-events",x)]),eventOrder:{[Yi()]:["disabling","alloy.base.behaviour","collection-events"],[jl()]:["collection-events","tooltipping"]}});var S;return d2(l,w,["tox-form__group--collection"],[])},pD=De("color-input-change"),hD=De("color-swatch-change"),bD=De("color-picker-cancel"),Np=()=>kn.config({find:E.some}),Q3=n=>kn.config({find:r=>Jc(r.element,n).bind(i=>r.getSystem().getByDom(i).toOptional())}),J3=go([Pe("preprocess",We),Pe("postprocess",We)]),KB=(n,r)=>{const i=$a("RepresentingConfigs.memento processors",J3,r);return Vt.config({store:{mode:"manual",getValue:l=>{const d=n.get(l),m=Vt.getValue(d);return i.postprocess(m)},setValue:(l,d)=>{const m=i.preprocess(d),p=n.get(l);Vt.setValue(p,m)}}})},F1=(n,r,i)=>Vt.config({store:{mode:"manual",...n.map(l=>({initialValue:l})).getOr({}),getValue:r,setValue:i}}),xD=(n,r,i)=>F1(n,l=>r(l.element),(l,d)=>i(l.element,d)),Mp=n=>Vt.config({store:{mode:"memory",initialValue:n}}),k_=De("rgb-hex-update"),vD=De("slider-update"),yD=De("palette-update"),eS=De("valid-input"),wD=De("invalid-input"),_D=De("validating-input"),tS="colorcustom.rgb.",YB={isEnabled:Ut,setEnabled:we,immediatelyShow:we,immediatelyHide:we},XB=(n,r,i,l,d,m)=>{const p=(N,I)=>{const K=I.get();N!==K.isEnabled()&&(K.setEnabled(N),N?K.immediatelyShow():K.immediatelyHide())},x=(N,I,K)=>im.config({invalidClass:r("invalid"),notify:{onValidate:Z=>{oo(Z,_D,{type:N})},onValid:Z=>{p(!1,K),oo(Z,eS,{type:N,value:Vt.getValue(Z)})},onInvalid:Z=>{p(!0,K),oo(Z,wD,{type:N,value:Vt.getValue(Z)})}},validator:{validate:Z=>{const q=Vt.getValue(Z),V=I(q)?Jo.value(!0):Jo.error(n("aria.input.invalid"));return $r(V)},validateOnLoad:!1}}),v=(N,I,K,Z,q)=>{const V=Ot(YB),H=n(tS+"range"),Y=en.parts.label({dom:{tag:"label"},components:[Bs(K)]}),J=en.parts.field({data:q,factory:mg,inputAttributes:{type:"text","aria-label":Z,...I==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:vt([x(I,N,V),Un.config({}),bs.config({...d({tooltipText:"",onSetup:Le=>{V.set({isEnabled:()=>bs.isEnabled(Le),setEnabled:qe=>bs.setEnabled(Le,qe),immediatelyShow:()=>bs.immediateOpenClose(Le,!0),immediatelyHide:()=>bs.immediateOpenClose(Le,!1)}),bs.setEnabled(Le,!1)},onShow:(Le,qe)=>{bs.setComponents(Le,[{dom:{tag:"p",classes:[r("rgb-warning-note")]},components:[Bs(n(I==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Le=>{im.isInvalid(Le)&&im.run(Le).get(we)}}),me=De("aria-invalid"),ue=On(m("invalid",E.some(me),"warning")),pe=[Y,J,On({dom:{tag:"div",classes:[r("invalid-icon")]},components:[ue.asSpec()]}).asSpec()],He=I!=="hex"?[en.parts["aria-descriptor"]({text:H})]:[],Ve=pe.concat(He);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[r("rgb-container")]},components:Ve}},w=(N,I)=>{const K=I.red,Z=I.green,q=I.blue;Vt.setValue(N,{red:K,green:Z,blue:q})},S=On({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),k=(N,I)=>{S.getOpt(N).each(K=>{Ro(K.element,"background-color","#"+I.value)})};return vi({factory:()=>{const N={red:Ot(E.some(255)),green:Ot(E.some(255)),blue:Ot(E.some(255)),hex:Ot(E.some("ffffff"))},I=pe=>N[pe].get(),K=(pe,He)=>{N[pe].set(He)},Z=pe=>{const He=pe.red,Ve=pe.green,Le=pe.blue;K("red",E.some(He)),K("green",E.some(Ve)),K("blue",E.some(Le))},q=(pe,He)=>{const Ve=He.event;Ve.type!=="hex"?K(Ve.type,E.none()):l(pe)},V=(pe,He)=>{const Ve=He.event;(Le=>Le.type==="hex")(Ve)?((Le,qe)=>{i(Le);const ut=z6(qe);K("hex",E.some(ut.value));const $t=i2(ut);w(Le,$t),Z($t),oo(Le,k_,{hex:ut}),k(Le,ut)})(pe,Ve.value):((Le,qe,ut)=>{const $t=parseInt(ut,10);K(qe,E.some($t)),I("red").bind(lo=>I("green").bind(fo=>I("blue").map(qo=>B1(lo,fo,qo,1)))).each(lo=>{const fo=((qo,Sn)=>{const Jn=M1(Sn);return _0.getField(qo,"hex").each(ao=>{vo.isFocused(ao)||Vt.setValue(qo,{hex:Jn.value})}),Jn})(Le,lo);oo(Le,k_,{hex:fo}),k(Le,fo)})})(pe,Ve.type,Ve.value)},H=pe=>({label:n(tS+pe+".label"),description:n(tS+pe+".description")}),Y=H("red"),J=H("green"),me=H("blue"),ue=H("hex");return Cs(_0.sketch(pe=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[pe.field("red",en.sketch(v(B3,"red",Y.label,Y.description,255))),pe.field("green",en.sketch(v(B3,"green",J.label,J.description,255))),pe.field("blue",en.sketch(v(B3,"blue",me.label,me.description,255))),pe.field("hex",en.sketch(v(R3,"hex",ue.label,ue.description,"ffffff"))),S.asSpec()],formBehaviours:vt([im.config({invalidClass:r("form-invalid")}),uo("rgb-form-events",[et(eS,V),et(wD,q),et(_D,q)])])})),{apis:{updateHex:(pe,He)=>{Vt.setValue(pe,{hex:He.value}),((Ve,Le)=>{const qe=i2(Le);w(Ve,qe),Z(qe)})(pe,He),k(pe,He)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(N,I,K)=>{N.updateHex(I,K)}},extraApis:{}})},QB=(n,r,i,l)=>vi({name:"ColourPicker",configFields:[ft("dom"),Pe("onValidHex",we),Pe("onInvalidHex",we)],factory:m=>{const p=XB(n,r,m.onValidHex,m.onInvalidHex,i,l),x=((q,V)=>{const H=fu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[V("sv-palette-spectrum")]}}),Y=fu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[V("sv-palette-thumb")],innerHtml:`<div class=${V("sv-palette-inner-thumb")} role="presentation"></div>`}}),J=(ue,pe)=>{const{width:He,height:Ve}=ue,Le=ue.getContext("2d");if(Le===null)return;Le.fillStyle=pe,Le.fillRect(0,0,He,Ve);const qe=Le.createLinearGradient(0,0,He,0);qe.addColorStop(0,"rgba(255,255,255,1)"),qe.addColorStop(1,"rgba(255,255,255,0)"),Le.fillStyle=qe,Le.fillRect(0,0,He,Ve);const ut=Le.createLinearGradient(0,0,0,Ve);ut.addColorStop(0,"rgba(0,0,0,0)"),ut.addColorStop(1,"rgba(0,0,0,1)"),Le.fillStyle=ut,Le.fillRect(0,0,He,Ve)};return vi({factory:ue=>{const pe=se({x:0,y:0}),He=vt([kn.config({find:E.some}),vo.config({})]);return fu.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":q(["Saturation {0}%, Brightness {1}%",0,0])},classes:[V("sv-palette")]},model:{mode:"xy",getInitialValue:pe},rounded:!1,components:[H,Y],onChange:(Ve,Le,qe)=>{St(qe)||io(Ve.element,"aria-valuetext",q(["Saturation {0}%, Brightness {1}%",Math.floor(qe.x),Math.floor(100-qe.y)])),oo(Ve,yD,{value:qe})},onInit:(Ve,Le,qe,ut)=>{J(qe.element.dom,I3(L3))},sliderBehaviours:He})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ue,pe,He)=>{((Ve,Le)=>{const qe=Ve.components()[0].element.dom,ut=Z0(Le,100,100),$t=Z6(ut);J(qe,I3($t))})(pe,He)},setThumb:(ue,pe,He)=>{((Ve,Le)=>{const qe=p_(i2(Le));fu.setValue(Ve,{x:qe.saturation,y:100-qe.value}),io(Ve.element,"aria-valuetext",q(["Saturation {0}%, Brightness {1}%",qe.saturation,qe.value]))})(pe,He)}},extraApis:{}})})(n,r),v={paletteRgba:Ot(L3),paletteHue:Ot(0)},w=On(((q,V)=>{const H=fu.parts.spectrum({dom:{tag:"div",classes:[V("hue-slider-spectrum")],attributes:{role:"presentation"}}}),Y=fu.parts.thumb({dom:{tag:"div",classes:[V("hue-slider-thumb")],attributes:{role:"presentation"}}});return fu.sketch({dom:{tag:"div",classes:[V("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:se(0)},components:[H,Y],sliderBehaviours:vt([vo.config({})]),onChange:(J,me,ue)=>{io(J.element,"aria-valuenow",Math.floor(360-3.6*ue)),oo(J,vD,{value:ue})}})})(0,r)),S=On(x.sketch({})),k=On(p.sketch({})),A=(q,V,H)=>{S.getOpt(q).each(Y=>{x.setHue(Y,H)})},N=(q,V)=>{k.getOpt(q).each(H=>{p.updateHex(H,V)})},I=(q,V,H)=>{w.getOpt(q).each(Y=>{fu.setValue(Y,(J=>100-J/360*100)(H))})},K=(q,V)=>{S.getOpt(q).each(H=>{x.setThumb(H,V)})},Z=(q,V,H,Y)=>{((J,me)=>{const ue=i2(J);v.paletteRgba.set(ue),v.paletteHue.set(me)})(V,H),yt(Y,J=>{J(q,V,H)})};return{uid:m.uid,dom:m.dom,components:[S.asSpec(),w.asSpec(),k.asSpec()],behaviours:vt([uo("colour-picker-events",[et(k_,(()=>{const q=[A,I,K];return(V,H)=>{const Y=H.event.hex,J=(me=>p_(i2(me)))(Y);Z(V,Y,J.hue,q)}})()),et(yD,(()=>{const q=[N];return(V,H)=>{const Y=H.event.value,J=v.paletteHue.get(),me=Z0(J,Y.x,100-Y.y),ue=F3(me);Z(V,ue,J,q)}})()),et(vD,(()=>{const q=[A,N];return(V,H)=>{const Y=(He=>(100-He)/100*360)(H.event.value),J=v.paletteRgba.get(),me=p_(J),ue=Z0(Y,me.saturation,me.value),pe=F3(ue);Z(V,pe,Y,q)}})())]),kn.config({find:q=>k.getOpt(q)}),Kt.config({mode:"acyclic"})])}}}),JB={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var eP=tinymce.util.Tools.resolve("tinymce.Resource");const oS=n=>cn(n,"init");var xg=tinymce.util.Tools.resolve("tinymce.util.Tools");const nS=De("browse.files.event"),CD=(n,r,i)=>{const l=(w,S)=>{S.stop()},d=w=>(S,k)=>{yt(w,A=>{A(S,k)})},m=On({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:vt([uo("input-file-events",[Ju(jm()),Ju(qu())])])}),p=n.label.map(w=>Op(w,r)),x=en.parts.field({factory:Ba,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Bs(r.translate("Browse for an image")),m.asSpec()],action:w=>{m.get(w).element.dom.click()},buttonBehaviours:vt([Np(),Mp(i.getOr([])),Un.config({}),kf(()=>r.checkUiComponentContext(n.context).shouldDisable),Hr(()=>r.checkUiComponentContext(n.context))])}),v={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:vt([Jt.config({disabled:()=>r.checkUiComponentContext(n.context).shouldDisable}),Hr(()=>r.checkUiComponentContext(n.context)),Lo.config({toggleClass:"dragenter",toggleOnExecute:!1}),uo("dropzone-events",[et("dragenter",d([l,Lo.toggle])),et("dragleave",d([l,Lo.toggle])),et("dragover",l),et("drop",d([l,(w,S)=>{if(!Jt.isDisabled(w)){const k=S.event.raw;oo(w,nS,{files:k.dataTransfer?.files})}}])),et(Zm(),(w,S)=>{const k=S.event.raw.target;oo(w,nS,{files:k.files})})])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Bs(r.translate("Drop an image here"))]},x]}]};return d2(p,v,["tox-form__group--stretched"],[uo("handle-files",[et(nS,(w,S)=>{en.getField(w).each(k=>{var A,N;A=k,(N=S.event.files)&&(Vt.setValue(A,((I,K)=>{const Z=xg.explode(K.getOption("images_file_types"));return Oo(Gn(I),q=>En(Z,V=>zd(q.name.toLowerCase(),`.${V.toLowerCase()}`)))})(N,r)),oo(A,Ui,{name:n.name}))})})])])},S_=De("alloy-fake-before-tabstop"),E_=De("alloy-fake-after-tabstop"),sS=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:vt([vo.config({ignore:!0}),Un.config({})])}),kD=(n,r)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[sS([S_]),r,sS([E_])],behaviours:vt([Q3(1)])}),SD=(n,r)=>{oo(n,yc(),{raw:{which:9,shiftKey:r}})},tP=(n,r)=>{const i=r.element;pr(i,S_)?SD(n,!0):pr(i,E_)&&SD(n,!1)},g2=n=>Jp(n,["."+S_,"."+E_].join(","),Me),j0=De("update-dialog"),rS=De("update-title"),ED=De("update-body"),aS=De("update-footer"),AD=De("body-send-message"),A_=De("dialog-focus-shifted"),iS=Se().browser,W0=iS.isSafari(),TD=iS.isFirefox(),lS=W0||TD,oP=iS.isChromium(),nP=({scrollTop:n,scrollHeight:r,clientHeight:i})=>Math.ceil(n)+i>=r,DD=(n,r)=>n.scrollTo(0,r==="bottom"?99999999:r),OD=(n,r,i)=>{const l=n.dom;E.from(l.contentDocument).fold(i,d=>{let m=0;const p=((v,w)=>{const S=v.body;return E.from(!/^<!DOCTYPE (html|HTML)/.test(w)&&(!oP&&!W0||ge(S)&&(S.scrollTop!==0||Math.abs(S.scrollHeight-S.clientHeight)>1))?S:v.documentElement)})(d,r).map(v=>(m=v.scrollTop,v)).forall(nP),x=()=>{const v=l.contentWindow;ge(v)&&(p?DD(v,"bottom"):!p&&lS&&m!==0&&DD(v,m))};W0&&l.addEventListener("load",x,{once:!0}),d.open(),d.write(r),d.close(),W0||x()})},sP=Gs(lS,W0?500:200).map(n=>((r,i)=>{let l=null,d=null;return{cancel:()=>{lt(l)||(clearTimeout(l),l=null,d=null)},throttle:(...m)=>{d=m,lt(l)&&(l=setTimeout(()=>{const p=d;l=null,d=null,r.apply(null,p)},i))}}})(OD,n)),cS=De("toolbar.button.execute"),Bp=De("common-button-display-events"),RD={[Yi()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[wc()]:["toolbar-button-events",Bp],[tu()]:["toolbar-button-events","dropdown-events","tooltipping"],[Ki()]:["focusing","alloy.base.behaviour",Bp]},dS=n=>Ro(n.element,"width",Va(n.element,"width")),ND=(n,r,i)=>Pc(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},r),uS=(n,r)=>ND(n,r,[]),Sf=(n,r)=>ND(n,r,[No.config({})]),MD=(n,r,i)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[Bs(i.translate(n))],behaviours:vt([No.config({})])}),Nd=De("update-menu-text"),z1=De("update-menu-icon"),BD=De("update-tooltip-text"),mS=(n,r,i,l)=>{const d=Ot(we),m=Ot(n.tooltip),p=n.text.map(Z=>On(MD(Z,r,i.providers))),x=n.icon.map(Z=>On(Sf(Z,i.providers.icons))),v=(Z,q)=>{const V=Vt.getValue(Z);return vo.focus(V),oo(V,"keydown",{raw:q.event.raw}),nl.close(V),E.some(!0)},w=n.role.fold(()=>({}),Z=>({role:Z})),S=E.from(n.listRole).map(Z=>({listRole:Z})).getOr({}),k=n.ariaLabel.fold(()=>({}),Z=>({"aria-label":i.providers.translate(Z)})),A=Pc("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},i.providers.icons),N=De("common-button-display-events"),I="dropdown-events";return On(nl.sketch({...n.uid?{uid:n.uid}:{},...w,...S,dom:{tag:"button",classes:[r,`${r}--select`].concat(Ee(n.classes,Z=>`${r}--${Z}`)),attributes:{...k,...ge(l)?{"data-mce-name":l}:{}}},components:U0([x.map(Z=>Z.asSpec()),p.map(Z=>Z.asSpec()),E.some(A)]),matchWidth:!0,useMinWidth:!0,onOpen:(Z,q,V)=>{n.searchable&&(H=>{Xw(H).each(Y=>vo.focus(Y))})(V)},dropdownBehaviours:vt([...n.dropdownBehaviours,kf(()=>n.disabled||i.providers.checkUiComponentContext(n.context).shouldDisable),Hr(()=>i.providers.checkUiComponentContext(n.context)),x0.config({}),No.config({}),...n.tooltip.map(Z=>bs.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(Z),onShow:q=>{if(Ml(m.get(),n.tooltip,(V,H)=>H!==V).getOr(!1)){const V=i.providers.translate(m.get().getOr(""));bs.setComponents(q,i.providers.tooltips.getComponents({tooltipText:V}))}}}))).toArray(),uo(I,[Od(n,d),R1(n,d)]),uo(N,[us((Z,q)=>{n.listRole!=="listbox"&&dS(Z)})]),uo("update-dropdown-width-variable",[et(ql(),(Z,q)=>nl.close(Z))]),uo("menubutton-update-display-text",[et(Nd,(Z,q)=>{p.bind(V=>V.getOpt(Z)).each(V=>{No.set(V,[Bs(i.providers.translate(q.event.text))])})}),et(z1,(Z,q)=>{x.bind(V=>V.getOpt(Z)).each(V=>{No.set(V,[Sf(q.event.icon,i.providers.icons)])})}),et(BD,(Z,q)=>{const V=i.providers.translate(q.event.text);io(Z.element,"aria-label",V),m.set(E.some(q.event.text))})])]),eventOrder:Cs(RD,{[Ki()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[wc()]:["toolbar-button-events",bs.name(),I,N]}),sandboxBehaviours:vt([Kt.config({mode:"special",onLeft:v,onRight:v}),uo("dropdown-sandbox-events",[et(WT,(Z,q)=>{(V=>{const H=Vt.getValue(V),Y=Yw(V).map(kp);nl.refetch(H).get(()=>{const J=Sr.getCoupled(H,"sandbox");Y.each(me=>Yw(J).each(ue=>((pe,He)=>{Vt.setValue(pe,He.fetchPattern),pe.element.dom.selectionStart=He.selectionStart,pe.element.dom.selectionEnd=He.selectionEnd})(ue,me)))})})(Z),q.stop()}),et(K4,(Z,q)=>{((V,H)=>{(Y=>Dn.getState(Y).bind(ln.getHighlighted).bind(ln.getHighlighted))(V).each(Y=>{((J,me,ue,pe)=>{const He={...pe,target:me};J.getSystem().triggerEvent(ue,me,He)})(V,Y.element,H.event.eventType,H.event.interactionEvent)})})(Z,q),q.stop()})])]),lazySink:i.getSink,toggleClass:`${r}--active`,parts:{menu:{...Zv(0,n.columns,n.presets),fakeFocus:n.searchable,...n.listRole==="listbox"?{}:{onHighlightItem:lD,onCollapseMenu:(Z,q,V)=>{ln.getHighlighted(V).each(H=>{lD(Z,V,H)})},onDehighlightItem:$B}}},getAnchorOverrides:()=>({maxHeightFunction:(Z,q)=>{Kx()(Z,q-10)}}),fetch:Z=>on(nt(n.fetch,Z))})).asSpec()},f2=n=>n.type==="separator",PD={type:"separator"},ID=(n,r)=>{const i=((l,d)=>{const m=Yo(l,(p,x)=>(v=>xe(v))(x)?x===""?p:x==="|"?p.length>0&&!f2(p[p.length-1])?p.concat([PD]):p:cn(d,x.toLowerCase())?p.concat([d[x.toLowerCase()]]):p:p.concat([x]),[]);return m.length>0&&f2(m[m.length-1])&&m.pop(),m})(xe(n)?n.split(" "):n,r);return Do(i,(l,d)=>{if((m=>cn(m,"getSubmenuItems"))(d)){const m=(x=>{const v=no(x,"value").getOrThunk(()=>De("generated-menu-item"));return Cs({value:v},x)})(d),p=((x,v)=>{const w=x.getSubmenuItems(),S=ID(w,v);return{item:x,menus:Cs(S.menus,{[x.value]:S.items}),expansions:Cs(S.expansions,{[x.value]:x.value})}})(m,r);return{menus:Cs(l.menus,p.menus),items:[p.item,...l.items],expansions:Cs(l.expansions,p.expansions)}}return{...l,items:[d,...l.items]}},{menus:{},expansions:{},items:[]})},q0=(n,r,i,l)=>{const d=De("primary-menu"),m=ID(n,i.shared.providers.menuItems());if(m.items.length===0)return E.none();const p=(k=>k.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-field",placeholder:A.placeholder})))(l),x=cD(d,m.items,r,i,l.isHorizontalMenu,p),v=(k=>k.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-results"})))(l),w=Is(m.menus,(k,A)=>cD(A,k,r,i,!1,v)),S=Cs(w,$g(d,x));return E.from(mf.tieredData(d,S,m.expansions))},T_=n=>!cn(n,"items"),LD="data-value",FD=(n,r,i,l,d)=>Ee(i,m=>T_(m)?{type:"togglemenuitem",...d?{}:{role:"option"},text:m.text,value:m.value,active:m.value===l,onAction:()=>{Vt.setValue(n,m.value),oo(n,Ui,{name:r}),vo.focus(n)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>FD(n,r,m.items,l,d)}),gS=(n,r)=>gn(n,i=>T_(i)?Gs(i.value===r,i):gS(i.items,r)),D_=n=>{const r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let i=n.value.toFixed((l=n.unit)in r?r[l]:1);var l;return i.indexOf(".")!==-1&&(i=i.replace(/\.?0*$/,"")),i+n.unit},p2=n=>{const r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(r!==null){const i=parseFloat(r[1]),l=r[2];return Jo.value({value:i,unit:l})}return Jo.error(n)},fS=(n,r)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=d=>cn(i,d);return n.unit===r?E.some(n.value):l(n.unit)&&l(r)?i[n.unit]===i[r]?E.some(n.value):E.some(n.value/i[n.unit]*i[r]):E.none()},O_=n=>E.none(),pS=(n,r)=>{const i=p2(n).toOptional(),l=p2(r).toOptional();return Ml(i,l,(d,m)=>fS(d,m.unit).map(p=>m.value/p).map(p=>{return x=p,v=m.unit,w=>fS(w,v).map(S=>({value:S*x,unit:v}));var x,v}).getOr(O_)).getOr(O_)},zD=(n,r)=>{const i=n.label.map(A=>Op(A,r)),l=[Jt.config({disabled:()=>n.disabled||r.checkUiComponentContext(n.context).shouldDisable}),Hr(()=>r.checkUiComponentContext(n.context)),Kt.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:A=>(an(A,m2),E.some(!0))}),uo("textfield-change",[et(ud(),(A,N)=>{oo(A,Ui,{name:n.name})}),et(Mx(),(A,N)=>{oo(A,Ui,{name:n.name})})]),Un.config({})],d=n.validation.map(A=>im.config({getRoot:N=>pa(N.element),invalidClass:"tox-invalid",validator:{validate:N=>{const I=Vt.getValue(N),K=A.validator(I);return $r(K===!0?Jo.value(I):Jo.error(K))},validateOnLoad:A.validateOnLoad}})).toArray(),m=n.placeholder.fold(se({}),A=>({placeholder:r.translate(A)})),p=n.inputMode.fold(se({}),A=>({inputmode:A})),x={...n.spellcheck.fold(se({}),A=>({spellcheck:A})),...m,...p,"data-mce-name":n.name},v=en.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(A=>({data:A})).getOr({}),inputAttributes:x,inputClasses:[n.classname],inputBehaviours:vt(Os([l,d])),selectOnFocus:!1,factory:mg}),w=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[v]}:v,S=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),k=[Jt.config({disabled:()=>n.disabled||r.checkUiComponentContext(n.context).shouldDisable,onDisabled:A=>{en.getField(A).each(Jt.disable)},onEnabled:A=>{en.getField(A).each(Jt.enable)}}),Hr(()=>r.checkUiComponentContext(n.context))];return d2(i,w,S,k)},VD=n=>({isEnabled:()=>!Jt.isDisabled(n),setEnabled:r=>Jt.set(n,!r),setActive:r=>{const i=n.element;r?(Ss(i,"tox-tbtn--enabled"),io(i,"aria-pressed",!0)):(rn(i,"tox-tbtn--enabled"),Xs(i,"aria-pressed"))},isActive:()=>pr(n.element,"tox-tbtn--enabled"),setTooltip:r=>{oo(n,BD,{text:r})},setText:r=>{oo(n,Nd,{text:r})},setIcon:r=>oo(n,z1,{icon:r})}),h2=(n,r,i,l,d=!0,m)=>{const p=n.buttonType==="bordered"?["bordered"]:[];return mS({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:l,fetch:(x,v)=>{const w={pattern:n.search.isSome()?UB(x):""};n.fetch(S=>{v(q0(S,Ic.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))},w,VD(x))},onSetup:n.onSetup,getApi:x=>VD(x),columns:1,presets:"normal",classes:p,dropdownBehaviours:[...d?[Un.config({})]:[]],context:n.context},r,i.shared,m)},rP=(n,r,i)=>{const l=m=>p=>{const x=!p.isActive();p.setActive(x),m.storage.set(x),i.shared.getSink().each(v=>{r().getOpt(v).each(w=>{vr(w.element),oo(w,bg,{name:m.name,value:m.storage.get()})})})},d=m=>p=>{p.setActive(m.storage.get())};return m=>{m(Ee(n,p=>{const x=p.text.fold(()=>({}),v=>({text:v}));return{type:p.type,active:!1,...x,context:p.context,onAction:l(p),onSetup:d(p)}}))}},HD=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[Bs(n)]}),$D=(n,r,i)=>{n.customStateIcon.each(l=>r.push(ZD(l,i.shared.providers.icons,n.customStateIconTooltip.fold(()=>[],d=>[bs.config(i.shared.providers.tooltips.getConfig({tooltipText:d}))]),["tox-icon-custom-state"])))},UD=De("leaf-label-event-id"),hS=({leaf:n,onLeafAction:r,visible:i,treeId:l,selectedId:d,backstage:m})=>{const p=n.menu.map(v=>h2(v,"tox-mbtn",m,E.none(),i)),x=[HD(n.title)];return $D(n,x,m),p.each(v=>x.push(v)),Ba.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:x,role:"treeitem",action:v=>{r(n.id),v.getSystem().broadcastOn([`update-active-item-${l}`],{value:n.id})},eventOrder:{[yc()]:[UD,"keying"]},buttonBehaviours:vt([...i?[Un.config({})]:[],Lo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),tl.config({channels:{[`update-active-item-${l}`]:{onReceive:(v,w)=>{(w.value===n.id?Lo.on:Lo.off)(v)}}}}),uo(UD,[us((v,w)=>{d.each(S=>{(S===n.id?Lo.on:Lo.off)(v)})}),et(yc(),(v,w)=>{const S=w.event.raw.code==="ArrowLeft",k=w.event.raw.code==="ArrowRight";S?(ea(v.element,".tox-tree--directory").each(A=>{v.getSystem().getByDom(A).each(N=>{fc(A,".tox-tree--directory__label").each(I=>{N.getSystem().getByDom(I).each(vo.focus)})})}),w.stop()):k&&w.stop()})])])})},ZD=(n,r,i,l,d)=>Pc(n,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:i,attributes:d},r),jD=De("directory-label-event-id"),R_=({directory:n,visible:r,noChildren:i,backstage:l})=>{const d=n.menu.map(v=>h2(v,"tox-mbtn",l,E.none())),m=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p=l.shared.providers.icons,ZD("chevron-right",p,[]))]},HD(n.title)];var p;$D(n,m,l),d.each(v=>{m.push(v)});const x=v=>{ea(v.element,".tox-tree--directory").each(w=>{v.getSystem().getByDom(w).each(S=>{const k=!Lo.isOn(S);Lo.toggle(S),oo(v,"expand-tree-node",{expanded:k,node:n.id})})})};return Ba.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:m,action:x,eventOrder:{[yc()]:[jD,"keying"]},buttonBehaviours:vt([...r?[Un.config({})]:[],uo(jD,[et(yc(),(v,w)=>{const S=w.event.raw.code==="ArrowRight",k=w.event.raw.code==="ArrowLeft";S&&i&&w.stop(),(S||k)&&ea(v.element,".tox-tree--directory").each(A=>{v.getSystem().getByDom(A).each(N=>{!Lo.isOn(N)&&S||Lo.isOn(N)&&k?(x(v),w.stop()):k&&!Lo.isOn(N)&&(ea(N.element,".tox-tree--directory").each(I=>{fc(I,".tox-tree--directory__label").each(K=>{N.getSystem().getByDom(K).each(vo.focus)})}),w.stop())})})})])])})},bS=({children:n,onLeafAction:r,visible:i,treeId:l,expandedIds:d,selectedId:m,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(x=>x.type==="leaf"?hS({leaf:x,selectedId:m,onLeafAction:r,visible:i,treeId:l,backstage:p}):N_({directory:x,expandedIds:d,selectedId:m,onLeafAction:r,labelTabstopping:i,treeId:l,backstage:p})),behaviours:vt([_l.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),No.config({})])}),xS=De("directory-event-id"),N_=({directory:n,onLeafAction:r,labelTabstopping:i,treeId:l,backstage:d,expandedIds:m,selectedId:p})=>{const{children:x}=n,v=Ot(m),w=m.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[R_({directory:n,visible:i,noChildren:n.children.length===0,backstage:d}),bS({children:x,expandedIds:m,selectedId:p,onLeafAction:r,visible:w,treeId:l,backstage:d})],behaviours:vt([uo(xS,[us((S,k)=>{Lo.set(S,w)}),et("expand-tree-node",(S,k)=>{const{expanded:A,node:N}=k.event;v.set(A?[...v.get(),N]:v.get().filter(I=>I!==N))})]),Lo.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(S,k)=>{const A=S.components()[1],N=(I=k,x.map(K=>K.type==="leaf"?hS({leaf:K,selectedId:p,onLeafAction:r,visible:I,treeId:l,backstage:d}):N_({directory:K,expandedIds:v.get(),selectedId:p,onLeafAction:r,labelTabstopping:I,treeId:l,backstage:d})));var I;k?_l.grow(A):_l.shrink(A),No.set(A,N)}})])}},aP=De("tree-event-id"),M_=(n,r,i=[],l,d,m,p)=>{const x=r.fold(()=>({}),S=>({action:S})),v={buttonBehaviours:vt([hg(()=>!n.enabled||p.checkUiComponentContext(n.context).shouldDisable),Hr(()=>p.checkUiComponentContext(n.context)),Un.config({}),...m.map(S=>bs.config(p.tooltips.getConfig({tooltipText:p.translate(S)}))).toArray(),uo("button press",[Rh("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...x},w=Cs(v,{dom:l});return Cs(w,{components:d})},vS=(n,r,i,l=[],d)=>{const m={tag:"button",classes:["tox-tbtn"],attributes:{...n.tooltip.map(v=>({"aria-label":i.translate(v)})).getOr({}),"data-mce-name":d}},p=n.icon.map(v=>uS(v,i.icons)),x=U0([p]);return M_(n,r,l,m,x,n.tooltip,i)},b2=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},x2=(n,r,i,l=[],d=[])=>{const m=i.translate(n.text),p=n.icon.map(k=>uS(k,i.icons)),x=[p.getOrThunk(()=>Bs(m))],v=n.buttonType.getOr(n.primary||n.borderless?"primary":"secondary"),w={tag:"button",classes:[...b2(v),...p.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...d],attributes:{"aria-label":m,"data-mce-name":n.text}},S=n.icon.map(se(m));return M_(n,r,l,w,x,S,i)},yS=(n,r,i,l=[],d=[])=>{const m=x2(n,E.some(r),i,l,d);return Ba.sketch(m)},WD=(n,r)=>i=>{r==="custom"?oo(i,bg,{name:n,value:{}}):r==="submit"?an(i,m2):r==="cancel"?an(i,Rp):console.error("Unknown button type: ",r)},B_=(n,r,i)=>{if(((l,d)=>d==="menu")(0,r)){const l=()=>p,d=n,m={...n,buttonType:"default",type:"menubutton",search:E.none(),onSetup:x=>(x.setEnabled(n.enabled),we),fetch:rP(d.items,l,i)},p=On(h2(m,"tox-tbtn",i,E.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return p.asSpec()}if(((l,d)=>d==="custom"||d==="cancel"||d==="submit")(0,r)){const l=WD(n.name,r),d={...n,context:r==="cancel"?"any":n.context,borderless:!1};return yS(d,l,i.shared.providers,[])}if(((l,d)=>d==="togglebutton")(0,r))return((l,d,m)=>{const p=l.icon.map(q=>Sf(q,d.icons)).map(On),x=l.buttonType.getOr(l.primary?"primary":"secondary"),v={...l,name:l.name??"",tooltip:l.tooltip,enabled:l.enabled??!1},w=v.tooltip.or(l.text).map(q=>({"aria-label":d.translate(q)})).getOr({}),S=b2(x??"secondary"),k=l.icon.isSome()&&l.text.isSome(),A={tag:"button",classes:[...S.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...k?["tox-button--icon-and-text"]:[]],attributes:{...w,...ge(m)?{"data-mce-name":m}:{}}},N=d.translate(l.text.getOr("")),I=Bs(N),K=[...U0([p.map(q=>q.asSpec())]),...l.text.isSome()?[I]:[]],Z=M_(v,E.some(q=>{oo(q,bg,{name:l.name,value:{setIcon:V=>{p.map(H=>H.getOpt(q).each(Y=>{No.set(Y,[Sf(V,d.icons)])}))}}})}),[],A,K,l.tooltip,d);return Ba.sketch(Z)})(n,i.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")},iP={type:"separator"},lP=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:we}),wS=(n,r)=>({type:"menuitem",value:r,text:n,meta:{attach:void 0},onAction:we}),qD=(n,r)=>(i=>Ee(i,lP))(((i,l)=>Oo(l,d=>d.type===i))(n,r)),cP=n=>qD("header",n.targets),dP=n=>qD("anchor",n.targets),uP=n=>E.from(n.anchorTop).map(r=>wS("<top>",r)).toArray(),mP=n=>E.from(n.anchorBottom).map(r=>wS("<bottom>",r)).toArray(),_S=(n,r)=>{const i=n.toLowerCase();return Oo(r,l=>{const d=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,m=l.value??"";return Ys(d.toLowerCase(),i)||Ys(m.toLowerCase(),i)})},GD=De("aria-invalid"),la=n=>(r,i,l,d,m)=>no(i,"name").fold(()=>n(i,d,E.none(),m),p=>r.field(p,n(i,d,no(l,p),m))),KD={bar:la((n,r)=>((i,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ee(i.items,l.interpreter)}))(n,r.shared)),collection:la((n,r,i)=>GB(n,r.shared.providers,i)),alertbanner:la((n,r)=>((i,l)=>{const d=VT(i.icon,l.icons);return _d.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${i.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:i.url?void 0:d},components:i.url?[Ba.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:d,attributes:{title:l.translate(i.iconTooltip)}},action:m=>oo(m,bg,{name:"alert-banner",value:i.url}),buttonBehaviours:vt([$4()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(i.text)}}]})})(n,r.shared.providers)),input:la((n,r,i)=>((l,d,m)=>zD({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:E.none(),maximized:l.maximized,data:m,context:l.context,spellcheck:E.none()},d))(n,r.shared.providers,i)),textarea:la((n,r,i)=>((l,d,m)=>zD({name:l.name,multiline:!0,label:l.label,inputMode:E.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:E.none(),maximized:l.maximized,data:m,context:l.context,spellcheck:l.spellcheck},d))(n,r.shared.providers,i)),label:la((n,r,i,l)=>((d,m,p)=>{const x="tox-label",v=d.align==="center"?[`${x}--center`]:[],w=d.align==="end"?[`${x}--end`]:[],S=On({dom:{tag:"label",classes:[x,...v,...w]},components:[Bs(m.providers.translate(d.label))]}),k=Ee(d.items,m.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[S.asSpec(),...k],behaviours:vt([Np(),No.config({}),(A=E.none(),xD(A,Om,Mg)),Kt.config({mode:"acyclic"}),uo("label",[us(N=>{d.for.each(I=>{p(I).each(K=>{S.getOpt(N).each(Z=>{const q=Bo(K.element,"id")??De("form-field");io(K.element,"id",q),io(Z.element,"for",q)})})})})])])};var A})(n,r.shared,l)),iframe:(hO=(n,r,i)=>((l,d,m)=>{const p="tox-dialog__iframe",x=l.transparent?[]:[`${p}--opaque`],v=l.border?["tox-navobj-bordered"]:[],w={...l.label.map(N=>({title:N})).getOr({}),...m.map(N=>({srcdoc:N})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},S=((N,I)=>{const K=Ot(N.getOr(""));return{getValue:Z=>K.get(),setValue:(Z,q)=>{if(K.get()!==q){const V=Z.element,H=()=>io(V,"srcdoc",q);I?sP.fold(se(OD),Y=>Y.throttle)(V,q,H):H()}K.set(q)}}})(m,l.streamContent),k=l.label.map(N=>Op(N,d)),A=en.parts.field({factory:{sketch:N=>kD(E.from(v),{uid:N.uid,dom:{tag:"iframe",attributes:w,classes:[p,...x]},behaviours:vt([Un.config({}),vo.config({}),F1(m,S.getValue,S.setValue),tl.config({channels:{[A_]:{onReceive:(I,K)=>{K.newFocus.each(Z=>{pa(I.element).each(q=>{(Xo(I.element,Z)?Ss:rn)(q,"tox-navobj-bordered-focus")})})}}}})])})}});return d2(k,A,["tox-form__group--stretched"],[])})(n,r.shared.providers,i),(n,r,i,l,d)=>{const m=Cs(r,{source:"dynamic"});return la(hO)(n,m,i,l,d)}),button:la((n,r)=>((i,l)=>{const d=WD(i.name,"custom");return m=E.none(),p=en.parts.field({factory:Ba,...x2(i,E.some(d),l,[Mp(""),Np()])}),d2(m,p,[],[]);var m,p})(n,r.shared.providers)),checkbox:la((n,r,i)=>((l,d,m)=>{const p=k=>(k.element.dom.click(),E.some(!0)),x=en.parts.field({factory:{sketch:We},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:vt([Np(),Jt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:k=>{pa(k.element).each(A=>Ss(A,"tox-checkbox--disabled"))},onEnabled:k=>{pa(k.element).each(A=>rn(A,"tox-checkbox--disabled"))}}),Un.config({}),vo.config({}),xD(m,Mm,ji),Kt.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),uo("checkbox-events",[et(Zm(),(k,A)=>{oo(k,Ui,{name:l.name})})])])}),v=en.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Bs(d.translate(l.label))],behaviours:vt([x0.config({})])}),w=k=>Pc(k==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+k]},d.icons),S=On({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return en.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[x,S.asSpec(),v],fieldBehaviours:vt([Jt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),Hr(()=>d.checkUiComponentContext(l.context))])})})(n,r.shared.providers,i)),colorinput:la((n,r,i)=>((l,d,m,p)=>{const x=en.parts.field({factory:mg,inputClasses:["tox-textfield"],data:p,onSetValue:k=>im.run(k).get(we),inputBehaviours:vt([Jt.config({disabled:()=>d.providers.isDisabled()||d.providers.checkUiComponentContext(l.context).shouldDisable}),Hr(()=>d.providers.checkUiComponentContext(l.context)),Un.config({}),im.config({invalidClass:"tox-textbox-field-invalid",getRoot:k=>pa(k.element),notify:{onValid:k=>{const A=Vt.getValue(k);oo(k,pD,{color:A})}},validator:{validateOnLoad:!1,validate:k=>{const A=Vt.getValue(k);if(A.length===0)return $r(Jo.value(!0));{const N=Rs("span");Ro(N,"background-color",A);const I=gr(N,"background-color").fold(()=>Jo.error("blah"),K=>Jo.value(A));return $r(I)}}}})]),selectOnFocus:!1}),v=l.label.map(k=>Op(k,d.providers)),w=(k,A)=>{oo(k,hD,{value:A})},S=On(((k,A)=>nl.sketch({dom:k.dom,components:k.components,toggleClass:"mce-active",dropdownBehaviours:vt([kf(()=>A.providers.isDisabled()||A.providers.checkUiComponentContext(k.context).shouldDisable),Hr(()=>A.providers.checkUiComponentContext(k.context)),x0.config({}),Un.config({})]),layouts:k.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:A.getSink,fetch:N=>on(I=>k.fetch(I)).map(I=>E.from(K3(Cs(L1(De("menu-value"),I,K=>{k.onItemAction(N,K)},k.columns,k.presets,Ic.CLOSE_ON_EXECUTE,Me,A.providers),{movement:c2(k.columns,k.presets)})))),parts:{menu:Zv(0,0,k.presets)}}))({dom:{tag:"span",attributes:{"aria-label":d.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ir,Cr,Lr],onLtr:()=>[Cr,Ir,Lr]},components:[],fetch:W3(m.getColors(l.storageKey),l.storageKey,m.hasCustomColors()),columns:m.getColorCols(l.storageKey),presets:"color",onItemAction:(k,A)=>{S.getOpt(k).each(N=>{A==="custom"?m.colorPicker(I=>{I.fold(()=>an(N,bD),K=>{w(N,K),x_(l.storageKey,K)})},"#ffffff"):w(N,A==="remove"?"":A)})},context:l.context},d));return en.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[x,S.asSpec()]}]),fieldBehaviours:vt([uo("form-field-events",[et(pD,(k,A)=>{S.getOpt(k).each(N=>{Ro(N.element,"background-color",A.event.color)}),oo(k,Ui,{name:l.name})}),et(hD,(k,A)=>{en.getField(k).each(N=>{Vt.setValue(N,A.event.value),kn.getCurrent(k).each(vo.focus)})}),et(bD,(k,A)=>{en.getField(k).each(N=>{kn.getCurrent(k).each(vo.focus)})})])])})})(n,r.shared,r.colorinput,i)),colorpicker:la((n,r,i)=>((l,d,m)=>{const p=w=>"tox-"+w,x=QB((w=>S=>xe(S)?w.translate(JB[S]):w.translate(S))(d),p,d.tooltips.getConfig,(w,S,k=w,A=w)=>Pc(k,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+w],attributes:{title:d.translate(A),"aria-live":"polite",...S.fold(()=>({}),N=>({id:N}))}},d.icons)),v=On(x.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:w=>{oo(w,bg,{name:"hex-valid",value:!0})},onInvalidHex:w=>{oo(w,bg,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[v.asSpec()],behaviours:vt([F1(m,w=>{const S=v.get(w);return kn.getCurrent(S).bind(k=>Vt.getValue(k).hex).map(k=>"#"+os(k,"#")).getOr("")},(w,S)=>{const k=E.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(S)).bind(N=>gt(N,1)),A=v.get(w);kn.getCurrent(A).fold(()=>{console.log("Can not find form")},N=>{Vt.setValue(N,{hex:k.getOr("")}),_0.getField(N,"hex").each(I=>{an(I,ud())})})}),Np()])}})(0,r.shared.providers,i)),dropzone:la((n,r,i)=>CD(n,r.shared.providers,i)),grid:la((n,r)=>((i,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${i.columns}col`]},components:Ee(i.items,l.interpreter)}))(n,r.shared)),listbox:la((n,r,i)=>((l,d,m)=>{const p=En(l.items,A=>!T_(A)),x=d.shared.providers,v=m.bind(A=>gS(l.items,A)).orThunk(()=>Et(l.items).filter(T_)),w=l.label.map(A=>Op(A,x)),S=en.parts.field({dom:{},factory:{sketch:A=>mS({context:l.context,uid:A.uid,text:v.map(N=>N.text),icon:E.none(),tooltip:E.none(),role:Gs(!p,"combobox"),...p?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(N,I)=>{const K=FD(N,l.name,l.items,Vt.getValue(N),p);I(q0(K,Ic.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:E.none()}))},onSetup:se(we),getApi:se({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Un.config({}),F1(v.map(N=>N.value),N=>Bo(N.element,LD),(N,I)=>{gS(l.items,I).each(K=>{io(N.element,LD,K.value),oo(N,Nd,{text:K.text})})})]},"tox-listbox",d.shared)}}),k={dom:{tag:"div",classes:["tox-listboxfield"]},components:[S]};return en.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Os([w.toArray(),[k]]),fieldBehaviours:vt([Jt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:A=>{en.getField(A).each(Jt.disable)},onEnabled:A=>{en.getField(A).each(Jt.enable)}})])})})(n,r,i)),selectbox:la((n,r,i)=>((l,d,m)=>{const p=Ee(l.items,k=>({text:d.translate(k.text),value:k.value})),x=l.label.map(k=>Op(k,d)),v=en.parts.field({dom:{},...m.map(k=>({data:k})).getOr({}),selectAttributes:{size:l.size},options:p,factory:TN,selectBehaviours:vt([Jt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),Un.config({}),uo("selectbox-change",[et(Zm(),(k,A)=>{oo(k,Ui,{name:l.name})})])])}),w=l.size>1?E.none():E.some(Pc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},d.icons)),S={dom:{tag:"div",classes:["tox-selectfield"]},components:Os([[v],w.toArray()])};return en.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Os([x.toArray(),[S]]),fieldBehaviours:vt([Jt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:k=>{en.getField(k).each(Jt.disable)},onEnabled:k=>{en.getField(k).each(Jt.enable)}}),Hr(()=>d.checkUiComponentContext(l.context))])})})(n,r.shared.providers,i)),sizeinput:la((n,r)=>((i,l)=>{let d=O_;const m=De("ratio-event"),p=q=>Pc(q,{tag:"span",classes:["tox-icon","tox-lock-icon__"+q]},l.icons),x=()=>!i.enabled||l.checkUiComponentContext(i.context).shouldDisable,v=Hr(()=>l.checkUiComponentContext(i.context)),w=i.label.getOr("Constrain proportions"),S=l.translate(w),k=ir.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":S,"data-mce-name":w}},components:[p("lock"),p("unlock")],buttonBehaviours:vt([Jt.config({disabled:x}),v,Un.config({}),bs.config(l.tooltips.getConfig({tooltipText:S}))])}),A=q=>({dom:{tag:"div",classes:["tox-form__group"]},components:q}),N=q=>en.parts.field({factory:mg,inputClasses:["tox-textfield"],inputBehaviours:vt([Jt.config({disabled:x}),v,Un.config({}),uo("size-input-events",[et(jl(),(V,H)=>{oo(V,m,{isField1:q})}),et(Zm(),(V,H)=>{oo(V,Ui,{name:i.name})})])]),selectOnFocus:!1}),I=q=>({dom:{tag:"label",classes:["tox-label"]},components:[Bs(l.translate(q))]}),K=ir.parts.field1(A([en.parts.label(I("Width")),N(!0)])),Z=ir.parts.field2(A([en.parts.label(I("Height")),N(!1)]));return ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[K,Z,A([I(" "),k])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(q,V,H)=>{p2(Vt.getValue(q)).each(Y=>{d(Y).each(J=>{Vt.setValue(V,D_(J))})})},coupledFieldBehaviours:vt([Jt.config({disabled:x,onDisabled:q=>{ir.getField1(q).bind(en.getField).each(Jt.disable),ir.getField2(q).bind(en.getField).each(Jt.disable),ir.getLock(q).each(Jt.disable)},onEnabled:q=>{ir.getField1(q).bind(en.getField).each(Jt.enable),ir.getField2(q).bind(en.getField).each(Jt.enable),ir.getLock(q).each(Jt.enable)}}),Hr(()=>l.checkUiComponentContext("mode:design")),uo("size-input-events2",[et(m,(q,V)=>{const H=V.event.isField1,Y=H?ir.getField1(q):ir.getField2(q),J=H?ir.getField2(q):ir.getField1(q),me=Y.map(Vt.getValue).getOr(""),ue=J.map(Vt.getValue).getOr("");d=pS(me,ue)})])])})})(n,r.shared.providers)),slider:la((n,r,i)=>((l,d,m)=>{const p=fu.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Bs(d.translate(l.label))]}),x=fu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),v=fu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return fu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:se(m.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,x,v],sliderBehaviours:vt([Np(),vo.config({})]),onChoose:(w,S,k)=>{oo(w,Ui,{name:l.name,value:k})},onChange:(w,S,k)=>{oo(w,Ui,{name:l.name,value:k})}})})(n,r.shared.providers,i)),urlinput:la((n,r,i)=>((l,d,m,p)=>{const x=d.shared.providers,v=V=>{const H=Vt.getValue(V);m.addToHistory(H.value,l.filetype)},w={...p.map(V=>({initialData:V})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:V=>{const H=((J,me,ue)=>{const pe=Vt.getValue(me),He=pe?.meta?.text??pe.value;return ue.getLinkInformation().fold(()=>[],Ve=>{const Le=_S(He,(ut=>Ee(ut,$t=>wS($t,$t)))(ue.getHistory(J)));return J==="file"?(qe=[Le,_S(He,cP(Ve)),_S(He,Os([uP(Ve),dP(Ve),mP(Ve)]))],Yo(qe,(ut,$t)=>ut.length===0||$t.length===0?ut.concat($t):ut.concat(iP,$t),[])):Le;var qe})})(l.filetype,V,m),Y=q0(H,Ic.BUBBLE_TO_SANDBOX,d,{isHorizontalMenu:!1,search:E.none()});return $r(Y)},getHotspot:V=>Z.getOpt(V),onSetValue:(V,H)=>{V.hasConfigured(im)&&im.run(V).get(we)},typeaheadBehaviours:vt([...m.getValidationHandler().map(V=>im.config({getRoot:H=>pa(H.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(H,Y)=>{A.getOpt(H).each(J=>{io(J.element,"title",x.translate(Y))})}},validator:{validate:H=>{const Y=Vt.getValue(H);return Dr(J=>{V({type:l.filetype,url:Y.value},me=>{if(me.status==="invalid"){io(H.element,"aria-errormessage",GD);const ue=Jo.error(me.message);J(ue)}else{Xs(H.element,"aria-errormessage");const ue=Jo.value(me.message);J(ue)}})})},validateOnLoad:!1}})).toArray(),Jt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable}),Un.config({}),uo("urlinput-events",[et(ud(),V=>{const H=jr(V.element),Y=H.trim();Y!==H&&Yd(V.element,Y),l.filetype==="file"&&oo(V,Ui,{name:l.name})}),et(Zm(),V=>{oo(V,Ui,{name:l.name}),v(V)}),et(Mx(),V=>{oo(V,Ui,{name:l.name}),v(V)})])]),eventOrder:{[ud()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:V=>V.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:d.shared.getSink,parts:{menu:Zv(0,0,"normal")},onExecute:(V,H,Y)=>{oo(H,m2,{})},onItemExecute:(V,H,Y,J)=>{v(V),oo(V,Ui,{name:l.name})}},S=en.parts.field({...w,factory:JN}),k=l.label.map(V=>Op(V,x)),A=On(((V,H,Y=V,J=V)=>Pc(Y,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+V],attributes:{title:x.translate(J),"aria-live":"polite",...H.fold(()=>({}),me=>({id:me}))}},x.icons))("invalid",E.some(GD),"warning")),N=On({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[A.asSpec()]}),I=m.getUrlPicker(l.filetype),K=De("browser.url.event"),Z=On({dom:{tag:"div",classes:["tox-control-wrap"]},components:[S,N.asSpec()],behaviours:vt([Jt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable})])}),q=On(yS({context:l.context,name:l.name,icon:E.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:E.none(),borderless:!0},V=>an(V,K),x,[],["tox-browse-url"]));return en.sketch({dom:uD([]),components:k.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Os([[Z.asSpec()],I.map(()=>q.asSpec()).toArray()])}]),fieldBehaviours:vt([Jt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:V=>{en.getField(V).each(Jt.disable),q.getOpt(V).each(Jt.disable)},onEnabled:V=>{en.getField(V).each(Jt.enable),q.getOpt(V).each(Jt.enable)}}),Hr(()=>x.checkUiComponentContext(l.context)),uo("url-input-events",[et(K,V=>{kn.getCurrent(V).each(H=>{const Y=Vt.getValue(H),J={fieldname:l.name,...Y};I.each(me=>{me(J).get(ue=>{Vt.setValue(H,ue),oo(V,Ui,{name:l.name})})})})})])])})})(n,r,r.urlinput,i)),customeditor:la(n=>{const r=zn(),i=On({dom:{tag:n.tag}}),l=zn(),d=!oS(n)&&n.onFocus.isSome()?[vo.config({onFocus:m=>{n.onFocus.each(p=>{p(m.element.dom)})}}),Un.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:vt([uo("custom-editor-events",[us(m=>{i.getOpt(m).each(p=>{(oS(n)?n.init(p.element.dom):eP.load(n.scriptId,n.scriptUrl).then(x=>x(p.element.dom,n.settings))).then(x=>{l.on(v=>{x.setValue(v)}),l.clear(),r.set(x)})})})]),F1(E.none(),()=>r.get().fold(()=>l.get().getOr(""),m=>m.getValue()),(m,p)=>{r.get().fold(()=>l.set(p),x=>x.setValue(p))}),Np()].concat(d)),components:[i.asSpec()]}}),htmlpanel:la((n,r)=>((i,l)=>{const d=["tox-form__group",...i.stretched?["tox-form__group--stretched"]:[]],m=uo("htmlpanel",[us(p=>{i.onInit(p.element.dom)})]);return i.presets==="presentation"?_d.sketch({dom:{tag:"div",classes:d,innerHtml:i.html},containerBehaviours:vt([bs.config({...l.tooltips.getConfig({tooltipText:"",onShow:p=>{ls(p.element,"[data-mce-tooltip]:hover").orThunk(()=>za(p.element)).each(x=>{Jr(x,"data-mce-tooltip").each(v=>{bs.setComponents(p,l.tooltips.getComponents({tooltipText:v}))})})}}),mode:"children-normal",anchor:p=>({type:"node",node:ls(p.element,"[data-mce-tooltip]:hover").orThunk(()=>za(p.element).filter(x=>Jr(x,"data-mce-tooltip").isSome())),root:p.element,layouts:{onLtr:se([Lr,sa,Cr,ba,Ir,Ra]),onRtl:se([Lr,sa,Cr,ba,Ir,Ra])},bubble:Xi(0,-2,{})})}),m])}):_d.sketch({dom:{tag:"div",classes:d,innerHtml:i.html,attributes:{role:"document"}},containerBehaviours:vt([Un.config({}),vo.config({}),m])})})(n,r.shared.providers)),imagepreview:la((n,r,i)=>((l,d)=>{const m=Ot(d.getOr({url:""})),p=On({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:d.map(S=>({src:S.url})).getOr({})}}),x=On({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),v={};l.height.each(S=>v.height=S);const w=d.map(S=>({url:S.url,zoom:E.from(S.zoom),cachedWidth:E.from(S.cachedWidth),cachedHeight:E.from(S.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:v,attributes:{role:"presentation"}},components:[x.asSpec()],behaviours:vt([Np(),F1(w,()=>m.get(),(S,k)=>{const A={url:k.url};k.zoom.each(I=>A.zoom=I),k.cachedWidth.each(I=>A.cachedWidth=I),k.cachedHeight.each(I=>A.cachedHeight=I),m.set(A);const N=()=>{const{cachedWidth:I,cachedHeight:K,zoom:Z}=A;if(!st(I)&&!st(K)){if(st(Z)){const V=((H,Y,J)=>{const me=Ln(H),ue=Rr(H);return Math.min(me/Y,ue/J,1)})(S.element,I,K);A.zoom=V}const q=((V,H,Y,J,me)=>{const ue=Y*me,pe=J*me,He=Math.max(0,V/2-ue/2),Ve=Math.max(0,H/2-pe/2);return{left:He.toString()+"px",top:Ve.toString()+"px",width:ue.toString()+"px",height:pe.toString()+"px"}})(Ln(S.element),Rr(S.element),I,K,A.zoom);x.getOpt(S).each(V=>{oe(V.element,q)})}};p.getOpt(S).each(I=>{const K=I.element;k.url!==Bo(K,"src")&&(io(K,"src",k.url),rn(S.element,"tox-imagepreview__loaded")),N(),Bg(K).then(Z=>{S.getSystem().isConnected()&&(Ss(S.element,"tox-imagepreview__loaded"),A.cachedWidth=Z.dom.naturalWidth,A.cachedHeight=Z.dom.naturalHeight,N())})})})])}})(n,i)),table:la((n,r)=>((i,l)=>{const d=x=>({dom:{tag:"td",innerHtml:l.translate(x)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=i.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ee(p,x=>({dom:{tag:"th",innerHtml:l.translate(x)}}))}]}),(m=i.cells,{dom:{tag:"tbody"},components:Ee(m,x=>({dom:{tag:"tr"},components:Ee(x,d)}))})],behaviours:vt([Un.config({}),vo.config({})])};var m,p})(n,r.shared.providers)),tree:la((n,r)=>((i,l)=>{const d=i.onLeafAction.getOr(we),m=i.onToggleExpand.getOr(we),p=i.defaultExpandedIds,x=Ot(p),v=Ot(i.defaultSelectedId),w=De("tree-id"),S=(k,A)=>i.items.map(N=>N.type==="leaf"?hS({leaf:N,selectedId:k,onLeafAction:d,visible:!0,treeId:w,backstage:l}):N_({directory:N,selectedId:k,onLeafAction:d,expandedIds:A,labelTabstopping:!0,treeId:w,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:S(v.get(),x.get()),behaviours:vt([Kt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),uo(aP,[et("expand-tree-node",(k,A)=>{const{expanded:N,node:I}=A.event;x.set(N?[...x.get(),I]:x.get().filter(K=>K!==I)),m(x.get(),{expanded:N,node:I})})]),tl.config({channels:{[`update-active-item-${w}`]:{onReceive:(k,A)=>{v.set(E.some(A.value)),No.set(k,S(E.some(A.value),x.get()))}}}}),No.config({})])}})(n,r)),panel:la((n,r)=>((i,l)=>({dom:{tag:"div",classes:i.classes},components:Ee(i.items,l.shared.interpreter)}))(n,r))},gP={field:(n,r)=>r,record:se([])},YD=(n,r,i,l,d)=>{const m=Cs(l,{shared:{interpreter:p=>ku(n,p,i,m,d)}});return ku(n,r,i,m,d)},ku=(n,r,i,l,d)=>no(KD,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),m=>m(n,r,i,l,d)),XD=(n,r,i,l)=>ku(gP,n,r,i,l),v2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},CS=(n,r,i)=>{const l={maxHeightFunction:Qu()};return()=>i()?{type:"node",root:Ng(Qr(n())),node:E.from(n()),bubble:Xi(12,12,v2),layouts:{onRtl:()=>[Jm],onLtr:()=>[Fr]},overrides:l}:{type:"hotspot",hotspot:r(),bubble:Xi(-12,12,v2),layouts:{onRtl:()=>[Cr,Ir,Lr],onLtr:()=>[Ir,Cr,Lr]},overrides:l}},_a=(n,r,i,l)=>{const d={maxHeightFunction:Qu()};return()=>l()?{type:"node",root:Ng(Qr(r())),node:E.from(r()),bubble:Xi(12,12,v2),layouts:{onRtl:()=>[Yl],onLtr:()=>[Yl]},overrides:d}:n?{type:"node",root:Ng(Qr(r())),node:E.from(r()),bubble:Xi(0,-Vu(r()),v2),layouts:{onRtl:()=>[sa],onLtr:()=>[sa]},overrides:d}:{type:"hotspot",hotspot:i(),bubble:Xi(0,0,v2),layouts:{onRtl:()=>[sa],onLtr:()=>[sa]},overrides:d}},fP=(n,r,i)=>()=>i()?{type:"node",root:Ng(Qr(n())),node:E.from(n()),layouts:{onRtl:()=>[Yl],onLtr:()=>[Yl]}}:{type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[Lr],onLtr:()=>[Lr]}},pP=(n,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const i=n.selection.getRng(),l=n.model.table.getSelectedCells();if(l.length>1){const d=l[0],m=l[l.length-1],p={firstCell:Ft(d),lastCell:Ft(m)};return E.some(p)}return E.some(ad.range(Ft(i.startContainer),i.startOffset,Ft(i.endContainer),i.endOffset))}}),hP=n=>r=>({type:"node",root:n(),node:r}),bP=(n,r,i,l)=>{const d=w1(n),m=()=>Ft(n.getBody()),p=()=>Ft(n.getContentAreaContainer()),x=()=>d||!l();return{inlineDialog:CS(p,r,x),inlineBottomDialog:_a(n.inline,p,i,x),banner:fP(p,r,x),cursor:pP(n,m),node:hP(m)}},xP=n=>(r,i)=>{nD(n)(r,i)},vP=n=>()=>Y6(n),yP=n=>r=>y_(n,r),wP=n=>r=>K6(n,r),_P=n=>()=>k4(n),QD=n=>Kn(n,"items"),JD=n=>Kn(n,"format"),eO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],tO=n=>Yo(n,(r,i)=>{if(cn(i,"items")){const l=tO(i.items);return{customFormats:r.customFormats.concat(l.customFormats),formats:r.formats.concat([{title:i.title,items:l.formats}])}}if(cn(i,"inline")||(l=>cn(l,"block"))(i)||(l=>cn(l,"selector"))(i)){const l=`custom-${xe(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:l,format:i}]),formats:r.formats.concat([{title:i.title,format:l,icon:i.icon}])}}return{...r,formats:r.formats.concat(i)}},{customFormats:[],formats:[]}),oO=n=>b4(n).map(r=>{const i=((l,d)=>{const m=tO(d),p=x=>{yt(x,v=>{l.formatter.has(v.name)||l.formatter.register(v.name,v.format)})};return l.formatter?p(m.customFormats):l.on("init",()=>{p(m.customFormats)}),m.formats})(n,r);return Rw(n)?eO.concat(i):i}).getOr(eO),nO=(n,r,i)=>({...n,type:"formatter",isSelected:r(n.format),getStylePreview:i(n.format)}),sO=(n,r,i,l)=>{const d=m=>Ee(m,p=>QD(p)?(x=>{const v=d(x.items);return{...x,type:"submenu",getStyleItems:se(v)}})(p):JD(p)?(x=>nO(x,i,l))(p):(x=>{const v=Zo(x);return v.length===1&&pt(v,"title")})(p)?{...p,type:"separator"}:(x=>{const v=xe(x.name)?x.name:De(x.title),w=`custom-${v}`,S={...x,type:"formatter",format:w,isSelected:i(w),getStylePreview:l(w)};return n.formatter.register(v,S),S})(p));return d(r)},CP=n=>{let r=0;const i=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Bs(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>r>0?60:300,delayForHide:se(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:i(l),onShow:(d,m)=>{r++,l.onShow&&l.onShow(d,m)},onHide:(d,m)=>{r--,l.onHide&&l.onHide(d,m)},onSetup:l.onSetup}),getComponents:i}},kP=xg.trim,rO=n=>r=>!!((i=>ge(i)&&i.nodeType===1)(r)&&(r.contentEditable===n||r.getAttribute("data-mce-contenteditable")===n)),SP=rO("true"),EP=rO("false"),aO=(n,r,i,l,d)=>({type:n,title:r,url:i,level:l,attach:d}),iO=n=>n.innerText||n.textContent,AP=n=>(r=>r&&r.nodeName==="A"&&(r.id||r.name)!==void 0)(n)&&kS(n),lO=n=>n&&/^(H[1-6])$/.test(n.nodeName),kS=n=>(r=>{let i=r;for(;i=i.parentNode;){const l=i.contentEditable;if(l&&l!=="inherit")return SP(i)}return!1})(n)&&!EP(n),TP=n=>lO(n)&&kS(n),cO=n=>{const r=(i=>i.id?i.id:De("h"))(n);return aO("header",iO(n)??"","#"+r,(i=>lO(i)?parseInt(i.nodeName.substr(1),10):0)(n),()=>{n.id=r})},DP=n=>{const r=n.id||n.name,i=iO(n);return aO("anchor",i||"#"+r,"#"+r,0,we)},dO=n=>kP(n.title).length>0,OP=n=>{const r=(i=>Ee(oa(Ft(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),d=>d.dom))(n);return Oo((i=>Ee(Oo(i,TP),cO))(r).concat((i=>Ee(Oo(i,AP),DP))(r)),dO)},y2="tinymce-url-history",uO=n=>xe(n)&&/^https?/.test(n),mO=n=>ve(n)&&Rl(n,r=>{return!($e(i=r)&&i.length<=5&&li(i,uO));var i}).isNone(),gO=()=>{const n=Dp.getItem(y2);if(n===null)return{};let r;try{r=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+y2+" was not valid JSON",i),{};throw i}return mO(r)?r:(console.log("Local storage "+y2+" was not valid format",r),{})},RP=n=>{const r=gO();return no(r,n).getOr([])},NP=(n,r)=>{if(!uO(n))return;const i=gO(),l=no(i,r).getOr([]),d=Oo(l,m=>m!==n);i[r]=[n].concat(d).slice(0,5),(m=>{if(!mO(m))throw new Error(`Bad format for history:
`+JSON.stringify(m));Dp.setItem(y2,JSON.stringify(m))})(i)},fO=n=>!!n,MP=n=>Is(xg.makeMap(n,/[, ]/),fO),SS=n=>E.from(C4(n)),pO=n=>E.from(n).filter(xe).getOrUndefined(),BP=n=>({getHistory:RP,addToHistory:NP,getLinkInformation:()=>(r=>Mv(r)?E.some({targets:OP(r.getBody()),anchorTop:pO(Nw(r)),anchorBottom:pO(Bv(r))}):E.none())(n),getValidationHandler:()=>(r=>E.from(bT(r)))(n),getUrlPicker:r=>((i,l)=>((d,m)=>{const p=(x=>{const v=E.from(vT(x)).filter(fO).map(MP);return SS(x).fold(Me,w=>v.fold(Ut,S=>Zo(S).length>0&&S))})(d);return dt(p)?p?SS(d):E.none():p[m]?SS(d):E.none()})(i,l).map(d=>m=>on(p=>{const x={filetype:l,fieldname:m.fieldname,...E.from(m.meta).getOr({})};d.call(i,(v,w)=>{if(!xe(v))throw new Error("Expected value to be string");if(w!==void 0&&!ve(w))throw new Error("Expected meta to be a object");p({value:v,meta:w})},m.value,x)})))(n,r)}),PP={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},IP=we,LP=Me,ES=se([]);var hO,FP=Object.freeze({__proto__:null,setup:IP,isDocked:LP,getBehaviours:ES});const AS=se(De("toolbar-height-change")),vg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},bO="tox-tinymce--toolbar-sticky-on",P_="tox-tinymce--toolbar-sticky-off",V1=(n,r)=>pt(Fs.getModes(n),r),TS=n=>{const r=n.element;pa(r).each(i=>{const l="padding-"+Fs.getModes(n)[0];if(Fs.isDocked(n)){const d=Ln(i);Ro(r,"width",d+"px"),Ro(i,l,(m=>Vu(m)+(parseInt(Va(m,"margin-top"),10)||0)+(parseInt(Va(m,"margin-bottom"),10)||0))(r)+"px")}else pn(r,"width"),pn(i,l)})},w2=(n,r)=>{r?(rn(n,vg.fadeOutClass),Vl(n,[vg.transitionClass,vg.fadeInClass])):(rn(n,vg.fadeInClass),Vl(n,[vg.fadeOutClass,vg.transitionClass]))},xO=(n,r)=>{const i=Ft(n.getContainer());r?(Ss(i,bO),rn(i,P_)):(Ss(i,P_),rn(i,bO))},vO=(n,r)=>{const i=zn(),l=r.getSink,d=x=>{l().each(v=>x(v.element))},m=x=>{n.inline||TS(x),xO(n,Fs.isDocked(x)),x.getSystem().broadcastOn([oi()],{}),l().each(v=>v.getSystem().broadcastOn([oi()],{}))},p=n.inline?[]:[tl.config({channels:{[AS()]:{onReceive:TS}}})];return[vo.config({}),Fs.config({contextual:{lazyContext:x=>{const v=Vu(x.element),w=n.inline?n.getContentAreaContainer():n.getContainer();return E.from(w).map(S=>{const k=yr(Ft(S));return gg(n,x.element).fold(()=>{const A=k.height-v,N=k.y+(V1(x,"top")?0:v);return dn(k.x,N,k.width,A)},A=>{const N=nh(k,yf(A)),I=V1(x,"top")?N.y:N.y+v;return dn(N.x,I,N.width,N.height-v)})})},onShow:()=>{d(x=>w2(x,!0))},onShown:x=>{d(v=>ta(v,[vg.transitionClass,vg.fadeInClass])),i.get().each(v=>{((w,S)=>{const k=jt(S);od(k).filter(A=>!Xo(S,A)).filter(A=>Xo(A,Ft(k.dom.body))||$s(w,A)).each(()=>vr(S))})(x.element,v),i.clear()})},onHide:x=>{((v,w)=>za(v).orThunk(()=>w().toOptional().bind(S=>za(S.element))))(x.element,l).fold(i.clear,i.set),d(v=>w2(v,!1))},onHidden:()=>{d(x=>ta(x,[vg.transitionClass]))},...vg},lazyViewport:x=>gg(n,x.element).fold(()=>{const v=Qs(),w=w4(n),S=v.y+(V1(x,"top")&&!Fv(n)?w:0),k=v.height-(V1(x,"bottom")?w:0);return{bounds:dn(v.x,S,v.width,k),optScrollEnv:E.none()}},v=>({bounds:yf(v),optScrollEnv:E.some({currentScrollTop:v.element.dom.scrollTop,scrollElmTop:Nr(v.element).top})})),modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m}),...p]};var zP=Object.freeze({__proto__:null,setup:(n,r,i)=>{n.inline||(r.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{i().each(Fs.reset)}),n.on("ResizeWindow ResizeEditor",()=>{i().each(TS)}),n.on("SkinLoaded",()=>{i().each(l=>{Fs.isDocked(l)?Fs.reset(l):Fs.refresh(l)})}),n.on("FullscreenStateChanged",()=>{i().each(Fs.reset)})),n.on("AfterScrollIntoView",l=>{i().each(d=>{Fs.refresh(d);const m=d.element;qd(m)&&((p,x)=>{const v=jt(x),w=Xr(x).dom.innerHeight,S=Oi(v),k=Ft(p.elm),A=Hu(k),N=Rr(k),I=A.y,K=I+N,Z=Nr(x),q=Rr(x),V=Z.top,H=V+q,Y=Math.abs(V-S.top)<2,J=Math.abs(H-(S.top+w))<2;if(Y&&I<H)jo(S.left,I-q,v);else if(J&&K>V){const me=I-w+N+q;jo(S.left,me,v)}})(l,m)})}),n.on("PostRender",()=>{xO(n,!1)})},isDocked:n=>n().map(Fs.isDocked).getOr(!1),getBehaviours:vO}),DS=vi({factory:(n,r)=>{const i={focus:Kt.focusIn,setMenus:(l,d)=>{const m=Ee(d,p=>{const x={type:"menubutton",text:p.text,fetch:w=>{w(p.getItems())},context:"any"},v=m3(x).mapError(w=>Zu(w)).getOrDie();return h2(v,"tox-mbtn",r.backstage,E.some("menuitem"))});No.set(l,m)}};return{uid:n.uid,dom:n.dom,components:[],behaviours:vt([No.config({}),uo("menubar-events",[us(l=>{n.onSetup(l)}),et(ei(),(l,d)=>{ls(l.element,".tox-mbtn--active").each(m=>{pl(d.event.target,".tox-mbtn").each(p=>{Xo(m,p)||l.getSystem().getByDom(m).each(x=>{l.getSystem().getByDom(p).each(v=>{nl.expand(v),nl.close(x),vo.focus(v)})})})})}),et(Zg(),(l,d)=>{d.event.prevFocus.bind(m=>l.getSystem().getByDom(m).toOptional()).each(m=>{d.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{nl.isOpen(m)&&(nl.expand(p),nl.close(m))})})})]),Kt.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(n.onEscape(l),E.some(!0))}),Un.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ft("dom"),ft("uid"),ft("onEscape"),ft("backstage"),Pe("onSetup",we)],apis:{focus:(n,r)=>{n.focus(r)},setMenus:(n,r,i)=>{n.setMenus(r,i)}}});const dF=n=>({element:()=>n.element.dom}),I_=(n,r)=>{const i=Ee(Zo(r),l=>{const d=r[l],m=Bi((p=>Ms("sidebar",Jv,p))(d));return{name:l,getApi:dF,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return Ee(i,l=>{const d=Ot(we);return n.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:t2([Od(l,d),R1(l,d),et(wb(),(m,p)=>{const x=p.event;B(i,w=>w.name===x.name).each(w=>{(x.visible?w.onShow:w.onHide)(w.getApi(m))})})])})})},G0=n=>ri.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:I_(r,n),slotBehaviours:t2([us(i=>ri.hideAllSlots(i))])})),_2=(n,r)=>{io(n,"role",r)},yO=n=>kn.getCurrent(n).bind(r=>_l.isGrowing(r)||_l.hasGrown(r)?kn.getCurrent(r).bind(i=>B(ri.getSlotNames(i),l=>ri.isShowing(i,l))):E.none()),OS=De("FixSizeEvent"),RS=De("AutoSizeEvent"),wO=n=>kn.getCurrent(n).each(r=>vr(r.element,!0)),VP=(n,r,i)=>{const l=Ot(!1),d=zn(),m=x=>{var v;l.get()&&(!(w=>w.type==="focusin")(v=x)||!(v.composed?Et(v.composedPath()):E.from(v.target)).map(Ft).filter(Qo).exists(w=>pr(w,"mce-pastebin")))&&(x.preventDefault(),wO(r()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",m),n.on("BeforeExecCommand",x=>{x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&m(x)})});const p=x=>{x!==l.get()&&(l.set(x),((v,w,S,k)=>{const A=w.element;if(((N,I)=>{const K="tabindex",Z=`data-mce-${K}`;E.from(N.iframeElement).map(Ft).each(q=>{I?(Jr(q,K).each(V=>io(q,Z,V)),io(q,K,-1)):(Xs(q,K),Jr(q,Z).each(V=>{io(q,K,V),Xs(q,Z)}))})})(v,S),S)am.block(w,(N=>(I,K)=>({dom:{tag:"div",attributes:{"aria-label":N.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:cg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(k)),pn(A,"display"),Xs(A,"aria-hidden"),v.hasFocus()&&wO(w);else{const N=kn.getCurrent(w).exists(I=>jd(I.element));am.unblock(w),Ro(A,"display","none"),io(A,"aria-hidden","true"),N&&v.focus()}})(n,r(),x,i.providers),((v,w)=>{v.dispatch("AfterProgressState",{state:w})})(n,x))};n.on("ProgressState",x=>{if(d.on(clearTimeout),St(x.time)){const v=Rv.setEditorTimeout(n,()=>p(x.state),x.time);d.set(v)}else p(x.state),d.clear()})},_O=n=>{const r=n.label.isNone()?n.title.fold(()=>({}),i=>({attributes:{"aria-label":i}})):n.label.fold(()=>({}),i=>({attributes:{"aria-label":i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(n.label.isSome()?["tox-toolbar__group_with_label"]:[]),...r},components:[...n.label.map(i=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Bs(i)]})).toArray(),Ew.parts.items({})],items:n.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:vt([Un.config({}),vo.config({ignore:!0})])}},L_=n=>Ew.sketch(_O(n)),CO=(n,r)=>{const i=us(l=>{const d=Ee(n.initGroups,L_);cm.setGroups(l,d)});return vt([o2(()=>n.providers.checkUiComponentContext("any").shouldDisable),Hr(()=>n.providers.checkUiComponentContext("any")),Kt.config({mode:r,onEscape:n.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),uo("toolbar-events",[i])])},kO=n=>{const r=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":_O({title:E.none(),label:E.none(),items:[]}),"overflow-button":vS({context:"any",icon:E.some("more-drawer"),enabled:!0,tooltip:E.some("Reveal or hide additional toolbar items")},E.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:CO(n,r)}},HP=n=>{const r=kO(n),i=iT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return iT.sketch({...r,lazySink:n.getSink,getOverflowBounds:()=>{const l=n.moreDrawerData.lazyHeader().element,d=Hu(l),m=is(l),p=Hu(m),x=Math.max(m.dom.scrollHeight,p.height);return dn(d.x+4,p.y,d.width-8,x)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>n.onToggled(l,!0),onClosed:l=>n.onToggled(l,!1)})},$P=n=>{const r=m4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=m4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=kO(n);return m4.sketch({...l,components:[r,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([AS()],{type:"opened"}),n.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([AS()],{type:"closed"}),n.onToggled(d,!1)}})},NS=n=>{const r=n.cyclicKeying?"cyclic":"acyclic";return cm.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===wi.scrolling?["tox-toolbar--scrolling"]:[])},components:[cm.parts.groups({})],toolbarBehaviours:CO(n,r)})},MS=(n,r)=>((i,l)=>{const d=i.type==="togglebutton",m=i.icon.map(Z=>Sf(Z,l.icons)).map(On),p={...i,name:d?i.text.getOr(i.icon.getOr("")):i.text??i.icon.getOr(""),primary:i.buttonType==="primary",buttonType:E.from(i.buttonType),tooltip:i.tooltip,icon:i.icon,enabled:!0,borderless:i.borderless},x=b2(i.buttonType??"secondary"),v=d?i.text.map(l.translate):E.some(l.translate(i.text)),w=v.map(Bs),S=p.tooltip.or(v).map(Z=>({"aria-label":l.translate(Z)})).getOr({}),k=m.map(Z=>Z.asSpec()),A=U0([k,w]),N=i.icon.isSome()&&w.isSome(),I={tag:"button",classes:x.concat(...i.icon.isSome()&&!N?["tox-button--icon"]:[]).concat(...N?["tox-button--icon-and-text"]:[]).concat(...i.borderless?["tox-button--naked"]:[]).concat(...i.type==="togglebutton"&&i.active?["tox-button--enabled"]:[]),attributes:S},K=M_(p,E.some(Z=>{const q=V=>{m.map(H=>H.getOpt(Z).each(Y=>{No.set(Y,[Sf(V,l.icons)])}))};return d?i.onAction({setIcon:q,setActive:V=>{const H=Z.element;V?(Ss(H,"tox-button--enabled"),io(H,"aria-pressed",!0)):(rn(H,"tox-button--enabled"),Xs(H,"aria-pressed"))},isActive:()=>pr(Z.element,"tox-button--enabled"),focus:()=>vr(Z.element)}):i.type==="button"?i.onAction({setIcon:q}):void 0}),[],I,A,i.tooltip,l);return Ba.sketch(K)})(n,r),H1=Se().deviceType,$1=H1.isPhone(),UP=H1.isTablet();var U1=el({name:"silver.View",configFields:[ft("viewConfig")],partFields:[Sc({factory:{sketch:n=>{let r=!1;const i=Ee(n.buttons,l=>l.type==="group"?(r=!0,((d,m)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ee(d.buttons,p=>MS(p,m))}))(l,n.providers)):MS(l,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...$1||UP?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:vt([vo.config({}),Kt.config({mode:"flow",selector:"button, .tox-button",focusInside:ht.OnEnterOrSpaceMode})]),components:r?i:[_d.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),_d.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}}},schema:[ft("buttons"),ft("providers")],name:"header"}),Sc({factory:{sketch:n=>({uid:n.uid,behaviours:vt([vo.config({}),Un.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(n,r,i,l)=>{const d={getPane:m=>aa.getPart(m,n,"pane"),getOnShow:m=>n.viewConfig.onShow,getOnHide:m=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:r,behaviours:vt([vo.config({}),Kt.config({mode:"cyclic",focusInside:ht.OnEnterOrSpaceMode})]),apis:d}},apis:{getPane:(n,r)=>n.getPane(r),getOnShow:(n,r)=>n.getOnShow(r),getOnHide:(n,r)=>n.getOnHide(r)}});const SO=(n,r,i)=>ma(r,(l,d)=>{const m=Bi(Ms("view",DB,l));return n.slot(d,U1.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:m,components:[...m.buttons.length>0?[U1.parts.header({buttons:m.buttons,providers:i})]:[],U1.parts.pane({})]}))}),F_=(n,r)=>ri.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:SO(i,n,r),slotBehaviours:t2([us(l=>ri.hideAllSlots(l))])})),EO=n=>B(ri.getSlotNames(n),r=>ri.isShowing(n,r)),Pp=(n,r,i)=>{ri.getSlot(n,r).each(l=>{U1.getPane(l).each(d=>{var m;i(l)((m=d.element.dom,{getContainer:se(m)}))})})};var yg=vi({factory:(n,r)=>{const i={setViews:(l,d)=>{No.set(l,[F_(d,r.backstage.shared.providers)])},whichView:l=>kn.getCurrent(l).bind(EO),toggleView:(l,d,m,p)=>kn.getCurrent(l).exists(x=>{const v=EO(x),w=v.exists(k=>p===k),S=ri.getSlot(x,p).isSome();return S&&(ri.hideAllSlots(x),w?((k=>{const A=k.element;Ro(A,"display","none"),io(A,"aria-hidden","true")})(l),d()):(m(),(k=>{const A=k.element;pn(A,"display"),Xs(A,"aria-hidden")})(l),ri.showSlot(x,p),((k,A)=>{Pp(k,A,U1.getOnShow)})(x,p)),v.each(k=>((A,N)=>Pp(A,N,U1.getOnHide))(x,k))),S})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:vt([No.config({}),kn.config({find:l=>{const d=No.contents(l);return Et(d)}})]),apis:i}},name:"silver.ViewWrapper",configFields:[ft("backstage")],apis:{setViews:(n,r,i)=>n.setViews(r,i),toggleView:(n,r,i,l,d)=>n.toggleView(r,i,l,d),whichView:(n,r)=>n.whichView(r)}});const ZP=dg.optional({factory:DS,name:"menubar",schema:[ft("backstage")]}),jP=dg.optional({factory:{sketch:n=>g5.sketch({uid:n.uid,dom:n.dom,listBehaviours:vt([Kt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>NS({type:n.type,uid:De("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),E.some(!0))}),setupItem:(r,i,l,d)=>{cm.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[ft("dom"),ft("onEscape")]}),WP=dg.optional({factory:{sketch:n=>(i=>i.type===wi.sliding?$P:i.type===wi.floating?HP:NS)(n)({type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),E.some(!0)),onToggled:(i,l)=>n.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes})},name:"toolbar",schema:[ft("dom"),ft("onEscape"),ft("getSink")]}),qP=dg.optional({factory:{sketch:n=>{const r=n.editor,i=n.sticky?vO:ES;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:vt(i(r,n.sharedBackstage))}}},name:"header",schema:[ft("dom")]}),GP=dg.optional({factory:{sketch:n=>{const r=n.promotionLink?[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"💝 Get all features"}}]:[];return{uid:n.uid,dom:n.dom,components:r}}},name:"promotion",schema:[ft("dom"),ft("promotionLink")]}),KP=dg.optional({name:"socket",schema:[ft("dom")]}),YP=dg.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:vt([Un.config({}),vo.config({}),_l.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{kn.getCurrent(r).each(ri.hideAllSlots),an(r,RS)},onGrown:r=>{an(r,RS)},onStartGrow:r=>{oo(r,OS,{width:gr(r.element,"width").getOr("")})},onStartShrink:r=>{oo(r,OS,{width:Ln(r.element)+"px"})}}),No.config({}),kn.config({find:r=>{const i=No.contents(r);return Et(i)}})])}],behaviours:vt([Q3(0),uo("sidebar-sliding-events",[et(OS,(r,i)=>{Ro(r.element,"width",i.event.width)}),et(RS,(r,i)=>{pn(r.element,"width")})])])})},name:"sidebar",schema:[ft("dom")]}),XP=dg.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:vt([No.config({}),am.config({focus:!1}),kn.config({find:r=>Et(r.components())})]),components:[]})},name:"throbber",schema:[ft("dom")]}),z_=dg.optional({factory:yg,name:"viewWrapper",schema:[ft("backstage")]}),AO=dg.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components})},name:"editorContainer",schema:[]});var ss=el({name:"OuterContainer",factory:(n,r,i)=>{let l=!1;const d=p=>{Tx(p,".tox-statusbar").each(x=>{Va(x,"display")==="none"&&Bo(x,"aria-hidden")==="true"?(pn(x,"display"),Xs(x,"aria-hidden")):(Ro(x,"display","none"),io(x,"aria-hidden","true"))})},m={getSocket:p=>aa.getPart(p,n,"socket"),setSidebar:(p,x,v)=>{aa.getPart(p,n,"sidebar").each(w=>((S,k,A)=>{kn.getCurrent(S).each(N=>{No.set(N,[G0(k)]);const I=A?.toLowerCase();xe(I)&&cn(k,I)&&kn.getCurrent(N).each(K=>{ri.showSlot(K,I),_l.immediateGrow(N),pn(N.element,"width"),_2(S.element,"region")})})})(w,x,v))},toggleSidebar:(p,x)=>{aa.getPart(p,n,"sidebar").each(v=>((w,S)=>{kn.getCurrent(w).each(k=>{kn.getCurrent(k).each(A=>{_l.hasGrown(k)?ri.isShowing(A,S)?(_l.shrink(k),_2(w.element,"presentation")):(ri.hideAllSlots(A),ri.showSlot(A,S),_2(w.element,"region")):(ri.hideAllSlots(A),ri.showSlot(A,S),_l.grow(k),_2(w.element,"region"))})})})(v,x))},whichSidebar:p=>aa.getPart(p,n,"sidebar").bind(yO).getOrNull(),getHeader:p=>aa.getPart(p,n,"header"),getToolbar:p=>aa.getPart(p,n,"toolbar"),setToolbar:(p,x)=>{aa.getPart(p,n,"toolbar").each(v=>{const w=Ee(x,L_);v.getApis().setGroups(v,w)})},setToolbars:(p,x)=>{aa.getPart(p,n,"multiple-toolbar").each(v=>{const w=Ee(x,S=>Ee(S,L_));g5.setItems(v,w)})},refreshToolbar:p=>{aa.getPart(p,n,"toolbar").each(x=>x.getApis().refresh(x))},toggleToolbarDrawer:p=>{aa.getPart(p,n,"toolbar").each(x=>{Fd(x.getApis().toggle,v=>v(x))})},toggleToolbarDrawerWithoutFocusing:p=>{aa.getPart(p,n,"toolbar").each(x=>{Fd(x.getApis().toggleWithoutFocusing,v=>v(x))})},isToolbarDrawerToggled:p=>aa.getPart(p,n,"toolbar").bind(x=>E.from(x.getApis().isOpen).map(v=>v(x))).getOr(!1),getThrobber:p=>aa.getPart(p,n,"throbber"),focusToolbar:p=>{aa.getPart(p,n,"toolbar").orThunk(()=>aa.getPart(p,n,"multiple-toolbar")).each(x=>{Kt.focusIn(x)})},setMenubar:(p,x)=>{aa.getPart(p,n,"menubar").each(v=>{DS.setMenus(v,x)})},focusMenubar:p=>{aa.getPart(p,n,"menubar").each(x=>{DS.focus(x)})},setViews:(p,x)=>{aa.getPart(p,n,"viewWrapper").each(v=>{yg.setViews(v,x)})},toggleView:(p,x)=>aa.getPart(p,n,"viewWrapper").exists(v=>yg.toggleView(v,()=>m.showMainView(p),()=>m.hideMainView(p),x)),whichView:p=>aa.getPart(p,n,"viewWrapper").bind(yg.whichView).getOrNull(),hideMainView:p=>{l=m.isToolbarDrawerToggled(p),l&&m.toggleToolbarDrawer(p),aa.getPart(p,n,"editorContainer").each(x=>{const v=x.element;d(v),Ro(v,"display","none"),io(v,"aria-hidden","true")})},showMainView:p=>{l&&m.toggleToolbarDrawer(p),aa.getPart(p,n,"editorContainer").each(x=>{const v=x.element;d(v),pn(v,"display"),Xs(v,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:r,apis:m,behaviours:n.behaviours}},configFields:[ft("dom"),ft("behaviours")],partFields:[qP,ZP,WP,jP,KP,YP,GP,XP,z_,AO],apis:{getSocket:(n,r)=>n.getSocket(r),setSidebar:(n,r,i,l)=>{n.setSidebar(r,i,l)},toggleSidebar:(n,r,i)=>{n.toggleSidebar(r,i)},whichSidebar:(n,r)=>n.whichSidebar(r),getHeader:(n,r)=>n.getHeader(r),getToolbar:(n,r)=>n.getToolbar(r),setToolbar:(n,r,i)=>{n.setToolbar(r,i)},setToolbars:(n,r,i)=>{n.setToolbars(r,i)},refreshToolbar:(n,r)=>n.refreshToolbar(r),toggleToolbarDrawer:(n,r)=>{n.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(n,r)=>{n.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(n,r)=>n.isToolbarDrawerToggled(r),getThrobber:(n,r)=>n.getThrobber(r),setMenubar:(n,r,i)=>{n.setMenubar(r,i)},focusMenubar:(n,r)=>{n.focusMenubar(r)},focusToolbar:(n,r)=>{n.focusToolbar(r)},setViews:(n,r,i)=>{n.setViews(r,i)},toggleView:(n,r,i)=>n.toggleView(r,i),whichView:(n,r)=>n.whichView(r)}});const BS={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image video link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},PS=n=>n.split(" "),TO=(n,r)=>{const i={...BS,...r.menus},l=Zo(r.menus).length>0,d=r.menubar===void 0||r.menubar===!0?PS("file edit view insert format tools table help"):PS(r.menubar===!1?"":r.menubar),m=Oo(d,x=>{const v=cn(BS,x);return l?v||no(r.menus,x).exists(w=>cn(w,"items")):v}),p=Ee(m,x=>{const v=i[x];return((w,S,k)=>{const A=hT(k).split(/[ ,]/);return{text:w.title,getItems:()=>Uo(w.items,N=>{const I=N.toLowerCase();return I.trim().length===0||En(A,K=>K===I)?[]:I==="separator"||I==="|"?[{type:"separator"}]:S.menuItems[I]?[S.menuItems[I]]:[]})}})({title:v.title,items:PS(v.items)},r,n)});return Oo(p,x=>x.getItems().length>0&&En(x.getItems(),v=>xe(v)||v.type!=="separator"))},V_=(n,r,i)=>(n.on("remove",()=>i.unload(r)),i.load(r)),IS=(n,r,i,l)=>(n.on("remove",()=>l.unloadRawCss(r)),l.loadRawCss(r,i)),LS=n=>E.from(tinymce.Resource.get(n)).filter(xe),FS=(n,r,i="")=>{const l=(m=>{const p=kT(m);return p?E.from(p):E.none()})(n).map(m=>((p,x)=>"ui/"+p+"/"+x)(m,`${r}.css`)),d=l.bind(LS);return Ml(l,d,(m,p)=>({_kind:"load-raw",key:m,css:p})).getOrThunk(()=>{const m=n.editorManager.suffix;return{_kind:"load-stylesheet",url:i+`/${r}${m}.css`}})},QP=(n,r)=>{const i=n.ui.styleSheetLoader,l=FS(n,"skin",r);switch(l._kind){case"load-raw":const{key:d,css:m}=l;return IS(n,d,m,i),Promise.resolve();case"load-stylesheet":const{url:p}=l;return V_(n,p,i);default:return Promise.resolve()}},JP=(n,r)=>{var i;if(i=Ft(n.getElement()),!Dm(i).isSome())return Promise.resolve();{const l=Nv.DOM.styleSheetLoader,d=FS(n,"skin.shadowdom",r);switch(d._kind){case"load-raw":const{key:m,css:p}=d;return IS(n,m,p,l),Promise.resolve();case"load-stylesheet":const{url:x}=d;return V_(n,x,l);default:return Promise.resolve()}}},zS=(n,r)=>(async(i,l)=>{const d=ST(l);if(await((m,p,x)=>{const v=FS(m,p?"content.inline":"content",x);switch(v._kind){case"load-raw":const{key:w,css:S}=v;return p?IS(m,w,S,m.ui.styleSheetLoader):m.on("PostRender",()=>{IS(m,w,S,m.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:k}=v;return x&&m.contentCSS.push(k),Promise.resolve();default:return Promise.resolve()}})(l,i,d),!T4(l)&&xe(d))return Promise.all([QP(l,d),JP(l,d)]).then()})(n,r).then((i=>{const l=()=>{i._skinLoaded=!0,(d=>{d.dispatch("SkinLoaded")})(i)};return()=>{i.initialized?l():i.on("init",l)}})(r),(i=>()=>((l,d)=>{l.dispatch("SkinLoadError",d)})(i,{message:"Skin could not be loaded"}))(r)),DO=nt(zS,!1),eI=nt(zS,!0),OO=n=>({isEnabled:()=>!Jt.isDisabled(n),setEnabled:r=>Jt.set(n,!r),setText:r=>oo(n,Nd,{text:r}),setIcon:r=>oo(n,z1,{icon:r})}),RO=n=>({setActive:r=>{Lo.set(n,r)},isActive:()=>Lo.isOn(n),isEnabled:()=>!Jt.isDisabled(n),setEnabled:r=>Jt.set(n,!r),setText:r=>oo(n,Nd,{text:r}),setIcon:r=>oo(n,z1,{icon:r})}),tI=(n,r)=>n.map(i=>({"aria-label":r.translate(i)})).getOr({}),oI=De("focus-button"),K0=(n,r,i,l,d,m,p)=>{const x=r.map(w=>On(MD(w,"tox-tbtn",d))),v=n.map(w=>On(Sf(w,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:{...tI(i,d),...ge(p)?{"data-mce-name":p}:{}}},components:U0([v.map(w=>w.asSpec()),x.map(w=>w.asSpec())]),eventOrder:{[Ki()]:["focusing","alloy.base.behaviour",Bp],[wc()]:[Bp,"toolbar-group-button-events"],[tu()]:[Bp,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:vt([o2(()=>d.checkUiComponentContext(m).shouldDisable),Hr(()=>d.checkUiComponentContext(m)),uo(Bp,[us((w,S)=>dS(w)),et(Nd,(w,S)=>{x.bind(k=>k.getOpt(w)).each(k=>{No.set(k,[Bs(d.translate(S.event.text))])})}),et(z1,(w,S)=>{v.bind(k=>k.getOpt(w)).each(k=>{No.set(k,[Sf(S.event.icon,d.icons)])})}),et(Ki(),(w,S)=>{S.event.prevent(),an(w,oI)})])].concat(l.getOr([])))}},VS=(n,r,i,l)=>{const d=Ot(we),m=K0(n.icon,n.text,n.tooltip,E.none(),i,n.context,l);return Ba.sketch({dom:m.dom,components:m.components,eventOrder:RD,buttonBehaviours:{...vt([uo("toolbar-button-events",[(p={onAction:n.onAction,getApi:r.getApi},ru((x,v)=>{O1(p,x)(w=>{oo(x,cS,{buttonApi:w}),p.onAction(w)})})),Od(r,d),R1(r,d)]),...n.tooltip.map(x=>bs.config(i.tooltips.getConfig({tooltipText:i.translate(x)+n.shortcut.map(v=>` (${E3(v)})`).getOr("")}))).toArray(),o2(()=>!n.enabled||i.checkUiComponentContext(n.context).shouldDisable),Hr(()=>i.checkUiComponentContext(n.context))].concat(r.toolbarButtonBehaviours)),[Bp]:m.buttonBehaviours?.[Bp]}});var p},NO=(n,r,i,l)=>VS(n,{toolbarButtonBehaviours:i.length>0?[uo("toolbarButtonWith",i)]:[],getApi:OO,onSetup:n.onSetup},r,l),H_=(n,r,i,l)=>VS(n,{toolbarButtonBehaviours:[No.config({}),Lo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[uo("toolbarToggleButtonWith",i)]:[]),getApi:RO,onSetup:n.onSetup},r,l),nI=(n,r,i)=>l=>on(d=>r.fetch(d)).map(d=>E.from(K3(Cs(L1(De("menu-value"),d,m=>{r.onItemAction(n(l),m)},r.columns,r.presets,Ic.CLOSE_ON_EXECUTE,r.select.getOr(Me),i),{movement:c2(r.columns,r.presets),menuBehaviours:t2(r.columns!=="auto"?[]:[us((m,p)=>{ms(m,4,jT(r.presets)).each(({numRows:x,numColumns:v})=>{Kt.setGridSize(m,x,v)})})])})))),$_=n=>{zs.getContent(n).each(r=>{ls(r.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold(()=>Kt.focusIn(r),vr)})},MO=De("forward-slide"),U_=De("backward-slide"),Z_=De("change-slide-event"),j_="tox-pop--resizing",Z1=(n,r,i)=>gc(i)?n.translate(r):n.translate([r,n.translate(i)]),Ef=(n,r)=>{const i=(m,p,x,v)=>{const w=n.shared.providers.translate(m.title);if(m.type==="separator")return E.some({type:"separator",text:w});if(m.type==="submenu"){const S=Uo(m.getStyleItems(),k=>l(k,p,v));return p===0&&S.length<=0?E.none():E.some({type:"nestedmenuitem",text:w,enabled:S.length>0,getSubmenuItems:()=>Uo(m.getStyleItems(),k=>l(k,p,v))})}return E.some({type:"togglemenuitem",text:w,icon:m.icon,active:m.isSelected(v),enabled:!x,onAction:r.onAction(m),...m.getStylePreview().fold(()=>({}),S=>({meta:{style:S}}))})},l=(m,p,x)=>{const v=m.type==="formatter"&&r.isInvalid(m);return p===0?v?[]:i(m,p,!1,x).toArray():i(m,p,v,x).toArray()},d=m=>{const p=r.getCurrentValue(),x=r.shouldHide?0:1;return Uo(m,v=>l(v,x,p))};return{validateItems:d,getFetch:(m,p)=>(x,v)=>{const w=p(),S=d(w);v(q0(S,Ic.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:E.none()}))}}},Su=(n,r)=>{const i=r.dataset,l=i.type==="basic"?()=>Ee(i.data,d=>nO(d,r.isSelectedFor,r.getPreviewFor)):i.getData;return{items:Ef(n,r),getStyleItems:l}},C2=(n,r,i,l,d,m)=>{const{items:p,getStyleItems:x}=Su(r,i),v=Ot(i.tooltip);return mS({context:"mode:design",text:i.icon.isSome()?E.none():i.text,icon:i.icon,ariaLabel:E.some(i.tooltip),tooltip:E.none(),role:E.none(),fetch:p.getFetch(r,x),onSetup:w=>{const S=k=>w.setTooltip(Z1(n,l(k.value),k.value));return n.on(d,S),l2(I1(n,"NodeChange",k=>{const A=k.getComponent();i.updateText(A),Jt.set(k.getComponent(),!n.selection.isEditable()||x().length===0)})(w),()=>n.off(d,S))},getApi:w=>({getComponent:se(w),setTooltip:S=>{const k=r.shared.providers.translate(S);io(w.element,"aria-label",k),v.set(S)}}),columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[bs.config({...r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(i.tooltip),onShow:w=>{if(i.tooltip!==v.get()){const S=r.shared.providers.translate(v.get());bs.setComponents(w,r.shared.providers.tooltips.getComponents({tooltipText:S}))}}})})]},"tox-tbtn",r.shared,m)};var Y0;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(Y0||(Y0={}));const W_=(n,r,i)=>{const l=(d=((m,p)=>p===Y0.SemiColon?m.replace(/;$/,"").split(";"):m.split(" "))(n.options.get(r),i),Ee(d,m=>{let p=m,x=m;const v=m.split("=");return v.length>1&&(p=v[0],x=v[1]),{title:p,format:x}}));var d;return{type:"basic",data:l}},BO=se("Alignment {0}"),HS="left",$S=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],PO=n=>{const r={type:"basic",data:$S};return{tooltip:Z1(n,BO(),HS),text:E.none(),icon:E.some("align-left"),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:E.none,getPreviewFor:i=>E.none,onAction:i=>()=>B($S,l=>l.format===i.format).each(l=>n.execCommand(l.command)),updateText:i=>{const l=B($S,d=>n.formatter.match(d.format)).fold(se(HS),d=>d.title.toLowerCase());oo(i,z1,{icon:`align-${l}`}),((d,m)=>{d.dispatch("AlignTextUpdate",m)})(n,{value:l})},dataset:r,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},IO=(n,r)=>{const i=r(),l=Ee(i,d=>d.format);return E.from(n.formatter.closest(l)).bind(d=>B(i,m=>m.format===d))},LO=se("Block {0}"),US="Paragraph",FO=n=>{const r=W_(n,"block_formats",Y0.SemiColon);return{tooltip:Z1(n,LO(),US),text:E.some(US),icon:E.none(),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:E.none,getPreviewFor:i=>()=>{const l=n.formatter.get(i);return l?E.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(i))}):E.none()},onAction:z3(n),updateText:i=>{const l=IO(n,()=>r.data).fold(se(US),d=>d.title);oo(i,Nd,{text:l}),((d,m)=>{d.dispatch("BlocksTextUpdate",m)})(n,{value:l})},dataset:r,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},zO=se("Font {0}"),ZS="System Font",jS=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],VO=n=>{const r=n.split(/\s*,\s*/);return Ee(r,i=>i.replace(/^['"]+|['"]+$/g,""))},HO=(n,r)=>r.length>0&&li(r,i=>n.indexOf(i.toLowerCase())>-1),$O=n=>{const r=()=>{const l=w=>w?VO(w)[0]:"",d=n.queryCommandValue("FontName"),m=i.data,p=d?d.toLowerCase():"",x=CT(n);return{matchOpt:B(m,w=>{const S=w.format;return S.toLowerCase()===p||l(S).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>Gs(((w,S)=>{if(w.indexOf("-apple-system")===0||S.length>0){const k=VO(w.toLowerCase());return HO(k,jS)||HO(k,S)}return!1})(p,x),{title:ZS,format:p})),font:d}},i=W_(n,"font_family_formats",Y0.SemiColon);return{tooltip:Z1(n,zO(),ZS),text:E.some(ZS),icon:E.none(),isSelectedFor:l=>d=>d.exists(m=>m.format===l),getCurrentValue:()=>{const{matchOpt:l}=r();return l},getPreviewFor:l=>()=>E.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:d,font:m}=r(),p=d.fold(se(m),x=>x.title);oo(l,Nd,{text:p}),((x,v)=>{x.dispatch("FontFamilyTextUpdate",v)})(n,{value:p})},dataset:i,shouldHide:!1,isInvalid:Me}};var k2=tinymce.util.Tools.resolve("tinymce.util.VK");const UO=se("Font size {0}"),ZO="12pt",sI={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},jO={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},rI=(n,r)=>/[0-9.]+px$/.test(n)?((i,l)=>{const d=Math.pow(10,l);return Math.round(i*d)/d})(72*parseInt(n,10)/96,r||0)+"pt":no(jO,n).getOr(n),aI=n=>no(sI,n).getOr(""),WO=n=>{const r=()=>{let d=E.none();const m=l.data,p=n.queryCommandValue("FontSize");if(p)for(let x=3;d.isNone()&&x>=0;x--){const v=rI(p,x),w=aI(v);d=B(m,S=>S.format===p||S.format===v||S.format===w)}return{matchOpt:d,size:p}},i=se(E.none),l=W_(n,"font_size_formats",Y0.Space);return{tooltip:Z1(n,UO(),ZO),text:E.some(ZO),icon:E.none(),isSelectedFor:d=>m=>m.exists(p=>p.format===d),getPreviewFor:i,getCurrentValue:()=>{const{matchOpt:d}=r();return d},onAction:d=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,d.format)})},updateText:d=>{const{matchOpt:m,size:p}=r(),x=m.fold(se(p),v=>v.title);oo(d,Nd,{text:x}),((v,w)=>{v.dispatch("FontSizeTextUpdate",w)})(n,{value:x})},dataset:l,shouldHide:!1,isInvalid:Me}},qO=n=>gc(n)?"Formats":"Format {0}",GO=(n,r)=>{const i="Formats";return{tooltip:Z1(n,qO(""),""),text:E.some(i),icon:E.none(),isSelectedFor:l=>()=>n.formatter.match(l),getCurrentValue:E.none,getPreviewFor:l=>()=>{const d=n.formatter.get(l);return d!==void 0?E.some({tag:d.length>0&&(d[0].inline||d[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(l))}):E.none()},onAction:z3(n),updateText:l=>{const d=x=>QD(x)?Uo(x.items,d):JD(x)?[{title:x.title,format:x.format}]:[],m=Uo(oO(n),d),p=IO(n,se(m)).fold(se({title:i,tooltipLabel:""}),x=>({title:x.title,tooltipLabel:x.title}));oo(l,Nd,{text:p.title}),((x,v)=>{x.dispatch("StylesTextUpdate",v)})(n,{value:p.tooltipLabel})},shouldHide:bf(n),isInvalid:l=>!n.formatter.canApply(l.format),dataset:r}},KO=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],X0=(n,r)=>(i,l,d,m)=>{const p=n(i).mapError(x=>Zu(x)).getOrDie();return r(p,l,d,m)},iI={button:X0(c_,(n,r,i,l)=>((d,m,p)=>NO(d,m,[],p))(n,r.shared.providers,l)),togglebutton:X0(y3,(n,r,i,l)=>((d,m,p)=>H_(d,m,[],p))(n,r.shared.providers,l)),menubutton:X0(m3,(n,r,i,l)=>h2(n,"tox-tbtn",r,E.none(),!1,l)),splitbutton:X0(n=>Ms("SplitButton",TB,n),(n,r,i,l)=>((d,m,p)=>{const x=Ot(we),v=Ot(d.tooltip.getOr("")),w=((V,H,Y)=>J=>{const me=J.getSystem(),ue=J.element,pe=()=>{const Ve=pr(ue,"tox-split-button__chevron");return{mainOpt:Ve?Zi(ue).bind(Le=>me.getByDom(Le).toOptional()):E.some(J),chevronOpt:Ve?E.some(J):ur(ue).bind(Le=>me.getByDom(Le).toOptional().filter(qe=>pr(qe.element,"tox-split-button__chevron")))}},He=Ve=>{const{mainOpt:Le,chevronOpt:qe}=pe();Le.each(Ve),qe.each(Ve)};return{isEnabled:()=>{const{mainOpt:Ve}=pe();return Ve.exists(Le=>!Jt.isDisabled(Le))},setEnabled:Ve=>He(Le=>Jt.set(Le,!Ve)),setText:Ve=>{const{mainOpt:Le}=pe();Le.each(qe=>oo(qe,Nd,{text:Ve}))},setIcon:Ve=>{const{mainOpt:Le}=pe();Le.each(qe=>oo(qe,z1,{icon:Ve}))},setIconFill:(Ve,Le)=>He(qe=>{ls(qe.element,`svg path[class="${Ve}"], rect[class="${Ve}"]`).each(ut=>{io(ut,"fill",Le)})}),isActive:()=>{const{mainOpt:Ve}=pe();return Ve.exists(Le=>Lo.isOn(Le))},setActive:Ve=>{const{mainOpt:Le}=pe();Le.each(qe=>Lo.set(qe,Ve))},setTooltip:Ve=>{V.set(Ve);const{mainOpt:Le,chevronOpt:qe}=pe();Le.each($t=>io($t.element,"aria-label",H.providers.translate(Ve)));const ut=Y.chevronTooltip.map($t=>H.providers.translate($t)).getOr(H.providers.translate(`${Ve} menu`));qe.each($t=>io($t.element,"aria-label",ut))}}})(v,m,d),S=De("tox-split-menu"),k=Ot(!1),A=()=>d.tooltip.map(V=>m.providers.translate(V)).getOr(m.providers.translate("Text color")),N=()=>d.chevronTooltip.map(V=>m.providers.translate(V)).getOrThunk(()=>{const V=A();return m.providers.translate(["{0} menu",V])}),I=(V,H)=>{k.set(V),io(H.element,"aria-expanded",String(V))},K=nl.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:VT("chevron-down",m.providers.icons),attributes:{"aria-label":N(),...ge(p)?{"data-mce-name":p+"-chevron"}:{},"aria-haspopup":"menu","aria-expanded":String(k.get()),"aria-controls":S}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:vt([uo("split-dropdown-events",[us((V,H)=>dS(V)),Od({getApi:w,onSetup:d.onSetup},x),et("alloy-dropdown-open",V=>I(!0,V)),et("alloy-dropdown-close",V=>I(!1,V))]),o2(()=>m.providers.checkUiComponentContext(d.context).shouldDisable),Hr(()=>m.providers.checkUiComponentContext(d.context)),x0.config({}),bs.config(m.providers.tooltips.getConfig({tooltipText:N(),onShow:V=>{if(v.get()!==d.tooltip.getOr("")){const H=d.chevronTooltip.map(Y=>m.providers.translate(Y)).getOr(`${m.providers.translate(v.get())} menu`);bs.setComponents(V,m.providers.tooltips.getComponents({tooltipText:H}))}}}))]),lazySink:m.getSink,fetch:nI(w,d,m.providers),getHotspot:V=>Zi(V.element).bind(H=>V.getSystem().getByDom(H).toOptional()),onOpen:(V,H,Y)=>{ln.highlightBy(Y,J=>pr(J.element,"tox-collection__item--active")),ln.getHighlighted(Y).each(Kt.focusIn)},parts:{menu:{...Zv(0,d.columns,d.presets),dom:{...Zv(0,d.columns,d.presets).dom,tag:"div",attributes:{id:S}}}}}),Z=K0(d.icon,d.text,E.none(),E.some([Lo.config({toggleClass:"tox-tbtn--enabled",aria:d.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),...d.tooltip.isSome()?[bs.config(m.providers.tooltips.getConfig({tooltipText:m.providers.translate(d.tooltip.getOr("")),onShow:V=>{if(v.get()!==d.tooltip.getOr("")){const H=m.providers.translate(v.get());bs.setComponents(V,m.providers.tooltips.getComponents({tooltipText:H}))}}}))]:[]]),m.providers,d.context,p);return[Ba.sketch({dom:{...Z.dom,classes:["tox-tbtn","tox-split-button__main"].concat(d.text.isSome()?["tox-tbtn--select"]:[]),attributes:{"aria-label":A(),...ge(p)?{"data-mce-name":p}:{}}},components:Z.components,eventOrder:Z.eventOrder,buttonBehaviours:Z.buttonBehaviours,action:V=>{if(d.onAction){const H=w(V);H.isEnabled()&&d.onAction(H)}}}),K]})(n,r.shared,l)),grouptoolbarbutton:X0(n=>Ms("GroupToolbarButton",AB,n),(n,r,i,l)=>{const d=i.ui.registry.getAll().buttons,m={[Dh]:r.shared.header.isPositionedAtTop()?nu.TopToBottom:nu.BottomToTop};if(x1(i)===wi.floating)return((p,x,v,w,S)=>{const k=x.shared,A=Ot(we),N={toolbarButtonBehaviours:[],getApi:OO,onSetup:p.onSetup},I=[uo("toolbar-group-button-events",[Od(N,A),R1(N,A)]),...p.tooltip.map(K=>bs.config(x.shared.providers.tooltips.getConfig({tooltipText:x.shared.providers.translate(K)}))).toArray()];return gf.sketch({lazySink:k.getSink,fetch:()=>on(K=>{K(Ee(v(p.items),L_))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:K0(p.icon,p.text,p.tooltip,E.some(I),k.providers,p.context,S),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:w}}}})})(n,r,p=>q_(i,{buttons:d,toolbar:p,allowToolbarGroups:!1},r,E.none()),m,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},YO={styles:(n,r)=>{const i={type:"advanced",...r.styles};return C2(n,r,GO(n,i),qO,"StylesTextUpdate","styles")},fontsize:(n,r)=>C2(n,r,WO(n),UO,"FontSizeTextUpdate","fontsize"),fontsizeinput:(n,r)=>((i,l,d,m)=>{let p=E.none();const x=I1(i,"NodeChange SwitchMode DisabledStateChange",Y=>{const J=Y.getComponent();p=E.some(J),d.updateInputValue(J),Jt.set(J,!i.selection.isEditable()||mm(i))}),v=Y=>({getComponent:se(Y)}),w=Ot(we),S=De("custom-number-input-events"),k=(Y,J,me)=>{const ue=p.map(qe=>Vt.getValue(qe)).getOr(""),pe=d.getNewValue(ue,Y),He=ue.length-`${pe}`.length,Ve=p.map(qe=>qe.element.dom.selectionStart-He),Le=p.map(qe=>qe.element.dom.selectionEnd-He);d.onAction(pe,me),p.each(qe=>{Vt.setValue(qe,pe),J&&(Ve.each(ut=>qe.element.dom.selectionStart=ut),Le.each(ut=>qe.element.dom.selectionEnd=ut))})},A=(Y,J)=>k((me,ue)=>me-ue,Y,J),N=(Y,J)=>k((me,ue)=>me+ue,Y,J),I=Y=>pa(Y.element).fold(E.none,J=>(vr(J),E.some(!0))),K=Y=>jd(Y.element)?(ka(Y.element).each(J=>vr(J)),E.some(!0)):E.none(),Z=(Y,J,me,ue)=>{const pe=Ot(we),He=l.shared.providers.translate(me),Ve=De("altExecuting"),Le=I1(i,"NodeChange SwitchMode DisabledStateChange",ut=>{Jt.set(ut.getComponent(),!i.selection.isEditable()||mm(i))}),qe=ut=>{Jt.isDisabled(ut)||Y(!0)};return Ba.sketch({dom:{tag:"button",attributes:{"aria-label":He,"data-mce-name":J},classes:ue.concat(J)},components:[uS(J,l.shared.providers.icons)],buttonBehaviours:vt([Jt.config({}),bs.config(l.shared.providers.tooltips.getConfig({tooltipText:He})),uo(Ve,[Od({onSetup:Le,getApi:v},pe),R1({getApi:v},pe),et(yc(),(ut,$t)=>{$t.event.raw.keyCode!==k2.SPACEBAR&&$t.event.raw.keyCode!==k2.ENTER||Jt.isDisabled(ut)||Y(!1)}),et(jm(),qe),et(Um(),qe)])]),eventOrder:{[yc()]:[Ve,"keying"],[jm()]:[Ve,"alloy.base.behaviour"],[Um()]:[Ve,"alloy.base.behaviour"],[wc()]:["alloy.base.behaviour",Ve,"tooltipping"],[tu()]:[Ve,"tooltipping"]}})},q=On(Z(Y=>A(!1,Y),"minus","Decrease font size",[])),V=On(Z(Y=>N(!1,Y),"plus","Increase font size",[])),H=On({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[mg.sketch({inputBehaviours:vt([Jt.config({}),uo(S,[Od({onSetup:x,getApi:v},w),R1({getApi:v},w)]),uo("input-update-display-text",[et(Nd,(Y,J)=>{Vt.setValue(Y,J.event.text)}),et(Rx(),Y=>{d.onAction(Vt.getValue(Y))}),et(Zm(),Y=>{d.onAction(Vt.getValue(Y))})]),Kt.config({mode:"special",onEnter:Y=>(k(We,!0,!0),E.some(!0)),onEscape:I,onUp:Y=>(N(!0,!1),E.some(!0)),onDown:Y=>(A(!0,!1),E.some(!0)),onLeft:(Y,J)=>(J.cut(),E.none()),onRight:(Y,J)=>(J.cut(),E.none())})])})],behaviours:vt([vo.config({}),Kt.config({mode:"special",onEnter:K,onSpace:K,onEscape:I}),uo("input-wrapper-events",[et(ei(),Y=>{yt([q,V],J=>{const me=Ft(J.get(Y).element.dom);jd(me)&&gl(me)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...ge(m)?{"data-mce-name":m}:{}}},components:[q.asSpec(),H.asSpec(),V.asSpec()],behaviours:vt([vo.config({}),Kt.config({mode:"flow",focusInside:ht.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Y=>jd(Y.element)?E.none():(vr(Y.element),E.some(!0))})])}})(n,r,(i=>{const l=()=>i.queryCommandValue("FontSize");return{updateInputValue:d=>oo(d,Nd,{text:l()}),onAction:(d,m)=>i.execCommand("FontSize",!1,d,{skip_focus:!m}),getNewValue:(d,m)=>{pc(d,["unsupportedLength","empty"]);const p=l(),x=pc(d,["unsupportedLength","empty"]).or(pc(p,["unsupportedLength","empty"])),v=x.map(N=>N.value).getOr(16),w=xT(i),S=x.map(N=>N.unit).filter(N=>N!=="").getOr(w),k=m(v,(N=>({em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}})[N]??{step:1})(S).step),A=`${(N=>N>=0)(k)?k:v}${S}`;return A!==p&&((N,I)=>{N.dispatch("FontSizeInputTextUpdate",I)})(i,{value:A}),A}}})(n),"fontsizeinput"),fontfamily:(n,r)=>C2(n,r,$O(n),zO,"FontFamilyTextUpdate","fontfamily"),blocks:(n,r)=>C2(n,r,FO(n),LO,"BlocksTextUpdate","blocks"),align:(n,r)=>C2(n,r,PO(n),BO,"AlignTextUpdate","align"),navigateback:(n,r)=>{const i=Bi(c_({type:"button",icon:"chevron-left",tooltip:"Back",onAction:we}));return NO(i,r.shared.providers,[et(cS,l=>{an(l,U_)})])}},q_=(n,r,i,l)=>{const d=(p=>{const x=p.toolbar,v=p.buttons;return x===!1?[]:x===void 0||x===!0?(w=>{const S=Ee(KO,k=>{const A=Oo(k.items,N=>cn(w,N)||cn(YO,N));return{name:k.name,items:A}});return Oo(S,k=>k.items.length>0)})(v):xe(x)?(w=>{const S=w.split("|");return Ee(S,k=>({items:k.trim().split(" ")}))})(x):(w=>Gt(w,S=>(cn(S,"name")||cn(S,"label"))&&cn(S,"items")))(x)?x:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(r),m=Ee(d,p=>{const x=Uo(p.items,v=>v.trim().length===0?[]:((w,S,k,A,N,I)=>no(S,k.toLowerCase()).orThunk(()=>I.bind(K=>gn(K,Z=>no(S,Z+k.toLowerCase())))).fold(()=>no(YO,k.toLowerCase()).map(K=>K(w,N)),K=>K.type!=="grouptoolbarbutton"||A?((Z,q,V,H)=>no(iI,Z.type).fold(()=>(console.error("skipping button defined by",Z),E.none()),Y=>E.some(Y(Z,q,V,H))))(K,N,w,k.toLowerCase()):(console.warn(`Ignoring the '${k}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),E.none())))(n,r.buttons,v,r.allowToolbarGroups,i,l).map(w=>Array.isArray(w)?w:[w]).getOr([]));return{title:E.from(n.translate(p.name)),label:Gs(p.label!==void 0,n.translate(p.label)),items:x}});return Oo(m,p=>p.items.length>0)},XO=(n,r,i,l)=>{const d=r.mainUi.outerContainer,m=i.toolbar,p=i.buttons;if(Gt(m,xe)){const x=m.map(v=>{const w={toolbar:v,buttons:p,allowToolbarGroups:i.allowToolbarGroups};return q_(n,w,l,E.none())});ss.setToolbars(d,x)}else ss.setToolbar(d,q_(n,i,l,E.none()))},QO=Se(),JO=QO.os.isiOS()&&QO.os.version.major<=12;var Q0=Object.freeze({__proto__:null,render:(n,r,i,l,d)=>{const{mainUi:m,uiMotherships:p}=r,x=Ot(0),v=m.outerContainer;DO(n);const w=Ft(d.targetNode),S=Ng(Qr(w));rm(w,m.mothership),((I,K,Z)=>{vf(I)&&rm(Z.mainUi.mothership.element,Z.popupUi.mothership),Dy(K,Z.dialogUi.mothership)})(n,S,r),n.on("PostRender",()=>{ss.setSidebar(v,i.sidebar,wT(n))}),n.on("SkinLoaded",()=>{XO(n,r,i,l),x.set(n.getWin().innerWidth),ss.setMenubar(v,TO(n,i)),ss.setViews(v,i.views),((I,K)=>{const{uiMotherships:Z}=K,q=I.dom;let V=I.getWin();const H=I.getDoc().documentElement,Y=Ot(Ns(V.innerWidth,V.innerHeight)),J=Ot(Ns(H.offsetWidth,H.offsetHeight)),me=()=>{const Ve=Y.get();Ve.left===V.innerWidth&&Ve.top===V.innerHeight||(Y.set(Ns(V.innerWidth,V.innerHeight)),h_(I))},ue=()=>{const Ve=I.getDoc().documentElement,Le=J.get();Le.left===Ve.offsetWidth&&Le.top===Ve.offsetHeight||(J.set(Ns(Ve.offsetWidth,Ve.offsetHeight)),h_(I))},pe=Ve=>{((Le,qe)=>{Le.dispatch("ScrollContent",qe)})(I,Ve)};q.bind(V,"resize",me),q.bind(V,"scroll",pe);const He=tb(Ft(I.getBody()),"load",ue);I.on("hide",()=>{yt(Z,Ve=>{Ro(Ve.element,"display","none")})}),I.on("show",()=>{yt(Z,Ve=>{pn(Ve.element,"display")})}),I.on("NodeChange",ue),I.on("remove",()=>{He.unbind(),q.unbind(V,"resize",me),q.unbind(V,"scroll",pe),V=null})})(n,r)});const k=ss.getSocket(v).getOrDie("Could not find expected socket element");if(JO){oe(k.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const I=(Z=>{let q=null;return{cancel:()=>{lt(q)||(clearTimeout(q),q=null)},throttle:(...V)=>{lt(q)&&(q=setTimeout(()=>{q=null,Z.apply(null,V)},20))}}})(()=>{n.dispatch("ScrollContent")}),K=Fa(k.element,"scroll",I.throttle);n.on("remove",K.unbind)}s2(n,r),n.addCommand("ToggleSidebar",(I,K)=>{ss.toggleSidebar(v,K),(Z=>{Z.dispatch("ToggleSidebar")})(n)}),n.addQueryValueHandler("ToggleSidebar",()=>ss.whichSidebar(v)??""),n.addCommand("ToggleView",(I,K)=>{if(ss.toggleView(v,K)){const Z=v.element;m.mothership.broadcastOn([xd()],{target:Z}),yt(p,q=>{q.broadcastOn([xd()],{target:Z})}),lt(ss.whichView(v))&&(n.focus(),n.nodeChanged(),ss.refreshToolbar(v)),(q=>{q.dispatch("ToggleView")})(n)}}),n.addQueryValueHandler("ToggleView",()=>ss.whichView(v)??"");const A=x1(n);A!==wi.sliding&&A!==wi.floating||n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const I=n.getWin().innerWidth;I!==x.get()&&(ss.refreshToolbar(r.mainUi.outerContainer),x.set(I))});const N={setEnabled:I=>{$0(r,I?"setEnabled":"setDisabled")},isEnabled:()=>!Jt.isDisabled(v)};return{iframeContainer:k.element.dom,editorContainer:v.element.dom,api:N}}});const WS=n=>St(n)?n+"px":n,G_=(n,r,i)=>{const l=r.filter(m=>n<m),d=i.filter(m=>n>m);return l.or(d).getOr(n)},e8=n=>{const r=Ow(n),i=p4(n),l=_p(n);return(d=r,/^[0-9\.]+(|px)$/i.test(""+d)?E.some(parseInt(""+d,10)):E.none()).map(m=>G_(m,i,l));var d},{ToolbarLocation:J0,ToolbarMode:Fc}=TT,qS=(n,r,i,l,d)=>{const{mainUi:m,uiMotherships:p}=i,x=Nv.DOM,v=w1(n),w=M0(n),S=_p(n).or(e8(n)),k=l.shared.header,A=k.isPositionedAtTop,N=x1(n),I=N===Fc.sliding||N===Fc.floating,K=Ot(!1),Z=()=>K.get()&&!n.removed,q=J=>I?J.fold(se(0),me=>me.components().length>1?Rr(me.components()[1].element):0):0,V=()=>{yt(p,J=>{J.broadcastOn([oi()],{})})},H=J=>{if(!Z())return;v||d.on(pe=>{const He=S.getOrThunk(()=>mb().width-Nm(r).left-10);Ro(pe.element,"max-width",He+"px")});const me=Oi(),ue=!(v||v||!(Nr(m.outerContainer.element).left+Gd(m.outerContainer.element)>=window.innerWidth-40||gr(m.outerContainer.element,"width").isSome())||(Ro(m.outerContainer.element,"position","absolute"),Ro(m.outerContainer.element,"left","0px"),pn(m.outerContainer.element,"width"),0));if(I&&ss.refreshToolbar(m.outerContainer),!v){const pe=Oi(),He=Gs(me.left!==pe.left,me);((Ve,Le)=>{d.on(qe=>{const ut=ss.getToolbar(m.outerContainer),$t=q(ut),lo=yr(r),fo=((ao,es)=>vf(ao)?Wr(es):E.none())(n,m.outerContainer.element),qo=fo.fold(()=>lo.x,ao=>{const es=yr(ao);return Xo(ao,mr())?lo.x:lo.x-es.x}),Sn=Gs(Ve,Math.ceil(m.outerContainer.element.dom.getBoundingClientRect().width)).filter(ao=>ao>150).map(ao=>{const es=Le.getOr(Oi()),xo=window.innerWidth-(qo-es.left),ps=Math.max(Math.min(ao,xo),150);return xo<ao&&Ro(m.outerContainer.element,"width",ps+"px"),{width:ps+"px"}}).getOr({width:"max-content"}),Jn={position:"absolute",left:Math.round(qo)+"px",top:fo.fold(()=>A()?Math.max(lo.y-Rr(qe.element)+$t,0):lo.bottom,ao=>{const es=yr(ao),xo=ao.dom.scrollTop??0,ps=Xo(ao,mr())?Math.max(lo.y-Rr(qe.element)+$t,0):lo.y-es.y+xo-Rr(qe.element)+$t;return A()?ps:lo.bottom})+"px"};oe(m.outerContainer.element,{...Jn,...Sn})})})(ue,He),He.each(Ve=>{jo(Ve.left,pe.top)})}w&&d.on(J),V()},Y=()=>!(v||!w||!Z())&&d.get().exists(J=>{const me=k.getDockingMode(),ue=(He=>{switch(gm(n)){case J0.auto:const Ve=ss.getToolbar(m.outerContainer),Le=q(Ve),qe=Rr(He.element)-Le,ut=yr(r);if(ut.y>qe)return"top";{const $t=is(r),lo=Math.max($t.dom.scrollHeight,Rr($t));return ut.bottom<lo-qe||Qs().bottom<ut.bottom-qe?"bottom":"top"}case J0.bottom:return"bottom";case J0.top:default:return"top"}})(J);return ue!==me&&(pe=ue,d.on(He=>{Fs.setModes(He,[pe]),k.setDockingMode(pe);const Ve=A()?nu.TopToBottom:nu.BottomToTop;io(He.element,Dh,Ve)}),!0);var pe});return{isVisible:Z,isPositionedAtTop:A,show:()=>{K.set(!0),Ro(m.outerContainer.element,"display","flex"),x.addClass(n.getBody(),"mce-edit-focus"),yt(p,J=>{pn(J.element,"display")}),Y(),vf(n)?H(J=>Fs.isDocked(J)?Fs.reset(J):Fs.refresh(J)):H(Fs.refresh)},hide:()=>{K.set(!1),Ro(m.outerContainer.element,"display","none"),x.removeClass(n.getBody(),"mce-edit-focus"),yt(p,J=>{Ro(J.element,"display","none")})},update:H,updateMode:()=>{Y()&&H(Fs.reset)},repositionPopups:V}},GS=(n,r)=>{const i=yr(n);return{pos:r?i.y:i.bottom,bounds:i}};var lI=Object.freeze({__proto__:null,render:(n,r,i,l,d)=>{const{mainUi:m}=r,p=zn(),x=Ft(d.targetNode),v=qS(n,x,r,l,p),w=y4(n);eI(n);const S=()=>{if(p.isSet())return void v.show();p.set(ss.getHeader(m.outerContainer).getOrDie());const A=Iw(n);vf(n)?(rm(x,m.mothership),rm(x,r.popupUi.mothership)):Dy(A,m.mothership),Dy(A,r.dialogUi.mothership);const N=()=>{XO(n,r,i,l),ss.setMenubar(m.outerContainer,TO(n,i)),v.show(),((I,K,Z,q)=>{const V=Ot(GS(K,Z.isPositionedAtTop())),H=ue=>{const{pos:pe,bounds:He}=GS(K,Z.isPositionedAtTop()),{pos:Ve,bounds:Le}=V.get(),qe=He.height!==Le.height||He.width!==Le.width;V.set({pos:pe,bounds:He}),qe&&h_(I,ue),Z.isVisible()&&(Ve!==pe?Z.update(Fs.reset):qe&&(Z.updateMode(),Z.repositionPopups()))};q||(I.on("activate",Z.show),I.on("deactivate",Z.hide)),I.on("SkinLoaded ResizeWindow",()=>Z.update(Fs.reset)),I.on("NodeChange keydown",ue=>{requestAnimationFrame(()=>H(ue))});let Y=0;const J=Pu(()=>Z.update(Fs.refresh),33);I.on("ScrollWindow",()=>{const ue=Oi().left;ue!==Y&&(Y=ue,J.throttle()),Z.updateMode()}),vf(I)&&I.on("ElementScroll",ue=>{Z.update(Fs.refresh)});const me=Zr();me.set(tb(Ft(I.getBody()),"load",ue=>H(ue.raw))),I.on("remove",()=>{me.clear()})})(n,x,v,w),n.nodeChanged()};w?n.once("SkinLoaded",N):N()};n.on("show",S),n.on("hide",v.hide),w||(n.on("focus",S),n.on("blur",v.hide)),n.on("init",()=>{(n.hasFocus()||w)&&S()}),s2(n,r);const k={show:S,hide:v.hide,setEnabled:A=>{$0(r,A?"setEnabled":"setDisabled")},isEnabled:()=>!Jt.isDisabled(m.outerContainer)};return{editorContainer:m.outerContainer.element.dom,api:k}}});const t8="contexttoolbar-hide",KS=(n,r,i)=>({setInputEnabled:l=>{!l&&i&&vr(i),Jt.set(n,!l)},isInputEnabled:()=>!Jt.isDisabled(n),hide:()=>{an(n,ch())},back:()=>{an(n,U_)},getValue:()=>r.get().getOrThunk(()=>Vt.getValue(n)),setValue:l=>{n.getSystem().isConnected()?Vt.setValue(n,l):r.set(l)}}),K_=(n,r,i)=>{const l=Hn(n.element).bind(d=>n.getSystem().getByDom(d).toOptional());return KS(l.getOr(n),r,i)},YS=(n,r,i)=>et(cS,(l,d)=>{const m=n.get(l),p=KS(m,i,l.element);r.onAction(p,d.event.buttonApi)}),XS=(n,r,i,l)=>{const d=Ee(r,m=>On(((p,x,v,w)=>(S=>S.type==="contextformtogglebutton")(x)?((S,k,A,N)=>{const{primary:I,...K}=k.original,Z=Bi(y3({...K,type:"togglebutton",onAction:we}));return H_(Z,A,[YS(S,k,N)])})(p,x,v,w):((S,k,A,N)=>{const{primary:I,...K}=k.original,Z=Bi(c_({...K,type:"button",onAction:we}));return NO(Z,A,[YS(S,k,N)])})(p,x,v,w))(n,m,i,l)));return{asSpecs:()=>Ee(d,m=>m.asSpec()),findPrimary:m=>gn(r,(p,x)=>p.primary?E.from(d[x]).bind(v=>v.getOpt(m)).filter(Ko(Jt.isDisabled)):E.none())}},cI=(n,r,i,l)=>{const{width:d,height:m}=n.initValue();let p=O_;const x=De("ratio-event"),v=ue=>KS(ue,l),w=ue=>Pc(ue,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ue]},r.icons),S=()=>!1,k=n.label.getOr("Constrain proportions"),A=r.translate(k),N=ir.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":A,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:vt([Jt.config({disabled:S}),Un.config({}),bs.config(r.tooltips.getConfig({tooltipText:A}))])}),I=ue=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:ue}),K=ue=>ea(ue.element,"div.tox-focusable-wrapper").fold(E.none,pe=>(vr(pe),E.some(!0))),Z=ue=>en.parts.field({factory:mg,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:ue?d:m,inputBehaviours:vt([Jt.config({disabled:S}),Un.config({}),uo("size-input-toolbar-events",[et(jl(),(pe,He)=>{oo(pe,x,{isField1:ue})})]),Kt.config({mode:"special",onEnter:i,onEscape:K})]),selectOnFocus:!1}),q=ue=>({dom:{tag:"label",classes:["tox-label"]},components:[Bs(r.translate(ue))]}),V=ue=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[ue],behaviours:vt([Un.config({}),vo.config({}),Kt.config({mode:"special",onEnter:pe=>ls(pe.element,"input").fold(E.none,He=>(vr(He),E.some(!0)))})])}),H=V(ir.parts.field1(I([en.parts.label(q("Width:")),Z(!0)]))),Y=V(ir.parts.field2(I([en.parts.label(q("Height:")),Z(!1)]))),J=Ot(we),me=[Od({onBeforeSetup:ue=>ls(ue.element,"input").each(vr),onSetup:n.onSetup,getApi:v},J),n2({getApi:v},J,l)];return ir.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[H,I([N]),Y],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ue,pe,He)=>{p2(Vt.getValue(ue)).each(Ve=>{p(Ve).each(Le=>{Vt.setValue(pe,D_(Le))})})},onInput:ue=>an(ue,mD),coupledFieldBehaviours:vt([vo.config({}),Kt.config({mode:"flow",focusInside:ht.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Jt.config({disabled:S,onDisabled:ue=>{ir.getField1(ue).bind(en.getField).each(Jt.disable),ir.getField2(ue).bind(en.getField).each(Jt.disable),ir.getLock(ue).each(Jt.disable)},onEnabled:ue=>{ir.getField1(ue).bind(en.getField).each(Jt.enable),ir.getField2(ue).bind(en.getField).each(Jt.enable),ir.getLock(ue).each(Jt.enable)}}),Hr(()=>r.checkUiComponentContext("mode:design")),uo("size-input-toolbar-events2",[et(x,(ue,pe)=>{const He=pe.event.isField1,Ve=He?ir.getField1(ue):ir.getField2(ue),Le=He?ir.getField2(ue):ir.getField1(ue),qe=Ve.map(Vt.getValue).getOr(""),ut=Le.map(Vt.getValue).getOr("");p=pS(qe,ut)}),et(mD,ue=>n.onInput(v(ue))),...me])])})},o8=(n,r,i)=>en.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...n.toArray(),r],fieldBehaviours:vt([Jt.config({disabled:()=>i.checkUiComponentContext("mode:design").shouldDisable,onDisabled:l=>{(d=>{za(d.element).each(m=>{ea(m,'[tabindex="-1"]').each(p=>{vr(p)})})})(l),en.getField(l).each(Jt.disable)},onEnabled:l=>{en.getField(l).each(Jt.enable)}})])}),n8=(n,r,i,l)=>{const d=Ot(we),m=v=>K_(v,l),p=n.label.map(v=>en.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Bs(r.translate(v))]})),x=en.parts.field({factory:mg,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(n.min()),max:String(n.max())},data:n.initValue().toString(),fromInputValue:v=>(w=>{const S=parseFloat(w);return isNaN(S)?E.none():E.some(S)})(v).getOr(n.min()),toInputValue:v=>String(v),inputBehaviours:vt([Jt.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),Hr(()=>r.checkUiComponentContext("mode:design")),Kt.config({mode:"special",onEnter:i,onLeft:(v,w)=>(w.cut(),E.none()),onRight:(v,w)=>(w.cut(),E.none())}),uo("slider-events",[Od({onSetup:n.onSetup,getApi:m,onBeforeSetup:Kt.focusIn},d),n2({getApi:m},d,l),et(ud(),v=>{n.onInput(m(v))})])])});return o8(p,x,r)},dI=(n,r,i,l)=>{const d=Ot(we),m=w=>K_(w,l),p=n.label.map(w=>en.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Bs(r.translate(w))]})),x={...n.placeholder.map(w=>({placeholder:r.translate(w)})).getOr({})},v=en.parts.field({factory:mg,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:x,data:n.initValue(),selectOnFocus:!0,inputBehaviours:vt([Jt.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),Hr(()=>r.checkUiComponentContext("mode:design")),Kt.config({mode:"special",onEnter:i,onLeft:(w,S)=>(S.cut(),E.none()),onRight:(w,S)=>(S.cut(),E.none())}),uo("input-events",[Od({onSetup:n.onSetup,getApi:w=>ea(w.element,".tox-toolbar").bind(S=>ls(S,"button:enabled")).fold(()=>K_(w,l),S=>K_(w,l,S)),onBeforeSetup:Kt.focusIn},d),n2({getApi:m},d,l),et(ud(),w=>{n.onInput(m(w))})])])});return o8(p,v,r)},Y_=(n,r,i)=>{const l=zn(),d=On(n(i,v=>p.findPrimary(v).orThunk(()=>x.findPrimary(v)).map(w=>(Xg(w),!0)),l)),m=un(r.commands,v=>v.align==="start"),p=XS(d,m.pass,i,l),x=XS(d,m.fail,i,l);return Oo([{title:E.none(),label:E.none(),items:p.asSpecs()},{title:E.none(),label:E.none(),items:[d.asSpec()]},{title:E.none(),label:E.none(),items:x.asSpecs()}],v=>v.items.length>0)},s8=(n,r)=>{switch(n.type){case"contextform":return Y_(nt(dI,n),n,r);case"contextsliderform":return Y_(nt(n8,n),n,r);case"contextsizeinputform":return Y_(nt(cI,n),n,r)}},QS=(n,r,i)=>r.bottom-n.y>=i&&n.bottom-r.y>=i,JS=n=>{const r=(i=>{const l=i.getBoundingClientRect();if(l.height<=0&&l.width<=0){const d=Kp(Ft(i.startContainer),i.startOffset).element;return(P(d)?Hn(d):E.some(d)).filter(Qo).map(m=>m.dom.getBoundingClientRect()).getOr(l)}return l})(n.selection.getRng());if(n.inline){const i=Oi();return dn(i.left+r.left,i.top+r.top,r.width,r.height)}{const i=Hu(Ft(n.getBody()));return dn(i.x+r.left,i.y+r.top,r.width,r.height)}},r8=(n,r,i,l=0)=>{const d=mb(window),m=yr(Ft(n.getContentAreaContainer())),p=Pv(n)||Iv(n)||Lv(n),{x,width:v}=((w,S,k)=>{const A=Math.max(w.x+k,S.x);return{x:A,width:Math.min(w.right-k,S.right)-A}})(m,d,l);if(n.inline&&!p)return dn(x,d.y,v,d.height);{const w=r.header.isPositionedAtTop(),{y:S,bottom:k}=((A,N,I,K,Z,q)=>{const V=Ft(A.getContainer()),H=ls(V,".tox-editor-header").getOr(V),Y=yr(H),J=Y.y>=N.bottom,me=K&&!J;if(A.inline&&me)return{y:Math.max(Y.bottom+q,I.y),bottom:I.bottom};if(A.inline&&!me)return{y:I.y,bottom:Math.min(Y.y-q,I.bottom)};const ue=Z==="line"?yr(V):N;return me?{y:Math.max(Y.bottom+q,I.y),bottom:Math.min(ue.bottom-q,I.bottom)}:{y:Math.max(ue.y+q,I.y),bottom:Math.min(Y.y-q,I.bottom)}})(n,m,d,w,i,l);return dn(x,S,v,k-S)}},a8={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},i8={maxHeightFunction:Qu(),maxWidthFunction:Ub()},l8=n=>n==="node",X_=(n,r,i,l,d)=>{const m=JS(n),p=l.lastElement().exists(x=>Xo(i,x));return((x,v)=>{const w=x.selection.getRng(),S=Kp(Ft(w.startContainer),w.startOffset);return w.startContainer===w.endContainer&&w.startOffset===w.endOffset-1&&Xo(S.element,v)})(n,i)?p?$b:Yl:p?((x,v)=>{const w=gr(x,"position");Ro(x,"position",v);const S=QS(m,yr(r),-20)&&!l.isReposition()?py:$b;return w.each(k=>Ro(x,"position",k)),S})(r,l.getMode()):(l.getMode()==="fixed"?d.y+Oi().top:d.y)+(Rr(r)+12)<=m.y?Yl:Th},wg=(n,r,i,l)=>{const d=p=>(x,v,w,S,k)=>({...X_(n,S,p,i,k)({...x,y:k.y,height:k.height},v,w,S,k),alwaysFit:!0}),m=p=>l8(l)?[d(p)]:[];return r?{onLtr:p=>[Lr,Cr,Ir,ba,Ra,sa].concat(m(p)),onRtl:p=>[Lr,Ir,Cr,Ra,ba,sa].concat(m(p))}:{onLtr:p=>[sa,Lr,ba,Cr,Ra,Ir].concat(m(p)),onRtl:p=>[sa,Lr,Ra,Ir,ba,Cr].concat(m(p))}},Q_=(n,r)=>{const i=Oo(r,m=>m.predicate(n.dom)),{pass:l,fail:d}=un(i,m=>m.type==="contexttoolbar");return{contextToolbars:l,contextForms:d}},Md=(n,r)=>{const i={},l=[],d=[],m={},p={},x=Zo(n);return yt(x,v=>{const w=n[v];w.type==="contextform"||w.type==="contextsliderform"||w.type==="contextsizeinputform"?((S,k)=>{const A=Bi(Ms("ContextForm",vB,k));i[S]=A,A.launch.map(N=>{m["form:"+S]={...k.launch,type:N.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(A)}}}),A.scope==="editor"?d.push(A):l.push(A),p[S]=A})(v,w):w.type==="contexttoolbar"&&((S,k)=>{var A;(A=k,Ms("ContextToolbar",wB,A)).each(N=>{N.launch.isSome()&&(m["toolbar:"+S]={...k.launch,type:"button",onAction:()=>{r(N)}}),k.scope==="editor"?d.push(N):l.push(N),p[S]=N})})(v,w)}),{forms:i,inNodeScope:l,inEditorScope:d,lookupTable:p,formNavigators:m}},eE="tox-pop--transition",J_=(n,r,i,l)=>{const d=l.backstage,m=d.shared,p=Se().deviceType.isTouch,x=zn(),v=zn(),w=zn(),S=(pe=>{const He=Ot([]);return{sketch:zs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Le=>{He.set([]),zs.getContent(Le).each(qe=>{pn(qe.element,"visibility")}),rn(Le.element,j_),pn(Le.element,"width")},onHide:()=>{He.set([]),pe.onHide()},inlineBehaviours:vt([uo("context-toolbar-events",[bd(Yf(),(Le,qe)=>{qe.event.raw.propertyName==="width"&&(rn(Le.element,j_),pn(Le.element,"width"))}),et(Z_,(Le,qe)=>{const ut=Le.element;pn(ut,"width");const $t=Ln(ut),lo=za(Le.element).isSome();pn(ut,"left"),pn(ut,"right"),pn(ut,"max-width"),zs.setContent(Le,qe.event.contents),Ss(ut,j_);const fo=Ln(ut);Ro(ut,"transition","none"),zs.reposition(Le),pn(ut,"transition"),Ro(ut,"width",$t+"px"),qe.event.focus.fold(()=>{lo&&$_(Le)},qo=>{od(Qr(Le.element)).fold(()=>vr(qo),Sn=>{Xo(Sn,qo)||pe.focusElement(qo)})}),setTimeout(()=>{Ro(Le.element,"width",fo+"px")},0)}),et(MO,(Le,qe)=>{zs.getContent(Le).each(ut=>{He.set(He.get().concat([{bar:ut,focus:od(Qr(Le.element))}]))}),oo(Le,Z_,{contents:qe.event.forwardContents,focus:E.none()})}),et(U_,(Le,qe)=>{pe.onBack(),xt(He.get()).each(ut=>{He.set(He.get().slice(0,He.get().length-1)),oo(Le,Z_,{contents:Oc(ut.bar),focus:ut.focus})})})]),Kt.config({mode:"special",onEscape:Le=>xt(He.get()).fold(()=>pe.onEscape(),qe=>(an(Le,U_),E.some(!0)))})]),lazySink:()=>Jo.value(pe.sink)}),inSubtoolbar:()=>He.get().length>0}})({sink:i,onEscape:()=>(n.focus(),q6(n),E.some(!0)),onHide:()=>{q6(n)},onBack:()=>{(pe=>{pe.dispatch("ContextFormSlideBack")})(n)},focusElement:pe=>{n.getBody().contains(pe.dom)?n.focus():vr(pe)}}),k=ni(S.sketch),A=()=>{const pe=w.get().getOr("node"),He=l8(pe)?1:0;return r8(n,m,pe,He)},N=()=>!(n.removed||p()&&d.isContextMenuOpen()),I=()=>{if(N()){const pe=A(),He=jn(w.get(),"node")?((Ve,Le)=>Le.filter(qe=>ct(qe)&&Yn(qe)).map(Hu).getOrThunk(()=>JS(Ve)))(n,x.get()):JS(n);return pe.height<=0||!QS(He,pe,.01)}return!0},K=()=>{x.clear(),v.clear(),w.clear(),zs.hide(k)},Z=()=>{if(zs.isOpen(k)){const pe=k.element;pn(pe,"display"),I()?Ro(pe,"display","none"):(v.set(0),zs.reposition(k))}},q=pe=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[pe],behaviours:vt([Kt.config({mode:"acyclic"}),uo("pop-dialog-wrap-events",[us(He=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>Kt.focusIn(He))}),Ec(He=>{n.shortcuts.remove("ctrl+F9")})])])}),V=pe=>{const He=Y([pe]);oo(k,MO,{forwardContents:q(He)})},H=xr(()=>Md(r,V)),Y=pe=>{const{buttons:He}=n.ui.registry.getAll(),Ve={...He,...H().formNavigators},Le=x1(n)===wi.scrolling?wi.scrolling:wi.default,qe=Os(Ee(pe,ut=>{return ut.type==="contexttoolbar"?((lo,fo)=>q_(n,{buttons:lo,toolbar:fo.items,allowToolbarGroups:!1},l.backstage,E.some(["form:","toolbar:"])))(Ve,($t=ut,{...$t,launch:$t.launch.getOrUndefined(),items:xe($t.items)?$t.items:Ee($t.items,_B)})):((lo,fo)=>s8(lo,fo))(ut,m.providers);var $t}));return NS({type:Le,uid:De("context-toolbar"),initGroups:qe,onEscape:E.none,cyclicKeying:!0,providers:m.providers})},J=(pe,He)=>{if(ue.cancel(),!N())return;const Ve=Y(pe),Le=pe[0].position,qe=(($t,lo)=>{const fo=$t==="node"?m.anchors.node(lo):m.anchors.cursor(),qo=((Sn,Jn,ao,es)=>Jn==="line"?{bubble:Xi(12,0,a8),layouts:{onLtr:()=>[ep],onRtl:()=>[Lb]},overrides:i8}:{bubble:Xi(0,12,a8,1/12),layouts:wg(Sn,ao,es,Jn),overrides:i8})(n,$t,p(),{lastElement:x.get,isReposition:()=>jn(v.get(),0),getMode:()=>Ma.getMode(i)});return Cs(fo,qo)})(Le,He);w.set(Le),v.set(1);const ut=k.element;pn(ut,"display"),($t=>jn(Ml($t,x.get(),Xo),!0))(He)||(rn(ut,eE),Ma.reset(i,k)),zs.showWithinBounds(k,q(Ve),{anchor:qe,transition:{classes:[eE],mode:"placement"}},()=>E.some(A())),He.fold(x.clear,x.set),I()&&Ro(ut,"display","none")};let me=!1;const ue=Pu(()=>{!n.hasFocus()||n.removed||me||(pr(k.element,eE)?ue.throttle():((pe,He)=>{const Ve=Ft(He.getBody()),Le=ut=>Xo(ut,Ve),qe=Ft(He.selection.getNode());return(ut=>!Le(ut)&&!$s(Ve,ut))(qe)?E.none():((ut,$t,lo)=>{const fo=Q_(ut,$t);if(fo.contextForms.length>0)return E.some({elem:ut,toolbars:[fo.contextForms[0]]});{const qo=Q_(ut,lo);if(qo.contextForms.length>0)return E.some({elem:ut,toolbars:[qo.contextForms[0]]});if(fo.contextToolbars.length>0||qo.contextToolbars.length>0){const Sn=(Jn=>{if(Jn.length<=1)return Jn;{const ao=Nn=>En(Jn,ca=>ca.position===Nn),es=Nn=>Oo(Jn,ca=>ca.position===Nn),xo=ao("selection"),ps=ao("node");if(xo||ps){if(ps&&xo){const Nn=es("node"),ca=Ee(es("selection"),rs=>({...rs,position:"node"}));return Nn.concat(ca)}return es(xo?"selection":"node")}return es("line")}})(fo.contextToolbars.concat(qo.contextToolbars));return E.some({elem:ut,toolbars:Sn})}return E.none()}})(qe,pe.inNodeScope,pe.inEditorScope).orThunk(()=>((ut,$t,lo)=>ut($t)?E.none():eh($t,fo=>{if(Qo(fo)){const{contextToolbars:qo,contextForms:Sn}=Q_(fo,lo.inNodeScope),Jn=Sn.length>0?Sn:(ao=>{if(ao.length<=1)return ao;{const es=xo=>B(ao,ps=>ps.position===xo);return es("selection").orThunk(()=>es("node")).orThunk(()=>es("line")).map(xo=>xo.position).fold(()=>[],xo=>Oo(ao,ps=>ps.position===xo))}})(qo);return Jn.length>0?E.some({elem:fo,toolbars:Jn}):E.none()}return E.none()},ut))(Le,qe,pe))})(H(),n).fold(K,pe=>{J(pe.toolbars,E.some(pe.elem))}))},17);n.on("init",()=>{n.on("remove",K),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Z),n.on("click focus SetContent",ue.throttle),n.on("keyup",pe=>{var He;((He=pe.keyCode)!==k2.ENTER&&He!==k2.SPACEBAR||!S.inSubtoolbar())&&ue.throttle()}),n.on(t8,K),n.on("contexttoolbar-show",pe=>{const He=H();no(He.lookupTable,pe.toolbarKey).each(Ve=>{J([Ve],Gs(pe.target!==n,pe.target)),$_(k)})}),n.on("focusout",pe=>{Rv.setEditorTimeout(n,()=>{za(i.element).isNone()&&za(k.element).isNone()&&!n.hasFocus()&&K()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&K()}),n.on("DisabledStateChange",pe=>{pe.state&&K()}),n.on("ExecCommand",({command:pe})=>{pe.toLowerCase()==="toggleview"&&K()}),n.on("AfterProgressState",pe=>{pe.state?K():n.hasFocus()&&ue.throttle()}),n.on("dragstart",()=>{me=!0}),n.on("dragend drop",()=>{me=!1}),n.on("NodeChange",pe=>{S.inSubtoolbar()?(Ro(k.element,"transition","none"),Z(),pn(k.element,"transition")):za(k.element).fold(ue.throttle,we)})})},c8=(n,r)=>{const i=()=>{const l=r.getOptions(n),d=r.getCurrent(n).map(r.hash),m=zn();return Ee(l,p=>({type:"togglemenuitem",text:r.display(p),onSetup:x=>{const v=S=>{S&&(m.on(k=>k.setActive(!1)),m.set(x)),x.setActive(S)};v(jn(d,r.hash(p)));const w=r.watcher(n,p,v);return()=>{m.clear(),w()}},onAction:()=>r.setCurrent(n,p)}))};n.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:l=>l(i()),onSetup:r.onToolbarSetup}),n.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:i,onSetup:r.onMenuSetup})},j1=n=>{c8(n,(r=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:ET,hash:i=>(l=>pc(l,["fixed","relative","empty"]).map(({value:d,unit:m})=>d+m))(i).getOr(i),display:We,watcher:(i,l,d)=>i.formatter.formatChanged("lineheight",d,!1,{value:l}).unbind,getCurrent:i=>E.from(i.queryCommandValue("LineHeight")),setCurrent:(i,l)=>i.execCommand("LineHeight",!1,l),onToolbarSetup:wa(r),onMenuSetup:wa(r)}))(n)),(r=>E.from(xf(r)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:se(i),hash:l=>st(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,d,m)=>l.formatter.formatChanged("lang",m,!1,{value:d.code,customValue:d.customCode??null}).unbind,getCurrent:l=>{const d=Ft(l.selection.getNode());return th(d,m=>E.some(m).filter(Qo).bind(p=>Jr(p,"lang").map(x=>({code:x,customCode:Jr(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,d)=>l.execCommand("Lang",!1,d),onToolbarSetup:l=>{const d=Zr();return l.setActive(r.formatter.match("lang",{},void 0,!0)),d.set(r.formatter.formatChanged("lang",l.setActive,!0)),l2(d.clear,wa(r)(l))},onMenuSetup:wa(r)})))(n).each(r=>c8(n,r))},uI=n=>I1(n,"NodeChange",r=>{r.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),eC=(n,r)=>i=>{i.setActive(r.get());const l=d=>{r.set(d.state),i.setActive(d.state)};return n.on("PastePlainTextToggle",l),l2(()=>n.off("PastePlainTextToggle",l),wa(n)(i))},S2=(n,r)=>()=>{n.execCommand("mceToggleFormat",!1,r)},mI=n=>{(r=>{(i=>{xg.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,d)=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:P1(i,l.name),onAction:S2(i,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const d="h"+l,m=`Access+${l}`;i.ui.registry.addToggleButton(d,{text:d.toUpperCase(),tooltip:"Heading "+l,onSetup:P1(i,d),onAction:S2(i,d),shortcut:m})}})(r),(i=>{xg.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:El(i,l.action),shortcut:l.shortcut,context:l.context})}),xg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:wa(i),onAction:El(i,l.action)})})})(r),(i=>{xg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:El(i,l.action),onSetup:P1(i,l.name)})})})(r)})(n),(r=>{xg.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:El(r,i.action),context:i.context})}),xg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onSetup:wa(r),onAction:El(r,i.action)})}),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:wa(r),onAction:S2(r,"code")})})(n)},tC=(n,r)=>I1(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[r]())}),W1=n=>I1(n,"VisualAid",r=>{r.setActive(n.hasVisual)}),d8=(n,r)=>{(i=>{yt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:El(i,l.cmd),onSetup:P1(i,l.name)})}),i.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:wa(i),onAction:El(i,"JustifyNone")})})(n),mI(n),((i,l)=>{((d,m)=>{const p=Su(m,PO(d));d.ui.registry.addNestedMenuItem("align",{text:m.shared.providers.translate("Align"),onSetup:wa(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((d,m)=>{const p=Su(m,$O(d));d.ui.registry.addNestedMenuItem("fontfamily",{text:m.shared.providers.translate("Fonts"),onSetup:wa(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((d,m)=>{const p={type:"advanced",...m.styles},x=Su(m,GO(d,p));d.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:wa(d,()=>x.getStyleItems().length>0),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(i,l),((d,m)=>{const p=Su(m,FO(d));d.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:wa(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((d,m)=>{const p=Su(m,WO(d));d.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:wa(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l)})(n,r),(i=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:tC(l,"hasUndo"),onAction:El(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:tC(l,"hasRedo"),onAction:El(l,"redo")})})(i),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:tC(l,"hasUndo"),onAction:El(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:tC(l,"hasRedo"),onAction:El(l,"redo"),shortcut:"Meta+Y"})})(i)})(n),(i=>{(x=>{x.addCommand("mceApplyTextcolor",(v,w)=>{((S,k,A)=>{S.undoManager.transact(()=>{S.focus(),S.formatter.apply(k,{value:A}),S.nodeChanged()})})(x,v,w)}),x.addCommand("mceRemoveTextcolor",v=>{((w,S)=>{w.undoManager.transact(()=>{w.focus(),w.formatter.remove(S,{value:null},void 0,!0),w.nodeChanged()})})(x,v)})})(i);const l=IB(i),d=LB(i),m=Ot(l),p=Ot(d);tD(i,"forecolor","forecolor",m),tD(i,"backcolor","hilitecolor",p),oD(i,"forecolor","forecolor","Text color",m),oD(i,"backcolor","hilitecolor","Background color",p)})(n),(i=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:El(l,"mceToggleVisualAid"),context:"any"})})(i),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:W1(l),onAction:El(l,"mceToggleVisualAid"),context:"any"})})(i)})(n),(i=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:uI(l),onAction:El(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:wa(l,()=>l.queryCommandState("indent")),onAction:El(l,"indent")})})(i)})(n),j1(n),(i=>{const l=Ot(A4(i)),d=()=>i.execCommand("mceTogglePlainTextPaste");i.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:d,onSetup:eC(i,l)}),i.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:d,onSetup:eC(i,l)})})(n),(i=>{i.ui.registry.addContext("editable",()=>i.selection.isEditable()),i.ui.registry.addContext("mode",l=>i.mode.get()===l),i.ui.registry.addContext("any",Ut),i.ui.registry.addContext("formatting",l=>i.formatter.canApply(l)),i.ui.registry.addContext("insert",l=>i.schema.isValidChild(i.selection.getNode().tagName,l))})(n)},u8=n=>xe(n)?n.split(/[ ,]/):n,m8=n=>r=>r.options.get(n),oC=m8("contextmenu_never_use_native"),g8=m8("contextmenu_avoid_overlap"),nC=n=>{const r=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:Oo(i,l=>cn(r,l))},ex=(n,r)=>({type:"makeshift",x:n,y:r}),tE=n=>n.type==="longpress"||n.type.indexOf("touch")===0,E2=(n,r)=>r.type==="contextmenu"||r.type==="longpress"?n.inline?(i=>{if(tE(i)){const l=i.touches[0];return ex(l.pageX,l.pageY)}return ex(i.pageX,i.pageY)})(r):((i,l)=>{const d=Nv.DOM.getPos(i);return((m,p,x)=>ex(m.x+p,m.y+x))(l,d.x,d.y)})(n.getContentAreaContainer(),(i=>{if(tE(i)){const l=i.touches[0];return ex(l.clientX,l.clientY)}return ex(i.clientX,i.clientY)})(r)):f8(n),f8=n=>({type:"selection",root:Ft(n.selection.getNode())}),p8=(n,r,i)=>{switch(i){case"node":return(l=>({type:"node",node:E.some(Ft(l.selection.getNode())),root:Ft(l.getBody())}))(n);case"point":return E2(n,r);case"selection":return f8(n)}},gI=(n,r,i,l,d,m)=>{const p=i(),x=p8(n,r,m);q0(p,Ic.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:E.none()}).map(v=>{r.preventDefault(),zs.showMenuAt(d,{anchor:x},{menu:{markers:Cp("normal")},data:v})})},fI={onLtr:()=>[Lr,Cr,Ir,ba,Ra,sa,Yl,Th,Jm,pd,Fr,Ah],onRtl:()=>[Lr,Ir,Cr,Ra,ba,sa,Yl,Th,Fr,Ah,Jm,pd]},oE={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},pI=(n,r,i,l,d,m)=>{const p=Se(),x=p.os.isiOS(),v=p.os.isMacOS(),w=p.os.isAndroid(),S=p.deviceType.isTouch(),k=()=>{const A=i();((N,I,K,Z,q,V,H)=>{const Y=((J,me,ue)=>{const pe=p8(J,me,ue);return{bubble:Xi(0,ue==="point"?12:0,oE),layouts:fI,overrides:{maxWidthFunction:Ub(),maxHeightFunction:Qu()},...pe}})(N,I,V);q0(K,Ic.CLOSE_ON_EXECUTE,Z,{isHorizontalMenu:!0,search:E.none()}).map(J=>{I.preventDefault();const me=H?Na.HighlightMenuAndItem:Na.HighlightNone;zs.showMenuWithinBounds(q,{anchor:Y},{menu:{markers:Cp("normal"),highlightOnOpen:me},data:J,type:"horizontal"},()=>E.some(r8(N,Z.shared,V==="node"?"node":"selection"))),N.dispatch(t8)})})(n,r,A,l,d,m,!(w||x||v&&S))};if((v||x)&&m!=="node"){const A=()=>{(N=>{const I=N.selection.getRng(),K=()=>{Rv.setEditorTimeout(N,()=>{N.selection.setRng(I)},10),V()};N.once("touchend",K);const Z=H=>{H.preventDefault(),H.stopImmediatePropagation()};N.on("mousedown",Z,!0);const q=()=>V();N.once("longpresscancel",q);const V=()=>{N.off("touchend",K),N.off("longpresscancel",q),N.off("mousedown",Z)}})(n),k()};((N,I)=>{const K=N.selection;if(K.isCollapsed()||I.touches.length<1)return!1;{const Z=I.touches[0],q=K.getRng();return oh(N.getWin(),ad.domRange(q)).exists(V=>V.left<=Z.clientX&&V.right>=Z.clientX&&V.top<=Z.clientY&&V.bottom>=Z.clientY)}})(n,r)?A():(n.once("selectionchange",A),n.once("touchend",()=>n.off("selectionchange",A)))}else k()},sC=n=>xe(n)?n==="|":n.type==="separator",nE={type:"separator"},tx=n=>{const r=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(xe(n))return n;switch(n.type){case"separator":return nE;case"submenu":return{type:"nestedmenuitem",...r(n),getSubmenuItems:()=>{const l=n.getSubmenuItems();return xe(l)?l:Ee(l,tx)}};default:const i=n;return{type:"menuitem",...r(i),onAction:Tt(i.onAction)}}},h8=(n,r)=>{if(r.length===0)return n;const i=xt(n).filter(l=>!sC(l)).fold(()=>[],l=>[nE]);return n.concat(i).concat(r).concat([nE])},sE=(n,r)=>!(i=>i.type==="longpress"||cn(i,"touches"))(r)&&(r.button!==2||r.target===n.getBody()&&r.pointerType===""),b8=(n,r)=>sE(n,r)?n.selection.getStart(!0):r.target,hI=(n,r,i)=>{const l=Se().deviceType.isTouch,d=ni(zs.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:vt([uo("dismissContextMenu",[et(Ug(),(x,v)=>{Dn.close(x),n.focus()})])])})),m=()=>zs.hide(d),p=x=>{if(oC(n)&&x.preventDefault(),((w,S)=>S.ctrlKey&&!oC(w))(n,x)||(w=>nC(w).length===0)(n))return;const v=((w,S)=>{const k=g8(w),A=sE(w,S)?"selection":"point";if(Pl(k)){const N=b8(w,S);return Jp(Ft(N),k)?"node":A}return A})(n,x);(l()?pI:gI)(n,x,()=>{const w=b8(n,x),S=n.ui.registry.getAll(),k=nC(n);return((A,N,I)=>{const K=Yo(N,(Z,q)=>no(A,q.toLowerCase()).map(V=>{const H=V.update(I);if(xe(H)&&Pl(Bu(H)))return h8(Z,H.split(" "));if($e(H)&&H.length>0){const Y=Ee(H,tx);return h8(Z,Y)}return Z}).getOrThunk(()=>Z.concat([q])),[]);return K.length>0&&sC(K[K.length-1])&&K.pop(),K})(S.contextMenus,k,w)},i,d,v)};n.on("init",()=>{const x="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");n.on(x,m),n.on("longpress contextmenu",p)})},x8=(n,r,i,l,d,m)=>n.fold(()=>Qh.snap({sensor:fp(i-20,l-20),range:Ns(d,m),output:fp(E.some(i),E.some(l)),extra:{td:r}}),p=>{const x=i-20,v=l-20,w=p.element.dom.getBoundingClientRect();return Qh.snap({sensor:fp(x,v),range:Ns(40,40),output:fp(E.some(i-w.width/2),E.some(l-w.height/2)),extra:{td:r}})}),v8=(n,r,i)=>({getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,d)=>{const m=d.td;((p,x)=>p.exists(v=>Xo(v,x)))(r.get(),m)||(r.set(m),i(m))},mustSnap:!0}),A2=n=>On(Ba.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:vt([Qh.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),x0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),y8=(n,r)=>{const i=Ot([]),l=Ot([]),d=Ot(!1),m=zn(),p=zn(),x=V=>{const H=Hu(V);return x8(k.getOpt(r),V,H.x,H.y,H.width,H.height)},v=V=>{const H=Hu(V);return x8(A.getOpt(r),V,H.right,H.bottom,H.width,H.height)},w=v8(()=>Ee(i.get(),V=>x(V)),m,V=>{p.get().each(H=>{n.dispatch("TableSelectorChange",{start:V,finish:H})})}),S=v8(()=>Ee(l.get(),V=>v(V)),p,V=>{m.get().each(H=>{n.dispatch("TableSelectorChange",{start:H,finish:V})})}),k=A2(w),A=A2(S),N=ni(k.asSpec()),I=ni(A.asSpec()),K=(V,H,Y,J)=>{const me=Y(H);Qh.snapTo(V,me),((ue,pe)=>{const He=pe.dom.getBoundingClientRect();pn(ue.element,"display");const Ve=Xr(Ft(n.getBody())).dom.innerHeight,Le=He[J]<0,qe=((ut,$t)=>ut[J]>$t)(He,Ve);(Le||qe)&&Ro(ue.element,"display","none")})(V,H)},Z=V=>K(N,V,x,"top"),q=V=>K(I,V,v,"bottom");if(Se().deviceType.isTouch()){const V=H=>Ee(H,Ft);n.on("TableSelectionChange",H=>{d.get()||(cf(r,N),cf(r,I),d.set(!0));const Y=Ft(H.start),J=Ft(H.finish);m.set(Y),p.set(J),E.from(H.otherCells).each(me=>{i.set(V(me.upOrLeftCells)),l.set(V(me.downOrRightCells)),Z(Y),q(J)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{m.get().each(Z),p.get().each(q)}),n.on("TableSelectionClear",()=>{d.get()&&(df(N),df(I),d.set(!1)),m.clear(),p.clear()})}},bI=(n,r,i)=>{const l=r.delimiter??"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:vt([Kt.config({mode:"flow",selector:"div[role=button]"}),Jt.config({disabled:i.isDisabled}),Hr(()=>i.checkUiComponentContext("any")),Un.config({}),No.config({}),uo("elementPathEvents",[us((d,m)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Kt.focusIn(d)),n.on("NodeChange",p=>{const x=(w=>{const S=[];let k=w.length;for(;k-- >0;){const N=w[k];if(N.nodeType===1&&(A=N).nodeName!=="BR"&&!A.getAttribute("data-mce-bogus")&&A.getAttribute("data-mce-type")!=="bookmark"){const I=PB(n,N);if(I.isDefaultPrevented()||S.push({name:I.name,element:N}),I.isPropagationStopped())break}}var A;return S})(p.parents),v=x.length>0?Yo(x,(w,S,k)=>{const A=((N,I,K)=>Ba.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":K}},components:[Bs(N)],action:Z=>{n.focus(),n.selection.select(I),n.nodeChanged()},buttonBehaviours:vt([bs.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",I.nodeName.toLowerCase()]),onShow:(Z,q)=>{((V,H)=>{const Y=E.from(Bo(V,"id")).getOrThunk(()=>{const J=De("aria");return io(H,"id",J),J});io(V,"aria-describedby",Y)})(Z.element,q.element)},onHide:Z=>{var q;q=Z.element,Xs(q,"aria-describedby")}})}),kf(i.isDisabled),Hr(()=>i.checkUiComponentContext("any"))])}))(S.name,S.element,k);return k===0?w.concat([A]):w.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Bs(` ${l} `)]},A])},[]):[];No.set(d,v)})})])]),components:[]}};var Eu;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(Eu||(Eu={}));const Ip=n=>{const r=Ft(n.getContainer());return{height:Rr(r),width:Ln(r)}},rE=(n,r,i)=>{const l=Ft(n.getContainer()),d=((m,p,x,v)=>{const w=G_(v.height+p.top,h4(m),b1(m));return x===Eu.Both?{height:w,width:G_(v.width+p.left,p4(m),_p(m))}:{height:w}})(n,r,i,Ip(n));return An(d,(m,p)=>{St(m)&&Ro(l,p,WS(m))}),(m=>{m.dispatch("ResizeEditor")})(n),d},q1=(n,r,i)=>{io(n.element,"aria-valuetext",((l,d)=>d===Eu.Both?_i.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",l.height,l.width]):_i.translate(["Editor's height: {0} pixels",l.height]))(r,i))},rC=(n,r,i,l,d)=>{const m=Ns(20*l,20*d),p=rE(n,m,i);return q1(r,p,i),E.some(!0)},w8=(n,r)=>{const i=()=>{const l=[],d=_T(n),m=S4(n),p=Mw(n)||n.hasPlugin("wordcount");return m&&l.push(bI(n,{},r)),d&&l.push((()=>{const x=E3("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Bs(_i.translate(["Press {0} for help",x]))]}})()),p&&l.push((()=>{const x=[];return n.hasPlugin("wordcount")&&x.push(((v,w)=>{const S=(k,A,N)=>No.set(k,[Bs(w.translate(["{0} "+N,A[N]]))]);return Ba.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:vt([kf(w.isDisabled),Hr(()=>w.checkUiComponentContext("any")),Un.config({}),No.config({}),Vt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),uo("wordcount-events",[ru(k=>{const A=Vt.getValue(k),N=A.mode==="words"?"characters":"words";Vt.setValue(k,{mode:N,count:A.count}),S(k,A.count,N)}),us(k=>{v.on("wordCountUpdate",A=>{const{mode:N}=Vt.getValue(k);Vt.setValue(k,{mode:N,count:A.wordCount}),S(k,A.wordCount,N)})})])]),eventOrder:{[Yi()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(n,r)),Mw(n)&&x.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":n.translate(["Build with {0}","TinyMCE"])},innerHtml:n.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:vt([vo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:x}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const x="tox-statusbar__text-container--flex-start",v="tox-statusbar__text-container--flex-end";if(d){const w="tox-statusbar__text-container-3-cols";return p||m?p&&!m?[w,v]:[w,x]:[w,"tox-statusbar__text-container--space-around"]}return[p&&!m?v:x]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=i(),d=((m,p)=>{const x=(S=>{const k=E4(S);return k===!1?Eu.None:k==="both"?Eu.Both:Eu.Vertical})(m);if(x===Eu.None)return E.none();const v=x===Eu.Both?_i.translate("Press the arrow keys to resize the editor."):_i.translate("Press the Up and Down arrow keys to resize the editor."),w=x===Eu.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return E.some(Pc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",w],attributes:{"aria-label":p.translate(v),"data-mce-name":"resize-handle",role:"separator"},behaviours:[Qh.config({mode:"mouse",repositionTarget:!1,onDrag:(S,k,A)=>{const N=rE(m,A,x);q1(S,N,x)},blockerClass:"tox-blocker"}),Kt.config({mode:"special",onLeft:S=>rC(m,S,x,-1,0),onRight:S=>rC(m,S,x,1,0),onUp:S=>rC(m,S,x,0,-1),onDown:S=>rC(m,S,x,0,1)}),Un.config({}),vo.config({}),bs.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")})),uo("set-aria-valuetext",[us(S=>{const k=()=>{q1(S,Ip(m),x)};m._skinLoaded?k():m.once("SkinLoaded",k)})])],eventOrder:{[wc()]:["add-focusable","set-aria-valuetext"]}},p.icons))})(n,r);return l.concat(d.toArray())})()}},_8=(n,r)=>r.get().getOrDie(`UI for ${n} has not been rendered`),xI=(n,r)=>{const i=n.inline,l=i?lI:Q0,d=M0(n)?zP:FP,m=(()=>{const ue=zn(),pe=zn(),He=zn();return{dialogUi:ue,popupUi:pe,mainUi:He,getUiMotherships:()=>{const Ve=ue.get().map(qe=>qe.mothership),Le=pe.get().map(qe=>qe.mothership);return Ve.fold(()=>Le.toArray(),qe=>Le.fold(()=>[qe],ut=>Xo(qe.element,ut.element)?[qe]:[qe,ut]))},lazyGetInOuterOrDie:(Ve,Le)=>()=>He.get().bind(qe=>Le(qe.outerContainer)).getOrDie(`Could not find ${Ve} element in OuterContainer`)}})(),p=zn(),x=zn(),v=zn(),w=Se().deviceType.isTouch()?["tox-platform-touch"]:[],S=y1(n),k=x1(n),A=On({dom:{tag:"div",classes:["tox-anchorbar"]}}),N=On({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),I=()=>m.mainUi.get().map(ue=>ue.outerContainer).bind(ss.getHeader),K=m.lazyGetInOuterOrDie("anchor bar",A.getOpt),Z=m.lazyGetInOuterOrDie("bottom anchor bar",N.getOpt),q=m.lazyGetInOuterOrDie("toolbar",ss.getToolbar),V=m.lazyGetInOuterOrDie("throbber",ss.getThrobber),H=((ue,pe,He,Ve)=>{const Le=Ot(!1),qe=(xo=>{const ps=Ot(y1(xo)?"bottom":"top");return{isPositionedAtTop:()=>ps.get()==="top",getDockingMode:ps.get,setDockingMode:ps.set}})(pe),ut={icons:()=>pe.ui.registry.getAll().icons,menuItems:()=>pe.ui.registry.getAll().menuItems,translate:_i.translate,isDisabled:()=>!pe.ui.isEnabled(),getOption:pe.options.get,tooltips:CP(ue.dialog),checkUiComponentContext:xo=>{if(mm(pe))return{contextType:"disabled",shouldDisable:!0};const[ps,Nn=""]=xo.split(":"),ca=pe.ui.registry.getAll().contexts;return{contextType:ps,shouldDisable:!no(ca,ps).fold(()=>no(ca,"mode").map(rs=>rs("design")).getOr(!1),rs=>Nn.charAt(0)==="!"?!rs(Nn.slice(1)):rs(Nn))}}},$t=BP(pe),lo=(xo=>{const ps=Ci=>()=>xo.formatter.match(Ci),Nn=Ci=>()=>{const rl=xo.formatter.get(Ci);return rl!==void 0?E.some({tag:rl.length>0&&(rl[0].inline||rl[0].block)||"div",styles:xo.dom.parseStyle(xo.formatter.getCssText(Ci))}):E.none()},ca=Ot([]),rs=Ot([]),Al=Ot(!1);return xo.on("PreInit",Ci=>{const rl=oO(xo),Tf=sO(xo,rl,ps,Nn);ca.set(Tf)}),xo.on("addStyleModifications",Ci=>{const rl=sO(xo,Ci.items,ps,Nn);rs.set(rl),Al.set(Ci.replace)}),{getData:()=>{const Ci=Al.get()?[]:ca.get(),rl=rs.get();return Ci.concat(rl)}}})(pe),fo=(xo=>({colorPicker:xP(xo),hasCustomColors:vP(xo),getColors:yP(xo),getColorCols:wP(xo)}))(pe),qo=(xo=>({isDraggableModal:_P(xo)}))(pe),Sn={shared:{providers:ut,anchors:bP(pe,He,Ve,qe.isPositionedAtTop),header:qe},urlinput:$t,styles:lo,colorinput:fo,dialog:qo,isContextMenuOpen:()=>Le.get(),setContextMenuState:xo=>Le.set(xo)},Jn=xo=>E.none(),ao={...Sn,shared:{...Sn.shared,interpreter:xo=>XD(xo,{},ao,Jn),getSink:ue.popup}},es={...Sn,shared:{...Sn.shared,interpreter:xo=>XD(xo,{},es,Jn),getSink:ue.dialog}};return{popup:ao,dialog:es}})({popup:()=>Jo.fromOption(m.popupUi.get().map(ue=>ue.sink),"(popup) UI has not been rendered"),dialog:()=>Jo.fromOption(m.dialogUi.get().map(ue=>ue.sink),"UI has not been rendered")},n,K,Z),Y=()=>{const ue=(()=>{const Sn={attributes:{[Dh]:S?nu.BottomToTop:nu.TopToBottom}},Jn=ss.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:H.popup,onEscape:()=>{n.focus()}}),ao=ss.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:H.popup.shared.getSink,providers:H.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:rl=>{((Tf,nx)=>{Tf.dispatch("ToggleToolbarDrawer",{state:nx})})(n,rl)},type:k,lazyToolbar:q,lazyHeader:()=>I().getOrDie("Could not find header element"),...Sn}),es=ss.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:H.popup.shared.providers,onEscape:()=>{n.focus()},type:k}),xo=Lv(n),ps=Iv(n),Nn=Pv(n),ca=Bw(n),rs=xo||ps||Nn,Al=[(Ci=ca,ss.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:Ci})),Jn];var Ci;return ss.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(rs?[]:["tox-editor-header--empty"]),...Sn},components:Os([Nn?Al:[],xo?[es]:ps?[ao]:[],w1(n)?[]:[A.asSpec()]]),sticky:M0(n),editor:n,sharedBackstage:H.popup.shared})})(),pe={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ss.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),ss.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},He=ss.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:H.popup}),Ve=ss.parts.viewWrapper({backstage:H.popup}),Le=yT(n)&&!i?E.some(w8(n,H.popup.shared.providers)):E.none(),qe=Os([S?[]:[ue],i?[]:[pe],S?[ue]:[]]),ut=ss.parts.editorContainer({components:Os([qe,i?[]:[N.asSpec()]])}),$t=D4(n),lo={role:"application",..._i.isRtl()?{dir:"rtl"}:{},...$t?{"aria-hidden":"true"}:{}},fo=ni(ss.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(S?["tox-tinymce--toolbar-bottom"]:[]).concat(w),styles:{visibility:"hidden",...$t?{opacity:"0",border:"0"}:{}},attributes:lo},components:[ut,...i?[]:[Ve,...Le.toArray()],He],behaviours:vt([Hr(()=>H.popup.shared.providers.checkUiComponentContext("any")),Jt.config({disableClass:"tox-tinymce--disabled"}),Kt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),qo=v0(fo);return p.set(qo),{mothership:qo,outerContainer:fo}},J=ue=>{const pe=WS((Ve=>(Le=>{const qe=((lo,fo)=>{if(typeof fo=="number")return E.from(fo);const qo=/^([0-9.]+)(pt|em|px)$/.exec(fo.trim());if(qo){const Sn=qo[2],Jn=Number.parseFloat(qo[1]);if(Number.isNaN(Jn)||Jn<0)return E.none();if(Sn==="em")return E.from(Jn*Number.parseFloat(window.getComputedStyle(lo.dom).fontSize));if(Sn==="pt")return E.from(.75*Jn);if(Sn==="px")return E.from(Jn)}return E.none()})(Ft(Le.targetElm),Dw(Le)),ut=h4(Le),$t=b1(Le);return qe.map(lo=>G_(lo,ut,$t))})(Ve).getOr(Dw(Ve)))(n)),He=WS((Ve=>e8(Ve).getOr(Ow(Ve)))(n));return n.inline||(sd("div","width",He)&&Ro(ue.element,"width",He),sd("div","height",pe)?Ro(ue.element,"height",pe):Ro(ue.element,"height","400px")),pe},me=ue=>{const{mainUi:pe,popupUi:He,uiMotherships:Ve}=ue;Is(x4(n),(ao,es)=>{n.ui.registry.addGroupToolbarButton(es,ao)});const{buttons:Le,menuItems:qe,contextToolbars:ut,sidebars:$t,views:lo}=n.ui.registry.getAll(),fo=v1(n),qo={menuItems:qe,menus:AT(n),menubar:_4(n),toolbar:fo.getOrThunk(()=>N0(n)),allowToolbarGroups:k===wi.floating,buttons:Le,sidebar:$t,views:lo};var Sn;Sn=pe.outerContainer,n.addShortcut("alt+F9","focus menubar",()=>{ss.focusMenubar(Sn)}),n.addShortcut("alt+F10","focus toolbar",()=>{ss.focusToolbar(Sn)}),n.addCommand("ToggleToolbarDrawer",(ao,es,xo)=>{es?.skipFocus?(console.warn(PP.skipFocus,new Error().stack),ss.toggleToolbarDrawerWithoutFocusing(Sn)):xo?.skip_focus?ss.toggleToolbarDrawerWithoutFocusing(Sn):ss.toggleToolbarDrawer(Sn)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>ss.isToolbarDrawerToggled(Sn)),n.on("blur",()=>{x1(n)===wi.floating&&ss.isToolbarDrawerToggled(Sn)&&ss.toggleToolbarDrawerWithoutFocusing(Sn)}),((ao,es,xo)=>{const ps=(mn,Au)=>{yt([es,...xo],Tu=>{Tu.broadcastEvent(mn,Au)})},Nn=(mn,Au)=>{yt([es,...xo],Tu=>{Tu.broadcastOn([mn],Au)})},ca=mn=>Nn(xd(),{target:mn.target}),rs=mn=>{Nn(Ql(),{closedTooltip:()=>{mn.preventDefault()}})},Al=ob(),Ci=Fa(Al,"touchstart",ca),rl=Fa(Al,"touchmove",mn=>ps(J2(),mn)),Tf=Fa(Al,"touchend",mn=>ps(ey(),mn)),nx=Fa(Al,"mousedown",ca),uC=Fa(Al,"mouseup",mn=>{mn.raw.button===0&&Nn(Bh(),{target:mn.target})}),hm=mn=>Nn(xd(),{target:Ft(mn.target)}),Fp=mn=>{mn.button===0&&Nn(Bh(),{target:Ft(mn.target)})},bm=()=>{yt(ao.editorManager.get(),mn=>{ao!==mn&&mn.dispatch("DismissPopups",{relatedTarget:ao})})},sx=mn=>ps(yb(),td(mn)),rx=mn=>{Nn(oi(),{}),ps(ql(),td(mn))},zp=Qr(Ft(ao.getElement())),ax=tb(zp,"scroll",mn=>{requestAnimationFrame(()=>{if(ao.getContainer()!=null){const Au=gg(ao,es.element).map(Tu=>[Tu.element,...Tu.others]).getOr([]);En(Au,Tu=>Xo(Tu,mn.target))&&(ao.dispatch("ElementScroll",{target:mn.target.dom}),ps(dh(),mn))}})}),K1=()=>Nn(oi(),{}),D2=mn=>{mn.state&&Nn(xd(),{target:Ft(ao.getContainer())})},ix=mn=>{Nn(xd(),{target:Ft(mn.relatedTarget.getContainer())})},Y1=mn=>ao.dispatch("focusin",mn),Df=mn=>ao.dispatch("focusout",mn);ao.on("PostRender",()=>{ao.on("click",hm),ao.on("tap",hm),ao.on("mouseup",Fp),ao.on("mousedown",bm),ao.on("ScrollWindow",sx),ao.on("ResizeWindow",rx),ao.on("ResizeEditor",K1),ao.on("AfterProgressState",D2),ao.on("DismissPopups",ix),ao.on("CloseActiveTooltips",rs),yt([es,...xo],mn=>{mn.element.dom.addEventListener("focusin",Y1),mn.element.dom.addEventListener("focusout",Df)})}),ao.on("remove",()=>{ao.off("click",hm),ao.off("tap",hm),ao.off("mouseup",Fp),ao.off("mousedown",bm),ao.off("ScrollWindow",sx),ao.off("ResizeWindow",rx),ao.off("ResizeEditor",K1),ao.off("AfterProgressState",D2),ao.off("DismissPopups",ix),ao.off("CloseActiveTooltips",rs),yt([es,...xo],mn=>{mn.element.dom.removeEventListener("focusin",Y1),mn.element.dom.removeEventListener("focusout",Df)}),nx.unbind(),Ci.unbind(),rl.unbind(),Tf.unbind(),uC.unbind(),ax.unbind()}),ao.on("detach",()=>{yt([es,...xo],nR),yt([es,...xo],mn=>mn.destroy())})})(n,pe.mothership,Ve),d.setup(n,H.popup.shared,I),d8(n,H.popup),hI(n,H.popup.shared.getSink,H.popup),(ao=>{const{sidebars:es}=ao.ui.registry.getAll();yt(Zo(es),xo=>{const ps=es[xo],Nn=()=>jn(E.from(ao.queryCommandValue("ToggleSidebar")),xo);ao.ui.registry.addToggleButton(xo,{icon:ps.icon,tooltip:ps.tooltip,onAction:ca=>{ao.execCommand("ToggleSidebar",!1,xo),ca.setActive(Nn())},onSetup:ca=>{ca.setActive(Nn());const rs=()=>ca.setActive(Nn());return ao.on("ToggleSidebar",rs),()=>{ao.off("ToggleSidebar",rs)}},context:"any"})})})(n),VP(n,V,H.popup.shared),J_(n,ut,He.sink,{backstage:H.popup}),y8(n,He.sink);const Jn={targetNode:n.getElement(),height:J(pe.outerContainer)};return l.render(n,ue,qo,H.popup,Jn)};return{popups:{backstage:H.popup,getMothership:()=>_8("popups",v)},dialogs:{backstage:H.dialog,getMothership:()=>_8("dialogs",x)},renderUI:()=>{const ue=Y(),pe=(()=>{const Le=Iw(n),qe=Xo(mr(),Le)&&Va(Le,"display")==="grid",ut={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(w),attributes:{..._i.isRtl()?{dir:"rtl"}:{}}},behaviours:vt([Ma.config({useFixed:()=>d.isDocked(I)})])},$t={dom:{styles:{width:document.body.clientWidth+"px"}},events:Wn([et(ql(),qo=>{Ro(qo.element,"width",document.body.clientWidth+"px")})])},lo=ni(Cs(ut,qe?$t:{})),fo=v0(lo);return x.set(fo),{sink:lo,mothership:fo}})(),He=vf(n)?(()=>{const Le={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(w),attributes:{..._i.isRtl()?{dir:"rtl"}:{}}},behaviours:vt([Ma.config({useFixed:()=>d.isDocked(I),getBounds:()=>r.getPopupSinkBounds()})])},qe=ni(Le),ut=v0(qe);return v.set(ut),{sink:qe,mothership:ut}})():(Le=>(v.set(Le.mothership),Le))(pe);m.dialogUi.set(pe),m.popupUi.set(He),m.mainUi.set(ue);const Ve={popupUi:He,dialogUi:pe,mainUi:ue,uiMotherships:m.getUiMotherships()};return me(Ve)}}},Lp=n=>{const r=[],i={};return An(n,(l,d)=>{l.fold(()=>{r.push(d)},m=>{i[d]=m})}),r.length>0?Jo.error(r):Jo.value(i)},C8=(n,r,i,l)=>{const d=On(_0.sketch(p=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:Ee(n.items,x=>YD(p,x,r,i,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[d.asSpec()]}],behaviours:vt([Kt.config({mode:"acyclic",useTabstopAt:Ko(g2)}),(m=d,kn.config({find:m.getOpt})),KB(d,{postprocess:p=>Lp(p).fold(x=>(console.error(x),{}),We)}),uo("dialog-body-panel",[et(jl(),(p,x)=>{p.getSystem().broadcastOn([A_],{newFocus:E.some(x.event.target)})})])])};var m},k8=(n,r)=>{Ro(n,"height",r+"px"),Ro(n,"flex-basis",r+"px")},T2=(n,r,i)=>{ea(n,'[role="dialog"]').each(l=>{ls(l,'[role="tablist"]').each(d=>{i.get().map(m=>(Ro(r,"height","0"),Ro(r,"flex-basis","0"),Math.min(m,((p,x,v)=>{const w=is(p).dom,S=ea(p,".tox-dialog-wrap").getOr(p);let k;k=Va(S,"position")==="fixed"?Math.max(w.clientHeight,window.innerHeight):Math.max(w.offsetHeight,w.scrollHeight);const A=Rr(x),N=x.dom.offsetLeft>=v.dom.offsetLeft+Ln(v)?Math.max(Rr(v),A):A,I=parseInt(Va(p,"margin-top"),10)||0,K=parseInt(Va(p,"margin-bottom"),10)||0;return k-(Rr(p)+I+K-N)})(l,r,d)))).each(m=>{k8(r,m)})})})},aE=n=>ls(n,'[role="tabpanel"]'),S8="send-data-to-section",E8="send-data-to-view",A8=(n,r,i,l)=>{const d=Ot({}),m=S=>{const k=Vt.getValue(S),A=Lp(k).getOr({}),N=d.get(),I=Cs(N,A);d.set(I)},p=S=>{const k=d.get();Vt.setValue(S,k)},x=Ot(null),v=Ee(n.tabs,S=>({value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Bs(i.shared.providers.translate(S.title))],view:()=>[_0.sketch(k=>({dom:{tag:"div",classes:["tox-form"]},components:Ee(S.items,A=>YD(k,A,r,i,l)),formBehaviours:vt([Kt.config({mode:"acyclic",useTabstopAt:Ko(g2)}),uo("TabView.form.events",[us(p),Ec(m)]),tl.config({channels:qi([{key:S8,value:{onReceive:m}},{key:E8,value:{onReceive:p}}])})])}))]})),w=(S=>{const k=zn();return{extraEvents:[us(N=>{const I=N.element;aE(I).each(K=>{Ro(K,"visibility","hidden"),N.getSystem().getByDom(K).toOptional().each(Z=>{const q=((H,Y,J)=>Ee(H,(me,ue)=>{No.set(J,H[ue].view());const pe=Y.dom.getBoundingClientRect();return No.set(J,[]),pe.height}))(S,K,Z);(H=>Et(Ge(H,(Y,J)=>Y>J?-1:Y<J?1:0)))(q).fold(k.clear,k.set)}),T2(I,K,k),pn(K,"visibility"),((Z,q)=>{Et(Z).each(V=>O0.showTab(q,V.value))})(S,N),requestAnimationFrame(()=>{T2(I,K,k)})})}),et(ql(),N=>{const I=N.element;aE(I).each(K=>{T2(I,K,k)})}),et(fD,(N,I)=>{const K=N.element;aE(K).each(Z=>{const q=od(Qr(Z));Ro(Z,"visibility","hidden");const V=gr(Z,"height").map(Y=>parseInt(Y,10));pn(Z,"height"),pn(Z,"flex-basis");const H=Z.dom.getBoundingClientRect().height;V.forall(Y=>H>Y)?(k.set(H),T2(K,Z,k)):V.each(Y=>{k8(Z,Y)}),pn(Z,"visibility"),q.each(vr)})})],selectFirst:!1}})(v);return O0.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(S,k,A)=>{const N=Vt.getValue(k);oo(S,gD,{name:N,oldName:x.get()}),x.set(N)},tabs:v,components:[O0.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[g4.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:vt([Un.config({})])}),O0.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:w.selectFirst,tabSectionBehaviours:vt([uo("tabpanel",w.extraEvents),Kt.config({mode:"acyclic"}),kn.config({find:S=>Et(O0.getViewItems(S))}),F1(E.none(),S=>(S.getSystem().broadcastOn([S8],{}),d.get()),(S,k)=>{d.set(k),S.getSystem().broadcastOn([E8],{})})])})},T8=(n,r,i,l,d,m)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(p=>({id:p})).getOr({}),...d?{"aria-live":"polite"}:{}}},components:[],behaviours:vt([Q3(0),ra.config({channel:`${ED}-${r}`,updateState:(p,x)=>E.some({isTabPanel:()=>x.body.type==="tabpanel"}),renderComponents:p=>{const x=p.body;return x.type==="tabpanel"?[A8(x,p.initialData,l,m)]:[C8(x,p.initialData,l,m)]},initialData:n})])}),vI=R0.deviceType.isTouch(),D8=(n,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,r]}),O8=(n,r)=>ia.parts.close(Ba.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:n,buttonBehaviours:vt([Un.config({})])})),R8=()=>ia.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),N8=(n,r)=>ia.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:cg(`<p>${zT(r.translate(n))}</p>`)}]}]}),M8=n=>ia.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),B8=(n,r)=>[_d.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),_d.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],aC=n=>{const r="tox-dialog",i=r+"-wrap",l=i+"__backdrop",d=r+"__disable-scroll";return ia.sketch({lazySink:n.lazySink,onEscape:m=>(n.onEscape(m),E.some(!0)),useTabstopAt:m=>!g2(m),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[r].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:cg(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:vI?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:vt([vo.config({}),uo("dialog-events",n.dialogEvents.concat([bd(jl(),(m,p)=>{am.isBlocked(m)||Kt.focusIn(m)}),et(Zg(),(m,p)=>{m.getSystem().broadcastOn([A_],{newFocus:p.event.newFocus})})])),uo("scroll-lock",[us(()=>{Ss(mr(),d)}),Ec(()=>{rn(mr(),d)})]),...n.extraBehaviours]),eventOrder:{[Yi()]:["dialog-events"],[wc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[tu()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},P8=n=>Ba.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:vt([Un.config({}),bs.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[Pc("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:r=>{an(r,Rp)}}),I8=(n,r,i,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(d=>({id:d})).getOr({})}},components:[],behaviours:vt([ra.config({channel:`${rS}-${r}`,initialData:n,renderComponents:d=>[Bs(l.translate(d.title))]})])}),L8=()=>({dom:cg('<div class="tox-dialog__draghandle"></div>')}),F8=(n,r,i)=>((l,d,m)=>{const p=ia.parts.title(I8(l,d,E.none(),m)),x=ia.parts.draghandle(L8()),v=ia.parts.close(P8(m)),w=[p].concat(l.draggable?[x]:[]).concat([v]);return _d.sketch({dom:cg('<div class="tox-dialog__header"></div>'),components:w})})({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},r,i.shared.providers),z8=(n,r,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:cg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),V8=(n,r,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const d=ls(n().element,".tox-dialog__header").map(m=>Rr(m));ia.setBusy(n(),(m,p)=>z8(l.message,p,r,d))},onUnblock:()=>{ia.setIdle(n())}}),iE="tox-dialog--fullscreen",iC="tox-dialog--width-lg",lE="tox-dialog--width-md",G1=n=>{switch(n){case"large":return E.some(iC);case"medium":return E.some(lE);default:return E.none()}},H8=(n,r)=>{const i=Ft(r.element.dom);pr(i,iE)||(ta(i,[iC,lE]),G1(n).each(l=>Ss(i,l)))},$8=(n,r)=>{const i=Ft(n.element.dom),l=Wf(i),d=B(l,m=>m===iC||m===lE).or(G1(r));((m,p)=>{yt(p,x=>{((v,w)=>{Ya(v)?v.dom.classList.toggle(w):((S,k)=>pt(jf(S),k)?rd(S,k):zl(S,k))(v,w),ab(v)})(m,x)})})(i,[iE,...d.toArray()])},U8=(n,r,i)=>ni(aC({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[Mp({}),...n.extraBehaviours],onEscape:l=>{an(l,Rp)},dialogEvents:r,eventOrder:{[Wm()]:[ra.name(),tl.name()],[wc()]:["scroll-lock",ra.name(),"messages","dialog-events","alloy.base.behaviour"],[tu()]:["alloy.base.behaviour","dialog-events","messages",ra.name(),"scroll-lock"]}})),cE=(n,r={})=>Ee(n,i=>i.type==="menu"?(l=>{const d=Ee(l.items,m=>{const p=no(r,m.name).getOr(Ot(!1));return{...m,storage:p}});return{...l,items:d}})(i):i),Z8=n=>Yo(n,(r,i)=>i.type==="menu"?Yo(i.items,(l,d)=>(l[d.name]=d.storage,l),r):r,{}),j8=(n,r)=>[jb(jl(),tP),n(u2,(i,l,d,m)=>{jd(m.element)&&od(Qr(m.element)).each(gl),r.onClose(),l.onClose()}),n(Rp,(i,l,d,m)=>{l.onCancel(i),an(m,u2)}),et(X3,(i,l)=>r.onUnblock()),et(Y3,(i,l)=>r.onBlock(l.event))],W8=(n,r,i)=>{const l=(m,p)=>et(m,(x,v)=>{d(x,(w,S)=>{p(n(),w,v.event,x)})}),d=(m,p)=>{ra.getState(m).get().each(x=>{p(x.internalDialog,m)})};return[...j8(l,r),l(m2,(m,p)=>p.onSubmit(m)),l(Ui,(m,p,x)=>{p.onChange(m,{name:x.name})}),l(bg,(m,p,x,v)=>{const w=()=>v.getSystem().isConnected()?Kt.focusIn(v):void 0,S=N=>nb(N,"disabled")||Jr(N,"aria-disabled").exists(I=>I==="true"),k=Qr(v.element),A=od(k);p.onAction(m,{name:x.name,value:x.value}),od(k).fold(w,N=>{S(N)||A.exists(I=>$s(N,I)&&S(I))?w():i().toOptional().filter(I=>!$s(I.element,N)).each(w)})}),l(gD,(m,p,x)=>{p.onTabChange(m,{newTabName:x.name,oldTabName:x.oldName})}),Ec(m=>{const p=n();Vt.setValue(m,p.getData())})]},yI=(n,r)=>{const i=r.map(m=>m.footerButtons).getOr([]),l=un(i,m=>m.align==="start"),d=(m,p)=>_d.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${m}`]},components:Ee(p,x=>x.memento.asSpec())});return[d("start",l.pass),d("end",l.fail)]},Af=(n,r,i)=>({dom:cg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:vt([ra.config({channel:`${aS}-${r}`,initialData:n,updateState:(l,d)=>{const m=Ee(d.buttons,p=>{const x=On(((v,w)=>B_(v,v.type,w))(p,i));return{name:p.name,align:p.align,memento:x}});return E.some({lookupByName:p=>((x,v,w)=>B(v,S=>S.name===w).bind(S=>S.memento.getOpt(x)))(l,m,p),footerButtons:m})},renderComponents:yI})])}),q8=(n,r,i)=>ia.parts.footer(Af(n,r,i)),lC=(n,r)=>{if(n.getRoot().getSystem().isConnected()){const i=kn.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return _0.getField(i,r).orThunk(()=>n.getFooter().bind(d=>ra.getState(d).get()).bind(d=>d.lookupByName(r)))}return E.none()},dE=(n,r,i)=>{const l=m=>{const p=n.getRoot();p.getSystem().isConnected()&&m(p)},d={getData:()=>{const m=n.getRoot(),p=m.getSystem().isConnected()?n.getFormWrapper():m;return{...Vt.getValue(p),...Is(i,x=>x.get())}},setData:m=>{l(p=>{const x=d.getData(),v=Cs(x,m),w=((k,A)=>{const N=k.getRoot();return ra.getState(N).get().map(I=>Bi(Ms("data",I.dataValidator,A))).getOr(A)})(n,v),S=n.getFormWrapper();Vt.setValue(S,w),An(i,(k,A)=>{cn(v,A)&&k.set(v[A])})})},setEnabled:(m,p)=>{lC(n,m).each(p?Jt.enable:Jt.disable)},focus:m=>{lC(n,m).each(vo.focus)},block:m=>{if(!xe(m))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{oo(p,Y3,{message:m})})},unblock:()=>{l(m=>{an(m,X3)})},showTab:m=>{l(p=>{const x=n.getBody();ra.getState(x).get().exists(v=>v.isTabPanel())&&kn.getCurrent(x).each(v=>{O0.showTab(v,m)})})},redial:m=>{l(p=>{const x=n.getId(),v=r(m),w=cE(v.internalDialog.buttons,i);p.getSystem().broadcastOn([`${j0}-${x}`],v),p.getSystem().broadcastOn([`${rS}-${x}`],v.internalDialog),p.getSystem().broadcastOn([`${ED}-${x}`],v.internalDialog),p.getSystem().broadcastOn([`${aS}-${x}`],{...v.internalDialog,buttons:w}),d.setData(v.initialData)})},close:()=>{l(m=>{an(m,u2)})},toggleFullscreen:n.toggleFullscreen};return d},G8=(n,r,i,l=!1,d)=>{const m=De("dialog"),p=De("dialog-label"),x=De("dialog-content"),v=n.internalDialog,w=Ot(v.size),S=G1(w.get()).toArray(),k=On(((J,me,ue,pe)=>_d.sketch({dom:cg('<div class="tox-dialog__header"></div>'),components:[I8(J,me,E.some(ue),pe),L8(),P8(pe)],containerBehaviours:vt([Qh.config({mode:"mouse",blockerClass:"blocker",getTarget:He=>pl(He,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(He,Ve)=>{He.getSystem().broadcastOn([oi()],{target:Ve})}})])}))({title:v.title,draggable:!0},m,p,i.shared.providers)),A=On(((J,me,ue,pe,He,Ve)=>T8(J,me,E.some(ue),pe,He,Ve))({body:v.body,initialData:v.initialData},m,x,i,l,J=>lC(H,J))),N=cE(v.buttons),I=Z8(N),K=Gs(N.length!==0,On(((J,me,ue)=>Af(J,me,ue))({buttons:N},m,i))),Z=W8(()=>Y,{onBlock:J=>{am.block(V,(me,ue)=>{const pe=k.getOpt(V).map(He=>Rr(He.element));return z8(J.message,ue,i.shared.providers,pe)})},onUnblock:()=>{am.unblock(V)},onClose:()=>r.closeWindow()},i.shared.getSink),q=Se().os,V=ni({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...S],attributes:{role:"dialog",...q.isMacOS()?{"aria-label":v.title}:{"aria-labelledby":p}}},eventOrder:{[Wm()]:[ra.name(),tl.name()],[Yi()]:["execute-on-form"],[wc()]:["reflecting","execute-on-form"]},behaviours:vt([Kt.config({mode:"cyclic",onEscape:J=>(an(J,u2),E.some(!0)),useTabstopAt:J=>!g2(J)&&(Wt(J)!=="button"||Bo(J,"disabled")!=="disabled"),firstTabstop:1}),ra.config({channel:`${j0}-${m}`,updateState:(J,me)=>(w.set(me.internalDialog.size),H8(me.internalDialog.size,J),d(),E.some(me)),initialData:n}),vo.config({}),uo("execute-on-form",Z.concat([bd(jl(),(J,me)=>{Kt.focusIn(J)}),et(Zg(),(J,me)=>{J.getSystem().broadcastOn([A_],{newFocus:me.event.newFocus})})])),am.config({getRoot:()=>E.some(V)}),No.config({}),Mp({})]),components:[k.asSpec(),A.asSpec(),...K.map(J=>J.asSpec()).toArray()]}),H={getId:se(m),getRoot:se(V),getFooter:()=>K.map(J=>J.get(V)),getBody:()=>A.get(V),getFormWrapper:()=>{const J=A.get(V);return kn.getCurrent(J).getOr(J)},toggleFullscreen:()=>{$8(V,w.get())}},Y=dE(H,r.redial,I);return{dialog:V,instanceApi:Y}};var uE=tinymce.util.Tools.resolve("tinymce.util.URI");const wI=["insertContent","setContent","execCommand","close","block","unblock"],K8=n=>ve(n)&&wI.indexOf(n.mceAction)!==-1,mE=(n,r,i,l)=>{const d=De("dialog"),m=F8(n.title,d,l),p=(q=>{const V={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[kD(E.none(),{dom:{tag:"iframe",attributes:{src:q.url}},behaviours:vt([Un.config({}),vo.config({})])})]}],behaviours:vt([Kt.config({mode:"acyclic",useTabstopAt:Ko(g2)})])};return ia.parts.body(V)})(n),x=n.buttons.bind(q=>q.length===0?E.none():E.some(q8({buttons:q},d,l))),v=((q,V)=>{const H=(J,me)=>et(J,(ue,pe)=>{Y(ue,(He,Ve)=>{me(Z,He,pe.event,ue)})}),Y=(J,me)=>{ra.getState(J).get().each(ue=>{me(ue,J)})};return[...j8(H,V),H(bg,(J,me,ue)=>{me.onAction(J,{name:ue.name})})]})(0,V8(()=>K,l.shared.providers,r)),w={...n.height.fold(()=>({}),q=>({height:q+"px","max-height":q+"px"})),...n.width.fold(()=>({}),q=>({width:q+"px","max-width":q+"px"}))},S=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],k=new uE(n.url,{base_uri:new uE(window.location.href)}),A=`${k.protocol}://${k.host}${k.port?":"+k.port:""}`,N=Zr(),I=[ra.config({channel:`${j0}-${d}`,updateState:(q,V)=>E.some(V),initialData:n}),uo("messages",[us(()=>{const q=Fa(Ft(window),"message",V=>{if(k.isSameOrigin(new uE(V.raw.origin))){const H=V.raw.data;K8(H)?((Y,J,me)=>{switch(me.mceAction){case"insertContent":Y.insertContent(me.content);break;case"setContent":Y.setContent(me.content);break;case"execCommand":const ue=!!dt(me.ui)&&me.ui;Y.execCommand(me.cmd,ue,me.value);break;case"close":J.close();break;case"block":J.block(me.message);break;case"unblock":J.unblock()}})(i,Z,H):(Y=>!K8(Y)&&ve(Y)&&cn(Y,"mceAction"))(H)&&n.onMessage(Z,H)}});N.set(q)}),Ec(N.clear)]),tl.config({channels:{[AD]:{onReceive:(q,V)=>{ls(q.element,"iframe").each(H=>{const Y=H.dom.contentWindow;ge(Y)&&Y.postMessage(V,A)})}}}})],K=U8({id:d,header:m,body:p,footer:x,extraClasses:S,extraBehaviours:I,extraStyles:w},v,l),Z=(q=>{const V=H=>{q.getSystem().isConnected()&&H(q)};return{block:H=>{if(!xe(H))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");V(Y=>{oo(Y,Y3,{message:H})})},unblock:()=>{V(H=>{an(H,X3)})},close:()=>{V(H=>{an(H,u2)})},sendMessage:H=>{V(Y=>{Y.getSystem().broadcastOn([AD],H)})}}})(K);return{dialog:K,instanceApi:Z}},gE=(n,r)=>Bi(Ms("data",r,n)),cC=n=>Jp(n,".tox-alert-dialog")||Jp(n,".tox-confirm-dialog"),dC=(n,r,i,l)=>r&&i?[]:[Fs.config({contextual:{lazyContext:()=>E.some(yr(Ft(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:l},modes:["top"],lazyViewport:d=>gg(n,d.element).map(m=>({bounds:yf(m),optScrollEnv:E.some({currentScrollTop:m.element.dom.scrollTop,scrollElmTop:Nr(m.element).top})})).getOrThunk(()=>({bounds:Qs(),optScrollEnv:E.none()}))})],ox=n=>{const r=n.editor,i=M0(r),l=(v=>{const w=v.shared;return{open:(S,k)=>{const A=()=>{ia.hide(Z),k()},N=On(B_({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"cancel",v)),I=R8(),K=O8(A,w.providers),Z=ni(aC({lazySink:()=>w.getSink(),header:D8(I,K),body:N8(S,w.providers),footer:E.some(M8(B8([],[N.asSpec()]))),onEscape:A,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[et(Rp,A)],eventOrder:{}}));ia.show(Z);const q=N.get(Z);vo.focus(q)}}})(n.backstages.dialog),d=(v=>{const w=v.shared;return{open:(S,k)=>{const A=H=>{ia.hide(q),k(H)},N=On(B_({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"submit",v)),I=B_({context:"any",name:"no",text:"No",primary:!1,buttonType:E.some("secondary"),align:"end",enabled:!0,icon:E.none()},"cancel",v),K=R8(),Z=O8(()=>A(!1),w.providers),q=ni(aC({lazySink:()=>w.getSink(),header:D8(K,Z),body:N8(S,w.providers),footer:E.some(M8(B8([],[I,N.asSpec()]))),onEscape:()=>A(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[et(Rp,()=>A(!1)),et(m2,()=>A(!0))],eventOrder:{}}));ia.show(q);const V=N.get(q);vo.focus(V)}}})(n.backstages.dialog),m=(v,w)=>D1.open((S,k,A)=>{const N=k,I=((K,Z,q)=>{const V=De("dialog"),H=K.internalDialog,Y=F8(H.title,V,q),J=Ot(H.size),me=G1(J.get()).toArray(),ue=((fo,qo,Sn,Jn)=>{const ao=T8(fo,qo,E.none(),Sn,!1,Jn);return ia.parts.body(ao)})({body:H.body,initialData:H.initialData},V,q,fo=>lC($t,fo)),pe=cE(H.buttons),He=Z8(pe),Ve=Gs(pe.length!==0,q8({buttons:pe},V,q)),Le=W8(()=>lo,V8(()=>ut,q.shared.providers,Z),q.shared.getSink),qe={id:V,header:Y,body:ue,footer:Ve,extraClasses:me,extraBehaviours:[ra.config({channel:`${j0}-${V}`,updateState:(fo,qo)=>(J.set(qo.internalDialog.size),H8(qo.internalDialog.size,fo),E.some(qo)),initialData:K})],extraStyles:{}},ut=U8(qe,Le,q),$t={getId:se(V),getRoot:se(ut),getBody:()=>ia.getBody(ut),getFooter:()=>ia.getFooter(ut),getFormWrapper:()=>{const fo=ia.getBody(ut);return kn.getCurrent(fo).getOr(fo)},toggleFullscreen:()=>{$8(ut,J.get())}},lo=dE($t,Z.redial,He);return{dialog:ut,instanceApi:lo}})({dataValidator:A,initialData:N,internalDialog:S},{redial:D1.redial,closeWindow:()=>{ia.hide(I.dialog),w(I.instanceApi)}},n.backstages.dialog);return ia.show(I.dialog),I.instanceApi.setData(N),I.instanceApi},v),p=(v,w,S,k)=>D1.open((A,N,I)=>{const K=gE(N,I),Z=zn(),q=n.backstages.popup.shared.header.isPositionedAtTop(),V=()=>Z.on(me=>{zs.reposition(me),i&&q||Fs.refresh(me)}),H=G8({dataValidator:I,initialData:K,internalDialog:A},{redial:D1.redial,closeWindow:()=>{Z.on(zs.hide),r.off("ResizeEditor",V),r.off("ScrollWindow",Y),Z.clear(),S(H.instanceApi)}},n.backstages.popup,k.ariaAttrs,V),Y=()=>H.dialog.getSystem().broadcastOn([oi()],{target:H.dialog.element}),J=ni(zs.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:k.persistent?{event:"doNotDismissYet"}:{},...q?{}:{fireRepositionEventInstead:{}},inlineBehaviours:vt([uo("window-manager-inline-events",[et(Ug(),(me,ue)=>{an(H.dialog,Rp)})]),...dC(r,i,q,()=>H.dialog.getSystem().broadcastOn([xd()],{target:H.dialog.element}))]),isExtraPart:(me,ue)=>cC(ue)}));return Z.set(J),zs.showWithinBounds(J,Oc(H.dialog),{anchor:w},()=>{const me=r.inline?mr():Ft(r.getContainer()),ue=yr(me);return E.some(ue)}),i&&q||(Fs.refresh(J),r.on("ResizeEditor",V)),r.on("ScrollWindow",Y),H.instanceApi.setData(K),Kt.focusIn(H.dialog),H.instanceApi},v),x=(v,w,S,k)=>D1.open((A,N,I)=>{const K=gE(N,I),Z=zn(),q=n.backstages.popup.shared.header.isPositionedAtTop(),V=()=>Z.on(J=>{zs.reposition(J),Fs.refresh(J)}),H=G8({dataValidator:I,initialData:K,internalDialog:A},{redial:D1.redial,closeWindow:()=>{Z.on(zs.hide),r.off("ResizeEditor ScrollWindow ElementScroll",V),Z.clear(),S(H.instanceApi)}},n.backstages.popup,k.ariaAttrs,V),Y=ni(zs.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:k.persistent?{event:"doNotDismissYet"}:{},...q?{}:{fireRepositionEventInstead:{}},inlineBehaviours:vt([uo("window-manager-inline-events",[et(Ug(),(J,me)=>{an(H.dialog,Rp)})]),Fs.config({contextual:{lazyContext:()=>E.some(yr(Ft(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:J=>gg(r,J.element).map(me=>({bounds:yf(me),optScrollEnv:E.some({currentScrollTop:me.element.dom.scrollTop,scrollElmTop:Nr(me.element).top})})).getOrThunk(()=>({bounds:Qs(),optScrollEnv:E.none()}))})]),isExtraPart:(J,me)=>cC(me)}));return Z.set(Y),zs.showWithinBounds(Y,Oc(H.dialog),{anchor:w},()=>n.backstages.popup.shared.getSink().toOptional().bind(J=>{const me=gg(r,J.element).map(He=>yf(He)).getOr(Qs()),ue=yr(Ft(r.getContentAreaContainer())),pe=nh(ue,me);return E.some(dn(pe.x,pe.y,pe.width,pe.height-15))})),Fs.refresh(Y),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",V),H.instanceApi.setData(K),Kt.focusIn(H.dialog),H.instanceApi},v);return{open:(v,w,S)=>{if(!st(w)){if(w.inline==="toolbar")return p(v,n.backstages.popup.shared.anchors.inlineDialog(),S,w);if(w.inline==="bottom")return x(v,n.backstages.popup.shared.anchors.inlineBottomDialog(),S,w);if(w.inline==="cursor")return p(v,n.backstages.popup.shared.anchors.cursor(),S,w)}return m(v,S)},openUrl:(v,w)=>((S,k)=>D1.openUrl(A=>{const N=mE(A,{closeWindow:()=>{ia.hide(N.dialog),k(N.instanceApi)}},r,n.backstages.dialog);return ia.show(N.dialog),N.instanceApi},S))(v,w),alert:(v,w)=>{l.open(v,w)},close:v=>{v.close()},confirm:(v,w)=>{d.open(v,w)}}},_I=n=>{Tw(n),(r=>{const i=r.options.register,l=m=>{return Gt(m,xe)?{value:(p=m,G6(p.map((x,v)=>v%2==0?"#"+(w=>{return(S=w,R3(S)?E.some({value:Rd(S)}):E.none()).orThunk(()=>P3(w).map(M1)).getOrThunk(()=>{const k=document.createElement("canvas");k.height=1,k.width=1;const A=k.getContext("2d");A.clearRect(0,0,k.width,k.height),A.fillStyle="#FFFFFF",A.fillStyle=w,A.fillRect(0,0,1,1);const N=A.getImageData(0,0,1,1).data,I=N[0],K=N[1],Z=N[2],q=N[3];return M1(B1(I,K,Z,q))});var S})(x).value:x))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var p},d=m=>St(m)&&m>0?{value:m,valid:!0}:{valid:!1,message:"Must be a positive number."};i("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),i("color_map_raw",{processor:m=>Gt(m,xe)?{value:G6(m),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),i("color_map_background",{processor:l}),i("color_map_foreground",{processor:l}),i("color_cols",{processor:d,default:U3(r)}),i("color_cols_foreground",{processor:d,default:Z3(r,H3)}),i("color_cols_background",{processor:d,default:Z3(r,$3)}),i("custom_colors",{processor:"boolean",default:!0}),i("color_default_foreground",{processor:"string",default:v_}),i("color_default_background",{processor:"string",default:v_})})(n),(r=>{const i=r.options.register;i("contextmenu_avoid_overlap",{processor:"string",default:""}),i("contextmenu_never_use_native",{processor:"boolean",default:!1}),i("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:xe(l)||Gt(l,xe)?{value:u8(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(n)};eM.add("silver",n=>{_I(n);let r=()=>Qs();const{dialogs:i,popups:l,renderUI:d}=xI(n,{getPopupSinkBounds:()=>r()});jB(n,l.backstage.shared);const m=ox({editor:n,backstages:{popup:l.backstage,dialog:i.backstage}}),p=zn();return{renderUI:()=>{const x=d();return gg(n,l.getMothership().element).each(v=>{r=()=>yf(v)}),x},getWindowManagerImpl:se(m),getNotificationManagerImpl:()=>xM(n,{backstage:l.backstage},l.getMothership(),p),getPromotionElement:()=>ls(Ft(n.getContainer()),".tox-promotion").map(x=>x.dom).getOrNull()}})})();(function(){var Q=tinymce.util.Tools.resolve("tinymce.ModelManager");const re=g=>h=>(y=>{const C=typeof y;return y===null?"null":C==="object"&&Array.isArray(y)?"array":C==="object"&&(D=O=y,(L=String).prototype.isPrototypeOf(D)||O.constructor?.name===L.name)?"string":C;var D,O,L})(h)===g,ke=g=>h=>typeof h===g,be=g=>h=>g===h,Re=re("string"),xe=re("object"),ve=re("array"),_e=be(null),$e=ke("boolean"),lt=be(void 0),dt=g=>!(h=>h==null)(g),st=ke("function"),Ue=ke("number"),ge=()=>{},Je=g=>()=>g,St=g=>g,Gt=(g,h)=>g===h;function we(g,...h){return(...y)=>{const C=h.concat(y);return g.apply(null,C)}}const Tt=g=>h=>!g(h),tt=g=>g(),se=Je(!1),We=Je(!0);class ne{tag;value;static singletonNone=new ne(!1);constructor(h,y){this.tag=h,this.value=y}static some(h){return new ne(!0,h)}static none(){return ne.singletonNone}fold(h,y){return this.tag?y(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?ne.some(h(this.value)):ne.none()}bind(h){return this.tag?h(this.value):ne.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:ne.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return dt(h)?ne.some(h):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const nt=Array.prototype.slice,Ko=Array.prototype.indexOf,Co=Array.prototype.push,to=(g,h)=>{return y=g,C=h,Ko.call(y,C)>-1;var y,C},Me=(g,h)=>{for(let y=0,C=g.length;y<C;y++)if(h(g[y],y))return!0;return!1},Ut=(g,h)=>{const y=[];for(let C=0;C<g;C++)y.push(h(C));return y},E=(g,h)=>{const y=g.length,C=new Array(y);for(let D=0;D<y;D++){const O=g[D];C[D]=h(O,D)}return C},mo=(g,h)=>{for(let y=0,C=g.length;y<C;y++)h(g[y],y)},To=(g,h)=>{const y=[],C=[];for(let D=0,O=g.length;D<O;D++){const L=g[D];(h(L,D)?y:C).push(L)}return{pass:y,fail:C}},yn=(g,h)=>{const y=[];for(let C=0,D=g.length;C<D;C++){const O=g[C];h(O,C)&&y.push(O)}return y},ua=(g,h,y)=>(((C,D)=>{for(let O=C.length-1;O>=0;O--)D(C[O],O)})(g,(C,D)=>{y=h(y,C,D)}),y),pt=(g,h,y)=>(mo(g,(C,D)=>{y=h(y,C,D)}),y),En=(g,h)=>((y,C,D)=>{for(let O=0,L=y.length;O<L;O++){const z=y[O];if(C(z,O))return ne.some(z);if(D(z,O))break}return ne.none()})(g,h,se),Si=(g,h)=>{for(let y=0,C=g.length;y<C;y++)if(h(g[y],y))return ne.some(y);return ne.none()},ze=g=>{const h=[];for(let y=0,C=g.length;y<C;++y){if(!ve(g[y]))throw new Error("Arr.flatten item "+y+" was not an array, input: "+g);Co.apply(h,g[y])}return h},Ee=(g,h)=>ze(E(g,h)),yt=(g,h)=>{for(let y=0,C=g.length;y<C;++y)if(h(g[y],y)!==!0)return!1;return!0},un=(g,h)=>{const y={};for(let C=0,D=g.length;C<D;C++){const O=g[C];y[String(O)]=h(O,C)}return y},Oo=(g,h)=>h>=0&&h<g.length?ne.some(g[h]):ne.none(),Do=g=>Oo(g,0),Yo=g=>Oo(g,g.length-1),B=(g,h)=>{for(let y=0;y<g.length;y++){const C=h(g[y],y);if(C.isSome())return C}return ne.none()},tr=Object.keys,Os=Object.hasOwnProperty,Uo=(g,h)=>{const y=tr(g);for(let C=0,D=y.length;C<D;C++){const O=y[C];h(g[O],O)}},li=(g,h)=>br(g,(y,C)=>({k:C,v:h(y,C)})),br=(g,h)=>{const y={};return Uo(g,(C,D)=>{const O=h(C,D);y[O.k]=O.v}),y},Wo=(g,h)=>{const y=[];return Uo(g,(C,D)=>{y.push(h(C,D))}),y},In=g=>Wo(g,St),Io=(g,h)=>Os.call(g,h),Ge=g=>{if(!ve(g))throw new Error("cases must be an array");if(g.length===0)throw new Error("there must be at least one case");const h=[],y={};return mo(g,(C,D)=>{const O=tr(C);if(O.length!==1)throw new Error("one and only one name per case");const L=O[0],z=C[L];if(y[L]!==void 0)throw new Error("duplicate key detected:"+L);if(L==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ve(z))throw new Error("case arguments must be an array");h.push(L),y[L]=(...X)=>{const ae=X.length;if(ae!==z.length)throw new Error("Wrong number of arguments to case "+L+". Expected "+z.length+" ("+z+"), got "+ae);return{fold:(...he)=>{if(he.length!==g.length)throw new Error("Wrong number of arguments to fold. Expected "+g.length+", got "+he.length);return he[D].apply(null,X)},match:he=>{const ie=tr(he);if(h.length!==ie.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+ie.join(","));if(!yt(h,fe=>to(ie,fe)))throw new Error("Not all branches were specified when using match. Specified: "+ie.join(", ")+`
Required: `+h.join(", "));return he[L].apply(null,X)},log:he=>{console.log(he,{constructors:h,constructor:L,params:X})}}}}),y},gt=g=>{let h=g;return{get:()=>h,set:y=>{h=y}}},Et=g=>g.slice(0).sort(),xt=(g,h)=>{const y=yn(h,C=>!to(g,C));y.length>0&&(C=>{throw new Error("Unsupported keys for object: "+Et(C).join(", "))})(y)},Gn=g=>((h,y)=>((C,D,O)=>{if(D.length===0)throw new Error("You must specify at least one required field.");return((L,z)=>{if(!ve(z))throw new Error("The "+L+" fields must be an array. Was: "+z+".");mo(z,X=>{if(!Re(X))throw new Error("The value "+X+" in the "+L+" fields was not a string.")})})("required",D),(L=>{const z=Et(L);En(z,(X,ae)=>ae<z.length-1&&X===z[ae+1]).each(X=>{throw new Error("The field: "+X+" occurs more than once in the combined fields: ["+z.join(", ")+"].")})})(D),L=>{const z=tr(L);yt(D,ae=>to(z,ae))||((ae,he)=>{throw new Error("All required keys ("+Et(ae).join(", ")+") were not specified. Specified keys were: "+Et(he).join(", ")+".")})(D,z),C(D,z);const X=yn(D,ae=>!O.validate(L[ae],ae));return X.length>0&&((ae,he)=>{throw new Error("All values need to be of type: "+he+". Keys ("+Et(ae).join(", ")+") were not.")})(X,O.label),L}})(h,y,{validate:st,label:"function"}))(xt,g),gn=g=>{const h=O=>O(g),y=Je(g),C=()=>D,D={tag:!0,inner:g,fold:(O,L)=>L(g),isValue:We,isError:se,map:O=>jc.value(O(g)),mapError:C,bind:h,exists:h,forall:h,getOr:y,or:C,getOrThunk:y,orThunk:C,getOrDie:y,each:O=>{O(g)},toOptional:()=>ne.some(g)};return D},Zo=g=>{const h=()=>y,y={tag:!1,inner:g,fold:(D,O)=>D(g),isValue:se,isError:We,map:h,mapError:D=>jc.error(D(g)),bind:h,exists:se,forall:We,getOr:St,or:St,getOrThunk:tt,orThunk:tt,getOrDie:(C=String(g),()=>{throw new Error(C)}),each:ge,toOptional:ne.none};var C;return y},jc={value:gn,error:Zo,fromOption:(g,h)=>g.fold(()=>Zo(h),gn)},An=typeof window<"u"?window:Function("return this;")(),Is=g=>{const h=g.replace(/\./g,"-");return{resolve:y=>h+"-"+y}},Wc=(g,h,y=Gt)=>g.exists(C=>y(C,h)),qc=g=>{const h=[],y=C=>{h.push(C)};for(let C=0;C<g.length;C++)g[C].each(y);return h},dr=(g,h)=>g?ne.some(h):ne.none(),La=(g,h)=>((y,C)=>{let D=C??An;for(let O=0;O<y.length&&D!=null;++O)D=D[y[O]];return D})(g.split("."),h),ma=()=>{const g=(h=>{const y=gt(ne.none()),C=()=>y.get().each(h);return{clear:()=>{C(),y.set(ne.none())},isSet:()=>y.get().isSome(),get:()=>y.get(),set:D=>{C(),y.set(ne.some(D))}}})(ge);return{...g,on:h=>g.get().each(h)}},Rl=(g,h,y)=>h===""||g.length>=h.length&&g.substr(y,y+h.length)===h,Tr=(g,h,y=0,C)=>{const D=g.indexOf(h,y);return D!==-1&&(!!lt(C)||D+h.length<=C)},no=(g,h)=>Rl(g,h,0),cn=(g,h)=>Rl(g,h,g.length-h.length),Kn=(g=>h=>h.replace(g,""))(/^\s+|\s+$/g),qs=g=>g.length>0,Ot=g=>{let h,y=!1;return(...C)=>(y||(y=!0,h=g.apply(null,C)),h)},Ei=["tfoot","thead","tbody","colgroup"],Nl=(g,h,y)=>({element:g,rowspan:h,colspan:y}),Yr=(g,h,y)=>({element:g,cells:h,section:y}),Hs=(g,h,y)=>({element:g,isNew:h,isLocked:y}),on=(g,h,y,C)=>({element:g,cells:h,section:y,isNew:C}),$r=(g,h,y)=>{const C=g.cells,D=C.slice(0,h),O=C.slice(h),L=D.concat(y).concat(O);return Jo(g,L)},Sg=(g,h,y)=>$r(g,h,[y]),mc=(g,h,y)=>{g.cells[h]=y},Jo=(g,h)=>on(g.element,h,g.section,g.isNew),Ur=(g,h)=>g.cells[h],Dr=(g,h)=>Ur(g,h).element,ga=g=>g.cells.length,_s=g=>{const h=To(g,y=>y.section==="colgroup");return{rows:h.fail,cols:h.pass}},Cn=(g,h,y)=>{const C=E(g.cells,y);return on(h(g.element),C,g.section,!0)},ko=g=>{if(g==null)throw new Error("Node cannot be null or undefined");return{dom:g}},De={fromHtml:(g,h)=>{const y=(h||document).createElement("div");if(y.innerHTML=g,!y.hasChildNodes()||y.childNodes.length>1){const C="HTML does not have a single root node";throw console.error(C,g),new Error(C)}return ko(y.childNodes[0])},fromTag:(g,h)=>{const y=(h||document).createElement(g);return ko(y)},fromText:(g,h)=>{const y=(h||document).createTextNode(g);return ko(y)},fromDom:ko,fromPoint:(g,h,y)=>ne.from(g.dom.elementFromPoint(h,y)).map(ko)},Ld=(g,h)=>{const y=g.document.createRange();return y.selectNode(h.dom),y},Cs=(g,h)=>{const y=g.document.createRange();return ll(y,h),y},ll=(g,h)=>g.selectNodeContents(h.dom),jn=(g,h,y)=>{const C=g.document.createRange();var D;return D=C,h.fold(O=>{D.setStartBefore(O.dom)},(O,L)=>{D.setStart(O.dom,L)},O=>{D.setStartAfter(O.dom)}),((O,L)=>{L.fold(z=>{O.setEndBefore(z.dom)},(z,X)=>{O.setEnd(z.dom,X)},z=>{O.setEndAfter(z.dom)})})(C,y),C},cl=(g,h,y,C,D)=>{const O=g.document.createRange();return O.setStart(h.dom,y),O.setEnd(C.dom,D),O},Ml=g=>({left:g.left,top:g.top,right:g.right,bottom:g.bottom,width:g.width,height:g.height}),Fd=Ge([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Gs=(g,h,y)=>h(De.fromDom(y.startContainer),y.startOffset,De.fromDom(y.endContainer),y.endOffset),Sm=(g,h)=>{const y=((C,D)=>D.match({domRange:O=>({ltr:Je(O),rtl:ne.none}),relative:(O,L)=>({ltr:Ot(()=>jn(C,O,L)),rtl:Ot(()=>ne.some(jn(C,L,O)))}),exact:(O,L,z,X)=>({ltr:Ot(()=>cl(C,O,L,z,X)),rtl:Ot(()=>ne.some(cl(C,z,X,O,L)))})}))(g,h);return((C,D)=>{const O=D.ltr();return O.collapsed?D.rtl().filter(L=>L.collapsed===!1).map(L=>Fd.rtl(De.fromDom(L.endContainer),L.endOffset,De.fromDom(L.startContainer),L.startOffset)).getOrThunk(()=>Gs(0,Fd.ltr,O)):Gs(0,Fd.ltr,O)})(0,y)},Ks=(g,h)=>Sm(g,h).match({ltr:(y,C,D,O)=>{const L=g.document.createRange();return L.setStart(y.dom,C),L.setEnd(D.dom,O),L},rtl:(y,C,D,O)=>{const L=g.document.createRange();return L.setStart(D.dom,O),L.setEnd(y.dom,C),L}});Fd.ltr,Fd.rtl;const Zr=(g,h)=>{const y=g.dom;if(y.nodeType!==1)return!1;{const C=y;if(C.matches!==void 0)return C.matches(h);if(C.msMatchesSelector!==void 0)return C.msMatchesSelector(h);if(C.webkitMatchesSelector!==void 0)return C.webkitMatchesSelector(h);if(C.mozMatchesSelector!==void 0)return C.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},zn=g=>g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11||g.childElementCount===0,Bl=(g,h)=>{const y=h===void 0?document:h.dom;return zn(y)?ne.none():ne.from(y.querySelector(g)).map(De.fromDom)},os=(g,h)=>g.dom===h.dom,Ys=(g,h)=>{const y=g.dom,C=h.dom;return y!==C&&y.contains(C)},Mu=Zr,zd=()=>Bu(0,0),Bu=(g,h)=>({major:g,minor:h}),Pl={nu:Bu,detect:(g,h)=>{const y=String(h).toLowerCase();return g.length===0?zd():((C,D)=>{const O=((z,X)=>{for(let ae=0;ae<z.length;ae++){const he=z[ae];if(he.test(X))return he}})(C,D);if(!O)return{major:0,minor:0};const L=z=>Number(D.replace(O,"$"+z));return Bu(L(1),L(2))})(g,y)},unknown:zd},gc=(g,h)=>{const y=String(h).toLowerCase();return En(g,C=>C.search(y))},Pu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xr=g=>h=>Tr(h,g),Iu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:g=>Tr(g,"edge/")&&Tr(g,"chrome")&&Tr(g,"safari")&&Tr(g,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Pu],search:g=>Tr(g,"chrome")&&!Tr(g,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:g=>Tr(g,"msie")||Tr(g,"trident")},{name:"Opera",versionRegexes:[Pu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xr("firefox")},{name:"Safari",versionRegexes:[Pu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:g=>(Tr(g,"safari")||Tr(g,"mobile/"))&&Tr(g,"applewebkit")}],qp=[{name:"Windows",search:xr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:g=>Tr(g,"iphone")||Tr(g,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:xr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xr("linux"),versionRegexes:[]},{name:"Solaris",search:xr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:xr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Rs={browsers:Je(Iu),oses:Je(qp)},Eg="Edge",Ft="Chromium",Vd="Opera",Ag="Firefox",Tg="Safari",Gc=g=>{const h=g.current,y=g.version,C=D=>()=>h===D;return{current:h,version:y,isEdge:C(Eg),isChromium:C(Ft),isIE:C("IE"),isOpera:C(Vd),isFirefox:C(Ag),isSafari:C(Tg)}},Dg=()=>Gc({current:void 0,version:Pl.unknown()}),Ff=Gc,Il="Windows",ci="Android",zf="Linux",Vf="macOS",Xo="Solaris",$s="FreeBSD",Og="ChromeOS",Kc=g=>{const h=g.current,y=g.version,C=D=>()=>h===D;return{current:h,version:y,isWindows:C(Il),isiOS:C("iOS"),isAndroid:C(ci),isMacOS:C(Vf),isLinux:C(zf),isSolaris:C(Xo),isFreeBSD:C($s),isChromeOS:C(Og)}},dl=()=>Kc({current:void 0,version:Pl.unknown()}),Hf=Kc,Em=g=>window.matchMedia(g).matches;let Or=Ot(()=>((g,h,y)=>{const C=Rs.browsers(),D=Rs.oses(),O=h.bind(X=>((ae,he)=>B(he.brands,ie=>{const fe=ie.brand.toLowerCase();return En(ae,de=>fe===de.brand?.toLowerCase()).map(de=>({current:de.name,version:Pl.nu(parseInt(ie.version,10),0)}))}))(C,X)).orThunk(()=>((X,ae)=>gc(X,ae).map(he=>{const ie=Pl.detect(he.versionRegexes,ae);return{current:he.name,version:ie}}))(C,g)).fold(Dg,Ff),L=((X,ae)=>gc(X,ae).map(he=>{const ie=Pl.detect(he.versionRegexes,ae);return{current:he.name,version:ie}}))(D,g).fold(dl,Hf),z=((X,ae,he,ie)=>{const fe=X.isiOS()&&/ipad/i.test(he)===!0,de=X.isiOS()&&!fe,Oe=X.isiOS()||X.isAndroid(),Ae=Oe||ie("(pointer:coarse)"),ot=fe||!de&&Oe&&ie("(min-device-width:768px)"),at=de||Oe&&!ot,bt=ae.isSafari()&&X.isiOS()&&/safari/i.test(he)===!1,_t=!at&&!ot&&!bt;return{isiPad:Je(fe),isiPhone:Je(de),isTablet:Je(ot),isPhone:Je(at),isTouch:Je(Ae),isAndroid:X.isAndroid,isiOS:X.isiOS,isWebView:Je(bt),isDesktop:Je(_t)}})(L,O,g,y);return{browser:O,os:L,deviceType:z}})(window.navigator.userAgent,ne.from(window.navigator.userAgentData),Em));const Yc=()=>Or(),Gp=Object.getPrototypeOf,Lu=g=>{const h=La("ownerDocument.defaultView",g);return xe(g)&&((y=>((C,D)=>{const O=((L,z)=>La(L,z))(C,D);if(O==null)throw new Error(C+" not available on this browser");return O})("HTMLElement",y))(h).prototype.isPrototypeOf(g)||/^HTML\w*Element$/.test(Gp(g).constructor.name))},ks=g=>g.dom.nodeName.toLowerCase(),Hd=g=>g.dom.nodeType,di=g=>h=>Hd(h)===g,Xc=g=>Hd(g)===8||ks(g)==="#comment",Us=g=>Ai(g)&&Lu(g.dom),Ai=di(1),Ti=di(3),$f=di(9),Am=di(11),fa=g=>h=>Ai(h)&&ks(h)===g,$d=g=>De.fromDom(g.dom.ownerDocument),Ud=g=>$f(g)?g:$d(g),ul=g=>ne.from(g.dom.parentNode).map(De.fromDom),Tm=g=>ne.from(g.dom.parentElement).map(De.fromDom),Zd=(g,h)=>{const y=st(h)?h:se;let C=g.dom;const D=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const O=C.parentNode,L=De.fromDom(O);if(D.push(L),y(L)===!0)break;C=O}return D},Rg=g=>ne.from(g.dom.previousSibling).map(De.fromDom),Qc=g=>ne.from(g.dom.nextSibling).map(De.fromDom),Ga=g=>E(g.dom.childNodes,De.fromDom),j=(g,h)=>{const y=g.dom.childNodes;return ne.from(y[h]).map(De.fromDom)},ce=g=>Am(g)&&dt(g.dom.host),Se=g=>De.fromDom(g.dom.getRootNode()),rt=g=>De.fromDom(g.dom.host),Bt=g=>{const h=De.fromDom((z=>{if(dt(z.target)){const X=De.fromDom(z.target);if(Ai(X)&&dt(X.dom.shadowRoot)&&z.composed&&z.composedPath){const ae=z.composedPath();if(ae)return Do(ae)}}return ne.from(z.target)})(g).getOr(g.target)),y=()=>g.stopPropagation(),C=()=>g.preventDefault(),D=(O=C,L=y,(...z)=>O(L.apply(null,z)));var O,L;return((z,X,ae,he,ie,fe,de)=>({target:z,x:X,y:ae,stop:he,prevent:ie,kill:fe,raw:de}))(h,g.clientX,g.clientY,y,C,D,g)},Wt=(g,h,y,C)=>{g.dom.removeEventListener(h,y,C)},nn=We,Yn=(g,h,y)=>((C,D,O,L)=>((z,X,ae,he,ie)=>{const fe=((de,Oe)=>Ae=>{de(Ae)&&Oe(Bt(Ae))})(ae,he);return z.dom.addEventListener(X,fe,ie),{unbind:we(Wt,z,X,fe,ie)}})(C,D,O,L,!1))(g,h,nn,y),Qo=Bt,P=(g,h)=>{ul(g).each(y=>{y.dom.insertBefore(h.dom,g.dom)})},W=(g,h)=>{Qc(g).fold(()=>{ul(g).each(y=>{Ie(y,h)})},y=>{P(y,h)})},le=(g,h)=>{(C=>j(C,0))(g).fold(()=>{Ie(g,h)},C=>{g.dom.insertBefore(h.dom,C.dom)})},Ie=(g,h)=>{g.dom.appendChild(h.dom)},jt=(g,h)=>{P(g,h),Ie(h,g)},fn=(g,h)=>{mo(h,(y,C)=>{const D=C===0?g:h[C-1];W(D,y)})},is=(g,h)=>{mo(h,y=>{Ie(g,y)})},Xr=(g,h,y)=>{if(!(Re(y)||$e(y)||Ue(y)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",y,":: Element ",g),new Error("Attribute value was not simple");g.setAttribute(h,y+"")},Hn=(g,h,y)=>{Xr(g.dom,h,y)},pa=(g,h)=>{const y=g.dom;Uo(h,(C,D)=>{Xr(y,D,C)})},Ca=(g,h)=>{const y=g.dom.getAttribute(h);return y===null?void 0:y},Zi=(g,h)=>ne.from(Ca(g,h)),ur=(g,h)=>{g.dom.removeAttribute(h)},ml=g=>pt(g.dom.attributes,(h,y)=>(h[y.name]=y.value,h),{}),Jc=g=>{g.dom.textContent="",mo(Ga(g),h=>{ka(h)})},ka=g=>{const h=g.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},Ll=g=>{const h=Ga(g);h.length>0&&fn(g,h),ka(g)},Kp=(g,h)=>De.fromDom(g.dom.cloneNode(h)),Uf=g=>Kp(g,!1),Qr=g=>Kp(g,!0),Ng=(g,h)=>{const y=De.fromTag(h),C=ml(g);return pa(y,C),y},Dm=g=>g.style!==void 0&&st(g.style.getPropertyValue),ed=g=>{const h=Ti(g)?g.dom.parentNode:g.dom;if(h==null||h.ownerDocument===null)return!1;const y=h.ownerDocument;return(O=>{const L=Se(O);return ce(L)?ne.some(L):ne.none()})(De.fromDom(h)).fold(()=>y.body.contains(h),(C=ed,D=rt,O=>C(D(O))));var C,D},yx=(g,h,y)=>{if(!Re(y))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",y,":: Element ",g),new Error("CSS value must be a string: "+y);Dm(g)&&g.style.setProperty(h,y)},Sa=(g,h,y)=>{const C=g.dom;yx(C,h,y)},Yp=(g,h)=>{const y=g.dom;Uo(h,(C,D)=>{yx(y,D,C)})},Fu=(g,h)=>{const y=g.dom,C=window.getComputedStyle(y).getPropertyValue(h);return C!==""||ed(g)?C:Fa(y,h)},Fa=(g,h)=>Dm(g)?g.style.getPropertyValue(h):"",tb=(g,h)=>{const y=g.dom,C=Fa(y,h);return ne.from(C).filter(D=>D.length>0)},td=(g,h)=>{((y,C)=>{Dm(y)&&y.style.removeProperty(C)})(g.dom,h),Wc(Zi(g,"style").map(Kn),"")&&ur(g,"style")},ob=(g,h)=>{const y=D=>{const O=h(D);if(O<=0||O===null){const L=Fu(D,g);return parseFloat(L)||0}return O},C=(D,O)=>pt(O,(L,z)=>{const X=Fu(D,z),ae=X===void 0?0:parseInt(X,10);return isNaN(ae)?L:L+ae},0);return{set:(D,O)=>{if(!Ue(O)&&!O.match(/^[0-9]+$/))throw new Error(g+".set accepts only positive integer values. Value was "+O);const L=D.dom;Dm(L)&&(L.style[g]=O+"px")},get:y,getOuter:y,aggregate:C,max:(D,O,L)=>{const z=C(D,L);return O>z?O-z:0}}},vr=(g,h,y)=>((C,D)=>(O=>{const L=parseFloat(O);return isNaN(L)?ne.none():ne.some(L)})(C).getOr(D))(Fu(g,h),y),gl=ob("height",g=>{const h=g.dom;return ed(g)?h.getBoundingClientRect().height:h.offsetHeight}),jd=g=>gl.get(g),od=g=>gl.getOuter(g),za=ob("width",g=>{const h=g.dom;return ed(g)?h.getBoundingClientRect().width:h.offsetWidth}),Fl=g=>za.get(g),wx=g=>za.getOuter(g),_x=g=>((h,y)=>{const C=h.dom,D=C.getBoundingClientRect().width||C.offsetWidth;return((O,L,z,X)=>L-vr(O,`padding-${z}`,0)-vr(O,`padding-${X}`,0)-vr(O,`border-${z}-width`,0)-vr(O,`border-${X}-width`,0))(h,D,"left","right")})(g),Di=(g,h)=>({left:g,top:h,translate:(y,C)=>Di(g+y,h+C)}),ui=Di,fl=(g,h)=>g!==void 0?g:h!==void 0?h:0,io=g=>{const h=g.dom.ownerDocument,y=h.body,C=h.defaultView,D=h.documentElement;if(y===g.dom)return ui(y.offsetLeft,y.offsetTop);const O=fl(C?.pageYOffset,D.scrollTop),L=fl(C?.pageXOffset,D.scrollLeft),z=fl(D.clientTop,y.clientTop),X=fl(D.clientLeft,y.clientLeft);return U2(g).translate(L-X,O-z)},U2=g=>{const h=g.dom,y=h.ownerDocument.body;return y===h?ui(y.offsetLeft,y.offsetTop):ed(g)?(C=>{const D=C.getBoundingClientRect();return ui(D.left,D.top)})(h):ui(0,0)},Bo=(g=>{const h=y=>g(y)?ne.from(y.dom.nodeValue):ne.none();return{get:y=>{if(!g(y))throw new Error("Can only get text value of a text node");return h(y).getOr("")},getOption:h,set:(y,C)=>{if(!g(y))throw new Error("Can only set raw text value of a text node");y.dom.nodeValue=C}}})(Ti),Jr=g=>Bo.get(g),nb=g=>Bo.getOption(g),Xs=(g,h)=>Bo.set(g,h),sb=(g,h)=>y=>Wd(y)==="rtl"?h:g,Wd=g=>Fu(g,"direction")==="rtl"?"rtl":"ltr";var Cx=(g,h,y,C,D)=>g(y,C)?ne.some(y):st(D)&&D(y)?ne.none():h(y,C,D);const Om=(g,h,y)=>{let C=g.dom;const D=st(y)?y:se;for(;C.parentNode;){C=C.parentNode;const O=De.fromDom(C);if(h(O))return ne.some(O);if(D(O))break}return ne.none()},Mg=(g,h,y)=>Cx((C,D)=>D(C),Om,g,h,y),Bg=(g,h,y)=>Om(g,C=>Zr(C,h),y),Zf=(g,h)=>(y=>En(y.dom.childNodes,C=>{return D=De.fromDom(C),Zr(D,h);var D}).map(De.fromDom))(g),ct=(g,h)=>Bl(h,g),mr=(g,h,y)=>Cx((C,D)=>Zr(C,D),Bg,g,h,y),Z2=g=>g.dom.classList!==void 0,kx=(g,h)=>((y,C,D)=>{const O=((L,z)=>{const X=Ca(L,z);return X===void 0||X===""?[]:X.split(" ")})(y,C).concat([D]);return Hn(y,C,O.join(" ")),!0})(g,"class",h),nd=(g,h)=>{Z2(g)?g.dom.classList.add(h):kx(g,h)},Ro=(g,h)=>Z2(g)&&g.dom.classList.contains(h),oe=g=>mr(g,"[contenteditable]"),Rm=(g,h=!1)=>ed(g)?g.dom.isContentEditable:oe(g).fold(Je(h),y=>Va(y)==="true"),Va=g=>g.dom.contentEditable,rb=(g,h)=>{let y=[];return mo(Ga(g),C=>{h(C)&&(y=y.concat([C])),y=y.concat(rb(C,h))}),y},gr=(g,h,y)=>((C,D,O)=>yn(Zd(C,O),L=>Zr(L,h)))(g,0,y),zu=(g,h)=>(y=>yn(Ga(y),C=>Zr(C,h)))(g),sd=(g,h)=>((y,C)=>{const D=C===void 0?document:C.dom;return zn(D)?[]:E(D.querySelectorAll(y),De.fromDom)})(h,g),pn=g=>ks(g)==="img"?1:nb(g).fold(()=>Ga(g).length,h=>h.length),Xp=["img","br"],Sx=g=>nb(g).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||to(Xp,ks(g))||(h=>Us(h)&&Ca(h,"contenteditable")==="false")(g),Pg=g=>((h,y)=>{const C=D=>{for(let O=0;O<D.childNodes.length;O++){const L=De.fromDom(D.childNodes[O]);if(y(L))return ne.some(L);const z=C(D.childNodes[O]);if(z.isSome())return z}return ne.none()};return C(h.dom)})(g,Sx),Rr=g=>Vu(g,Sx),Vu=(g,h)=>{const y=C=>{const D=Ga(C);for(let O=D.length-1;O>=0;O--){const L=D[O];if(h(L))return ne.some(L);const z=y(L);if(z.isSome())return z}return ne.none()};return y(g)},qd=(g,h,y,C)=>({start:g,soffset:h,finish:y,foffset:C}),Ig=Ge([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ln={before:Ig.before,on:Ig.on,after:Ig.after,cata:(g,h,y,C)=>g.fold(h,y,C),getStart:g=>g.fold(St,St,St)},Gd=Ge([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Lg={domRange:Gd.domRange,relative:Gd.relative,exact:Gd.exact,exactFromRange:g=>Gd.exact(g.start,g.soffset,g.finish,g.foffset),getWin:g=>{const h=(y=>y.match({domRange:C=>De.fromDom(C.startContainer),relative:(C,D)=>Ln.getStart(C),exact:(C,D,O,L)=>C}))(g);return De.fromDom(Ud(h).dom.defaultView)},range:qd},Ns=(g,h)=>{const y=ks(g);return y==="input"?Ln.after(g):to(["br","img"],y)?h===0?Ln.before(g):Ln.after(g):Ln.on(g,h)},sn=g=>ne.from(g.getSelection()),Nr=(g,h)=>{sn(g).each(y=>{y.removeAllRanges(),y.addRange(h)})},Nm=(g,h,y,C,D)=>{const O=cl(g,h,y,C,D);Nr(g,O)},Oi=(g,h)=>Sm(g,h).match({ltr:(y,C,D,O)=>{Nm(g,y,C,D,O)},rtl:(y,C,D,O)=>{sn(g).each(L=>{if(L.setBaseAndExtent)L.setBaseAndExtent(y.dom,C,D.dom,O);else if(L.extend)try{((z,X,ae,he,ie,fe)=>{X.collapse(ae.dom,he),X.extend(ie.dom,fe)})(0,L,y,C,D,O)}catch{Nm(g,D,O,y,C)}else Nm(g,D,O,y,C)})}}),jo=(g,h,y,C,D)=>{const O=((L,z,X,ae)=>{const he=Ns(L,z),ie=Ns(X,ae);return Lg.relative(he,ie)})(h,y,C,D);Oi(g,O)},Ex=(g,h,y)=>{const C=((D,O)=>{const L=D.fold(Ln.before,Ns,Ln.after),z=O.fold(Ln.before,Ns,Ln.after);return Lg.relative(L,z)})(h,y);Oi(g,C)},Fg=g=>{if(g.rangeCount>0){const h=g.getRangeAt(0),y=g.getRangeAt(g.rangeCount-1);return ne.some(qd(De.fromDom(h.startContainer),h.startOffset,De.fromDom(y.endContainer),y.endOffset))}return ne.none()},Ax=g=>{if(g.anchorNode===null||g.focusNode===null)return Fg(g);{const h=De.fromDom(g.anchorNode),y=De.fromDom(g.focusNode);return((C,D,O,L)=>{const z=((ae,he,ie,fe)=>{const de=$d(ae).dom.createRange();return de.setStart(ae.dom,he),de.setEnd(ie.dom,fe),de})(C,D,O,L),X=os(C,O)&&D===L;return z.collapsed&&!X})(h,g.anchorOffset,y,g.focusOffset)?ne.some(qd(h,g.anchorOffset,y,g.focusOffset)):Fg(g)}},Kd=(g,h,y=!0)=>{const C=(y?Cs:Ld)(g,h);Nr(g,C)},fr=g=>(h=>sn(h).filter(y=>y.rangeCount>0).bind(Ax))(g).map(h=>Lg.exact(h.start,h.soffset,h.finish,h.foffset)),Ka=(g,h,y)=>((C,D,O)=>((L,z,X)=>L.caretPositionFromPoint?((ae,he,ie)=>ne.from(ae.caretPositionFromPoint?.(he,ie)).bind(fe=>{if(fe.offsetNode===null)return ne.none();const de=ae.createRange();return de.setStart(fe.offsetNode,fe.offset),de.collapse(),ne.some(de)}))(L,z,X):L.caretRangeFromPoint?((ae,he,ie)=>ne.from(ae.caretRangeFromPoint?.(he,ie)))(L,z,X):ne.none())(C.document,D,O).map(L=>qd(De.fromDom(L.startContainer),L.startOffset,De.fromDom(L.endContainer),L.endOffset)))(g,h,y),j2={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},W2=(()=>{const g="[0-9]+",h="[eE][+-]?"+g,y=D=>`(?:${D})?`,C=["Infinity",g+"\\."+y(g)+y(h),"\\."+g+y(h),g+y(h)].join("|");return new RegExp(`^([+-]?(?:${C}))(.*)$`)})(),ea=g=>E(g,Je(0)),Tx=(g,h,y,C,D)=>D(g.slice(0,h)).concat(C).concat(D(g.slice(y))),fc=g=>(h,y,C,D)=>{if(g(C)){const O=Math.max(D,h[y]-Math.abs(C)),L=Math.abs(O-h[y]);return C>=0?L:-L}return C},ls=fc(g=>g<0),pl=fc(We),ji=()=>{const g=(y,C,D,O)=>{const L=(100+D)/100,z=Math.max(O,(y[C]+D)/L);return E(y,(X,ae)=>(ae===C?z:X/L)-X)},h=(y,C,D,O,L,z)=>z?g(y,C,O,L):((X,ae,he,ie,fe)=>{const de=ls(X,ae,ie,fe);return Tx(X,ae,he+1,[de,0],ea)})(y,C,D,O,L);return{resizeTable:(y,C)=>y(C),clampTableDelta:ls,calcLeftEdgeDeltas:h,calcMiddleDeltas:(y,C,D,O,L,z,X)=>h(y,D,O,L,z,X),calcRightEdgeDeltas:(y,C,D,O,L,z)=>{if(z)return g(y,D,O,L);{const X=ls(y,D,O,L);return ea(y.slice(0,D)).concat([X])}},calcRedestributedWidths:(y,C,D,O)=>{if(O){const L=(C+D)/C,z=E(y,X=>X/L);return{delta:100*L-100,newSizes:z}}return{delta:D,newSizes:y}}}},Mm=()=>{const g=(h,y,C,D,O)=>{const L=pl(h,D>=0?C:y,D,O);return Tx(h,y,C+1,[L,-L],ea)};return{resizeTable:(h,y,C)=>{C&&h(y)},clampTableDelta:(h,y,C,D,O)=>{if(O){if(C>=0)return C;{const L=pt(h,(z,X)=>z+X-D,0);return Math.max(-L,C)}}return ls(h,y,C,D)},calcLeftEdgeDeltas:g,calcMiddleDeltas:(h,y,C,D,O,L)=>g(h,C,D,O,L),calcRightEdgeDeltas:(h,y,C,D,O,L)=>{if(L)return ea(h);{const z=D/h.length;return E(h,Je(z))}},calcRedestributedWidths:(h,y,C,D)=>({delta:0,newSizes:h})}},Ya=(g,h,y=0)=>Zi(g,h).map(C=>parseInt(C,10)).getOr(y),jf=(g,h)=>Ya(g,h,1),zl=g=>fa("col")(g)?Ya(g,"span",1)>1:jf(g,"colspan")>1,rd=(g,h)=>parseInt(Fu(g,h),10),Ss=Je(10),ab=Je(10),rn=(g,h)=>pr(g,h,We),pr=(g,h,y)=>Ee(Ga(g),C=>Zr(C,h)?y(C)?[C]:[]:pr(C,h,y)),Vl=(g,h)=>((y,C,D=se)=>D(C)?ne.none():to(y,ks(C))?ne.some(C):Bg(C,y.join(","),O=>Zr(O,"table")||D(O)))(["td","th"],g,h),ta=g=>rn(g,"th,td"),Wf=g=>Zr(g,"colgroup")?zu(g,"col"):Ee(Xd(g),h=>zu(h,"col")),jr=(g,h)=>mr(g,"table",h),Yd=g=>rn(g,"tr"),Xd=g=>jr(g).fold(Je([]),h=>zu(h,"colgroup")),oa=fa("th"),Qp=g=>yt(g,h=>oa(h.element)),Jp=(g,h)=>g&&h?"sectionCells":g?"section":"cells",Dx=g=>{const h=g.section==="thead",y=Wc(eh(g.cells),"th");return g.section==="tfoot"?{type:"footer"}:h||y?{type:"header",subType:Jp(h,y)}:{type:"body"}},eh=g=>{const h=yn(g,y=>oa(y.element));return h.length===0?ne.some("td"):h.length===g.length?ne.some("th"):ne.none()},th=(g,h)=>E(g,y=>{if(ks(y)==="colgroup"){const C=E(Wf(y),D=>{const O=Ya(D,"span",1);return Nl(D,1,O)});return Yr(y,C,"colgroup")}{const C=E(ta(y),D=>{const O=Ya(D,"rowspan",1),L=Ya(D,"colspan",1);return Nl(D,O,L)});return Yr(y,C,h(y))}}),ib=g=>ul(g).map(h=>{const y=ks(h);return(C=>to(Ei,C))(y)?y:"tbody"}).getOr("tbody"),lb=g=>{const h=Yd(g),y=[...Xd(g),...h];return th(y,ib)},cb="data-snooker-locked-cols",db=g=>Zi(g,cb).bind(h=>ne.from(h.match(/\d+/g))).map(h=>un(h,We)),ad=g=>{const h=pt(_s(g).rows,(C,D)=>(mo(D.cells,(O,L)=>{O.isLocked&&(C[L]=!0)}),C),{}),y=Wo(h,(C,D)=>parseInt(D,10));return(C=>{const D=nt.call(C,0);return D.sort(void 0),D})(y)},ub=(g,h)=>g+","+h,q2=(g,h)=>{const y=Ee(g.all,C=>C.cells);return yn(y,h)},oh=g=>{const h={},y=[],C=Do(g).map(fe=>fe.element).bind(jr).bind(db).getOr({});let D=0,O=0,L=0;const{pass:z,fail:X}=To(g,fe=>fe.section==="colgroup");mo(X,fe=>{const de=[];mo(fe.cells,Oe=>{let Ae=0;for(;h[ub(L,Ae)]!==void 0;)Ae++;const ot=((bt,_t)=>Io(bt,_t)&&bt[_t]!==void 0&&bt[_t]!==null)(C,Ae.toString()),at=((bt,_t,Ct,At,Rt,Yt)=>({element:bt,rowspan:_t,colspan:Ct,row:At,column:Rt,isLocked:Yt}))(Oe.element,Oe.rowspan,Oe.colspan,L,Ae,ot);for(let bt=0;bt<Oe.colspan;bt++)for(let _t=0;_t<Oe.rowspan;_t++){const Ct=Ae+bt,At=ub(L+_t,Ct);h[At]=at,O=Math.max(O,Ct+1)}de.push(at)}),D++,y.push(Yr(fe.element,de,fe.section)),L++});const{columns:ae,colgroups:he}=Yo(z).map(fe=>{const de=(Ae=>{const ot={};let at=0;return mo(Ae.cells,bt=>{const _t=bt.colspan;Ut(_t,Ct=>{const At=at+Ct;ot[At]=((Rt,Yt,bo)=>({element:Rt,colspan:Yt,column:bo}))(bt.element,_t,At)}),at+=_t}),ot})(fe);return{colgroups:[((Ae,ot)=>({element:Ae,columns:ot}))(fe.element,In(de))],columns:de}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((fe,de)=>({rows:fe,columns:de}))(D,O),access:h,all:y,columns:ae,colgroups:he}},Ha=g=>{const h=lb(g);return oh(h)},zg=oh,pc=(g,h,y)=>ne.from(g.access[ub(h,y)]),Qd=(g,h,y)=>{const C=q2(g,D=>y(h,D.element));return C.length>0?ne.some(C[0]):ne.none()},mb=q2,na=g=>Ee(g.all,h=>h.cells),Hl=g=>In(g.columns),hc=g=>tr(g.columns).length>0,dn=(g,h)=>ne.from(g.columns[h]),yr=(g,h,y)=>Hs(y(g.element,h),!0,g.isLocked),Hu=(g,h)=>g.section!==h?on(g.element,g.cells,h,g.isNew):g,nh=()=>({transformRow:Hu,transformCell:(g,h,y)=>{const C=y(g.element,h),D=ks(C)!=="td"?(O=>{const L=Ng(O,"td");W(O,L);const z=Ga(O);return is(L,z),ka(O),L})(C):C;return Hs(D,g.isNew,g.isLocked)}}),Qs=()=>({transformRow:Hu,transformCell:yr}),gb=()=>({transformRow:(g,h)=>Hu(g,h==="thead"?"tbody":h),transformCell:yr}),Wr=nh,Ri=Qs,or=gb,bc=()=>({transformRow:St,transformCell:yr}),Bm=(g,h=We)=>{const y=g.grid,C=Ut(y.columns,St),D=Ut(y.rows,St);return E(C,O=>Mr(()=>Ee(D,L=>pc(g,L,O).filter(z=>z.column===O).toArray()),L=>L.colspan===1&&h(L.element),()=>pc(g,0,O)))},Mr=(g,h,y)=>{const C=g();return En(C,h).orThunk(()=>ne.from(C[0]).orThunk(y)).map(D=>D.element)},$u=g=>{const h=g.grid,y=Ut(h.rows,St),C=Ut(h.columns,St);return E(y,D=>Mr(()=>Ee(C,O=>pc(g,D,O).filter(L=>L.row===D).fold(Je([]),L=>[L])),O=>O.rowspan===1,()=>pc(g,D,0)))},xc=(g,h)=>({row:g,y:h}),Uu=(g,h)=>({col:g,x:h}),cs=g=>io(g).left+wx(g),Ni=g=>io(g).left,Pm=(g,h)=>Uu(g,Ni(h)),id=(g,h)=>Uu(g,cs(h)),Mi=g=>io(g).top,fb=(g,h)=>xc(g,Mi(h)),Vg=(g,h)=>xc(g,Mi(h)+od(h)),wr=(g,h,y)=>{if(y.length===0)return[];const C=E(y.slice(1),(O,L)=>O.map(z=>g(L,z))),D=y[y.length-1].map(O=>h(y.length-1,O));return C.concat([D])},hl={delta:St,positions:g=>wr(fb,Vg,g),edge:Mi},qf=sb({delta:St,edge:Ni,positions:g=>wr(Pm,id,g)},{delta:g=>-g,edge:cs,positions:g=>wr(id,Pm,g)}),Im={delta:(g,h)=>qf(h).delta(g,h),positions:(g,h)=>qf(h).positions(g,h),edge:g=>qf(g).edge(g)},G2=/(\d+(\.\d+)?)%/,Lm=/(\d+(\.\d+)?)px|em/,Jd=fa("col"),pb=fa("tr"),Ox=(g,h,y)=>{const C=Tm(g).getOrThunk(()=>(D=>{const O=D.dom.body;if(O==null)throw new Error("Body is not available yet");return De.fromDom(O)})($d(g)));return h(g)/y(C)*100},Hg=(g,h)=>{Sa(g,"width",h+"px")},Gf=(g,h)=>{Sa(g,"width",h+"%")},Wi=(g,h)=>{Sa(g,"height",h+"px")},K2=g=>{const h=(y=>{return vr(C=y,"height",C.dom.offsetHeight)+"px";var C})(g);return h?((y,C,D,O)=>{const L=parseFloat(y);return cn(y,"%")&&ks(C)!=="table"?((z,X,ae,he)=>{const ie=jr(z).map(fe=>{const de=ae(fe);return Math.floor(X/100*de)}).getOr(X);return he(z,ie),ie})(C,L,D,O):L})(h,g,jd,Wi):jd(g)},Fm=(g,h)=>tb(g,h).orThunk(()=>Zi(g,h).map(y=>y+"px")),zm=g=>Fm(g,"width"),mi=g=>Ox(g,Fl,_x),go=g=>{return Jd(g)?Math.round(Fl(g)):vr(h=g,"width",h.dom.offsetWidth);var h},Vm=g=>pb(g)?jd(g):((h,y,C)=>C(h)/jf(h,"rowspan"))(g,0,K2),sh=(g,h,y)=>{Sa(g,"width",h+y)},Y2=g=>Ox(g,Fl,_x)+"%",rh=Je(G2),ld=fa("col"),ah=g=>zm(g).getOrThunk(()=>go(g)+"px"),ih=g=>{return(h=g,Fm(h,"height")).getOrThunk(()=>Vm(g)+"px");var h},Ms=(g,h,y,C,D,O)=>g.filter(C).fold(()=>O(((L,z)=>{if(z<0||z>=L.length-1)return ne.none();const X=L[z].fold(()=>{const he=(ie=>{const fe=nt.call(ie,0);return fe.reverse(),fe})(L.slice(0,z));return B(he,(ie,fe)=>ie.map(de=>({value:de,delta:fe+1})))},he=>ne.some({value:he,delta:0})),ae=L[z+1].fold(()=>{const he=L.slice(z+1);return B(he,(ie,fe)=>ie.map(de=>({value:de,delta:fe+1})))},he=>ne.some({value:he,delta:1}));return X.bind(he=>ae.map(ie=>{const fe=ie.delta+he.delta;return Math.abs(ie.value-he.value)/fe}))})(y,h)),L=>D(L)),Bi=(g,h,y,C)=>{const D=Bm(g),O=hc(g)?(X=>E(Hl(X),ae=>ne.from(ae.element)))(g):D,L=[ne.some(Im.edge(h))].concat(E(Im.positions(D,h),X=>X.map(ae=>ae.x))),z=Tt(zl);return E(O,(X,ae)=>Ms(X,ae,L,z,he=>{if((fe=>{const de=Yc().browser,Oe=de.isChromium()||de.isFirefox();return!ld(fe)||Oe})(he))return y(he);{const fe=(ie=D[ae])!=null?St(ie):ne.none();return Ms(fe,ae,L,z,de=>C(ne.some(Math.round(Fl(de)))),C)}var ie},C))},$a=g=>g.map(h=>h+"px").getOr(""),Zu=(g,h,y)=>Bi(g,h,go,C=>C.getOrThunk(y.minCellWidth)),Xa=(g,h,y,C)=>{const D=$u(g),O=E(g.all,z=>ne.some(z.element)),L=[ne.some(hl.edge(h))].concat(E(hl.positions(D,h),z=>z.map(X=>X.y)));return E(O,(z,X)=>Ms(z,X,L,We,y,C))},lh=(g,h)=>()=>ed(g)?h(g):parseFloat(tb(g,"width").getOr("0")),_r=g=>{const h=lh(g,C=>parseFloat(Y2(C))),y=lh(g,Fl);return{width:h,pixelWidth:y,getWidths:(C,D)=>((O,L,z)=>Bi(O,L,mi,X=>X.fold(()=>z.minCellWidth(),ae=>ae/z.pixelWidth()*100)))(C,g,D),getCellDelta:C=>C/y()*100,singleColumnWidth:(C,D)=>[100-C],minCellWidth:()=>Ss()/y()*100,setElementWidth:Gf,adjustTableWidth:C=>{const D=h();Gf(g,D+C/100*D)},isRelative:!0,label:"percent"}},Ea=g=>{const h=lh(g,Fl);return{width:h,pixelWidth:h,getWidths:(y,C)=>Zu(y,g,C),getCellDelta:St,singleColumnWidth:(y,C)=>[Math.max(Ss(),y+C)-y],minCellWidth:Ss,setElementWidth:Hg,adjustTableWidth:y=>{const C=h()+y;Hg(g,C)},isRelative:!1,label:"pixel"}},cd=g=>zm(g).fold(()=>(h=>{const y=lh(h,Fl),C=Je(0);return{width:y,pixelWidth:y,getWidths:(D,O)=>Zu(D,h,O),getCellDelta:C,singleColumnWidth:Je([0]),minCellWidth:C,setElementWidth:ge,adjustTableWidth:ge,isRelative:!0,label:"none"}})(g),h=>((y,C)=>rh().exec(C)!==null?_r(y):Ea(y))(g,h)),ft=Ea,Pi=_r,Hm=(g,h,y,C)=>{y===C?ur(g,h):Hn(g,h,y)},Br=(g,h,y)=>{Yo(zu(g,h)).fold(()=>le(g,y),C=>W(C,y))},vc=(g,h)=>{const y=[],C=[],D=fe=>E(fe,de=>{de.isNew&&y.push(de.element);const Oe=de.element;return Jc(Oe),mo(de.cells,Ae=>{Ae.isNew&&C.push(Ae.element),Hm(Ae.element,"colspan",Ae.colspan,1),Hm(Ae.element,"rowspan",Ae.rowspan,1),Ie(Oe,Ae.element)}),Oe}),O=fe=>Ee(fe,de=>E(de.cells,Oe=>(Hm(Oe.element,"span",Oe.colspan,1),Oe.element))),L=(fe,de)=>{const Oe=((ot,at)=>{const bt=Zf(ot,at).getOrThunk(()=>{const _t=De.fromTag(at,$d(ot).dom);return at==="thead"?Br(ot,"caption,colgroup",_t):at==="colgroup"?Br(ot,"caption",_t):Ie(ot,_t),_t});return Jc(bt),bt})(g,de),Ae=(de==="colgroup"?O:D)(fe);is(Oe,Ae)},z=(fe,de)=>{fe.length>0?L(fe,de):(Oe=>{Zf(g,Oe).each(ka)})(de)},X=[],ae=[],he=[],ie=[];return mo(h,fe=>{switch(fe.section){case"thead":X.push(fe);break;case"tbody":ae.push(fe);break;case"tfoot":he.push(fe);break;case"colgroup":ie.push(fe)}}),z(ie,"colgroup"),z(X,"thead"),z(ae,"tbody"),z(he,"tfoot"),{newRows:y,newCells:C}},bl=(g,h)=>{if(g.length===0)return 0;const y=g[0];return Si(g,C=>!h(y.element,C.element)).getOr(g.length)},Qa=(g,h)=>{const y=E(g,C=>E(C.cells,se));return E(g,(C,D)=>{const O=Ee(C.cells,(L,z)=>{if(y[D][z]===!1){const fe=((de,Oe,Ae,ot)=>{const at=((At,Rt)=>At[Rt])(de,Oe),bt=at.section==="colgroup",_t=bl(at.cells.slice(Ae),ot),Ct=bt?1:bl(((At,Rt)=>E(At,Yt=>Ur(Yt,Rt)))(de.slice(Oe),Ae),ot);return{colspan:_t,rowspan:Ct}})(g,D,z,h);return((de,Oe,Ae,ot)=>{for(let at=de;at<de+Ae;at++)for(let bt=Oe;bt<Oe+ot;bt++)y[at][bt]=!0})(D,z,fe.rowspan,fe.colspan),[(X=L.element,ae=fe.rowspan,he=fe.colspan,ie=L.isNew,{element:X,rowspan:ae,colspan:he,isNew:ie})]}return[];var X,ae,he,ie});return((L,z,X,ae)=>({element:L,cells:z,section:X,isNew:ae}))(C.element,O,C.section,C.isNew)})},Ii=(g,h,y)=>{const C=[];mo(g.colgroups,D=>{const O=[];for(let L=0;L<g.grid.columns;L++){const z=dn(g,L).map(X=>Hs(X.element,y,!1)).getOrThunk(()=>Hs(h.colGap(),!0,!1));O.push(z)}C.push(on(D.element,O,"colgroup",y))});for(let D=0;D<g.grid.rows;D++){const O=[];for(let X=0;X<g.grid.columns;X++){const ae=pc(g,D,X).map(he=>Hs(he.element,y,he.isLocked)).getOrThunk(()=>Hs(h.gap(),!0,!1));O.push(ae)}const L=g.all[D],z=on(L.element,O,L.section,y);C.push(z)}return C},Ja=g=>Qa(g,os),Mn=(g,h)=>B(g.all,y=>En(y.cells,C=>os(h,C.element))),Li=(g,h,y)=>{const C=E(h.selection,O=>Vl(O).bind(L=>Mn(g,L)).filter(y)),D=qc(C);return dr(D.length>0,D)},Js=(g,h,y,C,D,O,L,z,X)=>{const ae=Ha(O),he=ne.from(X?.section).getOrThunk(bc);return h(ae,L).map(ie=>{const fe=((Ae,ot)=>Ii(Ae,ot,!1))(ae,z),de=g(fe,ie,os,D(z),he),Oe=ad(de.grid);return{info:ie,grid:Ja(de.grid),cursor:de.cursor,lockedColumns:Oe}}).bind(ie=>{const fe=vc(O,ie.grid),de=ne.from(X?.sizing).getOrThunk(()=>cd(O)),Oe=ne.from(X?.resize).getOrThunk(Mm);return y(O,ie.grid,ie.info,{sizing:de,resize:Oe,section:he}),C(O),ur(O,cb),ie.lockedColumns.length>0&&Hn(O,cb,ie.lockedColumns.join(",")),ne.some({cursor:ie.cursor,newRows:fe.newRows,newCells:fe.newCells})})},Zs=(g,h)=>Vl(h.element).bind(y=>Mn(g,y).map(C=>({...C,generators:h.generators,clipboard:h.clipboard}))),dd=(g,h)=>Li(g,h,We).map(y=>({cells:y,generators:h.generators,clipboard:h.clipboard})),Pr=(g,h)=>Li(g,h,We),$m=(g,h)=>Li(g,h,y=>!y.isLocked),gi=(g,h)=>yt(h,y=>((C,D)=>Mn(C,D).exists(O=>!O.isLocked))(g,y)),Pe=(g,h)=>((y,C)=>C.mergable)(0,h).filter(y=>gi(g,y.cells)),$l=(g,h)=>((y,C)=>C.unmergable)(0,h).filter(y=>gi(g,y)),Ul={...Ge([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Es=(g,h,y)=>{const C=((D,O)=>hc(D)?((L,z)=>{const X=Hl(L);return E(X,(ae,he)=>({element:ae.element,width:z[he],colspan:ae.colspan}))})(D,O):((L,z)=>{const X=na(L);return E(X,ae=>{const he=((ie,fe,de)=>{let Oe=0;for(let Ae=ie;Ae<fe;Ae++)Oe+=de[Ae]!==void 0?de[Ae]:0;return Oe})(ae.column,ae.column+ae.colspan,z);return{element:ae.element,width:he,colspan:ae.colspan}})})(D,O))(g,h);mo(C,D=>{y.setElementWidth(D.element,D.width)})},Fi=(g,h,y,C,D)=>{const O=Ha(g),L=D.getCellDelta(h),z=D.getWidths(O,D),X=y===O.grid.columns-1,ae=C.clampTableDelta(z,y,L,D.minCellWidth(),X),he=((fe,de,Oe,Ae,ot)=>{const at=fe.slice(0),bt=((Ct,At)=>Ct.length===0?Ul.none():Ct.length===1?Ul.only(0):At===0?Ul.left(0,1):At===Ct.length-1?Ul.right(At-1,At):At>0&&At<Ct.length-1?Ul.middle(At-1,At,At+1):Ul.none())(fe,de),_t=Je(E(at,Je(0)));return bt.fold(_t,Ct=>Ae.singleColumnWidth(at[Ct],Oe),(Ct,At)=>ot.calcLeftEdgeDeltas(at,Ct,At,Oe,Ae.minCellWidth(),Ae.isRelative),(Ct,At,Rt)=>ot.calcMiddleDeltas(at,Ct,At,Rt,Oe,Ae.minCellWidth(),Ae.isRelative),(Ct,At)=>ot.calcRightEdgeDeltas(at,Ct,At,Oe,Ae.minCellWidth(),Ae.isRelative))})(z,y,ae,D,C),ie=E(he,(fe,de)=>fe+z[de]);Es(O,ie,D),C.resizeTable(D.adjustTableWidth,ae,X)},Aa=(g,h,y)=>{const C=Ha(g),D=((X,ae)=>Xa(X,ae,Vm,he=>he.getOrThunk(ab)))(C,g),O=E(D,(X,ae)=>y===ae?Math.max(h+X,ab()):X),L=((X,ae)=>E(X.all,(he,ie)=>({element:he.element,height:ae[ie]})))(C,O);mo(L,X=>{Wi(X.element,X.height)}),mo(na(C),X=>{(ae=>{td(ae,"height")})(X.element)});const z=ua(O,(X,ae)=>X+ae,0);Wi(g,z)},ds=(g,h)=>{zl(g)||(C=>zm(C).bind(D=>{return O=D,L=["fixed","relative","empty"],ne.from(W2.exec(O)).bind(z=>{const X=Number(z[1]),ae=z[2];return((he,ie)=>Me(ie,fe=>Me(j2[fe],de=>he===de)))(ae,L)?ne.some({value:X,unit:ae}):ne.none()});var O,L}))(g).each(C=>{const D=C.value/2;sh(g,D,C.unit),sh(h,D,C.unit)})},ju=(g,h,y)=>{const C=Ya(g,h,1);y===1||C<=1?ur(g,h):Hn(g,h,Math.min(y,C))},hb=(g,h)=>y=>{const C=y.column+y.colspan-1,D=y.column;return C>=g&&D<h},$g=(g,h,y)=>{const C=g[y].element,D=De.fromTag("td");Ie(D,De.fromTag("br")),(h?Ie:le)(C,D)},qi=fa("col"),ha=fa("colgroup"),Zl=g=>ks(g)==="tr"||ha(g),Kf=g=>({element:g,colspan:Ya(g,"colspan",1),rowspan:Ya(g,"rowspan",1)}),Um=g=>Zi(g,"scope").map(h=>h.substr(0,3)),Gi=(g,h=Kf)=>{const y=D=>{if(Zl(D))return ha((O={element:D}).element)?g.colgroup(O):g.row(O);{const L=D,z=(X=>qi(X.element)?g.col(X):g.cell(X))(h(L));return C=ne.some({item:L,replacement:z}),z}var O};let C=ne.none();return{getOrInit:(D,O)=>C.fold(()=>y(D),L=>O(D,L.item)?L.replacement:y(D))}},Ki=g=>h=>{const y=[],C=D=>{const O=g==="td"?{scope:null}:{},L=h.replace(D,g,O);return y.push({item:D,sub:L}),L};return{replaceOrInit:(D,O)=>{if(Zl(D)||qi(D))return D;{const L=D;return((z,X)=>En(y,ae=>X(ae.item,z)))(L,O).fold(()=>C(L),z=>O(D,z.item)?z.sub:C(L))}}}},qr=g=>({unmerge:h=>{const y=Um(h);return y.each(C=>Hn(h,"scope",C)),()=>{const C=g.cell({element:h,colspan:1,rowspan:1});return td(C,"width"),td(h,"width"),y.each(D=>Hn(C,"scope",D)),C}},merge:h=>(td(h[0],"width"),(()=>{const y=qc(E(h,Um));if(y.length===0)return ne.none();{const C=y[0],D=["row","col"];return Me(y,O=>O!==C&&to(D,O))?ne.none():ne.from(C)}})().fold(()=>ur(h[0],"scope"),y=>Hn(h[0],"scope",y+"group")),Je(h[0]))}),eu=Ge([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),bb=(g,h,y)=>{const C=y.substring(0,y.length-g.length),D=parseFloat(C);return C===D.toString()?h(D):eu.invalid(y)},ei={...eu,from:g=>cn(g,"%")?bb("%",eu.percent,g):cn(g,"px")?bb("px",eu.pixels,g):eu.invalid(g)},jl=(g,h,y)=>{const C=ei.from(y),D=yt(g,O=>O==="0px")?((O,L)=>{const z=O.fold(()=>Je(""),X=>Je(X/L+"px"),()=>Je(100/L+"%"));return Ut(L,z)})(C,g.length):((O,L,z)=>O.fold(()=>L,X=>((ae,he,ie)=>{const fe=ie/he;return E(ae,de=>ei.from(de).fold(()=>de,Oe=>Oe*fe+"px",Oe=>Oe/100*ie+"px"))})(L,z,X),X=>((ae,he)=>E(ae,ie=>ei.from(ie).fold(()=>ie,fe=>fe/he*100+"%",fe=>fe+"%")))(L,z)))(C,g,h);return BC(D)},Rx=(g,h)=>g.length===0?h:ua(g,(y,C)=>ei.from(C).fold(Je(0),St,St)+y,0),yc=(g,h)=>ei.from(g).fold(Je(g),y=>y+h+"px",y=>y+h+"%"),BC=g=>{if(g.length===0)return g;const h=ua(g,(C,D)=>{const O=ei.from(D).fold(()=>({value:D,remainder:0}),L=>(z=>{const X=Math.floor(z);return{value:X+"px",remainder:z-X}})(L),L=>({value:L+"%",remainder:0}));return{output:[O.value].concat(C.output),remainder:C.remainder+O.remainder}},{output:[],remainder:0}),y=h.output;return y.slice(0,y.length-1).concat([yc(y[y.length-1],Math.round(h.remainder))])},ud=ei.from,Zm=(g,h,y)=>{const C=Ha(g),D=C.all,O=na(C),L=Hl(C);h.each(z=>{const X=ud(z).fold(Je("px"),Je("px"),Je("%")),ae=Fl(g),he=((fe,de)=>Bi(fe,de,ah,$a))(C,g),ie=jl(he,ae,z);hc(C)?((fe,de,Oe)=>{mo(de,(Ae,ot)=>{const at=Rx([fe[ot]],Ss());Sa(Ae.element,"width",at+Oe)})})(ie,L,X):((fe,de,Oe)=>{mo(de,Ae=>{const ot=fe.slice(Ae.column,Ae.colspan+Ae.column),at=Rx(ot,Ss());Sa(Ae.element,"width",at+Oe)})})(ie,O,X),Sa(g,"width",z)}),y.each(z=>{const X=jd(g),ae=((he,ie)=>Xa(he,ie,ih,$a))(C,g);((he,ie,fe)=>{mo(fe,de=>{td(de.element,"height")}),mo(ie,(de,Oe)=>{Sa(de.element,"height",he[Oe])})})(jl(ae,X,z),D,O),Sa(g,"height",z)})},jm=g=>zm(g).exists(h=>G2.test(h)),X2=g=>zm(g).exists(h=>Lm.test(h)),Yf=g=>zm(g).isNone();var PC=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Nx=()=>({up:Je({selector:Bg,closest:mr,predicate:Om,all:Zd}),down:Je({selector:sd,predicate:rb}),styles:Je({get:Fu,getRaw:tb,set:Sa,remove:td}),attrs:Je({get:Ca,set:Hn,remove:ur,copyTo:(g,h)=>{const y=ml(g);pa(h,y)}}),insert:Je({before:P,after:W,afterAll:fn,append:Ie,appendAll:is,prepend:le,wrap:jt}),remove:Je({unwrap:Ll,remove:ka}),create:Je({nu:De.fromTag,clone:g=>De.fromDom(g.dom.cloneNode(!1)),text:De.fromText}),query:Je({comparePosition:(g,h)=>g.dom.compareDocumentPosition(h.dom),prevSibling:Rg,nextSibling:Qc}),property:Je({children:Ga,name:ks,parent:ul,document:g=>Ud(g).dom,isText:Ti,isComment:Xc,isElement:Ai,isSpecial:g=>{const h=ks(g);return to(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:g=>Ai(g)?Zi(g,"lang"):ne.none(),getText:Jr,setText:Xs,isBoundary:g=>!!Ai(g)&&(ks(g)==="body"||to(PC,ks(g))),isEmptyTag:g=>!!Ai(g)&&to(["br","img","hr","input"],ks(g)),isNonEditable:g=>Ai(g)&&Ca(g,"contenteditable")==="false"}),eq:os,is:Mu});const er=(g,h)=>({item:g,mode:h}),xb=(g,h,y,C=Wl)=>g.property().parent(h).map(D=>er(D,C)),Wl=(g,h,y,C=Wu)=>y.sibling(g,h).map(D=>er(D,C)),Wu=(g,h,y,C=Wu)=>{const D=g.property().children(h);return y.first(D).map(O=>er(O,C))},Mx=[{current:xb,next:Wl,fallback:ne.none()},{current:Wl,next:Wu,fallback:ne.some(xb)},{current:Wu,next:Wu,fallback:ne.some(Wl)}],Wm=(g,h,y,C,D=Mx)=>En(D,O=>O.current===y).bind(O=>O.current(g,h,C,O.next).orThunk(()=>O.fallback.bind(L=>Wm(g,h,L,C)))),Yi=(g,h,y,C,D,O)=>Wm(g,h,C,D).bind(L=>O(L.item)?ne.none():y(L.item)?ne.some(L.item):Yi(g,L.item,y,L.mode,D,O)),fi=(g,h)=>({element:g,offset:h}),qu=(g,h,y)=>g.property().isText(h)&&g.property().getText(h).trim().length===0||g.property().isComment(h)?y(h).bind(C=>qu(g,C,y).orThunk(()=>ne.some(C))):ne.none(),Q2=(g,h)=>g.property().isText(h)?g.property().getText(h).length:g.property().children(h).length,ch=(g,h)=>{const y=qu(g,h,g.query().prevSibling).getOr(h);if(g.property().isText(y))return fi(y,Q2(g,y));const C=g.property().children(y);return C.length>0?ch(g,C[C.length-1]):fi(y,Q2(g,y))},Bx=ch,vb=Nx(),J2=g=>h=>g.property().children(h).length===0,ey=(g,h,y,C)=>Yi(g,h,y,Wl,{sibling:(D,O)=>D.query().prevSibling(O),first:D=>D.length>0?ne.some(D[D.length-1]):ne.none()},C),yb=(g,h,y,C)=>Yi(g,h,y,Wl,{sibling:(D,O)=>D.query().nextSibling(O),first:D=>D.length>0?ne.some(D[0]):ne.none()},C),ql=Nx(),wc=(g,h)=>((y,C,D)=>ey(y,C,J2(y),D))(ql,g,h),tu=(g,h)=>((y,C,D)=>yb(y,C,J2(y),D))(ql,g,h),Ug=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ty=(g,h,y,C)=>{const D=h(g,y);return ua(C,(O,L)=>{const z=h(g,L);return Zg(g,O,z)},D)},Zg=(g,h,y)=>h.bind(C=>y.filter(we(g.eq,C))),wb=Nx(),dh=(g,h)=>((y,C,D)=>D.length>0?((O,L,z,X)=>X(O,L,z[0],z.slice(1)))(y,C,D,ty):ne.none())(wb,(y,C)=>g(C),h),_b=Nx(),Cb=g=>((h,y)=>{const C=h.property().name(y);return to(Ug,C)})(_b,g),Px=g=>((h,y)=>{const C=h.property().name(y);return to(["ol","ul"],C)})(_b,g),Ix=g=>{const h=fa("br"),y=D=>Rr(D).bind(O=>{const L=Qc(O).map(z=>!!Cb(z)||!!((X,ae)=>to(["br","img","hr","input"],X.property().name(ae)))(_b,z)&&ks(z)!=="img").getOr(!1);return ul(O).map(z=>{return L===!0||ks(X=z)==="li"||Om(X,Px).isSome()||h(O)||Cb(z)&&!os(D,z)?[]:[De.fromTag("br")];var X})}).getOr([]),C=(()=>{const D=Ee(g,O=>{const L=Ga(O);return(z=>yt(z,X=>h(X)||Ti(X)&&Jr(X).trim().length===0))(L)?[]:L.concat(y(O))});return D.length===0?[De.fromTag("br")]:D})();Jc(g[0]),is(g[0],C)},Gl=g=>{ur(g,"width"),ur(g,"height")},md=g=>{const h=Y2(g);Zm(g,ne.some(h),ne.none()),Gl(g)},rr=g=>{const h=(y=>Fl(y)+"px")(g);Zm(g,ne.some(h),ne.none()),Gl(g)},oy=g=>{td(g,"width");const h=Wf(g),y=h.length>0?h:ta(g);mo(y,C=>{td(C,"width"),Gl(C)}),Gl(g)},qm={scope:["row","col"]},Lx=g=>()=>{const h=De.fromTag("td",g.dom);return Ie(h,De.fromTag("br",g.dom)),h},kb=g=>()=>De.fromTag("col",g.dom),uh=g=>()=>De.fromTag("colgroup",g.dom),ny=g=>()=>De.fromTag("tr",g.dom),sy=(g,h,y)=>{const C=((D,O)=>{const L=Ng(D,O),z=Ga(Qr(D));return is(L,z),L})(g,h);return Uo(y,(D,O)=>{D===null?ur(C,O):Hn(C,O,D)}),C},Gu=g=>g,_c=(g,h,y)=>{const C=(D,O)=>{((L,z)=>{const X=L.dom,ae=z.dom;Dm(X)&&Dm(ae)&&(ae.style.cssText=X.style.cssText)})(D.element,O),td(O,"height"),D.colspan!==1&&td(O,"width")};return{col:D=>{const O=De.fromTag(ks(D.element),h.dom);return C(D,O),g(D.element,O),O},colgroup:uh(h),row:ny(h),cell:D=>{const O=De.fromTag(ks(D.element),h.dom),L=y.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),z=L.length>0?((X,ae,he)=>Pg(X).map(ie=>{const fe=he.join(","),de=gr(ie,fe,Oe=>os(Oe,X));return ua(de,(Oe,Ae)=>{const ot=Uf(Ae);return Ie(Oe,ot),ot},ae)}).getOr(ae))(D.element,O,L):O;return Ie(z,De.fromTag("br")),C(D,O),((X,ae)=>{Uo(qm,(he,ie)=>Zi(X,ie).filter(fe=>to(he,fe)).each(fe=>Hn(ae,ie,fe)))})(D.element,O),g(D.element,O),O},replace:sy,colGap:kb(h),gap:Lx(h)}},qt=g=>({col:kb(g),colgroup:uh(g),row:ny(g),cell:Lx(g),replace:Gu,colGap:kb(g),gap:Lx(g)}),$o=g=>Ha(g).grid,zi=(g,h,y,C)=>{const D=_s(g).rows;let O=!0;for(let L=0;L<D.length;L++)for(let z=0;z<ga(D[0]);z++){const X=D[L],ae=Ur(X,z),he=y(ae.element,h);he&&!O?mc(X,z,Hs(C(),!0,ae.isLocked)):he&&(O=!1)}return g},Cc=(g,h)=>({rowDelta:0,colDelta:ga(g[0])-ga(h[0])}),xl=(g,h)=>({rowDelta:g.length-h.length,colDelta:0}),ns=(g,h,y,C)=>{const D=h.section==="colgroup"?y.col:y.cell;return Ut(g,O=>Hs(D(),!0,C(O)))},ry=(g,h,y,C)=>{const D=g[g.length-1];return g.concat(Ut(h,()=>{const O=D.section==="colgroup"?y.colgroup:y.row,L=Cn(D,O,St),z=ns(L.cells.length,L,y,X=>Io(C,X.toString()));return Jo(L,z)}))},Gm=(g,h,y,C)=>E(g,D=>{const O=ns(h,D,y,se);return $r(D,C,O)}),jg=(g,h,y)=>{const C=h.colDelta<0?Gm:St,D=h.rowDelta<0?ry:St,O=ad(g),L=ga(g[0]),z=Me(O,he=>he===L-1),X=C(g,Math.abs(h.colDelta),y,z?L-1:L),ae=ad(X);return D(X,Math.abs(h.rowDelta),y,un(ae,We))},kc=(g,h,y,C)=>{const D=we(C,Ur(g[h],y).element),O=g[h];return g.length>1&&ga(O)>1&&(y>0&&D(Dr(O,y-1))||y<O.cells.length-1&&D(Dr(O,y+1))||h>0&&D(Dr(g[h-1],y))||h<g.length-1&&D(Dr(g[h+1],y)))},Sb=(g,h,y)=>yn(y,C=>C>=g.column&&C<=ga(h[0])+g.column),mh=(g,h,y,C,D)=>{((ae,he,ie,fe)=>{he>0&&he<ae[0].cells.length&&mo(ae,de=>{const Oe=de.cells[he-1];let Ae=0;const ot=fe();for(;de.cells.length>he+Ae&&ie(Oe.element,de.cells[he+Ae].element);)mc(de,he+Ae,Hs(ot,!0,de.cells[he+Ae].isLocked)),Ae++})})(h,g,D,C.cell);const O=xl(y,h),L=jg(y,O,C),z=xl(h,L),X=jg(h,z,C);return E(X,(ae,he)=>$r(ae,g,L[he].cells))},ht=(g,h,y,C,D)=>{((bt,_t,Ct,At)=>{const Rt=_s(bt).rows;if(_t>0&&_t<Rt.length){const Yt=((bo,Rn)=>pt(bo,(Fo,zo)=>Me(Fo,Vo=>Rn(Vo.element,zo.element))?Fo:Fo.concat([zo]),[]))(Rt[_t-1].cells,Ct);mo(Yt,bo=>{let Rn=ne.none();for(let Fo=_t;Fo<Rt.length;Fo++)for(let zo=0;zo<ga(Rt[0]);zo++){const Vo=Rt[Fo],$n=Ur(Vo,zo);Ct($n.element,bo.element)&&(Rn.isNone()&&(Rn=ne.some(At())),Rn.each(kr=>{mc(Vo,zo,Hs(kr,!0,$n.isLocked))}))}})}})(h,g,D,C.cell);const O=ad(h),L=Cc(h,y),z={...L,colDelta:L.colDelta-O.length},X=jg(h,z,C),{cols:ae,rows:he}=_s(X),ie=ad(X),fe=Cc(y,h),de={...fe,colDelta:fe.colDelta+ie.length},Oe=(ot=C,at=ie,E(y,bt=>pt(at,(_t,Ct)=>{const At=ns(1,bt,ot,We)[0];return Sg(_t,Ct,At)},bt))),Ae=jg(Oe,de,C);var ot,at;return[...ae,...he.slice(0,g),...Ae,...he.slice(g,he.length)]},Fx=(g,h,y,C,D)=>{const{rows:O,cols:L}=_s(g),z=O.slice(0,h),X=O.slice(h);return[...L,...z,((ae,he,ie,fe)=>Cn(ae,de=>fe(de,ie),he))(O[y],(ae,he)=>h>0&&h<O.length&&C(Dr(O[h-1],he),Dr(O[h],he))?Ur(O[h],he):Hs(D(ae.element,C),!0,ae.isLocked),C,D),...X]},gh=(g,h,y,C,D)=>E(g,O=>{const L=h>0&&h<ga(O)&&C(Dr(O,h-1),Dr(O,h)),z=((X,ae,he,ie,fe,de,Oe)=>{if(he!=="colgroup"&&ie)return Ur(X,ae);{const Ae=Ur(X,fe);return Hs(Oe(Ae.element,de),!0,!1)}})(O,h,O.section,L,y,C,D);return Sg(O,h,z)}),gd=(g,h,y,C)=>((D,O,L,z)=>Dr(D[O],L)!==void 0&&O>0&&z(Dr(D[O-1],L),Dr(D[O],L)))(g,h,y,C)||((D,O,L)=>O>0&&L(Dr(D,O-1),Dr(D,O)))(g[h],y,C),Wg=(g,h,y,C)=>{const D=O=>(L=>L==="row"?(z=>jf(z,"rowspan")>1)(h):zl(h))(O)?`${O}group`:O;return g?oa(h)?D(y):null:C&&oa(h)?D(y==="row"?"col":"row"):null},fh=(g,h,y)=>Hs(y(g.element,h),!0,g.isLocked),Ls=(g,h,y,C,D,O,L)=>E(g,(z,X)=>(ae=>{const he=ae.cells,ie=E(he,(fe,de)=>{if((Oe=>Me(h,Ae=>y(Oe.element,Ae.element)))(fe)){const Oe=L(fe,X,de)?D(fe,y,C):fe;return O(Oe,X,de).each(Ae=>{var ot,at;ot=Oe.element,at={scope:ne.from(Ae)},Uo(at,(bt,_t)=>{bt.fold(()=>{ur(ot,_t)},Ct=>{Xr(ot.dom,_t,Ct)})})}),Oe}return fe});return on(ae.element,ie,ae.section,ae.isNew)})(z)),Eb=(g,h,y)=>Ee(g,(C,D)=>gd(g,D,h,y)?[]:[Ur(C,h)]),ph=(g,h,y,C,D)=>{const O=_s(g).rows,L=Ee(h,he=>Eb(O,he,C)),z=E(O,he=>Qp(he.cells)),X=((he,ie)=>yt(ie,St)&&Qp(he)?We:(fe,de,Oe)=>!(ks(fe.element)==="th"&&ie[de]))(L,z);return Ls(g,L,C,D,fh,((he,ie)=>(fe,de)=>ne.some(Wg(he,fe.element,"row",ie[de])))(y,z),X)},pi=(g,h,y,C)=>{const D=_s(g).rows,O=E(h,L=>Ur(D[L.row],L.column));return Ls(g,O,y,C,fh,ne.none,We)},Xn=g=>pt(g,(h,y)=>Me(h,C=>C.column===y.column)?h:h.concat([y]),[]).sort((h,y)=>h.column-y.column),qg=g=>Rm(g,!0),Gg=g=>{ta(g).length===0&&ka(g)},Ab=(g,h)=>({grid:g,cursor:h}),Ta=(g,h,y)=>{const C=((D,O,L)=>{const z=_s(D).rows;return ne.from(z[O]?.cells[L]?.element).filter(qg).orThunk(()=>(X=>B(X,ae=>B(ae.cells,he=>{const ie=he.element;return dr(qg(ie),ie)})))(z))})(g,h,y);return Ab(g,C)},hi=g=>pt(g,(h,y)=>Me(h,C=>C.row===y.row)?h:h.concat([y]),[]).sort((h,y)=>h.row-y.row),IC=(g,h,y,C)=>{const D=h[0].row,O=hi(h),L=ua(O,(z,X)=>({grid:Fx(z.grid,D,X.row+z.delta,y,C.getOrInit),delta:z.delta+1}),{grid:g,delta:0}).grid;return Ta(L,D,h[0].column)},zx=(g,h,y,C)=>{const D=hi(h),O=D[D.length-1],L=O.row+O.rowspan,z=ua(D,(X,ae)=>Fx(X,L,ae.row,y,C.getOrInit),g);return Ta(z,L,h[0].column)},LC=(g,h,y,C)=>{const D=h.details,O=Xn(D),L=O[0].column,z=ua(O,(X,ae)=>({grid:gh(X.grid,L,ae.column+X.delta,y,C.getOrInit),delta:X.delta+1}),{grid:g,delta:0}).grid;return Ta(z,D[0].row,L)},ay=(g,h,y,C)=>{const D=h.details,O=D[D.length-1],L=O.column+O.colspan,z=Xn(D),X=ua(z,(ae,he)=>gh(ae,L,he.column,y,C.getOrInit),g);return Ta(X,D[0].row,L)},Tb=(g,h,y,C)=>{const D=Xn(h),O=E(D,z=>z.column),L=ph(g,O,!0,y,C.replaceOrInit);return Ta(L,h[0].row,h[0].column)},Vx=(g,h,y,C)=>{const D=pi(g,h,y,C.replaceOrInit);return Ta(D,h[0].row,h[0].column)},Db=(g,h,y,C)=>{const D=Xn(h),O=E(D,z=>z.column),L=ph(g,O,!1,y,C.replaceOrInit);return Ta(L,h[0].row,h[0].column)},bi=(g,h,y,C)=>{const D=pi(g,h,y,C.replaceOrInit);return Ta(D,h[0].row,h[0].column)},Kl=(g,h)=>(y,C,D,O,L)=>{const z=hi(C),X=E(z,he=>he.row),ae=((he,ie,fe,de,Oe,Ae,ot)=>{const{cols:at,rows:bt}=_s(he),_t=bt[ie[0]],Ct=Ee(ie,Fo=>((zo,Vo,$n)=>{const kr=zo[Vo];return Ee(kr.cells,(Za,va)=>gd(zo,Vo,va,$n)?[]:[Za])})(bt,Fo,Oe)),At=E(_t.cells,(Fo,zo)=>Qp(Eb(bt,zo,Oe))),Rt=[...bt];mo(ie,Fo=>{Rt[Fo]=ot.transformRow(bt[Fo],fe)});const Yt=[...at,...Rt],bo=((Fo,zo)=>yt(zo,St)&&Qp(Fo.cells)?We:(Vo,$n,kr)=>!(ks(Vo.element)==="th"&&zo[kr]))(_t,At),Rn=((Fo,zo)=>(Vo,$n,kr)=>ne.some(Wg(Fo,Vo.element,"col",zo[kr])))(de,At);return Ls(Yt,Ct,Oe,Ae,ot.transformCell,Rn,bo)})(y,X,g,h,D,O.replaceOrInit,L);return Ta(ae,C[0].row,C[0].column)},Sc=Kl("thead",!0),Ob=Kl("tbody",!1),Hx=Kl("tfoot",!1),FC=(g,h,y,C)=>{const D=Xn(h.details),O=((z,X)=>Ee(z,ae=>{const he=ae.cells,ie=ua(X,(fe,de)=>de>=0&&de<fe.length?fe.slice(0,de).concat(fe.slice(de+1)):fe,he);return ie.length>0?[on(ae.element,ie,ae.section,ae.isNew)]:[]}))(g,E(D,z=>z.column)),L=O.length>0?O[0].cells.length-1:0;return Ta(O,D[0].row,Math.min(D[0].column,L))},hh=(g,h,y,C)=>{const D=hi(h),O=((z,X,ae)=>{const{rows:he,cols:ie}=_s(z);return[...ie,...he.slice(0,X),...he.slice(ae+1)]})(g,D[0].row,D[D.length-1].row),L=Math.max(_s(O).rows.length-1,0);return Ta(O,Math.min(h[0].row,L),h[0].column)},fd=(g,h,y,C)=>{const D=h.cells;Ix(D);const O=((L,z,X,ae)=>{const he=_s(L).rows;if(he.length===0)return L;for(let ie=z.startRow;ie<=z.finishRow;ie++)for(let fe=z.startCol;fe<=z.finishCol;fe++){const de=he[ie],Oe=Ur(de,fe).isLocked;mc(de,fe,Hs(ae(),!1,Oe))}return L})(g,h.bounds,0,C.merge(D));return Ab(O,ne.from(D[0]))},ti=(g,h,y,C)=>{const D=ua(h,(O,L)=>zi(O,L,y,C.unmerge(L)),g);return Ab(D,ne.from(h[0]))},Rb=(g,h,y,C)=>{const D=((z,X)=>{const ae=Ha(z);return Ii(ae,X,!0)})(h.clipboard,h.generators);var O,L;return((z,X,ae,he,ie)=>{const fe=ad(X),de=((at,bt,_t)=>{const Ct=ga(bt[0]),At=_s(bt).cols.length+at.row,Rt=Ut(Ct-at.column,Yt=>Yt+at.column);return{row:At,column:En(Rt,Yt=>yt(_t,bo=>bo!==Yt)).getOr(Ct-1)}})(z,X,fe),Oe=_s(ae).rows,Ae=Sb(de,Oe,fe);return((at,bt,_t)=>{if(at.row>=bt.length||at.column>ga(bt[0]))return jc.error("invalid start address out of table bounds, row: "+at.row+", column: "+at.column);const Ct=bt.slice(at.row),At=Ct[0].cells.slice(at.column),Rt=ga(_t[0]),Yt=_t.length;return jc.value({rowDelta:Ct.length-Yt,colDelta:At.length-Rt})})(de,X,Oe).map(at=>{const bt={...at,colDelta:at.colDelta-Ae.length},_t=jg(X,bt,he),Ct=ad(_t),At=Sb(de,Oe,Ct);return((Rt,Yt,bo,Rn,Fo,zo)=>{const Vo=Rt.row,$n=Rt.column,kr=Vo+bo.length,Za=$n+ga(bo[0])+zo.length,va=un(zo,We);for(let Ji=Vo;Ji<kr;Ji++){let Kt=0;for(let ja=$n;ja<Za;ja++){if(va[ja]){Kt++;continue}kc(Yt,Ji,ja,Fo)&&zi(Yt,Dr(Yt[Ji],ja),Fo,Rn.cell);const sm=ja-$n-Kt,Wh=Ur(bo[Ji-Vo],sm),wd=Wh.element,qh=Rn.replace(wd);mc(Yt[Ji],ja,Hs(qh,!0,Wh.isLocked))}}return Yt})(de,_t,Oe,he,ie,At)})})((O=h.row,L=h.column,{row:O,column:L}),g,D,h.generators,y).fold(()=>Ab(g,ne.some(h.element)),z=>Ta(z,h.row,h.column))},Xf=(g,h,y)=>{const C=((O,L)=>th(O,()=>L))(g,y.section),D=zg(C);return Ii(D,h,!0)},Km=(g,h,y,C)=>{const D=_s(g).rows,O=h.cells[0].column,L=D[h.cells[0].row],z=Xf(h.clipboard,h.generators,L),X=mh(O,g,z,h.generators,y);return Ta(X,h.cells[0].row,h.cells[0].column)},bh=(g,h,y,C)=>{const D=_s(g).rows,O=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,L=D[h.cells[0].row],z=Xf(h.clipboard,h.generators,L),X=mh(O,g,z,h.generators,y);return Ta(X,h.cells[0].row,O)},Nb=(g,h,y,C)=>{const D=_s(g).rows,O=h.cells[0].row,L=D[O],z=Xf(h.clipboard,h.generators,L),X=ht(O,g,z,h.generators,y);return Ta(X,h.cells[0].row,h.cells[0].column)},fs=(g,h,y,C)=>{const D=_s(g).rows,O=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,L=D[h.cells[0].row],z=Xf(h.clipboard,h.generators,L),X=ht(O,g,z,h.generators,y);return Ta(X,O,h.cells[0].column)},Ym=(g,h,y,C)=>((D,O,L,z)=>{const X=zg(O),ae=z.getWidths(X,z);Es(X,ae,z)})(0,h,0,C.sizing),Kg=(g,h,y,C)=>((D,O,L,z,X)=>{const ae=zg(O),he=z.getWidths(ae,z),ie=z.pixelWidth(),{newSizes:fe,delta:de}=X.calcRedestributedWidths(he,ie,L.pixelDelta,z.isRelative);Es(ae,fe,z),z.adjustTableWidth(de)})(0,h,y,C.sizing,C.resize),$x=(g,h)=>Me(h,y=>y.column===0&&y.isLocked),xh=(g,h)=>Me(h,y=>y.column+y.colspan>=g.grid.columns&&y.isLocked),vh=(g,h)=>{const y=Bm(g),C=Xn(h);return pt(C,(D,O)=>D+y[O.column].map(wx).getOr(0),0)},Mb=g=>(h,y)=>Pr(h,y).filter(C=>!(g?$x:xh)(h,C)).map(C=>({details:C,pixelDelta:vh(h,C)})),Bb=(g,h)=>$m(g,h).map(y=>({details:y,pixelDelta:-vh(g,y)})),iy=g=>(h,y)=>dd(h,y).filter(C=>!(g?$x:xh)(h,C.cells)),Ux=Ki("th"),Xi=Ki("td"),Qf=(g,h,y,C)=>Js(IC,Pr,ge,ge,Gi,g,h,y,C),Da=(g,h,y,C)=>Js(zx,Pr,ge,ge,Gi,g,h,y,C),Xm=(g,h,y,C)=>Js(LC,Mb(!0),Kg,ge,Gi,g,h,y,C),Jf=(g,h,y,C)=>Js(ay,Mb(!1),Kg,ge,Gi,g,h,y,C),yh=(g,h,y,C)=>Js(FC,Bb,Kg,Gg,Gi,g,h,y,C),wh=(g,h,y,C)=>Js(hh,Pr,ge,Gg,Gi,g,h,y,C),Ku=(g,h,y,C)=>Js(Tb,$m,ge,ge,Ux,g,h,y,C),ly=(g,h,y,C)=>Js(Db,$m,ge,ge,Xi,g,h,y,C),Pb=(g,h,y,C)=>Js(Sc,Pr,ge,ge,Ux,g,h,y,C),cy=(g,h,y,C)=>Js(Ob,Pr,ge,ge,Xi,g,h,y,C),Zx=(g,h,y,C)=>Js(Hx,Pr,ge,ge,Xi,g,h,y,C),Oa=(g,h,y,C)=>Js(Vx,$m,ge,ge,Ux,g,h,y,C),Yu=(g,h,y,C)=>Js(bi,$m,ge,ge,Xi,g,h,y,C),dy=(g,h,y,C)=>Js(fd,Pe,Ym,ge,qr,g,h,y,C),uy=(g,h,y,C)=>Js(ti,$l,Ym,ge,qr,g,h,y,C),jx=(g,h,y,C)=>Js(Rb,Zs,Ym,ge,Gi,g,h,y,C),my=(g,h,y,C)=>Js(Km,iy(!0),ge,ge,Gi,g,h,y,C),Ib=(g,h,y,C)=>Js(bh,iy(!1),ge,ge,Gi,g,h,y,C),gy=(g,h,y,C)=>Js(Nb,dd,ge,ge,Gi,g,h,y,C),Cr=(g,h,y,C)=>Js(fs,dd,ge,ge,Gi,g,h,y,C),Ir=(g,h)=>{const y=Ha(g);return Pr(y,h).bind(C=>{const D=C[C.length-1],O=C[0].column,L=D.column+D.colspan,z=ze(E(y.all,X=>yn(X.cells,ae=>ae.column>=O&&ae.column<L)));return eh(z)}).getOr("")},ba=(g,h)=>{const y=Ha(g);return Pr(y,h).bind(eh).getOr("")},Ra=(g,h)=>{const y=Ha(g);return Pr(y,h).bind(C=>{const D=C[C.length-1],O=C[0].row,L=D.row+D.rowspan;return(z=>{const X=E(z,ie=>Dx(ie).type),ae=to(X,"header"),he=to(X,"footer");if(ae||he){const ie=to(X,"body");return!ae||ie||he?ae||ie||!he?ne.none():ne.some("footer"):ne.some("header")}return ne.some("body")})(y.all.slice(O,L))}).getOr("")},sa=(g,h)=>{const y=h.column,C=h.column+h.colspan-1,D=h.row,O=h.row+h.rowspan-1;return y<=g.finishCol&&C>=g.startCol&&D<=g.finishRow&&O>=g.startRow},Lr=(g,h)=>h.column>=g.startCol&&h.column+h.colspan-1<=g.finishCol&&h.row>=g.startRow&&h.row+h.rowspan-1<=g.finishRow,ep=(g,h,y)=>{const C=Qd(g,h,os),D=Qd(g,y,os);return C.bind(O=>D.map(L=>{return z=O,X=L,{startRow:Math.min(z.row,X.row),startCol:Math.min(z.column,X.column),finishRow:Math.max(z.row+z.rowspan-1,X.row+X.rowspan-1),finishCol:Math.max(z.column+z.colspan-1,X.column+X.colspan-1)};var z,X}))},Lb=(g,h,y)=>ep(g,h,y).map(C=>{const D=mb(g,we(sa,C));return E(D,O=>O.element)}),tp=(g,h)=>Qd(g,h,(y,C)=>Ys(C,y)).map(y=>y.element),_h=(g,h,y)=>{const C=Ch(g);return Lb(C,h,y)},Fb=(g,h,y,C,D)=>{const O=Ch(g),L=os(g,y)?ne.some(h):tp(O,h),z=os(g,D)?ne.some(C):tp(O,C);return L.bind(X=>z.bind(ae=>Lb(O,X,ae)))},Ch=Ha,Wx={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},ou=(g,h,y,C)=>Ut(g,D=>((O,L,z,X)=>{const ae=De.fromTag("tr");for(let he=0;he<O;he++){const ie=De.fromTag(X<L||he<z?"th":"td");he<z&&Hn(ie,"scope","row"),X<L&&Hn(ie,"scope","col"),Ie(ie,De.fromTag("br")),Ie(ae,ie)}return ae})(h,y,C,D)),vl=g=>{let h=[];return{bind:y=>{if(y===void 0)throw new Error("Event bind error: undefined handler");h.push(y)},unbind:y=>{h=yn(h,C=>C!==y)},trigger:(...y)=>{const C={};mo(g,(D,O)=>{C[D]=y[O]}),mo(h,D=>{D(C)})}}},Qm=g=>({registry:li(g,h=>({bind:h.bind,unbind:h.unbind})),trigger:li(g,h=>h.trigger)}),Xu=Gn(["compare","extract","mutate","sink"]),kh=Gn(["element","start","stop","destroy"]),qx=Gn(["forceDrop","drop","move","delayDrop"]),Gx=()=>{const g=(()=>{const C=Qm({move:vl(["info"])});return{onEvent:ge,reset:ge,events:C.registry}})(),h=(()=>{let C=ne.none();const D=Qm({move:vl(["info"])});return{onEvent:(O,L)=>{L.extract(O).each(z=>{((ae,he)=>{const ie=C.map(fe=>ae.compare(fe,he));return C=ne.some(he),ie})(L,z).each(ae=>{D.trigger.move(ae)})})},reset:()=>{C=ne.none()},events:D.registry}})();let y=g;return{on:()=>{y.reset(),y=h},off:()=>{y.reset(),y=g},isOn:()=>y===h,onEvent:(C,D)=>{y.onEvent(C,D)},events:h.events}},Sh=Is("ephox-dragster").resolve;var Eh=Xu({compare:(g,h)=>ui(h.left-g.left,h.top-g.top),extract:g=>ne.some(ui(g.x,g.y)),sink:(g,h)=>{const y=(z=>{const X={layerClass:Sh("blocker"),...z},ae=De.fromTag("div");return Hn(ae,"role","presentation"),Hn(ae,"data-mce-bogus","all"),Yp(ae,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),nd(ae,Sh("blocker")),nd(ae,X.layerClass),{element:Je(ae),destroy:()=>{ka(ae)}}})(h),C=Yn(y.element(),"mousedown",g.forceDrop),D=Yn(y.element(),"mouseup",g.drop),O=Yn(y.element(),"mousemove",g.move),L=Yn(y.element(),"mouseout",g.delayDrop);return kh({element:y.element,start:z=>{Ie(z,y.element())},stop:()=>{ka(y.element())},destroy:()=>{y.destroy(),D.unbind(),O.unbind(),L.unbind(),C.unbind()}})},mutate:(g,h)=>{g.mutate(h.left,h.top)}});const zb=Is("ephox-snooker").resolve,Ah=zb("resizer-bar"),pd=zb("resizer-rows"),Fr=zb("resizer-cols"),Jm=g=>{const h=sd(g.parent(),"."+Ah);mo(h,ka)},Yl=(g,h,y)=>{const C=g.origin();mo(h,D=>{D.each(O=>{const L=y(C,O);nd(L,Ah),Ie(g.parent(),L)})})},Th=(g,h,y,C,D)=>{const O=io(y),L=h.isResizable,z=C.length>0?hl.positions(C,y):[],X=z.length>0?((ie,fe)=>Ee(ie.all,(de,Oe)=>fe(de.element)?[Oe]:[]))(g,L):[];((ie,fe,de,Oe)=>{Yl(ie,fe,(Ae,ot)=>{const at=((bt,_t,Ct,At)=>{const Rt=De.fromTag("div");return Yp(Rt,{position:"absolute",left:_t+"px",top:Ct-3.5+"px",height:"7px",width:At+"px"}),pa(Rt,{"data-mce-bogus":"all","data-row":bt,role:"presentation"}),Rt})(ot.row,de.left-Ae.left,ot.y-Ae.top,Oe);return nd(at,pd),at})})(h,yn(z,(ie,fe)=>Me(X,de=>fe===de)),O,wx(y));const ae=D.length>0?Im.positions(D,y):[],he=ae.length>0?((ie,fe)=>{const de=[];return Ut(ie.grid.columns,Oe=>{dn(ie,Oe).map(Ae=>Ae.element).forall(fe)&&de.push(Oe)}),yn(de,Oe=>{const Ae=mb(ie,ot=>ot.column===Oe);return yt(Ae,ot=>fe(ot.element))})})(g,L):[];((ie,fe,de,Oe)=>{Yl(ie,fe,(Ae,ot)=>{const at=((bt,_t,Ct,At,Rt)=>{const Yt=De.fromTag("div");return Yp(Yt,{position:"absolute",left:_t-3.5+"px",top:Ct+"px",height:Rt+"px",width:"7px"}),pa(Yt,{"data-mce-bogus":"all","data-column":bt,role:"presentation"}),Yt})(ot.col,ot.x-Ae.left,de.top-Ae.top,0,Oe);return nd(at,Fr),at})})(h,yn(ae,(ie,fe)=>Me(he,de=>fe===de)),O,od(y))},Vb=(g,h)=>{if(Jm(g),g.isResizable(h)){const y=Ha(h),C=$u(y),D=Bm(y);Th(y,g,h,C,D)}},Hb=(g,h)=>{const y=sd(g.parent(),"."+Ah);mo(y,h)},fy=g=>{Hb(g,h=>{Sa(h,"display","none")})},$b=g=>{Hb(g,h=>{Sa(h,"display","block")})},zC=zb("resizer-bar-dragging"),py=g=>{const h=(()=>{const ie=Qm({drag:vl(["xDelta","yDelta","target"])});let fe=ne.none();const de=(()=>{const Oe=Qm({drag:vl(["xDelta","yDelta"])});return{mutate:(Ae,ot)=>{Oe.trigger.drag(Ae,ot)},events:Oe.registry}})();return de.events.drag.bind(Oe=>{fe.each(Ae=>{ie.trigger.drag(Oe.xDelta,Oe.yDelta,Ae)})}),{assign:Oe=>{fe=ne.some(Oe)},get:()=>fe,mutate:de.mutate,events:ie.registry}})(),y=((ie,fe={})=>((de,Oe,Ae)=>{let ot=!1;const at=Qm({start:vl([]),stop:vl([])}),bt=Gx(),_t=()=>{Rt.stop(),bt.isOn()&&(bt.off(),at.trigger.stop())},Ct=(Yt=>{let bo=null;const Rn=()=>{_e(bo)||(clearTimeout(bo),bo=null)};return{cancel:Rn,throttle:(...Fo)=>{Rn(),bo=setTimeout(()=>{bo=null,Yt.apply(null,Fo)},200)}}})(_t);bt.events.move.bind(Yt=>{Oe.mutate(de,Yt.info)});const At=Yt=>(...bo)=>{ot&&Yt.apply(null,bo)},Rt=Oe.sink(qx({forceDrop:_t,drop:At(_t),move:At(Yt=>{Ct.cancel(),bt.onEvent(Yt,Oe)}),delayDrop:At(Ct.throttle)}),Ae);return{element:Rt.element,go:Yt=>{Rt.start(Yt),bt.on(),at.trigger.start()},on:()=>{ot=!0},off:()=>{ot=!1},isActive:()=>ot,destroy:()=>{Rt.destroy()},events:at.registry}})(ie,fe.mode??Eh,fe))(h,{});let C=ne.none();const D=(ie,fe)=>ne.from(Ca(ie,fe));h.events.drag.bind(ie=>{D(ie.target,"data-row").each(fe=>{const de=rd(ie.target,"top");Sa(ie.target,"top",de+ie.yDelta+"px")}),D(ie.target,"data-column").each(fe=>{const de=rd(ie.target,"left");Sa(ie.target,"left",de+ie.xDelta+"px")})});const O=(ie,fe)=>rd(ie,fe)-Ya(ie,"data-initial-"+fe,0);y.events.stop.bind(()=>{h.get().each(ie=>{C.each(fe=>{D(ie,"data-row").each(de=>{const Oe=O(ie,"top");ur(ie,"data-initial-top"),he.trigger.adjustHeight(fe,Oe,parseInt(de,10))}),D(ie,"data-column").each(de=>{const Oe=O(ie,"left");ur(ie,"data-initial-left"),he.trigger.adjustWidth(fe,Oe,parseInt(de,10))}),Vb(g,fe)})})});const L=(ie,fe)=>{he.trigger.startAdjust(),h.assign(ie),Hn(ie,"data-initial-"+fe,rd(ie,fe)),nd(ie,zC),Sa(ie,"opacity","0.2"),y.go(g.dragContainer())},z=Yn(g.parent(),"mousedown",ie=>{var fe;fe=ie.target,Ro(fe,pd)&&L(ie.target,"top"),(de=>Ro(de,Fr))(ie.target)&&L(ie.target,"left")}),X=ie=>os(ie,g.view()),ae=Yn(g.view(),"mouseover",ie=>{var fe;(fe=ie.target,mr(fe,"table",X).filter(Rm)).fold(()=>{ed(ie.target)&&!(de=>Ro(de,"ephox-snooker-resizer-bar")||Ro(de,"ephox-dragster-blocker"))(ie.target)&&Jm(g)},de=>{y.isActive()&&(C=ne.some(de),Vb(g,de))})}),he=Qm({adjustHeight:vl(["table","delta","row"]),adjustWidth:vl(["table","delta","column"]),startAdjust:vl([])});return{destroy:()=>{z.unbind(),ae.unbind(),y.destroy(),Jm(g)},refresh:ie=>{Vb(g,ie)},on:y.on,off:y.off,hideBars:we(fy,g),showBars:we($b,g),events:he.registry}},eg=g=>h=>h.options.get(g),Kx="100%",Qu=g=>{const h=g.dom,y=h.getParent(g.selection.getStart(),h.isBlock)??g.getBody();return _x(De.fromDom(y))+"px"},Ub=g=>ne.from(g.options.get("table_clone_elements")),nu=eg("table_header_type"),Dh=eg("table_column_resizing"),hy=g=>Dh(g)==="preservetable",Na=g=>Dh(g)==="resizetable",xi=eg("table_sizing_mode"),ar=g=>xi(g)==="relative",Yg=g=>xi(g)==="fixed",hd=g=>xi(g)==="responsive",an=eg("table_resize_bars"),oo=eg("table_style_by_css"),Xg=eg("table_merge_content_on_paste"),su=g=>{const h=g.options,y=h.get("table_default_attributes");return h.isSet("table_default_attributes")?y:((C,D)=>hd(C)||oo(C)?D:Yg(C)?{...D,width:Qu(C)}:{...D,width:Kx})(g,y)},Yx=eg("table_use_colgroups"),Oh=g=>De.fromDom(g.getBody()),Wn=g=>h=>os(h,Oh(g)),tg=g=>{ur(g,"data-mce-style");const h=y=>ur(y,"data-mce-style");mo(ta(g),h),mo(Wf(g),h),mo(Yd(g),h)},Rh=g=>De.fromDom(g.selection.getStart()),et=g=>g.getBoundingClientRect().width,Zb=g=>g.getBoundingClientRect().height,op=g=>(h,y)=>{const C=h.dom.getStyle(y,g)||h.dom.getAttrib(y,g);return ne.from(C).filter(qs)},np=op("width"),jb=op("height"),Ju=g=>Mg(g,fa("table")).exists(Rm),Qg=g=>Bg(g,"table"),bd=(g,h,y)=>{const C=D=>O=>y!==void 0&&y(O)||os(O,D);return os(g,h)?ne.some({boxes:ne.some([g]),start:g,finish:h}):Qg(g).bind(D=>Qg(h).bind(O=>{if(os(D,O))return ne.some({boxes:_h(D,g,h),start:g,finish:h});if(Ys(D,O)){const L=gr(h,"td,th",C(D)),z=L.length>0?L[L.length-1]:h;return ne.some({boxes:Fb(D,g,D,h,O),start:g,finish:z})}if(Ys(O,D)){const L=gr(g,"td,th",C(O)),z=L.length>0?L[L.length-1]:g;return ne.some({boxes:Fb(O,g,D,h,O),start:g,finish:z})}return((L,z)=>((X,ae,he,ie=se)=>{const fe=[ae].concat(X.up().all(ae)),de=[he].concat(X.up().all(he)),Oe=bt=>Si(bt,ie).fold(()=>bt,_t=>bt.slice(0,_t+1)),Ae=Oe(fe),ot=Oe(de),at=En(Ae,bt=>Me(ot,((_t,Ct)=>we(_t.eq,Ct))(X,bt)));return{firstpath:Ae,secondpath:ot,shared:at}})(wb,L,z,void 0))(g,h).shared.bind(L=>mr(L,"table",y).bind(z=>{const X=gr(h,"td,th",C(z)),ae=X.length>0?X[X.length-1]:h,he=gr(g,"td,th",C(z)),ie=he.length>0?he[he.length-1]:g;return ne.some({boxes:Fb(z,g,D,h,O),start:ie,finish:ae})}))}))},us=(g,h)=>{const y=sd(g,h);return y.length>0?ne.some(y):ne.none()},Ec=(g,h,y)=>ct(g,h).bind(C=>ct(g,y).bind(D=>dh(Qg,[C,D]).map(O=>({first:C,last:D,table:O})))),by=(g,h,y,C,D)=>((O,L)=>En(O,z=>Zr(z,L)))(g,D).bind(O=>((L,z,X)=>jr(L).bind(ae=>((he,ie,fe,de)=>Qd(he,ie,os).bind(Oe=>{const Ae=fe>0?Oe.row+Oe.rowspan-1:Oe.row,ot=de>0?Oe.column+Oe.colspan-1:Oe.column;return pc(he,Ae+fe,ot+de).map(at=>at.element)}))(Ch(ae),L,z,X)))(O,h,y).bind(L=>((z,X)=>Bg(z,"table").bind(ae=>ct(ae,X).bind(he=>bd(he,z).bind(ie=>ie.boxes.map(fe=>({boxes:fe,start:ie.start,finish:ie.finish}))))))(L,C))),ru=(g,h)=>us(g,h),Ac=(g,h,y)=>Ec(g,h,y).bind(C=>{const D=X=>os(g,X),O="thead,tfoot,tbody,table",L=Bg(C.first,O,D),z=Bg(C.last,O,D);return L.bind(X=>z.bind(ae=>os(X,ae)?((he,ie,fe)=>((de,Oe,Ae)=>ep(de,Oe,Ae).bind(ot=>((at,bt)=>{let _t=!0;const Ct=we(Lr,bt);for(let At=bt.startRow;At<=bt.finishRow;At++)for(let Rt=bt.startCol;Rt<=bt.finishCol;Rt++)_t=_t&&pc(at,At,Rt).exists(Ct);return _t?ne.some(bt):ne.none()})(de,ot)))(Ch(he),ie,fe))(C.table,C.first,C.last):ne.none()))}),sp=St,VC=g=>{const h=(y,C)=>Zi(y,C).exists(D=>parseInt(D,10)>1);return g.length>0&&yt(g,y=>h(y,"rowspan")||h(y,"colspan"))?ne.some(g):ne.none()},xy=(g,h,y)=>h.length<=1?ne.none():Ac(g,y.firstSelectedSelector,y.lastSelectedSelector).map(C=>({bounds:C,cells:h})),vt=(g,h)=>({selection:g,kill:h}),Wb=()=>({tag:"none"}),xa=g=>({tag:"multiple",elements:g}),Nh=g=>({tag:"single",element:g}),Xx=(g,h,y,C)=>({start:Ln.on(g,h),finish:Ln.on(y,C)}),og=(g,h)=>{const y=Ks(g,h);return qd(De.fromDom(y.startContainer),y.startOffset,De.fromDom(y.endContainer),y.endOffset)},uo=Xx,Qx=(g,h,y,C,D)=>os(y,C)?ne.none():bd(y,C,h).bind(O=>{const L=O.boxes.getOr([]);return L.length>1?(D(g,L,O.start,O.finish),ne.some(vt(ne.some(uo(y,0,y,pn(y))),!0))):ne.none()}),rp=Ge([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),HC=g=>mr(g,"tr"),au={...rp,verify:(g,h,y,C,D,O,L)=>mr(C,"td,th",L).bind(z=>mr(h,"td,th",L).map(X=>os(z,X)?os(C,z)&&pn(z)===D?O(X):rp.none("in same cell"):dh(HC,[z,X]).fold(()=>((ae,he,ie)=>{const fe=ae.getRect(he),de=ae.getRect(ie);return de.right>fe.left&&de.left<fe.right})(g,X,z)?rp.success():O(X),ae=>O(X)))).getOr(rp.none("default")),cata:(g,h,y,C,D)=>g.fold(h,y,C,D)},vo=fa("br"),ng=(g,h,y)=>h(g,y).bind(C=>Ti(C)&&Jr(C).trim().length===0?ng(C,h,y):ne.some(C)),iu=(g,h,y,C)=>((D,O)=>j(D,O).filter(vo).orThunk(()=>j(D,O-1).filter(vo)))(h,y).bind(D=>C.traverse(D).fold(()=>ng(D,C.gather,g).map(C.relative),O=>(L=>ul(L).bind(z=>{const X=Ga(z);return((ae,he)=>Si(ae,we(os,he)))(X,L).map(ae=>((he,ie,fe,de)=>({parent:he,children:ie,element:fe,index:de}))(z,X,L,ae))}))(O).map(L=>Ln.on(L.parent,L.index)))),Xl=(g,h)=>({left:g.left,top:g.top+h,right:g.right,bottom:g.bottom+h}),sg=(g,h)=>({left:g.left,top:g.top-h,right:g.right,bottom:g.bottom-h}),Vi=(g,h,y)=>({left:g.left+h,top:g.top+y,right:g.right+h,bottom:g.bottom+y}),Bn=g=>({left:g.left,top:g.top,right:g.right,bottom:g.bottom}),ap=(g,h)=>ne.some(g.getRect(h)),Mh=(g,h,y)=>Ai(h)?ap(g,h).map(Bn):Ti(h)?((C,D,O)=>O>=0&&O<pn(D)?C.getRangedRect(D,O,D,O+1):O>0?C.getRangedRect(D,O-1,D,O):ne.none())(g,h,y).map(Bn):ne.none(),Jg=(g,h)=>Ai(h)?ap(g,h).map(Bn):Ti(h)?g.getRangedRect(h,0,h,pn(h)).map(Bn):ne.none(),Ql=Ge([{none:[]},{retry:["caret"]}]),xd=(g,h,y)=>Mg(h,Cb).fold(se,C=>Jg(g,C).exists(D=>((O,L)=>O.left<L.left||Math.abs(L.right-O.left)<1||O.left>L.right)(y,D))),oi={point:g=>g.bottom,adjuster:(g,h,y,C,D)=>{const O=Xl(D,5);return Math.abs(y.bottom-C.bottom)<1||y.top>D.bottom?Ql.retry(O):y.top===D.bottom?Ql.retry(Xl(D,1)):xd(g,h,D)?Ql.retry(Vi(O,5,0)):Ql.none()},move:Xl,gather:tu},Bh=(g,h,y,C,D)=>D===0?ne.some(C):((O,L,z)=>O.elementFromPoint(L,z).filter(X=>ks(X)==="table").isSome())(g,C.left,h.point(C))?((O,L,z,X,ae)=>Bh(O,L,z,L.move(X,5),ae))(g,h,y,C,D-1):g.situsFromPoint(C.left,h.point(C)).bind(O=>O.start.fold(ne.none,L=>Jg(g,L).bind(z=>h.adjuster(g,L,z,y,C).fold(ne.none,X=>Bh(g,h,y,X,D-1))).orThunk(()=>ne.some(C)),ne.none)),vy=(g,h,y)=>{const C=g.move(y,5),D=Bh(h,g,y,C,100).getOr(C);return((O,L,z)=>O.point(L)>z.getInnerHeight()?ne.some(O.point(L)-z.getInnerHeight()):O.point(L)<0?ne.some(-O.point(L)):ne.none())(g,D,h).fold(()=>h.situsFromPoint(D.left,g.point(D)),O=>(h.scrollBy(0,O),h.situsFromPoint(D.left,g.point(D)-O)))},Jx={tryUp:we(vy,{point:g=>g.top,adjuster:(g,h,y,C,D)=>{const O=sg(D,5);return Math.abs(y.top-C.top)<1||y.bottom<D.top?Ql.retry(O):y.bottom===D.top?Ql.retry(sg(D,1)):xd(g,h,D)?Ql.retry(Vi(O,5,0)):Ql.none()},move:sg,gather:wc}),tryDown:we(vy,oi),getJumpSize:Je(5)},Ph=(g,h,y)=>g.getSelection().bind(C=>((D,O,L,z)=>(vo(O)?((ae,he,ie)=>ie.traverse(he).orThunk(()=>ng(he,ie.gather,ae)).map(ie.relative))(D,O,z):iu(D,O,L,z)).map(ae=>({start:ae,finish:ae})))(h,C.finish,C.foffset,y).fold(()=>ne.some(fi(C.finish,C.foffset)),D=>{const O=g.fromSitus(D);return L=au.verify(g,C.finish,C.foffset,O.finish,O.foffset,y.failure,h),au.cata(L,z=>ne.none(),()=>ne.none(),z=>ne.some(fi(z,0)),z=>ne.some(fi(z,pn(z))));var L})),Ih=(g,h,y,C,D,O)=>O===0?ne.none():ip(g,h,y,C,D).bind(L=>{const z=g.fromSitus(L),X=au.verify(g,y,C,z.finish,z.foffset,D.failure,h);return au.cata(X,()=>ne.none(),()=>ne.some(L),ae=>os(y,ae)&&C===0?hn(g,y,C,sg,D):Ih(g,h,ae,0,D,O-1),ae=>os(y,ae)&&C===pn(ae)?hn(g,y,C,Xl,D):Ih(g,h,ae,pn(ae),D,O-1))}),hn=(g,h,y,C,D)=>Mh(g,h,y).bind(O=>vd(g,D,C(O,Jx.getJumpSize()))),vd=(g,h,y)=>{const C=Yc().browser;return C.isChromium()||C.isSafari()||C.isFirefox()?h.retry(g,y):ne.none()},ip=(g,h,y,C,D)=>Mh(g,y,C).bind(O=>vd(g,D,O)),$C=(g,h,y,C,D)=>mr(C,"td,th",h).bind(O=>mr(O,"table",h).bind(L=>((z,X)=>Om(z,ae=>ul(ae).exists(he=>os(he,X)),void 0).isSome())(D,L)?((z,X,ae)=>Ph(z,X,ae).bind(he=>Ih(z,X,he.element,he.offset,ae,20).map(z.fromSitus)))(g,h,y).bind(z=>mr(z.finish,"td,th",h).map(X=>({start:O,finish:X,range:z}))):ne.none())),Lh=(g,h,y,C,D,O)=>O(C,h).orThunk(()=>$C(g,h,y,C,D).map(L=>{const z=L.range;return vt(ne.some(uo(z.start,z.soffset,z.finish,z.foffset)),!0)})),Tn=(g,h)=>mr(g,"tr",h).bind(y=>mr(y,"table",h).bind(C=>{const D=sd(C,"tr");return os(y,D[0])?((O,L,z)=>ey(ql,O,X=>Rr(X).isSome(),z))(C,0,h).map(O=>{const L=pn(O);return vt(ne.some(uo(O,L,O,L)),!0)}):ne.none()})),UC=(g,h)=>mr(g,"tr",h).bind(y=>mr(y,"table",h).bind(C=>{const D=sd(C,"tr");return os(y,D[D.length-1])?((O,L,z)=>yb(ql,O,X=>Pg(X).isSome(),z))(C,0,h).map(O=>vt(ne.some(uo(O,0,O,0)),!0)):ne.none()})),Fh=(g,h,y,C,D,O,L)=>$C(g,y,C,D,O).bind(z=>Qx(h,y,z.start,z.finish,L)),yl=(g,h)=>mr(g,"td,th",h),Ua=g=>Tm(g).exists(Rm),ef={traverse:Qc,gather:tu,relative:Ln.before,retry:Jx.tryDown,failure:au.failedDown},em={traverse:Rg,gather:wc,relative:Ln.before,retry:Jx.tryUp,failure:au.failedUp},Tc=g=>h=>h===g,tf=Tc(38),rg=Tc(40),ln=g=>g>=37&&g<=40,ev={isBackward:Tc(37),isForward:Tc(39)},qb={isBackward:Tc(39),isForward:Tc(37)},tv=g=>({elementFromPoint:(h,y)=>De.fromPoint(De.fromDom(g.document),h,y),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,y,C,D)=>{const O=Lg.exact(h,y,C,D);return((L,z)=>(X=>{const ae=X.getClientRects(),he=ae.length>0?ae[0]:X.getBoundingClientRect();return he.width>0||he.height>0?ne.some(he).map(Ml):ne.none()})(Ks(L,z)))(g,O)},getSelection:()=>fr(g).map(h=>og(g,h)),fromSitus:h=>{const y=Lg.relative(h.start,h.finish);return og(g,y)},situsFromPoint:(h,y)=>Ka(g,h,y).map(C=>Xx(C.start,C.soffset,C.finish,C.foffset)),clearSelection:()=>{(h=>{sn(h).each(y=>y.removeAllRanges())})(g)},collapseSelection:(h=!1)=>{fr(g).each(y=>y.fold(C=>C.collapse(h),(C,D)=>{const O=h?C:D;Ex(g,O,O)},(C,D,O,L)=>{const z=h?C:O,X=h?D:L;jo(g,z,X,z,X)}))},setSelection:h=>{jo(g,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,y)=>{Ex(g,h,y)},selectNode:h=>{Kd(g,h,!1)},selectContents:h=>{Kd(g,h)},getInnerHeight:()=>g.innerHeight,getScrollY:()=>(h=>{const y=h!==void 0?h.dom:document,C=y.body.scrollLeft||y.documentElement.scrollLeft,D=y.body.scrollTop||y.documentElement.scrollTop;return ui(C,D)})(De.fromDom(g.document)).top,scrollBy:(h,y)=>{((C,D,O)=>{const L=(O!==void 0?O.dom:document).defaultView;L&&L.scrollBy(C,D)})(h,y,De.fromDom(g.document))}}),Jl=(g,h)=>({rows:g,cols:h}),Gb=g=>Mg(g,Us).exists(Rm),Kb=(g,h)=>Gb(g)||Gb(h),Yb="data-mce-selected",ag="data-mce-first-selected",of="data-mce-last-selected",nf="["+Yb+"]",ec={selected:Yb,selectedSelector:"td["+Yb+"],th["+Yb+"]",firstSelected:ag,firstSelectedSelector:"td["+ag+"],th["+ag+"]",lastSelected:of,lastSelectedSelector:"td["+of+"],th["+of+"]"},zh=(g,h,y)=>({element:y,mergable:xy(h,g,ec),unmergable:VC(g),selection:sp(g)}),yy=g=>(h,y)=>{const C=ks(h),D=C==="col"||C==="colgroup"?jr(O=h).bind(L=>ru(L,ec.firstSelectedSelector)).fold(Je(O),L=>L[0]):h;var O;return mr(D,g,y)},wy=yy("th,td,caption"),ov=yy("th,td"),yd=g=>{return h=g.model.table.getSelectedCells(),E(h,De.fromDom);var h},nv=(g,h)=>{g.on("BeforeGetContent",y=>{const C=D=>{y.preventDefault(),(O=>jr(O[0]).map(L=>{const z=((X,ae)=>{const he=_t=>Zr(_t.element,ae),ie=Qr(X),fe=lb(ie),de=cd(X),Oe=zg(fe),Ae=((_t,Ct)=>{const At=_t.grid.columns;let Rt=_t.grid.rows,Yt=At,bo=0,Rn=0;const Fo=[],zo=[];return Uo(_t.access,Vo=>{if(Fo.push(Vo),Ct(Vo)){zo.push(Vo);const $n=Vo.row,kr=$n+Vo.rowspan-1,Za=Vo.column,va=Za+Vo.colspan-1;$n<Rt?Rt=$n:kr>bo&&(bo=kr),Za<Yt?Yt=Za:va>Rn&&(Rn=va)}}),((Vo,$n,kr,Za,va,Ji)=>({minRow:Vo,minCol:$n,maxRow:kr,maxCol:Za,allCells:va,selectedCells:Ji}))(Rt,Yt,bo,Rn,Fo,zo)})(Oe,he),ot="th:not("+ae+"),td:not("+ae+")",at=pr(ie,"th,td",_t=>Zr(_t,ot));mo(at,ka),((_t,Ct,At,Rt)=>{const Yt=yn(_t,Fo=>Fo.section!=="colgroup"),bo=Ct.grid.columns,Rn=Ct.grid.rows;for(let Fo=0;Fo<Rn;Fo++){let zo=!1;for(let Vo=0;Vo<bo;Vo++)Fo<At.minRow||Fo>At.maxRow||Vo<At.minCol||Vo>At.maxCol||(pc(Ct,Fo,Vo).filter(Rt).isNone()?$g(Yt,zo,Fo):zo=!0)}})(fe,Oe,Ae,he);const bt=((_t,Ct,At,Rt)=>{if(Rt.minCol===0&&Ct.grid.columns===Rt.maxCol+1)return 0;const Yt=Zu(Ct,_t,At),bo=pt(Yt,(zo,Vo)=>zo+Vo,0),Rn=pt(Yt.slice(Rt.minCol,Rt.maxCol+1),(zo,Vo)=>zo+Vo,0),Fo=Rn/bo*At.pixelWidth()-At.pixelWidth();return At.getCellDelta(Fo)})(X,Ha(X),de,Ae);return((_t,Ct,At,Rt)=>{Uo(At.columns,bo=>{(bo.column<Ct.minCol||bo.column>Ct.maxCol)&&ka(bo.element)});const Yt=yn(rn(_t,"tr"),bo=>bo.dom.childElementCount===0);mo(Yt,ka),Ct.minCol!==Ct.maxCol&&Ct.minRow!==Ct.maxRow||mo(rn(_t,"th,td"),bo=>{ur(bo,"rowspan"),ur(bo,"colspan")}),ur(_t,cb),ur(_t,"data-snooker-col-series"),cd(_t).adjustTableWidth(Rt)})(ie,Ae,Oe,bt),ie})(L,nf);return tg(z),[z]}))(D).each(O=>{const L=y.format==="text"?((z,X)=>{const ae=z.getDoc(),he=Se(De.fromDom(z.getBody())),ie=De.fromTag("div",ae);Hn(ie,"data-mce-bogus","all"),Yp(ie,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const fe=(Oe=>ce(Oe)?Oe:De.fromDom(Ud(Oe).dom.body))(he);is(ie,X),Ie(fe,ie);const de=ie.dom.innerText;return ka(ie),de})(g,O):((z,X)=>E(X,ae=>z.selection.serializer.serialize(ae.dom,{})).join(""))(g,O);y.content=L})};if(y.selection===!0){const D=(O=>yn(yd(O),L=>Zr(L,ec.selectedSelector)))(g);D.length>=1&&C(D)}}),g.on("BeforeSetContent",y=>{if(y.selection===!0&&y.paste===!0){const C=yd(g);Do(C).each(D=>{jr(D).each(O=>{const L=yn((X=>{const ae=document.createElement("div");return ae.innerHTML=X,Ga(De.fromDom(ae))})(y.content),X=>ks(X)!=="meta"),z=fa("table");if(Xg(g)&&L.length===1&&z(L[0])){y.preventDefault();const X=De.fromDom(g.getDoc()),ae=qt(X),he=((ie,fe,de)=>({element:ie,clipboard:fe,generators:de}))(D,L[0],ae);h.pasteCells(O,he).each(()=>{g.focus()})}})})}})},tm=(g,h)=>g.dispatch("NewRow",{node:h}),Xb=(g,h)=>g.dispatch("NewCell",{node:h}),Qi=(g,h,y)=>{g.dispatch("TableModified",{...y,table:h})},lp={structure:!1,style:!0},zr={structure:!0,style:!1},om={structure:!0,style:!0},sv=(g,h)=>ar(g)?Pi(h):Yg(g)?ft(h):cd(h),cp=(g,h,y)=>{const C=he=>ks(Oh(he))==="table",D=Ub(g),O=Na(g)?ge:ds,L=he=>{switch(nu(g)){case"section":return Wr();case"sectionCells":return Ri();case"cells":return or();default:return((ie,fe)=>{var de;switch((de=Ha(ie),B(de.all,Oe=>{const Ae=Dx(Oe);return Ae.type==="header"?ne.from(Ae.subType):ne.none()})).getOr(fe)){case"section":return nh();case"sectionCells":return Qs();case"cells":return gb()}})(he,"section")}},z=(he,ie,fe,de)=>(Oe,Ae,ot=!1)=>{tg(Oe);const at=De.fromDom(g.getDoc()),bt=_c(fe,at,D),_t={sizing:sv(g,Oe),resize:Na(g)?ji():Mm(),section:L(Oe)};return ie(Oe)?he(Oe,Ae,bt,_t).bind(Ct=>{h.refresh(Oe.dom),mo(Ct.newRows,Rt=>{tm(g,Rt.dom)}),mo(Ct.newCells,Rt=>{Xb(g,Rt.dom)});const At=((Rt,Yt)=>Yt.cursor.fold(()=>{const bo=ta(Rt);return Do(bo).filter(ed).map(Rn=>{y.clearSelectedCells(Rt.dom);const Fo=g.dom.createRng();return Fo.selectNode(Rn.dom),g.selection.setRng(Fo),Hn(Rn,"data-mce-selected","1"),Fo})},bo=>{const Rn=Bx(vb,bo),Fo=g.dom.createRng();return Fo.setStart(Rn.element.dom,Rn.offset),Fo.setEnd(Rn.element.dom,Rn.offset),g.selection.setRng(Fo),y.clearSelectedCells(Rt.dom),ne.some(Fo)}))(Oe,Ct);return ed(Oe)&&(tg(Oe),ot||Qi(g,Oe.dom,de)),At.map(Rt=>({rng:Rt,effect:de}))}):ne.none()},X=z(wh,he=>!C(g)||$o(he).rows>1,ge,zr),ae=z(yh,he=>!C(g)||$o(he).columns>1,ge,zr);return{deleteRow:X,deleteColumn:ae,insertRowsBefore:z(Qf,We,ge,zr),insertRowsAfter:z(Da,We,ge,zr),insertColumnsBefore:z(Xm,We,O,zr),insertColumnsAfter:z(Jf,We,O,zr),mergeCells:z(dy,We,ge,zr),unmergeCells:z(uy,We,ge,zr),pasteColsBefore:z(my,We,ge,zr),pasteColsAfter:z(Ib,We,ge,zr),pasteRowsBefore:z(gy,We,ge,zr),pasteRowsAfter:z(Cr,We,ge,zr),pasteCells:z(jx,We,ge,om),makeCellsHeader:z(Oa,We,ge,zr),unmakeCellsHeader:z(Yu,We,ge,zr),makeColumnsHeader:z(Ku,We,ge,zr),unmakeColumnsHeader:z(ly,We,ge,zr),makeRowsHeader:z(Pb,We,ge,zr),makeRowsBody:z(cy,We,ge,zr),makeRowsFooter:z(Zx,We,ge,zr),getTableRowType:Ra,getTableCellType:ba,getTableColType:Ir}},Vh=(g,h)=>{g.selection.select(h.dom,!0),g.selection.collapse(!0)},_y=(g,h,y,C,D)=>{const O=(z=>{const X=z.options,ae=X.get("table_default_styles");return X.isSet("table_default_styles")?ae:((he,ie)=>hd(he)||!oo(he)?ie:Yg(he)?{...ie,width:Qu(he)}:{...ie,width:Kx})(z,ae)})(g),L={styles:O,attributes:su(g),colGroups:Yx(g)};return g.undoManager.ignore(()=>{const z=((ae,he,ie,fe,de,Oe=Wx)=>{const Ae=De.fromTag("table"),ot=de!=="cells";Yp(Ae,Oe.styles),pa(Ae,Oe.attributes),Oe.colGroups&&Ie(Ae,(Ct=>{const At=De.fromTag("colgroup");return Ut(Ct,()=>Ie(At,De.fromTag("col"))),At})(he));const at=Math.min(ae,ie);if(ot&&ie>0){const Ct=De.fromTag("thead");Ie(Ae,Ct);const At=ou(ie,he,de==="sectionCells"?at:0,fe);is(Ct,At)}const bt=De.fromTag("tbody");Ie(Ae,bt);const _t=ou(ot?ae-at:ae,he,ot?0:ie,fe);return is(bt,_t),Ae})(y,h,D,C,nu(g),L);Hn(z,"data-mce-id","__mce");const X=(ae=>{const he=De.fromTag("div"),ie=De.fromDom(ae.dom.cloneNode(!0));return Ie(he,ie),(fe=>fe.dom.innerHTML)(he)})(z);g.insertContent(X),g.addVisual()}),ct(Oh(g),'table[data-mce-id="__mce"]').map(z=>(Yg(g)?rr(z):hd(g)?oy(z):(ar(g)||(X=>Re(X)&&X.indexOf("%")!==-1)(O.width))&&md(z),tg(z),ur(z,"data-mce-id"),((X,ae)=>{mo(sd(ae,"tr"),he=>{tm(X,he.dom),mo(sd(he,"th,td"),ie=>{Xb(X,ie.dom)})})})(g,z),((X,ae)=>{ct(ae,"td,th").each(we(Vh,X))})(g,z),z.dom)).getOrNull()};var Hh=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const sf="x-tinymce/dom-table-",lu=sf+"rows",dp=sf+"columns",Vr=g=>{const h=Hh.FakeClipboardItem(g);Hh.write([h])},rf=g=>{const h=Hh.read()??[];return B(h,y=>ne.from(y.getType(g)))},Hi=g=>{rf(g).isSome()&&Hh.clear()},Cy=g=>{g.fold(up,h=>Vr({[lu]:h}))},ky=()=>rf(lu),up=()=>Hi(lu),af=g=>{g.fold(wl,h=>Vr({[dp]:h}))},nm=()=>rf(dp),wl=()=>Hi(dp),$h=g=>wy(Rh(g),Wn(g)).filter(Ju),Qb=(g,h)=>{const y=Wn(g),C=ie=>jr(ie,y),D=ie=>(fe=>ov(Rh(fe),Wn(fe)).filter(Ju))(g).bind(fe=>C(fe).map(de=>ie(de,fe))),O=ie=>{g.focus()},L=(ie,fe=!1)=>D((de,Oe)=>{const Ae=zh(yd(g),de,Oe);ie(de,Ae,fe).each(O)}),z=()=>D((ie,fe)=>((de,Oe,Ae)=>{const ot=Ha(de);return Pr(ot,Oe).bind(at=>{const bt=Ii(ot,Ae,!1),_t=_s(bt).rows.slice(at[0].row,at[at.length-1].row+at[at.length-1].rowspan),Ct=Ee(_t,Rt=>{const Yt=yn(Rt.cells,bo=>!bo.isLocked);return Yt.length>0?[{...Rt,cells:Yt}]:[]}),At=Ja(Ct);return dr(At.length>0,At)}).map(at=>E(at,bt=>{const _t=Uf(bt.element);return mo(bt.cells,Ct=>{const At=Qr(Ct.element);Hm(At,"colspan",Ct.colspan,1),Hm(At,"rowspan",Ct.rowspan,1),Ie(_t,At)}),_t}))})(ie,zh(yd(g),ie,fe),_c(ge,De.fromDom(g.getDoc()),ne.none()))),X=()=>D((ie,fe)=>((de,Oe)=>{const Ae=Ha(de);return $m(Ae,Oe).map(ot=>{const at=ot[ot.length-1],bt=ot[0].column,_t=at.column+at.colspan,Ct=((Rt,Yt,bo)=>{if(hc(Rt)){const Rn=yn(Hl(Rt),hb(Yt,bo)),Fo=E(Rn,Vo=>{const $n=Qr(Vo.element);return ju($n,"span",bo-Yt),$n}),zo=De.fromTag("colgroup");return is(zo,Fo),[zo]}return[]})(Ae,bt,_t),At=((Rt,Yt,bo)=>E(Rt.all,Rn=>{const Fo=yn(Rn.cells,hb(Yt,bo)),zo=E(Fo,$n=>{const kr=Qr($n.element);return ju(kr,"colspan",bo-Yt),kr}),Vo=De.fromTag("tr");return is(Vo,zo),Vo}))(Ae,bt,_t);return[...Ct,...At]})})(ie,zh(yd(g),ie,fe))),ae=(ie,fe)=>fe().each(de=>{const Oe=E(de,Ae=>Qr(Ae));D((Ae,ot)=>{const at=qt(De.fromDom(g.getDoc())),bt=((_t,Ct,At,Rt)=>({selection:sp(_t),clipboard:At,generators:Rt}))(yd(g),0,Oe,at);ie(Ae,bt).each(O)})}),he=ie=>(fe,de)=>((Oe,Ae)=>Io(Oe,Ae)?ne.from(Oe[Ae]):ne.none())(de,"type").each(Oe=>{L(ie(Oe),de.no_events)});Uo({mceTableSplitCells:()=>L(h.unmergeCells),mceTableMergeCells:()=>L(h.mergeCells),mceTableInsertRowBefore:()=>L(h.insertRowsBefore),mceTableInsertRowAfter:()=>L(h.insertRowsAfter),mceTableInsertColBefore:()=>L(h.insertColumnsBefore),mceTableInsertColAfter:()=>L(h.insertColumnsAfter),mceTableDeleteCol:()=>L(h.deleteColumn),mceTableDeleteRow:()=>L(h.deleteRow),mceTableCutCol:()=>X().each(ie=>{af(ie),L(h.deleteColumn)}),mceTableCutRow:()=>z().each(ie=>{Cy(ie),L(h.deleteRow)}),mceTableCopyCol:()=>X().each(ie=>af(ie)),mceTableCopyRow:()=>z().each(ie=>Cy(ie)),mceTablePasteColBefore:()=>ae(h.pasteColsBefore,nm),mceTablePasteColAfter:()=>ae(h.pasteColsAfter,nm),mceTablePasteRowBefore:()=>ae(h.pasteRowsBefore,ky),mceTablePasteRowAfter:()=>ae(h.pasteRowsAfter,ky),mceTableDelete:()=>$h(g).each(ie=>{jr(ie,y).filter(Tt(y)).each(fe=>{const de=De.fromText("");if(W(fe,de),ka(fe),g.dom.isEmpty(g.getBody()))g.setContent(""),g.selection.setCursorLocation();else{const Oe=g.dom.createRng();Oe.setStart(de.dom,0),Oe.setEnd(de.dom,0),g.selection.setRng(Oe),g.nodeChanged()}})}),mceTableCellToggleClass:(ie,fe)=>{D(de=>{const Oe=yd(g),Ae=yt(Oe,at=>g.formatter.match("tablecellclass",{value:fe},at.dom)),ot=Ae?g.formatter.remove:g.formatter.apply;mo(Oe,at=>ot("tablecellclass",{value:fe},at.dom)),Qi(g,de.dom,lp)})},mceTableToggleClass:(ie,fe)=>{D(de=>{g.formatter.toggle("tableclass",{value:fe},de.dom),Qi(g,de.dom,lp)})},mceTableToggleCaption:()=>{$h(g).each(ie=>{jr(ie,y).each(fe=>{Zf(fe,"caption").fold(()=>{const de=De.fromTag("caption");Ie(de,De.fromText("Caption")),((Oe,Ae)=>{j(Oe,0).fold(()=>{Ie(Oe,Ae)},ot=>{P(ot,Ae)})})(fe,de),g.selection.setCursorLocation(de.dom,0)},de=>{fa("caption")(ie)&&Bl("td",fe).each(Oe=>g.selection.setCursorLocation(Oe.dom,0)),ka(de)}),Qi(g,fe.dom,zr)})})},mceTableSizingMode:(ie,fe)=>(de=>$h(g).each(Oe=>{hd(g)||Yg(g)||ar(g)||jr(Oe,y).each(Ae=>{de!=="relative"||jm(Ae)?de!=="fixed"||X2(Ae)?de!=="responsive"||Yf(Ae)||oy(Ae):rr(Ae):md(Ae),tg(Ae),Qi(g,Ae.dom,zr)})}))(fe),mceTableCellType:he(ie=>ie==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:he(ie=>ie==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:he(ie=>{switch(ie){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(ie,fe)=>g.addCommand(fe,ie)),g.addCommand("mceInsertTable",(ie,fe)=>{((de,Oe,Ae,ot={})=>{const at=bt=>Ue(bt)&&bt>0;if(at(Oe)&&at(Ae)){const bt=ot.headerRows||0,_t=ot.headerColumns||0;return _y(de,Ae,Oe,_t,bt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(g,fe.rows,fe.columns,fe.options)}),g.addCommand("mceTableApplyCellStyle",(ie,fe)=>{const de=ot=>"tablecell"+ot.toLowerCase().replace("-","");if(!xe(fe))return;const Oe=yn(yd(g),Ju);if(Oe.length===0)return;const Ae=((ot,at)=>{const bt={};return((_t,Ct,At,Rt)=>{Uo(_t,(Yt,bo)=>{(Ct(Yt,bo)?At:Rt)(Yt,bo)})})(ot,at,(_t=>(Ct,At)=>{_t[At]=Ct})(bt),ge),bt})(fe,(ot,at)=>g.formatter.has(de(at))&&Re(ot));(ot=>{for(const at in ot)if(Os.call(ot,at))return!1;return!0})(Ae)||(Uo(Ae,(ot,at)=>{const bt=de(at);mo(Oe,_t=>{ot===""?g.formatter.remove(bt,{value:null},_t.dom,!0):g.formatter.apply(bt,{value:ot},_t.dom)})}),C(Oe[0]).each(ot=>Qi(g,ot.dom,lp)))})},Uh=g=>!Ro(De.fromDom(g.target),"ephox-snooker-resizer-bar"),Zh=(g,h)=>{const y=(D=ec.selectedSelector,{get:()=>ru(De.fromDom(g.getBody()),D).fold(()=>ov(Rh(g),Wn(g)).fold(Wb,Nh),xa)}),C=((O,L,z)=>{const X=fe=>{ur(fe,O.selected),ur(fe,O.firstSelected),ur(fe,O.lastSelected)},ae=fe=>{Hn(fe,O.selected,"1")},he=fe=>{ie(fe),z()},ie=fe=>{const de=sd(fe,`${O.selectedSelector},${O.firstSelectedSelector},${O.lastSelectedSelector}`);mo(de,X)};return{clearBeforeUpdate:ie,clear:he,selectRange:(fe,de,Oe,Ae)=>{he(fe),mo(de,ae),Hn(Oe,O.firstSelected,"1"),Hn(Ae,O.lastSelected,"1"),L(de,Oe,Ae)},selectedSelector:O.selectedSelector,firstSelectedSelector:O.firstSelectedSelector,lastSelectedSelector:O.lastSelectedSelector}})(ec,(O,L,z)=>{jr(L).each(X=>{const ae=E(O,de=>de.dom),he=Ub(g),ie=_c(ge,De.fromDom(g.getDoc()),he),fe=((de,Oe,Ae)=>{const ot=Ha(de);return Pr(ot,Oe).map(at=>{const bt=Ii(ot,Ae,!1),{rows:_t}=_s(bt),Ct=((Rt,Yt)=>{const bo=Rt.slice(0,Yt[Yt.length-1].row+1),Rn=Ja(bo);return Ee(Rn,Fo=>{const zo=Fo.cells.slice(0,Yt[Yt.length-1].column+1);return E(zo,Vo=>Vo.element)})})(_t,at),At=((Rt,Yt)=>{const bo=Rt.slice(Yt[0].row+Yt[0].rowspan-1,Rt.length),Rn=Ja(bo);return Ee(Rn,Fo=>{const zo=Fo.cells.slice(Yt[0].column+Yt[0].colspan-1,Fo.cells.length);return E(zo,Vo=>Vo.element)})})(_t,at);return{upOrLeftCells:Ct,downOrRightCells:At}})})(X,{selection:yd(g)},ie).map(de=>li(de,Oe=>E(Oe,Ae=>Ae.dom))).getOrUndefined();((de,Oe,Ae,ot,at)=>{de.dispatch("TableSelectionChange",{cells:Oe,start:Ae,finish:ot,otherCells:at})})(g,ae,L.dom,z.dom,fe)})},()=>(O=>{O.dispatch("TableSelectionClear")})(g));var D;return g.on("init",O=>{const L=g.getWin(),z=Oh(g),X=Wn(g),ae=((Ae,ot,at,bt)=>{const _t=((Ct,At,Rt,Yt)=>{const bo=ma(),Rn=bo.clear,Fo=zo=>{bo.on(Vo=>{Yt.clearBeforeUpdate(At),yl(zo.target,Rt).each($n=>{bd(Vo,$n,Rt).each(kr=>{const Za=kr.boxes.getOr([]);if(Za.length===1){const va=Za[0],Ji=Va(va)==="false",Kt=Wc(oe(zo.target),va,os);Ji&&Kt&&Yt.selectRange(At,Za,va,va)}else Za.length>1&&(Yt.selectRange(At,Za,kr.start,kr.finish),Ct.selectContents($n))})})})};return{clearstate:Rn,mousedown:zo=>{Yt.clear(At),yl(zo.target,Rt).filter(Ua).each(bo.set)},mouseover:zo=>{Fo(zo)},mouseup:zo=>{Fo(zo),Rn()}}})(tv(Ae),ot,at,bt);return{clearstate:_t.clearstate,mousedown:_t.mousedown,mouseover:_t.mouseover,mouseup:_t.mouseup}})(L,z,X,C),he=((Ae,ot,at,bt)=>{const _t=tv(Ae),Ct=()=>(bt.clear(ot),ne.none());return{keydown:(At,Rt,Yt,bo,Rn,Fo)=>{const zo=At.raw,Vo=zo.which,$n=zo.shiftKey===!0;return us(ot,bt.selectedSelector).fold(()=>(ln(Vo)&&!$n&&bt.clearBeforeUpdate(ot),ln(Vo)&&$n&&!Kb(Rt,bo)?ne.none:rg(Vo)&&$n?we(Fh,_t,ot,at,ef,bo,Rt,bt.selectRange):tf(Vo)&&$n?we(Fh,_t,ot,at,em,bo,Rt,bt.selectRange):rg(Vo)?we(Lh,_t,at,ef,bo,Rt,UC):tf(Vo)?we(Lh,_t,at,em,bo,Rt,Tn):ne.none),Za=>{const va=Ji=>()=>B(Ji,ja=>((sm,Wh,wd,qh,Dc)=>by(qh,sm,Wh,Dc.firstSelectedSelector,Dc.lastSelectedSelector).map(cu=>(Dc.clearBeforeUpdate(wd),Dc.selectRange(wd,cu.boxes,cu.start,cu.finish),cu.boxes)))(ja.rows,ja.cols,ot,Za,bt)).fold(()=>Ec(ot,bt.firstSelectedSelector,bt.lastSelectedSelector).map(ja=>{const sm=rg(Vo)||Fo.isForward(Vo)?Ln.after:Ln.before;return _t.setRelativeSelection(Ln.on(ja.first,0),sm(ja.table)),bt.clear(ot),vt(ne.none(),!0)}),ja=>ne.some(vt(ne.none(),!0)));return ln(Vo)&&$n&&!Kb(Rt,bo)?ne.none:rg(Vo)&&$n?va([Jl(1,0)]):tf(Vo)&&$n?va([Jl(-1,0)]):Fo.isBackward(Vo)&&$n?va([Jl(0,-1),Jl(-1,0)]):Fo.isForward(Vo)&&$n?va([Jl(0,1),Jl(1,0)]):ln(Vo)&&!$n?Ct:ne.none})()},keyup:(At,Rt,Yt,bo,Rn)=>us(ot,bt.selectedSelector).fold(()=>{const Fo=At.raw,zo=Fo.which;return Fo.shiftKey===!0&&ln(zo)&&Kb(Rt,bo)?((Vo,$n,kr,Za,va,Ji,Kt)=>os(kr,va)&&Za===Ji?ne.none():mr(kr,"td,th",$n).bind(ja=>mr(va,"td,th",$n).bind(sm=>Qx(Vo,$n,ja,sm,Kt))))(ot,at,Rt,Yt,bo,Rn,bt.selectRange):ne.none()},ne.none)}})(L,z,X,C),ie=((Ae,ot,at,bt)=>{const _t=tv(Ae);return(Ct,At)=>{bt.clearBeforeUpdate(ot),bd(Ct,At,at).each(Rt=>{const Yt=Rt.boxes.getOr([]);bt.selectRange(ot,Yt,Rt.start,Rt.finish),_t.selectContents(At),_t.collapseSelection()})}})(L,z,X,C);g.on("TableSelectorChange",Ae=>ie(Ae.start,Ae.finish));const fe=(Ae,ot)=>{(at=>at.raw.shiftKey===!0)(Ae)&&(ot.kill&&Ae.kill(),ot.selection.each(at=>{const bt=Lg.relative(at.start,at.finish),_t=Ks(L,bt);g.selection.setRng(_t)}))},de=Ae=>Ae.button===0,Oe=(()=>{const Ae=gt(De.fromDom(z)),ot=gt(0);return{touchEnd:at=>{const bt=De.fromDom(at.target);if(fa("td")(bt)||fa("th")(bt)){const _t=Ae.get(),Ct=ot.get();os(_t,bt)&&at.timeStamp-Ct<300&&(at.preventDefault(),ie(bt,bt))}Ae.set(bt),ot.set(at.timeStamp)}}})();g.on("dragstart",Ae=>{ae.clearstate()}),g.on("mousedown",Ae=>{de(Ae)&&Uh(Ae)&&ae.mousedown(Qo(Ae))}),g.on("mouseover",Ae=>{var ot;((ot=Ae).buttons===void 0||1&ot.buttons)&&Uh(Ae)&&ae.mouseover(Qo(Ae))}),g.on("mouseup",Ae=>{de(Ae)&&Uh(Ae)&&ae.mouseup(Qo(Ae))}),g.on("touchend",Oe.touchEnd),g.on("keyup",Ae=>{const ot=Qo(Ae);if(ot.raw.shiftKey&&ln(ot.raw.which)){const at=g.selection.getRng(),bt=De.fromDom(at.startContainer),_t=De.fromDom(at.endContainer);he.keyup(ot,bt,at.startOffset,_t,at.endOffset).each(Ct=>{fe(ot,Ct)})}}),g.on("keydown",Ae=>{const ot=Qo(Ae);h.hide();const at=g.selection.getRng(),bt=De.fromDom(at.startContainer),_t=De.fromDom(at.endContainer),Ct=sb(ev,qb)(De.fromDom(g.selection.getStart()));he.keydown(ot,bt,at.startOffset,_t,at.endOffset,Ct).each(At=>{fe(ot,At)}),h.show()}),g.on("NodeChange",()=>{const Ae=g.selection,ot=De.fromDom(Ae.getStart()),at=De.fromDom(Ae.getEnd());dh(jr,[ot,at]).fold(()=>C.clear(z),ge)})}),g.on("PreInit",()=>{g.serializer.addTempAttr(ec.firstSelected),g.serializer.addTempAttr(ec.lastSelected)}),{getSelectedCells:()=>((O,L)=>{switch(O.tag){case"none":return L();case"single":return(z=>[z.dom])(O.element);case"multiple":return(z=>E(z,X=>X.dom))(O.elements)}})(y.get(),Je([])),clearSelectedCells:O=>C.clear(De.fromDom(O))}},Sy=g=>dt(g)&&g.nodeName==="TABLE",lf="bar-",jh=g=>Ca(g,"data-mce-resize")!=="false",Ey=g=>{const h=ma(),y=ma(),C=ma();let D,O,L,z;const X=de=>sv(g,de),ae=()=>hy(g)?Mm():ji(),he=(de,Oe,Ae,ot)=>{const at=(Ct=>{return no(At=Ct,"corner-")?(Rt=>Rt.substring(7))(At):At;var At})(Oe),bt=cn(at,"e"),_t=no(at,"n");if(O===""&&md(de),z===""&&(Ct=>{const At=(Rt=>jd(Rt)+"px")(Ct);Zm(Ct,ne.none(),ne.some(At)),Gl(Ct)})(de),Ae!==D&&O!==""){Sa(de,"width",O);const Ct=ae(),At=X(de),Rt=hy(g)||bt?(Yt=>$o(Yt).columns)(de)-1:0;Fi(de,Ae-D,Rt,Ct,At)}else if((Ct=>/^(\d+(\.\d+)?)%$/.test(Ct))(O)){const Ct=parseFloat(O.replace("%",""));Sa(de,"width",Ae*Ct/D+"%")}if((Ct=>/^(\d+(\.\d+)?)px$/.test(Ct))(O)&&(Ct=>{const At=Ha(Ct);hc(At)||mo(ta(Ct),Rt=>{const Yt=Fu(Rt,"width");Sa(Rt,"width",Yt),ur(Rt,"width")})})(de),ot!==L&&z!==""){Sa(de,"height",z);const Ct=_t?0:(At=>$o(At).rows)(de)-1;Aa(de,ot-L,Ct)}};g.on("init",()=>{const de=((Oe,Ae)=>((ot,at)=>({parent:Je(ot),view:Je(ot),dragContainer:Je(ot),origin:()=>io(ot),isResizable:at}))(De.fromDom(Oe.getBody()),Ae))(g,jh);if(C.set(de),(Oe=>{const Ae=Oe.options.get("object_resizing");return to(Ae.split(","),"table")})(g)&&an(g)){const Oe=((Ae,ot,at)=>{const bt=hl,_t=Im,Ct=py(Ae),At=Qm({beforeResize:vl(["table","type"]),afterResize:vl(["table","type"]),startDrag:vl([])});return Ct.events.adjustHeight.bind(Rt=>{const Yt=Rt.table;At.trigger.beforeResize(Yt,"row");const bo=bt.delta(Rt.delta,Yt);Aa(Yt,bo,Rt.row),At.trigger.afterResize(Yt,"row")}),Ct.events.startAdjust.bind(Rt=>{At.trigger.startDrag()}),Ct.events.adjustWidth.bind(Rt=>{const Yt=Rt.table;At.trigger.beforeResize(Yt,"col");const bo=_t.delta(Rt.delta,Yt),Rn=at(Yt);Fi(Yt,bo,Rt.column,ot,Rn),At.trigger.afterResize(Yt,"col")}),{on:Ct.on,off:Ct.off,refreshBars:Ct.refresh,hideBars:Ct.hideBars,showBars:Ct.showBars,destroy:Ct.destroy,events:At.registry}})(de,ae(),X);g.mode.isReadOnly()||Oe.on(),Oe.events.startDrag.bind(Ae=>{h.set(g.selection.getRng())}),Oe.events.beforeResize.bind(Ae=>{const ot=Ae.table.dom;((at,bt,_t,Ct,At)=>{at.dispatch("ObjectResizeStart",{target:bt,width:_t,height:Ct,origin:At})})(g,ot,et(ot),Zb(ot),lf+Ae.type)}),Oe.events.afterResize.bind(Ae=>{const ot=Ae.table,at=ot.dom;tg(ot),h.on(bt=>{g.selection.setRng(bt),g.focus()}),((bt,_t,Ct,At,Rt)=>{bt.dispatch("ObjectResized",{target:_t,width:Ct,height:At,origin:Rt})})(g,at,et(at),Zb(at),lf+Ae.type),g.undoManager.add()}),y.set(Oe)}}),g.on("ObjectResizeStart",de=>{const Oe=de.target;if(Sy(Oe)&&!g.mode.isReadOnly()){const Ae=De.fromDom(Oe);mo(g.dom.select(".mce-clonedresizable"),ot=>{g.dom.addClass(ot,"mce-"+Dh(g)+"-columns")}),!X2(Ae)&&Yg(g)?rr(Ae):!jm(Ae)&&ar(g)&&md(Ae),Yf(Ae)&&no(de.origin,lf)&&md(Ae),D=de.width,O=hd(g)?"":np(g,Oe).getOr(""),L=de.height,z=jb(g,Oe).getOr("")}}),g.on("ObjectResized",de=>{const Oe=de.target;if(Sy(Oe)){const Ae=De.fromDom(Oe),ot=de.origin;(at=>no(at,"corner-"))(ot)&&he(Ae,ot,de.width,de.height),tg(Ae),Qi(g,Ae.dom,lp)}});const ie=()=>{y.on(de=>{de.on(),de.showBars()})},fe=()=>{y.on(de=>{de.off(),de.hideBars()})};return g.on("DisabledStateChange",de=>{de.state?fe():ie()}),g.on("SwitchMode",()=>{g.mode.isReadOnly()?fe():ie()}),g.on("dragstart dragend",de=>{de.type==="dragstart"?fe():ie()}),g.on("remove",()=>{y.on(de=>{de.destroy()})}),{refresh:de=>{y.on(Oe=>Oe.refreshBars(De.fromDom(de)))},hide:()=>{y.on(de=>de.hideBars())},show:()=>{y.on(de=>de.showBars())}}},rv=g=>{(D=>{const O=D.options.register;O("table_clone_elements",{processor:"string[]"}),O("table_use_colgroups",{processor:"boolean",default:!0}),O("table_header_type",{processor:L=>{const z=to(["section","cells","sectionCells","auto"],L);return z?{value:L,valid:z}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),O("table_sizing_mode",{processor:"string",default:"auto"}),O("table_default_attributes",{processor:"object",default:{border:"1"}}),O("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),O("table_column_resizing",{processor:L=>{const z=to(["preservetable","resizetable"],L);return z?{value:L,valid:z}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),O("table_resize_bars",{processor:"boolean",default:!0}),O("table_style_by_css",{processor:"boolean",default:!0}),O("table_merge_content_on_paste",{processor:"boolean",default:!0})})(g);const h=Ey(g),y=Zh(g,h),C=cp(g,h,y);return Qb(g,C),((D,O)=>{const L=Wn(D),z=X=>ov(Rh(D)).bind(ae=>jr(ae,L).map(he=>{const ie=zh(yd(D),he,ae);return X(he,ie)})).getOr("");Uo({mceTableRowType:()=>z(O.getTableRowType),mceTableCellType:()=>z(O.getTableCellType),mceTableColType:()=>z(O.getTableColType)},(X,ae)=>D.addQueryValueHandler(ae,X))})(g,C),nv(g,C),{getSelectedCells:y.getSelectedCells,clearSelectedCells:y.clearSelectedCells}};Q.add("dom",g=>({table:rv(g)}))})();tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;cursor:auto;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox{color:var(--tox-private-color-black,#222f3e);font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--tox-private-font-size-base, 16px)}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);z-index:var(--tox-private-z-index-sink,1300)}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:8px;margin-bottom:8px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;justify-content:center;align-items:center;gap:2px;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--error svg{fill:#c00}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--error svg{fill:#c00}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-button--stretch{width:100%}.tox .tox-button--secondary--outline{background-color:transparent;border-color:var(--tox-private-button-secondary-outline-border-color,#f0f0f0);color:var(--tox-private-button-secondary-outline-text-color,#222f3e)}.tox .tox-button--secondary--outline:focus:not(:disabled){background-color:var(--tox-private-button-secondary-outline-focus-background-color,#e3e3e3);border-color:var(--tox-private-button-secondary-outline-focus-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-focus-text-color,#222f3e)}.tox .tox-button--secondary--outline:hover:not(:disabled){background-color:var(--tox-private-button-secondary-outline-hover-background-color,#f0f0f0);border-color:var(--tox-private-button-secondary-outline-hover-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-hover-text-color,#222f3e)}.tox .tox-button--secondary--outline:active:not(:disabled){background-color:var(--tox-private-button-secondary-outline-active-background-color,#e3e3e3);border-color:var(--tox-private-button-secondary-outline-active-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-active-text-color,#222f3e)}.tox .tox-button--secondary--outline[disabled]{background-color:var(--tox-private-button-secondary-outline-disabled-background-color,transparent);border-color:var(--tox-private-button-secondary-outline-disabled-border-color,#f0f0f0);color:var(--tox-private-button-secondary-outline-disabled-text-color,rgba(34,47,62,.5))}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-context-form__group .tox-button--icon.tox-lock-context-form-size-input{margin-left:8px;margin-right:8px}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-selectfield select option:checked{background-color:revert;color:revert}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox-mentions__card-common{z-index:1200}.tox.tox-mentions__card{background:#fff;border:1px solid #eee;display:flex;padding:4px 8px}.tox.tox-mentions__card .tox-mentions__container{display:flex;flex-direction:column;align-self:center;margin:0 4px}.tox .tox-mentions__avatar{width:42px;height:42px;border-radius:50%;margin-right:4px}.tox .tox-mentions__username{font-size:14px;line-height:21px;color:#222f3e}.tox .tox-mentions__description{font-size:12px;line-height:21px;color:rgba(34,47,62,.7)}.tox .tox-collection__item--active .tox-mentions__description,.tox .tox-collection__item--active .tox-mentions__username{color:inherit}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1302;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:var(--tox-private-sidebar-background-color,#f0f0f0);display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-sidebar-content{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px;border-left:1px solid var(--tox-private-sidebar-border-color,#e3e3e3)}.tox .tox-sidebar-content__header{align-items:center;display:flex;justify-content:space-between;box-shadow:var(--tox-private-sidebar-header-box-shadow,0 4px 8px 0 rgba(34,47,62,.1));padding:var(--tox-private-pad-sm,8px) 12px;background:var(--tox-private-background-color,#fff);z-index:1}.tox .tox-sidebar-content__header .tox-sidebar-content__header-close-button{margin-left:auto}.tox .tox-sidebar-content__title{font-size:var(--tox-private-font-size-lg, 20px);font-weight:var(--tox-private-font-weight-normal,normal);padding:var(--tox-private-pad-sm,8px) 0 var(--tox-private-pad-sm,8px) 0;color:var(--tox-private-text-color,#222f3e);line-height:28px}.tox-ai .tox-ai__user-prompt{display:flex;flex-direction:column;margin-left:auto;gap:inherit}.tox-ai .tox-ai__user-prompt__context{margin-left:auto}.tox-ai .tox-ai__user-prompt__text{background-color:var(--tox-private-ai-user-prompt-background,#f0f0f0);padding:var(--tox-private-pad-sm,8px) 12px;border-radius:var(--tox-private-control-border-radius,6px);max-width:80%;align-self:flex-end;color:var(--tox-private-text-color,#222f3e)}.tox-ai .tox-ai__scroll{overflow:auto;background-color:var(--tox-private-background-color,#fff);display:flex;padding:12px;flex-direction:column;align-items:flex-start;gap:12px;flex:1 0 0;align-self:stretch}.tox-ai .tox-ai__response-content{padding:var(--tox-private-pad-sm,8px) 0;color:var(--tox-private-text-color,#222f3e);font-feature-settings:'liga' off,'clig' off;font-size:var(--tox-private-font-size-sm, 14px);font-style:normal;font-weight:var(--tox-private-font-weight-normal,normal);line-height:var(--tox-private-line-height, 18px);white-space:pre-wrap}.tox-ai .tox-ai__response.tox-ai__response-streaming{background:linear-gradient(180deg,var(--tox-private-color-black,#222f3e) 0,color-mix(in srgb,var(--tox-private-color-black,#222f3e) 0,transparent) 100%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.tox-ai .tox-ai__error-message{border-radius:var(--tox-private-panel-border-radius,6px);border:1px solid var(--tox-private-color-error,#c00);background:linear-gradient(0deg,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 0,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 100%),var(--tox-private-color-error,#c00);padding:var(--tox-private-pad-sm,8px);width:100%}.tox-ai .tox-ai__footer{border-top:1px solid var(--tox-private-ai-footer-border-color,#e3e3e3);padding:12px;gap:var(--tox-private-pad-sm,8px);background-color:var(--tox-private-background-color,#fff);display:flex;flex-direction:column}.tox-ai .tox-ai__footer-actions{display:flex;gap:var(--tox-private-pad-sm,8px)}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-cursor-default{cursor:ns-resize}.tox .tox-statusbar__resize-cursor-both{cursor:nwse-resize}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-tag{width:-moz-fit-content;width:fit-content;display:flex;padding:4px 6px;align-items:center;gap:4px;border-radius:3px;background:linear-gradient(0deg,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 0,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 100%),var(--tox-private-color-tint,#006ce7);line-height:var(--tox-private-base-value, 16px);font-size:var(--tox-private-font-size-xs, 12px)}.tox .tox-tag .tox-tag__icon{height:var(--tox-private-base-value,16px)}.tox .tox-tag .tox-tag__close{height:var(--tox-private-base-value,16px)}.tox .tox-tag .tox-tag__close .tox-button.tox-button--icon{border:0;padding:0}.tox .tox-tag .tox-tag__close .tox-button.tox-button--icon::before{box-shadow:none}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-toggle{--tox-private-slider-background-color:#fff;--tox-private-slider-border-color:rgb(227, 227, 227);--tox-private-slider-handle-background-color:#222f3e;display:flex;align-items:center;gap:4px;padding:4px;font-weight:400;line-height:24px;white-space:nowrap;background-color:#fff;color:#222f3e}.tox .tox-toggle input{position:absolute;opacity:0;width:0;height:0}.tox .tox-toggle__slider{position:relative;cursor:pointer;box-sizing:border-box;transition:.4s;border-radius:34px;width:28px;height:16px;background-color:var(--tox-private-slider-background-color);border:1px solid var(--tox-private-slider-border-color)}.tox .tox-toggle__slider::before{position:absolute;content:"";height:12px;width:12px;left:1px;bottom:1px;transition:.4s;border-radius:50%;background-color:var(--tox-private-slider-handle-background-color)}.tox input:checked+.tox-toggle__slider{--tox-private-slider-background-color:#006ce7;--tox-private-slider-border-color:#006ce7}.tox input:focus+.tox-toggle__slider{box-shadow:0 0 0 1px #fff,0 0 0 2px #006ce7}.tox input:checked+.tox-toggle__slider::before{transform:translateX(12px);--tox-private-slider-handle-background-color:#fff}.tox input:disabled+.tox-toggle__slider::before{opacity:50%}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}.tox .tox-tbtn .tox-tbtn__icon-wrap{pointer-events:none}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button__main{border-radius:3px 0 0 3px;margin-right:0}.tox .tox-split-button__main:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__main:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:3px 0 0 3px}@media (forced-colors:active){.tox .tox-split-button__main:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron{width:16px;border-radius:0 3px 3px 0;margin-left:0}.tox .tox-split-button__chevron:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__chevron:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:0 3px 3px 0}@media (forced-colors:active){.tox .tox-split-button__chevron:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox.tox-platform-touch .tox-split-button__main{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button__chevron.tox-tbtn--disabled,.tox .tox-split-button__main.tox-tbtn--disabled{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:hover,.tox .tox-split-button__main.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:focus,.tox .tox-split-button__main.tox-tbtn--disabled:focus{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:min(80%,15em);padding:8px 0 0 0;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden;background-color:#fff}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__align-right{margin-left:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-view .tox-revisionhistory__pane{padding:0}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{display:block;width:min-content;padding:4px 8px;margin-bottom:8px;font-size:12px;font-weight:700;border-radius:4px;background:#d3d5d8}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-content{display:flex;flex-direction:row;gap:8px;align-items:center}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-info{display:flex;flex-direction:column;flex:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;font-weight:400}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox [data-mce-name=suggestededits] .tox-icon .tox-icon--badge{fill:#006ce7}.tox .tox-view .tox-suggestededits__pane{padding:0}.tox .tox-suggestededits__sink{position:relative;z-index:1000}.tox .tox-suggestededits__sink .tox-tiered-menu .tox-collection--list{position:absolute}.tox .tox-suggestededits__container{height:100%;display:flex;flex-direction:column}.tox .tox-suggestededits__container .tox-suggestededits{background-color:#fff;border-top:1px solid #eee;display:flex;flex:1;height:inherit;overflow-x:auto;overflow-y:hidden;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__content{flex:1}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model{height:100%;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model .tox-suggestededits__iframe{height:100%;width:100%;overflow:scroll;background-color:#fff}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar{background-color:#f0f0f0;display:flex;flex-direction:column;flex:0 1 auto;min-width:248px;width:316px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-header{padding:4px 12px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content{display:flex;flex:1;flex-direction:column;gap:12px;overflow:auto;padding:6px 12px 12px 12px;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card{background-color:#fff;border-radius:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--divider{background-color:#f0f0f0;height:1px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--editor,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header{display:flex;flex:auto;justify-content:space-between;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar .tox-skeleton__circle,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar img{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--avatar{height:36px;width:36px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e;font-size:14px;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution{align-items:center;border:0;border-radius:20px;height:20px;width:20px;display:flex;flex:0 0 auto;justify-content:center;text-align:center}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--accepted .tox-icon svg{fill:#78AB46}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--rejected .tox-icon svg{fill:#c00}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content{display:flex;flex-direction:column;align-self:stretch;flex:auto;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations{display:flex;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar{align-items:center;border-radius:6px;display:flex;flex-direction:column;font-size:12px;justify-content:space-between;width:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--insert{background-color:#78ab46;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--modify{background-color:#006ce7;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--remove{background-color:#c00;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-text{color:#222f3e;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--feedback{color:#222f3e;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--textarea{border:2px solid #eee;border-radius:6px;color:#222f3e;gap:8px;padding:5px 6px;resize:none;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--textarea:focus{border:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer{display:flex;flex-direction:column;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp .tox-icon svg{fill:#222F3E80;transform:translate(0,8px);margin-top:-10px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons{display:flex;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons.tox-suggestededits__card--review-buttons{justify-content:space-between;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons.tox-suggestededits__card--feedback-buttons{justify-content:flex-end}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--hidden{opacity:.5}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--resolved{background-color:#d3d5d8}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active:focus,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active:focus-visible{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single{border-radius:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single:focus,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single:focus-visible{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card:hover{box-shadow:0 4px 8px 0 #d3d5d8}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);var YH={},XH={},QH;function Loe(){return QH||(QH=1,function(){var Q=tinymce.util.Tools.resolve("tinymce.PluginManager");const re=gt=>({backspaceDelete:Et=>{gt.execCommand("mceListBackspaceDelete",!1,Et)}}),ke=gt=>gt==null,be=gt=>!ke(gt),Re=gt=>()=>gt,xe=(gt,Et)=>gt===Et,ve=Re(!1);class _e{tag;value;static singletonNone=new _e(!1);constructor(Et,xt){this.tag=Et,this.value=xt}static some(Et){return new _e(!0,Et)}static none(){return _e.singletonNone}fold(Et,xt){return this.tag?xt(this.value):Et()}isSome(){return this.tag}isNone(){return!this.tag}map(Et){return this.tag?_e.some(Et(this.value)):_e.none()}bind(Et){return this.tag?Et(this.value):_e.none()}exists(Et){return this.tag&&Et(this.value)}forall(Et){return!this.tag||Et(this.value)}filter(Et){return!this.tag||Et(this.value)?this:_e.none()}getOr(Et){return this.tag?this.value:Et}or(Et){return this.tag?this:Et}getOrThunk(Et){return this.tag?this.value:Et()}orThunk(Et){return this.tag?this:Et()}getOrDie(Et){if(this.tag)return this.value;throw new Error(Et??"Called getOrDie on None")}static from(Et){return be(Et)?_e.some(Et):_e.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Et){this.tag&&Et(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const $e=Array.prototype.slice,lt=(gt,Et)=>{for(let xt=0,Gn=gt.length;xt<Gn;xt++){const gn=gt[xt];if(Et(gn,xt))return!0}return!1},dt=(gt,Et)=>{const xt=gt.length,Gn=new Array(xt);for(let gn=0;gn<xt;gn++){const Zo=gt[gn];Gn[gn]=Et(Zo,gn)}return Gn},st=(gt,Et)=>{for(let xt=0,Gn=gt.length;xt<Gn;xt++){const gn=gt[xt];Et(gn,xt)}},Ue=(gt,Et,xt)=>(st(gt,(Gn,gn)=>{xt=Et(xt,Gn,gn)}),xt),ge=(gt,Et,xt)=>{for(let Gn=0,gn=gt.length;Gn<gn;Gn++){const Zo=gt[Gn];if(Et(Zo,Gn))return _e.some(Zo);if(xt(Zo,Gn))break}return _e.none()},Je=(gt,Et)=>ge(gt,Et,ve),St=gt=>{const Et=$e.call(gt,0);return Et.reverse(),Et},Gt=(gt,Et,xt=xe)=>gt.exists(Gn=>xt(Gn,Et)),Tt=(gt=>Et=>Et.replace(gt,""))(/^\s+|\s+$/g),tt=gt=>gt.length>0,se=gt=>!tt(gt),We=gt=>{const Et=St(Tt(gt).split("")),xt=dt(Et,(Gn,gn)=>{const Zo=Gn.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,gn)*Zo});return Ue(xt,(Gn,gn)=>Gn+gn,0)},ne=gt=>{if(gt--,gt<0)return"";{const Et=gt%26,xt=Math.floor(gt/26),Gn=ne(xt),gn=String.fromCharCode(65+Et);return Gn+gn}},nt=gt=>/^[A-Z]+$/.test(gt),Ko=gt=>/^[a-z]+$/.test(gt),Co=gt=>/^[0-9]+$/.test(gt),to=gt=>Co(gt)?2:nt(gt)?0:Ko(gt)?1:se(gt)?3:4,Me=gt=>{switch(to(gt)){case 2:return _e.some({listStyleType:_e.none(),start:gt});case 0:return _e.some({listStyleType:_e.some("upper-alpha"),start:We(gt).toString()});case 1:return _e.some({listStyleType:_e.some("lower-alpha"),start:We(gt).toString()});case 3:return _e.some({listStyleType:_e.none(),start:""});case 4:return _e.none()}},Ut=gt=>{const Et=parseInt(gt.start,10);return Gt(gt.listStyleType,"upper-alpha")?ne(Et):Gt(gt.listStyleType,"lower-alpha")?ne(Et).toLowerCase():gt.start},mo=(gt=>Et=>Et.options.get(gt))("forced_root_block"),To=gt=>/\btox\-/.test(gt.className),yn=gt=>Et=>be(Et)&&gt.test(Et.nodeName),ua=gt=>Et=>be(Et)&&Et.nodeName.toLowerCase()===gt,pt=yn(/^(OL|UL|DL)$/),En=yn(/^(TH|TD)$/),Si=yn(/^(LI|DT|DD)$/),ze=(gt,Et)=>ge(gt,pt,En).exists(xt=>xt.nodeName===Et&&!To(xt)),Ee=(gt,Et)=>{const xt=gt.selection.getNode();return Et({parents:gt.dom.getParents(xt),element:xt}),gt.on("NodeChange",Et),()=>gt.off("NodeChange",Et)},yt=(gt,Et)=>Et!==null&&!gt.dom.isEditable(Et),un=(gt,Et)=>{const xt=gt.dom.getParent(Et,"ol,ul,dl");return yt(gt,xt)||!gt.selection.isEditable()},Oo=ua("ol"),Do=["OL","UL","DL"],Yo=Do.join(","),B=(gt,Et)=>{const xt=Et||gt.selection.getStart(!0);return gt.dom.getParent(xt,Yo,tr(gt,xt))},tr=(gt,Et)=>{const xt=gt.dom.getParents(Et,gt.dom.isBlock),Gn=Zo=>Zo.nodeName.toLowerCase()!==mo(gt);return Je(xt,Zo=>Gn(Zo)&&Os(gt.schema,Zo)).getOr(gt.getBody())},Os=(gt,Et)=>!pt(Et)&&!Si(Et)&&lt(Do,xt=>gt.isValidChild(Et.nodeName,xt)),Uo=gt=>{const Et=B(gt);!Oo(Et)||un(gt,Et)||gt.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ut({start:gt.dom.getAttrib(Et,"start","1"),listStyleType:_e.from(gt.dom.getStyle(Et,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:xt=>{const Gn=xt.getData();Me(Gn.start).each(gn=>{gt.execCommand("mceListUpdate",!1,{attrs:{start:gn.start==="1"?"":gn.start},styles:{"list-style-type":gn.listStyleType.getOr("")}})}),xt.close()}})},li=gt=>{gt.addCommand("mceListProps",()=>{Uo(gt)})},br=(gt,Et)=>xt=>{const Gn=gn=>{xt.setActive(ze(gn.parents,Et)),xt.setEnabled(!un(gt,gn.element)&&gt.selection.isEditable())};return xt.setEnabled(gt.selection.isEditable()),Ee(gt,Gn)},Wo=gt=>{const Et=xt=>()=>gt.execCommand(xt);gt.hasPlugin("advlist")||(gt.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Et("InsertOrderedList"),onSetup:br(gt,"OL")}),gt.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Et("InsertUnorderedList"),onSetup:br(gt,"UL")}))},In=(gt,Et)=>xt=>Ee(gt,gn=>xt.setEnabled(ze(gn.parents,Et)&&!un(gt,gn.element))),Io=gt=>{const Et={text:"List properties...",icon:"ordered-list",onAction:()=>gt.execCommand("mceListProps"),onSetup:In(gt,"OL")};gt.ui.registry.addMenuItem("listprops",Et),gt.ui.registry.addContextMenu("lists",{update:xt=>{const Gn=B(gt,xt);return Oo(Gn)?["listprops"]:[]}})};var Ge=()=>{Q.add("lists",gt=>(li(gt),Wo(gt),Io(gt),re(gt)))};Ge()}()),XH}var JH;function Foe(){return JH||(JH=1,Loe()),YH}Foe();var e$={},t$={},o$;function zoe(){return o$||(o$=1,function(){var Q=tinymce.util.Tools.resolve("tinymce.PluginManager");const re=(ze,Ee,yt)=>{const un=Ee==="UL"?"InsertUnorderedList":"InsertOrderedList";ze.execCommand(un,!1,yt===!1?null:{"list-style-type":yt})},ke=ze=>{ze.addCommand("ApplyUnorderedListStyle",(Ee,yt)=>{re(ze,"UL",yt["list-style-type"])}),ze.addCommand("ApplyOrderedListStyle",(Ee,yt)=>{re(ze,"OL",yt["list-style-type"])})},be=ze=>Ee=>Ee.options.get(ze),Re=ze=>{const Ee=ze.options.register;Ee("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Ee("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},xe=be("advlist_number_styles"),ve=be("advlist_bullet_styles"),_e=ze=>ze==null,$e=ze=>!_e(ze);class lt{tag;value;static singletonNone=new lt(!1);constructor(Ee,yt){this.tag=Ee,this.value=yt}static some(Ee){return new lt(!0,Ee)}static none(){return lt.singletonNone}fold(Ee,yt){return this.tag?yt(this.value):Ee()}isSome(){return this.tag}isNone(){return!this.tag}map(Ee){return this.tag?lt.some(Ee(this.value)):lt.none()}bind(Ee){return this.tag?Ee(this.value):lt.none()}exists(Ee){return this.tag&&Ee(this.value)}forall(Ee){return!this.tag||Ee(this.value)}filter(Ee){return!this.tag||Ee(this.value)?this:lt.none()}getOr(Ee){return this.tag?this.value:Ee}or(Ee){return this.tag?this:Ee}getOrThunk(Ee){return this.tag?this.value:Ee()}orThunk(Ee){return this.tag?this:Ee()}getOrDie(Ee){if(this.tag)return this.value;throw new Error(Ee??"Called getOrDie on None")}static from(Ee){return $e(Ee)?lt.some(Ee):lt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ee){this.tag&&Ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const dt=Array.prototype.indexOf,st=(ze,Ee)=>dt.call(ze,Ee),Ue=(ze,Ee)=>st(ze,Ee)>-1,ge=(ze,Ee,yt)=>{for(let un=0,Oo=ze.length;un<Oo;un++){const Do=ze[un];if(Ee(Do,un))return lt.some(Do);if(yt(Do,un))break}return lt.none()},Je=Object.keys,St=(ze,Ee)=>{const yt=Je(ze);for(let un=0,Oo=yt.length;un<Oo;un++){const Do=yt[un],Yo=ze[Do];Ee(Yo,Do)}},Gt=(ze,Ee)=>we(ze,(yt,un)=>({k:un,v:Ee(yt,un)})),we=(ze,Ee)=>{const yt={};return St(ze,(un,Oo)=>{const Do=Ee(un,Oo);yt[Do.k]=Do.v}),yt};var Tt=tinymce.util.Tools.resolve("tinymce.util.Tools");const tt=ze=>/\btox\-/.test(ze.className),se=(ze,Ee)=>ze.dom.isChildOf(Ee,ze.getBody()),We=ze=>Ee=>$e(Ee)&&ze.test(Ee.nodeName),ne=We(/^(OL|UL|DL)$/),nt=We(/^(TH|TD)$/),Ko=(ze,Ee,yt)=>ge(Ee,un=>ne(un)&&!tt(un),nt).exists(un=>un.nodeName===yt&&se(ze,un)),Co=ze=>{const Ee=ze.dom.getParent(ze.selection.getNode(),"ol,ul"),yt=ze.dom.getStyle(Ee,"listStyleType");return lt.from(yt)},to=(ze,Ee)=>Ee!==null&&!ze.dom.isEditable(Ee),Me=(ze,Ee)=>{const yt=ze.dom.getParent(Ee,"ol,ul,dl");return to(ze,yt)||!ze.selection.isEditable()},Ut=(ze,Ee)=>{const yt=ze.selection.getNode();return Ee({parents:ze.dom.getParents(yt),element:yt}),ze.on("NodeChange",Ee),()=>ze.off("NodeChange",Ee)},E=ze=>ze.replace(/\-/g," ").replace(/\b\w/g,Ee=>Ee.toUpperCase()),mo=ze=>_e(ze)||ze==="default"?"":ze,To=(ze,Ee)=>yt=>{const un=(Do,Yo)=>{const B=Do.selection.getStart(!0);yt.setActive(Ko(Do,Yo,Ee)),yt.setEnabled(!Me(Do,B))};return Ut(ze,Do=>un(ze,Do.parents))},yn=(ze,Ee,yt,un,Oo,Do)=>{const Yo={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},B=Gt(Yo,tr=>Ue(Do,tr));ze.ui.registry.addSplitButton(Ee,{tooltip:yt,chevronTooltip:`${yt} menu`,icon:Oo==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:Oo==="OL"?3:4,fetch:tr=>{const Os=Tt.map(Do,Uo=>{const li=Oo==="OL"?"num":"bull",br=Uo==="decimal"?"default":Uo,Wo=mo(Uo),In=E(Uo);return{type:"choiceitem",value:Wo,icon:"list-"+li+"-"+br,text:In}});tr(Os)},onAction:()=>ze.execCommand(un),onItemAction:(tr,Os)=>{re(ze,Oo,Os)},select:tr=>Co(ze).exists(Uo=>tr===Uo||Yo[Uo]===tr&&!B[tr]),onSetup:To(ze,Oo)})},ua=(ze,Ee,yt,un,Oo,Do)=>{ze.ui.registry.addToggleButton(Ee,{active:!1,tooltip:yt,icon:Oo==="OL"?"ordered-list":"unordered-list",onSetup:To(ze,Oo),onAction:()=>ze.queryCommandState(un)||Do===""?ze.execCommand(un):re(ze,Oo,Do)})},pt=(ze,Ee,yt,un,Oo,Do)=>{Do.length>1?yn(ze,Ee,yt,un,Oo,Do):ua(ze,Ee,yt,un,Oo,mo(Do[0]))},En=ze=>{pt(ze,"numlist","Numbered list","InsertOrderedList","OL",xe(ze)),pt(ze,"bullist","Bullet list","InsertUnorderedList","UL",ve(ze))};var Si=()=>{Q.add("advlist",ze=>{ze.hasPlugin("lists")?(Re(ze),En(ze),ke(ze)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};Si()}()),t$}var n$;function Voe(){return n$||(n$=1,zoe()),e$}Voe();var s$={},r$={},a$;function Hoe(){return a$||(a$=1,function(){var Q=tinymce.util.Tools.resolve("tinymce.PluginManager");const re=Object.getPrototypeOf,ke=(P,W,le)=>le(P,W.prototype)?!0:P.constructor?.name===W.name,be=P=>{const W=typeof P;return P===null?"null":W==="object"&&Array.isArray(P)?"array":W==="object"&&ke(P,String,(le,Ie)=>Ie.isPrototypeOf(le))?"string":W},Re=P=>W=>be(W)===P,xe=P=>W=>typeof W===P,ve=P=>W=>P===W,_e=(P,W)=>lt(P)&&ke(P,W,(le,Ie)=>re(le)===Ie),$e=Re("string"),lt=Re("object"),dt=P=>_e(P,Object),st=Re("array"),Ue=ve(null),ge=xe("boolean"),Je=P=>P==null,St=P=>!Je(P),Gt=xe("function"),we=xe("number"),Tt=(P,W)=>{if(st(P)){for(let le=0,Ie=P.length;le<Ie;++le)if(!W(P[le]))return!1;return!0}return!1},tt=()=>{};class se{tag;value;static singletonNone=new se(!1);constructor(W,le){this.tag=W,this.value=le}static some(W){return new se(!0,W)}static none(){return se.singletonNone}fold(W,le){return this.tag?le(this.value):W()}isSome(){return this.tag}isNone(){return!this.tag}map(W){return this.tag?se.some(W(this.value)):se.none()}bind(W){return this.tag?W(this.value):se.none()}exists(W){return this.tag&&W(this.value)}forall(W){return!this.tag||W(this.value)}filter(W){return!this.tag||W(this.value)?this:se.none()}getOr(W){return this.tag?this.value:W}or(W){return this.tag?this:W}getOrThunk(W){return this.tag?this.value:W()}orThunk(W){return this.tag?this:W()}getOrDie(W){if(this.tag)return this.value;throw new Error(W??"Called getOrDie on None")}static from(W){return St(W)?se.some(W):se.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(W){this.tag&&W(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const We=Array.prototype.push,ne=P=>{const W=[];for(let le=0,Ie=P.length;le<Ie;++le){if(!st(P[le]))throw new Error("Arr.flatten item "+le+" was not an array, input: "+P);We.apply(W,P[le])}return W},nt=(P,W)=>W>=0&&W<P.length?se.some(P[W]):se.none(),Ko=P=>nt(P,0),Co=(P,W)=>{for(let le=0;le<P.length;le++){const Ie=W(P[le],le);if(Ie.isSome())return Ie}return se.none()},to=Object.keys,Me=Object.hasOwnProperty,Ut=(P,W)=>{const le=to(P);for(let Ie=0,jt=le.length;Ie<jt;Ie++){const fn=le[Ie],is=P[fn];W(is,fn)}},E=P=>(W,le)=>{P[le]=W},mo=(P,W,le,Ie)=>{Ut(P,(jt,fn)=>{(W(jt,fn)?le:Ie)(jt,fn)})},To=(P,W)=>{const le={};return mo(P,W,E(le),tt),le},yn=(P,W)=>Me.call(P,W),ua=(P,W)=>yn(P,W)&&P[W]!==void 0&&P[W]!==null,Si=(P=>(...W)=>{if(W.length===0)throw new Error("Can't merge zero objects");const le={};for(let Ie=0;Ie<W.length;Ie++){const jt=W[Ie];for(const fn in jt)yn(jt,fn)&&(le[fn]=P(le[fn],jt[fn]))}return le})((P,W)=>dt(P)&&dt(W)?Si(P,W):W),ze=P=>P.length>0,Ee=(P,W)=>{const Ie=(W||document).createElement("div");if(Ie.innerHTML=P,!Ie.hasChildNodes()||Ie.childNodes.length>1){const jt="HTML does not have a single root node";throw console.error(jt,P),new Error(jt)}return Oo(Ie.childNodes[0])},yt=(P,W)=>{const Ie=(W||document).createElement(P);return Oo(Ie)},un=(P,W)=>{const Ie=(W||document).createTextNode(P);return Oo(Ie)},Oo=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},Yo={fromHtml:Ee,fromTag:yt,fromText:un,fromDom:Oo,fromPoint:(P,W,le)=>se.from(P.dom.elementFromPoint(W,le)).map(Oo)},B=(P,W,le)=>{if($e(le)||ge(le)||we(le))P.setAttribute(W,le+"");else throw console.error("Invalid call to Attribute.set. Key ",W,":: Value ",le,":: Element ",P),new Error("Attribute value was not simple")},tr=(P,W,le)=>{B(P.dom,W,le)},Os=(P,W)=>{P.dom.removeAttribute(W)};var Uo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),li=tinymce.util.Tools.resolve("tinymce.util.URI");const br=P=>W=>W.options.get(P),Wo=P=>{const W=P.options.register;W("image_dimensions",{processor:"boolean",default:!0}),W("image_advtab",{processor:"boolean",default:!1}),W("image_uploadtab",{processor:"boolean",default:!0}),W("image_prepend_url",{processor:"string",default:""}),W("image_class_list",{processor:"object[]"}),W("image_description",{processor:"boolean",default:!0}),W("image_title",{processor:"boolean",default:!1}),W("image_caption",{processor:"boolean",default:!1}),W("image_list",{processor:le=>{const Ie=le===!1||$e(le)||Tt(le,lt)||Gt(le);return Ie?{value:le,valid:Ie}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},In=br("image_dimensions"),Io=br("image_advtab"),Ge=br("image_uploadtab"),gt=br("image_prepend_url"),Et=br("image_class_list"),xt=br("image_description"),Gn=br("image_title"),gn=br("image_caption"),Zo=br("image_list"),jc=br("a11y_advanced_options"),An=br("automatic_uploads"),Is=P=>ze(P.options.get("images_upload_url")),Wc=P=>St(P.options.get("images_upload_handler")),qc=(P,W)=>Math.max(parseInt(P,10),parseInt(W,10)),dr=P=>new Promise(W=>{const le=document.createElement("img"),Ie=fn=>{le.parentNode&&le.parentNode.removeChild(le),W(fn)};le.addEventListener("load",()=>{const fn=qc(le.width,le.clientWidth),is=qc(le.height,le.clientHeight),Xr={width:fn,height:is};Ie(Promise.resolve(Xr))}),le.addEventListener("error",()=>{Ie(Promise.reject(`Failed to get image dimensions for: ${P}`))});const jt=le.style;jt.visibility="hidden",jt.position="fixed",jt.bottom=jt.left="0px",jt.width=jt.height="auto",document.body.appendChild(le),le.src=P}),La=P=>(P&&(P=P.replace(/px$/,"")),P),ma=P=>(P.length>0&&/^[0-9]+$/.test(P)&&(P+="px"),P),Rl=P=>{if(P.margin){const W=String(P.margin).split(" ");switch(W.length){case 1:P["margin-top"]=P["margin-top"]||W[0],P["margin-right"]=P["margin-right"]||W[0],P["margin-bottom"]=P["margin-bottom"]||W[0],P["margin-left"]=P["margin-left"]||W[0];break;case 2:P["margin-top"]=P["margin-top"]||W[0],P["margin-right"]=P["margin-right"]||W[1],P["margin-bottom"]=P["margin-bottom"]||W[0],P["margin-left"]=P["margin-left"]||W[1];break;case 3:P["margin-top"]=P["margin-top"]||W[0],P["margin-right"]=P["margin-right"]||W[1],P["margin-bottom"]=P["margin-bottom"]||W[2],P["margin-left"]=P["margin-left"]||W[1];break;case 4:P["margin-top"]=P["margin-top"]||W[0],P["margin-right"]=P["margin-right"]||W[1],P["margin-bottom"]=P["margin-bottom"]||W[2],P["margin-left"]=P["margin-left"]||W[3]}delete P.margin}return P},Tr=(P,W)=>{const le=Zo(P);$e(le)?fetch(le).then(Ie=>{Ie.ok&&Ie.json().then(W)}):Gt(le)?le(W):W(le)},no=(P,W,le)=>{const Ie=()=>{le.onload=le.onerror=null,P.selection&&(P.selection.select(le),P.nodeChanged())};le.onload=()=>{!W.width&&!W.height&&In(P)&&P.dom.setAttribs(le,{width:String(le.clientWidth),height:String(le.clientHeight)}),Ie()},le.onerror=Ie},cn=P=>new Promise((W,le)=>{const Ie=new FileReader;Ie.onload=()=>{W(Ie.result)},Ie.onerror=()=>{le(Ie.error?.message)},Ie.readAsDataURL(P)}),Kn=P=>P.nodeName==="IMG"&&(P.hasAttribute("data-mce-object")||P.hasAttribute("data-mce-placeholder")),qs=(P,W)=>{const le=P.options.get;return li.isDomSafe(W,"img",{allow_html_data_urls:le("allow_html_data_urls"),allow_script_urls:le("allow_script_urls"),allow_svg_data_urls:le("allow_svg_data_urls")})},Ot=Uo.DOM,Ei=P=>P.style.marginLeft&&P.style.marginRight&&P.style.marginLeft===P.style.marginRight?La(P.style.marginLeft):"",Nl=P=>P.style.marginTop&&P.style.marginBottom&&P.style.marginTop===P.style.marginBottom?La(P.style.marginTop):"",Yr=P=>P.style.borderWidth?La(P.style.borderWidth):"",Hs=(P,W)=>P.hasAttribute(W)?P.getAttribute(W)??"":"",on=P=>P.parentNode!==null&&P.parentNode.nodeName==="FIGURE",$r=(P,W,le)=>{le===""||le===null?P.removeAttribute(W):P.setAttribute(W,le)},Sg=P=>{const W=Ot.create("figure",{class:"image"});Ot.insertAfter(W,P),W.appendChild(P),W.appendChild(Ot.create("figcaption",{contentEditable:"true"},"Caption")),W.contentEditable="false"},mc=P=>{const W=P.parentNode;St(W)&&(Ot.insertAfter(P,W),Ot.remove(W))},Jo=P=>{on(P)?mc(P):Sg(P)},Ur=(P,W)=>{const le=P.getAttribute("style"),Ie=W(le!==null?le:"");Ie.length>0?(P.setAttribute("style",Ie),P.setAttribute("data-mce-style",Ie)):P.removeAttribute("style")},Dr=(P,W)=>(le,Ie,jt)=>{const fn=le.style;fn[Ie]?(fn[Ie]=ma(jt),Ur(le,W)):$r(le,Ie,jt)},ga=(P,W)=>P.style[W]?La(P.style[W]):Hs(P,W),_s=(P,W)=>{const le=ma(W);P.style.marginLeft=le,P.style.marginRight=le},Cn=(P,W)=>{const le=ma(W);P.style.marginTop=le,P.style.marginBottom=le},ko=(P,W)=>{const le=ma(W);P.style.borderWidth=le},De=(P,W)=>{P.style.borderStyle=W},Ld=P=>P.style.borderStyle??"",Cs=P=>St(P)&&P.nodeName==="FIGURE",ll=P=>P.nodeName==="IMG",jn=P=>{const W=Ot.getAttrib(P,"alt"),le=Ot.getAttrib(P,"role");return P.hasAttribute("alt")&&W.length===0||le==="presentation"||le==="none"},cl=P=>jn(P)?"":Hs(P,"alt"),Ml=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Fd=(P,W)=>{const le=document.createElement("img");return $r(le,"style",W.style),(Ei(le)||W.hspace!=="")&&_s(le,W.hspace),(Nl(le)||W.vspace!=="")&&Cn(le,W.vspace),(Yr(le)||W.border!=="")&&ko(le,W.border),(Ld(le)||W.borderStyle!=="")&&De(le,W.borderStyle),P(le.getAttribute("style")??"")},Gs=(P,W)=>{const le=document.createElement("img");if(os(P,{...W,caption:!1},le),Zr(le,W.alt,W.isDecorative),W.caption){const Ie=Ot.create("figure",{class:"image"});return Ie.appendChild(le),Ie.appendChild(Ot.create("figcaption",{contentEditable:"true"},"Caption")),Ie.contentEditable="false",Ie}else return le},Sm=(P,W)=>({src:Hs(W,"src"),alt:cl(W),title:Hs(W,"title"),width:ga(W,"width"),height:ga(W,"height"),class:Hs(W,"class"),style:P(Hs(W,"style")),caption:on(W),hspace:Ei(W),vspace:Nl(W),border:Yr(W),borderStyle:Ld(W),isDecorative:jn(W)}),Ks=(P,W,le,Ie,jt)=>{le[Ie]!==W[Ie]&&jt(P,Ie,String(le[Ie]))},Zr=(P,W,le)=>{if(le){Ot.setAttrib(P,"role","presentation");const Ie=Yo.fromDom(P);tr(Ie,"alt","")}else{if(Ue(W)){const Ie=Yo.fromDom(P);Os(Ie,"alt")}else{const Ie=Yo.fromDom(P);tr(Ie,"alt",W)}Ot.getAttrib(P,"role")==="presentation"&&Ot.setAttrib(P,"role","")}},zn=(P,W,le)=>{(le.alt!==W.alt||le.isDecorative!==W.isDecorative)&&Zr(P,le.alt,le.isDecorative)},Bl=(P,W)=>(le,Ie,jt)=>{P(le,jt),Ur(le,W)},os=(P,W,le)=>{const Ie=Sm(P,le);Ks(le,Ie,W,"caption",(jt,fn,is)=>Jo(jt)),Ks(le,Ie,W,"src",$r),Ks(le,Ie,W,"title",$r),Ks(le,Ie,W,"width",Dr("width",P)),Ks(le,Ie,W,"height",Dr("height",P)),Ks(le,Ie,W,"class",$r),Ks(le,Ie,W,"style",Bl((jt,fn)=>$r(jt,"style",fn),P)),Ks(le,Ie,W,"hspace",Bl(_s,P)),Ks(le,Ie,W,"vspace",Bl(Cn,P)),Ks(le,Ie,W,"border",Bl(ko,P)),Ks(le,Ie,W,"borderStyle",Bl(De,P)),zn(le,Ie,W)},Ys=(P,W)=>{const le=P.dom.styles.parse(W),Ie=Rl(le),jt=P.dom.styles.parse(P.dom.styles.serialize(Ie));return P.dom.styles.serialize(jt)},Mu=P=>{const W=P.selection.getNode(),le=P.dom.getParent(W,"figure.image");return le?P.dom.select("img",le)[0]:W&&(W.nodeName!=="IMG"||Kn(W))?null:W},zd=(P,W)=>{const le=P.dom,Ie=To(P.schema.getTextBlockElements(),(fn,is)=>!P.schema.isValidChild(is,"figure")),jt=le.getParent(W.parentNode,fn=>ua(Ie,fn.nodeName),P.getBody());return jt?le.split(jt,W)??W:W},Bu=P=>{const W=Mu(P);return W?Sm(le=>Ys(P,le),W):Ml()},Pl=(P,W)=>{const le=Gs(jt=>Ys(P,jt),W);P.dom.setAttrib(le,"data-mce-id","__mcenew"),P.focus(),P.insertContent(le.outerHTML);const Ie=P.dom.select('*[data-mce-id="__mcenew"]')[0];if(P.dom.setAttrib(Ie,"data-mce-id",null),Cs(Ie)){const jt=zd(P,Ie);P.selection.select(jt)}else P.selection.select(Ie)},gc=(P,W)=>{P.dom.setAttrib(W,"src",W.getAttribute("src"))},Pu=(P,W)=>{if(W){const le=P.dom.is(W.parentNode,"figure.image")?W.parentNode:W;P.dom.remove(le),P.focus(),P.nodeChanged(),P.dom.isEmpty(P.getBody())&&(P.setContent(""),P.selection.setCursorLocation())}},xr=(P,W)=>{const le=Mu(P);if(le)if(os(Ie=>Ys(P,Ie),W,le),gc(P,le),Cs(le.parentNode)){P.dom.setStyle(le,"float","");const Ie=le.parentNode;zd(P,Ie),P.selection.select(le.parentNode)}else P.selection.select(le),no(P,W,le)},Iu=(P,W)=>{const le=W.src;return{...W,src:qs(P,le)?le:""}},qp=(P,W)=>{const le=Mu(P);if(le){const jt={...Sm(is=>Ys(P,is),le),...W},fn=Iu(P,jt);jt.src?xr(P,fn):Pu(P,le)}else W.src&&Pl(P,{...Ml(),...W})};var Rs=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Eg=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ft=P=>$e(P.value)?P.value:"",Vd=P=>$e(P.text)?P.text:$e(P.title)?P.title:"",Ag=(P,W)=>{const le=[];return Eg.each(P,Ie=>{const jt=Vd(Ie);if(Ie.menu!==void 0){const fn=Ag(Ie.menu,W);le.push({text:jt,items:fn})}else{const fn=W(Ie);le.push({text:jt,value:fn})}}),le},Tg=(P=Ft)=>W=>W?se.from(W).map(le=>Ag(le,P)):se.none(),Gc=P=>Tg(Ft)(P),Dg=P=>yn(P,"items"),Ff=(P,W)=>Co(P,le=>Dg(le)?Ff(le.items,W):le.value===W?se.some(le):se.none()),ci={sanitizer:Tg,sanitize:Gc,findEntry:(P,W)=>P.bind(le=>Ff(le,W))},Vf={makeTab:P=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Xo=P=>{const W=ci.sanitizer(Ll=>P.convertURL(Ll.value||Ll.url||"","src")),le=new Promise(Ll=>{Tr(P,Kp=>{Ll(W(Kp).map(Uf=>ne([[{text:"None",value:""}],Uf])))})}),Ie=ci.sanitize(Et(P)),jt=Io(P),fn=Ge(P),is=Is(P),Xr=Wc(P),Hn=Bu(P),pa=xt(P),Ca=Gn(P),Zi=In(P),ur=gn(P),ml=jc(P),Jc=An(P),ka=se.some(gt(P)).filter(Ll=>$e(Ll)&&Ll.length>0);return le.then(Ll=>({image:Hn,imageList:Ll,classList:Ie,hasAdvTab:jt,hasUploadTab:fn,hasUploadUrl:is,hasUploadHandler:Xr,hasDescription:pa,hasImageTitle:Ca,hasDimensions:Zi,hasImageCaption:ur,prependURL:ka,hasAccessibilityOptions:ml,automaticUploads:Jc}))},$s=P=>{const W={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},le=P.imageList.map(Ca=>({name:"images",type:"listbox",label:"Image list",items:Ca})),Ie={name:"alt",type:"input",label:"Alternative description",enabled:!(P.hasAccessibilityOptions&&P.image.isDecorative)},jt={name:"title",type:"input",label:"Image title"},fn={name:"dimensions",type:"sizeinput"},is={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Xr=P.classList.map(Ca=>({name:"classes",type:"listbox",label:"Class",items:Ca})),Hn={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},pa=Ca=>Ca?{type:"grid",columns:2}:{type:"panel"};return ne([[W],le.toArray(),P.hasAccessibilityOptions&&P.hasDescription?[is]:[],P.hasDescription?[Ie]:[],P.hasImageTitle?[jt]:[],P.hasDimensions?[fn]:[],[{...pa(P.classList.isSome()&&P.hasImageCaption),items:ne([Xr.toArray(),P.hasImageCaption?[Hn]:[]])}]])},Kc={makeTab:P=>({title:"General",name:"general",items:$s(P)}),makeItems:$s},Hf={makeTab:P=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Em=P=>({prevImage:ci.findEntry(P.imageList,P.image.src),prevAlt:P.image.alt,open:!0}),Or=P=>({src:{value:P.src,meta:{}},images:P.src,alt:P.alt,title:P.title,dimensions:{width:P.width,height:P.height},classes:P.class,caption:P.caption,style:P.style,vspace:P.vspace,border:P.border,hspace:P.hspace,borderstyle:P.borderStyle,fileinput:[],isDecorative:P.isDecorative}),Yc=(P,W)=>({src:P.src.value,alt:(P.alt===null||P.alt.length===0)&&W?null:P.alt,title:P.title,width:P.dimensions.width,height:P.dimensions.height,class:P.classes,style:P.style,caption:P.caption,hspace:P.hspace,vspace:P.vspace,border:P.border,borderStyle:P.borderstyle,isDecorative:P.isDecorative}),Gp=(P,W)=>/^(?:[a-zA-Z]+:)?\/\//.test(W)?se.none():P.prependURL.bind(le=>W.substring(0,le.length)!==le?se.some(le+W):se.none()),Lu=(P,W)=>{const le=W.getData();Gp(P,le.src.value).each(Ie=>{W.setData({src:{value:Ie,meta:le.src.meta}})})},ks=(P,W,le)=>{P.hasDescription&&$e(le.alt)&&(W.alt=le.alt),P.hasAccessibilityOptions&&(W.isDecorative=le.isDecorative||W.isDecorative||!1),P.hasImageTitle&&$e(le.title)&&(W.title=le.title),P.hasDimensions&&($e(le.width)&&(W.dimensions.width=le.width),$e(le.height)&&(W.dimensions.height=le.height)),$e(le.class)&&ci.findEntry(P.classList,le.class).each(Ie=>{W.classes=Ie.value}),P.hasImageCaption&&ge(le.caption)&&(W.caption=le.caption),P.hasAdvTab&&($e(le.style)&&(W.style=le.style),$e(le.vspace)&&(W.vspace=le.vspace),$e(le.border)&&(W.border=le.border),$e(le.hspace)&&(W.hspace=le.hspace),$e(le.borderstyle)&&(W.borderstyle=le.borderstyle))},Hd=(P,W)=>{const le=W.getData(),Ie=le.src.meta;if(Ie!==void 0){const jt=Si({},le);ks(P,jt,Ie),W.setData(jt)}},di=(P,W,le,Ie)=>{const jt=Ie.getData(),fn=jt.src.value,is=jt.src.meta||{};!is.width&&!is.height&&W.hasDimensions&&(ze(fn)?P.imageSize(fn).then(Xr=>{le.open&&Ie.setData({dimensions:Xr})}).catch(Xr=>console.error(Xr)):Ie.setData({dimensions:{width:"",height:""}}))},Xc=(P,W,le)=>{const Ie=le.getData(),jt=ci.findEntry(P.imageList,Ie.src.value);W.prevImage=jt,le.setData({images:jt.map(fn=>fn.value).getOr("")})},Us=(P,W,le,Ie)=>{Lu(W,Ie),Hd(W,Ie),di(P,W,le,Ie),Xc(W,le,Ie)},Ai=(P,W,le,Ie)=>{const jt=Ie.getData(),fn=ci.findEntry(W.imageList,jt.images);fn.each(is=>{jt.alt===""||le.prevImage.map(Hn=>Hn.text===jt.alt).getOr(!1)?is.value===""?Ie.setData({src:is,alt:le.prevAlt}):Ie.setData({src:is,alt:is.text}):Ie.setData({src:is})}),le.prevImage=fn,Us(P,W,le,Ie)},Ti=(P,W,le,Ie)=>{const jt=Ie.getData();Ie.block("Uploading image"),Ko(jt.fileinput).fold(()=>{Ie.unblock()},fn=>{const is=URL.createObjectURL(fn),Xr=()=>{Ie.unblock(),URL.revokeObjectURL(is)},Hn=pa=>{Ie.setData({src:{value:pa,meta:{}}}),Ie.showTab("general"),Us(P,W,le,Ie),Ie.focus("src")};cn(fn).then(pa=>{const Ca=P.createBlobCache(fn,is,pa);W.automaticUploads?P.uploadImage(Ca).then(Zi=>{Hn(Zi.url),Xr()}).catch(Zi=>{Xr(),P.alertErr(Zi,()=>{Ie.focus("fileinput")})}):(P.addToBlobCache(Ca),Hn(Ca.blobUri()),Ie.unblock())})})},$f=(P,W,le)=>(Ie,jt)=>{jt.name==="src"?Us(P,W,le,Ie):jt.name==="images"?Ai(P,W,le,Ie):jt.name==="alt"?le.prevAlt=Ie.getData().alt:jt.name==="fileinput"?Ti(P,W,le,Ie):jt.name==="isDecorative"&&Ie.setEnabled("alt",!Ie.getData().isDecorative)},Am=P=>()=>{P.open=!1},fa=P=>P.hasAdvTab||P.hasUploadUrl||P.hasUploadHandler?{type:"tabpanel",tabs:ne([[Kc.makeTab(P)],P.hasAdvTab?[Vf.makeTab(P)]:[],P.hasUploadTab&&(P.hasUploadUrl||P.hasUploadHandler)?[Hf.makeTab(P)]:[]])}:{type:"panel",items:Kc.makeItems(P)},$d=(P,W,le)=>Ie=>{const jt=Si(Or(W.image),Ie.getData()),fn={...jt,style:Fd(le.normalizeCss,Yc(jt,!1))};P.execCommand("mceUpdateImage",!1,Yc(fn,W.hasAccessibilityOptions)),P.editorUpload.uploadImagesAuto(),Ie.close()},Ud=P=>W=>qs(P,W)?dr(P.documentBaseURI.toAbsolute(W)).then(le=>({width:String(le.width),height:String(le.height)})):Promise.resolve({width:"",height:""}),ul=P=>(W,le,Ie)=>P.editorUpload.blobCache.create({blob:W,blobUri:le,name:W.name?.replace(/\.[^\.]+$/,""),filename:W.name,base64:Ie.split(",")[1]}),Tm=P=>W=>{P.editorUpload.blobCache.add(W)},Zd=P=>(W,le)=>{P.windowManager.alert(W,le)},Rg=P=>W=>Ys(P,W),Qc=P=>W=>P.dom.parseStyle(W),Ga=P=>(W,le)=>P.dom.serializeStyle(W,le),j=P=>W=>Rs(P).upload([W],!1).then(le=>le.length===0?Promise.reject("Failed to upload image"):le[0].status===!1?Promise.reject(le[0].error?.message):le[0]),ce=P=>{const W={imageSize:Ud(P),addToBlobCache:Tm(P),createBlobCache:ul(P),alertErr:Zd(P),normalizeCss:Rg(P),parseStyle:Qc(P),serializeStyle:Ga(P),uploadImage:j(P)};return{open:()=>{Xo(P).then(Ie=>{const jt=Em(Ie);return{title:"Insert/Edit Image",size:"normal",body:fa(Ie),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Or(Ie.image),onSubmit:$d(P,Ie,W),onChange:$f(W,Ie,jt),onClose:Am(jt)}}).then(P.windowManager.open)}}},Se=P=>{P.addCommand("mceImage",ce(P).open),P.addCommand("mceUpdateImage",(W,le)=>{P.undoManager.transact(()=>qp(P,le))})},rt=P=>{const W=P.attr("class");return St(W)&&/\bimage\b/.test(W)},Bt=P=>W=>{let le=W.length;const Ie=jt=>{jt.attr("contenteditable",P?"true":null)};for(;le--;){const jt=W[le];rt(jt)&&(jt.attr("contenteditable",P?"false":null),Eg.each(jt.getAll("figcaption"),Ie))}},Wt=P=>{P.on("PreInit",()=>{P.parser.addNodeFilter("figure",Bt(!0)),P.serializer.addNodeFilter("figure",Bt(!1))})},nn=P=>W=>{const le=()=>{W.setEnabled(P.selection.isEditable())};return P.on("NodeChange",le),le(),()=>{P.off("NodeChange",le)}},Yn=P=>{P.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ce(P).open,onSetup:W=>{W.setActive(St(Mu(P)));const le=P.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",W.setActive).unbind,Ie=nn(P)(W);return()=>{le(),Ie()}}}),P.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ce(P).open,onSetup:nn(P)}),P.ui.registry.addContextMenu("image",{update:W=>P.selection.isEditable()&&(Cs(W)||ll(W)&&!Kn(W))?["image"]:[]})};var Qo=()=>{Q.add("image",P=>{Wo(P),Wt(P),Yn(P),Se(P)})};Qo()}()),r$}var i$;function $oe(){return i$||(i$=1,Hoe()),s$}$oe();var l$={},c$={},d$;function Uoe(){return d$||(d$=1,function(){var Q=tinymce.util.Tools.resolve("tinymce.PluginManager");const re=(_e,$e)=>{_e.focus(),_e.undoManager.transact(()=>{_e.setContent($e)}),_e.selection.setCursorLocation(),_e.nodeChanged()},ke=_e=>_e.getContent({source_view:!0}),be=_e=>{const $e=ke(_e);_e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:$e},onSubmit:lt=>{re(_e,lt.getData().code),lt.close()}})},Re=_e=>{_e.addCommand("mceCodeEditor",()=>{be(_e)})},xe=_e=>{const $e=()=>_e.execCommand("mceCodeEditor");_e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:$e}),_e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:$e})};var ve=()=>{Q.add("code",_e=>(Re(_e),xe(_e),{}))};ve()}()),c$}var u$;function Zoe(){return u$||(u$=1,Uoe()),l$}Zoe();var m$={},g$={},f$;function joe(){return f$||(f$=1,function(){var Q=tinymce.util.Tools.resolve("tinymce.PluginManager");const re=(j,ce,Se)=>Se(j,ce.prototype)?!0:j.constructor?.name===ce.name,ke=j=>{const ce=typeof j;return j===null?"null":ce==="object"&&Array.isArray(j)?"array":ce==="object"&&re(j,String,(Se,rt)=>rt.isPrototypeOf(Se))?"string":ce},be=j=>ce=>ke(ce)===j,Re=j=>ce=>typeof ce===j,xe=j=>ce=>j===ce,ve=be("string"),_e=be("object"),$e=be("array"),lt=xe(null),dt=Re("boolean"),st=j=>j==null,Ue=j=>!st(j),ge=Re("function"),Je=(j,ce)=>{if($e(j)){for(let Se=0,rt=j.length;Se<rt;++Se)if(!ce(j[Se]))return!1;return!0}return!1},St=()=>{},Gt=j=>()=>j,we=(j,ce)=>j===ce;class Tt{tag;value;static singletonNone=new Tt(!1);constructor(ce,Se){this.tag=ce,this.value=Se}static some(ce){return new Tt(!0,ce)}static none(){return Tt.singletonNone}fold(ce,Se){return this.tag?Se(this.value):ce()}isSome(){return this.tag}isNone(){return!this.tag}map(ce){return this.tag?Tt.some(ce(this.value)):Tt.none()}bind(ce){return this.tag?ce(this.value):Tt.none()}exists(ce){return this.tag&&ce(this.value)}forall(ce){return!this.tag||ce(this.value)}filter(ce){return!this.tag||ce(this.value)?this:Tt.none()}getOr(ce){return this.tag?this.value:ce}or(ce){return this.tag?this:ce}getOrThunk(ce){return this.tag?this.value:ce()}orThunk(ce){return this.tag?this:ce()}getOrDie(ce){if(this.tag)return this.value;throw new Error(ce??"Called getOrDie on None")}static from(ce){return Ue(ce)?Tt.some(ce):Tt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ce){this.tag&&ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const tt=Array.prototype.indexOf,se=Array.prototype.push,We=(j,ce)=>tt.call(j,ce),ne=(j,ce)=>We(j,ce)>-1,nt=(j,ce)=>{const Se=j.length,rt=new Array(Se);for(let Bt=0;Bt<Se;Bt++){const Wt=j[Bt];rt[Bt]=ce(Wt,Bt)}return rt},Ko=(j,ce)=>{for(let Se=0,rt=j.length;Se<rt;Se++){const Bt=j[Se];ce(Bt,Se)}},Co=(j,ce,Se)=>(Ko(j,(rt,Bt)=>{Se=ce(Se,rt,Bt)}),Se),to=j=>{const ce=[];for(let Se=0,rt=j.length;Se<rt;++Se){if(!$e(j[Se]))throw new Error("Arr.flatten item "+Se+" was not an array, input: "+j);se.apply(ce,j[Se])}return ce},Me=(j,ce)=>to(nt(j,ce)),Ut=(j,ce)=>{for(let Se=0;Se<j.length;Se++){const rt=ce(j[Se],Se);if(rt.isSome())return rt}return Tt.none()},E=Object.keys,mo=Object.hasOwnProperty,To=(j,ce)=>{const Se=E(j);for(let rt=0,Bt=Se.length;rt<Bt;rt++){const Wt=Se[rt],nn=j[Wt];ce(nn,Wt)}},yn=j=>(ce,Se)=>{j[Se]=ce},ua=(j,ce,Se,rt)=>{To(j,(Bt,Wt)=>{(ce(Bt,Wt)?Se:rt)(Bt,Wt)})},pt=(j,ce)=>{const Se={};return ua(j,ce,yn(Se),St),Se},En=(j,ce)=>mo.call(j,ce),Si=(j,ce)=>En(j,ce)&&j[ce]!==void 0&&j[ce]!==null,ze=j=>{let ce=j;return{get:()=>ce,set:Bt=>{ce=Bt}}},Ee=(j,ce,Se=we)=>j.exists(rt=>Se(rt,ce)),yt=j=>{const ce=[],Se=rt=>{ce.push(rt)};for(let rt=0;rt<j.length;rt++)j[rt].each(Se);return ce},un=(j,ce)=>j?Tt.some(ce):Tt.none(),Oo=j=>{const ce=ze(Tt.none()),Se=()=>ce.get().each(j);return{clear:()=>{Se(),ce.set(Tt.none())},isSet:()=>ce.get().isSome(),get:()=>ce.get(),set:Yn=>{Se(),ce.set(Tt.some(Yn))}}},Do=()=>{const j=Oo(St);return{...j,on:Se=>j.get().each(Se)}},Yo=(j,ce)=>j.substring(ce),B=(j,ce,Se)=>ce===""||j.length>=ce.length&&j.substr(Se,Se+ce.length)===ce,tr=(j,ce)=>Os(j,ce)?Yo(j,ce.length):j,Os=(j,ce)=>B(j,ce,0),Uo=j=>ce=>ce.options.get(j),li=j=>{const ce=j.options.register;ce("link_assume_external_targets",{processor:Se=>{const rt=ve(Se)||dt(Se);return rt?Se===!0?{value:1,valid:rt}:Se==="http"||Se==="https"?{value:Se,valid:rt}:{value:0,valid:rt}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ce("link_context_toolbar",{processor:"boolean",default:!1}),ce("link_list",{processor:Se=>ve(Se)||ge(Se)||Je(Se,_e)}),ce("link_default_target",{processor:"string"}),ce("link_default_protocol",{processor:"string",default:"https"}),ce("link_target_list",{processor:Se=>dt(Se)||Je(Se,_e),default:!0}),ce("link_rel_list",{processor:"object[]",default:[]}),ce("link_class_list",{processor:"object[]",default:[]}),ce("link_title",{processor:"boolean",default:!0}),ce("allow_unsafe_link_target",{processor:"boolean",default:!1}),ce("link_quicklink",{processor:"boolean",default:!1}),ce("link_attributes_postprocess",{processor:"function"})},br=Uo("link_assume_external_targets"),Wo=Uo("link_context_toolbar"),In=Uo("link_list"),Io=Uo("link_default_target"),Ge=Uo("link_default_protocol"),gt=Uo("link_target_list"),Et=Uo("link_rel_list"),xt=Uo("link_class_list"),Gn=Uo("link_title"),gn=Uo("allow_unsafe_link_target"),Zo=Uo("link_quicklink"),jc=Uo("link_attributes_postprocess");var An=tinymce.util.Tools.resolve("tinymce.util.URI"),Is=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Wc=tinymce.util.Tools.resolve("tinymce.util.Tools");const qc=j=>Ue(j)&&j.nodeName.toLowerCase()==="a",dr=j=>qc(j)&&!!Rl(j),La=(j,ce)=>{if(j.collapsed)return[];{const Se=j.cloneContents(),rt=Se.firstChild,Bt=new Is(rt,Se),Wt=[];let nn=rt;do ce(nn)&&Wt.push(nn);while(nn=Bt.next());return Wt}},ma=j=>/^\w+:/i.test(j),Rl=j=>j.getAttribute("data-mce-href")??j.getAttribute("href")??"",Tr=(j,ce)=>{const Se=["noopener"],rt=j?j.split(/\s+/):[],Bt=Qo=>Wc.trim(Qo.sort().join(" ")),Wt=Qo=>(Qo=nn(Qo),Qo.length>0?Qo.concat(Se):Se),nn=Qo=>Qo.filter(P=>Wc.inArray(Se,P)===-1),Yn=ce?Wt(rt):nn(rt);return Yn.length>0?Bt(Yn):""},no=j=>j.replace(/\uFEFF/g,""),cn=(j,ce)=>(ce=ce||Ot(j.selection.getRng())[0]||j.selection.getNode(),on(ce)?Tt.from(j.dom.select("a[href]",ce)[0]):Tt.from(j.dom.getParent(ce,"a[href]"))),Kn=(j,ce)=>cn(j,ce).isSome(),qs=(j,ce)=>{const Se=ce.fold(()=>j.getContent({format:"text"}),rt=>rt.innerText||rt.textContent||"");return no(Se)},Ot=j=>La(j,dr),Ei=j=>Wc.grep(j,dr),Nl=j=>Ei(j).length>0,Yr=j=>Ot(j).length>0,Hs=j=>{const ce=j.schema.getTextInlineElements(),Se=Wt=>Wt.nodeType===1&&!qc(Wt)&&!En(ce,Wt.nodeName.toLowerCase());if(cn(j).exists(Wt=>Wt.hasAttribute("data-mce-block")))return!1;const Bt=j.selection.getRng();return Bt.collapsed?!0:La(Bt,Se).length===0},on=j=>Ue(j)&&j.nodeName==="FIGURE"&&/\bimage\b/i.test(j.className),$r=j=>Co(["title","rel","class","target"],(Se,rt)=>(j[rt].each(Bt=>{Se[rt]=Bt.length>0?Bt:null}),Se),{href:j.href}),Sg=(j,ce)=>(ce==="http"||ce==="https")&&!ma(j)?ce+"://"+j:j,mc=(j,ce)=>{const Se={...ce};if(Et(j).length===0&&!gn(j)){const rt=Tr(Se.rel,Se.target==="_blank");Se.rel=rt||null}return Tt.from(Se.target).isNone()&&gt(j)===!1&&(Se.target=Io(j)),Se.href=Sg(Se.href,br(j)),Se},Jo=(j,ce,Se,rt)=>{Se.each(Wt=>{En(ce,"innerText")?ce.innerText=Wt:ce.textContent=Wt}),j.dom.setAttribs(ce,rt);const Bt=j.dom.createRng();Bt.setStartAfter(ce),Bt.setEndAfter(ce),j.selection.setRng(Bt)},Ur=(j,ce,Se,rt)=>{const Bt=j.dom;on(ce)?ll(Bt,ce,rt):Se.fold(()=>{j.execCommand("mceInsertLink",!1,rt);const Wt=j.selection.getEnd(),nn=Bt.createRng();nn.setStartAfter(Wt),nn.setEndAfter(Wt),j.selection.setRng(nn)},Wt=>{j.insertContent(Bt.createHTML("a",rt,Bt.encode(Wt)))})},Dr=(j,ce,Se)=>{const rt=j.selection.getNode(),Bt=cn(j,rt),Wt=mc(j,$r(Se)),nn=jc(j);Ue(nn)&&nn(Wt),j.undoManager.transact(()=>{Se.href===ce.href&&ce.attach(),Bt.fold(()=>{Ur(j,rt,Se.text,Wt)},Yn=>{j.focus(),Jo(j,Yn,Se.text,Wt)})})},ga=j=>{const ce=j.dom,Se=j.selection,rt=Se.getBookmark(),Bt=Se.getRng().cloneRange(),Wt=ce.getParent(Bt.startContainer,"a[href]",j.getBody()),nn=ce.getParent(Bt.endContainer,"a[href]",j.getBody());Wt&&Bt.setStartBefore(Wt),nn&&Bt.setEndAfter(nn),Se.setRng(Bt),j.execCommand("unlink"),Se.moveToBookmark(rt)},_s=j=>{j.undoManager.transact(()=>{const ce=j.selection.getNode();on(ce)?Cs(j,ce):ga(j),j.focus()})},Cn=j=>{const{class:ce,href:Se,rel:rt,target:Bt,text:Wt,title:nn}=j;return pt({class:ce.getOrNull(),href:Se,rel:rt.getOrNull(),target:Bt.getOrNull(),text:Wt.getOrNull(),title:nn.getOrNull()},(Yn,Qo)=>lt(Yn)===!1)},ko=(j,ce)=>{const Se=j.options.get,rt={allow_html_data_urls:Se("allow_html_data_urls"),allow_script_urls:Se("allow_script_urls"),allow_svg_data_urls:Se("allow_svg_data_urls")},Bt=ce.href;return{...ce,href:An.isDomSafe(Bt,"a",rt)?Bt:""}},De=(j,ce,Se)=>{const rt=ko(j,Se);j.hasPlugin("rtc",!0)?j.execCommand("createlink",!1,Cn(rt)):Dr(j,ce,rt)},Ld=j=>{j.hasPlugin("rtc",!0)?j.execCommand("unlink"):_s(j)},Cs=(j,ce)=>{const Se=j.dom.select("img",ce)[0];if(Se){const rt=j.dom.getParents(Se,"a[href]",ce)[0];rt&&(rt.parentNode?.insertBefore(Se,rt),j.dom.remove(rt))}},ll=(j,ce,Se)=>{const rt=j.select("img",ce)[0];if(rt){const Bt=j.create("a",Se);rt.parentNode?.insertBefore(Bt,rt),Bt.appendChild(rt)}},jn=j=>ve(j.value)?j.value:"",cl=j=>ve(j.text)?j.text:ve(j.title)?j.title:"",Ml=(j,ce)=>{const Se=[];return Wc.each(j,rt=>{const Bt=cl(rt);if(rt.menu!==void 0){const Wt=Ml(rt.menu,ce);Se.push({text:Bt,items:Wt})}else{const Wt=ce(rt);Se.push({text:Bt,value:Wt})}}),Se},Fd=(j=jn)=>ce=>Tt.from(ce).map(Se=>Ml(Se,j)),Ks={sanitize:j=>Fd(jn)(j),sanitizeWith:Fd,createUi:(j,ce)=>Se=>({name:j,type:"listbox",label:ce,items:Se}),getValue:jn},Zr=j=>Si(j,"items"),zn=(j,ce)=>Ut(ce,Se=>Zr(Se)?zn(j,Se.items):un(Se.value===j,Se)),Bl=(j,ce,Se,rt)=>{const Bt=rt[ce],Wt=j.length>0;return Bt!==void 0?zn(Bt,Se).map(nn=>({url:{value:nn.value,meta:{text:Wt?j:nn.text,attach:St}},text:Wt?j:nn.text})):Tt.none()},os=(j,ce)=>ce==="link"?j.link:ce==="anchor"?j.anchor:Tt.none(),Mu={init:(j,ce)=>{const Se={text:j.text,title:j.title},rt=Qo=>un(Se.title.length<=0,Tt.from(Qo.meta?.title).getOr("")),Bt=Qo=>un(Se.text.length<=0,Tt.from(Qo.meta?.text).getOr(Qo.value)),Wt=Qo=>{const P=Bt(Qo.url),W=rt(Qo.url);return P.isSome()||W.isSome()?Tt.some({...P.map(le=>({text:le})).getOr({}),...W.map(le=>({title:le})).getOr({})}):Tt.none()},nn=(Qo,P)=>{const W=os(ce,P).getOr([]);return Bl(Se.text,P,W,Qo)};return{onChange:(Qo,P)=>{const W=P.name;return W==="url"?Wt(Qo()):ne(["anchor","link"],W)?nn(Qo(),W):((W==="text"||W==="title")&&(Se[W]=Qo()[W]),Tt.none())}}},getDelta:Bl};var zd=tinymce.util.Tools.resolve("tinymce.util.Delay");const Bu=(j,ce,Se)=>{const rt=j.selection.getRng();zd.setEditorTimeout(j,()=>{j.windowManager.confirm(ce,Bt=>{j.selection.setRng(rt),Se(Bt)})})},Pl=j=>{const ce=j.href;return ce.indexOf("@")>0&&ce.indexOf("/")===-1&&ce.indexOf("mailto:")===-1?Tt.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:rt=>({...rt,href:"mailto:"+ce})}):Tt.none()},gc=(j,ce)=>Se=>{const rt=Se.href;return j===1&&!ma(rt)||j===0&&/^\s*www(\.|\d\.)/i.test(rt)?Tt.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ce}:// prefix?`,preprocess:Wt=>({...Wt,href:ce+"://"+rt})}):Tt.none()},xr={preprocess:(j,ce)=>Ut([Pl,gc(br(j),Ge(j))],Se=>Se(ce)).fold(()=>Promise.resolve(ce),Se=>new Promise(rt=>{Bu(j,Se.message,Bt=>{rt(Bt?Se.preprocess(ce):ce)})}))},qp={getAnchors:j=>{const ce=j.dom.select("a:not([href])"),Se=Me(ce,rt=>{const Bt=rt.name||rt.id;return Bt?[{text:Bt,value:"#"+Bt}]:[]});return Se.length>0?Tt.some([{text:"None",value:""}].concat(Se)):Tt.none()}},Eg={getClasses:j=>{const ce=xt(j);return ce.length>0?Ks.sanitize(ce):Tt.none()}},Ft=j=>{try{return Tt.some(JSON.parse(j))}catch{return Tt.none()}},Ag={getLinks:j=>{const ce=rt=>j.convertURL(rt.value||rt.url||"","href"),Se=In(j);return new Promise(rt=>{ve(Se)?fetch(Se).then(Bt=>Bt.ok?Bt.text().then(Ft):Promise.reject()).then(rt,()=>rt(Tt.none())):ge(Se)?Se(Bt=>rt(Tt.some(Bt))):rt(Tt.from(Se))}).then(rt=>rt.bind(Ks.sanitizeWith(ce)).map(Bt=>Bt.length>0?[{text:"None",value:""}].concat(Bt):Bt))}},Gc={getRels:(j,ce)=>{const Se=Et(j);if(Se.length>0){const rt=Ee(ce,"_blank"),Bt=gn(j)===!1,Wt=Yn=>Tr(Ks.getValue(Yn),rt);return(Bt?Ks.sanitizeWith(Wt):Ks.sanitize)(Se)}return Tt.none()}},Dg=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Il={getTargets:j=>{const ce=gt(j);return $e(ce)?Ks.sanitize(ce).orThunk(()=>Tt.some(Dg)):ce===!1?Tt.none():Tt.some(Dg)}},ci=(j,ce,Se)=>{const rt=j.getAttrib(ce,Se);return rt!==null&&rt.length>0?Tt.some(rt):Tt.none()},zf=(j,ce)=>{const Se=j.dom,Bt=Hs(j)?Tt.some(qs(j.selection,ce)):Tt.none(),Wt=ce.bind(W=>Tt.from(Se.getAttrib(W,"href"))),nn=ce.bind(W=>Tt.from(Se.getAttrib(W,"target"))),Yn=ce.bind(W=>ci(Se,W,"rel")),Qo=ce.bind(W=>ci(Se,W,"class")),P=ce.bind(W=>ci(Se,W,"title"));return{url:Wt,text:Bt,title:P,target:nn,rel:Yn,linkClass:Qo}},Xo={collect:(j,ce)=>Ag.getLinks(j).then(Se=>{const rt=zf(j,ce);return{anchor:rt,catalogs:{targets:Il.getTargets(j),rels:Gc.getRels(j,rt.target),classes:Eg.getClasses(j),anchor:qp.getAnchors(j),link:Se},optNode:ce,flags:{titleEnabled:Gn(j)}}})},$s=(j,ce)=>Se=>{const rt=Se.getData();if(!rt.url.value){Ld(j),Se.close();return}const Bt=Yn=>Tt.from(rt[Yn]).filter(Qo=>!Ee(ce.anchor[Yn],Qo)),Wt={href:rt.url.value,text:Bt("text"),target:Bt("target"),rel:Bt("rel"),class:Bt("linkClass"),title:Bt("title")},nn={href:rt.url.value,attach:rt.url.meta!==void 0&&rt.url.meta.attach?rt.url.meta.attach:St};xr.preprocess(j,Wt).then(Yn=>{De(j,nn,Yn)}),Se.close()},Og=j=>{const ce=cn(j);return Xo.collect(j,ce)},Kc=(j,ce)=>{const Se=j.anchor,rt=Se.url.getOr("");return{url:{value:rt,meta:{original:{value:rt}}},text:Se.text.getOr(""),title:Se.title.getOr(""),anchor:rt,link:rt,rel:Se.rel.getOr(""),target:Se.target.or(ce).getOr(""),linkClass:Se.linkClass.getOr("")}},dl=(j,ce,Se)=>{const rt=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],Bt=j.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Wt=j.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],nn=Tt.from(Io(Se)),Yn=Kc(j,nn),Qo=j.catalogs,P=Mu.init(Yn,Qo);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:to([rt,Bt,Wt,yt([Qo.anchor.map(Ks.createUi("anchor","Anchors")),Qo.rels.map(Ks.createUi("rel","Rel")),Qo.targets.map(Ks.createUi("target","Open link in...")),Qo.link.map(Ks.createUi("link","Link list")),Qo.classes.map(Ks.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Yn,onChange:(le,{name:Ie})=>{P.onChange(le.getData,{name:Ie}).each(jt=>{le.setData(jt)})},onSubmit:ce}},Hf=j=>{Og(j).then(Se=>{const rt=$s(j,Se);return dl(Se,rt,j)}).then(Se=>{j.windowManager.open(Se)})},Em=j=>{j.addCommand("mceLink",(ce,Se)=>{Se?.dialog===!0||!Zo(j)?Hf(j):j.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},Or=j=>{j.addShortcut("Meta+K","",()=>{j.execCommand("mceLink")})};var Yc=tinymce.util.Tools.resolve("tinymce.util.VK");const Gp=(j,ce)=>{document.body.appendChild(j),j.dispatchEvent(ce),document.body.removeChild(j)},Lu=j=>{const ce=document.createElement("a");ce.target="_blank",ce.href=j,ce.rel="noreferrer noopener";const Se=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Se),Gp(ce,Se)},ks=j=>j.altKey===!0&&j.shiftKey===!1&&j.ctrlKey===!1&&j.metaKey===!1,Hd=(j,ce)=>{if(ce){const Se=Rl(ce);if(/^#/.test(Se)){const rt=j.dom.select(`${Se},[name="${tr(Se,"#")}"]`);rt.length&&j.selection.scrollIntoView(rt[0],!0)}else Lu(ce.href)}},di=j=>{const ce=j.selection.getRng(),Se=ce.startContainer;return dr(Se)&&ce.startContainer===ce.endContainer&&j.dom.select("img",Se).length===1},Xc=(j,ce)=>{const Se=Ei(j.dom.getParents(ce));return un(Se.length===1,Se[0])},Us=j=>{const ce=Ot(j.selection.getRng());return un(ce.length>0,ce[0]).or(Xc(j,j.selection.getNode()))},Ai=j=>j.selection.isCollapsed()||di(j)?Xc(j,j.selection.getStart()):Us(j),Ti=j=>{const ce=Do(),Se=()=>ce.get().or(Ai(j)),rt=()=>Se().each(Bt=>Hd(j,Bt));return j.on("contextmenu",Bt=>{Xc(j,Bt.target).each(ce.set)}),j.on("SelectionChange",()=>{ce.isSet()||Ai(j).each(ce.set)}),j.on("click",Bt=>{ce.clear();const Wt=Ei(j.dom.getParents(Bt.target));Wt.length===1&&Yc.metaKeyPressed(Bt)&&(Bt.preventDefault(),Hd(j,Wt[0]))}),j.on("keydown",Bt=>{ce.clear(),!Bt.isDefaultPrevented()&&Bt.keyCode===13&&ks(Bt)&&Se().each(Wt=>{Bt.preventDefault(),Hd(j,Wt)})}),{gotoSelectedLink:rt}},$f=j=>()=>{j.execCommand("mceLink",!1,{dialog:!0})},Am=(j,ce)=>(j.on("NodeChange",ce),()=>j.off("NodeChange",ce)),fa=j=>ce=>{const Se=()=>{ce.setActive(!j.mode.isReadOnly()&&Kn(j,j.selection.getNode())),ce.setEnabled(j.selection.isEditable())};return Se(),Am(j,Se)},$d=j=>ce=>{const Se=()=>{ce.setEnabled(j.selection.isEditable())};return Se(),Am(j,Se)},Ud=j=>ce=>{const Se=Wt=>Nl(Wt)||Yr(j.selection.getRng()),rt=j.dom.getParents(j.selection.getStart()),Bt=Wt=>{ce.setEnabled(Se(Wt)&&j.selection.isEditable())};return Bt(rt),Am(j,Wt=>Bt(Wt.parents))},ul=(j,ce)=>{j.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:$f(j),onSetup:fa(j)}),j.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ce.gotoSelectedLink,onSetup:Ud(j)}),j.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Ld(j),onSetup:Ud(j)})},Tm=(j,ce)=>{j.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ce.gotoSelectedLink,onSetup:Ud(j)}),j.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:$f(j),onSetup:$d(j)}),j.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Ld(j),onSetup:Ud(j)})},Zd=j=>{const ce="link unlink openlink",Se="link";j.ui.registry.addContextMenu("link",{update:rt=>j.dom.isEditable(rt)?Nl(j.dom.getParents(rt,"a"))?ce:Se:""})},Rg=(j,ce)=>{const Se=Wt=>{Wt.selection.collapse(!1)},rt=Wt=>{const nn=j.selection.getNode();return Wt.setEnabled(Kn(j,nn)&&j.selection.isEditable()),St},Bt=Wt=>{const nn=cn(j),Yn=Hs(j);if(nn.isNone()&&Yn){const Qo=qs(j.selection,nn);return un(Qo.length===0,Wt)}else return Tt.none()};j.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:fa(j)},label:"Link",predicate:Wt=>Wo(j)&&Kn(j,Wt),initValue:()=>cn(j).fold(Gt(""),Rl),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Wt=>{const nn=j.selection.getNode();return Wt.setActive(Kn(j,nn)),fa(j)(Wt)},onAction:Wt=>{const nn=Wt.getValue(),Yn=Bt(nn);De(j,{href:nn,attach:St},{href:nn,text:Yn,title:Tt.none(),rel:Tt.none(),target:Tt.from(Io(j)),class:Tt.none()}),Se(j),Wt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:rt,onAction:Wt=>{Ld(j),Wt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:rt,onAction:Wt=>{ce.gotoSelectedLink(),Wt.hide()}}]})},Qc=j=>{const ce=Ti(j);ul(j,ce),Tm(j,ce),Zd(j),Rg(j,ce)};var Ga=()=>{Q.add("link",j=>{li(j),Em(j),Qc(j),Or(j)})};Ga()}()),g$}var p$;function Woe(){return p$||(p$=1,joe()),m$}Woe();tinymce.Resource.add("ui/oxide/content.css",`@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],> audio[data-mce-selected],> video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}@media print{.mce-content-body .mce-placeholder,.mce-content-body [data-mce-bogus=all],.mce-content-body [data-mce-bogus]{display:none!important}.mce-content-body .mce-visual-caret{display:none!important}.mce-content-body .mce-edit-focus,.mce-content-body :focus,.mce-content-body [data-mce-selected]{outline:0!important}}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.tox-suggestededits__annotation--added,.tox-suggestededits__annotation--modified,.tox-suggestededits__annotation--removed{-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--added__highlight{background-color:rgba(120,171,70,.2);-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--added__selected{background-color:rgba(120,171,70,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--modified__highlight{background-color:rgba(0,108,231,.2);-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--modified__selected{background-color:rgba(0,108,231,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--removed__highlight{background-color:rgba(204,0,0,.2);-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--removed__selected{background-color:rgba(204,0,0,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--added.tox-suggestededits__annotation--added__hidden,.tox-suggestededits__annotation--modified.tox-suggestededits__annotation--modified__hidden,.tox-suggestededits__annotation--removed.tox-suggestededits__annotation--removed__hidden{display:none;-webkit-text-decoration:none;text-decoration:none}:has(> div > iframe).tox-suggestededits__annotation--added,:has(> div > iframe).tox-suggestededits__annotation--modified,:has(> div > iframe).tox-suggestededits__annotation--removed{padding:7px;margin:5px}iframe.tox-suggestededits__annotation--added__highlight,img.tox-suggestededits__annotation--added__highlight,video.tox-suggestededits__annotation--added__highlight{outline:.25em solid rgba(120,171,70,.2);padding:.25em}iframe.tox-suggestededits__annotation--added__selected,img.tox-suggestededits__annotation--added__selected,video.tox-suggestededits__annotation--added__selected{border:.25em solid rgba(120,171,70,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--modified__highlight,img.tox-suggestededits__annotation--modified__highlight,video.tox-suggestededits__annotation--modified__highlight{outline:.25em solid rgba(0,108,231,.2);padding:.25em}iframe.tox-suggestededits__annotation--modified__selected,img.tox-suggestededits__annotation--modified__selected,video.tox-suggestededits__annotation--modified__selected{border:.25em solid rgba(0,108,231,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--removed__highlight,img.tox-suggestededits__annotation--removed__highlight,video.tox-suggestededits__annotation--removed__highlight{outline:.25em solid rgba(204,0,0,.2);padding:.25em}iframe.tox-suggestededits__annotation--removed__selected,img.tox-suggestededits__annotation--removed__selected,video.tox-suggestededits__annotation--removed__selected{border:.25em solid rgba(204,0,0,.2);outline:.125em solid #006ce7;padding:0}div.tox-suggestededits__annotation:has(> hr){padding:.25em}div.tox-suggestededits__annotation--removed__highlight>hr{border-color:rgba(0,0,0,.2)}div.tox-suggestededits__annotation--added__highlight>hr{border-color:rgba(0,0,0,.2)}.mce-pagebreak.tox-suggestededits__annotation--added__selected,.mce-pagebreak.tox-suggestededits__annotation--modified__selected,.mce-pagebreak.tox-suggestededits__annotation--removed__selected{border:1px dashed #aaa;box-shadow:none}.mce-pagebreak.tox-suggestededits__annotation--added__highlight,.mce-pagebreak.tox-suggestededits__annotation--modified__highlight,.mce-pagebreak.tox-suggestededits__annotation--removed__highlight{padding:0}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:rgba(255,255,255,.5)}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uc-video{display:inline-block;position:relative}.tox-uc-video:not([data-mce-selected]):after{content:"";position:absolute;top:0;left:0;width:100%;height:100%}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:min(100%,600px);height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--icon-min-width:24px;--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}@media print{tiny-uploadcare-placeholder{display:none!important}}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out;box-shadow:0 0 0 99999px #222f3e80;z-index:1}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]:is(td,th,tr){position:static}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);tinymce.addI18n("fr_FR",{"#":"#",Accessibility:"Accessibilité",Accordion:"Accordéon","Accordion body...":"Corps de l'accordéon...","Accordion summary...":"Résumé de l'accordéon...",Action:"Action",Activity:"Activité",Address:"Adresse",Advanced:"Options avancées",Align:"Aligner","Align center":"Centrer","Align left":"Aligner à gauche","Align right":"Aligner à droite",Alignment:"Alignement","Alignment {0}":"Alignement {0}",All:"Tout","Alternative description":"Description alternative","Alternative source":"Source alternative","Alternative source URL":"URL de la source alternative",Anchor:"Ancre","Anchor...":"Ancre...",Anchors:"Ancres","Animals and Nature":"Animaux & nature",Arrows:"Flèches",B:"B","Background color":"Couleur d'arrière-plan","Background color {0}":"Couleur d'arrière-plan {0}",Black:"Noir",Block:"Bloc","Block {0}":"Bloc {0}",Blockquote:"Bloc de citation",Blocks:"Blocs",Blue:"Bleu","Blue component":"Composant bleu",Body:"Corps",Bold:"Gras",Border:"Bordure","Border color":"Couleur de bordure","Border style":"Style de la bordure","Border width":"Épaisseur de la bordure",Bottom:"En bas","Browse files":"Consulter les fichiers","Browse for an image":"Rechercher une image","Browse links":"Consulter les liens","Bullet list":"Liste à puces",Cancel:"Annuler",Caption:"Légende",Cell:"Cellule","Cell padding":"Marge intérieure des cellules","Cell properties":"Propriétés de la cellule","Cell spacing":"Espacement entre les cellules","Cell styles":"Type de cellule","Cell type":"Type de cellule",Center:"Centre",Characters:"Caractères","Characters (no spaces)":"Caractères (espaces non compris)",Circle:"Cercle",Class:"Classe","Clear formatting":"Effacer la mise en forme",Close:"Fermer",Code:"Code","Code sample...":"Exemple de code...","Code view":"Affichage du code","Color Picker":"Sélecteur de couleurs","Color swatch":"Échantillon de couleurs",Cols:"Colonnes",Column:"Colonne","Column clipboard actions":"Actions du presse-papiers des colonnes","Column group":"Groupe de colonnes","Column header":"En-tête de colonne","Constrain proportions":"Limiter les proportions",Copy:"Copier","Copy column":"Copier la colonne","Copy row":"Copier la ligne","Could not find the specified string.":"Impossible de trouver la chaîne spécifiée.","Could not load emojis":"Impossible de charger les emojis",Count:"Total",Currency:"Devise","Current window":"Fenêtre active","Custom color":"Couleur personnalisée","Custom...":"Personnalisée...",Cut:"Couper","Cut column":"Couper la colonne","Cut row":"Couper la ligne","Dark Blue":"Bleu foncé","Dark Gray":"Gris foncé","Dark Green":"Vert foncé","Dark Orange":"Orange foncé","Dark Purple":"Violet foncé","Dark Red":"Rouge foncé","Dark Turquoise":"Turquoise foncé","Dark Yellow":"Jaune foncé",Dashed:"Tirets","Date/time":"Date/heure","Decrease indent":"Réduire le retrait",Default:"Par défaut","Delete accordion":"Supprimer l'accordéon","Delete column":"Supprimer la colonne","Delete row":"Supprimer la ligne","Delete table":"Supprimer le tableau",Dimensions:"Dimensions",Disc:"Disque",Div:"Div",Document:"Document",Dotted:"Pointillé",Double:"Deux traits continus","Drop an image here":"Déposer une image ici","Dropped file type is not supported":"Le type de fichier déposé n'est pas pris en charge",Edit:"Modifier",Embed:"Incorporer",Emojis:"Émojis","Emojis...":"Émojis...",Error:"Erreur","Error: Form submit field collision.":"Erreur : conflit de champs lors de la soumission du formulaire.","Error: No form element found.":"Erreur : aucun élément de formulaire trouvé.","Extended Latin":"Latin étendu","Failed to initialize plugin: {0}":"Échec d'initialisation de l'extension : {0}","Failed to load plugin url: {0}":"Échec de chargement de l'URL du plug-in : {0}","Failed to load plugin: {0} from url {1}":"Échec de chargement du plug-in : {0} à partir de l’URL {1}","Failed to upload image: {0}":"Échec d'envoi de l'image : {0}",File:"Fichier",Find:"Rechercher","Find (if searchreplace plugin activated)":"Rechercher (si l'extension 'searchreplace' est activée)","Find and Replace":"Trouver et remplacer","Find and replace...":"Trouver et remplacer...","Find in selection":"Trouver dans la sélection","Find whole words only":"Mot entier",Flags:"Drapeaux","Focus to contextual toolbar":"Mettre le focus sur la barre d'outils contextuelle","Focus to element path":"Mettre le focus sur le chemin vers l'élément","Focus to menubar":"Mettre le focus sur la barre de menu","Focus to toolbar":"Mettre le focus sur la barre d'outils",Font:"Police","Font size {0}":"Taille de police {0}","Font sizes":"Tailles de police","Font {0}":"Police {0}",Fonts:"Polices","Food and Drink":"Nourriture & boissons",Footer:"Pied de page",Format:"Format","Format {0}":"Format {0}",Formats:"Formats",Fullscreen:"Plein écran",G:"V",General:"Général",Gray:"Gris",Green:"Vert","Green component":"Composant vert",Groove:"Sculpté","Handy Shortcuts":"Raccourcis utiles",Header:"En-tête","Header cell":"Cellule d'en-tête","Heading 1":"Titre 1","Heading 2":"Titre 2","Heading 3":"Titre 3","Heading 4":"Titre 4","Heading 5":"Titre 5","Heading 6":"Titre 6",Headings:"Titres",Height:"Hauteur",Help:"Aide","Hex color code":"Code couleur hexadécimal",Hidden:"Masqué","Horizontal align":"Alignement horizontal","Horizontal line":"Ligne horizontale","Horizontal space":"Espace horizontal",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"L'ID doit commencer par une lettre, suivie uniquement par des lettres, numéros, tirets, points, deux-points et underscores.","Image is decorative":"L'image est décorative","Image list":"Liste des images","Image title":"Titre d'image","Image...":"Image...","ImageProxy HTTP error: Could not find Image Proxy":"Erreur HTTP d'ImageProxy : Impossible de trouver ImageProxy","ImageProxy HTTP error: Incorrect Image Proxy URL":"Erreur HTTP d'ImageProxy : URL de ImageProxy incorrecte","ImageProxy HTTP error: Rejected request":"Erreur HTTP d'ImageProxy : Requête rejetée","ImageProxy HTTP error: Unknown ImageProxy error":"Erreur HTTP d'ImageProxy : Erreur ImageProxy inconnue","Increase indent":"Augmenter le retrait",Inline:"En ligne",Insert:"Insérer","Insert Template":"Insérer le modèle","Insert accordion":"Insérer un accordéon","Insert column after":"Insérer une colonne après","Insert column before":"Insérer une colonne avant","Insert date/time":"Insérer date/heure","Insert image":"Insérer une image","Insert link (if link plugin activated)":"Insérer un lien (si l'extension 'link' est activée)","Insert row after":"Insérer une ligne après","Insert row before":"Insérer une ligne avant","Insert table":"Insérer un tableau","Insert template...":"Insérer un modèle...","Insert video":"Insérer une vidéo","Insert/Edit code sample":"Insérer / modifier un bloc de code","Insert/edit image":"Insérer/modifier image","Insert/edit link":"Insérer/modifier lien","Insert/edit media":"Insérer/modifier un média","Insert/edit video":"Insérer/modifier une vidéo",Inset:"Incrusté","Invalid hex color code: {0}":"Code couleur hexadécimal invalide : {0}","Invalid input":"Entrée invalide",Italic:"Italique",Justify:"Justifier","Keyboard Navigation":"Navigation au clavier",Language:"Langue","Learn more...":"En savoir plus...",Left:"Gauche","Left to right":"De gauche à droite","Light Blue":"Bleu clair","Light Gray":"Gris clair","Light Green":"Vert clair","Light Purple":"Violet clair","Light Red":"Rouge clair","Light Yellow":"Jaune clair","Line height":"Hauteur de la ligne","Link list":"Liste des liens","Link...":"Lien...","List Properties":"Propriétés de la liste","List properties...":"Lister les propriétés...","Loading emojis...":"Chargement des emojis...","Loading...":"Chargement...","Lower Alpha":"Alphabet en minuscules","Lower Greek":"Alphabet grec en minuscules","Lower Roman":"Chiffre romain inférieur","Match case":"Respecter la casse",Mathematical:"Opérateurs mathématiques","Media poster (Image URL)":"Affiche de média (URL de l'image)","Media...":"Média...","Medium Blue":"Bleu moyen","Medium Gray":"Gris moyen","Medium Purple":"Violet moyen","Merge cells":"Fusionner les cellules",Middle:"Au milieu","Midnight Blue":"Bleu de minuit","More...":"Plus...",Name:"Nom","Navy Blue":"Bleu marine","New document":"Nouveau document","New window":"Nouvelle fenêtre",Next:"Suivante",No:"Non","No alignment":"Aucun alignement","No color":"Aucune couleur","Nonbreaking space":"Espace insécable",None:"Aucun","Numbered list":"Liste numérotée",OR:"OU",Objects:"Objets",Ok:"Ok","Open help dialog":"Ouvrir la boîte de dialogue d'aide","Open link":"Ouvrir le lien","Open link in...":"Ouvrir le lien dans...","Open popup menu for split buttons":"Ouvrir le menu contextuel pour les boutons partagés",Orange:"Orange",Outset:"Relief","Page break":"Saut de page",Paragraph:"Paragraphe",Paste:"Coller","Paste as text":"Coller comme texte","Paste column after":"Coller la colonne après","Paste column before":"Coller la colonne avant","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Le collage est maintenant en mode texte brut. Les contenus seront collés sans retenir les formatages jusqu'à ce que vous désactiviez cette option.","Paste or type a link":"Coller ou taper un lien","Paste row after":"Coller la ligne après","Paste row before":"Coller la ligne avant","Paste your embed code below:":"Collez votre code incorporé ci-dessous :",People:"Personnes",Plugins:"Plug-ins","Plugins installed ({0}):":"Extensions installées ({0}) :","Powered by {0}":"Avec {0}",Pre:"Préformaté",Preferences:"Préférences",Preformatted:"Préformaté","Premium plugins:":"Plug-ins premium :","Press the Up and Down arrow keys to resize the editor.":"Appuyez sur les touches fléchées haut et bas pour redimensionner l'éditeur.","Press the arrow keys to resize the editor.":"Appuyez sur les touches fléchées pour redimensionner l'éditeur.","Press {0} for help":"Appuyez sur {0} pour obtenir de l'aide",Preview:"Aperçu",Previous:"Précédente",Print:"Imprimer","Print...":"Imprimer...",Purple:"Violet",Quotations:"Citations",R:"R","Range 0 to 255":"Plage de 0 à 255",Red:"Rouge","Red component":"Composant rouge",Redo:"Refaire",Remove:"Retiré","Remove color":"Supprimer la couleur","Remove link":"Enlever le lien",Replace:"Remplacer","Replace all":"Remplacer tout","Replace with":"Remplacer par",Resize:"Redimensionner","Restore last draft":"Restaurer le dernier brouillon","Reveal or hide additional toolbar items":"Affichez ou masquez les éléments supplémentaires de la barre d'outils","Rich Text Area":"Zone de Texte Riche","Rich Text Area. Press ALT-0 for help.":"Zone de Texte Riche. Appuyez sur ALT-0 pour l'aide.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Zone de Texte Riche. Appuyez sur ALT-F9 pour le menu. Appuyez sur ALT-F10 pour la barre d'outils. Appuyez sur ALT-0 pour l'aide",Ridge:"Extrudé",Right:"Droite","Right to left":"De droite à gauche",Row:"Ligne","Row clipboard actions":"Actions du presse-papiers des lignes","Row group":"Groupe de lignes","Row header":"En-tête de ligne","Row properties":"Propriétés de la ligne","Row type":"Type de ligne",Rows:"Lignes",Save:"Enregistrer","Save (if save plugin activated)":"Enregistrer (si l'extension 'save' est activée)",Scope:"Étendue",Search:"Rechercher","Select all":"Sélectionner tout","Select...":"Sélectionner...",Selection:"Sélection",Shortcut:"Raccourci","Show blocks":"Afficher les blocs","Show caption":"Afficher une légende","Show invisible characters":"Afficher les caractères invisibles",Size:"Taille",Solid:"Trait continu",Source:"Source","Source code":"Code source","Special Character":"Caractère spécial","Special character...":"Caractère spécial...","Split cell":"Diviser la cellule",Square:"Carré","Start list at number":"Liste de départ au numéro",Strikethrough:"Barré",Style:"Style",Subscript:"Indice",Superscript:"Exposant","Switch to or from fullscreen mode":"Passer en ou quitter le mode plein écran",Symbols:"Symboles","System Font":"Police système",Table:"Tableau","Table caption":"Légende de tableau","Table properties":"Propriétés du tableau","Table styles":"Style tableau",Template:"Modèle",Templates:"Modèles",Text:"Texte","Text color":"Couleur du texte","Text color {0}":"Couleur du texte {0}","Text to display":"Texte à afficher","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"L'URL que vous avez saisie semble être une adresse e-mail. Souhaitez-vous y ajouter le préfixe requis mailto: ?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"L'URL que vous avez saisie semble être un lien externe. Souhaitez-vous y ajouter le préfixe requis mailto: ?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"L'URL que vous avez saisie semble être un lien externe. Voulez-vous ajouter le préfixe https:// requis ?",Title:"Titre","To open the popup, press Shift+Enter":"Pour ouvrir la popup, appuyez sur Maj+Entrée","Toggle accordion":"Activer l'accordéon",Tools:"Outils",Top:"En haut","Travel and Places":"Voyages et lieux",Turquoise:"Turquoise",Underline:"Souligné",Undo:"Annuler",Upload:"Télécharger","Uploading image":"Téléversement d'une image","Upper Alpha":"Alphabet en majuscules","Upper Roman":"Chiffre romain supérieur",Url:"URL","User Defined":"Défini par l'utilisateur",Valid:"Valide",Version:"Version","Vertical align":"Alignement vertical","Vertical space":"Espace vertical",View:"Afficher","Visual aids":"Aides visuelles",Warn:"Avertir",White:"Blanc",Width:"Largeur","Word count":"Nombre de mots",Words:"Mots","Words: {0}":"Mots : {0}",Yellow:"Jaune",Yes:"Oui","You are using {0}":"Vous utilisez {0}","You have unsaved changes are you sure you want to navigate away?":"Vous avez des modifications non enregistrées, êtes-vous sûr de vouloir quitter la page ?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Votre navigateur ne supporte pas l’accès direct au presse-papiers. Merci d'utiliser les raccourcis clavier Ctrl+X/C/V.",alignment:"alignement","austral sign":"Symbole austral","cedi sign":"Symbole cedi","colon sign":"symbole colón","cruzeiro sign":"Symbole cruzeiro","currency sign":"symbole devise","dollar sign":"symbole dollar","dong sign":"Symbole dong","drachma sign":"Symbole drachme","euro-currency sign":"symbole euro",example:"exemple",formatting:"mise en forme","french franc sign":"symbole franc français","german penny symbol":"Symbole pfennig","guarani sign":"Symbole guarani",history:"historique","hryvnia sign":"Symbole hryvnia",indentation:"retrait","indian rupee sign":"Symbole roupie indienne","kip sign":"Symbole kip","lira sign":"Symbole lire","livre tournois sign":"Symbole livre tournois","manat sign":"Symbole manat","mill sign":"Symbole millième","naira sign":"Symbole naira","new sheqel sign":"Symbole nouveau chékel","nordic mark sign":"Symbole du mark nordique","peseta sign":"Symbole peseta","peso sign":"Symbole peso","ruble sign":"Symbole rouble","rupee sign":"Symbole roupie","spesmilo sign":"Symbole spesmilo",styles:"styles","tenge sign":"Symbole tenge","tugrik sign":"Symbole tougrik","turkish lira sign":"Symbole lire turque","won sign":"Symbole won","yen character":"Sinogramme Yen","yen/yuan character variant one":"Sinogramme Yen/Yuan, première variante","yuan character":"Sinogramme Yuan","yuan character, in hong kong and taiwan":"Sinogramme Yuan, Hong Kong et Taiwan","{0} characters":"{0} caractères","{0} columns, {1} rows":" {0} colonnes, {1} lignes","{0} words":"{0} mots"});var qoe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Goe=function(Q){return qoe.map(function(re){return re.toLowerCase()}).indexOf(Q.toLowerCase())!==-1},Koe=function(Q,re,ke){Object.keys(re).filter(Goe).forEach(function(be){var Re=re[be];typeof Re=="function"&&(be==="onInit"?Re(Q,ke):ke.on(be.substring(2),function(xe){return Re(xe,ke)}))})},Yoe=function(Q,re,ke,be){var Re=Q.modelEvents?Q.modelEvents:null,xe=Array.isArray(Re)?Re.join(" "):Re;xx(be,function(ve,_e){ke&&typeof ve=="string"&&ve!==_e&&ve!==ke.getContent({format:Q.outputFormat})&&ke.setContent(ve)}),ke.on(xe||"change input undo redo",function(){re.emit("update:modelValue",ke.getContent({format:Q.outputFormat}))})},Xoe=function(Q,re,ke,be,Re,xe){be.setContent(xe()),ke.attrs["onUpdate:modelValue"]&&Yoe(re,ke,be,Re),Koe(Q,ke.attrs,be)},h$=0,Z$=function(Q){var re=Date.now(),ke=Math.floor(Math.random()*1e9);return h$++,Q+"_"+ke+h$+String(re)},Qoe=function(Q){return Q!==null&&Q.tagName.toLowerCase()==="textarea"},b$=function(Q){return typeof Q>"u"||Q===""?[]:Array.isArray(Q)?Q:Q.split(" ")},Joe=function(Q,re){return b$(Q).concat(b$(re))},ene=function(Q){return Q==null},x$=function(Q){var re;return typeof((re=Q.options)===null||re===void 0?void 0:re.set)=="function"&&Q.options.isRegistered("disabled")},v$=function(){return{listeners:[],scriptId:Z$("tiny-script"),scriptLoaded:!1}},tne=function(){var Q=v$(),re=function(Re,xe,ve,_e){var $e=xe.createElement("script");$e.referrerPolicy="origin",$e.type="application/javascript",$e.id=Re,$e.src=ve;var lt=function(){$e.removeEventListener("load",lt),_e()};$e.addEventListener("load",lt),xe.head&&xe.head.appendChild($e)},ke=function(Re,xe,ve){Q.scriptLoaded?ve():(Q.listeners.push(ve),Re.getElementById(Q.scriptId)||re(Q.scriptId,Re,xe,function(){Q.listeners.forEach(function(_e){return _e()}),Q.scriptLoaded=!0}))},be=function(){Q=v$()};return{load:ke,reinitialize:be}},one=tne(),nne=function(){return typeof window<"u"?window:global},z2=function(){var Q=nne();return Q&&Q.tinymce?Q.tinymce:null},sne={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(Q){return Q==="html"||Q==="text"}}},Zp=function(){return Zp=Object.assign||function(Q){for(var re,ke=1,be=arguments.length;ke<be;ke++){re=arguments[ke];for(var Re in re)Object.prototype.hasOwnProperty.call(re,Re)&&(Q[Re]=re[Re])}return Q},Zp.apply(this,arguments)},rne=function(Q,re,ke,be){return Q(be||"div",{id:re,ref:ke})},ane=function(Q,re,ke){return Q("textarea",{id:re,visibility:"hidden",ref:ke})},ZL={selector:void 0,target:void 0},jL=function(Q,re){var ke;typeof((ke=Q.mode)===null||ke===void 0?void 0:ke.set)=="function"?Q.mode.set(re):Q.setMode(re)},j$=cr({props:sne,setup:function(Q,re){var ke=Q.init?Zp(Zp({},Q.init),ZL):Zp({},ZL),be=Oee(Q),Re=be.disabled,xe=be.readonly,ve=be.modelValue,_e=be.tagName,$e=wo(null),lt=null,dt=Q.id||Z$("tiny-vue"),st=Q.init&&Q.init.inline||Q.inline,Ue=!!re.attrs["onUpdate:modelValue"],ge=!0,Je=Q.initialValue?Q.initialValue:"",St="",Gt=function(tt){return Ue?function(){return ve?.value?ve.value:""}:function(){return tt?Je:St}},we=function(){var tt=Gt(ge),se=Zp(Zp({},ke),{disabled:Q.disabled,readonly:Q.readonly,target:$e.value,plugins:Joe(ke.plugins,Q.plugins),toolbar:Q.toolbar||ke.toolbar,inline:st,license_key:Q.licenseKey,setup:function(We){lt=We,!x$(lt)&&Q.disabled===!0&&jL(lt,"readonly"),We.on("init",function(ne){return Xoe(ne,Q,re,We,ve,tt)}),typeof ke.setup=="function"&&ke.setup(We)}});Qoe($e.value)&&($e.value.style.visibility=""),z2().init(se),ge=!1};xx(xe,function(tt){lt!==null&&jL(lt,tt?"readonly":"design")}),xx(Re,function(tt){lt!==null&&(x$(lt)?lt.options.set("disabled",tt):jL(lt,tt?"readonly":"design"))}),xx(_e,function(tt){var se;lt&&(Ue||(St=lt.getContent()),(se=z2())===null||se===void 0||se.remove(lt),Q7(function(){return we()}))}),Zc(function(){if(z2()!==null)we();else if($e.value&&$e.value.ownerDocument){var tt=Q.cloudChannel?Q.cloudChannel:"8",se=Q.apiKey?Q.apiKey:"no-api-key",We=ene(Q.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(se,"/tinymce/").concat(tt,"/tinymce.min.js"):Q.tinymceScriptSrc;one.load($e.value.ownerDocument,We,we)}}),Ree(function(){z2()!==null&&z2().remove(lt)}),st||(Nee(function(){ge||we()}),Mee(function(){var tt;lt&&(Ue||(St=lt.getContent()),(tt=z2())===null||tt===void 0||tt.remove(lt))}));var Tt=function(tt){var se;lt&&(St=lt.getContent(),(se=z2())===null||se===void 0||se.remove(lt),ke=Zp(Zp(Zp({},ke),tt),ZL),Q7(function(){return we()}))};return re.expose({rerender:Tt,getEditor:function(){return lt}}),function(){return st?rne($H,dt,$e,Q.tagName):ane($H,dt,$e)}}});const ine=cr({__name:"LettreOptionsCard",props:{options:{}},emits:["save"],setup(Q,{emit:re}){const ke=Q,be=re,Re=wo(V2(ke.options)),xe=["#BFEDD2","#FBEEB8","#F8CAC6","#ECCAFA","#C2E0F4","#2DC26B","#F1C40F","#E03E2D","#B96AD9","#3598DB","#169179","#E67E23","#BA372A","#843FA1","#236FA1","#ECF0F1","#CED4D9","#95A5A6","#7E8C8D","#34495E","#000000","#ffffff"];return(ve,_e)=>{const $e=V$;return mt(),Qt(Ds,{title:"Options de l'entête"},{default:U(()=>[F(ws,null,{default:U(()=>[F(Ar,null,{default:U(()=>[F(Go,null,{default:U(()=>[F(OC,{color:"primary",density:"compact",modelValue:Re.value.UseCoordCentre,"onUpdate:modelValue":_e[0]||(_e[0]=lt=>Re.value.UseCoordCentre=lt),hint:"Activer pour remplacer les coordonnées du directeur par ceux du centre, dans l'entête de la lettre.","persistent-hint":"",label:"Coordonnées du centre"},null,8,["modelValue"])]),_:1}),F(Go,{cols:"5"},{default:U(()=>[Bee(F(OC,{color:"primary",density:"compact",modelValue:Re.value.ShowAdressePostale,"onUpdate:modelValue":_e[1]||(_e[1]=lt=>Re.value.ShowAdressePostale=lt),hint:"Afficher l'adresse postale du directeur.","persistent-hint":"",label:"Ajouter l'adresse postale"},null,8,["modelValue"]),[[Pee,!Re.value.UseCoordCentre]])]),_:1})]),_:1}),F(Ar,{class:"mt-4"},{default:U(()=>[F(Go,{cols:"6"},{default:U(()=>[F($e,{label:"Couleur du texte de l'entête",modelValue:Re.value.ColorCoord,"onUpdate:modelValue":_e[2]||(_e[2]=lt=>Re.value.ColorCoord=lt),swatches:xe},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{color:"success",onClick:_e[3]||(_e[3]=lt=>be("save",Re.value))},{default:U(()=>[..._e[4]||(_e[4]=[wt("Enregistrer",-1)])]),_:1})]),_:1})]),_:1})}}}),lne=["data"],cne=`<p><span style="font-size: 12pt; color: #3598db;" data-mce-style="font-size: 12pt; color: #3598db;">ESPACE PERSONNEL</span></p><p>Lors de votre inscription, un espace personnel de suivi vous a été attribué et un lien vers celui-ci envoyé dans le mail de confirmation (<span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Mon</span> <span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Dossier</span>). Dans cet espace vous trouverez :</p><ul><li>le <strong>suivi financier</strong> : vous pourrez alors joindre en ligne les aides auxquelles vous avez droit</li><li>les <strong>documents liés au séjour</strong> : liste de vêtement, lettre aux parents, plan d’accès au site ...</li><li>les <strong>documents à compléter</strong> ou joindre en ligne : test d'aisance aquatique si besoin ...</li><li>l'<strong>album photo</strong> du séjour</li><li>la <strong>fiche sanitaire</strong> à compléter en ligne</li></ul><p><em>TOUTES LES INFOS ET DOCUMENTS DU SÉJOUR SE TROUVENT DANS VOTRE ESPACE DÉDIÉ.</em></p>`,dne=cr({__name:"PannelLettre",setup(Q){Zc(ke);const re=wo(null);async function ke(){const st=await Mt.LettreGet();st!==void 0&&(st.File.Id==0&&st.Lettre.Html==""&&(st.Lettre.Html=cne),re.value=st)}const be=Ws(()=>{const st=re.value?.File;return st?st.Id==0?"En attente de création":`Enregistrée le ${km.time(st.Uploaded)} (taille : ${km.size(st.Taille)})`:""}),Re=Ws(()=>({language:"fr_FR",height:"75vh",plugins:["lists","advlist","image","code","link"],menubar:!1,statusbar:!1,paste_data_images:!0,image_advtab:!1,browser_spellcheck:!0,contextmenu:[],font_formats:"Arial=arial;",toolbar:["undo redo | cut copy paste | bold italic underline strikethrough | fontsize |  forecolor backcolor current_backcolor  |  alignleft aligncenter alignright | bullist numlist outdent indent | image styles link"],target_list:[{title:"Nouvelle page",value:"_blank"}],link_title:!1,link_assume_external_targets:!0,relative_urls:!1,remove_script_host:!1,image_description:!1,images_upload_url:Mt.LettreImageUpload(Mt.authToken),automatic_uploads:!0,formats:{imageMargin:{selector:"img",styles:{marginRight:"20px"}}},style_formats:[{title:"Espacer l'image à droite",format:"imageMargin"}]})),xe=wo(!1);async function ve(){if(re.value==null)return;xe.value=!0;const st=await Mt.LettreUpdate(re.value.Lettre);xe.value=!1,st!==void 0&&(Mt.showMessage("Lettre enregistrée avec succès."),re.value=st,lt.value=!0)}const _e=wo(!1);async function $e(st){re.value&&(_e.value=!1,re.value.Lettre.UseCoordCentre=st.UseCoordCentre,re.value.Lettre.ShowAdressePostale=st.ShowAdressePostale,re.value.Lettre.ColorCoord=st.ColorCoord,ve())}const lt=wo(!1),dt=Ws(()=>re.value?D$.LoadDocument(re.value.File.Key):"");return(st,Ue)=>(mt(),xn(ys,null,[re.value==null?(mt(),Qt(jp,{key:0,type:"card"})):js("",!0),F(Ds,{class:"mt-2 mx-auto",title:"Editer la lettre",subtitle:be.value,"max-width":"800px"},{append:U(()=>[F(_o,{class:"mx-2",onClick:Ue[0]||(Ue[0]=ge=>_e.value=!0),"prepend-icon":"mdi-cog"},{default:U(()=>[...Ue[4]||(Ue[4]=[wt(" Options",-1)])]),_:1}),F(ki,{thickness:"2",vertical:""}),xe.value?(mt(),Qt(eR,{key:0,color:"primary",indeterminate:"",class:"mx-2",size:"42"})):(mt(),Qt($2,{key:1,text:"Enregistrer et visualiser"},{activator:U(({props:ge})=>[F(_o,$c(ge,{class:"mx-2",icon:"mdi-content-save",onClick:ve,disabled:!re.value}),null,16,["disabled"])]),_:1}))]),default:U(()=>[re.value?(mt(),Qt(ws,{key:0},{default:U(()=>[F(_n(j$),{licenseKey:"gpl",modelValue:re.value.Lettre.Html,"onUpdate:modelValue":Ue[1]||(Ue[1]=ge=>re.value.Lettre.Html=ge),init:Re.value},null,8,["modelValue","init"])]),_:1})):js("",!0)]),_:1},8,["subtitle"]),F(lr,{modelValue:_e.value,"onUpdate:modelValue":Ue[2]||(Ue[2]=ge=>_e.value=ge),"max-width":"800px"},{default:U(()=>[re.value?(mt(),Qt(ine,{key:0,options:{UseCoordCentre:re.value.Lettre.UseCoordCentre,ShowAdressePostale:re.value.Lettre.ShowAdressePostale,ColorCoord:re.value.Lettre.ColorCoord},onSave:$e},null,8,["options"])):js("",!0)]),_:1},8,["modelValue"]),F(lr,{modelValue:lt.value,"onUpdate:modelValue":Ue[3]||(Ue[3]=ge=>lt.value=ge)},{default:U(()=>[lt.value?(mt(),xn("object",{key:0,type:"application/pdf",data:dt.value,style:{height:"95vh"}},null,8,lne)):js("",!0)]),_:1},8,["modelValue"])],64))}}),une={key:0,class:"mr-4"},mne=cr({__name:"AddDemandeCard",props:{availableDemandes:{},selectedDemandes:{}},emits:["selected","created","updated","deleted"],setup(Q,{emit:re}){const ke=Q,be=re;async function Re(){const Gt=await Mt.DocumentsCreateDemande();Gt!==void 0&&(be("created",Gt),xe.value=V2(Gt))}const xe=wo(null);async function ve(){const Gt=xe.value;Gt==null||(xe.value=null,await Mt.DocumentsUpdateDemande(Gt.Demande)===void 0)||(Mt.showMessage("Modifications enregistrées avec succès."),be("updated",Gt))}const _e=wo(null);async function $e(){const Gt=_e.value;Gt==null||(_e.value=null,await Mt.DocumentsDeleteDemande({idDemande:Gt.Id})===void 0)||(Mt.showMessage("Demande supprimée avec succès."),be("deleted",Gt))}const lt=wo(null),dt=oF("fileInput"),st=wo(null);function Ue(Gt){lt.value=Gt,Q7(()=>dt.value?.openDialog())}async function ge(){const Gt=lt.value,we=st.value;if(we==null||Gt==null)return;lt.value=null,st.value=null;const Tt=await Mt.DocumentsUploadDemandeFile(we,{idDemande:Gt.Demande.Id});Tt!==void 0&&(Mt.showMessage("Document téléversé avec succès."),be("updated",{Demande:Gt.Demande,File:Tt}))}const Je=wo(null);async function St(){const Gt=Je.value;Gt==null||(Je.value=null,await Mt.DocumentsDeleteDemandeFile({key:Gt.File.Key})===void 0)||(Mt.showMessage("Document supprimé avec succès."),be("updated",{Demande:Gt.Demande,File:{Id:0,Key:"",NomClient:"",Taille:0,Uploaded:""}}))}return(Gt,we)=>{const Tt=nF,tt=B$,se=P$;return mt(),Qt(Ds,{title:"Demander un document",subtitle:"Les familles devront fournir ce document sur leur espace personnel.",class:"ma-2"},{append:U(()=>[F(_o,{onClick:Re},{prepend:U(()=>[F(Kr,{color:"green"},{default:U(()=>[...we[8]||(we[8]=[wt("mdi-plus",-1)])]),_:1})]),default:U(()=>[we[9]||(we[9]=wt(" Nouvelle demande",-1))]),_:1})]),default:U(()=>[F(ws,null,{default:U(()=>[F(Uc,null,{default:U(()=>[ke.availableDemandes.length?js("",!0):(mt(),Qt(gs,{key:0,class:"text-center"},{default:U(()=>[...we[10]||(we[10]=[Po("i",null,"Aucune demande.",-1)])]),_:1})),(mt(!0),xn(ys,null,Ia(ke.availableDemandes,We=>(mt(),Qt(gs,$c({title:We.Demande.Description,subtitle:We.Demande.IdDirecteur.Valid?"Demande vous appartenant":"Demande globale",rounded:"",class:"my-1"},{[Iee(!ke.selectedDemandes.includes(We.Demande.Id)&&"click")]:ne=>be("selected",We.Demande)}),X7({append:U(()=>[We.File.Id!=0?(mt(),xn("div",une,[F(Tt,{file:We.File,onDelete:ne=>Je.value=We},null,8,["file","onDelete"])])):(mt(),Qt(_o,{key:1,size:"small",class:"mr-2",onClick:G7(ne=>Ue(We),["stop"])},{prepend:U(()=>[F(Kr,{color:"green",icon:"mdi-upload"})]),default:U(()=>[we[12]||(we[12]=wt(" Document à remplir ",-1))]),_:1},8,["onClick"])),F(_o,{icon:"",size:"x-small",class:"mx-1",onClick:G7(ne=>xe.value=We,["stop"]),disabled:!We.Demande.IdDirecteur.Valid},{default:U(()=>[F(Kr,null,{default:U(()=>[...we[13]||(we[13]=[wt("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick","disabled"]),F(_o,{icon:"",size:"x-small",class:"mx-1",onClick:G7(ne=>_e.value=We.Demande,["stop"]),disabled:!We.Demande.IdDirecteur.Valid},{default:U(()=>[F(Kr,{color:"red"},{default:U(()=>[...we[14]||(we[14]=[wt("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick","disabled"])]),_:2},[ke.selectedDemandes.includes(We.Demande.Id)?{name:"prepend",fn:U(()=>[F(Kr,{color:"green"},{default:U(()=>[...we[11]||(we[11]=[wt("mdi-check",-1)])]),_:1})]),key:"0"}:void 0]),1040,["title","subtitle"]))),256))]),_:1})]),_:1}),F(lr,{"model-value":_e.value!=null,"onUpdate:modelValue":we[0]||(we[0]=We=>_e.value=null),"max-width":"400px"},{default:U(()=>[_e.value?(mt(),Qt(Ds,{key:0,title:"Confirmer la suppression"},{default:U(()=>[F(ws,null,{default:U(()=>[...we[15]||(we[15]=[wt(" Confirmez-vous la suppression de cette demande ? Les éventuels documents déjà téléversés seront supprimés. ",-1),Po("br",null,null,-1),Po("br",null,null,-1),wt(" Attention, cette opération est irréversible. ",-1)])]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{color:"red",onClick:$e},{default:U(()=>[...we[16]||(we[16]=[wt("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):js("",!0)]),_:1},8,["model-value"]),F(lr,{"model-value":xe.value!=null,"onUpdate:modelValue":we[4]||(we[4]=We=>xe.value=null),"max-width":"600px"},{default:U(()=>[xe.value?(mt(),Qt(Ds,{key:0,title:"Document à fournir"},{default:U(()=>[F(ws,null,{default:U(()=>[F(Ar,null,{default:U(()=>[F(Go,null,{default:U(()=>[F(bx,{density:"compact",variant:"outlined",label:"Description",modelValue:xe.value.Demande.Description,"onUpdate:modelValue":we[1]||(we[1]=We=>xe.value.Demande.Description=We),hint:"Texte affiché sur l'espace de suivi."},null,8,["modelValue"])]),_:1})]),_:1}),F(Ar,null,{default:U(()=>[F(Go,null,{default:U(()=>[F(tt,{density:"compact",variant:"outlined",label:"Document temporaire",min:0,suffix:"jours",modelValue:xe.value.Demande.JoursValide,"onUpdate:modelValue":we[2]||(we[2]=We=>xe.value.Demande.JoursValide=We),hint:"Nombre de jours de validité (0 pour un document permanent)"},null,8,["modelValue"])]),_:1}),F(Go,null,{default:U(()=>[F(tt,{density:"compact",variant:"outlined",label:"Nombre maximum de fichiers",modelValue:xe.value.Demande.MaxDocs,"onUpdate:modelValue":we[3]||(we[3]=We=>xe.value.Demande.MaxDocs=We),hint:"Limite le nombre de fichiers pouvant être déposés."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{onClick:ve},{default:U(()=>[...we[17]||(we[17]=[wt("Enregistrer",-1)])]),_:1})]),_:1})]),_:1})):js("",!0)]),_:1},8,["model-value"]),F(lr,{"model-value":lt.value!=null,"onUpdate:modelValue":we[6]||(we[6]=We=>lt.value=null),"max-width":"600px"},{default:U(()=>[F(Ds,{title:"Ajouter un document",subtitle:"Document à remplir par les familles"},{default:U(()=>[F(ws,null,{default:U(()=>[F(se,{ref_key:"fileInput",ref:dt,onUpdate:we[5]||(we[5]=We=>st.value=We)},null,512)]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{disabled:!st.value,onClick:ge},{default:U(()=>[...we[18]||(we[18]=[wt("Charger",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"]),F(lr,{"model-value":Je.value!=null,"onUpdate:modelValue":we[7]||(we[7]=We=>Je.value=null),"max-width":"400px"},{default:U(()=>[Je.value?(mt(),Qt(Ds,{key:0,title:"Confirmer la suppression"},{default:U(()=>[F(ws,null,{default:U(()=>[we[19]||(we[19]=wt(" Confirmez-vous la suppression du document ",-1)),Po("i",null,sr(Je.value.File.NomClient),1),we[20]||(we[20]=wt(" ? ",-1)),we[21]||(we[21]=Po("br",null,null,-1)),we[22]||(we[22]=Po("br",null,null,-1)),we[23]||(we[23]=wt(" Attention, cette opération est irréversible. ",-1))]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{color:"red",onClick:St},{default:U(()=>[...we[24]||(we[24]=[wt("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):js("",!0)]),_:1},8,["model-value"])]),_:1})}}}),gne={class:"mt-2 text-center"},fne=cr({__name:"PannelDocuments",emits:["goTo"],setup(Q,{emit:re}){const ke=re;Zc(Re);const be=wo(null);async function Re(){const ne=await Mt.DocumentsGet();ne!==void 0&&(be.value=ne)}async function xe(ne,nt){be.value==null||(be.value.ToShow[ne]=nt,await Mt.DocumentsUpdateToShow(be.value.ToShow)===void 0)||Mt.showMessage("Modifications enregistrées avec succès.")}const ve=wo(!1),_e=wo(null);async function $e(){if(ve.value=!1,be.value==null||_e.value==null)return;const ne=await Mt.DocumentsUploadToDownload(_e.value);ne!==void 0&&(Mt.showMessage("Document ajouté avec succès."),be.value.FilesToDownload=(be.value.FilesToDownload||[]).concat(ne))}const lt=wo(null);async function dt(){const ne=lt.value;lt.value=null,!(be.value==null||ne==null||await Mt.DocumentsDeleteToDownload({key:ne.Key})===void 0)&&(be.value.FilesToDownload=(be.value.FilesToDownload||[]).filter(Ko=>Ko.Key!=ne.Key),Mt.showMessage("Document supprimé avec succès."))}const st=wo(!1);async function Ue(ne){if(!be.value)return;be.value.AvailableDemandes=(be.value.AvailableDemandes||[]).concat(ne);const nt=await Mt.DocumentsApplyDemande({idDemande:ne.Demande.Id});nt!==void 0&&(Mt.showMessage("Demande créée et activée pour ce séjour."),be.value.CampDemandes=(be.value?.CampDemandes||[]).concat(nt))}function ge(ne){if(!be.value)return;const nt=(be.value.AvailableDemandes||[]).findIndex(Co=>Co.Demande.Id==ne.Demande.Id);be.value.AvailableDemandes[nt]=ne;const Ko=(be.value.CampDemandes||[]).findIndex(Co=>Co.Demande.Id==ne.Demande.Id);be.value.CampDemandes[Ko]=ne}function Je(ne){be.value&&(be.value.AvailableDemandes=(be.value.AvailableDemandes||[]).filter(nt=>nt.Demande.Id!=ne.Id),be.value.CampDemandes=(be.value.CampDemandes||[]).filter(nt=>nt.Demande.Id!=ne.Id))}async function St(ne){if(!be.value)return;st.value=!1;const nt=await Mt.DocumentsApplyDemande({idDemande:ne.Id});nt!==void 0&&(Mt.showMessage("Demande bien activée pour ce séjour."),be.value.CampDemandes=(be.value?.CampDemandes||[]).concat(nt))}async function Gt(ne){!be.value||await Mt.DocumentsUnapplyDemande({idDemande:ne.Id})===void 0||(Mt.showMessage("Demande retirée avec succès."),be.value.CampDemandes=(be.value?.CampDemandes||[]).filter(Ko=>Ko.Demande.Id!=ne.Id))}const we=wo(!1),Tt=Ws(()=>{const ne=be.value;if(!ne)return[];const nt=[];return ne.ToShow.LettreDirecteur&&nt.push("Lettre aux familles"),ne.ToShow.ListeVetements&&nt.push("Liste de vêtements"),ne.ToShow.CharteParticipant&&nt.push("Charte"),ne.ToShow.ListeParticipants&&nt.push("Liste des participants"),ne.FilesToDownload?.forEach(Ko=>nt.push(Ko.NomClient)),ne.CampDemandes?.forEach(Ko=>nt.push(km.demande(Ko.Demande))),nt});async function tt(){we.value=!1,await Mt.DocumentsUnlock()!==void 0&&(Mt.showMessage("Documents débloqués avec succès."),be.value&&(be.value.Ready=!0))}const se=wo(null);async function We(){se.value={Current:0,Total:10};const ne=await Mt.DocumentsUnlockAndSend();if(ne===void 0){we.value=!1,se.value=null;return}await O$(ne,nt=>se.value=nt,nt=>Mt.onError("Envoi d'une notification",nt)),se.value=null,we.value=!1,be.value&&(be.value.Ready=!0),Mt.showMessage("Notifications envoyées avec succès.")}return(ne,nt)=>{const Ko=nF;return mt(),xn(ys,null,[F(Ds,{title:"Documents du séjour",subtitle:"Choisir les documents à lire ou remplir par les familles.",class:"ma-2 mx-auto","max-width":"800px"},X7({default:U(()=>[be.value==null?(mt(),Qt(jp,{key:0})):(mt(),Qt(ws,{key:1},{default:U(()=>[F(oR,{type:"info",closable:""},{default:U(()=>[...nt[16]||(nt[16]=[wt(" La ",-1),Po("b",null,"fiche sanitaire",-1),wt(" et les ",-1),Po("b",null,"vaccins",-1),wt(" sont automatiquement demandés pour les participants mineurs. ",-1)])]),_:1}),F(Uc,null,{default:U(()=>[F($L,null,{default:U(()=>[...nt[17]||(nt[17]=[wt("Documents générés",-1)])]),_:1}),F(gs,{title:"Lettre aux familles",subtitle:"Document officiel pour le premier contact"},{append:U(()=>[F(_o,{icon:"mdi-pencil",size:"small",class:"mr-4",onClick:nt[1]||(nt[1]=Co=>ke("goTo","lettre"))}),F(OC,{color:"primary","hide-details":"","model-value":be.value.ToShow.LettreDirecteur,"onUpdate:modelValue":nt[2]||(nt[2]=Co=>xe("LettreDirecteur",Co))},null,8,["model-value"])]),_:1}),F(gs,{title:"Liste de vêtements"},{append:U(()=>[F(_o,{icon:"mdi-pencil",size:"small",class:"mr-4",onClick:nt[3]||(nt[3]=Co=>ke("goTo","vetements"))}),F(OC,{color:"primary","hide-details":"","model-value":be.value.ToShow.ListeVetements,"onUpdate:modelValue":nt[4]||(nt[4]=Co=>xe("ListeVetements",Co))},null,8,["model-value"])]),_:1}),F(gs,{title:"Charte",subtitle:"Contrat moral à accepter pour les participants agés de 12 ans ou plus"},{append:U(()=>[F(OC,{color:"primary","hide-details":"","model-value":be.value.ToShow.CharteParticipant,"onUpdate:modelValue":nt[5]||(nt[5]=Co=>xe("CharteParticipant",Co))},null,8,["model-value"])]),_:1}),F(gs,{title:"Liste des participants",subtitle:"Permet par exemple d'organiser un co-voiturage"},{append:U(()=>[F(OC,{color:"primary","hide-details":"","model-value":be.value.ToShow.ListeParticipants,"onUpdate:modelValue":nt[6]||(nt[6]=Co=>xe("ListeParticipants",Co))},null,8,["model-value"])]),_:1}),F(ki,{thickness:"1",class:"my-2"}),F(Ar,{"no-gutters":""},{default:U(()=>[F(Go,{"align-self":"center"},{default:U(()=>[F($L,null,{default:U(()=>[...nt[18]||(nt[18]=[wt("Documents à lire ",-1)])]),_:1})]),_:1}),F(Go,{"align-self":"center",cols:"auto",class:"mx-2"},{default:U(()=>[F(_o,{size:"small",onClick:nt[7]||(nt[7]=Co=>ve.value=!0)},{prepend:U(()=>[F(Kr,{color:"green"},{default:U(()=>[...nt[19]||(nt[19]=[wt("mdi-plus",-1)])]),_:1})]),default:U(()=>[nt[20]||(nt[20]=wt(" Ajouter ",-1))]),_:1})]),_:1})]),_:1}),be.value.FilesToDownload?.length?js("",!0):(mt(),Qt(gs,{key:0},{default:U(()=>[...nt[21]||(nt[21]=[Po("i",null,"Aucun document.",-1)])]),_:1})),(mt(!0),xn(ys,null,Ia(be.value.FilesToDownload,Co=>(mt(),Qt(gs,{title:Co.NomClient},{append:U(()=>[F(Ko,{file:Co,onDelete:to=>lt.value=Co},null,8,["file","onDelete"])]),_:2},1032,["title"]))),256)),F(ki,{thickness:"1",class:"my-2"}),F(Ar,{"no-gutters":""},{default:U(()=>[F(Go,{"align-self":"center"},{default:U(()=>[F($L,null,{default:U(()=>[...nt[22]||(nt[22]=[wt("Documents à fournir (collectés sur l'espace de suivi) ",-1)])]),_:1})]),_:1}),F(Go,{"align-self":"center",cols:"auto",class:"mx-2"},{default:U(()=>[F(_o,{size:"small",onClick:nt[8]||(nt[8]=Co=>st.value=!0)},{prepend:U(()=>[F(Kr,{color:"green"},{default:U(()=>[...nt[23]||(nt[23]=[wt("mdi-plus",-1)])]),_:1})]),default:U(()=>[nt[24]||(nt[24]=wt(" Ajouter ",-1))]),_:1})]),_:1})]),_:1}),be.value.CampDemandes?.length?js("",!0):(mt(),Qt(gs,{key:1},{default:U(()=>[...nt[25]||(nt[25]=[Po("i",null,"Aucun document.",-1)])]),_:1})),(mt(!0),xn(ys,null,Ia(be.value.CampDemandes,Co=>(mt(),Qt(gs,{title:_n(km).demande(Co.Demande)},{append:U(()=>[F(_o,{icon:"",size:"x-small",onClick:to=>Gt(Co.Demande)},{default:U(()=>[F(Kr,{color:"red"},{default:U(()=>[...nt[26]||(nt[26]=[wt("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1032,["title"]))),256))]),_:1})]),_:1})),F(lr,{modelValue:ve.value,"onUpdate:modelValue":nt[10]||(nt[10]=Co=>ve.value=Co),"max-width":"600px"},{default:U(()=>[F(Ds,{title:"Charger un document",subtitle:"Ce document sera distribué sur l'espace personnel des familles."},{default:U(()=>[F(ws,null,{default:U(()=>[F(P$,{label:"Document à distribuer",onUpdate:nt[9]||(nt[9]=Co=>_e.value=Co)})]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{color:"green",disabled:_e.value==null,onClick:$e},{default:U(()=>[...nt[27]||(nt[27]=[wt("Charger",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),F(lr,{"model-value":lt.value!=null,"onUpdate:modelValue":nt[11]||(nt[11]=Co=>lt.value=null),"max-width":"400px"},{default:U(()=>[lt.value?(mt(),Qt(Ds,{key:0,title:"Confirmer la suppression"},{default:U(()=>[F(ws,null,{default:U(()=>[nt[28]||(nt[28]=wt(" Confirmez-vous la suppression du document ",-1)),Po("i",null,sr(lt.value.NomClient),1),nt[29]||(nt[29]=wt(" ? ",-1)),nt[30]||(nt[30]=Po("br",null,null,-1)),nt[31]||(nt[31]=Po("br",null,null,-1)),nt[32]||(nt[32]=wt(" Attention, cette opération est irréversible. ",-1))]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{color:"red",onClick:dt},{default:U(()=>[...nt[33]||(nt[33]=[wt("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):js("",!0)]),_:1},8,["model-value"])]),_:2},[be.value?{name:"append",fn:U(()=>[be.value.Ready?(mt(),Qt(Wp,{key:0,"prepend-icon":"mdi-lock-open",color:"success"},{default:U(()=>[...nt[14]||(nt[14]=[wt(" Documents visibles ",-1)])]),_:1})):(mt(),Qt(_o,{key:1,onClick:nt[0]||(nt[0]=Co=>we.value=!0),"prepend-icon":"mdi-lock-open",disabled:!Tt.value.length},{default:U(()=>[...nt[15]||(nt[15]=[wt(" Envoyer",-1)])]),_:1},8,["disabled"]))]),key:"0"}:void 0]),1024),F(lr,{modelValue:st.value,"onUpdate:modelValue":nt[12]||(nt[12]=Co=>st.value=Co),"max-width":"800px"},{default:U(()=>[be.value?(mt(),Qt(mne,{key:0,availableDemandes:be.value.AvailableDemandes||[],selectedDemandes:(be.value.CampDemandes||[]).map(Co=>Co.Demande.Id),onSelected:St,onCreated:Ue,onUpdated:ge,onDeleted:Je},null,8,["availableDemandes","selectedDemandes"])):js("",!0)]),_:1},8,["modelValue"]),F(lr,{modelValue:we.value,"onUpdate:modelValue":nt[13]||(nt[13]=Co=>we.value=Co),"max-width":"800px"},{default:U(()=>[F(Ds,{title:"Confirmer l'envoi des documents"},{default:U(()=>[F(ws,null,{default:U(()=>[nt[34]||(nt[34]=wt(" Les documents suivants seront disponibles sur l'espace de suivi, et un mail de notification sera envoyé. ",-1)),Po("div",gne,[(mt(!0),xn(ys,null,Ia(Tt.value,Co=>(mt(),Qt(Wp,{class:"mx-1"},{default:U(()=>[wt(sr(Co),1)]),_:2},1024))),256))])]),_:1}),F(Ol,null,{default:U(()=>[F(_o,{onClick:tt,"prepend-icon":"mdi-lock-open"},{default:U(()=>[...nt[35]||(nt[35]=[wt(" Débloquer sans envoi de mail ",-1)])]),_:1}),F(uc),F(_o,{onClick:We,"prepend-icon":"mdi-email-arrow-right"},{default:U(()=>[...nt[36]||(nt[36]=[wt(" Débloquer et notifier",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),F(lr,{"model-value":se.value!=null,persistent:"","max-width":"600px"},{default:U(()=>[se.value?(mt(),Qt(R$,{key:0,title:"Envoi du sondage en cours",current:se.value.Current,total:se.value.Total},null,8,["current","total"])):js("",!0)]),_:1},8,["model-value"])],64)}}}),pne={key:1,style:{height:"15px"}},hne=cr({__name:"DropZone",props:{isDragging:{type:Boolean}},emits:["onDrop"],setup(Q,{emit:re}){const ke=Q,be=re,Re=wo(!1);function xe(_e){Re.value=!0,_e.preventDefault()}function ve(_e){Re.value=!1,_e.preventDefault(),be("onDrop",_e)}return(_e,$e)=>ke.isDragging?(mt(),xn("div",{key:0,style:{height:"15px"},class:J1({"bg-blue-lighten-1":Re.value,"bg-blue-lighten-4":!Re.value,rounded:!0}),onDragenter:xe,onDragover:$e[0]||($e[0]=lt=>lt.preventDefault()),onDragleave:$e[1]||($e[1]=lt=>Re.value=!1),onDrop:ve},null,34)):(mt(),xn("div",pne))}}),bne={Ete:[{Quantite:2,Description:"Sweats ou pull-overs",Important:!1},{Quantite:1,Description:"Polaire",Important:!1},{Quantite:6,Description:"Tee shirts",Important:!1},{Quantite:2,Description:"Pantalons ou jogging",Important:!1},{Quantite:3,Description:"Shorts",Important:!1},{Quantite:6,Description:"Slips ou culottes",Important:!1},{Quantite:4,Description:"Paires de chaussettes",Important:!1},{Quantite:1,Description:"Pyjama",Important:!1},{Quantite:1,Description:"Maillot de bain",Important:!1},{Quantite:2,Description:"Grandes serviettes",Important:!1},{Quantite:1,Description:"Gant de toilette",Important:!1},{Quantite:1,Description:"Nécessaire de toilette : shampoing, savon, brosse à dent, dentifrice.....",Important:!1},{Quantite:1,Description:"Paire de lunette de soleil",Important:!0},{Quantite:1,Description:"Sac de couchage",Important:!1},{Quantite:1,Description:"Casquette",Important:!0},{Quantite:1,Description:"Veste de pluie",Important:!1},{Quantite:1,Description:"Paire de bonnes baskets",Important:!0},{Quantite:1,Description:"Paire de chaussure pour aller dans l’eau. (Une paire de vieille chaussure est suffisante !)",Important:!0},{Quantite:1,Description:"Paire de chaussure légère (sandale)",Important:!1},{Quantite:1,Description:"Petit sac à dos, gourde, lampe de poche",Important:!1}],Hiver:[{Quantite:6,Description:"Slips",Important:!1},{Quantite:6,Description:"Paires de chaussettes longues et chaudes",Important:!1},{Quantite:5,Description:"T-shirts manches longues",Important:!1},{Quantite:2,Description:"Pull-overs",Important:!1},{Quantite:2,Description:"Pantalons",Important:!1},{Quantite:2,Description:"T-shirt manches courtes",Important:!1},{Quantite:2,Description:"Leggings ou collants chauds",Important:!1},{Quantite:1,Description:"Polaire",Important:!1},{Quantite:1,Description:"Serviette de toilette",Important:!1},{Quantite:1,Description:"Trousse de toilette complète",Important:!1},{Quantite:1,Description:"Drap de dessous (90 cm)",Important:!1},{Quantite:1,Description:"Sac de couchage ou drap de dessus",Important:!1},{Quantite:1,Description:"Combinaison ou pantalon de ski",Important:!1},{Quantite:1,Description:"Anorak, bonnet, paire de gants de ski",Important:!1},{Quantite:1,Description:"Paire de lunette, crème solaire",Important:!1},{Quantite:1,Description:"Paire de baskets",Important:!1},{Quantite:1,Description:"Paire de boots ou chaussures de marche",Important:!1},{Quantite:1,Description:"Paire de pantoufles",Important:!1},{Quantite:1,Description:"Pyjama",Important:!1},{Quantite:1,Description:"Jogging",Important:!1}]},xne={ref:"bottom"},vne=["data"],yne=cr({__name:"PannelVetements",setup(Q){Zc(Re);const re=wo(null),ke=wo(null),be=Ws(()=>JSON.stringify(ke.value)!=JSON.stringify(re.value));async function Re(){const Tt=await Mt.VetementsGet();Tt!==void 0&&(re.value=Tt,ke.value=V2(Tt))}function xe(){re.value&&(re.value.Vetements=(re.value.Vetements||[]).concat({Description:"",Important:!1,Quantite:1}),ve.value=re.value.Vetements.length-1,Q7(()=>{St.value&&St.value.scrollIntoView()}))}const ve=wo(null);function _e(Tt){re.value&&(re.value.Vetements=V2(bne[Tt]))}function $e(Tt){re.value&&(re.value.Vetements||[]).splice(Tt,1)}const lt=wo(!1),dt=wo(""),st=Ws(()=>D$.RenderDocumentCamp(dt.value,!1));async function Ue(){if(!re.value)return;const Tt=await Mt.VetementsUpdate(re.value);Tt!==void 0&&(ke.value=V2(re.value),dt.value=Tt,Mt.showMessage("Liste de vêtements enregistrée avec succès."))}function ge(Tt,tt){lt.value=!0,Tt.dataTransfer.effectAllowed="move",Tt.dataTransfer.setData("text/json",JSON.stringify({index:tt}))}function Je(Tt,tt){if(!re.value)return;const se=JSON.parse(Tt.dataTransfer.getData("text/json"));re.value.Vetements=Lee(se.index,tt,re.value.Vetements)}const St=oF("bottom"),Gt=wo(!1),we={language:"fr_FR",height:150,menubar:!1,statusbar:!1,formats:{underline:{inline:"u"}},entity_encoding:"raw",font_formats:"Arial=arial,helvetica,sans-serif;",toolbar:["undo redo | cut copy paste | bold italic underline "]};return(Tt,tt)=>{const se=hne,We=B$;return mt(),xn(ys,null,[F(Ds,{title:"Liste de vêtements",class:"ma-2 mx-auto","max-width":"1000px"},{append:U(()=>[F(_o,{icon:"",onClick:xe,size:"small",class:"mx-1"},{default:U(()=>[F(Kr,{color:"green"},{default:U(()=>[...tt[9]||(tt[9]=[wt("mdi-plus",-1)])]),_:1})]),_:1}),F(Lf,null,{activator:U(({props:ne})=>[F(_o,$c(ne,{class:"mx-1",size:"small"}),{default:U(()=>[...tt[10]||(tt[10]=[wt("Importer...",-1)])]),_:1},16)]),default:U(()=>[F(Uc,null,{default:U(()=>[F(gs,{title:"Liste d'été",subtitle:"Remplace la liste actuelle",onClick:tt[0]||(tt[0]=ne=>_e("Ete"))}),F(gs,{title:"Liste d'hiver",subtitle:"Remplace la liste actuelle",onClick:tt[1]||(tt[1]=ne=>_e("Hiver"))})]),_:1})]),_:1}),F(ki,{vertical:"",thickness:"2",class:"mx-1"}),F(_o,{size:"small",class:"mx-1",onClick:tt[2]||(tt[2]=ne=>Gt.value=!0),"prepend-icon":"mdi-text-box-edit"},{default:U(()=>[...tt[11]||(tt[11]=[wt(" Texte ",-1)])]),_:1}),F(ki,{vertical:"",thickness:"2",class:"mx-1"}),F(_o,{icon:"",onClick:Ue,size:"small",class:"mx-1"},{default:U(()=>[F(Cm,{color:be.value?"pink":"transparent",dot:""},{default:U(()=>[F(Kr,null,{default:U(()=>[...tt[12]||(tt[12]=[wt("mdi-content-save",-1)])]),_:1})]),_:1},8,["color"])]),_:1})]),default:U(()=>[re.value==null?(mt(),Qt(jp,{key:0})):(mt(),Qt(ws,{key:1},{default:U(()=>[F(Uc,{density:"compact",style:{"max-height":"75vh"},class:"overflow-y-auto"},{default:U(()=>[re.value.Vetements?.length?js("",!0):(mt(),Qt(gs,{key:0,class:"text-center"},{default:U(()=>[...tt[13]||(tt[13]=[Po("i",null,"Aucun vêtement.",-1)])]),_:1})),(mt(!0),xn(ys,null,Ia(re.value.Vetements,(ne,nt)=>(mt(),xn(ys,null,[F(se,{isDragging:lt.value,onOnDrop:Ko=>Je(Ko,nt)},null,8,["isDragging","onOnDrop"]),ve.value==nt?(mt(),Qt(Ar,{key:0,class:"mx-0"},{default:U(()=>[F(Go,{"align-self":"center",cols:"2"},{default:U(()=>[F(We,{label:"Quantité",modelValue:re.value.Vetements[nt].Quantite,"onUpdate:modelValue":Ko=>re.value.Vetements[nt].Quantite=Ko},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),F(Go,{"align-self":"center"},{default:U(()=>[F(bx,{density:"compact",variant:"outlined",label:"Description","hide-details":"",modelValue:re.value.Vetements[nt].Description,"onUpdate:modelValue":Ko=>re.value.Vetements[nt].Description=Ko},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),F(Go,{"align-self":"center",cols:"auto"},{default:U(()=>[F(nte,{density:"compact",variant:"outlined",label:"Important","hide-details":"",modelValue:re.value.Vetements[nt].Important,"onUpdate:modelValue":Ko=>re.value.Vetements[nt].Important=Ko},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),F(Go,{"align-self":"center",cols:"auto"},{default:U(()=>[F(_o,{size:"small",onClick:tt[3]||(tt[3]=Ko=>ve.value=null)},{prepend:U(()=>[F(Kr,{color:"green"},{default:U(()=>[...tt[14]||(tt[14]=[wt("mdi-check",-1)])]),_:1})]),default:U(()=>[tt[15]||(tt[15]=wt(" Terminer",-1))]),_:1})]),_:1})]),_:2},1024)):(mt(),Qt(gs,{key:1,title:ne.Description,subtitle:ne.Important?"Important":""},{prepend:U(()=>[F(Cm,{inline:"",content:ne.Quantite,color:"secondary"},null,8,["content"])]),append:U(()=>[F(Kr,{class:"mx-1",style:{cursor:"grab"},draggable:!0,onDragstart:Ko=>ge(Ko,nt),onDragend:tt[4]||(tt[4]=Ko=>lt.value=!1)},{default:U(()=>[...tt[16]||(tt[16]=[wt("mdi-drag-vertical",-1)])]),_:1},8,["onDragstart"]),F(_o,{icon:"mdi-pencil",size:"x-small",class:"mx-1",onClick:Ko=>ve.value=nt},null,8,["onClick"]),F(_o,{icon:"",onClick:Ko=>$e(nt),size:"x-small"},{default:U(()=>[F(Kr,{color:"red"},{default:U(()=>[...tt[17]||(tt[17]=[wt("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1032,["title","subtitle"]))],64))),256)),F(se,{isDragging:lt.value,onOnDrop:tt[5]||(tt[5]=ne=>Je(ne,re.value?.Vetements?.length||0))},null,8,["isDragging"]),Po("div",xne,null,512)]),_:1})]),_:1}))]),_:1}),F(lr,{"model-value":!!dt.value,"onUpdate:modelValue":tt[6]||(tt[6]=ne=>dt.value="")},{default:U(()=>[dt.value?(mt(),xn("object",{key:0,type:"application/pdf",data:st.value,style:{height:"95vh"}},null,8,vne)):js("",!0)]),_:1},8,["model-value"]),F(lr,{modelValue:Gt.value,"onUpdate:modelValue":tt[8]||(tt[8]=ne=>Gt.value=ne),"max-width":"600px"},{default:U(()=>[F(Ds,{title:"Texte complémentaire",subtitle:"Ce texte apparaît à la fin de la liste de vêtements."},{default:U(()=>[re.value?(mt(),Qt(ws,{key:0},{default:U(()=>[F(_n(j$),{licenseKey:"gpl",modelValue:re.value.Complement,"onUpdate:modelValue":tt[7]||(tt[7]=ne=>re.value.Complement=ne),init:we},null,8,["modelValue"])]),_:1})):js("",!0)]),_:1})]),_:1},8,["modelValue"])],64)}}}),wne=cr({__name:"documents",setup(Q){const re=jE(),ke=Ws(()=>Nne(re.currentRoute.value.query)),be=Ws(()=>ke.value.tab||"documents");function Re(xe){const ve=re.currentRoute.value;re.push({path:ve.path,query:{tab:xe}})}return(xe,ve)=>(mt(),xn(ys,null,[F(MC,{title:`${_n(Mt).camp?.Label} - Communication & Documents`},{default:U(()=>[F(N$,{"model-value":be.value,"onUpdate:modelValue":ve[0]||(ve[0]=_e=>Re(_e))},{default:U(()=>[F(HE,{value:"documents"},{default:U(()=>[...ve[1]||(ve[1]=[wt("Documents",-1)])]),_:1}),F(HE,{value:"lettre"},{prepend:U(()=>[F(Kr,null,{default:U(()=>[...ve[2]||(ve[2]=[wt("mdi-mail",-1)])]),_:1})]),default:U(()=>[ve[3]||(ve[3]=wt(" Lettre aux familles",-1))]),_:1}),F(HE,{value:"vetements"},{prepend:U(()=>[F(Kr,null,{default:U(()=>[...ve[4]||(ve[4]=[wt("mdi-washing-machine",-1)])]),_:1})]),default:U(()=>[ve[5]||(ve[5]=wt(" Liste de vêtements",-1))]),_:1})]),_:1},8,["model-value"])]),_:1},8,["title"]),F(M$,{"model-value":be.value},{default:U(()=>[F($E,{value:"documents"},{default:U(()=>[F(fne,{onGoTo:Re})]),_:1}),F($E,{value:"lettre"},{default:U(()=>[F(dne)]),_:1}),F($E,{value:"vetements"},{default:U(()=>[F(yne)]),_:1})]),_:1},8,["model-value"])],64))}}),_ne={key:0,class:"text-center my-6"},Cne=["href"],kne=["href"],Sne=cr({__name:"photos",setup(Q){Zc(ke);const re=wo(null);async function ke(){const ve=await Mt.PhotosLoad();ve!==void 0&&(re.value=ve)}const be=wo(!1),Re=wo(null);async function xe(){if(!re.value)return;be.value=!1;const ve=await Mt.PhotosInvite();ve!==void 0&&(await O$(ve,_e=>Re.value=_e,_e=>Mt.onError("Envoi du mail",_e)),Re.value=null,Mt.showMessage("Mails envoyés avec succès."))}return(ve,_e)=>{const $e=R$;return mt(),xn(ys,null,[F(MC,{title:`${_n(Mt).camp?.Label} - Album photos`},null,8,["title"]),re.value==null?(mt(),xn("div",_ne,[F(eR,{indeterminate:""})])):re.value.HasAlbum?(mt(),Qt(Ds,{key:2,title:"Album",class:"ma-2"},{append:U(()=>[F(_o,{onClick:_e[0]||(_e[0]=lt=>be.value=!0),disabled:Re.value!=null},{prepend:U(()=>[F(Kr,{color:"green"},{default:U(()=>[..._e[3]||(_e[3]=[wt("mdi-send",-1)])]),_:1})]),default:U(()=>[_e[4]||(_e[4]=wt(" Inviter... ",-1))]),_:1},8,["disabled"])]),default:U(()=>[F(ws,null,{default:U(()=>[F(Ar,null,{default:U(()=>[F(Go,{"align-self":"center"},{default:U(()=>[_e[5]||(_e[5]=wt("Nom de l'album : ",-1)),Po("b",null,sr(re.value.Album.albumName),1)]),_:1}),F(Go,{"align-self":"center"},{default:U(()=>[_e[6]||(_e[6]=wt("Créé le : ",-1)),Po("b",null,sr(_n(km).date(re.value.Album.createdAt)),1)]),_:1}),F(Go,{"align-self":"center"},{default:U(()=>[_e[7]||(_e[7]=wt("Nombre de photos : ",-1)),Po("b",null,sr(re.value.Album.assetCount),1)]),_:1})]),_:1}),F(Ar,null,{default:U(()=>[F(Go,{cols:"4"},{default:U(()=>[..._e[8]||(_e[8]=[wt("Lien Équipe (permission d'ajout)",-1)])]),_:1}),F(Go,null,{default:U(()=>[Po("a",{target:"_blank",href:re.value.Album.EquipiersURL},sr(re.value.Album.EquipiersURL),9,Cne)]),_:1})]),_:1}),F(Ar,null,{default:U(()=>[F(Go,{cols:"4"},{default:U(()=>[..._e[9]||(_e[9]=[wt("Lien Inscrits (lecture seule)",-1)])]),_:1}),F(Go,null,{default:U(()=>[Po("a",{target:"_blank",href:re.value.Album.InscritsURL},sr(re.value.Album.InscritsURL),9,kne)]),_:1})]),_:1})]),_:1}),F(lr,{modelValue:be.value,"onUpdate:modelValue":_e[1]||(_e[1]=lt=>be.value=lt),"max-width":"800px"},{default:U(()=>[F(Ds,{title:"Envoyer le lien de l'album"},{default:U(()=>[F(ws,null,{default:U(()=>[..._e[10]||(_e[10]=[wt(" Confirmez-vous l'envoi d'un mail aux responsables et aux équipiers ? ",-1)])]),_:1}),F(Ol,null,{default:U(()=>[F(uc),F(_o,{color:"green",onClick:xe},{default:U(()=>[..._e[11]||(_e[11]=[wt("Partager le lien par mail",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),F(lr,{"model-value":Re.value!=null},{default:U(()=>[Re.value!=null?(mt(),Qt($e,{key:0,title:"Envoi des mails",current:Re.value.Current,total:Re.value.Total},null,8,["current","total"])):js("",!0)]),_:1},8,["model-value"])]),_:1})):(mt(),Qt(oR,{key:1,type:"warning",class:"ma-2"},{default:U(()=>[..._e[2]||(_e[2]=[wt("Aucun album n'est associé au séjour.",-1)])]),_:1}))],64)}}}),Ene={key:0,class:"text-center my-6"},Ane={key:1,class:"ma-2"},Tne=cr({__name:"avis",setup(Q){Zc(ke);const re=wo(null);async function ke(){const be=await Mt.SondagesGet();be!==void 0&&(re.value=be)}return(be,Re)=>(mt(),xn(ys,null,[F(MC,{title:`${_n(Mt).camp?.Label} - Avis sur le séjour`},null,8,["title"]),re.value==null?(mt(),xn("div",Ene,[F(eR,{indeterminate:""})])):(mt(),xn("div",Ane,[F(tte,{sondages:re.value},null,8,["sondages"])]))],64))}}),Dne=[{path:"/",component:fte},{path:"/inscriptions",component:Aoe},{path:"/equipiers",component:Poe},{path:"/documents",component:wne},{path:"/photos",component:Sne},{path:"/avis",component:Tne}],One="/directeurs",rF=Uee({history:Zee(One),routes:Dne});rF.onError((Q,re)=>{Q?.message?.includes?.("Failed to fetch dynamically imported module")?localStorage.getItem("vuetify:dynamic-reload")?console.error("Dynamic import error, reloading page did not fix it",Q):(console.log("Reloading page to fix dynamic import error"),localStorage.setItem("vuetify:dynamic-reload","true"),location.assign(re.fullPath)):console.error(Q)});rF.isReady().then(()=>{localStorage.removeItem("vuetify:dynamic-reload")});function Rne(Q){return{tab:Q.tab}}function Nne(Q){return{tab:Q.tab}}const Mne=["innerHTML"],Bne=cr({__name:"App",setup(Q){const re=JL({text:"",color:"secondary",action:void 0,timeout:4e3}),ke=wo(""),be=wo("");return Mt.onError=(xe,ve)=>{ke.value=xe,be.value=ve},Mt.showMessage=(xe,ve,_e)=>{re.text=xe,re.color=ve||"success",re.action=_e,re.timeout=1e4,re.timeout=4e3},jE().beforeEach(async(xe,ve)=>{if(!Mt.hasToken()&&xe.path!=="/")return{path:"/"}}),(xe,ve)=>{const _e=Fee("router-view");return mt(),Qt(Vee,null,{default:U(()=>[F(zee,null,{default:U(()=>[F(_e),F(UH,{style:{"z-index":"10000"},app:"","model-value":re.text!="","onUpdate:modelValue":ve[1]||(ve[1]=$e=>re.text=""),timeout:re.timeout,color:re.color,location:"bottom left","close-on-content-click":""},{default:U(()=>[wt(sr(re.text)+" ",1),re.action?(mt(),Qt(_o,{key:0,onClick:ve[0]||(ve[0]=$e=>re.action.action()),class:"ml-2"},{default:U(()=>[wt(sr(re.action.title),1)]),_:1})):js("",!0)]),_:1},8,["model-value","timeout","color"]),F(UH,{app:"","model-value":ke.value!="","onUpdate:modelValue":ve[2]||(ve[2]=$e=>ke.value=""),timeout:4e3,color:"red"},{default:U(()=>[Po("b",null,sr(ke.value),1),Po("div",{innerHTML:be.value},null,8,Mne)]),_:1},8,["model-value"])]),_:1})]),_:1})}}}),W$=Hee(Bne);W$.use($ee).use(rF);W$.mount("#app");
