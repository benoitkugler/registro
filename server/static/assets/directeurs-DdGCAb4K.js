import{v as o$,x as W2,z as q2,b as z,T as ku,n as Do,P as cJ,b6 as dJ,b7 as uJ,b8 as mJ,b9 as gJ,ba as VL,d as Vr,k as Ao,a as vn,o as _t,F as Is,w as U,e as Ct,V as fJ,s as co,a0 as gr,f as pJ,g as ca,h as sn,i as hJ,t as rr,r as bJ,j as qo,aa as Ld,l as xJ,m as aR,p as vJ,c as fr,aA as yJ,aG as $L,a4 as wJ,ag as sh,a1 as Ya,_ as Dn,bb as n$,ak as _J,bc as CJ,E as LC,B as Z1,ap as kJ,aq as SJ,au as EJ,av as JE,D as AJ,A as BC,bd as s$,be as KE,aZ as GL,bf as TJ,bg as r$,bh as DJ,az as a$,a2 as Gb,a3 as Vn,ah as lR,aN as i$,bi as _V,bj as OJ,bk as RJ,aF as NJ,bl as QE,a$ as KL,bm as qb,bn as PL,q as l$,u as c$,a5 as MJ,bo as d$,aM as u$,bp as BJ,bq as nR,aR as CV,O as Kb,br as IJ,bs as PJ,bt as LJ,bu as FJ,bv as kV,ay as cR,bw as eA,L as LL,bx as sR,an as zJ,by as HJ,bz as VJ,bA as m$,bB as $J,bC as UL,bD as dR,bE as ZL,bF as rR,y as g$,bG as UJ,bH as ZJ,I as jJ,bI as WJ,bJ as SV,bK as f$,bL as YL,bM as qJ,bN as GJ,bO as KJ,J as EV,Y as YJ,bP as XJ,am as QJ,bQ as JJ,a8 as PC,X as eee,bR as tee,bS as oee,aB as jL,bT as nee,b0 as see,b1 as ree,b2 as AV,b3 as aee,b4 as iee,b5 as lee}from"./VSnackbar-BIrRpgjn.js";import{V as cee,u as tA,h as dee,k as uee,l as mee,d as gee,e as fee,j as pee,g as hee,_ as bee,a as TV,m as xee,b as Yb,q as vee,r as yee}from"./InscriptionRow.vue_vue_type_script_setup_true_lang-BlqHkiQD.js";import{V as cs,a as qi,b as Xs,c as Hs,d as Xb,e as mm,f as gm,i as Xa,k as nh,h as Sg,j as mc,m as wee,l as _ee,n as iR,g as Cee}from"./VTextarea-ZoY5w49v.js";import{V as Vf,a as kee,c as p$,d as YE,e as XE,b as h$,_ as b$}from"./VTabs-CYD1-hdr.js";import{V as j2,_ as XL,a as x$}from"./FileCard.vue_vue_type_script_setup_true_lang-CEzBY5f9.js";import{V as DV}from"./VSlider-BaQgGzkE.js";import"./VSheet-CW0ileyl.js";import"./VForm-DGXL2IjR.js";import"./VWindowItem-CNi4e_UD.js";const See=W2({...cJ(dJ({icon:"$menu",variant:"text"}),["spaced"])},"VAppBarNavIcon"),Eee=o$()({name:"VAppBarNavIcon",props:See(),setup(ne,fe){let{slots:Pe}=fe;return q2(()=>z(Do,ku(ne,{class:["v-app-bar-nav-icon"]}),Pe)),{}}});class Aee extends mJ{constructor(fe,Pe,_e){super(_e,""),this.onError=fe,this.showMessage=Pe}camp=null;comptaURL="";hasToken(){return this.authToken!=""}setCamp(fe,Pe,_e){this.camp=fe,this.comptaURL=Pe,this.authToken=_e}handleError(fe){const{kind:Pe,messageHtml:_e}=gJ(fe);this.onError(Pe,_e)}startRequest(){}}const qt=new Aee((ne,fe)=>{},(ne,fe)=>{},uJ());function v$(ne){return ne.Content.Message.Origine==VL.Directeur&&ne.Content.Message.OrigineCamp.Id==qt.camp?.Id}function y$(ne){return qt.camp==null||v$(ne)?!1:!(ne.Content.VuParCampsIDs||[]).includes(qt.camp.Id)}const oA=Vr({__name:"NavBar",props:{title:{},hideMenu:{type:Boolean}},setup(ne){const fe=ne,Pe="/static/repere/logo.png",_e="v0.6.0",Qe=Ao(!1);return(Oe,ke)=>(_t(),vn(Is,null,[z(cee,{app:"",modelValue:Qe.value,"onUpdate:modelValue":ke[0]||(ke[0]=Be=>Qe.value=Be),temporary:""},{default:U(()=>[z(cs,{title:"Registro - Portail des directeurs",subtitle:_e}),z(qi),z(cs,{"prepend-icon":"mdi-calendar-multiple-check",link:"",to:{path:"/inscriptions"},color:"primary"},{default:U(()=>[...ke[2]||(ke[2]=[Ct(" Inscriptions ",-1)])]),_:1}),z(cs,{"prepend-icon":"mdi-mail",link:"",to:{path:"/documents"},color:"primary"},{default:U(()=>[...ke[3]||(ke[3]=[Ct(" Documents ",-1)])]),_:1}),z(qi),z(cs,{"prepend-icon":"mdi-account",link:"",to:{path:"/equipiers"},color:"primary"},{default:U(()=>[...ke[4]||(ke[4]=[Ct(" Equipiers ",-1)])]),_:1}),z(qi),z(cs,{"prepend-icon":"mdi-image-album",link:"",to:{path:"/joomeo"},color:"primary"},{default:U(()=>[...ke[5]||(ke[5]=[Ct(" Album Joomeo ",-1)])]),_:1}),z(qi),z(qi),z(cs,{"prepend-icon":"mdi-logout",link:"",to:{path:"/"},color:"primary"},{default:U(()=>[...ke[6]||(ke[6]=[Ct(" Se déconnecter ",-1)])]),_:1})]),_:1},8,["modelValue"]),z(fJ,{rounded:"",elevation:"4",color:"secondary"},{append:U(()=>[bJ(Oe.$slots,"default"),ke[7]||(ke[7]=qo("div",{class:"mr-2"},null,-1))]),default:U(()=>[fe.hideMenu?gr("",!0):(_t(),co(Eee,{key:0,onClick:ke[1]||(ke[1]=Be=>Qe.value=!Qe.value)})),z(pJ,null,{default:U(()=>[z(ca,null,{default:U(()=>[z(sn,{"align-self":"center",cols:"auto"},{default:U(()=>[z(hJ,{width:"60",src:Pe})]),_:1}),z(sn,{"align-self":"center"},{default:U(()=>[Ct(rr(fe.title),1)]),_:1})]),_:1})]),_:1})]),_:3})],64))}}),Tee=Vr({__name:"index",setup(ne){const fe=tA();Ld(_e);const Pe=Ao([]);async function _e(){const tt=await qt.GetCamps();tt!==void 0&&(Pe.value=tt||[])}const Qe=Ao(0),Oe=Ao(!1),ke=Ao(""),Be=Ao([]);async function We(){const tt=Pe.value.find(kt=>kt.Id==Qe.value);if(!tt)return;const Et=await qt.Loggin({password:ke.value,idCamp:Qe.value});Et!==void 0&&(Et.IsValid?(qt.setCamp(tt,Et.ComptaURL,Et.Token),qt.showMessage("Bienvenue !"),fe.push({path:"/inscriptions"})):Be.value=["Mot de passe incorrect."])}return(tt,Et)=>{const kt=dee;return _t(),vn(Is,null,[z(oA,{title:"Connection à la page Directeur","hide-menu":""}),z(vJ,{class:"fill-height"},{default:U(()=>[z(Xs,{title:"Connection",class:"mx-auto",width:"400px"},{default:U(()=>[z(Hs,null,{default:U(()=>[z(kt,{label:"Camp",modelValue:Qe.value,"onUpdate:modelValue":Et[0]||(Et[0]=Je=>Qe.value=Je),camps:Pe.value,name:"user","default-style":""},null,8,["modelValue","camps"]),z(Xb,{class:"mt-2",label:"Mot de passe",modelValue:ke.value,"onUpdate:modelValue":[Et[2]||(Et[2]=Je=>ke.value=Je),Et[3]||(Et[3]=Je=>Be.value=[])],"error-messages":Be.value,type:Oe.value?void 0:"password",name:"password",onKeydown:Et[4]||(Et[4]=xJ(aR(()=>!Qe.value||!ke.value.length?null:We(),["prevent"]),["enter"]))},{"append-inner":U(()=>[z(Do,{class:"ml-2",size:"small",icon:Oe.value?"mdi-eye":"mdi-eye-off",flat:"",onClick:Et[1]||(Et[1]=Je=>Oe.value=!Oe.value)},null,8,["icon"])]),_:1},8,["modelValue","error-messages","type"])]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{disabled:!Qe.value||!ke.value.length,onClick:We},{default:U(()=>[...Et[5]||(Et[5]=[Ct("Se connecter",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}}),Dee={key:1,class:"text-center font-italic"},Oee={key:2},Ree=Vr({__name:"PannelInscriptions",emits:["goTo"],setup(ne,{emit:fe}){const Pe=fe,_e=Ao(!1);Ld(Oe);const Qe=Ao([]);async function Oe(){_e.value=!0;const ye=await qt.InscriptionsGet();_e.value=!1,ye!==void 0&&(Qe.value=ye||[])}const ke=Ao(""),Be=fr(()=>{const ye=yJ(ke.value);return Qe.value.filter(ot=>$L.match(ot.Responsable,ye)||ot.Participants?.some(Bt=>$L.match(Bt.Personne,ye)||wJ.match(Bt.Camp,ye)))});function We(ye){const ot=qt.camp.Id;return(ye.Participants||[]).filter(Bt=>Bt.Camp.Id==ot).every(Bt=>Bt.Participant.Statut!=n$.AStatuer)}async function tt(ye,ot){const Bt=await qt.InscriptionsIdentifiePersonne({IdDossier:ye,Target:ot});if(Bt===void 0)return;qt.showMessage("Profil identifié avec succès.");const yt=Qe.value.findIndex(ue=>ue.Dossier.Id==ye);Qe.value[yt]=Bt}const Et=Ao(null);function kt(ye){return(ye.Participants||[]).filter(ot=>ot.Camp.Id==qt.camp?.Id).map(ot=>ot.Participant.Id)}async function Je(ye,ot){if(!Et.value)return;const Bt=Et.value.inscription.Dossier.Id;Et.value=null;const yt=await qt.InscriptionsValide({IdDossier:Bt,Statuts:ye,SendMail:ot});if(yt!==void 0)if(qt.showMessage("Inscription validée avec succès.","",{title:"Aller aux participants",action:()=>Pe("goTo")}),yt.Dossier.IsValidated)Qe.value=Qe.value.filter(ue=>ue.Dossier.Id!=Bt);else{const ue=Qe.value.findIndex(pe=>pe.Dossier.Id==Bt);Qe.value[ue]=yt}}return(ye,ot)=>{const Bt=mee;return _t(),co(Xs,{title:"Inscriptions",subtitle:"En attente de validation",class:"ma-2"},{append:U(()=>[z(Xb,{width:"300","append-inner-icon":"mdi-magnify",label:"Rechercher","hide-details":"",modelValue:ke.value,"onUpdate:modelValue":ot[0]||(ot[0]=yt=>ke.value=yt)},null,8,["modelValue"])]),default:U(()=>[z(Hs,null,{default:U(()=>[_e.value?(_t(),co(sh,{key:0})):Qe.value.length?(_t(),vn("div",Oee,[(_t(!0),vn(Is,null,Ya(Be.value,(yt,ue)=>(_t(),co(uee,{class:"my-1",user:Dn(qt).camp.Id,key:ue,inscription:yt,"hide-delete":"","already-validated":We(yt),onIdentifie:pe=>tt(yt.Dossier.Id,pe),onValide:pe=>Et.value={inscription:yt,participants:pe===void 0?kt(yt):[pe]},api:{SearchSimilaires:Dn(qt).InscriptionsSearchSimilaires.bind(Dn(qt)),SelectPersonne:Dn(qt).SelectPersonne.bind(Dn(qt))}},null,8,["user","inscription","already-validated","onIdentifie","onValide","api"]))),128))])):(_t(),vn("div",Dee," Il n'y a aucune inscription à valider. "))]),_:1}),z(Xa,{"model-value":Et.value!=null,"onUpdate:modelValue":ot[1]||(ot[1]=yt=>Et.value=null),"max-width":"800px"},{default:U(()=>[Et.value?(_t(),co(Bt,{key:0,inscription:Et.value.inscription,"id-participants":Et.value.participants,onValide:Je},null,8,["inscription","id-participants"])):gr("",!0)]),_:1},8,["model-value"])]),_:1})}}}),Nee=W2({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:ne=>["even","odd"].includes(ne)},...JE(),...EJ(),...SJ(),...kJ()},"VTable"),QL=o$()({name:"VTable",props:Nee(),setup(ne,fe){let{slots:Pe,emit:_e}=fe;const{themeClasses:Qe}=_J(ne),{densityClasses:Oe}=CJ(ne);return q2(()=>{const ke={VCheckboxBtn:{density:ne.density}};return z(ne.tag,{class:Z1(["v-table",{"v-table--fixed-height":!!ne.height,"v-table--fixed-header":ne.fixedHeader,"v-table--fixed-footer":ne.fixedFooter,"v-table--has-top":!!Pe.top,"v-table--has-bottom":!!Pe.bottom,"v-table--hover":ne.hover,"v-table--striped-even":ne.striped==="even","v-table--striped-odd":ne.striped==="odd"},Qe.value,Oe.value,ne.class]),style:LC(ne.style)},{default:()=>[Pe.top?.(),z(AJ,{defaults:ke},{default:()=>[Pe.default?qo("div",{class:"v-table__wrapper",style:{height:BC(ne.height)}},[qo("table",null,[Pe.default()])]):Pe.wrapper?.()]}),Pe.bottom?.()]})}),{}}}),Mee=["title"],Bee={class:"py-2"},Iee={class:"px-2 text-center"},Pee={class:"px-2"},Lee={class:"px-2"},Fee={key:0,class:"mb-2"},zee={class:"px-2"},Hee=Vr({__name:"FichesSanitairesPannel",setup(ne){Ld(Pe);const fe=Ao(null);async function Pe(){const Be=await qt.ParticipantsGetFichesSanitaires();Be!==void 0&&(fe.value=Be||[])}function _e(Be){switch(Be.State){case KE.NoFiche:return"red";case KE.Outdated:return"orange";case KE.UpToDate:return Be.Vaccins?.length?"green":"orange"}}function Qe(Be){return Be?.length?Be.length==1?"1 vaccin":`${Be.length} vaccins`:"Pas de vaccins"}function Oe(Be){const We=[];return Be.Allergies.Alimentaires&&We.push("alimentaires"),Be.Allergies.Asthme&&We.push("asthme"),Be.Allergies.Medicamenteuses&&We.push("médicamenteuses"),Be.Allergies.Autres&&We.push("autres"),We.length?`Allergies : ${We.join(", ")}`:null}async function ke(Be){const We=await qt.ParticipantsDownloadFicheSanitaire({idParticipant:Be});We!==void 0&&(qt.showMessage("Fiche sanitaire téléchargée avec succès."),TJ(We.blob,We.filename))}return(Be,We)=>fe.value!=null?(_t(),co(Xs,{key:0,title:"Fiches sanitaires et vaccins","max-width":"1200px",class:"mx-auto"},{append:U(()=>[z(Sg,null,{activator:U(({props:tt})=>[z(Do,ku({icon:"mdi-download"},tt),null,16)]),default:U(()=>[z(mc,null,{default:U(()=>[z(cs,{title:"Fiches sanitaires",subtitle:"Document unique au format .pdf (sans les vaccins)"})]),_:1})]),_:1})]),default:U(()=>[z(Hs,null,{default:U(()=>[z(QL,null,{default:U(()=>[(_t(!0),vn(Is,null,Ya(fe.value,tt=>(_t(),vn("tr",{title:tt.Personne},[qo("td",Bee,rr(tt.Personne),1),qo("td",Iee,[z(nh,{color:_e(tt)},{default:U(()=>[Ct(rr(Dn(s$)[tt.State])+" - "+rr(Qe(tt.Vaccins)),1)]),_:2},1032,["color"])]),qo("td",Pee,[tt.Fiche.TraitementMedical?(_t(),co(nh,{key:0,"prepend-icon":"mdi-alert"},{default:U(()=>[...We[0]||(We[0]=[Ct(" Traitement ",-1)])]),_:1})):gr("",!0)]),qo("td",Lee,[Oe(tt.Fiche)!=null?(_t(),co(Sg,{key:0},{activator:U(({props:Et})=>[z(nh,ku({ref_for:!0},Et,{"prepend-icon":"mdi-alert"}),{default:U(()=>[Ct(rr(Oe(tt.Fiche)),1)]),_:2},1040)]),default:U(()=>[z(Xs,{subtitle:"Allergies et conduite à tenir"},{default:U(()=>[z(Hs,null,{default:U(()=>[tt.Fiche.Allergies.Autres?(_t(),vn("div",Fee,rr(tt.Fiche.Allergies.Autres),1)):gr("",!0),qo("div",null,rr(tt.Fiche.Allergies.ConduiteATenir),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):gr("",!0)]),qo("td",zee,[z(Sg,null,{activator:U(({props:Et})=>[z(Do,ku({ref_for:!0},Et,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:U(()=>[z(mc,null,{default:U(()=>[z(cs,{title:"Fiche sanitaire",subtitle:"Télécharger au format .pdf","prepend-icon":"mdi-download",onClick:Et=>ke(tt.IdParticipant),disabled:tt.State==Dn(KE).NoFiche},null,8,["onClick","disabled"]),z(cs,{title:"Vaccins",subtitle:"Télécharger au format .zip","prepend-icon":"mdi-download",disabled:!tt.Vaccins?.length},GL({_:2},[tt.Vaccins?.length?{name:"append",fn:U(()=>[z(Vf,{inline:"",content:tt.Vaccins?.length},null,8,["content"])]),key:"0"}:void 0]),1032,["disabled"]),z(qi,{thickness:"1"}),z(cs,{title:"Relancer par mail","prepend-icon":"mdi-email"})]),_:2},1024)]),_:2},1024)])],8,Mee))),256))]),_:1})]),_:1})]),_:1})):(_t(),co(sh,{key:1,type:"card"}))}}),Vee={class:"text-left py-1"},$ee={class:"text-center"},Uee={class:"text-center"},Zee={class:"text-right py-1"},jee=Vr({__name:"DocumentsPannel",setup(ne){Ld(Pe);const fe=Ao(null);async function Pe(){const kt=await qt.ParticipantsLoadFiles();kt!==void 0&&(fe.value=kt)}const _e=fr(()=>Object.values(fe.value?.Demandes||{}).sort((kt,Je)=>kt.Id-Je.Id).map(kt=>({Id:kt.Id,title:kt.Categorie==DJ.NoBuiltin?kt.Description:r$[kt.Categorie]})));function Qe(kt){const Je=Object.values(fe.value?.Demandes||{});return Je?kt.Fichesanitaire==KE.UpToDate&&Je.every(ye=>((kt.Files||{})[ye.Id]||[]).length!=0):!1}const Oe=a$(new Set);async function ke(kt){Oe.add(kt.Id);const Je=await qt.ParticipantsRelanceDocuments([kt.Id]);Oe.delete(kt.Id),Je!==void 0&&qt.showMessage(`Message de relance pour ${kt.Personne} envoyé avec succès.`)}const Be=Ao(!1),We=Ao([]);function tt(){return(fe.value?.Participants||[]).filter(kt=>!Qe(kt)).map(kt=>kt.Id)}async function Et(){Be.value=!1;const kt=We.value;kt.forEach(ye=>Oe.add(ye));const Je=await qt.ParticipantsRelanceDocuments(kt);kt.forEach(ye=>Oe.delete(ye)),Je!==void 0&&qt.showMessage("Messages de relance envoyés avec succès.")}return(kt,Je)=>fe.value!=null?(_t(),co(Xs,{key:0,title:"Documents",subtitle:"Documents déposés via l'espace de suivi, à télécharger"},{append:U(()=>[z(Do,{class:"mx-1",onClick:Je[0]||(Je[0]=ye=>{We.value=tt(),Be.value=!0}),disabled:Oe.size!=0},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...Je[3]||(Je[3]=[Ct("mdi-email-arrow-right",-1)])]),_:1})]),default:U(()=>[Je[4]||(Je[4]=Ct(" Relancer...",-1))]),_:1},8,["disabled"]),z(Do,null,{prepend:U(()=>[z(Vn,null,{default:U(()=>[...Je[5]||(Je[5]=[Ct("mdi-download",-1)])]),_:1})]),default:U(()=>[Je[6]||(Je[6]=Ct(" Télécharger... ",-1)),z(Sg,{activator:"parent"},{default:U(()=>[z(mc,null,{default:U(()=>[z(cs,{title:"Fiches sanitaires",subtitle:"Télécharger un fichier .pdf",href:Dn(qt).DocumentsDownloadFichesSanitaires(Dn(qt).authToken)},null,8,["href"]),(_t(!0),vn(Is,null,Ya(_e.value,ye=>(_t(),co(cs,{title:ye.title,subtitle:"Télécharger une archive .zip",href:Dn(qt).DocumentsStreamFiles(ye.Id,Dn(qt).authToken)},null,8,["title","href"]))),256))]),_:1})]),_:1})]),_:1})]),default:U(()=>[z(Hs,null,{default:U(()=>[z(QL,null,{default:U(()=>[qo("tr",null,[Je[7]||(Je[7]=qo("th",{class:"text-left"},"Participant",-1)),Je[8]||(Je[8]=qo("th",null,"Fiche sanitaire",-1)),(_t(!0),vn(Is,null,Ya(_e.value,ye=>(_t(),vn("th",null,rr(ye.title),1))),256)),Je[9]||(Je[9]=qo("th",{style:{width:"40px"}},null,-1))]),(_t(!0),vn(Is,null,Ya(fe.value.Participants,ye=>(_t(),vn("tr",null,[qo("td",Vee,rr(ye.Personne),1),qo("td",$ee,[z(nh,{color:Dn(Gb).colorFichesanitaireState(ye.Fichesanitaire),density:"compact"},{default:U(()=>[Ct(rr(Dn(s$)[ye.Fichesanitaire]),1)]),_:2},1032,["color"])]),(_t(!0),vn(Is,null,Ya(_e.value,ot=>(_t(),vn("td",Uee,[(ye.Files||{})[ot.Id]?.length?(_t(),co(Do,{key:0,icon:"",size:"small",flat:""},{default:U(()=>[z(Vn,{color:"green"},{default:U(()=>[...Je[10]||(Je[10]=[Ct("mdi-check",-1)])]),_:1}),z(Sg,{activator:"parent"},{default:U(()=>[z(mc,null,{default:U(()=>[(_t(!0),vn(Is,null,Ya((ye.Files||{})[ot.Id],Bt=>(_t(),co(cs,{title:Bt.NomClient,subtitle:`${Dn(Gb).size(Bt.Taille)} - Ajouté ${Dn(Gb).date(Bt.Uploaded)}`},{append:U(()=>[z(kee,{class:"ma-2","file-key":Bt.Key,"is-generated-doc":!1},null,8,["file-key"])]),_:2},1032,["title","subtitle"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)):(_t(),co(Vn,{key:1,color:"orange"},{default:U(()=>[...Je[11]||(Je[11]=[Ct("mdi-alert ",-1)])]),_:1}))]))),256)),qo("td",Zee,[z(Do,{icon:"",size:"small",disabled:Qe(ye)||Oe.has(ye.Id),onClick:ot=>ke(ye)},{default:U(()=>[Oe.has(ye.Id)?(_t(),co(lR,{key:0,size:"small"})):(_t(),co(Vn,{key:1,icon:"mdi-email-arrow-right"})),z(j2,{activator:"parent"},{default:U(()=>[...Je[12]||(Je[12]=[Ct(" Envoyer un email de relance ",-1)])]),_:1})]),_:2},1032,["disabled","onClick"])])]))),256))]),_:1})]),_:1}),z(Xa,{modelValue:Be.value,"onUpdate:modelValue":Je[2]||(Je[2]=ye=>Be.value=ye),"max-width":"600px"},{default:U(()=>[z(Xs,{title:"Envoi d'une relance",subtitle:"Un mail de relance va être envoyé aux participants suivants."},{default:U(()=>[z(Hs,null,{default:U(()=>[z(gee,{density:"compact",multiple:"",chips:"","closable-chips":"",items:(fe.value.Participants||[]).map(ye=>({title:ye.Personne,value:ye.Id})),modelValue:We.value,"onUpdate:modelValue":Je[1]||(Je[1]=ye=>We.value=ye)},null,8,["items","modelValue"])]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{onClick:Et,disabled:!We.value.length,color:"green"},{default:U(()=>[...Je[13]||(Je[13]=[Ct("Relancer",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})):(_t(),co(sh,{key:1,type:"card"}))}}),OV=Vr({__name:"MessageRow",props:{message:{},showReply:{type:Boolean}},emits:["setSeen","startReply"],setup(ne,{emit:fe}){const Pe=ne,_e=fe,Qe=fr(()=>y$(Pe.message)),Oe=fr(()=>v$(Pe.message)),ke=fr(()=>{const Be=Pe.message.Content.Message.Origine;return Be==VL.Backoffice||Be==VL.FondSoutien});return(Be,We)=>(_t(),co(ca,{class:"my-1"},{default:U(()=>[z(sn,{"align-self":"center",cols:"1",class:"text-center"},{default:U(()=>[Oe.value?gr("",!0):(_t(),co(j2,{key:0,text:Qe.value?"Marquer comme lu":"Marquer comme non lu",location:"left"},{activator:U(({props:tt})=>[z(Do,ku(tt,{size:"small",icon:"",flat:"",onClick:We[0]||(We[0]=Et=>_e("setSeen",Qe.value))}),{default:U(()=>[z(Vn,{color:Qe.value?"pink":"",icon:Qe.value?"mdi-message-badge":"mdi-message-check"},null,8,["color","icon"])]),_:1},16)]),_:1},8,["text"]))]),_:1}),z(sn,{"align-self":"center",class:Z1({"rounded-lg":!0,"font-weight-bold":Qe.value,"bg-purple-lighten-4":Oe.value,"bg-green-lighten-4":ke.value,"bg-blue-lighten-4":!(Oe.value||ke.value)})},{default:U(()=>[qo("pre",null,rr(Pe.message.Content.Message.Contenu),1)]),_:1},8,["class"]),Pe.showReply?(_t(),co(sn,{key:0,"align-self":"center",cols:"auto"},{default:U(()=>[z(Do,{icon:"",size:"small",onClick:We[1]||(We[1]=tt=>_e("startReply"))},{default:U(()=>[z(Vn,null,{default:U(()=>[...We[2]||(We[2]=[Ct("mdi-reply",-1)])]),_:1})]),_:1})]),_:1})):gr("",!0),z(sn,{"align-self":"center",cols:"2",class:"text-grey"},{default:U(()=>[Ct(rr(Dn(Gb).time(Pe.message.Event.Created)),1)]),_:1})]),_:1}))}}),Wee=Vr({__name:"MessagesPannel",setup(ne){Ld(ke);const fe=Ao(0),Pe=Ao(!1),_e=fr(()=>(Oe.value?.Messages||[]).filter(kt=>!Pe.value||y$(kt))),Qe=fr(()=>{const kt=new Map;for(const Je of _e.value)kt.set(Je.Event.IdDossier,(kt.get(Je.Event.IdDossier)||[]).concat(Je));return Array.from(kt.entries()).map(Je=>({IdDossier:Je[0],Dossier:(Oe.value?.Dossiers||{})[Je[0]],Messages:Je[1].reverse()})).sort((Je,ye)=>Je.Dossier.Responsable.localeCompare(ye.Dossier.Responsable))}),Oe=Ao(null);async function ke(){const kt=await qt.ParticipantsMessagesLoad();kt!==void 0&&(Oe.value=kt||[])}async function Be(kt,Je){if(!Oe.value)return;const ye=await qt.ParticipantsMessageSetSeen({idEvent:kt,seen:Je});if(ye===void 0)return;const ot=Oe.value.Messages?.findIndex(Bt=>Bt.Event.Id==kt);Oe.value.Messages[ot]=ye,qt.showMessage(Je?"Message marqué comme lu.":"Message marqué comme non lu.")}const We=Ao(null),tt=Ao("");async function Et(){const kt=We.value;if(!Oe.value||!kt)return;We.value=null;const Je=await qt.ParticipantsMessagesCreate({Contenu:tt.value,IdDossier:kt});Je!==void 0&&(qt.showMessage("Message envoyé avec succès."),Oe.value.Messages=[Je].concat(Oe.value.Messages||[]))}return(kt,Je)=>Oe.value!=null?(_t(),co(Xs,{key:0,title:"Messages des familles"},{append:U(()=>[z(i$,{color:"secondary",class:"mx-1",modelValue:fe.value,"onUpdate:modelValue":Je[0]||(Je[0]=ye=>fe.value=ye),rounded:""},{default:U(()=>[z(Do,{size:"small"},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...Je[4]||(Je[4]=[Ct("mdi-clock",-1)])]),_:1})]),default:U(()=>[Je[5]||(Je[5]=Ct(" Trier par date",-1))]),_:1}),z(Do,{size:"small"},{append:U(()=>[z(Vn,null,{default:U(()=>[...Je[6]||(Je[6]=[Ct("mdi-account",-1)])]),_:1})]),default:U(()=>[Je[7]||(Je[7]=Ct(" Trier par inscrit",-1))]),_:1})]),_:1},8,["modelValue"]),z(qi,{vertical:"",thickness:"1",class:"mx-1"}),z(Do,{icon:"",size:"small",class:"mx-1",variant:Pe.value?"tonal":"elevated",onClick:Je[1]||(Je[1]=ye=>Pe.value=!Pe.value)},{default:U(()=>[z(Vn,{color:"pink"},{default:U(()=>[...Je[8]||(Je[8]=[Ct("mdi-message-badge",-1)])]),_:1}),z(j2,{activator:"parent"},{default:U(()=>[...Je[9]||(Je[9]=[Ct(" Filtrer les messages non lu ",-1)])]),_:1})]),_:1},8,["variant"])]),default:U(()=>[fe.value==0?(_t(),co(Hs,{key:0},{default:U(()=>[(_t(!0),vn(Is,null,Ya(_e.value,ye=>(_t(),co(OV,{message:ye,onSetSeen:ot=>Be(ye.Event.Id,ot),onStartReply:ot=>We.value=ye.Event.IdDossier,"show-reply":!0},null,8,["message","onSetSeen","onStartReply"]))),256))]),_:1})):(_t(),co(Hs,{key:1},{default:U(()=>[(_t(!0),vn(Is,null,Ya(Qe.value,ye=>(_t(),co(Xs,{title:ye.Dossier.Responsable,subtitle:(ye.Dossier.Participants||[]).join(", "),class:"my-2"},{append:U(()=>[z(Do,{size:"small",onClick:ot=>We.value=ye.IdDossier},{prepend:U(()=>[z(Vn,{icon:"mdi-reply"})]),default:U(()=>[Je[10]||(Je[10]=Ct(" Répondre",-1))]),_:1},8,["onClick"])]),default:U(()=>[z(Hs,null,{default:U(()=>[(_t(!0),vn(Is,null,Ya(ye.Messages,ot=>(_t(),co(OV,{message:ot,onSetSeen:Bt=>Be(ot.Event.Id,Bt),onStartReply:Bt=>We.value=ot.Event.IdDossier,"show-reply":!1},null,8,["message","onSetSeen","onStartReply"]))),256))]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})),z(Xa,{"model-value":We.value!==null,"onUpdate:modelValue":Je[3]||(Je[3]=ye=>We.value=null),"max-width":"600px"},{default:U(()=>[We.value?(_t(),co(Xs,{key:0,title:"Nouveau message",subtitle:(Oe.value.Dossiers||{})[We.value].Responsable},{default:U(()=>[z(Hs,null,{default:U(()=>[z(wee,{autofocus:"",placeholder:"Rédigez votre message...",modelValue:tt.value,"onUpdate:modelValue":Je[2]||(Je[2]=ye=>tt.value=ye),rows:"10"},null,8,["modelValue"])]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{disabled:!tt.value.length,onClick:Et},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...Je[11]||(Je[11]=[Ct("mdi-send",-1)])]),_:1})]),default:U(()=>[Je[12]||(Je[12]=Ct(" Envoyer",-1))]),_:1},8,["disabled"])]),_:1})]),_:1},8,["subtitle"])):gr("",!0)]),_:1},8,["model-value"])]),_:1})):(_t(),co(sh,{key:1,type:"card"}))}}),qee=Vr({__name:"StatistiquesCard",props:{participants:{}},setup(ne){const fe=ne,Pe=fr(()=>fe.participants.filter(_e=>_e.Participant.Statut==n$.Inscrit));return(_e,Qe)=>(_t(),co(Xs,{subtitle:"Statistiques",width:"300px"},{default:U(()=>[z(Hs,null,{default:U(()=>[z(ca,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[z(sn,null,{default:U(()=>[...Qe[0]||(Qe[0]=[Ct(" Inscrits ",-1)])]),_:1}),z(sn,{cols:"auto"},{default:U(()=>[z(Vf,{color:"secondary",inline:"",content:Pe.value.length},null,8,["content"])]),_:1})]),_:1}),z(ca,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[z(sn,null,{default:U(()=>[...Qe[1]||(Qe[1]=[Ct(" Garçons/Filles ",-1)])]),_:1}),z(sn,{cols:"auto"},{default:U(()=>[z(Vf,{color:"secondary",inline:"",content:`${Pe.value.filter(Oe=>Oe.Personne.Sexe==Dn(_V).Man).length} /  ${Pe.value.filter(Oe=>Oe.Personne.Sexe==Dn(_V).Woman).length}`},null,8,["content"])]),_:1})]),_:1}),z(ca,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[z(sn,null,{default:U(()=>[...Qe[2]||(Qe[2]=[Ct(" Anniversaires ",-1)])]),_:1}),z(sn,{cols:"auto"},{default:U(()=>[z(Vf,{color:"amber-lighten-1",inline:"",content:Pe.value.filter(Oe=>Oe.HasBirthday).length},null,8,["content"])]),_:1})]),_:1}),z(qi,{thickness:"1"}),z(ca,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[z(sn,null,{default:U(()=>[...Qe[3]||(Qe[3]=[Ct(" Liste d'attente ",-1)])]),_:1}),z(sn,{cols:"auto"},{default:U(()=>[z(Vf,{color:"orange",inline:"",content:fe.participants.length-Pe.value.length},null,8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Gee=Vr({__name:"ReglementCard",props:{data:{}},setup(ne){const fe=ne;function Pe(Qe){return(fe.data.Dossiers||{})[Qe.Participant.IdDossier]}const _e=fr(()=>(fe.data.Participants||[]).filter(Qe=>Pe(Qe).Reglement==OJ.Complet).length);return(Qe,Oe)=>(_t(),co(Xs,{title:"Suivi du règlement",subtitle:`${_e.value} / ${fe.data.Participants?.length||0} complet`},{default:U(()=>[z(Hs,null,{default:U(()=>[z(mc,null,{default:U(()=>[(_t(!0),vn(Is,null,Ya(ne.data.Participants,ke=>(_t(),co(cs,{title:Dn($L).NOMPrenom(ke.Personne),subtitle:Pe(ke).Responsable},{append:U(()=>[z(nh,{"prepend-icon":"mdi-currency-eur",color:Dn(Gb).colorStatutPaiement(Pe(ke).Reglement)},{default:U(()=>[Ct(rr(Dn(RJ)[Pe(ke).Reglement]),1)]),_:2},1032,["color"])]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1},8,["subtitle"]))}}),Kee={key:1},Yee={key:0,class:"text-center font-italic mt-4"},Xee=Vr({__name:"PannelParticipants",setup(ne,{expose:fe}){Ld(()=>{We(),Qe()}),fe({loadParticipants:We});const Pe=Ao(!1),_e=Ao([]);async function Qe(){const Bt=await qt.GetCamps();Bt!==void 0&&(_e.value=Bt||[])}const Oe=Ao(!1),ke=fr(()=>{const Bt=(Be.value?.Participants||[]).map(yt=>yt);return Bt.sort((yt,ue)=>NJ.cmp(yt,ue,Oe.value)),Bt}),Be=Ao(null);async function We(){Pe.value=!0;const Bt=await qt.ParticipantsGet();Pe.value=!1,Bt!==void 0&&(Be.value=Bt)}const tt=Ao(null);async function Et(Bt){if(tt.value==null||Be.value==null)return;const yt=await qt.ParticipantsUpdate(Bt);tt.value=null,yt!==void 0&&(qt.showMessage("Participant modifié avec succès."),We())}const kt=Ao(!1),Je=Ao(!1),ye=Ao(!1),ot=Ao(!1);return(Bt,yt)=>{const ue=fee,pe=pee,Re=hee;return Be.value!=null?(_t(),co(Xs,{key:0},{title:U(()=>[z(Do,{flat:"",icon:""},{default:U(()=>[z(Vn,null,{default:U(()=>[...yt[10]||(yt[10]=[Ct("mdi-information",-1)])]),_:1}),z(j2,{activator:"parent","content-class":"ma-0 pa-0"},{default:U(()=>[z(qee,{participants:Be.value.Participants||[]},null,8,["participants"])]),_:1})]),_:1}),yt[11]||(yt[11]=Ct(" Participants ",-1))]),append:U(()=>[z(Do,{onClick:yt[0]||(yt[0]=te=>ye.value=!0),class:"mx-1"},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...yt[12]||(yt[12]=[Ct("mdi-email",-1)])]),_:1})]),default:U(()=>[yt[13]||(yt[13]=Ct(" Messages",-1))]),_:1}),z(qi,{thickness:"1",vertical:"",class:"mx-1"}),z(Do,{onClick:yt[1]||(yt[1]=te=>Je.value=!0),class:"mx-1"},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...yt[14]||(yt[14]=[Ct("mdi-folder",-1)])]),_:1})]),default:U(()=>[yt[15]||(yt[15]=Ct(" Documents",-1))]),_:1}),z(Do,{onClick:yt[2]||(yt[2]=te=>kt.value=!0),class:"mx-1"},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...yt[16]||(yt[16]=[Ct("mdi-pill",-1)])]),_:1})]),default:U(()=>[yt[17]||(yt[17]=Ct(" Fiches sanitaires",-1))]),_:1}),z(qi,{thickness:"1",vertical:"",class:"mx-1"}),z(Do,{icon:"",flat:""},{default:U(()=>[z(Vn,null,{default:U(()=>[...yt[18]||(yt[18]=[Ct("mdi-dots-vertical",-1)])]),_:1}),z(Sg,{activator:"parent"},{default:U(()=>[z(mc,{density:"compact"},{default:U(()=>[z(cs,{title:"Trier par moment d'inscription",onClick:yt[3]||(yt[3]=te=>Oe.value=!Oe.value),"prepend-icon":"mdi-sort-calendar-ascending","append-icon":Oe.value?"mdi-check":""},null,8,["append-icon"]),z(qi,{thickness:"1"}),z(cs,{"prepend-icon":"mdi-file-excel",title:"Exporter",subtitle:"au format Excel",link:"",href:Dn(QE).ParticipantsDownloadListe(Dn(qt).authToken)},null,8,["href"]),z(qi,{thickness:"1"}),z(cs,{"prepend-icon":"mdi-currency-eur",title:"Suivi du règlement",onClick:yt[4]||(yt[4]=te=>ot.value=!0)})]),_:1})]),_:1})]),_:1})]),default:U(()=>[z(Hs,{class:"mt-4"},{default:U(()=>[Pe.value?(_t(),co(sh,{key:0,type:"table"})):(_t(),vn("div",Kee,[z(ue),ke.value.length?gr("",!0):(_t(),vn("div",Yee," Aucun participant n'est encore inscrit sur ce séjour. ")),(_t(!0),vn(Is,null,Ya(ke.value,(te,gt)=>(_t(),co(pe,{participant:te,index:gt},{actions:U(()=>[z(mc,{density:"comfortable"},{default:U(()=>[z(cs,{title:"Modifier","prepend-icon":"mdi-pencil",onClick:me=>tt.value=te},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["participant","index"]))),256))]))]),_:1}),tt.value!=null?(_t(),co(Xa,{key:0,"model-value":tt.value!=null,"onUpdate:modelValue":yt[5]||(yt[5]=te=>tt.value=null),"max-width":"800px"},{default:U(()=>[z(Re,{participant:tt.value.Participant,personne:tt.value.Personne,api:{SelectPersonne:Dn(qt).SelectPersonne.bind(Dn(qt))},"hide-personne-dossier":"","readonly-statut":"",onSave:Et},null,8,["participant","personne","api"])]),_:1},8,["model-value"])):gr("",!0),z(Xa,{modelValue:kt.value,"onUpdate:modelValue":yt[6]||(yt[6]=te=>kt.value=te)},{default:U(()=>[z(Hee)]),_:1},8,["modelValue"]),z(Xa,{modelValue:Je.value,"onUpdate:modelValue":yt[7]||(yt[7]=te=>Je.value=te),"max-width":"800px"},{default:U(()=>[z(jee)]),_:1},8,["modelValue"]),z(Xa,{modelValue:ye.value,"onUpdate:modelValue":yt[8]||(yt[8]=te=>ye.value=te),"max-width":"1200px"},{default:U(()=>[z(Wee)]),_:1},8,["modelValue"]),z(Xa,{modelValue:ot.value,"onUpdate:modelValue":yt[9]||(yt[9]=te=>ot.value=te),"max-width":"700px"},{default:U(()=>[z(Gee,{data:Be.value},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})):(_t(),co(sh,{key:1,type:"card"}))}}}),Qee=Vr({__name:"inscriptions",setup(ne){const fe=tA(),Pe=fr(()=>Boe(fe.currentRoute.value.query));Ld(async()=>{const ke=await qt.InscriptionsGet();ke!==void 0&&(ke?.length||Oe("participants"))});const _e=fr(()=>Pe.value.tab||"insc"),Qe=KL("participants");function Oe(ke){const Be=fe.currentRoute.value;fe.push({path:Be.path,query:{tab:ke}}),ke=="participants"&&Qe.value?.loadParticipants()}return(ke,Be)=>(_t(),vn(Is,null,[z(oA,{title:`${Dn(qt).camp?.Label} - Suivi des inscriptions`},{default:U(()=>[z(p$,{"model-value":_e.value,"onUpdate:modelValue":Be[0]||(Be[0]=We=>Oe(We))},{default:U(()=>[z(YE,{value:"insc"},{default:U(()=>[...Be[2]||(Be[2]=[Ct("Inscriptions en attente",-1)])]),_:1}),z(YE,{value:"participants"},{default:U(()=>[...Be[3]||(Be[3]=[Ct("Liste des participants",-1)])]),_:1})]),_:1},8,["model-value"])]),_:1},8,["title"]),z(h$,{"model-value":_e.value},{default:U(()=>[z(XE,{value:"insc"},{default:U(()=>[z(Ree,{onGoTo:Be[1]||(Be[1]=()=>Oe("participants"))})]),_:1}),z(XE,{value:"participants"},{default:U(()=>[z(Xee,{ref_key:"participants",ref:Qe},null,512)]),_:1})]),_:1},8,["model-value"])],64))}}),Jee=Vr({__name:"DemandeChip",props:{demande:{}},emits:["updateState"],setup(ne,{emit:fe}){const Pe=ne,_e=fe,Qe=fr(()=>{const Oe=!!Pe.demande.Files?.length;switch(Pe.demande.State){case qb.NonDemande:return;case qb.Optionnelle:return Oe?"green":"yellow-darken-2";case qb.Obligatoire:return Oe?"green":"red"}});return(Oe,ke)=>{const Be=XL;return _t(),co(Sg,null,{activator:U(({props:We})=>[z(nh,ku(We,{color:Qe.value,class:"my-1",size:"small"}),{default:U(()=>[Ct(rr(Dn(PL)[Pe.demande.State]),1)]),_:1},16,["color"])]),default:U(()=>[z(Xs,{title:"Documents"},{default:U(()=>[z(Hs,null,{default:U(()=>[z(i$,{mandatory:"","model-value":Pe.demande.State,"onUpdate:modelValue":ke[0]||(ke[0]=We=>_e("updateState",We))},{default:U(()=>[z(Do,{value:Dn(qb).NonDemande},{default:U(()=>[...ke[1]||(ke[1]=[Ct("Non requis",-1)])]),_:1},8,["value"]),z(Do,{value:Dn(qb).Optionnelle},{default:U(()=>[Ct(rr(Dn(PL)[Dn(qb).Optionnelle]),1)]),_:1},8,["value"]),z(Do,{value:Dn(qb).Obligatoire},{default:U(()=>[Ct(rr(Dn(PL)[Dn(qb).Obligatoire]),1)]),_:1},8,["value"])]),_:1},8,["model-value"]),Pe.demande.Files?.length?(_t(),vn(Is,{key:0},[z(qi,{thickness:"2",class:"mt-2"}),z(ca,null,{default:U(()=>[(_t(!0),vn(Is,null,Ya(Pe.demande.Files,We=>(_t(),co(sn,{cols:"4"},{default:U(()=>[z(Be,{file:We},null,8,["file"])]),_:2},1024))),256))]),_:1})],64)):gr("",!0)]),_:1})]),_:1})]),_:1})}}}),ete={key:1},tte={class:"text-left"},ote=Vr({__name:"DocumentsTable",props:{equipiers:{}},setup(ne){const fe=ne;Ld(Qe);const Pe=Ao([]),_e=Ao([]);async function Qe(){const We=await qt.EquipiersDemandesGet();We!==void 0&&(Pe.value=We.Demandes||[],_e.value=We.Equipiers||[])}function Oe(We,tt){return _e.value.find(Et=>Et.Key.IdDemande==tt&&Et.Key.IdEquipier==We)}async function ke(We,tt,Et){await qt.EquipiersDemandeSet({IdEquipier:We,IdDemande:tt,State:Et})!==void 0&&(qt.showMessage("Demande modifiée avec succès."),Oe(We,tt).State=Et)}const Be=fr(()=>QE.EquipiersDownloadFiles(qt.authToken));return(We,tt)=>(_t(),co(Xs,{title:"Documents de l'équipe",subtitle:"Demandes et fichiers déposés par l'équipe"},{append:U(()=>[z(Do,{href:Be.value},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...tt[0]||(tt[0]=[Ct("mdi-download",-1)])]),_:1})]),default:U(()=>[tt[1]||(tt[1]=Ct(" Télécharger",-1))]),_:1},8,["href"])]),default:U(()=>[z(Hs,{class:"mt-4"},{default:U(()=>[Pe.value?(_t(),vn("div",ete,[z(QL,{class:"text-center"},{default:U(()=>[qo("tr",null,[tt[2]||(tt[2]=qo("td",null,null,-1)),(_t(!0),vn(Is,null,Ya(Pe.value,Et=>(_t(),vn("td",null,rr(Dn(r$)[Et.Categorie]),1))),256))]),(_t(!0),vn(Is,null,Ya(fe.equipiers,(Et,kt)=>(_t(),vn("tr",{class:Z1(kt%2==0?"bg-grey-lighten-4 rounded":"")},[qo("td",tte,rr(Et.Personne),1),(_t(!0),vn(Is,null,Ya(Pe.value,Je=>(_t(),vn("td",null,[z(Jee,{demande:Oe(Et.Equipier.Id,Je.Id),onUpdateState:ye=>ke(Et.Equipier.Id,Je.Id,ye)},null,8,["demande","onUpdateState"])]))),256))],2))),256))]),_:1})])):(_t(),co(sh,{key:0,type:"table"}))]),_:1})]),_:1}))}}),nte=Vr({__name:"RolesField",props:l$({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(ne){const fe=ne,Pe=c$(ne,"modelValue"),_e=MJ(d$);return(Qe,Oe)=>(_t(),co(_ee,{chips:"","closable-chips":"",label:"Rôles",variant:"outlined",density:"compact","hide-details":"",items:Dn(_e),readonly:fe.readonly,multiple:"",modelValue:Pe.value,"onUpdate:modelValue":Oe[0]||(Oe[0]=ke=>Pe.value=ke)},null,8,["items","readonly","modelValue"]))}}),ste=Vr({__name:"AddEquipierCard",emits:["create"],setup(ne,{emit:fe}){const Pe=fe,_e=Ao({CreatePersonne:!1,IdPersonne:0,Nom:"",Prenom:"",Mail:"",Roles:[]}),Qe=fr(()=>!!((_e.value.CreatePersonne?_e.value.Nom&&_e.value.Prenom&&_e.value.Mail:_e.value.IdPersonne)&&_e.value.Roles?.length));return(Oe,ke)=>{const Be=bee;return _t(),co(Xs,{title:"Ajouter un équipier",subtitle:"Sélectionner un profil existant ou créer un nouveau."},{default:U(()=>[z(Hs,{class:"mt-4"},{default:U(()=>[z(ca,null,{default:U(()=>[z(sn,{"align-self":"center"},{default:U(()=>[_e.value.CreatePersonne?(_t(),co(ca,{key:1},{default:U(()=>[z(sn,null,{default:U(()=>[z(Xb,{autofocus:"","hide-details":"",label:"Nom",density:"compact",variant:"outlined",modelValue:_e.value.Nom,"onUpdate:modelValue":ke[1]||(ke[1]=We=>_e.value.Nom=We)},null,8,["modelValue"])]),_:1}),z(sn,null,{default:U(()=>[z(Xb,{"hide-details":"",label:"Prénom",density:"compact",variant:"outlined",modelValue:_e.value.Prenom,"onUpdate:modelValue":ke[2]||(ke[2]=We=>_e.value.Prenom=We)},null,8,["modelValue"])]),_:1}),z(sn,{cols:"12"},{default:U(()=>[z(Xb,{variant:"outlined",density:"compact",modelValue:_e.value.Mail,"onUpdate:modelValue":ke[3]||(ke[3]=We=>_e.value.Mail=We),label:"Adresse mail",type:"email",rules:[Dn(u$).required("Une adresse mail est nécessaire pour inviter l'équipier.")]},null,8,["modelValue","rules"])]),_:1})]),_:1})):(_t(),co(Be,{key:0,label:"Personne",modelValue:_e.value.IdPersonne,"onUpdate:modelValue":ke[0]||(ke[0]=We=>_e.value.IdPersonne=We),"initial-personne":"",api:{SelectPersonne:Dn(qt).SelectPersonne.bind(Dn(qt))}},null,8,["modelValue","api"]))]),_:1}),z(sn,{cols:"auto"},{default:U(()=>[z(qi,{thickness:"2",vertical:"",class:"py-2"},{default:U(()=>[...ke[7]||(ke[7]=[Ct("ou",-1)])]),_:1})]),_:1}),z(sn,{cols:"auto","align-self":"center"},{default:U(()=>[z(Do,{onClick:ke[4]||(ke[4]=We=>_e.value.CreatePersonne=!_e.value.CreatePersonne)},{default:U(()=>[Ct(rr(_e.value.CreatePersonne?"Sélectionner":"Créer"),1)]),_:1})]),_:1})]),_:1}),z(ca,null,{default:U(()=>[z(sn,null,{default:U(()=>[z(nte,{modelValue:_e.value.Roles,"onUpdate:modelValue":ke[5]||(ke[5]=We=>_e.value.Roles=We)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{disabled:!Qe.value,onClick:ke[6]||(ke[6]=We=>Pe("create",_e.value))},{default:U(()=>[...ke[8]||(ke[8]=[Ct("Ajouter",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})}}}),rte=Vr({__name:"StatistiquesCard",props:{equipiers:{}},setup(ne){const fe=ne;return(Pe,_e)=>(_t(),co(Xs,{subtitle:"Statistiques",width:"300px"},{default:U(()=>[z(Hs,null,{default:U(()=>[z(ca,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[z(sn,null,{default:U(()=>[..._e[0]||(_e[0]=[Ct(" Equipiers ",-1)])]),_:1}),z(sn,{cols:"auto"},{default:U(()=>[z(Vf,{color:"secondary",inline:"",content:fe.equipiers.length},null,8,["content"])]),_:1})]),_:1}),z(ca,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[z(sn,null,{default:U(()=>[..._e[1]||(_e[1]=[Ct(" Animateurs ",-1)])]),_:1}),z(sn,{cols:"auto"},{default:U(()=>[z(Vf,{color:"secondary",inline:"",content:fe.equipiers.filter(Qe=>Qe.IsAnimateur).length},null,8,["content"])]),_:1})]),_:1}),z(ca,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[z(sn,null,{default:U(()=>[..._e[2]||(_e[2]=[Ct(" Au pair ",-1)])]),_:1}),z(sn,{cols:"auto"},{default:U(()=>[z(Vf,{color:"secondary",inline:"",content:fe.equipiers.filter(Qe=>Qe.IsAuPair).length},null,8,["content"])]),_:1})]),_:1}),z(ca,{class:"my-1","no-gutters":"",justify:"space-between"},{default:U(()=>[z(sn,null,{default:U(()=>[..._e[3]||(_e[3]=[Ct(" Anniversaires ",-1)])]),_:1}),z(sn,{cols:"auto"},{default:U(()=>[z(Vf,{color:"amber-lighten-1",inline:"",content:fe.equipiers.filter(Qe=>Qe.HasBirthday).length},null,8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),ate=Vr({__name:"equipiers",setup(ne){tA(),Ld(Pe);const fe=Ao([]);async function Pe(){const Je=await qt.EquipiersGet();Je!==void 0&&(Je?.sort((ye,ot)=>ye.Equipier.Id-ot.Equipier.Id),fe.value=Je||[])}const _e=Ao(!1);function Qe(Je){return(Je||[]).map(ye=>d$[ye]).join(", ")}function Oe(Je){switch(Je){case nR.NotSend:return{icon:"mdi-form-select",color:""};case nR.Pending:return{icon:"mdi-clock",color:"yellow-darken-2"};case nR.Answered:return{icon:"mdi-check",color:"green"}}}const ke=Ao(!1);async function Be(Je){ke.value=!1;const ye=await qt.EquipiersCreate(Je);ye!==void 0&&(qt.showMessage("Equipier crée avec succès."),fe.value.push(ye))}async function We(Je){const ye=await qt.EquipiersInvite({OnlyOne:CV(Je)});ye!==void 0&&(qt.showMessage("Equipier invité avec succès."),ye?.sort((ot,Bt)=>ot.Equipier.Id-Bt.Equipier.Id),fe.value=ye||[])}async function tt(){const Je=await qt.EquipiersInvite({OnlyOne:CV(null)});Je!==void 0&&(qt.showMessage("Equipiers invités avec succès."),Je?.sort((ye,ot)=>ye.Equipier.Id-ot.Equipier.Id),fe.value=Je||[])}const Et=Ao(null);async function kt(){if(Et.value==null)return;const Je=Et.value.Equipier.Id;Et.value=null,await qt.EquipiersDelete({id:Je})!==void 0&&(qt.showMessage("Equipier supprimé avec succès."),fe.value=fe.value.filter(ot=>ot.Equipier.Id!=Je))}return(Je,ye)=>(_t(),vn(Is,null,[z(oA,{title:`${Dn(qt).camp?.Label} - Equipiers`},{default:U(()=>[z(Do,{onClick:ye[0]||(ye[0]=ot=>_e.value=!0)},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...ye[6]||(ye[6]=[Ct("mdi-file",-1)])]),_:1})]),default:U(()=>[ye[7]||(ye[7]=Ct(" Documents ",-1))]),_:1})]),_:1},8,["title"]),z(Xs,{class:"mt-2 mx-auto","max-width":"800px"},{title:U(()=>[z(Do,{flat:"",icon:""},{default:U(()=>[z(Vn,null,{default:U(()=>[...ye[8]||(ye[8]=[Ct("mdi-information",-1)])]),_:1}),z(j2,{activator:"parent","content-class":"ma-0 pa-0"},{default:U(()=>[z(rte,{equipiers:fe.value},null,8,["equipiers"])]),_:1})]),_:1}),ye[9]||(ye[9]=Ct(" Équipiers ",-1))]),append:U(()=>[z(Do,{color:"green",onClick:ye[1]||(ye[1]=ot=>ke.value=!0)},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...ye[10]||(ye[10]=[Ct("mdi-plus",-1)])]),_:1})]),default:U(()=>[ye[11]||(ye[11]=Ct(" Ajouter un équipier",-1))]),_:1}),z(Sg,null,{activator:U(({props:ot})=>[z(Do,ku(ot,{class:"ml-2",icon:"mdi-dots-vertical",size:"small"}),null,16)]),default:U(()=>[z(mc,null,{default:U(()=>[z(cs,null,{default:U(()=>[z(cs,{title:"Inviter tous",subtitle:"Envoi un mail à tous les équipiers en attente","prepend-icon":"mdi-email",onClick:ye[2]||(ye[2]=ot=>tt())})]),_:1})]),_:1})]),_:1})]),default:U(()=>[z(Hs,null,{default:U(()=>[z(mc,null,{default:U(()=>[(_t(!0),vn(Is,null,Ya(fe.value,ot=>(_t(),co(cs,{title:ot.Personne,subtitle:Qe(ot.Equipier.Roles)},{append:U(()=>[z(ca,null,{default:U(()=>[z(sn,{cols:"2","align-self":"center"},{default:U(()=>[z(j2,{text:`${ot.Personne} a son anniveraire pendant le séjour !`},{activator:U(({props:Bt})=>[z(Vn,ku({ref_for:!0},Bt,{color:"pink"}),{default:U(()=>[...ye[12]||(ye[12]=[Ct("mdi-cake-variant",-1)])]),_:1},16)]),_:1},8,["text"])]),_:2},1024),z(sn,{"align-self":"center"},{default:U(()=>[z(nh,{"prepend-icon":Oe(ot.Equipier.FormStatus).icon,color:Oe(ot.Equipier.FormStatus).color},{default:U(()=>[Ct(rr(Dn(BJ)[ot.Equipier.FormStatus]),1)]),_:2},1032,["prepend-icon","color"])]),_:2},1024),ot.Equipier.FormStatus==Dn(nR).Answered&&!ot.Equipier.AccepteCharte.Bool?(_t(),co(sn,{key:0,"align-self":"center"},{default:U(()=>[z(nh,{color:"warning"},{default:U(()=>[...ye[13]||(ye[13]=[Ct("Charte non acceptée",-1)])]),_:1})]),_:1})):gr("",!0),z(sn,{"align-self":"center"},{default:U(()=>[z(Sg,null,{activator:U(({props:Bt})=>[z(Do,ku({ref_for:!0},Bt,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:U(()=>[z(mc,null,{default:U(()=>[z(cs,{title:"Inviter",subtitle:"Envoi un mail avec le lien vers le formulaire","prepend-icon":"mdi-email",onClick:Bt=>We(ot.Equipier.Id)},null,8,["onClick"]),z(cs,{title:"Aller au formulaire","prepend-icon":"mdi-open-in-new",href:ot.FormURL,target:"_blank"},null,8,["href"]),z(qi),z(cs,{title:"Supprimer","prepend-icon":"mdi-delete",onClick:Bt=>Et.value=ot},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1}),z(Xa,{modelValue:_e.value,"onUpdate:modelValue":ye[3]||(ye[3]=ot=>_e.value=ot)},{default:U(()=>[z(ote,{equipiers:fe.value},null,8,["equipiers"])]),_:1},8,["modelValue"]),z(Xa,{modelValue:ke.value,"onUpdate:modelValue":ye[4]||(ye[4]=ot=>ke.value=ot),"max-width":"600px"},{default:U(()=>[z(ste,{onCreate:Be})]),_:1},8,["modelValue"]),z(Xa,{"model-value":Et.value!=null,"onUpdate:modelValue":ye[5]||(ye[5]=ot=>Et.value=null),"max-width":"400px"},{default:U(()=>[Et.value?(_t(),co(Xs,{key:0,title:"Confirmation"},{default:U(()=>[z(Hs,null,{default:U(()=>[Ct(" Confirmez-vous la suppression de l'équipier "+rr(Et.value.Personne)+" ? ",1),ye[14]||(ye[14]=qo("br",null,null,-1)),ye[15]||(ye[15]=qo("br",null,null,-1)),ye[16]||(ye[16]=Ct(" Attention, cette opération est irréversible. ",-1))]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{color:"red",onClick:kt},{default:U(()=>[...ye[17]||(ye[17]=[Ct(" Supprimer ",-1)])]),_:1})]),_:1})]),_:1})):gr("",!0)]),_:1},8,["model-value"])],64))}});var FL={exports:{}},RV;function ite(){return RV||(RV=1,function(ne){(function(){var fe=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},Pe=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},_e=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},Qe=function(e,t){return Oe(function(o,s){return e.eq(t(o),t(s))})},Oe=function(e){return{eq:e}},ke=Oe(function(e,t){return e===t}),Be=ke,We=function(e){return Oe(function(t,o){if(t.length!==o.length)return!1;for(var s=t.length,a=0;a<s;a++)if(!e.eq(t[a],o[a]))return!1;return!0})},tt=function(e,t){return Qe(We(e),function(o){return _e(o,t)})},Et=function(e){return Oe(function(t,o){var s=Object.keys(t),a=Object.keys(o);if(!tt(Be).eq(s,a))return!1;for(var c=s.length,d=0;d<c;d++){var f=s[d];if(!e.eq(t[f],o[f]))return!1}return!0})},kt=Oe(function(e,t){if(e===t)return!0;var o=fe(e),s=fe(t);return o!==s?!1:Pe(o)?e===t:o==="array"?We(kt).eq(e,t):o==="object"?Et(kt).eq(e,t):!1});const Je=Object.getPrototypeOf,ye=(e,t,o)=>{var s;return o(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},ot=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&ye(e,String,(o,s)=>s.isPrototypeOf(o))?"string":t},Bt=e=>t=>ot(t)===e,yt=e=>t=>typeof t===e,ue=e=>t=>e===t,pe=(e,t)=>te(e)&&ye(e,t,(o,s)=>Je(o)===s),Re=Bt("string"),te=Bt("object"),gt=e=>pe(e,Object),me=Bt("array"),ln=ue(null),gs=yt("boolean"),Os=ue(void 0),Qo=e=>e==null,He=e=>!Qo(e),so=yt("function"),E=yt("number"),Oo=(e,t)=>{if(me(e)){for(let o=0,s=e.length;o<s;++o)if(!t(e[o]))return!1;return!0}return!1},Ro=()=>{},Hn=(e,t)=>(...o)=>e(t.apply(null,o)),da=(e,t)=>o=>e(t(o)),ut=e=>()=>e,_n=e=>e,Ai=(e,t)=>e===t;function Ve(e,...t){return(...o)=>{const s=t.concat(o);return e.apply(null,s)}}const Ce=e=>t=>!e(t),bt=e=>()=>{throw new Error(e)},cn=e=>e(),Co=e=>{e()},_o=ut(!1),Uo=ut(!0);class P{constructor(t,o){this.tag=t,this.value=o}static some(t){return new P(!0,t)}static none(){return P.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?P.some(t(this.value)):P.none()}bind(t){return this.tag?t(this.value):P.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:P.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return He(t)?P.some(t):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const Qs=Array.prototype.slice,ks=Array.prototype.indexOf,Fo=Array.prototype.push,ui=(e,t)=>ks.call(e,t),pr=(e,t)=>{const o=ui(e,t);return o===-1?P.none():P.some(o)},$o=(e,t)=>ui(e,t)>-1,In=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];if(t(a,o))return!0}return!1},Mo=(e,t)=>{const o=e.length,s=new Array(o);for(let a=0;a<o;a++){const c=e[a];s[a]=t(c,a)}return s},je=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];t(a,o)}},ct=(e,t)=>{for(let o=e.length-1;o>=0;o--){const s=e[o];t(s,o)}},At=(e,t)=>{const o=[],s=[];for(let a=0,c=e.length;a<c;a++){const d=e[a];(t(d,a)?o:s).push(d)}return{pass:o,fail:s}},ft=(e,t)=>{const o=[];for(let s=0,a=e.length;s<a;s++){const c=e[s];t(c,s)&&o.push(c)}return o},Wn=(e,t)=>{if(e.length===0)return[];{let o=t(e[0]);const s=[];let a=[];for(let c=0,d=e.length;c<d;c++){const f=e[c],b=t(f);b!==o&&(s.push(a),a=[]),o=b,a.push(f)}return a.length!==0&&s.push(a),s}},mn=(e,t,o)=>(ct(e,(s,a)=>{o=t(o,s,a)}),o),zo=(e,t,o)=>(je(e,(s,a)=>{o=t(o,s,a)}),o),Wc=(e,t,o)=>{for(let s=0,a=e.length;s<a;s++){const c=e[s];if(t(c,s))return P.some(c);if(o(c,s))break}return P.none()},Cn=(e,t)=>Wc(e,t,_o),Rs=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];if(t(a,o))return P.some(o)}return P.none()},qc=(e,t)=>{for(let o=e.length-1;o>=0;o--)if(t(e[o],o))return P.some(o);return P.none()},Gc=e=>{const t=[];for(let o=0,s=e.length;o<s;++o){if(!me(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Fo.apply(t,e[o])}return t},ar=(e,t)=>Gc(Mo(e,t)),Pa=(e,t)=>{for(let o=0,s=e.length;o<s;++o){const a=e[o];if(t(a,o)!==!0)return!1}return!0},ua=e=>{const t=Qs.call(e,0);return t.reverse(),t},Ol=(e,t)=>ft(e,o=>!$o(t,o)),Tr=(e,t)=>{const o={};for(let s=0,a=e.length;s<a;s++){const c=e[s];o[String(c)]=t(c,s)}return o},Jt=(e,t)=>{const o=Qs.call(e,0);return o.sort(t),o},rn=(e,t)=>t>=0&&t<e.length?P.some(e[t]):P.none(),qn=e=>rn(e,0),Vs=e=>rn(e,e.length-1),Nt=so(Array.from)?Array.from:e=>Qs.call(e),Ti=(e,t)=>{for(let o=0;o<e.length;o++){const s=t(e[o],o);if(s.isSome())return s}return P.none()},gc=(e,t)=>{const o=[],s=so(t)?a=>In(o,c=>t(c,a)):a=>$o(o,a);for(let a=0,c=e.length;a<c;a++){const d=e[a];s(d)||o.push(d)}return o},ma=Object.keys,Ps=Object.hasOwnProperty,Jo=(e,t)=>{const o=ma(e);for(let s=0,a=o.length;s<a;s++){const c=o[s],d=e[c];t(d,c)}},$r=(e,t)=>Eg(e,(o,s)=>({k:s,v:t(o,s)})),Eg=(e,t)=>{const o={};return Jo(e,(s,a)=>{const c=t(s,a);o[c.k]=c.v}),o},fc=e=>(t,o)=>{e[o]=t},Go=(e,t,o,s)=>{Jo(e,(a,c)=>{(t(a,c)?o:s)(a,c)})},Ur=(e,t)=>{const o={},s={};return Go(e,t,fc(o),fc(s)),{t:o,f:s}},Dr=(e,t)=>{const o={};return Go(e,t,fc(o),Ro),o},wa=(e,t)=>{const o=[];return Jo(e,(s,a)=>{o.push(t(s,a))}),o},Ss=e=>wa(e,_n),An=(e,t)=>vo(e,t)?P.from(e[t]):P.none(),vo=(e,t)=>Ps.call(e,t),Ae=(e,t)=>vo(e,t)&&e[t]!==void 0&&e[t]!==null,Fd=(e,t,o=kt)=>Et(o).eq(e,t),ll={generate:e=>{if(!me(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return je(e,(s,a)=>{const c=ma(s);if(c.length!==1)throw new Error("one and only one name per case");const d=c[0],f=s[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!me(f))throw new Error("case arguments must be an array");t.push(d),o[d]=(...b)=>{const w=b.length;if(w!==f.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+f.length+" ("+f+"), got "+w);return{fold:(...R)=>{if(R.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+R.length);return R[a].apply(null,b)},match:R=>{const N=ma(R);if(t.length!==N.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+N.join(","));if(!Pa(t,ee=>$o(N,ee)))throw new Error("Not all branches were specified when using match. Specified: "+N.join(", ")+`
Required: `+t.join(", "));return R[d].apply(null,b)},log:R=>{console.log(R,{constructors:t,constructor:d,params:b})}}}}),o}},$n=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}},cl=e=>{const t=c=>c(e),o=ut(e),s=()=>a,a={tag:!0,inner:e,fold:(c,d)=>d(e),isValue:Uo,isError:_o,map:c=>$s.value(c(e)),mapError:s,bind:t,exists:t,forall:t,getOr:o,or:s,getOrThunk:o,orThunk:s,getOrDie:o,each:c=>{c(e)},toOptional:()=>P.some(e)};return a},Rl=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(s,a)=>s(e),isValue:_o,isError:Uo,map:t,mapError:s=>$s.error(s(e)),bind:t,exists:_o,forall:Uo,getOr:_n,or:_n,getOrThunk:cn,orThunk:cn,getOrDie:bt(String(e)),each:Ro,toOptional:P.none};return o},$s={value:cl,error:Rl,fromOption:(e,t)=>e.fold(()=>Rl(t),cl)},fm=typeof window<"u"?window:Function("return this;")(),Us=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},Zr=()=>{const e=Us(),t=(o,s)=>{let a="";for(let c=o;c<=s;++c){const d=e[c].toString(16).padStart(2,"0");a+=d}return a};return`${t(0,3)}-${t(4,5)}-${t(6,7)}-${t(8,9)}-${t(10,15)}`},Fn=(e,t,o)=>Math.min(Math.max(e,t),o),Nl=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let os=0;const Zs=e=>{const o=new Date().getTime(),s=Math.floor(Nl()*1e9);return os++,e+"_"+s+os+String(o)},Su=()=>window.isSecureContext?window.crypto.randomUUID():Zr(),Hd=(e,t)=>t,Eu=(e,t)=>gt(e)&&gt(t)?pc(e,t):t,Ml=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let s=0;s<t.length;s++){const a=t[s];for(const c in a)vo(a,c)&&(o[c]=e(o[c],a[c]))}return o},pc=Ml(Eu),Au=Ml(Hd),hr=(e,t,o=Ai)=>e.exists(s=>o(s,t)),Tu=(e,t,o=Ai)=>Es(e,t,o).getOr(e.isNone()&&t.isNone()),rh=e=>{const t=[],o=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(o);return t},Es=(e,t,o)=>e.isSome()&&t.isSome()?P.some(o(e.getOrDie(),t.getOrDie())):P.none(),Ag=(e,t,o,s)=>e.isSome()&&t.isSome()&&o.isSome()?P.some(s(e.getOrDie(),t.getOrDie(),o.getOrDie())):P.none(),Ft=e=>e.bind(_n),Vd=(e,t)=>e?P.some(t):P.none(),Tg=(e,t)=>{let o=t??fm;for(let s=0;s<e.length&&o!==void 0&&o!==null;++s)o=o[e[s]];return o},Dg=(e,t)=>{const o=e.split(".");return Tg(o,t)};ll.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Kc=e=>{const t=[],o=[];return je(e,s=>{s.fold(a=>{t.push(a)},a=>{o.push(a)})}),{errors:t,values:o}},Og=e=>{const t=$n(P.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(P.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:f=>{o(),t.set(P.some(f))}}},$f=e=>{const t=$n(P.none()),o=()=>t.get().each(f=>clearInterval(f));return{clear:()=>{o(),t.set(P.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:f=>{o(),t.set(P.some(setInterval(f,e)))}}},Bl=()=>{const e=Og(Ro);return{...e,on:o=>e.get().each(o)}},mi=(e,t)=>e.substring(t),Uf=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Zf=(e,t)=>Ls(e,t)?mi(e,t.length):e,Zo=(e,t,o=0,s)=>{const a=e.indexOf(t,o);return a!==-1?Os(s)?!0:a+t.length<=s:!1},Ls=(e,t)=>Uf(e,t,0),Rg=(e,t)=>Uf(e,t,e.length-t.length),Yc=e=>t=>t.replace(e,""),Il=Yc(/^\s+|\s+$/g),jf=Yc(/^\s+/g),pm=Yc(/\s+$/g),jr=e=>e.length>0,Xc=e=>!jr(e),ah=(e,t)=>t<=0?"":new Array(t+1).join(e),Du=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?P.none():P.some(o)},ys=(e,t)=>{let o=null;return{cancel:()=>{ln(o)||(clearTimeout(o),o=null)},throttle:(...c)=>{ln(o)&&(o=setTimeout(()=>{o=null,e.apply(null,c)},t))}}},$d=(e,t)=>{let o=null;const s=()=>{ln(o)||(clearTimeout(o),o=null)};return{cancel:s,throttle:(...c)=>{s(),o=setTimeout(()=>{o=null,e.apply(null,c)},t)}}},gi=e=>{let t=!1,o;return(...s)=>(t||(t=!0,o=e.apply(null,s)),o)},Qc="\uFEFF",Fs=" ",Di="…",Oi=e=>e===Qc,Wf=e=>e.replace(/\uFEFF/g,""),hm=e=>{const t={};return je(e,o=>{t[o]={}}),ma(t)},ga=e=>e.length!==void 0,Ud=Array.isArray,Zd=e=>{if(Ud(e))return e;{const t=[];for(let o=0,s=e.length;o<s;o++)t[o]=e[o];return t}},dl=(e,t,o)=>{if(!e)return!1;if(o=o||e,ga(e)){for(let s=0,a=e.length;s<a;s++)if(t.call(o,e[s],s,e)===!1)return!1}else for(const s in e)if(vo(e,s)&&t.call(o,e[s],s,e)===!1)return!1;return!0},bm=(e,t)=>{const o=[];return dl(e,(s,a)=>{o.push(t(s,a,e))}),o},jd=(e,t)=>{const o=[];return dl(e,(s,a)=>{(!t||t(s,a,e))&&o.push(s)}),o},Ng=(e,t)=>{if(e){for(let o=0,s=e.length;o<s;o++)if(e[o]===t)return o}return-1},Jc=(e,t,o,s)=>{let a=Os(o)?e[0]:o;for(let c=0;c<e.length;c++)a=t.call(s,a,e[c],c);return a},Qa=(e,t,o)=>{for(let s=0,a=e.length;s<a;s++)if(t.call(o,e[s],s,e))return s;return-1},Z=e=>e[e.length-1],ae=(e,t,o,s)=>{const a=e.isiOS()&&/ipad/i.test(o)===!0,c=e.isiOS()&&!a,d=e.isiOS()||e.isAndroid(),f=d||s("(pointer:coarse)"),b=a||!c&&d&&s("(min-device-width:768px)"),w=c||d&&!b,T=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,R=!w&&!b&&!T;return{isiPad:ut(a),isiPhone:ut(c),isTablet:ut(b),isPhone:ut(w),isTouch:ut(f),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ut(T),isDesktop:ut(R)}},we=(e,t)=>{for(let o=0;o<e.length;o++){const s=e[o];if(s.test(t))return s}},nt=(e,t)=>{const o=we(e,t);if(!o)return{major:0,minor:0};const s=a=>Number(t.replace(o,"$"+a));return en(s(1),s(2))},Rt=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?Zt():nt(e,o)},Zt=()=>en(0,0),en=(e,t)=>({major:e,minor:t}),Gn={nu:en,detect:Rt,unknown:Zt},jo=(e,t)=>Ti(t.brands,o=>{const s=o.brand.toLowerCase();return Cn(e,a=>{var c;return s===((c=a.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(a=>({current:a.name,version:Gn.nu(parseInt(o.version,10),0)}))}),B=(e,t)=>{const o=String(t).toLowerCase();return Cn(e,s=>s.search(o))},q=(e,t)=>B(e,t).map(o=>{const s=Gn.detect(o.versionRegexes,t);return{current:o.name,version:s}}),ie=(e,t)=>B(e,t).map(o=>{const s=Gn.detect(o.versionRegexes,t);return{current:o.name,version:s}}),De=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zt=e=>t=>Zo(t,e),gn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Zo(e,"edge/")&&Zo(e,"chrome")&&Zo(e,"safari")&&Zo(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,De],search:e=>Zo(e,"chrome")&&!Zo(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Zo(e,"msie")||Zo(e,"trident")},{name:"Opera",versionRegexes:[De,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zt("firefox")},{name:"Safari",versionRegexes:[De,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Zo(e,"safari")||Zo(e,"mobile/"))&&Zo(e,"applewebkit")}],ns=[{name:"Windows",search:zt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Zo(e,"iphone")||Zo(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:zt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zt("linux"),versionRegexes:[]},{name:"Solaris",search:zt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Or={browsers:ut(gn),oses:ut(ns)},Un="Edge",fa="Chromium",_a="IE",Gi="Opera",ir="Firefox",ul="Safari",ed=()=>Ca({current:void 0,version:Gn.unknown()}),Ca=e=>{const t=e.current,o=e.version,s=a=>()=>t===a;return{current:t,version:o,isEdge:s(Un),isChromium:s(fa),isIE:s(_a),isOpera:s(Gi),isFirefox:s(ir),isSafari:s(ul)}},Pl={unknown:ed,nu:Ca},ih="Windows",qf="iOS",Kr="Android",Mg="Linux",xm="macOS",td="Solaris",Qb="FreeBSD",ka="ChromeOS",lh=()=>Ou({current:void 0,version:Gn.unknown()}),Ou=e=>{const t=e.current,o=e.version,s=a=>()=>t===a;return{current:t,version:o,isWindows:s(ih),isiOS:s(qf),isAndroid:s(Kr),isMacOS:s(xm),isLinux:s(Mg),isSolaris:s(td),isFreeBSD:s(Qb),isChromeOS:s(ka)}},La={unknown:lh,nu:Ou},od={detect:(e,t,o)=>{const s=Or.browsers(),a=Or.oses(),c=t.bind(b=>jo(s,b)).orThunk(()=>q(s,e)).fold(Pl.unknown,Pl.nu),d=ie(a,e).fold(La.unknown,La.nu),f=ae(d,c,e,o);return{browser:c,os:d,deviceType:f}}},W1=e=>window.matchMedia(e).matches;let br=gi(()=>od.detect(window.navigator.userAgent,P.from(window.navigator.userAgentData),W1));const Ki=()=>br(),Wd=(e,t)=>Dg(e,t),nd=(e,t)=>{const o=Wd(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},Fa=Object.getPrototypeOf,Ll=e=>nd("HTMLElement",e),Jb=e=>{const t=Dg("ownerDocument.defaultView",e);return te(e)&&(Ll(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Fa(e).constructor.name))},ex=window.navigator.userAgent,Ri=Ki(),fi=Ri.browser,ml=Ri.os,io=Ri.deviceType,G2=ex.indexOf("Windows Phone")!==-1,Eo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:fi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!fi.isIE(),windowsPhone:G2,browser:{current:fi.current,version:fi.version,isChromium:fi.isChromium,isEdge:fi.isEdge,isFirefox:fi.isFirefox,isIE:fi.isIE,isOpera:fi.isOpera,isSafari:fi.isSafari},os:{current:ml.current,version:ml.version,isAndroid:ml.isAndroid,isChromeOS:ml.isChromeOS,isFreeBSD:ml.isFreeBSD,isiOS:ml.isiOS,isLinux:ml.isLinux,isMacOS:ml.isMacOS,isSolaris:ml.isSolaris,isWindows:ml.isWindows},deviceType:{isDesktop:io.isDesktop,isiPad:io.isiPad,isiPhone:io.isiPhone,isPhone:io.isPhone,isTablet:io.isTablet,isTouch:io.isTouch,isWebView:io.isWebView}},Yr=/^\s*|\s*$/g,q1=e=>Qo(e)?"":(""+e).replace(Yr,""),js=(e,t)=>t?t==="array"&&Ud(e)?!0:typeof e===t:e!==void 0,G1=(e,t,o={})=>{const s=Re(e)?e.split(t||","):e||[];let a=s.length;for(;a--;)o[s[a]]={};return o},qd=vo,tx=(e,...t)=>{for(let o=0;o<t.length;o++){const s=t[o];for(const a in s)if(vo(s,a)){const c=s[a];c!==void 0&&(e[a]=c)}}return e},vm=function(e,t,o,s){s=s||this,e&&(o&&(e=e[o]),dl(e,(a,c)=>t.call(s,a,c,o)===!1?!1:(vm(a,t,o,s),!0)))},it={trim:q1,isArray:Ud,is:js,toArray:Zd,makeMap:G1,each:dl,map:bm,grep:jd,inArray:Ng,hasOwn:qd,extend:tx,walk:vm,resolve:(e,t=window)=>{const o=e.split(".");for(let s=0,a=o.length;s<a&&(t=t[o[s]],!!t);s++);return t},explode:(e,t)=>me(e)?e:e===""?[]:bm(e.split(t||","),q1),_addCacheSuffix:e=>{const t=Eo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},lr=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return sd(s.childNodes[0])},K2=(e,t)=>{const s=(t||document).createElement(e);return sd(s)},ox=(e,t)=>{const s=(t||document).createTextNode(e);return sd(s)},sd=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},oe={fromHtml:lr,fromTag:K2,fromText:ox,fromDom:sd,fromPoint:(e,t,o)=>P.from(e.dom.elementFromPoint(t,o)).map(sd)},ym=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,s)=>{e.setStart(o.dom,s)},o=>{e.setStartAfter(o.dom)})},za=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,s)=>{e.setEnd(o.dom,s)},o=>{e.setEndAfter(o.dom)})},K1=(e,t,o)=>{const s=e.document.createRange();return ym(s,t),za(s,o),s},cr=(e,t,o,s,a)=>{const c=e.document.createRange();return c.setStart(t.dom,o),c.setEnd(s.dom,a),c},Ru=ll.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),rd=(e,t,o)=>t(oe.fromDom(o.startContainer),o.startOffset,oe.fromDom(o.endContainer),o.endOffset),fn=(e,t)=>t.match({domRange:o=>({ltr:ut(o),rtl:P.none}),relative:(o,s)=>({ltr:gi(()=>K1(e,o,s)),rtl:gi(()=>P.some(K1(e,s,o)))}),exact:(o,s,a,c)=>({ltr:gi(()=>cr(e,o,s,a,c)),rtl:gi(()=>P.some(cr(e,a,c,o,s)))})}),ch=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(a=>a.collapsed===!1).map(a=>Ru.rtl(oe.fromDom(a.endContainer),a.endOffset,oe.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>rd(e,Ru.ltr,o)):rd(e,Ru.ltr,o)},nx=(e,t)=>{const o=fn(e,t);return ch(e,o)};Ru.ltr,Ru.rtl;const Pg=8,Rr=9,Nu=11,Gd=1,Lg=3,Pn=(e,t)=>{const o=e.dom;if(o.nodeType!==Gd)return!1;{const s=o;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Kd=e=>e.nodeType!==Gd&&e.nodeType!==Rr&&e.nodeType!==Nu||e.childElementCount===0,Fg=(e,t)=>{const o=t===void 0?document:t.dom;return Kd(o)?[]:Mo(o.querySelectorAll(e),oe.fromDom)},As=(e,t)=>{const o=t===void 0?document:t.dom;return Kd(o)?P.none():P.from(o.querySelector(e)).map(oe.fromDom)},tn=(e,t)=>e.dom===t.dom,Nr=(e,t)=>{const o=e.dom,s=t.dom;return o===s?!1:o.contains(s)},wm=Pn,Ni=(e,t)=>{const o=[],s=c=>(o.push(c),t(c));let a=t(e);do a=a.bind(s);while(a.isSome());return o},Ho=e=>e.dom.nodeName.toLowerCase(),sx=e=>e.dom.nodeType,zg=e=>t=>sx(t)===e,rx=e=>sx(e)===Pg||Ho(e)==="#comment",Yd=e=>dr(e)&&Jb(e.dom),dr=zg(Gd),Ja=zg(Lg),Y2=zg(Rr),X2=zg(Nu),Xr=e=>t=>dr(t)&&Ho(t)===e,ax=e=>oe.fromDom(e.dom.ownerDocument),hc=e=>Y2(e)?e:ax(e),rs=e=>oe.fromDom(hc(e).dom.documentElement),gl=e=>oe.fromDom(hc(e).dom.defaultView),Yi=e=>P.from(e.dom.parentNode).map(oe.fromDom),_m=e=>P.from(e.dom.parentElement).map(oe.fromDom),ei=(e,t)=>{const o=so(t)?t:_o;let s=e.dom;const a=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const c=s.parentNode,d=oe.fromDom(c);if(a.push(d),o(d)===!0)break;s=c}return a},Kf=e=>{const t=o=>ft(o,s=>!tn(e,s));return Yi(e).map(on).map(t).getOr([])},Fl=e=>P.from(e.dom.previousSibling).map(oe.fromDom),ad=e=>P.from(e.dom.nextSibling).map(oe.fromDom),ws=e=>ua(Ni(e,Fl)),Y1=e=>Ni(e,ad),on=e=>Mo(e.dom.childNodes,oe.fromDom),ur=(e,t)=>{const o=e.dom.childNodes;return P.from(o[t]).map(oe.fromDom)},zl=e=>ur(e,0),Qr=e=>ur(e,e.dom.childNodes.length-1),Yf=e=>e.dom.childNodes.length,Jr=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return oe.fromDom(t)},Xd=e=>X2(e)&&He(e.dom.host),Qd=e=>oe.fromDom(e.dom.getRootNode()),ea=e=>Xd(e)?e:Jr(hc(e)),dh=e=>Xd(e)?e:oe.fromDom(hc(e).dom.body),uh=e=>{const t=Qd(e);return Xd(t)?P.some(t):P.none()},ix=e=>oe.fromDom(e.dom.host),mh=e=>{if(He(e.target)){const t=oe.fromDom(e.target);if(dr(t)&&gh(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return qn(o)}}return P.from(e.target)},gh=e=>He(e.dom.shadowRoot),X1=(e,t,o,s,a,c,d)=>({target:e,x:t,y:o,stop:s,prevent:a,kill:c,raw:d}),Q1=e=>{const t=oe.fromDom(mh(e).getOr(e.target)),o=()=>e.stopPropagation(),s=()=>e.preventDefault(),a=Hn(s,o);return X1(t,e.clientX,e.clientY,o,s,a,e)},J1=(e,t)=>o=>{e(o)&&t(Q1(o))},e0=(e,t,o,s,a)=>{const c=J1(o,s);return e.dom.addEventListener(t,c,a),{unbind:Ve(t0,e,t,c,a)}},id=(e,t,o,s)=>e0(e,t,o,s,!1),t0=(e,t,o,s)=>{e.dom.removeEventListener(t,o,s)},Q2=Uo,lx=(e,t,o)=>id(e,t,Q2,o),ti=()=>oe.fromDom(document),Hg=(e,t=!1)=>e.dom.focus({preventScroll:t}),bc=e=>{const t=Qd(e).dom;return e.dom===t.activeElement},Jd=(e=ti())=>P.from(e.dom.activeElement).map(oe.fromDom),o0=e=>Jd(Qd(e)).filter(t=>e.dom.contains(t.dom)),ta=(e,t)=>{Yi(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},Hl=(e,t)=>{ad(e).fold(()=>{Yi(e).each(a=>{dn(a,t)})},s=>{ta(s,t)})},xc=(e,t)=>{zl(e).fold(()=>{dn(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},dn=(e,t)=>{e.dom.appendChild(t.dom)},xr=(e,t)=>{ta(e,t),dn(t,e)},Mu=(e,t)=>{je(t,o=>{ta(e,o)})},fh=(e,t)=>{je(t,(o,s)=>{const a=s===0?e:t[s-1];Hl(a,o)})},Ws=(e,t)=>{je(t,o=>{dn(e,o)})},n0=(e,t,o)=>{if(Re(o)||gs(o)||E(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Wr=(e,t,o)=>{n0(e.dom,t,o)},Xi=(e,t)=>{const o=e.dom;Jo(t,(s,a)=>{n0(o,a,s)})},Js=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},vc=(e,t)=>P.from(Js(e,t)),Cm=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Mr=(e,t)=>{e.dom.removeAttribute(t)},Bu=e=>{const t=e.dom.attributes;return t==null||t.length===0},yc=e=>zo(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),Iu=e=>{e.dom.textContent="",je(on(e),t=>{ds(t)})},ds=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Mi=e=>{const t=on(e);t.length>0&&fh(e,t),ds(e)},km=(e,t)=>oe.fromDom(e.dom.cloneNode(t)),ld=e=>km(e,!1),Bi=e=>km(e,!0),s0=(e,t)=>{const o=oe.fromTag(t),s=yc(e);return Xi(o,s),o},Vg=(e,t)=>{const o=s0(e,t);Hl(e,o);const s=on(e);return Ws(o,s),ds(e),o},vr=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,on(oe.fromDom(s))},fl=e=>Mo(e,oe.fromDom),Xf=e=>e.dom.innerHTML,Sm=(e,t)=>{const s=ax(e).dom,a=oe.fromDom(s.createDocumentFragment()),c=vr(t,s);Ws(a,c),Iu(e),dn(e,a)},J2=e=>{const t=oe.fromTag("div"),o=oe.fromDom(e.dom.cloneNode(!0));return dn(t,o),Xf(t)},Em=e=>e.style!==void 0&&so(e.style.getPropertyValue),eu=e=>{const t=Ja(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return uh(oe.fromDom(t)).fold(()=>o.body.contains(t),da(eu,ix))},r0=(e,t,o)=>{if(!Re(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Em(e)&&e.style.setProperty(t,o)},cx=(e,t)=>{Em(e)&&e.style.removeProperty(t)},$g=(e,t,o)=>{const s=e.dom;r0(s,t,o)},Qf=(e,t)=>{const o=e.dom;Jo(t,(s,a)=>{r0(o,a,s)})},pl=(e,t)=>{const o=e.dom,a=window.getComputedStyle(o).getPropertyValue(t);return a===""&&!eu(e)?ey(o,t):a},ey=(e,t)=>Em(e)?e.style.getPropertyValue(t):"",Am=(e,t)=>{const o=e.dom,s=ey(o,t);return P.from(s).filter(a=>a.length>0)},Tm=e=>{const t={},o=e.dom;if(Em(o))for(let s=0;s<o.style.length;s++){const a=o.style.item(s);t[a]=o.style[a]}return t},pi=(e,t)=>{const o=e.dom;cx(o,t),hr(vc(e,"style").map(Il),"")&&Mr(e,"style")},go=e=>e.dom.offsetWidth,ph=((e,t)=>{const o=(f,b)=>{if(!E(b)&&!b.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+b);const w=f.dom;Em(w)&&(w.style[e]=b+"px")},s=f=>{const b=t(f);if(b<=0||b===null){const w=pl(f,e);return parseFloat(w)||0}return b},a=s,c=(f,b)=>zo(b,(w,T)=>{const R=pl(f,T),N=R===void 0?0:parseInt(R,10);return isNaN(N)?w:w+N},0);return{set:o,get:s,getOuter:a,aggregate:c,max:(f,b,w)=>{const T=c(f,w);return b>T?b-T:0}}})("height",e=>{const t=e.dom;return eu(e)?t.getBoundingClientRect().height:t.offsetHeight}),ty=e=>ph.get(e),hh=(e,t)=>({left:e,top:t,translate:(s,a)=>hh(e+s,t+a)}),cd=hh,bh=e=>{const t=e.getBoundingClientRect();return cd(t.left,t.top)},xh=(e,t)=>e!==void 0?e:t!==void 0?t:0,Ts=e=>{const t=e.dom.ownerDocument,o=t.body,s=t.defaultView,a=t.documentElement;if(o===e.dom)return cd(o.offsetLeft,o.offsetTop);const c=xh(s?.pageYOffset,a.scrollTop),d=xh(s?.pageXOffset,a.scrollLeft),f=xh(a.clientTop,o.clientTop),b=xh(a.clientLeft,o.clientLeft);return Ii(e).translate(d-b,c-f)},Ii=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?cd(s.offsetLeft,s.offsetTop):eu(e)?bh(t):cd(0,0)},Ha=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return cd(o,s)},Pu=(e,t,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(e,t)},oi=(e,t)=>{Ki().browser.isSafari()&&so(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},vh=(e,t)=>{const o=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return s(c).getOr("")},s=c=>e(c)?P.from(c.dom.nodeValue):P.none();return{get:o,getOption:s,set:(c,d)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=d}}},yr=(e,t)=>{const s=document.createDocumentFragment();return je(e,a=>{s.appendChild(a.dom)}),oe.fromDom(s)},Sa=vh(Ja,"text"),dd=e=>Sa.get(e),dt=e=>Sa.getOption(e),Pi=(e,t)=>Sa.set(e,t),Om=(e,t)=>{const o=Js(e,t);return o===void 0||o===""?[]:o.split(" ")},Br=(e,t,o)=>{const a=Om(e,t).concat([o]);return Wr(e,t,a.join(" ")),!0},wc=(e,t,o)=>{const s=ft(Om(e,t),a=>a!==o);return s.length>0?Wr(e,t,s.join(" ")):Mr(e,t),!1};var hl=(e,t,o,s,a)=>e(o,s)?P.some(o):so(a)&&a(o)?P.none():t(o,s,a);const ni=(e,t,o)=>{let s=e.dom;const a=so(o)?o:_o;for(;s.parentNode;){s=s.parentNode;const c=oe.fromDom(s);if(t(c))return P.some(c);if(a(c))break}return P.none()},Li=(e,t,o)=>hl((a,c)=>c(a),ni,e,t,o),si=(e,t)=>{const o=e.dom;return o.parentNode?Rn(oe.fromDom(o.parentNode),s=>!tn(e,s)&&t(s)):P.none()},Rn=(e,t)=>{const o=a=>t(oe.fromDom(a));return Cn(e.dom.childNodes,o).map(oe.fromDom)},Fi=(e,t)=>{const o=s=>{for(let a=0;a<s.childNodes.length;a++){const c=oe.fromDom(s.childNodes[a]);if(t(c))return P.some(c);const d=o(s.childNodes[a]);if(d.isSome())return d}return P.none()};return o(e.dom)},qs=(e,t,o)=>ni(e,s=>Pn(s,t),o),zs=(e,t)=>As(t,e),ud=(e,t,o)=>hl((a,c)=>Pn(a,c),qs,e,t,o),Ir=e=>e.dom.classList!==void 0,Rm=e=>Om(e,"class"),hi=(e,t)=>Br(e,"class",t),Le=(e,t)=>wc(e,"class",t),Vl=(e,t)=>$o(Rm(e),t)?Le(e,t):hi(e,t),$l=(e,t)=>{Ir(e)?e.dom.classList.add(t):hi(e,t)},_s=e=>{(Ir(e)?e.dom.classList:Rm(e)).length===0&&Mr(e,"class")},zi=(e,t)=>{Ir(e)?e.dom.classList.remove(t):Le(e,t),_s(e)},Ea=(e,t)=>{const o=Ir(e)?e.dom.classList.toggle(t):Vl(e,t);return _s(e),o},as=(e,t)=>Ir(e)&&e.dom.classList.contains(t),Lu=(e,t)=>{je(t,o=>{$l(e,o)})},a0=(e,t)=>{je(t,o=>{zi(e,o)})},Ug=e=>ud(e,"[contenteditable]"),Qi=(e,t=!1)=>eu(e)?e.dom.isContentEditable:Ug(e).fold(ut(t),o=>pa(o)==="true"),pa=e=>e.dom.contentEditable,Ul=(e,t)=>{e.dom.contentEditable=t?"true":"false"},Jf=(e,t,o)=>ft(ei(e,o),t),Nm=(e,t)=>ft(on(e),t),Ji=(e,t)=>{let o=[];return je(on(e),s=>{t(s)&&(o=o.concat([s])),o=o.concat(Ji(s,t))}),o},el=(e,t,o)=>Jf(e,s=>Pn(s,t),o),qr=(e,t)=>Fg(t,e),tu=(e,t,o)=>ni(e,t,o).isSome(),i0=(e,t)=>si(e,t).isSome(),ri=(e,t)=>Fi(e,t).isSome(),Zl=(e,t)=>tu(e,Ve(tn,t)),dx=(e,t,o)=>qs(e,t,o).isSome(),_c=e=>so(e)?e:_o,FC=(e,t,o)=>{let s=e.dom;const a=_c(o);for(;s.parentNode;){s=s.parentNode;const c=oe.fromDom(s),d=t(c);if(d.isSome())return d;if(a(c))break}return P.none()},md=(e,t,o)=>{const s=t(e),a=_c(o);return s.orThunk(()=>a(e)?P.none():FC(e,t,a))},Mm=e=>dt(e).filter(t=>t.trim().length!==0||t.indexOf(Fs)>-1).isSome(),Bm=e=>Yd(e)&&Js(e,"contenteditable")==="false",oy=["img","br"],ep=e=>Mm(e)||$o(oy,Ho(e))||Bm(e),zC=e=>Fi(e,ep),Gs={create:(e,t,o,s)=>({start:e,soffset:t,finish:o,foffset:s})},l0=ll.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),jl=(e,t,o,s)=>e.fold(t,o,s),Fu=e=>e.fold(_n,_n,_n),mx=l0.before,Im=l0.on,tl=l0.after,bi={before:mx,on:Im,after:tl,cata:jl,getStart:Fu},zu=ll.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ny=e=>zu.exact(e.start,e.soffset,e.finish,e.foffset),yh=e=>e.match({domRange:t=>oe.fromDom(t.startContainer),relative:(t,o)=>bi.getStart(t),exact:(t,o,s,a)=>t}),gx=zu.domRange,c0=zu.relative,sy=zu.exact,ry=e=>{const t=yh(e);return gl(t)},d0=Gs.create,Wl={domRange:gx,relative:c0,exact:sy,exactFromRange:ny,getWin:ry,range:d0},Cc=(e,t,o)=>{var s;return P.from((s=e.caretPositionFromPoint)===null||s===void 0?void 0:s.call(e,t,o)).bind(a=>{if(a.offsetNode===null)return P.none();const c=e.createRange();return c.setStart(a.offsetNode,a.offset),c.collapse(),P.some(c)})},ou=(e,t,o)=>{var s;return P.from((s=e.caretRangeFromPoint)===null||s===void 0?void 0:s.call(e,t,o))},Zg=(e,t,o)=>e.caretPositionFromPoint?Cc(e,t,o):e.caretRangeFromPoint?ou(e,t,o):P.none(),ay=(e,t,o)=>{const s=e.document;return Zg(s,t,o).map(a=>Gs.create(oe.fromDom(a.startContainer),a.startOffset,oe.fromDom(a.endContainer),a.endOffset))},jg=(e,t)=>{const o=Ho(e);return o==="input"?bi.after(e):$o(["br","img"],o)?t===0?bi.before(e):bi.after(e):bi.on(e,t)},u0=(e,t)=>{const o=e.fold(bi.before,jg,bi.after),s=t.fold(bi.before,jg,bi.after);return Wl.relative(o,s)},wh=(e,t,o,s)=>{const a=jg(e,t),c=jg(o,s);return Wl.relative(a,c)},m0=e=>e.match({domRange:t=>{const o=oe.fromDom(t.startContainer),s=oe.fromDom(t.endContainer);return wh(o,t.startOffset,s,t.endOffset)},relative:u0,exact:wh}),g0=e=>{const t=Wl.getWin(e).dom,o=(a,c,d,f)=>cr(t,a,c,d,f),s=m0(e);return nx(t,s).match({ltr:o,rtl:o})},fx=(e,t,o)=>ay(e,t,o),px=e=>{const t=e===void 0?window:e;return Ki().browser.isFirefox()?P.none():P.from(t.visualViewport)},ql=(e,t,o,s)=>({x:e,y:t,width:o,height:s,right:e+o,bottom:t+s}),kc=e=>{const t=e===void 0?window:e,o=t.document,s=Ha(oe.fromDom(o));return px(t).fold(()=>{const a=t.document.documentElement,c=a.clientWidth,d=a.clientHeight;return ql(s.left,s.top,c,d)},a=>ql(Math.max(a.pageLeft,s.left),Math.max(a.pageTop,s.top),a.width,a.height))};class er{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,s,a){if(t){if(!a&&t[o])return t[o];if(t!==this.rootNode){let c=t[s];if(c)return c;for(let d=t.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(c=d[s],c)return c}}}findPreviousNode(t,o){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!o){for(let c=s.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return s}const a=t.parentNode;if(a&&a!==this.rootNode)return a}}}const iy=/^[ \t\r\n]*$/,Pm=e=>iy.test(e),hx=e=>{for(const t of e)if(!Oi(t))return!1;return!0},f0=e=>" \f	\v".indexOf(e)!==-1,_h=e=>e===`
`||e==="\r",ly=(e,t)=>t<e.length&&t>=0?_h(e[t]):!1,cy=(e,t=4,o=!0,s=!0)=>{const a=ah(" ",t),c=e.replace(/\t/g,a);return zo(c,(f,b)=>f0(b)||b===Fs?f.pcIsSpace||f.str===""&&o||f.str.length===c.length-1&&s||ly(c,f.str.length+1)?{pcIsSpace:!1,str:f.str+Fs}:{pcIsSpace:!0,str:f.str+" "}:{pcIsSpace:_h(b),str:f.str+b},{pcIsSpace:!1,str:""}).str},Hu=e=>t=>!!t&&t.nodeType===e,Sc=e=>!!e&&!Object.getPrototypeOf(e),jt=Hu(1),Io=e=>jt(e)&&Yd(oe.fromDom(e)),Hi=e=>jt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Ec=e=>{const t=e.toLowerCase();return o=>He(o)&&o.nodeName.toLowerCase()===t},bl=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const s=o.nodeName.toLowerCase();return $o(t,s)}return!1}},ss=(e,t)=>{const o=t.toLowerCase().split(" ");return s=>{if(jt(s)){const a=s.ownerDocument.defaultView;if(a)for(let c=0;c<o.length;c++){const d=a.getComputedStyle(s,null);if((d?d.getPropertyValue(e):null)===o[c])return!0}}return!1}},dy=e=>t=>jt(t)&&t.hasAttribute(e),Lm=e=>jt(e)&&e.hasAttribute("data-mce-bogus"),Wg=e=>jt(e)&&e.getAttribute("data-mce-bogus")==="all",Ac=e=>jt(e)&&e.tagName==="TABLE",p0=e=>t=>!!(Io(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Ch=bl(["textarea","input"]),mt=Hu(3),bx=Hu(4),kh=Hu(7),gd=Hu(8),qg=Hu(9),Sh=Hu(11),Ns=Ec("br"),h0=Ec("img"),Eh=Ec("a"),xi=p0("true"),Kn=p0("false"),Gg=e=>Io(e)&&e.isContentEditable&&He(e.parentElement)&&!e.parentElement.isContentEditable,Kg=bl(["td","th"]),b0=bl(["td","th","caption"]),Aa=Ec("template"),vi=bl(["video","audio","object","embed"]),HC=Ec("li"),xx=Ec("details"),VC=Ec("summary"),uy={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},my=(e,t,o)=>{const s=oe.fromDom(t),a=oe.fromDom(e),c=o.getWhitespaceElements();return tu(a,f=>vo(c,Ho(f)),Ve(tn,s))},gy=e=>jt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),x0=(e,t)=>jt(e)&&vo(t.getNonEmptyElements(),e.nodeName),yi=dy("data-mce-bookmark"),Gl=e=>_m(oe.fromDom(e)).exists(t=>!Qi(t)),Tc=(e,t,o)=>Pm(e.data)&&!my(e,t,o),v0=(e,t,o,s)=>mt(e)&&!Tc(e,t,o)&&(!s.includeZwsp||!hx(e.data)),Ah=(e,t,o,s)=>so(s.isContent)&&s.isContent(t)||x0(t,e)||yi(t)||gy(t)||v0(t,o,e,s)||Kn(t)||xi(t)&&Gl(t),Vu=(e,t,o)=>{const s={...uy,...o};if(s.checkRootAsContent&&Ah(e,t,t,s))return!1;let a=t.firstChild,c=0;if(!a)return!0;const d=new er(a,t);do{if(s.skipBogus&&jt(a)){const f=a.getAttribute("data-mce-bogus");if(f){a=d.next(f==="all");continue}}if(gd(a)){a=d.next(!0);continue}if(Ns(a)){c++,a=d.next();continue}if(Ah(e,a,t,s))return!1;a=d.next()}while(a);return c<=1},Ta=(e,t,o)=>Vu(e,t.dom,{checkRootAsContent:!0,...o}),y0=(e,t,o)=>Ah(e,t,t,{includeZwsp:uy.includeZwsp,...o}),fy=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},$u=e=>fy(e)!=="html",Yg=e=>$u(e.nodeName),vx=e=>fy(e.nodeName),yx=["svg","math"],wx=()=>{const e=Bl(),t=()=>e.get().map(vx).getOr("html");return{track:a=>(Yg(a)?e.set(a):e.get().exists(c=>!c.contains(a))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Yn="data-mce-block",Fm=e=>ft(ma(e),t=>!/[A-Z]/.test(t)),tp=e=>Mo(Fm(e),t=>{const o=CSS.escape(t);return`${o}:`+Mo(yx,s=>`not(${s} ${o})`).join(":")}).join(","),w0=(e,t)=>He(t.querySelector(e))?(t.setAttribute(Yn,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Yn),!1),_0=(e,t)=>{const o=tp(e.getTransparentElements()),s=tp(e.getBlockElements());return ft(t.querySelectorAll(o),a=>w0(s,a))},Th=(e,t,o)=>{var s;const a=o?"lastChild":"firstChild";for(let c=t[a];c;c=c[a])if(Vu(e,c,{checkRootAsContent:!0})){(s=c.parentNode)===null||s===void 0||s.removeChild(c);return}},_x=(e,t,o)=>{const s=document.createRange(),a=t.parentNode;if(a){s.setStartBefore(t),s.setEndBefore(o);const c=s.extractContents();Th(e,c,!0),s.setStartAfter(o),s.setEndAfter(t);const d=s.extractContents();Th(e,d,!1),Vu(e,c,{checkRootAsContent:!0})||a.insertBefore(c,t),Vu(e,o,{checkRootAsContent:!0})||a.insertBefore(o,t),Vu(e,d,{checkRootAsContent:!0})||a.insertBefore(d,t),a.removeChild(t)}},Cx=(e,t,o)=>{const s=e.getBlockElements(),a=oe.fromDom(t),c=f=>Ho(f)in s,d=f=>tn(f,a);je(fl(o),f=>{ni(f,c,d).each(b=>{const w=Nm(f,T=>c(T)&&!e.isValidChild(Ho(b),Ho(T)));if(w.length>0){const T=_m(b);je(w,R=>{ni(R,c,d).each(N=>{_x(e,N.dom,R.dom)})}),T.each(R=>_0(e,R.dom))}})})},py=(e,t,o)=>{je([...o,...Uu(e,t)?[t]:[]],s=>je(qr(oe.fromDom(s),s.nodeName.toLowerCase()),a=>{kx(e,a.dom)&&Mi(a)}))},Dh=(e,t)=>{const o=_0(e,t);Cx(e,t,o),py(e,t,o)},ol=(e,t)=>{if(op(e,t)){const o=tp(e.getBlockElements());w0(o,t)}},C0=(e,t,o)=>{const s=c=>tn(c,oe.fromDom(t)),a=ei(oe.fromDom(o),s);rn(a,a.length-2).filter(dr).fold(()=>Dh(e,t),c=>Dh(e,c.dom))},oa=e=>e.hasAttribute(Yn),nu=(e,t)=>vo(e.getTransparentElements(),t),op=(e,t)=>jt(t)&&nu(e,t.nodeName),Uu=(e,t)=>op(e,t)&&oa(t),kx=(e,t)=>op(e,t)&&!oa(t),Oh=(e,t)=>t.type===1&&nu(e,t.name)&&Re(t.attr(Yn)),hy=Ki().browser,Sx=e=>Cn(e,dr),by=e=>hy.isFirefox()&&Ho(e)==="table"?Sx(on(e)).filter(t=>Ho(t)==="caption").bind(t=>Sx(Y1(t)).map(o=>{const s=o.dom.offsetTop,a=t.dom.offsetTop,c=t.dom.offsetHeight;return s<=a?-c:0})).getOr(0):0,Ex=(e,t)=>e.children&&$o(e.children,t),Da=(e,t,o)=>{let s=0,a=0;const c=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&pl(oe.fromDom(e),"position")==="static"){const f=t.getBoundingClientRect();return s=f.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,a=f.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:s,y:a}}let d=t;for(;d&&d!==o&&d.nodeType&&!Ex(d,o);){const f=d;s+=f.offsetLeft||0,a+=f.offsetTop||0,d=f.offsetParent}for(d=t.parentNode;d&&d!==o&&d.nodeType&&!Ex(d,o);)s-=d.scrollLeft||0,a-=d.scrollTop||0,d=d.parentNode;a+=by(oe.fromDom(t))}return{x:s,y:a}},zm=(e,t)=>{const o=t.crossOrigin;return t.contentCssCors?"anonymous":so(o)?o(e):void 0},Ax=(e,t={})=>{let o=0;const s={},a=oe.fromDom(e),c=hc(a),d=xe=>{t.referrerPolicy=xe},f=xe=>{t.contentCssCors=xe},b=xe=>{t.crossOrigin=xe},w=xe=>{dn(ea(a),xe)},T=xe=>{const Te=ea(a);zs(Te,"#"+xe).each(ds)},R=xe=>An(s,xe).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),N=xe=>new Promise((Te,Fe)=>{let rt;const Ot=it._addCacheSuffix(xe),ht=R(Ot);s[Ot]=ht,ht.count++;const Xe=(To,nn)=>{je(To,Co),ht.status=nn,ht.passed=[],ht.failed=[],rt&&(rt.onload=null,rt.onerror=null,rt=null)},Ke=()=>Xe(ht.passed,2),at=()=>Xe(ht.failed,3);if(Te&&ht.passed.push(Te),Fe&&ht.failed.push(Fe),ht.status===1)return;if(ht.status===2){Ke();return}if(ht.status===3){at();return}ht.status=1;const $t=oe.fromTag("link",c.dom);Xi($t,{rel:"stylesheet",type:"text/css",id:ht.id});const lo=zm(xe,t);lo!==void 0&&Wr($t,"crossOrigin",lo),t.referrerPolicy&&Wr($t,"referrerpolicy",t.referrerPolicy),rt=$t.dom,rt.onload=Ke,rt.onerror=at,w($t),Wr($t,"href",Ot)}),F=(xe,Te)=>{const Fe=R(xe);s[xe]=Fe,Fe.count++;const rt=oe.fromTag("style",c.dom);Xi(rt,{rel:"stylesheet",type:"text/css",id:Fe.id,"data-mce-key":xe}),rt.dom.innerHTML=Te,w(rt)},ee=xe=>Promise.allSettled(Mo(xe,Fe=>N(Fe).then(ut(Fe)))).then(Fe=>{const rt=At(Fe,Ot=>Ot.status==="fulfilled");return rt.fail.length>0?Promise.reject(Mo(rt.fail,Ot=>Ot.reason)):Mo(rt.pass,Ot=>Ot.value)}),X=xe=>{const Te=it._addCacheSuffix(xe);An(s,Te).each(Fe=>{--Fe.count===0&&(delete s[Te],T(Fe.id))})};return{load:N,loadRawCss:F,loadAll:ee,unload:X,unloadRawCss:xe=>{An(s,xe).each(Te=>{--Te.count===0&&(delete s[xe],T(Te.id))})},unloadAll:xe=>{je(xe,Te=>{X(Te)})},_setReferrerPolicy:d,_setContentCssCors:f,_setCrossOrigin:b}},Tx=(()=>{const e=new WeakMap;return{forElement:(o,s)=>{const c=Qd(o).dom;return P.from(e.get(c)).getOrThunk(()=>{const d=Ax(c,s);return e.set(c,d),d})}}})(),Dx=e=>e.nodeName.toLowerCase()==="span",k0=(e,t)=>He(e)&&(y0(t,e)||t.isInline(e.nodeName.toLowerCase())),xy=(e,t,o)=>{const s=new er(e,t).prev(!1),a=new er(e,t).next(!1),c=Os(s)||k0(s,o),d=Os(a)||k0(a,o);return c&&d},wr=e=>Dx(e)&&e.getAttribute("data-mce-type")==="bookmark",Pr=(e,t,o)=>mt(e)&&e.data.length>0&&xy(e,t,o),Oa=e=>jt(e)?e.childNodes.length>0:!1,Ra=e=>Sh(e)||qg(e),Lr=(e,t,o,s)=>{var a;const c=s||t;if(jt(t)&&wr(t))return t;const d=t.childNodes;for(let f=d.length-1;f>=0;f--)Lr(e,d[f],o,c);if(jt(t)){const f=t.childNodes;f.length===1&&wr(f[0])&&((a=t.parentNode)===null||a===void 0||a.insertBefore(f[0],t))}return!Ra(t)&&!y0(o,t)&&!Oa(t)&&!Pr(t,c,o)&&e.remove(t),t},Fr=it.makeMap,Xg=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qg=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ox=/[<>&\"\']/g,vy=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,S0={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},fd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Rx={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},E0=e=>{const t=oe.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},nl=(e,t)=>{const o={};if(e){const s=e.split(",");t=t||10;for(let a=0;a<s.length;a+=2){const c=String.fromCharCode(parseInt(s[a],t));if(!fd[c]){const d="&"+s[a+1]+";";o[c]=d,o[d]=c}}return o}else return},su=nl("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Zu=(e,t)=>e.replace(t?Xg:Qg,o=>fd[o]||o),Nx=e=>(""+e).replace(Ox,t=>fd[t]||t),Mx=(e,t)=>e.replace(t?Xg:Qg,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":fd[o]||"&#"+o.charCodeAt(0)+";"),Rh=(e,t,o)=>{const s=o||su;return e.replace(t?Xg:Qg,a=>fd[a]||s[a]||a)},pd={encodeRaw:Zu,encodeAllRaw:Nx,encodeNumeric:Mx,encodeNamed:Rh,getEncodeFunc:(e,t)=>{const o=nl(t)||su,s=(d,f)=>d.replace(f?Xg:Qg,b=>fd[b]!==void 0?fd[b]:o[b]!==void 0?o[b]:b.length>1?"&#"+((b.charCodeAt(0)-55296)*1024+(b.charCodeAt(1)-56320)+65536)+";":"&#"+b.charCodeAt(0)+";"),a=(d,f)=>Rh(d,f,o),c=Fr(e.replace(/\+/g,","));return c.named&&c.numeric?s:c.named?t?a:Rh:c.numeric?Mx:Zu},decode:e=>e.replace(vy,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):S0[o]||String.fromCharCode(o)):Rx[t]||su[t]||E0(t))},zr=(e,t)=>(e=it.trim(e),e?e.split(t||" "):[]),np=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),sp=e=>te(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Jg=e=>{const t=o=>me(o)?Mo(o,t):sp(o)?new RegExp(o.source,o.flags):te(o)?$r(o,t):o;return t(e)},Kl=e=>{const t=/^(~)?(.+)$/;return ar(zr(e,","),o=>{const s=t.exec(o);if(s){const c=s[1]==="~"?"span":"div",d=s[2];return[{cloneName:c,name:d}]}else return[]})},rp=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Nh=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:s}},Mh=e=>{const{blockContent:t,phrasingContent:o,flowContent:s}=Nh(e),a=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:a(t),phrasingContent:a(o),flowContent:a(s)})},UC={html4:gi(()=>Mh("html4")),html5:gi(()=>Mh("html5")),"html5-strict":gi(()=>Mh("html5-strict"))},Ix=(e,t)=>{const{blockContent:o,phrasingContent:s,flowContent:a}=UC[e]();return t==="blocks"?P.some(o):t==="phrasing"?P.some(s):t==="flow"?P.some(a):P.none()},ZC=e=>{const t=rp(e),{phrasingContent:o,flowContent:s}=Nh(e),a={},c=(b,w,T)=>{a[b]={attributes:Tr(w,ut({})),attributesOrder:w,children:Tr(T,ut({}))}},d=(b,w="",T="")=>{const R=zr(T),N=zr(b);let F=N.length;const ee=[...t,...zr(w)];for(;F--;)c(N[F],ee.slice(),R)},f=(b,w)=>{const T=zr(b),R=zr(w);let N=T.length;for(;N--;){const F=a[T[N]];for(let ee=0,X=R.length;ee<X;ee++)F.attributes[R[ee]]={},F.attributesOrder.push(R[ee])}};return e!=="html5-strict"&&(je(zr("acronym applet basefont big font strike tt"),T=>{d(T,"",o)}),je(zr("center dir isindex noframes"),T=>{d(T,"",s)})),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),d("dd div","",s),d("address dt caption","",e==="html4"?o:s),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),d("blockquote","cite",s),d("ol","reversed start type","li"),d("ul","","li"),d("li","value",s),d("dl","","dt dd"),d("a","href target rel media hreflang type",e==="html4"?o:s),d("q","cite",o),d("ins del","cite datetime",s),d("img","src sizes srcset alt usemap ismap width height"),d("iframe","src name width height",s),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),d("param","name value"),d("map","name",[s,"area"].join(" ")),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",s),d("th","colspan rowspan headers scope abbr",s),d("form","accept-charset action autocomplete enctype method name novalidate target",s),d("fieldset","disabled form name",[s,"legend"].join(" ")),d("label","form for",o),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:o),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",[s,"li"].join(" ")),d("noscript","",s),e!=="html4"&&(d("wbr"),d("ruby","",[o,"rt rp"].join(" ")),d("figcaption","",s),d("mark rt rp bdi","",o),d("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),d("canvas","width height",s),d("data","value",o),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[o,"option"].join(" ")),d("article section nav aside main header footer","",s),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[s,"figcaption"].join(" ")),d("time","datetime",o),d("dialog","open",s),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",o),d("progress","value max",o),d("meter","value min max low high optimum",o),d("details","open",[s,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid code codebase codetype archive standby align border hspace vspace"),f("embed","align name hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br","clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),f("area","nohref"),f("body","background bgcolor text link vlink alink")),e!=="html4"&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("img","loading"),f("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&je([a.video,a.audio],b=>{delete b.children.audio,delete b.children.video}),je(zr("a form meter progress dfn"),b=>{a[b]&&delete a[b].children[b]}),delete a.caption.children.table,delete a.script,a},jC=e=>e==="-"?"remove":"add",ru=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return P.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},Px=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ar(zr(e,","),o=>{const s=t.exec(o);if(s){const a=s[1],c=a?jC(a):"replace",d=s[2],f=ar(zr(s[3],"|"),b=>ru(b).toArray());return[{operation:c,name:d,validChildren:f}]}else return[]})},ef=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:a,attributesOrder:c}=t;return je(zr(e,"|"),d=>{const f=o.exec(d);if(f){const b={},w=f[1],T=f[2].replace(/[\\:]:/g,":"),R=f[3],N=f[4];if(w==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(T),b.required=!0),w==="-"){delete a[T],c.splice(it.inArray(c,T),1);return}if(R&&(R==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:T,value:N}),b.defaultValue=N):R==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:T,value:N}),b.forcedValue=N):R==="<"&&(b.validValues=it.makeMap(N,"?"))),s.test(T)){const F=b;t.attributePatterns=t.attributePatterns||[],F.pattern=np(T),t.attributePatterns.push(F)}else a[T]||c.push(T),a[T]=b}})},A0=(e,t)=>{Jo(e.attributes,(o,s)=>{t.attributes[s]=o}),t.attributesOrder.push(...e.attributesOrder)},au=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ar(zr(t,","),s=>{const a=o.exec(s);if(a){const c=a[1],d=a[2],f=a[3],b=a[4],w=a[5],T={attributes:{},attributesOrder:[]};if(e.each(R=>A0(R,T)),c==="#"?T.paddEmpty=!0:c==="-"&&(T.removeEmpty=!0),b==="!"&&(T.removeEmptyAttrs=!0),w&&ef(w,T),f&&(T.outputName=d),d==="@")if(e.isNone())e=P.some(T);else return[];return[f?{name:d,element:T,aliasName:f}:{name:d,element:T}]}else return[]})},Hm={},ap=it.makeMap,tr=it.each,xl=it.extend,ai=it.explode,tf=(e,t={})=>{const o=ap(e," ",ap(e.toUpperCase()," "));return xl(o,t)},hd=e=>tf("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Ko=(e,t)=>{if(e){const o={};return Re(e)&&(e={"*":e}),tr(e,(s,a)=>{o[a]=o[a.toUpperCase()]=t==="map"?ap(s,/[, ]/):ai(s,/[, ]/)}),o}else return},Kt=(e={})=>{var t;const o={},s={};let a=[];const c={},d={},f=(ao,En,Er)=>{const Ba=e[ao];if(Ba)return ap(Ba,/[, ]/,ap(Ba.toUpperCase(),/[, ]/));{let Ka=Hm[ao];return Ka||(Ka=tf(En,Er),Hm[ao]=Ka),Ka}},b=(t=e.schema)!==null&&t!==void 0?t:"html5",w=ZC(b);e.verify_html===!1&&(e.valid_elements="*[*]");const T=Ko(e.valid_styles),R=Ko(e.invalid_styles,"map"),N=Ko(e.valid_classes,"map"),F=f("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ee=f("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),X=f("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),K=f("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ve="td th iframe video audio object script code",xe=f("non_empty_elements",ve+" pre svg textarea summary",X),Te=f("move_caret_before_on_enter_elements",ve+" table",X),Fe="h1 h2 h3 h4 h5 h6",rt=f("text_block_elements",Fe+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Ot=f("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",rt),ht=f("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Xe=f("transparent_elements","a ins del canvas map"),Ke=f("wrap_block_elements","pre "+Fe);tr("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),ao=>{d[ao]=new RegExp("</"+ao+"[^>]*>","gi")});const at=ao=>{const En=P.from(o["@"]),Er=/[*?+]/;je(au(En,ao??""),({name:Ba,element:Ka,aliasName:ya})=>{if(ya&&(o[ya]=Ka),Er.test(Ba)){const nr=Ka;nr.pattern=np(Ba),a.push(nr)}else o[Ba]=Ka})},$t=ao=>{a=[],je(ma(o),En=>{delete o[En]}),at(ao)},lo=(ao,En)=>{var Er,Ba;delete Hm.text_block_elements,delete Hm.block_elements;const Ka=En.extends?!Dl(En.extends):!1,ya=En.extends;if(s[ao]=ya?s[ya]:{},c[ao]=ya??ao,xe[ao.toUpperCase()]={},xe[ao]={},Ka||(Ot[ao.toUpperCase()]={},Ot[ao]={}),ya&&!o[ao]&&o[ya]){const nr=Jg(o[ya]);delete nr.removeEmptyAttrs,delete nr.removeEmpty,o[ao]=nr}else o[ao]={attributesOrder:[],attributes:{}};if(me(En.attributes)){const nr=uc=>{sr.attributesOrder.push(uc),sr.attributes[uc]={}},sr=(Er=o[ao])!==null&&Er!==void 0?Er:{};delete sr.attributesDefault,delete sr.attributesForced,delete sr.attributePatterns,delete sr.attributesRequired,sr.attributesOrder=[],sr.attributes={},je(En.attributes,uc=>{const _g=rp(b);ru(uc).each(({preset:th,name:zf})=>{th?zf==="global"&&je(_g,nr):nr(zf)})}),o[ao]=sr}if(gs(En.padEmpty)){const nr=(Ba=o[ao])!==null&&Ba!==void 0?Ba:{};nr.paddEmpty=En.padEmpty,o[ao]=nr}if(me(En.children)){const nr={},sr=_g=>{nr[_g]={}},uc=_g=>{Ix(b,_g).each(th=>{je(th,sr)})};je(En.children,_g=>{ru(_g).each(({preset:th,name:zf})=>{th?uc(zf):sr(zf)})}),s[ao]=nr}ya&&Jo(s,(nr,sr)=>{nr[ya]&&(s[sr]=nr=xl({},s[sr]),nr[ao]=nr[ya])})},To=ao=>{je(Kl(ao??""),({name:En,cloneName:Er})=>{lo(En,{extends:Er})})},nn=ao=>{te(ao)?Jo(ao,(En,Er)=>lo(Er,En)):Re(ao)&&To(ao)},ms=ao=>{je(Px(ao??""),({operation:En,name:Er,validChildren:Ba})=>{const Ka=En==="replace"?{"#comment":{}}:s[Er],ya=sr=>{En==="remove"?delete Ka[sr]:Ka[sr]={}},nr=sr=>{Ix(b,sr).each(uc=>{je(uc,ya)})};je(Ba,({preset:sr,name:uc})=>{sr?nr(uc):ya(uc)}),s[Er]=Ka})},xs=ao=>{const En=o[ao];if(En)return En;let Er=a.length;for(;Er--;){const Ba=a[Er];if(Ba.pattern.test(ao))return Ba}},va=()=>{e.valid_elements?($t(e.valid_elements),tr(w,(ao,En)=>{s[En]=ao.children})):(tr(w,(ao,En)=>{o[En]={attributes:ao.attributes,attributesOrder:ao.attributesOrder},s[En]=ao.children}),tr(zr("strong/b em/i"),ao=>{const En=zr(ao,"/");o[En[1]].outputName=En[0]}),tr(ht,(ao,En)=>{o[En]&&(e.padd_empty_block_inline_children&&(o[En].paddInEmptyBlock=!0),o[En].removeEmpty=!0)}),tr(zr("ol ul blockquote a table tbody"),ao=>{o[ao]&&(o[ao].removeEmpty=!0)}),tr(zr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),ao=>{o[ao]&&(o[ao].paddEmpty=!0)}),tr(zr("span"),ao=>{o[ao].removeEmptyAttrs=!0})),delete o.svg,nn(e.custom_elements),ms(e.valid_children),at(e.extended_valid_elements),ms("+ol[ul|ol],+ul[ul|ol]"),tr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(ao,En)=>{o[En]&&(o[En].parentsRequired=zr(ao))}),e.invalid_elements&&tr(ai(e.invalid_elements),ao=>{o[ao]&&delete o[ao]}),xs("span")||at("span[!data-mce-type|*]")},Sr=ut(T),al=ut(R),Pt=ut(N),to=ut(K),Bn=ut(Ot),Ln=ut(rt),Yt=ut(ht),St=ut(Object.seal(X)),Vt=ut(ee),mo=ut(xe),wo=ut(Te),ts=ut(F),ps=ut(Xe),Pd=ut(Ke),di=ut(Object.seal(d)),dm=(ao,En)=>{const Er=s[ao.toLowerCase()];return!!(Er&&Er[En.toLowerCase()])},_u=(ao,En)=>{const Er=xs(ao);if(Er)if(En){if(Er.attributes[En])return!0;const Ba=Er.attributePatterns;if(Ba){let Ka=Ba.length;for(;Ka--;)if(Ba[Ka].pattern.test(En))return!0}}else return!0;return!1},Dl=ao=>vo(Bn(),ao),dc=ao=>!Ls(ao,"#")&&_u(ao)&&!Dl(ao),um=ao=>vo(Pd(),ao)||dc(ao),Zb=ut(c);return va(),{type:b,children:s,elements:o,getValidStyles:Sr,getValidClasses:Pt,getBlockElements:Bn,getInvalidStyles:al,getVoidElements:St,getTextBlockElements:Ln,getTextInlineElements:Yt,getBoolAttrs:to,getElementRule:xs,getSelfClosingElements:Vt,getNonEmptyElements:mo,getMoveCaretBeforeOnEnterElements:wo,getWhitespaceElements:ts,getTransparentElements:ps,getSpecialElements:di,isValidChild:dm,isValid:_u,isBlock:Dl,isInline:dc,isWrapper:um,getCustomElements:Zb,addValidElements:at,setValidElements:$t,addCustomElements:nn,addValidChildren:ms}},Bh=e=>({value:Lx(e)}),Lx=e=>Zf(e,"#").toUpperCase(),Ih=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},Ph=e=>{const t=Ih(e.red)+Ih(e.green)+Ih(e.blue);return Bh(t)},Xn=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,ju=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,T0=(e,t,o,s)=>({red:e,green:t,blue:o,alpha:s}),Ye=(e,t,o,s)=>{const a=parseInt(e,10),c=parseInt(t,10),d=parseInt(o,10),f=parseFloat(s);return T0(a,c,d,f)},D0=e=>Xn.test(e)?"rgb":ju.test(e)?"rgba":"other",ip=e=>{const t=Xn.exec(e);if(t!==null)return P.some(Ye(t[1],t[2],t[3],"1"));const o=ju.exec(e);return o!==null?P.some(Ye(o[1],o[2],o[3],o[4])):P.none()},lp=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,of=e=>ip(e).map(Ph).map(t=>"#"+t.value).getOr(e),bd=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,c={};let d,f;const b=Qc;t&&(d=t.getValidStyles(),f=t.getInvalidStyles());const w=(`\\" \\' \\; \\: ; : `+b).split(" ");for(let R=0;R<w.length;R++)c[w[R]]=b+R,c[b+R]=w[R];const T={parse:R=>{const N={};let F=!1;const ee=e.url_converter,X=e.url_converter_scope||T,K=(Xe,Ke,at)=>{const $t=N[Xe+"-top"+Ke];if(!$t)return;const lo=N[Xe+"-right"+Ke];if(!lo)return;const To=N[Xe+"-bottom"+Ke];if(!To)return;const nn=N[Xe+"-left"+Ke];if(!nn)return;const ms=[$t,lo,To,nn];let xs=ms.length-1;for(;xs--&&ms[xs]===ms[xs+1];);xs>-1&&at||(N[Xe+Ke]=xs===-1?ms[0]:ms.join(" "),delete N[Xe+"-top"+Ke],delete N[Xe+"-right"+Ke],delete N[Xe+"-bottom"+Ke],delete N[Xe+"-left"+Ke])},ve=Xe=>{const Ke=N[Xe];if(!Ke)return;const at=Ke.indexOf(",")>-1?[Ke]:Ke.split(" ");let $t=at.length;for(;$t--;)if(at[$t]!==at[0])return!1;return N[Xe]=at[0],!0},xe=(Xe,Ke,at,$t)=>{ve(Ke)&&ve(at)&&ve($t)&&(N[Xe]=N[Ke]+" "+N[at]+" "+N[$t],delete N[Ke],delete N[at],delete N[$t])},Te=Xe=>(F=!0,c[Xe]),Fe=(Xe,Ke)=>(F&&(Xe=Xe.replace(/\uFEFF[0-9]/g,at=>c[at])),Ke||(Xe=Xe.replace(/\\([\'\";:])/g,"$1")),Xe),rt=Xe=>String.fromCharCode(parseInt(Xe.slice(1),16)),Ot=Xe=>Xe.replace(/\\[0-9a-f]+/gi,rt),ht=(Xe,Ke,at,$t,lo,To)=>{if(lo=lo||To,lo)return lo=Fe(lo),"'"+lo.replace(/\'/g,"\\'")+"'";if(Ke=Fe(Ke||at||$t||""),!e.allow_script_urls){const nn=Ke.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(nn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(nn))return""}return ee&&(Ke=ee.call(X,Ke,"style")),"url('"+Ke.replace(/\'/g,"\\'")+"')"};if(R){R=R.replace(/[\u0000-\u001F]/g,""),R=R.replace(/\\[\"\';:\uFEFF]/g,Te).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ke=>Ke.replace(/[;:]/g,Te));let Xe;for(;Xe=s.exec(R);){s.lastIndex=Xe.index+Xe[0].length;let Ke=Xe[1].replace(a,"").toLowerCase(),at=Xe[2].replace(a,"");if(Ke&&at){if(Ke=Ot(Ke),at=Ot(at),Ke.indexOf(b)!==-1||Ke.indexOf('"')!==-1||!e.allow_script_urls&&(Ke==="behavior"||/expression\s*\(|\/\*|\*\//.test(at)))continue;Ke==="font-weight"&&at==="700"?at="bold":(Ke==="color"||Ke==="background-color")&&(at=at.toLowerCase()),D0(at)==="rgb"&&ip(at).each($t=>{at=of(lp($t)).toLowerCase()}),at=at.replace(o,ht),N[Ke]=F?Fe(at,!0):at}}K("border","",!0),K("border","-width"),K("border","-color"),K("border","-style"),K("padding",""),K("margin",""),xe("border","border-width","border-style","border-color"),N.border==="medium none"&&delete N.border,N["border-image"]==="none"&&delete N["border-image"]}return N},serialize:(R,N)=>{let F="";const ee=(K,ve)=>{const xe=ve[K];if(xe)for(let Te=0,Fe=xe.length;Te<Fe;Te++){const rt=xe[Te],Ot=R[rt];Ot&&(F+=(F.length>0?" ":"")+rt+": "+Ot+";")}},X=(K,ve)=>{if(!f||!ve)return!0;let xe=f["*"];return xe&&xe[K]?!1:(xe=f[ve],!(xe&&xe[K]))};return N&&d?(ee("*",d),ee(N,d)):Jo(R,(K,ve)=>{K&&X(ve,N)&&(F+=(F.length>0?" ":"")+ve+": "+K+";")}),F}};return T},Fx={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Wu=e=>e instanceof Event||so(e.initEvent),is=e=>e.isDefaultPrevented===Uo||e.isDefaultPrevented===_o,Dc=e=>Qo(e.preventDefault)||Wu(e),zx=(e,t)=>{const o=t??{};for(const s in e)vo(Fx,s)||(o[s]=e[s]);return He(e.composedPath)&&(o.composedPath=()=>e.composedPath()),He(e.getModifierState)&&(o.getModifierState=s=>e.getModifierState(s)),He(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Oc=(e,t,o,s)=>{var a;const c=zx(t,s);return c.type=e,Qo(c.target)&&(c.target=(a=c.srcElement)!==null&&a!==void 0?a:o),Dc(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=Uo,so(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=Uo,so(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=Uo,c.stopPropagation()},is(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?Uo:_o,c.isPropagationStopped=c.cancelBubble===!0?Uo:_o,c.isImmediatePropagationStopped=_o)),c},xd="mce-data-",O0=/^(?:mouse|contextmenu)|click/,Hx=(e,t,o,s)=>{e.addEventListener(t,o,s||!1)},Lh=(e,t,o,s)=>{e.removeEventListener(t,o,s||!1)},xt=e=>He(e)&&O0.test(e.type),Fh=(e,t)=>{const o=Oc(e.type,e,document,t);if(xt(e)&&Os(e.pageX)&&!Os(e.clientX)){const s=o.target.ownerDocument||document,a=s.documentElement,c=s.body,d=o;d.pageX=e.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),d.pageY=e.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}return o},ha=(e,t,o)=>{const s=e.document,a={type:"ready"};if(o.domLoaded){t(a);return}const c=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,d=()=>{Lh(e,"DOMContentLoaded",d),Lh(e,"load",d),o.domLoaded||(o.domLoaded=!0,t(a)),e=null};c()?d():Hx(e,"DOMContentLoaded",d),o.domLoaded||Hx(e,"load",d)};class nf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=xd+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,s,a){const c=this;let d;const f=window,b=N=>{c.executeHandlers(Fh(N||f.event),w)};if(!t||mt(t)||gd(t))return s;let w;t[c.expando]?w=t[c.expando]:(w=c.count++,t[c.expando]=w,c.events[w]={}),a=a||t;const T=o.split(" ");let R=T.length;for(;R--;){let N=T[R],F=b,ee=!1,X=!1;if(N==="DOMContentLoaded"&&(N="ready"),c.domLoaded&&N==="ready"&&t.readyState==="complete"){s.call(a,Fh({type:N}));continue}!c.hasFocusIn&&(N==="focusin"||N==="focusout")&&(ee=!0,X=N==="focusin"?"focus":"blur",F=K=>{const ve=Fh(K||f.event);ve.type=ve.type==="focus"?"focusin":"focusout",c.executeHandlers(ve,w)}),d=c.events[w][N],d?N==="ready"&&c.domLoaded?s(Fh({type:N})):d.push({func:s,scope:a}):(c.events[w][N]=d=[{func:s,scope:a}],d.fakeName=X,d.capture=ee,d.nativeHandler=F,N==="ready"?ha(t,F,c):Hx(t,X||N,F,ee))}return t=d=null,s}unbind(t,o,s){if(!t||mt(t)||gd(t))return this;const a=t[this.expando];if(a){let c=this.events[a];if(o){const d=o.split(" ");let f=d.length;for(;f--;){const b=d[f],w=c[b];if(w){if(s){let T=w.length;for(;T--;)if(w[T].func===s){const R=w.nativeHandler,N=w.fakeName,F=w.capture,ee=w.slice(0,T).concat(w.slice(T+1));ee.nativeHandler=R,ee.fakeName=N,ee.capture=F,c[b]=ee}}(!s||w.length===0)&&(delete c[b],Lh(t,w.fakeName||b,w.nativeHandler,w.capture))}}}else Jo(c,(d,f)=>{Lh(t,d.fakeName||f,d.nativeHandler,d.capture)}),c={};for(const d in c)if(vo(c,d))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,s){return this.dispatch(t,o,s)}dispatch(t,o,s){if(!t||mt(t)||gd(t))return this;const a=Fh({type:o,target:t},s);do{const c=t[this.expando];c&&this.executeHandlers(a,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!a.isPropagationStopped());return this}clean(t){if(!t||mt(t)||gd(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let s=o.length;for(;s--;)t=o[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const s=this.events[o],a=s&&s[t.type];if(a)for(let c=0,d=a.length;c<d;c++){const f=a[c];if(f&&f.func.call(f.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}nf.Event=new nf;const zh=it.each,wy=it.grep,uo="data-mce-style",Vx=it.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Vm=(e,t,o)=>{Qo(o)||o===""?Mr(e,t):Wr(e,t,o)},_y=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),vd=(e,t)=>{let o=0;if(e)for(let s=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const c=a.nodeType;t&&mt(a)&&(c===s||!a.data.length)||(o++,s=c)}return o},bo=(e,t)=>{const o=Js(t,"style"),s=e.serialize(e.parse(o),Ho(t));Vm(t,uo,s)},$x=(e,t)=>E(e)?vo(Vx,t)?e+"":e+"px":e,iu=(e,t,o)=>{const s=_y(t);Qo(o)||o===""?pi(e,s):$g(e,s,$x(o,s))},Yl=(e,t,o)=>{const s=t.keep_values,a={set:(d,f,b)=>{const w=oe.fromDom(d);so(t.url_converter)&&He(f)&&(f=t.url_converter.call(t.url_converter_scope||o(),String(f),b,d));const T="data-mce-"+b;Vm(w,T,f),Vm(w,b,f)},get:(d,f)=>{const b=oe.fromDom(d);return Js(b,"data-mce-"+f)||Js(b,f)}},c={style:{set:(d,f)=>{const b=oe.fromDom(d);s&&Vm(b,uo,f),Mr(b,"style"),Re(f)&&Qf(b,e.parse(f))},get:d=>{const f=oe.fromDom(d),b=Js(f,uo)||Js(f,"style");return e.serialize(e.parse(b),Ho(f))}}};return s&&(c.href=c.src=a),c},Nn=(e,t={})=>{const o={},s=window,a={};let c=0;const d=!0,f=!0,b=Tx.forElement(oe.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy,crossOrigin:Ie=>{const ze=t.crossOrigin;if(so(ze))return ze(Ie,"stylesheet")}}),w=[],T=t.schema?t.schema:Kt({}),R=bd({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),N=t.ownEvents?new nf:nf.Event,F=T.getBlockElements(),ee=Ie=>Re(Ie)?vo(F,Ie):jt(Ie)&&(vo(F,Ie.nodeName)||Uu(T,Ie)),X=Ie=>Ie&&e&&Re(Ie)?e.getElementById(Ie):Ie,K=Ie=>{const ze=X(Ie);return He(ze)?oe.fromDom(ze):null},ve=(Ie,ze,It="")=>{let Tt;const ho=K(Ie);if(He(ho)&&dr(ho)){const On=oR[ze];On&&On.get?Tt=On.get(ho.dom,ze):Tt=Js(ho,ze)}return He(Tt)?Tt:It},xe=Ie=>{const ze=X(Ie);return Qo(ze)?[]:ze.attributes},Te=(Ie,ze,It)=>{to(Ie,Tt=>{if(jt(Tt)){const ho=oe.fromDom(Tt),On=It===""?null:It,Ar=Js(ho,ze),Hf=oR[ze];Hf&&Hf.set?Hf.set(ho.dom,On,ze):Vm(ho,ze,On),Ar!==On&&t.onSetAttrib&&t.onSetAttrib({attrElm:ho.dom,attrName:ze,attrValue:On})}})},Fe=(Ie,ze)=>Ie.cloneNode(ze),rt=()=>t.root_element||e.body,Ot=Ie=>{const ze=kc(Ie);return{x:ze.x,y:ze.y,w:ze.width,h:ze.height}},ht=(Ie,ze)=>Da(e.body,X(Ie),ze),Xe=(Ie,ze,It)=>{to(Ie,Tt=>{const ho=oe.fromDom(Tt);iu(ho,ze,It),t.update_styles&&bo(R,ho)})},Ke=(Ie,ze)=>{to(Ie,It=>{const Tt=oe.fromDom(It);Jo(ze,(ho,On)=>{iu(Tt,On,ho)}),t.update_styles&&bo(R,Tt)})},at=(Ie,ze,It)=>{const Tt=X(Ie);if(!(Qo(Tt)||!Io(Tt)&&!Hi(Tt)))return It?pl(oe.fromDom(Tt),_y(ze)):(ze=ze.replace(/-(\D)/g,(ho,On)=>On.toUpperCase()),ze==="float"&&(ze="cssFloat"),Tt.style?Tt.style[ze]:void 0)},$t=Ie=>{const ze=X(Ie);if(!ze)return{w:0,h:0};let It=at(ze,"width"),Tt=at(ze,"height");return(!It||It.indexOf("px")===-1)&&(It="0"),(!Tt||Tt.indexOf("px")===-1)&&(Tt="0"),{w:parseInt(It,10)||ze.offsetWidth||ze.clientWidth,h:parseInt(Tt,10)||ze.offsetHeight||ze.clientHeight}},lo=Ie=>{const ze=X(Ie),It=ht(ze),Tt=$t(ze);return{x:It.x,y:It.y,w:Tt.w,h:Tt.h}},To=(Ie,ze)=>{if(!Ie)return!1;const It=me(Ie)?Ie:[Ie];return In(It,Tt=>Pn(oe.fromDom(Tt),ze))},nn=(Ie,ze,It,Tt)=>{const ho=[];let On=X(Ie);Tt=Tt===void 0;const Ar=It||(rt().nodeName!=="BODY"?rt().parentNode:null);if(Re(ze))if(ze==="*")ze=jt;else{const Hf=ze;ze=kg=>To(kg,Hf)}for(;On&&!(On===Ar||Qo(On.nodeType)||qg(On)||Sh(On));){if(!ze||ze(On))if(Tt)ho.push(On);else return[On];On=On.parentNode}return Tt?ho:null},ms=(Ie,ze,It)=>{const Tt=nn(Ie,ze,It,!1);return Tt&&Tt.length>0?Tt[0]:null},xs=(Ie,ze,It)=>{let Tt=ze;if(Ie){Re(ze)&&(Tt=ho=>To(ho,ze));for(let ho=Ie[It];ho;ho=ho[It])if(so(Tt)&&Tt(ho))return ho}return null},va=(Ie,ze)=>xs(Ie,ze,"nextSibling"),Sr=(Ie,ze)=>xs(Ie,ze,"previousSibling"),al=Ie=>so(Ie.querySelectorAll),Pt=(Ie,ze)=>{var It,Tt;const ho=(Tt=(It=X(ze))!==null&&It!==void 0?It:t.root_element)!==null&&Tt!==void 0?Tt:e;return al(ho)?Nt(ho.querySelectorAll(Ie)):[]},to=function(Ie,ze,It){const Tt=It??this;if(me(Ie)){const ho=[];return zh(Ie,(On,Ar)=>{const Hf=X(On);Hf&&ho.push(ze.call(Tt,Hf,Ar))}),ho}else{const ho=X(Ie);return ho?ze.call(Tt,ho):!1}},Bn=(Ie,ze)=>{to(Ie,It=>{Jo(ze,(Tt,ho)=>{Te(It,ho,Tt)})})},Ln=(Ie,ze)=>{to(Ie,It=>{const Tt=oe.fromDom(It);Sm(Tt,ze)})},Yt=(Ie,ze,It,Tt,ho)=>to(Ie,On=>{const Ar=Re(ze)?e.createElement(ze):ze;return He(It)&&Bn(Ar,It),Tt&&(!Re(Tt)&&Tt.nodeType?Ar.appendChild(Tt):Re(Tt)&&Ln(Ar,Tt)),ho?Ar:On.appendChild(Ar)}),St=(Ie,ze,It)=>Yt(e.createElement(Ie),Ie,ze,It,!0),Vt=pd.decode,mo=pd.encodeAllRaw,wo=(Ie,ze,It="")=>{let Tt="<"+Ie;for(const ho in ze)Ae(ze,ho)&&(Tt+=" "+ho+'="'+mo(ze[ho])+'"');return Xc(It)&&vo(T.getVoidElements(),Ie)?Tt+" />":Tt+">"+It+"</"+Ie+">"},ts=Ie=>{const ze=e.createElement("div"),It=e.createDocumentFragment();It.appendChild(ze),Ie&&(ze.innerHTML=Ie);let Tt;for(;Tt=ze.firstChild;)It.appendChild(Tt);return It.removeChild(ze),It},ps=(Ie,ze)=>to(Ie,It=>{const Tt=oe.fromDom(It);return ze&&je(on(Tt),ho=>{Ja(ho)&&ho.dom.length===0?ds(ho):ta(Tt,ho)}),ds(Tt),Tt.dom}),Pd=Ie=>to(Ie,ze=>{const It=ze.attributes;for(let Tt=It.length-1;Tt>=0;Tt--)ze.removeAttributeNode(It.item(Tt))}),di=Ie=>R.parse(Ie),dm=(Ie,ze)=>R.serialize(Ie,ze),_u=Ie=>{if(Wb!==Nn.DOM&&e===document){if(o[Ie])return;o[Ie]=!0}let ze=e.getElementById("mceDefaultStyles");if(!ze){ze=e.createElement("style"),ze.id="mceDefaultStyles",ze.type="text/css";const It=e.head;It.firstChild?It.insertBefore(ze,It.firstChild):It.appendChild(ze)}ze.styleSheet?ze.styleSheet.cssText+=Ie:ze.appendChild(e.createTextNode(Ie))},Dl=Ie=>{Ie||(Ie=""),je(Ie.split(","),ze=>{a[ze]=!0,b.load(ze).catch(Ro)})},dc=(Ie,ze,It)=>{to(Ie,Tt=>{if(jt(Tt)){const ho=oe.fromDom(Tt),On=ze.split(" ");je(On,Ar=>{He(It)?(It?$l:zi)(ho,Ar):Ea(ho,Ar)})}})},um=(Ie,ze)=>{dc(Ie,ze,!0)},Zb=(Ie,ze)=>{dc(Ie,ze,!1)},ao=(Ie,ze)=>{const It=K(Ie),Tt=ze.split(" ");return He(It)&&Pa(Tt,ho=>as(It,ho))},En=Ie=>{to(Ie,ze=>pi(oe.fromDom(ze),"display"))},Er=Ie=>{to(Ie,ze=>$g(oe.fromDom(ze),"display","none"))},Ba=Ie=>{const ze=K(Ie);return He(ze)&&hr(Am(ze,"display"),"none")},Ka=Ie=>(Ie||"mce_")+c++,ya=Ie=>{const ze=K(Ie);return He(ze)?jt(ze.dom)?ze.dom.outerHTML:J2(ze):""},nr=(Ie,ze)=>{to(Ie,It=>{jt(It)&&(It.outerHTML=ze)})},sr=(Ie,ze)=>{const It=X(ze);return to(Ie,Tt=>{const ho=It?.parentNode,On=It?.nextSibling;return ho&&(On?ho.insertBefore(Tt,On):ho.appendChild(Tt)),Tt})},uc=(Ie,ze,It)=>to(ze,Tt=>{var ho;const On=me(ze)?Ie.cloneNode(!0):Ie;return It&&zh(wy(Tt.childNodes),Ar=>{On.appendChild(Ar)}),(ho=Tt.parentNode)===null||ho===void 0||ho.replaceChild(On,Tt),Tt}),_g=(Ie,ze)=>{if(Ie.nodeName!==ze.toUpperCase()){const It=St(ze);return zh(xe(Ie),Tt=>{Te(It,Tt.nodeName,ve(Ie,Tt.nodeName))}),uc(It,Ie,!0),It}else return Ie},th=(Ie,ze)=>{let It=Ie;for(;It;){let Tt=ze;for(;Tt&&It!==Tt;)Tt=Tt.parentNode;if(It===Tt)break;It=It.parentNode}return!It&&Ie.ownerDocument?Ie.ownerDocument.documentElement:It},zf=(Ie,ze,It)=>gt(ze)?Vu(T,Ie,{...It,isContent:ho=>{const On=ho.nodeName.toLowerCase();return!!ze[On]}}):Vu(T,Ie,It),DC=()=>e.createRange(),OC=(Ie,ze,It)=>{let Tt=DC(),ho,On;if(Ie&&ze&&Ie.parentNode&&ze.parentNode){const Ar=Ie.parentNode;return Tt.setStart(Ar,vd(Ie)),Tt.setEnd(ze.parentNode,vd(ze)),ho=Tt.extractContents(),Tt=DC(),Tt.setStart(ze.parentNode,vd(ze)+1),Tt.setEnd(Ar,vd(Ie)+1),On=Tt.extractContents(),Ar.insertBefore(Lr(Wb,ho,T),Ie),It?Ar.insertBefore(It,Ie):Ar.insertBefore(ze,Ie),Ar.insertBefore(Lr(Wb,On,T),Ie),ps(Ie),It||ze}else return},$2=(Ie,ze,It,Tt)=>{if(me(Ie)){let ho=Ie.length;const On=[];for(;ho--;)On[ho]=$2(Ie[ho],ze,It,Tt);return On}else return t.collect&&(Ie===e||Ie===s)&&w.push([Ie,ze,It,Tt]),N.bind(Ie,ze,It,Tt||Wb)},Cg=(Ie,ze,It)=>{if(me(Ie)){let Tt=Ie.length;const ho=[];for(;Tt--;)ho[Tt]=Cg(Ie[Tt],ze,It);return ho}else{if(w.length>0&&(Ie===e||Ie===s)){let Tt=w.length;for(;Tt--;){const[ho,On,Ar]=w[Tt];Ie===ho&&(!ze||ze===On)&&(!It||It===Ar)&&N.unbind(ho,On,Ar)}}return N.unbind(Ie,ze,It)}},jb=(Ie,ze,It)=>N.dispatch(Ie,ze,It),jE=(Ie,ze,It)=>N.dispatch(Ie,ze,It),RC=Ie=>{if(Ie&&Io(Ie)){const ze=Ie.getAttribute("data-mce-contenteditable");return ze&&ze!=="inherit"?ze:Ie.contentEditable!=="inherit"?Ie.contentEditable:null}else return null},Wb={doc:e,settings:t,win:s,files:a,stdMode:d,boxModel:f,styleSheetLoader:b,boundEvents:w,styles:R,schema:T,events:N,isBlock:ee,root:null,clone:Fe,getRoot:rt,getViewPort:Ot,getRect:lo,getSize:$t,getParent:ms,getParents:nn,get:X,getNext:va,getPrev:Sr,select:Pt,is:To,add:Yt,create:St,createHTML:wo,createFragment:ts,remove:ps,setStyle:Xe,getStyle:at,setStyles:Ke,removeAllAttribs:Pd,setAttrib:Te,setAttribs:Bn,getAttrib:ve,getPos:ht,parseStyle:di,serializeStyle:dm,addStyle:_u,loadCSS:Dl,addClass:um,removeClass:Zb,hasClass:ao,toggleClass:dc,show:En,hide:Er,isHidden:Ba,uniqueId:Ka,setHTML:Ln,getOuterHTML:ya,setOuterHTML:nr,decode:Vt,encode:mo,insertAfter:sr,replace:uc,rename:_g,findCommonAncestor:th,run:to,getAttribs:xe,isEmpty:zf,createRng:DC,nodeIndex:vd,split:OC,bind:$2,unbind:Cg,fire:jE,dispatch:jb,getContentEditable:RC,getContentEditableParent:Ie=>{const ze=rt();let It=null;for(let Tt=Ie;Tt&&Tt!==ze&&(It=RC(Tt),It===null);Tt=Tt.parentNode);return It},isEditable:Ie=>{if(He(Ie)){const ze=jt(Ie)?Ie:Ie.parentElement;return He(ze)&&Io(ze)&&Qi(oe.fromDom(ze))}else return!1},destroy:()=>{if(w.length>0){let Ie=w.length;for(;Ie--;){const[ze,It,Tt]=w[Ie];N.unbind(ze,It,Tt)}}Jo(a,(Ie,ze)=>{b.unload(ze),delete a[ze]})},isChildOf:(Ie,ze)=>Ie===ze||ze.contains(Ie),dumpRng:Ie=>"startContainer: "+Ie.startContainer.nodeName+", startOffset: "+Ie.startOffset+", endContainer: "+Ie.endContainer.nodeName+", endOffset: "+Ie.endOffset},oR=Yl(R,t,ut(Wb));return Wb};Nn.DOM=Nn(document),Nn.nodeIndex=vd;const Vi=Nn.DOM,sf=0,cp=1,$m=2,Um=3;class Va{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}_setCrossOrigin(t){this.settings.crossOrigin=t}loadScript(t){return new Promise((o,s)=>{const a=Vi;let c;const d=()=>{a.remove(w),c&&(c.onerror=c.onload=c=null)},f=()=>{d(),o()},b=()=>{d(),s("Failed to load script: "+t)},w=a.uniqueId();c=document.createElement("script"),c.id=w,c.type="text/javascript",c.src=it._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy);const T=this.settings.crossOrigin;if(so(T)){const R=T(t);R!==void 0&&a.setAttrib(c,"crossorigin",R)}c.onload=f,c.onerror=b,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===$m}markDone(t){this.states[t]=$m}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=sf),new Promise((a,c)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:a,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,s=(b,w)=>{An(o.scriptLoadedCallbacks,w).each(T=>{je(T,R=>R[b](w))}),delete o.scriptLoadedCallbacks[w]},a=b=>{const w=ft(b,T=>T.status==="rejected");return w.length>0?Promise.reject(ar(w,({reason:T})=>me(T)?T:[T])):Promise.resolve()},c=b=>Promise.allSettled(Mo(b,w=>o.states[w]===$m?(s("resolve",w),Promise.resolve()):o.states[w]===Um?(s("reject",w),Promise.reject(w)):(o.states[w]=cp,o.loadScript(w).then(()=>{o.states[w]=$m,s("resolve",w);const T=o.queue;return T.length>0?(o.queue=[],c(T).then(a)):Promise.resolve()},()=>(o.states[w]=Um,s("reject",w),Promise.reject(w)))))),d=b=>(o.loading=!0,c(b).then(w=>{o.loading=!1;const T=o.queueLoadedCallbacks.shift();return P.from(T).each(Co),a(w)})),f=hm(t);return o.loading?new Promise((b,w)=>{o.queueLoadedCallbacks.push(()=>{d(f).then(b,w)})}):d(f)}}Va.ScriptLoader=new Va;const lu=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},Zm=e=>te(e)&&vo(e,"raw"),Hh=e=>me(e)&&e.length>1,dp={},Vh=$n("en"),Cy=()=>An(dp,Vh.get()),Rc={getData:()=>$r(dp,e=>({...e})),setCode:e=>{e&&Vh.set(e)},getCode:()=>Vh.get(),add:(e,t)=>{let o=dp[e];o||(dp[e]=o={});const s=Mo(ma(t),a=>a.toLowerCase());Jo(t,(a,c)=>{const d=c.toLowerCase();d!==c&&lu(s,d)?(vo(t,d)||(o[d]=a),o[c]=a):o[d]=a})},translate:e=>{const t=Cy().getOr({}),o=f=>so(f)?Object.prototype.toString.call(f):s(f)?"":""+f,s=f=>f===""||f===null||f===void 0,a=f=>{const b=o(f);return vo(t,b)?o(t[b]):An(t,b.toLowerCase()).map(o).getOr(b)},c=f=>f.replace(/{context:\w+}$/,""),d=f=>f.replaceAll("...",Di);if(s(e))return"";if(Zm(e))return d(o(e.raw));if(Hh(e)){const f=e.slice(1),b=a(e[0]).replace(/\{([0-9]+)\}/g,(w,T)=>vo(f,T)?o(f[T]):w);return d(c(b))}return d(c(a(e)))},isRtl:()=>Cy().bind(e=>An(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>vo(dp,e)},Gr=()=>{const e=[],t={},o={},s=[],a=(X,K)=>{const ve=ft(s,xe=>xe.name===X&&xe.state===K);je(ve,xe=>xe.resolve())},c=X=>vo(t,X),d=X=>vo(o,X),f=X=>{if(o[X])return o[X].instance},b=(X,K)=>{const ve=Rc.getCode(),xe=","+(K||"")+",";!ve||K&&xe.indexOf(","+ve+",")===-1||Va.ScriptLoader.add(t[X]+"/langs/"+ve+".js")},w=(X,K)=>{Gr.languageLoad!==!1&&(c(X)?b(X,K):ee(X,"loaded").then(()=>b(X,K)))},T=(X,K)=>(e.push(K),o[X]={instance:K},a(X,"added"),K),R=X=>{delete t[X],delete o[X]},N=(X,K)=>Re(K)?Re(X)?{prefix:"",resource:K,suffix:""}:{prefix:X.prefix,resource:K,suffix:X.suffix}:K,F=(X,K)=>{if(t[X])return Promise.resolve();let ve=Re(K)?K:K.prefix+K.resource+K.suffix;ve.indexOf("/")!==0&&ve.indexOf("://")===-1&&(ve=Gr.baseURL+"/"+ve),t[X]=ve.substring(0,ve.lastIndexOf("/"));const xe=()=>(a(X,"loaded"),Promise.resolve());return o[X]?xe():Va.ScriptLoader.add(ve).then(xe)},ee=(X,K="added")=>K==="added"&&d(X)||K==="loaded"&&c(X)?Promise.resolve():new Promise(ve=>{s.push({name:X,state:K,resolve:ve})});return{items:e,urls:t,lookup:o,get:f,requireLangPack:w,add:T,remove:R,createUrl:N,load:F,waitFor:ee}};Gr.languageLoad=!0,Gr.baseURL="",Gr.PluginManager=Gr(),Gr.ThemeManager=Gr(),Gr.ModelManager=Gr();const jm=ut("mce-annotation"),Wm=ut("data-mce-annotation"),qm=ut("data-mce-annotation-uid"),rf=ut("data-mce-annotation-active"),wd=ut("data-mce-annotation-classes"),af=ut("data-mce-annotation-attrs"),Uh=e=>t=>tn(t,e),pn=(e,t)=>{const o=e.selection.getRng(),s=oe.fromDom(o.startContainer),a=oe.fromDom(e.getBody()),c=t.fold(()=>"."+jm(),b=>`[${Wm()}="${b}"]`),d=ur(s,o.startOffset).getOr(s);return ud(d,c,Uh(a)).bind(b=>vc(b,`${qm()}`).bind(w=>vc(b,`${Wm()}`).map(T=>{const R=N0(e,w);return{uid:w,name:T,elements:R}})))},Sy=e=>dr(e)&&as(e,jm()),R0=(e,t)=>Cm(e,"data-mce-bogus")||dx(e,'[data-mce-bogus="all"]',Uh(t)),N0=(e,t)=>{const o=oe.fromDom(e.getBody()),s=qr(o,`[${qm()}="${t}"]`);return ft(s,a=>!R0(a,o))},Xl=(e,t)=>{const o=oe.fromDom(e.getBody()),s=qr(o,`[${Wm()}="${t}"]`),a={};return je(s,c=>{if(!R0(c,o)){const d=Js(c,qm()),f=An(a,d).getOr([]);a[d]=f.concat([c])}}),a},Ux=(e,t)=>{const o=$n({}),s=()=>({listeners:[],previous:Bl()}),a=(R,N)=>{c(R,F=>(N(F),F))},c=(R,N)=>{const F=o.get(),ee=An(F,R).getOrThunk(s),X=N(ee);F[R]=X,o.set(F)},d=(R,N,F)=>{a(R,ee=>{je(ee.listeners,X=>X(!0,R,{uid:N,nodes:Mo(F,K=>K.dom)}))})},f=R=>{a(R,N=>{je(N.listeners,F=>F(!1,R))})},b=(R,N)=>{je(N0(e,R),F=>{N?Wr(F,rf(),"true"):Mr(F,rf())})},w=$d(()=>{const R=Jt(t.getNames());je(R,N=>{c(N,F=>{const ee=F.previous.get();return pn(e,P.some(N)).fold(()=>{ee.each(X=>{f(N),F.previous.clear(),b(X,!1)})},({uid:X,name:K,elements:ve})=>{hr(ee,X)||(ee.each(xe=>b(xe,!1)),d(K,X,ve),F.previous.set(X),b(X,!0))}),{previous:F.previous,listeners:F.listeners}})})},30);return e.on("remove",()=>{w.cancel()}),e.on("NodeChange",()=>{w.throttle()}),{addListener:(R,N)=>{c(R,F=>({previous:F.previous,listeners:F.listeners.concat([N])}))}}},Zx=(e,t)=>{const o=Wm(),s=c=>P.from(c.attr(o)).bind(t.lookup),a=c=>{var d,f;c.attr(qm(),null),c.attr(Wm(),null),c.attr(rf(),null);const b=P.from(c.attr(af())).map(N=>N.split(",")).getOr([]),w=P.from(c.attr(wd())).map(N=>N.split(",")).getOr([]);je(b,N=>c.attr(N,null));const T=(f=(d=c.attr("class"))===null||d===void 0?void 0:d.split(" "))!==null&&f!==void 0?f:[],R=Ol(T,[jm()].concat(w));c.attr("class",R.length>0?R.join(" "):null),c.attr(wd(),null),c.attr(af(),null)};e.serializer.addTempAttr(rf()),e.serializer.addAttributeFilter(o,c=>{for(const d of c)s(d).each(f=>{f.persistent===!1&&(d.name==="span"?d.unwrap():a(d))})})},M0=()=>{const e={};return{register:(a,c)=>{e[a]={name:a,settings:c}},lookup:a=>An(e,a).map(c=>c.settings),getNames:()=>ma(e)}},qu=(e,t,o=_o)=>{const s=new er(e,t),a=c=>{let d;do d=s[c]();while(d&&!mt(d)&&!o(d));return P.from(d).filter(mt)};return{current:()=>P.from(s.current()).filter(mt),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},Ql=(e,t)=>{const o=t||(d=>e.isBlock(d)||Ns(d)||Kn(d)),s=(d,f,b,w)=>{if(mt(d)){const T=w(d,f,d.data);if(T!==-1)return P.some({container:d,offset:T})}return b().bind(T=>s(T.container,T.offset,b,w))};return{backwards:(d,f,b,w)=>{const T=qu(d,w??e.getRoot(),o);return s(d,f,()=>T.prev().map(R=>({container:R,offset:R.length})),b).getOrNull()},forwards:(d,f,b,w)=>{const T=qu(d,w??e.getRoot(),o);return s(d,f,()=>T.next().map(R=>({container:R,offset:0})),b).getOrNull()}}},mp=["td","th"],lf=["thead","tbody","tfoot"],Zh=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Ey=["li","dd","dt"],Ay=["ul","ol","dl"],jx=["pre","script","textarea","style"],$i=e=>{let t;return o=>(t=t||Tr(e,Uo),vo(t,Ho(o)))},Wx=e=>Ho(e)==="table",_d=e=>dr(e)&&Ho(e)==="br",jh=$i(Zh),cu=$i(Ay),du=$i(Ey),na=$i(lf),Gm=$i(mp),gp=$i(jx),Ty=e=>{const t=[];let o=e.dom;for(;o;)t.push(oe.fromDom(o)),o=o.lastChild;return t},Dy=e=>{const t=qr(e,"br"),o=ft(Ty(e).slice(-1),_d);t.length===o.length&&je(o,ds)},cf=()=>{const e=oe.fromTag("br");return Wr(e,"data-mce-bogus","1"),e},Nc=e=>{Iu(e),dn(e,cf())},Oy=(e,t)=>{Qr(e).each(o=>{Fl(o).each(s=>{t.isBlock(Ho(e))&&_d(o)&&t.isBlock(Ho(s))&&ds(o)})})},Hr=Qc,Gu=Oi,Ui=Wf,B0=e=>e.insertContent(Hr,{preserve_zwsp:!0}),qx=jt,df=mt,uf=e=>(df(e)&&(e=e.parentNode),qx(e)&&e.hasAttribute("data-mce-caret")),Km=e=>df(e)&&Gu(e.data),vl=e=>uf(e)||Km(e),Gx=e=>e.firstChild!==e.lastChild||!Ns(e.firstChild),Ry=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Hr),c=e.parentNode;if(t){const d=e.previousSibling;if(df(d)){if(vl(d))return d;if(Wh(d))return d.splitText(d.data.length-1)}c?.insertBefore(a,e)}else{const d=e.nextSibling;if(df(d)){if(vl(d))return d;if(hp(d))return d.splitText(1),d}e.nextSibling?c?.insertBefore(a,e.nextSibling):c?.appendChild(a)}return a},fp=e=>{const t=e.container();return mt(t)?t.data.charAt(e.offset())===Hr||e.isAtStart()&&Km(t.previousSibling):!1},pp=e=>{const t=e.container();return mt(t)?t.data.charAt(e.offset()-1)===Hr||e.isAtEnd()&&Km(t.nextSibling):!1},Kx=(e,t,o)=>{var s;const c=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(cf().dom);const d=t.parentNode;return o?d?.insertBefore(c,t):t.nextSibling?d?.insertBefore(c,t.nextSibling):d?.appendChild(c),c},hp=e=>df(e)&&e.data[0]===Hr,Wh=e=>df(e)&&e.data[e.data.length-1]===Hr,I0=e=>{var t;const o=e.getElementsByTagName("br"),s=o[o.length-1];Lm(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},P0=e=>e&&e.hasAttribute("data-mce-caret")?(I0(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Yx=e=>uf(e.startContainer),bp=Math.round,g=e=>e?{left:bp(e.left),top:bp(e.top),bottom:bp(e.bottom),right:bp(e.right),width:bp(e.width),height:bp(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},h=(e,t)=>(e=g(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),y=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,C=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,D=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:C(t.top-e.bottom,e,t)},O=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:C(t.bottom-e.top,e,t),L=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,H=e=>zo(e,(t,o)=>t.fold(()=>P.some(o),s=>{const a=Math.min(o.left,s.left),c=Math.min(o.top,s.top),d=Math.max(o.right,s.right),f=Math.max(o.bottom,s.bottom);return P.some({top:c,right:d,bottom:f,left:a,width:d-a,height:f-c})}),P.none()),Q=(e,t,o)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(o-a)*(o-a))},re=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),be=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},se=(e,t)=>{if(jt(e)&&e.hasChildNodes()){const o=e.childNodes,s=Fn(t,0,o.length-1);return o[s]}else return e},ge=(e,t)=>{if(!(t<0&&jt(e)&&e.hasChildNodes()))return se(e,t)},le=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Ee=e=>Re(e)&&e.charCodeAt(0)>=768&&le.test(e),Se=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},et=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},st=xi,pt=Kn,vt=Ns,wt=mt,Dt=bl(["script","style","textarea"]),Mt=bl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Xt=bl(["table"]),fo=vl,Vo=e=>fo(e)?!1:wt(e)?!Dt(e.parentNode):Mt(e)||vt(e)||Xt(e)||Wo(e),No=e=>jt(e)&&e.getAttribute("unselectable")==="true",Wo=e=>!No(e)&&pt(e),Bo=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(Wo(o))return!1;if(st(o))return!0}return!0},Qn=e=>Wo(e)?!zo(Nt(e.getElementsByTagName("*")),(t,o)=>t||st(o),!1):!1,_r=e=>Mt(e)||Qn(e),Na=(e,t)=>Vo(e)&&Bo(e,t),sa=jt,yl=Vo,Gt=ss("display","block table"),$a=ss("float","left right"),Mc=et(sa,yl,Ce($a)),qh=Ce(ss("white-space","pre pre-line pre-wrap")),Cd=mt,mf=Ns,Ku=Nn.nodeIndex,kd=ge,Ny=e=>e?e.createRange():Nn.DOM.createRng(),Xx=e=>Re(e)&&/[\r\n\t ]/.test(e),qC=e=>!!e.setStart&&!!e.setEnd,gf=e=>{const t=e.startContainer,o=e.startOffset;if(Xx(e.toString())&&qh(t.parentNode)&&mt(t)){const s=t.data;if(Xx(s[o-1])||Xx(s[o+1]))return!0}return!1},nA=e=>{const t=e.ownerDocument,o=Ny(t),s=t.createTextNode(Fs),a=e.parentNode;a.insertBefore(s,e),o.setStart(s,0),o.setEnd(s,1);const c=g(o.getBoundingClientRect());return a.removeChild(s),c},sA=e=>{const t=e.startContainer,o=e.endContainer,s=e.startOffset,a=e.endOffset;if(t===o&&mt(o)&&s===0&&a===1){const c=e.cloneRange();return c.setEndAfter(o),ff(c)}else return null},Ym=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,ff=e=>{var t;let o;const s=e.getClientRects();return s.length>0?o=g(s[0]):o=g(e.getBoundingClientRect()),!qC(e)&&mf(e)&&Ym(o)?nA(e):Ym(o)&&qC(e)&&(t=sA(e))!==null&&t!==void 0?t:o},pf=(e,t)=>{const o=h(e,t);return o.width=1,o.right=o.left+1,o},My=e=>{const t=[],o=d=>{d.height!==0&&(t.length>0&&y(d,t[t.length-1])||t.push(d))},s=(d,f)=>{const b=Ny(d.ownerDocument);if(f<d.data.length){if(Ee(d.data[f]))return;if(Ee(d.data[f-1])&&(b.setStart(d,f),b.setEnd(d,f+1),!gf(b))){o(pf(ff(b),!1));return}}f>0&&(b.setStart(d,f-1),b.setEnd(d,f),gf(b)||o(pf(ff(b),!1))),f<d.data.length&&(b.setStart(d,f),b.setEnd(d,f+1),gf(b)||o(pf(ff(b),!0)))},a=e.container(),c=e.offset();if(Cd(a))return s(a,c),t;if(sa(a))if(e.isAtEnd()){const d=kd(a,c);Cd(d)&&s(d,d.data.length),Mc(d)&&!mf(d)&&o(pf(ff(d),!1))}else{const d=kd(a,c);if(Cd(d)&&s(d,0),Mc(d)&&e.isAtEnd())return o(pf(ff(d),!1)),t;const f=kd(e.container(),e.offset()-1);Mc(f)&&!mf(f)&&(Gt(f)||Gt(d)||!Mc(d))&&o(pf(ff(f),!1)),Mc(d)&&o(pf(ff(d),!0))}return t},Ge=(e,t,o)=>{const s=()=>(Cd(e),t===0),a=()=>Cd(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const T=Ny(e.ownerDocument);return T.setStart(e,t),T.setEnd(e,t),T},d=()=>(o||(o=My(Ge(e,t))),o),f=()=>d().length>0,b=T=>T&&e===T.container()&&t===T.offset(),w=T=>kd(e,T?t-1:t);return{container:ut(e),offset:ut(t),toRange:c,getClientRects:d,isVisible:f,isAtStart:s,isAtEnd:a,isEqual:b,getNode:w}};Ge.fromRangeStart=e=>Ge(e.startContainer,e.startOffset),Ge.fromRangeEnd=e=>Ge(e.endContainer,e.endOffset),Ge.after=e=>Ge(e.parentNode,Ku(e)+1),Ge.before=e=>Ge(e.parentNode,Ku(e)),Ge.isAbove=(e,t)=>Es(qn(t.getClientRects()),Vs(e.getClientRects()),D).getOr(!1),Ge.isBelow=(e,t)=>Es(Vs(t.getClientRects()),qn(e.getClientRects()),O).getOr(!1),Ge.isAtStart=e=>e?e.isAtStart():!1,Ge.isAtEnd=e=>e?e.isAtEnd():!1,Ge.isTextPosition=e=>e?mt(e.container()):!1,Ge.isElementPosition=e=>!Ge.isTextPosition(e);const By=(e,t)=>{mt(t)&&t.data.length===0&&e.remove(t)},rA=(e,t,o)=>{t.insertNode(o),By(e,o.previousSibling),By(e,o.nextSibling)},aA=(e,t,o)=>{const s=P.from(o.firstChild),a=P.from(o.lastChild);t.insertNode(o),s.each(c=>By(e,c.previousSibling)),a.each(c=>By(e,c.nextSibling))},Iy=(e,t,o)=>{Sh(o)?aA(e,t,o):rA(e,t,o)},Sd=mt,GC=Lm,KC=Nn.nodeIndex,iA=e=>{const t=e.parentNode;return GC(t)?iA(t):t},Qx=e=>e?Jc(e.childNodes,(t,o)=>(GC(o)&&o.nodeName!=="BR"?t=t.concat(Qx(o)):t.push(o),t),[]):[],uR=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&Sd(o);)t+=o.data.length;return t},Jx=e=>t=>e===t,lA=e=>{let t,o;t=Qx(iA(e)),o=Qa(t,Jx(e),e),t=t.slice(0,o+1);const s=Jc(t,(a,c,d)=>(Sd(c)&&Sd(t[d-1])&&a++,a),0);return t=jd(t,bl([e.nodeName])),o=Qa(t,Jx(e),e),o-s},cA=e=>(Sd(e)?"text()":e.nodeName.toLowerCase())+"["+lA(e)+"]",So=(e,t,o)=>{const s=[];for(let a=t.parentNode;a&&a!==e;a=a.parentNode)s.push(a);return s},dA=(e,t)=>{let o=[],s=t.container(),a=t.offset(),c;if(Sd(s))c=uR(s,a);else{const f=s.childNodes;a>=f.length?(c="after",a=f.length-1):c="before",s=f[a]}o.push(cA(s));let d=So(e,s);return d=jd(d,Ce(Lm)),o=o.concat(bm(d,f=>cA(f))),o.reverse().join("/")+","+c},mR=(e,t,o)=>{let s=Qx(e);return s=jd(s,(a,c)=>!Sd(a)||!Sd(s[c-1])),s=jd(s,bl([t])),s[o]},gR=(e,t)=>{let o=e,s=0;for(;Sd(o);){const a=o.data.length;if(t>=s&&t<=s+a){e=o,t=t-s;break}if(!Sd(o.nextSibling)){e=o,t=a;break}s+=a,o=o.nextSibling}return Sd(e)&&t>e.data.length&&(t=e.data.length),Ge(e,t)},uA=(e,t)=>{if(!t)return null;const o=t.split(","),s=o[0].split("/"),a=o.length>1?o[1]:"before",c=Jc(s,(d,f)=>{const b=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(f);return b?(b[1]==="text()"&&(b[1]="#text"),mR(d,b[1],parseInt(b[2],10))):null},e);if(!c)return null;if(!Sd(c)&&c.parentNode){let d;return a==="after"?d=KC(c)+1:d=KC(c),Ge(c.parentNode,d)}return gR(c,parseInt(a,10))},Py=Kn,mA=(e,t,o)=>{let s=e(t.data.slice(0,o)).length;for(let a=t.previousSibling;a&&mt(a);a=a.previousSibling)s+=e(a.data).length;return s},Ly=(e,t,o,s,a)=>{const c=a?s.startContainer:s.endContainer;let d=a?s.startOffset:s.endOffset;const f=[],b=e.getRoot();if(mt(c))f.push(o?mA(t,c,d):d);else{let w=0;const T=c.childNodes;d>=T.length&&T.length&&(w=1,d=Math.max(0,T.length-1)),f.push(e.nodeIndex(T[d],o)+w)}for(let w=c;w&&w!==b;w=w.parentNode)f.push(e.nodeIndex(w,o));return f},ev=(e,t,o,s)=>{const a=t.dom,c=Ly(a,e,o,s,!0),d=t.isForward(),f=Yx(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:d,...f};{const b=Ly(a,e,o,s,!1);return{start:c,end:b,forward:d,...f}}},xp=(e,t,o)=>{let s=0;return it.each(e.select(t),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;s++;return}}),s},gA=(e,t)=>{let o=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(jt(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(t?s:s-1,a.length-1)],o&&(s=t?0:o.childNodes.length,t?e.setStart(o,s):e.setEnd(o,s))}},tv=e=>(gA(e,!0),gA(e,!1),e),fA=(e,t)=>{if(jt(e)&&(e=se(e,t),Py(e)))return e;if(vl(e)){mt(e)&&uf(e)&&(e=e.parentNode);let o=e.previousSibling;if(Py(o)||(o=e.nextSibling,Py(o)))return o}},pA=e=>fA(e.startContainer,e.startOffset)||fA(e.endContainer,e.endOffset),Fy=(e,t,o)=>{const s=o.getNode(),a=o.getRng();if(s.nodeName==="IMG"||Py(s)){const d=s.nodeName;return{name:d,index:xp(o.dom,d,s)}}const c=pA(a);if(c){const d=c.tagName;return{name:d,index:xp(o.dom,d,c)}}return ev(e,o,t,a)},fR=e=>{const t=e.getRng();return{start:dA(e.dom.getRoot(),Ge.fromRangeStart(t)),end:dA(e.dom.getRoot(),Ge.fromRangeEnd(t)),forward:e.isForward()}},pR=e=>({rng:e.getRng(),forward:e.isForward()}),hA=(e,t,o)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",s,"&#xFEFF;"):e.create("span",s)},bA=(e,t)=>{const o=e.dom;let s=e.getRng();const a=o.uniqueId(),c=e.isCollapsed(),d=e.getNode(),f=d.nodeName,b=e.isForward();if(f==="IMG")return{name:f,index:xp(o,f,d)};const w=tv(s.cloneRange());if(!c){w.collapse(!1);const R=hA(o,a+"_end",t);Iy(o,w,R)}s=tv(s),s.collapse(!0);const T=hA(o,a+"_start",t);return Iy(o,s,T),e.moveToBookmark({id:a,keep:!0,forward:b}),{id:a,forward:b}},Gh=(e,t,o=!1)=>t===2?Fy(Ui,o,e):t===3?fR(e):t?pR(e):bA(e,!1),YC=Ve(Fy,_n,!0),L0=e=>e===1,vp=e=>e===-1,hR=e=>e.type==="inline-command"||e.type==="inline-format",bR=e=>e.type==="block-command"||e.type==="block-format",xR=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Ds=e=>{var t;const o=a=>$s.error({message:a,pattern:e}),s=(a,c,d)=>{if(e.format!==void 0){let f;if(me(e.format)){if(!Pa(e.format,Re))return o(a+" pattern has non-string items in the `format` array");f=e.format}else if(Re(e.format))f=[e.format];else return o(a+" pattern has non-string `format` parameter");return $s.value(c(f))}else return e.cmd!==void 0?Re(e.cmd)?$s.value(d(e.cmd,e.value)):o(a+" pattern has non-string `cmd` parameter"):o(a+" pattern is missing both `format` and `cmd` parameters")};if(!te(e))return o("Raw pattern is not an object");if(!Re(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Re(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let a=e.start,c=e.end;return c.length===0&&(c=a,a=""),s("Inline",d=>({type:"inline-format",start:a,end:c,format:d}),(d,f)=>({type:"inline-command",start:a,end:c,cmd:d,value:f}))}else{if(e.replacement!==void 0)return Re(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):$s.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const a=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):s("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:a}),(c,d)=>({type:"block-command",start:e.start,cmd:c,value:d,trigger:a}))}}},XC=e=>ft(e,bR),xA=e=>ft(e,hR),QC=(e,t)=>({inlinePatterns:xA(e),blockPatterns:XC(e),dynamicPatternsLookup:t}),Ua=(e,t)=>({...e,blockPatterns:ft(e.blockPatterns,o=>xR(o,t))}),Jl=e=>{const t=Kc(Mo(e,Ds));return je(t.errors,o=>console.error(o.message,o.pattern)),t.values},vA=e=>t=>{const o=e(t);return Jl(o)},vR=(e,t)=>e.dispatch("PreProcess",t),yR=(e,t)=>e.dispatch("PostProcess",t),Yu=e=>{e.dispatch("remove")},wR=e=>{e.dispatch("detach")},_R=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},yn=(e,t,o,s,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:s,origin:a})},CR=(e,t,o,s,a)=>{e.dispatch("ObjectResized",{target:t,width:o,height:s,origin:a})},kR=e=>{e.dispatch("PreInit")},SR=e=>{e.dispatch("PostRender")},Cr=e=>{e.dispatch("Init")},ER=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},JC=(e,t,o)=>{e.dispatch(t,o)},zy=(e,t,o,s)=>{e.dispatch("FormatApply",{format:t,node:o,vars:s})},yA=(e,t,o,s)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:s})},AR=(e,t)=>e.dispatch("BeforeSetContent",t),wA=(e,t)=>e.dispatch("SetContent",t),TR=(e,t)=>e.dispatch("BeforeGetContent",t),Hy=(e,t)=>e.dispatch("GetContent",t),ek=(e,t)=>{e.dispatch("AutocompleterStart",t)},_A=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},tk=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},DR=e=>{e.dispatch("AutocompleterEnd")},OR=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),Qt=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),Ed=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),CA=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),RR=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),NR=e=>e.dispatch("CloseActiveTooltips"),Vy=Ki().deviceType,kA=Vy.isTouch(),ok=Nn.DOM,nk=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return zo(t,(o,s)=>{const a=s.split("="),c=a[0],d=a.length>1?a[1]:c;return o[Il(c)]=Il(d),o},{})},$y=e=>pe(e,RegExp),Ut=e=>t=>t.options.get(e),ov=e=>Re(e)||te(e),sk=(e,t="")=>o=>{const s=Re(o);if(s)if(o.indexOf("=")!==-1){const a=nk(o);return{value:An(a,e.id).getOr(t),valid:s}}else return{value:o,valid:s};else return{valid:!1,message:"Must be a string."}},rk=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("crossorigin",{processor:"function",default:ut(void 0)}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),t("body_id",{processor:sk(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:sk(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const s=Re(o)&&jr(o);return s?{value:o,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const s=$o(["block","linebreak","invert","default"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>gs(o)?{valid:!0,value:o}:Re(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const s=o===!1||Re(o)||Oo(o,Re);return s?Re(o)?{value:Mo(o.split(","),Il),valid:s}:me(o)?{value:o,valid:s}:o===!1?{value:[],valid:s}:{value:o,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:rv(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const s=Re(o)||Oo(o,Re);return s?{value:me(o)?o:Mo(o.split(","),Il),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const s=gs(o)||Re(o);return s?o===!1||Vy.isiPhone()||Vy.isiPad()?{value:"",valid:s}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!kA}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:o=>o===!1||Re(o)||so(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const s=o===!1||Re(o);return s?{value:o===!1?"":o,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:o=>gs(o)?(e.initialized&&eg(e)!==o&&Promise.resolve().then(()=>{RR(e,o)}),{valid:!0,value:o}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_html_in_comments",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:o=>{const s=Oo(o,Re);return s?{value:o,valid:s}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:ov}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:ov}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:ov}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:ov}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>Re(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>Oo(o,te)||o===!1?{value:Jl(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>so(o)?{value:vA(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>Oo(o,$y)?{value:o,valid:!0}:$y(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const s=$o(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const s=$o(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),t("user_id",{processor:"string",default:"Anonymous"}),t("fetch_users",{processor:o=>o===void 0?{valid:!0,value:void 0}:so(o)?{valid:!0,value:o}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Rc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:ok.getAttrib(e.getElement(),"placeholder")})}),t("lists_indent_on_tab",{processor:"boolean",default:!0}),t("list_max_depth",{processor:o=>{const s=E(o);if(s){if(o<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:o,valid:s}}else return{valid:!1,message:"Must be a number"}}})},MR=Ut("iframe_attrs"),SA=Ut("doctype"),Uy=Ut("document_base_url"),EA=Ut("body_id"),AA=Ut("body_class"),nv=Ut("content_security_policy"),TA=Ut("br_in_pre"),Za=Ut("forced_root_block"),F0=Ut("forced_root_block_attrs"),BR=Ut("newline_behavior"),IR=Ut("br_newline_selector"),PR=Ut("no_newline_selector"),LR=Ut("keep_styles"),Ms=Ut("end_container_on_empty_block"),Zy=Ut("automatic_uploads"),sv=Ut("images_reuse_filename"),jy=Ut("images_replace_blob_uris"),Xm=Ut("icons"),Wy=Ut("icons_url"),z0=Ut("images_upload_url"),DA=Ut("images_upload_base_path"),OA=Ut("images_upload_credentials"),ak=Ut("images_upload_handler"),qy=Ut("content_css_cors"),Qm=Ut("referrer_policy"),hf=Ut("crossorigin"),ik=Ut("language"),FR=Ut("language_url"),lk=Ut("indent_use_margin"),zR=Ut("indentation"),HR=Ut("content_css"),VR=Ut("content_style"),Ma=Ut("font_css"),ck=Ut("directionality"),ii=Ut("inline_boundaries_selector"),Kh=Ut("object_resizing"),H0=Ut("resize_img_proportional"),RA=Ut("placeholder"),Gy=Ut("event_root"),NA=Ut("service_message"),V0=Ut("theme"),$R=Ut("theme_url"),wl=Ut("model"),sl=Ut("model_url"),ec=Ut("inline_boundaries"),dk=Ut("formats"),MA=Ut("preview_styles"),UR=Ut("format_empty_lines"),BA=Ut("format_noneditable_selector"),ZR=Ut("custom_ui_selector"),rv=Ut("inline"),jR=Ut("hidden_input"),IA=Ut("submit_patch"),uk=Ut("add_form_submit_trigger"),PA=Ut("add_unload_trigger"),mk=Ut("custom_undo_redo_levels"),WR=Ut("disable_nodechange"),gk=Ut("readonly"),qR=Ut("editable_root"),fk=Ut("content_css_cors"),$0=Ut("plugins"),GR=Ut("external_plugins"),KR=Ut("block_unsupported_drop"),YR=Ut("visual"),XR=Ut("visual_table_class"),LA=Ut("visual_anchor_class"),yp=Ut("iframe_aria_text"),QR=Ut("setup"),FA=Ut("init_instance_callback"),zA=Ut("urlconverter_callback"),HA=Ut("auto_focus"),VA=Ut("browser_spellcheck"),pk=Ut("protect"),JR=Ut("paste_block_drop"),Ky=Ut("paste_data_images"),eN=Ut("paste_preprocess"),hk=Ut("paste_postprocess"),$A=Ut("newdocument_content"),tN=Ut("paste_webkit_styles"),oN=Ut("paste_remove_styles_if_webkit"),UA=Ut("paste_merge_formats"),ZA=Ut("smart_paste"),nN=Ut("paste_as_text"),jA=Ut("paste_tab_spaces"),sN=Ut("allow_html_data_urls"),rN=Ut("text_patterns"),aN=Ut("text_patterns_lookup"),WA=Ut("noneditable_class"),Ht=Ut("editable_class"),Jm=Ut("noneditable_regexp"),iN=Ut("preserve_cdata"),bk=Ut("highlight_on_focus"),xk=Ut("xss_sanitization"),qA=Ut("init_content_sync"),vk=e=>e.options.isSet("text_patterns_lookup"),lN=e=>it.explode(e.options.get("font_size_style_values")),GA=e=>it.explode(e.options.get("font_size_classes")),cN=e=>e.options.get("encoding")==="xml",KA=e=>it.explode(e.options.get("images_file_types")),Yy=Ut("table_tab_navigation"),dN=Ut("details_initial_state"),YA=Ut("details_serialized_state"),av=Ut("sandbox_iframes"),yk=e=>e.options.get("sandbox_iframes_exclusions"),XA=Ut("convert_unsafe_embeds"),uN=Ut("license_key"),Xy=Ut("api_key"),eg=Ut("disabled"),Qy=Ut("user_id"),mN=Ut("fetch_users"),gN=Ut("lists_indent_on_tab"),wk=e=>P.from(e.options.get("list_max_depth")),fN=jt,QA=mt,_k=e=>{const t=e.parentNode;t&&t.removeChild(e)},Ck=e=>{const t=Ui(e);return{count:e.length-t.length,text:t}},JA=e=>{let t;for(;(t=e.data.lastIndexOf(Hr))!==-1;)e.deleteData(t,1)},e5=(e,t)=>(wp(e),t),t5=(e,t)=>{const o=Ck(e.data.substr(0,t.offset())),s=Ck(e.data.substr(t.offset()));return(o.text+s.text).length>0?(JA(e),Ge(e,t.offset()-o.count)):t},kk=(e,t)=>{const o=t.container(),s=pr(Nt(o.childNodes),e).map(a=>a<t.offset()?Ge(o,t.offset()-1):t).getOr(t);return wp(e),s},o5=(e,t)=>QA(e)&&t.container()===e?t5(e,t):e5(e,t),pN=(e,t)=>t.container()===e.parentNode?kk(e,t):e5(e,t),Jy=(e,t)=>Ge.isTextPosition(t)?o5(e,t):pN(e,t),wp=e=>{fN(e)&&vl(e)&&(Gx(e)?e.removeAttribute("data-mce-caret"):_k(e)),QA(e)&&(JA(e),e.data.length===0&&_k(e))},Sk=Kn,n5=vi,hN=Kg,ew="*[contentEditable=false],video,audio,embed,object",Ek=(e,t,o)=>{const s=h(t.getBoundingClientRect(),o);let a,c;if(e.tagName==="BODY"){const f=e.ownerDocument.documentElement;a=e.scrollLeft||f.scrollLeft,c=e.scrollTop||f.scrollTop}else{const f=e.getBoundingClientRect();a=e.scrollLeft-f.left,c=e.scrollTop-f.top}s.left+=a,s.right+=a,s.top+=c,s.bottom+=c,s.width=1;let d=t.offsetWidth-t.clientWidth;return d>0&&(o&&(d*=-1),s.left+=d,s.right+=d),s},s5=e=>{var t,o;const s=qr(oe.fromDom(e),ew);for(let a=0;a<s.length;a++){const c=s[a].dom;let d=c.previousSibling;if(Wh(d)){const f=d.data;f.length===1?(t=d.parentNode)===null||t===void 0||t.removeChild(d):d.deleteData(f.length-1,1)}d=c.nextSibling,hp(d)&&(d.data.length===1?(o=d.parentNode)===null||o===void 0||o.removeChild(d):d.deleteData(0,1))}},r5=(e,t,o,s)=>{const a=Bl();let c,d;const f=Za(e),b=e.dom,w=(X,K)=>{let ve;if(T(),hN(K))return null;if(o(K)){const xe=Kx(f,K,X),Te=Ek(t,K,X);b.setStyle(xe,"top",Te.top),b.setStyle(xe,"caret-color","transparent"),d=xe;const Fe=b.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});b.setStyles(Fe,{...Te}),b.add(t,Fe),a.set({caret:Fe,element:K,before:X}),X&&b.addClass(Fe,"mce-visual-caret-before"),R(),ve=K.ownerDocument.createRange(),ve.setStart(xe,0),ve.setEnd(xe,0)}else return d=Ry(K,X),ve=K.ownerDocument.createRange(),U0(d.nextSibling)?(ve.setStart(d,0),ve.setEnd(d,0)):(ve.setStart(d,1),ve.setEnd(d,1)),ve;return ve},T=()=>{s5(t),d&&(wp(d),d=null),a.on(X=>{b.remove(X.caret),a.clear()}),c&&(clearInterval(c),c=void 0)},R=()=>{c=window.setInterval(()=>{a.on(X=>{s()?b.toggleClass(X.caret,"mce-visual-caret-hidden"):b.addClass(X.caret,"mce-visual-caret-hidden")})},500)},N=()=>{a.on(X=>{const K=Ek(t,X.element,X.before);b.setStyles(X.caret,{...K})})},F=()=>clearInterval(c),ee=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:a.isSet,show:w,hide:T,getCss:ee,reposition:N,destroy:F}},Ak=()=>Eo.browser.isFirefox(),U0=e=>Sk(e)||n5(e),Z0=e=>(U0(e)||Ac(e)&&Ak())&&_m(oe.fromDom(e)).exists(Qi),a5=xi,tw=Kn,i5=vi,Tk=ss("display","block table table-cell table-row table-caption list-item"),l5=vl,c5=uf,bN=jt,xN=mt,vN=Vo,iv=(e,t)=>{let o;for(;o=e(t);)if(!c5(o))return o;return null},lv=(e,t,o,s,a)=>{const c=new er(e,s),d=tw(e)||c5(e);let f;if(vp(t)){if(d&&(f=iv(c.prev.bind(c),!0),o(f)))return f;for(;f=iv(c.prev.bind(c),a);)if(o(f))return f}if(L0(t)){if(d&&(f=iv(c.next.bind(c),!0),o(f)))return f;for(;f=iv(c.next.bind(c),a);)if(o(f))return f}return null},wi=(e,t)=>{const o=a=>a5(a.dom),s=a=>a.dom===t;return ni(oe.fromDom(e),o,s).map(a=>a.dom).getOr(t)},_p=(e,t)=>{for(;e&&e!==t;){if(Tk(e))return e;e=e.parentNode}return null},tg=(e,t,o)=>_p(e.container(),o)===_p(t.container(),o),rl=(e,t)=>{if(!t)return P.none();const o=t.container(),s=t.offset();return bN(o)?P.from(o.childNodes[s+e]):P.none()},d5=(e,t)=>{var o;const a=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),a},yN=(e,t,o)=>_p(t,e)===_p(o,e),u5=(e,t,o)=>{const s=e?"previousSibling":"nextSibling";let a=o;for(;a&&a!==t;){let c=a[s];if(c&&l5(c)&&(c=c[s]),tw(c)||i5(c)){if(yN(t,c,a))return c;break}if(vN(c))break;a=a.parentNode}return null},_i=Ve(d5,!0),j0=Ve(d5,!1),ow=(e,t,o)=>{let s;const a=Ve(u5,!0,t),c=Ve(u5,!1,t),d=o.startContainer,f=o.startOffset;if(uf(d)){const b=xN(d)?d.parentNode:d,w=b.getAttribute("data-mce-caret");if(w==="before"&&(s=b.nextSibling,Z0(s)))return _i(s);if(w==="after"&&(s=b.previousSibling,Z0(s)))return j0(s)}if(!o.collapsed)return o;if(mt(d)){if(l5(d)){if(e===1){if(s=c(d),s)return _i(s);if(s=a(d),s)return j0(s)}if(e===-1){if(s=a(d),s)return j0(s);if(s=c(d),s)return _i(s)}return o}if(Wh(d)&&f>=d.data.length-1)return e===1&&(s=c(d),s)?_i(s):o;if(hp(d)&&f<=1)return e===-1&&(s=a(d),s)?j0(s):o;if(f===d.data.length)return s=c(d),s?_i(s):o;if(f===0)return s=a(d),s?j0(s):o}return o},Dk=(e,t)=>rl(e?0:-1,t).filter(tw),W0=(e,t,o)=>{const s=ow(e,t,o);return e===-1?Ge.fromRangeStart(s):Ge.fromRangeEnd(s)},cv=e=>P.from(e.getNode()).map(oe.fromDom),m5=e=>P.from(e.getNode(!0)).map(oe.fromDom),Ok=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},nw=(e,t)=>{const o=tg(e,t);return!o&&Ns(e.getNode())?!0:o},wN=Kn,og=mt,wn=jt,Yh=Ns,Bc=Vo,Cp=_r,Xh=Na,Rk=(e,t)=>{const o=[];let s=e;for(;s&&s!==t;)o.push(s),s=s.parentNode;return o},sw=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Nk=(e,t)=>{if(L0(e)){if(Bc(t.previousSibling)&&!og(t.previousSibling))return Ge.before(t);if(og(t))return Ge(t,0)}if(vp(e)){if(Bc(t.nextSibling)&&!og(t.nextSibling))return Ge.after(t);if(og(t))return Ge(t,t.data.length)}return vp(e)?Yh(t)?Ge.before(t):Ge.after(t):Ge.before(t)},_N=(e,t)=>{const o=t.nextSibling;return o&&Bc(o)?og(o)?Ge(o,0):Ge.before(o):rw(1,Ge.after(t),e)},rw=(e,t,o)=>{let s,a,c,d;if(!wn(o)||!t)return null;if(t.isEqual(Ge.after(o))&&o.lastChild){if(d=Ge.after(o.lastChild),vp(e)&&Bc(o.lastChild)&&wn(o.lastChild))return Yh(o.lastChild)?Ge.before(o.lastChild):d}else d=t;const f=d.container();let b=d.offset();if(og(f)){if(vp(e)&&b>0)return Ge(f,--b);if(L0(e)&&b<f.length)return Ge(f,++b);s=f}else{if(vp(e)&&b>0&&(a=sw(f,b-1),Bc(a)))return!Cp(a)&&(c=lv(a,e,Xh,a),c)?og(c)?Ge(c,c.data.length):Ge.after(c):og(a)?Ge(a,a.data.length):Ge.before(a);if(L0(e)&&b<f.childNodes.length&&(a=sw(f,b),Bc(a)))return Yh(a)?_N(o,a):!Cp(a)&&(c=lv(a,e,Xh,a),c)?og(c)?Ge(c,0):Ge.before(c):og(a)?Ge(a,0):Ge.after(a);s=a||d.getNode()}if(s&&(L0(e)&&d.isAtEnd()||vp(e)&&d.isAtStart())&&(s=lv(s,e,Uo,o,!0),Xh(s,o)))return Nk(e,s);a=s&&lv(s,e,Xh,o);const w=Z(ft(Rk(f,o),wN));return w&&(!a||!w.contains(a))?(L0(e)?d=Ge.after(w):d=Ge.before(w),d):a?Nk(e,a):null},Xu=e=>({next:t=>rw(1,t,e),prev:t=>rw(-1,t,e)}),g5=(e,t,o)=>{const s=e?Ge.before(o):Ge.after(o);return Ic(e,t,s)},f5=e=>Ns(e)?Ge.before(e):Ge.after(e),p5=e=>Ge.isTextPosition(e)?e.offset()===0:Vo(e.getNode()),h5=e=>{if(Ge.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return Vo(e.getNode(!0))},b5=(e,t)=>!Ge.isTextPosition(e)&&!Ge.isTextPosition(t)&&e.getNode()===t.getNode(!0),_l=e=>!Ge.isTextPosition(e)&&Ns(e.getNode()),CN=(e,t,o)=>e?!b5(t,o)&&!_l(t)&&h5(t)&&p5(o):!b5(o,t)&&p5(t)&&h5(o),Ic=(e,t,o)=>{const s=Xu(t);return P.from(e?s.next(o):s.prev(o))},q0=(e,t,o)=>Ic(e,t,o).bind(s=>tg(o,s,t)&&CN(e,o,s)?Ic(e,t,s):P.some(s)),x5=(e,t,o,s)=>q0(e,t,o).bind(a=>s(a)?x5(e,t,a,s):P.some(a)),kp=(e,t)=>{const o=e?t.firstChild:t.lastChild;return mt(o)?P.some(Ge(o,e?0:o.data.length)):o?Vo(o)?P.some(e?Ge.before(o):f5(o)):g5(e,t,o):P.none()},Cl=Ve(Ic,!0),tc=Ve(Ic,!1),un=Ve(kp,!0),kl=Ve(kp,!1),aw="_mce_caret",Pc=e=>jt(e)&&e.id===aw,Qh=(e,t)=>{let o=t;for(;o&&o!==e;){if(Pc(o))return o;o=o.parentNode}return null},kN=e=>Re(e.start),v5=e=>vo(e,"rng"),SN=e=>vo(e,"id"),an=e=>vo(e,"name"),iw=e=>it.isArray(e.start),dv=e=>!an(e)&&gs(e.forward)?e.forward:!0,G0=(e,t)=>(jt(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),uv=(e,t)=>{const o=P.from(uA(e.getRoot(),t.start)),s=P.from(uA(e.getRoot(),t.end));return Es(o,s,(a,c)=>{const d=e.createRng();return d.setStart(a.container(),a.offset()),d.setEnd(c.container(),c.offset()),{range:d,forward:dv(t)}})},mv=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Hr);e.appendChild(a),t.setStart(a,0),t.setEnd(a,0)},gv=e=>!e.hasChildNodes(),y5=(e,t)=>kl(e).fold(_o,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),w5=(e,t,o)=>gv(t)&&Qh(e,t)?(mv(t,o),!0):!1,_5=(e,t,o,s)=>{const a=o[t?"start":"end"],c=e.getRoot();if(a){let d=c,f=a[0];for(let b=a.length-1;d&&b>=1;b--){const w=d.childNodes;if(w5(c,d,s))return!0;if(a[b]>w.length-1)return w5(c,d,s)?!0:y5(d,s);d=w[a[b]]}mt(d)&&(f=Math.min(a[0],d.data.length)),jt(d)&&(f=Math.min(a[0],d.childNodes.length)),t?s.setStart(d,f):s.setEnd(d,f)}return!0},Mk=e=>mt(e)&&e.data.length>0,C5=(e,t,o)=>{const s=e.get(o.id+"_"+t),a=s?.parentNode,c=o.keep;if(s&&a){let d,f;if(t==="start"?c?s.hasChildNodes()?(d=s.firstChild,f=1):Mk(s.nextSibling)?(d=s.nextSibling,f=0):Mk(s.previousSibling)?(d=s.previousSibling,f=s.previousSibling.data.length):(d=a,f=e.nodeIndex(s)+1):(d=a,f=e.nodeIndex(s)):c?s.hasChildNodes()?(d=s.firstChild,f=1):Mk(s.previousSibling)?(d=s.previousSibling,f=s.previousSibling.data.length):(d=a,f=e.nodeIndex(s)):(d=a,f=e.nodeIndex(s)),!c){const b=s.previousSibling,w=s.nextSibling;it.each(it.grep(s.childNodes),R=>{mt(R)&&(R.data=R.data.replace(/\uFEFF/g,""))});let T;for(;T=e.get(o.id+"_"+t);)e.remove(T,!0);if(mt(w)&&mt(b)&&!Eo.browser.isOpera()){const R=b.data.length;b.appendData(w.data),e.remove(w),d=b,f=R}}return P.some(Ge(d,f))}else return P.none()},hs=(e,t)=>{const o=e.createRng();return _5(e,!0,t,o)&&_5(e,!1,t,o)?P.some({range:o,forward:dv(t)}):P.none()},fv=(e,t)=>{const o=C5(e,"start",t),s=C5(e,"end",t);return Es(o,s.or(o),(a,c)=>{const d=e.createRng();return d.setStart(G0(e,a.container()),a.offset()),d.setEnd(G0(e,c.container()),c.offset()),{range:d,forward:dv(t)}})},bf=(e,t)=>P.from(e.select(t.name)[t.index]).map(o=>{const s=e.createRng();return s.selectNode(o),{range:s,forward:!0}}),Mn=(e,t)=>{const o=e.dom;if(t){if(iw(t))return hs(o,t);if(kN(t))return uv(o,t);if(SN(t))return fv(o,t);if(an(t))return bf(o,t);if(v5(t))return P.some({range:t.rng,forward:dv(t)})}return P.none()},ba=(e,t,o)=>Gh(e,t,o),ng=(e,t)=>{Mn(e,t).each(({range:o,forward:s})=>{e.setRng(o,s)})},Ad=e=>jt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Sp=(e=>t=>e===t)(Fs),Ep=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,lw=e=>!Ep(e)&&!Sp(e)&&!Oi(e),cw=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},AN=e=>ar(e,t=>{const o=be(t);return o?[oe.fromDom(o)]:[]}),Bk=e=>cw(e).length>1,k5=e=>ft(AN(e),Gm),Ik=e=>qr(e,"td[data-mce-selected],th[data-mce-selected]"),ja=(e,t)=>{const o=Ik(t);return o.length>0?o:k5(e)},K0=e=>ja(cw(e.selection.getSel()),oe.fromDom(e.getBody())),pv=(e,t)=>qs(e,"table",t),TN=e=>{const t=e.startContainer,o=e.startOffset;return mt(t)?o===0?P.some(oe.fromDom(t)):P.none():P.from(t.childNodes[o]).map(oe.fromDom)},S5=e=>{const t=e.endContainer,o=e.endOffset;return mt(t)?o===t.data.length?P.some(oe.fromDom(t)):P.none():P.from(t.childNodes[o-1]).map(oe.fromDom)},Y0=e=>zl(e).fold(ut([e]),t=>[e].concat(Y0(t))),dw=e=>Qr(e).fold(ut([e]),t=>Ho(t)==="br"?Fl(t).map(o=>[e].concat(dw(o))).getOr([]):[e].concat(dw(t))),xf=(e,t)=>Es(TN(t),S5(t),(o,s)=>{const a=Cn(Y0(e),Ve(tn,o)),c=Cn(dw(e),Ve(tn,s));return a.isSome()&&c.isSome()}).getOr(!1),uw=(e,t,o,s)=>{const a=o,c=new er(o,a),d=Dr(e.schema.getMoveCaretBeforeOnEnterElements(),(b,w)=>!$o(["td","th","table"],w.toLowerCase()));let f=o;do{if(mt(f)&&it.trim(f.data).length!==0){s?t.setStart(f,0):t.setEnd(f,f.data.length);return}if(d[f.nodeName]){s?t.setStartBefore(f):f.nodeName==="BR"?t.setEndBefore(f):t.setEndAfter(f);return}}while(f=s?c.next():c.prev());a.nodeName==="BODY"&&(s?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},hv=e=>{const t=e.selection.getSel();return He(t)&&t.rangeCount>0},mw=(e,t)=>{const o=K0(e);o.length>0?je(o,s=>{const a=s.dom,c=e.dom.createRng();c.setStartBefore(a),c.setEndAfter(a),t(c,!0)}):t(e.selection.getRng(),!1)},Pk=(e,t,o)=>{const s=bA(e,t);o(s),e.moveToBookmark(s)},gw=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),E5=e=>gw(e,Io),DN=e=>gw(e,mt),ON=e=>gw(e,Eh),bv=e=>E(e?.nodeType),Lk=e=>jt(e)&&!Ad(e)&&!Pc(e)&&!Lm(e),RN=(e,t)=>{if(Lk(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),s=parseInt(o,10);return!isNaN(s)&&s>0}else return!1},fw=(e,t,o)=>{const{selection:s,dom:a}=e,c=s.getNode(),d=Kn(c);Pk(s,!0,()=>{t()}),d&&Kn(c)&&a.isChildOf(c,e.getBody())?e.selection.select(c):o(s.getStart())&&Fk(a,s)},Fk=(e,t)=>{var o,s;const a=t.getRng(),{startContainer:c,startOffset:d}=a,f=t.getNode();if(!RN(e,f)&&jt(c)){const b=c.childNodes,w=e.getRoot();let T;if(d<b.length){const R=b[d];T=new er(R,(o=e.getParent(R,e.isBlock))!==null&&o!==void 0?o:w)}else{const R=b[b.length-1];T=new er(R,(s=e.getParent(R,e.isBlock))!==null&&s!==void 0?s:w),T.next(!0)}for(let R=T.current();R;R=T.next()){if(e.getContentEditable(R)==="false")return;if(mt(R)&&!Hk(R)){a.setStart(R,0),t.setRng(a);return}}}},A5=(e,t,o)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(jt(e)||!Hk(e))return e}},zk=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Uu(e,t),X0=(e,t,o)=>e.schema.isValidChild(t,o),Hk=(e,t=!1)=>{if(He(e)&&mt(e)){const o=t?e.data.replace(/ /g," "):e.data;return Pm(o)}else return!1},T5=e=>He(e)&&mt(e)&&e.length===0,vf=(e,t)=>{const o="[data-mce-cef-wrappable]",s=BA(e),a=Xc(s)?o:`${o},${s}`;return Pn(oe.fromDom(t),a)},Vk=(e,t)=>{const o=e.dom;return Lk(t)&&o.getContentEditable(t)==="false"&&vf(e,t)&&o.select('[contenteditable="true"]',t).length===0},yf=(e,t)=>so(e)?e(t):(He(t)&&(e=e.replace(/%(\w+)/g,(o,s)=>t[s]||o)),e),$k=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Uk=(e,t)=>{if(Qo(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=of(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},xv=(e,t,o)=>{const s=e.getStyle(t,o);return Uk(s,o)},Zk=(e,t)=>{let o;return e.getParent(t,s=>jt(s)?(o=e.getStyle(s,"text-decoration"),!!o&&o!=="none"):!1),o},pw=(e,t,o)=>e.getParents(t,o,e.getRoot()),wf=(e,t,o)=>{const s=e.formatter.get(t);return He(s)&&In(s,o)},D5=(e,t)=>wf(e,t,s=>{const a=c=>so(c)||c.length>1&&c.charAt(0)==="%";return In(["styles","attributes"],c=>An(s,c).exists(d=>{const f=me(d)?d:Ss(d);return In(f,a)}))}),NN=(e,t,o)=>{const s=["inline","block","selector","attributes","styles","classes"],a=c=>Dr(c,(d,f)=>In(s,b=>b===f));return wf(e,t,c=>{const d=a(c);return wf(e,o,f=>{const b=a(f);return Fd(d,b)})})},sg=e=>Ae(e,"block"),jk=e=>sg(e)&&e.wrapper===!0,MN=e=>sg(e)&&e.wrapper!==!0,oc=e=>Ae(e,"selector"),xa=e=>Ae(e,"inline"),hw=e=>oc(e)&&xa(e)&&hr(An(e,"mixed"),!0),Wk=e=>oc(e)&&e.expand!==!1&&!xa(e),O5=e=>{const t=[];let o=e;for(;o;){if(mt(o)&&o.data!==Hr||o.childNodes.length>1)return[];jt(o)&&t.push(o),o=o.firstChild}return t},qk=e=>O5(e).length>0,bw=e=>Pc(e.dom)&&qk(e.dom),Jh=Ad,Gk=pw,R5=Hk,BN=zk,nc=e=>Ns(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Kk=(e,t)=>{let o=t;for(;o;){if(jt(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},N5=(e,t,o,s)=>{const a=t.data;if(e){for(let c=o;c>0;c--)if(s(a.charAt(c-1)))return c}else for(let c=o;c<a.length;c++)if(s(a.charAt(c)))return c;return-1},M5=(e,t,o)=>N5(e,t,o,s=>Sp(s)||Ep(s)),IN=(e,t,o)=>N5(e,t,o,lw),e1=(e,t,o,s,a,c)=>{let d;const f=e.getParent(o,R=>Gg(R)||e.isBlock(R)),b=He(f)?f:t,w=(R,N,F)=>{const ee=Ql(e),X=a?ee.backwards:ee.forwards;return P.from(X(R,N,(K,ve)=>Jh(K.parentNode)?-1:(d=K,F(a,K,ve)),b))};return w(o,s,M5).bind(R=>c?w(R.container,R.offset+(a?-1:0),IN):P.some(R)).orThunk(()=>d?P.some({container:d,offset:a?0:d.length}):P.none())},t1=(e,t,o,s,a)=>{const c=s[a];mt(s)&&Xc(s.data)&&c&&(s=c);const d=Gk(e,s);for(let f=0;f<d.length;f++)for(let b=0;b<t.length;b++){const w=t[b];if(!(He(w.collapsed)&&w.collapsed!==o.collapsed)&&oc(w)&&e.is(d[f],w.selector))return d[f]}return s},B5=(e,t,o,s)=>{var a;let c=o;const d=e.getRoot(),f=t[0];if(sg(f)&&(c=f.wrapper?null:e.getParent(o,f.block,d)),!c){const b=(a=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:d;c=e.getParent(mt(o)?o.parentNode:o,w=>w!==d&&BN(e.schema,w),b)}if(c&&sg(f)&&f.wrapper&&(c=Gk(e,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c&&c[s]&&!e.isBlock(c[s])&&(c=c[s],!$k(c,"br")););return c||o},uu=(e,t,o,s)=>{const a=o.parentNode;return He(o[s])?!1:a===t||Qo(a)||e.isBlock(a)?!0:uu(e,t,a,s)},xw=(e,t,o,s,a,c)=>{let d=o;const f=a?"previousSibling":"nextSibling",b=e.getRoot();if(mt(o)&&!R5(o)&&(a?s>0:s<o.data.length))return o;for(;d;){if(Gg(d))return o;if(!t[0].block_expand&&e.isBlock(d))return c?d:o;for(let w=d[f];w;w=w[f]){const T=mt(w)&&!uu(e,b,w,f);if(!Jh(w)&&!nc(w)&&!R5(w,T))return d}if(d===b||d.parentNode===b){o=d;break}d=d.parentNode}return o},I5=e=>Jh(e.parentNode)||Jh(e),rg=(e,t,o,s={})=>{const{includeTrailingSpace:a=!1,expandToBlock:c=!0}=s,d=e.getParent(t.commonAncestorContainer,F=>Gg(F)),f=He(d)?d:e.getRoot();let{startContainer:b,startOffset:w,endContainer:T,endOffset:R}=t;const N=o[0];return jt(b)&&b.hasChildNodes()&&(b=se(b,w),mt(b)&&(w=0)),jt(T)&&T.hasChildNodes()&&(T=se(T,t.collapsed?R:R-1),mt(T)&&(R=T.data.length)),b=Kk(e,b),T=Kk(e,T),I5(b)&&(b=Jh(b)?b:b.parentNode,t.collapsed?b=b.previousSibling||b:b=b.nextSibling||b,mt(b)&&(w=t.collapsed?b.length:0)),I5(T)&&(T=Jh(T)?T:T.parentNode,t.collapsed?T=T.nextSibling||T:T=T.previousSibling||T,mt(T)&&(R=t.collapsed?0:T.length)),t.collapsed&&(e1(e,f,b,w,!0,a).each(({container:X,offset:K})=>{b=X,w=K}),e1(e,f,T,R,!1,a).each(({container:X,offset:K})=>{T=X,R=K})),(xa(N)||N.block_expand)&&((!xa(N)||!mt(b)||w===0)&&(b=xw(e,o,b,w,!0,c)),(!xa(N)||!mt(T)||R===T.data.length)&&(T=xw(e,o,T,R,!1,c))),Wk(N)&&(b=t1(e,o,t,b,"previousSibling"),T=t1(e,o,t,T,"nextSibling")),(sg(N)||oc(N))&&(b=B5(e,o,b,"previousSibling"),T=B5(e,o,T,"nextSibling"),sg(N)&&(e.isBlock(b)||(b=xw(e,o,b,w,!0,c),mt(b)&&(w=0)),e.isBlock(T)||(T=xw(e,o,T,R,!1,c),mt(T)&&(R=T.data.length)))),jt(b)&&b.parentNode&&(w=e.nodeIndex(b),b=b.parentNode),jt(T)&&T.parentNode&&(R=e.nodeIndex(T)+1,T=T.parentNode),{startContainer:b,startOffset:w,endContainer:T,endOffset:R}},o1=(e,t,o)=>{var s;const a=t.startOffset,c=se(t.startContainer,a),d=t.endOffset,f=se(t.endContainer,d-1),b=K=>{const ve=K[0];mt(ve)&&ve===c&&a>=ve.data.length&&K.splice(0,1);const xe=K[K.length-1];return d===0&&K.length>0&&xe===f&&mt(xe)&&K.splice(K.length-1,1),K},w=(K,ve,xe)=>{const Te=[];for(;K&&K!==xe;K=K[ve])Te.push(K);return Te},T=(K,ve)=>e.getParent(K,xe=>xe.parentNode===ve,ve),R=(K,ve,xe)=>{const Te=xe?"nextSibling":"previousSibling";for(let Fe=K,rt=Fe.parentNode;Fe&&Fe!==ve;Fe=rt){rt=Fe.parentNode;const Ot=w(Fe===K?Fe:Fe[Te],Te);Ot.length&&(xe||Ot.reverse(),o(b(Ot)))}};if(c===f)return o(b([c]));const N=(s=e.findCommonAncestor(c,f))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(c,f))return R(c,N,!0);if(e.isChildOf(f,c))return R(f,N);const F=T(c,N)||c,ee=T(f,N)||f;R(c,F,!0);const X=w(F===c?F:F.nextSibling,"nextSibling",ee===f?ee.nextSibling:ee);X.length&&o(b(X)),R(f,ee)},Yk=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],P5=e=>Ja(e)&&dd(e)===Hr,Ap=(e,t,o,s)=>_m(t).fold(()=>"skipping",a=>s==="br"||P5(t)?"valid":Sy(t)?"existing":Pc(t.dom)?"caret":In(Yk,c=>Pn(t,c))?"valid-block":!X0(e,o,s)||!X0(e,Ho(a),o)?"invalid-child":"valid"),PN=(e,t)=>{const o=rg(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},L5=(e,t,o,s,a,c)=>{const{uid:d=t,...f}=o;$l(e,jm()),Wr(e,`${qm()}`,d),Wr(e,`${Wm()}`,s);const{attributes:b={},classes:w=[]}=a(d,f);if(Xi(e,b),Lu(e,w),c){w.length>0&&Wr(e,`${wd()}`,w.join(","));const T=ma(b);T.length>0&&Wr(e,`${af()}`,T.join(","))}},Yo=e=>{zi(e,jm()),Mr(e,`${qm()}`),Mr(e,`${Wm()}`),Mr(e,`${rf()}`);const t=vc(e,`${af()}`).map(s=>s.split(",")).getOr([]),o=vc(e,`${wd()}`).map(s=>s.split(",")).getOr([]);je(t,s=>Mr(e,s)),a0(e,o),Mr(e,`${wd()}`),Mr(e,`${af()}`)},F5=(e,t,o,s,a)=>{const c=oe.fromTag("span",e);return L5(c,t,o,s,a,!1),c},z5=(e,t,o,s,a,c)=>{const d=[],f=F5(e.getDoc(),o,c,s,a),b=Bl(),w=()=>{b.clear()},T=()=>b.get().getOrThunk(()=>{const ee=ld(f);return d.push(ee),b.set(ee),ee}),R=ee=>{je(ee,N)},N=ee=>{switch(Ap(e,ee,"span",Ho(ee))){case"invalid-child":{w();const K=on(ee);R(K),w();break}case"valid-block":{w(),L5(ee,o,c,s,a,!0);break}case"valid":{const K=T();xr(ee,K);break}}},F=ee=>{const X=Mo(ee,oe.fromDom);R(X)};return o1(e.dom,t,ee=>{w(),F(ee)}),d},LN=(e,t,o,s)=>{e.undoManager.transact(()=>{const a=e.selection,c=a.getRng(),d=K0(e).length>0,f=Zs("mce-annotation");if(c.collapsed&&!d&&PN(e,c),a.getRng().collapsed&&!d){const b=F5(e.getDoc(),f,s,t,o.decorate);Sm(b,Fs),a.getRng().insertNode(b.dom),a.select(b.dom)}else Pk(a,!1,()=>{mw(e,b=>{z5(e,b,f,t,o.decorate,s)})})})},or=e=>{const t=M0();Zx(e,t);const o=Ux(e,t),s=Xr("span"),a=c=>{je(c,d=>{s(d)?Mi(d):Yo(d)})};return{register:(c,d)=>{t.register(c,d)},annotate:(c,d)=>{t.lookup(c).each(f=>{LN(e,c,f,d)})},annotationChanged:(c,d)=>{o.addListener(c,d)},remove:c=>{pn(e,P.some(c)).each(({elements:d})=>{const f=e.selection.getBookmark();a(d),e.selection.moveToBookmark(f)})},removeAll:c=>{const d=e.selection.getBookmark();Jo(Xl(e,c),(f,b)=>{a(f)}),e.selection.moveToBookmark(d)},getAll:c=>{const d=Xl(e,c);return $r(d,f=>Mo(f,b=>b.dom))}}},Q0=e=>({getBookmark:Ve(ba,e),moveToBookmark:Ve(ng,e)});Q0.isBookmarkNode=Ad;const Bs=(e,t,o)=>o.collapsed?!1:In(o.getClientRects(),s=>L(s,e,t)),Xk=(e,t)=>{const o=Ja(t)?dd(t).length:on(t).length+1;return e>o?o:e<0?0:e},H5=e=>Wl.range(e.start,Xk(e.soffset,e.start),e.finish,Xk(e.foffset,e.finish)),V5=(e,t)=>!Sc(t.dom)&&(Nr(e,t)||tn(e,t)),Qk=e=>t=>V5(e,t.start)&&V5(e,t.finish),_f=e=>e.inline||Eo.browser.isFirefox(),Jk=e=>Wl.range(oe.fromDom(e.startContainer),e.startOffset,oe.fromDom(e.endContainer),e.endOffset),FN=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?P.none():P.from(t.getRangeAt(0))).map(Jk)},e4=e=>{const t=gl(e);return FN(t.dom).filter(Qk(e))},zN=(e,t)=>P.from(t).filter(Qk(e)).map(H5),ra=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),P.some(t)}catch{return P.none()}},vw=e=>{const t=_f(e)?e4(oe.fromDom(e.getBody())):P.none();e.bookmark=t.isSome()?t:e.bookmark},ag=e=>(e.bookmark?e.bookmark:P.none()).bind(o=>zN(oe.fromDom(e.getBody()),o)).bind(ra),HN=e=>{ag(e).each(t=>e.selection.setRng(t))},$5={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},VN=(e,t)=>(E(t)||(t=0),window.setTimeout(e,t)),$N=(e,t)=>(E(t)||(t=0),window.setInterval(e,t)),Td={setEditorTimeout:(e,t,o)=>VN(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const s=$N(()=>{e.removed?window.clearInterval(s):t()},o);return s}},U5=(e,t)=>e.view(t).fold(ut([]),s=>{const a=e.owner(s),c=U5(e,a);return[s].concat(c)}),UN=(e,t)=>{const o=t.owner(e);return U5(t,o)};var ZN=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?P.none():P.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(oe.fromDom)},owner:e=>hc(e)});const Z5=e=>{const t=ti(),o=Ha(t),s=UN(e,ZN),a=Ii(e),c=mn(s,(d,f)=>{const b=Ii(f);return{left:d.left+b.left,top:d.top+b.top}},{left:0,top:0});return cd(c.left+a.left+o.left,c.top+a.top+o.top)},vv=e=>e.type==="nodechange"&&e.selectionChange,o4=(e,t)=>{const o=()=>{t.throttle()};Nn.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Nn.DOM.unbind(document,"mouseup",o)})},n1=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},s1=(e,t)=>{n1(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{vv(o)||vw(e)})},yw=e=>{const t=ys(()=>{vw(e)},0);e.on("init",()=>{e.inline&&o4(e,t),s1(e,t)}),e.on("remove",()=>{t.cancel()})};let Cf;const kf=Nn.DOM,r1=e=>jt(e)&&$5.isEditorUIElement(e),J0=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},a1=(e,t)=>{const o=ZR(e);return kf.getParent(t,a=>r1(a)||(o?e.dom.is(a,o):!1))!==null},ww=e=>{try{const t=Qd(oe.fromDom(e.getElement()));return Jd(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},n4=(e,t)=>{const o=t.editor;yw(o);const s=(c,d)=>{if(bk(c)&&c.inline!==!0){const f=oe.fromDom(c.getContainer());d(f,"tox-edit-focus")}},a=c=>{if(!c.iframeElement)return;const f=oe.fromDom(c.iframeElement),b=Z5(f),w=kc(window);(b.top<w.y||b.top>w.bottom-25)&&f.dom.scrollIntoView({block:"center"})};o.on("focusin",()=>{const c=e.focusedEditor;if(J0(ww(o))&&s(o,$l),c!==o){c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0);const d=Ki().browser;o.inline!==!0&&(d.isSafari()||d.isChromium())&&a(o)}}),o.on("focusout",()=>{Td.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!J0(ww(o))||c!==o)&&s(o,zi),!a1(o,ww(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Cf||(Cf=c=>{const d=e.activeEditor;d&&mh(c).each(f=>{const b=f;b.ownerDocument===document&&b!==document.body&&!a1(d,b)&&e.focusedEditor===d&&(d.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},kf.bind(document,"focusin",Cf))},s4=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Cf&&(kf.unbind(document,"focusin",Cf),Cf=null)},j5=e=>{e.on("AddEditor",Ve(n4,e)),e.on("RemoveEditor",Ve(s4,e))},W5=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),eb=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,q5=e=>e.collapsed?P.from(se(e.startContainer,e.startOffset)).map(oe.fromDom):P.none(),G5=(e,t)=>q5(t).bind(o=>na(o)?P.some(o):Nr(e,o)?P.none():P.some(e)),r4=(e,t)=>{G5(oe.fromDom(e.getBody()),t).bind(o=>un(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},i1=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},K5=e=>bc(e)||o0(e).isSome(),Y5=e=>He(e.iframeElement)&&bc(oe.fromDom(e.iframeElement)),X5=e=>{const t=e.getBody();return t&&K5(oe.fromDom(t))},Q5=e=>{const t=Qd(oe.fromDom(e.getElement()));return Jd(t).filter(o=>!J0(o.dom)&&a1(e,o.dom)).isSome()},Lc=e=>e.inline?X5(e):Y5(e),ig=e=>Lc(e)||Q5(e),mu=e=>{const t=e.selection,o=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const a=d=>{ag(d).each(f=>{d.selection.setRng(f),s=f})};!Lc(e)&&e.hasEditableRoot()&&a(e);const c=W5(e,t.getNode());if(c&&e.dom.isChildOf(c,o)){eb(e,c)||i1(o),i1(c),e.hasEditableRoot()||a(e),r4(e,s),yv(e);return}e.inline||(Eo.browser.isOpera()||i1(o),e.getWin().focus()),(Eo.browser.isFirefox()||e.inline)&&(i1(o),r4(e,s)),yv(e)},yv=e=>e.editorManager.setActive(e),a4=(e,t)=>{e.removed||(t?yv(e):mu(e))},Lt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Lt.metaKeyPressed(e),metaKeyPressed:e=>Eo.os.isMacOS()||Eo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Tp="data-mce-selected",J5="table,img,figure.image,hr,video,span.mce-preview-object,details",_w=Math.abs,wv=Math.round,Cw={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},i4=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Qu=(e,t)=>{const o=t.dom,s=t.getDoc(),a=document,c=t.getBody();let d,f,b,w,T,R,N,F,ee,X,K,ve,xe,Te,Fe;const rt=Yt=>He(Yt)&&(h0(Yt)||o.is(Yt,"figure.image")),Ot=Yt=>vi(Yt)||o.hasClass(Yt,"mce-preview-object"),ht=(Yt,St)=>{if(i4(Yt)){const Vt=Yt.touches[0];return rt(Yt.target)&&!Bs(Vt.clientX,Vt.clientY,St)}else return rt(Yt.target)&&!Bs(Yt.clientX,Yt.clientY,St)},Xe=Yt=>{const St=Yt.target;ht(Yt,t.selection.getRng())&&!Yt.isDefaultPrevented()&&t.selection.select(St)},Ke=Yt=>o.hasClass(Yt,"mce-preview-object")&&He(Yt.firstElementChild)?[Yt,Yt.firstElementChild]:o.is(Yt,"figure.image")?[Yt.querySelector("img")]:[Yt],at=Yt=>{const St=Kh(t);return!St||t.mode.isReadOnly()||Yt.getAttribute("data-mce-resize")==="false"||Yt===t.getBody()?!1:o.hasClass(Yt,"mce-preview-object")&&He(Yt.firstElementChild)?Pn(oe.fromDom(Yt.firstElementChild),St):Pn(oe.fromDom(Yt),St)},$t=(Yt,St)=>{if(Ot(St))return Yt.create("img",{src:Eo.transparentSrc});if(Ac(St)){const mo=Ls(w.name,"n")?qn:Vs,wo=St.cloneNode(!0);return mo(Yt.select("tr",wo)).each(ts=>{const ps=Yt.select("td,th",ts);Yt.setStyle(ts,"height",null),je(ps,Pd=>Yt.setStyle(Pd,"height",null))}),wo}else return St.cloneNode(!0)},lo=(Yt,St,Vt)=>{if(He(Vt)){const mo=Ke(Yt);je(mo,wo=>{wo.style[St]||!t.schema.isValid(wo.nodeName.toLowerCase(),St)?o.setStyle(wo,St,Vt):o.setAttrib(wo,St,""+Vt)})}},To=(Yt,St,Vt)=>{lo(Yt,"width",St),lo(Yt,"height",Vt)},nn=Yt=>{let St,Vt,mo,wo,ts;St=Yt.screenX-R,Vt=Yt.screenY-N,ve=St*w[2]+F,xe=Vt*w[3]+ee,ve=ve<5?5:ve,xe=xe<5?5:xe,(rt(d)||Ot(d))&&H0(t)!==!1?mo=!Lt.modifierPressed(Yt):mo=Lt.modifierPressed(Yt),mo&&(_w(St)>_w(Vt)?(xe=wv(ve*X),ve=wv(xe/X)):(ve=wv(xe/X),xe=wv(ve*X))),To(f,ve,xe),wo=w.startPos.x+St,ts=w.startPos.y+Vt,wo=wo>0?wo:0,ts=ts>0?ts:0,o.setStyles(b,{left:wo,top:ts,display:"block"}),b.innerHTML=ve+" &times; "+xe,St=c.scrollWidth-Te,Vt=c.scrollHeight-Fe,St+Vt!==0&&o.setStyles(b,{left:wo-St,top:ts-Vt}),K||(yn(t,d,F,ee,"corner-"+w.name),K=!0)},ms=()=>{const Yt=K;K=!1,Yt&&(lo(d,"width",ve),lo(d,"height",xe)),o.unbind(s,"mousemove",nn),o.unbind(s,"mouseup",ms),a!==s&&(o.unbind(a,"mousemove",nn),o.unbind(a,"mouseup",ms)),o.remove(f),o.remove(b),o.remove(T),xs(d),Yt&&(CR(t,d,ve,xe,"corner-"+w.name),o.setAttrib(d,"style",o.getAttrib(d,"style"))),t.nodeChanged()},xs=Yt=>{to();const St=o.getPos(Yt,c),Vt=St.x,mo=St.y,wo=Yt.getBoundingClientRect(),ts=wo.width||wo.right-wo.left,ps=wo.height||wo.bottom-wo.top;d!==Yt&&(Sr(),d=Yt,ve=xe=0);const Pd=t.dispatch("ObjectSelected",{target:Yt});at(Yt)&&!Pd.isDefaultPrevented()?Jo(Cw,(di,dm)=>{const _u=dc=>{const um=Ke(d)[0];R=dc.screenX,N=dc.screenY,F=um.clientWidth,ee=um.clientHeight,X=ee/F,w=di,w.name=dm,w.startPos={x:ts*di[0]+Vt,y:ps*di[1]+mo},Te=c.scrollWidth,Fe=c.scrollHeight,T=o.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(T,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),f=$t(o,d),o.addClass(f,"mce-clonedresizable"),o.setAttrib(f,"data-mce-bogus","all"),f.contentEditable="false",o.setStyles(f,{left:Vt,top:mo,margin:0}),To(f,ts,ps),f.removeAttribute(Tp),c.appendChild(f),o.bind(s,"mousemove",nn),o.bind(s,"mouseup",ms),a!==s&&(o.bind(a,"mousemove",nn),o.bind(a,"mouseup",ms)),b=o.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},F+" &times; "+ee)};let Dl=o.get("mceResizeHandle"+dm);Dl&&o.remove(Dl),Dl=o.add(c,"div",{id:"mceResizeHandle"+dm,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+dm+"-resize; margin:0; padding:0"}),o.bind(Dl,"mousedown",dc=>{dc.stopImmediatePropagation(),dc.preventDefault(),_u(dc)}),di.elm=Dl,o.setStyles(Dl,{left:ts*di[0]+Vt-Dl.offsetWidth/2,top:ps*di[1]+mo-Dl.offsetHeight/2})}):Sr(!1)},va=ys(xs,0),Sr=(Yt=!0)=>{va.cancel(),to(),d&&Yt&&d.removeAttribute(Tp),Jo(Cw,(St,Vt)=>{const mo=o.get("mceResizeHandle"+Vt);mo&&(o.unbind(mo),o.remove(mo))})},al=(Yt,St)=>o.isChildOf(Yt,St),Pt=Yt=>{if(K||t.removed||t.composing)return;const St=Yt.type==="mousedown"?Yt.target:e.getNode(),Vt=ud(oe.fromDom(St),J5).map(wo=>wo.dom).filter(wo=>o.isEditable(wo.parentElement)||wo.nodeName==="IMG"&&o.isEditable(wo)).getOrUndefined(),mo=He(Vt)?o.getAttrib(Vt,Tp,"1"):"1";if(je(o.select(`img[${Tp}],hr[${Tp}]`),wo=>{wo.removeAttribute(Tp)}),He(Vt)&&al(Vt,c)&&ig(t)){Bn();const wo=e.getStart(!0);if(al(wo,Vt)&&al(e.getEnd(!0),Vt)){o.setAttrib(Vt,Tp,mo),va.throttle(Vt);return}}Sr()},to=()=>{Jo(Cw,Yt=>{Yt.elm&&(o.unbind(Yt.elm),delete Yt.elm)})},Bn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Bn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Pt),t.on("keyup compositionend",Yt=>{d&&d.nodeName==="TABLE"&&Pt(Yt)}),t.on("hide blur",Sr),t.on("contextmenu longpress",Xe,!0)}),t.on("remove",to),{isResizable:at,showResizeRect:xs,hideResizeRect:Sr,updateResizeRect:Pt,destroy:()=>{va.cancel(),d=f=T=null}}},Dd=(e,t,o)=>{const s=gl(oe.fromDom(o));return fx(s.dom,e,t).map(a=>{const c=o.createRange();return c.setStart(a.start.dom,a.soffset),c.setEnd(a.finish.dom,a.foffset),c}).getOrUndefined()},tb=(e,t)=>He(e)&&He(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,eT=(e,t,o)=>{let s=e;for(;s&&s!==t;){if(o(s))return s;s=s.parentNode}return null},_v=(e,t,o)=>eT(e,t,o)!==null,tT=(e,t,o)=>_v(e,t,s=>s.nodeName===o),oT=(e,t)=>vl(e)&&!_v(e,t,Pc),l4=(e,t,o)=>{const s=t.parentNode;if(s){const a=new er(t,e.getParent(s,e.isBlock)||e.getRoot());let c;for(;c=a[o?"prev":"next"]();)if(Ns(c))return!0}return!1},nT=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},sT=(e,t)=>{let o=t;for(;o&&o!==e;){if(Kn(o))return!0;o=o.parentNode}return!1},kw=(e,t,o,s,a)=>{const c=e.getRoot(),d=e.schema.getNonEmptyElements(),f=a.parentNode;let b,w;if(!f)return P.none();const T=e.getParent(f,e.isBlock)||c;if(s&&Ns(a)&&t&&e.isEmpty(T))return P.some(Ge(f,e.nodeIndex(a)));const R=new er(a,T);for(;w=R[s?"prev":"next"]();){if(e.getContentEditableParent(w)==="false"||oT(w,c))return P.none();if(mt(w)&&w.data.length>0)return tT(w,c,"A")?P.none():P.some(Ge(w,s?w.data.length:0));if(e.isBlock(w)||d[w.nodeName.toLowerCase()])return P.none();b=w}return gd(b)?P.none():o&&b?P.some(Ge(b,0)):P.none()},Cv=(e,t,o,s)=>{const a=e.getRoot();let c,d=!1,f=o?s.startContainer:s.endContainer,b=o?s.startOffset:s.endOffset;const w=jt(f)&&b===f.childNodes.length,T=e.schema.getNonEmptyElements();let R=o;if(vl(f))return P.none();if(jt(f)&&b>f.childNodes.length-1&&(R=!1),qg(f)&&(f=a,b=0),f===a){if(R&&(c=f.childNodes[b>0?b-1:0],c&&(vl(c)||T[c.nodeName]||Ac(c))))return P.none();if(f.hasChildNodes()){if(b=Math.min(!R&&b>0?b-1:b,f.childNodes.length-1),f=f.childNodes[b],b=mt(f)&&w?f.data.length:0,!t&&f===a.lastChild&&Ac(f)||sT(a,f)||vl(f)||xx(f))return P.none();if(f.hasChildNodes()&&!Ac(f)){c=f;const N=new er(f,a);do{if(Kn(c)||vl(c)){d=!1;break}if(mt(c)&&c.data.length>0){b=R?0:c.data.length,f=c,d=!0;break}if(T[c.nodeName.toLowerCase()]&&!b0(c)){b=e.nodeIndex(c),f=c.parentNode,R||b++,d=!0;break}}while(c=R?N.next():N.prev())}}}return t&&(mt(f)&&b===0&&kw(e,w,t,!0,f).each(N=>{f=N.container(),b=N.offset(),d=!0}),jt(f)&&(c=f.childNodes[b],c||(c=f.childNodes[b-1]),c&&Ns(c)&&!nT(c,"A")&&!l4(e,c,!1)&&!l4(e,c,!0)&&kw(e,w,t,!0,c).each(N=>{f=N.container(),b=N.offset(),d=!0}))),R&&!t&&mt(f)&&b===f.data.length&&kw(e,w,t,!1,f).each(N=>{f=N.container(),b=N.offset(),d=!0}),d&&f?P.some(Ge(f,b)):P.none()},ob=(e,t)=>{const o=t.collapsed,s=t.cloneRange(),a=Ge.fromRangeStart(t);return Cv(e,o,!0,s).each(c=>{(!o||!Ge.isAbove(a,c))&&s.setStart(c.container(),c.offset())}),o||Cv(e,o,!1,s).each(c=>{s.setEnd(c.container(),c.offset())}),o&&s.collapse(!0),tb(t,s)?P.none():P.some(s)},kv=(e,t)=>e.splitText(t),nb=e=>{let t=e.startContainer,o=e.startOffset,s=e.endContainer,a=e.endOffset;if(t===s&&mt(t)){if(o>0&&o<t.data.length)if(s=kv(t,o),t=s.previousSibling,a>o){a=a-o;const c=kv(s,a).previousSibling;t=s=c,a=c.data.length,o=0}else a=0}else if(mt(t)&&o>0&&o<t.data.length&&(t=kv(t,o),o=0),mt(s)&&a>0&&a<s.data.length){const c=kv(s,a).previousSibling;s=c,a=c.data.length}return{startContainer:t,startOffset:o,endContainer:s,endOffset:a}},lg=e=>({walk:(c,d)=>o1(e,c,d),split:nb,expand:(c,d={type:"word"})=>{if(d.type==="word"){const f=rg(e,c,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),b=e.createRng();return b.setStart(f.startContainer,f.startOffset),b.setEnd(f.endContainer,f.endOffset),b}return c},normalize:c=>ob(e,c).fold(_o,d=>(c.setStart(d.startContainer,d.startOffset),c.setEnd(d.endContainer,d.endOffset),!0))});lg.compareRanges=tb,lg.getCaretRangeFromPoint=Dd,lg.getSelectedNode=be,lg.getNode=se;const c4=e=>Ho(e)==="textarea",jN=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),WN=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},qN=(e,t)=>{const o=on(e);if(o.length===0||c4(e))return{element:e,offset:t};if(t<o.length&&!c4(o[t]))return{element:o[t],offset:0};{const s=o[o.length-1];return c4(s)?{element:e,offset:t}:Ho(s)==="img"?{element:s,offset:1}:Ja(s)?{element:s,offset:dd(s).length}:{element:s,offset:on(s).length}}},rT=(e,t)=>{const o=Ts(e),s=ty(e);return{element:e,bottom:o.top+s,height:s,pos:o,cleanup:t}},Sw=(e,t)=>{const o=qN(e,t),s=oe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Hr+"</span>");return ta(o.element,s),rT(s,()=>ds(s))},d4=e=>rT(oe.fromDom(e),Ro),u4=(e,t,o,s)=>{KN(e,(a,c)=>GN(e,t,o,s),o)},Ew=(e,t,o,s,a)=>{const c={elm:s.element.dom,alignToTop:a};if(jN(e,c))return;const d=Ha(t).top;o(e,t,d,s,a),WN(e,c)},GN=(e,t,o,s)=>{const a=oe.fromDom(e.getBody()),c=oe.fromDom(e.getDoc());go(a);const d=Sw(oe.fromDom(o.startContainer),o.startOffset);Ew(e,c,t,d,s),d.cleanup()},aT=(e,t,o,s)=>{const a=oe.fromDom(e.getDoc());Ew(e,a,o,d4(t),s)},KN=(e,t,o)=>{const s=o.startContainer,a=o.startOffset,c=o.endContainer,d=o.endOffset;t(oe.fromDom(s),oe.fromDom(c));const f=e.dom.createRng();f.setStart(s,a),f.setEnd(c,d),e.selection.setRng(o)},m4=(e,t,o,s,a)=>{const c=t.pos,d=30;if(s)Pu(c.left,Math.max(0,c.top-d),a);else{const f=c.top-o+t.height+d;Pu(-e.getBody().getBoundingClientRect().left,f,a)}},iT=(e,t,o,s,a,c)=>{const d=s+o,f=a.pos.top,b=a.bottom,w=b-f>=s;f<o?m4(e,a,s,c!==!1,t):f>d?m4(e,a,s,w?c!==!1:c===!0,t):b>d&&!w&&m4(e,a,s,c===!0,t)},lT=(e,t,o,s,a)=>{const c=gl(t).dom.innerHeight;iT(e,t,o,c,s,a)},Sv=(e,t,o,s,a)=>{const c=gl(t).dom.innerHeight;iT(e,t,o,c,s,a);const d=Z5(s.element),f=kc(window);d.top<f.y?oi(s.element,a!==!1):d.top>f.bottom&&oi(s.element,a===!0)},Aw=(e,t,o)=>u4(e,lT,t,o),Tw=(e,t,o)=>aT(e,t,lT,o),YN=(e,t,o)=>u4(e,Sv,t,o),XN=(e,t,o)=>aT(e,t,Sv,o),QN=(e,t,o)=>{(e.inline?Tw:XN)(e,t,o)},Ev=(e,t,o)=>{(e.inline?Aw:YN)(e,t,o)},cT=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),dT=(e,t,o,s,a)=>{const c=o?t.startContainer:t.endContainer,d=o?t.startOffset:t.endOffset;return P.from(c).map(oe.fromDom).map(f=>!s||!t.collapsed?ur(f,a(f,d)).getOr(f):f).bind(f=>dr(f)?P.some(f):Yi(f).filter(dr)).map(f=>f.dom).getOr(e)},Od=(e,t,o=!1)=>dT(e,t,!0,o,(s,a)=>Math.min(Yf(s),a)),g4=(e,t,o=!1)=>dT(e,t,!1,o,(s,a)=>a>0?a-1:a),uT=(e,t)=>{const o=e;for(;e&&mt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},mT=(e,t)=>{if(!t)return e;let o=t.startContainer,s=t.endContainer;const a=t.startOffset,c=t.endOffset;let d=t.commonAncestorContainer;t.collapsed||(o===s&&c-a<2&&o.hasChildNodes()&&(d=o.childNodes[a]),mt(o)&&mt(s)&&(o.length===a?o=uT(o.nextSibling,!0):o=o.parentNode,c===0?s=uT(s.previousSibling,!1):s=s.parentNode,o&&o===s&&(d=o)));const f=mt(d)?d.parentNode:d;return Io(f)?f:e},JN=(e,t,o,s)=>{const a=[],c=e.getRoot(),d=e.getParent(o||Od(c,t,t.collapsed),e.isBlock),f=e.getParent(s||g4(c,t,t.collapsed),e.isBlock);if(d&&d!==c&&a.push(d),d&&f&&d!==f){let b;const w=new er(d,c);for(;(b=w.next())&&b!==f;)e.isBlock(b)&&a.push(b)}return f&&d!==f&&f!==c&&a.push(f),a},eM=(e,t,o)=>P.from(t).bind(s=>P.from(s.parentNode).map(a=>{const c=e.nodeIndex(s),d=e.createRng();return d.setStart(a,c),d.setEnd(a,c+1),o&&(uw(e,d,s,!0),uw(e,d,s,!1)),d})),Wa=(e,t)=>Mo(t,o=>{const s=e.dispatch("GetSelectionRange",{range:o});return s.range!==o?s.range:o}),f4={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Av=(e,t,o)=>{const s=o?"lastChild":"firstChild",a=o?"prev":"next";if(e[s])return e[s];if(e!==t){let c=e[a];if(c)return c;for(let d=e.parent;d&&d!==t;d=d.parent)if(c=d[a],c)return c}},Dw=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!Pm(o))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(o))},p4=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class li{static create(t,o){const s=new li(t,f4[t]||1);return o&&Jo(o,(a,c)=>{s.attr(c,a)}),s}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const s=this;if(!Re(t))return He(t)&&Jo(t,(c,d)=>{s.attr(d,c)}),s;const a=s.attributes;if(a){if(o!==void 0){if(o===null){if(t in a.map){delete a.map[t];let c=a.length;for(;c--;)if(a[c].name===t)return a.splice(c,1),s}return s}if(t in a.map){let c=a.length;for(;c--;)if(a[c].name===t){a[c].value=o;break}}else a.push({name:t,value:o});return a.map[t]=o,s}return a.map[t]}}clone(){const t=this,o=new li(t.name,t.type),s=t.attributes;if(s){const a=[];a.map={};for(let c=0,d=s.length;c<d;c++){const f=s[c];f.name!=="id"&&(a[a.length]={name:f.name,value:f.value},a.map[f.name]=f.value)}o.attributes=a}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const s=o.next;t.insert(o,t,!0),o=s}t.remove()}remove(){const t=this,o=t.parent,s=t.next,a=t.prev;return o&&(o.firstChild===t?(o.firstChild=s,s&&(s.prev=null)):a&&(a.next=s),o.lastChild===t?(o.lastChild=a,a&&(a.next=null)):s&&(s.prev=a),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const s=o.lastChild;return s?(s.next=t,t.prev=s,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,s){t.parent&&t.remove();const a=o.parent||this;return s?(o===a.firstChild?a.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===a.lastChild?a.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=a,t}getAll(t){const o=this,s=[];for(let a=o.firstChild;a;a=Av(a,o))a.name===t&&s.push(a);return s}children(){const t=this,o=[];for(let s=t.firstChild;s;s=s.next)o.push(s);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let a=t.firstChild;a;a=Av(a,t))o.push(a);let s=o.length;for(;s--;){const a=o[s];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},s){var a;const c=this;let d=c.firstChild;if(p4(c))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(t[d.name]||p4(d))return!1}if(d.type===8||d.type===3&&!Dw(d)||d.type===3&&d.parent&&o[d.parent.name]&&Pm((a=d.value)!==null&&a!==void 0?a:"")||s&&s(d))return!1}while(d=Av(d,c));return!0}walk(t){return Av(this,null,t)}}const gT=it.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),fT=e=>Re(e.nodeValue)&&e.nodeValue.includes(Hr),pT=e=>`${e.length===0?"":`${Mo(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,tM=(e,t)=>t.querySelectorAll(pT(e)),hT=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>fT(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),Tv=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(fT(t)){const o=t.parentNode;return o&&vo(gT,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),bT=e=>hT(e).nextNode()!==null,xT=e=>Tv(e).nextNode()!==null,vT=(e,t)=>t.querySelector(pT(e))!==null,oM=(e,t)=>{je(tM(e,t),o=>{const s=oe.fromDom(o);Js(s,"data-mce-bogus")==="all"?ds(s):je(e,a=>{Cm(s,a)&&Mr(s,a)})})},yT=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},h4=Hn(yT,hT),b4=Hn(yT,Tv),Ow=(e,t)=>{const o=[{condition:Ve(vT,t),action:Ve(oM,t)},{condition:bT,action:h4},{condition:xT,action:b4}];let s=e,a=!1;return je(o,({condition:c,action:d})=>{c(s)&&(a||(s=e.cloneNode(!0),a=!0),d(s))}),s},wT=e=>{const t=qr(e,"[data-mce-bogus]");je(t,o=>{Js(o,"data-mce-bogus")==="all"?ds(o):_d(o)?(ta(o,oe.fromText(Qc)),ds(o)):Mi(o)})},_T=e=>{const t=qr(e,"input");je(t,o=>{Mr(o,"name")})},nM=(e,t)=>{const o=Za(e),s=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},sM=(e,t)=>{const o=e.getDoc(),s=Qd(oe.fromDom(e.getBody())),a=oe.fromTag("div",o);Wr(a,"data-mce-bogus","all"),Qf(a,{position:"fixed",left:"-9999999px",top:"0"}),Sm(a,t.innerHTML),wT(a),_T(a);const c=dh(s);dn(c,a);const d=Ui(a.dom.innerText);return ds(a),d},CT=(e,t,o)=>{let s;return t.format==="raw"?s=it.trim(Ui(Ow(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=sM(e,o):t.format==="tree"?s=e.serializer.serialize(o,t):s=nM(e,e.serializer.serialize(o,t)),t.format!=="text"&&!gp(oe.fromDom(o))&&Re(s)?it.trim(s):s},rM=(e,t)=>P.from(e.getBody()).fold(ut(t.format==="tree"?new li("body",11):""),o=>CT(e,t,o)),kT=it.makeMap,ST=e=>{const t=[];e=e||{};const o=e.indent,s=kT(e.indent_before||""),a=kT(e.indent_after||""),c=pd.getEncodeFunc(e.entity_encoding||"raw",e.entities),d=e.element_format!=="xhtml";return{start:(f,b,w)=>{if(o&&s[f]&&t.length>0){const T=t[t.length-1];T.length>0&&T!==`
`&&t.push(`
`)}if(t.push("<",f),b)for(let T=0,R=b.length;T<R;T++){const N=b[T];t.push(" ",N.name,'="',c(N.value,!0),'"')}if(!w||d?t[t.length]=">":t[t.length]=" />",w&&o&&a[f]&&t.length>0){const T=t[t.length-1];T.length>0&&T!==`
`&&t.push(`
`)}},end:f=>{let b;t.push("</",f,">"),o&&a[f]&&t.length>0&&(b=t[t.length-1],b.length>0&&b!==`
`&&t.push(`
`))},text:(f,b)=>{f.length>0&&(t[t.length]=b?f:c(f))},cdata:f=>{t.push("<![CDATA[",f,"]]>")},comment:f=>{t.push("<!--",f,"-->")},pi:(f,b)=>{b?t.push("<?",f," ",c(b),"?>"):t.push("<?",f,"?>"),o&&t.push(`
`)},doctype:f=>{t.push("<!DOCTYPE",f,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Dp=(e={},t=Kt())=>{const o=ST(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const c=e.validate,d={3:b=>{var w;o.text((w=b.value)!==null&&w!==void 0?w:"",b.raw)},8:b=>{var w;o.comment((w=b.value)!==null&&w!==void 0?w:"")},7:b=>{o.pi(b.name,b.value)},10:b=>{var w;o.doctype((w=b.value)!==null&&w!==void 0?w:"")},4:b=>{var w;o.cdata((w=b.value)!==null&&w!==void 0?w:"")},11:b=>{let w=b;if(w=w.firstChild)do f(w);while(w=w.next)}};o.reset();const f=b=>{var w;const T=d[b.type];if(T)T(b);else{const R=b.name,N=R in t.getVoidElements();let F=b.attributes;if(c&&F&&F.length>1){const ee=[];ee.map={};const X=t.getElementRule(b.name);if(X){for(let K=0,ve=X.attributesOrder.length;K<ve;K++){const xe=X.attributesOrder[K];if(xe in F.map){const Te=F.map[xe];ee.map[xe]=Te,ee.push({name:xe,value:Te})}}for(let K=0,ve=F.length;K<ve;K++){const xe=F[K].name;if(!(xe in ee.map)){const Te=F.map[xe];ee.map[xe]=Te,ee.push({name:xe,value:Te})}}F=ee}}if(o.start(R,F,N),$u(R))Re(b.value)&&o.text(b.value,!0),o.end(R);else if(!N){let ee=b.firstChild;if(ee){(R==="pre"||R==="textarea")&&ee.type===3&&((w=ee.value)===null||w===void 0?void 0:w[0])===`
`&&o.text(`
`,!0);do f(ee);while(ee=ee.next)}o.end(R)}}};return a.type===1&&!e.inner?f(a):a.type===3?d[3](a):d[11](a),o.getContent()}}},ET=new Set;je(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{ET.add(t)});const l1=new Set;je(["background-color"],t=>{l1.add(t)});const Dv=["font","text-decoration","text-emphasis"],AT=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),c1=(e,t)=>ma(AT(e,t)),x4=e=>ET.has(e),aM=e=>l1.has(e),TT=(e,t)=>In(c1(e,t),o=>x4(o)),iM=(e,t)=>TT(e,t)&&In(c1(e,t),o=>aM(o)),Fc=e=>ft(e,t=>In(Dv,o=>Ls(t,o))),Ov=(e,t,o)=>{const s=c1(e,t),a=c1(e,o),c=d=>{var f,b;const w=(f=e.getStyle(t,d))!==null&&f!==void 0?f:"",T=(b=e.getStyle(o,d))!==null&&b!==void 0?b:"";return jr(w)&&jr(T)&&w!==T};return In(s,d=>{const f=b=>In(b,w=>w===d);if(!f(a)&&f(Dv)){const b=Fc(a);return In(b,c)}else return c(d)})},DT=(e,t,o)=>P.from(o.container()).filter(mt).exists(s=>{const a=e?0:-1;return t(s.data.charAt(o.offset()+a))}),sb=Ve(DT,!0,Ep),d1=Ve(DT,!1,Ep),lM=e=>{const t=e.container();return mt(t)&&(t.data.length===0||Gu(t.data)&&Q0.isBookmarkNode(t.parentNode))},Rd=(e,t)=>o=>rl(e?0:-1,o).filter(t).isSome(),Jn=e=>h0(e)&&pl(oe.fromDom(e),"display")==="block",rb=e=>Kn(e)&&!Wg(e),OT=Rd(!0,Jn),RT=Rd(!1,Jn),Op=Rd(!0,vi),u1=Rd(!1,vi),Rw=Rd(!0,Ac),Rv=Rd(!1,Ac),cg=Rd(!0,rb),Ju=Rd(!1,rb),v4=e=>e.slice(0,-1),NT=(e,t,o)=>Nr(t,e)?v4(ei(e,s=>o(s)||tn(s,t))):[],y4=(e,t)=>NT(e,t,_o),dg=(e,t)=>[e].concat(y4(e,t)),Nw=(e,t,o)=>x5(e,t,o,lM),MT=e=>t=>e.isBlock(Ho(t)),Rp=(e,t,o)=>Cn(dg(oe.fromDom(t.container()),e),MT(o)),w4=(e,t,o,s)=>Nw(e,t.dom,o).forall(a=>Rp(t,o,s).fold(()=>!tg(a,o,t.dom),c=>!tg(a,o,t.dom)&&Nr(c,oe.fromDom(a.container())))),Mw=(e,t,o,s)=>Rp(t,o,s).fold(()=>Nw(e,t.dom,o).forall(a=>!tg(a,o,t.dom)),a=>Nw(e,a.dom,o).isNone()),_4=Ve(Mw,!1),BT=Ve(Mw,!0),IT=Ve(w4,!1),PT=Ve(w4,!0),LT=e=>cv(e).exists(_d),m1=(e,t,o,s)=>{const a=ft(dg(oe.fromDom(o.container()),t),d=>s.isBlock(Ho(d))),c=qn(a).getOr(t);return Ic(e,c.dom,o).filter(LT)},Bw=(e,t,o)=>cv(t).exists(_d)||m1(!0,e,t,o).isSome(),Nv=(e,t,o)=>m5(t).exists(_d)||m1(!1,e,t,o).isSome(),C4=Ve(m1,!1),FT=Ve(m1,!0),k4=e=>Ge.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),S4=(e,t,o)=>{const s=ft(dg(oe.fromDom(t.container()),e),a=>o.isBlock(Ho(a)));return qn(s).getOr(e)},E4=(e,t,o)=>k4(t)?d1(t):d1(t)||tc(S4(e,t,o).dom,t).exists(d1),A4=(e,t,o)=>k4(t)?sb(t):sb(t)||Cl(S4(e,t,o).dom,t).exists(sb),zT=e=>$o(["pre","pre-wrap"],e),Iw=e=>cv(e).bind(t=>Li(t,dr)).exists(t=>zT(pl(t,"white-space"))),T4=(e,t)=>tc(e.dom,t).isNone(),HT=(e,t)=>Cl(e.dom,t).isNone(),VT=(e,t,o)=>T4(e,t)||HT(e,t)||_4(e,t,o)||BT(e,t,o)||Nv(e,t,o)||Bw(e,t,o),$T=e=>He(e)&&Kn(e)&&Tk(e),D4=(e,t)=>o=>$T(new er(o,e)[t]()),UT=(e,t)=>{const o=Cl(e.dom,t).getOr(t),s=D4(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(o.container()))},ZT=(e,t)=>{const o=tc(e.dom,t).getOr(t),s=D4(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(o.container()))},O4=(e,t,o)=>Iw(t)?!1:VT(e,t,o)||E4(e,t,o)||A4(e,t,o),g1=(e,t,o)=>Iw(t)?!1:_4(e,t,o)||IT(e,t,o)||Nv(e,t,o)||E4(e,t,o)||ZT(e,t),Pw=e=>{const t=e.container(),o=e.offset();return mt(t)&&o<t.data.length?Ge(t,o+1):e},ab=(e,t,o)=>Iw(t)?!1:BT(e,t,o)||PT(e,t,o)||Bw(e,t,o)||A4(e,t,o)||UT(e,t),Lw=(e,t,o)=>g1(e,t,o)||ab(e,Pw(t),o),Mv=(e,t)=>Sp(e.charAt(t)),Fw=(e,t)=>Ep(e.charAt(t)),Bv=e=>{const t=e.container();return mt(t)&&Zo(t.data,Fs)},R4=e=>{const t=e.split("");return Mo(t,(o,s)=>Sp(o)&&s>0&&s<t.length-1&&lw(t[s-1])&&lw(t[s+1])?" ":o).join("")},N4=(e,t,o,s)=>{const a=t.data,c=Ge(t,0);return!o&&Mv(a,0)&&!Lw(e,c,s)?(t.data=" "+a.slice(1),!0):o&&Fw(a,0)&&g1(e,c,s)?(t.data=Fs+a.slice(1),!0):!1},ib=e=>{const t=e.data,o=R4(t);return o!==t?(e.data=o,!0):!1},zw=(e,t,o,s)=>{const a=t.data,c=Ge(t,a.length-1);return!o&&Mv(a,a.length-1)&&!Lw(e,c,s)?(t.data=a.slice(0,-1)+" ",!0):o&&Fw(a,a.length-1)&&ab(e,c,s)?(t.data=a.slice(0,-1)+Fs,!0):!1},M4=(e,t,o)=>{const s=t.container();if(!mt(s))return P.none();if(Bv(t)){const a=N4(e,s,!1,o)||ib(s)||zw(e,s,!1,o);return Vd(a,t)}else if(Lw(e,t,o)){const a=N4(e,s,!0,o)||zw(e,s,!0,o);return Vd(a,t)}else return P.none()},lb=e=>{const t=oe.fromDom(e.getBody());e.selection.isCollapsed()&&M4(t,Ge.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},Sf=(e,t,o,s)=>{if(o===0)return;const a=oe.fromDom(e),c=ni(a,w=>s.isBlock(Ho(w))).getOr(a),d=e.data.slice(t,t+o),f=t+o>=e.data.length&&ab(c,Ge(e,e.data.length),s),b=t===0&&g1(c,Ge(e,0),s);e.replaceData(t,o,cy(d,4,b,f))},Iv=(e,t,o)=>{const s=e.data.slice(t),a=s.length-jf(s).length;Sf(e,t,a,o)},B4=(e,t,o)=>{const s=e.data.slice(0,t),a=s.length-pm(s).length;Sf(e,t-a,a,o)},I4=(e,t,o,s,a=!0)=>{const c=pm(e.data).length,d=a?e:t,f=a?t:e;return a?d.appendData(f.data):d.insertData(0,f.data),ds(oe.fromDom(f)),s&&Iv(d,c,o),d},jT=(e,t)=>{const o=e.container(),s=e.offset();return!Ge.isTextPosition(e)&&o===t.parentNode&&s>Ge.before(t).offset()},WT=(e,t)=>jT(t,e)?Ge(t.container(),t.offset()-1):t,qT=e=>mt(e)?Ge(e,0):Ge.before(e),Np=e=>mt(e)?Ge(e,e.data.length):Ge.after(e),Mp=e=>Vo(e.previousSibling)?P.some(Np(e.previousSibling)):e.previousSibling?kl(e.previousSibling):P.none(),P4=e=>Vo(e.nextSibling)?P.some(qT(e.nextSibling)):e.nextSibling?un(e.nextSibling):P.none(),GT=(e,t)=>P.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>tc(e,Ge.before(o))).orThunk(()=>Cl(e,Ge.after(t))),cM=(e,t)=>Cl(e,Ge.after(t)).orThunk(()=>tc(e,Ge.before(t))),dM=(e,t)=>Mp(t).orThunk(()=>P4(t)).orThunk(()=>GT(e,t)),uM=(e,t)=>P4(t).orThunk(()=>Mp(t)).orThunk(()=>cM(e,t)),sc=(e,t,o)=>e?uM(t,o):dM(t,o),gu=(e,t,o)=>sc(e,t,o).map(Ve(WT,o)),L4=(e,t,o)=>{o.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},F4=e=>t=>t.dom===e,z4=(e,t)=>t&&vo(e.schema.getBlockElements(),Ho(t)),Hw=(e,t,o)=>{if(Ta(e,t)){const s=oe.fromHtml('<br data-mce-bogus="1">');return o?je(on(t),a=>{bw(a)||ds(a)}):Iu(t),dn(t,s),P.some(Ge.before(s.dom))}else return P.none()},mM=(e,t,o,s)=>{const a=Fl(e).filter(Ja),c=ad(e).filter(Ja);return ds(e),Ag(a,c,t,(d,f,b)=>{const w=d.dom,T=f.dom,R=w.data.length;return I4(w,T,o,s),b.container()===T?Ge(w,R):b}).orThunk(()=>(s&&(a.each(d=>B4(d.dom,d.dom.length,o)),c.each(d=>Iv(d.dom,0,o))),t))},KT=(e,t)=>vo(e.schema.getTextInlineElements(),Ho(t)),fu=(e,t,o,s=!0,a=!1)=>{const c=gu(t,e.getBody(),o.dom),d=ni(o,Ve(z4,e),F4(e.getBody())),f=mM(o,c,e.schema,KT(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):d.bind(b=>Hw(e.schema,b,a)).fold(()=>{s&&L4(e,t,f)},b=>{s&&L4(e,t,P.some(b))})},gM=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Vw=e=>gM.test(e),Ef=(e,t)=>Pn(oe.fromDom(t),ii(e))&&!Uu(e.schema,t)&&e.dom.isEditable(t),H4=e=>{var t;return Nn.DOM.getStyle(e,"direction",!0)==="rtl"||Vw((t=e.textContent)!==null&&t!==void 0?t:"")},Pv=(e,t,o)=>ft(Nn.DOM.getParents(o.container(),"*",t),e),Bp=(e,t,o)=>{const s=Pv(e,t,o);return P.from(s[s.length-1])},fM=(e,t,o)=>{const s=_p(t,e),a=_p(o,e);return He(s)&&s===a},em=e=>fp(e)||pp(e),kr=(e,t)=>{const o=t.container(),s=t.offset();return e?Km(o)?mt(o.nextSibling)?Ge(o.nextSibling,0):Ge.after(o):fp(t)?Ge(o,s+1):t:Km(o)?mt(o.previousSibling)?Ge(o.previousSibling,o.previousSibling.data.length):Ge.before(o):pp(t)?Ge(o,s-1):t},cb=Ve(kr,!0),V4=Ve(kr,!1),Sl=(e,t)=>{const o=s=>s.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},fs=e=>{e.execCommand("delete")},$w=e=>Sl(e,"Delete"),ug=e=>Sl(e,"ForwardDelete"),Lv=e=>t=>hr(Yi(t),e,tn),YT=e=>jh(e)||du(e),db=(e,t)=>Nr(e,t)?Li(t,YT,Lv(e)):P.none(),Fv=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},XT=(e,t,o)=>Es(un(o),kl(o),(s,a)=>{const c=kr(!0,s),d=kr(!1,a),f=kr(!1,t);return e?Cl(o,f).exists(b=>b.isEqual(d)&&t.isEqual(c)):tc(o,f).exists(b=>b.isEqual(c)&&t.isEqual(d))}).getOr(!0),Uw=e=>(rx(e)?Fl(e):Qr(e)).bind(Uw).orThunk(()=>P.some(e)),QT=(e,t,o,s=!0)=>{var a;t.deleteContents();const c=Uw(o).getOr(o),d=oe.fromDom((a=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&a!==void 0?a:o.dom);if(d.dom===e.getBody()?Fv(e,s):Ta(e.schema,d,{checkRootAsContent:!1})&&(Nc(d),s&&e.selection.setCursorLocation(d.dom,0)),!tn(o,d)){const f=hr(Yi(d),o)?[]:Kf(d);je(f.concat(on(o)),b=>{!tn(b,d)&&!Nr(b,d)&&Ta(e.schema,b)&&ds(b)})}},JT=e=>t=>tn(e,t),Zw=e=>qr(e,"td,th"),jw=(e,t)=>pv(oe.fromDom(e),t),e6=e=>Es(e.startTable,e.endTable,(t,o)=>{const s=ri(t,c=>tn(c,o)),a=ri(o,c=>tn(c,t));return!s&&!a?e:{...e,startTable:s?P.none():e.startTable,endTable:a?P.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),Ww=e=>e6(e),pM=(e,t)=>{const o=jw(e.startContainer,t),s=jw(e.endContainer,t),a=o.isSome(),c=s.isSome(),d=Es(o,s,tn).getOr(!1);return Ww({startTable:o,endTable:s,isStartInTable:a,isEndInTable:c,isSameTable:d,isMultiTable:!d&&a&&c})},$4=(e,t)=>({start:e,end:t}),hM=(e,t,o)=>({rng:e,table:t,cells:o}),zv=ll.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),qw=(e,t)=>ud(oe.fromDom(e),"td,th",t),U4=e=>!tn(e.start,e.end),t6=(e,t)=>pv(e.start,t).bind(o=>pv(e.end,t).bind(s=>Vd(tn(o,s),o))),bM=(e,t)=>!U4(e)&&t6(e,t).exists(o=>{const s=o.dom.rows;return s.length===1&&s[0].cells.length===1}),o6=(e,t)=>{const o=qw(e.startContainer,t),s=qw(e.endContainer,t);return Es(o,s,$4)},xM=e=>t=>pv(t,e).bind(o=>Vs(Zw(o)).map(s=>$4(t,s))),n6=e=>t=>pv(t,e).bind(o=>qn(Zw(o)).map(s=>$4(s,t))),Z4=e=>t=>t6(t,e).map(o=>hM(t,o,Zw(o))),s6=(e,t,o,s)=>{if(o.collapsed||!e.forall(U4))return P.none();if(t.isSameTable){const a=e.bind(Z4(s));return P.some({start:a,end:a})}else{const a=qw(o.startContainer,s),c=qw(o.endContainer,s),d=a.bind(xM(s)).bind(Z4(s)),f=c.bind(n6(s)).bind(Z4(s));return P.some({start:d,end:f})}},j4=(e,t)=>Rs(e,o=>tn(o,t)),qa=e=>Es(j4(e.cells,e.rng.start),j4(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),vM=(e,t,o)=>e.exists(s=>bM(s,o)&&xf(s.start,t)),W4=(e,t)=>{const{startTable:o,endTable:s}=t,a=e.cloneRange();return o.each(c=>a.setStartAfter(c.dom)),s.each(c=>a.setEndBefore(c.dom)),a},q4=(e,t,o,s)=>s6(e,t,o,s).bind(({start:a,end:c})=>a.or(c)).bind(a=>{const{isSameTable:c}=t,d=qa(a).getOr([]);if(c&&a.cells.length===d.length)return P.some(zv.fullTable(a.table));if(d.length>0){if(c)return P.some(zv.partialTable(d,P.none()));{const f=W4(o,t);return P.some(zv.partialTable(d,P.some({...t,rng:f})))}}else return P.none()}),G4=(e,t,o,s)=>s6(e,t,o,s).bind(({start:a,end:c})=>{const d=a.bind(qa).getOr([]),f=c.bind(qa).getOr([]);if(d.length>0&&f.length>0){const b=W4(o,t);return P.some(zv.multiTable(d,f,b))}else return P.none()}),r6=(e,t)=>{const o=JT(e),s=o6(t,o),a=pM(t,o);return vM(s,t,o)?s.map(c=>zv.singleCellTable(t,c.start)):a.isMultiTable?G4(s,a,t,o):q4(s,a,t,o)},K4=e=>je(e,t=>{Mr(t,"contenteditable"),Nc(t)}),a6=(e,t)=>P.from(e.dom.getParent(t,e.dom.isBlock)).map(oe.fromDom),i6=(e,t,o)=>{o.each(s=>{t?ds(s):(Nc(s),e.selection.setCursorLocation(s.dom,0))})},El=(e,t,o,s)=>{const a=o.cloneRange();s?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),Hv(e,a,t,!1).each(c=>c())},l6=e=>{const t=K0(e),o=oe.fromDom(e.selection.getNode());Kg(o.dom)&&Ta(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&In(t,s=>tn(s,o))&&Wr(o,"data-mce-selected","1")},Gw=(e,t,o)=>P.some(()=>{const s=e.selection.getRng(),a=o.bind(({rng:c,isStartInTable:d})=>{const f=a6(e,d?c.endContainer:c.startContainer);c.deleteContents(),i6(e,d,f.filter(Ve(Ta,e.schema)));const b=d?t[0]:t[t.length-1];return El(e,b,s,d),Ta(e.schema,b)?P.none():P.some(d?t.slice(1):t.slice(0,-1))}).getOr(t);K4(a),l6(e)}),yM=(e,t,o,s)=>P.some(()=>{const a=e.selection.getRng(),c=t[0],d=o[o.length-1];El(e,c,a,!0),El(e,d,a,!1);const f=Ta(e.schema,c)?t:t.slice(1),b=Ta(e.schema,d)?o:o.slice(0,-1);K4(f.concat(b)),s.deleteContents(),l6(e)}),Hv=(e,t,o,s=!0)=>P.some(()=>{QT(e,t,o,s)}),pu=(e,t)=>P.some(()=>fu(e,!1,t)),Y4=(e,t,o)=>r6(t,o).bind(s=>s.fold(Ve(Hv,e),Ve(pu,e),Ve(Gw,e),Ve(yM,e))),Kw=(e,t)=>Vv(e,t),c6=(e,t,o,s)=>Xw(t,s).fold(()=>Y4(e,t,o),a=>Kw(e,a)),wM=(e,t,o)=>{const s=oe.fromDom(e.getBody()),a=e.selection.getRng();return o.length!==0?Gw(e,o,P.none()):c6(e,s,a,t)},Yw=(e,t)=>Cn(dg(t,e),Gm),Xw=(e,t)=>Cn(dg(t,e),Xr("caption")),X4=(e,t,o,s,a)=>q0(o,e.getBody(),a).bind(c=>Yw(t,oe.fromDom(c.getNode())).bind(d=>tn(d,s)?P.none():P.some(Ro))),Vv=(e,t)=>P.some(()=>{Nc(t),e.selection.setCursorLocation(t.dom,0)}),f1=(e,t,o,s)=>un(e.dom).bind(a=>kl(e.dom).map(c=>t?o.isEqual(a)&&s.isEqual(c):o.isEqual(c)&&s.isEqual(a))).getOr(!0),d6=(e,t)=>Vv(e,t),u6=(e,t,o)=>Xw(e,oe.fromDom(o.getNode())).fold(()=>P.some(Ro),s=>Vd(!tn(s,t),Ro)),m6=(e,t,o,s,a)=>q0(o,e.getBody(),a).fold(()=>P.some(Ro),c=>f1(s,o,a,c)?d6(e,s):u6(t,s,c)),_M=(e,t,o,s)=>{const a=Ge.fromRangeStart(e.selection.getRng());return Yw(o,s).bind(c=>Ta(e.schema,c,{checkRootAsContent:!1})?Vv(e,c):X4(e,o,t,c,a))},Q4=(e,t,o,s)=>{const a=Ge.fromRangeStart(e.selection.getRng());return Ta(e.schema,s)?Vv(e,s):m6(e,o,t,s,a)},Af=(e,t)=>e?Rw(t):Rv(t),CM=(e,t)=>{const o=Ge.fromRangeStart(e.selection.getRng());return Af(t,o)||Ic(t,e.getBody(),o).exists(s=>Af(t,s))},kM=(e,t,o)=>{const s=oe.fromDom(e.getBody());return Xw(s,o).fold(()=>_M(e,t,s,o).orThunk(()=>Vd(CM(e,t),Ro)),a=>Q4(e,t,s,a))},p1=(e,t)=>{const o=oe.fromDom(e.selection.getStart(!0)),s=K0(e);return e.selection.isCollapsed()&&s.length===0?kM(e,t,o):wM(e,o,s)},Ip=(e,t)=>{let o=t;for(;o&&o!==e;){if(xi(o)||Kn(o))return o;o=o.parentNode}return null},g6=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],f6=it.each,ub=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),s=(c,d)=>{if(c.nodeName!==d.nodeName||c.nodeType!==d.nodeType)return!1;const f=w=>{const T={};return f6(t.getAttribs(w),R=>{const N=R.nodeName.toLowerCase();N!=="style"&&!a(N)&&(T[N]=t.getAttrib(w,N))}),T},b=(w,T)=>{for(const R in w)if(vo(w,R)){const N=T[R];if(Os(N)||w[R]!==N)return!1;delete T[R]}for(const R in T)if(vo(T,R))return!1;return!0};return jt(c)&&jt(d)&&(!b(f(c),f(d))||!b(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(d,"style"))))?!1:!Ad(c)&&!Ad(d)},a=c=>In(g6,d=>Ls(c,d))||o.has(c);return{compare:s,isAttributeInternal:a}},J4=(e,t)=>{if(mt(e))return{container:e,offset:t};const o=lg.getNode(e,t);return mt(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&mt(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&mt(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},p6=e=>{const t=e.cloneRange(),o=J4(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const s=J4(e.endContainer,e.endOffset);return t.setEnd(s.container,s.offset),t},$v=Nn.DOM,Qw=()=>$v.create("span",{"data-mce-type":"bookmark"}),e3=(e,t,o)=>{if(jt(e)){const s=o();return e.hasChildNodes()?t===e.childNodes.length?e.appendChild(s):e.insertBefore(s,e.childNodes[t]):e.appendChild(s),{container:s,offset:0}}else return{container:e,offset:t}},t3=(e,t)=>{const o=s=>{var a;let c=(a=s.parentNode)===null||a===void 0?void 0:a.firstChild,d=0;for(;c;){if(c===s)return d;(!jt(c)||c.getAttribute("data-mce-type")!=="bookmark")&&d++,c=c.nextSibling}return-1};if(jt(e)&&He(e.parentNode)){const s=e;t=o(e),e=e.parentNode,$v.remove(s),!e.hasChildNodes()&&$v.isBlock(e)&&e.appendChild($v.create("br"))}return{container:e,offset:t}},Uv=(e,t,o,s)=>{const a=$v.createRng();return a.setStart(e,t),a.setEnd(o,s),p6(a)},mg=(e,t=Qw)=>{const{container:o,offset:s}=e3(e.startContainer,e.startOffset,t);if(e.collapsed)return{startContainer:o,startOffset:s};{const{container:a,offset:c}=e3(e.endContainer,e.endOffset,t);return{startContainer:o,startOffset:s,endContainer:a,endOffset:c}}},tm=e=>{const{container:t,offset:o}=t3(e.startContainer,e.startOffset);if(!Os(e.endContainer)&&!Os(e.endOffset)){const{container:s,offset:a}=t3(e.endContainer,e.endOffset);return Uv(t,o,s,a)}else return Uv(t,o,t,o)},o3=(e,t,o,s)=>{if(it.each(o.styles,(a,c)=>{e.setStyle(t,c,yf(a,s))}),o.styles){const a=e.getAttrib(t,"style");a&&e.setAttrib(t,"data-mce-style",a)}},gg=(e,t,o,s,a)=>{const c=e.dom;so(o.onformat)&&o.onformat(t,o,s,a),o3(c,t,o,s),it.each(o.attributes,(d,f)=>{c.setAttrib(t,f,yf(d,s))}),it.each(o.classes,d=>{const f=yf(d,s);c.hasClass(t,f)||c.addClass(t,f)})},om=e=>!me(e.attributes)&&!me(e.styles),n3=$k,Jw=(e,t,o)=>{const s=e.formatter.get(o);if(s)for(let a=0;a<s.length;a++){const c=s[a];if(oc(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},Ks=(e,t,o,s,a)=>{const c=e.dom.getRoot();if(t===c)return!1;const d=e.dom.getParent(t,f=>Jw(e,f,o)?!0:f.parentNode===c||!!Ga(e,f,o,s,!0));return!!Ga(e,d,o,s,a)},mb=(e,t,o)=>xa(o)&&n3(t,o.inline)||sg(o)&&n3(t,o.block)?!0:oc(o)?jt(t)&&e.is(t,o.selector):!1,Zv=(e,t,o,s,a,c)=>{const d=o[s],f=s==="attributes";if(so(o.onmatch))return o.onmatch(t,o,s);if(d){if(ga(d)){for(let b=0;b<d.length;b++)if(f?e.getAttrib(t,d[b]):xv(e,t,d[b]))return!0}else for(const b in d)if(vo(d,b)){const w=f?e.getAttrib(t,b):xv(e,t,b),T=yf(d[b],c),R=Qo(w)||Xc(w);if(R&&Qo(T))continue;if(a&&R&&!o.exact||(!a||o.exact)&&!n3(w,Uk(T,b)))return!1}}return!0},Ga=(e,t,o,s,a)=>{const c=e.formatter.get(o),d=e.dom;if(c&&jt(t))for(let f=0;f<c.length;f++){const b=c[f];if(mb(e.dom,t,b)&&Zv(d,t,b,"attributes",a,s)&&Zv(d,t,b,"styles",a,s)){const w=b.classes;if(w){for(let T=0;T<w.length;T++)if(!e.dom.hasClass(t,yf(w[T],s)))return}return b}}},e_=(e,t,o,s,a)=>{if(s)return Ks(e,s,t,o,a);if(s=e.selection.getNode(),Ks(e,s,t,o,a))return!0;const c=e.selection.getStart();return!!(c!==s&&Ks(e,c,t,o,a))},s3=(e,t,o)=>{const s=[],a={},c=e.selection.getStart();return e.dom.getParent(c,d=>{for(let f=0;f<t.length;f++){const b=t[f];!a[b]&&Ga(e,d,b,o)&&(a[b]=!0,s.push(b))}},e.dom.getRoot()),s},SM=(e,t)=>{const o=a=>tn(a,oe.fromDom(e.getBody())),s=(a,c)=>Ga(e,a.dom,c)?P.some(c):P.none();return P.from(e.selection.getStart(!0)).bind(a=>md(oe.fromDom(a),c=>Ti(t,d=>s(c,d)),o)).getOrNull()},gb=(e,t)=>{const o=e.formatter.get(t),s=e.dom;if(o&&e.selection.isEditable()){const a=e.selection.getStart(),c=pw(s,a);for(let d=o.length-1;d>=0;d--){const f=o[d];if(!oc(f))return!0;for(let b=c.length-1;b>=0;b--)if(s.is(c[b],f.selector))return!0}}return!1},EM=(e,t,o)=>zo(o,(s,a)=>{const c=D5(e,a);return e.formatter.matchNode(t,a,{},c)?s.concat([a]):s},[]),jv=Hr,fb=(e,t)=>e.importNode(t,!0),h6=e=>{if(e){const t=new er(e,e);for(let o=t.current();o;o=t.next())if(mt(o))return o}return null},Tf=e=>{const t=oe.fromTag("span");return Xi(t,{id:aw,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&dn(t,oe.fromText(jv)),t},AM=e=>{const t=h6(e);return t&&t.data.charAt(0)===jv&&t.deleteData(0,1),t},fg=(e,t,o)=>{const s=e.dom,a=e.selection;if(qk(t))fu(e,!1,oe.fromDom(t),o,!0);else{const c=a.getRng(),d=s.getParent(t,s.isBlock),f=c.startContainer,b=c.startOffset,w=c.endContainer,T=c.endOffset,R=AM(t);s.remove(t,!0),f===R&&b>0&&c.setStart(R,b-1),w===R&&T>0&&c.setEnd(R,T-1),d&&s.isEmpty(d)&&Nc(oe.fromDom(d)),a.setRng(c)}},r3=(e,t,o)=>{const s=e.dom,a=e.selection;if(t)fg(e,t,o);else if(t=Qh(e.getBody(),a.getStart()),!t)for(;t=s.get(aw);)fg(e,t,o)},Nd=(e,t,o)=>{var s,a;const c=e.dom,d=c.getParent(o,Ve(zk,e.schema));d&&c.isEmpty(d)?(s=o.parentNode)===null||s===void 0||s.replaceChild(t,o):(Dy(oe.fromDom(o)),c.isEmpty(o)?(a=o.parentNode)===null||a===void 0||a.replaceChild(t,o):c.insertAfter(t,o))},Pp=(e,t)=>(e.appendChild(t),t),b6=(e,t)=>{var o;const s=mn(e,(c,d)=>Pp(c,d.cloneNode(!1)),t),a=(o=s.ownerDocument)!==null&&o!==void 0?o:document;return Pp(s,a.createTextNode(jv))},Wv=(e,t,o,s,a,c)=>{const d=e.formatter,f=e.dom,b=ft(ma(d.get()),R=>R!==s&&!Zo(R,"removeformat")),w=EM(e,o,b);if(ft(w,R=>!NN(e,R,s)).length>0){const R=o.cloneNode(!1);return f.add(t,R),d.remove(s,a,R,c),f.remove(R),P.some(R)}else return P.none()},t_=e=>Pi(e,dd(e).replace(new RegExp(`${Fs}$`)," ")),x6=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&Fl(oe.fromDom(t)).each(s=>{Ja(s)?t_(s):Fi(s,a=>Ja(a)).each(a=>{Ja(a)&&t_(a)})})};e.once("input",s=>{s.data&&!Ep(s.data)&&(s.isComposing?e.once("compositionend",()=>{o()}):o())})},pb=(e,t,o)=>{let s;const a=e.selection,c=e.formatter.get(t);if(!c)return;const d=a.getRng();let f=d.startOffset;const w=d.startContainer.nodeValue;s=Qh(e.getBody(),a.getStart());const T=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(w&&f>0&&f<w.length&&T.test(w.charAt(f))&&T.test(w.charAt(f-1))){const R=a.getBookmark();d.collapse(!0);let N=rg(e.dom,d,c);N=nb(N),e.formatter.apply(t,o,N),a.moveToBookmark(R)}else{let R=s?h6(s):null;(!s||R?.data!==jv)&&(s=fb(e.getDoc(),Tf(!0).dom),R=s.firstChild,d.insertNode(s),f=1,x6(e,s)),e.formatter.apply(t,o,s),a.setCursorLocation(R,f)}},TM=(e,t,o,s)=>{const a=e.dom,c=e.selection;let d=!1;const f=e.formatter.get(t);if(!f)return;const b=c.getRng(),w=b.startContainer,T=b.startOffset;let R=w;mt(w)&&(T!==w.data.length&&(d=!0),R=R.parentNode);const N=[];let F;for(;R;){if(Ga(e,R,t,o,s)){F=R;break}R.nextSibling&&(d=!0),N.push(R),R=R.parentNode}if(F)if(d){const ee=c.getBookmark();b.collapse(!0);let X=rg(a,b,f,{includeTrailingSpace:!0});X=nb(X),e.formatter.remove(t,o,X,s),c.moveToBookmark(ee)}else{const ee=Qh(e.getBody(),F),X=He(ee)?a.getParents(F.parentNode,Uo,ee):[],K=Tf(!1).dom;Nd(e,K,ee??F);const ve=Wv(e,K,F,t,o,s),xe=b6([...N,...ve.toArray(),...X],K);ee&&fg(e,ee,He(ee)),c.setCursorLocation(xe,1),x6(e,K),a.isEmpty(F)&&a.remove(F)}},hu=(e,t,o)=>{const s=e.selection,a=e.getBody();r3(e,null,o),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===jv&&r3(e,Qh(a,s.getStart()),!0),(t===37||t===39)&&r3(e,Qh(a,s.getStart()),!0)},o_=e=>mt(e)&&Rg(e.data,Fs),v6=e=>{e.on("mouseup keydown",t=>{hu(e,t.keyCode,o_(e.selection.getRng().endContainer))})},n_=e=>{const t=Tf(!1),o=b6(e,t.dom);return{caretContainer:t,caretPosition:Ge(o,0)}},s_=(e,t)=>{const{caretContainer:o,caretPosition:s}=n_(t);return ta(oe.fromDom(e),o),ds(oe.fromDom(e)),s},h1=(e,t)=>{const{caretContainer:o,caretPosition:s}=n_(t);return e.insertNode(o.dom),s},r_=(e,t)=>{if(Pc(t.dom))return!1;const o=e.schema.getTextInlineElements();return vo(o,Ho(t))&&!Pc(t.dom)&&!Lm(t.dom)},y6=["fontWeight","fontStyle","color","fontSize","fontFamily"],DM=e=>te(e.styles)&&In(ma(e.styles),t=>$o(y6,t)),OM=e=>Cn(e,t=>xa(t)&&t.inline==="span"&&DM(t)),w6=(e,t)=>{const o=e.get(t);return me(o)?OM(o):P.none()},b1=(e,t)=>tc(t,Ge.fromRangeStart(e)).isNone(),bu=(e,t)=>Cl(t,Ge.fromRangeEnd(e)).exists(o=>!Ns(o.getNode())||Cl(t,o).isSome())===!1,_6=e=>t=>HC(t)&&e.isEditable(t),RM=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return b1(o,t[0])&&bu(o,t[0])?t:[];{const s=qn(t).filter(d=>b1(o,d)).toArray(),a=Vs(t).filter(d=>bu(o,d)).toArray(),c=t.slice(1,-1);return s.concat(c).concat(a)}},NM=e=>ft(RM(e),_6(e.dom)),C6=e=>ft(e.getSelectedBlocks(),_6(e.dom)),a3=it.each,i3=e=>jt(e)&&!Ad(e)&&!Pc(e)&&!Lm(e),k6=(e,t)=>{for(let o=e;o;o=o[t]){if(mt(o)&&jr(o.data))return e;if(jt(o)&&!Ad(o))return o}return e},S6=(e,t,o)=>{const s=ub(e),a=Io(t)&&e.dom.isEditable(t),c=Io(o)&&e.dom.isEditable(o);if(a&&c){const d=k6(t,"previousSibling"),f=k6(o,"nextSibling");if(s.compare(d,f)){for(let b=d.nextSibling;b&&b!==f;){const w=b;b=b.nextSibling,d.appendChild(w)}return e.dom.remove(f),it.each(it.grep(f.childNodes),b=>{d.appendChild(b)}),d}}return o},E6=(e,t,o,s)=>{var a;if(s&&t.merge_siblings!==!1){const c=(a=S6(e,A5(s),s))!==null&&a!==void 0?a:s;S6(e,c,A5(c,!0))}},MM=(e,t,o)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";a3(e.select(s,o),a=>{i3(a)&&e.isEditable(a)&&a3(t.styles,(c,d)=>{e.setStyle(a,d,"")})})}},l3=(e,t,o)=>{a3(e.childNodes,s=>{i3(s)&&(t(s)&&o(s),s.hasChildNodes()&&l3(s,t,o))})},BM=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},A6=(e,t)=>o=>!!(o&&xv(e,o,t)),T6=(e,t,o)=>s=>{e.setStyle(s,t,o),s.getAttribute("style")===""&&s.removeAttribute("style"),BM(e,s)},x1=ll.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Lp=/^(src|href|style)$/,c3=it.each,a_=$k,d3=e=>/^(TR|TH|TD)$/.test(e.nodeName),u3=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),i_=(e,t,o)=>{let s=t[o?"startContainer":"endContainer"],a=t[o?"startOffset":"endOffset"];if(jt(s)){const c=s.childNodes.length-1;!o&&a&&a--,s=s.childNodes[a>c?c:a]}return mt(s)&&o&&a>=s.data.length&&(s=new er(s,e.getBody()).next()||s),mt(s)&&!o&&a===0&&(s=new er(s,e.getBody()).prev()||s),s},D6=(e,t)=>{const o=t?"firstChild":"lastChild",s=e[o];return d3(e)&&s?e.nodeName==="TR"&&s[o]||s:e},m3=(e,t,o,s)=>{var a;const c=e.create(o,s);return(a=t.parentNode)===null||a===void 0||a.insertBefore(c,t),c.appendChild(t),c},O6=(e,t,o,s,a)=>{const c=oe.fromDom(t),d=oe.fromDom(e.create(s,a)),f=o?Y1(c):ws(c);return Ws(d,f),o?(ta(c,d),xc(d,c)):(Hl(c,d),dn(d,c)),d.dom},IM=(e,t)=>t.links&&e.nodeName==="A",R6=(e,t,o)=>{const s=t.parentNode;let a;const c=e.dom,d=Za(e);sg(o)&&s===c.getRoot()&&(!o.list_block||!a_(t,o.list_block))&&je(Nt(t.childNodes),f=>{X0(e,d,f.nodeName.toLowerCase())?a?a.appendChild(f):(a=m3(c,f,d),c.setAttribs(a,F0(e))):a=null}),!(hw(o)&&!a_(o.inline,t))&&c.remove(t,!0)},N6=(e,t,o)=>E(e)?{name:t,value:null}:{name:e,value:yf(t,o)},M6=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},B6=(e,t,o,s,a)=>{let c=!1;c3(o.styles,(d,f)=>{const{name:b,value:w}=N6(f,d,s),T=Uk(w,b);(o.remove_similar||ln(w)||!jt(a)||a_(xv(e,a,b),T))&&e.setStyle(t,b,""),c=!0}),c&&M6(e,t)},PM=(e,t,o)=>{t==="removeformat"?je(C6(e.selection),s=>{je(y6,a=>e.dom.setStyle(s,a,"")),M6(e.dom,s)}):w6(e.formatter,t).each(s=>{je(C6(e.selection),a=>B6(e.dom,a,s,o,null))})},g3=(e,t,o,s,a)=>{const c=e.dom,d=ub(e),f=e.schema;if(xa(t)&&nu(f,t.inline)&&Uu(f,s)&&s.parentElement===e.getBody())return R6(e,s,t),x1.removed();if(!t.ceFalseOverride&&s&&c.getContentEditableParent(s)==="false"||s&&!mb(c,s,t)&&!IM(s,t))return x1.keep();const b=s,w=t.preserve_attributes;if(xa(t)&&t.remove==="all"&&me(w)){const T=ft(c.getAttribs(b),R=>$o(w,R.name.toLowerCase()));if(c.removeAllAttribs(b),je(T,R=>c.setAttrib(b,R.name,R.value)),T.length>0)return x1.rename("span")}if(t.remove!=="all"){B6(c,b,t,o,a),c3(t.attributes,(R,N)=>{const{name:F,value:ee}=N6(N,R,o);if(t.remove_similar||ln(ee)||!jt(a)||a_(c.getAttrib(a,F),ee)){if(F==="class"){const X=c.getAttrib(b,F);if(X){let K="";if(je(X.split(/\s+/),ve=>{/mce\-\w+/.test(ve)&&(K+=(K?" ":"")+ve)}),K){c.setAttrib(b,F,K);return}}}if(Lp.test(F)&&b.removeAttribute("data-mce-"+F),F==="style"&&bl(["li"])(b)&&c.getStyle(b,"list-style-type")==="none"){b.removeAttribute(F),c.setStyle(b,"list-style-type","none");return}F==="class"&&b.removeAttribute("className"),b.removeAttribute(F)}}),c3(t.classes,R=>{R=yf(R,o),(!jt(a)||c.hasClass(a,R))&&c.removeClass(b,R)});const T=c.getAttribs(b);for(let R=0;R<T.length;R++){const N=T[R].nodeName;if(!d.isAttributeInternal(N))return x1.keep()}}return t.remove!=="none"?(R6(e,b,t),x1.removed()):x1.keep()},LM=(e,t,o,s,a)=>{let c;return t.parentNode&&je(pw(e.dom,t.parentNode).reverse(),d=>{if(!c&&jt(d)&&d.id!=="_start"&&d.id!=="_end"){const f=Ga(e,d,o,s,a);f&&f.split!==!1&&(c=d)}}),c},FM=(e,t,o,s)=>g3(e,t,o,s,s).fold(ut(s),a=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,a)),ut(null)),zM=(e,t,o,s,a,c,d,f)=>{var b,w;let T,R;const N=e.dom;if(o){const F=o.parentNode;for(let ee=s.parentNode;ee&&ee!==F;ee=ee.parentNode){let X=N.clone(ee,!1);for(let K=0;K<t.length&&(X=FM(e,t[K],f,X),X!==null);K++);X&&(T&&X.appendChild(T),R||(R=X),T=X)}(!d.mixed||!N.isBlock(o))&&(s=(b=N.split(o,s))!==null&&b!==void 0?b:s),T&&R&&((w=a.parentNode)===null||w===void 0||w.insertBefore(T,a),R.appendChild(a),xa(d)&&E6(e,d,f,T))}return s},HM=(e,t,o,s,a)=>{const c=e.formatter.get(t),d=c[0],f=e.dom,b=e.selection,w=X=>{const K=LM(e,X,t,o,a);return zM(e,c,K,X,X,!0,d,o)},T=X=>Ad(X)&&jt(X)&&(X.id==="_start"||X.id==="_end"),R=X=>In(c,K=>qv(e,K,o,X,X)),N=X=>{const K=Nt(X.childNodes),xe=R(X)||In(c,rt=>mb(f,X,rt)),Te=X.parentNode;if(!xe&&He(Te)&&Wk(d)&&R(Te),d.deep&&K.length)for(let rt=0;rt<K.length;rt++)N(K[rt]);je(["underline","line-through","overline"],rt=>{jt(X)&&e.dom.getStyle(X,"text-decoration")===rt&&X.parentNode&&Zk(f,X.parentNode)===rt&&qv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:rt}},void 0,X)})},F=X=>{const K=f.get(X?"_start":"_end");if(K){let ve=K[X?"firstChild":"lastChild"];return T(ve)&&(ve=ve[X?"firstChild":"lastChild"]),mt(ve)&&ve.data.length===0&&(ve=X?K.previousSibling||K.nextSibling:K.nextSibling||K.previousSibling),f.remove(K,!0),ve}else return null},ee=X=>{let K,ve,xe=rg(f,X,c,{includeTrailingSpace:X.collapsed});if(d.split){if(xe=nb(xe),K=i_(e,xe,!0),ve=i_(e,xe),K!==ve){if(K=D6(K,!0),ve=D6(ve,!1),u3(f,K,ve)){const Fe=P.from(K.firstChild).getOr(K);w(O6(f,Fe,!0,"span",{id:"_start","data-mce-type":"bookmark"})),F(!0);return}if(u3(f,ve,K)){const Fe=P.from(ve.lastChild).getOr(ve);w(O6(f,Fe,!1,"span",{id:"_end","data-mce-type":"bookmark"})),F(!1);return}K=m3(f,K,"span",{id:"_start","data-mce-type":"bookmark"}),ve=m3(f,ve,"span",{id:"_end","data-mce-type":"bookmark"});const Te=f.createRng();Te.setStartAfter(K),Te.setEndBefore(ve),o1(f,Te,Fe=>{je(Fe,rt=>{!Ad(rt)&&!Ad(rt.parentNode)&&w(rt)})}),w(K),w(ve),K=F(!0),ve=F()}else K=ve=w(K);xe.startContainer=K.parentNode?K.parentNode:K,xe.startOffset=f.nodeIndex(K),xe.endContainer=ve.parentNode?ve.parentNode:ve,xe.endOffset=f.nodeIndex(ve)+1}o1(f,xe,Te=>{je(Te,N)})};if(s){if(bv(s)){const X=f.createRng();X.setStartBefore(s),X.setEndAfter(s),ee(X)}else ee(s);yA(e,t,s,o);return}!b.isCollapsed()||!xa(d)||K0(e).length?(fw(e,()=>mw(e,ee),X=>xa(d)&&e_(e,t,o,X)),e.nodeChanged()):TM(e,t,o,a),PM(e,t,o),yA(e,t,s,o)},I6=(e,t,o,s,a)=>{(s||e.selection.isEditable())&&HM(e,t,o,s,a)},VM=(e,t,o,s)=>g3(e,t,o,s).fold(()=>P.some(s),a=>P.some(e.dom.rename(s,a)),P.none),qv=(e,t,o,s,a)=>g3(e,t,o,s,a).fold(_o,c=>(e.dom.rename(s,c),!0),Uo),P6=["fontsize","subscript","superscript"],$M=["strikethrough",...P6],UM=(e,t,o)=>He(e.matchNode(t.dom,o,{},o==="fontsize")),l_=(e,t)=>In(P6,o=>UM(e,t,o)),ZM=e=>$o($M,e),jM=(e,t,o,s,a)=>{const c=ei(t,e).filter(dr);return qc(c,o).map(d=>{const f=c[d],b=s(f),w=[...a(ld(f)).toArray(),...ar(c.slice(0,d),T=>o(T)?a(T).toArray():[ld(T)])];return{container:f,innerWrapper:b,outerWrappers:w}})},WM=(e,t,o,s)=>{je(on(e),a=>{dr(a)&&o(a)&&s(a).isNone()&&Mi(a)}),je(on(e),a=>dn(t,a)),xc(e,t)},qM=(e,t)=>{if(t.length>0){const o=t[t.length-1];ta(e,o);const s=zo(t.slice(0,t.length-1),(a,c)=>(dn(a,c),c),o);dn(s,e)}},GM=(e,t,o,s,a)=>{const c=d=>tn(oe.fromDom(e.getRoot()),d)||e.isBlock(d.dom);je(t,d=>{jM(c,d,o,s,a).each(({container:f,innerWrapper:b,outerWrappers:w})=>{e.split(f.dom,d.dom),WM(d,b,o,a),qM(d,w)})})},L6=(e,t,o)=>{const s=f=>He(Ga(e,f.dom,t)),a=f=>{const b=oe.fromTag(Ho(f)),w=Ga(e,f.dom,t,{});return He(w)&&om(w)&&gg(e,b.dom,w),b},c=f=>{const b=Ga(e,f.dom,t,{});return He(b)?VM(e,b,{},f.dom).map(oe.fromDom):P.some(f)},d=mg(e.selection.getRng());GM(e.dom,o,s,a,c),e.selection.setRng(tm(d))},KM=(e,t)=>ar(t,o=>{const s=Ji(o,a=>l_(e,a));return l_(e,o)?[o,...s]:s}),YM=(e,t,o)=>{if(ZM(t)){const s=KM(e.formatter,o);L6(e,"strikethrough",s)}},F6=(e,t)=>{const o=ft(t,s=>l_(e.formatter,s));L6(e,"strikethrough",o)},z6=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),XM=e=>e.name==="summary",QM=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},H6=(e,t,o,s)=>{const a=o.name;for(let c=0,d=e.length;c<d;c++){const f=e[c];if(f.name===a){const b=s.nodes[a];b?b.nodes.push(o):s.nodes[a]={filter:f,nodes:[o]}}}if(o.attributes)for(let c=0,d=t.length;c<d;c++){const f=t[c],b=f.name;if(b in o.attributes.map){const w=s.attributes[b];w?w.nodes.push(o):s.attributes[b]={filter:f,nodes:[o]}}}},JM=(e,t,o)=>{const s={nodes:{},attributes:{}};return o.firstChild&&QM(o,a=>{H6(e,t,a,s)}),s},V6=(e,t)=>{const o=(s,a)=>{Jo(s,c=>{const d=Nt(c.nodes);je(c.filter.callbacks,f=>{for(let b=d.length-1;b>=0;b--){const w=d[b];(!(a?w.attr(c.filter.name)!==void 0:w.name===c.filter.name)||Qo(w.parent))&&d.splice(b,1)}d.length>0&&f(d,c.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},$6=(e,t,o,s={})=>{const a=JM(e,t,o);V6(a,s)},f3=(e,t,o,s)=>{if((e.pad_empty_with_br||t.insert)&&o(s)){const c=new li("br",1);t.insert&&c.attr("data-mce-bogus","1"),s.empty().append(c)}else s.empty().append(new li("#text",3)).value=Fs},eB=e=>{var t;return p3(e,"#text")&&((t=e?.firstChild)===null||t===void 0?void 0:t.value)===Fs},p3=(e,t)=>{const o=e?.firstChild;return He(o)&&o===e.lastChild&&o.name===t},U6=(e,t)=>{const o=e.getElementRule(t.name);return o?.paddEmpty===!0},hb=(e,t,o,s)=>s.isEmpty(t,o,a=>U6(e,a)),Z6=(e,t)=>He(e)&&(t(e)||e.name==="br"),tB=e=>{let t;for(let o=e;o;o=o.parent){const s=o.attr("contenteditable");if(s==="false")break;s==="true"&&(t=o)}return P.from(t)},j6=e=>{const t=[];for(let o=e.firstChild;He(o);o=o.walk())t.push(o);return t},h3=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const a of s)o&&!t.isValidChild(o.name,a.name)&&h3(a,t,o);e.unwrap()}},W6=(e,t,o,s=Ro)=>{const a=t.getTextBlockElements(),c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),f=it.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),b=new Set,w=T=>T!==o&&!f[T.name];for(let T=0;T<e.length;T++){const R=e[T];let N,F,ee;if(!R.parent||b.has(R))continue;if(a[R.name]&&R.parent.name==="li"){let K=R.next;for(;K&&a[K.name];){K.name="li",b.add(K),R.parent.insert(K,R.parent);K=K.next}R.unwrap();continue}const X=[R];for(N=R.parent;N&&!t.isValidChild(N.name,R.name)&&w(N);N=N.parent)X.push(N);if(N&&X.length>1)if(b3(t,R,N))h3(R,t);else{X.reverse(),F=X[0].clone(),s(F);let K=F;for(let ve=0;ve<X.length-1;ve++){t.isValidChild(K.name,X[ve].name)&&ve>0?(ee=X[ve].clone(),s(ee),K.append(ee)):ee=K;for(let xe=X[ve].firstChild;xe&&xe!==X[ve+1];){const Te=xe.next;ee.append(xe),xe=Te}K=ee}hb(t,c,d,F)?N.insert(R,X[0],!0):(N.insert(F,X[0],!0),N.insert(R,F)),N=X[0],(hb(t,c,d,N)||p3(N,"br"))&&N.empty().remove()}else if(R.parent){if(R.name==="li"){let K=R.prev;if(K&&(K.name==="ul"||K.name==="ol")){K.append(R);continue}if(K=R.next,K&&(K.name==="ul"||K.name==="ol")&&K.firstChild){K.insert(R,K.firstChild,!0);continue}const ve=new li("ul",1);s(ve),R.wrap(ve);continue}if(t.isValidChild(R.parent.name,"div")&&t.isValidChild("div",R.name)){const K=new li("div",1);s(K),R.wrap(K)}else h3(R,t)}}},oB=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},b3=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&oB(o,"a")?!0:XM(o)&&z6(t)?!(o?.firstChild===t&&o?.lastChild===t):!1:!1,nB=(e,t,o,s)=>{const a=document.createRange();return a.setStart(e,t),a.setEnd(o,s),a},sB=e=>{const t=Ge.fromRangeStart(e),o=Ge.fromRangeEnd(e),s=e.commonAncestorContainer;return Ic(!1,s,o).map(a=>!tg(t,o,s)&&tg(t,a,s)?nB(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},bb=e=>e.collapsed?e:sB(e),c_=it.explode,q6=()=>{const e={};return{addFilter:(a,c)=>{je(c_(a),d=>{vo(e,d)||(e[d]={name:d,callbacks:[]}),e[d].callbacks.push(c)})},getFilters:()=>Ss(e),removeFilter:(a,c)=>{je(c_(a),d=>{if(vo(e,d))if(He(c)){const f=e[d],b=ft(f.callbacks,w=>w!==c);b.length>0?f.callbacks=b:delete e[d]}else delete e[d]})}}},G6=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),rB=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),aB=(e,t)=>{je(t,o=>{e.attr(o,null)})},iB=(e,t,o)=>{e.addNodeFilter("font",s=>{je(s,a=>{const c=t.parse(a.attr("style")),d=a.attr("color"),f=a.attr("face"),b=a.attr("size");d&&(c.color=d),f&&(c["font-family"]=f),b&&Du(b).each(w=>{c["font-size"]=o[w-1]}),a.name="span",a.attr("style",t.serialize(c)),aB(a,["color","face","size"])})})},lB=(e,t,o)=>{e.addNodeFilter("strike",s=>{const a=t.type!=="html4";je(s,c=>{if(a)c.name="s";else{const d=o.parse(c.attr("style"));d["text-decoration"]="line-through",c.name="span",c.attr("style",o.serialize(d))}})})},cB=(e,t,o)=>{var s;const a=bd();t.convert_fonts_to_spans&&iB(e,a,it.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),lB(e,o,a)},dB=(e,t,o)=>{t.inline_styles&&cB(e,t,o)},uB=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),mB=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},x3=e=>{try{return decodeURIComponent(e)}catch{return e}},v3=e=>{const[t,...o]=e.split(","),s=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(a){const c=a[2]===";base64",d=x3(s),f=c?mB(d):d;return P.some({type:a[1],data:f,base64Encoded:c})}else return P.none()},K6=(e,t,o=!0)=>{let s=t;if(o)try{s=atob(t)}catch{return P.none()}const a=new Uint8Array(s.length);for(let c=0;c<a.length;c++)a[c]=s.charCodeAt(c);return P.some(new Blob([a],{type:e}))},gB=e=>new Promise((t,o)=>{v3(e).bind(({type:s,data:a,base64Encoded:c})=>K6(s,a,c)).fold(()=>o("Invalid data URI"),t)}),Y6=e=>Ls(e,"blob:")?uB(e):Ls(e,"data:")?gB(e):Promise.reject("Unknown URI format"),Fp=e=>new Promise((t,o)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var a;o((a=s.error)===null||a===void 0?void 0:a.message)},s.readAsDataURL(e)});let X6=0;const fB=e=>"blobid"+X6++,v1=(e,t,o)=>v3(e).bind(({data:s,type:a,base64Encoded:c})=>{if(t&&!c)return P.none();{const d=c?s:btoa(s);return o(d,a)}}),Q6=(e,t,o)=>{const s=e.create(fB(),t,o);return e.add(s),s},d_=(e,t,o=!1)=>v1(t,o,(s,a)=>P.from(e.getByData(s,a)).orThunk(()=>K6(a,s).map(c=>Q6(e,c,s)))),y3=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(Ls(t,"blob:")){const s=e.getByUri(t);return He(s)?Promise.resolve(s):Y6(t).then(a=>Fp(a).then(c=>v1(c,!1,d=>P.some(Q6(e,a,d))).getOrThunk(o)))}else return Ls(t,"data:")?d_(e,t).fold(o,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},pB=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,J6=e=>P.from(e.match(pB)).bind(t=>rn(t,1)).map(t=>Ls(t,"www.")?t.substring(4):t),Gv=(e,t)=>{P.from(e.attr("src")).bind(J6).forall(o=>!$o(t,o))&&e.attr("sandbox","")},w3=(e,t)=>Ls(e,`${t}/`),hB=e=>Os(e)?"iframe":w3(e,"image")?"img":w3(e,"video")?"video":w3(e,"audio")?"audio":"iframe",bB=({type:e,src:t,width:o,height:s}={},a,c)=>{const d=hB(e),f=new li(d,1);return f.attr(d==="audio"?{src:t}:{src:t,width:o,height:s}),(d==="audio"||d==="video")&&f.attr("controls",""),d==="iframe"&&a&&Gv(f,c),f},xB=e=>He(e.attr("data-mce-bogus")),_3=e=>e.attr("src")===Eo.transparentSrc||He(e.attr("data-mce-placeholder")),vB=(e,t)=>{const{blob_cache:o}=t;if(o){const s=a=>{const c=a.attr("src");_3(a)||xB(a)||Qo(c)||d_(o,c,!0).each(d=>{a.attr("src",d.blobUri())})};e.addAttributeFilter("src",a=>je(a,s))}},yB=(e,t)=>{var o,s;const a=e.schema;e.addAttributeFilter("href",b=>{let w=b.length;const T=N=>N.split(" ").filter(ee=>ee.length>0).concat(["noopener"]).sort().join(" "),R=N=>{const F=N?it.trim(N):"";return/\b(noopener)\b/g.test(F)?F:T(F)};if(!t.allow_unsafe_link_target)for(;w--;){const N=b[w];N.name==="a"&&N.attr("target")==="_blank"&&N.attr("rel",R(N.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",b=>{let w=b.length,T,R,N,F;for(;w--;)if(F=b[w],F.name==="a"&&F.firstChild&&!F.attr("href"))for(N=F.parent,T=F.lastChild;T&&N;)R=T.prev,N.insert(T,F),T=R}),t.fix_list_elements&&e.addNodeFilter("ul,ol",b=>{let w=b.length,T,R;for(;w--;)if(T=b[w],R=T.parent,R&&(R.name==="ul"||R.name==="ol"))if(T.prev&&T.prev.name==="li")T.prev.append(T);else{const N=new li("li",1);N.attr("style","list-style-type: none"),T.wrap(N)}});const c=a.getValidClasses();t.validate&&c&&e.addAttributeFilter("class",b=>{var w;let T=b.length;for(;T--;){const R=b[T],N=(w=R.attr("class"))!==null&&w!==void 0?w:"",F=it.explode(N," ");let ee="";for(let X=0;X<F.length;X++){const K=F[X];let ve=!1,xe=c["*"];xe&&xe[K]&&(ve=!0),xe=c[R.name],!ve&&xe&&xe[K]&&(ve=!0),ve&&(ee&&(ee+=" "),ee+=K)}ee.length||(ee=null),R.attr("class",ee)}}),vB(e,t);const d=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,f=gc((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",b=>je(b,w=>{w.replace(bB({type:w.attr("type"),src:w.name==="object"?w.attr("data"):w.attr("src"),width:w.attr("width"),height:w.attr("height")},d,f))})),d&&e.addNodeFilter("iframe",b=>je(b,w=>Gv(w,f)))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:eD,setPrototypeOf:tD,isFrozen:wB,getPrototypeOf:_B,getOwnPropertyDescriptor:CB}=Object;let{freeze:rc,seal:xu,create:oD}=Object,{apply:C3,construct:u_}=typeof Reflect<"u"&&Reflect;rc||(rc=function(t){return t}),xu||(xu=function(t){return t}),C3||(C3=function(t,o,s){return t.apply(o,s)}),u_||(u_=function(t,o){return new t(...o)});const m_=ic(Array.prototype.forEach),kB=ic(Array.prototype.lastIndexOf),nD=ic(Array.prototype.pop),y1=ic(Array.prototype.push),SB=ic(Array.prototype.splice),g_=ic(String.prototype.toLowerCase),k3=ic(String.prototype.toString),sD=ic(String.prototype.match),Kv=ic(String.prototype.replace),EB=ic(String.prototype.indexOf),AB=ic(String.prototype.trim),nm=ic(Object.prototype.hasOwnProperty),ac=ic(RegExp.prototype.test),Yv=TB(TypeError);function ic(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return C3(e,t,s)}}function TB(e){return function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return u_(e,o)}}function us(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g_;tD&&tD(e,null);let s=t.length;for(;s--;){let a=t[s];if(typeof a=="string"){const c=o(a);c!==a&&(wB(t)||(t[s]=c),a=c)}e[a]=!0}return e}function rD(e){for(let t=0;t<e.length;t++)nm(e,t)||(e[t]=null);return e}function Df(e){const t=oD(null);for(const[o,s]of eD(e))nm(e,o)&&(Array.isArray(s)?t[o]=rD(s):s&&typeof s=="object"&&s.constructor===Object?t[o]=Df(s):t[o]=s);return t}function Xv(e,t){for(;e!==null;){const s=CB(e,t);if(s){if(s.get)return ic(s.get);if(typeof s.value=="function")return ic(s.value)}e=_B(e)}function o(){return null}return o}const aD=rc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Qv=rc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),w1=rc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),iD=rc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_1=rc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Jv=rc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),xb=rc(["#text"]),vu=rc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Of=rc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),f_=rc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),e2=rc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),t2=xu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),lD=xu(/<%[\w\W]*|[\w\W]*%>/gm),DB=xu(/\$\{[\w\W]*/gm),o2=xu(/^data-[\-\w.\u00B7-\uFFFF]+$/),cD=xu(/^aria-[\-\w]+$/),mr=xu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),OB=xu(/^(?:\w+script|data):/i),RB=xu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),C1=xu(/^html$/i),k1=xu(/^[a-z][.\w]*(-[.\w]+)+$/i);var zp=Object.freeze({__proto__:null,ARIA_ATTR:cD,ATTR_WHITESPACE:RB,CUSTOM_ELEMENT:k1,DATA_ATTR:o2,DOCTYPE_NAME:C1,ERB_EXPR:lD,IS_ALLOWED_URI:mr,IS_SCRIPT_OR_DATA:OB,MUSTACHE_EXPR:t2,TMPLIT_EXPR:DB});const n2={element:1,text:3,progressingInstruction:7,comment:8,document:9},S3=function(){return typeof window>"u"?null:window},E3=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(s=o.getAttribute(a));const c="dompurify"+(s?"#"+s:"");try{return t.createPolicy(c,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},A3=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function T3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S3();const t=bn=>T3(bn);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==n2.document||!e.Element)return t.isSupported=!1,t;let{document:o}=e;const s=o,a=s.currentScript,{DocumentFragment:c,HTMLTemplateElement:d,Node:f,Element:b,NodeFilter:w,NamedNodeMap:T=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:R,DOMParser:N,trustedTypes:F}=e,ee=b.prototype,X=Xv(ee,"cloneNode"),K=Xv(ee,"remove"),ve=Xv(ee,"nextSibling"),xe=Xv(ee,"childNodes"),Te=Xv(ee,"parentNode");if(typeof d=="function"){const bn=o.createElement("template");bn.content&&bn.content.ownerDocument&&(o=bn.content.ownerDocument)}let Fe,rt="";const{implementation:Ot,createNodeIterator:ht,createDocumentFragment:Xe,getElementsByTagName:Ke}=o,{importNode:at}=s;let $t=A3();t.isSupported=typeof eD=="function"&&typeof Te=="function"&&Ot&&Ot.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:lo,ERB_EXPR:To,TMPLIT_EXPR:nn,DATA_ATTR:ms,ARIA_ATTR:xs,IS_SCRIPT_OR_DATA:va,ATTR_WHITESPACE:Sr,CUSTOM_ELEMENT:al}=zp;let{IS_ALLOWED_URI:Pt}=zp,to=null;const Bn=us({},[...aD,...Qv,...w1,..._1,...xb]);let Ln=null;const Yt=us({},[...vu,...Of,...f_,...e2]);let St=Object.seal(oD(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Vt=null,mo=null,wo=!0,ts=!0,ps=!1,Pd=!0,di=!1,dm=!0,_u=!1,Dl=!1,dc=!1,um=!1,Zb=!1,ao=!1,En=!0,Er=!1;const Ba="user-content-";let Ka=!0,ya=!1,nr={},sr=null;const uc=us({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let _g=null;const th=us({},["audio","video","img","source","image","track"]);let zf=null;const DC=us({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),OC="http://www.w3.org/1998/Math/MathML",$2="http://www.w3.org/2000/svg",Cg="http://www.w3.org/1999/xhtml";let jb=Cg,jE=!1,RC=null;const uV=us({},[OC,$2,Cg],k3);let WE=us({},["mi","mo","mn","ms","mtext"]),qE=us({},["annotation-xml"]);const mV=us({},["title","style","font","a","script"]);let NC=null;const Wb=["application/xhtml+xml","text/html"],oR="text/html";let Ie=null,ze=null;const It=o.createElement("form"),Tt=function(Ze){return Ze instanceof RegExp||Ze instanceof Function},ho=function(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ze&&ze===Ze)){if((!Ze||typeof Ze!="object")&&(Ze={}),Ze=Df(Ze),NC=Wb.indexOf(Ze.PARSER_MEDIA_TYPE)===-1?oR:Ze.PARSER_MEDIA_TYPE,Ie=NC==="application/xhtml+xml"?k3:g_,to=nm(Ze,"ALLOWED_TAGS")?us({},Ze.ALLOWED_TAGS,Ie):Bn,Ln=nm(Ze,"ALLOWED_ATTR")?us({},Ze.ALLOWED_ATTR,Ie):Yt,RC=nm(Ze,"ALLOWED_NAMESPACES")?us({},Ze.ALLOWED_NAMESPACES,k3):uV,zf=nm(Ze,"ADD_URI_SAFE_ATTR")?us(Df(DC),Ze.ADD_URI_SAFE_ATTR,Ie):DC,_g=nm(Ze,"ADD_DATA_URI_TAGS")?us(Df(th),Ze.ADD_DATA_URI_TAGS,Ie):th,sr=nm(Ze,"FORBID_CONTENTS")?us({},Ze.FORBID_CONTENTS,Ie):uc,Vt=nm(Ze,"FORBID_TAGS")?us({},Ze.FORBID_TAGS,Ie):Df({}),mo=nm(Ze,"FORBID_ATTR")?us({},Ze.FORBID_ATTR,Ie):Df({}),nr=nm(Ze,"USE_PROFILES")?Ze.USE_PROFILES:!1,wo=Ze.ALLOW_ARIA_ATTR!==!1,ts=Ze.ALLOW_DATA_ATTR!==!1,ps=Ze.ALLOW_UNKNOWN_PROTOCOLS||!1,Pd=Ze.ALLOW_SELF_CLOSE_IN_ATTR!==!1,di=Ze.SAFE_FOR_TEMPLATES||!1,dm=Ze.SAFE_FOR_XML!==!1,_u=Ze.WHOLE_DOCUMENT||!1,um=Ze.RETURN_DOM||!1,Zb=Ze.RETURN_DOM_FRAGMENT||!1,ao=Ze.RETURN_TRUSTED_TYPE||!1,dc=Ze.FORCE_BODY||!1,En=Ze.SANITIZE_DOM!==!1,Er=Ze.SANITIZE_NAMED_PROPS||!1,Ka=Ze.KEEP_CONTENT!==!1,ya=Ze.IN_PLACE||!1,Pt=Ze.ALLOWED_URI_REGEXP||mr,jb=Ze.NAMESPACE||Cg,WE=Ze.MATHML_TEXT_INTEGRATION_POINTS||WE,qE=Ze.HTML_INTEGRATION_POINTS||qE,St=Ze.CUSTOM_ELEMENT_HANDLING||{},Ze.CUSTOM_ELEMENT_HANDLING&&Tt(Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(St.tagNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&Tt(Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(St.attributeNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&typeof Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(St.allowCustomizedBuiltInElements=Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),di&&(ts=!1),Zb&&(um=!0),nr&&(to=us({},xb),Ln=[],nr.html===!0&&(us(to,aD),us(Ln,vu)),nr.svg===!0&&(us(to,Qv),us(Ln,Of),us(Ln,e2)),nr.svgFilters===!0&&(us(to,w1),us(Ln,Of),us(Ln,e2)),nr.mathMl===!0&&(us(to,_1),us(Ln,f_),us(Ln,e2))),Ze.ADD_TAGS&&(to===Bn&&(to=Df(to)),us(to,Ze.ADD_TAGS,Ie)),Ze.ADD_ATTR&&(Ln===Yt&&(Ln=Df(Ln)),us(Ln,Ze.ADD_ATTR,Ie)),Ze.ADD_URI_SAFE_ATTR&&us(zf,Ze.ADD_URI_SAFE_ATTR,Ie),Ze.FORBID_CONTENTS&&(sr===uc&&(sr=Df(sr)),us(sr,Ze.FORBID_CONTENTS,Ie)),Ka&&(to["#text"]=!0),_u&&us(to,["html","head","body"]),to.table&&(us(to,["tbody"]),delete Vt.tbody),Ze.TRUSTED_TYPES_POLICY){if(typeof Ze.TRUSTED_TYPES_POLICY.createHTML!="function")throw Yv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ze.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Yv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Fe=Ze.TRUSTED_TYPES_POLICY,rt=Fe.createHTML("")}else Fe===void 0&&(Fe=E3(F,a)),Fe!==null&&typeof rt=="string"&&(rt=Fe.createHTML(""));rc&&rc(Ze),ze=Ze}},On=us({},[...Qv,...w1,...iD]),Ar=us({},[..._1,...Jv]),Hf=function(Ze){let oo=Te(Ze);(!oo||!oo.tagName)&&(oo={namespaceURI:jb,tagName:"template"});const Xo=g_(Ze.tagName),Ia=g_(oo.tagName);return RC[Ze.namespaceURI]?Ze.namespaceURI===$2?oo.namespaceURI===Cg?Xo==="svg":oo.namespaceURI===OC?Xo==="svg"&&(Ia==="annotation-xml"||WE[Ia]):!!On[Xo]:Ze.namespaceURI===OC?oo.namespaceURI===Cg?Xo==="math":oo.namespaceURI===$2?Xo==="math"&&qE[Ia]:!!Ar[Xo]:Ze.namespaceURI===Cg?oo.namespaceURI===$2&&!qE[Ia]||oo.namespaceURI===OC&&!WE[Ia]?!1:!Ar[Xo]&&(mV[Xo]||!On[Xo]):!!(NC==="application/xhtml+xml"&&RC[Ze.namespaceURI]):!1},kg=function(Ze){y1(t.removed,{element:Ze});try{Te(Ze).removeChild(Ze)}catch{K(Ze)}},MC=function(Ze,oo){try{y1(t.removed,{attribute:oo.getAttributeNode(Ze),from:oo})}catch{y1(t.removed,{attribute:null,from:oo})}if(oo.removeAttribute(Ze),Ze==="is")if(um||Zb)try{kg(oo)}catch{}else try{oo.setAttribute(Ze,"")}catch{}},gV=function(Ze){let oo=null,Xo=null;if(dc)Ze="<remove></remove>"+Ze;else{const il=sD(Ze,/^[\r\n\t ]+/);Xo=il&&il[0]}NC==="application/xhtml+xml"&&jb===Cg&&(Ze='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ze+"</body></html>");const Ia=Fe?Fe.createHTML(Ze):Ze;if(jb===Cg)try{oo=new N().parseFromString(Ia,NC)}catch{}if(!oo||!oo.documentElement){oo=Ot.createDocument(jb,"template",null);try{oo.documentElement.innerHTML=jE?rt:Ia}catch{}}const Zc=oo.body||oo.documentElement;return Ze&&Xo&&Zc.insertBefore(o.createTextNode(Xo),Zc.childNodes[0]||null),jb===Cg?Ke.call(oo,_u?"html":"body")[0]:_u?oo.documentElement:Zc},fV=function(Ze){return ht.call(Ze.ownerDocument||Ze,Ze,w.SHOW_ELEMENT|w.SHOW_COMMENT|w.SHOW_TEXT|w.SHOW_PROCESSING_INSTRUCTION|w.SHOW_CDATA_SECTION,null)},BL=function(Ze){return Ze instanceof R&&(typeof Ze.nodeName!="string"||typeof Ze.textContent!="string"||typeof Ze.removeChild!="function"||!(Ze.attributes instanceof T)||typeof Ze.removeAttribute!="function"||typeof Ze.setAttribute!="function"||typeof Ze.namespaceURI!="string"||typeof Ze.insertBefore!="function"||typeof Ze.hasChildNodes!="function")},pV=function(Ze){return typeof f=="function"&&Ze instanceof f};function $1(bn,Ze,oo){m_(bn,Xo=>{Xo.call(t,Ze,oo,ze)})}const hV=function(Ze){let oo=null;if($1($t.beforeSanitizeElements,Ze,null),BL(Ze))return kg(Ze),!0;const Xo=Ie(Ze.nodeName);if($1($t.uponSanitizeElement,Ze,{tagName:Xo,allowedTags:to}),dm&&Ze.hasChildNodes()&&!pV(Ze.firstElementChild)&&ac(/<[/\w!]/g,Ze.innerHTML)&&ac(/<[/\w!]/g,Ze.textContent)||Ze.nodeType===n2.progressingInstruction||dm&&Ze.nodeType===n2.comment&&ac(/<[/\w]/g,Ze.data))return kg(Ze),!0;if(!to[Xo]||Vt[Xo]){if(!Vt[Xo]&&xV(Xo)&&(St.tagNameCheck instanceof RegExp&&ac(St.tagNameCheck,Xo)||St.tagNameCheck instanceof Function&&St.tagNameCheck(Xo)))return!1;if(Ka&&!sr[Xo]){const Ia=Te(Ze)||Ze.parentNode,Zc=xe(Ze)||Ze.childNodes;if(Zc&&Ia){const il=Zc.length;for(let Cu=il-1;Cu>=0;--Cu){const U1=X(Zc[Cu],!0);U1.__removalCount=(Ze.__removalCount||0)+1,Ia.insertBefore(U1,ve(Ze))}}}return kg(Ze),!0}return Ze instanceof b&&!Hf(Ze)||(Xo==="noscript"||Xo==="noembed"||Xo==="noframes")&&ac(/<\/no(script|embed|frames)/i,Ze.innerHTML)?(kg(Ze),!0):(di&&Ze.nodeType===n2.text&&(oo=Ze.textContent,m_([lo,To,nn],Ia=>{oo=Kv(oo,Ia," ")}),Ze.textContent!==oo&&(y1(t.removed,{element:Ze.cloneNode()}),Ze.textContent=oo)),$1($t.afterSanitizeElements,Ze,null),!1)},bV=function(Ze,oo,Xo){if(En&&(oo==="id"||oo==="name")&&(Xo in o||Xo in It))return!1;if(!(ts&&!mo[oo]&&ac(ms,oo))){if(!(wo&&ac(xs,oo))){if(!Ln[oo]||mo[oo]){if(!(xV(Ze)&&(St.tagNameCheck instanceof RegExp&&ac(St.tagNameCheck,Ze)||St.tagNameCheck instanceof Function&&St.tagNameCheck(Ze))&&(St.attributeNameCheck instanceof RegExp&&ac(St.attributeNameCheck,oo)||St.attributeNameCheck instanceof Function&&St.attributeNameCheck(oo))||oo==="is"&&St.allowCustomizedBuiltInElements&&(St.tagNameCheck instanceof RegExp&&ac(St.tagNameCheck,Xo)||St.tagNameCheck instanceof Function&&St.tagNameCheck(Xo))))return!1}else if(!zf[oo]){if(!ac(Pt,Kv(Xo,Sr,""))){if(!((oo==="src"||oo==="xlink:href"||oo==="href")&&Ze!=="script"&&EB(Xo,"data:")===0&&_g[Ze])){if(!(ps&&!ac(va,Kv(Xo,Sr,"")))){if(Xo)return!1}}}}}}return!0},xV=function(Ze){return Ze!=="annotation-xml"&&sD(Ze,al)},vV=function(Ze){$1($t.beforeSanitizeAttributes,Ze,null);const{attributes:oo}=Ze;if(!oo||BL(Ze))return;const Xo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ln,forceKeepAttr:void 0};let Ia=oo.length;for(;Ia--;){const Zc=oo[Ia],{name:il,namespaceURI:Cu,value:U1}=Zc,GE=Ie(il),IL=U1;let jc=il==="value"?IL:AB(IL);if(Xo.attrName=GE,Xo.attrValue=jc,Xo.keepAttr=!0,Xo.forceKeepAttr=void 0,$1($t.uponSanitizeAttribute,Ze,Xo),jc=Xo.attrValue,Er&&(GE==="id"||GE==="name")&&(MC(il,Ze),jc=Ba+jc),dm&&ac(/((--!?|])>)|<\/(style|title)/i,jc)){MC(il,Ze);continue}if(Xo.forceKeepAttr)continue;if(!Xo.keepAttr){MC(il,Ze);continue}if(!Pd&&ac(/\/>/i,jc)){MC(il,Ze);continue}di&&m_([lo,To,nn],wV=>{jc=Kv(jc,wV," ")});const yV=Ie(Ze.nodeName);if(!bV(yV,GE,jc)){MC(il,Ze);continue}if(Fe&&typeof F=="object"&&typeof F.getAttributeType=="function"&&!Cu)switch(F.getAttributeType(yV,GE)){case"TrustedHTML":{jc=Fe.createHTML(jc);break}case"TrustedScriptURL":{jc=Fe.createScriptURL(jc);break}}if(jc!==IL)try{Cu?Ze.setAttributeNS(Cu,il,jc):Ze.setAttribute(il,jc),BL(Ze)?kg(Ze):nD(t.removed)}catch{MC(il,Ze)}}$1($t.afterSanitizeAttributes,Ze,null)},lJ=function bn(Ze){let oo=null;const Xo=fV(Ze);for($1($t.beforeSanitizeShadowDOM,Ze,null);oo=Xo.nextNode();)$1($t.uponSanitizeShadowNode,oo,null),hV(oo),vV(oo),oo.content instanceof c&&bn(oo.content);$1($t.afterSanitizeShadowDOM,Ze,null)};return t.sanitize=function(bn){let Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oo=null,Xo=null,Ia=null,Zc=null;if(jE=!bn,jE&&(bn="<!-->"),typeof bn!="string"&&!pV(bn))if(typeof bn.toString=="function"){if(bn=bn.toString(),typeof bn!="string")throw Yv("dirty is not a string, aborting")}else throw Yv("toString is not a function");if(!t.isSupported)return bn;if(Dl||ho(Ze),t.removed=[],typeof bn=="string"&&(ya=!1),ya){if(bn.nodeName){const U1=Ie(bn.nodeName);if(!to[U1]||Vt[U1])throw Yv("root node is forbidden and cannot be sanitized in-place")}}else if(bn instanceof f)oo=gV("<!---->"),Xo=oo.ownerDocument.importNode(bn,!0),Xo.nodeType===n2.element&&Xo.nodeName==="BODY"||Xo.nodeName==="HTML"?oo=Xo:oo.appendChild(Xo);else{if(!um&&!di&&!_u&&bn.indexOf("<")===-1)return Fe&&ao?Fe.createHTML(bn):bn;if(oo=gV(bn),!oo)return um?null:ao?rt:""}oo&&dc&&kg(oo.firstChild);const il=fV(ya?bn:oo);for(;Ia=il.nextNode();)hV(Ia),vV(Ia),Ia.content instanceof c&&lJ(Ia.content);if(ya)return bn;if(um){if(Zb)for(Zc=Xe.call(oo.ownerDocument);oo.firstChild;)Zc.appendChild(oo.firstChild);else Zc=oo;return(Ln.shadowroot||Ln.shadowrootmode)&&(Zc=at.call(s,Zc,!0)),Zc}let Cu=_u?oo.outerHTML:oo.innerHTML;return _u&&to["!doctype"]&&oo.ownerDocument&&oo.ownerDocument.doctype&&oo.ownerDocument.doctype.name&&ac(C1,oo.ownerDocument.doctype.name)&&(Cu="<!DOCTYPE "+oo.ownerDocument.doctype.name+`>
`+Cu),di&&m_([lo,To,nn],U1=>{Cu=Kv(Cu,U1," ")}),Fe&&ao?Fe.createHTML(Cu):Cu},t.setConfig=function(){let bn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ho(bn),Dl=!0},t.clearConfig=function(){ze=null,Dl=!1},t.isValidAttribute=function(bn,Ze,oo){ze||ho({});const Xo=Ie(bn),Ia=Ie(Ze);return bV(Xo,Ia,oo)},t.addHook=function(bn,Ze){typeof Ze=="function"&&y1($t[bn],Ze)},t.removeHook=function(bn,Ze){if(Ze!==void 0){const oo=kB($t[bn],Ze);return oo===-1?void 0:SB($t[bn],oo,1)[0]}return nD($t[bn])},t.removeHooks=function(bn){$t[bn]=[]},t.removeAllHooks=function(){$t=A3()},t}var D3=T3();const dD=it.each,O3=it.trim,R3=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],uD={ftp:21,http:80,https:443,mailto:25},vb=["img","video"],mD=(e,t)=>He(e)?!e:He(t)?!$o(vb,t):!0,gD=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},N3=(e,t,o)=>{const s=gD(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?mD(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class Md{static parseDataUri(t){let o;const s=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(s[0]);return a&&(o=a[1]),{type:o,data:s[1]}}static isDomSafe(t,o,s={}){if(s.allow_script_urls)return!0;{const a=pd.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!N3(s,a,o)}}static getDocumentBaseUrl(t){var o;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(o=t.href)!==null&&o!==void 0?o:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,o={}){this.path="",this.directory="",t=O3(t),this.settings=o;const s=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const f=s?s.path:new Md(document.location.href).directory;if(s?.protocol==="")t="//mce_host"+a.toAbsPath(f,t);else{const b=/([^#?]*)([#?]?.*)/.exec(t);b&&(t=(s&&s.protocol||"http")+"://mce_host"+a.toAbsPath(f,b[1])+b[2])}}t=t.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);d&&dD(R3,(f,b)=>{let w=d[b];w&&(w=w.replace(/\(mce_at\)/g,"@@")),a[f]=w}),s&&(a.protocol||(a.protocol=s.protocol),a.userInfo||(a.userInfo=s.userInfo),!a.port&&a.host==="mce_host"&&(a.port=s.port),(!a.host||a.host==="mce_host")&&(a.host=s.host),a.source=""),c&&(a.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new Md(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const s=this.getURI(),a=o.getURI();if(s===a||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===a)return s;let c=this.toRelPath(this.path,o.path);return o.query&&(c+="?"+o.query),o.anchor&&(c+="#"+o.anchor),c}toAbsolute(t,o){const s=new Md(t,{base_uri:this});return s.getURI(o&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?uD[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let s=0,a="",c,d;const f=t.substring(0,t.lastIndexOf("/")).split("/"),b=o.split("/");if(f.length>=b.length){for(c=0,d=f.length;c<d;c++)if(c>=b.length||f[c]!==b[c]){s=c+1;break}}if(f.length<b.length){for(c=0,d=b.length;c<d;c++)if(c>=f.length||f[c]!==b[c]){s=c+1;break}}if(s===1)return o;for(c=0,d=f.length-(s-1);c<d;c++)a+="../";for(c=s-1,d=b.length;c<d;c++)c!==s-1?a+="/"+b[c]:a+=b[c];return a}toAbsPath(t,o){let s=0;const a=/\/$/.test(o)?"/":"",c=t.split("/"),d=o.split("/"),f=[];dD(c,R=>{R&&f.push(R)});const b=[];for(let R=d.length-1;R>=0;R--)if(!(d[R].length===0||d[R]===".")){if(d[R]===".."){s++;continue}if(s>0){s--;continue}b.push(d[R])}const w=f.length-s;let T;return w<=0?T=ua(b).join("/"):T=f.slice(0,w).join("/")+"/"+ua(b).join("/"),T.indexOf("/")!==0&&(T="/"+T),a&&T.lastIndexOf("/")!==T.length-1&&(T+=a),T}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const fD=it.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),p_="data-mce-type";let M3=0;const B3=(e,t,o,s,a)=>{var c,d,f,b;const w=t.validate,T=o.getSpecialElements();e.nodeType===Pg&&(!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue),t.sanitize&&t.allow_html_in_comments&&Re(e.nodeValue)&&(e.nodeValue=G6(e.nodeValue)));const R=(d=a?.tagName)!==null&&d!==void 0?d:e.nodeName.toLowerCase();if(s!=="html"&&o.isValid(s)){He(a)&&(a.allowedTags[R]=!0);return}if(e.nodeType!==Gd||R==="body")return;const N=oe.fromDom(e),F=Cm(N,p_),ee=Js(N,"data-mce-bogus");if(!F&&Re(ee)){ee==="all"?ds(N):Mi(N);return}const X=o.getElementRule(R);if(w&&!X){vo(T,R)?ds(N):Mi(N);return}else He(a)&&(a.allowedTags[R]=!0);if(w&&X&&!F){if(je((f=X.attributesForced)!==null&&f!==void 0?f:[],K=>{Wr(N,K.name,K.value==="{$uid}"?`mce_${M3++}`:K.value)}),je((b=X.attributesDefault)!==null&&b!==void 0?b:[],K=>{Cm(N,K.name)||Wr(N,K.name,K.value==="{$uid}"?`mce_${M3++}`:K.value)}),X.attributesRequired&&!In(X.attributesRequired,K=>Cm(N,K))){Mi(N);return}if(X.removeEmptyAttrs&&Bu(N)){Mi(N);return}X.outputName&&X.outputName!==R&&Vg(N,X.outputName)}},pD=(e,t,o,s,a)=>{const c=e.tagName.toLowerCase(),{attrName:d,attrValue:f}=a;a.keepAttr=h_(t,o,s,c,d,f),a.keepAttr?(a.allowedAttributes[d]=!0,wb(d,o)&&(a.attrValue=d),t.allow_svg_data_urls&&Ls(f,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):yb(e,d)&&(a.forceKeepAttr=!0)},h_=(e,t,o,s,a,c)=>o!=="html"&&!$u(s)?!0:!(a in fD&&N3(e,c,s))&&(!e.validate||t.isValid(s,a)||Ls(a,"data-")||Ls(a,"aria-")),yb=(e,t)=>e.hasAttribute(p_)&&(t==="id"||t==="class"||t==="style"),wb=(e,t)=>e in t.getBoolAttrs(),I3=(e,t,o,s)=>{const{attributes:a}=e;for(let c=a.length-1;c>=0;c--){const d=a[c],f=d.name,b=d.value;!h_(t,o,s,e.tagName.toLowerCase(),f,b)&&!yb(e,f)?e.removeAttribute(f):wb(f,o)&&e.setAttribute(f,f)}},hD=(e,t,o)=>{const s=D3();return s.addHook("uponSanitizeElement",(a,c)=>{B3(a,e,t,o.track(a),c)}),s.addHook("uponSanitizeAttribute",(a,c)=>{pD(a,e,t,o.current(),c)}),s},bD=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},b_=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(s=>`xlink:${s}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};D3().sanitize(e,o)},NB=(e,t)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},s=D3(),a=t.allow_mathml_annotation_encodings,c=me(a)&&a.length>0,d=b=>{const w=b.getAttribute("encoding");return c&&Re(w)&&$o(a,w)},f=(b,w)=>c&&w==="semantics"?P.some(!0):w==="annotation"?P.some(jt(b)&&d(b)):me(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(w)?P.from(!0):P.none();s.addHook("uponSanitizeElement",(b,w)=>{var T;const R=(T=w.tagName)!==null&&T!==void 0?T:b.nodeName.toLowerCase();f(b,R).each(F=>{w.allowedTags[R]=F,!F&&t.sanitize&&jt(b)&&b.remove()})}),s.addHook("uponSanitizeAttribute",(b,w)=>{me(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(w.attrName)&&(w.forceKeepAttr=!0)}),s.sanitize(e,o)},MB=e=>t=>{const o=vx(t);if(o==="svg")b_(t);else if(o==="math")NB(t,e);else throw new Error("Not a namespace element")},S1=(e,t)=>{const o=wx();if(e.sanitize){const s=hD(e,t,o);return{sanitizeHtmlElement:(c,d)=>{s.sanitize(c,bD(e,d)),s.removed=[],o.reset()},sanitizeNamespaceElement:MB(e)}}else return{sanitizeHtmlElement:(c,d)=>{const f=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let b;for(;b=f.nextNode();){const w=o.track(b);B3(b,e,t,w),jt(b)&&I3(b,e,t,w)}o.reset()},sanitizeNamespaceElement:Ro}},x_=["script","style","template","param"],P3=it.makeMap,_b=it.extend,L3=(e,t,o,s,a)=>{const c=e.name,d=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",f=t.childNodes;for(let b=0,w=f.length;b<w;b++){const T=f[b],R=new li(T.nodeName.toLowerCase(),T.nodeType);if(jt(T)){const N=T.attributes;for(let F=0,ee=N.length;F<ee;F++){const X=N[F];R.attr(X.name,X.value)}$u(R.name)&&(s(T),R.value=T.innerHTML)}else mt(T)?(R.value=T.data,d&&(R.raw=!0)):gd(T)?R.value=a?rB(T.data):T.data:(bx(T)||kh(T))&&(R.value=T.data);if(Aa(T)){const N=li.create("#text");N.value=T.innerHTML,N.raw=!0,R.append(N)}else $u(R.name)||L3(R,T,o,s,a);e.append(R)}},F3=(e,t,o)=>{const s=[];for(let a=e,c=a;a;c=a,a=a.walk()){const d=a;je(t,f=>f(d)),Qo(d.parent)&&d!==e?a=c:s.push(d)}for(let a=s.length-1;a>=0;a--){const c=s[a];je(o,d=>d(c))}},xD=(e,t,o,s)=>{const a=o.validate,c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),f=_b(P3(x_),t.getBlockElements()),b=hd(t),w=/[ \t\r\n]+/g,T=/^[ \t\r\n]+/,R=/[ \t\r\n]+$/,N=xe=>{let Te=xe.parent;for(;He(Te);){if(Te.name in d)return!0;Te=Te.parent}return!1},F=xe=>{let Te=xe;for(;He(Te);){if(Te.name in b)return hb(t,c,d,Te);Te=Te.parent}return!1},ee=xe=>xe.name in f||Oh(t,xe)||$u(xe.name)&&xe.parent===e,X=(xe,Te)=>{const Fe=Te?xe.prev:xe.next;return He(Fe)||Qo(xe.parent)?!1:ee(xe.parent)&&(xe.parent!==e||s.isRootContent===!0)};return[xe=>{var Te;if(xe.type===3&&!N(xe)){let Fe=(Te=xe.value)!==null&&Te!==void 0?Te:"";Fe=Fe.replace(w," "),(Z6(xe.prev,ee)||X(xe,!0))&&(Fe=Fe.replace(T,"")),Fe.length===0||Fe===" "&&xe.prev&&xe.prev.type===Pg&&xe.next&&xe.next.type===Pg?xe.remove():xe.value=Fe}},xe=>{var Te;if(xe.type===1){const Fe=t.getElementRule(xe.name);if(a&&Fe){const rt=hb(t,c,d,xe);Fe.paddInEmptyBlock&&rt&&F(xe)?f3(o,s,ee,xe):Fe.removeEmpty&&rt?ee(xe)?xe.remove():xe.unwrap():Fe.paddEmpty&&(rt||eB(xe))&&f3(o,s,ee,xe)}}else if(xe.type===3&&!N(xe)){let Fe=(Te=xe.value)!==null&&Te!==void 0?Te:"";(xe.next&&ee(xe.next)||X(xe,!1))&&(Fe=Fe.replace(R,"")),Fe.length===0?xe.remove():xe.value=Fe}}]},vD=(e,t)=>{var o;const s=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return s===!1?"":s===!0?"p":s},z3=' xmlns="http://www.w3.org/1999/xhtml"',Hp=(e={},t=Kt())=>{const o=q6(),s=q6(),a={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},c=new DOMParser,d=S1(a,t),f=(Te,Fe,rt="html",Ot=!1)=>{const ht=rt==="xhtml",Xe=ht?"application/xhtml+xml":"text/html",Ke=vo(t.getSpecialElements(),Fe.toLowerCase()),at=Ke?`<${Fe}>${Te}</${Fe}>`:Te,$t=()=>/^[\s]*<head/i.test(Te)||/^[\s]*<html/i.test(Te)||/^[\s]*<!DOCTYPE/i.test(Te)?`<html${ht?z3:""}>${at}</html>`:ht?`<html${z3}><head></head><body>${at}</body></html>`:`<body>${at}</body>`,lo=c.parseFromString($t(),Xe),To=Ot?lo.documentElement:lo.body;return d.sanitizeHtmlElement(To,Xe),Ke?To.firstChild:To},b=o.addFilter,w=o.getFilters,T=o.removeFilter,R=s.addFilter,N=s.getFilters,F=s.removeFilter,ee=(Te,Fe)=>{b3(t,Te)&&Fe.push(Te)},X=(Te,Fe)=>{const rt=Re(Fe.attr(p_)),Ot=Fe.type===1&&!vo(Te,Fe.name)&&!Oh(t,Fe)&&!$u(Fe.name);return Fe.type===3||Ot&&!rt},K=(Te,Fe)=>{const rt=_b(P3(x_),t.getBlockElements()),Ot=/^[ \t\r\n]+/,ht=/[ \t\r\n]+$/;let Xe=Te.firstChild,Ke=null;const at=$t=>{var lo,To;$t&&(Xe=$t.firstChild,Xe&&Xe.type===3&&(Xe.value=(lo=Xe.value)===null||lo===void 0?void 0:lo.replace(Ot,"")),Xe=$t.lastChild,Xe&&Xe.type===3&&(Xe.value=(To=Xe.value)===null||To===void 0?void 0:To.replace(ht,"")))};if(t.isValidChild(Te.name,Fe.toLowerCase())){for(;Xe;){const $t=Xe.next;X(rt,Xe)?(Ke||(Ke=new li(Fe,1),Ke.attr(a.forced_root_block_attrs),Te.insert(Ke,Xe)),Ke.append(Xe)):(at(Ke),Ke=null),Xe=$t}at(Ke)}},xe={schema:t,addAttributeFilter:R,getAttributeFilters:N,removeAttributeFilter:F,addNodeFilter:b,getNodeFilters:w,removeNodeFilter:T,parse:(Te,Fe={})=>{var rt,Ot;const ht=a.validate,Xe=((rt=Fe.context)!==null&&rt!==void 0?rt:a.root_name)==="#document",Ke=(Ot=Fe.context)!==null&&Ot!==void 0?Ot:Xe?"html":a.root_name,at=f(Te,Ke,Fe.format,Xe);Dh(t,at);const $t=new li(Ke,11);L3($t,at,t.getSpecialElements(),d.sanitizeNamespaceElement,a.sanitize&&a.allow_html_in_comments),at.innerHTML="";const[lo,To]=xD($t,t,a,Fe),nn=[],ms=ht?al=>ee(al,nn):Ro,xs={nodes:{},attributes:{}},va=al=>H6(w(),N(),al,xs);F3($t,[lo,va],[To,ms]),nn.reverse(),ht&&nn.length>0&&(Fe.context?Fe.invalid=!0:W6(nn,t,$t,va));const Sr=vD(a,Fe);return Sr&&($t.name==="body"||Fe.isRootContent)&&K($t,Sr),Fe.invalid||V6(xs,Fe),$t}};return yB(xe,a),dB(xe,a,t),xe},s2=e=>e instanceof li,BB=e=>s2(e)?Dp({validate:!1}).serialize(e):e,H3=(e,t,o)=>{const s=BB(e),a=t(s);if(a.isDefaultPrevented())return a;if(s2(e))if(a.content!==s){const c=Hp({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:e.name});return{...a,content:c}}else return{...a,content:e};else return a},r2=e=>({sanitize:xk(e),sandbox_iframes:av(e),sandbox_iframes_exclusions:yk(e)}),Ci=(e,t)=>{if(t.no_events)return $s.value(t);{const o=TR(e,t);return o.isDefaultPrevented()?$s.error(Hy(e,{content:"",...o}).content):$s.value(o)}},a2=(e,t,o)=>o.no_events?t:H3(t,a=>Hy(e,{...o,content:a}),r2(e)).content,Rf=(e,t)=>{if(t.no_events)return $s.value(t);{const o=H3(t.content,s=>AR(e,{...t,content:s}),r2(e));return o.isDefaultPrevented()?(wA(e,o),$s.error(void 0)):$s.value(o)}},v_=(e,t,o)=>{o.no_events||wA(e,{...o,content:t})},lc="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),E1=["content_css_cors"],yD="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),V3=[{name:"export",replacedWith:"Export to PDF"}],$3=(e,t)=>{const o=ft(t,s=>vo(e,s));return Jt(o)},U3=e=>{const t=$3(e,lc),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Jt(t)},Z3=e=>$3(e,E1),j3=(e,t)=>{const o=it.makeMap(e.plugins," "),a=ft(t,c=>vo(o,c));return Jt(a)},sm=e=>j3(e,yD),W3=e=>j3(e,V3.map(t=>t.name)),y_=(e,t)=>{const o=U3(e),s=sm(t),a=s.length>0,c=o.length>0,d=t.theme==="mobile";if(a||c||d){const f=`
- `,b=d?`

Themes:${f}mobile`:"",w=a?`

Plugins:${f}${s.join(f)}`:"",T=c?`

Options:${f}${o.join(f)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+b+w+T)}},q3=e=>Cn(V3,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),wD=(e,t)=>{const o=Z3(e),s=W3(t),a=s.length>0,c=o.length>0;if(a||c){const d=`
- `,f=a?`

Plugins:${d}${s.map(q3).join(d)}`:"",b=c?`

Options:${d}${o.join(d)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+f+b)}},_D=(e,t)=>{y_(e,t),wD(e,t)},CD={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},kD=e=>{console.warn(CD[e],new Error().stack)},SD=e=>e.dom.length===0?(ds(e),P.none()):P.some(e),ED=(e,t)=>e.filter(o=>Q0.isBookmarkNode(o.dom)).bind(t?ad:Fl),AD=(e,t,o,s,a)=>{const c=e.dom,d=t.dom,f=s?c.length:d.length;s?(I4(c,d,a,!1,!s),o.setStart(d,f)):(I4(d,c,a,!1,!s),o.setEnd(d,f))},G3=(e,t,o)=>{Yi(e).each(s=>{const a=e.dom;t&&g1(s,Ge(a,0),o)?Iv(a,0,o):!t&&ab(s,Ge(a,a.length),o)&&B4(a,a.length,o)})},w_=(e,t,o,s,a)=>{e.bind(c=>((s?B4:Iv)(c.dom,s?c.dom.length:0,a),t.filter(Ja).map(f=>AD(c,f,o,s,a)))).orThunk(()=>ED(t,s).or(t).filter(Ja).map(d=>G3(d,s,a)))},TD=(e,t,o)=>{const s=P.from(t.firstChild).map(oe.fromDom),a=P.from(t.lastChild).map(oe.fromDom);e.deleteContents(),e.insertNode(t);const c=s.bind(Fl).filter(Ja).bind(SD),d=a.bind(ad).filter(Ja).bind(SD);w_(c,s,e,!0,o),w_(d,a,e,!1,o),e.collapse(!1)},K3=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),DD=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),s=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),a=s?{context:s.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return Dp({validate:!1},e.schema).serialize(c)}else return t.content},i2=(e,t,o={})=>{const s=K3(o,t);Rf(e,s).each(a=>{const c=DD(e,a),d=e.selection.getRng();TD(d,d.createContextualFragment(c),e.schema),e.selection.setRng(d),Ev(e,d),v_(e,c,a)})},Y3=(e,t,o={})=>{kD("selectionSetContent"),i2(e,t,o)},OD=e=>He(e.firstChild)&&e.firstChild===e.lastChild,RD=e=>e.name==="br"||e.value===Fs,ND=(e,t)=>e.getBlockElements()[t.name]&&OD(t)&&RD(t.firstChild),__=(e,t)=>{const o=e.getNonEmptyElements();return He(t)&&(t.isEmpty(o)||ND(e,t))},IB=(e,t)=>{let o=t.firstChild,s=t.lastChild;return o&&o.name==="meta"&&(o=o.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),__(e,s)&&(s=s?.prev),!o||o!==s?!1:o.name==="ul"||o.name==="ol"},l2=e=>{var t,o;const s=e.firstChild,a=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),a&&a.id==="mce_marker"&&((o=a.parentNode)===null||o===void 0||o.removeChild(a)),e},MD=(e,t,o)=>{const s=t.serialize(o),a=e.createFragment(s);return l2(a)},BD=e=>{var t;return ft((t=e?.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},PB=e=>e.data===Fs||Ns(e),LB=e=>He(e?.firstChild)&&e.firstChild===e.lastChild&&PB(e.firstChild),ID=e=>!e.firstChild||LB(e),FB=e=>e.length>0&&ID(e[e.length-1])?e.slice(0,-1):e,C_=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},PD=(e,t)=>!!C_(e,t),zB=(e,t)=>{const o=t.cloneRange(),s=t.cloneRange();return o.setStartBefore(e),s.setEndAfter(e),[o.cloneContents(),s.cloneContents()]},HB=(e,t)=>{const o=Ge.before(e),a=Xu(t).next(o);return a?a.toRange():null},c2=(e,t)=>{const o=Ge.after(e),a=Xu(t).prev(o);return a?a.toRange():null},VB=(e,t,o,s)=>{const a=zB(e,s),c=e.parentNode;return c&&(c.insertBefore(a[0],e),it.each(t,d=>{c.insertBefore(d,e)}),c.insertBefore(a[1],e),c.removeChild(e)),c2(t[t.length-1],o)},$B=(e,t,o)=>{const s=e.parentNode;return s&&it.each(t,a=>{s.insertBefore(a,e)}),HB(e,o)},LD=(e,t,o,s)=>(s.insertAfter(t.reverse(),e),c2(t[0],o)),X3=(e,t,o,s)=>{const a=MD(t,e,s),c=C_(t,o.startContainer),d=FB(BD(a.firstChild)),f=1,b=2,w=t.getRoot(),T=R=>{const N=Ge.fromRangeStart(o),F=Xu(t.getRoot()),ee=R===f?F.prev(N):F.next(N),X=ee?.getNode();return X?C_(t,X)!==c:!0};return c?T(f)?$B(c,d,w):T(b)?LD(c,d,w,t):VB(c,d,w,o):null},UB=["pre"],ZB=(e,t,o,s)=>{var a;const c=t.firstChild,d=t.lastChild,f=d.attr("data-mce-type")==="bookmark"?d.prev:d,b=c===f,w=$o(UB,c.name);if(b&&w){const T=c.attr("contenteditable")!=="false",R=((a=e.getParent(o,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===c.name,N=P.from(Ip(s,o)).forall(xi);return T&&R&&N}else return!1},Q3=Kg,d2=(e,t,o)=>{if(He(o)){const s=e.getParent(t.endContainer,Q3);return o===s&&xf(oe.fromDom(o),t)}else return!1},jB=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const o=t.childNodes;return o.length===1&&Ns(o[0])||o.length===0}else return!1},FD=(e,t,o)=>{var s;o.getAttribute("data-mce-bogus")==="all"?(s=o.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),o):jB(e.dom,o)?e.dom.setHTML(o,t):i2(e,t,{no_events:!0})},Vp=(e,t,o)=>{P.from(e.getParent(t,"td,th")).map(oe.fromDom).each(s=>Oy(s,o))},Al=(e,t)=>{const o=e.schema.getTextInlineElements(),s=e.dom;if(t){const a=e.getBody(),c=ub(e),d="*[data-mce-fragment]",f=s.select(d);it.each(f,b=>{const w=N=>He(o[N.nodeName.toLowerCase()]),T=N=>N.childNodes.length===1;if((N=>!(TT(s,N)||iM(s,N)))(b)&&w(b)&&T(b)){const N=c1(s,b),F=(ve,xe)=>Pa(ve,Te=>$o(xe,Te)),ee=ve=>T(b)&&s.is(ve,d)&&w(ve)&&(ve.nodeName===b.nodeName&&F(N,c1(s,ve))||ee(ve.children[0])),X=ve=>He(ve)&&ve!==a&&(c.compare(b,ve)||X(ve.parentElement)),K=ve=>He(ve)&&ve!==a&&s.is(ve,d)&&(Ov(s,b,ve)||K(ve.parentElement));(ee(b.children[0])||X(b.parentElement)&&!K(b.parentElement))&&s.remove(b,!0)}}),F6(e,fl(f))}},zD=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},u2=e=>{it.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},$p=e=>!!e.getAttribute("data-mce-fragment"),pg=(e,t)=>He(t)&&!e.schema.getVoidElements()[t.nodeName],m2=(e,t)=>{var o,s,a;let c;const d=e.dom,f=e.selection;if(!t)return;f.scrollIntoView(t);const b=Ip(e.getBody(),t);if(b&&d.getContentEditable(b)==="false"){d.remove(t),f.select(b);return}let w=d.createRng();const T=t.previousSibling;if(mt(T)){w.setStart(T,(s=(o=T.nodeValue)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0);const F=t.nextSibling;mt(F)&&(T.appendData(F.data),(a=F.parentNode)===null||a===void 0||a.removeChild(F))}else w.setStartBefore(t),w.setEndBefore(t);const R=F=>{let ee=Ge.fromRangeStart(F);return ee=Xu(e.getBody()).next(ee),ee?.toRange()},N=d.getParent(t,d.isBlock);if(d.remove(t),N&&d.isEmpty(N)){const F=Q3(N);Iu(oe.fromDom(N)),w.setStart(N,0),w.setEnd(N,0),!F&&!$p(N)&&(c=R(w))?(w=c,d.remove(N)):d.add(N,d.create("br",F?{}:{"data-mce-bogus":"1"}))}f.setRng(w)},J3=e=>{const t=e.dom,o=bb(e.selection.getRng());e.selection.setRng(o);const s=t.getParent(o.startContainer,Q3);d2(t,o,s)?Hv(e,o,oe.fromDom(s)):ON(o)||DN(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},eS=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return P.some(t);return P.none()},HD=(e,t,o)=>{var s;return In(o.children(),z6)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},VD=(e,t,o)=>{var s;const a=e.selection,c=e.dom,d=e.parser,f=o.merge,b=Dp({validate:!0},e.schema),w='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=Ui(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,w);let T=a.getRng();const R=T.startContainer,N=e.getBody();R===N&&a.isCollapsed()&&c.isBlock(N.firstChild)&&pg(e,N.firstChild)&&c.isEmpty(N.firstChild)&&(T=c.createRng(),T.setStart(N.firstChild,0),T.setEnd(N.firstChild,0),a.setRng(T)),a.isCollapsed()||J3(e);const F=a.getNode(),ee={context:F.nodeName.toLowerCase(),data:o.data,insert:!0},X=d.parse(t,ee);if(o.paste===!0&&IB(e.schema,X)&&PD(c,F))return T=X3(b,c,a.getRng(),X),T&&a.setRng(T),t;o.paste===!0&&ZB(c,X,F,e.getBody())&&((s=X.firstChild)===null||s===void 0||s.unwrap()),zD(X);let K=X.lastChild;if(K&&K.attr("id")==="mce_marker"){const ve=K;for(K=K.prev;K&&K.name!=="table";K=K.walk(!0))if(K.type===3||!c.isBlock(K.name)){K.parent&&e.schema.isValidChild(K.parent.name,"span")&&K.parent.insert(ve,K,K.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(F),!ee.invalid&&!HD(c,F,X))t=b.serialize(X),FD(e,t,F);else{i2(e,w);let ve=a.getNode(),xe;const Te=e.getBody();for(qg(ve)?ve=xe=Te:xe=ve;xe&&xe!==Te;)ve=xe,xe=xe.parentNode;t=ve===Te?Te.innerHTML:c.getOuterHTML(ve);const Fe=d.parse(t),rt=eS(Fe),Ot=rt.bind(tB).getOr(Fe);rt.each(Ke=>Ke.replace(X));const ht=j6(X);X.unwrap();const Xe=ft(ht,Ke=>b3(e.schema,Ke));W6(Xe,e.schema,Ot),$6(d.getNodeFilters(),d.getAttributeFilters(),Fe),t=b.serialize(Fe),ve===Te?c.setHTML(Te,t):c.setOuterHTML(ve,t)}return Al(e,f),m2(e,c.get("mce_marker")),u2(e.getBody()),Vp(c,a.getStart(),e.schema),C0(e.schema,e.getBody(),a.getStart()),t},WB=e=>{Lc(e)&&un(e.getBody()).each(t=>{const o=t.getNode(),s=Ac(o)?un(o).getOr(t):t;e.selection.setRng(s.toRange())})},k_=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&WB(e)},$D=(e,t,o,s)=>{if(o=Ui(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+a+"</li>");const c=Za(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(o=a,o=e.dom.createHTML(c,F0(e),o)):o||(o=a),k_(e,o,s.no_selection),{content:o,html:o}}else{s.format!=="raw"&&(o=Dp({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const a=gp(oe.fromDom(t))?o:it.trim(o);return k_(e,a,s.no_selection),{content:a,html:a}}},UD=(e,t,o,s)=>{$6(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const a=Dp({validate:!1},e.schema).serialize(o),c=Ui(gp(oe.fromDom(t))?a:it.trim(a));return k_(e,c,s.no_selection),{content:o,html:c}},Up=(e,t,o)=>P.from(e.getBody()).map(s=>s2(t)?UD(e,s,t,o):$D(e,s,t,o)).getOr({content:t,html:s2(o.content)?"":o.content}),A1={},ZD=bl(["pre"]),qB=(e,t)=>{A1[e]||(A1[e]=[]),A1[e].push(t)},T1=(e,t)=>{vo(A1,e)&&je(A1[e],o=>{o(t)})};qB("pre",e=>{const t=e.selection.getRng(),o=a=>c=>{const d=c.previousSibling;return ZD(d)&&$o(a,d)},s=(a,c)=>{const d=oe.fromDom(c),f=hc(d).dom;ds(d),Ws(oe.fromDom(a),[oe.fromTag("br",f),oe.fromTag("br",f),...on(d)])};if(!t.collapsed){const a=e.selection.getSelectedBlocks(),c=ft(ft(a,ZD),o(a));je(c,d=>{s(d.previousSibling,d)})}});const tS=it.each,S_=(e,t,o,s)=>{const a=c=>{if(Io(c)&&jt(c.parentNode)&&e.isEditable(c)){const d=Zk(e,c.parentNode);e.getStyle(c,"color")&&d?e.setStyle(c,"text-decoration",d):e.getStyle(c,"text-decoration")===d&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(it.walk(s,a,"childNodes"),a(s))},oS=(e,t,o,s)=>{if(t.styles&&t.styles.backgroundColor){const a=A6(e,"fontSize");l3(s,c=>a(c)&&e.isEditable(c),T6(e,"backgroundColor",yf(t.styles.backgroundColor,o)))}},jD=(e,t,o,s)=>{if(xa(t)&&(t.inline==="sub"||t.inline==="sup")){const a=A6(e,"fontSize");l3(s,d=>a(d)&&e.isEditable(d),T6(e,"fontSize",""));const c=ft(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(c,!0)}},WD=(e,t,o,s)=>{tS(t,a=>{xa(a)&&tS(e.dom.select(a.inline,s),c=>{i3(c)&&qv(e,a,o,c,a.exact?c:null)}),MM(e.dom,a,s)})},qD=(e,t,o,s,a)=>{const c=a.parentNode;Ga(e,c,o,s)&&qv(e,t,s,a)||t.merge_with_parents&&c&&e.dom.getParent(c,d=>Ga(e,d,o,s)?(qv(e,t,s,a),!0):!1)},GD=it.each,KD=(e,t,o,s)=>{if(UR(e)&&xa(t)&&o.parentNode){const a=hd(e.schema),c=i0(oe.fromDom(o),d=>Pc(d.dom));return Ae(a,s)&&Vu(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},nS=(e,t,o,s)=>{const a=e.formatter.get(t),c=a[0],d=!s&&e.selection.isCollapsed(),f=e.dom,b=e.selection,w=(F,ee)=>{let X=!1;return GD(F,K=>oc(K)?f.getContentEditable(ee)==="false"&&!K.ceFalseOverride||He(K.collapsed)&&K.collapsed!==d?!0:f.is(ee,K.selector)&&!Pc(ee)?(gg(e,ee,K,o,ee),X=!0,!1):!0:!1),X},T=F=>{if(Re(F)){const ee=f.create(F);return gg(e,ee,c,o,s),ee}else return null},R=(F,ee,X)=>{const K=[];let ve=!0;const xe=c.inline||c.block,Te=T(xe),Fe=ht=>jk(c)&&Ga(e,ht,t,o),rt=(ht,Xe,Ke)=>{const at=MN(c)&&zk(e.schema,ht)&&X0(e,Xe,xe);return Ke&&at},Ot=(ht,Xe,Ke,at)=>{const $t=ht.nodeName.toLowerCase(),lo=X0(e,xe,$t)&&X0(e,Xe,xe),To=!X&&mt(ht)&&Gu(ht.data),nn=Pc(ht),ms=!xa(c)||!F.isBlock(ht);return(Ke||at)&&lo&&!To&&!nn&&ms};o1(F,ee,ht=>{let Xe;const Ke=at=>{let $t=!1,lo=ve,To=!1;const nn=at.parentNode,ms=nn.nodeName.toLowerCase(),xs=F.getContentEditable(at);He(xs)&&(lo=ve,ve=xs==="true",$t=!0,To=Vk(e,at));const va=ve&&!$t;if(Ns(at)&&!KD(e,c,at,ms)){Xe=null,sg(c)&&F.remove(at);return}if(Fe(at)){Xe=null;return}if(rt(at,ms,va)){const Sr=F.rename(at,xe);gg(e,Sr,c,o,at),K.push(Sr),Xe=null;return}if(oc(c)){let Sr=w(a,at);if(!Sr&&He(nn)&&Wk(c)&&(Sr=w(a,nn)),!xa(c)||Sr){Xe=null;return}}He(Te)&&Ot(at,ms,va,To)?(Xe||(Xe=F.clone(Te,!1),nn.insertBefore(Xe,at),K.push(Xe)),To&&$t&&(ve=lo),Xe.appendChild(at)):(Xe=null,je(Nt(at.childNodes),Ke),$t&&(ve=lo),Xe=null)};je(ht,Ke)}),c.links===!0&&je(K,ht=>{const Xe=Ke=>{Ke.nodeName==="A"&&gg(e,Ke,c,o,s),je(Nt(Ke.childNodes),Xe)};Xe(ht)}),YM(e,t,fl(K)),je(K,ht=>{const Xe=$t=>{let lo=0;return je($t.childNodes,To=>{!T5(To)&&!Ad(To)&&lo++}),lo},Ke=$t=>Cn($t.childNodes,Lk).filter(To=>F.getContentEditable(To)!=="false"&&mb(F,To,c)).map(To=>{const nn=F.clone(To,!1);return gg(e,nn,c,o,$t),F.replace(nn,$t,!0),F.remove(To,!0),nn}).getOr($t),at=Xe(ht);if((K.length>1||!F.isBlock(ht))&&at===0){F.remove(ht,!0);return}(xa(c)||sg(c)&&c.wrapper)&&(!c.exact&&at===1&&(ht=Ke(ht)),WD(e,a,o,ht),qD(e,c,t,o,ht),oS(F,c,o,ht),S_(F,c,o,ht),jD(F,c,o,ht),E6(e,c,o,ht))})},N=bv(s)?s:b.getNode();if(f.getContentEditable(N)==="false"&&!Vk(e,N)){s=N,w(a,s),zy(e,t,s,o);return}if(c){if(s)if(bv(s)){if(!w(a,s)){const F=f.createRng();F.setStartBefore(s),F.setEndAfter(s),R(f,rg(f,F,a),!0)}}else R(f,s,!0);else!d||!xa(c)||K0(e).length?(b.setRng(bb(b.getRng())),fw(e,()=>{mw(e,(F,ee)=>{const X=ee?F:rg(f,F,a);R(f,X,!1)})},Uo),e.nodeChanged()):pb(e,t,o),w6(e.formatter,t).each(F=>{je(NM(e.selection),ee=>o3(f,ee,F,o))});T1(t,e)}zy(e,t,s,o)},YD=(e,t,o,s)=>{(s||e.selection.isEditable())&&nS(e,t,o,s)},XD=e=>vo(e,"vars"),GB=(e,t)=>{e.set({}),t.on("NodeChange",o=>{hg(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const s=P.from(o.node).map(a=>bv(a)?a:a.startContainer).bind(a=>jt(a)?P.some(a):P.from(a.parentElement)).getOrThunk(()=>QD(t));hg(t,s,e.get())})},QD=e=>e.selection.getStart(),JD=(e,t,o,s,a)=>Wc(t,f=>{const b=e.formatter.matchNode(f,o,a??{},s);return!Os(b)},f=>Jw(e,f,o)?!0:s?!1:He(e.formatter.matchNode(f,o,a,!0))),sS=(e,t)=>{const o=t??QD(e);return ft(pw(e.dom,o),s=>jt(s)&&!Lm(s))},hg=(e,t,o)=>{const s=sS(e,t);Jo(o,(a,c)=>{const d=f=>{const b=JD(e,s,c,f.similar,XD(f)?f.vars:void 0),w=b.isSome();if(f.state.get()!==w){f.state.set(w);const T=b.getOr(t);XD(f)?f.callback(w,{node:T,format:c,parents:s}):je(f.callbacks,R=>R(w,{node:T,format:c,parents:s}))}};je([a.withSimilar,a.withoutSimilar],d),je(a.withVars,d)})},rS=(e,t,o,s,a,c)=>{const d=t.get();je(o.split(","),f=>{const b=An(d,f).getOrThunk(()=>{const T={withSimilar:{state:$n(!1),similar:!0,callbacks:[]},withoutSimilar:{state:$n(!1),similar:!1,callbacks:[]},withVars:[]};return d[f]=T,T}),w=()=>{const T=sS(e);return JD(e,T,f,a,c).isSome()};if(Os(c)){const T=a?b.withSimilar:b.withoutSimilar;T.callbacks.push(s),T.callbacks.length===1&&T.state.set(w())}else b.withVars.push({state:$n(w()),similar:a,vars:c,callback:s})}),t.set(d)},KB=(e,t,o)=>{const s=e.get();je(t.split(","),a=>An(s,a).each(c=>{s[a]={withSimilar:{...c.withSimilar,callbacks:ft(c.withSimilar.callbacks,d=>d!==o)},withoutSimilar:{...c.withoutSimilar,callbacks:ft(c.withoutSimilar.callbacks,d=>d!==o)},withVars:ft(c.withVars,d=>d.callback!==o)}})),e.set(s)},aS=(e,t,o,s,a,c)=>(rS(e,t,o,s,a,c),{unbind:()=>KB(t,o,s)}),iS=(e,t,o,s)=>{const a=e.formatter.get(t);a&&(e_(e,t,o,s)&&(!("toggle"in a[0])||a[0].toggle)?I6(e,t,o,s):YD(e,t,o,s))},E_=(e,t,o)=>({element:e,width:t,rows:o}),lS=(e,t)=>({element:e,cells:t}),eO=(e,t)=>({x:e,y:t}),tO=(e,t)=>vc(e,t).bind(Du).getOr(1),g2=(e,t,o,s,a)=>{const c=tO(a,"rowspan"),d=tO(a,"colspan"),f=e.rows;for(let b=o;b<o+c;b++){f[b]||(f[b]=lS(Bi(s),[]));for(let w=t;w<t+d;w++){const T=f[b].cells;T[w]=b===o&&w===t?a:ld(a)}}},A_=(e,t,o)=>{const s=e.rows;return!!(s[o]?s[o].cells:[])[t]},oO=(e,t,o)=>{for(;A_(e,t,o);)t++;return t},cS=e=>zo(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),dS=(e,t)=>{const o=e.rows;for(let s=0;s<o.length;s++){const a=o[s].cells;for(let c=0;c<a.length;c++)if(tn(a[c],t))return P.some(eO(c,s))}return P.none()},uS=(e,t,o,s,a)=>{const c=[],d=e.rows;for(let f=o;f<=a;f++){const b=d[f].cells,w=t<s?b.slice(t,s+1):b.slice(s,t+1);c.push(lS(d[f].element,w))}return c},T_=(e,t,o)=>{const s=t.x,a=t.y,c=o.x,d=o.y,f=a<d?uS(e,s,a,c,d):uS(e,s,d,c,a);return E_(e.element,cS(f),f)},mS=(e,t)=>{const o=ld(e.element),s=oe.fromTag("tbody");return Ws(s,t),dn(o,s),o},f2=e=>Mo(e.rows,t=>{const o=Mo(t.cells,a=>{const c=Bi(a);return Mr(c,"colspan"),Mr(c,"rowspan"),c}),s=ld(t.element);return Ws(s,o),s}),YB=e=>{const t=E_(ld(e),0,[]);return je(qr(e,"tr"),(o,s)=>{je(qr(o,"td,th"),(a,c)=>{g2(t,oO(t,c,s),s,o,a)})}),E_(t.element,cS(t.rows),t.rows)},nO=e=>mS(e,f2(e)),XB=(e,t,o)=>dS(e,t).bind(s=>dS(e,o).map(a=>T_(e,s,a))),QB=e=>Cn(e,t=>Ho(t)==="ul"||Ho(t)==="ol"),sO=(e,t)=>Cn(e,o=>Ho(o)==="li"&&xf(o,t)).fold(ut([]),o=>QB(e).map(s=>{const a=oe.fromTag(Ho(s)),c=Dr(Tm(s),(d,f)=>Ls(f,"list-style"));return Qf(a,c),[oe.fromTag("li"),a]}).getOr([])),rO=(e,t)=>{const o=zo(t,(s,a)=>(dn(a,s),a),e);return t.length>0?yr([o]):o},JB=e=>du(e)?Yi(e).filter(cu).fold(ut([]),t=>[e,t]):cu(e)?[e]:[],gS=(e,t,o)=>{const s=oe.fromDom(t.commonAncestorContainer),a=dg(s,e),c=ft(a,b=>o.isWrapper(Ho(b))),d=sO(a,t),f=c.concat(d.length?d:JB(s));return Mo(f,ld)},Nf=()=>yr([]),aO=(e,t,o)=>rO(oe.fromDom(t.cloneContents()),gS(e,t,o)),fS=(e,t)=>qs(t,"table",Ve(tn,e)),iO=(e,t)=>fS(e,t[0]).bind(o=>{const s=t[0],a=t[t.length-1],c=YB(o);return XB(c,s,a).map(d=>yr([nO(d)]))}).getOrThunk(Nf),pS=(e,t,o)=>t.length>0&&t[0].collapsed?Nf():aO(e,t[0],o),Zp=(e,t,o)=>{const s=ja(t,e);return s.length>0?iO(e,s):pS(e,t,o)},p2=(e,t)=>t>=0&&t<e.length&&Ep(e.charAt(t)),zc=e=>Ui(e.innerText),D1=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),lO=e=>P.from(e.selection.getRng()).map(t=>{var o;const s=P.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),c=D1(s),d=oe.fromDom(t.cloneContents());wT(d),_T(d);const f=e.dom.add(a,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},d.dom),b=zc(f),w=Ui((o=f.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(f),p2(w,0)||p2(w,w.length-1)){const T=s.getOr(a),R=zc(T),N=R.indexOf(b);if(N===-1)return b;{const F=p2(R,N-1),ee=p2(R,N+b.length);return(F?" ":"")+b+(ee?" ":"")}}else return b}).getOr(""),hS=(e,t)=>{const o=e.selection.getRng(),s=e.dom.create("body"),a=e.selection.getSel(),c=Wa(e,cw(a)),d=t.contextual?Zp(oe.fromDom(e.getBody()),c,e.schema).dom:o.cloneContents();return d&&s.appendChild(d),e.selection.serializer.serialize(s,t)},cO=(e,t)=>{if(t.format==="text")return lO(e);{const o=hS(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},eI=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),dO=(e,t,o={})=>{const s=eI(o,t);return Ci(e,s).fold(_n,a=>{const c=cO(e,a);return a2(e,c,a)})},jp=0,h2=1,bS=2,uO=(e,t)=>{const o=e.length+t.length+2,s=new Array(o),a=new Array(o),c=(T,R,N)=>({start:T,end:R,diag:N}),d=(T,R,N,F,ee)=>{const X=b(T,R,N,F);if(X===null||X.start===R&&X.diag===R-F||X.end===T&&X.diag===T-N){let K=T,ve=N;for(;K<R||ve<F;)K<R&&ve<F&&e[K]===t[ve]?(ee.push([jp,e[K]]),++K,++ve):R-T>F-N?(ee.push([bS,e[K]]),++K):(ee.push([h2,t[ve]]),++ve)}else{d(T,X.start,N,X.start-X.diag,ee);for(let K=X.start;K<X.end;++K)ee.push([jp,e[K]]);d(X.end,R,X.end-X.diag,F,ee)}},f=(T,R,N,F)=>{let ee=T;for(;ee-R<F&&ee<N&&e[ee]===t[ee-R];)++ee;return c(T,ee,R)},b=(T,R,N,F)=>{const ee=R-T,X=F-N;if(ee===0||X===0)return null;const K=ee-X,ve=X+ee,xe=(ve%2===0?ve:ve+1)/2;s[1+xe]=T,a[1+xe]=R+1;let Te,Fe,rt,Ot,ht;for(Te=0;Te<=xe;++Te){for(Fe=-Te;Fe<=Te;Fe+=2){for(rt=Fe+xe,Fe===-Te||Fe!==Te&&s[rt-1]<s[rt+1]?s[rt]=s[rt+1]:s[rt]=s[rt-1]+1,Ot=s[rt],ht=Ot-T+N-Fe;Ot<R&&ht<F&&e[Ot]===t[ht];)s[rt]=++Ot,++ht;if(K%2!==0&&K-Te<=Fe&&Fe<=K+Te&&a[rt-K]<=s[rt])return f(a[rt-K],Fe+T-N,R,F)}for(Fe=K-Te;Fe<=K+Te;Fe+=2){for(rt=Fe+xe-K,Fe===K-Te||Fe!==K+Te&&a[rt+1]<=a[rt-1]?a[rt]=a[rt+1]-1:a[rt]=a[rt-1],Ot=a[rt]-1,ht=Ot-T+N-Fe;Ot>=T&&ht>=N&&e[Ot]===t[ht];)a[rt]=Ot--,ht--;if(K%2===0&&-Te<=Fe&&Fe<=Te&&a[rt]<=s[rt+K])return f(a[rt],Fe+T-N,R,F)}}return null},w=[];return d(0,e.length,0,t.length,w),w},D_=e=>jt(e)?e.outerHTML:mt(e)?pd.encodeRaw(e.data,!1):gd(e)?"<!--"+e.data+"-->":"",mO=e=>{let t;const o=document.createElement("div"),s=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)s.appendChild(t);return s},O_=(e,t,o)=>{const s=mO(t);if(e.hasChildNodes()&&o<e.childNodes.length){const a=e.childNodes[o];e.insertBefore(s,a)}else e.appendChild(s)},gO=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},R_=(e,t)=>{let o=0;je(e,s=>{s[0]===jp?o++:s[0]===h2?(O_(t,s[1],o),o++):s[0]===bS&&gO(t,o)})},fO=(e,t)=>ft(Mo(Nt(e.childNodes),Hn(Ui,D_)),o=>o.length>0),pO=(e,t)=>{const o=Mo(Nt(t.childNodes),D_);return R_(uO(o,e),t),t},hO=gi(()=>document.implementation.createHTMLDocument("undo")),b2=e=>e.querySelector("iframe")!==null,tI=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),bO=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),x2=e=>{const t=e.serializer.getTempAttrs(),o=Ow(e.getBody(),t);return b2(o)?tI(fO(o)):bO(Ui(o.innerHTML))},N_=(e,t,o)=>{const s=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?pO(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:He(s)&&iw(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},v2=e=>e.type==="fragmented"?e.fragments.join(""):e.content,xS=e=>{const t=oe.fromTag("body",hO());return Sm(t,v2(e)),je(qr(t,"*[data-mce-bogus]"),Mi),Xf(t)},xO=(e,t)=>v2(e)===v2(t),oI=(e,t)=>xS(e)===xS(t),vS=(e,t)=>!e||!t?!1:xO(e,t)?!0:oI(e,t),yS=e=>e.get()===0,Cb=(e,t,o)=>{yS(o)&&(e.typing=t)},vO=(e,t)=>{e.typing&&(Cb(e,!1,t),e.add())},M_=e=>{e.typing&&(e.typing=!1,e.add())},nI=(e,t,o)=>{yS(t)&&o.set(YC(e.selection))},wS=(e,t,o,s,a,c,d)=>{const f=x2(e),b=it.extend(c||{},f);if(!yS(s)||e.removed)return null;const w=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:b,lastLevel:w,originalEvent:d}).isDefaultPrevented()||w&&vS(w,b))return null;t.data[o.get()]&&a.get().each(N=>{t.data[o.get()].beforeBookmark=N});const T=mk(e);if(T&&t.data.length>T){for(let N=0;N<t.data.length-1;N++)t.data[N]=t.data[N+1];t.data.length--,o.set(t.data.length)}b.bookmark=YC(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(b),o.set(t.data.length-1);const R={level:b,lastLevel:w,originalEvent:d};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",R),e.dispatch("change",R)):e.dispatch("AddUndo",R),b},yO=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},wO=(e,t,o,s,a)=>{if(t.transact(s)){const c=t.data[o.get()].bookmark,d=t.data[o.get()-1];N_(e,d,!0),t.transact(a)&&(t.data[o.get()-1].beforeBookmark=c)}},_O=(e,t,o)=>{let s;return t.get()<o.length-1&&(t.set(t.get()+1),s=o[t.get()],N_(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},B_=(e,t,o,s)=>{let a;return t.typing&&(t.add(),t.typing=!1,Cb(t,!1,o)),s.get()>0&&(s.set(s.get()-1),a=t.data[s.get()],N_(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},sI=e=>{e.clear(),e.add()},rI=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!vS(x2(e),t.data[0]),_S=(e,t)=>t.get()<e.data.length-1&&!e.typing,CO=(e,t,o)=>(vO(e,t),e.beforeChange(),e.ignore(o),e.add()),aI=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},iI=(e,t)=>{const o=e.dom,s=He(t)?t:e.getBody();je(o.select("table,a",s),a=>{switch(a.nodeName){case"TABLE":const c=XR(e),d=o.getAttrib(a,"border");(!d||d==="0")&&e.hasVisual?o.addClass(a,c):o.removeClass(a,c);break;case"A":if(!o.getAttrib(a,"href")){const f=o.getAttrib(a,"name")||a.id,b=LA(e);f&&e.hasVisual?o.addClass(a,b):o.removeClass(a,b)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},kO=e=>({init:{bindEvents:Ro},undoManager:{beforeChange:(t,o)=>nI(e,t,o),add:(t,o,s,a,c,d)=>wS(e,t,o,s,a,c,d),undo:(t,o,s)=>B_(e,t,o,s),redo:(t,o)=>_O(e,t,o),clear:(t,o)=>yO(e,t,o),reset:t=>sI(t),hasUndo:(t,o)=>rI(e,t,o),hasRedo:(t,o)=>_S(t,o),transact:(t,o,s)=>CO(t,o,s),ignore:(t,o)=>aI(t,o),extra:(t,o,s,a)=>wO(e,t,o,s,a)},formatter:{match:(t,o,s,a)=>e_(e,t,o,s,a),matchAll:(t,o)=>s3(e,t,o),matchNode:(t,o,s,a)=>Ga(e,t,o,s,a),canApply:t=>gb(e,t),closest:t=>SM(e,t),apply:(t,o,s)=>YD(e,t,o,s),remove:(t,o,s,a)=>I6(e,t,o,s,a),toggle:(t,o,s)=>iS(e,t,o,s),formatChanged:(t,o,s,a,c)=>aS(e,t,o,s,a,c)},editor:{getContent:t=>rM(e,t),setContent:(t,o)=>Up(e,t,o),insertContent:(t,o)=>VD(e,t,o),addVisual:t=>iI(e,t)},selection:{getContent:(t,o)=>dO(e,t,o)},autocompleter:{addDecoration:Ro,removeDecoration:Ro},raw:{getModel:()=>P.none()}}),lI=e=>{const t=w=>te(w)?w:{},{init:o,undoManager:s,formatter:a,editor:c,selection:d,autocompleter:f,raw:b}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(w,T,R)=>s.transact(R),ignore:(w,T)=>s.ignore(T),extra:(w,T,R,N)=>s.extra(R,N)},formatter:{match:(w,T,R,N)=>a.match(w,t(T),N),matchAll:a.matchAll,matchNode:a.matchNode,canApply:w=>a.canApply(w),closest:w=>a.closest(w),apply:(w,T,R)=>a.apply(w,t(T)),remove:(w,T,R,N)=>a.remove(w,t(T)),toggle:(w,T,R)=>a.toggle(w,t(T)),formatChanged:(w,T,R,N,F)=>a.formatChanged(T,R,N,F)},editor:{getContent:w=>c.getContent(w),setContent:(w,T)=>({content:c.setContent(w,T),html:""}),insertContent:(w,T)=>(c.insertContent(w),""),addVisual:c.addVisual},selection:{getContent:(w,T)=>d.getContent(T)},autocompleter:{addDecoration:f.addDecoration,removeDecoration:f.removeDecoration},raw:{getModel:()=>P.some(b.getRawModel())}}},CS=()=>{const e=ut(null),t=ut("");return{init:{bindEvents:Ro},undoManager:{beforeChange:Ro,add:e,undo:e,redo:e,clear:Ro,reset:Ro,hasUndo:_o,hasRedo:_o,transact:e,ignore:Ro,extra:Ro},formatter:{match:_o,matchAll:ut([]),matchNode:ut(void 0),canApply:_o,closest:t,apply:Ro,remove:Ro,toggle:Ro,formatChanged:ut({unbind:Ro})},editor:{getContent:t,setContent:ut({content:"",html:""}),insertContent:ut(""),addVisual:Ro},selection:{getContent:t},autocompleter:{addDecoration:Ro,removeDecoration:Ro},raw:{getModel:ut(P.none())}}},rm=e=>vo(e.plugins,"rtc"),aa=e=>An(e.plugins,"rtc").bind(t=>P.from(t.setup)),cI=e=>{const t=e;return aa(e).fold(()=>(t.rtcInstance=kO(e),P.none()),o=>(t.rtcInstance=CS(),P.some(()=>o().then(s=>(t.rtcInstance=lI(s),s.rtc.isRemote)))))},kS=e=>e.rtcInstance?e.rtcInstance:kO(e),ia=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},SS=(e,t,o)=>{ia(e).undoManager.beforeChange(t,o)},SO=(e,t,o,s,a,c,d)=>ia(e).undoManager.add(t,o,s,a,c,d),y2=(e,t,o,s)=>ia(e).undoManager.undo(t,o,s),dI=(e,t,o)=>ia(e).undoManager.redo(t,o),uI=(e,t,o)=>{ia(e).undoManager.clear(t,o)},mI=(e,t)=>{ia(e).undoManager.reset(t)},gI=(e,t,o)=>ia(e).undoManager.hasUndo(t,o),fI=(e,t,o)=>ia(e).undoManager.hasRedo(t,o),pI=(e,t,o,s)=>ia(e).undoManager.transact(t,o,s),hI=(e,t,o)=>{ia(e).undoManager.ignore(t,o)},bI=(e,t,o,s,a)=>{ia(e).undoManager.extra(t,o,s,a)},xI=(e,t,o,s,a)=>ia(e).formatter.match(t,o,s,a),vI=(e,t,o)=>ia(e).formatter.matchAll(t,o),yI=(e,t,o,s,a)=>ia(e).formatter.matchNode(t,o,s,a),EO=(e,t)=>ia(e).formatter.canApply(t),AO=(e,t)=>ia(e).formatter.closest(t),TO=(e,t,o,s)=>{ia(e).formatter.apply(t,o,s)},DO=(e,t,o,s,a)=>{ia(e).formatter.remove(t,o,s,a)},OO=(e,t,o,s)=>{ia(e).formatter.toggle(t,o,s)},RO=(e,t,o,s,a,c)=>ia(e).formatter.formatChanged(t,o,s,a,c),NO=(e,t)=>kS(e).editor.getContent(t),wI=(e,t,o)=>kS(e).editor.setContent(t,o),_I=(e,t,o)=>kS(e).editor.insertContent(t,o),MO=(e,t,o)=>ia(e).selection.getContent(t,o),CI=(e,t)=>ia(e).editor.addVisual(t),BO=e=>ia(e).init.bindEvents(),IO=(e,t={})=>{const o=t.format?t.format:"html";return MO(e,o,t)},ES=(e,t,o)=>{if(vo(e,t)){const s=ft(e[t],a=>a!==o);s.length===0?delete e[t]:e[t]=s}};var kI=(e,t)=>{let o,s;const a=(f,b)=>Cn(b,w=>e.is(w,f)),c=f=>e.getParents(f,void 0,e.getRoot()),d=()=>{o={},s={},t.on("NodeChange",f=>{const b=f.element,w=c(b),T={};Jo(o,(R,N)=>{a(N,w).each(F=>{s[N]||(je(R,ee=>{ee(!0,{node:F,selector:N,parents:w})}),s[N]=R),T[N]=R})}),Jo(s,(R,N)=>{T[N]||(delete s[N],je(R,F=>{F(!1,{node:b,selector:N,parents:w})}))})})};return{selectorChangedWithUnbind:(f,b)=>(o||d(),o[f]||(o[f]=[]),o[f].push(b),a(f,c(t.selection.getStart())).each(()=>{s[f]=o[f]}),{unbind:()=>{ES(o,f,b),ES(s,f,b)}})}};const AS=e=>!!(e&&e.ownerDocument)&&Nr(oe.fromDom(e.ownerDocument),oe.fromDom(e)),PO=e=>e?AS(e.startContainer)&&AS(e.endContainer):!1,LO=(e,t,o,s)=>{let a,c;const{selectorChangedWithUnbind:d}=kI(e,s),f=(Pt,to)=>{const Bn=e.createRng();He(Pt)&&He(to)?(Bn.setStart(Pt,to),Bn.setEnd(Pt,to),Fe(Bn),ve(!1)):(uw(e,Bn,s.getBody(),!0),Fe(Bn))},b=Pt=>IO(s,Pt),w=(Pt,to)=>Y3(s,Pt,to),T=Pt=>Od(s.getBody(),Te(),Pt),R=Pt=>g4(s.getBody(),Te(),Pt),N=(Pt,to)=>Sr.getBookmark(Pt,to),F=Pt=>Sr.moveToBookmark(Pt),ee=(Pt,to)=>(eM(e,Pt,to).each(Fe),Pt),X=()=>{const Pt=Te(),to=xe();return!Pt||Pt.item?!1:Pt.compareEndPoints?Pt.compareEndPoints("StartToEnd",Pt)===0:!to||Pt.collapsed},K=()=>{if(s.mode.isReadOnly())return!1;const Pt=Te(),to=s.getBody().querySelectorAll('[data-mce-selected="1"]');return to.length>0?Pa(to,Bn=>e.isEditable(Bn.parentElement)):cT(e,Pt)},ve=Pt=>{const to=Te();to.collapse(!!Pt),Fe(to)},xe=()=>t.getSelection?t.getSelection():t.document.selection,Te=()=>{let Pt;const to=(Ln,Yt,St)=>{try{return Yt.compareBoundaryPoints(Ln,St)}catch{return-1}},Bn=t.document;if(He(s.bookmark)&&!Lc(s)){const Ln=ag(s);if(Ln.isSome())return Ln.map(Yt=>Wa(s,[Yt])[0]).getOr(Bn.createRange())}try{const Ln=xe();Ln&&!Sc(Ln.anchorNode)&&(Ln.rangeCount>0?Pt=Ln.getRangeAt(0):Pt=Bn.createRange(),Pt=Wa(s,[Pt])[0])}catch{}if(Pt||(Pt=Bn.createRange()),qg(Pt.startContainer)&&Pt.collapsed){const Ln=e.getRoot();Pt.setStart(Ln,0),Pt.setEnd(Ln,0)}return a&&c&&(to(Pt.START_TO_START,Pt,a)===0&&to(Pt.END_TO_END,Pt,a)===0?Pt=c:(a=null,c=null)),Pt},Fe=(Pt,to)=>{if(!PO(Pt))return;const Bn=xe();if(Pt=s.dispatch("SetSelectionRange",{range:Pt,forward:to}).range,Bn){c=Pt;try{Bn.removeAllRanges(),Bn.addRange(Pt)}catch{}to===!1&&Bn.extend&&(Bn.collapse(Pt.endContainer,Pt.endOffset),Bn.extend(Pt.startContainer,Pt.startOffset)),a=Bn.rangeCount>0?Bn.getRangeAt(0):null}if(!Pt.collapsed&&Pt.startContainer===Pt.endContainer&&Bn?.setBaseAndExtent&&Pt.endOffset-Pt.startOffset<2&&Pt.startContainer.hasChildNodes()){const Yt=Pt.startContainer.childNodes[Pt.startOffset];Yt&&Yt.nodeName==="IMG"&&(Bn.setBaseAndExtent(Pt.startContainer,Pt.startOffset,Pt.endContainer,Pt.endOffset),(Bn.anchorNode!==Pt.startContainer||Bn.focusNode!==Pt.endContainer)&&Bn.setBaseAndExtent(Yt,0,Yt,1))}s.dispatch("AfterSetSelectionRange",{range:Pt,forward:to})},rt=Pt=>(i2(s,e.getOuterHTML(Pt)),Pt),Ot=()=>mT(s.getBody(),Te()),ht=(Pt,to)=>JN(e,Te(),Pt,to),Xe=()=>{const Pt=xe(),to=Pt?.anchorNode,Bn=Pt?.focusNode;if(!Pt||!to||!Bn||Sc(to)||Sc(Bn))return!0;const Ln=e.createRng(),Yt=e.createRng();try{Ln.setStart(to,Pt.anchorOffset),Ln.collapse(!0),Yt.setStart(Bn,Pt.focusOffset),Yt.collapse(!0)}catch{return!0}return Ln.compareBoundaryPoints(Ln.START_TO_START,Yt)<=0},va={dom:e,win:t,serializer:o,editor:s,expand:(Pt={type:"word"})=>Fe(lg(e).expand(Te(),Pt)),collapse:ve,setCursorLocation:f,getContent:b,setContent:w,getBookmark:N,moveToBookmark:F,select:ee,isCollapsed:X,isEditable:K,isForward:Xe,setNode:rt,getNode:Ot,getSel:xe,setRng:Fe,getRng:Te,getStart:T,getEnd:R,getSelectedBlocks:ht,normalize:()=>{const Pt=Te(),to=xe();if(!Bk(to)&&hv(s)){const Bn=ob(e,Pt);return Bn.each(Ln=>{Fe(Ln,Xe())}),Bn.getOr(Pt)}return Pt},selectorChanged:(Pt,to)=>(d(Pt,to),va),selectorChangedWithUnbind:d,getScrollContainer:()=>{let Pt,to=e.getRoot();for(;to&&to.nodeName!=="BODY";){if(to.scrollHeight>to.clientHeight){Pt=to;break}to=to.parentNode}return Pt},scrollIntoView:(Pt,to)=>{He(Pt)?QN(s,Pt,to):Ev(s,Te(),to)},placeCaretAt:(Pt,to)=>Fe(Dd(Pt,to,s.getDoc())),getBoundingClientRect:()=>{const Pt=Te();return Pt.collapsed?Ge.fromRangeStart(Pt).getClientRects()[0]:Pt.getBoundingClientRect()},destroy:()=>{t=a=c=null,al.destroy()}},Sr=Q0(va),al=Qu(va,s);return va.bookmarkManager=Sr,va.controlSelection=al,va},SI=(e,t,o)=>{t.addNodeFilter("br",(s,a,c)=>{const d=it.extend({},o.getBlockElements()),f=o.getNonEmptyElements(),b=o.getWhitespaceElements();d.body=1;const w=T=>T.name in d||Oh(o,T);for(let T=0,R=s.length;T<R;T++){let N=s[T],F=N.parent;if(F&&w(F)&&N===F.lastChild){let ee=N.prev;for(;ee;){const X=ee.name;if(X!=="span"||ee.attr("data-mce-type")!=="bookmark"){X==="br"&&(N=null);break}ee=ee.prev}if(N&&(N.remove(),hb(o,f,b,F))){const X=o.getElementRule(F.name);X&&(X.removeEmpty?F.remove():X.paddEmpty&&f3(e,c,w,F))}}else{let ee=N;for(;F&&F.firstChild===ee&&F.lastChild===ee&&(ee=F,!d[F.name]);)F=F.parent;if(ee===F){const X=new li("#text",3);X.value=Fs,N.replace(X)}}}})},EI=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(s,a)=>{let c=s.length;for(;c--;){const d=s[c];d.attr("tabindex",d.attr("data-mce-tabindex")),d.attr(a,null)}}),e.addAttributeFilter("src,href,style",(s,a)=>{const c="data-mce-"+a,d=t.url_converter,f=t.url_converter_scope;let b=s.length;for(;b--;){const w=s[b];let T=w.attr(c);T!==void 0?(w.attr(a,T.length>0?T:null),w.attr(c,null)):(T=w.attr(a),a==="style"?T=o.serializeStyle(o.parseStyle(T),w.name):d&&(T=d.call(f,T,a,w.name)),w.attr(a,T.length>0?T:null))}}),e.addAttributeFilter("class",s=>{let a=s.length;for(;a--;){const c=s[a];let d=c.attr("class");d&&(d=d.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",d.length>0?d:null))}}),e.addAttributeFilter("data-mce-type",(s,a,c)=>{let d=s.length;for(;d--;){const f=s[d];f.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(P.from(f.firstChild).exists(w=>{var T;return!Gu((T=w.value)!==null&&T!==void 0?T:"")})?f.unwrap():f.remove())}}),e.addNodeFilter("script,style",(s,a)=>{var c;const d=b=>b.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let f=s.length;for(;f--;){const b=s[f],w=b.firstChild,T=(c=w?.value)!==null&&c!==void 0?c:"";if(a==="script"){const R=b.attr("type");R&&b.attr("type",R==="mce-no/type"?null:R.replace(/^mce\-/,"")),t.element_format==="xhtml"&&w&&T.length>0&&(w.value=`// <![CDATA[
`+d(T)+`
// ]]>`)}else t.element_format==="xhtml"&&w&&T.length>0&&(w.value=`<!--
`+d(T)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let a=s.length;for(;a--;){const c=s[a],d=c.value;t.preserve_cdata&&d?.indexOf("[CDATA[")===0?(c.name="#cdata",c.type=4,c.value=o.decode(d.replace(/^\[CDATA\[|\]\]$/g,""))):d?.indexOf("mce:protected ")===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(d).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,a)=>{let c=s.length;for(;c--;){const d=s[c];d.type===7?d.remove():d.type===1&&a==="input"&&!d.attr("type")&&d.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{je(s,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,a)=>{let c=s.length;for(;c--;)s[c].attr(a,null)}),t.remove_trailing_brs&&SI(t,e,e.schema)},AI=e=>{const t=s=>s?.name==="br",o=e.lastChild;if(t(o)){const s=o.prev;t(s)&&(o.remove(),s.remove())}},TI=(e,t,o)=>{let s;const a=e.dom;let c=t.cloneNode(!0);const d=document.implementation;if(d.createHTMLDocument){const f=d.createHTMLDocument("");it.each(c.nodeName==="BODY"?c.childNodes:[c],b=>{f.body.appendChild(f.importNode(b,!0))}),c.nodeName!=="BODY"?c=f.body.firstChild:c=f.body,s=a.doc,a.doc=f}return vR(e,{...o,node:c}),s&&(a.doc=s),c},I_=(e,t)=>He(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,FO=(e,t,o)=>I_(e,o)?TI(e,t,o):t,zO=(e,t,o)=>{it.inArray(t,o)===-1&&(e.addAttributeFilter(o,(s,a)=>{let c=s.length;for(;c--;)s[c].attr(a,null)}),t.push(o))},HO=(e,t,o)=>!t.no_events&&e?yR(e,{...t,content:o}).content:o,DI=(e,t,o)=>{const s=Ui(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||gp(oe.fromDom(t))?s:it.trim(s)},OI=(e,t,o)=>{const s=o.selection?{forced_root_block:!1,...o}:o,a=e.parse(t,s);return AI(a),a},VO=(e,t,o)=>Dp(e,t).serialize(o),RI=(e,t,o,s,a)=>{const c=VO(t,o,s);return HO(e,a,c)},TS=(e,t)=>{const o=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:Nn.DOM,c=t&&t.schema?t.schema:Kt(s),d=Hp(s,c);EI(d,s,a);const f=(b,w={})=>{const{indent:T,entity_encoding:R,...N}=w,F={format:"html",...N},ee=FO(t,b,F),X=DI(a,ee,F),K=OI(d,X,F);if(F.format==="tree")return K;const ve={...s,...He(T)?{indent:T}:{},...He(R)?{entity_encoding:R}:{}};return RI(t,ve,c,K,F)};return{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:f,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:Ve(zO,d,o),getTempAttrs:ut(o),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},DS=(e,t)=>{const o=TS(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},NI="html",MI=(e,t)=>({...e,format:t,get:!0,getInner:!0}),BI=(e,t={})=>{const o=t.format?t.format:NI,s=MI(t,o);return Ci(e,s).fold(_n,a=>{const c=NO(e,a);return a2(e,c,a)})},II="html",$O=(e,t)=>({format:II,...e,set:!0,content:t}),P_=(e,t,o={})=>{const s=$O(o,t);Rf(e,s).each(a=>{const c=wI(e,a.content,a);v_(e,c.html,a)})},L_=Nn.DOM,OS=e=>{L_.setStyle(e.id,"display",e.orgDisplay)},Bd=e=>P.from(e).each(t=>t.destroy()),UO=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const s=o.dom;t.selection=o.win=o.dom=s.doc=null}},ZO=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),L_.unbind(t,"submit reset",e.formEventDelegate))},F_=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,s=e.getBody(),a=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&He(a?.nextSibling)&&L_.remove(a.nextSibling),Yu(e),e.editorManager.remove(e),!e.inline&&s&&OS(e),wR(e),L_.remove(e.getContainer()),Bd(t),Bd(o),e.destroy()}},RS=(e,t)=>{const{selection:o,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Bd(o),Bd(s)),ZO(e),UO(e),e.destroyed=!0}},w2=(()=>{const e={};return{add:(a,c)=>{e[a]=c},get:a=>e[a]?e[a]:{icons:{}},has:a=>vo(e,a)}})(),O1=Gr.ModelManager,jO=(e,t)=>t.dom[e],z_=(e,t)=>parseInt(pl(t,e),10),LI=Ve(jO,"clientWidth"),FI=Ve(jO,"clientHeight"),zI=Ve(z_,"margin-top"),H_=Ve(z_,"margin-left"),HI=e=>e.dom.getBoundingClientRect(),NS=(e,t,o)=>{const s=LI(e),a=FI(e);return t>=0&&o>=0&&t<=s&&o<=a},MS=(e,t,o,s)=>{const a=HI(t),c=e?a.left+t.dom.clientLeft+H_(t):0,d=e?a.top+t.dom.clientTop+zI(t):0,f=o-c,b=s-d;return{x:f,y:b}},WO=(e,t,o)=>{const s=oe.fromDom(e.getBody()),a=e.inline?s:rs(s),c=MS(e.inline,a,t,o);return NS(a,c.x,c.y)},VI=e=>P.from(e).map(oe.fromDom),qO=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return VI(t).map(eu).getOr(!1)};var V_=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const BS=e=>{const t=[],o=()=>{const N=e.theme;return N&&N.getNotificationManagerImpl?N.getNotificationManagerImpl():V_()},s=()=>P.from(t[0]),a=(N,F)=>N.type===F.type&&N.text===F.text&&!N.progressBar&&!N.timeout&&!F.progressBar&&!F.timeout,c=()=>{s().each(N=>{N.reposition()})},d=N=>{t.push(N)},f=N=>{Rs(t,F=>F===N).each(F=>{t.splice(F,1)})},b=(N,F=!0)=>e.removed||!qO(e)?{}:(F&&e.dispatch("BeforeOpenNotification",{notification:N}),Cn(t,ee=>a(o().getArgs(ee),N)).getOrThunk(()=>{e.editorManager.setActive(e);const ee=o().open(N,()=>{f(ee)},()=>ig(e));return d(ee),c(),e.dispatch("OpenNotification",{notification:{...ee}}),ee})),w=()=>{s().each(N=>{o().close(N),f(N),c()})},T=ut(t);return(N=>{N.on("SkinLoaded",()=>{const F=NA(N);F&&b({text:F,type:"warning",timeout:0},!1),c()}),N.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(c)}),N.on("remove",()=>{je(t.slice(),F=>{o().close(F)})}),N.on("keydown",F=>{var ee;const X=((ee=F.key)===null||ee===void 0?void 0:ee.toLowerCase())==="f12"||F.keyCode===123;F.altKey&&X&&(F.preventDefault(),s().map(K=>oe.fromDom(K.getEl())).each(K=>Hg(K)))})})(e),{open:b,close:w,getNotifications:T}},R1=Gr.PluginManager,N1=Gr.ThemeManager;var $I=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const $_=e=>{let t=[];const o=()=>{const K=e.theme;return K&&K.getWindowManagerImpl?K.getWindowManagerImpl():$I()},s=(K,ve)=>(...xe)=>ve?ve.apply(K,xe):void 0,a=K=>{e.dispatch("OpenWindow",{dialog:K})},c=K=>{e.dispatch("CloseWindow",{dialog:K})},d=(K,ve)=>{t.push({instanceApi:K,triggerElement:ve}),a(K)},f=K=>{c(K);const ve=Ti(t,({instanceApi:xe,triggerElement:Te})=>xe===K?Te:P.none());t=ft(t,({instanceApi:xe})=>xe!==K),t.length===0?e.focus():ve.filter(eu).each(Hg)},b=()=>P.from(t[t.length-1]),w=K=>{e.editorManager.setActive(e),vw(e);const ve=Jd();e.ui.show();const xe=K();return d(xe,ve),xe},T=(K,ve)=>w(()=>o().open(K,ve,f)),R=K=>w(()=>o().openUrl(K,f)),N=K=>{t.length!==0&&K.each(ve=>Hg(ve))},F=(K,ve,xe)=>{const Te=Jd(),Fe=o();Fe.alert(K,s(xe||Fe,()=>{N(Te),ve?.()}))},ee=(K,ve,xe)=>{const Te=Jd(),Fe=o();Fe.confirm(K,s(xe||Fe,rt=>{N(Te),ve?.(rt)}))},X=()=>{b().each(({instanceApi:K})=>{o().close(K),f(K)})};return e.on("remove",()=>{je(t,({instanceApi:K})=>{o().close(K)})}),{open:T,openUrl:R,alert:F,confirm:ee,close:X}},IS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},_2=(e,t)=>{e._skinLoaded?IS(e,t):e.on("SkinLoaded",()=>{IS(e,t)})},UI=(e,t)=>{_2(e,Rc.translate(["Failed to upload image: {0}",t]))},kb=(e,t,o)=>{JC(e,t,{message:o}),console.error(o)},am=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,ZI=(e,t,o)=>{kb(e,"PluginLoadError",am("plugin",t,o))},jI=(e,t,o)=>{kb(e,"IconsLoadError",am("icons",t,o))},GO=(e,t,o)=>{kb(e,"LanguageLoadError",am("language",t,o))},KO=(e,t,o)=>{kb(e,"ThemeLoadError",am("theme",t,o))},U_=(e,t,o)=>{kb(e,"ModelLoadError",am("model",t,o))},WI=(e,t)=>{kb(e,"LicenseKeyManagerLoadError",am("license key manager",t))},qI=(e,t,o)=>{const s=Rc.translate(["Failed to initialize plugin: {0}",t]);JC(e,"PluginLoadError",{message:s}),Z_(s,o),_2(e,s)},Z_=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},YO=new WeakMap,GI=e=>{if(YO.has(e))return;YO.set(e,!0);const t=()=>{e.on("SwitchMode",s=>{const{mode:a}=s;a!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",s=>{const{state:a}=s;a||s.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),t()},XO=(e,t)=>{const{type:o,message:s}=t;e.notificationManager.open({type:o,text:s})},KI=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},YI=e=>{KI(e.type)(e.message)},PS=(e,t)=>{const{console:o,editor:s}=t;He(s)&&(e._skinLoaded?XO(e,s):e.on("SkinLoaded",()=>{XO(e,s)})),He(o)&&YI(o)},Zn="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",QO="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",LS=e=>{const t="The editor is disabled because a TinyMCE license key has not been provided.";PS(e,{console:{type:"error",message:[`${t}`,QO,Zn].join(" ")},editor:{type:"warning",message:`${t}`}})},JO=(e,t)=>{const o=`${t==="online"?"API":"license"} key`,s=`The editor is disabled because the TinyMCE ${o} could not be validated.`;PS(e,{console:{type:"error",message:[`${s}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,Zn].join(" ")},editor:{type:"warning",message:`${s}`}})},FS=(e,t)=>{const o=`The "${t}" plugin requires a valid TinyMCE license key.`;PS(e,{console:{type:"error",message:[`${o}`,Zn].join(" ")}})},C2="licensekeymanager",XI=e=>Re(Xy(e))?"online":"offline",zS=e=>{var t;const o=(t=uN(e))===null||t===void 0?void 0:t.toLowerCase();return o==="gpl"?"gpl":Qo(o)?"no_key":"non_gpl"},e8=e=>{const t=XI(e),o=zS(e),s=new Set($0(e)).has(C2);return o!=="gpl"||t==="online"||s?{type:"use_plugin",onlineStatus:t,licenseKeyType:o,forcePlugin:s}:{type:"use_gpl",onlineStatus:t,licenseKeyType:o,forcePlugin:s}},QI=e=>({validate:t=>{const{plugin:o}=t;return Re(o)&&FS(e,o),Promise.resolve(!1)}}),t8=e=>({validate:t=>{const{plugin:o}=t,s=Re(o);return s&&FS(e,o),Promise.resolve(!s)}}),j_="manager",JI=C2,HS=(()=>{const e=Gr();return{load:(a,c)=>{if(e8(a).type==="use_plugin"){const f=`plugins/${JI}/plugin${c}.js`;e.load(j_,f).catch(()=>{WI(a,f)})}},add:a=>{e.add(j_,a)},init:a=>{const c=b=>{Object.defineProperty(a,"licenseKeyManager",{value:b,writable:!1,configurable:!1,enumerable:!0})},d=e8(a),f=e.get(j_);if(He(f)){const b=f(a,e.urls[j_]);c(b)}else switch(d.type){case"use_gpl":{c(t8(a));break}case"use_plugin":{GI(a),c(QI(a)),d.onlineStatus==="offline"&&d.licenseKeyType==="no_key"?LS(a):JO(a,d.onlineStatus);break}}a.licenseKeyManager.validate({})}}})(),tP=e=>{P.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},VS=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},W_=(e,t)=>{VS(e,"StyleWithCSS",t),VS(e,"enableInlineTableEditing",t),VS(e,"enableObjectResizing",t)},o8=e=>{e.selection.setRng(e.selection.getRng())},q_=(e,t,o)=>{as(e,t)&&!o?zi(e,t):o&&$l(e,t)},$S=e=>{const t=oe.fromDom(e.getBody());q_(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),tP(e)},n8=e=>{const t=oe.fromDom(e.getBody());q_(t,"mce-content-readonly",!1),e.hasEditableRoot()&&Ul(t,!0),W_(e,!1),ig(e)&&e.focus(),o8(e),e.nodeChanged()},bg=e=>eg(e),Wp="data-mce-contenteditable",G_=e=>{je(qr(e,'*[contenteditable="true"]'),t=>{Wr(t,Wp,"true"),Ul(t,!1)})},US=e=>{je(qr(e,`*[${Wp}="true"]`),t=>{Mr(t,Wp),Ul(t,!0)})},K_=(e,t)=>{const o=oe.fromDom(e.getBody());t?($S(e),Ul(o,!1),G_(o)):(US(o),n8(e))},Sb=e=>{e.serializer?s8(e):e.on("PreInit",()=>{s8(e)})},s8=e=>{e.parser.addAttributeFilter("contenteditable",t=>{bg(e)&&je(t,o=>{o.attr(Wp,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Wp,t=>{bg(e)&&je(t,o=>{o.attr("contenteditable",o.attr(Wp))})}),e.serializer.addTempAttr(Wp)},Eb=e=>e.type==="click",k2=["copy"],Ab=e=>$o(k2,e.type),ZS=(e,t)=>ud(t,"a",s=>tn(s,oe.fromDom(e.getBody()))).bind(s=>vc(s,"href")),r8=(e,t)=>{if(Eb(t)&&!Lt.metaKeyPressed(t)){const o=oe.fromDom(t.target);ZS(e,o).each(s=>{if(t.preventDefault(),/^#/.test(s)){const a=e.dom.select(`${s},[name="${Zf(s,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Ab(t)&&e.dispatch(t.type,t)},a8=e=>{e.on("ShowCaret ObjectSelected",t=>{bg(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||K_(e,t.state)})},jS=e=>{Sb(e),a8(e)},i8=e=>/^[a-z0-9\-]+$/i.test(e),Y_=e=>"content/"+e+"/content.css",l8=e=>tinymce.Resource.has(Y_(e)),WS=e=>qS(e,HR(e)),c8=e=>qS(e,Ma(e)),qS=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return Mo(t,c=>l8(c)?c:i8(c)&&!e.inline?`${o}/${c}/${a}`:e.documentBaseURI.toAbsolute(c))},GS=e=>{e.contentCSS=e.contentCSS.concat(WS(e),c8(e))},oP=e=>e?Nt(e.getElementsByTagName("img")):[],d8=(e,t)=>{const o={};return{findAll:(a,c=Uo)=>{const d=ft(oP(a),b=>{const w=b.src;return b.hasAttribute("data-mce-bogus")||b.hasAttribute("data-mce-placeholder")||!w||w===Eo.transparentSrc?!1:Ls(w,"blob:")?!e.isUploaded(w)&&c(b):Ls(w,"data:")?c(b):!1}),f=Mo(d,b=>{const w=b.src;if(vo(o,w))return o[w].then(T=>Re(T)?T:{image:b,blobInfo:T.blobInfo});{const T=y3(t,w).then(R=>(delete o[w],{image:b,blobInfo:R})).catch(R=>(delete o[w],R));return o[w]=T,T}});return Promise.all(f)}}},KS=()=>{let o={};const s=(N,F)=>({status:N,resultUri:F}),a=N=>N in o;return{hasBlobUri:a,getResultUri:N=>{const F=o[N];return F?F.resultUri:null},isPending:N=>a(N)?o[N].status===1:!1,isUploaded:N=>a(N)?o[N].status===2:!1,markPending:N=>{o[N]=s(1,null)},markUploaded:(N,F)=>{o[N]=s(2,F)},removeFailed:N=>{delete o[N]},destroy:()=>{o={}}}};let u8=0;const X_=()=>{const e=()=>Math.round(Nl()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},m8=e=>e+u8+++X_(),g8=()=>{let e=[];const t=R=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[R.toLowerCase()]||"dat",o=(R,N,F,ee,X)=>{if(Re(R))return s({id:R,name:ee,filename:X,blob:N,base64:F});if(te(R))return s(R);throw new Error("Unknown input type")},s=R=>{if(!R.blob||!R.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const N=R.id||m8("blobid"),F=R.name||N,ee=R.blob;return{id:ut(N),name:ut(F),filename:ut(R.filename||F+"."+t(ee.type)),blob:ut(ee),base64:ut(R.base64),blobUri:ut(R.blobUri||URL.createObjectURL(ee)),uri:ut(R.uri)}},a=R=>{d(R.id())||e.push(R)},c=R=>Cn(e,R).getOrUndefined(),d=R=>c(N=>N.id()===R);return{create:o,add:a,get:d,getByUri:R=>c(N=>N.blobUri()===R),getByData:(R,N)=>c(F=>F.base64()===R&&F.blob().type===N),findFirst:c,removeByUri:R=>{e=ft(e,N=>N.blobUri()===R?(URL.revokeObjectURL(N.blobUri()),!1):!0)},destroy:()=>{je(e,R=>{URL.revokeObjectURL(R.blobUri())}),e=[]}}},nP=(e,t)=>{const o={},s=(X,K)=>X?X.replace(/\/$/,"")+"/"+K.replace(/^\//,""):K,a=(X,K)=>new Promise((ve,xe)=>{const Te=new XMLHttpRequest;Te.open("POST",t.url),Te.withCredentials=t.credentials,Te.upload.onprogress=rt=>{K(rt.loaded/rt.total*100)},Te.onerror=()=>{xe("Image upload failed due to a XHR Transport error. Code: "+Te.status)},Te.onload=()=>{if(Te.status<200||Te.status>=300){xe("HTTP Error: "+Te.status);return}const rt=JSON.parse(Te.responseText);if(!rt||!Re(rt.location)){xe("Invalid JSON: "+Te.responseText);return}ve(s(t.basePath,rt.location))};const Fe=new FormData;Fe.append("file",X.blob(),X.filename()),Te.send(Fe)}),c=so(t.handler)?t.handler:a,d=()=>new Promise(X=>{X([])}),f=(X,K)=>({url:K,blobInfo:X,status:!0}),b=(X,K)=>({url:"",blobInfo:X,status:!1,error:K}),w=(X,K)=>{it.each(o[X],ve=>{ve(K)}),delete o[X]},T=(X,K,ve)=>(e.markPending(X.blobUri()),new Promise(xe=>{let Te,Fe;try{const rt=()=>{Te&&(Te.close(),Fe=Ro)},Ot=Xe=>{rt(),e.markUploaded(X.blobUri(),Xe),w(X.blobUri(),f(X,Xe)),xe(f(X,Xe))},ht=Xe=>{rt(),e.removeFailed(X.blobUri()),w(X.blobUri(),b(X,Xe)),xe(b(X,Xe))};Fe=Xe=>{Xe<0||Xe>100||P.from(Te).orThunk(()=>P.from(ve).map(cn)).each(Ke=>{Te=Ke,Ke.progressBar.value(Xe)})},K(X,Fe).then(Ot,Xe=>{ht(Re(Xe)?{message:Xe}:Xe)})}catch(rt){xe(b(X,rt))}})),R=X=>X===a,N=X=>{const K=X.blobUri();return new Promise(ve=>{o[K]=o[K]||[],o[K].push(ve)})},F=(X,K)=>(X=it.grep(X,ve=>!e.isUploaded(ve.blobUri())),Promise.all(it.map(X,ve=>e.isPending(ve.blobUri())?N(ve):T(ve,c,K))));return{upload:(X,K)=>!t.url&&R(c)?d():F(X,K)}},f8=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),p8=(e,t)=>nP(t,{url:z0(e),basePath:DA(e),credentials:OA(e),handler:ak(e)}),sP=e=>{const t=KS(),o=p8(e,t);return{upload:(s,a=!0)=>o.upload(s,a?f8(e):void 0)}},h8=(e,t)=>e.dom.isEmpty(t.dom)&&He(e.schema.getTextBlockElements()[Ho(t)]),b8=e=>t=>{h8(e,t)&&dn(t,oe.fromHtml('<br data-mce-bogus="1" />'))},x8=e=>{const t=g8();let o,s;const a=KS(),c=[],d=Te=>Fe=>e.selection?Te(Fe):[],f=Te=>Te+(Te.indexOf("?")===-1?"?":"&")+new Date().getTime(),b=(Te,Fe,rt)=>{let Ot=0;do Ot=Te.indexOf(Fe,Ot),Ot!==-1&&(Te=Te.substring(0,Ot)+rt+Te.substr(Ot+Fe.length),Ot+=rt.length-Fe.length+1);while(Ot!==-1);return Te},w=(Te,Fe,rt)=>{const Ot=`src="${rt}"${rt===Eo.transparentSrc?' data-mce-placeholder="1"':""}`;return Te=b(Te,`src="${Fe}"`,Ot),Te=b(Te,'data-mce-src="'+Fe+'"','data-mce-src="'+rt+'"'),Te},T=(Te,Fe)=>{je(e.undoManager.data,rt=>{rt.type==="fragmented"?rt.fragments=Mo(rt.fragments,Ot=>w(Ot,Te,Fe)):rt.content=w(rt.content,Te,Fe)})},R=(Te,Fe)=>{const rt=e.convertURL(Fe,"src");T(Te.src,Fe),Xi(oe.fromDom(Te),{src:sv(e)?f(Fe):Fe,"data-mce-src":rt})},N=()=>(o||(o=p8(e,a)),K().then(d(Te=>{const Fe=Mo(Te,rt=>rt.blobInfo);return o.upload(Fe,f8(e)).then(d(rt=>{const Ot=[];let ht=!1;const Xe=Mo(rt,(Ke,at)=>{const{blobInfo:$t,image:lo}=Te[at];let To=!1;return Ke.status&&jy(e)?(Ke.url&&!Zo(lo.src,Ke.url)&&(ht=!0),t.removeByUri(lo.src),rm(e)||R(lo,Ke.url)):Ke.error&&(Ke.error.remove&&(T(lo.src,Eo.transparentSrc),Ot.push(lo),To=!0),UI(e,Ke.error.message)),{element:lo,status:Ke.status,uploadUri:Ke.url,blobInfo:$t,removed:To}});return Ot.length>0&&!rm(e)?e.undoManager.transact(()=>{je(fl(Ot),Ke=>{const at=Yi(Ke);ds(Ke),at.each(b8(e)),t.removeByUri(Ke.dom.src)})}):ht&&e.undoManager.dispatchChange(),Xe}))}))),F=()=>Zy(e)?N():Promise.resolve([]),ee=Te=>Pa(c,Fe=>Fe(Te)),X=Te=>{c.push(Te)},K=()=>(s||(s=d8(a,t)),s.findAll(e.getBody(),ee).then(d(Te=>{const Fe=ft(Te,rt=>Re(rt)?(_2(e,rt),!1):rt.uriType!=="blob");return rm(e)||je(Fe,rt=>{T(rt.image.src,rt.blobInfo.blobUri()),rt.image.src=rt.blobInfo.blobUri(),rt.image.removeAttribute("data-mce-src")}),Fe}))),ve=()=>{t.destroy(),a.destroy(),s=o=null},xe=Te=>Te.replace(/src="(blob:[^"]+)"/g,(Fe,rt)=>{const Ot=a.getResultUri(rt);if(Ot)return'src="'+Ot+'"';let ht=t.getByUri(rt);return ht||(ht=zo(e.editorManager.get(),(Xe,Ke)=>Xe||Ke.editorUpload&&Ke.editorUpload.blobCache.getByUri(rt),void 0)),ht?'src="data:'+ht.blob().type+";base64,"+ht.base64()+'"':Fe});return e.on("SetContent",()=>{Zy(e)?F():K()}),e.on("RawSaveContent",Te=>{Te.content=xe(Te.content)}),e.on("GetContent",Te=>{Te.source_view||Te.format==="raw"||Te.format==="tree"||(Te.content=xe(Te.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Te=>{je(Te,Fe=>{const rt=Fe.attr("src");if(!rt||t.getByUri(rt))return;const Ot=a.getResultUri(rt);Ot&&Fe.attr("src",Ot)})})}),{blobCache:t,addFilter:X,uploadImages:N,uploadImagesAuto:F,scanForImages:K,destroy:ve}},rP=e=>{const t=e.dom,o=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},d={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[d,a,c]:[a,d,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,c,d)=>jt(a)&&a.hasAttribute("href"),onformat:(a,c,d)=>{it.each(d,(f,b)=>{t.setAttrib(a,b,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var c;return(c=a?.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return it.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),a=>{s[a]={block:a,remove:"all"}}),s},Tb={remove_similar:!0,inherit:!1},Db={selector:"td,th",...Tb},v8={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Db},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Db},tablecellbordercolor:{styles:{borderColor:"%value"},...Db},tablecellclass:{classes:["%value"],...Db},tableclass:{selector:"table",classes:["%value"],...Tb},tablecellborderstyle:{styles:{borderStyle:"%value"},...Db},tablecellborderwidth:{styles:{borderWidth:"%value"},...Db}},Q_=ut(v8),y8=e=>{const t={},o=d=>He(d)?t[d]:t,s=d=>vo(t,d),a=(d,f)=>{d&&(Re(d)?(me(f)||(f=[f]),je(f,b=>{Os(b.deep)&&(b.deep=!oc(b)),Os(b.split)&&(b.split=!oc(b)||xa(b)),Os(b.remove)&&oc(b)&&!xa(b)&&(b.remove="none"),oc(b)&&xa(b)&&(b.mixed=!0,b.block_expand=!0),Re(b.classes)&&(b.classes=b.classes.split(/\s+/))}),t[d]=f):Jo(d,(b,w)=>{a(w,b)}))},c=d=>(d&&t[d]&&delete t[d],t);return a(rP(e)),a(Q_()),a(dk(e)),{get:o,has:s,register:a,unregister:c}},S2=it.each,Id=Nn.DOM,YS=e=>He(e)&&te(e),J_=(e,t)=>{const o=t&&t.schema||Kt({}),s=(b,w)=>{w.classes.length>0&&Id.addClass(b,w.classes.join(" ")),Id.setAttribs(b,w.attrs)},a=b=>{const w=Re(b)?{name:b,classes:[],attrs:{}}:b,T=Id.create(w.name);return s(T,w),T},c=(b,w)=>{const T=o.getElementRule(b.nodeName.toLowerCase()),R=T?.parentsRequired;return R&&R.length?w&&$o(R,w)?w:R[0]:!1},d=(b,w,T)=>{let R;const N=w[0],F=YS(N)?N.name:void 0,ee=c(b,F);if(ee)F===ee?(R=N,w=w.slice(1)):R=ee;else if(N)R=N,w=w.slice(1);else if(!T)return b;const X=R?a(R):Id.create("div");X.appendChild(b),T&&it.each(T,ve=>{const xe=a(ve);X.insertBefore(xe,b)});const K=YS(R)?R.siblings:void 0;return d(X,w,K)},f=Id.create("div");if(e.length>0){const b=e[0],w=a(b),T=YS(b)?b.siblings:void 0;f.appendChild(d(w,e.slice(1),T))}return f},eC=e=>{e=it.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,a,c,d,f)=>{switch(a){case"#":o.attrs.id=c;break;case".":o.classes.push(c);break;case":":it.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(o.attrs[c]=c);break}if(d==="["){const b=f.match(/([\w\-]+)(?:\=\"([^\"]+))?/);b&&(o.attrs[b[1]]=b[2])}return""})),o.name=t||"div",o},w8=e=>Re(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),it.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=it.map(t.split(/(?:~\+|~|\+)/),eC),s=o.pop();return o.length&&(s.siblings=o),s}).reverse()):[],XS=(e,t)=>{let o="",s=MA(e);if(s==="")return"";const a=N=>Re(N)?N.replace(/%(\w+)/g,""):"",c=(N,F)=>Id.getStyle(F??e.getBody(),N,!0);if(Re(t)){const N=e.formatter.get(t);if(!N)return"";t=N[0]}if("preview"in t){const N=t.preview;if(N===!1)return"";s=N||s}let d=t.block||t.inline||"span",f;const b=w8(t.selector);b.length>0?(b[0].name||(b[0].name=d),d=t.selector,f=J_(b,e)):f=J_([d],e);const w=Id.select(d,f)[0]||f.firstChild;S2(t.styles,(N,F)=>{const ee=a(N);ee&&Id.setStyle(w,F,ee)}),S2(t.attributes,(N,F)=>{const ee=a(N);ee&&Id.setAttrib(w,F,ee)}),S2(t.classes,N=>{const F=a(N);Id.hasClass(w,F)||Id.addClass(w,F)}),e.dispatch("PreviewFormats"),Id.setStyles(f,{position:"absolute",left:-65535}),e.getBody().appendChild(f);const T=c("fontSize"),R=/px$/.test(T)?parseInt(T,10):0;return S2(s.split(" "),N=>{let F=c(N,w);if(!(N==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(F)&&(F=c(N),of(F).toLowerCase()==="#ffffff"))&&!(N==="color"&&of(F).toLowerCase()==="#000000")){if(N==="font-size"&&/em|%$/.test(F)){if(R===0)return;F=parseFloat(F)/(/%$/.test(F)?100:1)*R+"px"}N==="border"&&F&&(o+="padding:0 2px;"),o+=N+":"+F+";"}}),e.dispatch("AfterPreviewFormats"),Id.remove(f),o},_8=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},C8=e=>{const t=y8(e),o=$n({});return _8(e),v6(e),rm(e)||GB(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,a,c)=>{TO(e,s,a,c)},remove:(s,a,c,d)=>{DO(e,s,a,c,d)},toggle:(s,a,c)=>{OO(e,s,a,c)},match:(s,a,c,d)=>xI(e,s,a,c,d),closest:s=>AO(e,s),matchAll:(s,a)=>vI(e,s,a),matchNode:(s,a,c,d)=>yI(e,s,a,c,d),canApply:s=>EO(e,s),formatChanged:(s,a,c,d)=>RO(e,o,s,a,c,d),getCssText:Ve(XS,e)}},QS=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},aP=(e,t,o)=>{const s=$n(!1),a=b=>{Cb(t,!1,o),t.add({},b)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",b=>{const w=b.command;QS(w)||(vO(t,o),t.beforeChange())}),e.on("ExecCommand",b=>{const w=b.command;QS(w)||a(b)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",b=>{const w=b.keyCode;if(b.isDefaultPrevented())return;const T=Eo.os.isMacOS()&&b.key==="Meta";(w>=33&&w<=36||w>=37&&w<=40||w===45||b.ctrlKey||T)&&(a(),e.nodeChanged()),(w===46||w===8)&&e.nodeChanged(),s.get()&&t.typing&&!vS(x2(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",b=>{const w=b.keyCode;if(b.isDefaultPrevented())return;if(w>=33&&w<=36||w>=37&&w<=40||w===45){t.typing&&a(b);return}const T=b.ctrlKey&&!b.altKey||b.metaKey;if((w<16||w>20)&&w!==224&&w!==91&&!t.typing&&!T){t.beforeChange(),Cb(t,!0,o),t.add({},b),s.set(!0);return}(Eo.os.isMacOS()?b.metaKey:b.ctrlKey&&!b.altKey)&&t.beforeChange()}),e.on("mousedown",b=>{t.typing&&a(b)});const c=b=>b.inputType==="insertReplacementText",d=b=>b.inputType==="insertText"&&b.data===null,f=b=>b.inputType==="insertFromPaste"||b.inputType==="insertFromDrop";e.on("input",b=>{b.inputType&&(c(b)||d(b)||f(b))&&a(b)}),e.on("AddUndo Undo Redo ClearUndos",b=>{b.isDefaultPrevented()||e.nodeChanged()})},k8=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},tC=e=>{const t=Bl(),o=$n(0),s=$n(0),a={data:[],typing:!1,beforeChange:()=>{SS(e,o,t)},add:(c,d)=>SO(e,a,s,o,t,c,d),dispatchChange:()=>{e.setDirty(!0);const c=x2(e);c.bookmark=YC(e.selection),e.dispatch("change",{level:c,lastLevel:rn(a.data,s.get()).getOrUndefined()})},undo:()=>y2(e,a,o,s),redo:()=>dI(e,s,a.data),clear:()=>{uI(e,a,s)},reset:()=>{mI(e,a)},hasUndo:()=>gI(e,a,s),hasRedo:()=>fI(e,a,s),transact:c=>pI(e,a,o,c),ignore:c=>{hI(e,o,c)},extra:(c,d)=>{bI(e,a,s,c,d)}};return rm(e)||aP(e,a,o),k8(e),a},oC=[9,27,Lt.HOME,Lt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Lt.DOWN,Lt.UP,Lt.LEFT,Lt.RIGHT].concat(Eo.browser.isFirefox()?[224]:[]),JS="data-mce-placeholder",eE=e=>e.type==="keydown"||e.type==="keyup",S8=e=>{const t=e.keyCode;return t===Lt.BACKSPACE||t===Lt.DELETE},E8=e=>{if(eE(e)){const t=e.keyCode;return!S8(e)&&(Lt.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||$o(oC,t))}else return!1},iP=e=>eE(e)&&!(S8(e)||e.type==="keyup"&&e.keyCode===229),lP=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===s.nodeName.toLowerCase():!0}else return!1},tE=e=>{var t;const o=e.dom,s=Za(e),a=(t=RA(e))!==null&&t!==void 0?t:"",c=(d,f)=>{if(E8(d))return;const b=e.getBody(),w=iP(d)?!1:lP(o,b,s);(o.getAttrib(b,JS)!==""!==w||f)&&(o.setAttrib(b,JS,w?a:null),ER(e,w),e.on(w?"keydown":"keyup",c),e.off(w?"keyup":"keydown",c))};jr(a)&&e.on("init",d=>{c(d,!0),e.on("change SetContent ExecCommand",c),e.on("paste",f=>Td.setEditorTimeout(e,()=>c(f)))})},cP=e=>t=>He(t)&&t.nodeName.toLowerCase()===e,E2=e=>t=>He(t)&&e.test(t.nodeName),yu=e=>He(e)&&e.nodeType===3,oE=e=>He(e)&&e.nodeType===1,Hc=E2(/^(OL|UL|DL)$/),A8=E2(/^(OL|UL)$/),A2=E2(/^(LI|DT|DD)$/),dP=E2(/^(DT|DD)$/),M1=cP("br"),nE=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},sE=(e,t)=>He(t)&&t.nodeName in e.schema.getTextBlockElements(),T2=(e,t)=>He(e)&&e.nodeName in t,uP=(e,t)=>He(t)&&t.nodeName in e.schema.getVoidElements(),T8=(e,t)=>M1(t)?e.isBlock(t.nextSibling)&&!M1(t.previousSibling):!1,B1=(e,t,o)=>{const s=e.isEmpty(t);return o&&e.select("span[data-mce-type=bookmark]",t).length>0?!1:s},D8=(e,t)=>e.isChildOf(t,e.getRoot()),rE=Nn.DOM,aE=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const s=o.previousSibling;s&&s.nodeName==="LI"?(s.appendChild(t),B1(e,o)&&rE.remove(o)):rE.setStyle(o,"listStyleType","none")}if(Hc(o)){const s=o.previousSibling;s&&s.nodeName==="LI"&&s.appendChild(t)}},iE=(e,t)=>{const o=it.grep(e.select("ol,ul",t));it.each(o,s=>{aE(e,s)})},D2=(e,t)=>{if(yu(e))return{container:e,offset:t};const o=lg.getNode(e,t);return yu(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&yu(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&yu(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},lE=e=>{const t=e.cloneRange(),o=D2(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const s=D2(e.endContainer,e.endOffset);return t.setEnd(s.container,s.offset),t},O8=["OL","UL","DL"],R8=O8.join(","),Ob=(e,t)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,R8,R2(e,o))},N8=(e,t)=>He(e)&&t.length===1&&t[0]===e,mP=e=>ft(e.querySelectorAll(R8),Hc),M8=e=>{const t=Ob(e),o=e.selection.getSelectedBlocks();return N8(t,o)?mP(t):ft(o,s=>Hc(s)&&t!==s)},O2=(e,t)=>{const o=it.map(t,s=>{const a=e.dom.getParent(s,"li,dd,dt",R2(e,s));return a||s});return gc(o)},nC=e=>{const t=e.selection.getSelectedBlocks();return ft(O2(e,t),A2)},gP=e=>ft(nC(e),dP),sC=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()},B8=(e,t)=>!Hc(t)&&!A2(t)&&In(O8,o=>e.isValidChild(t.nodeName,o)),R2=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock),s=c=>c.nodeName.toLowerCase()!==Za(e);return Cn(o,c=>s(c)&&B8(e.schema,c)).getOr(e.getBody())},fP=e=>Yi(e).exists(t=>A2(t.dom)&&zl(t).exists(o=>!Hc(o.dom))&&Qr(t).exists(o=>!Hc(o.dom))),I8=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",R2(e,t));return Vs(o)},pP=e=>{const t=I8(e,e.selection.getStart()),o=ft(e.selection.getSelectedBlocks(),A8);return t.toArray().concat(o)},P8=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",R2(e,t))},cE=e=>{const t=pP(e),o=P8(e);return Cn(o,s=>fP(oe.fromDom(s))).fold(()=>L8(e,t),s=>[s])},L8=(e,t)=>{const o=Mo(t,s=>I8(e,s).getOr(s));return gc(o)},N2=e=>/\btox\-/.test(e.className),dE=(e,t)=>t!==null&&!e.dom.isEditable(t),F8=e=>{const t=Ob(e);return dE(e,t)||!e.selection.isEditable()},uE=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return dE(e,o)||!e.selection.isEditable()},qp=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o}),mE=(e,t,o={})=>{const s=e.dom,a=e.schema.getBlockElements(),c=s.createFragment(),d=Za(e),f=F0(e);let b,w,T=!1;for(w=s.create(d,{...f,...o.style?{style:o.style}:{}}),T2(t.firstChild,a)||c.appendChild(w);b=t.firstChild;){const R=b.nodeName;!T&&(R!=="SPAN"||b.getAttribute("data-mce-type")!=="bookmark")&&(T=!0),T2(b,a)?(c.appendChild(b),w=null):(w||(w=s.create(d,f),c.appendChild(w)),w.appendChild(b))}return!T&&w&&w.appendChild(s.create("br",{"data-mce-bogus":"1"})),c},Rb=e=>wm(e,"OL,UL"),hP=e=>wm(e,"LI"),z8=e=>zl(e).exists(Rb),xg=e=>Qr(e).exists(Rb),H8=(e,t)=>wk(e).map(o=>o>=t).getOr(!0),Gp=e=>"listAttributes"in e,rC=e=>"isComment"in e,aC=e=>"isFragment"in e,V8=e=>e.depth>0,$8=e=>e.isSelected,bP=e=>{const t=on(e),o=xg(e)?t.slice(0,-1):t;return Mo(o,Bi)},U8=(e,t,o)=>Yi(e).filter(dr).map(s=>({depth:t,dirty:!1,isSelected:o,content:bP(e),itemAttributes:yc(e),listAttributes:yc(s),listType:Ho(s),isInPreviousLi:!1})),Z8=(e,t)=>{dn(e.item,t.list)},j8=e=>{for(let t=1;t<e.length;t++)Z8(e[t-1],e[t])},iC=(e,t)=>{Es(Vs(e),qn(t),Z8)},gE=(e,t)=>{const o={list:oe.fromTag(t,e),item:oe.fromTag("li",e)};return dn(o.list,o.item),o},W8=(e,t,o)=>{const s=[];for(let a=0;a<o;a++)s.push(gE(e,Gp(t)?t.listType:t.parentListType));return s},q8=(e,t)=>{for(let o=0;o<e.length-1;o++)$g(e[o].item,"list-style-type","none");Vs(e).each(o=>{Gp(t)&&(Xi(o.list,t.listAttributes),Xi(o.item,t.itemAttributes)),Ws(o.item,t.content)})},xP=(e,t)=>{Ho(e.list)!==t.listType&&(e.list=Vg(e.list,t.listType)),Xi(e.list,t.listAttributes)},G8=(e,t,o)=>{const s=oe.fromTag("li",e);return Xi(s,t),Ws(s,o),s},vP=(e,t)=>{dn(e.list,t),e.item=t},fE=(e,t,o)=>{const s=t.slice(0,o.depth);return Vs(s).each(a=>{if(Gp(o)){const c=G8(e,o.itemAttributes,o.content);vP(a,c),xP(a,o)}else if(aC(o))Ws(a.item,o.content);else{const c=oe.fromHtml(`<!--${o.content}-->`);dn(a.list,c)}}),s},K8=(e,t,o)=>{const s=W8(e,o,o.depth-t.length);return j8(s),q8(s,o),iC(t,s),t.concat(s)},Y8=(e,t)=>{let o=P.none();const s=zo(t,(a,c,d)=>rC(c)?d===0?(o=P.some(c),a):fE(e,a,c):c.depth>a.length?K8(e,a,c):fE(e,a,c),[]);return o.each(a=>{const c=oe.fromHtml(`<!--${a.content}-->`);qn(s).each(d=>{xc(d.list,c)})}),qn(s).map(a=>a.list)},X8=(e,t,o)=>{switch(t){case"Indent":if(H8(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},Q8=(e,t)=>{Gp(e)&&Gp(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},J8=e=>{e.listAttributes=Dr(e.listAttributes,(t,o)=>o!=="start")},pE=(e,t)=>{const o=e[t].depth,s=c=>c.depth===o&&!c.dirty,a=c=>c.depth<o;return Wc(ua(e.slice(0,t)),s,a).orThunk(()=>Wc(e.slice(t+1),s,a))},hE=e=>(je(e,(t,o)=>{pE(e,o).fold(()=>{t.dirty&&Gp(t)&&J8(t)},s=>Q8(t,s))}),e),bE=(e,t,o,s)=>{var a;if(rx(s))return[{depth:e+1,content:(a=s.dom.nodeValue)!==null&&a!==void 0?a:"",dirty:!1,isSelected:!1,isComment:!0}];t.each(f=>{tn(f.start,s)&&o.set(!0)});const c=U8(s,e,o.get());t.each(f=>{tn(f.end,s)&&o.set(!1)});const d=Qr(s).filter(Rb).map(f=>M2(e,t,o,f)).getOr([]);return c.toArray().concat(d)},e7=(e,t,o,s)=>zl(s).filter(Rb).fold(()=>bE(e,t,o,s),a=>{const c=zo(on(s),(d,f,b)=>{if(b===0)return d;if(hP(f))return d.concat(bE(e,t,o,f));{const w={isFragment:!0,depth:e,content:[f],isSelected:!1,dirty:!1,parentListType:Ho(a)};return d.concat(w)}},[]);return M2(e,t,o,a).concat(c)}),M2=(e,t,o,s)=>ar(on(s),a=>{const c=Rb(a)?M2:e7,d=e+1;return c(d,t,o,a)}),t7=(e,t)=>{const o=$n(!1),s=0;return Mo(e,a=>({sourceList:a,entries:M2(s,t,o,a)}))},o7=(e,t)=>{const o=hE(t);return Mo(o,s=>{const a=rC(s)?yr([oe.fromHtml(`<!--${s.content}-->`)]):yr(s.content),c=Gp(s)?s.itemAttributes:{};return oe.fromDom(mE(e,a.dom,c))})},n7=(e,t)=>{const o=hE(t);return Y8(e.contentDocument,o).toArray()},xE=(e,t)=>ar(Wn(t,V8),o=>qn(o).exists(V8)?n7(e,o):o7(e,o)),vE=(e,t,o)=>{je(ft(t,$8),s=>X8(e,o,s))},lC=e=>{const t=Mo(nC(e),oe.fromDom);return Es(Cn(t,Ce(z8)),Cn(ua(t),Ce(z8)),(o,s)=>({start:o,end:s}))},s7=(e,t,o)=>{const s=t7(t,lC(e));je(s,a=>{vE(e,a.entries,o);const c=xE(e,a.entries);je(c,d=>{qp(e,o==="Indent"?"IndentList":"OutdentList",d.dom)}),Mu(a.sourceList,c),ds(a.sourceList)})},r7=e=>wk(e).forall(t=>{const o=e.selection.getSelectedBlocks();return In(o,s=>ud(oe.fromDom(s),"li").forall(a=>el(a,"ol,ul").length<=t))}),Mf=Nn.DOM,yE=(e,t,o)=>{const s=w=>{const T=w.parentNode;T&&it.each(a,R=>{T.insertBefore(R,o.parentNode)}),Mf.remove(w)},a=Mf.select('span[data-mce-type="bookmark"]',t),c=mE(e,o),d=Mf.createRng();d.setStartAfter(o),d.setEndAfter(t);const f=d.extractContents();for(let w=f.firstChild;w;w=w.firstChild)if(w.nodeName==="LI"&&e.dom.isEmpty(w)){Mf.remove(w);break}e.dom.isEmpty(f)||Mf.insertAfter(f,t),Mf.insertAfter(c,t);const b=o.parentElement;b&&B1(e.dom,b)&&s(b),Mf.remove(o),B1(e.dom,t)&&Mf.remove(t)},a7=Xr("dd"),wE=Xr("dt"),i7=(e,t)=>{a7(t)?Vg(t,"dt"):wE(t)&&_m(t).each(o=>yE(e,o.dom,t.dom))},yP=e=>{wE(e)&&Vg(e,"dd")},l7=(e,t,o)=>{t==="Indent"?je(o,yP):je(o,s=>i7(e,s))},c7=(e,t)=>{const o=fl(cE(e)),s=fl(gP(e));let a=!1;if(o.length||s.length){const c=e.selection.getBookmark();s7(e,o,t),l7(e,t,s),e.selection.moveToBookmark(c),e.selection.setRng(lE(e.selection.getRng())),e.nodeChanged(),a=!0}return a},Nb=(e,t)=>!F8(e)&&c7(e,t),_E=e=>Nb(e,"Indent"),cC=e=>Nb(e,"Outdent"),Mb=e=>Nb(e,"Flatten"),Bb=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},d7=(e,t,o)=>{const s=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",s)},u7=(e,t)=>{it.each(t,(o,s)=>{e.setAttribute(s,o)})},m7=(e,t,o)=>{u7(t,o["list-attributes"]),it.each(e.select("li",t),s=>{u7(s,o["list-item-attributes"])})},I1=(e,t,o)=>{d7(e,t,o),m7(e,t,o)},wP=(e,t,o)=>{it.each(o,s=>e.setStyle(t,s,""))},dC=(e,t)=>He(t)&&!T2(t,e.schema.getBlockElements()),CE=(e,t,o,s)=>{let a=t[o?"startContainer":"endContainer"];const c=t[o?"startOffset":"endOffset"];oE(a)&&(a=a.childNodes[Math.min(c,a.childNodes.length-1)]||a),!o&&M1(a.nextSibling)&&(a=a.nextSibling);const d=b=>{for(;!e.dom.isBlock(b)&&b.parentNode&&s!==b;)b=b.parentNode;return b},f=(b,w)=>{var T;const R=new er(b,d(b)),N=w?"next":"prev";let F;for(;F=R[N]();)if(!(uP(e,F)||Oi(F.textContent)||((T=F.textContent)===null||T===void 0?void 0:T.length)===0))return P.some(F);return P.none()};if(o&&yu(a))if(Oi(a.textContent))a=f(a,!1).getOr(a);else for(a.parentNode!==null&&dC(e,a.parentNode)&&(a=a.parentNode);a.previousSibling!==null&&(dC(e,a.previousSibling)||yu(a.previousSibling));)a=a.previousSibling;if(!o&&yu(a))if(Oi(a.textContent))a=f(a,!0).getOr(a);else for(a.parentNode!==null&&dC(e,a.parentNode)&&(a=a.parentNode);a.nextSibling!==null&&(dC(e,a.nextSibling)||yu(a.nextSibling));)a=a.nextSibling;for(;a.parentNode!==s;){const b=a.parentNode;if(sE(e,a)||/^(TD|TH)$/.test(b.nodeName))return a;a=b}return a},n=(e,t,o)=>{const s=[],a=e.dom,c=CE(e,t,!0,o),d=CE(e,t,!1,o);let f;const b=[];for(let w=c;w&&(b.push(w),w!==d);w=w.nextSibling);return it.each(b,w=>{var T;if(sE(e,w)){s.push(w),f=null;return}if(a.isBlock(w)||M1(w)){M1(w)&&a.remove(w),f=null;return}const R=w.nextSibling;if(Q0.isBookmarkNode(w)&&(Hc(R)||sE(e,R)||!R&&w.parentNode===o)){f=null;return}f||(f=a.create("p"),(T=w.parentNode)===null||T===void 0||T.insertBefore(f,w),s.push(f)),f.appendChild(w)}),s},r=(e,t,o)=>{const s=e.getStyle(t,"list-style-type");let a=o?o["list-style-type"]:"";return a=a===null?"":a,s===a},i=(e,t)=>{const o=e.selection.getStart(!0),s=CE(e,t,!0,e.getBody());return Zl(oe.fromDom(s),oe.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:o},l=(e,t,o)=>{const s=e.selection.getRng();let a="LI";const c=R2(e,i(e,s)),d=e.dom;if(d.getContentEditable(e.selection.getNode())==="false")return;t=t.toUpperCase(),t==="DL"&&(a="DT");const f=mg(s),b=ft(n(e,s,c),e.dom.isEditable);it.each(b,w=>{let T;const R=w.previousSibling,N=w.parentNode;A2(N)||(R&&Hc(R)&&R.nodeName===t&&r(d,R,o)?(T=R,w=d.rename(w,a),R.appendChild(w)):(T=d.create(t),N.insertBefore(T,w),T.appendChild(w),w=d.rename(w,a)),wP(d,w,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),I1(d,T,o),v(e.dom,T))}),e.selection.setRng(tm(f))},u=(e,t)=>Hc(e)&&e.nodeName===t?.nodeName,m=(e,t,o)=>{const s=e.getStyle(t,"list-style-type",!0),a=e.getStyle(o,"list-style-type",!0);return s===a},p=(e,t)=>e.className===t.className,x=(e,t,o)=>u(t,o)&&m(e,t,o)&&p(t,o),v=(e,t)=>{let o,s=t.nextSibling;if(x(e,t,s)){const a=s;for(;o=a.firstChild;)t.appendChild(o);e.remove(a)}if(s=t.previousSibling,x(e,t,s)){const a=s;for(;o=a.lastChild;)t.insertBefore(o,t.firstChild);e.remove(a)}},_=(e,t,o,s)=>{if(t.nodeName!==o){const a=e.dom.rename(t,o);I1(e.dom,a,s),qp(e,Bb(o),a)}else I1(e.dom,t,s),qp(e,Bb(o),t)},S=(e,t,o,s)=>{if(t.classList.forEach((a,c,d)=>{a.startsWith("tox-")&&(d.remove(a),d.length===0&&t.removeAttribute("class"))}),t.nodeName!==o){const a=e.dom.rename(t,o);I1(e.dom,a,s),qp(e,Bb(o),a)}else I1(e.dom,t,s),qp(e,Bb(o),t)},k=(e,t,o,s,a)=>{const c=Hc(t);if(c&&t.nodeName===s&&!A(a)&&!N2(t))Mb(e);else{l(e,s,a);const d=mg(e.selection.getRng()),f=c?[t,...o]:o,b=c&&N2(t)?S:_;it.each(f,w=>{b(e,w,s,a)}),e.selection.setRng(tm(d))}},A=e=>"list-style-type"in e,M=(e,t,o,s)=>{if(t!==e.getBody())if(t)if(t.nodeName===o&&!A(s)&&!N2(t))Mb(e);else{const a=mg(e.selection.getRng());N2(t)&&t.classList.forEach((d,f,b)=>{d.startsWith("tox-")&&(b.remove(d),b.length===0&&t.removeAttribute("class"))}),I1(e.dom,t,s);const c=e.dom.rename(t,o);v(e.dom,c),e.selection.setRng(tm(a)),l(e,o,s),qp(e,Bb(o),c)}else l(e,o,s),qp(e,Bb(o),t)},I=(e,t,o)=>{const s=Ob(e);if(uE(e,s))return;const a=M8(e),c=te(o)?o:{};a.length>0?k(e,s,a,t,c):M(e,s,t,c)},G=(e,t,o,s)=>{let a=t.startContainer;const c=t.startOffset;if(yu(a)&&(o?c<a.data.length:c>0))return a;const d=e.schema.getNonEmptyElements();oE(a)&&(a=lg.getNode(a,c));const f=new er(a,s);o&&T8(e.dom,a)&&f.next();const b=o?f.next.bind(f):f.prev2.bind(f);for(;a=b();)if(a.nodeName==="LI"&&!a.hasChildNodes()||d[a.nodeName]||yu(a)&&a.data.length>0)return a;return null},j=(e,t)=>{const o=t.childNodes;return o.length===1&&!Hc(o[0])&&e.isBlock(o[0])},W=e=>P.from(e).map(oe.fromDom).filter(Yd).exists(t=>Qi(t)&&!$o(["details"],Ho(t))),V=(e,t)=>{j(e,t)&&W(t.firstChild)&&e.remove(t.firstChild,!0)},$=(e,t,o)=>{let s;const a=j(e,o)?o.firstChild:o;if(V(e,t),!B1(e,t,!0))for(;s=t.firstChild;)a.appendChild(s)},Y=(e,t,o)=>{let s;const a=t.parentNode;if(!D8(e,t)||!D8(e,o))return;Hc(o.lastChild)&&(s=o.lastChild),a===o.lastChild&&M1(a.previousSibling)&&e.remove(a.previousSibling);const c=o.lastChild;c&&M1(c)&&t.hasChildNodes()&&e.remove(c),B1(e,o,!0)&&Iu(oe.fromDom(o)),$(e,t,o),s&&o.appendChild(s);const f=Nr(oe.fromDom(o),oe.fromDom(t))?e.getParents(t,Hc,o):[];e.remove(t),je(f,b=>{B1(e,b)&&b!==e.getRoot()&&e.remove(b)})},J=(e,t,o)=>{Iu(oe.fromDom(o)),Y(e.dom,t,o),e.selection.setCursorLocation(o,0)},de=(e,t,o,s)=>{const a=e.dom;if(a.isEmpty(s))J(e,o,s);else{const c=mg(t);Y(a,o,s),e.selection.setRng(tm(c))}},ce=(e,t,o,s)=>{const a=mg(t);Y(e.dom,o,s);const c=tm(a);e.selection.setRng(c)},he=(e,t)=>{const o=e.dom,s=e.selection,a=s.getStart(),c=sC(e,a),d=o.getParent(s.getStart(),"LI",c);if(d){const f=d.parentElement;if(f===e.getBody()&&B1(o,f))return!0;const b=lE(s.getRng()),w=o.getParent(G(e,b,t,c),"LI",c),T=w&&(t?o.isChildOf(d,w):o.isChildOf(w,d));if(w&&w!==d&&!T)return e.undoManager.transact(()=>{t?de(e,b,w,d):nE(d)?cC(e):ce(e,b,d,w)}),!0;if(T&&!t&&w!==d){const R=b.commonAncestorContainer.parentElement;return!R||o.isChildOf(w,R)?!1:(e.undoManager.transact(()=>{const N=mg(b);$(o,R,w),R.remove();const F=tm(N);e.selection.setRng(F)}),!0)}else if(!w&&!t&&b.startOffset===0&&b.endOffset===0)return e.undoManager.transact(()=>{Mb(e)}),!0}return!1},Ne=(e,t,o)=>{const s=e.getParent(t.parentNode,e.isBlock,o);e.remove(t),s&&e.isEmpty(s)&&e.remove(s)},$e=(e,t)=>{const o=e.dom,s=e.selection.getStart(),a=sC(e,s),c=o.getParent(s,o.isBlock,a);if(c&&o.isEmpty(c,void 0,{checkRootAsContent:!0})){const d=lE(e.selection.getRng()),f=G(e,d,t,a),b=o.getParent(f,"LI",a);if(f&&b){const w=F=>$o(["td","th","caption"],Ho(F)),T=F=>F.dom===a,R=Li(oe.fromDom(b),w,T),N=Li(oe.fromDom(d.startContainer),w,T);return Tu(R,N,tn)?(e.undoManager.transact(()=>{const F=b.parentNode;Ne(o,c,a),v(o,F),e.selection.select(f,!0),e.selection.collapse(t)}),!0):!1}}return!1},Ue=(e,t)=>he(e,t)||$e(e,t),qe=e=>{const t=e.selection.getStart(),o=sC(e,t),s=e.dom.getParent(t,"LI,DT,DD",o);return He(s)||nC(e).length>0},lt=e=>qe(e)?(e.undoManager.transact(()=>{let t=!0;const o=()=>t=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),t&&e.dispatch("input"),iE(e.dom,e.getBody())}),!0):!1,Wt=(e,t)=>{const o=e.selection;return!uE(e,o.getNode())&&(o.isCollapsed()?Ue(e,t):lt(e))},eo=(e,t)=>({block:e,position:t}),no=(e,t)=>({from:e,to:t}),Po=(e,t)=>{const o=oe.fromDom(e),s=oe.fromDom(t.container());return db(o,s).map(a=>eo(a,t))},Tn=e=>!(Nr(e.to.block,e.from.block)||Nr(e.from.block,e.to.block)),es=e=>!tn(e.from.block,e.to.block),ro=(e,t)=>Li(t,a=>Gm(a)||xi(a.dom),a=>tn(a,e)).filter(dr).getOr(e),zn=(e,t)=>{const o=oe.fromDom(e);return tn(ro(o,t.from.block),ro(o,t.to.block))},po=e=>Kn(e.from.block.dom)===!1&&Kn(e.to.block.dom)===!1,bs=e=>{const t=o=>jh(o)||oa(o.dom)||du(o);return t(e.from.block)&&t(e.to.block)},Sn=(e,t,o,s)=>Ns(s.position.getNode())&&!Ta(e,s.block)?kp(!1,s.block.dom).bind(a=>a.isEqual(s.position)?Ic(o,t,a).bind(c=>Po(t,c)):P.some(s)).getOr(s):s,la=(e,t,o,s)=>{const a=Po(t,Ge.fromRangeStart(s)),c=a.bind(d=>Ic(o,t,d.position).bind(f=>Po(t,f).map(b=>Sn(e,t,o,b))));return Es(a,c,no).filter(d=>es(d)&&zn(t,d)&&po(d)&&bs(d)&&Tn(d))},ls=(e,t,o,s)=>s.collapsed?la(e,t,o,s):P.none(),Tl=(e,t)=>{const o=on(e);return Rs(o,s=>t.isBlock(Ho(s))).fold(ut(o),s=>o.slice(0,s))},ci=(e,t)=>{const o=Tl(e,t);return je(o,ds),o},Zi=(e,t,o)=>{const s=dg(o,t);return Cn(s.reverse(),a=>Ta(e,a)).each(ds)},Bf=(e,t)=>ft(ws(t),o=>!Ta(e,o)).length===0,Ib=(e,t,o,s,a)=>{if(Ta(s,o))return Nc(o),un(o.dom);Bf(s,a)&&Ta(s,t)&&ta(a,oe.fromTag("br"));const c=tc(o.dom,Ge.before(a.dom));return je(ci(t,s),d=>{ta(a,d)}),Zi(s,e,t),c},uC=(e,t)=>e.isInline(Ho(t)),im=(e,t,o,s)=>{if(Ta(s,o)){if(Ta(s,t)){const d=mn((f=>{const b=(w,T)=>zl(w).fold(()=>T,R=>uC(s,R)?b(R,T.concat(ld(R))):T);return b(f,[])})(o),(f,b)=>(xr(f,b),b),cf());Iu(t),dn(t,d)}return ds(o),un(t.dom)}const a=kl(o.dom);return je(ci(t,s),c=>{dn(o,c)}),Zi(s,e,t),a},P1=(e,t)=>{const o=dg(t,e);return P.from(o[o.length-1])},vg=(e,t)=>Nr(t,e)?P1(t,e):P.none(),L1=(e,t)=>{kp(e,t.dom).bind(o=>P.from(o.getNode())).map(oe.fromDom).filter(_d).each(ds)},F1=(e,t,o,s)=>(L1(!0,t),L1(!1,o),vg(t,o).fold(Ve(im,e,t,o,s),Ve(Ib,e,t,o,s))),If=(e,t,o,s,a)=>t?F1(e,s,o,a):F1(e,o,s,a),Kp=(e,t)=>{const o=oe.fromDom(e.getBody());return ls(e.schema,o.dom,t,e.selection.getRng()).map(a=>()=>{If(o,t,a.from.block,a.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},z1=(e,t,o)=>{const s=t.getRng();return Es(db(e,oe.fromDom(s.startContainer)),db(e,oe.fromDom(s.endContainer)),(a,c)=>tn(a,c)?P.none():P.some(()=>{s.deleteContents(),If(e,!0,a,c,o).each(d=>{t.setRng(d.toRange())})})).getOr(P.none())},Pb=(e,t)=>{const o=oe.fromDom(t),s=Ve(tn,e);return ni(o,Gm,s).isSome()},B2=(e,t)=>Pb(e,t.startContainer)||Pb(e,t.endContainer),Lb=(e,t)=>{const o=tc(e.dom,Ge.fromRangeStart(t)).isNone(),s=Cl(e.dom,Ge.fromRangeEnd(t)).isNone();return!B2(e,t)&&o&&s},Yp=e=>P.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),hn=e=>{const t=oe.fromDom(e.getBody()),o=e.selection.getRng();return Lb(t,o)?Yp(e):z1(t,e.selection,e.schema)},Vc=(e,t)=>e.selection.isCollapsed()?P.none():hn(e),ki=(e,t,o,s,a)=>P.from(t._selectionOverrides.showCaret(e,o,s,a)),g7=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Fb=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?P.none():P.some(g7(t)),kE=(e,t,o)=>{const s=ow(1,e.getBody(),t),a=Ge.fromRangeStart(s),c=a.getNode();if(U0(c))return ki(1,e,c,!a.isAtEnd(),!1);const d=a.getNode(!0);if(U0(d))return ki(1,e,d,!1,!1);const f=Ip(e.dom.getRoot(),a.getNode());return U0(f)?ki(1,e,f,!1,o):P.none()},mC=(e,t,o)=>t.collapsed?kE(e,t,o).getOr(t):t,gC=e=>cg(e)||Op(e),fC=e=>Ju(e)||u1(e),Pf=(e,t)=>{mt(t)&&t.data.length===0&&e.remove(t)},H1=(e,t,o,s,a,c)=>{ki(s,e,c.getNode(!a),a,!0).each(d=>{if(t.collapsed){const f=t.cloneRange();a?f.setEnd(d.startContainer,d.startOffset):f.setStart(d.endContainer,d.endOffset),f.deleteContents()}else t.deleteContents();e.selection.setRng(d)}),Pf(e.dom,o)},SE=(e,t)=>{const o=e.selection.getRng();if(!mt(o.commonAncestorContainer))return P.none();const s=t?1:-1,a=Xu(e.getBody()),c=Ve(Ok,t?a.next:a.prev),d=t?gC:fC,f=W0(s,e.getBody(),o),b=c(f),w=b&&kr(t,b);if(!w||!nw(f,w))return P.none();if(d(w))return P.some(()=>H1(e,o,f.getNode(),s,t,w));const T=c(w);return T&&d(T)&&nw(w,T)?P.some(()=>H1(e,o,f.getNode(),s,t,T)):P.none()},I2=(e,t)=>SE(e,t),EE=(e,t)=>{const o=e.getBody();return t?un(o).filter(cg):kl(o).filter(Ju)},zb=e=>{const t=e.selection.getRng();return!t.collapsed&&(EE(e,!0).exists(o=>o.isEqual(Ge.fromRangeStart(t)))||EE(e,!1).exists(o=>o.isEqual(Ge.fromRangeEnd(t))))},pC=e=>He(e)&&(Gm(oe.fromDom(e))||du(oe.fromDom(e))),$c=ll.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),P2=(e,t)=>{const o=t.getNode(!e),s=e?"after":"before";return jt(o)&&o.getAttribute("data-mce-caret")===s},_P=(e,t,o,s,a)=>{const c=d=>a.isInline(d.nodeName.toLowerCase())&&!tg(o,s,e);return Dk(!t,o).fold(()=>Dk(t,s).fold(_o,c),c)},Si=(e,t,o,s,a)=>{const c=a.getNode(!o);return db(oe.fromDom(t),oe.fromDom(s.getNode())).map(d=>Ta(e,d)?$c.remove(d.dom):$c.moveToElement(c)).orThunk(()=>P.some($c.moveToElement(c)))},V1=(e,t,o,s)=>Ic(t,e,o).bind(a=>pC(a.getNode())||_P(e,t,o,a,s)?P.none():t&&Kn(a.getNode())||!t&&Kn(a.getNode(!0))?Si(s,e,t,o,a):t&&Ju(o)||!t&&cg(o)?P.some($c.moveToPosition(a)):P.none()),CP=(e,t)=>Qo(t)?P.none():e&&Kn(t.nextSibling)?P.some($c.moveToElement(t.nextSibling)):!e&&Kn(t.previousSibling)?P.some($c.moveToElement(t.previousSibling)):P.none(),f7=(e,t,o)=>o.fold(s=>P.some($c.remove(s)),s=>P.some($c.moveToElement(s)),s=>tg(t,s,e)?P.none():P.some($c.moveToPosition(s))),AE=(e,t,o,s)=>P2(t,o)?CP(t,o.getNode(!t)).orThunk(()=>V1(e,t,o,s)):V1(e,t,o,s).bind(a=>f7(e,o,a)),p7=(e,t,o,s)=>{const a=ow(t?1:-1,e,o),c=Ge.fromRangeStart(a),d=oe.fromDom(e);return!t&&Ju(c)?P.some($c.remove(c.getNode(!0))):t&&cg(c)?P.some($c.remove(c.getNode())):!t&&cg(c)&&Nv(d,c,s)?C4(d,c,s).map(f=>$c.remove(f.getNode())):t&&Ju(c)&&Bw(d,c,s)?FT(d,c,s).map(f=>$c.remove(f.getNode())):AE(e,t,c,s)},h7=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),fu(e,t,oe.fromDom(o)),!0),yg=(e,t)=>o=>{const s=t?Ge.before(o):Ge.after(o);return e.selection.setRng(s.toRange()),!0},Hb=e=>t=>(e.selection.setRng(t.toRange()),!0),TE=(e,t)=>P.from(Ip(e.getBody(),t)),b7=(e,t)=>{const o=e.selection.getNode();return TE(e,o).filter(Kn).fold(()=>p7(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(h7(e,t),yg(e,t),Hb(e))),()=>P.some(Ro))},DE=e=>{je(qr(e,".mce-offscreen-selection"),ds)},x7=(e,t)=>{const o=e.selection.getNode();return Kn(o)&&!Kg(o)?TE(e,o.parentNode).filter(Kn).fold(()=>P.some(()=>{DE(oe.fromDom(e.getBody())),fu(e,t,oe.fromDom(e.selection.getNode())),Fv(e)}),()=>P.some(Ro)):zb(e)?P.some(()=>{QT(e,e.selection.getRng(),oe.fromDom(e.getBody()))}):P.none()},wg=e=>{const t=e.dom,o=e.selection,s=Ip(e.getBody(),o.getNode());if(xi(s)&&t.isBlock(s)&&t.isEmpty(s)){const a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(a),o.setRng(Ge.before(a).toRange())}return!0},hC=(e,t)=>e.selection.isCollapsed()?b7(e,t):x7(e,t),bC=(e,t)=>{var o;const s=e.dom,a=s.getParent(e.selection.getStart(),s.isBlock),c=s.getParent(e.selection.getEnd(),s.isBlock),d=e.getBody();if(((o=a?.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&a&&c&&a===d.firstChild&&c===d.lastChild&&!s.isEmpty(d)){const b=a.cloneNode(!1),w=()=>{if(t?ug(e):$w(e),d.firstChild!==a){const T=mg(e.selection.getRng(),()=>document.createElement("span"));Array.from(d.childNodes).forEach(R=>b.appendChild(R)),d.appendChild(b),e.selection.setRng(tm(T))}};return P.some(w)}return P.none()},v7=(e,t)=>{const o=Ge.fromRangeStart(e.selection.getRng());return Ic(t,e.getBody(),o).filter(s=>t?OT(s):RT(s)).bind(s=>rl(t?0:-1,s)).map(s=>()=>e.selection.select(s))},xC=(e,t)=>e.selection.isCollapsed()?v7(e,t):P.none(),Vb=mt,Me=e=>Vb(e)&&e.data[0]===Hr,Lo=e=>Vb(e)&&e.data[e.data.length-1]===Hr,xo=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Hr)},Cs=e=>{var t;if(Vb(e.previousSibling))return Lo(e.previousSibling)||e.previousSibling.appendData(Hr),e.previousSibling;if(Vb(e))return Me(e)||e.insertData(0,Hr),e;{const o=xo(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},Ys=e=>{var t,o;if(Vb(e.nextSibling))return Me(e.nextSibling)||e.nextSibling.insertData(0,Hr),e.nextSibling;if(Vb(e))return Lo(e)||e.appendData(Hr),e;{const s=xo(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(s),s}},jn=(e,t)=>e?Cs(t):Ys(t),Ei=Ve(jn,!0),Xp=Ve(jn,!1),lm=(e,t)=>mt(e.container())?jn(t,e.container()):jn(t,e.getNode()),vC=(e,t)=>{const o=t.get();return o&&e.container()===o&&Km(o)},ji=(e,t)=>t.fold(o=>{wp(e.get());const s=Ei(o);return e.set(s),P.some(Ge(s,s.length-1))},o=>un(o).map(s=>{if(vC(s,e)){const a=e.get();return Ge(a,1)}else{wp(e.get());const a=lm(s,!0);return e.set(a),Ge(a,1)}}),o=>kl(o).map(s=>{if(vC(s,e)){const a=e.get();return Ge(a,a.length-1)}else{wp(e.get());const a=lm(s,!1);return e.set(a),Ge(a,a.length-1)}}),o=>{wp(e.get());const s=Xp(o);return e.set(s),P.some(Ge(s,1))}),OE=(e,t)=>{for(let o=0;o<e.length;o++){const s=e[o].apply(null,t);if(s.isSome())return s}return P.none()},Wi=ll.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),nF=(e,t)=>{const o=_p(t,e);return o||e},E$=(e,t,o)=>{const s=cb(o),a=nF(t,s.container());return Bp(e,a,s).fold(()=>Cl(a,s).bind(Ve(Bp,e,a)).map(c=>Wi.before(c)),P.none)},A$=(e,t)=>Qh(e,t)===null,sF=(e,t,o)=>Bp(e,t,o).filter(Ve(A$,t)),T$=(e,t,o)=>{const s=V4(o);return sF(e,t,s).bind(a=>tc(a,s).isNone()?P.some(Wi.start(a)):P.none())},D$=(e,t,o)=>{const s=cb(o);return sF(e,t,s).bind(a=>Cl(a,s).isNone()?P.some(Wi.end(a)):P.none())},O$=(e,t,o)=>{const s=V4(o),a=nF(t,s.container());return Bp(e,a,s).fold(()=>tc(a,s).bind(Ve(Bp,e,a)).map(c=>Wi.after(c)),P.none)},rF=e=>!H4(kP(e)),Qp=(e,t,o)=>OE([E$,T$,D$,O$],[e,t,o]).filter(rF),kP=e=>e.fold(_n,_n,_n,_n),aF=e=>e.fold(ut("before"),ut("start"),ut("end"),ut("after")),y7=e=>e.fold(Wi.before,Wi.before,Wi.after,Wi.after),SP=e=>e.fold(Wi.start,Wi.start,Wi.end,Wi.end),R$=(e,t)=>aF(e)===aF(t)&&kP(e)===kP(t),N$=(e,t,o,s,a,c)=>Es(Bp(t,o,s),Bp(t,o,a),(d,f)=>d!==f&&fM(o,d,f)?Wi.after(e?d:f):c).getOr(c),M$=(e,t)=>e.fold(Uo,o=>!R$(o,t)),B$=(e,t,o,s,a)=>{const c=kr(e,a);return Ic(e,o,c).map(Ve(kr,e)).fold(()=>s.map(y7),b=>Qp(t,o,b).map(Ve(N$,e,t,o,c,b)).filter(Ve(M$,s))).filter(rF)},I$=(e,t)=>e?t.fold(Hn(P.some,Wi.start),P.none,Hn(P.some,Wi.after),P.none):t.fold(P.none,Hn(P.some,Wi.before),P.none,Hn(P.some,Wi.end)),P$=(e,t,o,s)=>{const a=kr(e,s),c=Qp(t,o,a);return Qp(t,o,a).bind(Ve(I$,e)).orThunk(()=>B$(e,t,o,c,s))},L$=e=>so(e.selection.getSel().modify),iF=(e,t,o)=>{const s=e?1:-1;return t.setRng(Ge(o.container(),o.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},F$=(e,t)=>{const o=t.selection.getRng(),s=e?Ge.fromRangeEnd(o):Ge.fromRangeStart(o);return L$(t)?e&&fp(s)?iF(!0,t.selection,s):!e&&pp(s)?iF(!1,t.selection,s):!1:!1};var Jp;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Jp||(Jp={}));const w7=(e,t)=>e===-1?ua(t):t,z$=(e,t,o)=>e===1?t.next(o):t.prev(o),H$=(e,t,o,s)=>Ns(s.getNode(t===1))?Jp.Br:tg(o,s)===!1?Jp.Block:Jp.Wrap,lF=(e,t,o,s)=>{const a=Xu(o);let c=s;const d=[];for(;c;){const f=z$(t,a,c);if(!f)break;if(Ns(f.getNode(!1)))return t===1?{positions:w7(t,d).concat([f]),breakType:Jp.Br,breakAt:P.some(f)}:{positions:w7(t,d),breakType:Jp.Br,breakAt:P.some(f)};if(!f.isVisible()){c=f;continue}if(e(c,f)){const b=H$(o,t,c,f);return{positions:w7(t,d),breakType:b,breakAt:P.some(f)}}d.push(f),c=f}return{positions:w7(t,d),breakType:Jp.Eol,breakAt:P.none()}},cF=(e,t,o,s)=>t(o,s).breakAt.map(a=>{const c=t(o,a).positions;return e===-1?c.concat(a):[a].concat(c)}).getOr([]),EP=(e,t)=>zo(e,(o,s)=>o.fold(()=>P.some(s),a=>Es(qn(a.getClientRects()),qn(s.getClientRects()),(c,d)=>{const f=Math.abs(t-c.left);return Math.abs(t-d.left)<=f?s:a}).or(o)),P.none()),_7=(e,t)=>qn(t.getClientRects()).bind(o=>EP(e,o.left)),RE=Ve(lF,Ge.isAbove,-1),NE=Ve(lF,Ge.isBelow,1),dF=Ve(cF,-1,RE),uF=Ve(cF,1,NE),AP=(e,t)=>RE(e,t).breakAt.isNone(),TP=(e,t)=>NE(e,t).breakAt.isNone(),V$=e=>un(e).map(t=>[t].concat(NE(e,t).positions)).getOr([]),$$=e=>kl(e).map(t=>RE(e,t).positions.concat(t)).getOr([]),mF=(e,t)=>_7(dF(e,t),t),gF=(e,t)=>_7(uF(e,t),t),U$=Kn,fF=(e,t)=>Math.abs(e.left-t),pF=(e,t)=>Math.abs(e.right-t),Z$=e=>Ae(e,"node"),hF=(e,t)=>Jc(e,(o,s)=>{const a=Math.min(fF(o,t),pF(o,t)),c=Math.min(fF(s,t),pF(s,t));return c===a&&Z$(s)&&U$(s.node)||c<a?s:o}),j$=e=>{const t=o=>Mo(o,s=>{const a=g(s);return a.node=e,a});if(jt(e))return t(e.getClientRects());if(mt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},bF=e=>ar(e,j$);var L2;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(L2||(L2={}));const W$=(e,t,o,s)=>{let a=s;for(;a=lv(a,e,Na,t);)if(o(a))return},xF=(e,t,o,s,a,c)=>{let d=0;const f=[],b=R=>{let N=bF([R]);e===L2.Up&&(N=N.reverse());for(let F=0;F<N.length;F++){const ee=N[F];if(!o(ee,w)){if(f.length>0&&t(ee,Z(f))&&d++,ee.line=d,a(ee))return!0;f.push(ee)}}return!1},w=Z(c.getClientRects());if(!w)return f;const T=c.getNode();return T&&(b(T),W$(e,s,b,T)),f},q$=(e,t)=>t.line>e,G$=(e,t)=>t.line===e,K$=Ve(xF,L2.Up,D,O),Y$=Ve(xF,L2.Down,O,D),vF=e=>Z(e.getClientRects()),X$=(e,t,o,s)=>{const a=Xu(t);let c,d,f,b;const w=[];let T=0;e===L2.Down?(c=a.next,d=O,f=D,b=Ge.after(s)):(c=a.prev,d=D,f=O,b=Ge.before(s));const R=vF(b);do{if(!b.isVisible())continue;const N=vF(b);if(f(N,R))continue;w.length>0&&d(N,Z(w))&&T++;const F=g(N);if(F.position=b,F.line=T,o(F))return w;w.push(F)}while(b=c(b));return w},yF=e=>t=>q$(e,t),DP=e=>t=>G$(e,t),eh=(e,t)=>{e.selection.setRng(t),Ev(e,e.selection.getRng())},OP=(e,t,o)=>P.some(mC(e,t,o)),wF=(e,t,o,s,a,c)=>{const d=t===1,f=Xu(e.getBody()),b=Ve(Ok,d?f.next:f.prev),w=d?s:a;if(!o.collapsed){const ee=be(o);if(c(ee))return ki(t,e,ee,t===-1,!1);if(zb(e)){const X=o.cloneRange();return X.collapse(t===-1),P.from(X)}}const T=W0(t,e.getBody(),o);if(w(T))return Fb(e,T.getNode(!d));let R=b(T);const N=Yx(o);if(R)R=kr(d,R);else return N?P.some(o):P.none();if(w(R))return ki(t,e,R.getNode(!d),d,!1);const F=b(R);return F&&w(F)&&nw(R,F)?ki(t,e,F.getNode(!d),d,!1):N?OP(e,R.toRange(),!1):P.none()},_F=(e,t,o,s,a,c)=>{const d=W0(t,e.getBody(),o),f=Z(d.getClientRects()),b=t===L2.Down,w=e.getBody();if(!f)return P.none();if(zb(e)){const K=b?Ge.fromRangeEnd(o):Ge.fromRangeStart(o);return(b?gF:mF)(w,K).orThunk(()=>P.from(K)).map(xe=>xe.toRange())}const R=(b?Y$:K$)(w,yF(1),d),N=ft(R,DP(1)),F=f.left,ee=hF(N,F);if(ee&&c(ee.node)){const K=Math.abs(F-ee.left),ve=Math.abs(F-ee.right);return ki(t,e,ee.node,K<ve,!1)}let X;if(s(d)?X=d.getNode():a(d)?X=d.getNode(!0):X=be(o),X){const K=X$(t,w,yF(1),X);let ve=hF(ft(K,DP(1)),F);if(ve||(ve=Z(ft(K,DP(0))),ve))return OP(e,ve.position.toRange(),!1)}return N.length===0?RP(e,b).filter(b?a:s).map(K=>mC(e,K.toRange(),!1)):P.none()},RP=(e,t)=>{const o=e.selection.getRng(),s=t?Ge.fromRangeEnd(o):Ge.fromRangeStart(o),a=wi(s.container(),e.getBody());if(t){const c=NE(a,s);return Vs(c.positions)}else{const c=RE(a,s);return qn(c.positions)}},CF=(e,t,o)=>RP(e,t).filter(o).exists(s=>(e.selection.setRng(s.toRange()),!0)),C7=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},kF=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},SF=(e,t,o)=>ji(t,o).map(s=>(C7(e,s),o)),Q$=(e,t,o)=>{const s=Ge.fromRangeStart(e);if(e.collapsed)return s;{const a=Ge.fromRangeEnd(e);return o?tc(t,a).getOr(a):Cl(t,s).getOr(s)}},J$=(e,t,o)=>{const s=e.getBody(),a=Q$(e.selection.getRng(),s,o),c=Ve(Ef,e);return P$(o,c,s,a).bind(f=>SF(e,t,f))},eU=(e,t,o)=>{const s=Mo(qr(oe.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),d=>d.dom),a=ft(s,e),c=ft(o,e);je(Ol(a,c),Ve(kF,!1)),je(Ol(c,a),Ve(kF,!0))},tU=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const s=Ge.fromRangeStart(e.selection.getRng());Ge.isTextPosition(s)&&!em(s)&&(C7(e,Jy(o,s)),t.set(null))}},oU=(e,t,o,s)=>{if(t.selection.isCollapsed()){const a=ft(s,e);je(a,c=>{const d=Ge.fromRangeStart(t.selection.getRng());Qp(e,t.getBody(),d).bind(f=>SF(t,o,f))})}},EF=(e,t,o)=>ec(e)?J$(e,t,o).isSome():!1,AF=(e,t,o)=>ec(t)?F$(e,t):!1,nU=e=>{const t=$n(null),o=Ve(Ef,e);return e.on("NodeChange",s=>{ec(e)&&(eU(o,e.dom,s.parents),tU(e,t),oU(o,e,t,s.parents))}),t},sU=Ve(AF,!0),rU=Ve(AF,!1),k7=(e,t,o)=>{if(ec(e)){const s=RP(e,t).getOrThunk(()=>{const a=e.selection.getRng();return t?Ge.fromRangeEnd(a):Ge.fromRangeStart(a)});return Qp(Ve(Ef,e),e.getBody(),s).exists(a=>{const c=y7(a);return ji(o,c).exists(d=>(C7(e,d),!0))})}else return!1},aU=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},iU=e=>Es(un(e),kl(e),(t,o)=>{const s=kr(!0,t),a=kr(!1,o);return Cl(e,s).forall(c=>c.isEqual(a))}).getOr(!0),TF=(e,t)=>o=>ji(t,o).map(s=>()=>C7(e,s)),DF=(e,t,o,s)=>{const a=e.getBody(),c=Ve(Ef,e);e.undoManager.ignore(()=>{e.selection.setRng(aU(o,s)),$w(e),Qp(c,a,Ge.fromRangeStart(e.selection.getRng())).map(SP).bind(TF(e,t)).each(Co)}),e.nodeChanged()},lU=(e,t)=>{const o=_p(t,e);return o||e},cU=(e,t,o,s)=>{const a=lU(e.getBody(),s.container()),c=Ve(Ef,e),d=Qp(c,a,s);return d.bind(b=>o?b.fold(ut(P.some(SP(b))),P.none,ut(P.some(y7(b))),P.none):b.fold(P.none,ut(P.some(y7(b))),P.none,ut(P.some(SP(b))))).map(TF(e,t)).getOrThunk(()=>{const b=q0(o,a,s),w=b.bind(T=>Qp(c,a,T));return Es(d,w,()=>Bp(c,a,s).bind(T=>iU(T)?P.some(()=>{fu(e,o,oe.fromDom(T))}):P.none())).getOrThunk(()=>w.bind(()=>b.map(T=>()=>{o?DF(e,t,s,T):DF(e,t,T,s)})))})},NP=(e,t,o)=>{if(e.selection.isCollapsed()&&ec(e)){const s=Ge.fromRangeStart(e.selection.getRng());return cU(e,t,o,s)}return P.none()},dU=e=>Yf(e)>1,OF=(e,t)=>{const o=oe.fromDom(e.getBody()),s=oe.fromDom(e.selection.getStart()),a=dg(s,o);return Rs(a,t).fold(ut(a),c=>a.slice(0,c))},uU=e=>Yf(e)===1,mU=e=>OF(e,t=>e.schema.isBlock(Ho(t))||dU(t)),gU=e=>OF(e,t=>e.schema.isBlock(Ho(t))),RF=(e,t)=>{const o=Ve(r_,e);return ar(t,s=>o(s)?[s.dom]:[])},MP=e=>{const t=gU(e);return RF(e,t)},fU=(e,t,o,s)=>{const a=RF(t,s);if(a.length===0)fu(t,e,o);else{const c=s_(o.dom,a);t.selection.setRng(c.toRange())}},pU=(e,t)=>{const o=ft(mU(e),uU);return Vs(o).bind(s=>{const a=Ge.fromRangeStart(e.selection.getRng());return XT(t,a,s.dom)&&!bw(s)?P.some(()=>fU(t,e,s,o)):P.none()})},hU=(e,t)=>{const o=t.parentElement;return Ns(t)&&!ln(o)&&e.dom.isEmpty(o)},bU=e=>bw(oe.fromDom(e)),NF=(e,t)=>{const o=e.selection.getStart(),s=hU(e,o)||bU(o)?s_(o,t):h1(e.selection.getRng(),t);e.selection.setRng(s.toRange())},MF=(e,t)=>{const o=Ol(t,MP(e));o.length>0&&NF(e,o)},BF=e=>mt(e.startContainer),xU=e=>e.startOffset===0&&BF(e),vU=(e,t)=>{const o=t.startContainer.parentElement;return!ln(o)&&r_(e,oe.fromDom(o))},yU=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ln(t)&&!ln(o)&&t.isEqualNode(o)},wU=e=>{const t=e.endContainer;return e.endOffset===(mt(t)?t.length:t.childNodes.length)},_U=e=>yU(e)&&wU(e),CU=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),kU=e=>_U(e)||CU(e),SU=e=>{const t=e.selection.getRng();return xU(t)&&vU(e,t)&&kU(t)},EU=e=>{if(SU(e)){const t=MP(e);return P.some(()=>{$w(e),MF(e,t)})}else return P.none()},BP=(e,t)=>e.selection.isCollapsed()?pU(e,t):EU(e),AU=(e,t)=>tu(e,o=>Pc(o.dom),o=>t.isBlock(Ho(o))),TU=e=>AU(oe.fromDom(e.selection.getStart()),e.schema),DU=e=>{const t=e.selection.getRng();return t.collapsed&&(BF(t)||e.dom.isEmpty(t.startContainer))&&!TU(e)},ME=e=>(DU(e)&&NF(e,[]),!0),IP=(e,t,o)=>He(o)?P.some(()=>{e._selectionOverrides.hideFakeCaret(),fu(e,t,oe.fromDom(o))}):P.none(),OU=(e,t)=>{const o=t?Op:u1,a=W0(t?1:-1,e.getBody(),e.selection.getRng());return o(a)?IP(e,t,a.getNode(!t)):P.from(kr(t,a)).filter(c=>o(c)&&nw(a,c)).bind(c=>IP(e,t,c.getNode(!t)))},RU=(e,t)=>{const o=e.selection.getNode();return vi(o)?IP(e,t,o):P.none()},PP=(e,t)=>e.selection.isCollapsed()?OU(e,t):RU(e,t),NU=e=>Li(e,t=>xi(t.dom)||Kn(t.dom)).exists(t=>xi(t.dom)),LP=e=>Du(e??"").getOr(0),IF=(e,t)=>{const o=e||Wx(t)?"margin":"padding",s=pl(t,"direction")==="rtl"?"-right":"-left";return o+s},MU=(e,t,o,s,a,c)=>{const d=IF(o,oe.fromDom(c)),f=LP(e.getStyle(c,d));if(t==="outdent"){const b=Math.max(0,f-s);e.setStyle(c,d,b?b+a:"")}else{const b=f+s+a;e.setStyle(c,d,b)}},BU=(e,t)=>Pa(t,o=>{const s=IF(lk(e),o),a=Am(o,s).map(LP).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&a>0}),PF=e=>{const t=FF(e);return!e.mode.isReadOnly()&&(t.length>1||BU(e,t))},IU=e=>!e.mode.isReadOnly()&&r7(e),LF=e=>cu(e)||du(e),PU=e=>Yi(e).exists(LF),FF=e=>ft(fl(e.selection.getSelectedBlocks()),t=>!LF(t)&&!PU(t)&&NU(t)),zF=(e,t)=>{var o,s;if(e.mode.isReadOnly())return;const{dom:a}=e,c=zR(e),d=(s=(o=/[a-z%]+$/i.exec(c))===null||o===void 0?void 0:o[0])!==null&&s!==void 0?s:"px",f=LP(c),b=lk(e);je(FF(e),w=>{MU(a,t,b,f,d,w.dom)}),t==="indent"?_E(e):cC(e)},LU=e=>zF(e,"indent"),HF=e=>zF(e,"outdent"),VF=e=>{if(e.selection.isCollapsed()&&PF(e)){const t=e.dom,o=e.selection.getRng(),s=Ge.fromRangeStart(o),a=t.getParent(o.startContainer,t.isBlock);if(a!==null&&_4(oe.fromDom(a),s,e.schema))return P.some(()=>HF(e))}return P.none()},FU=(e,t)=>{const o=bb(e.selection.getRng());return E5(o)?P.some(()=>fu(e,t,oe.fromDom(e.selection.getNode()))):P.none()},FP=(e,t)=>e.selection.isCollapsed()?P.none():FU(e,t),$F=(e,t,o)=>Ti([VF,hC,I2,(s,a)=>NP(s,t,a),Kp,p1,xC,PP,Vc,BP,bC,FP],s=>s(e,o)).filter(s=>e.selection.isEditable()),zP=(e,t)=>{$F(e,t,!1).fold(()=>{e.selection.isEditable()&&($w(e),Fv(e))},Co),qe(e)&&iE(e.dom,e.getBody())},zU=(e,t)=>{$F(e,t,!0).fold(()=>{e.selection.isEditable()&&ug(e)},Co),qe(e)&&iE(e.dom,e.getBody())},HU=(e,t)=>{e.addCommand("delete",()=>{zP(e,t)}),e.addCommand("forwardDelete",()=>{zU(e,t)})},UF=5,VU=400,ZF=e=>e.touches===void 0||e.touches.length!==1?P.none():P.some(e.touches[0]),$U=(e,t)=>{const o=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return o>UF||s>UF},UU=e=>{const t=Bl(),o=$n(!1),s=$d(a=>{e.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},VU);e.on("touchstart",a=>{ZF(a).each(c=>{s.cancel();const d={x:c.clientX,y:c.clientY,target:a.target};s.throttle(a),o.set(!1),t.set(d)})},!0),e.on("touchmove",a=>{s.cancel(),ZF(a).each(c=>{t.on(d=>{$U(c,d)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{s.cancel(),a.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},HP=(e,t)=>vo(e,t.nodeName),ZU=(e,t)=>mt(t)?!0:jt(t)?!HP(e.getBlockElements(),t)&&!Ad(t)&&!Uu(e,t)&&!Yg(t)&&!Aa(t):!1,jU=(e,t,o)=>In(y4(oe.fromDom(o),oe.fromDom(t)),s=>HP(e,s.dom)),WU=(e,t)=>{if(mt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||HP(e,t.nextSibling)||Yg(t.nextSibling)}return!1},VP=e=>e.dom.create(Za(e),F0(e)),qU=e=>{const t=e.dom,o=e.selection,s=e.schema,a=s.getBlockElements(),c=o.getStart(),d=e.getBody();let f,b,w=null;const T=Za(e);if(!c||!jt(c))return;const R=d.nodeName.toLowerCase();if(!s.isValidChild(R,T.toLowerCase())||jU(a,d,c))return;if(d.firstChild===d.lastChild&&Ns(d.firstChild)){f=VP(e),f.appendChild(cf().dom),d.replaceChild(f,d.firstChild),e.selection.setCursorLocation(f,0),e.nodeChanged();return}let N=d.firstChild;for(;N;)if(jt(N)&&ol(s,N),ZU(s,N)){if(WU(a,N)){b=N,N=N.nextSibling,t.remove(b);continue}if(!f){if(!w&&e.hasFocus()&&(w=mg(e.selection.getRng(),()=>document.createElement("span"))),!N.parentNode){N=null;break}f=VP(e),d.insertBefore(f,N)}b=N,N=N.nextSibling,f.appendChild(b)}else f=null,N=N.nextSibling;w&&(e.selection.setRng(tm(w)),e.nodeChanged())},jF=(e,t,o)=>{const s=oe.fromDom(VP(e)),a=cf();dn(s,a),o(t,s);const c=document.createRange();return c.setStartBefore(a.dom),c.setEndBefore(a.dom),c},GU=e=>{e.on("NodeChange",()=>qU(e))},WF=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,KU=(e,t,o)=>function(s){const a=arguments,c=a[a.length-2],d=c>0?t.charAt(c-1):"";if(d==='"')return s;if(d===">"){const f=t.lastIndexOf("<",c);if(f!==-1&&t.substring(f,c).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},YU=(e,t,o)=>{let s=t.length,a=o.content;if(o.format!=="raw"){for(;s--;)a=a.replace(t[s],KU(e,a,WA(e)));o.content=a}},XU=(e,t)=>Pa(e,o=>{const s=t.match(o);return s!==null&&s[0].length===t.length}),QU=e=>{const t="contenteditable",o=" "+it.trim(Ht(e))+" ",s=" "+it.trim(WA(e))+" ",a=WF(o),c=WF(s),d=Jm(e);d.length>0&&e.on("BeforeSetContent",f=>{YU(e,d,f)}),e.parser.addAttributeFilter("class",f=>{let b=f.length;for(;b--;){const w=f[b];a(w)?w.attr(t,"true"):c(w)&&w.attr(t,"false")}}),e.serializer.addAttributeFilter(t,f=>{let b=f.length;for(;b--;){const w=f[b];if(!a(w)&&!c(w))continue;const T=w.attr("data-mce-content");d.length>0&&T?XU(d,T)?(w.name="#text",w.type=3,w.raw=!0,w.value=T):w.remove():w.attr(t,null)}})},JU=e=>zs(oe.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),qF=(e,t)=>{t.hasAttribute("data-mce-caret")&&(P0(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},eZ=(e,t)=>{const o=JU(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),qF(e,o);return}Gx(o)&&(qF(e,o),e.undoManager.add())}},tZ=e=>{e.on("keyup compositionstart",Ve(eZ,e))},GF=Kn,oZ=(e,t,o)=>wF(t,e,o,cg,Ju,GF),nZ=(e,t,o)=>_F(t,e,o,c=>cg(c)||Rw(c),c=>Ju(c)||Rv(c),GF),sZ=e=>{const t=e.dom.create(Za(e));return t.innerHTML='<br data-mce-bogus="1">',t},KF=(e,t,o)=>{const s=Xu(e.getBody()),a=Ve(Ok,t===1?s.next:s.prev);if(o.collapsed){const c=e.dom.getParent(o.startContainer,"PRE");if(!c)return;if(!a(Ge.fromRangeStart(o))){const f=oe.fromDom(sZ(e));t===1?Hl(oe.fromDom(c),f):ta(oe.fromDom(c),f),e.selection.select(f.dom,!0),e.selection.collapse()}}},rZ=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return oZ(o,e,s).orThunk(()=>(KF(e,o,s),P.none()))},aZ=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return nZ(o,e,s).orThunk(()=>(KF(e,o,s),P.none()))},iZ=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return H4(o)?!t:t},YF=(e,t)=>rZ(e,iZ(e.selection,t)).exists(o=>(eh(e,o),!0)),XF=(e,t)=>aZ(e,t).exists(o=>(eh(e,o),!0)),QF=(e,t)=>CF(e,t,t?Ju:cg),S7=(e,t)=>EE(e,!t).map(o=>{const s=o.toRange(),a=e.selection.getRng();return t?s.setStart(a.startContainer,a.startOffset):s.setEnd(a.endContainer,a.endOffset),s}).exists(o=>(eh(e,o),!0)),JF=(e,t)=>{const o=d=>tn(d,t),s=d=>xi(d.dom),a=oe.fromDom(e.container());return Li(a,s,o).filter(d=>!o(d))},lZ=(e,t,o)=>(o?gF:mF)(e.getBody(),t).map(a=>a.toRange()),cZ=(e,t)=>{const o=Ge.fromRangeStart(e.selection.getRng()),s=Ge.fromRangeEnd(e.selection.getRng()),a=oe.fromDom(e.getBody());return Ft(Es(JF(o,a),JF(s,a),(d,f)=>tn(d,f)?P.some(d):P.none())).fold(_o,d=>t&&TP(d.dom,s)||!t&&AP(d.dom,o)?lZ(e,t?s:o,t).exists(f=>(eh(e,f),!0)):!1)},e9=(e,t)=>cZ(e,t),dZ=e=>$o(["figcaption"],Ho(e)),uZ=(e,t,o)=>{const s=Ve(tn,t);return Li(oe.fromDom(e.container()),a=>o.isBlock(Ho(a)),s).filter(dZ)},mZ=(e,t,o)=>t?TP(e.dom,o):AP(e.dom,o),gZ=(e,t)=>{const o=oe.fromDom(e.getBody()),s=Ge.fromRangeStart(e.selection.getRng());return uZ(s,o,e.schema).exists(()=>{if(mZ(o,t,s)){const c=jF(e,o,t?dn:xc);return e.selection.setRng(c),!0}else return!1})},t9=(e,t)=>e.selection.isCollapsed()?gZ(e,t):!1,fZ=(e,t,o)=>{const s=e.selection.getRng(),a=Ge.fromRangeStart(s);return e.getBody().firstChild===t&&AP(o,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},pZ=(e,t)=>{const o=e.selection.getRng(),s=Ge.fromRangeStart(o);return e.getBody().lastChild===t&&TP(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},hZ=(e,t)=>t?P.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>pZ(e,o)).getOr(!1):P.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>P.from(e.dom.getParent(o,"details")).map(s=>fZ(e,s,o))).getOr(!1),o9=(e,t)=>hZ(e,t),n9={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},bZ=e=>Mo(e,t=>({...n9,...t})),xZ=e=>Mo(e,t=>({...n9,...t})),s9=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,vZ=(e,t)=>ar(bZ(e),o=>s9(o,t)?[o]:[]),yZ=(e,t)=>ar(xZ(e),o=>s9(o,t)?[o]:[]),yo=(e,...t)=>()=>e.apply(null,t),BE=(e,t)=>Cn(vZ(e,t),o=>o.action()),r9=(e,t)=>Ti(yZ(e,t),o=>o.action()),a9=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return wF(e,o,s,Op,u1,vi).exists(a=>(eh(e,a),!0))},i9=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return _F(e,o,s,Op,u1,vi).exists(a=>(eh(e,a),!0))},l9=(e,t)=>CF(e,t,t?u1:Op),wZ=(e,t)=>c9(e,t,Uo),c9=(e,t,o)=>ar(on(e),s=>Pn(s,t)?o(s)?[s]:[]:c9(s,t,o)),_Z=(e,t,o=_o)=>{if(o(t))return P.none();if($o(e,Ho(t)))return P.some(t);const s=a=>Pn(a,"table")||o(a);return qs(t,e.join(","),s)},CZ=(e,t)=>_Z(["td","th"],e,t),kZ=e=>wZ(e,"th,td"),d9=(e,t)=>ud(e,"table",t),u9=ll.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),IE={...u9,none:e=>u9.none(e)},$P=(e,t,o,s,a=Uo)=>{const c=s===1;if(!c&&o<=0)return IE.first(e[0]);if(c&&o>=e.length-1)return IE.last(e[e.length-1]);{const d=o+s,f=e[d];return a(f)?IE.middle(t,f):$P(e,t,d,s,a)}},m9=(e,t)=>d9(e,t).bind(o=>{const s=kZ(o);return Rs(s,c=>tn(e,c)).map(c=>({index:c,all:s}))}),SZ=(e,t,o)=>m9(e,o).fold(()=>IE.none(e),a=>$P(a.all,e,a.index,1,t)),EZ=(e,t,o)=>m9(e,o).fold(()=>IE.none(),a=>$P(a.all,e,a.index,-1,t));var AZ=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],TZ=()=>{const e=w=>oe.fromDom(w.dom.cloneNode(!1)),t=w=>hc(w).dom,o=w=>dr(w)?Ho(w)==="body"?!0:$o(AZ,Ho(w)):!1,s=w=>dr(w)?$o(["br","img","hr","input"],Ho(w)):!1,a=w=>dr(w)&&Js(w,"contenteditable")==="false",c=(w,T)=>w.dom.compareDocumentPosition(T.dom),d=(w,T)=>{const R=yc(w);Xi(T,R)},f=w=>{const T=Ho(w);return $o(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],T)},b=w=>dr(w)?vc(w,"lang"):P.none();return{up:ut({selector:qs,closest:ud,predicate:ni,all:ei}),down:ut({selector:qr,predicate:Ji}),styles:ut({get:pl,getRaw:Am,set:$g,remove:pi}),attrs:ut({get:Js,set:Wr,remove:Mr,copyTo:d}),insert:ut({before:ta,after:Hl,afterAll:fh,append:dn,appendAll:Ws,prepend:xc,wrap:xr}),remove:ut({unwrap:Mi,remove:ds}),create:ut({nu:oe.fromTag,clone:e,text:oe.fromText}),query:ut({comparePosition:c,prevSibling:Fl,nextSibling:ad}),property:ut({children:on,name:Ho,parent:Yi,document:t,isText:Ja,isComment:rx,isElement:dr,isSpecial:f,getLanguage:b,getText:dd,setText:Pi,isBoundary:o,isEmptyTag:s,isNonEditable:a}),eq:tn,is:wm}};const UP=(e,t)=>({element:e,offset:t}),g9=(e,t)=>{if(e.property().isText(t))return UP(t,e.property().getText(t).length);{const o=e.property().children(t);return o.length>0?g9(e,o[o.length-1]):UP(t,o.length)}},f9=(e,t,o)=>{const s=e.property().children(t);return s.length>0&&o<s.length?f9(e,s[o],0):s.length>0&&e.property().isElement(t)&&s.length===o?g9(e,s[s.length-1]):UP(t,o)},DZ=f9,OZ=TZ(),RZ=(e,t)=>DZ(OZ,e,t),p9=Zs("image"),NZ=e=>{const t=e;return P.from(t[p9])},MZ=(e,t)=>{const o=e;o[p9]=t},ZP=Zs("event"),BZ=e=>{const t=e;return P.from(t[ZP])},E7=e=>t=>{const o=t;o[ZP]=e},IZ=(e,t)=>E7(t)(e),h9=E7(0),PZ=E7(2),LZ=E7(1),FZ=(e=>t=>{const o=t;return P.from(o[ZP]).exists(s=>s===e)})(0),zZ=()=>Object.freeze({length:0,item:e=>null}),jP=Zs("mode"),HZ=e=>{const t=e;return P.from(t[jP])},A7=e=>t=>{const o=t;o[jP]=e},b9=(e,t)=>A7(t)(e),x9=A7(0),WP=A7(2),VZ=A7(1),v9=e=>t=>{const o=t;return P.from(o[jP]).exists(s=>s===e)},yC=v9(0),y9=v9(1),$Z=(e,t)=>({...t,get length(){return t.length},add:(o,s)=>{if(yC(e))if(Re(o)){if(!Os(s))return t.add(o,s)}else return t.add(o);return null},remove:o=>{yC(e)&&t.remove(o)},clear:()=>{yC(e)&&t.clear()}}),UZ=["none","copy","link","move"],ZZ=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],qP=()=>{const e=new window.DataTransfer;let t="move",o="all";const s={get dropEffect(){return t},set dropEffect(a){$o(UZ,a)&&(t=a)},get effectAllowed(){return o},set effectAllowed(a){FZ(s)&&$o(ZZ,a)&&(o=a)},get items(){return $Z(s,e.items)},get files(){return y9(s)?zZ():e.files},get types(){return e.types},setDragImage:(a,c,d)=>{yC(s)&&(MZ(s,{image:a,x:c,y:d}),e.setDragImage(a,c,d))},getData:a=>y9(s)?"":e.getData(a),setData:(a,c)=>{yC(s)&&e.setData(a,c)},clearData:a=>{yC(s)&&e.clearData(a)}};return x9(s),s},jZ=e=>{const t=qP(),o=HZ(e);return WP(e),h9(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,NZ(e).each(s=>t.setDragImage(s.image,s.x,s.y)),je(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),je(e.files,s=>t.items.add(s)),BZ(e).each(s=>{IZ(t,s)}),o.each(s=>{b9(e,s),b9(t,s)}),t},WZ=e=>{const t=e.getData("text/html");return t===""?P.none():P.some(t)},w9=(e,t)=>e.setData("text/html",t),qZ=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),GZ=(e,t)=>ar(t,o=>{const s=qZ(g(o.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:o},{x:s.right,y:e(s),cell:o}]}),KZ=(e,t,o)=>zo(e,(s,a)=>s.fold(()=>P.some(a),c=>{const d=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o)),f=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-o));return P.some(f<d?a:c)}),P.none()),_9=(e,t,o,s,a)=>{const c=qr(oe.fromDom(o),"td,th,caption").map(f=>f.dom),d=ft(GZ(e,c),f=>t(f,a));return KZ(d,s,a).map(f=>f.cell)},YZ=e=>e.bottom,XZ=e=>e.top,QZ=(e,t)=>e.y<t,JZ=(e,t)=>e.y>t,ej=Ve(_9,YZ,QZ),tj=Ve(_9,XZ,JZ),oj=(e,t)=>qn(t.getClientRects()).bind(o=>ej(e,o.left,o.top)).bind(o=>_7($$(o),t)),nj=(e,t)=>Vs(t.getClientRects()).bind(o=>tj(e,o.left,o.top)).bind(o=>_7(V$(o),t)),sj=(e,t,o)=>o.breakAt.exists(s=>e(t,s).breakAt.isSome()),rj=e=>e.breakType===Jp.Wrap&&e.positions.length===0,aj=e=>e.breakType===Jp.Br&&e.positions.length===1,C9=(e,t,o)=>{const s=e(t,o);return rj(s)||!Ns(o.getNode())&&aj(s)?!sj(e,t,s):s.breakAt.isNone()},ij=Ve(C9,RE),lj=Ve(C9,NE),cj=(e,t,o)=>{const s=Ge.fromRangeStart(t);return kp(!e,o).exists(a=>a.isEqual(s))},dj=(e,t,o,s)=>{const a=e.selection.getRng(),c=t?1:-1;return Ak()&&cj(t,a,o)?(ki(c,e,o,!t,!1).each(d=>{eh(e,d)}),!0):!1},uj=(e,t,o)=>oj(t,o).orThunk(()=>qn(o.getClientRects()).bind(s=>EP(dF(e,Ge.before(t)),s.left))).getOr(Ge.before(t)),mj=(e,t,o)=>nj(t,o).orThunk(()=>qn(o.getClientRects()).bind(s=>EP(uF(e,Ge.after(t)),s.left))).getOr(Ge.after(t)),k9=(e,t)=>{const o=t.getNode(e);return Ac(o)?P.some(o):P.none()},gj=(e,t,o)=>{t.undoManager.transact(()=>{const s=e?Hl:ta,a=jF(t,oe.fromDom(o),s);eh(t,a)})},S9=(e,t,o)=>{const s=k9(!!t,o),a=t===!1;s.fold(()=>eh(e,o.toRange()),c=>kp(a,e.getBody()).filter(d=>d.isEqual(o)).fold(()=>eh(e,o.toRange()),d=>gj(t,e,c)))},fj=(e,t,o,s)=>{const a=e.selection.getRng(),c=Ge.fromRangeStart(a),d=e.getBody();if(!t&&ij(s,c)){const f=uj(d,o,c);return S9(e,t,f),!0}else if(t&&lj(s,c)){const f=mj(d,o,c);return S9(e,t,f),!0}else return!1},E9=(e,t,o)=>P.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>P.from(e.dom.getParent(s,"table")).map(a=>o(e,t,a,s))).getOr(!1),A9=(e,t)=>E9(e,t,dj),GP=(e,t)=>E9(e,t,fj),pj=e=>{const t=Wl.exact(e,0,e,0);return g0(t)},hj=e=>T7(e)||Kf(e).some(t=>Yd(t)&&T7(t)),T9=(e,t,o)=>o.fold(P.none,P.none,(s,a)=>zC(a).map(c=>pj(c)),s=>e.mode.isReadOnly()||!bj(s)||!hj(s)?P.none():(e.execCommand("mceTableInsertRowAfter"),D9(e,t,s))),bj=e=>Li(e,Xr("table")).exists(Qi),D9=(e,t,o)=>T9(e,t,SZ(o,T7)),xj=(e,t,o)=>T9(e,t,EZ(o,T7)),T7=e=>Qi(e)||ri(e,vj),vj=e=>Yd(e)&&Qi(e),O9=(e,t)=>{const o=["table","li","dl"],s=oe.fromDom(e.getBody()),a=f=>{const b=Ho(f);return tn(f,s)||$o(o,b)},c=e.selection.getRng(),d=oe.fromDom(t?c.endContainer:c.startContainer);return CZ(d,a).map(f=>(d9(f,a).each(T=>{e.model.table.clearSelectedCells(T.dom)}),e.selection.collapse(!t),(t?D9:xj)(e,a,f).each(T=>{e.selection.setRng(T)}),!0)).getOr(!1)},yj=(e,t,o)=>{const s=Eo.os.isMacOS()||Eo.os.isiOS(),a=Eo.browser.isFirefox();BE([{keyCode:Lt.RIGHT,action:yo(YF,e,!0)},{keyCode:Lt.LEFT,action:yo(YF,e,!1)},{keyCode:Lt.UP,action:yo(XF,e,!1)},{keyCode:Lt.DOWN,action:yo(XF,e,!0)},...s?[{keyCode:Lt.UP,action:yo(S7,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Lt.DOWN,action:yo(S7,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Lt.RIGHT,action:yo(A9,e,!0)},{keyCode:Lt.LEFT,action:yo(A9,e,!1)},{keyCode:Lt.UP,action:yo(GP,e,!1)},{keyCode:Lt.DOWN,action:yo(GP,e,!0)},{keyCode:Lt.UP,action:yo(GP,e,!1)},{keyCode:Lt.UP,action:yo(o9,e,!1)},{keyCode:Lt.DOWN,action:yo(o9,e,!0)},{keyCode:Lt.RIGHT,action:yo(a9,e,!0)},{keyCode:Lt.LEFT,action:yo(a9,e,!1)},{keyCode:Lt.UP,action:yo(i9,e,!1)},{keyCode:Lt.DOWN,action:yo(i9,e,!0)},{keyCode:Lt.RIGHT,action:yo(EF,e,t,!0)},{keyCode:Lt.LEFT,action:yo(EF,e,t,!1)},{keyCode:Lt.RIGHT,ctrlKey:!s,altKey:s,action:yo(sU,e,t)},{keyCode:Lt.LEFT,ctrlKey:!s,altKey:s,action:yo(rU,e,t)},{keyCode:Lt.UP,action:yo(t9,e,!1)},{keyCode:Lt.DOWN,action:yo(t9,e,!0)},...a?[{keyCode:Lt.UP,action:yo(e9,e,!1)},{keyCode:Lt.DOWN,action:yo(e9,e,!0)}]:[]],o).each(c=>{o.preventDefault()})},wj=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||yj(e,t,o)})},Lf=(e,t)=>({container:e,offset:t}),D7=Nn.DOM,O7=e=>t=>e===t?-1:0,_j=e=>t=>e.isBlock(t)||$o(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",KP=(e,t,o)=>{if(mt(e)&&t>=0)return P.some(Lf(e,t));{const s=Ql(D7);return P.from(s.backwards(e,t,O7(e),o)).map(a=>Lf(a.container,a.container.data.length))}},Cj=(e,t,o)=>{if(mt(e)&&t>=e.length)return P.some(Lf(e,t));{const s=Ql(D7);return P.from(s.forwards(e,t,O7(e),o)).map(a=>Lf(a.container,0))}},YP=(e,t,o)=>{if(!mt(e))return P.none();const s=e.data;if(t>=0&&t<=s.length)return P.some(Lf(e,t));{const a=Ql(D7);return P.from(a.backwards(e,t,O7(e),o)).bind(c=>{const d=c.container.data;return YP(c.container,t+d.length,o)})}},R9=(e,t,o)=>{if(!mt(e))return P.none();const s=e.data;if(t<=s.length)return P.some(Lf(e,t));{const a=Ql(D7);return P.from(a.forwards(e,t,O7(e),o)).bind(c=>R9(c.container,t-s.length,o))}},XP=(e,t,o,s,a)=>{const c=Ql(e,_j(e));return P.from(c.backwards(t,o,s,a))},kj=e=>e.collapsed&&mt(e.startContainer),Sj=e=>Ui(e.toString().replace(/\u00A0/g," ")),N9=e=>e!==""&&`  \uFEFF\f
\r	\v`.indexOf(e)!==-1,Ej=(e,t)=>e.substring(t.length),Aj=(e,t,o,s=!1)=>{let a;const c=o.charAt(0);for(a=t-1;a>=0;a--){const d=e.charAt(a);if(!s&&N9(d))return P.none();if(c===d&&Zo(e,o,a,t))break}return P.some(a)},QP=(e,t,o,s=!1)=>{if(!kj(t))return P.none();const a={text:"",offset:0},c=(f,b,w)=>(a.text=w+a.text,a.offset+=b,Aj(a.text,a.offset,o,s).getOr(b)),d=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return XP(e,t.startContainer,t.startOffset,c,d).bind(f=>{const b=t.cloneRange();if(b.setStart(f.container,f.offset),b.setEnd(t.endContainer,t.endOffset),b.collapsed)return P.none();const w=Sj(b);return w.lastIndexOf(o)!==0?P.none():P.some({text:Ej(w,o),range:b,trigger:o})})},Tj=e=>e.nodeType===Lg,Dj=e=>e.nodeType===Gd,M9=e=>{if(Tj(e))return Lf(e,e.data.length);{const t=e.childNodes;return t.length>0?M9(t[t.length-1]):Lf(e,t.length)}},B9=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?B9(o[t],0):o.length>0&&Dj(e)&&o.length===t?M9(o[o.length-1]):Lf(e,t)},Oj=(e,t)=>{var o;const s=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return XP(e,t.container,t.offset,(a,c)=>c===0?-1:c,s).filter(a=>{const c=a.container.data.charAt(a.offset-1);return!N9(c)}).isSome()},Rj=e=>t=>{const o=B9(t.startContainer,t.startOffset);return!Oj(e,o)},Nj=(e,t,o)=>Ti(o.triggers,s=>QP(e,t,s)),Mj=(e,t)=>{const o=t(),s=e.selection.getRng();return Nj(e.dom,s,o).bind(a=>I9(e,t,a))},I9=(e,t,o,s={})=>{var a;const c=t(),f=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",b=ft(c.lookupByTrigger(o.trigger),T=>o.text.length>=T.minChars&&T.matches.getOrThunk(()=>Rj(e.dom))(o.range,f,o.text));if(b.length===0)return P.none();const w=Promise.all(Mo(b,T=>T.fetch(o.text,T.maxResults,s).then(N=>({matchText:o.text,items:N,columns:T.columns,onAction:T.onAction,highlightOn:T.highlightOn}))));return P.some({lookupData:w,context:o})};var Ff;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Ff||(Ff={}));const JP=(e,t,o)=>e.stype===Ff.Error?t(e.serror):o(e.svalue),Bj=e=>{const t=[],o=[];return je(e,s=>{JP(s,a=>o.push(a),a=>t.push(a))}),{values:t,errors:o}},Ij=(e,t)=>e.stype===Ff.Error?{stype:Ff.Error,serror:t(e.serror)}:e,Pj=(e,t)=>e.stype===Ff.Value?{stype:Ff.Value,svalue:t(e.svalue)}:e,Lj=(e,t)=>e.stype===Ff.Value?t(e.svalue):e,Fj=(e,t)=>e.stype===Ff.Error?t(e.serror):e,P9=e=>({stype:Ff.Value,svalue:e}),L9=e=>({stype:Ff.Error,serror:e}),cc={fromResult:e=>e.fold(L9,P9),toResult:e=>JP(e,$s.error,$s.value),svalue:P9,partition:Bj,serror:L9,bind:Lj,bindError:Fj,map:Pj,mapError:Ij,fold:JP},F9=e=>te(e)&&ma(e).length>100?" removed due to size":JSON.stringify(e,null,2),zj=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ut("... (only showing first ten failures)")}]):e;return Mo(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},z9=(e,t)=>cc.serror([{path:e,getErrorInfo:t}]),Hj=(e,t,o)=>z9(e,()=>'Could not find valid *required* value for "'+t+'" in '+F9(o)),Vj=(e,t)=>z9(e,ut(t)),H9=e=>{const t=(s,a)=>cc.bindError(e(a),c=>Vj(s,c)),o=ut("val");return{extract:t,toString:o}},$j=H9(cc.svalue),eL=ut($j),tL=(e,t)=>H9(o=>{const s=typeof o;return e(o)?cc.svalue(o):cc.serror(`Expected type: ${t} but got: ${s}`)}),Uj=tL(E,"number"),oL=tL(Re,"string"),V9=tL(so,"function"),$9=()=>({tag:"required",process:{}}),Zj=e=>({tag:"defaultedThunk",process:e}),U9=e=>Zj(ut(e)),Z9=()=>({tag:"option",process:{}}),jj=(e,t,o,s)=>({tag:"field",key:e,newKey:t,presence:o,prop:s}),j9=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},Wj=(e,t)=>cc.svalue(pc(t,Au.apply(void 0,e))),W9=e=>Hn(cc.serror,Gc)(e),qj={consolidateObj:(e,t)=>{const o=cc.partition(e);return o.errors.length>0?W9(o.errors):Wj(o.values,t)},consolidateArr:e=>{const t=cc.partition(e);return t.errors.length>0?W9(t.errors):cc.svalue(t.values)}},Gj=(e,t,o,s)=>An(t,o).fold(()=>Hj(e,o,t),s),q9=(e,t,o,s)=>{const a=An(e,t).getOrThunk(()=>o(e));return s(a)},Kj=(e,t,o)=>o(An(e,t)),Yj=(e,t,o,s)=>{const a=An(e,t).map(c=>c===!0?o(e):c);return s(a)},Xj=(e,t,o,s,a)=>{const c=f=>a.extract(t.concat([s]),f),d=f=>f.fold(()=>cc.svalue(P.none()),b=>{const w=a.extract(t.concat([s]),b);return cc.map(w,P.some)});switch(e.tag){case"required":return Gj(t,o,s,c);case"defaultedThunk":return q9(o,s,e.process,c);case"option":return Kj(o,s,d);case"defaultedOptionThunk":return Yj(o,s,e.process,d);case"mergeWithThunk":return q9(o,s,ut({}),f=>{const b=pc(e.process(o),f);return c(b)})}},Qj=(e,t,o)=>{const s={},a=[];for(const c of o)j9(c,(d,f,b,w)=>{const T=Xj(b,e,t,d,w);cc.fold(T,R=>{a.push(...R)},R=>{s[f]=R})},(d,f)=>{s[d]=f(t)});return a.length>0?cc.serror(a):cc.svalue(s)},G9=e=>({extract:(s,a)=>Qj(s,a,e),toString:()=>`obj{
`+Mo(e,a=>j9(a,(c,d,f,b)=>c+" -> "+b.toString(),(c,d)=>"state("+c+")")).join(`
`)+"}"}),Jj=e=>({extract:(s,a)=>{const c=Mo(a,(d,f)=>e.extract(s.concat(["["+f+"]"]),d));return qj.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),eW=(e,t,o)=>{const s=t.extract([e],o);return cc.mapError(s,a=>({input:o,errors:a}))},K9=(e,t,o)=>cc.toResult(eW(e,t,o)),Y9=e=>`Errors: 
`+zj(e.errors).join(`
`)+`

Input object: `+F9(e.input),wC=jj,tW=e=>wC(e,e,$9(),eL()),X9=(e,t)=>wC(e,e,$9(),t),Q9=e=>X9(e,oL),J9=e=>X9(e,V9),oW=e=>wC(e,e,Z9(),eL()),ez=(e,t)=>wC(e,e,Z9(),t),tz=e=>ez(e,oL),nW=e=>ez(e,V9),sW=(e,t)=>wC(e,e,U9(t),eL()),oz=(e,t,o)=>wC(e,e,U9(t),o),nz=(e,t)=>oz(e,t,Uj),rW=(e,t,o)=>oz(e,t,Jj(o)),aW=Q9("type"),iW=J9("fetch"),lW=J9("onAction"),cW=e=>sW("columns",e),dW=G9([aW,Q9("trigger"),nz("minChars",1),cW(1),nz("maxResults",10),nW("matches"),iW,lW,rW("highlightOn",[],oL)]),uW=e=>K9("Autocompleter",dW,e),mW=()=>{const e={},t={},o={},s={},a={},c={},d={},f={},b={},w=(F,ee)=>(X,K)=>{F[X.toLowerCase()]={...K,type:ee}},T=(F,ee)=>(X,K)=>{F[X.toLowerCase()]={type:ee,...K}},R=(F,ee)=>s[F.toLowerCase()]=ee,N=(F,ee)=>d[F.toLowerCase()]=ee;return{addButton:w(e,"button"),addGroupToolbarButton:w(e,"grouptoolbarbutton"),addToggleButton:w(e,"togglebutton"),addMenuButton:w(e,"menubutton"),addSplitButton:w(e,"splitbutton"),addMenuItem:w(t,"menuitem"),addNestedMenuItem:w(t,"nestedmenuitem"),addToggleMenuItem:w(t,"togglemenuitem"),addAutocompleter:w(o,"autocompleter"),addContextMenu:w(a,"contextmenu"),addContextToolbar:w(c,"contexttoolbar"),addContextForm:T(c,"contextform"),addSidebar:w(f,"sidebar"),addView:w(b,"views"),addIcon:R,addContext:N,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:o,contextMenus:a,contextToolbars:c,sidebars:f,views:b,contexts:d})}},gW=e=>{const t=e.ui.registry.getAll().popups,o=$r(t,d=>uW(d).fold(f=>{throw new Error(Y9(f))},_n)),s=hm(wa(o,d=>d.trigger)),a=Ss(o);return{dataset:o,triggers:s,lookupByTrigger:d=>ft(a,f=>f.trigger===d)}},fW=(e,t)=>{const o=$d(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",s=>{const a=s.which;a===8?o.throttle():a===27?(o.cancel(),t.cancelIfNecessary()):(a===38||a===40)&&o.cancel()},!0),e.on("remove",o.cancel)},pW=e=>{const t=Bl(),o=$n(!1),s=t.isSet,a=()=>{s()&&(DR(e),o.set(!1),t.clear())},c=R=>{s()||t.set({trigger:R.trigger,matchLength:R.text.length})},d=gi(()=>gW(e)),f=R=>t.get().map(N=>QP(e.dom,e.selection.getRng(),N.trigger,!0).bind(F=>I9(e,d,F,R))).getOrThunk(()=>Mj(e,d)),b=R=>{f(R).fold(a,N=>{c(N.context),N.lookupData.then(F=>{t.get().map(ee=>{const X=N.context;ee.trigger===X.trigger&&(t.set({...ee,matchLength:X.text.length}),o.get()?(tk(e,{range:X.range}),_A(e,{lookupData:F})):(o.set(!0),tk(e,{range:X.range}),ek(e,{lookupData:F})))})})})},w=(R,N)=>{const F=R.compareBoundaryPoints(window.Range.START_TO_START,N),ee=R.compareBoundaryPoints(window.Range.END_TO_END,N);return F>=0&&ee<=0},T=()=>t.get().bind(({trigger:R})=>{const N=e.selection.getRng();return QP(e.dom,N,R,o.get()).filter(({range:F})=>w(N,F)).map(({range:F})=>F)});e.addCommand("mceAutocompleterReload",(R,N)=>{const F=te(N)?N.fetchOptions:{};b(F)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{T().each(R=>{tk(e,{range:R})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>T().isSome()),fW(e,{cancelIfNecessary:a,load:b})},hW=Ki().browser.isSafari(),sz=e=>Nc(oe.fromDom(e)),rz=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},R7=(e,t)=>P.from(e.getParent(t.container(),"details")),az=(e,t)=>R7(e,t).isSome(),bW=(e,t)=>{const o=P.from(e.getParent(t.startContainer,"details")),s=P.from(e.getParent(t.endContainer,"details"));if(o.isSome()||s.isSome()){const a=o.bind(c=>P.from(e.select("summary",c)[0]));return P.some({startSummary:a,startDetails:o,endDetails:s})}else return P.none()},xW=(e,t)=>un(t).exists(o=>o.isEqual(e)),vW=(e,t)=>kl(t).exists(o=>Ns(o.getNode())&&tc(t,o).exists(s=>s.isEqual(e))||o.isEqual(e)),yW=(e,t)=>t.startSummary.exists(o=>xW(e,o)),wW=(e,t)=>t.startSummary.exists(o=>vW(e,o)),_W=(e,t)=>t.startDetails.exists(o=>tc(o,e).forall(s=>t.startSummary.exists(a=>!a.contains(e.container())&&a.contains(s.container())))),CW=(e,t,o)=>o.startDetails.exists(s=>Cl(e,t).forall(a=>!s.contains(a.container()))),iz=(e,t)=>{const o=t.getNode();Os(o)||e.selection.setCursorLocation(o,t.offset())},lz=(e,t,o)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const a=e.dom.select("summary",s)[0];a&&(o?un(a):kl(a)).each(d=>iz(e,d))}else iz(e,t)},kW=(e,t)=>{const o=b=>b.contains(e.startContainer),s=b=>b.contains(e.endContainer),a=t.startSummary.exists(o),c=t.startSummary.exists(s),d=t.startDetails.forall(b=>t.endDetails.forall(w=>b!==w));return(a||c)&&!(a&&c)||d},cz=(e,t,o)=>{const{dom:s,selection:a}=e,c=e.getBody();if(o==="character"){const d=Ge.fromRangeStart(a.getRng()),f=s.getParent(d.container(),s.isBlock),b=R7(s,d),w=f&&s.isEmpty(f),T=ln(f?.previousSibling),R=ln(f?.nextSibling);return w&&(t?R:T)&&q0(!t,c,d).exists(ee=>az(s,ee)&&!Tu(b,R7(s,ee)))?!0:q0(t,c,d).fold(_o,N=>{const F=R7(s,N);if(az(s,N)&&!Tu(b,F)){if(t||lz(e,N,!1),f&&w){if(t&&T)return!0;if(!t&&R)return!0;lz(e,N,t),e.dom.remove(f)}return!0}else return!1})}else return!1},SW=(e,t,o,s)=>{const c=e.selection.getRng(),d=Ge.fromRangeStart(c),f=e.getBody();return s==="selection"?kW(c,t):o?wW(d,t)||CW(f,d,t):yW(d,t)||_W(d,t)},EW=(e,t,o)=>bW(e.dom,e.selection.getRng()).fold(()=>cz(e,t,o),s=>SW(e,s,t,o)||cz(e,t,o)),AW=(e,t,o)=>{const s=e.selection,a=s.getNode(),c=s.getRng(),d=Ge.fromRangeStart(c);return VC(a)?(o==="selection"&&rz(c,a)||XT(t,d,a)?sz(a):e.undoManager.transact(()=>{const f=s.getSel();let{anchorNode:b,anchorOffset:w,focusNode:T,focusOffset:R}=f??{};const N=()=>{He(b)&&He(w)&&He(T)&&He(R)&&f?.setBaseAndExtent(b,w,T,R)},F=()=>{b=f?.anchorNode,w=f?.anchorOffset,T=f?.focusNode,R=f?.focusOffset},ee=(K,ve)=>{je(K.childNodes,xe=>{bv(xe)&&ve.appendChild(xe)})},X=e.dom.create("span",{"data-mce-bogus":"1"});ee(a,X),a.appendChild(X),N(),(o==="word"||o==="line")&&f?.modify("extend",t?"right":"left",o),!s.isCollapsed()&&rz(s.getRng(),X)?sz(a):(e.execCommand(t?"ForwardDelete":"Delete"),F(),ee(X,a),N()),e.dom.remove(X)}),!0):!1},F2=(e,t,o)=>EW(e,t,o)||hW&&AW(e,t,o)?P.some(Ro):P.none(),dz=e=>(t,o,s={})=>{const a=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:Ro,inputType:o},d=zx(new InputEvent(e));return t.dispatch(e,{...d,...c,...s})},PE=dz("input"),N7=dz("beforeinput"),uz=Ki(),mz=uz.os,gz=mz.isMacOS()||mz.isiOS(),TW=uz.browser.isFirefox(),DW=(e,t,o)=>{const s=o.keyCode===Lt.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),c=a?"character":"selection",d=f=>a?f?"word":"line":"selection";r9([{keyCode:Lt.BACKSPACE,action:yo(VF,e)},{keyCode:Lt.BACKSPACE,action:yo(hC,e,!1)},{keyCode:Lt.DELETE,action:yo(hC,e,!0)},{keyCode:Lt.BACKSPACE,action:yo(I2,e,!1)},{keyCode:Lt.DELETE,action:yo(I2,e,!0)},{keyCode:Lt.BACKSPACE,action:yo(NP,e,t,!1)},{keyCode:Lt.DELETE,action:yo(NP,e,t,!0)},{keyCode:Lt.BACKSPACE,action:yo(p1,e,!1)},{keyCode:Lt.DELETE,action:yo(p1,e,!0)},{keyCode:Lt.BACKSPACE,action:yo(F2,e,!1,c)},{keyCode:Lt.DELETE,action:yo(F2,e,!0,c)},...gz?[{keyCode:Lt.BACKSPACE,altKey:!0,action:yo(F2,e,!1,d(!0))},{keyCode:Lt.DELETE,altKey:!0,action:yo(F2,e,!0,d(!0))},{keyCode:Lt.BACKSPACE,metaKey:!0,action:yo(F2,e,!1,d(!1))}]:[{keyCode:Lt.BACKSPACE,ctrlKey:!0,action:yo(F2,e,!1,d(!0))},{keyCode:Lt.DELETE,ctrlKey:!0,action:yo(F2,e,!0,d(!0))}],{keyCode:Lt.BACKSPACE,action:yo(xC,e,!1)},{keyCode:Lt.DELETE,action:yo(xC,e,!0)},{keyCode:Lt.BACKSPACE,action:yo(PP,e,!1)},{keyCode:Lt.DELETE,action:yo(PP,e,!0)},{keyCode:Lt.BACKSPACE,action:yo(Vc,e,!1)},{keyCode:Lt.DELETE,action:yo(Vc,e,!0)},{keyCode:Lt.BACKSPACE,action:yo(Kp,e,!1)},{keyCode:Lt.DELETE,action:yo(Kp,e,!0)},{keyCode:Lt.BACKSPACE,action:yo(BP,e,!1)},{keyCode:Lt.DELETE,action:yo(BP,e,!0)},{keyCode:Lt.BACKSPACE,action:yo(bC,e,!1)},{keyCode:Lt.DELETE,action:yo(bC,e,!0)},{keyCode:Lt.BACKSPACE,action:yo(FP,e,!1)},{keyCode:Lt.DELETE,action:yo(FP,e,!0)}],o).filter(f=>e.selection.isEditable()).each(f=>{o.preventDefault(),N7(e,s).isDefaultPrevented()||(f(),PE(e,s))})},OW=(e,t,o,s)=>BE([{keyCode:Lt.BACKSPACE,action:yo(wg,e)},{keyCode:Lt.DELETE,action:yo(wg,e)},...gz?[{keyCode:Lt.BACKSPACE,altKey:!0,action:yo(ME,e)},{keyCode:Lt.DELETE,altKey:!0,action:yo(ME,e)},...o?[{keyCode:TW?224:91,action:yo(()=>(MF(e,s),ME(e)))}]:[]]:[{keyCode:Lt.BACKSPACE,ctrlKey:!0,action:yo(ME,e)},{keyCode:Lt.DELETE,ctrlKey:!0,action:yo(ME,e)}]],t),RW=(e,t)=>{let o=!1,s=[];e.on("keydown",a=>{o=a.keyCode===Lt.BACKSPACE,s=MP(e),a.isDefaultPrevented()||DW(e,t,a)}),e.on("keyup",a=>{a.isDefaultPrevented()||(OW(e,a,o,s),s.length=0),o=!1})},NW=(e,t)=>{const o=oe.fromDom(e),s=oe.fromDom(t),a=Xr("span"),c=Ve(tn,o),d=b=>dr(b)&&Am(b,"font-size").isSome(),f=[...d(s)?[s]:[],...Jf(s,d,c)];je(f.slice(1),b=>{pi(b,"font-size"),Mr(b,"data-mce-style"),a(b)&&Bu(b)&&Mi(b)})},MW=e=>{for(;e;){if(jt(e)||mt(e)&&e.data&&/[\r\n\s]/.test(e.data))return P.from(oe.fromDom(e));e=e.nextSibling}return P.none()},_C=(e,t)=>{const o=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=b=>/^(ul|ol|dl)$/.test(Ho(b)),d=b=>c(b)?P.from(b):Fi(b,c),f=b=>o.isEmpty(b.dom);MW(t.firstChild).each(b=>{d(b).fold(()=>{if(f(b)){const w=RZ(b,0).element;dr(w)&&!_d(w)&&dn(w,oe.fromText(Fs))}},w=>{ta(w,oe.fromText(Fs))})})}const a=o.createRng();if(t.normalize(),t.hasChildNodes()){const c=new er(t,t);let d=t,f;for(;f=c.current();){if(mt(f)){a.setStart(f,0),a.setEnd(f,0);break}if(s[f.nodeName.toLowerCase()]){a.setStartBefore(f),a.setEndBefore(f);break}d=f,f=c.next()}f||(a.setStart(d,0),a.setEnd(d,0))}else Ns(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),Ev(e,a)},LE=(e,t)=>{const o=e.getRoot();let s,a=t;for(;a!==o&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){s=a;break}a=a.parentNode}return a!==o?s:o},nL=e=>P.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),BW=e=>nL(e).fold(ut(""),t=>t.nodeName.toUpperCase()),IW=e=>nL(e).filter(t=>du(oe.fromDom(t))).isSome(),sL=e=>{e.innerHTML='<br data-mce-bogus="1">'},PW=(e,t,o)=>{const s=e.dom;P.from(o.style).map(s.parseStyle).each(b=>{const T={...Tm(oe.fromDom(t)),...b};s.setStyles(t,T)});const a=P.from(o.class).map(b=>b.split(/\s+/)),c=P.from(t.className).map(b=>ft(b.split(/\s+/),w=>w!==""));Es(a,c,(b,w)=>{const T=ft(w,N=>!$o(b,N)),R=[...b,...T];s.setAttrib(t,"class",R.join(" "))});const d=["style","class"],f=Dr(o,(b,w)=>!$o(d,w));s.setAttribs(t,f)},FE=(e,t)=>{if(Za(e).toLowerCase()===t.tagName.toLowerCase()){const s=F0(e);PW(e,t,s)}},fz=(e,t,o,s,a=!0,c,d)=>{const f=e.dom,b=e.schema,w=Za(e),T=o?o.nodeName.toUpperCase():"";let R=t;const N=b.getTextInlineElements();let F;c||T==="TABLE"||T==="HR"?F=f.create(c||w,d||{}):F=o.cloneNode(!1);let ee=F;if(!a)f.setAttrib(F,"style",null),f.setAttrib(F,"class",null);else{do if(N[R.nodeName]){if(Pc(R)||Ad(R))continue;const X=R.cloneNode(!1);f.setAttrib(X,"id",""),F.hasChildNodes()?(X.appendChild(F.firstChild),F.appendChild(X)):(ee=X,F.appendChild(X))}while((R=R.parentNode)&&R!==s);NW(F,ee)}return FE(e,F),sL(ee),F},LW=(e,t)=>e.dom.getParent(t,xx),FW=(e,t,o)=>{let s=t;for(;s&&s!==e&&ln(s.nextSibling);){const a=s.parentElement;if(!a||!o(a))return xx(a);s=a}return!1},zW=(e,t,o)=>!t&&o.nodeName.toLowerCase()===Za(e)&&e.dom.isEmpty(o)&&FW(e.getBody(),o,s=>vo(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),HW=(e,t,o)=>{var s,a,c;const d=t(Za(e)),f=LW(e,o);f&&(e.dom.insertAfter(d,f),_C(e,d),((c=(a=(s=o.parentElement)===null||s===void 0?void 0:s.childNodes)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(o))},VW=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,$W=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},pz=(e,t)=>{const o=e?.parentNode;return He(o)&&o.nodeName===t},hz=e=>He(e)&&/^(OL|UL|LI)$/.test(e.nodeName),rL=e=>He(e)&&/^(LI|DT|DD)$/.test(e.nodeName),UW=e=>hz(e)&&hz(e.parentNode),M7=e=>{const t=e.parentNode;return rL(t)?t:e},B7=(e,t,o)=>{let s=e[o?"firstChild":"lastChild"];for(;s&&!jt(s);)s=s[o?"nextSibling":"previousSibling"];return s===t},bz=e=>zo(wa(Tm(oe.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),ZW=(e,t,o,s,a)=>{const c=e.dom,d=e.selection.getRng(),f=o.parentNode;if(o===e.getBody()||!f)return;UW(o)&&(a="LI");const b=rL(s)?bz(s):void 0;let w=rL(s)&&b?t(a,{style:bz(s)}):t(a);if(B7(o,s,!0)&&B7(o,s,!1))if(pz(o,"LI")){const T=M7(o);c.insertAfter(w,T),$W(o)?c.remove(T):c.remove(o)}else c.replace(w,o);else if(B7(o,s,!0))pz(o,"LI")?(c.insertAfter(w,M7(o)),w.appendChild(c.doc.createTextNode(" ")),w.appendChild(o)):f.insertBefore(w,o),c.remove(s);else if(B7(o,s,!1))c.insertAfter(w,M7(o)),c.remove(s);else{o=M7(o);const T=d.cloneRange();T.setStartAfter(s),T.setEndAfter(o);const R=T.extractContents();if(a==="LI"&&VW(R,"LI")){const N=ft(Mo(w.children,oe.fromDom),Ce(Xr("br")));w=R.firstChild,c.insertAfter(R,o),je(N,F=>xc(oe.fromDom(w),F)),b&&w.setAttribute("style",b)}else c.insertAfter(R,o),c.insertAfter(w,o);c.remove(s)}_C(e,w)},jW=e=>{je(Ji(oe.fromDom(e),Ja),t=>{const o=t.dom;o.nodeValue=Ui(o.data)})},WW=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},qW=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),aL=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,GW=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,iL=(e,t)=>He(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",KW=(e,t,o)=>{var s;const a=[];if(!o)return;let c=o;for(;c=c.firstChild;){if(e.isBlock(c))return;jt(c)&&!t[c.nodeName.toLowerCase()]&&a.push(c)}let d=a.length;for(;d--;)c=a[d],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((s=c.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||qW(e,c))&&e.remove(c)},lL=(e,t,o)=>mt(t)?e?o===1&&t.data.charAt(o-1)===Hr?0:o:o===t.data.length-1&&t.data.charAt(o)===Hr?t.data.length:o:o,YW=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,lL(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,lL(!1,e.endContainer,e.endOffset)),t},XW=e=>{let t=e;do mt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},QW=(e,t,o,s,a)=>{var c,d;const f=e.dom,b=(c=LE(f,s))!==null&&c!==void 0?c:f.getRoot();let w=f.getParent(s,f.isBlock);if(!w||!iL(f,w)){if(w=w||b,!w.hasChildNodes()){const F=f.create(t);return FE(e,F),w.appendChild(F),o.setStart(F,0),o.setEnd(F,0),F}let T=s;for(;T&&T.parentNode!==w;)T=T.parentNode;let R;for(;T&&!f.isBlock(T);)R=T,T=T.previousSibling;const N=(d=R?.parentElement)===null||d===void 0?void 0:d.nodeName;if(R&&N&&e.schema.isValidChild(N,t.toLowerCase())){const F=R.parentNode,ee=f.create(t);for(FE(e,ee),F.insertBefore(ee,R),T=R;T&&!f.isBlock(T);){const X=T.nextSibling;ee.appendChild(T),T=X}o.setStart(s,a),o.setEnd(s,a)}}return s},JW=(e,t)=>{t.normalize();const o=t.lastChild;(!o||jt(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},eq=(e,t)=>{const o=Ms(e);return Qo(t)?!1:Re(o)?$o(it.explode(o),t.nodeName.toLowerCase()):o},xz={insert:(e,t)=>{let o,s,a,c,d=!1;const f=e.dom,b=e.schema,w=b.getNonEmptyElements(),T=e.selection.getRng(),R=Za(e),N=oe.fromDom(T.startContainer),F=ur(N,T.startOffset),ee=F.exists(at=>Yd(at)&&!Qi(at)),X=T.collapsed&&ee,K=(at,$t)=>fz(e,o,Ot,rt,LR(e),at,$t),ve=at=>{const $t=lL(at,o,s);if(mt(o)&&(at?$t>0:$t<o.data.length))return!1;if((o.parentNode===Ot||o===Ot)&&d&&!at||at&&jt(o)&&o===Ot.firstChild)return!0;if(aL(o,"TABLE")||aL(o,"HR"))return GW(o,"BR")?!at:d&&!at||!d&&at;const lo=new er(o,Ot);mt(o)&&(at&&$t===0?lo.prev():!at&&$t===o.data.length&&lo.next());let To;for(;To=lo.current();){if(jt(To)){if(!To.getAttribute("data-mce-bogus")){const nn=To.nodeName.toLowerCase();if(w[nn]&&nn!=="br")return!1}}else if(mt(To)&&!Pm(To.data))return!1;at?lo.prev():lo.next()}return!0},xe=()=>{let at;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&ht!=="HGROUP"?at=K(R):at=K(),eq(e,c)&&iL(f,c)&&f.isEmpty(Ot,void 0,{includeZwsp:!0})?at=f.split(c,Ot):f.insertAfter(at,Ot),_C(e,at),at};ob(f,T).each(at=>{T.setStart(at.startContainer,at.startOffset),T.setEnd(at.endContainer,at.endOffset)}),o=T.startContainer,s=T.startOffset;const Te=!!(t&&t.shiftKey),Fe=!!(t&&t.ctrlKey);jt(o)&&o.hasChildNodes()&&!X&&(d=s>o.childNodes.length-1,o=o.childNodes[Math.min(s,o.childNodes.length-1)]||o,d&&mt(o)?s=o.data.length:s=0);const rt=LE(f,o);if(!rt||WW(e,o))return;Te||(o=QW(e,R,T,o,s));let Ot=f.getParent(o,f.isBlock)||f.getRoot();c=He(Ot?.parentNode)?f.getParent(Ot.parentNode,f.isBlock):null,a=Ot?Ot.nodeName.toUpperCase():"";const ht=c?c.nodeName.toUpperCase():"";if(ht==="LI"&&!Fe){const at=c;Ot=at,c=at.parentNode,a=ht}if(jt(c)&&zW(e,Te,Ot))return HW(e,K,Ot);if(/^(LI|DT|DD)$/.test(a)&&jt(c)&&f.isEmpty(Ot)){ZW(e,K,c,Ot,R);return}if(!X&&(Ot===e.getBody()||!iL(f,Ot)))return;const Xe=Ot.parentNode;let Ke;if(X)Ke=K(R),F.fold(()=>{dn(N,oe.fromDom(Ke))},at=>{ta(at,oe.fromDom(Ke))}),e.selection.setCursorLocation(Ke,0);else if(uf(Ot))Ke=P0(Ot),f.isEmpty(Ot)&&sL(Ot),FE(e,Ke),_C(e,Ke);else if(ve(!1))Ke=xe();else if(ve(!0)&&Xe){const at=Ge.fromRangeStart(T),$t=Rv(at),lo=oe.fromDom(Ot),nn=Nv(lo,at,e.schema)?C4(lo,at,e.schema).bind(xs=>P.from(xs.getNode())):P.none();Ke=Xe.insertBefore(K(),Ot);const ms=aL(Ot,"HR")||$t?Ke:nn.getOr(Ot);_C(e,ms)}else{const at=YW(T).cloneRange();at.setEndAfter(Ot);const $t=at.extractContents();jW($t),XW($t),Ke=$t.firstChild,Ot===Ke?He(Xe)&&f.insertAfter($t,Xe):f.insertAfter($t,Ot),KW(f,w,Ke),JW(f,Ot),f.isEmpty(Ot)&&sL(Ot),Ke.normalize(),f.isEmpty(Ke)?(f.remove(Ke),xe()):(FE(e,Ke),_C(e,Ke))}f.setAttrib(Ke,"id",""),e.dispatch("NewBlock",{newBlock:Ke})},fakeEventName:"insertParagraph"},tq=(e,t,o)=>{const s=new er(t,o);let a;const c=e.getNonEmptyElements();for(;a=s.next();)if(c[a.nodeName.toLowerCase()]||mt(a)&&a.length>0)return!0;return!1},vz=(e,t,o)=>{const s=e.dom.createRng();o?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Ev(e,s)},oq=(e,t)=>{const o=e.selection,s=e.dom,a=o.getRng();let c,d=!1;ob(s,a).each(F=>{a.setStart(F.startContainer,F.startOffset),a.setEnd(F.endContainer,F.endOffset)});let f=a.startOffset,b=a.startContainer;if(jt(b)&&b.hasChildNodes()){const F=f>b.childNodes.length-1;b=b.childNodes[Math.min(f,b.childNodes.length-1)]||b,F&&mt(b)?f=b.data.length:f=0}let w=s.getParent(b,s.isBlock);const T=w&&w.parentNode?s.getParent(w.parentNode,s.isBlock):null,R=T?T.nodeName.toUpperCase():"",N=!!(t&&t.ctrlKey);R==="LI"&&!N&&(w=T),mt(b)&&f>=b.data.length&&(tq(e.schema,b,w||s.getRoot())||(c=s.create("br"),a.insertNode(c),a.setStartAfter(c),a.setEndAfter(c),d=!0)),c=s.create("br"),Iy(s,a,c),vz(e,c,d),e.undoManager.add()},nq=(e,t)=>{const o=oe.fromTag("br");ta(oe.fromDom(t),o),e.undoManager.add()},sq=(e,t)=>{aq(e.getBody(),t)||Hl(oe.fromDom(t),oe.fromTag("br"));const o=oe.fromTag("br");Hl(oe.fromDom(t),o),vz(e,o.dom,!1),e.undoManager.add()},rq=e=>Ns(e.getNode()),aq=(e,t)=>rq(Ge.after(t))?!0:Cl(e,Ge.after(t)).map(o=>Ns(o.getNode())).getOr(!1),yz=e=>e&&e.nodeName==="A"&&"href"in e,iq=e=>e.fold(_o,yz,yz,_o),lq=e=>{const t=Ve(Ef,e),o=Ge.fromRangeStart(e.selection.getRng());return Qp(t,e.getBody(),o).filter(iq)},cq=(e,t)=>{t.fold(Ro,Ve(nq,e),Ve(sq,e),Ro)},wz={insert:(e,t)=>{const o=lq(e);o.isSome()?o.each(Ve(cq,e)):oq(e,t)},fakeEventName:"insertLineBreak"},_z=(e,t)=>nL(e).filter(o=>t.length>0&&Pn(oe.fromDom(o),t)).isSome(),dq=e=>_z(e,IR(e)),uq=e=>_z(e,PR(e)),wu=ll.generate([{br:[]},{block:[]},{none:[]}]),mq=(e,t)=>uq(e),Cz=e=>(t,o)=>IW(t)===e,kz=(e,t)=>(o,s)=>BW(o)===e.toUpperCase()===t,gq=e=>{const t=LE(e.dom,e.selection.getStart());return Qo(t)},zE=e=>kz("pre",e),fq=()=>kz("summary",!0),I7=e=>(t,o)=>TA(t)===e,pq=(e,t)=>dq(e),P7=(e,t)=>t,hq=e=>{const t=Za(e),o=LE(e.dom,e.selection.getStart());return He(o)&&e.schema.isValidChild(o.nodeName,t)},bq=e=>{const t=e.selection.getRng(),o=oe.fromDom(t.startContainer),a=ur(o,t.startOffset).map(c=>Yd(c)&&!Qi(c));return t.collapsed&&a.getOr(!0)},cm=(e,t)=>(o,s)=>zo(e,(c,d)=>c&&d(o,s),!0)?P.some(t):P.none(),xq=(e,t)=>OE([cm([mq],wu.none()),cm([zE(!0),gq],wu.none()),cm([fq()],wu.br()),cm([zE(!0),I7(!1),P7],wu.br()),cm([zE(!0),I7(!1)],wu.block()),cm([zE(!0),I7(!0),P7],wu.block()),cm([zE(!0),I7(!0)],wu.br()),cm([Cz(!0),P7],wu.br()),cm([Cz(!0)],wu.block()),cm([pq],wu.br()),cm([P7],wu.br()),cm([hq],wu.block()),cm([bq],wu.block())],[e,!!(t&&t.shiftKey)]).getOr(wu.none()),L7=(e,t,o)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||fs(t),!(He(o)&&N7(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),He(o)&&PE(t,e.fakeEventName)))},Sz=(e,t)=>{if(e.mode.isReadOnly())return;const o=()=>L7(wz,e,t),s=()=>L7(xz,e,t),a=xq(e,t);switch(BR(e)){case"linebreak":a.fold(o,o,Ro);break;case"block":a.fold(s,s,Ro);break;case"invert":a.fold(s,o,Ro);break;default:a.fold(o,s,Ro);break}},Ez=Ki(),vq=Ez.os.isiOS()&&Ez.browser.isSafari(),Az=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),M_(e.undoManager),e.undoManager.transact(()=>{Sz(e,t)}))},yq=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(mt(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return o.test(s)}else return!1},wq=e=>{let t=P.none();const o=a=>{t=P.some(a.selection.getBookmark()),a.undoManager.add()},s=(a,c)=>{a.undoManager.undo(),t.fold(Ro,d=>a.selection.moveToBookmark(d)),Az(a,c),t=P.none()};e.on("keydown",a=>{a.keyCode===Lt.ENTER&&(vq&&yq(e.selection.getRng())?o(e):Az(e,a))}),e.on("keyup",a=>{a.keyCode===Lt.ENTER&&t.each(()=>s(e,a))})},_q=(e,t,o)=>{const s=Eo.os.isMacOS()||Eo.os.isiOS();BE([{keyCode:Lt.END,action:yo(QF,e,!0)},{keyCode:Lt.HOME,action:yo(QF,e,!1)},...s?[]:[{keyCode:Lt.HOME,action:yo(S7,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Lt.END,action:yo(S7,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Lt.END,action:yo(l9,e,!0)},{keyCode:Lt.HOME,action:yo(l9,e,!1)},{keyCode:Lt.END,action:yo(k7,e,!0,t)},{keyCode:Lt.HOME,action:yo(k7,e,!1,t)}],o).each(a=>{o.preventDefault()})},Cq=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||_q(e,t,o)})},kq=e=>{e.on("input",t=>{t.isComposing||lb(e)})},Sq=Ki(),Eq=(e,t,o)=>{BE([{keyCode:Lt.PAGE_UP,action:yo(k7,e,!1,t)},{keyCode:Lt.PAGE_DOWN,action:yo(k7,e,!0,t)}],o)},Tz=e=>e.stopImmediatePropagation(),Dz=e=>e.keyCode===Lt.PAGE_UP||e.keyCode===Lt.PAGE_DOWN,Oz=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",Tz,!0):!o&&e.get()&&t.off("NodeChange",Tz),e.set(o)},Aq=(e,t)=>{if(Sq.os.isMacOS())return;const o=$n(!1);e.on("keydown",s=>{Dz(s)&&Oz(o,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||Eq(e,t,s),Dz(s)&&o.get()&&(Oz(o,e,!1),e.nodeChanged())})},Rz=(e,t)=>e===t||e.contains(t),Tq=(e,t)=>!Rz(e.getBody(),t.startContainer)||!Rz(e.getBody(),t.endContainer)?!0:cT(e.dom,t),Dq=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||In(t.getTargetRanges(),o=>!Tq(e,o)))&&t.preventDefault()})},Nz=(e,t)=>{const o=t.container(),s=t.offset();return mt(o)?(o.insertData(s,e),P.some(Ge(o,s+e.length))):cv(t).map(a=>{const c=oe.fromText(e);return t.isAtEnd()?Hl(a,c):ta(a,c),Ge(c.dom,e.length)})},Mz=Ve(Nz,Fs),Bz=Ve(Nz," "),Oq=(e,t,o)=>O4(e,t,o)?Mz(t):Bz(t),Rq=e=>t=>t.fold(o=>tc(e.dom,Ge.before(o)),o=>un(o),o=>kl(o),o=>Cl(e.dom,Ge.after(o))),Nq=(e,t,o)=>s=>O4(e,s,o)?Mz(t):Bz(t),Iz=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},Mq=(e,t)=>e.isEditable(e.getParent(t,"summary")),Bq=e=>{const t=Ge.fromRangeStart(e.selection.getRng()),o=oe.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=Ve(Ef,e),a=Ge.fromRangeStart(e.selection.getRng());return Qp(s,e.getBody(),a).bind(Rq(o)).map(c=>()=>Nq(o,t,e.schema)(c).each(Iz(e)))}else return P.none()},Iq=e=>{const t=()=>{const o=oe.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=Ge.fromRangeStart(e.selection.getRng());Oq(o,s,e.schema).each(Iz(e))};return Vd(Eo.browser.isFirefox()&&e.selection.isEditable()&&Mq(e.dom,e.selection.getRng().startContainer),t)},Pq=(e,t)=>{r9([{keyCode:Lt.SPACEBAR,action:yo(Bq,e)},{keyCode:Lt.SPACEBAR,action:yo(Iq,e)}],t).each(o=>{t.preventDefault(),N7(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),PE(e,"insertText",{data:" "}))})},Lq=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Pq(e,t)})},Fq=e=>Yy(e)?[{keyCode:Lt.TAB,action:yo(O9,e,!0)},{keyCode:Lt.TAB,shiftKey:!0,action:yo(O9,e,!1)}]:[],zq=(e,t)=>{BE([...Fq(e)],t).each(o=>{t.preventDefault()})},Hq=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||zq(e,t)})},Vq=e=>{if(e.addShortcut("Meta+P","","mcePrint"),pW(e),rm(e))return $n(null);{const t=nU(e);return Dq(e),tZ(e),wj(e,t),RW(e,t),wq(e),Lq(e),kq(e),Hq(e),Cq(e,t),Aq(e,t),t}},$q=(e,t)=>{const o=Ob(e);o===null||uE(e,o)||e.undoManager.transact(()=>{te(t.styles)&&e.dom.setStyles(o,t.styles),te(t.attrs)&&Jo(t.attrs,(s,a)=>e.dom.setAttrib(o,a,s))})},cL=(e,t)=>()=>{const o=Ob(e);return He(o)&&o.nodeName===t},Uq=e=>{e.addCommand("InsertUnorderedList",(t,o)=>{I(e,"UL",o)}),e.addCommand("InsertOrderedList",(t,o)=>{I(e,"OL",o)}),e.addCommand("InsertDefinitionList",(t,o)=>{I(e,"DL",o)}),e.addCommand("RemoveList",()=>{Mb(e)}),e.addCommand("mceListUpdate",(t,o)=>{te(o)&&$q(e,o)}),e.addCommand("mceListBackspaceDelete",(t,o)=>{Wt(e,o)}),e.addQueryStateHandler("InsertUnorderedList",cL(e,"UL")),e.addQueryStateHandler("InsertOrderedList",cL(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",cL(e,"DL"))},Zq=e=>{e.on("keydown",t=>{t.keyCode===Lt.BACKSPACE?Wt(e,!1)&&t.preventDefault():t.keyCode===Lt.DELETE&&Wt(e,!0)&&t.preventDefault()})},Pz=e=>e.type===3,Lz=e=>e.length===0,jq=e=>{const t=(a,c)=>{const d=li.create("li");je(a,f=>d.append(f)),c?e.insert(d,c,!0):e.append(d)},o=(a,c)=>Pz(c)?[...a,c]:!Lz(a)&&!Pz(c)?(t(a,c),[]):a,s=zo(e.children(),o,[]);Lz(s)||t(s)},Wq=e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",o=>je(o,jq))})},qq=e=>{e.on("keydown",t=>{t.keyCode!==Lt.TAB||Lt.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?cC(e):_E(e))&&t.preventDefault()})})},Gq=e=>{gN(e)&&qq(e)},Kq=e=>{Zq(e),Uq(e),Wq(e),Gq(e)};class Yq{constructor(t){this.lastPath=[],this.editor=t;let o;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",a=>{const c=t.selection.getRng(),d={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(a.type==="nodechange"||!tb(d,o))&&t.dispatch("SelectionChange"),o=d}),t.on("contextmenu",()=>{vw(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const a=t.selection.getStart(!0);a&&hv(t)&&!s.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",a=>{!a.isDefaultPrevented()&&hv(t)&&(t.selection.getNode().nodeName==="IMG"?Td.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor,s=o.selection;let a;if(o.initialized&&s&&!WR(o)&&!eg(o)){const c=o.getBody();a=s.getStart(!0)||c,(a.ownerDocument!==o.getDoc()||!o.dom.isChildOf(a,c))&&(a=c);const d=[];o.dom.getParent(a,f=>f===c?!0:(d.push(f),!1)),o.dispatch("NodeChange",{...t,element:a,parents:d})}}isSameElementPath(t){let o;const s=this.editor,a=ua(s.dom.getParents(t,Uo,s.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const Fz="x-tinymce/html",F7=ut(Fz),dL="<!-- "+Fz+" -->",Xq=e=>dL+e,Qq=e=>e.replace(dL,""),zz=e=>e.indexOf(dL)!==-1,Jq=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),eG=(e,t)=>{let o="<"+e;const s=wa(t,(a,c)=>c+'="'+pd.encodeAllRaw(a)+'"');return s.length&&(o+=" "+s.join(" ")),o+">"},tG=(e,t,o)=>{const s=e.split(/\n\n/),a=eG(t,o),c="</"+t+">",d=Mo(s,b=>b.split(/\n/).join("<br />")),f=b=>a+b+c;return d.length===1?d[0]:Mo(d,f).join("")},Hz="%MCEPASTEBIN%",oG=(e,t)=>{const{dom:o,selection:s}=e,a=e.getBody();t.set(s.getRng());const c=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Hz);Eo.browser.isFirefox()&&o.setStyle(c,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(c,"beforedeactivate focusin focusout",d=>{d.stopPropagation()}),c.focus(),s.select(c,!0)},nG=(e,t)=>{const o=e.dom;if(uL(e)){let s;const a=t.get();for(;s=uL(e);)o.remove(s),o.unbind(s);a&&e.selection.setRng(a)}t.set(null)},uL=e=>e.dom.get("mcepastebin"),sG=e=>He(e)&&e.id==="mcepastebin",rG=e=>{const t=e.dom,o=(d,f)=>{d.appendChild(f),t.remove(f,!0)},[s,...a]=ft(e.getBody().childNodes,sG);je(a,d=>{o(s,d)});const c=t.select("div[id=mcepastebin]",s);for(let d=c.length-1;d>=0;d--){const f=t.create("div");s.insertBefore(f,c[d]),o(f,c[d])}return s?s.innerHTML:""},Vz=e=>e===Hz,aG=e=>{const t=$n(null);return{create:()=>oG(e,t),remove:()=>nG(e,t),getEl:()=>uL(e),getHtml:()=>rG(e),getLastRng:t.get}},$z=(e,t)=>(it.each(t,o=>{pe(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),iG=e=>{const t=Kt(),o=Hp({},t);let s="";const a=t.getVoidElements(),c=it.makeMap("script noscript style textarea video audio iframe object"," "),d=t.getBlockElements(),f=b=>{const w=b.name,T=b;if(w==="br"){s+=`
`;return}if(w!=="wbr"){if(a[w]&&(s+=" "),c[w]){s+=" ";return}if(b.type===3&&(s+=b.value),!(b.name in t.getVoidElements())){let R=b.firstChild;if(R)do f(R);while(R=R.next)}d[w]&&T.next&&(s+=`
`,w==="p"&&(s+=`
`))}};return e=$z(e,[/<!\[[^\]]+\]>/g]),f(o.parse(e)),s},Uz=e=>(e=$z(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,s,a)=>!s&&!a?" ":Fs],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),lG=e=>{let t=0;return()=>e+t++},cG=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return it.hasOwn(o,t)?"image/"+o[t]:"image/"+t},dG=(e,t)=>{const o=Hp({sanitize:xk(e),sandbox_iframes:av(e),sandbox_iframes_exclusions:yk(e),convert_unsafe_embeds:XA(e)},e.schema);o.addNodeFilter("meta",a=>{it.each(a,c=>{c.remove()})});const s=o.parse(t,{forced_root_block:!1,isRootContent:!0});return Dp({validate:!0},e.schema).serialize(s)},Zz=(e,t)=>({content:e,cancelled:t}),uG=(e,t,o)=>{const s=e.dom.create("div",{style:"display:none"},t),a=Qt(e,s,o);return Zz(a.node.innerHTML,a.isDefaultPrevented())},mG=(e,t,o)=>{const s=OR(e,t,o),a=dG(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?uG(e,a,o):Zz(a,s.isDefaultPrevented())},gG=(e,t,o)=>mG(e,t,o),mL=(e,t)=>(e.insertContent(t,{merge:UA(e),paste:!0}),!0),gL=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),fG=(e,t)=>gL(t)&&In(KA(e),o=>Rg(t.toLowerCase(),`.${o.toLowerCase()}`)),pG=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),hG=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),bG=(e,t,o)=>!e.selection.isCollapsed()&&gL(t)?hG(e,t,o):!1,xG=(e,t,o)=>fG(e,t)?pG(e,t,o):!1,vG=(e,t)=>{it.each([bG,xG,mL],o=>!o(e,t,mL))},yG=(e,t,o)=>{o||!ZA(e)?mL(e,t):vG(e,t)},wG=lG("mceclip"),_G=e=>{const t=qP();return w9(t,e),WP(t),t},jz=(e,t,o,s,a)=>{const c=gG(e,t,o);if(!c.cancelled){const d=c.content,f=()=>yG(e,d,s);a?N7(e,"insertFromPaste",{dataTransfer:_G(d)}).isDefaultPrevented()||(f(),PE(e,"insertFromPaste")):f()}},z7=(e,t,o,s)=>{const a=o||zz(t);jz(e,Qq(t),a,!1,s)},fL=(e,t,o)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),a=cy(s,jA(e)),c=tG(a,Za(e),F0(e));jz(e,c,!1,!0,o)},Wz=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const s=e.types[o];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},$b=(e,t)=>t in e&&e[t].length>0,qz=e=>$b(e,"text/html")||$b(e,"text/plain"),CG=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return He(o)?e.dom.encode(o[1]):void 0},kG=(e,t,o,s)=>{const a=wG(),c=sv(e)&&He(o.name),d=c?CG(e,o.name):a,f=c?o.name:void 0,b=t.create(a,o,s,d,f);return t.add(b),b},SG=(e,t)=>{v3(t.uri).each(({data:o,type:s,base64Encoded:a})=>{const c=a?o:btoa(o),d=t.file,f=e.editorUpload.blobCache,b=f.getByData(c,s),w=b??kG(e,f,d,c);z7(e,`<img src="${w.blobUri()}">`,!1,!0)})},EG=e=>e.type==="paste",AG=e=>Promise.all(Mo(e,t=>Fp(t).then(o=>({file:t,uri:o})))),TG=e=>{const t=KA(e);return o=>Ls(o.type,"image/")&&In(t,s=>cG(s)===o.type)},DG=(e,t)=>{const o=t.items?ar(Nt(t.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],s=t.files?Nt(t.files):[];return ft(o.length>0?o:s,TG(e))},Gz=(e,t,o)=>{const s=EG(t)?t.clipboardData:t.dataTransfer;if(Ky(e)&&s){const a=DG(e,s);if(a.length>0)return t.preventDefault(),AG(a).then(c=>{o&&e.selection.setRng(o),je(c,d=>{SG(e,d)})}),!0}return!1},OG=e=>{var t,o;return Eo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},RG=e=>Lt.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,pL=(e,t,o,s,a)=>{let c=Uz(o);const d=$b(t,F7())||zz(o),f=!d&&Jq(c),b=gL(c);(Vz(c)||!c.length||f&&!b)&&(s=!0),(s||b)&&($b(t,"text/plain")&&f?c=t["text/plain"]:c=iG(c)),!Vz(c)&&(s?fL(e,c,a):z7(e,c,d,a))},NG=(e,t,o)=>{let s;const a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{RG(c)&&!c.isDefaultPrevented()&&(s=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||OG(c))return;const d=o.get()==="text"||s;s=!1;const f=Wz(c.clipboardData);!qz(f)&&Gz(e,c,a())||($b(f,"text/html")?(c.preventDefault(),pL(e,f,f["text/html"],d,!0)):$b(f,"text/plain")&&$b(f,"text/uri-list")?(c.preventDefault(),pL(e,f,f["text/plain"],d,!0)):(t.create(),Td.setEditorTimeout(e,()=>{const b=t.getHtml();t.remove(),pL(e,f,b,d,!1)},0)))})},MG=e=>{const t=a=>Ls(a,"webkit-fake-url"),o=a=>Ls(a,"data:"),s=a=>{var c;return((c=a.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(a,c,d)=>{if(!Ky(e)&&s(d))for(const f of a){const b=f.attr("src");Re(b)&&!f.attr("data-mce-object")&&b!==Eo.transparentSrc&&(t(b)||!sN(e)&&o(b))&&f.remove()}})},BG=(e,t,o)=>{NG(e,t,o),MG(e)},IG=(e,t)=>{t.get()==="text"?(t.set("html"),Ed(e,!1)):(t.set("text"),Ed(e,!0)),e.focus()},PG=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{IG(e,t)}),e.addCommand("mceInsertClipboardContent",(o,s)=>{s.html&&z7(e,s.html,s.internal,!1),s.text&&fL(e,s.text,!1)})},LG=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(F7(),t),!0}catch{return!1}else return!1},Kz=(e,t,o,s)=>{LG(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):o(t.html,s)},Yz=e=>(t,o)=>{const{dom:s,selection:a}=e,c=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=s.create("div",{contenteditable:"true"},t);s.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(d),s.add(e.getBody(),c);const f=a.getRng();d.focus();const b=s.createRng();b.selectNodeContents(d),a.setRng(b),Td.setEditorTimeout(e,()=>{a.setRng(f),s.remove(c),o()},0)},Xz=e=>({html:Xq(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),FG=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),Qz=e=>!e.selection.isCollapsed()||FG(e),zG=(e,t)=>o=>{!o.isDefaultPrevented()&&Qz(e)&&e.selection.isEditable()&&Kz(o,Xz(e),Yz(e),()=>{if(Eo.browser.isChromium()||Eo.browser.isFirefox()){const s=e.selection.getRng();Td.setEditorTimeout(e,()=>{e.selection.setRng(s),zP(e,t)},0)}else zP(e,t)})},HG=e=>t=>{!t.isDefaultPrevented()&&Qz(e)&&Kz(t,Xz(e),Yz(e),Ro)},VG=(e,t)=>{e.on("cut",zG(e,t)),e.on("copy",HG(e))},Jz=(e,t)=>{var o,s;return lg.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},$G=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},eH=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},UG=e=>In(e.files,t=>/^image\//.test(t.type)),ZG=(e,t,o,s)=>{const a=e.getParent(o,d=>Uu(t,d));if(!ln(e.getParent(o,"summary")))return!0;if(a&&vo(s,"text/html")){const d=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!ln(d.querySelector(a.nodeName.toLowerCase()))}else return!1},jG=e=>{e.on("input",t=>{const o=s=>ln(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=ft(e.dom.select("details"),o);je(s,a=>{Ns(a.firstChild)&&a.firstChild.remove();const c=e.dom.create("summary");c.appendChild(cf().dom),a.prepend(c)})}})},WG=(e,t)=>{JR(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),Ky(e)||e.on("drop",o=>{const s=o.dataTransfer;s&&UG(s)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const s=Jz(e,o);if(Qo(s))return;const a=Wz(o.dataTransfer),c=$b(a,F7());if((!qz(a)||$G(a))&&Gz(e,o,s))return;const d=a[F7()],f=d||a["text/html"]||a["text/plain"],b=ZG(e.dom,e.schema,s.startContainer,a),w=t.get();w&&!b||f&&(o.preventDefault(),Td.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(d||w&&b)&&e.execCommand("Delete"),eH(e,s);const T=Uz(f);a["text/html"]?z7(e,T,c,!0):fL(e,T,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{Ky(e)&&!t.get()&&(o.preventDefault(),eH(e,Jz(e,o))),o.type==="dragend"&&t.set(!1)}),jG(e)},qG=e=>{const t=a=>c=>{a(e,c)},o=eN(e);so(o)&&e.on("PastePreProcess",t(o));const s=hk(e);so(s)&&e.on("PastePostProcess",t(s))},GG=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},KG=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,tH=e=>it.trim(e).replace(KG,of).toLowerCase(),YG=(e,t,o)=>{const s=tN(e);if(o||s==="all"||!oN(e))return t;const a=s?s.split(/[, ]/):[];if(a&&s!=="none"){const c=e.dom,d=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(f,b,w,T)=>{const R=c.parseStyle(c.decode(w)),N={};for(let ee=0;ee<a.length;ee++){const X=R[a[ee]];let K=X,ve=c.getStyle(d,a[ee],!0);/color/.test(a[ee])&&(K=tH(K),ve=tH(ve)),ve!==K&&(N[a[ee]]=X)}const F=c.serializeStyle(N,"span");return F?b+' style="'+F+'"'+T:b+T})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,d,f,b)=>d+' style="'+f+'"'+b),t},XG=e=>{(Eo.browser.isChromium()||Eo.browser.isSafari())&&GG(e,YG)},QG=(e,t)=>{const o=$n(!1),s=$n(nN(e)?"text":"html"),a=aG(e);XG(e),PG(e,s),qG(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>s.get()==="text"),e.on("PreInit",()=>{VG(e,t),WG(e,o),BG(e,a,s)})},JG=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},eK=e=>{e.parser.addNodeFilter("details",t=>{const o=dN(e);je(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=YA(e);je(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})})},tK=e=>{JG(e),eK(e)},oK=Ns,oH=mt,nK=e=>Kn(e.dom),sK=e=>xi(e.dom),nH=e=>t=>tn(oe.fromDom(e),t),rK=(e,t,o)=>Li(oe.fromDom(e),s=>sK(s)||o.isBlock(Ho(s)),nH(t)).getOr(oe.fromDom(t)).dom,sH=(e,t)=>Li(oe.fromDom(e),nK,nH(t)),rH=(e,t,o)=>{const s=new er(e,t),a=o?s.next.bind(s):s.prev.bind(s);let c=e;for(let d=o?e:a();d&&!oK(d);d=a())Vo(d)&&(c=d);return c},aK=(e,t,o)=>{const a=Ge.fromRangeStart(e).getNode(),c=rK(a,t,o),d=rH(a,c,!1),f=rH(a,c,!0),b=document.createRange();return sH(d,c).fold(()=>{oH(d)?b.setStart(d,0):b.setStartBefore(d)},w=>b.setStartBefore(w.dom)),sH(f,c).fold(()=>{oH(f)?b.setEnd(f,f.data.length):b.setEndAfter(f)},w=>b.setEndAfter(w.dom)),b},iK=e=>{const t=aK(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(bb(t))},lK=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),iK(e))})};var CC;(function(e){e.Before="before",e.After="after"})(CC||(CC={}));const cK=(e,t)=>Math.abs(e.left-t),dK=(e,t)=>Math.abs(e.right-t),uK=(e,t)=>e>=t.top&&e<=t.bottom,mK=(e,t)=>e.top<t.bottom&&e.bottom>t.top,gK=(e,t)=>{const o=re(e,t)/Math.min(e.height,t.height);return mK(e,t)&&o>.5},fK=(e,t)=>{const o=ft(e,s=>uK(t,s));return H(o).fold(()=>[[],e],s=>{const{pass:a,fail:c}=At(e,d=>gK(d,s));return[a,c]})},pK=(e,t)=>({node:e.node,position:cK(e,t)<dK(e,t)?CC.Before:CC.After}),hK=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),hL=(e,t,o,s)=>{const a=R=>Vo(R.node)?P.some(R):jt(R.node)?hL(Nt(R.node.childNodes),t,o,!1):P.none(),c=(R,N,F)=>a(N).filter(ee=>Math.abs(F(R,t,o)-F(ee,t,o))<2&&mt(ee.node)),d=(R,N)=>{const F=Jt(R,(ee,X)=>N(ee,t,o)-N(X,t,o));return Ti(F,a).map(ee=>s&&!mt(ee.node)&&F.length>1?c(ee,F[1],N).getOr(ee):ee)},[f,b]=fK(bF(e),o),{pass:w,fail:T}=At(b,R=>R.top<o);return d(f,hK).orThunk(()=>d(T,Q)).orThunk(()=>d(w,Q))},bK=(e,t,o,s)=>{const a=(c,d)=>{const f=w=>jt(w)&&w.classList.contains("mce-drag-container"),b=ft(c.dom.childNodes,Ce(f));return d.fold(()=>hL(b,o,s,!0),w=>{const T=ft(b,R=>R!==w.dom);return hL(T,o,s,!0)}).orThunk(()=>(tn(c,e)?P.none():_m(c)).bind(T=>a(T,P.some(c))))};return a(t,P.none())},xK=(e,t,o)=>{const s=oe.fromDom(e),a=hc(s),d=oe.fromPoint(a,t,o).filter(f=>Nr(s,f)).getOr(s);return bK(s,d,t,o)},aH=(e,t,o)=>xK(e,t,o).filter(s=>Z0(s.node)).map(s=>pK(s,t)),iH=e=>{var t,o;const s=e.getBoundingClientRect(),a=e.ownerDocument,c=a.documentElement,d=a.defaultView;return{top:s.top+((t=d?.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:s.left+((o=d?.scrollX)!==null&&o!==void 0?o:0)-c.clientLeft}},vK=e=>e.inline?iH(e.getBody()):{left:0,top:0},yK=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},wK=e=>{const t=e.getBody(),o=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?s:a},_K=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=iH(e.getContentAreaContainer()),s=wK(e);return{left:t.pageX-o.left+s.left,top:t.pageY-o.top+s.top}}return{left:t.pageX,top:t.pageY}},CK=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),kK=(e,t)=>CK(vK(e),yK(e),_K(e,t)),lH=e=>({target:e,srcElement:e}),SK=(e,t,o,s)=>({...t,dataTransfer:s,type:e,...lH(o)}),EK=(e,t,o)=>{const s=bt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:Ro,stopImmediatePropagation:Ro,stopPropagation:Ro,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:o,...lH(t)}},AK=(e,t)=>{const o=jZ(e);return t==="dragstart"?(h9(o),x9(o)):t==="drop"?(PZ(o),WP(o)):(LZ(o),VZ(o)),o},TK=(e,t,o,s)=>{const a=AK(o,e);return Os(s)?EK(e,t,a):SK(e,s,t,a)},H7=32,DK=100,V7=8,$7=16,cH=Kn,OK=Se(cH,xi),RK=(e,t,o)=>cH(o)&&o!==t&&e.isEditable(o.parentElement),NK=(e,t,o)=>Qo(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),MK=(e,t,o,s)=>{const a=e.dom,c=t.cloneNode(!0);a.setStyles(c,{width:o,height:s}),a.setAttrib(c,"data-mce-selected",null);const d=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:s}),a.setStyles(c,{margin:0,boxSizing:"border-box"}),d.appendChild(c),d},BK=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},U7=(e,t)=>o=>()=>{const s=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:s+t,behavior:"smooth"})},dH=U7("left",-H7),uH=U7("left",H7),mH=U7("top",-H7),gH=U7("top",H7),IK=(e,t,o,s,a,c,d,f,b,w,T,R)=>{let N=0,F=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>a&&(N=t.pageX+o-a),t.pageY+s>c&&(F=t.pageY+s-c),e.style.width=o-N+"px",e.style.height=s-F+"px";const ee=b.clientHeight,X=b.clientWidth,K=d+b.getBoundingClientRect().top,ve=f+b.getBoundingClientRect().left;T.on(xe=>{xe.intervalId.clear(),xe.dragging&&R&&(d+V7>=ee?xe.intervalId.set(gH(w)):d-V7<=0?xe.intervalId.set(mH(w)):f+V7>=X?xe.intervalId.set(uH(w)):f-V7<=0?xe.intervalId.set(dH(w)):K+$7>=window.innerHeight?xe.intervalId.set(gH(window)):K-$7<=0?xe.intervalId.set(mH(window)):ve+$7>=window.innerWidth?xe.intervalId.set(uH(window)):ve-$7<=0&&xe.intervalId.set(dH(window)))})},fH=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},PK=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);fH(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Nc(oe.fromDom(o))},LK=e=>e.button===0,FK=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),zK=(e,t)=>o=>{if(LK(o)){const s=Cn(t.dom.getParents(o.target),OK).getOr(null);if(He(s)&&RK(t.dom,t.getBody(),s)){const a=t.dom.getPos(s),c=t.getBody(),d=t.getDoc().documentElement;e.set({element:s,dataTransfer:qP(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?c.scrollWidth:d.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:d.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:s.offsetWidth,height:s.offsetHeight,ghost:MK(t,s,s.offsetWidth,s.offsetHeight),intervalId:$f(DK)})}}},HK=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),aH(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),s=>{const a=e._selectionOverrides.showCaret(1,s.node,s.position===CC.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,o)})},HE=(e,t,o,s,a)=>{t==="dragstart"&&w9(s,e.dom.getOuterHTML(o));const c=TK(t,o,s,a);return e.dispatch(t,c)},VK=(e,t)=>{const o=ys((a,c)=>HK(t,a,c),0);t.on("remove",o.cancel);const s=e;return a=>e.on(c=>{const d=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&d>10){const f=HE(t,"dragstart",c.element,c.dataTransfer,a);if(He(f.dataTransfer)&&(c.dataTransfer=f.dataTransfer),f.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const f=a.currentTarget===t.getDoc().documentElement,b=FK(c,kK(t,a));BK(c.ghost,t.getBody()),IK(c.ghost,b,c.width,c.height,c.maxX,c.maxY,a.clientY,a.clientX,t.getContentAreaContainer(),t.getWin(),s,f),o.throttle(a.clientX,a.clientY)}})},$K=e=>{const t=e.getSel();if(He(t)){const s=t.getRangeAt(0).startContainer;return mt(s)?s.parentNode:s}else return null},UK=(e,t)=>o=>{e.on(s=>{var a;if(s.intervalId.clear(),s.dragging){if(NK(t,$K(t.selection),s.element)){const c=(a=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&a!==void 0?a:t.getBody();HE(t,"drop",c,s.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{PK(t.dom,s.element),WZ(s.dataTransfer).each(f=>t.insertContent(f)),t._selectionOverrides.hideFakeCaret()})}HE(t,"dragend",t.getBody(),s.dataTransfer,o)}}),hH(e)},pH=(e,t,o)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&o.fold(()=>HE(t,"dragend",s.element,s.dataTransfer),a=>HE(t,"dragend",s.element,s.dataTransfer,a))}),hH(e)},ZK=(e,t)=>o=>pH(e,t,P.some(o)),hH=e=>{e.on(t=>{t.intervalId.clear(),fH(t.ghost)}),e.clear()},jK=e=>{const t=Bl(),o=Nn.DOM,s=document,a=zK(t,e),c=VK(t,e),d=UK(t,e),f=ZK(t,e);e.on("mousedown",a),e.on("mousemove",c),e.on("mouseup",d),o.bind(s,"mousemove",c),o.bind(s,"mouseup",f),e.on("remove",()=>{o.unbind(s,"mousemove",c),o.unbind(s,"mouseup",f)}),e.on("keydown",b=>{b.keyCode===Lt.ESC&&pH(t,e,P.none())})},WK=e=>{const t=a=>{if(!a.isDefaultPrevented()){const c=a.dataTransfer;c&&($o(c.types,"Files")||c.files.length>0)&&(a.preventDefault(),a.type==="drop"&&_2(e,"Dropped file type is not supported"))}},o=a=>{a1(e,a.target)&&t(a)},s=()=>{const a=Nn.DOM,c=e.dom,d=document,f=e.inline?e.getBody():e.getDoc(),b=["drop","dragover"];je(b,w=>{a.bind(d,w,o),c.bind(f,w,t)}),e.on("remove",()=>{je(b,w=>{a.unbind(d,w,o),c.unbind(f,w,t)})})};e.on("init",()=>{Td.setEditorTimeout(e,s,0)})},qK=e=>{jK(e),KR(e)&&WK(e)},GK=e=>{const t=ys(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const s=mC(e,o,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},KK=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(vi(o)){const s=Ip(e.getBody(),o),a=Kn(s)?s:o;e.selection.getNode()!==a&&Fb(e,a).each(c=>e.selection.setRng(c))}})})},VE=Kn,bH=(e,t)=>Ip(e.getBody(),t),YK=e=>{const t=e.selection,o=e.dom,s=e.getBody(),a=r5(e,s,o.isBlock,()=>Lc(e)),c="sel-"+o.uniqueId(),d="data-mce-selected";let f;const b=ht=>He(ht)&&o.hasClass(ht,"mce-offscreen-selection"),w=ht=>ht!==s&&(VE(ht)||vi(ht))&&o.isChildOf(ht,s)&&o.isEditable(ht.parentNode),T=ht=>{ht&&t.setRng(ht)},R=(ht,Xe,Ke,at=!0)=>e.dispatch("ShowCaret",{target:Xe,direction:ht,before:Ke}).isDefaultPrevented()?null:(at&&t.scrollIntoView(Xe,ht===-1),a.show(Ke,Xe)),N=ht=>{ht.hasAttribute("data-mce-caret")&&(P0(ht),t.scrollIntoView(ht))},F=()=>{e.on("click",Xe=>{o.isEditable(Xe.target)||(Xe.preventDefault(),e.focus())}),e.on("blur NewBlock",Fe),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",Xe=>{const Ke=Xe.target,at=bH(e,Ke);VE(at)?(Xe.preventDefault(),Fb(e,at).each(Te)):w(Ke)&&Fb(e,Ke).each(Te)},!0),e.on("mousedown",Xe=>{const Ke=Xe.target;if(Ke!==s&&Ke.nodeName!=="HTML"&&!o.isChildOf(Ke,s)||!WO(e,Xe.clientX,Xe.clientY))return;Fe(),Ot();const at=bH(e,Ke);VE(at)?(Xe.preventDefault(),Fb(e,at).each(Te)):aH(s,Xe.clientX,Xe.clientY).each($t=>{Xe.preventDefault();const lo=R(1,$t.node,$t.position===CC.Before,!1);T(lo),Io(at)?at.focus():e.getBody().focus()})}),e.on("keypress",Xe=>{Lt.modifierPressed(Xe)||VE(t.getNode())&&Xe.preventDefault()}),e.on("GetSelectionRange",Xe=>{let Ke=Xe.range;if(f){if(!f.parentNode){f=null;return}Ke=Ke.cloneRange(),Ke.selectNode(f),Xe.range=Ke}}),e.on("focusin",Xe=>{if(!vi(Xe.target)&&e.getBody().contains(Xe.target)&&Xe.target!==e.getBody()&&!e.dom.isEditable(Xe.target.parentNode)){a.isShowing()&&a.hide(),Xe.target.contains(e.selection.getNode())||(e.selection.select(Xe.target,!0),e.selection.collapse(!0));const Ke=Te(e.selection.getRng(),!0);Ke&&e.selection.setRng(Ke)}}),e.on("SetSelectionRange",Xe=>{Xe.range=K(Xe.range);const Ke=Te(Xe.range,Xe.forward);Ke&&(Xe.range=Ke)});const ht=Xe=>jt(Xe)&&Xe.id==="mcepastebin";e.on("AfterSetSelectionRange",Xe=>{const Ke=Xe.range,at=Ke.startContainer.parentElement;!X(Ke)&&!ht(at)&&Ot(),b(at)||Fe()}),qK(e),GK(e),KK(e)},ee=ht=>vl(ht)||hp(ht)||Wh(ht),X=ht=>ee(ht.startContainer)||ee(ht.endContainer),K=ht=>{const Xe=e.schema.getVoidElements(),Ke=o.createRng(),at=ht.startContainer,$t=ht.startOffset,lo=ht.endContainer,To=ht.endOffset;return vo(Xe,at.nodeName.toLowerCase())?$t===0?Ke.setStartBefore(at):Ke.setStartAfter(at):Ke.setStart(at,$t),vo(Xe,lo.nodeName.toLowerCase())?To===0?Ke.setEndBefore(lo):Ke.setEndAfter(lo):Ke.setEnd(lo,To),Ke},ve=(ht,Xe)=>{const Ke=oe.fromDom(e.getBody()),at=e.getDoc(),$t=zs(Ke,"#"+c).getOrThunk(()=>{const nn=oe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',at);return Wr(nn,"id",c),dn(Ke,nn),nn}),lo=o.createRng();Iu($t),Ws($t,[oe.fromText(Fs,at),oe.fromDom(Xe),oe.fromText(Fs,at)]),lo.setStart($t.dom.firstChild,1),lo.setEnd($t.dom.lastChild,0),Qf($t,{top:o.getPos(ht,e.getBody()).y+"px"}),Hg($t);const To=t.getSel();return To&&(To.removeAllRanges(),To.addRange(lo)),lo},xe=ht=>{const Xe=ht.cloneNode(!0),Ke=e.dispatch("ObjectSelected",{target:ht,targetClone:Xe});if(Ke.isDefaultPrevented())return null;const at=ve(ht,Ke.targetClone),$t=oe.fromDom(ht);return je(qr(oe.fromDom(e.getBody()),`*[${d}]`),lo=>{tn($t,lo)||Mr(lo,d)}),o.getAttrib(ht,d)||ht.setAttribute(d,"1"),f=ht,Ot(),at},Te=(ht,Xe)=>{if(!ht)return null;if(ht.collapsed){if(!X(ht)){const lo=Xe?1:-1,To=W0(lo,s,ht),nn=To.getNode(!Xe);if(He(nn)){if(Z0(nn))return R(lo,nn,Xe?!To.isAtEnd():!1,!1);if(Km(nn)&&Kn(nn.nextSibling)){const xs=o.createRng();return xs.setStart(nn,0),xs.setEnd(nn,0),xs}}const ms=To.getNode(Xe);if(He(ms)){if(Z0(ms))return R(lo,ms,Xe?!1:!To.isAtEnd(),!1);if(Km(ms)&&Kn(ms.previousSibling)){const xs=o.createRng();return xs.setStart(ms,1),xs.setEnd(ms,1),xs}}}return null}let Ke=ht.startContainer,at=ht.startOffset;const $t=ht.endOffset;if(mt(Ke)&&at===0&&VE(Ke.parentNode)&&(Ke=Ke.parentNode,at=o.nodeIndex(Ke),Ke=Ke.parentNode),!jt(Ke))return null;if($t===at+1&&Ke===ht.endContainer){const lo=Ke.childNodes[at];if(w(lo))return xe(lo)}return null},Fe=()=>{f&&f.removeAttribute(d),zs(oe.fromDom(e.getBody()),"#"+c).each(ds),f=null},rt=()=>{a.destroy(),f=null},Ot=()=>{a.hide()};return rm(e)||F(),{showCaret:R,showBlockCaretContainer:N,hideFakeCaret:Ot,destroy:rt}},XK=(e,t)=>{let o=t;for(let s=e.previousSibling;mt(s);s=s.previousSibling)o+=s.data.length;return o},xH=(e,t,o,s,a)=>{if(mt(o)&&(s<0||s>o.data.length))return[];const c=a&&mt(o)?[XK(o,s)]:[s];let d=o;for(;d!==t&&d.parentNode;)c.push(e.nodeIndex(d,a)),d=d.parentNode;return d===t?c.reverse():[]},bL=(e,t,o,s,a,c,d=!1)=>{const f=xH(e,t,o,s,d),b=xH(e,t,a,c,d);return{start:f,end:b}},vH=(e,t)=>{const o=t.slice(),s=o.pop();return E(s)?zo(o,(c,d)=>c.bind(f=>P.from(f.childNodes[d])),P.some(e)).bind(c=>mt(c)&&(s<0||s>c.data.length)?P.none():P.some({node:c,offset:s})):P.none()},yH=(e,t)=>vH(e,t.start).bind(({node:o,offset:s})=>vH(e,t.end).map(({node:a,offset:c})=>{const d=document.createRange();return d.setStart(o,s),d.setEnd(a,c),d})),QK=(e,t,o,s=!1)=>bL(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,s),kC=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const s=t.parentNode;e.remove(t,mt(t.firstChild)&&Pm(t.firstChild.data)),kC(e,s,o)}},Z7=(e,t,o,s=!0)=>{const a=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),s&&!o(t.startContainer)&&(mt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),mt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),kC(e,a,o),a!==c&&kC(e,c,o))},j7=(e,t)=>P.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),xL=(e,t,o)=>{const s=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:XC(s).concat(e.blockPatterns),inlinePatterns:xA(s).concat(e.inlinePatterns)}},vL=(e,t,o,s)=>{const a=e.createRng();return a.setStart(t,0),a.setEnd(o,s),a.toString()},wH=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),W7=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},_H=(e,t,o)=>{const s=yH(e.getRoot(),o).getOrDie("Unable to resolve path range"),a=s.startContainer,c=s.endContainer,d=s.endOffset===0?c:c.splitText(s.endOffset),f=s.startOffset===0?a:a.splitText(s.startOffset),b=f.parentNode,w=d.parentNode;return{prefix:t,end:w.insertBefore(wH(e,t+"-end"),d),start:b.insertBefore(wH(e,t+"-start"),f)}},CH=(e,t,o)=>{kC(e,e.get(t.prefix+"-end"),o),kC(e,e.get(t.prefix+"-start"),o)},yL=e=>e.start.length===0,JK=e=>(t,o)=>{const a=t.data.substring(0,o),c=a.lastIndexOf(e.charAt(e.length-1)),d=a.lastIndexOf(e);return d!==-1?d+e.length:c!==-1?c+1:-1},kH=(e,t,o,s)=>{const a=t.start;return XP(e,s.container,s.offset,JK(a),o).bind(d=>{var f,b;const w=(b=(f=o.textContent)===null||f===void 0?void 0:f.indexOf(a))!==null&&b!==void 0?b:-1;if(w!==-1&&d.offset>=w+a.length){const R=e.createRng();return R.setStart(d.container,d.offset-a.length),R.setEnd(d.container,d.offset),P.some(R)}else{const R=d.offset-a.length;return YP(d.container,R,o).map(N=>{const F=e.createRng();return F.setStart(N.container,N.offset),F.setEnd(d.container,d.offset),F}).filter(N=>N.toString()===a).orThunk(()=>kH(e,t,o,Lf(d.container,0)))}})},eY=(e,t,o,s,a,c=!1)=>{if(t.start.length===0&&!c){const d=e.createRng();return d.setStart(o,s),d.setEnd(o,s),P.some(d)}return KP(o,s,a).bind(d=>kH(e,t,a,d).bind(b=>{var w;if(c){if(b.endContainer===d.container&&b.endOffset===d.offset)return P.none();if(d.offset===0&&((w=b.endContainer.textContent)===null||w===void 0?void 0:w.length)===b.endOffset)return P.none()}return P.some(b)}))},tY=(e,t,o,s)=>{const a=e.dom,c=a.getRoot(),d=o.pattern,f=o.position.container,b=o.position.offset;return YP(f,b-o.pattern.end.length,t).bind(w=>{const T=bL(a,c,w.container,w.offset,f,b,s);if(yL(d))return P.some({matches:[{pattern:d,startRng:T,endRng:T}],position:w});{const R=q7(e,o.remainingPatterns,w.container,w.offset,t,s),N=R.getOr({matches:[],position:w}),F=N.position;return eY(a,d,F.container,F.offset,t,R.isNone()).map(X=>{const K=QK(a,c,X,s);return{matches:N.matches.concat([{pattern:d,startRng:K,endRng:T}]),position:Lf(X.startContainer,X.startOffset)}})}})},q7=(e,t,o,s,a,c)=>{const d=e.dom;return KP(o,s,d.getRoot()).bind(f=>{const b=vL(d,a,o,s);for(let w=0;w<t.length;w++){const T=t[w];if(!Rg(b,T.end))continue;const R=t.slice();R.splice(w,1);const N=tY(e,a,{pattern:T,remainingPatterns:R,position:f},c);if(N.isNone()&&s>0)return q7(e,t,o,s-1,a,c);if(N.isSome())return N}return P.none()})},SH=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?je(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},oY=(e,t,o,s)=>{const a=W7(e.dom,o);Z7(e.dom,a,s),SH(e,t,a)},nY=(e,t,o,s,a)=>{const c=e.dom,d=W7(c,s),f=W7(c,o);Z7(c,f,a),Z7(c,d,a);const b={prefix:o.prefix,start:o.end,end:s.start},w=W7(c,b);SH(e,t,w)},sY=(e,t)=>{const o=Zs("mce_textpattern"),s=mn(t,(a,c)=>{const d=_H(e,o+`_end${a.length}`,c.endRng);return a.concat([{...c,endMarker:d}])},[]);return mn(s,(a,c)=>{const d=s.length-a.length-1,f=yL(c.pattern)?c.endMarker:_H(e,o+`_start${d}`,c.startRng);return a.concat([{...c,startMarker:f}])},[])},rY=e=>Jt(e,(t,o)=>o.end.length-t.end.length),aY=(e,t)=>{const o=Pa(e,s=>In(t,a=>s.pattern.start===a.pattern.start&&s.pattern.end===a.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},EH=(e,t,o,s,a,c)=>{const d=q7(e,a.inlinePatterns,o,s,t,c).fold(()=>[],b=>b.matches),f=q7(e,rY(a.inlinePatterns),o,s,t,c).fold(()=>[],b=>b.matches);return aY(d,f)},AH=(e,t)=>{if(t.length===0)return;const o=e.dom,s=e.selection.getBookmark(),a=sY(o,t);je(a,c=>{const d=o.getParent(c.startMarker.start,o.isBlock),f=b=>b===d;yL(c.pattern)?oY(e,c.pattern,c.endMarker,f):nY(e,c.pattern,c.startMarker,c.endMarker,f),CH(o,c.endMarker,f),CH(o,c.startMarker,f)}),e.selection.moveToBookmark(s)},TH=(e,t,o)=>Cj(t,0,t).map(s=>{const a=s.container;return R9(a,o.start.length,t).each(c=>{const d=e.createRng();d.setStart(a,0),d.setEnd(c.container,c.offset),Z7(e,d,f=>f===t)}),a}),DH=e=>(t,o)=>{const s=t.dom,a=o.pattern,c=yH(s.getRoot(),o.range).getOrDie("Unable to resolve path range"),d=(f,b)=>{const w=b.get(f);return me(w)&&qn(w).exists(T=>vo(T,"block"))};return j7(t,c).each(f=>{a.type==="block-format"?d(a.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,f,a),t.formatter.apply(a.format)}):a.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,f,a),t.execCommand(a.cmd,!1,a.value)})}),!0},iY=e=>Jt(e,(t,o)=>o.start.length-t.start.length),OH=e=>(t,o)=>{const s=iY(t),a=o.replace(Fs," ");return Cn(s,c=>e(c,o,a))},RH=(e,t)=>(o,s,a,c,d)=>{var f;d===void 0&&(d=(f=s.textContent)!==null&&f!==void 0?f:"");const b=o.dom,w=Za(o);return b.is(s,w)?e(a.blockPatterns,d).map(T=>t&&it.trim(d).length===T.start.length?[]:[{pattern:T,range:bL(b,b.getRoot(),s,0,s,0,c)}]).getOr([]):[]},lY=e=>/^\s[^\s]/.test(e),cY=DH((e,t,o)=>{TH(e,t,o).each(s=>{const a=oe.fromDom(s),c=dd(a);lY(c)&&Pi(a,c.slice(1))})}),dY=OH((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),uY=RH(dY,!0),mY=(e,t)=>{const o=e.selection.getRng();return j7(e,o).map(s=>{var a;const c=Math.max(0,o.startOffset),d=xL(t,s,(a=s.textContent)!==null&&a!==void 0?a:""),f=EH(e,s,o.startContainer,c,d,!0),b=uY(e,s,d,!0);return{inlineMatches:f,blockMatches:b}}).filter(({inlineMatches:s,blockMatches:a})=>a.length>0||s.length>0)},gY=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();je(t,s=>cY(e,s)),e.selection.moveToBookmark(o)},fY=DH(TH),pY=OH((e,t,o)=>t===e.start||o===e.start),hY=RH(pY,!1),bY=(e,t)=>{const o=e.selection.getRng();return j7(e,o).map(s=>{const a=Math.max(0,o.startOffset),c=vL(e.dom,s,o.startContainer,a),d=xL(t,s,c);return hY(e,s,d,!1,c)}).filter(s=>s.length>0)},xY=(e,t)=>{je(t,o=>fY(e,o))},vY=(e,t)=>mY(e,t).fold(_o,({inlineMatches:o,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{B0(e),AH(e,o),gY(e,s);const a=e.selection.getRng(),c=KP(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(d=>{const f=d.container;f.data.charAt(d.offset-1)===Qc&&(f.deleteData(d.offset-1,1),kC(e.dom,f.parentNode,b=>b===e.dom.getRoot()))})}),!0)),yY=(e,t)=>{const o=e.selection.getRng();j7(e,o).map(s=>{const a=Math.max(0,o.startOffset-1),c=vL(e.dom,s,o.startContainer,a),d=xL(t,s,c),f=EH(e,s,o.startContainer,a,d,!1);f.length>0&&e.undoManager.transact(()=>{AH(e,f)})})},wY=(e,t)=>bY(e,t).fold(_o,o=>(e.undoManager.transact(()=>{xY(e,o)}),!0)),NH=(e,t,o)=>{for(let s=0;s<e.length;s++)if(o(e[s],t))return!0;return!1},_Y=(e,t)=>NH(e,t,(o,s)=>o===s.keyCode&&!Lt.modifierPressed(s)),CY=(e,t)=>NH(e,t,(o,s)=>o.charCodeAt(0)===s.charCode),kY=e=>{const t=[",",".",";",":","!","?"],o=[32],s=()=>QC(rN(e).filter(d=>d.type==="inline-command"||d.type==="block-command"?e.queryCommandSupported(d.cmd):!0),aN(e)),a=()=>vk(e);e.on("keydown",d=>{if(d.keyCode===13&&!Lt.modifierPressed(d)&&e.selection.isCollapsed()&&e.selection.isEditable()){const f=Ua(s(),"enter");(f.inlinePatterns.length>0||f.blockPatterns.length>0||a())&&vY(e,f)&&d.preventDefault()}},!0),e.on("keydown",d=>{if(d.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const f=Ua(s(),"space");(f.blockPatterns.length>0||a())&&wY(e,f)&&d.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const d=Ua(s(),"space");(d.inlinePatterns.length>0||a())&&yY(e,d)}};e.on("keyup",d=>{_Y(o,d)&&c()}),e.on("keypress",d=>{CY(t,d)&&Td.setEditorTimeout(e,c)})},SY=e=>{kY(e)},EY=e=>{const t=it.each,o=Lt.BACKSPACE,s=Lt.DELETE,a=e.dom,c=e.selection,d=e.parser,f=Eo.browser,b=f.isFirefox(),w=f.isChromium()||f.isSafari(),T=Eo.deviceType.isiPhone()||Eo.deviceType.isiPad(),R=Eo.os.isMacOS()||Eo.os.isiOS(),N=(St,Vt)=>{try{e.getDoc().execCommand(St,!1,String(Vt))}catch{}},F=St=>St.isDefaultPrevented(),ee=()=>{const St=mo=>{const wo=a.create("body"),ts=mo.cloneContents();return wo.appendChild(ts),c.serializer.serialize(wo,{format:"html"})},Vt=mo=>{const wo=St(mo),ts=a.createRng();ts.selectNode(e.getBody());const ps=St(ts);return wo===ps};e.on("keydown",mo=>{const wo=mo.keyCode;if(!F(mo)&&(wo===s||wo===o)&&e.selection.isEditable()){const ts=e.selection.isCollapsed(),ps=e.getBody();if(ts&&!Vu(e.schema,ps)||!ts&&!Vt(e.selection.getRng()))return;mo.preventDefault(),e.setContent(""),ps.firstChild&&a.isBlock(ps.firstChild)?e.selection.setCursorLocation(ps.firstChild,0):e.selection.setCursorLocation(ps,0),e.nodeChanged()}})},X=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},K=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",St=>{var Vt;let mo;if(St.target===e.getDoc().documentElement)if(mo=c.getRng(),((Vt=e.getDoc().getSelection())===null||Vt===void 0?void 0:Vt.anchorNode)!==null&&e.getBody().focus(),St.type==="mousedown"){if(vl(mo.startContainer))return;c.placeCaretAt(St.clientX,St.clientY)}else c.setRng(mo)})},ve=()=>{e.on("keydown",St=>{if(!F(St)&&St.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const Vt=c.getNode(),mo=Vt.previousSibling;if(Vt.nodeName==="HR"){a.remove(Vt),St.preventDefault();return}mo&&mo.nodeName&&mo.nodeName.toLowerCase()==="hr"&&(a.remove(mo),St.preventDefault())}}})},xe=()=>{Range.prototype.getClientRects||e.on("mousedown",St=>{if(!F(St)&&St.target.nodeName==="HTML"){const Vt=e.getBody();Vt.blur(),Td.setEditorTimeout(e,()=>{Vt.focus()})}})},Te=()=>{const St=LA(e);e.on("click",Vt=>{const mo=Vt.target;/^(IMG|HR)$/.test(mo.nodeName)&&a.isEditable(mo)&&(Vt.preventDefault(),e.selection.select(mo),e.nodeChanged()),mo.nodeName==="A"&&a.hasClass(mo,St)&&mo.childNodes.length===0&&a.isEditable(mo.parentNode)&&(Vt.preventDefault(),c.select(mo))})},Fe=()=>{const St=Vt=>Vt.nodeName==="IMG"&&e.dom.isEditable(Vt);e.on("mousedown",Vt=>{Es(P.from(Vt.clientX),P.from(Vt.clientY),(mo,wo)=>{var ts;const ps=e.getDoc().caretPositionFromPoint(mo,wo),Pd=((ts=ps?.offsetNode)===null||ts===void 0?void 0:ts.childNodes[ps.offset-(ps.offset>0?1:0)])||ps?.offsetNode;if(He(Pd)&&St(Pd)){const di=Pd.getBoundingClientRect();Vt.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(Pd),Vt.clientX<di.left||Vt.clientY<di.top?e.selection.collapse(!0):(Vt.clientX>di.right||Vt.clientY>di.bottom)&&e.selection.collapse(!1)}})})},rt=()=>{const St=()=>{const mo=a.getAttribs(c.getStart().cloneNode(!1));return()=>{const wo=c.getStart();wo!==e.getBody()&&(a.setAttrib(wo,"style",null),t(mo,ts=>{wo.setAttributeNode(ts.cloneNode(!0))}))}},Vt=()=>!c.isCollapsed()&&a.getParent(c.getStart(),a.isBlock)!==a.getParent(c.getEnd(),a.isBlock);e.on("keypress",mo=>{let wo;return!F(mo)&&(mo.keyCode===8||mo.keyCode===46)&&Vt()?(wo=St(),e.getDoc().execCommand("delete",!1),wo(),mo.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",mo=>{if(!F(mo)&&Vt()){const wo=St();Td.setEditorTimeout(e,()=>{wo()})}})},Ot=()=>{e.on("keydown",St=>{if(!F(St)&&St.keyCode===o&&c.isCollapsed()&&c.getRng().startOffset===0){const Vt=c.getNode().previousSibling;if(Vt&&Vt.nodeName&&Vt.nodeName.toLowerCase()==="table")return St.preventDefault(),!1}return!0})},ht=()=>{e.on("keydown",St=>{if(F(St)||St.keyCode!==Lt.BACKSPACE)return;let Vt=c.getRng();const mo=Vt.startContainer,wo=Vt.startOffset,ts=a.getRoot();let ps=mo;if(!(!Vt.collapsed||wo!==0)){for(;ps.parentNode&&ps.parentNode.firstChild===ps&&ps.parentNode!==ts;)ps=ps.parentNode;ps.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,ps),Vt=a.createRng(),Vt.setStart(mo,0),Vt.setEnd(mo,0),c.setRng(Vt))}})},Xe=()=>{const St=Xr("figcaption");e.on("keydown",Vt=>{if(Vt.keyCode===Lt.LEFT||Vt.keyCode===Lt.RIGHT){const mo=oe.fromDom(e.selection.getNode());St(mo)&&e.selection.isCollapsed()&&Yi(mo).bind(wo=>{var ts;return e.selection.getRng().startOffset===0&&Vt.keyCode===Lt.LEFT?Fl(wo):e.selection.getRng().endOffset===((ts=mo.dom.textContent)===null||ts===void 0?void 0:ts.length)&&Vt.keyCode===Lt.RIGHT?ad(wo):P.none()}).each(wo=>{e.selection.setCursorLocation(wo.dom,0)})}})},Ke=()=>{const St=()=>{N("StyleWithCSS",!1),N("enableInlineTableEditing",!1),Kh(e)||N("enableObjectResizing",!1)};gk(e)||e.on("BeforeExecCommand mousedown",St)},at=()=>{const St=()=>{t(a.select("a:not([data-mce-block])"),Vt=>{var mo;let wo=Vt.parentNode;const ts=a.getRoot();if(wo?.lastChild===Vt){for(;wo&&!a.isBlock(wo);){if(((mo=wo.parentNode)===null||mo===void 0?void 0:mo.lastChild)!==wo||wo===ts)return;wo=wo.parentNode}a.add(wo,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Vt=>{(Vt.type==="setcontent"||Vt.command==="mceInsertLink")&&St()})},$t=()=>{e.on("init",()=>{N("DefaultParagraphSeparator",Za(e))})},lo=St=>{const Vt=St.getBody(),mo=St.selection.getRng();return mo.startContainer===mo.endContainer&&mo.startContainer===Vt&&mo.startOffset===0&&mo.endOffset===Vt.childNodes.length},To=()=>{e.on("keyup focusin mouseup",St=>{!Lt.modifierPressed(St)&&!lo(e)&&c.normalize()},!0)},nn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ms=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},xs=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",St=>{let Vt;St.target.nodeName==="HTML"&&(Vt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Vt),e.selection.normalize(),e.nodeChanged())}))},va=()=>{R&&e.on("keydown",St=>{Lt.metaKeyPressed(St)&&!St.shiftKey&&(St.keyCode===37||St.keyCode===39)&&(St.preventDefault(),e.selection.getSel().modify("move",St.keyCode===37?"backward":"forward","lineboundary"))})},Sr=()=>{e.on("click",St=>{let Vt=St.target;do if(Vt.tagName==="A"){St.preventDefault();return}while(Vt=Vt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},al=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",St=>{St.preventDefault()})})},Pt=()=>{d.addNodeFilter("br",St=>{let Vt=St.length;for(;Vt--;)St[Vt].attr("class")==="Apple-interchange-newline"&&St[Vt].remove()})},to=Ro,Bn=()=>{if(!b||e.removed)return!1;const St=e.selection.getSel();return!St||!St.rangeCount||St.rangeCount===0},Ln=()=>{w&&(K(),Te(),al(),X(),T&&(ms(),xs(),Sr())),b&&(xe(),Ke(),nn(),va())},Yt=()=>{ht(),ee(),Eo.windowsPhone||To(),w&&(K(),Te(),$t(),al(),Ot(),Pt(),T?(ms(),xs(),Sr()):X()),b&&(Xe(),Fe(),ve(),xe(),rt(),Ke(),at(),nn(),va(),Ot())};return rm(e)?Ln():Yt(),{refreshContentEditable:to,isHidden:Bn}},wL=Nn.DOM,AY=(e,t)=>{const o=oe.fromDom(e.getBody()),s=ea(Qd(o)),a=oe.fromTag("style");Wr(a,"type","text/css"),dn(a,oe.fromText(t)),dn(s,a),e.on("remove",()=>{ds(a)})},TY=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,_L=e=>Dr(e,t=>Os(t)===!1),MH=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return _L({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_html_in_comments:t("allow_html_in_comments"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:TY(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:yk(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},BH=e=>{const t=e.options.get;return _L({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},DY=e=>{const t=e.options.get;return{...MH(e),...BH(e),..._L({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},OY=e=>{const t=Hp(MH(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,s)=>{const a=e.dom,c="data-mce-"+s;let d=o.length;for(;d--;){const f=o[d];let b=f.attr(s);if(b&&!f.attr(c)){if(b.indexOf("data:")===0||b.indexOf("blob:")===0)continue;s==="style"?(b=a.serializeStyle(a.parseStyle(b),f.name),b.length||(b=null),f.attr(c,b),f.attr(s,b)):s==="tabindex"?(f.attr(c,b),f.attr(s,null)):f.attr(c,e.convertURL(b,s,f.name))}}}),t.addNodeFilter("script",o=>{let s=o.length;for(;s--;){const a=o[s],c=a.attr("type")||"no/type";c.indexOf("mce-")!==0&&a.attr("type","mce-"+c)}}),iN(e)&&t.addNodeFilter("#cdata",o=>{var s;let a=o.length;for(;a--;){const c=o[a];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((s=c.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let s=o.length;const a=e.schema.getNonEmptyElements();for(;s--;){const c=o[s];c.isEmpty(a)&&c.getAll("br").length===0&&c.append(new li("br",1))}}),t},RY=e=>{const t=HA(e);t&&Td.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},NY=e=>{const t=e.dom.getRoot();!e.inline&&(!hv(e)||e.selection.getStart(!0)===t)&&un(t).each(o=>{const s=o.getNode(),a=Ac(s)?un(s).getOr(o):o;e.selection.setRng(a.toRange())})},MY=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Cr(e),e.focus(!0),NY(e),e.nodeChanged({initial:!0});const t=FA(e);so(t)&&t.call(e,e),RY(e),bg(e)&&K_(e,!0)},CL=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,BY=(e,t,o)=>{const{pass:s,fail:a}=At(t,f=>tinymce.Resource.has(Y_(f))),d=[...s.map(f=>{const b=tinymce.Resource.get(Y_(f));return Re(b)?Promise.resolve(CL(e).loadRawCss(f,b)):Promise.resolve()}),CL(e).loadAll(a)];return e.inline?d:d.concat([e.ui.styleSheetLoader.loadAll(o)])},IH=e=>{const t=CL(e),o=Ma(e),s=e.contentCSS,a=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(o)},c=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let b="";it.each(e.contentStyles,w=>{b+=w+`\r
`}),e.dom.addStyle(b)}const d=Promise.all(BY(e,s,o)).then(c).catch(c),f=VR(e);return f&&AY(e,f),d},IY=e=>{const t=e.getDoc(),o=e.getBody();kR(e),VA(e)||(t.body.spellcheck=!1,wL.setAttrib(o,"spellcheck","false")),e.quirks=EY(e),SR(e);const s=ck(e);s!==void 0&&(o.dir=s);const a=pk(e);a&&e.on("BeforeSetContent",c=>{it.each(a,d=>{c.content=c.content.replace(d,f=>"<!--mce:protected "+escape(f)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},PY=e=>{rm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},kL=e=>{e.removed!==!0&&(PY(e),MY(e))},LY=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},PH=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(wL.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=gk(e),e._editableRoot=qR(e),!eg(e)&&e.hasEditableRoot()&&(e.inline&&wL.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=x8(e),e.schema=Kt(BH(e)),e.dom=Nn(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:qy(e),referrerPolicy:Qm(e),crossOrigin:hf(e),onSetAttrib:d=>{e.dispatch("SetAttrib",d)}}),e.parser=OY(e),e.serializer=DS(DY(e),e),e.selection=LO(e.dom,e.getWin(),e.serializer,e),e.annotator=or(e),e.formatter=C8(e),e.undoManager=tC(e),e._nodeChangeDispatcher=new Yq(e),e._selectionOverrides=YK(e),Kq(e),UU(e),tK(e),QU(e),rm(e)||(lK(e),SY(e));const a=Vq(e);HU(e,a),GU(e),tE(e),QG(e,a);const c=cI(e);IY(e),c.fold(()=>{const d=LY(e);IH(e).then(()=>{kL(e),d()})},d=>{e.setProgressState(!0),IH(e).then(()=>{d().then(f=>{e.setProgressState(!1),kL(e),BO(e)},f=>{e.notificationManager.open({type:"error",text:String(f)}),kL(e),BO(e)})})})},SL=Nn.DOM,FY=(e,t,o,s)=>{const a=oe.fromTag("iframe");return s.each(c=>Wr(a,"tabindex",c)),Xi(a,o),Xi(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",...Eo.browser.isFirefox()?{title:t}:{}}),$l(a,"tox-edit-area__iframe"),a},zY=e=>{let t=SA(e)+"<html><head>";Uy(e)!==e.editorManager.documentBaseURL&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=EA(e),s=AA(e),a=e.translate(yp(e)),c=Eo.browser.isFirefox()?"":`aria-label="${a}"`;return nv(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+nv(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${s}" data-id="${e.id}" ${c}><br></body></html>`,t},HY=(e,t)=>{const o=yp(e),s=e.translate(o),a=vc(oe.fromDom(e.getElement()),"tabindex").bind(Du),c=FY(e.id,s,MR(e),a).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=zY(e),SL.add(t.iframeContainer,c)},VY=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,PH(e)};if(qA(e)||Eo.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),o()}else{const s=lx(oe.fromDom(t),"load",()=>{s.unbind(),o()});t.srcdoc=e.iframeHTML}},$Y=(e,t)=>{HY(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=SL.isHidden(t.editorContainer)),e.getElement().style.display="none",SL.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,VY(e)},LH=Nn.DOM,UY=(e,t,o)=>{const s=R1.get(o),a=R1.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=it.trim(o),s&&it.inArray(t,o)===-1){if(e.plugins[o])return;try{const c=s(e,a)||{};e.plugins[o]=c,so(c.init)&&(c.init(e,a),t.push(o))}catch(c){qI(e,o,c)}}},ZY=e=>{const t=o=>{o.keyCode===Lt.ESC&&!o.defaultPrevented&&NR(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",t),e.inline||e.on("keyup",t),e.on("remove",()=>{document.removeEventListener("keyup",t),e.inline||e.off("keyup",t)})},jY=e=>e.replace(/^\-/,""),WY=e=>{const t=[];je($0(e),o=>{UY(e,t,jY(o))})},qY=e=>{const t=it.trim(Xm(e)),o=e.ui.registry.getAll().icons,s={...w2.get("default").icons,...w2.get(t).icons};Jo(s,(a,c)=>{vo(o,c)||e.ui.registry.addIcon(c,a)})},GY=e=>{const t=V0(e);if(Re(t)){const o=N1.get(t);e.theme=o(e,N1.urls[t])||{},so(e.theme.init)&&e.theme.init(e,N1.urls[t]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},KY=e=>{const t=wl(e),o=O1.get(t);e.model=o(e,O1.urls[t])},YY=e=>{HS.init(e)},XY=e=>{const t=e.theme.renderUI;return t?t():zH(e)},QY=e=>{const t=e.getElement(),s=V0(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},FH=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),JY=e=>{const t=LH.create("div");return LH.insertAfter(t,e),FH(t,t)},zH=e=>{const t=e.getElement();return e.inline?FH(null):JY(t)},eX=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Re(V0(e))?XY(e):so(V0(e))?QY(e):zH(e)},tX=(e,t)=>{const o={show:P.from(t.show).getOr(Ro),hide:P.from(t.hide).getOr(Ro),isEnabled:P.from(t.isEnabled).getOr(Uo),setEnabled:s=>{s&&(e.mode.get()==="readonly"||bg(e))||P.from(t.setEnabled).each(c=>c(s))}};e.ui={...e.ui,...o}},oX=async e=>{e.dispatch("ScriptsLoaded"),qY(e),ZY(e),GY(e),KY(e),YY(e),WY(e);const t=await eX(e);tX(e,P.from(t.api).getOr({})),e.editorContainer=t.editorContainer,GS(e),e.inline?PH(e):$Y(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},z2=Nn.DOM,HH=e=>e.charAt(0)==="-",nX=(e,t)=>{const o=ik(t),s=FR(t);if(!Rc.hasCode(o)&&o!=="en"){const a=jr(s)?s:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{GO(t,a,o)})}},sX=(e,t)=>{const o=V0(e);if(Re(o)&&!HH(o)&&!vo(N1.urls,o)){const s=$R(e),a=s?e.documentBaseURI.toAbsolute(s):`themes/${o}/theme${t}.js`;N1.load(o,a).catch(()=>{KO(e,a,o)})}},rX=(e,t)=>{const o=wl(e);if(o!=="plugin"&&!vo(O1.urls,o)){const s=sl(e),a=Re(s)?e.documentBaseURI.toAbsolute(s):`models/${o}/model${t}.js`;O1.load(o,a).catch(()=>{U_(e,a,o)})}},aX=(e,t)=>{HS.load(e,t)},iX=e=>P.from(Wy(e)).filter(jr).map(t=>({url:t,name:P.none()})),VH=(e,t,o)=>P.from(t).filter(s=>jr(s)&&!w2.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${o}.js`,name:P.some(s)})),lX=(e,t,o)=>{const s=VH(t,"default",o),a=iX(t).orThunk(()=>VH(t,Xm(t),""));je(rh([s,a]),c=>{e.add(c.url).catch(()=>{jI(t,c.url,c.name.getOrUndefined())})})},cX=(e,t)=>{const o=(s,a)=>{s!=="licensekeymanager"&&R1.load(s,a).catch(()=>{ZI(e,a,s)})};Jo(GR(e),(s,a)=>{o(a,s),e.options.set("plugins",$0(e).concat(a))}),je($0(e),s=>{s=it.trim(s),s&&!R1.urls[s]&&!HH(s)&&o(s,`plugins/${s}/plugin${t}.js`)})},dX=e=>{const t=V0(e);return!Re(t)||He(N1.get(t))},uX=e=>{const t=wl(e);return He(O1.get(t))},mX=(e,t)=>{const o=Va.ScriptLoader,s=()=>{!e.removed&&dX(e)&&uX(e)&&oX(e)};sX(e,t),rX(e,t),aX(e,t),nX(o,e),lX(o,e,t),cX(e,t),o.loadQueue().then(s,s)},gX=(e,t)=>Tx.forElement(e,{contentCssCors:fk(t),referrerPolicy:Qm(t)}),fX=e=>{const t=e.id;Rc.setCode(ik(e));const o=()=>{z2.unbind(window,"ready",o),e.render()};if(!nf.Event.domLoaded){z2.bind(window,"ready",o);return}if(!e.getElement())return;const s=oe.fromDom(e.getElement()),a=yc(s);e.on("remove",()=>{ct(s.dom.attributes,d=>Mr(s,d.name)),Xi(s,a)}),e.ui.styleSheetLoader=gX(s,e),rv(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||z2.getParent(t,"form");c&&(e.formElement=c,jR(e)&&!Ch(e.getElement())&&(z2.insertAfter(z2.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=d=>{e.dispatch(d.type,d)},z2.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),IA(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=$_(e),e.notificationManager=BS(e),cN(e)&&e.on("GetContent",d=>{d.save&&(d.content=z2.encode(d.content))}),uk(e)&&e.on("submit",()=>{e.initialized&&e.save()}),PA(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),mX(e,e.suffix)},$H=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],pX=e=>{var t;return Intl.Segmenter?`${(t=new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value)===null||t===void 0?void 0:t.segment}`:e.trim()[0]},hX=(e,t)=>{let o=5381;for(let s=0;s<e.length;s++)o=(o<<5)+o+e.charCodeAt(s);return(o>>>0)%(t+1)},bX=e=>{const t=hX(e??"",$H.length-1);return $H[t]},xX=(e,t,o)=>{const s=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${s}" cy="${s}" r="${s}" fill="${t}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${s}">`+e+"</text></svg>"},vX=(e,t,o)=>"data:image/svg+xml,"+encodeURIComponent(xX(e,t,o)),EL=(e,t={size:36})=>vX(pX(e.name),bX(e.id),t.size),yX=G9([tW("id"),tz("name"),tz("avatar"),oW("custom")]),wX=e=>{const t={};return Jo(e,(o,s)=>{o.each(a=>{t[s]=a})}),t},_X=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const t=Mo(e,a=>K9("Invalid user object",yX,a)),{errors:o,values:s}=Kc(t);if(o.length>0){const a=Mo(o,(c,d)=>`User at index ${d}: ${Y9(c)}`);console.warn(`User validation errors:
`+a.join(`
`))}return Mo(s,a=>{const{id:c,name:d,avatar:f,...b}=a;return{id:c,name:d.getOr(c),avatar:f.getOr(EL({id:c,name:d.getOr(c)})),...wX(b)}})},CX=e=>{const t=new Map,o=new Map,s=w=>P.from(t.get(w)),a=(w,T)=>{t.set(T,w)},c=(w,T)=>P.from(o.get(w)).each(({reject:R})=>{R(T),o.delete(w)}),d=(w,T)=>P.from(o.get(w)).each(({resolve:R})=>{R(T),o.delete(w)}),f=w=>{const T=mN(e);if(Array.isArray(w)){if(!T)return Tr(w,N=>Promise.resolve({id:N,name:N,avatar:EL({id:N,name:N})}))}else return{};const R=gc(ft(w,N=>!s(N).isSome()));return je(R,N=>{const F=new Promise((ee,X)=>{o.set(N,{resolve:ee,reject:X})});a(F,N)}),R.length>0&&T(R).then(_X).then(N=>{const F=new Set(Mo(N,ee=>ee.id));je(N,ee=>d(ee.id,ee)),je(R,ee=>{F.has(ee)||c(ee,new Error(`User ${ee} not found`))})}).catch(N=>{je(R,F=>c(F,N instanceof Error?N:new Error("Network error")))}),zo(w,(N,F)=>(N[F]=s(F).getOr(Promise.resolve({id:F,name:F,avatar:EL({id:F,name:F})})),N),{})},b=Qy(e);return Object.freeze({userId:b,fetchUsers:f})},kX=e=>CX(e),SX=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,bg(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),CA(e,t))},EX=e=>e._editableRoot,AX=(e,t)=>({sections:ut(e),options:ut(t)}),UH=Ki().deviceType,ZH=UH.isPhone(),TX=UH.isTablet(),$E=e=>{if(Qo(e))return[];{const t=me(e)?e:e.split(/[ ,]/),o=Mo(t,Il);return ft(o,jr)}},DX=(e,t)=>{const o=Ur(t,(s,a)=>$o(e,a));return AX(o.t,o.f)},OX=(e,t,o={})=>{const s=e.sections(),a=An(s,t).getOr({});return it.extend({},o,a)},AL=(e,t)=>vo(e.sections(),t),RX=(e,t)=>AL(e,t)?e.sections()[t]:{},NX=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:An(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),MX=(e,t)=>{var o;const s=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?it.extend({},e.external_plugins,s):s},BX=(e,t)=>[...$E(e),...$E(t)],IX=(e,t,o,s)=>e&&AL(t,"mobile")?s:o,PX=(e,t,o,s)=>{const a=$E(o.forced_plugins),c=$E(s.plugins),d=RX(t,"mobile"),f=d.plugins?$E(d.plugins):c,b=IX(e,t,c,f),w=BX(a,b);return it.extend(s,{forced_plugins:a,plugins:w})},LX=(e,t)=>e&&AL(t,"mobile"),FX=(e,t,o,s,a)=>{var c;const d=e?{mobile:NX((c=a.mobile)!==null&&c!==void 0?c:{},t)}:{},f=DX(["mobile"],pc(d,a)),b=it.extend(o,s,f.options(),LX(e,f)?OX(f,"mobile"):{},{external_plugins:MX(s,f.options())});return PX(e,f,s,b)},zX=(e,t)=>{const o=Au(t);return FX(ZH||TX,ZH,o,e,o)},HX=(e,t)=>CI(e,t),VX=e=>{const t=(s,a)=>{e.formatter.toggle(s,a),e.nodeChanged()},o=s=>()=>{je("left,center,right,justify".split(","),a=>{s!==a&&e.formatter.remove("align"+a)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},$X=e=>{const t=o=>()=>{const s=e.selection,a=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return In(a,c=>He(e.formatter.matchNode(c,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},UX=e=>{VX(e),$X(e)},ZX=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let s;try{o.execCommand(t)}catch{s=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(s=!0),s||!o.queryCommandSupported(t)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Eo.os.isMacOS()||Eo.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:a,type:"error"})}}})},jX=(e,t,o,s)=>{const a=oe.fromDom(e.getRoot());return g1(a,Ge.fromRangeStart(t),s)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),ab(a,Ge.fromRangeEnd(t),s)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},WX=e=>{if(typeof e!="string"){const t=it.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},qX=(e,t)=>{const o=e.selection,s=e.dom;return/^ | $/.test(t)?jX(s,o.getRng(),t,e.schema):t},G7=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:s}=WX(t);Rf(e,{...s,content:qX(e,o),format:"html",set:!1,selection:!0}).each(a=>{const c=_I(e,a.content,s);v_(e,c,a),e.addVisual()})}},GX=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,s)=>{G7(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,s)=>{G7(e,e.dom.encode(s))},insertHTML:(t,o,s)=>{G7(e,s)},mceInsertContent:(t,o,s)=>{G7(e,s)},mceSetContent:(t,o,s)=>{e.setContent(s)},mceReplaceContent:(t,o,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent($A(e))}})},KX={"font-size":"size","font-family":"face"},YX=Xr("font"),XX=(e,t,o)=>{const s=c=>Am(c,e).orThunk(()=>YX(c)?An(KX,e).bind(d=>vc(c,d)):P.none()),a=c=>tn(oe.fromDom(t),c);return md(oe.fromDom(o),c=>s(c),a)},QX=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),JX=(e,t)=>P.from(Nn.DOM.getStyle(t,e,!0)),jH=e=>(t,o)=>P.from(o).map(oe.fromDom).filter(dr).bind(s=>XX(e,t,s.dom).or(JX(e,s.dom))).getOr(""),eQ=jH("font-size"),tQ=Hn(QX,jH("font-family")),oQ=e=>un(e.getBody()).bind(t=>{const o=t.container();return P.from(mt(o)?o.parentNode:o)}),nQ=e=>P.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?P.none():P.from(e.selection.getStart(!0))}),sQ=(e,t)=>nQ(e).orThunk(Ve(oQ,e)).map(oe.fromDom).filter(dr).bind(t),TL=(e,t)=>sQ(e,da(P.some,t)),WH=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const s=lN(e),a=GA(e);return a.length>0?a[o-1]||t:s[o-1]||t}else return t}else return t},rQ=e=>{const t=e.split(/\s*,\s*/);return Mo(t,o=>o.indexOf(" ")!==-1&&!(Ls(o,'"')||Ls(o,"'"))?`'${o}'`:o).join(",")},aQ=(e,t)=>{const o=WH(e,t);e.formatter.toggle("fontname",{value:rQ(o)}),e.nodeChanged()},iQ=e=>TL(e,t=>tQ(e.getBody(),t.dom)).getOr(""),lQ=(e,t)=>{e.formatter.toggle("fontsize",{value:WH(e,t)}),e.nodeChanged()},cQ=e=>TL(e,t=>eQ(e.getBody(),t.dom)).getOr(""),dQ=e=>TL(e,t=>{const o=oe.fromDom(e.getBody()),s=md(t,c=>Am(c,"line-height"),Ve(tn,o)),a=()=>{const c=parseFloat(pl(t,"line-height")),d=parseFloat(pl(t,"font-size"));return String(c/d)};return s.getOrThunk(a)}).getOr(""),uQ=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},mQ=e=>{const t=(o,s)=>{e.formatter.toggle(o,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,s,a)=>{t(o,{value:a})},BackColor:(o,s,a)=>{t("hilitecolor",{value:a})},FontName:(o,s,a)=>{aQ(e,a)},FontSize:(o,s,a)=>{lQ(e,a)},LineHeight:(o,s,a)=>{uQ(e,a)},Lang:(o,s,a)=>{var c;t(o,{value:a.code,customValue:(c=a.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,s,a)=>{t(Re(a)?a:"p")},mceToggleFormat:(o,s,a)=>{t(a)}})},gQ=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>iQ(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>cQ(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>dQ(e))},fQ=e=>{mQ(e),gQ(e)},pQ=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},hQ=e=>{e.editorCommands.addCommands({Indent:()=>{LU(e)},Outdent:()=>{HF(e)}}),e.editorCommands.addCommands({Outdent:()=>PF(e),Indent:()=>IU(e)},"state")},bQ=e=>{const t=(o,s,a)=>{if(e.mode.isReadOnly())return;const c=Re(a)?{href:a}:a,d=e.dom.getParent(e.selection.getNode(),"a");te(c)&&Re(c.href)&&(c.href=c.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!d||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,d))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},xQ=(e,t,o,s)=>{const a=e.dom,c=f=>a.isBlock(f)&&f.parentElement===o,d=c(t)?t:a.getParent(s,c,o);return P.from(d).map(oe.fromDom)},qH=(e,t)=>{if(e.mode.isReadOnly())return;const o=e.dom,s=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),c=t?s.startContainer:s.endContainer,d=LE(o,c);if(!d||!d.isContentEditable)return;const f=t?ta:Hl,b=Za(e);xQ(e,a,d,c).each(w=>{const T=fz(e,c,w.dom,d,!1,b);f(w,oe.fromDom(T)),e.selection.setCursorLocation(T,0),e.dispatch("NewBlock",{newBlock:T}),PE(e,"insertParagraph")})},vQ=e=>qH(e,!0),yQ=e=>qH(e,!1),wQ=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{vQ(e)},InsertNewBlockAfter:()=>{yQ(e)}})},_Q=e=>{e.editorCommands.addCommands({insertParagraph:()=>{L7(xz,e)},mceInsertNewLine:(t,o,s)=>{Sz(e,s)},InsertLineBreak:(t,o,s)=>{L7(wz,e)}})},CQ=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,s)=>{let a=0;e.dom.getParent(e.selection.getNode(),c=>jt(c)&&a++===s?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,o,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),xi);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},kQ=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,s)=>{const a=s??e.selection.getNode();if(a!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,s)=>{a4(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},SQ=e=>{UX(e),ZX(e),pQ(e),CQ(e),GX(e),bQ(e),hQ(e),wQ(e),_Q(e),fQ(e),kQ(e)},EQ=["toggleview"],GH=e=>$o(EQ,e.toLowerCase());class KH{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,s,a){const c=this.editor,d=t.toLowerCase(),f=a?.skip_focus;if(c.removed||(d!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)&&!f?c.focus():HN(c)),c.dispatch("BeforeExecCommand",{command:t,ui:o,value:s}).isDefaultPrevented()))return!1;const w=this.commands.exec[d];return so(w)?(w(d,o,s,a),c.dispatch("ExecCommand",{command:t,ui:o,value:s,args:a}),!0):!1}queryCommandState(t){if(!GH(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),s=this.commands.state[o];return so(s)?s(o):!1}queryCommandValue(t){if(!GH(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),s=this.commands.value[o];return so(s)?s(o):""}addCommands(t,o="exec"){const s=this.commands;Jo(t,(a,c)=>{je(c.toLowerCase().split(","),d=>{s[o][d]=a})})}addCommand(t,o,s){const a=t.toLowerCase();this.commands.exec[a]=(c,d,f,b)=>o.call(s??this.editor,d,f,b)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,s){this.commands.state[t.toLowerCase()]=()=>o.call(s??this.editor)}addQueryValueHandler(t,o,s){this.commands.value[t.toLowerCase()]=()=>o.call(s??this.editor)}}const AQ=it.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class DL{static isNative(t){return!!AQ[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||_o}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const s=t.toLowerCase(),a=Oc(s,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const c=this.bindings[s];if(c)for(let d=0,f=c.length;d<f;d++){const b=c[d];if(!b.removed){if(b.once&&this.off(s,b.func),a.isImmediatePropagationStopped())return a;if(b.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(t,o,s,a){if(o===!1&&(o=_o),o){const c={func:o,removed:!1};a&&it.extend(c,a);const d=t.toLowerCase().split(" ");let f=d.length;for(;f--;){const b=d[f];let w=this.bindings[b];w||(w=[],this.toggleEvent(b,!0)),s?w=[c,...w]:w=[...w,c],this.bindings[b]=w}}return this}off(t,o){if(t){const s=t.toLowerCase().split(" ");let a=s.length;for(;a--;){const c=s[a];let d=this.bindings[c];if(!c)return Jo(this.bindings,(f,b)=>{this.toggleEvent(b,!1),delete this.bindings[b]}),this;if(d){if(!o)d.length=0;else{const f=At(d,b=>b.func===o);d=f.fail,this.bindings[c]=d,je(f.pass,b=>{b.removed=!0})}d.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else Jo(this.bindings,(s,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(t,o,s){return this.on(t,o,s,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const UE=e=>(e._eventDispatcher||(e._eventDispatcher=new DL({scope:e,toggleEvent:(t,o)=>{DL.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),OL={fire(e,t,o){return kD("fire"),this.dispatch(e,t,o)},dispatch(e,t,o){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return Oc(e.toLowerCase(),t??{},s);const a=UE(s).dispatch(e,t);if(o!==!1&&s.parent){let c=s.parent();for(;c&&!a.isPropagationStopped();)c.dispatch(e,a,!1),c=c.parent?c.parent():void 0}return a},on(e,t,o){return UE(this).on(e,t,o)},off(e,t){return UE(this).off(e,t)},once(e,t){return UE(this).once(e,t)},hasEventListeners(e){return UE(this).has(e)}},K7=Nn.DOM;let H2;const Y7=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=Gy(e);return o?(e.eventRoot||(e.eventRoot=K7.select(o)[0]),e.eventRoot):e.getBody()},TQ=e=>!e.hidden&&!bg(e),YH=(e,t,o)=>{TQ(e)?e.dispatch(t,o):bg(e)&&r8(e,o)},XH=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=Y7(e,t);if(Gy(e)){if(H2||(H2={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||H2&&(Jo(H2,(a,c)=>{e.dom.unbind(Y7(e,c))}),H2=null)})),H2[t])return;const s=a=>{const c=a.target,d=e.editorManager.get();let f=d.length;for(;f--;){const b=d[f].getBody();(b===c||K7.isChildOf(c,b))&&YH(d[f],t,a)}};H2[t]=s,K7.bind(o,t,s)}else{const s=a=>{YH(e,t,a)};K7.bind(o,t,s),e.delegates[t]=s}},QH={...OL,bindPendingEventDelegates(){const e=this;it.each(e._pendingNativeEvents,t=>{XH(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?XH(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Y7(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Jo(e.delegates,(s,a)=>{e.dom.unbind(Y7(e,a),a,s)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},DQ=e=>Re(e)?{value:e.split(/[ ,]/),valid:!0}:Oo(e,Re)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},OQ=e=>{const t=(()=>{switch(e){case"array":return me;case"boolean":return gs;case"function":return so;case"number":return E;case"object":return te;case"string":return Re;case"string[]":return DQ;case"object[]":return o=>Oo(o,te);case"regexp":return o=>pe(o,RegExp);default:return Uo}})();return o=>RL(o,t,`The value must be a ${e}.`)},RQ=e=>Re(e.processor),JH=(e,t)=>{const o=Xc(t.message)?"":`. ${t.message}`;return e+o},eV=e=>e.valid,RL=(e,t,o="")=>{const s=t(e);return gs(s)?s?{value:e,valid:!0}:{valid:!1,message:o}:s},NQ=(e,t,o)=>{if(!Os(t)){const s=RL(t,o);if(eV(s))return s.value;console.error(JH(`Invalid default value passed for the "${e}" option`,s))}},MQ=(e,t,o=t)=>{const s={},a={},c=(F,ee,X)=>{const K=RL(ee,X);return eV(K)?(a[F]=K.value,!0):(console.warn(JH(`Invalid value passed for the ${F} option`,K)),!1)},d=(F,ee)=>{const X=RQ(ee)?OQ(ee.processor):ee.processor,K=NQ(F,ee.default,X);s[F]={...ee,default:K,processor:X},An(a,F).orThunk(()=>An(t,F)).each(xe=>c(F,xe,X))},f=F=>vo(s,F);return{register:d,isRegistered:f,get:F=>An(a,F).orThunk(()=>An(s,F).map(ee=>ee.default)).getOrUndefined(),set:(F,ee)=>{if(f(F)){const X=s[F];return X.immutable?(console.error(`"${F}" is an immutable option and cannot be updated`),!1):c(F,ee,X.processor)}else return console.warn(`"${F}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:F=>{const ee=f(F);return ee&&delete a[F],ee},isSet:F=>vo(a,F),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(F,ee)=>gs(ee)||E(ee)||Re(ee)||ln(ee)||me(ee)||gt(ee)?ee:Object.prototype.toString.call(ee))))}catch(F){console.error(F)}}}},BQ=(e,t)=>{e.dom.contentEditable="true"},IQ=(e,t)=>{const o=oe.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&BQ(o),$S(e)):(e.readonly=!1,n8(e))},SC=e=>e.readonly,PQ=e=>{const t=e.undoManager.add();He(t)&&(e.undoManager.undo(),e.undoManager.reset())},LQ=e=>In(e,t=>t.type==="characterData"||t.type==="childList"),FQ=e=>{const t=s=>{SC(e)&&LQ(s)&&PQ(e)},o=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",s=>{SC(e)&&s.preventDefault()}),e.on("BeforeExecCommand",s=>{(s.command==="Undo"||s.command==="Redo")&&SC(e)&&s.preventDefault()}),e.on("compositionstart",()=>{SC(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(SC(e)){const s=o.takeRecords();t(s)}o.disconnect()})},zQ=["design","readonly"],tV=(e,t,o,s)=>{const a=o[t.get()],c=o[s];try{c.activate()}catch(d){console.error(`problem while activating editor mode ${s}:`,d);return}a.deactivate(),a.editorReadOnly!==c.editorReadOnly&&IQ(e,c.editorReadOnly),t.set(s),_R(e,s)},HQ=(e,t,o,s)=>{if(!(s===o.get()||e.initialized&&bg(e))){if(!vo(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?tV(e,o,t,s):e.on("init",()=>tV(e,o,t,s))}},VQ=(e,t,o)=>{if($o(zQ,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},$Q=e=>{const t=$n("design"),o=$n({design:{activate:Ro,deactivate:Ro,editorReadOnly:!1},readonly:{activate:Ro,deactivate:Ro,editorReadOnly:!0}});return FQ(e),jS(e),{isReadOnly:()=>SC(e),set:s=>HQ(e,o.get(),t,s),get:()=>t.get(),register:(s,a)=>{o.set(VQ(o.get(),s,a))}}},NL=it.each,ML=it.explode,UQ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},oV=it.makeMap("alt,ctrl,shift,meta,access"),ZQ=e=>e in oV,jQ=e=>{const t={},o=Eo.os.isMacOS()||Eo.os.isiOS();NL(ML(e.toLowerCase(),"+"),c=>{ZQ(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=UQ[c]||c.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let a;for(a in oV)t[a]?s.push(a):t[a]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class nV{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",s=>{(o.hasModifier(s)||o.isFunctionKey(s))&&!s.isDefaultPrevented()&&(NL(o.shortcuts,a=>{o.matchShortcut(s,a)&&(o.pendingPatterns=a.subpatterns.slice(0),s.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(s,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&s.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,s,a){const c=this,d=c.normalizeCommandFunc(s);return NL(ML(it.trim(t)),f=>{const b=c.createShortcut(f,o,d,a);c.shortcuts[b.id]=b}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,s=t;return typeof s=="string"?()=>{o.editor.execCommand(s,!1,null)}:it.isArray(s)?()=>{o.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,o,s,a){const c=it.map(ML(t,">"),jQ);return c[c.length-1]=it.extend(c[c.length-1],{func:s,scope:a||this.editor}),it.extend(c[0],{desc:this.editor.translate(o),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const WQ=()=>{const e=mW();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},V2=Nn.DOM,sV=it.extend,qQ=it.each;class X7{constructor(t,o,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,sV(this,QH);const a=this;this.id=t,this.editorUid=Su(),this.hidden=!1;const c=zX(s.defaultOptions,o);this.options=MQ(a,c,o),rk(a),this.userLookup=kX(this);const d=this.options.get;d("deprecation_warnings")&&_D(o,c);const f=d("suffix");f&&(s.suffix=f),this.suffix=s.suffix;const b=d("base_url");b&&s._setBaseUrl(b),this.baseUri=s.baseURI;const w=Qm(a);w&&(Va.ScriptLoader._setReferrerPolicy(w),Nn.DOM.styleSheetLoader._setReferrerPolicy(w)),Va.ScriptLoader._setCrossOrigin(F=>hf(a)(F,"script")),Nn.DOM.styleSheetLoader._setCrossOrigin(F=>hf(a)(F,"stylesheet"));const T=fk(a);He(T)&&Nn.DOM.styleSheetLoader._setContentCssCors(T),Gr.languageLoad=d("language_load"),Gr.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new Md(Uy(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=rv(a),this.hasVisual=YR(a),this.shortcuts=new nV(this),this.editorCommands=new KH(this),SQ(this);const R=d("cache_suffix");R&&(Eo.cacheSuffix=R.replace(/^[\?\&]+/,"")),this.ui={registry:WQ(),styleSheetLoader:void 0,show:Ro,hide:Ro,setEnabled:Ro,isEnabled:Uo},this.mode=$Q(a),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),s.dispatch("SetupEditor",{editor:this});const N=QR(a);so(N)&&N.call(a,a)}render(){fX(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Lc(this)}translate(t){return Rc.translate(t)}getParam(t,o,s){const a=this.options;return a.isRegistered(t)||(He(s)?a.register(t,{processor:s,default:o}):a.register(t,{processor:Uo,default:o})),!a.isSet(t)&&!Os(o)?o:a.get(t)}hasPlugin(t,o){return $o($0(this),t)?o?R1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,s){this.editorCommands.addCommand(t,o,s)}addQueryStateHandler(t,o,s){this.editorCommands.addQueryStateHandler(t,o,s)}addQueryValueHandler(t,o,s){this.editorCommands.addQueryValueHandler(t,o,s)}addShortcut(t,o,s,a){this.shortcuts.add(t,o,s,a)}execCommand(t,o,s,a){return this.editorCommands.execCommand(t,o,s,a)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(V2.show(t.getContainer()),V2.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(V2.hide(t.getContainer()),V2.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,s=o.getElement();if(!o.removed&&s){const a={...t,load:!0},c=Ch(s)?s.value:s.innerHTML;o.setContent(c,a),a.no_events||o.dispatch("LoadContent",{...a,element:s})}}save(t={}){const o=this;let s=o.getElement();if(!s||!o.initialized||o.removed)return"";const a={...t,save:!0,element:s};let c=o.getContent(a);const d={...a,content:c};if(d.no_events||o.dispatch("SaveContent",d),d.format==="raw"&&o.dispatch("RawSaveContent",d),c=d.content,Ch(s))s.value=c;else{(t.is_removing||!o.inline)&&(s.innerHTML=c);const f=V2.getParent(o.id,"form");f&&qQ(f.elements,b=>b.name===o.id?(b.value=c,!1):!0)}return d.element=a.element=s=null,d.set_dirty!==!1&&o.setDirty(!1),c}setContent(t,o){P_(this,t,o)}getContent(t){return BI(this,t)}insertContent(t,o){o&&(t=sV({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?P_(this,this.startContent,{initial:!0,format:"raw"}):P_(this,t,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||V2.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=V2.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const s=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:s?.body)!==null&&o!==void 0?o:null}convertURL(t,o,s){const a=this,c=a.options.get,d=zA(a);if(so(d))return d.call(a,t,s,!0,o);if(!c("convert_urls")||s==="link"||te(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const f=new Md(t);return f.protocol!=="http"&&f.protocol!=="https"&&f.protocol!==""?t:c("relative_urls")?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){HX(this,t)}setEditableRoot(t){SX(this,t)}hasEditableRoot(){return EX(this)}remove(){F_(this)}destroy(t){RS(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const EC=Nn.DOM,Q7=it.each;let rV=!1,J7,Uc=[];const eR=e=>{const t=e.type;Q7(Ub.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},aV=e=>{if(e!==rV){const t=Nn.DOM;e?(t.bind(window,"resize",eR),t.bind(window,"scroll",eR)):(t.unbind(window,"resize",eR),t.unbind(window,"scroll",eR)),rV=e}},iV=e=>{const t=Uc;return Uc=ft(Uc,o=>e!==o),Ub.activeEditor===e&&(Ub.activeEditor=Uc.length>0?Uc[0]:null),Ub.focusedEditor===e&&(Ub.focusedEditor=null),t.length!==Uc.length},GQ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(iV(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},KQ=document.compatMode!=="CSS1Compat",Ub={...OL,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:Su(),majorVersion:"8",minorVersion:"1.2",releaseDate:"TBD",i18n:Rc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",s=Md.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,o=a.suffix;else{const c=document.getElementsByTagName("script");for(let d=0;d<c.length;d++){const f=c[d].src||"";if(f==="")continue;const b=f.substring(f.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){b.indexOf(".min")!==-1&&(o=".min"),t=f.substring(0,f.lastIndexOf("/"));break}}if(!t&&document.currentScript){const d=document.currentScript.src;d.indexOf(".min")!==-1&&(o=".min"),t=d.substring(0,d.lastIndexOf("/"))}}e.baseURL=new Md(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new Md(e.baseURL),e.suffix=o,j5(e),je(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],c=>Object.defineProperty(e,c,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&Jo(s,(a,c)=>{Gr.PluginManager.urls[c]=a})},init(e){const t=this;let o;const s=it.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(T,R)=>T.inline&&R.tagName.toLowerCase()in s,c=T=>{let R=T.id;return R||(R=An(T,"name").filter(N=>!EC.get(N)).getOrThunk(EC.uniqueId),T.setAttribute("id",R)),R},d=T=>{const R=e[T];if(R)return R.apply(t,[])},f=T=>Eo.browser.isIE()||Eo.browser.isEdge()?(Z_("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):KQ?(Z_("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Re(T.selector)?EC.select(T.selector):He(T.target)?[T.target]:[];let b=T=>{o=T};const w=()=>{let T=0;const R=[];let N;const F=(ee,X,K)=>{const ve=new X7(ee,X,t);R.push(ve),ve.on("init",()=>{++T===N.length&&b(R)}),ve.targetElm=ve.targetElm||K,ve.render()};EC.unbind(window,"ready",w),d("onpageload"),N=gc(f(e)),it.each(N,ee=>{GQ(t.get(ee.id))}),N=it.grep(N,ee=>!t.get(ee.id)),N.length===0?b([]):Q7(N,ee=>{a(e,ee)?Z_("Could not initialize inline editor on invalid inline target element",ee):F(c(ee),e,ee)})};return EC.bind(window,"ready",w),new Promise(T=>{o?T(o):b=R=>{T(R)}})},get(e){return arguments.length===0?Uc.slice(0):Re(e)?Cn(Uc,t=>t.id===e).getOr(null):E(e)&&Uc[e]?Uc[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&Uc.push(e),aV(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),J7||(J7=s=>{const a=t.dispatch("BeforeUnload");if(a.returnValue)return s.preventDefault(),s.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",J7))),e},createEditor(e,t){return this.add(new X7(e,t,this))},remove(e){const t=this;let o;if(!e){for(let s=Uc.length-1;s>=0;s--)t.remove(Uc[s]);return}if(Re(e)){Q7(EC.select(e),s=>{o=t.get(s.id),o&&t.remove(o)});return}return o=e,ln(t.get(o.id))?null:(iV(o)&&t.dispatch("RemoveEditor",{editor:o}),Uc.length===0&&window.removeEventListener("beforeunload",J7),o.remove(),aV(Uc.length>0),o)},execCommand(e,t,o){var s;const a=this,c=te(o)?(s=o.id)!==null&&s!==void 0?s:o.index:o;switch(e){case"mceAddEditor":{if(!a.get(c)){const d=o.options;new X7(c,d,a).render()}return!0}case"mceRemoveEditor":{const d=a.get(c);return d&&d.remove(),!0}case"mceToggleEditor":{const d=a.get(c);return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{Q7(Uc,e=>{e.save()})},addI18n:(e,t)=>{Rc.add(e,t)},translate:e=>Rc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Md(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Md(this.baseURL)},_addLicenseKeyManager:e=>HS.add(e)};Ub.setup();const YQ=(()=>{const e=Bl(),t=c=>({items:c,types:ma(c),getType:d=>An(c,d).getOrUndefined()}),o=c=>{e.set(c)},s=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:t,write:o,read:s,clear:a}})(),lV=Math.min,AC=Math.max,tR=Math.round,cV=(e,t,o)=>{let s=t.x,a=t.y;const c=e.w,d=e.h,f=t.w,b=t.h,w=(o||"").split("");return w[0]==="b"&&(a+=b),w[1]==="r"&&(s+=f),w[0]==="c"&&(a+=tR(b/2)),w[1]==="c"&&(s+=tR(f/2)),w[3]==="b"&&(a-=d),w[4]==="r"&&(s-=c),w[3]==="c"&&(a-=tR(d/2)),w[4]==="c"&&(s-=tR(c/2)),TC(s,a,c,d)},XQ=(e,t,o,s)=>{for(let a=0;a<s.length;a++){const c=cV(e,t,s[a]);if(c.x>=o.x&&c.x+c.w<=o.w+o.x&&c.y>=o.y&&c.y+c.h<=o.h+o.y)return s[a]}return null},QQ=(e,t,o)=>TC(e.x-t,e.y-o,e.w+t*2,e.h+o*2),JQ=(e,t)=>{const o=AC(e.x,t.x),s=AC(e.y,t.y),a=lV(e.x+e.w,t.x+t.w),c=lV(e.y+e.h,t.y+t.h);return a-o<0||c-s<0?null:TC(o,s,a-o,c-s)},eJ=(e,t,o)=>{let s=e.x,a=e.y,c=e.x+e.w,d=e.y+e.h;const f=t.x+t.w,b=t.y+t.h,w=AC(0,t.x-s),T=AC(0,t.y-a),R=AC(0,c-f),N=AC(0,d-b);return s+=w,a+=T,o&&(c+=w,d+=T,s-=R,a-=N),c-=R,d-=N,TC(s,a,c-s,d-a)},TC=(e,t,o,s)=>({x:e,y:t,w:o,h:s}),tJ={inflate:QQ,relativePosition:cV,findBestRelativePosition:XQ,intersect:JQ,clamp:eJ,create:TC,fromClientRect:e=>TC(e.left,e.top,e.width,e.height)},oJ=(e,t,o=1e3)=>{let s=!1,a=null;const c=w=>(...T)=>{s||(s=!0,a!==null&&(window.clearTimeout(a),a=null),w.apply(null,T))},d=c(e),f=c(t);return{start:(...w)=>{!s&&a===null&&(a=window.setTimeout(()=>f.apply(null,w),o))},resolve:d,reject:f}},nJ=(()=>{const e={},t={},o={};return{load:(b,w)=>{const T=`Script at URL "${w}" failed to load`,R=`Script at URL "${w}" did not call \`tinymce.Resource.add('${b}', data)\` within 1 second`;if(e[b]!==void 0)return e[b];{const N=new Promise((F,ee)=>{const X=oJ(F,ee);t[b]=X.resolve,Va.ScriptLoader.loadScript(w).then(()=>X.start(R),()=>X.reject(T))});return e[b]=N,N}},add:(b,w)=>{t[b]!==void 0&&(t[b](w),delete t[b]),e[b]=Promise.resolve(w),o[b]=w},has:b=>b in o,get:b=>o[b],unload:b=>{delete e[b],delete o[b]}}})(),sJ=()=>(()=>{let e={},t=[];const o={getItem:s=>{const a=e[s];return a||null},setItem:(s,a)=>{t.push(s),e[s]=String(a)},key:s=>t[s],removeItem:s=>{t=t.filter(a=>a===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let ZE;try{const e="__storage_test__";ZE=window.localStorage,ZE.setItem(e,e),ZE.removeItem(e)}catch{ZE=sJ()}var rJ=ZE;const aJ={geom:{Rect:tJ},util:{Delay:Td,Tools:it,VK:Lt,URI:Md,EventDispatcher:DL,Observable:OL,I18n:Rc,LocalStorage:rJ,ImageUploader:sP},dom:{EventUtils:nf,TreeWalker:er,TextSeeker:Ql,DOMUtils:Nn,ScriptLoader:Va,RangeUtils:lg,Serializer:DS,StyleSheetLoader:Ax,ControlSelection:Qu,BookmarkManager:Q0,Selection:LO,Event:nf.Event},html:{Styles:bd,Entities:pd,Node:li,Schema:Kt,DomParser:Hp,Writer:ST,Serializer:Dp},Env:Eo,AddOnManager:Gr,Annotator:or,Formatter:C8,UndoManager:tC,EditorCommands:KH,WindowManager:$_,NotificationManager:BS,EditorObservable:QH,Shortcuts:nV,Editor:X7,FocusManager:$5,EditorManager:Ub,DOM:Nn.DOM,ScriptLoader:Va.ScriptLoader,PluginManager:R1,ThemeManager:N1,ModelManager:O1,IconManager:w2,Resource:nJ,FakeClipboard:YQ,trim:it.trim,isArray:it.isArray,is:it.is,toArray:it.toArray,makeMap:it.makeMap,each:it.each,map:it.map,grep:it.grep,inArray:it.inArray,extend:it.extend,walk:it.walk,resolve:it.resolve,explode:it.explode,_addCacheSuffix:it._addCacheSuffix},dV=it.extend(Ub,aJ),iJ=e=>{try{ne.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(dV),iJ(dV)})()}(FL)),FL.exports}ite();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const ne=Object.getPrototypeOf,fe=(n,r,i)=>{var l;return!!i(n,r.prototype)||((l=n.constructor)===null||l===void 0?void 0:l.name)===r.name},Pe=n=>r=>(i=>{const l=typeof i;return i===null?"null":l==="object"&&Array.isArray(i)?"array":l==="object"&&fe(i,String,(u,m)=>m.isPrototypeOf(u))?"string":l})(r)===n,_e=n=>r=>typeof r===n,Qe=n=>r=>n===r,Oe=Pe("string"),ke=Pe("object"),Be=n=>((r,i)=>ke(r)&&fe(r,i,(l,u)=>ne(l)===u))(n,Object),We=Pe("array"),tt=Qe(null),Et=_e("boolean"),kt=Qe(void 0),Je=n=>n==null,ye=n=>!Je(n),ot=_e("function"),Bt=_e("number"),yt=(n,r)=>{if(We(n)){for(let i=0,l=n.length;i<l;++i)if(!r(n[i]))return!1;return!0}return!1},ue=()=>{},pe=n=>()=>n(),Re=(n,r)=>(...i)=>n(r.apply(null,i)),te=n=>()=>n,gt=n=>n,me=(n,r)=>n===r;function ln(n,...r){return(...i)=>{const l=r.concat(i);return n.apply(null,l)}}const gs=n=>r=>!n(r),Os=n=>()=>{throw new Error(n)},Qo=n=>n(),He=te(!1),so=te(!0);class E{constructor(r,i){this.tag=r,this.value=i}static some(r){return new E(!0,r)}static none(){return E.singletonNone}fold(r,i){return this.tag?i(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?E.some(r(this.value)):E.none()}bind(r){return this.tag?r(this.value):E.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:E.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return ye(r)?E.some(r):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const Oo=Array.prototype.slice,Ro=Array.prototype.indexOf,Hn=Array.prototype.push,da=(n,r)=>Ro.call(n,r),ut=(n,r)=>da(n,r)>-1,_n=(n,r)=>{for(let i=0,l=n.length;i<l;i++)if(r(n[i],i))return!0;return!1},Ai=(n,r)=>{const i=[];for(let l=0;l<n;l++)i.push(r(l));return i},Ve=(n,r)=>{const i=[];for(let l=0;l<n.length;l+=r){const u=Oo.call(n,l,l+r);i.push(u)}return i},Ce=(n,r)=>{const i=n.length,l=new Array(i);for(let u=0;u<i;u++){const m=n[u];l[u]=r(m,u)}return l},bt=(n,r)=>{for(let i=0,l=n.length;i<l;i++)r(n[i],i)},cn=(n,r)=>{const i=[],l=[];for(let u=0,m=n.length;u<m;u++){const p=n[u];(r(p,u)?i:l).push(p)}return{pass:i,fail:l}},Co=(n,r)=>{const i=[];for(let l=0,u=n.length;l<u;l++){const m=n[l];r(m,l)&&i.push(m)}return i},_o=(n,r,i)=>(((l,u)=>{for(let m=l.length-1;m>=0;m--)u(l[m],m)})(n,(l,u)=>{i=r(i,l,u)}),i),Uo=(n,r,i)=>(bt(n,(l,u)=>{i=r(i,l,u)}),i),P=(n,r)=>((i,l,u)=>{for(let m=0,p=i.length;m<p;m++){const x=i[m];if(l(x,m))return E.some(x);if(u(x,m))break}return E.none()})(n,r,He),Qs=(n,r)=>{for(let i=0,l=n.length;i<l;i++)if(r(n[i],i))return E.some(i);return E.none()},ks=n=>{const r=[];for(let i=0,l=n.length;i<l;++i){if(!We(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);Hn.apply(r,n[i])}return r},Fo=(n,r)=>ks(Ce(n,r)),ui=(n,r)=>{for(let i=0,l=n.length;i<l;++i)if(r(n[i],i)!==!0)return!1;return!0},pr=n=>{const r=Oo.call(n,0);return r.reverse(),r},$o=(n,r)=>Co(n,i=>!ut(r,i)),In=(n,r)=>{const i={};for(let l=0,u=n.length;l<u;l++){const m=n[l];i[String(m)]=r(m,l)}return i},Mo=n=>[n],je=(n,r)=>{const i=Oo.call(n,0);return i.sort(r),i},ct=(n,r)=>r>=0&&r<n.length?E.some(n[r]):E.none(),At=n=>ct(n,0),ft=n=>ct(n,n.length-1),Wn=ot(Array.from)?Array.from:n=>Oo.call(n),mn=(n,r)=>{for(let i=0;i<n.length;i++){const l=r(n[i],i);if(l.isSome())return l}return E.none()},zo=Object.keys,Wc=Object.hasOwnProperty,Cn=(n,r)=>{const i=zo(n);for(let l=0,u=i.length;l<u;l++){const m=i[l];r(n[m],m)}},Rs=(n,r)=>qc(n,(i,l)=>({k:l,v:r(i,l)})),qc=(n,r)=>{const i={};return Cn(n,(l,u)=>{const m=r(l,u);i[m.k]=m.v}),i},Gc=n=>(r,i)=>{n[i]=r},ar=(n,r,i,l)=>{Cn(n,(u,m)=>{(r(u,m)?i:l)(u,m)})},Pa=(n,r)=>{const i={};return ar(n,r,Gc(i),ue),i},ua=(n,r)=>{const i=[];return Cn(n,(l,u)=>{i.push(r(l,u))}),i},Ol=(n,r)=>{const i=zo(n);for(let l=0,u=i.length;l<u;l++){const m=i[l],p=n[m];if(r(p,m,n))return E.some(p)}return E.none()},Tr=n=>ua(n,gt),Jt=(n,r)=>rn(n,r)?E.from(n[r]):E.none(),rn=(n,r)=>Wc.call(n,r),qn=(n,r)=>rn(n,r)&&n[r]!==void 0&&n[r]!==null,Vs=n=>{if(!We(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const r=[],i={};return bt(n,(l,u)=>{const m=zo(l);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],x=l[p];if(i[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!We(x))throw new Error("case arguments must be an array");r.push(p),i[p]=(...v)=>{const _=v.length;if(_!==x.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+x.length+" ("+x+"), got "+_);return{fold:(...S)=>{if(S.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+S.length);return S[u].apply(null,v)},match:S=>{const k=zo(S);if(r.length!==k.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+k.join(","));if(!ui(r,A=>ut(k,A)))throw new Error("Not all branches were specified when using match. Specified: "+k.join(", ")+`
Required: `+r.join(", "));return S[p].apply(null,v)},log:S=>{console.log(S,{constructors:r,constructor:p,params:v})}}}}),i},Nt=n=>{let r=n;return{get:()=>r,set:i=>{r=i}}},Ti=n=>{let r=E.none(),i=[];const l=p=>{u()?m(p):i.push(p)},u=()=>r.isSome(),m=p=>{r.each(x=>{setTimeout(()=>{p(x)},0)})};return n(p=>{u()||(r=E.some(p),bt(i,m),i=[])}),{get:l,map:p=>Ti(x=>{l(v=>{x(p(v))})}),isReady:u}},gc={nu:Ti,pure:n=>Ti(r=>{r(n)})},ma=n=>{setTimeout(()=>{throw n},0)},Ps=n=>{const r=i=>{n().then(i,ma)};return{map:i=>Ps(()=>n().then(i)),bind:i=>Ps(()=>n().then(l=>i(l).toPromise())),anonBind:i=>Ps(()=>n().then(()=>i.toPromise())),toLazy:()=>gc.nu(r),toCached:()=>{let i=null;return Ps(()=>(i===null&&(i=n()),i))},toPromise:n,get:r}},Jo=n=>Ps(()=>new Promise(n)),$r=n=>Ps(()=>Promise.resolve(n)),Eg=n=>{const r=m=>m(n),i=te(n),l=()=>u,u={tag:!0,inner:n,fold:(m,p)=>p(n),isValue:so,isError:He,map:m=>Go.value(m(n)),mapError:l,bind:r,exists:r,forall:r,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:m=>{m(n)},toOptional:()=>E.some(n)};return u},fc=n=>{const r=()=>i,i={tag:!1,inner:n,fold:(l,u)=>l(n),isValue:He,isError:so,map:r,mapError:l=>Go.error(l(n)),bind:r,exists:He,forall:so,getOr:gt,or:gt,getOrThunk:Qo,orThunk:Qo,getOrDie:Os(String(n)),each:ue,toOptional:E.none};return i},Go={value:Eg,error:fc,fromOption:(n,r)=>n.fold(()=>fc(r),Eg)},Ur=n=>({...n,toCached:()=>Ur(n.toCached()),bindFuture:r=>Ur(n.bind(i=>i.fold(l=>$r(Go.error(l)),l=>r(l)))),bindResult:r=>Ur(n.map(i=>i.bind(r))),mapResult:r=>Ur(n.map(i=>i.map(r))),mapError:r=>Ur(n.map(i=>i.mapError(r))),foldResult:(r,i)=>n.map(l=>l.fold(r,i)),withTimeout:(r,i)=>Ur(Jo(l=>{let u=!1;const m=setTimeout(()=>{u=!0,l(Go.error(i()))},r);n.get(p=>{u||(clearTimeout(m),l(p))})}))}),Dr=n=>Ur(Jo(n)),wa=typeof window<"u"?window:Function("return this;")(),Ss=(n,r,i,l)=>{const u=n+r;return u>l?i:u<i?l:u},An=(n,r,i)=>Math.min(Math.max(n,r),i);let vo=0;const Ae=n=>{const r=new Date().getTime(),i=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return vo++,n+"_"+i+vo+String(r)},Fd=n=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<r.length;l++){const u=r[l];for(const m in u)rn(u,m)&&(i[m]=n(i[m],u[m]))}return i},vs=Fd((n,r)=>Be(n)&&Be(r)?vs(n,r):r),ll=Fd((n,r)=>r),$n=(n,r,i=me)=>n.exists(l=>i(l,r)),cl=n=>{const r=[],i=l=>{r.push(l)};for(let l=0;l<n.length;l++)n[l].each(i);return r},Rl=(n,r,i)=>n.isSome()&&r.isSome()?E.some(i(n.getOrDie(),r.getOrDie())):E.none(),zd=(n,r)=>n!=null?E.some(r(n)):E.none(),$s=(n,r)=>n?E.some(r):E.none(),fm=(n,r)=>((i,l)=>{let u=l??wa;for(let m=0;m<i.length&&u!=null;++m)u=u[i[m]];return u})(n.split("."),r);Vs([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Us=n=>{const r=Nt(E.none()),i=()=>r.get().each(n);return{clear:()=>{i(),r.set(E.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:l=>{i(),r.set(E.some(l))}}},Zr=()=>Us(n=>n.unbind()),Fn=()=>{const n=Us(ue);return{...n,on:r=>n.get().each(r)}},Nl=(n,r,i)=>r===""||n.length>=r.length&&n.substr(i,i+r.length)===r,os=(n,r)=>Su(n,r)?((i,l)=>i.substring(l))(n,r.length):n,Zs=(n,r,i=0,l)=>{const u=n.indexOf(r,i);return u!==-1&&(!!kt(l)||u+r.length<=l)},Su=(n,r)=>Nl(n,r,0),Hd=(n,r)=>Nl(n,r,n.length-r.length),Eu=(Bl=/^\s+|\s+$/g,n=>n.replace(Bl,"")),Ml=n=>n.length>0,pc=n=>!Ml(n),Au=(n,r)=>{let i=null;const l=()=>{tt(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...u)=>{l(),i=setTimeout(()=>{i=null,n.apply(null,u)},r)}}},hr=n=>{let r,i=!1;return(...l)=>(i||(i=!0,r=n.apply(null,l)),r)},Tu=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},rh=(n,r)=>{const i=document.createElement("div");if(i.innerHTML=n,!i.hasChildNodes()||i.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,n),new Error(l)}return Tu(i.childNodes[0])},Es=(n,r)=>{const i=document.createElement(n);return Tu(i)},Ag=(n,r)=>{const i=document.createTextNode(n);return Tu(i)},Ft=Tu,Vd=(n,r,i)=>{const l=n.document.createRange();var u;return u=l,r.fold(m=>{u.setStartBefore(m.dom)},(m,p)=>{u.setStart(m.dom,p)},m=>{u.setStartAfter(m.dom)}),((m,p)=>{p.fold(x=>{m.setEndBefore(x.dom)},(x,v)=>{m.setEnd(x.dom,v)},x=>{m.setEndAfter(x.dom)})})(l,i),l},Tg=(n,r,i,l,u)=>{const m=n.document.createRange();return m.setStart(r.dom,i),m.setEnd(l.dom,u),m},Dg=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),Kc=Vs([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Og=(n,r,i)=>r(Ft(i.startContainer),i.startOffset,Ft(i.endContainer),i.endOffset),$f=(n,r)=>((i,l)=>{const u=((m,p)=>p.match({domRange:x=>({ltr:te(x),rtl:E.none}),relative:(x,v)=>({ltr:hr(()=>Vd(m,x,v)),rtl:hr(()=>E.some(Vd(m,v,x)))}),exact:(x,v,_,S)=>({ltr:hr(()=>Tg(m,x,v,_,S)),rtl:hr(()=>E.some(Tg(m,_,S,x,v)))})}))(i,l);return((m,p)=>{const x=p.ltr();return x.collapsed?p.rtl().filter(v=>v.collapsed===!1).map(v=>Kc.rtl(Ft(v.endContainer),v.endOffset,Ft(v.startContainer),v.startOffset)).getOrThunk(()=>Og(0,Kc.ltr,x)):Og(0,Kc.ltr,x)})(0,u)})(n,r).match({ltr:(i,l,u,m)=>{const p=n.document.createRange();return p.setStart(i.dom,l),p.setEnd(u.dom,m),p},rtl:(i,l,u,m)=>{const p=n.document.createRange();return p.setStart(u.dom,m),p.setEnd(i.dom,l),p}});var Bl;Kc.ltr,Kc.rtl;const mi=(n,r)=>{const i=n.dom;if(i.nodeType!==1)return!1;{const l=i;if(l.matches!==void 0)return l.matches(r);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(r);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(r);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},Uf=n=>n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11||n.childElementCount===0,Zf=(n,r)=>{const i=r===void 0?document:r.dom;return Uf(i)?E.none():E.from(i.querySelector(n)).map(Ft)},Zo=(n,r)=>n.dom===r.dom,Ls=(n,r)=>{const i=n.dom,l=r.dom;return i!==l&&i.contains(l)},Rg=()=>Yc(0,0),Yc=(n,r)=>({major:n,minor:r}),Il={nu:Yc,detect:(n,r)=>{const i=String(r).toLowerCase();return n.length===0?Rg():((l,u)=>{const m=((x,v)=>{for(let _=0;_<x.length;_++){const S=x[_];if(S.test(v))return S}})(l,u);if(!m)return{major:0,minor:0};const p=x=>Number(u.replace(m,"$"+x));return Yc(p(1),p(2))})(n,i)},unknown:Rg},jf=(n,r)=>{const i=String(r).toLowerCase();return P(n,l=>l.search(i))},pm=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,jr=n=>r=>Zs(r,n),Xc=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>Zs(n,"edge/")&&Zs(n,"chrome")&&Zs(n,"safari")&&Zs(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,pm],search:n=>Zs(n,"chrome")&&!Zs(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>Zs(n,"msie")||Zs(n,"trident")},{name:"Opera",versionRegexes:[pm,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:jr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:jr("firefox")},{name:"Safari",versionRegexes:[pm,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(Zs(n,"safari")||Zs(n,"mobile/"))&&Zs(n,"applewebkit")}],ah=[{name:"Windows",search:jr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>Zs(n,"iphone")||Zs(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:jr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:jr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:jr("linux"),versionRegexes:[]},{name:"Solaris",search:jr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:jr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:jr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Du={browsers:te(Xc),oses:te(ah)},ys="Edge",$d="Chromium",gi="Opera",Qc="Firefox",Fs="Safari",Di=n=>{const r=n.current,i=n.version,l=u=>()=>r===u;return{current:r,version:i,isEdge:l(ys),isChromium:l($d),isIE:l("IE"),isOpera:l(gi),isFirefox:l(Qc),isSafari:l(Fs)}},Oi=()=>Di({current:void 0,version:Il.unknown()}),Wf=Di,hm="Windows",ga="Android",Ud="Linux",Zd="macOS",dl="Solaris",bm="FreeBSD",jd="ChromeOS",Ng=n=>{const r=n.current,i=n.version,l=u=>()=>r===u;return{current:r,version:i,isWindows:l(hm),isiOS:l("iOS"),isAndroid:l(ga),isMacOS:l(Zd),isLinux:l(Ud),isSolaris:l(dl),isFreeBSD:l(bm),isChromeOS:l(jd)}},Jc=()=>Ng({current:void 0,version:Il.unknown()}),Qa=Ng,Z=n=>window.matchMedia(n).matches;let ae=hr(()=>((n,r,i)=>{const l=Du.browsers(),u=Du.oses(),m=r.bind(v=>((_,S)=>mn(S.brands,k=>{const A=k.brand.toLowerCase();return P(_,M=>{var I;return A===((I=M.brand)===null||I===void 0?void 0:I.toLowerCase())}).map(M=>({current:M.name,version:Il.nu(parseInt(k.version,10),0)}))}))(l,v)).orThunk(()=>((v,_)=>jf(v,_).map(S=>{const k=Il.detect(S.versionRegexes,_);return{current:S.name,version:k}}))(l,n)).fold(Oi,Wf),p=((v,_)=>jf(v,_).map(S=>{const k=Il.detect(S.versionRegexes,_);return{current:S.name,version:k}}))(u,n).fold(Jc,Qa),x=((v,_,S,k)=>{const A=v.isiOS()&&/ipad/i.test(S)===!0,M=v.isiOS()&&!A,I=v.isiOS()||v.isAndroid(),G=I||k("(pointer:coarse)"),j=A||!M&&I&&k("(min-device-width:768px)"),W=M||I&&!j,V=_.isSafari()&&v.isiOS()&&/safari/i.test(S)===!1,$=!W&&!j&&!V;return{isiPad:te(A),isiPhone:te(M),isTablet:te(j),isPhone:te(W),isTouch:te(G),isAndroid:v.isAndroid,isiOS:v.isiOS,isWebView:te(V),isDesktop:te($)}})(p,m,n,i);return{browser:m,os:p,deviceType:x}})(window.navigator.userAgent,E.from(window.navigator.userAgentData),Z));const we=()=>ae(),nt=Object.getPrototypeOf,Rt=n=>{const r=fm("ownerDocument.defaultView",n);return ke(n)&&((i=>((l,u)=>{const m=((p,x)=>fm(p,x))(l,u);if(m==null)throw new Error(l+" not available on this browser");return m})("HTMLElement",i))(r).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(nt(n).constructor.name))},Zt=n=>n.dom.nodeName.toLowerCase(),en=n=>r=>(i=>i.dom.nodeType)(r)===n,Gn=n=>jo(n)&&Rt(n.dom),jo=en(1),B=en(3),q=en(9),ie=en(11),De=n=>r=>jo(r)&&Zt(r)===n,zt=n=>Ft(n.dom.ownerDocument),gn=n=>q(n)?n:zt(n),ns=n=>Ft(gn(n).dom.documentElement),Or=n=>Ft(gn(n).dom.defaultView),Un=n=>E.from(n.dom.parentNode).map(Ft),fa=n=>E.from(n.dom.parentElement).map(Ft),_a=n=>E.from(n.dom.offsetParent).map(Ft),Gi=n=>E.from(n.dom.previousSibling).map(Ft),ir=n=>E.from(n.dom.nextSibling).map(Ft),ul=n=>Ce(n.dom.childNodes,Ft),ed=(n,r)=>{const i=n.dom.childNodes;return E.from(i[r]).map(Ft)},Ca=n=>ed(n,0),Pl=(n,r)=>({element:n,offset:r}),ih=(n,r)=>{const i=ul(n);return i.length>0&&r<i.length?Pl(i[r],0):Pl(n,r)},qf=n=>ie(n)&&ye(n.dom.host),Kr=n=>Ft(n.dom.getRootNode()),Mg=n=>qf(n)?n:Ft(gn(n).dom.body),xm=n=>{const r=Kr(n);return qf(r)?E.some(r):E.none()},td=n=>Ft(n.dom.host),Qb=n=>{const r=Ft((m=>{if(ye(m.target)){const p=Ft(m.target);if(jo(p)&&(x=>ye(x.dom.shadowRoot))(p)&&m.composed&&m.composedPath){const x=m.composedPath();if(x)return At(x)}}return E.from(m.target)})(n).getOr(n.target)),i=()=>n.stopPropagation(),l=()=>n.preventDefault(),u=Re(l,i);return((m,p,x,v,_,S,k)=>({target:m,x:p,y:x,stop:v,prevent:_,kill:S,raw:k}))(r,n.clientX,n.clientY,i,l,u,n)},ka=(n,r,i,l,u)=>{const m=((p,x)=>v=>{p(v)&&x(Qb(v))})(i,l);return n.dom.addEventListener(r,m,u),{unbind:ln(lh,n,r,m,u)}},lh=(n,r,i,l)=>{n.dom.removeEventListener(r,i,l)},Ou=so,La=(n,r,i)=>((l,u,m,p)=>ka(l,u,m,p,!1))(n,r,Ou,i),j1=(n,r,i)=>((l,u,m,p)=>ka(l,u,m,p,!0))(n,r,Ou,i),od=Qb,W1=()=>Ft(document),br=(n,r=!1)=>n.dom.focus({preventScroll:r}),Ki=n=>n.dom.blur(),Wd=n=>{const r=Kr(n).dom;return n.dom===r.activeElement},nd=(n=W1())=>E.from(n.dom.activeElement).map(Ft),Fa=n=>nd(Kr(n)).filter(r=>n.dom.contains(r.dom)),Ll=(n,r)=>{Un(n).each(i=>{i.dom.insertBefore(r.dom,n.dom)})},Jb=(n,r)=>{ir(n).fold(()=>{Un(n).each(i=>{Ri(i,r)})},i=>{Ll(i,r)})},ex=(n,r)=>{Ca(n).fold(()=>{Ri(n,r)},i=>{n.dom.insertBefore(r.dom,i.dom)})},Ri=(n,r)=>{n.dom.appendChild(r.dom)},fi=(n,r)=>{bt(r,i=>{Ri(n,i)})},ml=(n,r,i)=>{if(!(Oe(i)||Et(i)||Bt(i)))throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(r,i+"")},io=(n,r,i)=>{ml(n.dom,r,i)},G2=(n,r)=>{const i=n.dom;Cn(r,(l,u)=>{ml(i,u,l)})},Eo=(n,r)=>{const i=n.dom.getAttribute(r);return i===null?void 0:i},Yr=(n,r)=>E.from(Eo(n,r)),q1=(n,r)=>{const i=n.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(r)},js=(n,r)=>{n.dom.removeAttribute(r)},G1=n=>{n.dom.textContent="",bt(ul(n),r=>{qd(r)})},qd=n=>{const r=n.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},tx=(n,r)=>Ft(n.dom.cloneNode(r)),vm=n=>n.dom.innerHTML,Bg=(n,r)=>{const i=zt(n).dom,l=Ft(i.createDocumentFragment()),u=((m,p)=>{const x=(p||document).createElement("div");return x.innerHTML=m,ul(Ft(x))})(r,i);fi(l,u),G1(n),Ri(n,l)},Ig=n=>new Promise((r,i)=>{const l=()=>{m(),r(n)},u=[La(n,"load",l),La(n,"error",()=>{m(),i("Unable to load data from image: "+n.dom.src)})],m=()=>bt(u,p=>p.unbind());n.dom.complete&&l()}),Gf=n=>n.style!==void 0&&ot(n.style.getPropertyValue),it=n=>{const r=B(n)?n.dom.parentNode:n.dom;if(r==null||r.ownerDocument===null)return!1;const i=r.ownerDocument;return xm(Ft(r)).fold(()=>i.body.contains(r),(l=it,u=td,m=>l(u(m))));var l,u},lr=()=>K2(Ft(document)),K2=n=>{const r=n.dom.body;if(r==null)throw new Error("Body is not available yet");return Ft(r)},ox=(n,r,i)=>{if(!Oe(i))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);Gf(n)&&n.style.setProperty(r,i)},sd=(n,r)=>{Gf(n)&&n.style.removeProperty(r)},ko=(n,r,i)=>{const l=n.dom;ox(l,r,i)},oe=(n,r)=>{const i=n.dom;Cn(r,(l,u)=>{ox(i,u,l)})},ym=(n,r)=>{const i=n.dom;Cn(r,(l,u)=>{l.fold(()=>{sd(i,u)},m=>{ox(i,u,m)})})},za=(n,r)=>{const i=n.dom,l=window.getComputedStyle(i).getPropertyValue(r);return l!==""||it(n)?l:K1(i,r)},K1=(n,r)=>Gf(n)?n.style.getPropertyValue(r):"",cr=(n,r)=>{const i=n.dom,l=K1(i,r);return E.from(l).filter(u=>u.length>0)},Ru=n=>{const r={},i=n.dom;if(Gf(i))for(let l=0;l<i.style.length;l++){const u=i.style.item(l);r[u]=i.style[u]}return r},rd=(n,r,i)=>{const l=Es(n);return ko(l,r,i),cr(l,r).isSome()},fn=(n,r)=>{const i=n.dom;sd(i,r),$n(Yr(n,"style").map(Eu),"")&&js(n,"style")},ch=n=>n.dom.offsetWidth,nx=(n,r)=>{const i=u=>{const m=r(u);if(m<=0||m===null){const p=za(u,n);return parseFloat(p)||0}return m},l=(u,m)=>Uo(m,(p,x)=>{const v=za(u,x),_=v===void 0?0:parseInt(v,10);return isNaN(_)?p:p+_},0);return{set:(u,m)=>{if(!Bt(m)&&!m.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+m);const p=u.dom;Gf(p)&&(p.style[n]=m+"px")},get:i,getOuter:i,aggregate:l,max:(u,m,p)=>{const x=l(u,p);return m>x?m-x:0}}},Pg=nx("height",n=>{const r=n.dom;return it(n)?r.getBoundingClientRect().height:r.offsetHeight}),Rr=n=>Pg.get(n),Nu=n=>Pg.getOuter(n),Gd=n=>!(r=>r.offsetWidth<=0&&r.offsetHeight<=0)(n.dom),Lg=nx("width",n=>{const r=n.dom;return it(n)?r.getBoundingClientRect().width:r.offsetWidth}),Pn=n=>Lg.get(n),Kd=n=>Lg.getOuter(n),Fg=(n,r)=>({left:n,top:r,translate:(i,l)=>Fg(n+i,r+l)}),As=Fg,tn=(n,r)=>n!==void 0?n:r!==void 0?r:0,Nr=n=>{const r=n.dom.ownerDocument,i=r.body,l=r.defaultView,u=r.documentElement;if(i===n.dom)return As(i.offsetLeft,i.offsetTop);const m=tn(l?.pageYOffset,u.scrollTop),p=tn(l?.pageXOffset,u.scrollLeft),x=tn(u.clientTop,i.clientTop),v=tn(u.clientLeft,i.clientLeft);return wm(n).translate(p-v,m-x)},wm=n=>{const r=n.dom,i=r.ownerDocument.body;return i===r?As(i.offsetLeft,i.offsetTop):it(n)?(l=>{const u=l.getBoundingClientRect();return As(u.left,u.top)})(r):As(0,0)},Ni=n=>{const r=n!==void 0?n.dom:document,i=r.body.scrollLeft||r.documentElement.scrollLeft,l=r.body.scrollTop||r.documentElement.scrollTop;return As(i,l)},Ho=(n,r,i)=>{const l=(i!==void 0?i.dom:document).defaultView;l&&l.scrollTo(n,r)},sx=(n=>{const r=i=>n(i)?E.from(i.dom.nodeValue):E.none();return{get:i=>{if(!n(i))throw new Error("Can only get text value of a text node");return r(i).getOr("")},getOption:r,set:(i,l)=>{if(!n(i))throw new Error("Can only set raw text value of a text node");i.dom.nodeValue=l}}})(B),zg=(n,r)=>i=>rx(i)==="rtl"?r:n,rx=n=>za(n,"direction")==="rtl"?"rtl":"ltr",Yd=(n,r)=>{const i=Eo(n,r);return i===void 0||i===""?[]:i.split(" ")};var dr=(n,r,i,l,u)=>n(i,l)?E.some(i):ot(u)&&u(i)?E.none():r(i,l,u);const Ja=(n,r,i)=>{let l=n.dom;const u=ot(i)?i:He;for(;l.parentNode;){l=l.parentNode;const m=Ft(l);if(r(m))return E.some(m);if(u(m))break}return E.none()},Y2=(n,r,i)=>dr((l,u)=>u(l),Ja,n,r,i),X2=(n,r)=>P(n.dom.childNodes,i=>r(Ft(i))).map(Ft),Xr=(n,r,i)=>Ja(n,l=>mi(l,r),i),ax=(n,r)=>(i=>{const l=i.dom;return l.parentNode?X2(Ft(l.parentNode),u=>!Zo(i,u)&&mi(u,r)):E.none()})(n),hc=(n,r)=>X2(n,i=>mi(i,r)),rs=(n,r)=>Zf(r,n),gl=(n,r,i)=>dr((l,u)=>mi(l,u),Xr,n,r,i),Yi=(n,r)=>{n.dom.checked=r},_m=n=>n.dom.checked,ei=n=>n.dom.classList!==void 0,Kf=n=>Yd(n,"class"),Fl=(n,r)=>((i,l,u)=>{const m=Yd(i,l).concat([u]);return io(i,l,m.join(" ")),!0})(n,"class",r),ad=(n,r)=>((i,l,u)=>{const m=Co(Yd(i,l),p=>p!==u);return m.length>0?io(i,l,m.join(" ")):js(i,l),!1})(n,"class",r),ws=(n,r)=>{ei(n)?n.dom.classList.add(r):Fl(n,r)},Y1=n=>{(ei(n)?n.dom.classList:Kf(n)).length===0&&js(n,"class")},on=(n,r)=>{ei(n)?n.dom.classList.remove(r):ad(n,r),Y1(n)},ur=(n,r)=>ei(n)&&n.dom.classList.contains(r),zl=(n,r)=>{bt(r,i=>{ws(n,i)})},Qr=(n,r)=>{bt(r,i=>{on(n,i)})},Yf=n=>ei(n)?(r=>{const i=r.dom.classList,l=new Array(i.length);for(let u=0;u<i.length;u++){const m=i.item(u);m!==null&&(l[u]=m)}return l})(n):Kf(n),Jr=n=>n.dom.value,Xd=(n,r)=>{if(r===void 0)throw new Error("Value.set was undefined");n.dom.value=r},Qd=(n,r,i)=>Co(((l,u)=>{const m=ot(u)?u:He;let p=l.dom;const x=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const v=p.parentNode,_=Ft(v);if(x.push(_),m(_)===!0)break;p=v}return x})(n,i),r),ea=(n,r)=>((i,l)=>{const u=l===void 0?document:l.dom;return Uf(u)?[]:Ce(u.querySelectorAll(i),Ft)})(r,n),dh=(n,r,i)=>Y2(n,r,i).isSome(),uh=(n,r,i)=>gl(n,r,i).isSome(),ix=n=>ot(n)?n:He,mh=(n,r,i)=>{let l=n.dom;const u=ix(i);for(;l.parentNode;){l=l.parentNode;const m=Ft(l),p=r(m);if(p.isSome())return p;if(u(m))break}return E.none()},gh=(n,r,i)=>{const l=r(n),u=ix(i);return l.orThunk(()=>u(n)?E.none():mh(n,r,u))},X1=(n,r,i,l)=>({start:n,soffset:r,finish:i,foffset:l}),Q1=Vs([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),J1=(Q1.before,Q1.on,Q1.after,n=>n.fold(gt,gt,gt)),e0=Vs([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),id={domRange:e0.domRange,relative:e0.relative,exact:e0.exact,exactFromRange:n=>e0.exact(n.start,n.soffset,n.finish,n.foffset),getWin:n=>{const r=(i=>i.match({domRange:l=>Ft(l.startContainer),relative:(l,u)=>J1(l),exact:(l,u,m,p)=>l}))(n);return Or(r)},range:X1},t0=n=>{if(n.rangeCount>0){const r=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return E.some(X1(Ft(r.startContainer),r.startOffset,Ft(i.endContainer),i.endOffset))}return E.none()},Q2=n=>{if(n.anchorNode===null||n.focusNode===null)return t0(n);{const r=Ft(n.anchorNode),i=Ft(n.focusNode);return((l,u,m,p)=>{const x=((_,S,k,A)=>{const M=zt(_).dom.createRange();return M.setStart(_.dom,S),M.setEnd(k.dom,A),M})(l,u,m,p),v=Zo(l,m)&&u===p;return x.collapsed&&!v})(r,n.anchorOffset,i,n.focusOffset)?E.some(X1(r,n.anchorOffset,i,n.focusOffset)):t0(n)}},lx=(n,r)=>(i=>{const l=i.getClientRects(),u=l.length>0?l[0]:i.getBoundingClientRect();return u.width>0||u.height>0?E.some(u).map(Dg):E.none()})($f(n,r)),ti={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Hg=(()=>{const n="[0-9]+",r="[eE][+-]?"+n,i=u=>`(?:${u})?`,l=["Infinity",n+"\\."+i(n)+i(r),"\\."+n+i(r),n+i(r)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),bc=(n,r)=>E.from(Hg.exec(n)).bind(i=>{const l=Number(i[1]),u=i[2];return((m,p)=>_n(p,x=>_n(ti[x],v=>m===v)))(u,r)?E.some({value:l,unit:u}):E.none()}),Jd=(n,r,i,l)=>({x:n,y:r,width:i,height:l,right:n+i,bottom:r+l}),o0=n=>{const r=n===void 0?window:n,i=r.document,l=Ni(Ft(i));return(u=>{const m=u===void 0?window:u;return we().browser.isFirefox()?E.none():E.from(m.visualViewport)})(r).fold(()=>{const u=r.document.documentElement,m=u.clientWidth,p=u.clientHeight;return Jd(l.left,l.top,m,p)},u=>Jd(Math.max(u.pageLeft,l.left),Math.max(u.pageTop,l.top),u.width,u.height))},ta=(n,r)=>n.view(r).fold(te([]),i=>{const l=n.owner(i),u=ta(n,l);return[i].concat(u)});var Hl=Object.freeze({__proto__:null,view:n=>{var r;return(n.dom===document?E.none():E.from((r=n.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(Ft)},owner:n=>zt(n)});const xc=n=>{const r=W1(),i=Ni(r);return((u,m)=>{const p=m.owner(u),x=ta(m,p);return E.some(x)})(n,Hl).fold(ln(Nr,n),u=>{const m=wm(n),p=_o(u,(x,v)=>{const _=wm(v);return{left:x.left+_.left,top:x.top+_.top}},{left:0,top:0});return As(p.left+m.left+i.left,p.top+m.top+i.top)})},dn=(n,r,i,l)=>({x:n,y:r,width:i,height:l,right:n+i,bottom:r+l}),xr=n=>{const r=Nr(n),i=Kd(n),l=Nu(n);return dn(r.left,r.top,i,l)},Mu=n=>{const r=xc(n),i=Kd(n),l=Nu(n);return dn(r.left,r.top,i,l)},fh=(n,r)=>{const i=Math.max(n.x,r.x),l=Math.max(n.y,r.y),u=Math.min(n.right,r.right),m=Math.min(n.bottom,r.bottom);return dn(i,l,u-i,m-l)},Ws=()=>o0(window),n0=(n,r)=>Zo(n.element,r.event.target),Wr=n=>($n(cr(n,"position"),"fixed")?E.none():_a(n)).orThunk(()=>{const r=Es("span");return Un(n).bind(i=>{Ri(i,r);const l=_a(r);return qd(r),l})}),Xi=n=>Wr(n).map(Nr).getOrThunk(()=>As(0,0));var Js;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Js||(Js={}));const vc=(n,r,i)=>n.stype===Js.Error?r(n.serror):i(n.svalue),Cm=n=>({stype:Js.Value,svalue:n}),Mr=n=>({stype:Js.Error,serror:n}),Bu=Cm,yc=Mr,Iu=vc,ds=n=>ke(n)&&zo(n).length>100?" removed due to size":JSON.stringify(n,null,2),Mi=(n,r)=>yc([{path:n,getErrorInfo:r}]),km=n=>({extract:(r,i)=>((l,u)=>l.stype===Js.Error?u(l.serror):l)(n(i),l=>((u,m)=>Mi(u,te(m)))(r,l)),toString:te("val")}),ld=km(Bu),Bi=te(ld),s0=(n,r)=>km(i=>{const l=typeof i;return n(i)?Bu(i):yc(`Expected type: ${r} but got: ${l}`)}),Vg=s0(Bt,"number"),vr=s0(Oe,"string"),fl=s0(Et,"boolean"),Xf=s0(ot,"function"),Sm=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(r=>Sm(n[r]));default:return!1}},J2=km(n=>Sm(n)?Bu(n):yc("Expected value to be acceptable for sending via postMessage")),Em=n=>({tag:"defaultedThunk",process:n}),eu=n=>Em(te(n)),r0=n=>({tag:"mergeWithThunk",process:n}),cx=(n,r,i,l)=>({tag:"field",key:n,newKey:r,presence:i,prop:l}),$g=(n,r,i)=>{switch(n.tag){case"field":return r(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},Qf=n=>{const r=(l=>{const u=[],m=[];return bt(l,p=>{vc(p,x=>m.push(x),x=>u.push(x))}),{values:u,errors:m}})(n);return r.errors.length>0?(i=r.errors,Re(yc,ks)(i)):Bu(r.values);var i},pl=(n,r,i,l)=>l(Jt(n,r).getOrThunk(()=>i(n))),ey=(n,r,i,l,u)=>{const m=x=>u.extract(r.concat([l]),x),p=x=>x.fold(()=>Bu(E.none()),v=>((_,S)=>_.stype===Js.Value?{stype:Js.Value,svalue:S(_.svalue)}:_)(u.extract(r.concat([l]),v),E.some));switch(n.tag){case"required":return((x,v,_,S)=>Jt(v,_).fold(()=>((k,A,M)=>Mi(k,()=>'Could not find valid *required* value for "'+A+'" in '+ds(M)))(x,_,v),S))(r,i,l,m);case"defaultedThunk":return pl(i,l,n.process,m);case"option":return((x,v,_)=>_(Jt(x,v)))(i,l,p);case"defaultedOptionThunk":return((x,v,_,S)=>S(Jt(x,v).map(k=>k===!0?_(x):k)))(i,l,n.process,p);case"mergeWithThunk":return pl(i,l,te({}),x=>{const v=vs(n.process(i),x);return m(v)})}},Am=n=>({extract:(r,i)=>n().extract(r,i),toString:()=>n().toString()}),Tm=n=>zo(Pa(n,ye)),pi=n=>{const r=go(n),i=_o(n,(l,u)=>$g(u,m=>vs(l,{[m]:!0}),te(l)),{});return{extract:(l,u)=>{const m=Et(u)?[]:Tm(u),p=Co(m,x=>!qn(i,x));return p.length===0?r.extract(l,u):((x,v)=>Mi(x,()=>"There are unsupported fields: ["+v.join(", ")+"] specified"))(l,p)},toString:r.toString}},go=n=>({extract:(r,i)=>((l,u,m)=>{const p={},x=[];for(const v of m)$g(v,(_,S,k,A)=>{const M=ey(k,l,u,_,A);Iu(M,I=>{x.push(...I)},I=>{p[S]=I})},(_,S)=>{p[_]=S(u)});return x.length>0?yc(x):Bu(p)})(r,i,n),toString:()=>`obj{
`+Ce(n,i=>$g(i,(l,u,m,p)=>l+" -> "+p.toString(),(l,u)=>"state("+l+")")).join(`
`)+"}"}),Dm=n=>({extract:(r,i)=>{const l=Ce(i,(u,m)=>n.extract(r.concat(["["+m+"]"]),u));return Qf(l)},toString:()=>"array("+n.toString()+")"}),ph=(n,r)=>{const i=r!==void 0?r:gt;return{extract:(l,u)=>{const m=[];for(const p of n){const x=p.extract(l,u);if(x.stype===Js.Value)return{stype:Js.Value,svalue:i(x.svalue)};m.push(x)}return Qf(m)},toString:()=>"oneOf("+Ce(n,l=>l.toString()).join(", ")+")"}},ty=(n,r)=>({extract:(i,l)=>{const u=zo(l),m=((p,x)=>Dm(km(n)).extract(p,x))(i,u);return((p,x)=>p.stype===Js.Value?x(p.svalue):p)(m,p=>{const x=Ce(p,v=>cx(v,v,{tag:"required",process:{}},r));return go(x).extract(i,l)})},toString:()=>"setOf("+r.toString()+")"}),hh=Re(Dm,go),cd=(n,r)=>({extract:(i,l)=>Jt(l,n).fold(()=>((u,m)=>Mi(u,()=>'Choice schema did not contain choice key: "'+m+'"'))(i,n),u=>((m,p,x,v)=>Jt(x,v).fold(()=>((_,S,k)=>Mi(_,()=>'The chosen schema: "'+k+'" did not exist in branches: '+ds(S)))(m,x,v),_=>_.extract(m.concat(["branch: "+v]),p)))(i,l,r,u)),toString:()=>"chooseOn("+n+"). Possible values: "+zo(r)}),bh=n=>km(r=>n(r).fold(yc,Bu)),xh=(n,r)=>ty(i=>n(i).fold(Mr,Cm),r),Ts=(n,r,i)=>{return l=((u,m,p)=>((x,v)=>x.stype===Js.Error?{stype:Js.Error,serror:v(x.serror)}:x)(m.extract([u],p),x=>({input:p,errors:x})))(n,r,i),vc(l,Go.error,Go.value);var l},Ii=n=>n.fold(r=>{throw new Error(Pu(r))},gt),Ha=(n,r,i)=>Ii(Ts(n,r,i)),Pu=n=>`Errors: 
`+(r=>{const i=r.length>10?r.slice(0,10).concat([{path:[],getErrorInfo:te("... (only showing first ten failures)")}]):r;return Ce(i,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(n.errors).join(`
`)+`

Input object: `+ds(n.input),oi=(n,r)=>cd(n,Rs(r,go)),vh=(n,r)=>((i,l)=>{const u=hr(l);return{extract:(m,p)=>u().extract(m,p),toString:()=>u().toString()}})(0,r),yr=cx,Sa=(n,r)=>({tag:"custom",newKey:n,instantiator:r}),dd=n=>bh(r=>ut(n,r)?Go.value(r):Go.error(`Unsupported value: "${r}", choose one of "${n.join(", ")}".`)),dt=n=>yr(n,n,{tag:"required",process:{}},Bi()),Pi=(n,r)=>yr(n,n,{tag:"required",process:{}},r),Om=n=>Pi(n,Vg),Br=n=>Pi(n,vr),wc=(n,r)=>yr(n,n,{tag:"required",process:{}},dd(r)),hl=n=>Pi(n,Xf),ni=(n,r)=>yr(n,n,{tag:"required",process:{}},go(r)),Li=(n,r)=>yr(n,n,{tag:"required",process:{}},hh(r)),si=(n,r)=>yr(n,n,{tag:"required",process:{}},Dm(r)),Rn=n=>yr(n,n,{tag:"option",process:{}},Bi()),Fi=(n,r)=>yr(n,n,{tag:"option",process:{}},r),qs=n=>Fi(n,Vg),zs=n=>Fi(n,vr),ud=(n,r)=>Fi(n,dd(r)),Ir=n=>Fi(n,Xf),Rm=(n,r)=>Fi(n,Dm(r)),hi=(n,r)=>Fi(n,go(r)),Le=(n,r)=>yr(n,n,eu(r),Bi()),Vl=(n,r,i)=>yr(n,n,eu(r),i),$l=(n,r)=>Vl(n,r,Vg),_s=(n,r)=>Vl(n,r,vr),zi=(n,r,i)=>Vl(n,r,dd(i)),Ea=(n,r)=>Vl(n,r,fl),as=(n,r)=>Vl(n,r,Xf),Lu=(n,r,i)=>Vl(n,r,Dm(i)),a0=(n,r,i)=>Vl(n,r,go(i)),Ug=(n,r)=>((i,l)=>({[i]:l}))(n,r),Qi=n=>(r=>{const i={};return bt(r,l=>{i[l.key]=l.value}),i})(n),pa=te,Ul=pa("touchstart"),Jf=pa("touchmove"),Nm=pa("touchend"),Ji=pa("touchcancel"),el=pa("mousedown"),qr=pa("mousemove"),tu=pa("mouseout"),i0=pa("mouseup"),ri=pa("mouseover"),Zl=pa("focusin"),dx=pa("focusout"),_c=pa("keydown"),FC=pa("keyup"),md=pa("input"),Mm=pa("change"),Bm=pa("click"),oy=pa("transitioncancel"),ep=pa("transitionend"),zC=pa("transitionstart"),ux=pa("selectstart"),Gs=n=>te("alloy."+n),l0={tap:Gs("tap")},jl=Gs("focus"),Fu=Gs("blur.post"),mx=Gs("paste.post"),Im=Gs("receive"),tl=Gs("execute"),bi=Gs("focus.item"),zu=l0.tap,ny=Gs("longpress"),yh=Gs("sandbox.close"),gx=Gs("typeahead.cancel"),c0=Gs("system.init"),sy=Gs("system.touchmove"),ry=Gs("system.touchend"),d0=Gs("system.scroll"),Wl=Gs("system.resize"),Cc=Gs("system.attached"),ou=Gs("system.detached"),Zg=Gs("system.dismissRequested"),ay=Gs("system.repositionRequested"),jg=Gs("focusmanager.shifted"),u0=Gs("slotcontainer.visibility"),wh=Gs("system.external.element.scroll"),m0=Gs("change.tab"),g0=Gs("dismiss.tab"),fx=Gs("highlight"),px=Gs("dehighlight"),ql=n=>(r=>{if(qf(r))return"#shadow-root";{const i=(l=>tx(l,!1))(r);return(l=>{const u=Es("div"),m=Ft(l.dom.cloneNode(!0));return Ri(u,m),vm(u)})(i)}})(n);var kc;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(kc||(kc={}));const er=Nt({}),iy=["alloy/data/Fields","alloy/debugging/Debugging"],Pm=(n,r,i)=>((l,u,m)=>{switch(Jt(er.get(),l).orThunk(()=>{const p=zo(er.get());return mn(p,x=>l.indexOf(x)>-1?E.some(er.get()[x]):E.none())}).getOr(kc.NORMAL)){case kc.NORMAL:return m(hx());case kc.LOGGING:{const p=((v,_)=>{const S=[],k=new Date().getTime();return{logEventCut:(A,M,I)=>{S.push({outcome:"cut",target:M,purpose:I})},logEventStopped:(A,M,I)=>{S.push({outcome:"stopped",target:M,purpose:I})},logNoParent:(A,M,I)=>{S.push({outcome:"no-parent",target:M,purpose:I})},logEventNoHandlers:(A,M)=>{S.push({outcome:"no-handlers-left",target:M})},logEventResponse:(A,M,I)=>{S.push({outcome:"response",purpose:I,target:M})},write:()=>{const A=new Date().getTime();ut(["mousemove","mouseover","mouseout",c0()],v)||console.log(v,{event:v,time:A-k,target:_.dom,sequence:Ce(S,M=>ut(["cut","stopped","response"],M.outcome)?"{"+M.purpose+"} "+M.outcome+" at ("+ql(M.target)+")":M.outcome)})}}})(l,u),x=m(p);return p.write(),x}case kc.STOP:return!0}})(n,r,i),hx=te({logEventCut:ue,logEventStopped:ue,logNoParent:ue,logEventNoHandlers:ue,logEventResponse:ue,write:ue}),f0=te([dt("menu"),dt("selectedMenu")]),_h=te([dt("item"),dt("selectedItem")]);te(go(_h().concat(f0())));const ly=te(go(_h())),cy=ni("initSize",[dt("numColumns"),dt("numRows")]),Hu=()=>ni("markers",[dt("backgroundMenu")].concat(f0()).concat(_h())),Sc=n=>ni("markers",Ce(n,dt)),jt=(n,r,i)=>((()=>{const l=new Error;if(l.stack!==void 0){const u=l.stack.split(`
`);P(u,m=>m.indexOf("alloy")>0&&!_n(iy,p=>m.indexOf(p)>-1)).getOr("unknown")}})(),yr(r,r,i,bh(l=>Go.value((...u)=>l.apply(void 0,u))))),Io=n=>jt(0,n,eu(ue)),Hi=n=>jt(0,n,eu(E.none)),Ec=n=>jt(0,n,{tag:"required",process:{}}),bl=n=>jt(0,n,{tag:"required",process:{}}),ss=(n,r)=>Sa(n,te(r)),dy=n=>Sa(n,gt),Lm=te(cy),Wg=n=>Ce(n,r=>Hd(r,"/*")?r.substring(0,r.length-2):r),Ac=(n,r)=>{const i=n.toString(),l=i.indexOf(")")+1,u=i.indexOf("("),m=i.substring(u+1,l-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:r,parameters:Wg(m)}),n},p0=(n,r)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...l)=>{i=setTimeout(()=>{n.apply(null,l),i=null},r)}}},Ch=n=>{const r=n.raw;return r.touches===void 0||r.touches.length!==1?E.none():E.some(r.touches[0])};var mt;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(mt||(mt={}));const bx="placeholder",kh=Vs([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),gd=n=>rn(n,"uiType"),qg=(n,r,i,l)=>((u,m,p,x)=>gd(p)&&p.uiType===bx?((v,_,S,k)=>v.exists(A=>A!==S.owner)?kh.single(!0,te(S)):Jt(k,S.name).fold(()=>{throw new Error("Unknown placeholder component: "+S.name+`
Known: [`+zo(k)+`]
Namespace: `+v.getOr("none")+`
Spec: `+JSON.stringify(S,null,2))},A=>A.replace()))(u,0,p,x):kh.single(!1,te(p)))(n,0,i,l).fold((u,m)=>{const p=gd(i)?m(r,i.config,i.validated):m(r),x=Jt(p,"components").getOr([]),v=Fo(x,_=>qg(n,r,_,l));return[{...p,components:v}]},(u,m)=>{if(gd(i)){const p=m(r,i.config,i.validated);return i.validated.preprocess.getOr(gt)(p)}return m(r)}),Sh=kh.single,Ns=kh.multiple,h0=te(bx),Eh=Vs([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),xi=Le("factory",{sketch:gt}),Kn=Le("schema",[]),Gg=dt("name"),Kg=yr("pname","pname",Em(n=>"<alloy."+Ae(n.name)+">"),Bi()),b0=Sa("schema",()=>[Rn("preprocess")]),Aa=Le("defaults",te({})),vi=Le("overrides",te({})),HC=go([xi,Kn,Gg,Kg,Aa,vi]),xx=go([xi,Kn,Gg,Aa,vi]),VC=go([xi,Kn,Gg,Kg,Aa,vi]),uy=go([xi,b0,Gg,dt("unit"),Kg,Aa,vi]),my=n=>n.fold(E.some,E.none,E.some,E.some),gy=n=>{const r=i=>i.name;return n.fold(r,r,r,r)},x0=(n,r)=>i=>{const l=Ha("Converting part type",r,i);return n(l)},yi=x0(Eh.required,HC),Gl=x0(Eh.external,xx),Tc=x0(Eh.optional,VC),v0=x0(Eh.group,uy),Ah=te("entirety");var Vu=Object.freeze({__proto__:null,required:yi,external:Gl,optional:Tc,group:v0,asNamedPart:my,name:gy,asCommon:n=>n.fold(gt,gt,gt,gt),original:Ah});const Ta=(n,r,i,l)=>vs(r.defaults(n,i,l),i,{uid:n.partUids[r.name]},r.overrides(n,i,l)),y0=(n,r)=>{const i={};return bt(r,l=>{my(l).each(u=>{const m=fy(n,u.pname);i[u.name]=p=>{const x=Ha("Part: "+u.name+" in "+n,go(u.schema),p);return{...m,config:p,validated:x}}})}),i},fy=(n,r)=>({uiType:h0(),owner:n,name:r}),$u=(n,r,i)=>({uiType:h0(),owner:n,name:r,config:i,validated:{}}),Yg=n=>Fo(n,r=>r.fold(E.none,E.some,E.none,E.none).map(i=>ni(i.name,i.schema.concat([dy(Ah())]))).toArray()),vx=n=>Ce(n,gy),yx=(n,r,i)=>((l,u,m)=>{const p={},x={};return bt(m,v=>{v.fold(_=>{p[_.pname]=Sh(!0,(S,k,A)=>_.factory.sketch(Ta(S,_,k,A)))},_=>{const S=u.parts[_.name];x[_.name]=te(_.factory.sketch(Ta(u,_,S[Ah()]),S))},_=>{p[_.pname]=Sh(!1,(S,k,A)=>_.factory.sketch(Ta(S,_,k,A)))},_=>{p[_.pname]=Ns(!0,(S,k,A)=>{const M=S[_.name];return Ce(M,I=>_.factory.sketch(vs(_.defaults(S,I,A),I,_.overrides(S,I))))})})}),{internals:te(p),externals:te(x)}})(0,r,i),wx=(n,r,i)=>((l,u,m,p)=>{const x=Rs(p,(_,S)=>((k,A)=>{let M=!1;return{name:te(k),required:()=>A.fold((I,G)=>I,(I,G)=>I),used:()=>M,replace:()=>{if(M)throw new Error("Trying to use the same placeholder more than once: "+k);return M=!0,A}}})(S,_)),v=((_,S,k,A)=>Fo(k,M=>qg(_,S,M,A)))(l,u,m,x);return Cn(x,_=>{if(_.used()===!1&&_.required())throw new Error("Placeholder: "+_.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(u.components,null,2))}),v})(E.some(n),r,r.components,i),Yn=(n,r,i)=>{const l=r.partUids[i];return n.getSystem().getByUid(l).toOptional()},Fm=(n,r,i)=>Yn(n,r,i).getOrDie("Could not find part: "+i),tp=(n,r,i)=>{const l={},u=r.partUids,m=n.getSystem();return bt(i,p=>{l[p]=te(m.getByUid(u[p]))}),l},w0=(n,r)=>{const i=n.getSystem();return Rs(r.partUids,(l,u)=>te(i.getByUid(l)))},_0=n=>zo(n.partUids),Th=(n,r,i)=>{const l={},u=r.partUids,m=n.getSystem();return bt(i,p=>{l[p]=te(m.getByUid(u[p]).getOrDie())}),l},_x=(n,r)=>{const i=vx(r);return Qi(Ce(i,l=>({key:l,value:n+"-"+l})))},Cx=n=>yr("partUids","partUids",r0(r=>_x(r.uid,n)),Bi());var py=Object.freeze({__proto__:null,generate:y0,generateOne:$u,schemas:Yg,names:vx,substitutes:yx,components:wx,defaultUids:_x,defaultUidsSchema:Cx,getAllParts:w0,getAllPartNames:_0,getPart:Yn,getPartOrDie:Fm,getParts:tp,getPartsOrDie:Th});const Dh=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ol=(n,r,i,l=1)=>{const u=n*l,m=r*l,p=v=>Jt(i,v).getOr([]),x=(v,_,S)=>{const k=$o(Dh,S);return{offset:As(v,_),classesOn:Fo(S,p),classesOff:Fo(k,p)}};return{southeast:()=>x(-n,r,["top","alignLeft"]),southwest:()=>x(n,r,["top","alignRight"]),south:()=>x(-n/2,r,["top","alignCentre"]),northeast:()=>x(-n,-r,["bottom","alignLeft"]),northwest:()=>x(n,-r,["bottom","alignRight"]),north:()=>x(-n/2,-r,["bottom","alignCentre"]),east:()=>x(n,-r/2,["valignCentre","left"]),west:()=>x(-n,-r/2,["valignCentre","right"]),insetNortheast:()=>x(u,m,["top","alignLeft","inset"]),insetNorthwest:()=>x(-u,m,["top","alignRight","inset"]),insetNorth:()=>x(-u/2,m,["top","alignCentre","inset"]),insetSoutheast:()=>x(u,-m,["bottom","alignLeft","inset"]),insetSouthwest:()=>x(-u,-m,["bottom","alignRight","inset"]),insetSouth:()=>x(-u/2,-m,["bottom","alignCentre","inset"]),insetEast:()=>x(-u,-m/2,["valignCentre","right","inset"]),insetWest:()=>x(u,-m/2,["valignCentre","left","inset"])}},C0=()=>ol(0,0,{}),oa=(n,r,i,l,u,m,p,x=!1)=>({x:n,y:r,bubble:i,direction:l,placement:u,restriction:m,label:`${p}-${u}`,alwaysFit:x}),nu=Vs([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),op=nu.southeast,Uu=nu.southwest,kx=nu.northeast,Oh=nu.northwest,hy=nu.south,Sx=nu.north,by=nu.east,Ex=nu.west,Da=(n,r)=>In(["left","right","top","bottom"],i=>Jt(r,i).map(l=>((u,m)=>{switch(m){case 1:return u.x;case 0:return u.x+u.width;case 2:return u.y;case 3:return u.y+u.height}})(n,l))),zm="layout",Ax=n=>n.x,$C=(n,r)=>n.x+n.width/2-r.width/2,Tx=(n,r)=>n.x+n.width-r.width,Dx=(n,r)=>n.y-r.height,k0=n=>n.y+n.height,xy=(n,r)=>n.y+n.height/2-r.height/2,wr=(n,r,i)=>oa(Ax(n),k0(n),i.southeast(),op(),"southeast",Da(n,{left:1,top:3}),zm),Pr=(n,r,i)=>oa(Tx(n,r),k0(n),i.southwest(),Uu(),"southwest",Da(n,{right:0,top:3}),zm),Oa=(n,r,i)=>oa(Ax(n),Dx(n,r),i.northeast(),kx(),"northeast",Da(n,{left:1,bottom:2}),zm),Ra=(n,r,i)=>oa(Tx(n,r),Dx(n,r),i.northwest(),Oh(),"northwest",Da(n,{right:0,bottom:2}),zm),Lr=(n,r,i)=>oa($C(n,r),Dx(n,r),i.north(),Sx(),"north",Da(n,{bottom:2}),zm),Fr=(n,r,i)=>oa($C(n,r),k0(n),i.south(),hy(),"south",Da(n,{top:3}),zm),Xg=(n,r,i)=>oa((l=>l.x+l.width)(n),xy(n,r),i.east(),by(),"east",Da(n,{left:0}),zm),Qg=(n,r,i)=>oa(((l,u)=>l.x-u.width)(n,r),xy(n,r),i.west(),Ex(),"west",Da(n,{right:1}),zm),Ox=()=>[wr,Pr,Oa,Ra,Fr,Lr,Xg,Qg],vy=()=>[Pr,wr,Ra,Oa,Fr,Lr,Xg,Qg],S0=()=>[Oa,Ra,wr,Pr,Lr,Fr],fd=()=>[Ra,Oa,Pr,wr,Lr,Fr],Rx=()=>[wr,Pr,Oa,Ra,Fr,Lr],E0=()=>[Pr,wr,Ra,Oa,Fr,Lr],nl="data-alloy-placement",su=n=>Yr(n,nl),Zu="layout-inset",Nx=n=>n.x,Mx=(n,r)=>n.x+n.width/2-r.width/2,Rh=(n,r)=>n.x+n.width-r.width,Bx=n=>n.y,yy=(n,r)=>n.y+n.height-r.height,pd=(n,r)=>n.y+n.height/2-r.height/2,zr=(n,r,i)=>oa(Rh(n,r),yy(n,r),i.insetSouthwest(),Oh(),"southwest",Da(n,{right:0,bottom:3}),Zu),np=(n,r,i)=>oa(Nx(n),yy(n,r),i.insetSoutheast(),kx(),"southeast",Da(n,{left:1,bottom:3}),Zu),sp=(n,r,i)=>oa(Rh(n,r),Bx(n),i.insetNorthwest(),Uu(),"northwest",Da(n,{right:0,top:2}),Zu),Jg=(n,r,i)=>oa(Nx(n),Bx(n),i.insetNortheast(),op(),"northeast",Da(n,{left:1,top:2}),Zu),Kl=(n,r,i)=>oa(Mx(n,r),Bx(n),i.insetNorth(),hy(),"north",Da(n,{top:2}),Zu),rp=(n,r,i)=>oa(Mx(n,r),yy(n,r),i.insetSouth(),Sx(),"south",Da(n,{bottom:3}),Zu),Nh=(n,r,i)=>oa(Rh(n,r),pd(n,r),i.insetEast(),Ex(),"east",Da(n,{right:0}),Zu),Mh=(n,r,i)=>oa(Nx(n),pd(n,r),i.insetWest(),by(),"west",Da(n,{left:1}),Zu),UC=n=>{switch(n){case"north":return Kl;case"northeast":return Jg;case"northwest":return sp;case"south":return rp;case"southeast":return np;case"southwest":return zr;case"east":return Nh;case"west":return Mh}},Ix=(n,r,i,l,u)=>su(l).map(UC).getOr(Kl)(n,r,i,l,u),ZC=n=>{switch(n){case"north":return rp;case"northeast":return np;case"northwest":return zr;case"south":return Kl;case"southeast":return Jg;case"southwest":return sp;case"east":return Mh;case"west":return Nh}},jC=(n,r,i,l,u)=>su(l).map(ZC).getOr(Kl)(n,r,i,l,u),ru=(n,r)=>{((i,l)=>{const u=Pg.max(i,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);ko(i,"max-height",u+"px")})(n,Math.floor(r))},Px=te((n,r)=>{ru(n,r),oe(n,{"overflow-x":"hidden","overflow-y":"auto"})}),ef=te((n,r)=>{ru(n,r)}),A0=te((n,r)=>{((i,l)=>{const u=Lg.max(i,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);ko(i,"max-width",u+"px")})(n,Math.floor(r))});var au;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(au||(au={}));const Hm="data-alloy-vertical-dir",ap=n=>dh(n,r=>jo(r)&&Eo(r,"data-alloy-vertical-dir")===au.BottomToTop);var tr;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(tr||(tr={}));const xl={init:()=>ai({readState:te("No State required")})},ai=n=>n,tf={can:so,abort:He,run:ue},hd=n=>{if(!qn(n,"can")&&!qn(n,"abort")&&!qn(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...tf,...n}},Ko=(n,r)=>{Ih(n,n.element,r,{})},Kt=(n,r,i)=>{Ih(n,n.element,r,i)},Bh=n=>{Ko(n,tl())},Lx=(n,r,i)=>{Ih(n,r,i,{})},Ih=(n,r,i,l)=>{const u={target:r,...l};n.getSystem().triggerEvent(i,r,u)},Ph=(n,r,i,l)=>{n.getSystem().triggerEvent(i,r,l.event)},Xn=n=>Qi(n),ju=(n,r)=>({key:n,value:hd({abort:r})}),T0=n=>({key:n,value:hd({run:(r,i)=>{i.event.prevent()}})}),Ye=(n,r)=>({key:n,value:hd({run:r})}),D0=(n,r,i)=>({key:n,value:hd({run:(l,u)=>{r.apply(void 0,[l,u].concat(i))}})}),ip=n=>r=>({key:n,value:hd({run:(i,l)=>{n0(i,l)&&r(i,l)}})}),lp=(n,r,i)=>((l,u)=>Ye(l,(m,p)=>{m.getSystem().getByUid(u).each(x=>{Ph(x,x.element,l,p)})}))(n,r.partUids[i]),of=(n,r)=>Ye(n,(i,l)=>{const u=l.event,m=i.getSystem().getByDom(u.target).getOrThunk(()=>gh(u.target,p=>i.getSystem().getByDom(p).toOptional(),He).getOr(i));r(i,m,l)}),bd=n=>Ye(n,(r,i)=>{i.cut()}),Fx=n=>Ye(n,(r,i)=>{i.stop()}),Wu=(n,r)=>ip(n)(r),is=ip(Cc()),Dc=ip(ou()),zx=ip(c0()),Oc=(n=>r=>Ye(n,r))(tl()),xd=n=>({classes:kt(n.classes)?[]:n.classes,attributes:kt(n.attributes)?{}:n.attributes,styles:kt(n.styles)?{}:n.styles}),O0=(n,r,i)=>zx((l,u)=>{i(l,n,r)}),Hx=n=>({key:n,value:void 0}),Lh=(n,r,i,l,u,m,p)=>{const x=S=>qn(S,i)?S[i]():E.none(),v=Rs(u,(S,k)=>((A,M,I)=>((G,j,W)=>{const V=W.toString(),$=V.indexOf(")")+1,Y=V.indexOf("("),J=V.substring(Y+1,$-1).split(/,\s*/);return G.toFunctionAnnotation=()=>({name:j,parameters:Wg(J.slice(0,1).concat(J.slice(3)))}),G})((G,...j)=>{const W=[G].concat(j);return G.config({name:te(A)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+A+". Using API: "+I)},V=>{const $=Array.prototype.slice.call(W,1);return M.apply(void 0,[G,V.config,V.state].concat($))})},I,M))(i,S,k)),_={...Rs(m,(S,k)=>Ac(S,k)),...v,revoke:ln(Hx,i),config:S=>{const k=Ha(i+"-config",n,S);return{key:i,value:{config:k,me:_,configAsRaw:hr(()=>Ha(i+"-config",n,S)),initialConfig:S,state:p}}},schema:te(r),exhibit:(S,k)=>Rl(x(S),Jt(l,"exhibit"),(A,M)=>M(k,A.config,A.state)).getOrThunk(()=>xd({})),name:te(i),handlers:S=>x(S).map(k=>Jt(l,"events").getOr(()=>({}))(k.config,k.state)).getOr({})};return _},xt=n=>Qi(n),Fh=pi([dt("fields"),dt("name"),Le("active",{}),Le("apis",{}),Le("state",xl),Le("extra",{})]),ha=n=>{const r=Ha("Creating behaviour: "+n.name,Fh,n);return((i,l,u,m,p,x)=>{const v=pi(i),_=hi(l,[(S=i,Fi("config",pi(S)))]);var S;return Lh(v,_,l,u,m,p,x)})(r.fields,r.name,r.active,r.apis,r.extra,r.state)},nf=pi([dt("branchKey"),dt("branches"),dt("name"),Le("active",{}),Le("apis",{}),Le("state",xl),Le("extra",{})]),zh=n=>{const r=Ha("Creating behaviour: "+n.name,nf,n);return((i,l,u,m,p,x)=>{const v=i,_=hi(l,[Fi("config",i)]);return Lh(v,_,l,u,m,p,x)})(oi(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},wy=te(void 0),uo=(n,r)=>{const i=((l,u)=>{const m=Xn(u);return ha({fields:[dt("enabled")],name:l,active:{events:te(m)}})})(n,r);return{key:n,value:{config:{},me:i,configAsRaw:te({}),initialConfig:{},state:xl}}},Vx=(n,r)=>{r.ignore||(br(n.element),r.onFocus(n))};var Vm=Object.freeze({__proto__:null,focus:Vx,blur:(n,r)=>{r.ignore||Ki(n.element)},isFocused:n=>Wd(n.element)}),_y=Object.freeze({__proto__:null,exhibit:(n,r)=>{const i=r.ignore?{}:{attributes:{tabindex:"-1"}};return xd(i)},events:n=>Xn([Ye(jl(),(r,i)=>{Vx(r,n),i.stop()})].concat(n.stopMousedown?[Ye(el(),(r,i)=>{i.event.prevent()})]:[]))}),vd=[Io("onFocus"),Le("stopMousedown",!1),Le("ignore",!1)];const bo=ha({fields:vd,name:"focusing",active:_y,apis:Vm}),$x=[8],iu=[9],Yl=[13],Nn=[27],Vi=[32],sf=[37],cp=[38],$m=[39],Um=[40],Va=te("tooltipping.close.all"),lu=te("dismiss.popups"),Zm=te("reposition.popups"),Hh=te("mouse.released"),dp=(n,r,i)=>{const l=pr(n.slice(0,r)),u=pr(n.slice(r+1));return P(l.concat(u),i)},Vh=(n,r,i)=>{const l=pr(n.slice(0,r));return P(l,i)},Cy=(n,r,i)=>{const l=n.slice(0,r),u=n.slice(r+1);return P(u.concat(l),i)},ky=(n,r,i)=>{const l=n.slice(r+1);return P(l,i)},xn=n=>r=>{const i=r.raw;return ut(n,i.which)},yd=n=>r=>ui(n,i=>i(r)),up=n=>n.raw.shiftKey===!0,WC=n=>n.raw.ctrlKey===!0,$h=gs(up),kn=(n,r)=>({matches:n,classification:r}),Rc=(n,r,i,l)=>{const u=ea(n.element,"."+r.highlightClass);bt(u,m=>{_n(l,p=>Zo(p.element,m))||(on(m,r.highlightClass),n.getSystem().getByDom(m).each(p=>{r.onDehighlight(n,p),Ko(p,px())}))})},Gr=(n,r,i,l)=>{Rc(n,r,0,[l]),jm(n,r,i,l)||(ws(l.element,r.highlightClass),r.onHighlight(n,l),Ko(l,fx()))},jm=(n,r,i,l)=>ur(l.element,r.highlightClass),Wm=(n,r,i)=>rs(n.element,"."+r.itemClass).bind(l=>n.getSystem().getByDom(l).toOptional()),qm=(n,r,i)=>{const l=ea(n.element,"."+r.itemClass);return(l.length>0?E.some(l[l.length-1]):E.none()).bind(u=>n.getSystem().getByDom(u).toOptional())},rf=(n,r,i,l)=>{const u=ea(n.element,"."+r.itemClass);return Qs(u,m=>ur(m,r.highlightClass)).bind(m=>{const p=Ss(m,l,0,u.length-1);return n.getSystem().getByDom(u[p]).toOptional()})},wd=(n,r,i)=>{const l=ea(n.element,"."+r.itemClass);return cl(Ce(l,u=>n.getSystem().getByDom(u).toOptional()))};var af=Object.freeze({__proto__:null,dehighlightAll:(n,r,i)=>Rc(n,r,0,[]),dehighlight:(n,r,i,l)=>{jm(n,r,i,l)&&(on(l.element,r.highlightClass),r.onDehighlight(n,l),Ko(l,px()))},highlight:Gr,highlightFirst:(n,r,i)=>{Wm(n,r).each(l=>{Gr(n,r,i,l)})},highlightLast:(n,r,i)=>{qm(n,r).each(l=>{Gr(n,r,i,l)})},highlightAt:(n,r,i,l)=>{((u,m,p,x)=>{const v=ea(u.element,"."+m.itemClass);return E.from(v[x]).fold(()=>Go.error(new Error("No element found with index "+x)),u.getSystem().getByDom)})(n,r,0,l).fold(u=>{throw u},u=>{Gr(n,r,i,u)})},highlightBy:(n,r,i,l)=>{const u=wd(n,r);P(u,l).each(m=>{Gr(n,r,i,m)})},isHighlighted:jm,getHighlighted:(n,r,i)=>rs(n.element,"."+r.highlightClass).bind(l=>n.getSystem().getByDom(l).toOptional()),getFirst:Wm,getLast:qm,getPrevious:(n,r,i)=>rf(n,r,0,-1),getNext:(n,r,i)=>rf(n,r,0,1),getCandidates:wd}),Uh=[dt("highlightClass"),dt("itemClass"),Io("onHighlight"),Io("onDehighlight")];const pn=ha({fields:Uh,name:"highlighting",apis:af}),Sy=(n,r,i)=>{r.exists(l=>i.exists(u=>Zo(u,l)))||Kt(n,jg(),{prevFocus:r,newFocus:i})},R0=()=>{const n=r=>Fa(r.element);return{get:n,set:(r,i)=>{const l=n(r);r.getSystem().triggerFocus(i,r.element);const u=n(r);Sy(r,l,u)}}},N0=()=>{const n=r=>pn.getHighlighted(r).map(i=>i.element);return{get:n,set:(r,i)=>{const l=n(r);r.getSystem().getByDom(i).fold(ue,m=>{pn.highlight(r,m)});const u=n(r);Sy(r,l,u)}}},Xl=(n,r,i,l,u)=>{const m=(x,v,_,S,k)=>{return(A=_(x,v,S,k),M=v.event,P(A,I=>I.matches(M)).map(I=>I.classification)).bind(I=>I(x,v,S,k));var A,M},p={schema:()=>n.concat([Le("focusManager",R0()),Vl("focusInside","onFocus",bh(x=>ut(["onFocus","onEnterOrSpace","onApi"],x)?Go.value(x):Go.error("Invalid value for focusInside"))),ss("handler",p),ss("state",r),ss("sendFocusIn",u)]),processKey:m,toEvents:(x,v)=>{const _=x.focusInside!==mt.OnFocusMode?E.none():u(x).map(k=>Ye(jl(),(A,M)=>{k(A,x,v),M.stop()})),S=[Ye(_c(),(k,A)=>{m(k,A,i,x,v).fold(()=>{((M,I)=>{const G=xn(Vi.concat(Yl))(I.event);x.focusInside===mt.OnEnterOrSpaceMode&&G&&n0(M,I)&&u(x).each(j=>{j(M,x,v),I.stop()})})(k,A)},M=>{A.stop()})}),Ye(FC(),(k,A)=>{m(k,A,l,x,v).each(M=>{A.stop()})})];return Xn(_.toArray().concat(S))}};return p},Ux=n=>{const r=[Rn("onEscape"),Rn("onEnter"),Le("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Le("firstTabstop",0),Le("useTabstopAt",so),Rn("visibilitySelector")].concat([n]),i=(S,k)=>{const A=S.visibilitySelector.bind(M=>gl(k,M)).getOr(k);return Rr(A)>0},l=(S,k)=>k.focusManager.get(S).bind(A=>gl(A,k.selector)),u=(S,k,A)=>{((M,I)=>{const G=ea(M.element,I.selector),j=Co(G,W=>i(I,W));return E.from(j[I.firstTabstop])})(S,k).each(M=>{k.focusManager.set(S,M)})},m=(S,k,A,M)=>{const I=Co(ea(S.element,A.selector),G=>i(A,G));return l(S,A).bind(G=>Qs(I,ln(Zo,G)).bind(j=>((W,V,$,Y,J)=>J(V,$,de=>((ce,he)=>i(ce,he)&&ce.useTabstopAt(he))(Y,de)).fold(()=>Y.cyclic?E.some(!0):E.none(),de=>(Y.focusManager.set(W,de),E.some(!0))))(S,I,j,A,M)))},p=(S,k,A)=>{const M=A.cyclic?dp:Vh;return m(S,0,A,M)},x=(S,k,A)=>{const M=A.cyclic?Cy:ky;return m(S,0,A,M)},v=te([kn(yd([up,xn(iu)]),p),kn(xn(iu),x),kn(yd([$h,xn(Yl)]),(S,k,A)=>A.onEnter.bind(M=>M(S,k)))]),_=te([kn(xn(Nn),(S,k,A)=>(S.getSystem().broadcastOn([Va()],{closedTooltip:()=>{k.stop()}}),k.isStopped()?E.none():A.onEscape.bind(M=>M(S,k)))),kn(xn(iu),(S,k,A)=>l(S,A).filter(M=>!A.useTabstopAt(M)).bind(M=>((I=>(G=>Un(G))(I).bind(Ca).exists(G=>Zo(G,I)))(M)?p:x)(S,k,A)))]);return Xl(r,xl.init,v,_,()=>E.some(u))};var Zx=Ux(Sa("cyclic",He)),M0=Ux(Sa("cyclic",so));const qu=n=>De("input")(n)&&Eo(n,"type")!=="radio"||De("textarea")(n),Ql=(n,r,i)=>qu(i)&&xn(Vi)(r.event)?E.none():((l,u,m)=>(Lx(l,m,tl()),E.some(!0)))(n,0,i),mp=(n,r)=>E.some(!0),lf=[Le("execute",Ql),Le("useSpace",!1),Le("useEnter",!0),Le("useControlEnter",!1),Le("useDown",!1)],Zh=(n,r,i)=>i.execute(n,r,n.element);var Ey=Xl(lf,xl.init,(n,r,i,l)=>{const u=i.useSpace&&!qu(n.element)?Vi:[],m=i.useEnter?Yl:[],p=i.useDown?Um:[],x=u.concat(m).concat(p);return[kn(xn(x),Zh)].concat(i.useControlEnter?[kn(yd([WC,xn(Yl)]),Zh)]:[])},(n,r,i,l)=>i.useSpace&&!qu(n.element)?[kn(xn(Vi),mp)]:[],()=>E.none());const Ay=()=>{const n=Fn();return ai({readState:()=>n.get().map(r=>({numRows:String(r.numRows),numColumns:String(r.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(r,i)=>{n.set({numRows:r,numColumns:i})},getNumRows:()=>n.get().map(r=>r.numRows),getNumColumns:()=>n.get().map(r=>r.numColumns)})};var jx=Object.freeze({__proto__:null,flatgrid:Ay,init:n=>n.state(n)});const $i=n=>(r,i,l,u)=>{const m=n(r.element);return cu(m,r,i,l,u)},Wx=(n,r)=>{const i=zg(n,r);return $i(i)},_d=(n,r)=>{const i=zg(r,n);return $i(i)},jh=n=>(r,i,l,u)=>cu(n,r,i,l,u),cu=(n,r,i,l,u)=>l.focusManager.get(r).bind(m=>n(r.element,m,l,u)).map(m=>(l.focusManager.set(r,m),!0)),du=jh,na=jh,Gm=jh,gp=(n,r,i)=>{const l=ea(n,i);return(u=>Qs(u,m=>Zo(m,r)).map(m=>({index:m,candidates:u})))(Co(l,Gd))},Ty=(n,r)=>Qs(n,i=>Zo(r,i)),Dy=(n,r,i,l)=>l(Math.floor(r/i),r%i).bind(u=>{const m=u.row*i+u.column;return m>=0&&m<n.length?E.some(n[m]):E.none()}),cf=(n,r,i,l,u)=>Dy(n,r,l,(m,p)=>{const x=m===i-1?n.length-m*l:l,v=Ss(p,u,0,x-1);return E.some({row:m,column:v})}),Nc=(n,r,i,l,u)=>Dy(n,r,l,(m,p)=>{const x=Ss(m,u,0,i-1),v=x===i-1?n.length-x*l:l,_=An(p,0,v-1);return E.some({row:x,column:_})}),Oy=[dt("selector"),Le("execute",Ql),Hi("onEscape"),Le("captureTab",!1),Lm()],Hr=(n,r,i)=>{rs(n.element,r.selector).each(l=>{r.focusManager.set(n,l)})},Gu=n=>(r,i,l,u)=>gp(r,i,l.selector).bind(m=>n(m.candidates,m.index,u.getNumRows().getOr(l.initSize.numRows),u.getNumColumns().getOr(l.initSize.numColumns))),Ui=(n,r,i)=>i.captureTab?E.some(!0):E.none(),B0=Gu((n,r,i,l)=>cf(n,r,i,l,-1)),qx=Gu((n,r,i,l)=>cf(n,r,i,l,1)),df=Gu((n,r,i,l)=>Nc(n,r,i,l,-1)),uf=Gu((n,r,i,l)=>Nc(n,r,i,l,1)),Km=te([kn(xn(sf),Wx(B0,qx)),kn(xn($m),_d(B0,qx)),kn(xn(cp),du(df)),kn(xn(Um),na(uf)),kn(yd([up,xn(iu)]),Ui),kn(yd([$h,xn(iu)]),Ui),kn(xn(Vi.concat(Yl)),(n,r,i,l)=>((u,m)=>m.focusManager.get(u).bind(p=>gl(p,m.selector)))(n,i).bind(u=>i.execute(n,r,u)))]),vl=te([kn(xn(Nn),(n,r,i)=>i.onEscape(n,r)),kn(xn(Vi),mp)]);var Gx=Xl(Oy,Ay,Km,vl,()=>E.some(Hr));const Ry=(n,r,i,l,u)=>{const m=(p,x,v)=>u(p,x,l,0,v.length-1,v[x],_=>{return S=v[_],Zt(S)==="button"&&Eo(S,"disabled")==="disabled"?m(p,_,v):E.from(v[_]);var S});return gp(n,i,r).bind(p=>{const x=p.index,v=p.candidates;return m(x,x,v)})},fp=(n,r,i,l)=>Ry(n,r,i,l,(u,m,p,x,v,_,S)=>{const k=An(m+p,x,v);return k===u?E.from(_):S(k)}),pp=(n,r,i,l)=>Ry(n,r,i,l,(u,m,p,x,v,_,S)=>{const k=Ss(m,p,x,v);return k===u?E.none():S(k)}),Kx=[dt("selector"),Le("getInitial",E.none),Le("execute",Ql),Hi("onEscape"),Le("executeOnMove",!1),Le("allowVertical",!0),Le("allowHorizontal",!0),Le("cycles",!0)],hp=(n,r,i)=>((l,u)=>u.focusManager.get(l).bind(m=>gl(m,u.selector)))(n,i).bind(l=>i.execute(n,r,l)),Wh=(n,r,i)=>{r.getInitial(n).orThunk(()=>rs(n.element,r.selector)).each(l=>{r.focusManager.set(n,l)})},I0=(n,r,i)=>(i.cycles?pp:fp)(n,i.selector,r,-1),P0=(n,r,i)=>(i.cycles?pp:fp)(n,i.selector,r,1),Yx=n=>(r,i,l,u)=>n(r,i,l,u).bind(()=>l.executeOnMove?hp(r,i,l):E.some(!0)),bp=te([kn(xn(Vi),mp),kn(xn(Nn),(n,r,i)=>i.onEscape(n,r))]);var g=Xl(Kx,xl.init,(n,r,i,l)=>{const u=[...i.allowHorizontal?sf:[]].concat(i.allowVertical?cp:[]),m=[...i.allowHorizontal?$m:[]].concat(i.allowVertical?Um:[]);return[kn(xn(u),Yx(Wx(I0,P0))),kn(xn(m),Yx(_d(I0,P0))),kn(xn(Yl),hp),kn(xn(Vi),hp)]},bp,()=>E.some(Wh));const h=(n,r,i)=>E.from(n[r]).bind(l=>E.from(l[i]).map(u=>({rowIndex:r,columnIndex:i,cell:u}))),y=(n,r,i,l)=>{const u=n[r].length,m=Ss(i,l,0,u-1);return h(n,r,m)},C=(n,r,i,l)=>{const u=Ss(i,l,0,n.length-1),m=n[u].length,p=An(r,0,m-1);return h(n,u,p)},D=(n,r,i,l)=>{const u=n[r].length,m=An(i+l,0,u-1);return h(n,r,m)},O=(n,r,i,l)=>{const u=An(i+l,0,n.length-1),m=n[u].length,p=An(r,0,m-1);return h(n,u,p)},L=[ni("selectors",[dt("row"),dt("cell")]),Le("cycles",!0),Le("previousSelector",E.none),Le("execute",Ql)],H=(n,r,i)=>{r.previousSelector(n).orThunk(()=>{const l=r.selectors;return rs(n.element,l.cell)}).each(l=>{r.focusManager.set(n,l)})},Q=(n,r)=>(i,l,u)=>{const m=u.cycles?n:r;return gl(l,u.selectors.row).bind(p=>{const x=ea(p,u.selectors.cell);return Ty(x,l).bind(v=>{const _=ea(i,u.selectors.row);return Ty(_,p).bind(S=>{const k=((A,M)=>Ce(A,I=>ea(I,M.selectors.cell)))(_,u);return m(k,S,v).map(A=>A.cell)})})})},re=Q((n,r,i)=>y(n,r,i,-1),(n,r,i)=>D(n,r,i,-1)),be=Q((n,r,i)=>y(n,r,i,1),(n,r,i)=>D(n,r,i,1)),se=Q((n,r,i)=>C(n,i,r,-1),(n,r,i)=>O(n,i,r,-1)),ge=Q((n,r,i)=>C(n,i,r,1),(n,r,i)=>O(n,i,r,1)),le=te([kn(xn(sf),Wx(re,be)),kn(xn($m),_d(re,be)),kn(xn(cp),du(se)),kn(xn(Um),na(ge)),kn(xn(Vi.concat(Yl)),(n,r,i)=>Fa(n.element).bind(l=>i.execute(n,r,l)))]),Ee=te([kn(xn(Vi),mp)]);var Se=Xl(L,xl.init,le,Ee,()=>E.some(H));const et=[dt("selector"),Le("execute",Ql),Le("moveOnTab",!1)],st=(n,r,i)=>i.focusManager.get(n).bind(l=>i.execute(n,r,l)),pt=(n,r,i)=>{rs(n.element,r.selector).each(l=>{r.focusManager.set(n,l)})},vt=(n,r,i)=>pp(n,i.selector,r,-1),wt=(n,r,i)=>pp(n,i.selector,r,1),Dt=te([kn(xn(cp),Gm(vt)),kn(xn(Um),Gm(wt)),kn(yd([up,xn(iu)]),(n,r,i,l)=>i.moveOnTab?Gm(vt)(n,r,i,l):E.none()),kn(yd([$h,xn(iu)]),(n,r,i,l)=>i.moveOnTab?Gm(wt)(n,r,i,l):E.none()),kn(xn(Yl),st),kn(xn(Vi),st)]),Mt=te([kn(xn(Vi),mp)]);var Xt=Xl(et,xl.init,Dt,Mt,()=>E.some(pt));const fo=[Hi("onSpace"),Hi("onEnter"),Hi("onShiftEnter"),Hi("onLeft"),Hi("onRight"),Hi("onTab"),Hi("onShiftTab"),Hi("onUp"),Hi("onDown"),Hi("onEscape"),Le("stopSpaceKeyup",!1),Rn("focusIn")];var Vo=Xl(fo,xl.init,(n,r,i)=>[kn(xn(Vi),i.onSpace),kn(yd([$h,xn(Yl)]),i.onEnter),kn(yd([up,xn(Yl)]),i.onShiftEnter),kn(yd([up,xn(iu)]),i.onShiftTab),kn(yd([$h,xn(iu)]),i.onTab),kn(xn(cp),i.onUp),kn(xn(Um),i.onDown),kn(xn(sf),i.onLeft),kn(xn($m),i.onRight),kn(xn(Vi),i.onSpace)],(n,r,i)=>[...i.stopSpaceKeyup?[kn(xn(Vi),mp)]:[],kn(xn(Nn),i.onEscape)],n=>n.focusIn);const No=Zx.schema(),Wo=M0.schema(),Bo=g.schema(),Qn=Gx.schema(),_r=Se.schema(),Na=Ey.schema(),sa=Xt.schema(),yl=Vo.schema(),Gt=zh({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:No,cyclic:Wo,flow:Bo,flatgrid:Qn,matrix:_r,execution:Na,menu:sa,special:yl}),name:"keying",active:{events:(n,r)=>n.handler.toEvents(n,r)},apis:{focusIn:(n,r,i)=>{r.sendFocusIn(r).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},l=>{l(n,r,i)})},setGridSize:(n,r,i,l,u)=>{(m=>qn(m,"setGridSize"))(i)?i.setGridSize(l,u):console.error("Layout does not support setGridSize")}},state:jx}),$a=Ae("alloy-premade"),Mc=n=>(Object.defineProperty(n.element.dom,$a,{value:n.uid,writable:!0}),Ug($a,n)),qh=n=>Jt(n,$a),Cd=n=>((r,i)=>{const l=i.toString(),u=l.indexOf(")")+1,m=l.indexOf("("),p=l.substring(m+1,u-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Wg(p.slice(1))}),r})((r,...i)=>n(r.getApis(),r,...i),n),mf=n=>n.getSystem().isConnected(),Ku=n=>{Ko(n,ou());const r=n.components();bt(r,Ku)},kd=n=>{const r=n.components();bt(r,kd),Ko(n,Cc())},Ny=(n,r)=>{n.getSystem().addToWorld(r),it(n.element)&&kd(r)},Xx=n=>{Ku(n),n.getSystem().removeFromWorld(n)},qC=(n,r)=>{Ri(n.element,r.element)},gf=(n,r)=>{nA(n,r,Ri)},nA=(n,r,i)=>{n.getSystem().addToWorld(r),i(n.element,r.element),it(n.element)&&kd(r),n.syncComponents()},sA=n=>{Ku(n),qd(n.element),n.getSystem().removeFromWorld(n)},Ym=n=>{const r=Un(n.element).bind(i=>n.getSystem().getByDom(i).toOptional());sA(n),r.each(i=>{i.syncComponents()})},ff=n=>{const r=n.components();bt(r,sA),G1(n.element),n.syncComponents()},pf=(n,r)=>{Ge(n,r,Ri)},My=(n,r)=>{Ge(n,r,Jb)},Ge=(n,r,i)=>{i(n,r.element);const l=ul(r.element);bt(l,u=>{r.getByDom(u).each(kd)})},By=n=>{const r=ul(n.element);bt(r,i=>{n.getByDom(i).each(Ku)}),qd(n.element)},rA=(n,r,i)=>{i.fold(()=>Ri(n,r),l=>{Zo(l,r)||(Ll(l,r),qd(l))})},aA=(n,r,i)=>{const l=Ce(r,i),u=ul(n);return bt(u.slice(l.length),qd),l},Iy=(n,r,i,l)=>{const u=ed(n,r),m=l(i,u),p=((x,v,_)=>ed(x,v).map(S=>{if(_.exists(k=>!Zo(k,S))){const k=_.map(Zt).getOr("span"),A=Es(k);return Ll(S,A),A}return S}))(n,r,u);return rA(n,m.element,p),m},Sd=(n,r)=>{const i=Kr(r),l=nd(i).bind(m=>{const p=x=>Zo(m,x);return p(r)?E.some(r):((x,v)=>{const _=S=>{for(let k=0;k<S.childNodes.length;k++){const A=Ft(S.childNodes[k]);if(v(A))return E.some(A);const M=_(S.childNodes[k]);if(M.isSome())return M}return E.none()};return _(x.dom)})(r,p)}),u=n(r);return l.each(m=>{nd(i).filter(p=>Zo(p,m)).fold(()=>{br(m)},ue)}),u},GC=(n,r)=>{Sd(()=>{((i,l,u)=>{const m=i.components();(v=>{bt(v.components(),_=>qd(_.element)),G1(v.element),v.syncComponents()})(i);const p=u(l),x=$o(m,p);bt(x,v=>{Ku(v),i.getSystem().removeFromWorld(v)}),bt(p,v=>{mf(v)?qC(i,v):(i.getSystem().addToWorld(v),qC(i,v),it(i.element)&&kd(v))}),i.syncComponents()})(n,r,()=>Ce(r,n.getSystem().build))},n.element)},KC=(n,r)=>{Sd(()=>{((i,l)=>{const u=i.components(),m=Fo(l,v=>qh(v).toArray());bt(u,v=>{ut(m,v)||Xx(v)});const p=((v,_,S)=>aA(v,_,(k,A)=>Iy(v,A,k,S)))(n.element,r,n.getSystem().buildOrPatch),x=$o(u,p);bt(x,v=>{mf(v)&&Xx(v)}),bt(p,v=>{mf(v)||Ny(i,v)}),i.syncComponents()})(n,r)},n.element)},iA=(n,r,i,l)=>{Xx(r);const u=Iy(n.element,i,l,n.getSystem().buildOrPatch);Ny(n,u),n.syncComponents()},Qx=(n,r,i)=>{const l=n.getSystem().build(i);nA(n,l,r)},uR=(n,r,i,l)=>{Ym(r),Qx(n,(u,m)=>((p,x,v)=>{ed(p,v).fold(()=>{Ri(p,x)},_=>{Ll(_,x)})})(u,m,i),l)},Jx=(n,r)=>n.components(),lA=(n,r,i,l,u)=>{const m=Jx(n);return E.from(m[l]).map(p=>(u.fold(()=>Ym(p),x=>{(r.reuseDom?iA:uR)(n,p,l,x)}),p))};var cA=Object.freeze({__proto__:null,append:(n,r,i,l)=>{Qx(n,Ri,l)},prepend:(n,r,i,l)=>{Qx(n,ex,l)},remove:(n,r,i,l)=>{const u=Jx(n);P(u,p=>Zo(l.element,p.element)).each(Ym)},replaceAt:lA,replaceBy:(n,r,i,l,u)=>{const m=Jx(n);return Qs(m,l).bind(p=>lA(n,r,0,p,u))},set:(n,r,i,l)=>(r.reuseDom?KC:GC)(n,l),contents:Jx});const So=ha({fields:[Ea("reuseDom",!0)],name:"replacing",apis:cA}),dA=Xn([(n=>({key:n,value:hd({can:(r,i)=>{const l=i.event,u=l.originator,m=l.target;return!((p,x,v)=>Zo(x,p.element)&&!Zo(x,v))(r,u,m)||(console.warn(jl()+` did not get interpreted by the desired target. 
Originator: `+ql(u)+`
Target: `+ql(m)+`
Check the `+jl()+" event handlers"),!1)}})}))(jl())]);var mR=Object.freeze({__proto__:null,events:dA});const gR=te("alloy-id-"),uA=te("data-alloy-id"),Py=gR(),mA=uA(),Ly=(n,r)=>{Object.defineProperty(n.dom,mA,{value:r,writable:!0})},ev=n=>{const r=jo(n)?n.dom[mA]:null;return E.from(r)},xp=n=>Ae(n),gA=gt,tv=n=>{const r=u=>`The component must be in a context to execute: ${u}`+(n?`
`+ql(n().element)+" is not in context.":""),i=u=>()=>{throw new Error(r(u))},l=u=>()=>{console.warn(r(u))};return{debugInfo:te("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:He}},fA=tv(),pA=(n,r)=>{const i={};return Cn(n,(l,u)=>{Cn(l,(m,p)=>{const x=Jt(i,p).getOr([]);i[p]=x.concat([r(u,m)])})}),i},Fy=n=>n.cHandler,fR=(n,r)=>({name:n,handler:r}),pR=(n,r)=>{const i={};return bt(n,l=>{i[l.name()]=l.handlers(r)}),i},hA=(n,r,i)=>{const l=r[i];return l?((u,m,p,x)=>{try{const v=je(p,(_,S)=>{const k=_[m],A=S[m],M=x.indexOf(k),I=x.indexOf(A);if(M===-1)throw new Error("The ordering for "+u+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(x,null,2));if(I===-1)throw new Error("The ordering for "+u+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(x,null,2));return M<I?-1:I<M?1:0});return Go.value(v)}catch(v){return Go.error([v])}})("Event: "+i,"name",n,l).map(u=>(m=>({can:(v=>(..._)=>Uo(v,(S,k)=>S&&(A=>A.can)(k).apply(void 0,_),!0))(m),abort:(v=>(..._)=>Uo(v,(S,k)=>S||(A=>A.abort)(k).apply(void 0,_),!1))(m),run:(...v)=>{bt(m,_=>{_.run.apply(void 0,v)})}}))(Ce(u,m=>m.handler))):((u,m)=>Go.error(["The event ("+u+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ce(m,p=>p.name),null,2)]))(i,n)},bA=(n,r)=>((i,l)=>{const u=(p=>{const x=[],v=[];return bt(p,_=>{_.fold(S=>{x.push(S)},S=>{v.push(S)})}),{errors:x,values:v}})(i);return u.errors.length>0?(m=u.errors,Go.error(ks(m))):((p,x)=>p.length===0?Go.value(x):Go.value(vs(x,ll.apply(void 0,p))))(u.values,l);var m})(ua(n,(i,l)=>(i.length===1?Go.value(i[0].handler):hA(i,r,l)).map(u=>{const m=(x=>{const v=(_=>ot(_)?{can:so,abort:He,run:_}:_)(x);return(_,S,...k)=>{const A=[_,S].concat(k);v.abort.apply(void 0,A)?S.stop():v.can.apply(void 0,A)&&v.run.apply(void 0,A)}})(u),p=i.length>1?Co(r[l],x=>_n(i,v=>v.name===x)).join(" > "):i[0].name;return Ug(l,((x,v)=>({handler:x,purpose:v}))(m,p))})),{}),Gh="alloy.base.behaviour",YC=go([yr("dom","dom",{tag:"required",process:{}},go([dt("tag"),Le("styles",{}),Le("classes",[]),Le("attributes",{}),Rn("value"),Rn("innerHtml")])),dt("components"),dt("uid"),Le("events",{}),Le("apis",{}),yr("eventOrder","eventOrder",(vA={[tl()]:["disabling",Gh,"toggling","typeaheadevents"],[jl()]:[Gh,"focusing","keying"],[c0()]:[Gh,"disabling","toggling","representing","tooltipping"],[md()]:[Gh,"representing","streaming","invalidating"],[ou()]:[Gh,"representing","item-events","toolbar-button-events","tooltipping"],[el()]:["focusing",Gh,"item-type-events"],[Ul()]:["focusing",Gh,"item-type-events"],[ri()]:["item-type-events","tooltipping"],[Im()]:["receiving","reflecting","tooltipping"]},r0(te(vA))),Bi()),Rn("domModification")]),L0=n=>n.events,vp=(n,r)=>{const i=zo(n),l=zo(r),u=$o(l,i),m=(p=>{const x={},v={};return ar(p,(_,S)=>!rn(r,S)||_!==r[S],Gc(x),Gc(v)),{t:x,f:v}})(n).t;return{toRemove:u,toSet:m}},hR=(n,r)=>{const i=r.filter(l=>Zt(l)===n.tag&&!(u=>u.innerHtml.isSome()&&u.domChildren.length>0)(n)&&!(u=>rn(u.dom,$a))(l)).bind(l=>((u,m)=>{try{const p=((x,v)=>{const{class:_,style:S,...k}=(Y=>Uo(Y.dom.attributes,(J,de)=>(J[de.name]=de.value,J),{}))(v),{toSet:A,toRemove:M}=vp(x.attributes,k),I=Ru(v),{toSet:G,toRemove:j}=vp(x.styles,I),W=Yf(v),V=$o(W,x.classes),$=$o(x.classes,W);return bt(M,Y=>js(v,Y)),G2(v,A),zl(v,$),Qr(v,V),bt(j,Y=>fn(v,Y)),oe(v,G),x.innerHtml.fold(()=>{const Y=x.domChildren;((J,de)=>{aA(J,de,(ce,he)=>{const Ne=ed(J,he);return rA(J,ce,Ne),ce})})(v,Y)},Y=>{Bg(v,Y)}),(()=>{const Y=v,J=x.value.getOrUndefined();J!==Jr(Y)&&Xd(Y,J??"")})(),v})(u,m);return E.some(p)}catch{return E.none()}})(n,l)).getOrThunk(()=>(l=>{const u=Es(l.tag);G2(u,l.attributes),zl(u,l.classes),oe(u,l.styles),l.innerHtml.each(p=>Bg(u,p));const m=l.domChildren;return fi(u,m),l.value.each(p=>{Xd(u,p)}),u})(n));return Ly(i,n.uid),i},bR=n=>{const r=(i=>{const l=Jt(i,"behaviours").getOr({});return Fo(zo(l),u=>{const m=l[u];return ye(m)?[m.me]:[]})})(n);return((i,l)=>((u,m)=>{const p=Ce(m,v=>hi(v.name(),[dt("config"),Le("state",xl)])),x=Ts("component.behaviours",go(p),u.behaviours).fold(v=>{throw new Error(Pu(v)+`
Complete spec:
`+JSON.stringify(u,null,2))},gt);return{list:m,data:Rs(x,v=>{const _=v.map(S=>({config:S.config,state:S.state.init(S.config)}));return te(_)})}})(i,l))(n,r)},xR=(n,r)=>{const i=()=>A,l=Nt(fA),u=Ii((M=>Ts("custom.definition",YC,M))(n)),m=bR(n),p=(M=>M.list)(m),x=(M=>M.data)(m),v=((M,I,G)=>{const j={...(W=M).dom,uid:W.uid,domChildren:Ce(W.components,ce=>ce.element)};var W;const V=(ce=>ce.domModification.fold(()=>xd({}),xd))(M),$={"alloy.base.modification":V},Y=I.length>0?((ce,he,Ne,$e)=>{const Ue={...he};bt(Ne,Po=>{Ue[Po.name()]=Po.exhibit(ce,$e)});const qe=pA(Ue,(Po,Tn)=>({name:Po,modification:Tn})),lt=Po=>_o(Po,(Tn,es)=>({...es.modification,...Tn}),{}),Wt=_o(qe.classes,(Po,Tn)=>Tn.modification.concat(Po),[]),eo=lt(qe.attributes),no=lt(qe.styles);return xd({classes:Wt,attributes:eo,styles:no})})(G,$,I,j):V;return J=j,de=Y,{...J,attributes:{...J.attributes,...de.attributes},styles:{...J.styles,...de.styles},classes:J.classes.concat(de.classes)};var J,de})(u,p,x),_=hR(v,r),S=((M,I,G)=>{const j={"alloy.base.behaviour":L0(M)};return((W,V,$,Y)=>{const J=((de,ce,he)=>{const Ne={...he,...pR(ce,de)};return pA(Ne,fR)})(W,$,Y);return bA(J,V)})(G,M.eventOrder,I,j).getOrDie()})(u,p,x),k=Nt(u.components),A={uid:n.uid,getSystem:l.get,config:M=>{const I=x;return(ot(I[M.name()])?I[M.name()]:()=>{throw new Error("Could not find "+M.name()+" in "+JSON.stringify(n,null,2))})()},hasConfigured:M=>ot(x[M.name()]),spec:n,readState:M=>x[M]().map(I=>I.state.readState()).getOr("not enabled"),getApis:()=>u.apis,connect:M=>{l.set(M)},disconnect:()=>{l.set(tv(i))},element:_,syncComponents:()=>{const M=ul(_),I=Fo(M,G=>l.get().getByDom(G).fold(()=>[],Mo));k.set(I)},components:k.get,events:S};return A},Ds=n=>{const r=Ag(n);return XC({element:r})},XC=n=>{const r=Ha("external.component",pi([dt("element"),Rn("uid")]),n),i=Nt(tv()),l=r.uid.getOrThunk(()=>xp("external"));Ly(r.element,l);const u={uid:l,getSystem:i.get,config:E.none,hasConfigured:He,connect:m=>{i.set(m)},disconnect:()=>{i.set(tv(()=>u))},getApis:()=>({}),element:r.element,spec:n,readState:te("No state"),syncComponents:ue,components:te([]),events:{}};return Mc(u)},xA=xp,QC=(n,r)=>qh(n).getOrThunk(()=>((i,l)=>{const{events:u,...m}=gA(i),p=((v,_)=>{const S=Jt(v,"components").getOr([]);return _.fold(()=>Ce(S,Ua),k=>Ce(S,(A,M)=>QC(A,ed(k,M))))})(m,l),x={...m,events:{...mR,...u},components:p};return Go.value(xR(x,l))})((i=>rn(i,"uid"))(n)?n:{uid:xA(""),...n},r).getOrDie()),Ua=n=>QC(n,E.none()),Jl=Mc;var vA,vR=Object.freeze({__proto__:null,block:(n,r,i,l)=>{io(n.element,"aria-busy",!0);const u=r.getRoot(n).getOr(n),m=xt([Gt.config({mode:"special",onTab:()=>E.some(!0),onShiftTab:()=>E.some(!0)}),bo.config({})]),p=l(u,m),x=u.getSystem().build(p);So.append(u,Jl(x)),x.hasConfigured(Gt)&&r.focus&&Gt.focusIn(x),i.isBlocked()||r.onBlock(n),i.blockWith(()=>So.remove(u,x))},unblock:(n,r,i)=>{js(n.element,"aria-busy"),i.isBlocked()&&r.onUnblock(n),i.clear()},isBlocked:(n,r,i)=>i.isBlocked()}),yR=[as("getRoot",E.none),Ea("focus",!0),Io("onBlock"),Io("onUnblock")];const Yu=ha({fields:yR,name:"blocking",apis:vR,state:Object.freeze({__proto__:null,init:()=>{const n=Us(r=>r.destroy());return ai({readState:n.isSet,blockWith:r=>{n.set({destroy:r})},clear:n.clear,isBlocked:n.isSet})}})});var wR=Object.freeze({__proto__:null,getCurrent:(n,r,i)=>r.find(n)});const _R=[dt("find")],yn=ha({fields:_R,name:"composing",apis:wR});var CR=Object.freeze({__proto__:null,getCoupled:(n,r,i,l)=>i.getOrCreate(n,r,l),getExistingCoupled:(n,r,i,l)=>i.getExisting(n,r,l)}),kR=[Pi("others",xh(Go.value,Bi()))],SR=Object.freeze({__proto__:null,init:()=>{const n={},r=(l,u)=>{if(zo(l.others).length===0)throw new Error("Cannot find any known coupled components");return Jt(n,u)},i=te({});return ai({readState:i,getExisting:(l,u,m)=>r(u,m).orThunk(()=>(Jt(u.others,m).getOrDie("No information found for coupled component: "+m),E.none())),getOrCreate:(l,u,m)=>r(u,m).getOrThunk(()=>{const p=Jt(u.others,m).getOrDie("No information found for coupled component: "+m)(l),x=l.getSystem().build(p);return n[m]=x,x})})}});const Cr=ha({fields:kR,name:"coupling",apis:CR,state:SR}),ER=["input","button","textarea","select"],JC=(n,r,i)=>{(r.disabled()?Hy:ek)(n,r)},zy=(n,r)=>r.useNative===!0&&ut(ER,Zt(n.element)),yA=n=>{io(n.element,"disabled","disabled")},AR=n=>{js(n.element,"disabled")},wA=n=>{io(n.element,"aria-disabled","true")},TR=n=>{io(n.element,"aria-disabled","false")},Hy=(n,r,i)=>{r.disableClass.each(l=>{ws(n.element,l)}),(zy(n,r)?yA:wA)(n),r.onDisabled(n)},ek=(n,r,i)=>{r.disableClass.each(l=>{on(n.element,l)}),(zy(n,r)?AR:TR)(n),r.onEnabled(n)},_A=(n,r)=>zy(n,r)?(i=>q1(i.element,"disabled"))(n):(i=>Eo(i.element,"aria-disabled")==="true")(n);var tk=Object.freeze({__proto__:null,enable:ek,disable:Hy,isDisabled:_A,onLoad:JC,set:(n,r,i,l)=>{(l?Hy:ek)(n,r)}}),DR=Object.freeze({__proto__:null,exhibit:(n,r)=>xd({classes:r.disabled()?r.disableClass.toArray():[]}),events:(n,r)=>Xn([ju(tl(),(i,l)=>_A(i,n)),O0(n,r,JC)])}),OR=[as("disabled",He),Le("useNative",!0),Rn("disableClass"),Io("onDisabled"),Io("onEnabled")];const Qt=ha({fields:OR,name:"disabling",active:DR,apis:tk}),Ed=(n,r,i,l,u)=>{const m=p=>p+"px";return{position:n,left:r.map(m),top:i.map(m),right:l.map(m),bottom:u.map(m)}},CA=(n,r)=>{ym(n,(i=>({...i,position:E.some(i.position)}))(r))},RR=(n,r)=>{const i=n.element;ws(i,r.transitionClass),on(i,r.fadeOutClass),ws(i,r.fadeInClass),r.onShow(n)},NR=(n,r)=>{const i=n.element;ws(i,r.transitionClass),on(i,r.fadeInClass),ws(i,r.fadeOutClass),r.onHide(n)},Vy=(n,r)=>n.y>=r.y,kA=(n,r)=>n.bottom<=r.bottom,ok=(n,r,i)=>({location:"top",leftX:r,topY:i.bounds.y-n.y}),nk=(n,r,i)=>({location:"bottom",leftX:r,bottomY:n.bottom-i.bounds.bottom}),$y=n=>n.box.x-n.win.x,Ut=(n,r,i)=>i.getInitialPos().map(l=>{const u=((m,p)=>{const x=p.optScrollEnv.fold(te(m.bounds.y),v=>v.scrollElmTop+(m.bounds.y-v.currentScrollTop));return As(m.bounds.x,x)})(l,r);return{box:dn(u.left,u.top,Pn(n),Rr(n)),location:l.location}}),ov=(n,r,i,l,u)=>{const m=((x,v)=>{const _=v.optScrollEnv.fold(te(x.y),S=>x.y+S.currentScrollTop-S.scrollElmTop);return As(x.x,_)})(r,i),p=dn(m.left,m.top,r.width,r.height);l.setInitialPos({style:Ru(n),position:za(n,"position")||"static",bounds:p,location:u.location})},sk=(n,r,i)=>i.getInitialPos().bind(l=>{var u;switch(i.clearInitialPos(),l.position){case"static":return E.some({morph:"static"});case"absolute":const m=Wr(n).getOr(lr()),p=xr(m),x=(u=m.dom.scrollTop)!==null&&u!==void 0?u:0;return E.some({morph:"absolute",positionCss:Ed("absolute",Jt(l.style,"left").map(v=>r.x-p.x),Jt(l.style,"top").map(v=>r.y-p.y+x),Jt(l.style,"right").map(v=>p.right-r.right),Jt(l.style,"bottom").map(v=>p.bottom-r.bottom))});default:return E.none()}}),rk=n=>{switch(n.location){case"top":return E.some({morph:"fixed",positionCss:Ed("fixed",E.some(n.leftX),E.some(n.topY),E.none(),E.none())});case"bottom":return E.some({morph:"fixed",positionCss:Ed("fixed",E.some(n.leftX),E.none(),E.none(),E.some(n.bottomY))});default:return E.none()}},MR=(n,r,i)=>{const l=n.element;return $n(cr(l,"position"),"fixed")?((u,m,p)=>((x,v,_)=>Ut(x,v,_).filter(({box:S})=>((k,A,M)=>ui(k,I=>{switch(I){case"bottom":return kA(A,M.bounds);case"top":return Vy(A,M.bounds)}}))(_.getModes(),S,v)).bind(({box:S})=>sk(x,S,_)))(u,m,p).orThunk(()=>m.optScrollEnv.bind(x=>Ut(u,m,p)).bind(({box:x,location:v})=>{const _=Ws(),S=$y({win:_,box:x}),k=v==="top"?ok(_,S,m):nk(_,S,m);return rk(k)})))(l,r,i):((u,m,p)=>{const x=xr(u),v=Ws(),_=((S,k,A)=>{const M=k.win,I=k.box,G=$y(k);return mn(S,j=>{switch(j){case"bottom":return kA(I,A.bounds)?E.none():E.some(nk(M,G,A));case"top":return Vy(I,A.bounds)?E.none():E.some(ok(M,G,A));default:return E.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:v,box:x},m);return _.location==="top"||_.location==="bottom"?(ov(u,x,m,p,_),rk(_)):E.none()})(l,r,i)},SA=(n,r,i)=>{i.setDocked(!1),bt(["left","right","top","bottom","position"],l=>fn(n.element,l)),r.onUndocked(n)},Uy=(n,r,i,l)=>{const u=l.position==="fixed";i.setDocked(u),CA(n.element,l),(u?r.onDocked:r.onUndocked)(n)},EA=(n,r,i,l,u=!1)=>{r.contextual.each(m=>{m.lazyContext(n).each(p=>{const x=((v,_)=>v.y<_.bottom&&v.bottom>_.y)(p,l.bounds);x!==i.isVisible()&&(i.setVisible(x),u&&!x?(zl(n.element,[m.fadeOutClass]),m.onHide(n)):(x?RR:NR)(n,m))})})},AA=(n,r,i,l,u)=>{EA(n,r,i,l,!0),Uy(n,r,i,u.positionCss)},nv=(n,r,i)=>{n.getSystem().isConnected()&&((l,u,m)=>{const p=u.lazyViewport(l);EA(l,u,m,p),MR(l,p,m).each(x=>{((v,_,S,k,A)=>{switch(A.morph){case"static":return SA(v,_,S);case"absolute":return Uy(v,_,S,A.positionCss);case"fixed":AA(v,_,S,k,A)}})(l,u,m,p,x)})})(n,r,i)},TA=(n,r,i)=>{i.isDocked()&&((l,u,m)=>{const p=l.element;m.setDocked(!1);const x=u.lazyViewport(l);((v,_,S)=>{const k=v.element;return Ut(k,_,S).bind(({box:A})=>sk(k,A,S))})(l,x,m).each(v=>{switch(v.morph){case"static":SA(l,u,m);break;case"absolute":Uy(l,u,m,v.positionCss)}}),m.setVisible(!0),u.contextual.each(v=>{Qr(p,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(l)}),nv(l,u,m)})(n,r,i)},Za=n=>(r,i,l)=>{const u=i.lazyViewport(r);((m,p,x,v)=>{const _=xr(m),S=Ws(),k=v(S,$y({win:S,box:_}),p);return k.location==="bottom"||k.location==="top"?(((A,M,I,G,j)=>{G.getInitialPos().fold(()=>ov(A,M,I,G,j),()=>ue)})(m,_,p,x,k),rk(k)):E.none()})(r.element,u,l,n).each(m=>{AA(r,i,l,u,m)})},F0=Za(ok),BR=Za(nk);var IR=Object.freeze({__proto__:null,refresh:nv,reset:TA,isDocked:(n,r,i)=>i.isDocked(),getModes:(n,r,i)=>i.getModes(),setModes:(n,r,i,l)=>i.setModes(l),forceDockToTop:F0,forceDockToBottom:BR}),PR=Object.freeze({__proto__:null,events:(n,r)=>Xn([Wu(ep(),(i,l)=>{n.contextual.each(u=>{ur(i.element,u.transitionClass)&&(Qr(i.element,[u.transitionClass,u.fadeInClass]),(r.isVisible()?u.onShown:u.onHidden)(i)),l.stop()})}),Ye(d0(),(i,l)=>{nv(i,n,r)}),Ye(wh(),(i,l)=>{nv(i,n,r)}),Ye(Wl(),(i,l)=>{TA(i,n,r)})])}),LR=[hi("contextual",[Br("fadeInClass"),Br("fadeOutClass"),Br("transitionClass"),hl("lazyContext"),Io("onShow"),Io("onShown"),Io("onHide"),Io("onHidden")]),as("lazyViewport",()=>({bounds:Ws(),optScrollEnv:E.none()})),Lu("modes",["top","bottom"],vr),Io("onDocked"),Io("onUndocked")];const Ms=ha({fields:LR,name:"docking",active:PR,apis:IR,state:Object.freeze({__proto__:null,init:n=>{const r=Nt(!1),i=Nt(!0),l=Fn(),u=Nt(n.modes);return ai({isDocked:r.get,setDocked:r.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:u.get,setModes:u.set,readState:()=>`docked:  ${r.get()}, visible: ${i.get()}, modes: ${u.get().join(",")}`})}})}),Zy=Vs([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),sv=n=>r=>r.translate(-n.left,-n.top),jy=n=>r=>r.translate(n.left,n.top),Xm=n=>(r,i)=>Uo(n,(l,u)=>u(l),As(r,i)),Wy=(n,r,i)=>n.fold(Xm([jy(i),sv(r)]),Xm([sv(r)]),Xm([])),z0=(n,r,i)=>n.fold(Xm([jy(i)]),Xm([]),Xm([jy(r)])),DA=(n,r,i)=>n.fold(Xm([]),Xm([sv(i)]),Xm([jy(r),sv(i)])),OA=(n,r,i)=>{const l=n.fold((u,m)=>({position:E.some("absolute"),left:E.some(u+"px"),top:E.some(m+"px")}),(u,m)=>({position:E.some("absolute"),left:E.some(u-i.left+"px"),top:E.some(m-i.top+"px")}),(u,m)=>({position:E.some("fixed"),left:E.some(u+"px"),top:E.some(m+"px")}));return{right:E.none(),bottom:E.none(),...l}},ak=(n,r,i,l)=>{const u=(m,p)=>(x,v)=>{const _=m(r,i,l);return p(x.getOr(_.left),v.getOr(_.top))};return n.fold(u(DA,qy),u(z0,Qm),u(Wy,hf))},qy=Zy.offset,Qm=Zy.absolute,hf=Zy.fixed,ik=(n,r)=>{const i=Eo(n,r);return kt(i)?NaN:parseInt(i,10)},FR=(n,r,i,l,u,m)=>{const p=((_,S,k,A)=>((M,I)=>{const G=M.element,j=ik(G,I.leftAttr),W=ik(G,I.topAttr);return isNaN(j)||isNaN(W)?E.none():E.some(As(j,W))})(_,S).fold(()=>k,M=>hf(M.left+A.left,M.top+A.top)))(n,r,i,l),x=r.mustSnap?zR(n,r,p,u,m):HR(n,r,p,u,m),v=Wy(p,u,m);return((_,S,k)=>{const A=_.element;io(A,S.leftAttr,k.left+"px"),io(A,S.topAttr,k.top+"px")})(n,r,v),x.fold(()=>({coord:hf(v.left,v.top),extra:E.none()}),_=>({coord:_.output,extra:_.extra}))},lk=(n,r,i,l)=>mn(n,u=>{const m=u.sensor;return((x,v,_,S,k,A)=>{const M=z0(x,k,A),I=z0(v,k,A);return Math.abs(M.left-I.left)<=_&&Math.abs(M.top-I.top)<=S})(r,m,u.range.left,u.range.top,i,l)?E.some({output:ak(u.output,r,i,l),extra:u.extra}):E.none()}),zR=(n,r,i,l,u)=>{const m=r.getSnapPoints(n);return lk(m,i,l,u).orThunk(()=>Uo(m,(x,v)=>{const _=v.sensor,S=((k,A,M,I,G,j)=>{const W=z0(k,G,j),V=z0(A,G,j),$=Math.abs(W.left-V.left),Y=Math.abs(W.top-V.top);return As($,Y)})(i,_,v.range.left,v.range.top,l,u);return x.deltas.fold(()=>({deltas:E.some(S),snap:E.some(v)}),k=>(S.left+S.top)/2<=(k.left+k.top)/2?{deltas:E.some(S),snap:E.some(v)}:x)},{deltas:E.none(),snap:E.none()}).snap.map(x=>({output:ak(x.output,i,l,u),extra:x.extra})))},HR=(n,r,i,l,u)=>{const m=r.getSnapPoints(n);return lk(m,i,l,u)};var VR=Object.freeze({__proto__:null,snapTo:(n,r,i,l)=>{const u=r.getTarget(n.element);if(r.repositionTarget){const m=zt(n.element),p=Ni(m),x=Xi(u),v=((S,k,A)=>({coord:ak(S.output,S.output,k,A),extra:S.extra}))(l,p,x),_=OA(v.coord,0,x);ym(u,_)}}});const Ma=(n,r)=>a0(n,{},Ce(r,i=>{return l=i.name(),u="Cannot configure "+i.name()+" for "+n,yr(l,l,{tag:"option",process:{}},km(m=>yc("The field: "+l+" is forbidden. "+u)));var l,u}).concat([Sa("dump",gt)])),ck=n=>n.dump,ii=(n,r)=>({...xt(r),...n.dump}),Kh=Ma,H0=ii,RA=(n,r,i,l,u)=>{const m=((p,x)=>(p.length>0?[ni("parts",p)]:[]).concat([dt("uid"),Le("dom",{}),Le("components",[]),dy("originalSpec"),Le("debug.sketcher",{})]).concat(x))(l,u);return Ha(n+" [SpecSchema]",pi(m.concat(r)),i)},Gy=(n,r,i,l,u)=>{const m=NA(u),p=Yg(i),x=Cx(i),v=RA(n,r,m,p,[x]),_=yx(0,v,i);return l(v,wx(n,v,_.internals()),m,_.externals())},NA=n=>(r=>rn(r,"uid"))(n)?n:{...n,uid:xp("uid")},V0=pi([dt("name"),dt("factory"),dt("configFields"),Le("apis",{}),Le("extraApis",{})]),$R=pi([dt("name"),dt("factory"),dt("configFields"),dt("partFields"),Le("apis",{}),Le("extraApis",{})]),wl=n=>{const r=Ha("Sketcher for "+n.name,V0,n),i=Rs(r.apis,Cd),l=Rs(r.extraApis,(u,m)=>Ac(u,m));return{name:r.name,configFields:r.configFields,sketch:u=>((m,p,x,v)=>{const _=NA(v);return x(RA(m,p,_,[],[]),_)})(r.name,r.configFields,r.factory,u),...i,...l}},sl=n=>{const r=Ha("Sketcher for "+n.name,$R,n),i=y0(r.name,r.partFields),l=Rs(r.apis,Cd),u=Rs(r.extraApis,(m,p)=>Ac(m,p));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:m=>Gy(r.name,r.configFields,r.partFields,r.factory,m),parts:i,...l,...u}},ec=wl({name:"Container",factory:n=>{const{attributes:r,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...i},components:n.components,behaviours:ck(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[Le("components",[]),Ma("containerBehaviours",[]),Le("events",{}),Le("domModification",{}),Le("eventOrder",{})]}),dk="data-initial-z-index",MA=(n,r)=>{n.getSystem().addToGui(r),(i=>{Un(i.element).filter(jo).each(l=>{cr(l,"z-index").each(u=>{io(l,dk,u)}),ko(l,"z-index",za(i.element,"z-index"))})})(r)},UR=n=>{(r=>{Un(r.element).filter(jo).each(i=>{Yr(i,dk).fold(()=>fn(i,"z-index"),l=>ko(i,"z-index",l)),js(i,dk)})})(n),n.getSystem().removeFromGui(n)},BA=(n,r,i)=>n.getSystem().build(ec.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:i}));var ZR=hi("snaps",[dt("getSnapPoints"),Io("onSensor"),dt("leftAttr"),dt("topAttr"),Le("lazyViewport",Ws),Le("mustSnap",!1)]);const rv=[Le("useFixed",He),dt("blockerClass"),Le("getTarget",gt),Le("onDrag",ue),Le("repositionTarget",!0),Le("onDrop",ue),as("getBounds",Ws),ZR],jR=n=>{return(r=cr(n,"left"),i=cr(n,"top"),l=cr(n,"position"),r.isSome()&&i.isSome()&&l.isSome()?E.some(((u,m,p)=>(p==="fixed"?hf:qy)(parseInt(u,10),parseInt(m,10)))(r.getOrDie(),i.getOrDie(),l.getOrDie())):E.none()).getOrThunk(()=>{const u=Nr(n);return Qm(u.left,u.top)});var r,i,l},IA=(n,r)=>({bounds:n.getBounds(),height:Nu(r.element),width:Kd(r.element)}),uk=(n,r,i,l,u)=>{const m=i.update(l,u),p=i.getStartData().getOrThunk(()=>IA(r,n));m.each(x=>{((v,_,S,k)=>{const A=_.getTarget(v.element);if(_.repositionTarget){const M=zt(v.element),I=Ni(M),G=Xi(A),j=jR(A),W=(($,Y,J,de,ce,he,Ne)=>(($e,Ue,qe,lt,Wt)=>{const eo=Wt.bounds,no=z0(Ue,qe,lt),Po=An(no.left,eo.x,eo.x+eo.width-Wt.width),Tn=An(no.top,eo.y,eo.y+eo.height-Wt.height),es=Qm(Po,Tn);return Ue.fold(()=>{const ro=DA(es,qe,lt);return qy(ro.left,ro.top)},te(es),()=>{const ro=Wy(es,qe,lt);return hf(ro.left,ro.top)})})(0,Y.fold(()=>{const $e=(Ue=J,qe=he.left,lt=he.top,Ue.fold((eo,no)=>qy(eo+qe,no+lt),(eo,no)=>Qm(eo+qe,no+lt),(eo,no)=>hf(eo+qe,no+lt)));var Ue,qe,lt;const Wt=Wy($e,de,ce);return hf(Wt.left,Wt.top)},$e=>{const Ue=FR($,$e,J,he,de,ce);return Ue.extra.each(qe=>{$e.onSensor($,qe)}),Ue.coord}),de,ce,Ne))(v,_.snaps,j,I,G,k,S),V=OA(W,0,G);ym(A,V)}_.onDrag(v,A,k)})(n,r,p,x)})},PA=(n,r,i,l)=>{r.each(UR),i.snaps.each(m=>{((p,x)=>{((v,_)=>{const S=v.element;js(S,_.leftAttr),js(S,_.topAttr)})(p,x)})(n,m)});const u=i.getTarget(n.element);l.reset(),i.onDrop(n,u)},mk=n=>(r,i)=>{const l=u=>{i.setStartData(IA(r,u))};return Xn([Ye(d0(),u=>{i.getStartData().each(()=>l(u))}),...n(r,i,l)])};var WR=Object.freeze({__proto__:null,getData:n=>E.from(As(n.x,n.y)),getDelta:(n,r)=>As(r.left-n.left,r.top-n.top)});const gk=(n,r,i)=>[Ye(el(),(l,u)=>{if(u.event.raw.button!==0)return;u.stop();const m=()=>PA(l,E.some(v),n,r),p=p0(m,200),x={drop:m,delayDrop:p.schedule,forceDrop:m,move:_=>{p.cancel(),uk(l,n,r,WR,_)}},v=BA(l,n.blockerClass,(_=>Xn([Ye(el(),_.forceDrop),Ye(i0(),_.drop),Ye(qr(),(S,k)=>{_.move(k.event)}),Ye(tu(),_.delayDrop)]))(x));i(l),MA(l,v)})],qR=[...rv,ss("dragger",{handlers:mk(gk)})];var fk=Object.freeze({__proto__:null,getData:n=>{const r=n.raw.touches;return r.length===1?(i=>{const l=i[0];return E.some(As(l.clientX,l.clientY))})(r):E.none()},getDelta:(n,r)=>As(r.left-n.left,r.top-n.top)});const $0=(n,r,i)=>{const l=Fn(),u=m=>{PA(m,l.get(),n,r),l.clear()};return[Ye(Ul(),(m,p)=>{p.stop();const x=()=>u(m),v={drop:x,delayDrop:ue,forceDrop:x,move:S=>{uk(m,n,r,fk,S)}},_=BA(m,n.blockerClass,(S=>Xn([Ye(Ul(),S.forceDrop),Ye(Nm(),S.drop),Ye(Ji(),S.drop),Ye(Jf(),(k,A)=>{S.move(A.event)})]))(v));l.set(_),i(m),MA(m,_)}),Ye(Jf(),(m,p)=>{p.stop(),uk(m,n,r,fk,p.event)}),Ye(Nm(),(m,p)=>{p.stop(),u(m)}),Ye(Ji(),u)]},GR=qR,KR=[...rv,ss("dragger",{handlers:mk($0)})],YR=[...rv,ss("dragger",{handlers:mk((n,r,i)=>[...gk(n,r,i),...$0(n,r,i)])})];var XR=Object.freeze({__proto__:null,mouse:GR,touch:KR,mouseOrTouch:YR}),LA=Object.freeze({__proto__:null,init:()=>{let n=E.none(),r=E.none();const i=te({});return ai({readState:i,reset:()=>{n=E.none(),r=E.none()},update:(l,u)=>l.getData(u).bind(m=>((p,x)=>{const v=n.map(_=>p.getDelta(_,x));return n=E.some(x),v})(l,m)),getStartData:()=>r,setStartData:l=>{r=E.some(l)}})}});const yp=zh({branchKey:"mode",branches:XR,name:"dragging",active:{events:(n,r)=>n.dragger.handlers(n,r)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:E.from(n.extra)})},state:LA,apis:VR}),QR=["input","textarea"],FA=n=>{const r=Zt(n);return ut(QR,r)},zA=(n,r)=>{const i=r.getRoot(n).getOr(n.element);on(i,r.invalidClass),r.notify.each(l=>{FA(n.element)&&io(n.element,"aria-invalid",!1),l.getContainer(n).each(u=>{Bg(u,l.validHtml)}),l.onValid(n)})},HA=(n,r,i,l)=>{const u=r.getRoot(n).getOr(n.element);ws(u,r.invalidClass),r.notify.each(m=>{FA(n.element)&&io(n.element,"aria-invalid",!0),m.getContainer(n).each(p=>{Bg(p,l)}),m.onInvalid(n,l)})},VA=(n,r,i)=>r.validator.fold(()=>$r(Go.value(!0)),l=>l.validate(n)),pk=(n,r,i)=>(r.notify.each(l=>{l.onValidate(n)}),VA(n,r).map(l=>n.getSystem().isConnected()?l.fold(u=>(HA(n,r,0,u),Go.error(u)),u=>(zA(n,r),Go.value(u))):Go.error("No longer in system")));var JR=Object.freeze({__proto__:null,markValid:zA,markInvalid:HA,query:VA,run:pk,isInvalid:(n,r)=>{const i=r.getRoot(n).getOr(n.element);return ur(i,r.invalidClass)}}),Ky=Object.freeze({__proto__:null,events:(n,r)=>n.validator.map(i=>Xn([Ye(i.onEvent,l=>{pk(l,n).get(gt)})].concat(i.validateOnLoad?[is(l=>{pk(l,n).get(ue)})]:[]))).getOr({})}),eN=[dt("invalidClass"),Le("getRoot",E.none),hi("notify",[Le("aria","alert"),Le("getContainer",E.none),Le("validHtml",""),Io("onValid"),Io("onInvalid"),Io("onValidate")]),hi("validator",[dt("validate"),Le("onEvent","input"),Le("validateOnLoad",!0)])];const hk=(n,r,i)=>{r.store.manager.onLoad(n,r,i)},$A=(n,r,i)=>{r.store.manager.onUnload(n,r,i)};var tN=Object.freeze({__proto__:null,onLoad:hk,onUnload:$A,setValue:(n,r,i,l)=>{r.store.manager.setValue(n,r,i,l)},getValue:(n,r,i)=>r.store.manager.getValue(n,r,i),getState:(n,r,i)=>i}),oN=Object.freeze({__proto__:null,events:(n,r)=>{const i=n.resetOnDom?[is((l,u)=>{hk(l,n,r)}),Dc((l,u)=>{$A(l,n,r)})]:[O0(n,r,hk)];return Xn(i)}});const UA=()=>{const n=Nt(null);return ai({set:n.set,get:n.get,isNotSet:()=>n.get()===null,clear:()=>{n.set(null)},readState:()=>({mode:"memory",value:n.get()})})},ZA=()=>{const n=Nt({}),r=Nt({});return ai({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:r.get()}),lookup:i=>Jt(n.get(),i).orThunk(()=>Jt(r.get(),i)),update:i=>{const l=n.get(),u=r.get(),m={},p={};bt(i,x=>{m[x.value]=x,Jt(x,"meta").each(v=>{Jt(v,"text").each(_=>{p[_]=x})})}),n.set({...l,...m}),r.set({...u,...p})},clear:()=>{n.set({}),r.set({})}})};var nN=Object.freeze({__proto__:null,memory:UA,dataset:ZA,manual:()=>ai({readState:ue}),init:n=>n.store.manager.state(n)});const jA=(n,r,i,l)=>{const u=r.store;i.update([l]),u.setValue(n,l),r.onSetValue(n,l)};var sN=[Rn("initialValue"),dt("getFallbackEntry"),dt("getDataKey"),dt("setValue"),ss("manager",{setValue:jA,getValue:(n,r,i)=>{const l=r.store,u=l.getDataKey(n);return i.lookup(u).getOrThunk(()=>l.getFallbackEntry(u))},onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{jA(n,r,i,l)})},onUnload:(n,r,i)=>{i.clear()},state:ZA})],rN=[dt("getValue"),Le("setValue",ue),Rn("initialValue"),ss("manager",{setValue:(n,r,i,l)=>{r.store.setValue(n,l),r.onSetValue(n,l)},getValue:(n,r,i)=>r.store.getValue(n),onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{r.store.setValue(n,l)})},onUnload:ue,state:xl.init})],aN=[Rn("initialValue"),ss("manager",{setValue:(n,r,i,l)=>{i.set(l),r.onSetValue(n,l)},getValue:(n,r,i)=>i.get(),onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{i.isNotSet()&&i.set(l)})},onUnload:(n,r,i)=>{i.clear()},state:UA})],WA=[Vl("store",{mode:"memory"},oi("mode",{memory:aN,manual:rN,dataset:sN})),Io("onSetValue"),Le("resetOnDom",!1)];const Ht=ha({fields:WA,name:"representing",active:oN,apis:tN,extra:{setValueFrom:(n,r)=>{const i=Ht.getValue(r);Ht.setValue(n,i)}},state:nN}),Jm=ha({fields:eN,name:"invalidating",active:Ky,apis:JR,extra:{validation:n=>r=>{const i=Ht.getValue(r);return $r(n(i))}}});var iN=Object.freeze({__proto__:null,exhibit:(n,r)=>xd({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const bk=Vs([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),xk=(n,r,i,l,u,m)=>{const p=r.rect,x=p.x-i,v=p.y-l,_=u-(x+p.width),S=m-(v+p.height),k=E.some(x),A=E.some(v),M=E.some(_),I=E.some(S),G=E.none();return r.direction.fold(()=>Ed(n,k,A,G,G),()=>Ed(n,G,A,M,G),()=>Ed(n,k,G,G,I),()=>Ed(n,G,G,M,I),()=>Ed(n,k,A,G,G),()=>Ed(n,k,G,G,I),()=>Ed(n,k,A,G,G),()=>Ed(n,G,A,M,G))},qA=(n,r)=>n.fold(()=>{const i=r.rect;return Ed("absolute",E.some(i.x),E.some(i.y),E.none(),E.none())},(i,l,u,m)=>xk("absolute",r,i,l,u,m),(i,l,u,m)=>xk("fixed",r,i,l,u,m)),vk=(n,r)=>{const i=ln(xc,r),l=n.fold(i,i,()=>{const p=Ni();return xc(r).translate(-p.left,-p.top)}),u=Kd(r),m=Nu(r);return dn(l.left,l.top,u,m)},lN=(n,r)=>r.fold(()=>n.fold(Ws,Ws,dn),i=>n.fold(te(i),te(i),()=>{const l=GA(n,i.x,i.y);return dn(l.left,l.top,i.width,i.height)})),GA=(n,r,i)=>{const l=As(r,i);return n.fold(te(l),te(l),()=>{const u=Ni();return l.translate(-u.left,-u.top)})};bk.none;const cN=bk.relative,KA=bk.fixed,Yy=Vs([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),dN=(n,r,i,l)=>{const u=n.bubble,m=u.offset,p=((Y,J,de)=>{const ce=(qe,lt)=>J[qe].map(Wt=>{const eo=qe==="top"||qe==="bottom",no=eo?de.top:de.left,Po=(qe==="left"||qe==="top"?Math.max:Math.min)(Wt,lt)+no;return eo?An(Po,Y.y,Y.bottom):An(Po,Y.x,Y.right)}).getOr(lt),he=ce("left",Y.x),Ne=ce("top",Y.y),$e=ce("right",Y.right),Ue=ce("bottom",Y.bottom);return dn(he,Ne,$e-he,Ue-Ne)})(l,n.restriction,m),x=n.x+m.left,v=n.y+m.top,_=dn(x,v,r,i),{originInBounds:S,sizeInBounds:k,visibleW:A,visibleH:M}=((Y,J)=>{const{x:de,y:ce,right:he,bottom:Ne}=J,{x:$e,y:Ue,right:qe,bottom:lt,width:Wt,height:eo}=Y;return{originInBounds:$e>=de&&$e<=he&&Ue>=ce&&Ue<=Ne,sizeInBounds:qe<=he&&qe>=de&&lt<=Ne&&lt>=ce,visibleW:Math.min(Wt,$e>=de?he-$e:qe-de),visibleH:Math.min(eo,Ue>=ce?Ne-Ue:lt-ce)}})(_,p),I=S&&k,G=I?_:((Y,J)=>{const{x:de,y:ce,right:he,bottom:Ne}=J,{x:$e,y:Ue,width:qe,height:lt}=Y,Wt=Math.max(de,he-qe),eo=Math.max(ce,Ne-lt),no=An($e,de,Wt),Po=An(Ue,ce,eo),Tn=Math.min(no+qe,he)-no,es=Math.min(Po+lt,Ne)-Po;return dn(no,Po,Tn,es)})(_,p),j=G.width>0&&G.height>0,{maxWidth:W,maxHeight:V}=((Y,J,de)=>{const ce=te(J.bottom-de.y),he=te(de.bottom-J.y),Ne=((lt,Wt,eo,no)=>lt.fold(Wt,Wt,no,no,Wt,no,eo,eo))(Y,he,he,ce),$e=te(J.right-de.x),Ue=te(de.right-J.x);return{maxWidth:((lt,Wt,eo,no)=>lt.fold(Wt,no,Wt,no,eo,eo,Wt,no))(Y,Ue,Ue,$e),maxHeight:Ne}})(n.direction,G,l),$={rect:G,maxHeight:V,maxWidth:W,direction:n.direction,placement:n.placement,classes:{on:u.classesOn,off:u.classesOff},layout:n.label,testY:v};return I||n.alwaysFit?Yy.fit($):Yy.nofit($,A,M,j)},YA=["top","bottom","right","left"],av="data-alloy-transition-timer",yk=(n,r,i,l,u,m)=>{const p=((x,v,_)=>_.exists(S=>{const k=x.mode;return k==="all"||S[k]!==v[k]}))(l,u,m);if(p||((x,v)=>((_,S)=>ui(S,k=>ur(_,k)))(x,v.classes))(n,l)){ko(n,"position",i.position);const x=vk(r,n),v=qA(r,{...u,rect:x}),_=In(YA,S=>v[S]);((S,k)=>{const A=M=>parseFloat(M).toFixed(3);return Ol(k,(M,I)=>!((G,j,W=me)=>Rl(G,j,W).getOr(G.isNone()&&j.isNone()))(S[I].map(A),M.map(A))).isSome()})(i,_)&&(ym(n,_),p&&((S,k)=>{zl(S,k.classes),Yr(S,av).each(A=>{clearTimeout(parseInt(A,10)),js(S,av)}),((A,M)=>{const I=Zr(),G=Zr();let j;const W=J=>{var de;const ce=(de=J.raw.pseudoElement)!==null&&de!==void 0?de:"";return Zo(J.target,A)&&pc(ce)&&ut(YA,J.raw.propertyName)},V=J=>{if(Je(J)||W(J)){I.clear(),G.clear();const de=J?.raw.type;(Je(de)||de===ep())&&(clearTimeout(j),js(A,av),Qr(A,M.classes))}},$=La(A,zC(),J=>{W(J)&&($.unbind(),I.set(La(A,ep(),V)),G.set(La(A,oy(),V)))}),Y=(J=>{const de=$e=>{const Ue=za(J,$e).split(/\s*,\s*/);return Co(Ue,Ml)},ce=$e=>{if(Oe($e)&&/^[\d.]+/.test($e)){const Ue=parseFloat($e);return Hd($e,"ms")?Ue:1e3*Ue}return 0},he=de("transition-delay"),Ne=de("transition-duration");return Uo(Ne,($e,Ue,qe)=>{const lt=ce(he[qe])+ce(Ue);return Math.max($e,lt)},0)})(A);window.requestAnimationFrame(()=>{j=setTimeout(V,Y+17),io(A,av,j)})})(S,k)})(n,l),ch(n))}else Qr(n,l.classes)},XA=(n,r,i)=>n[r]===void 0?i:n[r],uN=(n,r,i,l)=>{const u=((m,p,x,v)=>{fn(p,"max-height"),fn(p,"max-width");const _=(S=p,{width:Math.ceil(Kd(S)),height:Nu(S)});var S;return((k,A,M,I,G,j)=>{const W=I.width,V=I.height,$=(Y,J,de,ce,he)=>{const Ne=Y(M,I,G,k,j),$e=dN(Ne,W,V,j);return $e.fold(te($e),(Ue,qe,lt,Wt)=>(he===Wt?lt>ce||qe>de:!he&&Wt)?$e:Yy.nofit(J,de,ce,he))};return Uo(A,(Y,J)=>{const de=ln($,J);return Y.fold(te(Y),de)},Yy.nofit({rect:M,maxHeight:I.height,maxWidth:I.width,direction:op(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:M.y},-1,-1,!1)).fold(gt,gt)})(p,v.preference,m,_,x,v.bounds)})(n,r,i,l);return((m,p,x)=>{const v=qA(x.origin,p);x.transition.each(_=>{yk(m,x.origin,v,_,p,x.lastPlacement)}),CA(m,v)})(r,u,l),((m,p)=>{((x,v)=>{io(x,nl,v)})(m,p.placement)})(r,u),((m,p)=>{const x=p.classes;Qr(m,x.off),zl(m,x.on)})(r,u),((m,p,x)=>{(0,x.maxHeightFunction)(m,p.maxHeight)})(r,u,l),((m,p,x)=>{(0,x.maxWidthFunction)(m,p.maxWidth)})(r,u,l),{layout:u.layout,placement:u.placement}},Xy=gt,eg=()=>hi("layouts",[dt("onLtr"),dt("onRtl"),Rn("onBottomLtr"),Rn("onBottomRtl")]),Qy=(n,r,i,l,u,m,p)=>{const x=p.map(ap).getOr(!1),v=r.layouts.map(A=>A.onLtr(n)),_=r.layouts.map(A=>A.onRtl(n)),S=x?r.layouts.bind(A=>A.onBottomLtr.map(M=>M(n))).or(v).getOr(u):v.getOr(i),k=x?r.layouts.bind(A=>A.onBottomRtl.map(M=>M(n))).or(_).getOr(m):_.getOr(l);return zg(S,k)(n)};var mN=[dt("hotspot"),Rn("bubble"),Le("overrides",{}),eg(),ss("placement",(n,r,i)=>{const l=r.hotspot,u=vk(i,l.element),m=Qy(n.element,r,Rx(),E0(),S0(),fd(),E.some(r.hotspot.element));return E.some(Xy({anchorBox:u,bubble:r.bubble.getOr(C0()),overrides:r.overrides,layouts:m}))})],gN=[dt("x"),dt("y"),Le("height",0),Le("width",0),Le("bubble",C0()),Le("overrides",{}),eg(),ss("placement",(n,r,i)=>{const l=GA(i,r.x,r.y),u=dn(l.left,l.top,r.width,r.height),m=Qy(n.element,r,Ox(),vy(),Ox(),vy(),E.none());return E.some(Xy({anchorBox:u,bubble:r.bubble,overrides:r.overrides,layouts:m}))})];const wk=Vs([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),fN=n=>n.fold(gt,(r,i,l)=>r.translate(-i,-l)),QA=n=>n.fold(gt,gt),_k=n=>Uo(n,(r,i)=>r.translate(i.left,i.top),As(0,0)),Ck=n=>{const r=Ce(n,QA);return _k(r)},JA=wk.screen,e5=wk.absolute,t5=(n,r,i)=>{const l=zt(n.element),u=Ni(l),m=((p,x,v)=>{const _=Or(v.root).dom;return E.from(_.frameElement).map(Ft).filter(S=>{const k=zt(S),A=zt(p.element);return Zo(k,A)}).map(Nr)})(n,0,i).getOr(u);return e5(m,u.left,u.top)},kk=(n,r,i,l)=>{const u=JA(As(n,r));return E.some(((m,p,x)=>({point:m,width:p,height:x}))(u,i,l))},o5=(n,r,i,l,u)=>n.map(m=>{const p=[r,m.point],x=(v=()=>Ck(p),_=()=>Ck(p),S=()=>($=>{const Y=Ce($,fN);return _k(Y)})(p),l.fold(v,_,S));var v,_,S;const k=(G=x.left,j=x.top,W=m.width,V=m.height,{x:G,y:j,width:W,height:V}),A=i.showAbove?S0():Rx(),M=i.showAbove?fd():E0(),I=Qy(u,i,A,M,A,M,E.none());var G,j,W,V;return Xy({anchorBox:k,bubble:i.bubble.getOr(C0()),overrides:i.overrides,layouts:I})});var pN=[dt("node"),dt("root"),Rn("bubble"),eg(),Le("overrides",{}),Le("showAbove",!1),ss("placement",(n,r,i)=>{const l=t5(n,0,r);return r.node.filter(it).bind(u=>{const m=u.dom.getBoundingClientRect(),p=kk(m.left,m.top,m.width,m.height),x=r.node.getOr(n.element);return o5(p,l,r,i,x)})})];const Jy=(n,r)=>({element:n,offset:r}),wp=(n,r)=>B(n)?Jy(n,r):((i,l)=>{const u=ul(i);if(u.length===0)return Jy(i,l);if(l<u.length)return Jy(u[l],0);{const m=u[u.length-1],p=B(m)?(x=>sx.get(x))(m).length:ul(m).length;return Jy(m,p)}})(n,r),Sk=n=>n.foffset!==void 0,n5=(n,r)=>r.getSelection.getOrThunk(()=>()=>(i=>(l=>E.from(l.getSelection()))(i).filter(l=>l.rangeCount>0).bind(Q2))(n))().map(i=>{if(Sk(i)){const l=wp(i.start,i.soffset),u=wp(i.finish,i.foffset);return id.range(l.element,l.offset,u.element,u.offset)}return i});var hN=[Rn("getSelection"),dt("root"),Rn("bubble"),eg(),Le("overrides",{}),Le("showAbove",!1),ss("placement",(n,r,i)=>{const l=Or(r.root).dom,u=t5(n,0,r),m=n5(l,r).bind(x=>{if(Sk(x))return((_,S)=>(k=>{const A=k.getBoundingClientRect();return A.width>0||A.height>0?E.some(A).map(Dg):E.none()})($f(_,S)))(l,id.exactFromRange(x)).orThunk(()=>{const _=Ag("\uFEFF");Ll(x.start,_);const S=lx(l,id.exact(_,0,_,1));return qd(_),S}).bind(_=>kk(_.left,_.top,_.width,_.height));{const v=Rs(x,S=>S.dom.getBoundingClientRect()),_={left:Math.min(v.firstCell.left,v.lastCell.left),right:Math.max(v.firstCell.right,v.lastCell.right),top:Math.min(v.firstCell.top,v.lastCell.top),bottom:Math.max(v.firstCell.bottom,v.lastCell.bottom)};return kk(_.left,_.top,_.right-_.left,_.bottom-_.top)}}),p=n5(l,r).bind(x=>Sk(x)?jo(x.start)?E.some(x.start):fa(x.start):E.some(x.firstCell)).getOr(n.element);return o5(m,u,r,i,p)})];const ew="link-layout",Ek=n=>n.x+n.width,s5=(n,r)=>n.x-r.width,r5=(n,r)=>n.y-r.height+n.height,Ak=n=>n.y,U0=(n,r,i)=>oa(Ek(n),Ak(n),i.southeast(),op(),"southeast",Da(n,{left:0,top:2}),ew),Z0=(n,r,i)=>oa(s5(n,r),Ak(n),i.southwest(),Uu(),"southwest",Da(n,{right:1,top:2}),ew),a5=(n,r,i)=>oa(Ek(n),r5(n,r),i.northeast(),kx(),"northeast",Da(n,{left:0,bottom:3}),ew),tw=(n,r,i)=>oa(s5(n,r),r5(n,r),i.northwest(),Oh(),"northwest",Da(n,{right:1,bottom:3}),ew),i5=()=>[U0,Z0,a5,tw],Tk=()=>[Z0,U0,tw,a5];var l5=[dt("item"),eg(),Le("overrides",{}),ss("placement",(n,r,i)=>{const l=vk(i,r.item.element),u=Qy(n.element,r,i5(),Tk(),i5(),Tk(),E.none());return E.some(Xy({anchorBox:l,bubble:C0(),overrides:r.overrides,layouts:u}))})],c5=oi("type",{selection:hN,node:pN,hotspot:mN,submenu:l5,makeshift:gN});const bN=[si("classes",vr),zi("mode","all",["all","layout","placement"])],xN=[Le("useFixed",He),Rn("getBounds")],vN=[Pi("anchor",c5),hi("transition",bN)],iv=(n,r,i,l,u,m)=>{const p=Ha("placement.info",go(vN),u),x=p.anchor,v=l.element,_=i.get(l.uid);Sd(()=>{ko(v,"position","fixed");const S=cr(v,"visibility");ko(v,"visibility","hidden");const k=r.useFixed()?(()=>{const A=document.documentElement;return KA(0,0,A.clientWidth,A.clientHeight)})():(A=>{const M=Nr(A.element),I=A.element.dom.getBoundingClientRect();return cN(M.left,M.top,I.width,I.height)})(n);x.placement(n,x,k).each(A=>{const M=m.orThunk(()=>r.getBounds.map(Qo)),I=((G,j,W,V,$,Y)=>((J,de,ce,he,Ne,$e,Ue,qe)=>{const lt=XA(Ue,"maxHeightFunction",Px()),Wt=XA(Ue,"maxWidthFunction",ue),eo=J.anchorBox,no=J.origin,Po={bounds:lN(no,$e),origin:no,preference:he,maxHeightFunction:lt,maxWidthFunction:Wt,lastPlacement:Ne,transition:qe};return uN(eo,de,ce,Po)})(((J,de)=>((ce,he)=>({anchorBox:ce,origin:he}))(J,de))(j.anchorBox,G),V.element,j.bubble,j.layouts,$,W,j.overrides,Y))(k,A,M,l,_,p.transition);i.set(l.uid,I)}),S.fold(()=>{fn(v,"visibility")},A=>{ko(v,"visibility",A)}),cr(v,"left").isNone()&&cr(v,"top").isNone()&&cr(v,"right").isNone()&&cr(v,"bottom").isNone()&&$n(cr(v,"position"),"fixed")&&fn(v,"position")},v)};var lv=Object.freeze({__proto__:null,position:(n,r,i,l,u)=>{const m=E.none();iv(n,r,i,l,u,m)},positionWithinBounds:iv,getMode:(n,r,i)=>r.useFixed()?"fixed":"absolute",reset:(n,r,i,l)=>{const u=l.element;bt(["position","left","right","top","bottom"],m=>fn(u,m)),(m=>{js(m,nl)})(u),i.clear(l.uid)}});const wi=ha({fields:xN,name:"positioning",active:iN,apis:lv,state:Object.freeze({__proto__:null,init:()=>{let n={};return ai({readState:()=>n,clear:r=>{ye(r)?delete n[r]:n={}},set:(r,i)=>{n[r]=i},get:r=>Jt(n,r)})}})});var _p=Object.freeze({__proto__:null,events:n=>Xn([Ye(Im(),(r,i)=>{const l=n.channels,u=zo(l),m=i,p=((x,v)=>v.universal?x:Co(x,_=>ut(v.channels,_)))(u,m);bt(p,x=>{const v=l[x],_=v.schema,S=Ha("channel["+x+`] data
Receiver: `+ql(r.element),_,m.data);v.onReceive(r,S)})})])}),tg=[Pi("channels",xh(Go.value,pi([Ec("onReceive"),Le("schema",Bi())])))];const rl=ha({fields:tg,name:"receiving",active:_p});var d5=Object.freeze({__proto__:null,events:(n,r)=>{const i=(l,u)=>{n.updateState.each(m=>{const p=m(l,u);r.set(p)}),n.renderComponents.each(m=>{const p=m(u,r.get());(n.reuseDom?KC:GC)(l,p)})};return Xn([Ye(Im(),(l,u)=>{const m=u;if(!m.universal){const p=n.channel;ut(m.channels,p)&&i(l,m.data)}}),is((l,u)=>{n.initialData.each(m=>{i(l,m)})})])}}),yN=Object.freeze({__proto__:null,getState:(n,r,i)=>i}),u5=[dt("channel"),Rn("renderComponents"),Rn("updateState"),Rn("initialData"),Ea("reuseDom",!0)];const _i=ha({fields:u5,name:"reflecting",active:d5,apis:yN,state:Object.freeze({__proto__:null,init:()=>{const n=Nt(E.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:()=>n.set(E.none())}}})}),j0=(n,r,i,l)=>{i.get().each(p=>{ff(n)});const u=r.getAttachPoint(n);gf(u,n);const m=n.getSystem().build(l);return gf(n,m),i.set(m),m},ow=(n,r,i,l)=>{const u=j0(n,r,i,l);return r.onOpen(n,u),u},Dk=(n,r,i)=>{i.get().each(l=>{ff(n),Ym(n),r.onClose(n,l),i.clear()})},W0=(n,r,i)=>i.isOpen(),cv=(n,r,i)=>{const l=r.getAttachPoint(n);ko(n.element,"position",wi.getMode(l)),((u,m,p)=>{cr(u.element,m).fold(()=>{js(u.element,p)},x=>{io(u.element,p,x)}),ko(u.element,m,"hidden")})(n,"visibility",r.cloakVisibilityAttr)},m5=(n,r,i)=>{(l=>_n(["top","left","right","bottom"],u=>cr(l,u).isSome()))(n.element)||fn(n.element,"position"),((l,u,m)=>{Yr(l.element,m).fold(()=>fn(l.element,u),p=>ko(l.element,u,p))})(n,"visibility",r.cloakVisibilityAttr)};var Ok=Object.freeze({__proto__:null,cloak:cv,decloak:m5,open:ow,openWhileCloaked:(n,r,i,l,u)=>{cv(n,r),ow(n,r,i,l),u(),m5(n,r)},close:Dk,isOpen:W0,isPartOf:(n,r,i,l)=>W0(0,0,i)&&i.get().exists(u=>r.isPartOf(n,u,l)),getState:(n,r,i)=>i.get(),setContent:(n,r,i,l)=>i.get().map(()=>j0(n,r,i,l))}),nw=Object.freeze({__proto__:null,events:(n,r)=>Xn([Ye(yh(),(i,l)=>{Dk(i,n,r)})])}),wN=[Io("onOpen"),Io("onClose"),dt("isPartOf"),dt("getAttachPoint"),Le("cloakVisibilityAttr","data-precloak-visibility")],og=Object.freeze({__proto__:null,init:()=>{const n=Fn(),r=te("not-implemented");return ai({readState:r,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const wn=ha({fields:wN,name:"sandboxing",active:nw,apis:Ok,state:og}),Yh=(n,r)=>r.getAnimationRoot.fold(()=>n.element,i=>i(n)),Bc=n=>n.dimension.property,Cp=(n,r)=>n.dimension.getDimension(r),Xh=(n,r)=>{const i=Yh(n,r);Qr(i,[r.shrinkingClass,r.growingClass])},Rk=(n,r)=>{on(n.element,r.openClass),ws(n.element,r.closedClass),ko(n.element,Bc(r),"0px"),ch(n.element)},sw=(n,r)=>{on(n.element,r.closedClass),ws(n.element,r.openClass),fn(n.element,Bc(r))},Nk=(n,r,i,l)=>{i.setCollapsed(),ko(n.element,Bc(r),Cp(r,n.element)),Xh(n,r),Rk(n,r),r.onStartShrink(n),r.onShrunk(n)},_N=(n,r,i,l)=>{const u=l.getOrThunk(()=>Cp(r,n.element));i.setCollapsed(),ko(n.element,Bc(r),u),ch(n.element);const m=Yh(n,r);on(m,r.growingClass),ws(m,r.shrinkingClass),Rk(n,r),r.onStartShrink(n)},rw=(n,r,i)=>{const l=Cp(r,n.element);(l==="0px"?Nk:_N)(n,r,i,E.some(l))},Xu=(n,r,i)=>{const l=Yh(n,r),u=ur(l,r.shrinkingClass),m=Cp(r,n.element);sw(n,r);const p=Cp(r,n.element);(u?()=>{ko(n.element,Bc(r),m),ch(n.element)}:()=>{Rk(n,r)})(),on(l,r.shrinkingClass),ws(l,r.growingClass),sw(n,r),ko(n.element,Bc(r),p),i.setExpanded(),r.onStartGrow(n)},g5=(n,r,i)=>{const l=Yh(n,r);return ur(l,r.growingClass)===!0},f5=(n,r,i)=>{const l=Yh(n,r);return ur(l,r.shrinkingClass)===!0};var p5=Object.freeze({__proto__:null,refresh:(n,r,i)=>{if(i.isExpanded()){fn(n.element,Bc(r));const l=Cp(r,n.element);ko(n.element,Bc(r),l)}},grow:(n,r,i)=>{i.isExpanded()||Xu(n,r,i)},shrink:(n,r,i)=>{i.isExpanded()&&rw(n,r,i)},immediateShrink:(n,r,i)=>{i.isExpanded()&&Nk(n,r,i)},hasGrown:(n,r,i)=>i.isExpanded(),hasShrunk:(n,r,i)=>i.isCollapsed(),isGrowing:g5,isShrinking:f5,isTransitioning:(n,r,i)=>g5(n,r)||f5(n,r),toggleGrow:(n,r,i)=>{(i.isExpanded()?rw:Xu)(n,r,i)},disableTransitions:Xh,immediateGrow:(n,r,i)=>{i.isExpanded()||(sw(n,r),ko(n.element,Bc(r),Cp(r,n.element)),Xh(n,r),i.setExpanded(),r.onStartGrow(n),r.onGrown(n))}}),h5=Object.freeze({__proto__:null,exhibit:(n,r,i)=>{const l=r.expanded;return xd(l?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Ug(r.dimension.property,"0px")})},events:(n,r)=>Xn([Wu(ep(),(i,l)=>{l.event.raw.propertyName===n.dimension.property&&(Xh(i,n),r.isExpanded()&&fn(i.element,n.dimension.property),(r.isExpanded()?n.onGrown:n.onShrunk)(i))})])}),b5=[dt("closedClass"),dt("openClass"),dt("shrinkingClass"),dt("growingClass"),Rn("getAnimationRoot"),Io("onShrunk"),Io("onStartShrink"),Io("onGrown"),Io("onStartGrow"),Le("expanded",!1),Pi("dimension",oi("property",{width:[ss("property","width"),ss("getDimension",n=>Pn(n)+"px")],height:[ss("property","height"),ss("getDimension",n=>Rr(n)+"px")]}))];const _l=ha({fields:b5,name:"sliding",active:h5,apis:p5,state:Object.freeze({__proto__:null,init:n=>{const r=Nt(n.expanded);return ai({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:ln(r.set,!1),setExpanded:ln(r.set,!0),readState:()=>"expanded: "+r.get()})}})});var CN=Object.freeze({__proto__:null,events:(n,r)=>{const i=n.stream.streams.setup(n,r);return Xn([Ye(n.event,i),Dc(()=>r.cancel())].concat(n.cancelEvent.map(l=>[Ye(l,()=>r.cancel())]).getOr([])))}});const Ic=n=>{const r=Nt(null);return ai({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:i=>{r.set(i)},cancel:()=>{const i=r.get();i!==null&&i.cancel()}})};var q0=Object.freeze({__proto__:null,throttle:Ic,init:n=>n.stream.streams.state(n)}),x5=[Pi("stream",oi("mode",{throttle:[dt("delay"),Le("stopEvent",!0),ss("streams",{setup:(n,r)=>{const i=n.stream,l=Au(n.onStream,i.delay);return r.setTimer(l),(u,m)=>{l.throttle(u,m),i.stopEvent&&m.stop()}},state:Ic})]})),Le("event","input"),Rn("cancelEvent"),Ec("onStream")];const kp=ha({fields:x5,name:"streaming",active:CN,state:q0});var Cl=Object.freeze({__proto__:null,exhibit:(n,r)=>xd({attributes:Qi([{key:r.tabAttr,value:"true"}])})}),tc=[Le("tabAttr","data-alloy-tabstop")];const un=ha({fields:tc,name:"tabstopping",active:Cl}),kl=(n,r,i,l)=>{const u=i.get();i.set(l),((m,p,x)=>{p.toggleClass.each(v=>{x.get()?ws(m.element,v):on(m.element,v)})})(n,r,i),((m,p,x)=>{const v=p.aria;v.update(m,v,x.get())})(n,r,i),u!==l&&r.onToggled(n,l)},aw=(n,r,i)=>{kl(n,r,i,!i.get())},Pc=(n,r,i)=>{kl(n,r,i,r.selected)};var Qh=Object.freeze({__proto__:null,onLoad:Pc,toggle:aw,isOn:(n,r,i)=>i.get(),on:(n,r,i)=>{kl(n,r,i,!0)},off:(n,r,i)=>{kl(n,r,i,!1)},set:kl}),kN=Object.freeze({__proto__:null,exhibit:()=>xd({}),events:(n,r)=>{const i=(l=n,u=r,m=aw,Oc(x=>{m(x,l,u)}));var l,u,m;const p=O0(n,r,Pc);return Xn(ks([n.toggleOnExecute?[i]:[],[p]]))}});const v5=(n,r,i)=>{io(n.element,"aria-expanded",i)};var SN=[Le("selected",!1),Rn("toggleClass"),Le("toggleOnExecute",!0),Io("onToggled"),Vl("aria",{mode:"none"},oi("mode",{pressed:[Le("syncWithExpanded",!1),ss("update",(n,r,i)=>{io(n.element,"aria-pressed",i),r.syncWithExpanded&&v5(n,0,i)})],checked:[ss("update",(n,r,i)=>{io(n.element,"aria-checked",i)})],expanded:[ss("update",v5)],selected:[ss("update",(n,r,i)=>{io(n.element,"aria-selected",i)})],none:[ss("update",ue)]}))];const an=ha({fields:SN,name:"toggling",active:kN,apis:Qh,state:(iw=!1,{init:()=>{const n=Nt(iw);return{get:()=>n.get(),set:r=>n.set(r),clear:()=>n.set(iw),readState:()=>n.get()}}})});var iw;const dv=Ae("tooltip.exclusive"),G0=Ae("tooltip.show"),uv=Ae("tooltip.hide"),mv=Ae("tooltip.immediateHide"),gv=Ae("tooltip.immediateShow"),y5=(n,r,i)=>{n.getSystem().broadcastOn([dv],{})};var w5=Object.freeze({__proto__:null,hideAllExclusive:y5,immediateOpenClose:(n,r,i,l)=>Ko(n,l?gv:mv),isEnabled:(n,r,i)=>i.isEnabled(),setComponents:(n,r,i,l)=>{i.getTooltip().each(u=>{u.getSystem().isConnected()&&So.set(u,l)})},setEnabled:(n,r,i,l)=>i.setEnabled(l)}),_5=Object.freeze({__proto__:null,events:(n,r)=>{const i=m=>{r.getTooltip().each(p=>{p.getSystem().isConnected()&&(Ym(p),n.onHide(m,p),r.clearTooltip())}),r.clearTimer()},l=m=>{if(!r.isShowing()&&r.isEnabled()){y5(m);const p=n.lazySink(m).getOrDie(),x=m.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:Xn(n.mode==="normal"?[Ye(ri(),v=>{Ko(m,G0)}),Ye(tu(),v=>{Ko(m,uv)})]:[]),behaviours:xt([So.config({})])});r.setTooltip(x),gf(p,x),n.onShow(m,x),wi.position(p,x,{anchor:n.anchor(m)})}},u=m=>{r.getTooltip().each(p=>{const x=n.lazySink(m).getOrDie();wi.position(x,p,{anchor:n.anchor(m)})})};return Xn(ks([[zx(m=>{n.onSetup(m)}),Ye(G0,m=>{r.resetTimer(()=>{l(m)},n.delayForShow())}),Ye(uv,m=>{r.resetTimer(()=>{i(m)},n.delayForHide())}),Ye(gv,m=>{r.resetTimer(()=>{l(m)},0)}),Ye(mv,m=>{r.resetTimer(()=>{i(m)},0)}),Ye(Im(),(m,p)=>{const x=p;x.universal||(ut(x.channels,dv)||ut(x.channels,Va()))&&(x.data.closedTooltip&&r.isShowing()&&x.data.closedTooltip(),i(m))}),Dc(m=>{i(m)})],(()=>{switch(n.mode){case"normal":return[Ye(Zl(),m=>{Ko(m,gv)}),Ye(Fu(),m=>{Ko(m,mv)}),Ye(ri(),m=>{Ko(m,G0)}),Ye(tu(),m=>{Ko(m,uv)})];case"follow-highlight":return[Ye(fx(),(m,p)=>{Ko(m,G0)}),Ye(px(),m=>{Ko(m,uv)})];case"children-normal":return[Ye(Zl(),(m,p)=>{Fa(m.element).each(x=>{mi(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Ko(m,gv)},v=>{r.isShowing()&&(n.onShow(m,v),u(m))})})}),Ye(Fu(),m=>{Fa(m.element).fold(()=>{Ko(m,mv)},ue)}),Ye(ri(),m=>{rs(m.element,"[data-mce-tooltip]:hover").each(p=>{r.getTooltip().fold(()=>{Ko(m,G0)},x=>{r.isShowing()&&(n.onShow(m,x),u(m))})})}),Ye(tu(),m=>{rs(m.element,"[data-mce-tooltip]:hover").fold(()=>{Ko(m,uv)},ue)})];default:return[Ye(Zl(),(m,p)=>{Fa(m.element).each(x=>{mi(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Ko(m,gv)},v=>{r.isShowing()&&(n.onShow(m,v),u(m))})})}),Ye(Fu(),m=>{Fa(m.element).fold(()=>{Ko(m,mv)},ue)})]}})()]))}}),Mk=[dt("lazySink"),dt("tooltipDom"),Le("exclusive",!0),Le("tooltipComponents",[]),as("delayForShow",te(300)),as("delayForHide",te(100)),as("onSetup",ue),zi("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Le("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:te([Fr,Lr,wr,Oa,Pr,Ra]),onRtl:te([Fr,Lr,wr,Oa,Pr,Ra])},bubble:ol(0,-2,{})})),Io("onHide"),Io("onShow")],C5=Object.freeze({__proto__:null,init:()=>{const n=Nt(!0),r=Fn(),i=Fn(),l=()=>{r.on(clearTimeout)},u=te("not-implemented");return ai({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:l,resetTimer:(m,p)=>{l(),r.set(setTimeout(m,p))},readState:u,isEnabled:()=>n.get(),setEnabled:m=>n.set(m)})}});const hs=ha({fields:Mk,name:"tooltipping",active:_5,state:C5,apis:w5}),fv=ha({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Xn([ju(ux(),so)]),exhibit:()=>xd({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),bf=n=>{const r=rh(n),i=ul(r),l=(p=>{const x=p.dom.attributes!==void 0?p.dom.attributes:[];return Uo(x,(v,_)=>_.name==="class"?v:{...v,[_.name]:_.value},{})})(r),u=(p=>Array.prototype.slice.call(p.dom.classList,0))(r),m=i.length===0?{}:{innerHtml:vm(r)};return{tag:Zt(r),classes:u,attributes:l,...m}},Mn=n=>{const r=(i=>i.uid!==void 0)(n)&&qn(n,"uid")?n.uid:xp("memento");return{get:i=>i.getSystem().getByUid(r).getOrDie(),getOpt:i=>i.getSystem().getByUid(r).toOptional(),asSpec:()=>({...n,uid:r})}},ba=py,ng=Vu,Ad=(n,r)=>{const i={stopBackspace:!0,...r},l=(k=>{const A=Fn(),M=Nt(!1),I=p0(j=>{k.triggerEvent(ny(),j),M.set(!0)},400),G=Qi([{key:Ul(),value:j=>(Ch(j).each(W=>{I.cancel();const V={x:W.clientX,y:W.clientY,target:j.target};I.schedule(j),M.set(!1),A.set(V)}),E.none())},{key:Jf(),value:j=>(I.cancel(),Ch(j).each(W=>{A.on(V=>{(($,Y)=>{const J=Math.abs($.clientX-Y.x),de=Math.abs($.clientY-Y.y);return J>5||de>5})(W,V)&&A.clear()})}),E.none())},{key:Nm(),value:j=>(I.cancel(),A.get().filter(W=>Zo(W.target,j.target)).map(W=>M.get()?(j.prevent(),!1):k.triggerEvent(zu(),j)))}]);return{fireIfReady:(j,W)=>Jt(G,W).bind(V=>V(j))}})(i),u=Ce(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),k=>La(n,k,A=>{l.fireIfReady(A,k).each(M=>{M&&A.kill()}),i.triggerEvent(k,A)&&A.kill()})),m=Fn(),p=La(n,"paste",k=>{l.fireIfReady(k,"paste").each(A=>{A&&k.kill()}),i.triggerEvent("paste",k)&&k.kill(),m.set(setTimeout(()=>{i.triggerEvent(mx(),k)},0))}),x=La(n,"keydown",k=>{i.triggerEvent("keydown",k)?k.kill():i.stopBackspace&&(A=>A.raw.which===$x[0]&&!ut(["input","textarea"],Zt(A.target))&&!uh(A.target,'[contenteditable="true"]'))(k)&&k.prevent()}),v=La(n,"focusin",k=>{i.triggerEvent("focusin",k)&&k.kill()}),_=Fn(),S=La(n,"focusout",k=>{i.triggerEvent("focusout",k)&&k.kill(),_.set(setTimeout(()=>{i.triggerEvent(Fu(),k)},0))});return{unbind:()=>{bt(u,k=>{k.unbind()}),x.unbind(),v.unbind(),S.unbind(),p.unbind(),m.on(clearTimeout),_.on(clearTimeout)}}},EN=(n,r)=>{const i=Jt(n,"target").getOr(r);return Nt(i)},Sp=Vs([{stopped:[]},{resume:["element"]},{complete:[]}]),Ep=(n,r,i,l,u,m)=>{const p=n(r,l),x=((v,_)=>{const S=Nt(!1),k=Nt(!1);return{stop:()=>{S.set(!0)},cut:()=>{k.set(!0)},isStopped:S.get,isCut:k.get,event:v,setSource:_.set,getSource:_.get}})(i,u);return p.fold(()=>(m.logEventNoHandlers(r,l),Sp.complete()),v=>{const _=v.descHandler;return Fy(_)(x),x.isStopped()?(m.logEventStopped(r,v.element,_.purpose),Sp.stopped()):x.isCut()?(m.logEventCut(r,v.element,_.purpose),Sp.complete()):Un(v.element).fold(()=>(m.logNoParent(r,v.element,_.purpose),Sp.complete()),S=>(m.logEventResponse(r,v.element,_.purpose),Sp.resume(S)))})},lw=(n,r,i,l,u,m)=>Ep(n,r,i,l,u,m).fold(so,p=>lw(n,r,i,p,u,m),He),cw=(n,r,i,l,u)=>{const m=EN(i,l);return lw(n,r,i,l,m,u)},AN=()=>{const n=(()=>{const l={};return{registerId:(u,m,p)=>{Cn(p,(x,v)=>{const _=l[v]!==void 0?l[v]:{};_[m]=((S,k)=>({cHandler:ln.apply(void 0,[S.handler].concat(k)),purpose:S.purpose}))(x,u),l[v]=_})},unregisterId:u=>{Cn(l,(m,p)=>{rn(m,u)&&delete m[u]})},filterByType:u=>Jt(l,u).map(m=>ua(m,(p,x)=>((v,_)=>({id:v,descHandler:_}))(x,p))).getOr([]),find:(u,m,p)=>Jt(l,m).bind(x=>gh(p,v=>((_,S)=>ev(S).bind(k=>Jt(_,k)).map(k=>((A,M)=>({element:A,descHandler:M}))(S,k)))(x,v),u))}})(),r={},i=l=>{ev(l.element).each(u=>{delete r[u],n.unregisterId(u)})};return{find:(l,u,m)=>n.find(l,u,m),filter:l=>n.filterByType(l),register:l=>{const u=(p=>{const x=p.element;return ev(x).getOrThunk(()=>((v,_)=>{const S=Ae(Py+"uid-");return Ly(_,S),S})(0,p.element))})(l);qn(r,u)&&((p,x)=>{const v=r[x];if(v!==p)throw new Error('The tagId "'+x+'" is already used by: '+ql(v.element)+`
Cannot use it for: `+ql(p.element)+`
The conflicting element is`+(it(v.element)?" ":" not ")+"already in the DOM");i(p)})(l,u);const m=[l];n.registerId(m,u,l.events),r[u]=l},unregister:i,getById:l=>Jt(r,l)}},Bk=n=>{const r=j=>Un(n.element).fold(so,W=>Zo(j,W)),i=AN(),l=(j,W)=>i.find(r,j,W),u=Ad(n.element,{triggerEvent:(j,W)=>Pm(j,W.target,V=>(($,Y,J,de)=>cw($,Y,J,J.target,de))(l,j,W,V))}),m={debugInfo:te("real"),triggerEvent:(j,W,V)=>{Pm(j,W,$=>cw(l,j,V,W,$))},triggerFocus:(j,W)=>{ev(j).fold(()=>{br(j)},V=>{Pm(jl(),j,$=>(((Y,J,de,ce,he)=>{const Ne=EN(de,ce);Ep(Y,J,de,ce,Ne,he)})(l,jl(),{originator:W,kill:ue,prevent:ue,target:j},j,$),!1))})},triggerEscape:(j,W)=>{m.triggerEvent("keydown",j.element,W.event)},getByUid:j=>I(j),getByDom:j=>G(j),build:Ua,buildOrPatch:QC,addToGui:j=>{v(j)},removeFromGui:j=>{_(j)},addToWorld:j=>{p(j)},removeFromWorld:j=>{x(j)},broadcast:j=>{k(j)},broadcastOn:(j,W)=>{A(j,W)},broadcastEvent:(j,W)=>{M(j,W)},isConnected:so},p=j=>{j.connect(m),B(j.element)||(i.register(j),bt(j.components(),p),m.triggerEvent(c0(),j.element,{target:j.element}))},x=j=>{B(j.element)||(bt(j.components(),x),i.unregister(j)),j.disconnect()},v=j=>{gf(n,j)},_=j=>{Ym(j)},S=j=>{const W=i.filter(Im());bt(W,V=>{const $=V.descHandler;Fy($)(j)})},k=j=>{S({universal:!0,data:j})},A=(j,W)=>{S({universal:!1,channels:j,data:W})},M=(j,W)=>((V,$)=>{const Y=(J=>{const de=Nt(!1);return{stop:()=>{de.set(!0)},cut:ue,isStopped:de.get,isCut:He,event:J,setSource:Os("Cannot set source of a broadcasted event"),getSource:Os("Cannot get source of a broadcasted event")}})($);return bt(V,J=>{const de=J.descHandler;Fy(de)(Y)}),Y.isStopped()})(i.filter(j),W),I=j=>i.getById(j).fold(()=>Go.error(new Error('Could not find component with uid: "'+j+'" in system.')),Go.value),G=j=>{const W=ev(j).getOr("not found");return I(W)};return p(n),{root:n,element:n.element,destroy:()=>{u.unbind(),qd(n.element)},add:v,remove:_,getByUid:I,getByDom:G,addToWorld:p,removeFromWorld:x,broadcast:k,broadcastOn:A,broadcastEvent:M}},k5=()=>{const n=(r,i)=>{i.stop(),Bh(r)};return[Ye(Bm(),n),Ye(zu(),n),bd(Ul()),bd(el())]},Ik=n=>Xn(ks([n.map(r=>Oc((i,l)=>{r(i),l.stop()})).toArray(),k5()])),ja=wl({name:"Button",factory:n=>{const r=Ik(n.action),i=n.dom.tag,l=u=>Jt(n.dom,"attributes").bind(m=>Jt(m,u));return{uid:n.uid,dom:n.dom,components:n.components,events:r,behaviours:H0(n.buttonBehaviours,[bo.config({}),Gt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i==="button"?{type:l("type").getOr("button"),...l("role").map(u=>({role:u})).getOr({})}:{role:n.role.getOr(l("role").getOr("button"))}},eventOrder:n.eventOrder}},configFields:[Le("uid",void 0),dt("dom"),Le("components",[]),Kh("buttonBehaviours",[bo,Gt]),Rn("action"),Rn("role"),Le("eventOrder",{})]}),K0=te([Le("shell",!1),dt("makeItem"),Le("setupItem",ue),Kh("listBehaviours",[So])]),pv=Tc({name:"items",overrides:()=>({behaviours:xt([So.config({})])})}),TN=te([pv]),S5=sl({name:te("CustomList")(),configFields:K0(),partFields:TN(),factory:(n,r,i,l)=>{const u=n.shell?{behaviours:[So.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:ii(n.listBehaviours,u.behaviours),apis:{setItems:(m,p)=>{var x;(x=m,n.shell?E.some(x):Yn(x,n,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},v=>{const _=So.contents(v),S=p.length,k=S-_.length,A=k>0?Ai(k,()=>n.makeItem()):[],M=_.slice(S);bt(M,G=>So.remove(v,G)),bt(A,G=>So.append(v,G));const I=So.contents(v);bt(I,(G,j)=>{n.setupItem(m,G,p[j],j)})})}}}},apis:{setItems:(n,r,i)=>{n.setItems(r,i)}}}),Y0="aria-controls",dw=()=>{const n=Ae(Y0);return{id:n,link:r=>{io(r,Y0,n)},unlink:r=>{js(r,Y0)}}},xf=(n,r)=>dh(r,i=>Zo(i,n.element),He)||((i,l)=>(u=>Y2(u,m=>{if(!jo(m))return!1;const p=Eo(m,"id");return p!==void 0&&p.indexOf(Y0)>-1}).bind(m=>{const p=Eo(m,"id"),x=Kr(m);return rs(x,`[${Y0}="${p}"]`)}))(l).exists(u=>xf(i,u)))(n,r),uw="alloy.item-hover",hv="alloy.item-focus",mw="alloy.item-toggled",Pk=n=>{(Fa(n.element).isNone()||bo.isFocused(n))&&(bo.isFocused(n)||bo.focus(n),Kt(n,uw,{item:n}))},gw=n=>{Kt(n,hv,{item:n})},E5=te(uw),DN=te(hv),ON=te(mw),bv=n=>n.role.fold(()=>n.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),gt);var Lk=[dt("data"),dt("components"),dt("dom"),Le("hasSubmenu",!1),Rn("toggling"),Rn("role"),Kh("itemBehaviours",[an,bo,Gt,Ht]),Le("ignoreFocus",!1),Le("domModification",{}),ss("builder",n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:bv(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:H0(n.itemBehaviours,[n.toggling.fold(an.revoke,r=>an.config(((i,l)=>({aria:{mode:l?"selected":"checked"},...Pa(i,(u,m)=>m!=="exclusive"),onToggled:(u,m)=>{ot(i.onToggled)&&i.onToggled(u,m),((p,x)=>{Kt(p,mw,{item:p,state:x})})(u,m)}}))(r,n.role.exists(i=>i==="option")))),bo.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:r=>{gw(r)}}),Gt.config({mode:"execution"}),Ht.config({store:{mode:"memory",initialValue:n.data}}),uo("item-type-events",[...k5(),Ye(ri(),Pk),Ye(bi(),bo.focus)])]),components:n.components,eventOrder:n.eventOrder})),Le("eventOrder",{})],RN=[dt("dom"),dt("components"),ss("builder",n=>({dom:n.dom,components:n.components,events:Xn([Fx(bi())])}))];const fw=te("item-widget"),Fk=te([yi({name:"widget",overrides:n=>({behaviours:xt([Ht.config({store:{mode:"manual",getValue:r=>n.data,setValue:ue}})])})})]),A5=[dt("uid"),dt("data"),dt("components"),dt("dom"),Le("autofocus",!1),Le("ignoreFocus",!1),Kh("widgetBehaviours",[Ht,bo,Gt]),Le("domModification",{}),Cx(Fk()),ss("builder",n=>{const r=yx(fw(),n,Fk()),i=wx(fw(),n,r.internals()),l=m=>Yn(m,n,"widget").map(p=>(Gt.focusIn(p),p)),u=(m,p)=>(qu(p.event.target)||n.autofocus&&p.setSource(m.element),E.none());return{dom:n.dom,components:i,domModification:n.domModification,events:Xn([Oc((m,p)=>{l(m).each(x=>{p.stop()})}),Ye(ri(),Pk),Ye(bi(),(m,p)=>{n.autofocus?l(m):bo.focus(m)})]),behaviours:H0(n.widgetBehaviours,[Ht.config({store:{mode:"memory",initialValue:n.data}}),bo.config({ignore:n.ignoreFocus,onFocus:m=>{gw(m)}}),Gt.config({mode:"special",focusIn:n.autofocus?m=>{l(m)}:wy(),onLeft:u,onRight:u,onEscape:(m,p)=>bo.isFocused(m)||n.autofocus?(n.autofocus&&p.setSource(m.element),E.none()):(bo.focus(m),E.some(!0))})])}})],zk=oi("type",{widget:A5,item:Lk,separator:RN}),X0=te([v0({factory:{sketch:n=>{const r=Ha("menu.spec item",zk,n);return r.builder(r)}},name:"items",unit:"item",defaults:(n,r)=>rn(r,"uid")?r:{...r,uid:xp("item")},overrides:(n,r)=>({type:r.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),Hk=te([zs("role"),dt("value"),dt("items"),dt("dom"),dt("components"),Le("eventOrder",{}),Ma("menuBehaviours",[pn,Ht,yn,Gt]),Vl("movement",{mode:"menu",moveOnTab:!0},oi("mode",{grid:[Lm(),ss("config",(n,r)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:n.focusManager}))],matrix:[ss("config",(n,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+n.markers.item},previousSelector:r.previousSelector,focusManager:n.focusManager})),dt("rowSelector"),Le("previousSelector",E.none)],menu:[Le("moveOnTab",!0),ss("config",(n,r)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:r.moveOnTab,focusManager:n.focusManager}))]})),Pi("markers",ly()),Le("fakeFocus",!1),Le("focusManager",R0()),Io("onHighlight"),Io("onDehighlight"),Le("showMenuRole",!0)]),T5=te("alloy.menu-focus"),vf=sl({name:"Menu",configFields:Hk(),partFields:X0(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:ii(n.menuBehaviours,[pn.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),Ht.config({store:{mode:"memory",initialValue:n.value}}),yn.config({find:E.some}),Gt.config(n.movement.config(n,n.movement))]),events:Xn([Ye(DN(),(u,m)=>{const p=m.event;u.getSystem().getByDom(p.target).each(x=>{pn.highlight(u,x),m.stop(),Kt(u,T5(),{menu:u,item:x})})}),Ye(E5(),(u,m)=>{const p=m.event.item;pn.highlight(u,p)}),Ye(ON(),(u,m)=>{const{item:p,state:x}=m.event;x&&Eo(p.element,"role")==="menuitemradio"&&((v,_)=>{const S=ea(v.element,'[role="menuitemradio"][aria-checked="true"]');bt(S,k=>{Zo(k,_.element)||v.getSystem().getByDom(k).each(A=>{an.off(A)})})})(u,p)})]),components:r,eventOrder:n.eventOrder,...n.showMenuRole?{domModification:{attributes:{role:n.role.getOr("menu")}}}:{}})}),Vk=(n,r,i,l)=>Jt(i,l).bind(u=>Jt(n,u).bind(m=>{const p=Vk(n,r,i,m);return E.some([m].concat(p))})).getOr([]),yf=n=>n.type==="prepared"?E.some(n.menu):E.none(),$k=()=>{const n=Nt({}),r=Nt({}),i=Nt({}),l=Fn(),u=Nt({}),m=v=>p(v).bind(yf),p=v=>Jt(r.get(),v),x=v=>Jt(n.get(),v);return{setMenuBuilt:(v,_)=>{r.set({...r.get(),[v]:{type:"prepared",menu:_}})},setContents:(v,_,S,k)=>{l.set(v),n.set(S),r.set(_),u.set(k);const A=((M,I)=>{const G={};Cn(M,($,Y)=>{bt($,J=>{G[J]=Y})});const j=I,W=qc(I,($,Y)=>({k:$,v:Y})),V=Rs(W,($,Y)=>[Y].concat(Vk(G,j,W,Y)));return Rs(G,$=>Jt(V,$).getOr([$]))})(k,S);i.set(A)},expand:v=>Jt(n.get(),v).map(_=>{const S=Jt(i.get(),v).getOr([]);return[_].concat(S)}),refresh:v=>Jt(i.get(),v),collapse:v=>Jt(i.get(),v).bind(_=>_.length>1?E.some(_.slice(1)):E.none()),lookupMenu:p,lookupItem:x,otherMenus:v=>{const _=u.get();return $o(zo(_),v)},getPrimary:()=>l.get().bind(m),getMenus:()=>r.get(),clear:()=>{n.set({}),r.set({}),i.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(v,_)=>{const S=Co(x(v).toArray(),k=>m(k).isSome());return Jt(i.get(),v).bind(k=>{const A=pr(S.concat(k));return(M=>{const I=[];for(let G=0;G<M.length;G++){const j=M[G];if(!j.isSome())return E.none();I.push(j.getOrDie())}return E.some(I)})(Fo(A,(M,I)=>((G,j,W)=>m(G).bind(V=>($=>Ol(n.get(),(Y,J)=>Y===$))(G).bind($=>j($).map(Y=>({triggeredMenu:V,triggeringItem:Y,triggeringPath:W})))))(M,_,A.slice(0,I+1)).fold(()=>$n(l.get(),M)?[]:[E.none()],G=>[E.some(G)])))})}}},Uk=yf,xv=Ae("tiered-menu-item-highlight"),Zk=Ae("tiered-menu-item-dehighlight"),pw=te("collapse-item"),wf=wl({name:"TieredMenu",configFields:[bl("onExecute"),bl("onEscape"),Ec("onOpenMenu"),Ec("onOpenSubmenu"),Io("onRepositionMenu"),Io("onCollapseMenu"),Le("highlightOnOpen",tr.HighlightMenuAndItem),ni("data",[dt("primary"),dt("menus"),dt("expansions")]),Le("fakeFocus",!1),Io("onHighlightItem"),Io("onDehighlightItem"),Io("onHover"),Hu(),dt("dom"),Le("navigateOnHover",!0),Le("stayInDom",!1),Ma("tmenuBehaviours",[Gt,pn,yn,So]),Le("eventOrder",{})],apis:{collapseMenu:(n,r)=>{n.collapseMenu(r)},highlightPrimary:(n,r)=>{n.highlightPrimary(r)},repositionMenus:(n,r)=>{n.repositionMenus(r)}},factory:(n,r)=>{const i=Fn(),l=$k(),u=$=>Ht.getValue($).value,m=$=>Rs(n.data.menus,(Y,J)=>Fo(Y.items,de=>de.type==="separator"?[]:[de.data.value])),p=pn.highlight,x=($,Y)=>{p($,Y),pn.getHighlighted(Y).orThunk(()=>pn.getFirst(Y)).each(J=>{n.fakeFocus?pn.highlight(Y,J):Lx($,J.element,bi())})},v=($,Y)=>cl(Ce(Y,J=>$.lookupMenu(J).bind(de=>de.type==="prepared"?E.some(de.menu):E.none()))),_=($,Y,J)=>{const de=v(Y,Y.otherMenus(J));bt(de,ce=>{Qr(ce.element,[n.markers.backgroundMenu]),n.stayInDom||So.remove($,ce)})},S=($,Y)=>{const J=(de=>i.get().getOrThunk(()=>{const ce={},he=ea(de.element,`.${n.markers.item}`),Ne=Co(he,$e=>Eo($e,"aria-haspopup")==="true");return bt(Ne,$e=>{de.getSystem().getByDom($e).each(Ue=>{const qe=u(Ue);ce[qe]=Ue})}),i.set(ce),ce}))($);Cn(J,(de,ce)=>{const he=ut(Y,ce);io(de.element,"aria-expanded",he)})},k=($,Y,J)=>E.from(J[0]).bind(de=>Y.lookupMenu(de).bind(ce=>{if(ce.type==="notbuilt")return E.none();{const he=ce.menu,Ne=v(Y,J.slice(1));return bt(Ne,$e=>{ws($e.element,n.markers.backgroundMenu)}),it(he.element)||So.append($,Jl(he)),Qr(he.element,[n.markers.backgroundMenu]),x($,he),_($,Y,J),E.some(he)}}));let A;(function($){$[$.HighlightSubmenu=0]="HighlightSubmenu",$[$.HighlightParent=1]="HighlightParent"})(A||(A={}));const M=($,Y,J=A.HighlightSubmenu)=>{if(Y.hasConfigured(Qt)&&Qt.isDisabled(Y))return E.some(Y);{const de=u(Y);return l.expand(de).bind(ce=>(S($,ce),E.from(ce[0]).bind(he=>l.lookupMenu(he).bind(Ne=>{const $e=((Ue,qe,lt)=>{if(lt.type==="notbuilt"){const Wt=Ue.getSystem().build(lt.nbMenu());return l.setMenuBuilt(qe,Wt),Wt}return lt.menu})($,he,Ne);return it($e.element)||So.append($,Jl($e)),n.onOpenSubmenu($,Y,$e,pr(ce)),J===A.HighlightSubmenu?(pn.highlightFirst($e),k($,l,ce)):(pn.dehighlightAll($e),E.some(Y))}))))}},I=($,Y)=>{const J=u(Y);return l.collapse(J).bind(de=>(S($,de),k($,l,de).map(ce=>(n.onCollapseMenu($,Y,ce),ce))))},G=$=>(Y,J)=>gl(J.getSource(),`.${n.markers.item}`).bind(de=>Y.getSystem().getByDom(de).toOptional().bind(ce=>$(Y,ce).map(so))),j=Xn([Ye(T5(),($,Y)=>{const J=Y.event.item;l.lookupItem(u(J)).each(()=>{const de=Y.event.menu;pn.highlight($,de);const ce=u(Y.event.item);l.refresh(ce).each(he=>_($,l,he))})}),Oc(($,Y)=>{const J=Y.event.target;$.getSystem().getByDom(J).each(de=>{u(de).indexOf("collapse-item")===0&&I($,de),M($,de,A.HighlightSubmenu).fold(()=>{n.onExecute($,de)},ue)})}),is(($,Y)=>{(J=>{const de=((he,Ne,$e)=>Rs($e,(Ue,qe)=>{const lt=()=>vf.sketch({...Ue,value:qe,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(Wt,eo)=>{Kt(Wt,xv,{menuComp:Wt,itemComp:eo})},onDehighlight:(Wt,eo)=>{Kt(Wt,Zk,{menuComp:Wt,itemComp:eo})},focusManager:n.fakeFocus?N0():R0()});return qe===Ne?{type:"prepared",menu:he.getSystem().build(lt())}:{type:"notbuilt",nbMenu:lt}}))(J,n.data.primary,n.data.menus),ce=m();return l.setContents(n.data.primary,de,n.data.expansions,ce),l.getPrimary()})($).each(J=>{So.append($,Jl(J)),n.onOpenMenu($,J),n.highlightOnOpen===tr.HighlightMenuAndItem?x($,J):n.highlightOnOpen===tr.HighlightJustMenu&&p($,J)})}),Ye(xv,($,Y)=>{n.onHighlightItem($,Y.event.menuComp,Y.event.itemComp)}),Ye(Zk,($,Y)=>{n.onDehighlightItem($,Y.event.menuComp,Y.event.itemComp)}),...n.navigateOnHover?[Ye(E5(),($,Y)=>{const J=Y.event.item;((de,ce)=>{const he=u(ce);l.refresh(he).bind(Ne=>(S(de,Ne),k(de,l,Ne)))})($,J),M($,J,A.HighlightParent),n.onHover($,J)})]:[]]),W=$=>pn.getHighlighted($).bind(pn.getHighlighted),V={collapseMenu:$=>{W($).each(Y=>{I($,Y)})},highlightPrimary:$=>{l.getPrimary().each(Y=>{x($,Y)})},repositionMenus:$=>{l.getPrimary().bind(J=>W($).bind(de=>{const ce=u(de),he=Tr(l.getMenus()),Ne=cl(Ce(he,Uk));return l.getTriggeringPath(ce,$e=>((Ue,qe,lt)=>mn(qe,Wt=>{if(!Wt.getSystem().isConnected())return E.none();const eo=pn.getCandidates(Wt);return P(eo,no=>u(no)===lt)}))(0,Ne,$e))}).map(de=>({primary:J,triggeringPath:de}))).fold(()=>{(J=>E.from(J.components()[0]).filter(de=>Eo(de.element,"role")==="menu"))($).each(J=>{n.onRepositionMenu($,J,[])})},({primary:J,triggeringPath:de})=>{n.onRepositionMenu($,J,de)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:ii(n.tmenuBehaviours,[Gt.config({mode:"special",onRight:G(($,Y)=>qu(Y.element)?E.none():M($,Y,A.HighlightSubmenu)),onLeft:G(($,Y)=>qu(Y.element)?E.none():I($,Y)),onEscape:G(($,Y)=>I($,Y).orThunk(()=>n.onEscape($,Y).map(()=>$))),focusIn:($,Y)=>{l.getPrimary().each(J=>{Lx($,J.element,bi())})}}),pn.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),yn.config({find:$=>pn.getHighlighted($)}),So.config({})]),eventOrder:n.eventOrder,apis:V,events:j}},extraApis:{tieredData:(n,r,i)=>({primary:n,menus:r,expansions:i}),singleData:(n,r)=>({primary:n,menus:Ug(n,r),expansions:{}}),collapseItem:n=>({value:Ae(pw()),meta:{text:n}})}}),D5=te("sink"),NN=te(Tc({name:D5(),overrides:te({dom:{tag:"div"},behaviours:xt([wi.config({useFixed:so})]),events:Xn([bd(_c()),bd(el()),bd(Bm())])})})),sg=pi([Le("isExtraPart",He),hi("fireEventInstead",[Le("event",Zg())])]),jk=n=>{const r=Ha("Dismissal",sg,n);return{[lu()]:{schema:pi([dt("target")]),onReceive:(i,l)=>{wn.isOpen(i)&&(wn.isPartOf(i,l.target)||r.isExtraPart(i,l.target)||r.fireEventInstead.fold(()=>wn.close(i),u=>Ko(i,u.event)))}}}},MN=pi([hi("fireEventInstead",[Le("event",ay())]),hl("doReposition")]),oc=n=>{const r=Ha("Reposition",MN,n);return{[Zm()]:{onReceive:i=>{wn.isOpen(i)&&r.fireEventInstead.fold(()=>r.doReposition(i),l=>Ko(i,l.event))}}}},xa=(n,r)=>{const i=n.getHotspot(r).getOr(r),l="hotspot",u=n.getAnchorOverrides();return n.layouts.fold(()=>({type:l,hotspot:i,overrides:u}),m=>({type:l,hotspot:i,overrides:u,layouts:m}))},hw=(n,r,i,l,u,m,p)=>((v,_,S,k,A,M,I)=>{const G=((W,V,$)=>(0,W.fetch)($).map(V))(v,_,k),j=qk(k,v);return G.map(W=>W.bind(V=>{const $=V.menus[V.primary];return E.from($).each(Y=>{v.listRole.each(J=>{Y.role=J})}),E.from(wf.sketch({...M.menu(),uid:xp(""),data:V,highlightOnOpen:I,onOpenMenu:(Y,J)=>{const de=j().getOrDie();wi.position(de,J,{anchor:S}),wn.decloak(A)},onOpenSubmenu:(Y,J,de)=>{const ce=j().getOrDie();wi.position(ce,de,{anchor:{type:"submenu",item:J}}),wn.decloak(A)},onRepositionMenu:(Y,J,de)=>{const ce=j().getOrDie();wi.position(ce,J,{anchor:S}),bt(de,he=>{wi.position(ce,he.triggeredMenu,{anchor:{type:"submenu",item:he.triggeringItem}})})},onEscape:()=>(bo.focus(k),wn.close(A),E.some(!0))}))}))})(n,r,xa(n,i),i,l,u,p).map(v=>(v.fold(()=>{wn.isOpen(l)&&wn.close(l)},_=>{wn.cloak(l),wn.open(l,_),m(l)}),l)),Wk=(n,r,i,l,u,m,p)=>(wn.close(l),$r(l)),O5=(n,r,i,l,u,m)=>{const p=Cr.getCoupled(i,"sandbox");return(wn.isOpen(p)?Wk:hw)(n,r,i,p,l,u,m)},qk=(n,r)=>n.getSystem().getByUid(r.uid+"-"+D5()).map(i=>()=>Go.value(i)).getOrThunk(()=>r.lazySink.fold(()=>()=>Go.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(n))),bw=n=>{wn.getState(n).each(r=>{wf.repositionMenus(r)})},Jh=(n,r,i)=>{const l=dw(),u=qk(r,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:l.id}},behaviours:H0(n.sandboxBehaviours,[Ht.config({store:{mode:"memory",initialValue:r}}),wn.config({onOpen:(m,p)=>{const x=xa(n,r);l.link(r.element),n.matchWidth&&((v,_,S)=>{const k=yn.getCurrent(_).getOr(_),A=Pn(v.element);S?ko(k.element,"min-width",A+"px"):((M,I)=>{Lg.set(M,I)})(k.element,A)})(x.hotspot,p,n.useMinWidth),n.onOpen(x,m,p),i!==void 0&&i.onOpen!==void 0&&i.onOpen(m,p)},onClose:(m,p)=>{l.unlink(r.element),u().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(m,p)},isPartOf:(m,p,x)=>xf(p,x)||xf(r,x),getAttachPoint:()=>u().getOrDie()}),yn.config({find:m=>wn.getState(m).bind(p=>yn.getCurrent(p))}),rl.config({channels:{...jk({isExtraPart:He}),...oc({doReposition:bw})}})])}},Gk=()=>[Le("sandboxClasses",[]),Kh("sandboxBehaviours",[yn,rl,wn,Ht])],R5=te([dt("dom"),dt("fetch"),Io("onOpen"),Hi("onExecute"),Le("getHotspot",E.some),Le("getAnchorOverrides",te({})),eg(),Ma("dropdownBehaviours",[an,Cr,Gt,bo]),dt("toggleClass"),Le("eventOrder",{}),Rn("lazySink"),Le("matchWidth",!1),Le("useMinWidth",!1),Rn("role"),Rn("listRole")].concat(Gk())),BN=te([Gl({schema:[Hu(),Le("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),NN()]),nc=sl({name:"Dropdown",configFields:R5(),partFields:BN(),factory:(n,r,i,l)=>{const u=v=>{wn.getState(v).each(_=>{wf.highlightPrimary(_)})},m=(v,_,S)=>O5(n,gt,v,l,_,S),p={expand:v=>{an.isOn(v)||m(v,ue,tr.HighlightNone).get(ue)},open:v=>{an.isOn(v)||m(v,ue,tr.HighlightMenuAndItem).get(ue)},refetch:v=>Cr.getExistingCoupled(v,"sandbox").fold(()=>m(v,ue,tr.HighlightMenuAndItem).map(ue),_=>hw(n,gt,v,_,l,ue,tr.HighlightMenuAndItem).map(ue)),isOpen:an.isOn,close:v=>{an.isOn(v)&&m(v,ue,tr.HighlightMenuAndItem).get(ue)},repositionMenus:v=>{an.isOn(v)&&(_=>{const S=Cr.getCoupled(_,"sandbox");bw(S)})(v)}},x=(v,_)=>(Bh(v),E.some(!0));return{uid:n.uid,dom:n.dom,components:r,behaviours:ii(n.dropdownBehaviours,[an.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Cr.config({others:{sandbox:v=>Jh(n,v,{onOpen:()=>an.on(v),onClose:()=>an.off(v)})}}),Gt.config({mode:"special",onSpace:x,onEnter:x,onDown:(v,_)=>{if(nc.isOpen(v)){const S=Cr.getCoupled(v,"sandbox");u(S)}else nc.open(v);return E.some(!0)},onEscape:(v,_)=>nc.isOpen(v)?(nc.close(v),E.some(!0)):E.none()}),bo.config({})]),events:Ik(E.some(v=>{m(v,u,tr.HighlightMenuAndItem).get(ue)})),eventOrder:{...n.eventOrder,[tl()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":n.listRole.getOr("true"),...n.role.fold(()=>({}),v=>({role:v})),...n.dom.tag==="button"?{type:Jt(n.dom,"attributes").bind(v=>Jt(v,"type")).getOr("button")}:{}}}}},apis:{open:(n,r)=>n.open(r),refetch:(n,r)=>n.refetch(r),expand:(n,r)=>n.expand(r),close:(n,r)=>n.close(r),isOpen:(n,r)=>n.isOpen(r),repositionMenus:(n,r)=>n.repositionMenus(r)}}),Kk="form",N5=[Ma("formBehaviours",[Ht])],M5=n=>"<alloy.field."+n+">",IN=(n,r)=>({uid:n.uid,dom:n.dom,components:r,behaviours:ii(n.formBehaviours,[Ht.config({store:{mode:"manual",getValue:i=>{const l=w0(i,n);return Rs(l,(u,m)=>u().bind(p=>{return x=yn.getCurrent(p),v=new Error(`Cannot find a current component to extract the value from for form part '${m}': `+ql(p.element)),x.fold(()=>Go.error(v),Go.value);var x,v}).map(Ht.getValue))},setValue:(i,l)=>{Cn(l,(u,m)=>{Yn(i,n,m).each(p=>{yn.getCurrent(p).each(x=>{Ht.setValue(x,u)})})})}}})]),apis:{getField:(i,l)=>Yn(i,n,l).bind(yn.getCurrent)}}),e1={getField:Cd((n,r,i)=>n.getField(r,i)),sketch:n=>{const r=(()=>{const m=[];return{field:(p,x)=>(m.push(p),$u(Kk,M5(p),x)),record:te(m)}})(),i=n(r),l=r.record(),u=Ce(l,m=>yi({name:m,pname:M5(m)}));return Gy(Kk,N5,u,IN,i)}},t1=te([dt("dom"),Le("shell",!0),Ma("toolbarBehaviours",[So])]),B5=te([Tc({name:"groups",overrides:()=>({behaviours:xt([So.config({})])})})]),uu=sl({name:"Toolbar",configFields:t1(),partFields:B5(),factory:(n,r,i,l)=>{const u=n.shell?{behaviours:[So.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:ii(n.toolbarBehaviours,u.behaviours),apis:{setGroups:(m,p)=>{var x;(x=m,n.shell?E.some(x):Yn(x,n,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},v=>{So.set(v,p)})},refresh:ue},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)}}}),xw=te([Sc(["toggledClass"]),dt("lazySink"),hl("fetch"),Ir("getBounds"),hi("fireDismissalEventInstead",[Le("event",Zg())]),eg(),Io("onToggled")]),I5=te([Gl({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:xt([an.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),Gl({factory:uu,schema:t1(),name:"toolbar",overrides:n=>({toolbarBehaviours:xt([Gt.config({mode:"cyclic",onEscape:r=>(Yn(r,n,"button").each(bo.focus),E.none())})])})})]),rg=Fn(),o1=(n,r)=>{const i=Cr.getCoupled(n,"toolbarSandbox");wn.isOpen(i)?wn.close(i):wn.open(i,r.toolbar())},Yk=(n,r,i,l)=>{const u=i.getBounds.map(p=>p()),m=i.lazySink(n).getOrDie();wi.positionWithinBounds(m,r,{anchor:{type:"hotspot",hotspot:n,layouts:l,overrides:{maxWidthFunction:A0()}}},u)},P5=(n,r,i,l,u)=>{uu.setGroups(r,u),Yk(n,r,i,l),an.on(n)},Ap=sl({name:"FloatingToolbarButton",factory:(n,r,i,l)=>({...ja.sketch({...l.button(),action:u=>{o1(u,l)},buttonBehaviours:H0({dump:l.button().buttonBehaviours},[Cr.config({others:{toolbarSandbox:u=>((m,p,x)=>{const v=dw();return{dom:{tag:"div",attributes:{id:v.id}},behaviours:xt([Gt.config({mode:"special",onEscape:_=>(wn.close(_),E.some(!0))}),wn.config({onOpen:(_,S)=>{const k=rg.get().getOr(!1);x.fetch().get(A=>{P5(m,S,x,p.layouts,A),v.link(m.element),k||Gt.focusIn(S)})},onClose:()=>{an.off(m),rg.get().getOr(!1)||bo.focus(m),v.unlink(m.element)},isPartOf:(_,S,k)=>xf(S,k)||xf(m,k),getAttachPoint:()=>x.lazySink(m).getOrDie()}),rl.config({channels:{...jk({isExtraPart:He,...x.fireDismissalEventInstead.map(_=>({fireEventInstead:{event:_.event}})).getOr({})}),...oc({doReposition:()=>{wn.getState(Cr.getCoupled(m,"toolbarSandbox")).each(_=>{Yk(m,_,x,p.layouts)})}})}})])}})(u,i,n)}})])}),apis:{setGroups:(u,m)=>{wn.getState(Cr.getCoupled(u,"toolbarSandbox")).each(p=>{P5(u,p,n,i.layouts,m)})},reposition:u=>{wn.getState(Cr.getCoupled(u,"toolbarSandbox")).each(m=>{Yk(u,m,n,i.layouts)})},toggle:u=>{o1(u,l)},toggleWithoutFocusing:u=>{((m,p)=>{rg.set(!0),o1(m,p),rg.clear()})(u,l)},getToolbar:u=>wn.getState(Cr.getCoupled(u,"toolbarSandbox")),isOpen:u=>wn.isOpen(Cr.getCoupled(u,"toolbarSandbox"))}}),configFields:xw(),partFields:I5(),apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},reposition:(n,r)=>{n.reposition(r)},toggle:(n,r)=>{n.toggle(r)},toggleWithoutFocusing:(n,r)=>{n.toggleWithoutFocusing(r)},getToolbar:(n,r)=>n.getToolbar(r),isOpen:(n,r)=>n.isOpen(r)}}),PN=te([Le("prefix","form-field"),Ma("fieldBehaviours",[yn,Ht])]),L5=te([Tc({schema:[dt("dom")],name:"label"}),Tc({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[dt("text")],name:"aria-descriptor"}),yi({factory:{sketch:n=>{const r=((i,l)=>{const u={};return Cn(i,(m,p)=>{ut(l,p)||(u[p]=m)}),u})(n,["factory"]);return n.factory.sketch(r)}},schema:[dt("factory")],name:"field"})]),Yo=sl({name:"FormField",configFields:PN(),partFields:L5(),factory:(n,r,i,l)=>{const u=ii(n.fieldBehaviours,[yn.config({find:x=>Yn(x,n,"field")}),Ht.config({store:{mode:"manual",getValue:x=>yn.getCurrent(x).bind(Ht.getValue),setValue:(x,v)=>{yn.getCurrent(x).each(_=>{Ht.setValue(_,v)})}}})]),m=Xn([is((x,v)=>{const _=tp(x,n,["label","field","aria-descriptor"]);_.field().each(S=>{const k=Ae(n.prefix);_.label().each(A=>{io(A.element,"for",k),io(S.element,"id",k)}),_["aria-descriptor"]().each(A=>{const M=Ae(n.prefix);io(A.element,"id",M),io(S.element,"aria-describedby",M)})})})]),p={getField:x=>Yn(x,n,"field"),getLabel:x=>Yn(x,n,"label")};return{uid:n.uid,dom:n.dom,components:r,behaviours:u,events:m,apis:p}},apis:{getField:(n,r)=>n.getField(r),getLabel:(n,r)=>n.getLabel(r)}}),F5=te([Le("field1Name","field1"),Le("field2Name","field2"),Ec("onLockedChange"),Sc(["lockClass"]),Le("locked",!1),Kh("coupledFieldBehaviours",[yn,Ht]),as("onInput",ue)]),z5=(n,r)=>yi({factory:Yo,name:n,overrides:i=>({fieldBehaviours:xt([uo("coupled-input-behaviour",[Ye(md(),l=>{((u,m,p)=>Yn(u,m,p).bind(yn.getCurrent))(l,i,r).each(u=>{Yn(l,i,"lock").each(m=>{an.isOn(m)&&i.onLockedChange(l,u,m),i.onInput(l)})})})])])})}),LN=te([z5("field1","field2"),z5("field2","field1"),yi({factory:ja,schema:[dt("dom")],name:"lock",overrides:n=>({buttonBehaviours:xt([an.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),or=sl({name:"FormCoupledInputs",configFields:F5(),partFields:LN(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,behaviours:H0(n.coupledFieldBehaviours,[yn.config({find:E.some}),Ht.config({store:{mode:"manual",getValue:u=>{const m=Th(u,n,["field1","field2"]);return{[n.field1Name]:Ht.getValue(m.field1()),[n.field2Name]:Ht.getValue(m.field2())}},setValue:(u,m)=>{const p=Th(u,n,["field1","field2"]);qn(m,n.field1Name)&&Ht.setValue(p.field1(),m[n.field1Name]),qn(m,n.field2Name)&&Ht.setValue(p.field2(),m[n.field2Name])}}})]),apis:{getField1:u=>Yn(u,n,"field1"),getField2:u=>Yn(u,n,"field2"),getLock:u=>Yn(u,n,"lock")}}),apis:{getField1:(n,r)=>n.getField1(r),getField2:(n,r)=>n.getField2(r),getLock:(n,r)=>n.getLock(r)}}),Q0=wl({name:"HtmlSelect",configFields:[dt("options"),Ma("selectBehaviours",[bo,Ht]),Le("selectClasses",[]),Le("selectAttributes",{}),Rn("data")],factory:(n,r)=>{const i=Ce(n.options,u=>({dom:{tag:"option",value:u.value,innerHtml:u.text}})),l=n.data.map(u=>Ug("initialValue",u)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:ii(n.selectBehaviours,[bo.config({}),Ht.config({store:{mode:"manual",getValue:u=>Jr(u.element),setValue:(u,m)=>{const p=At(n.options);P(n.options,x=>x.value===m).isSome()?Xd(u.element,m):u.element.dom.selectedIndex===-1&&m===""&&p.each(x=>Xd(u.element,x.value))},...l}})])}}}),Bs=wl({name:"InlineView",configFields:[dt("lazySink"),Io("onShow"),Io("onHide"),Ir("onEscape"),Ma("inlineBehaviours",[wn,Ht,rl]),hi("fireDismissalEventInstead",[Le("event",Zg())]),hi("fireRepositionEventInstead",[Le("event",ay())]),Le("getRelated",E.none),Le("isExtraPart",He),Le("eventOrder",E.none)],factory:(n,r)=>{const i=(p,x,v,_)=>{const S=n.lazySink(p).getOrDie();wn.openWhileCloaked(p,x,()=>wi.positionWithinBounds(S,p,v,_())),Ht.setValue(p,E.some({mode:"position",config:v,getBounds:_}))},l=(p,x,v,_)=>{const S=((k,A,M,I,G)=>{const j=()=>k.lazySink(A),W=I.type==="horizontal"?{layouts:{onLtr:()=>Rx(),onRtl:()=>E0()}}:{},V=$=>(Y=>Y.length===2)($)?W:{};return wf.sketch({dom:{tag:"div"},data:I.data,markers:I.menu.markers,highlightOnOpen:I.menu.highlightOnOpen,fakeFocus:I.menu.fakeFocus,onEscape:()=>(wn.close(A),k.onEscape.map($=>$(A)),E.some(!0)),onExecute:()=>E.some(!0),onOpenMenu:($,Y)=>{wi.positionWithinBounds(j().getOrDie(),Y,M,G())},onOpenSubmenu:($,Y,J,de)=>{const ce=j().getOrDie();wi.position(ce,J,{anchor:{type:"submenu",item:Y,...V(de)}})},onRepositionMenu:($,Y,J)=>{const de=j().getOrDie();wi.positionWithinBounds(de,Y,M,G()),bt(J,ce=>{const he=V(ce.triggeringPath);wi.position(de,ce.triggeredMenu,{anchor:{type:"submenu",item:ce.triggeringItem,...he}})})}})})(n,p,x,v,_);wn.open(p,S),Ht.setValue(p,E.some({mode:"menu",menu:S}))},u=p=>{wn.isOpen(p)&&Ht.getValue(p).each(x=>{switch(x.mode){case"menu":wn.getState(p).each(wf.repositionMenus);break;case"position":const v=n.lazySink(p).getOrDie();wi.positionWithinBounds(v,p,x.config,x.getBounds())}})},m={setContent:(p,x)=>{wn.setContent(p,x)},showAt:(p,x,v)=>{const _=E.none;i(p,x,v,_)},showWithinBounds:i,showMenuAt:(p,x,v)=>{l(p,x,v,E.none)},showMenuWithinBounds:l,hide:p=>{wn.isOpen(p)&&(Ht.setValue(p,E.none()),wn.close(p))},getContent:p=>wn.getState(p),reposition:u,isOpen:wn.isOpen};return{uid:n.uid,dom:n.dom,behaviours:ii(n.inlineBehaviours,[wn.config({isPartOf:(p,x,v)=>xf(x,v)||((_,S)=>n.getRelated(_).exists(k=>xf(k,S)))(p,v),getAttachPoint:p=>n.lazySink(p).getOrDie(),onOpen:p=>{n.onShow(p)},onClose:p=>{n.onHide(p)}}),Ht.config({store:{mode:"memory",initialValue:E.none()}}),rl.config({channels:{...jk({isExtraPart:r.isExtraPart,...n.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...oc({...n.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:u})}})]),eventOrder:n.eventOrder,apis:m}},apis:{showAt:(n,r,i,l)=>{n.showAt(r,i,l)},showWithinBounds:(n,r,i,l,u)=>{n.showWithinBounds(r,i,l,u)},showMenuAt:(n,r,i,l)=>{n.showMenuAt(r,i,l)},showMenuWithinBounds:(n,r,i,l,u)=>{n.showMenuWithinBounds(r,i,l,u)},hide:(n,r)=>{n.hide(r)},isOpen:(n,r)=>n.isOpen(r),getContent:(n,r)=>n.getContent(r),setContent:(n,r,i)=>{n.setContent(r,i)},reposition:(n,r)=>{n.reposition(r)}}}),Xk=te([_s("type","text"),Rn("data"),Le("inputAttributes",{}),Le("inputStyles",{}),Le("tag","input"),Le("inputClasses",[]),Io("onSetValue"),as("fromInputValue",gt),as("toInputValue",gt),Le("styles",{}),Le("eventOrder",{}),Ma("inputBehaviours",[Ht,bo]),Le("selectOnFocus",!0)]),H5=n=>xt([bo.config({onFocus:n.selectOnFocus?r=>{const i=r.element,l=Jr(i);n.type!=="range"&&i.dom.setSelectionRange(0,l.length)}:ue})]),V5=n=>({...H5(n),...ii(n.inputBehaviours,[Ht.config({store:{mode:"manual",...n.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>n.fromInputValue(Jr(r.element)),setValue:(r,i)=>{Jr(r.element)!==i&&Xd(r.element,n.toInputValue(i))}},onSetValue:n.onSetValue})])}),Qk=n=>({tag:n.tag,attributes:{type:n.type,...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),_f=wl({name:"Input",configFields:Xk(),factory:(n,r)=>({uid:n.uid,dom:Qk(n),components:[],behaviours:V5(n),eventOrder:n.eventOrder})}),Jk=y0(fw(),Fk()),FN=te([dt("lazySink"),Rn("dragBlockClass"),as("getBounds",Ws),Le("useTabstopAt",so),Le("firstTabstop",0),Le("eventOrder",{}),Ma("modalBehaviours",[Gt]),Hi("onExecute"),bl("onEscape")]),e4={sketch:gt},zN=te([Tc({name:"draghandle",overrides:(n,r)=>({behaviours:xt([yp.config({mode:"mouse",getTarget:i=>Xr(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:n.getDragBounds})])})}),yi({schema:[dt("dom")],name:"title"}),yi({factory:e4,schema:[dt("dom")],name:"close"}),yi({factory:e4,schema:[dt("dom")],name:"body"}),Tc({factory:e4,schema:[dt("dom")],name:"footer"}),Gl({factory:{sketch:(n,r)=>({...n,dom:r.dom,components:r.components})},schema:[Le("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Le("components",[])],name:"blocker"})]),ra=sl({name:"ModalDialog",configFields:FN(),partFields:zN(),factory:(n,r,i,l)=>{const u=Fn(),m=Ae("modal-events"),p={...n.eventOrder,[Cc()]:[m].concat(n.eventOrder["alloy.system.attached"]||[])},x=we();return{uid:n.uid,dom:n.dom,components:r,apis:{show:v=>{u.set(v);const _=n.lazySink(v).getOrDie(),S=l.blocker(),k=_.getSystem().build({...S,components:S.components.concat([Jl(v)]),behaviours:xt([bo.config({}),uo("dialog-blocker-events",[Wu(Zl(),()=>{Yu.isBlocked(v)||Gt.focusIn(v)})])])});gf(_,k),Gt.focusIn(v)},hide:v=>{u.clear(),Un(v.element).each(_=>{v.getSystem().getByDom(_).each(S=>{Ym(S)})})},getBody:v=>Fm(v,n,"body"),getFooter:v=>Yn(v,n,"footer"),setIdle:v=>{Yu.unblock(v)},setBusy:(v,_)=>{Yu.block(v,_)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ii(n.modalBehaviours,[So.config({}),Gt.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),Yu.config({getRoot:u.get}),uo(m,[is(v=>{const _=Fm(v,n,"title").element,S=(k=>k.dom.textContent)(_);x.os.isMacOS()&&ye(S)?io(v.element,"aria-label",S):((k,A)=>{const M=Yr(k,"id").fold(()=>{const I=Ae("dialog-label");return io(A,"id",I),I},gt);io(k,"aria-labelledby",M)})(v.element,_)})])])}},apis:{show:(n,r)=>{n.show(r)},hide:(n,r)=>{n.hide(r)},getBody:(n,r)=>n.getBody(r),getFooter:(n,r)=>n.getFooter(r),setBusy:(n,r,i)=>{n.setBusy(r,i)},setIdle:(n,r)=>{n.setIdle(r)}}}),vw=Tc({schema:[dt("dom")],name:"label"}),ag=n=>Tc({name:n+"-edge",overrides:r=>r.model.manager.edgeActions[n].fold(()=>({}),i=>({events:Xn([D0(Ul(),(l,u,m)=>i(l,m),[r]),D0(el(),(l,u,m)=>i(l,m),[r]),D0(qr(),(l,u,m)=>{m.mouseIsDown.get()&&i(l,m)},[r])])}))}),HN=ag("top-left"),eF=ag("top"),$5=ag("top-right"),VN=ag("right"),$N=ag("bottom-right"),Td=ag("bottom"),U5=ag("bottom-left"),UN=ag("left"),tF=yi({name:"thumb",defaults:te({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:Xn([lp(Ul(),n,"spectrum"),lp(Jf(),n,"spectrum"),lp(Nm(),n,"spectrum"),lp(el(),n,"spectrum"),lp(qr(),n,"spectrum"),lp(i0(),n,"spectrum")])})}),t4=n=>up(n.event),ZN=yi({schema:[Sa("mouseIsDown",()=>Nt(!1))],name:"spectrum",overrides:n=>{const r=n.model.manager,i=(l,u)=>r.getValueFromEvent(u).map(m=>r.setValueFrom(l,n,m));return{behaviours:xt([Gt.config({mode:"special",onLeft:(l,u)=>r.onLeft(l,n,t4(u)),onRight:(l,u)=>r.onRight(l,n,t4(u)),onUp:(l,u)=>r.onUp(l,n,t4(u)),onDown:(l,u)=>r.onDown(l,n,t4(u))}),un.config({}),bo.config({})]),events:Xn([Ye(Ul(),i),Ye(Jf(),i),Ye(el(),i),Ye(qr(),(l,u)=>{n.mouseIsDown.get()&&i(l,u)})])}}});var Z5=[vw,UN,VN,eF,Td,HN,$5,U5,$N,tF,ZN];const vv=te("slider.change.value"),o4=n=>{const r=n.event.raw;if((i=>i.type.indexOf("touch")!==-1)(r)){const i=r;return i.touches!==void 0&&i.touches.length===1?E.some(i.touches[0]).map(l=>As(l.clientX,l.clientY)):E.none()}{const i=r;return i.clientX!==void 0?E.some(i).map(l=>As(l.clientX,l.clientY)):E.none()}},n1=n=>n.model.minX,s1=n=>n.model.minY,yw=n=>n.model.minX-1,Cf=n=>n.model.minY-1,kf=n=>n.model.maxX,r1=n=>n.model.maxY,J0=n=>n.model.maxX+1,a1=n=>n.model.maxY+1,ww=(n,r,i)=>r(n)-i(n),n4=n=>ww(n,kf,n1),s4=n=>ww(n,r1,s1),j5=n=>n4(n)/2,W5=n=>s4(n)/2,eb=(n,r)=>r?n.stepSize*n.speedMultiplier:n.stepSize,q5=n=>n.snapToGrid,G5=n=>n.snapStart,r4=n=>n.rounded,i1=(n,r)=>n[r+"-edge"]!==void 0,K5=n=>i1(n,"left"),Y5=n=>i1(n,"right"),X5=n=>i1(n,"top"),Q5=n=>i1(n,"bottom"),Lc=n=>n.model.value.get(),ig=(n,r)=>({x:n,y:r}),mu=(n,r)=>{Kt(n,vv(),{value:r})},yv=(n,r,i,l)=>n<r?n:n>i?i:n===r?r-1:Math.max(r,n-l),a4=(n,r,i,l)=>n>i?n:n<r?r:n===i?i+1:Math.min(i,n+l),Lt=(n,r,i)=>Math.max(r,Math.min(i,n)),Tp=n=>{const{min:r,max:i,range:l,value:u,step:m,snap:p,snapStart:x,rounded:v,hasMinEdge:_,hasMaxEdge:S,minBound:k,maxBound:A,screenRange:M}=n,I=_?r-1:r,G=S?i+1:i;if(u<k)return I;if(u>A)return G;{const j=((V,$,Y)=>Math.min(Y,Math.max(V,$))-$)(u,k,A),W=Lt(j/M*l+r,I,G);return p&&W>=r&&W<=i?((V,$,Y,J,de)=>de.fold(()=>{const ce=V-$,he=Math.round(ce/J)*J;return Lt($+he,$-1,Y+1)},ce=>{const he=(V-ce)%J,Ne=Math.round(he/J),$e=Math.floor((V-ce)/J),Ue=Math.floor((Y-ce)/J),qe=ce+Math.min(Ue,$e+Ne)*J;return Math.max(ce,qe)}))(W,r,i,m,x):v?Math.round(W):W}},J5=n=>{const{min:r,max:i,range:l,value:u,hasMinEdge:m,hasMaxEdge:p,maxBound:x,maxOffset:v,centerMinEdge:_,centerMaxEdge:S}=n;return u<r?m?0:_:u>i?p?x:S:(u-r)/l*v},_w="top",wv="right",Cw="bottom",i4="left",Qu=n=>n.element.dom.getBoundingClientRect(),Dd=(n,r)=>n[r],tb=n=>{const r=Qu(n);return Dd(r,i4)},eT=n=>{const r=Qu(n);return Dd(r,wv)},_v=n=>{const r=Qu(n);return Dd(r,_w)},tT=n=>{const r=Qu(n);return Dd(r,Cw)},oT=n=>{const r=Qu(n);return Dd(r,"width")},l4=n=>{const r=Qu(n);return Dd(r,"height")},nT=(n,r,i)=>(n+r)/2-i,sT=(n,r)=>{const i=Qu(n),l=Qu(r),u=Dd(i,i4),m=Dd(i,wv),p=Dd(l,i4);return nT(u,m,p)},kw=(n,r)=>{const i=Qu(n),l=Qu(r),u=Dd(i,_w),m=Dd(i,Cw),p=Dd(l,_w);return nT(u,m,p)},Cv=(n,r)=>{Kt(n,vv(),{value:r})},ob=(n,r,i)=>{const l={min:n1(r),max:kf(r),range:n4(r),value:i,step:eb(r),snap:q5(r),snapStart:G5(r),rounded:r4(r),hasMinEdge:K5(r),hasMaxEdge:Y5(r),minBound:tb(n),maxBound:eT(n),screenRange:oT(n)};return Tp(l)},kv=n=>(r,i,l)=>((u,m,p,x)=>{const v=(u>0?a4:yv)(Lc(p),n1(p),kf(p),eb(p,x));return Cv(m,v),E.some(v)})(n,r,i,l).map(so),nb=(n,r,i,l,u,m)=>{const p=((x,v,_,S,k)=>{const A=oT(x),M=S.bind(j=>E.some(sT(j,x))).getOr(0),I=k.bind(j=>E.some(sT(j,x))).getOr(A),G={min:n1(v),max:kf(v),range:n4(v),value:_,hasMinEdge:K5(v),hasMaxEdge:Y5(v),minBound:tb(x),maxBound:eT(x),maxOffset:A,centerMinEdge:M,centerMaxEdge:I};return J5(G)})(r,m,i,l,u);return tb(r)-tb(n)+p},lg=kv(-1),c4=kv(1),jN=E.none,WN=E.none,qN={"top-left":E.none(),top:E.none(),"top-right":E.none(),right:E.some((n,r)=>{mu(n,J0(r))}),"bottom-right":E.none(),bottom:E.none(),"bottom-left":E.none(),left:E.some((n,r)=>{mu(n,yw(r))})};var rT=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=ob(n,r,i);return Cv(n,l),l},setToMin:(n,r)=>{const i=n1(r);Cv(n,i)},setToMax:(n,r)=>{const i=kf(r);Cv(n,i)},findValueOfOffset:ob,getValueFromEvent:n=>o4(n).map(r=>r.left),findPositionOfValue:nb,setPositionFromValue:(n,r,i,l)=>{const u=Lc(i),m=nb(n,l.getSpectrum(n),u,l.getLeftEdge(n),l.getRightEdge(n),i),p=Pn(r.element)/2;ko(r.element,"left",m-p+"px")},onLeft:lg,onRight:c4,onUp:jN,onDown:WN,edgeActions:qN});const Sw=(n,r)=>{Kt(n,vv(),{value:r})},d4=(n,r,i)=>{const l={min:s1(r),max:r1(r),range:s4(r),value:i,step:eb(r),snap:q5(r),snapStart:G5(r),rounded:r4(r),hasMinEdge:X5(r),hasMaxEdge:Q5(r),minBound:_v(n),maxBound:tT(n),screenRange:l4(n)};return Tp(l)},u4=n=>(r,i,l)=>((u,m,p,x)=>{const v=(u>0?a4:yv)(Lc(p),s1(p),r1(p),eb(p,x));return Sw(m,v),E.some(v)})(n,r,i,l).map(so),Ew=(n,r,i,l,u,m)=>{const p=((x,v,_,S,k)=>{const A=l4(x),M=S.bind(j=>E.some(kw(j,x))).getOr(0),I=k.bind(j=>E.some(kw(j,x))).getOr(A),G={min:s1(v),max:r1(v),range:s4(v),value:_,hasMinEdge:X5(v),hasMaxEdge:Q5(v),minBound:_v(x),maxBound:tT(x),maxOffset:A,centerMinEdge:M,centerMaxEdge:I};return J5(G)})(r,m,i,l,u);return _v(r)-_v(n)+p},GN=E.none,aT=E.none,KN=u4(-1),m4=u4(1),iT={"top-left":E.none(),top:E.some((n,r)=>{mu(n,Cf(r))}),"top-right":E.none(),right:E.none(),"bottom-right":E.none(),bottom:E.some((n,r)=>{mu(n,a1(r))}),"bottom-left":E.none(),left:E.none()};var lT=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=d4(n,r,i);return Sw(n,l),l},setToMin:(n,r)=>{const i=s1(r);Sw(n,i)},setToMax:(n,r)=>{const i=r1(r);Sw(n,i)},findValueOfOffset:d4,getValueFromEvent:n=>o4(n).map(r=>r.top),findPositionOfValue:Ew,setPositionFromValue:(n,r,i,l)=>{const u=Lc(i),m=Ew(n,l.getSpectrum(n),u,l.getTopEdge(n),l.getBottomEdge(n),i),p=Rr(r.element)/2;ko(r.element,"top",m-p+"px")},onLeft:GN,onRight:aT,onUp:KN,onDown:m4,edgeActions:iT});const Sv=(n,r)=>{Kt(n,vv(),{value:r})},Aw=(n,r)=>({x:n,y:r}),Tw=(n,r)=>(i,l,u)=>((m,p,x,v,_)=>{const S=m>0?a4:yv,k=p?Lc(v).x:S(Lc(v).x,n1(v),kf(v),eb(v,_)),A=p?S(Lc(v).y,s1(v),r1(v),eb(v,_)):Lc(v).y;return Sv(x,Aw(k,A)),E.some(k)})(n,r,i,l,u).map(so),YN=Tw(-1,!1),XN=Tw(1,!1),QN=Tw(-1,!0),Ev=Tw(1,!0),cT={"top-left":E.some((n,r)=>{mu(n,ig(yw(r),Cf(r)))}),top:E.some((n,r)=>{mu(n,ig(j5(r),Cf(r)))}),"top-right":E.some((n,r)=>{mu(n,ig(J0(r),Cf(r)))}),right:E.some((n,r)=>{mu(n,ig(J0(r),W5(r)))}),"bottom-right":E.some((n,r)=>{mu(n,ig(J0(r),a1(r)))}),bottom:E.some((n,r)=>{mu(n,ig(j5(r),a1(r)))}),"bottom-left":E.some((n,r)=>{mu(n,ig(yw(r),a1(r)))}),left:E.some((n,r)=>{mu(n,ig(yw(r),W5(r)))})};var dT=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=ob(n,r,i.left),u=d4(n,r,i.top),m=Aw(l,u);return Sv(n,m),m},setToMin:(n,r)=>{const i=n1(r),l=s1(r);Sv(n,Aw(i,l))},setToMax:(n,r)=>{const i=kf(r),l=r1(r);Sv(n,Aw(i,l))},getValueFromEvent:n=>o4(n),setPositionFromValue:(n,r,i,l)=>{const u=Lc(i),m=nb(n,l.getSpectrum(n),u.x,l.getLeftEdge(n),l.getRightEdge(n),i),p=Ew(n,l.getSpectrum(n),u.y,l.getTopEdge(n),l.getBottomEdge(n),i),x=Pn(r.element)/2,v=Rr(r.element)/2;ko(r.element,"left",m-x+"px"),ko(r.element,"top",p-v+"px")},onLeft:YN,onRight:XN,onUp:QN,onDown:Ev,edgeActions:cT});const Od=sl({name:"Slider",configFields:[Le("stepSize",1),Le("speedMultiplier",10),Le("onChange",ue),Le("onChoose",ue),Le("onInit",ue),Le("onDragStart",ue),Le("onDragEnd",ue),Le("snapToGrid",!1),Le("rounded",!0),Rn("snapStart"),Pi("model",oi("mode",{x:[Le("minX",0),Le("maxX",100),Sa("value",n=>Nt(n.mode.minX)),dt("getInitialValue"),ss("manager",rT)],y:[Le("minY",0),Le("maxY",100),Sa("value",n=>Nt(n.mode.minY)),dt("getInitialValue"),ss("manager",lT)],xy:[Le("minX",0),Le("maxX",100),Le("minY",0),Le("maxY",100),Sa("value",n=>Nt({x:n.mode.minX,y:n.mode.minY})),dt("getInitialValue"),ss("manager",dT)]})),Ma("sliderBehaviours",[Gt,Ht]),Sa("mouseIsDown",()=>Nt(!1))],partFields:Z5,factory:(n,r,i,l)=>{const u=V=>Fm(V,n,"thumb"),m=V=>Fm(V,n,"spectrum"),p=V=>Yn(V,n,"left-edge"),x=V=>Yn(V,n,"right-edge"),v=V=>Yn(V,n,"top-edge"),_=V=>Yn(V,n,"bottom-edge"),S=n.model,k=S.manager,A=(V,$)=>{k.setPositionFromValue(V,$,n,{getLeftEdge:p,getRightEdge:x,getTopEdge:v,getBottomEdge:_,getSpectrum:m})},M=(V,$)=>{S.value.set($);const Y=u(V);A(V,Y)},I=V=>{const $=n.mouseIsDown.get();n.mouseIsDown.set(!1),$&&Yn(V,n,"thumb").each(Y=>{const J=S.value.get();n.onChoose(V,Y,J)})},G=(V,$)=>{$.stop(),n.mouseIsDown.set(!0),n.onDragStart(V,u(V))},j=(V,$)=>{$.stop(),n.onDragEnd(V,u(V)),I(V)},W=V=>{Yn(V,n,"spectrum").map(Gt.focusIn)};return{uid:n.uid,dom:n.dom,components:r,behaviours:ii(n.sliderBehaviours,[Gt.config({mode:"special",focusIn:W}),Ht.config({store:{mode:"manual",getValue:V=>S.value.get(),setValue:M}}),rl.config({channels:{[Hh()]:{onReceive:I}}})]),events:Xn([Ye(vv(),(V,$)=>{((Y,J)=>{M(Y,J);const de=u(Y);n.onChange(Y,de,J)})(V,$.event.value)}),is((V,$)=>{const Y=S.getInitialValue();S.value.set(Y);const J=u(V);A(V,J);const de=m(V);n.onInit(V,J,de,S.value.get())}),Ye(Ul(),G),Ye(Nm(),j),Ye(el(),(V,$)=>{W(V),G(V,$)}),Ye(i0(),j)]),apis:{resetToMin:V=>{k.setToMin(V,n)},resetToMax:V=>{k.setToMax(V,n)},setValue:M,refresh:A},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,r,i)=>{n.setValue(r,i)},resetToMin:(n,r)=>{n.resetToMin(r)},resetToMax:(n,r)=>{n.resetToMax(r)},refresh:(n,r)=>{n.refresh(r)}}}),g4="container",uT=[Ma("slotBehaviours",[])],mT=n=>"<alloy.field."+n+">",JN=(n,r)=>{const i=S=>_0(n),l=(S,k)=>(A,M)=>Yn(A,n,M).map(I=>S(I,M)).getOr(k),u=(S,k)=>Eo(S.element,"aria-hidden")!=="true",m=l(u,!1),p=l((S,k)=>{if(u(S)){const A=S.element;ko(A,"display","none"),io(A,"aria-hidden","true"),Kt(S,u0(),{name:k,visible:!1})}}),x=(S=>(k,A)=>{bt(A,M=>S(k,M))})(p),v=l((S,k)=>{if(!u(S)){const A=S.element;fn(A,"display"),js(A,"aria-hidden"),Kt(S,u0(),{name:k,visible:!0})}}),_={getSlotNames:i,getSlot:(S,k)=>Yn(S,n,k),isShowing:m,hideSlot:p,hideAllSlots:S=>x(S,i()),showSlot:v};return{uid:n.uid,dom:n.dom,components:r,behaviours:ck(n.slotBehaviours),apis:_}},eM=Rs({getSlotNames:(n,r)=>n.getSlotNames(r),getSlot:(n,r,i)=>n.getSlot(r,i),isShowing:(n,r,i)=>n.isShowing(r,i),hideSlot:(n,r,i)=>n.hideSlot(r,i),hideAllSlots:(n,r)=>n.hideAllSlots(r),showSlot:(n,r,i)=>n.showSlot(r,i)},n=>Cd(n)),Wa={...eM,sketch:n=>{const r=(()=>{const m=[];return{slot:(p,x)=>(m.push(p),$u(g4,mT(p),x)),record:te(m)}})(),i=n(r),l=r.record(),u=Ce(l,m=>yi({name:m,pname:mT(m)}));return Gy(g4,uT,u,JN,i)}},f4=(n,r,i)=>({within:n,extra:r,withinWidth:i}),Av=(n,r,i)=>{const l=Uo(n,(p,x)=>((v,_)=>{const S=i(v);return E.some({element:v,start:_,finish:_+S,width:S})})(x,p.len).fold(te(p),v=>({len:v.finish,list:p.list.concat([v])})),{len:0,list:[]}).list,u=Co(l,p=>p.finish<=r),m=_o(u,(p,x)=>p+x.width,0);return{within:u,extra:l.slice(u.length),withinWidth:m}},Dw=n=>Ce(n,r=>r.element),p4=(n,r)=>{const i=Ce(r,l=>Jl(l));uu.setGroups(n,i)},li=(n,r,i)=>{const l=r.builtGroups.get();if(l.length===0)return;const u=Fm(n,r,"primary"),m=Cr.getCoupled(n,"overflowGroup");ko(u.element,"visibility","hidden");const p=l.concat([m]),x=mn(p,_=>Fa(_.element).bind(S=>_.getSystem().getByDom(S).toOptional()));i([]),p4(u,p);const v=((_,S,k,A)=>{const M=((W,V,$)=>{const Y=Av(V,W,$);return Y.extra.length===0?E.some(Y):E.none()})(_,S,k).getOrThunk(()=>Av(S,_-k(A),k)),I=M.within,G=M.extra,j=M.withinWidth;return G.length===1&&G[0].width<=k(A)?((W,V,$)=>{const Y=Dw(W.concat(V));return f4(Y,[],$)})(I,G,j):G.length>=1?((W,V,$,Y)=>{const J=Dw(W).concat([$]);return f4(J,Dw(V),Y)})(I,G,A,j):((W,V,$)=>f4(Dw(W),[],$))(I,0,j)})(Pn(u.element),r.builtGroups.get(),_=>Math.ceil(_.element.dom.getBoundingClientRect().width),m);v.extra.length===0?(So.remove(u,m),i([])):(p4(u,v.within),i(v.extra)),fn(u.element,"visibility"),ch(u.element),x.each(bo.focus)},gT=te([Ma("splitToolbarBehaviours",[Cr]),Sa("builtGroups",()=>Nt([]))]),fT=te([Sc(["overflowToggledClass"]),Ir("getOverflowBounds"),dt("lazySink"),Sa("overflowGroups",()=>Nt([])),Io("onOpened"),Io("onClosed")].concat(gT())),pT=te([yi({factory:uu,schema:t1(),name:"primary"}),Gl({schema:t1(),name:"overflow"}),Gl({name:"overflow-button"}),Gl({name:"overflow-group"})]),tM=te([dt("items"),Sc(["itemSelector"]),Ma("tgroupBehaviours",[Gt])]),hT=te([v0({name:"items",unit:"item"})]),Tv=sl({name:"ToolbarGroup",configFields:tM(),partFields:hT(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,behaviours:ii(n.tgroupBehaviours,[Gt.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),bT=n=>Ce(n,r=>Jl(r)),xT=(n,r,i)=>{li(n,i,l=>{i.overflowGroups.set(l),r.getOpt(n).each(u=>{Ap.setGroups(u,bT(l))})})},vT=sl({name:"SplitFloatingToolbar",configFields:fT(),partFields:pT(),factory:(n,r,i,l)=>{const u=Mn(Ap.sketch({fetch:()=>Jo(m=>{m(bT(n.overflowGroups.get()))}),layouts:{onLtr:()=>[Pr,wr],onRtl:()=>[wr,Pr],onBottomLtr:()=>[Ra,Oa],onBottomRtl:()=>[Oa,Ra]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(m,p)=>n[p?"onOpened":"onClosed"](m)}));return{uid:n.uid,dom:n.dom,components:r,behaviours:ii(n.splitToolbarBehaviours,[Cr.config({others:{overflowGroup:()=>Tv.sketch({...l["overflow-group"](),items:[u.asSpec()]})}})]),apis:{setGroups:(m,p)=>{n.builtGroups.set(Ce(p,m.getSystem().build)),xT(m,u,n)},refresh:m=>xT(m,u,n),toggle:m=>{u.getOpt(m).each(p=>{Ap.toggle(p)})},toggleWithoutFocusing:m=>{u.getOpt(m).each(Ap.toggleWithoutFocusing)},isOpen:m=>u.getOpt(m).map(Ap.isOpen).getOr(!1),reposition:m=>{u.getOpt(m).each(p=>{Ap.reposition(p)})},getOverflow:m=>u.getOpt(m).bind(Ap.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},refresh:(n,r)=>{n.refresh(r)},reposition:(n,r)=>{n.reposition(r)},toggle:(n,r)=>{n.toggle(r)},toggleWithoutFocusing:(n,r)=>{n.toggle(r)},isOpen:(n,r)=>n.isOpen(r),getOverflow:(n,r)=>n.getOverflow(r)}}),oM=te([Sc(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Io("onOpened"),Io("onClosed")].concat(gT())),yT=te([yi({factory:uu,schema:t1(),name:"primary"}),yi({factory:uu,schema:t1(),name:"overflow",overrides:n=>({toolbarBehaviours:xt([_l.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:r=>{Yn(r,n,"overflow-button").each(i=>{an.off(i)}),n.onClosed(r)},onGrown:r=>{n.onOpened(r)},onStartGrow:r=>{Yn(r,n,"overflow-button").each(an.on)}}),Gt.config({mode:"acyclic",onEscape:r=>(Yn(r,n,"overflow-button").each(bo.focus),E.some(!0))})])})}),Gl({name:"overflow-button",overrides:n=>({buttonBehaviours:xt([an.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Gl({name:"overflow-group"})]),h4=(n,r,i)=>{Yn(n,r,"overflow-button").each(l=>{Yn(n,r,"overflow").each(u=>{if(b4(n,r),_l.hasShrunk(u)){const m=r.onOpened;r.onOpened=p=>{i||Gt.focusIn(u),m(p),r.onOpened=m}}else{const m=r.onClosed;r.onClosed=p=>{i||bo.focus(l),m(p),r.onClosed=m}}_l.toggleGrow(u)})})},b4=(n,r)=>{Yn(n,r,"overflow").each(i=>{li(n,r,l=>{const u=Ce(l,m=>Jl(m));uu.setGroups(i,u)}),Yn(n,r,"overflow-button").each(l=>{_l.hasGrown(i)&&an.on(l)}),_l.refresh(i)})},Ow=sl({name:"SplitSlidingToolbar",configFields:oM(),partFields:yT(),factory:(n,r,i,l)=>{const u="alloy.toolbar.toggle";return{uid:n.uid,dom:n.dom,components:r,behaviours:ii(n.splitToolbarBehaviours,[Cr.config({others:{overflowGroup:m=>Tv.sketch({...l["overflow-group"](),items:[ja.sketch({...l["overflow-button"](),action:p=>{Ko(m,u)}})]})}}),uo("toolbar-toggle-events",[Ye(u,m=>{h4(m,n,!1)})])]),apis:{setGroups:(m,p)=>{((x,v)=>{const _=Ce(v,x.getSystem().build);n.builtGroups.set(_)})(m,p),b4(m,n)},refresh:m=>b4(m,n),toggle:m=>{h4(m,n,!1)},toggleWithoutFocusing:m=>{h4(m,n,!0)},isOpen:m=>((p,x)=>Yn(p,x,"overflow").map(_l.hasGrown).getOr(!1))(m,n)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},refresh:(n,r)=>{n.refresh(r)},toggle:(n,r)=>{n.toggle(r)},isOpen:(n,r)=>n.isOpen(r)}}),wT=wl({name:"TabButton",configFields:[Le("uid",void 0),dt("value"),yr("dom","dom",r0(()=>({attributes:{role:"tab",id:Ae("aria"),"aria-selected":"false"}})),Bi()),Rn("action"),Le("domModification",{}),Ma("tabButtonBehaviours",[bo,Gt,Ht]),dt("view")],factory:(n,r)=>({uid:n.uid,dom:n.dom,components:n.components,events:Ik(n.action),behaviours:ii(n.tabButtonBehaviours,[bo.config({}),Gt.config({mode:"execution",useSpace:!0,useEnter:!0}),Ht.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification})}),_T=te([dt("tabs"),dt("dom"),Le("clickToDismiss",!1),Ma("tabbarBehaviours",[pn,Gt]),Sc(["tabClass","selectedClass"])]),nM=v0({factory:wT,name:"tabs",unit:"tab",overrides:n=>{const r=(l,u)=>{pn.dehighlight(l,u),Kt(l,g0(),{tabbar:l,button:u})},i=(l,u)=>{pn.highlight(l,u),Kt(l,m0(),{tabbar:l,button:u})};return{action:l=>{const u=l.getSystem().getByUid(n.uid).getOrDie(),m=pn.isHighlighted(u,l);(m&&n.clickToDismiss?r:m?ue:i)(u,l)},domModification:{classes:[n.markers.tabClass]}}}}),sM=te([nM]),CT=sl({name:"Tabbar",configFields:_T(),partFields:sM(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ii(n.tabbarBehaviours,[pn.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(u,m)=>{io(m.element,"aria-selected","true")},onDehighlight:(u,m)=>{io(m.element,"aria-selected","false")}}),Gt.config({mode:"flow",getInitial:u=>pn.getHighlighted(u).map(m=>m.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])})}),rM=wl({name:"Tabview",configFields:[Ma("tabviewBehaviours",[So])],factory:(n,r)=>({uid:n.uid,dom:n.dom,behaviours:ii(n.tabviewBehaviours,[So.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),kT=te([Le("selectFirst",!0),Io("onChangeTab"),Io("onDismissTab"),Le("tabs",[]),Ma("tabSectionBehaviours",[])]),ST=yi({factory:CT,schema:[dt("dom"),ni("markers",[dt("tabClass"),dt("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),Dp=yi({factory:rM,name:"tabview"}),ET=te([ST,Dp]),l1=sl({name:"TabSection",configFields:kT(),partFields:ET(),factory:(n,r,i,l)=>{const u=(m,p)=>{Yn(m,n,"tabbar").each(x=>{p(x).each(Bh)})};return{uid:n.uid,dom:n.dom,components:r,behaviours:ck(n.tabSectionBehaviours),events:Xn(ks([n.selectFirst?[is((m,p)=>{u(m,pn.getFirst)})]:[],[Ye(m0(),(m,p)=>{(x=>{const v=Ht.getValue(x);Yn(x,n,"tabview").each(_=>{P(n.tabs,S=>S.value===v).each(S=>{const k=S.view();Yr(x.element,"id").each(A=>{io(_.element,"aria-labelledby",A)}),So.set(_,k),n.onChangeTab(_,x,k)})})})(p.event.button)}),Ye(g0(),(m,p)=>{const x=p.event.button;n.onDismissTab(m,x)})]])),apis:{getViewItems:m=>Yn(m,n,"tabview").map(p=>So.contents(p)).getOr([]),showTab:(m,p)=>{u(m,x=>{const v=pn.getCandidates(x);return P(v,_=>Ht.getValue(_)===p).filter(_=>!pn.isHighlighted(x,_))})}}}},apis:{getViewItems:(n,r)=>n.getViewItems(r),showTab:(n,r,i)=>{n.showTab(r,i)}}}),Dv=(n,r,i)=>{const l=Ht.getValue(i);Ht.setValue(r,l),c1(r)},AT=(n,r)=>{const i=n.element,l=Jr(i),u=i.dom;Eo(i,"type")!=="number"&&r(u,l)},c1=n=>{AT(n,(r,i)=>r.setSelectionRange(i.length,i.length))},x4=te("alloy.typeahead.itemexecute"),aM=te([Rn("lazySink"),dt("fetch"),Le("minChars",5),Le("responseTime",1e3),Io("onOpen"),Le("getHotspot",E.some),Le("getAnchorOverrides",te({})),Le("layouts",E.none()),Le("eventOrder",{}),a0("model",{},[Le("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),Le("selectsOver",!0),Le("populateFromBrowse",!0)]),Io("onSetValue"),Hi("onExecute"),Io("onItemExecute"),Le("inputClasses",[]),Le("inputAttributes",{}),Le("inputStyles",{}),Le("matchWidth",!0),Le("useMinWidth",!1),Le("dismissOnBlur",!0),Sc(["openClass"]),Rn("initialData"),Rn("listRole"),Ma("typeaheadBehaviours",[bo,Ht,kp,Gt,an,Cr]),Sa("lazyTypeaheadComp",()=>Nt(E.none)),Sa("previewing",()=>Nt(!0))].concat(Xk()).concat(Gk())),TT=te([Gl({schema:[Hu()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(r,i,l)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(u=>{((m,p,x)=>{if(m.selectsOver){const v=Ht.getValue(p),_=m.getDisplayText(v),S=Ht.getValue(x);return m.getDisplayText(S).indexOf(_)===0?E.some(()=>{Dv(0,p,x),((k,A)=>{AT(k,(M,I)=>M.setSelectionRange(A,I.length))})(p,_.length)}):E.none()}return E.none()})(n.model,u,l).fold(()=>{n.model.selectsOver?(pn.dehighlight(i,l),n.previewing.set(!0)):n.previewing.set(!1)},m=>{m(),n.previewing.set(!1)})}):n.lazyTypeaheadComp.get().each(u=>{n.model.populateFromBrowse&&Dv(n.model,u,l),Yr(l.element,"id").each(m=>io(u.element,"aria-activedescendant",m))})},onExecute:(r,i)=>n.lazyTypeaheadComp.get().map(l=>(Kt(l,x4(),{item:i}),!0)),onHover:(r,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(l=>{n.model.populateFromBrowse&&Dv(n.model,l,i)})}})})]),iM=sl({name:"Typeahead",configFields:aM(),partFields:TT(),factory:(n,r,i,l)=>{const u=(k,A,M)=>{n.previewing.set(!1);const I=Cr.getCoupled(k,"sandbox");if(wn.isOpen(I))yn.getCurrent(I).each(G=>{pn.getHighlighted(G).fold(()=>{M(G)},()=>{Ph(I,G.element,"keydown",A)})});else{const G=j=>{yn.getCurrent(j).each(M)};hw(n,p(k),k,I,l,G,tr.HighlightMenuAndItem).get(ue)}},m=H5(n),p=k=>A=>A.map(M=>{const I=Tr(M.menus),G=Fo(I,j=>Co(j.items,W=>W.type==="item"));return Ht.getState(k).update(Ce(G,j=>j.data)),M}),x=k=>yn.getCurrent(k),v="typeaheadevents",_=[bo.config({}),Ht.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:k=>Jr(k.element),getFallbackEntry:k=>({value:k,meta:{}}),setValue:(k,A)=>{Xd(k.element,n.model.getDisplayText(A))},...n.initialData.map(k=>Ug("initialValue",k)).getOr({})}}),kp.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(k,A)=>{const M=Cr.getCoupled(k,"sandbox");if(bo.isFocused(k)&&Jr(k.element).length>=n.minChars){const I=x(M).bind(j=>pn.getHighlighted(j).map(Ht.getValue));n.previewing.set(!0);const G=j=>{x(M).each(W=>{I.fold(()=>{n.model.selectsOver&&pn.highlightFirst(W)},V=>{pn.highlightBy(W,$=>Ht.getValue($).value===V.value),pn.getHighlighted(W).orThunk(()=>(pn.highlightFirst(W),E.none()))})})};hw(n,p(k),k,M,l,G,tr.HighlightJustMenu).get(ue)}},cancelEvent:gx()}),Gt.config({mode:"special",onDown:(k,A)=>(u(k,A,pn.highlightFirst),E.some(!0)),onEscape:k=>{const A=Cr.getCoupled(k,"sandbox");return wn.isOpen(A)?(wn.close(A),E.some(!0)):E.none()},onUp:(k,A)=>(u(k,A,pn.highlightLast),E.some(!0)),onEnter:k=>{const A=Cr.getCoupled(k,"sandbox"),M=wn.isOpen(A);if(M&&!n.previewing.get())return x(A).bind(I=>pn.getHighlighted(I)).map(I=>(Kt(k,x4(),{item:I}),!0));{const I=Ht.getValue(k);return Ko(k,gx()),n.onExecute(A,k,I),M&&wn.close(A),E.some(!0)}}}),an.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Cr.config({others:{sandbox:k=>Jh(n,k,{onOpen:()=>an.on(k),onClose:()=>{n.lazyTypeaheadComp.get().each(A=>js(A.element,"aria-activedescendant")),an.off(k)}})}}),uo(v,[is(k=>{n.lazyTypeaheadComp.set(E.some(k))}),Dc(k=>{n.lazyTypeaheadComp.set(E.none())}),Oc(k=>{const A=ue;O5(n,p(k),k,l,A,tr.HighlightMenuAndItem).get(ue)}),Ye(x4(),(k,A)=>{const M=Cr.getCoupled(k,"sandbox");Dv(n.model,k,A.event.item),Ko(k,gx()),n.onItemExecute(k,M,A.event.item,Ht.getValue(k)),wn.close(M),c1(k)})].concat(n.dismissOnBlur?[Ye(Fu(),k=>{const A=Cr.getCoupled(k,"sandbox");Fa(A.element).isNone()&&wn.close(A)})]:[]))],S={[ou()]:[Ht.name(),kp.name(),v],...n.eventOrder};return{uid:n.uid,dom:Qk(vs(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...m,...ii(n.typeaheadBehaviours,_)},eventOrder:S}}});var Fc,Ov,DT=tinymce.util.Tools.resolve("tinymce.ThemeManager"),sb=tinymce.util.Tools.resolve("tinymce.util.Delay"),d1=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),lM=tinymce.util.Tools.resolve("tinymce.EditorManager"),Rd=tinymce.util.Tools.resolve("tinymce.Env");(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(Fc||(Fc={})),function(n){n.auto="auto",n.top="top",n.bottom="bottom"}(Ov||(Ov={}));const Jn=n=>r=>r.options.get(n),rb=n=>r=>E.from(n(r)),OT=n=>{const r=Rd.deviceType.isPhone(),i=Rd.deviceType.isTablet()||r,l=n.options.register,u=p=>Oe(p)||p===!1,m=p=>Oe(p)||Bt(p);l("skin",{processor:p=>Oe(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:m,default:Math.max(n.getElement().offsetHeight,400)}),l("width",{processor:m,default:d1.DOM.getStyle(n.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>Oe(p)||Et(p),default:!r}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>Et(p)||Oe(p)||We(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Ai(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:Ov.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:n.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:u,default:"#top"}),l("anchor_bottom",{processor:u,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||Et(p),default:!Rd.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},RT=Jn("readonly"),Op=Jn("disabled"),u1=Jn("height"),Rw=Jn("width"),Rv=rb(Jn("min_width")),cg=rb(Jn("min_height")),Ju=rb(Jn("max_width")),v4=rb(Jn("max_height")),NT=rb(Jn("style_formats")),y4=Jn("style_formats_merge"),dg=Jn("style_formats_autohide"),Nw=Jn("content_langs"),MT=Jn("removed_menuitems"),Rp=Jn("toolbar_mode"),w4=Jn("toolbar_groups"),Mw=Jn("toolbar_location"),_4=Jn("fixed_toolbar_container"),BT=Jn("fixed_toolbar_container_target"),IT=Jn("toolbar_persist"),PT=Jn("toolbar_sticky_offset"),LT=Jn("menubar"),m1=Jn("toolbar"),Bw=Jn("file_picker_callback"),Nv=Jn("file_picker_validator_handler"),C4=Jn("font_size_input_default_unit"),FT=Jn("file_picker_types"),k4=Jn("typeahead_urls"),S4=Jn("anchor_top"),E4=Jn("anchor_bottom"),A4=Jn("draggable_modal"),zT=Jn("statusbar"),Iw=Jn("elementpath"),T4=Jn("branding"),HT=Jn("resize"),VT=Jn("paste_as_text"),$T=Jn("sidebar_show"),D4=Jn("promotion"),UT=Jn("help_accessibility"),ZT=Jn("default_font_stack"),O4=Jn("skin"),g1=n=>n.options.get("skin")===!1,Pw=n=>n.options.get("menubar")!==!1,ab=n=>{const r=n.options.get("skin_url");if(g1(n))return r;if(r)return n.documentBaseURI.toAbsolute(r);{const i=n.options.get("skin");return lM.baseURL+"/skins/ui/"+i}},Lw=n=>n.options.get("line_height_formats").split(" "),Mv=n=>{const r=m1(n),i=Oe(r),l=We(r)&&r.length>0;return!Bv(n)&&(l||i||r===!0)},Fw=n=>{const r=Ai(9,l=>n.options.get("toolbar"+(l+1))),i=Co(r,Oe);return $s(i.length>0,i)},Bv=n=>Fw(n).fold(()=>{const r=m1(n);return yt(r,Oe)&&r.length>0},so),R4=n=>Mw(n)===Ov.bottom,N4=n=>{var r;if(!n.inline)return E.none();const i=(r=_4(n))!==null&&r!==void 0?r:"";if(i.length>0)return rs(lr(),i);const l=BT(n);return ye(l)?E.some(Ft(l)):E.none()},ib=n=>n.inline&&N4(n).isSome(),zw=n=>N4(n).getOrThunk(()=>Mg(Kr(Ft(n.getElement())))),M4=n=>n.inline&&!Pw(n)&&!Mv(n)&&!Bv(n),lb=n=>(n.options.get("toolbar_sticky")||n.inline)&&!ib(n)&&!M4(n),Sf=n=>!ib(n)&&n.options.get("ui_mode")==="split",Iv=n=>{const r=n.options.get("menu");return Rs(r,i=>({...i,items:i.items}))};var B4=Object.freeze({__proto__:null,get ToolbarMode(){return Fc},get ToolbarLocation(){return Ov},register:OT,getSkinUrl:ab,getSkinUrlOption:n=>E.from(n.options.get("skin_url")),isReadOnly:RT,isDisabled:Op,getSkin:O4,isSkinDisabled:g1,getHeightOption:u1,getWidthOption:Rw,getMinWidthOption:Rv,getMinHeightOption:cg,getMaxWidthOption:Ju,getMaxHeightOption:v4,getUserStyleFormats:NT,shouldMergeStyleFormats:y4,shouldAutoHideStyleFormats:dg,getLineHeightFormats:Lw,getContentLanguages:Nw,getRemovedMenuItems:MT,isMenubarEnabled:Pw,isMultipleToolbars:Bv,isToolbarEnabled:Mv,isToolbarPersist:IT,getMultipleToolbarsOption:Fw,getUiContainer:zw,useFixedContainer:ib,isSplitUiMode:Sf,getToolbarMode:Rp,isDraggableModal:A4,isDistractionFree:M4,isStickyToolbar:lb,getStickyToolbarOffset:PT,getToolbarLocation:Mw,isToolbarLocationBottom:R4,getToolbarGroups:w4,getMenus:Iv,getMenubar:LT,getToolbar:m1,getFilePickerCallback:Bw,getFilePickerTypes:FT,useTypeaheadUrls:k4,getAnchorTop:S4,getAnchorBottom:E4,getFilePickerValidatorHandler:Nv,getFontSizeInputDefaultUnit:C4,useStatusBar:zT,useElementPath:Iw,promotionEnabled:D4,useBranding:T4,getResize:HT,getPasteAsText:VT,getSidebarShow:$T,useHelpAccessibility:UT,getDefaultFontStack:ZT});const I4=["visible","hidden","clip"],jT=n=>Eu(n).length>0&&!ut(I4,n),WT=n=>{if(Gn(n)){const r=za(n,"overflow-x"),i=za(n,"overflow-y");return jT(r)||jT(i)}return!1},qT=n=>n.plugins.fullscreen&&n.plugins.fullscreen.isFullscreen(),Np=(n,r)=>Sf(n)?((i,l)=>{const u=Qd(l,WT),m=u.length===0?xm(l).map(td).map(p=>Qd(p,WT)).getOr([]):u;return At(m).map(p=>({element:p,others:m.slice(1),isFullscreen:()=>qT(i)}))})(n,r):E.none(),Mp=n=>{const r=[...Ce(n.others,xr),Ws()];return n.isFullscreen()?Ws():((i,l)=>Uo(l,(u,m)=>fh(u,m),i))(xr(n.element),r)},{entries:P4,setPrototypeOf:GT,isFrozen:cM,getPrototypeOf:dM,getOwnPropertyDescriptor:uM}=Object;let{freeze:sc,seal:gu,create:L4}=Object,{apply:F4,construct:z4}=typeof Reflect<"u"&&Reflect;sc||(sc=function(n){return n}),gu||(gu=function(n){return n}),F4||(F4=function(n,r,i){return n.apply(r,i)}),z4||(z4=function(n,r){return new n(...r)});const Hw=Sl(Array.prototype.forEach),mM=Sl(Array.prototype.lastIndexOf),KT=Sl(Array.prototype.pop),fu=Sl(Array.prototype.push),gM=Sl(Array.prototype.splice),Vw=Sl(String.prototype.toLowerCase),Ef=Sl(String.prototype.toString),H4=Sl(String.prototype.match),Pv=Sl(String.prototype.replace),Bp=Sl(String.prototype.indexOf),fM=Sl(String.prototype.trim),em=Sl(Object.prototype.hasOwnProperty),kr=Sl(RegExp.prototype.test),cb=(V4=TypeError,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return z4(V4,r)});var V4;function Sl(n){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return F4(n,r,l)}}function fs(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vw;GT&&GT(n,null);let l=r.length;for(;l--;){let u=r[l];if(typeof u=="string"){const m=i(u);m!==u&&(cM(r)||(r[l]=m),u=m)}n[u]=!0}return n}function $w(n){for(let r=0;r<n.length;r++)em(n,r)||(n[r]=null);return n}function ug(n){const r=L4(null);for(const[i,l]of P4(n))em(n,i)&&(Array.isArray(l)?r[i]=$w(l):l&&typeof l=="object"&&l.constructor===Object?r[i]=ug(l):r[i]=l);return r}function Lv(n,r){for(;n!==null;){const i=uM(n,r);if(i){if(i.get)return Sl(i.get);if(typeof i.value=="function")return Sl(i.value)}n=dM(n)}return function(){return null}}const YT=sc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),db=sc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fv=sc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),XT=sc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Uw=sc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),QT=sc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),JT=sc(["#text"]),Zw=sc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),jw=sc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),e6=sc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ww=sc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pM=gu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$4=gu(/<%[\w\W]*|[\w\W]*%>/gm),hM=gu(/\$\{[\w\W]*/gm),zv=gu(/^data-[\-\w.\u00B7-\uFFFF]+$/),qw=gu(/^aria-[\-\w]+$/),U4=gu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),t6=gu(/^(?:\w+script|data):/i),bM=gu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),o6=gu(/^html$/i),xM=gu(/^[a-z][.\w]*(-[.\w]+)+$/i);var n6=Object.freeze({__proto__:null,ARIA_ATTR:qw,ATTR_WHITESPACE:bM,CUSTOM_ELEMENT:xM,DATA_ATTR:zv,DOCTYPE_NAME:o6,ERB_EXPR:$4,IS_ALLOWED_URI:U4,IS_SCRIPT_OR_DATA:t6,MUSTACHE_EXPR:pM,TMPLIT_EXPR:hM});const Z4=function(){return typeof window>"u"?null:window};var s6=function n(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Z4();const i=Me=>n(Me);if(i.version="3.2.6",i.removed=[],!r||!r.document||r.document.nodeType!==9||!r.Element)return i.isSupported=!1,i;let{document:l}=r;const u=l,m=u.currentScript,{DocumentFragment:p,HTMLTemplateElement:x,Node:v,Element:_,NodeFilter:S,NamedNodeMap:k=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:A,DOMParser:M,trustedTypes:I}=r,G=_.prototype,j=Lv(G,"cloneNode"),W=Lv(G,"remove"),V=Lv(G,"nextSibling"),$=Lv(G,"childNodes"),Y=Lv(G,"parentNode");if(typeof x=="function"){const Me=l.createElement("template");Me.content&&Me.content.ownerDocument&&(l=Me.content.ownerDocument)}let J,de="";const{implementation:ce,createNodeIterator:he,createDocumentFragment:Ne,getElementsByTagName:$e}=l,{importNode:Ue}=u;let qe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};i.isSupported=typeof P4=="function"&&typeof Y=="function"&&ce&&ce.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:lt,ERB_EXPR:Wt,TMPLIT_EXPR:eo,DATA_ATTR:no,ARIA_ATTR:Po,IS_SCRIPT_OR_DATA:Tn,ATTR_WHITESPACE:es,CUSTOM_ELEMENT:ro}=n6;let{IS_ALLOWED_URI:zn}=n6,po=null;const bs=fs({},[...YT,...db,...Fv,...Uw,...JT]);let Sn=null;const la=fs({},[...Zw,...jw,...e6,...Ww]);let ls=Object.seal(L4(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tl=null,ci=null,Zi=!0,Bf=!0,Ib=!1,uC=!0,im=!1,P1=!0,vg=!1,L1=!1,F1=!1,If=!1,Kp=!1,z1=!1,Pb=!0,B2=!1,Lb=!0,Yp=!1,hn={},Vc=null;const ki=fs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let g7=null;const Fb=fs({},["audio","video","img","source","image","track"]);let kE=null;const mC=fs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),gC="http://www.w3.org/1998/Math/MathML",fC="http://www.w3.org/2000/svg",Pf="http://www.w3.org/1999/xhtml";let H1=Pf,SE=!1,I2=null;const EE=fs({},[gC,fC,Pf],Ef);let zb=fs({},["mi","mo","mn","ms","mtext"]),pC=fs({},["annotation-xml"]);const $c=fs({},["title","style","font","a","script"]);let P2=null;const _P=["application/xhtml+xml","text/html"];let Si=null,V1=null;const CP=l.createElement("form"),f7=function(Me){return Me instanceof RegExp||Me instanceof Function},AE=function(){let Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!V1||V1!==Me){if(Me&&typeof Me=="object"||(Me={}),Me=ug(Me),P2=_P.indexOf(Me.PARSER_MEDIA_TYPE)===-1?"text/html":Me.PARSER_MEDIA_TYPE,Si=P2==="application/xhtml+xml"?Ef:Vw,po=em(Me,"ALLOWED_TAGS")?fs({},Me.ALLOWED_TAGS,Si):bs,Sn=em(Me,"ALLOWED_ATTR")?fs({},Me.ALLOWED_ATTR,Si):la,I2=em(Me,"ALLOWED_NAMESPACES")?fs({},Me.ALLOWED_NAMESPACES,Ef):EE,kE=em(Me,"ADD_URI_SAFE_ATTR")?fs(ug(mC),Me.ADD_URI_SAFE_ATTR,Si):mC,g7=em(Me,"ADD_DATA_URI_TAGS")?fs(ug(Fb),Me.ADD_DATA_URI_TAGS,Si):Fb,Vc=em(Me,"FORBID_CONTENTS")?fs({},Me.FORBID_CONTENTS,Si):ki,Tl=em(Me,"FORBID_TAGS")?fs({},Me.FORBID_TAGS,Si):ug({}),ci=em(Me,"FORBID_ATTR")?fs({},Me.FORBID_ATTR,Si):ug({}),hn=!!em(Me,"USE_PROFILES")&&Me.USE_PROFILES,Zi=Me.ALLOW_ARIA_ATTR!==!1,Bf=Me.ALLOW_DATA_ATTR!==!1,Ib=Me.ALLOW_UNKNOWN_PROTOCOLS||!1,uC=Me.ALLOW_SELF_CLOSE_IN_ATTR!==!1,im=Me.SAFE_FOR_TEMPLATES||!1,P1=Me.SAFE_FOR_XML!==!1,vg=Me.WHOLE_DOCUMENT||!1,If=Me.RETURN_DOM||!1,Kp=Me.RETURN_DOM_FRAGMENT||!1,z1=Me.RETURN_TRUSTED_TYPE||!1,F1=Me.FORCE_BODY||!1,Pb=Me.SANITIZE_DOM!==!1,B2=Me.SANITIZE_NAMED_PROPS||!1,Lb=Me.KEEP_CONTENT!==!1,Yp=Me.IN_PLACE||!1,zn=Me.ALLOWED_URI_REGEXP||U4,H1=Me.NAMESPACE||Pf,zb=Me.MATHML_TEXT_INTEGRATION_POINTS||zb,pC=Me.HTML_INTEGRATION_POINTS||pC,ls=Me.CUSTOM_ELEMENT_HANDLING||{},Me.CUSTOM_ELEMENT_HANDLING&&f7(Me.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ls.tagNameCheck=Me.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Me.CUSTOM_ELEMENT_HANDLING&&f7(Me.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ls.attributeNameCheck=Me.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Me.CUSTOM_ELEMENT_HANDLING&&typeof Me.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ls.allowCustomizedBuiltInElements=Me.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),im&&(Bf=!1),Kp&&(If=!0),hn&&(po=fs({},JT),Sn=[],hn.html===!0&&(fs(po,YT),fs(Sn,Zw)),hn.svg===!0&&(fs(po,db),fs(Sn,jw),fs(Sn,Ww)),hn.svgFilters===!0&&(fs(po,Fv),fs(Sn,jw),fs(Sn,Ww)),hn.mathMl===!0&&(fs(po,Uw),fs(Sn,e6),fs(Sn,Ww))),Me.ADD_TAGS&&(po===bs&&(po=ug(po)),fs(po,Me.ADD_TAGS,Si)),Me.ADD_ATTR&&(Sn===la&&(Sn=ug(Sn)),fs(Sn,Me.ADD_ATTR,Si)),Me.ADD_URI_SAFE_ATTR&&fs(kE,Me.ADD_URI_SAFE_ATTR,Si),Me.FORBID_CONTENTS&&(Vc===ki&&(Vc=ug(Vc)),fs(Vc,Me.FORBID_CONTENTS,Si)),Lb&&(po["#text"]=!0),vg&&fs(po,["html","head","body"]),po.table&&(fs(po,["tbody"]),delete Tl.tbody),Me.TRUSTED_TYPES_POLICY){if(typeof Me.TRUSTED_TYPES_POLICY.createHTML!="function")throw cb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Me.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw cb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');J=Me.TRUSTED_TYPES_POLICY,de=J.createHTML("")}else J===void 0&&(J=function(Lo,xo){if(typeof Lo!="object"||typeof Lo.createPolicy!="function")return null;let Cs=null;const Ys="data-tt-policy-suffix";xo&&xo.hasAttribute(Ys)&&(Cs=xo.getAttribute(Ys));const jn="dompurify"+(Cs?"#"+Cs:"");try{return Lo.createPolicy(jn,{createHTML:Ei=>Ei,createScriptURL:Ei=>Ei})}catch{return console.warn("TrustedTypes policy "+jn+" could not be created."),null}}(I,m)),J!==null&&typeof de=="string"&&(de=J.createHTML(""));sc&&sc(Me),V1=Me}},p7=fs({},[...db,...Fv,...XT]),h7=fs({},[...Uw,...QT]),yg=function(Me){fu(i.removed,{element:Me});try{Y(Me).removeChild(Me)}catch{W(Me)}},Hb=function(Me,Lo){try{fu(i.removed,{attribute:Lo.getAttributeNode(Me),from:Lo})}catch{fu(i.removed,{attribute:null,from:Lo})}if(Lo.removeAttribute(Me),Me==="is")if(If||Kp)try{yg(Lo)}catch{}else try{Lo.setAttribute(Me,"")}catch{}},TE=function(Me){let Lo=null,xo=null;if(F1)Me="<remove></remove>"+Me;else{const jn=H4(Me,/^[\r\n\t ]+/);xo=jn&&jn[0]}P2==="application/xhtml+xml"&&H1===Pf&&(Me='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Me+"</body></html>");const Cs=J?J.createHTML(Me):Me;if(H1===Pf)try{Lo=new M().parseFromString(Cs,P2)}catch{}if(!Lo||!Lo.documentElement){Lo=ce.createDocument(H1,"template",null);try{Lo.documentElement.innerHTML=SE?de:Cs}catch{}}const Ys=Lo.body||Lo.documentElement;return Me&&xo&&Ys.insertBefore(l.createTextNode(xo),Ys.childNodes[0]||null),H1===Pf?$e.call(Lo,vg?"html":"body")[0]:vg?Lo.documentElement:Ys},b7=function(Me){return he.call(Me.ownerDocument||Me,Me,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT|S.SHOW_PROCESSING_INSTRUCTION|S.SHOW_CDATA_SECTION,null)},DE=function(Me){return Me instanceof A&&(typeof Me.nodeName!="string"||typeof Me.textContent!="string"||typeof Me.removeChild!="function"||!(Me.attributes instanceof k)||typeof Me.removeAttribute!="function"||typeof Me.setAttribute!="function"||typeof Me.namespaceURI!="string"||typeof Me.insertBefore!="function"||typeof Me.hasChildNodes!="function")},x7=function(Me){return typeof v=="function"&&Me instanceof v};function wg(Me,Lo,xo){Hw(Me,Cs=>{Cs.call(i,Lo,xo,V1)})}const hC=function(Me){let Lo=null;if(wg(qe.beforeSanitizeElements,Me,null),DE(Me))return yg(Me),!0;const xo=Si(Me.nodeName);if(wg(qe.uponSanitizeElement,Me,{tagName:xo,allowedTags:po}),P1&&Me.hasChildNodes()&&!x7(Me.firstElementChild)&&kr(/<[/\w!]/g,Me.innerHTML)&&kr(/<[/\w!]/g,Me.textContent)||Me.nodeType===7||P1&&Me.nodeType===8&&kr(/<[/\w]/g,Me.data))return yg(Me),!0;if(!po[xo]||Tl[xo]){if(!Tl[xo]&&v7(xo)&&(ls.tagNameCheck instanceof RegExp&&kr(ls.tagNameCheck,xo)||ls.tagNameCheck instanceof Function&&ls.tagNameCheck(xo)))return!1;if(Lb&&!Vc[xo]){const Cs=Y(Me)||Me.parentNode,Ys=$(Me)||Me.childNodes;if(Ys&&Cs)for(let jn=Ys.length-1;jn>=0;--jn){const Ei=j(Ys[jn],!0);Ei.__removalCount=(Me.__removalCount||0)+1,Cs.insertBefore(Ei,V(Me))}}return yg(Me),!0}return Me instanceof _&&!function(Cs){let Ys=Y(Cs);Ys&&Ys.tagName||(Ys={namespaceURI:H1,tagName:"template"});const jn=Vw(Cs.tagName),Ei=Vw(Ys.tagName);return!!I2[Cs.namespaceURI]&&(Cs.namespaceURI===fC?Ys.namespaceURI===Pf?jn==="svg":Ys.namespaceURI===gC?jn==="svg"&&(Ei==="annotation-xml"||zb[Ei]):!!p7[jn]:Cs.namespaceURI===gC?Ys.namespaceURI===Pf?jn==="math":Ys.namespaceURI===fC?jn==="math"&&pC[Ei]:!!h7[jn]:Cs.namespaceURI===Pf?!(Ys.namespaceURI===fC&&!pC[Ei])&&!(Ys.namespaceURI===gC&&!zb[Ei])&&!h7[jn]&&($c[jn]||!p7[jn]):!(P2!=="application/xhtml+xml"||!I2[Cs.namespaceURI]))}(Me)?(yg(Me),!0):xo!=="noscript"&&xo!=="noembed"&&xo!=="noframes"||!kr(/<\/no(script|embed|frames)/i,Me.innerHTML)?(im&&Me.nodeType===3&&(Lo=Me.textContent,Hw([lt,Wt,eo],Cs=>{Lo=Pv(Lo,Cs," ")}),Me.textContent!==Lo&&(fu(i.removed,{element:Me.cloneNode()}),Me.textContent=Lo)),wg(qe.afterSanitizeElements,Me,null),!1):(yg(Me),!0)},bC=function(Me,Lo,xo){if(Pb&&(Lo==="id"||Lo==="name")&&(xo in l||xo in CP))return!1;if(!(Bf&&!ci[Lo]&&kr(no,Lo))){if(!(Zi&&kr(Po,Lo))){if(!Sn[Lo]||ci[Lo]){if(!(v7(Me)&&(ls.tagNameCheck instanceof RegExp&&kr(ls.tagNameCheck,Me)||ls.tagNameCheck instanceof Function&&ls.tagNameCheck(Me))&&(ls.attributeNameCheck instanceof RegExp&&kr(ls.attributeNameCheck,Lo)||ls.attributeNameCheck instanceof Function&&ls.attributeNameCheck(Lo))||Lo==="is"&&ls.allowCustomizedBuiltInElements&&(ls.tagNameCheck instanceof RegExp&&kr(ls.tagNameCheck,xo)||ls.tagNameCheck instanceof Function&&ls.tagNameCheck(xo))))return!1}else if(!kE[Lo]){if(!kr(zn,Pv(xo,es,""))){if((Lo!=="src"&&Lo!=="xlink:href"&&Lo!=="href"||Me==="script"||Bp(xo,"data:")!==0||!g7[Me])&&!(Ib&&!kr(Tn,Pv(xo,es,"")))){if(xo)return!1}}}}}return!0},v7=function(Me){return Me!=="annotation-xml"&&H4(Me,ro)},xC=function(Me){wg(qe.beforeSanitizeAttributes,Me,null);const{attributes:Lo}=Me;if(!Lo||DE(Me))return;const xo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Sn,forceKeepAttr:void 0};let Cs=Lo.length;for(;Cs--;){const Ys=Lo[Cs],{name:jn,namespaceURI:Ei,value:Xp}=Ys,lm=Si(jn),vC=Xp;let ji=jn==="value"?vC:fM(vC);if(xo.attrName=lm,xo.attrValue=ji,xo.keepAttr=!0,xo.forceKeepAttr=void 0,wg(qe.uponSanitizeAttribute,Me,xo),ji=xo.attrValue,!B2||lm!=="id"&&lm!=="name"||(Hb(jn,Me),ji="user-content-"+ji),P1&&kr(/((--!?|])>)|<\/(style|title)/i,ji)){Hb(jn,Me);continue}if(xo.forceKeepAttr)continue;if(!xo.keepAttr){Hb(jn,Me);continue}if(!uC&&kr(/\/>/i,ji)){Hb(jn,Me);continue}im&&Hw([lt,Wt,eo],Wi=>{ji=Pv(ji,Wi," ")});const OE=Si(Me.nodeName);if(bC(OE,lm,ji)){if(J&&typeof I=="object"&&typeof I.getAttributeType=="function"&&!Ei)switch(I.getAttributeType(OE,lm)){case"TrustedHTML":ji=J.createHTML(ji);break;case"TrustedScriptURL":ji=J.createScriptURL(ji)}if(ji!==vC)try{Ei?Me.setAttributeNS(Ei,jn,ji):Me.setAttribute(jn,ji),DE(Me)?yg(Me):KT(i.removed)}catch{Hb(jn,Me)}}else Hb(jn,Me)}wg(qe.afterSanitizeAttributes,Me,null)},Vb=function Me(Lo){let xo=null;const Cs=b7(Lo);for(wg(qe.beforeSanitizeShadowDOM,Lo,null);xo=Cs.nextNode();)wg(qe.uponSanitizeShadowNode,xo,null),hC(xo),xC(xo),xo.content instanceof p&&Me(xo.content);wg(qe.afterSanitizeShadowDOM,Lo,null)};return i.sanitize=function(Me){let Lo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xo=null,Cs=null,Ys=null,jn=null;if(SE=!Me,SE&&(Me="<!-->"),typeof Me!="string"&&!x7(Me)){if(typeof Me.toString!="function")throw cb("toString is not a function");if(typeof(Me=Me.toString())!="string")throw cb("dirty is not a string, aborting")}if(!i.isSupported)return Me;if(L1||AE(Lo),i.removed=[],typeof Me=="string"&&(Yp=!1),Yp){if(Me.nodeName){const lm=Si(Me.nodeName);if(!po[lm]||Tl[lm])throw cb("root node is forbidden and cannot be sanitized in-place")}}else if(Me instanceof v)xo=TE("<!---->"),Cs=xo.ownerDocument.importNode(Me,!0),Cs.nodeType===1&&Cs.nodeName==="BODY"||Cs.nodeName==="HTML"?xo=Cs:xo.appendChild(Cs);else{if(!If&&!im&&!vg&&Me.indexOf("<")===-1)return J&&z1?J.createHTML(Me):Me;if(xo=TE(Me),!xo)return If?null:z1?de:""}xo&&F1&&yg(xo.firstChild);const Ei=b7(Yp?Me:xo);for(;Ys=Ei.nextNode();)hC(Ys),xC(Ys),Ys.content instanceof p&&Vb(Ys.content);if(Yp)return Me;if(If){if(Kp)for(jn=Ne.call(xo.ownerDocument);xo.firstChild;)jn.appendChild(xo.firstChild);else jn=xo;return(Sn.shadowroot||Sn.shadowrootmode)&&(jn=Ue.call(u,jn,!0)),jn}let Xp=vg?xo.outerHTML:xo.innerHTML;return vg&&po["!doctype"]&&xo.ownerDocument&&xo.ownerDocument.doctype&&xo.ownerDocument.doctype.name&&kr(o6,xo.ownerDocument.doctype.name)&&(Xp="<!DOCTYPE "+xo.ownerDocument.doctype.name+`>
`+Xp),im&&Hw([lt,Wt,eo],lm=>{Xp=Pv(Xp,lm," ")}),J&&z1?J.createHTML(Xp):Xp},i.setConfig=function(){AE(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),L1=!0},i.clearConfig=function(){V1=null,L1=!1},i.isValidAttribute=function(Me,Lo,xo){V1||AE({});const Cs=Si(Me),Ys=Si(Lo);return bC(Cs,Ys,xo)},i.addHook=function(Me,Lo){typeof Lo=="function"&&fu(qe[Me],Lo)},i.removeHook=function(Me,Lo){if(Lo!==void 0){const xo=mM(qe[Me],Lo);return xo===-1?void 0:gM(qe[Me],xo,1)[0]}return KT(qe[Me])},i.removeHooks=function(Me){qe[Me]=[]},i.removeAllHooks=function(){qe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},i}();const j4=n=>s6().sanitize(n);var qa=tinymce.util.Tools.resolve("tinymce.util.I18n");const vM={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},W4="temporary-placeholder",q4=n=>()=>Jt(n,W4).getOr("!not found!"),G4=(n,r)=>{const i=n.toLowerCase();if(qa.isRtl()){const l=((u,m)=>Hd(u,m)?u:((p,x)=>p+x)(u,m))(i,"-rtl");return rn(r,l)?l:i}return i},r6=(n,r)=>Jt(r,G4(n,r)),K4=(n,r)=>{const i=r();return r6(n,i).getOrThunk(q4(i))},a6=()=>uo("add-focusable",[is(n=>{hc(n.element,"svg").each(r=>io(r,"focusable","false"))})]),i6=(n,r,i,l)=>{var u,m,p;const x=(_=>!!qa.isRtl()&&rn(vM,_))(r)?["tox-icon--flip"]:[],v=Jt(i,G4(r,i)).or(l).getOrThunk(q4(i));return{dom:{tag:n.tag,attributes:(u=n.attributes)!==null&&u!==void 0?u:{},classes:n.classes.concat(x),innerHtml:v},behaviours:xt([...(m=n.behaviours)!==null&&m!==void 0?m:[],a6()]),eventOrder:(p=n.eventOrder)!==null&&p!==void 0?p:{}}},El=(n,r,i,l=E.none())=>i6(r,n,i(),l),l6={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Gw=wl({name:"Notification",factory:n=>{const r=Ae("notification-text"),i=Mn({dom:bf(`<p id=${r}>${j4(n.backstageProvider.translate(n.text))}</p>`),behaviours:xt([So.config({})])}),l=k=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${k}%`}}}),u=k=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${k}%`}}),m=Mn({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},u(0)],behaviours:xt([So.config({})])}),p={updateProgress:(k,A)=>{k.getSystem().isConnected()&&m.getOpt(k).each(M=>{So.set(M,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(A)]},u(A)])})},updateText:(k,A)=>{if(k.getSystem().isConnected()){const M=i.get(k);So.set(M,[Ds(A)])}}},x=ks([n.icon.toArray(),[n.level],E.from(l6[n.level]).toArray()]),v=Mn(ja.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[El("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:xt([un.config({}),hs.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:k=>{n.onAction(k)}})),_=((k,A,M)=>{const I=M(),G=P(k,j=>rn(I,G4(j,I)));return i6({tag:"div",classes:["tox-notification__icon"]},G.getOr(W4),I,E.none())})(x,0,n.iconProvider),S=[_,{dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:xt([So.config({})])}];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":r},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},behaviours:xt([un.config({}),bo.config({}),Gt.config({mode:"special",onEscape:k=>(n.onAction(k),E.some(!0))})]),components:S.concat(n.progress?[m.asSpec()]:[]).concat([v.asSpec()]),apis:p}},configFields:[zi("level","info",["success","error","warning","warn","info"]),dt("progress"),Rn("icon"),dt("onAction"),dt("text"),dt("iconProvider"),dt("backstageProvider")],apis:{updateProgress:(n,r,i)=>{n.updateProgress(r,i)},updateText:(n,r,i)=>{n.updateText(r,i)}}});var yM=(n,r,i,l)=>{const u=r.backstage.shared,m=()=>Ft(n.queryCommandValue("ToggleView")===""?n.getContentAreaContainer():n.getContainer()),p=()=>{const v=xr(m());return E.some(v)},x=v=>{p().each(_=>{bt(v,S=>{fn(S.element,"width"),Pn(S.element)>_.width&&ko(S.element,"width",_.width+"px")})})};return{open:(v,_,S)=>{const k=()=>{l.on(I=>{_();const G=S();(j=>{So.remove(j,A),M()})(I),((j,W)=>{ul(j.element).length===0?((V,$)=>{Bs.hide(V),l.clear(),$&&n.focus()})(j,W):((V,$)=>{$&&Gt.focusIn(V)})(j,W)})(I,G)})},A=Ua(Gw.sketch({text:v.text,level:ut(["success","error","warning","warn","info"],v.type)?v.type:void 0,progress:v.progressBar===!0,icon:v.icon,onAction:k,iconProvider:u.providers.icons,backstageProvider:u.providers}));if(l.isSet()){const I=Jl(A);l.on(G=>{So.append(G,I),Bs.reposition(G),A.hasConfigured(Ms)&&Ms.refresh(G),x(G.components())})}else{const I=Ua(Bs.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:xt([Gt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),So.config({}),...lb(n)&&u.header.isPositionedAtTop()?[]:[Ms.config({contextual:{lazyContext:()=>E.some(xr(m())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:V=>Np(n,V.element).map($=>({bounds:Mp($),optScrollEnv:E.some({currentScrollTop:$.element.dom.scrollTop,scrollElmTop:Nr($.element).top})})).getOrThunk(()=>({bounds:Ws(),optScrollEnv:E.none()}))})]])})),G=Jl(A),j={maxHeightFunction:ef()},W={...u.anchors.banner(),overrides:j};l.set(I),i.add(I),Bs.showWithinBounds(I,G,{anchor:W},p)}Bt(v.timeout)&&v.timeout>0&&sb.setEditorTimeout(n,()=>{k()},v.timeout);const M=()=>{l.on(I=>{Bs.reposition(I),I.hasConfigured(Ms)&&Ms.refresh(I),x(I.components())})};return{close:k,reposition:M,text:I=>{Gw.updateText(A,I)},settings:v,getEl:()=>A.element.dom,progressBar:{value:I=>{Gw.updateProgress(A,I)}}}},close:v=>{v.close()},getArgs:v=>v.settings}},Hv;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Hv||(Hv={}));var pu=Hv;const Y4="tox-menu-nav__js",Kw="tox-collection__item",c6="tox-swatch",wM={normal:Y4,color:c6},Yw="tox-collection__item--enabled",Xw="tox-collection__item-icon",X4="tox-collection__item-label",Vv="tox-collection__item-caret",f1="tox-collection__item--active",d6="tox-collection__item-container",u6="tox-collection__item-container--row",m6=n=>Jt(wM,n).getOr(Y4),_M=n=>n==="color"?"tox-swatches":"tox-menu",Q4=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:_M(n),tieredMenu:"tox-tiered-menu"}),Af=n=>{const r=Q4(n);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:m6(n)}},CM=(n,r,i)=>{const l=Q4(i);return{tag:"div",classes:ks([[l.menu,`tox-menu-${r}-column`],n?[l.hasIcons]:[]])}},kM=[vf.parts.items({})],p1=(n,r,i)=>{const l=Q4(i);return{dom:{tag:"div",classes:ks([[l.tieredMenu]])},markers:Af(i)}},Ip=Ae("refetch-trigger-event"),g6=Ae("redirect-menu-item-interaction"),f6="tox-menu__searcher",ub=n=>rs(n.element,`.${f6}`).bind(r=>n.getSystem().getByDom(r).toOptional()),J4=ub,p6=n=>({fetchPattern:Ht.getValue(n),selectionStart:n.element.dom.selectionStart,selectionEnd:n.element.dom.selectionEnd}),$v=n=>{const r=(u,m)=>(m.cut(),E.none()),i=(u,m)=>{const p={interactionEvent:m.event,eventType:m.event.raw.type};return Kt(u,g6,p),E.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[Kw]},components:[_f.sketch({inputClasses:[f6,"tox-textfield"],inputAttributes:{...n.placeholder.map(u=>({placeholder:n.i18n(u)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:xt([uo(l,[Ye(md(),u=>{Ko(u,Ip)}),Ye(_c(),(u,m)=>{m.event.raw.key==="Escape"&&m.stop()})]),Gt.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,Gt.name()]}})]}},Qw="tox-collection--results__js",e3=n=>{var r;return n.dom?{...n,dom:{...n.dom,attributes:{...(r=n.dom.attributes)!==null&&r!==void 0?r:{},id:Ae("aria-item-search-result-id"),"aria-selected":"false"}}}:n},t3="Use arrow keys to navigate.",Uv=(n,r)=>i=>{const l=Ve(i,r);return Ce(l,u=>({dom:n,components:u}))},mg=(n,r)=>{const i=[];let l=[];return bt(n,(u,m)=>{r(u,m)?(l.length>0&&i.push(l),l=[],(rn(u.dom,"innerHtml")||u.components&&u.components.length>0)&&l.push(u)):l.push(u)}),l.length>0&&i.push(l),Ce(i,u=>({dom:{tag:"div",classes:["tox-collection__group"]},components:u}))},tm=(n,r,i)=>vf.parts.items({preprocess:l=>{const u=Ce(l,i);return n!=="auto"&&n>1?Uv({tag:"div",classes:["tox-collection__group"]},n)(u):mg(u,(m,p)=>r[p].type==="separator")}}),o3=(n,r,i=!0)=>{return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...(l=r,_n(l,u=>u.type==="widget")?{"aria-label":qa.translate(t3)}:{})}},components:[tm(n,r,gt)]};var l},gg=n=>_n(n,r=>"icon"in r&&r.icon!==void 0),om=n=>(console.error(Pu(n)),console.log(n),E.none()),n3=(n,r,i,l,u)=>{const m=(p=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[vf.parts.items({preprocess:x=>mg(x,(v,_)=>p[_].type==="separator")})]});var p;return{value:n,dom:m.dom,components:m.components,items:i}},Jw=(n,r,i,l,u)=>{if(u.menuType==="color"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":qa.translate(t3)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[vf.parts.items({preprocess:p!=="auto"?Uv({tag:"div",classes:["tox-swatches__row"]},p):gt})]}]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="imageselector"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[vf.parts.items({preprocess:p!=="auto"?Uv({tag:"div",classes:["tox-image-selector__row"]},p):gt})]}]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="normal"&&l==="auto"){const m=o3(l,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="normal"||u.menuType==="searchable"){const m=u.menuType!=="searchable"?o3(l,i):u.searchMode.searchMode==="search-with-field"?((p,x,v)=>{const _=Ae("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[$v({i18n:qa.translate,placeholder:v.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],Qw],attributes:{id:_}},components:[tm(p,x,e3)]}]}})(l,i,u.searchMode):((p,x)=>{const v=Ae("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Qw].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:v}},components:[tm(p,x,e3)]}})(l,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="listpreview"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[vf.parts.items({preprocess:Uv({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}return{value:n,dom:CM(r,l,u.menuType),components:kM,items:i}},Ks=Br("type"),mb=Br("name"),Zv=Br("label"),Ga=Br("text"),e_=Br("title"),s3=Br("icon"),SM=Br("url"),gb=Br("value"),EM=hl("fetch"),jv=hl("getSubmenuItems"),fb=hl("onAction"),h6=hl("onItemAction"),Tf=as("onSetup",()=>ue),AM=zs("name"),fg=zs("text"),r3=zs("role"),Nd=zs("icon"),Pp=zs("tooltip"),b6=zs("chevronTooltip"),Wv=zs("label"),t_=zs("shortcut"),x6=Ir("select"),pb=Ea("active",!1),TM=Ea("borderless",!1),hu=Ea("enabled",!0),o_=Ea("primary",!1),v6=n=>Le("columns",n),n_=Le("meta",{}),s_=as("onAction",ue),h1=n=>_s("type",n),r_=n=>yr("name","name",Em(()=>Ae(`${n}-name`)),vr),y6=[Ks,Ga,wc("level",["info","warn","error","success"]),s3,Le("url","")],DM=go(y6),OM=[Ks,Ga,hu,r_("button"),Nd,TM,ud("buttonType",["primary","secondary","toolbar"]),o_,_s("context","mode:design")],w6=go(OM),b1=[Ks,mb],bu=b1.concat([Wv]),_6=b1.concat([Zv,hu,_s("context","mode:design")]),RM=go(_6),NM=fl,C6=bu.concat([v6("auto"),_s("context","mode:design")]),a3=go(C6),i3=hh([gb,Ga,s3]),k6=bu.concat([_s("storageKey","default"),_s("context","mode:design")]),S6=go(k6),E6=vr,MM=go(bu),l3=vr,BM=b1.concat([_s("tag","textarea"),Br("scriptId"),Br("scriptUrl"),Ir("onFocus"),Vl("settings",void 0,J2)]),A6=b1.concat([_s("tag","textarea"),hl("init")]),T6=bh(n=>Ts("customeditor.old",pi(A6),n).orThunk(()=>Ts("customeditor.new",pi(BM),n))),x1=vr,Lp=[hu,fg,r3,t_,yr("value","value",Em(()=>Ae("menuitem-value")),Bi()),n_,_s("context","mode:design")],c3=go([Ks,mb].concat(Lp)),a_=fl,d3=[r_("button"),Nd,zi("align","end",["start","end"]),o_,hu,ud("buttonType",["primary","secondary"]),_s("context","mode:design")],u3=[...d3,Ga],i_=[wc("type",["submit","cancel","custom"]),...u3],D6=[wc("type",["menu"]),fg,Pp,Nd,si("items",c3),...d3],m3=[...d3,wc("type",["togglebutton"]),Pp,Nd,fg,Ea("active",!1)],O6=oi("type",{submit:i_,cancel:i_,custom:i_,menu:D6,togglebutton:m3}),IM=bu.concat([_s("context","mode:design")]),R6=go(IM),N6=Dm(ld),M6=n=>[Ks,Om("columns"),n],B6=[Ks,Br("html"),zi("presets","presentation",["presentation","document"]),as("onInit",ue),Ea("stretched",!1)],PM=go(B6),g3=bu.concat([Ea("border",!1),Ea("sandboxed",!0),Ea("streamContent",!1),Ea("transparent",!0)]),LM=go(g3),FM=vr,zM=go(b1.concat([zs("height")])),HM=go([Br("url"),qs("zoom"),qs("cachedWidth"),qs("cachedHeight")]),I6=bu.concat([zs("inputMode"),zs("placeholder"),Ea("maximized",!1),hu,_s("context","mode:design")]),VM=go(I6),qv=vr,P6=n=>[Ks,Zv,n,zi("align","start",["start","center","end"]),zs("for")],$M=[Ga,gb],UM=[Ga,si("items",vh(0,()=>l_))],l_=ph([go($M),go(UM)]),ZM=bu.concat([si("items",l_),hu,_s("context","mode:design")]),jM=go(ZM),WM=vr,qM=bu.concat([Li("items",[Ga,gb]),$l("size",1),hu,_s("context","mode:design")]),GM=go(qM),L6=vr,KM=bu.concat([Ea("constrain",!0),hu,_s("context","mode:design")]),YM=go(KM),F6=go([Br("width"),Br("height")]),z6=b1.concat([Zv,$l("min",0),$l("max",0)]),XM=go(z6),QM=Vg,H6=[Ks,si("header",vr),si("cells",Dm(vr))],JM=go(H6),V6=bu.concat([zs("placeholder"),Ea("maximized",!1),hu,_s("context","mode:design"),Fi("spellcheck",fl)]),$6=go(V6),f3=vr,eB=[_s("buttonType","default"),zs("text"),zs("tooltip"),zs("icon"),Vl("search",!1,ph([fl,go([zs("placeholder")])],n=>Et(n)?n?E.some({placeholder:E.none()}):E.none():E.some(n))),hl("fetch"),as("onSetup",()=>ue),_s("context","mode:design")],p3=go([Ks,...eB]),U6=n=>Ts("menubutton",p3,n),hb=[wc("type",["directory","leaf"]),e_,Br("id"),Fi("menu",p3),zs("customStateIcon"),zs("customStateIconTooltip")],Z6=go(hb),tB=hb.concat([si("children",vh(0,()=>cd("type",{directory:j6,leaf:Z6})))]),j6=go(tB),h3=cd("type",{directory:j6,leaf:Z6}),W6=[Ks,si("items",h3),Ir("onLeafAction"),Ir("onToggleExpand"),Lu("defaultExpandedIds",[],vr),zs("defaultSelectedId")],oB=go(W6),b3=bu.concat([zi("filetype","file",["image","media","file"]),hu,zs("picker_text"),_s("context","mode:design")]),nB=go(b3),sB=go([gb,n_]),bb=n=>yr("items","items",{tag:"required",process:{}},Dm(bh(r=>Ts(`Checking item of ${n}`,c_,r).fold(i=>Go.error(Pu(i)),i=>Go.value(i))))),c_=Am(()=>{return cd("type",{alertbanner:DM,bar:go((n=bb("bar"),[Ks,n])),button:w6,checkbox:RM,colorinput:S6,colorpicker:MM,dropzone:R6,grid:go(M6(bb("grid"))),iframe:LM,input:VM,listbox:jM,selectbox:GM,sizeinput:YM,slider:XM,textarea:$6,urlinput:nB,customeditor:T6,htmlpanel:PM,imagepreview:zM,collection:a3,label:go(P6(bb("label"))),table:JM,tree:oB,panel:G6});var n}),q6=[Ks,Le("classes",[]),si("items",c_)],G6=go(q6),rB=[r_("tab"),e_,si("items",c_)],aB=[Ks,Li("tabs",rB)],iB=go(aB),lB=u3,cB=O6,dB=go([Br("title"),Pi("body",cd("type",{panel:G6,tabpanel:iB})),_s("size","normal"),Lu("buttons",[],cB),Le("initialData",{}),as("onAction",ue),as("onChange",ue),as("onSubmit",ue),as("onClose",ue),as("onCancel",ue),as("onTabChange",ue)]),uB=go([wc("type",["cancel","custom"]),...lB]),mB=go([Br("title"),Br("url"),qs("height"),qs("width"),Rm("buttons",uB),as("onAction",ue),as("onCancel",ue),as("onClose",ue),as("onMessage",ue)]),x3=n=>ke(n)?[n].concat(Fo(Tr(n),x3)):We(n)?Fo(n,x3):[],v3=n=>Oe(n.type)&&Oe(n.name),K6={checkbox:NM,colorinput:E6,colorpicker:l3,dropzone:N6,input:qv,iframe:FM,imagepreview:HM,selectbox:L6,sizeinput:F6,slider:QM,listbox:WM,size:F6,textarea:f3,urlinput:sB,customeditor:x1,collection:i3,togglemenuitem:a_},gB=n=>{const r=(l=>Co(x3(l),v3))(n),i=Fo(r,l=>(u=>E.from(K6[u.type]))(l).fold(()=>[],u=>[Pi(l.name,u)]));return go(i)},Y6=n=>{var r;return{internalDialog:Ii(Ts("dialog",dB,n)),dataValidator:gB(n),initialData:(r=n.initialData)!==null&&r!==void 0?r:{}}},Fp={open:(n,r)=>{const i=Y6(r);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,r)=>n(Ii(Ts("dialog",mB,r))),redial:n=>Y6(n)},X6=go([Ks,fg]),fB=go([h1("autocompleteitem"),pb,hu,n_,gb,fg,Nd]),v1=[hu,Pp,Nd,fg,Tf,_s("context","mode:design")],Q6=go([Ks,fb,t_].concat(v1)),d_=n=>Ts("toolbarbutton",Q6,n),y3=[pb].concat(v1),pB=go(y3.concat([Ks,fb,t_])),J6=n=>Ts("ToggleButton",pB,n),Gv=[as("predicate",He),zi("scope","node",["node","editor"]),zi("position","selection",["node","selection","line"])],w3=v1.concat([h1("contextformbutton"),_s("align","end"),o_,fb,Sa("original",gt)]),hB=y3.concat([h1("contextformbutton"),_s("align","end"),o_,fb,Sa("original",gt)]),bB=v1.concat([h1("contextformbutton")]),xB=y3.concat([h1("contextformtogglebutton")]),_3=[Wv,si("commands",oi("type",{contextformbutton:w3,contextformtogglebutton:hB})),Fi("launch",oi("type",{contextformbutton:bB,contextformtogglebutton:xB})),as("onInput",ue),as("onSetup",ue)],vB=[...Gv,..._3,wc("type",["contextform"]),as("initValue",te("")),zs("placeholder")],yB=[...Gv,..._3,wc("type",["contextsliderform"]),as("initValue",te(0)),as("min",te(0)),as("max",te(100))],eD=[...Gv,..._3,wc("type",["contextsizeinputform"]),as("initValue",te({width:"",height:""}))],tD=oi("type",{contextform:vB,contextsliderform:yB,contextsizeinputform:eD}),wB=v1.concat([h1("contexttoolbarbutton")]),_B=go([h1("contexttoolbar"),hi("launch",wB),Pi("items",ph([vr,hh([zs("name"),zs("label"),si("items",vr)])]))].concat(Gv)),CB=n=>({name:n.name.getOrUndefined(),label:n.label.getOrUndefined(),items:n.items}),rc=[Ks,Br("src"),zs("alt"),Lu("classes",[],vr)],xu=go(rc),oD=[Ks,Ga,AM,Lu("classes",["tox-collection__item-label"],vr)],C3=go(oD),u_=Am(()=>cd("type",{cardimage:xu,cardtext:C3,cardcontainer:m_})),m_=go([Ks,_s("direction","horizontal"),_s("align","left"),_s("valign","middle"),si("items",u_)]),kB=go([Ks,Wv,si("items",u_),Tf,s_].concat(Lp)),nD=go([Ks,pb,Nd,Wv].concat(Lp)),y1=[Ks,Br("fancytype"),s_],SB=[Le("initData",{})].concat(y1),g_=[Ir("select"),a0("initData",{},[Ea("allowCustomColors",!0),_s("storageKey","default"),Rm("colors",Bi())])].concat(y1),k3=[Ir("select"),ni("initData",[Om("columns"),Lu("items",[],Bi())])].concat(y1),sD=oi("fancytype",{inserttable:SB,colorswatch:g_,imageselect:k3}),Kv=go([Ks,pb,SM,Wv,Pp].concat(Lp)),EB=go([Ks,pb,s3,Zv,Pp,gb].concat(Lp)),AB=go([Ks,Tf,s_,Nd].concat(Lp)),nm=go([Ks,jv,Tf,Nd].concat(Lp)),ac=go([Ks,Nd,pb,Tf,fb].concat(Lp)),Yv=go([Nd,Pp,as("onShow",ue),as("onHide",ue),Tf]),ic=go([Ks,Pi("items",ph([hh([mb,si("items",vr)]),vr]))].concat(v1)),TB=go([Ks,Pp,b6,Nd,fg,x6,EM,Tf,zi("presets","normal",["normal","color","listpreview"]),v6(1),fb,h6,_s("context","mode:design")]),us=[fg,Nd,zs("tooltip"),zi("buttonType","secondary",["primary","secondary"]),Ea("borderless",!1),hl("onAction"),_s("context","mode:design")],rD={button:[...us,Ga,wc("type",["button"])],togglebutton:[...us,Ea("active",!1),wc("type",["togglebutton"])]},Df=[wc("type",["group"]),Lu("buttons",[],oi("type",rD))],Xv=oi("type",{...rD,group:Df}),aD=go([Lu("buttons",[],Xv),hl("onShow"),hl("onHide")]),Qv=(n,r,i)=>{const l=ea(n.element,"."+i);if(l.length>0){const u=Qs(l,m=>{const p=m.dom.getBoundingClientRect().top,x=l[0].dom.getBoundingClientRect().top;return Math.abs(p-x)>r}).getOr(l.length);return E.some({numColumns:u,numRows:Math.ceil(l.length/u)})}return E.none()},w1=n=>((r,i)=>xt([uo(r,i)]))(Ae("unnamed-events"),n),iD=n=>Qt.config({disabled:n,disableClass:"tox-collection__item--state-disabled"}),_1=n=>Qt.config({disabled:n}),Jv=n=>Qt.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1}),xb=(n,r)=>{const i=n.getApi(r);return l=>{l(i)}},vu=(n,r)=>is(i=>{ot(n.onBeforeSetup)&&n.onBeforeSetup(i),xb(n,i)(l=>{const u=n.onSetup(l);ot(u)&&r.set(u)})}),Of=(n,r)=>Dc(i=>xb(n,i)(r.get())),f_=(n,r,i)=>Dc(l=>(i.set(Ht.getValue(l)),xb(n,l)(r.get()))),e2="silver.uistate",t2="setDisabled",lD="init",DB=["switchmode",lD],o2=(n,r)=>{const i=n.mainUi.outerContainer,l=[n.mainUi.mothership,...n.uiMotherships];r===t2&&bt(l,u=>{u.broadcastOn([lu()],{target:i.element})}),bt(l,u=>{u.broadcastOn([e2],r)})},cD=(n,r)=>{n.on("init SwitchMode",i=>{o2(r,i.type)}),n.on("DisabledStateChange",i=>{if(!i.isDefaultPrevented()){const l=i.state?t2:lD;o2(r,l),i.state||n.nodeChanged()}}),n.on("NodeChange",i=>{const l=n.ui.isEnabled()?i.type:t2;o2(r,l)}),RT(n)&&n.mode.set("readonly")},mr=n=>rl.config({channels:{[e2]:{onReceive:(r,i)=>{if(i===t2||i==="setEnabled")return void Qt.set(r,i===t2);const{contextType:l,shouldDisable:u}=n();(l!=="mode"||ut(DB,i))&&Qt.set(r,u)}}}}),OB=(n,r)=>Oc((i,l)=>{xb(n,i)(n.onAction),n.triggersSubmenu||r!==pu.CLOSE_ON_EXECUTE||(i.getSystem().isConnected()&&Ko(i,yh()),l.stop())}),RB={[tl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},C1=cl,k1=(n,r,i,l)=>{const u=Nt(ue);return{type:"item",dom:r.dom,components:C1(r.optComponents),data:n.data,eventOrder:RB,hasSubmenu:n.triggersSubmenu,itemBehaviours:xt([uo("item-events",[OB(n,i),vu(n,u),Of(n,u)]),iD(()=>!n.enabled||l.checkUiComponentContext(n.context).shouldDisable),mr(()=>l.checkUiComponentContext(n.context)),So.config({})].concat(n.itemBehaviours))}},zp=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),n2=(n,r)=>{var i,l;const u=Es("div");return ws(u,"tox-image-selector-loading-spinner"),{dom:{tag:n.tag,attributes:(i=n.attributes)!==null&&i!==void 0?i:{},classes:n.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:r},classes:["tox-image-selector-image-img"]}}]},...n.checkMark.toArray()],behaviours:xt([...(l=n.behaviours)!==null&&l!==void 0?l:[],uo("render-image-events",[is(m=>{var p;p=m.element,ws(p,"tox-image-selector-loading-spinner-wrapper"),Ri(p,u),rs(m.element,"img").each(x=>{Ig(x).catch(v=>{console.error(v)}).finally(()=>{(v=>{on(v,"tox-image-selector-loading-spinner-wrapper"),qd(u)})(m.element)})})})])])}},S3=n=>{const r=Rd.os.isMacOS()||Rd.os.isiOS(),i=r?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=n.split("+"),u=Ce(l,m=>{const p=m.toLowerCase().trim();return rn(i,p)?i[p]:m});return r?u.join(""):u.join("+")},E3=(n,r,i=[Xw])=>El(n,{tag:"div",classes:i},r),A3=n=>({dom:{tag:"div",classes:[X4]},components:[Ds(qa.translate(n))]}),T3=(n,r)=>({dom:{tag:"div",classes:r,innerHtml:n}}),D3=(n,r)=>({dom:{tag:"div",classes:[X4]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Ds(qa.translate(r))]}]}),dD=n=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Ds(S3(n))]}),O3=n=>E3("checkmark",n,["tox-collection__item-checkmark"]),R3=(n,r)=>{const i=n.map(l=>({attributes:{id:Ae("menu-item"),"aria-label":qa.translate(l)}})).getOr({});return{tag:"div",classes:[Y4,Kw].concat(r),...i}},uD=n=>({dom:{tag:"label"},components:[Ds(n)]}),vb=(n,r,i,l=E.none())=>n.presets==="color"?((u,m,p)=>{const x=u.value,v=u.iconContent.map(S=>((k,A,M)=>{const I=A();return r6(k,I).or(M).getOrThunk(q4(I))})(S,m.icons,p)),_=u.ariaLabel.map(S=>({"aria-label":m.translate(S),"data-mce-name":S})).getOr({});return{dom:(()=>{const S=c6,k=v.getOr(""),A={tag:"div",attributes:_,classes:[S]};return x==="custom"?{...A,tag:"button",classes:[...A.classes,"tox-swatches__picker-btn"],innerHtml:k}:x==="remove"?{...A,classes:[...A.classes,"tox-swatch--remove"],innerHtml:k}:ye(x)?{...A,attributes:{...A.attributes,"data-mce-color":x},styles:{"background-color":x},innerHtml:k}:A})(),optComponents:[]}})(n,r,l):n.presets==="img"?(u=>{var m,p;return{dom:R3(u.ariaLabel,["tox-collection__item-image-selector"]),optComponents:[E.some((m=u.iconContent.getOrDie(),p={tag:"div",classes:["tox-collection__item-image"],checkMark:u.checkMark},n2(p,m))),u.labelContent.map(uD)]}})(n):((u,m,p,x)=>{const v={tag:"div",classes:[Xw]},_=p?u.iconContent.map(M=>El(M,v,m.icons,x)).orThunk(()=>E.some({dom:v})):E.none(),S=u.checkMark,k=E.from(u.meta).fold(()=>A3,M=>rn(M,"style")?ln(D3,M.style):A3),A=u.htmlContent.fold(()=>u.textContent.map(k),M=>E.some(T3(M,[X4])));return{dom:R3(u.ariaLabel,[]),optComponents:[_,A,u.shortcutContent.map(dD),S,u.caret,u.labelContent.map(uD)]}})(n,r,i,l),mD=(n,r,i)=>Jt(n,"tooltipWorker").map(l=>[hs.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:ef}}),mode:"follow-highlight",onShow:(u,m)=>{l(p=>{hs.setComponents(u,[XC({element:Ft(p)})])})}})]).getOrThunk(()=>i.map(l=>[hs.config({...r.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),gD=(n,r)=>{const i=(l=>d1.DOM.encode(l))(qa.translate(n));if(r.length>0){const l=new RegExp((u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(r),"gi");return i.replace(l,u=>`<span class="tox-autocompleter-highlight">${u}</span>`)}return i},N3=(n,r)=>Ce(n,i=>{switch(i.type){case"cardcontainer":return((m,p)=>{const x=m.direction==="vertical"?"tox-collection__item-container--column":u6,v=m.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[d6,x,v,(()=>{switch(m.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(i,N3(i.items,r));case"cardimage":return((m,p,x)=>({dom:{tag:"img",classes:p,attributes:{src:m,alt:x.getOr("")}}}))(i.src,i.classes,i.alt);case"cardtext":const l=i.name.exists(m=>ut(r.cardText.highlightOn,m)),u=l?E.from(r.cardText.matchText).getOr(""):"";return T3(gD(i.text,u),i.classes)}}),Md=(n,r,i,l,u,m,p,x=!0)=>{const v=vb({presets:i,textContent:r?n.text:E.none(),htmlContent:E.none(),labelContent:n.label,ariaLabel:n.text,iconContent:n.icon,shortcutContent:r?n.shortcut:E.none(),checkMark:r?E.some(O3(p.icons)):E.none(),caret:E.none(),value:n.value},p,x),_=n.text.filter(te(!r)).map(S=>hs.config(p.tooltips.getConfig({tooltipText:p.translate(S)})));return vs(k1({context:n.context,data:zp(n),enabled:n.enabled,getApi:S=>({setActive:k=>{an.set(S,k)},isActive:()=>an.isOn(S),isEnabled:()=>!Qt.isDisabled(S),setEnabled:k=>Qt.set(S,!k)}),onAction:S=>l(n.value),onSetup:S=>(S.setActive(u),ue),triggersSubmenu:!1,itemBehaviours:[..._.toArray()]},v,m,p),{toggling:{toggleClass:Yw,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},fD=n=>({value:pD(n)}),p_=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,M3=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,B3=n=>p_.test(n)||M3.test(n),pD=n=>os(n,"#").toUpperCase(),h_=n=>{const r=n.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},yb=n=>{const r=h_(n.red)+h_(n.green)+h_(n.blue);return fD(r)},wb=(n,r,i)=>({hue:n,saturation:r,value:i}),I3=n=>{let r=0,i=0,l=0;const u=n.red/255,m=n.green/255,p=n.blue/255,x=Math.min(u,Math.min(m,p)),v=Math.max(u,Math.max(m,p));return x===v?(l=x,wb(0,0,100*l)):(r=u===x?3:p===x?1:5,r=60*(r-(u===x?m-p:p===x?u-m:p-u)/(v-x)),i=(v-x)/v,l=v,wb(Math.round(r),Math.round(100*i),Math.round(100*l)))},hD=Math.min,bD=Math.max,b_=Math.round,NB=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,MB=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,S1=(n,r,i,l)=>({red:n,green:r,blue:i,alpha:l}),x_=n=>{const r=parseInt(n,10);return r.toString()===n&&r>=0&&r<=255},P3=n=>{let r,i,l;const u=(n.hue||0)%360;let m=n.saturation/100,p=n.value/100;if(m=bD(0,hD(m,1)),p=bD(0,hD(p,1)),m===0)return r=i=l=b_(255*p),S1(r,i,l,1);const x=u/60,v=p*m,_=v*(1-Math.abs(x%2-1)),S=p-v;switch(Math.floor(x)){case 0:r=v,i=_,l=0;break;case 1:r=_,i=v,l=0;break;case 2:r=0,i=v,l=_;break;case 3:r=0,i=_,l=v;break;case 4:r=_,i=0,l=v;break;case 5:r=v,i=0,l=_;break;default:r=i=l=0}return r=b_(255*(r+S)),i=b_(255*(i+S)),l=b_(255*(l+S)),S1(r,i,l,1)},_b=n=>{const r=(m=>{const p=(v=>({value:v.value.replace(p_,(S,k,A,M)=>k+k+A+A+M+M)}))(m),x=M3.exec(p.value);return x===null?["FFFFFF","FF","FF","FF"]:x})(n),i=parseInt(r[1],16),l=parseInt(r[2],16),u=parseInt(r[3],16);return S1(i,l,u,1)},L3=(n,r,i,l)=>{const u=parseInt(n,10),m=parseInt(r,10),p=parseInt(i,10),x=parseFloat(l);return S1(u,m,p,x)},F3=n=>{const r=NB.exec(n);if(r!==null)return E.some(L3(r[1],r[2],r[3],"1"));const i=MB.exec(n);return i!==null?E.some(L3(i[1],i[2],i[3],i[4])):E.none()},xD=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,vD=S1(255,0,0,1),z3=n=>yb(P3(n)),Hp=(n,r)=>{n.dispatch("ResizeContent",r)},s2=(n,r)=>{n.dispatch("TextColorChange",r)},BB=(n,r)=>n.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),H3=n=>{n.dispatch("ContextToolbarClose")},r2=(n,r)=>()=>{n(),r()},Ci=(n,r=so)=>Rf(n,"NodeChange",i=>{i.setEnabled(n.selection.isEditable()&&r())}),a2=(n,r)=>i=>{const l=Ci(n)(i),u=((m,p)=>x=>{const v=Zr(),_=()=>{x.setActive(m.formatter.match(p));const S=m.formatter.formatChanged(p,x.setActive);v.set(S)};return m.initialized?_():m.once("init",_),()=>{m.off("init",_),v.clear()}})(n,r)(i);return()=>{l(),u()}},Rf=(n,r,i)=>l=>{const u=()=>i(l),m=()=>{i(l),n.on(r,u)};return n.initialized?m():n.once("init",m),()=>{n.off("init",m),n.off(r,u)}},v_=n=>r=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,r.format)})},lc=(n,r)=>()=>n.execCommand(r);var E1=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const yD={},V3=n=>Jt(yD,n).getOrThunk(()=>{const r=`tinymce-custom-colors-${n}`,i=E1.getItem(r);if(Je(i)){const u=E1.getItem("tinymce-custom-colors");E1.setItem(r,ye(u)?u:"[]")}const l=((u,m=10)=>{const p=E1.getItem(u),x=Oe(p)?JSON.parse(p):[],v=m-(_=x).length<0?_.slice(0,m):_;var _;const S=k=>{v.splice(k,1)};return{add:k=>{((A,M)=>{const I=da(A,M);return I===-1?E.none():E.some(I)})(v,k).each(S),v.unshift(k),v.length>m&&v.pop(),E1.setItem(u,JSON.stringify(v))},state:()=>v.slice(0)}})(r,10);return yD[n]=l,l}),$3=(n,r)=>{V3(n).add(r)},U3="forecolor",Z3="hilitecolor",j3=n=>{const r=[];for(let i=0;i<n.length;i+=2)r.push({text:n[i+1],value:n[i],icon:"checkmark",type:"choiceitem"});return r},sm=n=>r=>r.options.get(n),W3="#000000",y_=(n,r)=>r===U3&&n.options.isSet("color_map_foreground")?sm("color_map_foreground")(n):r===Z3&&n.options.isSet("color_map_background")?sm("color_map_background")(n):n.options.isSet("color_map_raw")?sm("color_map_raw")(n):sm("color_map")(n),q3=(n,r="default")=>Math.max(5,Math.ceil(Math.sqrt(y_(n,r).length))),wD=(n,r)=>{const i=sm("color_cols")(n),l=q3(n,r);return i===q3(n)?l:i},_D=(n,r="default")=>Math.round(r===U3?sm("color_cols_foreground")(n):r===Z3?sm("color_cols_background")(n):sm("color_cols")(n)),CD=sm("custom_colors"),kD=sm("color_default_foreground"),SD=sm("color_default_background"),ED=(n,r)=>{const i=Ft(n.selection.getStart()),l=r==="hilitecolor"?gh(i,u=>{if(jo(u)){const m=za(u,"background-color");return $s((p=>F3(p).exists(x=>x.alpha!==0))(m),m)}return E.none()}).getOr("rgba(0, 0, 0, 0)"):za(i,"color");return F3(l).map(u=>"#"+yb(u).value)},AD=n=>{const r="choiceitem",i={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},G3=(n,r,i,l)=>{i==="custom"?ND(n)(u=>{u.each(m=>{$3(r,m),n.execCommand("mceApplyTextcolor",r,m),l(m)})},ED(n,r).getOr(W3)):i==="remove"?(l(""),n.execCommand("mceRemoveTextcolor",r)):(l(i),n.execCommand("mceApplyTextcolor",r,i))},w_=(n,r,i)=>n.concat((l=>Ce(V3(l).state(),u=>({type:"choiceitem",text:u,icon:"checkmark",value:u})))(r).concat(AD(i))),TD=(n,r,i)=>l=>{l(w_(n,r,i))},K3=(n,r,i)=>{const l=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(l,i)},DD=(n,r)=>{n.setTooltip(r)},i2=(n,r)=>i=>{const l=ED(n,r);return $n(l,i.toUpperCase())},Y3=(n,r,i)=>{if(pc(i))return r==="forecolor"?"Text color":"Background color";const l=r==="forecolor"?"Text color {0}":"Background color {0}",u=w_(y_(n,r),r,!1),m=P(u,p=>p.value===i).getOr({text:""}).text;return n.translate([l,n.translate(m)])},OD=(n,r,i,l)=>{n.ui.registry.addSplitButton(r,{tooltip:Y3(n,i,l.get()),chevronTooltip:r==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:i2(n,i),columns:_D(n,i),fetch:TD(y_(n,i),i,CD(n)),onAction:u=>{G3(n,i,l.get(),ue)},onItemAction:(u,m)=>{G3(n,i,m,p=>{l.set(p),s2(n,{name:r,color:p})})},onSetup:u=>{K3(u,r,l.get());const m=p=>{p.name===r&&(K3(u,p.name,p.color),DD(u,Y3(n,i,p.color)))};return n.on("TextColorChange",m),r2(Ci(n)(u),()=>{n.off("TextColorChange",m)})}})},RD=(n,r,i,l,u)=>{n.ui.registry.addNestedMenuItem(r,{text:l,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:m=>(DD(m,Y3(n,i,u.get())),K3(m,r,u.get()),Ci(n)(m)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:i2(n,i),initData:{storageKey:i},onAction:m=>{G3(n,i,m.value,p=>{u.set(p),s2(n,{name:r,color:p})})}}]})},ND=n=>(r,i)=>{let l=!1;const u={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onAction:(m,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:m=>{const p=m.getData().colorpicker;l?(r(E.from(p)),m.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",p]))},onClose:ue,onCancel:()=>{r(E.none())}})},__=(n,r,i,l,u,m,p,x)=>{const v=gg(r),_=IB(r,i,l,u!=="color"?"normal":"color",m,p,x);return Jw(n,v,_,l,{menuType:u})},IB=(n,r,i,l,u,m,p)=>cl(Ce(n,x=>{return x.type==="choiceitem"?(v=x,Ts("choicemenuitem",nD,v)).fold(om,_=>E.some(Md(_,i===1,l,r,m(_.value),u,p,gg(n)))):x.type==="imageitem"?(_=>Ts("imagemenuitem",Kv,_))(x).fold(om,_=>E.some(((S,k,A,M,I)=>{const G=vb({presets:"img",textContent:E.none(),htmlContent:E.none(),ariaLabel:S.tooltip,iconContent:E.some(S.url),labelContent:S.label,shortcutContent:E.none(),checkMark:E.some(O3(I.icons)),caret:E.none(),value:S.value},I,!0),j=S.tooltip.map(W=>hs.config(I.tooltips.getConfig({tooltipText:I.translate(W)})));return vs(k1({context:S.context,data:zp(S),enabled:S.enabled,getApi:W=>({setActive:V=>{an.set(W,V)},isActive:()=>an.isOn(W),isEnabled:()=>!Qt.isDisabled(W),setEnabled:V=>Qt.set(W,!V)}),onAction:W=>{k(S.value),W.setActive(!0)},onSetup:W=>(W.setActive(A),ue),triggersSubmenu:!1,itemBehaviours:[...j.toArray()]},G,M,I),{toggling:{toggleClass:Yw,toggleOnExecute:!1,selected:S.active,exclusive:!0}})})(_,r,m(_.value),u,p))):x.type==="resetimage"?(_=>Ts("resetimageitem",EB,_))(x).fold(om,_=>E.some(Md({..._,text:_.tooltip,icon:E.some(_.icon),label:E.some(_.label)},i===1,l,r,m(_.value),u,p,gg(n)))):E.none();var v})),l2=(n,r)=>{const i=Af(r);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[r],previousSelector:l=>r==="color"?rs(l.element,"[aria-checked=true]"):E.none()}},MD=Ae("cell-over"),BD=Ae("cell-execute"),PB=(n,r,i)=>{const l=m=>Kt(m,BD,{row:n,col:r}),u=(m,p)=>{p.stop(),l(m)};return Ua({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:xt([uo("insert-table-picker-cell",[Ye(ri(),bo.focus),Ye(tl(),l),Ye(Bm(),u),Ye(zu(),u)]),an.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),bo.config({onFocus:m=>Kt(m,MD,{row:n,col:r})})])})},LB=n=>Fo(n,r=>Ce(r,Jl)),ID=(n,r)=>Ds(`${r}x${n}`),FB={inserttable:(n,r)=>{const i=(p=>(x,v)=>p.shared.providers.translate(["{0} columns, {1} rows",v,x]))(r),l=(p=>{const x=[];for(let v=0;v<10;v++){const _=[];for(let S=0;S<10;S++){const k=p(v+1,S+1);_.push(PB(v,S,k))}x.push(_)}return x})(i),u=ID(0,0),m=Mn({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[u],behaviours:xt([So.config({})])});return{type:"widget",data:{value:Ae("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Jk.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:LB(l).concat(m.asSpec()),behaviours:xt([uo("insert-table-picker",[is(p=>{So.set(m.get(p),[u])}),of(MD,(p,x,v)=>{const{row:_,col:S}=v.event;((k,A,M)=>{for(let I=0;I<10;I++)for(let G=0;G<10;G++)an.set(k[I][G],I<=A&&G<=M)})(l,_,S),So.set(m.get(p),[ID(_+1,S+1)])}),of(BD,(p,x,v)=>{const{row:_,col:S}=v.event;Ko(p,yh()),n.onAction({numRows:_+1,numColumns:S+1})})]),Gt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(n,r)=>{const i=((x,v)=>{const _=x.initData.allowCustomColors&&v.colorinput.hasCustomColors();return x.initData.colors.fold(()=>w_(v.colorinput.getColors(x.initData.storageKey),x.initData.storageKey,_),S=>S.concat(AD(_)))})(n,r),l=r.colorinput.getColorCols(n.initData.storageKey),u="color",m=__(Ae("menu-value"),i,x=>{n.onAction({value:x})},l,u,pu.CLOSE_ON_EXECUTE,n.select.getOr(He),r.shared.providers),p={...m,markers:Af(u),movement:l2(l,u),showMenuRole:!1};return{type:"widget",data:{value:Ae("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Jk.widget(vf.sketch(p))]}},imageselect:(n,r)=>{const i="imageselector",l=n.initData.columns,u=__(Ae("menu-value"),n.initData.items,p=>{n.onAction({value:p})},l,i,pu.CLOSE_ON_EXECUTE,n.select.getOr(He),r.shared.providers),m={...u,markers:Af(i),movement:l2(l,i),showMenuRole:!1};return{type:"widget",data:{value:Ae("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[Jk.widget(vf.sketch(m))]}}},C_=n=>({type:"separator",dom:{tag:"div",classes:[Kw,"tox-collection__group-heading"]},components:n.text.map(Ds).toArray()}),PD=(n,r,i)=>{J4(n).each(l=>{var u;((m,p)=>{Yr(p.element,"id").each(x=>io(m.element,"aria-activedescendant",x))})(l,i),(ur((u=r).element,Qw)?E.some(u.element):rs(u.element,"."+Qw)).each(m=>{Yr(m,"id").each(p=>io(l.element,"aria-controls",p))})}),io(i.element,"aria-selected","true")},zB=(n,r,i)=>{io(i.element,"aria-selected","false")},HB=n=>Cr.getExistingCoupled(n,"sandbox").bind(ub).map(p6).map(r=>r.fetchPattern).getOr("");var c2;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(c2||(c2={}));const VB=(n,r,i,l,u)=>{const m=i.shared.providers,p=v=>u?{...v,shortcut:E.none(),icon:v.text.isSome()?E.none():v.icon}:v;switch(n.type){case"menuitem":return(x=n,Ts("menuitem",AB,x)).fold(om,v=>E.some(((_,S,k,A=!0)=>{const M=vb({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:E.none(),labelContent:E.none(),ariaLabel:_.text,caret:E.none(),checkMark:E.none(),shortcutContent:_.shortcut},k,A);return k1({context:_.context,data:zp(_),getApi:I=>({isEnabled:()=>!Qt.isDisabled(I),setEnabled:G=>Qt.set(I,!G)}),enabled:_.enabled,onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},M,S,k)})(p(v),r,m,l)));case"nestedmenuitem":return(v=>Ts("nestedmenuitem",nm,v))(n).fold(om,v=>E.some(((_,S,k,A=!0,M=!1)=>{const I=M?(G=k.icons,E3("chevron-down",G,[Vv])):(W=>E3("chevron-right",W,[Vv]))(k.icons);var G;const j=vb({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:E.none(),ariaLabel:_.text,labelContent:E.none(),caret:E.some(I),checkMark:E.none(),shortcutContent:_.shortcut},k,A);return k1({context:_.context,data:zp(_),getApi:W=>({isEnabled:()=>!Qt.isDisabled(W),setEnabled:V=>Qt.set(W,!V),setIconFill:(V,$)=>{rs(W.element,`svg path[class="${V}"], rect[class="${V}"]`).each(Y=>{io(Y,"fill",$)})},setTooltip:V=>{const $=k.translate(V);io(W.element,"aria-label",$)}}),enabled:_.enabled,onAction:ue,onSetup:_.onSetup,triggersSubmenu:!0,itemBehaviours:[]},j,S,k)})(p(v),r,m,l,u)));case"togglemenuitem":return(v=>Ts("togglemenuitem",ac,v))(n).fold(om,v=>E.some(((_,S,k,A=!0)=>{const M=vb({iconContent:_.icon,textContent:_.text,htmlContent:E.none(),labelContent:E.none(),ariaLabel:_.text,checkMark:E.some(O3(k.icons)),caret:E.none(),shortcutContent:_.shortcut,presets:"normal",meta:_.meta},k,A);return vs(k1({context:_.context,data:zp(_),enabled:_.enabled,getApi:I=>({setActive:G=>{an.set(I,G)},isActive:()=>an.isOn(I),isEnabled:()=>!Qt.isDisabled(I),setEnabled:G=>Qt.set(I,!G)}),onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},M,S,k),{toggling:{toggleClass:Yw,toggleOnExecute:!1,selected:_.active},role:_.role.getOrUndefined()})})(p(v),r,m,l)));case"separator":return(v=>Ts("separatormenuitem",X6,v))(n).fold(om,v=>E.some(C_(v)));case"fancymenuitem":return(v=>Ts("fancymenuitem",sD,v))(n).fold(om,v=>((_,S)=>Jt(FB,_.fancytype).map(k=>k(_,S)))(v,i));default:return console.error("Unknown item in general menu",n),E.none()}var x},$B=(n,r,i,l,u,m,p)=>{const x=l===1,v=!x||gg(n);return cl(Ce(n,_=>{switch(_.type){case"separator":return(S=_,Ts("Autocompleter.Separator",X6,S)).fold(om,k=>E.some(C_(k)));case"cardmenuitem":return(k=>Ts("cardmenuitem",kB,k))(_).fold(om,k=>E.some(((A,M,I,G)=>{const j={dom:R3(A.label,[]),optComponents:[E.some({dom:{tag:"div",classes:[d6,u6]},components:N3(A.items,G)})]};return k1({context:"mode:design",data:zp({text:E.none(),...A}),enabled:A.enabled,getApi:W=>({isEnabled:()=>!Qt.isDisabled(W),setEnabled:V=>{Qt.set(W,!V),bt(ea(W.element,"*"),$=>{W.getSystem().getByDom($).each(Y=>{Y.hasConfigured(Qt)&&Qt.set(Y,!V)})})}}),onAction:A.onAction,onSetup:A.onSetup,triggersSubmenu:!1,itemBehaviours:E.from(G.itemBehaviours).getOr([])},j,M,I.providers)})({...k,onAction:A=>{k.onAction(A),i(k.value,k.meta)}},u,m,{itemBehaviours:mD(k.meta,m,E.none()),cardText:{matchText:r,highlightOn:p}})));default:return(k=>Ts("Autocompleter.Item",fB,k))(_).fold(om,k=>E.some(((A,M,I,G,j,W,V,$=!0)=>{const Y=vb({presets:G,textContent:E.none(),htmlContent:I?A.text.map(de=>gD(de,M)):E.none(),ariaLabel:A.text,labelContent:E.none(),iconContent:A.icon,shortcutContent:E.none(),checkMark:E.none(),caret:E.none(),value:A.value},V.providers,$,A.icon),J=A.text.filter(de=>!I&&de!=="");return k1({context:"mode:design",data:zp(A),enabled:A.enabled,getApi:te({}),onAction:de=>j(A.value,A.meta),onSetup:te(ue),triggersSubmenu:!1,itemBehaviours:mD(A,V,J)},Y,W,V.providers)})(k,r,x,"normal",i,u,m,v)))}var S}))},LD=(n,r,i,l,u,m)=>{const p=gg(r),x=cl(Ce(r,_=>{const S=k=>VB(k,i,l,(A=>u?!rn(A,"text"):p)(k),u);return _.type==="nestedmenuitem"&&_.getSubmenuItems().length<=0?S({..._,enabled:!1}):S(_)})),v=(_=>_.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:_})(m);return(u?n3:Jw)(n,p,x,1,v)},X3=n=>wf.singleData(n.value,n),UB=n=>X1(Ft(n.startContainer),n.startOffset,Ft(n.endContainer),n.endOffset),ZB=(n,r)=>{const i=Ae("autocompleter"),l=Nt(!1),u=Nt(!1),m=Fn(),p=Ua(Bs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:xt([uo("dismissAutocompleter",[Ye(Zg(),()=>k()),Ye(fx(),(I,G)=>{Yr(G.event.target,"id").each(j=>io(Ft(n.getBody()),"aria-activedescendant",j))})])]),lazySink:r.getSink})),x=()=>Bs.isOpen(p),v=u.get,_=()=>{if(x()){Bs.hide(p),n.dom.remove(i,!1);const I=Ft(n.getBody());Yr(I,"aria-owns").filter(G=>G===i).each(()=>{js(I,"aria-owns"),js(I,"aria-activedescendant")})}},S=()=>Bs.getContent(p).bind(I=>ct(I.components(),0)),k=()=>n.execCommand("mceAutocompleterClose"),A=I=>{const G=(j=>{const W=mn(j,V=>E.from(V.columns)).getOr(1);return Fo(j,V=>{const $=V.items;return $B($,V.matchText,(Y,J)=>{const de={hide:()=>k(),reload:ce=>{_(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:ce})}};n.execCommand("mceAutocompleterRefreshActiveRange"),m.get().each(ce=>{l.set(!0),V.onAction(de,ce,Y,J),l.set(!1)})},W,pu.BUBBLE_TO_SANDBOX,r,V.highlightOn)})})(I);G.length>0?(((j,W)=>{const V=mn(j,$=>E.from($.columns)).getOr(1);Bs.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>m.get().map(UB),root:Ft(n.getBody())}},(($,Y,J,de)=>{const ce=l2(Y,de),he=Af(de);return{data:X3({...$,movement:ce,menuBehaviours:w1(Y!=="auto"?[]:[is((Ne,$e)=>{Qv(Ne,4,he.item).each(({numColumns:Ue,numRows:qe})=>{Gt.setGridSize(Ne,qe,Ue)})})])}),menu:{markers:Af(de),fakeFocus:J===c2.ContentFocus}}})(Jw("autocompleter-value",!0,W,V,{menuType:"normal"}),V,c2.ContentFocus,"normal")),S().each(pn.highlightFirst)})(I,G),io(Ft(n.getBody()),"aria-owns",i),n.inline||M()):_()},M=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const I=n.getDoc().documentElement,G=n.selection.getNode(),j=(W=>tx(W,!0))(p.element);oe(j,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${G.offsetTop}px`,left:`${G.offsetLeft}px`}),n.dom.add(I,j.dom),rs(j,'[role="menu"]').each(W=>{fn(W,"position"),fn(W,"max-height")})};n.on("AutocompleterStart",({lookupData:I})=>{u.set(!0),l.set(!1),A(I)}),n.on("AutocompleterUpdate",({lookupData:I})=>A(I)),n.on("AutocompleterUpdateActiveRange",({range:I})=>m.set(I)),n.on("AutocompleterEnd",()=>{_(),u.set(!1),l.set(!1),m.clear()}),((I,G)=>{const j=(V,$)=>{Kt(V,_c(),{raw:$})},W=()=>I.getMenu().bind(pn.getHighlighted);G.on("keydown",V=>{const $=V.which;I.isActive()&&(I.isMenuOpen()?$===13?(W().each(Bh),V.preventDefault()):$===40?(W().fold(()=>{I.getMenu().each(pn.highlightFirst)},Y=>{j(Y,V)}),V.preventDefault(),V.stopImmediatePropagation()):$!==37&&$!==38&&$!==39||W().each(Y=>{j(Y,V),V.preventDefault(),V.stopImmediatePropagation()}):$!==13&&$!==38&&$!==40||I.cancelIfNecessary())}),G.on("NodeChange",()=>{!I.isActive()||I.isProcessingAction()||G.queryCommandState("mceAutoCompleterInRange")||I.cancelIfNecessary()})})({cancelIfNecessary:k,isMenuOpen:x,isActive:v,isProcessingAction:l.get,getMenu:S},n)};var Q3=tinymce.util.Tools.resolve("tinymce.html.Entities");const d2=(n,r,i,l)=>{const u=jB(n,r,i,l);return Yo.sketch(u)},jB=(n,r,i,l)=>({dom:FD(i),components:n.toArray().concat([r]),fieldBehaviours:xt(l)}),FD=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),Vp=(n,r)=>Yo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ds(r.translate(n))]}),Al=Ae("form-component-change"),zD=Ae("form-component-input"),u2=Ae("form-close"),$p=Ae("form-cancel"),pg=Ae("form-action"),m2=Ae("form-submit"),J3=Ae("form-block"),eS=Ae("form-unblock"),HD=Ae("form-tabchange"),VD=Ae("form-resize"),WB=(n,r,i)=>{const l=n.label.map(k=>Vp(k,r)),u=r.icons(),m=k=>(A,M)=>{gl(M.event.target,"[data-collection-item-value]").each(I=>{k(A,M,I,Eo(I,"data-collection-item-value"))})},p=m((k,A,M,I)=>{A.stop(),r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()||Kt(k,pg,{name:n.name,value:I})}),x=[Ye(ri(),m((k,A,M)=>{br(M,!0)})),Ye(Bm(),p),Ye(zu(),p),Ye(Zl(),m((k,A,M)=>{rs(k.element,"."+f1).each(I=>{on(I,f1)}),ws(M,f1)})),Ye(dx(),m(k=>{rs(k.element,"."+f1).each(A=>{on(A,f1),Ki(A)})})),Oc(m((k,A,M,I)=>{Kt(k,pg,{name:n.name,value:I})}))],v=(k,A)=>Ce(ea(k.element,".tox-collection__item"),A),_=Yo.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:gt},behaviours:xt([Qt.config({disabled:()=>r.checkUiComponentContext(n.context).shouldDisable,onDisabled:k=>{v(k,A=>{ws(A,"tox-collection__item--state-disabled"),io(A,"aria-disabled",!0)})},onEnabled:k=>{v(k,A=>{on(A,"tox-collection__item--state-disabled"),js(A,"aria-disabled")})}}),mr(()=>r.checkUiComponentContext(n.context)),So.config({}),hs.config({...r.tooltips.getConfig({tooltipText:"",onShow:k=>{rs(k.element,"."+f1+"[data-mce-tooltip]").each(A=>{Yr(A,"data-mce-tooltip").each(M=>{hs.setComponents(k,r.tooltips.getComponents({tooltipText:M}))})})}}),mode:"children-keyboard-focus",anchor:k=>({type:"node",node:rs(k.element,"."+f1).orThunk(()=>Zf(".tox-collection__item")),root:k.element,layouts:{onLtr:te([Fr,Lr,wr,Oa,Pr,Ra]),onRtl:te([Fr,Lr,wr,Oa,Pr,Ra])},bubble:ol(0,-2,{})})}),Ht.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(k,A)=>{((M,I)=>{const G=r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()?" tox-collection__item--state-disabled":"",j=Ce(I,$=>{const Y=qa.translate($.text),J=n.columns===1?`<div class="tox-collection__item-label">${Y}</div>`:"",de=`<div class="tox-collection__item-icon">${(Ne=>{var $e;return($e=u[Ne])!==null&&$e!==void 0?$e:Ne})($.icon)}</div>`,ce={_:" "," - ":" ","-":" "},he=Y.replace(/\_| \- |\-/g,Ne=>ce[Ne]);return`<div data-mce-tooltip="${he}" class="tox-collection__item${G}" tabindex="-1" data-collection-item-value="${Q3.encodeAllRaw($.value)}" aria-label="${he}">${de}${J}</div>`}),W=n.columns!=="auto"&&n.columns>1?Ve(j,n.columns):[j],V=Ce(W,$=>`<div class="tox-collection__group">${$.join("")}</div>`);Bg(M.element,V.join(""))})(k,A),n.columns==="auto"&&Qv(k,5,"tox-collection__item").each(({numRows:M,numColumns:I})=>{Gt.setGridSize(k,M,I)}),Ko(k,VD)}}),un.config({}),Gt.config((S=n.columns,S===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:S==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${Kw}`}})),uo("collection-events",x)]),eventOrder:{[tl()]:["disabling","alloy.base.behaviour","collection-events"],[Zl()]:["collection-events","tooltipping"]}});var S;return d2(l,_,["tox-form__group--collection"],[])},k_=Ae("color-input-change"),$D=Ae("color-swatch-change"),UD=Ae("color-picker-cancel"),Up=()=>yn.config({find:E.some}),A1=n=>yn.config({find:r=>ed(r.element,n).bind(i=>r.getSystem().getByDom(i).toOptional())}),ZD=go([Le("preprocess",gt),Le("postprocess",gt)]),qB=(n,r)=>{const i=Ha("RepresentingConfigs.memento processors",ZD,r);return Ht.config({store:{mode:"manual",getValue:l=>{const u=n.get(l),m=Ht.getValue(u);return i.postprocess(m)},setValue:(l,u)=>{const m=i.preprocess(u),p=n.get(l);Ht.setValue(p,m)}}})},T1=(n,r,i)=>Ht.config({store:{mode:"manual",...n.map(l=>({initialValue:l})).getOr({}),getValue:r,setValue:i}}),tS=(n,r,i)=>T1(n,l=>r(l.element),(l,u)=>i(l.element,u)),S_=n=>Ht.config({store:{mode:"memory",initialValue:n}}),oS=Ae("rgb-hex-update"),jD=Ae("slider-update"),WD=Ae("palette-update"),qD=Ae("valid-input"),GD=Ae("invalid-input"),KD=Ae("validating-input"),nS="colorcustom.rgb.",YD={isEnabled:so,setEnabled:ue,immediatelyShow:ue,immediatelyHide:ue},XD=(n,r,i,l,u,m)=>{const p=(M,I)=>{const G=I.get();M!==G.isEnabled()&&(G.setEnabled(M),M?G.immediatelyShow():G.immediatelyHide())},x=(M,I,G)=>Jm.config({invalidClass:r("invalid"),notify:{onValidate:j=>{Kt(j,KD,{type:M})},onValid:j=>{p(!1,G),Kt(j,qD,{type:M,value:Ht.getValue(j)})},onInvalid:j=>{p(!0,G),Kt(j,GD,{type:M,value:Ht.getValue(j)})}},validator:{validate:j=>{const W=Ht.getValue(j),V=I(W)?Go.value(!0):Go.error(n("aria.input.invalid"));return $r(V)},validateOnLoad:!1}}),v=(M,I,G,j,W)=>{const V=Nt(YD),$=n(nS+"range"),Y=Yo.parts.label({dom:{tag:"label"},components:[Ds(G)]}),J=Yo.parts.field({data:W,factory:_f,inputAttributes:{type:"text","aria-label":j,...I==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:xt([x(I,M,V),un.config({}),hs.config({...u({tooltipText:"",onSetup:Ue=>{V.set({isEnabled:()=>hs.isEnabled(Ue),setEnabled:qe=>hs.setEnabled(Ue,qe),immediatelyShow:()=>hs.immediateOpenClose(Ue,!0),immediatelyHide:()=>hs.immediateOpenClose(Ue,!1)}),hs.setEnabled(Ue,!1)},onShow:(Ue,qe)=>{hs.setComponents(Ue,[{dom:{tag:"p",classes:[r("rgb-warning-note")]},components:[Ds(n(I==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Ue=>{Jm.isInvalid(Ue)&&Jm.run(Ue).get(ue)}}),de=Ae("aria-invalid"),ce=Mn(m("invalid",E.some(de),"warning")),he=[Y,J,Mn({dom:{tag:"div",classes:[r("invalid-icon")]},components:[ce.asSpec()]}).asSpec()],Ne=I!=="hex"?[Yo.parts["aria-descriptor"]({text:$})]:[],$e=he.concat(Ne);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[r("rgb-container")]},components:$e}},_=(M,I)=>{const G=I.red,j=I.green,W=I.blue;Ht.setValue(M,{red:G,green:j,blue:W})},S=Mn({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),k=(M,I)=>{S.getOpt(M).each(G=>{ko(G.element,"background-color","#"+I.value)})};return wl({factory:()=>{const M={red:Nt(E.some(255)),green:Nt(E.some(255)),blue:Nt(E.some(255)),hex:Nt(E.some("ffffff"))},I=he=>M[he].get(),G=(he,Ne)=>{M[he].set(Ne)},j=he=>{const Ne=he.red,$e=he.green,Ue=he.blue;G("red",E.some(Ne)),G("green",E.some($e)),G("blue",E.some(Ue))},W=(he,Ne)=>{const $e=Ne.event;$e.type!=="hex"?G($e.type,E.none()):l(he)},V=(he,Ne)=>{const $e=Ne.event;(Ue=>Ue.type==="hex")($e)?((Ue,qe)=>{i(Ue);const lt=fD(qe);G("hex",E.some(lt.value));const Wt=_b(lt);_(Ue,Wt),j(Wt),Kt(Ue,oS,{hex:lt}),k(Ue,lt)})(he,$e.value):((Ue,qe,lt)=>{const Wt=parseInt(lt,10);G(qe,E.some(Wt)),I("red").bind(eo=>I("green").bind(no=>I("blue").map(Po=>S1(eo,no,Po,1)))).each(eo=>{const no=((Po,Tn)=>{const es=yb(Tn);return e1.getField(Po,"hex").each(ro=>{bo.isFocused(ro)||Ht.setValue(Po,{hex:es.value})}),es})(Ue,eo);Kt(Ue,oS,{hex:no}),k(Ue,no)})})(he,$e.type,$e.value)},$=he=>({label:n(nS+he+".label"),description:n(nS+he+".description")}),Y=$("red"),J=$("green"),de=$("blue"),ce=$("hex");return vs(e1.sketch(he=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[he.field("red",Yo.sketch(v(x_,"red",Y.label,Y.description,255))),he.field("green",Yo.sketch(v(x_,"green",J.label,J.description,255))),he.field("blue",Yo.sketch(v(x_,"blue",de.label,de.description,255))),he.field("hex",Yo.sketch(v(B3,"hex",ce.label,ce.description,"ffffff"))),S.asSpec()],formBehaviours:xt([Jm.config({invalidClass:r("form-invalid")}),uo("rgb-form-events",[Ye(qD,V),Ye(GD,W),Ye(KD,W)])])})),{apis:{updateHex:(he,Ne)=>{Ht.setValue(he,{hex:Ne.value}),(($e,Ue)=>{const qe=_b(Ue);_($e,qe),j(qe)})(he,Ne),k(he,Ne)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(M,I,G)=>{M.updateHex(I,G)}},extraApis:{}})},GB=(n,r,i,l)=>wl({name:"ColourPicker",configFields:[dt("dom"),Le("onValidHex",ue),Le("onInvalidHex",ue)],factory:m=>{const p=XD(n,r,m.onValidHex,m.onInvalidHex,i,l),x=((W,V)=>{const $=Od.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[V("sv-palette-spectrum")]}}),Y=Od.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[V("sv-palette-thumb")],innerHtml:`<div class=${V("sv-palette-inner-thumb")} role="presentation"></div>`}}),J=(ce,he)=>{const{width:Ne,height:$e}=ce,Ue=ce.getContext("2d");if(Ue===null)return;Ue.fillStyle=he,Ue.fillRect(0,0,Ne,$e);const qe=Ue.createLinearGradient(0,0,Ne,0);qe.addColorStop(0,"rgba(255,255,255,1)"),qe.addColorStop(1,"rgba(255,255,255,0)"),Ue.fillStyle=qe,Ue.fillRect(0,0,Ne,$e);const lt=Ue.createLinearGradient(0,0,0,$e);lt.addColorStop(0,"rgba(0,0,0,0)"),lt.addColorStop(1,"rgba(0,0,0,1)"),Ue.fillStyle=lt,Ue.fillRect(0,0,Ne,$e)};return wl({factory:ce=>{const he=te({x:0,y:0}),Ne=xt([yn.config({find:E.some}),bo.config({})]);return Od.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":W(["Saturation {0}%, Brightness {1}%",0,0])},classes:[V("sv-palette")]},model:{mode:"xy",getInitialValue:he},rounded:!1,components:[$,Y],onChange:($e,Ue,qe)=>{Bt(qe)||io($e.element,"aria-valuetext",W(["Saturation {0}%, Brightness {1}%",Math.floor(qe.x),Math.floor(100-qe.y)])),Kt($e,WD,{value:qe})},onInit:($e,Ue,qe,lt)=>{J(qe.element.dom,xD(vD))},sliderBehaviours:Ne})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ce,he,Ne)=>{(($e,Ue)=>{const qe=$e.components()[0].element.dom,lt=wb(Ue,100,100),Wt=P3(lt);J(qe,xD(Wt))})(he,Ne)},setThumb:(ce,he,Ne)=>{(($e,Ue)=>{const qe=I3(_b(Ue));Od.setValue($e,{x:qe.saturation,y:100-qe.value}),io($e.element,"aria-valuetext",W(["Saturation {0}%, Brightness {1}%",qe.saturation,qe.value]))})(he,Ne)}},extraApis:{}})})(n,r),v={paletteRgba:Nt(vD),paletteHue:Nt(0)},_=Mn(((W,V)=>{const $=Od.parts.spectrum({dom:{tag:"div",classes:[V("hue-slider-spectrum")],attributes:{role:"presentation"}}}),Y=Od.parts.thumb({dom:{tag:"div",classes:[V("hue-slider-thumb")],attributes:{role:"presentation"}}});return Od.sketch({dom:{tag:"div",classes:[V("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:te(0)},components:[$,Y],sliderBehaviours:xt([bo.config({})]),onChange:(J,de,ce)=>{io(J.element,"aria-valuenow",Math.floor(360-3.6*ce)),Kt(J,jD,{value:ce})}})})(0,r)),S=Mn(x.sketch({})),k=Mn(p.sketch({})),A=(W,V,$)=>{S.getOpt(W).each(Y=>{x.setHue(Y,$)})},M=(W,V)=>{k.getOpt(W).each($=>{p.updateHex($,V)})},I=(W,V,$)=>{_.getOpt(W).each(Y=>{Od.setValue(Y,(J=>100-J/360*100)($))})},G=(W,V)=>{S.getOpt(W).each($=>{x.setThumb($,V)})},j=(W,V,$,Y)=>{((J,de)=>{const ce=_b(J);v.paletteRgba.set(ce),v.paletteHue.set(de)})(V,$),bt(Y,J=>{J(W,V,$)})};return{uid:m.uid,dom:m.dom,components:[S.asSpec(),_.asSpec(),k.asSpec()],behaviours:xt([uo("colour-picker-events",[Ye(oS,(()=>{const W=[A,I,G];return(V,$)=>{const Y=$.event.hex,J=(de=>I3(_b(de)))(Y);j(V,Y,J.hue,W)}})()),Ye(WD,(()=>{const W=[M];return(V,$)=>{const Y=$.event.value,J=v.paletteHue.get(),de=wb(J,Y.x,100-Y.y),ce=z3(de);j(V,ce,J,W)}})()),Ye(jD,(()=>{const W=[A,M];return(V,$)=>{const Y=(Ne=>(100-Ne)/100*360)($.event.value),J=v.paletteRgba.get(),de=I3(J),ce=wb(Y,de.saturation,de.value),he=z3(ce);j(V,he,Y,W)}})())]),yn.config({find:W=>k.getOpt(W)}),Gt.config({mode:"acyclic"})])}}}),QD={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var JD=tinymce.util.Tools.resolve("tinymce.Resource");const sS=n=>rn(n,"init");var hg=tinymce.util.Tools.resolve("tinymce.util.Tools");const rS=Ae("browse.files.event"),KB=(n,r,i)=>{const l=(_,S)=>{S.stop()},u=_=>(S,k)=>{bt(_,A=>{A(S,k)})},m=Mn({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:xt([uo("input-file-events",[bd(Bm()),bd(zu())])])}),p=n.label.map(_=>Vp(_,r)),x=Yo.parts.field({factory:ja,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ds(r.translate("Browse for an image")),m.asSpec()],action:_=>{m.get(_).element.dom.click()},buttonBehaviours:xt([Up(),S_(i.getOr([])),un.config({}),_1(()=>r.checkUiComponentContext(n.context).shouldDisable),mr(()=>r.checkUiComponentContext(n.context))])}),v={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:xt([Qt.config({disabled:()=>r.checkUiComponentContext(n.context).shouldDisable}),mr(()=>r.checkUiComponentContext(n.context)),an.config({toggleClass:"dragenter",toggleOnExecute:!1}),uo("dropzone-events",[Ye("dragenter",u([l,an.toggle])),Ye("dragleave",u([l,an.toggle])),Ye("dragover",l),Ye("drop",u([l,(_,S)=>{var k;if(!Qt.isDisabled(_)){const A=S.event.raw;Kt(_,rS,{files:(k=A.dataTransfer)===null||k===void 0?void 0:k.files})}}])),Ye(Mm(),(_,S)=>{const k=S.event.raw.target;Kt(_,rS,{files:k.files})})])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ds(r.translate("Drop an image here"))]},x]}]};return d2(p,v,["tox-form__group--stretched"],[uo("handle-files",[Ye(rS,(_,S)=>{Yo.getField(_).each(k=>{var A,M;A=k,(M=S.event.files)&&(Ht.setValue(A,((I,G)=>{const j=hg.explode(G.getOption("images_file_types"));return Co(Wn(I),W=>_n(j,V=>Hd(W.name.toLowerCase(),`.${V.toLowerCase()}`)))})(M,r)),Kt(A,Al,{name:n.name}))})})])])},aS=Ae("alloy-fake-before-tabstop"),iS=Ae("alloy-fake-after-tabstop"),E_=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:xt([bo.config({ignore:!0}),un.config({})])}),lS=(n,r)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[E_([aS]),r,E_([iS])],behaviours:xt([A1(1)])}),eO=(n,r)=>{Kt(n,_c(),{raw:{which:9,shiftKey:r}})},tO=(n,r)=>{const i=r.element;ur(i,aS)?eO(n,!0):ur(i,iS)&&eO(n,!1)},g2=n=>uh(n,["."+aS,"."+iS].join(","),He),A_=Ae("update-dialog"),oO=Ae("update-title"),cS=Ae("update-body"),dS=Ae("update-footer"),uS=Ae("body-send-message"),T_=Ae("dialog-focus-shifted"),mS=we().browser,f2=mS.isSafari(),YB=mS.isFirefox(),nO=f2||YB,XB=mS.isChromium(),QB=({scrollTop:n,scrollHeight:r,clientHeight:i})=>Math.ceil(n)+i>=r,sO=(n,r)=>n.scrollTo(0,r==="bottom"?99999999:r),rO=(n,r,i)=>{const l=n.dom;E.from(l.contentDocument).fold(i,u=>{let m=0;const p=((v,_)=>{const S=v.body;return E.from(!/^<!DOCTYPE (html|HTML)/.test(_)&&(!XB&&!f2||ye(S)&&(S.scrollTop!==0||Math.abs(S.scrollHeight-S.clientHeight)>1))?S:v.documentElement)})(u,r).map(v=>(m=v.scrollTop,v)).forall(QB),x=()=>{const v=l.contentWindow;ye(v)&&(p?sO(v,"bottom"):!p&&nO&&m!==0&&sO(v,m))};f2&&l.addEventListener("load",x,{once:!0}),u.open(),u.write(r),u.close(),f2||x()})},JB=$s(nO,f2?500:200).map(n=>((r,i)=>{let l=null,u=null;return{cancel:()=>{tt(l)||(clearTimeout(l),l=null,u=null)},throttle:(...m)=>{u=m,tt(l)&&(l=setTimeout(()=>{const p=u;l=null,u=null,r.apply(null,p)},i))}}})(rO,n)),gS=Ae("toolbar.button.execute"),Nf=Ae("common-button-display-events"),aO={[tl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Cc()]:["toolbar-button-events",Nf],[ou()]:["toolbar-button-events","dropdown-events","tooltipping"],[el()]:["focusing","alloy.base.behaviour",Nf]},fS=n=>ko(n.element,"width",za(n.element,"width")),iO=(n,r,i)=>El(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},r),pS=(n,r)=>iO(n,r,[]),Zp=(n,r)=>iO(n,r,[So.config({})]),p2=(n,r,i)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[Ds(i.translate(n))],behaviours:xt([So.config({})])}),zc=Ae("update-menu-text"),D1=Ae("update-menu-icon"),lO=Ae("update-tooltip-text"),hS=(n,r,i,l)=>{const u=Nt(ue),m=Nt(n.tooltip),p=n.text.map(j=>Mn(p2(j,r,i.providers))),x=n.icon.map(j=>Mn(Zp(j,i.providers.icons))),v=(j,W)=>{const V=Ht.getValue(j);return bo.focus(V),Kt(V,"keydown",{raw:W.event.raw}),nc.close(V),E.some(!0)},_=n.role.fold(()=>({}),j=>({role:j})),S=E.from(n.listRole).map(j=>({listRole:j})).getOr({}),k=n.ariaLabel.fold(()=>({}),j=>({"aria-label":i.providers.translate(j)})),A=El("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},i.providers.icons),M=Ae("common-button-display-events"),I="dropdown-events";return Mn(nc.sketch({...n.uid?{uid:n.uid}:{},..._,...S,dom:{tag:"button",classes:[r,`${r}--select`].concat(Ce(n.classes,j=>`${r}--${j}`)),attributes:{...k,...ye(l)?{"data-mce-name":l}:{}}},components:C1([x.map(j=>j.asSpec()),p.map(j=>j.asSpec()),E.some(A)]),matchWidth:!0,useMinWidth:!0,onOpen:(j,W,V)=>{n.searchable&&($=>{J4($).each(Y=>bo.focus(Y))})(V)},dropdownBehaviours:xt([...n.dropdownBehaviours,_1(()=>n.disabled||i.providers.checkUiComponentContext(n.context).shouldDisable),mr(()=>i.providers.checkUiComponentContext(n.context)),fv.config({}),So.config({}),...n.tooltip.map(j=>hs.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(j),onShow:W=>{if(Rl(m.get(),n.tooltip,(V,$)=>$!==V).getOr(!1)){const V=i.providers.translate(m.get().getOr(""));hs.setComponents(W,i.providers.tooltips.getComponents({tooltipText:V}))}}}))).toArray(),uo(I,[vu(n,u),Of(n,u)]),uo(M,[is((j,W)=>{n.listRole!=="listbox"&&fS(j)})]),uo("update-dropdown-width-variable",[Ye(Wl(),(j,W)=>nc.close(j))]),uo("menubutton-update-display-text",[Ye(zc,(j,W)=>{p.bind(V=>V.getOpt(j)).each(V=>{So.set(V,[Ds(i.providers.translate(W.event.text))])})}),Ye(D1,(j,W)=>{x.bind(V=>V.getOpt(j)).each(V=>{So.set(V,[Zp(W.event.icon,i.providers.icons)])})}),Ye(lO,(j,W)=>{const V=i.providers.translate(W.event.text);io(j.element,"aria-label",V),m.set(E.some(W.event.text))})])]),eventOrder:vs(aO,{[el()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Cc()]:["toolbar-button-events",hs.name(),I,M]}),sandboxBehaviours:xt([Gt.config({mode:"special",onLeft:v,onRight:v}),uo("dropdown-sandbox-events",[Ye(Ip,(j,W)=>{(V=>{const $=Ht.getValue(V),Y=ub(V).map(p6);nc.refetch($).get(()=>{const J=Cr.getCoupled($,"sandbox");Y.each(de=>ub(J).each(ce=>((he,Ne)=>{Ht.setValue(he,Ne.fetchPattern),he.element.dom.selectionStart=Ne.selectionStart,he.element.dom.selectionEnd=Ne.selectionEnd})(ce,de)))})})(j),W.stop()}),Ye(g6,(j,W)=>{((V,$)=>{(Y=>wn.getState(Y).bind(pn.getHighlighted).bind(pn.getHighlighted))(V).each(Y=>{((J,de,ce,he)=>{const Ne={...he,target:de};J.getSystem().triggerEvent(ce,de,Ne)})(V,Y.element,$.event.eventType,$.event.interactionEvent)})})(j,W),W.stop()})])]),lazySink:i.getSink,toggleClass:`${r}--active`,parts:{menu:{...p1(0,n.columns,n.presets),fakeFocus:n.searchable,...n.listRole==="listbox"?{}:{onHighlightItem:PD,onCollapseMenu:(j,W,V)=>{pn.getHighlighted(V).each($=>{PD(j,V,$)})},onDehighlightItem:zB}}},getAnchorOverrides:()=>({maxHeightFunction:(j,W)=>{Px()(j,W-10)}}),fetch:j=>Jo(ln(n.fetch,j))})).asSpec()},cO=n=>n.type==="separator",eI={type:"separator"},dO=(n,r)=>{const i=((l,u)=>{const m=Uo(l,(p,x)=>(v=>Oe(v))(x)?x===""?p:x==="|"?p.length>0&&!cO(p[p.length-1])?p.concat([eI]):p:rn(u,x.toLowerCase())?p.concat([u[x.toLowerCase()]]):p:p.concat([x]),[]);return m.length>0&&cO(m[m.length-1])&&m.pop(),m})(Oe(n)?n.split(" "):n,r);return _o(i,(l,u)=>{if((m=>rn(m,"getSubmenuItems"))(u)){const m=(x=>{const v=Jt(x,"value").getOrThunk(()=>Ae("generated-menu-item"));return vs({value:v},x)})(u),p=((x,v)=>{const _=x.getSubmenuItems(),S=dO(_,v);return{item:x,menus:vs(S.menus,{[x.value]:S.items}),expansions:vs(S.expansions,{[x.value]:x.value})}})(m,r);return{menus:vs(l.menus,p.menus),items:[p.item,...l.items],expansions:vs(l.expansions,p.expansions)}}return{...l,items:[u,...l.items]}},{menus:{},expansions:{},items:[]})},jp=(n,r,i,l)=>{const u=Ae("primary-menu"),m=dO(n,i.shared.providers.menuItems());if(m.items.length===0)return E.none();const p=(k=>k.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-field",placeholder:A.placeholder})))(l),x=LD(u,m.items,r,i,l.isHorizontalMenu,p),v=(k=>k.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-results"})))(l),_=Rs(m.menus,(k,A)=>LD(A,k,r,i,!1,v)),S=vs(_,Ug(u,x));return E.from(wf.tieredData(u,S,m.expansions))},h2=n=>!rn(n,"items"),bS="data-value",uO=(n,r,i,l,u)=>Ce(i,m=>h2(m)?{type:"togglemenuitem",...u?{}:{role:"option"},text:m.text,value:m.value,active:m.value===l,onAction:()=>{Ht.setValue(n,m.value),Kt(n,Al,{name:r}),bo.focus(n)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>uO(n,r,m.items,l,u)}),D_=(n,r)=>mn(n,i=>h2(i)?$s(i.value===r,i):D_(i.items,r)),mO=n=>{const r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let i=n.value.toFixed((l=n.unit)in r?r[l]:1);var l;return i.indexOf(".")!==-1&&(i=i.replace(/\.?0*$/,"")),i+n.unit},O_=n=>{const r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(r!==null){const i=parseFloat(r[1]),l=r[2];return Go.value({value:i,unit:l})}return Go.error(n)},gO=(n,r)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=u=>rn(i,u);return n.unit===r?E.some(n.value):l(n.unit)&&l(r)?i[n.unit]===i[r]?E.some(n.value):E.some(n.value/i[n.unit]*i[r]):E.none()},R_=n=>E.none(),fO=(n,r)=>{const i=O_(n).toOptional(),l=O_(r).toOptional();return Rl(i,l,(u,m)=>gO(u,m.unit).map(p=>m.value/p).map(p=>{return x=p,v=m.unit,_=>gO(_,v).map(S=>({value:S*x,unit:v}));var x,v}).getOr(R_)).getOr(R_)},pO=(n,r)=>{const i=n.label.map(A=>Vp(A,r)),l=[Qt.config({disabled:()=>n.disabled||r.checkUiComponentContext(n.context).shouldDisable}),mr(()=>r.checkUiComponentContext(n.context)),Gt.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:A=>(Ko(A,m2),E.some(!0))}),uo("textfield-change",[Ye(md(),(A,M)=>{Kt(A,Al,{name:n.name})}),Ye(mx(),(A,M)=>{Kt(A,Al,{name:n.name})})]),un.config({})],u=n.validation.map(A=>Jm.config({getRoot:M=>fa(M.element),invalidClass:"tox-invalid",validator:{validate:M=>{const I=Ht.getValue(M),G=A.validator(I);return $r(G===!0?Go.value(I):Go.error(G))},validateOnLoad:A.validateOnLoad}})).toArray(),m=n.placeholder.fold(te({}),A=>({placeholder:r.translate(A)})),p=n.inputMode.fold(te({}),A=>({inputmode:A})),x={...n.spellcheck.fold(te({}),A=>({spellcheck:A})),...m,...p,"data-mce-name":n.name},v=Yo.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(A=>({data:A})).getOr({}),inputAttributes:x,inputClasses:[n.classname],inputBehaviours:xt(ks([l,u])),selectOnFocus:!1,factory:_f}),_=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[v]}:v,S=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),k=[Qt.config({disabled:()=>n.disabled||r.checkUiComponentContext(n.context).shouldDisable,onDisabled:A=>{Yo.getField(A).each(Qt.disable)},onEnabled:A=>{Yo.getField(A).each(Qt.enable)}}),mr(()=>r.checkUiComponentContext(n.context))];return d2(i,_,S,k)},hO=n=>({isEnabled:()=>!Qt.isDisabled(n),setEnabled:r=>Qt.set(n,!r),setActive:r=>{const i=n.element;r?(ws(i,"tox-tbtn--enabled"),io(i,"aria-pressed",!0)):(on(i,"tox-tbtn--enabled"),js(i,"aria-pressed"))},isActive:()=>ur(n.element,"tox-tbtn--enabled"),setTooltip:r=>{Kt(n,lO,{text:r})},setText:r=>{Kt(n,zc,{text:r})},setIcon:r=>Kt(n,D1,{icon:r})}),b2=(n,r,i,l,u=!0,m)=>{const p=n.buttonType==="bordered"?["bordered"]:[];return hS({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:l,fetch:(x,v)=>{const _={pattern:n.search.isSome()?HB(x):""};n.fetch(S=>{v(jp(S,pu.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))},_,hO(x))},onSetup:n.onSetup,getApi:x=>hO(x),columns:1,presets:"normal",classes:p,dropdownBehaviours:[...u?[un.config({})]:[]],context:n.context},r,i.shared,m)},tI=(n,r,i)=>{const l=m=>p=>{const x=!p.isActive();p.setActive(x),m.storage.set(x),i.shared.getSink().each(v=>{r().getOpt(v).each(_=>{br(_.element),Kt(_,pg,{name:m.name,value:m.storage.get()})})})},u=m=>p=>{p.setActive(m.storage.get())};return m=>{m(Ce(n,p=>{const x=p.text.fold(()=>({}),v=>({text:v}));return{type:p.type,active:!1,...x,context:p.context,onAction:l(p),onSetup:u(p)}}))}},bO=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[Ds(n)]}),x2=(n,r,i)=>{n.customStateIcon.each(l=>r.push(xS(l,i.shared.providers.icons,n.customStateIconTooltip.fold(()=>[],u=>[hs.config(i.shared.providers.tooltips.getConfig({tooltipText:u}))]),["tox-icon-custom-state"])))},N_=Ae("leaf-label-event-id"),v2=({leaf:n,onLeafAction:r,visible:i,treeId:l,selectedId:u,backstage:m})=>{const p=n.menu.map(v=>b2(v,"tox-mbtn",m,E.none(),i)),x=[bO(n.title)];return x2(n,x,m),p.each(v=>x.push(v)),ja.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:x,role:"treeitem",action:v=>{r(n.id),v.getSystem().broadcastOn([`update-active-item-${l}`],{value:n.id})},eventOrder:{[_c()]:[N_,"keying"]},buttonBehaviours:xt([...i?[un.config({})]:[],an.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),rl.config({channels:{[`update-active-item-${l}`]:{onReceive:(v,_)=>{(_.value===n.id?an.on:an.off)(v)}}}}),uo(N_,[is((v,_)=>{u.each(S=>{(S===n.id?an.on:an.off)(v)})}),Ye(_c(),(v,_)=>{const S=_.event.raw.code==="ArrowLeft",k=_.event.raw.code==="ArrowRight";S?(Xr(v.element,".tox-tree--directory").each(A=>{v.getSystem().getByDom(A).each(M=>{hc(A,".tox-tree--directory__label").each(I=>{M.getSystem().getByDom(I).each(bo.focus)})})}),_.stop()):k&&_.stop()})])])})},xS=(n,r,i,l,u)=>El(n,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:i,attributes:u},r),xO=Ae("directory-label-event-id"),oI=({directory:n,visible:r,noChildren:i,backstage:l})=>{const u=n.menu.map(v=>b2(v,"tox-mbtn",l,E.none())),m=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p=l.shared.providers.icons,xS("chevron-right",p,[]))]},bO(n.title)];var p;x2(n,m,l),u.each(v=>{m.push(v)});const x=v=>{Xr(v.element,".tox-tree--directory").each(_=>{v.getSystem().getByDom(_).each(S=>{const k=!an.isOn(S);an.toggle(S),Kt(v,"expand-tree-node",{expanded:k,node:n.id})})})};return ja.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:m,action:x,eventOrder:{[_c()]:[xO,"keying"]},buttonBehaviours:xt([...r?[un.config({})]:[],uo(xO,[Ye(_c(),(v,_)=>{const S=_.event.raw.code==="ArrowRight",k=_.event.raw.code==="ArrowLeft";S&&i&&_.stop(),(S||k)&&Xr(v.element,".tox-tree--directory").each(A=>{v.getSystem().getByDom(A).each(M=>{!an.isOn(M)&&S||an.isOn(M)&&k?(x(v),_.stop()):k&&!an.isOn(M)&&(Xr(M.element,".tox-tree--directory").each(I=>{hc(I,".tox-tree--directory__label").each(G=>{M.getSystem().getByDom(G).each(bo.focus)})}),_.stop())})})})])])})},vS=({children:n,onLeafAction:r,visible:i,treeId:l,expandedIds:u,selectedId:m,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(x=>x.type==="leaf"?v2({leaf:x,selectedId:m,onLeafAction:r,visible:i,treeId:l,backstage:p}):Cb({directory:x,expandedIds:u,selectedId:m,onLeafAction:r,labelTabstopping:i,treeId:l,backstage:p})),behaviours:xt([_l.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),So.config({})])}),yS=Ae("directory-event-id"),Cb=({directory:n,onLeafAction:r,labelTabstopping:i,treeId:l,backstage:u,expandedIds:m,selectedId:p})=>{const{children:x}=n,v=Nt(m),_=m.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[oI({directory:n,visible:i,noChildren:n.children.length===0,backstage:u}),vS({children:x,expandedIds:m,selectedId:p,onLeafAction:r,visible:_,treeId:l,backstage:u})],behaviours:xt([uo(yS,[is((S,k)=>{an.set(S,_)}),Ye("expand-tree-node",(S,k)=>{const{expanded:A,node:M}=k.event;v.set(A?[...v.get(),M]:v.get().filter(I=>I!==M))})]),an.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(S,k)=>{const A=S.components()[1],M=(I=k,x.map(G=>G.type==="leaf"?v2({leaf:G,selectedId:p,onLeafAction:r,visible:I,treeId:l,backstage:u}):Cb({directory:G,expandedIds:v.get(),selectedId:p,onLeafAction:r,labelTabstopping:I,treeId:l,backstage:u})));var I;k?_l.grow(A):_l.shrink(A),So.set(A,M)}})])}},vO=Ae("tree-event-id"),M_=(n,r,i=[],l,u,m,p)=>{const x=r.fold(()=>({}),S=>({action:S})),v={buttonBehaviours:xt([iD(()=>!n.enabled||p.checkUiComponentContext(n.context).shouldDisable),mr(()=>p.checkUiComponentContext(n.context)),un.config({}),...m.map(S=>hs.config(p.tooltips.getConfig({tooltipText:p.translate(S)}))).toArray(),uo("button press",[T0("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...x},_=vs(v,{dom:l});return vs(_,{components:u})},nI=(n,r,i,l=[],u)=>{const m={tag:"button",classes:["tox-tbtn"],attributes:{...n.tooltip.map(v=>({"aria-label":i.translate(v)})).getOr({}),"data-mce-name":u}},p=n.icon.map(v=>pS(v,i.icons)),x=C1([p]);return M_(n,r,l,m,x,n.tooltip,i)},wS=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},yO=(n,r,i,l=[],u=[])=>{const m=i.translate(n.text),p=n.icon.map(k=>pS(k,i.icons)),x=[p.getOrThunk(()=>Ds(m))],v=n.buttonType.getOr(n.primary||n.borderless?"primary":"secondary"),_={tag:"button",classes:[...wS(v),...p.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...u],attributes:{"aria-label":m,"data-mce-name":n.text}},S=n.icon.map(te(m));return M_(n,r,l,_,x,S,i)},wO=(n,r,i,l=[],u=[])=>{const m=yO(n,E.some(r),i,l,u);return ja.sketch(m)},_O=(n,r)=>i=>{r==="custom"?Kt(i,pg,{name:n,value:{}}):r==="submit"?Ko(i,m2):r==="cancel"?Ko(i,$p):console.error("Unknown button type: ",r)},B_=(n,r,i)=>{if(((l,u)=>u==="menu")(0,r)){const l=()=>p,u=n,m={...n,buttonType:"default",type:"menubutton",search:E.none(),onSetup:x=>(x.setEnabled(n.enabled),ue),fetch:tI(u.items,l,i)},p=Mn(b2(m,"tox-tbtn",i,E.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return p.asSpec()}if(((l,u)=>u==="custom"||u==="cancel"||u==="submit")(0,r)){const l=_O(n.name,r),u={...n,context:r==="cancel"?"any":n.context,borderless:!1};return wO(u,l,i.shared.providers,[])}if(((l,u)=>u==="togglebutton")(0,r))return((l,u,m)=>{var p,x;const v=l.icon.map($=>Zp($,u.icons)).map(Mn),_=l.buttonType.getOr(l.primary?"primary":"secondary"),S={...l,name:(p=l.name)!==null&&p!==void 0?p:"",tooltip:l.tooltip,enabled:(x=l.enabled)!==null&&x!==void 0&&x},k=S.tooltip.or(l.text).map($=>({"aria-label":u.translate($)})).getOr({}),A=wS(_??"secondary"),M=l.icon.isSome()&&l.text.isSome(),I={tag:"button",classes:[...A.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...M?["tox-button--icon-and-text"]:[]],attributes:{...k,...ye(m)?{"data-mce-name":m}:{}}},G=u.translate(l.text.getOr("")),j=Ds(G),W=[...C1([v.map($=>$.asSpec())]),...l.text.isSome()?[j]:[]],V=M_(S,E.some($=>{Kt($,pg,{name:l.name,value:{setIcon:Y=>{v.map(J=>J.getOpt($).each(de=>{So.set(de,[Zp(Y,u.icons)])}))}}})}),[],I,W,l.tooltip,u);return ja.sketch(V)})(n,i.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")},sI={type:"separator"},rI=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:ue}),_S=(n,r)=>({type:"menuitem",value:r,text:n,meta:{attach:void 0},onAction:ue}),CO=(n,r)=>(i=>Ce(i,rI))(((i,l)=>Co(l,u=>u.type===i))(n,r)),aI=n=>CO("header",n.targets),iI=n=>CO("anchor",n.targets),kO=n=>E.from(n.anchorTop).map(r=>_S("<top>",r)).toArray(),lI=n=>E.from(n.anchorBottom).map(r=>_S("<bottom>",r)).toArray(),CS=(n,r)=>{const i=n.toLowerCase();return Co(r,l=>{var u;const m=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(u=l.value)!==null&&u!==void 0?u:"";return Zs(m.toLowerCase(),i)||Zs(p.toLowerCase(),i)})},rm=Ae("aria-invalid"),aa=n=>(r,i,l,u,m)=>Jt(i,"name").fold(()=>n(i,u,E.none(),m),p=>r.field(p,n(i,u,Jt(l,p),m))),cI={bar:aa((n,r)=>((i,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ce(i.items,l.interpreter)}))(n,r.shared)),collection:aa((n,r,i)=>WB(n,r.shared.providers,i)),alertbanner:aa((n,r)=>((i,l)=>{const u=K4(i.icon,l.icons);return ec.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${i.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:i.url?void 0:u},components:i.url?[ja.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:u,attributes:{title:l.translate(i.iconTooltip)}},action:m=>Kt(m,pg,{name:"alert-banner",value:i.url}),buttonBehaviours:xt([a6()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(i.text)}}]})})(n,r.shared.providers)),input:aa((n,r,i)=>((l,u,m)=>pO({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:E.none(),maximized:l.maximized,data:m,context:l.context,spellcheck:E.none()},u))(n,r.shared.providers,i)),textarea:aa((n,r,i)=>((l,u,m)=>pO({name:l.name,multiline:!0,label:l.label,inputMode:E.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:E.none(),maximized:l.maximized,data:m,context:l.context,spellcheck:l.spellcheck},u))(n,r.shared.providers,i)),label:aa((n,r,i,l)=>((u,m,p)=>{const x="tox-label",v=u.align==="center"?[`${x}--center`]:[],_=u.align==="end"?[`${x}--end`]:[],S=Mn({dom:{tag:"label",classes:[x,...v,..._]},components:[Ds(m.providers.translate(u.label))]}),k=Ce(u.items,m.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[S.asSpec(),...k],behaviours:xt([Up(),So.config({}),(A=E.none(),tS(A,vm,Bg)),Gt.config({mode:"acyclic"}),uo("label",[is(M=>{u.for.each(I=>{p(I).each(G=>{S.getOpt(M).each(j=>{var W;const V=(W=Eo(G.element,"id"))!==null&&W!==void 0?W:Ae("form-field");io(G.element,"id",V),io(j.element,"for",V)})})})})])])};var A})(n,r.shared,l)),iframe:(P_=(n,r,i)=>((l,u,m)=>{const p="tox-dialog__iframe",x=l.transparent?[]:[`${p}--opaque`],v=l.border?["tox-navobj-bordered"]:[],_={...l.label.map(M=>({title:M})).getOr({}),...m.map(M=>({srcdoc:M})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},S=((M,I)=>{const G=Nt(M.getOr(""));return{getValue:j=>G.get(),setValue:(j,W)=>{if(G.get()!==W){const V=j.element,$=()=>io(V,"srcdoc",W);I?JB.fold(te(rO),Y=>Y.throttle)(V,W,$):$()}G.set(W)}}})(m,l.streamContent),k=l.label.map(M=>Vp(M,u)),A=Yo.parts.field({factory:{sketch:M=>lS(E.from(v),{uid:M.uid,dom:{tag:"iframe",attributes:_,classes:[p,...x]},behaviours:xt([un.config({}),bo.config({}),T1(m,S.getValue,S.setValue),rl.config({channels:{[T_]:{onReceive:(I,G)=>{G.newFocus.each(j=>{fa(I.element).each(W=>{(Zo(I.element,j)?ws:on)(W,"tox-navobj-bordered-focus")})})}}}})])})}});return d2(k,A,["tox-form__group--stretched"],[])})(n,r.shared.providers,i),(n,r,i,l,u)=>{const m=vs(r,{source:"dynamic"});return aa(P_)(n,m,i,l,u)}),button:aa((n,r)=>((i,l)=>{const u=_O(i.name,"custom");return m=E.none(),p=Yo.parts.field({factory:ja,...yO(i,E.some(u),l,[S_(""),Up()])}),d2(m,p,[],[]);var m,p})(n,r.shared.providers)),checkbox:aa((n,r,i)=>((l,u,m)=>{const p=k=>(k.element.dom.click(),E.some(!0)),x=Yo.parts.field({factory:{sketch:gt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:xt([Up(),Qt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable,onDisabled:k=>{fa(k.element).each(A=>ws(A,"tox-checkbox--disabled"))},onEnabled:k=>{fa(k.element).each(A=>on(A,"tox-checkbox--disabled"))}}),un.config({}),bo.config({}),tS(m,_m,Yi),Gt.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),uo("checkbox-events",[Ye(Mm(),(k,A)=>{Kt(k,Al,{name:l.name})})])])}),v=Yo.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ds(u.translate(l.label))],behaviours:xt([fv.config({})])}),_=k=>El(k==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+k]},u.icons),S=Mn({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[_("checked"),_("unchecked")]});return Yo.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[x,S.asSpec(),v],fieldBehaviours:xt([Qt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable}),mr(()=>u.checkUiComponentContext(l.context))])})})(n,r.shared.providers,i)),colorinput:aa((n,r,i)=>((l,u,m,p)=>{const x=Yo.parts.field({factory:_f,inputClasses:["tox-textfield"],data:p,onSetValue:k=>Jm.run(k).get(ue),inputBehaviours:xt([Qt.config({disabled:()=>u.providers.isDisabled()||u.providers.checkUiComponentContext(l.context).shouldDisable}),mr(()=>u.providers.checkUiComponentContext(l.context)),un.config({}),Jm.config({invalidClass:"tox-textbox-field-invalid",getRoot:k=>fa(k.element),notify:{onValid:k=>{const A=Ht.getValue(k);Kt(k,k_,{color:A})}},validator:{validateOnLoad:!1,validate:k=>{const A=Ht.getValue(k);if(A.length===0)return $r(Go.value(!0));{const M=Es("span");ko(M,"background-color",A);const I=cr(M,"background-color").fold(()=>Go.error("blah"),G=>Go.value(A));return $r(I)}}}})]),selectOnFocus:!1}),v=l.label.map(k=>Vp(k,u.providers)),_=(k,A)=>{Kt(k,$D,{value:A})},S=Mn(((k,A)=>nc.sketch({dom:k.dom,components:k.components,toggleClass:"mce-active",dropdownBehaviours:xt([_1(()=>A.providers.isDisabled()||A.providers.checkUiComponentContext(k.context).shouldDisable),mr(()=>A.providers.checkUiComponentContext(k.context)),fv.config({}),un.config({})]),layouts:k.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:A.getSink,fetch:M=>Jo(I=>k.fetch(I)).map(I=>E.from(X3(vs(__(Ae("menu-value"),I,G=>{k.onItemAction(M,G)},k.columns,k.presets,pu.CLOSE_ON_EXECUTE,He,A.providers),{movement:l2(k.columns,k.presets)})))),parts:{menu:p1(0,0,k.presets)}}))({dom:{tag:"span",attributes:{"aria-label":u.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Pr,wr,Fr],onLtr:()=>[wr,Pr,Fr]},components:[],fetch:TD(m.getColors(l.storageKey),l.storageKey,m.hasCustomColors()),columns:m.getColorCols(l.storageKey),presets:"color",onItemAction:(k,A)=>{S.getOpt(k).each(M=>{A==="custom"?m.colorPicker(I=>{I.fold(()=>Ko(M,UD),G=>{_(M,G),$3(l.storageKey,G)})},"#ffffff"):_(M,A==="remove"?"":A)})},context:l.context},u));return Yo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[x,S.asSpec()]}]),fieldBehaviours:xt([uo("form-field-events",[Ye(k_,(k,A)=>{S.getOpt(k).each(M=>{ko(M.element,"background-color",A.event.color)}),Kt(k,Al,{name:l.name})}),Ye($D,(k,A)=>{Yo.getField(k).each(M=>{Ht.setValue(M,A.event.value),yn.getCurrent(k).each(bo.focus)})}),Ye(UD,(k,A)=>{Yo.getField(k).each(M=>{yn.getCurrent(k).each(bo.focus)})})])])})})(n,r.shared,r.colorinput,i)),colorpicker:aa((n,r,i)=>((l,u,m)=>{const p=_=>"tox-"+_,x=GB((_=>S=>Oe(S)?_.translate(QD[S]):_.translate(S))(u),p,u.tooltips.getConfig,(_,S,k=_,A=_)=>El(k,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+_],attributes:{title:u.translate(A),"aria-live":"polite",...S.fold(()=>({}),M=>({id:M}))}},u.icons)),v=Mn(x.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:_=>{Kt(_,pg,{name:"hex-valid",value:!0})},onInvalidHex:_=>{Kt(_,pg,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[v.asSpec()],behaviours:xt([T1(m,_=>{const S=v.get(_);return yn.getCurrent(S).bind(k=>Ht.getValue(k).hex).map(k=>"#"+os(k,"#")).getOr("")},(_,S)=>{const k=E.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(S)).bind(M=>ct(M,1)),A=v.get(_);yn.getCurrent(A).fold(()=>{console.log("Can not find form")},M=>{Ht.setValue(M,{hex:k.getOr("")}),e1.getField(M,"hex").each(I=>{Ko(I,md())})})}),Up()])}})(0,r.shared.providers,i)),dropzone:aa((n,r,i)=>KB(n,r.shared.providers,i)),grid:aa((n,r)=>((i,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${i.columns}col`]},components:Ce(i.items,l.interpreter)}))(n,r.shared)),listbox:aa((n,r,i)=>((l,u,m)=>{const p=_n(l.items,A=>!h2(A)),x=u.shared.providers,v=m.bind(A=>D_(l.items,A)).orThunk(()=>At(l.items).filter(h2)),_=l.label.map(A=>Vp(A,x)),S=Yo.parts.field({dom:{},factory:{sketch:A=>hS({context:l.context,uid:A.uid,text:v.map(M=>M.text),icon:E.none(),tooltip:E.none(),role:$s(!p,"combobox"),...p?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(M,I)=>{const G=uO(M,l.name,l.items,Ht.getValue(M),p);I(jp(G,pu.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:E.none()}))},onSetup:te(ue),getApi:te({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[un.config({}),T1(v.map(M=>M.value),M=>Eo(M.element,bS),(M,I)=>{D_(l.items,I).each(G=>{io(M.element,bS,G.value),Kt(M,zc,{text:G.text})})})]},"tox-listbox",u.shared)}}),k={dom:{tag:"div",classes:["tox-listboxfield"]},components:[S]};return Yo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ks([_.toArray(),[k]]),fieldBehaviours:xt([Qt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:A=>{Yo.getField(A).each(Qt.disable)},onEnabled:A=>{Yo.getField(A).each(Qt.enable)}})])})})(n,r,i)),selectbox:aa((n,r,i)=>((l,u,m)=>{const p=Ce(l.items,k=>({text:u.translate(k.text),value:k.value})),x=l.label.map(k=>Vp(k,u)),v=Yo.parts.field({dom:{},...m.map(k=>({data:k})).getOr({}),selectAttributes:{size:l.size},options:p,factory:Q0,selectBehaviours:xt([Qt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable}),un.config({}),uo("selectbox-change",[Ye(Mm(),(k,A)=>{Kt(k,Al,{name:l.name})})])])}),_=l.size>1?E.none():E.some(El("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},u.icons)),S={dom:{tag:"div",classes:["tox-selectfield"]},components:ks([[v],_.toArray()])};return Yo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ks([x.toArray(),[S]]),fieldBehaviours:xt([Qt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable,onDisabled:k=>{Yo.getField(k).each(Qt.disable)},onEnabled:k=>{Yo.getField(k).each(Qt.enable)}}),mr(()=>u.checkUiComponentContext(l.context))])})})(n,r.shared.providers,i)),sizeinput:aa((n,r)=>((i,l)=>{let u=R_;const m=Ae("ratio-event"),p=W=>El(W,{tag:"span",classes:["tox-icon","tox-lock-icon__"+W]},l.icons),x=()=>!i.enabled||l.checkUiComponentContext(i.context).shouldDisable,v=mr(()=>l.checkUiComponentContext(i.context)),_=i.label.getOr("Constrain proportions"),S=l.translate(_),k=or.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":S,"data-mce-name":_}},components:[p("lock"),p("unlock")],buttonBehaviours:xt([Qt.config({disabled:x}),v,un.config({}),hs.config(l.tooltips.getConfig({tooltipText:S}))])}),A=W=>({dom:{tag:"div",classes:["tox-form__group"]},components:W}),M=W=>Yo.parts.field({factory:_f,inputClasses:["tox-textfield"],inputBehaviours:xt([Qt.config({disabled:x}),v,un.config({}),uo("size-input-events",[Ye(Zl(),(V,$)=>{Kt(V,m,{isField1:W})}),Ye(Mm(),(V,$)=>{Kt(V,Al,{name:i.name})})])]),selectOnFocus:!1}),I=W=>({dom:{tag:"label",classes:["tox-label"]},components:[Ds(l.translate(W))]}),G=or.parts.field1(A([Yo.parts.label(I("Width")),M(!0)])),j=or.parts.field2(A([Yo.parts.label(I("Height")),M(!1)]));return or.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[G,j,A([I(" "),k])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(W,V,$)=>{O_(Ht.getValue(W)).each(Y=>{u(Y).each(J=>{Ht.setValue(V,mO(J))})})},coupledFieldBehaviours:xt([Qt.config({disabled:x,onDisabled:W=>{or.getField1(W).bind(Yo.getField).each(Qt.disable),or.getField2(W).bind(Yo.getField).each(Qt.disable),or.getLock(W).each(Qt.disable)},onEnabled:W=>{or.getField1(W).bind(Yo.getField).each(Qt.enable),or.getField2(W).bind(Yo.getField).each(Qt.enable),or.getLock(W).each(Qt.enable)}}),mr(()=>l.checkUiComponentContext("mode:design")),uo("size-input-events2",[Ye(m,(W,V)=>{const $=V.event.isField1,Y=$?or.getField1(W):or.getField2(W),J=$?or.getField2(W):or.getField1(W),de=Y.map(Ht.getValue).getOr(""),ce=J.map(Ht.getValue).getOr("");u=fO(de,ce)})])])})})(n,r.shared.providers)),slider:aa((n,r,i)=>((l,u,m)=>{const p=Od.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ds(u.translate(l.label))]}),x=Od.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),v=Od.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Od.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:te(m.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,x,v],sliderBehaviours:xt([Up(),bo.config({})]),onChoose:(_,S,k)=>{Kt(_,Al,{name:l.name,value:k})},onChange:(_,S,k)=>{Kt(_,Al,{name:l.name,value:k})}})})(n,r.shared.providers,i)),urlinput:aa((n,r,i)=>((l,u,m,p)=>{const x=u.shared.providers,v=V=>{const $=Ht.getValue(V);m.addToHistory($.value,l.filetype)},_={...p.map(V=>({initialData:V})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:V=>{const $=((J,de,ce)=>{var he,Ne;const $e=Ht.getValue(de),Ue=(Ne=(he=$e?.meta)===null||he===void 0?void 0:he.text)!==null&&Ne!==void 0?Ne:$e.value;return ce.getLinkInformation().fold(()=>[],qe=>{const lt=CS(Ue,(eo=>Ce(eo,no=>_S(no,no)))(ce.getHistory(J)));return J==="file"?(Wt=[lt,CS(Ue,aI(qe)),CS(Ue,ks([kO(qe),iI(qe),lI(qe)]))],Uo(Wt,(eo,no)=>eo.length===0||no.length===0?eo.concat(no):eo.concat(sI,no),[])):lt;var Wt})})(l.filetype,V,m),Y=jp($,pu.BUBBLE_TO_SANDBOX,u,{isHorizontalMenu:!1,search:E.none()});return $r(Y)},getHotspot:V=>j.getOpt(V),onSetValue:(V,$)=>{V.hasConfigured(Jm)&&Jm.run(V).get(ue)},typeaheadBehaviours:xt([...m.getValidationHandler().map(V=>Jm.config({getRoot:$=>fa($.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:($,Y)=>{A.getOpt($).each(J=>{io(J.element,"title",x.translate(Y))})}},validator:{validate:$=>{const Y=Ht.getValue($);return Dr(J=>{V({type:l.filetype,url:Y.value},de=>{if(de.status==="invalid"){io($.element,"aria-errormessage",rm);const ce=Go.error(de.message);J(ce)}else{js($.element,"aria-errormessage");const ce=Go.value(de.message);J(ce)}})})},validateOnLoad:!1}})).toArray(),Qt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable}),un.config({}),uo("urlinput-events",[Ye(md(),V=>{const $=Jr(V.element),Y=$.trim();Y!==$&&Xd(V.element,Y),l.filetype==="file"&&Kt(V,Al,{name:l.name})}),Ye(Mm(),V=>{Kt(V,Al,{name:l.name}),v(V)}),Ye(mx(),V=>{Kt(V,Al,{name:l.name}),v(V)})])]),eventOrder:{[md()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:V=>V.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:u.shared.getSink,parts:{menu:p1(0,0,"normal")},onExecute:(V,$,Y)=>{Kt($,m2,{})},onItemExecute:(V,$,Y,J)=>{v(V),Kt(V,Al,{name:l.name})}},S=Yo.parts.field({..._,factory:iM}),k=l.label.map(V=>Vp(V,x)),A=Mn(((V,$,Y=V,J=V)=>El(Y,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+V],attributes:{title:x.translate(J),"aria-live":"polite",...$.fold(()=>({}),de=>({id:de}))}},x.icons))("invalid",E.some(rm),"warning")),M=Mn({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[A.asSpec()]}),I=m.getUrlPicker(l.filetype),G=Ae("browser.url.event"),j=Mn({dom:{tag:"div",classes:["tox-control-wrap"]},components:[S,M.asSpec()],behaviours:xt([Qt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable})])}),W=Mn(wO({context:l.context,name:l.name,icon:E.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:E.none(),borderless:!0},V=>Ko(V,G),x,[],["tox-browse-url"]));return Yo.sketch({dom:FD([]),components:k.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ks([[j.asSpec()],I.map(()=>W.asSpec()).toArray()])}]),fieldBehaviours:xt([Qt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:V=>{Yo.getField(V).each(Qt.disable),W.getOpt(V).each(Qt.disable)},onEnabled:V=>{Yo.getField(V).each(Qt.enable),W.getOpt(V).each(Qt.enable)}}),mr(()=>x.checkUiComponentContext(l.context)),uo("url-input-events",[Ye(G,V=>{yn.getCurrent(V).each($=>{const Y=Ht.getValue($),J={fieldname:l.name,...Y};I.each(de=>{de(J).get(ce=>{Ht.setValue($,ce),Kt(V,Al,{name:l.name})})})})})])])})})(n,r,r.urlinput,i)),customeditor:aa(n=>{const r=Fn(),i=Mn({dom:{tag:n.tag}}),l=Fn(),u=!sS(n)&&n.onFocus.isSome()?[bo.config({onFocus:m=>{n.onFocus.each(p=>{p(m.element.dom)})}}),un.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:xt([uo("custom-editor-events",[is(m=>{i.getOpt(m).each(p=>{(sS(n)?n.init(p.element.dom):JD.load(n.scriptId,n.scriptUrl).then(x=>x(p.element.dom,n.settings))).then(x=>{l.on(v=>{x.setValue(v)}),l.clear(),r.set(x)})})})]),T1(E.none(),()=>r.get().fold(()=>l.get().getOr(""),m=>m.getValue()),(m,p)=>{r.get().fold(()=>l.set(p),x=>x.setValue(p))}),Up()].concat(u)),components:[i.asSpec()]}}),htmlpanel:aa((n,r)=>((i,l)=>{const u=["tox-form__group",...i.stretched?["tox-form__group--stretched"]:[]],m=uo("htmlpanel",[is(p=>{i.onInit(p.element.dom)})]);return i.presets==="presentation"?ec.sketch({dom:{tag:"div",classes:u,innerHtml:i.html},containerBehaviours:xt([hs.config({...l.tooltips.getConfig({tooltipText:"",onShow:p=>{rs(p.element,"[data-mce-tooltip]:hover").orThunk(()=>Fa(p.element)).each(x=>{Yr(x,"data-mce-tooltip").each(v=>{hs.setComponents(p,l.tooltips.getComponents({tooltipText:v}))})})}}),mode:"children-normal",anchor:p=>({type:"node",node:rs(p.element,"[data-mce-tooltip]:hover").orThunk(()=>Fa(p.element).filter(x=>Yr(x,"data-mce-tooltip").isSome())),root:p.element,layouts:{onLtr:te([Fr,Lr,wr,Oa,Pr,Ra]),onRtl:te([Fr,Lr,wr,Oa,Pr,Ra])},bubble:ol(0,-2,{})})}),m])}):ec.sketch({dom:{tag:"div",classes:u,innerHtml:i.html,attributes:{role:"document"}},containerBehaviours:xt([un.config({}),bo.config({}),m])})})(n,r.shared.providers)),imagepreview:aa((n,r,i)=>((l,u)=>{const m=Nt(u.getOr({url:""})),p=Mn({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:u.map(S=>({src:S.url})).getOr({})}}),x=Mn({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),v={};l.height.each(S=>v.height=S);const _=u.map(S=>({url:S.url,zoom:E.from(S.zoom),cachedWidth:E.from(S.cachedWidth),cachedHeight:E.from(S.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:v,attributes:{role:"presentation"}},components:[x.asSpec()],behaviours:xt([Up(),T1(_,()=>m.get(),(S,k)=>{const A={url:k.url};k.zoom.each(I=>A.zoom=I),k.cachedWidth.each(I=>A.cachedWidth=I),k.cachedHeight.each(I=>A.cachedHeight=I),m.set(A);const M=()=>{const{cachedWidth:I,cachedHeight:G,zoom:j}=A;if(!kt(I)&&!kt(G)){if(kt(j)){const V=(($,Y,J)=>{const de=Pn($),ce=Rr($);return Math.min(de/Y,ce/J,1)})(S.element,I,G);A.zoom=V}const W=((V,$,Y,J,de)=>{const ce=Y*de,he=J*de,Ne=Math.max(0,V/2-ce/2),$e=Math.max(0,$/2-he/2);return{left:Ne.toString()+"px",top:$e.toString()+"px",width:ce.toString()+"px",height:he.toString()+"px"}})(Pn(S.element),Rr(S.element),I,G,A.zoom);x.getOpt(S).each(V=>{oe(V.element,W)})}};p.getOpt(S).each(I=>{const G=I.element;k.url!==Eo(G,"src")&&(io(G,"src",k.url),on(S.element,"tox-imagepreview__loaded")),M(),Ig(G).then(j=>{S.getSystem().isConnected()&&(ws(S.element,"tox-imagepreview__loaded"),A.cachedWidth=j.dom.naturalWidth,A.cachedHeight=j.dom.naturalHeight,M())})})})])}})(n,i)),table:aa((n,r)=>((i,l)=>{const u=x=>({dom:{tag:"td",innerHtml:l.translate(x)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=i.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ce(p,x=>({dom:{tag:"th",innerHtml:l.translate(x)}}))}]}),(m=i.cells,{dom:{tag:"tbody"},components:Ce(m,x=>({dom:{tag:"tr"},components:Ce(x,u)}))})],behaviours:xt([un.config({}),bo.config({})])};var m,p})(n,r.shared.providers)),tree:aa((n,r)=>((i,l)=>{const u=i.onLeafAction.getOr(ue),m=i.onToggleExpand.getOr(ue),p=i.defaultExpandedIds,x=Nt(p),v=Nt(i.defaultSelectedId),_=Ae("tree-id"),S=(k,A)=>i.items.map(M=>M.type==="leaf"?v2({leaf:M,selectedId:k,onLeafAction:u,visible:!0,treeId:_,backstage:l}):Cb({directory:M,selectedId:k,onLeafAction:u,expandedIds:A,labelTabstopping:!0,treeId:_,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:S(v.get(),x.get()),behaviours:xt([Gt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),uo(vO,[Ye("expand-tree-node",(k,A)=>{const{expanded:M,node:I}=A.event;x.set(M?[...x.get(),I]:x.get().filter(G=>G!==I)),m(x.get(),{expanded:M,node:I})})]),rl.config({channels:{[`update-active-item-${_}`]:{onReceive:(k,A)=>{v.set(E.some(A.value)),So.set(k,S(E.some(A.value),x.get()))}}}}),So.config({})])}})(n,r)),panel:aa((n,r)=>((i,l)=>({dom:{tag:"div",classes:i.classes},components:Ce(i.items,l.shared.interpreter)}))(n,r))},kS={field:(n,r)=>r,record:te([])},ia=(n,r,i,l,u)=>{const m=vs(l,{shared:{interpreter:p=>SS(n,p,i,m,u)}});return SS(n,r,i,m,u)},SS=(n,r,i,l,u)=>Jt(cI,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),m=>m(n,r,i,l,u)),SO=(n,r,i,l)=>SS(kS,n,r,i,l),y2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},dI=(n,r,i)=>{const l={maxHeightFunction:ef()};return()=>i()?{type:"node",root:Mg(Kr(n())),node:E.from(n()),bubble:ol(12,12,y2),layouts:{onRtl:()=>[Jg],onLtr:()=>[sp]},overrides:l}:{type:"hotspot",hotspot:r(),bubble:ol(-12,12,y2),layouts:{onRtl:()=>[wr,Pr,Fr],onLtr:()=>[Pr,wr,Fr]},overrides:l}},uI=(n,r,i,l)=>{const u={maxHeightFunction:ef()};return()=>l()?{type:"node",root:Mg(Kr(r())),node:E.from(r()),bubble:ol(12,12,y2),layouts:{onRtl:()=>[Kl],onLtr:()=>[Kl]},overrides:u}:n?{type:"node",root:Mg(Kr(r())),node:E.from(r()),bubble:ol(0,-Nu(r()),y2),layouts:{onRtl:()=>[Lr],onLtr:()=>[Lr]},overrides:u}:{type:"hotspot",hotspot:i(),bubble:ol(0,0,y2),layouts:{onRtl:()=>[Lr],onLtr:()=>[Lr]},overrides:u}},mI=(n,r,i)=>()=>i()?{type:"node",root:Mg(Kr(n())),node:E.from(n()),layouts:{onRtl:()=>[Kl],onLtr:()=>[Kl]}}:{type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[Fr],onLtr:()=>[Fr]}},gI=(n,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const i=n.selection.getRng(),l=n.model.table.getSelectedCells();if(l.length>1){const u=l[0],m=l[l.length-1],p={firstCell:Ft(u),lastCell:Ft(m)};return E.some(p)}return E.some(id.range(Ft(i.startContainer),i.startOffset,Ft(i.endContainer),i.endOffset))}}),fI=n=>r=>({type:"node",root:n(),node:r}),pI=(n,r,i,l)=>{const u=ib(n),m=()=>Ft(n.getBody()),p=()=>Ft(n.getContentAreaContainer()),x=()=>u||!l();return{inlineDialog:dI(p,r,x),inlineBottomDialog:uI(n.inline,p,i,x),banner:mI(p,r,x),cursor:gI(n,m),node:fI(m)}},hI=n=>(r,i)=>{ND(n)(r,i)},bI=n=>()=>CD(n),xI=n=>r=>y_(n,r),vI=n=>r=>_D(n,r),yI=n=>()=>A4(n),EO=n=>qn(n,"items"),AO=n=>qn(n,"format"),TO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],DO=n=>Uo(n,(r,i)=>{if(rn(i,"items")){const l=DO(i.items);return{customFormats:r.customFormats.concat(l.customFormats),formats:r.formats.concat([{title:i.title,items:l.formats}])}}if(rn(i,"inline")||(l=>rn(l,"block"))(i)||(l=>rn(l,"selector"))(i)){const l=`custom-${Oe(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:l,format:i}]),formats:r.formats.concat([{title:i.title,format:l,icon:i.icon}])}}return{...r,formats:r.formats.concat(i)}},{customFormats:[],formats:[]}),OO=n=>NT(n).map(r=>{const i=((l,u)=>{const m=DO(u),p=x=>{bt(x,v=>{l.formatter.has(v.name)||l.formatter.register(v.name,v.format)})};return l.formatter?p(m.customFormats):l.on("init",()=>{p(m.customFormats)}),m.formats})(n,r);return y4(n)?TO.concat(i):i}).getOr(TO),RO=(n,r,i)=>({...n,type:"formatter",isSelected:r(n.format),getStylePreview:i(n.format)}),NO=(n,r,i,l)=>{const u=m=>Ce(m,p=>EO(p)?(x=>{const v=u(x.items);return{...x,type:"submenu",getStyleItems:te(v)}})(p):AO(p)?(x=>RO(x,i,l))(p):(x=>{const v=zo(x);return v.length===1&&ut(v,"title")})(p)?{...p,type:"separator"}:(x=>{const v=Oe(x.name)?x.name:Ae(x.title),_=`custom-${v}`,S={...x,type:"formatter",format:_,isSelected:i(_),getStylePreview:l(_)};return n.formatter.register(v,S),S})(p));return u(r)},wI=n=>{let r=0;const i=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Ds(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>r>0?60:300,delayForHide:te(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:i(l),onShow:(u,m)=>{r++,l.onShow&&l.onShow(u,m)},onHide:(u,m)=>{r--,l.onHide&&l.onHide(u,m)},onSetup:l.onSetup}),getComponents:i}},_I=hg.trim,MO=n=>r=>!!((i=>ye(i)&&i.nodeType===1)(r)&&(r.contentEditable===n||r.getAttribute("data-mce-contenteditable")===n)),CI=MO("true"),BO=MO("false"),IO=(n,r,i,l,u)=>({type:n,title:r,url:i,level:l,attach:u}),ES=n=>n.innerText||n.textContent,kI=n=>(r=>r&&r.nodeName==="A"&&(r.id||r.name)!==void 0)(n)&&PO(n),AS=n=>n&&/^(H[1-6])$/.test(n.nodeName),PO=n=>(r=>{let i=r;for(;i=i.parentNode;){const l=i.contentEditable;if(l&&l!=="inherit")return CI(i)}return!1})(n)&&!BO(n),LO=n=>AS(n)&&PO(n),SI=n=>{var r;const i=(l=>l.id?l.id:Ae("h"))(n);return IO("header",(r=ES(n))!==null&&r!==void 0?r:"","#"+i,(l=>AS(l)?parseInt(l.nodeName.substr(1),10):0)(n),()=>{n.id=i})},EI=n=>{const r=n.id||n.name,i=ES(n);return IO("anchor",i||"#"+r,"#"+r,0,ue)},AI=n=>_I(n.title).length>0,TI=n=>{const r=(i=>Ce(ea(Ft(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),u=>u.dom))(n);return Co((i=>Ce(Co(i,LO),SI))(r).concat((i=>Ce(Co(i,kI),EI))(r)),AI)},I_="tinymce-url-history",FO=n=>Oe(n)&&/^https?/.test(n),zO=n=>ke(n)&&Ol(n,r=>{return!(We(i=r)&&i.length<=5&&ui(i,FO));var i}).isNone(),HO=()=>{const n=E1.getItem(I_);if(n===null)return{};let r;try{r=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+I_+" was not valid JSON",i),{};throw i}return zO(r)?r:(console.log("Local storage "+I_+" was not valid format",r),{})},DI=n=>{const r=HO();return Jt(r,n).getOr([])},OI=(n,r)=>{if(!FO(n))return;const i=HO(),l=Jt(i,r).getOr([]),u=Co(l,m=>m!==n);i[r]=[n].concat(u).slice(0,5),(m=>{if(!zO(m))throw new Error(`Bad format for history:
`+JSON.stringify(m));E1.setItem(I_,JSON.stringify(m))})(i)},VO=n=>!!n,RI=n=>Rs(hg.makeMap(n,/[, ]/),VO),TS=n=>E.from(Bw(n)),DS=n=>E.from(n).filter(Oe).getOrUndefined(),NI=n=>({getHistory:DI,addToHistory:OI,getLinkInformation:()=>(r=>k4(r)?E.some({targets:TI(r.getBody()),anchorTop:DS(S4(r)),anchorBottom:DS(E4(r))}):E.none())(n),getValidationHandler:()=>(r=>E.from(Nv(r)))(n),getUrlPicker:r=>((i,l)=>((u,m)=>{const p=(x=>{const v=E.from(FT(x)).filter(VO).map(RI);return TS(x).fold(He,_=>v.fold(so,S=>zo(S).length>0&&S))})(u);return Et(p)?p?TS(u):E.none():p[m]?TS(u):E.none()})(i,l).map(u=>m=>Jo(p=>{const x={filetype:l,fieldname:m.fieldname,...E.from(m.meta).getOr({})};u.call(i,(v,_)=>{if(!Oe(v))throw new Error("Expected value to be string");if(_!==void 0&&!ke(_))throw new Error("Expected meta to be a object");p({value:v,meta:_})},m.value,x)})))(n,r)}),MI={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},BI=ue,II=He,$O=te([]);var P_,L_=Object.freeze({__proto__:null,setup:BI,isDocked:II,getBehaviours:$O});const OS=te(Ae("toolbar-height-change")),Bd={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},UO="tox-tinymce--toolbar-sticky-on",ZO="tox-tinymce--toolbar-sticky-off",F_=(n,r)=>ut(Ms.getModes(n),r),RS=n=>{const r=n.element;fa(r).each(i=>{const l="padding-"+Ms.getModes(n)[0];if(Ms.isDocked(n)){const u=Pn(i);ko(r,"width",u+"px"),ko(i,l,(m=>Nu(m)+(parseInt(za(m,"margin-top"),10)||0)+(parseInt(za(m,"margin-bottom"),10)||0))(r)+"px")}else fn(r,"width"),fn(i,l)})},PI=(n,r)=>{r?(on(n,Bd.fadeOutClass),zl(n,[Bd.transitionClass,Bd.fadeInClass])):(on(n,Bd.fadeInClass),zl(n,[Bd.fadeOutClass,Bd.transitionClass]))},w2=(n,r)=>{const i=Ft(n.getContainer());r?(ws(i,UO),on(i,ZO)):(ws(i,ZO),on(i,UO))},O1=(n,r)=>{const i=Fn(),l=r.getSink,u=x=>{l().each(v=>x(v.element))},m=x=>{n.inline||RS(x),w2(n,Ms.isDocked(x)),x.getSystem().broadcastOn([Zm()],{}),l().each(v=>v.getSystem().broadcastOn([Zm()],{}))},p=n.inline?[]:[rl.config({channels:{[OS()]:{onReceive:RS}}})];return[bo.config({}),Ms.config({contextual:{lazyContext:x=>{const v=Nu(x.element),_=n.inline?n.getContentAreaContainer():n.getContainer();return E.from(_).map(S=>{const k=xr(Ft(S));return Np(n,x.element).fold(()=>{const A=k.height-v,M=k.y+(F_(x,"top")?0:v);return dn(k.x,M,k.width,A)},A=>{const M=fh(k,Mp(A)),I=F_(x,"top")?M.y:M.y+v;return dn(M.x,I,M.width,M.height-v)})})},onShow:()=>{u(x=>PI(x,!0))},onShown:x=>{u(v=>Qr(v,[Bd.transitionClass,Bd.fadeInClass])),i.get().each(v=>{((_,S)=>{const k=zt(S);nd(k).filter(A=>!Zo(S,A)).filter(A=>Zo(A,Ft(k.dom.body))||Ls(_,A)).each(()=>br(S))})(x.element,v),i.clear()})},onHide:x=>{((v,_)=>Fa(v).orThunk(()=>_().toOptional().bind(S=>Fa(S.element))))(x.element,l).fold(i.clear,i.set),u(v=>PI(v,!1))},onHidden:()=>{u(x=>Qr(x,[Bd.transitionClass]))},...Bd},lazyViewport:x=>Np(n,x.element).fold(()=>{const v=Ws(),_=PT(n),S=v.y+(F_(x,"top")&&!qT(n)?_:0),k=v.height-(F_(x,"bottom")?_:0);return{bounds:dn(v.x,S,v.width,k),optScrollEnv:E.none()}},v=>({bounds:Mp(v),optScrollEnv:E.some({currentScrollTop:v.element.dom.scrollTop,scrollElmTop:Nr(v.element).top})})),modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m}),...p]};var jO=Object.freeze({__proto__:null,setup:(n,r,i)=>{n.inline||(r.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{i().each(Ms.reset)}),n.on("ResizeWindow ResizeEditor",()=>{i().each(RS)}),n.on("SkinLoaded",()=>{i().each(l=>{Ms.isDocked(l)?Ms.reset(l):Ms.refresh(l)})}),n.on("FullscreenStateChanged",()=>{i().each(Ms.reset)})),n.on("AfterScrollIntoView",l=>{i().each(u=>{Ms.refresh(u);const m=u.element;Gd(m)&&((p,x)=>{const v=zt(x),_=Or(x).dom.innerHeight,S=Ni(v),k=Ft(p.elm),A=Mu(k),M=Rr(k),I=A.y,G=I+M,j=Nr(x),W=Rr(x),V=j.top,$=V+W,Y=Math.abs(V-S.top)<2,J=Math.abs($-(S.top+_))<2;if(Y&&I<$)Ho(S.left,I-W,v);else if(J&&G>V){const de=I-_+M+W;Ho(S.left,de,v)}})(l,m)})}),n.on("PostRender",()=>{w2(n,!1)})},isDocked:n=>n().map(Ms.isDocked).getOr(!1),getBehaviours:O1}),z_=wl({factory:(n,r)=>{const i={focus:Gt.focusIn,setMenus:(l,u)=>{const m=Ce(u,p=>{const x={type:"menubutton",text:p.text,fetch:_=>{_(p.getItems())},context:"any"},v=U6(x).mapError(_=>Pu(_)).getOrDie();return b2(v,"tox-mbtn",r.backstage,E.some("menuitem"))});So.set(l,m)}};return{uid:n.uid,dom:n.dom,components:[],behaviours:xt([So.config({}),uo("menubar-events",[is(l=>{n.onSetup(l)}),Ye(ri(),(l,u)=>{rs(l.element,".tox-mbtn--active").each(m=>{gl(u.event.target,".tox-mbtn").each(p=>{Zo(m,p)||l.getSystem().getByDom(m).each(x=>{l.getSystem().getByDom(p).each(v=>{nc.expand(v),nc.close(x),bo.focus(v)})})})})}),Ye(jg(),(l,u)=>{u.event.prevFocus.bind(m=>l.getSystem().getByDom(m).toOptional()).each(m=>{u.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{nc.isOpen(m)&&(nc.expand(p),nc.close(m))})})})]),Gt.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(n.onEscape(l),E.some(!0))}),un.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[dt("dom"),dt("uid"),dt("onEscape"),dt("backstage"),Le("onSetup",ue)],apis:{focus:(n,r)=>{n.focus(r)},setMenus:(n,r,i)=>{n.setMenus(r,i)}}});const LI=n=>({element:()=>n.element.dom}),FI=(n,r)=>{const i=Ce(zo(r),l=>{const u=r[l],m=Ii((p=>Ts("sidebar",Yv,p))(u));return{name:l,getApi:LI,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return Ce(i,l=>{const u=Nt(ue);return n.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:w1([vu(l,u),Of(l,u),Ye(u0(),(m,p)=>{const x=p.event;P(i,_=>_.name===x.name).each(_=>{(x.visible?_.onShow:_.onHide)(_.getApi(m))})})])})})},zI=n=>Wa.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:FI(r,n),slotBehaviours:w1([is(i=>Wa.hideAllSlots(i))])})),H_=(n,r)=>{io(n,"role",r)},HI=n=>yn.getCurrent(n).bind(r=>_l.isGrowing(r)||_l.hasGrown(r)?yn.getCurrent(r).bind(i=>P(Wa.getSlotNames(i),l=>Wa.isShowing(i,l))):E.none()),NS=Ae("FixSizeEvent"),MS=Ae("AutoSizeEvent"),WO=n=>yn.getCurrent(n).each(r=>br(r.element,!0)),VI=(n,r,i)=>{const l=Nt(!1),u=Fn(),m=x=>{var v;l.get()&&(!(_=>_.type==="focusin")(v=x)||!(v.composed?At(v.composedPath()):E.from(v.target)).map(Ft).filter(jo).exists(_=>ur(_,"mce-pastebin")))&&(x.preventDefault(),WO(r()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",m),n.on("BeforeExecCommand",x=>{x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&m(x)})});const p=x=>{x!==l.get()&&(l.set(x),((v,_,S,k)=>{const A=_.element;if(((M,I)=>{const G="tabindex",j=`data-mce-${G}`;E.from(M.iframeElement).map(Ft).each(W=>{I?(Yr(W,G).each(V=>io(W,j,V)),io(W,G,-1)):(js(W,G),Yr(W,j).each(V=>{io(W,G,V),js(W,j)}))})})(v,S),S)Yu.block(_,(M=>(I,G)=>({dom:{tag:"div",attributes:{"aria-label":M.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:bf('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(k)),fn(A,"display"),js(A,"aria-hidden"),v.hasFocus()&&WO(_);else{const M=yn.getCurrent(_).exists(I=>Wd(I.element));Yu.unblock(_),ko(A,"display","none"),io(A,"aria-hidden","true"),M&&v.focus()}})(n,r(),x,i.providers),((v,_)=>{v.dispatch("AfterProgressState",{state:_})})(n,x))};n.on("ProgressState",x=>{if(u.on(clearTimeout),Bt(x.time)){const v=sb.setEditorTimeout(n,()=>p(x.state),x.time);u.set(v)}else p(x.state),u.clear()})},qO=n=>{const r=n.label.isNone()?n.title.fold(()=>({}),i=>({attributes:{"aria-label":i}})):n.label.fold(()=>({}),i=>({attributes:{"aria-label":i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(n.label.isSome()?["tox-toolbar__group_with_label"]:[]),...r},components:[...n.label.map(i=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Ds(i)]})).toArray(),Tv.parts.items({})],items:n.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:xt([un.config({}),bo.config({ignore:!0})])}},V_=n=>Tv.sketch(qO(n)),BS=(n,r)=>{const i=is(l=>{const u=Ce(n.initGroups,V_);uu.setGroups(l,u)});return xt([Jv(()=>n.providers.checkUiComponentContext("any").shouldDisable),mr(()=>n.providers.checkUiComponentContext("any")),Gt.config({mode:r,onEscape:n.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),uo("toolbar-events",[i])])},R1=n=>{const r=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":qO({title:E.none(),label:E.none(),items:[]}),"overflow-button":nI({context:"any",icon:E.some("more-drawer"),enabled:!0,tooltip:E.some("Reveal or hide additional toolbar items")},E.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:BS(n,r)}},N1=n=>{const r=R1(n),i=vT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return vT.sketch({...r,lazySink:n.getSink,getOverflowBounds:()=>{const l=n.moreDrawerData.lazyHeader().element,u=Mu(l),m=ns(l),p=Mu(m),x=Math.max(m.dom.scrollHeight,p.height);return dn(u.x+4,p.y,u.width-8,x)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>n.onToggled(l,!0),onClosed:l=>n.onToggled(l,!1)})},$I=n=>{const r=Ow.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=Ow.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=R1(n);return Ow.sketch({...l,components:[r,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>{u.getSystem().broadcastOn([OS()],{type:"opened"}),n.onToggled(u,!0)},onClosed:u=>{u.getSystem().broadcastOn([OS()],{type:"closed"}),n.onToggled(u,!1)}})},$_=n=>{const r=n.cyclicKeying?"cyclic":"acyclic";return uu.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===Fc.scrolling?["tox-toolbar--scrolling"]:[])},components:[uu.parts.groups({})],toolbarBehaviours:BS(n,r)})},IS=(n,r)=>((i,l)=>{var u,m;const p=i.type==="togglebutton",x=i.icon.map(V=>Zp(V,l.icons)).map(Mn),v={...i,name:p?i.text.getOr(i.icon.getOr("")):(u=i.text)!==null&&u!==void 0?u:i.icon.getOr(""),primary:i.buttonType==="primary",buttonType:E.from(i.buttonType),tooltip:i.tooltip,icon:i.icon,enabled:!0,borderless:i.borderless},_=wS((m=i.buttonType)!==null&&m!==void 0?m:"secondary"),S=p?i.text.map(l.translate):E.some(l.translate(i.text)),k=S.map(Ds),A=v.tooltip.or(S).map(V=>({"aria-label":l.translate(V)})).getOr({}),M=x.map(V=>V.asSpec()),I=C1([M,k]),G=i.icon.isSome()&&k.isSome(),j={tag:"button",classes:_.concat(...i.icon.isSome()&&!G?["tox-button--icon"]:[]).concat(...G?["tox-button--icon-and-text"]:[]).concat(...i.borderless?["tox-button--naked"]:[]).concat(...i.type==="togglebutton"&&i.active?["tox-button--enabled"]:[]),attributes:A},W=M_(v,E.some(V=>{const $=Y=>{x.map(J=>J.getOpt(V).each(de=>{So.set(de,[Zp(Y,l.icons)])}))};return p?i.onAction({setIcon:$,setActive:Y=>{const J=V.element;Y?(ws(J,"tox-button--enabled"),io(J,"aria-pressed",!0)):(on(J,"tox-button--enabled"),js(J,"aria-pressed"))},isActive:()=>ur(V.element,"tox-button--enabled"),focus:()=>br(V.element)}):i.type==="button"?i.onAction({setIcon:$}):void 0}),[],j,I,i.tooltip,l);return ja.sketch(W)})(n,r),_2=we().deviceType,UI=_2.isPhone(),kb=_2.isTablet();var am=sl({name:"silver.View",configFields:[dt("viewConfig")],partFields:[Tc({factory:{sketch:n=>{let r=!1;const i=Ce(n.buttons,l=>l.type==="group"?(r=!0,((u,m)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ce(u.buttons,p=>IS(p,m))}))(l,n.providers)):IS(l,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...UI||kb?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:xt([bo.config({}),Gt.config({mode:"flow",selector:"button, .tox-button",focusInside:mt.OnEnterOrSpaceMode})]),components:r?i:[ec.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),ec.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}}},schema:[dt("buttons"),dt("providers")],name:"header"}),Tc({factory:{sketch:n=>({uid:n.uid,behaviours:xt([bo.config({}),un.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(n,r,i,l)=>{const u={getPane:m=>ba.getPart(m,n,"pane"),getOnShow:m=>n.viewConfig.onShow,getOnHide:m=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:r,behaviours:xt([bo.config({}),Gt.config({mode:"cyclic",focusInside:mt.OnEnterOrSpaceMode})]),apis:u}},apis:{getPane:(n,r)=>n.getPane(r),getOnShow:(n,r)=>n.getOnShow(r),getOnHide:(n,r)=>n.getOnHide(r)}});const ZI=(n,r,i)=>ua(r,(l,u)=>{const m=Ii(Ts("view",aD,l));return n.slot(u,am.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:m,components:[...m.buttons.length>0?[am.parts.header({buttons:m.buttons,providers:i})]:[],am.parts.pane({})]}))}),jI=(n,r)=>Wa.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:ZI(i,n,r),slotBehaviours:w1([is(l=>Wa.hideAllSlots(l))])})),GO=n=>P(Wa.getSlotNames(n),r=>Wa.isShowing(n,r)),KO=(n,r,i)=>{Wa.getSlot(n,r).each(l=>{am.getPane(l).each(u=>{var m;i(l)((m=u.element.dom,{getContainer:te(m)}))})})};var U_=wl({factory:(n,r)=>{const i={setViews:(l,u)=>{So.set(l,[jI(u,r.backstage.shared.providers)])},whichView:l=>yn.getCurrent(l).bind(GO),toggleView:(l,u,m,p)=>yn.getCurrent(l).exists(x=>{const v=GO(x),_=v.exists(k=>p===k),S=Wa.getSlot(x,p).isSome();return S&&(Wa.hideAllSlots(x),_?((k=>{const A=k.element;ko(A,"display","none"),io(A,"aria-hidden","true")})(l),u()):(m(),(k=>{const A=k.element;fn(A,"display"),js(A,"aria-hidden")})(l),Wa.showSlot(x,p),((k,A)=>{KO(k,A,am.getOnShow)})(x,p)),v.each(k=>((A,M)=>KO(A,M,am.getOnHide))(x,k))),S})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:xt([So.config({}),yn.config({find:l=>{const u=So.contents(l);return At(u)}})]),apis:i}},name:"silver.ViewWrapper",configFields:[dt("backstage")],apis:{setViews:(n,r,i)=>n.setViews(r,i),toggleView:(n,r,i,l,u)=>n.toggleView(r,i,l,u),whichView:(n,r)=>n.whichView(r)}});const WI=ng.optional({factory:z_,name:"menubar",schema:[dt("backstage")]}),qI=ng.optional({factory:{sketch:n=>S5.sketch({uid:n.uid,dom:n.dom,listBehaviours:xt([Gt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>$_({type:n.type,uid:Ae("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),E.some(!0))}),setupItem:(r,i,l,u)=>{uu.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[dt("dom"),dt("onEscape")]}),Z_=ng.optional({factory:{sketch:n=>(i=>i.type===Fc.sliding?$I:i.type===Fc.floating?N1:$_)(n)({type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),E.some(!0)),onToggled:(i,l)=>n.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes})},name:"toolbar",schema:[dt("dom"),dt("onEscape"),dt("getSink")]}),YO=ng.optional({factory:{sketch:n=>{const r=n.editor,i=n.sticky?O1:$O;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:xt(i(r,n.sharedBackstage))}}},name:"header",schema:[dt("dom")]}),GI=ng.optional({factory:{sketch:n=>{const r=n.promotionLink?[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"💝 Get all features"}}]:[];return{uid:n.uid,dom:n.dom,components:r}}},name:"promotion",schema:[dt("dom"),dt("promotionLink")]}),XO=ng.optional({name:"socket",schema:[dt("dom")]}),KI=ng.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:xt([un.config({}),bo.config({}),_l.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{yn.getCurrent(r).each(Wa.hideAllSlots),Ko(r,MS)},onGrown:r=>{Ko(r,MS)},onStartGrow:r=>{Kt(r,NS,{width:cr(r.element,"width").getOr("")})},onStartShrink:r=>{Kt(r,NS,{width:Pn(r.element)+"px"})}}),So.config({}),yn.config({find:r=>{const i=So.contents(r);return At(i)}})])}],behaviours:xt([A1(0),uo("sidebar-sliding-events",[Ye(NS,(r,i)=>{ko(r.element,"width",i.event.width)}),Ye(MS,(r,i)=>{fn(r.element,"width")})])])})},name:"sidebar",schema:[dt("dom")]}),YI=ng.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:xt([So.config({}),Yu.config({focus:!1}),yn.config({find:r=>At(r.components())})]),components:[]})},name:"throbber",schema:[dt("dom")]}),PS=ng.optional({factory:U_,name:"viewWrapper",schema:[dt("backstage")]}),oF=ng.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components})},name:"editorContainer",schema:[]});var Zn=sl({name:"OuterContainer",factory:(n,r,i)=>{let l=!1;const u=p=>{ax(p,".tox-statusbar").each(x=>{za(x,"display")==="none"&&Eo(x,"aria-hidden")==="true"?(fn(x,"display"),js(x,"aria-hidden")):(ko(x,"display","none"),io(x,"aria-hidden","true"))})},m={getSocket:p=>ba.getPart(p,n,"socket"),setSidebar:(p,x,v)=>{ba.getPart(p,n,"sidebar").each(_=>((S,k,A)=>{yn.getCurrent(S).each(M=>{So.set(M,[zI(k)]);const I=A?.toLowerCase();Oe(I)&&rn(k,I)&&yn.getCurrent(M).each(G=>{Wa.showSlot(G,I),_l.immediateGrow(M),fn(M.element,"width"),H_(S.element,"region")})})})(_,x,v))},toggleSidebar:(p,x)=>{ba.getPart(p,n,"sidebar").each(v=>((_,S)=>{yn.getCurrent(_).each(k=>{yn.getCurrent(k).each(A=>{_l.hasGrown(k)?Wa.isShowing(A,S)?(_l.shrink(k),H_(_.element,"presentation")):(Wa.hideAllSlots(A),Wa.showSlot(A,S),H_(_.element,"region")):(Wa.hideAllSlots(A),Wa.showSlot(A,S),_l.grow(k),H_(_.element,"region"))})})})(v,x))},whichSidebar:p=>ba.getPart(p,n,"sidebar").bind(HI).getOrNull(),getHeader:p=>ba.getPart(p,n,"header"),getToolbar:p=>ba.getPart(p,n,"toolbar"),setToolbar:(p,x)=>{ba.getPart(p,n,"toolbar").each(v=>{const _=Ce(x,V_);v.getApis().setGroups(v,_)})},setToolbars:(p,x)=>{ba.getPart(p,n,"multiple-toolbar").each(v=>{const _=Ce(x,S=>Ce(S,V_));S5.setItems(v,_)})},refreshToolbar:p=>{ba.getPart(p,n,"toolbar").each(x=>x.getApis().refresh(x))},toggleToolbarDrawer:p=>{ba.getPart(p,n,"toolbar").each(x=>{zd(x.getApis().toggle,v=>v(x))})},toggleToolbarDrawerWithoutFocusing:p=>{ba.getPart(p,n,"toolbar").each(x=>{zd(x.getApis().toggleWithoutFocusing,v=>v(x))})},isToolbarDrawerToggled:p=>ba.getPart(p,n,"toolbar").bind(x=>E.from(x.getApis().isOpen).map(v=>v(x))).getOr(!1),getThrobber:p=>ba.getPart(p,n,"throbber"),focusToolbar:p=>{ba.getPart(p,n,"toolbar").orThunk(()=>ba.getPart(p,n,"multiple-toolbar")).each(x=>{Gt.focusIn(x)})},setMenubar:(p,x)=>{ba.getPart(p,n,"menubar").each(v=>{z_.setMenus(v,x)})},focusMenubar:p=>{ba.getPart(p,n,"menubar").each(x=>{z_.focus(x)})},setViews:(p,x)=>{ba.getPart(p,n,"viewWrapper").each(v=>{U_.setViews(v,x)})},toggleView:(p,x)=>ba.getPart(p,n,"viewWrapper").exists(v=>U_.toggleView(v,()=>m.showMainView(p),()=>m.hideMainView(p),x)),whichView:p=>ba.getPart(p,n,"viewWrapper").bind(U_.whichView).getOrNull(),hideMainView:p=>{l=m.isToolbarDrawerToggled(p),l&&m.toggleToolbarDrawer(p),ba.getPart(p,n,"editorContainer").each(x=>{const v=x.element;u(v),ko(v,"display","none"),io(v,"aria-hidden","true")})},showMainView:p=>{l&&m.toggleToolbarDrawer(p),ba.getPart(p,n,"editorContainer").each(x=>{const v=x.element;u(v),fn(v,"display"),js(v,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:r,apis:m,behaviours:n.behaviours}},configFields:[dt("dom"),dt("behaviours")],partFields:[YO,WI,Z_,qI,XO,KI,GI,YI,PS,oF],apis:{getSocket:(n,r)=>n.getSocket(r),setSidebar:(n,r,i,l)=>{n.setSidebar(r,i,l)},toggleSidebar:(n,r,i)=>{n.toggleSidebar(r,i)},whichSidebar:(n,r)=>n.whichSidebar(r),getHeader:(n,r)=>n.getHeader(r),getToolbar:(n,r)=>n.getToolbar(r),setToolbar:(n,r,i)=>{n.setToolbar(r,i)},setToolbars:(n,r,i)=>{n.setToolbars(r,i)},refreshToolbar:(n,r)=>n.refreshToolbar(r),toggleToolbarDrawer:(n,r)=>{n.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(n,r)=>{n.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(n,r)=>n.isToolbarDrawerToggled(r),getThrobber:(n,r)=>n.getThrobber(r),setMenubar:(n,r,i)=>{n.setMenubar(r,i)},focusMenubar:(n,r)=>{n.focusMenubar(r)},focusToolbar:(n,r)=>{n.focusToolbar(r)},setViews:(n,r,i)=>{n.setViews(r,i)},toggleView:(n,r,i)=>n.toggleView(r,i),whichView:(n,r)=>n.whichView(r)}});const QO={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},LS=n=>n.split(" "),JO=(n,r)=>{const i={...QO,...r.menus},l=zo(r.menus).length>0,u=r.menubar===void 0||r.menubar===!0?LS("file edit view insert format tools table help"):LS(r.menubar===!1?"":r.menubar),m=Co(u,x=>{const v=rn(QO,x);return l?v||Jt(r.menus,x).exists(_=>rn(_,"items")):v}),p=Ce(m,x=>{const v=i[x];return((_,S,k)=>{const A=MT(k).split(/[ ,]/);return{text:_.title,getItems:()=>Fo(_.items,M=>{const I=M.toLowerCase();return I.trim().length===0||_n(A,G=>G===I)?[]:I==="separator"||I==="|"?[{type:"separator"}]:S.menuItems[I]?[S.menuItems[I]]:[]})}})({title:v.title,items:LS(v.items)},r,n)});return Co(p,x=>x.getItems().length>0&&_n(x.getItems(),v=>Oe(v)||v.type!=="separator"))},FS=(n,r,i)=>(n.on("remove",()=>i.unload(r)),i.load(r)),C2=(n,r,i,l)=>(n.on("remove",()=>l.unloadRawCss(r)),l.loadRawCss(r,i)),XI=n=>E.from(tinymce.Resource.get(n)).filter(Oe),zS=(n,r,i="")=>{const l=(m=>{const p=O4(m);return p?E.from(p):E.none()})(n).map(m=>((p,x)=>"ui/"+p+"/"+x)(m,`${r}.css`)),u=l.bind(XI);return Rl(l,u,(m,p)=>({_kind:"load-raw",key:m,css:p})).getOrThunk(()=>{const m=n.editorManager.suffix;return{_kind:"load-stylesheet",url:i+`/${r}${m}.css`}})},e8=(n,r)=>{const i=n.ui.styleSheetLoader,l=zS(n,"skin",r);switch(l._kind){case"load-raw":const{key:u,css:m}=l;return C2(n,u,m,i),Promise.resolve();case"load-stylesheet":const{url:p}=l;return FS(n,p,i);default:return Promise.resolve()}},QI=(n,r)=>{var i;if(i=Ft(n.getElement()),!xm(i).isSome())return Promise.resolve();{const l=d1.DOM.styleSheetLoader,u=zS(n,"skin.shadowdom",r);switch(u._kind){case"load-raw":const{key:m,css:p}=u;return C2(n,m,p,l),Promise.resolve();case"load-stylesheet":const{url:x}=u;return FS(n,x,l);default:return Promise.resolve()}}},t8=(n,r)=>(async(i,l)=>{const u=ab(l);if(await((m,p,x)=>{const v=zS(m,p?"content.inline":"content",x);switch(v._kind){case"load-raw":const{key:_,css:S}=v;return p?C2(m,_,S,m.ui.styleSheetLoader):m.on("PostRender",()=>{C2(m,_,S,m.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:k}=v;return x&&m.contentCSS.push(k),Promise.resolve();default:return Promise.resolve()}})(l,i,u),!g1(l)&&Oe(u))return Promise.all([e8(l,u),QI(l,u)]).then()})(n,r).then((i=>{const l=()=>{i._skinLoaded=!0,(u=>{u.dispatch("SkinLoaded")})(i)};return()=>{i.initialized?l():i.on("init",l)}})(r),(i=>()=>((l,u)=>{l.dispatch("SkinLoadError",u)})(i,{message:"Skin could not be loaded"}))(r)),j_=ln(t8,!1),JI=ln(t8,!0),eP=n=>({isEnabled:()=>!Qt.isDisabled(n),setEnabled:r=>Qt.set(n,!r),setText:r=>Kt(n,zc,{text:r}),setIcon:r=>Kt(n,D1,{icon:r})}),HS=n=>({setActive:r=>{an.set(n,r)},isActive:()=>an.isOn(n),isEnabled:()=>!Qt.isDisabled(n),setEnabled:r=>Qt.set(n,!r),setText:r=>Kt(n,zc,{text:r}),setIcon:r=>Kt(n,D1,{icon:r})}),tP=(n,r)=>n.map(i=>({"aria-label":r.translate(i)})).getOr({}),VS=Ae("focus-button"),W_=(n,r,i,l,u,m,p)=>{const x=r.map(_=>Mn(p2(_,"tox-tbtn",u))),v=n.map(_=>Mn(Zp(_,u.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:{...tP(i,u),...ye(p)?{"data-mce-name":p}:{}}},components:C1([v.map(_=>_.asSpec()),x.map(_=>_.asSpec())]),eventOrder:{[el()]:["focusing","alloy.base.behaviour",Nf],[Cc()]:[Nf,"toolbar-group-button-events"],[ou()]:[Nf,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:xt([Jv(()=>u.checkUiComponentContext(m).shouldDisable),mr(()=>u.checkUiComponentContext(m)),uo(Nf,[is((_,S)=>fS(_)),Ye(zc,(_,S)=>{x.bind(k=>k.getOpt(_)).each(k=>{So.set(k,[Ds(u.translate(S.event.text))])})}),Ye(D1,(_,S)=>{v.bind(k=>k.getOpt(_)).each(k=>{So.set(k,[Zp(S.event.icon,u.icons)])})}),Ye(el(),(_,S)=>{S.event.prevent(),Ko(_,VS)})])].concat(l.getOr([])))}},o8=(n,r,i,l)=>{var u;const m=Nt(ue),p=W_(n.icon,n.text,n.tooltip,E.none(),i,n.context,l);return ja.sketch({dom:p.dom,components:p.components,eventOrder:aO,buttonBehaviours:{...xt([uo("toolbar-button-events",[(x={onAction:n.onAction,getApi:r.getApi},Oc((v,_)=>{xb(x,v)(S=>{Kt(v,gS,{buttonApi:S}),x.onAction(S)})})),vu(r,m),Of(r,m)]),...n.tooltip.map(v=>hs.config(i.tooltips.getConfig({tooltipText:i.translate(v)+n.shortcut.map(_=>` (${S3(_)})`).getOr("")}))).toArray(),Jv(()=>!n.enabled||i.checkUiComponentContext(n.context).shouldDisable),mr(()=>i.checkUiComponentContext(n.context))].concat(r.toolbarButtonBehaviours)),[Nf]:(u=p.buttonBehaviours)===null||u===void 0?void 0:u[Nf]}});var x},q_=(n,r,i,l)=>o8(n,{toolbarButtonBehaviours:i.length>0?[uo("toolbarButtonWith",i)]:[],getApi:eP,onSetup:n.onSetup},r,l),$S=(n,r,i,l)=>o8(n,{toolbarButtonBehaviours:[So.config({}),an.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[uo("toolbarToggleButtonWith",i)]:[]),getApi:HS,onSetup:n.onSetup},r,l),n8=(n,r,i)=>l=>Jo(u=>r.fetch(u)).map(u=>E.from(X3(vs(__(Ae("menu-value"),u,m=>{r.onItemAction(n(l),m)},r.columns,r.presets,pu.CLOSE_ON_EXECUTE,r.select.getOr(He),i),{movement:l2(r.columns,r.presets),menuBehaviours:w1(r.columns!=="auto"?[]:[is((m,p)=>{Qv(m,4,m6(r.presets)).each(({numRows:x,numColumns:v})=>{Gt.setGridSize(m,x,v)})})])})))),bg=n=>{Bs.getContent(n).each(r=>{rs(r.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold(()=>Gt.focusIn(r),br)})},Wp=Ae("forward-slide"),G_=Ae("backward-slide"),US=Ae("change-slide-event"),K_="tox-pop--resizing",Sb=(n,r,i)=>pc(i)?n.translate(r):n.translate([r,n.translate(i)]),s8=(n,r)=>{const i=(m,p,x,v)=>{const _=n.shared.providers.translate(m.title);if(m.type==="separator")return E.some({type:"separator",text:_});if(m.type==="submenu"){const S=Fo(m.getStyleItems(),k=>l(k,p,v));return p===0&&S.length<=0?E.none():E.some({type:"nestedmenuitem",text:_,enabled:S.length>0,getSubmenuItems:()=>Fo(m.getStyleItems(),k=>l(k,p,v))})}return E.some({type:"togglemenuitem",text:_,icon:m.icon,active:m.isSelected(v),enabled:!x,onAction:r.onAction(m),...m.getStylePreview().fold(()=>({}),S=>({meta:{style:S}}))})},l=(m,p,x)=>{const v=m.type==="formatter"&&r.isInvalid(m);return p===0?v?[]:i(m,p,!1,x).toArray():i(m,p,v,x).toArray()},u=m=>{const p=r.getCurrentValue(),x=r.shouldHide?0:1;return Fo(m,v=>l(v,x,p))};return{validateItems:u,getFetch:(m,p)=>(x,v)=>{const _=p(),S=u(_);v(jp(S,pu.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:E.none()}))}}},Eb=(n,r)=>{const i=r.dataset,l=i.type==="basic"?()=>Ce(i.data,u=>RO(u,r.isSelectedFor,r.getPreviewFor)):i.getData;return{items:s8(n,r),getStyleItems:l}},k2=(n,r,i,l,u,m)=>{const{items:p,getStyleItems:x}=Eb(r,i),v=Nt(i.tooltip);return hS({context:"mode:design",text:i.icon.isSome()?E.none():i.text,icon:i.icon,ariaLabel:E.some(i.tooltip),tooltip:E.none(),role:E.none(),fetch:p.getFetch(r,x),onSetup:_=>{const S=k=>_.setTooltip(Sb(n,l(k.value),k.value));return n.on(u,S),r2(Rf(n,"NodeChange",k=>{const A=k.getComponent();i.updateText(A),Qt.set(k.getComponent(),!n.selection.isEditable()||x().length===0)})(_),()=>n.off(u,S))},getApi:_=>({getComponent:te(_),setTooltip:S=>{const k=r.shared.providers.translate(S);io(_.element,"aria-label",k),v.set(S)}}),columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[hs.config({...r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(i.tooltip),onShow:_=>{if(i.tooltip!==v.get()){const S=r.shared.providers.translate(v.get());hs.setComponents(_,r.shared.providers.tooltips.getComponents({tooltipText:S}))}}})})]},"tox-tbtn",r.shared,m)};var Ab;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(Ab||(Ab={}));const ZS=(n,r,i)=>{const l=(u=((m,p)=>p===Ab.SemiColon?m.replace(/;$/,"").split(";"):m.split(" "))(n.options.get(r),i),Ce(u,m=>{let p=m,x=m;const v=m.split("=");return v.length>1&&(p=v[0],x=v[1]),{title:p,format:x}}));var u;return{type:"basic",data:l}},r8=te("Alignment {0}"),a8="left",jS=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],i8=n=>{const r={type:"basic",data:jS};return{tooltip:Sb(n,r8(),a8),text:E.none(),icon:E.some("align-left"),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:E.none,getPreviewFor:i=>E.none,onAction:i=>()=>P(jS,l=>l.format===i.format).each(l=>n.execCommand(l.command)),updateText:i=>{const l=P(jS,u=>n.formatter.match(u.format)).fold(te(a8),u=>u.title.toLowerCase());Kt(i,D1,{icon:`align-${l}`}),((u,m)=>{u.dispatch("AlignTextUpdate",m)})(n,{value:l})},dataset:r,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},Y_=(n,r)=>{const i=r(),l=Ce(i,u=>u.format);return E.from(n.formatter.closest(l)).bind(u=>P(i,m=>m.format===u))},l8=te("Block {0}"),WS="Paragraph",c8=n=>{const r=ZS(n,"block_formats",Ab.SemiColon);return{tooltip:Sb(n,l8(),WS),text:E.some(WS),icon:E.none(),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:E.none,getPreviewFor:i=>()=>{const l=n.formatter.get(i);return l?E.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(i))}):E.none()},onAction:v_(n),updateText:i=>{const l=Y_(n,()=>r.data).fold(te(WS),u=>u.title);Kt(i,zc,{text:l}),((u,m)=>{u.dispatch("BlocksTextUpdate",m)})(n,{value:l})},dataset:r,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},qS=te("Font {0}"),GS="System Font",oP=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],d8=n=>{const r=n.split(/\s*,\s*/);return Ce(r,i=>i.replace(/^['"]+|['"]+$/g,""))},KS=(n,r)=>r.length>0&&ui(r,i=>n.indexOf(i.toLowerCase())>-1),u8=n=>{const r=()=>{const l=_=>_?d8(_)[0]:"",u=n.queryCommandValue("FontName"),m=i.data,p=u?u.toLowerCase():"",x=ZT(n);return{matchOpt:P(m,_=>{const S=_.format;return S.toLowerCase()===p||l(S).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>$s(((_,S)=>{if(_.indexOf("-apple-system")===0||S.length>0){const k=d8(_.toLowerCase());return KS(k,oP)||KS(k,S)}return!1})(p,x),{title:GS,format:p})),font:u}},i=ZS(n,"font_family_formats",Ab.SemiColon);return{tooltip:Sb(n,qS(),GS),text:E.some(GS),icon:E.none(),isSelectedFor:l=>u=>u.exists(m=>m.format===l),getCurrentValue:()=>{const{matchOpt:l}=r();return l},getPreviewFor:l=>()=>E.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:u,font:m}=r(),p=u.fold(te(m),x=>x.title);Kt(l,zc,{text:p}),((x,v)=>{x.dispatch("FontFamilyTextUpdate",v)})(n,{value:p})},dataset:i,shouldHide:!1,isInvalid:He}};var X_=tinymce.util.Tools.resolve("tinymce.util.VK");const m8=te("Font size {0}"),g8="12pt",nP={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},f8={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},p8=(n,r)=>/[0-9.]+px$/.test(n)?((i,l)=>{const u=Math.pow(10,l);return Math.round(i*u)/u})(72*parseInt(n,10)/96,r||0)+"pt":Jt(f8,n).getOr(n),sP=n=>Jt(nP,n).getOr(""),h8=n=>{const r=()=>{let u=E.none();const m=l.data,p=n.queryCommandValue("FontSize");if(p)for(let x=3;u.isNone()&&x>=0;x--){const v=p8(p,x),_=sP(v);u=P(m,S=>S.format===p||S.format===v||S.format===_)}return{matchOpt:u,size:p}},i=te(E.none),l=ZS(n,"font_size_formats",Ab.Space);return{tooltip:Sb(n,m8(),g8),text:E.some(g8),icon:E.none(),isSelectedFor:u=>m=>m.exists(p=>p.format===u),getPreviewFor:i,getCurrentValue:()=>{const{matchOpt:u}=r();return u},onAction:u=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,u.format)})},updateText:u=>{const{matchOpt:m,size:p}=r(),x=m.fold(te(p),v=>v.title);Kt(u,zc,{text:x}),((v,_)=>{v.dispatch("FontSizeTextUpdate",_)})(n,{value:x})},dataset:l,shouldHide:!1,isInvalid:He}},b8=n=>pc(n)?"Formats":"Format {0}",x8=(n,r)=>{const i="Formats";return{tooltip:Sb(n,b8(""),""),text:E.some(i),icon:E.none(),isSelectedFor:l=>()=>n.formatter.match(l),getCurrentValue:E.none,getPreviewFor:l=>()=>{const u=n.formatter.get(l);return u!==void 0?E.some({tag:u.length>0&&(u[0].inline||u[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(l))}):E.none()},onAction:v_(n),updateText:l=>{const u=x=>EO(x)?Fo(x.items,u):AO(x)?[{title:x.title,format:x.format}]:[],m=Fo(OO(n),u),p=Y_(n,te(m)).fold(te({title:i,tooltipLabel:""}),x=>({title:x.title,tooltipLabel:x.title}));Kt(l,zc,{text:p.title}),((x,v)=>{x.dispatch("StylesTextUpdate",v)})(n,{value:p.tooltipLabel})},shouldHide:dg(n),isInvalid:l=>!n.formatter.canApply(l.format),dataset:r}},rP=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Tb=(n,r)=>(i,l,u,m)=>{const p=n(i).mapError(x=>Pu(x)).getOrDie();return r(p,l,u,m)},Db={button:Tb(d_,(n,r,i,l)=>((u,m,p)=>q_(u,m,[],p))(n,r.shared.providers,l)),togglebutton:Tb(J6,(n,r,i,l)=>((u,m,p)=>$S(u,m,[],p))(n,r.shared.providers,l)),menubutton:Tb(U6,(n,r,i,l)=>b2(n,"tox-tbtn",r,E.none(),!1,l)),splitbutton:Tb(n=>Ts("SplitButton",TB,n),(n,r,i,l)=>((u,m,p)=>{const x=Nt(ue),v=Nt(u.tooltip.getOr("")),_=((W,V,$)=>Y=>{const J=Y.getSystem(),de=Y.element,ce=()=>{const Ne=ur(de,"tox-split-button__chevron");return{mainOpt:Ne?Gi(de).bind($e=>J.getByDom($e).toOptional()):E.some(Y),chevronOpt:Ne?E.some(Y):ir(de).bind($e=>J.getByDom($e).toOptional().filter(Ue=>ur(Ue.element,"tox-split-button__chevron")))}},he=Ne=>{const{mainOpt:$e,chevronOpt:Ue}=ce();$e.each(Ne),Ue.each(Ne)};return{isEnabled:()=>{const{mainOpt:Ne}=ce();return Ne.exists($e=>!Qt.isDisabled($e))},setEnabled:Ne=>he($e=>Qt.set($e,!Ne)),setText:Ne=>{const{mainOpt:$e}=ce();$e.each(Ue=>Kt(Ue,zc,{text:Ne}))},setIcon:Ne=>{const{mainOpt:$e}=ce();$e.each(Ue=>Kt(Ue,D1,{icon:Ne}))},setIconFill:(Ne,$e)=>he(Ue=>{rs(Ue.element,`svg path[class="${Ne}"], rect[class="${Ne}"]`).each(qe=>{io(qe,"fill",$e)})}),isActive:()=>{const{mainOpt:Ne}=ce();return Ne.exists($e=>an.isOn($e))},setActive:Ne=>{const{mainOpt:$e}=ce();$e.each(Ue=>an.set(Ue,Ne))},setTooltip:Ne=>{W.set(Ne);const{mainOpt:$e,chevronOpt:Ue}=ce();$e.each(lt=>io(lt.element,"aria-label",V.providers.translate(Ne)));const qe=$.chevronTooltip.map(lt=>V.providers.translate(lt)).getOr(V.providers.translate(`${Ne} menu`));Ue.each(lt=>io(lt.element,"aria-label",qe))}}})(v,m,u),S=Ae("tox-split-menu"),k=Nt(!1),A=()=>u.tooltip.map(W=>m.providers.translate(W)).getOr(m.providers.translate("Text color")),M=()=>u.chevronTooltip.map(W=>m.providers.translate(W)).getOrThunk(()=>{const W=A();return m.providers.translate(["{0} menu",W])}),I=(W,V)=>{k.set(W),io(V.element,"aria-expanded",String(W))},G=nc.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:K4("chevron-down",m.providers.icons),attributes:{"aria-label":M(),...ye(p)?{"data-mce-name":p+"-chevron"}:{},"aria-haspopup":"menu","aria-expanded":String(k.get()),"aria-controls":S}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:xt([uo("split-dropdown-events",[is((W,V)=>fS(W)),vu({getApi:_,onSetup:u.onSetup},x),Ye("alloy-dropdown-open",W=>I(!0,W)),Ye("alloy-dropdown-close",W=>I(!1,W))]),Jv(()=>m.providers.checkUiComponentContext(u.context).shouldDisable),mr(()=>m.providers.checkUiComponentContext(u.context)),fv.config({}),hs.config(m.providers.tooltips.getConfig({tooltipText:M(),onShow:W=>{if(v.get()!==u.tooltip.getOr("")){const V=u.chevronTooltip.map($=>m.providers.translate($)).getOr(`${m.providers.translate(v.get())} menu`);hs.setComponents(W,m.providers.tooltips.getComponents({tooltipText:V}))}}}))]),lazySink:m.getSink,fetch:n8(_,u,m.providers),getHotspot:W=>Gi(W.element).bind(V=>W.getSystem().getByDom(V).toOptional()),onOpen:(W,V,$)=>{pn.highlightBy($,Y=>ur(Y.element,"tox-collection__item--active")),pn.getHighlighted($).each(Gt.focusIn)},parts:{menu:{...p1(0,u.columns,u.presets),dom:{...p1(0,u.columns,u.presets).dom,tag:"div",attributes:{id:S}}}}});return[ja.sketch({...W_(u.icon,u.text,E.none(),E.some([an.config({toggleClass:"tox-tbtn--enabled",aria:u.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),Jv(()=>m.providers.checkUiComponentContext(u.context).shouldDisable),mr(()=>m.providers.checkUiComponentContext(u.context)),uo("split-main-aria-events",[]),...u.tooltip.isSome()?[hs.config(m.providers.tooltips.getConfig({tooltipText:m.providers.translate(u.tooltip.getOr("")),onShow:W=>{if(v.get()!==u.tooltip.getOr("")){const V=m.providers.translate(v.get());hs.setComponents(W,m.providers.tooltips.getComponents({tooltipText:V}))}}}))]:[]]),m.providers,u.context,p),dom:{...W_(u.icon,u.text,E.none(),E.none(),m.providers,u.context,p).dom,classes:["tox-tbtn","tox-split-button__main"],attributes:{"aria-label":A(),...ye(p)?{"data-mce-name":p}:{}}},action:W=>{if(u.onAction){const V=_(W);V.isEnabled()&&u.onAction(V)}}}),G]})(n,r.shared,l)),grouptoolbarbutton:Tb(n=>Ts("GroupToolbarButton",ic,n),(n,r,i,l)=>{const u=i.ui.registry.getAll().buttons,m={[Hm]:r.shared.header.isPositionedAtTop()?au.TopToBottom:au.BottomToTop};if(Rp(i)===Fc.floating)return((p,x,v,_,S)=>{const k=x.shared,A=Nt(ue),M={toolbarButtonBehaviours:[],getApi:eP,onSetup:p.onSetup},I=[uo("toolbar-group-button-events",[vu(M,A),Of(M,A)]),...p.tooltip.map(G=>hs.config(x.shared.providers.tooltips.getConfig({tooltipText:x.shared.providers.translate(G)}))).toArray()];return Ap.sketch({lazySink:k.getSink,fetch:()=>Jo(G=>{G(Ce(v(p.items),V_))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:W_(p.icon,p.text,p.tooltip,E.some(I),k.providers,p.context,S),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:_}}}})})(n,r,p=>Q_(i,{buttons:u,toolbar:p,allowToolbarGroups:!1},r,E.none()),m,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},v8={styles:(n,r)=>{const i={type:"advanced",...r.styles};return k2(n,r,x8(n,i),b8,"StylesTextUpdate","styles")},fontsize:(n,r)=>k2(n,r,h8(n),m8,"FontSizeTextUpdate","fontsize"),fontsizeinput:(n,r)=>((i,l,u,m)=>{let p=E.none();const x=Rf(i,"NodeChange SwitchMode DisabledStateChange",Y=>{const J=Y.getComponent();p=E.some(J),u.updateInputValue(J),Qt.set(J,!i.selection.isEditable()||Op(i))}),v=Y=>({getComponent:te(Y)}),_=Nt(ue),S=Ae("custom-number-input-events"),k=(Y,J,de)=>{const ce=p.map(qe=>Ht.getValue(qe)).getOr(""),he=u.getNewValue(ce,Y),Ne=ce.length-`${he}`.length,$e=p.map(qe=>qe.element.dom.selectionStart-Ne),Ue=p.map(qe=>qe.element.dom.selectionEnd-Ne);u.onAction(he,de),p.each(qe=>{Ht.setValue(qe,he),J&&($e.each(lt=>qe.element.dom.selectionStart=lt),Ue.each(lt=>qe.element.dom.selectionEnd=lt))})},A=(Y,J)=>k((de,ce)=>de-ce,Y,J),M=(Y,J)=>k((de,ce)=>de+ce,Y,J),I=Y=>fa(Y.element).fold(E.none,J=>(br(J),E.some(!0))),G=Y=>Wd(Y.element)?(Ca(Y.element).each(J=>br(J)),E.some(!0)):E.none(),j=(Y,J,de,ce)=>{const he=Nt(ue),Ne=l.shared.providers.translate(de),$e=Ae("altExecuting"),Ue=Rf(i,"NodeChange SwitchMode DisabledStateChange",lt=>{Qt.set(lt.getComponent(),!i.selection.isEditable()||Op(i))}),qe=lt=>{Qt.isDisabled(lt)||Y(!0)};return ja.sketch({dom:{tag:"button",attributes:{"aria-label":Ne,"data-mce-name":J},classes:ce.concat(J)},components:[pS(J,l.shared.providers.icons)],buttonBehaviours:xt([Qt.config({}),hs.config(l.shared.providers.tooltips.getConfig({tooltipText:Ne})),uo($e,[vu({onSetup:Ue,getApi:v},he),Of({getApi:v},he),Ye(_c(),(lt,Wt)=>{Wt.event.raw.keyCode!==X_.SPACEBAR&&Wt.event.raw.keyCode!==X_.ENTER||Qt.isDisabled(lt)||Y(!1)}),Ye(Bm(),qe),Ye(Nm(),qe)])]),eventOrder:{[_c()]:[$e,"keying"],[Bm()]:[$e,"alloy.base.behaviour"],[Nm()]:[$e,"alloy.base.behaviour"],[Cc()]:["alloy.base.behaviour",$e,"tooltipping"],[ou()]:[$e,"tooltipping"]}})},W=Mn(j(Y=>A(!1,Y),"minus","Decrease font size",[])),V=Mn(j(Y=>M(!1,Y),"plus","Increase font size",[])),$=Mn({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[_f.sketch({inputBehaviours:xt([Qt.config({}),uo(S,[vu({onSetup:x,getApi:v},_),Of({getApi:v},_)]),uo("input-update-display-text",[Ye(zc,(Y,J)=>{Ht.setValue(Y,J.event.text)}),Ye(dx(),Y=>{u.onAction(Ht.getValue(Y))}),Ye(Mm(),Y=>{u.onAction(Ht.getValue(Y))})]),Gt.config({mode:"special",onEnter:Y=>(k(gt,!0,!0),E.some(!0)),onEscape:I,onUp:Y=>(M(!0,!1),E.some(!0)),onDown:Y=>(A(!0,!1),E.some(!0)),onLeft:(Y,J)=>(J.cut(),E.none()),onRight:(Y,J)=>(J.cut(),E.none())})])})],behaviours:xt([bo.config({}),Gt.config({mode:"special",onEnter:G,onSpace:G,onEscape:I}),uo("input-wrapper-events",[Ye(ri(),Y=>{bt([W,V],J=>{const de=Ft(J.get(Y).element.dom);Wd(de)&&Ki(de)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...ye(m)?{"data-mce-name":m}:{}}},components:[W.asSpec(),$.asSpec(),V.asSpec()],behaviours:xt([bo.config({}),Gt.config({mode:"flow",focusInside:mt.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Y=>Wd(Y.element)?E.none():(br(Y.element),E.some(!0))})])}})(n,r,(i=>{const l=()=>i.queryCommandValue("FontSize");return{updateInputValue:u=>Kt(u,zc,{text:l()}),onAction:(u,m)=>i.execCommand("FontSize",!1,u,{skip_focus:!m}),getNewValue:(u,m)=>{bc(u,["unsupportedLength","empty"]);const p=l(),x=bc(u,["unsupportedLength","empty"]).or(bc(p,["unsupportedLength","empty"])),v=x.map(M=>M.value).getOr(16),_=C4(i),S=x.map(M=>M.unit).filter(M=>M!=="").getOr(_),k=m(v,(M=>{var I;return(I={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[M])!==null&&I!==void 0?I:{step:1}})(S).step),A=`${(M=>M>=0)(k)?k:v}${S}`;return A!==p&&((M,I)=>{M.dispatch("FontSizeInputTextUpdate",I)})(i,{value:A}),A}}})(n),"fontsizeinput"),fontfamily:(n,r)=>k2(n,r,u8(n),qS,"FontFamilyTextUpdate","fontfamily"),blocks:(n,r)=>k2(n,r,c8(n),l8,"BlocksTextUpdate","blocks"),align:(n,r)=>k2(n,r,i8(n),r8,"AlignTextUpdate","align"),navigateback:(n,r)=>{const i=Ii(d_({type:"button",icon:"chevron-left",tooltip:"Back",onAction:ue}));return q_(i,r.shared.providers,[Ye(gS,l=>{Ko(l,G_)})])}},Q_=(n,r,i,l)=>{const u=(p=>{const x=p.toolbar,v=p.buttons;return x===!1?[]:x===void 0||x===!0?(_=>{const S=Ce(rP,k=>{const A=Co(k.items,M=>rn(_,M)||rn(v8,M));return{name:k.name,items:A}});return Co(S,k=>k.items.length>0)})(v):Oe(x)?(_=>{const S=_.split("|");return Ce(S,k=>({items:k.trim().split(" ")}))})(x):(_=>yt(_,S=>(rn(S,"name")||rn(S,"label"))&&rn(S,"items")))(x)?x:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(r),m=Ce(u,p=>{const x=Fo(p.items,v=>v.trim().length===0?[]:((_,S,k,A,M,I)=>Jt(S,k.toLowerCase()).orThunk(()=>I.bind(G=>mn(G,j=>Jt(S,j+k.toLowerCase())))).fold(()=>Jt(v8,k.toLowerCase()).map(G=>G(_,M)),G=>G.type!=="grouptoolbarbutton"||A?((j,W,V,$)=>Jt(Db,j.type).fold(()=>(console.error("skipping button defined by",j),E.none()),Y=>E.some(Y(j,W,V,$))))(G,M,_,k.toLowerCase()):(console.warn(`Ignoring the '${k}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),E.none())))(n,r.buttons,v,r.allowToolbarGroups,i,l).map(_=>Array.isArray(_)?_:[_]).getOr([]));return{title:E.from(n.translate(p.name)),label:$s(p.label!==void 0,n.translate(p.label)),items:x}});return Co(m,p=>p.items.length>0)},y8=(n,r,i,l)=>{const u=r.mainUi.outerContainer,m=i.toolbar,p=i.buttons;if(yt(m,Oe)){const x=m.map(v=>{const _={toolbar:v,buttons:p,allowToolbarGroups:i.allowToolbarGroups};return Q_(n,_,l,E.none())});Zn.setToolbars(u,x)}else Zn.setToolbar(u,Q_(n,i,l,E.none()))},S2=we(),Id=S2.os.isiOS()&&S2.os.version.major<=12;var YS=Object.freeze({__proto__:null,render:(n,r,i,l,u)=>{const{mainUi:m,uiMotherships:p}=r,x=Nt(0),v=m.outerContainer;j_(n);const _=Ft(u.targetNode),S=Mg(Kr(_));My(_,m.mothership),((I,G,j)=>{Sf(I)&&My(j.mainUi.mothership.element,j.popupUi.mothership),pf(G,j.dialogUi.mothership)})(n,S,r),n.on("PostRender",()=>{Zn.setSidebar(v,i.sidebar,$T(n))}),n.on("SkinLoaded",()=>{y8(n,r,i,l),x.set(n.getWin().innerWidth),Zn.setMenubar(v,JO(n,i)),Zn.setViews(v,i.views),((I,G)=>{const{uiMotherships:j}=G,W=I.dom;let V=I.getWin();const $=I.getDoc().documentElement,Y=Nt(As(V.innerWidth,V.innerHeight)),J=Nt(As($.offsetWidth,$.offsetHeight)),de=()=>{const $e=Y.get();$e.left===V.innerWidth&&$e.top===V.innerHeight||(Y.set(As(V.innerWidth,V.innerHeight)),Hp(I))},ce=()=>{const $e=I.getDoc().documentElement,Ue=J.get();Ue.left===$e.offsetWidth&&Ue.top===$e.offsetHeight||(J.set(As($e.offsetWidth,$e.offsetHeight)),Hp(I))},he=$e=>{((Ue,qe)=>{Ue.dispatch("ScrollContent",qe)})(I,$e)};W.bind(V,"resize",de),W.bind(V,"scroll",he);const Ne=j1(Ft(I.getBody()),"load",ce);I.on("hide",()=>{bt(j,$e=>{ko($e.element,"display","none")})}),I.on("show",()=>{bt(j,$e=>{fn($e.element,"display")})}),I.on("NodeChange",ce),I.on("remove",()=>{Ne.unbind(),W.unbind(V,"resize",de),W.unbind(V,"scroll",he),V=null})})(n,r)});const k=Zn.getSocket(v).getOrDie("Could not find expected socket element");if(Id){oe(k.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const I=(j=>{let W=null;return{cancel:()=>{tt(W)||(clearTimeout(W),W=null)},throttle:(...V)=>{tt(W)&&(W=setTimeout(()=>{W=null,j.apply(null,V)},20))}}})(()=>{n.dispatch("ScrollContent")}),G=La(k.element,"scroll",I.throttle);n.on("remove",G.unbind)}cD(n,r),n.addCommand("ToggleSidebar",(I,G)=>{Zn.toggleSidebar(v,G),(j=>{j.dispatch("ToggleSidebar")})(n)}),n.addQueryValueHandler("ToggleSidebar",()=>{var I;return(I=Zn.whichSidebar(v))!==null&&I!==void 0?I:""}),n.addCommand("ToggleView",(I,G)=>{if(Zn.toggleView(v,G)){const j=v.element;m.mothership.broadcastOn([lu()],{target:j}),bt(p,W=>{W.broadcastOn([lu()],{target:j})}),tt(Zn.whichView(v))&&(n.focus(),n.nodeChanged(),Zn.refreshToolbar(v)),(W=>{W.dispatch("ToggleView")})(n)}}),n.addQueryValueHandler("ToggleView",()=>{var I;return(I=Zn.whichView(v))!==null&&I!==void 0?I:""});const A=Rp(n);A!==Fc.sliding&&A!==Fc.floating||n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const I=n.getWin().innerWidth;I!==x.get()&&(Zn.refreshToolbar(r.mainUi.outerContainer),x.set(I))});const M={setEnabled:I=>{o2(r,I?"setEnabled":"setDisabled")},isEnabled:()=>!Qt.isDisabled(v)};return{iframeContainer:k.element.dom,editorContainer:v.element.dom,api:M}}});const J_=n=>Bt(n)?n+"px":n,eC=(n,r,i)=>{const l=r.filter(m=>n<m),u=i.filter(m=>n>m);return l.or(u).getOr(n)},w8=n=>{const r=Rw(n),i=Rv(n),l=Ju(n);return(u=r,/^[0-9\.]+(|px)$/i.test(""+u)?E.some(parseInt(""+u,10)):E.none()).map(m=>eC(m,i,l));var u},{ToolbarLocation:XS,ToolbarMode:_8}=B4,C8=(n,r,i,l,u)=>{const{mainUi:m,uiMotherships:p}=i,x=d1.DOM,v=ib(n),_=lb(n),S=Ju(n).or(w8(n)),k=l.shared.header,A=k.isPositionedAtTop,M=Rp(n),I=M===_8.sliding||M===_8.floating,G=Nt(!1),j=()=>G.get()&&!n.removed,W=J=>I?J.fold(te(0),de=>de.components().length>1?Rr(de.components()[1].element):0):0,V=()=>{bt(p,J=>{J.broadcastOn([Zm()],{})})},$=J=>{if(!j())return;v||u.on(he=>{const Ne=S.getOrThunk(()=>o0().width-wm(r).left-10);ko(he.element,"max-width",Ne+"px")});const de=Ni(),ce=!(v||v||!(Nr(m.outerContainer.element).left+Kd(m.outerContainer.element)>=window.innerWidth-40||cr(m.outerContainer.element,"width").isSome())||(ko(m.outerContainer.element,"position","absolute"),ko(m.outerContainer.element,"left","0px"),fn(m.outerContainer.element,"width"),0));if(I&&Zn.refreshToolbar(m.outerContainer),!v){const he=Ni(),Ne=$s(de.left!==he.left,de);(($e,Ue)=>{u.on(qe=>{const lt=Zn.getToolbar(m.outerContainer),Wt=W(lt),eo=xr(r),no=((ro,zn)=>Sf(ro)?Wr(zn):E.none())(n,m.outerContainer.element),Po=no.fold(()=>eo.x,ro=>{const zn=xr(ro);return Zo(ro,lr())?eo.x:eo.x-zn.x}),Tn=$s($e,Math.ceil(m.outerContainer.element.dom.getBoundingClientRect().width)).filter(ro=>ro>150).map(ro=>{const zn=Ue.getOr(Ni()),po=window.innerWidth-(Po-zn.left),bs=Math.max(Math.min(ro,po),150);return po<ro&&ko(m.outerContainer.element,"width",bs+"px"),{width:bs+"px"}}).getOr({width:"max-content"}),es={position:"absolute",left:Math.round(Po)+"px",top:no.fold(()=>A()?Math.max(eo.y-Rr(qe.element)+Wt,0):eo.bottom,ro=>{var zn;const po=xr(ro),bs=(zn=ro.dom.scrollTop)!==null&&zn!==void 0?zn:0,Sn=Zo(ro,lr())?Math.max(eo.y-Rr(qe.element)+Wt,0):eo.y-po.y+bs-Rr(qe.element)+Wt;return A()?Sn:eo.bottom})+"px"};oe(m.outerContainer.element,{...es,...Tn})})})(ce,Ne),Ne.each($e=>{Ho($e.left,he.top)})}_&&u.on(J),V()},Y=()=>!(v||!_||!j())&&u.get().exists(J=>{const de=k.getDockingMode(),ce=(Ne=>{switch(Mw(n)){case XS.auto:const $e=Zn.getToolbar(m.outerContainer),Ue=W($e),qe=Rr(Ne.element)-Ue,lt=xr(r);if(lt.y>qe)return"top";{const Wt=ns(r),eo=Math.max(Wt.dom.scrollHeight,Rr(Wt));return lt.bottom<eo-qe||Ws().bottom<lt.bottom-qe?"bottom":"top"}case XS.bottom:return"bottom";case XS.top:default:return"top"}})(J);return ce!==de&&(he=ce,u.on(Ne=>{Ms.setModes(Ne,[he]),k.setDockingMode(he);const $e=A()?au.TopToBottom:au.BottomToTop;io(Ne.element,Hm,$e)}),!0);var he});return{isVisible:j,isPositionedAtTop:A,show:()=>{G.set(!0),ko(m.outerContainer.element,"display","flex"),x.addClass(n.getBody(),"mce-edit-focus"),bt(p,J=>{fn(J.element,"display")}),Y(),Sf(n)?$(J=>Ms.isDocked(J)?Ms.reset(J):Ms.refresh(J)):$(Ms.refresh)},hide:()=>{G.set(!1),ko(m.outerContainer.element,"display","none"),x.removeClass(n.getBody(),"mce-edit-focus"),bt(p,J=>{ko(J.element,"display","none")})},update:$,updateMode:()=>{Y()&&$(Ms.reset)},repositionPopups:V}},QS=(n,r)=>{const i=xr(n);return{pos:r?i.y:i.bottom,bounds:i}};var aP=Object.freeze({__proto__:null,render:(n,r,i,l,u)=>{const{mainUi:m}=r,p=Fn(),x=Ft(u.targetNode),v=C8(n,x,r,l,p),_=IT(n);JI(n);const S=()=>{if(p.isSet())return void v.show();p.set(Zn.getHeader(m.outerContainer).getOrDie());const A=zw(n);Sf(n)?(My(x,m.mothership),My(x,r.popupUi.mothership)):pf(A,m.mothership),pf(A,r.dialogUi.mothership);const M=()=>{y8(n,r,i,l),Zn.setMenubar(m.outerContainer,JO(n,i)),v.show(),((I,G,j,W)=>{const V=Nt(QS(G,j.isPositionedAtTop())),$=ce=>{const{pos:he,bounds:Ne}=QS(G,j.isPositionedAtTop()),{pos:$e,bounds:Ue}=V.get(),qe=Ne.height!==Ue.height||Ne.width!==Ue.width;V.set({pos:he,bounds:Ne}),qe&&Hp(I,ce),j.isVisible()&&($e!==he?j.update(Ms.reset):qe&&(j.updateMode(),j.repositionPopups()))};W||(I.on("activate",j.show),I.on("deactivate",j.hide)),I.on("SkinLoaded ResizeWindow",()=>j.update(Ms.reset)),I.on("NodeChange keydown",ce=>{requestAnimationFrame(()=>$(ce))});let Y=0;const J=Au(()=>j.update(Ms.refresh),33);I.on("ScrollWindow",()=>{const ce=Ni().left;ce!==Y&&(Y=ce,J.throttle()),j.updateMode()}),Sf(I)&&I.on("ElementScroll",ce=>{j.update(Ms.refresh)});const de=Zr();de.set(j1(Ft(I.getBody()),"load",ce=>$(ce.raw))),I.on("remove",()=>{de.clear()})})(n,x,v,_),n.nodeChanged()};_?n.once("SkinLoaded",M):M()};n.on("show",S),n.on("hide",v.hide),_||(n.on("focus",S),n.on("blur",v.hide)),n.on("init",()=>{(n.hasFocus()||_)&&S()}),cD(n,r);const k={show:S,hide:v.hide,setEnabled:A=>{o2(r,A?"setEnabled":"setDisabled")},isEnabled:()=>!Qt.isDisabled(m.outerContainer)};return{editorContainer:m.outerContainer.element.dom,api:k}}});const k8="contexttoolbar-hide",tC=(n,r,i)=>({setInputEnabled:l=>{!l&&i&&br(i),Qt.set(n,!l)},isInputEnabled:()=>!Qt.isDisabled(n),hide:()=>{Ko(n,yh())},back:()=>{Ko(n,G_)},getValue:()=>r.get().getOrThunk(()=>Ht.getValue(n)),setValue:l=>{n.getSystem().isConnected()?Ht.setValue(n,l):r.set(l)}}),oC=(n,r,i)=>{const l=Un(n.element).bind(u=>n.getSystem().getByDom(u).toOptional());return tC(l.getOr(n),r,i)},JS=(n,r,i)=>Ye(gS,(l,u)=>{const m=n.get(l),p=tC(m,i,l.element);r.onAction(p,u.event.buttonApi)}),eE=(n,r,i,l)=>{const u=Ce(r,m=>Mn(((p,x,v,_)=>(S=>S.type==="contextformtogglebutton")(x)?((S,k,A,M)=>{const{primary:I,...G}=k.original,j=Ii(J6({...G,type:"togglebutton",onAction:ue}));return $S(j,A,[JS(S,k,M)])})(p,x,v,_):((S,k,A,M)=>{const{primary:I,...G}=k.original,j=Ii(d_({...G,type:"button",onAction:ue}));return q_(j,A,[JS(S,k,M)])})(p,x,v,_))(n,m,i,l)));return{asSpecs:()=>Ce(u,m=>m.asSpec()),findPrimary:m=>mn(r,(p,x)=>p.primary?E.from(u[x]).bind(v=>v.getOpt(m)).filter(gs(Qt.isDisabled)):E.none())}},S8=(n,r,i,l)=>{const{width:u,height:m}=n.initValue();let p=R_;const x=Ae("ratio-event"),v=ce=>tC(ce,l),_=ce=>El(ce,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ce]},r.icons),S=()=>!1,k=n.label.getOr("Constrain proportions"),A=r.translate(k),M=or.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":A,"data-mce-name":k}},components:[_("lock"),_("unlock")],buttonBehaviours:xt([Qt.config({disabled:S}),un.config({}),hs.config(r.tooltips.getConfig({tooltipText:A}))])}),I=ce=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:ce}),G=ce=>Xr(ce.element,"div.tox-focusable-wrapper").fold(E.none,he=>(br(he),E.some(!0))),j=ce=>Yo.parts.field({factory:_f,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:ce?u:m,inputBehaviours:xt([Qt.config({disabled:S}),un.config({}),uo("size-input-toolbar-events",[Ye(Zl(),(he,Ne)=>{Kt(he,x,{isField1:ce})})]),Gt.config({mode:"special",onEnter:i,onEscape:G})]),selectOnFocus:!1}),W=ce=>({dom:{tag:"label",classes:["tox-label"]},components:[Ds(r.translate(ce))]}),V=ce=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[ce],behaviours:xt([un.config({}),bo.config({}),Gt.config({mode:"special",onEnter:he=>rs(he.element,"input").fold(E.none,Ne=>(br(Ne),E.some(!0)))})])}),$=V(or.parts.field1(I([Yo.parts.label(W("Width:")),j(!0)]))),Y=V(or.parts.field2(I([Yo.parts.label(W("Height:")),j(!1)]))),J=Nt(ue),de=[vu({onBeforeSetup:ce=>rs(ce.element,"input").each(br),onSetup:n.onSetup,getApi:v},J),f_({getApi:v},J,l)];return or.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[$,I([M]),Y],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ce,he,Ne)=>{O_(Ht.getValue(ce)).each($e=>{p($e).each(Ue=>{Ht.setValue(he,mO(Ue))})})},onInput:ce=>Ko(ce,zD),coupledFieldBehaviours:xt([bo.config({}),Gt.config({mode:"flow",focusInside:mt.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Qt.config({disabled:S,onDisabled:ce=>{or.getField1(ce).bind(Yo.getField).each(Qt.disable),or.getField2(ce).bind(Yo.getField).each(Qt.disable),or.getLock(ce).each(Qt.disable)},onEnabled:ce=>{or.getField1(ce).bind(Yo.getField).each(Qt.enable),or.getField2(ce).bind(Yo.getField).each(Qt.enable),or.getLock(ce).each(Qt.enable)}}),mr(()=>r.checkUiComponentContext("mode:design")),uo("size-input-toolbar-events2",[Ye(x,(ce,he)=>{const Ne=he.event.isField1,$e=Ne?or.getField1(ce):or.getField2(ce),Ue=Ne?or.getField2(ce):or.getField1(ce),qe=$e.map(Ht.getValue).getOr(""),lt=Ue.map(Ht.getValue).getOr("");p=fO(qe,lt)}),Ye(zD,ce=>n.onInput(v(ce))),...de])])})},E8=(n,r,i)=>Yo.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...n.toArray(),r],fieldBehaviours:xt([Qt.config({disabled:()=>i.checkUiComponentContext("mode:design").shouldDisable,onDisabled:l=>{(u=>{Fa(u.element).each(m=>{Xr(m,'[tabindex="-1"]').each(p=>{br(p)})})})(l),Yo.getField(l).each(Qt.disable)},onEnabled:l=>{Yo.getField(l).each(Qt.enable)}})])}),iP=(n,r,i,l)=>{const u=Nt(ue),m=v=>oC(v,l),p=n.label.map(v=>Yo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ds(r.translate(v))]})),x=Yo.parts.field({factory:_f,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(n.min()),max:String(n.max())},data:n.initValue().toString(),fromInputValue:v=>(_=>{const S=parseFloat(_);return isNaN(S)?E.none():E.some(S)})(v).getOr(n.min()),toInputValue:v=>String(v),inputBehaviours:xt([Qt.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),mr(()=>r.checkUiComponentContext("mode:design")),Gt.config({mode:"special",onEnter:i,onLeft:(v,_)=>(_.cut(),E.none()),onRight:(v,_)=>(_.cut(),E.none())}),uo("slider-events",[vu({onSetup:n.onSetup,getApi:m,onBeforeSetup:Gt.focusIn},u),f_({getApi:m},u,l),Ye(md(),v=>{n.onInput(m(v))})])])});return E8(p,x,r)},lP=(n,r,i,l)=>{const u=Nt(ue),m=_=>oC(_,l),p=n.label.map(_=>Yo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ds(r.translate(_))]})),x={...n.placeholder.map(_=>({placeholder:r.translate(_)})).getOr({})},v=Yo.parts.field({factory:_f,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:x,data:n.initValue(),selectOnFocus:!0,inputBehaviours:xt([Qt.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),mr(()=>r.checkUiComponentContext("mode:design")),Gt.config({mode:"special",onEnter:i,onLeft:(_,S)=>(S.cut(),E.none()),onRight:(_,S)=>(S.cut(),E.none())}),uo("input-events",[vu({onSetup:n.onSetup,getApi:_=>Xr(_.element,".tox-toolbar").bind(S=>rs(S,"button:enabled")).fold(()=>oC(_,l),S=>oC(_,l,S)),onBeforeSetup:Gt.focusIn},u),f_({getApi:m},u,l),Ye(md(),_=>{n.onInput(m(_))})])])});return E8(p,v,r)},tE=(n,r,i)=>{const l=Fn(),u=Mn(n(i,v=>p.findPrimary(v).orThunk(()=>x.findPrimary(v)).map(_=>(Bh(_),!0)),l)),m=cn(r.commands,v=>v.align==="start"),p=eE(u,m.pass,i,l),x=eE(u,m.fail,i,l);return Co([{title:E.none(),label:E.none(),items:p.asSpecs()},{title:E.none(),label:E.none(),items:[u.asSpec()]},{title:E.none(),label:E.none(),items:x.asSpecs()}],v=>v.items.length>0)},cP=(n,r)=>{switch(n.type){case"contextform":return tE(ln(lP,n),n,r);case"contextsliderform":return tE(ln(iP,n),n,r);case"contextsizeinputform":return tE(ln(S8,n),n,r)}},E2=(n,r,i)=>r.bottom-n.y>=i&&n.bottom-r.y>=i,yu=n=>{const r=(i=>{const l=i.getBoundingClientRect();if(l.height<=0&&l.width<=0){const u=ih(Ft(i.startContainer),i.startOffset).element;return(B(u)?Un(u):E.some(u)).filter(jo).map(m=>m.dom.getBoundingClientRect()).getOr(l)}return l})(n.selection.getRng());if(n.inline){const i=Ni();return dn(i.left+r.left,i.top+r.top,r.width,r.height)}{const i=Mu(Ft(n.getBody()));return dn(i.x+r.left,i.y+r.top,r.width,r.height)}},oE=(n,r,i,l=0)=>{const u=o0(window),m=xr(Ft(n.getContentAreaContainer())),p=Pw(n)||Mv(n)||Bv(n),{x,width:v}=((_,S,k)=>{const A=Math.max(_.x+k,S.x);return{x:A,width:Math.min(_.right-k,S.right)-A}})(m,u,l);if(n.inline&&!p)return dn(x,u.y,v,u.height);{const _=r.header.isPositionedAtTop(),{y:S,bottom:k}=((A,M,I,G,j,W)=>{const V=Ft(A.getContainer()),$=rs(V,".tox-editor-header").getOr(V),Y=xr($),J=Y.y>=M.bottom,de=G&&!J;if(A.inline&&de)return{y:Math.max(Y.bottom+W,I.y),bottom:I.bottom};if(A.inline&&!de)return{y:I.y,bottom:Math.min(Y.y-W,I.bottom)};const ce=j==="line"?xr(V):M;return de?{y:Math.max(Y.bottom+W,I.y),bottom:Math.min(ce.bottom-W,I.bottom)}:{y:Math.max(ce.y+W,I.y),bottom:Math.min(Y.y-W,I.bottom)}})(n,m,u,_,i,l);return dn(x,S,v,k-S)}},Hc={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},A8={maxHeightFunction:ef(),maxWidthFunction:A0()},A2=n=>n==="node",dP=(n,r,i,l,u)=>{const m=yu(n),p=l.lastElement().exists(x=>Zo(i,x));return((x,v)=>{const _=x.selection.getRng(),S=ih(Ft(_.startContainer),_.startOffset);return _.startContainer===_.endContainer&&_.startOffset===_.endOffset-1&&Zo(S.element,v)})(n,i)?p?Ix:Kl:p?((x,v)=>{const _=cr(x,"position");ko(x,"position",v);const S=E2(m,xr(r),-20)&&!l.isReposition()?jC:Ix;return _.each(k=>ko(x,"position",k)),S})(r,l.getMode()):(l.getMode()==="fixed"?u.y+Ni().top:u.y)+(Rr(r)+12)<=m.y?Kl:rp},M1=(n,r,i,l)=>{const u=p=>(x,v,_,S,k)=>({...dP(n,S,p,i,k)({...x,y:k.y,height:k.height},v,_,S,k),alwaysFit:!0}),m=p=>A2(l)?[u(p)]:[];return r?{onLtr:p=>[Fr,wr,Pr,Oa,Ra,Lr].concat(m(p)),onRtl:p=>[Fr,Pr,wr,Ra,Oa,Lr].concat(m(p))}:{onLtr:p=>[Lr,Fr,Oa,wr,Ra,Pr].concat(m(p)),onRtl:p=>[Lr,Fr,Ra,Pr,Oa,wr].concat(m(p))}},nE=(n,r)=>{const i=Co(r,m=>m.predicate(n.dom)),{pass:l,fail:u}=cn(i,m=>m.type==="contexttoolbar");return{contextToolbars:l,contextForms:u}},sE=(n,r)=>{const i={},l=[],u=[],m={},p={},x=zo(n);return bt(x,v=>{const _=n[v];_.type==="contextform"||_.type==="contextsliderform"||_.type==="contextsizeinputform"?((S,k)=>{const A=Ii(Ts("ContextForm",tD,k));i[S]=A,A.launch.map(M=>{m["form:"+S]={...k.launch,type:M.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(A)}}}),A.scope==="editor"?u.push(A):l.push(A),p[S]=A})(v,_):_.type==="contexttoolbar"&&((S,k)=>{var A;(A=k,Ts("ContextToolbar",_B,A)).each(M=>{M.launch.isSome()&&(m["toolbar:"+S]={...k.launch,type:"button",onAction:()=>{r(M)}}),k.scope==="editor"?u.push(M):l.push(M),p[S]=M})})(v,_)}),{forms:i,inNodeScope:l,inEditorScope:u,lookupTable:p,formNavigators:m}},T2="tox-pop--transition",uP=(n,r,i,l)=>{const u=l.backstage,m=u.shared,p=we().deviceType.isTouch,x=Fn(),v=Fn(),_=Fn(),S=(he=>{const Ne=Nt([]);return{sketch:Bs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Ue=>{Ne.set([]),Bs.getContent(Ue).each(qe=>{fn(qe.element,"visibility")}),on(Ue.element,K_),fn(Ue.element,"width")},onHide:()=>{Ne.set([]),he.onHide()},inlineBehaviours:xt([uo("context-toolbar-events",[Wu(ep(),(Ue,qe)=>{qe.event.raw.propertyName==="width"&&(on(Ue.element,K_),fn(Ue.element,"width"))}),Ye(US,(Ue,qe)=>{const lt=Ue.element;fn(lt,"width");const Wt=Pn(lt),eo=Fa(Ue.element).isSome();fn(lt,"left"),fn(lt,"right"),fn(lt,"max-width"),Bs.setContent(Ue,qe.event.contents),ws(lt,K_);const no=Pn(lt);ko(lt,"transition","none"),Bs.reposition(Ue),fn(lt,"transition"),ko(lt,"width",Wt+"px"),qe.event.focus.fold(()=>{eo&&bg(Ue)},Po=>{nd(Kr(Ue.element)).fold(()=>br(Po),Tn=>{Zo(Tn,Po)||he.focusElement(Po)})}),setTimeout(()=>{ko(Ue.element,"width",no+"px")},0)}),Ye(Wp,(Ue,qe)=>{Bs.getContent(Ue).each(lt=>{Ne.set(Ne.get().concat([{bar:lt,focus:nd(Kr(Ue.element))}]))}),Kt(Ue,US,{contents:qe.event.forwardContents,focus:E.none()})}),Ye(G_,(Ue,qe)=>{he.onBack(),ft(Ne.get()).each(lt=>{Ne.set(Ne.get().slice(0,Ne.get().length-1)),Kt(Ue,US,{contents:Jl(lt.bar),focus:lt.focus})})})]),Gt.config({mode:"special",onEscape:Ue=>ft(Ne.get()).fold(()=>he.onEscape(),qe=>(Ko(Ue,G_),E.some(!0)))})]),lazySink:()=>Go.value(he.sink)}),inSubtoolbar:()=>Ne.get().length>0}})({sink:i,onEscape:()=>(n.focus(),H3(n),E.some(!0)),onHide:()=>{H3(n)},onBack:()=>{(he=>{he.dispatch("ContextFormSlideBack")})(n)},focusElement:he=>{n.getBody().contains(he.dom)?n.focus():br(he)}}),k=Ua(S.sketch),A=()=>{const he=_.get().getOr("node"),Ne=A2(he)?1:0;return oE(n,m,he,Ne)},M=()=>!(n.removed||p()&&u.isContextMenuOpen()),I=()=>{if(M()){const he=A(),Ne=$n(_.get(),"node")?(($e,Ue)=>Ue.filter(qe=>it(qe)&&Gn(qe)).map(Mu).getOrThunk(()=>yu($e)))(n,x.get()):yu(n);return he.height<=0||!E2(Ne,he,.01)}return!0},G=()=>{x.clear(),v.clear(),_.clear(),Bs.hide(k)},j=()=>{if(Bs.isOpen(k)){const he=k.element;fn(he,"display"),I()?ko(he,"display","none"):(v.set(0),Bs.reposition(k))}},W=he=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[he],behaviours:xt([Gt.config({mode:"acyclic"}),uo("pop-dialog-wrap-events",[is(Ne=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>Gt.focusIn(Ne))}),Dc(Ne=>{n.shortcuts.remove("ctrl+F9")})])])}),V=he=>{const Ne=Y([he]);Kt(k,Wp,{forwardContents:W(Ne)})},$=hr(()=>sE(r,V)),Y=he=>{const{buttons:Ne}=n.ui.registry.getAll(),$e={...Ne,...$().formNavigators},Ue=Rp(n)===Fc.scrolling?Fc.scrolling:Fc.default,qe=ks(Ce(he,lt=>{return lt.type==="contexttoolbar"?((eo,no)=>Q_(n,{buttons:eo,toolbar:no.items,allowToolbarGroups:!1},l.backstage,E.some(["form:","toolbar:"])))($e,(Wt=lt,{...Wt,launch:Wt.launch.getOrUndefined(),items:Oe(Wt.items)?Wt.items:Ce(Wt.items,CB)})):((eo,no)=>cP(eo,no))(lt,m.providers);var Wt}));return $_({type:Ue,uid:Ae("context-toolbar"),initGroups:qe,onEscape:E.none,cyclicKeying:!0,providers:m.providers})},J=(he,Ne)=>{if(ce.cancel(),!M())return;const $e=Y(he),Ue=he[0].position,qe=((Wt,eo)=>{const no=Wt==="node"?m.anchors.node(eo):m.anchors.cursor(),Po=((Tn,es,ro,zn)=>es==="line"?{bubble:ol(12,0,Hc),layouts:{onLtr:()=>[Xg],onRtl:()=>[Qg]},overrides:A8}:{bubble:ol(0,12,Hc,1/12),layouts:M1(Tn,ro,zn,es),overrides:A8})(n,Wt,p(),{lastElement:x.get,isReposition:()=>$n(v.get(),0),getMode:()=>wi.getMode(i)});return vs(no,Po)})(Ue,Ne);_.set(Ue),v.set(1);const lt=k.element;fn(lt,"display"),(Wt=>$n(Rl(Wt,x.get(),Zo),!0))(Ne)||(on(lt,T2),wi.reset(i,k)),Bs.showWithinBounds(k,W($e),{anchor:qe,transition:{classes:[T2],mode:"placement"}},()=>E.some(A())),Ne.fold(x.clear,x.set),I()&&ko(lt,"display","none")};let de=!1;const ce=Au(()=>{!n.hasFocus()||n.removed||de||(ur(k.element,T2)?ce.throttle():((he,Ne)=>{const $e=Ft(Ne.getBody()),Ue=lt=>Zo(lt,$e),qe=Ft(Ne.selection.getNode());return(lt=>!Ue(lt)&&!Ls($e,lt))(qe)?E.none():((lt,Wt,eo)=>{const no=nE(lt,Wt);if(no.contextForms.length>0)return E.some({elem:lt,toolbars:[no.contextForms[0]]});{const Po=nE(lt,eo);if(Po.contextForms.length>0)return E.some({elem:lt,toolbars:[Po.contextForms[0]]});if(no.contextToolbars.length>0||Po.contextToolbars.length>0){const Tn=(es=>{if(es.length<=1)return es;{const ro=Sn=>_n(es,la=>la.position===Sn),zn=Sn=>Co(es,la=>la.position===Sn),po=ro("selection"),bs=ro("node");if(po||bs){if(bs&&po){const Sn=zn("node"),la=Ce(zn("selection"),ls=>({...ls,position:"node"}));return Sn.concat(la)}return zn(po?"selection":"node")}return zn("line")}})(no.contextToolbars.concat(Po.contextToolbars));return E.some({elem:lt,toolbars:Tn})}return E.none()}})(qe,he.inNodeScope,he.inEditorScope).orThunk(()=>((lt,Wt,eo)=>lt(Wt)?E.none():mh(Wt,no=>{if(jo(no)){const{contextToolbars:Po,contextForms:Tn}=nE(no,eo.inNodeScope),es=Tn.length>0?Tn:(ro=>{if(ro.length<=1)return ro;{const zn=po=>P(ro,bs=>bs.position===po);return zn("selection").orThunk(()=>zn("node")).orThunk(()=>zn("line")).map(po=>po.position).fold(()=>[],po=>Co(ro,bs=>bs.position===po))}})(Po);return es.length>0?E.some({elem:no,toolbars:es}):E.none()}return E.none()},lt))(Ue,qe,he))})($(),n).fold(G,he=>{J(he.toolbars,E.some(he.elem))}))},17);n.on("init",()=>{n.on("remove",G),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",j),n.on("click focus SetContent",ce.throttle),n.on("keyup",he=>{var Ne;((Ne=he.keyCode)!==X_.ENTER&&Ne!==X_.SPACEBAR||!S.inSubtoolbar())&&ce.throttle()}),n.on(k8,G),n.on("contexttoolbar-show",he=>{const Ne=$();Jt(Ne.lookupTable,he.toolbarKey).each($e=>{J([$e],$s(he.target!==n,he.target)),bg(k)})}),n.on("focusout",he=>{sb.setEditorTimeout(n,()=>{Fa(i.element).isNone()&&Fa(k.element).isNone()&&!n.hasFocus()&&G()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&G()}),n.on("DisabledStateChange",he=>{he.state&&G()}),n.on("ExecCommand",({command:he})=>{he.toLowerCase()==="toggleview"&&G()}),n.on("AfterProgressState",he=>{he.state?G():n.hasFocus()&&ce.throttle()}),n.on("dragstart",()=>{de=!0}),n.on("dragend drop",()=>{de=!1}),n.on("NodeChange",he=>{S.inSubtoolbar()?(ko(k.element,"transition","none"),j(),fn(k.element,"transition")):Fa(k.element).fold(ce.throttle,ue)})})},T8=(n,r)=>{const i=()=>{const l=r.getOptions(n),u=r.getCurrent(n).map(r.hash),m=Fn();return Ce(l,p=>({type:"togglemenuitem",text:r.display(p),onSetup:x=>{const v=S=>{S&&(m.on(k=>k.setActive(!1)),m.set(x)),x.setActive(S)};v($n(u,r.hash(p)));const _=r.watcher(n,p,v);return()=>{m.clear(),_()}},onAction:()=>r.setCurrent(n,p)}))};n.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:l=>l(i()),onSetup:r.onToolbarSetup}),n.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:i,onSetup:r.onMenuSetup})},B1=n=>{T8(n,(r=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:Lw,hash:i=>(l=>bc(l,["fixed","relative","empty"]).map(({value:u,unit:m})=>u+m))(i).getOr(i),display:gt,watcher:(i,l,u)=>i.formatter.formatChanged("lineheight",u,!1,{value:l}).unbind,getCurrent:i=>E.from(i.queryCommandValue("LineHeight")),setCurrent:(i,l)=>i.execCommand("LineHeight",!1,l),onToolbarSetup:Ci(r),onMenuSetup:Ci(r)}))(n)),(r=>E.from(Nw(r)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:te(i),hash:l=>kt(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,u,m)=>{var p;return l.formatter.formatChanged("lang",m,!1,{value:u.code,customValue:(p=u.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const u=Ft(l.selection.getNode());return gh(u,m=>E.some(m).filter(jo).bind(p=>Yr(p,"lang").map(x=>({code:x,customCode:Yr(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,u)=>l.execCommand("Lang",!1,u),onToolbarSetup:l=>{const u=Zr();return l.setActive(r.formatter.match("lang",{},void 0,!0)),u.set(r.formatter.formatChanged("lang",l.setActive,!0)),r2(u.clear,Ci(r)(l))},onMenuSetup:Ci(r)})))(n).each(r=>T8(n,r))},D8=n=>Rf(n,"NodeChange",r=>{r.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),rE=(n,r)=>i=>{i.setActive(r.get());const l=u=>{r.set(u.state),i.setActive(u.state)};return n.on("PastePlainTextToggle",l),r2(()=>n.off("PastePlainTextToggle",l),Ci(n)(i))},aE=(n,r)=>()=>{n.execCommand("mceToggleFormat",!1,r)},iE=n=>{(r=>{(i=>{hg.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,u)=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:a2(i,l.name),onAction:aE(i,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const u="h"+l,m=`Access+${l}`;i.ui.registry.addToggleButton(u,{text:u.toUpperCase(),tooltip:"Heading "+l,onSetup:a2(i,u),onAction:aE(i,u),shortcut:m})}})(r),(i=>{hg.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:lc(i,l.action),shortcut:l.shortcut,context:l.context})}),hg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:Ci(i),onAction:lc(i,l.action)})})})(r),(i=>{hg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:lc(i,l.action),onSetup:a2(i,l.name)})})})(r)})(n),(r=>{hg.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:lc(r,i.action),context:i.context})}),hg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onSetup:Ci(r),onAction:lc(r,i.action)})}),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Ci(r),onAction:aE(r,"code")})})(n)},D2=(n,r)=>Rf(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[r]())}),lE=n=>Rf(n,"VisualAid",r=>{r.setActive(n.hasVisual)}),O8=(n,r)=>{(i=>{bt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:lc(i,l.cmd),onSetup:a2(i,l.name)})}),i.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Ci(i),onAction:lc(i,"JustifyNone")})})(n),iE(n),((i,l)=>{((u,m)=>{const p=Eb(m,i8(u));u.ui.registry.addNestedMenuItem("align",{text:m.shared.providers.translate("Align"),onSetup:Ci(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p=Eb(m,u8(u));u.ui.registry.addNestedMenuItem("fontfamily",{text:m.shared.providers.translate("Fonts"),onSetup:Ci(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p={type:"advanced",...m.styles},x=Eb(m,x8(u,p));u.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Ci(u,()=>x.getStyleItems().length>0),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(i,l),((u,m)=>{const p=Eb(m,c8(u));u.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Ci(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p=Eb(m,h8(u));u.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Ci(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l)})(n,r),(i=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:D2(l,"hasUndo"),onAction:lc(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:D2(l,"hasRedo"),onAction:lc(l,"redo")})})(i),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:D2(l,"hasUndo"),onAction:lc(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:D2(l,"hasRedo"),onAction:lc(l,"redo"),shortcut:"Meta+Y"})})(i)})(n),(i=>{(x=>{x.addCommand("mceApplyTextcolor",(v,_)=>{((S,k,A)=>{S.undoManager.transact(()=>{S.focus(),S.formatter.apply(k,{value:A}),S.nodeChanged()})})(x,v,_)}),x.addCommand("mceRemoveTextcolor",v=>{((_,S)=>{_.undoManager.transact(()=>{_.focus(),_.formatter.remove(S,{value:null},void 0,!0),_.nodeChanged()})})(x,v)})})(i);const l=kD(i),u=SD(i),m=Nt(l),p=Nt(u);OD(i,"forecolor","forecolor",m),OD(i,"backcolor","hilitecolor",p),RD(i,"forecolor","forecolor","Text color",m),RD(i,"backcolor","hilitecolor","Background color",p)})(n),(i=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:lc(l,"mceToggleVisualAid"),context:"any"})})(i),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:lE(l),onAction:lc(l,"mceToggleVisualAid"),context:"any"})})(i)})(n),(i=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:D8(l),onAction:lc(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Ci(l,()=>l.queryCommandState("indent")),onAction:lc(l,"indent")})})(i)})(n),B1(n),(i=>{const l=Nt(VT(i)),u=()=>i.execCommand("mceTogglePlainTextPaste");i.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:u,onSetup:rE(i,l)}),i.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:u,onSetup:rE(i,l)})})(n),(i=>{i.ui.registry.addContext("editable",()=>i.selection.isEditable()),i.ui.registry.addContext("mode",l=>i.mode.get()===l),i.ui.registry.addContext("any",so),i.ui.registry.addContext("formatting",l=>i.formatter.canApply(l)),i.ui.registry.addContext("insert",l=>i.schema.isValidChild(i.selection.getNode().tagName,l))})(n)},R8=n=>Oe(n)?n.split(/[ ,]/):n,Ob=n=>r=>r.options.get(n),N8=Ob("contextmenu_never_use_native"),mP=Ob("contextmenu_avoid_overlap"),M8=n=>{const r=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:Co(i,l=>rn(r,l))},O2=(n,r)=>({type:"makeshift",x:n,y:r}),nC=n=>n.type==="longpress"||n.type.indexOf("touch")===0,gP=(n,r)=>r.type==="contextmenu"||r.type==="longpress"?n.inline?(i=>{if(nC(i)){const l=i.touches[0];return O2(l.pageX,l.pageY)}return O2(i.pageX,i.pageY)})(r):((i,l)=>{const u=d1.DOM.getPos(i);return((m,p,x)=>O2(m.x+p,m.y+x))(l,u.x,u.y)})(n.getContentAreaContainer(),(i=>{if(nC(i)){const l=i.touches[0];return O2(l.clientX,l.clientY)}return O2(i.clientX,i.clientY)})(r)):sC(n),sC=n=>({type:"selection",root:Ft(n.selection.getNode())}),B8=(n,r,i)=>{switch(i){case"node":return(l=>({type:"node",node:E.some(Ft(l.selection.getNode())),root:Ft(l.getBody())}))(n);case"point":return gP(n,r);case"selection":return sC(n)}},R2=(n,r,i,l,u,m)=>{const p=i(),x=B8(n,r,m);jp(p,pu.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:E.none()}).map(v=>{r.preventDefault(),Bs.showMenuAt(u,{anchor:x},{menu:{markers:Af("normal")},data:v})})},fP={onLtr:()=>[Fr,wr,Pr,Oa,Ra,Lr,Kl,rp,Jg,np,sp,zr],onRtl:()=>[Fr,Pr,wr,Ra,Oa,Lr,Kl,rp,sp,zr,Jg,np]},I8={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},pP=(n,r,i,l,u,m)=>{const p=we(),x=p.os.isiOS(),v=p.os.isMacOS(),_=p.os.isAndroid(),S=p.deviceType.isTouch(),k=()=>{const A=i();((M,I,G,j,W,V,$)=>{const Y=((J,de,ce)=>{const he=B8(J,de,ce);return{bubble:ol(0,ce==="point"?12:0,I8),layouts:fP,overrides:{maxWidthFunction:A0(),maxHeightFunction:ef()},...he}})(M,I,V);jp(G,pu.CLOSE_ON_EXECUTE,j,{isHorizontalMenu:!0,search:E.none()}).map(J=>{I.preventDefault();const de=$?tr.HighlightMenuAndItem:tr.HighlightNone;Bs.showMenuWithinBounds(W,{anchor:Y},{menu:{markers:Af("normal"),highlightOnOpen:de},data:J,type:"horizontal"},()=>E.some(oE(M,j.shared,V==="node"?"node":"selection"))),M.dispatch(k8)})})(n,r,A,l,u,m,!(_||x||v&&S))};if((v||x)&&m!=="node"){const A=()=>{(M=>{const I=M.selection.getRng(),G=()=>{sb.setEditorTimeout(M,()=>{M.selection.setRng(I)},10),V()};M.once("touchend",G);const j=$=>{$.preventDefault(),$.stopImmediatePropagation()};M.on("mousedown",j,!0);const W=()=>V();M.once("longpresscancel",W);const V=()=>{M.off("touchend",G),M.off("longpresscancel",W),M.off("mousedown",j)}})(n),k()};((M,I)=>{const G=M.selection;if(G.isCollapsed()||I.touches.length<1)return!1;{const j=I.touches[0],W=G.getRng();return lx(M.getWin(),id.domRange(W)).exists(V=>V.left<=j.clientX&&V.right>=j.clientX&&V.top<=j.clientY&&V.bottom>=j.clientY)}})(n,r)?A():(n.once("selectionchange",A),n.once("touchend",()=>n.off("selectionchange",A)))}else k()},P8=n=>Oe(n)?n==="|":n.type==="separator",cE={type:"separator"},L8=n=>{const r=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(Oe(n))return n;switch(n.type){case"separator":return cE;case"submenu":return{type:"nestedmenuitem",...r(n),getSubmenuItems:()=>{const l=n.getSubmenuItems();return Oe(l)?l:Ce(l,L8)}};default:const i=n;return{type:"menuitem",...r(i),onAction:pe(i.onAction)}}},N2=(n,r)=>{if(r.length===0)return n;const i=ft(n).filter(l=>!P8(l)).fold(()=>[],l=>[cE]);return n.concat(i).concat(r).concat([cE])},dE=(n,r)=>!(i=>i.type==="longpress"||rn(i,"touches"))(r)&&(r.button!==2||r.target===n.getBody()&&r.pointerType===""),F8=(n,r)=>dE(n,r)?n.selection.getStart(!0):r.target,uE=(n,r,i)=>{const l=we().deviceType.isTouch,u=Ua(Bs.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:xt([uo("dismissContextMenu",[Ye(Zg(),(x,v)=>{wn.close(x),n.focus()})])])})),m=()=>Bs.hide(u),p=x=>{if(N8(n)&&x.preventDefault(),((_,S)=>S.ctrlKey&&!N8(_))(n,x)||(_=>M8(_).length===0)(n))return;const v=((_,S)=>{const k=mP(_),A=dE(_,S)?"selection":"point";if(Ml(k)){const M=F8(_,S);return uh(Ft(M),k)?"node":A}return A})(n,x);(l()?pP:R2)(n,x,()=>{const _=F8(n,x),S=n.ui.registry.getAll(),k=M8(n);return((A,M,I)=>{const G=Uo(M,(j,W)=>Jt(A,W.toLowerCase()).map(V=>{const $=V.update(I);if(Oe($)&&Ml(Eu($)))return N2(j,$.split(" "));if(We($)&&$.length>0){const Y=Ce($,L8);return N2(j,Y)}return j}).getOrThunk(()=>j.concat([W])),[]);return G.length>0&&P8(G[G.length-1])&&G.pop(),G})(S.contextMenus,k,_)},i,u,v)};n.on("init",()=>{const x="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");n.on(x,m),n.on("longpress contextmenu",p)})},qp=(n,r,i,l,u,m)=>n.fold(()=>yp.snap({sensor:Qm(i-20,l-20),range:As(u,m),output:Qm(E.some(i),E.some(l)),extra:{td:r}}),p=>{const x=i-20,v=l-20,_=p.element.dom.getBoundingClientRect();return yp.snap({sensor:Qm(x,v),range:As(40,40),output:Qm(E.some(i-_.width/2),E.some(l-_.height/2)),extra:{td:r}})}),mE=(n,r,i)=>({getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,u)=>{const m=u.td;((p,x)=>p.exists(v=>Zo(v,x)))(r.get(),m)||(r.set(m),i(m))},mustSnap:!0}),Rb=n=>Mn(ja.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:xt([yp.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),fv.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),hP=(n,r)=>{const i=Nt([]),l=Nt([]),u=Nt(!1),m=Fn(),p=Fn(),x=V=>{const $=Mu(V);return qp(k.getOpt(r),V,$.x,$.y,$.width,$.height)},v=V=>{const $=Mu(V);return qp(A.getOpt(r),V,$.right,$.bottom,$.width,$.height)},_=mE(()=>Ce(i.get(),V=>x(V)),m,V=>{p.get().each($=>{n.dispatch("TableSelectorChange",{start:V,finish:$})})}),S=mE(()=>Ce(l.get(),V=>v(V)),p,V=>{m.get().each($=>{n.dispatch("TableSelectorChange",{start:$,finish:V})})}),k=Rb(_),A=Rb(S),M=Ua(k.asSpec()),I=Ua(A.asSpec()),G=(V,$,Y,J)=>{const de=Y($);yp.snapTo(V,de),((ce,he)=>{const Ne=he.dom.getBoundingClientRect();fn(ce.element,"display");const $e=Or(Ft(n.getBody())).dom.innerHeight,Ue=Ne[J]<0,qe=((lt,Wt)=>lt[J]>Wt)(Ne,$e);(Ue||qe)&&ko(ce.element,"display","none")})(V,$)},j=V=>G(M,V,x,"top"),W=V=>G(I,V,v,"bottom");if(we().deviceType.isTouch()){const V=$=>Ce($,Ft);n.on("TableSelectionChange",$=>{u.get()||(gf(r,M),gf(r,I),u.set(!0));const Y=Ft($.start),J=Ft($.finish);m.set(Y),p.set(J),E.from($.otherCells).each(de=>{i.set(V(de.upOrLeftCells)),l.set(V(de.downOrRightCells)),j(Y),W(J)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{m.get().each(j),p.get().each(W)}),n.on("TableSelectionClear",()=>{u.get()&&(Ym(M),Ym(I),u.set(!1)),m.clear(),p.clear()})}},z8=(n,r,i)=>{var l;const u=(l=r.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:xt([Gt.config({mode:"flow",selector:"div[role=button]"}),Qt.config({disabled:i.isDisabled}),mr(()=>i.checkUiComponentContext("any")),un.config({}),So.config({}),uo("elementPathEvents",[is((m,p)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Gt.focusIn(m)),n.on("NodeChange",x=>{const v=(S=>{const k=[];let A=S.length;for(;A-- >0;){const I=S[A];if(I.nodeType===1&&(M=I).nodeName!=="BR"&&!M.getAttribute("data-mce-bogus")&&M.getAttribute("data-mce-type")!=="bookmark"){const G=BB(n,I);if(G.isDefaultPrevented()||k.push({name:G.name,element:I}),G.isPropagationStopped())break}}var M;return k})(x.parents),_=v.length>0?Uo(v,(S,k,A)=>{const M=((I,G,j)=>ja.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":j}},components:[Ds(I)],action:W=>{n.focus(),n.selection.select(G),n.nodeChanged()},buttonBehaviours:xt([hs.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",G.nodeName.toLowerCase()]),onShow:(W,V)=>{(($,Y)=>{const J=E.from(Eo($,"id")).getOrThunk(()=>{const de=Ae("aria");return io(Y,"id",de),de});io($,"aria-describedby",J)})(W.element,V.element)},onHide:W=>{var V;V=W.element,js(V,"aria-describedby")}})}),_1(i.isDisabled),mr(()=>i.checkUiComponentContext("any"))])}))(k.name,k.element,A);return A===0?S.concat([M]):S.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ds(` ${u} `)]},M])},[]):[];So.set(m,_)})})])]),components:[]}};var xg;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(xg||(xg={}));const H8=n=>{const r=Ft(n.getContainer());return{height:Rr(r),width:Pn(r)}},Gp=(n,r,i)=>{const l=Ft(n.getContainer()),u=((m,p,x,v)=>({height:eC(v.height+p.top,cg(m),v4(m)),width:x===xg.Both?eC(v.width+p.left,Rv(m),Ju(m)):v.width}))(n,r,i,H8(n));return Cn(u,(m,p)=>{Bt(m)&&ko(l,p,J_(m))}),(m=>{m.dispatch("ResizeEditor")})(n),u},rC=(n,r,i)=>{io(n.element,"aria-valuetext",((l,u)=>u===xg.Both?qa.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",l.height,l.width]):qa.translate(["Editor's height: {0} pixels",l.height]))(r,i))},aC=(n,r,i,l,u)=>{const m=As(20*l,20*u),p=Gp(n,m,i);return rC(r,p,i),E.some(!0)},V8=(n,r)=>{const i=()=>{const l=[],u=UT(n),m=Iw(n),p=T4(n)||n.hasPlugin("wordcount");return m&&l.push(z8(n,{},r)),u&&l.push((()=>{const x=S3("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Ds(qa.translate(["Press {0} for help",x]))]}})()),p&&l.push((()=>{const x=[];return n.hasPlugin("wordcount")&&x.push(((v,_)=>{const S=(k,A,M)=>So.set(k,[Ds(_.translate(["{0} "+M,A[M]]))]);return ja.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:xt([_1(_.isDisabled),mr(()=>_.checkUiComponentContext("any")),un.config({}),So.config({}),Ht.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),uo("wordcount-events",[Oc(k=>{const A=Ht.getValue(k),M=A.mode==="words"?"characters":"words";Ht.setValue(k,{mode:M,count:A.count}),S(k,A.count,M)}),is(k=>{v.on("wordCountUpdate",A=>{const{mode:M}=Ht.getValue(k);Ht.setValue(k,{mode:M,count:A.wordCount}),S(k,A.wordCount,M)})})])]),eventOrder:{[tl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(n,r)),T4(n)&&x.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":n.translate(["Build with {0}","TinyMCE"])},innerHtml:n.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:xt([bo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:x}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const x="tox-statusbar__text-container--flex-start",v="tox-statusbar__text-container--flex-end";if(u){const _="tox-statusbar__text-container-3-cols";return p||m?p&&!m?[_,v]:[_,x]:[_,"tox-statusbar__text-container--space-around"]}return[p&&!m?v:x]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=i(),u=((m,p)=>{const x=(S=>{const k=HT(S);return k===!1?xg.None:k==="both"?xg.Both:xg.Vertical})(m);if(x===xg.None)return E.none();const v=x===xg.Both?qa.translate("Press the arrow keys to resize the editor."):qa.translate("Press the Up and Down arrow keys to resize the editor."),_=x===xg.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return E.some(El("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",_],attributes:{"aria-label":p.translate(v),"data-mce-name":"resize-handle",role:"separator"},behaviours:[yp.config({mode:"mouse",repositionTarget:!1,onDrag:(S,k,A)=>{const M=Gp(m,A,x);rC(S,M,x)},blockerClass:"tox-blocker"}),Gt.config({mode:"special",onLeft:S=>aC(m,S,x,-1,0),onRight:S=>aC(m,S,x,1,0),onUp:S=>aC(m,S,x,0,-1),onDown:S=>aC(m,S,x,0,1)}),un.config({}),bo.config({}),hs.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")})),uo("set-aria-valuetext",[is(S=>{const k=()=>{rC(S,H8(m),x)};m._skinLoaded?k():m.once("SkinLoaded",k)})])],eventOrder:{[Cc()]:["add-focusable","set-aria-valuetext"]}},p.icons))})(n,r);return l.concat(u.toArray())})()}},$8=(n,r)=>r.get().getOrDie(`UI for ${n} has not been rendered`),bP=(n,r)=>{const i=n.inline,l=i?aP:YS,u=lb(n)?jO:L_,m=(()=>{const ce=Fn(),he=Fn(),Ne=Fn();return{dialogUi:ce,popupUi:he,mainUi:Ne,getUiMotherships:()=>{const $e=ce.get().map(qe=>qe.mothership),Ue=he.get().map(qe=>qe.mothership);return $e.fold(()=>Ue.toArray(),qe=>Ue.fold(()=>[qe],lt=>Zo(qe.element,lt.element)?[qe]:[qe,lt]))},lazyGetInOuterOrDie:($e,Ue)=>()=>Ne.get().bind(qe=>Ue(qe.outerContainer)).getOrDie(`Could not find ${$e} element in OuterContainer`)}})(),p=Fn(),x=Fn(),v=Fn(),_=we().deviceType.isTouch()?["tox-platform-touch"]:[],S=R4(n),k=Rp(n),A=Mn({dom:{tag:"div",classes:["tox-anchorbar"]}}),M=Mn({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),I=()=>m.mainUi.get().map(ce=>ce.outerContainer).bind(Zn.getHeader),G=m.lazyGetInOuterOrDie("anchor bar",A.getOpt),j=m.lazyGetInOuterOrDie("bottom anchor bar",M.getOpt),W=m.lazyGetInOuterOrDie("toolbar",Zn.getToolbar),V=m.lazyGetInOuterOrDie("throbber",Zn.getThrobber),$=((ce,he,Ne,$e)=>{const Ue=Nt(!1),qe=(po=>{const bs=Nt(R4(po)?"bottom":"top");return{isPositionedAtTop:()=>bs.get()==="top",getDockingMode:bs.get,setDockingMode:bs.set}})(he),lt={icons:()=>he.ui.registry.getAll().icons,menuItems:()=>he.ui.registry.getAll().menuItems,translate:qa.translate,isDisabled:()=>!he.ui.isEnabled(),getOption:he.options.get,tooltips:wI(ce.dialog),checkUiComponentContext:po=>{if(Op(he))return{contextType:"disabled",shouldDisable:!0};const[bs,Sn=""]=po.split(":"),la=he.ui.registry.getAll().contexts;return{contextType:bs,shouldDisable:!Jt(la,bs).fold(()=>Jt(la,"mode").map(ls=>ls("design")).getOr(!1),ls=>Sn.charAt(0)==="!"?!ls(Sn.slice(1)):ls(Sn))}}},Wt=NI(he),eo=(po=>{const bs=ci=>()=>po.formatter.match(ci),Sn=ci=>()=>{const Zi=po.formatter.get(ci);return Zi!==void 0?E.some({tag:Zi.length>0&&(Zi[0].inline||Zi[0].block)||"div",styles:po.dom.parseStyle(po.formatter.getCssText(ci))}):E.none()},la=Nt([]),ls=Nt([]),Tl=Nt(!1);return po.on("PreInit",ci=>{const Zi=OO(po),Bf=NO(po,Zi,bs,Sn);la.set(Bf)}),po.on("addStyleModifications",ci=>{const Zi=NO(po,ci.items,bs,Sn);ls.set(Zi),Tl.set(ci.replace)}),{getData:()=>{const ci=Tl.get()?[]:la.get(),Zi=ls.get();return ci.concat(Zi)}}})(he),no=(po=>({colorPicker:hI(po),hasCustomColors:bI(po),getColors:xI(po),getColorCols:vI(po)}))(he),Po=(po=>({isDraggableModal:yI(po)}))(he),Tn={shared:{providers:lt,anchors:pI(he,Ne,$e,qe.isPositionedAtTop),header:qe},urlinput:Wt,styles:eo,colorinput:no,dialog:Po,isContextMenuOpen:()=>Ue.get(),setContextMenuState:po=>Ue.set(po)},es=po=>E.none(),ro={...Tn,shared:{...Tn.shared,interpreter:po=>SO(po,{},ro,es),getSink:ce.popup}},zn={...Tn,shared:{...Tn.shared,interpreter:po=>SO(po,{},zn,es),getSink:ce.dialog}};return{popup:ro,dialog:zn}})({popup:()=>Go.fromOption(m.popupUi.get().map(ce=>ce.sink),"(popup) UI has not been rendered"),dialog:()=>Go.fromOption(m.dialogUi.get().map(ce=>ce.sink),"UI has not been rendered")},n,G,j),Y=()=>{const ce=(()=>{const Tn={attributes:{[Hm]:S?au.BottomToTop:au.TopToBottom}},es=Zn.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:$.popup,onEscape:()=>{n.focus()}}),ro=Zn.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:$.popup.shared.getSink,providers:$.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:Zi=>{((Bf,Ib)=>{Bf.dispatch("ToggleToolbarDrawer",{state:Ib})})(n,Zi)},type:k,lazyToolbar:W,lazyHeader:()=>I().getOrDie("Could not find header element"),...Tn}),zn=Zn.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:$.popup.shared.providers,onEscape:()=>{n.focus()},type:k}),po=Bv(n),bs=Mv(n),Sn=Pw(n),la=D4(n),ls=po||bs||Sn,Tl=[(ci=la,Zn.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:ci})),es];var ci;return Zn.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(ls?[]:["tox-editor-header--empty"]),...Tn},components:ks([Sn?Tl:[],po?[zn]:bs?[ro]:[],ib(n)?[]:[A.asSpec()]]),sticky:lb(n),editor:n,sharedBackstage:$.popup.shared})})(),he={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Zn.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Zn.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Ne=Zn.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:$.popup}),$e=Zn.parts.viewWrapper({backstage:$.popup}),Ue=zT(n)&&!i?E.some(V8(n,$.popup.shared.providers)):E.none(),qe=ks([S?[]:[ce],i?[]:[he],S?[ce]:[]]),lt=Zn.parts.editorContainer({components:ks([qe,i?[]:[M.asSpec()]])}),Wt=M4(n),eo={role:"application",...qa.isRtl()?{dir:"rtl"}:{},...Wt?{"aria-hidden":"true"}:{}},no=Ua(Zn.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(S?["tox-tinymce--toolbar-bottom"]:[]).concat(_),styles:{visibility:"hidden",...Wt?{opacity:"0",border:"0"}:{}},attributes:eo},components:[lt,...i?[]:[$e,...Ue.toArray()],Ne],behaviours:xt([mr(()=>$.popup.shared.providers.checkUiComponentContext("any")),Qt.config({disableClass:"tox-tinymce--disabled"}),Gt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Po=Bk(no);return p.set(Po),{mothership:Po,outerContainer:no}},J=ce=>{const he=J_(($e=>(Ue=>{const qe=((eo,no)=>{if(typeof no=="number")return E.from(no);const Po=/^([0-9.]+)(pt|em|px)$/.exec(no.trim());if(Po){const Tn=Po[2],es=Number.parseFloat(Po[1]);if(Number.isNaN(es)||es<0)return E.none();if(Tn==="em")return E.from(es*Number.parseFloat(window.getComputedStyle(eo.dom).fontSize));if(Tn==="pt")return E.from(.75*es);if(Tn==="px")return E.from(es)}return E.none()})(Ft(Ue.targetElm),u1(Ue)),lt=cg(Ue),Wt=v4(Ue);return qe.map(eo=>eC(eo,lt,Wt))})($e).getOr(u1($e)))(n)),Ne=J_(($e=>w8($e).getOr(Rw($e)))(n));return n.inline||(rd("div","width",Ne)&&ko(ce.element,"width",Ne),rd("div","height",he)?ko(ce.element,"height",he):ko(ce.element,"height","400px")),he},de=ce=>{const{mainUi:he,popupUi:Ne,uiMotherships:$e}=ce;Rs(w4(n),(ro,zn)=>{n.ui.registry.addGroupToolbarButton(zn,ro)});const{buttons:Ue,menuItems:qe,contextToolbars:lt,sidebars:Wt,views:eo}=n.ui.registry.getAll(),no=Fw(n),Po={menuItems:qe,menus:Iv(n),menubar:LT(n),toolbar:no.getOrThunk(()=>m1(n)),allowToolbarGroups:k===Fc.floating,buttons:Ue,sidebar:Wt,views:eo};var Tn;Tn=he.outerContainer,n.addShortcut("alt+F9","focus menubar",()=>{Zn.focusMenubar(Tn)}),n.addShortcut("alt+F10","focus toolbar",()=>{Zn.focusToolbar(Tn)}),n.addCommand("ToggleToolbarDrawer",(ro,zn,po)=>{zn?.skipFocus?(console.warn(MI.skipFocus,new Error().stack),Zn.toggleToolbarDrawerWithoutFocusing(Tn)):po?.skip_focus?Zn.toggleToolbarDrawerWithoutFocusing(Tn):Zn.toggleToolbarDrawer(Tn)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>Zn.isToolbarDrawerToggled(Tn)),n.on("blur",()=>{Rp(n)===Fc.floating&&Zn.isToolbarDrawerToggled(Tn)&&Zn.toggleToolbarDrawerWithoutFocusing(Tn)}),((ro,zn,po)=>{const bs=(hn,Vc)=>{bt([zn,...po],ki=>{ki.broadcastEvent(hn,Vc)})},Sn=(hn,Vc)=>{bt([zn,...po],ki=>{ki.broadcastOn([hn],Vc)})},la=hn=>Sn(lu(),{target:hn.target}),ls=hn=>{Sn(Va(),{closedTooltip:()=>{hn.preventDefault()}})},Tl=W1(),ci=La(Tl,"touchstart",la),Zi=La(Tl,"touchmove",hn=>bs(sy(),hn)),Bf=La(Tl,"touchend",hn=>bs(ry(),hn)),Ib=La(Tl,"mousedown",la),uC=La(Tl,"mouseup",hn=>{hn.raw.button===0&&Sn(Hh(),{target:hn.target})}),im=hn=>Sn(lu(),{target:Ft(hn.target)}),P1=hn=>{hn.button===0&&Sn(Hh(),{target:Ft(hn.target)})},vg=()=>{bt(ro.editorManager.get(),hn=>{ro!==hn&&hn.dispatch("DismissPopups",{relatedTarget:ro})})},L1=hn=>bs(d0(),od(hn)),F1=hn=>{Sn(Zm(),{}),bs(Wl(),od(hn))},If=Kr(Ft(ro.getElement())),Kp=j1(If,"scroll",hn=>{requestAnimationFrame(()=>{if(ro.getContainer()!=null){const Vc=Np(ro,zn.element).map(ki=>[ki.element,...ki.others]).getOr([]);_n(Vc,ki=>Zo(ki,hn.target))&&(ro.dispatch("ElementScroll",{target:hn.target.dom}),bs(wh(),hn))}})}),z1=()=>Sn(Zm(),{}),Pb=hn=>{hn.state&&Sn(lu(),{target:Ft(ro.getContainer())})},B2=hn=>{Sn(lu(),{target:Ft(hn.relatedTarget.getContainer())})},Lb=hn=>ro.dispatch("focusin",hn),Yp=hn=>ro.dispatch("focusout",hn);ro.on("PostRender",()=>{ro.on("click",im),ro.on("tap",im),ro.on("mouseup",P1),ro.on("mousedown",vg),ro.on("ScrollWindow",L1),ro.on("ResizeWindow",F1),ro.on("ResizeEditor",z1),ro.on("AfterProgressState",Pb),ro.on("DismissPopups",B2),ro.on("CloseActiveTooltips",ls),bt([zn,...po],hn=>{hn.element.dom.addEventListener("focusin",Lb),hn.element.dom.addEventListener("focusout",Yp)})}),ro.on("remove",()=>{ro.off("click",im),ro.off("tap",im),ro.off("mouseup",P1),ro.off("mousedown",vg),ro.off("ScrollWindow",L1),ro.off("ResizeWindow",F1),ro.off("ResizeEditor",z1),ro.off("AfterProgressState",Pb),ro.off("DismissPopups",B2),ro.off("CloseActiveTooltips",ls),bt([zn,...po],hn=>{hn.element.dom.removeEventListener("focusin",Lb),hn.element.dom.removeEventListener("focusout",Yp)}),Ib.unbind(),ci.unbind(),Zi.unbind(),Bf.unbind(),uC.unbind(),Kp.unbind()}),ro.on("detach",()=>{bt([zn,...po],By),bt([zn,...po],hn=>hn.destroy())})})(n,he.mothership,$e),u.setup(n,$.popup.shared,I),O8(n,$.popup),uE(n,$.popup.shared.getSink,$.popup),(ro=>{const{sidebars:zn}=ro.ui.registry.getAll();bt(zo(zn),po=>{const bs=zn[po],Sn=()=>$n(E.from(ro.queryCommandValue("ToggleSidebar")),po);ro.ui.registry.addToggleButton(po,{icon:bs.icon,tooltip:bs.tooltip,onAction:la=>{ro.execCommand("ToggleSidebar",!1,po),la.setActive(Sn())},onSetup:la=>{la.setActive(Sn());const ls=()=>la.setActive(Sn());return ro.on("ToggleSidebar",ls),()=>{ro.off("ToggleSidebar",ls)}},context:"any"})})})(n),VI(n,V,$.popup.shared),uP(n,lt,Ne.sink,{backstage:$.popup}),hP(n,Ne.sink);const es={targetNode:n.getElement(),height:J(he.outerContainer)};return l.render(n,ce,Po,$.popup,es)};return{popups:{backstage:$.popup,getMothership:()=>$8("popups",v)},dialogs:{backstage:$.dialog,getMothership:()=>$8("dialogs",x)},renderUI:()=>{const ce=Y(),he=(()=>{const Ue=zw(n),qe=Zo(lr(),Ue)&&za(Ue,"display")==="grid",lt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(_),attributes:{...qa.isRtl()?{dir:"rtl"}:{}}},behaviours:xt([wi.config({useFixed:()=>u.isDocked(I)})])},Wt={dom:{styles:{width:document.body.clientWidth+"px"}},events:Xn([Ye(Wl(),Po=>{ko(Po.element,"width",document.body.clientWidth+"px")})])},eo=Ua(vs(lt,qe?Wt:{})),no=Bk(eo);return x.set(no),{sink:eo,mothership:no}})(),Ne=Sf(n)?(()=>{const Ue={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(_),attributes:{...qa.isRtl()?{dir:"rtl"}:{}}},behaviours:xt([wi.config({useFixed:()=>u.isDocked(I),getBounds:()=>r.getPopupSinkBounds()})])},qe=Ua(Ue),lt=Bk(qe);return v.set(lt),{sink:qe,mothership:lt}})():(Ue=>(v.set(Ue.mothership),Ue))(he);m.dialogUi.set(he),m.popupUi.set(Ne),m.mainUi.set(ce);const $e={popupUi:Ne,dialogUi:he,mainUi:ce,uiMotherships:m.getUiMotherships()};return de($e)}}},U8=n=>{const r=[],i={};return Cn(n,(l,u)=>{l.fold(()=>{r.push(u)},m=>{i[u]=m})}),r.length>0?Go.error(r):Go.value(i)},Z8=(n,r,i,l)=>{const u=Mn(e1.sketch(p=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:Ce(n.items,x=>ia(p,x,r,i,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:xt([Gt.config({mode:"acyclic",useTabstopAt:gs(g2)}),(m=u,yn.config({find:m.getOpt})),qB(u,{postprocess:p=>U8(p).fold(x=>(console.error(x),{}),gt)}),uo("dialog-body-panel",[Ye(Zl(),(p,x)=>{p.getSystem().broadcastOn([T_],{newFocus:E.some(x.event.target)})})])])};var m},j8=(n,r)=>{ko(n,"height",r+"px"),ko(n,"flex-basis",r+"px")},iC=(n,r,i)=>{Xr(n,'[role="dialog"]').each(l=>{rs(l,'[role="tablist"]').each(u=>{i.get().map(m=>(ko(r,"height","0"),ko(r,"flex-basis","0"),Math.min(m,((p,x,v)=>{const _=ns(p).dom,S=Xr(p,".tox-dialog-wrap").getOr(p);let k;k=za(S,"position")==="fixed"?Math.max(_.clientHeight,window.innerHeight):Math.max(_.offsetHeight,_.scrollHeight);const A=Rr(x),M=x.dom.offsetLeft>=v.dom.offsetLeft+Pn(v)?Math.max(Rr(v),A):A,I=parseInt(za(p,"margin-top"),10)||0,G=parseInt(za(p,"margin-bottom"),10)||0;return k-(Rr(p)+I+G-M)})(l,r,u)))).each(m=>{j8(r,m)})})})},gE=n=>rs(n,'[role="tabpanel"]'),W8="send-data-to-section",q8="send-data-to-view",xP=(n,r,i,l)=>{const u=Nt({}),m=S=>{const k=Ht.getValue(S),A=U8(k).getOr({}),M=u.get(),I=vs(M,A);u.set(I)},p=S=>{const k=u.get();Ht.setValue(S,k)},x=Nt(null),v=Ce(n.tabs,S=>({value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ds(i.shared.providers.translate(S.title))],view:()=>[e1.sketch(k=>({dom:{tag:"div",classes:["tox-form"]},components:Ce(S.items,A=>ia(k,A,r,i,l)),formBehaviours:xt([Gt.config({mode:"acyclic",useTabstopAt:gs(g2)}),uo("TabView.form.events",[is(p),Dc(m)]),rl.config({channels:Qi([{key:W8,value:{onReceive:m}},{key:q8,value:{onReceive:p}}])})])}))]})),_=(S=>{const k=Fn();return{extraEvents:[is(M=>{const I=M.element;gE(I).each(G=>{ko(G,"visibility","hidden"),M.getSystem().getByDom(G).toOptional().each(j=>{const W=(($,Y,J)=>Ce($,(de,ce)=>{So.set(J,$[ce].view());const he=Y.dom.getBoundingClientRect();return So.set(J,[]),he.height}))(S,G,j);($=>At(je($,(Y,J)=>Y>J?-1:Y<J?1:0)))(W).fold(k.clear,k.set)}),iC(I,G,k),fn(G,"visibility"),((j,W)=>{At(j).each(V=>l1.showTab(W,V.value))})(S,M),requestAnimationFrame(()=>{iC(I,G,k)})})}),Ye(Wl(),M=>{const I=M.element;gE(I).each(G=>{iC(I,G,k)})}),Ye(VD,(M,I)=>{const G=M.element;gE(G).each(j=>{const W=nd(Kr(j));ko(j,"visibility","hidden");const V=cr(j,"height").map(Y=>parseInt(Y,10));fn(j,"height"),fn(j,"flex-basis");const $=j.dom.getBoundingClientRect().height;V.forall(Y=>$>Y)?(k.set($),iC(G,j,k)):V.each(Y=>{j8(j,Y)}),fn(j,"visibility"),W.each(br)})})],selectFirst:!1}})(v);return l1.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(S,k,A)=>{const M=Ht.getValue(k);Kt(S,HD,{name:M,oldName:x.get()}),x.set(M)},tabs:v,components:[l1.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[CT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:xt([un.config({})])}),l1.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:_.selectFirst,tabSectionBehaviours:xt([uo("tabpanel",_.extraEvents),Gt.config({mode:"acyclic"}),yn.config({find:S=>At(l1.getViewItems(S))}),T1(E.none(),S=>(S.getSystem().broadcastOn([W8],{}),u.get()),(S,k)=>{u.set(k),S.getSystem().broadcastOn([q8],{})})])})},G8=(n,r,i,l,u,m)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(p=>({id:p})).getOr({}),...u?{"aria-live":"polite"}:{}}},components:[],behaviours:xt([A1(0),_i.config({channel:`${cS}-${r}`,updateState:(p,x)=>E.some({isTabPanel:()=>x.body.type==="tabpanel"}),renderComponents:p=>{const x=p.body;return x.type==="tabpanel"?[xP(x,p.initialData,l,m)]:[Z8(x,p.initialData,l,m)]},initialData:n})])}),vP=Rd.deviceType.isTouch(),fE=(n,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,r]}),K8=(n,r)=>ra.parts.close(ja.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:n,buttonBehaviours:xt([un.config({})])})),Y8=()=>ra.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),X8=(n,r)=>ra.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:bf(`<p>${j4(r.translate(n))}</p>`)}]}]}),Q8=n=>ra.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),J8=(n,r)=>[ec.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),ec.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],pE=n=>{const r="tox-dialog",i=r+"-wrap",l=i+"__backdrop",u=r+"__disable-scroll";return ra.sketch({lazySink:n.lazySink,onEscape:m=>(n.onEscape(m),E.some(!0)),useTabstopAt:m=>!g2(m),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[r].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:bf(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:vP?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:xt([bo.config({}),uo("dialog-events",n.dialogEvents.concat([Wu(Zl(),(m,p)=>{Yu.isBlocked(m)||Gt.focusIn(m)}),Ye(jg(),(m,p)=>{m.getSystem().broadcastOn([T_],{newFocus:p.event.newFocus})})])),uo("scroll-lock",[is(()=>{ws(lr(),u)}),Dc(()=>{on(lr(),u)})]),...n.extraBehaviours]),eventOrder:{[tl()]:["dialog-events"],[Cc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[ou()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},hE=n=>ja.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:xt([un.config({}),hs.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[El("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:r=>{Ko(r,$p)}}),bE=(n,r,i,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(u=>({id:u})).getOr({})}},components:[],behaviours:xt([_i.config({channel:`${oO}-${r}`,initialData:n,renderComponents:u=>[Ds(l.translate(u.title))]})])}),e7=()=>({dom:bf('<div class="tox-dialog__draghandle"></div>')}),M2=(n,r,i)=>((l,u,m)=>{const p=ra.parts.title(bE(l,u,E.none(),m)),x=ra.parts.draghandle(e7()),v=ra.parts.close(hE(m)),_=[p].concat(l.draggable?[x]:[]).concat([v]);return ec.sketch({dom:bf('<div class="tox-dialog__header"></div>'),components:_})})({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},r,i.shared.providers),t7=(n,r,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:bf('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),o7=(n,r,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const u=rs(n().element,".tox-dialog__header").map(m=>Rr(m));ra.setBusy(n(),(m,p)=>t7(l.message,p,r,u))},onUnblock:()=>{ra.setIdle(n())}}),n7="tox-dialog--fullscreen",xE="tox-dialog--width-lg",vE="tox-dialog--width-md",lC=n=>{switch(n){case"large":return E.some(xE);case"medium":return E.some(vE);default:return E.none()}},s7=(n,r)=>{const i=Ft(r.element.dom);ur(i,n7)||(Qr(i,[xE,vE]),lC(n).each(l=>ws(i,l)))},r7=(n,r)=>{const i=Ft(n.element.dom),l=Yf(i),u=P(l,m=>m===xE||m===vE).or(lC(r));((m,p)=>{bt(p,x=>{((v,_)=>{ei(v)?v.dom.classList.toggle(_):((S,k)=>ut(Kf(S),k)?ad(S,k):Fl(S,k))(v,_),Y1(v)})(m,x)})})(i,[n7,...u.toArray()])},Mf=(n,r,i)=>Ua(pE({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[S_({}),...n.extraBehaviours],onEscape:l=>{Ko(l,$p)},dialogEvents:r,eventOrder:{[Im()]:[_i.name(),rl.name()],[Cc()]:["scroll-lock",_i.name(),"messages","dialog-events","alloy.base.behaviour"],[ou()]:["alloy.base.behaviour","dialog-events","messages",_i.name(),"scroll-lock"]}})),yE=(n,r={})=>Ce(n,i=>i.type==="menu"?(l=>{const u=Ce(l.items,m=>{const p=Jt(r,m.name).getOr(Nt(!1));return{...m,storage:p}});return{...l,items:u}})(i):i),a7=n=>Uo(n,(r,i)=>i.type==="menu"?Uo(i.items,(l,u)=>(l[u.name]=u.storage,l),r):r,{}),wE=(n,r)=>[of(Zl(),tO),n(u2,(i,l,u,m)=>{Wd(m.element)&&nd(Kr(m.element)).each(Ki),r.onClose(),l.onClose()}),n($p,(i,l,u,m)=>{l.onCancel(i),Ko(m,u2)}),Ye(eS,(i,l)=>r.onUnblock()),Ye(J3,(i,l)=>r.onBlock(l.event))],i7=(n,r,i)=>{const l=(m,p)=>Ye(m,(x,v)=>{u(x,(_,S)=>{p(n(),_,v.event,x)})}),u=(m,p)=>{_i.getState(m).get().each(x=>{p(x.internalDialog,m)})};return[...wE(l,r),l(m2,(m,p)=>p.onSubmit(m)),l(Al,(m,p,x)=>{p.onChange(m,{name:x.name})}),l(pg,(m,p,x,v)=>{const _=()=>v.getSystem().isConnected()?Gt.focusIn(v):void 0,S=M=>q1(M,"disabled")||Yr(M,"aria-disabled").exists(I=>I==="true"),k=Kr(v.element),A=nd(k);p.onAction(m,{name:x.name,value:x.value}),nd(k).fold(_,M=>{S(M)||A.exists(I=>Ls(M,I)&&S(I))?_():i().toOptional().filter(I=>!Ls(I.element,M)).each(_)})}),l(HD,(m,p,x)=>{p.onTabChange(m,{newTabName:x.name,oldTabName:x.oldName})}),Dc(m=>{const p=n();Ht.setValue(m,p.getData())})]},yP=(n,r)=>{const i=r.map(m=>m.footerButtons).getOr([]),l=cn(i,m=>m.align==="start"),u=(m,p)=>ec.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${m}`]},components:Ce(p,x=>x.memento.asSpec())});return[u("start",l.pass),u("end",l.fail)]},l7=(n,r,i)=>({dom:bf('<div class="tox-dialog__footer"></div>'),components:[],behaviours:xt([_i.config({channel:`${dS}-${r}`,initialData:n,updateState:(l,u)=>{const m=Ce(u.buttons,p=>{const x=Mn(((v,_)=>B_(v,v.type,_))(p,i));return{name:p.name,align:p.align,memento:x}});return E.some({lookupByName:p=>((x,v,_)=>P(v,S=>S.name===_).bind(S=>S.memento.getOpt(x)))(l,m,p),footerButtons:m})},renderComponents:yP})])}),c7=(n,r,i)=>ra.parts.footer(l7(n,r,i)),Nb=(n,r)=>{if(n.getRoot().getSystem().isConnected()){const i=yn.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return e1.getField(i,r).orThunk(()=>n.getFooter().bind(u=>_i.getState(u).get()).bind(u=>u.lookupByName(r)))}return E.none()},_E=(n,r,i)=>{const l=m=>{const p=n.getRoot();p.getSystem().isConnected()&&m(p)},u={getData:()=>{const m=n.getRoot(),p=m.getSystem().isConnected()?n.getFormWrapper():m;return{...Ht.getValue(p),...Rs(i,x=>x.get())}},setData:m=>{l(p=>{const x=u.getData(),v=vs(x,m),_=((k,A)=>{const M=k.getRoot();return _i.getState(M).get().map(I=>Ii(Ts("data",I.dataValidator,A))).getOr(A)})(n,v),S=n.getFormWrapper();Ht.setValue(S,_),Cn(i,(k,A)=>{rn(v,A)&&k.set(v[A])})})},setEnabled:(m,p)=>{Nb(n,m).each(p?Qt.enable:Qt.disable)},focus:m=>{Nb(n,m).each(bo.focus)},block:m=>{if(!Oe(m))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{Kt(p,J3,{message:m})})},unblock:()=>{l(m=>{Ko(m,eS)})},showTab:m=>{l(p=>{const x=n.getBody();_i.getState(x).get().exists(v=>v.isTabPanel())&&yn.getCurrent(x).each(v=>{l1.showTab(v,m)})})},redial:m=>{l(p=>{const x=n.getId(),v=r(m),_=yE(v.internalDialog.buttons,i);p.getSystem().broadcastOn([`${A_}-${x}`],v),p.getSystem().broadcastOn([`${oO}-${x}`],v.internalDialog),p.getSystem().broadcastOn([`${cS}-${x}`],v.internalDialog),p.getSystem().broadcastOn([`${dS}-${x}`],{...v.internalDialog,buttons:_}),u.setData(v.initialData)})},close:()=>{l(m=>{Ko(m,u2)})},toggleFullscreen:n.toggleFullscreen};return u},cC=(n,r,i,l=!1,u)=>{const m=Ae("dialog"),p=Ae("dialog-label"),x=Ae("dialog-content"),v=n.internalDialog,_=Nt(v.size),S=lC(_.get()).toArray(),k=Mn(((J,de,ce,he)=>ec.sketch({dom:bf('<div class="tox-dialog__header"></div>'),components:[bE(J,de,E.some(ce),he),e7(),hE(he)],containerBehaviours:xt([yp.config({mode:"mouse",blockerClass:"blocker",getTarget:Ne=>gl(Ne,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(Ne,$e)=>{Ne.getSystem().broadcastOn([Zm()],{target:$e})}})])}))({title:v.title,draggable:!0},m,p,i.shared.providers)),A=Mn(((J,de,ce,he,Ne,$e)=>G8(J,de,E.some(ce),he,Ne,$e))({body:v.body,initialData:v.initialData},m,x,i,l,J=>Nb($,J))),M=yE(v.buttons),I=a7(M),G=$s(M.length!==0,Mn(((J,de,ce)=>l7(J,de,ce))({buttons:M},m,i))),j=i7(()=>Y,{onBlock:J=>{Yu.block(V,(de,ce)=>{const he=k.getOpt(V).map(Ne=>Rr(Ne.element));return t7(J.message,ce,i.shared.providers,he)})},onUnblock:()=>{Yu.unblock(V)},onClose:()=>r.closeWindow()},i.shared.getSink),W=we().os,V=Ua({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...S],attributes:{role:"dialog",...W.isMacOS()?{"aria-label":v.title}:{"aria-labelledby":p}}},eventOrder:{[Im()]:[_i.name(),rl.name()],[tl()]:["execute-on-form"],[Cc()]:["reflecting","execute-on-form"]},behaviours:xt([Gt.config({mode:"cyclic",onEscape:J=>(Ko(J,u2),E.some(!0)),useTabstopAt:J=>!g2(J)&&(Zt(J)!=="button"||Eo(J,"disabled")!=="disabled"),firstTabstop:1}),_i.config({channel:`${A_}-${m}`,updateState:(J,de)=>(_.set(de.internalDialog.size),s7(de.internalDialog.size,J),u(),E.some(de)),initialData:n}),bo.config({}),uo("execute-on-form",j.concat([Wu(Zl(),(J,de)=>{Gt.focusIn(J)}),Ye(jg(),(J,de)=>{J.getSystem().broadcastOn([T_],{newFocus:de.event.newFocus})})])),Yu.config({getRoot:()=>E.some(V)}),So.config({}),S_({})]),components:[k.asSpec(),A.asSpec(),...G.map(J=>J.asSpec()).toArray()]}),$={getId:te(m),getRoot:te(V),getFooter:()=>G.map(J=>J.get(V)),getBody:()=>A.get(V),getFormWrapper:()=>{const J=A.get(V);return yn.getCurrent(J).getOr(J)},toggleFullscreen:()=>{r7(V,_.get())}},Y=_E($,r.redial,I);return{dialog:V,instanceApi:Y}};var Mb=tinymce.util.Tools.resolve("tinymce.util.URI");const Bb=["insertContent","setContent","execCommand","close","block","unblock"],d7=n=>ke(n)&&Bb.indexOf(n.mceAction)!==-1,u7=(n,r,i,l)=>{const u=Ae("dialog"),m=M2(n.title,u,l),p=(W=>{const V={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[lS(E.none(),{dom:{tag:"iframe",attributes:{src:W.url}},behaviours:xt([un.config({}),bo.config({})])})]}],behaviours:xt([Gt.config({mode:"acyclic",useTabstopAt:gs(g2)})])};return ra.parts.body(V)})(n),x=n.buttons.bind(W=>W.length===0?E.none():E.some(c7({buttons:W},u,l))),v=((W,V)=>{const $=(J,de)=>Ye(J,(ce,he)=>{Y(ce,(Ne,$e)=>{de(j,Ne,he.event,ce)})}),Y=(J,de)=>{_i.getState(J).get().each(ce=>{de(ce,J)})};return[...wE($,V),$(pg,(J,de,ce)=>{de.onAction(J,{name:ce.name})})]})(0,o7(()=>G,l.shared.providers,r)),_={...n.height.fold(()=>({}),W=>({height:W+"px","max-height":W+"px"})),...n.width.fold(()=>({}),W=>({width:W+"px","max-width":W+"px"}))},S=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],k=new Mb(n.url,{base_uri:new Mb(window.location.href)}),A=`${k.protocol}://${k.host}${k.port?":"+k.port:""}`,M=Zr(),I=[_i.config({channel:`${A_}-${u}`,updateState:(W,V)=>E.some(V),initialData:n}),uo("messages",[is(()=>{const W=La(Ft(window),"message",V=>{if(k.isSameOrigin(new Mb(V.raw.origin))){const $=V.raw.data;d7($)?((Y,J,de)=>{switch(de.mceAction){case"insertContent":Y.insertContent(de.content);break;case"setContent":Y.setContent(de.content);break;case"execCommand":const ce=!!Et(de.ui)&&de.ui;Y.execCommand(de.cmd,ce,de.value);break;case"close":J.close();break;case"block":J.block(de.message);break;case"unblock":J.unblock()}})(i,j,$):(Y=>!d7(Y)&&ke(Y)&&rn(Y,"mceAction"))($)&&n.onMessage(j,$)}});M.set(W)}),Dc(M.clear)]),rl.config({channels:{[uS]:{onReceive:(W,V)=>{rs(W.element,"iframe").each($=>{const Y=$.dom.contentWindow;ye(Y)&&Y.postMessage(V,A)})}}}})],G=Mf({id:u,header:m,body:p,footer:x,extraClasses:S,extraBehaviours:I,extraStyles:_},v,l),j=(W=>{const V=$=>{W.getSystem().isConnected()&&$(W)};return{block:$=>{if(!Oe($))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");V(Y=>{Kt(Y,J3,{message:$})})},unblock:()=>{V($=>{Ko($,eS)})},close:()=>{V($=>{Ko($,u2)})},sendMessage:$=>{V(Y=>{Y.getSystem().broadcastOn([uS],$)})}}})(G);return{dialog:G,instanceApi:j}},m7=(n,r)=>Ii(Ts("data",r,n)),I1=n=>uh(n,".tox-alert-dialog")||uh(n,".tox-confirm-dialog"),wP=(n,r,i,l)=>r&&i?[]:[Ms.config({contextual:{lazyContext:()=>E.some(xr(Ft(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:l},modes:["top"],lazyViewport:u=>Np(n,u.element).map(m=>({bounds:Mp(m),optScrollEnv:E.some({currentScrollTop:m.element.dom.scrollTop,scrollElmTop:Nr(m.element).top})})).getOrThunk(()=>({bounds:Ws(),optScrollEnv:E.none()}))})],dC=n=>{const r=n.editor,i=lb(r),l=(v=>{const _=v.shared;return{open:(S,k)=>{const A=()=>{ra.hide(j),k()},M=Mn(B_({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"cancel",v)),I=Y8(),G=K8(A,_.providers),j=Ua(pE({lazySink:()=>_.getSink(),header:fE(I,G),body:X8(S,_.providers),footer:E.some(Q8(J8([],[M.asSpec()]))),onEscape:A,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ye($p,A)],eventOrder:{}}));ra.show(j);const W=M.get(j);bo.focus(W)}}})(n.backstages.dialog),u=(v=>{const _=v.shared;return{open:(S,k)=>{const A=$=>{ra.hide(W),k($)},M=Mn(B_({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"submit",v)),I=B_({context:"any",name:"no",text:"No",primary:!1,buttonType:E.some("secondary"),align:"end",enabled:!0,icon:E.none()},"cancel",v),G=Y8(),j=K8(()=>A(!1),_.providers),W=Ua(pE({lazySink:()=>_.getSink(),header:fE(G,j),body:X8(S,_.providers),footer:E.some(Q8(J8([],[I,M.asSpec()]))),onEscape:()=>A(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ye($p,()=>A(!1)),Ye(m2,()=>A(!0))],eventOrder:{}}));ra.show(W);const V=M.get(W);bo.focus(V)}}})(n.backstages.dialog),m=(v,_)=>Fp.open((S,k,A)=>{const M=k,I=((G,j,W)=>{const V=Ae("dialog"),$=G.internalDialog,Y=M2($.title,V,W),J=Nt($.size),de=lC(J.get()).toArray(),ce=((no,Po,Tn,es)=>{const ro=G8(no,Po,E.none(),Tn,!1,es);return ra.parts.body(ro)})({body:$.body,initialData:$.initialData},V,W,no=>Nb(Wt,no)),he=yE($.buttons),Ne=a7(he),$e=$s(he.length!==0,c7({buttons:he},V,W)),Ue=i7(()=>eo,o7(()=>lt,W.shared.providers,j),W.shared.getSink),qe={id:V,header:Y,body:ce,footer:$e,extraClasses:de,extraBehaviours:[_i.config({channel:`${A_}-${V}`,updateState:(no,Po)=>(J.set(Po.internalDialog.size),s7(Po.internalDialog.size,no),E.some(Po)),initialData:G})],extraStyles:{}},lt=Mf(qe,Ue,W),Wt={getId:te(V),getRoot:te(lt),getBody:()=>ra.getBody(lt),getFooter:()=>ra.getFooter(lt),getFormWrapper:()=>{const no=ra.getBody(lt);return yn.getCurrent(no).getOr(no)},toggleFullscreen:()=>{r7(lt,J.get())}},eo=_E(Wt,j.redial,Ne);return{dialog:lt,instanceApi:eo}})({dataValidator:A,initialData:M,internalDialog:S},{redial:Fp.redial,closeWindow:()=>{ra.hide(I.dialog),_(I.instanceApi)}},n.backstages.dialog);return ra.show(I.dialog),I.instanceApi.setData(M),I.instanceApi},v),p=(v,_,S,k)=>Fp.open((A,M,I)=>{const G=m7(M,I),j=Fn(),W=n.backstages.popup.shared.header.isPositionedAtTop(),V=()=>j.on(de=>{Bs.reposition(de),i&&W||Ms.refresh(de)}),$=cC({dataValidator:I,initialData:G,internalDialog:A},{redial:Fp.redial,closeWindow:()=>{j.on(Bs.hide),r.off("ResizeEditor",V),r.off("ScrollWindow",Y),j.clear(),S($.instanceApi)}},n.backstages.popup,k.ariaAttrs,V),Y=()=>$.dialog.getSystem().broadcastOn([Zm()],{target:$.dialog.element}),J=Ua(Bs.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:k.persistent?{event:"doNotDismissYet"}:{},...W?{}:{fireRepositionEventInstead:{}},inlineBehaviours:xt([uo("window-manager-inline-events",[Ye(Zg(),(de,ce)=>{Ko($.dialog,$p)})]),...wP(r,i,W,()=>$.dialog.getSystem().broadcastOn([lu()],{target:$.dialog.element}))]),isExtraPart:(de,ce)=>I1(ce)}));return j.set(J),Bs.showWithinBounds(J,Jl($.dialog),{anchor:_},()=>{const de=r.inline?lr():Ft(r.getContainer()),ce=xr(de);return E.some(ce)}),i&&W||(Ms.refresh(J),r.on("ResizeEditor",V)),r.on("ScrollWindow",Y),$.instanceApi.setData(G),Gt.focusIn($.dialog),$.instanceApi},v),x=(v,_,S,k)=>Fp.open((A,M,I)=>{const G=m7(M,I),j=Fn(),W=n.backstages.popup.shared.header.isPositionedAtTop(),V=()=>j.on(J=>{Bs.reposition(J),Ms.refresh(J)}),$=cC({dataValidator:I,initialData:G,internalDialog:A},{redial:Fp.redial,closeWindow:()=>{j.on(Bs.hide),r.off("ResizeEditor ScrollWindow ElementScroll",V),j.clear(),S($.instanceApi)}},n.backstages.popup,k.ariaAttrs,V),Y=Ua(Bs.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:k.persistent?{event:"doNotDismissYet"}:{},...W?{}:{fireRepositionEventInstead:{}},inlineBehaviours:xt([uo("window-manager-inline-events",[Ye(Zg(),(J,de)=>{Ko($.dialog,$p)})]),Ms.config({contextual:{lazyContext:()=>E.some(xr(Ft(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:J=>Np(r,J.element).map(de=>({bounds:Mp(de),optScrollEnv:E.some({currentScrollTop:de.element.dom.scrollTop,scrollElmTop:Nr(de.element).top})})).getOrThunk(()=>({bounds:Ws(),optScrollEnv:E.none()}))})]),isExtraPart:(J,de)=>I1(de)}));return j.set(Y),Bs.showWithinBounds(Y,Jl($.dialog),{anchor:_},()=>n.backstages.popup.shared.getSink().toOptional().bind(J=>{const de=Np(r,J.element).map(Ne=>Mp(Ne)).getOr(Ws()),ce=xr(Ft(r.getContentAreaContainer())),he=fh(ce,de);return E.some(dn(he.x,he.y,he.width,he.height-15))})),Ms.refresh(Y),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",V),$.instanceApi.setData(G),Gt.focusIn($.dialog),$.instanceApi},v);return{open:(v,_,S)=>{if(!kt(_)){if(_.inline==="toolbar")return p(v,n.backstages.popup.shared.anchors.inlineDialog(),S,_);if(_.inline==="bottom")return x(v,n.backstages.popup.shared.anchors.inlineBottomDialog(),S,_);if(_.inline==="cursor")return p(v,n.backstages.popup.shared.anchors.cursor(),S,_)}return m(v,S)},openUrl:(v,_)=>((S,k)=>Fp.openUrl(A=>{const M=u7(A,{closeWindow:()=>{ra.hide(M.dialog),k(M.instanceApi)}},r,n.backstages.dialog);return ra.show(M.dialog),M.instanceApi},S))(v,_),alert:(v,_)=>{l.open(v,_)},close:v=>{v.close()},confirm:(v,_)=>{u.open(v,_)}}},CE=n=>{OT(n),(r=>{const i=r.options.register,l=m=>{return yt(m,Oe)?{value:(p=m,j3(p.map((x,v)=>v%2==0?"#"+(_=>{return(S=_,B3(S)?E.some({value:pD(S)}):E.none()).orThunk(()=>F3(_).map(yb)).getOrThunk(()=>{const k=document.createElement("canvas");k.height=1,k.width=1;const A=k.getContext("2d");A.clearRect(0,0,k.width,k.height),A.fillStyle="#FFFFFF",A.fillStyle=_,A.fillRect(0,0,1,1);const M=A.getImageData(0,0,1,1).data,I=M[0],G=M[1],j=M[2],W=M[3];return yb(S1(I,G,j,W))});var S})(x).value:x))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var p},u=m=>Bt(m)&&m>0?{value:m,valid:!0}:{valid:!1,message:"Must be a positive number."};i("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),i("color_map_raw",{processor:m=>yt(m,Oe)?{value:j3(m),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),i("color_map_background",{processor:l}),i("color_map_foreground",{processor:l}),i("color_cols",{processor:u,default:q3(r)}),i("color_cols_foreground",{processor:u,default:wD(r,U3)}),i("color_cols_background",{processor:u,default:wD(r,Z3)}),i("custom_colors",{processor:"boolean",default:!0}),i("color_default_foreground",{processor:"string",default:W3}),i("color_default_background",{processor:"string",default:W3})})(n),(r=>{const i=r.options.register;i("contextmenu_avoid_overlap",{processor:"string",default:""}),i("contextmenu_never_use_native",{processor:"boolean",default:!1}),i("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:Oe(l)||yt(l,Oe)?{value:R8(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(n)};DT.add("silver",n=>{CE(n);let r=()=>Ws();const{dialogs:i,popups:l,renderUI:u}=bP(n,{getPopupSinkBounds:()=>r()});ZB(n,l.backstage.shared);const m=dC({editor:n,backstages:{popup:l.backstage,dialog:i.backstage}}),p=Fn();return{renderUI:()=>{const x=u();return Np(n,l.getMothership().element).each(v=>{r=()=>Mp(v)}),x},getWindowManagerImpl:te(m),getNotificationManagerImpl:()=>yM(n,{backstage:l.backstage},l.getMothership(),p),getPromotionElement:()=>rs(Ft(n.getContainer()),".tox-promotion").map(x=>x.dom).getOrNull()}})})();(function(){var ne=tinymce.util.Tools.resolve("tinymce.ModelManager");const fe=g=>h=>(y=>{const C=typeof y;return y===null?"null":C==="object"&&Array.isArray(y)?"array":C==="object"&&(D=O=y,(L=String).prototype.isPrototypeOf(D)||((H=O.constructor)===null||H===void 0?void 0:H.name)===L.name)?"string":C;var D,O,L,H})(h)===g,Pe=g=>h=>typeof h===g,_e=g=>h=>g===h,Qe=fe("string"),Oe=fe("object"),ke=fe("array"),Be=_e(null),We=Pe("boolean"),tt=_e(void 0),Et=g=>!(h=>h==null)(g),kt=Pe("function"),Je=Pe("number"),ye=()=>{},ot=g=>()=>g,Bt=g=>g,yt=(g,h)=>g===h;function ue(g,...h){return(...y)=>{const C=h.concat(y);return g.apply(null,C)}}const pe=g=>h=>!g(h),Re=g=>g(),te=ot(!1),gt=ot(!0);class me{constructor(h,y){this.tag=h,this.value=y}static some(h){return new me(!0,h)}static none(){return me.singletonNone}fold(h,y){return this.tag?y(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?me.some(h(this.value)):me.none()}bind(h){return this.tag?h(this.value):me.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:me.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return Et(h)?me.some(h):me.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}me.singletonNone=new me(!1);const ln=Array.prototype.slice,gs=Array.prototype.indexOf,Os=Array.prototype.push,Qo=(g,h)=>{return y=g,C=h,gs.call(y,C)>-1;var y,C},He=(g,h)=>{for(let y=0,C=g.length;y<C;y++)if(h(g[y],y))return!0;return!1},so=(g,h)=>{const y=[];for(let C=0;C<g;C++)y.push(h(C));return y},E=(g,h)=>{const y=g.length,C=new Array(y);for(let D=0;D<y;D++){const O=g[D];C[D]=h(O,D)}return C},Oo=(g,h)=>{for(let y=0,C=g.length;y<C;y++)h(g[y],y)},Ro=(g,h)=>{const y=[],C=[];for(let D=0,O=g.length;D<O;D++){const L=g[D];(h(L,D)?y:C).push(L)}return{pass:y,fail:C}},Hn=(g,h)=>{const y=[];for(let C=0,D=g.length;C<D;C++){const O=g[C];h(O,C)&&y.push(O)}return y},da=(g,h,y)=>(((C,D)=>{for(let O=C.length-1;O>=0;O--)D(C[O],O)})(g,(C,D)=>{y=h(y,C,D)}),y),ut=(g,h,y)=>(Oo(g,(C,D)=>{y=h(y,C,D)}),y),_n=(g,h)=>((y,C,D)=>{for(let O=0,L=y.length;O<L;O++){const H=y[O];if(C(H,O))return me.some(H);if(D(H,O))break}return me.none()})(g,h,te),Ai=(g,h)=>{for(let y=0,C=g.length;y<C;y++)if(h(g[y],y))return me.some(y);return me.none()},Ve=g=>{const h=[];for(let y=0,C=g.length;y<C;++y){if(!ke(g[y]))throw new Error("Arr.flatten item "+y+" was not an array, input: "+g);Os.apply(h,g[y])}return h},Ce=(g,h)=>Ve(E(g,h)),bt=(g,h)=>{for(let y=0,C=g.length;y<C;++y)if(h(g[y],y)!==!0)return!1;return!0},cn=(g,h)=>{const y={};for(let C=0,D=g.length;C<D;C++){const O=g[C];y[String(O)]=h(O,C)}return y},Co=(g,h)=>h>=0&&h<g.length?me.some(g[h]):me.none(),_o=g=>Co(g,0),Uo=g=>Co(g,g.length-1),P=(g,h)=>{for(let y=0;y<g.length;y++){const C=h(g[y],y);if(C.isSome())return C}return me.none()},Qs=Object.keys,ks=Object.hasOwnProperty,Fo=(g,h)=>{const y=Qs(g);for(let C=0,D=y.length;C<D;C++){const O=y[C];h(g[O],O)}},ui=(g,h)=>pr(g,(y,C)=>({k:C,v:h(y,C)})),pr=(g,h)=>{const y={};return Fo(g,(C,D)=>{const O=h(C,D);y[O.k]=O.v}),y},$o=(g,h)=>{const y=[];return Fo(g,(C,D)=>{y.push(h(C,D))}),y},In=g=>$o(g,Bt),Mo=(g,h)=>ks.call(g,h),je=g=>{if(!ke(g))throw new Error("cases must be an array");if(g.length===0)throw new Error("there must be at least one case");const h=[],y={};return Oo(g,(C,D)=>{const O=Qs(C);if(O.length!==1)throw new Error("one and only one name per case");const L=O[0],H=C[L];if(y[L]!==void 0)throw new Error("duplicate key detected:"+L);if(L==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ke(H))throw new Error("case arguments must be an array");h.push(L),y[L]=(...Q)=>{const re=Q.length;if(re!==H.length)throw new Error("Wrong number of arguments to case "+L+". Expected "+H.length+" ("+H+"), got "+re);return{fold:(...be)=>{if(be.length!==g.length)throw new Error("Wrong number of arguments to fold. Expected "+g.length+", got "+be.length);return be[D].apply(null,Q)},match:be=>{const se=Qs(be);if(h.length!==se.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+se.join(","));if(!bt(h,ge=>Qo(se,ge)))throw new Error("Not all branches were specified when using match. Specified: "+se.join(", ")+`
Required: `+h.join(", "));return be[L].apply(null,Q)},log:be=>{console.log(be,{constructors:h,constructor:L,params:Q})}}}}),y},ct=g=>{let h=g;return{get:()=>h,set:y=>{h=y}}},At=g=>g.slice(0).sort(),ft=(g,h)=>{const y=Hn(h,C=>!Qo(g,C));y.length>0&&(C=>{throw new Error("Unsupported keys for object: "+At(C).join(", "))})(y)},Wn=g=>((h,y)=>((C,D,O)=>{if(D.length===0)throw new Error("You must specify at least one required field.");return((L,H)=>{if(!ke(H))throw new Error("The "+L+" fields must be an array. Was: "+H+".");Oo(H,Q=>{if(!Qe(Q))throw new Error("The value "+Q+" in the "+L+" fields was not a string.")})})("required",D),(L=>{const H=At(L);_n(H,(Q,re)=>re<H.length-1&&Q===H[re+1]).each(Q=>{throw new Error("The field: "+Q+" occurs more than once in the combined fields: ["+H.join(", ")+"].")})})(D),L=>{const H=Qs(L);bt(D,re=>Qo(H,re))||((re,be)=>{throw new Error("All required keys ("+At(re).join(", ")+") were not specified. Specified keys were: "+At(be).join(", ")+".")})(D,H),C(D,H);const Q=Hn(D,re=>!O.validate(L[re],re));return Q.length>0&&((re,be)=>{throw new Error("All values need to be of type: "+be+". Keys ("+At(re).join(", ")+") were not.")})(Q,O.label),L}})(h,y,{validate:kt,label:"function"}))(ft,g),mn=g=>{const h=O=>O(g),y=ot(g),C=()=>D,D={tag:!0,inner:g,fold:(O,L)=>L(g),isValue:gt,isError:te,map:O=>Wc.value(O(g)),mapError:C,bind:h,exists:h,forall:h,getOr:y,or:C,getOrThunk:y,orThunk:C,getOrDie:y,each:O=>{O(g)},toOptional:()=>me.some(g)};return D},zo=g=>{const h=()=>y,y={tag:!1,inner:g,fold:(D,O)=>D(g),isValue:te,isError:gt,map:h,mapError:D=>Wc.error(D(g)),bind:h,exists:te,forall:gt,getOr:Bt,or:Bt,getOrThunk:Re,orThunk:Re,getOrDie:(C=String(g),()=>{throw new Error(C)}),each:ye,toOptional:me.none};var C;return y},Wc={value:mn,error:zo,fromOption:(g,h)=>g.fold(()=>zo(h),mn)},Cn=typeof window<"u"?window:Function("return this;")(),Rs=g=>{const h=g.replace(/\./g,"-");return{resolve:y=>h+"-"+y}},qc=(g,h,y=yt)=>g.exists(C=>y(C,h)),Gc=g=>{const h=[],y=C=>{h.push(C)};for(let C=0;C<g.length;C++)g[C].each(y);return h},ar=(g,h)=>g?me.some(h):me.none(),Pa=(g,h)=>((y,C)=>{let D=C??Cn;for(let O=0;O<y.length&&D!=null;++O)D=D[y[O]];return D})(g.split("."),h),ua=()=>{const g=(h=>{const y=ct(me.none()),C=()=>y.get().each(h);return{clear:()=>{C(),y.set(me.none())},isSet:()=>y.get().isSome(),get:()=>y.get(),set:D=>{C(),y.set(me.some(D))}}})(ye);return{...g,on:h=>g.get().each(h)}},Ol=(g,h,y)=>h===""||g.length>=h.length&&g.substr(y,y+h.length)===h,Tr=(g,h,y=0,C)=>{const D=g.indexOf(h,y);return D!==-1&&(!!tt(C)||D+h.length<=C)},Jt=(g,h)=>Ol(g,h,0),rn=(g,h)=>Ol(g,h,g.length-h.length),qn=(g=>h=>h.replace(g,""))(/^\s+|\s+$/g),Vs=g=>g.length>0,Nt=g=>{let h,y=!1;return(...C)=>(y||(y=!0,h=g.apply(null,C)),h)},Ti=["tfoot","thead","tbody","colgroup"],gc=(g,h,y)=>({element:g,rowspan:h,colspan:y}),ma=(g,h,y)=>({element:g,cells:h,section:y}),Ps=(g,h,y)=>({element:g,isNew:h,isLocked:y}),Jo=(g,h,y,C)=>({element:g,cells:h,section:y,isNew:C}),$r=(g,h,y)=>{const C=g.cells,D=C.slice(0,h),O=C.slice(h),L=D.concat(y).concat(O);return Go(g,L)},Eg=(g,h,y)=>$r(g,h,[y]),fc=(g,h,y)=>{g.cells[h]=y},Go=(g,h)=>Jo(g.element,h,g.section,g.isNew),Ur=(g,h)=>g.cells[h],Dr=(g,h)=>Ur(g,h).element,wa=g=>g.cells.length,Ss=g=>{const h=Ro(g,y=>y.section==="colgroup");return{rows:h.fail,cols:h.pass}},An=(g,h,y)=>{const C=E(g.cells,y);return Jo(h(g.element),C,g.section,!0)},vo=g=>{if(g==null)throw new Error("Node cannot be null or undefined");return{dom:g}},Ae={fromHtml:(g,h)=>{const y=(h||document).createElement("div");if(y.innerHTML=g,!y.hasChildNodes()||y.childNodes.length>1){const C="HTML does not have a single root node";throw console.error(C,g),new Error(C)}return vo(y.childNodes[0])},fromTag:(g,h)=>{const y=(h||document).createElement(g);return vo(y)},fromText:(g,h)=>{const y=(h||document).createTextNode(g);return vo(y)},fromDom:vo,fromPoint:(g,h,y)=>me.from(g.dom.elementFromPoint(h,y)).map(vo)},Fd=(g,h)=>{const y=g.document.createRange();return y.selectNode(h.dom),y},vs=(g,h)=>{const y=g.document.createRange();return ll(y,h),y},ll=(g,h)=>g.selectNodeContents(h.dom),$n=(g,h,y)=>{const C=g.document.createRange();var D;return D=C,h.fold(O=>{D.setStartBefore(O.dom)},(O,L)=>{D.setStart(O.dom,L)},O=>{D.setStartAfter(O.dom)}),((O,L)=>{L.fold(H=>{O.setEndBefore(H.dom)},(H,Q)=>{O.setEnd(H.dom,Q)},H=>{O.setEndAfter(H.dom)})})(C,y),C},cl=(g,h,y,C,D)=>{const O=g.document.createRange();return O.setStart(h.dom,y),O.setEnd(C.dom,D),O},Rl=g=>({left:g.left,top:g.top,right:g.right,bottom:g.bottom,width:g.width,height:g.height}),zd=je([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),$s=(g,h,y)=>h(Ae.fromDom(y.startContainer),y.startOffset,Ae.fromDom(y.endContainer),y.endOffset),fm=(g,h)=>{const y=((C,D)=>D.match({domRange:O=>({ltr:ot(O),rtl:me.none}),relative:(O,L)=>({ltr:Nt(()=>$n(C,O,L)),rtl:Nt(()=>me.some($n(C,L,O)))}),exact:(O,L,H,Q)=>({ltr:Nt(()=>cl(C,O,L,H,Q)),rtl:Nt(()=>me.some(cl(C,H,Q,O,L)))})}))(g,h);return((C,D)=>{const O=D.ltr();return O.collapsed?D.rtl().filter(L=>L.collapsed===!1).map(L=>zd.rtl(Ae.fromDom(L.endContainer),L.endOffset,Ae.fromDom(L.startContainer),L.startOffset)).getOrThunk(()=>$s(0,zd.ltr,O)):$s(0,zd.ltr,O)})(0,y)},Us=(g,h)=>fm(g,h).match({ltr:(y,C,D,O)=>{const L=g.document.createRange();return L.setStart(y.dom,C),L.setEnd(D.dom,O),L},rtl:(y,C,D,O)=>{const L=g.document.createRange();return L.setStart(D.dom,O),L.setEnd(y.dom,C),L}});zd.ltr,zd.rtl;const Zr=(g,h)=>{const y=g.dom;if(y.nodeType!==1)return!1;{const C=y;if(C.matches!==void 0)return C.matches(h);if(C.msMatchesSelector!==void 0)return C.msMatchesSelector(h);if(C.webkitMatchesSelector!==void 0)return C.webkitMatchesSelector(h);if(C.mozMatchesSelector!==void 0)return C.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},Fn=g=>g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11||g.childElementCount===0,Nl=(g,h)=>{const y=h===void 0?document:h.dom;return Fn(y)?me.none():me.from(y.querySelector(g)).map(Ae.fromDom)},os=(g,h)=>g.dom===h.dom,Zs=(g,h)=>{const y=g.dom,C=h.dom;return y!==C&&y.contains(C)},Su=Zr,Hd=()=>Eu(0,0),Eu=(g,h)=>({major:g,minor:h}),Ml={nu:Eu,detect:(g,h)=>{const y=String(h).toLowerCase();return g.length===0?Hd():((C,D)=>{const O=((H,Q)=>{for(let re=0;re<H.length;re++){const be=H[re];if(be.test(Q))return be}})(C,D);if(!O)return{major:0,minor:0};const L=H=>Number(D.replace(O,"$"+H));return Eu(L(1),L(2))})(g,y)},unknown:Hd},pc=(g,h)=>{const y=String(h).toLowerCase();return _n(g,C=>C.search(y))},Au=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,hr=g=>h=>Tr(h,g),Tu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:g=>Tr(g,"edge/")&&Tr(g,"chrome")&&Tr(g,"safari")&&Tr(g,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Au],search:g=>Tr(g,"chrome")&&!Tr(g,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:g=>Tr(g,"msie")||Tr(g,"trident")},{name:"Opera",versionRegexes:[Au,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:hr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:hr("firefox")},{name:"Safari",versionRegexes:[Au,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:g=>(Tr(g,"safari")||Tr(g,"mobile/"))&&Tr(g,"applewebkit")}],rh=[{name:"Windows",search:hr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:g=>Tr(g,"iphone")||Tr(g,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:hr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:hr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:hr("linux"),versionRegexes:[]},{name:"Solaris",search:hr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:hr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:hr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Es={browsers:ot(Tu),oses:ot(rh)},Ag="Edge",Ft="Chromium",Vd="Opera",Tg="Firefox",Dg="Safari",Kc=g=>{const h=g.current,y=g.version,C=D=>()=>h===D;return{current:h,version:y,isEdge:C(Ag),isChromium:C(Ft),isIE:C("IE"),isOpera:C(Vd),isFirefox:C(Tg),isSafari:C(Dg)}},Og=()=>Kc({current:void 0,version:Ml.unknown()}),$f=Kc,Bl="Windows",mi="Android",Uf="Linux",Zf="macOS",Zo="Solaris",Ls="FreeBSD",Rg="ChromeOS",Yc=g=>{const h=g.current,y=g.version,C=D=>()=>h===D;return{current:h,version:y,isWindows:C(Bl),isiOS:C("iOS"),isAndroid:C(mi),isMacOS:C(Zf),isLinux:C(Uf),isSolaris:C(Zo),isFreeBSD:C(Ls),isChromeOS:C(Rg)}},Il=()=>Yc({current:void 0,version:Ml.unknown()}),jf=Yc,pm=g=>window.matchMedia(g).matches;let jr=Nt(()=>((g,h,y)=>{const C=Es.browsers(),D=Es.oses(),O=h.bind(Q=>((re,be)=>P(be.brands,se=>{const ge=se.brand.toLowerCase();return _n(re,le=>{var Ee;return ge===((Ee=le.brand)===null||Ee===void 0?void 0:Ee.toLowerCase())}).map(le=>({current:le.name,version:Ml.nu(parseInt(se.version,10),0)}))}))(C,Q)).orThunk(()=>((Q,re)=>pc(Q,re).map(be=>{const se=Ml.detect(be.versionRegexes,re);return{current:be.name,version:se}}))(C,g)).fold(Og,$f),L=((Q,re)=>pc(Q,re).map(be=>{const se=Ml.detect(be.versionRegexes,re);return{current:be.name,version:se}}))(D,g).fold(Il,jf),H=((Q,re,be,se)=>{const ge=Q.isiOS()&&/ipad/i.test(be)===!0,le=Q.isiOS()&&!ge,Ee=Q.isiOS()||Q.isAndroid(),Se=Ee||se("(pointer:coarse)"),et=ge||!le&&Ee&&se("(min-device-width:768px)"),st=le||Ee&&!et,pt=re.isSafari()&&Q.isiOS()&&/safari/i.test(be)===!1,vt=!st&&!et&&!pt;return{isiPad:ot(ge),isiPhone:ot(le),isTablet:ot(et),isPhone:ot(st),isTouch:ot(Se),isAndroid:Q.isAndroid,isiOS:Q.isiOS,isWebView:ot(pt),isDesktop:ot(vt)}})(L,O,g,y);return{browser:O,os:L,deviceType:H}})(window.navigator.userAgent,me.from(window.navigator.userAgentData),pm));const Xc=()=>jr(),ah=Object.getPrototypeOf,Du=g=>{const h=Pa("ownerDocument.defaultView",g);return Oe(g)&&((y=>((C,D)=>{const O=((L,H)=>Pa(L,H))(C,D);if(O==null)throw new Error(C+" not available on this browser");return O})("HTMLElement",y))(h).prototype.isPrototypeOf(g)||/^HTML\w*Element$/.test(ah(g).constructor.name))},ys=g=>g.dom.nodeName.toLowerCase(),$d=g=>g.dom.nodeType,gi=g=>h=>$d(h)===g,Qc=g=>$d(g)===8||ys(g)==="#comment",Fs=g=>Di(g)&&Du(g.dom),Di=gi(1),Oi=gi(3),Wf=gi(9),hm=gi(11),ga=g=>h=>Di(h)&&ys(h)===g,Ud=g=>Ae.fromDom(g.dom.ownerDocument),Zd=g=>Wf(g)?g:Ud(g),dl=g=>me.from(g.dom.parentNode).map(Ae.fromDom),bm=g=>me.from(g.dom.parentElement).map(Ae.fromDom),jd=(g,h)=>{const y=kt(h)?h:te;let C=g.dom;const D=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const O=C.parentNode,L=Ae.fromDom(O);if(D.push(L),y(L)===!0)break;C=O}return D},Ng=g=>me.from(g.dom.previousSibling).map(Ae.fromDom),Jc=g=>me.from(g.dom.nextSibling).map(Ae.fromDom),Qa=g=>E(g.dom.childNodes,Ae.fromDom),Z=(g,h)=>{const y=g.dom.childNodes;return me.from(y[h]).map(Ae.fromDom)},ae=g=>hm(g)&&Et(g.dom.host),we=g=>Ae.fromDom(g.dom.getRootNode()),nt=g=>Ae.fromDom(g.dom.host),Rt=g=>{const h=Ae.fromDom((H=>{if(Et(H.target)){const Q=Ae.fromDom(H.target);if(Di(Q)&&Et(Q.dom.shadowRoot)&&H.composed&&H.composedPath){const re=H.composedPath();if(re)return _o(re)}}return me.from(H.target)})(g).getOr(g.target)),y=()=>g.stopPropagation(),C=()=>g.preventDefault(),D=(O=C,L=y,(...H)=>O(L.apply(null,H)));var O,L;return((H,Q,re,be,se,ge,le)=>({target:H,x:Q,y:re,stop:be,prevent:se,kill:ge,raw:le}))(h,g.clientX,g.clientY,y,C,D,g)},Zt=(g,h,y,C)=>{g.dom.removeEventListener(h,y,C)},en=gt,Gn=(g,h,y)=>((C,D,O,L)=>((H,Q,re,be,se)=>{const ge=((le,Ee)=>Se=>{le(Se)&&Ee(Rt(Se))})(re,be);return H.dom.addEventListener(Q,ge,se),{unbind:ue(Zt,H,Q,ge,se)}})(C,D,O,L,!1))(g,h,en,y),jo=Rt,B=(g,h)=>{dl(g).each(y=>{y.dom.insertBefore(h.dom,g.dom)})},q=(g,h)=>{Jc(g).fold(()=>{dl(g).each(y=>{De(y,h)})},y=>{B(y,h)})},ie=(g,h)=>{(C=>Z(C,0))(g).fold(()=>{De(g,h)},C=>{g.dom.insertBefore(h.dom,C.dom)})},De=(g,h)=>{g.dom.appendChild(h.dom)},zt=(g,h)=>{B(g,h),De(h,g)},gn=(g,h)=>{Oo(h,(y,C)=>{const D=C===0?g:h[C-1];q(D,y)})},ns=(g,h)=>{Oo(h,y=>{De(g,y)})},Or=(g,h,y)=>{if(!(Qe(y)||We(y)||Je(y)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",y,":: Element ",g),new Error("Attribute value was not simple");g.setAttribute(h,y+"")},Un=(g,h,y)=>{Or(g.dom,h,y)},fa=(g,h)=>{const y=g.dom;Fo(h,(C,D)=>{Or(y,D,C)})},_a=(g,h)=>{const y=g.dom.getAttribute(h);return y===null?void 0:y},Gi=(g,h)=>me.from(_a(g,h)),ir=(g,h)=>{g.dom.removeAttribute(h)},ul=g=>ut(g.dom.attributes,(h,y)=>(h[y.name]=y.value,h),{}),ed=g=>{g.dom.textContent="",Oo(Qa(g),h=>{Ca(h)})},Ca=g=>{const h=g.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},Pl=g=>{const h=Qa(g);h.length>0&&gn(g,h),Ca(g)},ih=(g,h)=>Ae.fromDom(g.dom.cloneNode(h)),qf=g=>ih(g,!1),Kr=g=>ih(g,!0),Mg=(g,h)=>{const y=Ae.fromTag(h),C=ul(g);return fa(y,C),y},xm=g=>g.style!==void 0&&kt(g.style.getPropertyValue),td=g=>{const h=Oi(g)?g.dom.parentNode:g.dom;if(h==null||h.ownerDocument===null)return!1;const y=h.ownerDocument;return(O=>{const L=we(O);return ae(L)?me.some(L):me.none()})(Ae.fromDom(h)).fold(()=>y.body.contains(h),(C=td,D=nt,O=>C(D(O))));var C,D},Qb=(g,h,y)=>{if(!Qe(y))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",y,":: Element ",g),new Error("CSS value must be a string: "+y);xm(g)&&g.style.setProperty(h,y)},ka=(g,h,y)=>{const C=g.dom;Qb(C,h,y)},lh=(g,h)=>{const y=g.dom;Fo(h,(C,D)=>{Qb(y,D,C)})},Ou=(g,h)=>{const y=g.dom,C=window.getComputedStyle(y).getPropertyValue(h);return C!==""||td(g)?C:La(y,h)},La=(g,h)=>xm(g)?g.style.getPropertyValue(h):"",j1=(g,h)=>{const y=g.dom,C=La(y,h);return me.from(C).filter(D=>D.length>0)},od=(g,h)=>{((y,C)=>{xm(y)&&y.style.removeProperty(C)})(g.dom,h),qc(Gi(g,"style").map(qn),"")&&ir(g,"style")},W1=(g,h)=>{const y=D=>{const O=h(D);if(O<=0||O===null){const L=Ou(D,g);return parseFloat(L)||0}return O},C=(D,O)=>ut(O,(L,H)=>{const Q=Ou(D,H),re=Q===void 0?0:parseInt(Q,10);return isNaN(re)?L:L+re},0);return{set:(D,O)=>{if(!Je(O)&&!O.match(/^[0-9]+$/))throw new Error(g+".set accepts only positive integer values. Value was "+O);const L=D.dom;xm(L)&&(L.style[g]=O+"px")},get:y,getOuter:y,aggregate:C,max:(D,O,L)=>{const H=C(D,L);return O>H?O-H:0}}},br=(g,h,y)=>((C,D)=>(O=>{const L=parseFloat(O);return isNaN(L)?me.none():me.some(L)})(C).getOr(D))(Ou(g,h),y),Ki=W1("height",g=>{const h=g.dom;return td(g)?h.getBoundingClientRect().height:h.offsetHeight}),Wd=g=>Ki.get(g),nd=g=>Ki.getOuter(g),Fa=W1("width",g=>{const h=g.dom;return td(g)?h.getBoundingClientRect().width:h.offsetWidth}),Ll=g=>Fa.get(g),Jb=g=>Fa.getOuter(g),ex=g=>((h,y)=>{const C=h.dom,D=C.getBoundingClientRect().width||C.offsetWidth;return((O,L,H,Q)=>L-br(O,`padding-${H}`,0)-br(O,`padding-${Q}`,0)-br(O,`border-${H}-width`,0)-br(O,`border-${Q}-width`,0))(h,D,"left","right")})(g),Ri=(g,h)=>({left:g,top:h,translate:(y,C)=>Ri(g+y,h+C)}),fi=Ri,ml=(g,h)=>g!==void 0?g:h!==void 0?h:0,io=g=>{const h=g.dom.ownerDocument,y=h.body,C=h.defaultView,D=h.documentElement;if(y===g.dom)return fi(y.offsetLeft,y.offsetTop);const O=ml(C?.pageYOffset,D.scrollTop),L=ml(C?.pageXOffset,D.scrollLeft),H=ml(D.clientTop,y.clientTop),Q=ml(D.clientLeft,y.clientLeft);return G2(g).translate(L-Q,O-H)},G2=g=>{const h=g.dom,y=h.ownerDocument.body;return y===h?fi(y.offsetLeft,y.offsetTop):td(g)?(C=>{const D=C.getBoundingClientRect();return fi(D.left,D.top)})(h):fi(0,0)},Eo=(g=>{const h=y=>g(y)?me.from(y.dom.nodeValue):me.none();return{get:y=>{if(!g(y))throw new Error("Can only get text value of a text node");return h(y).getOr("")},getOption:h,set:(y,C)=>{if(!g(y))throw new Error("Can only set raw text value of a text node");y.dom.nodeValue=C}}})(Oi),Yr=g=>Eo.get(g),q1=g=>Eo.getOption(g),js=(g,h)=>Eo.set(g,h),G1=(g,h)=>y=>qd(y)==="rtl"?h:g,qd=g=>Ou(g,"direction")==="rtl"?"rtl":"ltr";var tx=(g,h,y,C,D)=>g(y,C)?me.some(y):kt(D)&&D(y)?me.none():h(y,C,D);const vm=(g,h,y)=>{let C=g.dom;const D=kt(y)?y:te;for(;C.parentNode;){C=C.parentNode;const O=Ae.fromDom(C);if(h(O))return me.some(O);if(D(O))break}return me.none()},Bg=(g,h,y)=>tx((C,D)=>D(C),vm,g,h,y),Ig=(g,h,y)=>vm(g,C=>Zr(C,h),y),Gf=(g,h)=>(y=>_n(y.dom.childNodes,C=>{return D=Ae.fromDom(C),Zr(D,h);var D}).map(Ae.fromDom))(g),it=(g,h)=>Nl(h,g),lr=(g,h,y)=>tx((C,D)=>Zr(C,D),Ig,g,h,y),K2=g=>g.dom.classList!==void 0,ox=(g,h)=>((y,C,D)=>{const O=((L,H)=>{const Q=_a(L,H);return Q===void 0||Q===""?[]:Q.split(" ")})(y,C).concat([D]);return Un(y,C,O.join(" ")),!0})(g,"class",h),sd=(g,h)=>{K2(g)?g.dom.classList.add(h):ox(g,h)},ko=(g,h)=>K2(g)&&g.dom.classList.contains(h),oe=g=>lr(g,"[contenteditable]"),ym=(g,h=!1)=>td(g)?g.dom.isContentEditable:oe(g).fold(ot(h),y=>za(y)==="true"),za=g=>g.dom.contentEditable,K1=(g,h)=>{let y=[];return Oo(Qa(g),C=>{h(C)&&(y=y.concat([C])),y=y.concat(K1(C,h))}),y},cr=(g,h,y)=>((C,D,O)=>Hn(jd(C,O),L=>Zr(L,h)))(g,0,y),Ru=(g,h)=>(y=>Hn(Qa(y),C=>Zr(C,h)))(g),rd=(g,h)=>((y,C)=>{const D=C===void 0?document:C.dom;return Fn(D)?[]:E(D.querySelectorAll(y),Ae.fromDom)})(h,g),fn=g=>ys(g)==="img"?1:q1(g).fold(()=>Qa(g).length,h=>h.length),ch=["img","br"],nx=g=>q1(g).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||Qo(ch,ys(g))||(h=>Fs(h)&&_a(h,"contenteditable")==="false")(g),Pg=g=>((h,y)=>{const C=D=>{for(let O=0;O<D.childNodes.length;O++){const L=Ae.fromDom(D.childNodes[O]);if(y(L))return me.some(L);const H=C(D.childNodes[O]);if(H.isSome())return H}return me.none()};return C(h.dom)})(g,nx),Rr=g=>Nu(g,nx),Nu=(g,h)=>{const y=C=>{const D=Qa(C);for(let O=D.length-1;O>=0;O--){const L=D[O];if(h(L))return me.some(L);const H=y(L);if(H.isSome())return H}return me.none()};return y(g)},Gd=(g,h,y,C)=>({start:g,soffset:h,finish:y,foffset:C}),Lg=je([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Pn={before:Lg.before,on:Lg.on,after:Lg.after,cata:(g,h,y,C)=>g.fold(h,y,C),getStart:g=>g.fold(Bt,Bt,Bt)},Kd=je([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Fg={domRange:Kd.domRange,relative:Kd.relative,exact:Kd.exact,exactFromRange:g=>Kd.exact(g.start,g.soffset,g.finish,g.foffset),getWin:g=>{const h=(y=>y.match({domRange:C=>Ae.fromDom(C.startContainer),relative:(C,D)=>Pn.getStart(C),exact:(C,D,O,L)=>C}))(g);return Ae.fromDom(Zd(h).dom.defaultView)},range:Gd},As=(g,h)=>{const y=ys(g);return y==="input"?Pn.after(g):Qo(["br","img"],y)?h===0?Pn.before(g):Pn.after(g):Pn.on(g,h)},tn=g=>me.from(g.getSelection()),Nr=(g,h)=>{tn(g).each(y=>{y.removeAllRanges(),y.addRange(h)})},wm=(g,h,y,C,D)=>{const O=cl(g,h,y,C,D);Nr(g,O)},Ni=(g,h)=>fm(g,h).match({ltr:(y,C,D,O)=>{wm(g,y,C,D,O)},rtl:(y,C,D,O)=>{tn(g).each(L=>{if(L.setBaseAndExtent)L.setBaseAndExtent(y.dom,C,D.dom,O);else if(L.extend)try{((H,Q,re,be,se,ge)=>{Q.collapse(re.dom,be),Q.extend(se.dom,ge)})(0,L,y,C,D,O)}catch{wm(g,D,O,y,C)}else wm(g,D,O,y,C)})}}),Ho=(g,h,y,C,D)=>{const O=((L,H,Q,re)=>{const be=As(L,H),se=As(Q,re);return Fg.relative(be,se)})(h,y,C,D);Ni(g,O)},sx=(g,h,y)=>{const C=((D,O)=>{const L=D.fold(Pn.before,As,Pn.after),H=O.fold(Pn.before,As,Pn.after);return Fg.relative(L,H)})(h,y);Ni(g,C)},zg=g=>{if(g.rangeCount>0){const h=g.getRangeAt(0),y=g.getRangeAt(g.rangeCount-1);return me.some(Gd(Ae.fromDom(h.startContainer),h.startOffset,Ae.fromDom(y.endContainer),y.endOffset))}return me.none()},rx=g=>{if(g.anchorNode===null||g.focusNode===null)return zg(g);{const h=Ae.fromDom(g.anchorNode),y=Ae.fromDom(g.focusNode);return((C,D,O,L)=>{const H=((re,be,se,ge)=>{const le=Ud(re).dom.createRange();return le.setStart(re.dom,be),le.setEnd(se.dom,ge),le})(C,D,O,L),Q=os(C,O)&&D===L;return H.collapsed&&!Q})(h,g.anchorOffset,y,g.focusOffset)?me.some(Gd(h,g.anchorOffset,y,g.focusOffset)):zg(g)}},Yd=(g,h,y=!0)=>{const C=(y?vs:Fd)(g,h);Nr(g,C)},dr=g=>(h=>tn(h).filter(y=>y.rangeCount>0).bind(rx))(g).map(h=>Fg.exact(h.start,h.soffset,h.finish,h.foffset)),Ja=(g,h,y)=>((C,D,O)=>((L,H,Q)=>L.caretPositionFromPoint?((re,be,se)=>{var ge;return me.from((ge=re.caretPositionFromPoint)===null||ge===void 0?void 0:ge.call(re,be,se)).bind(le=>{if(le.offsetNode===null)return me.none();const Ee=re.createRange();return Ee.setStart(le.offsetNode,le.offset),Ee.collapse(),me.some(Ee)})})(L,H,Q):L.caretRangeFromPoint?((re,be,se)=>{var ge;return me.from((ge=re.caretRangeFromPoint)===null||ge===void 0?void 0:ge.call(re,be,se))})(L,H,Q):me.none())(C.document,D,O).map(L=>Gd(Ae.fromDom(L.startContainer),L.startOffset,Ae.fromDom(L.endContainer),L.endOffset)))(g,h,y),Y2={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},X2=(()=>{const g="[0-9]+",h="[eE][+-]?"+g,y=D=>`(?:${D})?`,C=["Infinity",g+"\\."+y(g)+y(h),"\\."+g+y(h),g+y(h)].join("|");return new RegExp(`^([+-]?(?:${C}))(.*)$`)})(),Xr=g=>E(g,ot(0)),ax=(g,h,y,C,D)=>D(g.slice(0,h)).concat(C).concat(D(g.slice(y))),hc=g=>(h,y,C,D)=>{if(g(C)){const O=Math.max(D,h[y]-Math.abs(C)),L=Math.abs(O-h[y]);return C>=0?L:-L}return C},rs=hc(g=>g<0),gl=hc(gt),Yi=()=>{const g=(y,C,D,O)=>{const L=(100+D)/100,H=Math.max(O,(y[C]+D)/L);return E(y,(Q,re)=>(re===C?H:Q/L)-Q)},h=(y,C,D,O,L,H)=>H?g(y,C,O,L):((Q,re,be,se,ge)=>{const le=rs(Q,re,se,ge);return ax(Q,re,be+1,[le,0],Xr)})(y,C,D,O,L);return{resizeTable:(y,C)=>y(C),clampTableDelta:rs,calcLeftEdgeDeltas:h,calcMiddleDeltas:(y,C,D,O,L,H,Q)=>h(y,D,O,L,H,Q),calcRightEdgeDeltas:(y,C,D,O,L,H)=>{if(H)return g(y,D,O,L);{const Q=rs(y,D,O,L);return Xr(y.slice(0,D)).concat([Q])}},calcRedestributedWidths:(y,C,D,O)=>{if(O){const L=(C+D)/C,H=E(y,Q=>Q/L);return{delta:100*L-100,newSizes:H}}return{delta:D,newSizes:y}}}},_m=()=>{const g=(h,y,C,D,O)=>{const L=gl(h,D>=0?C:y,D,O);return ax(h,y,C+1,[L,-L],Xr)};return{resizeTable:(h,y,C)=>{C&&h(y)},clampTableDelta:(h,y,C,D,O)=>{if(O){if(C>=0)return C;{const L=ut(h,(H,Q)=>H+Q-D,0);return Math.max(-L,C)}}return rs(h,y,C,D)},calcLeftEdgeDeltas:g,calcMiddleDeltas:(h,y,C,D,O,L)=>g(h,C,D,O,L),calcRightEdgeDeltas:(h,y,C,D,O,L)=>{if(L)return Xr(h);{const H=D/h.length;return E(h,ot(H))}},calcRedestributedWidths:(h,y,C,D)=>({delta:0,newSizes:h})}},ei=(g,h,y=0)=>Gi(g,h).map(C=>parseInt(C,10)).getOr(y),Kf=(g,h)=>ei(g,h,1),Fl=g=>ga("col")(g)?ei(g,"span",1)>1:Kf(g,"colspan")>1,ad=(g,h)=>parseInt(Ou(g,h),10),ws=ot(10),Y1=ot(10),on=(g,h)=>ur(g,h,gt),ur=(g,h,y)=>Ce(Qa(g),C=>Zr(C,h)?y(C)?[C]:[]:ur(C,h,y)),zl=(g,h)=>((y,C,D=te)=>D(C)?me.none():Qo(y,ys(C))?me.some(C):Ig(C,y.join(","),O=>Zr(O,"table")||D(O)))(["td","th"],g,h),Qr=g=>on(g,"th,td"),Yf=g=>Zr(g,"colgroup")?Ru(g,"col"):Ce(Qd(g),h=>Ru(h,"col")),Jr=(g,h)=>lr(g,"table",h),Xd=g=>on(g,"tr"),Qd=g=>Jr(g).fold(ot([]),h=>Ru(h,"colgroup")),ea=ga("th"),dh=g=>bt(g,h=>ea(h.element)),uh=(g,h)=>g&&h?"sectionCells":g?"section":"cells",ix=g=>{const h=g.section==="thead",y=qc(mh(g.cells),"th");return g.section==="tfoot"?{type:"footer"}:h||y?{type:"header",subType:uh(h,y)}:{type:"body"}},mh=g=>{const h=Hn(g,y=>ea(y.element));return h.length===0?me.some("td"):h.length===g.length?me.some("th"):me.none()},gh=(g,h)=>E(g,y=>{if(ys(y)==="colgroup"){const C=E(Yf(y),D=>{const O=ei(D,"span",1);return gc(D,1,O)});return ma(y,C,"colgroup")}{const C=E(Qr(y),D=>{const O=ei(D,"rowspan",1),L=ei(D,"colspan",1);return gc(D,O,L)});return ma(y,C,h(y))}}),X1=g=>dl(g).map(h=>{const y=ys(h);return(C=>Qo(Ti,C))(y)?y:"tbody"}).getOr("tbody"),Q1=g=>{const h=Xd(g),y=[...Qd(g),...h];return gh(y,X1)},J1="data-snooker-locked-cols",e0=g=>Gi(g,J1).bind(h=>me.from(h.match(/\d+/g))).map(h=>cn(h,gt)),id=g=>{const h=ut(Ss(g).rows,(C,D)=>(Oo(D.cells,(O,L)=>{O.isLocked&&(C[L]=!0)}),C),{}),y=$o(h,(C,D)=>parseInt(D,10));return(C=>{const D=ln.call(C,0);return D.sort(void 0),D})(y)},t0=(g,h)=>g+","+h,Q2=(g,h)=>{const y=Ce(g.all,C=>C.cells);return Hn(y,h)},lx=g=>{const h={},y=[],C=_o(g).map(ge=>ge.element).bind(Jr).bind(e0).getOr({});let D=0,O=0,L=0;const{pass:H,fail:Q}=Ro(g,ge=>ge.section==="colgroup");Oo(Q,ge=>{const le=[];Oo(ge.cells,Ee=>{let Se=0;for(;h[t0(L,Se)]!==void 0;)Se++;const et=((pt,vt)=>Mo(pt,vt)&&pt[vt]!==void 0&&pt[vt]!==null)(C,Se.toString()),st=((pt,vt,wt,Dt,Mt,Xt)=>({element:pt,rowspan:vt,colspan:wt,row:Dt,column:Mt,isLocked:Xt}))(Ee.element,Ee.rowspan,Ee.colspan,L,Se,et);for(let pt=0;pt<Ee.colspan;pt++)for(let vt=0;vt<Ee.rowspan;vt++){const wt=Se+pt,Dt=t0(L+vt,wt);h[Dt]=st,O=Math.max(O,wt+1)}le.push(st)}),D++,y.push(ma(ge.element,le,ge.section)),L++});const{columns:re,colgroups:be}=Uo(H).map(ge=>{const le=(Se=>{const et={};let st=0;return Oo(Se.cells,pt=>{const vt=pt.colspan;so(vt,wt=>{const Dt=st+wt;et[Dt]=((Mt,Xt,fo)=>({element:Mt,colspan:Xt,column:fo}))(pt.element,vt,Dt)}),st+=vt}),et})(ge);return{colgroups:[((Se,et)=>({element:Se,columns:et}))(ge.element,In(le))],columns:le}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((ge,le)=>({rows:ge,columns:le}))(D,O),access:h,all:y,columns:re,colgroups:be}},ti=g=>{const h=Q1(g);return lx(h)},Hg=lx,bc=(g,h,y)=>me.from(g.access[t0(h,y)]),Jd=(g,h,y)=>{const C=Q2(g,D=>y(h,D.element));return C.length>0?me.some(C[0]):me.none()},o0=Q2,ta=g=>Ce(g.all,h=>h.cells),Hl=g=>In(g.columns),xc=g=>Qs(g.columns).length>0,dn=(g,h)=>me.from(g.columns[h]),xr=(g,h,y)=>Ps(y(g.element,h),!0,g.isLocked),Mu=(g,h)=>g.section!==h?Jo(g.element,g.cells,h,g.isNew):g,fh=()=>({transformRow:Mu,transformCell:(g,h,y)=>{const C=y(g.element,h),D=ys(C)!=="td"?(O=>{const L=Mg(O,"td");q(O,L);const H=Qa(O);return ns(L,H),Ca(O),L})(C):C;return Ps(D,g.isNew,g.isLocked)}}),Ws=()=>({transformRow:Mu,transformCell:xr}),n0=()=>({transformRow:(g,h)=>Mu(g,h==="thead"?"tbody":h),transformCell:xr}),Wr=fh,Xi=Ws,Js=n0,vc=()=>({transformRow:Bt,transformCell:xr}),Cm=(g,h=gt)=>{const y=g.grid,C=so(y.columns,Bt),D=so(y.rows,Bt);return E(C,O=>Mr(()=>Ce(D,L=>bc(g,L,O).filter(H=>H.column===O).toArray()),L=>L.colspan===1&&h(L.element),()=>bc(g,0,O)))},Mr=(g,h,y)=>{const C=g();return _n(C,h).orThunk(()=>me.from(C[0]).orThunk(y)).map(D=>D.element)},Bu=g=>{const h=g.grid,y=so(h.rows,Bt),C=so(h.columns,Bt);return E(y,D=>Mr(()=>Ce(C,O=>bc(g,D,O).filter(L=>L.row===D).fold(ot([]),L=>[L])),O=>O.rowspan===1,()=>bc(g,D,0)))},yc=(g,h)=>({row:g,y:h}),Iu=(g,h)=>({col:g,x:h}),ds=g=>io(g).left+Jb(g),Mi=g=>io(g).left,km=(g,h)=>Iu(g,Mi(h)),ld=(g,h)=>Iu(g,ds(h)),Bi=g=>io(g).top,s0=(g,h)=>yc(g,Bi(h)),Vg=(g,h)=>yc(g,Bi(h)+nd(h)),vr=(g,h,y)=>{if(y.length===0)return[];const C=E(y.slice(1),(O,L)=>O.map(H=>g(L,H))),D=y[y.length-1].map(O=>h(y.length-1,O));return C.concat([D])},fl={delta:Bt,positions:g=>vr(s0,Vg,g),edge:Bi},Xf=G1({delta:Bt,edge:Mi,positions:g=>vr(km,ld,g)},{delta:g=>-g,edge:ds,positions:g=>vr(ld,km,g)}),Sm={delta:(g,h)=>Xf(h).delta(g,h),positions:(g,h)=>Xf(h).positions(g,h),edge:g=>Xf(g).edge(g)},J2=/(\d+(\.\d+)?)%/,Em=/(\d+(\.\d+)?)px|em/,eu=ga("col"),r0=ga("tr"),cx=(g,h,y)=>{const C=bm(g).getOrThunk(()=>(D=>{const O=D.dom.body;if(O==null)throw new Error("Body is not available yet");return Ae.fromDom(O)})(Ud(g)));return h(g)/y(C)*100},$g=(g,h)=>{ka(g,"width",h+"px")},Qf=(g,h)=>{ka(g,"width",h+"%")},pl=(g,h)=>{ka(g,"height",h+"px")},ey=g=>{const h=(y=>{return br(C=y,"height",C.dom.offsetHeight)+"px";var C})(g);return h?((y,C,D,O)=>{const L=parseFloat(y);return rn(y,"%")&&ys(C)!=="table"?((H,Q,re,be)=>{const se=Jr(H).map(ge=>{const le=re(ge);return Math.floor(Q/100*le)}).getOr(Q);return be(H,se),se})(C,L,D,O):L})(h,g,Wd,pl):Wd(g)},Am=(g,h)=>j1(g,h).orThunk(()=>Gi(g,h).map(y=>y+"px")),Tm=g=>Am(g,"width"),pi=g=>cx(g,Ll,ex),go=g=>{return eu(g)?Math.round(Ll(g)):br(h=g,"width",h.dom.offsetWidth);var h},Dm=g=>r0(g)?Wd(g):((h,y,C)=>C(h)/Kf(h,"rowspan"))(g,0,ey),ph=(g,h,y)=>{ka(g,"width",h+y)},ty=g=>cx(g,Ll,ex)+"%",hh=ot(J2),cd=ga("col"),bh=g=>Tm(g).getOrThunk(()=>go(g)+"px"),xh=g=>{return(h=g,Am(h,"height")).getOrThunk(()=>Dm(g)+"px");var h},Ts=(g,h,y,C,D,O)=>g.filter(C).fold(()=>O(((L,H)=>{if(H<0||H>=L.length-1)return me.none();const Q=L[H].fold(()=>{const be=(se=>{const ge=ln.call(se,0);return ge.reverse(),ge})(L.slice(0,H));return P(be,(se,ge)=>se.map(le=>({value:le,delta:ge+1})))},be=>me.some({value:be,delta:0})),re=L[H+1].fold(()=>{const be=L.slice(H+1);return P(be,(se,ge)=>se.map(le=>({value:le,delta:ge+1})))},be=>me.some({value:be,delta:1}));return Q.bind(be=>re.map(se=>{const ge=se.delta+be.delta;return Math.abs(se.value-be.value)/ge}))})(y,h)),L=>D(L)),Ii=(g,h,y,C)=>{const D=Cm(g),O=xc(g)?(Q=>E(Hl(Q),re=>me.from(re.element)))(g):D,L=[me.some(Sm.edge(h))].concat(E(Sm.positions(D,h),Q=>Q.map(re=>re.x))),H=pe(Fl);return E(O,(Q,re)=>Ts(Q,re,L,H,be=>{if((ge=>{const le=Xc().browser,Ee=le.isChromium()||le.isFirefox();return!cd(ge)||Ee})(be))return y(be);{const ge=(se=D[re])!=null?Bt(se):me.none();return Ts(ge,re,L,H,le=>C(me.some(Math.round(Ll(le)))),C)}var se},C))},Ha=g=>g.map(h=>h+"px").getOr(""),Pu=(g,h,y)=>Ii(g,h,go,C=>C.getOrThunk(y.minCellWidth)),oi=(g,h,y,C)=>{const D=Bu(g),O=E(g.all,H=>me.some(H.element)),L=[me.some(fl.edge(h))].concat(E(fl.positions(D,h),H=>H.map(Q=>Q.y)));return E(O,(H,Q)=>Ts(H,Q,L,gt,y,C))},vh=(g,h)=>()=>td(g)?h(g):parseFloat(j1(g,"width").getOr("0")),yr=g=>{const h=vh(g,C=>parseFloat(ty(C))),y=vh(g,Ll);return{width:h,pixelWidth:y,getWidths:(C,D)=>((O,L,H)=>Ii(O,L,pi,Q=>Q.fold(()=>H.minCellWidth(),re=>re/H.pixelWidth()*100)))(C,g,D),getCellDelta:C=>C/y()*100,singleColumnWidth:(C,D)=>[100-C],minCellWidth:()=>ws()/y()*100,setElementWidth:Qf,adjustTableWidth:C=>{const D=h();Qf(g,D+C/100*D)},isRelative:!0,label:"percent"}},Sa=g=>{const h=vh(g,Ll);return{width:h,pixelWidth:h,getWidths:(y,C)=>Pu(y,g,C),getCellDelta:Bt,singleColumnWidth:(y,C)=>[Math.max(ws(),y+C)-y],minCellWidth:ws,setElementWidth:$g,adjustTableWidth:y=>{const C=h()+y;$g(g,C)},isRelative:!1,label:"pixel"}},dd=g=>Tm(g).fold(()=>(h=>{const y=vh(h,Ll),C=ot(0);return{width:y,pixelWidth:y,getWidths:(D,O)=>Pu(D,h,O),getCellDelta:C,singleColumnWidth:ot([0]),minCellWidth:C,setElementWidth:ye,adjustTableWidth:ye,isRelative:!0,label:"none"}})(g),h=>((y,C)=>hh().exec(C)!==null?yr(y):Sa(y))(g,h)),dt=Sa,Pi=yr,Om=(g,h,y,C)=>{y===C?ir(g,h):Un(g,h,y)},Br=(g,h,y)=>{Uo(Ru(g,h)).fold(()=>ie(g,y),C=>q(C,y))},wc=(g,h)=>{const y=[],C=[],D=ge=>E(ge,le=>{le.isNew&&y.push(le.element);const Ee=le.element;return ed(Ee),Oo(le.cells,Se=>{Se.isNew&&C.push(Se.element),Om(Se.element,"colspan",Se.colspan,1),Om(Se.element,"rowspan",Se.rowspan,1),De(Ee,Se.element)}),Ee}),O=ge=>Ce(ge,le=>E(le.cells,Ee=>(Om(Ee.element,"span",Ee.colspan,1),Ee.element))),L=(ge,le)=>{const Ee=((et,st)=>{const pt=Gf(et,st).getOrThunk(()=>{const vt=Ae.fromTag(st,Ud(et).dom);return st==="thead"?Br(et,"caption,colgroup",vt):st==="colgroup"?Br(et,"caption",vt):De(et,vt),vt});return ed(pt),pt})(g,le),Se=(le==="colgroup"?O:D)(ge);ns(Ee,Se)},H=(ge,le)=>{ge.length>0?L(ge,le):(Ee=>{Gf(g,Ee).each(Ca)})(le)},Q=[],re=[],be=[],se=[];return Oo(h,ge=>{switch(ge.section){case"thead":Q.push(ge);break;case"tbody":re.push(ge);break;case"tfoot":be.push(ge);break;case"colgroup":se.push(ge)}}),H(se,"colgroup"),H(Q,"thead"),H(re,"tbody"),H(be,"tfoot"),{newRows:y,newCells:C}},hl=(g,h)=>{if(g.length===0)return 0;const y=g[0];return Ai(g,C=>!h(y.element,C.element)).getOr(g.length)},ni=(g,h)=>{const y=E(g,C=>E(C.cells,te));return E(g,(C,D)=>{const O=Ce(C.cells,(L,H)=>{if(y[D][H]===!1){const ge=((le,Ee,Se,et)=>{const st=((Dt,Mt)=>Dt[Mt])(le,Ee),pt=st.section==="colgroup",vt=hl(st.cells.slice(Se),et),wt=pt?1:hl(((Dt,Mt)=>E(Dt,Xt=>Ur(Xt,Mt)))(le.slice(Ee),Se),et);return{colspan:vt,rowspan:wt}})(g,D,H,h);return((le,Ee,Se,et)=>{for(let st=le;st<le+Se;st++)for(let pt=Ee;pt<Ee+et;pt++)y[st][pt]=!0})(D,H,ge.rowspan,ge.colspan),[(Q=L.element,re=ge.rowspan,be=ge.colspan,se=L.isNew,{element:Q,rowspan:re,colspan:be,isNew:se})]}return[];var Q,re,be,se});return((L,H,Q,re)=>({element:L,cells:H,section:Q,isNew:re}))(C.element,O,C.section,C.isNew)})},Li=(g,h,y)=>{const C=[];Oo(g.colgroups,D=>{const O=[];for(let L=0;L<g.grid.columns;L++){const H=dn(g,L).map(Q=>Ps(Q.element,y,!1)).getOrThunk(()=>Ps(h.colGap(),!0,!1));O.push(H)}C.push(Jo(D.element,O,"colgroup",y))});for(let D=0;D<g.grid.rows;D++){const O=[];for(let Q=0;Q<g.grid.columns;Q++){const re=bc(g,D,Q).map(be=>Ps(be.element,y,be.isLocked)).getOrThunk(()=>Ps(h.gap(),!0,!1));O.push(re)}const L=g.all[D],H=Jo(L.element,O,L.section,y);C.push(H)}return C},si=g=>ni(g,os),Rn=(g,h)=>P(g.all,y=>_n(y.cells,C=>os(h,C.element))),Fi=(g,h,y)=>{const C=E(h.selection,O=>zl(O).bind(L=>Rn(g,L)).filter(y)),D=Gc(C);return ar(D.length>0,D)},qs=(g,h,y,C,D,O,L,H,Q)=>{const re=ti(O),be=me.from(Q?.section).getOrThunk(vc);return h(re,L).map(se=>{const ge=((Se,et)=>Li(Se,et,!1))(re,H),le=g(ge,se,os,D(H),be),Ee=id(le.grid);return{info:se,grid:si(le.grid),cursor:le.cursor,lockedColumns:Ee}}).bind(se=>{const ge=wc(O,se.grid),le=me.from(Q?.sizing).getOrThunk(()=>dd(O)),Ee=me.from(Q?.resize).getOrThunk(_m);return y(O,se.grid,se.info,{sizing:le,resize:Ee,section:be}),C(O),ir(O,J1),se.lockedColumns.length>0&&Un(O,J1,se.lockedColumns.join(",")),me.some({cursor:se.cursor,newRows:ge.newRows,newCells:ge.newCells})})},zs=(g,h)=>zl(h.element).bind(y=>Rn(g,y).map(C=>({...C,generators:h.generators,clipboard:h.clipboard}))),ud=(g,h)=>Fi(g,h,gt).map(y=>({cells:y,generators:h.generators,clipboard:h.clipboard})),Ir=(g,h)=>Fi(g,h,gt),Rm=(g,h)=>Fi(g,h,y=>!y.isLocked),hi=(g,h)=>bt(h,y=>((C,D)=>Rn(C,D).exists(O=>!O.isLocked))(g,y)),Le=(g,h)=>((y,C)=>C.mergable)(0,h).filter(y=>hi(g,y.cells)),Vl=(g,h)=>((y,C)=>C.unmergable)(0,h).filter(y=>hi(g,y)),$l={...je([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},_s=(g,h,y)=>{const C=((D,O)=>xc(D)?((L,H)=>{const Q=Hl(L);return E(Q,(re,be)=>({element:re.element,width:H[be],colspan:re.colspan}))})(D,O):((L,H)=>{const Q=ta(L);return E(Q,re=>{const be=((se,ge,le)=>{let Ee=0;for(let Se=se;Se<ge;Se++)Ee+=le[Se]!==void 0?le[Se]:0;return Ee})(re.column,re.column+re.colspan,H);return{element:re.element,width:be,colspan:re.colspan}})})(D,O))(g,h);Oo(C,D=>{y.setElementWidth(D.element,D.width)})},zi=(g,h,y,C,D)=>{const O=ti(g),L=D.getCellDelta(h),H=D.getWidths(O,D),Q=y===O.grid.columns-1,re=C.clampTableDelta(H,y,L,D.minCellWidth(),Q),be=((ge,le,Ee,Se,et)=>{const st=ge.slice(0),pt=((wt,Dt)=>wt.length===0?$l.none():wt.length===1?$l.only(0):Dt===0?$l.left(0,1):Dt===wt.length-1?$l.right(Dt-1,Dt):Dt>0&&Dt<wt.length-1?$l.middle(Dt-1,Dt,Dt+1):$l.none())(ge,le),vt=ot(E(st,ot(0)));return pt.fold(vt,wt=>Se.singleColumnWidth(st[wt],Ee),(wt,Dt)=>et.calcLeftEdgeDeltas(st,wt,Dt,Ee,Se.minCellWidth(),Se.isRelative),(wt,Dt,Mt)=>et.calcMiddleDeltas(st,wt,Dt,Mt,Ee,Se.minCellWidth(),Se.isRelative),(wt,Dt)=>et.calcRightEdgeDeltas(st,wt,Dt,Ee,Se.minCellWidth(),Se.isRelative))})(H,y,re,D,C),se=E(be,(ge,le)=>ge+H[le]);_s(O,se,D),C.resizeTable(D.adjustTableWidth,re,Q)},Ea=(g,h,y)=>{const C=ti(g),D=((Q,re)=>oi(Q,re,Dm,be=>be.getOrThunk(Y1)))(C,g),O=E(D,(Q,re)=>y===re?Math.max(h+Q,Y1()):Q),L=((Q,re)=>E(Q.all,(be,se)=>({element:be.element,height:re[se]})))(C,O);Oo(L,Q=>{pl(Q.element,Q.height)}),Oo(ta(C),Q=>{(re=>{od(re,"height")})(Q.element)});const H=da(O,(Q,re)=>Q+re,0);pl(g,H)},as=(g,h)=>{Fl(g)||(C=>Tm(C).bind(D=>{return O=D,L=["fixed","relative","empty"],me.from(X2.exec(O)).bind(H=>{const Q=Number(H[1]),re=H[2];return((be,se)=>He(se,ge=>He(Y2[ge],le=>be===le)))(re,L)?me.some({value:Q,unit:re}):me.none()});var O,L}))(g).each(C=>{const D=C.value/2;ph(g,D,C.unit),ph(h,D,C.unit)})},Lu=(g,h,y)=>{const C=ei(g,h,1);y===1||C<=1?ir(g,h):Un(g,h,Math.min(y,C))},a0=(g,h)=>y=>{const C=y.column+y.colspan-1,D=y.column;return C>=g&&D<h},Ug=(g,h,y)=>{const C=g[y].element,D=Ae.fromTag("td");De(D,Ae.fromTag("br")),(h?De:ie)(C,D)},Qi=ga("col"),pa=ga("colgroup"),Ul=g=>ys(g)==="tr"||pa(g),Jf=g=>({element:g,colspan:ei(g,"colspan",1),rowspan:ei(g,"rowspan",1)}),Nm=g=>Gi(g,"scope").map(h=>h.substr(0,3)),Ji=(g,h=Jf)=>{const y=D=>{if(Ul(D))return pa((O={element:D}).element)?g.colgroup(O):g.row(O);{const L=D,H=(Q=>Qi(Q.element)?g.col(Q):g.cell(Q))(h(L));return C=me.some({item:L,replacement:H}),H}var O};let C=me.none();return{getOrInit:(D,O)=>C.fold(()=>y(D),L=>O(D,L.item)?L.replacement:y(D))}},el=g=>h=>{const y=[],C=D=>{const O=g==="td"?{scope:null}:{},L=h.replace(D,g,O);return y.push({item:D,sub:L}),L};return{replaceOrInit:(D,O)=>{if(Ul(D)||Qi(D))return D;{const L=D;return((H,Q)=>_n(y,re=>Q(re.item,H)))(L,O).fold(()=>C(L),H=>O(D,H.item)?H.sub:C(L))}}}},qr=g=>({unmerge:h=>{const y=Nm(h);return y.each(C=>Un(h,"scope",C)),()=>{const C=g.cell({element:h,colspan:1,rowspan:1});return od(C,"width"),od(h,"width"),y.each(D=>Un(C,"scope",D)),C}},merge:h=>(od(h[0],"width"),(()=>{const y=Gc(E(h,Nm));if(y.length===0)return me.none();{const C=y[0],D=["row","col"];return He(y,O=>O!==C&&Qo(D,O))?me.none():me.from(C)}})().fold(()=>ir(h[0],"scope"),y=>Un(h[0],"scope",y+"group")),ot(h[0]))}),tu=je([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),i0=(g,h,y)=>{const C=y.substring(0,y.length-g.length),D=parseFloat(C);return C===D.toString()?h(D):tu.invalid(y)},ri={...tu,from:g=>rn(g,"%")?i0("%",tu.percent,g):rn(g,"px")?i0("px",tu.pixels,g):tu.invalid(g)},Zl=(g,h,y)=>{const C=ri.from(y),D=bt(g,O=>O==="0px")?((O,L)=>{const H=O.fold(()=>ot(""),Q=>ot(Q/L+"px"),()=>ot(100/L+"%"));return so(L,H)})(C,g.length):((O,L,H)=>O.fold(()=>L,Q=>((re,be,se)=>{const ge=se/be;return E(re,le=>ri.from(le).fold(()=>le,Ee=>Ee*ge+"px",Ee=>Ee/100*se+"px"))})(L,H,Q),Q=>((re,be)=>E(re,se=>ri.from(se).fold(()=>se,ge=>ge/be*100+"%",ge=>ge+"%")))(L,H)))(C,g,h);return FC(D)},dx=(g,h)=>g.length===0?h:da(g,(y,C)=>ri.from(C).fold(ot(0),Bt,Bt)+y,0),_c=(g,h)=>ri.from(g).fold(ot(g),y=>y+h+"px",y=>y+h+"%"),FC=g=>{if(g.length===0)return g;const h=da(g,(C,D)=>{const O=ri.from(D).fold(()=>({value:D,remainder:0}),L=>(H=>{const Q=Math.floor(H);return{value:Q+"px",remainder:H-Q}})(L),L=>({value:L+"%",remainder:0}));return{output:[O.value].concat(C.output),remainder:C.remainder+O.remainder}},{output:[],remainder:0}),y=h.output;return y.slice(0,y.length-1).concat([_c(y[y.length-1],Math.round(h.remainder))])},md=ri.from,Mm=(g,h,y)=>{const C=ti(g),D=C.all,O=ta(C),L=Hl(C);h.each(H=>{const Q=md(H).fold(ot("px"),ot("px"),ot("%")),re=Ll(g),be=((ge,le)=>Ii(ge,le,bh,Ha))(C,g),se=Zl(be,re,H);xc(C)?((ge,le,Ee)=>{Oo(le,(Se,et)=>{const st=dx([ge[et]],ws());ka(Se.element,"width",st+Ee)})})(se,L,Q):((ge,le,Ee)=>{Oo(le,Se=>{const et=ge.slice(Se.column,Se.colspan+Se.column),st=dx(et,ws());ka(Se.element,"width",st+Ee)})})(se,O,Q),ka(g,"width",H)}),y.each(H=>{const Q=Wd(g),re=((be,se)=>oi(be,se,xh,Ha))(C,g);((be,se,ge)=>{Oo(ge,le=>{od(le.element,"height")}),Oo(se,(le,Ee)=>{ka(le.element,"height",be[Ee])})})(Zl(re,Q,H),D,O),ka(g,"height",H)})},Bm=g=>Tm(g).exists(h=>J2.test(h)),oy=g=>Tm(g).exists(h=>Em.test(h)),ep=g=>Tm(g).isNone();var zC=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ux=()=>({up:ot({selector:Ig,closest:lr,predicate:vm,all:jd}),down:ot({selector:rd,predicate:K1}),styles:ot({get:Ou,getRaw:j1,set:ka,remove:od}),attrs:ot({get:_a,set:Un,remove:ir,copyTo:(g,h)=>{const y=ul(g);fa(h,y)}}),insert:ot({before:B,after:q,afterAll:gn,append:De,appendAll:ns,prepend:ie,wrap:zt}),remove:ot({unwrap:Pl,remove:Ca}),create:ot({nu:Ae.fromTag,clone:g=>Ae.fromDom(g.dom.cloneNode(!1)),text:Ae.fromText}),query:ot({comparePosition:(g,h)=>g.dom.compareDocumentPosition(h.dom),prevSibling:Ng,nextSibling:Jc}),property:ot({children:Qa,name:ys,parent:dl,document:g=>Zd(g).dom,isText:Oi,isComment:Qc,isElement:Di,isSpecial:g=>{const h=ys(g);return Qo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:g=>Di(g)?Gi(g,"lang"):me.none(),getText:Yr,setText:js,isBoundary:g=>!!Di(g)&&(ys(g)==="body"||Qo(zC,ys(g))),isEmptyTag:g=>!!Di(g)&&Qo(["br","img","hr","input"],ys(g)),isNonEditable:g=>Di(g)&&_a(g,"contenteditable")==="false"}),eq:os,is:Su});const Gs=(g,h)=>({item:g,mode:h}),l0=(g,h,y,C=jl)=>g.property().parent(h).map(D=>Gs(D,C)),jl=(g,h,y,C=Fu)=>y.sibling(g,h).map(D=>Gs(D,C)),Fu=(g,h,y,C=Fu)=>{const D=g.property().children(h);return y.first(D).map(O=>Gs(O,C))},mx=[{current:l0,next:jl,fallback:me.none()},{current:jl,next:Fu,fallback:me.some(l0)},{current:Fu,next:Fu,fallback:me.some(jl)}],Im=(g,h,y,C,D=mx)=>_n(D,O=>O.current===y).bind(O=>O.current(g,h,C,O.next).orThunk(()=>O.fallback.bind(L=>Im(g,h,L,C)))),tl=(g,h,y,C,D,O)=>Im(g,h,C,D).bind(L=>O(L.item)?me.none():y(L.item)?me.some(L.item):tl(g,L.item,y,L.mode,D,O)),bi=(g,h)=>({element:g,offset:h}),zu=(g,h,y)=>g.property().isText(h)&&g.property().getText(h).trim().length===0||g.property().isComment(h)?y(h).bind(C=>zu(g,C,y).orThunk(()=>me.some(C))):me.none(),ny=(g,h)=>g.property().isText(h)?g.property().getText(h).length:g.property().children(h).length,yh=(g,h)=>{const y=zu(g,h,g.query().prevSibling).getOr(h);if(g.property().isText(y))return bi(y,ny(g,y));const C=g.property().children(y);return C.length>0?yh(g,C[C.length-1]):bi(y,ny(g,y))},gx=yh,c0=ux(),sy=g=>h=>g.property().children(h).length===0,ry=(g,h,y,C)=>tl(g,h,y,jl,{sibling:(D,O)=>D.query().prevSibling(O),first:D=>D.length>0?me.some(D[D.length-1]):me.none()},C),d0=(g,h,y,C)=>tl(g,h,y,jl,{sibling:(D,O)=>D.query().nextSibling(O),first:D=>D.length>0?me.some(D[0]):me.none()},C),Wl=ux(),Cc=(g,h)=>((y,C,D)=>ry(y,C,sy(y),D))(Wl,g,h),ou=(g,h)=>((y,C,D)=>d0(y,C,sy(y),D))(Wl,g,h),Zg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ay=(g,h,y,C)=>{const D=h(g,y);return da(C,(O,L)=>{const H=h(g,L);return jg(g,O,H)},D)},jg=(g,h,y)=>h.bind(C=>y.filter(ue(g.eq,C))),u0=ux(),wh=(g,h)=>((y,C,D)=>D.length>0?((O,L,H,Q)=>Q(O,L,H[0],H.slice(1)))(y,C,D,ay):me.none())(u0,(y,C)=>g(C),h),m0=ux(),g0=g=>((h,y)=>{const C=h.property().name(y);return Qo(Zg,C)})(m0,g),fx=g=>((h,y)=>{const C=h.property().name(y);return Qo(["ol","ul"],C)})(m0,g),px=g=>{const h=ga("br"),y=D=>Rr(D).bind(O=>{const L=Jc(O).map(H=>!!g0(H)||!!((Q,re)=>Qo(["br","img","hr","input"],Q.property().name(re)))(m0,H)&&ys(H)!=="img").getOr(!1);return dl(O).map(H=>{return L===!0||ys(Q=H)==="li"||vm(Q,fx).isSome()||h(O)||g0(H)&&!os(D,H)?[]:[Ae.fromTag("br")];var Q})}).getOr([]),C=(()=>{const D=Ce(g,O=>{const L=Qa(O);return(H=>bt(H,Q=>h(Q)||Oi(Q)&&Yr(Q).trim().length===0))(L)?[]:L.concat(y(O))});return D.length===0?[Ae.fromTag("br")]:D})();ed(g[0]),ns(g[0],C)},ql=g=>{ir(g,"width"),ir(g,"height")},kc=g=>{const h=ty(g);Mm(g,me.some(h),me.none()),ql(g)},er=g=>{const h=(y=>Ll(y)+"px")(g);Mm(g,me.some(h),me.none()),ql(g)},iy=g=>{od(g,"width");const h=Yf(g),y=h.length>0?h:Qr(g);Oo(y,C=>{od(C,"width"),ql(C)}),ql(g)},Pm={scope:["row","col"]},hx=g=>()=>{const h=Ae.fromTag("td",g.dom);return De(h,Ae.fromTag("br",g.dom)),h},f0=g=>()=>Ae.fromTag("col",g.dom),_h=g=>()=>Ae.fromTag("colgroup",g.dom),ly=g=>()=>Ae.fromTag("tr",g.dom),cy=(g,h,y)=>{const C=((D,O)=>{const L=Mg(D,O),H=Qa(Kr(D));return ns(L,H),L})(g,h);return Fo(y,(D,O)=>{D===null?ir(C,O):Un(C,O,D)}),C},Hu=g=>g,Sc=(g,h,y)=>{const C=(D,O)=>{((L,H)=>{const Q=L.dom,re=H.dom;xm(Q)&&xm(re)&&(re.style.cssText=Q.style.cssText)})(D.element,O),od(O,"height"),D.colspan!==1&&od(O,"width")};return{col:D=>{const O=Ae.fromTag(ys(D.element),h.dom);return C(D,O),g(D.element,O),O},colgroup:_h(h),row:ly(h),cell:D=>{const O=Ae.fromTag(ys(D.element),h.dom),L=y.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),H=L.length>0?((Q,re,be)=>Pg(Q).map(se=>{const ge=be.join(","),le=cr(se,ge,Ee=>os(Ee,Q));return da(le,(Ee,Se)=>{const et=qf(Se);return De(Ee,et),et},re)}).getOr(re))(D.element,O,L):O;return De(H,Ae.fromTag("br")),C(D,O),((Q,re)=>{Fo(Pm,(be,se)=>Gi(Q,se).filter(ge=>Qo(be,ge)).each(ge=>Un(re,se,ge)))})(D.element,O),g(D.element,O),O},replace:cy,colGap:f0(h),gap:hx(h)}},jt=g=>({col:f0(g),colgroup:_h(g),row:ly(g),cell:hx(g),replace:Hu,colGap:f0(g),gap:hx(g)}),Io=g=>ti(g).grid,Hi=(g,h,y,C)=>{const D=Ss(g).rows;let O=!0;for(let L=0;L<D.length;L++)for(let H=0;H<wa(D[0]);H++){const Q=D[L],re=Ur(Q,H),be=y(re.element,h);be&&!O?fc(Q,H,Ps(C(),!0,re.isLocked)):be&&(O=!1)}return g},Ec=(g,h)=>({rowDelta:0,colDelta:wa(g[0])-wa(h[0])}),bl=(g,h)=>({rowDelta:g.length-h.length,colDelta:0}),ss=(g,h,y,C)=>{const D=h.section==="colgroup"?y.col:y.cell;return so(g,O=>Ps(D(),!0,C(O)))},dy=(g,h,y,C)=>{const D=g[g.length-1];return g.concat(so(h,()=>{const O=D.section==="colgroup"?y.colgroup:y.row,L=An(D,O,Bt),H=ss(L.cells.length,L,y,Q=>Mo(C,Q.toString()));return Go(L,H)}))},Lm=(g,h,y,C)=>E(g,D=>{const O=ss(h,D,y,te);return $r(D,C,O)}),Wg=(g,h,y)=>{const C=h.colDelta<0?Lm:Bt,D=h.rowDelta<0?dy:Bt,O=id(g),L=wa(g[0]),H=He(O,be=>be===L-1),Q=C(g,Math.abs(h.colDelta),y,H?L-1:L),re=id(Q);return D(Q,Math.abs(h.rowDelta),y,cn(re,gt))},Ac=(g,h,y,C)=>{const D=ue(C,Ur(g[h],y).element),O=g[h];return g.length>1&&wa(O)>1&&(y>0&&D(Dr(O,y-1))||y<O.cells.length-1&&D(Dr(O,y+1))||h>0&&D(Dr(g[h-1],y))||h<g.length-1&&D(Dr(g[h+1],y)))},p0=(g,h,y)=>Hn(y,C=>C>=g.column&&C<=wa(h[0])+g.column),Ch=(g,h,y,C,D)=>{((re,be,se,ge)=>{be>0&&be<re[0].cells.length&&Oo(re,le=>{const Ee=le.cells[be-1];let Se=0;const et=ge();for(;le.cells.length>be+Se&&se(Ee.element,le.cells[be+Se].element);)fc(le,be+Se,Ps(et,!0,le.cells[be+Se].isLocked)),Se++})})(h,g,D,C.cell);const O=bl(y,h),L=Wg(y,O,C),H=bl(h,L),Q=Wg(h,H,C);return E(Q,(re,be)=>$r(re,g,L[be].cells))},mt=(g,h,y,C,D)=>{((pt,vt,wt,Dt)=>{const Mt=Ss(pt).rows;if(vt>0&&vt<Mt.length){const Xt=((fo,Vo)=>ut(fo,(No,Wo)=>He(No,Bo=>Vo(Bo.element,Wo.element))?No:No.concat([Wo]),[]))(Mt[vt-1].cells,wt);Oo(Xt,fo=>{let Vo=me.none();for(let No=vt;No<Mt.length;No++)for(let Wo=0;Wo<wa(Mt[0]);Wo++){const Bo=Mt[No],Qn=Ur(Bo,Wo);wt(Qn.element,fo.element)&&(Vo.isNone()&&(Vo=me.some(Dt())),Vo.each(_r=>{fc(Bo,Wo,Ps(_r,!0,Qn.isLocked))}))}})}})(h,g,D,C.cell);const O=id(h),L=Ec(h,y),H={...L,colDelta:L.colDelta-O.length},Q=Wg(h,H,C),{cols:re,rows:be}=Ss(Q),se=id(Q),ge=Ec(y,h),le={...ge,colDelta:ge.colDelta+se.length},Ee=(et=C,st=se,E(y,pt=>ut(st,(vt,wt)=>{const Dt=ss(1,pt,et,gt)[0];return Eg(vt,wt,Dt)},pt))),Se=Wg(Ee,le,C);var et,st;return[...re,...be.slice(0,g),...Se,...be.slice(g,be.length)]},bx=(g,h,y,C,D)=>{const{rows:O,cols:L}=Ss(g),H=O.slice(0,h),Q=O.slice(h);return[...L,...H,((re,be,se,ge)=>An(re,le=>ge(le,se),be))(O[y],(re,be)=>h>0&&h<O.length&&C(Dr(O[h-1],be),Dr(O[h],be))?Ur(O[h],be):Ps(D(re.element,C),!0,re.isLocked),C,D),...Q]},kh=(g,h,y,C,D)=>E(g,O=>{const L=h>0&&h<wa(O)&&C(Dr(O,h-1),Dr(O,h)),H=((Q,re,be,se,ge,le,Ee)=>{if(be!=="colgroup"&&se)return Ur(Q,re);{const Se=Ur(Q,ge);return Ps(Ee(Se.element,le),!0,!1)}})(O,h,O.section,L,y,C,D);return Eg(O,h,H)}),gd=(g,h,y,C)=>((D,O,L,H)=>Dr(D[O],L)!==void 0&&O>0&&H(Dr(D[O-1],L),Dr(D[O],L)))(g,h,y,C)||((D,O,L)=>O>0&&L(Dr(D,O-1),Dr(D,O)))(g[h],y,C),qg=(g,h,y,C)=>{const D=O=>(L=>L==="row"?(H=>Kf(H,"rowspan")>1)(h):Fl(h))(O)?`${O}group`:O;return g?ea(h)?D(y):null:C&&ea(h)?D(y==="row"?"col":"row"):null},Sh=(g,h,y)=>Ps(y(g.element,h),!0,g.isLocked),Ns=(g,h,y,C,D,O,L)=>E(g,(H,Q)=>(re=>{const be=re.cells,se=E(be,(ge,le)=>{if((Ee=>He(h,Se=>y(Ee.element,Se.element)))(ge)){const Ee=L(ge,Q,le)?D(ge,y,C):ge;return O(Ee,Q,le).each(Se=>{var et,st;et=Ee.element,st={scope:me.from(Se)},Fo(st,(pt,vt)=>{pt.fold(()=>{ir(et,vt)},wt=>{Or(et.dom,vt,wt)})})}),Ee}return ge});return Jo(re.element,se,re.section,re.isNew)})(H)),h0=(g,h,y)=>Ce(g,(C,D)=>gd(g,D,h,y)?[]:[Ur(C,h)]),Eh=(g,h,y,C,D)=>{const O=Ss(g).rows,L=Ce(h,be=>h0(O,be,C)),H=E(O,be=>dh(be.cells)),Q=((be,se)=>bt(se,Bt)&&dh(be)?gt:(ge,le,Ee)=>!(ys(ge.element)==="th"&&se[le]))(L,H);return Ns(g,L,C,D,Sh,((be,se)=>(ge,le)=>me.some(qg(be,ge.element,"row",se[le])))(y,H),Q)},xi=(g,h,y,C)=>{const D=Ss(g).rows,O=E(h,L=>Ur(D[L.row],L.column));return Ns(g,O,y,C,Sh,me.none,gt)},Kn=g=>ut(g,(h,y)=>He(h,C=>C.column===y.column)?h:h.concat([y]),[]).sort((h,y)=>h.column-y.column),Gg=g=>ym(g,!0),Kg=g=>{Qr(g).length===0&&Ca(g)},b0=(g,h)=>({grid:g,cursor:h}),Aa=(g,h,y)=>{const C=((D,O,L)=>{var H,Q;const re=Ss(D).rows;return me.from((Q=(H=re[O])===null||H===void 0?void 0:H.cells[L])===null||Q===void 0?void 0:Q.element).filter(Gg).orThunk(()=>(be=>P(be,se=>P(se.cells,ge=>{const le=ge.element;return ar(Gg(le),le)})))(re))})(g,h,y);return b0(g,C)},vi=g=>ut(g,(h,y)=>He(h,C=>C.row===y.row)?h:h.concat([y]),[]).sort((h,y)=>h.row-y.row),HC=(g,h,y,C)=>{const D=h[0].row,O=vi(h),L=da(O,(H,Q)=>({grid:bx(H.grid,D,Q.row+H.delta,y,C.getOrInit),delta:H.delta+1}),{grid:g,delta:0}).grid;return Aa(L,D,h[0].column)},xx=(g,h,y,C)=>{const D=vi(h),O=D[D.length-1],L=O.row+O.rowspan,H=da(D,(Q,re)=>bx(Q,L,re.row,y,C.getOrInit),g);return Aa(H,L,h[0].column)},VC=(g,h,y,C)=>{const D=h.details,O=Kn(D),L=O[0].column,H=da(O,(Q,re)=>({grid:kh(Q.grid,L,re.column+Q.delta,y,C.getOrInit),delta:Q.delta+1}),{grid:g,delta:0}).grid;return Aa(H,D[0].row,L)},uy=(g,h,y,C)=>{const D=h.details,O=D[D.length-1],L=O.column+O.colspan,H=Kn(D),Q=da(H,(re,be)=>kh(re,L,be.column,y,C.getOrInit),g);return Aa(Q,D[0].row,L)},my=(g,h,y,C)=>{const D=Kn(h),O=E(D,H=>H.column),L=Eh(g,O,!0,y,C.replaceOrInit);return Aa(L,h[0].row,h[0].column)},gy=(g,h,y,C)=>{const D=xi(g,h,y,C.replaceOrInit);return Aa(D,h[0].row,h[0].column)},x0=(g,h,y,C)=>{const D=Kn(h),O=E(D,H=>H.column),L=Eh(g,O,!1,y,C.replaceOrInit);return Aa(L,h[0].row,h[0].column)},yi=(g,h,y,C)=>{const D=xi(g,h,y,C.replaceOrInit);return Aa(D,h[0].row,h[0].column)},Gl=(g,h)=>(y,C,D,O,L)=>{const H=vi(C),Q=E(H,be=>be.row),re=((be,se,ge,le,Ee,Se,et)=>{const{cols:st,rows:pt}=Ss(be),vt=pt[se[0]],wt=Ce(se,No=>((Wo,Bo,Qn)=>{const _r=Wo[Bo];return Ce(_r.cells,(Na,sa)=>gd(Wo,Bo,sa,Qn)?[]:[Na])})(pt,No,Ee)),Dt=E(vt.cells,(No,Wo)=>dh(h0(pt,Wo,Ee))),Mt=[...pt];Oo(se,No=>{Mt[No]=et.transformRow(pt[No],ge)});const Xt=[...st,...Mt],fo=((No,Wo)=>bt(Wo,Bt)&&dh(No.cells)?gt:(Bo,Qn,_r)=>!(ys(Bo.element)==="th"&&Wo[_r]))(vt,Dt),Vo=((No,Wo)=>(Bo,Qn,_r)=>me.some(qg(No,Bo.element,"col",Wo[_r])))(le,Dt);return Ns(Xt,wt,Ee,Se,et.transformCell,Vo,fo)})(y,Q,g,h,D,O.replaceOrInit,L);return Aa(re,C[0].row,C[0].column)},Tc=Gl("thead",!0),v0=Gl("tbody",!1),Ah=Gl("tfoot",!1),Vu=(g,h,y,C)=>{const D=Kn(h.details),O=((H,Q)=>Ce(H,re=>{const be=re.cells,se=da(Q,(ge,le)=>le>=0&&le<ge.length?ge.slice(0,le).concat(ge.slice(le+1)):ge,be);return se.length>0?[Jo(re.element,se,re.section,re.isNew)]:[]}))(g,E(D,H=>H.column)),L=O.length>0?O[0].cells.length-1:0;return Aa(O,D[0].row,Math.min(D[0].column,L))},Ta=(g,h,y,C)=>{const D=vi(h),O=((H,Q,re)=>{const{rows:be,cols:se}=Ss(H);return[...se,...be.slice(0,Q),...be.slice(re+1)]})(g,D[0].row,D[D.length-1].row),L=Math.max(Ss(O).rows.length-1,0);return Aa(O,Math.min(h[0].row,L),h[0].column)},y0=(g,h,y,C)=>{const D=h.cells;px(D);const O=((L,H,Q,re)=>{const be=Ss(L).rows;if(be.length===0)return L;for(let se=H.startRow;se<=H.finishRow;se++)for(let ge=H.startCol;ge<=H.finishCol;ge++){const le=be[se],Ee=Ur(le,ge).isLocked;fc(le,ge,Ps(re(),!1,Ee))}return L})(g,h.bounds,0,C.merge(D));return b0(O,me.from(D[0]))},fy=(g,h,y,C)=>{const D=da(h,(O,L)=>Hi(O,L,y,C.unmerge(L)),g);return b0(D,me.from(h[0]))},$u=(g,h,y,C)=>{const D=((H,Q)=>{const re=ti(H);return Li(re,Q,!0)})(h.clipboard,h.generators);var O,L;return((H,Q,re,be,se)=>{const ge=id(Q),le=((st,pt,vt)=>{const wt=wa(pt[0]),Dt=Ss(pt).cols.length+st.row,Mt=so(wt-st.column,Xt=>Xt+st.column);return{row:Dt,column:_n(Mt,Xt=>bt(vt,fo=>fo!==Xt)).getOr(wt-1)}})(H,Q,ge),Ee=Ss(re).rows,Se=p0(le,Ee,ge);return((st,pt,vt)=>{if(st.row>=pt.length||st.column>wa(pt[0]))return Wc.error("invalid start address out of table bounds, row: "+st.row+", column: "+st.column);const wt=pt.slice(st.row),Dt=wt[0].cells.slice(st.column),Mt=wa(vt[0]),Xt=vt.length;return Wc.value({rowDelta:wt.length-Xt,colDelta:Dt.length-Mt})})(le,Q,Ee).map(st=>{const pt={...st,colDelta:st.colDelta-Se.length},vt=Wg(Q,pt,be),wt=id(vt),Dt=p0(le,Ee,wt);return((Mt,Xt,fo,Vo,No,Wo)=>{const Bo=Mt.row,Qn=Mt.column,_r=Bo+fo.length,Na=Qn+wa(fo[0])+Wo.length,sa=cn(Wo,gt);for(let yl=Bo;yl<_r;yl++){let Gt=0;for(let $a=Qn;$a<Na;$a++){if(sa[$a]){Gt++;continue}Ac(Xt,yl,$a,No)&&Hi(Xt,Dr(Xt[yl],$a),No,Vo.cell);const Mc=$a-Qn-Gt,qh=Ur(fo[yl-Bo],Mc),Cd=qh.element,mf=Vo.replace(Cd);fc(Xt[yl],$a,Ps(mf,!0,qh.isLocked))}}return Xt})(le,vt,Ee,be,se,Dt)})})((O=h.row,L=h.column,{row:O,column:L}),g,D,h.generators,y).fold(()=>b0(g,me.some(h.element)),H=>Aa(H,h.row,h.column))},Yg=(g,h,y)=>{const C=((O,L)=>gh(O,()=>L))(g,y.section),D=Hg(C);return Li(D,h,!0)},vx=(g,h,y,C)=>{const D=Ss(g).rows,O=h.cells[0].column,L=D[h.cells[0].row],H=Yg(h.clipboard,h.generators,L),Q=Ch(O,g,H,h.generators,y);return Aa(Q,h.cells[0].row,h.cells[0].column)},yx=(g,h,y,C)=>{const D=Ss(g).rows,O=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,L=D[h.cells[0].row],H=Yg(h.clipboard,h.generators,L),Q=Ch(O,g,H,h.generators,y);return Aa(Q,h.cells[0].row,O)},wx=(g,h,y,C)=>{const D=Ss(g).rows,O=h.cells[0].row,L=D[O],H=Yg(h.clipboard,h.generators,L),Q=mt(O,g,H,h.generators,y);return Aa(Q,h.cells[0].row,h.cells[0].column)},Yn=(g,h,y,C)=>{const D=Ss(g).rows,O=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,L=D[h.cells[0].row],H=Yg(h.clipboard,h.generators,L),Q=mt(O,g,H,h.generators,y);return Aa(Q,O,h.cells[0].column)},Fm=(g,h,y,C)=>((D,O,L,H)=>{const Q=Hg(O),re=H.getWidths(Q,H);_s(Q,re,H)})(0,h,0,C.sizing),tp=(g,h,y,C)=>((D,O,L,H,Q)=>{const re=Hg(O),be=H.getWidths(re,H),se=H.pixelWidth(),{newSizes:ge,delta:le}=Q.calcRedestributedWidths(be,se,L.pixelDelta,H.isRelative);_s(re,ge,H),H.adjustTableWidth(le)})(0,h,y,C.sizing,C.resize),w0=(g,h)=>He(h,y=>y.column===0&&y.isLocked),_0=(g,h)=>He(h,y=>y.column+y.colspan>=g.grid.columns&&y.isLocked),Th=(g,h)=>{const y=Cm(g),C=Kn(h);return ut(C,(D,O)=>D+y[O.column].map(Jb).getOr(0),0)},_x=g=>(h,y)=>Ir(h,y).filter(C=>!(g?w0:_0)(h,C)).map(C=>({details:C,pixelDelta:Th(h,C)})),Cx=(g,h)=>Rm(g,h).map(y=>({details:y,pixelDelta:-Th(g,y)})),py=g=>(h,y)=>ud(h,y).filter(C=>!(g?w0:_0)(h,C.cells)),Dh=el("th"),ol=el("td"),C0=(g,h,y,C)=>qs(HC,Ir,ye,ye,Ji,g,h,y,C),oa=(g,h,y,C)=>qs(xx,Ir,ye,ye,Ji,g,h,y,C),nu=(g,h,y,C)=>qs(VC,_x(!0),tp,ye,Ji,g,h,y,C),op=(g,h,y,C)=>qs(uy,_x(!1),tp,ye,Ji,g,h,y,C),Uu=(g,h,y,C)=>qs(Vu,Cx,tp,Kg,Ji,g,h,y,C),kx=(g,h,y,C)=>qs(Ta,Ir,ye,Kg,Ji,g,h,y,C),Oh=(g,h,y,C)=>qs(my,Rm,ye,ye,Dh,g,h,y,C),hy=(g,h,y,C)=>qs(x0,Rm,ye,ye,ol,g,h,y,C),Sx=(g,h,y,C)=>qs(Tc,Ir,ye,ye,Dh,g,h,y,C),by=(g,h,y,C)=>qs(v0,Ir,ye,ye,ol,g,h,y,C),Ex=(g,h,y,C)=>qs(Ah,Ir,ye,ye,ol,g,h,y,C),Da=(g,h,y,C)=>qs(gy,Rm,ye,ye,Dh,g,h,y,C),zm=(g,h,y,C)=>qs(yi,Rm,ye,ye,ol,g,h,y,C),Ax=(g,h,y,C)=>qs(y0,Le,Fm,ye,qr,g,h,y,C),$C=(g,h,y,C)=>qs(fy,Vl,Fm,ye,qr,g,h,y,C),Tx=(g,h,y,C)=>qs($u,zs,Fm,ye,Ji,g,h,y,C),Dx=(g,h,y,C)=>qs(vx,py(!0),ye,ye,Ji,g,h,y,C),k0=(g,h,y,C)=>qs(yx,py(!1),ye,ye,Ji,g,h,y,C),xy=(g,h,y,C)=>qs(wx,ud,ye,ye,Ji,g,h,y,C),wr=(g,h,y,C)=>qs(Yn,ud,ye,ye,Ji,g,h,y,C),Pr=(g,h)=>{const y=ti(g);return Ir(y,h).bind(C=>{const D=C[C.length-1],O=C[0].column,L=D.column+D.colspan,H=Ve(E(y.all,Q=>Hn(Q.cells,re=>re.column>=O&&re.column<L)));return mh(H)}).getOr("")},Oa=(g,h)=>{const y=ti(g);return Ir(y,h).bind(mh).getOr("")},Ra=(g,h)=>{const y=ti(g);return Ir(y,h).bind(C=>{const D=C[C.length-1],O=C[0].row,L=D.row+D.rowspan;return(H=>{const Q=E(H,se=>ix(se).type),re=Qo(Q,"header"),be=Qo(Q,"footer");if(re||be){const se=Qo(Q,"body");return!re||se||be?re||se||!be?me.none():me.some("footer"):me.some("header")}return me.some("body")})(y.all.slice(O,L))}).getOr("")},Lr=(g,h)=>{const y=h.column,C=h.column+h.colspan-1,D=h.row,O=h.row+h.rowspan-1;return y<=g.finishCol&&C>=g.startCol&&D<=g.finishRow&&O>=g.startRow},Fr=(g,h)=>h.column>=g.startCol&&h.column+h.colspan-1<=g.finishCol&&h.row>=g.startRow&&h.row+h.rowspan-1<=g.finishRow,Xg=(g,h,y)=>{const C=Jd(g,h,os),D=Jd(g,y,os);return C.bind(O=>D.map(L=>{return H=O,Q=L,{startRow:Math.min(H.row,Q.row),startCol:Math.min(H.column,Q.column),finishRow:Math.max(H.row+H.rowspan-1,Q.row+Q.rowspan-1),finishCol:Math.max(H.column+H.colspan-1,Q.column+Q.colspan-1)};var H,Q}))},Qg=(g,h,y)=>Xg(g,h,y).map(C=>{const D=o0(g,ue(Lr,C));return E(D,O=>O.element)}),Ox=(g,h)=>Jd(g,h,(y,C)=>Zs(C,y)).map(y=>y.element),vy=(g,h,y)=>{const C=fd(g);return Qg(C,h,y)},S0=(g,h,y,C,D)=>{const O=fd(g),L=os(g,y)?me.some(h):Ox(O,h),H=os(g,D)?me.some(C):Ox(O,C);return L.bind(Q=>H.bind(re=>Qg(O,Q,re)))},fd=ti,Rx={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},E0=(g,h,y,C)=>so(g,D=>((O,L,H,Q)=>{const re=Ae.fromTag("tr");for(let be=0;be<O;be++){const se=Ae.fromTag(Q<L||be<H?"th":"td");be<H&&Un(se,"scope","row"),Q<L&&Un(se,"scope","col"),De(se,Ae.fromTag("br")),De(re,se)}return re})(h,y,C,D)),nl=g=>{let h=[];return{bind:y=>{if(y===void 0)throw new Error("Event bind error: undefined handler");h.push(y)},unbind:y=>{h=Hn(h,C=>C!==y)},trigger:(...y)=>{const C={};Oo(g,(D,O)=>{C[D]=y[O]}),Oo(h,D=>{D(C)})}}},su=g=>({registry:ui(g,h=>({bind:h.bind,unbind:h.unbind})),trigger:ui(g,h=>h.trigger)}),Zu=Wn(["compare","extract","mutate","sink"]),Nx=Wn(["element","start","stop","destroy"]),Mx=Wn(["forceDrop","drop","move","delayDrop"]),Rh=()=>{const g=(()=>{const C=su({move:nl(["info"])});return{onEvent:ye,reset:ye,events:C.registry}})(),h=(()=>{let C=me.none();const D=su({move:nl(["info"])});return{onEvent:(O,L)=>{L.extract(O).each(H=>{((re,be)=>{const se=C.map(ge=>re.compare(ge,be));return C=me.some(be),se})(L,H).each(re=>{D.trigger.move(re)})})},reset:()=>{C=me.none()},events:D.registry}})();let y=g;return{on:()=>{y.reset(),y=h},off:()=>{y.reset(),y=g},isOn:()=>y===h,onEvent:(C,D)=>{y.onEvent(C,D)},events:h.events}},Bx=Rs("ephox-dragster").resolve;var yy=Zu({compare:(g,h)=>fi(h.left-g.left,h.top-g.top),extract:g=>me.some(fi(g.x,g.y)),sink:(g,h)=>{const y=(H=>{const Q={layerClass:Bx("blocker"),...H},re=Ae.fromTag("div");return Un(re,"role","presentation"),lh(re,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),sd(re,Bx("blocker")),sd(re,Q.layerClass),{element:ot(re),destroy:()=>{Ca(re)}}})(h),C=Gn(y.element(),"mousedown",g.forceDrop),D=Gn(y.element(),"mouseup",g.drop),O=Gn(y.element(),"mousemove",g.move),L=Gn(y.element(),"mouseout",g.delayDrop);return Nx({element:y.element,start:H=>{De(H,y.element())},stop:()=>{Ca(y.element())},destroy:()=>{y.destroy(),D.unbind(),O.unbind(),L.unbind(),C.unbind()}})},mutate:(g,h)=>{g.mutate(h.left,h.top)}});const pd=Rs("ephox-snooker").resolve,zr=pd("resizer-bar"),np=pd("resizer-rows"),sp=pd("resizer-cols"),Jg=g=>{const h=rd(g.parent(),"."+zr);Oo(h,Ca)},Kl=(g,h,y)=>{const C=g.origin();Oo(h,D=>{D.each(O=>{const L=y(C,O);sd(L,zr),De(g.parent(),L)})})},rp=(g,h,y,C,D)=>{const O=io(y),L=h.isResizable,H=C.length>0?fl.positions(C,y):[],Q=H.length>0?((se,ge)=>Ce(se.all,(le,Ee)=>ge(le.element)?[Ee]:[]))(g,L):[];((se,ge,le,Ee)=>{Kl(se,ge,(Se,et)=>{const st=((pt,vt,wt,Dt)=>{const Mt=Ae.fromTag("div");return lh(Mt,{position:"absolute",left:vt+"px",top:wt-3.5+"px",height:"7px",width:Dt+"px"}),fa(Mt,{"data-mce-bogus":"all","data-row":pt,role:"presentation"}),Mt})(et.row,le.left-Se.left,et.y-Se.top,Ee);return sd(st,np),st})})(h,Hn(H,(se,ge)=>He(Q,le=>ge===le)),O,Jb(y));const re=D.length>0?Sm.positions(D,y):[],be=re.length>0?((se,ge)=>{const le=[];return so(se.grid.columns,Ee=>{dn(se,Ee).map(Se=>Se.element).forall(ge)&&le.push(Ee)}),Hn(le,Ee=>{const Se=o0(se,et=>et.column===Ee);return bt(Se,et=>ge(et.element))})})(g,L):[];((se,ge,le,Ee)=>{Kl(se,ge,(Se,et)=>{const st=((pt,vt,wt,Dt,Mt)=>{const Xt=Ae.fromTag("div");return lh(Xt,{position:"absolute",left:vt-3.5+"px",top:wt+"px",height:Mt+"px",width:"7px"}),fa(Xt,{"data-mce-bogus":"all","data-column":pt,role:"presentation"}),Xt})(et.col,et.x-Se.left,le.top-Se.top,0,Ee);return sd(st,sp),st})})(h,Hn(re,(se,ge)=>He(be,le=>ge===le)),O,nd(y))},Nh=(g,h)=>{if(Jg(g),g.isResizable(h)){const y=ti(h),C=Bu(y),D=Cm(y);rp(y,g,h,C,D)}},Mh=(g,h)=>{const y=rd(g.parent(),"."+zr);Oo(y,h)},UC=g=>{Mh(g,h=>{ka(h,"display","none")})},Ix=g=>{Mh(g,h=>{ka(h,"display","block")})},ZC=pd("resizer-bar-dragging"),jC=g=>{const h=(()=>{const se=su({drag:nl(["xDelta","yDelta","target"])});let ge=me.none();const le=(()=>{const Ee=su({drag:nl(["xDelta","yDelta"])});return{mutate:(Se,et)=>{Ee.trigger.drag(Se,et)},events:Ee.registry}})();return le.events.drag.bind(Ee=>{ge.each(Se=>{se.trigger.drag(Ee.xDelta,Ee.yDelta,Se)})}),{assign:Ee=>{ge=me.some(Ee)},get:()=>ge,mutate:le.mutate,events:se.registry}})(),y=((se,ge={})=>{var le;return((Ee,Se,et)=>{let st=!1;const pt=su({start:nl([]),stop:nl([])}),vt=Rh(),wt=()=>{Xt.stop(),vt.isOn()&&(vt.off(),pt.trigger.stop())},Dt=(fo=>{let Vo=null;const No=()=>{Be(Vo)||(clearTimeout(Vo),Vo=null)};return{cancel:No,throttle:(...Wo)=>{No(),Vo=setTimeout(()=>{Vo=null,fo.apply(null,Wo)},200)}}})(wt);vt.events.move.bind(fo=>{Se.mutate(Ee,fo.info)});const Mt=fo=>(...Vo)=>{st&&fo.apply(null,Vo)},Xt=Se.sink(Mx({forceDrop:wt,drop:Mt(wt),move:Mt(fo=>{Dt.cancel(),vt.onEvent(fo,Se)}),delayDrop:Mt(Dt.throttle)}),et);return{element:Xt.element,go:fo=>{Xt.start(fo),vt.on(),pt.trigger.start()},on:()=>{st=!0},off:()=>{st=!1},isActive:()=>st,destroy:()=>{Xt.destroy()},events:pt.registry}})(se,(le=ge.mode)!==null&&le!==void 0?le:yy,ge)})(h,{});let C=me.none();const D=(se,ge)=>me.from(_a(se,ge));h.events.drag.bind(se=>{D(se.target,"data-row").each(ge=>{const le=ad(se.target,"top");ka(se.target,"top",le+se.yDelta+"px")}),D(se.target,"data-column").each(ge=>{const le=ad(se.target,"left");ka(se.target,"left",le+se.xDelta+"px")})});const O=(se,ge)=>ad(se,ge)-ei(se,"data-initial-"+ge,0);y.events.stop.bind(()=>{h.get().each(se=>{C.each(ge=>{D(se,"data-row").each(le=>{const Ee=O(se,"top");ir(se,"data-initial-top"),be.trigger.adjustHeight(ge,Ee,parseInt(le,10))}),D(se,"data-column").each(le=>{const Ee=O(se,"left");ir(se,"data-initial-left"),be.trigger.adjustWidth(ge,Ee,parseInt(le,10))}),Nh(g,ge)})})});const L=(se,ge)=>{be.trigger.startAdjust(),h.assign(se),Un(se,"data-initial-"+ge,ad(se,ge)),sd(se,ZC),ka(se,"opacity","0.2"),y.go(g.dragContainer())},H=Gn(g.parent(),"mousedown",se=>{var ge;ge=se.target,ko(ge,np)&&L(se.target,"top"),(le=>ko(le,sp))(se.target)&&L(se.target,"left")}),Q=se=>os(se,g.view()),re=Gn(g.view(),"mouseover",se=>{var ge;(ge=se.target,lr(ge,"table",Q).filter(ym)).fold(()=>{td(se.target)&&!(le=>ko(le,"ephox-snooker-resizer-bar")||ko(le,"ephox-dragster-blocker"))(se.target)&&Jg(g)},le=>{y.isActive()&&(C=me.some(le),Nh(g,le))})}),be=su({adjustHeight:nl(["table","delta","row"]),adjustWidth:nl(["table","delta","column"]),startAdjust:nl([])});return{destroy:()=>{H.unbind(),re.unbind(),y.destroy(),Jg(g)},refresh:se=>{Nh(g,se)},on:y.on,off:y.off,hideBars:ue(UC,g),showBars:ue(Ix,g),events:be.registry}},ru=g=>h=>h.options.get(g),Px="100%",ef=g=>{var h;const y=g.dom,C=(h=y.getParent(g.selection.getStart(),y.isBlock))!==null&&h!==void 0?h:g.getBody();return ex(Ae.fromDom(C))+"px"},A0=g=>me.from(g.options.get("table_clone_elements")),au=ru("table_header_type"),Hm=ru("table_column_resizing"),ap=g=>Hm(g)==="preservetable",tr=g=>Hm(g)==="resizetable",xl=ru("table_sizing_mode"),ai=g=>xl(g)==="relative",tf=g=>xl(g)==="fixed",hd=g=>xl(g)==="responsive",Ko=ru("table_resize_bars"),Kt=ru("table_style_by_css"),Bh=ru("table_merge_content_on_paste"),Lx=g=>{const h=g.options,y=h.get("table_default_attributes");return h.isSet("table_default_attributes")?y:((C,D)=>hd(C)||Kt(C)?D:tf(C)?{...D,width:ef(C)}:{...D,width:Px})(g,y)},Ih=ru("table_use_colgroups"),Ph=g=>Ae.fromDom(g.getBody()),Xn=g=>h=>os(h,Ph(g)),ju=g=>{ir(g,"data-mce-style");const h=y=>ir(y,"data-mce-style");Oo(Qr(g),h),Oo(Yf(g),h),Oo(Xd(g),h)},T0=g=>Ae.fromDom(g.selection.getStart()),Ye=g=>g.getBoundingClientRect().width,D0=g=>g.getBoundingClientRect().height,ip=g=>(h,y)=>{const C=h.dom.getStyle(y,g)||h.dom.getAttrib(y,g);return me.from(C).filter(Vs)},lp=ip("width"),of=ip("height"),bd=g=>Bg(g,ga("table")).exists(ym),Fx=g=>Ig(g,"table"),Wu=(g,h,y)=>{const C=D=>O=>y!==void 0&&y(O)||os(O,D);return os(g,h)?me.some({boxes:me.some([g]),start:g,finish:h}):Fx(g).bind(D=>Fx(h).bind(O=>{if(os(D,O))return me.some({boxes:vy(D,g,h),start:g,finish:h});if(Zs(D,O)){const L=cr(h,"td,th",C(D)),H=L.length>0?L[L.length-1]:h;return me.some({boxes:S0(D,g,D,h,O),start:g,finish:H})}if(Zs(O,D)){const L=cr(g,"td,th",C(O)),H=L.length>0?L[L.length-1]:g;return me.some({boxes:S0(O,g,D,h,O),start:g,finish:H})}return((L,H)=>((Q,re,be,se=te)=>{const ge=[re].concat(Q.up().all(re)),le=[be].concat(Q.up().all(be)),Ee=pt=>Ai(pt,se).fold(()=>pt,vt=>pt.slice(0,vt+1)),Se=Ee(ge),et=Ee(le),st=_n(Se,pt=>He(et,((vt,wt)=>ue(vt.eq,wt))(Q,pt)));return{firstpath:Se,secondpath:et,shared:st}})(u0,L,H,void 0))(g,h).shared.bind(L=>lr(L,"table",y).bind(H=>{const Q=cr(h,"td,th",C(H)),re=Q.length>0?Q[Q.length-1]:h,be=cr(g,"td,th",C(H)),se=be.length>0?be[be.length-1]:g;return me.some({boxes:S0(H,g,D,h,O),start:se,finish:re})}))}))},is=(g,h)=>{const y=rd(g,h);return y.length>0?me.some(y):me.none()},Dc=(g,h,y)=>it(g,h).bind(C=>it(g,y).bind(D=>wh(Fx,[C,D]).map(O=>({first:C,last:D,table:O})))),zx=(g,h,y,C,D)=>((O,L)=>_n(O,H=>Zr(H,L)))(g,D).bind(O=>((L,H,Q)=>Jr(L).bind(re=>((be,se,ge,le)=>Jd(be,se,os).bind(Ee=>{const Se=ge>0?Ee.row+Ee.rowspan-1:Ee.row,et=le>0?Ee.column+Ee.colspan-1:Ee.column;return bc(be,Se+ge,et+le).map(st=>st.element)}))(fd(re),L,H,Q)))(O,h,y).bind(L=>((H,Q)=>Ig(H,"table").bind(re=>it(re,Q).bind(be=>Wu(be,H).bind(se=>se.boxes.map(ge=>({boxes:ge,start:se.start,finish:se.finish}))))))(L,C))),Oc=(g,h)=>is(g,h),xd=(g,h,y)=>Dc(g,h,y).bind(C=>{const D=Q=>os(g,Q),O="thead,tfoot,tbody,table",L=Ig(C.first,O,D),H=Ig(C.last,O,D);return L.bind(Q=>H.bind(re=>os(Q,re)?((be,se,ge)=>((le,Ee,Se)=>Xg(le,Ee,Se).bind(et=>((st,pt)=>{let vt=!0;const wt=ue(Fr,pt);for(let Dt=pt.startRow;Dt<=pt.finishRow;Dt++)for(let Mt=pt.startCol;Mt<=pt.finishCol;Mt++)vt=vt&&bc(st,Dt,Mt).exists(wt);return vt?me.some(pt):me.none()})(le,et)))(fd(be),se,ge))(C.table,C.first,C.last):me.none()))}),O0=Bt,Hx=g=>{const h=(y,C)=>Gi(y,C).exists(D=>parseInt(D,10)>1);return g.length>0&&bt(g,y=>h(y,"rowspan")||h(y,"colspan"))?me.some(g):me.none()},Lh=(g,h,y)=>h.length<=1?me.none():xd(g,y.firstSelectedSelector,y.lastSelectedSelector).map(C=>({bounds:C,cells:h})),xt=(g,h)=>({selection:g,kill:h}),Fh=()=>({tag:"none"}),ha=g=>({tag:"multiple",elements:g}),nf=g=>({tag:"single",element:g}),zh=(g,h,y,C)=>({start:Pn.on(g,h),finish:Pn.on(y,C)}),wy=(g,h)=>{const y=Us(g,h);return Gd(Ae.fromDom(y.startContainer),y.startOffset,Ae.fromDom(y.endContainer),y.endOffset)},uo=zh,Vx=(g,h,y,C,D)=>os(y,C)?me.none():Wu(y,C,h).bind(O=>{const L=O.boxes.getOr([]);return L.length>1?(D(g,L,O.start,O.finish),me.some(xt(me.some(uo(y,0,y,fn(y))),!0))):me.none()}),Vm=je([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),_y=g=>lr(g,"tr"),vd={...Vm,verify:(g,h,y,C,D,O,L)=>lr(C,"td,th",L).bind(H=>lr(h,"td,th",L).map(Q=>os(H,Q)?os(C,H)&&fn(H)===D?O(Q):Vm.none("in same cell"):wh(_y,[H,Q]).fold(()=>((re,be,se)=>{const ge=re.getRect(be),le=re.getRect(se);return le.right>ge.left&&le.left<ge.right})(g,Q,H)?Vm.success():O(Q),re=>O(Q)))).getOr(Vm.none("default")),cata:(g,h,y,C,D)=>g.fold(h,y,C,D)},bo=ga("br"),$x=(g,h,y)=>h(g,y).bind(C=>Oi(C)&&Yr(C).trim().length===0?$x(C,h,y):me.some(C)),iu=(g,h,y,C)=>((D,O)=>Z(D,O).filter(bo).orThunk(()=>Z(D,O-1).filter(bo)))(h,y).bind(D=>C.traverse(D).fold(()=>$x(D,C.gather,g).map(C.relative),O=>(L=>dl(L).bind(H=>{const Q=Qa(H);return((re,be)=>Ai(re,ue(os,be)))(Q,L).map(re=>((be,se,ge,le)=>({parent:be,children:se,element:ge,index:le}))(H,Q,L,re))}))(O).map(L=>Pn.on(L.parent,L.index)))),Yl=(g,h)=>({left:g.left,top:g.top+h,right:g.right,bottom:g.bottom+h}),Nn=(g,h)=>({left:g.left,top:g.top-h,right:g.right,bottom:g.bottom-h}),Vi=(g,h,y)=>({left:g.left+h,top:g.top+y,right:g.right+h,bottom:g.bottom+y}),sf=g=>({left:g.left,top:g.top,right:g.right,bottom:g.bottom}),cp=(g,h)=>me.some(g.getRect(h)),$m=(g,h,y)=>Di(h)?cp(g,h).map(sf):Oi(h)?((C,D,O)=>O>=0&&O<fn(D)?C.getRangedRect(D,O,D,O+1):O>0?C.getRangedRect(D,O-1,D,O):me.none())(g,h,y).map(sf):me.none(),Um=(g,h)=>Di(h)?cp(g,h).map(sf):Oi(h)?g.getRangedRect(h,0,h,fn(h)).map(sf):me.none(),Va=je([{none:[]},{retry:["caret"]}]),lu=(g,h,y)=>Bg(h,g0).fold(te,C=>Um(g,C).exists(D=>((O,L)=>O.left<L.left||Math.abs(L.right-O.left)<1||O.left>L.right)(y,D))),Zm={point:g=>g.bottom,adjuster:(g,h,y,C,D)=>{const O=Yl(D,5);return Math.abs(y.bottom-C.bottom)<1||y.top>D.bottom?Va.retry(O):y.top===D.bottom?Va.retry(Yl(D,1)):lu(g,h,D)?Va.retry(Vi(O,5,0)):Va.none()},move:Yl,gather:ou},Hh=(g,h,y,C,D)=>D===0?me.some(C):((O,L,H)=>O.elementFromPoint(L,H).filter(Q=>ys(Q)==="table").isSome())(g,C.left,h.point(C))?((O,L,H,Q,re)=>Hh(O,L,H,L.move(Q,5),re))(g,h,y,C,D-1):g.situsFromPoint(C.left,h.point(C)).bind(O=>O.start.fold(me.none,L=>Um(g,L).bind(H=>h.adjuster(g,L,H,y,C).fold(me.none,Q=>Hh(g,h,y,Q,D-1))).orThunk(()=>me.some(C)),me.none)),dp=(g,h,y)=>{const C=g.move(y,5),D=Hh(h,g,y,C,100).getOr(C);return((O,L,H)=>O.point(L)>H.getInnerHeight()?me.some(O.point(L)-H.getInnerHeight()):O.point(L)<0?me.some(-O.point(L)):me.none())(g,D,h).fold(()=>h.situsFromPoint(D.left,g.point(D)),O=>(h.scrollBy(0,O),h.situsFromPoint(D.left,g.point(D)-O)))},Vh={tryUp:ue(dp,{point:g=>g.top,adjuster:(g,h,y,C,D)=>{const O=Nn(D,5);return Math.abs(y.top-C.top)<1||y.bottom<D.top?Va.retry(O):y.bottom===D.top?Va.retry(Nn(D,1)):lu(g,h,D)?Va.retry(Vi(O,5,0)):Va.none()},move:Nn,gather:Cc}),tryDown:ue(dp,Zm),getJumpSize:ot(5)},Cy=(g,h,y)=>g.getSelection().bind(C=>((D,O,L,H)=>(bo(O)?((re,be,se)=>se.traverse(be).orThunk(()=>$x(be,se.gather,re)).map(se.relative))(D,O,H):iu(D,O,L,H)).map(re=>({start:re,finish:re})))(h,C.finish,C.foffset,y).fold(()=>me.some(bi(C.finish,C.foffset)),D=>{const O=g.fromSitus(D);return L=vd.verify(g,C.finish,C.foffset,O.finish,O.foffset,y.failure,h),vd.cata(L,H=>me.none(),()=>me.none(),H=>me.some(bi(H,0)),H=>me.some(bi(H,fn(H))));var L})),ky=(g,h,y,C,D,O)=>O===0?me.none():up(g,h,y,C,D).bind(L=>{const H=g.fromSitus(L),Q=vd.verify(g,y,C,H.finish,H.foffset,D.failure,h);return vd.cata(Q,()=>me.none(),()=>me.some(L),re=>os(y,re)&&C===0?xn(g,y,C,Nn,D):ky(g,h,re,0,D,O-1),re=>os(y,re)&&C===fn(re)?xn(g,y,C,Yl,D):ky(g,h,re,fn(re),D,O-1))}),xn=(g,h,y,C,D)=>$m(g,h,y).bind(O=>yd(g,D,C(O,Vh.getJumpSize()))),yd=(g,h,y)=>{const C=Xc().browser;return C.isChromium()||C.isSafari()||C.isFirefox()?h.retry(g,y):me.none()},up=(g,h,y,C,D)=>$m(g,y,C).bind(O=>yd(g,D,O)),WC=(g,h,y,C,D)=>lr(C,"td,th",h).bind(O=>lr(O,"table",h).bind(L=>((H,Q)=>vm(H,re=>dl(re).exists(be=>os(be,Q)),void 0).isSome())(D,L)?((H,Q,re)=>Cy(H,Q,re).bind(be=>ky(H,Q,be.element,be.offset,re,20).map(H.fromSitus)))(g,h,y).bind(H=>lr(H.finish,"td,th",h).map(Q=>({start:O,finish:Q,range:H}))):me.none())),$h=(g,h,y,C,D,O)=>O(C,h).orThunk(()=>WC(g,h,y,C,D).map(L=>{const H=L.range;return xt(me.some(uo(H.start,H.soffset,H.finish,H.foffset)),!0)})),kn=(g,h)=>lr(g,"tr",h).bind(y=>lr(y,"table",h).bind(C=>{const D=rd(C,"tr");return os(y,D[0])?((O,L,H)=>ry(Wl,O,Q=>Rr(Q).isSome(),H))(C,0,h).map(O=>{const L=fn(O);return xt(me.some(uo(O,L,O,L)),!0)}):me.none()})),Rc=(g,h)=>lr(g,"tr",h).bind(y=>lr(y,"table",h).bind(C=>{const D=rd(C,"tr");return os(y,D[D.length-1])?((O,L,H)=>d0(Wl,O,Q=>Pg(Q).isSome(),H))(C,0,h).map(O=>xt(me.some(uo(O,0,O,0)),!0)):me.none()})),Gr=(g,h,y,C,D,O,L)=>WC(g,y,C,D,O).bind(H=>Vx(h,y,H.start,H.finish,L)),jm=(g,h)=>lr(g,"td,th",h),Wm=g=>bm(g).exists(ym),qm={traverse:Jc,gather:ou,relative:Pn.before,retry:Vh.tryDown,failure:vd.failedDown},rf={traverse:Ng,gather:Cc,relative:Pn.before,retry:Vh.tryUp,failure:vd.failedUp},wd=g=>h=>h===g,af=wd(38),Uh=wd(40),pn=g=>g>=37&&g<=40,Sy={isBackward:wd(37),isForward:wd(39)},R0={isBackward:wd(39),isForward:wd(37)},N0=g=>({elementFromPoint:(h,y)=>Ae.fromPoint(Ae.fromDom(g.document),h,y),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,y,C,D)=>{const O=Fg.exact(h,y,C,D);return((L,H)=>(Q=>{const re=Q.getClientRects(),be=re.length>0?re[0]:Q.getBoundingClientRect();return be.width>0||be.height>0?me.some(be).map(Rl):me.none()})(Us(L,H)))(g,O)},getSelection:()=>dr(g).map(h=>wy(g,h)),fromSitus:h=>{const y=Fg.relative(h.start,h.finish);return wy(g,y)},situsFromPoint:(h,y)=>Ja(g,h,y).map(C=>zh(C.start,C.soffset,C.finish,C.foffset)),clearSelection:()=>{(h=>{tn(h).each(y=>y.removeAllRanges())})(g)},collapseSelection:(h=!1)=>{dr(g).each(y=>y.fold(C=>C.collapse(h),(C,D)=>{const O=h?C:D;sx(g,O,O)},(C,D,O,L)=>{const H=h?C:O,Q=h?D:L;Ho(g,H,Q,H,Q)}))},setSelection:h=>{Ho(g,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,y)=>{sx(g,h,y)},selectNode:h=>{Yd(g,h,!1)},selectContents:h=>{Yd(g,h)},getInnerHeight:()=>g.innerHeight,getScrollY:()=>(h=>{const y=h!==void 0?h.dom:document,C=y.body.scrollLeft||y.documentElement.scrollLeft,D=y.body.scrollTop||y.documentElement.scrollTop;return fi(C,D)})(Ae.fromDom(g.document)).top,scrollBy:(h,y)=>{((C,D,O)=>{const L=(O!==void 0?O.dom:document).defaultView;L&&L.scrollBy(C,D)})(h,y,Ae.fromDom(g.document))}}),Xl=(g,h)=>({rows:g,cols:h}),Ux=g=>Bg(g,Fs).exists(ym),Zx=(g,h)=>Ux(g)||Ux(h),M0="data-mce-selected",qu="data-mce-first-selected",Ql="data-mce-last-selected",mp="["+M0+"]",lf={selected:M0,selectedSelector:"td["+M0+"],th["+M0+"]",firstSelected:qu,firstSelectedSelector:"td["+qu+"],th["+qu+"]",lastSelected:Ql,lastSelectedSelector:"td["+Ql+"],th["+Ql+"]"},Zh=(g,h,y)=>({element:y,mergable:Lh(h,g,lf),unmergable:Hx(g),selection:O0(g)}),Ey=g=>(h,y)=>{const C=ys(h),D=C==="col"||C==="colgroup"?Jr(O=h).bind(L=>Oc(L,lf.firstSelectedSelector)).fold(ot(O),L=>L[0]):h;var O;return lr(D,g,y)},Ay=Ey("th,td,caption"),jx=Ey("th,td"),$i=g=>{return h=g.model.table.getSelectedCells(),E(h,Ae.fromDom);var h},Wx=(g,h)=>{g.on("BeforeGetContent",y=>{const C=D=>{y.preventDefault(),(O=>Jr(O[0]).map(L=>{const H=((Q,re)=>{const be=vt=>Zr(vt.element,re),se=Kr(Q),ge=Q1(se),le=dd(Q),Ee=Hg(ge),Se=((vt,wt)=>{const Dt=vt.grid.columns;let Mt=vt.grid.rows,Xt=Dt,fo=0,Vo=0;const No=[],Wo=[];return Fo(vt.access,Bo=>{if(No.push(Bo),wt(Bo)){Wo.push(Bo);const Qn=Bo.row,_r=Qn+Bo.rowspan-1,Na=Bo.column,sa=Na+Bo.colspan-1;Qn<Mt?Mt=Qn:_r>fo&&(fo=_r),Na<Xt?Xt=Na:sa>Vo&&(Vo=sa)}}),((Bo,Qn,_r,Na,sa,yl)=>({minRow:Bo,minCol:Qn,maxRow:_r,maxCol:Na,allCells:sa,selectedCells:yl}))(Mt,Xt,fo,Vo,No,Wo)})(Ee,be),et="th:not("+re+"),td:not("+re+")",st=ur(se,"th,td",vt=>Zr(vt,et));Oo(st,Ca),((vt,wt,Dt,Mt)=>{const Xt=Hn(vt,No=>No.section!=="colgroup"),fo=wt.grid.columns,Vo=wt.grid.rows;for(let No=0;No<Vo;No++){let Wo=!1;for(let Bo=0;Bo<fo;Bo++)No<Dt.minRow||No>Dt.maxRow||Bo<Dt.minCol||Bo>Dt.maxCol||(bc(wt,No,Bo).filter(Mt).isNone()?Ug(Xt,Wo,No):Wo=!0)}})(ge,Ee,Se,be);const pt=((vt,wt,Dt,Mt)=>{if(Mt.minCol===0&&wt.grid.columns===Mt.maxCol+1)return 0;const Xt=Pu(wt,vt,Dt),fo=ut(Xt,(Wo,Bo)=>Wo+Bo,0),Vo=ut(Xt.slice(Mt.minCol,Mt.maxCol+1),(Wo,Bo)=>Wo+Bo,0),No=Vo/fo*Dt.pixelWidth()-Dt.pixelWidth();return Dt.getCellDelta(No)})(Q,ti(Q),le,Se);return((vt,wt,Dt,Mt)=>{Fo(Dt.columns,fo=>{(fo.column<wt.minCol||fo.column>wt.maxCol)&&Ca(fo.element)});const Xt=Hn(on(vt,"tr"),fo=>fo.dom.childElementCount===0);Oo(Xt,Ca),wt.minCol!==wt.maxCol&&wt.minRow!==wt.maxRow||Oo(on(vt,"th,td"),fo=>{ir(fo,"rowspan"),ir(fo,"colspan")}),ir(vt,J1),ir(vt,"data-snooker-col-series"),dd(vt).adjustTableWidth(Mt)})(se,Se,Ee,pt),se})(L,mp);return ju(H),[H]}))(D).each(O=>{const L=y.format==="text"?((H,Q)=>{const re=H.getDoc(),be=we(Ae.fromDom(H.getBody())),se=Ae.fromTag("div",re);Un(se,"data-mce-bogus","all"),lh(se,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const ge=(Ee=>ae(Ee)?Ee:Ae.fromDom(Zd(Ee).dom.body))(be);ns(se,Q),De(ge,se);const le=se.dom.innerText;return Ca(se),le})(g,O):((H,Q)=>E(Q,re=>H.selection.serializer.serialize(re.dom,{})).join(""))(g,O);y.content=L})};if(y.selection===!0){const D=(O=>Hn($i(O),L=>Zr(L,lf.selectedSelector)))(g);D.length>=1&&C(D)}}),g.on("BeforeSetContent",y=>{if(y.selection===!0&&y.paste===!0){const C=$i(g);_o(C).each(D=>{Jr(D).each(O=>{const L=Hn((Q=>{const re=document.createElement("div");return re.innerHTML=Q,Qa(Ae.fromDom(re))})(y.content),Q=>ys(Q)!=="meta"),H=ga("table");if(Bh(g)&&L.length===1&&H(L[0])){y.preventDefault();const Q=Ae.fromDom(g.getDoc()),re=jt(Q),be=((se,ge,le)=>({element:se,clipboard:ge,generators:le}))(D,L[0],re);h.pasteCells(O,be).each(()=>{g.focus()})}})})}})},_d=(g,h)=>g.dispatch("NewRow",{node:h}),jh=(g,h)=>g.dispatch("NewCell",{node:h}),cu=(g,h,y)=>{g.dispatch("TableModified",{...y,table:h})},du={structure:!1,style:!0},na={structure:!0,style:!1},Gm={structure:!0,style:!0},gp=(g,h)=>ai(g)?Pi(h):tf(g)?dt(h):dd(h),Ty=(g,h,y)=>{const C=be=>ys(Ph(be))==="table",D=A0(g),O=tr(g)?ye:as,L=be=>{switch(au(g)){case"section":return Wr();case"sectionCells":return Xi();case"cells":return Js();default:return((se,ge)=>{var le;switch((le=ti(se),P(le.all,Ee=>{const Se=ix(Ee);return Se.type==="header"?me.from(Se.subType):me.none()})).getOr(ge)){case"section":return fh();case"sectionCells":return Ws();case"cells":return n0()}})(be,"section")}},H=(be,se,ge,le)=>(Ee,Se,et=!1)=>{ju(Ee);const st=Ae.fromDom(g.getDoc()),pt=Sc(ge,st,D),vt={sizing:gp(g,Ee),resize:tr(g)?Yi():_m(),section:L(Ee)};return se(Ee)?be(Ee,Se,pt,vt).bind(wt=>{h.refresh(Ee.dom),Oo(wt.newRows,Mt=>{_d(g,Mt.dom)}),Oo(wt.newCells,Mt=>{jh(g,Mt.dom)});const Dt=((Mt,Xt)=>Xt.cursor.fold(()=>{const fo=Qr(Mt);return _o(fo).filter(td).map(Vo=>{y.clearSelectedCells(Mt.dom);const No=g.dom.createRng();return No.selectNode(Vo.dom),g.selection.setRng(No),Un(Vo,"data-mce-selected","1"),No})},fo=>{const Vo=gx(c0,fo),No=g.dom.createRng();return No.setStart(Vo.element.dom,Vo.offset),No.setEnd(Vo.element.dom,Vo.offset),g.selection.setRng(No),y.clearSelectedCells(Mt.dom),me.some(No)}))(Ee,wt);return td(Ee)&&(ju(Ee),et||cu(g,Ee.dom,le)),Dt.map(Mt=>({rng:Mt,effect:le}))}):me.none()},Q=H(kx,be=>!C(g)||Io(be).rows>1,ye,na),re=H(Uu,be=>!C(g)||Io(be).columns>1,ye,na);return{deleteRow:Q,deleteColumn:re,insertRowsBefore:H(C0,gt,ye,na),insertRowsAfter:H(oa,gt,ye,na),insertColumnsBefore:H(nu,gt,O,na),insertColumnsAfter:H(op,gt,O,na),mergeCells:H(Ax,gt,ye,na),unmergeCells:H($C,gt,ye,na),pasteColsBefore:H(Dx,gt,ye,na),pasteColsAfter:H(k0,gt,ye,na),pasteRowsBefore:H(xy,gt,ye,na),pasteRowsAfter:H(wr,gt,ye,na),pasteCells:H(Tx,gt,ye,Gm),makeCellsHeader:H(Da,gt,ye,na),unmakeCellsHeader:H(zm,gt,ye,na),makeColumnsHeader:H(Oh,gt,ye,na),unmakeColumnsHeader:H(hy,gt,ye,na),makeRowsHeader:H(Sx,gt,ye,na),makeRowsBody:H(by,gt,ye,na),makeRowsFooter:H(Ex,gt,ye,na),getTableRowType:Ra,getTableCellType:Oa,getTableColType:Pr}},Dy=(g,h)=>{g.selection.select(h.dom,!0),g.selection.collapse(!0)},cf=(g,h,y,C,D)=>{const O=(H=>{const Q=H.options,re=Q.get("table_default_styles");return Q.isSet("table_default_styles")?re:((be,se)=>hd(be)||!Kt(be)?se:tf(be)?{...se,width:ef(be)}:{...se,width:Px})(H,re)})(g),L={styles:O,attributes:Lx(g),colGroups:Ih(g)};return g.undoManager.ignore(()=>{const H=((re,be,se,ge,le,Ee=Rx)=>{const Se=Ae.fromTag("table"),et=le!=="cells";lh(Se,Ee.styles),fa(Se,Ee.attributes),Ee.colGroups&&De(Se,(wt=>{const Dt=Ae.fromTag("colgroup");return so(wt,()=>De(Dt,Ae.fromTag("col"))),Dt})(be));const st=Math.min(re,se);if(et&&se>0){const wt=Ae.fromTag("thead");De(Se,wt);const Dt=E0(se,be,le==="sectionCells"?st:0,ge);ns(wt,Dt)}const pt=Ae.fromTag("tbody");De(Se,pt);const vt=E0(et?re-st:re,be,et?0:se,ge);return ns(pt,vt),Se})(y,h,D,C,au(g),L);Un(H,"data-mce-id","__mce");const Q=(re=>{const be=Ae.fromTag("div"),se=Ae.fromDom(re.dom.cloneNode(!0));return De(be,se),(ge=>ge.dom.innerHTML)(be)})(H);g.insertContent(Q),g.addVisual()}),it(Ph(g),'table[data-mce-id="__mce"]').map(H=>(tf(g)?er(H):hd(g)?iy(H):(ai(g)||(Q=>Qe(Q)&&Q.indexOf("%")!==-1)(O.width))&&kc(H),ju(H),ir(H,"data-mce-id"),((Q,re)=>{Oo(rd(re,"tr"),be=>{_d(Q,be.dom),Oo(rd(be,"th,td"),se=>{jh(Q,se.dom)})})})(g,H),((Q,re)=>{it(re,"td,th").each(ue(Dy,Q))})(g,H),H.dom)).getOrNull()};var Nc=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Oy="x-tinymce/dom-table-",Hr=Oy+"rows",Gu=Oy+"columns",Ui=g=>{const h=Nc.FakeClipboardItem(g);Nc.write([h])},B0=g=>{var h;const y=(h=Nc.read())!==null&&h!==void 0?h:[];return P(y,C=>me.from(C.getType(g)))},qx=g=>{B0(g).isSome()&&Nc.clear()},df=g=>{g.fold(Km,h=>Ui({[Hr]:h}))},uf=()=>B0(Hr),Km=()=>qx(Hr),vl=g=>{g.fold(Ry,h=>Ui({[Gu]:h}))},Gx=()=>B0(Gu),Ry=()=>qx(Gu),fp=g=>Ay(T0(g),Xn(g)).filter(bd),pp=(g,h)=>{const y=Xn(g),C=se=>Jr(se,y),D=se=>(ge=>jx(T0(ge),Xn(ge)).filter(bd))(g).bind(ge=>C(ge).map(le=>se(le,ge))),O=se=>{g.focus()},L=(se,ge=!1)=>D((le,Ee)=>{const Se=Zh($i(g),le,Ee);se(le,Se,ge).each(O)}),H=()=>D((se,ge)=>((le,Ee,Se)=>{const et=ti(le);return Ir(et,Ee).bind(st=>{const pt=Li(et,Se,!1),vt=Ss(pt).rows.slice(st[0].row,st[st.length-1].row+st[st.length-1].rowspan),wt=Ce(vt,Mt=>{const Xt=Hn(Mt.cells,fo=>!fo.isLocked);return Xt.length>0?[{...Mt,cells:Xt}]:[]}),Dt=si(wt);return ar(Dt.length>0,Dt)}).map(st=>E(st,pt=>{const vt=qf(pt.element);return Oo(pt.cells,wt=>{const Dt=Kr(wt.element);Om(Dt,"colspan",wt.colspan,1),Om(Dt,"rowspan",wt.rowspan,1),De(vt,Dt)}),vt}))})(se,Zh($i(g),se,ge),Sc(ye,Ae.fromDom(g.getDoc()),me.none()))),Q=()=>D((se,ge)=>((le,Ee)=>{const Se=ti(le);return Rm(Se,Ee).map(et=>{const st=et[et.length-1],pt=et[0].column,vt=st.column+st.colspan,wt=((Mt,Xt,fo)=>{if(xc(Mt)){const Vo=Hn(Hl(Mt),a0(Xt,fo)),No=E(Vo,Bo=>{const Qn=Kr(Bo.element);return Lu(Qn,"span",fo-Xt),Qn}),Wo=Ae.fromTag("colgroup");return ns(Wo,No),[Wo]}return[]})(Se,pt,vt),Dt=((Mt,Xt,fo)=>E(Mt.all,Vo=>{const No=Hn(Vo.cells,a0(Xt,fo)),Wo=E(No,Qn=>{const _r=Kr(Qn.element);return Lu(_r,"colspan",fo-Xt),_r}),Bo=Ae.fromTag("tr");return ns(Bo,Wo),Bo}))(Se,pt,vt);return[...wt,...Dt]})})(se,Zh($i(g),se,ge))),re=(se,ge)=>ge().each(le=>{const Ee=E(le,Se=>Kr(Se));D((Se,et)=>{const st=jt(Ae.fromDom(g.getDoc())),pt=((vt,wt,Dt,Mt)=>({selection:O0(vt),clipboard:Dt,generators:Mt}))($i(g),0,Ee,st);se(Se,pt).each(O)})}),be=se=>(ge,le)=>((Ee,Se)=>Mo(Ee,Se)?me.from(Ee[Se]):me.none())(le,"type").each(Ee=>{L(se(Ee),le.no_events)});Fo({mceTableSplitCells:()=>L(h.unmergeCells),mceTableMergeCells:()=>L(h.mergeCells),mceTableInsertRowBefore:()=>L(h.insertRowsBefore),mceTableInsertRowAfter:()=>L(h.insertRowsAfter),mceTableInsertColBefore:()=>L(h.insertColumnsBefore),mceTableInsertColAfter:()=>L(h.insertColumnsAfter),mceTableDeleteCol:()=>L(h.deleteColumn),mceTableDeleteRow:()=>L(h.deleteRow),mceTableCutCol:()=>Q().each(se=>{vl(se),L(h.deleteColumn)}),mceTableCutRow:()=>H().each(se=>{df(se),L(h.deleteRow)}),mceTableCopyCol:()=>Q().each(se=>vl(se)),mceTableCopyRow:()=>H().each(se=>df(se)),mceTablePasteColBefore:()=>re(h.pasteColsBefore,Gx),mceTablePasteColAfter:()=>re(h.pasteColsAfter,Gx),mceTablePasteRowBefore:()=>re(h.pasteRowsBefore,uf),mceTablePasteRowAfter:()=>re(h.pasteRowsAfter,uf),mceTableDelete:()=>fp(g).each(se=>{Jr(se,y).filter(pe(y)).each(ge=>{const le=Ae.fromText("");if(q(ge,le),Ca(ge),g.dom.isEmpty(g.getBody()))g.setContent(""),g.selection.setCursorLocation();else{const Ee=g.dom.createRng();Ee.setStart(le.dom,0),Ee.setEnd(le.dom,0),g.selection.setRng(Ee),g.nodeChanged()}})}),mceTableCellToggleClass:(se,ge)=>{D(le=>{const Ee=$i(g),Se=bt(Ee,st=>g.formatter.match("tablecellclass",{value:ge},st.dom)),et=Se?g.formatter.remove:g.formatter.apply;Oo(Ee,st=>et("tablecellclass",{value:ge},st.dom)),cu(g,le.dom,du)})},mceTableToggleClass:(se,ge)=>{D(le=>{g.formatter.toggle("tableclass",{value:ge},le.dom),cu(g,le.dom,du)})},mceTableToggleCaption:()=>{fp(g).each(se=>{Jr(se,y).each(ge=>{Gf(ge,"caption").fold(()=>{const le=Ae.fromTag("caption");De(le,Ae.fromText("Caption")),((Ee,Se)=>{Z(Ee,0).fold(()=>{De(Ee,Se)},et=>{B(et,Se)})})(ge,le),g.selection.setCursorLocation(le.dom,0)},le=>{ga("caption")(se)&&Nl("td",ge).each(Ee=>g.selection.setCursorLocation(Ee.dom,0)),Ca(le)}),cu(g,ge.dom,na)})})},mceTableSizingMode:(se,ge)=>(le=>fp(g).each(Ee=>{hd(g)||tf(g)||ai(g)||Jr(Ee,y).each(Se=>{le!=="relative"||Bm(Se)?le!=="fixed"||oy(Se)?le!=="responsive"||ep(Se)||iy(Se):er(Se):kc(Se),ju(Se),cu(g,Se.dom,na)})}))(ge),mceTableCellType:be(se=>se==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:be(se=>se==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:be(se=>{switch(se){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(se,ge)=>g.addCommand(ge,se)),g.addCommand("mceInsertTable",(se,ge)=>{((le,Ee,Se,et={})=>{const st=pt=>Je(pt)&&pt>0;if(st(Ee)&&st(Se)){const pt=et.headerRows||0,vt=et.headerColumns||0;return cf(le,Se,Ee,vt,pt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(g,ge.rows,ge.columns,ge.options)}),g.addCommand("mceTableApplyCellStyle",(se,ge)=>{const le=et=>"tablecell"+et.toLowerCase().replace("-","");if(!Oe(ge))return;const Ee=Hn($i(g),bd);if(Ee.length===0)return;const Se=((et,st)=>{const pt={};return((vt,wt,Dt,Mt)=>{Fo(vt,(Xt,fo)=>{(wt(Xt,fo)?Dt:Mt)(Xt,fo)})})(et,st,(vt=>(wt,Dt)=>{vt[Dt]=wt})(pt),ye),pt})(ge,(et,st)=>g.formatter.has(le(st))&&Qe(et));(et=>{for(const st in et)if(ks.call(et,st))return!1;return!0})(Se)||(Fo(Se,(et,st)=>{const pt=le(st);Oo(Ee,vt=>{et===""?g.formatter.remove(pt,{value:null},vt.dom,!0):g.formatter.apply(pt,{value:et},vt.dom)})}),C(Ee[0]).each(et=>cu(g,et.dom,du)))})},Kx=g=>!ko(Ae.fromDom(g.target),"ephox-snooker-resizer-bar"),hp=(g,h)=>{const y=(D=lf.selectedSelector,{get:()=>Oc(Ae.fromDom(g.getBody()),D).fold(()=>jx(T0(g),Xn(g)).fold(Fh,nf),ha)}),C=((O,L,H)=>{const Q=ge=>{ir(ge,O.selected),ir(ge,O.firstSelected),ir(ge,O.lastSelected)},re=ge=>{Un(ge,O.selected,"1")},be=ge=>{se(ge),H()},se=ge=>{const le=rd(ge,`${O.selectedSelector},${O.firstSelectedSelector},${O.lastSelectedSelector}`);Oo(le,Q)};return{clearBeforeUpdate:se,clear:be,selectRange:(ge,le,Ee,Se)=>{be(ge),Oo(le,re),Un(Ee,O.firstSelected,"1"),Un(Se,O.lastSelected,"1"),L(le,Ee,Se)},selectedSelector:O.selectedSelector,firstSelectedSelector:O.firstSelectedSelector,lastSelectedSelector:O.lastSelectedSelector}})(lf,(O,L,H)=>{Jr(L).each(Q=>{const re=E(O,le=>le.dom),be=A0(g),se=Sc(ye,Ae.fromDom(g.getDoc()),be),ge=((le,Ee,Se)=>{const et=ti(le);return Ir(et,Ee).map(st=>{const pt=Li(et,Se,!1),{rows:vt}=Ss(pt),wt=((Mt,Xt)=>{const fo=Mt.slice(0,Xt[Xt.length-1].row+1),Vo=si(fo);return Ce(Vo,No=>{const Wo=No.cells.slice(0,Xt[Xt.length-1].column+1);return E(Wo,Bo=>Bo.element)})})(vt,st),Dt=((Mt,Xt)=>{const fo=Mt.slice(Xt[0].row+Xt[0].rowspan-1,Mt.length),Vo=si(fo);return Ce(Vo,No=>{const Wo=No.cells.slice(Xt[0].column+Xt[0].colspan-1,No.cells.length);return E(Wo,Bo=>Bo.element)})})(vt,st);return{upOrLeftCells:wt,downOrRightCells:Dt}})})(Q,{selection:$i(g)},se).map(le=>ui(le,Ee=>E(Ee,Se=>Se.dom))).getOrUndefined();((le,Ee,Se,et,st)=>{le.dispatch("TableSelectionChange",{cells:Ee,start:Se,finish:et,otherCells:st})})(g,re,L.dom,H.dom,ge)})},()=>(O=>{O.dispatch("TableSelectionClear")})(g));var D;return g.on("init",O=>{const L=g.getWin(),H=Ph(g),Q=Xn(g),re=((Se,et,st,pt)=>{const vt=((wt,Dt,Mt,Xt)=>{const fo=ua(),Vo=fo.clear,No=Wo=>{fo.on(Bo=>{Xt.clearBeforeUpdate(Dt),jm(Wo.target,Mt).each(Qn=>{Wu(Bo,Qn,Mt).each(_r=>{const Na=_r.boxes.getOr([]);if(Na.length===1){const sa=Na[0],yl=za(sa)==="false",Gt=qc(oe(Wo.target),sa,os);yl&&Gt&&Xt.selectRange(Dt,Na,sa,sa)}else Na.length>1&&(Xt.selectRange(Dt,Na,_r.start,_r.finish),wt.selectContents(Qn))})})})};return{clearstate:Vo,mousedown:Wo=>{Xt.clear(Dt),jm(Wo.target,Mt).filter(Wm).each(fo.set)},mouseover:Wo=>{No(Wo)},mouseup:Wo=>{No(Wo),Vo()}}})(N0(Se),et,st,pt);return{clearstate:vt.clearstate,mousedown:vt.mousedown,mouseover:vt.mouseover,mouseup:vt.mouseup}})(L,H,Q,C),be=((Se,et,st,pt)=>{const vt=N0(Se),wt=()=>(pt.clear(et),me.none());return{keydown:(Dt,Mt,Xt,fo,Vo,No)=>{const Wo=Dt.raw,Bo=Wo.which,Qn=Wo.shiftKey===!0;return is(et,pt.selectedSelector).fold(()=>(pn(Bo)&&!Qn&&pt.clearBeforeUpdate(et),pn(Bo)&&Qn&&!Zx(Mt,fo)?me.none:Uh(Bo)&&Qn?ue(Gr,vt,et,st,qm,fo,Mt,pt.selectRange):af(Bo)&&Qn?ue(Gr,vt,et,st,rf,fo,Mt,pt.selectRange):Uh(Bo)?ue($h,vt,st,qm,fo,Mt,Rc):af(Bo)?ue($h,vt,st,rf,fo,Mt,kn):me.none),Na=>{const sa=yl=>()=>P(yl,$a=>((Mc,qh,Cd,mf,Ku)=>zx(mf,Mc,qh,Ku.firstSelectedSelector,Ku.lastSelectedSelector).map(kd=>(Ku.clearBeforeUpdate(Cd),Ku.selectRange(Cd,kd.boxes,kd.start,kd.finish),kd.boxes)))($a.rows,$a.cols,et,Na,pt)).fold(()=>Dc(et,pt.firstSelectedSelector,pt.lastSelectedSelector).map($a=>{const Mc=Uh(Bo)||No.isForward(Bo)?Pn.after:Pn.before;return vt.setRelativeSelection(Pn.on($a.first,0),Mc($a.table)),pt.clear(et),xt(me.none(),!0)}),$a=>me.some(xt(me.none(),!0)));return pn(Bo)&&Qn&&!Zx(Mt,fo)?me.none:Uh(Bo)&&Qn?sa([Xl(1,0)]):af(Bo)&&Qn?sa([Xl(-1,0)]):No.isBackward(Bo)&&Qn?sa([Xl(0,-1),Xl(-1,0)]):No.isForward(Bo)&&Qn?sa([Xl(0,1),Xl(1,0)]):pn(Bo)&&!Qn?wt:me.none})()},keyup:(Dt,Mt,Xt,fo,Vo)=>is(et,pt.selectedSelector).fold(()=>{const No=Dt.raw,Wo=No.which;return No.shiftKey===!0&&pn(Wo)&&Zx(Mt,fo)?((Bo,Qn,_r,Na,sa,yl,Gt)=>os(_r,sa)&&Na===yl?me.none():lr(_r,"td,th",Qn).bind($a=>lr(sa,"td,th",Qn).bind(Mc=>Vx(Bo,Qn,$a,Mc,Gt))))(et,st,Mt,Xt,fo,Vo,pt.selectRange):me.none()},me.none)}})(L,H,Q,C),se=((Se,et,st,pt)=>{const vt=N0(Se);return(wt,Dt)=>{pt.clearBeforeUpdate(et),Wu(wt,Dt,st).each(Mt=>{const Xt=Mt.boxes.getOr([]);pt.selectRange(et,Xt,Mt.start,Mt.finish),vt.selectContents(Dt),vt.collapseSelection()})}})(L,H,Q,C);g.on("TableSelectorChange",Se=>se(Se.start,Se.finish));const ge=(Se,et)=>{(st=>st.raw.shiftKey===!0)(Se)&&(et.kill&&Se.kill(),et.selection.each(st=>{const pt=Fg.relative(st.start,st.finish),vt=Us(L,pt);g.selection.setRng(vt)}))},le=Se=>Se.button===0,Ee=(()=>{const Se=ct(Ae.fromDom(H)),et=ct(0);return{touchEnd:st=>{const pt=Ae.fromDom(st.target);if(ga("td")(pt)||ga("th")(pt)){const vt=Se.get(),wt=et.get();os(vt,pt)&&st.timeStamp-wt<300&&(st.preventDefault(),se(pt,pt))}Se.set(pt),et.set(st.timeStamp)}}})();g.on("dragstart",Se=>{re.clearstate()}),g.on("mousedown",Se=>{le(Se)&&Kx(Se)&&re.mousedown(jo(Se))}),g.on("mouseover",Se=>{var et;((et=Se).buttons===void 0||1&et.buttons)&&Kx(Se)&&re.mouseover(jo(Se))}),g.on("mouseup",Se=>{le(Se)&&Kx(Se)&&re.mouseup(jo(Se))}),g.on("touchend",Ee.touchEnd),g.on("keyup",Se=>{const et=jo(Se);if(et.raw.shiftKey&&pn(et.raw.which)){const st=g.selection.getRng(),pt=Ae.fromDom(st.startContainer),vt=Ae.fromDom(st.endContainer);be.keyup(et,pt,st.startOffset,vt,st.endOffset).each(wt=>{ge(et,wt)})}}),g.on("keydown",Se=>{const et=jo(Se);h.hide();const st=g.selection.getRng(),pt=Ae.fromDom(st.startContainer),vt=Ae.fromDom(st.endContainer),wt=G1(Sy,R0)(Ae.fromDom(g.selection.getStart()));be.keydown(et,pt,st.startOffset,vt,st.endOffset,wt).each(Dt=>{ge(et,Dt)}),h.show()}),g.on("NodeChange",()=>{const Se=g.selection,et=Ae.fromDom(Se.getStart()),st=Ae.fromDom(Se.getEnd());wh(Jr,[et,st]).fold(()=>C.clear(H),ye)})}),g.on("PreInit",()=>{g.serializer.addTempAttr(lf.firstSelected),g.serializer.addTempAttr(lf.lastSelected)}),{getSelectedCells:()=>((O,L)=>{switch(O.tag){case"none":return L();case"single":return(H=>[H.dom])(O.element);case"multiple":return(H=>E(H,Q=>Q.dom))(O.elements)}})(y.get(),ot([])),clearSelectedCells:O=>C.clear(Ae.fromDom(O))}},Wh=g=>Et(g)&&g.nodeName==="TABLE",I0="bar-",P0=g=>_a(g,"data-mce-resize")!=="false",Yx=g=>{const h=ua(),y=ua(),C=ua();let D,O,L,H;const Q=le=>gp(g,le),re=()=>ap(g)?_m():Yi(),be=(le,Ee,Se,et)=>{const st=(wt=>{return Jt(Dt=wt,"corner-")?(Mt=>Mt.substring(7))(Dt):Dt;var Dt})(Ee),pt=rn(st,"e"),vt=Jt(st,"n");if(O===""&&kc(le),H===""&&(wt=>{const Dt=(Mt=>Wd(Mt)+"px")(wt);Mm(wt,me.none(),me.some(Dt)),ql(wt)})(le),Se!==D&&O!==""){ka(le,"width",O);const wt=re(),Dt=Q(le),Mt=ap(g)||pt?(Xt=>Io(Xt).columns)(le)-1:0;zi(le,Se-D,Mt,wt,Dt)}else if((wt=>/^(\d+(\.\d+)?)%$/.test(wt))(O)){const wt=parseFloat(O.replace("%",""));ka(le,"width",Se*wt/D+"%")}if((wt=>/^(\d+(\.\d+)?)px$/.test(wt))(O)&&(wt=>{const Dt=ti(wt);xc(Dt)||Oo(Qr(wt),Mt=>{const Xt=Ou(Mt,"width");ka(Mt,"width",Xt),ir(Mt,"width")})})(le),et!==L&&H!==""){ka(le,"height",H);const wt=vt?0:(Dt=>Io(Dt).rows)(le)-1;Ea(le,et-L,wt)}};g.on("init",()=>{const le=((Ee,Se)=>((et,st)=>({parent:ot(et),view:ot(et),dragContainer:ot(et),origin:()=>io(et),isResizable:st}))(Ae.fromDom(Ee.getBody()),Se))(g,P0);if(C.set(le),(Ee=>{const Se=Ee.options.get("object_resizing");return Qo(Se.split(","),"table")})(g)&&Ko(g)){const Ee=((Se,et,st)=>{const pt=fl,vt=Sm,wt=jC(Se),Dt=su({beforeResize:nl(["table","type"]),afterResize:nl(["table","type"]),startDrag:nl([])});return wt.events.adjustHeight.bind(Mt=>{const Xt=Mt.table;Dt.trigger.beforeResize(Xt,"row");const fo=pt.delta(Mt.delta,Xt);Ea(Xt,fo,Mt.row),Dt.trigger.afterResize(Xt,"row")}),wt.events.startAdjust.bind(Mt=>{Dt.trigger.startDrag()}),wt.events.adjustWidth.bind(Mt=>{const Xt=Mt.table;Dt.trigger.beforeResize(Xt,"col");const fo=vt.delta(Mt.delta,Xt),Vo=st(Xt);zi(Xt,fo,Mt.column,et,Vo),Dt.trigger.afterResize(Xt,"col")}),{on:wt.on,off:wt.off,refreshBars:wt.refresh,hideBars:wt.hideBars,showBars:wt.showBars,destroy:wt.destroy,events:Dt.registry}})(le,re(),Q);g.mode.isReadOnly()||Ee.on(),Ee.events.startDrag.bind(Se=>{h.set(g.selection.getRng())}),Ee.events.beforeResize.bind(Se=>{const et=Se.table.dom;((st,pt,vt,wt,Dt)=>{st.dispatch("ObjectResizeStart",{target:pt,width:vt,height:wt,origin:Dt})})(g,et,Ye(et),D0(et),I0+Se.type)}),Ee.events.afterResize.bind(Se=>{const et=Se.table,st=et.dom;ju(et),h.on(pt=>{g.selection.setRng(pt),g.focus()}),((pt,vt,wt,Dt,Mt)=>{pt.dispatch("ObjectResized",{target:vt,width:wt,height:Dt,origin:Mt})})(g,st,Ye(st),D0(st),I0+Se.type),g.undoManager.add()}),y.set(Ee)}}),g.on("ObjectResizeStart",le=>{const Ee=le.target;if(Wh(Ee)&&!g.mode.isReadOnly()){const Se=Ae.fromDom(Ee);Oo(g.dom.select(".mce-clonedresizable"),et=>{g.dom.addClass(et,"mce-"+Hm(g)+"-columns")}),!oy(Se)&&tf(g)?er(Se):!Bm(Se)&&ai(g)&&kc(Se),ep(Se)&&Jt(le.origin,I0)&&kc(Se),D=le.width,O=hd(g)?"":lp(g,Ee).getOr(""),L=le.height,H=of(g,Ee).getOr("")}}),g.on("ObjectResized",le=>{const Ee=le.target;if(Wh(Ee)){const Se=Ae.fromDom(Ee),et=le.origin;(st=>Jt(st,"corner-"))(et)&&be(Se,et,le.width,le.height),ju(Se),cu(g,Se.dom,du)}});const se=()=>{y.on(le=>{le.on(),le.showBars()})},ge=()=>{y.on(le=>{le.off(),le.hideBars()})};return g.on("DisabledStateChange",le=>{le.state?ge():se()}),g.on("SwitchMode",()=>{g.mode.isReadOnly()?ge():se()}),g.on("dragstart dragend",le=>{le.type==="dragstart"?ge():se()}),g.on("remove",()=>{y.on(le=>{le.destroy()})}),{refresh:le=>{y.on(Ee=>Ee.refreshBars(Ae.fromDom(le)))},hide:()=>{y.on(le=>le.hideBars())},show:()=>{y.on(le=>le.showBars())}}},bp=g=>{(D=>{const O=D.options.register;O("table_clone_elements",{processor:"string[]"}),O("table_use_colgroups",{processor:"boolean",default:!0}),O("table_header_type",{processor:L=>{const H=Qo(["section","cells","sectionCells","auto"],L);return H?{value:L,valid:H}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),O("table_sizing_mode",{processor:"string",default:"auto"}),O("table_default_attributes",{processor:"object",default:{border:"1"}}),O("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),O("table_column_resizing",{processor:L=>{const H=Qo(["preservetable","resizetable"],L);return H?{value:L,valid:H}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),O("table_resize_bars",{processor:"boolean",default:!0}),O("table_style_by_css",{processor:"boolean",default:!0}),O("table_merge_content_on_paste",{processor:"boolean",default:!0})})(g);const h=Yx(g),y=hp(g,h),C=Ty(g,h,y);return pp(g,C),((D,O)=>{const L=Xn(D),H=Q=>jx(T0(D)).bind(re=>Jr(re,L).map(be=>{const se=Zh($i(D),be,re);return Q(be,se)})).getOr("");Fo({mceTableRowType:()=>H(O.getTableRowType),mceTableCellType:()=>H(O.getTableCellType),mceTableColType:()=>H(O.getTableColType)},(Q,re)=>D.addQueryValueHandler(re,Q))})(g,C),Wx(g,C),{getSelectedCells:y.getSelectedCells,clearSelectedCells:y.clearSelectedCells}};ne.add("dom",g=>({table:bp(g)}))})();tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;cursor:auto;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox{color:var(--tox-private-color-black,#222f3e);font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--tox-private-font-size-base, 16px)}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);z-index:var(--tox-private-z-index-sink,1300)}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:8px;margin-bottom:8px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;justify-content:center;align-items:center;gap:2px;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--error svg{fill:#c00}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--error svg{fill:#c00}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-button--stretch{width:100%}.tox .tox-button--secondary--outline{background-color:transparent;border-color:var(--tox-private-button-secondary-outline-border-color,#f0f0f0);color:var(--tox-private-button-secondary-outline-text-color,#222f3e)}.tox .tox-button--secondary--outline:focus:not(:disabled){background-color:var(--tox-private-button-secondary-outline-focus-background-color,#e3e3e3);border-color:var(--tox-private-button-secondary-outline-focus-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-focus-text-color,#222f3e)}.tox .tox-button--secondary--outline:hover:not(:disabled){background-color:var(--tox-private-button-secondary-outline-hover-background-color,#f0f0f0);border-color:var(--tox-private-button-secondary-outline-hover-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-hover-text-color,#222f3e)}.tox .tox-button--secondary--outline:active:not(:disabled){background-color:var(--tox-private-button-secondary-outline-active-background-color,#e3e3e3);border-color:var(--tox-private-button-secondary-outline-active-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-active-text-color,#222f3e)}.tox .tox-button--secondary--outline[disabled]{background-color:var(--tox-private-button-secondary-outline-disabled-background-color,transparent);border-color:var(--tox-private-button-secondary-outline-disabled-border-color,#f0f0f0);color:var(--tox-private-button-secondary-outline-disabled-text-color,rgba(34,47,62,.5))}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-context-form__group .tox-button--icon.tox-lock-context-form-size-input{margin-left:8px;margin-right:8px}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-selectfield select option:checked{background-color:revert;color:revert}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox-mentions__card-common{z-index:1200}.tox.tox-mentions__card{background:#fff;border:1px solid #eee;display:flex;padding:4px 8px}.tox.tox-mentions__card .tox-mentions__container{display:flex;flex-direction:column;align-self:center;margin:0 4px}.tox .tox-mentions__avatar{width:42px;height:42px;border-radius:50%;margin-right:4px}.tox .tox-mentions__username{font-size:14px;line-height:21px;color:#222f3e}.tox .tox-mentions__description{font-size:12px;line-height:21px;color:rgba(34,47,62,.7)}.tox .tox-collection__item--active .tox-mentions__description,.tox .tox-collection__item--active .tox-mentions__username{color:inherit}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1302;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:var(--tox-private-sidebar-background-color,#f0f0f0);display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-sidebar-content{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px;border-left:1px solid var(--tox-private-sidebar-border-color,#e3e3e3)}.tox .tox-sidebar-content__header{align-items:center;display:flex;justify-content:space-between;box-shadow:var(--tox-private-sidebar-header-box-shadow,0 4px 8px 0 rgba(34,47,62,.1));padding:var(--tox-private-pad-sm,8px) 12px;background:var(--tox-private-background-color,#fff);z-index:1}.tox .tox-sidebar-content__header .tox-sidebar-content__header-close-button{margin-left:auto}.tox .tox-sidebar-content__title{font-size:var(--tox-private-font-size-lg, 20px);font-weight:var(--tox-private-font-weight-normal,normal);padding:var(--tox-private-pad-sm,8px) 0 var(--tox-private-pad-sm,8px) 0;color:var(--tox-private-text-color,#222f3e);line-height:28px}.tox-ai .tox-ai__user-prompt{background-color:var(--tox-private-ai-user-prompt-background,#f0f0f0);padding:var(--tox-private-pad-sm,8px) 12px;border-radius:var(--tox-private-control-border-radius,6px);max-width:80%;align-self:flex-end;color:var(--tox-private-text-color,#222f3e)}.tox-ai .tox-ai__scroll{overflow:auto;background-color:var(--tox-private-background-color,#fff);display:flex;padding:12px;flex-direction:column;align-items:flex-start;gap:12px;flex:1 0 0;align-self:stretch}.tox-ai .tox-ai-response__content{padding:var(--tox-private-pad-sm,8px) 0;color:var(--tox-private-text-color,#222f3e);font-feature-settings:'liga' off,'clig' off;font-size:var(--tox-private-font-size-sm, 14px);font-style:normal;font-weight:var(--tox-private-font-weight-normal,normal);line-height:var(--tox-private-line-height, 18px)}.tox-ai .tox-ai__footer{border-top:1px solid var(--tox-private-ai-footer-border-color,#e3e3e3);padding:12px;gap:var(--tox-private-pad-sm,8px);background-color:var(--tox-private-background-color,#fff);display:flex;flex-direction:column}.tox-ai .tox-ai__footer-actions{display:flex;gap:var(--tox-private-pad-sm,8px)}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-cursor-default{cursor:ns-resize}.tox .tox-statusbar__resize-cursor-both{cursor:nwse-resize}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-toggle{--tox-private-slider-background-color:#fff;--tox-private-slider-border-color:rgb(227, 227, 227);--tox-private-slider-handle-background-color:#222f3e;display:flex;align-items:center;gap:4px;padding:4px;font-weight:400;line-height:24px;white-space:nowrap;background-color:#fff;color:#222f3e}.tox .tox-toggle input{position:absolute;opacity:0;width:0;height:0}.tox .tox-toggle__slider{position:relative;cursor:pointer;box-sizing:border-box;transition:.4s;border-radius:34px;width:28px;height:16px;background-color:var(--tox-private-slider-background-color);border:1px solid var(--tox-private-slider-border-color)}.tox .tox-toggle__slider::before{position:absolute;content:"";height:12px;width:12px;left:1px;bottom:1px;transition:.4s;border-radius:50%;background-color:var(--tox-private-slider-handle-background-color)}.tox input:checked+.tox-toggle__slider{--tox-private-slider-background-color:#006ce7;--tox-private-slider-border-color:#006ce7}.tox input:focus+.tox-toggle__slider{box-shadow:0 0 0 1px #fff,0 0 0 2px #006ce7}.tox input:checked+.tox-toggle__slider::before{transform:translateX(12px);--tox-private-slider-handle-background-color:#fff}.tox input:disabled+.tox-toggle__slider::before{opacity:50%}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button__main{border-radius:3px 0 0 3px;margin-right:0;width:34px}.tox .tox-split-button__main:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__main:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:3px 0 0 3px}@media (forced-colors:active){.tox .tox-split-button__main:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron{width:16px;border-radius:0 3px 3px 0;margin-left:0}.tox .tox-split-button__chevron:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__chevron:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:0 3px 3px 0}@media (forced-colors:active){.tox .tox-split-button__chevron:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox.tox-platform-touch .tox-split-button__main{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button__chevron.tox-tbtn--disabled,.tox .tox-split-button__main.tox-tbtn--disabled{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:hover,.tox .tox-split-button__main.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:focus,.tox .tox-split-button__main.tox-tbtn--disabled:focus{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:min(80%,15em);padding:8px 0 0 0;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden;z-index:1301;background-color:#fff}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__align-right{margin-left:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-view .tox-revisionhistory__pane{padding:0}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{display:block;width:min-content;padding:4px 8px;margin-bottom:8px;font-size:12px;font-weight:700;border-radius:4px;background:#d3d5d8}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-content{display:flex;flex-direction:row;gap:8px;align-items:center}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-info{display:flex;flex-direction:column;flex:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;font-weight:400}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox [data-mce-name=suggestededits] .tox-icon .tox-icon--badge{fill:#006ce7}.tox .tox-view .tox-suggestededits__pane{padding:0}.tox .tox-suggestededits__sink{position:relative;z-index:1000}.tox .tox-suggestededits__sink .tox-tiered-menu .tox-collection--list{position:absolute}.tox .tox-suggestededits__container{height:100%;display:flex;flex-direction:column}.tox .tox-suggestededits__container .tox-suggestededits{background-color:#fff;border-top:1px solid #eee;display:flex;flex:1;height:inherit;overflow-x:auto;overflow-y:hidden;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__content{flex:1}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model{height:100%;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model .tox-suggestededits__iframe{height:100%;width:100%;overflow:scroll;background-color:#fff}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar{background-color:#f0f0f0;display:flex;flex-direction:column;flex:0 1 auto;min-width:248px;width:316px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-header{padding:4px 12px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content{display:flex;flex:1;flex-direction:column;gap:12px;overflow:auto;padding:6px 12px 12px 12px;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card{background-color:#fff;border-radius:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--divider{background-color:#f0f0f0;height:1px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--editor,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header{display:flex;flex:auto;justify-content:space-between;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar .tox-skeleton__circle,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar img{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--avatar{height:36px;width:36px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e;font-size:14px;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution{align-items:center;border:0;border-radius:20px;height:20px;width:20px;display:flex;flex:0 0 auto;justify-content:center;text-align:center}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--accepted .tox-icon svg{fill:#78AB46}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--rejected .tox-icon svg{fill:#c00}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content{display:flex;flex-direction:column;align-self:stretch;flex:auto;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations{display:flex;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar{align-items:center;border-radius:6px;display:flex;flex-direction:column;font-size:12px;justify-content:space-between;width:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--insert{background-color:#78ab46;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--modify{background-color:#006ce7;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--remove{background-color:#c00;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-text{color:#222f3e;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--feedback{color:#222f3e;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--textarea{border:2px solid #eee;border-radius:6px;color:#222f3e;gap:8px;padding:5px 6px;resize:none;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--textarea:focus{border:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer{display:flex;flex-direction:column;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp .tox-icon svg{fill:#222F3E80;transform:translate(0,8px);margin-top:-10px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons{display:flex;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons.tox-suggestededits__card--review-buttons{justify-content:space-between;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons.tox-suggestededits__card--feedback-buttons{justify-content:flex-end}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--hidden{opacity:.5}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--resolved{background-color:#d3d5d8}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active:focus,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active:focus-visible{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single{border-radius:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single:focus,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single:focus-visible{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card:hover{box-shadow:0 4px 8px 0 #d3d5d8}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);var NV={},MV={},BV;function lte(){return BV||(BV=1,function(){var ne=tinymce.util.Tools.resolve("tinymce.PluginManager");const fe=ct=>({backspaceDelete:At=>{ct.execCommand("mceListBackspaceDelete",!1,At)}}),Pe=ct=>ct==null,_e=ct=>!Pe(ct),Qe=ct=>()=>ct,Oe=(ct,At)=>ct===At,ke=Qe(!1);class Be{constructor(At,ft){this.tag=At,this.value=ft}static some(At){return new Be(!0,At)}static none(){return Be.singletonNone}fold(At,ft){return this.tag?ft(this.value):At()}isSome(){return this.tag}isNone(){return!this.tag}map(At){return this.tag?Be.some(At(this.value)):Be.none()}bind(At){return this.tag?At(this.value):Be.none()}exists(At){return this.tag&&At(this.value)}forall(At){return!this.tag||At(this.value)}filter(At){return!this.tag||At(this.value)?this:Be.none()}getOr(At){return this.tag?this.value:At}or(At){return this.tag?this:At}getOrThunk(At){return this.tag?this.value:At()}orThunk(At){return this.tag?this:At()}getOrDie(At){if(this.tag)return this.value;throw new Error(At??"Called getOrDie on None")}static from(At){return _e(At)?Be.some(At):Be.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(At){this.tag&&At(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Be.singletonNone=new Be(!1);const We=Array.prototype.slice,tt=(ct,At)=>{for(let ft=0,Wn=ct.length;ft<Wn;ft++){const mn=ct[ft];if(At(mn,ft))return!0}return!1},Et=(ct,At)=>{const ft=ct.length,Wn=new Array(ft);for(let mn=0;mn<ft;mn++){const zo=ct[mn];Wn[mn]=At(zo,mn)}return Wn},kt=(ct,At)=>{for(let ft=0,Wn=ct.length;ft<Wn;ft++){const mn=ct[ft];At(mn,ft)}},Je=(ct,At,ft)=>(kt(ct,(Wn,mn)=>{ft=At(ft,Wn,mn)}),ft),ye=(ct,At,ft)=>{for(let Wn=0,mn=ct.length;Wn<mn;Wn++){const zo=ct[Wn];if(At(zo,Wn))return Be.some(zo);if(ft(zo,Wn))break}return Be.none()},ot=(ct,At)=>ye(ct,At,ke),Bt=ct=>{const At=We.call(ct,0);return At.reverse(),At},yt=(ct,At,ft=Oe)=>ct.exists(Wn=>ft(Wn,At)),pe=(ct=>At=>At.replace(ct,""))(/^\s+|\s+$/g),Re=ct=>ct.length>0,te=ct=>!Re(ct),gt=ct=>{const At=Bt(pe(ct).split("")),ft=Et(At,(Wn,mn)=>{const zo=Wn.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,mn)*zo});return Je(ft,(Wn,mn)=>Wn+mn,0)},me=ct=>{if(ct--,ct<0)return"";{const At=ct%26,ft=Math.floor(ct/26),Wn=me(ft),mn=String.fromCharCode(65+At);return Wn+mn}},ln=ct=>/^[A-Z]+$/.test(ct),gs=ct=>/^[a-z]+$/.test(ct),Os=ct=>/^[0-9]+$/.test(ct),Qo=ct=>Os(ct)?2:ln(ct)?0:gs(ct)?1:te(ct)?3:4,He=ct=>{switch(Qo(ct)){case 2:return Be.some({listStyleType:Be.none(),start:ct});case 0:return Be.some({listStyleType:Be.some("upper-alpha"),start:gt(ct).toString()});case 1:return Be.some({listStyleType:Be.some("lower-alpha"),start:gt(ct).toString()});case 3:return Be.some({listStyleType:Be.none(),start:""});case 4:return Be.none()}},so=ct=>{const At=parseInt(ct.start,10);return yt(ct.listStyleType,"upper-alpha")?me(At):yt(ct.listStyleType,"lower-alpha")?me(At).toLowerCase():ct.start},Oo=(ct=>At=>At.options.get(ct))("forced_root_block"),Ro=ct=>/\btox\-/.test(ct.className),Hn=ct=>At=>_e(At)&&ct.test(At.nodeName),da=ct=>At=>_e(At)&&At.nodeName.toLowerCase()===ct,ut=Hn(/^(OL|UL|DL)$/),_n=Hn(/^(TH|TD)$/),Ai=Hn(/^(LI|DT|DD)$/),Ve=(ct,At)=>ye(ct,ut,_n).exists(ft=>ft.nodeName===At&&!Ro(ft)),Ce=(ct,At)=>{const ft=ct.selection.getNode();return At({parents:ct.dom.getParents(ft),element:ft}),ct.on("NodeChange",At),()=>ct.off("NodeChange",At)},bt=(ct,At)=>At!==null&&!ct.dom.isEditable(At),cn=(ct,At)=>{const ft=ct.dom.getParent(At,"ol,ul,dl");return bt(ct,ft)||!ct.selection.isEditable()},Co=da("ol"),_o=["OL","UL","DL"],Uo=_o.join(","),P=(ct,At)=>{const ft=At||ct.selection.getStart(!0);return ct.dom.getParent(ft,Uo,Qs(ct,ft))},Qs=(ct,At)=>{const ft=ct.dom.getParents(At,ct.dom.isBlock),Wn=zo=>zo.nodeName.toLowerCase()!==Oo(ct);return ot(ft,zo=>Wn(zo)&&ks(ct.schema,zo)).getOr(ct.getBody())},ks=(ct,At)=>!ut(At)&&!Ai(At)&&tt(_o,ft=>ct.isValidChild(At.nodeName,ft)),Fo=ct=>{const At=P(ct);!Co(At)||cn(ct,At)||ct.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:so({start:ct.dom.getAttrib(At,"start","1"),listStyleType:Be.from(ct.dom.getStyle(At,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ft=>{const Wn=ft.getData();He(Wn.start).each(mn=>{ct.execCommand("mceListUpdate",!1,{attrs:{start:mn.start==="1"?"":mn.start},styles:{"list-style-type":mn.listStyleType.getOr("")}})}),ft.close()}})},ui=ct=>{ct.addCommand("mceListProps",()=>{Fo(ct)})},pr=(ct,At)=>ft=>{const Wn=mn=>{ft.setActive(Ve(mn.parents,At)),ft.setEnabled(!cn(ct,mn.element)&&ct.selection.isEditable())};return ft.setEnabled(ct.selection.isEditable()),Ce(ct,Wn)},$o=ct=>{const At=ft=>()=>ct.execCommand(ft);ct.hasPlugin("advlist")||(ct.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:At("InsertOrderedList"),onSetup:pr(ct,"OL")}),ct.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:At("InsertUnorderedList"),onSetup:pr(ct,"UL")}))},In=(ct,At)=>ft=>Ce(ct,mn=>ft.setEnabled(Ve(mn.parents,At)&&!cn(ct,mn.element))),Mo=ct=>{const At={text:"List properties...",icon:"ordered-list",onAction:()=>ct.execCommand("mceListProps"),onSetup:In(ct,"OL")};ct.ui.registry.addMenuItem("listprops",At),ct.ui.registry.addContextMenu("lists",{update:ft=>{const Wn=P(ct,ft);return Co(Wn)?["listprops"]:[]}})};var je=()=>{ne.add("lists",ct=>(ui(ct),$o(ct),Mo(ct),fe(ct)))};je()}()),MV}var IV;function cte(){return IV||(IV=1,lte()),NV}cte();var PV={},LV={},FV;function dte(){return FV||(FV=1,function(){var ne=tinymce.util.Tools.resolve("tinymce.PluginManager");const fe=(Ve,Ce,bt)=>{const cn=Ce==="UL"?"InsertUnorderedList":"InsertOrderedList";Ve.execCommand(cn,!1,bt===!1?null:{"list-style-type":bt})},Pe=Ve=>{Ve.addCommand("ApplyUnorderedListStyle",(Ce,bt)=>{fe(Ve,"UL",bt["list-style-type"])}),Ve.addCommand("ApplyOrderedListStyle",(Ce,bt)=>{fe(Ve,"OL",bt["list-style-type"])})},_e=Ve=>Ce=>Ce.options.get(Ve),Qe=Ve=>{const Ce=Ve.options.register;Ce("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Ce("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},Oe=_e("advlist_number_styles"),ke=_e("advlist_bullet_styles"),Be=Ve=>Ve==null,We=Ve=>!Be(Ve);class tt{constructor(Ce,bt){this.tag=Ce,this.value=bt}static some(Ce){return new tt(!0,Ce)}static none(){return tt.singletonNone}fold(Ce,bt){return this.tag?bt(this.value):Ce()}isSome(){return this.tag}isNone(){return!this.tag}map(Ce){return this.tag?tt.some(Ce(this.value)):tt.none()}bind(Ce){return this.tag?Ce(this.value):tt.none()}exists(Ce){return this.tag&&Ce(this.value)}forall(Ce){return!this.tag||Ce(this.value)}filter(Ce){return!this.tag||Ce(this.value)?this:tt.none()}getOr(Ce){return this.tag?this.value:Ce}or(Ce){return this.tag?this:Ce}getOrThunk(Ce){return this.tag?this.value:Ce()}orThunk(Ce){return this.tag?this:Ce()}getOrDie(Ce){if(this.tag)return this.value;throw new Error(Ce??"Called getOrDie on None")}static from(Ce){return We(Ce)?tt.some(Ce):tt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ce){this.tag&&Ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}tt.singletonNone=new tt(!1);const Et=Array.prototype.indexOf,kt=(Ve,Ce)=>Et.call(Ve,Ce),Je=(Ve,Ce)=>kt(Ve,Ce)>-1,ye=(Ve,Ce,bt)=>{for(let cn=0,Co=Ve.length;cn<Co;cn++){const _o=Ve[cn];if(Ce(_o,cn))return tt.some(_o);if(bt(_o,cn))break}return tt.none()},ot=Object.keys,Bt=(Ve,Ce)=>{const bt=ot(Ve);for(let cn=0,Co=bt.length;cn<Co;cn++){const _o=bt[cn],Uo=Ve[_o];Ce(Uo,_o)}},yt=(Ve,Ce)=>ue(Ve,(bt,cn)=>({k:cn,v:Ce(bt,cn)})),ue=(Ve,Ce)=>{const bt={};return Bt(Ve,(cn,Co)=>{const _o=Ce(cn,Co);bt[_o.k]=_o.v}),bt};var pe=tinymce.util.Tools.resolve("tinymce.util.Tools");const Re=Ve=>/\btox\-/.test(Ve.className),te=(Ve,Ce)=>Ve.dom.isChildOf(Ce,Ve.getBody()),gt=Ve=>Ce=>We(Ce)&&Ve.test(Ce.nodeName),me=gt(/^(OL|UL|DL)$/),ln=gt(/^(TH|TD)$/),gs=(Ve,Ce,bt)=>ye(Ce,cn=>me(cn)&&!Re(cn),ln).exists(cn=>cn.nodeName===bt&&te(Ve,cn)),Os=Ve=>{const Ce=Ve.dom.getParent(Ve.selection.getNode(),"ol,ul"),bt=Ve.dom.getStyle(Ce,"listStyleType");return tt.from(bt)},Qo=(Ve,Ce)=>Ce!==null&&!Ve.dom.isEditable(Ce),He=(Ve,Ce)=>{const bt=Ve.dom.getParent(Ce,"ol,ul,dl");return Qo(Ve,bt)||!Ve.selection.isEditable()},so=(Ve,Ce)=>{const bt=Ve.selection.getNode();return Ce({parents:Ve.dom.getParents(bt),element:bt}),Ve.on("NodeChange",Ce),()=>Ve.off("NodeChange",Ce)},E=Ve=>Ve.replace(/\-/g," ").replace(/\b\w/g,Ce=>Ce.toUpperCase()),Oo=Ve=>Be(Ve)||Ve==="default"?"":Ve,Ro=(Ve,Ce)=>bt=>{const cn=(_o,Uo)=>{const P=_o.selection.getStart(!0);bt.setActive(gs(_o,Uo,Ce)),bt.setEnabled(!He(_o,P))};return so(Ve,_o=>cn(Ve,_o.parents))},Hn=(Ve,Ce,bt,cn,Co,_o)=>{const Uo={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},P=yt(Uo,Qs=>Je(_o,Qs));Ve.ui.registry.addSplitButton(Ce,{tooltip:bt,chevronTooltip:`${bt} menu`,icon:Co==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:Co==="OL"?3:4,fetch:Qs=>{const ks=pe.map(_o,Fo=>{const ui=Co==="OL"?"num":"bull",pr=Fo==="decimal"?"default":Fo,$o=Oo(Fo),In=E(Fo);return{type:"choiceitem",value:$o,icon:"list-"+ui+"-"+pr,text:In}});Qs(ks)},onAction:()=>Ve.execCommand(cn),onItemAction:(Qs,ks)=>{fe(Ve,Co,ks)},select:Qs=>Os(Ve).exists(Fo=>Qs===Fo||Uo[Fo]===Qs&&!P[Qs]),onSetup:Ro(Ve,Co)})},da=(Ve,Ce,bt,cn,Co,_o)=>{Ve.ui.registry.addToggleButton(Ce,{active:!1,tooltip:bt,icon:Co==="OL"?"ordered-list":"unordered-list",onSetup:Ro(Ve,Co),onAction:()=>Ve.queryCommandState(cn)||_o===""?Ve.execCommand(cn):fe(Ve,Co,_o)})},ut=(Ve,Ce,bt,cn,Co,_o)=>{_o.length>1?Hn(Ve,Ce,bt,cn,Co,_o):da(Ve,Ce,bt,cn,Co,Oo(_o[0]))},_n=Ve=>{ut(Ve,"numlist","Numbered list","InsertOrderedList","OL",Oe(Ve)),ut(Ve,"bullist","Bullet list","InsertUnorderedList","UL",ke(Ve))};var Ai=()=>{ne.add("advlist",Ve=>{Ve.hasPlugin("lists")?(Qe(Ve),_n(Ve),Pe(Ve)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};Ai()}()),LV}var zV;function ute(){return zV||(zV=1,dte()),PV}ute();var HV={},VV={},$V;function mte(){return $V||($V=1,function(){var ne=tinymce.util.Tools.resolve("tinymce.PluginManager");const fe=Object.getPrototypeOf,Pe=(B,q,ie)=>{var De;return ie(B,q.prototype)?!0:((De=B.constructor)===null||De===void 0?void 0:De.name)===q.name},_e=B=>{const q=typeof B;return B===null?"null":q==="object"&&Array.isArray(B)?"array":q==="object"&&Pe(B,String,(ie,De)=>De.isPrototypeOf(ie))?"string":q},Qe=B=>q=>_e(q)===B,Oe=B=>q=>typeof q===B,ke=B=>q=>B===q,Be=(B,q)=>tt(B)&&Pe(B,q,(ie,De)=>fe(ie)===De),We=Qe("string"),tt=Qe("object"),Et=B=>Be(B,Object),kt=Qe("array"),Je=ke(null),ye=Oe("boolean"),ot=B=>B==null,Bt=B=>!ot(B),yt=Oe("function"),ue=Oe("number"),pe=(B,q)=>{if(kt(B)){for(let ie=0,De=B.length;ie<De;++ie)if(!q(B[ie]))return!1;return!0}return!1},Re=()=>{};class te{constructor(q,ie){this.tag=q,this.value=ie}static some(q){return new te(!0,q)}static none(){return te.singletonNone}fold(q,ie){return this.tag?ie(this.value):q()}isSome(){return this.tag}isNone(){return!this.tag}map(q){return this.tag?te.some(q(this.value)):te.none()}bind(q){return this.tag?q(this.value):te.none()}exists(q){return this.tag&&q(this.value)}forall(q){return!this.tag||q(this.value)}filter(q){return!this.tag||q(this.value)?this:te.none()}getOr(q){return this.tag?this.value:q}or(q){return this.tag?this:q}getOrThunk(q){return this.tag?this.value:q()}orThunk(q){return this.tag?this:q()}getOrDie(q){if(this.tag)return this.value;throw new Error(q??"Called getOrDie on None")}static from(q){return Bt(q)?te.some(q):te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(q){this.tag&&q(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}te.singletonNone=new te(!1);const gt=Array.prototype.push,me=B=>{const q=[];for(let ie=0,De=B.length;ie<De;++ie){if(!kt(B[ie]))throw new Error("Arr.flatten item "+ie+" was not an array, input: "+B);gt.apply(q,B[ie])}return q},ln=(B,q)=>q>=0&&q<B.length?te.some(B[q]):te.none(),gs=B=>ln(B,0),Os=(B,q)=>{for(let ie=0;ie<B.length;ie++){const De=q(B[ie],ie);if(De.isSome())return De}return te.none()},Qo=Object.keys,He=Object.hasOwnProperty,so=(B,q)=>{const ie=Qo(B);for(let De=0,zt=ie.length;De<zt;De++){const gn=ie[De],ns=B[gn];q(ns,gn)}},E=B=>(q,ie)=>{B[ie]=q},Oo=(B,q,ie,De)=>{so(B,(zt,gn)=>{(q(zt,gn)?ie:De)(zt,gn)})},Ro=(B,q)=>{const ie={};return Oo(B,q,E(ie),Re),ie},Hn=(B,q)=>He.call(B,q),da=(B,q)=>Hn(B,q)&&B[q]!==void 0&&B[q]!==null,Ai=(B=>(...q)=>{if(q.length===0)throw new Error("Can't merge zero objects");const ie={};for(let De=0;De<q.length;De++){const zt=q[De];for(const gn in zt)Hn(zt,gn)&&(ie[gn]=B(ie[gn],zt[gn]))}return ie})((B,q)=>Et(B)&&Et(q)?Ai(B,q):q),Ve=B=>B.length>0,Ce=(B,q)=>{const De=(q||document).createElement("div");if(De.innerHTML=B,!De.hasChildNodes()||De.childNodes.length>1){const zt="HTML does not have a single root node";throw console.error(zt,B),new Error(zt)}return Co(De.childNodes[0])},bt=(B,q)=>{const De=(q||document).createElement(B);return Co(De)},cn=(B,q)=>{const De=(q||document).createTextNode(B);return Co(De)},Co=B=>{if(B==null)throw new Error("Node cannot be null or undefined");return{dom:B}},Uo={fromHtml:Ce,fromTag:bt,fromText:cn,fromDom:Co,fromPoint:(B,q,ie)=>te.from(B.dom.elementFromPoint(q,ie)).map(Co)},P=(B,q,ie)=>{if(We(ie)||ye(ie)||ue(ie))B.setAttribute(q,ie+"");else throw console.error("Invalid call to Attribute.set. Key ",q,":: Value ",ie,":: Element ",B),new Error("Attribute value was not simple")},Qs=(B,q,ie)=>{P(B.dom,q,ie)},ks=(B,q)=>{B.dom.removeAttribute(q)};var Fo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ui=tinymce.util.Tools.resolve("tinymce.util.URI");const pr=B=>q=>q.options.get(B),$o=B=>{const q=B.options.register;q("image_dimensions",{processor:"boolean",default:!0}),q("image_advtab",{processor:"boolean",default:!1}),q("image_uploadtab",{processor:"boolean",default:!0}),q("image_prepend_url",{processor:"string",default:""}),q("image_class_list",{processor:"object[]"}),q("image_description",{processor:"boolean",default:!0}),q("image_title",{processor:"boolean",default:!1}),q("image_caption",{processor:"boolean",default:!1}),q("image_list",{processor:ie=>{const De=ie===!1||We(ie)||pe(ie,tt)||yt(ie);return De?{value:ie,valid:De}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},In=pr("image_dimensions"),Mo=pr("image_advtab"),je=pr("image_uploadtab"),ct=pr("image_prepend_url"),At=pr("image_class_list"),ft=pr("image_description"),Wn=pr("image_title"),mn=pr("image_caption"),zo=pr("image_list"),Wc=pr("a11y_advanced_options"),Cn=pr("automatic_uploads"),Rs=B=>Ve(B.options.get("images_upload_url")),qc=B=>Bt(B.options.get("images_upload_handler")),Gc=(B,q)=>Math.max(parseInt(B,10),parseInt(q,10)),ar=B=>new Promise(q=>{const ie=document.createElement("img"),De=gn=>{ie.parentNode&&ie.parentNode.removeChild(ie),q(gn)};ie.addEventListener("load",()=>{const gn=Gc(ie.width,ie.clientWidth),ns=Gc(ie.height,ie.clientHeight),Or={width:gn,height:ns};De(Promise.resolve(Or))}),ie.addEventListener("error",()=>{De(Promise.reject(`Failed to get image dimensions for: ${B}`))});const zt=ie.style;zt.visibility="hidden",zt.position="fixed",zt.bottom=zt.left="0px",zt.width=zt.height="auto",document.body.appendChild(ie),ie.src=B}),Pa=B=>(B&&(B=B.replace(/px$/,"")),B),ua=B=>(B.length>0&&/^[0-9]+$/.test(B)&&(B+="px"),B),Ol=B=>{if(B.margin){const q=String(B.margin).split(" ");switch(q.length){case 1:B["margin-top"]=B["margin-top"]||q[0],B["margin-right"]=B["margin-right"]||q[0],B["margin-bottom"]=B["margin-bottom"]||q[0],B["margin-left"]=B["margin-left"]||q[0];break;case 2:B["margin-top"]=B["margin-top"]||q[0],B["margin-right"]=B["margin-right"]||q[1],B["margin-bottom"]=B["margin-bottom"]||q[0],B["margin-left"]=B["margin-left"]||q[1];break;case 3:B["margin-top"]=B["margin-top"]||q[0],B["margin-right"]=B["margin-right"]||q[1],B["margin-bottom"]=B["margin-bottom"]||q[2],B["margin-left"]=B["margin-left"]||q[1];break;case 4:B["margin-top"]=B["margin-top"]||q[0],B["margin-right"]=B["margin-right"]||q[1],B["margin-bottom"]=B["margin-bottom"]||q[2],B["margin-left"]=B["margin-left"]||q[3]}delete B.margin}return B},Tr=(B,q)=>{const ie=zo(B);We(ie)?fetch(ie).then(De=>{De.ok&&De.json().then(q)}):yt(ie)?ie(q):q(ie)},Jt=(B,q,ie)=>{const De=()=>{ie.onload=ie.onerror=null,B.selection&&(B.selection.select(ie),B.nodeChanged())};ie.onload=()=>{!q.width&&!q.height&&In(B)&&B.dom.setAttribs(ie,{width:String(ie.clientWidth),height:String(ie.clientHeight)}),De()},ie.onerror=De},rn=B=>new Promise((q,ie)=>{const De=new FileReader;De.onload=()=>{q(De.result)},De.onerror=()=>{var zt;ie((zt=De.error)===null||zt===void 0?void 0:zt.message)},De.readAsDataURL(B)}),qn=B=>B.nodeName==="IMG"&&(B.hasAttribute("data-mce-object")||B.hasAttribute("data-mce-placeholder")),Vs=(B,q)=>{const ie=B.options.get;return ui.isDomSafe(q,"img",{allow_html_data_urls:ie("allow_html_data_urls"),allow_script_urls:ie("allow_script_urls"),allow_svg_data_urls:ie("allow_svg_data_urls")})},Nt=Fo.DOM,Ti=B=>B.style.marginLeft&&B.style.marginRight&&B.style.marginLeft===B.style.marginRight?Pa(B.style.marginLeft):"",gc=B=>B.style.marginTop&&B.style.marginBottom&&B.style.marginTop===B.style.marginBottom?Pa(B.style.marginTop):"",ma=B=>B.style.borderWidth?Pa(B.style.borderWidth):"",Ps=(B,q)=>{var ie;return B.hasAttribute(q)&&(ie=B.getAttribute(q))!==null&&ie!==void 0?ie:""},Jo=B=>B.parentNode!==null&&B.parentNode.nodeName==="FIGURE",$r=(B,q,ie)=>{ie===""||ie===null?B.removeAttribute(q):B.setAttribute(q,ie)},Eg=B=>{const q=Nt.create("figure",{class:"image"});Nt.insertAfter(q,B),q.appendChild(B),q.appendChild(Nt.create("figcaption",{contentEditable:"true"},"Caption")),q.contentEditable="false"},fc=B=>{const q=B.parentNode;Bt(q)&&(Nt.insertAfter(B,q),Nt.remove(q))},Go=B=>{Jo(B)?fc(B):Eg(B)},Ur=(B,q)=>{const ie=B.getAttribute("style"),De=q(ie!==null?ie:"");De.length>0?(B.setAttribute("style",De),B.setAttribute("data-mce-style",De)):B.removeAttribute("style")},Dr=(B,q)=>(ie,De,zt)=>{const gn=ie.style;gn[De]?(gn[De]=ua(zt),Ur(ie,q)):$r(ie,De,zt)},wa=(B,q)=>B.style[q]?Pa(B.style[q]):Ps(B,q),Ss=(B,q)=>{const ie=ua(q);B.style.marginLeft=ie,B.style.marginRight=ie},An=(B,q)=>{const ie=ua(q);B.style.marginTop=ie,B.style.marginBottom=ie},vo=(B,q)=>{const ie=ua(q);B.style.borderWidth=ie},Ae=(B,q)=>{B.style.borderStyle=q},Fd=B=>{var q;return(q=B.style.borderStyle)!==null&&q!==void 0?q:""},vs=B=>Bt(B)&&B.nodeName==="FIGURE",ll=B=>B.nodeName==="IMG",$n=B=>{const q=Nt.getAttrib(B,"alt"),ie=Nt.getAttrib(B,"role");return B.hasAttribute("alt")&&q.length===0||ie==="presentation"||ie==="none"},cl=B=>$n(B)?"":Ps(B,"alt"),Rl=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),zd=(B,q)=>{var ie;const De=document.createElement("img");return $r(De,"style",q.style),(Ti(De)||q.hspace!=="")&&Ss(De,q.hspace),(gc(De)||q.vspace!=="")&&An(De,q.vspace),(ma(De)||q.border!=="")&&vo(De,q.border),(Fd(De)||q.borderStyle!=="")&&Ae(De,q.borderStyle),B((ie=De.getAttribute("style"))!==null&&ie!==void 0?ie:"")},$s=(B,q)=>{const ie=document.createElement("img");if(os(B,{...q,caption:!1},ie),Zr(ie,q.alt,q.isDecorative),q.caption){const De=Nt.create("figure",{class:"image"});return De.appendChild(ie),De.appendChild(Nt.create("figcaption",{contentEditable:"true"},"Caption")),De.contentEditable="false",De}else return ie},fm=(B,q)=>({src:Ps(q,"src"),alt:cl(q),title:Ps(q,"title"),width:wa(q,"width"),height:wa(q,"height"),class:Ps(q,"class"),style:B(Ps(q,"style")),caption:Jo(q),hspace:Ti(q),vspace:gc(q),border:ma(q),borderStyle:Fd(q),isDecorative:$n(q)}),Us=(B,q,ie,De,zt)=>{ie[De]!==q[De]&&zt(B,De,String(ie[De]))},Zr=(B,q,ie)=>{if(ie){Nt.setAttrib(B,"role","presentation");const De=Uo.fromDom(B);Qs(De,"alt","")}else{if(Je(q)){const De=Uo.fromDom(B);ks(De,"alt")}else{const De=Uo.fromDom(B);Qs(De,"alt",q)}Nt.getAttrib(B,"role")==="presentation"&&Nt.setAttrib(B,"role","")}},Fn=(B,q,ie)=>{(ie.alt!==q.alt||ie.isDecorative!==q.isDecorative)&&Zr(B,ie.alt,ie.isDecorative)},Nl=(B,q)=>(ie,De,zt)=>{B(ie,zt),Ur(ie,q)},os=(B,q,ie)=>{const De=fm(B,ie);Us(ie,De,q,"caption",(zt,gn,ns)=>Go(zt)),Us(ie,De,q,"src",$r),Us(ie,De,q,"title",$r),Us(ie,De,q,"width",Dr("width",B)),Us(ie,De,q,"height",Dr("height",B)),Us(ie,De,q,"class",$r),Us(ie,De,q,"style",Nl((zt,gn)=>$r(zt,"style",gn),B)),Us(ie,De,q,"hspace",Nl(Ss,B)),Us(ie,De,q,"vspace",Nl(An,B)),Us(ie,De,q,"border",Nl(vo,B)),Us(ie,De,q,"borderStyle",Nl(Ae,B)),Fn(ie,De,q)},Zs=(B,q)=>{const ie=B.dom.styles.parse(q),De=Ol(ie),zt=B.dom.styles.parse(B.dom.styles.serialize(De));return B.dom.styles.serialize(zt)},Su=B=>{const q=B.selection.getNode(),ie=B.dom.getParent(q,"figure.image");return ie?B.dom.select("img",ie)[0]:q&&(q.nodeName!=="IMG"||qn(q))?null:q},Hd=(B,q)=>{var ie;const De=B.dom,zt=Ro(B.schema.getTextBlockElements(),(ns,Or)=>!B.schema.isValidChild(Or,"figure")),gn=De.getParent(q.parentNode,ns=>da(zt,ns.nodeName),B.getBody());return gn&&(ie=De.split(gn,q))!==null&&ie!==void 0?ie:q},Eu=B=>{const q=Su(B);return q?fm(ie=>Zs(B,ie),q):Rl()},Ml=(B,q)=>{const ie=$s(zt=>Zs(B,zt),q);B.dom.setAttrib(ie,"data-mce-id","__mcenew"),B.focus(),B.insertContent(ie.outerHTML);const De=B.dom.select('*[data-mce-id="__mcenew"]')[0];if(B.dom.setAttrib(De,"data-mce-id",null),vs(De)){const zt=Hd(B,De);B.selection.select(zt)}else B.selection.select(De)},pc=(B,q)=>{B.dom.setAttrib(q,"src",q.getAttribute("src"))},Au=(B,q)=>{if(q){const ie=B.dom.is(q.parentNode,"figure.image")?q.parentNode:q;B.dom.remove(ie),B.focus(),B.nodeChanged(),B.dom.isEmpty(B.getBody())&&(B.setContent(""),B.selection.setCursorLocation())}},hr=(B,q)=>{const ie=Su(B);if(ie)if(os(De=>Zs(B,De),q,ie),pc(B,ie),vs(ie.parentNode)){B.dom.setStyle(ie,"float","");const De=ie.parentNode;Hd(B,De),B.selection.select(ie.parentNode)}else B.selection.select(ie),Jt(B,q,ie)},Tu=(B,q)=>{const ie=q.src;return{...q,src:Vs(B,ie)?ie:""}},rh=(B,q)=>{const ie=Su(B);if(ie){const zt={...fm(ns=>Zs(B,ns),ie),...q},gn=Tu(B,zt);zt.src?hr(B,gn):Au(B,ie)}else q.src&&Ml(B,{...Rl(),...q})};var Es=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Ag=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ft=B=>We(B.value)?B.value:"",Vd=B=>We(B.text)?B.text:We(B.title)?B.title:"",Tg=(B,q)=>{const ie=[];return Ag.each(B,De=>{const zt=Vd(De);if(De.menu!==void 0){const gn=Tg(De.menu,q);ie.push({text:zt,items:gn})}else{const gn=q(De);ie.push({text:zt,value:gn})}}),ie},Dg=(B=Ft)=>q=>q?te.from(q).map(ie=>Tg(ie,B)):te.none(),Kc=B=>Dg(Ft)(B),Og=B=>Hn(B,"items"),$f=(B,q)=>Os(B,ie=>Og(ie)?$f(ie.items,q):ie.value===q?te.some(ie):te.none()),mi={sanitizer:Dg,sanitize:Kc,findEntry:(B,q)=>B.bind(ie=>$f(ie,q))},Zf={makeTab:B=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Zo=B=>{const q=mi.sanitizer(Pl=>B.convertURL(Pl.value||Pl.url||"","src")),ie=new Promise(Pl=>{Tr(B,ih=>{Pl(q(ih).map(qf=>me([[{text:"None",value:""}],qf])))})}),De=mi.sanitize(At(B)),zt=Mo(B),gn=je(B),ns=Rs(B),Or=qc(B),Un=Eu(B),fa=ft(B),_a=Wn(B),Gi=In(B),ir=mn(B),ul=Wc(B),ed=Cn(B),Ca=te.some(ct(B)).filter(Pl=>We(Pl)&&Pl.length>0);return ie.then(Pl=>({image:Un,imageList:Pl,classList:De,hasAdvTab:zt,hasUploadTab:gn,hasUploadUrl:ns,hasUploadHandler:Or,hasDescription:fa,hasImageTitle:_a,hasDimensions:Gi,hasImageCaption:ir,prependURL:Ca,hasAccessibilityOptions:ul,automaticUploads:ed}))},Ls=B=>{const q={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},ie=B.imageList.map(_a=>({name:"images",type:"listbox",label:"Image list",items:_a})),De={name:"alt",type:"input",label:"Alternative description",enabled:!(B.hasAccessibilityOptions&&B.image.isDecorative)},zt={name:"title",type:"input",label:"Image title"},gn={name:"dimensions",type:"sizeinput"},ns={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Or=B.classList.map(_a=>({name:"classes",type:"listbox",label:"Class",items:_a})),Un={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},fa=_a=>_a?{type:"grid",columns:2}:{type:"panel"};return me([[q],ie.toArray(),B.hasAccessibilityOptions&&B.hasDescription?[ns]:[],B.hasDescription?[De]:[],B.hasImageTitle?[zt]:[],B.hasDimensions?[gn]:[],[{...fa(B.classList.isSome()&&B.hasImageCaption),items:me([Or.toArray(),B.hasImageCaption?[Un]:[]])}]])},Yc={makeTab:B=>({title:"General",name:"general",items:Ls(B)}),makeItems:Ls},jf={makeTab:B=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},pm=B=>({prevImage:mi.findEntry(B.imageList,B.image.src),prevAlt:B.image.alt,open:!0}),jr=B=>({src:{value:B.src,meta:{}},images:B.src,alt:B.alt,title:B.title,dimensions:{width:B.width,height:B.height},classes:B.class,caption:B.caption,style:B.style,vspace:B.vspace,border:B.border,hspace:B.hspace,borderstyle:B.borderStyle,fileinput:[],isDecorative:B.isDecorative}),Xc=(B,q)=>({src:B.src.value,alt:(B.alt===null||B.alt.length===0)&&q?null:B.alt,title:B.title,width:B.dimensions.width,height:B.dimensions.height,class:B.classes,style:B.style,caption:B.caption,hspace:B.hspace,vspace:B.vspace,border:B.border,borderStyle:B.borderstyle,isDecorative:B.isDecorative}),ah=(B,q)=>/^(?:[a-zA-Z]+:)?\/\//.test(q)?te.none():B.prependURL.bind(ie=>q.substring(0,ie.length)!==ie?te.some(ie+q):te.none()),Du=(B,q)=>{const ie=q.getData();ah(B,ie.src.value).each(De=>{q.setData({src:{value:De,meta:ie.src.meta}})})},ys=(B,q,ie)=>{B.hasDescription&&We(ie.alt)&&(q.alt=ie.alt),B.hasAccessibilityOptions&&(q.isDecorative=ie.isDecorative||q.isDecorative||!1),B.hasImageTitle&&We(ie.title)&&(q.title=ie.title),B.hasDimensions&&(We(ie.width)&&(q.dimensions.width=ie.width),We(ie.height)&&(q.dimensions.height=ie.height)),We(ie.class)&&mi.findEntry(B.classList,ie.class).each(De=>{q.classes=De.value}),B.hasImageCaption&&ye(ie.caption)&&(q.caption=ie.caption),B.hasAdvTab&&(We(ie.style)&&(q.style=ie.style),We(ie.vspace)&&(q.vspace=ie.vspace),We(ie.border)&&(q.border=ie.border),We(ie.hspace)&&(q.hspace=ie.hspace),We(ie.borderstyle)&&(q.borderstyle=ie.borderstyle))},$d=(B,q)=>{const ie=q.getData(),De=ie.src.meta;if(De!==void 0){const zt=Ai({},ie);ys(B,zt,De),q.setData(zt)}},gi=(B,q,ie,De)=>{const zt=De.getData(),gn=zt.src.value,ns=zt.src.meta||{};!ns.width&&!ns.height&&q.hasDimensions&&(Ve(gn)?B.imageSize(gn).then(Or=>{ie.open&&De.setData({dimensions:Or})}).catch(Or=>console.error(Or)):De.setData({dimensions:{width:"",height:""}}))},Qc=(B,q,ie)=>{const De=ie.getData(),zt=mi.findEntry(B.imageList,De.src.value);q.prevImage=zt,ie.setData({images:zt.map(gn=>gn.value).getOr("")})},Fs=(B,q,ie,De)=>{Du(q,De),$d(q,De),gi(B,q,ie,De),Qc(q,ie,De)},Di=(B,q,ie,De)=>{const zt=De.getData(),gn=mi.findEntry(q.imageList,zt.images);gn.each(ns=>{zt.alt===""||ie.prevImage.map(Un=>Un.text===zt.alt).getOr(!1)?ns.value===""?De.setData({src:ns,alt:ie.prevAlt}):De.setData({src:ns,alt:ns.text}):De.setData({src:ns})}),ie.prevImage=gn,Fs(B,q,ie,De)},Oi=(B,q,ie,De)=>{const zt=De.getData();De.block("Uploading image"),gs(zt.fileinput).fold(()=>{De.unblock()},gn=>{const ns=URL.createObjectURL(gn),Or=()=>{De.unblock(),URL.revokeObjectURL(ns)},Un=fa=>{De.setData({src:{value:fa,meta:{}}}),De.showTab("general"),Fs(B,q,ie,De),De.focus("src")};rn(gn).then(fa=>{const _a=B.createBlobCache(gn,ns,fa);q.automaticUploads?B.uploadImage(_a).then(Gi=>{Un(Gi.url),Or()}).catch(Gi=>{Or(),B.alertErr(Gi,()=>{De.focus("fileinput")})}):(B.addToBlobCache(_a),Un(_a.blobUri()),De.unblock())})})},Wf=(B,q,ie)=>(De,zt)=>{zt.name==="src"?Fs(B,q,ie,De):zt.name==="images"?Di(B,q,ie,De):zt.name==="alt"?ie.prevAlt=De.getData().alt:zt.name==="fileinput"?Oi(B,q,ie,De):zt.name==="isDecorative"&&De.setEnabled("alt",!De.getData().isDecorative)},hm=B=>()=>{B.open=!1},ga=B=>B.hasAdvTab||B.hasUploadUrl||B.hasUploadHandler?{type:"tabpanel",tabs:me([[Yc.makeTab(B)],B.hasAdvTab?[Zf.makeTab(B)]:[],B.hasUploadTab&&(B.hasUploadUrl||B.hasUploadHandler)?[jf.makeTab(B)]:[]])}:{type:"panel",items:Yc.makeItems(B)},Ud=(B,q,ie)=>De=>{const zt=Ai(jr(q.image),De.getData()),gn={...zt,style:zd(ie.normalizeCss,Xc(zt,!1))};B.execCommand("mceUpdateImage",!1,Xc(gn,q.hasAccessibilityOptions)),B.editorUpload.uploadImagesAuto(),De.close()},Zd=B=>q=>Vs(B,q)?ar(B.documentBaseURI.toAbsolute(q)).then(ie=>({width:String(ie.width),height:String(ie.height)})):Promise.resolve({width:"",height:""}),dl=B=>(q,ie,De)=>{var zt;return B.editorUpload.blobCache.create({blob:q,blobUri:ie,name:(zt=q.name)===null||zt===void 0?void 0:zt.replace(/\.[^\.]+$/,""),filename:q.name,base64:De.split(",")[1]})},bm=B=>q=>{B.editorUpload.blobCache.add(q)},jd=B=>(q,ie)=>{B.windowManager.alert(q,ie)},Ng=B=>q=>Zs(B,q),Jc=B=>q=>B.dom.parseStyle(q),Qa=B=>(q,ie)=>B.dom.serializeStyle(q,ie),Z=B=>q=>Es(B).upload([q],!1).then(ie=>{var De;return ie.length===0?Promise.reject("Failed to upload image"):ie[0].status===!1?Promise.reject((De=ie[0].error)===null||De===void 0?void 0:De.message):ie[0]}),ae=B=>{const q={imageSize:Zd(B),addToBlobCache:bm(B),createBlobCache:dl(B),alertErr:jd(B),normalizeCss:Ng(B),parseStyle:Jc(B),serializeStyle:Qa(B),uploadImage:Z(B)};return{open:()=>{Zo(B).then(De=>{const zt=pm(De);return{title:"Insert/Edit Image",size:"normal",body:ga(De),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:jr(De.image),onSubmit:Ud(B,De,q),onChange:Wf(q,De,zt),onClose:hm(zt)}}).then(B.windowManager.open)}}},we=B=>{B.addCommand("mceImage",ae(B).open),B.addCommand("mceUpdateImage",(q,ie)=>{B.undoManager.transact(()=>rh(B,ie))})},nt=B=>{const q=B.attr("class");return Bt(q)&&/\bimage\b/.test(q)},Rt=B=>q=>{let ie=q.length;const De=zt=>{zt.attr("contenteditable",B?"true":null)};for(;ie--;){const zt=q[ie];nt(zt)&&(zt.attr("contenteditable",B?"false":null),Ag.each(zt.getAll("figcaption"),De))}},Zt=B=>{B.on("PreInit",()=>{B.parser.addNodeFilter("figure",Rt(!0)),B.serializer.addNodeFilter("figure",Rt(!1))})},en=B=>q=>{const ie=()=>{q.setEnabled(B.selection.isEditable())};return B.on("NodeChange",ie),ie(),()=>{B.off("NodeChange",ie)}},Gn=B=>{B.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ae(B).open,onSetup:q=>{q.setActive(Bt(Su(B)));const ie=B.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",q.setActive).unbind,De=en(B)(q);return()=>{ie(),De()}}}),B.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ae(B).open,onSetup:en(B)}),B.ui.registry.addContextMenu("image",{update:q=>B.selection.isEditable()&&(vs(q)||ll(q)&&!qn(q))?["image"]:[]})};var jo=()=>{ne.add("image",B=>{$o(B),Zt(B),Gn(B),we(B)})};jo()}()),VV}var UV;function gte(){return UV||(UV=1,mte()),HV}gte();var ZV={},jV={},WV;function fte(){return WV||(WV=1,function(){var ne=tinymce.util.Tools.resolve("tinymce.PluginManager");const fe=(Be,We)=>{Be.focus(),Be.undoManager.transact(()=>{Be.setContent(We)}),Be.selection.setCursorLocation(),Be.nodeChanged()},Pe=Be=>Be.getContent({source_view:!0}),_e=Be=>{const We=Pe(Be);Be.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:We},onSubmit:tt=>{fe(Be,tt.getData().code),tt.close()}})},Qe=Be=>{Be.addCommand("mceCodeEditor",()=>{_e(Be)})},Oe=Be=>{const We=()=>Be.execCommand("mceCodeEditor");Be.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:We}),Be.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:We})};var ke=()=>{ne.add("code",Be=>(Qe(Be),Oe(Be),{}))};ke()}()),jV}var qV;function pte(){return qV||(qV=1,fte()),ZV}pte();var GV={},KV={},YV;function hte(){return YV||(YV=1,function(){var ne=tinymce.util.Tools.resolve("tinymce.PluginManager");const fe=(Z,ae,we)=>{var nt;return we(Z,ae.prototype)?!0:((nt=Z.constructor)===null||nt===void 0?void 0:nt.name)===ae.name},Pe=Z=>{const ae=typeof Z;return Z===null?"null":ae==="object"&&Array.isArray(Z)?"array":ae==="object"&&fe(Z,String,(we,nt)=>nt.isPrototypeOf(we))?"string":ae},_e=Z=>ae=>Pe(ae)===Z,Qe=Z=>ae=>typeof ae===Z,Oe=Z=>ae=>Z===ae,ke=_e("string"),Be=_e("object"),We=_e("array"),tt=Oe(null),Et=Qe("boolean"),kt=Z=>Z==null,Je=Z=>!kt(Z),ye=Qe("function"),ot=(Z,ae)=>{if(We(Z)){for(let we=0,nt=Z.length;we<nt;++we)if(!ae(Z[we]))return!1;return!0}return!1},Bt=()=>{},yt=Z=>()=>Z,ue=(Z,ae)=>Z===ae;class pe{constructor(ae,we){this.tag=ae,this.value=we}static some(ae){return new pe(!0,ae)}static none(){return pe.singletonNone}fold(ae,we){return this.tag?we(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?pe.some(ae(this.value)):pe.none()}bind(ae){return this.tag?ae(this.value):pe.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:pe.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae??"Called getOrDie on None")}static from(ae){return Je(ae)?pe.some(ae):pe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}pe.singletonNone=new pe(!1);const Re=Array.prototype.indexOf,te=Array.prototype.push,gt=(Z,ae)=>Re.call(Z,ae),me=(Z,ae)=>gt(Z,ae)>-1,ln=(Z,ae)=>{const we=Z.length,nt=new Array(we);for(let Rt=0;Rt<we;Rt++){const Zt=Z[Rt];nt[Rt]=ae(Zt,Rt)}return nt},gs=(Z,ae)=>{for(let we=0,nt=Z.length;we<nt;we++){const Rt=Z[we];ae(Rt,we)}},Os=(Z,ae,we)=>(gs(Z,(nt,Rt)=>{we=ae(we,nt,Rt)}),we),Qo=Z=>{const ae=[];for(let we=0,nt=Z.length;we<nt;++we){if(!We(Z[we]))throw new Error("Arr.flatten item "+we+" was not an array, input: "+Z);te.apply(ae,Z[we])}return ae},He=(Z,ae)=>Qo(ln(Z,ae)),so=(Z,ae)=>{for(let we=0;we<Z.length;we++){const nt=ae(Z[we],we);if(nt.isSome())return nt}return pe.none()},E=Object.keys,Oo=Object.hasOwnProperty,Ro=(Z,ae)=>{const we=E(Z);for(let nt=0,Rt=we.length;nt<Rt;nt++){const Zt=we[nt],en=Z[Zt];ae(en,Zt)}},Hn=Z=>(ae,we)=>{Z[we]=ae},da=(Z,ae,we,nt)=>{Ro(Z,(Rt,Zt)=>{(ae(Rt,Zt)?we:nt)(Rt,Zt)})},ut=(Z,ae)=>{const we={};return da(Z,ae,Hn(we),Bt),we},_n=(Z,ae)=>Oo.call(Z,ae),Ai=(Z,ae)=>_n(Z,ae)&&Z[ae]!==void 0&&Z[ae]!==null,Ve=Z=>{let ae=Z;return{get:()=>ae,set:Rt=>{ae=Rt}}},Ce=(Z,ae,we=ue)=>Z.exists(nt=>we(nt,ae)),bt=Z=>{const ae=[],we=nt=>{ae.push(nt)};for(let nt=0;nt<Z.length;nt++)Z[nt].each(we);return ae},cn=(Z,ae)=>Z?pe.some(ae):pe.none(),Co=Z=>{const ae=Ve(pe.none()),we=()=>ae.get().each(Z);return{clear:()=>{we(),ae.set(pe.none())},isSet:()=>ae.get().isSome(),get:()=>ae.get(),set:Gn=>{we(),ae.set(pe.some(Gn))}}},_o=()=>{const Z=Co(Bt);return{...Z,on:we=>Z.get().each(we)}},Uo=(Z,ae)=>Z.substring(ae),P=(Z,ae,we)=>ae===""||Z.length>=ae.length&&Z.substr(we,we+ae.length)===ae,Qs=(Z,ae)=>ks(Z,ae)?Uo(Z,ae.length):Z,ks=(Z,ae)=>P(Z,ae,0),Fo=Z=>ae=>ae.options.get(Z),ui=Z=>{const ae=Z.options.register;ae("link_assume_external_targets",{processor:we=>{const nt=ke(we)||Et(we);return nt?we===!0?{value:1,valid:nt}:we==="http"||we==="https"?{value:we,valid:nt}:{value:0,valid:nt}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ae("link_context_toolbar",{processor:"boolean",default:!1}),ae("link_list",{processor:we=>ke(we)||ye(we)||ot(we,Be)}),ae("link_default_target",{processor:"string"}),ae("link_default_protocol",{processor:"string",default:"https"}),ae("link_target_list",{processor:we=>Et(we)||ot(we,Be),default:!0}),ae("link_rel_list",{processor:"object[]",default:[]}),ae("link_class_list",{processor:"object[]",default:[]}),ae("link_title",{processor:"boolean",default:!0}),ae("allow_unsafe_link_target",{processor:"boolean",default:!1}),ae("link_quicklink",{processor:"boolean",default:!1}),ae("link_attributes_postprocess",{processor:"function"})},pr=Fo("link_assume_external_targets"),$o=Fo("link_context_toolbar"),In=Fo("link_list"),Mo=Fo("link_default_target"),je=Fo("link_default_protocol"),ct=Fo("link_target_list"),At=Fo("link_rel_list"),ft=Fo("link_class_list"),Wn=Fo("link_title"),mn=Fo("allow_unsafe_link_target"),zo=Fo("link_quicklink"),Wc=Fo("link_attributes_postprocess");var Cn=tinymce.util.Tools.resolve("tinymce.util.URI"),Rs=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),qc=tinymce.util.Tools.resolve("tinymce.util.Tools");const Gc=Z=>Je(Z)&&Z.nodeName.toLowerCase()==="a",ar=Z=>Gc(Z)&&!!Ol(Z),Pa=(Z,ae)=>{if(Z.collapsed)return[];{const we=Z.cloneContents(),nt=we.firstChild,Rt=new Rs(nt,we),Zt=[];let en=nt;do ae(en)&&Zt.push(en);while(en=Rt.next());return Zt}},ua=Z=>/^\w+:/i.test(Z),Ol=Z=>{var ae,we;return(we=(ae=Z.getAttribute("data-mce-href"))!==null&&ae!==void 0?ae:Z.getAttribute("href"))!==null&&we!==void 0?we:""},Tr=(Z,ae)=>{const we=["noopener"],nt=Z?Z.split(/\s+/):[],Rt=jo=>qc.trim(jo.sort().join(" ")),Zt=jo=>(jo=en(jo),jo.length>0?jo.concat(we):we),en=jo=>jo.filter(B=>qc.inArray(we,B)===-1),Gn=ae?Zt(nt):en(nt);return Gn.length>0?Rt(Gn):""},Jt=Z=>Z.replace(/\uFEFF/g,""),rn=(Z,ae)=>(ae=ae||Nt(Z.selection.getRng())[0]||Z.selection.getNode(),Jo(ae)?pe.from(Z.dom.select("a[href]",ae)[0]):pe.from(Z.dom.getParent(ae,"a[href]"))),qn=(Z,ae)=>rn(Z,ae).isSome(),Vs=(Z,ae)=>{const we=ae.fold(()=>Z.getContent({format:"text"}),nt=>nt.innerText||nt.textContent||"");return Jt(we)},Nt=Z=>Pa(Z,ar),Ti=Z=>qc.grep(Z,ar),gc=Z=>Ti(Z).length>0,ma=Z=>Nt(Z).length>0,Ps=Z=>{const ae=Z.schema.getTextInlineElements(),we=Zt=>Zt.nodeType===1&&!Gc(Zt)&&!_n(ae,Zt.nodeName.toLowerCase());if(rn(Z).exists(Zt=>Zt.hasAttribute("data-mce-block")))return!1;const Rt=Z.selection.getRng();return Rt.collapsed?!0:Pa(Rt,we).length===0},Jo=Z=>Je(Z)&&Z.nodeName==="FIGURE"&&/\bimage\b/i.test(Z.className),$r=Z=>Os(["title","rel","class","target"],(we,nt)=>(Z[nt].each(Rt=>{we[nt]=Rt.length>0?Rt:null}),we),{href:Z.href}),Eg=(Z,ae)=>(ae==="http"||ae==="https")&&!ua(Z)?ae+"://"+Z:Z,fc=(Z,ae)=>{const we={...ae};if(At(Z).length===0&&!mn(Z)){const nt=Tr(we.rel,we.target==="_blank");we.rel=nt||null}return pe.from(we.target).isNone()&&ct(Z)===!1&&(we.target=Mo(Z)),we.href=Eg(we.href,pr(Z)),we},Go=(Z,ae,we,nt)=>{we.each(Zt=>{_n(ae,"innerText")?ae.innerText=Zt:ae.textContent=Zt}),Z.dom.setAttribs(ae,nt);const Rt=Z.dom.createRng();Rt.setStartAfter(ae),Rt.setEndAfter(ae),Z.selection.setRng(Rt)},Ur=(Z,ae,we,nt)=>{const Rt=Z.dom;Jo(ae)?ll(Rt,ae,nt):we.fold(()=>{Z.execCommand("mceInsertLink",!1,nt);const Zt=Z.selection.getEnd(),en=Rt.createRng();en.setStartAfter(Zt),en.setEndAfter(Zt),Z.selection.setRng(en)},Zt=>{Z.insertContent(Rt.createHTML("a",nt,Rt.encode(Zt)))})},Dr=(Z,ae,we)=>{const nt=Z.selection.getNode(),Rt=rn(Z,nt),Zt=fc(Z,$r(we)),en=Wc(Z);Je(en)&&en(Zt),Z.undoManager.transact(()=>{we.href===ae.href&&ae.attach(),Rt.fold(()=>{Ur(Z,nt,we.text,Zt)},Gn=>{Z.focus(),Go(Z,Gn,we.text,Zt)})})},wa=Z=>{const ae=Z.dom,we=Z.selection,nt=we.getBookmark(),Rt=we.getRng().cloneRange(),Zt=ae.getParent(Rt.startContainer,"a[href]",Z.getBody()),en=ae.getParent(Rt.endContainer,"a[href]",Z.getBody());Zt&&Rt.setStartBefore(Zt),en&&Rt.setEndAfter(en),we.setRng(Rt),Z.execCommand("unlink"),we.moveToBookmark(nt)},Ss=Z=>{Z.undoManager.transact(()=>{const ae=Z.selection.getNode();Jo(ae)?vs(Z,ae):wa(Z),Z.focus()})},An=Z=>{const{class:ae,href:we,rel:nt,target:Rt,text:Zt,title:en}=Z;return ut({class:ae.getOrNull(),href:we,rel:nt.getOrNull(),target:Rt.getOrNull(),text:Zt.getOrNull(),title:en.getOrNull()},(Gn,jo)=>tt(Gn)===!1)},vo=(Z,ae)=>{const we=Z.options.get,nt={allow_html_data_urls:we("allow_html_data_urls"),allow_script_urls:we("allow_script_urls"),allow_svg_data_urls:we("allow_svg_data_urls")},Rt=ae.href;return{...ae,href:Cn.isDomSafe(Rt,"a",nt)?Rt:""}},Ae=(Z,ae,we)=>{const nt=vo(Z,we);Z.hasPlugin("rtc",!0)?Z.execCommand("createlink",!1,An(nt)):Dr(Z,ae,nt)},Fd=Z=>{Z.hasPlugin("rtc",!0)?Z.execCommand("unlink"):Ss(Z)},vs=(Z,ae)=>{var we;const nt=Z.dom.select("img",ae)[0];if(nt){const Rt=Z.dom.getParents(nt,"a[href]",ae)[0];Rt&&((we=Rt.parentNode)===null||we===void 0||we.insertBefore(nt,Rt),Z.dom.remove(Rt))}},ll=(Z,ae,we)=>{var nt;const Rt=Z.select("img",ae)[0];if(Rt){const Zt=Z.create("a",we);(nt=Rt.parentNode)===null||nt===void 0||nt.insertBefore(Zt,Rt),Zt.appendChild(Rt)}},$n=Z=>ke(Z.value)?Z.value:"",cl=Z=>ke(Z.text)?Z.text:ke(Z.title)?Z.title:"",Rl=(Z,ae)=>{const we=[];return qc.each(Z,nt=>{const Rt=cl(nt);if(nt.menu!==void 0){const Zt=Rl(nt.menu,ae);we.push({text:Rt,items:Zt})}else{const Zt=ae(nt);we.push({text:Rt,value:Zt})}}),we},zd=(Z=$n)=>ae=>pe.from(ae).map(we=>Rl(we,Z)),Us={sanitize:Z=>zd($n)(Z),sanitizeWith:zd,createUi:(Z,ae)=>we=>({name:Z,type:"listbox",label:ae,items:we}),getValue:$n},Zr=Z=>Ai(Z,"items"),Fn=(Z,ae)=>so(ae,we=>Zr(we)?Fn(Z,we.items):cn(we.value===Z,we)),Nl=(Z,ae,we,nt)=>{const Rt=nt[ae],Zt=Z.length>0;return Rt!==void 0?Fn(Rt,we).map(en=>({url:{value:en.value,meta:{text:Zt?Z:en.text,attach:Bt}},text:Zt?Z:en.text})):pe.none()},os=(Z,ae)=>ae==="link"?Z.link:ae==="anchor"?Z.anchor:pe.none(),Su={init:(Z,ae)=>{const we={text:Z.text,title:Z.title},nt=jo=>{var B;return cn(we.title.length<=0,pe.from((B=jo.meta)===null||B===void 0?void 0:B.title).getOr(""))},Rt=jo=>{var B;return cn(we.text.length<=0,pe.from((B=jo.meta)===null||B===void 0?void 0:B.text).getOr(jo.value))},Zt=jo=>{const B=Rt(jo.url),q=nt(jo.url);return B.isSome()||q.isSome()?pe.some({...B.map(ie=>({text:ie})).getOr({}),...q.map(ie=>({title:ie})).getOr({})}):pe.none()},en=(jo,B)=>{const q=os(ae,B).getOr([]);return Nl(we.text,B,q,jo)};return{onChange:(jo,B)=>{const q=B.name;return q==="url"?Zt(jo()):me(["anchor","link"],q)?en(jo(),q):((q==="text"||q==="title")&&(we[q]=jo()[q]),pe.none())}}},getDelta:Nl};var Hd=tinymce.util.Tools.resolve("tinymce.util.Delay");const Eu=(Z,ae,we)=>{const nt=Z.selection.getRng();Hd.setEditorTimeout(Z,()=>{Z.windowManager.confirm(ae,Rt=>{Z.selection.setRng(nt),we(Rt)})})},Ml=Z=>{const ae=Z.href;return ae.indexOf("@")>0&&ae.indexOf("/")===-1&&ae.indexOf("mailto:")===-1?pe.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:nt=>({...nt,href:"mailto:"+ae})}):pe.none()},pc=(Z,ae)=>we=>{const nt=we.href;return Z===1&&!ua(nt)||Z===0&&/^\s*www(\.|\d\.)/i.test(nt)?pe.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ae}:// prefix?`,preprocess:Zt=>({...Zt,href:ae+"://"+nt})}):pe.none()},hr={preprocess:(Z,ae)=>so([Ml,pc(pr(Z),je(Z))],we=>we(ae)).fold(()=>Promise.resolve(ae),we=>new Promise(nt=>{Eu(Z,we.message,Rt=>{nt(Rt?we.preprocess(ae):ae)})}))},rh={getAnchors:Z=>{const ae=Z.dom.select("a:not([href])"),we=He(ae,nt=>{const Rt=nt.name||nt.id;return Rt?[{text:Rt,value:"#"+Rt}]:[]});return we.length>0?pe.some([{text:"None",value:""}].concat(we)):pe.none()}},Ag={getClasses:Z=>{const ae=ft(Z);return ae.length>0?Us.sanitize(ae):pe.none()}},Ft=Z=>{try{return pe.some(JSON.parse(Z))}catch{return pe.none()}},Tg={getLinks:Z=>{const ae=nt=>Z.convertURL(nt.value||nt.url||"","href"),we=In(Z);return new Promise(nt=>{ke(we)?fetch(we).then(Rt=>Rt.ok?Rt.text().then(Ft):Promise.reject()).then(nt,()=>nt(pe.none())):ye(we)?we(Rt=>nt(pe.some(Rt))):nt(pe.from(we))}).then(nt=>nt.bind(Us.sanitizeWith(ae)).map(Rt=>Rt.length>0?[{text:"None",value:""}].concat(Rt):Rt))}},Kc={getRels:(Z,ae)=>{const we=At(Z);if(we.length>0){const nt=Ce(ae,"_blank"),Rt=mn(Z)===!1,Zt=Gn=>Tr(Us.getValue(Gn),nt);return(Rt?Us.sanitizeWith(Zt):Us.sanitize)(we)}return pe.none()}},Og=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Bl={getTargets:Z=>{const ae=ct(Z);return We(ae)?Us.sanitize(ae).orThunk(()=>pe.some(Og)):ae===!1?pe.none():pe.some(Og)}},mi=(Z,ae,we)=>{const nt=Z.getAttrib(ae,we);return nt!==null&&nt.length>0?pe.some(nt):pe.none()},Uf=(Z,ae)=>{const we=Z.dom,Rt=Ps(Z)?pe.some(Vs(Z.selection,ae)):pe.none(),Zt=ae.bind(q=>pe.from(we.getAttrib(q,"href"))),en=ae.bind(q=>pe.from(we.getAttrib(q,"target"))),Gn=ae.bind(q=>mi(we,q,"rel")),jo=ae.bind(q=>mi(we,q,"class")),B=ae.bind(q=>mi(we,q,"title"));return{url:Zt,text:Rt,title:B,target:en,rel:Gn,linkClass:jo}},Zo={collect:(Z,ae)=>Tg.getLinks(Z).then(we=>{const nt=Uf(Z,ae);return{anchor:nt,catalogs:{targets:Bl.getTargets(Z),rels:Kc.getRels(Z,nt.target),classes:Ag.getClasses(Z),anchor:rh.getAnchors(Z),link:we},optNode:ae,flags:{titleEnabled:Wn(Z)}}})},Ls=(Z,ae)=>we=>{const nt=we.getData();if(!nt.url.value){Fd(Z),we.close();return}const Rt=Gn=>pe.from(nt[Gn]).filter(jo=>!Ce(ae.anchor[Gn],jo)),Zt={href:nt.url.value,text:Rt("text"),target:Rt("target"),rel:Rt("rel"),class:Rt("linkClass"),title:Rt("title")},en={href:nt.url.value,attach:nt.url.meta!==void 0&&nt.url.meta.attach?nt.url.meta.attach:Bt};hr.preprocess(Z,Zt).then(Gn=>{Ae(Z,en,Gn)}),we.close()},Rg=Z=>{const ae=rn(Z);return Zo.collect(Z,ae)},Yc=(Z,ae)=>{const we=Z.anchor,nt=we.url.getOr("");return{url:{value:nt,meta:{original:{value:nt}}},text:we.text.getOr(""),title:we.title.getOr(""),anchor:nt,link:nt,rel:we.rel.getOr(""),target:we.target.or(ae).getOr(""),linkClass:we.linkClass.getOr("")}},Il=(Z,ae,we)=>{const nt=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],Rt=Z.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Zt=Z.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],en=pe.from(Mo(we)),Gn=Yc(Z,en),jo=Z.catalogs,B=Su.init(Gn,jo);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Qo([nt,Rt,Zt,bt([jo.anchor.map(Us.createUi("anchor","Anchors")),jo.rels.map(Us.createUi("rel","Rel")),jo.targets.map(Us.createUi("target","Open link in...")),jo.link.map(Us.createUi("link","Link list")),jo.classes.map(Us.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Gn,onChange:(ie,{name:De})=>{B.onChange(ie.getData,{name:De}).each(zt=>{ie.setData(zt)})},onSubmit:ae}},jf=Z=>{Rg(Z).then(we=>{const nt=Ls(Z,we);return Il(we,nt,Z)}).then(we=>{Z.windowManager.open(we)})},pm=Z=>{Z.addCommand("mceLink",(ae,we)=>{we?.dialog===!0||!zo(Z)?jf(Z):Z.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},jr=Z=>{Z.addShortcut("Meta+K","",()=>{Z.execCommand("mceLink")})};var Xc=tinymce.util.Tools.resolve("tinymce.util.VK");const ah=(Z,ae)=>{document.body.appendChild(Z),Z.dispatchEvent(ae),document.body.removeChild(Z)},Du=Z=>{const ae=document.createElement("a");ae.target="_blank",ae.href=Z,ae.rel="noreferrer noopener";const we=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(we),ah(ae,we)},ys=Z=>Z.altKey===!0&&Z.shiftKey===!1&&Z.ctrlKey===!1&&Z.metaKey===!1,$d=(Z,ae)=>{if(ae){const we=Ol(ae);if(/^#/.test(we)){const nt=Z.dom.select(`${we},[name="${Qs(we,"#")}"]`);nt.length&&Z.selection.scrollIntoView(nt[0],!0)}else Du(ae.href)}},gi=Z=>{const ae=Z.selection.getRng(),we=ae.startContainer;return ar(we)&&ae.startContainer===ae.endContainer&&Z.dom.select("img",we).length===1},Qc=(Z,ae)=>{const we=Ti(Z.dom.getParents(ae));return cn(we.length===1,we[0])},Fs=Z=>{const ae=Nt(Z.selection.getRng());return cn(ae.length>0,ae[0]).or(Qc(Z,Z.selection.getNode()))},Di=Z=>Z.selection.isCollapsed()||gi(Z)?Qc(Z,Z.selection.getStart()):Fs(Z),Oi=Z=>{const ae=_o(),we=()=>ae.get().or(Di(Z)),nt=()=>we().each(Rt=>$d(Z,Rt));return Z.on("contextmenu",Rt=>{Qc(Z,Rt.target).each(ae.set)}),Z.on("SelectionChange",()=>{ae.isSet()||Di(Z).each(ae.set)}),Z.on("click",Rt=>{ae.clear();const Zt=Ti(Z.dom.getParents(Rt.target));Zt.length===1&&Xc.metaKeyPressed(Rt)&&(Rt.preventDefault(),$d(Z,Zt[0]))}),Z.on("keydown",Rt=>{ae.clear(),!Rt.isDefaultPrevented()&&Rt.keyCode===13&&ys(Rt)&&we().each(Zt=>{Rt.preventDefault(),$d(Z,Zt)})}),{gotoSelectedLink:nt}},Wf=Z=>()=>{Z.execCommand("mceLink",!1,{dialog:!0})},hm=(Z,ae)=>(Z.on("NodeChange",ae),()=>Z.off("NodeChange",ae)),ga=Z=>ae=>{const we=()=>{ae.setActive(!Z.mode.isReadOnly()&&qn(Z,Z.selection.getNode())),ae.setEnabled(Z.selection.isEditable())};return we(),hm(Z,we)},Ud=Z=>ae=>{const we=()=>{ae.setEnabled(Z.selection.isEditable())};return we(),hm(Z,we)},Zd=Z=>ae=>{const we=Zt=>gc(Zt)||ma(Z.selection.getRng()),nt=Z.dom.getParents(Z.selection.getStart()),Rt=Zt=>{ae.setEnabled(we(Zt)&&Z.selection.isEditable())};return Rt(nt),hm(Z,Zt=>Rt(Zt.parents))},dl=(Z,ae)=>{Z.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Wf(Z),onSetup:ga(Z)}),Z.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ae.gotoSelectedLink,onSetup:Zd(Z)}),Z.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Fd(Z),onSetup:Zd(Z)})},bm=(Z,ae)=>{Z.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ae.gotoSelectedLink,onSetup:Zd(Z)}),Z.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Wf(Z),onSetup:Ud(Z)}),Z.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Fd(Z),onSetup:Zd(Z)})},jd=Z=>{const ae="link unlink openlink",we="link";Z.ui.registry.addContextMenu("link",{update:nt=>Z.dom.isEditable(nt)?gc(Z.dom.getParents(nt,"a"))?ae:we:""})},Ng=(Z,ae)=>{const we=Zt=>{Zt.selection.collapse(!1)},nt=Zt=>{const en=Z.selection.getNode();return Zt.setEnabled(qn(Z,en)&&Z.selection.isEditable()),Bt},Rt=Zt=>{const en=rn(Z),Gn=Ps(Z);if(en.isNone()&&Gn){const jo=Vs(Z.selection,en);return cn(jo.length===0,Zt)}else return pe.none()};Z.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:ga(Z)},label:"Link",predicate:Zt=>$o(Z)&&qn(Z,Zt),initValue:()=>rn(Z).fold(yt(""),Ol),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Zt=>{const en=Z.selection.getNode();return Zt.setActive(qn(Z,en)),ga(Z)(Zt)},onAction:Zt=>{const en=Zt.getValue(),Gn=Rt(en);Ae(Z,{href:en,attach:Bt},{href:en,text:Gn,title:pe.none(),rel:pe.none(),target:pe.from(Mo(Z)),class:pe.none()}),we(Z),Zt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:nt,onAction:Zt=>{Fd(Z),Zt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:nt,onAction:Zt=>{ae.gotoSelectedLink(),Zt.hide()}}]})},Jc=Z=>{const ae=Oi(Z);dl(Z,ae),bm(Z,ae),jd(Z),Ng(Z,ae)};var Qa=()=>{ne.add("link",Z=>{ui(Z),pm(Z),Jc(Z),jr(Z)})};Qa()}()),KV}var XV;function bte(){return XV||(XV=1,hte()),GV}bte();tinymce.Resource.add("ui/oxide/content.css",`@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],> audio[data-mce-selected],> video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.tox-suggestededits__annotation--added,.tox-suggestededits__annotation--modified,.tox-suggestededits__annotation--removed{-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--added__highlight{background-color:rgba(120,171,70,.2);-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--added__selected{background-color:rgba(120,171,70,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--modified__highlight{background-color:rgba(0,108,231,.2);-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--modified__selected{background-color:rgba(0,108,231,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--removed__highlight{background-color:rgba(204,0,0,.2);-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--removed__selected{background-color:rgba(204,0,0,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--added.tox-suggestededits__annotation--added__hidden,.tox-suggestededits__annotation--modified.tox-suggestededits__annotation--modified__hidden,.tox-suggestededits__annotation--removed.tox-suggestededits__annotation--removed__hidden{display:none;-webkit-text-decoration:none;text-decoration:none}:has(> div > iframe).tox-suggestededits__annotation--added,:has(> div > iframe).tox-suggestededits__annotation--modified,:has(> div > iframe).tox-suggestededits__annotation--removed{padding:7px;margin:5px}iframe.tox-suggestededits__annotation--added__highlight,img.tox-suggestededits__annotation--added__highlight,video.tox-suggestededits__annotation--added__highlight{outline:.25em solid rgba(120,171,70,.2);padding:.25em}iframe.tox-suggestededits__annotation--added__selected,img.tox-suggestededits__annotation--added__selected,video.tox-suggestededits__annotation--added__selected{border:.25em solid rgba(120,171,70,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--modified__highlight,img.tox-suggestededits__annotation--modified__highlight,video.tox-suggestededits__annotation--modified__highlight{outline:.25em solid rgba(0,108,231,.2);padding:.25em}iframe.tox-suggestededits__annotation--modified__selected,img.tox-suggestededits__annotation--modified__selected,video.tox-suggestededits__annotation--modified__selected{border:.25em solid rgba(0,108,231,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--removed__highlight,img.tox-suggestededits__annotation--removed__highlight,video.tox-suggestededits__annotation--removed__highlight{outline:.25em solid rgba(204,0,0,.2);padding:.25em}iframe.tox-suggestededits__annotation--removed__selected,img.tox-suggestededits__annotation--removed__selected,video.tox-suggestededits__annotation--removed__selected{border:.25em solid rgba(204,0,0,.2);outline:.125em solid #006ce7;padding:0}div.tox-suggestededits__annotation:has(> hr){padding:.25em}div.tox-suggestededits__annotation--removed__highlight>hr{border-color:rgba(0,0,0,.2)}div.tox-suggestededits__annotation--added__highlight>hr{border-color:rgba(0,0,0,.2)}.mce-pagebreak.tox-suggestededits__annotation--added__selected,.mce-pagebreak.tox-suggestededits__annotation--modified__selected,.mce-pagebreak.tox-suggestededits__annotation--removed__selected{border:1px dashed #aaa;box-shadow:none}.mce-pagebreak.tox-suggestededits__annotation--added__highlight,.mce-pagebreak.tox-suggestededits__annotation--modified__highlight,.mce-pagebreak.tox-suggestededits__annotation--removed__highlight{padding:0}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:rgba(255,255,255,.5)}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:min(100%,600px);height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--icon-min-width:24px;--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out;box-shadow:0 0 0 99999px #222f3e80;z-index:1}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]:is(td,th,tr){position:static}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);tinymce.addI18n("fr_FR",{"#":"#",Accessibility:"Accessibilité",Accordion:"Accordéon","Accordion body...":"Corps de l'accordéon...","Accordion summary...":"Résumé de l'accordéon...",Action:"Action",Activity:"Activité",Address:"Adresse",Advanced:"Options avancées",Align:"Aligner","Align center":"Centrer","Align left":"Aligner à gauche","Align right":"Aligner à droite",Alignment:"Alignement","Alignment {0}":"Alignement {0}",All:"Tout","Alternative description":"Description alternative","Alternative source":"Source alternative","Alternative source URL":"URL de la source alternative",Anchor:"Ancre","Anchor...":"Ancre...",Anchors:"Ancres","Animals and Nature":"Animaux & nature",Arrows:"Flèches",B:"B","Background color":"Couleur d'arrière-plan","Background color {0}":"Couleur d'arrière-plan {0}",Black:"Noir",Block:"Bloc","Block {0}":"Bloc {0}",Blockquote:"Bloc de citation",Blocks:"Blocs",Blue:"Bleu","Blue component":"Composant bleu",Body:"Corps",Bold:"Gras",Border:"Bordure","Border color":"Couleur de bordure","Border style":"Style de la bordure","Border width":"Épaisseur de la bordure",Bottom:"En bas","Browse files":"Consulter les fichiers","Browse for an image":"Rechercher une image","Browse links":"Consulter les liens","Bullet list":"Liste à puces",Cancel:"Annuler",Caption:"Légende",Cell:"Cellule","Cell padding":"Marge intérieure des cellules","Cell properties":"Propriétés de la cellule","Cell spacing":"Espacement entre les cellules","Cell styles":"Type de cellule","Cell type":"Type de cellule",Center:"Centre",Characters:"Caractères","Characters (no spaces)":"Caractères (espaces non compris)",Circle:"Cercle",Class:"Classe","Clear formatting":"Effacer la mise en forme",Close:"Fermer",Code:"Code","Code sample...":"Exemple de code...","Code view":"Affichage du code","Color Picker":"Sélecteur de couleurs","Color swatch":"Échantillon de couleurs",Cols:"Colonnes",Column:"Colonne","Column clipboard actions":"Actions du presse-papiers des colonnes","Column group":"Groupe de colonnes","Column header":"En-tête de colonne","Constrain proportions":"Limiter les proportions",Copy:"Copier","Copy column":"Copier la colonne","Copy row":"Copier la ligne","Could not find the specified string.":"Impossible de trouver la chaîne spécifiée.","Could not load emojis":"Impossible de charger les emojis",Count:"Total",Currency:"Devise","Current window":"Fenêtre active","Custom color":"Couleur personnalisée","Custom...":"Personnalisée...",Cut:"Couper","Cut column":"Couper la colonne","Cut row":"Couper la ligne","Dark Blue":"Bleu foncé","Dark Gray":"Gris foncé","Dark Green":"Vert foncé","Dark Orange":"Orange foncé","Dark Purple":"Violet foncé","Dark Red":"Rouge foncé","Dark Turquoise":"Turquoise foncé","Dark Yellow":"Jaune foncé",Dashed:"Tirets","Date/time":"Date/heure","Decrease indent":"Réduire le retrait",Default:"Par défaut","Delete accordion":"Supprimer l'accordéon","Delete column":"Supprimer la colonne","Delete row":"Supprimer la ligne","Delete table":"Supprimer le tableau",Dimensions:"Dimensions",Disc:"Disque",Div:"Div",Document:"Document",Dotted:"Pointillé",Double:"Deux traits continus","Drop an image here":"Déposer une image ici","Dropped file type is not supported":"Le type de fichier déposé n'est pas pris en charge",Edit:"Modifier",Embed:"Incorporer",Emojis:"Émojis","Emojis...":"Émojis...",Error:"Erreur","Error: Form submit field collision.":"Erreur : conflit de champs lors de la soumission du formulaire.","Error: No form element found.":"Erreur : aucun élément de formulaire trouvé.","Extended Latin":"Latin étendu","Failed to initialize plugin: {0}":"Échec d'initialisation de l'extension : {0}","Failed to load plugin url: {0}":"Échec de chargement de l'URL du plug-in : {0}","Failed to load plugin: {0} from url {1}":"Échec de chargement du plug-in : {0} à partir de l’URL {1}","Failed to upload image: {0}":"Échec d'envoi de l'image : {0}",File:"Fichier",Find:"Rechercher","Find (if searchreplace plugin activated)":"Rechercher (si l'extension 'searchreplace' est activée)","Find and Replace":"Trouver et remplacer","Find and replace...":"Trouver et remplacer...","Find in selection":"Trouver dans la sélection","Find whole words only":"Mot entier",Flags:"Drapeaux","Focus to contextual toolbar":"Mettre le focus sur la barre d'outils contextuelle","Focus to element path":"Mettre le focus sur le chemin vers l'élément","Focus to menubar":"Mettre le focus sur la barre de menu","Focus to toolbar":"Mettre le focus sur la barre d'outils",Font:"Police","Font size {0}":"Taille de police {0}","Font sizes":"Tailles de police","Font {0}":"Police {0}",Fonts:"Polices","Food and Drink":"Nourriture & boissons",Footer:"Pied de page",Format:"Format","Format {0}":"Format {0}",Formats:"Formats",Fullscreen:"Plein écran",G:"V",General:"Général",Gray:"Gris",Green:"Vert","Green component":"Composant vert",Groove:"Sculpté","Handy Shortcuts":"Raccourcis utiles",Header:"En-tête","Header cell":"Cellule d'en-tête","Heading 1":"Titre 1","Heading 2":"Titre 2","Heading 3":"Titre 3","Heading 4":"Titre 4","Heading 5":"Titre 5","Heading 6":"Titre 6",Headings:"Titres",Height:"Hauteur",Help:"Aide","Hex color code":"Code couleur hexadécimal",Hidden:"Masqué","Horizontal align":"Alignement horizontal","Horizontal line":"Ligne horizontale","Horizontal space":"Espace horizontal",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"L'ID doit commencer par une lettre, suivie uniquement par des lettres, numéros, tirets, points, deux-points et underscores.","Image is decorative":"L'image est décorative","Image list":"Liste des images","Image title":"Titre d'image","Image...":"Image...","ImageProxy HTTP error: Could not find Image Proxy":"Erreur HTTP d'ImageProxy : Impossible de trouver ImageProxy","ImageProxy HTTP error: Incorrect Image Proxy URL":"Erreur HTTP d'ImageProxy : URL de ImageProxy incorrecte","ImageProxy HTTP error: Rejected request":"Erreur HTTP d'ImageProxy : Requête rejetée","ImageProxy HTTP error: Unknown ImageProxy error":"Erreur HTTP d'ImageProxy : Erreur ImageProxy inconnue","Increase indent":"Augmenter le retrait",Inline:"En ligne",Insert:"Insérer","Insert Template":"Insérer le modèle","Insert accordion":"Insérer un accordéon","Insert column after":"Insérer une colonne après","Insert column before":"Insérer une colonne avant","Insert date/time":"Insérer date/heure","Insert image":"Insérer une image","Insert link (if link plugin activated)":"Insérer un lien (si l'extension 'link' est activée)","Insert row after":"Insérer une ligne après","Insert row before":"Insérer une ligne avant","Insert table":"Insérer un tableau","Insert template...":"Insérer un modèle...","Insert video":"Insérer une vidéo","Insert/Edit code sample":"Insérer / modifier un bloc de code","Insert/edit image":"Insérer/modifier image","Insert/edit link":"Insérer/modifier lien","Insert/edit media":"Insérer/modifier un média","Insert/edit video":"Insérer/modifier une vidéo",Inset:"Incrusté","Invalid hex color code: {0}":"Code couleur hexadécimal invalide : {0}","Invalid input":"Entrée invalide",Italic:"Italique",Justify:"Justifier","Keyboard Navigation":"Navigation au clavier",Language:"Langue","Learn more...":"En savoir plus...",Left:"Gauche","Left to right":"De gauche à droite","Light Blue":"Bleu clair","Light Gray":"Gris clair","Light Green":"Vert clair","Light Purple":"Violet clair","Light Red":"Rouge clair","Light Yellow":"Jaune clair","Line height":"Hauteur de la ligne","Link list":"Liste des liens","Link...":"Lien...","List Properties":"Propriétés de la liste","List properties...":"Lister les propriétés...","Loading emojis...":"Chargement des emojis...","Loading...":"Chargement...","Lower Alpha":"Alphabet en minuscules","Lower Greek":"Alphabet grec en minuscules","Lower Roman":"Chiffre romain inférieur","Match case":"Respecter la casse",Mathematical:"Opérateurs mathématiques","Media poster (Image URL)":"Affiche de média (URL de l'image)","Media...":"Média...","Medium Blue":"Bleu moyen","Medium Gray":"Gris moyen","Medium Purple":"Violet moyen","Merge cells":"Fusionner les cellules",Middle:"Au milieu","Midnight Blue":"Bleu de minuit","More...":"Plus...",Name:"Nom","Navy Blue":"Bleu marine","New document":"Nouveau document","New window":"Nouvelle fenêtre",Next:"Suivante",No:"Non","No alignment":"Aucun alignement","No color":"Aucune couleur","Nonbreaking space":"Espace insécable",None:"Aucun","Numbered list":"Liste numérotée",OR:"OU",Objects:"Objets",Ok:"Ok","Open help dialog":"Ouvrir la boîte de dialogue d'aide","Open link":"Ouvrir le lien","Open link in...":"Ouvrir le lien dans...","Open popup menu for split buttons":"Ouvrir le menu contextuel pour les boutons partagés",Orange:"Orange",Outset:"Relief","Page break":"Saut de page",Paragraph:"Paragraphe",Paste:"Coller","Paste as text":"Coller comme texte","Paste column after":"Coller la colonne après","Paste column before":"Coller la colonne avant","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Le collage est maintenant en mode texte brut. Les contenus seront collés sans retenir les formatages jusqu'à ce que vous désactiviez cette option.","Paste or type a link":"Coller ou taper un lien","Paste row after":"Coller la ligne après","Paste row before":"Coller la ligne avant","Paste your embed code below:":"Collez votre code incorporé ci-dessous :",People:"Personnes",Plugins:"Plug-ins","Plugins installed ({0}):":"Extensions installées ({0}) :","Powered by {0}":"Avec {0}",Pre:"Préformaté",Preferences:"Préférences",Preformatted:"Préformaté","Premium plugins:":"Plug-ins premium :","Press the Up and Down arrow keys to resize the editor.":"Appuyez sur les touches fléchées haut et bas pour redimensionner l'éditeur.","Press the arrow keys to resize the editor.":"Appuyez sur les touches fléchées pour redimensionner l'éditeur.","Press {0} for help":"Appuyez sur {0} pour obtenir de l'aide",Preview:"Aperçu",Previous:"Précédente",Print:"Imprimer","Print...":"Imprimer...",Purple:"Violet",Quotations:"Citations",R:"R","Range 0 to 255":"Plage de 0 à 255",Red:"Rouge","Red component":"Composant rouge",Redo:"Refaire",Remove:"Retiré","Remove color":"Supprimer la couleur","Remove link":"Enlever le lien",Replace:"Remplacer","Replace all":"Remplacer tout","Replace with":"Remplacer par",Resize:"Redimensionner","Restore last draft":"Restaurer le dernier brouillon","Reveal or hide additional toolbar items":"Affichez ou masquez les éléments supplémentaires de la barre d'outils","Rich Text Area":"Zone de Texte Riche","Rich Text Area. Press ALT-0 for help.":"Zone de Texte Riche. Appuyez sur ALT-0 pour l'aide.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Zone de Texte Riche. Appuyez sur ALT-F9 pour le menu. Appuyez sur ALT-F10 pour la barre d'outils. Appuyez sur ALT-0 pour l'aide",Ridge:"Extrudé",Right:"Droite","Right to left":"De droite à gauche",Row:"Ligne","Row clipboard actions":"Actions du presse-papiers des lignes","Row group":"Groupe de lignes","Row header":"En-tête de ligne","Row properties":"Propriétés de la ligne","Row type":"Type de ligne",Rows:"Lignes",Save:"Enregistrer","Save (if save plugin activated)":"Enregistrer (si l'extension 'save' est activée)",Scope:"Étendue",Search:"Rechercher","Select all":"Sélectionner tout","Select...":"Sélectionner...",Selection:"Sélection",Shortcut:"Raccourci","Show blocks":"Afficher les blocs","Show caption":"Afficher une légende","Show invisible characters":"Afficher les caractères invisibles",Size:"Taille",Solid:"Trait continu",Source:"Source","Source code":"Code source","Special Character":"Caractère spécial","Special character...":"Caractère spécial...","Split cell":"Diviser la cellule",Square:"Carré","Start list at number":"Liste de départ au numéro",Strikethrough:"Barré",Style:"Style",Subscript:"Indice",Superscript:"Exposant","Switch to or from fullscreen mode":"Passer en ou quitter le mode plein écran",Symbols:"Symboles","System Font":"Police système",Table:"Tableau","Table caption":"Légende de tableau","Table properties":"Propriétés du tableau","Table styles":"Style tableau",Template:"Modèle",Templates:"Modèles",Text:"Texte","Text color":"Couleur du texte","Text color {0}":"Couleur du texte {0}","Text to display":"Texte à afficher","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"L'URL que vous avez saisie semble être une adresse e-mail. Souhaitez-vous y ajouter le préfixe requis mailto: ?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"L'URL que vous avez saisie semble être un lien externe. Souhaitez-vous y ajouter le préfixe requis mailto: ?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"L'URL que vous avez saisie semble être un lien externe. Voulez-vous ajouter le préfixe https:// requis ?",Title:"Titre","To open the popup, press Shift+Enter":"Pour ouvrir la popup, appuyez sur Maj+Entrée","Toggle accordion":"Activer l'accordéon",Tools:"Outils",Top:"En haut","Travel and Places":"Voyages et lieux",Turquoise:"Turquoise",Underline:"Souligné",Undo:"Annuler",Upload:"Télécharger","Uploading image":"Téléversement d'une image","Upper Alpha":"Alphabet en majuscules","Upper Roman":"Chiffre romain supérieur",Url:"URL","User Defined":"Défini par l'utilisateur",Valid:"Valide",Version:"Version","Vertical align":"Alignement vertical","Vertical space":"Espace vertical",View:"Afficher","Visual aids":"Aides visuelles",Warn:"Avertir",White:"Blanc",Width:"Largeur","Word count":"Nombre de mots",Words:"Mots","Words: {0}":"Mots : {0}",Yellow:"Jaune",Yes:"Oui","You are using {0}":"Vous utilisez {0}","You have unsaved changes are you sure you want to navigate away?":"Vous avez des modifications non enregistrées, êtes-vous sûr de vouloir quitter la page ?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Votre navigateur ne supporte pas l’accès direct au presse-papiers. Merci d'utiliser les raccourcis clavier Ctrl+X/C/V.",alignment:"alignement","austral sign":"Symbole austral","cedi sign":"Symbole cedi","colon sign":"symbole colón","cruzeiro sign":"Symbole cruzeiro","currency sign":"symbole devise","dollar sign":"symbole dollar","dong sign":"Symbole dong","drachma sign":"Symbole drachme","euro-currency sign":"symbole euro",example:"exemple",formatting:"mise en forme","french franc sign":"symbole franc français","german penny symbol":"Symbole pfennig","guarani sign":"Symbole guarani",history:"historique","hryvnia sign":"Symbole hryvnia",indentation:"retrait","indian rupee sign":"Symbole roupie indienne","kip sign":"Symbole kip","lira sign":"Symbole lire","livre tournois sign":"Symbole livre tournois","manat sign":"Symbole manat","mill sign":"Symbole millième","naira sign":"Symbole naira","new sheqel sign":"Symbole nouveau chékel","nordic mark sign":"Symbole du mark nordique","peseta sign":"Symbole peseta","peso sign":"Symbole peso","ruble sign":"Symbole rouble","rupee sign":"Symbole roupie","spesmilo sign":"Symbole spesmilo",styles:"styles","tenge sign":"Symbole tenge","tugrik sign":"Symbole tougrik","turkish lira sign":"Symbole lire turque","won sign":"Symbole won","yen character":"Sinogramme Yen","yen/yuan character variant one":"Sinogramme Yen/Yuan, première variante","yuan character":"Sinogramme Yuan","yuan character, in hong kong and taiwan":"Sinogramme Yuan, Hong Kong et Taiwan","{0} characters":"{0} caractères","{0} columns, {1} rows":" {0} colonnes, {1} lignes","{0} words":"{0} mots"});var xte=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],vte=function(ne){return xte.map(function(fe){return fe.toLowerCase()}).indexOf(ne.toLowerCase())!==-1},yte=function(ne,fe,Pe){Object.keys(fe).filter(vte).forEach(function(_e){var Qe=fe[_e];typeof Qe=="function"&&(_e==="onInit"?Qe(ne,Pe):Pe.on(_e.substring(2),function(Oe){return Qe(Oe,Pe)}))})},wte=function(ne,fe,Pe,_e){var Qe=ne.modelEvents?ne.modelEvents:null,Oe=Array.isArray(Qe)?Qe.join(" "):Qe;Kb(_e,function(ke,Be){Pe&&typeof ke=="string"&&ke!==Be&&ke!==Pe.getContent({format:ne.outputFormat})&&Pe.setContent(ke)}),Pe.on(Oe||"change input undo redo",function(){fe.emit("update:modelValue",Pe.getContent({format:ne.outputFormat}))})},_te=function(ne,fe,Pe,_e,Qe,Oe){_e.setContent(Oe()),Pe.attrs["onUpdate:modelValue"]&&wte(fe,Pe,_e,Qe),yte(ne,Pe.attrs,_e)},QV=0,w$=function(ne){var fe=Date.now(),Pe=Math.floor(Math.random()*1e9);return QV++,ne+"_"+Pe+QV+String(fe)},Cte=function(ne){return ne!==null&&ne.tagName.toLowerCase()==="textarea"},JV=function(ne){return typeof ne>"u"||ne===""?[]:Array.isArray(ne)?ne:ne.split(" ")},kte=function(ne,fe){return JV(ne).concat(JV(fe))},Ste=function(ne){return ne==null},e$=function(ne){var fe;return typeof((fe=ne.options)===null||fe===void 0?void 0:fe.set)=="function"&&ne.options.isRegistered("disabled")},t$=function(){return{listeners:[],scriptId:w$("tiny-script"),scriptLoaded:!1}},Ete=function(){var ne=t$(),fe=function(Qe,Oe,ke,Be){var We=Oe.createElement("script");We.referrerPolicy="origin",We.type="application/javascript",We.id=Qe,We.src=ke;var tt=function(){We.removeEventListener("load",tt),Be()};We.addEventListener("load",tt),Oe.head&&Oe.head.appendChild(We)},Pe=function(Qe,Oe,ke){ne.scriptLoaded?ke():(ne.listeners.push(ke),Qe.getElementById(ne.scriptId)||fe(ne.scriptId,Qe,Oe,function(){ne.listeners.forEach(function(Be){return Be()}),ne.scriptLoaded=!0}))},_e=function(){ne=t$()};return{load:Pe,reinitialize:_e}},Ate=Ete(),Tte=function(){return typeof window<"u"?window:global},U2=function(){var ne=Tte();return ne&&ne.tinymce?ne.tinymce:null},Dte={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(ne){return ne==="html"||ne==="text"}}},oh=function(){return oh=Object.assign||function(ne){for(var fe,Pe=1,_e=arguments.length;Pe<_e;Pe++){fe=arguments[Pe];for(var Qe in fe)Object.prototype.hasOwnProperty.call(fe,Qe)&&(ne[Qe]=fe[Qe])}return ne},oh.apply(this,arguments)},Ote=function(ne,fe,Pe,_e){return ne(_e||"div",{id:fe,ref:Pe})},Rte=function(ne,fe,Pe){return ne("textarea",{id:fe,visibility:"hidden",ref:Pe})},zL={selector:void 0,target:void 0},HL=function(ne,fe){var Pe;typeof((Pe=ne.mode)===null||Pe===void 0?void 0:Pe.set)=="function"?ne.mode.set(fe):ne.setMode(fe)},_$=Vr({props:Dte,setup:function(ne,fe){var Pe=ne.init?oh(oh({},ne.init),zL):oh({},zL),_e=IJ(ne),Qe=_e.disabled,Oe=_e.readonly,ke=_e.modelValue,Be=_e.tagName,We=Ao(null),tt=null,Et=ne.id||w$("tiny-vue"),kt=ne.init&&ne.init.inline||ne.inline,Je=!!fe.attrs["onUpdate:modelValue"],ye=!0,ot=ne.initialValue?ne.initialValue:"",Bt="",yt=function(Re){return Je?function(){return ke?.value?ke.value:""}:function(){return Re?ot:Bt}},ue=function(){var Re=yt(ye),te=oh(oh({},Pe),{disabled:ne.disabled,readonly:ne.readonly,target:We.value,plugins:kte(Pe.plugins,ne.plugins),toolbar:ne.toolbar||Pe.toolbar,inline:kt,license_key:ne.licenseKey,setup:function(gt){tt=gt,!e$(tt)&&ne.disabled===!0&&HL(tt,"readonly"),gt.on("init",function(me){return _te(me,ne,fe,gt,ke,Re)}),typeof Pe.setup=="function"&&Pe.setup(gt)}});Cte(We.value)&&(We.value.style.visibility=""),U2().init(te),ye=!1};Kb(Oe,function(Re){tt!==null&&HL(tt,Re?"readonly":"design")}),Kb(Qe,function(Re){tt!==null&&(e$(tt)?tt.options.set("disabled",Re):HL(tt,Re?"readonly":"design"))}),Kb(Be,function(Re){var te;tt&&(Je||(Bt=tt.getContent()),(te=U2())===null||te===void 0||te.remove(tt),cR(function(){return ue()}))}),Ld(function(){if(U2()!==null)ue();else if(We.value&&We.value.ownerDocument){var Re=ne.cloudChannel?ne.cloudChannel:"8",te=ne.apiKey?ne.apiKey:"no-api-key",gt=Ste(ne.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(te,"/tinymce/").concat(Re,"/tinymce.min.js"):ne.tinymceScriptSrc;Ate.load(We.value.ownerDocument,gt,ue)}}),PJ(function(){U2()!==null&&U2().remove(tt)}),kt||(LJ(function(){ye||ue()}),FJ(function(){var Re;tt&&(Je||(Bt=tt.getContent()),(Re=U2())===null||Re===void 0||Re.remove(tt))}));var pe=function(Re){var te;tt&&(Bt=tt.getContent(),(te=U2())===null||te===void 0||te.remove(tt),Pe=oh(oh(oh({},Pe),Re),zL),cR(function(){return ue()}))};return fe.expose({rerender:pe,getEditor:function(){return tt}}),function(){return kt?Ote(kV,Et,We,ne.tagName):Rte(kV,Et,We)}}});const Nte=W2({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...JE()},"VColorPickerCanvas"),Mte=eA({name:"VColorPickerCanvas",props:Nte(),emits:{"update:color":ne=>!0,"update:position":ne=>!0},setup(ne,fe){let{emit:Pe}=fe;const _e=LL(!1),Qe=Ao(),Oe=LL(parseFloat(ne.width)),ke=LL(parseFloat(ne.height)),Be=Ao({x:0,y:0}),We=fr({get:()=>Be.value,set(yt){if(!Qe.value)return;const{x:ue,y:pe}=yt;Be.value=yt,Pe("update:color",{h:ne.color?.h??0,s:sR(ue,0,Oe.value)/Oe.value,v:1-sR(pe,0,ke.value)/ke.value,a:ne.color?.a??1})}}),tt=fr(()=>{const{x:yt,y:ue}=We.value,pe=parseInt(ne.dotSize,10)/2;return{width:BC(ne.dotSize),height:BC(ne.dotSize),transform:`translate(${BC(yt-pe)}, ${BC(ue-pe)})`}}),{resizeRef:Et}=zJ(yt=>{if(!Et.el?.offsetParent)return;const{width:ue,height:pe}=yt[0].contentRect;Oe.value=ue,ke.value=pe});function kt(yt,ue,pe){const{left:Re,top:te,width:gt,height:me}=pe;We.value={x:sR(yt-Re,0,gt),y:sR(ue-te,0,me)}}function Je(yt){yt.type==="mousedown"&&yt.preventDefault(),!ne.disabled&&(ye(yt),window.addEventListener("mousemove",ye),window.addEventListener("mouseup",ot),window.addEventListener("touchmove",ye),window.addEventListener("touchend",ot))}function ye(yt){if(ne.disabled||!Qe.value)return;_e.value=!0;const ue=HJ(yt);kt(ue.clientX,ue.clientY,Qe.value.getBoundingClientRect())}function ot(){window.removeEventListener("mousemove",ye),window.removeEventListener("mouseup",ot),window.removeEventListener("touchmove",ye),window.removeEventListener("touchend",ot)}function Bt(){if(!Qe.value)return;const yt=Qe.value,ue=yt.getContext("2d");if(!ue)return;const pe=ue.createLinearGradient(0,0,yt.width,0);pe.addColorStop(0,"hsla(0, 0%, 100%, 1)"),pe.addColorStop(1,`hsla(${ne.color?.h??0}, 100%, 50%, 1)`),ue.fillStyle=pe,ue.fillRect(0,0,yt.width,yt.height);const Re=ue.createLinearGradient(0,0,0,yt.height);Re.addColorStop(0,"hsla(0, 0%, 0%, 0)"),Re.addColorStop(1,"hsla(0, 0%, 0%, 1)"),ue.fillStyle=Re,ue.fillRect(0,0,yt.width,yt.height)}return Kb(()=>ne.color?.h,Bt,{immediate:!0}),Kb(()=>[Oe.value,ke.value],(yt,ue)=>{Bt(),Be.value={x:We.value.x*yt[0]/ue[0],y:We.value.y*yt[1]/ue[1]}},{flush:"post"}),Kb(()=>ne.color,()=>{if(_e.value){_e.value=!1;return}Be.value=ne.color?{x:ne.color.s*Oe.value,y:(1-ne.color.v)*ke.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Ld(()=>Bt()),q2(()=>qo("div",{ref:Et,class:Z1(["v-color-picker-canvas",ne.class]),style:LC(ne.style),onMousedown:Je,onTouchstartPassive:Je},[qo("canvas",{ref:Qe,width:Oe.value,height:ke.value},null),ne.color&&qo("div",{class:Z1(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":ne.disabled}]),style:LC(tt.value)},null)])),{}}});function Bte(ne,fe){if(fe){const{a:Pe,..._e}=ne;return _e}return ne}function Ite(ne,fe){if(fe==null||typeof fe=="string"){const Pe=ne.a!==1;if(fe?.startsWith("rgb(")){const{r:Qe,g:Oe,b:ke,a:Be}=ZL(ne);return`rgb(${Qe} ${Oe} ${ke}`+(Pe?` / ${Be})`:")")}else if(fe?.startsWith("hsl(")){const{h:Qe,s:Oe,l:ke,a:Be}=UL(ne);return`hsl(${Qe} ${Math.round(Oe*100)} ${Math.round(ke*100)}`+(Pe?` / ${Be})`:")")}const _e=m$(ne);return ne.a===1?_e.slice(0,7):_e}if(typeof fe=="object"){let Pe;return rR(fe,["r","g","b"])?Pe=ZL(ne):rR(fe,["h","s","l"])?Pe=UL(ne):rR(fe,["h","s","v"])&&(Pe=ne),Bte(Pe,!rR(fe,["a"])&&ne.a===1)}return ne}const IC={h:0,s:0,v:0,a:1},WL={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:ne=>Math.round(ne.r),getColor:(ne,fe)=>({...ne,r:Number(fe)}),localeKey:"redInput"},{label:"G",max:255,step:1,getValue:ne=>Math.round(ne.g),getColor:(ne,fe)=>({...ne,g:Number(fe)}),localeKey:"greenInput"},{label:"B",max:255,step:1,getValue:ne=>Math.round(ne.b),getColor:(ne,fe)=>({...ne,b:Number(fe)}),localeKey:"blueInput"},{label:"A",max:1,step:.01,getValue:ne=>{let{a:fe}=ne;return fe!=null?Math.round(fe*100)/100:1},getColor:(ne,fe)=>({...ne,a:Number(fe)}),localeKey:"alphaInput"}],to:ZL,from:dR},Pte={...WL,inputs:WL.inputs?.slice(0,3)},qL={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:ne=>Math.round(ne.h),getColor:(ne,fe)=>({...ne,h:Number(fe)}),localeKey:"hueInput"},{label:"S",max:1,step:.01,getValue:ne=>Math.round(ne.s*100)/100,getColor:(ne,fe)=>({...ne,s:Number(fe)}),localeKey:"saturationInput"},{label:"L",max:1,step:.01,getValue:ne=>Math.round(ne.l*100)/100,getColor:(ne,fe)=>({...ne,l:Number(fe)}),localeKey:"lightnessInput"},{label:"A",max:1,step:.01,getValue:ne=>{let{a:fe}=ne;return fe!=null?Math.round(fe*100)/100:1},getColor:(ne,fe)=>({...ne,a:Number(fe)}),localeKey:"alphaInput"}],to:UL,from:$J},Lte={...qL,inputs:qL.inputs.slice(0,3)},C$={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:ne=>ne,getColor:(ne,fe)=>fe,localeKey:"hexaInput"}],to:m$,from:VJ},Fte={...C$,inputs:[{label:"HEX",getValue:ne=>ne.slice(0,7),getColor:(ne,fe)=>fe,localeKey:"hexInput"}]},Z2={rgb:Pte,rgba:WL,hsl:Lte,hsla:qL,hex:Fte,hexa:C$},zte=ne=>{let{label:fe,...Pe}=ne;return qo("div",{class:"v-color-picker-edit__input"},[qo("input",UJ(ZJ(Pe)),null),qo("span",null,[fe])])},Hte=W2({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:ne=>Object.keys(Z2).includes(ne)},modes:{type:Array,default:()=>Object.keys(Z2),validator:ne=>Array.isArray(ne)&&ne.every(fe=>Object.keys(Z2).includes(fe))},...JE()},"VColorPickerEdit"),Vte=eA({name:"VColorPickerEdit",props:Hte(),emits:{"update:color":ne=>!0,"update:mode":ne=>!0},setup(ne,fe){let{emit:Pe}=fe;const{t:_e}=g$(),Qe=fr(()=>ne.modes.map(ke=>({...Z2[ke],name:ke}))),Oe=fr(()=>{const ke=Qe.value.find(We=>We.name===ne.mode);if(!ke)return[];const Be=ne.color?ke.to(ne.color):null;return ke.inputs?.map(We=>{let{getValue:tt,getColor:Et,localeKey:kt,...Je}=We;return{...ke.inputProps,...Je,ariaLabel:_e(`$vuetify.colorPicker.ariaLabel.${kt}`),disabled:ne.disabled,value:Be&&tt(Be),onChange:ye=>{const ot=ye.target;ot&&Pe("update:color",ke.from(Et(Be??ke.to(IC),ot.value)))}}})});return q2(()=>qo("div",{class:Z1(["v-color-picker-edit",ne.class]),style:LC(ne.style)},[Oe.value?.map(ke=>z(zte,ke,null)),Qe.value.length>1&&z(Do,{icon:"$unfold",size:"x-small",variant:"plain","aria-label":_e("$vuetify.colorPicker.ariaLabel.changeFormat"),onClick:()=>{const ke=Qe.value.findIndex(Be=>Be.name===ne.mode);Pe("update:mode",Qe.value[(ke+1)%Qe.value.length].name)}},null)])),{}}}),k$=W2({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,hideEyeDropper:Boolean,eyeDropperIcon:{type:jJ,default:"$eyeDropper"},...JE()},"VColorPickerPreview"),$te=eA({name:"VColorPickerPreview",props:k$(),emits:{"update:color":ne=>!0},setup(ne,fe){let{emit:Pe}=fe;const{t:_e}=g$(),Qe=new AbortController;WJ(()=>Qe.abort());async function Oe(){if(!SV||ne.disabled)return;const ke=new window.EyeDropper;try{const Be=await ke.open({signal:Qe.signal}),We=dR(YL(Be.sRGBHex));Pe("update:color",{...ne.color??IC,...We})}catch{}}return q2(()=>qo("div",{class:Z1(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":ne.hideAlpha},ne.class]),style:LC(ne.style)},[SV&&!ne.hideEyeDropper&&qo("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[z(Do,{"aria-label":_e("$vuetify.colorPicker.ariaLabel.eyedropper"),density:"comfortable",disabled:ne.disabled,icon:ne.eyeDropperIcon,variant:"plain",onClick:Oe},null)]),qo("div",{class:"v-color-picker-preview__dot"},[qo("div",{style:{background:f$(ne.color??IC)}},null)]),qo("div",{class:"v-color-picker-preview__sliders"},[z(DV,{class:"v-color-picker-preview__track v-color-picker-preview__hue",name:_e("$vuetify.colorPicker.ariaLabel.hueSlider"),modelValue:ne.color?.h,"onUpdate:modelValue":ke=>Pe("update:color",{...ne.color??IC,h:ke}),step:0,min:0,max:360,disabled:ne.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!ne.hideAlpha&&z(DV,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",name:_e("$vuetify.colorPicker.ariaLabel.alphaSlider"),modelValue:ne.color?.a??1,"onUpdate:modelValue":ke=>Pe("update:color",{...ne.color??IC,a:ke}),step:1/256,min:0,max:1,disabled:ne.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])),{}}}),Ute={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Zte={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},jte={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Wte={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},qte={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Gte={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Kte={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},Yte={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Xte={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},Qte={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},Jte={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},eoe={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},toe={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},ooe={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},noe={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},soe={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},roe={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},aoe={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},ioe={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},loe={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},coe={red:Ute,pink:Zte,purple:jte,deepPurple:Wte,indigo:qte,blue:Gte,lightBlue:Kte,cyan:Yte,teal:Xte,green:Qte,lightGreen:Jte,lime:eoe,yellow:toe,amber:ooe,orange:noe,deepOrange:soe,brown:roe,blueGrey:aoe,grey:ioe,shades:loe},doe=W2({swatches:{type:Array,default:()=>uoe(coe)},disabled:Boolean,color:Object,maxHeight:[Number,String],...JE()},"VColorPickerSwatches");function uoe(ne){return Object.keys(ne).map(fe=>{const Pe=ne[fe];return Pe.base?[Pe.base,Pe.darken4,Pe.darken3,Pe.darken2,Pe.darken1,Pe.lighten1,Pe.lighten2,Pe.lighten3,Pe.lighten4,Pe.lighten5]:[Pe.black,Pe.white,Pe.transparent]})}const moe=eA({name:"VColorPickerSwatches",props:doe(),emits:{"update:color":ne=>!0},setup(ne,fe){let{emit:Pe}=fe;return q2(()=>qo("div",{class:Z1(["v-color-picker-swatches",ne.class]),style:LC([{maxHeight:BC(ne.maxHeight)},ne.style])},[qo("div",null,[ne.swatches.map(_e=>qo("div",{class:"v-color-picker-swatches__swatch"},[_e.map(Qe=>{const Oe=YL(Qe),ke=dR(Oe),Be=qJ(Oe);return qo("div",{class:"v-color-picker-swatches__color",onClick:()=>ke&&Pe("update:color",ke)},[qo("div",{style:{background:Be}},[ne.color&&GJ(ne.color,ke)?z(Vn,{size:"x-small",icon:"$success",color:KJ(Qe,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),goe=W2({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:ne=>Object.keys(Z2).includes(ne)},modes:{type:Array,default:()=>Object.keys(Z2),validator:ne=>Array.isArray(ne)&&ne.every(fe=>Object.keys(Z2).includes(fe))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...xee({hideHeader:!0}),...JJ(k$(),["hideEyeDropper","eyeDropperIcon"])},"VColorPicker"),foe=eA({name:"VColorPicker",props:goe(),emits:{"update:modelValue":ne=>!0,"update:mode":ne=>!0},setup(ne,fe){let{slots:Pe}=fe;const _e=EV(ne,"mode"),Qe=Ao(null),Oe=EV(ne,"modelValue",void 0,Et=>{if(Et==null||Et==="")return null;let kt;try{kt=dR(YL(Et))}catch{return null}return kt},Et=>Et?Ite(Et,ne.modelValue):null),ke=fr(()=>Oe.value?{...Oe.value,h:Qe.value??Oe.value.h}:null),{rtlClasses:Be}=YJ();let We=!0;Kb(Oe,Et=>{if(!We){We=!0;return}Et&&(Qe.value=Et.h)},{immediate:!0});const tt=Et=>{We=!1,Qe.value=Et.h,Oe.value=Et};return XJ(()=>{ne.modes.includes(_e.value)||(_e.value=ne.modes[0])}),QJ({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),q2(()=>{const Et=TV.filterProps(ne);return z(TV,ku(Et,{class:["v-color-picker",Be.value,ne.class],style:[{"--v-color-picker-color-hsv":f$({...ke.value??IC,a:1})},ne.style]}),{...Pe,default:()=>qo(Is,null,[!ne.hideCanvas&&z(Mte,{key:"canvas",color:ke.value,"onUpdate:color":tt,disabled:ne.disabled,dotSize:ne.dotSize,width:ne.width,height:ne.canvasHeight},null),(!ne.hideSliders||!ne.hideInputs)&&qo("div",{key:"controls",class:"v-color-picker__controls"},[!ne.hideSliders&&z($te,{key:"preview",color:ke.value,"onUpdate:color":tt,hideAlpha:!_e.value.endsWith("a"),disabled:ne.disabled,hideEyeDropper:ne.hideEyeDropper,eyeDropperIcon:ne.eyeDropperIcon},null),!ne.hideInputs&&z(Vte,{key:"edit",modes:ne.modes,mode:_e.value,"onUpdate:mode":kt=>_e.value=kt,color:ke.value,"onUpdate:color":tt,disabled:ne.disabled},null)]),ne.showSwatches&&z(moe,{key:"swatches",color:ke.value,"onUpdate:color":tt,maxHeight:ne.swatchesMaxHeight,swatches:ne.swatches,disabled:ne.disabled},null)])})}),{}}}),poe=Vr({__name:"ColorField",props:l$({label:{},swatches:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(ne){const fe=ne,Pe=c$(ne,"modelValue");function _e(Oe){Pe.value=Oe.substring(0,7)}const Qe=fr(()=>{const Oe=[];let ke=fe.swatches.length,Be=5;for(let We=0;We<ke;We+=Be)Oe.push(fe.swatches.slice(We,We+Be));return Oe});return(Oe,ke)=>(_t(),co(ca,null,{default:U(()=>[z(sn,{"align-self":"center"},{default:U(()=>[Ct(rr(fe.label),1)]),_:1}),z(sn,{"align-self":"center",cols:"auto"},{default:U(()=>[z(Sg,{top:"","close-on-content-click":!1},{activator:U(({props:Be})=>[z(Do,ku({color:Pe.value},Be,{width:"90px"}),null,16,["color"])]),default:U(()=>[z(Xs,null,{default:U(()=>[z(Hs,{class:"pa-0"},{default:U(()=>[z(foe,{value:Pe.value||"#252EBC","onUpdate:modelValue":_e,flat:"",swatches:Qe.value,"show-swatches":"","hide-canvas":"","hide-sliders":"",mode:"hex"},null,8,["value","swatches"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),hoe=Vr({__name:"LettreOptionsCard",props:{options:{}},emits:["save"],setup(ne,{emit:fe}){const Pe=ne,_e=fe,Qe=Ao(PC(Pe.options)),Oe=["#BFEDD2","#FBEEB8","#F8CAC6","#ECCAFA","#C2E0F4","#2DC26B","#F1C40F","#E03E2D","#B96AD9","#3598DB","#169179","#E67E23","#BA372A","#843FA1","#236FA1","#ECF0F1","#CED4D9","#95A5A6","#7E8C8D","#34495E","#000000","#ffffff"];return(ke,Be)=>{const We=poe;return _t(),co(Xs,{title:"Options de l'entête"},{default:U(()=>[z(Hs,null,{default:U(()=>[z(ca,null,{default:U(()=>[z(sn,null,{default:U(()=>[z(Yb,{color:"primary",density:"compact",modelValue:Qe.value.UseCoordCentre,"onUpdate:modelValue":Be[0]||(Be[0]=tt=>Qe.value.UseCoordCentre=tt),hint:"Activer pour remplacer les coordonnées du directeur par ceux du centre, dans l'entête de la lettre.","persistent-hint":"",label:"Coordonnées du centre"},null,8,["modelValue"])]),_:1}),z(sn,{cols:"5"},{default:U(()=>[eee(z(Yb,{color:"primary",density:"compact",modelValue:Qe.value.ShowAdressePostale,"onUpdate:modelValue":Be[1]||(Be[1]=tt=>Qe.value.ShowAdressePostale=tt),hint:"Afficher l'adresse postale du directeur.","persistent-hint":"",label:"Ajouter l'adresse postale"},null,8,["modelValue"]),[[tee,!Qe.value.UseCoordCentre]])]),_:1})]),_:1}),z(ca,{class:"mt-4"},{default:U(()=>[z(sn,{cols:"6"},{default:U(()=>[z(We,{label:"Couleur du texte de l'entête",modelValue:Qe.value.ColorCoord,"onUpdate:modelValue":Be[2]||(Be[2]=tt=>Qe.value.ColorCoord=tt),swatches:Oe},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{color:"success",onClick:Be[3]||(Be[3]=tt=>_e("save",Qe.value))},{default:U(()=>[...Be[4]||(Be[4]=[Ct("Enregistrer",-1)])]),_:1})]),_:1})]),_:1})}}}),boe=["data"],xoe=`<p><span style="font-size: 12pt; color: #3598db;" data-mce-style="font-size: 12pt; color: #3598db;">ESPACE PERSONNEL</span></p><p>Lors de votre inscription, un espace personnel de suivi vous a été attribué et un lien vers celui-ci envoyé dans le mail de confirmation (<span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Mon</span> <span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Dossier</span>). Dans cet espace vous trouverez :</p><ul><li>le <strong>suivi financier</strong> : vous pourrez alors joindre en ligne les aides auxquelles vous avez droit</li><li>les <strong>documents liés au séjour</strong> : liste de vêtement, lettre aux parents, plan d’accès au site ...</li><li>les <strong>documents à compléter</strong> ou joindre en ligne : test d'aisance aquatique si besoin ...</li><li>l'<strong>album photo</strong> du séjour</li><li>la <strong>fiche sanitaire</strong> à compléter en ligne</li></ul><p><em>TOUTES LES INFOS ET DOCUMENTS DU SÉJOUR SE TROUVENT DANS VOTRE ESPACE DÉDIÉ.</em></p>`,voe=Vr({__name:"PannelLettre",setup(ne){Ld(Pe);const fe=Ao(null);async function Pe(){const kt=await qt.LettreGet();kt!==void 0&&(kt.File.Id==0&&kt.Lettre.Html==""&&(kt.Lettre.Html=xoe),fe.value=kt)}const _e=fr(()=>{const kt=fe.value?.File;return kt?kt.Id==0?"En attente de création":`Enregistrée le ${Gb.time(kt.Uploaded)} (taille : ${Gb.size(kt.Taille)})`:""}),Qe=fr(()=>({language:"fr_FR",height:"75vh",plugins:["lists","advlist","image","code","link"],menubar:!1,statusbar:!1,paste_data_images:!0,image_advtab:!1,browser_spellcheck:!0,contextmenu:[],font_formats:"Arial=arial;",toolbar:["undo redo | cut copy paste | bold italic underline strikethrough | fontsize |  forecolor backcolor current_backcolor  |  alignleft aligncenter alignright | bullist numlist outdent indent | image styles link"],target_list:[{title:"Nouvelle page",value:"_blank"}],link_title:!1,link_assume_external_targets:!0,relative_urls:!1,remove_script_host:!1,image_description:!1,images_upload_url:QE.LettreImageUpload(qt.authToken),automatic_uploads:!0,formats:{imageMargin:{selector:"img",styles:{marginRight:"20px"}}},style_formats:[{title:"Espacer l'image à droite",format:"imageMargin"}]})),Oe=Ao(!1);async function ke(){if(fe.value==null)return;Oe.value=!0;const kt=await qt.LettreUpdate(fe.value.Lettre);Oe.value=!1,kt!==void 0&&(qt.showMessage("Lettre enregistrée avec succès."),fe.value=kt,tt.value=!0)}const Be=Ao(!1);async function We(kt){fe.value&&(Be.value=!1,fe.value.Lettre.UseCoordCentre=kt.UseCoordCentre,fe.value.Lettre.ShowAdressePostale=kt.ShowAdressePostale,fe.value.Lettre.ColorCoord=kt.ColorCoord,ke())}const tt=Ao(!1),Et=fr(()=>fe.value?QE.LoadDocument(fe.value.File.Key):"");return(kt,Je)=>(_t(),vn(Is,null,[fe.value==null?(_t(),co(sh,{key:0,type:"card"})):gr("",!0),z(Xs,{class:"mt-2 mx-auto",title:"Editer la lettre",subtitle:_e.value,"max-width":"800px"},{append:U(()=>[z(Do,{class:"mx-2",onClick:Je[0]||(Je[0]=ye=>Be.value=!0)},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...Je[4]||(Je[4]=[Ct("mdi-cog",-1)])]),_:1})]),default:U(()=>[Je[5]||(Je[5]=Ct(" Options",-1))]),_:1}),z(qi,{thickness:"2",vertical:""}),Oe.value?(_t(),co(lR,{key:0,color:"primary",indeterminate:"",class:"mx-2",size:"42"})):(_t(),co(j2,{key:1,text:"Enregistrer et visualiser"},{activator:U(({props:ye})=>[z(Do,ku(ye,{class:"mx-2",icon:"mdi-content-save",onClick:ke,disabled:!fe.value}),null,16,["disabled"])]),_:1}))]),default:U(()=>[fe.value?(_t(),co(Hs,{key:0},{default:U(()=>[z(Dn(_$),{licenseKey:"gpl",modelValue:fe.value.Lettre.Html,"onUpdate:modelValue":Je[1]||(Je[1]=ye=>fe.value.Lettre.Html=ye),init:Qe.value},null,8,["modelValue","init"])]),_:1})):gr("",!0)]),_:1},8,["subtitle"]),z(Xa,{modelValue:Be.value,"onUpdate:modelValue":Je[2]||(Je[2]=ye=>Be.value=ye),"max-width":"800px"},{default:U(()=>[fe.value?(_t(),co(hoe,{key:0,options:{UseCoordCentre:fe.value.Lettre.UseCoordCentre,ShowAdressePostale:fe.value.Lettre.ShowAdressePostale,ColorCoord:fe.value.Lettre.ColorCoord},onSave:We},null,8,["options"])):gr("",!0)]),_:1},8,["modelValue"]),z(Xa,{modelValue:tt.value,"onUpdate:modelValue":Je[3]||(Je[3]=ye=>tt.value=ye)},{default:U(()=>[tt.value?(_t(),vn("object",{key:0,type:"application/pdf",data:Et.value,style:{height:"95vh"}},null,8,boe)):gr("",!0)]),_:1},8,["modelValue"])],64))}}),yoe={key:0,class:"mr-4"},woe=Vr({__name:"AddDemandeCard",props:{availableDemandes:{},selectedDemandes:{}},emits:["selected","created","updated","deleted"],setup(ne,{emit:fe}){const Pe=ne,_e=fe;async function Qe(){const yt=await qt.DocumentsCreateDemande();yt!==void 0&&(_e("created",yt),Oe.value=PC(yt))}const Oe=Ao(null);async function ke(){const yt=Oe.value;yt==null||(Oe.value=null,await qt.DocumentsUpdateDemande(yt.Demande)===void 0)||(qt.showMessage("Modifications enregistrées avec succès."),_e("updated",yt))}const Be=Ao(null);async function We(){const yt=Be.value;yt==null||(Be.value=null,await qt.DocumentsDeleteDemande({idDemande:yt.Id})===void 0)||(qt.showMessage("Demande supprimée avec succès."),_e("deleted",yt))}const tt=Ao(null),Et=KL("fileInput"),kt=Ao(null);function Je(yt){tt.value=yt,cR(()=>Et.value?.openDialog())}async function ye(){const yt=tt.value,ue=kt.value;if(ue==null||yt==null)return;tt.value=null,kt.value=null;const pe=await qt.DocumentsUploadDemandeFile(ue,{idDemande:yt.Demande.Id});pe!==void 0&&(qt.showMessage("Document téléversé avec succès."),_e("updated",{Demande:yt.Demande,File:pe}))}const ot=Ao(null);async function Bt(){const yt=ot.value;yt==null||(ot.value=null,await qt.DocumentsDeleteDemandeFile({key:yt.File.Key})===void 0)||(qt.showMessage("Document supprimé avec succès."),_e("updated",{Demande:yt.Demande,File:{Id:0,Key:"",NomClient:"",Taille:0,Uploaded:""}}))}return(yt,ue)=>{const pe=XL,Re=b$,te=x$;return _t(),co(Xs,{title:"Demander un document",subtitle:"Les familles devront fournir ce document sur leur espace personnel.",class:"ma-2"},{append:U(()=>[z(Do,{onClick:Qe},{prepend:U(()=>[z(Vn,{color:"green"},{default:U(()=>[...ue[8]||(ue[8]=[Ct("mdi-plus",-1)])]),_:1})]),default:U(()=>[ue[9]||(ue[9]=Ct(" Nouvelle demande",-1))]),_:1})]),default:U(()=>[z(Hs,null,{default:U(()=>[z(mc,null,{default:U(()=>[Pe.availableDemandes.length?gr("",!0):(_t(),co(cs,{key:0,class:"text-center"},{default:U(()=>[...ue[10]||(ue[10]=[qo("i",null,"Aucune demande.",-1)])]),_:1})),(_t(!0),vn(Is,null,Ya(Pe.availableDemandes,gt=>(_t(),co(cs,ku({title:gt.Demande.Description,subtitle:gt.Demande.IdDirecteur.Valid?"Demande vous appartenant":"Demande globale",rounded:"",class:"my-1"},{[oee(!Pe.selectedDemandes.includes(gt.Demande.Id)&&"click")]:me=>_e("selected",gt.Demande)}),GL({append:U(()=>[gt.File.Id!=0?(_t(),vn("div",yoe,[z(pe,{file:gt.File,onDelete:me=>ot.value=gt},null,8,["file","onDelete"])])):(_t(),co(Do,{key:1,size:"small",class:"mr-2",onClick:aR(me=>Je(gt),["stop"])},{prepend:U(()=>[z(Vn,{color:"green",icon:"mdi-upload"})]),default:U(()=>[ue[12]||(ue[12]=Ct(" Document à remplir ",-1))]),_:1},8,["onClick"])),z(Do,{icon:"",size:"x-small",class:"mx-1",onClick:aR(me=>Oe.value=gt,["stop"]),disabled:!gt.Demande.IdDirecteur.Valid},{default:U(()=>[z(Vn,null,{default:U(()=>[...ue[13]||(ue[13]=[Ct("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick","disabled"]),z(Do,{icon:"",size:"x-small",class:"mx-1",onClick:aR(me=>Be.value=gt.Demande,["stop"]),disabled:!gt.Demande.IdDirecteur.Valid},{default:U(()=>[z(Vn,{color:"red"},{default:U(()=>[...ue[14]||(ue[14]=[Ct("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick","disabled"])]),_:2},[Pe.selectedDemandes.includes(gt.Demande.Id)?{name:"prepend",fn:U(()=>[z(Vn,{color:"green"},{default:U(()=>[...ue[11]||(ue[11]=[Ct("mdi-check",-1)])]),_:1})]),key:"0"}:void 0]),1040,["title","subtitle"]))),256))]),_:1})]),_:1}),z(Xa,{"model-value":Be.value!=null,"onUpdate:modelValue":ue[0]||(ue[0]=gt=>Be.value=null),"max-width":"400px"},{default:U(()=>[Be.value?(_t(),co(Xs,{key:0,title:"Confirmer la suppression"},{default:U(()=>[z(Hs,null,{default:U(()=>[...ue[15]||(ue[15]=[Ct(" Confirmez-vous la suppression de cette demande ? Les éventuels documents déjà téléversés seront supprimés. ",-1),qo("br",null,null,-1),qo("br",null,null,-1),Ct(" Attention, cette opération est irréversible. ",-1)])]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{color:"red",onClick:We},{default:U(()=>[...ue[16]||(ue[16]=[Ct("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):gr("",!0)]),_:1},8,["model-value"]),z(Xa,{"model-value":Oe.value!=null,"onUpdate:modelValue":ue[4]||(ue[4]=gt=>Oe.value=null),"max-width":"600px"},{default:U(()=>[Oe.value?(_t(),co(Xs,{key:0,title:"Document à fournir"},{default:U(()=>[z(Hs,null,{default:U(()=>[z(ca,null,{default:U(()=>[z(sn,null,{default:U(()=>[z(Xb,{density:"compact",variant:"outlined",label:"Description",modelValue:Oe.value.Demande.Description,"onUpdate:modelValue":ue[1]||(ue[1]=gt=>Oe.value.Demande.Description=gt),hint:"Texte affiché sur l'espace de suivi."},null,8,["modelValue"])]),_:1})]),_:1}),z(ca,null,{default:U(()=>[z(sn,null,{default:U(()=>[z(Re,{density:"compact",variant:"outlined",label:"Document temporaire",min:0,suffix:"jours",modelValue:Oe.value.Demande.JoursValide,"onUpdate:modelValue":ue[2]||(ue[2]=gt=>Oe.value.Demande.JoursValide=gt),hint:"Nombre de jours de validité (0 pour un document permanent)"},null,8,["modelValue"])]),_:1}),z(sn,null,{default:U(()=>[z(Re,{density:"compact",variant:"outlined",label:"Nombre maximum de fichiers",modelValue:Oe.value.Demande.MaxDocs,"onUpdate:modelValue":ue[3]||(ue[3]=gt=>Oe.value.Demande.MaxDocs=gt),hint:"Limite le nombre de fichiers pouvant être déposés."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{onClick:ke},{default:U(()=>[...ue[17]||(ue[17]=[Ct("Enregistrer",-1)])]),_:1})]),_:1})]),_:1})):gr("",!0)]),_:1},8,["model-value"]),z(Xa,{"model-value":tt.value!=null,"onUpdate:modelValue":ue[6]||(ue[6]=gt=>tt.value=null),"max-width":"600px"},{default:U(()=>[z(Xs,{title:"Ajouter un document",subtitle:"Document à remplir par les familles"},{default:U(()=>[z(Hs,null,{default:U(()=>[z(te,{ref_key:"fileInput",ref:Et,onUpdate:ue[5]||(ue[5]=gt=>kt.value=gt)},null,512)]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{disabled:!kt.value,onClick:ye},{default:U(()=>[...ue[18]||(ue[18]=[Ct("Téléverser",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"]),z(Xa,{"model-value":ot.value!=null,"onUpdate:modelValue":ue[7]||(ue[7]=gt=>ot.value=null),"max-width":"400px"},{default:U(()=>[ot.value?(_t(),co(Xs,{key:0,title:"Confirmer la suppression"},{default:U(()=>[z(Hs,null,{default:U(()=>[ue[19]||(ue[19]=Ct(" Confirmez-vous la suppression du document ",-1)),qo("i",null,rr(ot.value.File.NomClient),1),ue[20]||(ue[20]=Ct(" ? ",-1)),ue[21]||(ue[21]=qo("br",null,null,-1)),ue[22]||(ue[22]=qo("br",null,null,-1)),ue[23]||(ue[23]=Ct(" Attention, cette opération est irréversible. ",-1))]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{color:"red",onClick:Bt},{default:U(()=>[...ue[24]||(ue[24]=[Ct("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):gr("",!0)]),_:1},8,["model-value"])]),_:1})}}}),_oe=Vr({__name:"PannelDocuments",emits:["goTo"],setup(ne,{emit:fe}){const Pe=fe;Ld(Qe);const _e=Ao(null);async function Qe(){const ue=await qt.DocumentsGet();ue!==void 0&&(_e.value=ue)}async function Oe(ue,pe){_e.value==null||(_e.value.ToShow[ue]=pe,await qt.DocumentsUpdateToShow(_e.value.ToShow)===void 0)||qt.showMessage("Modifications enregistrées avec succès.")}const ke=Ao(!1),Be=Ao(null);async function We(){if(ke.value=!1,_e.value==null||Be.value==null)return;const ue=await qt.DocumentsUploadToDownload(Be.value);ue!==void 0&&(qt.showMessage("Document ajouté avec succès."),_e.value.FilesToDownload=(_e.value.FilesToDownload||[]).concat(ue))}const tt=Ao(null);async function Et(){const ue=tt.value;tt.value=null,!(_e.value==null||ue==null||await qt.DocumentsDeleteToDownload({key:ue.Key})===void 0)&&(_e.value.FilesToDownload=(_e.value.FilesToDownload||[]).filter(Re=>Re.Key!=ue.Key),qt.showMessage("Document supprimé avec succès."))}const kt=Ao(!1);async function Je(ue){if(!_e.value)return;_e.value.AvailableDemandes=(_e.value.AvailableDemandes||[]).concat(ue);const pe=await qt.DocumentsApplyDemande({idDemande:ue.Demande.Id});pe!==void 0&&(qt.showMessage("Demande créée et activée pour ce séjour."),_e.value.CampDemandes=(_e.value?.CampDemandes||[]).concat(pe))}function ye(ue){if(!_e.value)return;const pe=(_e.value.AvailableDemandes||[]).findIndex(te=>te.Demande.Id==ue.Demande.Id);_e.value.AvailableDemandes[pe]=ue;const Re=(_e.value.CampDemandes||[]).findIndex(te=>te.Demande.Id==ue.Demande.Id);_e.value.CampDemandes[Re]=ue}function ot(ue){_e.value&&(_e.value.AvailableDemandes=(_e.value.AvailableDemandes||[]).filter(pe=>pe.Demande.Id!=ue.Id),_e.value.CampDemandes=(_e.value.CampDemandes||[]).filter(pe=>pe.Demande.Id!=ue.Id))}async function Bt(ue){if(!_e.value)return;kt.value=!1;const pe=await qt.DocumentsApplyDemande({idDemande:ue.Id});pe!==void 0&&(qt.showMessage("Demande bien activée pour ce séjour."),_e.value.CampDemandes=(_e.value?.CampDemandes||[]).concat(pe))}async function yt(ue){!_e.value||await qt.DocumentsUnapplyDemande({idDemande:ue.Id})===void 0||(qt.showMessage("Demande retirée avec succès."),_e.value.CampDemandes=(_e.value?.CampDemandes||[]).filter(Re=>Re.Demande.Id!=ue.Id))}return(ue,pe)=>{const Re=XL;return _t(),vn(Is,null,[z(Xs,{title:"Documents du séjour",subtitle:"Choisir les documents à lire ou remplir par les familles",class:"ma-2 mx-auto","max-width":"800px"},{default:U(()=>[_e.value==null?(_t(),co(sh,{key:0})):(_t(),co(Hs,{key:1},{default:U(()=>[z(jL,{type:"info",closable:""},{default:U(()=>[...pe[11]||(pe[11]=[Ct(" La ",-1),qo("b",null,"fiche sanitaire",-1),Ct(" et les ",-1),qo("b",null,"vaccins",-1),Ct(" sont automatiquement demandés pour les participants mineurs. ",-1)])]),_:1}),z(mc,null,{default:U(()=>[z(iR,null,{default:U(()=>[...pe[12]||(pe[12]=[Ct("Documents générés",-1)])]),_:1}),z(cs,{title:"Lettre aux familles",subtitle:"Document officiel pour le premier contact"},{append:U(()=>[z(Do,{icon:"mdi-pencil",size:"small",class:"mr-4",onClick:pe[0]||(pe[0]=te=>Pe("goTo","lettre"))}),z(Yb,{color:"primary","hide-details":"","model-value":_e.value.ToShow.LettreDirecteur,"onUpdate:modelValue":pe[1]||(pe[1]=te=>Oe("LettreDirecteur",te))},null,8,["model-value"])]),_:1}),z(cs,{title:"Liste de vêtements"},{append:U(()=>[z(Do,{icon:"mdi-pencil",size:"small",class:"mr-4",onClick:pe[2]||(pe[2]=te=>Pe("goTo","vetements"))}),z(Yb,{color:"primary","hide-details":"","model-value":_e.value.ToShow.ListeVetements,"onUpdate:modelValue":pe[3]||(pe[3]=te=>Oe("ListeVetements",te))},null,8,["model-value"])]),_:1}),z(cs,{title:"Liste des participants",subtitle:"Permet par exemple d'organiser un co-voiturage"},{append:U(()=>[z(Yb,{color:"primary","hide-details":"","model-value":_e.value.ToShow.ListeParticipants,"onUpdate:modelValue":pe[4]||(pe[4]=te=>Oe("ListeParticipants",te))},null,8,["model-value"])]),_:1}),z(qi,{thickness:"1",class:"my-2"}),z(ca,{"no-gutters":""},{default:U(()=>[z(sn,{"align-self":"center"},{default:U(()=>[z(iR,null,{default:U(()=>[...pe[13]||(pe[13]=[Ct("Documents à lire ",-1)])]),_:1})]),_:1}),z(sn,{"align-self":"center",cols:"auto",class:"mx-2"},{default:U(()=>[z(Do,{size:"small",onClick:pe[5]||(pe[5]=te=>ke.value=!0)},{prepend:U(()=>[z(Vn,{color:"green"},{default:U(()=>[...pe[14]||(pe[14]=[Ct("mdi-plus",-1)])]),_:1})]),default:U(()=>[pe[15]||(pe[15]=Ct(" Ajouter ",-1))]),_:1})]),_:1})]),_:1}),_e.value.FilesToDownload?.length?gr("",!0):(_t(),co(cs,{key:0},{default:U(()=>[...pe[16]||(pe[16]=[qo("i",null,"Aucun document.",-1)])]),_:1})),(_t(!0),vn(Is,null,Ya(_e.value.FilesToDownload,te=>(_t(),co(cs,{title:te.NomClient},{append:U(()=>[z(Re,{file:te,onDelete:gt=>tt.value=te},null,8,["file","onDelete"])]),_:2},1032,["title"]))),256)),z(qi,{thickness:"1",class:"my-2"}),z(ca,{"no-gutters":""},{default:U(()=>[z(sn,{"align-self":"center"},{default:U(()=>[z(iR,null,{default:U(()=>[...pe[17]||(pe[17]=[Ct("Documents à fournir (collectés sur l'espace de suivi) ",-1)])]),_:1})]),_:1}),z(sn,{"align-self":"center",cols:"auto",class:"mx-2"},{default:U(()=>[z(Do,{size:"small",onClick:pe[6]||(pe[6]=te=>kt.value=!0)},{prepend:U(()=>[z(Vn,{color:"green"},{default:U(()=>[...pe[18]||(pe[18]=[Ct("mdi-plus",-1)])]),_:1})]),default:U(()=>[pe[19]||(pe[19]=Ct(" Ajouter ",-1))]),_:1})]),_:1})]),_:1}),_e.value.CampDemandes?.length?gr("",!0):(_t(),co(cs,{key:1},{default:U(()=>[...pe[20]||(pe[20]=[qo("i",null,"Aucun document.",-1)])]),_:1})),(_t(!0),vn(Is,null,Ya(_e.value.CampDemandes,te=>(_t(),co(cs,{title:te.Demande.Description},{append:U(()=>[z(Do,{icon:"",size:"x-small",onClick:gt=>yt(te.Demande)},{default:U(()=>[z(Vn,{color:"red"},{default:U(()=>[...pe[21]||(pe[21]=[Ct("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1032,["title"]))),256))]),_:1})]),_:1})),z(Xa,{modelValue:ke.value,"onUpdate:modelValue":pe[8]||(pe[8]=te=>ke.value=te),"max-width":"600px"},{default:U(()=>[z(Xs,{title:"Téléverser un document",subtitle:"Ce document sera distribué sur l'espace personnel des familles."},{default:U(()=>[z(Hs,null,{default:U(()=>[z(x$,{label:"Document à distribuer",onUpdate:pe[7]||(pe[7]=te=>Be.value=te)})]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{color:"green",disabled:Be.value==null,onClick:We},{default:U(()=>[...pe[22]||(pe[22]=[Ct("Téléverser",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z(Xa,{"model-value":tt.value!=null,"onUpdate:modelValue":pe[9]||(pe[9]=te=>tt.value=null),"max-width":"400px"},{default:U(()=>[tt.value?(_t(),co(Xs,{key:0,title:"Confirmer la suppression"},{default:U(()=>[z(Hs,null,{default:U(()=>[pe[23]||(pe[23]=Ct(" Confirmez-vous la suppression du document ",-1)),qo("i",null,rr(tt.value.NomClient),1),pe[24]||(pe[24]=Ct(" ? ",-1)),pe[25]||(pe[25]=qo("br",null,null,-1)),pe[26]||(pe[26]=qo("br",null,null,-1)),pe[27]||(pe[27]=Ct(" Attention, cette opération est irréversible. ",-1))]),_:1}),z(mm,null,{default:U(()=>[z(gm),z(Do,{color:"red",onClick:Et},{default:U(()=>[...pe[28]||(pe[28]=[Ct("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):gr("",!0)]),_:1},8,["model-value"])]),_:1}),z(Xa,{modelValue:kt.value,"onUpdate:modelValue":pe[10]||(pe[10]=te=>kt.value=te),"max-width":"800px"},{default:U(()=>[_e.value?(_t(),co(woe,{key:0,availableDemandes:_e.value.AvailableDemandes||[],selectedDemandes:(_e.value.CampDemandes||[]).map(te=>te.Demande.Id),onSelected:Bt,onCreated:Je,onUpdated:ye,onDeleted:ot},null,8,["availableDemandes","selectedDemandes"])):gr("",!0)]),_:1},8,["modelValue"])],64)}}}),Coe={key:1,style:{height:"15px"}},koe=Vr({__name:"DropZone",props:{isDragging:{type:Boolean}},emits:["onDrop"],setup(ne,{emit:fe}){const Pe=ne,_e=fe,Qe=Ao(!1);function Oe(Be){Qe.value=!0,Be.preventDefault()}function ke(Be){Qe.value=!1,Be.preventDefault(),_e("onDrop",Be)}return(Be,We)=>Pe.isDragging?(_t(),vn("div",{key:0,style:{height:"15px"},class:Z1({"bg-blue-lighten-1":Qe.value,"bg-blue-lighten-4":!Qe.value,rounded:!0}),onDragenter:Oe,onDragover:We[0]||(We[0]=tt=>tt.preventDefault()),onDragleave:We[1]||(We[1]=tt=>Qe.value=!1),onDrop:ke},null,34)):(_t(),vn("div",Coe))}}),Soe={Ete:[{Quantite:2,Description:"Sweats ou pull-overs",Important:!1},{Quantite:1,Description:"Polaire",Important:!1},{Quantite:6,Description:"Tee shirts",Important:!1},{Quantite:2,Description:"Pantalons ou jogging",Important:!1},{Quantite:3,Description:"Shorts",Important:!1},{Quantite:6,Description:"Slips ou culottes",Important:!1},{Quantite:4,Description:"Paires de chaussettes",Important:!1},{Quantite:1,Description:"Pyjama",Important:!1},{Quantite:1,Description:"Maillot de bain",Important:!1},{Quantite:2,Description:"Grandes serviettes",Important:!1},{Quantite:1,Description:"Gant de toilette",Important:!1},{Quantite:1,Description:"Nécessaire de toilette : shampoing, savon, brosse à dent, dentifrice.....",Important:!1},{Quantite:1,Description:"Paire de lunette de soleil",Important:!0},{Quantite:1,Description:"Sac de couchage",Important:!1},{Quantite:1,Description:"Casquette",Important:!0},{Quantite:1,Description:"Veste de pluie",Important:!1},{Quantite:1,Description:"Paire de bonnes baskets",Important:!0},{Quantite:1,Description:"Paire de chaussure pour aller dans l’eau. (Une paire de vieille chaussure est suffisante !)",Important:!0},{Quantite:1,Description:"Paire de chaussure légère (sandale)",Important:!1},{Quantite:1,Description:"Petit sac à dos, gourde, lampe de poche",Important:!1}],Hiver:[{Quantite:6,Description:"Slips",Important:!1},{Quantite:6,Description:"Paires de chaussettes longues et chaudes",Important:!1},{Quantite:5,Description:"T-shirts manches longues",Important:!1},{Quantite:2,Description:"Pull-overs",Important:!1},{Quantite:2,Description:"Pantalons",Important:!1},{Quantite:2,Description:"T-shirt manches courtes",Important:!1},{Quantite:2,Description:"Leggings ou collants chauds",Important:!1},{Quantite:1,Description:"Polaire",Important:!1},{Quantite:1,Description:"Serviette de toilette",Important:!1},{Quantite:1,Description:"Trousse de toilette complète",Important:!1},{Quantite:1,Description:"Drap de dessous (90 cm)",Important:!1},{Quantite:1,Description:"Sac de couchage ou drap de dessus",Important:!1},{Quantite:1,Description:"Combinaison ou pantalon de ski",Important:!1},{Quantite:1,Description:"Anorak, bonnet, paire de gants de ski",Important:!1},{Quantite:1,Description:"Paire de lunette, crème solaire",Important:!1},{Quantite:1,Description:"Paire de baskets",Important:!1},{Quantite:1,Description:"Paire de boots ou chaussures de marche",Important:!1},{Quantite:1,Description:"Paire de pantoufles",Important:!1},{Quantite:1,Description:"Pyjama",Important:!1},{Quantite:1,Description:"Jogging",Important:!1}]},Eoe={ref:"bottom"},Aoe=["data"],Toe=Vr({__name:"PannelVetements",setup(ne){Ld(Qe);const fe=Ao(null),Pe=Ao(null),_e=fr(()=>JSON.stringify(Pe.value)!=JSON.stringify(fe.value));async function Qe(){const pe=await qt.VetementsGet();pe!==void 0&&(fe.value=pe,Pe.value=PC(pe))}function Oe(){fe.value&&(fe.value.Vetements=(fe.value.Vetements||[]).concat({Description:"",Important:!1,Quantite:1}),ke.value=fe.value.Vetements.length-1,cR(()=>{Bt.value&&Bt.value.scrollIntoView()}))}const ke=Ao(null);function Be(pe){fe.value&&(fe.value.Vetements=PC(Soe[pe]))}function We(pe){fe.value&&(fe.value.Vetements||[]).splice(pe,1)}const tt=Ao(!1),Et=Ao(""),kt=fr(()=>QE.RenderDocumentCamp(Et.value,!1));async function Je(){if(!fe.value)return;const pe=await qt.VetementsUpdate(fe.value);pe!==void 0&&(Pe.value=PC(fe.value),Et.value=pe,qt.showMessage("Liste de vêtements enregistrée avec succès."))}function ye(pe,Re){tt.value=!0,pe.dataTransfer.effectAllowed="move",pe.dataTransfer.setData("text/json",JSON.stringify({index:Re}))}function ot(pe,Re){if(!fe.value)return;const te=JSON.parse(pe.dataTransfer.getData("text/json"));fe.value.Vetements=nee(te.index,Re,fe.value.Vetements)}const Bt=KL("bottom"),yt=Ao(!1),ue={language:"fr_FR",height:150,menubar:!1,statusbar:!1,formats:{underline:{inline:"u"}},entity_encoding:"raw",font_formats:"Arial=arial,helvetica,sans-serif;",toolbar:["undo redo | cut copy paste | bold italic underline "]};return(pe,Re)=>{const te=koe,gt=b$;return _t(),vn(Is,null,[z(Xs,{title:"Liste de vêtements",class:"ma-2 mx-auto","max-width":"1000px"},{append:U(()=>[z(Do,{icon:"",onClick:Oe,size:"small",class:"mx-1"},{default:U(()=>[z(Vn,{color:"green"},{default:U(()=>[...Re[9]||(Re[9]=[Ct("mdi-plus",-1)])]),_:1})]),_:1}),z(Sg,null,{activator:U(({props:me})=>[z(Do,ku(me,{class:"mx-1",size:"small"}),{default:U(()=>[...Re[10]||(Re[10]=[Ct("Importer...",-1)])]),_:1},16)]),default:U(()=>[z(mc,null,{default:U(()=>[z(cs,{title:"Liste d'été",subtitle:"Remplace la liste actuelle",onClick:Re[0]||(Re[0]=me=>Be("Ete"))}),z(cs,{title:"Liste d'hiver",subtitle:"Remplace la liste actuelle",onClick:Re[1]||(Re[1]=me=>Be("Hiver"))})]),_:1})]),_:1}),z(qi,{vertical:"",thickness:"2",class:"mx-1"}),z(Do,{size:"small",class:"mx-1",onClick:Re[2]||(Re[2]=me=>yt.value=!0)},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...Re[11]||(Re[11]=[Ct("mdi-text-box-edit",-1)])]),_:1})]),default:U(()=>[Re[12]||(Re[12]=Ct(" Texte ",-1))]),_:1}),z(qi,{vertical:"",thickness:"2",class:"mx-1"}),z(Do,{icon:"",onClick:Je,size:"small",class:"mx-1"},{default:U(()=>[z(Vf,{color:_e.value?"pink":"transparent",dot:""},{default:U(()=>[z(Vn,null,{default:U(()=>[...Re[13]||(Re[13]=[Ct("mdi-content-save",-1)])]),_:1})]),_:1},8,["color"])]),_:1})]),default:U(()=>[fe.value==null?(_t(),co(sh,{key:0})):(_t(),co(Hs,{key:1},{default:U(()=>[z(mc,{density:"compact",style:{"max-height":"75vh"},class:"overflow-y-auto"},{default:U(()=>[fe.value.Vetements?.length?gr("",!0):(_t(),co(cs,{key:0,class:"text-center"},{default:U(()=>[...Re[14]||(Re[14]=[qo("i",null,"Aucun vêtement.",-1)])]),_:1})),(_t(!0),vn(Is,null,Ya(fe.value.Vetements,(me,ln)=>(_t(),vn(Is,null,[z(te,{isDragging:tt.value,onOnDrop:gs=>ot(gs,ln)},null,8,["isDragging","onOnDrop"]),ke.value==ln?(_t(),co(ca,{key:0,class:"mx-0"},{default:U(()=>[z(sn,{"align-self":"center",cols:"2"},{default:U(()=>[z(gt,{label:"Quantité",modelValue:fe.value.Vetements[ln].Quantite,"onUpdate:modelValue":gs=>fe.value.Vetements[ln].Quantite=gs},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),z(sn,{"align-self":"center"},{default:U(()=>[z(Xb,{density:"compact",variant:"outlined",label:"Description","hide-details":"",modelValue:fe.value.Vetements[ln].Description,"onUpdate:modelValue":gs=>fe.value.Vetements[ln].Description=gs},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),z(sn,{"align-self":"center",cols:"auto"},{default:U(()=>[z(Cee,{density:"compact",variant:"outlined",label:"Important","hide-details":"",modelValue:fe.value.Vetements[ln].Important,"onUpdate:modelValue":gs=>fe.value.Vetements[ln].Important=gs},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),z(sn,{"align-self":"center",cols:"auto"},{default:U(()=>[z(Do,{size:"small",onClick:Re[3]||(Re[3]=gs=>ke.value=null)},{prepend:U(()=>[z(Vn,{color:"green"},{default:U(()=>[...Re[15]||(Re[15]=[Ct("mdi-check",-1)])]),_:1})]),default:U(()=>[Re[16]||(Re[16]=Ct(" Terminer",-1))]),_:1})]),_:1})]),_:2},1024)):(_t(),co(cs,{key:1,title:me.Description,subtitle:me.Important?"Important":""},{prepend:U(()=>[z(Vf,{inline:"",content:me.Quantite,color:"secondary"},null,8,["content"])]),append:U(()=>[z(Vn,{class:"mx-1",style:{cursor:"grab"},draggable:!0,onDragstart:gs=>ye(gs,ln),onDragend:Re[4]||(Re[4]=gs=>tt.value=!1)},{default:U(()=>[...Re[17]||(Re[17]=[Ct("mdi-drag-vertical",-1)])]),_:1},8,["onDragstart"]),z(Do,{icon:"mdi-pencil",size:"x-small",class:"mx-1",onClick:gs=>ke.value=ln},null,8,["onClick"]),z(Do,{icon:"",onClick:gs=>We(ln),size:"x-small"},{default:U(()=>[z(Vn,{color:"red"},{default:U(()=>[...Re[18]||(Re[18]=[Ct("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1032,["title","subtitle"]))],64))),256)),z(te,{isDragging:tt.value,onOnDrop:Re[5]||(Re[5]=me=>ot(me,fe.value?.Vetements?.length||0))},null,8,["isDragging"]),qo("div",Eoe,null,512)]),_:1})]),_:1}))]),_:1}),z(Xa,{"model-value":!!Et.value,"onUpdate:modelValue":Re[6]||(Re[6]=me=>Et.value="")},{default:U(()=>[Et.value?(_t(),vn("object",{key:0,type:"application/pdf",data:kt.value,style:{height:"95vh"}},null,8,Aoe)):gr("",!0)]),_:1},8,["model-value"]),z(Xa,{modelValue:yt.value,"onUpdate:modelValue":Re[8]||(Re[8]=me=>yt.value=me),"max-width":"600px"},{default:U(()=>[z(Xs,{title:"Texte complémentaire",subtitle:"Ce texte apparaît à la fin de la liste de vêtements."},{default:U(()=>[fe.value?(_t(),co(Hs,{key:0},{default:U(()=>[z(Dn(_$),{licenseKey:"gpl",modelValue:fe.value.Complement,"onUpdate:modelValue":Re[7]||(Re[7]=me=>fe.value.Complement=me),init:ue},null,8,["modelValue"])]),_:1})):gr("",!0)]),_:1})]),_:1},8,["modelValue"])],64)}}}),Doe=Vr({__name:"documents",setup(ne){const fe=tA(),Pe=fr(()=>Ioe(fe.currentRoute.value.query)),_e=fr(()=>Pe.value.tab||"documents");function Qe(Oe){const ke=fe.currentRoute.value;fe.push({path:ke.path,query:{tab:Oe}})}return(Oe,ke)=>(_t(),vn(Is,null,[z(oA,{title:`${Dn(qt).camp?.Label} - Communication & Documents`},{default:U(()=>[z(p$,{"model-value":_e.value,"onUpdate:modelValue":ke[0]||(ke[0]=Be=>Qe(Be))},{default:U(()=>[z(YE,{value:"documents"},{default:U(()=>[...ke[1]||(ke[1]=[Ct("Documents",-1)])]),_:1}),z(YE,{value:"lettre"},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...ke[2]||(ke[2]=[Ct("mdi-mail",-1)])]),_:1})]),default:U(()=>[ke[3]||(ke[3]=Ct(" Lettre aux familles",-1))]),_:1}),z(YE,{value:"vetements"},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...ke[4]||(ke[4]=[Ct("mdi-washing-machine",-1)])]),_:1})]),default:U(()=>[ke[5]||(ke[5]=Ct(" Liste de vêtements",-1))]),_:1})]),_:1},8,["model-value"])]),_:1},8,["title"]),z(h$,{"model-value":_e.value},{default:U(()=>[z(XE,{value:"documents"},{default:U(()=>[z(_oe,{onGoTo:Qe})]),_:1}),z(XE,{value:"lettre"},{default:U(()=>[z(voe)]),_:1}),z(XE,{value:"vetements"},{default:U(()=>[z(Toe)]),_:1})]),_:1},8,["model-value"])],64))}}),Ooe={key:0,class:"text-center my-6"},Roe=Vr({__name:"joomeo",setup(ne){Ld(Qe);const fe=fr(()=>PC(_e.value?.Album.Contacts||[]).sort((pe,Re)=>pe.albumAccessRules.allowUpload==Re.albumAccessRules.allowUpload?pe.login.localeCompare(Re.login):Pe(pe.albumAccessRules.allowUpload,Re.albumAccessRules.allowUpload)));function Pe(ue,pe){return ue&&!pe?-1:!ue&&pe?1:0}const _e=Ao(null);async function Qe(){const ue=await qt.JoomeoLoad();ue!==void 0&&(_e.value=ue)}const Oe=Ao(!1),ke=Ao(!1),Be=Ao(!1),We=Ao(!1),tt=Ao([]),Et=Ao(""),kt=fr(()=>{const ue=tt.value.map(pe=>({mail:pe,kind:"Autre"}));return ke.value&&ue.push(...(_e.value?.MailsResponsables||[]).map(pe=>({mail:pe,kind:"Responsable"}))),Be.value&&ue.push(...(_e.value?.MailsInscrits||[]).map(pe=>({mail:pe,kind:"Inscrit"}))),We.value&&ue.push(...(_e.value?.MailsEquipiers||[]).map(pe=>({mail:pe,kind:"Equipier"}))),ue}),Je=u$.mailJoomeo(),ye=Ao(!1);async function ot(ue){if(!_e.value)return;const pe=kt.value.filter(te=>Je(te.mail)==!0).map(te=>te.mail);if(!pe.length)return;Oe.value=!1,ye.value=!0;const Re=await qt.JoomeoInvite({Mails:pe,SendMail:ue});ye.value=!1,Re!==void 0&&(qt.showMessage("Contacts invités avec succès."),_e.value.Album.Contacts=Re||[])}async function Bt(ue){const pe=_e.value?.Album.Contacts||[];if(!pe)return;const Re=await qt.JoomeoSetUploader({joomeoId:ue});if(Re===void 0)return;const te=pe.findIndex(gt=>gt.contactid==ue);pe[te]=Re,qt.showMessage("Permissions accordées avec succès.")}async function yt(ue){const pe=_e.value?.Album.Contacts||[];if(!pe||await qt.JoomeoUnlinkContact({joomeoId:ue})===void 0)return;const te=pe.findIndex(gt=>gt.contactid==ue);pe.splice(te,1),qt.showMessage("Contact retiré avec succès.")}return(ue,pe)=>(_t(),vn(Is,null,[z(oA,{title:`${Dn(qt).camp?.Label} - Album Joomeo`},null,8,["title"]),_e.value==null?(_t(),vn("div",Ooe,[z(lR,{indeterminate:""})])):_e.value.SpaceURL==""?(_t(),co(jL,{key:1,type:"warning",class:"ma-2"},{default:U(()=>[...pe[9]||(pe[9]=[Ct("Aucun album n'est associé au séjour.",-1)])]),_:1})):(_t(),co(Xs,{key:2,title:"Album et contacts",class:"ma-2"},{append:U(()=>[z(Do,{onClick:pe[0]||(pe[0]=Re=>Oe.value=!0),disabled:ye.value},{prepend:U(()=>[ye.value?(_t(),co(lR,{key:0,indeterminate:"",size:"small"})):(_t(),co(Vn,{key:1,color:"green"},{default:U(()=>[...pe[10]||(pe[10]=[Ct("mdi-plus",-1)])]),_:1}))]),default:U(()=>[pe[11]||(pe[11]=Ct(" Inviter... ",-1))]),_:1},8,["disabled"])]),default:U(()=>[z(Hs,null,{default:U(()=>[z(jL,{density:"comfortable"},{default:U(()=>[z(ca,null,{default:U(()=>[z(sn,{"align-self":"center"},{default:U(()=>[pe[12]||(pe[12]=Ct("Nom de l'album : ",-1)),qo("b",null,rr(_e.value.Album.Label),1)]),_:1}),z(sn,{"align-self":"center"},{default:U(()=>[pe[13]||(pe[13]=Ct("Créé le : ",-1)),qo("b",null,rr(Dn(Gb).date(_e.value.Album.Date)),1)]),_:1}),z(sn,{"align-self":"center"},{default:U(()=>[pe[14]||(pe[14]=Ct("Nombre de photos : ",-1)),qo("b",null,rr(_e.value.Album.FilesCount),1)]),_:1}),z(sn,{"align-self":"center",cols:"auto"},{default:U(()=>[z(Do,{size:"small",href:_e.value.SpaceURL,link:"",target:"_blank",class:"mx-1"},{prepend:U(()=>[z(Vn,null,{default:U(()=>[...pe[15]||(pe[15]=[Ct(" mdi-open-in-new ",-1)])]),_:1})]),default:U(()=>[pe[16]||(pe[16]=Ct(" Accéder à Joomeo",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1}),z(mc,{"max-width":"800px",class:"mx-auto"},{default:U(()=>[(_t(!0),vn(Is,null,Ya(fe.value,Re=>(_t(),co(cs,{title:Re.login,subtitle:Re.email},{append:U(()=>[z(ca,null,{default:U(()=>[z(sn,{"align-self":"center"},{default:U(()=>[z(nh,{"prepend-icon":"mdi-key"},{default:U(()=>[Ct(rr(Re.password),1)]),_:2},1024)]),_:2},1024),z(sn,{"align-self":"center"},{default:U(()=>[Re.albumAccessRules.allowUpload?(_t(),co(nh,{key:0,"prepend-icon":"mdi-account-arrow-up",color:"blue"},{default:U(()=>[...pe[17]||(pe[17]=[Ct(" Droit d'ajout ",-1)])]),_:1})):gr("",!0)]),_:2},1024),z(sn,{"align-self":"center",cols:"auto"},{default:U(()=>[z(Do,{icon:"",size:"small",flat:""},{default:U(()=>[z(Vn,null,{default:U(()=>[...pe[18]||(pe[18]=[Ct("mdi-dots-vertical",-1)])]),_:1}),z(Sg,{activator:"parent"},{default:U(()=>[z(mc,{dense:""},{default:U(()=>[z(cs,{title:"Permettre l'ajout",subtitle:"Donne le droit d'ajouter des photos","prepend-icon":"mdi-account-arrow-up",onClick:te=>Bt(Re.contactid)},null,8,["onClick"]),z(cs,{title:"Supprimer",subtitle:"Retire l'accès à l'album du séjour","prepend-icon":"mdi-delete",onClick:te=>yt(Re.contactid)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1}),z(Xa,{modelValue:Oe.value,"onUpdate:modelValue":pe[8]||(pe[8]=Re=>Oe.value=Re),"max-width":"800px"},{default:U(()=>[z(Xs,{title:"Ajouter des contacts à l'album"},{default:U(()=>[z(Hs,null,{default:U(()=>[z(ca,null,{default:U(()=>[z(sn,null,{default:U(()=>[z(Yb,{color:"primary",label:"Inclure les responsables",modelValue:ke.value,"onUpdate:modelValue":pe[1]||(pe[1]=Re=>ke.value=Re)},null,8,["modelValue"]),z(Yb,{color:"primary",label:"Inclure les inscrits",modelValue:Be.value,"onUpdate:modelValue":pe[2]||(pe[2]=Re=>Be.value=Re)},null,8,["modelValue"]),z(Yb,{color:"primary",label:"Inclure les équipiers",modelValue:We.value,"onUpdate:modelValue":pe[3]||(pe[3]=Re=>We.value=Re)},null,8,["modelValue"]),z(Xb,{variant:"outlined",density:"comfortable",label:"Ajouter une adresse",modelValue:Et.value,"onUpdate:modelValue":pe[5]||(pe[5]=Re=>Et.value=Re),rules:[Dn(Je)]},{"append-inner":U(()=>[z(Do,{size:"small",icon:"mdi-plus",onClick:pe[4]||(pe[4]=Re=>{tt.value.push(Et.value),Et.value=""}),disabled:Et.value==""||Dn(Je)(Et.value)!=!0},null,8,["disabled"])]),_:1},8,["modelValue","rules"])]),_:1}),z(sn,null,{default:U(()=>[z(mc,null,{default:U(()=>[z(iR,null,{default:U(()=>[...pe[19]||(pe[19]=[Ct("Adresses mails",-1)])]),_:1}),(_t(!0),vn(Is,null,Ya(kt.value,Re=>(_t(),co(cs,{title:Re.mail,subtitle:Re.kind},GL({_:2},[Dn(Je)(Re.mail)!=!0?{name:"prepend",fn:U(()=>[z(Vn,{color:"orange"},{default:U(()=>[...pe[20]||(pe[20]=[Ct("mdi-warning",-1)])]),_:1})]),key:"0"}:void 0,Re.kind=="Autre"?{name:"append",fn:U(()=>[z(Do,{size:"small",flat:"",icon:"",onClick:te=>tt.value=tt.value.filter(gt=>gt!=Re.mail)},{default:U(()=>[z(Vn,{color:"red"},{default:U(()=>[...pe[21]||(pe[21]=[Ct("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])]),key:"1"}:void 0]),1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1})]),_:1}),z(mm,null,{default:U(()=>[z(Do,{onClick:pe[6]||(pe[6]=Re=>ot(!1)),disabled:!kt.value.length},{default:U(()=>[...pe[22]||(pe[22]=[Ct(" Inviter sans envoi de mail ",-1)])]),_:1},8,["disabled"]),z(gm),z(Do,{color:"green",onClick:pe[7]||(pe[7]=Re=>ot(!0)),disabled:!kt.value.length},{default:U(()=>[...pe[23]||(pe[23]=[Ct("Inviter par mail",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))],64))}}),Noe=[{path:"/",component:Tee},{path:"/inscriptions",component:Qee},{path:"/equipiers",component:ate},{path:"/documents",component:Doe},{path:"/joomeo",component:Roe}],Moe="/directeurs",JL=vee({history:yee(Moe),routes:Noe});JL.onError((ne,fe)=>{ne?.message?.includes?.("Failed to fetch dynamically imported module")?localStorage.getItem("vuetify:dynamic-reload")?console.error("Dynamic import error, reloading page did not fix it",ne):(console.log("Reloading page to fix dynamic import error"),localStorage.setItem("vuetify:dynamic-reload","true"),location.assign(fe.fullPath)):console.error(ne)});JL.isReady().then(()=>{localStorage.removeItem("vuetify:dynamic-reload")});function Boe(ne){return{tab:ne.tab}}function Ioe(ne){return{tab:ne.tab}}const Poe=["innerHTML"],Loe=Vr({__name:"App",setup(ne){const fe=a$({text:"",color:"secondary",action:void 0,timeout:4e3}),Pe=Ao(""),_e=Ao("");return qt.onError=(Oe,ke)=>{Pe.value=Oe,_e.value=ke},qt.showMessage=(Oe,ke,Be)=>{fe.text=Oe,fe.color=ke||"success",fe.action=Be,fe.timeout=1e4,fe.timeout=4e3},tA().beforeEach(async(Oe,ke)=>{if(!qt.hasToken()&&Oe.path!=="/")return{path:"/"}}),(Oe,ke)=>{const Be=see("router-view");return _t(),co(aee,null,{default:U(()=>[z(ree,null,{default:U(()=>[z(Be),z(AV,{style:{"z-index":"10000"},app:"","model-value":fe.text!="","onUpdate:modelValue":ke[1]||(ke[1]=We=>fe.text=""),timeout:fe.timeout,color:fe.color,location:"bottom left","close-on-content-click":""},{default:U(()=>[Ct(rr(fe.text)+" ",1),fe.action?(_t(),co(Do,{key:0,onClick:ke[0]||(ke[0]=We=>fe.action.action()),class:"ml-2"},{default:U(()=>[Ct(rr(fe.action.title),1)]),_:1})):gr("",!0)]),_:1},8,["model-value","timeout","color"]),z(AV,{app:"","model-value":Pe.value!="","onUpdate:modelValue":ke[2]||(ke[2]=We=>Pe.value=""),timeout:4e3,color:"red"},{default:U(()=>[qo("b",null,rr(Pe.value),1),qo("div",{innerHTML:_e.value},null,8,Poe)]),_:1},8,["model-value"])]),_:1})]),_:1})}}}),S$=iee(Loe);S$.use(lee).use(JL);S$.mount("#app");
