import{d as y,W as Z,X as ee,a3 as te,a9 as j,e as r,o as a,h as $,w as o,a as l,f as S,i as g,Y as f,a8 as ne,bt as ie,j as oe,c9 as le,l as v,aQ as se,p as w,q as R,ca as ae,y as O,bF as re,bE as de,u as M,v as D,A as E,a1 as F,z as ce,an as q,al as G,am as Y,ap as L,I as H,cb as ue,G as me,r as J,J as ve,x as z,ak as Q,cc as fe,ae as _e,aY as pe,T as Ce,ag as ye,H as k,s as I,aj as ge,ao as be,cd as ke,k as Ve,b as c,t as C,$ as W,c as U,F as De,m as x,ce as h,O as Ee,cf as K,cg as V}from"./VSnackbar-4WS0ckTD.js";import{d as Ie,l as Se,b as B,o as Te,p as he,i as xe,c as N,e as $e,f as ze,k as Pe}from"./VTextarea-vvA5kftK.js";import{g as A}from"./VTabs-BL3VzwwU.js";import{V as Ke}from"./FileCard.vue_vue_type_script_setup_true_lang-igzkYVuw.js";const lt=y({__name:"MontantField",props:Z({label:{},hideDetails:{type:Boolean},readonlyCurrency:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const n=e,t=ee(e,"modelValue"),i=te(j);return(d,s)=>(a(),r($,{"no-gutters":""},{default:o(()=>[l(g,{cols:n.readonlyCurrency?12:6},{default:o(()=>[l(Ie,{class:"mr-1",variant:"outlined",density:"compact","hide-details":n.hideDetails,label:n.label,type:"number",disabled:n.disabled,"model-value":t.value.Cent/100,"onUpdate:modelValue":s[0]||(s[0]=u=>t.value={Cent:f(ne)(Number(u)*100),Currency:t.value.Currency}),suffix:n.readonlyCurrency?f(j)[t.value.Currency]:void 0},null,8,["hide-details","label","disabled","model-value","suffix"])]),_:1},8,["cols"]),n.readonlyCurrency?S("",!0):(a(),r(g,{key:0,cols:"6"},{default:o(()=>[l(Se,{label:"Monnaie",variant:"outlined",density:"compact",disabled:n.disabled,items:f(i),"model-value":t.value.Currency,"hide-details":n.hideDetails,"onUpdate:modelValue":s[1]||(s[1]=u=>t.value={Cent:t.value.Cent,Currency:u})},null,8,["disabled","items","model-value","hide-details"])]),_:1}))]),_:1}))}}),Be={class:"d-flex align-center justify-center fill-height"},st=y({__name:"FileCardReadonly",props:{fileKey:{},isGeneratedDoc:{type:Boolean},large:{type:Boolean}},setup(e){const n=e;return(t,i)=>(a(),r(B,{class:"my-2",href:n.isGeneratedDoc?f(A).RenderDocumentCamp(n.fileKey,!1):f(ie)(n.fileKey)},{default:o(()=>[l(oe,{cover:"",src:n.isGeneratedDoc?f(A).RenderDocumentCamp(n.fileKey,!0):f(le)(n.fileKey),width:n.large?"142px":"48px"},{placeholder:o(()=>[v("div",Be,[l(se,{color:"grey-lighten-4",indeterminate:""})])]),_:1},8,["src","width"])]),_:1},8,["href"]))}}),we=R({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:H,iconColor:String,lineColor:String,...L(),...Y(),...G(),...q()},"VTimelineDivider"),Re=w()({name:"VTimelineDivider",props:we(),setup(e,n){let{slots:t}=n;const{sizeClasses:i,sizeStyles:d}=ae(e,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:u}=O(()=>e.dotColor),{roundedClasses:m}=re(e,"v-timeline-divider__dot"),{elevationClasses:_}=de(e),{backgroundColorClasses:T,backgroundColorStyles:p}=O(()=>e.lineColor);return M(()=>v("div",{class:E(["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class]),style:D(e.style)},[v("div",{class:E(["v-timeline-divider__before",T.value]),style:D(p.value)},null),!e.hideDot&&v("div",{key:"dot",class:E(["v-timeline-divider__dot",_.value,m.value,i.value]),style:D(d.value)},[v("div",{class:E(["v-timeline-divider__inner-dot",u.value,m.value]),style:D(s.value)},[t.default?l(ce,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},t.default):l(F,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),v("div",{class:E(["v-timeline-divider__after",T.value]),style:D(p.value)},null)])),{}}}),X=R({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:H,iconColor:String,lineInset:[Number,String],side:{type:String,validator:e=>e==null||["start","end"].includes(e)},...L(),...fe(),...q(),...Y(),...G(),...Q()},"VTimelineItem"),Me=w()({name:"VTimelineItem",props:X(),setup(e,n){let{slots:t}=n;const{dimensionStyles:i}=ue(e),d=me(0),s=J();return ve(s,u=>{var m;u&&(d.value=((m=u.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:m.getBoundingClientRect().width)??0)},{flush:"post"}),M(()=>{var u,m;return v("div",{class:E(["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot,"v-timeline-item--side-start":e.side==="start","v-timeline-item--side-end":e.side==="end"},e.class]),style:D([{"--v-timeline-dot-size":z(d.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${z(e.lineInset)})`:z(0)},e.style])},[v("div",{class:"v-timeline-item__body",style:D(i.value)},[(u=t.default)==null?void 0:u.call(t)]),l(Re,{ref:s,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:t.icon}),e.density!=="compact"&&v("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((m=t.opposite)==null?void 0:m.call(t))])])}),{}}}),Fe=R({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...ke(X({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...L(),...be(),...Q(),...ge()},"VTimeline"),at=w()({name:"VTimeline",props:Fe(),setup(e,n){let{slots:t}=n;const{themeClasses:i}=_e(e),{densityClasses:d}=pe(e),{rtlClasses:s}=Ce();ye({VTimelineDivider:{lineColor:k(()=>e.lineColor)},VTimelineItem:{density:k(()=>e.density),dotColor:k(()=>e.dotColor),fillDot:k(()=>e.fillDot),hideOpposite:k(()=>e.hideOpposite),iconColor:k(()=>e.iconColor),lineColor:k(()=>e.lineColor),lineInset:k(()=>e.lineInset),size:k(()=>e.size)}});const u=I(()=>{const _=e.side?e.side:e.density!=="default"?"end":null;return _&&`v-timeline--side-${_}`}),m=I(()=>{const _=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return _;case"start":return _[0];case"end":return _[1];default:return null}});return M(()=>l(e.tag,{class:E(["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,m.value,{"v-timeline--inset-line":!!e.lineInset},i.value,d.value,u.value,s.value,e.class]),style:D([{"--v-timeline-line-thickness":z(e.lineThickness)},e.style])},t)),{}}}),Le={class:"ma-2"},b=y({__name:"EventItem",props:{color:{},icon:{},time:{},size:{}},setup(e){const n=e;return(t,i)=>(a(),r(Me,{"dot-color":n.color,width:"100%",size:n.size||"medium",elevation:2},{icon:o(()=>[v("div",Le,[l(F,{icon:n.icon},null,8,["icon"])])]),default:o(()=>[l($,{justify:"space-between","no-gutters":""},{default:o(()=>[l(g,{"align-self":"center"},{default:o(()=>[Ve(t.$slots,"default")]),_:3}),l(g,{"align-self":"center",cols:"2",class:"text-grey ml-4"},{default:o(()=>[c(C(f(W).time(n.time)),1)]),_:1})]),_:3})]),_:3},8,["dot-color","size"]))}}),Ue=y({__name:"EventPaiementV",props:{paiement:{},user:{}},emits:["edit"],setup(e,{emit:n}){const t=e,i=n;return(d,s)=>{const u=b;return a(),r(u,{color:"#ad9726",icon:"mdi-cash",time:t.paiement.Time},{default:o(()=>[l($,null,{default:o(()=>[l(g,{"align-self":"center"},{default:o(()=>[l(Te,null,{default:o(()=>[c(C(t.paiement.IsRemboursement?"Remboursement":"Paiement")+" ",1),t.paiement.IsRemboursement?S("",!0):(a(),U(De,{key:0},[s[1]||(s[1]=c(" de ")),v("i",null,C(t.paiement.Payeur),1)],64)),s[2]||(s[2]=c(" : ")),v("b",null,C(f(W).montant(t.paiement.Montant)),1)]),_:1,__:[2]}),l(he,null,{default:o(()=>[c(C(t.paiement.Label),1)]),_:1})]),_:1}),l(g,{"align-self":"center",cols:"auto"},{default:o(()=>[t.user=="backoffice"?(a(),r(x,{key:0,icon:"mdi-pencil",size:"x-small",onClick:s[0]||(s[0]=m=>i("edit"))})):S("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),je=y({__name:"EventInscriptionTimeV",props:{time:{}},setup(e){const n=e;return(t,i)=>(a(),r(b,{color:"grey",icon:"mdi-map-marker",time:n.time},{default:o(()=>i[0]||(i[0]=[c(" Demande d'inscription effectuée. ")])),_:1,__:[0]},8,["time"]))}}),Oe={key:1},Ne=y({__name:"EventMessageV",props:{event:{},content:{},user:{}},emits:["delete"],setup(e,{emit:n}){const t=e,i=n,d=I(()=>u(t.content.Message.Origine)),s=I(()=>t.user=="backoffice"&&_);function u(T){switch(T){case h.FromBackoffice:return"bg-light-green-lighten-3";case h.FromDirecteur:return"bg-lime";case h.FromEspaceperso:return"bg-light-blue-lighten-3"}}const m=J(!1),_=I(()=>t.content.Message.Origine==(t.user=="backoffice"?h.FromBackoffice:h.FromEspaceperso));return(T,p)=>(a(),r(b,{icon:_.value?"mdi-email-arrow-right":"mdi-email-arrow-left",color:"light-blue-darken-3",time:t.event.Created,size:"x-large"},{default:o(()=>[m.value?(a(),r(xe,{key:0,modelValue:m.value,"onUpdate:modelValue":p[1]||(p[1]=P=>m.value=P),"max-width":"400px"},{default:o(()=>[l(B,{title:"Confirmation"},{default:o(()=>[l(N,null,{default:o(()=>p[3]||(p[3]=[c(" Confirmez-vous la suppression de ce message ? "),v("br",null,null,-1),v("br",null,null,-1),c(" Attention, cette opération est irréversible. ")])),_:1,__:[3]}),l($e,null,{default:o(()=>[l(ze),l(x,{color:"red",onClick:p[0]||(p[0]=P=>i("delete"))},{default:o(()=>p[4]||(p[4]=[c("Supprimer")])),_:1,__:[4]})]),_:1})]),_:1})]),_:1},8,["modelValue"])):S("",!0),l($,{"no-gutters":""},{default:o(()=>[l(g,{"align-self":"center"},{default:o(()=>[l(B,{class:E(d.value)},{default:o(()=>[l(N,{class:"pa-1"},{default:o(()=>[v("pre",null,C(t.content.Message.Contenu),1)]),_:1})]),_:1},8,["class"])]),_:1}),l(g,{cols:"auto","align-self":"center"},{default:o(()=>[s.value?(a(),r(x,{key:0,icon:"",size:"x-small",class:"ml-2",onClick:p[2]||(p[2]=P=>m.value=!0)},{default:o(()=>[l(F,{color:"red"},{default:o(()=>p[5]||(p[5]=[c("mdi-delete")])),_:1,__:[5]})]),_:1})):(a(),U("div",Oe,[l(x,{icon:"",size:"x-small",variant:"text",disabled:""})]))]),_:1})]),_:1})]),_:1},8,["icon","time"]))}}),Ae={href:""},qe={href:""},Ge=y({__name:"EventPlaceLibereeV",props:{event:{},content:{}},setup(e){const n=e;return(t,i)=>{const d=b;return a(),r(d,{icon:"mdi-information-outline",color:"yellow",time:n.event.Created},{default:o(()=>[i[0]||(i[0]=c(" Une place pour ")),v("a",Ae,C(n.content.ParticipantLabel),1),i[1]||(i[1]=c(" s'est libérée sur le séjour ")),v("a",qe,C(n.content.CampLabel),1),i[2]||(i[2]=c(". "))]),_:1,__:[0,1,2]},8,["time"])}}}),Ye=y({__name:"EventSupprimeV",props:{event:{},content:{}},setup(e){const n=e;return(t,i)=>{const d=b;return a(),r(d,{color:"grey",icon:"mdi-close",time:n.event.Created,size:"small"},{default:o(()=>i[0]||(i[0]=[c(" Message supprimé ")])),_:1,__:[0]},8,["time"])}}}),He=y({__name:"EventValidationV",props:{event:{},content:{}},setup(e){const n=e;return(t,i)=>{const d=b;return a(),r(d,{color:"green",icon:"mdi-map-marker-check",time:n.event.Created},{default:o(()=>[i[0]||(i[0]=c(" Inscription confirmée ")),l(Ke,{text:"Inscription reçue et confirmée "+(n.content.ByCamp?`par la direction du séjour ${n.content.ByCamp}.`:"par le centre.")},{activator:o(({props:s})=>[l(Pe,Ee(s,{"prepend-icon":"mdi-account"}),{default:o(()=>[c(C(n.content.ByCamp?n.content.ByCamp:"Centre"),1)]),_:2},1040)]),_:1},8,["text"])]),_:1,__:[0]},8,["time"])}}}),Je={key:0},Qe=y({__name:"EventFactureV",props:{event:{},content:{}},setup(e){const n=e;return(t,i)=>{const d=b;return a(),r(d,{color:"orange-darken-1",icon:"mdi-invoice",time:n.event.Created},{default:o(()=>[i[0]||(i[0]=c(" Demande de règlement envoyée. ")),n.content.IsRappel?(a(),U("i",Je,"Il s'agit d'un rappel.")):S("",!0)]),_:1,__:[0]},8,["time"])}}}),We={href:""},Xe=y({__name:"EventCampDocsV",props:{event:{},content:{}},setup(e){const n=e;return(t,i)=>{const d=b;return a(),r(d,{icon:"mdi-mail",color:"light-blue",time:n.event.Created},{default:o(()=>[i[0]||(i[0]=c(" Les documents du séjour ")),v("a",We,C(n.content.CampLabel),1),i[1]||(i[1]=c(" ont été envoyés. "))]),_:1,__:[0,1]},8,["time"])}}}),Ze=y({__name:"EventAttestationV",props:{event:{},content:{}},setup(e){const n=e,t=I(()=>{switch(n.content.Distribution){case K.DEspacePerso:return"téléchargée depuis l'espace personnel";case K.DMail:return"envoyée";case K.DMailAndDownloaded:return"envoyée et téléchargée"}});return(i,d)=>{const s=b;return a(),r(s,{icon:"mdi-invoice-check",color:"light-green-darken-1",time:n.event.Created},{default:o(()=>[d[0]||(d[0]=c(" Une ")),v("b",null,C(n.content.IsPresence?"attestation de présence":"facture acquittée"),1),c(" a été "+C(t.value)+". ",1)]),_:1,__:[0]},8,["time"])}}}),et=y({__name:"EventSondageV",props:{event:{},content:{},user:{}},emits:["goToSondage"],setup(e,{emit:n}){const t=e,i=n;return(d,s)=>{const u=b;return a(),r(u,{color:"purple",icon:"mdi-comment-quote",time:t.event.Created},{default:o(()=>[l($,null,{default:o(()=>[l(g,{"align-self":"center"},{default:o(()=>[c(" Un sondage concernant le séjour "+C(t.content.CampLabel)+" a été envoyé. ",1)]),_:1}),l(g,{"align-self":"center",cols:"auto"},{default:o(()=>[l(x,{size:"small",onClick:s[0]||(s[0]=m=>i("goToSondage",t.content.IdCamp))},{default:o(()=>[c(C(t.user=="espaceperso"?"répondre":"aller"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["time"])}}}),rt=y({__name:"EventSwitch",props:{event:{}},emits:["editPaiement","deleteMessage","goToSondage"],setup(e,{emit:n}){const t=e,i=n;return(d,s)=>{const u=je,m=Ue;return t.event.Kind=="inscription-time"?(a(),r(u,{key:0,time:t.event.Time},null,8,["time"])):t.event.Kind=="paiement"?(a(),r(m,{key:1,paiement:t.event.Paiement,user:t.event.User,onEdit:s[0]||(s[0]=_=>i("editPaiement",t.event.Paiement))},null,8,["paiement","user"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==f(V).Supprime?(a(),r(Ye,{key:2,event:t.event.Event,content:t.event.Event.Content.Data},null,8,["event","content"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==f(V).Validation?(a(),r(He,{key:3,event:t.event.Event,content:t.event.Event.Content.Data},null,8,["event","content"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==f(V).Message?(a(),r(Ne,{key:4,event:t.event.Event,content:t.event.Event.Content.Data,user:t.event.User,onDelete:s[1]||(s[1]=_=>i("deleteMessage",t.event.Event))},null,8,["event","content","user"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==f(V).PlaceLiberee?(a(),r(Ge,{key:5,event:t.event.Event,content:t.event.Event.Content.Data},null,8,["event","content"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==f(V).Facture?(a(),r(Qe,{key:6,event:t.event.Event,content:t.event.Event.Content.Data},null,8,["event","content"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==f(V).CampDocs?(a(),r(Xe,{key:7,event:t.event.Event,content:t.event.Event.Content.Data},null,8,["event","content"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==f(V).Attestation?(a(),r(Ze,{key:8,event:t.event.Event,content:t.event.Event.Content.Data},null,8,["event","content"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==f(V).Sondage?(a(),r(et,{key:9,event:t.event.Event,content:t.event.Event.Content.Data,user:t.event.User,onGoToSondage:s[2]||(s[2]=_=>i("goToSondage",_))},null,8,["event","content","user"])):S("",!0)}}});export{at as V,lt as _,st as a,rt as b};
