import{q as I,s as S,r as L,u as R,m as y,v as V,A as M,c4 as j,ap as P,G as _,c as A,Y as b,N as C,D as O,cK as x,F as D}from"./VSnackbar--Whjvjaq.js";import{N,O as $}from"./VTextarea-CO0IE_yp.js";const z=S({...P(),...$()},"VForm"),Y=I()({name:"VForm",props:z(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,r){let{slots:e,emit:n}=r;const l=N(t),u=L();function i(s){s.preventDefault(),l.reset()}function g(s){const a=s,c=l.validate();a.then=c.then.bind(c),a.catch=c.catch.bind(c),a.finally=c.finally.bind(c),n("submit",a),a.defaultPrevented||c.then(o=>{var f;let{valid:m}=o;m&&((f=u.value)==null||f.submit())}),a.preventDefault()}return R(()=>{var s;return y("form",{ref:u,class:M(["v-form",t.class]),style:V(t.style),novalidate:!0,onReset:i,onSubmit:g},[(s=e.default)==null?void 0:s.call(e,l)])}),j(l,u)}}),B=(t,r,e)=>{if(t==null||r==null)return-1;if(!r.length)return 0;t=t.toString().toLocaleLowerCase(),r=r.toString().toLocaleLowerCase();const n=[];let l=t.indexOf(r);for(;~l;)n.push([l,l+r.length]),l=t.indexOf(r,l+r.length);return n.length?n:-1};function K(t,r){if(!(t==null||typeof t=="boolean"||t===-1))return typeof t=="number"?[[t,t+r.length]]:Array.isArray(t[0])?t:[t]}const H=S({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function E(t,r,e){var g;const n=[],l=(e==null?void 0:e.default)??B,u=e!=null&&e.filterKeys?O(e.filterKeys):!1,i=Object.keys((e==null?void 0:e.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return n;e:for(let s=0;s<t.length;s++){const[a,c=a]=O(t[s]),o={},m={};let f=-1;if((r||i>0)&&!(e!=null&&e.noFilter)){if(typeof a=="object"){const k=u||Object.keys(c);for(const d of k){const w=x(c,d),v=(g=e==null?void 0:e.customKeyFilter)==null?void 0:g[d];if(f=v?v(w,r,a):l(w,r,a),f!==-1&&f!==!1)v?o[d]=K(f,r):m[d]=K(f,r);else if((e==null?void 0:e.filterMode)==="every")continue e}}else f=l(a,r,a),f!==-1&&f!==!1&&(m.title=K(f,r));const h=Object.keys(m).length,F=Object.keys(o).length;if(!h&&!F||(e==null?void 0:e.filterMode)==="union"&&F!==i&&!h||(e==null?void 0:e.filterMode)==="intersection"&&(F!==i||!h))continue}n.push({index:s,matches:{...m,...o}})}return n}function J(t,r,e,n){const l=_([]),u=_(new Map),i=A(()=>b(r));C(()=>{const s=typeof e=="function"?e():b(e),a=typeof s!="string"&&typeof s!="number"?"":String(s),c=E(i.value,a,{customKeyFilter:{...t.customKeyFilter,...b(n==null?void 0:n.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),o=b(r),m=[],f=new Map;c.forEach(h=>{let{index:F,matches:k}=h;const d=o[F];m.push(d),f.set(d.value,k)}),l.value=m,u.value=f});function g(s){return u.value.get(s.value)}return{filteredItems:l,filteredMatches:u,getMatches:g}}function T(t,r,e){return e==null||!e.length?r:e.map((n,l)=>{const u=l===0?0:e[l-1][1],i=[y("span",{class:M(`${t}__unmask`)},[r.slice(u,n[0])]),y("span",{class:M(`${t}__mask`)},[r.slice(n[0],n[1])])];return l===e.length-1&&i.push(y("span",{class:M(`${t}__unmask`)},[r.slice(n[1])])),y(D,null,[i])})}export{Y as V,T as h,H as m,J as u};
