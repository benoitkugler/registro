import{q as S,s as I,k as j,x as C,j as F,C as L,z as M,ca as P,as as R,J as O,c as V,Y as k,Q as x,H as _,cQ as A,F as z}from"./VSnackbar-BIDVaiYL.js";import{O as Q,P as $}from"./VTextarea-iANrb6Vp.js";const B=I({...R(),...$()},"VForm"),N=S()({name:"VForm",props:B(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=Q(e),c=j();function i(o){o.preventDefault(),s.reset()}function u(o){const l=o,a=s.validate();l.then=a.then.bind(a),l.catch=a.catch.bind(a),l.finally=a.finally.bind(a),r("submit",l),l.defaultPrevented||a.then(d=>{let{valid:m}=d;m&&c.value?.submit()}),l.preventDefault()}return C(()=>F("form",{ref:c,class:M(["v-form",e.class]),style:L(e.style),novalidate:!0,onReset:i,onSubmit:u},[n.default?.(s)])),P(s,c)}}),D=(e,t,n)=>{if(e==null||t==null)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const r=[];let s=e.indexOf(t);for(;~s;)r.push([s,s+t.length]),s=e.indexOf(t,s+t.length);return r.length?r:-1};function K(e,t){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const Y=I({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function E(e,t,n){const r=[],s=n?.default??D,c=n?.filterKeys?_(n.filterKeys):!1,i=Object.keys(n?.customKeyFilter??{}).length;if(!e?.length)return r;let u=null;e:for(let o=0;o<e.length;o++){const[l,a=l]=_(e[o]),d={},m={};let f=-1;if((t||i>0)&&!n?.noFilter){let p=!1;if(typeof l=="object"){if(l.type==="divider"||l.type==="subheader"){u?.type==="divider"&&l.type==="subheader"&&r.push(u),u={index:o,matches:{},type:l.type};continue}const g=c||Object.keys(a);p=g.length===i;for(const b of g){const w=A(a,b),v=n?.customKeyFilter?.[b];if(f=v?v(w,t,l):s(w,t,l),f!==-1&&f!==!1)v?d[b]=K(f,t):m[b]=K(f,t);else if(n?.filterMode==="every")continue e}}else f=s(l,t,l),f!==-1&&f!==!1&&(m.title=K(f,t));const h=Object.keys(m).length,y=Object.keys(d).length;if(!h&&!y||n?.filterMode==="union"&&y!==i&&!h||n?.filterMode==="intersection"&&(y!==i||!h&&i>0&&!p))continue}u&&(r.push(u),u=null),r.push({index:o,matches:{...m,...d}})}return r}function G(e,t,n,r){const s=O([]),c=O(new Map),i=V(()=>k(t));x(()=>{const o=typeof n=="function"?n():k(n),l=typeof o!="string"&&typeof o!="number"?"":String(o),a=E(i.value,l,{customKeyFilter:{...e.customKeyFilter,...k(r?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),d=k(t),m=[],f=new Map;a.forEach(p=>{let{index:h,matches:y}=p;const g=d[h];m.push(g),f.set(g.value,y)}),s.value=m,c.value=f});function u(o){return c.value.get(o.value)}return{filteredItems:s,filteredMatches:c,getMatches:u}}function T(e,t,n){return n==null||!n.length?t:n.map((r,s)=>{const c=s===0?0:n[s-1][1],i=[F("span",{class:M(`${e}__unmask`)},[t.slice(c,r[0])]),F("span",{class:M(`${e}__mask`)},[t.slice(r[0],r[1])])];return s===n.length-1&&i.push(F("span",{class:M(`${e}__unmask`)},[t.slice(r[1])])),F(z,null,[i])})}export{N as V,T as h,Y as m,G as u};
