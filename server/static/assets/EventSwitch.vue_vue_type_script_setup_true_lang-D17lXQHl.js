import{d as k,n as ee,u as te,a4 as ne,ac as A,p as r,o as a,g as E,w as i,b as o,_ as b,h as g,Y as u,ab as ie,bJ as le,i as oe,ct as se,j as p,bK as ae,q as R,s as F,cu as re,A as h,bY as de,bX as ue,x as M,C as T,z as I,a2 as P,B as ce,aq as q,ao as G,ap as J,as as U,I as Y,cv as me,J as ve,k as H,L as fe,y as w,an as W,cw as pe,ah as Ce,b4 as ge,W as ye,aj as _e,K as D,c as z,am as ke,ar as be,bH as Ve,r as De,t as _,a0 as X,e as d,a as Q,F as Ee,aL as y,l as $,cx as B,cy as S}from"./VSnackbar-BIDVaiYL.js";import{d as Se,l as Te,b as L,o as Ie,p as $e,c as j,f as O,i as ze,e as xe,k as Pe}from"./VTextarea-iANrb6Vp.js";import{f as N}from"./VTabs-4ygjv7tw.js";const Ze=k({__name:"MontantField",props:ee({label:{},hideDetails:{type:Boolean},readonlyCurrency:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const l=t,e=te(t,"modelValue"),s=ne(A);return(m,n)=>(a(),r(E,{"no-gutters":""},{default:i(()=>[o(g,{cols:l.readonlyCurrency?12:6},{default:i(()=>[o(Se,{class:"mr-1",variant:"outlined",density:"compact","hide-details":l.hideDetails,label:l.label,type:"number",disabled:l.disabled,"model-value":e.value.Cent/100,"onUpdate:modelValue":n[0]||(n[0]=c=>e.value={Cent:u(ie)(Number(c)*100),Currency:e.value.Currency}),suffix:l.readonlyCurrency?u(A)[e.value.Currency]:void 0},null,8,["hide-details","label","disabled","model-value","suffix"])]),_:1},8,["cols"]),l.readonlyCurrency?b("",!0):(a(),r(g,{key:0,cols:"6"},{default:i(()=>[o(Te,{label:"Monnaie",variant:"outlined",density:"compact",disabled:l.disabled,items:u(s),"model-value":e.value.Currency,"hide-details":l.hideDetails,"onUpdate:modelValue":n[1]||(n[1]=c=>e.value={Cent:e.value.Cent,Currency:c})},null,8,["disabled","items","model-value","hide-details"])]),_:1}))]),_:1}))}}),Ke={class:"d-flex align-center justify-center fill-height"},et=k({__name:"FileCardReadonly",props:{fileKey:{},isGeneratedDoc:{type:Boolean},large:{type:Boolean}},setup(t){const l=t;return(e,s)=>(a(),r(L,{class:"my-2",href:l.isGeneratedDoc?u(N).RenderDocumentCamp(l.fileKey,!1):u(le)(l.fileKey)},{default:i(()=>[o(oe,{cover:"",src:l.isGeneratedDoc?u(N).RenderDocumentCamp(l.fileKey,!0):u(se)(l.fileKey),width:l.large?"142px":"48px"},{placeholder:i(()=>[p("div",Ke,[o(ae,{color:"grey-lighten-4",indeterminate:""})])]),_:1},8,["src","width"])]),_:1},8,["href"]))}}),we=F({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Y,iconColor:String,lineColor:String,...U(),...J(),...G(),...q()},"VTimelineDivider"),Be=R()({name:"VTimelineDivider",props:we(),setup(t,l){let{slots:e}=l;const{sizeClasses:s,sizeStyles:m}=re(t,"v-timeline-divider__dot"),{backgroundColorStyles:n,backgroundColorClasses:c}=h(()=>t.dotColor),{roundedClasses:C}=de(t,"v-timeline-divider__dot"),{elevationClasses:f}=ue(t),{backgroundColorClasses:x,backgroundColorStyles:v}=h(()=>t.lineColor);return M(()=>p("div",{class:I(["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class]),style:T(t.style)},[p("div",{class:I(["v-timeline-divider__before",x.value]),style:T(v.value)},null),!t.hideDot&&p("div",{key:"dot",class:I(["v-timeline-divider__dot",f.value,C.value,s.value]),style:T(m.value)},[p("div",{class:I(["v-timeline-divider__inner-dot",c.value,C.value]),style:T(n.value)},[e.default?o(ce,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},e.default):o(P,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),p("div",{class:I(["v-timeline-divider__after",x.value]),style:T(v.value)},null)])),{}}}),Z=F({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Y,iconColor:String,lineInset:[Number,String],side:{type:String,validator:t=>t==null||["start","end"].includes(t)},...U(),...pe(),...q(),...J(),...G(),...W()},"VTimelineItem"),Le=R()({name:"VTimelineItem",props:Z(),setup(t,l){let{slots:e}=l;const{dimensionStyles:s}=me(t),m=ve(0),n=H();return fe(n,c=>{c&&(m.value=c.$el.querySelector(".v-timeline-divider__dot")?.getBoundingClientRect().width??0)},{flush:"post"}),M(()=>p("div",{class:I(["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot,"v-timeline-item--side-start":t.side==="start","v-timeline-item--side-end":t.side==="end"},t.class]),style:T([{"--v-timeline-dot-size":w(m.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${w(t.lineInset)})`:w(0)},t.style])},[p("div",{class:"v-timeline-item__body",style:T(s.value)},[e.default?.()]),o(Be,{ref:n,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:e.icon}),t.density!=="compact"&&p("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&e.opposite?.()])])),{}}}),Re=F({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Ve(Z({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...U(),...be(),...W(),...ke()},"VTimeline"),tt=R()({name:"VTimeline",props:Re(),setup(t,l){let{slots:e}=l;const{themeClasses:s}=Ce(t),{densityClasses:m}=ge(t),{rtlClasses:n}=ye();_e({VTimelineDivider:{lineColor:D(()=>t.lineColor)},VTimelineItem:{density:D(()=>t.density),dotColor:D(()=>t.dotColor),fillDot:D(()=>t.fillDot),hideOpposite:D(()=>t.hideOpposite),iconColor:D(()=>t.iconColor),lineColor:D(()=>t.lineColor),lineInset:D(()=>t.lineInset),size:D(()=>t.size)}});const c=z(()=>{const f=t.side?t.side:t.density!=="default"?"end":null;return f&&`v-timeline--side-${f}`}),C=z(()=>{const f=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return f;case"start":return f[0];case"end":return f[1];default:return null}});return M(()=>o(t.tag,{class:I(["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,C.value,{"v-timeline--inset-line":!!t.lineInset},s.value,m.value,c.value,n.value,t.class]),style:T([{"--v-timeline-line-thickness":w(t.lineThickness)},t.style])},e)),{}}}),Fe={class:"ma-2"},V=k({__name:"EventItem",props:{color:{},icon:{},time:{},size:{}},setup(t){const l=t;return(e,s)=>(a(),r(Le,{"dot-color":l.color,width:"100%",size:l.size||"medium",elevation:2},{icon:i(()=>[p("div",Fe,[o(P,{icon:l.icon},null,8,["icon"])])]),default:i(()=>[o(E,{justify:"space-between","no-gutters":""},{default:i(()=>[o(g,{"align-self":"center",cols:"10"},{default:i(()=>[De(e.$slots,"default")]),_:3}),o(g,{"align-self":"center",cols:"2",class:"text-grey pl-2"},{default:i(()=>[p("small",null,_(u(X).time(l.time)),1)]),_:1})]),_:3})]),_:3},8,["dot-color","size"]))}}),Me=k({__name:"EventPaiementV",props:{paiement:{},user:{}},emits:["edit"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const c=V;return a(),r(c,{color:"#ad9726",icon:"mdi-cash",time:e.paiement.Time},{default:i(()=>[o(E,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[o(Ie,null,{default:i(()=>[d(_(e.paiement.IsRemboursement?"Remboursement":"Paiement")+" ",1),e.paiement.IsRemboursement?b("",!0):(a(),Q(Ee,{key:0},[n[1]||(n[1]=d(" de ",-1)),p("i",null,_(e.paiement.Payeur),1)],64)),n[2]||(n[2]=d(" : ",-1)),p("b",null,_(u(X).montant(e.paiement.Montant)),1)]),_:1}),o($e,null,{default:i(()=>[d(_(e.paiement.Label),1)]),_:1})]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==u(y).Backoffice||e.user==u(y).FondSoutien?(a(),r($,{key:0,icon:"mdi-pencil",size:"x-small",onClick:n[0]||(n[0]=C=>s("edit"))})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Ue=k({__name:"EventInscriptionTimeV",props:{time:{}},setup(t){const l=t;return(e,s)=>(a(),r(V,{color:"grey",icon:"mdi-map-marker",time:l.time},{default:i(()=>[...s[0]||(s[0]=[d(" Demande d'inscription effectuée. ",-1)])]),_:1},8,["time"]))}}),Ae={style:{"white-space":"pre-wrap"}},he=k({__name:"EventMessageV",props:{event:{},content:{},user:{}},emits:["delete","replyFondSoutien"],setup(t,{emit:l}){const e=t,s=l,m=z(()=>c(e.content.Message.Origine)),n=z(()=>e.user==y.Backoffice||e.user==y.FondSoutien&&f);function c(x){switch(x){case y.Backoffice:return"bg-light-green-lighten-3";case y.FondSoutien:return"bg-yellow-darken-1";case y.Directeur:return"bg-lime";case y.Espaceperso:return"bg-light-blue-lighten-3"}}const C=H(!1),f=z(()=>e.content.Message.Origine==e.user);return(x,v)=>(a(),r(V,{icon:f.value?"mdi-email-arrow-right":"mdi-email-arrow-left",color:"light-blue-darken-3",time:e.event.Created,size:"x-large"},{default:i(()=>[o(E,{"no-gutters":""},{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[o(L,{class:I(m.value)},{default:i(()=>[o(j,{class:"pa-2"},{default:i(()=>[p("pre",Ae,_(e.content.Message.Contenu),1)]),_:1})]),_:1},8,["class"])]),_:1}),o(g,{cols:"auto","align-self":"center"},{default:i(()=>[n.value?(a(),r($,{key:0,icon:"",size:"x-small",class:"ml-2",onClick:v[0]||(v[0]=K=>C.value=!0)},{default:i(()=>[o(P,{color:"red"},{default:i(()=>[...v[4]||(v[4]=[d("mdi-delete",-1)])]),_:1})]),_:1})):b("",!0)]),_:1})]),_:1}),e.user==u(y).Espaceperso&&e.content.Message.Origine==u(y).FondSoutien?(a(),r(E,{key:0,"no-gutters":"",class:"mt-2"},{default:i(()=>[o(O),o($,{size:"small",onClick:v[1]||(v[1]=K=>s("replyFondSoutien"))},{prepend:i(()=>[o(P,null,{default:i(()=>[...v[5]||(v[5]=[d("mdi-reply",-1)])]),_:1})]),default:i(()=>[v[6]||(v[6]=d(" Répondre au fonds de soutien ",-1))]),_:1})]),_:1})):b("",!0),C.value?(a(),r(ze,{key:1,modelValue:C.value,"onUpdate:modelValue":v[3]||(v[3]=K=>C.value=K),"max-width":"400px"},{default:i(()=>[o(L,{title:"Confirmation"},{default:i(()=>[o(j,null,{default:i(()=>[...v[7]||(v[7]=[d(" Confirmez-vous la suppression de ce message ? ",-1),p("br",null,null,-1),p("br",null,null,-1),d(" Attention, cette opération est irréversible. ",-1)])]),_:1}),o(xe,null,{default:i(()=>[o(O),o($,{color:"red",onClick:v[2]||(v[2]=K=>s("delete"))},{default:i(()=>[...v[8]||(v[8]=[d("Supprimer",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):b("",!0)]),_:1},8,["icon","time"]))}}),je=k({__name:"EventPlaceLibereeV",props:{event:{},content:{},user:{}},emits:["acceptPlaceLiberee"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const c=V;return a(),r(c,{icon:"mdi-information-outline",color:"yellow",time:e.event.Created},{default:i(()=>[o(E,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[n[1]||(n[1]=d(" Une place pour ",-1)),p("i",null,_(e.content.ParticipantLabel),1),d(" s'est libérée sur le séjour "+_(e.content.CampLabel)+". ",1)]),_:1}),o(g,{cols:"auto","align-self":"center"},{default:i(()=>[e.user==u(y).Espaceperso&&!e.content.Accepted?(a(),r($,{key:0,size:"small",color:"green",onClick:n[0]||(n[0]=C=>s("acceptPlaceLiberee"))},{prepend:i(()=>[o(P,null,{default:i(()=>[...n[2]||(n[2]=[d("mdi-check",-1)])]),_:1})]),default:i(()=>[n[3]||(n[3]=d(" Accepter la place",-1))]),_:1})):b("",!0),e.content.Accepted?(a(),r(Pe,{key:1,"prepend-icon":"mdi-check"},{default:i(()=>[...n[4]||(n[4]=[d(" Acceptée ",-1)])]),_:1})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Oe=k({__name:"EventSupprimeV",props:{event:{},content:{}},setup(t){const l=t;return(e,s)=>{const m=V;return a(),r(m,{color:"grey",icon:"mdi-close",time:l.event.Created,size:"small"},{default:i(()=>[...s[0]||(s[0]=[d(" Message supprimé ",-1)])]),_:1},8,["time"])}}}),Ne=k({__name:"EventValidationV",props:{event:{},content:{},user:{}},emits:["goToValidation"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const c=V;return a(),r(c,{color:"green",icon:"mdi-map-marker-check",time:e.event.Created},{default:i(()=>[o(E,{"no-gutters":""},{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[d(" Inscription reçue et confirmée "+_(e.content.ByCamp?`par la direction du séjour ${e.content.ByCamp}.`:"par le centre."),1)]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==u(y).Espaceperso?(a(),r($,{key:0,icon:"mdi-information",flat:"",class:"mr-2",onClick:n[0]||(n[0]=C=>s("goToValidation"))})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),qe={key:0},Ge=k({__name:"EventFactureV",props:{event:{},content:{}},setup(t){const l=t;return(e,s)=>{const m=V;return a(),r(m,{color:"orange-darken-1",icon:"mdi-invoice",time:l.event.Created},{default:i(()=>[s[0]||(s[0]=d(" Demande de règlement envoyée. ",-1)),l.content.IsRappel?(a(),Q("i",qe,"Il s'agit d'un rappel.")):b("",!0)]),_:1},8,["time"])}}}),Je=k({__name:"EventCampDocsV",props:{event:{},content:{},user:{}},emits:["goToDocuments"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const c=V;return a(),r(c,{icon:"mdi-mail",color:"light-blue",time:e.event.Created},{default:i(()=>[o(E,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[n[1]||(n[1]=d(" Les documents du séjour ",-1)),p("i",null,_(e.content.CampLabel),1),n[2]||(n[2]=d(" ont été envoyés. ",-1))]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==u(y).Espaceperso?(a(),r($,{key:0,size:"small",onClick:n[0]||(n[0]=C=>s("goToDocuments",e.content.IdCamp)),class:"mr-2"},{default:i(()=>[...n[3]||(n[3]=[d(" Lire ",-1)])]),_:1})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Ye=k({__name:"EventAttestationV",props:{event:{},content:{}},setup(t){const l=t,e=z(()=>{switch(l.content.Distribution){case B.DEspacePerso:return"téléchargée depuis l'espace personnel";case B.DMail:return"envoyée";case B.DMailAndDownloaded:return"envoyée et téléchargée"}});return(s,m)=>{const n=V;return a(),r(n,{icon:"mdi-invoice-check",color:"light-green-darken-1",time:l.event.Created},{default:i(()=>[m[0]||(m[0]=d(" Une ",-1)),p("b",null,_(l.content.IsPresence?"attestation de présence":"facture acquittée"),1),d(" a été "+_(e.value)+". ",1)]),_:1},8,["time"])}}}),He=k({__name:"EventSondageV",props:{event:{},content:{},user:{}},emits:["goToSondage"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const c=V;return a(),r(c,{color:"purple",icon:"mdi-comment-quote",time:e.event.Created},{default:i(()=>[o(E,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[d(" Un sondage concernant le séjour "+_(e.content.CampLabel)+" a été envoyé. ",1)]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[o($,{size:"small",onClick:n[0]||(n[0]=C=>s("goToSondage",e.content.IdCamp))},{default:i(()=>[d(_(e.user==u(y).Espaceperso?"répondre":"aller"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["time"])}}}),nt=k({__name:"EventSwitch",props:{event:{}},emits:["editPaiement","deleteMessage","goToSondage","goToDocuments","goToValidation","acceptPlaceLiberee","replyFondSoutien"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const c=Ue,C=Me;return e.event.Kind=="inscription-time"?(a(),r(c,{key:0,time:e.event.Time},null,8,["time"])):e.event.Kind=="paiement"?(a(),r(C,{key:1,paiement:e.event.Paiement,user:e.event.User,onEdit:n[0]||(n[0]=f=>s("editPaiement",e.event.Paiement))},null,8,["paiement","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==u(S).Supprime?(a(),r(Oe,{key:2,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==u(S).Validation?(a(),r(Ne,{key:3,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToValidation:n[1]||(n[1]=f=>s("goToValidation"))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==u(S).Message?(a(),r(he,{key:4,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onDelete:n[2]||(n[2]=f=>s("deleteMessage",e.event.Event)),onReplyFondSoutien:n[3]||(n[3]=f=>s("replyFondSoutien"))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==u(S).PlaceLiberee?(a(),r(je,{key:5,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onAcceptPlaceLiberee:n[4]||(n[4]=f=>s("acceptPlaceLiberee",e.event.Event.Id))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==u(S).Facture?(a(),r(Ge,{key:6,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==u(S).CampDocs?(a(),r(Je,{key:7,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToDocuments:n[5]||(n[5]=f=>s("goToDocuments",f))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==u(S).Attestation?(a(),r(Ye,{key:8,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==u(S).Sondage?(a(),r(He,{key:9,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToSondage:n[6]||(n[6]=f=>s("goToSondage",f))},null,8,["event","content","user"])):b("",!0)}}});export{tt as V,Ze as _,et as a,nt as b};
