import{p as Y,q as Q,C as Z,bI as Ie,bp as ke,H as O,r as z,s as m,O as k,u as ee,co as q,a as u,bX as te,K as Se,cp as Pe,S as we,D as le,cq as H,G as ze,J as Be,bq as De,l as V,F as $,A as Fe,R as ae,cr as Re,d as ne,aR as xe,e as ie,o as oe,w as v,Y as x,$ as K,b as A,t as Ae,m as G,bt as Te,j as _e,c9 as $e}from"./VSnackbar-4WS0ckTD.js";import{u as Ne,r as J,H as W,I as Oe,v as Me,J as Ue,k as je,g as Ee,b as X,c as Le,V as qe,e as He,f as Ke}from"./VTextarea-vvA5kftK.js";const Ge=Q({id:String,interactive:Boolean,text:String,...Se(Pe({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),Ze=Y()({name:"VTooltip",props:Ge(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:o}=c;const d=Z(e,"modelValue"),{scopeId:i}=Ie(),l=ke(),n=O(()=>e.id||`v-tooltip-${l}`),f=z(),C=m(()=>e.location.split(" ").length>1?e.location:e.location+" center"),S=m(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),s=O(()=>e.transition!=null?e.transition:d.value?"scale-transition":"fade-transition"),b=m(()=>k({"aria-describedby":n.value},e.activatorProps));return ee(()=>{const I=q.filterProps(e);return u(q,k({ref:f,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:n.value},I,{modelValue:d.value,"onUpdate:modelValue":p=>d.value=p,transition:s.value,absolute:!0,location:C.value,origin:S.value,persistent:!0,role:"tooltip",activatorProps:b.value,_disableGlobalStack:!0},i),{activator:o.activator,default:function(){var P;for(var p=arguments.length,B=new Array(p),h=0;h<p;h++)B[h]=arguments[h];return((P=o.default)==null?void 0:P.call(o,...B))??e.text}})}),te({},f)}}),Je=Q({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...Me({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>le(e).every(c=>c!=null&&typeof c=="object")},...Oe({clearable:!0})},"VFileInput"),We=Y()({name:"VFileInput",inheritAttrs:!1,props:Je(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,c){let{attrs:o,emit:d,slots:i}=c;const{t:l}=we(),n=Z(e,"modelValue",e.modelValue,t=>le(t),t=>!e.multiple&&Array.isArray(t)?t[0]:t),{isFocused:f,focus:C,blur:S}=Ne(e),s=m(()=>typeof e.showSize!="boolean"?e.showSize:void 0),b=m(()=>(n.value??[]).reduce((t,a)=>{let{size:g=0}=a;return t+g},0)),I=m(()=>H(b.value,s.value)),p=m(()=>(n.value??[]).map(t=>{const{name:a="",size:g=0}=t;return e.showSize?`${a} (${H(g,s.value)})`:a})),B=m(()=>{var a;const t=((a=n.value)==null?void 0:a.length)??0;return e.showSize?l(e.counterSizeString,t,I.value):l(e.counterString,t)}),h=z(),P=z(),r=z(),ue=O(()=>f.value||e.active),M=m(()=>["plain","underlined"].includes(e.variant)),D=ze(!1);function T(){var t;r.value!==document.activeElement&&((t=r.value)==null||t.focus()),f.value||C()}function se(t){var a;(a=r.value)==null||a.click()}function re(t){d("mousedown:control",t)}function ce(t){var a;(a=r.value)==null||a.click(),d("click:control",t)}function de(t){t.stopPropagation(),T(),ae(()=>{n.value=[],Re(e["onClick:clear"],t)})}function fe(t){t.preventDefault(),t.stopImmediatePropagation(),D.value=!0}function ve(t){t.preventDefault(),D.value=!1}function me(t){var g,F;if(t.preventDefault(),t.stopImmediatePropagation(),D.value=!1,!((F=(g=t.dataTransfer)==null?void 0:g.files)!=null&&F.length)||!r.value)return;const a=new DataTransfer;for(const U of t.dataTransfer.files)a.items.add(U);r.value.files=a.files,r.value.dispatchEvent(new Event("change",{bubbles:!0}))}return Be(n,t=>{(!Array.isArray(t)||!t.length)&&r.value&&(r.value.value="")}),ee(()=>{const t=!!(i.counter||e.counter),a=!!(t||i.details),[g,F]=De(o),{modelValue:U,...pe}=J.filterProps(e),ge=W.filterProps(e);return u(J,k({ref:h,modelValue:e.multiple?n.value:n.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":D.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":M.value},e.class],style:e.style,"onClick:prepend":se},g,pe,{centerAffix:!M.value,focused:f.value}),{...i,default:_=>{let{id:R,isDisabled:w,isDirty:j,isReadonly:E,isValid:ye}=_;return u(W,k({ref:P,"prepend-icon":e.prependIcon,onMousedown:re,onClick:ce,"onClick:clear":de,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},ge,{id:R.value,active:ue.value||j.value,dirty:j.value||e.dirty,disabled:w.value,focused:f.value,error:ye.value===!1,onDragover:fe,onDrop:me}),{...i,default:Ve=>{var L;let{props:{class:be,...he}}=Ve;return V($,null,[V("input",k({ref:r,type:"file",readonly:E.value,disabled:w.value,multiple:e.multiple,name:e.name,onClick:y=>{y.stopPropagation(),E.value&&y.preventDefault(),T()},onChange:y=>{if(!y.target)return;const Ce=y.target;n.value=[...Ce.files??[]]},onDragleave:ve,onFocus:T,onBlur:S},he,F),null),V("div",{class:Fe(be)},[!!((L=n.value)!=null&&L.length)&&!e.hideInput&&(i.selection?i.selection({fileNames:p.value,totalBytes:b.value,totalBytesReadable:I.value}):e.chips?p.value.map(y=>u(je,{key:y,size:"small",text:y},null)):p.value.join(", "))])])}})},details:a?_=>{var R,w;return V($,null,[(R=i.details)==null?void 0:R.call(i,_),t&&V($,null,[V("span",null,null),u(Ue,{active:!!((w=n.value)!=null&&w.length),value:B.value,disabled:e.disabled},i.counter)])])}:void 0})}),te({},h,P,r)}}),N=5e6,et=ne({__name:"FileInput",props:{label:{}},emits:["update"],setup(e,{expose:c,emit:o}){const d=e,i=o,l=z(null);function n(s){return s?s.size<=N||`Taille maximale : ${N/1e6}MB`:!0}function f(){l.value&&l.value.size>N||i("update",l.value)}c({openDialog:S});const C=xe("input");function S(){ae(()=>{var s;return(s=C.value)==null?void 0:s.click()})}return(s,b)=>(oe(),ie(We,{label:d.label,density:"comfortable",accept:".jpg,.jpeg,.png,.pdf",multiple:!1,modelValue:l.value,"onUpdate:modelValue":[b[0]||(b[0]=I=>l.value=I),f],rules:[n],"show-size":"",ref_key:"input",ref:C},null,8,["label","modelValue","rules"]))}}),Xe={class:"text-right ml-2"},tt=ne({__name:"FileCard",props:{file:{},readonly:{type:Boolean}},emits:["delete"],setup(e,{emit:c}){const o=e,d=c;return(i,l)=>(oe(),ie(Ee,null,{activator:v(({props:n})=>[u(X,k({class:"my-2"},n),{default:v(()=>[u(_e,{cover:"",src:x($e)(o.file.Key),width:"56px"},null,8,["src"])]),_:2},1040)]),default:v(()=>[u(X,null,{default:v(()=>[u(Le,{class:"px-0"},{default:v(()=>[u(qe,{"min-width":"400",title:o.file.NomClient,subtitle:x(K).size(o.file.Taille)},{append:v(()=>[V("div",Xe,[l[1]||(l[1]=A(" téléversé le ")),l[2]||(l[2]=V("br",null,null,-1)),A(" "+Ae(x(K).time(o.file.Uploaded)),1)])]),_:1},8,["title","subtitle"])]),_:1}),u(He,null,{default:v(()=>[u(G,{onClick:l[0]||(l[0]=n=>d("delete")),color:"red"},{default:v(()=>l[3]||(l[3]=[A(" Supprimer ")])),_:1,__:[3]}),u(Ke),u(G,{href:x(Te)(o.file.Key)},{default:v(()=>l[4]||(l[4]=[A(" Télécharger ")])),_:1,__:[4]},8,["href"])]),_:1})]),_:1})]),_:1}))}});export{Ze as V,tt as _,et as a};
