import{ba as wt,bX as Pt,bc as Ct,a$ as xt,a_ as _t,aG as It,P as te,c as D,D as Tt,ae as Ee,R as ie,bv as ot,bY as Dt,bZ as De,W as Mt,b_ as At,bA as Bt,z as Re,A as $e,$ as Et,ao as Rt,b$ as $t,G as Oe,c0 as Ft,ap as Nt,c1 as Lt,c2 as zt,N as pe,c3 as Ut,c4 as Ht,k as F,c5 as Ot,Q as we,aC as qe,c6 as qt,c7 as Yt,aq as Wt,C as Fe,at as jt,au as Xt,aw as Kt,c8 as Qt,ax as Zt,c9 as Gt,ca as Jt,az as ea,aA as ta,j as M,b as a,i as aa,H as Ne,X as E,cb as la,cc as na,F as Z,cd as oa,J as Me,E as Pe,ce as ia,cf as sa,cg as ua,ch as ra,ci as it,cj as ca,a6 as L,ck as da,al as va,B as fa,aO as ma,O as pa,cl as ga,cm as ya,S as ha,cn as Qe,co as Ze,bQ as ba,cp as Va,cq as ka,cr as Sa,e as g,d as G,v as Ie,x as Ve,y as C,a1 as h,aW as Xe,aV as Ke,o as p,w as n,q as K,a8 as wa,a5 as U,t as z,aL as st,ab as Pa,l as ye,m as he,a3 as se,g as Q,h as S,aK as be,s as Le,aM as Ce,cs as Ca,ct as xa,r as Ye,a7 as ut,a as ae,a4 as xe,aT as We,bJ as _a}from"./VSnackbar-DS0GooKO.js";import{V as Ge,m as Ia}from"./VSheet-BYq0ep0r.js";import{u as Ta,o as Je,p as et,q as Da,r as Ma,s as Aa,t as Ba,v as Ea,w as Ra,b as Ae,x as $a,y as Fa,e as ze,g as Be,V as le,z as Na,a as je,k as La,n as za,h as ge,i as rt,c as de,f as Ua}from"./VTextarea-1-qLFUqr.js";import{V as _e}from"./FileCard.vue_vue_type_script_setup_true_lang-BFJsLt2C.js";import{f as Ha}from"./VTabs-BQkl3qRp.js";import{u as Oa,m as qa,h as Ya,V as Wa}from"./VForm-Uvzd2hMv.js";class ja extends Pt{constructor(o,t,d,l,i){super(l,i),this.onError=o,this.showMessage=t,this.isFondsSoutien=d}hasToken(){return this.authToken!=""}setToken(o,t){this.authToken=o,this.isFondsSoutien=t}handleError(o){const{kind:t,messageHtml:d}=Ct(o);this.onError(t,d)}startRequest(){}}const tt=new ja((e,o)=>{},(e,o)=>{},!1,wt(),"");function Sl(e){return e.Camp.Statut!=It.Ferme&&!e.IsTerminated}function ct(){return{Pattern:"",IdCamp:{Valid:!1,Id:0},Attente:_t.EmptyQA,Reglement:xt.EmptyQR,SortByNewMessages:!1,OnlyFondSoutien:!1}}function Xa(e){const o=ct();return o.Pattern=`id:${e}`,o}function Ka(e){let{rootEl:o,isSticky:t,layoutItemStyles:d}=e;const l=te(!1),i=te(0),s=D(()=>{const u=typeof l.value=="boolean"?"top":l.value;return[t.value?{top:"auto",bottom:"auto",height:void 0}:void 0,l.value?{[u]:Tt(i.value)}:{top:d.value.top}]});Ee(()=>{ie(t,u=>{u?window.addEventListener("scroll",m,{passive:!0}):window.removeEventListener("scroll",m)},{immediate:!0})}),ot(()=>{window.removeEventListener("scroll",m)});let c=0;function m(){const u=c>window.scrollY?"up":"down",r=o.value.getBoundingClientRect(),f=parseFloat(d.value.top??0),w=window.scrollY-Math.max(0,i.value-f),T=r.height+Math.max(i.value,f)-window.scrollY-window.innerHeight,k=parseFloat(getComputedStyle(o.value).getPropertyValue("--v-body-scroll-y"))||0;r.height<window.innerHeight-f?(l.value="top",i.value=f):u==="up"&&l.value==="bottom"||u==="down"&&l.value==="top"?(i.value=window.scrollY+r.top-k,l.value=!0):u==="down"&&T<=0?(i.value=0,l.value="bottom"):u==="up"&&w<=0&&(k?l.value!=="top"&&(i.value=-w+k+f,l.value="top"):(i.value=r.top+w,l.value="top")),c=window.scrollY}return{isStuck:l,stickyStyles:s}}const Qa=100,Za=20;function at(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function lt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let o=0;for(let t=e.length-1;t>0;t--){if(e[t].t===e[t-1].t)continue;const d=at(o),l=(e[t].d-e[t-1].d)/(e[t].t-e[t-1].t);o+=(l-d)*Math.abs(l),t===e.length-1&&(o*=.5)}return at(o)*1e3}function Ga(){const e={};function o(l){Array.from(l.changedTouches).forEach(i=>{(e[i.identifier]??(e[i.identifier]=new Dt(Za))).push([l.timeStamp,i])})}function t(l){Array.from(l.changedTouches).forEach(i=>{delete e[i.identifier]})}function d(l){const i=e[l]?.values().reverse();if(!i)throw new Error(`No samples for touch id ${l}`);const s=i[0],c=[],m=[];for(const u of i){if(s[0]-u[0]>Qa)break;c.push({t:u[0],d:u[1].clientX}),m.push({t:u[0],d:u[1].clientY})}return{x:lt(c),y:lt(m),get direction(){const{x:u,y:r}=this,[f,w]=[Math.abs(u),Math.abs(r)];return f>w&&u>=0?"right":f>w&&u<=0?"left":w>f&&r>=0?"down":w>f&&r<=0?"up":Ja()}}}return{addMovement:o,endTouch:t,getVelocity:d}}function Ja(){throw new Error}function el(e){let{el:o,isActive:t,isTemporary:d,width:l,touchless:i,position:s}=e;Ee(()=>{window.addEventListener("touchstart",Y,{passive:!0}),window.addEventListener("touchmove",W,{passive:!1}),window.addEventListener("touchend",ne,{passive:!0})}),ot(()=>{window.removeEventListener("touchstart",Y),window.removeEventListener("touchmove",W),window.removeEventListener("touchend",ne)});const c=D(()=>["left","right"].includes(s.value)),{addMovement:m,endTouch:u,getVelocity:r}=Ga();let f=!1;const w=te(!1),T=te(0),k=te(0);let $;function b(y,_){return(s.value==="left"?y:s.value==="right"?document.documentElement.clientWidth-y:s.value==="top"?y:s.value==="bottom"?document.documentElement.clientHeight-y:me())-(_?l.value:0)}function V(y){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const I=s.value==="left"?(y-k.value)/l.value:s.value==="right"?(document.documentElement.clientWidth-y-k.value)/l.value:s.value==="top"?(y-k.value)/l.value:s.value==="bottom"?(document.documentElement.clientHeight-y-k.value)/l.value:me();return _?Bt(I):I}function Y(y){if(i.value)return;const _=y.changedTouches[0].clientX,I=y.changedTouches[0].clientY,B=25,H=s.value==="left"?_<B:s.value==="right"?_>document.documentElement.clientWidth-B:s.value==="top"?I<B:s.value==="bottom"?I>document.documentElement.clientHeight-B:me(),N=t.value&&(s.value==="left"?_<l.value:s.value==="right"?_>document.documentElement.clientWidth-l.value:s.value==="top"?I<l.value:s.value==="bottom"?I>document.documentElement.clientHeight-l.value:me());(H||N||t.value&&d.value)&&($=[_,I],k.value=b(c.value?_:I,t.value),T.value=V(c.value?_:I),f=k.value>-20&&k.value<80,u(y),m(y))}function W(y){const _=y.changedTouches[0].clientX,I=y.changedTouches[0].clientY;if(f){if(!y.cancelable){f=!1;return}const H=Math.abs(_-$[0]),N=Math.abs(I-$[1]);(c.value?H>N&&H>3:N>H&&N>3)?(w.value=!0,f=!1):(c.value?N:H)>3&&(f=!1)}if(!w.value)return;y.preventDefault(),m(y);const B=V(c.value?_:I,!1);T.value=Math.max(0,Math.min(1,B)),B>1?k.value=b(c.value?_:I,!0):B<0&&(k.value=b(c.value?_:I,!1))}function ne(y){if(f=!1,!w.value)return;m(y),w.value=!1;const _=r(y.changedTouches[0].identifier),I=Math.abs(_.x),B=Math.abs(_.y);(c.value?I>B&&I>400:B>I&&B>3)?t.value=_.direction===({left:"right",right:"left",top:"down",bottom:"up"}[s.value]||me()):t.value=T.value>.5}const ue=D(()=>w.value?{transform:s.value==="left"?`translateX(calc(-100% + ${T.value*l.value}px))`:s.value==="right"?`translateX(calc(100% - ${T.value*l.value}px))`:s.value==="top"?`translateY(calc(-100% + ${T.value*l.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${T.value*l.value}px))`:me(),transition:"none"}:void 0);return De(w,()=>{const y=o.value?.style.transform??null,_=o.value?.style.transition??null;Mt(()=>{o.value?.style.setProperty("transform",ue.value?.transform||"none"),o.value?.style.setProperty("transition",ue.value?.transition||null)}),At(()=>{o.value?.style.setProperty("transform",y),o.value?.style.setProperty("transition",_)})}),{isDragging:w,dragProgress:T,dragStyles:ue}}function me(){throw new Error}const tl=["start","end","left","right","top","bottom"],al=$e({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>tl.includes(e)},sticky:Boolean,...ta(),...ea(),...Jt(),...Gt({mobile:null}),...Zt(),...Qt(),...Kt(),...Xt({tag:"nav"}),...jt()},"VNavigationDrawer"),wl=Re()({name:"VNavigationDrawer",props:al(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,o){let{attrs:t,emit:d,slots:l}=o;const{isRtl:i}=Et(),{themeClasses:s}=Rt(e),{borderClasses:c}=$t(e),{backgroundColorClasses:m,backgroundColorStyles:u}=Oe(()=>e.color),{elevationClasses:r}=Ft(e),{displayClasses:f,mobile:w}=Nt(e),{roundedClasses:T}=Lt(e),k=zt(),$=pe(e,"modelValue",null,q=>!!q),{ssrBootStyles:b}=Ut(),{scopeId:V}=Ht(),Y=F(),W=te(!1),{runOpenDelay:ne,runCloseDelay:ue}=la(e,q=>{W.value=q}),y=D(()=>e.rail&&e.expandOnHover&&W.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),_=D(()=>Ot(e.location,i.value)),I=we(()=>e.persistent),B=D(()=>!e.permanent&&(w.value||e.temporary)),H=D(()=>e.sticky&&!B.value&&_.value!=="bottom");De(()=>e.expandOnHover&&e.rail!=null,()=>{ie(W,q=>d("update:rail",!q))}),De(()=>!e.disableResizeWatcher,()=>{ie(B,q=>!e.permanent&&qe(()=>$.value=!q))}),De(()=>!e.disableRouteWatcher&&!!k,()=>{ie(k.currentRoute,()=>B.value&&($.value=!1))}),ie(()=>e.permanent,q=>{q&&($.value=!0)}),e.modelValue==null&&!B.value&&($.value=e.permanent||!w.value);const{isDragging:N,dragProgress:ee}=el({el:Y,isActive:$,isTemporary:B,width:y,touchless:we(()=>e.touchless),position:_}),A=D(()=>{const q=B.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):y.value;return N.value?q*ee.value:q}),{layoutItemStyles:re,layoutItemScrimStyles:J}=qt({id:e.name,order:D(()=>parseInt(e.order,10)),position:_,layoutSize:A,elementSize:y,active:Yt($),disableTransitions:we(()=>N.value),absolute:D(()=>e.absolute||H.value&&typeof ve.value!="string")}),{isStuck:ve,stickyStyles:fe}=Ka({rootEl:Y,isSticky:H,layoutItemStyles:re}),oe=Oe(()=>typeof e.scrim=="string"?e.scrim:null),Ue=D(()=>({...N.value?{opacity:ee.value*.2,transition:"none"}:void 0,...J.value}));return Wt({VList:{bgColor:"transparent"}}),Fe(()=>{const q=l.image||e.image;return M(Z,null,[a(e.tag,E({ref:Y,onMouseenter:ne,onMouseleave:ue,class:["v-navigation-drawer",`v-navigation-drawer--${_.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":W.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":B.value,"v-navigation-drawer--persistent":I.value,"v-navigation-drawer--active":$.value,"v-navigation-drawer--sticky":H.value},s.value,m.value,c.value,f.value,r.value,T.value,e.class],style:[u.value,re.value,b.value,fe.value,e.style]},V,t),{default:()=>[q&&M("div",{key:"image",class:"v-navigation-drawer__img"},[l.image?a(Ne,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},l.image):a(aa,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),l.prepend&&M("div",{class:"v-navigation-drawer__prepend"},[l.prepend?.()]),M("div",{class:"v-navigation-drawer__content"},[l.default?.()]),l.append&&M("div",{class:"v-navigation-drawer__append"},[l.append?.()])]}),a(na,{name:"fade-transition"},{default:()=>[B.value&&(N.value||$.value)&&!!e.scrim&&M("div",E({class:["v-navigation-drawer__scrim",oe.backgroundColorClasses.value],style:[Ue.value,oe.backgroundColorStyles.value],onClick:()=>{I.value||($.value=!1)}},V),null)]})])}),{isStuck:ve}}}),ll=oa("v-picker-title"),nl=$e({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,hideTitle:Boolean,...Ia()},"VPicker"),Pl=Re()({name:"VPicker",props:nl(),setup(e,o){let{slots:t}=o;const{backgroundColorClasses:d,backgroundColorStyles:l}=Oe(()=>e.color);return Fe(()=>{const i=Ge.filterProps(e),s=!e.hideTitle&&!!(e.title||t.title);return a(Ge,E(i,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!t.actions},e.class],style:e.style}),{default:()=>[!e.hideHeader&&M("div",{key:"header",class:Pe([d.value]),style:Me([l.value])},[s&&a(ll,{key:"picker-title"},{default:()=>[t.title?.()??e.title]}),t.header&&M("div",{class:"v-picker__header"},[t.header()])]),M("div",{class:"v-picker__body"},[t.default?.()]),t.actions&&a(Ne,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[M("div",{class:"v-picker__actions"},[t.actions()])]})]})}),{}}}),ol=$e({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Ma(),...Da()},"VSwitch"),Cl=Re()({name:"VSwitch",inheritAttrs:!1,props:ol(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,o){let{attrs:t,slots:d}=o;const l=pe(e,"indeterminate"),i=pe(e,"modelValue"),{loaderClasses:s}=ia(e),{isFocused:c,focus:m,blur:u}=Ta(e),r=F(),f=F(),w=sa&&window.matchMedia("(forced-colors: active)").matches,T=we(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),k=ua(),$=we(()=>e.id||`switch-${k}`);function b(){l.value&&(l.value=!1)}function V(Y){Y.stopPropagation(),Y.preventDefault(),r.value?.input?.click()}return Fe(()=>{const[Y,W]=ra(t),ne=Je.filterProps(e),ue=et.filterProps(e);return a(Je,E({ref:f,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":l.value},s.value,e.class]},Y,ne,{modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,id:$.value,focused:c.value,style:e.style}),{...d,default:y=>{let{id:_,messagesId:I,isDisabled:B,isReadonly:H,isValid:N}=y;const ee={model:i,isValid:N};return a(et,E({ref:r},ue,{modelValue:i.value,"onUpdate:modelValue":[A=>i.value=A,b],id:_.value,"aria-describedby":I.value,type:"checkbox","aria-checked":l.value?"mixed":void 0,disabled:B.value,readonly:H.value,onFocus:m,onBlur:u},W),{...d,default:A=>{let{backgroundColorClasses:re,backgroundColorStyles:J}=A;return M("div",{class:Pe(["v-switch__track",w?void 0:re.value]),style:Me(J.value),onClick:V},[d["track-true"]&&M("div",{key:"prepend",class:"v-switch__track-true"},[d["track-true"](ee)]),d["track-false"]&&M("div",{key:"append",class:"v-switch__track-false"},[d["track-false"](ee)])])},input:A=>{let{inputNode:re,icon:J,backgroundColorClasses:ve,backgroundColorStyles:fe}=A;return M(Z,null,[re,M("div",{class:Pe(["v-switch__thumb",{"v-switch__thumb--filled":J||e.loading},e.inset||w?void 0:ve.value]),style:Me(e.inset?void 0:fe.value)},[d.thumb?a(Ne,{defaults:{VIcon:{icon:J,size:"x-small"}}},{default:()=>[d.thumb({...ee,icon:J})]}):a(ca,null,{default:()=>[e.loading?a(da,{name:"v-switch",active:!0,color:N.value===!1?void 0:T.value},{default:oe=>d.loader?d.loader(oe):a(va,{active:oe.isActive,color:oe.color,indeterminate:!0,size:"16",width:"2"},null)}):J&&a(L,{key:String(J),icon:J,size:"x-small"},null)]})])])}})}})}),it({},f)}}),il=$e({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...qa({filterKeys:["title"]}),...$a(),...ha(Fa({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ya({transition:!1})},"VAutocomplete"),dt=Re()({name:"VAutocomplete",props:il(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,o){let{slots:t}=o;const{t:d}=fa(),l=F(),i=te(!1),s=te(!0),c=te(!1),m=F(),u=F(),r=te(-1),{items:f,transformIn:w,transformOut:T}=Aa(e),{textColorClasses:k,textColorStyles:$}=ma(()=>l.value?.color),b=pe(e,"search",""),V=pe(e,"modelValue",[],v=>w(v===null?[null]:pa(v)),v=>{const R=T(v);return e.multiple?R:R[0]??null}),Y=D(()=>typeof e.counterValue=="function"?e.counterValue(V.value):typeof e.counterValue=="number"?e.counterValue:V.value.length),W=Ba(e),{filteredItems:ne,getMatches:ue}=Oa(e,f,()=>s.value?"":b.value),y=D(()=>e.hideSelected?ne.value.filter(v=>!V.value.some(R=>R.value===v.value)):ne.value),_=D(()=>!!(e.chips||t.chip)),I=D(()=>_.value||!!t.selection),B=D(()=>V.value.map(v=>v.props.value)),H=D(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&b.value===y.value[0]?.title)&&y.value.length>0&&!s.value&&!c.value),N=D(()=>e.hideNoData&&!y.value.length||W.isReadonly.value||W.isDisabled.value),ee=pe(e,"menu"),A=D({get:()=>ee.value,set:v=>{ee.value&&!v&&m.value?.ΨopenChildren.size||v&&N.value||(ee.value=v)}}),{menuId:re,ariaExpanded:J,ariaControls:ve,ariaLabel:fe}=Ea(e,A),oe=F(),Ue=Ra(oe,l);function q(v){e.openOnClear&&(A.value=!0),b.value=""}function ft(){N.value||(A.value=!0)}function mt(v){N.value||(i.value&&(v.preventDefault(),v.stopPropagation()),A.value=!A.value)}function pt(v){(Qe(v)||v.key==="Backspace")&&l.value?.focus()}function gt(v){if(W.isReadonly.value)return;const R=l.value?.selectionStart,O=V.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(v.key)&&v.preventDefault(),["Enter","ArrowDown"].includes(v.key)&&(A.value=!0),["Escape"].includes(v.key)&&(A.value=!1),H.value&&["Enter","Tab"].includes(v.key)&&!V.value.some(x=>{let{value:P}=x;return P===y.value[0].value})&&ce(y.value[0]),v.key==="ArrowDown"&&H.value&&oe.value?.focus("next"),["Backspace","Delete"].includes(v.key)){if(!e.multiple&&I.value&&V.value.length>0&&!b.value)return ce(V.value[0],!1);if(~r.value){v.preventDefault();const x=r.value;ce(V.value[r.value],!1),r.value=x>=O-1?O-2:x}else v.key==="Backspace"&&!b.value&&(r.value=O-1);return}if(e.multiple)if(v.key==="ArrowLeft"){if(r.value<0&&R&&R>0)return;const x=r.value>-1?r.value-1:O-1;if(V.value[x])r.value=x;else{const P=b.value?.length??null;r.value=-1,l.value?.setSelectionRange(P,P)}}else if(v.key==="ArrowRight"){if(r.value<0)return;const x=r.value+1;V.value[x]?r.value=x:(r.value=-1,l.value?.setSelectionRange(0,0))}else~r.value&&Qe(v)&&(r.value=-1)}function yt(v){if(Ze(l.value,":autofill")||Ze(l.value,":-webkit-autofill")){const R=f.value.find(O=>O.title===v.target.value);R&&ce(R)}}function ht(){e.eager&&u.value?.calculateVisibleItems()}function bt(){i.value&&(s.value=!0,l.value?.focus())}function Vt(v){i.value=!0,setTimeout(()=>{c.value=!0})}function kt(v){c.value=!1}function St(v){(v==null||v===""&&!e.multiple&&!I.value)&&(V.value=[])}const He=te(!1);function ce(v){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!v||v.props.disabled))if(e.multiple){const O=V.value.findIndex(P=>(e.valueComparator||ba)(P.value,v.value)),x=R??!~O;if(~O){const P=x?[...V.value,v]:[...V.value];P.splice(O,1),V.value=P}else x&&(V.value=[...V.value,v]);e.clearOnSelect&&(b.value="")}else{const O=R!==!1;V.value=O?[v]:[],b.value=O&&!I.value?v.title:"",qe(()=>{A.value=!1,s.value=!0})}}return ie(i,(v,R)=>{v!==R&&(v?(He.value=!0,b.value=e.multiple||I.value?"":String(V.value.at(-1)?.props.title??""),s.value=!0,qe(()=>He.value=!1)):(!e.multiple&&b.value==null&&(V.value=[]),A.value=!1,b.value="",r.value=-1))}),ie(b,v=>{!i.value||He.value||(v&&(A.value=!0),s.value=!v)}),ie(A,()=>{if(!e.hideSelected&&A.value&&V.value.length){const v=y.value.findIndex(R=>V.value.some(O=>R.value===O.value));ga&&window.requestAnimationFrame(()=>{v>=0&&u.value?.scrollToIndex(v)})}}),ie(f,(v,R)=>{A.value||i.value&&!R.length&&v.length&&(A.value=!0)}),Fe(()=>{const v=!!(!e.hideNoData||y.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),R=V.value.length>0,O=Ae.filterProps(e);return a(Ae,E({ref:l},O,{modelValue:b.value,"onUpdate:modelValue":[x=>b.value=x,St],focused:i.value,"onUpdate:focused":x=>i.value=x,validationValue:V.externalValue,counterValue:Y.value,dirty:R,onChange:yt,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":A.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!I.value,"v-autocomplete--selecting-index":r.value>-1},e.class],style:e.style,readonly:W.isReadonly.value,placeholder:R?void 0:e.placeholder,"onClick:clear":q,"onMousedown:control":ft,onKeydown:gt,"aria-expanded":J.value,"aria-controls":ve.value}),{...t,default:()=>M(Z,null,[a(ze,E({id:re.value,ref:m,modelValue:A.value,"onUpdate:modelValue":x=>A.value=x,activator:"parent",contentClass:"v-autocomplete__content",disabled:N.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ht,onAfterLeave:bt},e.menuProps),{default:()=>[v&&a(Be,E({ref:oe,filterable:!0,selected:B.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:x=>x.preventDefault(),onKeydown:pt,onFocusin:Vt,onFocusout:kt,tabindex:"-1",selectable:!0,"aria-live":"polite",color:e.itemColor??e.color},Ue,e.listProps),{default:()=>[t["prepend-item"]?.(),!y.value.length&&!e.hideNoData&&(t["no-data"]?.()??a(le,{key:"no-data",title:d(e.noDataText)},null)),a(Na,{ref:u,renderless:!0,items:y.value,itemKey:"value"},{default:x=>{let{item:P,index:j,itemRef:Te}=x;const ke=E(P.props,{ref:Te,key:P.value,active:H.value&&j===0?!0:void 0,onClick:()=>ce(P,null)});return P.type==="divider"?t.divider?.({props:P.raw,index:j})??a(je,E(P.props,{key:`divider-${j}`}),null):P.type==="subheader"?t.subheader?.({props:P.raw,index:j})??a(La,E(P.props,{key:`subheader-${j}`}),null):t.item?.({item:P,index:j,props:ke})??a(le,E(ke,{role:"option"}),{prepend:Se=>{let{isSelected:X}=Se;return M(Z,null,[e.multiple&&!e.hideSelected?a(za,{key:P.value,modelValue:X,ripple:!1,tabindex:"-1"},null):void 0,P.props.prependAvatar&&a(ka,{image:P.props.prependAvatar},null),P.props.prependIcon&&a(L,{icon:P.props.prependIcon},null)])},title:()=>s.value?P.title:Ya("v-autocomplete",P.title,ue(P)?.title)})}}),t["append-item"]?.()]})]}),V.value.map((x,P)=>{function j(X){X.stopPropagation(),X.preventDefault(),ce(x,!1)}const Te={"onClick:close":j,onKeydown(X){X.key!=="Enter"&&X.key!==" "||(X.preventDefault(),X.stopPropagation(),j(X))},onMousedown(X){X.preventDefault(),X.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ke=_.value?!!t.chip:!!t.selection,Se=ke?Sa(_.value?t.chip({item:x,index:P,props:Te}):t.selection({item:x,index:P})):void 0;if(!(ke&&!Se))return M("div",{key:x.value,class:Pe(["v-autocomplete__selection",P===r.value&&["v-autocomplete__selection--selected",k.value]]),style:Me(P===r.value?$.value:{})},[_.value?t.chip?a(Ne,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:x.title}}},{default:()=>[Se]}):a(ge,E({key:"chip",closable:e.closableChips,size:"small",text:x.title,disabled:x.props.disabled},Te),null):Se??M("span",{class:"v-autocomplete__selection-text"},[x.title,e.multiple&&P<V.value.length-1&&M("span",{class:"v-autocomplete__selection-comma"},[g(",")])])])})]),"append-inner":function(){for(var x=arguments.length,P=new Array(x),j=0;j<x;j++)P[j]=arguments[j];return M(Z,null,[t["append-inner"]?.(...P),e.menuIcon?a(L,{class:"v-autocomplete__menu-icon",color:l.value?.fieldIconColor,icon:e.menuIcon,onMousedown:mt,onClick:Va,"aria-label":fe.value,title:fe.value,tabindex:"-1"},null):void 0])}})}),it({isFocused:i,isPristine:s,menu:A,search:b,filteredItems:ne,select:ce},l)}}),sl=300,ul=G({__name:"SelectPersonne",props:Ie({label:{},initialPersonne:{},api:{},readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,t=Ve(e,"modelValue"),d=F(t.value==0?[]:[{title:o.initialPersonne,value:t.value}]),l=F("");async function i(){if(!l.value)return;const m=await o.api.SelectPersonne({search:l.value});m!==void 0&&(d.value=(m||[]).map(u=>({title:u.Label,value:u.Id})))}let s;function c(m){l.value=m||"",clearTimeout(s),s=setTimeout(i,sl)}return(m,u)=>(p(),C(dt,{label:o.label,variant:"outlined",density:"compact",readonly:o.readonly,"hide-details":"",items:d.value,"model-value":h(Ke)(t.value),"onUpdate:modelValue":u[0]||(u[0]=r=>t.value=h(Xe)(r)),search:l.value,"onUpdate:search":[u[1]||(u[1]=r=>l.value=r),c],clearable:"","no-data-text":l.value.length?"Aucun profil ne correspond à votre recherche.":"Veuillez entrer une recherche."},null,8,["label","readonly","items","model-value","search","no-data-text"]))}}),xl=G({__name:"SelectCamp",props:Ie({label:{},camps:{},readonly:{type:Boolean},defaultStyle:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,t=Ve(e,"modelValue"),d=F(!1),l=D(()=>o.camps.filter(i=>d.value?!0:!i.IsOld).map(i=>({title:i.Label,value:i.Id})));return(i,s)=>(p(),C(rt,{density:o.defaultStyle?void 0:"compact",variant:o.defaultStyle?void 0:"outlined",label:o.label,readonly:o.readonly,items:l.value,clearable:"","model-value":h(Ke)(t.value),"onUpdate:modelValue":s[1]||(s[1]=c=>t.value=h(Xe)(c)),"no-data-text":"Aucun séjour n'existe.","hide-details":"",autocomplete:"off"},{prepend:n(()=>[a(_e,{text:d.value?"Masquer les séjours terminés":"Afficher les séjours terminés"},{activator:n(({props:c})=>[a(K,E({size:"small",variant:d.value?"tonal":"flat"},c,{icon:"mdi-history",onClick:s[0]||(s[0]=m=>d.value=!d.value)}),null,16,["variant"])]),_:1},8,["text"])]),_:1},8,["density","variant","label","readonly","items","model-value"]))}}),rl=300,cl=G({__name:"SelectDossier",props:Ie({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,t=Ve(e,"modelValue"),d=F([]);Ee(i);function l(r){return{title:r.Responsable,subtitle:r.Participants,value:r.Id}}async function i(){const r=t.value;if(r==0)return;const f=await tt.DossiersSearch(Xa(r));f!==void 0&&(d.value=(f.Dossiers||[]).map(l))}const s=F("");async function c(){if(!s.value)return;const r=ct();r.Pattern=s.value;const f=await tt.DossiersSearch(r);f!==void 0&&(d.value=(f.Dossiers||[]).map(l))}let m;function u(r){s.value=r||"",clearTimeout(m),m=setTimeout(c,rl)}return(r,f)=>(p(),C(dt,{label:"Dossier",variant:"outlined",density:"compact",readonly:o.readonly,"hide-details":"",items:d.value,"no-filter":"","model-value":h(Ke)(t.value),"onUpdate:modelValue":f[0]||(f[0]=w=>t.value=h(Xe)(w)),search:s.value,"onUpdate:search":[f[1]||(f[1]=w=>s.value=w),u],clearable:"","no-data-text":s.value.length?"Aucun dossier ne correspond à votre recherche.":"Veuillez entrer une recherche."},{item:n(({item:w,props:T})=>[a(le,E(T,{title:w.title,subtitle:w.raw.subtitle}),null,16,["title","subtitle"])]),_:1},8,["readonly","items","model-value","search","no-data-text"]))}}),vt=G({__name:"StatutParticipantField",props:Ie({hideDetails:{type:Boolean},readonly:{type:Boolean},rules:{},restrictItems:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,t=Ve(e,"modelValue"),d=D(()=>wa(st).filter(l=>o.restrictItems===void 0||o.restrictItems.includes(l.value)).map(l=>({value:l.value,title:l.title,format:U.statutParticipant(l.value)})));return(l,i)=>(p(),C(rt,{label:"Statut",variant:"outlined",density:"compact",items:d.value,readonly:o.readonly,"hide-details":o.hideDetails,modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=s=>t.value=s),rules:o.rules},{item:n(({item:s,props:c})=>[a(le,E(c,{title:s.title}),{prepend:n(()=>[a(L,{color:s.raw.format.color},{default:n(()=>[g(z(s.raw.format.icon),1)]),_:2},1032,["color"])]),_:2},1040,["title"])]),selection:n(({item:s})=>[a(le,{title:s.title,density:"compact"},{prepend:n(()=>[a(L,{color:s.raw.format.color,size:"small"},{default:n(()=>[g(z(s.raw.format.icon),1)]),_:2},1032,["color"])]),_:2},1032,["title"])]),_:1},8,["items","readonly","hide-details","modelValue","rules"]))}}),_l=G({__name:"ParticipantEdit",props:{participant:{},personne:{},api:{},hidePersonneDossier:{type:Boolean},readonlyStatut:{type:Boolean}},emits:["save"],setup(e,{emit:o}){const t=e,d=o,l=F(Pa(t.participant)),i=D(()=>!!(l.value.IdPersonne&&l.value.IdDossier));return(s,c)=>{const m=ul,u=cl,r=Ha;return p(),C(ye,{title:"Editer le participant"},{default:n(()=>[a(he,null,{default:n(()=>[a(Wa,null,{default:n(()=>[t.hidePersonneDossier?se("",!0):(p(),C(Q,{key:0},{default:n(()=>[a(S,null,{default:n(()=>[a(m,{label:"Personne",modelValue:l.value.IdPersonne,"onUpdate:modelValue":c[0]||(c[0]=f=>l.value.IdPersonne=f),"initial-personne":h(be).label(t.personne),api:t.api},null,8,["modelValue","initial-personne","api"])]),_:1}),a(S,null,{default:n(()=>[a(u,{modelValue:l.value.IdDossier,"onUpdate:modelValue":c[1]||(c[1]=f=>l.value.IdDossier=f)},null,8,["modelValue"])]),_:1})]),_:1})),a(Q,null,{default:n(()=>[a(S,null,{default:n(()=>[a(vt,{modelValue:l.value.Statut,"onUpdate:modelValue":c[2]||(c[2]=f=>l.value.Statut=f),"hide-details":"",readonly:t.readonlyStatut},null,8,["modelValue","readonly"])]),_:1})]),_:1}),a(Q,null,{default:n(()=>[a(S,null,{default:n(()=>[a(r,{modelValue:l.value.Navette,"onUpdate:modelValue":c[3]||(c[3]=f=>l.value.Navette=f)},null,8,["modelValue"])]),_:1}),a(S,null,{default:n(()=>[a(Ae,{modelValue:l.value.Commentaire,"onUpdate:modelValue":c[4]||(c[4]=f=>l.value.Commentaire=f),label:"Commentaire",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),a(Le,null,{default:n(()=>[a(de),a(K,{disabled:!i.value,onClick:c[5]||(c[5]=f=>d("save",l.value))},{default:n(()=>[...c[6]||(c[6]=[g("Enregistrer",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})}}}),Il=G({__name:"ParticipantRow",props:{participant:{},index:{}},setup(e){const o=e,t=D(()=>"mx-2 px-2 rounded "+(o.index%2==0?"bg-grey-lighten-4":""));return(d,l)=>(p(),C(Q,{"no-gutters":"",class:Pe(t.value)},{default:n(()=>[a(S,{"align-self":"center",cols:"3"},{default:n(()=>[a(le,{title:h(be).NOMPrenom(o.participant.Personne),class:"px-0"},{prepend:n(()=>[o.participant.Participant.Statut!=h(Ce).Inscrit?(p(),C(_e,{key:0,text:h(st)[o.participant.Participant.Statut]},{activator:n(({props:i})=>[a(L,E({color:h(U).statutParticipant(o.participant.Participant.Statut).color},i),{default:n(()=>[g(z(h(U).statutParticipant(o.participant.Participant.Statut).icon),1)]),_:1},16,["color"])]),_:1},8,["text"])):se("",!0)]),_:1},8,["title"])]),_:1}),a(S,{"align-self":"center",cols:"1",class:"text-center"},{default:n(()=>[a(L,{class:"ma-2 mr-4"},{default:n(()=>[g(z(h(U).sexeIcon(o.participant.Personne.Sexe)),1)]),_:1})]),_:1}),a(S,{"align-self":"center",cols:"1"},{default:n(()=>[a(Q,{"no-gutters":""},{default:n(()=>[a(S,{"align-self":"end",class:"text-center"},{default:n(()=>[g(z(h(U).dateNaissance(o.participant.Personne.DateNaissance)),1)]),_:1}),a(S,{"align-self":"end",cols:"auto"},{default:n(()=>[o.participant.HasBirthday?(p(),C(_e,{key:0,text:`${o.participant.Personne.Prenom} a son anniveraire pendant le séjour !`},{activator:n(({props:i})=>[a(L,E(i,{color:"pink"}),{default:n(()=>[...l[0]||(l[0]=[g("mdi-cake-variant",-1)])]),_:1},16)]),_:1},8,["text"])):se("",!0)]),_:1})]),_:1})]),_:1}),a(S,{"align-self":"center",cols:"1",class:"text-center"},{default:n(()=>[g(z(o.participant.Age)+" ans ",1)]),_:1}),a(S,{"align-self":"center",cols:"1",class:"text-center"},{default:n(()=>[g(z(o.participant.Participant.Navette==h(Ca).NoBus?"-":h(xa)[o.participant.Participant.Navette]),1)]),_:1}),a(S,{"align-self":"center"},{default:n(()=>[g(z(o.participant.Participant.Commentaire),1)]),_:1}),a(de),a(S,{cols:"2","align-self":"center"},{default:n(()=>[g(z(h(U).time(o.participant.MomentInscription)),1)]),_:1}),a(S,{"align-self":"center",cols:"auto"},{default:n(()=>[a(ze,null,{activator:n(({props:i})=>[a(K,E(i,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:n(()=>[Ye(d.$slots,"actions")]),_:3})]),_:3})]),_:3},8,["class"]))}}),Tl=G({__name:"ParticipantRowHeader",setup(e){return(o,t)=>(p(),C(Q,{"no-gutters":"",class:"mx-2 px-2"},{default:n(()=>[a(S,{class:"font-weight-bold","align-self":"center",cols:"3"},{default:n(()=>[...t[0]||(t[0]=[g(" Participant ",-1)])]),_:1}),a(S,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:n(()=>[...t[1]||(t[1]=[g(" Sexe ",-1)])]),_:1}),a(S,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:n(()=>[...t[2]||(t[2]=[g(" Date de naissance ",-1)])]),_:1}),a(S,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:n(()=>[...t[3]||(t[3]=[g(" Age ",-1)])]),_:1}),a(S,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:n(()=>[...t[4]||(t[4]=[g(" Navette ",-1)])]),_:1}),a(S,{class:"font-weight-bold","align-self":"center"},{default:n(()=>[...t[5]||(t[5]=[g(" Commentaire ",-1)])]),_:1}),a(de),a(S,{class:"font-weight-bold text-center",cols:"2"},{default:n(()=>[...t[6]||(t[6]=[g(" Inscription ",-1)])]),_:1}),a(S,{cols:"auto"},{default:n(()=>[a(K,{size:"x-small",color:"white",icon:"",flat:""})]),_:1})]),_:1}))}}),dl=G({__name:"CardValideParticipantRow",props:Ie({participant:{},statut:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,t=Ve(e,"modelValue");function d(l){return l.AgeMin?l.AgeMax?l.EquilibreGF?l.Place?"":"Camp complet":"Equilibre G./F.":`Trop âgé${U.accord(o.participant.Personne.Sexe)}`:"Trop jeune"}return(l,i)=>{const s=vt;return p(),C(Q,null,{default:n(()=>[a(S,{cols:"4","align-self":"center"},{default:n(()=>[a(le,{title:h(be).label(o.participant.Personne),subtitle:h(ut).label(o.participant.Camp)},null,8,["title","subtitle"])]),_:1}),a(S,{cols:"3","align-self":"center",class:"text-center"},{default:n(()=>[o.statut.Statut!=h(Ce).Inscrit?(p(),C(ge,{key:0,color:"warning","prepend-icon":"mdi-alert"},{default:n(()=>[g(z(d(o.statut.Causes)),1)]),_:1})):se("",!0)]),_:1}),a(S,{"align-self":"center"},{default:n(()=>[o.statut.Validable?(p(),C(s,{key:0,modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=c=>t.value=c),"hide-details":"",readonly:!o.statut.AllowedChanges?.length,"restrict-items":(o.statut.AllowedChanges||[]).concat(o.statut.Statut)},null,8,["modelValue","readonly","restrict-items"])):o.participant.Participant.Statut!=h(Ce).AStatuer?(p(),C(ge,{key:1,size:"small"},{default:n(()=>[...i[1]||(i[1]=[g(" Inscription déjà validée. ",-1)])]),_:1})):(p(),C(ge,{key:2,size:"small"},{default:n(()=>[...i[2]||(i[2]=[g(" Seul le centre peut accepter cette inscription. ",-1)])]),_:1}))]),_:1})]),_:1})}}}),Dl=G({__name:"CardValide",props:{inscription:{},idParticipants:{}},emits:["valide"],setup(e,{emit:o}){const t=e,d=o,l=D(()=>(t.inscription.Participants||[]).filter(c=>t.idParticipants?t.idParticipants.includes(c.Participant.Id):!0)),i=F(Object.fromEntries(l.value.filter(c=>(t.inscription.StatutHints||{})[c.Participant.Id].Validable).map(c=>[c.Participant.Id,(t.inscription.StatutHints||{})[c.Participant.Id].Statut]))),s=D(()=>Object.values(i.value).length>0);return(c,m)=>(p(),C(ye,{title:"Valider l'inscription",subtitle:"Un mail de confirmation va être envoyé."},{default:n(()=>[a(he,null,{default:n(()=>[(p(!0),ae(Z,null,xe(l.value,u=>(p(),C(dl,{participant:u,statut:(t.inscription.StatutHints||{})[u.Participant.Id],modelValue:i.value[u.Participant.Id],"onUpdate:modelValue":r=>i.value[u.Participant.Id]=r},null,8,["participant","statut","modelValue","onUpdate:modelValue"]))),256))]),_:1}),a(Le,null,{default:n(()=>[a(K,{onClick:m[0]||(m[0]=u=>d("valide",i.value,!1)),disabled:!s.value},{default:n(()=>[...m[2]||(m[2]=[g("Valider sans notification",-1)])]),_:1},8,["disabled"]),a(de),a(K,{onClick:m[1]||(m[1]=u=>d("valide",i.value,!0)),disabled:!s.value},{default:n(()=>[...m[3]||(m[3]=[g("Valider",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1}))}}),vl=300,fl=G({__name:"DebounceField",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=e,t=F(""),d=Ve(e,"modelValue");ie(()=>d.value,()=>{t.value=d.value});let l;function i(s){if(t.value=s||"",clearTimeout(l),!s){d.value=t.value;return}l=setTimeout(()=>{d.value=t.value},vl)}return(s,c)=>(p(),C(Ae,E(o,{modelValue:t.value,"onUpdate:modelValue":[c[0]||(c[0]=m=>t.value=m),i]}),{"append-inner":n(()=>[Ye(s.$slots,"append-inner")]),append:n(()=>[Ye(s.$slots,"append")]),_:3},16,["modelValue"]))}}),ml={key:0},pl=G({__name:"CardSimilaires",props:{personne:{},api:{}},emits:["identifie"],setup(e,{emit:o}){const t=e,d=o;Ee(i);const l=F([]);async function i(){const T=await t.api.SearchSimilaires({idPersonne:t.personne.Id});T!==void 0&&(l.value=T||[])}const s=F(!1),c=F(""),m=F([]);async function u(){if((c.value||"").length<3)return;const T=await t.api.SelectPersonne({search:c.value});T!==void 0&&(m.value=T||[])}function r(){d("identifie",{IdTemporaire:t.personne.Id,Rattache:!1,RattacheTo:0})}function f(T){d("identifie",{IdTemporaire:t.personne.Id,Rattache:!0,RattacheTo:T})}function w(T){const k=Math.floor(T*2);return`rgb(${255-k},${k}, 15)`}return(T,k)=>{const $=fl;return p(),C(ye,{title:"Identifier le profil",width:"600px",subtitle:s.value?"":"Liste des profils similaires"},{default:n(()=>[a(he,{class:"pb-0"},{default:n(()=>[s.value?(p(),ae("div",ml,[a($,{modelValue:c.value,"onUpdate:modelValue":[k[0]||(k[0]=b=>c.value=b),u],label:"Rechercher un profil",density:"comfortable",clearable:"",autofocus:"","hide-details":""},null,8,["modelValue"]),a(Be,{density:"compact"},{default:n(()=>[c.value.length>=3&&!m.value.length?(p(),C(Q,{key:0,class:"ma-2","no-gutters":""},{default:n(()=>[a(S,{class:"text-center"},{default:n(()=>[...k[3]||(k[3]=[M("i",null,"Aucun profil ne correspond à votre recherche.",-1)])]),_:1})]),_:1})):se("",!0),(p(!0),ae(Z,null,xe(m.value,(b,V)=>(p(),C(le,{key:V,title:b.Label,subtitle:h(U).dateNaissance(b.DateNaissance),"append-icon":h(U).sexeIcon(b.Sexe),onClick:Y=>f(b.Id)},null,8,["title","subtitle","append-icon","onClick"]))),128))]),_:1})])):(p(),C(Be,{key:1,density:"compact"},{default:n(()=>[l.value.length?se("",!0):(p(),C(Q,{key:0,class:"mx-2","no-gutters":""},{default:n(()=>[a(S,{class:"text-center"},{default:n(()=>[...k[4]||(k[4]=[M("i",null,"Aucun profil existant sur la base n'est similaire.",-1)])]),_:1})]),_:1})),(p(!0),ae(Z,null,xe(l.value,(b,V)=>(p(),C(le,{key:V,title:b.Personne.Label,subtitle:h(U).dateNaissance(b.Personne.DateNaissance),"prepend-icon":h(U).sexeIcon(b.Personne.Sexe),onClick:Y=>f(b.Personne.Id)},{append:n(()=>[a(ge,{color:w(b.ScorePercent)},{default:n(()=>[g(z(b.ScorePercent)+" % ",1)]),_:2},1032,["color"])]),_:2},1032,["title","subtitle","prepend-icon","onClick"]))),128))]),_:1}))]),_:1}),a(Le,null,{default:n(()=>[a(K,{onClick:k[1]||(k[1]=b=>{s.value=!s.value,c.value=""})},{default:n(()=>[g(z(s.value?"Retour aux suggestions":"Chercher manuellement"),1)]),_:1}),a(de),a(K,{variant:"elevated",elevation:"1",onClick:k[2]||(k[2]=b=>r())},{prepend:n(()=>[a(L,null,{default:n(()=>[...k[5]||(k[5]=[g("mdi-plus",-1)])]),_:1})]),default:n(()=>[k[6]||(k[6]=g(" Créer un nouveau profil",-1))]),_:1})]),_:1})]),_:1},8,["subtitle"])}}}),nt=G({__name:"InscriptionEtatcivilCols",props:{personne:{},api:{},acteur:{}},emits:["identifie"],setup(e,{emit:o}){const t=e,d=o;return(l,i)=>(p(),ae(Z,null,[a(S,{"align-self":"center",cols:"4"},{default:n(()=>[a(_e,null,{activator:n(({props:s})=>[t.personne.IsTemp?(p(),C(ze,{key:0,"close-on-content-click":!1},{activator:n(({props:c})=>[a(ge,E({label:""},E(c,s)),{prepend:n(()=>[a(L,{class:"mr-2",icon:"mdi-alert",color:"orange"})]),default:n(()=>[g(" "+z(h(be).label(t.personne)),1)]),_:1},16)]),default:n(()=>[t.acteur==h(We).Directeur?(p(),C(ye,{key:0},{default:n(()=>[a(he,null,{default:n(()=>[...i[1]||(i[1]=[g(" Le rapprochement de ce profil requiert une action du centre d'inscription. ",-1)])]),_:1})]),_:1})):(p(),C(pl,{key:1,api:t.api,personne:t.personne,onIdentifie:i[0]||(i[0]=c=>d("identifie",c))},null,8,["api","personne"]))]),_:2},1024)):(p(),ae("div",_a(E({key:1},s)),z(h(be).label(t.personne)),17))]),default:n(()=>[t.personne.IsTemp?(p(),ae(Z,{key:0},[g(" Ce profil est temporaire et doit être identifié. ")],64)):(p(),ae(Z,{key:1},[g(" Ce profil est identifié (ID: "+z(t.personne.Id)+"). ",1)],64))]),_:1})]),_:1}),a(S,{"align-self":"center",cols:"auto"},{default:n(()=>[a(L,{icon:h(U).sexeIcon(t.personne.Sexe),class:"mx-4"},null,8,["icon"])]),_:1}),a(S,{"align-self":"center",cols:"2"},{default:n(()=>[i[2]||(i[2]=M("small",{class:"text-grey"},"né(e) le",-1)),g(" "+z(h(U).dateNaissance(t.personne.DateNaissance)),1)]),_:1})],64))}}),Ml=G({__name:"InscriptionRow",props:{inscription:{},api:{},user:{},hideDelete:{type:Boolean},alreadyValidated:{type:Boolean}},emits:["identifie","valide","merge","delete","deleteParticipant"],setup(e,{emit:o}){const t=e,d=o,l=D(()=>t.user==null?We.Backoffice:We.Directeur),i=D(()=>!t.inscription.Responsable.IsTemp&&!!t.inscription.Participants?.every(m=>!m.Personne.IsTemp));function s(m){return i.value&&(t.user===null||t.user==m.IdCamp)}const c=F(null);return(m,u)=>(p(),C(ye,{subtitle:h(U).time(t.inscription.Dossier.MomentInscription,!0,!0)},{append:n(()=>[e.alreadyValidated?(p(),C(_e,{key:0,text:"En attente de validation par les autres séjours"},{activator:n(({props:r})=>[a(L,E(r,{color:"green"}),{default:n(()=>[...u[7]||(u[7]=[g(" mdi-check ",-1)])]),_:1},16)]),_:1})):(p(),C(K,{key:1,disabled:!i.value||!t.inscription.Participants?.length,onClick:u[0]||(u[0]=r=>d("valide"))},{prepend:n(()=>[a(L,null,{default:n(()=>[...u[8]||(u[8]=[g("mdi-check-all",-1)])]),_:1})]),default:n(()=>[u[9]||(u[9]=g(" Tout valider",-1))]),_:1},8,["disabled"])),t.hideDelete?se("",!0):(p(),C(ze,{key:2},{activator:n(({props:r})=>[a(K,E(r,{variant:"flat",icon:"mdi-dots-vertical",size:"small",class:"ml-1"}),null,16)]),default:n(()=>[a(Be,{density:"compact"},{default:n(()=>[a(le,{"prepend-icon":"mdi-file-move",onClick:u[1]||(u[1]=r=>d("merge")),title:"Fusionner vers ..."}),a(je),a(le,{title:"Supprimer","prepend-icon":"mdi-delete",onClick:u[2]||(u[2]=r=>d("delete"))})]),_:1})]),_:1}))]),default:n(()=>[a(he,null,{default:n(()=>[a(Q,null,{default:n(()=>[a(S,{cols:"7"},{default:n(()=>[a(Q,{"no-gutters":"",class:"my-0 py-1"},{default:n(()=>[a(nt,{api:t.api,personne:t.inscription.Responsable,acteur:l.value,onIdentifie:u[3]||(u[3]=r=>d("identifie",r))},null,8,["api","personne","acteur"])]),_:1}),a(je,{thickness:"1"}),(p(!0),ae(Z,null,xe(t.inscription.Participants,(r,f)=>(p(),C(Q,{"no-gutters":"",class:"my-0 py-1",key:f},{default:n(()=>[a(nt,{api:t.api,personne:r.Personne,acteur:l.value,onIdentifie:u[4]||(u[4]=w=>d("identifie",w))},null,8,["api","personne","acteur"]),a(S,{"align-self":"center",cols:"3",class:"text-center"},{default:n(()=>[g(z(h(ut).label(r.Camp)),1)]),_:2},1024),a(de),a(S,{"align-self":"center",cols:"1",class:"pr-2 text-center"},{default:n(()=>[r.Participant.Statut!=h(Ce).AStatuer?(p(),C(L,{key:0,color:h(U).statutParticipant(r.Participant.Statut).color,icon:h(U).statutParticipant(r.Participant.Statut).icon},null,8,["color","icon"])):s(r.Participant)?(p(),C(K,{key:1,size:"small",title:"Valider ce participant...",onClick:w=>d("valide",r.Participant.Id)},{default:n(()=>[a(L,{icon:h(U).statutParticipant(h(Ce).AStatuer).icon},null,8,["icon"]),a(L,null,{default:n(()=>[...u[10]||(u[10]=[g("mdi-arrow-right",-1)])]),_:1}),a(L,{icon:h(U).statutParticipant((t.inscription.StatutHints||{})[r.Participant.Id].Statut).icon,color:h(U).statutParticipant((t.inscription.StatutHints||{})[r.Participant.Id].Statut).color},null,8,["icon","color"])]),_:2},1032,["onClick"])):se("",!0)]),_:2},1024),t.hideDelete?se("",!0):(p(),C(S,{key:0,"align-self":"center",cols:"auto"},{default:n(()=>[a(K,{icon:"",size:"x-small",onClick:w=>c.value=r,title:"Supprimer ce participant..."},{default:n(()=>[a(L,{color:"red"},{default:n(()=>[...u[11]||(u[11]=[g("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1024))]),_:2},1024))),128))]),_:1}),a(S,{cols:"5"},{default:n(()=>[a(Q,{"no-gutters":""},{default:n(()=>[a(S,{cols:"auto",class:"px-2"},{default:n(()=>[a(L,{color:t.inscription.Message.length?"secondary":"grey"},{default:n(()=>[...u[12]||(u[12]=[g("mdi-message",-1)])]),_:1},8,["color"])]),_:1}),a(S,null,{default:n(()=>[(p(!0),ae(Z,null,xe(t.inscription.Message.split(`
`),(r,f)=>(p(),ae("div",{key:f},z(r),1))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Ua,{"model-value":c.value!=null,"onUpdate:modelValue":u[6]||(u[6]=r=>c.value=null),"max-width":"600px"},{default:n(()=>[c.value?(p(),C(ye,{key:0,title:"Confirmation"},{default:n(()=>[a(he,null,{default:n(()=>[u[13]||(u[13]=g(" Confirmez-vous la suppression du participant ",-1)),M("b",null,z(h(be).label(c.value.Personne)),1),u[14]||(u[14]=g(" ? ",-1)),u[15]||(u[15]=M("br",null,null,-1)),u[16]||(u[16]=M("br",null,null,-1)),u[17]||(u[17]=g(" Attention, cette opération est irréversible. ",-1))]),_:1}),a(Le,null,{default:n(()=>[a(de),a(K,{color:"red",onClick:u[5]||(u[5]=r=>{d("deleteParticipant",c.value.Participant.Id),c.value=null})},{default:n(()=>[...u[18]||(u[18]=[g("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):se("",!0)]),_:1},8,["model-value"])]),_:1},8,["subtitle"]))}});export{wl as V,ul as _,Pl as a,Cl as b,tt as c,dt as d,Tl as e,cl as f,_l as g,xl as h,Sl as i,Il as j,Ml as k,Dl as l,nl as m,fl as n,ct as o,Xa as p};
