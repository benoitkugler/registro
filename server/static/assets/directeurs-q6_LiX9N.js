import{s as $z,v as S2,y as E2,b as q,S as eu,l as an,O as _G,b5 as kG,d as fa,k as Ko,a as is,o as Lt,F as Jr,w as Q,e as Ht,Z as as,V as SG,q as ko,$ as Qr,f as EG,g as wi,h as On,i as AG,t as Ia,r as TG,j as An,u as DE,aa as Gu,m as DG,c as ea,ay as OG,aD as m_,a4 as NG,ag as kh,a0 as vc,b6 as Uz,ai as RG,b7 as MG,D as f_,A as n0,an as BG,ao as IG,as as PG,at as OE,C as LG,z as d_,b8 as FG,b9 as B7,aW as Zz,ba as zG,a3 as Us,bb as az,a1 as F7,aK as jz,bc as iz,bd as HG,be as VG,aC as $G,aY as oL,bf as Qb,bg as jP,bh as UG,n as Wz,p as qz,a5 as ZG,bi as Gz,aJ as jG,bj as WG,bk as I7,aO as lz,N as Jb,bl as qG,bm as GG,bn as KG,bo as YG,bp as cz,aw as z7,bq as NE,K as WP,br as P7,al as XG,bs as QG,bt as JG,bu as Kz,bv as eK,bw as QP,bx as H7,by as JP,bz as L7,x as Yz,bA as tK,bB as oK,I as nK,bC as sK,bD as dz,bE as Xz,bF as nL,bG as rK,bH as aK,bI as iK,H as uz,X as lK,bJ as cK,ak as dK,bK as uK,a8 as SE,W as mK,bL as fK,bM as pK,bN as gK,bO as hK,a2 as qP,az as bK,bP as xK,aZ as vK,a_ as yK,ax as wK,a$ as CK,b0 as _K,b1 as mz,b2 as kK,b3 as SK,b4 as EK}from"./VSnackbar-CBECO1fY.js";import{V as AK,g as TK,j as DK,k as OK,_ as NK,h as RK,f as MK,d as BK,a as fz,m as IK,n as EE}from"./VSwitch-EeWoJ_DB.js";import{e as go,V as sg,f as g_,i as Qz,g as PK,b as Jz,c as AE,d as TE,a as eH,_ as tH}from"./VTabs-C_ygT-Yw.js";import{V as Bs,a as jl,b as Ar,c as hr,d as _2,e as rg,f as ag,i as el,k as ex,h as _h,j as qu,m as LK,l as FK,n as GP,g as zK}from"./VTextarea-HUR-vMJk.js";import{V as p_,_ as sL,a as oH}from"./FileCard.vue_vue_type_script_setup_true_lang-hHmw8cBR.js";import{V as pz}from"./VSlider-xVUX2pYq.js";import"./VSheet-E-nHdF9h.js";import"./filter-Cvf4p--q.js";import"./VWindowItem-kLhqlp7D.js";const HK=S2({..._G(kG({icon:"$menu",variant:"text"}),["spaced"])},"VAppBarNavIcon"),VK=$z()({name:"VAppBarNavIcon",props:HK(),setup(re,ye){let{slots:Be}=ye;return E2(()=>q(an,eu(re,{class:["v-app-bar-nav-icon"]}),Be)),{}}}),V7=fa({__name:"NavBar",props:{title:{},hideMenu:{type:Boolean}},setup(re){const ye=re,Be="/static/repere/logo.png",Ie="v0.4.0",Ye=Ko(!1);return(Me,Se)=>(Lt(),is(Jr,null,[q(AK,{app:"",modelValue:Ye.value,"onUpdate:modelValue":Se[0]||(Se[0]=Ve=>Ye.value=Ve),temporary:""},{default:Q(()=>[q(Bs,{title:"Registro - Portail des directeurs",subtitle:Ie}),q(jl),q(Bs,{"prepend-icon":"mdi-calendar-multiple-check",link:"",to:{path:"/inscriptions"},color:"primary"},{default:Q(()=>[...Se[2]||(Se[2]=[Ht(" Inscriptions ",-1)])]),_:1}),q(Bs,{"prepend-icon":"mdi-mail",link:"",to:{path:"/documents"},color:"primary"},{default:Q(()=>[...Se[3]||(Se[3]=[Ht(" Documents ",-1)])]),_:1}),q(jl),q(Bs,{"prepend-icon":"mdi-account",link:"",to:{path:"/equipiers"},color:"primary"},{default:Q(()=>[...Se[4]||(Se[4]=[Ht(" Equipiers ",-1)])]),_:1}),q(jl),q(Bs,{"prepend-icon":"mdi-credit-card-outline","append-icon":"mdi-open-in-new",link:"",target:"_blank",href:as(go).comptaURL,color:"primary"},{default:Q(()=>[...Se[5]||(Se[5]=[Ht(" Comptabilité ",-1)])]),_:1},8,["href"]),q(jl),q(Bs,{"prepend-icon":"mdi-logout",link:"",to:{path:"/"},color:"primary"},{default:Q(()=>[...Se[6]||(Se[6]=[Ht(" Se déconnecter ",-1)])]),_:1})]),_:1},8,["modelValue"]),q(SG,{rounded:"",elevation:"4",color:"secondary"},{append:Q(()=>[TG(Me.$slots,"default"),Se[7]||(Se[7]=An("div",{class:"mr-2"},null,-1))]),default:Q(()=>[ye.hideMenu?Qr("",!0):(Lt(),ko(VK,{key:0,onClick:Se[1]||(Se[1]=Ve=>Ye.value=!Ye.value)})),q(EG,null,{default:Q(()=>[q(wi,null,{default:Q(()=>[q(On,{"align-self":"center",cols:"auto"},{default:Q(()=>[q(AG,{width:"60",src:Be})]),_:1}),q(On,{"align-self":"center"},{default:Q(()=>[Ht(Ia(ye.title),1)]),_:1})]),_:1})]),_:1})]),_:3})],64))}}),$K=fa({__name:"index",setup(re){const ye=DE();Gu(Ie);const Be=Ko([]);async function Ie(){const ot=await go.GetCamps();ot!==void 0&&(Be.value=ot||[])}const Ye=Ko(0),Me=Ko(!1),Se=Ko(""),Ve=Ko([]);async function Ue(){const ot=Be.value.find($t=>$t.Id==Ye.value);if(!ot)return;const St=await go.Loggin({password:Se.value,idCamp:Ye.value});St!==void 0&&(St.IsValid?(go.setCamp(ot,St.ComptaURL,St.Token),go.showMessage("Bienvenue !"),ye.push({path:"/inscriptions"})):Ve.value=["Mot de passe incorrect."])}return(ot,St)=>{const $t=TK;return Lt(),is(Jr,null,[q(V7,{title:"Connection à la page Directeur","hide-menu":""}),q(DG,{class:"fill-height"},{default:Q(()=>[q(Ar,{title:"Connection",class:"mx-auto",width:"400px"},{default:Q(()=>[q(hr,null,{default:Q(()=>[q($t,{label:"Camp",modelValue:Ye.value,"onUpdate:modelValue":St[0]||(St[0]=xt=>Ye.value=xt),camps:Be.value,name:"user","default-style":""},null,8,["modelValue","camps"]),q(_2,{class:"mt-2",label:"Mot de passe",modelValue:Se.value,"onUpdate:modelValue":[St[2]||(St[2]=xt=>Se.value=xt),St[3]||(St[3]=xt=>Ve.value=[])],"error-messages":Ve.value,type:Me.value?void 0:"password",name:"password"},{"append-inner":Q(()=>[q(an,{class:"ml-2",size:"small",icon:Me.value?"mdi-eye":"mdi-eye-off",flat:"",onClick:St[1]||(St[1]=xt=>Me.value=!Me.value)},null,8,["icon"])]),_:1},8,["modelValue","error-messages","type"])]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(an,{disabled:!Ye.value||!Se.value.length,onClick:Ue},{default:Q(()=>[...St[4]||(St[4]=[Ht("Se connecter",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}}),UK={key:1,class:"text-center font-italic"},ZK={key:2},jK=fa({__name:"PannelInscriptions",emits:["goTo"],setup(re,{emit:ye}){const Be=ye,Ie=Ko(!1);Gu(Me);const Ye=Ko([]);async function Me(){Ie.value=!0;const Ne=await go.InscriptionsGet();Ie.value=!1,Ne!==void 0&&(Ye.value=Ne||[])}const Se=Ko(""),Ve=ea(()=>{const Ne=OG(Se.value);return Ye.value.filter(yt=>{var kt;return m_.match(yt.Responsable,Ne)||((kt=yt.Participants)==null?void 0:kt.some(ut=>m_.match(ut.Personne,Ne)||NG.match(ut.Camp,Ne)))})});function Ue(Ne){const yt=go.camp.Id;return(Ne.Participants||[]).filter(kt=>kt.Camp.Id==yt).every(kt=>kt.Participant.Statut!=Uz.AStatuer)}async function ot(Ne,yt){const kt=await go.InscriptionsIdentifiePersonne({IdDossier:Ne,Target:yt});if(kt===void 0)return;go.showMessage("Profil identifié avec succès.");const ut=Ye.value.findIndex(xe=>xe.Dossier.Id==Ne);Ye.value[ut]=kt}const St=Ko(null);function $t(Ne){return(Ne.Participants||[]).filter(yt=>{var kt;return yt.Camp.Id==((kt=go.camp)==null?void 0:kt.Id)}).map(yt=>yt.Participant.Id)}async function xt(Ne,yt){if(!St.value)return;const kt=St.value.inscription.Dossier.Id;St.value=null;const ut=await go.InscriptionsValide({IdDossier:kt,Statuts:Ne,SendMail:yt});if(ut!==void 0)if(go.showMessage("Inscription validée avec succès.","",{title:"Aller aux participants",action:()=>Be("goTo")}),ut.Dossier.IsValidated)Ye.value=Ye.value.filter(xe=>xe.Dossier.Id!=kt);else{const xe=Ye.value.findIndex(He=>He.Dossier.Id==kt);Ye.value[xe]=ut}}return(Ne,yt)=>{const kt=OK;return Lt(),ko(Ar,{title:"Inscriptions",subtitle:"En attente de validation",class:"ma-2"},{append:Q(()=>[q(_2,{width:"300","append-inner-icon":"mdi-magnify",label:"Rechercher","hide-details":"",modelValue:Se.value,"onUpdate:modelValue":yt[0]||(yt[0]=ut=>Se.value=ut)},null,8,["modelValue"])]),default:Q(()=>[q(hr,null,{default:Q(()=>[Ie.value?(Lt(),ko(kh,{key:0})):Ye.value.length?(Lt(),is("div",ZK,[(Lt(!0),is(Jr,null,vc(Ve.value,(ut,xe)=>(Lt(),ko(DK,{class:"my-1",user:as(go).camp.Id,key:xe,inscription:ut,"hide-delete":"","already-validated":Ue(ut),onIdentifie:He=>ot(ut.Dossier.Id,He),onValide:He=>St.value={inscription:ut,participants:He===void 0?$t(ut):[He]},api:{SearchSimilaires:as(go).InscriptionsSearchSimilaires.bind(as(go)),SelectPersonne:as(go).SelectPersonne.bind(as(go))}},null,8,["user","inscription","already-validated","onIdentifie","onValide","api"]))),128))])):(Lt(),is("div",UK," Il n'y a aucune inscription à valider. "))]),_:1}),q(el,{"model-value":St.value!=null,"onUpdate:modelValue":yt[1]||(yt[1]=ut=>St.value=null),"max-width":"800px"},{default:Q(()=>[St.value?(Lt(),ko(kt,{key:0,inscription:St.value.inscription,"id-participants":St.value.participants,onValide:xt},null,8,["inscription","id-participants"])):Qr("",!0)]),_:1},8,["model-value"])]),_:1})}}}),WK=S2({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:re=>["even","odd"].includes(re)},...OE(),...PG(),...IG(),...BG()},"VTable"),nH=$z()({name:"VTable",props:WK(),setup(re,ye){let{slots:Be,emit:Ie}=ye;const{themeClasses:Ye}=RG(re),{densityClasses:Me}=MG(re);return E2(()=>{const Se={VCheckboxBtn:{density:re.density}};return q(re.tag,{class:n0(["v-table",{"v-table--fixed-height":!!re.height,"v-table--fixed-header":re.fixedHeader,"v-table--fixed-footer":re.fixedFooter,"v-table--has-top":!!Be.top,"v-table--has-bottom":!!Be.bottom,"v-table--hover":re.hover,"v-table--striped-even":re.striped==="even","v-table--striped-odd":re.striped==="odd"},Ye.value,Me.value,re.class]),style:f_(re.style)},{default:()=>{var Ve,Ue;return[(Ve=Be.top)==null?void 0:Ve.call(Be),q(LG,{defaults:Se},{default:()=>{var ot;return[Be.default?An("div",{class:"v-table__wrapper",style:{height:d_(re.height)}},[An("table",null,[Be.default()])]):(ot=Be.wrapper)==null?void 0:ot.call(Be)]}}),(Ue=Be.bottom)==null?void 0:Ue.call(Be)]}})}),{}}}),qK=["title"],GK={class:"py-2"},KK={class:"px-2 text-center"},YK={class:"px-2"},XK={class:"px-2"},QK={key:0,class:"mb-2"},JK={class:"px-2"},eY=fa({__name:"FichesSanitairesPannel",setup(re){Gu(Be);const ye=Ko(null);async function Be(){const Ve=await go.ParticipantsGetFichesSanitaires();Ve!==void 0&&(ye.value=Ve||[])}function Ie(Ve){var Ue;switch(Ve.State){case B7.NoFiche:return"red";case B7.Outdated:return"orange";case B7.UpToDate:return(Ue=Ve.Vaccins)!=null&&Ue.length?"green":"orange"}}function Ye(Ve){return Ve!=null&&Ve.length?Ve.length==1?"1 vaccin":`${Ve.length} vaccins`:"Pas de vaccins"}function Me(Ve){const Ue=[];return Ve.Allergies.Alimentaires&&Ue.push("alimentaires"),Ve.Allergies.Asthme&&Ue.push("asthme"),Ve.Allergies.Medicamenteuses&&Ue.push("médicamenteuses"),Ve.Allergies.Autres&&Ue.push("autres"),Ue.length?`Allergies : ${Ue.join(", ")}`:null}async function Se(Ve){const Ue=await go.ParticipantsDownloadFicheSanitaire({idParticipant:Ve});Ue!==void 0&&(go.showMessage("Fiche sanitaire téléchargée avec succès."),zG(Ue.blob,Ue.filename))}return(Ve,Ue)=>ye.value!=null?(Lt(),ko(Ar,{key:0,title:"Fiches sanitaires et vaccins","max-width":"1200px",class:"mx-auto"},{append:Q(()=>[q(_h,null,{activator:Q(({props:ot})=>[q(an,eu({icon:"mdi-download"},ot),null,16)]),default:Q(()=>[q(qu,null,{default:Q(()=>[q(Bs,{title:"Fiches sanitaires",subtitle:"Document unique au format .pdf (sans les vaccins)"}),q(Bs,{title:"Fiches et vaccins",subtitle:"Archive au format .zip",href:as(g_).ParticipantsStreamFichesAndVaccins(as(go).authToken)},null,8,["href"])]),_:1})]),_:1})]),default:Q(()=>[q(hr,null,{default:Q(()=>[q(nH,null,{default:Q(()=>[(Lt(!0),is(Jr,null,vc(ye.value,ot=>(Lt(),is("tr",{title:ot.Personne},[An("td",GK,Ia(ot.Personne),1),An("td",KK,[q(ex,{color:Ie(ot)},{default:Q(()=>[Ht(Ia(as(FG)[ot.State])+" - "+Ia(Ye(ot.Vaccins)),1)]),_:2},1032,["color"])]),An("td",YK,[ot.Fiche.TraitementMedical?(Lt(),ko(ex,{key:0,"prepend-icon":"mdi-alert"},{default:Q(()=>[...Ue[0]||(Ue[0]=[Ht(" Traitement ",-1)])]),_:1})):Qr("",!0)]),An("td",XK,[Me(ot.Fiche)!=null?(Lt(),ko(_h,{key:0},{activator:Q(({props:St})=>[q(ex,eu({ref_for:!0},St,{"prepend-icon":"mdi-alert"}),{default:Q(()=>[Ht(Ia(Me(ot.Fiche)),1)]),_:2},1040)]),default:Q(()=>[q(Ar,{subtitle:"Allergies et conduite à tenir"},{default:Q(()=>[q(hr,null,{default:Q(()=>[ot.Fiche.Allergies.Autres?(Lt(),is("div",QK,Ia(ot.Fiche.Allergies.Autres),1)):Qr("",!0),An("div",null,Ia(ot.Fiche.Allergies.ConduiteATenir),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):Qr("",!0)]),An("td",JK,[q(_h,null,{activator:Q(({props:St})=>[q(an,eu({ref_for:!0},St,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:Q(()=>[q(qu,null,{default:Q(()=>{var St,$t;return[q(Bs,{title:"Fiche sanitaire",subtitle:"Télécharger au format .pdf","prepend-icon":"mdi-download",onClick:xt=>Se(ot.IdParticipant),disabled:ot.State==as(B7).NoFiche},null,8,["onClick","disabled"]),q(Bs,{title:"Vaccins",subtitle:"Télécharger au format .zip","prepend-icon":"mdi-download",disabled:!((St=ot.Vaccins)!=null&&St.length)},Zz({_:2},[($t=ot.Vaccins)!=null&&$t.length?{name:"append",fn:Q(()=>{var xt;return[q(sg,{inline:"",content:(xt=ot.Vaccins)==null?void 0:xt.length},null,8,["content"])]}),key:"0"}:void 0]),1032,["disabled"]),q(jl,{thickness:"1"}),q(Bs,{title:"Relancer par mail","prepend-icon":"mdi-email"})]}),_:2},1024)]),_:2},1024)])],8,qK))),256))]),_:1})]),_:1})]),_:1})):(Lt(),ko(kh,{key:1,type:"card"}))}}),tY=fa({__name:"DocumentsUploadedBy",props:{personnes:{},uploadedBy:{}},setup(re){const ye=re,Be=ea(()=>new Set(ye.uploadedBy)),Ie=ea(()=>Object.values(ye.personnes||{}).sort((Ye,Me)=>m_.label(Ye).localeCompare(m_.label(Me))));return(Ye,Me)=>(Lt(),ko(Ar,{subtitle:"Document fourni par"},{default:Q(()=>[q(hr,null,{default:Q(()=>[q(qu,null,{default:Q(()=>[(Lt(!0),is(Jr,null,vc(Ie.value,Se=>(Lt(),ko(Bs,{title:as(m_).label(Se)},{append:Q(()=>[q(Us,{icon:Be.value.has(Se.Id)?"mdi-check":"mdi-close",color:Be.value.has(Se.Id)?"green":"red"},null,8,["icon","color"])]),_:2},1032,["title"]))),256))]),_:1})]),_:1})]),_:1}))}}),oY=fa({__name:"DocumentsPannel",setup(re){Gu(Be);const ye=Ko(null);async function Be(){const Ye=await go.DocumentsGetUploaded();Ye!==void 0&&(ye.value=Ye||[])}function Ie(Ye){var Ve;const Me=(Ye==null?void 0:Ye.length)||0,Se=Object.values(((Ve=ye.value)==null?void 0:Ve.Personnes)||{}).length;return Me==Se?"green":Me==0?"red":"orange"}return(Ye,Me)=>ye.value!=null?(Lt(),ko(Ar,{key:0,title:"Documents à récupérer",subtitle:"Documents déposés  sur les espaces de suivi"},{default:Q(()=>[q(hr,null,{default:Q(()=>[q(qu,null,{default:Q(()=>[(Lt(!0),is(Jr,null,vc(ye.value.DemandesDocuments,Se=>(Lt(),ko(Bs,{title:Se.Demande.Description},{prepend:Q(()=>[q(_h,null,{activator:Q(({props:Ve})=>[q(ex,eu({elevation:"1"},{ref_for:!0},Ve,{color:Ie(Se.UploadedBy),class:"mr-4"}),{default:Q(()=>{var Ue;return[Ht(Ia(((Ue=Se.UploadedBy)==null?void 0:Ue.length)||0)+" / "+Ia(Object.values(ye.value.Personnes||{}).length),1)]}),_:2},1040,["color"])]),default:Q(()=>[q(tY,{personnes:ye.value.Personnes,"uploaded-by":Se.UploadedBy||[]},null,8,["personnes","uploaded-by"])]),_:2},1024)]),append:Q(()=>[q(an,{icon:"mdi-download",size:"small",href:as(g_).DocumentsStreamUploaded(Se.Demande.Id,as(go).authToken)},null,8,["href"])]),_:2},1032,["title"]))),256))]),_:1})]),_:1})]),_:1})):(Lt(),ko(kh,{key:1,type:"card"}))}}),gz=fa({__name:"MessageRow",props:{message:{},showReply:{type:Boolean}},emits:["setSeen","startReply"],setup(re,{emit:ye}){const Be=re,Ie=ye,Ye=ea(()=>Qz(Be.message)),Me=ea(()=>PK(Be.message)),Se=ea(()=>{const Ve=Be.message.Content.Message.Origine;return Ve==az.Backoffice||Ve==az.FondSoutien});return(Ve,Ue)=>(Lt(),ko(wi,{class:"my-1"},{default:Q(()=>[q(On,{"align-self":"center",cols:"1",class:"text-center"},{default:Q(()=>[Me.value?Qr("",!0):(Lt(),ko(p_,{key:0,text:Ye.value?"Marquer comme lu":"Marquer comme non lu",location:"left"},{activator:Q(({props:ot})=>[q(an,eu(ot,{size:"small",icon:"",flat:"",onClick:Ue[0]||(Ue[0]=St=>Ie("setSeen",Ye.value))}),{default:Q(()=>[q(Us,{color:Ye.value?"pink":"",icon:Ye.value?"mdi-message-badge":"mdi-message-check"},null,8,["color","icon"])]),_:1},16)]),_:1},8,["text"]))]),_:1}),q(On,{"align-self":"center",class:n0({"rounded-lg":!0,"font-weight-bold":Ye.value,"bg-purple-lighten-4":Me.value,"bg-green-lighten-4":Se.value,"bg-blue-lighten-4":!(Me.value||Se.value)})},{default:Q(()=>[An("pre",null,Ia(Be.message.Content.Message.Contenu),1)]),_:1},8,["class"]),Be.showReply?(Lt(),ko(On,{key:0,"align-self":"center",cols:"auto"},{default:Q(()=>[q(an,{icon:"",size:"small",onClick:Ue[1]||(Ue[1]=ot=>Ie("startReply"))},{default:Q(()=>[q(Us,null,{default:Q(()=>[...Ue[2]||(Ue[2]=[Ht("mdi-reply",-1)])]),_:1})]),_:1})]),_:1})):Qr("",!0),q(On,{"align-self":"center",cols:"2",class:"text-grey"},{default:Q(()=>[Ht(Ia(as(F7).time(Be.message.Event.Created)),1)]),_:1})]),_:1}))}}),nY=fa({__name:"MessagesPannel",setup(re){Gu(Se);const ye=Ko(0),Be=Ko(!1),Ie=ea(()=>{var $t;return((($t=Me.value)==null?void 0:$t.Messages)||[]).filter(xt=>!Be.value||Qz(xt))}),Ye=ea(()=>{const $t=new Map;for(const xt of Ie.value)$t.set(xt.Event.IdDossier,($t.get(xt.Event.IdDossier)||[]).concat(xt));return Array.from($t.entries()).map(xt=>{var Ne;return{IdDossier:xt[0],Dossier:(((Ne=Me.value)==null?void 0:Ne.Dossiers)||{})[xt[0]],Messages:xt[1].reverse()}}).sort((xt,Ne)=>xt.Dossier.Responsable.localeCompare(Ne.Dossier.Responsable))}),Me=Ko(null);async function Se(){const $t=await go.ParticipantsMessagesLoad();$t!==void 0&&(Me.value=$t||[])}async function Ve($t,xt){var kt;if(!Me.value)return;const Ne=await go.ParticipantsMessageSetSeen({idEvent:$t,seen:xt});if(Ne===void 0)return;const yt=(kt=Me.value.Messages)==null?void 0:kt.findIndex(ut=>ut.Event.Id==$t);Me.value.Messages[yt]=Ne,go.showMessage(xt?"Message marqué comme lu.":"Message marqué comme non lu.")}const Ue=Ko(null),ot=Ko("");async function St(){const $t=Ue.value;if(!Me.value||!$t)return;Ue.value=null;const xt=await go.ParticipantsMessagesCreate({Contenu:ot.value,IdDossier:$t});xt!==void 0&&(go.showMessage("Message envoyé avec succès."),Me.value.Messages=[xt].concat(Me.value.Messages||[]))}return($t,xt)=>Me.value!=null?(Lt(),ko(Ar,{key:0,title:"Messages des familles"},{append:Q(()=>[q(jz,{color:"secondary",class:"mx-1",modelValue:ye.value,"onUpdate:modelValue":xt[0]||(xt[0]=Ne=>ye.value=Ne),rounded:""},{default:Q(()=>[q(an,{size:"small"},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...xt[4]||(xt[4]=[Ht("mdi-clock",-1)])]),_:1})]),default:Q(()=>[xt[5]||(xt[5]=Ht(" Trier par date",-1))]),_:1}),q(an,{size:"small"},{append:Q(()=>[q(Us,null,{default:Q(()=>[...xt[6]||(xt[6]=[Ht("mdi-account",-1)])]),_:1})]),default:Q(()=>[xt[7]||(xt[7]=Ht(" Trier par inscrit",-1))]),_:1})]),_:1},8,["modelValue"]),q(jl,{vertical:"",thickness:"1",class:"mx-1"}),q(an,{icon:"",size:"small",class:"mx-1",variant:Be.value?"tonal":"elevated",onClick:xt[1]||(xt[1]=Ne=>Be.value=!Be.value)},{default:Q(()=>[q(Us,{color:"pink"},{default:Q(()=>[...xt[8]||(xt[8]=[Ht("mdi-message-badge",-1)])]),_:1}),q(p_,{activator:"parent"},{default:Q(()=>[...xt[9]||(xt[9]=[Ht(" Filtrer les messages non lu ",-1)])]),_:1})]),_:1},8,["variant"])]),default:Q(()=>[ye.value==0?(Lt(),ko(hr,{key:0},{default:Q(()=>[(Lt(!0),is(Jr,null,vc(Ie.value,Ne=>(Lt(),ko(gz,{message:Ne,onSetSeen:yt=>Ve(Ne.Event.Id,yt),onStartReply:yt=>Ue.value=Ne.Event.IdDossier,"show-reply":!0},null,8,["message","onSetSeen","onStartReply"]))),256))]),_:1})):(Lt(),ko(hr,{key:1},{default:Q(()=>[(Lt(!0),is(Jr,null,vc(Ye.value,Ne=>(Lt(),ko(Ar,{title:Ne.Dossier.Responsable,subtitle:(Ne.Dossier.Participants||[]).join(", "),class:"my-2"},{append:Q(()=>[q(an,{size:"small",onClick:yt=>Ue.value=Ne.IdDossier},{prepend:Q(()=>[q(Us,{icon:"mdi-reply"})]),default:Q(()=>[xt[10]||(xt[10]=Ht(" Répondre",-1))]),_:1},8,["onClick"])]),default:Q(()=>[q(hr,null,{default:Q(()=>[(Lt(!0),is(Jr,null,vc(Ne.Messages,yt=>(Lt(),ko(gz,{message:yt,onSetSeen:kt=>Ve(yt.Event.Id,kt),onStartReply:kt=>Ue.value=yt.Event.IdDossier,"show-reply":!1},null,8,["message","onSetSeen","onStartReply"]))),256))]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})),q(el,{"model-value":Ue.value!==null,"onUpdate:modelValue":xt[3]||(xt[3]=Ne=>Ue.value=null),"max-width":"600px"},{default:Q(()=>[Ue.value?(Lt(),ko(Ar,{key:0,title:"Nouveau message",subtitle:(Me.value.Dossiers||{})[Ue.value].Responsable},{default:Q(()=>[q(hr,null,{default:Q(()=>[q(LK,{autofocus:"",placeholder:"Rédigez votre message...",modelValue:ot.value,"onUpdate:modelValue":xt[2]||(xt[2]=Ne=>ot.value=Ne),rows:"10"},null,8,["modelValue"])]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(an,{disabled:!ot.value.length,onClick:St},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...xt[11]||(xt[11]=[Ht("mdi-send",-1)])]),_:1})]),default:Q(()=>[xt[12]||(xt[12]=Ht(" Envoyer",-1))]),_:1},8,["disabled"])]),_:1})]),_:1},8,["subtitle"])):Qr("",!0)]),_:1},8,["model-value"])]),_:1})):(Lt(),ko(kh,{key:1,type:"card"}))}}),sY=fa({__name:"StatistiquesCard",props:{participants:{}},setup(re){const ye=re,Be=ea(()=>ye.participants.filter(Ie=>Ie.Participant.Statut==Uz.Inscrit));return(Ie,Ye)=>(Lt(),ko(Ar,{subtitle:"Statistiques",width:"300px"},{default:Q(()=>[q(hr,null,{default:Q(()=>[q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(On,null,{default:Q(()=>[...Ye[0]||(Ye[0]=[Ht(" Inscrits ",-1)])]),_:1}),q(On,{cols:"auto"},{default:Q(()=>[q(sg,{color:"secondary",inline:"",content:Be.value.length},null,8,["content"])]),_:1})]),_:1}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(On,null,{default:Q(()=>[...Ye[1]||(Ye[1]=[Ht(" Garçons/Filles ",-1)])]),_:1}),q(On,{cols:"auto"},{default:Q(()=>[q(sg,{color:"secondary",inline:"",content:`${Be.value.filter(Me=>Me.Personne.Sexe==as(iz).Man).length} /  ${Be.value.filter(Me=>Me.Personne.Sexe==as(iz).Woman).length}`},null,8,["content"])]),_:1})]),_:1}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(On,null,{default:Q(()=>[...Ye[2]||(Ye[2]=[Ht(" Anniversaires ",-1)])]),_:1}),q(On,{cols:"auto"},{default:Q(()=>[q(sg,{color:"amber-lighten-1",inline:"",content:Be.value.filter(Me=>Me.HasBirthday).length},null,8,["content"])]),_:1})]),_:1}),q(jl,{thickness:"1"}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(On,null,{default:Q(()=>[...Ye[3]||(Ye[3]=[Ht(" Liste d'attente ",-1)])]),_:1}),q(On,{cols:"auto"},{default:Q(()=>[q(sg,{color:"orange",inline:"",content:ye.participants.length-Be.value.length},null,8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),rY=fa({__name:"ReglementCard",props:{data:{}},setup(re){const ye=re;function Be(Ye){return(ye.data.Dossiers||{})[Ye.Participant.IdDossier]}const Ie=ea(()=>(ye.data.Participants||[]).filter(Ye=>Be(Ye).Reglement==HG.Complet).length);return(Ye,Me)=>{var Se;return Lt(),ko(Ar,{title:"Suivi du règlement",subtitle:`${Ie.value} / ${((Se=ye.data.Participants)==null?void 0:Se.length)||0} complet`},{default:Q(()=>[q(hr,null,{default:Q(()=>[q(qu,null,{default:Q(()=>[(Lt(!0),is(Jr,null,vc(Ye.data.Participants,Ve=>(Lt(),ko(Bs,{title:as(m_).NOMPrenom(Ve.Personne),subtitle:Be(Ve).Responsable},{append:Q(()=>[q(ex,{"prepend-icon":"mdi-currency-eur",color:as(F7).colorStatutPaiement(Be(Ve).Reglement)},{default:Q(()=>[Ht(Ia(as(VG)[Be(Ve).Reglement]),1)]),_:2},1032,["color"])]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1},8,["subtitle"])}}}),aY={key:1},iY={key:0,class:"text-center font-italic mt-4"},lY=fa({__name:"PannelParticipants",setup(re,{expose:ye}){Gu(()=>{Ue(),Ye()}),ye({loadParticipants:Ue});const Be=Ko(!1),Ie=Ko([]);async function Ye(){const kt=await go.GetCamps();kt!==void 0&&(Ie.value=kt||[])}const Me=Ko(!1),Se=ea(()=>{var ut;const kt=(((ut=Ve.value)==null?void 0:ut.Participants)||[]).map(xe=>xe);return kt.sort((xe,He)=>$G.cmp(xe,He,Me.value)),kt}),Ve=Ko(null);async function Ue(){Be.value=!0;const kt=await go.ParticipantsGet();Be.value=!1,kt!==void 0&&(Ve.value=kt)}const ot=Ko(null);async function St(kt){if(ot.value==null||Ve.value==null)return;const ut=await go.ParticipantsUpdate(kt);ot.value=null,ut!==void 0&&(go.showMessage("Participant modifié avec succès."),Ue())}const $t=Ko(!1),xt=Ko(!1),Ne=Ko(!1),yt=Ko(!1);return(kt,ut)=>{const xe=NK,He=RK,We=MK;return Ve.value!=null?(Lt(),ko(Ar,{key:0},{title:Q(()=>[q(an,{flat:"",icon:""},{default:Q(()=>[q(Us,null,{default:Q(()=>[...ut[10]||(ut[10]=[Ht("mdi-information",-1)])]),_:1}),q(p_,{activator:"parent","content-class":"ma-0 pa-0"},{default:Q(()=>[q(sY,{participants:Ve.value.Participants||[]},null,8,["participants"])]),_:1})]),_:1}),ut[11]||(ut[11]=Ht(" Participants ",-1))]),append:Q(()=>[q(an,{onClick:ut[0]||(ut[0]=ne=>Ne.value=!0),class:"mx-1"},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...ut[12]||(ut[12]=[Ht("mdi-email",-1)])]),_:1})]),default:Q(()=>[ut[13]||(ut[13]=Ht(" Messages",-1))]),_:1}),q(jl,{thickness:"1",vertical:"",class:"mx-1"}),q(an,{onClick:ut[1]||(ut[1]=ne=>xt.value=!0),class:"mx-1"},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...ut[14]||(ut[14]=[Ht("mdi-folder",-1)])]),_:1})]),default:Q(()=>[ut[15]||(ut[15]=Ht(" Documents",-1))]),_:1}),q(an,{onClick:ut[2]||(ut[2]=ne=>$t.value=!0),class:"mx-1"},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...ut[16]||(ut[16]=[Ht("mdi-pill",-1)])]),_:1})]),default:Q(()=>[ut[17]||(ut[17]=Ht(" Fiches sanitaires",-1))]),_:1}),q(jl,{thickness:"1",vertical:"",class:"mx-1"}),q(an,{icon:"",flat:""},{default:Q(()=>[q(Us,null,{default:Q(()=>[...ut[18]||(ut[18]=[Ht("mdi-dots-vertical",-1)])]),_:1}),q(_h,{activator:"parent"},{default:Q(()=>[q(qu,{density:"compact"},{default:Q(()=>[q(Bs,{title:"Trier par moment d'inscription",onClick:ut[3]||(ut[3]=ne=>Me.value=!Me.value),"prepend-icon":"mdi-sort-calendar-ascending","append-icon":Me.value?"mdi-check":""},null,8,["append-icon"]),q(jl,{thickness:"1"}),q(Bs,{"prepend-icon":"mdi-file-excel",title:"Exporter",subtitle:"au format Excel",link:"",href:as(g_).ParticipantsDownloadListe(as(go).authToken)},null,8,["href"]),q(jl,{thickness:"1"}),q(Bs,{"prepend-icon":"mdi-currency-eur",title:"Suivi du règlement",onClick:ut[4]||(ut[4]=ne=>yt.value=!0)})]),_:1})]),_:1})]),_:1})]),default:Q(()=>[q(hr,{class:"mt-4"},{default:Q(()=>[Be.value?(Lt(),ko(kh,{key:0,type:"table"})):(Lt(),is("div",aY,[q(xe),Se.value.length?Qr("",!0):(Lt(),is("div",iY," Aucun participant n'est encore inscrit sur ce séjour. ")),(Lt(!0),is(Jr,null,vc(Se.value,(ne,Ct)=>(Lt(),ko(He,{participant:ne,index:Ct},{actions:Q(()=>[q(qu,{density:"comfortable"},{default:Q(()=>[q(Bs,{title:"Modifier","prepend-icon":"mdi-pencil",onClick:pe=>ot.value=ne},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["participant","index"]))),256))]))]),_:1}),ot.value!=null?(Lt(),ko(el,{key:0,"model-value":ot.value!=null,"onUpdate:modelValue":ut[5]||(ut[5]=ne=>ot.value=null),"max-width":"800px"},{default:Q(()=>[q(We,{participant:ot.value.Participant,personne:ot.value.Personne,api:{SelectPersonne:as(go).SelectPersonne.bind(as(go))},"hide-personne-dossier":"","readonly-statut":"",onSave:St},null,8,["participant","personne","api"])]),_:1},8,["model-value"])):Qr("",!0),q(el,{modelValue:$t.value,"onUpdate:modelValue":ut[6]||(ut[6]=ne=>$t.value=ne)},{default:Q(()=>[q(eY)]),_:1},8,["modelValue"]),q(el,{modelValue:xt.value,"onUpdate:modelValue":ut[7]||(ut[7]=ne=>xt.value=ne),"max-width":"800px"},{default:Q(()=>[q(oY)]),_:1},8,["modelValue"]),q(el,{modelValue:Ne.value,"onUpdate:modelValue":ut[8]||(ut[8]=ne=>Ne.value=ne),"max-width":"1200px"},{default:Q(()=>[q(nY)]),_:1},8,["modelValue"]),q(el,{modelValue:yt.value,"onUpdate:modelValue":ut[9]||(ut[9]=ne=>yt.value=ne),"max-width":"700px"},{default:Q(()=>[q(rY,{data:Ve.value},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})):(Lt(),ko(kh,{key:1,type:"card"}))}}}),cY=fa({__name:"inscriptions",setup(re){const ye=DE(),Be=ea(()=>UX(ye.currentRoute.value.query));Gu(async()=>{const Se=await go.InscriptionsGet();Se!==void 0&&(Se!=null&&Se.length||Me("participants"))});const Ie=ea(()=>Be.value.tab||"insc"),Ye=oL("participants");function Me(Se){var Ue;const Ve=ye.currentRoute.value;ye.push({path:Ve.path,query:{tab:Se}}),Se=="participants"&&((Ue=Ye.value)==null||Ue.loadParticipants())}return(Se,Ve)=>{var Ue;return Lt(),is(Jr,null,[q(V7,{title:`${(Ue=as(go).camp)==null?void 0:Ue.Label} - Suivi des inscriptions`},{default:Q(()=>[q(Jz,{"model-value":Ie.value,"onUpdate:modelValue":Ve[0]||(Ve[0]=ot=>Me(ot))},{default:Q(()=>[q(AE,{value:"insc"},{default:Q(()=>[...Ve[2]||(Ve[2]=[Ht("Nouvelles inscriptions",-1)])]),_:1}),q(AE,{value:"participants"},{default:Q(()=>[...Ve[3]||(Ve[3]=[Ht("Liste des participants",-1)])]),_:1})]),_:1},8,["model-value"])]),_:1},8,["title"]),q(eH,{"model-value":Ie.value},{default:Q(()=>[q(TE,{value:"insc"},{default:Q(()=>[q(jK,{onGoTo:Ve[1]||(Ve[1]=()=>Me("participants"))})]),_:1}),q(TE,{value:"participants"},{default:Q(()=>[q(lY,{ref_key:"participants",ref:Ye},null,512)]),_:1})]),_:1},8,["model-value"])],64)}}}),dY=fa({__name:"DemandeChip",props:{demande:{}},emits:["updateState"],setup(re,{emit:ye}){const Be=re,Ie=ye,Ye=ea(()=>{var Se;const Me=!!((Se=Be.demande.Files)!=null&&Se.length);switch(Be.demande.State){case Qb.NonDemande:return;case Qb.Optionnelle:return Me?"green":"yellow-darken-2";case Qb.Obligatoire:return Me?"green":"red"}});return(Me,Se)=>{const Ve=sL;return Lt(),ko(_h,null,{activator:Q(({props:Ue})=>[q(ex,eu(Ue,{color:Ye.value,class:"my-1",size:"small"}),{default:Q(()=>[Ht(Ia(as(jP)[Be.demande.State]),1)]),_:1},16,["color"])]),default:Q(()=>[q(Ar,{title:"Documents"},{default:Q(()=>[q(hr,null,{default:Q(()=>{var Ue;return[q(jz,{mandatory:"","model-value":Be.demande.State,"onUpdate:modelValue":Se[0]||(Se[0]=ot=>Ie("updateState",ot))},{default:Q(()=>[q(an,{value:as(Qb).NonDemande},{default:Q(()=>[...Se[1]||(Se[1]=[Ht("Non requis",-1)])]),_:1},8,["value"]),q(an,{value:as(Qb).Optionnelle},{default:Q(()=>[Ht(Ia(as(jP)[as(Qb).Optionnelle]),1)]),_:1},8,["value"]),q(an,{value:as(Qb).Obligatoire},{default:Q(()=>[Ht(Ia(as(jP)[as(Qb).Obligatoire]),1)]),_:1},8,["value"])]),_:1},8,["model-value"]),(Ue=Be.demande.Files)!=null&&Ue.length?(Lt(),is(Jr,{key:0},[q(jl,{thickness:"2",class:"mt-2"}),q(wi,null,{default:Q(()=>[(Lt(!0),is(Jr,null,vc(Be.demande.Files,ot=>(Lt(),ko(On,{cols:"4"},{default:Q(()=>[q(Ve,{file:ot},null,8,["file"])]),_:2},1024))),256))]),_:1})],64)):Qr("",!0)]}),_:1})]),_:1})]),_:1})}}}),uY={key:1},mY={class:"text-left"},fY=fa({__name:"DocumentsTable",props:{equipiers:{}},setup(re){const ye=re;Gu(Ye);const Be=Ko([]),Ie=Ko([]);async function Ye(){const Ue=await go.EquipiersDemandesGet();Ue!==void 0&&(Be.value=Ue.Demandes||[],Ie.value=Ue.Equipiers||[])}function Me(Ue,ot){return Ie.value.find(St=>St.Key.IdDemande==ot&&St.Key.IdEquipier==Ue)}async function Se(Ue,ot,St){await go.EquipiersDemandeSet({IdEquipier:Ue,IdDemande:ot,State:St})!==void 0&&(go.showMessage("Demande modifiée avec succès."),Me(Ue,ot).State=St)}const Ve=ea(()=>g_.EquipiersDownloadFiles(go.authToken));return(Ue,ot)=>(Lt(),ko(Ar,{title:"Documents de l'équipe",subtitle:"Demandes et fichiers déposés par l'équipe"},{append:Q(()=>[q(an,{href:Ve.value},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...ot[0]||(ot[0]=[Ht("mdi-download",-1)])]),_:1})]),default:Q(()=>[ot[1]||(ot[1]=Ht(" Télécharger",-1))]),_:1},8,["href"])]),default:Q(()=>[q(hr,{class:"mt-4"},{default:Q(()=>[Be.value?(Lt(),is("div",uY,[q(nH,{class:"text-center"},{default:Q(()=>[An("tr",null,[ot[2]||(ot[2]=An("td",null,null,-1)),(Lt(!0),is(Jr,null,vc(Be.value,St=>(Lt(),is("td",null,Ia(as(UG)[St.Categorie]),1))),256))]),(Lt(!0),is(Jr,null,vc(ye.equipiers,(St,$t)=>(Lt(),is("tr",{class:n0($t%2==0?"bg-grey-lighten-4 rounded":"")},[An("td",mY,Ia(St.Personne),1),(Lt(!0),is(Jr,null,vc(Be.value,xt=>(Lt(),is("td",null,[q(dY,{demande:Me(St.Equipier.Id,xt.Id),onUpdateState:Ne=>Se(St.Equipier.Id,xt.Id,Ne)},null,8,["demande","onUpdateState"])]))),256))],2))),256))]),_:1})])):(Lt(),ko(kh,{key:0,type:"table"}))]),_:1})]),_:1}))}}),pY=fa({__name:"RolesField",props:Wz({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(re){const ye=re,Be=qz(re,"modelValue"),Ie=ZG(Gz);return(Ye,Me)=>(Lt(),ko(FK,{chips:"","closable-chips":"",label:"Rôles",variant:"outlined",density:"compact","hide-details":"",items:as(Ie),readonly:ye.readonly,multiple:"",modelValue:Be.value,"onUpdate:modelValue":Me[0]||(Me[0]=Se=>Be.value=Se)},null,8,["items","readonly","modelValue"]))}}),gY=fa({__name:"AddEquipierCard",emits:["create"],setup(re,{emit:ye}){const Be=ye,Ie=Ko({CreatePersonne:!1,IdPersonne:0,Nom:"",Prenom:"",Mail:"",Roles:[]}),Ye=ea(()=>{var Me;return!!((Ie.value.CreatePersonne?Ie.value.Nom&&Ie.value.Prenom&&Ie.value.Mail:Ie.value.IdPersonne)&&((Me=Ie.value.Roles)!=null&&Me.length))});return(Me,Se)=>{const Ve=BK;return Lt(),ko(Ar,{title:"Ajouter un équipier",subtitle:"Sélectionner un profil existant ou créer un nouveau."},{default:Q(()=>[q(hr,{class:"mt-4"},{default:Q(()=>[q(wi,null,{default:Q(()=>[q(On,{"align-self":"center"},{default:Q(()=>[Ie.value.CreatePersonne?(Lt(),ko(wi,{key:1},{default:Q(()=>[q(On,null,{default:Q(()=>[q(_2,{autofocus:"","hide-details":"",label:"Nom",density:"compact",variant:"outlined",modelValue:Ie.value.Nom,"onUpdate:modelValue":Se[1]||(Se[1]=Ue=>Ie.value.Nom=Ue)},null,8,["modelValue"])]),_:1}),q(On,null,{default:Q(()=>[q(_2,{"hide-details":"",label:"Prénom",density:"compact",variant:"outlined",modelValue:Ie.value.Prenom,"onUpdate:modelValue":Se[2]||(Se[2]=Ue=>Ie.value.Prenom=Ue)},null,8,["modelValue"])]),_:1}),q(On,{cols:"12"},{default:Q(()=>[q(_2,{variant:"outlined",density:"compact",modelValue:Ie.value.Mail,"onUpdate:modelValue":Se[3]||(Se[3]=Ue=>Ie.value.Mail=Ue),label:"Adresse mail",type:"email",rules:[as(jG).required("Une adresse mail est nécessaire pour inviter l'équipier.")]},null,8,["modelValue","rules"])]),_:1})]),_:1})):(Lt(),ko(Ve,{key:0,label:"Personne",modelValue:Ie.value.IdPersonne,"onUpdate:modelValue":Se[0]||(Se[0]=Ue=>Ie.value.IdPersonne=Ue),"initial-personne":"",api:{SelectPersonne:as(go).SelectPersonne.bind(as(go))}},null,8,["modelValue","api"]))]),_:1}),q(On,{cols:"auto"},{default:Q(()=>[q(jl,{thickness:"2",vertical:"",class:"py-2"},{default:Q(()=>[...Se[7]||(Se[7]=[Ht("ou",-1)])]),_:1})]),_:1}),q(On,{cols:"auto","align-self":"center"},{default:Q(()=>[q(an,{onClick:Se[4]||(Se[4]=Ue=>Ie.value.CreatePersonne=!Ie.value.CreatePersonne)},{default:Q(()=>[Ht(Ia(Ie.value.CreatePersonne?"Sélectionner":"Créer"),1)]),_:1})]),_:1})]),_:1}),q(wi,null,{default:Q(()=>[q(On,null,{default:Q(()=>[q(pY,{modelValue:Ie.value.Roles,"onUpdate:modelValue":Se[5]||(Se[5]=Ue=>Ie.value.Roles=Ue)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(an,{disabled:!Ye.value,onClick:Se[6]||(Se[6]=Ue=>Be("create",Ie.value))},{default:Q(()=>[...Se[8]||(Se[8]=[Ht("Ajouter",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})}}}),hY=fa({__name:"StatistiquesCard",props:{equipiers:{}},setup(re){const ye=re;return(Be,Ie)=>(Lt(),ko(Ar,{subtitle:"Statistiques",width:"300px"},{default:Q(()=>[q(hr,null,{default:Q(()=>[q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(On,null,{default:Q(()=>[...Ie[0]||(Ie[0]=[Ht(" Equipiers ",-1)])]),_:1}),q(On,{cols:"auto"},{default:Q(()=>[q(sg,{color:"secondary",inline:"",content:ye.equipiers.length},null,8,["content"])]),_:1})]),_:1}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(On,null,{default:Q(()=>[...Ie[1]||(Ie[1]=[Ht(" Animateurs ",-1)])]),_:1}),q(On,{cols:"auto"},{default:Q(()=>[q(sg,{color:"secondary",inline:"",content:ye.equipiers.filter(Ye=>Ye.IsAnimateur).length},null,8,["content"])]),_:1})]),_:1}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(On,null,{default:Q(()=>[...Ie[2]||(Ie[2]=[Ht(" Au pair ",-1)])]),_:1}),q(On,{cols:"auto"},{default:Q(()=>[q(sg,{color:"secondary",inline:"",content:ye.equipiers.filter(Ye=>Ye.IsAuPair).length},null,8,["content"])]),_:1})]),_:1}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(On,null,{default:Q(()=>[...Ie[3]||(Ie[3]=[Ht(" Anniversaires ",-1)])]),_:1}),q(On,{cols:"auto"},{default:Q(()=>[q(sg,{color:"amber-lighten-1",inline:"",content:ye.equipiers.filter(Ye=>Ye.HasBirthday).length},null,8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),bY=fa({__name:"equipiers",setup(re){DE(),Gu(Be);const ye=Ko([]);async function Be(){const xt=await go.EquipiersGet();xt!==void 0&&(xt==null||xt.sort((Ne,yt)=>Ne.Equipier.Id-yt.Equipier.Id),ye.value=xt||[])}const Ie=Ko(!1);function Ye(xt){return(xt||[]).map(Ne=>Gz[Ne]).join(", ")}function Me(xt){switch(xt){case I7.NotSend:return{icon:"mdi-form-select",color:""};case I7.Pending:return{icon:"mdi-clock",color:"yellow-darken-2"};case I7.Answered:return{icon:"mdi-check",color:"green"}}}const Se=Ko(!1);async function Ve(xt){Se.value=!1;const Ne=await go.EquipiersCreate(xt);Ne!==void 0&&(go.showMessage("Equipier crée avec succès."),ye.value.push(Ne))}async function Ue(xt){const Ne=await go.EquipiersInvite({OnlyOne:lz(xt)});Ne!==void 0&&(go.showMessage("Equipier invité avec succès."),Ne==null||Ne.sort((yt,kt)=>yt.Equipier.Id-kt.Equipier.Id),ye.value=Ne||[])}async function ot(){const xt=await go.EquipiersInvite({OnlyOne:lz(null)});xt!==void 0&&(go.showMessage("Equipiers invités avec succès."),xt==null||xt.sort((Ne,yt)=>Ne.Equipier.Id-yt.Equipier.Id),ye.value=xt||[])}const St=Ko(null);async function $t(){if(St.value==null)return;const xt=St.value.Equipier.Id;St.value=null,await go.EquipiersDelete({id:xt})!==void 0&&(go.showMessage("Equipier supprimé avec succès."),ye.value=ye.value.filter(yt=>yt.Equipier.Id!=xt))}return(xt,Ne)=>{var yt;return Lt(),is(Jr,null,[q(V7,{title:`${(yt=as(go).camp)==null?void 0:yt.Label} - Equipiers`},{default:Q(()=>[q(an,{onClick:Ne[0]||(Ne[0]=kt=>Ie.value=!0)},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...Ne[6]||(Ne[6]=[Ht("mdi-file",-1)])]),_:1})]),default:Q(()=>[Ne[7]||(Ne[7]=Ht(" Documents ",-1))]),_:1})]),_:1},8,["title"]),q(Ar,{class:"mt-2 mx-auto","max-width":"800px"},{title:Q(()=>[q(an,{flat:"",icon:""},{default:Q(()=>[q(Us,null,{default:Q(()=>[...Ne[8]||(Ne[8]=[Ht("mdi-information",-1)])]),_:1}),q(p_,{activator:"parent","content-class":"ma-0 pa-0"},{default:Q(()=>[q(hY,{equipiers:ye.value},null,8,["equipiers"])]),_:1})]),_:1}),Ne[9]||(Ne[9]=Ht(" Équipiers ",-1))]),append:Q(()=>[q(an,{color:"green",onClick:Ne[1]||(Ne[1]=kt=>Se.value=!0)},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...Ne[10]||(Ne[10]=[Ht("mdi-plus",-1)])]),_:1})]),default:Q(()=>[Ne[11]||(Ne[11]=Ht(" Ajouter un équipier",-1))]),_:1}),q(_h,null,{activator:Q(({props:kt})=>[q(an,eu(kt,{class:"ml-2",icon:"mdi-dots-vertical",size:"small"}),null,16)]),default:Q(()=>[q(qu,null,{default:Q(()=>[q(Bs,null,{default:Q(()=>[q(Bs,{title:"Inviter tous",subtitle:"Envoi un mail à tous les équipiers en attente","prepend-icon":"mdi-email",onClick:Ne[2]||(Ne[2]=kt=>ot())})]),_:1})]),_:1})]),_:1})]),default:Q(()=>[q(hr,null,{default:Q(()=>[q(qu,null,{default:Q(()=>[(Lt(!0),is(Jr,null,vc(ye.value,kt=>(Lt(),ko(Bs,{title:kt.Personne,subtitle:Ye(kt.Equipier.Roles)},{append:Q(()=>[q(wi,null,{default:Q(()=>[q(On,{cols:"2","align-self":"center"},{default:Q(()=>[q(p_,{text:`${kt.Personne} a son anniveraire pendant le séjour !`},{activator:Q(({props:ut})=>[q(Us,eu({ref_for:!0},ut,{color:"pink"}),{default:Q(()=>[...Ne[12]||(Ne[12]=[Ht("mdi-cake-variant",-1)])]),_:1},16)]),_:1},8,["text"])]),_:2},1024),q(On,{"align-self":"center"},{default:Q(()=>[q(ex,{"prepend-icon":Me(kt.Equipier.FormStatus).icon,color:Me(kt.Equipier.FormStatus).color},{default:Q(()=>[Ht(Ia(as(WG)[kt.Equipier.FormStatus]),1)]),_:2},1032,["prepend-icon","color"])]),_:2},1024),kt.Equipier.FormStatus==as(I7).Answered&&!kt.Equipier.AccepteCharte.Bool?(Lt(),ko(On,{key:0,"align-self":"center"},{default:Q(()=>[q(ex,{color:"warning"},{default:Q(()=>[...Ne[13]||(Ne[13]=[Ht("Charte non acceptée",-1)])]),_:1})]),_:1})):Qr("",!0),q(On,{"align-self":"center"},{default:Q(()=>[q(_h,null,{activator:Q(({props:ut})=>[q(an,eu({ref_for:!0},ut,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:Q(()=>[q(qu,null,{default:Q(()=>[q(Bs,{title:"Inviter",subtitle:"Envoi un mail avec le lien vers le formulaire","prepend-icon":"mdi-email",onClick:ut=>Ue(kt.Equipier.Id)},null,8,["onClick"]),q(Bs,{title:"Aller au formulaire","prepend-icon":"mdi-open-in-new",href:kt.FormURL,target:"_blank"},null,8,["href"]),q(jl),q(Bs,{title:"Supprimer","prepend-icon":"mdi-delete",onClick:ut=>St.value=kt},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1}),q(el,{modelValue:Ie.value,"onUpdate:modelValue":Ne[3]||(Ne[3]=kt=>Ie.value=kt)},{default:Q(()=>[q(fY,{equipiers:ye.value},null,8,["equipiers"])]),_:1},8,["modelValue"]),q(el,{modelValue:Se.value,"onUpdate:modelValue":Ne[4]||(Ne[4]=kt=>Se.value=kt),"max-width":"600px"},{default:Q(()=>[q(gY,{onCreate:Ve})]),_:1},8,["modelValue"]),q(el,{"model-value":St.value!=null,"onUpdate:modelValue":Ne[5]||(Ne[5]=kt=>St.value=null),"max-width":"400px"},{default:Q(()=>[St.value?(Lt(),ko(Ar,{key:0,title:"Confirmation"},{default:Q(()=>[q(hr,null,{default:Q(()=>[Ht(" Confirmez-vous la suppression de l'équipier "+Ia(St.value.Personne)+" ? ",1),Ne[14]||(Ne[14]=An("br",null,null,-1)),Ne[15]||(Ne[15]=An("br",null,null,-1)),Ne[16]||(Ne[16]=Ht(" Attention, cette opération est irréversible. ",-1))]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(an,{color:"red",onClick:$t},{default:Q(()=>[...Ne[17]||(Ne[17]=[Ht(" Supprimer ",-1)])]),_:1})]),_:1})]),_:1})):Qr("",!0)]),_:1},8,["model-value"])],64)}}});var KP={exports:{}},hz;function xY(){return hz||(hz=1,function(re){(function(){var ye=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},Be=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Ie=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},Ye=function(e,t){return Me(function(n,s){return e.eq(t(n),t(s))})},Me=function(e){return{eq:e}},Se=Me(function(e,t){return e===t}),Ve=Se,Ue=function(e){return Me(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,i=0;i<s;i++)if(!e.eq(t[i],n[i]))return!1;return!0})},ot=function(e,t){return Ye(Ue(e),function(n){return Ie(n,t)})},St=function(e){return Me(function(t,n){var s=Object.keys(t),i=Object.keys(n);if(!ot(Ve).eq(s,i))return!1;for(var c=s.length,u=0;u<c;u++){var g=s[u];if(!e.eq(t[g],n[g]))return!1}return!0})},$t=Me(function(e,t){if(e===t)return!0;var n=ye(e),s=ye(t);return n!==s?!1:Be(n)?e===t:n==="array"?Ue($t).eq(e,t):n==="object"?St($t).eq(e,t):!1});const xt=Object.getPrototypeOf,Ne=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},yt=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Ne(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},kt=e=>t=>yt(t)===e,ut=e=>t=>typeof t===e,xe=e=>t=>e===t,He=(e,t)=>ne(e)&&Ne(e,t,(n,s)=>xt(n)===s),We=kt("string"),ne=kt("object"),Ct=e=>He(e,Object),pe=kt("array"),yn=xe(null),bs=ut("boolean"),wn=xe(void 0),tn=e=>e==null,Qe=e=>!tn(e),Jt=ut("function"),A=ut("number"),Bo=(e,t)=>{if(pe(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},To=()=>{},$n=(e,t)=>(...n)=>e(t.apply(null,n)),ta=(e,t)=>n=>e(t(n)),Et=e=>()=>e,Tn=e=>e,Ci=(e,t)=>e===t;function Ze(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const Ee=e=>t=>!e(t),gt=e=>()=>{throw new Error(e)},dn=e=>e(),Do=e=>{e()},So=Et(!1),qo=Et(!0);class z{constructor(t,n){this.tag=t,this.value=n}static some(t){return new z(!0,t)}static none(){return z.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?z.some(t(this.value)):z.none()}bind(t){return this.tag?t(this.value):z.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:z.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Qe(t)?z.some(t):z.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}z.singletonNone=new z(!1);const dr=Array.prototype.slice,Is=Array.prototype.indexOf,Uo=Array.prototype.push,_i=(e,t)=>Is.call(e,t),oa=(e,t)=>{const n=_i(e,t);return n===-1?z.none():z.some(n)},on=(e,t)=>_i(e,t)>-1,Kn=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const i=e[n];if(t(i,n))return!0}return!1},Yo=(e,t)=>{const n=e.length,s=new Array(n);for(let i=0;i<n;i++){const c=e[i];s[i]=t(c,i)}return s},st=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const i=e[n];t(i,n)}},Wl=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},br=(e,t)=>{const n=[],s=[];for(let i=0,c=e.length;i<c;i++){const u=e[i];(t(u,i)?n:s).push(u)}return{pass:n,fail:s}},Co=(e,t)=>{const n=[];for(let s=0,i=e.length;s<i;s++){const c=e[s];t(c,s)&&n.push(c)}return n},yc=(e,t,n)=>(Wl(e,(s,i)=>{n=t(n,s,i)}),n),ws=(e,t,n)=>(st(e,(s,i)=>{n=t(n,s,i)}),n),Zs=(e,t,n)=>{for(let s=0,i=e.length;s<i;s++){const c=e[s];if(t(c,s))return z.some(c);if(n(c,s))break}return z.none()},js=(e,t)=>Zs(e,t,So),ur=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const i=e[n];if(t(i,n))return z.some(n)}return z.none()},Ss=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!pe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Uo.apply(t,e[n])}return t},na=(e,t)=>Ss(Yo(e,t)),hn=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const i=e[n];if(t(i,n)!==!0)return!1}return!0},tl=e=>{const t=dr.call(e,0);return t.reverse(),t},ol=(e,t)=>Co(e,n=>!on(t,n)),Ya=(e,t)=>{const n={};for(let s=0,i=e.length;s<i;s++){const c=e[s];n[String(c)]=t(c,s)}return n},ki=(e,t)=>{const n=dr.call(e,0);return n.sort(t),n},nr=(e,t)=>t>=0&&t<e.length?z.some(e[t]):z.none(),Kt=e=>nr(e,0),jo=e=>nr(e,e.length-1),xs=Jt(Array.from)?Array.from:e=>dr.call(e),Ir=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return z.none()},Vt=(e,t)=>{const n=[],s=Jt(t)?i=>Kn(n,c=>t(c,i)):i=>on(n,i);for(let i=0,c=e.length;i<c;i++){const u=e[i];s(u)||n.push(u)}return n},Pr=Object.keys,tu=Object.hasOwnProperty,Un=(e,t)=>{const n=Pr(e);for(let s=0,i=n.length;s<i;s++){const c=n[s],u=e[c];t(u,c)}},jn=(e,t)=>sa(e,(n,s)=>({k:s,v:t(n,s)})),sa=(e,t)=>{const n={};return Un(e,(s,i)=>{const c=t(s,i);n[c.k]=c.v}),n},Tr=e=>(t,n)=>{e[n]=t},ou=(e,t,n,s)=>{Un(e,(i,c)=>{(t(i,c)?n:s)(i,c)})},Zc=(e,t)=>{const n={},s={};return ou(e,t,Tr(n),Tr(s)),{t:n,f:s}},Fo=(e,t)=>{const n={};return ou(e,t,Tr(n),To),n},mr=(e,t)=>{const n=[];return Un(e,(s,i)=>{n.push(t(s,i))}),n},pa=e=>mr(e,Tn),_n=(e,t)=>Qt(e,t)?z.from(e[t]):z.none(),Qt=(e,t)=>tu.call(e,t),Lr=(e,t)=>Qt(e,t)&&e[t]!==void 0&&e[t]!==null,wc=(e,t,n=$t)=>St(n).eq(e,t),ka={generate:e=>{if(!pe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return st(e,(s,i)=>{const c=Pr(s);if(c.length!==1)throw new Error("one and only one name per case");const u=c[0],g=s[u];if(n[u]!==void 0)throw new Error("duplicate key detected:"+u);if(u==="cata")throw new Error("cannot have a case named cata (sorry)");if(!pe(g))throw new Error("case arguments must be an array");t.push(u),n[u]=(...v)=>{const S=v.length;if(S!==g.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+g.length+" ("+g+"), got "+S);return{fold:(...M)=>{if(M.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+M.length);return M[i].apply(null,v)},match:M=>{const P=Pr(M);if(t.length!==P.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+P.join(","));if(!hn(t,J=>on(P,J)))throw new Error("Not all branches were specified when using match. Specified: "+P.join(", ")+`
Required: `+t.join(", "));return M[u].apply(null,v)},log:M=>{console.log(M,{constructors:t,constructor:u,params:v})}}}}),n}},Wo=e=>{let t=e;return{get:()=>t,set:i=>{t=i}}},nu=e=>{const t=c=>c(e),n=Et(e),s=()=>i,i={tag:!0,inner:e,fold:(c,u)=>u(e),isValue:qo,isError:So,map:c=>xr.value(c(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:c=>{c(e)},toOptional:()=>z.some(e)};return i},Sa=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,i)=>s(e),isValue:So,isError:qo,map:t,mapError:s=>xr.error(s(e)),bind:t,exists:So,forall:qo,getOr:Tn,or:Tn,getOrThunk:dn,orThunk:dn,getOrDie:gt(String(e)),each:To,toOptional:z.none};return n},xr={value:nu,error:Sa,fromOption:(e,t)=>e.fold(()=>Sa(t),nu)},Cc=typeof window<"u"?window:Function("return this;")(),ci=(e,t,n)=>Math.min(Math.max(e,t),n),yd=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Ps=0;const Cs=e=>{const n=new Date().getTime(),s=Math.floor(yd()*1e9);return Ps++,e+"_"+s+Ps+String(n)},Bn=(e,t)=>t,Mi=(e,t)=>Ct(e)&&Ct(t)?Es(e,t):t,Yn=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const i=t[s];for(const c in i)Qt(i,c)&&(n[c]=e(n[c],i[c]))}return n},Es=Yn(Mi),_c=Yn(Bn),Si=(e,t,n=Ci)=>e.exists(s=>n(s,t)),Gl=(e,t,n=Ci)=>sr(e,t,n).getOr(e.isNone()&&t.isNone()),Kl=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},sr=(e,t,n)=>e.isSome()&&t.isSome()?z.some(n(e.getOrDie(),t.getOrDie())):z.none(),su=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?z.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):z.none(),rr=(e,t)=>e?z.some(t):z.none(),ru=(e,t)=>{let n=t??Cc;for(let s=0;s<e.length&&n!==void 0&&n!==null;++s)n=n[e[s]];return n},Um=(e,t)=>{const n=e.split(".");return ru(n,t)};ka.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Yl=e=>{const t=[],n=[];return st(e,s=>{s.fold(i=>{t.push(i)},i=>{n.push(i)})}),{errors:t,values:n}},Ku=e=>{const t=Wo(z.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(z.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{n(),t.set(z.some(g))}}},Ft=e=>{const t=Wo(z.none()),n=()=>t.get().each(g=>clearInterval(g));return{clear:()=>{n(),t.set(z.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{n(),t.set(z.some(setInterval(g,e)))}}},nl=()=>{const e=Ku(To);return{...e,on:n=>e.get().each(n)}},au=(e,t)=>e.substring(t),wd=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Xl=(e,t)=>ar(e,t)?au(e,t.length):e,Dr=(e,t,n=0,s)=>{const i=e.indexOf(t,n);return i!==-1?wn(s)?!0:i+t.length<=s:!1},ar=(e,t)=>wd(e,t,0),Yu=(e,t)=>wd(e,t,e.length-t.length),Pa=e=>t=>t.replace(e,""),jc=Pa(/^\s+|\s+$/g),jf=Pa(/^\s+/g),In=Pa(/\s+$/g),La=e=>e.length>0,Wc=e=>!La(e),Ql=(e,t)=>t<=0?"":new Array(t+1).join(e),Cl=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?z.none():z.some(n)},Xa=(e,t)=>{let n=null;return{cancel:()=>{yn(n)||(clearTimeout(n),n=null)},throttle:(...c)=>{yn(n)&&(n=setTimeout(()=>{n=null,e.apply(null,c)},t))}}},qc=(e,t)=>{let n=null;const s=()=>{yn(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...c)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,c)},t)}}},ir=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},Ea="\uFEFF",Ls=" ",ga=e=>e===Ea,Fs=e=>e.replace(/\uFEFF/g,""),Gc=e=>{const t={};return st(e,n=>{t[n]={}}),Pr(t)},Jl=e=>e.length!==void 0,Cd=Array.isArray,iu=e=>{if(Cd(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},vr=(e,t,n)=>{if(!e)return!1;if(n=n||e,Jl(e)){for(let s=0,i=e.length;s<i;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if(Qt(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},_l=(e,t)=>{const n=[];return vr(e,(s,i)=>{n.push(t(s,i,e))}),n},ec=(e,t)=>{const n=[];return vr(e,(s,i)=>{(!t||t(s,i,e))&&n.push(s)}),n},_d=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},Fr=(e,t,n,s)=>{let i=wn(n)?e[0]:n;for(let c=0;c<e.length;c++)i=t.call(s,i,e[c],c);return i},kd=(e,t,n)=>{for(let s=0,i=e.length;s<i;s++)if(t.call(n,e[s],s,e))return s;return-1},ra=e=>e[e.length-1],tc=(e,t,n,s)=>{const i=e.isiOS()&&/ipad/i.test(n)===!0,c=e.isiOS()&&!i,u=e.isiOS()||e.isAndroid(),g=u||s("(pointer:coarse)"),v=i||!c&&u&&s("(min-device-width:768px)"),S=c||u&&!v,O=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,M=!S&&!v&&!O;return{isiPad:Et(i),isiPhone:Et(c),isTablet:Et(v),isPhone:Et(S),isTouch:Et(g),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Et(O),isDesktop:Et(M)}},lu=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},Zm=(e,t)=>{const n=lu(e,t);if(!n)return{major:0,minor:0};const s=i=>Number(t.replace(n,"$"+i));return Fa(s(1),s(2))},Xu=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Kc():Zm(e,n)},Kc=()=>Fa(0,0),Fa=(e,t)=>({major:e,minor:t}),Z={nu:Fa,detect:Xu,unknown:Kc},ae=(e,t)=>Ir(t.brands,n=>{const s=n.brand.toLowerCase();return js(e,i=>{var c;return s===((c=i.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(i=>({current:i.name,version:Z.nu(parseInt(n.version,10),0)}))}),Ce=(e,t)=>{const n=String(t).toLowerCase();return js(e,s=>s.search(n))},at=(e,t)=>Ce(e,t).map(n=>{const s=Z.detect(n.versionRegexes,t);return{current:n.name,version:s}}),Nt=(e,t)=>Ce(e,t).map(n=>{const s=Z.detect(n.versionRegexes,t);return{current:n.name,version:s}}),Ut=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zo=e=>t=>Dr(t,e),cs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Dr(e,"edge/")&&Dr(e,"chrome")&&Dr(e,"safari")&&Dr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ut],search:e=>Dr(e,"chrome")&&!Dr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Dr(e,"msie")||Dr(e,"trident")},{name:"Opera",versionRegexes:[Ut,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zo("firefox")},{name:"Safari",versionRegexes:[Ut,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Dr(e,"safari")||Dr(e,"mobile/"))&&Dr(e,"applewebkit")}],Ho=[{name:"Windows",search:zo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Dr(e,"iphone")||Dr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:zo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zo("linux"),versionRegexes:[]},{name:"Solaris",search:zo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],I={browsers:Et(cs),oses:Et(Ho)},K="Edge",me="Chromium",Ae="IE",jt="Opera",ln="Firefox",Xn="Safari",zr=()=>Pn({current:void 0,version:Z.unknown()}),Pn=e=>{const t=e.current,n=e.version,s=i=>()=>t===i;return{current:t,version:n,isEdge:s(K),isChromium:s(me),isIE:s(Ae),isOpera:s(jt),isFirefox:s(ln),isSafari:s(Xn)}},aa={unknown:zr,nu:Pn},ia="Windows",Or="iOS",ds="Android",jm="Linux",Qu="macOS",Qa="Solaris",kl="FreeBSD",Aa="ChromeOS",Sd=()=>Sl({current:void 0,version:Z.unknown()}),Sl=e=>{const t=e.current,n=e.version,s=i=>()=>t===i;return{current:t,version:n,isWindows:s(ia),isiOS:s(Or),isAndroid:s(ds),isMacOS:s(Qu),isLinux:s(jm),isSolaris:s(Qa),isFreeBSD:s(kl),isChromeOS:s(Aa)}},Wf={unknown:Sd,nu:Sl},Yc={detect:(e,t,n)=>{const s=I.browsers(),i=I.oses(),c=t.bind(v=>ae(s,v)).orThunk(()=>at(s,e)).fold(aa.unknown,aa.nu),u=Nt(i,e).fold(Wf.unknown,Wf.nu),g=tc(u,c,e,n);return{browser:c,os:u,deviceType:g}}},em=e=>window.matchMedia(e).matches;let ha=ir(()=>Yc.detect(window.navigator.userAgent,z.from(window.navigator.userAgentData),em));const Jn=()=>ha(),El=(e,t)=>Um(e,t),Sh=(e,t)=>{const n=El(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},Wm=Object.getPrototypeOf,Ws=e=>Sh("HTMLElement",e),kc=e=>{const t=Um("ownerDocument.defaultView",e);return ne(e)&&(Ws(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Wm(e).constructor.name))},oc=window.navigator.userAgent,Al=Jn(),As=Al.browser,Bi=Al.os,cu=Al.deviceType,Ed=oc.indexOf("Windows Phone")!==-1,Vo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:As.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!As.isIE(),windowsPhone:Ed,browser:{current:As.current,version:As.version,isChromium:As.isChromium,isEdge:As.isEdge,isFirefox:As.isFirefox,isIE:As.isIE,isOpera:As.isOpera,isSafari:As.isSafari},os:{current:Bi.current,version:Bi.version,isAndroid:Bi.isAndroid,isChromeOS:Bi.isChromeOS,isFreeBSD:Bi.isFreeBSD,isiOS:Bi.isiOS,isLinux:Bi.isLinux,isMacOS:Bi.isMacOS,isSolaris:Bi.isSolaris,isWindows:Bi.isWindows},deviceType:{isDesktop:cu.isDesktop,isiPad:cu.isiPad,isiPhone:cu.isiPhone,isPhone:cu.isPhone,isTablet:cu.isTablet,isTouch:cu.isTouch,isWebView:cu.isWebView}},ig=/^\s*|\s*$/g,lg=e=>tn(e)?"":(""+e).replace(ig,""),bo=(e,t)=>t?t==="array"&&Cd(e)?!0:typeof e===t:e!==void 0,qf=(e,t,n={})=>{const s=We(e)?e.split(t||","):e||[];let i=s.length;for(;i--;)n[s[i]]={};return n},yr=Qt,Ta=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(Qt(s,i)){const c=s[i];c!==void 0&&(e[i]=c)}}return e},Gf=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),vr(e,(i,c)=>t.call(s,i,c,n)===!1?!1:(Gf(i,t,n,s),!0)))},Dt={trim:lg,isArray:Cd,is:bo,toArray:iu,makeMap:qf,each:vr,map:_l,grep:ec,inArray:_d,hasOwn:yr,extend:Ta,walk:Gf,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,i=n.length;s<i&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>pe(e)?e:e===""?[]:_l(e.split(t||","),lg),_addCacheSuffix:e=>{const t=Vo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Eh=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const i="HTML does not have a single root node";throw console.error(i,e),new Error(i)}return Sc(s.childNodes[0])},tm=(e,t)=>{const s=(t||document).createElement(e);return Sc(s)},qm=(e,t)=>{const s=(t||document).createTextNode(e);return Sc(s)},Sc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ue={fromHtml:Eh,fromTag:tm,fromText:qm,fromDom:Sc,fromPoint:(e,t,n)=>z.from(e.dom.elementFromPoint(t,n)).map(Sc)},Kf=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},Nr=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},dg=(e,t,n)=>{const s=e.document.createRange();return Kf(s,t),Nr(s,n),s},Eo=(e,t,n,s,i)=>{const c=e.document.createRange();return c.setStart(t.dom,n),c.setEnd(s.dom,i),c},Ei=ka.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Td=(e,t,n)=>t(ue.fromDom(n.startContainer),n.startOffset,ue.fromDom(n.endContainer),n.endOffset),Ha=(e,t)=>t.match({domRange:n=>({ltr:Et(n),rtl:z.none}),relative:(n,s)=>({ltr:ir(()=>dg(e,n,s)),rtl:ir(()=>z.some(dg(e,s,n)))}),exact:(n,s,i,c)=>({ltr:ir(()=>Eo(e,n,s,i,c)),rtl:ir(()=>z.some(Eo(e,i,c,n,s)))})}),Gm=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(i=>i.collapsed===!1).map(i=>Ei.rtl(ue.fromDom(i.endContainer),i.endOffset,ue.fromDom(i.startContainer),i.startOffset)).getOrThunk(()=>Td(e,Ei.ltr,n)):Td(e,Ei.ltr,n)},ba=(e,t)=>{const n=Ha(e,t);return Gm(e,n)};Ei.ltr,Ei.rtl;const Km=8,Dd=9,un=11,Va=1,sl=3,Tl=(e,t)=>{const n=e.dom;if(n.nodeType!==Va)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Gs=e=>e.nodeType!==Va&&e.nodeType!==Dd&&e.nodeType!==un||e.childElementCount===0,rl=(e,t)=>{const n=t===void 0?document:t.dom;return Gs(n)?[]:Yo(n.querySelectorAll(e),ue.fromDom)},du=(e,t)=>{const n=t===void 0?document:t.dom;return Gs(n)?z.none():z.from(n.querySelector(e)).map(ue.fromDom)},bn=(e,t)=>e.dom===t.dom,Ii=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},$a=(e,t)=>{const n=[],s=c=>(n.push(c),t(c));let i=t(e);do i=i.bind(s);while(i.isSome());return n},No=e=>e.dom.nodeName.toLowerCase(),Xc=e=>e.dom.nodeType,Qc=e=>t=>Xc(t)===e,us=e=>Xc(e)===Km||No(e)==="#comment",Dl=e=>fr(e)&&kc(e.dom),fr=Qc(Va),xa=Qc(sl),Pi=Qc(Dd),Ym=Qc(un),Xm=e=>t=>fr(t)&&No(t)===e,Yf=e=>ue.fromDom(e.dom.ownerDocument),uu=e=>Pi(e)?e:Yf(e),Xf=e=>ue.fromDom(uu(e).dom.documentElement),Od=e=>ue.fromDom(uu(e).dom.defaultView),Ec=e=>z.from(e.dom.parentNode).map(ue.fromDom),Qm=e=>z.from(e.dom.parentElement).map(ue.fromDom),Ah=(e,t)=>{const n=Jt(t)?t:So;let s=e.dom;const i=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const c=s.parentNode,u=ue.fromDom(c);if(i.push(u),n(u)===!0)break;s=c}return i},Li=e=>{const t=n=>Co(n,s=>!bn(e,s));return Ec(e).map(Da).map(t).getOr([])},Nd=e=>z.from(e.dom.previousSibling).map(ue.fromDom),Jc=e=>z.from(e.dom.nextSibling).map(ue.fromDom),Nn=e=>tl($a(e,Nd)),Ac=e=>$a(e,Jc),Da=e=>Yo(e.dom.childNodes,ue.fromDom),Rd=(e,t)=>{const n=e.dom.childNodes;return z.from(n[t]).map(ue.fromDom)},di=e=>Rd(e,0),om=e=>Rd(e,e.dom.childNodes.length-1),Jm=e=>e.dom.childNodes.length,ef=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return ue.fromDom(t)},ls=e=>Ym(e)&&Qe(e.dom.host),ed=e=>ue.fromDom(e.dom.getRootNode()),vs=e=>ls(e)?e:ef(uu(e)),Ja=e=>ls(e)?e:ue.fromDom(uu(e).dom.body),mu=e=>{const t=ed(e);return ls(t)?z.some(t):z.none()},ui=e=>ue.fromDom(e.dom.host),Qf=e=>{if(Qe(e.target)){const t=ue.fromDom(e.target);if(fr(t)&&la(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return Kt(n)}}return z.from(e.target)},la=e=>Qe(e.dom.shadowRoot),Md=(e,t,n,s,i,c,u)=>({target:e,x:t,y:n,stop:s,prevent:i,kill:c,raw:u}),Th=e=>{const t=ue.fromDom(Qf(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),i=$n(s,n);return Md(t,e.clientX,e.clientY,n,s,i,e)},ca=(e,t)=>n=>{e(n)&&t(Th(n))},Jf=(e,t,n,s,i)=>{const c=ca(n,s);return e.dom.addEventListener(t,c,i),{unbind:Ze(Dh,e,t,c,i)}},ep=(e,t,n,s)=>Jf(e,t,n,s,!1),Dh=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},tp=qo,nm=(e,t,n)=>ep(e,t,tp,n),op=()=>ue.fromDom(document),np=(e,t=!1)=>e.dom.focus({preventScroll:t}),sp=e=>{const t=ed(e).dom;return e.dom===t.activeElement},tf=(e=op())=>z.from(e.dom.activeElement).map(ue.fromDom),Tc=e=>tf(ed(e)).filter(t=>e.dom.contains(t.dom)),ei=(e,t)=>{Ec(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},td=(e,t)=>{Jc(e).fold(()=>{Ec(e).each(i=>{Zn(i,t)})},s=>{ei(s,t)})},sm=(e,t)=>{di(e).fold(()=>{Zn(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},Zn=(e,t)=>{e.dom.appendChild(t.dom)},rp=(e,t)=>{ei(e,t),Zn(t,e)},Dc=(e,t)=>{st(t,(n,s)=>{const i=s===0?e:t[s-1];td(i,n)})},nc=(e,t)=>{st(t,n=>{Zn(e,n)})},of=(e,t,n)=>{if(We(n)||bs(n)||A(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},Hr=(e,t,n)=>{of(e.dom,t,n)},sc=(e,t)=>{const n=e.dom;Un(t,(s,i)=>{of(n,i,s)})},Oa=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},zs=(e,t)=>z.from(Oa(e,t)),Js=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},er=(e,t)=>{e.dom.removeAttribute(t)},ug=e=>{const t=e.dom.attributes;return t==null||t.length===0},Na=e=>ws(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),fu=e=>{e.dom.textContent="",st(Da(e),t=>{k(t)})},k=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},R=e=>{const t=Da(e);t.length>0&&Dc(e,t),k(e)},H=(e,t)=>ue.fromDom(e.dom.cloneNode(t)),le=e=>H(e,!1),ve=e=>H(e,!0),ft=(e,t)=>{const n=ue.fromTag(t),s=Na(e);return sc(n,s),n},co=(e,t)=>{const n=ft(e,t);td(e,n);const s=Da(e);return nc(n,s),k(e),n},Ro=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,Da(ue.fromDom(s))},Io=e=>Yo(e,ue.fromDom),uo=e=>e.dom.innerHTML,Qn=(e,t)=>{const s=Yf(e).dom,i=ue.fromDom(s.createDocumentFragment()),c=Ro(t,s);nc(i,c),fu(e),Zn(e,i)},Ks=e=>{const t=ue.fromTag("div"),n=ue.fromDom(e.dom.cloneNode(!0));return Zn(t,n),uo(t)},al=e=>e.style!==void 0&&Jt(e.style.getPropertyValue),Ns=e=>{const t=xa(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return mu(ue.fromDom(t)).fold(()=>n.body.contains(t),ta(Ns,ui))},Oh=(e,t,n)=>{if(!We(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);al(e)&&e.style.setProperty(t,n)},s0=(e,t)=>{al(e)&&e.style.removeProperty(t)},Rr=(e,t,n)=>{const s=e.dom;Oh(s,t,n)},pu=(e,t)=>{const n=e.dom;Un(t,(s,i)=>{Oh(n,i,s)})},rc=(e,t)=>{const n=e.dom,i=window.getComputedStyle(n).getPropertyValue(t);return i===""&&!Ns(e)?mg(n,t):i},mg=(e,t)=>al(e)?e.style.getPropertyValue(t):"",Nh=(e,t)=>{const n=e.dom,s=mg(n,t);return z.from(s).filter(i=>i.length>0)},fg=e=>{const t={},n=e.dom;if(al(n))for(let s=0;s<n.style.length;s++){const i=n.style.item(s);t[i]=n.style[i]}return t},Rh=(e,t)=>{const n=e.dom;s0(n,t),Si(zs(e,"style").map(jc),"")&&er(e,"style")},tx=e=>e.dom.offsetWidth,r0=((e,t)=>{const n=(g,v)=>{if(!A(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const S=g.dom;al(S)&&(S.style[e]=v+"px")},s=g=>{const v=t(g);if(v<=0||v===null){const S=rc(g,e);return parseFloat(S)||0}return v},i=s,c=(g,v)=>ws(v,(S,O)=>{const M=rc(g,O),P=M===void 0?0:parseInt(M,10);return isNaN(P)?S:S+P},0);return{set:n,get:s,getOuter:i,aggregate:c,max:(g,v,S)=>{const O=c(g,S);return v>O?v-O:0}}})("height",e=>{const t=e.dom;return Ns(e)?t.getBoundingClientRect().height:t.offsetHeight}),ox=e=>r0.get(e),Mh=(e,t)=>({left:e,top:t,translate:(s,i)=>Mh(e+s,t+i)}),pg=Mh,nx=e=>{const t=e.getBoundingClientRect();return pg(t.left,t.top)},rm=(e,t)=>e!==void 0?e:t!==void 0?t:0,ac=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,i=t.documentElement;if(n===e.dom)return pg(n.offsetLeft,n.offsetTop);const c=rm(s==null?void 0:s.pageYOffset,i.scrollTop),u=rm(s==null?void 0:s.pageXOffset,i.scrollLeft),g=rm(i.clientTop,n.clientTop),v=rm(i.clientLeft,n.clientLeft);return xo(e).translate(u-v,c-g)},xo=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?pg(s.offsetLeft,s.offsetTop):Ns(e)?nx(t):pg(0,0)},Bd=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return pg(n,s)},gg=(e,t,n)=>{const i=(n!==void 0?n.dom:document).defaultView;i&&i.scrollTo(e,t)},sx=(e,t)=>{Jn().browser.isSafari()&&Jt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},a0=(e,t)=>{const n=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return s(c).getOr("")},s=c=>e(c)?z.from(c.dom.nodeValue):z.none();return{get:n,getOption:s,set:(c,u)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=u}}},nf=(e,t)=>{const s=document.createDocumentFragment();return st(e,i=>{s.appendChild(i.dom)}),ue.fromDom(s)},ap=a0(xa,"text"),hg=e=>ap.get(e),Hs=e=>ap.getOption(e),Ol=(e,t)=>ap.set(e,t),mi=(e,t)=>{const n=Oa(e,t);return n===void 0||n===""?[]:n.split(" ")},sf=(e,t,n)=>{const i=mi(e,t).concat([n]);return Hr(e,t,i.join(" ")),!0},Fi=(e,t,n)=>{const s=Co(mi(e,t),i=>i!==n);return s.length>0?Hr(e,t,s.join(" ")):er(e,t),!1};var bg=(e,t,n,s,i)=>e(n,s)?z.some(n):Jt(i)&&i(n)?z.none():t(n,s,i);const lr=(e,t,n)=>{let s=e.dom;const i=Jt(n)?n:So;for(;s.parentNode;){s=s.parentNode;const c=ue.fromDom(s);if(t(c))return z.some(c);if(i(c))break}return z.none()},Vr=(e,t,n)=>bg((i,c)=>c(i),lr,e,t,n),xg=(e,t)=>{const n=e.dom;return n.parentNode?ct(ue.fromDom(n.parentNode),s=>!bn(e,s)&&t(s)):z.none()},ct=(e,t)=>{const n=i=>t(ue.fromDom(i));return js(e.dom.childNodes,n).map(ue.fromDom)},il=(e,t)=>{const n=s=>{for(let i=0;i<s.childNodes.length;i++){const c=ue.fromDom(s.childNodes[i]);if(t(c))return z.some(c);const u=n(s.childNodes[i]);if(u.isSome())return u}return z.none()};return n(e.dom)},gu=(e,t,n)=>lr(e,s=>Tl(s,t),n),wr=(e,t)=>du(t,e),zi=(e,t,n)=>bg((i,c)=>Tl(i,c),gu,e,t,n),Hi=e=>e.dom.classList!==void 0,hu=e=>mi(e,"class"),ip=(e,t)=>sf(e,"class",t),fi=(e,t)=>Fi(e,"class",t),kn=(e,t)=>on(hu(e),t)?fi(e,t):ip(e,t),Vi=(e,t)=>{Hi(e)?e.dom.classList.add(t):ip(e,t)},$r=e=>{(Hi(e)?e.dom.classList:hu(e)).length===0&&er(e,"class")},tr=(e,t)=>{Hi(e)?e.dom.classList.remove(t):fi(e,t),$r(e)},i0=(e,t)=>{const n=Hi(e)?e.dom.classList.toggle(t):kn(e,t);return $r(e),n},Ra=(e,t)=>Hi(e)&&e.dom.classList.contains(t),lp=(e,t)=>{st(t,n=>{Vi(e,n)})},ll=(e,t)=>{st(t,n=>{tr(e,n)})},Pe=e=>zi(e,"[contenteditable]"),ti=(e,t=!1)=>Ns(e)?e.dom.isContentEditable:Pe(e).fold(Et(t),n=>rf(n)==="true"),rf=e=>e.dom.contentEditable,_s=(e,t)=>{e.dom.contentEditable=t?"true":"false"},od=(e,t)=>Co(Da(e),t),Ua=(e,t)=>{let n=[];return st(Da(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(Ua(s,t))}),n},mn=(e,t)=>rl(t,e),bu=(e,t,n)=>lr(e,t,n).isSome(),l0=(e,t)=>xg(e,t).isSome(),am=(e,t)=>il(e,t).isSome(),cp=(e,t,n)=>gu(e,t,n).isSome(),Ma=e=>Jt(e)?e:So,xu=(e,t,n)=>{let s=e.dom;const i=Ma(n);for(;s.parentNode;){s=s.parentNode;const c=ue.fromDom(s),u=t(c);if(u.isSome())return u;if(i(c))break}return z.none()},dp=(e,t,n)=>{const s=t(e),i=Ma(n);return s.orThunk(()=>i(e)?z.none():xu(e,t,i))},af=e=>Hs(e).filter(t=>t.trim().length!==0||t.indexOf(Ls)>-1).isSome(),nd=e=>Dl(e)&&Oa(e,"contenteditable")==="false",Nl=["img","br"],Bh=e=>af(e)||on(Nl,No(e))||nd(e),lf=e=>il(e,Bh),$i={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},Rl=ka.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ax=(e,t,n,s)=>e.fold(t,n,s),Id=e=>e.fold(Tn,Tn,Tn),h_=Rl.before,im=Rl.on,cf=Rl.after,cl={before:h_,on:im,after:cf,cata:ax,getStart:Id},Ih=ka.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vg=e=>Ih.exact(e.start,e.soffset,e.finish,e.foffset),b_=e=>e.match({domRange:t=>ue.fromDom(t.startContainer),relative:(t,n)=>cl.getStart(t),exact:(t,n,s,i)=>t}),c0=Ih.domRange,pr=Ih.relative,T2=Ih.exact,Oc=e=>{const t=b_(e);return Od(t)},lm=$i.create,df={domRange:c0,relative:pr,exact:T2,exactFromRange:vg,getWin:Oc,range:lm},uf=(e,t,n)=>{var s;return z.from((s=e.caretPositionFromPoint)===null||s===void 0?void 0:s.call(e,t,n)).bind(i=>{if(i.offsetNode===null)return z.none();const c=e.createRange();return c.setStart(i.offsetNode,i.offset),c.collapse(),z.some(c)})},dl=(e,t,n)=>{var s;return z.from((s=e.caretRangeFromPoint)===null||s===void 0?void 0:s.call(e,t,n))},cm=(e,t,n)=>e.caretPositionFromPoint?uf(e,t,n):e.caretRangeFromPoint?dl(e,t,n):z.none(),yg=(e,t,n)=>{const s=e.document;return cm(s,t,n).map(i=>$i.create(ue.fromDom(i.startContainer),i.startOffset,ue.fromDom(i.endContainer),i.endOffset))},Ph=(e,t)=>{const n=No(e);return n==="input"?cl.after(e):on(["br","img"],n)?t===0?cl.before(e):cl.after(e):cl.on(e,t)},Lh=(e,t)=>{const n=e.fold(cl.before,Ph,cl.after),s=t.fold(cl.before,Ph,cl.after);return df.relative(n,s)},d0=(e,t,n,s)=>{const i=Ph(e,t),c=Ph(n,s);return df.relative(i,c)},u0=e=>e.match({domRange:t=>{const n=ue.fromDom(t.startContainer),s=ue.fromDom(t.endContainer);return d0(n,t.startOffset,s,t.endOffset)},relative:Lh,exact:d0}),D2=e=>{const t=df.getWin(e).dom,n=(i,c,u,g)=>Eo(t,i,c,u,g),s=u0(e);return ba(t,s).match({ltr:n,rtl:n})},O2=(e,t,n)=>yg(e,t,n),m0=e=>{const t=e===void 0?window:e;return Jn().browser.isFirefox()?z.none():z.from(t.visualViewport)},dm=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),ic=e=>{const t=e===void 0?window:e,n=t.document,s=Bd(ue.fromDom(n));return m0(t).fold(()=>{const i=t.document.documentElement,c=i.clientWidth,u=i.clientHeight;return dm(s.left,s.top,c,u)},i=>dm(Math.max(i.pageLeft,s.left),Math.max(i.pageTop,s.top),i.width,i.height))};class Ys{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,i){if(t){if(!i&&t[n])return t[n];if(t!==this.rootNode){let c=t[s];if(c)return c;for(let u=t.parentNode;u&&u!==this.rootNode;u=u.parentNode)if(c=u[s],c)return c}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let c=s.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return s}const i=t.parentNode;if(i&&i!==this.rootNode)return i}}}const up=/^[ \t\r\n]*$/,mp=e=>up.test(e),f0=e=>{for(const t of e)if(!ga(t))return!1;return!0},p0=e=>" \f	\v".indexOf(e)!==-1,Fh=e=>e===`
`||e==="\r",g0=(e,t)=>t<e.length&&t>=0?Fh(e[t]):!1,zh=(e,t=4,n=!0,s=!0)=>{const i=Ql(" ",t),c=e.replace(/\t/g,i);return ws(c,(g,v)=>p0(v)||v===Ls?g.pcIsSpace||g.str===""&&n||g.str.length===c.length-1&&s||g0(c,g.str.length+1)?{pcIsSpace:!1,str:g.str+Ls}:{pcIsSpace:!0,str:g.str+" "}:{pcIsSpace:Fh(v),str:g.str+v},{pcIsSpace:!1,str:""}).str},um=e=>t=>!!t&&t.nodeType===e,wg=e=>!!e&&!Object.getPrototypeOf(e),Wt=um(1),pi=e=>Wt(e)&&Dl(ue.fromDom(e)),Hh=e=>Wt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",fp=e=>{const t=e.toLowerCase();return n=>Qe(n)&&n.nodeName.toLowerCase()===t},Nc=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return on(t,s)}return!1}},Cg=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(Wt(s)){const i=s.ownerDocument.defaultView;if(i)for(let c=0;c<n.length;c++){const u=i.getComputedStyle(s,null);if((u?u.getPropertyValue(e):null)===n[c])return!0}}return!1}},h0=e=>t=>Wt(t)&&t.hasAttribute(e),vu=e=>Wt(e)&&e.hasAttribute("data-mce-bogus"),N2=e=>Wt(e)&&e.getAttribute("data-mce-bogus")==="all",yu=e=>Wt(e)&&e.tagName==="TABLE",Vh=e=>t=>!!(pi(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Pd=Nc(["textarea","input"]),_t=um(3),fn=um(4),ul=um(7),Ml=um(8),mf=um(9),ms=um(11),or=fp("br"),ix=fp("img"),pp=fp("a"),lc=Vh("true"),Ts=Vh("false"),$h=e=>pi(e)&&e.isContentEditable&&Qe(e.parentElement)&&!e.parentElement.isContentEditable,sd=Nc(["td","th"]),lx=Nc(["td","th","caption"]),cc=Nc(["video","audio","object","embed"]),b0=fp("li"),Uh=fp("details"),cx=fp("summary"),x0={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},dx=(e,t,n)=>{const s=ue.fromDom(t),i=ue.fromDom(e),c=n.getWhitespaceElements();return bu(i,g=>Qt(c,No(g)),Ze(bn,s))},Zh=e=>Wt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),jh=(e,t)=>Wt(e)&&Qt(t.getNonEmptyElements(),e.nodeName),ff=h0("data-mce-bookmark"),Wh=e=>Qm(ue.fromDom(e)).exists(t=>!ti(t)),v0=(e,t,n)=>mp(e.data)&&!dx(e,t,n),y0=(e,t,n,s)=>_t(e)&&!v0(e,t,n)&&(!s.includeZwsp||!f0(e.data)),Za=(e,t,n,s)=>Jt(s.isContent)&&s.isContent(t)||jh(t,e)||ff(t)||Zh(t)||y0(t,n,e,s)||Ts(t)||lc(t)&&Wh(t),Bl=(e,t,n)=>{const s={...x0,...n};if(s.checkRootAsContent&&Za(e,t,t,s))return!1;let i=t.firstChild,c=0;if(!i)return!0;const u=new Ys(i,t);do{if(s.skipBogus&&Wt(i)){const g=i.getAttribute("data-mce-bogus");if(g){i=u.next(g==="all");continue}}if(Ml(i)){i=u.next(!0);continue}if(or(i)){c++,i=u.next();continue}if(Za(e,i,t,s))return!1;i=u.next()}while(i);return c<=1},Ai=(e,t,n)=>Bl(e,t.dom,{checkRootAsContent:!0,...n}),R2=(e,t,n)=>Za(e,t,t,{includeZwsp:x0.includeZwsp,...n}),M2=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},gp=e=>M2(e)!=="html",w0=e=>gp(e.nodeName),ux=e=>M2(e.nodeName),C0=["svg","math"],gi=()=>{const e=nl(),t=()=>e.get().map(ux).getOr("html");return{track:i=>(w0(i)?e.set(i):e.get().exists(c=>!c.contains(i))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Ui="data-mce-block",Rc=e=>Co(Pr(e),t=>!/[A-Z]/.test(t)),_g=e=>Yo(Rc(e),t=>{const n=CSS.escape(t);return`${n}:`+Yo(C0,s=>`not(${s} ${n})`).join(":")}).join(","),_0=(e,t)=>Qe(t.querySelector(e))?(t.setAttribute(Ui,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Ui),!1),B2=(e,t)=>{const n=_g(e.getTransparentElements()),s=_g(e.getBlockElements());return Co(t.querySelectorAll(n),i=>_0(s,i))},k0=(e,t,n)=>{var s;const i=n?"lastChild":"firstChild";for(let c=t[i];c;c=c[i])if(Bl(e,c,{checkRootAsContent:!0})){(s=c.parentNode)===null||s===void 0||s.removeChild(c);return}},mx=(e,t,n)=>{const s=document.createRange(),i=t.parentNode;if(i){s.setStartBefore(t),s.setEndBefore(n);const c=s.extractContents();k0(e,c,!0),s.setStartAfter(n),s.setEndAfter(t);const u=s.extractContents();k0(e,u,!1),Bl(e,c,{checkRootAsContent:!0})||i.insertBefore(c,t),Bl(e,n,{checkRootAsContent:!0})||i.insertBefore(n,t),Bl(e,u,{checkRootAsContent:!0})||i.insertBefore(u,t),i.removeChild(t)}},x_=(e,t,n)=>{const s=e.getBlockElements(),i=ue.fromDom(t),c=g=>No(g)in s,u=g=>bn(g,i);st(Io(n),g=>{lr(g,c,u).each(v=>{const S=od(g,O=>c(O)&&!e.isValidChild(No(v),No(O)));if(S.length>0){const O=Qm(v);st(S,M=>{lr(M,c,u).each(P=>{mx(e,P.dom,M.dom)})}),O.each(M=>B2(e,M.dom))}})})},fx=(e,t,n)=>{st([...n,...wu(e,t)?[t]:[]],s=>st(mn(ue.fromDom(s),s.nodeName.toLowerCase()),i=>{gx(e,i.dom)&&R(i)}))},hp=(e,t)=>{const n=B2(e,t);x_(e,t,n),fx(e,t,n)},I2=(e,t)=>{if(rd(e,t)){const n=_g(e.getBlockElements());_0(n,t)}},px=(e,t,n)=>{const s=c=>bn(c,ue.fromDom(t)),i=Ah(ue.fromDom(n),s);nr(i,i.length-2).filter(fr).fold(()=>hp(e,t),c=>hp(e,c.dom))},qh=e=>e.hasAttribute(Ui),es=(e,t)=>Qt(e.getTransparentElements(),t),rd=(e,t)=>Wt(t)&&es(e,t.nodeName),wu=(e,t)=>rd(e,t)&&qh(t),gx=(e,t)=>rd(e,t)&&!qh(t),Gh=(e,t)=>t.type===1&&es(e,t.name)&&We(t.attr(Ui)),S0=Jn().browser,E0=e=>js(e,fr),hx=e=>S0.isFirefox()&&No(e)==="table"?E0(Da(e)).filter(t=>No(t)==="caption").bind(t=>E0(Ac(t)).map(n=>{const s=n.dom.offsetTop,i=t.dom.offsetTop,c=t.dom.offsetHeight;return s<=i?-c:0})).getOr(0):0,bx=(e,t)=>e.children&&on(e.children,t),xx=(e,t,n)=>{let s=0,i=0;const c=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&rc(ue.fromDom(e),"position")==="static"){const g=t.getBoundingClientRect();return s=g.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,i=g.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:s,y:i}}let u=t;for(;u&&u!==n&&u.nodeType&&!bx(u,n);){const g=u;s+=g.offsetLeft||0,i+=g.offsetTop||0,u=g.offsetParent}for(u=t.parentNode;u&&u!==n&&u.nodeType&&!bx(u,n);)s-=u.scrollLeft||0,i-=u.scrollTop||0,u=u.parentNode;i+=hx(ue.fromDom(t))}return{x:s,y:i}},ml=(e,t={})=>{let n=0;const s={},i=ue.fromDom(e),c=uu(i),u=ge=>{t.referrerPolicy=ge},g=ge=>{t.contentCssCors=ge},v=ge=>{Zn(vs(i),ge)},S=ge=>{const _e=vs(i);wr(_e,"#"+ge).each(k)},O=ge=>_n(s,ge).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),M=ge=>new Promise((_e,Re)=>{let $e;const dt=Dt._addCacheSuffix(ge),At=O(dt);s[dt]=At,At.count++;const Gt=(Zt,io)=>{st(Zt,Do),At.status=io,At.passed=[],At.failed=[],$e&&($e.onload=null,$e.onerror=null,$e=null)},Xe=()=>Gt(At.passed,2),qe=()=>Gt(At.failed,3);if(_e&&At.passed.push(_e),Re&&At.failed.push(Re),At.status===1)return;if(At.status===2){Xe();return}if(At.status===3){qe();return}At.status=1;const mt=ue.fromTag("link",c.dom);sc(mt,{rel:"stylesheet",type:"text/css",id:At.id}),t.contentCssCors&&Hr(mt,"crossOrigin","anonymous"),t.referrerPolicy&&Hr(mt,"referrerpolicy",t.referrerPolicy),$e=mt.dom,$e.onload=Xe,$e.onerror=qe,v(mt),Hr(mt,"href",dt)}),P=(ge,_e)=>{const Re=O(ge);s[ge]=Re,Re.count++;const $e=ue.fromTag("style",c.dom);sc($e,{rel:"stylesheet",type:"text/css",id:Re.id,"data-mce-key":ge}),$e.dom.innerHTML=_e,v($e)},j=ge=>Promise.allSettled(Yo(ge,Re=>M(Re).then(Et(Re)))).then(Re=>{const $e=br(Re,dt=>dt.status==="fulfilled");return $e.fail.length>0?Promise.reject(Yo($e.fail,dt=>dt.reason)):Yo($e.pass,dt=>dt.value)}),J=ge=>{const _e=Dt._addCacheSuffix(ge);_n(s,_e).each(Re=>{--Re.count===0&&(delete s[_e],S(Re.id))})};return{load:M,loadRawCss:P,loadAll:j,unload:J,unloadRawCss:ge=>{_n(s,ge).each(_e=>{--_e.count===0&&(delete s[ge],S(_e.id))})},unloadAll:ge=>{st(ge,_e=>{J(_e)})},_setReferrerPolicy:u,_setContentCssCors:g}},ja=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const c=ed(n).dom;return z.from(e.get(c)).getOrThunk(()=>{const u=ml(c,s);return e.set(c,u),u})}}})(),pf=e=>e.nodeName.toLowerCase()==="span",Kh=(e,t)=>Qe(e)&&(R2(t,e)||t.isInline(e.nodeName.toLowerCase())),yx=(e,t,n)=>{const s=new Ys(e,t).prev(!1),i=new Ys(e,t).next(!1),c=wn(s)||Kh(s,n),u=wn(i)||Kh(i,n);return c&&u},A0=e=>pf(e)&&e.getAttribute("data-mce-type")==="bookmark",wx=(e,t,n)=>_t(e)&&e.data.length>0&&yx(e,t,n),P2=e=>Wt(e)?e.childNodes.length>0:!1,L2=e=>ms(e)||mf(e),T0=(e,t,n,s)=>{var i;const c=s||t;if(Wt(t)&&A0(t))return t;const u=t.childNodes;for(let g=u.length-1;g>=0;g--)T0(e,u[g],n,c);if(Wt(t)){const g=t.childNodes;g.length===1&&A0(g[0])&&((i=t.parentNode)===null||i===void 0||i.insertBefore(g[0],t))}return!L2(t)&&!R2(n,t)&&!P2(t)&&!wx(t,c,n)&&e.remove(t),t},F2=Dt.makeMap,va=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ld=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,z2=/[<>&\"\']/g,H2=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,V2={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},mm={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Cx={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},$2=e=>{const t=ue.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Ur=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let i=0;i<s.length;i+=2){const c=String.fromCharCode(parseInt(s[i],t));if(!mm[c]){const u="&"+s[i+1]+";";n[c]=u,n[u]=c}}return n}else return},Mr=Ur("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Wa=(e,t)=>e.replace(t?va:Ld,n=>mm[n]||n),oi=e=>(""+e).replace(z2,t=>mm[t]||t),ya=(e,t)=>e.replace(t?va:Ld,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":mm[n]||"&#"+n.charCodeAt(0)+";"),Br=(e,t,n)=>{const s=n||Mr;return e.replace(t?va:Ld,i=>mm[i]||s[i]||i)},fm={encodeRaw:Wa,encodeAllRaw:oi,encodeNumeric:ya,encodeNamed:Br,getEncodeFunc:(e,t)=>{const n=Ur(t)||Mr,s=(u,g)=>u.replace(g?va:Ld,v=>mm[v]!==void 0?mm[v]:n[v]!==void 0?n[v]:v.length>1?"&#"+((v.charCodeAt(0)-55296)*1024+(v.charCodeAt(1)-56320)+65536)+";":"&#"+v.charCodeAt(0)+";"),i=(u,g)=>Br(u,g,n),c=F2(e.replace(/\+/g,","));return c.named&&c.numeric?s:c.named?t?i:Br:c.numeric?ya:Wa},decode:e=>e.replace(H2,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):V2[n]||String.fromCharCode(n)):Cx[t]||Mr[t]||$2(t))},ni=(e,t)=>(e=Dt.trim(e),e?e.split(t||" "):[]),Yh=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Xh=e=>ne(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Sx=e=>{const t=n=>pe(n)?Yo(n,t):Xh(n)?new RegExp(n.source,n.flags):ne(n)?jn(n,t):n;return t(e)},D0=e=>{const t=/^(~)?(.+)$/;return na(ni(e,","),n=>{const s=t.exec(n);if(s){const c=s[1]==="~"?"span":"div",u=s[2];return[{cloneName:c,name:u}]}else return[]})},Il=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),pm=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:s}},Cu=e=>{const{blockContent:t,phrasingContent:n,flowContent:s}=pm(e),i=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:i(t),phrasingContent:i(n),flowContent:i(s)})},Ex={html4:ir(()=>Cu("html4")),html5:ir(()=>Cu("html5")),"html5-strict":ir(()=>Cu("html5-strict"))},Ax=(e,t)=>{const{blockContent:n,phrasingContent:s,flowContent:i}=Ex[e]();return t==="blocks"?z.some(n):t==="phrasing"?z.some(s):t==="flow"?z.some(i):z.none()},Tx=e=>{const t=Il(e),{phrasingContent:n,flowContent:s}=pm(e),i={},c=(v,S,O)=>{i[v]={attributes:Ya(S,Et({})),attributesOrder:S,children:Ya(O,Et({}))}},u=(v,S="",O="")=>{const M=ni(O),P=ni(v);let j=P.length;const J=[...t,...ni(S)];for(;j--;)c(P[j],J.slice(),M)},g=(v,S)=>{const O=ni(v),M=ni(S);let P=O.length;for(;P--;){const j=i[O[P]];for(let J=0,G=M.length;J<G;J++)j.attributes[M[J]]={},j.attributesOrder.push(M[J])}};return e!=="html5-strict"&&(st(ni("acronym applet basefont big font strike tt"),O=>{u(O,"",n)}),st(ni("center dir isindex noframes"),O=>{u(O,"",s)})),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),u("dd div","",s),u("address dt caption","",e==="html4"?n:s),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),u("blockquote","cite",s),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",s),u("dl","","dt dd"),u("a","href target rel media hreflang type",e==="html4"?n:s),u("q","cite",n),u("ins del","cite datetime",s),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",s),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),u("param","name value"),u("map","name",[s,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",s),u("th","colspan rowspan headers scope abbr",s),u("form","accept-charset action autocomplete enctype method name novalidate target",s),u("fieldset","disabled form name",[s,"legend"].join(" ")),u("label","form for",n),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:n),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[s,"li"].join(" ")),u("noscript","",s),e!=="html4"&&(u("wbr"),u("ruby","",[n,"rt rp"].join(" ")),u("figcaption","",s),u("mark rt rp bdi","",n),u("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),u("canvas","width height",s),u("data","value",n),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[n,"option"].join(" ")),u("article section nav aside main header footer","",s),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[s,"figcaption"].join(" ")),u("time","datetime",n),u("dialog","open",s),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",n),u("progress","value max",n),u("meter","value min max low high optimum",n),u("details","open",[s,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(g("script","language xml:space"),g("style","xml:space"),g("object","declare classid code codebase codetype archive standby align border hspace vspace"),g("embed","align name hspace vspace"),g("param","valuetype type"),g("a","charset name rev shape coords"),g("br","clear"),g("applet","codebase archive code object alt name width height align hspace vspace"),g("img","name longdesc align border hspace vspace"),g("iframe","longdesc frameborder marginwidth marginheight scrolling align"),g("font basefont","size color face"),g("input","usemap align"),g("select"),g("textarea"),g("h1 h2 h3 h4 h5 h6 div p legend caption","align"),g("ul","type compact"),g("li","type"),g("ol dl menu dir","compact"),g("pre","width xml:space"),g("hr","align noshade size width"),g("isindex","prompt"),g("table","summary width frame rules cellspacing cellpadding align bgcolor"),g("col","width align char charoff valign"),g("colgroup","width align char charoff valign"),g("thead","align char charoff valign"),g("tr","align char charoff valign bgcolor"),g("th","axis align char charoff valign nowrap bgcolor width height"),g("form","accept"),g("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),g("tfoot","align char charoff valign"),g("tbody","align char charoff valign"),g("area","nohref"),g("body","background bgcolor text link vlink alink")),e!=="html4"&&(g("input button select textarea","autofocus"),g("input textarea","placeholder"),g("a","download"),g("link script img","crossorigin"),g("img","loading"),g("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&st([i.video,i.audio],v=>{delete v.children.audio,delete v.children.video}),st(ni("a form meter progress dfn"),v=>{i[v]&&delete i[v].children[v]}),delete i.caption.children.table,delete i.script,i},O0=e=>e==="-"?"remove":"add",Qh=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return z.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},Jh=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return na(ni(e,","),n=>{const s=t.exec(n);if(s){const i=s[1],c=i?O0(i):"replace",u=s[2],g=na(ni(s[3],"|"),v=>Qh(v).toArray());return[{operation:c,name:u,validChildren:g}]}else return[]})},kg=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:i,attributesOrder:c}=t;return st(ni(e,"|"),u=>{const g=n.exec(u);if(g){const v={},S=g[1],O=g[2].replace(/[\\:]:/g,":"),M=g[3],P=g[4];if(S==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(O),v.required=!0),S==="-"){delete i[O],c.splice(Dt.inArray(c,O),1);return}if(M&&(M==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:O,value:P}),v.defaultValue=P):M==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:O,value:P}),v.forcedValue=P):M==="<"&&(v.validValues=Dt.makeMap(P,"?"))),s.test(O)){const j=v;t.attributePatterns=t.attributePatterns||[],j.pattern=Yh(O),t.attributePatterns.push(j)}else i[O]||c.push(O),i[O]=v}})},e1=(e,t)=>{Un(e.attributes,(n,s)=>{t.attributes[s]=n}),t.attributesOrder.push(...e.attributesOrder)},Sg=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return na(ni(t,","),s=>{const i=n.exec(s);if(i){const c=i[1],u=i[2],g=i[3],v=i[4],S=i[5],O={attributes:{},attributesOrder:[]};if(e.each(M=>e1(M,O)),c==="#"?O.paddEmpty=!0:c==="-"&&(O.removeEmpty=!0),v==="!"&&(O.removeEmptyAttrs=!0),S&&kg(S,O),g&&(O.outputName=u),u==="@")if(e.isNone())e=z.some(O);else return[];return[g?{name:u,element:O,aliasName:g}:{name:u,element:O}]}else return[]})},_u={},Zi=Dt.makeMap,Pl=Dt.each,t1=Dt.extend,N0=Dt.explode,U2=(e,t={})=>{const n=Zi(e," ",Zi(e.toUpperCase()," "));return t1(n,t)},Dx=e=>U2("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Ox=(e,t)=>{if(e){const n={};return We(e)&&(e={"*":e}),Pl(e,(s,i)=>{n[i]=n[i.toUpperCase()]=t==="map"?Zi(s,/[, ]/):N0(s,/[, ]/)}),n}else return},gf=(e={})=>{var t;const n={},s={};let i=[];const c={},u={},g=(fo,En,Yr)=>{const ii=e[fo];if(ii)return Zi(ii,/[, ]/,Zi(ii.toUpperCase(),/[, ]/));{let yi=_u[fo];return yi||(yi=U2(En,Yr),_u[fo]=yi),yi}},v=(t=e.schema)!==null&&t!==void 0?t:"html5",S=Tx(v);e.verify_html===!1&&(e.valid_elements="*[*]");const O=Ox(e.valid_styles),M=Ox(e.invalid_styles,"map"),P=Ox(e.valid_classes,"map"),j=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),J=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),G=g("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),se=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ge="td th iframe video audio object script code",_e=g("non_empty_elements",ge+" pre svg textarea summary",G),Re=g("move_caret_before_on_enter_elements",ge+" table",G),$e="h1 h2 h3 h4 h5 h6",dt=g("text_block_elements",$e+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),At=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",dt),Gt=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Xe=g("transparent_elements","a ins del canvas map"),qe=g("wrap_block_elements","pre "+$e);Pl("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),fo=>{u[fo]=new RegExp("</"+fo+"[^>]*>","gi")});const mt=fo=>{const En=z.from(n["@"]),Yr=/[*?+]/;st(Sg(En,fo??""),({name:ii,element:yi,aliasName:Ka})=>{if(Ka&&(n[Ka]=yi),Yr.test(ii)){const Sr=yi;Sr.pattern=Yh(ii),i.push(Sr)}else n[ii]=yi})},Zt=fo=>{i=[],st(Pr(n),En=>{delete n[En]}),mt(fo)},io=(fo,En)=>{var Yr,ii;delete _u.text_block_elements,delete _u.block_elements;const yi=En.extends?!bc(En.extends):!1,Ka=En.extends;if(s[fo]=Ka?s[Ka]:{},c[fo]=Ka??fo,_e[fo.toUpperCase()]={},_e[fo]={},yi||(At[fo.toUpperCase()]={},At[fo]={}),Ka&&!n[fo]&&n[Ka]){const Sr=Sx(n[Ka]);delete Sr.removeEmptyAttrs,delete Sr.removeEmpty,n[fo]=Sr}else n[fo]={attributesOrder:[],attributes:{}};if(pe(En.attributes)){const Sr=$c=>{Er.attributesOrder.push($c),Er.attributes[$c]={}},Er=(Yr=n[fo])!==null&&Yr!==void 0?Yr:{};delete Er.attributesDefault,delete Er.attributesForced,delete Er.attributePatterns,delete Er.attributesRequired,Er.attributesOrder=[],Er.attributes={},st(En.attributes,$c=>{const $f=Il(v);Qh($c).each(({preset:yh,name:og})=>{yh?og==="global"&&st($f,Sr):Sr(og)})}),n[fo]=Er}if(bs(En.padEmpty)){const Sr=(ii=n[fo])!==null&&ii!==void 0?ii:{};Sr.paddEmpty=En.padEmpty,n[fo]=Sr}if(pe(En.children)){const Sr={},Er=$f=>{Sr[$f]={}},$c=$f=>{Ax(v,$f).each(yh=>{st(yh,Er)})};st(En.children,$f=>{Qh($f).each(({preset:yh,name:og})=>{yh?$c(og):Er(og)})}),s[fo]=Sr}Ka&&Un(s,(Sr,Er)=>{Sr[Ka]&&(s[Er]=Sr=t1({},s[Er]),Sr[fo]=Sr[Ka])})},Jo=fo=>{st(D0(fo??""),({name:En,cloneName:Yr})=>{io(En,{extends:Yr})})},sn=fo=>{ne(fo)?Un(fo,(En,Yr)=>io(Yr,En)):We(fo)&&Jo(fo)},Hn=fo=>{st(Jh(fo??""),({operation:En,name:Yr,validChildren:ii})=>{const yi=En==="replace"?{"#comment":{}}:s[Yr],Ka=Er=>{En==="remove"?delete yi[Er]:yi[Er]={}},Sr=Er=>{Ax(v,Er).each($c=>{st($c,Ka)})};st(ii,({preset:Er,name:$c})=>{Er?Sr($c):Ka($c)}),s[Yr]=yi})},hs=fo=>{const En=n[fo];if(En)return En;let Yr=i.length;for(;Yr--;){const ii=i[Yr];if(ii.pattern.test(fo))return ii}},ma=()=>{e.valid_elements?(Zt(e.valid_elements),Pl(S,(fo,En)=>{s[En]=fo.children})):(Pl(S,(fo,En)=>{n[En]={attributes:fo.attributes,attributesOrder:fo.attributesOrder},s[En]=fo.children}),Pl(ni("strong/b em/i"),fo=>{const En=ni(fo,"/");n[En[1]].outputName=En[0]}),Pl(Gt,(fo,En)=>{n[En]&&(e.padd_empty_block_inline_children&&(n[En].paddInEmptyBlock=!0),n[En].removeEmpty=!0)}),Pl(ni("ol ul blockquote a table tbody"),fo=>{n[fo]&&(n[fo].removeEmpty=!0)}),Pl(ni("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),fo=>{n[fo]&&(n[fo].paddEmpty=!0)}),Pl(ni("span"),fo=>{n[fo].removeEmptyAttrs=!0})),delete n.svg,sn(e.custom_elements),Hn(e.valid_children),mt(e.extended_valid_elements),Hn("+ol[ul|ol],+ul[ul|ol]"),Pl({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(fo,En)=>{n[En]&&(n[En].parentsRequired=ni(fo))}),e.invalid_elements&&Pl(N0(e.invalid_elements),fo=>{n[fo]&&delete n[fo]}),hs("span")||mt("span[!data-mce-type|*]")},ai=Et(O),vi=Et(M),Pt=Et(P),ao=Et(se),Fn=Et(At),Vn=Et(dt),lt=Et(Gt),Tt=Et(Object.seal(G)),so=Et(J),rn=Et(_e),cn=Et(Re),rs=Et(j),Vm=Et(Xe),vh=Et(qe),Hc=Et(Object.seal(u)),Vf=(fo,En)=>{const Yr=s[fo.toLowerCase()];return!!(Yr&&Yr[En.toLowerCase()])},ju=(fo,En)=>{const Yr=hs(fo);if(Yr)if(En){if(Yr.attributes[En])return!0;const ii=Yr.attributePatterns;if(ii){let yi=ii.length;for(;yi--;)if(ii[yi].pattern.test(En))return!0}}else return!0;return!1},bc=fo=>Qt(Fn(),fo),Vc=fo=>!ar(fo,"#")&&ju(fo)&&!bc(fo),$m=fo=>Qt(vh(),fo)||Vc(fo),Kb=Et(c);return ma(),{type:v,children:s,elements:n,getValidStyles:ai,getValidClasses:Pt,getBlockElements:Fn,getInvalidStyles:vi,getVoidElements:Tt,getTextBlockElements:Vn,getTextInlineElements:lt,getBoolAttrs:ao,getElementRule:hs,getSelfClosingElements:so,getNonEmptyElements:rn,getMoveCaretBeforeOnEnterElements:cn,getWhitespaceElements:rs,getTransparentElements:Vm,getSpecialElements:Hc,isValidChild:Vf,isValid:ju,isBlock:bc,isInline:Vc,isWrapper:$m,getCustomElements:Kb,addValidElements:mt,setValidElements:Zt,addCustomElements:sn,addValidChildren:Hn}},hf=e=>({value:Nx(e)}),Nx=e=>Xl(e,"#").toUpperCase(),gm=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},R0=e=>{const t=gm(e.red)+gm(e.green)+gm(e.blue);return hf(t)},Fd=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Eg=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Z2=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),hi=(e,t,n,s)=>{const i=parseInt(e,10),c=parseInt(t,10),u=parseInt(n,10),g=parseFloat(s);return Z2(i,c,u,g)},Mc=e=>Fd.test(e)?"rgb":Eg.test(e)?"rgba":"other",Ti=e=>{const t=Fd.exec(e);if(t!==null)return z.some(hi(t[1],t[2],t[3],"1"));const n=Eg.exec(e);return n!==null?z.some(hi(n[1],n[2],n[3],n[4])):z.none()},Ag=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,dc=e=>Ti(e).map(R0).map(t=>"#"+t.value).getOr(e),Xo=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,c={};let u,g;const v=Ea;t&&(u=t.getValidStyles(),g=t.getInvalidStyles());const S=(`\\" \\' \\; \\: ; : `+v).split(" ");for(let M=0;M<S.length;M++)c[S[M]]=v+M,c[v+M]=S[M];const O={parse:M=>{const P={};let j=!1;const J=e.url_converter,G=e.url_converter_scope||O,se=(Xe,qe,mt)=>{const Zt=P[Xe+"-top"+qe];if(!Zt)return;const io=P[Xe+"-right"+qe];if(!io)return;const Jo=P[Xe+"-bottom"+qe];if(!Jo)return;const sn=P[Xe+"-left"+qe];if(!sn)return;const Hn=[Zt,io,Jo,sn];let hs=Hn.length-1;for(;hs--&&Hn[hs]===Hn[hs+1];);hs>-1&&mt||(P[Xe+qe]=hs===-1?Hn[0]:Hn.join(" "),delete P[Xe+"-top"+qe],delete P[Xe+"-right"+qe],delete P[Xe+"-bottom"+qe],delete P[Xe+"-left"+qe])},ge=Xe=>{const qe=P[Xe];if(!qe)return;const mt=qe.indexOf(",")>-1?[qe]:qe.split(" ");let Zt=mt.length;for(;Zt--;)if(mt[Zt]!==mt[0])return!1;return P[Xe]=mt[0],!0},_e=(Xe,qe,mt,Zt)=>{ge(qe)&&ge(mt)&&ge(Zt)&&(P[Xe]=P[qe]+" "+P[mt]+" "+P[Zt],delete P[qe],delete P[mt],delete P[Zt])},Re=Xe=>(j=!0,c[Xe]),$e=(Xe,qe)=>(j&&(Xe=Xe.replace(/\uFEFF[0-9]/g,mt=>c[mt])),qe||(Xe=Xe.replace(/\\([\'\";:])/g,"$1")),Xe),dt=Xe=>String.fromCharCode(parseInt(Xe.slice(1),16)),At=Xe=>Xe.replace(/\\[0-9a-f]+/gi,dt),Gt=(Xe,qe,mt,Zt,io,Jo)=>{if(io=io||Jo,io)return io=$e(io),"'"+io.replace(/\'/g,"\\'")+"'";if(qe=$e(qe||mt||Zt||""),!e.allow_script_urls){const sn=qe.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(sn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(sn))return""}return J&&(qe=J.call(G,qe,"style")),"url('"+qe.replace(/\'/g,"\\'")+"')"};if(M){M=M.replace(/[\u0000-\u001F]/g,""),M=M.replace(/\\[\"\';:\uFEFF]/g,Re).replace(/\"[^\"]+\"|\'[^\']+\'/g,qe=>qe.replace(/[;:]/g,Re));let Xe;for(;Xe=s.exec(M);){s.lastIndex=Xe.index+Xe[0].length;let qe=Xe[1].replace(i,"").toLowerCase(),mt=Xe[2].replace(i,"");if(qe&&mt){if(qe=At(qe),mt=At(mt),qe.indexOf(v)!==-1||qe.indexOf('"')!==-1||!e.allow_script_urls&&(qe==="behavior"||/expression\s*\(|\/\*|\*\//.test(mt)))continue;qe==="font-weight"&&mt==="700"?mt="bold":(qe==="color"||qe==="background-color")&&(mt=mt.toLowerCase()),Mc(mt)==="rgb"&&Ti(mt).each(Zt=>{mt=dc(Ag(Zt)).toLowerCase()}),mt=mt.replace(n,Gt),P[qe]=j?$e(mt,!0):mt}}se("border","",!0),se("border","-width"),se("border","-color"),se("border","-style"),se("padding",""),se("margin",""),_e("border","border-width","border-style","border-color"),P.border==="medium none"&&delete P.border,P["border-image"]==="none"&&delete P["border-image"]}return P},serialize:(M,P)=>{let j="";const J=(se,ge)=>{const _e=ge[se];if(_e)for(let Re=0,$e=_e.length;Re<$e;Re++){const dt=_e[Re],At=M[dt];At&&(j+=(j.length>0?" ":"")+dt+": "+At+";")}},G=(se,ge)=>{if(!g||!ge)return!0;let _e=g["*"];return _e&&_e[se]?!1:(_e=g[ge],!(_e&&_e[se]))};return P&&u?(J("*",u),J(P,u)):Un(M,(se,ge)=>{se&&G(ge,P)&&(j+=(j.length>0?" ":"")+ge+": "+se+";")}),j}};return O},oo={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},bp=e=>e instanceof Event||Jt(e.initEvent),Rx=e=>e.isDefaultPrevented===qo||e.isDefaultPrevented===So,Mx=e=>tn(e.preventDefault)||bp(e),Tg=(e,t)=>{const n=t??{};for(const s in e)Qt(oo,s)||(n[s]=e[s]);return Qe(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Qe(e.getModifierState)&&(n.getModifierState=s=>e.getModifierState(s)),Qe(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},Wn=(e,t,n,s)=>{var i;const c=Tg(t,s);return c.type=e,tn(c.target)&&(c.target=(i=c.srcElement)!==null&&i!==void 0?i:n),Mx(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=qo,Jt(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=qo,Jt(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=qo,c.stopPropagation()},Rx(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?qo:So,c.isPropagationStopped=c.cancelBubble===!0?qo:So,c.isImmediatePropagationStopped=So)),c},bf="mce-data-",M0=/^(?:mouse|contextmenu)|click/,et=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},xp=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},o1=e=>Qe(e)&&M0.test(e.type),ku=(e,t)=>{const n=Wn(e.type,e,document,t);if(o1(e)&&wn(e.pageX)&&!wn(e.clientX)){const s=n.target.ownerDocument||document,i=s.documentElement,c=s.body,u=n;u.pageX=e.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),u.pageY=e.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0)}return n},Bx=(e,t,n)=>{const s=e.document,i={type:"ready"};if(n.domLoaded){t(i);return}const c=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,u=()=>{xp(e,"DOMContentLoaded",u),xp(e,"load",u),n.domLoaded||(n.domLoaded=!0,t(i)),e=null};c()?u():et(e,"DOMContentLoaded",u),n.domLoaded||et(e,"load",u)};class Ll{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=bf+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,i){const c=this;let u;const g=window,v=P=>{c.executeHandlers(ku(P||g.event),S)};if(!t||_t(t)||Ml(t))return s;let S;t[c.expando]?S=t[c.expando]:(S=c.count++,t[c.expando]=S,c.events[S]={}),i=i||t;const O=n.split(" ");let M=O.length;for(;M--;){let P=O[M],j=v,J=!1,G=!1;if(P==="DOMContentLoaded"&&(P="ready"),c.domLoaded&&P==="ready"&&t.readyState==="complete"){s.call(i,ku({type:P}));continue}!c.hasFocusIn&&(P==="focusin"||P==="focusout")&&(J=!0,G=P==="focusin"?"focus":"blur",j=se=>{const ge=ku(se||g.event);ge.type=ge.type==="focus"?"focusin":"focusout",c.executeHandlers(ge,S)}),u=c.events[S][P],u?P==="ready"&&c.domLoaded?s(ku({type:P})):u.push({func:s,scope:i}):(c.events[S][P]=u=[{func:s,scope:i}],u.fakeName=G,u.capture=J,u.nativeHandler=j,P==="ready"?Bx(t,j,c):et(t,G||P,j,J))}return t=u=null,s}unbind(t,n,s){if(!t||_t(t)||Ml(t))return this;const i=t[this.expando];if(i){let c=this.events[i];if(n){const u=n.split(" ");let g=u.length;for(;g--;){const v=u[g],S=c[v];if(S){if(s){let O=S.length;for(;O--;)if(S[O].func===s){const M=S.nativeHandler,P=S.fakeName,j=S.capture,J=S.slice(0,O).concat(S.slice(O+1));J.nativeHandler=M,J.fakeName=P,J.capture=j,c[v]=J}}(!s||S.length===0)&&(delete c[v],xp(t,S.fakeName||v,S.nativeHandler,S.capture))}}}else Un(c,(u,g)=>{xp(t,u.fakeName||g,u.nativeHandler,u.capture)}),c={};for(const u in c)if(Qt(c,u))return this;delete this.events[i];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||_t(t)||Ml(t))return this;const i=ku({type:n,target:t},s);do{const c=t[this.expando];c&&this.executeHandlers(i,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return this}clean(t){if(!t||_t(t)||Ml(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],i=s&&s[t.type];if(i)for(let c=0,u=i.length;c<u;c++){const g=i[c];if(g&&g.func.call(g.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Ll.Event=new Ll;const n1=Dt.each,hm=Dt.grep,ts="data-mce-style",ad=Dt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Dg=(e,t,n)=>{tn(n)||n===""?er(e,t):Hr(e,t,n)},zd=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),fl=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){const c=i.nodeType;t&&_t(i)&&(c===s||!i.data.length)||(n++,s=c)}return n},s1=(e,t)=>{const n=Oa(t,"style"),s=e.serialize(e.parse(n),No(t));Dg(t,ts,s)},v_=(e,t)=>A(e)?Qt(ad,t)?e+"":e+"px":e,Ix=(e,t,n)=>{const s=zd(t);tn(n)||n===""?Rh(e,s):Rr(e,s,v_(n,s))},pt=(e,t,n)=>{const s=t.keep_values,i={set:(u,g,v)=>{const S=ue.fromDom(u);Jt(t.url_converter)&&Qe(g)&&(g=t.url_converter.call(t.url_converter_scope||n(),String(g),v,u));const O="data-mce-"+v;Dg(S,O,g),Dg(S,v,g)},get:(u,g)=>{const v=ue.fromDom(u);return Oa(v,"data-mce-"+g)||Oa(v,g)}},c={style:{set:(u,g)=>{const v=ue.fromDom(u);s&&Dg(v,ts,g),er(v,"style"),We(g)&&pu(v,e.parse(g))},get:u=>{const g=ue.fromDom(u),v=Oa(g,ts)||Oa(g,"style");return e.serialize(e.parse(v),No(g))}}};return s&&(c.href=c.src=i),c},Ds=(e,t={})=>{const n={},s=window,i={};let c=0;const u=!0,g=!0,v=ja.forElement(ue.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),S=[],O=t.schema?t.schema:gf({}),M=Xo({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),P=t.ownEvents?new Ll:Ll.Event,j=O.getBlockElements(),J=Fe=>We(Fe)?Qt(j,Fe):Wt(Fe)&&(Qt(j,Fe.nodeName)||wu(O,Fe)),G=Fe=>Fe&&e&&We(Fe)?e.getElementById(Fe):Fe,se=Fe=>{const je=G(Fe);return Qe(je)?ue.fromDom(je):null},ge=(Fe,je,It="")=>{let Ot;const yo=se(Fe);if(Qe(yo)&&fr(yo)){const Mn=M7[je];Mn&&Mn.get?Ot=Mn.get(yo.dom,je):Ot=Oa(yo,je)}return Qe(Ot)?Ot:It},_e=Fe=>{const je=G(Fe);return tn(je)?[]:je.attributes},Re=(Fe,je,It)=>{ao(Fe,Ot=>{if(Wt(Ot)){const yo=ue.fromDom(Ot),Mn=It===""?null:It,Xr=Oa(yo,je),ng=M7[je];ng&&ng.set?ng.set(yo.dom,Mn,je):Dg(yo,je,Mn),Xr!==Mn&&t.onSetAttrib&&t.onSetAttrib({attrElm:yo.dom,attrName:je,attrValue:Mn})}})},$e=(Fe,je)=>Fe.cloneNode(je),dt=()=>t.root_element||e.body,At=Fe=>{const je=ic(Fe);return{x:je.x,y:je.y,w:je.width,h:je.height}},Gt=(Fe,je)=>xx(e.body,G(Fe),je),Xe=(Fe,je,It)=>{ao(Fe,Ot=>{const yo=ue.fromDom(Ot);Ix(yo,je,It),t.update_styles&&s1(M,yo)})},qe=(Fe,je)=>{ao(Fe,It=>{const Ot=ue.fromDom(It);Un(je,(yo,Mn)=>{Ix(Ot,Mn,yo)}),t.update_styles&&s1(M,Ot)})},mt=(Fe,je,It)=>{const Ot=G(Fe);if(!(tn(Ot)||!pi(Ot)&&!Hh(Ot)))return It?rc(ue.fromDom(Ot),zd(je)):(je=je.replace(/-(\D)/g,(yo,Mn)=>Mn.toUpperCase()),je==="float"&&(je="cssFloat"),Ot.style?Ot.style[je]:void 0)},Zt=Fe=>{const je=G(Fe);if(!je)return{w:0,h:0};let It=mt(je,"width"),Ot=mt(je,"height");return(!It||It.indexOf("px")===-1)&&(It="0"),(!Ot||Ot.indexOf("px")===-1)&&(Ot="0"),{w:parseInt(It,10)||je.offsetWidth||je.clientWidth,h:parseInt(Ot,10)||je.offsetHeight||je.clientHeight}},io=Fe=>{const je=G(Fe),It=Gt(je),Ot=Zt(je);return{x:It.x,y:It.y,w:Ot.w,h:Ot.h}},Jo=(Fe,je)=>{if(!Fe)return!1;const It=pe(Fe)?Fe:[Fe];return Kn(It,Ot=>Tl(ue.fromDom(Ot),je))},sn=(Fe,je,It,Ot)=>{const yo=[];let Mn=G(Fe);Ot=Ot===void 0;const Xr=It||(dt().nodeName!=="BODY"?dt().parentNode:null);if(We(je))if(je==="*")je=Wt;else{const ng=je;je=Zf=>Jo(Zf,ng)}for(;Mn&&!(Mn===Xr||tn(Mn.nodeType)||mf(Mn)||ms(Mn));){if(!je||je(Mn))if(Ot)yo.push(Mn);else return[Mn];Mn=Mn.parentNode}return Ot?yo:null},Hn=(Fe,je,It)=>{const Ot=sn(Fe,je,It,!1);return Ot&&Ot.length>0?Ot[0]:null},hs=(Fe,je,It)=>{let Ot=je;if(Fe){We(je)&&(Ot=yo=>Jo(yo,je));for(let yo=Fe[It];yo;yo=yo[It])if(Jt(Ot)&&Ot(yo))return yo}return null},ma=(Fe,je)=>hs(Fe,je,"nextSibling"),ai=(Fe,je)=>hs(Fe,je,"previousSibling"),vi=Fe=>Jt(Fe.querySelectorAll),Pt=(Fe,je)=>{var It,Ot;const yo=(Ot=(It=G(je))!==null&&It!==void 0?It:t.root_element)!==null&&Ot!==void 0?Ot:e;return vi(yo)?xs(yo.querySelectorAll(Fe)):[]},ao=function(Fe,je,It){const Ot=It??this;if(pe(Fe)){const yo=[];return n1(Fe,(Mn,Xr)=>{const ng=G(Mn);ng&&yo.push(je.call(Ot,ng,Xr))}),yo}else{const yo=G(Fe);return yo?je.call(Ot,yo):!1}},Fn=(Fe,je)=>{ao(Fe,It=>{Un(je,(Ot,yo)=>{Re(It,yo,Ot)})})},Vn=(Fe,je)=>{ao(Fe,It=>{const Ot=ue.fromDom(It);Qn(Ot,je)})},lt=(Fe,je,It,Ot,yo)=>ao(Fe,Mn=>{const Xr=We(je)?e.createElement(je):je;return Qe(It)&&Fn(Xr,It),Ot&&(!We(Ot)&&Ot.nodeType?Xr.appendChild(Ot):We(Ot)&&Vn(Xr,Ot)),yo?Xr:Mn.appendChild(Xr)}),Tt=(Fe,je,It)=>lt(e.createElement(Fe),Fe,je,It,!0),so=fm.decode,rn=fm.encodeAllRaw,cn=(Fe,je,It="")=>{let Ot="<"+Fe;for(const yo in je)Lr(je,yo)&&(Ot+=" "+yo+'="'+rn(je[yo])+'"');return Wc(It)&&Qt(O.getVoidElements(),Fe)?Ot+" />":Ot+">"+It+"</"+Fe+">"},rs=Fe=>{const je=e.createElement("div"),It=e.createDocumentFragment();It.appendChild(je),Fe&&(je.innerHTML=Fe);let Ot;for(;Ot=je.firstChild;)It.appendChild(Ot);return It.removeChild(je),It},Vm=(Fe,je)=>ao(Fe,It=>{const Ot=ue.fromDom(It);return je&&st(Da(Ot),yo=>{xa(yo)&&yo.dom.length===0?k(yo):ei(Ot,yo)}),k(Ot),Ot.dom}),vh=Fe=>ao(Fe,je=>{const It=je.attributes;for(let Ot=It.length-1;Ot>=0;Ot--)je.removeAttributeNode(It.item(Ot))}),Hc=Fe=>M.parse(Fe),Vf=(Fe,je)=>M.serialize(Fe,je),ju=Fe=>{if(Xb!==Ds.DOM&&e===document){if(n[Fe])return;n[Fe]=!0}let je=e.getElementById("mceDefaultStyles");if(!je){je=e.createElement("style"),je.id="mceDefaultStyles",je.type="text/css";const It=e.head;It.firstChild?It.insertBefore(je,It.firstChild):It.appendChild(je)}je.styleSheet?je.styleSheet.cssText+=Fe:je.appendChild(e.createTextNode(Fe))},bc=Fe=>{Fe||(Fe=""),st(Fe.split(","),je=>{i[je]=!0,v.load(je).catch(To)})},Vc=(Fe,je,It)=>{ao(Fe,Ot=>{if(Wt(Ot)){const yo=ue.fromDom(Ot),Mn=je.split(" ");st(Mn,Xr=>{Qe(It)?(It?Vi:tr)(yo,Xr):i0(yo,Xr)})}})},$m=(Fe,je)=>{Vc(Fe,je,!0)},Kb=(Fe,je)=>{Vc(Fe,je,!1)},fo=(Fe,je)=>{const It=se(Fe),Ot=je.split(" ");return Qe(It)&&hn(Ot,yo=>Ra(It,yo))},En=Fe=>{ao(Fe,je=>Rh(ue.fromDom(je),"display"))},Yr=Fe=>{ao(Fe,je=>Rr(ue.fromDom(je),"display","none"))},ii=Fe=>{const je=se(Fe);return Qe(je)&&Si(Nh(je,"display"),"none")},yi=Fe=>(Fe||"mce_")+c++,Ka=Fe=>{const je=se(Fe);return Qe(je)?Wt(je.dom)?je.dom.outerHTML:Ks(je):""},Sr=(Fe,je)=>{ao(Fe,It=>{Wt(It)&&(It.outerHTML=je)})},Er=(Fe,je)=>{const It=G(je);return ao(Fe,Ot=>{const yo=It==null?void 0:It.parentNode,Mn=It==null?void 0:It.nextSibling;return yo&&(Mn?yo.insertBefore(Ot,Mn):yo.appendChild(Ot)),Ot})},$c=(Fe,je,It)=>ao(je,Ot=>{var yo;const Mn=pe(je)?Fe.cloneNode(!0):Fe;return It&&n1(hm(Ot.childNodes),Xr=>{Mn.appendChild(Xr)}),(yo=Ot.parentNode)===null||yo===void 0||yo.replaceChild(Mn,Ot),Ot}),$f=(Fe,je)=>{if(Fe.nodeName!==je.toUpperCase()){const It=Tt(je);return n1(_e(Fe),Ot=>{Re(It,Ot.nodeName,ge(Fe,Ot.nodeName))}),$c(It,Fe,!0),It}else return Fe},yh=(Fe,je)=>{let It=Fe;for(;It;){let Ot=je;for(;Ot&&It!==Ot;)Ot=Ot.parentNode;if(It===Ot)break;It=It.parentNode}return!It&&Fe.ownerDocument?Fe.ownerDocument.documentElement:It},og=(Fe,je,It)=>Ct(je)?Bl(O,Fe,{...It,isContent:yo=>{const Mn=yo.nodeName.toLowerCase();return!!je[Mn]}}):Bl(O,Fe,It),a_=()=>e.createRange(),i_=(Fe,je,It)=>{let Ot=a_(),yo,Mn;if(Fe&&je&&Fe.parentNode&&je.parentNode){const Xr=Fe.parentNode;return Ot.setStart(Xr,fl(Fe)),Ot.setEnd(je.parentNode,fl(je)),yo=Ot.extractContents(),Ot=a_(),Ot.setStart(je.parentNode,fl(je)+1),Ot.setEnd(Xr,fl(Fe)+1),Mn=Ot.extractContents(),Xr.insertBefore(T0(Xb,yo,O),Fe),It?Xr.insertBefore(It,Fe):Xr.insertBefore(je,Fe),Xr.insertBefore(T0(Xb,Mn,O),Fe),Vm(Fe),It||je}else return},w2=(Fe,je,It,Ot)=>{if(pe(Fe)){let yo=Fe.length;const Mn=[];for(;yo--;)Mn[yo]=w2(Fe[yo],je,It,Ot);return Mn}else return t.collect&&(Fe===e||Fe===s)&&S.push([Fe,je,It,Ot]),P.bind(Fe,je,It,Ot||Xb)},Uf=(Fe,je,It)=>{if(pe(Fe)){let Ot=Fe.length;const yo=[];for(;Ot--;)yo[Ot]=Uf(Fe[Ot],je,It);return yo}else{if(S.length>0&&(Fe===e||Fe===s)){let Ot=S.length;for(;Ot--;){const[yo,Mn,Xr]=S[Ot];Fe===yo&&(!je||je===Mn)&&(!It||It===Xr)&&P.unbind(yo,Mn,Xr)}}return P.unbind(Fe,je,It)}},Yb=(Fe,je,It)=>P.dispatch(Fe,je,It),yE=(Fe,je,It)=>P.dispatch(Fe,je,It),l_=Fe=>{if(Fe&&pi(Fe)){const je=Fe.getAttribute("data-mce-contenteditable");return je&&je!=="inherit"?je:Fe.contentEditable!=="inherit"?Fe.contentEditable:null}else return null},Xb={doc:e,settings:t,win:s,files:i,stdMode:u,boxModel:g,styleSheetLoader:v,boundEvents:S,styles:M,schema:O,events:P,isBlock:J,root:null,clone:$e,getRoot:dt,getViewPort:At,getRect:io,getSize:Zt,getParent:Hn,getParents:sn,get:G,getNext:ma,getPrev:ai,select:Pt,is:Jo,add:lt,create:Tt,createHTML:cn,createFragment:rs,remove:Vm,setStyle:Xe,getStyle:mt,setStyles:qe,removeAllAttribs:vh,setAttrib:Re,setAttribs:Fn,getAttrib:ge,getPos:Gt,parseStyle:Hc,serializeStyle:Vf,addStyle:ju,loadCSS:bc,addClass:$m,removeClass:Kb,hasClass:fo,toggleClass:Vc,show:En,hide:Yr,isHidden:ii,uniqueId:yi,setHTML:Vn,getOuterHTML:Ka,setOuterHTML:Sr,decode:so,encode:rn,insertAfter:Er,replace:$c,rename:$f,findCommonAncestor:yh,run:ao,getAttribs:_e,isEmpty:og,createRng:a_,nodeIndex:fl,split:i_,bind:w2,unbind:Uf,fire:yE,dispatch:Yb,getContentEditable:l_,getContentEditableParent:Fe=>{const je=dt();let It=null;for(let Ot=Fe;Ot&&Ot!==je&&(It=l_(Ot),It===null);Ot=Ot.parentNode);return It},isEditable:Fe=>{if(Qe(Fe)){const je=Wt(Fe)?Fe:Fe.parentElement;return Qe(je)&&pi(je)&&ti(ue.fromDom(je))}else return!1},destroy:()=>{if(S.length>0){let Fe=S.length;for(;Fe--;){const[je,It,Ot]=S[Fe];P.unbind(je,It,Ot)}}Un(i,(Fe,je)=>{v.unload(je),delete i[je]})},isChildOf:(Fe,je)=>Fe===je||je.contains(Fe),dumpRng:Fe=>"startContainer: "+Fe.startContainer.nodeName+", startOffset: "+Fe.startOffset+", endContainer: "+Fe.endContainer.nodeName+", endOffset: "+Fe.endOffset},M7=pt(M,t,Et(Xb));return Xb};Ds.DOM=Ds(document),Ds.nodeIndex=fl;const qa=Ds.DOM,y_=0,Px=1,r1=2,vo=3;class Hd{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const i=qa;let c;const u=()=>{i.remove(S),c&&(c.onerror=c.onload=c=null)},g=()=>{u(),n()},v=()=>{u(),s("Failed to load script: "+t)},S=i.uniqueId();c=document.createElement("script"),c.id=S,c.type="text/javascript",c.src=Dt._addCacheSuffix(t),this.settings.referrerPolicy&&i.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=g,c.onerror=v,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===r1}markDone(t){this.states[t]=r1}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=y_),new Promise((i,c)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:i,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(v,S)=>{_n(n.scriptLoadedCallbacks,S).each(O=>{st(O,M=>M[v](S))}),delete n.scriptLoadedCallbacks[S]},i=v=>{const S=Co(v,O=>O.status==="rejected");return S.length>0?Promise.reject(na(S,({reason:O})=>pe(O)?O:[O])):Promise.resolve()},c=v=>Promise.allSettled(Yo(v,S=>n.states[S]===r1?(s("resolve",S),Promise.resolve()):n.states[S]===vo?(s("reject",S),Promise.reject(S)):(n.states[S]=Px,n.loadScript(S).then(()=>{n.states[S]=r1,s("resolve",S);const O=n.queue;return O.length>0?(n.queue=[],c(O).then(i)):Promise.resolve()},()=>(n.states[S]=vo,s("reject",S),Promise.reject(S)))))),u=v=>(n.loading=!0,c(v).then(S=>{n.loading=!1;const O=n.queueLoadedCallbacks.shift();return z.from(O).each(Do),i(S)})),g=Gc(t);return n.loading?new Promise((v,S)=>{n.queueLoadedCallbacks.push(()=>{u(g).then(v,S)})}):u(g)}}Hd.ScriptLoader=new Hd;const B0=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},w_=e=>ne(e)&&Qt(e,"raw"),Og=e=>pe(e)&&e.length>1,mo={},a1=Wo("en"),Su=()=>_n(mo,a1.get()),Di={getData:()=>jn(mo,e=>({...e})),setCode:e=>{e&&a1.set(e)},getCode:()=>a1.get(),add:(e,t)=>{let n=mo[e];n||(mo[e]=n={});const s=Yo(Pr(t),i=>i.toLowerCase());Un(t,(i,c)=>{const u=c.toLowerCase();u!==c&&B0(s,u)?(Qt(t,u)||(n[u]=i),n[c]=i):n[u]=i})},translate:e=>{const t=Su().getOr({}),n=u=>Jt(u)?Object.prototype.toString.call(u):s(u)?"":""+u,s=u=>u===""||u===null||u===void 0,i=u=>{const g=n(u);return Qt(t,g)?n(t[g]):_n(t,g.toLowerCase()).map(n).getOr(g)},c=u=>u.replace(/{context:\w+}$/,"");if(s(e))return"";if(w_(e))return n(e.raw);if(Og(e)){const u=e.slice(1),g=i(e[0]).replace(/\{([0-9]+)\}/g,(v,S)=>Qt(u,S)?n(u[S]):v);return c(g)}return c(i(e))},isRtl:()=>Su().bind(e=>_n(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Qt(mo,e)},Oi=()=>{const e=[],t={},n={},s=[],i=(G,se)=>{const ge=Co(s,_e=>_e.name===G&&_e.state===se);st(ge,_e=>_e.resolve())},c=G=>Qt(t,G),u=G=>Qt(n,G),g=G=>{if(n[G])return n[G].instance},v=(G,se)=>{const ge=Di.getCode(),_e=","+(se||"")+",";!ge||se&&_e.indexOf(","+ge+",")===-1||Hd.ScriptLoader.add(t[G]+"/langs/"+ge+".js")},S=(G,se)=>{Oi.languageLoad!==!1&&(c(G)?v(G,se):J(G,"loaded").then(()=>v(G,se)))},O=(G,se)=>(e.push(se),n[G]={instance:se},i(G,"added"),se),M=G=>{delete t[G],delete n[G]},P=(G,se)=>We(se)?We(G)?{prefix:"",resource:se,suffix:""}:{prefix:G.prefix,resource:se,suffix:G.suffix}:se,j=(G,se)=>{if(t[G])return Promise.resolve();let ge=We(se)?se:se.prefix+se.resource+se.suffix;ge.indexOf("/")!==0&&ge.indexOf("://")===-1&&(ge=Oi.baseURL+"/"+ge),t[G]=ge.substring(0,ge.lastIndexOf("/"));const _e=()=>(i(G,"loaded"),Promise.resolve());return n[G]?_e():Hd.ScriptLoader.add(ge).then(_e)},J=(G,se="added")=>se==="added"&&u(G)||se==="loaded"&&c(G)?Promise.resolve():new Promise(ge=>{s.push({name:G,state:se,resolve:ge})});return{items:e,urls:t,lookup:n,get:g,requireLangPack:S,add:O,remove:M,createUrl:P,load:j,waitFor:J}};Oi.languageLoad=!0,Oi.baseURL="",Oi.PluginManager=Oi(),Oi.ThemeManager=Oi(),Oi.ModelManager=Oi();const l1=Et("mce-annotation"),bm=Et("data-mce-annotation"),Qo=Et("data-mce-annotation-uid"),ji=Et("data-mce-annotation-active"),Vd=Et("data-mce-annotation-classes"),vp=Et("data-mce-annotation-attrs"),yp=e=>t=>bn(t,e),xn=(e,t)=>{const n=e.selection.getRng(),s=ue.fromDom(n.startContainer),i=ue.fromDom(e.getBody()),c=t.fold(()=>"."+l1(),v=>`[${bm()}="${v}"]`),u=Rd(s,n.startOffset).getOr(s);return zi(u,c,yp(i)).bind(v=>zs(v,`${Qo()}`).bind(S=>zs(v,`${bm()}`).map(O=>{const M=c1(e,S);return{uid:S,name:O,elements:M}})))},j2=e=>fr(e)&&Ra(e,l1()),wp=(e,t)=>Js(e,"data-mce-bogus")||cp(e,'[data-mce-bogus="all"]',yp(t)),c1=(e,t)=>{const n=ue.fromDom(e.getBody()),s=mn(n,`[${Qo()}="${t}"]`);return Co(s,i=>!wp(i,n))},Lx=(e,t)=>{const n=ue.fromDom(e.getBody()),s=mn(n,`[${bm()}="${t}"]`),i={};return st(s,c=>{if(!wp(c,n)){const u=Oa(c,Qo()),g=_n(i,u).getOr([]);i[u]=g.concat([c])}}),i},W2=(e,t)=>{const n=Wo({}),s=()=>({listeners:[],previous:nl()}),i=(M,P)=>{c(M,j=>(P(j),j))},c=(M,P)=>{const j=n.get(),J=_n(j,M).getOrThunk(s),G=P(J);j[M]=G,n.set(j)},u=(M,P,j)=>{i(M,J=>{st(J.listeners,G=>G(!0,M,{uid:P,nodes:Yo(j,se=>se.dom)}))})},g=M=>{i(M,P=>{st(P.listeners,j=>j(!1,M))})},v=(M,P)=>{st(c1(e,M),j=>{P?Hr(j,ji(),"true"):er(j,ji())})},S=qc(()=>{const M=ki(t.getNames());st(M,P=>{c(P,j=>{const J=j.previous.get();return xn(e,z.some(P)).fold(()=>{J.each(G=>{g(P),j.previous.clear(),v(G,!1)})},({uid:G,name:se,elements:ge})=>{Si(J,G)||(J.each(_e=>v(_e,!1)),u(se,G,ge),j.previous.set(G),v(G,!0))}),{previous:j.previous,listeners:j.listeners}})})},30);return e.on("remove",()=>{S.cancel()}),e.on("NodeChange",()=>{S.throttle()}),{addListener:(M,P)=>{c(M,j=>({previous:j.previous,listeners:j.listeners.concat([P])}))}}},Fx=(e,t)=>{const n=bm(),s=c=>z.from(c.attr(n)).bind(t.lookup),i=c=>{var u,g;c.attr(Qo(),null),c.attr(bm(),null),c.attr(ji(),null);const v=z.from(c.attr(vp())).map(P=>P.split(",")).getOr([]),S=z.from(c.attr(Vd())).map(P=>P.split(",")).getOr([]);st(v,P=>c.attr(P,null));const O=(g=(u=c.attr("class"))===null||u===void 0?void 0:u.split(" "))!==null&&g!==void 0?g:[],M=ol(O,[l1()].concat(S));c.attr("class",M.length>0?M.join(" "):null),c.attr(Vd(),null),c.attr(vp(),null)};e.serializer.addTempAttr(ji()),e.serializer.addAttributeFilter(n,c=>{for(const u of c)s(u).each(g=>{g.persistent===!1&&(u.name==="span"?u.unwrap():i(u))})})},zx=()=>{const e={};return{register:(i,c)=>{e[i]={name:i,settings:c}},lookup:i=>_n(e,i).map(c=>c.settings),getNames:()=>Pr(e)}},q2=(e,t,n=So)=>{const s=new Ys(e,t),i=c=>{let u;do u=s[c]();while(u&&!_t(u)&&!n(u));return z.from(u).filter(_t)};return{current:()=>z.from(s.current()).filter(_t),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},xf=(e,t)=>{const n=t||(u=>e.isBlock(u)||or(u)||Ts(u)),s=(u,g,v,S)=>{if(_t(u)){const O=S(u,g,u.data);if(O!==-1)return z.some({container:u,offset:O})}return v().bind(O=>s(O.container,O.offset,v,S))};return{backwards:(u,g,v,S)=>{const O=q2(u,S??e.getRoot(),n);return s(u,g,()=>O.prev().map(M=>({container:M,offset:M.length})),v).getOrNull()},forwards:(u,g,v,S)=>{const O=q2(u,S??e.getRoot(),n);return s(u,g,()=>O.next().map(M=>({container:M,offset:0})),v).getOrNull()}}},Dn=["td","th"],Cp=["thead","tbody","tfoot"],d1=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],P0=["li","dd","dt"],ld=["ul","ol","dl"],G2=["pre","script","textarea","style"],Bg=e=>{let t;return n=>(t=t||Ya(e,qo),Qt(t,No(n)))},Hx=e=>No(e)==="table",Wi=e=>fr(e)&&No(e)==="br",_p=Bg(d1),Eu=Bg(ld),xm=Bg(P0),L0=Bg(Cp),kp=Bg(Dn),u1=Bg(G2),Sp=e=>{const t=[];let n=e.dom;for(;n;)t.push(ue.fromDom(n)),n=n.lastChild;return t},m1=e=>{const t=mn(e,"br"),n=Co(Sp(e).slice(-1),Wi);t.length===n.length&&st(n,k)},vm=()=>{const e=ue.fromTag("br");return Hr(e,"data-mce-bogus","1"),e},Au=e=>{fu(e),Zn(e,vm())},f1=(e,t)=>{om(e).each(n=>{Nd(n).each(s=>{t.isBlock(No(e))&&Wi(n)&&t.isBlock(No(s))&&k(n)})})},Vs=Ea,p1=ga,pl=Fs,g1=e=>e.insertContent(Vs,{preserve_zwsp:!0}),vf=Wt,Tu=_t,Cr=e=>(Tu(e)&&(e=e.parentNode),vf(e)&&e.hasAttribute("data-mce-caret")),ym=e=>Tu(e)&&p1(e.data),zl=e=>Cr(e)||ym(e),K2=e=>e.firstChild!==e.lastChild||!or(e.firstChild),C_=(e,t)=>{var n;const i=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Vs),c=e.parentNode;if(t){const u=e.previousSibling;if(Tu(u)){if(zl(u))return u;if(Pg(u))return u.splitText(u.data.length-1)}c==null||c.insertBefore(i,e)}else{const u=e.nextSibling;if(Tu(u)){if(zl(u))return u;if(Ap(u))return u.splitText(1),u}e.nextSibling?c==null||c.insertBefore(i,e.nextSibling):c==null||c.appendChild(i)}return i},Ig=e=>{const t=e.container();return _t(t)?t.data.charAt(e.offset())===Vs||e.isAtStart()&&ym(t.previousSibling):!1},Ep=e=>{const t=e.container();return _t(t)?t.data.charAt(e.offset()-1)===Vs||e.isAtEnd()&&ym(t.nextSibling):!1},Vx=(e,t,n)=>{var s;const c=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);c.setAttribute("data-mce-caret",n?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(vm().dom);const u=t.parentNode;return n?u==null||u.insertBefore(c,t):t.nextSibling?u==null||u.insertBefore(c,t.nextSibling):u==null||u.appendChild(c),c},Ap=e=>Tu(e)&&e.data[0]===Vs,Pg=e=>Tu(e)&&e.data[e.data.length-1]===Vs,Y2=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];vu(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},h1=e=>e&&e.hasAttribute("data-mce-caret")?(Y2(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,$x=e=>Cr(e.startContainer),Tp=Math.round,wm=e=>e?{left:Tp(e.left),top:Tp(e.top),bottom:Tp(e.bottom),right:Tp(e.right),width:Tp(e.width),height:Tp(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Ux=(e,t)=>(e=wm(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),b1=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Zx=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,Dp=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:Zx(t.top-e.bottom,e,t)},Op=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Zx(t.bottom-e.top,e,t),X2=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,F0=e=>ws(e,(t,n)=>t.fold(()=>z.some(n),s=>{const i=Math.min(n.left,s.left),c=Math.min(n.top,s.top),u=Math.max(n.right,s.right),g=Math.max(n.bottom,s.bottom);return z.some({top:c,right:u,bottom:g,left:i,width:u-i,height:g-c})}),z.none()),jx=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),i=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-i)*(n-i))},Q2=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Lg=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},$d=(e,t)=>{if(Wt(e)&&e.hasChildNodes()){const n=e.childNodes,s=ci(t,0,n.length-1);return n[s]}else return e},J2=(e,t)=>{if(!(t<0&&Wt(e)&&e.hasChildNodes()))return $d(e,t)},ey=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),f=e=>We(e)&&e.charCodeAt(0)>=768&&ey.test(e),h=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},y=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},_=lc,D=Ts,N=or,F=_t,V=Nc(["script","style","textarea"]),ee=Nc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ce=Nc(["table"]),we=zl,ie=e=>we(e)?!1:F(e)?!V(e.parentNode):ee(e)||N(e)||ce(e)||fe(e),be=e=>Wt(e)&&e.getAttribute("unselectable")==="true",fe=e=>!be(e)&&D(e),De=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(fe(n))return!1;if(_(n))return!0}return!0},Te=e=>fe(e)?!ws(xs(e.getElementsByTagName("*")),(t,n)=>t||_(n),!1):!1,nt=e=>ee(e)||Te(e),it=(e,t)=>ie(e)&&De(e,t),ht=Wt,vt=ie,wt=Cg("display","block table"),Rt=Cg("float","left right"),Mt=y(ht,vt,Ee(Rt)),to=Ee(Cg("white-space","pre pre-line pre-wrap")),ho=_t,pn=or,Mo=Ds.nodeIndex,Go=J2,Po=e=>e?e.createRange():Ds.DOM.createRng(),qn=e=>We(e)&&/[\r\n\t ]/.test(e),Bt=e=>!!e.setStart&&!!e.setEnd,da=e=>{const t=e.startContainer,n=e.startOffset;if(qn(e.toString())&&to(t.parentNode)&&_t(t)){const s=t.data;if(qn(s[n-1])||qn(s[n+1]))return!0}return!1},Ba=e=>{const t=e.ownerDocument,n=Po(t),s=t.createTextNode(Ls),i=e.parentNode;i.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const c=wm(n.getBoundingClientRect());return i.removeChild(s),c},Hl=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,i=e.endOffset;if(t===n&&_t(n)&&s===0&&i===1){const c=e.cloneRange();return c.setEndAfter(n),Zr(c)}else return null},Ud=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Zr=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=wm(s[0]):n=wm(e.getBoundingClientRect()),!Bt(e)&&pn(e)&&Ud(n)?Ba(e):Ud(n)&&Bt(e)&&(t=Hl(e))!==null&&t!==void 0?t:n},qi=(e,t)=>{const n=Ux(e,t);return n.width=1,n.right=n.left+1,n},yf=e=>{const t=[],n=u=>{u.height!==0&&(t.length>0&&b1(u,t[t.length-1])||t.push(u))},s=(u,g)=>{const v=Po(u.ownerDocument);if(g<u.data.length){if(f(u.data[g]))return;if(f(u.data[g-1])&&(v.setStart(u,g),v.setEnd(u,g+1),!da(v))){n(qi(Zr(v),!1));return}}g>0&&(v.setStart(u,g-1),v.setEnd(u,g),da(v)||n(qi(Zr(v),!1))),g<u.data.length&&(v.setStart(u,g),v.setEnd(u,g+1),da(v)||n(qi(Zr(v),!0)))},i=e.container(),c=e.offset();if(ho(i))return s(i,c),t;if(ht(i))if(e.isAtEnd()){const u=Go(i,c);ho(u)&&s(u,u.data.length),Mt(u)&&!pn(u)&&n(qi(Zr(u),!1))}else{const u=Go(i,c);if(ho(u)&&s(u,0),Mt(u)&&e.isAtEnd())return n(qi(Zr(u),!1)),t;const g=Go(e.container(),e.offset()-1);Mt(g)&&!pn(g)&&(wt(g)||wt(u)||!Mt(u))&&n(qi(Zr(g),!1)),Mt(u)&&n(qi(Zr(u),!0))}return t},Ke=(e,t,n)=>{const s=()=>(ho(e),t===0),i=()=>ho(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const O=Po(e.ownerDocument);return O.setStart(e,t),O.setEnd(e,t),O},u=()=>(n||(n=yf(Ke(e,t))),n),g=()=>u().length>0,v=O=>O&&e===O.container()&&t===O.offset(),S=O=>Go(e,O?t-1:t);return{container:Et(e),offset:Et(t),toRange:c,getClientRects:u,isVisible:g,isAtStart:s,isAtEnd:i,isEqual:v,getNode:S}};Ke.fromRangeStart=e=>Ke(e.startContainer,e.startOffset),Ke.fromRangeEnd=e=>Ke(e.endContainer,e.endOffset),Ke.after=e=>Ke(e.parentNode,Mo(e)+1),Ke.before=e=>Ke(e.parentNode,Mo(e)),Ke.isAbove=(e,t)=>sr(Kt(t.getClientRects()),jo(e.getClientRects()),Dp).getOr(!1),Ke.isBelow=(e,t)=>sr(jo(t.getClientRects()),Kt(e.getClientRects()),Op).getOr(!1),Ke.isAtStart=e=>e?e.isAtStart():!1,Ke.isAtEnd=e=>e?e.isAtEnd():!1,Ke.isTextPosition=e=>e?_t(e.container()):!1,Ke.isElementPosition=e=>!Ke.isTextPosition(e);const wf=(e,t)=>{_t(t)&&t.data.length===0&&e.remove(t)},x1=(e,t,n)=>{t.insertNode(n),wf(e,n.previousSibling),wf(e,n.nextSibling)},Du=(e,t,n)=>{const s=z.from(n.firstChild),i=z.from(n.lastChild);t.insertNode(n),s.each(c=>wf(e,c.previousSibling)),i.each(c=>wf(e,c.nextSibling))},ty=(e,t,n)=>{ms(n)?Du(e,t,n):x1(e,t,n)},Ou=_t,Cf=vu,__=Ds.nodeIndex,oy=e=>{const t=e.parentNode;return Cf(t)?oy(t):t},z0=e=>e?Fr(e.childNodes,(t,n)=>(Cf(n)&&n.nodeName!=="BR"?t=t.concat(z0(n)):t.push(n),t),[]):[],RE=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Ou(n);)t+=n.data.length;return t},ME=e=>t=>e===t,BE=e=>{let t,n;t=z0(oy(e)),n=kd(t,ME(e),e),t=t.slice(0,n+1);const s=Fr(t,(i,c,u)=>(Ou(c)&&Ou(t[u-1])&&i++,i),0);return t=ec(t,Nc([e.nodeName])),n=kd(t,ME(e),e),n-s},k_=e=>(Ou(e)?"text()":e.nodeName.toLowerCase())+"["+BE(e)+"]",IE=(e,t,n)=>{const s=[];for(let i=t.parentNode;i&&i!==e;i=i.parentNode)s.push(i);return s},ny=(e,t)=>{let n=[],s=t.container(),i=t.offset(),c;if(Ou(s))c=RE(s,i);else{const g=s.childNodes;i>=g.length?(c="after",i=g.length-1):c="before",s=g[i]}n.push(k_(s));let u=IE(e,s);return u=ec(u,Ee(vu)),n=n.concat(_l(u,g=>k_(g))),n.reverse().join("/")+","+c},PE=(e,t,n)=>{let s=z0(e);return s=ec(s,(i,c)=>!Ou(i)||!Ou(s[c-1])),s=ec(s,Nc([t])),s[n]},LE=(e,t)=>{let n=e,s=0;for(;Ou(n);){const i=n.data.length;if(t>=s&&t<=s+i){e=n,t=t-s;break}if(!Ou(n.nextSibling)){e=n,t=i;break}s+=i,n=n.nextSibling}return Ou(e)&&t>e.data.length&&(t=e.data.length),Ke(e,t)},FE=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),i=n.length>1?n[1]:"before",c=Fr(s,(u,g)=>{const v=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(g);return v?(v[1]==="text()"&&(v[1]="#text"),PE(u,v[1],parseInt(v[2],10))):null},e);if(!c)return null;if(!Ou(c)&&c.parentNode){let u;return i==="after"?u=__(c)+1:u=__(c),Ke(c.parentNode,u)}return LE(c,parseInt(i,10))},H0=Ts,$7=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let i=t.previousSibling;i&&_t(i);i=i.previousSibling)s+=e(i.data).length;return s},Wx=(e,t,n,s,i)=>{const c=i?s.startContainer:s.endContainer;let u=i?s.startOffset:s.endOffset;const g=[],v=e.getRoot();if(_t(c))g.push(n?$7(t,c,u):u);else{let S=0;const O=c.childNodes;u>=O.length&&O.length&&(S=1,u=Math.max(0,O.length-1)),g.push(e.nodeIndex(O[u],n)+S)}for(let S=c;S&&S!==v;S=S.parentNode)g.push(e.nodeIndex(S,n));return g},zE=(e,t,n,s)=>{const i=t.dom,c=Wx(i,e,n,s,!0),u=t.isForward(),g=$x(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:u,...g};{const v=Wx(i,e,n,s,!1);return{start:c,end:v,forward:u,...g}}},S_=(e,t,n)=>{let s=0;return Dt.each(e.select(t),i=>{if(i.getAttribute("data-mce-bogus")!=="all"){if(i===n)return!1;s++;return}}),s},Ao=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(Wt(n)&&n.nodeName==="TR"){const i=n.childNodes;n=i[Math.min(t?s:s-1,i.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},HE=e=>(Ao(e,!0),Ao(e,!1),e),VE=(e,t)=>{if(Wt(e)&&(e=$d(e,t),H0(e)))return e;if(zl(e)){_t(e)&&Cr(e)&&(e=e.parentNode);let n=e.previousSibling;if(H0(n)||(n=e.nextSibling,H0(n)))return n}},U7=e=>VE(e.startContainer,e.startOffset)||VE(e.endContainer,e.endOffset),$E=(e,t,n)=>{const s=n.getNode(),i=n.getRng();if(s.nodeName==="IMG"||H0(s)){const u=s.nodeName;return{name:u,index:S_(n.dom,u,s)}}const c=U7(i);if(c){const u=c.tagName;return{name:u,index:S_(n.dom,u,c)}}return zE(e,n,t,i)},Z7=e=>{const t=e.getRng();return{start:ny(e.dom.getRoot(),Ke.fromRangeStart(t)),end:ny(e.dom.getRoot(),Ke.fromRangeEnd(t)),forward:e.isForward()}},UE=e=>({rng:e.getRng(),forward:e.isForward()}),sy=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},V0=(e,t)=>{const n=e.dom;let s=e.getRng();const i=n.uniqueId(),c=e.isCollapsed(),u=e.getNode(),g=u.nodeName,v=e.isForward();if(g==="IMG")return{name:g,index:S_(n,g,u)};const S=HE(s.cloneRange());if(!c){S.collapse(!1);const M=sy(n,i+"_end",t);ty(n,S,M)}s=HE(s),s.collapse(!0);const O=sy(n,i+"_start",t);return ty(n,s,O),e.moveToBookmark({id:i,keep:!0,forward:v}),{id:i,forward:v}},$0=(e,t,n=!1)=>t===2?$E(pl,n,e):t===3?Z7(e):t?UE(e):V0(e,!1),E_=Ze($E,Tn,!0),ry=e=>e.type==="inline-command"||e.type==="inline-format",j7=e=>e.type==="block-command"||e.type==="block-format",ZE=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,A_=e=>{var t;const n=i=>xr.error({message:i,pattern:e}),s=(i,c,u)=>{if(e.format!==void 0){let g;if(pe(e.format)){if(!hn(e.format,We))return n(i+" pattern has non-string items in the `format` array");g=e.format}else if(We(e.format))g=[e.format];else return n(i+" pattern has non-string `format` parameter");return xr.value(c(g))}else return e.cmd!==void 0?We(e.cmd)?xr.value(u(e.cmd,e.value)):n(i+" pattern has non-string `cmd` parameter"):n(i+" pattern is missing both `format` and `cmd` parameters")};if(!ne(e))return n("Raw pattern is not an object");if(!We(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!We(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let i=e.start,c=e.end;return c.length===0&&(c=i,i=""),s("Inline",u=>({type:"inline-format",start:i,end:c,format:u}),(u,g)=>({type:"inline-command",start:i,end:c,cmd:u,value:g}))}else{if(e.replacement!==void 0)return We(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):xr.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const i=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):s("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:i}),(c,u)=>({type:"block-command",start:e.start,cmd:c,value:u,trigger:i}))}}},jE=e=>Co(e,j7),WE=e=>Co(e,ry),W7=(e,t)=>({inlinePatterns:WE(e),blockPatterns:jE(e),dynamicPatternsLookup:t}),T_=(e,t)=>({...e,blockPatterns:Co(e.blockPatterns,n=>ZE(n,t))}),Fg=e=>{const t=Yl(Yo(e,A_));return st(t.errors,n=>console.error(n.message,n.pattern)),t.values},q7=e=>t=>{const n=e(t);return Fg(n)},G7=(e,t)=>e.dispatch("PreProcess",t),qE=(e,t)=>e.dispatch("PostProcess",t),K7=e=>{e.dispatch("remove")},Y7=e=>{e.dispatch("detach")},X7=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},$s=(e,t,n,s,i)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:i})},GE=(e,t,n,s,i)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:i})},Q7=e=>{e.dispatch("PreInit")},D_=e=>{e.dispatch("PostRender")},Gi=e=>{e.dispatch("Init")},cd=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},O_=(e,t,n)=>{e.dispatch(t,n)},KE=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},YE=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},Cm=(e,t)=>e.dispatch("BeforeSetContent",t),XE=(e,t)=>e.dispatch("SetContent",t),J7=(e,t)=>e.dispatch("BeforeGetContent",t),vn=(e,t)=>e.dispatch("GetContent",t),eN=(e,t)=>{e.dispatch("AutocompleterStart",t)},tN=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},N_=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},_r=e=>{e.dispatch("AutocompleterEnd")},oN=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),QE=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),ay=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),nN=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),sN=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),R_=Jn().deviceType,rN=R_.isTouch(),M_=Ds.DOM,B_=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ws(t,(n,s)=>{const i=s.split("="),c=i[0],u=i.length>1?i[1]:c;return n[jc(c)]=jc(u),n},{})},I_=e=>He(e,RegExp),Yt=e=>t=>t.options.get(e),iy=e=>We(e)||ne(e),JE=(e,t="")=>n=>{const s=We(n);if(s)if(n.indexOf("=")!==-1){const i=B_(n);return{value:_n(i,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},eo=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:JE(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:JE(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=We(n)&&La(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=on(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>bs(n)?{valid:!0,value:n}:We(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||We(n)||Bo(n,We);return s?We(n)?{value:Yo(n.split(","),jc),valid:s}:pe(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:zg(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=We(n)||Bo(n,We);return s?{value:pe(n)?n:Yo(n.split(","),jc),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=bs(n)||We(n);return s?n===!1||R_.isiPhone()||R_.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!rN}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:n=>n===!1||We(n)||Jt(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||We(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:n=>bs(n)?(e.initialized&&Xx(e)!==n&&Promise.resolve().then(()=>{sN(e,n)}),{valid:!0,value:n}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:n=>{const s=Bo(n,We);return s?{value:n,valid:s}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:iy}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:iy}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:iy}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:iy}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>We(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>Bo(n,ne)||n===!1?{value:Fg(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>Jt(n)?{value:q7(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>Bo(n,I_)?{value:n,valid:!0}:I_(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const s=on(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const s=on(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Di.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:M_.getAttrib(e.getElement(),"placeholder")})})},Nu=Yt("iframe_attrs"),eA=Yt("doctype"),tA=Yt("document_base_url"),aN=Yt("body_id"),oA=Yt("body_class"),P_=Yt("content_security_policy"),L_=Yt("br_in_pre"),Ni=Yt("forced_root_block"),v1=Yt("forced_root_block_attrs"),F_=Yt("newline_behavior"),nA=Yt("br_newline_selector"),sA=Yt("no_newline_selector"),z_=Yt("keep_styles"),iN=Yt("end_container_on_empty_block"),H_=Yt("automatic_uploads"),ly=Yt("images_reuse_filename"),rA=Yt("images_replace_blob_uris"),V_=Yt("icons"),cy=Yt("icons_url"),aA=Yt("images_upload_url"),iA=Yt("images_upload_base_path"),lN=Yt("images_upload_credentials"),cN=Yt("images_upload_handler"),dN=Yt("content_css_cors"),$_=Yt("referrer_policy"),lA=Yt("language"),Xs=Yt("language_url"),dy=Yt("indent_use_margin"),uy=Yt("indentation"),my=Yt("content_css"),Np=Yt("content_style"),qx=Yt("font_css"),U0=Yt("directionality"),cA=Yt("inline_boundaries_selector"),U_=Yt("object_resizing"),Z_=Yt("resize_img_proportional"),fy=Yt("placeholder"),Rp=Yt("event_root"),y1=Yt("service_message"),w1=Yt("theme"),uN=Yt("theme_url"),py=Yt("model"),mN=Yt("model_url"),Gx=Yt("inline_boundaries"),fN=Yt("formats"),si=Yt("preview_styles"),j_=Yt("format_empty_lines"),bi=Yt("format_noneditable_selector"),Z0=Yt("custom_ui_selector"),zg=Yt("inline"),dA=Yt("hidden_input"),W_=Yt("submit_patch"),uA=Yt("add_form_submit_trigger"),pN=Yt("add_unload_trigger"),gN=Yt("custom_undo_redo_levels"),dd=Yt("disable_nodechange"),Ki=Yt("readonly"),_m=Yt("editable_root"),gy=Yt("content_css_cors"),Kx=Yt("plugins"),hN=Yt("external_plugins"),mA=Yt("block_unsupported_drop"),bN=Yt("visual"),q_=Yt("visual_table_class"),fA=Yt("visual_anchor_class"),G_=Yt("iframe_aria_text"),K_=Yt("setup"),pA=Yt("init_instance_callback"),Y_=Yt("urlconverter_callback"),xN=Yt("auto_focus"),gA=Yt("browser_spellcheck"),vN=Yt("protect"),hA=Yt("paste_block_drop"),Yx=Yt("paste_data_images"),yN=Yt("paste_preprocess"),wN=Yt("paste_postprocess"),CN=Yt("newdocument_content"),_N=Yt("paste_webkit_styles"),kN=Yt("paste_remove_styles_if_webkit"),C1=Yt("paste_merge_formats"),SN=Yt("smart_paste"),bA=Yt("paste_as_text"),xA=Yt("paste_tab_spaces"),vA=Yt("allow_html_data_urls"),yA=Yt("text_patterns"),X_=Yt("text_patterns_lookup"),wA=Yt("noneditable_class"),EN=Yt("editable_class"),AN=Yt("noneditable_regexp"),Q_=Yt("preserve_cdata"),CA=Yt("highlight_on_focus"),_A=Yt("xss_sanitization"),TN=Yt("init_content_sync"),kA=e=>e.options.isSet("text_patterns_lookup"),SA=e=>Dt.explode(e.options.get("font_size_style_values")),DN=e=>Dt.explode(e.options.get("font_size_classes")),EA=e=>e.options.get("encoding")==="xml",AA=e=>Dt.explode(e.options.get("images_file_types")),ON=Yt("table_tab_navigation"),NN=Yt("details_initial_state"),RN=Yt("details_serialized_state"),zt=Yt("sandbox_iframes"),Ru=e=>e.options.get("sandbox_iframes_exclusions"),MN=Yt("convert_unsafe_embeds"),J_=Yt("license_key"),TA=Yt("api_key"),Xx=Yt("disabled"),ek=Wt,DA=_t,tk=e=>{const t=e.parentNode;t&&t.removeChild(e)},OA=e=>{const t=pl(e);return{count:e.length-t.length,text:t}},NA=e=>{let t;for(;(t=e.data.lastIndexOf(Vs))!==-1;)e.deleteData(t,1)},Qx=(e,t)=>(_1(e),t),BN=(e,t)=>{const n=OA(e.data.substr(0,t.offset())),s=OA(e.data.substr(t.offset()));return(n.text+s.text).length>0?(NA(e),Ke(e,t.offset()-n.count)):t},RA=(e,t)=>{const n=t.container(),s=oa(xs(n.childNodes),e).map(i=>i<t.offset()?Ke(n,t.offset()-1):t).getOr(t);return _1(e),s},hy=(e,t)=>DA(e)&&t.container()===e?BN(e,t):Qx(e,t),IN=(e,t)=>t.container()===e.parentNode?RA(e,t):Qx(e,t),MA=(e,t)=>Ke.isTextPosition(t)?hy(e,t):IN(e,t),_1=e=>{ek(e)&&zl(e)&&(K2(e)?e.removeAttribute("data-mce-caret"):tk(e)),DA(e)&&(NA(e),e.data.length===0&&tk(e))},by=Ts,Hg=cc,xy=sd,PN="*[contentEditable=false],video,audio,embed,object",BA=(e,t,n)=>{const s=Ux(t.getBoundingClientRect(),n);let i,c;if(e.tagName==="BODY"){const g=e.ownerDocument.documentElement;i=e.scrollLeft||g.scrollLeft,c=e.scrollTop||g.scrollTop}else{const g=e.getBoundingClientRect();i=e.scrollLeft-g.left,c=e.scrollTop-g.top}s.left+=i,s.right+=i,s.top+=c,s.bottom+=c,s.width=1;let u=t.offsetWidth-t.clientWidth;return u>0&&(n&&(u*=-1),s.left+=u,s.right+=u),s},IA=e=>{var t,n;const s=mn(ue.fromDom(e),PN);for(let i=0;i<s.length;i++){const c=s[i].dom;let u=c.previousSibling;if(Pg(u)){const g=u.data;g.length===1?(t=u.parentNode)===null||t===void 0||t.removeChild(u):u.deleteData(g.length-1,1)}u=c.nextSibling,Ap(u)&&(u.data.length===1?(n=u.parentNode)===null||n===void 0||n.removeChild(u):u.deleteData(0,1))}},LN=(e,t,n,s)=>{const i=nl();let c,u;const g=Ni(e),v=e.dom,S=(G,se)=>{let ge;if(O(),xy(se))return null;if(n(se)){const _e=Vx(g,se,G),Re=BA(t,se,G);v.setStyle(_e,"top",Re.top),v.setStyle(_e,"caret-color","transparent"),u=_e;const $e=v.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});v.setStyles($e,{...Re}),v.add(t,$e),i.set({caret:$e,element:se,before:G}),G&&v.addClass($e,"mce-visual-caret-before"),M(),ge=se.ownerDocument.createRange(),ge.setStart(_e,0),ge.setEnd(_e,0)}else return u=C_(se,G),ge=se.ownerDocument.createRange(),j0(u.nextSibling)?(ge.setStart(u,0),ge.setEnd(u,0)):(ge.setStart(u,1),ge.setEnd(u,1)),ge;return ge},O=()=>{IA(t),u&&(_1(u),u=null),i.on(G=>{v.remove(G.caret),i.clear()}),c&&(clearInterval(c),c=void 0)},M=()=>{c=window.setInterval(()=>{i.on(G=>{s()?v.toggleClass(G.caret,"mce-visual-caret-hidden"):v.addClass(G.caret,"mce-visual-caret-hidden")})},500)},P=()=>{i.on(G=>{const se=BA(t,G.element,G.before);v.setStyles(G.caret,{...se})})},j=()=>clearInterval(c),J=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:i.isSet,show:S,hide:O,getCss:J,reposition:P,destroy:j}},PA=()=>Vo.browser.isFirefox(),j0=e=>by(e)||Hg(e),W0=e=>(j0(e)||yu(e)&&PA())&&Qm(ue.fromDom(e)).exists(ti),FN=lc,ok=Ts,LA=cc,vy=Cg("display","block table table-cell table-row table-caption list-item"),nk=zl,FA=Cr,yy=Wt,zA=_t,sk=ie,k1=e=>e===1,S1=e=>e===-1,E1=(e,t)=>{let n;for(;n=e(t);)if(!FA(n))return n;return null},q0=(e,t,n,s,i)=>{const c=new Ys(e,s),u=ok(e)||FA(e);let g;if(S1(t)){if(u&&(g=E1(c.prev.bind(c),!0),n(g)))return g;for(;g=E1(c.prev.bind(c),i);)if(n(g))return g}if(k1(t)){if(u&&(g=E1(c.next.bind(c),!0),n(g)))return g;for(;g=E1(c.next.bind(c),i);)if(n(g))return g}return null},HA=(e,t)=>{const n=i=>FN(i.dom),s=i=>i.dom===t;return lr(ue.fromDom(e),n,s).map(i=>i.dom).getOr(t)},Mp=(e,t)=>{for(;e&&e!==t;){if(vy(e))return e;e=e.parentNode}return null},km=(e,t,n)=>Mp(e.container(),n)===Mp(t.container(),n),wy=(e,t)=>{if(!t)return z.none();const n=t.container(),s=t.offset();return yy(n)?z.from(n.childNodes[s+e]):z.none()},rk=(e,t)=>{var n;const i=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),i},VA=(e,t,n)=>Mp(t,e)===Mp(n,e),ak=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let i=n;for(;i&&i!==t;){let c=i[s];if(c&&nk(c)&&(c=c[s]),ok(c)||LA(c)){if(VA(t,c,i))return c;break}if(sk(c))break;i=i.parentNode}return null},G0=Ze(rk,!0),K0=Ze(rk,!1),ik=(e,t,n)=>{let s;const i=Ze(ak,!0,t),c=Ze(ak,!1,t),u=n.startContainer,g=n.startOffset;if(Cr(u)){const v=zA(u)?u.parentNode:u,S=v.getAttribute("data-mce-caret");if(S==="before"&&(s=v.nextSibling,W0(s)))return G0(s);if(S==="after"&&(s=v.previousSibling,W0(s)))return K0(s)}if(!n.collapsed)return n;if(_t(u)){if(nk(u)){if(e===1){if(s=c(u),s)return G0(s);if(s=i(u),s)return K0(s)}if(e===-1){if(s=i(u),s)return K0(s);if(s=c(u),s)return G0(s)}return n}if(Pg(u)&&g>=u.data.length-1)return e===1&&(s=c(u),s)?G0(s):n;if(Ap(u)&&g<=1)return e===-1&&(s=i(u),s)?K0(s):n;if(g===u.data.length)return s=c(u),s?G0(s):n;if(g===0)return s=i(u),s?K0(s):n}return n},$A=(e,t)=>wy(e?0:-1,t).filter(ok),Jx=(e,t,n)=>{const s=ik(e,t,n);return e===-1?Ke.fromRangeStart(s):Ke.fromRangeEnd(s)},Cy=e=>z.from(e.getNode()).map(ue.fromDom),zN=e=>z.from(e.getNode(!0)).map(ue.fromDom),_y=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},ky=(e,t)=>{const n=km(e,t);return!n&&or(e.getNode())?!0:n},Yi=Ts,_f=_t,UA=Wt,Vl=or,Y0=ie,ZA=nt,Sy=it,Bc=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},lk=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,ck=(e,t)=>{if(k1(e)){if(Y0(t.previousSibling)&&!_f(t.previousSibling))return Ke.before(t);if(_f(t))return Ke(t,0)}if(S1(e)){if(Y0(t.nextSibling)&&!_f(t.nextSibling))return Ke.after(t);if(_f(t))return Ke(t,t.data.length)}return S1(e)?Vl(t)?Ke.before(t):Ke.after(t):Ke.before(t)},jA=(e,t)=>{const n=t.nextSibling;return n&&Y0(n)?_f(n)?Ke(n,0):Ke.before(n):Ey(1,Ke.after(t),e)},Ey=(e,t,n)=>{let s,i,c,u;if(!UA(n)||!t)return null;if(t.isEqual(Ke.after(n))&&n.lastChild){if(u=Ke.after(n.lastChild),S1(e)&&Y0(n.lastChild)&&UA(n.lastChild))return Vl(n.lastChild)?Ke.before(n.lastChild):u}else u=t;const g=u.container();let v=u.offset();if(_f(g)){if(S1(e)&&v>0)return Ke(g,--v);if(k1(e)&&v<g.length)return Ke(g,++v);s=g}else{if(S1(e)&&v>0&&(i=lk(g,v-1),Y0(i)))return!ZA(i)&&(c=q0(i,e,Sy,i),c)?_f(c)?Ke(c,c.data.length):Ke.after(c):_f(i)?Ke(i,i.data.length):Ke.before(i);if(k1(e)&&v<g.childNodes.length&&(i=lk(g,v),Y0(i)))return Vl(i)?jA(n,i):!ZA(i)&&(c=q0(i,e,Sy,i),c)?_f(c)?Ke(c,0):Ke.before(c):_f(i)?Ke(i,0):Ke.after(i);s=i||u.getNode()}if(s&&(k1(e)&&u.isAtEnd()||S1(e)&&u.isAtStart())&&(s=q0(s,e,qo,n,!0),Sy(s,n)))return ck(e,s);i=s&&q0(s,e,Sy,n);const S=ra(Co(Bc(g,n),Yi));return S&&(!i||!S.contains(i))?(k1(e)?u=Ke.after(S):u=Ke.before(S),u):i?ck(e,i):null},Sm=e=>({next:t=>Ey(1,t,e),prev:t=>Ey(-1,t,e)}),WA=(e,t,n)=>{const s=e?Ke.before(n):Ke.after(n);return xi(e,t,s)},HN=e=>or(e)?Ke.before(e):Ke.after(e),qA=e=>Ke.isTextPosition(e)?e.offset()===0:ie(e.getNode()),GA=e=>{if(Ke.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return ie(e.getNode(!0))},KA=(e,t)=>!Ke.isTextPosition(e)&&!Ke.isTextPosition(t)&&e.getNode()===t.getNode(!0),Sn=e=>!Ke.isTextPosition(e)&&or(e.getNode()),ev=(e,t,n)=>e?!KA(t,n)&&!Sn(t)&&GA(t)&&qA(n):!KA(n,t)&&qA(t)&&GA(n),xi=(e,t,n)=>{const s=Sm(t);return z.from(e?s.next(n):s.prev(n))},Mu=(e,t,n)=>xi(e,t,n).bind(s=>km(n,s,t)&&ev(e,n,s)?xi(e,t,s):z.some(s)),tv=(e,t,n,s)=>Mu(e,t,n).bind(i=>s(i)?tv(e,t,i,s):z.some(i)),Vg=(e,t)=>{const n=e?t.firstChild:t.lastChild;return _t(n)?z.some(Ke(n,e?0:n.data.length)):n?ie(n)?z.some(e?Ke.before(n):HN(n)):WA(e,t,n):z.none()},gl=Ze(xi,!0),uc=Ze(xi,!1),hl=Ze(Vg,!0),Zd=Ze(Vg,!1),Ay="_mce_caret",ud=e=>Wt(e)&&e.id===Ay,$g=(e,t)=>{let n=t;for(;n&&n!==e;){if(ud(n))return n;n=n.parentNode}return null},VN=e=>We(e.start),$N=e=>Qt(e,"rng"),UN=e=>Qt(e,"id"),$l=e=>Qt(e,"name"),YA=e=>Dt.isArray(e.start),ov=e=>!$l(e)&&bs(e.forward)?e.forward:!0,XA=(e,t)=>(Wt(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),ZN=(e,t)=>{const n=z.from(FE(e.getRoot(),t.start)),s=z.from(FE(e.getRoot(),t.end));return sr(n,s,(i,c)=>{const u=e.createRng();return u.setStart(i.container(),i.offset()),u.setEnd(c.container(),c.offset()),{range:u,forward:ov(t)}})},dk=(e,t)=>{var n;const i=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Vs);e.appendChild(i),t.setStart(i,0),t.setEnd(i,0)},jN=e=>!e.hasChildNodes(),WN=(e,t)=>Zd(e).fold(So,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),fs=(e,t,n)=>jN(t)&&$g(e,t)?(dk(t,n),!0):!1,X0=(e,t,n,s)=>{const i=n[t?"start":"end"],c=e.getRoot();if(i){let u=c,g=i[0];for(let v=i.length-1;u&&v>=1;v--){const S=u.childNodes;if(fs(c,u,s))return!0;if(i[v]>S.length-1)return fs(c,u,s)?!0:WN(u,s);u=S[i[v]]}_t(u)&&(g=Math.min(i[0],u.data.length)),Wt(u)&&(g=Math.min(i[0],u.childNodes.length)),t?s.setStart(u,g):s.setEnd(u,g)}return!0},Ty=e=>_t(e)&&e.data.length>0,uk=(e,t,n)=>{const s=e.get(n.id+"_"+t),i=s==null?void 0:s.parentNode,c=n.keep;if(s&&i){let u,g;if(t==="start"?c?s.hasChildNodes()?(u=s.firstChild,g=1):Ty(s.nextSibling)?(u=s.nextSibling,g=0):Ty(s.previousSibling)?(u=s.previousSibling,g=s.previousSibling.data.length):(u=i,g=e.nodeIndex(s)+1):(u=i,g=e.nodeIndex(s)):c?s.hasChildNodes()?(u=s.firstChild,g=1):Ty(s.previousSibling)?(u=s.previousSibling,g=s.previousSibling.data.length):(u=i,g=e.nodeIndex(s)):(u=i,g=e.nodeIndex(s)),!c){const v=s.previousSibling,S=s.nextSibling;Dt.each(Dt.grep(s.childNodes),M=>{_t(M)&&(M.data=M.data.replace(/\uFEFF/g,""))});let O;for(;O=e.get(n.id+"_"+t);)e.remove(O,!0);if(_t(S)&&_t(v)&&!Vo.browser.isOpera()){const M=v.data.length;v.appendData(S.data),e.remove(S),u=v,g=M}}return z.some(Ke(u,g))}else return z.none()},qN=(e,t)=>{const n=e.createRng();return X0(e,!0,t,n)&&X0(e,!1,t,n)?z.some({range:n,forward:ov(t)}):z.none()},GN=(e,t)=>{const n=uk(e,"start",t),s=uk(e,"end",t);return sr(n,s.or(n),(i,c)=>{const u=e.createRng();return u.setStart(XA(e,i.container()),i.offset()),u.setEnd(XA(e,c.container()),c.offset()),{range:u,forward:ov(t)}})},QA=(e,t)=>z.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),KN=(e,t)=>{const n=e.dom;if(t){if(YA(t))return qN(n,t);if(VN(t))return ZN(n,t);if(UN(t))return GN(n,t);if($l(t))return QA(n,t);if($N(t))return z.some({range:t.rng,forward:ov(t)})}return z.none()},Zo=(e,t,n)=>$0(e,t,n),mk=(e,t)=>{KN(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},md=e=>Wt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Ug=(e=>t=>e===t)(Ls),Em=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,A1=e=>!Em(e)&&!Ug(e)&&!ga(e),Oy=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},YN=e=>na(e,t=>{const n=Lg(t);return n?[ue.fromDom(n)]:[]}),XN=e=>Oy(e).length>1,QN=e=>Co(YN(e),kp),JN=e=>mn(e,"td[data-mce-selected],th[data-mce-selected]"),Rs=(e,t)=>{const n=JN(t);return n.length>0?n:QN(e)},kf=e=>Rs(Oy(e.selection.getSel()),ue.fromDom(e.getBody())),jd=(e,t)=>gu(e,"table",t),Ln=e=>{const t=e.startContainer,n=e.startOffset;return _t(t)?n===0?z.some(ue.fromDom(t)):z.none():z.from(t.childNodes[n]).map(ue.fromDom)},Ga=e=>{const t=e.endContainer,n=e.endOffset;return _t(t)?n===t.data.length?z.some(ue.fromDom(t)):z.none():z.from(t.childNodes[n-1]).map(ue.fromDom)},Am=e=>di(e).fold(Et([e]),t=>[e].concat(Am(t))),Tm=e=>om(e).fold(Et([e]),t=>No(t)==="br"?Nd(t).map(n=>[e].concat(Tm(n))).getOr([]):[e].concat(Tm(t))),Sf=(e,t)=>sr(Ln(t),Ga(t),(n,s)=>{const i=js(Am(e),Ze(bn,n)),c=js(Tm(e),Ze(bn,s));return i.isSome()&&c.isSome()}).getOr(!1),nv=(e,t,n,s)=>{const i=n,c=new Ys(n,i),u=Fo(e.schema.getMoveCaretBeforeOnEnterElements(),(v,S)=>!on(["td","th","table"],S.toLowerCase()));let g=n;do{if(_t(g)&&Dt.trim(g.data).length!==0){s?t.setStart(g,0):t.setEnd(g,g.data.length);return}if(u[g.nodeName]){s?t.setStartBefore(g):g.nodeName==="BR"?t.setEndBefore(g):t.setEndAfter(g);return}}while(g=s?c.next():c.prev());i.nodeName==="BODY"&&(s?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},Ny=e=>{const t=e.selection.getSel();return Qe(t)&&t.rangeCount>0},Ry=(e,t)=>{const n=kf(e);n.length>0?st(n,s=>{const i=s.dom,c=e.dom.createRng();c.setStartBefore(i),c.setEndAfter(i),t(c,!0)}):t(e.selection.getRng(),!1)},Q0=(e,t,n)=>{const s=V0(e,t);n(s),e.moveToBookmark(s)},J0=e=>A(e==null?void 0:e.nodeType),My=e=>Wt(e)&&!md(e)&&!ud(e)&&!vu(e),JA=(e,t)=>{if(My(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},e5=(e,t,n)=>{const{selection:s,dom:i}=e,c=s.getNode(),u=Ts(c);Q0(s,!0,()=>{t()}),u&&Ts(c)&&i.isChildOf(c,e.getBody())?e.selection.select(c):n(s.getStart())&&fk(i,s)},fk=(e,t)=>{var n,s;const i=t.getRng(),{startContainer:c,startOffset:u}=i,g=t.getNode();if(!JA(e,g)&&Wt(c)){const v=c.childNodes,S=e.getRoot();let O;if(u<v.length){const M=v[u];O=new Ys(M,(n=e.getParent(M,e.isBlock))!==null&&n!==void 0?n:S)}else{const M=v[v.length-1];O=new Ys(M,(s=e.getParent(M,e.isBlock))!==null&&s!==void 0?s:S),O.next(!0)}for(let M=O.current();M;M=O.next()){if(e.getContentEditable(M)==="false")return;if(_t(M)&&!gk(M)){i.setStart(M,0),t.setRng(i);return}}}},pk=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(Wt(e)||!gk(e))return e}},eb=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||wu(e,t),ua=(e,t,n)=>e.schema.isValidChild(t,n),gk=(e,t=!1)=>{if(Qe(e)&&_t(e)){const n=t?e.data.replace(/ /g," "):e.data;return mp(n)}else return!1},eR=e=>Qe(e)&&_t(e)&&e.length===0,tR=(e,t)=>{const n="[data-mce-cef-wrappable]",s=bi(e),i=Wc(s)?n:`${n},${s}`;return Tl(ue.fromDom(t),i)},hk=(e,t)=>{const n=e.dom;return My(t)&&n.getContentEditable(t)==="false"&&tR(e,t)&&n.select('[contenteditable="true"]',t).length===0},Bu=(e,t)=>Jt(e)?e(t):(Qe(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),By=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Bp=(e,t)=>{if(tn(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=dc(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},sv=(e,t,n)=>{const s=e.getStyle(t,n);return Bp(s,n)},bk=(e,t)=>{let n;return e.getParent(t,s=>Wt(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},rv=(e,t,n)=>e.getParents(t,n,e.getRoot()),Iy=(e,t,n)=>{const s=e.formatter.get(t);return Qe(s)&&Kn(s,n)},t5=(e,t)=>Iy(e,t,s=>{const i=c=>Jt(c)||c.length>1&&c.charAt(0)==="%";return Kn(["styles","attributes"],c=>_n(s,c).exists(u=>{const g=pe(u)?u:pa(u);return Kn(g,i)}))}),o5=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],i=c=>Fo(c,(u,g)=>Kn(s,v=>v===g));return Iy(e,t,c=>{const u=i(c);return Iy(e,n,g=>{const v=i(g);return wc(u,v)})})},Ef=e=>Lr(e,"block"),oR=e=>Ef(e)&&e.wrapper===!0,nR=e=>Ef(e)&&e.wrapper!==!0,Wd=e=>Lr(e,"selector"),ri=e=>Lr(e,"inline"),xk=e=>Wd(e)&&ri(e)&&Si(_n(e,"mixed"),!0),av=e=>Wd(e)&&e.expand!==!1&&!ri(e),sR=e=>{const t=[];let n=e;for(;n;){if(_t(n)&&n.data!==Vs||n.childNodes.length>1)return[];Wt(n)&&t.push(n),n=n.firstChild}return t},n5=e=>sR(e).length>0,vk=e=>ud(e.dom)&&n5(e.dom),tb=md,yk=rv,Af=gk,s5=eb,r5=e=>or(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,a5=(e,t)=>{let n=t;for(;n;){if(Wt(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},i5=(e,t,n,s)=>{const i=t.data;if(e){for(let c=n;c>0;c--)if(s(i.charAt(c-1)))return c}else for(let c=n;c<i.length;c++)if(s(i.charAt(c)))return c;return-1},l5=(e,t,n)=>i5(e,t,n,s=>Ug(s)||Em(s)),c5=(e,t,n)=>i5(e,t,n,A1),d5=(e,t,n,s,i,c)=>{let u;const g=e.getParent(n,M=>$h(M)||e.isBlock(M)),v=Qe(g)?g:t,S=(M,P,j)=>{const J=xf(e),G=i?J.backwards:J.forwards;return z.from(G(M,P,(se,ge)=>tb(se.parentNode)?-1:(u=se,j(i,se,ge)),v))};return S(n,s,l5).bind(M=>c?S(M.container,M.offset+(i?-1:0),c5):z.some(M)).orThunk(()=>u?z.some({container:u,offset:i?0:u.length}):z.none())},Zg=(e,t,n,s,i)=>{const c=s[i];_t(s)&&Wc(s.data)&&c&&(s=c);const u=yk(e,s);for(let g=0;g<u.length;g++)for(let v=0;v<t.length;v++){const S=t[v];if(!(Qe(S.collapsed)&&S.collapsed!==n.collapsed)&&Wd(S)&&e.is(u[g],S.selector))return u[g]}return s},wk=(e,t,n,s)=>{var i;let c=n;const u=e.getRoot(),g=t[0];if(Ef(g)&&(c=g.wrapper?null:e.getParent(n,g.block,u)),!c){const v=(i=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&i!==void 0?i:u;c=e.getParent(_t(n)?n.parentNode:n,S=>S!==u&&s5(e.schema,S),v)}if(c&&Ef(g)&&g.wrapper&&(c=yk(e,c,"ul,ol").reverse()[0]||c),!c)for(c=n;c&&c[s]&&!e.isBlock(c[s])&&(c=c[s],!By(c,"br")););return c||n},Ck=(e,t,n,s)=>{const i=n.parentNode;return Qe(n[s])?!1:i===t||tn(i)||e.isBlock(i)?!0:Ck(e,t,i,s)},Py=(e,t,n,s,i,c)=>{let u=n;const g=i?"previousSibling":"nextSibling",v=e.getRoot();if(_t(n)&&!Af(n)&&(i?s>0:s<n.data.length))return n;for(;u;){if($h(u))return n;if(!t[0].block_expand&&e.isBlock(u))return c?u:n;for(let S=u[g];S;S=S[g]){const O=_t(S)&&!Ck(e,v,S,g);if(!tb(S)&&!r5(S)&&!Af(S,O))return u}if(u===v||u.parentNode===v){n=u;break}u=u.parentNode}return n},Ly=e=>tb(e.parentNode)||tb(e),T1=(e,t,n,s={})=>{const{includeTrailingSpace:i=!1,expandToBlock:c=!0}=s,u=e.getParent(t.commonAncestorContainer,j=>$h(j)),g=Qe(u)?u:e.getRoot();let{startContainer:v,startOffset:S,endContainer:O,endOffset:M}=t;const P=n[0];return Wt(v)&&v.hasChildNodes()&&(v=$d(v,S),_t(v)&&(S=0)),Wt(O)&&O.hasChildNodes()&&(O=$d(O,t.collapsed?M:M-1),_t(O)&&(M=O.data.length)),v=a5(e,v),O=a5(e,O),Ly(v)&&(v=tb(v)?v:v.parentNode,t.collapsed?v=v.previousSibling||v:v=v.nextSibling||v,_t(v)&&(S=t.collapsed?v.length:0)),Ly(O)&&(O=tb(O)?O:O.parentNode,t.collapsed?O=O.nextSibling||O:O=O.previousSibling||O,_t(O)&&(M=t.collapsed?0:O.length)),t.collapsed&&(d5(e,g,v,S,!0,i).each(({container:G,offset:se})=>{v=G,S=se}),d5(e,g,O,M,!1,i).each(({container:G,offset:se})=>{O=G,M=se})),(ri(P)||P.block_expand)&&((!ri(P)||!_t(v)||S===0)&&(v=Py(e,n,v,S,!0,c)),(!ri(P)||!_t(O)||M===O.data.length)&&(O=Py(e,n,O,M,!1,c))),av(P)&&(v=Zg(e,n,t,v,"previousSibling"),O=Zg(e,n,t,O,"nextSibling")),(Ef(P)||Wd(P))&&(v=wk(e,n,v,"previousSibling"),O=wk(e,n,O,"nextSibling"),Ef(P)&&(e.isBlock(v)||(v=Py(e,n,v,S,!0,c),_t(v)&&(S=0)),e.isBlock(O)||(O=Py(e,n,O,M,!1,c),_t(O)&&(M=O.data.length)))),Wt(v)&&v.parentNode&&(S=e.nodeIndex(v),v=v.parentNode),Wt(O)&&O.parentNode&&(M=e.nodeIndex(O)+1,O=O.parentNode),{startContainer:v,startOffset:S,endContainer:O,endOffset:M}},D1=(e,t,n)=>{var s;const i=t.startOffset,c=$d(t.startContainer,i),u=t.endOffset,g=$d(t.endContainer,u-1),v=se=>{const ge=se[0];_t(ge)&&ge===c&&i>=ge.data.length&&se.splice(0,1);const _e=se[se.length-1];return u===0&&se.length>0&&_e===g&&_t(_e)&&se.splice(se.length-1,1),se},S=(se,ge,_e)=>{const Re=[];for(;se&&se!==_e;se=se[ge])Re.push(se);return Re},O=(se,ge)=>e.getParent(se,_e=>_e.parentNode===ge,ge),M=(se,ge,_e)=>{const Re=_e?"nextSibling":"previousSibling";for(let $e=se,dt=$e.parentNode;$e&&$e!==ge;$e=dt){dt=$e.parentNode;const At=S($e===se?$e:$e[Re],Re);At.length&&(_e||At.reverse(),n(v(At)))}};if(c===g)return n(v([c]));const P=(s=e.findCommonAncestor(c,g))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(c,g))return M(c,P,!0);if(e.isChildOf(g,c))return M(g,P);const j=O(c,P)||c,J=O(g,P)||g;M(c,j,!0);const G=S(j===c?j:j.nextSibling,"nextSibling",J===g?J.nextSibling:J);G.length&&n(v(G)),M(g,J)},u5=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],Fy=e=>xa(e)&&hg(e)===Vs,rR=(e,t,n,s)=>Qm(t).fold(()=>"skipping",i=>s==="br"||Fy(t)?"valid":j2(t)?"existing":ud(t.dom)?"caret":Kn(u5,c=>Tl(t,c))?"valid-block":!ua(e,n,s)||!ua(e,No(i),n)?"invalid-child":"valid"),_k=(e,t)=>{const n=T1(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},kk=(e,t,n,s,i,c)=>{const{uid:u=t,...g}=n;Vi(e,l1()),Hr(e,`${Qo()}`,u),Hr(e,`${bm()}`,s);const{attributes:v={},classes:S=[]}=i(u,g);if(sc(e,v),lp(e,S),c){S.length>0&&Hr(e,`${Vd()}`,S.join(","));const O=Pr(v);O.length>0&&Hr(e,`${vp()}`,O.join(","))}},m5=e=>{tr(e,l1()),er(e,`${Qo()}`),er(e,`${bm()}`),er(e,`${ji()}`);const t=zs(e,`${vp()}`).map(s=>s.split(",")).getOr([]),n=zs(e,`${Vd()}`).map(s=>s.split(",")).getOr([]);st(t,s=>er(e,s)),ll(e,n),er(e,`${Vd()}`),er(e,`${vp()}`)},zy=(e,t,n,s,i)=>{const c=ue.fromTag("span",e);return kk(c,t,n,s,i,!1),c},f5=(e,t,n,s,i,c)=>{const u=[],g=zy(e.getDoc(),n,c,s,i),v=nl(),S=()=>{v.clear()},O=()=>v.get().getOrThunk(()=>{const J=le(g);return u.push(J),v.set(J),J}),M=J=>{st(J,P)},P=J=>{switch(rR(e,J,"span",No(J))){case"invalid-child":{S();const se=Da(J);M(se),S();break}case"valid-block":{S(),kk(J,n,c,s,i,!0);break}case"valid":{const se=O();rp(J,se);break}}},j=J=>{const G=Yo(J,ue.fromDom);M(G)};return D1(e.dom,t,J=>{S(),j(J)}),u},Sk=(e,t,n,s)=>{e.undoManager.transact(()=>{const i=e.selection,c=i.getRng(),u=kf(e).length>0,g=Cs("mce-annotation");if(c.collapsed&&!u&&_k(e,c),i.getRng().collapsed&&!u){const v=zy(e.getDoc(),g,s,t,n.decorate);Qn(v,Ls),i.getRng().insertNode(v.dom),i.select(v.dom)}else Q0(i,!1,()=>{Ry(e,v=>{f5(e,v,g,t,n.decorate,s)})})})},p5=e=>{const t=zx();Fx(e,t);const n=W2(e,t),s=Xm("span"),i=c=>{st(c,u=>{s(u)?R(u):m5(u)})};return{register:(c,u)=>{t.register(c,u)},annotate:(c,u)=>{t.lookup(c).each(g=>{Sk(e,c,g,u)})},annotationChanged:(c,u)=>{n.addListener(c,u)},remove:c=>{xn(e,z.some(c)).each(({elements:u})=>{const g=e.selection.getBookmark();i(u),e.selection.moveToBookmark(g)})},removeAll:c=>{const u=e.selection.getBookmark();Un(Lx(e,c),(g,v)=>{i(g)}),e.selection.moveToBookmark(u)},getAll:c=>{const u=Lx(e,c);return jn(u,g=>Yo(g,v=>v.dom))}}},iv=e=>({getBookmark:Ze(Zo,e),moveToBookmark:Ze(mk,e)});iv.isBookmarkNode=md;const Ic=(e,t,n)=>n.collapsed?!1:Kn(n.getClientRects(),s=>X2(s,e,t)),Ek=(e,t)=>{const n=xa(t)?hg(t).length:Da(t).length+1;return e>n?n:e<0?0:e},aR=e=>df.range(e.start,Ek(e.soffset,e.start),e.finish,Ek(e.foffset,e.finish)),Ak=(e,t)=>!wg(t.dom)&&(Ii(e,t)||bn(e,t)),g5=e=>t=>Ak(e,t.start)&&Ak(e,t.finish),ob=e=>e.inline||Vo.browser.isFirefox(),nb=e=>df.range(ue.fromDom(e.startContainer),e.startOffset,ue.fromDom(e.endContainer),e.endOffset),iR=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?z.none():z.from(t.getRangeAt(0))).map(nb)},Dm=e=>{const t=Od(e);return iR(t.dom).filter(g5(e))},lR=(e,t)=>z.from(t).filter(g5(e)).map(aR),cR=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),z.some(t)}catch{return z.none()}},O1=e=>{const t=ob(e)?Dm(ue.fromDom(e.getBody())):z.none();e.bookmark=t.isSome()?t:e.bookmark},lv=e=>(e.bookmark?e.bookmark:z.none()).bind(n=>lR(ue.fromDom(e.getBody()),n)).bind(cR),Tk=e=>{lv(e).each(t=>e.selection.setRng(t))},Ip={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},uR=(e,t)=>(A(t)||(t=0),window.setTimeout(e,t)),mR=(e,t)=>(A(t)||(t=0),window.setInterval(e,t)),Oo={setEditorTimeout:(e,t,n)=>uR(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=mR(()=>{e.removed?window.clearInterval(s):t()},n);return s}},h5=(e,t)=>e.view(t).fold(Et([]),s=>{const i=e.owner(s),c=h5(e,i);return[s].concat(c)}),b5=(e,t)=>{const n=t.owner(e);return h5(t,n)};var fR=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?z.none():z.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(ue.fromDom)},owner:e=>uu(e)});const Qs=e=>{const t=op(),n=Bd(t),s=b5(e,fR),i=xo(e),c=yc(s,(u,g)=>{const v=xo(g);return{left:u.left+v.left,top:u.top+v.top}},{left:0,top:0});return pg(c.left+i.left+n.left,c.top+i.top+n.top)},x5=e=>e.type==="nodechange"&&e.selectionChange,v5=(e,t)=>{const n=()=>{t.throttle()};Ds.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Ds.DOM.unbind(document,"mouseup",n)})},pR=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},y5=(e,t)=>{pR(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{x5(n)||O1(e)})},Pp=e=>{const t=Xa(()=>{O1(e)},0);e.on("init",()=>{e.inline&&v5(e,t),y5(e,t)}),e.on("remove",()=>{t.cancel()})};let jg;const Dk=Ds.DOM,Ok=e=>Wt(e)&&Ip.isEditorUIElement(e),Nk=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Wr=(e,t)=>{const n=Z0(e);return Dk.getParent(t,i=>Ok(i)||(n?e.dom.is(i,n):!1))!==null},Rk=e=>{try{const t=ed(ue.fromDom(e.getElement()));return tf(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},Wg=(e,t)=>{const n=t.editor;Pp(n);const s=(c,u)=>{if(CA(c)&&c.inline!==!0){const g=ue.fromDom(c.getContainer());u(g,"tox-edit-focus")}},i=c=>{if(!c.iframeElement)return;const g=ue.fromDom(c.iframeElement),v=Qs(g),S=ic(window);(v.top<S.y||v.top>S.bottom-25)&&g.dom.scrollIntoView({block:"center"})};n.on("focusin",()=>{const c=e.focusedEditor;if(Nk(Rk(n))&&s(n,Vi),c!==n){c&&c.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:c}),n.focus(!0);const u=Jn().browser;n.inline!==!0&&(u.isSafari()||u.isChromium())&&i(n)}}),n.on("focusout",()=>{Oo.setEditorTimeout(n,()=>{const c=e.focusedEditor;(!Nk(Rk(n))||c!==n)&&s(n,tr),!Wr(n,Rk(n))&&c===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),jg||(jg=c=>{const u=e.activeEditor;u&&Qf(c).each(g=>{const v=g;v.ownerDocument===document&&v!==document.body&&!Wr(u,v)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},Dk.bind(document,"focusin",jg))},gR=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&jg&&(Dk.unbind(document,"focusin",jg),jg=null)},hR=e=>{e.on("AddEditor",Ze(Wg,e)),e.on("RemoveEditor",Ze(gR,e))},bR=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),xR=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,vR=e=>e.collapsed?z.from($d(e.startContainer,e.startOffset)).map(ue.fromDom):z.none(),yR=(e,t)=>vR(t).bind(n=>L0(n)?z.some(n):Ii(e,n)?z.none():z.some(e)),w5=(e,t)=>{yR(ue.fromDom(e.getBody()),t).bind(n=>hl(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},Hy=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},wR=e=>sp(e)||Tc(e).isSome(),Vy=e=>Qe(e.iframeElement)&&sp(ue.fromDom(e.iframeElement)),CR=e=>{const t=e.getBody();return t&&wR(ue.fromDom(t))},_R=e=>{const t=ed(ue.fromDom(e.getElement()));return tf(t).filter(n=>!Nk(n.dom)&&Wr(e,n.dom)).isSome()},Tf=e=>e.inline?CR(e):Vy(e),cv=e=>Tf(e)||_R(e),N1=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const i=u=>{lv(u).each(g=>{u.selection.setRng(g),s=g})};!Tf(e)&&e.hasEditableRoot()&&i(e);const c=bR(e,t.getNode());if(c&&e.dom.isChildOf(c,n)){xR(e,c)||Hy(n),Hy(c),e.hasEditableRoot()||i(e),w5(e,s),Lp(e);return}e.inline||(Vo.browser.isOpera()||Hy(n),e.getWin().focus()),(Vo.browser.isFirefox()||e.inline)&&(Hy(n),w5(e,s)),Lp(e)},Lp=e=>e.editorManager.setActive(e),$y=(e,t)=>{e.removed||(t?Lp(e):N1(e))},qt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||qt.metaKeyPressed(e),metaKeyPressed:e=>Vo.os.isMacOS()||Vo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},qd="data-mce-selected",R1="table,img,figure.image,hr,video,span.mce-preview-object,details",dv=Math.abs,M1=Math.round,Uy={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Mk=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Zy=(e,t)=>{const n=t.dom,s=t.getDoc(),i=document,c=t.getBody();let u,g,v,S,O,M,P,j,J,G,se,ge,_e,Re,$e;const dt=lt=>Qe(lt)&&(ix(lt)||n.is(lt,"figure.image")),At=lt=>cc(lt)||n.hasClass(lt,"mce-preview-object"),Gt=(lt,Tt)=>{if(Mk(lt)){const so=lt.touches[0];return dt(lt.target)&&!Ic(so.clientX,so.clientY,Tt)}else return dt(lt.target)&&!Ic(lt.clientX,lt.clientY,Tt)},Xe=lt=>{const Tt=lt.target;Gt(lt,t.selection.getRng())&&!lt.isDefaultPrevented()&&t.selection.select(Tt)},qe=lt=>n.hasClass(lt,"mce-preview-object")&&Qe(lt.firstElementChild)?[lt,lt.firstElementChild]:n.is(lt,"figure.image")?[lt.querySelector("img")]:[lt],mt=lt=>{const Tt=U_(t);return!Tt||t.mode.isReadOnly()||lt.getAttribute("data-mce-resize")==="false"||lt===t.getBody()?!1:n.hasClass(lt,"mce-preview-object")&&Qe(lt.firstElementChild)?Tl(ue.fromDom(lt.firstElementChild),Tt):Tl(ue.fromDom(lt),Tt)},Zt=(lt,Tt)=>{if(At(Tt))return lt.create("img",{src:Vo.transparentSrc});if(yu(Tt)){const rn=ar(S.name,"n")?Kt:jo,cn=Tt.cloneNode(!0);return rn(lt.select("tr",cn)).each(rs=>{const Vm=lt.select("td,th",rs);lt.setStyle(rs,"height",null),st(Vm,vh=>lt.setStyle(vh,"height",null))}),cn}else return Tt.cloneNode(!0)},io=(lt,Tt,so)=>{if(Qe(so)){const rn=qe(lt);st(rn,cn=>{cn.style[Tt]||!t.schema.isValid(cn.nodeName.toLowerCase(),Tt)?n.setStyle(cn,Tt,so):n.setAttrib(cn,Tt,""+so)})}},Jo=(lt,Tt,so)=>{io(lt,"width",Tt),io(lt,"height",so)},sn=lt=>{let Tt,so,rn,cn,rs;Tt=lt.screenX-M,so=lt.screenY-P,ge=Tt*S[2]+j,_e=so*S[3]+J,ge=ge<5?5:ge,_e=_e<5?5:_e,(dt(u)||At(u))&&Z_(t)!==!1?rn=!qt.modifierPressed(lt):rn=qt.modifierPressed(lt),rn&&(dv(Tt)>dv(so)?(_e=M1(ge*G),ge=M1(_e/G)):(ge=M1(_e/G),_e=M1(ge*G))),Jo(g,ge,_e),cn=S.startPos.x+Tt,rs=S.startPos.y+so,cn=cn>0?cn:0,rs=rs>0?rs:0,n.setStyles(v,{left:cn,top:rs,display:"block"}),v.innerHTML=ge+" &times; "+_e,Tt=c.scrollWidth-Re,so=c.scrollHeight-$e,Tt+so!==0&&n.setStyles(v,{left:cn-Tt,top:rs-so}),se||($s(t,u,j,J,"corner-"+S.name),se=!0)},Hn=()=>{const lt=se;se=!1,lt&&(io(u,"width",ge),io(u,"height",_e)),n.unbind(s,"mousemove",sn),n.unbind(s,"mouseup",Hn),i!==s&&(n.unbind(i,"mousemove",sn),n.unbind(i,"mouseup",Hn)),n.remove(g),n.remove(v),n.remove(O),hs(u),lt&&(GE(t,u,ge,_e,"corner-"+S.name),n.setAttrib(u,"style",n.getAttrib(u,"style"))),t.nodeChanged()},hs=lt=>{ao();const Tt=n.getPos(lt,c),so=Tt.x,rn=Tt.y,cn=lt.getBoundingClientRect(),rs=cn.width||cn.right-cn.left,Vm=cn.height||cn.bottom-cn.top;u!==lt&&(ai(),u=lt,ge=_e=0);const vh=t.dispatch("ObjectSelected",{target:lt});mt(lt)&&!vh.isDefaultPrevented()?Un(Uy,(Hc,Vf)=>{const ju=Vc=>{const $m=qe(u)[0];M=Vc.screenX,P=Vc.screenY,j=$m.clientWidth,J=$m.clientHeight,G=J/j,S=Hc,S.name=Vf,S.startPos={x:rs*Hc[0]+so,y:Vm*Hc[1]+rn},Re=c.scrollWidth,$e=c.scrollHeight,O=n.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(O,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=Zt(n,u),n.addClass(g,"mce-clonedresizable"),n.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",n.setStyles(g,{left:so,top:rn,margin:0}),Jo(g,rs,Vm),g.removeAttribute(qd),c.appendChild(g),n.bind(s,"mousemove",sn),n.bind(s,"mouseup",Hn),i!==s&&(n.bind(i,"mousemove",sn),n.bind(i,"mouseup",Hn)),v=n.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},j+" &times; "+J)};let bc=n.get("mceResizeHandle"+Vf);bc&&n.remove(bc),bc=n.add(c,"div",{id:"mceResizeHandle"+Vf,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Vf+"-resize; margin:0; padding:0"}),n.bind(bc,"mousedown",Vc=>{Vc.stopImmediatePropagation(),Vc.preventDefault(),ju(Vc)}),Hc.elm=bc,n.setStyles(bc,{left:rs*Hc[0]+so-bc.offsetWidth/2,top:Vm*Hc[1]+rn-bc.offsetHeight/2})}):ai(!1)},ma=Xa(hs,0),ai=(lt=!0)=>{ma.cancel(),ao(),u&&lt&&u.removeAttribute(qd),Un(Uy,(Tt,so)=>{const rn=n.get("mceResizeHandle"+so);rn&&(n.unbind(rn),n.remove(rn))})},vi=(lt,Tt)=>n.isChildOf(lt,Tt),Pt=lt=>{if(se||t.removed||t.composing)return;const Tt=lt.type==="mousedown"?lt.target:e.getNode(),so=zi(ue.fromDom(Tt),R1).map(cn=>cn.dom).filter(cn=>n.isEditable(cn.parentElement)||cn.nodeName==="IMG"&&n.isEditable(cn)).getOrUndefined(),rn=Qe(so)?n.getAttrib(so,qd,"1"):"1";if(st(n.select(`img[${qd}],hr[${qd}]`),cn=>{cn.removeAttribute(qd)}),Qe(so)&&vi(so,c)&&cv(t)){Fn();const cn=e.getStart(!0);if(vi(cn,so)&&vi(e.getEnd(!0),so)){n.setAttrib(so,qd,rn),ma.throttle(so);return}}ai()},ao=()=>{Un(Uy,lt=>{lt.elm&&(n.unbind(lt.elm),delete lt.elm)})},Fn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Fn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Pt),t.on("keyup compositionend",lt=>{u&&u.nodeName==="TABLE"&&Pt(lt)}),t.on("hide blur",ai),t.on("contextmenu longpress",Xe,!0)}),t.on("remove",ao),{isResizable:mt,showResizeRect:hs,hideResizeRect:ai,updateResizeRect:Pt,destroy:()=>{ma.cancel(),u=g=O=null}}},Bk=(e,t,n)=>{const s=Od(ue.fromDom(n));return O2(s.dom,e,t).map(i=>{const c=n.createRange();return c.setStart(i.start.dom,i.soffset),c.setEnd(i.finish.dom,i.foffset),c}).getOrUndefined()},jy=(e,t)=>Qe(e)&&Qe(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,sb=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},Ik=(e,t,n)=>sb(e,t,n)!==null,C5=(e,t,n)=>Ik(e,t,s=>s.nodeName===n),_5=(e,t)=>zl(e)&&!Ik(e,t,ud),uv=(e,t,n)=>{const s=t.parentNode;if(s){const i=new Ys(t,e.getParent(s,e.isBlock)||e.getRoot());let c;for(;c=i[n?"prev":"next"]();)if(or(c))return!0}return!1},k5=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},S5=(e,t)=>{let n=t;for(;n&&n!==e;){if(Ts(n))return!0;n=n.parentNode}return!1},Wy=(e,t,n,s,i)=>{const c=e.getRoot(),u=e.schema.getNonEmptyElements(),g=i.parentNode;let v,S;if(!g)return z.none();const O=e.getParent(g,e.isBlock)||c;if(s&&or(i)&&t&&e.isEmpty(O))return z.some(Ke(g,e.nodeIndex(i)));const M=new Ys(i,O);for(;S=M[s?"prev":"next"]();){if(e.getContentEditableParent(S)==="false"||_5(S,c))return z.none();if(_t(S)&&S.data.length>0)return C5(S,c,"A")?z.none():z.some(Ke(S,s?S.data.length:0));if(e.isBlock(S)||u[S.nodeName.toLowerCase()])return z.none();v=S}return Ml(v)?z.none():n&&v?z.some(Ke(v,0)):z.none()},Pk=(e,t,n,s)=>{const i=e.getRoot();let c,u=!1,g=n?s.startContainer:s.endContainer,v=n?s.startOffset:s.endOffset;const S=Wt(g)&&v===g.childNodes.length,O=e.schema.getNonEmptyElements();let M=n;if(zl(g))return z.none();if(Wt(g)&&v>g.childNodes.length-1&&(M=!1),mf(g)&&(g=i,v=0),g===i){if(M&&(c=g.childNodes[v>0?v-1:0],c&&(zl(c)||O[c.nodeName]||yu(c))))return z.none();if(g.hasChildNodes()){if(v=Math.min(!M&&v>0?v-1:v,g.childNodes.length-1),g=g.childNodes[v],v=_t(g)&&S?g.data.length:0,!t&&g===i.lastChild&&yu(g)||S5(i,g)||zl(g)||Uh(g))return z.none();if(g.hasChildNodes()&&!yu(g)){c=g;const P=new Ys(g,i);do{if(Ts(c)||zl(c)){u=!1;break}if(_t(c)&&c.data.length>0){v=M?0:c.data.length,g=c,u=!0;break}if(O[c.nodeName.toLowerCase()]&&!lx(c)){v=e.nodeIndex(c),g=c.parentNode,M||v++,u=!0;break}}while(c=M?P.next():P.prev())}}}return t&&(_t(g)&&v===0&&Wy(e,S,t,!0,g).each(P=>{g=P.container(),v=P.offset(),u=!0}),Wt(g)&&(c=g.childNodes[v],c||(c=g.childNodes[v-1]),c&&or(c)&&!k5(c,"A")&&!uv(e,c,!1)&&!uv(e,c,!0)&&Wy(e,S,t,!0,c).each(P=>{g=P.container(),v=P.offset(),u=!0}))),M&&!t&&_t(g)&&v===g.data.length&&Wy(e,S,t,!1,g).each(P=>{g=P.container(),v=P.offset(),u=!0}),u&&g?z.some(Ke(g,v)):z.none()},Iu=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),i=Ke.fromRangeStart(t);return Pk(e,n,!0,s).each(c=>{(!n||!Ke.isAbove(i,c))&&s.setStart(c.container(),c.offset())}),n||Pk(e,n,!1,s).each(c=>{s.setEnd(c.container(),c.offset())}),n&&s.collapse(!0),jy(t,s)?z.none():z.some(s)},Om=(e,t)=>e.splitText(t),Pc=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,i=e.endOffset;if(t===s&&_t(t)){if(n>0&&n<t.data.length)if(s=Om(t,n),t=s.previousSibling,i>n){i=i-n;const c=Om(s,i).previousSibling;t=s=c,i=c.data.length,n=0}else i=0}else if(_t(t)&&n>0&&n<t.data.length&&(t=Om(t,n),n=0),_t(s)&&i>0&&i<s.data.length){const c=Om(s,i).previousSibling;s=c,i=c.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:i}},Fp=e=>({walk:(c,u)=>D1(e,c,u),split:Pc,expand:(c,u={type:"word"})=>{if(u.type==="word"){const g=T1(e,c,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),v=e.createRng();return v.setStart(g.startContainer,g.startOffset),v.setEnd(g.endContainer,g.endOffset),v}return c},normalize:c=>Iu(e,c).fold(So,u=>(c.setStart(u.startContainer,u.startOffset),c.setEnd(u.endContainer,u.endOffset),!0))});Fp.compareRanges=jy,Fp.getCaretRangeFromPoint=Bk,Fp.getSelectedNode=Lg,Fp.getNode=$d;const mv=e=>No(e)==="textarea",E5=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),A5=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},T5=(e,t)=>{const n=Da(e);if(n.length===0||mv(e))return{element:e,offset:t};if(t<n.length&&!mv(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return mv(s)?{element:e,offset:t}:No(s)==="img"?{element:s,offset:1}:xa(s)?{element:s,offset:hg(s).length}:{element:s,offset:Da(s).length}}},qy=(e,t)=>{const n=ac(e),s=ox(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},D5=(e,t)=>{const n=T5(e,t),s=ue.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Vs+"</span>");return ei(n.element,s),qy(s,()=>k(s))},O5=e=>qy(ue.fromDom(e),To),Gy=(e,t,n,s)=>{N5(e,(i,c)=>Pu(e,t,n,s),n)},Nm=(e,t,n,s,i)=>{const c={elm:s.element.dom,alignToTop:i};if(E5(e,c))return;const u=Bd(t).top;n(e,t,u,s,i),A5(e,c)},Pu=(e,t,n,s)=>{const i=ue.fromDom(e.getBody()),c=ue.fromDom(e.getDoc());tx(i);const u=D5(ue.fromDom(n.startContainer),n.startOffset);Nm(e,c,t,u,s),u.cleanup()},fv=(e,t,n,s)=>{const i=ue.fromDom(e.getDoc());Nm(e,i,n,O5(t),s)},N5=(e,t,n)=>{const s=n.startContainer,i=n.startOffset,c=n.endContainer,u=n.endOffset;t(ue.fromDom(s),ue.fromDom(c));const g=e.dom.createRng();g.setStart(s,i),g.setEnd(c,u),e.selection.setRng(n)},rb=(e,t,n,s,i)=>{const c=t.pos,u=30;if(s)gg(c.left,Math.max(0,c.top-u),i);else{const g=c.top-n+t.height+u;gg(-e.getBody().getBoundingClientRect().left,g,i)}},Lk=(e,t,n,s,i,c)=>{const u=s+n,g=i.pos.top,v=i.bottom,S=v-g>=s;g<n?rb(e,i,s,c!==!1,t):g>u?rb(e,i,s,S?c!==!1:c===!0,t):v>u&&!S&&rb(e,i,s,c===!0,t)},Fk=(e,t,n,s,i)=>{const c=Od(t).dom.innerHeight;Lk(e,t,n,c,s,i)},zk=(e,t,n,s,i)=>{const c=Od(t).dom.innerHeight;Lk(e,t,n,c,s,i);const u=Qs(s.element),g=ic(window);u.top<g.y?sx(s.element,i!==!1):u.top>g.bottom&&sx(s.element,i===!0)},R5=(e,t,n)=>Gy(e,Fk,t,n),M5=(e,t,n)=>fv(e,t,Fk,n),B5=(e,t,n)=>Gy(e,zk,t,n),Ky=(e,t,n)=>fv(e,t,zk,n),Hk=(e,t,n)=>{(e.inline?M5:Ky)(e,t,n)},ab=(e,t,n)=>{(e.inline?R5:B5)(e,t,n)},Yy=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),I5=(e,t,n,s,i)=>{const c=n?t.startContainer:t.endContainer,u=n?t.startOffset:t.endOffset;return z.from(c).map(ue.fromDom).map(g=>!s||!t.collapsed?Rd(g,i(g,u)).getOr(g):g).bind(g=>fr(g)?z.some(g):Ec(g).filter(fr)).map(g=>g.dom).getOr(e)},P5=(e,t,n=!1)=>I5(e,t,!0,n,(s,i)=>Math.min(Jm(s),i)),L5=(e,t,n=!1)=>I5(e,t,!1,n,(s,i)=>i>0?i-1:i),F5=(e,t)=>{const n=e;for(;e&&_t(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},kR=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const i=t.startOffset,c=t.endOffset;let u=t.commonAncestorContainer;t.collapsed||(n===s&&c-i<2&&n.hasChildNodes()&&(u=n.childNodes[i]),_t(n)&&_t(s)&&(n.length===i?n=F5(n.nextSibling,!0):n=n.parentNode,c===0?s=F5(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(u=n)));const g=_t(u)?u.parentNode:u;return pi(g)?g:e},SR=(e,t,n,s)=>{const i=[],c=e.getRoot(),u=e.getParent(n||P5(c,t,t.collapsed),e.isBlock),g=e.getParent(s||L5(c,t,t.collapsed),e.isBlock);if(u&&u!==c&&i.push(u),u&&g&&u!==g){let v;const S=new Ys(u,c);for(;(v=S.next())&&v!==g;)e.isBlock(v)&&i.push(v)}return g&&u!==g&&g!==c&&i.push(g),i},Xy=(e,t,n)=>z.from(t).bind(s=>z.from(s.parentNode).map(i=>{const c=e.nodeIndex(s),u=e.createRng();return u.setStart(i,c),u.setEnd(i,c+1),n&&(nv(e,u,s,!0),nv(e,u,s,!1)),u})),pv=(e,t)=>Yo(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),z5={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ib=(e,t,n)=>{const s=n?"lastChild":"firstChild",i=n?"prev":"next";if(e[s])return e[s];if(e!==t){let c=e[i];if(c)return c;for(let u=e.parent;u&&u!==t;u=u.parent)if(c=u[i],c)return c}},ER=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!mp(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},H5=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Ul{static create(t,n){const s=new Ul(t,z5[t]||1);return n&&Un(n,(i,c)=>{s.attr(c,i)}),s}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!We(t))return Qe(t)&&Un(t,(c,u)=>{s.attr(u,c)}),s;const i=s.attributes;if(i){if(n!==void 0){if(n===null){if(t in i.map){delete i.map[t];let c=i.length;for(;c--;)if(i[c].name===t)return i.splice(c,1),s}return s}if(t in i.map){let c=i.length;for(;c--;)if(i[c].name===t){i[c].value=n;break}}else i.push({name:t,value:n});return i.map[t]=n,s}return i.map[t]}}clone(){const t=this,n=new Ul(t.name,t.type),s=t.attributes;if(s){const i=[];i.map={};for(let c=0,u=s.length;c<u;c++){const g=s[c];g.name!=="id"&&(i[i.length]={name:g.name,value:g.value},i.map[g.name]=g.value)}n.attributes=i}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,i=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):i&&(i.next=s),n.lastChild===t?(n.lastChild=i,i&&(i.next=null)):s&&(s.prev=i),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const i=n.parent||this;return s?(n===i.firstChild?i.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===i.lastChild?i.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=i,t}getAll(t){const n=this,s=[];for(let i=n.firstChild;i;i=ib(i,n))i.name===t&&s.push(i);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let i=t.firstChild;i;i=ib(i,t))n.push(i);let s=n.length;for(;s--;){const i=n[s];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var i;const c=this;let u=c.firstChild;if(H5(c))return!1;if(u)do{if(u.type===1){if(u.attr("data-mce-bogus"))continue;if(t[u.name]||H5(u))return!1}if(u.type===8||u.type===3&&!ER(u)||u.type===3&&u.parent&&n[u.parent.name]&&mp((i=u.value)!==null&&i!==void 0?i:"")||s&&s(u))return!1}while(u=ib(u,c));return!0}walk(t){return ib(this,null,t)}}const AR=Dt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),V5=e=>We(e.nodeValue)&&e.nodeValue.includes(Vs),$5=e=>`${e.length===0?"":`${Yo(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,Qy=(e,t)=>t.querySelectorAll($5(e)),gv=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>V5(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),hv=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(V5(t)){const n=t.parentNode;return n&&Qt(AR,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),TR=e=>gv(e).nextNode()!==null,DR=e=>hv(e).nextNode()!==null,OR=(e,t)=>t.querySelector($5(e))!==null,NR=(e,t)=>{st(Qy(e,t),n=>{const s=ue.fromDom(n);Oa(s,"data-mce-bogus")==="all"?k(s):st(e,i=>{Js(s,i)&&er(s,i)})})},U5=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},RR=$n(U5,gv),Lu=$n(U5,hv),Vk=(e,t)=>{const n=[{condition:Ze(OR,t),action:Ze(NR,t)},{condition:TR,action:RR},{condition:DR,action:Lu}];let s=e,i=!1;return st(n,({condition:c,action:u})=>{c(s)&&(i||(s=e.cloneNode(!0),i=!0),u(s))}),s},Z5=e=>{const t=mn(e,"[data-mce-bogus]");st(t,n=>{Oa(n,"data-mce-bogus")==="all"?k(n):Wi(n)?(ei(n,ue.fromText(Ea)),k(n)):R(n)})},$k=e=>{const t=mn(e,"input");st(t,n=>{er(n,"name")})},MR=(e,t)=>{const n=Ni(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},BR=(e,t)=>{const n=e.getDoc(),s=ed(ue.fromDom(e.getBody())),i=ue.fromTag("div",n);Hr(i,"data-mce-bogus","all"),pu(i,{position:"fixed",left:"-9999999px",top:"0"}),Qn(i,t.innerHTML),Z5(i),$k(i);const c=Ja(s);Zn(c,i);const u=pl(i.dom.innerText);return k(i),u},Xi=(e,t,n)=>{let s;return t.format==="raw"?s=Dt.trim(pl(Vk(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=BR(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=MR(e,e.serializer.serialize(n,t)),t.format!=="text"&&!u1(ue.fromDom(n))&&We(s)?Dt.trim(s):s},IR=(e,t)=>z.from(e.getBody()).fold(Et(t.format==="tree"?new Ul("body",11):""),n=>Xi(e,t,n)),j5=Dt.makeMap,W5=e=>{const t=[];e=e||{};const n=e.indent,s=j5(e.indent_before||""),i=j5(e.indent_after||""),c=fm.getEncodeFunc(e.entity_encoding||"raw",e.entities),u=e.element_format!=="xhtml";return{start:(g,v,S)=>{if(n&&s[g]&&t.length>0){const O=t[t.length-1];O.length>0&&O!==`
`&&t.push(`
`)}if(t.push("<",g),v)for(let O=0,M=v.length;O<M;O++){const P=v[O];t.push(" ",P.name,'="',c(P.value,!0),'"')}if(!S||u?t[t.length]=">":t[t.length]=" />",S&&n&&i[g]&&t.length>0){const O=t[t.length-1];O.length>0&&O!==`
`&&t.push(`
`)}},end:g=>{let v;t.push("</",g,">"),n&&i[g]&&t.length>0&&(v=t[t.length-1],v.length>0&&v!==`
`&&t.push(`
`))},text:(g,v)=>{g.length>0&&(t[t.length]=v?g:c(g))},cdata:g=>{t.push("<![CDATA[",g,"]]>")},comment:g=>{t.push("<!--",g,"-->")},pi:(g,v)=>{v?t.push("<?",g," ",c(v),"?>"):t.push("<?",g,"?>"),n&&t.push(`
`)},doctype:g=>{t.push("<!DOCTYPE",g,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},qg=(e={},t=gf())=>{const n=W5(e);return e.validate="validate"in e?e.validate:!0,{serialize:i=>{const c=e.validate,u={3:v=>{var S;n.text((S=v.value)!==null&&S!==void 0?S:"",v.raw)},8:v=>{var S;n.comment((S=v.value)!==null&&S!==void 0?S:"")},7:v=>{n.pi(v.name,v.value)},10:v=>{var S;n.doctype((S=v.value)!==null&&S!==void 0?S:"")},4:v=>{var S;n.cdata((S=v.value)!==null&&S!==void 0?S:"")},11:v=>{let S=v;if(S=S.firstChild)do g(S);while(S=S.next)}};n.reset();const g=v=>{var S;const O=u[v.type];if(O)O(v);else{const M=v.name,P=M in t.getVoidElements();let j=v.attributes;if(c&&j&&j.length>1){const J=[];J.map={};const G=t.getElementRule(v.name);if(G){for(let se=0,ge=G.attributesOrder.length;se<ge;se++){const _e=G.attributesOrder[se];if(_e in j.map){const Re=j.map[_e];J.map[_e]=Re,J.push({name:_e,value:Re})}}for(let se=0,ge=j.length;se<ge;se++){const _e=j[se].name;if(!(_e in J.map)){const Re=j.map[_e];J.map[_e]=Re,J.push({name:_e,value:Re})}}j=J}}if(n.start(M,j,P),gp(M))We(v.value)&&n.text(v.value,!0),n.end(M);else if(!P){let J=v.firstChild;if(J){(M==="pre"||M==="textarea")&&J.type===3&&((S=J.value)===null||S===void 0?void 0:S[0])===`
`&&n.text(`
`,!0);do g(J);while(J=J.next)}n.end(M)}}};return i.type===1&&!e.inner?g(i):i.type===3?u[3](i):u[11](i),n.getContent()}}},bv=new Set;st(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{bv.add(t)});const Jy=new Set;st(["background-color"],t=>{Jy.add(t)});const Uk=["font","text-decoration","text-emphasis"],ew=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),B1=(e,t)=>Pr(ew(e,t)),q5=e=>bv.has(e),G5=e=>Jy.has(e),K5=(e,t)=>Kn(B1(e,t),n=>q5(n)),PR=(e,t)=>K5(e,t)&&Kn(B1(e,t),n=>G5(n)),LR=e=>Co(e,t=>Kn(Uk,n=>ar(t,n))),FR=(e,t,n)=>{const s=B1(e,t),i=B1(e,n),c=u=>{var g,v;const S=(g=e.getStyle(t,u))!==null&&g!==void 0?g:"",O=(v=e.getStyle(n,u))!==null&&v!==void 0?v:"";return La(S)&&La(O)&&S!==O};return Kn(s,u=>{const g=v=>Kn(v,S=>S===u);if(!g(i)&&g(Uk)){const v=LR(i);return Kn(v,c)}else return c(u)})},xv=(e,t,n)=>z.from(n.container()).filter(_t).exists(s=>{const i=e?0:-1;return t(s.data.charAt(n.offset()+i))}),tw=Ze(xv,!0,Em),ow=Ze(xv,!1,Em),Y5=e=>{const t=e.container();return _t(t)&&(t.data.length===0||p1(t.data)&&iv.isBookmarkNode(t.parentNode))},Gg=(e,t)=>n=>wy(e?0:-1,n).filter(t).isSome(),X5=e=>ix(e)&&rc(ue.fromDom(e),"display")==="block",nw=e=>Ts(e)&&!N2(e),Zk=Gg(!0,X5),jk=Gg(!1,X5),vv=Gg(!0,cc),yv=Gg(!1,cc),Q5=Gg(!0,yu),Wk=Gg(!1,yu),zp=Gg(!0,nw),Kg=Gg(!1,nw),zR=e=>e.slice(0,-1),HR=(e,t,n)=>Ii(t,e)?zR(Ah(e,s=>n(s)||bn(s,t))):[],J5=(e,t)=>HR(e,t,So),Hp=(e,t)=>[e].concat(J5(e,t)),Yg=(e,t,n)=>tv(e,t,n,Y5),sw=e=>t=>e.isBlock(No(t)),qk=(e,t,n)=>js(Hp(ue.fromDom(t.container()),e),sw(n)),Gk=(e,t,n,s)=>Yg(e,t.dom,n).forall(i=>qk(t,n,s).fold(()=>!km(i,n,t.dom),c=>!km(i,n,t.dom)&&Ii(c,ue.fromDom(i.container())))),rw=(e,t,n,s)=>qk(t,n,s).fold(()=>Yg(e,t.dom,n).forall(i=>!km(i,n,t.dom)),i=>Yg(e,i.dom,n).isNone()),Kk=Ze(rw,!1),eT=Ze(rw,!0),VR=Ze(Gk,!1),Gd=Ze(Gk,!0),wv=e=>Cy(e).exists(Wi),aw=(e,t,n,s)=>{const i=Co(Hp(ue.fromDom(n.container()),t),u=>s.isBlock(No(u))),c=Kt(i).getOr(t);return xi(e,c.dom,n).filter(wv)},lb=(e,t,n)=>Cy(t).exists(Wi)||aw(!0,e,t,n).isSome(),Xg=(e,t,n)=>zN(t).exists(Wi)||aw(!1,e,t,n).isSome(),tT=Ze(aw,!1),cb=Ze(aw,!0),os=e=>Ke.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),db=(e,t,n)=>{const s=Co(Hp(ue.fromDom(t.container()),e),i=>n.isBlock(No(i)));return Kt(s).getOr(e)},Yk=(e,t,n)=>os(t)?ow(t):ow(t)||uc(db(e,t,n).dom,t).exists(ow),Xk=(e,t,n)=>os(t)?tw(t):tw(t)||gl(db(e,t,n).dom,t).exists(tw),iw=e=>on(["pre","pre-wrap"],e),Cv=e=>Cy(e).bind(t=>Vr(t,fr)).exists(t=>iw(rc(t,"white-space"))),Qk=(e,t)=>uc(e.dom,t).isNone(),Jk=(e,t)=>gl(e.dom,t).isNone(),e4=(e,t,n)=>Qk(e,t)||Jk(e,t)||Kk(e,t,n)||eT(e,t,n)||Xg(e,t,n)||lb(e,t,n),lw=e=>Qe(e)&&Ts(e)&&vy(e),cw=(e,t)=>n=>lw(new Ys(n,e)[t]()),oT=(e,t)=>{const n=gl(e.dom,t).getOr(t),s=cw(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},nT=(e,t)=>{const n=uc(e.dom,t).getOr(t),s=cw(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},t4=(e,t,n)=>Cv(t)?!1:e4(e,t,n)||Yk(e,t,n)||Xk(e,t,n),ub=(e,t,n)=>Cv(t)?!1:Kk(e,t,n)||VR(e,t,n)||Xg(e,t,n)||Yk(e,t,n)||nT(e,t),sT=e=>{const t=e.container(),n=e.offset();return _t(t)&&n<t.data.length?Ke(t,n+1):e},Df=(e,t,n)=>Cv(t)?!1:eT(e,t,n)||Gd(e,t,n)||lb(e,t,n)||Xk(e,t,n)||oT(e,t),dw=(e,t,n)=>ub(e,t,n)||Df(e,sT(t),n),uw=(e,t)=>Ug(e.charAt(t)),rT=(e,t)=>Em(e.charAt(t)),$R=e=>{const t=e.container();return _t(t)&&Dr(t.data,Ls)},aT=e=>{const t=e.split("");return Yo(t,(n,s)=>Ug(n)&&s>0&&s<t.length-1&&A1(t[s-1])&&A1(t[s+1])?" ":n).join("")},o4=(e,t,n,s)=>{const i=t.data,c=Ke(t,0);return!n&&uw(i,0)&&!dw(e,c,s)?(t.data=" "+i.slice(1),!0):n&&rT(i,0)&&ub(e,c,s)?(t.data=Ls+i.slice(1),!0):!1},iT=e=>{const t=e.data,n=aT(t);return n!==t?(e.data=n,!0):!1},_v=(e,t,n,s)=>{const i=t.data,c=Ke(t,i.length-1);return!n&&uw(i,i.length-1)&&!dw(e,c,s)?(t.data=i.slice(0,-1)+" ",!0):n&&rT(i,i.length-1)&&Df(e,c,s)?(t.data=i.slice(0,-1)+Ls,!0):!1},lT=(e,t,n)=>{const s=t.container();if(!_t(s))return z.none();if($R(t)){const i=o4(e,s,!1,n)||iT(s)||_v(e,s,!1,n);return rr(i,t)}else if(dw(e,t,n)){const i=o4(e,s,!0,n)||_v(e,s,!0,n);return rr(i,t)}else return z.none()},cT=e=>{const t=ue.fromDom(e.getBody());e.selection.isCollapsed()&&lT(t,Ke.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},n4=(e,t,n,s)=>{if(n===0)return;const i=ue.fromDom(e),c=lr(i,S=>s.isBlock(No(S))).getOr(i),u=e.data.slice(t,t+n),g=t+n>=e.data.length&&Df(c,Ke(e,e.data.length),s),v=t===0&&ub(c,Ke(e,0),s);e.replaceData(t,n,zh(u,4,v,g))},kv=(e,t,n)=>{const s=e.data.slice(t),i=s.length-jf(s).length;n4(e,t,i,n)},mw=(e,t,n)=>{const s=e.data.slice(0,t),i=s.length-In(s).length;n4(e,t-i,i,n)},fw=(e,t,n,s,i=!0)=>{const c=In(e.data).length,u=i?e:t,g=i?t:e;return i?u.appendData(g.data):u.insertData(0,g.data),k(ue.fromDom(g)),s&&kv(u,c,n),u},dT=(e,t)=>{const n=e.container(),s=e.offset();return!Ke.isTextPosition(e)&&n===t.parentNode&&s>Ke.before(t).offset()},uT=(e,t)=>dT(t,e)?Ke(t.container(),t.offset()-1):t,mT=e=>_t(e)?Ke(e,0):Ke.before(e),fT=e=>_t(e)?Ke(e,e.data.length):Ke.after(e),pw=e=>ie(e.previousSibling)?z.some(fT(e.previousSibling)):e.previousSibling?Zd(e.previousSibling):z.none(),s4=e=>ie(e.nextSibling)?z.some(mT(e.nextSibling)):e.nextSibling?hl(e.nextSibling):z.none(),pT=(e,t)=>z.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>uc(e,Ke.before(n))).orThunk(()=>gl(e,Ke.after(t))),gT=(e,t)=>gl(e,Ke.after(t)).orThunk(()=>uc(e,Ke.before(t))),hT=(e,t)=>pw(t).orThunk(()=>s4(t)).orThunk(()=>pT(e,t)),bT=(e,t)=>s4(t).orThunk(()=>pw(t)).orThunk(()=>gT(e,t)),xT=(e,t,n)=>e?bT(t,n):hT(t,n),vT=(e,t,n)=>xT(e,t,n).map(Ze(uT,n)),gw=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},hw=e=>t=>t.dom===e,yT=(e,t)=>t&&Qt(e.schema.getBlockElements(),No(t)),wT=(e,t,n)=>{if(Ai(e,t)){const s=ue.fromHtml('<br data-mce-bogus="1">');return n?st(Da(t),i=>{vk(i)||k(i)}):fu(t),Zn(t,s),z.some(Ke.before(s.dom))}else return z.none()},bw=(e,t,n,s)=>{const i=Nd(e).filter(xa),c=Jc(e).filter(xa);return k(e),su(i,c,t,(u,g,v)=>{const S=u.dom,O=g.dom,M=S.data.length;return fw(S,O,n,s),v.container()===O?Ke(S,M):v}).orThunk(()=>(s&&(i.each(u=>mw(u.dom,u.dom.length,n)),c.each(u=>kv(u.dom,0,n))),t))},r4=(e,t)=>Qt(e.schema.getTextInlineElements(),No(t)),Rm=(e,t,n,s=!0,i=!1)=>{const c=vT(t,e.getBody(),n.dom),u=lr(n,Ze(yT,e),hw(e.getBody())),g=bw(n,c,e.schema,r4(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):u.bind(v=>wT(e.schema,v,i)).fold(()=>{s&&gw(e,t,g)},v=>{s&&gw(e,t,z.some(v))})},a4=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,CT=e=>a4.test(e),Fu=(e,t)=>Tl(ue.fromDom(t),cA(e))&&!wu(e.schema,t)&&e.dom.isEditable(t),xw=e=>{var t;return Ds.DOM.getStyle(e,"direction",!0)==="rtl"||CT((t=e.textContent)!==null&&t!==void 0?t:"")},i4=(e,t,n)=>Co(Ds.DOM.getParents(n.container(),"*",t),e),Kd=(e,t,n)=>{const s=i4(e,t,n);return z.from(s[s.length-1])},Qg=(e,t,n)=>{const s=Mp(t,e),i=Mp(n,e);return Qe(s)&&s===i},_T=e=>Ig(e)||Ep(e),Yd=(e,t)=>{const n=t.container(),s=t.offset();return e?ym(n)?_t(n.nextSibling)?Ke(n.nextSibling,0):Ke.after(n):Ig(t)?Ke(n,s+1):t:ym(n)?_t(n.previousSibling)?Ke(n.previousSibling,n.previousSibling.data.length):Ke.before(n):Ep(t)?Ke(n,s-1):t},kT=Ze(Yd,!0),l4=Ze(Yd,!1),c4=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},ST=e=>{e.execCommand("delete")},Mm=e=>c4(e,"Delete"),Jg=e=>c4(e,"ForwardDelete"),ET=e=>t=>Si(Ec(t),e,bn),AT=e=>_p(e)||xm(e),vw=(e,t)=>Ii(e,t)?Vr(t,AT,ET(e)):z.none(),d4=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},TT=(e,t,n)=>sr(hl(n),Zd(n),(s,i)=>{const c=Yd(!0,s),u=Yd(!1,i),g=Yd(!1,t);return e?gl(n,g).exists(v=>v.isEqual(u)&&t.isEqual(c)):uc(n,g).exists(v=>v.isEqual(c)&&t.isEqual(u))}).getOr(!0),mc=e=>(us(e)?Nd(e):om(e)).bind(mc).orThunk(()=>z.some(e)),Xd=(e,t,n,s=!0)=>{var i;t.deleteContents();const c=mc(n).getOr(n),u=ue.fromDom((i=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&i!==void 0?i:n.dom);if(u.dom===e.getBody()?d4(e,s):Ai(e.schema,u,{checkRootAsContent:!1})&&(Au(u),s&&e.selection.setCursorLocation(u.dom,0)),!bn(n,u)){const g=Si(Ec(u),n)?[]:Li(u);st(g.concat(Da(n)),v=>{!bn(v,u)&&!Ii(v,u)&&Ai(e.schema,v)&&k(v)})}},DT=e=>t=>bn(e,t),Sv=e=>mn(e,"td,th"),yw=(e,t)=>jd(ue.fromDom(e),t),ww=e=>sr(e.startTable,e.endTable,(t,n)=>{const s=am(t,c=>bn(c,n)),i=am(n,c=>bn(c,t));return!s&&!i?e:{...e,startTable:s?z.none():e.startTable,endTable:i?z.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),UR=e=>ww(e),OT=(e,t)=>{const n=yw(e.startContainer,t),s=yw(e.endContainer,t),i=n.isSome(),c=s.isSome(),u=sr(n,s,bn).getOr(!1);return UR({startTable:n,endTable:s,isStartInTable:i,isEndInTable:c,isSameTable:u,isMultiTable:!u&&i&&c})},I1=(e,t)=>({start:e,end:t}),ZR=(e,t,n)=>({rng:e,table:t,cells:n}),eh=ka.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),mb=(e,t)=>zi(ue.fromDom(e),"td,th",t),u4=e=>!bn(e.start,e.end),fb=(e,t)=>jd(e.start,t).bind(n=>jd(e.end,t).bind(s=>rr(bn(n,s),n))),jR=(e,t)=>!u4(e)&&fb(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),WR=(e,t)=>{const n=mb(e.startContainer,t),s=mb(e.endContainer,t);return sr(n,s,I1)},Bm=e=>t=>jd(t,e).bind(n=>jo(Sv(n)).map(s=>I1(t,s))),Lc=e=>t=>jd(t,e).bind(n=>Kt(Sv(n)).map(s=>I1(s,t))),P1=e=>t=>fb(t,e).map(n=>ZR(t,n,Sv(n))),m4=(e,t,n,s)=>{if(n.collapsed||!e.forall(u4))return z.none();if(t.isSameTable){const i=e.bind(P1(s));return z.some({start:i,end:i})}else{const i=mb(n.startContainer,s),c=mb(n.endContainer,s),u=i.bind(Bm(s)).bind(P1(s)),g=c.bind(Lc(s)).bind(P1(s));return z.some({start:u,end:g})}},fc=(e,t)=>ur(e,n=>bn(n,t)),ps=e=>sr(fc(e.cells,e.rng.start),fc(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),qR=(e,t,n)=>e.exists(s=>jR(s,n)&&Sf(s.start,t)),th=(e,t)=>{const{startTable:n,endTable:s}=t,i=e.cloneRange();return n.each(c=>i.setStartAfter(c.dom)),s.each(c=>i.setEndBefore(c.dom)),i},Ev=(e,t,n,s)=>m4(e,t,n,s).bind(({start:i,end:c})=>i.or(c)).bind(i=>{const{isSameTable:c}=t,u=ps(i).getOr([]);if(c&&i.cells.length===u.length)return z.some(eh.fullTable(i.table));if(u.length>0){if(c)return z.some(eh.partialTable(u,z.none()));{const g=th(n,t);return z.some(eh.partialTable(u,z.some({...t,rng:g})))}}else return z.none()}),NT=(e,t,n,s)=>m4(e,t,n,s).bind(({start:i,end:c})=>{const u=i.bind(ps).getOr([]),g=c.bind(ps).getOr([]);if(u.length>0&&g.length>0){const v=th(n,t);return z.some(eh.multiTable(u,g,v))}else return z.none()}),f4=(e,t)=>{const n=DT(e),s=WR(t,n),i=OT(t,n);return qR(s,t,n)?s.map(c=>eh.singleCellTable(t,c.start)):i.isMultiTable?NT(s,i,t,n):Ev(s,i,t,n)},Cw=e=>st(e,t=>{er(t,"contenteditable"),Au(t)}),GR=(e,t)=>z.from(e.dom.getParent(t,e.dom.isBlock)).map(ue.fromDom),p4=(e,t,n)=>{n.each(s=>{t?k(s):(Au(s),e.selection.setCursorLocation(s.dom,0))})},g4=(e,t,n,s)=>{const i=n.cloneRange();s?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(t.dom.lastChild)):(i.setStartBefore(t.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),_w(e,i,t,!1).each(c=>c())},h4=e=>{const t=kf(e),n=ue.fromDom(e.selection.getNode());sd(n.dom)&&Ai(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Kn(t,s=>bn(s,n))&&Hr(n,"data-mce-selected","1")},b4=(e,t,n)=>z.some(()=>{const s=e.selection.getRng(),i=n.bind(({rng:c,isStartInTable:u})=>{const g=GR(e,u?c.endContainer:c.startContainer);c.deleteContents(),p4(e,u,g.filter(Ze(Ai,e.schema)));const v=u?t[0]:t[t.length-1];return g4(e,v,s,u),Ai(e.schema,v)?z.none():z.some(u?t.slice(1):t.slice(0,-1))}).getOr(t);Cw(i),h4(e)}),x4=(e,t,n,s)=>z.some(()=>{const i=e.selection.getRng(),c=t[0],u=n[n.length-1];g4(e,c,i,!0),g4(e,u,i,!1);const g=Ai(e.schema,c)?t:t.slice(1),v=Ai(e.schema,u)?n:n.slice(0,-1);Cw(g.concat(v)),s.deleteContents(),h4(e)}),_w=(e,t,n,s=!0)=>z.some(()=>{Xd(e,t,n,s)}),kw=(e,t)=>z.some(()=>Rm(e,!1,t)),KR=(e,t,n)=>f4(t,n).bind(s=>s.fold(Ze(_w,e),Ze(kw,e),Ze(b4,e),Ze(x4,e))),YR=(e,t)=>Ew(e,t),XR=(e,t,n,s)=>Sw(t,s).fold(()=>KR(e,t,n),i=>YR(e,i)),QR=(e,t,n)=>{const s=ue.fromDom(e.getBody()),i=e.selection.getRng();return n.length!==0?b4(e,n,z.none()):XR(e,s,i,t)},RT=(e,t)=>js(Hp(t,e),kp),Sw=(e,t)=>js(Hp(t,e),Xm("caption")),JR=(e,t,n,s,i)=>Mu(n,e.getBody(),i).bind(c=>RT(t,ue.fromDom(c.getNode())).bind(u=>bn(u,s)?z.none():z.some(To))),Ew=(e,t)=>z.some(()=>{Au(t),e.selection.setCursorLocation(t.dom,0)}),MT=(e,t,n,s)=>hl(e.dom).bind(i=>Zd(e.dom).map(c=>t?n.isEqual(i)&&s.isEqual(c):n.isEqual(c)&&s.isEqual(i))).getOr(!0),eM=(e,t)=>Ew(e,t),BT=(e,t,n)=>Sw(e,ue.fromDom(n.getNode())).fold(()=>z.some(To),s=>rr(!bn(s,t),To)),tM=(e,t,n,s,i)=>Mu(n,e.getBody(),i).fold(()=>z.some(To),c=>MT(s,n,i,c)?eM(e,s):BT(t,s,c)),oM=(e,t,n,s)=>{const i=Ke.fromRangeStart(e.selection.getRng());return RT(n,s).bind(c=>Ai(e.schema,c,{checkRootAsContent:!1})?Ew(e,c):JR(e,n,t,c,i))},IT=(e,t,n,s)=>{const i=Ke.fromRangeStart(e.selection.getRng());return Ai(e.schema,s)?Ew(e,s):tM(e,n,t,s,i)},fd=(e,t)=>e?Q5(t):Wk(t),nM=(e,t)=>{const n=Ke.fromRangeStart(e.selection.getRng());return fd(t,n)||xi(t,e.getBody(),n).exists(s=>fd(t,s))},PT=(e,t,n)=>{const s=ue.fromDom(e.getBody());return Sw(s,n).fold(()=>oM(e,t,s,n).orThunk(()=>rr(nM(e,t),To)),i=>IT(e,t,s,i))},Av=(e,t)=>{const n=ue.fromDom(e.selection.getStart(!0)),s=kf(e);return e.selection.isCollapsed()&&s.length===0?PT(e,t,n):QR(e,n,s)},Vp=(e,t)=>{let n=t;for(;n&&n!==e;){if(lc(n)||Ts(n))return n;n=n.parentNode}return null},LT=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],FT=Dt.each,Aw=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(c,u)=>{if(c.nodeName!==u.nodeName||c.nodeType!==u.nodeType)return!1;const g=S=>{const O={};return FT(t.getAttribs(S),M=>{const P=M.nodeName.toLowerCase();P!=="style"&&!i(P)&&(O[P]=t.getAttrib(S,P))}),O},v=(S,O)=>{for(const M in S)if(Qt(S,M)){const P=O[M];if(wn(P)||S[M]!==P)return!1;delete O[M]}for(const M in O)if(Qt(O,M))return!1;return!0};return Wt(c)&&Wt(u)&&(!v(g(c),g(u))||!v(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(u,"style"))))?!1:!md(c)&&!md(u)},i=c=>Kn(LT,u=>ar(c,u))||n.has(c);return{compare:s,isAttributeInternal:i}},v4=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),pd=e=>e.name==="summary",sM=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},Tw=(e,t,n,s)=>{const i=n.name;for(let c=0,u=e.length;c<u;c++){const g=e[c];if(g.name===i){const v=s.nodes[i];v?v.nodes.push(n):s.nodes[i]={filter:g,nodes:[n]}}}if(n.attributes)for(let c=0,u=t.length;c<u;c++){const g=t[c],v=g.name;if(v in n.attributes.map){const S=s.attributes[v];S?S.nodes.push(n):s.attributes[v]={filter:g,nodes:[n]}}}},rM=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&sM(n,i=>{Tw(e,t,i,s)}),s},Dw=(e,t)=>{const n=(s,i)=>{Un(s,c=>{const u=xs(c.nodes);st(c.filter.callbacks,g=>{for(let v=u.length-1;v>=0;v--){const S=u[v];(!(i?S.attr(c.filter.name)!==void 0:S.name===c.filter.name)||tn(S.parent))&&u.splice(v,1)}u.length>0&&g(u,c.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},Qd=(e,t,n,s={})=>{const i=rM(e,t,n);Dw(i,s)},Tv=(e,t,n,s)=>{if((e.pad_empty_with_br||t.insert)&&n(s)){const c=new Ul("br",1);t.insert&&c.attr("data-mce-bogus","1"),s.empty().append(c)}else s.empty().append(new Ul("#text",3)).value=Ls},Ow=e=>{var t;return y4(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Ls},y4=(e,t)=>{const n=e==null?void 0:e.firstChild;return Qe(n)&&n===e.lastChild&&n.name===t},aM=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},L1=(e,t,n,s)=>s.isEmpty(t,n,i=>aM(e,i)),zT=(e,t)=>Qe(e)&&(t(e)||e.name==="br"),w4=e=>{let t;for(let n=e;n;n=n.parent){const s=n.attr("contenteditable");if(s==="false")break;s==="true"&&(t=n)}return z.from(t)},Nw=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const i of s)n&&!t.isValidChild(n.name,i.name)&&Nw(i,t,n);e.unwrap()}},$p=(e,t,n,s=To)=>{const i=t.getTextBlockElements(),c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),g=Dt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),v=new Set,S=O=>O!==n&&!g[O.name];for(let O=0;O<e.length;O++){const M=e[O];let P,j,J;if(!M.parent||v.has(M))continue;if(i[M.name]&&M.parent.name==="li"){let se=M.next;for(;se&&i[se.name];){se.name="li",v.add(se),M.parent.insert(se,M.parent);se=se.next}M.unwrap();continue}const G=[M];for(P=M.parent;P&&!t.isValidChild(P.name,M.name)&&S(P);P=P.parent)G.push(P);if(P&&G.length>1)if(Rw(t,M,P))Nw(M,t);else{G.reverse(),j=G[0].clone(),s(j);let se=j;for(let ge=0;ge<G.length-1;ge++){t.isValidChild(se.name,G[ge].name)&&ge>0?(J=G[ge].clone(),s(J),se.append(J)):J=se;for(let _e=G[ge].firstChild;_e&&_e!==G[ge+1];){const Re=_e.next;J.append(_e),_e=Re}se=J}L1(t,c,u,j)?P.insert(M,G[0],!0):(P.insert(j,G[0],!0),P.insert(M,j)),P=G[0],(L1(t,c,u,P)||y4(P,"br"))&&P.empty().remove()}else if(M.parent){if(M.name==="li"){let se=M.prev;if(se&&(se.name==="ul"||se.name==="ol")){se.append(M);continue}if(se=M.next,se&&(se.name==="ul"||se.name==="ol")&&se.firstChild){se.insert(M,se.firstChild,!0);continue}const ge=new Ul("ul",1);s(ge),M.wrap(ge);continue}if(t.isValidChild(M.parent.name,"div")&&t.isValidChild("div",M.name)){const se=new Ul("div",1);s(se),M.wrap(se)}else Nw(M,t)}}},HT=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},Rw=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&HT(n,"a")?!0:pd(n)&&v4(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,VT=(e,t,n,s)=>{const i=document.createRange();return i.setStart(e,t),i.setEnd(n,s),i},iM=e=>{const t=Ke.fromRangeStart(e),n=Ke.fromRangeEnd(e),s=e.commonAncestorContainer;return xi(!1,s,n).map(i=>!km(t,n,s)&&km(t,i,s)?VT(t.container(),t.offset(),i.container(),i.offset()):e).getOr(e)},Dv=e=>e.collapsed?e:iM(e),oh=e=>Qe(e.firstChild)&&e.firstChild===e.lastChild,lM=e=>e.name==="br"||e.value===Ls,cM=(e,t)=>e.getBlockElements()[t.name]&&oh(t)&&lM(t.firstChild),Mw=(e,t)=>{const n=e.getNonEmptyElements();return Qe(t)&&(t.isEmpty(n)||cM(e,t))},$T=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),Mw(e,s)&&(s=s==null?void 0:s.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},UT=e=>{var t,n;const s=e.firstChild,i=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),i&&i.id==="mce_marker"&&((n=i.parentNode)===null||n===void 0||n.removeChild(i)),e},ZT=(e,t,n)=>{const s=t.serialize(n),i=e.createFragment(s);return UT(i)},Bw=e=>{var t;return Co((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},jT=e=>e.data===Ls||or(e),WT=e=>Qe(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&jT(e.firstChild),dM=e=>!e.firstChild||WT(e),Iw=e=>e.length>0&&dM(e[e.length-1])?e.slice(0,-1):e,Pw=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},Lw=(e,t)=>!!Pw(e,t),qT=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},C4=(e,t)=>{const n=Ke.before(e),i=Sm(t).next(n);return i?i.toRange():null},_4=(e,t)=>{const n=Ke.after(e),i=Sm(t).prev(n);return i?i.toRange():null},Ov=(e,t,n,s)=>{const i=qT(e,s),c=e.parentNode;return c&&(c.insertBefore(i[0],e),Dt.each(t,u=>{c.insertBefore(u,e)}),c.insertBefore(i[1],e),c.removeChild(e)),_4(t[t.length-1],n)},Im=(e,t,n)=>{const s=e.parentNode;return s&&Dt.each(t,i=>{s.insertBefore(i,e)}),C4(e,n)},uM=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),_4(t[0],n)),k4=(e,t,n,s)=>{const i=ZT(t,e,s),c=Pw(t,n.startContainer),u=Iw(Bw(i.firstChild)),g=1,v=2,S=t.getRoot(),O=M=>{const P=Ke.fromRangeStart(n),j=Sm(t.getRoot()),J=M===g?j.prev(P):j.next(P),G=J==null?void 0:J.getNode();return G?Pw(t,G)!==c:!0};return c?O(g)?Im(c,u,S):O(v)?uM(c,u,S,t):Ov(c,u,S,n):null},kr=["pre"],S4=(e,t,n,s)=>{var i;const c=t.firstChild,u=t.lastChild,g=u.attr("data-mce-type")==="bookmark"?u.prev:u,v=c===g,S=on(kr,c.name);if(v&&S){const O=c.attr("contenteditable")!=="false",M=((i=e.getParent(n,e.isBlock))===null||i===void 0?void 0:i.nodeName.toLowerCase())===c.name,P=z.from(Vp(s,n)).forall(lc);return O&&M&&P}else return!1},pb=sd,Up=(e,t,n)=>{if(Qe(n)){const s=e.getParent(t.endContainer,pb);return n===s&&Sf(ue.fromDom(n),t)}else return!1},GT=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const n=t.childNodes;return n.length===1&&or(n[0])||n.length===0}else return!1},E4=(e,t,n)=>{var s;n.getAttribute("data-mce-bogus")==="all"?(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n):GT(e.dom,n)?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})},mM=(e,t,n)=>{z.from(e.getParent(t,"td,th")).map(ue.fromDom).each(s=>f1(s,n))},gb=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const i=e.getBody(),c=Aw(e),u="*[data-mce-fragment]",g=s.select(u);Dt.each(g,v=>{const S=P=>Qe(n[P.nodeName.toLowerCase()]),O=P=>P.childNodes.length===1;if((P=>!(K5(s,P)||PR(s,P)))(v)&&S(v)&&O(v)){const P=B1(s,v),j=(ge,_e)=>hn(ge,Re=>on(_e,Re)),J=ge=>O(v)&&s.is(ge,u)&&S(ge)&&(ge.nodeName===v.nodeName&&j(P,B1(s,ge))||J(ge.children[0])),G=ge=>Qe(ge)&&ge!==i&&(c.compare(v,ge)||G(ge.parentElement)),se=ge=>Qe(ge)&&ge!==i&&s.is(ge,u)&&(FR(s,v,ge)||se(ge.parentElement));(J(v.children[0])||G(v.parentElement)&&!se(v.parentElement))&&s.remove(v,!0)}})}},fM=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},pM=e=>{Dt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},hb=e=>!!e.getAttribute("data-mce-fragment"),gM=(e,t)=>Qe(t)&&!e.schema.getVoidElements()[t.nodeName],F1=(e,t)=>{var n,s,i;let c;const u=e.dom,g=e.selection;if(!t)return;g.scrollIntoView(t);const v=Vp(e.getBody(),t);if(v&&u.getContentEditable(v)==="false"){u.remove(t),g.select(v);return}let S=u.createRng();const O=t.previousSibling;if(_t(O)){S.setStart(O,(s=(n=O.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const j=t.nextSibling;_t(j)&&(O.appendData(j.data),(i=j.parentNode)===null||i===void 0||i.removeChild(j))}else S.setStartBefore(t),S.setEndBefore(t);const M=j=>{let J=Ke.fromRangeStart(j);return J=Sm(e.getBody()).next(J),J==null?void 0:J.toRange()},P=u.getParent(t,u.isBlock);if(u.remove(t),P&&u.isEmpty(P)){const j=pb(P);fu(ue.fromDom(P)),S.setStart(P,0),S.setEnd(P,0),!j&&!hb(P)&&(c=M(S))?(S=c,u.remove(P)):u.add(P,u.create("br",j?{}:{"data-mce-bogus":"1"}))}g.setRng(S)},hM=e=>{const t=e.dom,n=Dv(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,pb);Up(t,n,s)?_w(e,n,ue.fromDom(s)):bM(n)||nh(n)?n.deleteContents():e.getDoc().execCommand("Delete",!1)},nh=e=>gd(e,_t),bM=e=>gd(e,pp),gd=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),z1=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return z.some(t);return z.none()},Nv=(e,t,n)=>{var s;return Kn(n.children(),v4)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},A4=(e,t,n)=>{var s,i;const c=e.selection,u=e.dom,g=e.parser,v=n.merge,S=qg({validate:!0},e.schema),O='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=pl(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,O);let M=c.getRng();const P=M.startContainer,j=e.getBody();P===j&&c.isCollapsed()&&u.isBlock(j.firstChild)&&gM(e,j.firstChild)&&u.isEmpty(j.firstChild)&&(M=u.createRng(),M.setStart(j.firstChild,0),M.setEnd(j.firstChild,0),c.setRng(M)),c.isCollapsed()||hM(e);const J=c.getNode(),G={context:J.nodeName.toLowerCase(),data:n.data,insert:!0},se=g.parse(t,G);if(n.paste===!0&&$T(e.schema,se)&&Lw(u,J))return M=k4(S,u,c.getRng(),se),M&&c.setRng(M),t;n.paste===!0&&S4(u,se,J,e.getBody())&&((s=se.firstChild)===null||s===void 0||s.unwrap()),fM(se);let ge=se.lastChild;if(ge&&ge.attr("id")==="mce_marker"){const _e=ge;for(ge=ge.prev;ge&&ge.name!=="table";ge=ge.walk(!0))if(ge.type===3||!u.isBlock(ge.name)){ge.parent&&e.schema.isValidChild(ge.parent.name,"span")&&ge.parent.insert(_e,ge,ge.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(J),!G.invalid&&!Nv(u,J,se))t=S.serialize(se),E4(e,t,J);else{e.selection.setContent(O);let _e=c.getNode(),Re;const $e=e.getBody();for(mf(_e)?_e=Re=$e:Re=_e;Re&&Re!==$e;)_e=Re,Re=Re.parentNode;t=_e===$e?$e.innerHTML:u.getOuterHTML(_e);const dt=g.parse(t),At=z1(dt),Gt=At.bind(w4).getOr(dt);At.each(Zt=>Zt.replace(se));const Xe=se.children(),qe=(i=se.parent)!==null&&i!==void 0?i:dt;se.unwrap();const mt=Co(Xe,Zt=>Rw(e.schema,Zt,qe));$p(mt,e.schema,Gt),Qd(g.getNodeFilters(),g.getAttributeFilters(),dt),t=S.serialize(dt),_e===$e?u.setHTML($e,t):u.setOuterHTML(_e,t)}return gb(e,v),F1(e,u.get("mce_marker")),pM(e.getBody()),mM(u,c.getStart(),e.schema),px(e.schema,e.getBody(),c.getStart()),t},Fw=e=>e instanceof Ul,bb=e=>{Tf(e)&&hl(e.getBody()).each(t=>{const n=t.getNode(),s=yu(n)?hl(n).getOr(t):t;e.selection.setRng(s.toRange())})},T4=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&bb(e)},zu=(e,t,n,s)=>{if(n=pl(n),n.length===0||/^\s+$/.test(n)){const i='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>");const c=Ni(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(n=i,n=e.dom.createHTML(c,v1(e),n)):n||(n=i),T4(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=qg({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const i=u1(ue.fromDom(t))?n:Dt.trim(n);return T4(e,i,s.no_selection),{content:i,html:i}}},zw=(e,t,n,s)=>{Qd(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const i=qg({validate:!1},e.schema).serialize(n),c=pl(u1(ue.fromDom(t))?i:Dt.trim(i));return T4(e,c,s.no_selection),{content:n,html:c}},KT=(e,t,n)=>z.from(e.getBody()).map(s=>Fw(t)?zw(e,s,t,n):zu(e,s,t,n)).getOr({content:t,html:Fw(n.content)?"":n.content}),Rv=By,Hw=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let i=0;i<s.length;i++){const c=s[i];if(Wd(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},Zp=(e,t,n,s,i)=>{const c=e.dom.getRoot();if(t===c)return!1;const u=e.dom.getParent(t,g=>Hw(e,g,n)?!0:g.parentNode===c||!!Of(e,g,n,s,!0));return!!Of(e,u,n,s,i)},xb=(e,t,n)=>ri(n)&&Rv(t,n.inline)||Ef(n)&&Rv(t,n.block)?!0:Wd(n)?Wt(t)&&e.is(t,n.selector):!1,YT=(e,t,n,s,i,c)=>{const u=n[s],g=s==="attributes";if(Jt(n.onmatch))return n.onmatch(t,n,s);if(u){if(Jl(u)){for(let v=0;v<u.length;v++)if(g?e.getAttrib(t,u[v]):sv(e,t,u[v]))return!0}else for(const v in u)if(Qt(u,v)){const S=g?e.getAttrib(t,v):sv(e,t,v),O=Bu(u[v],c),M=tn(S)||Wc(S);if(M&&tn(O))continue;if(i&&M&&!n.exact||(!i||n.exact)&&!Rv(S,Bp(O,v)))return!1}}return!0},Of=(e,t,n,s,i)=>{const c=e.formatter.get(n),u=e.dom;if(c&&Wt(t))for(let g=0;g<c.length;g++){const v=c[g];if(xb(e.dom,t,v)&&YT(u,t,v,"attributes",i,s)&&YT(u,t,v,"styles",i,s)){const S=v.classes;if(S){for(let O=0;O<S.length;O++)if(!e.dom.hasClass(t,Bu(S[O],s)))return}return v}}},D4=(e,t,n,s,i)=>{if(s)return Zp(e,s,t,n,i);if(s=e.selection.getNode(),Zp(e,s,t,n,i))return!0;const c=e.selection.getStart();return!!(c!==s&&Zp(e,c,t,n,i))},xM=(e,t,n)=>{const s=[],i={},c=e.selection.getStart();return e.dom.getParent(c,u=>{for(let g=0;g<t.length;g++){const v=t[g];!i[v]&&Of(e,u,v,n)&&(i[v]=!0,s.push(v))}},e.dom.getRoot()),s},vb=(e,t)=>{const n=i=>bn(i,ue.fromDom(e.getBody())),s=(i,c)=>Of(e,i.dom,c)?z.some(c):z.none();return z.from(e.selection.getStart(!0)).bind(i=>dp(ue.fromDom(i),c=>Ir(t,u=>s(c,u)),n)).getOrNull()},Pm=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n&&e.selection.isEditable()){const i=e.selection.getStart(),c=rv(s,i);for(let u=n.length-1;u>=0;u--){const g=n[u];if(!Wd(g))return!0;for(let v=c.length-1;v>=0;v--)if(s.is(c[v],g.selector))return!0}}return!1},vM=(e,t,n)=>ws(n,(s,i)=>{const c=t5(e,i);return e.formatter.matchNode(t,i,{},c)?s.concat([i]):s},[]),Mv=Vs,yM=(e,t)=>e.importNode(t,!0),XT=e=>{if(e){const t=new Ys(e,e);for(let n=t.current();n;n=t.next())if(_t(n))return n}return null},O4=e=>{const t=ue.fromTag("span");return sc(t,{id:Ay,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Zn(t,ue.fromText(Mv)),t},wM=e=>{const t=XT(e);return t&&t.data.charAt(0)===Mv&&t.deleteData(0,1),t},N4=(e,t,n)=>{const s=e.dom,i=e.selection;if(n5(t))Rm(e,!1,ue.fromDom(t),n,!0);else{const c=i.getRng(),u=s.getParent(t,s.isBlock),g=c.startContainer,v=c.startOffset,S=c.endContainer,O=c.endOffset,M=wM(t);s.remove(t,!0),g===M&&v>0&&c.setStart(M,v-1),S===M&&O>0&&c.setEnd(M,O-1),u&&s.isEmpty(u)&&Au(ue.fromDom(u)),i.setRng(c)}},R4=(e,t,n)=>{const s=e.dom,i=e.selection;if(t)N4(e,t,n);else if(t=$g(e.getBody(),i.getStart()),!t)for(;t=s.get(Ay);)N4(e,t,n)},CM=(e,t,n)=>{var s,i;const c=e.dom,u=c.getParent(n,Ze(eb,e.schema));u&&c.isEmpty(u)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(m1(ue.fromDom(n)),c.isEmpty(n)?(i=n.parentNode)===null||i===void 0||i.replaceChild(t,n):c.insertAfter(t,n))},QT=(e,t)=>(e.appendChild(t),t),JT=(e,t)=>{var n;const s=yc(e,(c,u)=>QT(c,u.cloneNode(!1)),t),i=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return QT(s,i.createTextNode(Mv))},_M=(e,t,n,s,i,c)=>{const u=e.formatter,g=e.dom,v=Co(Pr(u.get()),M=>M!==s&&!Dr(M,"removeformat")),S=vM(e,n,v);if(Co(S,M=>!o5(e,M,s)).length>0){const M=n.cloneNode(!1);return g.add(t,M),u.remove(s,i,M,c),g.remove(M),z.some(M)}else return z.none()},e6=e=>Ol(e,hg(e).replace(new RegExp(`${Ls}$`)," ")),t6=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&Nd(ue.fromDom(t)).each(s=>{xa(s)?e6(s):il(s,i=>xa(i)).each(i=>{xa(i)&&e6(i)})})};e.once("input",s=>{s.data&&!Em(s.data)&&(s.isComposing?e.once("compositionend",()=>{n()}):n())})},kM=(e,t,n)=>{let s;const i=e.selection,c=e.formatter.get(t);if(!c)return;const u=i.getRng();let g=u.startOffset;const S=u.startContainer.nodeValue;s=$g(e.getBody(),i.getStart());const O=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(S&&g>0&&g<S.length&&O.test(S.charAt(g))&&O.test(S.charAt(g-1))){const M=i.getBookmark();u.collapse(!0);let P=T1(e.dom,u,c);P=Pc(P),e.formatter.apply(t,n,P),i.moveToBookmark(M)}else{let M=s?XT(s):null;(!s||(M==null?void 0:M.data)!==Mv)&&(s=yM(e.getDoc(),O4(!0).dom),M=s.firstChild,u.insertNode(s),g=1,t6(e,s)),e.formatter.apply(t,n,s),i.setCursorLocation(M,g)}},sh=(e,t,n,s)=>{const i=e.dom,c=e.selection;let u=!1;const g=e.formatter.get(t);if(!g)return;const v=c.getRng(),S=v.startContainer,O=v.startOffset;let M=S;_t(S)&&(O!==S.data.length&&(u=!0),M=M.parentNode);const P=[];let j;for(;M;){if(Of(e,M,t,n,s)){j=M;break}M.nextSibling&&(u=!0),P.push(M),M=M.parentNode}if(j)if(u){const J=c.getBookmark();v.collapse(!0);let G=T1(i,v,g,{includeTrailingSpace:!0});G=Pc(G),e.formatter.remove(t,n,G,s),c.moveToBookmark(J)}else{const J=$g(e.getBody(),j),G=Qe(J)?i.getParents(j.parentNode,qo,J):[],se=O4(!1).dom;CM(e,se,J??j);const ge=_M(e,se,j,t,n,s),_e=JT([...P,...ge.toArray(),...G],se);J&&N4(e,J,Qe(J)),c.setCursorLocation(_e,1),t6(e,se),i.isEmpty(j)&&i.remove(j)}},SM=(e,t,n)=>{const s=e.selection,i=e.getBody();R4(e,null,n),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===Mv&&R4(e,$g(i,s.getStart()),!0),(t===37||t===39)&&R4(e,$g(i,s.getStart()),!0)},EM=e=>_t(e)&&Yu(e.data,Ls),M4=e=>{e.on("mouseup keydown",t=>{SM(e,t.keyCode,EM(e.selection.getRng().endContainer))})},B4=e=>{const t=O4(!1),n=JT(e,t.dom);return{caretContainer:t,caretPosition:Ke(n,0)}},Vw=(e,t)=>{const{caretContainer:n,caretPosition:s}=B4(t);return ei(ue.fromDom(e),n),k(ue.fromDom(e)),s},AM=(e,t)=>{const{caretContainer:n,caretPosition:s}=B4(t);return e.insertNode(n.dom),s},o6=(e,t)=>{if(ud(t.dom))return!1;const n=e.schema.getTextInlineElements();return Qt(n,No(t))&&!ud(t.dom)&&!vu(t.dom)},Bv={},n6=Nc(["pre"]),TM=(e,t)=>{Bv[e]||(Bv[e]=[]),Bv[e].push(t)},DM=(e,t)=>{Qt(Bv,e)&&st(Bv[e],n=>{n(t)})};TM("pre",e=>{const t=e.selection.getRng(),n=i=>c=>{const u=c.previousSibling;return n6(u)&&on(i,u)},s=(i,c)=>{const u=ue.fromDom(c),g=uu(u).dom;k(u),nc(ue.fromDom(i),[ue.fromTag("br",g),ue.fromTag("br",g),...Da(u)])};if(!t.collapsed){const i=e.selection.getSelectedBlocks(),c=Co(Co(i,n6),n(i));st(c,u=>{s(u.previousSibling,u)})}});const s6=["fontWeight","fontStyle","color","fontSize","fontFamily"],OM=e=>ne(e.styles)&&Kn(Pr(e.styles),t=>on(s6,t)),NM=e=>js(e,t=>ri(t)&&t.inline==="span"&&OM(t)),r6=(e,t)=>{const n=e.get(t);return pe(n)?NM(n):z.none()},a6=(e,t)=>uc(t,Ke.fromRangeStart(e)).isNone(),i6=(e,t)=>gl(t,Ke.fromRangeEnd(e)).exists(n=>!or(n.getNode())||gl(t,n).isSome())===!1,l6=e=>t=>b0(t)&&e.isEditable(t),RM=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return a6(n,t[0])&&i6(n,t[0])?t:[];{const s=Kt(t).filter(u=>a6(n,u)).toArray(),i=jo(t).filter(u=>i6(n,u)).toArray(),c=t.slice(1,-1);return s.concat(c).concat(i)}},MM=e=>Co(RM(e),l6(e.dom)),c6=e=>Co(e.getSelectedBlocks(),l6(e.dom)),I4=Dt.each,P4=e=>Wt(e)&&!md(e)&&!ud(e)&&!vu(e),d6=(e,t)=>{for(let n=e;n;n=n[t]){if(_t(n)&&La(n.data))return e;if(Wt(n)&&!md(n))return n}return e},u6=(e,t,n)=>{const s=Aw(e),i=pi(t)&&e.dom.isEditable(t),c=pi(n)&&e.dom.isEditable(n);if(i&&c){const u=d6(t,"previousSibling"),g=d6(n,"nextSibling");if(s.compare(u,g)){for(let v=u.nextSibling;v&&v!==g;){const S=v;v=v.nextSibling,u.appendChild(S)}return e.dom.remove(g),Dt.each(Dt.grep(g.childNodes),v=>{u.appendChild(v)}),u}}return n},L4=(e,t,n,s)=>{var i;if(s&&t.merge_siblings!==!1){const c=(i=u6(e,pk(s),s))!==null&&i!==void 0?i:s;u6(e,c,pk(c,!0))}},BM=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";I4(e.select(s,n),i=>{P4(i)&&e.isEditable(i)&&I4(t.styles,(c,u)=>{e.setStyle(i,u,"")})})}},F4=(e,t,n)=>{I4(e.childNodes,s=>{P4(s)&&(t(s)&&n(s),s.hasChildNodes()&&F4(s,t,n))})},IM=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},m6=(e,t)=>n=>!!(n&&sv(e,n,t)),f6=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),IM(e,s)},H1=ka.generate([{keep:[]},{rename:["name"]},{removed:[]}]),PM=/^(src|href|style)$/,z4=Dt.each,Iv=By,LM=e=>/^(TR|TH|TD)$/.test(e.nodeName),p6=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),g6=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];if(Wt(s)){const c=s.childNodes.length-1;!n&&i&&i--,s=s.childNodes[i>c?c:i]}return _t(s)&&n&&i>=s.data.length&&(s=new Ys(s,e.getBody()).next()||s),_t(s)&&!n&&i===0&&(s=new Ys(s,e.getBody()).prev()||s),s},h6=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return LM(e)&&s?e.nodeName==="TR"&&s[n]||s:e},H4=(e,t,n,s)=>{var i;const c=e.create(n,s);return(i=t.parentNode)===null||i===void 0||i.insertBefore(c,t),c.appendChild(t),c},b6=(e,t,n,s,i)=>{const c=ue.fromDom(t),u=ue.fromDom(e.create(s,i)),g=n?Ac(c):Nn(c);return nc(u,g),n?(ei(c,u),sm(u,c)):(td(c,u),Zn(u,c)),u.dom},FM=(e,t)=>t.links&&e.nodeName==="A",x6=(e,t,n)=>{const s=t.parentNode;let i;const c=e.dom,u=Ni(e);Ef(n)&&s===c.getRoot()&&(!n.list_block||!Iv(t,n.list_block))&&st(xs(t.childNodes),g=>{ua(e,u,g.nodeName.toLowerCase())?i?i.appendChild(g):(i=H4(c,g,u),c.setAttribs(i,v1(e))):i=null}),!(xk(n)&&!Iv(n.inline,t))&&c.remove(t,!0)},v6=(e,t,n)=>A(e)?{name:t,value:null}:{name:e,value:Bu(t,n)},V4=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},$4=(e,t,n,s,i)=>{let c=!1;z4(n.styles,(u,g)=>{const{name:v,value:S}=v6(g,u,s),O=Bp(S,v);(n.remove_similar||yn(S)||!Wt(i)||Iv(sv(e,i,v),O))&&e.setStyle(t,v,""),c=!0}),c&&V4(e,t)},y6=(e,t,n)=>{t==="removeformat"?st(c6(e.selection),s=>{st(s6,i=>e.dom.setStyle(s,i,"")),V4(e.dom,s)}):r6(e.formatter,t).each(s=>{st(c6(e.selection),i=>$4(e.dom,i,s,n,null))})},U4=(e,t,n,s,i)=>{const c=e.dom,u=Aw(e),g=e.schema;if(ri(t)&&es(g,t.inline)&&wu(g,s)&&s.parentElement===e.getBody())return x6(e,s,t),H1.removed();if(!t.ceFalseOverride&&s&&c.getContentEditableParent(s)==="false"||s&&!xb(c,s,t)&&!FM(s,t))return H1.keep();const v=s,S=t.preserve_attributes;if(ri(t)&&t.remove==="all"&&pe(S)){const O=Co(c.getAttribs(v),M=>on(S,M.name.toLowerCase()));if(c.removeAllAttribs(v),st(O,M=>c.setAttrib(v,M.name,M.value)),O.length>0)return H1.rename("span")}if(t.remove!=="all"){$4(c,v,t,n,i),z4(t.attributes,(M,P)=>{const{name:j,value:J}=v6(P,M,n);if(t.remove_similar||yn(J)||!Wt(i)||Iv(c.getAttrib(i,j),J)){if(j==="class"){const G=c.getAttrib(v,j);if(G){let se="";if(st(G.split(/\s+/),ge=>{/mce\-\w+/.test(ge)&&(se+=(se?" ":"")+ge)}),se){c.setAttrib(v,j,se);return}}}if(PM.test(j)&&v.removeAttribute("data-mce-"+j),j==="style"&&Nc(["li"])(v)&&c.getStyle(v,"list-style-type")==="none"){v.removeAttribute(j),c.setStyle(v,"list-style-type","none");return}j==="class"&&v.removeAttribute("className"),v.removeAttribute(j)}}),z4(t.classes,M=>{M=Bu(M,n),(!Wt(i)||c.hasClass(i,M))&&c.removeClass(v,M)});const O=c.getAttribs(v);for(let M=0;M<O.length;M++){const P=O[M].nodeName;if(!u.isAttributeInternal(P))return H1.keep()}}return t.remove!=="none"?(x6(e,v,t),H1.removed()):H1.keep()},zM=(e,t,n,s,i)=>{let c;return t.parentNode&&st(rv(e.dom,t.parentNode).reverse(),u=>{if(!c&&Wt(u)&&u.id!=="_start"&&u.id!=="_end"){const g=Of(e,u,n,s,i);g&&g.split!==!1&&(c=u)}}),c},w6=(e,t,n,s)=>U4(e,t,n,s,s).fold(Et(s),i=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,i)),Et(null)),HM=(e,t,n,s,i,c,u,g)=>{var v,S;let O,M;const P=e.dom;if(n){const j=n.parentNode;for(let J=s.parentNode;J&&J!==j;J=J.parentNode){let G=P.clone(J,!1);for(let se=0;se<t.length&&(G=w6(e,t[se],g,G),G!==null);se++);G&&(O&&G.appendChild(O),M||(M=G),O=G)}(!u.mixed||!P.isBlock(n))&&(s=(v=P.split(n,s))!==null&&v!==void 0?v:s),O&&M&&((S=i.parentNode)===null||S===void 0||S.insertBefore(O,i),M.appendChild(i),ri(u)&&L4(e,u,g,O))}return s},VM=(e,t,n,s,i)=>{const c=e.formatter.get(t),u=c[0],g=e.dom,v=e.selection,S=G=>{const se=zM(e,G,t,n,i);return HM(e,c,se,G,G,!0,u,n)},O=G=>md(G)&&Wt(G)&&(G.id==="_start"||G.id==="_end"),M=G=>Kn(c,se=>Pv(e,se,n,G,G)),P=G=>{const se=xs(G.childNodes),_e=M(G)||Kn(c,dt=>xb(g,G,dt)),Re=G.parentNode;if(!_e&&Qe(Re)&&av(u)&&M(Re),u.deep&&se.length)for(let dt=0;dt<se.length;dt++)P(se[dt]);st(["underline","line-through","overline"],dt=>{Wt(G)&&e.dom.getStyle(G,"text-decoration")===dt&&G.parentNode&&bk(g,G.parentNode)===dt&&Pv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:dt}},void 0,G)})},j=G=>{const se=g.get(G?"_start":"_end");if(se){let ge=se[G?"firstChild":"lastChild"];return O(ge)&&(ge=ge[G?"firstChild":"lastChild"]),_t(ge)&&ge.data.length===0&&(ge=G?se.previousSibling||se.nextSibling:se.nextSibling||se.previousSibling),g.remove(se,!0),ge}else return null},J=G=>{let se,ge,_e=T1(g,G,c,{includeTrailingSpace:G.collapsed});if(u.split){if(_e=Pc(_e),se=g6(e,_e,!0),ge=g6(e,_e),se!==ge){if(se=h6(se,!0),ge=h6(ge,!1),p6(g,se,ge)){const $e=z.from(se.firstChild).getOr(se);S(b6(g,$e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),j(!0);return}if(p6(g,ge,se)){const $e=z.from(ge.lastChild).getOr(ge);S(b6(g,$e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),j(!1);return}se=H4(g,se,"span",{id:"_start","data-mce-type":"bookmark"}),ge=H4(g,ge,"span",{id:"_end","data-mce-type":"bookmark"});const Re=g.createRng();Re.setStartAfter(se),Re.setEndBefore(ge),D1(g,Re,$e=>{st($e,dt=>{!md(dt)&&!md(dt.parentNode)&&S(dt)})}),S(se),S(ge),se=j(!0),ge=j()}else se=ge=S(se);_e.startContainer=se.parentNode?se.parentNode:se,_e.startOffset=g.nodeIndex(se),_e.endContainer=ge.parentNode?ge.parentNode:ge,_e.endOffset=g.nodeIndex(ge)+1}D1(g,_e,Re=>{st(Re,P)})};if(s){if(J0(s)){const G=g.createRng();G.setStartBefore(s),G.setEndAfter(s),J(G)}else J(s);YE(e,t,s,n);return}!v.isCollapsed()||!ri(u)||kf(e).length?(e5(e,()=>Ry(e,J),G=>ri(u)&&D4(e,t,n,G)),e.nodeChanged()):sh(e,t,n,i),y6(e,t,n),YE(e,t,s,n)},C6=(e,t,n,s,i)=>{(s||e.selection.isEditable())&&VM(e,t,n,s,i)},Pv=(e,t,n,s,i)=>U4(e,t,n,s,i).fold(So,c=>(e.dom.rename(s,c),!0),qo),_6=Dt.each,$M=(e,t,n,s)=>{const i=c=>{if(pi(c)&&Wt(c.parentNode)&&e.isEditable(c)){const u=bk(e,c.parentNode);e.getStyle(c,"color")&&u?e.setStyle(c,"text-decoration",u):e.getStyle(c,"text-decoration")===u&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Dt.walk(s,i,"childNodes"),i(s))},Z4=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const i=m6(e,"fontSize");F4(s,c=>i(c)&&e.isEditable(c),f6(e,"backgroundColor",Bu(t.styles.backgroundColor,n)))}},j4=(e,t,n,s)=>{if(ri(t)&&(t.inline==="sub"||t.inline==="sup")){const i=m6(e,"fontSize");F4(s,u=>i(u)&&e.isEditable(u),f6(e,"fontSize",""));const c=Co(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(c,!0)}},UM=(e,t,n,s)=>{_6(t,i=>{ri(i)&&_6(e.dom.select(i.inline,s),c=>{P4(c)&&Pv(e,i,n,c,i.exact?c:null)}),BM(e.dom,i,s)})},k6=(e,t,n,s,i)=>{const c=i.parentNode;Of(e,c,n,s)&&Pv(e,t,s,i)||t.merge_with_parents&&c&&e.dom.getParent(c,u=>Of(e,u,n,s)?(Pv(e,t,s,i),!0):!1)},$w=Dt.each,ZM=(e,t,n,s)=>{if(j_(e)&&ri(t)&&n.parentNode){const i=Dx(e.schema),c=l0(ue.fromDom(n),u=>ud(u.dom));return Lr(i,s)&&Bl(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},S6=(e,t,n,s)=>{if($w(n.styles,(i,c)=>{e.setStyle(t,c,Bu(i,s))}),n.styles){const i=e.getAttrib(t,"style");i&&e.setAttrib(t,"data-mce-style",i)}},jM=(e,t,n,s)=>{const i=e.formatter.get(t),c=i[0],u=!s&&e.selection.isCollapsed(),g=e.dom,v=e.selection,S=(J,G=c)=>{Jt(G.onformat)&&G.onformat(J,G,n,s),S6(g,J,G,n),$w(G.attributes,(se,ge)=>{g.setAttrib(J,ge,Bu(se,n))}),$w(G.classes,se=>{const ge=Bu(se,n);g.hasClass(J,ge)||g.addClass(J,ge)})},O=(J,G)=>{let se=!1;return $w(J,ge=>Wd(ge)?g.getContentEditable(G)==="false"&&!ge.ceFalseOverride||Qe(ge.collapsed)&&ge.collapsed!==u?!0:g.is(G,ge.selector)&&!ud(G)?(S(G,ge),se=!0,!1):!0:!1),se},M=J=>{if(We(J)){const G=g.create(J);return S(G),G}else return null},P=(J,G,se)=>{const ge=[];let _e=!0;const Re=c.inline||c.block,$e=M(Re),dt=Xe=>oR(c)&&Of(e,Xe,t,n),At=(Xe,qe,mt)=>{const Zt=nR(c)&&eb(e.schema,Xe)&&ua(e,qe,Re);return mt&&Zt},Gt=(Xe,qe,mt,Zt)=>{const io=Xe.nodeName.toLowerCase(),Jo=ua(e,Re,io)&&ua(e,qe,Re),sn=!se&&_t(Xe)&&p1(Xe.data),Hn=ud(Xe),hs=!ri(c)||!J.isBlock(Xe);return(mt||Zt)&&Jo&&!sn&&!Hn&&hs};D1(J,G,Xe=>{let qe;const mt=Zt=>{let io=!1,Jo=_e,sn=!1;const Hn=Zt.parentNode,hs=Hn.nodeName.toLowerCase(),ma=J.getContentEditable(Zt);Qe(ma)&&(Jo=_e,_e=ma==="true",io=!0,sn=hk(e,Zt));const ai=_e&&!io;if(or(Zt)&&!ZM(e,c,Zt,hs)){qe=null,Ef(c)&&J.remove(Zt);return}if(dt(Zt)){qe=null;return}if(At(Zt,hs,ai)){const vi=J.rename(Zt,Re);S(vi),ge.push(vi),qe=null;return}if(Wd(c)){let vi=O(i,Zt);if(!vi&&Qe(Hn)&&av(c)&&(vi=O(i,Hn)),!ri(c)||vi){qe=null;return}}Qe($e)&&Gt(Zt,hs,ai,sn)?(qe||(qe=J.clone($e,!1),Hn.insertBefore(qe,Zt),ge.push(qe)),sn&&io&&(_e=Jo),qe.appendChild(Zt)):(qe=null,st(xs(Zt.childNodes),mt),io&&(_e=Jo),qe=null)};st(Xe,mt)}),c.links===!0&&st(ge,Xe=>{const qe=mt=>{mt.nodeName==="A"&&S(mt,c),st(xs(mt.childNodes),qe)};qe(Xe)}),st(ge,Xe=>{const qe=io=>{let Jo=0;return st(io.childNodes,sn=>{!eR(sn)&&!md(sn)&&Jo++}),Jo},mt=io=>js(io.childNodes,My).filter(sn=>J.getContentEditable(sn)!=="false"&&xb(J,sn,c)).map(sn=>{const Hn=J.clone(sn,!1);return S(Hn),J.replace(Hn,io,!0),J.remove(sn,!0),Hn}).getOr(io),Zt=qe(Xe);if((ge.length>1||!J.isBlock(Xe))&&Zt===0){J.remove(Xe,!0);return}(ri(c)||Ef(c)&&c.wrapper)&&(!c.exact&&Zt===1&&(Xe=mt(Xe)),UM(e,i,n,Xe),k6(e,c,t,n,Xe),Z4(J,c,n,Xe),$M(J,c,n,Xe),j4(J,c,n,Xe),L4(e,c,n,Xe))})},j=J0(s)?s:v.getNode();if(g.getContentEditable(j)==="false"&&!hk(e,j)){s=j,O(i,s),KE(e,t,s,n);return}if(c){if(s)if(J0(s)){if(!O(i,s)){const J=g.createRng();J.setStartBefore(s),J.setEndAfter(s),P(g,T1(g,J,i),!0)}}else P(g,s,!0);else!u||!ri(c)||kf(e).length?(v.setRng(Dv(v.getRng())),e5(e,()=>{Ry(e,(J,G)=>{const se=G?J:T1(g,J,i);P(g,se,!1)})},qo),e.nodeChanged()):kM(e,t,n),r6(e.formatter,t).each(J=>{st(MM(e.selection),G=>S6(g,G,J,n))});DM(t,e)}KE(e,t,s,n)},E6=(e,t,n,s)=>{(s||e.selection.isEditable())&&jM(e,t,n,s)},A6=e=>Qt(e,"vars"),WM=(e,t)=>{e.set({}),t.on("NodeChange",n=>{O6(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=z.from(n.node).map(i=>J0(i)?i:i.startContainer).bind(i=>Wt(i)?z.some(i):z.from(i.parentElement)).getOrThunk(()=>T6(t));O6(t,s,e.get())})},T6=e=>e.selection.getStart(),Uw=(e,t,n,s,i)=>Zs(t,g=>{const v=e.formatter.matchNode(g,n,i??{},s);return!wn(v)},g=>Hw(e,g,n)?!0:s?!1:Qe(e.formatter.matchNode(g,n,i,!0))),D6=(e,t)=>{const n=t??T6(e);return Co(rv(e.dom,n),s=>Wt(s)&&!vu(s))},O6=(e,t,n)=>{const s=D6(e,t);Un(n,(i,c)=>{const u=g=>{const v=Uw(e,s,c,g.similar,A6(g)?g.vars:void 0),S=v.isSome();if(g.state.get()!==S){g.state.set(S);const O=v.getOr(t);A6(g)?g.callback(S,{node:O,format:c,parents:s}):st(g.callbacks,M=>M(S,{node:O,format:c,parents:s}))}};st([i.withSimilar,i.withoutSimilar],u),st(i.withVars,u)})},qM=(e,t,n,s,i,c)=>{const u=t.get();st(n.split(","),g=>{const v=_n(u,g).getOrThunk(()=>{const O={withSimilar:{state:Wo(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Wo(!1),similar:!1,callbacks:[]},withVars:[]};return u[g]=O,O}),S=()=>{const O=D6(e);return Uw(e,O,g,i,c).isSome()};if(wn(c)){const O=i?v.withSimilar:v.withoutSimilar;O.callbacks.push(s),O.callbacks.length===1&&O.state.set(S())}else v.withVars.push({state:Wo(S()),similar:i,vars:c,callback:s})}),t.set(u)},N6=(e,t,n)=>{const s=e.get();st(t.split(","),i=>_n(s,i).each(c=>{s[i]={withSimilar:{...c.withSimilar,callbacks:Co(c.withSimilar.callbacks,u=>u!==n)},withoutSimilar:{...c.withoutSimilar,callbacks:Co(c.withoutSimilar.callbacks,u=>u!==n)},withVars:Co(c.withVars,u=>u.callback!==n)}})),e.set(s)},V1=(e,t,n,s,i,c)=>(qM(e,t,n,s,i,c),{unbind:()=>N6(t,n,s)}),R6=(e,t,n,s)=>{const i=e.formatter.get(t);i&&(D4(e,t,n,s)&&(!("toggle"in i[0])||i[0].toggle)?C6(e,t,n,s):E6(e,t,n,s))},M6=Dt.explode,$1=()=>{const e={};return{addFilter:(i,c)=>{st(M6(i),u=>{Qt(e,u)||(e[u]={name:u,callbacks:[]}),e[u].callbacks.push(c)})},getFilters:()=>pa(e),removeFilter:(i,c)=>{st(M6(i),u=>{if(Qt(e,u))if(Qe(c)){const g=e[u],v=Co(g.callbacks,S=>S!==c);v.length>0?g.callbacks=v:delete e[u]}else delete e[u]})}}},GM=(e,t)=>{st(t,n=>{e.attr(n,null)})},W4=(e,t,n)=>{e.addNodeFilter("font",s=>{st(s,i=>{const c=t.parse(i.attr("style")),u=i.attr("color"),g=i.attr("face"),v=i.attr("size");u&&(c.color=u),g&&(c["font-family"]=g),v&&Cl(v).each(S=>{c["font-size"]=n[S-1]}),i.name="span",i.attr("style",t.serialize(c)),GM(i,["color","face","size"])})})},q4=(e,t,n)=>{e.addNodeFilter("strike",s=>{const i=t.type!=="html4";st(s,c=>{if(i)c.name="s";else{const u=n.parse(c.attr("style"));u["text-decoration"]="line-through",c.name="span",c.attr("style",n.serialize(u))}})})},KM=(e,t,n)=>{var s;const i=Xo();t.convert_fonts_to_spans&&W4(e,i,Dt.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),q4(e,n,i)},B6=(e,t,n)=>{t.inline_styles&&KM(e,t,n)},Zw=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),YM=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},XM=e=>{try{return decodeURIComponent(e)}catch{return e}},G4=e=>{const[t,...n]=e.split(","),s=n.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(i){const c=i[2]===";base64",u=XM(s),g=c?YM(u):u;return z.some({type:i[1],data:g,base64Encoded:c})}else return z.none()},I6=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch{return z.none()}const i=new Uint8Array(s.length);for(let c=0;c<i.length;c++)i[c]=s.charCodeAt(c);return z.some(new Blob([i],{type:e}))},K4=e=>new Promise((t,n)=>{G4(e).bind(({type:s,data:i,base64Encoded:c})=>I6(s,i,c)).fold(()=>n("Invalid data URI"),t)}),QM=e=>ar(e,"blob:")?Zw(e):ar(e,"data:")?K4(e):Promise.reject("Unknown URI format"),P6=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var i;n((i=s.error)===null||i===void 0?void 0:i.message)},s.readAsDataURL(e)});let JM=0;const eB=e=>"blobid"+JM++,L6=(e,t,n)=>G4(e).bind(({data:s,type:i,base64Encoded:c})=>{if(t&&!c)return z.none();{const u=c?s:btoa(s);return n(u,i)}}),F6=(e,t,n)=>{const s=e.create(eB(),t,n);return e.add(s),s},z6=(e,t,n=!1)=>L6(t,n,(s,i)=>z.from(e.getByData(s,i)).orThunk(()=>I6(i,s).map(c=>F6(e,c,s)))),tB=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(ar(t,"blob:")){const s=e.getByUri(t);return Qe(s)?Promise.resolve(s):QM(t).then(i=>P6(i).then(c=>L6(c,!1,u=>z.some(F6(e,i,u))).getOrThunk(n)))}else return ar(t,"data:")?z6(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},oB=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,nB=e=>z.from(e.match(oB)).bind(t=>nr(t,1)).map(t=>ar(t,"www.")?t.substring(4):t),H6=(e,t)=>{z.from(e.attr("src")).bind(nB).forall(n=>!on(t,n))&&e.attr("sandbox","")},jw=(e,t)=>ar(e,`${t}/`),sB=e=>wn(e)?"iframe":jw(e,"image")?"img":jw(e,"video")?"video":jw(e,"audio")?"audio":"iframe",rB=({type:e,src:t,width:n,height:s}={},i,c)=>{const u=sB(e),g=new Ul(u,1);return g.attr(u==="audio"?{src:t}:{src:t,width:n,height:s}),(u==="audio"||u==="video")&&g.attr("controls",""),u==="iframe"&&i&&H6(g,c),g},aB=e=>Qe(e.attr("data-mce-bogus")),Y4=e=>e.attr("src")===Vo.transparentSrc||Qe(e.attr("data-mce-placeholder")),iB=(e,t)=>{const{blob_cache:n}=t;if(n){const s=i=>{const c=i.attr("src");Y4(i)||aB(i)||tn(c)||z6(n,c,!0).each(u=>{i.attr("src",u.blobUri())})};e.addAttributeFilter("src",i=>st(i,s))}},lB=(e,t)=>{var n,s;const i=e.schema;e.addAttributeFilter("href",v=>{let S=v.length;const O=P=>P.split(" ").filter(J=>J.length>0).concat(["noopener"]).sort().join(" "),M=P=>{const j=P?Dt.trim(P):"";return/\b(noopener)\b/g.test(j)?j:O(j)};if(!t.allow_unsafe_link_target)for(;S--;){const P=v[S];P.name==="a"&&P.attr("target")==="_blank"&&P.attr("rel",M(P.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let S=v.length,O,M,P,j;for(;S--;)if(j=v[S],j.name==="a"&&j.firstChild&&!j.attr("href"))for(P=j.parent,O=j.lastChild;O&&P;)M=O.prev,P.insert(O,j),O=M}),t.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let S=v.length,O,M;for(;S--;)if(O=v[S],M=O.parent,M&&(M.name==="ul"||M.name==="ol"))if(O.prev&&O.prev.name==="li")O.prev.append(O);else{const P=new Ul("li",1);P.attr("style","list-style-type: none"),O.wrap(P)}});const c=i.getValidClasses();t.validate&&c&&e.addAttributeFilter("class",v=>{var S;let O=v.length;for(;O--;){const M=v[O],P=(S=M.attr("class"))!==null&&S!==void 0?S:"",j=Dt.explode(P," ");let J="";for(let G=0;G<j.length;G++){const se=j[G];let ge=!1,_e=c["*"];_e&&_e[se]&&(ge=!0),_e=c[M.name],!ge&&_e&&_e[se]&&(ge=!0),ge&&(J&&(J+=" "),J+=se)}J.length||(J=null),M.attr("class",J)}}),iB(e,t);const u=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,g=Vt((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>st(v,S=>{S.replace(rB({type:S.attr("type"),src:S.name==="object"?S.attr("data"):S.attr("src"),width:S.attr("width"),height:S.attr("height")},u,g))})),u&&e.addNodeFilter("iframe",v=>st(v,S=>H6(S,g)))};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:V6,setPrototypeOf:$6,isFrozen:cB,getPrototypeOf:dB,getOwnPropertyDescriptor:uB}=Object;let{freeze:Fc,seal:Hu,create:U6}=Object,{apply:X4,construct:Q4}=typeof Reflect<"u"&&Reflect;Fc||(Fc=function(t){return t}),Hu||(Hu=function(t){return t}),X4||(X4=function(t,n,s){return t.apply(n,s)}),Q4||(Q4=function(t,n){return new t(...n)});const Lv=Zl(Array.prototype.forEach),Z6=Zl(Array.prototype.lastIndexOf),j6=Zl(Array.prototype.pop),Fv=Zl(Array.prototype.push),mB=Zl(Array.prototype.splice),yb=Zl(String.prototype.toLowerCase),U1=Zl(String.prototype.toString),J4=Zl(String.prototype.match),jp=Zl(String.prototype.replace),W6=Zl(String.prototype.indexOf),Ww=Zl(String.prototype.trim),zc=Zl(Object.prototype.hasOwnProperty),wa=Zl(RegExp.prototype.test),Vu=q6(TypeError);function Zl(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return X4(e,t,s)}}function q6(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Q4(e,n)}}function ns(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yb;$6&&$6(e,null);let s=t.length;for(;s--;){let i=t[s];if(typeof i=="string"){const c=n(i);c!==i&&(cB(t)||(t[s]=c),i=c)}e[i]=!0}return e}function G6(e){for(let t=0;t<e.length;t++)zc(e,t)||(e[t]=null);return e}function Z1(e){const t=U6(null);for(const[n,s]of V6(e))zc(e,n)&&(Array.isArray(s)?t[n]=G6(s):s&&typeof s=="object"&&s.constructor===Object?t[n]=Z1(s):t[n]=s);return t}function Wp(e,t){for(;e!==null;){const s=uB(e,t);if(s){if(s.get)return Zl(s.get);if(typeof s.value=="function")return Zl(s.value)}e=dB(e)}function n(){return null}return n}const e3=Fc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),gr=Fc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),t3=Fc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fB=Fc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rh=Fc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),j1=Fc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ah=Fc(["#text"]),K6=Fc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),zv=Fc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qw=Fc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Hv=Fc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y6=Hu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pB=Hu(/<%[\w\W]*|[\w\W]*%>/gm),gB=Hu(/\$\{[\w\W]*/gm),o3=Hu(/^data-[\-\w.\u00B7-\uFFFF]+$/),n3=Hu(/^aria-[\-\w]+$/),s3=Hu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wb=Hu(/^(?:\w+script|data):/i),X6=Hu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),r3=Hu(/^html$/i),Q6=Hu(/^[a-z][.\w]*(-[.\w]+)+$/i);var a3=Object.freeze({__proto__:null,ARIA_ATTR:n3,ATTR_WHITESPACE:X6,CUSTOM_ELEMENT:Q6,DATA_ATTR:o3,DOCTYPE_NAME:r3,ERB_EXPR:pB,IS_ALLOWED_URI:s3,IS_SCRIPT_OR_DATA:wb,MUSTACHE_EXPR:Y6,TMPLIT_EXPR:gB});const Cb={element:1,text:3,progressingInstruction:7,comment:8,document:9},J6=function(){return typeof window>"u"?null:window},eD=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(s=n.getAttribute(i));const c="dompurify"+(s?"#"+s:"");try{return t.createPolicy(c,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},i3=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function l3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J6();const t=gn=>l3(gn);if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==Cb.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const s=n,i=s.currentScript,{DocumentFragment:c,HTMLTemplateElement:u,Node:g,Element:v,NodeFilter:S,NamedNodeMap:O=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:M,DOMParser:P,trustedTypes:j}=e,J=v.prototype,G=Wp(J,"cloneNode"),se=Wp(J,"remove"),ge=Wp(J,"nextSibling"),_e=Wp(J,"childNodes"),Re=Wp(J,"parentNode");if(typeof u=="function"){const gn=n.createElement("template");gn.content&&gn.content.ownerDocument&&(n=gn.content.ownerDocument)}let $e,dt="";const{implementation:At,createNodeIterator:Gt,createDocumentFragment:Xe,getElementsByTagName:qe}=n,{importNode:mt}=s;let Zt=i3();t.isSupported=typeof V6=="function"&&typeof Re=="function"&&At&&At.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:io,ERB_EXPR:Jo,TMPLIT_EXPR:sn,DATA_ATTR:Hn,ARIA_ATTR:hs,IS_SCRIPT_OR_DATA:ma,ATTR_WHITESPACE:ai,CUSTOM_ELEMENT:vi}=a3;let{IS_ALLOWED_URI:Pt}=a3,ao=null;const Fn=ns({},[...e3,...gr,...t3,...rh,...ah]);let Vn=null;const lt=ns({},[...K6,...zv,...qw,...Hv]);let Tt=Object.seal(U6(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),so=null,rn=null,cn=!0,rs=!0,Vm=!1,vh=!0,Hc=!1,Vf=!0,ju=!1,bc=!1,Vc=!1,$m=!1,Kb=!1,fo=!1,En=!0,Yr=!1;const ii="user-content-";let yi=!0,Ka=!1,Sr={},Er=null;const $c=ns({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $f=null;const yh=ns({},["audio","video","img","source","image","track"]);let og=null;const a_=ns({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),i_="http://www.w3.org/1998/Math/MathML",w2="http://www.w3.org/2000/svg",Uf="http://www.w3.org/1999/xhtml";let Yb=Uf,yE=!1,l_=null;const K9=ns({},[i_,w2,Uf],U1);let wE=ns({},["mi","mo","mn","ms","mtext"]),CE=ns({},["annotation-xml"]);const Y9=ns({},["title","style","font","a","script"]);let c_=null;const Xb=["application/xhtml+xml","text/html"],M7="text/html";let Fe=null,je=null;const It=n.createElement("form"),Ot=function(Ge){return Ge instanceof RegExp||Ge instanceof Function},yo=function(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(je&&je===Ge)){if((!Ge||typeof Ge!="object")&&(Ge={}),Ge=Z1(Ge),c_=Xb.indexOf(Ge.PARSER_MEDIA_TYPE)===-1?M7:Ge.PARSER_MEDIA_TYPE,Fe=c_==="application/xhtml+xml"?U1:yb,ao=zc(Ge,"ALLOWED_TAGS")?ns({},Ge.ALLOWED_TAGS,Fe):Fn,Vn=zc(Ge,"ALLOWED_ATTR")?ns({},Ge.ALLOWED_ATTR,Fe):lt,l_=zc(Ge,"ALLOWED_NAMESPACES")?ns({},Ge.ALLOWED_NAMESPACES,U1):K9,og=zc(Ge,"ADD_URI_SAFE_ATTR")?ns(Z1(a_),Ge.ADD_URI_SAFE_ATTR,Fe):a_,$f=zc(Ge,"ADD_DATA_URI_TAGS")?ns(Z1(yh),Ge.ADD_DATA_URI_TAGS,Fe):yh,Er=zc(Ge,"FORBID_CONTENTS")?ns({},Ge.FORBID_CONTENTS,Fe):$c,so=zc(Ge,"FORBID_TAGS")?ns({},Ge.FORBID_TAGS,Fe):{},rn=zc(Ge,"FORBID_ATTR")?ns({},Ge.FORBID_ATTR,Fe):{},Sr=zc(Ge,"USE_PROFILES")?Ge.USE_PROFILES:!1,cn=Ge.ALLOW_ARIA_ATTR!==!1,rs=Ge.ALLOW_DATA_ATTR!==!1,Vm=Ge.ALLOW_UNKNOWN_PROTOCOLS||!1,vh=Ge.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Hc=Ge.SAFE_FOR_TEMPLATES||!1,Vf=Ge.SAFE_FOR_XML!==!1,ju=Ge.WHOLE_DOCUMENT||!1,$m=Ge.RETURN_DOM||!1,Kb=Ge.RETURN_DOM_FRAGMENT||!1,fo=Ge.RETURN_TRUSTED_TYPE||!1,Vc=Ge.FORCE_BODY||!1,En=Ge.SANITIZE_DOM!==!1,Yr=Ge.SANITIZE_NAMED_PROPS||!1,yi=Ge.KEEP_CONTENT!==!1,Ka=Ge.IN_PLACE||!1,Pt=Ge.ALLOWED_URI_REGEXP||s3,Yb=Ge.NAMESPACE||Uf,wE=Ge.MATHML_TEXT_INTEGRATION_POINTS||wE,CE=Ge.HTML_INTEGRATION_POINTS||CE,Tt=Ge.CUSTOM_ELEMENT_HANDLING||{},Ge.CUSTOM_ELEMENT_HANDLING&&Ot(Ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Tt.tagNameCheck=Ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ge.CUSTOM_ELEMENT_HANDLING&&Ot(Ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Tt.attributeNameCheck=Ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ge.CUSTOM_ELEMENT_HANDLING&&typeof Ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Tt.allowCustomizedBuiltInElements=Ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Hc&&(rs=!1),Kb&&($m=!0),Sr&&(ao=ns({},ah),Vn=[],Sr.html===!0&&(ns(ao,e3),ns(Vn,K6)),Sr.svg===!0&&(ns(ao,gr),ns(Vn,zv),ns(Vn,Hv)),Sr.svgFilters===!0&&(ns(ao,t3),ns(Vn,zv),ns(Vn,Hv)),Sr.mathMl===!0&&(ns(ao,rh),ns(Vn,qw),ns(Vn,Hv))),Ge.ADD_TAGS&&(ao===Fn&&(ao=Z1(ao)),ns(ao,Ge.ADD_TAGS,Fe)),Ge.ADD_ATTR&&(Vn===lt&&(Vn=Z1(Vn)),ns(Vn,Ge.ADD_ATTR,Fe)),Ge.ADD_URI_SAFE_ATTR&&ns(og,Ge.ADD_URI_SAFE_ATTR,Fe),Ge.FORBID_CONTENTS&&(Er===$c&&(Er=Z1(Er)),ns(Er,Ge.FORBID_CONTENTS,Fe)),yi&&(ao["#text"]=!0),ju&&ns(ao,["html","head","body"]),ao.table&&(ns(ao,["tbody"]),delete so.tbody),Ge.TRUSTED_TYPES_POLICY){if(typeof Ge.TRUSTED_TYPES_POLICY.createHTML!="function")throw Vu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ge.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Vu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');$e=Ge.TRUSTED_TYPES_POLICY,dt=$e.createHTML("")}else $e===void 0&&($e=eD(j,i)),$e!==null&&typeof dt=="string"&&(dt=$e.createHTML(""));Fc&&Fc(Ge),je=Ge}},Mn=ns({},[...gr,...t3,...fB]),Xr=ns({},[...rh,...j1]),ng=function(Ge){let lo=Re(Ge);(!lo||!lo.tagName)&&(lo={namespaceURI:Yb,tagName:"template"});const en=yb(Ge.tagName),li=yb(lo.tagName);return l_[Ge.namespaceURI]?Ge.namespaceURI===w2?lo.namespaceURI===Uf?en==="svg":lo.namespaceURI===i_?en==="svg"&&(li==="annotation-xml"||wE[li]):!!Mn[en]:Ge.namespaceURI===i_?lo.namespaceURI===Uf?en==="math":lo.namespaceURI===w2?en==="math"&&CE[li]:!!Xr[en]:Ge.namespaceURI===Uf?lo.namespaceURI===w2&&!CE[li]||lo.namespaceURI===i_&&!wE[li]?!1:!Xr[en]&&(Y9[en]||!Mn[en]):!!(c_==="application/xhtml+xml"&&l_[Ge.namespaceURI]):!1},Zf=function(Ge){Fv(t.removed,{element:Ge});try{Re(Ge).removeChild(Ge)}catch{se(Ge)}},_E=function(Ge,lo){try{Fv(t.removed,{attribute:lo.getAttributeNode(Ge),from:lo})}catch{Fv(t.removed,{attribute:null,from:lo})}if(lo.removeAttribute(Ge),Ge==="is")if($m||Kb)try{Zf(lo)}catch{}else try{lo.setAttribute(Ge,"")}catch{}},X9=function(Ge){let lo=null,en=null;if(Vc)Ge="<remove></remove>"+Ge;else{const xc=J4(Ge,/^[\r\n\t ]+/);en=xc&&xc[0]}c_==="application/xhtml+xml"&&Yb===Uf&&(Ge='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ge+"</body></html>");const li=$e?$e.createHTML(Ge):Ge;if(Yb===Uf)try{lo=new P().parseFromString(li,c_)}catch{}if(!lo||!lo.documentElement){lo=At.createDocument(Yb,"template",null);try{lo.documentElement.innerHTML=yE?dt:li}catch{}}const vd=lo.body||lo.documentElement;return Ge&&en&&vd.insertBefore(n.createTextNode(en),vd.childNodes[0]||null),Yb===Uf?qe.call(lo,ju?"html":"body")[0]:ju?lo.documentElement:vd},Q9=function(Ge){return Gt.call(Ge.ownerDocument||Ge,Ge,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT|S.SHOW_PROCESSING_INSTRUCTION|S.SHOW_CDATA_SECTION,null)},ZP=function(Ge){return Ge instanceof M&&(typeof Ge.nodeName!="string"||typeof Ge.textContent!="string"||typeof Ge.removeChild!="function"||!(Ge.attributes instanceof O)||typeof Ge.removeAttribute!="function"||typeof Ge.setAttribute!="function"||typeof Ge.namespaceURI!="string"||typeof Ge.insertBefore!="function"||typeof Ge.hasChildNodes!="function")},J9=function(Ge){return typeof g=="function"&&Ge instanceof g};function o0(gn,Ge,lo){Lv(gn,en=>{en.call(t,Ge,lo,je)})}const ez=function(Ge){let lo=null;if(o0(Zt.beforeSanitizeElements,Ge,null),ZP(Ge))return Zf(Ge),!0;const en=Fe(Ge.nodeName);if(o0(Zt.uponSanitizeElement,Ge,{tagName:en,allowedTags:ao}),Ge.hasChildNodes()&&!J9(Ge.firstElementChild)&&wa(/<[/\w]/g,Ge.innerHTML)&&wa(/<[/\w]/g,Ge.textContent)||Ge.nodeType===Cb.progressingInstruction||Vf&&Ge.nodeType===Cb.comment&&wa(/<[/\w]/g,Ge.data))return Zf(Ge),!0;if(!ao[en]||so[en]){if(!so[en]&&oz(en)&&(Tt.tagNameCheck instanceof RegExp&&wa(Tt.tagNameCheck,en)||Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(en)))return!1;if(yi&&!Er[en]){const li=Re(Ge)||Ge.parentNode,vd=_e(Ge)||Ge.childNodes;if(vd&&li){const xc=vd.length;for(let Wu=xc-1;Wu>=0;--Wu){const wh=G(vd[Wu],!0);wh.__removalCount=(Ge.__removalCount||0)+1,li.insertBefore(wh,ge(Ge))}}}return Zf(Ge),!0}return Ge instanceof v&&!ng(Ge)||(en==="noscript"||en==="noembed"||en==="noframes")&&wa(/<\/no(script|embed|frames)/i,Ge.innerHTML)?(Zf(Ge),!0):(Hc&&Ge.nodeType===Cb.text&&(lo=Ge.textContent,Lv([io,Jo,sn],li=>{lo=jp(lo,li," ")}),Ge.textContent!==lo&&(Fv(t.removed,{element:Ge.cloneNode()}),Ge.textContent=lo)),o0(Zt.afterSanitizeElements,Ge,null),!1)},tz=function(Ge,lo,en){if(En&&(lo==="id"||lo==="name")&&(en in n||en in It))return!1;if(!(rs&&!rn[lo]&&wa(Hn,lo))){if(!(cn&&wa(hs,lo))){if(!Vn[lo]||rn[lo]){if(!(oz(Ge)&&(Tt.tagNameCheck instanceof RegExp&&wa(Tt.tagNameCheck,Ge)||Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(Ge))&&(Tt.attributeNameCheck instanceof RegExp&&wa(Tt.attributeNameCheck,lo)||Tt.attributeNameCheck instanceof Function&&Tt.attributeNameCheck(lo))||lo==="is"&&Tt.allowCustomizedBuiltInElements&&(Tt.tagNameCheck instanceof RegExp&&wa(Tt.tagNameCheck,en)||Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(en))))return!1}else if(!og[lo]){if(!wa(Pt,jp(en,ai,""))){if(!((lo==="src"||lo==="xlink:href"||lo==="href")&&Ge!=="script"&&W6(en,"data:")===0&&$f[Ge])){if(!(Vm&&!wa(ma,jp(en,ai,"")))){if(en)return!1}}}}}}return!0},oz=function(Ge){return Ge!=="annotation-xml"&&J4(Ge,vi)},nz=function(Ge){o0(Zt.beforeSanitizeAttributes,Ge,null);const{attributes:lo}=Ge;if(!lo||ZP(Ge))return;const en={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Vn,forceKeepAttr:void 0};let li=lo.length;for(;li--;){const vd=lo[li],{name:xc,namespaceURI:Wu,value:wh}=vd,kE=Fe(xc);let Uc=xc==="value"?wh:Ww(wh);const CG=Uc;if(en.attrName=kE,en.attrValue=Uc,en.keepAttr=!0,en.forceKeepAttr=void 0,o0(Zt.uponSanitizeAttribute,Ge,en),Uc=en.attrValue,Yr&&(kE==="id"||kE==="name")&&(_E(xc,Ge),Uc=ii+Uc),Vf&&wa(/((--!?|])>)|<\/(style|title)/i,Uc)){_E(xc,Ge);continue}if(en.forceKeepAttr)continue;if(!en.keepAttr){_E(xc,Ge);continue}if(!vh&&wa(/\/>/i,Uc)){_E(xc,Ge);continue}Hc&&Lv([io,Jo,sn],rz=>{Uc=jp(Uc,rz," ")});const sz=Fe(Ge.nodeName);if(!tz(sz,kE,Uc)){_E(xc,Ge);continue}if($e&&typeof j=="object"&&typeof j.getAttributeType=="function"&&!Wu)switch(j.getAttributeType(sz,kE)){case"TrustedHTML":{Uc=$e.createHTML(Uc);break}case"TrustedScriptURL":{Uc=$e.createScriptURL(Uc);break}}if(Uc!==CG)try{Wu?Ge.setAttributeNS(Wu,xc,Uc):Ge.setAttribute(xc,Uc),ZP(Ge)?Zf(Ge):j6(t.removed)}catch{}}o0(Zt.afterSanitizeAttributes,Ge,null)},wG=function gn(Ge){let lo=null;const en=Q9(Ge);for(o0(Zt.beforeSanitizeShadowDOM,Ge,null);lo=en.nextNode();)o0(Zt.uponSanitizeShadowNode,lo,null),ez(lo),nz(lo),lo.content instanceof c&&gn(lo.content);o0(Zt.afterSanitizeShadowDOM,Ge,null)};return t.sanitize=function(gn){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lo=null,en=null,li=null,vd=null;if(yE=!gn,yE&&(gn="<!-->"),typeof gn!="string"&&!J9(gn))if(typeof gn.toString=="function"){if(gn=gn.toString(),typeof gn!="string")throw Vu("dirty is not a string, aborting")}else throw Vu("toString is not a function");if(!t.isSupported)return gn;if(bc||yo(Ge),t.removed=[],typeof gn=="string"&&(Ka=!1),Ka){if(gn.nodeName){const wh=Fe(gn.nodeName);if(!ao[wh]||so[wh])throw Vu("root node is forbidden and cannot be sanitized in-place")}}else if(gn instanceof g)lo=X9("<!---->"),en=lo.ownerDocument.importNode(gn,!0),en.nodeType===Cb.element&&en.nodeName==="BODY"||en.nodeName==="HTML"?lo=en:lo.appendChild(en);else{if(!$m&&!Hc&&!ju&&gn.indexOf("<")===-1)return $e&&fo?$e.createHTML(gn):gn;if(lo=X9(gn),!lo)return $m?null:fo?dt:""}lo&&Vc&&Zf(lo.firstChild);const xc=Q9(Ka?gn:lo);for(;li=xc.nextNode();)ez(li),nz(li),li.content instanceof c&&wG(li.content);if(Ka)return gn;if($m){if(Kb)for(vd=Xe.call(lo.ownerDocument);lo.firstChild;)vd.appendChild(lo.firstChild);else vd=lo;return(Vn.shadowroot||Vn.shadowrootmode)&&(vd=mt.call(s,vd,!0)),vd}let Wu=ju?lo.outerHTML:lo.innerHTML;return ju&&ao["!doctype"]&&lo.ownerDocument&&lo.ownerDocument.doctype&&lo.ownerDocument.doctype.name&&wa(r3,lo.ownerDocument.doctype.name)&&(Wu="<!DOCTYPE "+lo.ownerDocument.doctype.name+`>
`+Wu),Hc&&Lv([io,Jo,sn],wh=>{Wu=jp(Wu,wh," ")}),$e&&fo?$e.createHTML(Wu):Wu},t.setConfig=function(){let gn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yo(gn),bc=!0},t.clearConfig=function(){je=null,bc=!1},t.isValidAttribute=function(gn,Ge,lo){je||yo({});const en=Fe(gn),li=Fe(Ge);return tz(en,li,lo)},t.addHook=function(gn,Ge){typeof Ge=="function"&&Fv(Zt[gn],Ge)},t.removeHook=function(gn,Ge){if(Ge!==void 0){const lo=Z6(Zt[gn],Ge);return lo===-1?void 0:mB(Zt[gn],lo,1)[0]}return j6(Zt[gn])},t.removeHooks=function(gn){Zt[gn]=[]},t.removeAllHooks=function(){Zt=i3()},t}var Vv=l3();const _b=Dt.each,$v=Dt.trim,c3=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],tD={ftp:21,http:80,https:443,mailto:25},oD=["img","video"],Gw=(e,t)=>Qe(e)?!e:Qe(t)?!on(oD,t):!0,hB=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},nD=(e,t,n)=>{const s=hB(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?Gw(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class bl{static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(s[0]);return i&&(n=i[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const i=fm.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!nD(s,i,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,n={}){this.path="",this.directory="",t=$v(t),this.settings=n;const s=n.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){i.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const g=s?s.path:new bl(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+i.toAbsPath(g,t);else{const v=/([^#?]*)([#?]?.*)/.exec(t);v&&(t=(s&&s.protocol||"http")+"://mce_host"+i.toAbsPath(g,v[1])+v[2])}}t=t.replace(/@@/g,"(mce_at)");const u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);u&&_b(c3,(g,v)=>{let S=u[v];S&&(S=S.replace(/\(mce_at\)/g,"@@")),i[g]=S}),s&&(i.protocol||(i.protocol=s.protocol),i.userInfo||(i.userInfo=s.userInfo),!i.port&&i.host==="mce_host"&&(i.port=s.port),(!i.host||i.host==="mce_host")&&(i.host=s.host),i.source=""),c&&(i.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new bl(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),i=n.getURI();if(s===i||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===i)return s;let c=this.toRelPath(this.path,n.path);return n.query&&(c+="?"+n.query),n.anchor&&(c+="#"+n.anchor),c}toAbsolute(t,n){const s=new bl(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?tD[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,i="",c,u;const g=t.substring(0,t.lastIndexOf("/")).split("/"),v=n.split("/");if(g.length>=v.length){for(c=0,u=g.length;c<u;c++)if(c>=v.length||g[c]!==v[c]){s=c+1;break}}if(g.length<v.length){for(c=0,u=v.length;c<u;c++)if(c>=g.length||g[c]!==v[c]){s=c+1;break}}if(s===1)return n;for(c=0,u=g.length-(s-1);c<u;c++)i+="../";for(c=s-1,u=v.length;c<u;c++)c!==s-1?i+="/"+v[c]:i+=v[c];return i}toAbsPath(t,n){let s=0;const i=/\/$/.test(n)?"/":"",c=t.split("/"),u=n.split("/"),g=[];_b(c,M=>{M&&g.push(M)});const v=[];for(let M=u.length-1;M>=0;M--)if(!(u[M].length===0||u[M]===".")){if(u[M]===".."){s++;continue}if(s>0){s--;continue}v.push(u[M])}const S=g.length-s;let O;return S<=0?O=tl(v).join("/"):O=g.slice(0,S).join("/")+"/"+tl(v).join("/"),O.indexOf("/")!==0&&(O="/"+O),i&&O.lastIndexOf("/")!==O.length-1&&(O+=i),O}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const d3=Dt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Kw="data-mce-type";let kb=0;const u3=(e,t,n,s,i)=>{var c,u,g,v;const S=t.validate,O=n.getSpecialElements();e.nodeType===Km&&!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const M=(u=i==null?void 0:i.tagName)!==null&&u!==void 0?u:e.nodeName.toLowerCase();if(s!=="html"&&n.isValid(s)){Qe(i)&&(i.allowedTags[M]=!0);return}if(e.nodeType!==Va||M==="body")return;const P=ue.fromDom(e),j=Js(P,Kw),J=Oa(P,"data-mce-bogus");if(!j&&We(J)){J==="all"?k(P):R(P);return}const G=n.getElementRule(M);if(S&&!G){Qt(O,M)?k(P):R(P);return}else Qe(i)&&(i.allowedTags[M]=!0);if(S&&G&&!j){if(st((g=G.attributesForced)!==null&&g!==void 0?g:[],se=>{Hr(P,se.name,se.value==="{$uid}"?`mce_${kb++}`:se.value)}),st((v=G.attributesDefault)!==null&&v!==void 0?v:[],se=>{Js(P,se.name)||Hr(P,se.name,se.value==="{$uid}"?`mce_${kb++}`:se.value)}),G.attributesRequired&&!Kn(G.attributesRequired,se=>Js(P,se))){R(P);return}if(G.removeEmptyAttrs&&ug(P)){R(P);return}G.outputName&&G.outputName!==M&&co(P,G.outputName)}},m3=(e,t,n,s,i)=>{const c=e.tagName.toLowerCase(),{attrName:u,attrValue:g}=i;i.keepAttr=f3(t,n,s,c,u,g),i.keepAttr?(i.allowedAttributes[u]=!0,g3(u,n)&&(i.attrValue=u),t.allow_svg_data_urls&&ar(g,"data:image/svg+xml")&&(i.forceKeepAttr=!0)):p3(e,u)&&(i.forceKeepAttr=!0)},f3=(e,t,n,s,i,c)=>n!=="html"&&!gp(s)?!0:!(i in d3&&nD(e,c,s))&&(!e.validate||t.isValid(s,i)||ar(i,"data-")||ar(i,"aria-")),p3=(e,t)=>e.hasAttribute(Kw)&&(t==="id"||t==="class"||t==="style"),g3=(e,t)=>e in t.getBoolAttrs(),h3=(e,t,n,s)=>{const{attributes:i}=e;for(let c=i.length-1;c>=0;c--){const u=i[c],g=u.name,v=u.value;!f3(t,n,s,e.tagName.toLowerCase(),g,v)&&!p3(e,g)?e.removeAttribute(g):g3(g,n)&&e.setAttribute(g,g)}},sD=(e,t,n)=>{const s=Vv();return s.addHook("uponSanitizeElement",(i,c)=>{u3(i,e,t,n.track(i),c)}),s.addHook("uponSanitizeAttribute",(i,c)=>{m3(i,e,t,n.current(),c)}),s},bB=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},rD=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(s=>`xlink:${s}`),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};Vv().sanitize(e,n)},Yw=(e,t)=>{const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},s=Vv(),i=t.allow_mathml_annotation_encodings,c=pe(i)&&i.length>0,u=v=>{const S=v.getAttribute("encoding");return c&&We(S)&&on(i,S)},g=(v,S)=>c&&S==="semantics"?z.some(!0):S==="annotation"?z.some(Wt(v)&&u(v)):pe(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(S)?z.from(!0):z.none();s.addHook("uponSanitizeElement",(v,S)=>{var O;const M=(O=S.tagName)!==null&&O!==void 0?O:v.nodeName.toLowerCase();g(v,M).each(j=>{S.allowedTags[M]=j,!j&&t.sanitize&&Wt(v)&&v.remove()})}),s.addHook("uponSanitizeAttribute",(v,S)=>{pe(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(S.attrName)&&(S.forceKeepAttr=!0)}),s.sanitize(e,n)},xl=e=>t=>{const n=ux(t);if(n==="svg")rD(t);else if(n==="math")Yw(t,e);else throw new Error("Not a namespace element")},Xw=(e,t)=>{const n=gi();if(e.sanitize){const s=sD(e,t,n);return{sanitizeHtmlElement:(c,u)=>{s.sanitize(c,bB(e,u)),s.removed=[],n.reset()},sanitizeNamespaceElement:xl(e)}}else return{sanitizeHtmlElement:(c,u)=>{const g=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let v;for(;v=g.nextNode();){const S=n.track(v);u3(v,e,t,S),Wt(v)&&h3(v,e,t,S)}n.reset()},sanitizeNamespaceElement:To}},ih=Dt.makeMap,b3=Dt.extend,pc=(e,t,n,s)=>{const i=e.name,c=i in n&&i!=="title"&&i!=="textarea"&&i!=="noscript",u=t.childNodes;for(let g=0,v=u.length;g<v;g++){const S=u[g],O=new Ul(S.nodeName.toLowerCase(),S.nodeType);if(Wt(S)){const M=S.attributes;for(let P=0,j=M.length;P<j;P++){const J=M[P];O.attr(J.name,J.value)}gp(O.name)&&(s(S),O.value=S.innerHTML)}else _t(S)?(O.value=S.data,c&&(O.raw=!0)):(Ml(S)||fn(S)||ul(S))&&(O.value=S.data);gp(O.name)||pc(O,S,n,s),e.append(O)}},W1=(e,t,n)=>{const s=[];for(let i=e,c=i;i;c=i,i=i.walk()){const u=i;st(t,g=>g(u)),tn(u.parent)&&u!==e?i=c:s.push(u)}for(let i=s.length-1;i>=0;i--){const c=s[i];st(n,u=>u(c))}},aD=(e,t,n,s)=>{const i=n.validate,c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),g=b3(ih("script,style,head,html,body,title,meta,param"),t.getBlockElements()),v=Dx(t),S=/[ \t\r\n]+/g,O=/^[ \t\r\n]+/,M=/[ \t\r\n]+$/,P=_e=>{let Re=_e.parent;for(;Qe(Re);){if(Re.name in u)return!0;Re=Re.parent}return!1},j=_e=>{let Re=_e;for(;Qe(Re);){if(Re.name in v)return L1(t,c,u,Re);Re=Re.parent}return!1},J=_e=>_e.name in g||Gh(t,_e)||gp(_e.name)&&_e.parent===e,G=(_e,Re)=>{const $e=Re?_e.prev:_e.next;return Qe($e)||tn(_e.parent)?!1:J(_e.parent)&&(_e.parent!==e||s.isRootContent===!0)};return[_e=>{var Re;if(_e.type===3&&!P(_e)){let $e=(Re=_e.value)!==null&&Re!==void 0?Re:"";$e=$e.replace(S," "),(zT(_e.prev,J)||G(_e,!0))&&($e=$e.replace(O,"")),$e.length===0||$e===" "&&_e.prev&&_e.prev.type===Km&&_e.next&&_e.next.type===Km?_e.remove():_e.value=$e}},_e=>{var Re;if(_e.type===1){const $e=t.getElementRule(_e.name);if(i&&$e){const dt=L1(t,c,u,_e);$e.paddInEmptyBlock&&dt&&j(_e)?Tv(n,s,J,_e):$e.removeEmpty&&dt?J(_e)?_e.remove():_e.unwrap():$e.paddEmpty&&(dt||Ow(_e))&&Tv(n,s,J,_e)}}else if(_e.type===3&&!P(_e)){let $e=(Re=_e.value)!==null&&Re!==void 0?Re:"";(_e.next&&J(_e.next)||G(_e,!1))&&($e=$e.replace(M,"")),$e.length===0?_e.remove():_e.value=$e}}]},iD=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},q1=(e={},t=gf())=>{const n=$1(),s=$1(),i={validate:!0,root_name:"body",sanitize:!0,...e},c=new DOMParser,u=Xw(i,t),g=(Re,$e,dt="html")=>{const At=dt==="xhtml"?"application/xhtml+xml":"text/html",Gt=Qt(t.getSpecialElements(),$e.toLowerCase()),Xe=Gt?`<${$e}>${Re}</${$e}>`:Re,qe=()=>dt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Xe}</body></html>`:/^[\s]*<head/i.test(Re)||/^[\s]*<html/i.test(Re)||/^[\s]*<!DOCTYPE/i.test(Re)?`<html>${Xe}</html>`:`<body>${Xe}</body>`,mt=c.parseFromString(qe(),At).body;return u.sanitizeHtmlElement(mt,At),Gt?mt.firstChild:mt},v=n.addFilter,S=n.getFilters,O=n.removeFilter,M=s.addFilter,P=s.getFilters,j=s.removeFilter,J=(Re,$e)=>{Rw(t,Re)&&$e.push(Re)},G=(Re,$e)=>{const dt=We($e.attr(Kw)),At=$e.type===1&&!Qt(Re,$e.name)&&!Gh(t,$e)&&!gp($e.name);return $e.type===3||At&&!dt},se=(Re,$e)=>{const dt=b3(ih("script,style,head,html,body,title,meta,param"),t.getBlockElements()),At=/^[ \t\r\n]+/,Gt=/[ \t\r\n]+$/;let Xe=Re.firstChild,qe=null;const mt=Zt=>{var io,Jo;Zt&&(Xe=Zt.firstChild,Xe&&Xe.type===3&&(Xe.value=(io=Xe.value)===null||io===void 0?void 0:io.replace(At,"")),Xe=Zt.lastChild,Xe&&Xe.type===3&&(Xe.value=(Jo=Xe.value)===null||Jo===void 0?void 0:Jo.replace(Gt,"")))};if(t.isValidChild(Re.name,$e.toLowerCase())){for(;Xe;){const Zt=Xe.next;G(dt,Xe)?(qe||(qe=new Ul($e,1),qe.attr(i.forced_root_block_attrs),Re.insert(qe,Xe)),qe.append(Xe)):(mt(qe),qe=null),Xe=Zt}mt(qe)}},_e={schema:t,addAttributeFilter:M,getAttributeFilters:P,removeAttributeFilter:j,addNodeFilter:v,getNodeFilters:S,removeNodeFilter:O,parse:(Re,$e={})=>{var dt;const At=i.validate,Gt=(dt=$e.context)!==null&&dt!==void 0?dt:i.root_name,Xe=g(Re,Gt,$e.format);hp(t,Xe);const qe=new Ul(Gt,11);pc(qe,Xe,t.getSpecialElements(),u.sanitizeNamespaceElement),Xe.innerHTML="";const[mt,Zt]=aD(qe,t,i,$e),io=[],Jo=At?ma=>J(ma,io):To,sn={nodes:{},attributes:{}},Hn=ma=>Tw(S(),P(),ma,sn);if(W1(qe,[mt,Hn],[Zt,Jo]),io.reverse(),At&&io.length>0)if($e.context){const{pass:ma,fail:ai}=br(io,vi=>vi.parent===qe);$p(ai,t,qe,Hn),$e.invalid=ma.length>0}else $p(io,t,qe,Hn);const hs=iD(i,$e);return hs&&(qe.name==="body"||$e.isRootContent)&&se(qe,hs),$e.invalid||Dw(sn,$e),qe}};return lB(_e,i),B6(_e,i,t),_e},x3=e=>Fw(e)?qg({validate:!1}).serialize(e):e,Qw=(e,t,n)=>{const s=x3(e),i=t(s);if(i.isDefaultPrevented())return i;if(Fw(e))if(i.content!==s){const c=q1({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:e.name});return{...i,content:c}}else return{...i,content:e};else return i},v3=e=>({sanitize:_A(e),sandbox_iframes:zt(e),sandbox_iframes_exclusions:Ru(e)}),$u=(e,t)=>{if(t.no_events)return xr.value(t);{const n=J7(e,t);return n.isDefaultPrevented()?xr.error(vn(e,{content:"",...n}).content):xr.value(n)}},Jw=(e,t,n)=>n.no_events?t:Qw(t,i=>vn(e,{...n,content:i}),v3(e)).content,Sb=(e,t)=>{if(t.no_events)return xr.value(t);{const n=Qw(t.content,s=>Cm(e,{...t,content:s}),v3(e));return n.isDefaultPrevented()?(XE(e,n),xr.error(void 0)):xr.value(n)}},Uv=(e,t,n)=>{n.no_events||XE(e,{...n,content:t})},eC=(e,t,n)=>({element:e,width:t,rows:n}),y3=(e,t)=>({element:e,cells:t}),lD=(e,t)=>({x:e,y:t}),cD=(e,t)=>zs(e,t).bind(Cl).getOr(1),xB=(e,t,n,s,i)=>{const c=cD(i,"rowspan"),u=cD(i,"colspan"),g=e.rows;for(let v=n;v<n+c;v++){g[v]||(g[v]=y3(ve(s),[]));for(let S=t;S<t+u;S++){const O=g[v].cells;O[S]=v===n&&S===t?i:le(i)}}},dD=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},uD=(e,t,n)=>{for(;dD(e,t,n);)t++;return t},tC=e=>ws(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),oC=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const i=n[s].cells;for(let c=0;c<i.length;c++)if(bn(i[c],t))return z.some(lD(c,s))}return z.none()},w3=(e,t,n,s,i)=>{const c=[],u=e.rows;for(let g=n;g<=i;g++){const v=u[g].cells,S=t<s?v.slice(t,s+1):v.slice(s,t+1);c.push(y3(u[g].element,S))}return c},C3=(e,t,n)=>{const s=t.x,i=t.y,c=n.x,u=n.y,g=i<u?w3(e,s,i,c,u):w3(e,s,u,c,i);return eC(e.element,tC(g),g)},mD=(e,t)=>{const n=le(e.element),s=ue.fromTag("tbody");return nc(s,t),Zn(n,s),n},fD=e=>Yo(e.rows,t=>{const n=Yo(t.cells,i=>{const c=ve(i);return er(c,"colspan"),er(c,"rowspan"),c}),s=le(t.element);return nc(s,n),s}),_3=e=>{const t=eC(le(e),0,[]);return st(mn(e,"tr"),(n,s)=>{st(mn(n,"td,th"),(i,c)=>{xB(t,uD(t,c,s),s,n,i)})}),eC(t.element,tC(t.rows),t.rows)},pD=e=>mD(e,fD(e)),gD=(e,t,n)=>oC(e,t).bind(s=>oC(e,n).map(i=>C3(e,s,i))),hD=e=>js(e,t=>No(t)==="ul"||No(t)==="ol"),nC=(e,t)=>js(e,n=>No(n)==="li"&&Sf(n,t)).fold(Et([]),n=>hD(e).map(s=>{const i=ue.fromTag(No(s)),c=Fo(fg(s),(u,g)=>ar(g,"list-style"));return pu(i,c),[ue.fromTag("li"),i]}).getOr([])),vB=(e,t)=>{const n=ws(t,(s,i)=>(Zn(i,s),i),e);return t.length>0?nf([n]):n},Zv=e=>xm(e)?Ec(e).filter(Eu).fold(Et([]),t=>[e,t]):Eu(e)?[e]:[],bD=(e,t,n)=>{const s=ue.fromDom(t.commonAncestorContainer),i=Hp(s,e),c=Co(i,v=>n.isWrapper(No(v))),u=nC(i,t),g=c.concat(u.length?u:Zv(s));return Yo(g,le)},k3=()=>nf([]),yB=(e,t,n)=>vB(ue.fromDom(t.cloneContents()),bD(e,t,n)),wB=(e,t)=>gu(t,"table",Ze(bn,e)),xD=(e,t)=>wB(e,t[0]).bind(n=>{const s=t[0],i=t[t.length-1],c=_3(n);return gD(c,s,i).map(u=>nf([pD(u)]))}).getOrThunk(k3),CB=(e,t,n)=>t.length>0&&t[0].collapsed?k3():yB(e,t[0],n),vD=(e,t,n)=>{const s=Rs(t,e);return s.length>0?xD(e,s):CB(e,t,n)},jv=(e,t)=>t>=0&&t<e.length&&Em(e.charAt(t)),yD=e=>pl(e.innerText),_B=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),sC=e=>z.from(e.selection.getRng()).map(t=>{var n;const s=z.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),c=_B(s),u=ue.fromDom(t.cloneContents());Z5(u),$k(u);const g=e.dom.add(i,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},u.dom),v=yD(g),S=pl((n=g.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(g),jv(S,0)||jv(S,S.length-1)){const O=s.getOr(i),M=yD(O),P=M.indexOf(v);if(P===-1)return v;{const j=jv(M,P-1),J=jv(M,P+v.length);return(j?" ":"")+v+(J?" ":"")}}else return v}).getOr(""),kB=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),i=e.selection.getSel(),c=pv(e,Oy(i)),u=t.contextual?vD(ue.fromDom(e.getBody()),c,e.schema).dom:n.cloneContents();return u&&s.appendChild(u),e.selection.serializer.serialize(s,t)},SB=(e,t)=>{if(t.format==="text")return sC(e);{const n=kB(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},wD=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),S3=(e,t,n={})=>{const s=wD(n,t);return $u(e,s).fold(Tn,i=>{const c=SB(e,i);return Jw(e,c,i)})},E3=0,CD=1,_D=2,Wv=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),i=new Array(n),c=(O,M,P)=>({start:O,end:M,diag:P}),u=(O,M,P,j,J)=>{const G=v(O,M,P,j);if(G===null||G.start===M&&G.diag===M-j||G.end===O&&G.diag===O-P){let se=O,ge=P;for(;se<M||ge<j;)se<M&&ge<j&&e[se]===t[ge]?(J.push([E3,e[se]]),++se,++ge):M-O>j-P?(J.push([_D,e[se]]),++se):(J.push([CD,t[ge]]),++ge)}else{u(O,G.start,P,G.start-G.diag,J);for(let se=G.start;se<G.end;++se)J.push([E3,e[se]]);u(G.end,M,G.end-G.diag,j,J)}},g=(O,M,P,j)=>{let J=O;for(;J-M<j&&J<P&&e[J]===t[J-M];)++J;return c(O,J,M)},v=(O,M,P,j)=>{const J=M-O,G=j-P;if(J===0||G===0)return null;const se=J-G,ge=G+J,_e=(ge%2===0?ge:ge+1)/2;s[1+_e]=O,i[1+_e]=M+1;let Re,$e,dt,At,Gt;for(Re=0;Re<=_e;++Re){for($e=-Re;$e<=Re;$e+=2){for(dt=$e+_e,$e===-Re||$e!==Re&&s[dt-1]<s[dt+1]?s[dt]=s[dt+1]:s[dt]=s[dt-1]+1,At=s[dt],Gt=At-O+P-$e;At<M&&Gt<j&&e[At]===t[Gt];)s[dt]=++At,++Gt;if(se%2!==0&&se-Re<=$e&&$e<=se+Re&&i[dt-se]<=s[dt])return g(i[dt-se],$e+O-P,M,j)}for($e=se-Re;$e<=se+Re;$e+=2){for(dt=$e+_e-se,$e===se-Re||$e!==se+Re&&i[dt+1]<=i[dt-1]?i[dt]=i[dt+1]-1:i[dt]=i[dt-1],At=i[dt]-1,Gt=At-O+P-$e;At>=O&&Gt>=P&&e[At]===t[Gt];)i[dt]=At--,Gt--;if(se%2===0&&-Re<=$e&&$e<=Re&&i[dt]<=s[dt+se])return g(i[dt],$e+O-P,M,j)}}return null},S=[];return u(0,e.length,0,t.length,S),S},kD=e=>Wt(e)?e.outerHTML:_t(e)?fm.encodeRaw(e.data,!1):Ml(e)?"<!--"+e.data+"-->":"",SD=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},lh=(e,t,n)=>{const s=SD(t);if(e.hasChildNodes()&&n<e.childNodes.length){const i=e.childNodes[n];e.insertBefore(s,i)}else e.appendChild(s)},gc=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},ED=(e,t)=>{let n=0;st(e,s=>{s[0]===E3?n++:s[0]===CD?(lh(t,s[1],n),n++):s[0]===_D&&gc(t,n)})},qv=(e,t)=>Co(Yo(xs(e.childNodes),$n(pl,kD)),n=>n.length>0),ch=(e,t)=>{const n=Yo(xs(t.childNodes),kD);return ED(Wv(n,e),t),t},Nf=ir(()=>document.implementation.createHTMLDocument("undo")),Gv=e=>e.querySelector("iframe")!==null,A3=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),T3=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Kv=e=>{const t=e.serializer.getTempAttrs(),n=Vk(e.getBody(),t);return Gv(n)?A3(qv(n)):T3(pl(n.innerHTML))},rC=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?ch(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Qe(s)&&YA(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},D3=e=>e.type==="fragmented"?e.fragments.join(""):e.content,O3=e=>{const t=ue.fromTag("body",Nf());return Qn(t,D3(e)),st(mn(t,"*[data-mce-bogus]"),R),uo(t)},AD=(e,t)=>D3(e)===D3(t),TD=(e,t)=>O3(e)===O3(t),Rf=(e,t)=>!e||!t?!1:AD(e,t)?!0:TD(e,t),Yv=e=>e.get()===0,aC=(e,t,n)=>{Yv(n)&&(e.typing=t)},DD=(e,t)=>{e.typing&&(aC(e,!1,t),e.add())},G1=e=>{e.typing&&(e.typing=!1,e.add())},OD=(e,t,n)=>{Yv(t)&&n.set(E_(e.selection))},iC=(e,t,n,s,i,c,u)=>{const g=Kv(e),v=Dt.extend(c||{},g);if(!Yv(s)||e.removed)return null;const S=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:v,lastLevel:S,originalEvent:u}).isDefaultPrevented()||S&&Rf(S,v))return null;t.data[n.get()]&&i.get().each(P=>{t.data[n.get()].beforeBookmark=P});const O=gN(e);if(O&&t.data.length>O){for(let P=0;P<t.data.length-1;P++)t.data[P]=t.data[P+1];t.data.length--,n.set(t.data.length)}v.bookmark=E_(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(v),n.set(t.data.length-1);const M={level:v,lastLevel:S,originalEvent:u};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",M),e.dispatch("change",M)):e.dispatch("AddUndo",M),v},N3=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},ND=(e,t,n,s,i)=>{if(t.transact(s)){const c=t.data[n.get()].bookmark,u=t.data[n.get()-1];rC(e,u,!0),t.transact(i)&&(t.data[n.get()-1].beforeBookmark=c)}},RD=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],rC(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},MD=(e,t,n,s)=>{let i;return t.typing&&(t.add(),t.typing=!1,aC(t,!1,n)),s.get()>0&&(s.set(s.get()-1),i=t.data[s.get()],rC(e,i,!0),e.setDirty(!0),e.dispatch("Undo",{level:i})),i},BD=e=>{e.clear(),e.add()},ID=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Rf(Kv(e),t.data[0]),R3=(e,t)=>t.get()<e.data.length-1&&!e.typing,EB=(e,t,n)=>(DD(e,t),e.beforeChange(),e.ignore(n),e.add()),AB=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},TB=(e,t)=>{const n=e.dom,s=Qe(t)?t:e.getBody();st(n.select("table,a",s),i=>{switch(i.nodeName){case"TABLE":const c=q_(e),u=n.getAttrib(i,"border");(!u||u==="0")&&e.hasVisual?n.addClass(i,c):n.removeClass(i,c);break;case"A":if(!n.getAttrib(i,"href")){const g=n.getAttrib(i,"name")||i.id,v=fA(e);g&&e.hasVisual?n.addClass(i,v):n.removeClass(i,v)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},PD=e=>({init:{bindEvents:To},undoManager:{beforeChange:(t,n)=>OD(e,t,n),add:(t,n,s,i,c,u)=>iC(e,t,n,s,i,c,u),undo:(t,n,s)=>MD(e,t,n,s),redo:(t,n)=>RD(e,t,n),clear:(t,n)=>N3(e,t,n),reset:t=>BD(t),hasUndo:(t,n)=>ID(e,t,n),hasRedo:(t,n)=>R3(t,n),transact:(t,n,s)=>EB(t,n,s),ignore:(t,n)=>AB(t,n),extra:(t,n,s,i)=>ND(e,t,n,s,i)},formatter:{match:(t,n,s,i)=>D4(e,t,n,s,i),matchAll:(t,n)=>xM(e,t,n),matchNode:(t,n,s,i)=>Of(e,t,n,s,i),canApply:t=>Pm(e,t),closest:t=>vb(e,t),apply:(t,n,s)=>E6(e,t,n,s),remove:(t,n,s,i)=>C6(e,t,n,s,i),toggle:(t,n,s)=>R6(e,t,n,s),formatChanged:(t,n,s,i,c)=>V1(e,t,n,s,i,c)},editor:{getContent:t=>IR(e,t),setContent:(t,n)=>KT(e,t,n),insertContent:(t,n)=>A4(e,t,n),addVisual:t=>TB(e,t)},selection:{getContent:(t,n)=>S3(e,t,n)},autocompleter:{addDecoration:To,removeDecoration:To},raw:{getModel:()=>z.none()}}),DB=e=>{const t=S=>ne(S)?S:{},{init:n,undoManager:s,formatter:i,editor:c,selection:u,autocompleter:g,raw:v}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(S,O,M)=>s.transact(M),ignore:(S,O)=>s.ignore(O),extra:(S,O,M,P)=>s.extra(M,P)},formatter:{match:(S,O,M,P)=>i.match(S,t(O),P),matchAll:i.matchAll,matchNode:i.matchNode,canApply:S=>i.canApply(S),closest:S=>i.closest(S),apply:(S,O,M)=>i.apply(S,t(O)),remove:(S,O,M,P)=>i.remove(S,t(O)),toggle:(S,O,M)=>i.toggle(S,t(O)),formatChanged:(S,O,M,P,j)=>i.formatChanged(O,M,P,j)},editor:{getContent:S=>c.getContent(S),setContent:(S,O)=>({content:c.setContent(S,O),html:""}),insertContent:(S,O)=>(c.insertContent(S),""),addVisual:c.addVisual},selection:{getContent:(S,O)=>u.getContent(O)},autocompleter:{addDecoration:g.addDecoration,removeDecoration:g.removeDecoration},raw:{getModel:()=>z.some(v.getRawModel())}}},LD=()=>{const e=Et(null),t=Et("");return{init:{bindEvents:To},undoManager:{beforeChange:To,add:e,undo:e,redo:e,clear:To,reset:To,hasUndo:So,hasRedo:So,transact:e,ignore:To,extra:To},formatter:{match:So,matchAll:Et([]),matchNode:Et(void 0),canApply:So,closest:t,apply:To,remove:To,toggle:To,formatChanged:Et({unbind:To})},editor:{getContent:t,setContent:Et({content:"",html:""}),insertContent:Et(""),addVisual:To},selection:{getContent:t},autocompleter:{addDecoration:To,removeDecoration:To},raw:{getModel:Et(z.none())}}},vl=e=>Qt(e.plugins,"rtc"),M3=e=>_n(e.plugins,"rtc").bind(t=>z.from(t.setup)),OB=e=>{const t=e;return M3(e).fold(()=>(t.rtcInstance=PD(e),z.none()),n=>(t.rtcInstance=LD(),z.some(()=>n().then(s=>(t.rtcInstance=DB(s),s.rtc.isRemote)))))},Xv=e=>e.rtcInstance?e.rtcInstance:PD(e),Ca=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},FD=(e,t,n)=>{Ca(e).undoManager.beforeChange(t,n)},zD=(e,t,n,s,i,c,u)=>Ca(e).undoManager.add(t,n,s,i,c,u),HD=(e,t,n,s)=>Ca(e).undoManager.undo(t,n,s),NB=(e,t,n)=>Ca(e).undoManager.redo(t,n),Qv=(e,t,n)=>{Ca(e).undoManager.clear(t,n)},lC=(e,t)=>{Ca(e).undoManager.reset(t)},VD=(e,t,n)=>Ca(e).undoManager.hasUndo(t,n),$D=(e,t,n)=>Ca(e).undoManager.hasRedo(t,n),UD=(e,t,n,s)=>Ca(e).undoManager.transact(t,n,s),ZD=(e,t,n)=>{Ca(e).undoManager.ignore(t,n)},cC=(e,t,n,s,i)=>{Ca(e).undoManager.extra(t,n,s,i)},B3=(e,t,n,s,i)=>Ca(e).formatter.match(t,n,s,i),Jv=(e,t,n)=>Ca(e).formatter.matchAll(t,n),RB=(e,t,n,s,i)=>Ca(e).formatter.matchNode(t,n,s,i),jD=(e,t)=>Ca(e).formatter.canApply(t),MB=(e,t)=>Ca(e).formatter.closest(t),BB=(e,t,n,s)=>{Ca(e).formatter.apply(t,n,s)},WD=(e,t,n,s,i)=>{Ca(e).formatter.remove(t,n,s,i)},qD=(e,t,n,s)=>{Ca(e).formatter.toggle(t,n,s)},IB=(e,t,n,s,i,c)=>Ca(e).formatter.formatChanged(t,n,s,i,c),I3=(e,t)=>Xv(e).editor.getContent(t),dh=(e,t,n)=>Xv(e).editor.setContent(t,n),GD=(e,t,n)=>Xv(e).editor.insertContent(t,n),P3=(e,t,n)=>Ca(e).selection.getContent(t,n),KD=(e,t)=>Ca(e).editor.addVisual(t),dC=e=>Ca(e).init.bindEvents(),uh=(e,t={})=>{const n=t.format?t.format:"html";return P3(e,n,t)},L3=e=>e.dom.length===0?(k(e),z.none()):z.some(e),Jd=(e,t)=>e.filter(n=>iv.isBookmarkNode(n.dom)).bind(t?Jc:Nd),K1=(e,t,n,s,i)=>{const c=e.dom,u=t.dom,g=s?c.length:u.length;s?(fw(c,u,i,!1,!s),n.setStart(u,g)):(fw(u,c,i,!1,!s),n.setEnd(u,g))},YD=(e,t,n)=>{Ec(e).each(s=>{const i=e.dom;t&&ub(s,Ke(i,0),n)?kv(i,0,n):!t&&Df(s,Ke(i,i.length),n)&&mw(i,i.length,n)})},uC=(e,t,n,s,i)=>{e.bind(c=>((s?mw:kv)(c.dom,s?c.dom.length:0,i),t.filter(xa).map(g=>K1(c,g,n,s,i)))).orThunk(()=>Jd(t,s).or(t).filter(xa).map(u=>YD(u,s,i)))},XD=(e,t,n)=>{const s=z.from(t.firstChild).map(ue.fromDom),i=z.from(t.lastChild).map(ue.fromDom);e.deleteContents(),e.insertNode(t);const c=s.bind(Nd).filter(xa).bind(L3),u=i.bind(Jc).filter(xa).bind(L3);uC(c,s,e,!0,n),uC(u,i,e,!1,n),e.collapse(!1)},PB=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),QD=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),i=s?{context:s.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...i,...t});return qg({validate:!1},e.schema).serialize(c)}else return t.content},Eb=(e,t,n={})=>{const s=PB(n,t);Sb(e,s).each(i=>{const c=QD(e,i),u=e.selection.getRng();XD(u,u.createContextualFragment(c),e.schema),e.selection.setRng(u),ab(e,u),Uv(e,c,i)})},e2=(e,t,n)=>{if(Qt(e,t)){const s=Co(e[t],i=>i!==n);s.length===0?delete e[t]:e[t]=s}};var JD=(e,t)=>{let n,s;const i=(g,v)=>js(v,S=>e.is(S,g)),c=g=>e.getParents(g,void 0,e.getRoot()),u=()=>{n={},s={},t.on("NodeChange",g=>{const v=g.element,S=c(v),O={};Un(n,(M,P)=>{i(P,S).each(j=>{s[P]||(st(M,J=>{J(!0,{node:j,selector:P,parents:S})}),s[P]=M),O[P]=M})}),Un(s,(M,P)=>{O[P]||(delete s[P],st(M,j=>{j(!1,{node:v,selector:P,parents:S})}))})})};return{selectorChangedWithUnbind:(g,v)=>(n||u(),n[g]||(n[g]=[]),n[g].push(v),i(g,c(t.selection.getStart())).each(()=>{s[g]=n[g]}),{unbind:()=>{e2(n,g,v),e2(s,g,v)}})}};const F3=e=>!!(e&&e.ownerDocument)&&Ii(ue.fromDom(e.ownerDocument),ue.fromDom(e)),z3=e=>e?F3(e.startContainer)&&F3(e.endContainer):!1,H3=(e,t,n,s)=>{let i,c;const{selectorChangedWithUnbind:u}=JD(e,s),g=(Pt,ao)=>{const Fn=e.createRng();Qe(Pt)&&Qe(ao)?(Fn.setStart(Pt,ao),Fn.setEnd(Pt,ao),$e(Fn),ge(!1)):(nv(e,Fn,s.getBody(),!0),$e(Fn))},v=Pt=>uh(s,Pt),S=(Pt,ao)=>Eb(s,Pt,ao),O=Pt=>P5(s.getBody(),Re(),Pt),M=Pt=>L5(s.getBody(),Re(),Pt),P=(Pt,ao)=>ai.getBookmark(Pt,ao),j=Pt=>ai.moveToBookmark(Pt),J=(Pt,ao)=>(Xy(e,Pt,ao).each($e),Pt),G=()=>{const Pt=Re(),ao=_e();return!Pt||Pt.item?!1:Pt.compareEndPoints?Pt.compareEndPoints("StartToEnd",Pt)===0:!ao||Pt.collapsed},se=()=>{if(s.mode.isReadOnly())return!1;const Pt=Re(),ao=s.getBody().querySelectorAll('[data-mce-selected="1"]');return ao.length>0?hn(ao,Fn=>e.isEditable(Fn.parentElement)):Yy(e,Pt)},ge=Pt=>{const ao=Re();ao.collapse(!!Pt),$e(ao)},_e=()=>t.getSelection?t.getSelection():t.document.selection,Re=()=>{let Pt;const ao=(Vn,lt,Tt)=>{try{return lt.compareBoundaryPoints(Vn,Tt)}catch{return-1}},Fn=t.document;if(Qe(s.bookmark)&&!Tf(s)){const Vn=lv(s);if(Vn.isSome())return Vn.map(lt=>pv(s,[lt])[0]).getOr(Fn.createRange())}try{const Vn=_e();Vn&&!wg(Vn.anchorNode)&&(Vn.rangeCount>0?Pt=Vn.getRangeAt(0):Pt=Fn.createRange(),Pt=pv(s,[Pt])[0])}catch{}if(Pt||(Pt=Fn.createRange()),mf(Pt.startContainer)&&Pt.collapsed){const Vn=e.getRoot();Pt.setStart(Vn,0),Pt.setEnd(Vn,0)}return i&&c&&(ao(Pt.START_TO_START,Pt,i)===0&&ao(Pt.END_TO_END,Pt,i)===0?Pt=c:(i=null,c=null)),Pt},$e=(Pt,ao)=>{if(!z3(Pt))return;const Fn=_e();if(Pt=s.dispatch("SetSelectionRange",{range:Pt,forward:ao}).range,Fn){c=Pt;try{Fn.removeAllRanges(),Fn.addRange(Pt)}catch{}ao===!1&&Fn.extend&&(Fn.collapse(Pt.endContainer,Pt.endOffset),Fn.extend(Pt.startContainer,Pt.startOffset)),i=Fn.rangeCount>0?Fn.getRangeAt(0):null}if(!Pt.collapsed&&Pt.startContainer===Pt.endContainer&&(Fn!=null&&Fn.setBaseAndExtent)&&Pt.endOffset-Pt.startOffset<2&&Pt.startContainer.hasChildNodes()){const lt=Pt.startContainer.childNodes[Pt.startOffset];lt&&lt.nodeName==="IMG"&&(Fn.setBaseAndExtent(Pt.startContainer,Pt.startOffset,Pt.endContainer,Pt.endOffset),(Fn.anchorNode!==Pt.startContainer||Fn.focusNode!==Pt.endContainer)&&Fn.setBaseAndExtent(lt,0,lt,1))}s.dispatch("AfterSetSelectionRange",{range:Pt,forward:ao})},dt=Pt=>(S(e.getOuterHTML(Pt)),Pt),At=()=>kR(s.getBody(),Re()),Gt=(Pt,ao)=>SR(e,Re(),Pt,ao),Xe=()=>{const Pt=_e(),ao=Pt==null?void 0:Pt.anchorNode,Fn=Pt==null?void 0:Pt.focusNode;if(!Pt||!ao||!Fn||wg(ao)||wg(Fn))return!0;const Vn=e.createRng(),lt=e.createRng();try{Vn.setStart(ao,Pt.anchorOffset),Vn.collapse(!0),lt.setStart(Fn,Pt.focusOffset),lt.collapse(!0)}catch{return!0}return Vn.compareBoundaryPoints(Vn.START_TO_START,lt)<=0},ma={dom:e,win:t,serializer:n,editor:s,expand:(Pt={type:"word"})=>$e(Fp(e).expand(Re(),Pt)),collapse:ge,setCursorLocation:g,getContent:v,setContent:S,getBookmark:P,moveToBookmark:j,select:J,isCollapsed:G,isEditable:se,isForward:Xe,setNode:dt,getNode:At,getSel:_e,setRng:$e,getRng:Re,getStart:O,getEnd:M,getSelectedBlocks:Gt,normalize:()=>{const Pt=Re(),ao=_e();if(!XN(ao)&&Ny(s)){const Fn=Iu(e,Pt);return Fn.each(Vn=>{$e(Vn,Xe())}),Fn.getOr(Pt)}return Pt},selectorChanged:(Pt,ao)=>(u(Pt,ao),ma),selectorChangedWithUnbind:u,getScrollContainer:()=>{let Pt,ao=e.getRoot();for(;ao&&ao.nodeName!=="BODY";){if(ao.scrollHeight>ao.clientHeight){Pt=ao;break}ao=ao.parentNode}return Pt},scrollIntoView:(Pt,ao)=>{Qe(Pt)?Hk(s,Pt,ao):ab(s,Re(),ao)},placeCaretAt:(Pt,ao)=>$e(Bk(Pt,ao,s.getDoc())),getBoundingClientRect:()=>{const Pt=Re();return Pt.collapsed?Ke.fromRangeStart(Pt).getClientRects()[0]:Pt.getBoundingClientRect()},destroy:()=>{t=i=c=null,vi.destroy()}},ai=iv(ma),vi=Zy(ma,s);return ma.bookmarkManager=ai,ma.controlSelection=vi,ma},mC=(e,t,n)=>{t.addNodeFilter("br",(s,i,c)=>{const u=Dt.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),v=n.getWhitespaceElements();u.body=1;const S=O=>O.name in u||Gh(n,O);for(let O=0,M=s.length;O<M;O++){let P=s[O],j=P.parent;if(j&&S(j)&&P===j.lastChild){let J=P.prev;for(;J;){const G=J.name;if(G!=="span"||J.attr("data-mce-type")!=="bookmark"){G==="br"&&(P=null);break}J=J.prev}if(P&&(P.remove(),L1(n,g,v,j))){const G=n.getElementRule(j.name);G&&(G.removeEmpty?j.remove():G.paddEmpty&&Tv(e,c,S,j))}}else{let J=P;for(;j&&j.firstChild===J&&j.lastChild===J&&(J=j,!u[j.name]);)j=j.parent;if(J===j){const G=new Ul("#text",3);G.value=Ls,P.replace(G)}}}})},eO=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,i)=>{let c=s.length;for(;c--;){const u=s[c];u.attr("tabindex",u.attr("data-mce-tabindex")),u.attr(i,null)}}),e.addAttributeFilter("src,href,style",(s,i)=>{const c="data-mce-"+i,u=t.url_converter,g=t.url_converter_scope;let v=s.length;for(;v--;){const S=s[v];let O=S.attr(c);O!==void 0?(S.attr(i,O.length>0?O:null),S.attr(c,null)):(O=S.attr(i),i==="style"?O=n.serializeStyle(n.parseStyle(O),S.name):u&&(O=u.call(g,O,i,S.name)),S.attr(i,O.length>0?O:null))}}),e.addAttributeFilter("class",s=>{let i=s.length;for(;i--;){const c=s[i];let u=c.attr("class");u&&(u=u.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",u.length>0?u:null))}}),e.addAttributeFilter("data-mce-type",(s,i,c)=>{let u=s.length;for(;u--;){const g=s[u];g.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(z.from(g.firstChild).exists(S=>{var O;return!p1((O=S.value)!==null&&O!==void 0?O:"")})?g.unwrap():g.remove())}}),e.addNodeFilter("script,style",(s,i)=>{var c;const u=v=>v.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let g=s.length;for(;g--;){const v=s[g],S=v.firstChild,O=(c=S==null?void 0:S.value)!==null&&c!==void 0?c:"";if(i==="script"){const M=v.attr("type");M&&v.attr("type",M==="mce-no/type"?null:M.replace(/^mce\-/,"")),t.element_format==="xhtml"&&S&&O.length>0&&(S.value=`// <![CDATA[
`+u(O)+`
// ]]>`)}else t.element_format==="xhtml"&&S&&O.length>0&&(S.value=`<!--
`+u(O)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let i=s.length;for(;i--;){const c=s[i],u=c.value;t.preserve_cdata&&(u==null?void 0:u.indexOf("[CDATA["))===0?(c.name="#cdata",c.type=4,c.value=n.decode(u.replace(/^\[CDATA\[|\]\]$/g,""))):(u==null?void 0:u.indexOf("mce:protected "))===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(u).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,i)=>{let c=s.length;for(;c--;){const u=s[c];u.type===7?u.remove():u.type===1&&i==="input"&&!u.attr("type")&&u.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{st(s,i=>{i.attr("data-mce-type")==="format-caret"&&(i.isEmpty(e.schema.getNonEmptyElements())?i.remove():i.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,i)=>{let c=s.length;for(;c--;)s[c].attr(i,null)}),t.remove_trailing_brs&&mC(t,e,e.schema)},fC=e=>{const t=s=>(s==null?void 0:s.name)==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},tO=(e,t,n)=>{let s;const i=e.dom;let c=t.cloneNode(!0);const u=document.implementation;if(u.createHTMLDocument){const g=u.createHTMLDocument("");Dt.each(c.nodeName==="BODY"?c.childNodes:[c],v=>{g.body.appendChild(g.importNode(v,!0))}),c.nodeName!=="BODY"?c=g.body.firstChild:c=g.body,s=i.doc,i.doc=g}return G7(e,{...n,node:c}),s&&(i.doc=s),c},oO=(e,t)=>Qe(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,nO=(e,t,n)=>oO(e,n)?tO(e,t,n):t,t2=(e,t,n)=>{Dt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,i)=>{let c=s.length;for(;c--;)s[c].attr(i,null)}),t.push(n))},LB=(e,t,n)=>!t.no_events&&e?qE(e,{...t,content:n}).content:n,sO=(e,t,n)=>{const s=pl(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||u1(ue.fromDom(t))?s:Dt.trim(s)},rO=(e,t,n)=>{const s=n.selection?{forced_root_block:!1,...n}:n,i=e.parse(t,s);return fC(i),i},aO=(e,t,n)=>qg(e,t).serialize(n),V3=(e,t,n,s,i)=>{const c=aO(t,n,s);return LB(e,i,c)},iO=(e,t)=>{const n=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=t&&t.dom?t.dom:Ds.DOM,c=t&&t.schema?t.schema:gf(s),u=q1(s,c);eO(u,s,i);const g=(v,S={})=>{const O={format:"html",...S},M=nO(t,v,O),P=sO(i,M,O),j=rO(u,P,O);return O.format==="tree"?j:V3(t,s,c,j,O)};return{schema:c,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:Ze(t2,u,n),getTempAttrs:Et(n),getNodeFilters:u.getNodeFilters,getAttributeFilters:u.getAttributeFilters,removeNodeFilter:u.removeNodeFilter,removeAttributeFilter:u.removeAttributeFilter}},$3=(e,t)=>{const n=iO(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},FB="html",zB=(e,t)=>({...e,format:t,get:!0,getInner:!0}),HB=(e,t={})=>{const n=t.format?t.format:FB,s=zB(t,n);return $u(e,s).fold(Tn,i=>{const c=I3(e,i);return Jw(e,c,i)})},U3="html",VB=(e,t)=>({format:U3,...e,set:!0,content:t}),Ab=(e,t,n={})=>{const s=VB(n,t);return Sb(e,s).map(i=>{const c=dh(e,i.content,i);return Uv(e,c.html,i),c.content}).getOr(t)},$B="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),Z3=[],lO="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),j3=[{name:"export",replacedWith:"Export to PDF"}],W3=(e,t)=>{const n=Co(t,s=>Qt(e,s));return ki(n)},pC=e=>{const t=W3(e,$B),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),ki(t)},UB=e=>W3(e,Z3),cO=(e,t)=>{const n=Dt.makeMap(e.plugins," "),i=Co(t,c=>Qt(n,c));return ki(i)},q3=e=>cO(e,lO),dO=e=>cO(e,j3.map(t=>t.name)),ZB=(e,t)=>{const n=pC(e),s=q3(t),i=s.length>0,c=n.length>0,u=t.theme==="mobile";if(i||c||u){const g=`
- `,v=u?`

Themes:${g}mobile`:"",S=i?`

Plugins:${g}${s.join(g)}`:"",O=c?`

Options:${g}${n.join(g)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+v+S+O)}},jB=e=>js(j3,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),WB=(e,t)=>{const n=UB(e),s=dO(t),i=s.length>0,c=n.length>0;if(i||c){const u=`
- `,g=i?`

Plugins:${u}${s.map(jB).join(u)}`:"",v=c?`

Options:${u}${n.join(u)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+g+v)}},qB=(e,t)=>{ZB(e,t),WB(e,t)},Tb=Ds.DOM,uO=e=>{Tb.setStyle(e.id,"display",e.orgDisplay)},qr=e=>z.from(e).each(t=>t.destroy()),GB=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},KB=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Tb.unbind(t,"submit reset",e.formEventDelegate))},mO=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),i=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Qe(i==null?void 0:i.nextSibling)&&Tb.remove(i.nextSibling),K7(e),e.editorManager.remove(e),!e.inline&&s&&uO(e),Y7(e),Tb.remove(e.getContainer()),qr(t),qr(n),e.destroy()}},G3=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),qr(n),qr(s)),KB(e),GB(e),e.destroyed=!0}},mh=(()=>{const e={};return{add:(i,c)=>{e[i]=c},get:i=>e[i]?e[i]:{icons:{}},has:i=>Qt(e,i)}})(),Db=Oi.ModelManager,fO=(e,t)=>t.dom[e],pO=(e,t)=>parseInt(rc(t,e),10),XB=Ze(fO,"clientWidth"),QB=Ze(fO,"clientHeight"),JB=Ze(pO,"margin-top"),eI=Ze(pO,"margin-left"),tI=e=>e.dom.getBoundingClientRect(),oI=(e,t,n)=>{const s=XB(e),i=QB(e);return t>=0&&n>=0&&t<=s&&n<=i},nI=(e,t,n,s)=>{const i=tI(t),c=e?i.left+t.dom.clientLeft+eI(t):0,u=e?i.top+t.dom.clientTop+JB(t):0,g=n-c,v=s-u;return{x:g,y:v}},sI=(e,t,n)=>{const s=ue.fromDom(e.getBody()),i=e.inline?s:Xf(s),c=nI(e.inline,i,t,n);return oI(i,c.x,c.y)},gO=e=>z.from(e).map(ue.fromDom),hO=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return gO(t).map(Ns).getOr(!1)};var bO=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const K3=e=>{const t=[],n=()=>{const P=e.theme;return P&&P.getNotificationManagerImpl?P.getNotificationManagerImpl():bO()},s=()=>z.from(t[0]),i=(P,j)=>P.type===j.type&&P.text===j.text&&!P.progressBar&&!P.timeout&&!j.progressBar&&!j.timeout,c=()=>{s().each(P=>{P.reposition()})},u=P=>{t.push(P)},g=P=>{ur(t,j=>j===P).each(j=>{t.splice(j,1)})},v=(P,j=!0)=>e.removed||!hO(e)?{}:(j&&e.dispatch("BeforeOpenNotification",{notification:P}),js(t,J=>i(n().getArgs(J),P)).getOrThunk(()=>{e.editorManager.setActive(e);const J=n().open(P,()=>{g(J)},()=>cv(e));return u(J),c(),e.dispatch("OpenNotification",{notification:{...J}}),J})),S=()=>{s().each(P=>{n().close(P),g(P),c()})},O=Et(t);return(P=>{P.on("SkinLoaded",()=>{const j=y1(P);j&&v({text:j,type:"warning",timeout:0},!1),c()}),P.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(c)}),P.on("remove",()=>{st(t.slice(),j=>{n().close(j)})}),P.on("keydown",j=>{var J;const G=((J=j.key)===null||J===void 0?void 0:J.toLowerCase())==="f12"||j.keyCode===123;j.altKey&&G&&(j.preventDefault(),s().map(se=>ue.fromDom(se.getEl())).each(se=>np(se)))})})(e),{open:v,close:S,getNotifications:O}},Y1=Oi.PluginManager,fh=Oi.ThemeManager;var xO=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const vO=e=>{let t=[];const n=()=>{const G=e.theme;return G&&G.getWindowManagerImpl?G.getWindowManagerImpl():xO()},s=(G,se)=>(...ge)=>se?se.apply(G,ge):void 0,i=G=>{e.dispatch("OpenWindow",{dialog:G})},c=G=>{e.dispatch("CloseWindow",{dialog:G})},u=G=>{t.push(G),i(G)},g=G=>{c(G),t=Co(t,se=>se!==G),t.length===0&&e.focus()},v=()=>z.from(t[t.length-1]),S=G=>{e.editorManager.setActive(e),O1(e),e.ui.show();const se=G();return u(se),se},O=(G,se)=>S(()=>n().open(G,se,g)),M=G=>S(()=>n().openUrl(G,g)),P=(G,se,ge)=>{const _e=n();_e.alert(G,s(ge||_e,se))},j=(G,se,ge)=>{const _e=n();_e.confirm(G,s(ge||_e,se))},J=()=>{v().each(G=>{n().close(G),g(G)})};return e.on("remove",()=>{st(t,G=>{n().close(G)})}),{open:O,openUrl:M,alert:P,confirm:j,close:J}},yO=(e,t)=>{e.notificationManager.open({type:"error",text:t})},o2=(e,t)=>{e._skinLoaded?yO(e,t):e.on("SkinLoaded",()=>{yO(e,t)})},rI=(e,t)=>{o2(e,Di.translate(["Failed to upload image: {0}",t]))},n2=(e,t,n)=>{O_(e,t,{message:n}),console.error(n)},Ob=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,wO=(e,t,n)=>{n2(e,"PluginLoadError",Ob("plugin",t,n))},aI=(e,t,n)=>{n2(e,"IconsLoadError",Ob("icons",t,n))},CO=(e,t,n)=>{n2(e,"LanguageLoadError",Ob("language",t,n))},_O=(e,t,n)=>{n2(e,"ThemeLoadError",Ob("theme",t,n))},iI=(e,t,n)=>{n2(e,"ModelLoadError",Ob("model",t,n))},lI=(e,t,n)=>{const s=Di.translate(["Failed to initialize plugin: {0}",t]);O_(e,"PluginLoadError",{message:s}),gC(s,n),o2(e,s)},gC=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},cI=e=>{z.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},Y3=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},hC=(e,t)=>{Y3(e,"StyleWithCSS",t),Y3(e,"enableInlineTableEditing",t),Y3(e,"enableObjectResizing",t)},kO=e=>{e.selection.setRng(e.selection.getRng())},X3=(e,t,n)=>{Ra(e,t)&&!n?tr(e,t):n&&Vi(e,t)},Q3=e=>{const t=ue.fromDom(e.getBody());X3(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),cI(e)},SO=e=>{const t=ue.fromDom(e.getBody());X3(t,"mce-content-readonly",!1),e.hasEditableRoot()&&_s(t,!0),hC(e,!1),cv(e)&&e.focus(),kO(e),e.nodeChanged()},qp=e=>Xx(e),ph="data-mce-contenteditable",dI=e=>{st(mn(e,'*[contenteditable="true"]'),t=>{Hr(t,ph,"true"),_s(t,!1)})},J3=e=>{st(mn(e,`*[${ph}="true"]`),t=>{er(t,ph),_s(t,!0)})},eS=(e,t)=>{const n=ue.fromDom(e.getBody());t?(Q3(e),_s(n,!1),dI(n)):(J3(n),SO(e))},uI=e=>{e.serializer?EO(e):e.on("PreInit",()=>{EO(e)})},EO=e=>{e.parser.addAttributeFilter("contenteditable",t=>{qp(e)&&st(t,n=>{n.attr(ph,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ph,t=>{qp(e)&&st(t,n=>{n.attr("contenteditable",n.attr(ph))})}),e.serializer.addTempAttr(ph)},mI=e=>e.type==="click",AO=["copy"],TO=e=>on(AO,e.type),fI=(e,t)=>zi(t,"a",s=>bn(s,ue.fromDom(e.getBody()))).bind(s=>zs(s,"href")),tS=(e,t)=>{if(mI(t)&&!qt.metaKeyPressed(t)){const n=ue.fromDom(t.target);fI(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const i=e.dom.select(`${s},[name="${Xl(s,"#")}"]`);i.length&&e.selection.scrollIntoView(i[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else TO(t)&&e.dispatch(t.type,t)},Mf=e=>{e.on("ShowCaret ObjectSelected",t=>{qp(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||eS(e,t.state)})},DO=e=>{uI(e),Mf(e)},OO=e=>/^[a-z0-9\-]+$/i.test(e),Nb=e=>"content/"+e+"/content.css",oS=e=>tinymce.Resource.has(Nb(e)),NO=e=>nS(e,my(e)),RO=e=>nS(e,qx(e)),nS=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",i=`content${e.editorManager.suffix}.css`;return Yo(t,c=>oS(c)?c:OO(c)&&!e.inline?`${n}/${c}/${i}`:e.documentBaseURI.toAbsolute(c))},pI=e=>{e.contentCSS=e.contentCSS.concat(NO(e),RO(e))},sS=e=>e?xs(e.getElementsByTagName("img")):[],gI=(e,t)=>{const n={};return{findAll:(i,c=qo)=>{const u=Co(sS(i),v=>{const S=v.src;return v.hasAttribute("data-mce-bogus")||v.hasAttribute("data-mce-placeholder")||!S||S===Vo.transparentSrc?!1:ar(S,"blob:")?!e.isUploaded(S)&&c(v):ar(S,"data:")?c(v):!1}),g=Yo(u,v=>{const S=v.src;if(Qt(n,S))return n[S].then(O=>We(O)?O:{image:v,blobInfo:O.blobInfo});{const O=tB(t,S).then(M=>(delete n[S],{image:v,blobInfo:M})).catch(M=>(delete n[S],M));return n[S]=O,O}});return Promise.all(g)}}},MO=()=>{let n={};const s=(P,j)=>({status:P,resultUri:j}),i=P=>P in n;return{hasBlobUri:i,getResultUri:P=>{const j=n[P];return j?j.resultUri:null},isPending:P=>i(P)?n[P].status===1:!1,isUploaded:P=>i(P)?n[P].status===2:!1,markPending:P=>{n[P]=s(1,null)},markUploaded:(P,j)=>{n[P]=s(2,j)},removeFailed:P=>{delete n[P]},destroy:()=>{n={}}}};let hI=0;const bC=()=>{const e=()=>Math.round(yd()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},bI=e=>e+hI+++bC(),rS=()=>{let e=[];const t=M=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[M.toLowerCase()]||"dat",n=(M,P,j,J,G)=>{if(We(M))return s({id:M,name:J,filename:G,blob:P,base64:j});if(ne(M))return s(M);throw new Error("Unknown input type")},s=M=>{if(!M.blob||!M.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const P=M.id||bI("blobid"),j=M.name||P,J=M.blob;return{id:Et(P),name:Et(j),filename:Et(M.filename||j+"."+t(J.type)),blob:Et(J),base64:Et(M.base64),blobUri:Et(M.blobUri||URL.createObjectURL(J)),uri:Et(M.uri)}},i=M=>{u(M.id())||e.push(M)},c=M=>js(e,M).getOrUndefined(),u=M=>c(P=>P.id()===M);return{create:n,add:i,get:u,getByUri:M=>c(P=>P.blobUri()===M),getByData:(M,P)=>c(j=>j.base64()===M&&j.blob().type===P),findFirst:c,removeByUri:M=>{e=Co(e,P=>P.blobUri()===M?(URL.revokeObjectURL(P.blobUri()),!1):!0)},destroy:()=>{st(e,M=>{URL.revokeObjectURL(M.blobUri())}),e=[]}}},aS=(e,t)=>{const n={},s=(G,se)=>G?G.replace(/\/$/,"")+"/"+se.replace(/^\//,""):se,i=(G,se)=>new Promise((ge,_e)=>{const Re=new XMLHttpRequest;Re.open("POST",t.url),Re.withCredentials=t.credentials,Re.upload.onprogress=dt=>{se(dt.loaded/dt.total*100)},Re.onerror=()=>{_e("Image upload failed due to a XHR Transport error. Code: "+Re.status)},Re.onload=()=>{if(Re.status<200||Re.status>=300){_e("HTTP Error: "+Re.status);return}const dt=JSON.parse(Re.responseText);if(!dt||!We(dt.location)){_e("Invalid JSON: "+Re.responseText);return}ge(s(t.basePath,dt.location))};const $e=new FormData;$e.append("file",G.blob(),G.filename()),Re.send($e)}),c=Jt(t.handler)?t.handler:i,u=()=>new Promise(G=>{G([])}),g=(G,se)=>({url:se,blobInfo:G,status:!0}),v=(G,se)=>({url:"",blobInfo:G,status:!1,error:se}),S=(G,se)=>{Dt.each(n[G],ge=>{ge(se)}),delete n[G]},O=(G,se,ge)=>(e.markPending(G.blobUri()),new Promise(_e=>{let Re,$e;try{const dt=()=>{Re&&(Re.close(),$e=To)},At=Xe=>{dt(),e.markUploaded(G.blobUri(),Xe),S(G.blobUri(),g(G,Xe)),_e(g(G,Xe))},Gt=Xe=>{dt(),e.removeFailed(G.blobUri()),S(G.blobUri(),v(G,Xe)),_e(v(G,Xe))};$e=Xe=>{Xe<0||Xe>100||z.from(Re).orThunk(()=>z.from(ge).map(dn)).each(qe=>{Re=qe,qe.progressBar.value(Xe)})},se(G,$e).then(At,Xe=>{Gt(We(Xe)?{message:Xe}:Xe)})}catch(dt){_e(v(G,dt))}})),M=G=>G===i,P=G=>{const se=G.blobUri();return new Promise(ge=>{n[se]=n[se]||[],n[se].push(ge)})},j=(G,se)=>(G=Dt.grep(G,ge=>!e.isUploaded(ge.blobUri())),Promise.all(Dt.map(G,ge=>e.isPending(ge.blobUri())?P(ge):O(ge,c,se))));return{upload:(G,se)=>!t.url&&M(c)?u():j(G,se)}},iS=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),BO=(e,t)=>aS(t,{url:aA(e),basePath:iA(e),credentials:lN(e),handler:cN(e)}),IO=e=>{const t=MO(),n=BO(e,t);return{upload:(s,i=!0)=>n.upload(s,i?iS(e):void 0)}},xC=(e,t)=>e.dom.isEmpty(t.dom)&&Qe(e.schema.getTextBlockElements()[No(t)]),PO=e=>t=>{xC(e,t)&&Zn(t,ue.fromHtml('<br data-mce-bogus="1" />'))},LO=e=>{const t=rS();let n,s;const i=MO(),c=[],u=Re=>$e=>e.selection?Re($e):[],g=Re=>Re+(Re.indexOf("?")===-1?"?":"&")+new Date().getTime(),v=(Re,$e,dt)=>{let At=0;do At=Re.indexOf($e,At),At!==-1&&(Re=Re.substring(0,At)+dt+Re.substr(At+$e.length),At+=dt.length-$e.length+1);while(At!==-1);return Re},S=(Re,$e,dt)=>{const At=`src="${dt}"${dt===Vo.transparentSrc?' data-mce-placeholder="1"':""}`;return Re=v(Re,`src="${$e}"`,At),Re=v(Re,'data-mce-src="'+$e+'"','data-mce-src="'+dt+'"'),Re},O=(Re,$e)=>{st(e.undoManager.data,dt=>{dt.type==="fragmented"?dt.fragments=Yo(dt.fragments,At=>S(At,Re,$e)):dt.content=S(dt.content,Re,$e)})},M=(Re,$e)=>{const dt=e.convertURL($e,"src");O(Re.src,$e),sc(ue.fromDom(Re),{src:ly(e)?g($e):$e,"data-mce-src":dt})},P=()=>(n||(n=BO(e,i)),se().then(u(Re=>{const $e=Yo(Re,dt=>dt.blobInfo);return n.upload($e,iS(e)).then(u(dt=>{const At=[];let Gt=!1;const Xe=Yo(dt,(qe,mt)=>{const{blobInfo:Zt,image:io}=Re[mt];let Jo=!1;return qe.status&&rA(e)?(qe.url&&!Dr(io.src,qe.url)&&(Gt=!0),t.removeByUri(io.src),vl(e)||M(io,qe.url)):qe.error&&(qe.error.remove&&(O(io.src,Vo.transparentSrc),At.push(io),Jo=!0),rI(e,qe.error.message)),{element:io,status:qe.status,uploadUri:qe.url,blobInfo:Zt,removed:Jo}});return At.length>0&&!vl(e)?e.undoManager.transact(()=>{st(Io(At),qe=>{const mt=Ec(qe);k(qe),mt.each(PO(e)),t.removeByUri(qe.dom.src)})}):Gt&&e.undoManager.dispatchChange(),Xe}))}))),j=()=>H_(e)?P():Promise.resolve([]),J=Re=>hn(c,$e=>$e(Re)),G=Re=>{c.push(Re)},se=()=>(s||(s=gI(i,t)),s.findAll(e.getBody(),J).then(u(Re=>{const $e=Co(Re,dt=>We(dt)?(o2(e,dt),!1):dt.uriType!=="blob");return vl(e)||st($e,dt=>{O(dt.image.src,dt.blobInfo.blobUri()),dt.image.src=dt.blobInfo.blobUri(),dt.image.removeAttribute("data-mce-src")}),$e}))),ge=()=>{t.destroy(),i.destroy(),s=n=null},_e=Re=>Re.replace(/src="(blob:[^"]+)"/g,($e,dt)=>{const At=i.getResultUri(dt);if(At)return'src="'+At+'"';let Gt=t.getByUri(dt);return Gt||(Gt=ws(e.editorManager.get(),(Xe,qe)=>Xe||qe.editorUpload&&qe.editorUpload.blobCache.getByUri(dt),void 0)),Gt?'src="data:'+Gt.blob().type+";base64,"+Gt.base64()+'"':$e});return e.on("SetContent",()=>{H_(e)?j():se()}),e.on("RawSaveContent",Re=>{Re.content=_e(Re.content)}),e.on("GetContent",Re=>{Re.source_view||Re.format==="raw"||Re.format==="tree"||(Re.content=_e(Re.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Re=>{st(Re,$e=>{const dt=$e.attr("src");if(!dt||t.getByUri(dt))return;const At=i.getResultUri(dt);At&&$e.attr("src",At)})})}),{blobCache:t,addFilter:G,uploadImages:P,uploadImagesAuto:j,scanForImages:se,destroy:ge}},xI=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:i=>{t.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:i=>{t.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const i={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},u={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[u,i,c]:[i,u,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(i,c,u)=>Wt(i)&&i.hasAttribute("href"),onformat:(i,c,u)=>{Dt.each(u,(g,v)=>{t.setAttrib(i,v,g)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":i=>{var c;return(c=i==null?void 0:i.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Dt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),i=>{s[i]={block:i,remove:"all"}}),s},FO={remove_similar:!0,inherit:!1},gh={selector:"td,th",...FO},zO={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...gh},tablecellverticalalign:{styles:{"vertical-align":"%value"},...gh},tablecellbordercolor:{styles:{borderColor:"%value"},...gh},tablecellclass:{classes:["%value"],...gh},tableclass:{selector:"table",classes:["%value"],...FO},tablecellborderstyle:{styles:{borderStyle:"%value"},...gh},tablecellborderwidth:{styles:{borderWidth:"%value"},...gh}},HO=Et(zO),vI=e=>{const t={},n=u=>Qe(u)?t[u]:t,s=u=>Qt(t,u),i=(u,g)=>{u&&(We(u)?(pe(g)||(g=[g]),st(g,v=>{wn(v.deep)&&(v.deep=!Wd(v)),wn(v.split)&&(v.split=!Wd(v)||ri(v)),wn(v.remove)&&Wd(v)&&!ri(v)&&(v.remove="none"),Wd(v)&&ri(v)&&(v.mixed=!0,v.block_expand=!0),We(v.classes)&&(v.classes=v.classes.split(/\s+/))}),t[u]=g):Un(u,(v,S)=>{i(S,v)}))},c=u=>(u&&t[u]&&delete t[u],t);return i(xI(e)),i(HO()),i(fN(e)),{get:n,has:s,register:i,unregister:c}},vC=Dt.each,yl=Ds.DOM,lS=e=>Qe(e)&&ne(e),VO=(e,t)=>{const n=t&&t.schema||gf({}),s=(v,S)=>{S.classes.length>0&&yl.addClass(v,S.classes.join(" ")),yl.setAttribs(v,S.attrs)},i=v=>{const S=We(v)?{name:v,classes:[],attrs:{}}:v,O=yl.create(S.name);return s(O,S),O},c=(v,S)=>{const O=n.getElementRule(v.nodeName.toLowerCase()),M=O==null?void 0:O.parentsRequired;return M&&M.length?S&&on(M,S)?S:M[0]:!1},u=(v,S,O)=>{let M;const P=S[0],j=lS(P)?P.name:void 0,J=c(v,j);if(J)j===J?(M=P,S=S.slice(1)):M=J;else if(P)M=P,S=S.slice(1);else if(!O)return v;const G=M?i(M):yl.create("div");G.appendChild(v),O&&Dt.each(O,ge=>{const _e=i(ge);G.insertBefore(_e,v)});const se=lS(M)?M.siblings:void 0;return u(G,S,se)},g=yl.create("div");if(e.length>0){const v=e[0],S=i(v),O=lS(v)?v.siblings:void 0;g.appendChild(u(S,e.slice(1),O))}return g},$O=e=>{e=Dt.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,i,c,u,g)=>{switch(i){case"#":n.attrs.id=c;break;case".":n.classes.push(c);break;case":":Dt.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(n.attrs[c]=c);break}if(u==="["){const v=g.match(/([\w\-]+)(?:\=\"([^\"]+))?/);v&&(n.attrs[v[1]]=v[2])}return""})),n.name=t||"div",n},UO=e=>We(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Dt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=Dt.map(t.split(/(?:~\+|~|\+)/),$O),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],yC=(e,t)=>{let n="",s=si(e);if(s==="")return"";const i=P=>We(P)?P.replace(/%(\w+)/g,""):"",c=(P,j)=>yl.getStyle(j??e.getBody(),P,!0);if(We(t)){const P=e.formatter.get(t);if(!P)return"";t=P[0]}if("preview"in t){const P=t.preview;if(P===!1)return"";s=P||s}let u=t.block||t.inline||"span",g;const v=UO(t.selector);v.length>0?(v[0].name||(v[0].name=u),u=t.selector,g=VO(v,e)):g=VO([u],e);const S=yl.select(u,g)[0]||g.firstChild;vC(t.styles,(P,j)=>{const J=i(P);J&&yl.setStyle(S,j,J)}),vC(t.attributes,(P,j)=>{const J=i(P);J&&yl.setAttrib(S,j,J)}),vC(t.classes,P=>{const j=i(P);yl.hasClass(S,j)||yl.addClass(S,j)}),e.dispatch("PreviewFormats"),yl.setStyles(g,{position:"absolute",left:-65535}),e.getBody().appendChild(g);const O=c("fontSize"),M=/px$/.test(O)?parseInt(O,10):0;return vC(s.split(" "),P=>{let j=c(P,S);if(!(P==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(j)&&(j=c(P),dc(j).toLowerCase()==="#ffffff"))&&!(P==="color"&&dc(j).toLowerCase()==="#000000")){if(P==="font-size"&&/em|%$/.test(j)){if(M===0)return;j=parseFloat(j)/(/%$/.test(j)?100:1)*M+"px"}P==="border"&&j&&(n+="padding:0 2px;"),n+=P+":"+j+";"}}),e.dispatch("AfterPreviewFormats"),yl.remove(g),n},yI=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},ZO=e=>{const t=vI(e),n=Wo({});return yI(e),M4(e),vl(e)||WM(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,i,c)=>{BB(e,s,i,c)},remove:(s,i,c,u)=>{WD(e,s,i,c,u)},toggle:(s,i,c)=>{qD(e,s,i,c)},match:(s,i,c,u)=>B3(e,s,i,c,u),closest:s=>MB(e,s),matchAll:(s,i)=>Jv(e,s,i),matchNode:(s,i,c,u)=>RB(e,s,i,c,u),canApply:s=>jD(e,s),formatChanged:(s,i,c,u)=>IB(e,n,s,i,c,u),getCssText:Ze(yC,e)}},jO=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},wI=(e,t,n)=>{const s=Wo(!1),i=v=>{aC(t,!1,n),t.add({},v)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",v=>{const S=v.command;jO(S)||(DD(t,n),t.beforeChange())}),e.on("ExecCommand",v=>{const S=v.command;jO(S)||i(v)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",v=>{const S=v.keyCode;if(v.isDefaultPrevented())return;const O=Vo.os.isMacOS()&&v.key==="Meta";(S>=33&&S<=36||S>=37&&S<=40||S===45||v.ctrlKey||O)&&(i(),e.nodeChanged()),(S===46||S===8)&&e.nodeChanged(),s.get()&&t.typing&&!Rf(Kv(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",v=>{const S=v.keyCode;if(v.isDefaultPrevented())return;if(S>=33&&S<=36||S>=37&&S<=40||S===45){t.typing&&i(v);return}const O=v.ctrlKey&&!v.altKey||v.metaKey;if((S<16||S>20)&&S!==224&&S!==91&&!t.typing&&!O){t.beforeChange(),aC(t,!0,n),t.add({},v),s.set(!0);return}(Vo.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&t.beforeChange()}),e.on("mousedown",v=>{t.typing&&i(v)});const c=v=>v.inputType==="insertReplacementText",u=v=>v.inputType==="insertText"&&v.data===null,g=v=>v.inputType==="insertFromPaste"||v.inputType==="insertFromDrop";e.on("input",v=>{v.inputType&&(c(v)||u(v)||g(v))&&i(v)}),e.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||e.nodeChanged()})},CI=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},WO=e=>{const t=nl(),n=Wo(0),s=Wo(0),i={data:[],typing:!1,beforeChange:()=>{FD(e,n,t)},add:(c,u)=>zD(e,i,s,n,t,c,u),dispatchChange:()=>{e.setDirty(!0);const c=Kv(e);c.bookmark=E_(e.selection),e.dispatch("change",{level:c,lastLevel:nr(i.data,s.get()).getOrUndefined()})},undo:()=>HD(e,i,n,s),redo:()=>NB(e,s,i.data),clear:()=>{Qv(e,i,s)},reset:()=>{lC(e,i)},hasUndo:()=>VD(e,i,s),hasRedo:()=>$D(e,i,s),transact:c=>UD(e,i,n,c),ignore:c=>{ZD(e,n,c)},extra:(c,u)=>{cC(e,i,s,c,u)}};return vl(e)||wI(e,i,n),CI(e),i},_I=[9,27,qt.HOME,qt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,qt.DOWN,qt.UP,qt.LEFT,qt.RIGHT].concat(Vo.browser.isFirefox()?[224]:[]),qO="data-mce-placeholder",GO=e=>e.type==="keydown"||e.type==="keyup",KO=e=>{const t=e.keyCode;return t===qt.BACKSPACE||t===qt.DELETE},ks=e=>{if(GO(e)){const t=e.keyCode;return!KO(e)&&(qt.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||on(_I,t))}else return!1},YO=e=>GO(e)&&!(KO(e)||e.type==="keyup"&&e.keyCode===229),cS=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},XO=e=>{var t;const n=e.dom,s=Ni(e),i=(t=fy(e))!==null&&t!==void 0?t:"",c=(u,g)=>{if(ks(u))return;const v=e.getBody(),S=YO(u)?!1:cS(n,v,s);(n.getAttrib(v,qO)!==""!==S||g)&&(n.setAttrib(v,qO,S?i:null),cd(e,S),e.on(S?"keydown":"keyup",c),e.off(S?"keyup":"keydown",c))};La(i)&&e.on("init",u=>{c(u,!0),e.on("change SetContent ExecCommand",c),e.on("paste",g=>Oo.setEditorTimeout(e,()=>c(g)))})},QO=(e,t)=>({block:e,position:t}),wC=(e,t)=>({from:e,to:t}),dS=(e,t)=>{const n=ue.fromDom(e),s=ue.fromDom(t.container());return vw(n,s).map(i=>QO(i,t))},uS=e=>!(Ii(e.to.block,e.from.block)||Ii(e.from.block,e.to.block)),kI=e=>!bn(e.from.block,e.to.block),JO=(e,t)=>Vr(t,i=>kp(i)||lc(i.dom),i=>bn(i,e)).filter(fr).getOr(e),e8=(e,t)=>{const n=ue.fromDom(e);return bn(JO(n,t.from.block),JO(n,t.to.block))},SI=e=>Ts(e.from.block.dom)===!1&&Ts(e.to.block.dom)===!1,EI=e=>{const t=n=>_p(n)||qh(n.dom)||xm(n);return t(e.from.block)&&t(e.to.block)},t8=(e,t,n,s)=>or(s.position.getNode())&&!Ai(e,s.block)?Vg(!1,s.block.dom).bind(i=>i.isEqual(s.position)?xi(n,t,i).bind(c=>dS(t,c)):z.some(s)).getOr(s):s,AI=(e,t,n,s)=>{const i=dS(t,Ke.fromRangeStart(s)),c=i.bind(u=>xi(n,t,u.position).bind(g=>dS(t,g).map(v=>t8(e,t,n,v))));return sr(i,c,wC).filter(u=>kI(u)&&e8(t,u)&&SI(u)&&EI(u)&&uS(u))},o8=(e,t,n,s)=>s.collapsed?AI(e,t,n,s):z.none(),n8=(e,t)=>{const n=Da(e);return ur(n,s=>t.isBlock(No(s))).fold(Et(n),s=>n.slice(0,s))},CC=(e,t)=>{const n=n8(e,t);return st(n,k),n},mS=(e,t,n)=>{const s=Hp(n,t);return js(s.reverse(),i=>Ai(e,i)).each(k)},fS=(e,t)=>Co(Nn(t),n=>!Ai(e,n)).length===0,s8=(e,t,n,s,i)=>{if(Ai(s,n))return Au(n),hl(n.dom);fS(s,i)&&Ai(s,t)&&ei(i,ue.fromTag("br"));const c=uc(n.dom,Ke.before(i.dom));return st(CC(t,s),u=>{ei(i,u)}),mS(s,e,t),c},TI=(e,t)=>e.isInline(No(t)),r8=(e,t,n,s)=>{if(Ai(s,n)){if(Ai(s,t)){const u=yc((g=>{const v=(S,O)=>di(S).fold(()=>O,M=>TI(s,M)?v(M,O.concat(le(M))):O);return v(g,[])})(n),(g,v)=>(rp(g,v),v),vm());fu(t),Zn(t,u)}return k(n),hl(t.dom)}const i=Zd(n.dom);return st(CC(t,s),c=>{Zn(n,c)}),mS(s,e,t),i},a8=(e,t)=>{const n=Hp(t,e);return z.from(n[n.length-1])},_C=(e,t)=>Ii(t,e)?a8(t,e):z.none(),kC=(e,t)=>{Vg(e,t.dom).bind(n=>z.from(n.getNode())).map(ue.fromDom).filter(Wi).each(k)},SC=(e,t,n,s)=>(kC(!0,t),kC(!1,n),_C(t,n).fold(Ze(r8,e,t,n,s),Ze(s8,e,t,n,s))),X1=(e,t,n,s,i)=>t?SC(e,s,n,i):SC(e,n,s,i),pS=(e,t)=>{const n=ue.fromDom(e.getBody());return o8(e.schema,n.dom,t,e.selection.getRng()).map(i=>()=>{X1(n,t,i.from.block,i.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},Rb=(e,t,n)=>{const s=t.getRng();return sr(vw(e,ue.fromDom(s.startContainer)),vw(e,ue.fromDom(s.endContainer)),(i,c)=>bn(i,c)?z.none():z.some(()=>{s.deleteContents(),X1(e,!0,i,c,n).each(u=>{t.setRng(u.toRange())})})).getOr(z.none())},Mb=(e,t)=>{const n=ue.fromDom(t),s=Ze(bn,e);return lr(n,kp,s).isSome()},Bb=(e,t)=>Mb(e,t.startContainer)||Mb(e,t.endContainer),gS=(e,t)=>{const n=uc(e.dom,Ke.fromRangeStart(t)).isNone(),s=gl(e.dom,Ke.fromRangeEnd(t)).isNone();return!Bb(e,t)&&n&&s},i8=e=>z.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),l8=e=>{const t=ue.fromDom(e.getBody()),n=e.selection.getRng();return gS(t,n)?i8(e):Rb(t,e.selection,e.schema)},s2=(e,t)=>e.selection.isCollapsed()?z.none():l8(e),Bf=(e,t,n,s,i)=>z.from(t._selectionOverrides.showCaret(e,n,s,i)),c8=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Ib=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?z.none():z.some(c8(t)),hS=(e,t,n)=>{const s=ik(1,e.getBody(),t),i=Ke.fromRangeStart(s),c=i.getNode();if(j0(c))return Bf(1,e,c,!i.isAtEnd(),!1);const u=i.getNode(!0);if(j0(u))return Bf(1,e,u,!1,!1);const g=Vp(e.dom.getRoot(),i.getNode());return j0(g)?Bf(1,e,g,!1,n):z.none()},EC=(e,t,n)=>t.collapsed?hS(e,t,n).getOr(t):t,d8=e=>zp(e)||vv(e),bS=e=>Kg(e)||yv(e),DI=(e,t)=>{_t(t)&&t.data.length===0&&e.remove(t)},xS=(e,t,n,s,i,c)=>{Bf(s,e,c.getNode(!i),i,!0).each(u=>{if(t.collapsed){const g=t.cloneRange();i?g.setEnd(u.startContainer,u.startOffset):g.setStart(u.endContainer,u.endOffset),g.deleteContents()}else t.deleteContents();e.selection.setRng(u)}),DI(e.dom,n)},u8=(e,t)=>{const n=e.selection.getRng();if(!_t(n.commonAncestorContainer))return z.none();const s=t?1:-1,i=Sm(e.getBody()),c=Ze(_y,t?i.next:i.prev),u=t?d8:bS,g=Jx(s,e.getBody(),n),v=c(g),S=v&&Yd(t,v);if(!S||!ky(g,S))return z.none();if(u(S))return z.some(()=>xS(e,n,g.getNode(),s,t,S));const O=c(S);return O&&u(O)&&ky(S,O)?z.some(()=>xS(e,n,g.getNode(),s,t,O)):z.none()},AC=(e,t)=>u8(e,t),Pb=(e,t)=>{const n=e.getBody();return t?hl(n).filter(zp):Zd(n).filter(Kg)},TC=e=>{const t=e.selection.getRng();return!t.collapsed&&(Pb(e,!0).exists(n=>n.isEqual(Ke.fromRangeStart(t)))||Pb(e,!1).exists(n=>n.isEqual(Ke.fromRangeEnd(t))))},m8=e=>Qe(e)&&(kp(ue.fromDom(e))||xm(ue.fromDom(e))),hd=ka.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),OI=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return Wt(n)&&n.getAttribute("data-mce-caret")===s},NI=(e,t,n,s,i)=>{const c=u=>i.isInline(u.nodeName.toLowerCase())&&!km(n,s,e);return $A(!t,n).fold(()=>$A(t,s).fold(So,c),c)},f8=(e,t,n,s,i)=>{const c=i.getNode(!n);return vw(ue.fromDom(t),ue.fromDom(s.getNode())).map(u=>Ai(e,u)?hd.remove(u.dom):hd.moveToElement(c)).orThunk(()=>z.some(hd.moveToElement(c)))},vS=(e,t,n,s)=>xi(t,e,n).bind(i=>m8(i.getNode())||NI(e,t,n,i,s)?z.none():t&&Ts(i.getNode())||!t&&Ts(i.getNode(!0))?f8(s,e,t,n,i):t&&Kg(n)||!t&&zp(n)?z.some(hd.moveToPosition(i)):z.none()),p8=(e,t)=>tn(t)?z.none():e&&Ts(t.nextSibling)?z.some(hd.moveToElement(t.nextSibling)):!e&&Ts(t.previousSibling)?z.some(hd.moveToElement(t.previousSibling)):z.none(),g8=(e,t,n)=>n.fold(s=>z.some(hd.remove(s)),s=>z.some(hd.moveToElement(s)),s=>km(t,s,e)?z.none():z.some(hd.moveToPosition(s))),RI=(e,t,n,s)=>OI(t,n)?p8(t,n.getNode(!t)).orThunk(()=>vS(e,t,n,s)):vS(e,t,n,s).bind(i=>g8(e,n,i)),r2=(e,t,n,s)=>{const i=ik(t?1:-1,e,n),c=Ke.fromRangeStart(i),u=ue.fromDom(e);return!t&&Kg(c)?z.some(hd.remove(c.getNode(!0))):t&&zp(c)?z.some(hd.remove(c.getNode())):!t&&zp(c)&&Xg(u,c,s)?tT(u,c,s).map(g=>hd.remove(g.getNode())):t&&Kg(c)&&lb(u,c,s)?cb(u,c,s).map(g=>hd.remove(g.getNode())):RI(e,t,c,s)},MI=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Rm(e,t,ue.fromDom(n)),!0),h8=(e,t)=>n=>{const s=t?Ke.before(n):Ke.after(n);return e.selection.setRng(s.toRange()),!0},DC=e=>t=>(e.selection.setRng(t.toRange()),!0),yS=(e,t)=>z.from(Vp(e.getBody(),t)),b8=(e,t)=>{const n=e.selection.getNode();return yS(e,n).filter(Ts).fold(()=>r2(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(MI(e,t),h8(e,t),DC(e))),()=>z.some(To))},BI=e=>{st(mn(e,".mce-offscreen-selection"),k)},II=(e,t)=>{const n=e.selection.getNode();return Ts(n)&&!sd(n)?yS(e,n.parentNode).filter(Ts).fold(()=>z.some(()=>{BI(ue.fromDom(e.getBody())),Rm(e,t,ue.fromDom(e.selection.getNode())),d4(e)}),()=>z.some(To)):TC(e)?z.some(()=>{Xd(e,e.selection.getRng(),ue.fromDom(e.getBody()))}):z.none()},OC=e=>{const t=e.dom,n=e.selection,s=Vp(e.getBody(),n.getNode());if(lc(s)&&t.isBlock(s)&&t.isEmpty(s)){const i=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(i),n.setRng(Ke.before(i).toRange())}return!0},Lb=(e,t)=>e.selection.isCollapsed()?b8(e,t):II(e,t),wS=e=>e.hasOwnProperty("text"),NC=e=>e.hasOwnProperty("marker"),CS=(e,t)=>{const n=(c,u)=>{if(_t(c))return{text:c,offset:u};{const g=t(),v=c.childNodes;return u<v.length?(c.insertBefore(g,v[u]),{marker:g,before:!0}):(c.appendChild(g),{marker:g,before:!1})}},s=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:s}},x8=e=>{var t,n;const{start:s,end:i}=e,c=new window.Range;return wS(s)?c.setStart(s.text,s.offset):NC(s)&&(s.before?c.setStartBefore(s.marker):c.setStartAfter(s.marker),(t=s.marker.parentNode)===null||t===void 0||t.removeChild(s.marker)),wS(i)?c.setEnd(i.text,i.offset):NC(i)&&(i.before?c.setEndBefore(i.marker):c.setEndAfter(i.marker),(n=i.marker.parentNode)===null||n===void 0||n.removeChild(i.marker)),c},RC=(e,t)=>{var n;const s=e.dom,i=s.getParent(e.selection.getStart(),s.isBlock),c=s.getParent(e.selection.getEnd(),s.isBlock),u=e.getBody();if(((n=i==null?void 0:i.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&i&&c&&i===u.firstChild&&c===u.lastChild&&!s.isEmpty(u)){const v=i.cloneNode(!1),S=()=>{if(t?Jg(e):Mm(e),u.firstChild!==i){const O=CS(e.selection.getRng(),()=>document.createElement("span"));Array.from(u.childNodes).forEach(M=>v.appendChild(M)),u.appendChild(v),e.selection.setRng(x8(O))}};return z.some(S)}return z.none()},PI=(e,t)=>{const n=Ke.fromRangeStart(e.selection.getRng());return xi(t,e.getBody(),n).filter(s=>t?Zk(s):jk(s)).bind(s=>wy(t?0:-1,s)).map(s=>()=>e.selection.select(s))},MC=(e,t)=>e.selection.isCollapsed()?PI(e,t):z.none(),Lm=_t,_S=e=>Lm(e)&&e.data[0]===Vs,kS=e=>Lm(e)&&e.data[e.data.length-1]===Vs,v8=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Vs)},y8=e=>{var t;if(Lm(e.previousSibling))return kS(e.previousSibling)||e.previousSibling.appendData(Vs),e.previousSibling;if(Lm(e))return _S(e)||e.insertData(0,Vs),e;{const n=v8(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},LI=e=>{var t,n;if(Lm(e.nextSibling))return _S(e.nextSibling)||e.nextSibling.insertData(0,Vs),e.nextSibling;if(Lm(e))return kS(e)||e.appendData(Vs),e;{const s=v8(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},BC=(e,t)=>e?y8(t):LI(t),SS=Ze(BC,!0),FI=Ze(BC,!1),ES=(e,t)=>_t(e.container())?BC(t,e.container()):BC(t,e.getNode()),IC=(e,t)=>{const n=t.get();return n&&e.container()===n&&ym(n)},PC=(e,t)=>t.fold(n=>{_1(e.get());const s=SS(n);return e.set(s),z.some(Ke(s,s.length-1))},n=>hl(n).map(s=>{if(IC(s,e)){const i=e.get();return Ke(i,1)}else{_1(e.get());const i=ES(s,!0);return e.set(i),Ke(i,1)}}),n=>Zd(n).map(s=>{if(IC(s,e)){const i=e.get();return Ke(i,i.length-1)}else{_1(e.get());const i=ES(s,!1);return e.set(i),Ke(i,i.length-1)}}),n=>{_1(e.get());const s=FI(n);return e.set(s),z.some(Ke(s,1))}),AS=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return z.none()},wl=ka.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),TS=(e,t)=>{const n=Mp(t,e);return n||e},zI=(e,t,n)=>{const s=kT(n),i=TS(t,s.container());return Kd(e,i,s).fold(()=>gl(i,s).bind(Ze(Kd,e,i)).map(c=>wl.before(c)),z.none)},HI=(e,t)=>$g(e,t)===null,LC=(e,t,n)=>Kd(e,t,n).filter(Ze(HI,t)),VI=(e,t,n)=>{const s=l4(n);return LC(e,t,s).bind(i=>uc(i,s).isNone()?z.some(wl.start(i)):z.none())},DS=(e,t,n)=>{const s=kT(n);return LC(e,t,s).bind(i=>gl(i,s).isNone()?z.some(wl.end(i)):z.none())},$I=(e,t,n)=>{const s=l4(n),i=TS(t,s.container());return Kd(e,i,s).fold(()=>uc(i,s).bind(Ze(Kd,e,i)).map(c=>wl.after(c)),z.none)},OS=e=>!xw(NS(e)),If=(e,t,n)=>AS([zI,VI,DS,$I],[e,t,n]).filter(OS),NS=e=>e.fold(Tn,Tn,Tn,Tn),RS=e=>e.fold(Et("before"),Et("start"),Et("end"),Et("after")),Fb=e=>e.fold(wl.before,wl.before,wl.after,wl.after),MS=e=>e.fold(wl.start,wl.start,wl.end,wl.end),FC=(e,t)=>RS(e)===RS(t)&&NS(e)===NS(t),UI=(e,t,n,s,i,c)=>sr(Kd(t,n,s),Kd(t,n,i),(u,g)=>u!==g&&Qg(n,u,g)?wl.after(e?u:g):c).getOr(c),ZI=(e,t)=>e.fold(qo,n=>!FC(n,t)),jI=(e,t,n,s,i)=>{const c=Yd(e,i);return xi(e,n,c).map(Ze(Yd,e)).fold(()=>s.map(Fb),v=>If(t,n,v).map(Ze(UI,e,t,n,c,v)).filter(Ze(ZI,s))).filter(OS)},w8=(e,t)=>e?t.fold($n(z.some,wl.start),z.none,$n(z.some,wl.after),z.none):t.fold(z.none,$n(z.some,wl.before),z.none,$n(z.some,wl.end)),C8=(e,t,n,s)=>{const i=Yd(e,s),c=If(t,n,i);return If(t,n,i).bind(Ze(w8,e)).orThunk(()=>jI(e,t,n,c,s))},WI=e=>Jt(e.selection.getSel().modify),BS=(e,t,n)=>{const s=e?1:-1;return t.setRng(Ke(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},a2=(e,t)=>{const n=t.selection.getRng(),s=e?Ke.fromRangeEnd(n):Ke.fromRangeStart(n);return WI(t)?e&&Ig(s)?BS(!0,t.selection,s):!e&&Ep(s)?BS(!1,t.selection,s):!1:!1};var Fm;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Fm||(Fm={}));const zC=(e,t)=>e===-1?tl(t):t,_8=(e,t,n)=>e===1?t.next(n):t.prev(n),k8=(e,t,n,s)=>or(s.getNode(t===1))?Fm.Br:km(n,s)===!1?Fm.Block:Fm.Wrap,S8=(e,t,n,s)=>{const i=Sm(n);let c=s;const u=[];for(;c;){const g=_8(t,i,c);if(!g)break;if(or(g.getNode(!1)))return t===1?{positions:zC(t,u).concat([g]),breakType:Fm.Br,breakAt:z.some(g)}:{positions:zC(t,u),breakType:Fm.Br,breakAt:z.some(g)};if(!g.isVisible()){c=g;continue}if(e(c,g)){const v=k8(n,t,c,g);return{positions:zC(t,u),breakType:v,breakAt:z.some(g)}}u.push(g),c=g}return{positions:zC(t,u),breakType:Fm.Eol,breakAt:z.none()}},E8=(e,t,n,s)=>t(n,s).breakAt.map(i=>{const c=t(n,i).positions;return e===-1?c.concat(i):[i].concat(c)}).getOr([]),IS=(e,t)=>ws(e,(n,s)=>n.fold(()=>z.some(s),i=>sr(Kt(i.getClientRects()),Kt(s.getClientRects()),(c,u)=>{const g=Math.abs(t-c.left);return Math.abs(t-u.left)<=g?s:i}).or(n)),z.none()),HC=(e,t)=>Kt(t.getClientRects()).bind(n=>IS(e,n.left)),zb=Ze(S8,Ke.isAbove,-1),Q1=Ze(S8,Ke.isBelow,1),PS=Ze(E8,-1,zb),LS=Ze(E8,1,Q1),FS=(e,t)=>zb(e,t).breakAt.isNone(),zS=(e,t)=>Q1(e,t).breakAt.isNone(),qI=e=>hl(e).map(t=>[t].concat(Q1(e,t).positions)).getOr([]),A8=e=>Zd(e).map(t=>zb(e,t).positions.concat(t)).getOr([]),T8=(e,t)=>HC(PS(e,t),t),D8=(e,t)=>HC(LS(e,t),t),GI=Ts,O8=(e,t)=>Math.abs(e.left-t),Pf=(e,t)=>Math.abs(e.right-t),N8=e=>Lr(e,"node"),i2=(e,t)=>Fr(e,(n,s)=>{const i=Math.min(O8(n,t),Pf(n,t)),c=Math.min(O8(s,t),Pf(s,t));return c===i&&N8(s)&&GI(s.node)||c<i?s:n}),KI=e=>{const t=n=>Yo(n,s=>{const i=wm(s);return i.node=e,i});if(Wt(e))return t(e.getClientRects());if(_t(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},HS=e=>na(e,KI);var J1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(J1||(J1={}));const R8=(e,t,n,s)=>{let i=s;for(;i=q0(i,e,it,t);)if(n(i))return},M8=(e,t,n,s,i,c)=>{let u=0;const g=[],v=M=>{let P=HS([M]);e===J1.Up&&(P=P.reverse());for(let j=0;j<P.length;j++){const J=P[j];if(!n(J,S)){if(g.length>0&&t(J,ra(g))&&u++,J.line=u,i(J))return!0;g.push(J)}}return!1},S=ra(c.getClientRects());if(!S)return g;const O=c.getNode();return O&&(v(O),R8(e,s,v,O)),g},B8=(e,t)=>t.line>e,VC=(e,t)=>t.line===e,VS=Ze(M8,J1.Up,Dp,Op),I8=Ze(M8,J1.Down,Op,Dp),$S=e=>ra(e.getClientRects()),YI=(e,t,n,s)=>{const i=Sm(t);let c,u,g,v;const S=[];let O=0;e===J1.Down?(c=i.next,u=Op,g=Dp,v=Ke.after(s)):(c=i.prev,u=Dp,g=Op,v=Ke.before(s));const M=$S(v);do{if(!v.isVisible())continue;const P=$S(v);if(g(P,M))continue;S.length>0&&u(P,ra(S))&&O++;const j=wm(P);if(j.position=v,j.line=O,n(j))return S;S.push(j)}while(v=c(v));return S},US=e=>t=>B8(e,t),ZS=e=>t=>VC(e,t),Lf=(e,t)=>{e.selection.setRng(t),ab(e,e.selection.getRng())},$C=(e,t,n)=>z.some(EC(e,t,n)),jS=(e,t,n,s,i,c)=>{const u=t===1,g=Sm(e.getBody()),v=Ze(_y,u?g.next:g.prev),S=u?s:i;if(!n.collapsed){const J=Lg(n);if(c(J))return Bf(t,e,J,t===-1,!1);if(TC(e)){const G=n.cloneRange();return G.collapse(t===-1),z.from(G)}}const O=Jx(t,e.getBody(),n);if(S(O))return Ib(e,O.getNode(!u));let M=v(O);const P=$x(n);if(M)M=Yd(u,M);else return P?z.some(n):z.none();if(S(M))return Bf(t,e,M.getNode(!u),u,!1);const j=v(M);return j&&S(j)&&ky(M,j)?Bf(t,e,j.getNode(!u),u,!1):P?$C(e,M.toRange(),!1):z.none()},WS=(e,t,n,s,i,c)=>{const u=Jx(t,e.getBody(),n),g=ra(u.getClientRects()),v=t===J1.Down,S=e.getBody();if(!g)return z.none();if(TC(e)){const se=v?Ke.fromRangeEnd(n):Ke.fromRangeStart(n);return(v?D8:T8)(S,se).orThunk(()=>z.from(se)).map(_e=>_e.toRange())}const M=(v?I8:VS)(S,US(1),u),P=Co(M,ZS(1)),j=g.left,J=i2(P,j);if(J&&c(J.node)){const se=Math.abs(j-J.left),ge=Math.abs(j-J.right);return Bf(t,e,J.node,se<ge,!1)}let G;if(s(u)?G=u.getNode():i(u)?G=u.getNode(!0):G=Lg(n),G){const se=YI(t,S,US(1),G);let ge=i2(Co(se,ZS(1)),j);if(ge||(ge=ra(Co(se,ZS(0))),ge))return $C(e,ge.position.toRange(),!1)}return P.length===0?UC(e,v).filter(v?i:s).map(se=>EC(e,se.toRange(),!1)):z.none()},UC=(e,t)=>{const n=e.selection.getRng(),s=t?Ke.fromRangeEnd(n):Ke.fromRangeStart(n),i=HA(s.container(),e.getBody());if(t){const c=Q1(i,s);return jo(c.positions)}else{const c=zb(i,s);return Kt(c.positions)}},qS=(e,t,n)=>UC(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),Hb=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},GS=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},KS=(e,t,n)=>PC(t,n).map(s=>(Hb(e,s),n)),P8=(e,t,n)=>{const s=Ke.fromRangeStart(e);if(e.collapsed)return s;{const i=Ke.fromRangeEnd(e);return n?uc(t,i).getOr(i):gl(t,s).getOr(s)}},L8=(e,t,n)=>{const s=e.getBody(),i=P8(e.selection.getRng(),s,n),c=Ze(Fu,e);return C8(n,c,s,i).bind(g=>KS(e,t,g))},F8=(e,t,n)=>{const s=Yo(mn(ue.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),u=>u.dom),i=Co(s,e),c=Co(n,e);st(ol(i,c),Ze(GS,!1)),st(ol(c,i),Ze(GS,!0))},z8=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=Ke.fromRangeStart(e.selection.getRng());Ke.isTextPosition(s)&&!_T(s)&&(Hb(e,MA(n,s)),t.set(null))}},H8=(e,t,n,s)=>{if(t.selection.isCollapsed()){const i=Co(s,e);st(i,c=>{const u=Ke.fromRangeStart(t.selection.getRng());If(e,t.getBody(),u).bind(g=>KS(t,n,g))})}},ZC=(e,t,n)=>Gx(e)?L8(e,t,n).isSome():!1,jC=(e,t,n)=>Gx(t)?a2(e,t):!1,WC=e=>{const t=Wo(null),n=Ze(Fu,e);return e.on("NodeChange",s=>{Gx(e)&&(F8(n,e.dom,s.parents),z8(e,t),H8(n,e,t,s.parents))}),t},V8=Ze(jC,!0),$8=Ze(jC,!1),l2=(e,t,n)=>{if(Gx(e)){const s=UC(e,t).getOrThunk(()=>{const i=e.selection.getRng();return t?Ke.fromRangeEnd(i):Ke.fromRangeStart(i)});return If(Ze(Fu,e),e.getBody(),s).exists(i=>{const c=Fb(i);return PC(n,c).exists(u=>(Hb(e,u),!0))})}else return!1},YS=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},U8=e=>sr(hl(e),Zd(e),(t,n)=>{const s=Yd(!0,t),i=Yd(!1,n);return gl(e,s).forall(c=>c.isEqual(i))}).getOr(!0),XS=(e,t)=>n=>PC(t,n).map(s=>()=>Hb(e,s)),QS=(e,t,n,s)=>{const i=e.getBody(),c=Ze(Fu,e);e.undoManager.ignore(()=>{e.selection.setRng(YS(n,s)),Mm(e),If(c,i,Ke.fromRangeStart(e.selection.getRng())).map(MS).bind(XS(e,t)).each(Do)}),e.nodeChanged()},XI=(e,t)=>{const n=Mp(t,e);return n||e},Z8=(e,t,n,s)=>{const i=XI(e.getBody(),s.container()),c=Ze(Fu,e),u=If(c,i,s);return u.bind(v=>n?v.fold(Et(z.some(MS(v))),z.none,Et(z.some(Fb(v))),z.none):v.fold(z.none,Et(z.some(Fb(v))),z.none,Et(z.some(MS(v))))).map(XS(e,t)).getOrThunk(()=>{const v=Mu(n,i,s),S=v.bind(O=>If(c,i,O));return sr(u,S,()=>Kd(c,i,s).bind(O=>U8(O)?z.some(()=>{Rm(e,n,ue.fromDom(O))}):z.none())).getOrThunk(()=>S.bind(()=>v.map(O=>()=>{n?QS(e,t,s,O):QS(e,t,O,s)})))})},qC=(e,t,n)=>{if(e.selection.isCollapsed()&&Gx(e)){const s=Ke.fromRangeStart(e.selection.getRng());return Z8(e,t,n,s)}return z.none()},GC=e=>Jm(e)>1,JS=(e,t)=>{const n=ue.fromDom(e.getBody()),s=ue.fromDom(e.selection.getStart()),i=Hp(s,n);return ur(i,t).fold(Et(i),c=>i.slice(0,c))},j8=e=>Jm(e)===1,eE=e=>JS(e,t=>e.schema.isBlock(No(t))||GC(t)),QI=e=>JS(e,t=>e.schema.isBlock(No(t))),tE=(e,t)=>{const n=Ze(o6,e);return na(t,s=>n(s)?[s.dom]:[])},W8=e=>{const t=QI(e);return tE(e,t)},q8=(e,t,n,s)=>{const i=tE(t,s);if(i.length===0)Rm(t,e,n);else{const c=Vw(n.dom,i);t.selection.setRng(c.toRange())}},G8=(e,t)=>{const n=Co(eE(e),j8);return jo(n).bind(s=>{const i=Ke.fromRangeStart(e.selection.getRng());return TT(t,i,s.dom)&&!vk(s)?z.some(()=>q8(t,e,s,n)):z.none()})},JI=(e,t)=>{const n=t.parentElement;return or(t)&&!yn(n)&&e.dom.isEmpty(n)},eP=e=>vk(ue.fromDom(e)),K8=(e,t)=>{const n=e.selection.getStart(),s=JI(e,n)||eP(n)?Vw(n,t):AM(e.selection.getRng(),t);e.selection.setRng(s.toRange())},o=(e,t)=>{const n=ol(t,W8(e));n.length>0&&K8(e,n)},r=e=>_t(e.startContainer),a=e=>e.startOffset===0&&r(e),l=(e,t)=>{const n=t.startContainer.parentElement;return!yn(n)&&o6(e,ue.fromDom(n))},d=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!yn(t)&&!yn(n)&&t.isEqualNode(n)},m=e=>{const t=e.endContainer;return e.endOffset===(_t(t)?t.length:t.childNodes.length)},p=e=>d(e)&&m(e),b=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),x=e=>p(e)||b(e),w=e=>{const t=e.selection.getRng();return a(t)&&l(e,t)&&x(t)},E=e=>{if(w(e)){const t=W8(e);return z.some(()=>{Mm(e),o(e,t)})}else return z.none()},C=(e,t)=>e.selection.isCollapsed()?G8(e,t):E(e),T=(e,t)=>bu(e,n=>ud(n.dom),n=>t.isBlock(No(n))),B=e=>T(ue.fromDom(e.selection.getStart()),e.schema),L=e=>{const t=e.selection.getRng();return t.collapsed&&(r(t)||e.dom.isEmpty(t.startContainer))&&!B(e)},Y=e=>(L(e)&&K8(e,[]),!0),W=(e,t,n)=>Qe(n)?z.some(()=>{e._selectionOverrides.hideFakeCaret(),Rm(e,t,ue.fromDom(n))}):z.none(),X=(e,t)=>{const n=t?vv:yv,i=Jx(t?1:-1,e.getBody(),e.selection.getRng());return n(i)?W(e,t,i.getNode(!t)):z.from(Yd(t,i)).filter(c=>n(c)&&ky(i,c)).bind(c=>W(e,t,c.getNode(!t)))},$=(e,t)=>{const n=e.selection.getNode();return cc(n)?W(e,t,n):z.none()},U=(e,t)=>e.selection.isCollapsed()?X(e,t):$(e,t),te=e=>Vr(e,t=>lc(t.dom)||Ts(t.dom)).exists(t=>lc(t.dom)),oe=e=>Cl(e??"").getOr(0),de=(e,t)=>{const n=e||Hx(t)?"margin":"padding",s=rc(t,"direction")==="rtl"?"-right":"-left";return n+s},he=(e,t,n,s,i,c)=>{const u=de(n,ue.fromDom(c)),g=oe(e.getStyle(c,u));if(t==="outdent"){const v=Math.max(0,g-s);e.setStyle(c,u,v?v+i:"")}else{const v=g+s+i;e.setStyle(c,u,v)}},ke=(e,t)=>hn(t,n=>{const s=de(dy(e),n),i=Nh(n,s).map(oe).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&i>0}),ze=e=>{const t=rt(e);return!e.mode.isReadOnly()&&(t.length>1||ke(e,t))},tt=e=>Eu(e)||xm(e),Je=e=>Ec(e).exists(tt),rt=e=>Co(Io(e.selection.getSelectedBlocks()),t=>!tt(t)&&!Je(t)&&te(t)),bt=(e,t)=>{var n,s;if(e.mode.isReadOnly())return;const{dom:i}=e,c=uy(e),u=(s=(n=/[a-z%]+$/i.exec(c))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",g=oe(c),v=dy(e);st(rt(e),S=>{he(i,t,v,g,u,S.dom)})},Xt=e=>bt(e,"indent"),no=e=>bt(e,"outdent"),po=e=>{if(e.selection.isCollapsed()&&ze(e)){const t=e.dom,n=e.selection.getRng(),s=Ke.fromRangeStart(n),i=t.getParent(n.startContainer,t.isBlock);if(i!==null&&Kk(ue.fromDom(i),s,e.schema))return z.some(()=>no(e))}return z.none()},$o=(e,t,n)=>Ir([po,Lb,AC,(s,i)=>qC(s,t,i),pS,Av,MC,U,s2,C,RC],s=>s(e,n)).filter(s=>e.selection.isEditable()),gs=(e,t)=>{$o(e,t,!1).fold(()=>{e.selection.isEditable()&&(Mm(e),d4(e))},Do)},Ms=(e,t)=>{$o(e,t,!0).fold(()=>{e.selection.isEditable()&&Jg(e)},Do)},Rn=(e,t)=>{e.addCommand("delete",()=>{gs(e,t)}),e.addCommand("forwardDelete",()=>{Ms(e,t)})},nn=5,ro=400,ss=e=>e.touches===void 0||e.touches.length!==1?z.none():z.some(e.touches[0]),zn=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>nn||s>nn},Gr=e=>{const t=nl(),n=Wo(!1),s=qc(i=>{e.dispatch("longpress",{...i,type:"longpress"}),n.set(!0)},ro);e.on("touchstart",i=>{ss(i).each(c=>{s.cancel();const u={x:c.clientX,y:c.clientY,target:i.target};s.throttle(i),n.set(!1),t.set(u)})},!0),e.on("touchmove",i=>{s.cancel(),ss(i).each(c=>{t.on(u=>{zn(c,u)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",i=>{s.cancel(),i.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(i.target)).each(()=>{n.get()?i.preventDefault():e.dispatch("tap",{...i,type:"tap"})})},!0)},Gn=(e,t)=>Qt(e,t.nodeName),Kr=(e,t)=>_t(t)?!0:Wt(t)?!Gn(e.getBlockElements(),t)&&!md(t)&&!wu(e,t)&&!w0(t):!1,_a=(e,t,n)=>Kn(J5(ue.fromDom(n),ue.fromDom(t)),s=>Gn(e,s.dom)),hh=(e,t)=>{if(_t(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Gn(e,t.nextSibling)||w0(t.nextSibling)}return!1},Gp=e=>e.dom.create(Ni(e),v1(e)),KC=e=>{const t=e.dom,n=e.selection,s=e.schema,i=s.getBlockElements(),c=n.getStart(),u=e.getBody();let g,v,S=null;const O=Ni(e);if(!c||!Wt(c))return;const M=u.nodeName.toLowerCase();if(!s.isValidChild(M,O.toLowerCase())||_a(i,u,c))return;if(u.firstChild===u.lastChild&&or(u.firstChild)){g=Gp(e),g.appendChild(vm().dom),u.replaceChild(g,u.firstChild),e.selection.setCursorLocation(g,0),e.nodeChanged();return}let P=u.firstChild;for(;P;)if(Wt(P)&&I2(s,P),Kr(s,P)){if(hh(i,P)){v=P,P=P.nextSibling,t.remove(v);continue}if(!g){if(!S&&e.hasFocus()&&(S=CS(e.selection.getRng(),()=>document.createElement("span"))),!P.parentNode){P=null;break}g=Gp(e),u.insertBefore(g,P)}v=P,P=P.nextSibling,g.appendChild(v)}else g=null,P=P.nextSibling;S&&(e.selection.setRng(x8(S)),e.nodeChanged())},c2=(e,t,n)=>{const s=ue.fromDom(Gp(e)),i=vm();Zn(s,i),n(t,s);const c=document.createRange();return c.setStartBefore(i.dom),c.setEndBefore(i.dom),c},bh=e=>{e.on("NodeChange",()=>KC(e))},Kp=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,Ff=(e,t,n)=>function(s){const i=arguments,c=i[i.length-2],u=c>0?t.charAt(c-1):"";if(u==='"')return s;if(u===">"){const g=t.lastIndexOf("<",c);if(g!==-1&&t.substring(g,c).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(i[0])+'">'+e.dom.encode(typeof i[1]=="string"?i[1]:i[0])+"</span>"},Vb=(e,t,n)=>{let s=t.length,i=n.content;if(n.format!=="raw"){for(;s--;)i=i.replace(t[s],Ff(e,i,wA(e)));n.content=i}},$b=(e,t)=>hn(e,n=>{const s=t.match(n);return s!==null&&s[0].length===t.length}),Yp=e=>{const t="contenteditable",n=" "+Dt.trim(EN(e))+" ",s=" "+Dt.trim(wA(e))+" ",i=Kp(n),c=Kp(s),u=AN(e);u.length>0&&e.on("BeforeSetContent",g=>{Vb(e,u,g)}),e.parser.addAttributeFilter("class",g=>{let v=g.length;for(;v--;){const S=g[v];i(S)?S.attr(t,"true"):c(S)&&S.attr(t,"false")}}),e.serializer.addAttributeFilter(t,g=>{let v=g.length;for(;v--;){const S=g[v];if(!i(S)&&!c(S))continue;const O=S.attr("data-mce-content");u.length>0&&O?$b(u,O)?(S.name="#text",S.type=3,S.raw=!0,S.value=O):S.remove():S.attr(t,null)}})},Ub=e=>wr(ue.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),e0=(e,t)=>{t.hasAttribute("data-mce-caret")&&(h1(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},d2=(e,t)=>{const n=Ub(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),e0(e,n);return}K2(n)&&(e0(e,n),e.undoManager.add())}},u2=e=>{e.on("keyup compositionstart",Ze(d2,e))},t0=Ts,xh=(e,t,n)=>jS(t,e,n,zp,Kg,t0),Xp=(e,t,n)=>WS(t,e,n,c=>zp(c)||Q5(c),c=>Kg(c)||Wk(c),t0),Cn=e=>{const t=e.dom.create(Ni(e));return t.innerHTML='<br data-mce-bogus="1">',t},Qp=(e,t,n)=>{const s=Sm(e.getBody()),i=Ze(_y,t===1?s.next:s.prev);if(n.collapsed){const c=e.dom.getParent(n.startContainer,"PRE");if(!c)return;if(!i(Ke.fromRangeStart(n))){const g=ue.fromDom(Cn(e));t===1?td(ue.fromDom(c),g):ei(ue.fromDom(c),g),e.selection.select(g.dom,!0),e.selection.collapse()}}},zm=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return xh(n,e,s).orThunk(()=>(Qp(e,n,s),z.none()))},Y8=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return Xp(n,e,s).orThunk(()=>(Qp(e,n,s),z.none()))},oE=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return xw(n)?!t:t},nE=(e,t)=>zm(e,oE(e.selection,t)).exists(n=>(Lf(e,n),!0)),m2=(e,t)=>Y8(e,t).exists(n=>(Lf(e,n),!0)),f2=(e,t)=>qS(e,t,t?Kg:zp),Uu=(e,t)=>Pb(e,!t).map(n=>{const s=n.toRange(),i=e.selection.getRng();return t?s.setStart(i.startContainer,i.startOffset):s.setEnd(i.endContainer,i.endOffset),s}).exists(n=>(Lf(e,n),!0)),Zb=e=>on(["figcaption"],No(e)),sE=(e,t,n)=>{const s=Ze(bn,t);return Vr(ue.fromDom(e.container()),i=>n.isBlock(No(i)),s).filter(Zb)},rE=(e,t,n)=>t?zS(e.dom,n):FS(e.dom,n),tP=(e,t)=>{const n=ue.fromDom(e.getBody()),s=Ke.fromRangeStart(e.selection.getRng());return sE(s,n,e.schema).exists(()=>{if(rE(n,t,s)){const c=c2(e,n,t?Zn:sm);return e.selection.setRng(c),!0}else return!1})},p2=(e,t)=>e.selection.isCollapsed()?tP(e,t):!1,YC=(e,t,n)=>{const s=e.selection.getRng(),i=Ke.fromRangeStart(s);return e.getBody().firstChild===t&&FS(n,i)?(e.execCommand("InsertNewBlockBefore"),!0):!1},oP=(e,t)=>{const n=e.selection.getRng(),s=Ke.fromRangeStart(n);return e.getBody().lastChild===t&&zS(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},g2=(e,t)=>t?z.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>oP(e,n)).getOr(!1):z.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>z.from(e.dom.getParent(n,"details")).map(s=>YC(e,s,n))).getOr(!1),X8=(e,t)=>g2(e,t),Qi={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},jb=e=>Yo(e,t=>({...Qi,...t})),nP=e=>Yo(e,t=>({...Qi,...t})),aE=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,iE=(e,t)=>na(jb(e),n=>aE(n,t)?[n]:[]),Q8=(e,t)=>na(nP(e),n=>aE(n,t)?[n]:[]),_o=(e,...t)=>()=>e.apply(null,t),bd=(e,t)=>js(iE(e,t),n=>n.action()),Wb=(e,t)=>Ir(Q8(e,t),n=>n.action()),lE=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return jS(e,n,s,vv,yv,cc).exists(i=>(Lf(e,i),!0))},cE=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return WS(e,n,s,vv,yv,cc).exists(i=>(Lf(e,i),!0))},XC=(e,t)=>qS(e,t,t?yv:vv),J8=(e,t)=>zf(e,t,qo),zf=(e,t,n)=>na(Da(e),s=>Tl(s,t)?n(s)?[s]:[]:zf(s,t,n)),e7=(e,t,n=So)=>{if(n(t))return z.none();if(on(e,No(t)))return z.some(t);const s=i=>Tl(i,"table")||n(i);return gu(t,e.join(","),s)},t7=(e,t)=>e7(["td","th"],e,t),o7=e=>J8(e,"th,td"),dE=(e,t)=>zi(e,"table",t),n7=ka.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Lo={...n7,none:e=>n7.none(e)},wo=(e,t,n,s,i=qo)=>{const c=s===1;if(!c&&n<=0)return Lo.first(e[0]);if(c&&n>=e.length-1)return Lo.last(e[e.length-1]);{const u=n+s,g=e[u];return i(g)?Lo.middle(t,g):wo(e,t,u,s,i)}},Os=(e,t)=>dE(e,t).bind(n=>{const s=o7(n);return ur(s,c=>bn(e,c)).map(c=>({index:c,all:s}))}),cr=(e,t,n)=>Os(e,n).fold(()=>Lo.none(e),i=>wo(i.all,e,i.index,1,t)),ys=(e,t,n)=>Os(e,n).fold(()=>Lo.none(),i=>wo(i.all,e,i.index,-1,t)),Ri=Cs("image"),Jp=e=>{const t=e;return z.from(t[Ri])},Hf=(e,t)=>{const n=e;n[Ri]=t},Ji=Cs("event"),sP=e=>{const t=e;return z.from(t[Ji])},h2=e=>t=>{const n=t;n[Ji]=e},s7=(e,t)=>h2(t)(e),iL=h2(0),cH=h2(2),dH=h2(1),uH=(e=>t=>{const n=t;return z.from(n[Ji]).exists(s=>s===e)})(0),mH=()=>Object.freeze({length:0,item:e=>null}),rP=Cs("mode"),fH=e=>{const t=e;return z.from(t[rP])},r7=e=>t=>{const n=t;n[rP]=e},lL=(e,t)=>r7(t)(e),cL=r7(0),aP=r7(2),pH=r7(1),dL=e=>t=>{const n=t;return z.from(n[rP]).exists(s=>s===e)},QC=dL(0),uL=dL(1),gH=(e,t)=>({...t,get length(){return t.length},add:(n,s)=>{if(QC(e))if(We(n)){if(!wn(s))return t.add(n,s)}else return t.add(n);return null},remove:n=>{QC(e)&&t.remove(n)},clear:()=>{QC(e)&&t.clear()}}),hH=["none","copy","link","move"],bH=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],iP=()=>{const e=new window.DataTransfer;let t="move",n="all";const s={get dropEffect(){return t},set dropEffect(i){on(hH,i)&&(t=i)},get effectAllowed(){return n},set effectAllowed(i){uH(s)&&on(bH,i)&&(n=i)},get items(){return gH(s,e.items)},get files(){return uL(s)?mH():e.files},get types(){return e.types},setDragImage:(i,c,u)=>{QC(s)&&(Hf(s,{image:i,x:c,y:u}),e.setDragImage(i,c,u))},getData:i=>uL(s)?"":e.getData(i),setData:(i,c)=>{QC(s)&&e.setData(i,c)},clearData:i=>{QC(s)&&e.clearData(i)}};return cL(s),s},xH=e=>{const t=iP(),n=fH(e);return aP(e),iL(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Jp(e).each(s=>t.setDragImage(s.image,s.x,s.y)),st(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),st(e.files,s=>t.items.add(s)),sP(e).each(s=>{s7(t,s)}),n.each(s=>{lL(e,s),lL(t,s)}),t},vH=e=>{const t=e.getData("text/html");return t===""?z.none():z.some(t)},mL=(e,t)=>e.setData("text/html",t),yH=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),wH=(e,t)=>na(t,n=>{const s=yH(wm(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),CH=(e,t,n)=>ws(e,(s,i)=>s.fold(()=>z.some(i),c=>{const u=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-n)),g=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n));return z.some(g<u?i:c)}),z.none()),fL=(e,t,n,s,i)=>{const c=mn(ue.fromDom(n),"td,th,caption").map(g=>g.dom),u=Co(wH(e,c),g=>t(g,i));return CH(u,s,i).map(g=>g.cell)},_H=e=>e.bottom,kH=e=>e.top,SH=(e,t)=>e.y<t,EH=(e,t)=>e.y>t,AH=Ze(fL,_H,SH),TH=Ze(fL,kH,EH),DH=(e,t)=>Kt(t.getClientRects()).bind(n=>AH(e,n.left,n.top)).bind(n=>HC(A8(n),t)),OH=(e,t)=>jo(t.getClientRects()).bind(n=>TH(e,n.left,n.top)).bind(n=>HC(qI(n),t)),NH=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),RH=e=>e.breakType===Fm.Wrap&&e.positions.length===0,MH=e=>e.breakType===Fm.Br&&e.positions.length===1,pL=(e,t,n)=>{const s=e(t,n);return RH(s)||!or(n.getNode())&&MH(s)?!NH(e,t,s):s.breakAt.isNone()},BH=Ze(pL,zb),IH=Ze(pL,Q1),PH=(e,t,n)=>{const s=Ke.fromRangeStart(t);return Vg(!e,n).exists(i=>i.isEqual(s))},LH=(e,t,n,s)=>{const i=e.selection.getRng(),c=t?1:-1;return PA()&&PH(t,i,n)?(Bf(c,e,n,!t,!1).each(u=>{Lf(e,u)}),!0):!1},FH=(e,t,n)=>DH(t,n).orThunk(()=>Kt(n.getClientRects()).bind(s=>IS(PS(e,Ke.before(t)),s.left))).getOr(Ke.before(t)),zH=(e,t,n)=>OH(t,n).orThunk(()=>Kt(n.getClientRects()).bind(s=>IS(LS(e,Ke.after(t)),s.left))).getOr(Ke.after(t)),gL=(e,t)=>{const n=t.getNode(e);return yu(n)?z.some(n):z.none()},HH=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?td:ei,i=c2(t,ue.fromDom(n),s);Lf(t,i)})},hL=(e,t,n)=>{const s=gL(!!t,n),i=t===!1;s.fold(()=>Lf(e,n.toRange()),c=>Vg(i,e.getBody()).filter(u=>u.isEqual(n)).fold(()=>Lf(e,n.toRange()),u=>HH(t,e,c)))},VH=(e,t,n,s)=>{const i=e.selection.getRng(),c=Ke.fromRangeStart(i),u=e.getBody();if(!t&&BH(s,c)){const g=FH(u,n,c);return hL(e,t,g),!0}else if(t&&IH(s,c)){const g=zH(u,n,c);return hL(e,t,g),!0}else return!1},bL=(e,t,n)=>z.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>z.from(e.dom.getParent(s,"table")).map(i=>n(e,t,i,s))).getOr(!1),xL=(e,t)=>bL(e,t,LH),lP=(e,t)=>bL(e,t,VH),$H=e=>{const t=df.exact(e,0,e,0);return D2(t)},vL=(e,t,n)=>n.fold(z.none,z.none,(s,i)=>lf(i).map(c=>$H(c)),s=>e.mode.isReadOnly()||!UH(s)?z.none():(e.execCommand("mceTableInsertRowAfter"),yL(e,t,s))),UH=e=>Vr(e,Xm("table")).exists(ti),yL=(e,t,n)=>vL(e,t,cr(n,wL)),ZH=(e,t,n)=>vL(e,t,ys(n,wL)),wL=e=>ti(e)||am(e,jH),jH=e=>Dl(e)&&ti(e),CL=(e,t)=>{const n=["table","li","dl"],s=ue.fromDom(e.getBody()),i=g=>{const v=No(g);return bn(g,s)||on(n,v)},c=e.selection.getRng(),u=ue.fromDom(t?c.endContainer:c.startContainer);return t7(u,i).map(g=>(dE(g,i).each(O=>{e.model.table.clearSelectedCells(O.dom)}),e.selection.collapse(!t),(t?yL:ZH)(e,i,g).each(O=>{e.selection.setRng(O)}),!0)).getOr(!1)},WH=(e,t,n)=>{const s=Vo.os.isMacOS()||Vo.os.isiOS();bd([{keyCode:qt.RIGHT,action:_o(nE,e,!0)},{keyCode:qt.LEFT,action:_o(nE,e,!1)},{keyCode:qt.UP,action:_o(m2,e,!1)},{keyCode:qt.DOWN,action:_o(m2,e,!0)},...s?[{keyCode:qt.UP,action:_o(Uu,e,!1),metaKey:!0,shiftKey:!0},{keyCode:qt.DOWN,action:_o(Uu,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:qt.RIGHT,action:_o(xL,e,!0)},{keyCode:qt.LEFT,action:_o(xL,e,!1)},{keyCode:qt.UP,action:_o(lP,e,!1)},{keyCode:qt.DOWN,action:_o(lP,e,!0)},{keyCode:qt.UP,action:_o(lP,e,!1)},{keyCode:qt.UP,action:_o(X8,e,!1)},{keyCode:qt.DOWN,action:_o(X8,e,!0)},{keyCode:qt.RIGHT,action:_o(lE,e,!0)},{keyCode:qt.LEFT,action:_o(lE,e,!1)},{keyCode:qt.UP,action:_o(cE,e,!1)},{keyCode:qt.DOWN,action:_o(cE,e,!0)},{keyCode:qt.RIGHT,action:_o(ZC,e,t,!0)},{keyCode:qt.LEFT,action:_o(ZC,e,t,!1)},{keyCode:qt.RIGHT,ctrlKey:!s,altKey:s,action:_o(V8,e,t)},{keyCode:qt.LEFT,ctrlKey:!s,altKey:s,action:_o($8,e,t)},{keyCode:qt.UP,action:_o(p2,e,!1)},{keyCode:qt.DOWN,action:_o(p2,e,!0)}],n).each(i=>{n.preventDefault()})},qH=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||WH(e,t,n)})},eg=(e,t)=>({container:e,offset:t}),a7=Ds.DOM,i7=e=>t=>e===t?-1:0,GH=e=>t=>e.isBlock(t)||on(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",cP=(e,t,n)=>{if(_t(e)&&t>=0)return z.some(eg(e,t));{const s=xf(a7);return z.from(s.backwards(e,t,i7(e),n)).map(i=>eg(i.container,i.container.data.length))}},KH=(e,t,n)=>{if(_t(e)&&t>=e.length)return z.some(eg(e,t));{const s=xf(a7);return z.from(s.forwards(e,t,i7(e),n)).map(i=>eg(i.container,0))}},dP=(e,t,n)=>{if(!_t(e))return z.none();const s=e.data;if(t>=0&&t<=s.length)return z.some(eg(e,t));{const i=xf(a7);return z.from(i.backwards(e,t,i7(e),n)).bind(c=>{const u=c.container.data;return dP(c.container,t+u.length,n)})}},_L=(e,t,n)=>{if(!_t(e))return z.none();const s=e.data;if(t<=s.length)return z.some(eg(e,t));{const i=xf(a7);return z.from(i.forwards(e,t,i7(e),n)).bind(c=>_L(c.container,t-s.length,n))}},uP=(e,t,n,s,i)=>{const c=xf(e,GH(e));return z.from(c.backwards(t,n,s,i))},YH=e=>e.collapsed&&_t(e.startContainer),XH=e=>pl(e.toString().replace(/\u00A0/g," ")),kL=e=>e!==""&&`  \uFEFF\f
\r	\v`.indexOf(e)!==-1,QH=(e,t)=>e.substring(t.length),JH=(e,t,n,s=!1)=>{let i;const c=n.charAt(0);for(i=t-1;i>=0;i--){const u=e.charAt(i);if(!s&&kL(u))return z.none();if(c===u&&Dr(e,n,i,t))break}return z.some(i)},mP=(e,t,n,s=!1)=>{if(!YH(t))return z.none();const i={text:"",offset:0},c=(g,v,S)=>(i.text=S+i.text,i.offset+=v,JH(i.text,i.offset,n,s).getOr(v)),u=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return uP(e,t.startContainer,t.startOffset,c,u).bind(g=>{const v=t.cloneRange();if(v.setStart(g.container,g.offset),v.setEnd(t.endContainer,t.endOffset),v.collapsed)return z.none();const S=XH(v);return S.lastIndexOf(n)!==0?z.none():z.some({text:QH(S,n),range:v,trigger:n})})},eV=e=>e.nodeType===sl,tV=e=>e.nodeType===Va,SL=e=>{if(eV(e))return eg(e,e.data.length);{const t=e.childNodes;return t.length>0?SL(t[t.length-1]):eg(e,t.length)}},EL=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?EL(n[t],0):n.length>0&&tV(e)&&n.length===t?SL(n[n.length-1]):eg(e,t)},oV=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return uP(e,t.container,t.offset,(i,c)=>c===0?-1:c,s).filter(i=>{const c=i.container.data.charAt(i.offset-1);return!kL(c)}).isSome()},nV=e=>t=>{const n=EL(t.startContainer,t.startOffset);return!oV(e,n)},sV=(e,t,n)=>Ir(n.triggers,s=>mP(e,t,s)),rV=(e,t)=>{const n=t(),s=e.selection.getRng();return sV(e.dom,s,n).bind(i=>AL(e,t,i))},AL=(e,t,n,s={})=>{var i;const c=t(),g=(i=e.selection.getRng().startContainer.nodeValue)!==null&&i!==void 0?i:"",v=Co(c.lookupByTrigger(n.trigger),O=>n.text.length>=O.minChars&&O.matches.getOrThunk(()=>nV(e.dom))(n.range,g,n.text));if(v.length===0)return z.none();const S=Promise.all(Yo(v,O=>O.fetch(n.text,O.maxResults,s).then(P=>({matchText:n.text,items:P,columns:O.columns,onAction:O.onAction,highlightOn:O.highlightOn}))));return z.some({lookupData:S,context:n})};var tg;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(tg||(tg={}));const fP=(e,t,n)=>e.stype===tg.Error?t(e.serror):n(e.svalue),aV=e=>{const t=[],n=[];return st(e,s=>{fP(s,i=>n.push(i),i=>t.push(i))}),{values:t,errors:n}},iV=(e,t)=>e.stype===tg.Error?{stype:tg.Error,serror:t(e.serror)}:e,lV=(e,t)=>e.stype===tg.Value?{stype:tg.Value,svalue:t(e.svalue)}:e,cV=(e,t)=>e.stype===tg.Value?t(e.svalue):e,dV=(e,t)=>e.stype===tg.Error?t(e.serror):e,TL=e=>({stype:tg.Value,svalue:e}),DL=e=>({stype:tg.Error,serror:e}),hc={fromResult:e=>e.fold(DL,TL),toResult:e=>fP(e,xr.error,xr.value),svalue:TL,partition:aV,serror:DL,bind:cV,bindError:dV,map:lV,mapError:iV,fold:fP},OL=e=>ne(e)&&Pr(e).length>100?" removed due to size":JSON.stringify(e,null,2),uV=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Et("... (only showing first ten failures)")}]):e;return Yo(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},NL=(e,t)=>hc.serror([{path:e,getErrorInfo:t}]),mV=(e,t,n)=>NL(e,()=>'Could not find valid *required* value for "'+t+'" in '+OL(n)),fV=(e,t)=>NL(e,Et(t)),RL=e=>{const t=(s,i)=>hc.bindError(e(i),c=>fV(s,c)),n=Et("val");return{extract:t,toString:n}},pV=RL(hc.svalue),gV=Et(pV),pP=(e,t)=>RL(n=>{const s=typeof n;return e(n)?hc.svalue(n):hc.serror(`Expected type: ${t} but got: ${s}`)}),hV=pP(A,"number"),ML=pP(We,"string"),BL=pP(Jt,"function"),bV=()=>({tag:"required",process:{}}),xV=e=>({tag:"defaultedThunk",process:e}),IL=e=>xV(Et(e)),vV=()=>({tag:"option",process:{}}),yV=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),PL=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},wV=(e,t)=>e.length>0?hc.svalue(Es(t,_c.apply(void 0,e))):hc.svalue(t),LL=e=>$n(hc.serror,Ss)(e),CV={consolidateObj:(e,t)=>{const n=hc.partition(e);return n.errors.length>0?LL(n.errors):wV(n.values,t)},consolidateArr:e=>{const t=hc.partition(e);return t.errors.length>0?LL(t.errors):hc.svalue(t.values)}},_V=(e,t,n,s)=>_n(t,n).fold(()=>mV(e,n,t),s),FL=(e,t,n,s)=>{const i=_n(e,t).getOrThunk(()=>n(e));return s(i)},kV=(e,t,n)=>n(_n(e,t)),SV=(e,t,n,s)=>{const i=_n(e,t).map(c=>c===!0?n(e):c);return s(i)},EV=(e,t,n,s,i)=>{const c=g=>i.extract(t.concat([s]),g),u=g=>g.fold(()=>hc.svalue(z.none()),v=>{const S=i.extract(t.concat([s]),v);return hc.map(S,z.some)});switch(e.tag){case"required":return _V(t,n,s,c);case"defaultedThunk":return FL(n,s,e.process,c);case"option":return kV(n,s,u);case"defaultedOptionThunk":return SV(n,s,e.process,u);case"mergeWithThunk":return FL(n,s,Et({}),g=>{const v=Es(e.process(n),g);return c(v)})}},AV=(e,t,n)=>{const s={},i=[];for(const c of n)PL(c,(u,g,v,S)=>{const O=EV(v,e,t,u,S);hc.fold(O,M=>{i.push(...M)},M=>{s[g]=M})},(u,g)=>{s[u]=g(t)});return i.length>0?hc.serror(i):hc.svalue(s)},TV=e=>({extract:(s,i)=>AV(s,i,e),toString:()=>`obj{
`+Yo(e,i=>PL(i,(c,u,g,v)=>c+" -> "+v.toString(),(c,u)=>"state("+c+")")).join(`
`)+"}"}),DV=e=>({extract:(s,i)=>{const c=Yo(i,(u,g)=>e.extract(s.concat(["["+g+"]"]),u));return CV.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),OV=(e,t,n)=>{const s=t.extract([e],n);return hc.mapError(s,i=>({input:n,errors:i}))},NV=(e,t,n)=>hc.toResult(OV(e,t,n)),RV=e=>`Errors: 
`+uV(e.errors).join(`
`)+`

Input object: `+OL(e.input),l7=yV,zL=(e,t)=>l7(e,e,bV(),t),HL=e=>zL(e,ML),VL=e=>zL(e,BL),MV=(e,t)=>l7(e,e,vV(),t),BV=e=>MV(e,BL),IV=(e,t)=>l7(e,e,IL(t),gV()),$L=(e,t,n)=>l7(e,e,IL(t),n),UL=(e,t)=>$L(e,t,hV),PV=(e,t,n)=>$L(e,t,DV(n)),LV=HL("type"),FV=VL("fetch"),zV=VL("onAction"),HV=e=>IV("columns",e),VV=TV([LV,HL("trigger"),UL("minChars",1),HV(1),UL("maxResults",10),BV("matches"),FV,zV,PV("highlightOn",[],ML)]),$V=e=>NV("Autocompleter",VV,e),UV=()=>{const e={},t={},n={},s={},i={},c={},u={},g={},v={},S=(j,J)=>(G,se)=>{j[G.toLowerCase()]={...se,type:J}},O=(j,J)=>(G,se)=>{j[G.toLowerCase()]={type:J,...se}},M=(j,J)=>s[j.toLowerCase()]=J,P=(j,J)=>u[j.toLowerCase()]=J;return{addButton:S(e,"button"),addGroupToolbarButton:S(e,"grouptoolbarbutton"),addToggleButton:S(e,"togglebutton"),addMenuButton:S(e,"menubutton"),addSplitButton:S(e,"splitbutton"),addMenuItem:S(t,"menuitem"),addNestedMenuItem:S(t,"nestedmenuitem"),addToggleMenuItem:S(t,"togglemenuitem"),addAutocompleter:S(n,"autocompleter"),addContextMenu:S(i,"contextmenu"),addContextToolbar:S(c,"contexttoolbar"),addContextForm:O(c,"contextform"),addSidebar:S(g,"sidebar"),addView:S(v,"views"),addIcon:M,addContext:P,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:i,contextToolbars:c,sidebars:g,views:v,contexts:u})}},ZV=e=>{const t=e.ui.registry.getAll().popups,n=jn(t,u=>$V(u).fold(g=>{throw new Error(RV(g))},Tn)),s=Gc(mr(n,u=>u.trigger)),i=pa(n);return{dataset:n,triggers:s,lookupByTrigger:u=>Co(i,g=>g.trigger===u)}},jV=(e,t)=>{const n=qc(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",s=>{const i=s.which;i===8?n.throttle():i===27?(n.cancel(),t.cancelIfNecessary()):(i===38||i===40)&&n.cancel()},!0),e.on("remove",n.cancel)},WV=e=>{const t=nl(),n=Wo(!1),s=t.isSet,i=()=>{s()&&(_r(e),n.set(!1),t.clear())},c=M=>{s()||t.set({trigger:M.trigger,matchLength:M.text.length})},u=ir(()=>ZV(e)),g=M=>t.get().map(P=>mP(e.dom,e.selection.getRng(),P.trigger,!0).bind(j=>AL(e,u,j,M))).getOrThunk(()=>rV(e,u)),v=M=>{g(M).fold(i,P=>{c(P.context),P.lookupData.then(j=>{t.get().map(J=>{const G=P.context;J.trigger===G.trigger&&(t.set({...J,matchLength:G.text.length}),n.get()?(N_(e,{range:G.range}),tN(e,{lookupData:j})):(n.set(!0),N_(e,{range:G.range}),eN(e,{lookupData:j})))})})})},S=(M,P)=>{const j=M.compareBoundaryPoints(window.Range.START_TO_START,P),J=M.compareBoundaryPoints(window.Range.END_TO_END,P);return j>=0&&J<=0},O=()=>t.get().bind(({trigger:M})=>{const P=e.selection.getRng();return mP(e.dom,P,M,n.get()).filter(({range:j})=>S(P,j)).map(({range:j})=>j)});e.addCommand("mceAutocompleterReload",(M,P)=>{const j=ne(P)?P.fetchOptions:{};v(j)}),e.addCommand("mceAutocompleterClose",i),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{O().each(M=>{N_(e,{range:M})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>O().isSome()),jV(e,{cancelIfNecessary:i,load:v})},qV=Jn().browser.isSafari(),ZL=e=>Au(ue.fromDom(e)),jL=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},c7=(e,t)=>z.from(e.getParent(t.container(),"details")),WL=(e,t)=>c7(e,t).isSome(),GV=(e,t)=>{const n=z.from(e.getParent(t.startContainer,"details")),s=z.from(e.getParent(t.endContainer,"details"));if(n.isSome()||s.isSome()){const i=n.bind(c=>z.from(e.select("summary",c)[0]));return z.some({startSummary:i,startDetails:n,endDetails:s})}else return z.none()},KV=(e,t)=>hl(t).exists(n=>n.isEqual(e)),YV=(e,t)=>Zd(t).exists(n=>or(n.getNode())&&uc(t,n).exists(s=>s.isEqual(e))||n.isEqual(e)),XV=(e,t)=>t.startSummary.exists(n=>KV(e,n)),QV=(e,t)=>t.startSummary.exists(n=>YV(e,n)),JV=(e,t)=>t.startDetails.exists(n=>uc(n,e).forall(s=>t.startSummary.exists(i=>!i.contains(e.container())&&i.contains(s.container())))),e$=(e,t,n)=>n.startDetails.exists(s=>gl(e,t).forall(i=>!s.contains(i.container()))),qL=(e,t)=>{const n=t.getNode();wn(n)||e.selection.setCursorLocation(n,t.offset())},GL=(e,t,n)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const i=e.dom.select("summary",s)[0];i&&(n?hl(i):Zd(i)).each(u=>qL(e,u))}else qL(e,t)},t$=(e,t)=>{const n=v=>v.contains(e.startContainer),s=v=>v.contains(e.endContainer),i=t.startSummary.exists(n),c=t.startSummary.exists(s),u=t.startDetails.forall(v=>t.endDetails.forall(S=>v!==S));return(i||c)&&!(i&&c)||u},KL=(e,t,n)=>{const{dom:s,selection:i}=e,c=e.getBody();if(n==="character"){const u=Ke.fromRangeStart(i.getRng()),g=s.getParent(u.container(),s.isBlock),v=c7(s,u),S=g&&s.isEmpty(g),O=yn(g==null?void 0:g.previousSibling),M=yn(g==null?void 0:g.nextSibling);return S&&(t?M:O)&&Mu(!t,c,u).exists(J=>WL(s,J)&&!Gl(v,c7(s,J)))?!0:Mu(t,c,u).fold(So,P=>{const j=c7(s,P);if(WL(s,P)&&!Gl(v,j)){if(t||GL(e,P,!1),g&&S){if(t&&O)return!0;if(!t&&M)return!0;GL(e,P,t),e.dom.remove(g)}return!0}else return!1})}else return!1},o$=(e,t,n,s)=>{const c=e.selection.getRng(),u=Ke.fromRangeStart(c),g=e.getBody();return s==="selection"?t$(c,t):n?QV(u,t)||e$(g,u,t):XV(u,t)||JV(u,t)},n$=(e,t,n)=>GV(e.dom,e.selection.getRng()).fold(()=>KL(e,t,n),s=>o$(e,s,t,n)||KL(e,t,n)),s$=(e,t,n)=>{const s=e.selection,i=s.getNode(),c=s.getRng(),u=Ke.fromRangeStart(c);return cx(i)?(n==="selection"&&jL(c,i)||TT(t,u,i)?ZL(i):e.undoManager.transact(()=>{const g=s.getSel();let{anchorNode:v,anchorOffset:S,focusNode:O,focusOffset:M}=g??{};const P=()=>{Qe(v)&&Qe(S)&&Qe(O)&&Qe(M)&&(g==null||g.setBaseAndExtent(v,S,O,M))},j=()=>{v=g==null?void 0:g.anchorNode,S=g==null?void 0:g.anchorOffset,O=g==null?void 0:g.focusNode,M=g==null?void 0:g.focusOffset},J=(se,ge)=>{st(se.childNodes,_e=>{J0(_e)&&ge.appendChild(_e)})},G=e.dom.create("span",{"data-mce-bogus":"1"});J(i,G),i.appendChild(G),P(),(n==="word"||n==="line")&&(g==null||g.modify("extend",t?"right":"left",n)),!s.isCollapsed()&&jL(s.getRng(),G)?ZL(i):(e.execCommand(t?"ForwardDelete":"Delete"),j(),J(G,i),P()),e.dom.remove(G)}),!0):!1},b2=(e,t,n)=>n$(e,t,n)||qV&&s$(e,t,n)?z.some(To):z.none(),YL=e=>(t,n,s={})=>{const i=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:To,inputType:n},u=Tg(new InputEvent(e));return t.dispatch(e,{...u,...c,...s})},uE=YL("input"),d7=YL("beforeinput"),XL=Jn(),QL=XL.os,JL=QL.isMacOS()||QL.isiOS(),r$=XL.browser.isFirefox(),a$=(e,t,n)=>{const s=n.keyCode===qt.BACKSPACE?"deleteContentBackward":"deleteContentForward",i=e.selection.isCollapsed(),c=i?"character":"selection",u=g=>i?g?"word":"line":"selection";Wb([{keyCode:qt.BACKSPACE,action:_o(po,e)},{keyCode:qt.BACKSPACE,action:_o(Lb,e,!1)},{keyCode:qt.DELETE,action:_o(Lb,e,!0)},{keyCode:qt.BACKSPACE,action:_o(AC,e,!1)},{keyCode:qt.DELETE,action:_o(AC,e,!0)},{keyCode:qt.BACKSPACE,action:_o(qC,e,t,!1)},{keyCode:qt.DELETE,action:_o(qC,e,t,!0)},{keyCode:qt.BACKSPACE,action:_o(Av,e,!1)},{keyCode:qt.DELETE,action:_o(Av,e,!0)},{keyCode:qt.BACKSPACE,action:_o(b2,e,!1,c)},{keyCode:qt.DELETE,action:_o(b2,e,!0,c)},...JL?[{keyCode:qt.BACKSPACE,altKey:!0,action:_o(b2,e,!1,u(!0))},{keyCode:qt.DELETE,altKey:!0,action:_o(b2,e,!0,u(!0))},{keyCode:qt.BACKSPACE,metaKey:!0,action:_o(b2,e,!1,u(!1))}]:[{keyCode:qt.BACKSPACE,ctrlKey:!0,action:_o(b2,e,!1,u(!0))},{keyCode:qt.DELETE,ctrlKey:!0,action:_o(b2,e,!0,u(!0))}],{keyCode:qt.BACKSPACE,action:_o(MC,e,!1)},{keyCode:qt.DELETE,action:_o(MC,e,!0)},{keyCode:qt.BACKSPACE,action:_o(U,e,!1)},{keyCode:qt.DELETE,action:_o(U,e,!0)},{keyCode:qt.BACKSPACE,action:_o(s2,e,!1)},{keyCode:qt.DELETE,action:_o(s2,e,!0)},{keyCode:qt.BACKSPACE,action:_o(pS,e,!1)},{keyCode:qt.DELETE,action:_o(pS,e,!0)},{keyCode:qt.BACKSPACE,action:_o(C,e,!1)},{keyCode:qt.DELETE,action:_o(C,e,!0)},{keyCode:qt.BACKSPACE,action:_o(RC,e,!1)},{keyCode:qt.DELETE,action:_o(RC,e,!0)}],n).filter(g=>e.selection.isEditable()).each(g=>{n.preventDefault(),d7(e,s).isDefaultPrevented()||(g(),uE(e,s))})},i$=(e,t,n)=>bd([{keyCode:qt.BACKSPACE,action:_o(OC,e)},{keyCode:qt.DELETE,action:_o(OC,e)},...JL?[{keyCode:qt.BACKSPACE,altKey:!0,action:_o(Y,e)},{keyCode:qt.DELETE,altKey:!0,action:_o(Y,e)},...n?[{keyCode:r$?224:91,action:_o(Y,e)}]:[]]:[{keyCode:qt.BACKSPACE,ctrlKey:!0,action:_o(Y,e)},{keyCode:qt.DELETE,ctrlKey:!0,action:_o(Y,e)}]],t),l$=(e,t)=>{let n=!1;e.on("keydown",s=>{n=s.keyCode===qt.BACKSPACE,s.isDefaultPrevented()||a$(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||i$(e,s,n),n=!1})},c$=e=>{for(;e;){if(Wt(e)||_t(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},JC=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=c$(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(n.doc.createTextNode(Ls),t.firstChild)}const i=n.createRng();if(t.normalize(),t.hasChildNodes()){const c=new Ys(t,t);let u=t,g;for(;g=c.current();){if(_t(g)){i.setStart(g,0),i.setEnd(g,0);break}if(s[g.nodeName.toLowerCase()]){i.setStartBefore(g),i.setEndBefore(g);break}u=g,g=c.next()}g||(i.setStart(u,0),i.setEnd(u,0))}else or(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),ab(e,i)},mE=(e,t)=>{const n=e.getRoot();let s,i=t;for(;i!==n&&i&&e.getContentEditable(i)!=="false";){if(e.getContentEditable(i)==="true"){s=i;break}i=i.parentNode}return i!==n?s:n},gP=e=>z.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),d$=e=>gP(e).fold(Et(""),t=>t.nodeName.toUpperCase()),u$=e=>gP(e).filter(t=>xm(ue.fromDom(t))).isSome(),hP=e=>{e.innerHTML='<br data-mce-bogus="1">'},m$=(e,t,n)=>{const s=e.dom;z.from(n.style).map(s.parseStyle).each(v=>{const O={...fg(ue.fromDom(t)),...v};s.setStyles(t,O)});const i=z.from(n.class).map(v=>v.split(/\s+/)),c=z.from(t.className).map(v=>Co(v.split(/\s+/),S=>S!==""));sr(i,c,(v,S)=>{const O=Co(S,P=>!on(v,P)),M=[...v,...O];s.setAttrib(t,"class",M.join(" "))});const u=["style","class"],g=Fo(n,(v,S)=>!on(u,S));s.setAttribs(t,g)},fE=(e,t)=>{if(Ni(e).toLowerCase()===t.tagName.toLowerCase()){const s=v1(e);m$(e,t,s)}},eF=(e,t,n,s,i=!0,c,u)=>{const g=e.dom,v=e.schema,S=Ni(e),O=n?n.nodeName.toUpperCase():"";let M=t;const P=v.getTextInlineElements();let j;c||O==="TABLE"||O==="HR"?j=g.create(c||S,u||{}):j=n.cloneNode(!1);let J=j;if(!i)g.setAttrib(j,"style",null),g.setAttrib(j,"class",null);else do if(P[M.nodeName]){if(ud(M)||md(M))continue;const G=M.cloneNode(!1);g.setAttrib(G,"id",""),j.hasChildNodes()?(G.appendChild(j.firstChild),j.appendChild(G)):(J=G,j.appendChild(G))}while((M=M.parentNode)&&M!==s);return fE(e,j),hP(J),j},f$=(e,t)=>e.dom.getParent(t,Uh),p$=(e,t,n)=>{let s=t;for(;s&&s!==e&&yn(s.nextSibling);){const i=s.parentElement;if(!i||!n(i))return Uh(i);s=i}return!1},g$=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Ni(e)&&e.dom.isEmpty(n)&&p$(e.getBody(),n,s=>Qt(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),h$=(e,t,n)=>{var s,i,c;const u=t(Ni(e)),g=f$(e,n);g&&(e.dom.insertAfter(u,g),JC(e,u),((c=(i=(s=n.parentElement)===null||s===void 0?void 0:s.childNodes)===null||i===void 0?void 0:i.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(n))},b$=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,x$=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},tF=(e,t)=>{const n=e==null?void 0:e.parentNode;return Qe(n)&&n.nodeName===t},oF=e=>Qe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),bP=e=>Qe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),v$=e=>oF(e)&&oF(e.parentNode),u7=e=>{const t=e.parentNode;return bP(t)?t:e},m7=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!Wt(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},nF=e=>ws(mr(fg(ue.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),y$=(e,t,n,s,i)=>{const c=e.dom,u=e.selection.getRng(),g=n.parentNode;if(n===e.getBody()||!g)return;v$(n)&&(i="LI");const v=bP(s)?nF(s):void 0;let S=bP(s)&&v?t(i,{style:nF(s)}):t(i);if(m7(n,s,!0)&&m7(n,s,!1))if(tF(n,"LI")){const O=u7(n);c.insertAfter(S,O),x$(n)?c.remove(O):c.remove(n)}else c.replace(S,n);else if(m7(n,s,!0))tF(n,"LI")?(c.insertAfter(S,u7(n)),S.appendChild(c.doc.createTextNode(" ")),S.appendChild(n)):g.insertBefore(S,n),c.remove(s);else if(m7(n,s,!1))c.insertAfter(S,u7(n)),c.remove(s);else{n=u7(n);const O=u.cloneRange();O.setStartAfter(s),O.setEndAfter(n);const M=O.extractContents();if(i==="LI"&&b$(M,"LI")){const P=Co(Yo(S.children,ue.fromDom),Ee(Xm("br")));S=M.firstChild,c.insertAfter(M,n),st(P,j=>sm(ue.fromDom(S),j)),v&&S.setAttribute("style",v)}else c.insertAfter(M,n),c.insertAfter(S,n);c.remove(s)}JC(e,S)},w$=e=>{st(Ua(ue.fromDom(e),xa),t=>{const n=t.dom;n.nodeValue=pl(n.data)})},C$=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},_$=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),xP=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,k$=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,vP=(e,t)=>Qe(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",S$=(e,t,n)=>{var s;const i=[];if(!n)return;let c=n;for(;c=c.firstChild;){if(e.isBlock(c))return;Wt(c)&&!t[c.nodeName.toLowerCase()]&&i.push(c)}let u=i.length;for(;u--;)c=i[u],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((s=c.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||_$(e,c))&&e.remove(c)},yP=(e,t,n)=>_t(t)?e?n===1&&t.data.charAt(n-1)===Vs?0:n:n===t.data.length-1&&t.data.charAt(n)===Vs?t.data.length:n:n,E$=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,yP(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,yP(!1,e.endContainer,e.endOffset)),t},A$=e=>{let t=e;do _t(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},T$=(e,t,n,s,i)=>{var c,u;const g=e.dom,v=(c=mE(g,s))!==null&&c!==void 0?c:g.getRoot();let S=g.getParent(s,g.isBlock);if(!S||!vP(g,S)){if(S=S||v,!S.hasChildNodes()){const j=g.create(t);return fE(e,j),S.appendChild(j),n.setStart(j,0),n.setEnd(j,0),j}let O=s;for(;O&&O.parentNode!==S;)O=O.parentNode;let M;for(;O&&!g.isBlock(O);)M=O,O=O.previousSibling;const P=(u=M==null?void 0:M.parentElement)===null||u===void 0?void 0:u.nodeName;if(M&&P&&e.schema.isValidChild(P,t.toLowerCase())){const j=M.parentNode,J=g.create(t);for(fE(e,J),j.insertBefore(J,M),O=M;O&&!g.isBlock(O);){const G=O.nextSibling;J.appendChild(O),O=G}n.setStart(s,i),n.setEnd(s,i)}}return s},D$=(e,t)=>{t.normalize();const n=t.lastChild;(!n||Wt(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},O$=(e,t)=>{const n=iN(e);return tn(t)?!1:We(n)?on(Dt.explode(n),t.nodeName.toLowerCase()):n},sF={insert:(e,t)=>{let n,s,i,c,u=!1;const g=e.dom,v=e.schema,S=v.getNonEmptyElements(),O=e.selection.getRng(),M=Ni(e),P=ue.fromDom(O.startContainer),j=Rd(P,O.startOffset),J=j.exists(mt=>Dl(mt)&&!ti(mt)),G=O.collapsed&&J,se=(mt,Zt)=>eF(e,n,At,dt,z_(e),mt,Zt),ge=mt=>{const Zt=yP(mt,n,s);if(_t(n)&&(mt?Zt>0:Zt<n.data.length))return!1;if((n.parentNode===At||n===At)&&u&&!mt||mt&&Wt(n)&&n===At.firstChild)return!0;if(xP(n,"TABLE")||xP(n,"HR"))return k$(n,"BR")?!mt:u&&!mt||!u&&mt;const io=new Ys(n,At);_t(n)&&(mt&&Zt===0?io.prev():!mt&&Zt===n.data.length&&io.next());let Jo;for(;Jo=io.current();){if(Wt(Jo)){if(!Jo.getAttribute("data-mce-bogus")){const sn=Jo.nodeName.toLowerCase();if(S[sn]&&sn!=="br")return!1}}else if(_t(Jo)&&!mp(Jo.data))return!1;mt?io.prev():io.next()}return!0},_e=()=>{let mt;return/^(H[1-6]|PRE|FIGURE)$/.test(i)&&Gt!=="HGROUP"?mt=se(M):mt=se(),O$(e,c)&&vP(g,c)&&g.isEmpty(At,void 0,{includeZwsp:!0})?mt=g.split(c,At):g.insertAfter(mt,At),JC(e,mt),mt};Iu(g,O).each(mt=>{O.setStart(mt.startContainer,mt.startOffset),O.setEnd(mt.endContainer,mt.endOffset)}),n=O.startContainer,s=O.startOffset;const Re=!!(t&&t.shiftKey),$e=!!(t&&t.ctrlKey);Wt(n)&&n.hasChildNodes()&&!G&&(u=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,u&&_t(n)?s=n.data.length:s=0);const dt=mE(g,n);if(!dt||C$(e,n))return;Re||(n=T$(e,M,O,n,s));let At=g.getParent(n,g.isBlock)||g.getRoot();c=Qe(At==null?void 0:At.parentNode)?g.getParent(At.parentNode,g.isBlock):null,i=At?At.nodeName.toUpperCase():"";const Gt=c?c.nodeName.toUpperCase():"";if(Gt==="LI"&&!$e){const mt=c;At=mt,c=mt.parentNode,i=Gt}if(Wt(c)&&g$(e,Re,At))return h$(e,se,At);if(/^(LI|DT|DD)$/.test(i)&&Wt(c)&&g.isEmpty(At)){y$(e,se,c,At,M);return}if(!G&&(At===e.getBody()||!vP(g,At)))return;const Xe=At.parentNode;let qe;if(G)qe=se(M),j.fold(()=>{Zn(P,ue.fromDom(qe))},mt=>{ei(mt,ue.fromDom(qe))}),e.selection.setCursorLocation(qe,0);else if(Cr(At))qe=h1(At),g.isEmpty(At)&&hP(At),fE(e,qe),JC(e,qe);else if(ge(!1))qe=_e();else if(ge(!0)&&Xe){const mt=Ke.fromRangeStart(O),Zt=Wk(mt),io=ue.fromDom(At),sn=Xg(io,mt,e.schema)?tT(io,mt,e.schema).bind(hs=>z.from(hs.getNode())):z.none();qe=Xe.insertBefore(se(),At);const Hn=xP(At,"HR")||Zt?qe:sn.getOr(At);JC(e,Hn)}else{const mt=E$(O).cloneRange();mt.setEndAfter(At);const Zt=mt.extractContents();w$(Zt),A$(Zt),qe=Zt.firstChild,g.insertAfter(Zt,At),S$(g,S,qe),D$(g,At),g.isEmpty(At)&&hP(At),qe.normalize(),g.isEmpty(qe)?(g.remove(qe),_e()):(fE(e,qe),JC(e,qe))}g.setAttrib(qe,"id",""),e.dispatch("NewBlock",{newBlock:qe})},fakeEventName:"insertParagraph"},N$=(e,t,n)=>{const s=new Ys(t,n);let i;const c=e.getNonEmptyElements();for(;i=s.next();)if(c[i.nodeName.toLowerCase()]||_t(i)&&i.length>0)return!0;return!1},rF=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),ab(e,s)},R$=(e,t)=>{const n=e.selection,s=e.dom,i=n.getRng();let c,u=!1;Iu(s,i).each(j=>{i.setStart(j.startContainer,j.startOffset),i.setEnd(j.endContainer,j.endOffset)});let g=i.startOffset,v=i.startContainer;if(Wt(v)&&v.hasChildNodes()){const j=g>v.childNodes.length-1;v=v.childNodes[Math.min(g,v.childNodes.length-1)]||v,j&&_t(v)?g=v.data.length:g=0}let S=s.getParent(v,s.isBlock);const O=S&&S.parentNode?s.getParent(S.parentNode,s.isBlock):null,M=O?O.nodeName.toUpperCase():"",P=!!(t&&t.ctrlKey);M==="LI"&&!P&&(S=O),_t(v)&&g>=v.data.length&&(N$(e.schema,v,S||s.getRoot())||(c=s.create("br"),i.insertNode(c),i.setStartAfter(c),i.setEndAfter(c),u=!0)),c=s.create("br"),ty(s,i,c),rF(e,c,u),e.undoManager.add()},M$=(e,t)=>{const n=ue.fromTag("br");ei(ue.fromDom(t),n),e.undoManager.add()},B$=(e,t)=>{P$(e.getBody(),t)||td(ue.fromDom(t),ue.fromTag("br"));const n=ue.fromTag("br");td(ue.fromDom(t),n),rF(e,n.dom,!1),e.undoManager.add()},I$=e=>or(e.getNode()),P$=(e,t)=>I$(Ke.after(t))?!0:gl(e,Ke.after(t)).map(n=>or(n.getNode())).getOr(!1),aF=e=>e&&e.nodeName==="A"&&"href"in e,L$=e=>e.fold(So,aF,aF,So),F$=e=>{const t=Ze(Fu,e),n=Ke.fromRangeStart(e.selection.getRng());return If(t,e.getBody(),n).filter(L$)},z$=(e,t)=>{t.fold(To,Ze(M$,e),Ze(B$,e),To)},iF={insert:(e,t)=>{const n=F$(e);n.isSome()?n.each(Ze(z$,e)):R$(e,t)},fakeEventName:"insertLineBreak"},lF=(e,t)=>gP(e).filter(n=>t.length>0&&Tl(ue.fromDom(n),t)).isSome(),H$=e=>lF(e,nA(e)),V$=e=>lF(e,sA(e)),Zu=ka.generate([{br:[]},{block:[]},{none:[]}]),$$=(e,t)=>V$(e),cF=e=>(t,n)=>u$(t)===e,dF=(e,t)=>(n,s)=>d$(n)===e.toUpperCase()===t,U$=e=>{const t=mE(e.dom,e.selection.getStart());return tn(t)},pE=e=>dF("pre",e),Z$=()=>dF("summary",!0),f7=e=>(t,n)=>L_(t)===e,j$=(e,t)=>H$(e),p7=(e,t)=>t,W$=e=>{const t=Ni(e),n=mE(e.dom,e.selection.getStart());return Qe(n)&&e.schema.isValidChild(n.nodeName,t)},q$=e=>{const t=e.selection.getRng(),n=ue.fromDom(t.startContainer),i=Rd(n,t.startOffset).map(c=>Dl(c)&&!ti(c));return t.collapsed&&i.getOr(!0)},Hm=(e,t)=>(n,s)=>ws(e,(c,u)=>c&&u(n,s),!0)?z.some(t):z.none(),G$=(e,t)=>AS([Hm([$$],Zu.none()),Hm([pE(!0),U$],Zu.none()),Hm([Z$()],Zu.br()),Hm([pE(!0),f7(!1),p7],Zu.br()),Hm([pE(!0),f7(!1)],Zu.block()),Hm([pE(!0),f7(!0),p7],Zu.block()),Hm([pE(!0),f7(!0)],Zu.br()),Hm([cF(!0),p7],Zu.br()),Hm([cF(!0)],Zu.block()),Hm([j$],Zu.br()),Hm([p7],Zu.br()),Hm([W$],Zu.block()),Hm([q$],Zu.block())],[e,!!(t&&t.shiftKey)]).getOr(Zu.none()),g7=(e,t,n)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||ST(t),!(Qe(n)&&d7(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Qe(n)&&uE(t,e.fakeEventName)))},uF=(e,t)=>{if(e.mode.isReadOnly())return;const n=()=>g7(iF,e,t),s=()=>g7(sF,e,t),i=G$(e,t);switch(F_(e)){case"linebreak":i.fold(n,n,To);break;case"block":i.fold(s,s,To);break;case"invert":i.fold(s,n,To);break;default:i.fold(n,s,To);break}},mF=Jn(),K$=mF.os.isiOS()&&mF.browser.isSafari(),fF=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),G1(e.undoManager),e.undoManager.transact(()=>{uF(e,t)}))},Y$=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(_t(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return n.test(s)}else return!1},X$=e=>{let t=z.none();const n=i=>{t=z.some(i.selection.getBookmark()),i.undoManager.add()},s=(i,c)=>{i.undoManager.undo(),t.fold(To,u=>i.selection.moveToBookmark(u)),fF(i,c),t=z.none()};e.on("keydown",i=>{i.keyCode===qt.ENTER&&(K$&&Y$(e.selection.getRng())?n(e):fF(e,i))}),e.on("keyup",i=>{i.keyCode===qt.ENTER&&t.each(()=>s(e,i))})},Q$=(e,t,n)=>{const s=Vo.os.isMacOS()||Vo.os.isiOS();bd([{keyCode:qt.END,action:_o(f2,e,!0)},{keyCode:qt.HOME,action:_o(f2,e,!1)},...s?[]:[{keyCode:qt.HOME,action:_o(Uu,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:qt.END,action:_o(Uu,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:qt.END,action:_o(XC,e,!0)},{keyCode:qt.HOME,action:_o(XC,e,!1)},{keyCode:qt.END,action:_o(l2,e,!0,t)},{keyCode:qt.HOME,action:_o(l2,e,!1,t)}],n).each(i=>{n.preventDefault()})},J$=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||Q$(e,t,n)})},eU=e=>{e.on("input",t=>{t.isComposing||cT(e)})},tU=Jn(),oU=(e,t,n)=>{bd([{keyCode:qt.PAGE_UP,action:_o(l2,e,!1,t)},{keyCode:qt.PAGE_DOWN,action:_o(l2,e,!0,t)}],n)},pF=e=>e.stopImmediatePropagation(),gF=e=>e.keyCode===qt.PAGE_UP||e.keyCode===qt.PAGE_DOWN,hF=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",pF,!0):!n&&e.get()&&t.off("NodeChange",pF),e.set(n)},nU=(e,t)=>{if(tU.os.isMacOS())return;const n=Wo(!1);e.on("keydown",s=>{gF(s)&&hF(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||oU(e,t,s),gF(s)&&n.get()&&(hF(n,e,!1),e.nodeChanged())})},bF=(e,t)=>e===t||e.contains(t),sU=(e,t)=>!bF(e.getBody(),t.startContainer)||!bF(e.getBody(),t.endContainer)?!0:Yy(e.dom,t),rU=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Kn(t.getTargetRanges(),n=>!sU(e,n)))&&t.preventDefault()})},xF=(e,t)=>{const n=t.container(),s=t.offset();return _t(n)?(n.insertData(s,e),z.some(Ke(n,s+e.length))):Cy(t).map(i=>{const c=ue.fromText(e);return t.isAtEnd()?td(i,c):ei(i,c),Ke(c.dom,e.length)})},vF=Ze(xF,Ls),yF=Ze(xF," "),aU=(e,t,n)=>t4(e,t,n)?vF(t):yF(t),iU=e=>t=>t.fold(n=>uc(e.dom,Ke.before(n)),n=>hl(n),n=>Zd(n),n=>gl(e.dom,Ke.after(n))),lU=(e,t,n)=>s=>t4(e,s,n)?vF(t):yF(t),wF=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},cU=(e,t)=>e.isEditable(e.getParent(t,"summary")),dU=e=>{const t=Ke.fromRangeStart(e.selection.getRng()),n=ue.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=Ze(Fu,e),i=Ke.fromRangeStart(e.selection.getRng());return If(s,e.getBody(),i).bind(iU(n)).map(c=>()=>lU(n,t,e.schema)(c).each(wF(e)))}else return z.none()},uU=e=>{const t=()=>{const n=ue.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=Ke.fromRangeStart(e.selection.getRng());aU(n,s,e.schema).each(wF(e))};return rr(Vo.browser.isFirefox()&&e.selection.isEditable()&&cU(e.dom,e.selection.getRng().startContainer),t)},mU=(e,t)=>{Wb([{keyCode:qt.SPACEBAR,action:_o(dU,e)},{keyCode:qt.SPACEBAR,action:_o(uU,e)}],t).each(n=>{t.preventDefault(),d7(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),uE(e,"insertText",{data:" "}))})},fU=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||mU(e,t)})},pU=e=>ON(e)?[{keyCode:qt.TAB,action:_o(CL,e,!0)},{keyCode:qt.TAB,shiftKey:!0,action:_o(CL,e,!1)}]:[],gU=(e,t)=>{bd([...pU(e)],t).each(n=>{t.preventDefault()})},hU=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||gU(e,t)})},bU=e=>{if(e.addShortcut("Meta+P","","mcePrint"),WV(e),vl(e))return Wo(null);{const t=WC(e);return rU(e),u2(e),qH(e,t),l$(e,t),X$(e),fU(e),eU(e),hU(e),J$(e,t),nU(e,t),t}};class xU{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",i=>{const c=t.selection.getRng(),u={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(i.type==="nodechange"||!jy(u,n))&&t.dispatch("SelectionChange"),n=u}),t.on("contextmenu",()=>{O1(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const i=t.selection.getStart(!0);i&&Ny(t)&&!s.isSameElementPath(i)&&t.dom.isChildOf(i,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",i=>{!i.isDefaultPrevented()&&Ny(t)&&(t.selection.getNode().nodeName==="IMG"?Oo.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor,s=n.selection;let i;if(n.initialized&&s&&!dd(n)&&!Xx(n)){const c=n.getBody();i=s.getStart(!0)||c,(i.ownerDocument!==n.getDoc()||!n.dom.isChildOf(i,c))&&(i=c);const u=[];n.dom.getParent(i,g=>g===c?!0:(u.push(g),!1)),n.dispatch("NodeChange",{...t,element:i,parents:u})}}isSameElementPath(t){let n;const s=this.editor,i=tl(s.dom.getParents(t,qo,s.getBody()));if(i.length===this.lastPath.length){for(n=i.length;n>=0&&i[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=i,!0}return this.lastPath=i,!1}}const CF="x-tinymce/html",h7=Et(CF),wP="<!-- "+CF+" -->",vU=e=>wP+e,yU=e=>e.replace(wP,""),_F=e=>e.indexOf(wP)!==-1,wU=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),CU=(e,t)=>{let n="<"+e;const s=mr(t,(i,c)=>c+'="'+fm.encodeAllRaw(i)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},_U=(e,t,n)=>{const s=e.split(/\n\n/),i=CU(t,n),c="</"+t+">",u=Yo(s,v=>v.split(/\n/).join("<br />")),g=v=>i+v+c;return u.length===1?u[0]:Yo(u,g).join("")},kF="%MCEPASTEBIN%",kU=(e,t)=>{const{dom:n,selection:s}=e,i=e.getBody();t.set(s.getRng());const c=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},kF);Vo.browser.isFirefox()&&n.setStyle(c,"left",n.getStyle(i,"direction",!0)==="rtl"?65535:-65535),n.bind(c,"beforedeactivate focusin focusout",u=>{u.stopPropagation()}),c.focus(),s.select(c,!0)},SU=(e,t)=>{const n=e.dom;if(CP(e)){let s;const i=t.get();for(;s=CP(e);)n.remove(s),n.unbind(s);i&&e.selection.setRng(i)}t.set(null)},CP=e=>e.dom.get("mcepastebin"),EU=e=>Qe(e)&&e.id==="mcepastebin",AU=e=>{const t=e.dom,n=(u,g)=>{u.appendChild(g),t.remove(g,!0)},[s,...i]=Co(e.getBody().childNodes,EU);st(i,u=>{n(s,u)});const c=t.select("div[id=mcepastebin]",s);for(let u=c.length-1;u>=0;u--){const g=t.create("div");s.insertBefore(g,c[u]),n(g,c[u])}return s?s.innerHTML:""},SF=e=>e===kF,TU=e=>{const t=Wo(null);return{create:()=>kU(e,t),remove:()=>SU(e,t),getEl:()=>CP(e),getHtml:()=>AU(e),getLastRng:t.get}},EF=(e,t)=>(Dt.each(t,n=>{He(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),DU=e=>{const t=gf(),n=q1({},t);let s="";const i=t.getVoidElements(),c=Dt.makeMap("script noscript style textarea video audio iframe object"," "),u=t.getBlockElements(),g=v=>{const S=v.name,O=v;if(S==="br"){s+=`
`;return}if(S!=="wbr"){if(i[S]&&(s+=" "),c[S]){s+=" ";return}if(v.type===3&&(s+=v.value),!(v.name in t.getVoidElements())){let M=v.firstChild;if(M)do g(M);while(M=M.next)}u[S]&&O.next&&(s+=`
`,S==="p"&&(s+=`
`))}};return e=EF(e,[/<!\[[^\]]+\]>/g]),g(n.parse(e)),s},AF=e=>(e=EF(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,i)=>!s&&!i?" ":Ls],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),OU=e=>{let t=0;return()=>e+t++},NU=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Dt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},RU=(e,t)=>{const n=q1({sanitize:_A(e),sandbox_iframes:zt(e),sandbox_iframes_exclusions:Ru(e),convert_unsafe_embeds:MN(e)},e.schema);n.addNodeFilter("meta",i=>{Dt.each(i,c=>{c.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return qg({validate:!0},e.schema).serialize(s)},TF=(e,t)=>({content:e,cancelled:t}),MU=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),i=QE(e,s,n);return TF(i.node.innerHTML,i.isDefaultPrevented())},BU=(e,t,n)=>{const s=oN(e,t,n),i=RU(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?MU(e,i,n):TF(i,s.isDefaultPrevented())},IU=(e,t,n)=>BU(e,t,n),_P=(e,t)=>(e.insertContent(t,{merge:C1(e),paste:!0}),!0),kP=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),PU=(e,t)=>kP(t)&&Kn(AA(e),n=>Yu(t.toLowerCase(),`.${n.toLowerCase()}`)),LU=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),FU=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),zU=(e,t,n)=>!e.selection.isCollapsed()&&kP(t)?FU(e,t,n):!1,HU=(e,t,n)=>PU(e,t)?LU(e,t,n):!1,VU=(e,t)=>{Dt.each([zU,HU,_P],n=>!n(e,t,_P))},$U=(e,t,n)=>{n||!SN(e)?_P(e,t):VU(e,t)},UU=OU("mceclip"),ZU=e=>{const t=iP();return mL(t,e),aP(t),t},DF=(e,t,n,s,i)=>{const c=IU(e,t,n);if(!c.cancelled){const u=c.content,g=()=>$U(e,u,s);i?d7(e,"insertFromPaste",{dataTransfer:ZU(u)}).isDefaultPrevented()||(g(),uE(e,"insertFromPaste")):g()}},b7=(e,t,n,s)=>{const i=n||_F(t);DF(e,yU(t),i,!1,s)},SP=(e,t,n)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),i=zh(s,xA(e)),c=_U(i,Ni(e),v1(e));DF(e,c,!1,!0,n)},OF=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},qb=(e,t)=>t in e&&e[t].length>0,NF=e=>qb(e,"text/html")||qb(e,"text/plain"),jU=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Qe(n)?e.dom.encode(n[1]):void 0},WU=(e,t,n,s)=>{const i=UU(),c=ly(e)&&Qe(n.name),u=c?jU(e,n.name):i,g=c?n.name:void 0,v=t.create(i,n,s,u,g);return t.add(v),v},qU=(e,t)=>{G4(t.uri).each(({data:n,type:s,base64Encoded:i})=>{const c=i?n:btoa(n),u=t.file,g=e.editorUpload.blobCache,v=g.getByData(c,s),S=v??WU(e,g,u,c);b7(e,`<img src="${S.blobUri()}">`,!1,!0)})},GU=e=>e.type==="paste",KU=e=>Promise.all(Yo(e,t=>P6(t).then(n=>({file:t,uri:n})))),YU=e=>{const t=AA(e);return n=>ar(n.type,"image/")&&Kn(t,s=>NU(s)===n.type)},XU=(e,t)=>{const n=t.items?na(xs(t.items),i=>i.kind==="file"?[i.getAsFile()]:[]):[],s=t.files?xs(t.files):[];return Co(n.length>0?n:s,YU(e))},RF=(e,t,n)=>{const s=GU(t)?t.clipboardData:t.dataTransfer;if(Yx(e)&&s){const i=XU(e,s);if(i.length>0)return t.preventDefault(),KU(i).then(c=>{n&&e.selection.setRng(n),st(c,u=>{qU(e,u)})}),!0}return!1},QU=e=>{var t,n;return Vo.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},JU=e=>qt.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,EP=(e,t,n,s,i)=>{let c=AF(n);const u=qb(t,h7())||_F(n),g=!u&&wU(c),v=kP(c);(SF(c)||!c.length||g&&!v)&&(s=!0),(s||v)&&(qb(t,"text/plain")&&g?c=t["text/plain"]:c=DU(c)),!SF(c)&&(s?SP(e,c,i):b7(e,c,u,i))},eZ=(e,t,n)=>{let s;const i=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{JU(c)&&!c.isDefaultPrevented()&&(s=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||QU(c))return;const u=n.get()==="text"||s;s=!1;const g=OF(c.clipboardData);!NF(g)&&RF(e,c,i())||(qb(g,"text/html")?(c.preventDefault(),EP(e,g,g["text/html"],u,!0)):qb(g,"text/plain")&&qb(g,"text/uri-list")?(c.preventDefault(),EP(e,g,g["text/plain"],u,!0)):(t.create(),Oo.setEditorTimeout(e,()=>{const v=t.getHtml();t.remove(),EP(e,g,v,u,!1)},0)))})},tZ=e=>{const t=i=>ar(i,"webkit-fake-url"),n=i=>ar(i,"data:"),s=i=>{var c;return((c=i.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(i,c,u)=>{if(!Yx(e)&&s(u))for(const g of i){const v=g.attr("src");We(v)&&!g.attr("data-mce-object")&&v!==Vo.transparentSrc&&(t(v)||!vA(e)&&n(v))&&g.remove()}})},oZ=(e,t,n)=>{eZ(e,t,n),tZ(e)},nZ=(e,t)=>{t.get()==="text"?(t.set("html"),ay(e,!1)):(t.set("text"),ay(e,!0)),e.focus()},sZ=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{nZ(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&b7(e,s.html,s.internal,!1),s.text&&SP(e,s.text,!1)})},rZ=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(h7(),t),!0}catch{return!1}else return!1},MF=(e,t,n,s)=>{rZ(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},BF=e=>(t,n)=>{const{dom:s,selection:i}=e,c=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),u=s.create("div",{contenteditable:"true"},t);s.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(u),s.add(e.getBody(),c);const g=i.getRng();u.focus();const v=s.createRng();v.selectNodeContents(u),i.setRng(v),Oo.setEditorTimeout(e,()=>{i.setRng(g),s.remove(c),n()},0)},IF=e=>({html:vU(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),aZ=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),PF=e=>!e.selection.isCollapsed()||aZ(e),iZ=e=>t=>{!t.isDefaultPrevented()&&PF(e)&&e.selection.isEditable()&&MF(t,IF(e),BF(e),()=>{if(Vo.browser.isChromium()||Vo.browser.isFirefox()){const n=e.selection.getRng();Oo.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},lZ=e=>t=>{!t.isDefaultPrevented()&&PF(e)&&MF(t,IF(e),BF(e),To)},cZ=e=>{e.on("cut",iZ(e)),e.on("copy",lZ(e))},LF=(e,t)=>{var n,s;return Fp.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},dZ=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},FF=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},uZ=e=>Kn(e.files,t=>/^image\//.test(t.type)),mZ=(e,t,n,s)=>{const i=e.getParent(n,u=>wu(t,u));if(!yn(e.getParent(n,"summary")))return!0;if(i&&Qt(s,"text/html")){const u=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!yn(u.querySelector(i.nodeName.toLowerCase()))}else return!1},fZ=e=>{e.on("input",t=>{const n=s=>yn(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=Co(e.dom.select("details"),n);st(s,i=>{or(i.firstChild)&&i.firstChild.remove();const c=e.dom.create("summary");c.appendChild(vm().dom),i.prepend(c)})}})},pZ=(e,t)=>{hA(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Yx(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&uZ(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const s=LF(e,n);if(tn(s))return;const i=OF(n.dataTransfer),c=qb(i,h7());if((!NF(i)||dZ(i))&&RF(e,n,s))return;const u=i[h7()],g=u||i["text/html"]||i["text/plain"],v=mZ(e.dom,e.schema,s.startContainer,i),S=t.get();S&&!v||g&&(n.preventDefault(),Oo.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(u||S&&v)&&e.execCommand("Delete"),FF(e,s);const O=AF(g);i["text/html"]?b7(e,O,c,!0):SP(e,O,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Yx(e)&&!t.get()&&(n.preventDefault(),FF(e,LF(e,n))),n.type==="dragend"&&t.set(!1)}),fZ(e)},gZ=e=>{const t=i=>c=>{i(e,c)},n=yN(e);Jt(n)&&e.on("PastePreProcess",t(n));const s=wN(e);Jt(s)&&e.on("PastePostProcess",t(s))},hZ=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},bZ=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,zF=e=>Dt.trim(e).replace(bZ,dc).toLowerCase(),xZ=(e,t,n)=>{const s=_N(e);if(n||s==="all"||!kN(e))return t;const i=s?s.split(/[, ]/):[];if(i&&s!=="none"){const c=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(g,v,S,O)=>{const M=c.parseStyle(c.decode(S)),P={};for(let J=0;J<i.length;J++){const G=M[i[J]];let se=G,ge=c.getStyle(u,i[J],!0);/color/.test(i[J])&&(se=zF(se),ge=zF(ge)),ge!==se&&(P[i[J]]=G)}const j=c.serializeStyle(P,"span");return j?v+' style="'+j+'"'+O:v+O})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,u,g,v)=>u+' style="'+g+'"'+v),t},vZ=e=>{(Vo.browser.isChromium()||Vo.browser.isSafari())&&hZ(e,xZ)},yZ=e=>{const t=Wo(!1),n=Wo(bA(e)?"text":"html"),s=TU(e);vZ(e),sZ(e,n),gZ(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{cZ(e),pZ(e,t),oZ(e,s,n)})},wZ=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},CZ=e=>{e.parser.addNodeFilter("details",t=>{const n=NN(e);st(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=RN(e);st(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})})},_Z=e=>{wZ(e),CZ(e)},kZ=or,HF=_t,SZ=e=>Ts(e.dom),EZ=e=>lc(e.dom),VF=e=>t=>bn(ue.fromDom(e),t),AZ=(e,t,n)=>Vr(ue.fromDom(e),s=>EZ(s)||n.isBlock(No(s)),VF(t)).getOr(ue.fromDom(t)).dom,$F=(e,t)=>Vr(ue.fromDom(e),SZ,VF(t)),UF=(e,t,n)=>{const s=new Ys(e,t),i=n?s.next.bind(s):s.prev.bind(s);let c=e;for(let u=n?e:i();u&&!kZ(u);u=i())ie(u)&&(c=u);return c},TZ=(e,t,n)=>{const i=Ke.fromRangeStart(e).getNode(),c=AZ(i,t,n),u=UF(i,c,!1),g=UF(i,c,!0),v=document.createRange();return $F(u,c).fold(()=>{HF(u)?v.setStart(u,0):v.setStartBefore(u)},S=>v.setStartBefore(S.dom)),$F(g,c).fold(()=>{HF(g)?v.setEnd(g,g.data.length):v.setEndAfter(g)},S=>v.setEndAfter(S.dom)),v},DZ=e=>{const t=TZ(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Dv(t))},OZ=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),DZ(e))})};var e_;(function(e){e.Before="before",e.After="after"})(e_||(e_={}));const NZ=(e,t)=>Math.abs(e.left-t),RZ=(e,t)=>Math.abs(e.right-t),MZ=(e,t)=>e>=t.top&&e<=t.bottom,BZ=(e,t)=>e.top<t.bottom&&e.bottom>t.top,IZ=(e,t)=>{const n=Q2(e,t)/Math.min(e.height,t.height);return BZ(e,t)&&n>.5},PZ=(e,t)=>{const n=Co(e,s=>MZ(t,s));return F0(n).fold(()=>[[],e],s=>{const{pass:i,fail:c}=br(e,u=>IZ(u,s));return[i,c]})},LZ=(e,t)=>({node:e.node,position:NZ(e,t)<RZ(e,t)?e_.Before:e_.After}),FZ=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),AP=(e,t,n,s)=>{const i=M=>ie(M.node)?z.some(M):Wt(M.node)?AP(xs(M.node.childNodes),t,n,!1):z.none(),c=(M,P,j)=>i(P).filter(J=>Math.abs(j(M,t,n)-j(J,t,n))<2&&_t(J.node)),u=(M,P)=>{const j=ki(M,(J,G)=>P(J,t,n)-P(G,t,n));return Ir(j,i).map(J=>s&&!_t(J.node)&&j.length>1?c(J,j[1],P).getOr(J):J)},[g,v]=PZ(HS(e),n),{pass:S,fail:O}=br(v,M=>M.top<n);return u(g,FZ).orThunk(()=>u(O,jx)).orThunk(()=>u(S,jx))},zZ=(e,t,n,s)=>{const i=(c,u)=>{const g=S=>Wt(S)&&S.classList.contains("mce-drag-container"),v=Co(c.dom.childNodes,Ee(g));return u.fold(()=>AP(v,n,s,!0),S=>{const O=Co(v,M=>M!==S.dom);return AP(O,n,s,!0)}).orThunk(()=>(bn(c,e)?z.none():Qm(c)).bind(O=>i(O,z.some(c))))};return i(t,z.none())},HZ=(e,t,n)=>{const s=ue.fromDom(e),i=uu(s),u=ue.fromPoint(i,t,n).filter(g=>Ii(s,g)).getOr(s);return zZ(s,u,t,n)},ZF=(e,t,n)=>HZ(e,t,n).filter(s=>W0(s.node)).map(s=>LZ(s,t)),jF=e=>{var t,n;const s=e.getBoundingClientRect(),i=e.ownerDocument,c=i.documentElement,u=i.defaultView;return{top:s.top+((t=u==null?void 0:u.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:s.left+((n=u==null?void 0:u.scrollX)!==null&&n!==void 0?n:0)-c.clientLeft}},VZ=e=>e.inline?jF(e.getBody()):{left:0,top:0},$Z=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},UZ=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:i},ZZ=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=jF(e.getContentAreaContainer()),s=UZ(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},jZ=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),WZ=(e,t)=>jZ(VZ(e),$Z(e),ZZ(e,t)),WF=e=>({target:e,srcElement:e}),qZ=(e,t,n,s)=>({...t,dataTransfer:s,type:e,...WF(n)}),GZ=(e,t,n)=>{const s=gt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:To,stopImmediatePropagation:To,stopPropagation:To,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:n,...WF(t)}},KZ=(e,t)=>{const n=xH(e);return t==="dragstart"?(iL(n),cL(n)):t==="drop"?(cH(n),aP(n)):(dH(n),pH(n)),n},YZ=(e,t,n,s)=>{const i=KZ(n,e);return wn(s)?GZ(e,t,i):qZ(e,s,t,i)},qF=32,XZ=100,x7=8,v7=16,GF=Ts,QZ=h(GF,lc),JZ=(e,t,n)=>GF(n)&&n!==t&&e.isEditable(n.parentElement),ej=(e,t,n)=>tn(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),tj=(e,t,n,s)=>{const i=e.dom,c=t.cloneNode(!0);i.setStyles(c,{width:n,height:s}),i.setAttrib(c,"data-mce-selected",null);const u=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(u,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),i.setStyles(c,{margin:0,boxSizing:"border-box"}),u.appendChild(c),u},oj=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},y7=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},KF=y7("left",-32),YF=y7("left",qF),XF=y7("top",-32),QF=y7("top",qF),nj=(e,t,n,s,i,c,u,g,v,S,O,M)=>{let P=0,j=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(P=t.pageX+n-i),t.pageY+s>c&&(j=t.pageY+s-c),e.style.width=n-P+"px",e.style.height=s-j+"px";const J=v.clientHeight,G=v.clientWidth,se=u+v.getBoundingClientRect().top,ge=g+v.getBoundingClientRect().left;O.on(_e=>{_e.intervalId.clear(),_e.dragging&&M&&(u+x7>=J?_e.intervalId.set(QF(S)):u-x7<=0?_e.intervalId.set(XF(S)):g+x7>=G?_e.intervalId.set(YF(S)):g-x7<=0?_e.intervalId.set(KF(S)):se+v7>=window.innerHeight?_e.intervalId.set(QF(window)):se-v7<=0?_e.intervalId.set(XF(window)):ge+v7>=window.innerWidth?_e.intervalId.set(YF(window)):ge-v7<=0&&_e.intervalId.set(KF(window)))})},JF=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},sj=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);JF(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&Au(ue.fromDom(n))},rj=e=>e.button===0,aj=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),ij=(e,t)=>n=>{if(rj(n)){const s=js(t.dom.getParents(n.target),QZ).getOr(null);if(Qe(s)&&JZ(t.dom,t.getBody(),s)){const i=t.dom.getPos(s),c=t.getBody(),u=t.getDoc().documentElement;e.set({element:s,dataTransfer:iP(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?c.scrollWidth:u.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:u.offsetHeight)-2,relX:n.pageX-i.x,relY:n.pageY-i.y,width:s.offsetWidth,height:s.offsetHeight,ghost:tj(t,s,s.offsetWidth,s.offsetHeight),intervalId:Ft(XZ)})}}},lj=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),ZF(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),s=>{const i=e._selectionOverrides.showCaret(1,s.node,s.position===e_.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(t,n)})},gE=(e,t,n,s,i)=>{t==="dragstart"&&mL(s,e.dom.getOuterHTML(n));const c=YZ(t,n,s,i);return e.dispatch(t,c)},cj=(e,t)=>{const n=Xa((i,c)=>lj(t,i,c),0);t.on("remove",n.cancel);const s=e;return i=>e.on(c=>{const u=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&u>10){const g=gE(t,"dragstart",c.element,c.dataTransfer,i);if(Qe(g.dataTransfer)&&(c.dataTransfer=g.dataTransfer),g.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const g=i.currentTarget===t.getDoc().documentElement,v=aj(c,WZ(t,i));oj(c.ghost,t.getBody()),nj(c.ghost,v,c.width,c.height,c.maxX,c.maxY,i.clientY,i.clientX,t.getContentAreaContainer(),t.getWin(),s,g),n.throttle(i.clientX,i.clientY)}})},dj=e=>{const t=e.getSel();if(Qe(t)){const s=t.getRangeAt(0).startContainer;return _t(s)?s.parentNode:s}else return null},uj=(e,t)=>n=>{e.on(s=>{var i;if(s.intervalId.clear(),s.dragging){if(ej(t,dj(t.selection),s.element)){const c=(i=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&i!==void 0?i:t.getBody();gE(t,"drop",c,s.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{sj(t.dom,s.element),vH(s.dataTransfer).each(g=>t.insertContent(g)),t._selectionOverrides.hideFakeCaret()})}gE(t,"dragend",t.getBody(),s.dataTransfer,n)}}),t9(e)},e9=(e,t,n)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&n.fold(()=>gE(t,"dragend",s.element,s.dataTransfer),i=>gE(t,"dragend",s.element,s.dataTransfer,i))}),t9(e)},mj=(e,t)=>n=>e9(e,t,z.some(n)),t9=e=>{e.on(t=>{t.intervalId.clear(),JF(t.ghost)}),e.clear()},fj=e=>{const t=nl(),n=Ds.DOM,s=document,i=ij(t,e),c=cj(t,e),u=uj(t,e),g=mj(t,e);e.on("mousedown",i),e.on("mousemove",c),e.on("mouseup",u),n.bind(s,"mousemove",c),n.bind(s,"mouseup",g),e.on("remove",()=>{n.unbind(s,"mousemove",c),n.unbind(s,"mouseup",g)}),e.on("keydown",v=>{v.keyCode===qt.ESC&&e9(t,e,z.none())})},pj=e=>{const t=i=>{if(!i.isDefaultPrevented()){const c=i.dataTransfer;c&&(on(c.types,"Files")||c.files.length>0)&&(i.preventDefault(),i.type==="drop"&&o2(e,"Dropped file type is not supported"))}},n=i=>{Wr(e,i.target)&&t(i)},s=()=>{const i=Ds.DOM,c=e.dom,u=document,g=e.inline?e.getBody():e.getDoc(),v=["drop","dragover"];st(v,S=>{i.bind(u,S,n),c.bind(g,S,t)}),e.on("remove",()=>{st(v,S=>{i.unbind(u,S,n),c.unbind(g,S,t)})})};e.on("init",()=>{Oo.setEditorTimeout(e,s,0)})},gj=e=>{fj(e),mA(e)&&pj(e)},hj=e=>{const t=Xa(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=EC(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},bj=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(cc(n)){const s=Vp(e.getBody(),n),i=Ts(s)?s:n;e.selection.getNode()!==i&&Ib(e,i).each(c=>e.selection.setRng(c))}})})},hE=Ts,o9=(e,t)=>Vp(e.getBody(),t),xj=e=>{const t=e.selection,n=e.dom,s=e.getBody(),i=LN(e,s,n.isBlock,()=>Tf(e)),c="sel-"+n.uniqueId(),u="data-mce-selected";let g;const v=Gt=>Qe(Gt)&&n.hasClass(Gt,"mce-offscreen-selection"),S=Gt=>Gt!==s&&(hE(Gt)||cc(Gt))&&n.isChildOf(Gt,s)&&n.isEditable(Gt.parentNode),O=Gt=>{Gt&&t.setRng(Gt)},M=(Gt,Xe,qe,mt=!0)=>e.dispatch("ShowCaret",{target:Xe,direction:Gt,before:qe}).isDefaultPrevented()?null:(mt&&t.scrollIntoView(Xe,Gt===-1),i.show(qe,Xe)),P=Gt=>{Gt.hasAttribute("data-mce-caret")&&(h1(Gt),t.scrollIntoView(Gt))},j=()=>{e.on("click",Xe=>{n.isEditable(Xe.target)||(Xe.preventDefault(),e.focus())}),e.on("blur NewBlock",$e),e.on("ResizeWindow FullscreenStateChanged",i.reposition),e.on("tap",Xe=>{const qe=Xe.target,mt=o9(e,qe);hE(mt)?(Xe.preventDefault(),Ib(e,mt).each(Re)):S(qe)&&Ib(e,qe).each(Re)},!0),e.on("mousedown",Xe=>{const qe=Xe.target;if(qe!==s&&qe.nodeName!=="HTML"&&!n.isChildOf(qe,s)||!sI(e,Xe.clientX,Xe.clientY))return;$e(),At();const mt=o9(e,qe);hE(mt)?(Xe.preventDefault(),Ib(e,mt).each(Re)):ZF(s,Xe.clientX,Xe.clientY).each(Zt=>{Xe.preventDefault();const io=M(1,Zt.node,Zt.position===e_.Before,!1);O(io),pi(mt)?mt.focus():e.getBody().focus()})}),e.on("keypress",Xe=>{qt.modifierPressed(Xe)||hE(t.getNode())&&Xe.preventDefault()}),e.on("GetSelectionRange",Xe=>{let qe=Xe.range;if(g){if(!g.parentNode){g=null;return}qe=qe.cloneRange(),qe.selectNode(g),Xe.range=qe}}),e.on("focusin",Xe=>{if(i.isShowing()&&e.getBody().contains(Xe.target)&&Xe.target!==e.getBody()&&!e.dom.isEditable(Xe.target.parentNode)){i.hide(),Xe.target.contains(e.selection.getNode())||(e.selection.select(Xe.target,!0),e.selection.collapse(!0));const qe=Re(e.selection.getRng(),!0);qe&&e.selection.setRng(qe)}}),e.on("SetSelectionRange",Xe=>{Xe.range=se(Xe.range);const qe=Re(Xe.range,Xe.forward);qe&&(Xe.range=qe)});const Gt=Xe=>Wt(Xe)&&Xe.id==="mcepastebin";e.on("AfterSetSelectionRange",Xe=>{const qe=Xe.range,mt=qe.startContainer.parentElement;!G(qe)&&!Gt(mt)&&At(),v(mt)||$e()}),gj(e),hj(e),bj(e)},J=Gt=>zl(Gt)||Ap(Gt)||Pg(Gt),G=Gt=>J(Gt.startContainer)||J(Gt.endContainer),se=Gt=>{const Xe=e.schema.getVoidElements(),qe=n.createRng(),mt=Gt.startContainer,Zt=Gt.startOffset,io=Gt.endContainer,Jo=Gt.endOffset;return Qt(Xe,mt.nodeName.toLowerCase())?Zt===0?qe.setStartBefore(mt):qe.setStartAfter(mt):qe.setStart(mt,Zt),Qt(Xe,io.nodeName.toLowerCase())?Jo===0?qe.setEndBefore(io):qe.setEndAfter(io):qe.setEnd(io,Jo),qe},ge=(Gt,Xe)=>{const qe=ue.fromDom(e.getBody()),mt=e.getDoc(),Zt=wr(qe,"#"+c).getOrThunk(()=>{const sn=ue.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',mt);return Hr(sn,"id",c),Zn(qe,sn),sn}),io=n.createRng();fu(Zt),nc(Zt,[ue.fromText(Ls,mt),ue.fromDom(Xe),ue.fromText(Ls,mt)]),io.setStart(Zt.dom.firstChild,1),io.setEnd(Zt.dom.lastChild,0),pu(Zt,{top:n.getPos(Gt,e.getBody()).y+"px"}),np(Zt);const Jo=t.getSel();return Jo&&(Jo.removeAllRanges(),Jo.addRange(io)),io},_e=Gt=>{const Xe=Gt.cloneNode(!0),qe=e.dispatch("ObjectSelected",{target:Gt,targetClone:Xe});if(qe.isDefaultPrevented())return null;const mt=ge(Gt,qe.targetClone),Zt=ue.fromDom(Gt);return st(mn(ue.fromDom(e.getBody()),`*[${u}]`),io=>{bn(Zt,io)||er(io,u)}),n.getAttrib(Gt,u)||Gt.setAttribute(u,"1"),g=Gt,At(),mt},Re=(Gt,Xe)=>{if(!Gt)return null;if(Gt.collapsed){if(!G(Gt)){const io=Xe?1:-1,Jo=Jx(io,s,Gt),sn=Jo.getNode(!Xe);if(Qe(sn)){if(W0(sn))return M(io,sn,Xe?!Jo.isAtEnd():!1,!1);if(ym(sn)&&Ts(sn.nextSibling)){const hs=n.createRng();return hs.setStart(sn,0),hs.setEnd(sn,0),hs}}const Hn=Jo.getNode(Xe);if(Qe(Hn)){if(W0(Hn))return M(io,Hn,Xe?!1:!Jo.isAtEnd(),!1);if(ym(Hn)&&Ts(Hn.previousSibling)){const hs=n.createRng();return hs.setStart(Hn,1),hs.setEnd(Hn,1),hs}}}return null}let qe=Gt.startContainer,mt=Gt.startOffset;const Zt=Gt.endOffset;if(_t(qe)&&mt===0&&hE(qe.parentNode)&&(qe=qe.parentNode,mt=n.nodeIndex(qe),qe=qe.parentNode),!Wt(qe))return null;if(Zt===mt+1&&qe===Gt.endContainer){const io=qe.childNodes[mt];if(S(io))return _e(io)}return null},$e=()=>{g&&g.removeAttribute(u),wr(ue.fromDom(e.getBody()),"#"+c).each(k),g=null},dt=()=>{i.destroy(),g=null},At=()=>{i.hide()};return vl(e)||j(),{showCaret:M,showBlockCaretContainer:P,hideFakeCaret:At,destroy:dt}},vj=(e,t)=>{let n=t;for(let s=e.previousSibling;_t(s);s=s.previousSibling)n+=s.data.length;return n},n9=(e,t,n,s,i)=>{if(_t(n)&&(s<0||s>n.data.length))return[];const c=i&&_t(n)?[vj(n,s)]:[s];let u=n;for(;u!==t&&u.parentNode;)c.push(e.nodeIndex(u,i)),u=u.parentNode;return u===t?c.reverse():[]},TP=(e,t,n,s,i,c,u=!1)=>{const g=n9(e,t,n,s,u),v=n9(e,t,i,c,u);return{start:g,end:v}},s9=(e,t)=>{const n=t.slice(),s=n.pop();return A(s)?ws(n,(c,u)=>c.bind(g=>z.from(g.childNodes[u])),z.some(e)).bind(c=>_t(c)&&(s<0||s>c.data.length)?z.none():z.some({node:c,offset:s})):z.none()},r9=(e,t)=>s9(e,t.start).bind(({node:n,offset:s})=>s9(e,t.end).map(({node:i,offset:c})=>{const u=document.createRange();return u.setStart(n,s),u.setEnd(i,c),u})),yj=(e,t,n,s=!1)=>TP(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),t_=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t,_t(t.firstChild)&&mp(t.firstChild.data)),t_(e,s,n)}},w7=(e,t,n,s=!0)=>{const i=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(_t(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),_t(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),t_(e,i,n),i!==c&&t_(e,c,n))},C7=(e,t)=>z.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),DP=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:jE(s).concat(e.blockPatterns),inlinePatterns:WE(s).concat(e.inlinePatterns)}},OP=(e,t,n,s)=>{const i=e.createRng();return i.setStart(t,0),i.setEnd(n,s),i.toString()},a9=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),_7=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},i9=(e,t,n)=>{const s=r9(e.getRoot(),n).getOrDie("Unable to resolve path range"),i=s.startContainer,c=s.endContainer,u=s.endOffset===0?c:c.splitText(s.endOffset),g=s.startOffset===0?i:i.splitText(s.startOffset),v=g.parentNode,S=u.parentNode;return{prefix:t,end:S.insertBefore(a9(e,t+"-end"),u),start:v.insertBefore(a9(e,t+"-start"),g)}},l9=(e,t,n)=>{t_(e,e.get(t.prefix+"-end"),n),t_(e,e.get(t.prefix+"-start"),n)},NP=e=>e.start.length===0,wj=e=>(t,n)=>{const i=t.data.substring(0,n),c=i.lastIndexOf(e.charAt(e.length-1)),u=i.lastIndexOf(e);return u!==-1?u+e.length:c!==-1?c+1:-1},c9=(e,t,n,s)=>{const i=t.start;return uP(e,s.container,s.offset,wj(i),n).bind(u=>{var g,v;const S=(v=(g=n.textContent)===null||g===void 0?void 0:g.indexOf(i))!==null&&v!==void 0?v:-1;if(S!==-1&&u.offset>=S+i.length){const M=e.createRng();return M.setStart(u.container,u.offset-i.length),M.setEnd(u.container,u.offset),z.some(M)}else{const M=u.offset-i.length;return dP(u.container,M,n).map(P=>{const j=e.createRng();return j.setStart(P.container,P.offset),j.setEnd(u.container,u.offset),j}).filter(P=>P.toString()===i).orThunk(()=>c9(e,t,n,eg(u.container,0)))}})},Cj=(e,t,n,s,i,c=!1)=>{if(t.start.length===0&&!c){const u=e.createRng();return u.setStart(n,s),u.setEnd(n,s),z.some(u)}return cP(n,s,i).bind(u=>c9(e,t,i,u).bind(v=>{var S;if(c){if(v.endContainer===u.container&&v.endOffset===u.offset)return z.none();if(u.offset===0&&((S=v.endContainer.textContent)===null||S===void 0?void 0:S.length)===v.endOffset)return z.none()}return z.some(v)}))},_j=(e,t,n,s)=>{const i=e.dom,c=i.getRoot(),u=n.pattern,g=n.position.container,v=n.position.offset;return dP(g,v-n.pattern.end.length,t).bind(S=>{const O=TP(i,c,S.container,S.offset,g,v,s);if(NP(u))return z.some({matches:[{pattern:u,startRng:O,endRng:O}],position:S});{const M=k7(e,n.remainingPatterns,S.container,S.offset,t,s),P=M.getOr({matches:[],position:S}),j=P.position;return Cj(i,u,j.container,j.offset,t,M.isNone()).map(G=>{const se=yj(i,c,G,s);return{matches:P.matches.concat([{pattern:u,startRng:se,endRng:O}]),position:eg(G.startContainer,G.startOffset)}})}})},k7=(e,t,n,s,i,c)=>{const u=e.dom;return cP(n,s,u.getRoot()).bind(g=>{const v=OP(u,i,n,s);for(let S=0;S<t.length;S++){const O=t[S];if(!Yu(v,O.end))continue;const M=t.slice();M.splice(S,1);const P=_j(e,i,{pattern:O,remainingPatterns:M,position:g},c);if(P.isNone()&&s>0)return k7(e,t,n,s-1,i,c);if(P.isSome())return P}return z.none()})},d9=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?st(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},kj=(e,t,n,s)=>{const i=_7(e.dom,n);w7(e.dom,i,s),d9(e,t,i)},Sj=(e,t,n,s,i)=>{const c=e.dom,u=_7(c,s),g=_7(c,n);w7(c,g,i),w7(c,u,i);const v={prefix:n.prefix,start:n.end,end:s.start},S=_7(c,v);d9(e,t,S)},Ej=(e,t)=>{const n=Cs("mce_textpattern"),s=yc(t,(i,c)=>{const u=i9(e,n+`_end${i.length}`,c.endRng);return i.concat([{...c,endMarker:u}])},[]);return yc(s,(i,c)=>{const u=s.length-i.length-1,g=NP(c.pattern)?c.endMarker:i9(e,n+`_start${u}`,c.startRng);return i.concat([{...c,startMarker:g}])},[])},Aj=e=>ki(e,(t,n)=>n.end.length-t.end.length),Tj=(e,t)=>{const n=hn(e,s=>Kn(t,i=>s.pattern.start===i.pattern.start&&s.pattern.end===i.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},u9=(e,t,n,s,i,c)=>{const u=k7(e,i.inlinePatterns,n,s,t,c).fold(()=>[],v=>v.matches),g=k7(e,Aj(i.inlinePatterns),n,s,t,c).fold(()=>[],v=>v.matches);return Tj(u,g)},m9=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),i=Ej(n,t);st(i,c=>{const u=n.getParent(c.startMarker.start,n.isBlock),g=v=>v===u;NP(c.pattern)?kj(e,c.pattern,c.endMarker,g):Sj(e,c.pattern,c.startMarker,c.endMarker,g),l9(n,c.endMarker,g),l9(n,c.startMarker,g)}),e.selection.moveToBookmark(s)},f9=(e,t,n)=>KH(t,0,t).map(s=>{const i=s.container;return _L(i,n.start.length,t).each(c=>{const u=e.createRng();u.setStart(i,0),u.setEnd(c.container,c.offset),w7(e,u,g=>g===t)}),i}),p9=e=>(t,n)=>{const s=t.dom,i=n.pattern,c=r9(s.getRoot(),n.range).getOrDie("Unable to resolve path range"),u=(g,v)=>{const S=v.get(g);return pe(S)&&Kt(S).exists(O=>Qt(O,"block"))};return C7(t,c).each(g=>{i.type==="block-format"?u(i.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,g,i),t.formatter.apply(i.format)}):i.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,g,i),t.execCommand(i.cmd,!1,i.value)})}),!0},Dj=e=>ki(e,(t,n)=>n.start.length-t.start.length),g9=e=>(t,n)=>{const s=Dj(t),i=n.replace(Ls," ");return js(s,c=>e(c,n,i))},h9=(e,t)=>(n,s,i,c,u)=>{var g;u===void 0&&(u=(g=s.textContent)!==null&&g!==void 0?g:"");const v=n.dom,S=Ni(n);return v.is(s,S)?e(i.blockPatterns,u).map(O=>t&&Dt.trim(u).length===O.start.length?[]:[{pattern:O,range:TP(v,v.getRoot(),s,0,s,0,c)}]).getOr([]):[]},Oj=e=>/^\s[^\s]/.test(e),Nj=p9((e,t,n)=>{f9(e,t,n).each(s=>{const i=ue.fromDom(s),c=hg(i);Oj(c)&&Ol(i,c.slice(1))})}),Rj=g9((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),Mj=h9(Rj,!0),Bj=(e,t)=>{const n=e.selection.getRng();return C7(e,n).map(s=>{var i;const c=Math.max(0,n.startOffset),u=DP(t,s,(i=s.textContent)!==null&&i!==void 0?i:""),g=u9(e,s,n.startContainer,c,u,!0),v=Mj(e,s,u,!0);return{inlineMatches:g,blockMatches:v}}).filter(({inlineMatches:s,blockMatches:i})=>i.length>0||s.length>0)},Ij=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();st(t,s=>Nj(e,s)),e.selection.moveToBookmark(n)},Pj=p9(f9),Lj=g9((e,t,n)=>t===e.start||n===e.start),Fj=h9(Lj,!1),zj=(e,t)=>{const n=e.selection.getRng();return C7(e,n).map(s=>{const i=Math.max(0,n.startOffset),c=OP(e.dom,s,n.startContainer,i),u=DP(t,s,c);return Fj(e,s,u,!1,c)}).filter(s=>s.length>0)},Hj=(e,t)=>{st(t,n=>Pj(e,n))},Vj=(e,t)=>Bj(e,t).fold(So,({inlineMatches:n,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{g1(e),m9(e,n),Ij(e,s);const i=e.selection.getRng(),c=cP(i.startContainer,i.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(u=>{const g=u.container;g.data.charAt(u.offset-1)===Ea&&(g.deleteData(u.offset-1,1),t_(e.dom,g.parentNode,v=>v===e.dom.getRoot()))})}),!0)),$j=(e,t)=>{const n=e.selection.getRng();C7(e,n).map(s=>{const i=Math.max(0,n.startOffset-1),c=OP(e.dom,s,n.startContainer,i),u=DP(t,s,c),g=u9(e,s,n.startContainer,i,u,!1);g.length>0&&e.undoManager.transact(()=>{m9(e,g)})})},Uj=(e,t)=>zj(e,t).fold(So,n=>(e.undoManager.transact(()=>{Hj(e,n)}),!0)),b9=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},Zj=(e,t)=>b9(e,t,(n,s)=>n===s.keyCode&&!qt.modifierPressed(s)),jj=(e,t)=>b9(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),Wj=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>W7(yA(e).filter(u=>u.type==="inline-command"||u.type==="block-command"?e.queryCommandSupported(u.cmd):!0),X_(e)),i=()=>kA(e);e.on("keydown",u=>{if(u.keyCode===13&&!qt.modifierPressed(u)&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=T_(s(),"enter");(g.inlinePatterns.length>0||g.blockPatterns.length>0||i())&&Vj(e,g)&&u.preventDefault()}},!0),e.on("keydown",u=>{if(u.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=T_(s(),"space");(g.blockPatterns.length>0||i())&&Uj(e,g)&&u.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const u=T_(s(),"space");(u.inlinePatterns.length>0||i())&&$j(e,u)}};e.on("keyup",u=>{Zj(n,u)&&c()}),e.on("keypress",u=>{jj(t,u)&&Oo.setEditorTimeout(e,c)})},qj=e=>{Wj(e)},Gj=e=>{const t=Dt.each,n=qt.BACKSPACE,s=qt.DELETE,i=e.dom,c=e.selection,u=e.parser,g=Vo.browser,v=g.isFirefox(),S=g.isChromium()||g.isSafari(),O=Vo.deviceType.isiPhone()||Vo.deviceType.isiPad(),M=Vo.os.isMacOS()||Vo.os.isiOS(),P=(lt,Tt)=>{try{e.getDoc().execCommand(lt,!1,String(Tt))}catch{}},j=lt=>lt.isDefaultPrevented(),J=()=>{const lt=so=>{const rn=i.create("body"),cn=so.cloneContents();return rn.appendChild(cn),c.serializer.serialize(rn,{format:"html"})},Tt=so=>{const rn=lt(so),cn=i.createRng();cn.selectNode(e.getBody());const rs=lt(cn);return rn===rs};e.on("keydown",so=>{const rn=so.keyCode;if(!j(so)&&(rn===s||rn===n)&&e.selection.isEditable()){const cn=e.selection.isCollapsed(),rs=e.getBody();if(cn&&!Bl(e.schema,rs)||!cn&&!Tt(e.selection.getRng()))return;so.preventDefault(),e.setContent(""),rs.firstChild&&i.isBlock(rs.firstChild)?e.selection.setCursorLocation(rs.firstChild,0):e.selection.setCursorLocation(rs,0),e.nodeChanged()}})},G=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},se=()=>{e.inline||i.bind(e.getDoc(),"mousedown mouseup",lt=>{let Tt;if(lt.target===e.getDoc().documentElement)if(Tt=c.getRng(),e.getBody().focus(),lt.type==="mousedown"){if(zl(Tt.startContainer))return;c.placeCaretAt(lt.clientX,lt.clientY)}else c.setRng(Tt)})},ge=()=>{e.on("keydown",lt=>{if(!j(lt)&&lt.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const Tt=c.getNode(),so=Tt.previousSibling;if(Tt.nodeName==="HR"){i.remove(Tt),lt.preventDefault();return}so&&so.nodeName&&so.nodeName.toLowerCase()==="hr"&&(i.remove(so),lt.preventDefault())}}})},_e=()=>{Range.prototype.getClientRects||e.on("mousedown",lt=>{if(!j(lt)&&lt.target.nodeName==="HTML"){const Tt=e.getBody();Tt.blur(),Oo.setEditorTimeout(e,()=>{Tt.focus()})}})},Re=()=>{const lt=fA(e);e.on("click",Tt=>{const so=Tt.target;/^(IMG|HR)$/.test(so.nodeName)&&i.isEditable(so)&&(Tt.preventDefault(),e.selection.select(so),e.nodeChanged()),so.nodeName==="A"&&i.hasClass(so,lt)&&so.childNodes.length===0&&i.isEditable(so.parentNode)&&(Tt.preventDefault(),c.select(so))})},$e=()=>{const lt=Tt=>Tt.nodeName==="IMG"&&e.dom.isEditable(Tt);e.on("mousedown",Tt=>{sr(z.from(Tt.clientX),z.from(Tt.clientY),(so,rn)=>{const cn=e.getDoc().caretPositionFromPoint(so,rn);if(cn&&lt(cn.offsetNode)){const rs=cn.offsetNode.getBoundingClientRect();Tt.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(cn.offsetNode),Tt.clientX<rs.left||Tt.clientY<rs.top?e.selection.collapse(!0):(Tt.clientX>rs.right||Tt.clientY>rs.bottom)&&e.selection.collapse(!1)}})})},dt=()=>{const lt=()=>{const so=i.getAttribs(c.getStart().cloneNode(!1));return()=>{const rn=c.getStart();rn!==e.getBody()&&(i.setAttrib(rn,"style",null),t(so,cn=>{rn.setAttributeNode(cn.cloneNode(!0))}))}},Tt=()=>!c.isCollapsed()&&i.getParent(c.getStart(),i.isBlock)!==i.getParent(c.getEnd(),i.isBlock);e.on("keypress",so=>{let rn;return!j(so)&&(so.keyCode===8||so.keyCode===46)&&Tt()?(rn=lt(),e.getDoc().execCommand("delete",!1),rn(),so.preventDefault(),!1):!0}),i.bind(e.getDoc(),"cut",so=>{if(!j(so)&&Tt()){const rn=lt();Oo.setEditorTimeout(e,()=>{rn()})}})},At=()=>{e.on("keydown",lt=>{if(!j(lt)&&lt.keyCode===n&&c.isCollapsed()&&c.getRng().startOffset===0){const Tt=c.getNode().previousSibling;if(Tt&&Tt.nodeName&&Tt.nodeName.toLowerCase()==="table")return lt.preventDefault(),!1}return!0})},Gt=()=>{e.on("keydown",lt=>{if(j(lt)||lt.keyCode!==qt.BACKSPACE)return;let Tt=c.getRng();const so=Tt.startContainer,rn=Tt.startOffset,cn=i.getRoot();let rs=so;if(!(!Tt.collapsed||rn!==0)){for(;rs.parentNode&&rs.parentNode.firstChild===rs&&rs.parentNode!==cn;)rs=rs.parentNode;rs.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,rs),Tt=i.createRng(),Tt.setStart(so,0),Tt.setEnd(so,0),c.setRng(Tt))}})},Xe=()=>{const lt=()=>{P("StyleWithCSS",!1),P("enableInlineTableEditing",!1),U_(e)||P("enableObjectResizing",!1)};Ki(e)||e.on("BeforeExecCommand mousedown",lt)},qe=()=>{const lt=()=>{t(i.select("a:not([data-mce-block])"),Tt=>{var so;let rn=Tt.parentNode;const cn=i.getRoot();if((rn==null?void 0:rn.lastChild)===Tt){for(;rn&&!i.isBlock(rn);){if(((so=rn.parentNode)===null||so===void 0?void 0:so.lastChild)!==rn||rn===cn)return;rn=rn.parentNode}i.add(rn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Tt=>{(Tt.type==="setcontent"||Tt.command==="mceInsertLink")&&lt()})},mt=()=>{e.on("init",()=>{P("DefaultParagraphSeparator",Ni(e))})},Zt=lt=>{const Tt=lt.getBody(),so=lt.selection.getRng();return so.startContainer===so.endContainer&&so.startContainer===Tt&&so.startOffset===0&&so.endOffset===Tt.childNodes.length},io=()=>{e.on("keyup focusin mouseup",lt=>{!qt.modifierPressed(lt)&&!Zt(e)&&c.normalize()},!0)},Jo=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},sn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Hn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",lt=>{let Tt;lt.target.nodeName==="HTML"&&(Tt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Tt),e.selection.normalize(),e.nodeChanged())}))},hs=()=>{M&&e.on("keydown",lt=>{qt.metaKeyPressed(lt)&&!lt.shiftKey&&(lt.keyCode===37||lt.keyCode===39)&&(lt.preventDefault(),e.selection.getSel().modify("move",lt.keyCode===37?"backward":"forward","lineboundary"))})},ma=()=>{e.on("click",lt=>{let Tt=lt.target;do if(Tt.tagName==="A"){lt.preventDefault();return}while(Tt=Tt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ai=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",lt=>{lt.preventDefault()})})},vi=()=>{u.addNodeFilter("br",lt=>{let Tt=lt.length;for(;Tt--;)lt[Tt].attr("class")==="Apple-interchange-newline"&&lt[Tt].remove()})},Pt=To,ao=()=>{if(!v||e.removed)return!1;const lt=e.selection.getSel();return!lt||!lt.rangeCount||lt.rangeCount===0},Fn=()=>{S&&(se(),Re(),ai(),G(),O&&(sn(),Hn(),ma())),v&&(_e(),Xe(),Jo(),hs())},Vn=()=>{Gt(),J(),Vo.windowsPhone||io(),S&&(se(),Re(),mt(),ai(),At(),vi(),O?(sn(),Hn(),ma()):G()),v&&($e(),ge(),_e(),dt(),Xe(),qe(),Jo(),hs(),At())};return vl(e)?Fn():Vn(),{refreshContentEditable:Pt,isHidden:ao}},Kj=e=>e.toLowerCase()==="gpl",Yj=e=>e.length>=64&&e.length<=255,Xj=e=>Kj(e)||Yj(e)?"VALID":"INVALID",Qj=e=>{const t=J_(e);!We(TA(e))&&(wn(t)||Xj(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},RP=Ds.DOM,Jj=(e,t)=>{const n=ue.fromDom(e.getBody()),s=vs(ed(n)),i=ue.fromTag("style");Hr(i,"type","text/css"),Zn(i,ue.fromText(t)),Zn(s,i),e.on("remove",()=>{k(i)})},eW=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,MP=e=>Fo(e,t=>wn(t)===!1),x9=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return MP({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:eW(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:Ru(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},v9=e=>{const t=e.options.get;return MP({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},tW=e=>{const t=e.options.get;return{...x9(e),...v9(e),...MP({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},oW=e=>{const t=q1(x9(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const i=e.dom,c="data-mce-"+s;let u=n.length;for(;u--;){const g=n[u];let v=g.attr(s);if(v&&!g.attr(c)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;s==="style"?(v=i.serializeStyle(i.parseStyle(v),g.name),v.length||(v=null),g.attr(c,v),g.attr(s,v)):s==="tabindex"?(g.attr(c,v),g.attr(s,null)):g.attr(c,e.convertURL(v,s,g.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const i=n[s],c=i.attr("type")||"no/type";c.indexOf("mce-")!==0&&i.attr("type","mce-"+c)}}),Q_(e)&&t.addNodeFilter("#cdata",n=>{var s;let i=n.length;for(;i--;){const c=n[i];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((s=c.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const i=e.schema.getNonEmptyElements();for(;s--;){const c=n[s];c.isEmpty(i)&&c.getAll("br").length===0&&c.append(new Ul("br",1))}}),t},nW=e=>{const t=xN(e);t&&Oo.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},sW=e=>{const t=e.dom.getRoot();!e.inline&&(!Ny(e)||e.selection.getStart(!0)===t)&&hl(t).each(n=>{const s=n.getNode(),i=yu(s)?hl(s).getOr(n):n;e.selection.setRng(i.toRange())})},rW=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Gi(e),e.focus(!0),sW(e),e.nodeChanged({initial:!0});const t=pA(e);Jt(t)&&t.call(e,e),nW(e),qp(e)&&eS(e,!0)},BP=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,aW=(e,t,n)=>{const{pass:s,fail:i}=br(t,g=>tinymce.Resource.has(Nb(g))),u=[...s.map(g=>{const v=tinymce.Resource.get(Nb(g));return We(v)?Promise.resolve(BP(e).loadRawCss(g,v)):Promise.resolve()}),BP(e).loadAll(i)];return e.inline?u:u.concat([e.ui.styleSheetLoader.loadAll(n)])},y9=e=>{const t=BP(e),n=qx(e),s=e.contentCSS,i=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},c=()=>{e.removed?i():e.on("remove",i)};if(e.contentStyles.length>0){let v="";Dt.each(e.contentStyles,S=>{v+=S+`\r
`}),e.dom.addStyle(v)}const u=Promise.all(aW(e,s,n)).then(c).catch(c),g=Np(e);return g&&Jj(e,g),u},iW=e=>{const t=e.getDoc(),n=e.getBody();Q7(e),gA(e)||(t.body.spellcheck=!1,RP.setAttrib(n,"spellcheck","false")),e.quirks=Gj(e),D_(e);const s=U0(e);s!==void 0&&(n.dir=s);const i=vN(e);i&&e.on("BeforeSetContent",c=>{Dt.each(i,u=>{c.content=c.content.replace(u,g=>"<!--mce:protected "+escape(g)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},lW=e=>{vl(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},IP=e=>{e.removed!==!0&&(lW(e),rW(e))},cW=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},w9=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(RP.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=Ki(e),e._editableRoot=_m(e),!Xx(e)&&e.hasEditableRoot()&&(e.inline&&RP.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=LO(e),e.schema=gf(v9(e)),e.dom=Ds(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:dN(e),referrerPolicy:$_(e),onSetAttrib:u=>{e.dispatch("SetAttrib",u)}}),e.parser=oW(e),e.serializer=$3(tW(e),e),e.selection=H3(e.dom,e.getWin(),e.serializer,e),e.annotator=p5(e),e.formatter=ZO(e),e.undoManager=WO(e),e._nodeChangeDispatcher=new xU(e),e._selectionOverrides=xj(e),Gr(e),_Z(e),Yp(e),vl(e)||(OZ(e),qj(e));const i=bU(e);Rn(e,i),bh(e),XO(e),yZ(e);const c=OB(e);iW(e),Qj(e),c.fold(()=>{const u=cW(e);y9(e).then(()=>{IP(e),u()})},u=>{e.setProgressState(!0),y9(e).then(()=>{u().then(g=>{e.setProgressState(!1),IP(e),dC(e)},g=>{e.notificationManager.open({type:"error",text:String(g)}),IP(e),dC(e)})})})},PP=Ds.DOM,dW=(e,t,n,s)=>{const i=ue.fromTag("iframe");return s.each(c=>Hr(i,"tabindex",c)),sc(i,n),sc(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Vi(i,"tox-edit-area__iframe"),i},uW=e=>{let t=eA(e)+"<html><head>";tA(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=aN(e),s=oA(e),i=e.translate(G_(e));return P_(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+P_(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${i}"><br></body></html>`,t},mW=(e,t)=>{const n=Vo.browser.isFirefox()?G_(e):"Rich Text Area",s=e.translate(n),i=zs(ue.fromDom(e.getElement()),"tabindex").bind(Cl),c=dW(e.id,s,Nu(e),i).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=uW(e),PP.add(t.iframeContainer,c)},fW=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,w9(e)};if(TN(e)||Vo.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),n()}else{const s=nm(ue.fromDom(t),"load",()=>{s.unbind(),n()});t.srcdoc=e.iframeHTML}},pW=(e,t)=>{mW(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=PP.isHidden(t.editorContainer)),e.getElement().style.display="none",PP.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,fW(e)},C9=Ds.DOM,gW=(e,t,n)=>{const s=Y1.get(n),i=Y1.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Dt.trim(n),s&&Dt.inArray(t,n)===-1){if(e.plugins[n])return;try{const c=s(e,i)||{};e.plugins[n]=c,Jt(c.init)&&(c.init(e,i),t.push(n))}catch(c){lI(e,n,c)}}},hW=e=>e.replace(/^\-/,""),bW=e=>{const t=[];st(Kx(e),n=>{gW(e,t,hW(n))})},xW=e=>{const t=Dt.trim(V_(e)),n=e.ui.registry.getAll().icons,s={...mh.get("default").icons,...mh.get(t).icons};Un(s,(i,c)=>{Qt(n,c)||e.ui.registry.addIcon(c,i)})},vW=e=>{const t=w1(e);if(We(t)){const n=fh.get(t);e.theme=n(e,fh.urls[t])||{},Jt(e.theme.init)&&e.theme.init(e,fh.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},yW=e=>{const t=py(e),n=Db.get(t);e.model=n(e,Db.urls[t])},wW=e=>{const t=e.theme.renderUI;return t?t():k9(e)},CW=e=>{const t=e.getElement(),s=w1(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},_9=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),_W=e=>{const t=C9.create("div");return C9.insertAfter(t,e),_9(t,t)},k9=e=>{const t=e.getElement();return e.inline?_9(null):_W(t)},kW=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,We(w1(e))?wW(e):Jt(w1(e))?CW(e):k9(e)},SW=(e,t)=>{const n={show:z.from(t.show).getOr(To),hide:z.from(t.hide).getOr(To),isEnabled:z.from(t.isEnabled).getOr(qo),setEnabled:s=>{s&&(e.mode.get()==="readonly"||qp(e))||z.from(t.setEnabled).each(c=>c(s))}};e.ui={...e.ui,...n}},EW=async e=>{e.dispatch("ScriptsLoaded"),xW(e),vW(e),yW(e),bW(e);const t=await kW(e);SW(e,z.from(t.api).getOr({})),e.editorContainer=t.editorContainer,pI(e),e.inline?w9(e):pW(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},x2=Ds.DOM,S9=e=>e.charAt(0)==="-",AW=(e,t)=>{const n=lA(t),s=Xs(t);if(!Di.hasCode(n)&&n!=="en"){const i=La(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(i).catch(()=>{CO(t,i,n)})}},TW=(e,t)=>{const n=w1(e);if(We(n)&&!S9(n)&&!Qt(fh.urls,n)){const s=uN(e),i=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;fh.load(n,i).catch(()=>{_O(e,i,n)})}},DW=(e,t)=>{const n=py(e);if(n!=="plugin"&&!Qt(Db.urls,n)){const s=mN(e),i=We(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;Db.load(n,i).catch(()=>{iI(e,i,n)})}},OW=e=>z.from(cy(e)).filter(La).map(t=>({url:t,name:z.none()})),E9=(e,t,n)=>z.from(t).filter(s=>La(s)&&!mh.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:z.some(s)})),NW=(e,t,n)=>{const s=E9(t,"default",n),i=OW(t).orThunk(()=>E9(t,V_(t),""));st(Kl([s,i]),c=>{e.add(c.url).catch(()=>{aI(t,c.url,c.name.getOrUndefined())})})},RW=(e,t)=>{const n=(s,i)=>{Y1.load(s,i).catch(()=>{wO(e,i,s)})};Un(hN(e),(s,i)=>{n(i,s),e.options.set("plugins",Kx(e).concat(i))}),st(Kx(e),s=>{s=Dt.trim(s),s&&!Y1.urls[s]&&!S9(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},MW=e=>{const t=w1(e);return!We(t)||Qe(fh.get(t))},BW=e=>{const t=py(e);return Qe(Db.get(t))},IW=(e,t)=>{const n=Hd.ScriptLoader,s=()=>{!e.removed&&MW(e)&&BW(e)&&EW(e)};TW(e,t),DW(e,t),AW(n,e),NW(n,e,t),RW(e,t),n.loadQueue().then(s,s)},PW=(e,t)=>ja.forElement(e,{contentCssCors:gy(t),referrerPolicy:$_(t)}),LW=e=>{const t=e.id;Di.setCode(lA(e));const n=()=>{x2.unbind(window,"ready",n),e.render()};if(!Ll.Event.domLoaded){x2.bind(window,"ready",n);return}if(!e.getElement())return;const s=ue.fromDom(e.getElement()),i=Na(s);e.on("remove",()=>{Wl(s.dom.attributes,u=>er(s,u.name)),sc(s,i)}),e.ui.styleSheetLoader=PW(s,e),zg(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||x2.getParent(t,"form");c&&(e.formElement=c,dA(e)&&!Pd(e.getElement())&&(x2.insertAfter(x2.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=u=>{e.dispatch(u.type,u)},x2.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),W_(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=vO(e),e.notificationManager=K3(e),EA(e)&&e.on("GetContent",u=>{u.save&&(u.content=x2.encode(u.content))}),uA(e)&&e.on("submit",()=>{e.initialized&&e.save()}),pN(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),IW(e,e.suffix)},FW=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,qp(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),nN(e,t))},zW=e=>e._editableRoot,HW=(e,t)=>({sections:Et(e),options:Et(t)}),A9=Jn().deviceType,T9=A9.isPhone(),VW=A9.isTablet(),bE=e=>{if(tn(e))return[];{const t=pe(e)?e:e.split(/[ ,]/),n=Yo(t,jc);return Co(n,La)}},$W=(e,t)=>{const n=Zc(t,(s,i)=>on(e,i));return HW(n.t,n.f)},UW=(e,t,n={})=>{const s=e.sections(),i=_n(s,t).getOr({});return Dt.extend({},n,i)},LP=(e,t)=>Qt(e.sections(),t),ZW=(e,t)=>LP(e,t)?e.sections()[t]:{},jW=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:_n(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),WW=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?Dt.extend({},e.external_plugins,s):s},qW=(e,t)=>[...bE(e),...bE(t)],GW=(e,t,n,s)=>e&&LP(t,"mobile")?s:n,KW=(e,t,n,s)=>{const i=bE(n.forced_plugins),c=bE(s.plugins),u=ZW(t,"mobile"),g=u.plugins?bE(u.plugins):c,v=GW(e,t,c,g),S=qW(i,v);return Dt.extend(s,{forced_plugins:i,plugins:S})},YW=(e,t)=>e&&LP(t,"mobile"),XW=(e,t,n,s,i)=>{var c;const u=e?{mobile:jW((c=i.mobile)!==null&&c!==void 0?c:{},t)}:{},g=$W(["mobile"],Es(u,i)),v=Dt.extend(n,s,g.options(),YW(e,g)?UW(g,"mobile"):{},{external_plugins:WW(s,g.options())});return KW(e,g,s,v)},QW=(e,t)=>{const n=_c(t);return XW(T9||VW,T9,n,e,n)},JW=(e,t)=>KD(e,t),eq=e=>{const t=(s,i)=>{e.formatter.toggle(s,i),e.nodeChanged()},n=s=>()=>{st("left,center,right,justify".split(","),i=>{s!==i&&e.formatter.remove("align"+i)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},tq=e=>{const t=n=>()=>{const s=e.selection,i=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return Kn(i,c=>Qe(e.formatter.matchNode(c,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},oq=e=>{eq(e),tq(e)},nq=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch{s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Vo.os.isMacOS()||Vo.os.isiOS())&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}}})},sq=(e,t,n,s)=>{const i=ue.fromDom(e.getRoot());return ub(i,Ke.fromRangeStart(t),s)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Df(i,Ke.fromRangeEnd(t),s)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},rq=e=>{if(typeof e!="string"){const t=Dt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},aq=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?sq(s,n.getRng(),t,e.schema):t},S7=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:s}=rq(t);Sb(e,{...s,content:aq(e,n),format:"html",set:!1,selection:!0}).each(i=>{const c=GD(e,i.content,s);Uv(e,c,i),e.addVisual()})}},iq=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{S7(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{S7(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{S7(e,s)},mceInsertContent:(t,n,s)=>{S7(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(CN(e))}})},lq={"font-size":"size","font-family":"face"},cq=Xm("font"),dq=(e,t,n)=>{const s=c=>Nh(c,e).orThunk(()=>cq(c)?_n(lq,e).bind(u=>zs(c,u)):z.none()),i=c=>bn(ue.fromDom(t),c);return dp(ue.fromDom(n),c=>s(c),i)},uq=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),mq=(e,t)=>z.from(Ds.DOM.getStyle(t,e,!0)),D9=e=>(t,n)=>z.from(n).map(ue.fromDom).filter(fr).bind(s=>dq(e,t,s.dom).or(mq(e,s.dom))).getOr(""),fq=D9("font-size"),pq=$n(uq,D9("font-family")),gq=e=>hl(e.getBody()).bind(t=>{const n=t.container();return z.from(_t(n)?n.parentNode:n)}),hq=e=>z.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?z.none():z.from(e.selection.getStart(!0))}),bq=(e,t)=>hq(e).orThunk(Ze(gq,e)).map(ue.fromDom).filter(fr).bind(t),FP=(e,t)=>bq(e,ta(z.some,t)),O9=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=SA(e),i=DN(e);return i.length>0?i[n-1]||t:s[n-1]||t}else return t}else return t},xq=e=>{const t=e.split(/\s*,\s*/);return Yo(t,n=>n.indexOf(" ")!==-1&&!(ar(n,'"')||ar(n,"'"))?`'${n}'`:n).join(",")},vq=(e,t)=>{const n=O9(e,t);e.formatter.toggle("fontname",{value:xq(n)}),e.nodeChanged()},yq=e=>FP(e,t=>pq(e.getBody(),t.dom)).getOr(""),wq=(e,t)=>{e.formatter.toggle("fontsize",{value:O9(e,t)}),e.nodeChanged()},Cq=e=>FP(e,t=>fq(e.getBody(),t.dom)).getOr(""),_q=e=>FP(e,t=>{const n=ue.fromDom(e.getBody()),s=dp(t,c=>Nh(c,"line-height"),Ze(bn,n)),i=()=>{const c=parseFloat(rc(t,"line-height")),u=parseFloat(rc(t,"font-size"));return String(c/u)};return s.getOrThunk(i)}).getOr(""),kq=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},Sq=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,i)=>{t(n,{value:i})},BackColor:(n,s,i)=>{t("hilitecolor",{value:i})},FontName:(n,s,i)=>{vq(e,i)},FontSize:(n,s,i)=>{wq(e,i)},LineHeight:(n,s,i)=>{kq(e,i)},Lang:(n,s,i)=>{var c;t(n,{value:i.code,customValue:(c=i.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,i)=>{t(We(i)?i:"p")},mceToggleFormat:(n,s,i)=>{t(i)}})},Eq=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>yq(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Cq(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>_q(e))},Aq=e=>{Sq(e),Eq(e)},Tq=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Dq=e=>{e.editorCommands.addCommands({Indent:()=>{Xt(e)},Outdent:()=>{no(e)}}),e.editorCommands.addCommands({Outdent:()=>ze(e)},"state")},Oq=e=>{const t=(n,s,i)=>{if(e.mode.isReadOnly())return;const c=We(i)?{href:i}:i,u=e.dom.getParent(e.selection.getNode(),"a");ne(c)&&We(c.href)&&(c.href=c.href.replace(/ /g,"%20"),(!u||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,u))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},Nq=(e,t,n,s)=>{const i=e.dom,c=g=>i.isBlock(g)&&g.parentElement===n,u=c(t)?t:i.getParent(s,c,n);return z.from(u).map(ue.fromDom)},N9=(e,t)=>{if(e.mode.isReadOnly())return;const n=e.dom,s=e.selection.getRng(),i=t?e.selection.getStart():e.selection.getEnd(),c=t?s.startContainer:s.endContainer,u=mE(n,c);if(!u||!u.isContentEditable)return;const g=t?ei:td,v=Ni(e);Nq(e,i,u,c).each(S=>{const O=eF(e,c,S.dom,u,!1,v);g(S,ue.fromDom(O)),e.selection.setCursorLocation(O,0),e.dispatch("NewBlock",{newBlock:O}),uE(e,"insertParagraph")})},Rq=e=>N9(e,!0),Mq=e=>N9(e,!1),Bq=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{Rq(e)},InsertNewBlockAfter:()=>{Mq(e)}})},Iq=e=>{e.editorCommands.addCommands({insertParagraph:()=>{g7(sF,e)},mceInsertNewLine:(t,n,s)=>{uF(e,s)},InsertLineBreak:(t,n,s)=>{g7(iF,e)}})},Pq=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let i=0;e.dom.getParent(e.selection.getNode(),c=>Wt(c)&&i++===s?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),lc);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},Lq=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const i=s??e.selection.getNode();if(i!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{$y(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Fq=e=>{oq(e),nq(e),Tq(e),Pq(e),iq(e),Oq(e),Dq(e),Bq(e),Iq(e),Aq(e),Lq(e)},zq=["toggleview"],R9=e=>on(zq,e.toLowerCase());class M9{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,i){const c=this.editor,u=t.toLowerCase(),g=i==null?void 0:i.skip_focus;if(c.removed||(u!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(u)&&!g?c.focus():Tk(c)),c.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const S=this.commands.exec[u];return Jt(S)?(S(u,n,s),c.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(!R9(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return Jt(s)?s(n):!1}queryCommandValue(t){if(!R9(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return Jt(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;Un(t,(i,c)=>{st(c.toLowerCase().split(","),u=>{s[n][u]=i})})}addCommand(t,n,s){const i=t.toLowerCase();this.commands.exec[i]=(c,u,g)=>n.call(s??this.editor,u,g)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s??this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s??this.editor)}}const Hq=Dt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class zP{static isNative(t){return!!Hq[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||So}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),i=Wn(s,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const c=this.bindings[s];if(c)for(let u=0,g=c.length;u<g;u++){const v=c[u];if(!v.removed){if(v.once&&this.off(s,v.func),i.isImmediatePropagationStopped())return i;if(v.func.call(this.scope,i)===!1)return i.preventDefault(),i}}return i}on(t,n,s,i){if(n===!1&&(n=So),n){const c={func:n,removed:!1};i&&Dt.extend(c,i);const u=t.toLowerCase().split(" ");let g=u.length;for(;g--;){const v=u[g];let S=this.bindings[v];S||(S=[],this.toggleEvent(v,!0)),s?S=[c,...S]:S=[...S,c],this.bindings[v]=S}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let i=s.length;for(;i--;){const c=s[i];let u=this.bindings[c];if(!c)return Un(this.bindings,(g,v)=>{this.toggleEvent(v,!1),delete this.bindings[v]}),this;if(u){if(!n)u.length=0;else{const g=br(u,v=>v.func===n);u=g.fail,this.bindings[c]=u,st(g.pass,v=>{v.removed=!0})}u.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else Un(this.bindings,(s,i)=>{this.toggleEvent(i,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const xE=e=>(e._eventDispatcher||(e._eventDispatcher=new zP({scope:e,toggleEvent:(t,n)=>{zP.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),HP={fire(e,t,n){return console.warn('The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',new Error().stack),this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return Wn(e.toLowerCase(),t??{},s);const i=xE(s).dispatch(e,t);if(n!==!1&&s.parent){let c=s.parent();for(;c&&!i.isPropagationStopped();)c.dispatch(e,i,!1),c=c.parent?c.parent():void 0}return i},on(e,t,n){return xE(this).on(e,t,n)},off(e,t){return xE(this).off(e,t)},once(e,t){return xE(this).once(e,t)},hasEventListeners(e){return xE(this).has(e)}},E7=Ds.DOM;let v2;const A7=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=Rp(e);return n?(e.eventRoot||(e.eventRoot=E7.select(n)[0]),e.eventRoot):e.getBody()},Vq=e=>!e.hidden&&!qp(e),B9=(e,t,n)=>{Vq(e)?e.dispatch(t,n):qp(e)&&tS(e,n)},I9=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=A7(e,t);if(Rp(e)){if(v2||(v2={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||v2&&(Un(v2,(i,c)=>{e.dom.unbind(A7(e,c))}),v2=null)})),v2[t])return;const s=i=>{const c=i.target,u=e.editorManager.get();let g=u.length;for(;g--;){const v=u[g].getBody();(v===c||E7.isChildOf(c,v))&&B9(u[g],t,i)}};v2[t]=s,E7.bind(n,t,s)}else{const s=i=>{B9(e,t,i)};E7.bind(n,t,s),e.delegates[t]=s}},P9={...HP,bindPendingEventDelegates(){const e=this;Dt.each(e._pendingNativeEvents,t=>{I9(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?I9(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(A7(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Un(e.delegates,(s,i)=>{e.dom.unbind(A7(e,i),i,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},$q=e=>We(e)?{value:e.split(/[ ,]/),valid:!0}:Bo(e,We)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Uq=e=>{const t=(()=>{switch(e){case"array":return pe;case"boolean":return bs;case"function":return Jt;case"number":return A;case"object":return ne;case"string":return We;case"string[]":return $q;case"object[]":return n=>Bo(n,ne);case"regexp":return n=>He(n,RegExp);default:return qo}})();return n=>VP(n,t,`The value must be a ${e}.`)},Zq=e=>We(e.processor),L9=(e,t)=>{const n=Wc(t.message)?"":`. ${t.message}`;return e+n},F9=e=>e.valid,VP=(e,t,n="")=>{const s=t(e);return bs(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},jq=(e,t,n)=>{if(!wn(t)){const s=VP(t,n);if(F9(s))return s.value;console.error(L9(`Invalid default value passed for the "${e}" option`,s))}},Wq=(e,t,n=t)=>{const s={},i={},c=(j,J,G)=>{const se=VP(J,G);return F9(se)?(i[j]=se.value,!0):(console.warn(L9(`Invalid value passed for the ${j} option`,se)),!1)},u=(j,J)=>{const G=Zq(J)?Uq(J.processor):J.processor,se=jq(j,J.default,G);s[j]={...J,default:se,processor:G},_n(i,j).orThunk(()=>_n(t,j)).each(_e=>c(j,_e,G))},g=j=>Qt(s,j);return{register:u,isRegistered:g,get:j=>_n(i,j).orThunk(()=>_n(s,j).map(J=>J.default)).getOrUndefined(),set:(j,J)=>{if(g(j)){const G=s[j];return G.immutable?(console.error(`"${j}" is an immutable option and cannot be updated`),!1):c(j,J,G.processor)}else return console.warn(`"${j}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:j=>{const J=g(j);return J&&delete i[j],J},isSet:j=>Qt(i,j),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(j,J)=>bs(J)||A(J)||We(J)||yn(J)||pe(J)||Ct(J)?J:Object.prototype.toString.call(J))))}catch(j){console.error(j)}}}},qq=(e,t)=>{e.dom.contentEditable="true"},Gq=(e,t)=>{const n=ue.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&qq(n),Q3(e)):(e.readonly=!1,SO(e))},o_=e=>e.readonly,Kq=e=>{const t=e.undoManager.add();Qe(t)&&(e.undoManager.undo(),e.undoManager.reset())},Yq=e=>Kn(e,t=>t.type==="characterData"||t.type==="childList"),Xq=e=>{const t=s=>{o_(e)&&Yq(s)&&Kq(e)},n=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",s=>{o_(e)&&s.preventDefault()}),e.on("BeforeExecCommand",s=>{(s.command==="Undo"||s.command==="Redo")&&o_(e)&&s.preventDefault()}),e.on("compositionstart",()=>{o_(e)&&n.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(o_(e)){const s=n.takeRecords();t(s)}n.disconnect()})},Qq=["design","readonly"],z9=(e,t,n,s)=>{const i=n[t.get()],c=n[s];try{c.activate()}catch(u){console.error(`problem while activating editor mode ${s}:`,u);return}i.deactivate(),i.editorReadOnly!==c.editorReadOnly&&Gq(e,c.editorReadOnly),t.set(s),X7(e,s)},Jq=(e,t,n,s)=>{if(!(s===n.get()||e.initialized&&qp(e))){if(!Qt(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?z9(e,n,t,s):e.on("init",()=>z9(e,n,t,s))}},eG=(e,t,n)=>{if(on(Qq,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},tG=e=>{const t=Wo("design"),n=Wo({design:{activate:To,deactivate:To,editorReadOnly:!1},readonly:{activate:To,deactivate:To,editorReadOnly:!0}});return Xq(e),DO(e),{isReadOnly:()=>o_(e),set:s=>Jq(e,n.get(),t,s),get:()=>t.get(),register:(s,i)=>{n.set(eG(n.get(),s,i))}}},$P=Dt.each,UP=Dt.explode,oG={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},H9=Dt.makeMap("alt,ctrl,shift,meta,access"),nG=e=>e in H9,sG=e=>{const t={},n=Vo.os.isMacOS()||Vo.os.isiOS();$P(UP(e.toLowerCase(),"+"),c=>{nG(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=oG[c]||c.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let i;for(i in H9)t[i]?s.push(i):t[i]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class V9{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&($P(n.shortcuts,i=>{n.matchShortcut(s,i)&&(n.pendingPatterns=i.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(i))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,i){const c=this,u=c.normalizeCommandFunc(s);return $P(UP(Dt.trim(t)),g=>{const v=c.createShortcut(g,n,u,i);c.shortcuts[v.id]=v}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:Dt.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,i){const c=Dt.map(UP(t,">"),sG);return c[c.length-1]=Dt.extend(c[c.length-1],{func:s,scope:i||this.editor}),Dt.extend(c[0],{desc:this.editor.translate(n),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const rG=()=>{const e=UV();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},y2=Ds.DOM,$9=Dt.extend,aG=Dt.each;class T7{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,$9(this,P9);const i=this;this.id=t,this.hidden=!1;const c=QW(s.defaultOptions,n);this.options=Wq(i,c,n),eo(i);const u=this.options.get;u("deprecation_warnings")&&qB(n,c);const g=u("suffix");g&&(s.suffix=g),this.suffix=s.suffix;const v=u("base_url");v&&s._setBaseUrl(v),this.baseUri=s.baseURI;const S=$_(i);S&&(Hd.ScriptLoader._setReferrerPolicy(S),Ds.DOM.styleSheetLoader._setReferrerPolicy(S));const O=gy(i);Qe(O)&&Ds.DOM.styleSheetLoader._setContentCssCors(O),Oi.languageLoad=u("language_load"),Oi.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new bl(tA(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=zg(i),this.hasVisual=bN(i),this.shortcuts=new V9(this),this.editorCommands=new M9(this),Fq(this);const M=u("cache_suffix");M&&(Vo.cacheSuffix=M.replace(/^[\?\&]+/,"")),this.ui={registry:rG(),styleSheetLoader:void 0,show:To,hide:To,setEnabled:To,isEnabled:qo},this.mode=tG(i),s.dispatch("SetupEditor",{editor:this});const P=K_(i);Jt(P)&&P.call(i,i)}render(){LW(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Tf(this)}translate(t){return Di.translate(t)}getParam(t,n,s){const i=this.options;return i.isRegistered(t)||(Qe(s)?i.register(t,{processor:s,default:n}):i.register(t,{processor:qo,default:n})),!i.isSet(t)&&!wn(n)?n:i.get(t)}hasPlugin(t,n){return on(Kx(this),t)?n?Y1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,i){this.shortcuts.add(t,n,s,i)}execCommand(t,n,s,i){return this.editorCommands.execCommand(t,n,s,i)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(y2.show(t.getContainer()),y2.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(y2.hide(t.getContainer()),y2.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const i={...t,load:!0},c=Pd(s)?s.value:s.innerHTML,u=n.setContent(c,i);return i.no_events||n.dispatch("LoadContent",{...i,element:s}),u}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const i={...t,save:!0,element:s};let c=n.getContent(i);const u={...i,content:c};if(u.no_events||n.dispatch("SaveContent",u),u.format==="raw"&&n.dispatch("RawSaveContent",u),c=u.content,Pd(s))s.value=c;else{(t.is_removing||!n.inline)&&(s.innerHTML=c);const g=y2.getParent(n.id,"form");g&&aG(g.elements,v=>v.name===n.id?(v.value=c,!1):!0)}return u.element=i.element=s=null,u.set_dirty!==!1&&n.setDirty(!1),c}setContent(t,n){return Ab(this,t,n)}getContent(t){return HB(this,t)}insertContent(t,n){n&&(t=$9({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?Ab(this,this.startContent,{format:"raw"}):Ab(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||y2.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=y2.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const i=this,c=i.options.get,u=Y_(i);if(Jt(u))return u.call(i,t,s,!0,n);if(!c("convert_urls")||s==="link"||ne(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const g=new bl(t);return g.protocol!=="http"&&g.protocol!=="https"&&g.protocol!==""?t:c("relative_urls")?i.documentBaseURI.toRelative(t):(t=i.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){JW(this,t)}setEditableRoot(t){FW(this,t)}hasEditableRoot(){return zW(this)}remove(){mO(this)}destroy(t){G3(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const n_=Ds.DOM,D7=Dt.each;let U9=!1,O7,xd=[];const N7=e=>{const t=e.type;D7(Gb.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},Z9=e=>{if(e!==U9){const t=Ds.DOM;e?(t.bind(window,"resize",N7),t.bind(window,"scroll",N7)):(t.unbind(window,"resize",N7),t.unbind(window,"scroll",N7)),U9=e}},j9=e=>{const t=xd;return xd=Co(xd,n=>e!==n),Gb.activeEditor===e&&(Gb.activeEditor=xd.length>0?xd[0]:null),Gb.focusedEditor===e&&(Gb.focusedEditor=null),t.length!==xd.length},iG=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(j9(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},lG=document.compatMode!=="CSS1Compat",Gb={...HP,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"9.1",releaseDate:"2025-05-29",i18n:Di,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=bl.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,n=i.suffix;else{const c=document.getElementsByTagName("script");for(let u=0;u<c.length;u++){const g=c[u].src||"";if(g==="")continue;const v=g.substring(g.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(g)){v.indexOf(".min")!==-1&&(n=".min"),t=g.substring(0,g.lastIndexOf("/"));break}}if(!t&&document.currentScript){const u=document.currentScript.src;u.indexOf(".min")!==-1&&(n=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new bl(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new bl(e.baseURL),e.suffix=n,hR(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&Un(s,(i,c)=>{Oi.PluginManager.urls[c]=i})},init(e){const t=this;let n;const s=Dt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=(O,M)=>O.inline&&M.tagName.toLowerCase()in s,c=O=>{let M=O.id;return M||(M=_n(O,"name").filter(P=>!n_.get(P)).getOrThunk(n_.uniqueId),O.setAttribute("id",M)),M},u=O=>{const M=e[O];if(M)return M.apply(t,[])},g=O=>Vo.browser.isIE()||Vo.browser.isEdge()?(gC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):lG?(gC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):We(O.selector)?n_.select(O.selector):Qe(O.target)?[O.target]:[];let v=O=>{n=O};const S=()=>{let O=0;const M=[];let P;const j=(J,G,se)=>{const ge=new T7(J,G,t);M.push(ge),ge.on("init",()=>{++O===P.length&&v(M)}),ge.targetElm=ge.targetElm||se,ge.render()};n_.unbind(window,"ready",S),u("onpageload"),P=Vt(g(e)),Dt.each(P,J=>{iG(t.get(J.id))}),P=Dt.grep(P,J=>!t.get(J.id)),P.length===0?v([]):D7(P,J=>{i(e,J)?gC("Could not initialize inline editor on invalid inline target element",J):j(c(J),e,J)})};return n_.bind(window,"ready",S),new Promise(O=>{n?O(n):v=M=>{O(M)}})},get(e){return arguments.length===0?xd.slice(0):We(e)?js(xd,t=>t.id===e).getOr(null):A(e)&&xd[e]?xd[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&xd.push(e),Z9(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),O7||(O7=s=>{const i=t.dispatch("BeforeUnload");if(i.returnValue)return s.preventDefault(),s.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",O7))),e},createEditor(e,t){return this.add(new T7(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=xd.length-1;s>=0;s--)t.remove(xd[s]);return}if(We(e)){D7(n_.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,yn(t.get(n.id))?null:(j9(n)&&t.dispatch("RemoveEditor",{editor:n}),xd.length===0&&window.removeEventListener("beforeunload",O7),n.remove(),Z9(xd.length>0),n)},execCommand(e,t,n){var s;const i=this,c=ne(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!i.get(c)){const u=n.options;new T7(c,u,i).render()}return!0}case"mceRemoveEditor":{const u=i.get(c);return u&&u.remove(),!0}case"mceToggleEditor":{const u=i.get(c);return u?(u.isHidden()?u.show():u.hide(),!0):(i.execCommand("mceAddEditor",!1,n),!0)}}return i.activeEditor?i.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{D7(xd,e=>{e.save()})},addI18n:(e,t)=>{Di.add(e,t)},translate:e=>Di.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new bl(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new bl(this.baseURL)}};Gb.setup();const cG=(()=>{const e=nl(),t=c=>({items:c,types:Pr(c),getType:u=>_n(c,u).getOrUndefined()}),n=c=>{e.set(c)},s=()=>e.get().getOrUndefined(),i=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:i}})(),W9=Math.min,s_=Math.max,R7=Math.round,q9=(e,t,n)=>{let s=t.x,i=t.y;const c=e.w,u=e.h,g=t.w,v=t.h,S=(n||"").split("");return S[0]==="b"&&(i+=v),S[1]==="r"&&(s+=g),S[0]==="c"&&(i+=R7(v/2)),S[1]==="c"&&(s+=R7(g/2)),S[3]==="b"&&(i-=u),S[4]==="r"&&(s-=c),S[3]==="c"&&(i-=R7(u/2)),S[4]==="c"&&(s-=R7(c/2)),r_(s,i,c,u)},dG=(e,t,n,s)=>{for(let i=0;i<s.length;i++){const c=q9(e,t,s[i]);if(c.x>=n.x&&c.x+c.w<=n.w+n.x&&c.y>=n.y&&c.y+c.h<=n.h+n.y)return s[i]}return null},uG=(e,t,n)=>r_(e.x-t,e.y-n,e.w+t*2,e.h+n*2),mG=(e,t)=>{const n=s_(e.x,t.x),s=s_(e.y,t.y),i=W9(e.x+e.w,t.x+t.w),c=W9(e.y+e.h,t.y+t.h);return i-n<0||c-s<0?null:r_(n,s,i-n,c-s)},fG=(e,t,n)=>{let s=e.x,i=e.y,c=e.x+e.w,u=e.y+e.h;const g=t.x+t.w,v=t.y+t.h,S=s_(0,t.x-s),O=s_(0,t.y-i),M=s_(0,c-g),P=s_(0,u-v);return s+=S,i+=O,n&&(c+=S,u+=O,s-=M,i-=P),c-=M,u-=P,r_(s,i,c-s,u-i)},r_=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),pG={inflate:uG,relativePosition:q9,findBestRelativePosition:dG,intersect:mG,clamp:fG,create:r_,fromClientRect:e=>r_(e.left,e.top,e.width,e.height)},gG=(e,t,n=1e3)=>{let s=!1,i=null;const c=S=>(...O)=>{s||(s=!0,i!==null&&(window.clearTimeout(i),i=null),S.apply(null,O))},u=c(e),g=c(t);return{start:(...S)=>{!s&&i===null&&(i=window.setTimeout(()=>g.apply(null,S),n))},resolve:u,reject:g}},hG=(()=>{const e={},t={},n={};return{load:(v,S)=>{const O=`Script at URL "${S}" failed to load`,M=`Script at URL "${S}" did not call \`tinymce.Resource.add('${v}', data)\` within 1 second`;if(e[v]!==void 0)return e[v];{const P=new Promise((j,J)=>{const G=gG(j,J);t[v]=G.resolve,Hd.ScriptLoader.loadScript(S).then(()=>G.start(M),()=>G.reject(O))});return e[v]=P,P}},add:(v,S)=>{t[v]!==void 0&&(t[v](S),delete t[v]),e[v]=Promise.resolve(S),n[v]=S},has:v=>v in n,get:v=>n[v],unload:v=>{delete e[v],delete n[v]}}})(),bG=()=>(()=>{let e={},t=[];const n={getItem:s=>{const i=e[s];return i||null},setItem:(s,i)=>{t.push(s),e[s]=String(i)},key:s=>t[s],removeItem:s=>{t=t.filter(i=>i===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let vE;try{const e="__storage_test__";vE=window.localStorage,vE.setItem(e,e),vE.removeItem(e)}catch{vE=bG()}var xG=vE;const vG={geom:{Rect:pG},util:{Delay:Oo,Tools:Dt,VK:qt,URI:bl,EventDispatcher:zP,Observable:HP,I18n:Di,LocalStorage:xG,ImageUploader:IO},dom:{EventUtils:Ll,TreeWalker:Ys,TextSeeker:xf,DOMUtils:Ds,ScriptLoader:Hd,RangeUtils:Fp,Serializer:$3,StyleSheetLoader:ml,ControlSelection:Zy,BookmarkManager:iv,Selection:H3,Event:Ll.Event},html:{Styles:Xo,Entities:fm,Node:Ul,Schema:gf,DomParser:q1,Writer:W5,Serializer:qg},Env:Vo,AddOnManager:Oi,Annotator:p5,Formatter:ZO,UndoManager:WO,EditorCommands:M9,WindowManager:vO,NotificationManager:K3,EditorObservable:P9,Shortcuts:V9,Editor:T7,FocusManager:Ip,EditorManager:Gb,DOM:Ds.DOM,ScriptLoader:Hd.ScriptLoader,PluginManager:Y1,ThemeManager:fh,ModelManager:Db,IconManager:mh,Resource:hG,FakeClipboard:cG,trim:Dt.trim,isArray:Dt.isArray,is:Dt.is,toArray:Dt.toArray,makeMap:Dt.makeMap,each:Dt.each,map:Dt.map,grep:Dt.grep,inArray:Dt.inArray,extend:Dt.extend,walk:Dt.walk,resolve:Dt.resolve,explode:Dt.explode,_addCacheSuffix:Dt._addCacheSuffix},G9=Dt.extend(Gb,vG),yG=e=>{try{re.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(G9),yG(G9)})()}(KP)),KP.exports}xY();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const re=Object.getPrototypeOf,ye=(o,r,a)=>{var l;return!!a(o,r.prototype)||((l=o.constructor)===null||l===void 0?void 0:l.name)===r.name},Be=o=>r=>(a=>{const l=typeof a;return a===null?"null":l==="object"&&Array.isArray(a)?"array":l==="object"&&ye(a,String,(d,m)=>m.isPrototypeOf(d))?"string":l})(r)===o,Ie=o=>r=>typeof r===o,Ye=o=>r=>o===r,Me=Be("string"),Se=Be("object"),Ve=o=>((r,a)=>Se(r)&&ye(r,a,(l,d)=>re(l)===d))(o,Object),Ue=Be("array"),ot=Ye(null),St=Ie("boolean"),$t=Ye(void 0),xt=o=>o==null,Ne=o=>!xt(o),yt=Ie("function"),kt=Ie("number"),ut=(o,r)=>{if(Ue(o)){for(let a=0,l=o.length;a<l;++a)if(!r(o[a]))return!1;return!0}return!1},xe=()=>{},He=o=>()=>o(),We=(o,r)=>(...a)=>o(r.apply(null,a)),ne=o=>()=>o,Ct=o=>o,pe=(o,r)=>o===r;function yn(o,...r){return(...a)=>{const l=r.concat(a);return o.apply(null,l)}}const bs=o=>r=>!o(r),wn=o=>()=>{throw new Error(o)},tn=o=>o(),Qe=ne(!1),Jt=ne(!0);class A{constructor(r,a){this.tag=r,this.value=a}static some(r){return new A(!0,r)}static none(){return A.singletonNone}fold(r,a){return this.tag?a(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?A.some(r(this.value)):A.none()}bind(r){return this.tag?r(this.value):A.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:A.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return Ne(r)?A.some(r):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const Bo=Array.prototype.slice,To=Array.prototype.indexOf,$n=Array.prototype.push,ta=(o,r)=>To.call(o,r),Et=(o,r)=>ta(o,r)>-1,Tn=(o,r)=>{for(let a=0,l=o.length;a<l;a++)if(r(o[a],a))return!0;return!1},Ci=(o,r)=>{const a=[];for(let l=0;l<o;l++)a.push(r(l));return a},Ze=(o,r)=>{const a=[];for(let l=0;l<o.length;l+=r){const d=Bo.call(o,l,l+r);a.push(d)}return a},Ee=(o,r)=>{const a=o.length,l=new Array(a);for(let d=0;d<a;d++){const m=o[d];l[d]=r(m,d)}return l},gt=(o,r)=>{for(let a=0,l=o.length;a<l;a++)r(o[a],a)},dn=(o,r)=>{const a=[],l=[];for(let d=0,m=o.length;d<m;d++){const p=o[d];(r(p,d)?a:l).push(p)}return{pass:a,fail:l}},Do=(o,r)=>{const a=[];for(let l=0,d=o.length;l<d;l++){const m=o[l];r(m,l)&&a.push(m)}return a},So=(o,r,a)=>(((l,d)=>{for(let m=l.length-1;m>=0;m--)d(l[m],m)})(o,(l,d)=>{a=r(a,l,d)}),a),qo=(o,r,a)=>(gt(o,(l,d)=>{a=r(a,l,d)}),a),z=(o,r)=>((a,l,d)=>{for(let m=0,p=a.length;m<p;m++){const b=a[m];if(l(b,m))return A.some(b);if(d(b,m))break}return A.none()})(o,r,Qe),dr=(o,r)=>{for(let a=0,l=o.length;a<l;a++)if(r(o[a],a))return A.some(a);return A.none()},Is=o=>{const r=[];for(let a=0,l=o.length;a<l;++a){if(!Ue(o[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+o);$n.apply(r,o[a])}return r},Uo=(o,r)=>Is(Ee(o,r)),_i=(o,r)=>{for(let a=0,l=o.length;a<l;++a)if(r(o[a],a)!==!0)return!1;return!0},oa=o=>{const r=Bo.call(o,0);return r.reverse(),r},on=(o,r)=>Do(o,a=>!Et(r,a)),Kn=(o,r)=>{const a={};for(let l=0,d=o.length;l<d;l++){const m=o[l];a[String(m)]=r(m,l)}return a},Yo=o=>[o],st=(o,r)=>{const a=Bo.call(o,0);return a.sort(r),a},Wl=(o,r)=>r>=0&&r<o.length?A.some(o[r]):A.none(),br=o=>Wl(o,0),Co=o=>Wl(o,o.length-1),yc=yt(Array.from)?Array.from:o=>Bo.call(o),ws=(o,r)=>{for(let a=0;a<o.length;a++){const l=r(o[a],a);if(l.isSome())return l}return A.none()},Zs=Object.keys,js=Object.hasOwnProperty,ur=(o,r)=>{const a=Zs(o);for(let l=0,d=a.length;l<d;l++){const m=a[l];r(o[m],m)}},Ss=(o,r)=>na(o,(a,l)=>({k:l,v:r(a,l)})),na=(o,r)=>{const a={};return ur(o,(l,d)=>{const m=r(l,d);a[m.k]=m.v}),a},hn=o=>(r,a)=>{o[a]=r},tl=(o,r,a,l)=>{ur(o,(d,m)=>{(r(d,m)?a:l)(d,m)})},ol=(o,r)=>{const a={};return tl(o,r,hn(a),xe),a},Ya=(o,r)=>{const a=[];return ur(o,(l,d)=>{a.push(r(l,d))}),a},ki=(o,r)=>{const a=Zs(o);for(let l=0,d=a.length;l<d;l++){const m=a[l],p=o[m];if(r(p,m,o))return A.some(p)}return A.none()},nr=o=>Ya(o,Ct),Kt=(o,r)=>jo(o,r)?A.from(o[r]):A.none(),jo=(o,r)=>js.call(o,r),xs=(o,r)=>jo(o,r)&&o[r]!==void 0&&o[r]!==null,Ir=o=>{if(!Ue(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const r=[],a={};return gt(o,(l,d)=>{const m=Zs(l);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],b=l[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ue(b))throw new Error("case arguments must be an array");r.push(p),a[p]=(...x)=>{const w=x.length;if(w!==b.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+b.length+" ("+b+"), got "+w);return{fold:(...E)=>{if(E.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+E.length);return E[d].apply(null,x)},match:E=>{const C=Zs(E);if(r.length!==C.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+C.join(","));if(!_i(r,T=>Et(C,T)))throw new Error("Not all branches were specified when using match. Specified: "+C.join(", ")+`
Required: `+r.join(", "));return E[p].apply(null,x)},log:E=>{console.log(E,{constructors:r,constructor:p,params:x})}}}}),a},Vt=o=>{let r=o;return{get:()=>r,set:a=>{r=a}}},Pr=o=>{let r=A.none(),a=[];const l=p=>{d()?m(p):a.push(p)},d=()=>r.isSome(),m=p=>{r.each(b=>{setTimeout(()=>{p(b)},0)})};return o(p=>{d()||(r=A.some(p),gt(a,m),a=[])}),{get:l,map:p=>Pr(b=>{l(x=>{b(p(x))})}),isReady:d}},tu={nu:Pr,pure:o=>Pr(r=>{r(o)})},Un=o=>{setTimeout(()=>{throw o},0)},jn=o=>{const r=a=>{o().then(a,Un)};return{map:a=>jn(()=>o().then(a)),bind:a=>jn(()=>o().then(l=>a(l).toPromise())),anonBind:a=>jn(()=>o().then(()=>a.toPromise())),toLazy:()=>tu.nu(r),toCached:()=>{let a=null;return jn(()=>(a===null&&(a=o()),a))},toPromise:o,get:r}},sa=o=>jn(()=>new Promise(o)),Tr=o=>jn(()=>Promise.resolve(o)),ou=o=>{const r=m=>m(o),a=ne(o),l=()=>d,d={tag:!0,inner:o,fold:(m,p)=>p(o),isValue:Jt,isError:Qe,map:m=>Fo.value(m(o)),mapError:l,bind:r,exists:r,forall:r,getOr:a,or:l,getOrThunk:a,orThunk:l,getOrDie:a,each:m=>{m(o)},toOptional:()=>A.some(o)};return d},Zc=o=>{const r=()=>a,a={tag:!1,inner:o,fold:(l,d)=>l(o),isValue:Qe,isError:Jt,map:r,mapError:l=>Fo.error(l(o)),bind:r,exists:Qe,forall:Jt,getOr:Ct,or:Ct,getOrThunk:tn,orThunk:tn,getOrDie:wn(String(o)),each:xe,toOptional:A.none};return a},Fo={value:ou,error:Zc,fromOption:(o,r)=>o.fold(()=>Zc(r),ou)},mr=o=>({...o,toCached:()=>mr(o.toCached()),bindFuture:r=>mr(o.bind(a=>a.fold(l=>Tr(Fo.error(l)),l=>r(l)))),bindResult:r=>mr(o.map(a=>a.bind(r))),mapResult:r=>mr(o.map(a=>a.map(r))),mapError:r=>mr(o.map(a=>a.mapError(r))),foldResult:(r,a)=>o.map(l=>l.fold(r,a)),withTimeout:(r,a)=>mr(sa(l=>{let d=!1;const m=setTimeout(()=>{d=!0,l(Fo.error(a()))},r);o.get(p=>{d||(clearTimeout(m),l(p))})}))}),pa=o=>mr(sa(o)),_n=typeof window<"u"?window:Function("return this;")(),Qt=(o,r,a,l)=>{const d=o+r;return d>l?a:d<a?l:d},Lr=(o,r,a)=>Math.min(Math.max(o,r),a);let wc=0;const Oe=o=>{const r=new Date().getTime(),a=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return wc++,o+"_"+a+wc+String(r)},ka=o=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const a={};for(let l=0;l<r.length;l++){const d=r[l];for(const m in d)jo(d,m)&&(a[m]=o(a[m],d[m]))}return a},Wo=ka((o,r)=>Ve(o)&&Ve(r)?Wo(o,r):r),nu=ka((o,r)=>r),Sa=(o,r,a=pe)=>o.exists(l=>a(l,r)),ql=o=>{const r=[],a=l=>{r.push(l)};for(let l=0;l<o.length;l++)o[l].each(a);return r},xr=(o,r,a)=>o.isSome()&&r.isSome()?A.some(a(o.getOrDie(),r.getOrDie())):A.none(),Cc=(o,r)=>o!=null?A.some(r(o)):A.none(),ci=(o,r)=>o?A.some(r):A.none(),yd=(o,r)=>((a,l)=>{let d=l??_n;for(let m=0;m<a.length&&d!=null;++m)d=d[a[m]];return d})(o.split("."),r);Ir([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ps=o=>{const r=Vt(A.none()),a=()=>r.get().each(o);return{clear:()=>{a(),r.set(A.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:l=>{a(),r.set(A.some(l))}}},Cs=()=>Ps(o=>o.unbind()),Bn=()=>{const o=Ps(xe);return{...o,on:r=>o.get().each(r)}},Mi=(o,r,a)=>r===""||o.length>=r.length&&o.substr(a,a+r.length)===r,Yn=(o,r)=>_c(o,r)?((a,l)=>a.substring(l))(o,r.length):o,Es=(o,r,a=0,l)=>{const d=o.indexOf(r,a);return d!==-1&&(!!$t(l)||d+r.length<=l)},_c=(o,r)=>Mi(o,r,0),Si=(o,r)=>Mi(o,r,o.length-r.length),Gl=(Yu=/^\s+|\s+$/g,o=>o.replace(Yu,"")),Kl=o=>o.length>0,sr=o=>!Kl(o),su=(o,r)=>{let a=null;const l=()=>{ot(a)||(clearTimeout(a),a=null)};return{cancel:l,throttle:(...d)=>{l(),a=setTimeout(()=>{a=null,o.apply(null,d)},r)}}},rr=o=>{let r,a=!1;return(...l)=>(a||(a=!0,r=o.apply(null,l)),r)},ru=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},Um=(o,r)=>{const a=document.createElement("div");if(a.innerHTML=o,!a.hasChildNodes()||a.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,o),new Error(l)}return ru(a.childNodes[0])},Yl=(o,r)=>{const a=document.createElement(o);return ru(a)},Ku=(o,r)=>{const a=document.createTextNode(o);return ru(a)},Ft=ru,nl=(o,r,a)=>{const l=o.document.createRange();var d;return d=l,r.fold(m=>{d.setStartBefore(m.dom)},(m,p)=>{d.setStart(m.dom,p)},m=>{d.setStartAfter(m.dom)}),((m,p)=>{p.fold(b=>{m.setEndBefore(b.dom)},(b,x)=>{m.setEnd(b.dom,x)},b=>{m.setEndAfter(b.dom)})})(l,a),l},au=(o,r,a,l,d)=>{const m=o.document.createRange();return m.setStart(r.dom,a),m.setEnd(l.dom,d),m},wd=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),Xl=Ir([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Dr=(o,r,a)=>r(Ft(a.startContainer),a.startOffset,Ft(a.endContainer),a.endOffset),ar=(o,r)=>((a,l)=>{const d=((m,p)=>p.match({domRange:b=>({ltr:ne(b),rtl:A.none}),relative:(b,x)=>({ltr:rr(()=>nl(m,b,x)),rtl:rr(()=>A.some(nl(m,x,b)))}),exact:(b,x,w,E)=>({ltr:rr(()=>au(m,b,x,w,E)),rtl:rr(()=>A.some(au(m,w,E,b,x)))})}))(a,l);return((m,p)=>{const b=p.ltr();return b.collapsed?p.rtl().filter(x=>x.collapsed===!1).map(x=>Xl.rtl(Ft(x.endContainer),x.endOffset,Ft(x.startContainer),x.startOffset)).getOrThunk(()=>Dr(0,Xl.ltr,b)):Dr(0,Xl.ltr,b)})(0,d)})(o,r).match({ltr:(a,l,d,m)=>{const p=o.document.createRange();return p.setStart(a.dom,l),p.setEnd(d.dom,m),p},rtl:(a,l,d,m)=>{const p=o.document.createRange();return p.setStart(d.dom,m),p.setEnd(a.dom,l),p}});var Yu;Xl.ltr,Xl.rtl;const Pa=(o,r)=>{const a=o.dom;if(a.nodeType!==1)return!1;{const l=a;if(l.matches!==void 0)return l.matches(r);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(r);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(r);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},jc=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,jf=(o,r)=>{const a=r===void 0?document:r.dom;return jc(a)?A.none():A.from(a.querySelector(o)).map(Ft)},In=(o,r)=>o.dom===r.dom,La=(o,r)=>{const a=o.dom,l=r.dom;return a!==l&&a.contains(l)},Wc=()=>Ql(0,0),Ql=(o,r)=>({major:o,minor:r}),Cl={nu:Ql,detect:(o,r)=>{const a=String(r).toLowerCase();return o.length===0?Wc():((l,d)=>{const m=((b,x)=>{for(let w=0;w<b.length;w++){const E=b[w];if(E.test(x))return E}})(l,d);if(!m)return{major:0,minor:0};const p=b=>Number(d.replace(m,"$"+b));return Ql(p(1),p(2))})(o,a)},unknown:Wc},Xa=(o,r)=>{const a=String(r).toLowerCase();return z(o,l=>l.search(a))},qc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ir=o=>r=>Es(r,o),Ea=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>Es(o,"edge/")&&Es(o,"chrome")&&Es(o,"safari")&&Es(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,qc],search:o=>Es(o,"chrome")&&!Es(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>Es(o,"msie")||Es(o,"trident")},{name:"Opera",versionRegexes:[qc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ir("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ir("firefox")},{name:"Safari",versionRegexes:[qc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(Es(o,"safari")||Es(o,"mobile/"))&&Es(o,"applewebkit")}],Ls=[{name:"Windows",search:ir("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>Es(o,"iphone")||Es(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ir("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ir("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ir("linux"),versionRegexes:[]},{name:"Solaris",search:ir("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ir("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ir("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ga={browsers:ne(Ea),oses:ne(Ls)},Fs="Edge",Gc="Chromium",Jl="Opera",Cd="Firefox",iu="Safari",vr=o=>{const r=o.current,a=o.version,l=d=>()=>r===d;return{current:r,version:a,isEdge:l(Fs),isChromium:l(Gc),isIE:l("IE"),isOpera:l(Jl),isFirefox:l(Cd),isSafari:l(iu)}},_l=()=>vr({current:void 0,version:Cl.unknown()}),ec=vr,_d="Windows",Fr="Android",kd="Linux",ra="macOS",tc="Solaris",lu="FreeBSD",Zm="ChromeOS",Xu=o=>{const r=o.current,a=o.version,l=d=>()=>r===d;return{current:r,version:a,isWindows:l(_d),isiOS:l("iOS"),isAndroid:l(Fr),isMacOS:l(ra),isLinux:l(kd),isSolaris:l(tc),isFreeBSD:l(lu),isChromeOS:l(Zm)}},Kc=()=>Xu({current:void 0,version:Cl.unknown()}),Fa=Xu,Z=o=>window.matchMedia(o).matches;let ae=rr(()=>((o,r,a)=>{const l=ga.browsers(),d=ga.oses(),m=r.bind(x=>((w,E)=>ws(E.brands,C=>{const T=C.brand.toLowerCase();return z(w,B=>{var L;return T===((L=B.brand)===null||L===void 0?void 0:L.toLowerCase())}).map(B=>({current:B.name,version:Cl.nu(parseInt(C.version,10),0)}))}))(l,x)).orThunk(()=>((x,w)=>Xa(x,w).map(E=>{const C=Cl.detect(E.versionRegexes,w);return{current:E.name,version:C}}))(l,o)).fold(_l,ec),p=((x,w)=>Xa(x,w).map(E=>{const C=Cl.detect(E.versionRegexes,w);return{current:E.name,version:C}}))(d,o).fold(Kc,Fa),b=((x,w,E,C)=>{const T=x.isiOS()&&/ipad/i.test(E)===!0,B=x.isiOS()&&!T,L=x.isiOS()||x.isAndroid(),Y=L||C("(pointer:coarse)"),W=T||!B&&L&&C("(min-device-width:768px)"),X=B||L&&!W,$=w.isSafari()&&x.isiOS()&&/safari/i.test(E)===!1,U=!X&&!W&&!$;return{isiPad:ne(T),isiPhone:ne(B),isTablet:ne(W),isPhone:ne(X),isTouch:ne(Y),isAndroid:x.isAndroid,isiOS:x.isiOS,isWebView:ne($),isDesktop:ne(U)}})(p,m,o,a);return{browser:m,os:p,deviceType:b}})(window.navigator.userAgent,A.from(window.navigator.userAgentData),Z));const Ce=()=>ae(),at=Object.getPrototypeOf,Nt=o=>{const r=yd("ownerDocument.defaultView",o);return Se(o)&&((a=>((l,d)=>{const m=((p,b)=>yd(p,b))(l,d);if(m==null)throw new Error(l+" not available on this browser");return m})("HTMLElement",a))(r).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(at(o).constructor.name))},Ut=o=>o.dom.nodeName.toLowerCase(),zo=o=>r=>(a=>a.dom.nodeType)(r)===o,cs=o=>Ho(o)&&Nt(o.dom),Ho=zo(1),I=zo(3),K=zo(9),me=zo(11),Ae=o=>r=>Ho(r)&&Ut(r)===o,jt=o=>Ft(o.dom.ownerDocument),ln=o=>K(o)?o:jt(o),Xn=o=>Ft(ln(o).dom.documentElement),zr=o=>Ft(ln(o).dom.defaultView),Pn=o=>A.from(o.dom.parentNode).map(Ft),aa=o=>A.from(o.dom.parentElement).map(Ft),ia=o=>A.from(o.dom.offsetParent).map(Ft),Or=o=>Ee(o.dom.childNodes,Ft),ds=(o,r)=>{const a=o.dom.childNodes;return A.from(a[r]).map(Ft)},jm=o=>ds(o,0),Qu=(o,r)=>({element:o,offset:r}),Qa=(o,r)=>{const a=Or(o);return a.length>0&&r<a.length?Qu(a[r],0):Qu(o,r)},kl=o=>me(o)&&Ne(o.dom.host),Aa=o=>Ft(o.dom.getRootNode()),Sd=o=>kl(o)?o:Ft(ln(o).dom.body),Sl=o=>{const r=Aa(o);return kl(r)?A.some(r):A.none()},Wf=o=>Ft(o.dom.host),Ju=o=>{const r=Ft((m=>{if(Ne(m.target)){const p=Ft(m.target);if(Ho(p)&&(b=>Ne(b.dom.shadowRoot))(p)&&m.composed&&m.composedPath){const b=m.composedPath();if(b)return br(b)}}return A.from(m.target)})(o).getOr(o.target)),a=()=>o.stopPropagation(),l=()=>o.preventDefault(),d=We(l,a);return((m,p,b,x,w,E,C)=>({target:m,x:p,y:b,stop:x,prevent:w,kill:E,raw:C}))(r,o.clientX,o.clientY,a,l,d,o)},Yc=(o,r,a,l,d)=>{const m=((p,b)=>x=>{p(x)&&b(Ju(x))})(a,l);return o.dom.addEventListener(r,m,d),{unbind:yn(em,o,r,m,d)}},em=(o,r,a,l)=>{o.dom.removeEventListener(r,a,l)},ha=Jt,Jn=(o,r,a)=>((l,d,m,p)=>Yc(l,d,m,p,!1))(o,r,ha,a),El=(o,r,a)=>((l,d,m,p)=>Yc(l,d,m,p,!0))(o,r,ha,a),Sh=Ju,Wm=()=>Ft(document),Ws=(o,r=!1)=>o.dom.focus({preventScroll:r}),kc=o=>o.dom.blur(),oc=o=>{const r=Aa(o).dom;return o.dom===r.activeElement},Al=(o=Wm())=>A.from(o.dom.activeElement).map(Ft),As=o=>Al(Aa(o)).filter(r=>o.dom.contains(r.dom)),Bi=(o,r)=>{Pn(o).each(a=>{a.dom.insertBefore(r.dom,o.dom)})},cu=(o,r)=>{(l=>A.from(l.dom.nextSibling).map(Ft))(o).fold(()=>{Pn(o).each(l=>{Vo(l,r)})},l=>{Bi(l,r)})},Ed=(o,r)=>{jm(o).fold(()=>{Vo(o,r)},a=>{o.dom.insertBefore(r.dom,a.dom)})},Vo=(o,r)=>{o.dom.appendChild(r.dom)},ig=(o,r)=>{gt(r,a=>{Vo(o,a)})},lg=(o,r,a)=>{if(!(Me(a)||St(a)||kt(a)))throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",a,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(r,a+"")},bo=(o,r,a)=>{lg(o.dom,r,a)},qf=(o,r)=>{const a=o.dom;ur(r,(l,d)=>{lg(a,d,l)})},yr=(o,r)=>{const a=o.dom.getAttribute(r);return a===null?void 0:a},Ta=(o,r)=>A.from(yr(o,r)),Gf=(o,r)=>{const a=o.dom;return!(!a||!a.hasAttribute)&&a.hasAttribute(r)},qs=(o,r)=>{o.dom.removeAttribute(r)},cg=o=>{o.dom.textContent="",gt(Or(o),r=>{Ad(r)})},Ad=o=>{const r=o.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Dt=(o,r)=>Ft(o.dom.cloneNode(r)),Eh=o=>o.dom.innerHTML,tm=(o,r)=>{const a=jt(o).dom,l=Ft(a.createDocumentFragment()),d=((m,p)=>{const b=(p||document).createElement("div");return b.innerHTML=m,Or(Ft(b))})(r,a);ig(l,d),cg(o),Vo(o,l)},qm=o=>new Promise((r,a)=>{const l=()=>{m(),r(o)},d=[Jn(o,"load",l),Jn(o,"error",()=>{m(),a("Unable to load data from image: "+o.dom.src)})],m=()=>gt(d,p=>p.unbind());o.dom.complete&&l()}),Sc=o=>o.style!==void 0&&yt(o.style.getPropertyValue),za=o=>{const r=I(o)?o.dom.parentNode:o.dom;if(r==null||r.ownerDocument===null)return!1;const a=r.ownerDocument;return Sl(Ft(r)).fold(()=>a.body.contains(r),(l=za,d=Wf,m=>l(d(m))));var l,d},ue=()=>Kf(Ft(document)),Kf=o=>{const r=o.dom.body;if(r==null)throw new Error("Body is not available yet");return Ft(r)},Nr=(o,r,a)=>{if(!Me(a))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",a,":: Element ",o),new Error("CSS value must be a string: "+a);Sc(o)&&o.style.setProperty(r,a)},dg=(o,r)=>{Sc(o)&&o.style.removeProperty(r)},Eo=(o,r,a)=>{const l=o.dom;Nr(l,r,a)},Ei=(o,r)=>{const a=o.dom;ur(r,(l,d)=>{Nr(a,d,l)})},Td=(o,r)=>{const a=o.dom;ur(r,(l,d)=>{l.fold(()=>{dg(a,d)},m=>{Nr(a,d,m)})})},Ha=(o,r)=>{const a=o.dom,l=window.getComputedStyle(a).getPropertyValue(r);return l!==""||za(o)?l:Gm(a,r)},Gm=(o,r)=>Sc(o)?o.style.getPropertyValue(r):"",ba=(o,r)=>{const a=o.dom,l=Gm(a,r);return A.from(l).filter(d=>d.length>0)},Km=o=>{const r={},a=o.dom;if(Sc(a))for(let l=0;l<a.style.length;l++){const d=a.style.item(l);r[d]=a.style[d]}return r},Dd=(o,r,a)=>{const l=Yl(o);return Eo(l,r,a),ba(l,r).isSome()},un=(o,r)=>{const a=o.dom;dg(a,r),Sa(Ta(o,"style").map(Gl),"")&&qs(o,"style")},Va=o=>o.dom.offsetWidth,sl=(o,r)=>{const a=d=>{const m=r(d);if(m<=0||m===null){const p=Ha(d,o);return parseFloat(p)||0}return m},l=(d,m)=>qo(m,(p,b)=>{const x=Ha(d,b),w=x===void 0?0:parseInt(x,10);return isNaN(w)?p:p+w},0);return{set:(d,m)=>{if(!kt(m)&&!m.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+m);const p=d.dom;Sc(p)&&(p.style[o]=m+"px")},get:a,getOuter:a,aggregate:l,max:(d,m,p)=>{const b=l(d,p);return m>b?m-b:0}}},Tl=sl("height",o=>{const r=o.dom;return za(o)?r.getBoundingClientRect().height:r.offsetHeight}),Gs=o=>Tl.get(o),rl=o=>Tl.getOuter(o),du=o=>!(r=>r.offsetWidth<=0&&r.offsetHeight<=0)(o.dom),bn=sl("width",o=>o.dom.offsetWidth),Ii=sl("width",o=>{const r=o.dom;return za(o)?r.getBoundingClientRect().width:r.offsetWidth}),$a=o=>bn.get(o),No=o=>bn.getOuter(o),Xc=o=>Ii.getOuter(o),Qc=(o,r)=>({left:o,top:r,translate:(a,l)=>Qc(o+a,r+l)}),us=Qc,Dl=(o,r)=>o!==void 0?o:r!==void 0?r:0,fr=o=>{const r=o.dom.ownerDocument,a=r.body,l=r.defaultView,d=r.documentElement;if(a===o.dom)return us(a.offsetLeft,a.offsetTop);const m=Dl(l==null?void 0:l.pageYOffset,d.scrollTop),p=Dl(l==null?void 0:l.pageXOffset,d.scrollLeft),b=Dl(d.clientTop,a.clientTop),x=Dl(d.clientLeft,a.clientLeft);return xa(o).translate(p-x,m-b)},xa=o=>{const r=o.dom,a=r.ownerDocument.body;return a===r?us(a.offsetLeft,a.offsetTop):za(o)?(l=>{const d=l.getBoundingClientRect();return us(d.left,d.top)})(r):us(0,0)},Pi=o=>{const r=o!==void 0?o.dom:document,a=r.body.scrollLeft||r.documentElement.scrollLeft,l=r.body.scrollTop||r.documentElement.scrollTop;return us(a,l)},Ym=(o,r,a)=>{const l=(a!==void 0?a.dom:document).defaultView;l&&l.scrollTo(o,r)},Xm=(o=>{const r=a=>o(a)?A.from(a.dom.nodeValue):A.none();return{get:a=>{if(!o(a))throw new Error("Can only get text value of a text node");return r(a).getOr("")},getOption:r,set:(a,l)=>{if(!o(a))throw new Error("Can only set raw text value of a text node");a.dom.nodeValue=l}}})(I),Yf=(o,r)=>a=>uu(a)==="rtl"?r:o,uu=o=>Ha(o,"direction")==="rtl"?"rtl":"ltr",Xf=(o,r)=>{const a=yr(o,r);return a===void 0||a===""?[]:a.split(" ")};var Od=(o,r,a,l,d)=>o(a,l)?A.some(a):yt(d)&&d(a)?A.none():r(a,l,d);const Ec=(o,r,a)=>{let l=o.dom;const d=yt(a)?a:Qe;for(;l.parentNode;){l=l.parentNode;const m=Ft(l);if(r(m))return A.some(m);if(d(m))break}return A.none()},Qm=(o,r,a)=>Od((l,d)=>d(l),Ec,o,r,a),Ah=(o,r)=>z(o.dom.childNodes,a=>r(Ft(a))).map(Ft),Li=(o,r,a)=>Ec(o,l=>Pa(l,r),a),Nd=(o,r)=>(a=>{const l=a.dom;return l.parentNode?Ah(Ft(l.parentNode),d=>!In(a,d)&&Pa(d,r)):A.none()})(o),Jc=(o,r)=>Ah(o,a=>Pa(a,r)),Nn=(o,r)=>jf(r,o),Ac=(o,r,a)=>Od((l,d)=>Pa(l,d),Li,o,r,a),Da=(o,r)=>{o.dom.checked=r},Rd=o=>o.dom.checked,di=o=>o.dom.classList!==void 0,om=o=>Xf(o,"class"),Jm=(o,r)=>((a,l,d)=>{const m=Xf(a,l).concat([d]);return bo(a,l,m.join(" ")),!0})(o,"class",r),ef=(o,r)=>((a,l,d)=>{const m=Do(Xf(a,l),p=>p!==d);return m.length>0?bo(a,l,m.join(" ")):qs(a,l),!1})(o,"class",r),ls=(o,r)=>{di(o)?o.dom.classList.add(r):Jm(o,r)},ed=o=>{(di(o)?o.dom.classList:om(o)).length===0&&qs(o,"class")},vs=(o,r)=>{di(o)?o.dom.classList.remove(r):ef(o,r),ed(o)},Ja=(o,r)=>di(o)&&o.dom.classList.contains(r),mu=(o,r)=>{gt(r,a=>{ls(o,a)})},ui=(o,r)=>{gt(r,a=>{vs(o,a)})},Qf=o=>di(o)?(r=>{const a=r.dom.classList,l=new Array(a.length);for(let d=0;d<a.length;d++){const m=a.item(d);m!==null&&(l[d]=m)}return l})(o):om(o),la=o=>o.dom.value,Md=(o,r)=>{if(r===void 0)throw new Error("Value.set was undefined");o.dom.value=r},Th=(o,r,a)=>Do(((l,d)=>{const m=yt(d)?d:Qe;let p=l.dom;const b=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const x=p.parentNode,w=Ft(x);if(b.push(w),m(w)===!0)break;p=x}return b})(o,a),r),ca=(o,r)=>((a,l)=>{const d=l===void 0?document:l.dom;return jc(d)?[]:Ee(d.querySelectorAll(a),Ft)})(r,o),Jf=(o,r,a)=>Qm(o,r,a).isSome(),ep=(o,r,a)=>Ac(o,r,a).isSome(),Dh=o=>yt(o)?o:Qe,tp=(o,r,a)=>{let l=o.dom;const d=Dh(a);for(;l.parentNode;){l=l.parentNode;const m=Ft(l),p=r(m);if(p.isSome())return p;if(d(m))break}return A.none()},nm=(o,r,a)=>{const l=r(o),d=Dh(a);return l.orThunk(()=>d(o)?A.none():tp(o,r,d))},op=(o,r,a,l)=>({start:o,soffset:r,finish:a,foffset:l}),np=Ir([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sp=(np.before,np.on,np.after,o=>o.fold(Ct,Ct,Ct)),tf=Ir([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Tc={domRange:tf.domRange,relative:tf.relative,exact:tf.exact,exactFromRange:o=>tf.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const r=(a=>a.match({domRange:l=>Ft(l.startContainer),relative:(l,d)=>sp(l),exact:(l,d,m,p)=>l}))(o);return zr(r)},range:op},ei=o=>{if(o.rangeCount>0){const r=o.getRangeAt(0),a=o.getRangeAt(o.rangeCount-1);return A.some(op(Ft(r.startContainer),r.startOffset,Ft(a.endContainer),a.endOffset))}return A.none()},td=o=>{if(o.anchorNode===null||o.focusNode===null)return ei(o);{const r=Ft(o.anchorNode),a=Ft(o.focusNode);return((l,d,m,p)=>{const b=((w,E,C,T)=>{const B=jt(w).dom.createRange();return B.setStart(w.dom,E),B.setEnd(C.dom,T),B})(l,d,m,p),x=In(l,m)&&d===p;return b.collapsed&&!x})(r,o.anchorOffset,a,o.focusOffset)?A.some(op(r,o.anchorOffset,a,o.focusOffset)):ei(o)}},sm=(o,r)=>(a=>{const l=a.getClientRects(),d=l.length>0?l[0]:a.getBoundingClientRect();return d.width>0||d.height>0?A.some(d).map(wd):A.none()})(ar(o,r)),Zn={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},rp=(()=>{const o="[0-9]+",r="[eE][+-]?"+o,a=d=>`(?:${d})?`,l=["Infinity",o+"\\."+a(o)+a(r),"\\."+o+a(r),o+a(r)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),Dc=(o,r)=>A.from(rp.exec(o)).bind(a=>{const l=Number(a[1]),d=a[2];return((m,p)=>Tn(p,b=>Tn(Zn[b],x=>m===x)))(d,r)?A.some({value:l,unit:d}):A.none()}),nc=(o,r,a,l)=>({x:o,y:r,width:a,height:l,right:o+a,bottom:r+l}),of=o=>{const r=o===void 0?window:o,a=r.document,l=Pi(Ft(a));return(d=>{const m=d===void 0?window:d;return Ce().browser.isFirefox()?A.none():A.from(m.visualViewport)})(r).fold(()=>{const d=r.document.documentElement,m=d.clientWidth,p=d.clientHeight;return nc(l.left,l.top,m,p)},d=>nc(Math.max(d.pageLeft,l.left),Math.max(d.pageTop,l.top),d.width,d.height))},Hr=(o,r)=>o.view(r).fold(ne([]),a=>{const l=o.owner(a),d=Hr(o,l);return[a].concat(d)});var sc=Object.freeze({__proto__:null,view:o=>{var r;return(o.dom===document?A.none():A.from((r=o.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(Ft)},owner:o=>jt(o)});const Oa=o=>{const r=Wm(),a=Pi(r);return((d,m)=>{const p=m.owner(d),b=Hr(m,p);return A.some(b)})(o,sc).fold(yn(fr,o),d=>{const m=xa(o),p=So(d,(b,x)=>{const w=xa(x);return{left:b.left+w.left,top:b.top+w.top}},{left:0,top:0});return us(p.left+m.left+a.left,p.top+m.top+a.top)})},zs=(o,r,a,l)=>({x:o,y:r,width:a,height:l,right:o+a,bottom:r+l}),Js=o=>{const r=fr(o),a=No(o),l=rl(o);return zs(r.left,r.top,a,l)},er=o=>{const r=Oa(o),a=No(o),l=rl(o);return zs(r.left,r.top,a,l)},ug=(o,r)=>{const a=Math.max(o.x,r.x),l=Math.max(o.y,r.y),d=Math.min(o.right,r.right),m=Math.min(o.bottom,r.bottom);return zs(a,l,d-a,m-l)},Na=()=>of(window),fu=(o,r)=>In(o.element,r.event.target),k=o=>(Sa(ba(o,"position"),"fixed")?A.none():ia(o)).orThunk(()=>{const r=Yl("span");return Pn(o).bind(a=>{Vo(a,r);const l=ia(r);return Ad(r),l})}),R=o=>k(o).map(fr).getOrThunk(()=>us(0,0));var H;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(H||(H={}));const le=(o,r,a)=>o.stype===H.Error?r(o.serror):a(o.svalue),ve=o=>({stype:H.Value,svalue:o}),ft=o=>({stype:H.Error,serror:o}),co=ve,Ro=ft,Io=le,uo=o=>Se(o)&&Zs(o).length>100?" removed due to size":JSON.stringify(o,null,2),Qn=(o,r)=>Ro([{path:o,getErrorInfo:r}]),Ks=o=>({extract:(r,a)=>((l,d)=>l.stype===H.Error?d(l.serror):l)(o(a),l=>((d,m)=>Qn(d,ne(m)))(r,l)),toString:ne("val")}),al=Ks(co),Ns=ne(al),Oh=(o,r)=>Ks(a=>{const l=typeof a;return o(a)?co(a):Ro(`Expected type: ${r} but got: ${l}`)}),s0=Oh(kt,"number"),Rr=Oh(Me,"string"),pu=Oh(St,"boolean"),rc=Oh(yt,"function"),mg=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(r=>mg(o[r]));default:return!1}},Nh=Ks(o=>mg(o)?co(o):Ro("Expected value to be acceptable for sending via postMessage")),fg=o=>({tag:"defaultedThunk",process:o}),Rh=o=>fg(ne(o)),tx=o=>({tag:"mergeWithThunk",process:o}),A2=(o,r,a,l)=>({tag:"field",key:o,newKey:r,presence:a,prop:l}),r0=(o,r,a)=>{switch(o.tag){case"field":return r(o.key,o.newKey,o.presence,o.prop);case"custom":return a(o.newKey,o.instantiator)}},ox=o=>{const r=(l=>{const d=[],m=[];return gt(l,p=>{le(p,b=>m.push(b),b=>d.push(b))}),{values:d,errors:m}})(o);return r.errors.length>0?(a=r.errors,We(Ro,Is)(a)):co(r.values);var a},Mh=(o,r,a,l)=>l(Kt(o,r).getOrThunk(()=>a(o))),pg=(o,r,a,l,d)=>{const m=b=>d.extract(r.concat([l]),b),p=b=>b.fold(()=>co(A.none()),x=>((w,E)=>w.stype===H.Value?{stype:H.Value,svalue:E(w.svalue)}:w)(d.extract(r.concat([l]),x),A.some));switch(o.tag){case"required":return((b,x,w,E)=>Kt(x,w).fold(()=>((C,T,B)=>Qn(C,()=>'Could not find valid *required* value for "'+T+'" in '+uo(B)))(b,w,x),E))(r,a,l,m);case"defaultedThunk":return Mh(a,l,o.process,m);case"option":return((b,x,w)=>w(Kt(b,x)))(a,l,p);case"defaultedOptionThunk":return((b,x,w,E)=>E(Kt(b,x).map(C=>C===!0?w(b):C)))(a,l,o.process,p);case"mergeWithThunk":return Mh(a,l,ne({}),b=>{const x=Wo(o.process(a),b);return m(x)})}},nx=o=>({extract:(r,a)=>o().extract(r,a),toString:()=>o().toString()}),rm=o=>Zs(ol(o,Ne)),ac=o=>{const r=xo(o),a=So(o,(l,d)=>r0(d,m=>Wo(l,{[m]:!0}),ne(l)),{});return{extract:(l,d)=>{const m=St(d)?[]:rm(d),p=Do(m,b=>!xs(a,b));return p.length===0?r.extract(l,d):((b,x)=>Qn(b,()=>"There are unsupported fields: ["+x.join(", ")+"] specified"))(l,p)},toString:r.toString}},xo=o=>({extract:(r,a)=>((l,d,m)=>{const p={},b=[];for(const x of m)r0(x,(w,E,C,T)=>{const B=pg(C,l,d,w,T);Io(B,L=>{b.push(...L)},L=>{p[E]=L})},(w,E)=>{p[w]=E(d)});return b.length>0?Ro(b):co(p)})(r,a,o),toString:()=>`obj{
`+Ee(o,a=>r0(a,(l,d,m,p)=>l+" -> "+p.toString(),(l,d)=>"state("+l+")")).join(`
`)+"}"}),Bd=o=>({extract:(r,a)=>{const l=Ee(a,(d,m)=>o.extract(r.concat(["["+m+"]"]),d));return ox(l)},toString:()=>"array("+o.toString()+")"}),gg=(o,r)=>{const a=r!==void 0?r:Ct;return{extract:(l,d)=>{const m=[];for(const p of o){const b=p.extract(l,d);if(b.stype===H.Value)return{stype:H.Value,svalue:a(b.svalue)};m.push(b)}return ox(m)},toString:()=>"oneOf("+Ee(o,l=>l.toString()).join(", ")+")"}},sx=(o,r)=>({extract:(a,l)=>{const d=Zs(l),m=((p,b)=>Bd(Ks(o)).extract(p,b))(a,d);return((p,b)=>p.stype===H.Value?b(p.svalue):p)(m,p=>{const b=Ee(p,x=>A2(x,x,{tag:"required",process:{}},r));return xo(b).extract(a,l)})},toString:()=>"setOf("+r.toString()+")"}),a0=We(Bd,xo),nf=(o,r)=>({extract:(a,l)=>Kt(l,o).fold(()=>((d,m)=>Qn(d,()=>'Choice schema did not contain choice key: "'+m+'"'))(a,o),d=>((m,p,b,x)=>Kt(b,x).fold(()=>((w,E,C)=>Qn(w,()=>'The chosen schema: "'+C+'" did not exist in branches: '+uo(E)))(m,b,x),w=>w.extract(m.concat(["branch: "+x]),p)))(a,l,r,d)),toString:()=>"chooseOn("+o+"). Possible values: "+Zs(r)}),ap=o=>Ks(r=>o(r).fold(Ro,co)),hg=(o,r)=>sx(a=>o(a).fold(ft,ve),r),Hs=(o,r,a)=>{return l=((d,m,p)=>((b,x)=>b.stype===H.Error?{stype:H.Error,serror:x(b.serror)}:b)(m.extract([d],p),b=>({input:p,errors:b})))(o,r,a),le(l,Fo.error,Fo.value);var l},Ol=o=>o.fold(r=>{throw new Error(sf(r))},Ct),mi=(o,r,a)=>Ol(Hs(o,r,a)),sf=o=>`Errors: 
`+(r=>{const a=r.length>10?r.slice(0,10).concat([{path:[],getErrorInfo:ne("... (only showing first ten failures)")}]):r;return Ee(a,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+uo(o.input),Fi=(o,r)=>nf(o,Ss(r,xo)),bg=(o,r)=>((a,l)=>{const d=rr(l);return{extract:(m,p)=>d().extract(m,p),toString:()=>d().toString()}})(0,r),lr=A2,Vr=(o,r)=>({tag:"custom",newKey:o,instantiator:r}),xg=o=>ap(r=>Et(o,r)?Fo.value(r):Fo.error(`Unsupported value: "${r}", choose one of "${o.join(", ")}".`)),ct=o=>lr(o,o,{tag:"required",process:{}},Ns()),il=(o,r)=>lr(o,o,{tag:"required",process:{}},r),gu=o=>il(o,s0),wr=o=>il(o,Rr),zi=(o,r)=>lr(o,o,{tag:"required",process:{}},xg(r)),Hi=o=>il(o,rc),hu=(o,r)=>lr(o,o,{tag:"required",process:{}},xo(r)),ip=(o,r)=>lr(o,o,{tag:"required",process:{}},a0(r)),fi=(o,r)=>lr(o,o,{tag:"required",process:{}},Bd(r)),kn=o=>lr(o,o,{tag:"option",process:{}},Ns()),Vi=(o,r)=>lr(o,o,{tag:"option",process:{}},r),$r=o=>Vi(o,s0),tr=o=>Vi(o,Rr),i0=(o,r)=>Vi(o,xg(r)),Ra=o=>Vi(o,rc),lp=(o,r)=>Vi(o,Bd(r)),ll=(o,r)=>Vi(o,xo(r)),Pe=(o,r)=>lr(o,o,Rh(r),Ns()),ti=(o,r,a)=>lr(o,o,Rh(r),a),rf=(o,r)=>ti(o,r,s0),_s=(o,r)=>ti(o,r,Rr),od=(o,r,a)=>ti(o,r,xg(a)),Ua=(o,r)=>ti(o,r,pu),mn=(o,r)=>ti(o,r,rc),bu=(o,r,a)=>ti(o,r,Bd(a)),l0=(o,r,a)=>ti(o,r,xo(a)),am=(o,r)=>((a,l)=>({[a]:l}))(o,r),cp=o=>(r=>{const a={};return gt(r,l=>{a[l.key]=l.value}),a})(o),Ma=ne,xu=Ma("touchstart"),dp=Ma("touchmove"),af=Ma("touchend"),nd=Ma("touchcancel"),Nl=Ma("mousedown"),Bh=Ma("mousemove"),lf=Ma("mouseout"),rx=Ma("mouseup"),$i=Ma("mouseover"),Rl=Ma("focusin"),ax=Ma("focusout"),Id=Ma("keydown"),h_=Ma("keyup"),im=Ma("input"),cf=Ma("change"),cl=Ma("click"),Ih=Ma("transitioncancel"),vg=Ma("transitionend"),b_=Ma("transitionstart"),c0=Ma("selectstart"),pr=o=>ne("alloy."+o),T2={tap:pr("tap")},Oc=pr("focus"),lm=pr("blur.post"),df=pr("paste.post"),uf=pr("receive"),dl=pr("execute"),cm=pr("focus.item"),yg=T2.tap,Ph=pr("longpress"),Lh=pr("sandbox.close"),d0=pr("typeahead.cancel"),u0=pr("system.init"),D2=pr("system.touchmove"),O2=pr("system.touchend"),m0=pr("system.scroll"),dm=pr("system.resize"),ic=pr("system.attached"),Ys=pr("system.detached"),up=pr("system.dismissRequested"),mp=pr("system.repositionRequested"),f0=pr("focusmanager.shifted"),p0=pr("slotcontainer.visibility"),Fh=pr("system.external.element.scroll"),g0=pr("change.tab"),zh=pr("dismiss.tab"),um=pr("highlight"),wg=pr("dehighlight"),Wt=o=>(r=>{if(kl(r))return"#shadow-root";{const a=(l=>Dt(l,!1))(r);return(l=>{const d=Yl("div"),m=Ft(l.dom.cloneNode(!0));return Vo(d,m),Eh(d)})(a)}})(o);var pi;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(pi||(pi={}));const Hh=Vt({}),fp=["alloy/data/Fields","alloy/debugging/Debugging"],Nc=(o,r,a)=>((l,d,m)=>{switch(Kt(Hh.get(),l).orThunk(()=>{const p=Zs(Hh.get());return ws(p,b=>l.indexOf(b)>-1?A.some(Hh.get()[b]):A.none())}).getOr(pi.NORMAL)){case pi.NORMAL:return m(Cg());case pi.LOGGING:{const p=((x,w)=>{const E=[],C=new Date().getTime();return{logEventCut:(T,B,L)=>{E.push({outcome:"cut",target:B,purpose:L})},logEventStopped:(T,B,L)=>{E.push({outcome:"stopped",target:B,purpose:L})},logNoParent:(T,B,L)=>{E.push({outcome:"no-parent",target:B,purpose:L})},logEventNoHandlers:(T,B)=>{E.push({outcome:"no-handlers-left",target:B})},logEventResponse:(T,B,L)=>{E.push({outcome:"response",purpose:L,target:B})},write:()=>{const T=new Date().getTime();Et(["mousemove","mouseover","mouseout",u0()],x)||console.log(x,{event:x,time:T-C,target:w.dom,sequence:Ee(E,B=>Et(["cut","stopped","response"],B.outcome)?"{"+B.purpose+"} "+B.outcome+" at ("+Wt(B.target)+")":B.outcome)})}}})(l,d),b=m(p);return p.write(),b}case pi.STOP:return!0}})(o,r,a),Cg=ne({logEventCut:xe,logEventStopped:xe,logNoParent:xe,logEventNoHandlers:xe,logEventResponse:xe,write:xe}),h0=ne([ct("menu"),ct("selectedMenu")]),vu=ne([ct("item"),ct("selectedItem")]);ne(xo(vu().concat(h0())));const N2=ne(xo(vu())),yu=hu("initSize",[ct("numColumns"),ct("numRows")]),Vh=()=>hu("markers",[ct("backgroundMenu")].concat(h0()).concat(vu())),Pd=o=>hu("markers",Ee(o,ct)),_t=(o,r,a)=>((()=>{const l=new Error;if(l.stack!==void 0){const d=l.stack.split(`
`);z(d,m=>m.indexOf("alloy")>0&&!Tn(fp,p=>m.indexOf(p)>-1)).getOr("unknown")}})(),lr(r,r,a,ap(l=>Fo.value((...d)=>l.apply(void 0,d))))),fn=o=>_t(0,o,Rh(xe)),ul=o=>_t(0,o,Rh(A.none)),Ml=o=>_t(0,o,{tag:"required",process:{}}),mf=o=>_t(0,o,{tag:"required",process:{}}),ms=(o,r)=>Vr(o,ne(r)),or=o=>Vr(o,Ct),ix=ne(yu),pp=o=>Ee(o,r=>Si(r,"/*")?r.substring(0,r.length-2):r),lc=(o,r)=>{const a=o.toString(),l=a.indexOf(")")+1,d=a.indexOf("("),m=a.substring(d+1,l-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:r,parameters:pp(m)}),o},Ts=(o,r)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...l)=>{a=setTimeout(()=>{o.apply(null,l),a=null},r)}}},$h=o=>{const r=o.raw;return r.touches===void 0||r.touches.length!==1?A.none():A.some(r.touches[0])};var sd;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(sd||(sd={}));const lx="placeholder",cc=Ir([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),b0=o=>jo(o,"uiType"),Uh=(o,r,a,l)=>((d,m,p,b)=>b0(p)&&p.uiType===lx?((x,w,E,C)=>x.exists(T=>T!==E.owner)?cc.single(!0,ne(E)):Kt(C,E.name).fold(()=>{throw new Error("Unknown placeholder component: "+E.name+`
Known: [`+Zs(C)+`]
Namespace: `+x.getOr("none")+`
Spec: `+JSON.stringify(E,null,2))},T=>T.replace()))(d,0,p,b):cc.single(!1,ne(p)))(o,0,a,l).fold((d,m)=>{const p=b0(a)?m(r,a.config,a.validated):m(r),b=Kt(p,"components").getOr([]),x=Uo(b,w=>Uh(o,r,w,l));return[{...p,components:x}]},(d,m)=>{if(b0(a)){const p=m(r,a.config,a.validated);return a.validated.preprocess.getOr(Ct)(p)}return m(r)}),cx=cc.single,x0=cc.multiple,dx=ne(lx),Zh=Ir([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),jh=Pe("factory",{sketch:Ct}),ff=Pe("schema",[]),Wh=ct("name"),v0=lr("pname","pname",fg(o=>"<alloy."+Oe(o.name)+">"),Ns()),y0=Vr("schema",()=>[kn("preprocess")]),Za=Pe("defaults",ne({})),Bl=Pe("overrides",ne({})),Ai=xo([jh,ff,Wh,v0,Za,Bl]),R2=xo([jh,ff,Wh,Za,Bl]),M2=xo([jh,ff,Wh,v0,Za,Bl]),gp=xo([jh,y0,Wh,ct("unit"),v0,Za,Bl]),w0=o=>o.fold(A.some,A.none,A.some,A.some),ux=o=>{const r=a=>a.name;return o.fold(r,r,r,r)},C0=(o,r)=>a=>{const l=mi("Converting part type",r,a);return o(l)},gi=C0(Zh.required,Ai),Ui=C0(Zh.external,R2),Rc=C0(Zh.optional,M2),_g=C0(Zh.group,gp),_0=ne("entirety");var B2=Object.freeze({__proto__:null,required:gi,external:Ui,optional:Rc,group:_g,asNamedPart:w0,name:ux,asCommon:o=>o.fold(Ct,Ct,Ct,Ct),original:_0});const k0=(o,r,a,l)=>Wo(r.defaults(o,a,l),a,{uid:o.partUids[r.name]},r.overrides(o,a,l)),mx=(o,r)=>{const a={};return gt(r,l=>{w0(l).each(d=>{const m=x_(o,d.pname);a[d.name]=p=>{const b=mi("Part: "+d.name+" in "+o,xo(d.schema),p);return{...m,config:p,validated:b}}})}),a},x_=(o,r)=>({uiType:dx(),owner:o,name:r}),fx=(o,r,a)=>({uiType:dx(),owner:o,name:r,config:a,validated:{}}),hp=o=>Uo(o,r=>r.fold(A.none,A.some,A.none,A.none).map(a=>hu(a.name,a.schema.concat([or(_0())]))).toArray()),I2=o=>Ee(o,ux),px=(o,r,a)=>((l,d,m)=>{const p={},b={};return gt(m,x=>{x.fold(w=>{p[w.pname]=cx(!0,(E,C,T)=>w.factory.sketch(k0(E,w,C,T)))},w=>{const E=d.parts[w.name];b[w.name]=ne(w.factory.sketch(k0(d,w,E[_0()]),E))},w=>{p[w.pname]=cx(!1,(E,C,T)=>w.factory.sketch(k0(E,w,C,T)))},w=>{p[w.pname]=x0(!0,(E,C,T)=>{const B=E[w.name];return Ee(B,L=>w.factory.sketch(Wo(w.defaults(E,L,T),L,w.overrides(E,L))))})})}),{internals:ne(p),externals:ne(b)}})(0,r,a),qh=(o,r,a)=>((l,d,m,p)=>{const b=Ss(p,(w,E)=>((C,T)=>{let B=!1;return{name:ne(C),required:()=>T.fold((L,Y)=>L,(L,Y)=>L),used:()=>B,replace:()=>{if(B)throw new Error("Trying to use the same placeholder more than once: "+C);return B=!0,T}}})(E,w)),x=((w,E,C,T)=>Uo(C,B=>Uh(w,E,B,T)))(l,d,m,b);return ur(b,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(d.components,null,2))}),x})(A.some(o),r,r.components,a),es=(o,r,a)=>{const l=r.partUids[a];return o.getSystem().getByUid(l).toOptional()},rd=(o,r,a)=>es(o,r,a).getOrDie("Could not find part: "+a),wu=(o,r,a)=>{const l={},d=r.partUids,m=o.getSystem();return gt(a,p=>{l[p]=ne(m.getByUid(d[p]))}),l},gx=(o,r)=>{const a=o.getSystem();return Ss(r.partUids,(l,d)=>ne(a.getByUid(l)))},Gh=o=>Zs(o.partUids),S0=(o,r,a)=>{const l={},d=r.partUids,m=o.getSystem();return gt(a,p=>{l[p]=ne(m.getByUid(d[p]).getOrDie())}),l},E0=(o,r)=>{const a=I2(r);return cp(Ee(a,l=>({key:l,value:o+"-"+l})))},hx=o=>lr("partUids","partUids",tx(r=>E0(r.uid,o)),Ns());var bx=Object.freeze({__proto__:null,generate:mx,generateOne:fx,schemas:hp,names:I2,substitutes:px,components:qh,defaultUids:E0,defaultUidsSchema:hx,getAllParts:gx,getAllPartNames:Gh,getPart:es,getPartOrDie:rd,getParts:wu,getPartsOrDie:S0});const xx=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ml=(o,r,a,l=1)=>{const d=o*l,m=r*l,p=x=>Kt(a,x).getOr([]),b=(x,w,E)=>{const C=on(xx,E);return{offset:us(x,w),classesOn:Uo(E,p),classesOff:Uo(C,p)}};return{southeast:()=>b(-o,r,["top","alignLeft"]),southwest:()=>b(o,r,["top","alignRight"]),south:()=>b(-o/2,r,["top","alignCentre"]),northeast:()=>b(-o,-r,["bottom","alignLeft"]),northwest:()=>b(o,-r,["bottom","alignRight"]),north:()=>b(-o/2,-r,["bottom","alignCentre"]),east:()=>b(o,-r/2,["valignCentre","left"]),west:()=>b(-o,-r/2,["valignCentre","right"]),insetNortheast:()=>b(d,m,["top","alignLeft","inset"]),insetNorthwest:()=>b(-d,m,["top","alignRight","inset"]),insetNorth:()=>b(-d/2,m,["top","alignCentre","inset"]),insetSoutheast:()=>b(d,-m,["bottom","alignLeft","inset"]),insetSouthwest:()=>b(-d,-m,["bottom","alignRight","inset"]),insetSouth:()=>b(-d/2,-m,["bottom","alignCentre","inset"]),insetEast:()=>b(-d,-m/2,["valignCentre","right","inset"]),insetWest:()=>b(d,-m/2,["valignCentre","left","inset"])}},vx=()=>ml(0,0,{}),ja=(o,r,a,l,d,m,p,b=!1)=>({x:o,y:r,bubble:a,direction:l,placement:d,restriction:m,label:`${p}-${d}`,alwaysFit:b}),pf=Ir([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Kh=pf.southeast,yx=pf.southwest,A0=pf.northeast,wx=pf.northwest,P2=pf.south,L2=pf.north,T0=pf.east,F2=pf.west,va=(o,r)=>Kn(["left","right","top","bottom"],a=>Kt(r,a).map(l=>((d,m)=>{switch(m){case 1:return d.x;case 0:return d.x+d.width;case 2:return d.y;case 3:return d.y+d.height}})(o,l))),Ld="layout",z2=o=>o.x,H2=(o,r)=>o.x+o.width/2-r.width/2,V2=(o,r)=>o.x+o.width-r.width,mm=(o,r)=>o.y-r.height,Cx=o=>o.y+o.height,$2=(o,r)=>o.y+o.height/2-r.height/2,Ur=(o,r,a)=>ja(z2(o),Cx(o),a.southeast(),Kh(),"southeast",va(o,{left:1,top:3}),Ld),Mr=(o,r,a)=>ja(V2(o,r),Cx(o),a.southwest(),yx(),"southwest",va(o,{right:0,top:3}),Ld),Wa=(o,r,a)=>ja(z2(o),mm(o,r),a.northeast(),A0(),"northeast",va(o,{left:1,bottom:2}),Ld),oi=(o,r,a)=>ja(V2(o,r),mm(o,r),a.northwest(),wx(),"northwest",va(o,{right:0,bottom:2}),Ld),ya=(o,r,a)=>ja(H2(o,r),mm(o,r),a.north(),L2(),"north",va(o,{bottom:2}),Ld),Br=(o,r,a)=>ja(H2(o,r),Cx(o),a.south(),P2(),"south",va(o,{top:3}),Ld),_x=(o,r,a)=>ja((l=>l.x+l.width)(o),$2(o,r),a.east(),T0(),"east",va(o,{left:0}),Ld),kx=(o,r,a)=>ja(((l,d)=>l.x-d.width)(o,r),$2(o,r),a.west(),F2(),"west",va(o,{right:1}),Ld),fm=()=>[Ur,Mr,Wa,oi,Br,ya,_x,kx],ni=()=>[Mr,Ur,oi,Wa,Br,ya,_x,kx],Yh=()=>[Wa,oi,Ur,Mr,ya,Br],Xh=()=>[oi,Wa,Mr,Ur,ya,Br],Sx=()=>[Ur,Mr,Wa,oi,Br,ya],D0=()=>[Mr,Ur,oi,Wa,Br,ya],Il="data-alloy-placement",pm=o=>Ta(o,Il),Cu="layout-inset",Ex=o=>o.x,Ax=(o,r)=>o.x+o.width/2-r.width/2,Tx=(o,r)=>o.x+o.width-r.width,O0=o=>o.y,Qh=(o,r)=>o.y+o.height-r.height,Jh=(o,r)=>o.y+o.height/2-r.height/2,kg=(o,r,a)=>ja(Tx(o,r),Qh(o,r),a.insetSouthwest(),wx(),"southwest",va(o,{right:0,bottom:3}),Cu),e1=(o,r,a)=>ja(Ex(o),Qh(o,r),a.insetSoutheast(),A0(),"southeast",va(o,{left:1,bottom:3}),Cu),Sg=(o,r,a)=>ja(Tx(o,r),O0(o),a.insetNorthwest(),yx(),"northwest",va(o,{right:0,top:2}),Cu),_u=(o,r,a)=>ja(Ex(o),O0(o),a.insetNortheast(),Kh(),"northeast",va(o,{left:1,top:2}),Cu),Zi=(o,r,a)=>ja(Ax(o,r),O0(o),a.insetNorth(),P2(),"north",va(o,{top:2}),Cu),Pl=(o,r,a)=>ja(Ax(o,r),Qh(o,r),a.insetSouth(),L2(),"south",va(o,{bottom:3}),Cu),t1=(o,r,a)=>ja(Tx(o,r),Jh(o,r),a.insetEast(),F2(),"east",va(o,{right:0}),Cu),N0=(o,r,a)=>ja(Ex(o),Jh(o,r),a.insetWest(),T0(),"west",va(o,{left:1}),Cu),U2=o=>{switch(o){case"north":return Zi;case"northeast":return _u;case"northwest":return Sg;case"south":return Pl;case"southeast":return e1;case"southwest":return kg;case"east":return t1;case"west":return N0}},Dx=(o,r,a,l,d)=>pm(l).map(U2).getOr(Zi)(o,r,a,l,d),Ox=o=>{switch(o){case"north":return Pl;case"northeast":return e1;case"northwest":return kg;case"south":return Zi;case"southeast":return _u;case"southwest":return Sg;case"east":return N0;case"west":return t1}},gf=(o,r,a,l,d)=>pm(l).map(Ox).getOr(Zi)(o,r,a,l,d),hf=(o,r)=>{((a,l)=>{const d=Tl.max(a,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Eo(a,"max-height",d+"px")})(o,Math.floor(r))},Nx=ne((o,r)=>{hf(o,r),Ei(o,{"overflow-x":"hidden","overflow-y":"auto"})}),gm=ne((o,r)=>{hf(o,r)}),R0=ne((o,r)=>{((a,l)=>{const d=bn.max(a,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Eo(a,"max-width",d+"px")})(o,Math.floor(r))});var Fd;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(Fd||(Fd={}));const Eg="data-alloy-vertical-dir",Z2=o=>Jf(o,r=>Ho(r)&&yr(r,"data-alloy-vertical-dir")===Fd.BottomToTop);var hi;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(hi||(hi={}));const Mc={init:()=>Ti({readState:ne("No State required")})},Ti=o=>o,Ag={can:Jt,abort:Qe,run:xe},dc=o=>{if(!xs(o,"can")&&!xs(o,"abort")&&!xs(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...Ag,...o}},Xo=(o,r)=>{Mx(o,o.element,r,{})},oo=(o,r,a)=>{Mx(o,o.element,r,a)},bp=o=>{Xo(o,dl())},Rx=(o,r,a)=>{Mx(o,r,a,{})},Mx=(o,r,a,l)=>{const d={target:r,...l};o.getSystem().triggerEvent(a,r,d)},Tg=(o,r,a,l)=>{o.getSystem().triggerEvent(a,r,l.event)},Wn=o=>cp(o),bf=(o,r)=>({key:o,value:dc({abort:r})}),M0=o=>({key:o,value:dc({run:(r,a)=>{a.event.prevent()}})}),et=(o,r)=>({key:o,value:dc({run:r})}),xp=(o,r,a)=>({key:o,value:dc({run:(l,d)=>{r.apply(void 0,[l,d].concat(a))}})}),o1=o=>r=>({key:o,value:dc({run:(a,l)=>{fu(a,l)&&r(a,l)}})}),ku=(o,r,a)=>((l,d)=>et(l,(m,p)=>{m.getSystem().getByUid(d).each(b=>{Tg(b,b.element,l,p)})}))(o,r.partUids[a]),Bx=(o,r)=>et(o,(a,l)=>{const d=l.event,m=a.getSystem().getByDom(d.target).getOrThunk(()=>nm(d.target,p=>a.getSystem().getByDom(p).toOptional(),Qe).getOr(a));r(a,m,l)}),Ll=o=>et(o,(r,a)=>{a.cut()}),n1=o=>et(o,(r,a)=>{a.stop()}),hm=(o,r)=>o1(o)(r),ts=o1(ic()),ad=o1(Ys()),Dg=o1(u0()),zd=(o=>r=>et(o,r))(dl()),fl=o=>({classes:$t(o.classes)?[]:o.classes,attributes:$t(o.attributes)?{}:o.attributes,styles:$t(o.styles)?{}:o.styles}),s1=(o,r,a)=>Dg((l,d)=>{a(l,o,r)}),v_=o=>({key:o,value:void 0}),Ix=(o,r,a,l,d,m,p)=>{const b=E=>xs(E,a)?E[a]():A.none(),x=Ss(d,(E,C)=>((T,B,L)=>((Y,W,X)=>{const $=X.toString(),U=$.indexOf(")")+1,te=$.indexOf("("),oe=$.substring(te+1,U-1).split(/,\s*/);return Y.toFunctionAnnotation=()=>({name:W,parameters:pp(oe.slice(0,1).concat(oe.slice(3)))}),Y})((Y,...W)=>{const X=[Y].concat(W);return Y.config({name:ne(T)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+T+". Using API: "+L)},$=>{const U=Array.prototype.slice.call(X,1);return B.apply(void 0,[Y,$.config,$.state].concat(U))})},L,B))(a,E,C)),w={...Ss(m,(E,C)=>lc(E,C)),...x,revoke:yn(v_,a),config:E=>{const C=mi(a+"-config",o,E);return{key:a,value:{config:C,me:w,configAsRaw:rr(()=>mi(a+"-config",o,E)),initialConfig:E,state:p}}},schema:ne(r),exhibit:(E,C)=>xr(b(E),Kt(l,"exhibit"),(T,B)=>B(C,T.config,T.state)).getOrThunk(()=>fl({})),name:ne(a),handlers:E=>b(E).map(C=>Kt(l,"events").getOr(()=>({}))(C.config,C.state)).getOr({})};return w},pt=o=>cp(o),Ds=ac([ct("fields"),ct("name"),Pe("active",{}),Pe("apis",{}),Pe("state",Mc),Pe("extra",{})]),qa=o=>{const r=mi("Creating behaviour: "+o.name,Ds,o);return((a,l,d,m,p,b)=>{const x=ac(a),w=ll(l,[(E=a,Vi("config",ac(E)))]);var E;return Ix(x,w,l,d,m,p,b)})(r.fields,r.name,r.active,r.apis,r.extra,r.state)},y_=ac([ct("branchKey"),ct("branches"),ct("name"),Pe("active",{}),Pe("apis",{}),Pe("state",Mc),Pe("extra",{})]),Px=o=>{const r=mi("Creating behaviour: "+o.name,y_,o);return((a,l,d,m,p,b)=>{const x=a,w=ll(l,[Vi("config",a)]);return Ix(x,w,l,d,m,p,b)})(Fi(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},r1=ne(void 0),vo=(o,r)=>{const a=((l,d)=>{const m=Wn(d);return qa({fields:[ct("enabled")],name:l,active:{events:ne(m)}})})(o,r);return{key:o,value:{config:{},me:a,configAsRaw:ne({}),initialConfig:{},state:Mc}}},Hd=(o,r)=>{r.ignore||(Ws(o.element),r.onFocus(o))};var B0=Object.freeze({__proto__:null,focus:Hd,blur:(o,r)=>{r.ignore||kc(o.element)},isFocused:o=>oc(o.element)}),w_=Object.freeze({__proto__:null,exhibit:(o,r)=>{const a=r.ignore?{}:{attributes:{tabindex:"-1"}};return fl(a)},events:o=>Wn([et(Oc(),(r,a)=>{Hd(r,o),a.stop()})].concat(o.stopMousedown?[et(Nl(),(r,a)=>{a.event.prevent()})]:[]))}),Og=[fn("onFocus"),Pe("stopMousedown",!1),Pe("ignore",!1)];const mo=qa({fields:Og,name:"focusing",active:w_,apis:B0}),a1=[8],Su=[9],id=[13],Ng=[27],Fl=[32],Rg=[37],i1=[38],I0=[39],Mg=[40],Di=(o,r,a)=>{const l=oa(o.slice(0,r)),d=oa(o.slice(r+1));return z(l.concat(d),a)},Oi=(o,r,a)=>{const l=oa(o.slice(0,r));return z(l,a)},l1=(o,r,a)=>{const l=o.slice(0,r),d=o.slice(r+1);return z(d.concat(l),a)},bm=(o,r,a)=>{const l=o.slice(r+1);return z(l,a)},Qo=o=>r=>{const a=r.raw;return Et(o,a.which)},ji=o=>r=>_i(o,a=>a(r)),Vd=o=>o.raw.shiftKey===!0,vp=o=>o.raw.ctrlKey===!0,yp=bs(Vd),xn=(o,r)=>({matches:o,classification:r}),j2=(o,r,a,l)=>{const d=ca(o.element,"."+r.highlightClass);gt(d,m=>{Tn(l,p=>In(p.element,m))||(vs(m,r.highlightClass),o.getSystem().getByDom(m).each(p=>{r.onDehighlight(o,p),Xo(p,wg())}))})},wp=(o,r,a,l)=>{j2(o,r,0,[l]),c1(o,r,a,l)||(ls(l.element,r.highlightClass),r.onHighlight(o,l),Xo(l,um()))},c1=(o,r,a,l)=>Ja(l.element,r.highlightClass),Lx=(o,r,a)=>Nn(o.element,"."+r.itemClass).bind(l=>o.getSystem().getByDom(l).toOptional()),W2=(o,r,a)=>{const l=ca(o.element,"."+r.itemClass);return(l.length>0?A.some(l[l.length-1]):A.none()).bind(d=>o.getSystem().getByDom(d).toOptional())},Fx=(o,r,a,l)=>{const d=ca(o.element,"."+r.itemClass);return dr(d,m=>Ja(m,r.highlightClass)).bind(m=>{const p=Qt(m,l,0,d.length-1);return o.getSystem().getByDom(d[p]).toOptional()})},zx=(o,r,a)=>{const l=ca(o.element,"."+r.itemClass);return ql(Ee(l,d=>o.getSystem().getByDom(d).toOptional()))};var q2=Object.freeze({__proto__:null,dehighlightAll:(o,r,a)=>j2(o,r,0,[]),dehighlight:(o,r,a,l)=>{c1(o,r,a,l)&&(vs(l.element,r.highlightClass),r.onDehighlight(o,l),Xo(l,wg()))},highlight:wp,highlightFirst:(o,r,a)=>{Lx(o,r).each(l=>{wp(o,r,a,l)})},highlightLast:(o,r,a)=>{W2(o,r).each(l=>{wp(o,r,a,l)})},highlightAt:(o,r,a,l)=>{((d,m,p,b)=>{const x=ca(d.element,"."+m.itemClass);return A.from(x[b]).fold(()=>Fo.error(new Error("No element found with index "+b)),d.getSystem().getByDom)})(o,r,0,l).fold(d=>{throw d},d=>{wp(o,r,a,d)})},highlightBy:(o,r,a,l)=>{const d=zx(o,r);z(d,l).each(m=>{wp(o,r,a,m)})},isHighlighted:c1,getHighlighted:(o,r,a)=>Nn(o.element,"."+r.highlightClass).bind(l=>o.getSystem().getByDom(l).toOptional()),getFirst:Lx,getLast:W2,getPrevious:(o,r,a)=>Fx(o,r,0,-1),getNext:(o,r,a)=>Fx(o,r,0,1),getCandidates:zx}),xf=[ct("highlightClass"),ct("itemClass"),fn("onHighlight"),fn("onDehighlight")];const Dn=qa({fields:xf,name:"highlighting",apis:q2}),Cp=(o,r,a)=>{r.exists(l=>a.exists(d=>In(d,l)))||oo(o,f0(),{prevFocus:r,newFocus:a})},d1=()=>{const o=r=>As(r.element);return{get:o,set:(r,a)=>{const l=o(r);r.getSystem().triggerFocus(a,r.element);const d=o(r);Cp(r,l,d)}}},P0=()=>{const o=r=>Dn.getHighlighted(r).map(a=>a.element);return{get:o,set:(r,a)=>{const l=o(r);r.getSystem().getByDom(a).fold(xe,m=>{Dn.highlight(r,m)});const d=o(r);Cp(r,l,d)}}},ld=(o,r,a,l,d)=>{const m=(b,x,w,E,C)=>{return(T=w(b,x,E,C),B=x.event,z(T,L=>L.matches(B)).map(L=>L.classification)).bind(L=>L(b,x,E,C));var T,B},p={schema:()=>o.concat([Pe("focusManager",d1()),ti("focusInside","onFocus",ap(b=>Et(["onFocus","onEnterOrSpace","onApi"],b)?Fo.value(b):Fo.error("Invalid value for focusInside"))),ms("handler",p),ms("state",r),ms("sendFocusIn",d)]),processKey:m,toEvents:(b,x)=>{const w=b.focusInside!==sd.OnFocusMode?A.none():d(b).map(C=>et(Oc(),(T,B)=>{C(T,b,x),B.stop()})),E=[et(Id(),(C,T)=>{m(C,T,a,b,x).fold(()=>{((B,L)=>{const Y=Qo(Fl.concat(id))(L.event);b.focusInside===sd.OnEnterOrSpaceMode&&Y&&fu(B,L)&&d(b).each(W=>{W(B,b,x),L.stop()})})(C,T)},B=>{T.stop()})}),et(h_(),(C,T)=>{m(C,T,l,b,x).each(B=>{T.stop()})})];return Wn(w.toArray().concat(E))}};return p},G2=o=>{const r=[kn("onEscape"),kn("onEnter"),Pe("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Pe("firstTabstop",0),Pe("useTabstopAt",Jt),kn("visibilitySelector")].concat([o]),a=(E,C)=>{const T=E.visibilitySelector.bind(B=>Ac(C,B)).getOr(C);return Gs(T)>0},l=(E,C)=>C.focusManager.get(E).bind(T=>Ac(T,C.selector)),d=(E,C,T)=>{((B,L)=>{const Y=ca(B.element,L.selector),W=Do(Y,X=>a(L,X));return A.from(W[L.firstTabstop])})(E,C).each(B=>{C.focusManager.set(E,B)})},m=(E,C,T,B)=>{const L=Do(ca(E.element,T.selector),Y=>a(T,Y));return l(E,T).bind(Y=>dr(L,yn(In,Y)).bind(W=>((X,$,U,te,oe)=>oe($,U,de=>((he,ke)=>a(he,ke)&&he.useTabstopAt(ke))(te,de)).fold(()=>te.cyclic?A.some(!0):A.none(),de=>(te.focusManager.set(X,de),A.some(!0))))(E,L,W,T,B)))},p=(E,C,T)=>{const B=T.cyclic?Di:Oi;return m(E,0,T,B)},b=(E,C,T)=>{const B=T.cyclic?l1:bm;return m(E,0,T,B)},x=ne([xn(ji([Vd,Qo(Su)]),p),xn(Qo(Su),b),xn(ji([yp,Qo(id)]),(E,C,T)=>T.onEnter.bind(B=>B(E,C)))]),w=ne([xn(Qo(Ng),(E,C,T)=>T.onEscape.bind(B=>B(E,C))),xn(Qo(Su),(E,C,T)=>l(E,T).filter(B=>!T.useTabstopAt(B)).bind(B=>((L=>(Y=>Pn(Y))(L).bind(jm).exists(Y=>In(Y,L)))(B)?p:b)(E,C,T)))]);return ld(r,Mc.init,x,w,()=>A.some(d))};var Bg=G2(Vr("cyclic",Qe)),Hx=G2(Vr("cyclic",Jt));const Wi=o=>Ae("input")(o)&&yr(o,"type")!=="radio"||Ae("textarea")(o),_p=(o,r,a)=>Wi(a)&&Qo(Fl)(r.event)?A.none():((l,d,m)=>(Rx(l,m,dl()),A.some(!0)))(o,0,a),Eu=(o,r)=>A.some(!0),xm=[Pe("execute",_p),Pe("useSpace",!1),Pe("useEnter",!0),Pe("useControlEnter",!1),Pe("useDown",!1)],L0=(o,r,a)=>a.execute(o,r,o.element);var kp=ld(xm,Mc.init,(o,r,a,l)=>{const d=a.useSpace&&!Wi(o.element)?Fl:[],m=a.useEnter?id:[],p=a.useDown?Mg:[],b=d.concat(m).concat(p);return[xn(Qo(b),L0)].concat(a.useControlEnter?[xn(ji([vp,Qo(id)]),L0)]:[])},(o,r,a,l)=>a.useSpace&&!Wi(o.element)?[xn(Qo(Fl),Eu)]:[],()=>A.none());const u1=()=>{const o=Bn();return Ti({readState:()=>o.get().map(r=>({numRows:String(r.numRows),numColumns:String(r.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(r,a)=>{o.set({numRows:r,numColumns:a})},getNumRows:()=>o.get().map(r=>r.numRows),getNumColumns:()=>o.get().map(r=>r.numColumns)})};var Sp=Object.freeze({__proto__:null,flatgrid:u1,init:o=>o.state(o)});const m1=o=>(r,a,l,d)=>{const m=o(r.element);return Vs(m,r,a,l,d)},vm=(o,r)=>{const a=Yf(o,r);return m1(a)},Au=(o,r)=>{const a=Yf(r,o);return m1(a)},f1=o=>(r,a,l,d)=>Vs(o,r,a,l,d),Vs=(o,r,a,l,d)=>l.focusManager.get(r).bind(m=>o(r.element,m,l,d)).map(m=>(l.focusManager.set(r,m),!0)),p1=f1,pl=f1,g1=f1,vf=(o,r,a)=>{const l=ca(o,a);return(d=>dr(d,m=>In(m,r)).map(m=>({index:m,candidates:d})))(Do(l,du))},Tu=(o,r)=>dr(o,a=>In(r,a)),Cr=(o,r,a,l)=>l(Math.floor(r/a),r%a).bind(d=>{const m=d.row*a+d.column;return m>=0&&m<o.length?A.some(o[m]):A.none()}),ym=(o,r,a,l,d)=>Cr(o,r,l,(m,p)=>{const b=m===a-1?o.length-m*l:l,x=Qt(p,d,0,b-1);return A.some({row:m,column:x})}),zl=(o,r,a,l,d)=>Cr(o,r,l,(m,p)=>{const b=Qt(m,d,0,a-1),x=b===a-1?o.length-b*l:l,w=Lr(p,0,x-1);return A.some({row:b,column:w})}),K2=[ct("selector"),Pe("execute",_p),ul("onEscape"),Pe("captureTab",!1),ix()],C_=(o,r,a)=>{Nn(o.element,r.selector).each(l=>{r.focusManager.set(o,l)})},Ig=o=>(r,a,l,d)=>vf(r,a,l.selector).bind(m=>o(m.candidates,m.index,d.getNumRows().getOr(l.initSize.numRows),d.getNumColumns().getOr(l.initSize.numColumns))),Ep=(o,r,a)=>a.captureTab?A.some(!0):A.none(),Vx=Ig((o,r,a,l)=>ym(o,r,a,l,-1)),Ap=Ig((o,r,a,l)=>ym(o,r,a,l,1)),Pg=Ig((o,r,a,l)=>zl(o,r,a,l,-1)),Y2=Ig((o,r,a,l)=>zl(o,r,a,l,1)),h1=ne([xn(Qo(Rg),vm(Vx,Ap)),xn(Qo(I0),Au(Vx,Ap)),xn(Qo(i1),p1(Pg)),xn(Qo(Mg),pl(Y2)),xn(ji([Vd,Qo(Su)]),Ep),xn(ji([yp,Qo(Su)]),Ep),xn(Qo(Fl.concat(id)),(o,r,a,l)=>((d,m)=>m.focusManager.get(d).bind(p=>Ac(p,m.selector)))(o,a).bind(d=>a.execute(o,r,d)))]),$x=ne([xn(Qo(Ng),(o,r,a)=>a.onEscape(o,r)),xn(Qo(Fl),Eu)]);var Tp=ld(K2,u1,h1,$x,()=>A.some(C_));const wm=(o,r,a,l,d)=>{const m=(p,b,x)=>d(p,b,l,0,x.length-1,x[b],w=>{return E=x[w],Ut(E)==="button"&&yr(E,"disabled")==="disabled"?m(p,w,x):A.from(x[w]);var E});return vf(o,a,r).bind(p=>{const b=p.index,x=p.candidates;return m(b,b,x)})},Ux=(o,r,a,l)=>wm(o,r,a,l,(d,m,p,b,x,w,E)=>{const C=Lr(m+p,b,x);return C===d?A.from(w):E(C)}),b1=(o,r,a,l)=>wm(o,r,a,l,(d,m,p,b,x,w,E)=>{const C=Qt(m,p,b,x);return C===d?A.none():E(C)}),Zx=[ct("selector"),Pe("getInitial",A.none),Pe("execute",_p),ul("onEscape"),Pe("executeOnMove",!1),Pe("allowVertical",!0),Pe("allowHorizontal",!0),Pe("cycles",!0)],Dp=(o,r,a)=>((l,d)=>d.focusManager.get(l).bind(m=>Ac(m,d.selector)))(o,a).bind(l=>a.execute(o,r,l)),Op=(o,r,a)=>{r.getInitial(o).orThunk(()=>Nn(o.element,r.selector)).each(l=>{r.focusManager.set(o,l)})},X2=(o,r,a)=>(a.cycles?b1:Ux)(o,a.selector,r,-1),F0=(o,r,a)=>(a.cycles?b1:Ux)(o,a.selector,r,1),jx=o=>(r,a,l,d)=>o(r,a,l,d).bind(()=>l.executeOnMove?Dp(r,a,l):A.some(!0)),Q2=ne([xn(Qo(Fl),Eu),xn(Qo(Ng),(o,r,a)=>a.onEscape(o,r))]);var Lg=ld(Zx,Mc.init,(o,r,a,l)=>{const d=[...a.allowHorizontal?Rg:[]].concat(a.allowVertical?i1:[]),m=[...a.allowHorizontal?I0:[]].concat(a.allowVertical?Mg:[]);return[xn(Qo(d),jx(vm(X2,F0))),xn(Qo(m),jx(Au(X2,F0))),xn(Qo(id),Dp),xn(Qo(Fl),Dp)]},Q2,()=>A.some(Op));const $d=(o,r,a)=>A.from(o[r]).bind(l=>A.from(l[a]).map(d=>({rowIndex:r,columnIndex:a,cell:d}))),J2=(o,r,a,l)=>{const d=o[r].length,m=Qt(a,l,0,d-1);return $d(o,r,m)},ey=(o,r,a,l)=>{const d=Qt(a,l,0,o.length-1),m=o[d].length,p=Lr(r,0,m-1);return $d(o,d,p)},f=(o,r,a,l)=>{const d=o[r].length,m=Lr(a+l,0,d-1);return $d(o,r,m)},h=(o,r,a,l)=>{const d=Lr(a+l,0,o.length-1),m=o[d].length,p=Lr(r,0,m-1);return $d(o,d,p)},y=[hu("selectors",[ct("row"),ct("cell")]),Pe("cycles",!0),Pe("previousSelector",A.none),Pe("execute",_p)],_=(o,r,a)=>{r.previousSelector(o).orThunk(()=>{const l=r.selectors;return Nn(o.element,l.cell)}).each(l=>{r.focusManager.set(o,l)})},D=(o,r)=>(a,l,d)=>{const m=d.cycles?o:r;return Ac(l,d.selectors.row).bind(p=>{const b=ca(p,d.selectors.cell);return Tu(b,l).bind(x=>{const w=ca(a,d.selectors.row);return Tu(w,p).bind(E=>{const C=((T,B)=>Ee(T,L=>ca(L,B.selectors.cell)))(w,d);return m(C,E,x).map(T=>T.cell)})})})},N=D((o,r,a)=>J2(o,r,a,-1),(o,r,a)=>f(o,r,a,-1)),F=D((o,r,a)=>J2(o,r,a,1),(o,r,a)=>f(o,r,a,1)),V=D((o,r,a)=>ey(o,a,r,-1),(o,r,a)=>h(o,a,r,-1)),ee=D((o,r,a)=>ey(o,a,r,1),(o,r,a)=>h(o,a,r,1)),ce=ne([xn(Qo(Rg),vm(N,F)),xn(Qo(I0),Au(N,F)),xn(Qo(i1),p1(V)),xn(Qo(Mg),pl(ee)),xn(Qo(Fl.concat(id)),(o,r,a)=>As(o.element).bind(l=>a.execute(o,r,l)))]),we=ne([xn(Qo(Fl),Eu)]);var ie=ld(y,Mc.init,ce,we,()=>A.some(_));const be=[ct("selector"),Pe("execute",_p),Pe("moveOnTab",!1)],fe=(o,r,a)=>a.focusManager.get(o).bind(l=>a.execute(o,r,l)),De=(o,r,a)=>{Nn(o.element,r.selector).each(l=>{r.focusManager.set(o,l)})},Te=(o,r,a)=>b1(o,a.selector,r,-1),nt=(o,r,a)=>b1(o,a.selector,r,1),it=ne([xn(Qo(i1),g1(Te)),xn(Qo(Mg),g1(nt)),xn(ji([Vd,Qo(Su)]),(o,r,a,l)=>a.moveOnTab?g1(Te)(o,r,a,l):A.none()),xn(ji([yp,Qo(Su)]),(o,r,a,l)=>a.moveOnTab?g1(nt)(o,r,a,l):A.none()),xn(Qo(id),fe),xn(Qo(Fl),fe)]),ht=ne([xn(Qo(Fl),Eu)]);var vt=ld(be,Mc.init,it,ht,()=>A.some(De));const wt=[ul("onSpace"),ul("onEnter"),ul("onShiftEnter"),ul("onLeft"),ul("onRight"),ul("onTab"),ul("onShiftTab"),ul("onUp"),ul("onDown"),ul("onEscape"),Pe("stopSpaceKeyup",!1),kn("focusIn")];var Rt=ld(wt,Mc.init,(o,r,a)=>[xn(Qo(Fl),a.onSpace),xn(ji([yp,Qo(id)]),a.onEnter),xn(ji([Vd,Qo(id)]),a.onShiftEnter),xn(ji([Vd,Qo(Su)]),a.onShiftTab),xn(ji([yp,Qo(Su)]),a.onTab),xn(Qo(i1),a.onUp),xn(Qo(Mg),a.onDown),xn(Qo(Rg),a.onLeft),xn(Qo(I0),a.onRight),xn(Qo(Fl),a.onSpace)],(o,r,a)=>[...a.stopSpaceKeyup?[xn(Qo(Fl),Eu)]:[],xn(Qo(Ng),a.onEscape)],o=>o.focusIn);const Mt=Bg.schema(),to=Hx.schema(),ho=Lg.schema(),pn=Tp.schema(),Mo=ie.schema(),Go=kp.schema(),Po=vt.schema(),qn=Rt.schema(),Bt=Px({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Mt,cyclic:to,flow:ho,flatgrid:pn,matrix:Mo,execution:Go,menu:Po,special:qn}),name:"keying",active:{events:(o,r)=>o.handler.toEvents(o,r)},apis:{focusIn:(o,r,a)=>{r.sendFocusIn(r).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},l=>{l(o,r,a)})},setGridSize:(o,r,a,l,d)=>{(m=>xs(m,"setGridSize"))(a)?a.setGridSize(l,d):console.error("Layout does not support setGridSize")}},state:Sp}),da=Oe("alloy-premade"),Ba=o=>(Object.defineProperty(o.element.dom,da,{value:o.uid,writable:!0}),am(da,o)),Hl=o=>Kt(o,da),Ud=o=>((r,a)=>{const l=a.toString(),d=l.indexOf(")")+1,m=l.indexOf("("),p=l.substring(m+1,d-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:pp(p.slice(1))}),r})((r,...a)=>o(r.getApis(),r,...a),o),Zr=o=>o.getSystem().isConnected(),qi=o=>{Xo(o,Ys());const r=o.components();gt(r,qi)},yf=o=>{const r=o.components();gt(r,yf),Xo(o,ic())},Ke=(o,r)=>{o.getSystem().addToWorld(r),za(o.element)&&yf(r)},wf=o=>{qi(o),o.getSystem().removeFromWorld(o)},x1=(o,r)=>{Vo(o.element,r.element)},Du=(o,r)=>{ty(o,r,Vo)},ty=(o,r,a)=>{o.getSystem().addToWorld(r),a(o.element,r.element),za(o.element)&&yf(r),o.syncComponents()},Ou=o=>{qi(o),Ad(o.element),o.getSystem().removeFromWorld(o)},Cf=o=>{const r=Pn(o.element).bind(a=>o.getSystem().getByDom(a).toOptional());Ou(o),r.each(a=>{a.syncComponents()})},__=o=>{const r=o.components();gt(r,Ou),cg(o.element),o.syncComponents()},oy=(o,r)=>{RE(o,r,Vo)},z0=(o,r)=>{RE(o,r,cu)},RE=(o,r,a)=>{a(o,r.element);const l=Or(r.element);gt(l,d=>{r.getByDom(d).each(yf)})},ME=o=>{const r=Or(o.element);gt(r,a=>{o.getByDom(a).each(qi)}),Ad(o.element)},BE=(o,r,a)=>{a.fold(()=>Vo(o,r),l=>{In(l,r)||(Bi(l,r),Ad(l))})},k_=(o,r,a)=>{const l=Ee(r,a),d=Or(o);return gt(d.slice(l.length),Ad),l},IE=(o,r,a,l)=>{const d=ds(o,r),m=l(a,d),p=((b,x,w)=>ds(b,x).map(E=>{if(w.exists(C=>!In(C,E))){const C=w.map(Ut).getOr("span"),T=Yl(C);return Bi(E,T),T}return E}))(o,r,d);return BE(o,m.element,p),m},ny=(o,r)=>{const a=Aa(r),l=Al(a).bind(m=>{const p=b=>In(m,b);return p(r)?A.some(r):((b,x)=>{const w=E=>{for(let C=0;C<E.childNodes.length;C++){const T=Ft(E.childNodes[C]);if(x(T))return A.some(T);const B=w(E.childNodes[C]);if(B.isSome())return B}return A.none()};return w(b.dom)})(r,p)}),d=o(r);return l.each(m=>{Al(a).filter(p=>In(p,m)).fold(()=>{Ws(m)},xe)}),d},PE=(o,r)=>{ny(()=>{((a,l,d)=>{const m=a.components();(x=>{gt(x.components(),w=>Ad(w.element)),cg(x.element),x.syncComponents()})(a);const p=d(l),b=on(m,p);gt(b,x=>{qi(x),a.getSystem().removeFromWorld(x)}),gt(p,x=>{Zr(x)?x1(a,x):(a.getSystem().addToWorld(x),x1(a,x),za(a.element)&&yf(x))}),a.syncComponents()})(o,r,()=>Ee(r,o.getSystem().build))},o.element)},LE=(o,r)=>{ny(()=>{((a,l)=>{const d=a.components(),m=Uo(l,x=>Hl(x).toArray());gt(d,x=>{Et(m,x)||wf(x)});const p=((x,w,E)=>k_(x,w,(C,T)=>IE(x,T,C,E)))(o.element,r,o.getSystem().buildOrPatch),b=on(d,p);gt(b,x=>{Zr(x)&&wf(x)}),gt(p,x=>{Zr(x)||Ke(a,x)}),a.syncComponents()})(o,r)},o.element)},FE=(o,r,a,l)=>{wf(r);const d=IE(o.element,a,l,o.getSystem().buildOrPatch);Ke(o,d),o.syncComponents()},H0=(o,r,a)=>{const l=o.getSystem().build(a);ty(o,l,r)},$7=(o,r,a,l)=>{Cf(r),H0(o,(d,m)=>((p,b,x)=>{ds(p,x).fold(()=>{Vo(p,b)},w=>{Bi(w,b)})})(d,m,a),l)},Wx=(o,r)=>o.components(),zE=(o,r,a,l,d)=>{const m=Wx(o);return A.from(m[l]).map(p=>(d.fold(()=>Cf(p),b=>{(r.reuseDom?FE:$7)(o,p,l,b)}),p))};var S_=Object.freeze({__proto__:null,append:(o,r,a,l)=>{H0(o,Vo,l)},prepend:(o,r,a,l)=>{H0(o,Ed,l)},remove:(o,r,a,l)=>{const d=Wx(o);z(d,p=>In(l.element,p.element)).each(Cf)},replaceAt:zE,replaceBy:(o,r,a,l,d)=>{const m=Wx(o);return dr(m,l).bind(p=>zE(o,r,0,p,d))},set:(o,r,a,l)=>(r.reuseDom?LE:PE)(o,l),contents:Wx});const Ao=qa({fields:[Ua("reuseDom",!0)],name:"replacing",apis:S_}),HE=Wn([(o=>({key:o,value:dc({can:(r,a)=>{const l=a.event,d=l.originator,m=l.target;return!((p,b,x)=>In(b,p.element)&&!In(b,x))(r,d,m)||(console.warn(Oc()+` did not get interpreted by the desired target. 
Originator: `+Wt(d)+`
Target: `+Wt(m)+`
Check the `+Oc()+" event handlers"),!1)}})}))(Oc())]);var VE=Object.freeze({__proto__:null,events:HE});const U7=ne("alloy-id-"),$E=ne("data-alloy-id"),Z7=U7(),UE=$E(),sy=(o,r)=>{Object.defineProperty(o.dom,UE,{value:r,writable:!0})},V0=o=>{const r=Ho(o)?o.dom[UE]:null;return A.from(r)},$0=o=>Oe(o),E_=Ct,ry=o=>{const r=d=>`The component must be in a context to execute: ${d}`+(o?`
`+Wt(o().element)+" is not in context.":""),a=d=>()=>{throw new Error(r(d))},l=d=>()=>{console.warn(r(d))};return{debugInfo:ne("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Qe}},j7=ry(),ZE=(o,r)=>{const a={};return ur(o,(l,d)=>{ur(l,(m,p)=>{const b=Kt(a,p).getOr([]);a[p]=b.concat([r(d,m)])})}),a},A_=o=>o.cHandler,jE=(o,r)=>({name:o,handler:r}),WE=(o,r)=>{const a={};return gt(o,l=>{a[l.name()]=l.handlers(r)}),a},W7=(o,r,a)=>{const l=r[a];return l?((d,m,p,b)=>{try{const x=st(p,(w,E)=>{const C=w[m],T=E[m],B=b.indexOf(C),L=b.indexOf(T);if(B===-1)throw new Error("The ordering for "+d+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(b,null,2));if(L===-1)throw new Error("The ordering for "+d+" does not have an entry for "+T+`.
Order specified: `+JSON.stringify(b,null,2));return B<L?-1:L<B?1:0});return Fo.value(x)}catch(x){return Fo.error([x])}})("Event: "+a,"name",o,l).map(d=>(m=>({can:(x=>(...w)=>qo(x,(E,C)=>E&&(T=>T.can)(C).apply(void 0,w),!0))(m),abort:(x=>(...w)=>qo(x,(E,C)=>E||(T=>T.abort)(C).apply(void 0,w),!1))(m),run:(...x)=>{gt(m,w=>{w.run.apply(void 0,x)})}}))(Ee(d,m=>m.handler))):((d,m)=>Fo.error(["The event ("+d+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ee(m,p=>p.name),null,2)]))(a,o)},T_=(o,r)=>((a,l)=>{const d=(p=>{const b=[],x=[];return gt(p,w=>{w.fold(E=>{b.push(E)},E=>{x.push(E)})}),{errors:b,values:x}})(a);return d.errors.length>0?(m=d.errors,Fo.error(Is(m))):((p,b)=>p.length===0?Fo.value(b):Fo.value(Wo(b,nu.apply(void 0,p))))(d.values,l);var m})(Ya(o,(a,l)=>(a.length===1?Fo.value(a[0].handler):W7(a,r,l)).map(d=>{const m=(b=>{const x=(w=>yt(w)?{can:Jt,abort:Qe,run:w}:w)(b);return(w,E,...C)=>{const T=[w,E].concat(C);x.abort.apply(void 0,T)?E.stop():x.can.apply(void 0,T)&&x.run.apply(void 0,T)}})(d),p=a.length>1?Do(r[l],b=>Tn(a,x=>x.name===b)).join(" > "):a[0].name;return am(l,((b,x)=>({handler:b,purpose:x}))(m,p))})),{}),Fg="alloy.base.behaviour",q7=xo([lr("dom","dom",{tag:"required",process:{}},xo([ct("tag"),Pe("styles",{}),Pe("classes",[]),Pe("attributes",{}),kn("value"),kn("innerHtml")])),ct("components"),ct("uid"),Pe("events",{}),Pe("apis",{}),lr("eventOrder","eventOrder",(O_={[dl()]:["disabling",Fg,"toggling","typeaheadevents"],[Oc()]:[Fg,"focusing","keying"],[u0()]:[Fg,"disabling","toggling","representing","tooltipping"],[im()]:[Fg,"representing","streaming","invalidating"],[Ys()]:[Fg,"representing","item-events","toolbar-button-events","tooltipping"],[Nl()]:["focusing",Fg,"item-type-events"],[xu()]:["focusing",Fg,"item-type-events"],[$i()]:["item-type-events","tooltipping"],[uf()]:["receiving","reflecting","tooltipping"]},tx(ne(O_))),Ns()),kn("domModification")]),G7=o=>o.events,qE=(o,r)=>{const a=Zs(o),l=Zs(r),d=on(l,a),m=(p=>{const b={},x={};return tl(p,(w,E)=>!jo(r,E)||w!==r[E],hn(b),hn(x)),{t:b,f:x}})(o).t;return{toRemove:d,toSet:m}},K7=(o,r)=>{const a=r.filter(l=>Ut(l)===o.tag&&!(d=>d.innerHtml.isSome()&&d.domChildren.length>0)(o)&&!(d=>jo(d.dom,da))(l)).bind(l=>((d,m)=>{try{const p=((b,x)=>{const{class:w,style:E,...C}=(te=>qo(te.dom.attributes,(oe,de)=>(oe[de.name]=de.value,oe),{}))(x),{toSet:T,toRemove:B}=qE(b.attributes,C),L=Km(x),{toSet:Y,toRemove:W}=qE(b.styles,L),X=Qf(x),$=on(X,b.classes),U=on(b.classes,X);return gt(B,te=>qs(x,te)),qf(x,T),mu(x,U),ui(x,$),gt(W,te=>un(x,te)),Ei(x,Y),b.innerHtml.fold(()=>{const te=b.domChildren;((oe,de)=>{k_(oe,de,(he,ke)=>{const ze=ds(oe,ke);return BE(oe,he,ze),he})})(x,te)},te=>{tm(x,te)}),(()=>{const te=x,oe=b.value.getOrUndefined();oe!==la(te)&&Md(te,oe??"")})(),x})(d,m);return A.some(p)}catch{return A.none()}})(o,l)).getOrThunk(()=>(l=>{const d=Yl(l.tag);qf(d,l.attributes),mu(d,l.classes),Ei(d,l.styles),l.innerHtml.each(p=>tm(d,p));const m=l.domChildren;return ig(d,m),l.value.each(p=>{Md(d,p)}),d})(o));return sy(a,o.uid),a},Y7=o=>{const r=(a=>{const l=Kt(a,"behaviours").getOr({});return Uo(Zs(l),d=>{const m=l[d];return Ne(m)?[m.me]:[]})})(o);return((a,l)=>((d,m)=>{const p=Ee(m,x=>ll(x.name(),[ct("config"),Pe("state",Mc)])),b=Hs("component.behaviours",xo(p),d.behaviours).fold(x=>{throw new Error(sf(x)+`
Complete spec:
`+JSON.stringify(d,null,2))},Ct);return{list:m,data:Ss(b,x=>{const w=x.map(E=>({config:E.config,state:E.state.init(E.config)}));return ne(w)})}})(a,l))(o,r)},X7=(o,r)=>{const a=()=>T,l=Vt(j7),d=Ol((B=>Hs("custom.definition",q7,B))(o)),m=Y7(o),p=(B=>B.list)(m),b=(B=>B.data)(m),x=((B,L,Y)=>{const W={...(X=B).dom,uid:X.uid,domChildren:Ee(X.components,he=>he.element)};var X;const $=(he=>he.domModification.fold(()=>fl({}),fl))(B),U={"alloy.base.modification":$},te=L.length>0?((he,ke,ze,tt)=>{const Je={...ke};gt(ze,$o=>{Je[$o.name()]=$o.exhibit(he,tt)});const rt=ZE(Je,($o,gs)=>({name:$o,modification:gs})),bt=$o=>So($o,(gs,Ms)=>({...Ms.modification,...gs}),{}),Xt=So(rt.classes,($o,gs)=>gs.modification.concat($o),[]),no=bt(rt.attributes),po=bt(rt.styles);return fl({classes:Xt,attributes:no,styles:po})})(Y,U,L,W):$;return oe=W,de=te,{...oe,attributes:{...oe.attributes,...de.attributes},styles:{...oe.styles,...de.styles},classes:oe.classes.concat(de.classes)};var oe,de})(d,p,b),w=K7(x,r),E=((B,L,Y)=>{const W={"alloy.base.behaviour":G7(B)};return((X,$,U,te)=>{const oe=((de,he,ke)=>{const ze={...ke,...WE(he,de)};return ZE(ze,jE)})(X,U,te);return T_(oe,$)})(Y,B.eventOrder,L,W).getOrDie()})(d,p,b),C=Vt(d.components),T={uid:o.uid,getSystem:l.get,config:B=>{const L=b;return(yt(L[B.name()])?L[B.name()]:()=>{throw new Error("Could not find "+B.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:B=>yt(b[B.name()]),spec:o,readState:B=>b[B]().map(L=>L.state.readState()).getOr("not enabled"),getApis:()=>d.apis,connect:B=>{l.set(B)},disconnect:()=>{l.set(ry(a))},element:w,syncComponents:()=>{const B=Or(w),L=Uo(B,Y=>l.get().getByDom(Y).fold(()=>[],Yo));C.set(L)},components:C.get,events:E};return T},$s=o=>{const r=Ku(o);return GE({element:r})},GE=o=>{const r=mi("external.component",ac([ct("element"),kn("uid")]),o),a=Vt(ry()),l=r.uid.getOrThunk(()=>$0("external"));sy(r.element,l);const d={uid:l,getSystem:a.get,config:A.none,hasConfigured:Qe,connect:m=>{a.set(m)},disconnect:()=>{a.set(ry(()=>d))},getApis:()=>({}),element:r.element,spec:o,readState:ne("No state"),syncComponents:xe,components:ne([]),events:{}};return Ba(d)},Q7=$0,D_=(o,r)=>Hl(o).getOrThunk(()=>((a,l)=>{const{events:d,...m}=E_(a),p=((x,w)=>{const E=Kt(x,"components").getOr([]);return w.fold(()=>Ee(E,Gi),C=>Ee(E,(T,B)=>D_(T,ds(C,B))))})(m,l),b={...m,events:{...VE,...d},components:p};return Fo.value(X7(b,l))})((a=>jo(a,"uid"))(o)?o:{uid:Q7(""),...o},r).getOrDie()),Gi=o=>D_(o,A.none()),cd=Ba;var O_,KE=Object.freeze({__proto__:null,block:(o,r,a,l)=>{bo(o.element,"aria-busy",!0);const d=r.getRoot(o).getOr(o),m=pt([Bt.config({mode:"special",onTab:()=>A.some(!0),onShiftTab:()=>A.some(!0)}),mo.config({})]),p=l(d,m),b=d.getSystem().build(p);Ao.append(d,cd(b)),b.hasConfigured(Bt)&&r.focus&&Bt.focusIn(b),a.isBlocked()||r.onBlock(o),a.blockWith(()=>Ao.remove(d,b))},unblock:(o,r,a)=>{qs(o.element,"aria-busy"),a.isBlocked()&&r.onUnblock(o),a.clear()},isBlocked:(o,r,a)=>a.isBlocked()}),YE=[mn("getRoot",A.none),Ua("focus",!0),fn("onBlock"),fn("onUnblock")];const Cm=qa({fields:YE,name:"blocking",apis:KE,state:Object.freeze({__proto__:null,init:()=>{const o=Ps(r=>r.destroy());return Ti({readState:o.isSet,blockWith:r=>{o.set({destroy:r})},clear:o.clear,isBlocked:o.isSet})}})});var XE=Object.freeze({__proto__:null,getCurrent:(o,r,a)=>r.find(o)});const J7=[ct("find")],vn=qa({fields:J7,name:"composing",apis:XE});var eN=Object.freeze({__proto__:null,getCoupled:(o,r,a,l)=>a.getOrCreate(o,r,l),getExistingCoupled:(o,r,a,l)=>a.getExisting(o,r,l)}),tN=[il("others",hg(Fo.value,Ns()))],N_=Object.freeze({__proto__:null,init:()=>{const o={},r=(l,d)=>{if(Zs(l.others).length===0)throw new Error("Cannot find any known coupled components");return Kt(o,d)},a=ne({});return Ti({readState:a,getExisting:(l,d,m)=>r(d,m).orThunk(()=>(Kt(d.others,m).getOrDie("No information found for coupled component: "+m),A.none())),getOrCreate:(l,d,m)=>r(d,m).getOrThunk(()=>{const p=Kt(d.others,m).getOrDie("No information found for coupled component: "+m)(l),b=l.getSystem().build(p);return o[m]=b,b})})}});const _r=qa({fields:tN,name:"coupling",apis:eN,state:N_}),oN=["input","button","textarea","select"],QE=(o,r,a)=>{(r.disabled()?M_:B_)(o,r)},ay=(o,r)=>r.useNative===!0&&Et(oN,Ut(o.element)),nN=o=>{bo(o.element,"disabled","disabled")},sN=o=>{qs(o.element,"disabled")},R_=o=>{bo(o.element,"aria-disabled","true")},rN=o=>{bo(o.element,"aria-disabled","false")},M_=(o,r,a)=>{r.disableClass.each(l=>{ls(o.element,l)}),(ay(o,r)?nN:R_)(o),r.onDisabled(o)},B_=(o,r,a)=>{r.disableClass.each(l=>{vs(o.element,l)}),(ay(o,r)?sN:rN)(o),r.onEnabled(o)},I_=(o,r)=>ay(o,r)?(a=>Gf(a.element,"disabled"))(o):(a=>yr(a.element,"aria-disabled")==="true")(o);var Yt=Object.freeze({__proto__:null,enable:B_,disable:M_,isDisabled:I_,onLoad:QE,set:(o,r,a,l)=>{(l?M_:B_)(o,r)}}),iy=Object.freeze({__proto__:null,exhibit:(o,r)=>fl({classes:r.disabled()?r.disableClass.toArray():[]}),events:(o,r)=>Wn([bf(dl(),(a,l)=>I_(a,o)),s1(o,r,QE)])}),JE=[mn("disabled",Qe),Pe("useNative",!0),kn("disableClass"),fn("onDisabled"),fn("onEnabled")];const eo=qa({fields:JE,name:"disabling",active:iy,apis:Yt}),Nu=(o,r,a,l,d)=>{const m=p=>p+"px";return{position:o,left:r.map(m),top:a.map(m),right:l.map(m),bottom:d.map(m)}},eA=(o,r)=>{Td(o,(a=>({...a,position:A.some(a.position)}))(r))},tA=(o,r)=>{const a=o.element;ls(a,r.transitionClass),vs(a,r.fadeOutClass),ls(a,r.fadeInClass),r.onShow(o)},aN=(o,r)=>{const a=o.element;ls(a,r.transitionClass),vs(a,r.fadeInClass),ls(a,r.fadeOutClass),r.onHide(o)},oA=(o,r)=>o.y>=r.y,P_=(o,r)=>o.bottom<=r.bottom,L_=(o,r,a)=>({location:"top",leftX:r,topY:a.bounds.y-o.y}),Ni=(o,r,a)=>({location:"bottom",leftX:r,bottomY:o.bottom-a.bounds.bottom}),v1=o=>o.box.x-o.win.x,F_=(o,r,a)=>a.getInitialPos().map(l=>{const d=((m,p)=>{const b=p.optScrollEnv.fold(ne(m.bounds.y),x=>x.scrollElmTop+(m.bounds.y-x.currentScrollTop));return us(m.bounds.x,b)})(l,r);return{box:zs(d.left,d.top,$a(o),Gs(o)),location:l.location}}),nA=(o,r,a,l,d)=>{const m=((b,x)=>{const w=x.optScrollEnv.fold(ne(b.y),E=>b.y+E.currentScrollTop-E.scrollElmTop);return us(b.x,w)})(r,a),p=zs(m.left,m.top,r.width,r.height);l.setInitialPos({style:Km(o),position:Ha(o,"position")||"static",bounds:p,location:d.location})},sA=(o,r,a)=>a.getInitialPos().bind(l=>{var d;switch(a.clearInitialPos(),l.position){case"static":return A.some({morph:"static"});case"absolute":const m=k(o).getOr(ue()),p=Js(m),b=(d=m.dom.scrollTop)!==null&&d!==void 0?d:0;return A.some({morph:"absolute",positionCss:Nu("absolute",Kt(l.style,"left").map(x=>r.x-p.x),Kt(l.style,"top").map(x=>r.y-p.y+b),Kt(l.style,"right").map(x=>p.right-r.right),Kt(l.style,"bottom").map(x=>p.bottom-r.bottom))});default:return A.none()}}),z_=o=>{switch(o.location){case"top":return A.some({morph:"fixed",positionCss:Nu("fixed",A.some(o.leftX),A.some(o.topY),A.none(),A.none())});case"bottom":return A.some({morph:"fixed",positionCss:Nu("fixed",A.some(o.leftX),A.none(),A.none(),A.some(o.bottomY))});default:return A.none()}},iN=(o,r,a)=>{const l=o.element;return Sa(ba(l,"position"),"fixed")?((d,m,p)=>((b,x,w)=>F_(b,x,w).filter(({box:E})=>((C,T,B)=>_i(C,L=>{switch(L){case"bottom":return P_(T,B.bounds);case"top":return oA(T,B.bounds)}}))(w.getModes(),E,x)).bind(({box:E})=>sA(b,E,w)))(d,m,p).orThunk(()=>m.optScrollEnv.bind(b=>F_(d,m,p)).bind(({box:b,location:x})=>{const w=Na(),E=v1({win:w,box:b}),C=x==="top"?L_(w,E,m):Ni(w,E,m);return z_(C)})))(l,r,a):((d,m,p)=>{const b=Js(d),x=Na(),w=((E,C,T)=>{const B=C.win,L=C.box,Y=v1(C);return ws(E,W=>{switch(W){case"bottom":return P_(L,T.bounds)?A.none():A.some(Ni(B,Y,T));case"top":return oA(L,T.bounds)?A.none():A.some(L_(B,Y,T));default:return A.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:x,box:b},m);return w.location==="top"||w.location==="bottom"?(nA(d,b,m,p,w),z_(w)):A.none()})(l,r,a)},H_=(o,r,a)=>{a.setDocked(!1),gt(["left","right","top","bottom","position"],l=>un(o.element,l)),r.onUndocked(o)},ly=(o,r,a,l)=>{const d=l.position==="fixed";a.setDocked(d),eA(o.element,l),(d?r.onDocked:r.onUndocked)(o)},rA=(o,r,a,l,d=!1)=>{r.contextual.each(m=>{m.lazyContext(o).each(p=>{const b=((x,w)=>x.y<w.bottom&&x.bottom>w.y)(p,l.bounds);b!==a.isVisible()&&(a.setVisible(b),d&&!b?(mu(o.element,[m.fadeOutClass]),m.onHide(o)):(b?tA:aN)(o,m))})})},V_=(o,r,a,l,d)=>{rA(o,r,a,l,!0),ly(o,r,a,d.positionCss)},cy=(o,r,a)=>{o.getSystem().isConnected()&&((l,d,m)=>{const p=d.lazyViewport(l);rA(l,d,m,p),iN(l,p,m).each(b=>{((x,w,E,C,T)=>{switch(T.morph){case"static":return H_(x,w,E);case"absolute":return ly(x,w,E,T.positionCss);case"fixed":V_(x,w,E,C,T)}})(l,d,m,p,b)})})(o,r,a)},aA=(o,r,a)=>{a.isDocked()&&((l,d,m)=>{const p=l.element;m.setDocked(!1);const b=d.lazyViewport(l);((x,w,E)=>{const C=x.element;return F_(C,w,E).bind(({box:T})=>sA(C,T,E))})(l,b,m).each(x=>{switch(x.morph){case"static":H_(l,d,m);break;case"absolute":ly(l,d,m,x.positionCss)}}),m.setVisible(!0),d.contextual.each(x=>{ui(p,[x.fadeInClass,x.fadeOutClass,x.transitionClass]),x.onShow(l)}),cy(l,d,m)})(o,r,a)},iA=o=>(r,a,l)=>{const d=a.lazyViewport(r);((m,p,b,x)=>{const w=Js(m),E=Na(),C=x(E,v1({win:E,box:w}),p);return C.location==="bottom"||C.location==="top"?(((T,B,L,Y,W)=>{Y.getInitialPos().fold(()=>nA(T,B,L,Y,W),()=>xe)})(m,w,p,b,C),z_(C)):A.none()})(r.element,d,l,o).each(m=>{V_(r,a,l,d,m)})},lN=iA(L_),cN=iA(Ni);var dN=Object.freeze({__proto__:null,refresh:cy,reset:aA,isDocked:(o,r,a)=>a.isDocked(),getModes:(o,r,a)=>a.getModes(),setModes:(o,r,a,l)=>a.setModes(l),forceDockToTop:lN,forceDockToBottom:cN}),$_=Object.freeze({__proto__:null,events:(o,r)=>Wn([hm(vg(),(a,l)=>{o.contextual.each(d=>{Ja(a.element,d.transitionClass)&&(ui(a.element,[d.transitionClass,d.fadeInClass]),(r.isVisible()?d.onShown:d.onHidden)(a)),l.stop()})}),et(m0(),(a,l)=>{cy(a,o,r)}),et(Fh(),(a,l)=>{cy(a,o,r)}),et(dm(),(a,l)=>{aA(a,o,r)})])}),lA=[ll("contextual",[wr("fadeInClass"),wr("fadeOutClass"),wr("transitionClass"),Hi("lazyContext"),fn("onShow"),fn("onShown"),fn("onHide"),fn("onHidden")]),mn("lazyViewport",()=>({bounds:Na(),optScrollEnv:A.none()})),bu("modes",["top","bottom"],Rr),fn("onDocked"),fn("onUndocked")];const Xs=qa({fields:lA,name:"docking",active:$_,apis:dN,state:Object.freeze({__proto__:null,init:o=>{const r=Vt(!1),a=Vt(!0),l=Bn(),d=Vt(o.modes);return Ti({isDocked:r.get,setDocked:r.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:a.get,setVisible:a.set,getModes:d.get,setModes:d.set,readState:()=>`docked:  ${r.get()}, visible: ${a.get()}, modes: ${d.get().join(",")}`})}})}),dy=Ir([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),uy=o=>r=>r.translate(-o.left,-o.top),my=o=>r=>r.translate(o.left,o.top),Np=o=>(r,a)=>qo(o,(l,d)=>d(l),us(r,a)),qx=(o,r,a)=>o.fold(Np([my(a),uy(r)]),Np([uy(r)]),Np([])),U0=(o,r,a)=>o.fold(Np([my(a)]),Np([]),Np([my(r)])),cA=(o,r,a)=>o.fold(Np([]),Np([uy(a)]),Np([my(r),uy(a)])),U_=(o,r,a)=>{const l=o.fold((d,m)=>({position:A.some("absolute"),left:A.some(d+"px"),top:A.some(m+"px")}),(d,m)=>({position:A.some("absolute"),left:A.some(d-a.left+"px"),top:A.some(m-a.top+"px")}),(d,m)=>({position:A.some("fixed"),left:A.some(d+"px"),top:A.some(m+"px")}));return{right:A.none(),bottom:A.none(),...l}},Z_=(o,r,a,l)=>{const d=(m,p)=>(b,x)=>{const w=m(r,a,l);return p(b.getOr(w.left),x.getOr(w.top))};return o.fold(d(cA,fy),d(U0,Rp),d(qx,y1))},fy=dy.offset,Rp=dy.absolute,y1=dy.fixed,w1=(o,r)=>{const a=yr(o,r);return $t(a)?NaN:parseInt(a,10)},uN=(o,r,a,l,d,m)=>{const p=((w,E,C,T)=>((B,L)=>{const Y=B.element,W=w1(Y,L.leftAttr),X=w1(Y,L.topAttr);return isNaN(W)||isNaN(X)?A.none():A.some(us(W,X))})(w,E).fold(()=>C,B=>y1(B.left+T.left,B.top+T.top)))(o,r,a,l),b=r.mustSnap?mN(o,r,p,d,m):Gx(o,r,p,d,m),x=qx(p,d,m);return((w,E,C)=>{const T=w.element;bo(T,E.leftAttr,C.left+"px"),bo(T,E.topAttr,C.top+"px")})(o,r,x),b.fold(()=>({coord:y1(x.left,x.top),extra:A.none()}),w=>({coord:w.output,extra:w.extra}))},py=(o,r,a,l)=>ws(o,d=>{const m=d.sensor;return((b,x,w,E,C,T)=>{const B=U0(b,C,T),L=U0(x,C,T);return Math.abs(B.left-L.left)<=w&&Math.abs(B.top-L.top)<=E})(r,m,d.range.left,d.range.top,a,l)?A.some({output:Z_(d.output,r,a,l),extra:d.extra}):A.none()}),mN=(o,r,a,l,d)=>{const m=r.getSnapPoints(o);return py(m,a,l,d).orThunk(()=>qo(m,(b,x)=>{const w=x.sensor,E=((C,T,B,L,Y,W)=>{const X=U0(C,Y,W),$=U0(T,Y,W),U=Math.abs(X.left-$.left),te=Math.abs(X.top-$.top);return us(U,te)})(a,w,x.range.left,x.range.top,l,d);return b.deltas.fold(()=>({deltas:A.some(E),snap:A.some(x)}),C=>(E.left+E.top)/2<=(C.left+C.top)/2?{deltas:A.some(E),snap:A.some(x)}:b)},{deltas:A.none(),snap:A.none()}).snap.map(b=>({output:Z_(b.output,a,l,d),extra:b.extra})))},Gx=(o,r,a,l,d)=>{const m=r.getSnapPoints(o);return py(m,a,l,d)};var fN=Object.freeze({__proto__:null,snapTo:(o,r,a,l)=>{const d=r.getTarget(o.element);if(r.repositionTarget){const m=jt(o.element),p=Pi(m),b=R(d),x=((E,C,T)=>({coord:Z_(E.output,E.output,C,T),extra:E.extra}))(l,p,b),w=U_(x.coord,0,b);Td(d,w)}}});const si=(o,r)=>l0(o,{},Ee(r,a=>{return l=a.name(),d="Cannot configure "+a.name()+" for "+o,lr(l,l,{tag:"option",process:{}},Ks(m=>Ro("The field: "+l+" is forbidden. "+d)));var l,d}).concat([Vr("dump",Ct)])),j_=o=>o.dump,bi=(o,r)=>({...pt(r),...o.dump}),Z0=si,zg=bi,dA=(o,r,a,l,d)=>{const m=((p,b)=>(p.length>0?[hu("parts",p)]:[]).concat([ct("uid"),Pe("dom",{}),Pe("components",[]),or("originalSpec"),Pe("debug.sketcher",{})]).concat(b))(l,d);return mi(o+" [SpecSchema]",ac(m.concat(r)),a)},W_=(o,r,a,l,d)=>{const m=uA(d),p=hp(a),b=hx(a),x=dA(o,r,m,p,[b]),w=px(0,x,a);return l(x,qh(o,x,w.internals()),m,w.externals())},uA=o=>(r=>jo(r,"uid"))(o)?o:{...o,uid:$0("uid")},pN=ac([ct("name"),ct("factory"),ct("configFields"),Pe("apis",{}),Pe("extraApis",{})]),gN=ac([ct("name"),ct("factory"),ct("configFields"),ct("partFields"),Pe("apis",{}),Pe("extraApis",{})]),dd=o=>{const r=mi("Sketcher for "+o.name,pN,o),a=Ss(r.apis,Ud),l=Ss(r.extraApis,(d,m)=>lc(d,m));return{name:r.name,configFields:r.configFields,sketch:d=>((m,p,b,x)=>{const w=uA(x);return b(dA(m,p,w,[],[]),w)})(r.name,r.configFields,r.factory,d),...a,...l}},Ki=o=>{const r=mi("Sketcher for "+o.name,gN,o),a=mx(r.name,r.partFields),l=Ss(r.apis,Ud),d=Ss(r.extraApis,(m,p)=>lc(m,p));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:m=>W_(r.name,r.configFields,r.partFields,r.factory,m),parts:a,...l,...d}},_m=dd({name:"Container",factory:o=>{const{attributes:r,...a}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...a},components:o.components,behaviours:j_(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Pe("components",[]),si("containerBehaviours",[]),Pe("events",{}),Pe("domModification",{}),Pe("eventOrder",{})]}),gy="data-initial-z-index",Kx=(o,r)=>{o.getSystem().addToGui(r),(a=>{Pn(a.element).filter(Ho).each(l=>{ba(l,"z-index").each(d=>{bo(l,gy,d)}),Eo(l,"z-index",Ha(a.element,"z-index"))})})(r)},hN=o=>{(r=>{Pn(r.element).filter(Ho).each(a=>{Ta(a,gy).fold(()=>un(a,"z-index"),l=>Eo(a,"z-index",l)),qs(a,gy)})})(o),o.getSystem().removeFromGui(o)},mA=(o,r,a)=>o.getSystem().build(_m.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:a}));var bN=ll("snaps",[ct("getSnapPoints"),fn("onSensor"),ct("leftAttr"),ct("topAttr"),Pe("lazyViewport",Na),Pe("mustSnap",!1)]);const q_=[Pe("useFixed",Qe),ct("blockerClass"),Pe("getTarget",Ct),Pe("onDrag",xe),Pe("repositionTarget",!0),Pe("onDrop",xe),mn("getBounds",Na),bN],fA=o=>{return(r=ba(o,"left"),a=ba(o,"top"),l=ba(o,"position"),r.isSome()&&a.isSome()&&l.isSome()?A.some(((d,m,p)=>(p==="fixed"?y1:fy)(parseInt(d,10),parseInt(m,10)))(r.getOrDie(),a.getOrDie(),l.getOrDie())):A.none()).getOrThunk(()=>{const d=fr(o);return Rp(d.left,d.top)});var r,a,l},G_=(o,r)=>({bounds:o.getBounds(),height:rl(r.element),width:No(r.element)}),K_=(o,r,a,l,d)=>{const m=a.update(l,d),p=a.getStartData().getOrThunk(()=>G_(r,o));m.each(b=>{((x,w,E,C)=>{const T=w.getTarget(x.element);if(w.repositionTarget){const B=jt(x.element),L=Pi(B),Y=R(T),W=fA(T),X=((U,te,oe,de,he,ke,ze)=>((tt,Je,rt,bt,Xt)=>{const no=Xt.bounds,po=U0(Je,rt,bt),$o=Lr(po.left,no.x,no.x+no.width-Xt.width),gs=Lr(po.top,no.y,no.y+no.height-Xt.height),Ms=Rp($o,gs);return Je.fold(()=>{const Rn=cA(Ms,rt,bt);return fy(Rn.left,Rn.top)},ne(Ms),()=>{const Rn=qx(Ms,rt,bt);return y1(Rn.left,Rn.top)})})(0,te.fold(()=>{const tt=(Je=oe,rt=ke.left,bt=ke.top,Je.fold((no,po)=>fy(no+rt,po+bt),(no,po)=>Rp(no+rt,po+bt),(no,po)=>y1(no+rt,po+bt)));var Je,rt,bt;const Xt=qx(tt,de,he);return y1(Xt.left,Xt.top)},tt=>{const Je=uN(U,tt,oe,ke,de,he);return Je.extra.each(rt=>{tt.onSensor(U,rt)}),Je.coord}),de,he,ze))(x,w.snaps,W,L,Y,C,E),$=U_(X,0,Y);Td(T,$)}w.onDrag(x,T,C)})(o,r,p,b)})},pA=(o,r,a,l)=>{r.each(hN),a.snaps.each(m=>{((p,b)=>{((x,w)=>{const E=x.element;qs(E,w.leftAttr),qs(E,w.topAttr)})(p,b)})(o,m)});const d=a.getTarget(o.element);l.reset(),a.onDrop(o,d)},Y_=o=>(r,a)=>{const l=d=>{a.setStartData(G_(r,d))};return Wn([et(m0(),d=>{a.getStartData().each(()=>l(d))}),...o(r,a,l)])};var xN=Object.freeze({__proto__:null,getData:o=>A.from(us(o.x,o.y)),getDelta:(o,r)=>us(r.left-o.left,r.top-o.top)});const gA=(o,r,a)=>[et(Nl(),(l,d)=>{if(d.event.raw.button!==0)return;d.stop();const m=()=>pA(l,A.some(x),o,r),p=Ts(m,200),b={drop:m,delayDrop:p.schedule,forceDrop:m,move:w=>{p.cancel(),K_(l,o,r,xN,w)}},x=mA(l,o.blockerClass,(w=>Wn([et(Nl(),w.forceDrop),et(rx(),w.drop),et(Bh(),(E,C)=>{w.move(C.event)}),et(lf(),w.delayDrop)]))(b));a(l),Kx(l,x)})],vN=[...q_,ms("dragger",{handlers:Y_(gA)})];var hA=Object.freeze({__proto__:null,getData:o=>{const r=o.raw.touches;return r.length===1?(a=>{const l=a[0];return A.some(us(l.clientX,l.clientY))})(r):A.none()},getDelta:(o,r)=>us(r.left-o.left,r.top-o.top)});const Yx=(o,r,a)=>{const l=Bn(),d=m=>{pA(m,l.get(),o,r),l.clear()};return[et(xu(),(m,p)=>{p.stop();const b=()=>d(m),x={drop:b,delayDrop:xe,forceDrop:b,move:E=>{K_(m,o,r,hA,E)}},w=mA(m,o.blockerClass,(E=>Wn([et(xu(),E.forceDrop),et(af(),E.drop),et(nd(),E.drop),et(dp(),(C,T)=>{E.move(T.event)})]))(x));l.set(w),a(m),Kx(m,w)}),et(dp(),(m,p)=>{p.stop(),K_(m,o,r,hA,p.event)}),et(af(),(m,p)=>{p.stop(),d(m)}),et(nd(),d)]},yN=vN,wN=[...q_,ms("dragger",{handlers:Y_(Yx)})],CN=[...q_,ms("dragger",{handlers:Y_((o,r,a)=>[...gA(o,r,a),...Yx(o,r,a)])})];var _N=Object.freeze({__proto__:null,mouse:yN,touch:wN,mouseOrTouch:CN}),kN=Object.freeze({__proto__:null,init:()=>{let o=A.none(),r=A.none();const a=ne({});return Ti({readState:a,reset:()=>{o=A.none(),r=A.none()},update:(l,d)=>l.getData(d).bind(m=>((p,b)=>{const x=o.map(w=>p.getDelta(w,b));return o=A.some(b),x})(l,m)),getStartData:()=>r,setStartData:l=>{r=A.some(l)}})}});const C1=Px({branchKey:"mode",branches:_N,name:"dragging",active:{events:(o,r)=>o.dragger.handlers(o,r)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:A.from(o.extra)})},state:kN,apis:fN}),SN=["input","textarea"],bA=o=>{const r=Ut(o);return Et(SN,r)},xA=(o,r)=>{const a=r.getRoot(o).getOr(o.element);vs(a,r.invalidClass),r.notify.each(l=>{bA(o.element)&&bo(o.element,"aria-invalid",!1),l.getContainer(o).each(d=>{tm(d,l.validHtml)}),l.onValid(o)})},vA=(o,r,a,l)=>{const d=r.getRoot(o).getOr(o.element);ls(d,r.invalidClass),r.notify.each(m=>{bA(o.element)&&bo(o.element,"aria-invalid",!0),m.getContainer(o).each(p=>{tm(p,l)}),m.onInvalid(o,l)})},yA=(o,r,a)=>r.validator.fold(()=>Tr(Fo.value(!0)),l=>l.validate(o)),X_=(o,r,a)=>(r.notify.each(l=>{l.onValidate(o)}),yA(o,r).map(l=>o.getSystem().isConnected()?l.fold(d=>(vA(o,r,0,d),Fo.error(d)),d=>(xA(o,r),Fo.value(d))):Fo.error("No longer in system")));var wA=Object.freeze({__proto__:null,markValid:xA,markInvalid:vA,query:yA,run:X_,isInvalid:(o,r)=>{const a=r.getRoot(o).getOr(o.element);return Ja(a,r.invalidClass)}}),EN=Object.freeze({__proto__:null,events:(o,r)=>o.validator.map(a=>Wn([et(a.onEvent,l=>{X_(l,o).get(Ct)})].concat(a.validateOnLoad?[ts(l=>{X_(l,o).get(xe)})]:[]))).getOr({})}),AN=[ct("invalidClass"),Pe("getRoot",A.none),ll("notify",[Pe("aria","alert"),Pe("getContainer",A.none),Pe("validHtml",""),fn("onValid"),fn("onInvalid"),fn("onValidate")]),ll("validator",[ct("validate"),Pe("onEvent","input"),Pe("validateOnLoad",!0)])];const Q_=(o,r,a)=>{r.store.manager.onLoad(o,r,a)},CA=(o,r,a)=>{r.store.manager.onUnload(o,r,a)};var _A=Object.freeze({__proto__:null,onLoad:Q_,onUnload:CA,setValue:(o,r,a,l)=>{r.store.manager.setValue(o,r,a,l)},getValue:(o,r,a)=>r.store.manager.getValue(o,r,a),getState:(o,r,a)=>a}),TN=Object.freeze({__proto__:null,events:(o,r)=>{const a=o.resetOnDom?[ts((l,d)=>{Q_(l,o,r)}),ad((l,d)=>{CA(l,o,r)})]:[s1(o,r,Q_)];return Wn(a)}});const kA=()=>{const o=Vt(null);return Ti({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},SA=()=>{const o=Vt({}),r=Vt({});return Ti({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:r.get()}),lookup:a=>Kt(o.get(),a).orThunk(()=>Kt(r.get(),a)),update:a=>{const l=o.get(),d=r.get(),m={},p={};gt(a,b=>{m[b.value]=b,Kt(b,"meta").each(x=>{Kt(x,"text").each(w=>{p[w]=b})})}),o.set({...l,...m}),r.set({...d,...p})},clear:()=>{o.set({}),r.set({})}})};var DN=Object.freeze({__proto__:null,memory:kA,dataset:SA,manual:()=>Ti({readState:xe}),init:o=>o.store.manager.state(o)});const EA=(o,r,a,l)=>{const d=r.store;a.update([l]),d.setValue(o,l),r.onSetValue(o,l)};var AA=[kn("initialValue"),ct("getFallbackEntry"),ct("getDataKey"),ct("setValue"),ms("manager",{setValue:EA,getValue:(o,r,a)=>{const l=r.store,d=l.getDataKey(o);return a.lookup(d).getOrThunk(()=>l.getFallbackEntry(d))},onLoad:(o,r,a)=>{r.store.initialValue.each(l=>{EA(o,r,a,l)})},onUnload:(o,r,a)=>{a.clear()},state:SA})],ON=[ct("getValue"),Pe("setValue",xe),kn("initialValue"),ms("manager",{setValue:(o,r,a,l)=>{r.store.setValue(o,l),r.onSetValue(o,l)},getValue:(o,r,a)=>r.store.getValue(o),onLoad:(o,r,a)=>{r.store.initialValue.each(l=>{r.store.setValue(o,l)})},onUnload:xe,state:Mc.init})],NN=[kn("initialValue"),ms("manager",{setValue:(o,r,a,l)=>{a.set(l),r.onSetValue(o,l)},getValue:(o,r,a)=>a.get(),onLoad:(o,r,a)=>{r.store.initialValue.each(l=>{a.isNotSet()&&a.set(l)})},onUnload:(o,r,a)=>{a.clear()},state:kA})],RN=[ti("store",{mode:"memory"},Fi("mode",{memory:NN,manual:ON,dataset:AA})),fn("onSetValue"),Pe("resetOnDom",!1)];const zt=qa({fields:RN,name:"representing",active:TN,apis:_A,extra:{setValueFrom:(o,r)=>{const a=zt.getValue(r);zt.setValue(o,a)}},state:DN}),Ru=qa({fields:AN,name:"invalidating",active:EN,apis:wA,extra:{validation:o=>r=>{const a=zt.getValue(r);return Tr(o(a))}}});var MN=Object.freeze({__proto__:null,exhibit:(o,r)=>fl({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const J_=Ir([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),TA=(o,r,a,l,d,m)=>{const p=r.rect,b=p.x-a,x=p.y-l,w=d-(b+p.width),E=m-(x+p.height),C=A.some(b),T=A.some(x),B=A.some(w),L=A.some(E),Y=A.none();return r.direction.fold(()=>Nu(o,C,T,Y,Y),()=>Nu(o,Y,T,B,Y),()=>Nu(o,C,Y,Y,L),()=>Nu(o,Y,Y,B,L),()=>Nu(o,C,T,Y,Y),()=>Nu(o,C,Y,Y,L),()=>Nu(o,C,T,Y,Y),()=>Nu(o,Y,T,B,Y))},Xx=(o,r)=>o.fold(()=>{const a=r.rect;return Nu("absolute",A.some(a.x),A.some(a.y),A.none(),A.none())},(a,l,d,m)=>TA("absolute",r,a,l,d,m),(a,l,d,m)=>TA("fixed",r,a,l,d,m)),ek=(o,r)=>{const a=yn(Oa,r),l=o.fold(a,a,()=>{const p=Pi();return Oa(r).translate(-p.left,-p.top)}),d=No(r),m=rl(r);return zs(l.left,l.top,d,m)},DA=(o,r)=>r.fold(()=>o.fold(Na,Na,zs),a=>o.fold(ne(a),ne(a),()=>{const l=tk(o,a.x,a.y);return zs(l.left,l.top,a.width,a.height)})),tk=(o,r,a)=>{const l=us(r,a);return o.fold(ne(l),ne(l),()=>{const d=Pi();return l.translate(-d.left,-d.top)})};J_.none;const OA=J_.relative,NA=J_.fixed,Qx=Ir([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),BN=(o,r,a,l)=>{const d=o.bubble,m=d.offset,p=((te,oe,de)=>{const he=(rt,bt)=>oe[rt].map(Xt=>{const no=rt==="top"||rt==="bottom",po=no?de.top:de.left,$o=(rt==="left"||rt==="top"?Math.max:Math.min)(Xt,bt)+po;return no?Lr($o,te.y,te.bottom):Lr($o,te.x,te.right)}).getOr(bt),ke=he("left",te.x),ze=he("top",te.y),tt=he("right",te.right),Je=he("bottom",te.bottom);return zs(ke,ze,tt-ke,Je-ze)})(l,o.restriction,m),b=o.x+m.left,x=o.y+m.top,w=zs(b,x,r,a),{originInBounds:E,sizeInBounds:C,visibleW:T,visibleH:B}=((te,oe)=>{const{x:de,y:he,right:ke,bottom:ze}=oe,{x:tt,y:Je,right:rt,bottom:bt,width:Xt,height:no}=te;return{originInBounds:tt>=de&&tt<=ke&&Je>=he&&Je<=ze,sizeInBounds:rt<=ke&&rt>=de&&bt<=ze&&bt>=he,visibleW:Math.min(Xt,tt>=de?ke-tt:rt-de),visibleH:Math.min(no,Je>=he?ze-Je:bt-he)}})(w,p),L=E&&C,Y=L?w:((te,oe)=>{const{x:de,y:he,right:ke,bottom:ze}=oe,{x:tt,y:Je,width:rt,height:bt}=te,Xt=Math.max(de,ke-rt),no=Math.max(he,ze-bt),po=Lr(tt,de,Xt),$o=Lr(Je,he,no),gs=Math.min(po+rt,ke)-po,Ms=Math.min($o+bt,ze)-$o;return zs(po,$o,gs,Ms)})(w,p),W=Y.width>0&&Y.height>0,{maxWidth:X,maxHeight:$}=((te,oe,de)=>{const he=ne(oe.bottom-de.y),ke=ne(de.bottom-oe.y),ze=((bt,Xt,no,po)=>bt.fold(Xt,Xt,po,po,Xt,po,no,no))(te,ke,ke,he),tt=ne(oe.right-de.x),Je=ne(de.right-oe.x);return{maxWidth:((bt,Xt,no,po)=>bt.fold(Xt,po,Xt,po,no,no,Xt,po))(te,Je,Je,tt),maxHeight:ze}})(o.direction,Y,l),U={rect:Y,maxHeight:$,maxWidth:X,direction:o.direction,placement:o.placement,classes:{on:d.classesOn,off:d.classesOff},layout:o.label,testY:x};return L||o.alwaysFit?Qx.fit(U):Qx.nofit(U,T,B,W)},RA=["top","bottom","right","left"],hy="data-alloy-transition-timer",IN=(o,r,a,l,d,m)=>{const p=((b,x,w)=>w.exists(E=>{const C=b.mode;return C==="all"||E[C]!==x[C]}))(l,d,m);if(p||((b,x)=>((w,E)=>_i(E,C=>Ja(w,C)))(b,x.classes))(o,l)){Eo(o,"position",a.position);const b=ek(r,o),x=Xx(r,{...d,rect:b}),w=Kn(RA,E=>x[E]);((E,C)=>{const T=B=>parseFloat(B).toFixed(3);return ki(C,(B,L)=>!((Y,W,X=pe)=>xr(Y,W,X).getOr(Y.isNone()&&W.isNone()))(E[L].map(T),B.map(T))).isSome()})(a,w)&&(Td(o,w),p&&((E,C)=>{mu(E,C.classes),Ta(E,hy).each(T=>{clearTimeout(parseInt(T,10)),qs(E,hy)}),((T,B)=>{const L=Cs(),Y=Cs();let W;const X=oe=>{var de;const he=(de=oe.raw.pseudoElement)!==null&&de!==void 0?de:"";return In(oe.target,T)&&sr(he)&&Et(RA,oe.raw.propertyName)},$=oe=>{if(xt(oe)||X(oe)){L.clear(),Y.clear();const de=oe==null?void 0:oe.raw.type;(xt(de)||de===vg())&&(clearTimeout(W),qs(T,hy),ui(T,B.classes))}},U=Jn(T,b_(),oe=>{X(oe)&&(U.unbind(),L.set(Jn(T,vg(),$)),Y.set(Jn(T,Ih(),$)))}),te=(oe=>{const de=tt=>{const Je=Ha(oe,tt).split(/\s*,\s*/);return Do(Je,Kl)},he=tt=>{if(Me(tt)&&/^[\d.]+/.test(tt)){const Je=parseFloat(tt);return Si(tt,"ms")?Je:1e3*Je}return 0},ke=de("transition-delay"),ze=de("transition-duration");return qo(ze,(tt,Je,rt)=>{const bt=he(ke[rt])+he(Je);return Math.max(tt,bt)},0)})(T);requestAnimationFrame(()=>{W=setTimeout($,te+17),bo(T,hy,W)})})(E,C)})(o,l),Va(o))}else ui(o,l.classes)},MA=(o,r,a)=>o[r]===void 0?a:o[r],_1=(o,r,a,l)=>{const d=((m,p,b,x)=>{un(p,"max-height"),un(p,"max-width");const w=(E=p,{width:Math.ceil(Xc(E)),height:rl(E)});var E;return((C,T,B,L,Y,W)=>{const X=L.width,$=L.height,U=(te,oe,de,he,ke)=>{const ze=te(B,L,Y,C,W),tt=BN(ze,X,$,W);return tt.fold(ne(tt),(Je,rt,bt,Xt)=>(ke===Xt?bt>he||rt>de:!ke&&Xt)?tt:Qx.nofit(oe,de,he,ke))};return qo(T,(te,oe)=>{const de=yn(U,oe);return te.fold(ne(te),de)},Qx.nofit({rect:B,maxHeight:L.height,maxWidth:L.width,direction:Kh(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:B.y},-1,-1,!1)).fold(Ct,Ct)})(p,x.preference,m,w,b,x.bounds)})(o,r,a,l);return((m,p,b)=>{const x=Xx(b.origin,p);b.transition.each(w=>{IN(m,b.origin,x,w,p,b.lastPlacement)}),eA(m,x)})(r,d,l),((m,p)=>{((b,x)=>{bo(b,Il,x)})(m,p.placement)})(r,d),((m,p)=>{const b=p.classes;ui(m,b.off),mu(m,b.on)})(r,d),((m,p,b)=>{(0,b.maxHeightFunction)(m,p.maxHeight)})(r,d,l),((m,p,b)=>{(0,b.maxWidthFunction)(m,p.maxWidth)})(r,d,l),{layout:d.layout,placement:d.placement}},by=Ct,Hg=()=>ll("layouts",[ct("onLtr"),ct("onRtl"),kn("onBottomLtr"),kn("onBottomRtl")]),xy=(o,r,a,l,d,m,p)=>{const b=p.map(Z2).getOr(!1),x=r.layouts.map(T=>T.onLtr(o)),w=r.layouts.map(T=>T.onRtl(o)),E=b?r.layouts.bind(T=>T.onBottomLtr.map(B=>B(o))).or(x).getOr(d):x.getOr(a),C=b?r.layouts.bind(T=>T.onBottomRtl.map(B=>B(o))).or(w).getOr(m):w.getOr(l);return Yf(E,C)(o)};var PN=[ct("hotspot"),kn("bubble"),Pe("overrides",{}),Hg(),ms("placement",(o,r,a)=>{const l=r.hotspot,d=ek(a,l.element),m=xy(o.element,r,Sx(),D0(),Yh(),Xh(),A.some(r.hotspot.element));return A.some(by({anchorBox:d,bubble:r.bubble.getOr(vx()),overrides:r.overrides,layouts:m}))})],BA=[ct("x"),ct("y"),Pe("height",0),Pe("width",0),Pe("bubble",vx()),Pe("overrides",{}),Hg(),ms("placement",(o,r,a)=>{const l=tk(a,r.x,r.y),d=zs(l.left,l.top,r.width,r.height),m=xy(o.element,r,fm(),ni(),fm(),ni(),A.none());return A.some(by({anchorBox:d,bubble:r.bubble,overrides:r.overrides,layouts:m}))})];const IA=Ir([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),LN=o=>o.fold(Ct,(r,a,l)=>r.translate(-a,-l)),PA=o=>o.fold(Ct,Ct),j0=o=>qo(o,(r,a)=>r.translate(a.left,a.top),us(0,0)),W0=o=>{const r=Ee(o,PA);return j0(r)},FN=IA.screen,ok=IA.absolute,LA=(o,r,a)=>{const l=jt(o.element),d=Pi(l),m=((p,b,x)=>{const w=zr(x.root).dom;return A.from(w.frameElement).map(Ft).filter(E=>{const C=jt(E),T=jt(p.element);return In(C,T)}).map(fr)})(o,0,a).getOr(d);return ok(m,d.left,d.top)},vy=(o,r,a,l)=>{const d=FN(us(o,r));return A.some(((m,p,b)=>({point:m,width:p,height:b}))(d,a,l))},nk=(o,r,a,l,d)=>o.map(m=>{const p=[r,m.point],b=(x=()=>W0(p),w=()=>W0(p),E=()=>(U=>{const te=Ee(U,LN);return j0(te)})(p),l.fold(x,w,E));var x,w,E;const C=(Y=b.left,W=b.top,X=m.width,$=m.height,{x:Y,y:W,width:X,height:$}),T=a.showAbove?Yh():Sx(),B=a.showAbove?Xh():D0(),L=xy(d,a,T,B,T,B,A.none());var Y,W,X,$;return by({anchorBox:C,bubble:a.bubble.getOr(vx()),overrides:a.overrides,layouts:L})});var FA=[ct("node"),ct("root"),kn("bubble"),Hg(),Pe("overrides",{}),Pe("showAbove",!1),ms("placement",(o,r,a)=>{const l=LA(o,0,r);return r.node.filter(za).bind(d=>{const m=d.dom.getBoundingClientRect(),p=vy(m.left,m.top,m.width,m.height),b=r.node.getOr(o.element);return nk(p,l,r,a,b)})})];const yy=(o,r)=>({element:o,offset:r}),zA=(o,r)=>I(o)?yy(o,r):((a,l)=>{const d=Or(a);if(d.length===0)return yy(a,l);if(l<d.length)return yy(d[l],0);{const m=d[d.length-1],p=I(m)?(b=>Xm.get(b))(m).length:Or(m).length;return yy(m,p)}})(o,r),sk=o=>o.foffset!==void 0,k1=(o,r)=>r.getSelection.getOrThunk(()=>()=>(a=>(l=>A.from(l.getSelection()))(a).filter(l=>l.rangeCount>0).bind(td))(o))().map(a=>{if(sk(a)){const l=zA(a.start,a.soffset),d=zA(a.finish,a.foffset);return Tc.range(l.element,l.offset,d.element,d.offset)}return a});var S1=[kn("getSelection"),ct("root"),kn("bubble"),Hg(),Pe("overrides",{}),Pe("showAbove",!1),ms("placement",(o,r,a)=>{const l=zr(r.root).dom,d=LA(o,0,r),m=k1(l,r).bind(b=>{if(sk(b))return((w,E)=>(C=>{const T=C.getBoundingClientRect();return T.width>0||T.height>0?A.some(T).map(wd):A.none()})(ar(w,E)))(l,Tc.exactFromRange(b)).orThunk(()=>{const w=Ku("\uFEFF");Bi(b.start,w);const E=sm(l,Tc.exact(w,0,w,1));return Ad(w),E}).bind(w=>vy(w.left,w.top,w.width,w.height));{const x=Ss(b,E=>E.dom.getBoundingClientRect()),w={left:Math.min(x.firstCell.left,x.lastCell.left),right:Math.max(x.firstCell.right,x.lastCell.right),top:Math.min(x.firstCell.top,x.lastCell.top),bottom:Math.max(x.firstCell.bottom,x.lastCell.bottom)};return vy(w.left,w.top,w.right-w.left,w.bottom-w.top)}}),p=k1(l,r).bind(b=>sk(b)?Ho(b.start)?A.some(b.start):aa(b.start):A.some(b.firstCell)).getOr(o.element);return nk(m,d,r,a,p)})];const E1="link-layout",q0=o=>o.x+o.width,HA=(o,r)=>o.x-r.width,Mp=(o,r)=>o.y-r.height+o.height,km=o=>o.y,wy=(o,r,a)=>ja(q0(o),km(o),a.southeast(),Kh(),"southeast",va(o,{left:0,top:2}),E1),rk=(o,r,a)=>ja(HA(o,r),km(o),a.southwest(),yx(),"southwest",va(o,{right:1,top:2}),E1),VA=(o,r,a)=>ja(q0(o),Mp(o,r),a.northeast(),A0(),"northeast",va(o,{left:0,bottom:3}),E1),ak=(o,r,a)=>ja(HA(o,r),Mp(o,r),a.northwest(),wx(),"northwest",va(o,{right:1,bottom:3}),E1),G0=()=>[wy,rk,VA,ak],K0=()=>[rk,wy,ak,VA];var ik=[ct("item"),Hg(),Pe("overrides",{}),ms("placement",(o,r,a)=>{const l=ek(a,r.item.element),d=xy(o.element,r,G0(),K0(),G0(),K0(),A.none());return A.some(by({anchorBox:l,bubble:vx(),overrides:r.overrides,layouts:d}))})],$A=Fi("type",{selection:S1,node:FA,hotspot:PN,submenu:ik,makeshift:BA});const Jx=[fi("classes",Rr),od("mode","all",["all","layout","placement"])],Cy=[Pe("useFixed",Qe),kn("getBounds")],zN=[il("anchor",$A),ll("transition",Jx)],_y=(o,r,a,l,d,m)=>{const p=mi("placement.info",xo(zN),d),b=p.anchor,x=l.element,w=a.get(l.uid);ny(()=>{Eo(x,"position","fixed");const E=ba(x,"visibility");Eo(x,"visibility","hidden");const C=r.useFixed()?(()=>{const T=document.documentElement;return NA(0,0,T.clientWidth,T.clientHeight)})():(T=>{const B=fr(T.element),L=T.element.dom.getBoundingClientRect();return OA(B.left,B.top,L.width,L.height)})(o);b.placement(o,b,C).each(T=>{const B=m.orThunk(()=>r.getBounds.map(tn)),L=((Y,W,X,$,U,te)=>((oe,de,he,ke,ze,tt,Je,rt)=>{const bt=MA(Je,"maxHeightFunction",Nx()),Xt=MA(Je,"maxWidthFunction",xe),no=oe.anchorBox,po=oe.origin,$o={bounds:DA(po,tt),origin:po,preference:ke,maxHeightFunction:bt,maxWidthFunction:Xt,lastPlacement:ze,transition:rt};return _1(no,de,he,$o)})(((oe,de)=>((he,ke)=>({anchorBox:he,origin:ke}))(oe,de))(W.anchorBox,Y),$.element,W.bubble,W.layouts,U,X,W.overrides,te))(C,T,B,l,w,p.transition);a.set(l.uid,L)}),E.fold(()=>{un(x,"visibility")},T=>{Eo(x,"visibility",T)}),ba(x,"left").isNone()&&ba(x,"top").isNone()&&ba(x,"right").isNone()&&ba(x,"bottom").isNone()&&Sa(ba(x,"position"),"fixed")&&un(x,"position")},x)};var ky=Object.freeze({__proto__:null,position:(o,r,a,l,d)=>{const m=A.none();_y(o,r,a,l,d,m)},positionWithinBounds:_y,getMode:(o,r,a)=>r.useFixed()?"fixed":"absolute",reset:(o,r,a,l)=>{const d=l.element;gt(["position","left","right","top","bottom"],m=>un(d,m)),(m=>{qs(m,Il)})(d),a.clear(l.uid)}});const Yi=qa({fields:Cy,name:"positioning",active:MN,apis:ky,state:Object.freeze({__proto__:null,init:()=>{let o={};return Ti({readState:()=>o,clear:r=>{Ne(r)?delete o[r]:o={}},set:(r,a)=>{o[r]=a},get:r=>Kt(o,r)})}})});var _f=Object.freeze({__proto__:null,events:o=>Wn([et(uf(),(r,a)=>{const l=o.channels,d=Zs(l),m=a,p=((b,x)=>x.universal?b:Do(b,w=>Et(x.channels,w)))(d,m);gt(p,b=>{const x=l[b],w=x.schema,E=mi("channel["+b+`] data
Receiver: `+Wt(r.element),w,m.data);x.onReceive(r,E)})})])}),UA=[il("channels",hg(Fo.value,ac([Ml("onReceive"),Pe("schema",Ns())])))];const Vl=qa({fields:UA,name:"receiving",active:_f});var Y0=Object.freeze({__proto__:null,events:(o,r)=>{const a=(l,d)=>{o.updateState.each(m=>{const p=m(l,d);r.set(p)}),o.renderComponents.each(m=>{const p=m(d,r.get());(o.reuseDom?LE:PE)(l,p)})};return Wn([et(uf(),(l,d)=>{const m=d;if(!m.universal){const p=o.channel;Et(m.channels,p)&&a(l,m.data)}}),ts((l,d)=>{o.initialData.each(m=>{a(l,m)})})])}}),ZA=Object.freeze({__proto__:null,getState:(o,r,a)=>a}),Sy=[ct("channel"),kn("renderComponents"),kn("updateState"),kn("initialData"),Ua("reuseDom",!0)];const Bc=qa({fields:Sy,name:"reflecting",active:Y0,apis:ZA,state:Object.freeze({__proto__:null,init:()=>{const o=Vt(A.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(A.none())}}})}),lk=(o,r,a,l)=>{a.get().each(p=>{__(o)});const d=r.getAttachPoint(o);Du(d,o);const m=o.getSystem().build(l);return Du(o,m),a.set(m),m},ck=(o,r,a,l)=>{const d=lk(o,r,a,l);return r.onOpen(o,d),d},jA=(o,r,a)=>{a.get().each(l=>{__(o),Cf(o),r.onClose(o,l),a.clear()})},Ey=(o,r,a)=>a.isOpen(),Sm=(o,r,a)=>{const l=r.getAttachPoint(o);Eo(o.element,"position",Yi.getMode(l)),((d,m,p)=>{ba(d.element,m).fold(()=>{qs(d.element,p)},b=>{bo(d.element,p,b)}),Eo(d.element,m,"hidden")})(o,"visibility",r.cloakVisibilityAttr)},WA=(o,r,a)=>{(l=>Tn(["top","left","right","bottom"],d=>ba(l,d).isSome()))(o.element)||un(o.element,"position"),((l,d,m)=>{Ta(l.element,m).fold(()=>un(l.element,d),p=>Eo(l.element,d,p))})(o,"visibility",r.cloakVisibilityAttr)};var HN=Object.freeze({__proto__:null,cloak:Sm,decloak:WA,open:ck,openWhileCloaked:(o,r,a,l,d)=>{Sm(o,r),ck(o,r,a,l),d(),WA(o,r)},close:jA,isOpen:Ey,isPartOf:(o,r,a,l)=>Ey(0,0,a)&&a.get().exists(d=>r.isPartOf(o,d,l)),getState:(o,r,a)=>a.get(),setContent:(o,r,a,l)=>a.get().map(()=>lk(o,r,a,l))}),qA=Object.freeze({__proto__:null,events:(o,r)=>Wn([et(Lh(),(a,l)=>{jA(a,o,r)})])}),GA=[fn("onOpen"),fn("onClose"),ct("isPartOf"),ct("getAttachPoint"),Pe("cloakVisibilityAttr","data-precloak-visibility")],KA=Object.freeze({__proto__:null,init:()=>{const o=Bn(),r=ne("not-implemented");return Ti({readState:r,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const Sn=qa({fields:GA,name:"sandboxing",active:qA,apis:HN,state:KA}),ev=(o,r)=>r.getAnimationRoot.fold(()=>o.element,a=>a(o)),xi=o=>o.dimension.property,Mu=(o,r)=>o.dimension.getDimension(r),tv=(o,r)=>{const a=ev(o,r);ui(a,[r.shrinkingClass,r.growingClass])},Vg=(o,r)=>{vs(o.element,r.openClass),ls(o.element,r.closedClass),Eo(o.element,xi(r),"0px"),Va(o.element)},gl=(o,r)=>{vs(o.element,r.closedClass),ls(o.element,r.openClass),un(o.element,xi(r))},uc=(o,r,a,l)=>{a.setCollapsed(),Eo(o.element,xi(r),Mu(r,o.element)),tv(o,r),Vg(o,r),r.onStartShrink(o),r.onShrunk(o)},hl=(o,r,a,l)=>{const d=l.getOrThunk(()=>Mu(r,o.element));a.setCollapsed(),Eo(o.element,xi(r),d),Va(o.element);const m=ev(o,r);vs(m,r.growingClass),ls(m,r.shrinkingClass),Vg(o,r),r.onStartShrink(o)},Zd=(o,r,a)=>{const l=Mu(r,o.element);(l==="0px"?uc:hl)(o,r,a,A.some(l))},Ay=(o,r,a)=>{const l=ev(o,r),d=Ja(l,r.shrinkingClass),m=Mu(r,o.element);gl(o,r);const p=Mu(r,o.element);(d?()=>{Eo(o.element,xi(r),m),Va(o.element)}:()=>{Vg(o,r)})(),vs(l,r.shrinkingClass),ls(l,r.growingClass),gl(o,r),Eo(o.element,xi(r),p),a.setExpanded(),r.onStartGrow(o)},ud=(o,r,a)=>{const l=ev(o,r);return Ja(l,r.growingClass)===!0},$g=(o,r,a)=>{const l=ev(o,r);return Ja(l,r.shrinkingClass)===!0};var VN=Object.freeze({__proto__:null,refresh:(o,r,a)=>{if(a.isExpanded()){un(o.element,xi(r));const l=Mu(r,o.element);Eo(o.element,xi(r),l)}},grow:(o,r,a)=>{a.isExpanded()||Ay(o,r,a)},shrink:(o,r,a)=>{a.isExpanded()&&Zd(o,r,a)},immediateShrink:(o,r,a)=>{a.isExpanded()&&uc(o,r,a)},hasGrown:(o,r,a)=>a.isExpanded(),hasShrunk:(o,r,a)=>a.isCollapsed(),isGrowing:ud,isShrinking:$g,isTransitioning:(o,r,a)=>ud(o,r)||$g(o,r),toggleGrow:(o,r,a)=>{(a.isExpanded()?Zd:Ay)(o,r,a)},disableTransitions:tv,immediateGrow:(o,r,a)=>{a.isExpanded()||(gl(o,r),Eo(o.element,xi(r),Mu(r,o.element)),tv(o,r),a.setExpanded(),r.onStartGrow(o),r.onGrown(o))}}),$N=Object.freeze({__proto__:null,exhibit:(o,r,a)=>{const l=r.expanded;return fl(l?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:am(r.dimension.property,"0px")})},events:(o,r)=>Wn([hm(vg(),(a,l)=>{l.event.raw.propertyName===o.dimension.property&&(tv(a,o),r.isExpanded()&&un(a.element,o.dimension.property),(r.isExpanded()?o.onGrown:o.onShrunk)(a))})])}),UN=[ct("closedClass"),ct("openClass"),ct("shrinkingClass"),ct("growingClass"),kn("getAnimationRoot"),fn("onShrunk"),fn("onStartShrink"),fn("onGrown"),fn("onStartGrow"),Pe("expanded",!1),il("dimension",Fi("property",{width:[ms("property","width"),ms("getDimension",o=>$a(o)+"px")],height:[ms("property","height"),ms("getDimension",o=>Gs(o)+"px")]}))];const $l=qa({fields:UN,name:"sliding",active:$N,apis:VN,state:Object.freeze({__proto__:null,init:o=>{const r=Vt(o.expanded);return Ti({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:yn(r.set,!1),setExpanded:yn(r.set,!0),readState:()=>"expanded: "+r.get()})}})});var YA=Object.freeze({__proto__:null,events:(o,r)=>{const a=o.stream.streams.setup(o,r);return Wn([et(o.event,a),ad(()=>r.cancel())].concat(o.cancelEvent.map(l=>[et(l,()=>r.cancel())]).getOr([])))}});const ov=o=>{const r=Vt(null);return Ti({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:a=>{r.set(a)},cancel:()=>{const a=r.get();a!==null&&a.cancel()}})};var XA=Object.freeze({__proto__:null,throttle:ov,init:o=>o.stream.streams.state(o)}),ZN=[il("stream",Fi("mode",{throttle:[ct("delay"),Pe("stopEvent",!0),ms("streams",{setup:(o,r)=>{const a=o.stream,l=su(o.onStream,a.delay);return r.setTimer(l),(d,m)=>{l.throttle(d,m),a.stopEvent&&m.stop()}},state:ov})]})),Pe("event","input"),kn("cancelEvent"),Ml("onStream")];const dk=qa({fields:ZN,name:"streaming",active:YA,state:XA});var jN=Object.freeze({__proto__:null,exhibit:(o,r)=>fl({attributes:cp([{key:r.tabAttr,value:"true"}])})}),WN=[Pe("tabAttr","data-alloy-tabstop")];const fs=qa({fields:WN,name:"tabstopping",active:jN}),X0=(o,r,a,l)=>{const d=a.get();a.set(l),((m,p,b)=>{p.toggleClass.each(x=>{b.get()?ls(m.element,x):vs(m.element,x)})})(o,r,a),((m,p,b)=>{const x=p.aria;x.update(m,x,b.get())})(o,r,a),d!==l&&r.onToggled(o,l)},Ty=(o,r,a)=>{X0(o,r,a,!a.get())},uk=(o,r,a)=>{X0(o,r,a,r.selected)};var qN=Object.freeze({__proto__:null,onLoad:uk,toggle:Ty,isOn:(o,r,a)=>a.get(),on:(o,r,a)=>{X0(o,r,a,!0)},off:(o,r,a)=>{X0(o,r,a,!1)},set:X0}),GN=Object.freeze({__proto__:null,exhibit:()=>fl({}),events:(o,r)=>{const a=(l=o,d=r,m=Ty,zd(b=>{m(b,l,d)}));var l,d,m;const p=s1(o,r,uk);return Wn(Is([o.toggleOnExecute?[a]:[],[p]]))}});const QA=(o,r,a)=>{bo(o.element,"aria-expanded",a)};var KN=[Pe("selected",!1),kn("toggleClass"),Pe("toggleOnExecute",!0),fn("onToggled"),ti("aria",{mode:"none"},Fi("mode",{pressed:[Pe("syncWithExpanded",!1),ms("update",(o,r,a)=>{bo(o.element,"aria-pressed",a),r.syncWithExpanded&&QA(o,0,a)})],checked:[ms("update",(o,r,a)=>{bo(o.element,"aria-checked",a)})],expanded:[ms("update",QA)],selected:[ms("update",(o,r,a)=>{bo(o.element,"aria-selected",a)})],none:[ms("update",xe)]}))];const Zo=qa({fields:KN,name:"toggling",active:GN,apis:qN,state:(mk=!1,{init:()=>{const o=Vt(mk);return{get:()=>o.get(),set:r=>o.set(r),clear:()=>o.set(mk),readState:()=>o.get()}}})});var mk;const md=Oe("tooltip.exclusive"),Dy=Oe("tooltip.show"),Ug=Oe("tooltip.hide"),Em=Oe("tooltip.immediateHide"),A1=Oe("tooltip.immediateShow"),Oy=(o,r,a)=>{o.getSystem().broadcastOn([md],{})};var YN=Object.freeze({__proto__:null,hideAllExclusive:Oy,immediateOpenClose:(o,r,a,l)=>Xo(o,l?A1:Em),isEnabled:(o,r,a)=>a.isEnabled(),setComponents:(o,r,a,l)=>{a.getTooltip().each(d=>{d.getSystem().isConnected()&&Ao.set(d,l)})},setEnabled:(o,r,a,l)=>a.setEnabled(l)}),XN=Object.freeze({__proto__:null,events:(o,r)=>{const a=m=>{r.getTooltip().each(p=>{p.getSystem().isConnected()&&(Cf(p),o.onHide(m,p),r.clearTooltip())}),r.clearTimer()},l=m=>{if(!r.isShowing()&&r.isEnabled()){Oy(m);const p=o.lazySink(m).getOrDie(),b=m.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:Wn(o.mode==="normal"?[et($i(),x=>{Xo(m,Dy)}),et(lf(),x=>{Xo(m,Ug)})]:[]),behaviours:pt([Ao.config({})])});r.setTooltip(b),Du(p,b),o.onShow(m,b),Yi.position(p,b,{anchor:o.anchor(m)})}},d=m=>{r.getTooltip().each(p=>{const b=o.lazySink(m).getOrDie();Yi.position(b,p,{anchor:o.anchor(m)})})};return Wn(Is([[Dg(m=>{o.onSetup(m)}),et(Dy,m=>{r.resetTimer(()=>{l(m)},o.delayForShow())}),et(Ug,m=>{r.resetTimer(()=>{a(m)},o.delayForHide())}),et(A1,m=>{r.resetTimer(()=>{l(m)},0)}),et(Em,m=>{r.resetTimer(()=>{a(m)},0)}),et(uf(),(m,p)=>{const b=p;b.universal||Et(b.channels,md)&&a(m)}),ad(m=>{a(m)})],(()=>{switch(o.mode){case"normal":return[et(Rl(),m=>{Xo(m,A1)}),et(lm(),m=>{Xo(m,Em)}),et($i(),m=>{Xo(m,Dy)}),et(lf(),m=>{Xo(m,Ug)})];case"follow-highlight":return[et(um(),(m,p)=>{Xo(m,Dy)}),et(wg(),m=>{Xo(m,Ug)})];case"children-normal":return[et(Rl(),(m,p)=>{As(m.element).each(b=>{Pa(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Xo(m,A1)},x=>{r.isShowing()&&(o.onShow(m,x),d(m))})})}),et(lm(),m=>{As(m.element).fold(()=>{Xo(m,Em)},xe)}),et($i(),m=>{Nn(m.element,"[data-mce-tooltip]:hover").each(p=>{r.getTooltip().fold(()=>{Xo(m,Dy)},b=>{r.isShowing()&&(o.onShow(m,b),d(m))})})}),et(lf(),m=>{Nn(m.element,"[data-mce-tooltip]:hover").fold(()=>{Xo(m,Ug)},xe)})];default:return[et(Rl(),(m,p)=>{As(m.element).each(b=>{Pa(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Xo(m,A1)},x=>{r.isShowing()&&(o.onShow(m,x),d(m))})})}),et(lm(),m=>{As(m.element).fold(()=>{Xo(m,Em)},xe)})]}})()]))}}),QN=[ct("lazySink"),ct("tooltipDom"),Pe("exclusive",!0),Pe("tooltipComponents",[]),mn("delayForShow",ne(300)),mn("delayForHide",ne(100)),mn("onSetup",xe),od("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Pe("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:ne([Br,ya,Ur,Wa,Mr,oi]),onRtl:ne([Br,ya,Ur,Wa,Mr,oi])},bubble:ml(0,-2,{})})),fn("onHide"),fn("onShow")],JN=Object.freeze({__proto__:null,init:()=>{const o=Vt(!0),r=Bn(),a=Bn(),l=()=>{r.on(clearTimeout)},d=ne("not-implemented");return Ti({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:l,resetTimer:(m,p)=>{l(),r.set(setTimeout(m,p))},readState:d,isEnabled:()=>o.get(),setEnabled:m=>o.set(m)})}});const Rs=qa({fields:QN,name:"tooltipping",active:XN,state:JN,apis:YN}),kf=qa({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Wn([bf(c0(),Jt)]),exhibit:()=>fl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),jd=o=>{const r=Um(o),a=Or(r),l=(p=>{const b=p.dom.attributes!==void 0?p.dom.attributes:[];return qo(b,(x,w)=>w.name==="class"?x:{...x,[w.name]:w.value},{})})(r),d=(p=>Array.prototype.slice.call(p.dom.classList,0))(r),m=a.length===0?{}:{innerHtml:Eh(r)};return{tag:Ut(r),classes:d,attributes:l,...m}},Ln=o=>{const r=(a=>a.uid!==void 0)(o)&&xs(o,"uid")?o.uid:$0("memento");return{get:a=>a.getSystem().getByUid(r).getOrDie(),getOpt:a=>a.getSystem().getByUid(r).toOptional(),asSpec:()=>({...o,uid:r})}},Ga=bx,Am=B2,Tm=ne("dismiss.popups"),Sf=ne("reposition.popups"),nv=ne("mouse.released"),Ny=(o,r)=>{const a={stopBackspace:!0,...r},l=(C=>{const T=Bn(),B=Vt(!1),L=Ts(W=>{C.triggerEvent(Ph(),W),B.set(!0)},400),Y=cp([{key:xu(),value:W=>($h(W).each(X=>{L.cancel();const $={x:X.clientX,y:X.clientY,target:W.target};L.schedule(W),B.set(!1),T.set($)}),A.none())},{key:dp(),value:W=>(L.cancel(),$h(W).each(X=>{T.on($=>{((U,te)=>{const oe=Math.abs(U.clientX-te.x),de=Math.abs(U.clientY-te.y);return oe>5||de>5})(X,$)&&T.clear()})}),A.none())},{key:af(),value:W=>(L.cancel(),T.get().filter(X=>In(X.target,W.target)).map(X=>B.get()?(W.prevent(),!1):C.triggerEvent(yg(),W)))}]);return{fireIfReady:(W,X)=>Kt(Y,X).bind($=>$(W))}})(a),d=Ee(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),C=>Jn(o,C,T=>{l.fireIfReady(T,C).each(B=>{B&&T.kill()}),a.triggerEvent(C,T)&&T.kill()})),m=Bn(),p=Jn(o,"paste",C=>{l.fireIfReady(C,"paste").each(T=>{T&&C.kill()}),a.triggerEvent("paste",C)&&C.kill(),m.set(setTimeout(()=>{a.triggerEvent(df(),C)},0))}),b=Jn(o,"keydown",C=>{a.triggerEvent("keydown",C)?C.kill():a.stopBackspace&&(T=>T.raw.which===a1[0]&&!Et(["input","textarea"],Ut(T.target))&&!ep(T.target,'[contenteditable="true"]'))(C)&&C.prevent()}),x=Jn(o,"focusin",C=>{a.triggerEvent("focusin",C)&&C.kill()}),w=Bn(),E=Jn(o,"focusout",C=>{a.triggerEvent("focusout",C)&&C.kill(),w.set(setTimeout(()=>{a.triggerEvent(lm(),C)},0))});return{unbind:()=>{gt(d,C=>{C.unbind()}),b.unbind(),x.unbind(),E.unbind(),p.unbind(),m.on(clearTimeout),w.on(clearTimeout)}}},Ry=(o,r)=>{const a=Kt(o,"target").getOr(r);return Vt(a)},Q0=Ir([{stopped:[]},{resume:["element"]},{complete:[]}]),J0=(o,r,a,l,d,m)=>{const p=o(r,l),b=((x,w)=>{const E=Vt(!1),C=Vt(!1);return{stop:()=>{E.set(!0)},cut:()=>{C.set(!0)},isStopped:E.get,isCut:C.get,event:x,setSource:w.set,getSource:w.get}})(a,d);return p.fold(()=>(m.logEventNoHandlers(r,l),Q0.complete()),x=>{const w=x.descHandler;return A_(w)(b),b.isStopped()?(m.logEventStopped(r,x.element,w.purpose),Q0.stopped()):b.isCut()?(m.logEventCut(r,x.element,w.purpose),Q0.complete()):Pn(x.element).fold(()=>(m.logNoParent(r,x.element,w.purpose),Q0.complete()),E=>(m.logEventResponse(r,x.element,w.purpose),Q0.resume(E)))})},My=(o,r,a,l,d,m)=>J0(o,r,a,l,d,m).fold(Jt,p=>My(o,r,a,p,d,m),Qe),JA=(o,r,a,l,d)=>{const m=Ry(a,l);return My(o,r,a,l,m,d)},e5=()=>{const o=(()=>{const l={};return{registerId:(d,m,p)=>{ur(p,(b,x)=>{const w=l[x]!==void 0?l[x]:{};w[m]=((E,C)=>({cHandler:yn.apply(void 0,[E.handler].concat(C)),purpose:E.purpose}))(b,d),l[x]=w})},unregisterId:d=>{ur(l,(m,p)=>{jo(m,d)&&delete m[d]})},filterByType:d=>Kt(l,d).map(m=>Ya(m,(p,b)=>((x,w)=>({id:x,descHandler:w}))(b,p))).getOr([]),find:(d,m,p)=>Kt(l,m).bind(b=>nm(p,x=>((w,E)=>V0(E).bind(C=>Kt(w,C)).map(C=>((T,B)=>({element:T,descHandler:B}))(E,C)))(b,x),d))}})(),r={},a=l=>{V0(l.element).each(d=>{delete r[d],o.unregisterId(d)})};return{find:(l,d,m)=>o.find(l,d,m),filter:l=>o.filterByType(l),register:l=>{const d=(p=>{const b=p.element;return V0(b).getOrThunk(()=>((x,w)=>{const E=Oe(Z7+"uid-");return sy(w,E),E})(0,p.element))})(l);xs(r,d)&&((p,b)=>{const x=r[b];if(x!==p)throw new Error('The tagId "'+b+'" is already used by: '+Wt(x.element)+`
Cannot use it for: `+Wt(p.element)+`
The conflicting element is`+(za(x.element)?" ":" not ")+"already in the DOM");a(p)})(l,d);const m=[l];o.registerId(m,d,l.events),r[d]=l},unregister:a,getById:l=>Kt(r,l)}},fk=o=>{const r=W=>Pn(o.element).fold(Jt,X=>In(W,X)),a=e5(),l=(W,X)=>a.find(r,W,X),d=Ny(o.element,{triggerEvent:(W,X)=>Nc(W,X.target,$=>((U,te,oe,de)=>JA(U,te,oe,oe.target,de))(l,W,X,$))}),m={debugInfo:ne("real"),triggerEvent:(W,X,$)=>{Nc(W,X,U=>JA(l,W,$,X,U))},triggerFocus:(W,X)=>{V0(W).fold(()=>{Ws(W)},$=>{Nc(Oc(),W,U=>(((te,oe,de,he,ke)=>{const ze=Ry(de,he);J0(te,oe,de,he,ze,ke)})(l,Oc(),{originator:X,kill:xe,prevent:xe,target:W},W,U),!1))})},triggerEscape:(W,X)=>{m.triggerEvent("keydown",W.element,X.event)},getByUid:W=>L(W),getByDom:W=>Y(W),build:Gi,buildOrPatch:D_,addToGui:W=>{x(W)},removeFromGui:W=>{w(W)},addToWorld:W=>{p(W)},removeFromWorld:W=>{b(W)},broadcast:W=>{C(W)},broadcastOn:(W,X)=>{T(W,X)},broadcastEvent:(W,X)=>{B(W,X)},isConnected:Jt},p=W=>{W.connect(m),I(W.element)||(a.register(W),gt(W.components(),p),m.triggerEvent(u0(),W.element,{target:W.element}))},b=W=>{I(W.element)||(gt(W.components(),b),a.unregister(W)),W.disconnect()},x=W=>{Du(o,W)},w=W=>{Cf(W)},E=W=>{const X=a.filter(uf());gt(X,$=>{const U=$.descHandler;A_(U)(W)})},C=W=>{E({universal:!0,data:W})},T=(W,X)=>{E({universal:!1,channels:W,data:X})},B=(W,X)=>(($,U)=>{const te=(oe=>{const de=Vt(!1);return{stop:()=>{de.set(!0)},cut:xe,isStopped:de.get,isCut:Qe,event:oe,setSource:wn("Cannot set source of a broadcasted event"),getSource:wn("Cannot get source of a broadcasted event")}})(U);return gt($,oe=>{const de=oe.descHandler;A_(de)(te)}),te.isStopped()})(a.filter(W),X),L=W=>a.getById(W).fold(()=>Fo.error(new Error('Could not find component with uid: "'+W+'" in system.')),Fo.value),Y=W=>{const X=V0(W).getOr("not found");return L(X)};return p(o),{root:o,element:o.element,destroy:()=>{d.unbind(),Ad(o.element)},add:x,remove:w,getByUid:L,getByDom:Y,addToWorld:p,removeFromWorld:b,broadcast:C,broadcastOn:T,broadcastEvent:B}},pk=()=>{const o=(r,a)=>{a.stop(),bp(r)};return[et(cl(),o),et(yg(),o),Ll(xu()),Ll(Nl())]},eb=o=>Wn(Is([o.map(r=>zd((a,l)=>{r(a),l.stop()})).toArray(),pk()])),ua=dd({name:"Button",factory:o=>{const r=eb(o.action),a=o.dom.tag,l=d=>Kt(o.dom,"attributes").bind(m=>Kt(m,d));return{uid:o.uid,dom:o.dom,components:o.components,events:r,behaviours:zg(o.buttonBehaviours,[mo.config({}),Bt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:a==="button"?{type:l("type").getOr("button"),...l("role").map(d=>({role:d})).getOr({})}:{role:o.role.getOr(l("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[Pe("uid",void 0),ct("dom"),Pe("components",[]),Z0("buttonBehaviours",[mo,Bt]),kn("action"),kn("role"),Pe("eventOrder",{})]}),gk=ne([Pe("shell",!1),ct("makeItem"),Pe("setupItem",xe),Z0("listBehaviours",[Ao])]),eR=Rc({name:"items",overrides:()=>({behaviours:pt([Ao.config({})])})}),tR=ne([eR]),hk=Ki({name:ne("CustomList")(),configFields:gk(),partFields:tR(),factory:(o,r,a,l)=>{const d=o.shell?{behaviours:[Ao.config({})],components:[]}:{behaviours:[],components:r};return{uid:o.uid,dom:o.dom,components:d.components,behaviours:bi(o.listBehaviours,d.behaviours),apis:{setItems:(m,p)=>{var b;(b=m,o.shell?A.some(b):es(b,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},x=>{const w=Ao.contents(x),E=p.length,C=E-w.length,T=C>0?Ci(C,()=>o.makeItem()):[],B=w.slice(E);gt(B,Y=>Ao.remove(x,Y)),gt(T,Y=>Ao.append(x,Y));const L=Ao.contents(x);gt(L,(Y,W)=>{o.setupItem(m,Y,p[W],W)})})}}}},apis:{setItems:(o,r,a)=>{o.setItems(r,a)}}}),Bu="aria-controls",By=()=>{const o=Oe(Bu);return{id:o,link:r=>{bo(r,Bu,o)},unlink:r=>{qs(r,Bu)}}},Bp=(o,r)=>Jf(r,a=>In(a,o.element),Qe)||((a,l)=>(d=>Qm(d,m=>{if(!Ho(m))return!1;const p=yr(m,"id");return p!==void 0&&p.indexOf(Bu)>-1}).bind(m=>{const p=yr(m,"id"),b=Aa(m);return Nn(b,`[${Bu}="${p}"]`)}))(l).exists(d=>Bp(a,d)))(o,r),sv="alloy.item-hover",bk="alloy.item-focus",rv="alloy.item-toggled",Iy=o=>{(As(o.element).isNone()||mo.isFocused(o))&&(mo.isFocused(o)||mo.focus(o),oo(o,sv,{item:o}))},t5=o=>{oo(o,bk,{item:o})},o5=ne(sv),Ef=ne(bk),oR=ne(rv),nR=o=>o.role.fold(()=>o.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ct);var Wd=[ct("data"),ct("components"),ct("dom"),Pe("hasSubmenu",!1),kn("toggling"),kn("role"),Z0("itemBehaviours",[Zo,mo,Bt,zt]),Pe("ignoreFocus",!1),Pe("domModification",{}),ms("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:nR(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:zg(o.itemBehaviours,[o.toggling.fold(Zo.revoke,r=>Zo.config(((a,l)=>({aria:{mode:l?"selected":"checked"},...ol(a,(d,m)=>m!=="exclusive"),onToggled:(d,m)=>{yt(a.onToggled)&&a.onToggled(d,m),((p,b)=>{oo(p,rv,{item:p,state:b})})(d,m)}}))(r,o.role.exists(a=>a==="option")))),mo.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:r=>{t5(r)}}),Bt.config({mode:"execution"}),zt.config({store:{mode:"memory",initialValue:o.data}}),vo("item-type-events",[...pk(),et($i(),Iy),et(cm(),mo.focus)])]),components:o.components,eventOrder:o.eventOrder})),Pe("eventOrder",{})],ri=[ct("dom"),ct("components"),ms("builder",o=>({dom:o.dom,components:o.components,events:Wn([n1(cm())])}))];const xk=ne("item-widget"),av=ne([gi({name:"widget",overrides:o=>({behaviours:pt([zt.config({store:{mode:"manual",getValue:r=>o.data,setValue:xe}})])})})]),sR=[ct("uid"),ct("data"),ct("components"),ct("dom"),Pe("autofocus",!1),Pe("ignoreFocus",!1),Z0("widgetBehaviours",[zt,mo,Bt]),Pe("domModification",{}),hx(av()),ms("builder",o=>{const r=px(xk(),o,av()),a=qh(xk(),o,r.internals()),l=m=>es(m,o,"widget").map(p=>(Bt.focusIn(p),p)),d=(m,p)=>(Wi(p.event.target)||o.autofocus&&p.setSource(m.element),A.none());return{dom:o.dom,components:a,domModification:o.domModification,events:Wn([zd((m,p)=>{l(m).each(b=>{p.stop()})}),et($i(),Iy),et(cm(),(m,p)=>{o.autofocus?l(m):mo.focus(m)})]),behaviours:zg(o.widgetBehaviours,[zt.config({store:{mode:"memory",initialValue:o.data}}),mo.config({ignore:o.ignoreFocus,onFocus:m=>{t5(m)}}),Bt.config({mode:"special",focusIn:o.autofocus?m=>{l(m)}:r1(),onLeft:d,onRight:d,onEscape:(m,p)=>mo.isFocused(m)||o.autofocus?(o.autofocus&&p.setSource(m.element),A.none()):(mo.focus(m),A.some(!0))})])}})],n5=Fi("type",{widget:sR,item:Wd,separator:ri}),vk=ne([_g({factory:{sketch:o=>{const r=mi("menu.spec item",n5,o);return r.builder(r)}},name:"items",unit:"item",defaults:(o,r)=>jo(r,"uid")?r:{...r,uid:$0("item")},overrides:(o,r)=>({type:r.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),tb=ne([tr("role"),ct("value"),ct("items"),ct("dom"),ct("components"),Pe("eventOrder",{}),si("menuBehaviours",[Dn,zt,vn,Bt]),ti("movement",{mode:"menu",moveOnTab:!0},Fi("mode",{grid:[ix(),ms("config",(o,r)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:o.focusManager}))],matrix:[ms("config",(o,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+o.markers.item},previousSelector:r.previousSelector,focusManager:o.focusManager})),ct("rowSelector"),Pe("previousSelector",A.none)],menu:[Pe("moveOnTab",!0),ms("config",(o,r)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:r.moveOnTab,focusManager:o.focusManager}))]})),il("markers",N2()),Pe("fakeFocus",!1),Pe("focusManager",d1()),fn("onHighlight"),fn("onDehighlight"),Pe("showMenuRole",!0)]),yk=ne("alloy.menu-focus"),Af=Ki({name:"Menu",configFields:tb(),partFields:vk(),factory:(o,r,a,l)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:bi(o.menuBehaviours,[Dn.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),zt.config({store:{mode:"memory",initialValue:o.value}}),vn.config({find:A.some}),Bt.config(o.movement.config(o,o.movement))]),events:Wn([et(Ef(),(d,m)=>{const p=m.event;d.getSystem().getByDom(p.target).each(b=>{Dn.highlight(d,b),m.stop(),oo(d,yk(),{menu:d,item:b})})}),et(o5(),(d,m)=>{const p=m.event.item;Dn.highlight(d,p)}),et(oR(),(d,m)=>{const{item:p,state:b}=m.event;b&&yr(p.element,"role")==="menuitemradio"&&((x,w)=>{const E=ca(x.element,'[role="menuitemradio"][aria-checked="true"]');gt(E,C=>{In(C,w.element)||x.getSystem().getByDom(C).each(T=>{Zo.off(T)})})})(d,p)})]),components:r,eventOrder:o.eventOrder,...o.showMenuRole?{domModification:{attributes:{role:o.role.getOr("menu")}}}:{}})}),s5=(o,r,a,l)=>Kt(a,l).bind(d=>Kt(o,d).bind(m=>{const p=s5(o,r,a,m);return A.some([m].concat(p))})).getOr([]),r5=o=>o.type==="prepared"?A.some(o.menu):A.none(),a5=()=>{const o=Vt({}),r=Vt({}),a=Vt({}),l=Bn(),d=Vt({}),m=x=>p(x).bind(r5),p=x=>Kt(r.get(),x),b=x=>Kt(o.get(),x);return{setMenuBuilt:(x,w)=>{r.set({...r.get(),[x]:{type:"prepared",menu:w}})},setContents:(x,w,E,C)=>{l.set(x),o.set(E),r.set(w),d.set(C);const T=((B,L)=>{const Y={};ur(B,(U,te)=>{gt(U,oe=>{Y[oe]=te})});const W=L,X=na(L,(U,te)=>({k:U,v:te})),$=Ss(X,(U,te)=>[te].concat(s5(Y,W,X,te)));return Ss(Y,U=>Kt($,U).getOr([U]))})(C,E);a.set(T)},expand:x=>Kt(o.get(),x).map(w=>{const E=Kt(a.get(),x).getOr([]);return[w].concat(E)}),refresh:x=>Kt(a.get(),x),collapse:x=>Kt(a.get(),x).bind(w=>w.length>1?A.some(w.slice(1)):A.none()),lookupMenu:p,lookupItem:b,otherMenus:x=>{const w=d.get();return on(Zs(w),x)},getPrimary:()=>l.get().bind(m),getMenus:()=>r.get(),clear:()=>{o.set({}),r.set({}),a.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(x,w)=>{const E=Do(b(x).toArray(),C=>m(C).isSome());return Kt(a.get(),x).bind(C=>{const T=oa(E.concat(C));return(B=>{const L=[];for(let Y=0;Y<B.length;Y++){const W=B[Y];if(!W.isSome())return A.none();L.push(W.getOrDie())}return A.some(L)})(Uo(T,(B,L)=>((Y,W,X)=>m(Y).bind($=>(U=>ki(o.get(),(te,oe)=>te===U))(Y).bind(U=>W(U).map(te=>({triggeredMenu:$,triggeringItem:te,triggeringPath:X})))))(B,w,T.slice(0,L+1)).fold(()=>Sa(l.get(),B)?[]:[A.none()],Y=>[A.some(Y)])))})}}},i5=r5,l5=Oe("tiered-menu-item-highlight"),c5=Oe("tiered-menu-item-dehighlight"),d5=ne("collapse-item"),Zg=dd({name:"TieredMenu",configFields:[mf("onExecute"),mf("onEscape"),Ml("onOpenMenu"),Ml("onOpenSubmenu"),fn("onRepositionMenu"),fn("onCollapseMenu"),Pe("highlightOnOpen",hi.HighlightMenuAndItem),hu("data",[ct("primary"),ct("menus"),ct("expansions")]),Pe("fakeFocus",!1),fn("onHighlightItem"),fn("onDehighlightItem"),fn("onHover"),Vh(),ct("dom"),Pe("navigateOnHover",!0),Pe("stayInDom",!1),si("tmenuBehaviours",[Bt,Dn,vn,Ao]),Pe("eventOrder",{})],apis:{collapseMenu:(o,r)=>{o.collapseMenu(r)},highlightPrimary:(o,r)=>{o.highlightPrimary(r)},repositionMenus:(o,r)=>{o.repositionMenus(r)}},factory:(o,r)=>{const a=Bn(),l=a5(),d=U=>zt.getValue(U).value,m=U=>Ss(o.data.menus,(te,oe)=>Uo(te.items,de=>de.type==="separator"?[]:[de.data.value])),p=Dn.highlight,b=(U,te)=>{p(U,te),Dn.getHighlighted(te).orThunk(()=>Dn.getFirst(te)).each(oe=>{o.fakeFocus?Dn.highlight(te,oe):Rx(U,oe.element,cm())})},x=(U,te)=>ql(Ee(te,oe=>U.lookupMenu(oe).bind(de=>de.type==="prepared"?A.some(de.menu):A.none()))),w=(U,te,oe)=>{const de=x(te,te.otherMenus(oe));gt(de,he=>{ui(he.element,[o.markers.backgroundMenu]),o.stayInDom||Ao.remove(U,he)})},E=(U,te)=>{const oe=(de=>a.get().getOrThunk(()=>{const he={},ke=ca(de.element,`.${o.markers.item}`),ze=Do(ke,tt=>yr(tt,"aria-haspopup")==="true");return gt(ze,tt=>{de.getSystem().getByDom(tt).each(Je=>{const rt=d(Je);he[rt]=Je})}),a.set(he),he}))(U);ur(oe,(de,he)=>{const ke=Et(te,he);bo(de.element,"aria-expanded",ke)})},C=(U,te,oe)=>A.from(oe[0]).bind(de=>te.lookupMenu(de).bind(he=>{if(he.type==="notbuilt")return A.none();{const ke=he.menu,ze=x(te,oe.slice(1));return gt(ze,tt=>{ls(tt.element,o.markers.backgroundMenu)}),za(ke.element)||Ao.append(U,cd(ke)),ui(ke.element,[o.markers.backgroundMenu]),b(U,ke),w(U,te,oe),A.some(ke)}}));let T;(function(U){U[U.HighlightSubmenu=0]="HighlightSubmenu",U[U.HighlightParent=1]="HighlightParent"})(T||(T={}));const B=(U,te,oe=T.HighlightSubmenu)=>{if(te.hasConfigured(eo)&&eo.isDisabled(te))return A.some(te);{const de=d(te);return l.expand(de).bind(he=>(E(U,he),A.from(he[0]).bind(ke=>l.lookupMenu(ke).bind(ze=>{const tt=((Je,rt,bt)=>{if(bt.type==="notbuilt"){const Xt=Je.getSystem().build(bt.nbMenu());return l.setMenuBuilt(rt,Xt),Xt}return bt.menu})(U,ke,ze);return za(tt.element)||Ao.append(U,cd(tt)),o.onOpenSubmenu(U,te,tt,oa(he)),oe===T.HighlightSubmenu?(Dn.highlightFirst(tt),C(U,l,he)):(Dn.dehighlightAll(tt),A.some(te))}))))}},L=(U,te)=>{const oe=d(te);return l.collapse(oe).bind(de=>(E(U,de),C(U,l,de).map(he=>(o.onCollapseMenu(U,te,he),he))))},Y=U=>(te,oe)=>Ac(oe.getSource(),`.${o.markers.item}`).bind(de=>te.getSystem().getByDom(de).toOptional().bind(he=>U(te,he).map(Jt))),W=Wn([et(yk(),(U,te)=>{const oe=te.event.item;l.lookupItem(d(oe)).each(()=>{const de=te.event.menu;Dn.highlight(U,de);const he=d(te.event.item);l.refresh(he).each(ke=>w(U,l,ke))})}),zd((U,te)=>{const oe=te.event.target;U.getSystem().getByDom(oe).each(de=>{d(de).indexOf("collapse-item")===0&&L(U,de),B(U,de,T.HighlightSubmenu).fold(()=>{o.onExecute(U,de)},xe)})}),ts((U,te)=>{(oe=>{const de=((ke,ze,tt)=>Ss(tt,(Je,rt)=>{const bt=()=>Af.sketch({...Je,value:rt,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(Xt,no)=>{oo(Xt,l5,{menuComp:Xt,itemComp:no})},onDehighlight:(Xt,no)=>{oo(Xt,c5,{menuComp:Xt,itemComp:no})},focusManager:o.fakeFocus?P0():d1()});return rt===ze?{type:"prepared",menu:ke.getSystem().build(bt())}:{type:"notbuilt",nbMenu:bt}}))(oe,o.data.primary,o.data.menus),he=m();return l.setContents(o.data.primary,de,o.data.expansions,he),l.getPrimary()})(U).each(oe=>{Ao.append(U,cd(oe)),o.onOpenMenu(U,oe),o.highlightOnOpen===hi.HighlightMenuAndItem?b(U,oe):o.highlightOnOpen===hi.HighlightJustMenu&&p(U,oe)})}),et(l5,(U,te)=>{o.onHighlightItem(U,te.event.menuComp,te.event.itemComp)}),et(c5,(U,te)=>{o.onDehighlightItem(U,te.event.menuComp,te.event.itemComp)}),...o.navigateOnHover?[et(o5(),(U,te)=>{const oe=te.event.item;((de,he)=>{const ke=d(he);l.refresh(ke).bind(ze=>(E(de,ze),C(de,l,ze)))})(U,oe),B(U,oe,T.HighlightParent),o.onHover(U,oe)})]:[]]),X=U=>Dn.getHighlighted(U).bind(Dn.getHighlighted),$={collapseMenu:U=>{X(U).each(te=>{L(U,te)})},highlightPrimary:U=>{l.getPrimary().each(te=>{b(U,te)})},repositionMenus:U=>{l.getPrimary().bind(oe=>X(U).bind(de=>{const he=d(de),ke=nr(l.getMenus()),ze=ql(Ee(ke,i5));return l.getTriggeringPath(he,tt=>((Je,rt,bt)=>ws(rt,Xt=>{if(!Xt.getSystem().isConnected())return A.none();const no=Dn.getCandidates(Xt);return z(no,po=>d(po)===bt)}))(0,ze,tt))}).map(de=>({primary:oe,triggeringPath:de}))).fold(()=>{(oe=>A.from(oe.components()[0]).filter(de=>yr(de.element,"role")==="menu"))(U).each(oe=>{o.onRepositionMenu(U,oe,[])})},({primary:oe,triggeringPath:de})=>{o.onRepositionMenu(U,oe,de)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:bi(o.tmenuBehaviours,[Bt.config({mode:"special",onRight:Y((U,te)=>Wi(te.element)?A.none():B(U,te,T.HighlightSubmenu)),onLeft:Y((U,te)=>Wi(te.element)?A.none():L(U,te)),onEscape:Y((U,te)=>L(U,te).orThunk(()=>o.onEscape(U,te).map(()=>U))),focusIn:(U,te)=>{l.getPrimary().each(oe=>{Rx(U,oe.element,cm())})}}),Dn.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),vn.config({find:U=>Dn.getHighlighted(U)}),Ao.config({})]),eventOrder:o.eventOrder,apis:$,events:W}},extraApis:{tieredData:(o,r,a)=>({primary:o,menus:r,expansions:a}),singleData:(o,r)=>({primary:o,menus:am(o,r),expansions:{}}),collapseItem:o=>({value:Oe(d5()),meta:{text:o}})}}),wk=ne("sink"),Ck=ne(Rc({name:wk(),overrides:ne({dom:{tag:"div"},behaviours:pt([Yi.config({useFixed:Jt})]),events:Wn([Ll(Id()),Ll(Nl()),Ll(cl())])})})),Py=ac([Pe("isExtraPart",Qe),ll("fireEventInstead",[Pe("event",up())])]),Ly=o=>{const r=mi("Dismissal",Py,o);return{[Tm()]:{schema:ac([ct("target")]),onReceive:(a,l)=>{Sn.isOpen(a)&&(Sn.isPartOf(a,l.target)||r.isExtraPart(a,l.target)||r.fireEventInstead.fold(()=>Sn.close(a),d=>Xo(a,d.event)))}}}},T1=ac([ll("fireEventInstead",[Pe("event",mp())]),Hi("doReposition")]),D1=o=>{const r=mi("Reposition",T1,o);return{[Sf()]:{onReceive:a=>{Sn.isOpen(a)&&r.fireEventInstead.fold(()=>r.doReposition(a),l=>Xo(a,l.event))}}}},u5=(o,r)=>{const a=o.getHotspot(r).getOr(r),l="hotspot",d=o.getAnchorOverrides();return o.layouts.fold(()=>({type:l,hotspot:a,overrides:d}),m=>({type:l,hotspot:a,overrides:d,layouts:m}))},Fy=(o,r,a,l,d,m,p)=>((x,w,E,C,T,B,L)=>{const Y=((X,$,U)=>(0,X.fetch)(U).map($))(x,w,C),W=kk(C,x);return Y.map(X=>X.bind($=>{const U=$.menus[$.primary];return A.from(U).each(te=>{x.listRole.each(oe=>{te.role=oe})}),A.from(Zg.sketch({...B.menu(),uid:$0(""),data:$,highlightOnOpen:L,onOpenMenu:(te,oe)=>{const de=W().getOrDie();Yi.position(de,oe,{anchor:E}),Sn.decloak(T)},onOpenSubmenu:(te,oe,de)=>{const he=W().getOrDie();Yi.position(he,de,{anchor:{type:"submenu",item:oe}}),Sn.decloak(T)},onRepositionMenu:(te,oe,de)=>{const he=W().getOrDie();Yi.position(he,oe,{anchor:E}),gt(de,ke=>{Yi.position(he,ke.triggeredMenu,{anchor:{type:"submenu",item:ke.triggeringItem}})})},onEscape:()=>(mo.focus(C),Sn.close(T),A.some(!0))}))}))})(o,r,u5(o,a),a,l,d,p).map(x=>(x.fold(()=>{Sn.isOpen(l)&&Sn.close(l)},w=>{Sn.cloak(l),Sn.open(l,w),m(l)}),l)),rR=(o,r,a,l,d,m,p)=>(Sn.close(l),Tr(l)),_k=(o,r,a,l,d,m)=>{const p=_r.getCoupled(a,"sandbox");return(Sn.isOpen(p)?rR:Fy)(o,r,a,p,l,d,m)},kk=(o,r)=>o.getSystem().getByUid(r.uid+"-"+wk()).map(a=>()=>Fo.value(a)).getOrThunk(()=>r.lazySink.fold(()=>()=>Fo.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(o))),m5=o=>{Sn.getState(o).each(r=>{Zg.repositionMenus(r)})},zy=(o,r,a)=>{const l=By(),d=kk(r,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:l.id}},behaviours:zg(o.sandboxBehaviours,[zt.config({store:{mode:"memory",initialValue:r}}),Sn.config({onOpen:(m,p)=>{const b=u5(o,r);l.link(r.element),o.matchWidth&&((x,w,E)=>{const C=vn.getCurrent(w).getOr(w),T=$a(x.element);E?Eo(C.element,"min-width",T+"px"):((B,L)=>{bn.set(B,L)})(C.element,T)})(b.hotspot,p,o.useMinWidth),o.onOpen(b,m,p),a!==void 0&&a.onOpen!==void 0&&a.onOpen(m,p)},onClose:(m,p)=>{l.unlink(r.element),d().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),a!==void 0&&a.onClose!==void 0&&a.onClose(m,p)},isPartOf:(m,p,b)=>Bp(p,b)||Bp(r,b),getAttachPoint:()=>d().getOrDie()}),vn.config({find:m=>Sn.getState(m).bind(p=>vn.getCurrent(p))}),Vl.config({channels:{...Ly({isExtraPart:Qe}),...D1({doReposition:m5})}})])}},f5=o=>{const r=_r.getCoupled(o,"sandbox");m5(r)},Sk=()=>[Pe("sandboxClasses",[]),Z0("sandboxBehaviours",[vn,Vl,Sn,zt])],p5=ne([ct("dom"),ct("fetch"),fn("onOpen"),ul("onExecute"),Pe("getHotspot",A.some),Pe("getAnchorOverrides",ne({})),Hg(),si("dropdownBehaviours",[Zo,_r,Bt,mo]),ct("toggleClass"),Pe("eventOrder",{}),kn("lazySink"),Pe("matchWidth",!1),Pe("useMinWidth",!1),kn("role"),kn("listRole")].concat(Sk())),iv=ne([Ui({schema:[Vh(),Pe("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),Ck()]),Ic=Ki({name:"Dropdown",configFields:p5(),partFields:iv(),factory:(o,r,a,l)=>{const d=x=>{Sn.getState(x).each(w=>{Zg.highlightPrimary(w)})},m=(x,w,E)=>_k(o,Ct,x,l,w,E),p={expand:x=>{Zo.isOn(x)||m(x,xe,hi.HighlightNone).get(xe)},open:x=>{Zo.isOn(x)||m(x,xe,hi.HighlightMenuAndItem).get(xe)},refetch:x=>_r.getExistingCoupled(x,"sandbox").fold(()=>m(x,xe,hi.HighlightMenuAndItem).map(xe),w=>Fy(o,Ct,x,w,l,xe,hi.HighlightMenuAndItem).map(xe)),isOpen:Zo.isOn,close:x=>{Zo.isOn(x)&&m(x,xe,hi.HighlightMenuAndItem).get(xe)},repositionMenus:x=>{Zo.isOn(x)&&f5(x)}},b=(x,w)=>(bp(x),A.some(!0));return{uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.dropdownBehaviours,[Zo.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),_r.config({others:{sandbox:x=>zy(o,x,{onOpen:()=>Zo.on(x),onClose:()=>Zo.off(x)})}}),Bt.config({mode:"special",onSpace:b,onEnter:b,onDown:(x,w)=>{if(Ic.isOpen(x)){const E=_r.getCoupled(x,"sandbox");d(E)}else Ic.open(x);return A.some(!0)},onEscape:(x,w)=>Ic.isOpen(x)?(Ic.close(x),A.some(!0)):A.none()}),mo.config({})]),events:eb(A.some(x=>{m(x,d,hi.HighlightMenuAndItem).get(xe)})),eventOrder:{...o.eventOrder,[dl()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":o.listRole.getOr("true"),...o.role.fold(()=>({}),x=>({role:x})),...o.dom.tag==="button"?{type:Kt(o.dom,"attributes").bind(x=>Kt(x,"type")).getOr("button")}:{}}}}},apis:{open:(o,r)=>o.open(r),refetch:(o,r)=>o.refetch(r),expand:(o,r)=>o.expand(r),close:(o,r)=>o.close(r),isOpen:(o,r)=>o.isOpen(r),repositionMenus:(o,r)=>o.repositionMenus(r)}}),Ek="form",aR=[si("formBehaviours",[zt])],Ak=o=>"<alloy.field."+o+">",g5=(o,r)=>({uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.formBehaviours,[zt.config({store:{mode:"manual",getValue:a=>{const l=gx(a,o);return Ss(l,(d,m)=>d().bind(p=>{return b=vn.getCurrent(p),x=new Error(`Cannot find a current component to extract the value from for form part '${m}': `+Wt(p.element)),b.fold(()=>Fo.error(x),Fo.value);var b,x}).map(zt.getValue))},setValue:(a,l)=>{ur(l,(d,m)=>{es(a,o,m).each(p=>{vn.getCurrent(p).each(b=>{zt.setValue(b,d)})})})}}})]),apis:{getField:(a,l)=>es(a,o,l).bind(vn.getCurrent)}}),ob={getField:Ud((o,r,a)=>o.getField(r,a)),sketch:o=>{const r=(()=>{const m=[];return{field:(p,b)=>(m.push(p),fx(Ek,Ak(p),b)),record:ne(m)}})(),a=o(r),l=r.record(),d=Ee(l,m=>gi({name:m,pname:Ak(m)}));return W_(Ek,aR,d,g5,a)}},nb=ne([ct("dom"),Pe("shell",!0),si("toolbarBehaviours",[Ao])]),iR=ne([Rc({name:"groups",overrides:()=>({behaviours:pt([Ao.config({})])})})]),Dm=Ki({name:"Toolbar",configFields:nb(),partFields:iR(),factory:(o,r,a,l)=>{const d=o.shell?{behaviours:[Ao.config({})],components:[]}:{behaviours:[],components:r};return{uid:o.uid,dom:o.dom,components:d.components,behaviours:bi(o.toolbarBehaviours,d.behaviours),apis:{setGroups:(m,p)=>{var b;(b=m,o.shell?A.some(b):es(b,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},x=>{Ao.set(x,p)})},refresh:xe},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,r,a)=>{o.setGroups(r,a)}}}),lR=ne([Pd(["toggledClass"]),ct("lazySink"),Hi("fetch"),Ra("getBounds"),ll("fireDismissalEventInstead",[Pe("event",up())]),Hg(),fn("onToggled")]),cR=ne([Ui({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:pt([Zo.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),Ui({factory:Dm,schema:nb(),name:"toolbar",overrides:o=>({toolbarBehaviours:pt([Bt.config({mode:"cyclic",onEscape:r=>(es(r,o,"button").each(mo.focus),A.none())})])})})]),O1=Bn(),lv=(o,r)=>{const a=_r.getCoupled(o,"toolbarSandbox");Sn.isOpen(a)?Sn.close(a):Sn.open(a,r.toolbar())},Tk=(o,r,a,l)=>{const d=a.getBounds.map(p=>p()),m=a.lazySink(o).getOrDie();Yi.positionWithinBounds(m,r,{anchor:{type:"hotspot",hotspot:o,layouts:l,overrides:{maxWidthFunction:R0()}}},d)},dR=(o,r,a,l,d)=>{Dm.setGroups(r,d),Tk(o,r,a,l),Zo.on(o)},Ip=Ki({name:"FloatingToolbarButton",factory:(o,r,a,l)=>({...ua.sketch({...l.button(),action:d=>{lv(d,l)},buttonBehaviours:zg({dump:l.button().buttonBehaviours},[_r.config({others:{toolbarSandbox:d=>((m,p,b)=>{const x=By();return{dom:{tag:"div",attributes:{id:x.id}},behaviours:pt([Bt.config({mode:"special",onEscape:w=>(Sn.close(w),A.some(!0))}),Sn.config({onOpen:(w,E)=>{const C=O1.get().getOr(!1);b.fetch().get(T=>{dR(m,E,b,p.layouts,T),x.link(m.element),C||Bt.focusIn(E)})},onClose:()=>{Zo.off(m),O1.get().getOr(!1)||mo.focus(m),x.unlink(m.element)},isPartOf:(w,E,C)=>Bp(E,C)||Bp(m,C),getAttachPoint:()=>b.lazySink(m).getOrDie()}),Vl.config({channels:{...Ly({isExtraPart:Qe,...b.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...D1({doReposition:()=>{Sn.getState(_r.getCoupled(m,"toolbarSandbox")).each(w=>{Tk(m,w,b,p.layouts)})}})}})])}})(d,a,o)}})])}),apis:{setGroups:(d,m)=>{Sn.getState(_r.getCoupled(d,"toolbarSandbox")).each(p=>{dR(d,p,o,a.layouts,m)})},reposition:d=>{Sn.getState(_r.getCoupled(d,"toolbarSandbox")).each(m=>{Tk(d,m,o,a.layouts)})},toggle:d=>{lv(d,l)},toggleWithoutFocusing:d=>{((m,p)=>{O1.set(!0),lv(m,p),O1.clear()})(d,l)},getToolbar:d=>Sn.getState(_r.getCoupled(d,"toolbarSandbox")),isOpen:d=>Sn.isOpen(_r.getCoupled(d,"toolbarSandbox"))}}),configFields:lR(),partFields:cR(),apis:{setGroups:(o,r,a)=>{o.setGroups(r,a)},reposition:(o,r)=>{o.reposition(r)},toggle:(o,r)=>{o.toggle(r)},toggleWithoutFocusing:(o,r)=>{o.toggleWithoutFocusing(r)},getToolbar:(o,r)=>o.getToolbar(r),isOpen:(o,r)=>o.isOpen(r)}}),uR=ne([Pe("prefix","form-field"),si("fieldBehaviours",[vn,zt])]),mR=ne([Rc({schema:[ct("dom")],name:"label"}),Rc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[ct("text")],name:"aria-descriptor"}),gi({factory:{sketch:o=>{const r=((a,l)=>{const d={};return ur(a,(m,p)=>{Et(l,p)||(d[p]=m)}),d})(o,["factory"]);return o.factory.sketch(r)}},schema:[ct("factory")],name:"field"})]),Oo=Ki({name:"FormField",configFields:uR(),partFields:mR(),factory:(o,r,a,l)=>{const d=bi(o.fieldBehaviours,[vn.config({find:b=>es(b,o,"field")}),zt.config({store:{mode:"manual",getValue:b=>vn.getCurrent(b).bind(zt.getValue),setValue:(b,x)=>{vn.getCurrent(b).each(w=>{zt.setValue(w,x)})}}})]),m=Wn([ts((b,x)=>{const w=wu(b,o,["label","field","aria-descriptor"]);w.field().each(E=>{const C=Oe(o.prefix);w.label().each(T=>{bo(T.element,"for",C),bo(E.element,"id",C)}),w["aria-descriptor"]().each(T=>{const B=Oe(o.prefix);bo(T.element,"id",B),bo(E.element,"aria-describedby",B)})})})]),p={getField:b=>es(b,o,"field"),getLabel:b=>es(b,o,"label")};return{uid:o.uid,dom:o.dom,components:r,behaviours:d,events:m,apis:p}},apis:{getField:(o,r)=>o.getField(r),getLabel:(o,r)=>o.getLabel(r)}}),h5=ne([Pe("field1Name","field1"),Pe("field2Name","field2"),Ml("onLockedChange"),Pd(["lockClass"]),Pe("locked",!1),Z0("coupledFieldBehaviours",[vn,zt]),mn("onInput",xe)]),b5=(o,r)=>gi({factory:Oo,name:o,overrides:a=>({fieldBehaviours:pt([vo("coupled-input-behaviour",[et(im(),l=>{((d,m,p)=>es(d,m,p).bind(vn.getCurrent))(l,a,r).each(d=>{es(l,a,"lock").each(m=>{Zo.isOn(m)&&a.onLockedChange(l,d,m),a.onInput(l)})})})])])})}),aL=ne([b5("field1","field2"),b5("field2","field1"),gi({factory:ua,schema:[ct("dom")],name:"lock",overrides:o=>({buttonBehaviours:pt([Zo.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),jr=Ki({name:"FormCoupledInputs",configFields:h5(),partFields:aL(),factory:(o,r,a,l)=>({uid:o.uid,dom:o.dom,components:r,behaviours:zg(o.coupledFieldBehaviours,[vn.config({find:A.some}),zt.config({store:{mode:"manual",getValue:d=>{const m=S0(d,o,["field1","field2"]);return{[o.field1Name]:zt.getValue(m.field1()),[o.field2Name]:zt.getValue(m.field2())}},setValue:(d,m)=>{const p=S0(d,o,["field1","field2"]);xs(m,o.field1Name)&&zt.setValue(p.field1(),m[o.field1Name]),xs(m,o.field2Name)&&zt.setValue(p.field2(),m[o.field2Name])}}})]),apis:{getField1:d=>es(d,o,"field1"),getField2:d=>es(d,o,"field2"),getLock:d=>es(d,o,"lock")}}),apis:{getField1:(o,r)=>o.getField1(r),getField2:(o,r)=>o.getField2(r),getLock:(o,r)=>o.getLock(r)}}),fR=dd({name:"HtmlSelect",configFields:[ct("options"),si("selectBehaviours",[mo,zt]),Pe("selectClasses",[]),Pe("selectAttributes",{}),kn("data")],factory:(o,r)=>{const a=Ee(o.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),l=o.data.map(d=>am("initialValue",d)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:a,behaviours:bi(o.selectBehaviours,[mo.config({}),zt.config({store:{mode:"manual",getValue:d=>la(d.element),setValue:(d,m)=>{const p=br(o.options);z(o.options,b=>b.value===m).isSome()?Md(d.element,m):d.element.dom.selectedIndex===-1&&m===""&&p.each(b=>Md(d.element,b.value))},...l}})])}}}),Qs=dd({name:"InlineView",configFields:[ct("lazySink"),fn("onShow"),fn("onHide"),Ra("onEscape"),si("inlineBehaviours",[Sn,zt,Vl]),ll("fireDismissalEventInstead",[Pe("event",up())]),ll("fireRepositionEventInstead",[Pe("event",mp())]),Pe("getRelated",A.none),Pe("isExtraPart",Qe),Pe("eventOrder",A.none)],factory:(o,r)=>{const a=(p,b,x,w)=>{const E=o.lazySink(p).getOrDie();Sn.openWhileCloaked(p,b,()=>Yi.positionWithinBounds(E,p,x,w())),zt.setValue(p,A.some({mode:"position",config:x,getBounds:w}))},l=(p,b,x,w)=>{const E=((C,T,B,L,Y)=>{const W=()=>C.lazySink(T),X=L.type==="horizontal"?{layouts:{onLtr:()=>Sx(),onRtl:()=>D0()}}:{},$=U=>(te=>te.length===2)(U)?X:{};return Zg.sketch({dom:{tag:"div"},data:L.data,markers:L.menu.markers,highlightOnOpen:L.menu.highlightOnOpen,fakeFocus:L.menu.fakeFocus,onEscape:()=>(Sn.close(T),C.onEscape.map(U=>U(T)),A.some(!0)),onExecute:()=>A.some(!0),onOpenMenu:(U,te)=>{Yi.positionWithinBounds(W().getOrDie(),te,B,Y())},onOpenSubmenu:(U,te,oe,de)=>{const he=W().getOrDie();Yi.position(he,oe,{anchor:{type:"submenu",item:te,...$(de)}})},onRepositionMenu:(U,te,oe)=>{const de=W().getOrDie();Yi.positionWithinBounds(de,te,B,Y()),gt(oe,he=>{const ke=$(he.triggeringPath);Yi.position(de,he.triggeredMenu,{anchor:{type:"submenu",item:he.triggeringItem,...ke}})})}})})(o,p,b,x,w);Sn.open(p,E),zt.setValue(p,A.some({mode:"menu",menu:E}))},d=p=>{Sn.isOpen(p)&&zt.getValue(p).each(b=>{switch(b.mode){case"menu":Sn.getState(p).each(Zg.repositionMenus);break;case"position":const x=o.lazySink(p).getOrDie();Yi.positionWithinBounds(x,p,b.config,b.getBounds())}})},m={setContent:(p,b)=>{Sn.setContent(p,b)},showAt:(p,b,x)=>{const w=A.none;a(p,b,x,w)},showWithinBounds:a,showMenuAt:(p,b,x)=>{l(p,b,x,A.none)},showMenuWithinBounds:l,hide:p=>{Sn.isOpen(p)&&(zt.setValue(p,A.none()),Sn.close(p))},getContent:p=>Sn.getState(p),reposition:d,isOpen:Sn.isOpen};return{uid:o.uid,dom:o.dom,behaviours:bi(o.inlineBehaviours,[Sn.config({isPartOf:(p,b,x)=>Bp(b,x)||((w,E)=>o.getRelated(w).exists(C=>Bp(C,E)))(p,x),getAttachPoint:p=>o.lazySink(p).getOrDie(),onOpen:p=>{o.onShow(p)},onClose:p=>{o.onHide(p)}}),zt.config({store:{mode:"memory",initialValue:A.none()}}),Vl.config({channels:{...Ly({isExtraPart:r.isExtraPart,...o.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...D1({...o.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:d})}})]),eventOrder:o.eventOrder,apis:m}},apis:{showAt:(o,r,a,l)=>{o.showAt(r,a,l)},showWithinBounds:(o,r,a,l,d)=>{o.showWithinBounds(r,a,l,d)},showMenuAt:(o,r,a,l)=>{o.showMenuAt(r,a,l)},showMenuWithinBounds:(o,r,a,l,d)=>{o.showMenuWithinBounds(r,a,l,d)},hide:(o,r)=>{o.hide(r)},isOpen:(o,r)=>o.isOpen(r),getContent:(o,r)=>o.getContent(r),setContent:(o,r,a)=>{o.setContent(r,a)},reposition:(o,r)=>{o.reposition(r)}}}),x5=ne([_s("type","text"),kn("data"),Pe("inputAttributes",{}),Pe("inputStyles",{}),Pe("tag","input"),Pe("inputClasses",[]),fn("onSetValue"),mn("fromInputValue",Ct),mn("toInputValue",Ct),Pe("styles",{}),Pe("eventOrder",{}),si("inputBehaviours",[zt,mo]),Pe("selectOnFocus",!0)]),v5=o=>pt([mo.config({onFocus:o.selectOnFocus?r=>{const a=r.element,l=la(a);o.type!=="range"&&a.dom.setSelectionRange(0,l.length)}:xe})]),pR=o=>({...v5(o),...bi(o.inputBehaviours,[zt.config({store:{mode:"manual",...o.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>o.fromInputValue(la(r.element)),setValue:(r,a)=>{la(r.element)!==a&&Md(r.element,o.toInputValue(a))}},onSetValue:o.onSetValue})])}),y5=o=>({tag:o.tag,attributes:{type:o.type,...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),Pp=dd({name:"Input",configFields:x5(),factory:(o,r)=>({uid:o.uid,dom:y5(o),components:[],behaviours:pR(o),eventOrder:o.eventOrder})}),jg=mx(xk(),av()),Dk=ne([ct("lazySink"),kn("dragBlockClass"),mn("getBounds",Na),Pe("useTabstopAt",Jt),Pe("firstTabstop",0),Pe("eventOrder",{}),si("modalBehaviours",[Bt]),ul("onExecute"),mf("onEscape")]),Ok={sketch:Ct},Nk=ne([Rc({name:"draghandle",overrides:(o,r)=>({behaviours:pt([C1.config({mode:"mouse",getTarget:a=>Li(a,'[role="dialog"]').getOr(a),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:o.getDragBounds})])})}),gi({schema:[ct("dom")],name:"title"}),gi({factory:Ok,schema:[ct("dom")],name:"close"}),gi({factory:Ok,schema:[ct("dom")],name:"body"}),Rc({factory:Ok,schema:[ct("dom")],name:"footer"}),Ui({factory:{sketch:(o,r)=>({...o,dom:r.dom,components:r.components})},schema:[Pe("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Pe("components",[])],name:"blocker"})]),Wr=Ki({name:"ModalDialog",configFields:Dk(),partFields:Nk(),factory:(o,r,a,l)=>{const d=Bn(),m=Oe("modal-events"),p={...o.eventOrder,[ic()]:[m].concat(o.eventOrder["alloy.system.attached"]||[])},b=Ce();return{uid:o.uid,dom:o.dom,components:r,apis:{show:x=>{d.set(x);const w=o.lazySink(x).getOrDie(),E=l.blocker(),C=w.getSystem().build({...E,components:E.components.concat([cd(x)]),behaviours:pt([mo.config({}),vo("dialog-blocker-events",[hm(Rl(),()=>{Cm.isBlocked(x)||Bt.focusIn(x)})])])});Du(w,C),Bt.focusIn(x)},hide:x=>{d.clear(),Pn(x.element).each(w=>{x.getSystem().getByDom(w).each(E=>{Cf(E)})})},getBody:x=>rd(x,o,"body"),getFooter:x=>es(x,o,"footer"),setIdle:x=>{Cm.unblock(x)},setBusy:(x,w)=>{Cm.block(x,w)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:bi(o.modalBehaviours,[Ao.config({}),Bt.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Cm.config({getRoot:d.get}),vo(m,[ts(x=>{const w=rd(x,o,"title").element,E=(C=>C.dom.textContent)(w);b.os.isMacOS()&&Ne(E)?bo(x.element,"aria-label",E):((C,T)=>{const B=Ta(C,"id").fold(()=>{const L=Oe("dialog-label");return bo(T,"id",L),L},Ct);bo(C,"aria-labelledby",B)})(x.element,w)})])])}},apis:{show:(o,r)=>{o.show(r)},hide:(o,r)=>{o.hide(r)},getBody:(o,r)=>o.getBody(r),getFooter:(o,r)=>o.getFooter(r),setBusy:(o,r,a)=>{o.setBusy(r,a)},setIdle:(o,r)=>{o.setIdle(r)}}}),Rk=Rc({schema:[ct("dom")],name:"label"}),Wg=o=>Rc({name:o+"-edge",overrides:r=>r.model.manager.edgeActions[o].fold(()=>({}),a=>({events:Wn([xp(xu(),(l,d,m)=>a(l,m),[r]),xp(Nl(),(l,d,m)=>a(l,m),[r]),xp(Bh(),(l,d,m)=>{m.mouseIsDown.get()&&a(l,m)},[r])])}))}),gR=Wg("top-left"),hR=Wg("top"),bR=Wg("top-right"),xR=Wg("right"),vR=Wg("bottom-right"),yR=Wg("bottom"),w5=Wg("bottom-left"),Hy=Wg("left"),wR=gi({name:"thumb",defaults:ne({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:Wn([ku(xu(),o,"spectrum"),ku(dp(),o,"spectrum"),ku(af(),o,"spectrum"),ku(Nl(),o,"spectrum"),ku(Bh(),o,"spectrum"),ku(rx(),o,"spectrum")])})}),Vy=o=>Vd(o.event),CR=gi({schema:[Vr("mouseIsDown",()=>Vt(!1))],name:"spectrum",overrides:o=>{const r=o.model.manager,a=(l,d)=>r.getValueFromEvent(d).map(m=>r.setValueFrom(l,o,m));return{behaviours:pt([Bt.config({mode:"special",onLeft:(l,d)=>r.onLeft(l,o,Vy(d)),onRight:(l,d)=>r.onRight(l,o,Vy(d)),onUp:(l,d)=>r.onUp(l,o,Vy(d)),onDown:(l,d)=>r.onDown(l,o,Vy(d))}),fs.config({}),mo.config({})]),events:Wn([et(xu(),a),et(dp(),a),et(Nl(),a),et(Bh(),(l,d)=>{o.mouseIsDown.get()&&a(l,d)})])}}});var _R=[Rk,Hy,xR,hR,yR,gR,bR,w5,vR,wR,CR];const Tf=ne("slider.change.value"),cv=o=>{const r=o.event.raw;if((a=>a.type.indexOf("touch")!==-1)(r)){const a=r;return a.touches!==void 0&&a.touches.length===1?A.some(a.touches[0]).map(l=>us(l.clientX,l.clientY)):A.none()}{const a=r;return a.clientX!==void 0?A.some(a).map(l=>us(l.clientX,l.clientY)):A.none()}},N1=o=>o.model.minX,Lp=o=>o.model.minY,$y=o=>o.model.minX-1,qt=o=>o.model.minY-1,qd=o=>o.model.maxX,R1=o=>o.model.maxY,dv=o=>o.model.maxX+1,M1=o=>o.model.maxY+1,Uy=(o,r,a)=>r(o)-a(o),Mk=o=>Uy(o,qd,N1),Zy=o=>Uy(o,R1,Lp),Bk=o=>Mk(o)/2,jy=o=>Zy(o)/2,sb=(o,r)=>r?o.stepSize*o.speedMultiplier:o.stepSize,Ik=o=>o.snapToGrid,C5=o=>o.snapStart,_5=o=>o.rounded,uv=(o,r)=>o[r+"-edge"]!==void 0,k5=o=>uv(o,"left"),S5=o=>uv(o,"right"),Wy=o=>uv(o,"top"),Pk=o=>uv(o,"bottom"),Iu=o=>o.model.value.get(),Om=(o,r)=>({x:o,y:r}),Pc=(o,r)=>{oo(o,Tf(),{value:r})},Fp=(o,r,a,l)=>o<r?o:o>a?a:o===r?r-1:Math.max(r,o-l),mv=(o,r,a,l)=>o>a?o:o<r?r:o===a?a+1:Math.min(a,o+l),E5=(o,r,a)=>Math.max(r,Math.min(a,o)),A5=o=>{const{min:r,max:a,range:l,value:d,step:m,snap:p,snapStart:b,rounded:x,hasMinEdge:w,hasMaxEdge:E,minBound:C,maxBound:T,screenRange:B}=o,L=w?r-1:r,Y=E?a+1:a;if(d<C)return L;if(d>T)return Y;{const W=(($,U,te)=>Math.min(te,Math.max($,U))-U)(d,C,T),X=E5(W/B*l+r,L,Y);return p&&X>=r&&X<=a?(($,U,te,oe,de)=>de.fold(()=>{const he=$-U,ke=Math.round(he/oe)*oe;return E5(U+ke,U-1,te+1)},he=>{const ke=($-he)%oe,ze=Math.round(ke/oe),tt=Math.floor(($-he)/oe),Je=Math.floor((te-he)/oe),rt=he+Math.min(Je,tt+ze)*oe;return Math.max(he,rt)}))(X,r,a,m,b):x?Math.round(X):X}},T5=o=>{const{min:r,max:a,range:l,value:d,hasMinEdge:m,hasMaxEdge:p,maxBound:b,maxOffset:x,centerMinEdge:w,centerMaxEdge:E}=o;return d<r?m?0:w:d>a?p?b:E:(d-r)/l*x},qy="top",D5="right",O5="bottom",Gy="left",Nm=o=>o.element.dom.getBoundingClientRect(),Pu=(o,r)=>o[r],fv=o=>{const r=Nm(o);return Pu(r,Gy)},N5=o=>{const r=Nm(o);return Pu(r,D5)},rb=o=>{const r=Nm(o);return Pu(r,qy)},Lk=o=>{const r=Nm(o);return Pu(r,O5)},Fk=o=>{const r=Nm(o);return Pu(r,"width")},zk=o=>{const r=Nm(o);return Pu(r,"height")},R5=(o,r,a)=>(o+r)/2-a,M5=(o,r)=>{const a=Nm(o),l=Nm(r),d=Pu(a,Gy),m=Pu(a,D5),p=Pu(l,Gy);return R5(d,m,p)},B5=(o,r)=>{const a=Nm(o),l=Nm(r),d=Pu(a,qy),m=Pu(a,O5),p=Pu(l,qy);return R5(d,m,p)},Ky=(o,r)=>{oo(o,Tf(),{value:r})},Hk=(o,r,a)=>{const l={min:N1(r),max:qd(r),range:Mk(r),value:a,step:sb(r),snap:Ik(r),snapStart:C5(r),rounded:_5(r),hasMinEdge:k5(r),hasMaxEdge:S5(r),minBound:fv(o),maxBound:N5(o),screenRange:Fk(o)};return A5(l)},ab=o=>(r,a,l)=>((d,m,p,b)=>{const x=(d>0?mv:Fp)(Iu(p),N1(p),qd(p),sb(p,b));return Ky(m,x),A.some(x)})(o,r,a,l).map(Jt),Yy=(o,r,a,l,d,m)=>{const p=((b,x,w,E,C)=>{const T=Fk(b),B=E.bind(W=>A.some(M5(W,b))).getOr(0),L=C.bind(W=>A.some(M5(W,b))).getOr(T),Y={min:N1(x),max:qd(x),range:Mk(x),value:w,hasMinEdge:k5(x),hasMaxEdge:S5(x),minBound:fv(b),maxBound:N5(b),maxOffset:T,centerMinEdge:B,centerMaxEdge:L};return T5(Y)})(r,m,a,l,d);return fv(r)-fv(o)+p},I5=ab(-1),P5=ab(1),L5=A.none,F5=A.none,kR={"top-left":A.none(),top:A.none(),"top-right":A.none(),right:A.some((o,r)=>{Pc(o,dv(r))}),"bottom-right":A.none(),bottom:A.none(),"bottom-left":A.none(),left:A.some((o,r)=>{Pc(o,$y(r))})};var SR=Object.freeze({__proto__:null,setValueFrom:(o,r,a)=>{const l=Hk(o,r,a);return Ky(o,l),l},setToMin:(o,r)=>{const a=N1(r);Ky(o,a)},setToMax:(o,r)=>{const a=qd(r);Ky(o,a)},findValueOfOffset:Hk,getValueFromEvent:o=>cv(o).map(r=>r.left),findPositionOfValue:Yy,setPositionFromValue:(o,r,a,l)=>{const d=Iu(a),m=Yy(o,l.getSpectrum(o),d,l.getLeftEdge(o),l.getRightEdge(o),a),p=$a(r.element)/2;Eo(r.element,"left",m-p+"px")},onLeft:I5,onRight:P5,onUp:L5,onDown:F5,edgeActions:kR});const Xy=(o,r)=>{oo(o,Tf(),{value:r})},pv=(o,r,a)=>{const l={min:Lp(r),max:R1(r),range:Zy(r),value:a,step:sb(r),snap:Ik(r),snapStart:C5(r),rounded:_5(r),hasMinEdge:Wy(r),hasMaxEdge:Pk(r),minBound:rb(o),maxBound:Lk(o),screenRange:zk(o)};return A5(l)},z5=o=>(r,a,l)=>((d,m,p,b)=>{const x=(d>0?mv:Fp)(Iu(p),Lp(p),R1(p),sb(p,b));return Xy(m,x),A.some(x)})(o,r,a,l).map(Jt),ib=(o,r,a,l,d,m)=>{const p=((b,x,w,E,C)=>{const T=zk(b),B=E.bind(W=>A.some(B5(W,b))).getOr(0),L=C.bind(W=>A.some(B5(W,b))).getOr(T),Y={min:Lp(x),max:R1(x),range:Zy(x),value:w,hasMinEdge:Wy(x),hasMaxEdge:Pk(x),minBound:rb(b),maxBound:Lk(b),maxOffset:T,centerMinEdge:B,centerMaxEdge:L};return T5(Y)})(r,m,a,l,d);return rb(r)-rb(o)+p},ER=A.none,H5=A.none,Ul=z5(-1),AR=z5(1),V5={"top-left":A.none(),top:A.some((o,r)=>{Pc(o,qt(r))}),"top-right":A.none(),right:A.none(),"bottom-right":A.none(),bottom:A.some((o,r)=>{Pc(o,M1(r))}),"bottom-left":A.none(),left:A.none()};var $5=Object.freeze({__proto__:null,setValueFrom:(o,r,a)=>{const l=pv(o,r,a);return Xy(o,l),l},setToMin:(o,r)=>{const a=Lp(r);Xy(o,a)},setToMax:(o,r)=>{const a=R1(r);Xy(o,a)},findValueOfOffset:pv,getValueFromEvent:o=>cv(o).map(r=>r.top),findPositionOfValue:ib,setPositionFromValue:(o,r,a,l)=>{const d=Iu(a),m=ib(o,l.getSpectrum(o),d,l.getTopEdge(o),l.getBottomEdge(o),a),p=Gs(r.element)/2;Eo(r.element,"top",m-p+"px")},onLeft:ER,onRight:H5,onUp:Ul,onDown:AR,edgeActions:V5});const Qy=(o,r)=>{oo(o,Tf(),{value:r})},gv=(o,r)=>({x:o,y:r}),hv=(o,r)=>(a,l,d)=>((m,p,b,x,w)=>{const E=m>0?mv:Fp,C=p?Iu(x).x:E(Iu(x).x,N1(x),qd(x),sb(x,w)),T=p?E(Iu(x).y,Lp(x),R1(x),sb(x,w)):Iu(x).y;return Qy(b,gv(C,T)),A.some(C)})(o,r,a,l,d).map(Jt),TR=hv(-1,!1),DR=hv(1,!1),OR=hv(-1,!0),NR=hv(1,!0),U5={"top-left":A.some((o,r)=>{Pc(o,Om($y(r),qt(r)))}),top:A.some((o,r)=>{Pc(o,Om(Bk(r),qt(r)))}),"top-right":A.some((o,r)=>{Pc(o,Om(dv(r),qt(r)))}),right:A.some((o,r)=>{Pc(o,Om(dv(r),jy(r)))}),"bottom-right":A.some((o,r)=>{Pc(o,Om(dv(r),M1(r)))}),bottom:A.some((o,r)=>{Pc(o,Om(Bk(r),M1(r)))}),"bottom-left":A.some((o,r)=>{Pc(o,Om($y(r),M1(r)))}),left:A.some((o,r)=>{Pc(o,Om($y(r),jy(r)))})};var RR=Object.freeze({__proto__:null,setValueFrom:(o,r,a)=>{const l=Hk(o,r,a.left),d=pv(o,r,a.top),m=gv(l,d);return Qy(o,m),m},setToMin:(o,r)=>{const a=N1(r),l=Lp(r);Qy(o,gv(a,l))},setToMax:(o,r)=>{const a=qd(r),l=R1(r);Qy(o,gv(a,l))},getValueFromEvent:o=>cv(o),setPositionFromValue:(o,r,a,l)=>{const d=Iu(a),m=Yy(o,l.getSpectrum(o),d.x,l.getLeftEdge(o),l.getRightEdge(o),a),p=ib(o,l.getSpectrum(o),d.y,l.getTopEdge(o),l.getBottomEdge(o),a),b=$a(r.element)/2,x=Gs(r.element)/2;Eo(r.element,"left",m-b+"px"),Eo(r.element,"top",p-x+"px")},onLeft:TR,onRight:DR,onUp:OR,onDown:NR,edgeActions:U5});const Lu=Ki({name:"Slider",configFields:[Pe("stepSize",1),Pe("speedMultiplier",10),Pe("onChange",xe),Pe("onChoose",xe),Pe("onInit",xe),Pe("onDragStart",xe),Pe("onDragEnd",xe),Pe("snapToGrid",!1),Pe("rounded",!0),kn("snapStart"),il("model",Fi("mode",{x:[Pe("minX",0),Pe("maxX",100),Vr("value",o=>Vt(o.mode.minX)),ct("getInitialValue"),ms("manager",SR)],y:[Pe("minY",0),Pe("maxY",100),Vr("value",o=>Vt(o.mode.minY)),ct("getInitialValue"),ms("manager",$5)],xy:[Pe("minX",0),Pe("maxX",100),Pe("minY",0),Pe("maxY",100),Vr("value",o=>Vt({x:o.mode.minX,y:o.mode.minY})),ct("getInitialValue"),ms("manager",RR)]})),si("sliderBehaviours",[Bt,zt]),Vr("mouseIsDown",()=>Vt(!1))],partFields:_R,factory:(o,r,a,l)=>{const d=$=>rd($,o,"thumb"),m=$=>rd($,o,"spectrum"),p=$=>es($,o,"left-edge"),b=$=>es($,o,"right-edge"),x=$=>es($,o,"top-edge"),w=$=>es($,o,"bottom-edge"),E=o.model,C=E.manager,T=($,U)=>{C.setPositionFromValue($,U,o,{getLeftEdge:p,getRightEdge:b,getTopEdge:x,getBottomEdge:w,getSpectrum:m})},B=($,U)=>{E.value.set(U);const te=d($);T($,te)},L=$=>{const U=o.mouseIsDown.get();o.mouseIsDown.set(!1),U&&es($,o,"thumb").each(te=>{const oe=E.value.get();o.onChoose($,te,oe)})},Y=($,U)=>{U.stop(),o.mouseIsDown.set(!0),o.onDragStart($,d($))},W=($,U)=>{U.stop(),o.onDragEnd($,d($)),L($)},X=$=>{es($,o,"spectrum").map(Bt.focusIn)};return{uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.sliderBehaviours,[Bt.config({mode:"special",focusIn:X}),zt.config({store:{mode:"manual",getValue:$=>E.value.get(),setValue:B}}),Vl.config({channels:{[nv()]:{onReceive:L}}})]),events:Wn([et(Tf(),($,U)=>{((te,oe)=>{B(te,oe);const de=d(te);o.onChange(te,de,oe)})($,U.event.value)}),ts(($,U)=>{const te=E.getInitialValue();E.value.set(te);const oe=d($);T($,oe);const de=m($);o.onInit($,oe,de,E.value.get())}),et(xu(),Y),et(af(),W),et(Nl(),($,U)=>{X($),Y($,U)}),et(rx(),W)]),apis:{resetToMin:$=>{C.setToMin($,o)},resetToMax:$=>{C.setToMax($,o)},setValue:B,refresh:T},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,r,a)=>{o.setValue(r,a)},resetToMin:(o,r)=>{o.resetToMin(r)},resetToMax:(o,r)=>{o.resetToMax(r)},refresh:(o,r)=>{o.refresh(r)}}}),Vk="container",Z5=[si("slotBehaviours",[])],$k=o=>"<alloy.field."+o+">",MR=(o,r)=>{const a=E=>Gh(o),l=(E,C)=>(T,B)=>es(T,o,B).map(L=>E(L,B)).getOr(C),d=(E,C)=>yr(E.element,"aria-hidden")!=="true",m=l(d,!1),p=l((E,C)=>{if(d(E)){const T=E.element;Eo(T,"display","none"),bo(T,"aria-hidden","true"),oo(E,p0(),{name:C,visible:!1})}}),b=(E=>(C,T)=>{gt(T,B=>E(C,B))})(p),x=l((E,C)=>{if(!d(E)){const T=E.element;un(T,"display"),qs(T,"aria-hidden"),oo(E,p0(),{name:C,visible:!0})}}),w={getSlotNames:a,getSlot:(E,C)=>es(E,o,C),isShowing:m,hideSlot:p,hideAllSlots:E=>b(E,a()),showSlot:x};return{uid:o.uid,dom:o.dom,components:r,behaviours:j_(o.slotBehaviours),apis:w}},BR=Ss({getSlotNames:(o,r)=>o.getSlotNames(r),getSlot:(o,r,a)=>o.getSlot(r,a),isShowing:(o,r,a)=>o.isShowing(r,a),hideSlot:(o,r,a)=>o.hideSlot(r,a),hideAllSlots:(o,r)=>o.hideAllSlots(r),showSlot:(o,r,a)=>o.showSlot(r,a)},o=>Ud(o)),Xi={...BR,sketch:o=>{const r=(()=>{const m=[];return{slot:(p,b)=>(m.push(p),fx(Vk,$k(p),b)),record:ne(m)}})(),a=o(r),l=r.record(),d=Ee(l,m=>gi({name:m,pname:$k(m)}));return W_(Vk,Z5,d,MR,a)}},IR=ne([ct("toggleClass"),ct("fetch"),Ml("onExecute"),Pe("getHotspot",A.some),Pe("getAnchorOverrides",ne({})),Hg(),Ml("onItemExecute"),kn("lazySink"),ct("dom"),fn("onOpen"),si("splitDropdownBehaviours",[_r,Bt,mo]),Pe("matchWidth",!1),Pe("useMinWidth",!1),Pe("eventOrder",{}),kn("role"),kn("listRole")].concat(Sk())),j5=gi({factory:ua,schema:[ct("dom")],name:"arrow",defaults:()=>({buttonBehaviours:pt([mo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(o.uid).each(bp)},buttonBehaviours:pt([Zo.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),W5=gi({factory:ua,schema:[ct("dom")],name:"button",defaults:()=>({buttonBehaviours:pt([mo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(o.uid).each(a=>{o.onExecute(a,r)})}})}),qg=ne([j5,W5,Rc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[ct("text")],name:"aria-descriptor"}),Ui({schema:[Vh()],name:"menu",defaults:o=>({onExecute:(r,a)=>{r.getSystem().getByUid(o.uid).each(l=>{o.onItemExecute(l,r,a)})}})}),Ck()]),bv=Ki({name:"SplitDropdown",configFields:IR(),partFields:qg(),factory:(o,r,a,l)=>{const d=w=>{vn.getCurrent(w).each(E=>{Dn.highlightFirst(E),Bt.focusIn(E)})},m=w=>{_k(o,Ct,w,l,d,hi.HighlightMenuAndItem).get(xe)},p=w=>{const E=rd(w,o,"button");return bp(E),A.some(!0)},b={...Wn([ts((w,E)=>{es(w,o,"aria-descriptor").each(C=>{const T=Oe("aria");bo(C.element,"id",T),bo(w.element,"aria-describedby",T)})})]),...eb(A.some(m))},x={repositionMenus:w=>{Zo.isOn(w)&&f5(w)}};return{uid:o.uid,dom:o.dom,components:r,apis:x,eventOrder:{...o.eventOrder,[dl()]:["disabling","toggling","alloy.base.behaviour"]},events:b,behaviours:bi(o.splitDropdownBehaviours,[_r.config({others:{sandbox:w=>{const E=rd(w,o,"arrow");return zy(o,w,{onOpen:()=>{Zo.on(E),Zo.on(w)},onClose:()=>{Zo.off(E),Zo.off(w)}})}}}),Bt.config({mode:"special",onSpace:p,onEnter:p,onDown:w=>(m(w),A.some(!0))}),mo.config({}),Zo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,r)=>o.repositionMenus(r)}}),Jy=(o,r,a)=>({within:o,extra:r,withinWidth:a}),Uk=(o,r,a)=>{const l=qo(o,(p,b)=>((x,w)=>{const E=a(x);return A.some({element:x,start:w,finish:w+E,width:E})})(b,p.len).fold(ne(p),x=>({len:x.finish,list:p.list.concat([x])})),{len:0,list:[]}).list,d=Do(l,p=>p.finish<=r),m=So(d,(p,b)=>p+b.width,0);return{within:d,extra:l.slice(d.length),withinWidth:m}},ew=o=>Ee(o,r=>r.element),B1=(o,r)=>{const a=Ee(r,l=>cd(l));Dm.setGroups(o,a)},q5=(o,r,a)=>{const l=r.builtGroups.get();if(l.length===0)return;const d=rd(o,r,"primary"),m=_r.getCoupled(o,"overflowGroup");Eo(d.element,"visibility","hidden");const p=l.concat([m]),b=ws(p,w=>As(w.element).bind(E=>w.getSystem().getByDom(E).toOptional()));a([]),B1(d,p);const x=((w,E,C,T)=>{const B=((X,$,U)=>{const te=Uk($,X,U);return te.extra.length===0?A.some(te):A.none()})(w,E,C).getOrThunk(()=>Uk(E,w-C(T),C)),L=B.within,Y=B.extra,W=B.withinWidth;return Y.length===1&&Y[0].width<=C(T)?((X,$,U)=>{const te=ew(X.concat($));return Jy(te,[],U)})(L,Y,W):Y.length>=1?((X,$,U,te)=>{const oe=ew(X).concat([U]);return Jy(oe,ew($),te)})(L,Y,T,W):((X,$,U)=>Jy(ew(X),[],U))(L,0,W)})($a(d.element),r.builtGroups.get(),w=>Math.ceil(w.element.dom.getBoundingClientRect().width),m);x.extra.length===0?(Ao.remove(d,m),a([])):(B1(d,x.within),a(x.extra)),un(d.element,"visibility"),Va(d.element),b.each(mo.focus)},G5=ne([si("splitToolbarBehaviours",[_r]),Vr("builtGroups",()=>Vt([]))]),K5=ne([Pd(["overflowToggledClass"]),Ra("getOverflowBounds"),ct("lazySink"),Vr("overflowGroups",()=>Vt([])),fn("onOpened"),fn("onClosed")].concat(G5())),PR=ne([gi({factory:Dm,schema:nb(),name:"primary"}),Ui({schema:nb(),name:"overflow"}),Ui({name:"overflow-button"}),Ui({name:"overflow-group"})]),LR=ne([ct("items"),Pd(["itemSelector"]),si("tgroupBehaviours",[Bt])]),FR=ne([_g({name:"items",unit:"item"})]),xv=Ki({name:"ToolbarGroup",configFields:LR(),partFields:FR(),factory:(o,r,a,l)=>({uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.tgroupBehaviours,[Bt.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),tw=o=>Ee(o,r=>cd(r)),ow=(o,r,a)=>{q5(o,a,l=>{a.overflowGroups.set(l),r.getOpt(o).each(d=>{Ip.setGroups(d,tw(l))})})},Y5=Ki({name:"SplitFloatingToolbar",configFields:K5(),partFields:PR(),factory:(o,r,a,l)=>{const d=Ln(Ip.sketch({fetch:()=>sa(m=>{m(tw(o.overflowGroups.get()))}),layouts:{onLtr:()=>[Mr,Ur],onRtl:()=>[Ur,Mr],onBottomLtr:()=>[oi,Wa],onBottomRtl:()=>[Wa,oi]},getBounds:a.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(m,p)=>o[p?"onOpened":"onClosed"](m)}));return{uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.splitToolbarBehaviours,[_r.config({others:{overflowGroup:()=>xv.sketch({...l["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(m,p)=>{o.builtGroups.set(Ee(p,m.getSystem().build)),ow(m,d,o)},refresh:m=>ow(m,d,o),toggle:m=>{d.getOpt(m).each(p=>{Ip.toggle(p)})},toggleWithoutFocusing:m=>{d.getOpt(m).each(Ip.toggleWithoutFocusing)},isOpen:m=>d.getOpt(m).map(Ip.isOpen).getOr(!1),reposition:m=>{d.getOpt(m).each(p=>{Ip.reposition(p)})},getOverflow:m=>d.getOpt(m).bind(Ip.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,r,a)=>{o.setGroups(r,a)},refresh:(o,r)=>{o.refresh(r)},reposition:(o,r)=>{o.reposition(r)},toggle:(o,r)=>{o.toggle(r)},toggleWithoutFocusing:(o,r)=>{o.toggle(r)},isOpen:(o,r)=>o.isOpen(r),getOverflow:(o,r)=>o.getOverflow(r)}}),Gg=ne([Pd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),fn("onOpened"),fn("onClosed")].concat(G5())),X5=ne([gi({factory:Dm,schema:nb(),name:"primary"}),gi({factory:Dm,schema:nb(),name:"overflow",overrides:o=>({toolbarBehaviours:pt([$l.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:r=>{es(r,o,"overflow-button").each(a=>{Zo.off(a)}),o.onClosed(r)},onGrown:r=>{o.onOpened(r)},onStartGrow:r=>{es(r,o,"overflow-button").each(Zo.on)}}),Bt.config({mode:"acyclic",onEscape:r=>(es(r,o,"overflow-button").each(mo.focus),A.some(!0))})])})}),Ui({name:"overflow-button",overrides:o=>({buttonBehaviours:pt([Zo.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Ui({name:"overflow-group"})]),nw=(o,r,a)=>{es(o,r,"overflow-button").each(l=>{es(o,r,"overflow").each(d=>{if(Zk(o,r),$l.hasShrunk(d)){const m=r.onOpened;r.onOpened=p=>{a||Bt.focusIn(d),m(p),r.onOpened=m}}else{const m=r.onClosed;r.onClosed=p=>{a||mo.focus(l),m(p),r.onClosed=m}}$l.toggleGrow(d)})})},Zk=(o,r)=>{es(o,r,"overflow").each(a=>{q5(o,r,l=>{const d=Ee(l,m=>cd(m));Dm.setGroups(a,d)}),es(o,r,"overflow-button").each(l=>{$l.hasGrown(a)&&Zo.on(l)}),$l.refresh(a)})},jk=Ki({name:"SplitSlidingToolbar",configFields:Gg(),partFields:X5(),factory:(o,r,a,l)=>{const d="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.splitToolbarBehaviours,[_r.config({others:{overflowGroup:m=>xv.sketch({...l["overflow-group"](),items:[ua.sketch({...l["overflow-button"](),action:p=>{Xo(m,d)}})]})}}),vo("toolbar-toggle-events",[et(d,m=>{nw(m,o,!1)})])]),apis:{setGroups:(m,p)=>{((b,x)=>{const w=Ee(x,b.getSystem().build);o.builtGroups.set(w)})(m,p),Zk(m,o)},refresh:m=>Zk(m,o),toggle:m=>{nw(m,o,!1)},toggleWithoutFocusing:m=>{nw(m,o,!0)},isOpen:m=>((p,b)=>es(p,b,"overflow").map($l.hasGrown).getOr(!1))(m,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,r,a)=>{o.setGroups(r,a)},refresh:(o,r)=>{o.refresh(r)},toggle:(o,r)=>{o.toggle(r)},isOpen:(o,r)=>o.isOpen(r)}}),vv=dd({name:"TabButton",configFields:[Pe("uid",void 0),ct("value"),lr("dom","dom",tx(()=>({attributes:{role:"tab",id:Oe("aria"),"aria-selected":"false"}})),Ns()),kn("action"),Pe("domModification",{}),si("tabButtonBehaviours",[mo,Bt,zt]),ct("view")],factory:(o,r)=>({uid:o.uid,dom:o.dom,components:o.components,events:eb(o.action),behaviours:bi(o.tabButtonBehaviours,[mo.config({}),Bt.config({mode:"execution",useSpace:!0,useEnter:!0}),zt.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),yv=ne([ct("tabs"),ct("dom"),Pe("clickToDismiss",!1),si("tabbarBehaviours",[Dn,Bt]),Pd(["tabClass","selectedClass"])]),Q5=_g({factory:vv,name:"tabs",unit:"tab",overrides:o=>{const r=(l,d)=>{Dn.dehighlight(l,d),oo(l,zh(),{tabbar:l,button:d})},a=(l,d)=>{Dn.highlight(l,d),oo(l,g0(),{tabbar:l,button:d})};return{action:l=>{const d=l.getSystem().getByUid(o.uid).getOrDie(),m=Dn.isHighlighted(d,l);(m&&o.clickToDismiss?r:m?xe:a)(d,l)},domModification:{classes:[o.markers.tabClass]}}}}),Wk=ne([Q5]),zp=Ki({name:"Tabbar",configFields:yv(),partFields:Wk(),factory:(o,r,a,l)=>({uid:o.uid,dom:o.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:bi(o.tabbarBehaviours,[Dn.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(d,m)=>{bo(m.element,"aria-selected","true")},onDehighlight:(d,m)=>{bo(m.element,"aria-selected","false")}}),Bt.config({mode:"flow",getInitial:d=>Dn.getHighlighted(d).map(m=>m.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),Kg=dd({name:"Tabview",configFields:[si("tabviewBehaviours",[Ao])],factory:(o,r)=>({uid:o.uid,dom:o.dom,behaviours:bi(o.tabviewBehaviours,[Ao.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),zR=ne([Pe("selectFirst",!0),fn("onChangeTab"),fn("onDismissTab"),Pe("tabs",[]),si("tabSectionBehaviours",[])]),HR=gi({factory:zp,schema:[ct("dom"),hu("markers",[ct("tabClass"),ct("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),J5=gi({factory:Kg,name:"tabview"}),Hp=ne([HR,J5]),Yg=Ki({name:"TabSection",configFields:zR(),partFields:Hp(),factory:(o,r,a,l)=>{const d=(m,p)=>{es(m,o,"tabbar").each(b=>{p(b).each(bp)})};return{uid:o.uid,dom:o.dom,components:r,behaviours:j_(o.tabSectionBehaviours),events:Wn(Is([o.selectFirst?[ts((m,p)=>{d(m,Dn.getFirst)})]:[],[et(g0(),(m,p)=>{(b=>{const x=zt.getValue(b);es(b,o,"tabview").each(w=>{z(o.tabs,E=>E.value===x).each(E=>{const C=E.view();Ta(b.element,"id").each(T=>{bo(w.element,"aria-labelledby",T)}),Ao.set(w,C),o.onChangeTab(w,b,C)})})})(p.event.button)}),et(zh(),(m,p)=>{const b=p.event.button;o.onDismissTab(m,b)})]])),apis:{getViewItems:m=>es(m,o,"tabview").map(p=>Ao.contents(p)).getOr([]),showTab:(m,p)=>{d(m,b=>{const x=Dn.getCandidates(b);return z(x,w=>zt.getValue(w)===p).filter(w=>!Dn.isHighlighted(b,w))})}}}},apis:{getViewItems:(o,r)=>o.getViewItems(r),showTab:(o,r,a)=>{o.showTab(r,a)}}}),sw=(o,r,a)=>{const l=zt.getValue(a);zt.setValue(r,l),Gk(r)},qk=(o,r)=>{const a=o.element,l=la(a),d=a.dom;yr(a,"type")!=="number"&&r(d,l)},Gk=o=>{qk(o,(r,a)=>r.setSelectionRange(a.length,a.length))},rw=ne("alloy.typeahead.itemexecute"),Kk=ne([kn("lazySink"),ct("fetch"),Pe("minChars",5),Pe("responseTime",1e3),fn("onOpen"),Pe("getHotspot",A.some),Pe("getAnchorOverrides",ne({})),Pe("layouts",A.none()),Pe("eventOrder",{}),l0("model",{},[Pe("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Pe("selectsOver",!0),Pe("populateFromBrowse",!0)]),fn("onSetValue"),ul("onExecute"),fn("onItemExecute"),Pe("inputClasses",[]),Pe("inputAttributes",{}),Pe("inputStyles",{}),Pe("matchWidth",!0),Pe("useMinWidth",!1),Pe("dismissOnBlur",!0),Pd(["openClass"]),kn("initialData"),kn("listRole"),si("typeaheadBehaviours",[mo,zt,dk,Bt,Zo,_r]),Vr("lazyTypeaheadComp",()=>Vt(A.none)),Vr("previewing",()=>Vt(!0))].concat(x5()).concat(Sk())),eT=ne([Ui({schema:[Vh()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(r,a,l)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(d=>{((m,p,b)=>{if(m.selectsOver){const x=zt.getValue(p),w=m.getDisplayText(x),E=zt.getValue(b);return m.getDisplayText(E).indexOf(w)===0?A.some(()=>{sw(0,p,b),((C,T)=>{qk(C,(B,L)=>B.setSelectionRange(T,L.length))})(p,w.length)}):A.none()}return A.none()})(o.model,d,l).fold(()=>{o.model.selectsOver?(Dn.dehighlight(a,l),o.previewing.set(!0)):o.previewing.set(!1)},m=>{m(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(d=>{o.model.populateFromBrowse&&sw(o.model,d,l),Ta(l.element,"id").each(m=>bo(d.element,"aria-activedescendant",m))})},onExecute:(r,a)=>o.lazyTypeaheadComp.get().map(l=>(oo(l,rw(),{item:a}),!0)),onHover:(r,a)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(l=>{o.model.populateFromBrowse&&sw(o.model,l,a)})}})})]),VR=Ki({name:"Typeahead",configFields:Kk(),partFields:eT(),factory:(o,r,a,l)=>{const d=(C,T,B)=>{o.previewing.set(!1);const L=_r.getCoupled(C,"sandbox");if(Sn.isOpen(L))vn.getCurrent(L).each(Y=>{Dn.getHighlighted(Y).fold(()=>{B(Y)},()=>{Tg(L,Y.element,"keydown",T)})});else{const Y=W=>{vn.getCurrent(W).each(B)};Fy(o,p(C),C,L,l,Y,hi.HighlightMenuAndItem).get(xe)}},m=v5(o),p=C=>T=>T.map(B=>{const L=nr(B.menus),Y=Uo(L,W=>Do(W.items,X=>X.type==="item"));return zt.getState(C).update(Ee(Y,W=>W.data)),B}),b=C=>vn.getCurrent(C),x="typeaheadevents",w=[mo.config({}),zt.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:C=>la(C.element),getFallbackEntry:C=>({value:C,meta:{}}),setValue:(C,T)=>{Md(C.element,o.model.getDisplayText(T))},...o.initialData.map(C=>am("initialValue",C)).getOr({})}}),dk.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(C,T)=>{const B=_r.getCoupled(C,"sandbox");if(mo.isFocused(C)&&la(C.element).length>=o.minChars){const L=b(B).bind(W=>Dn.getHighlighted(W).map(zt.getValue));o.previewing.set(!0);const Y=W=>{b(B).each(X=>{L.fold(()=>{o.model.selectsOver&&Dn.highlightFirst(X)},$=>{Dn.highlightBy(X,U=>zt.getValue(U).value===$.value),Dn.getHighlighted(X).orThunk(()=>(Dn.highlightFirst(X),A.none()))})})};Fy(o,p(C),C,B,l,Y,hi.HighlightJustMenu).get(xe)}},cancelEvent:d0()}),Bt.config({mode:"special",onDown:(C,T)=>(d(C,T,Dn.highlightFirst),A.some(!0)),onEscape:C=>{const T=_r.getCoupled(C,"sandbox");return Sn.isOpen(T)?(Sn.close(T),A.some(!0)):A.none()},onUp:(C,T)=>(d(C,T,Dn.highlightLast),A.some(!0)),onEnter:C=>{const T=_r.getCoupled(C,"sandbox"),B=Sn.isOpen(T);if(B&&!o.previewing.get())return b(T).bind(L=>Dn.getHighlighted(L)).map(L=>(oo(C,rw(),{item:L}),!0));{const L=zt.getValue(C);return Xo(C,d0()),o.onExecute(T,C,L),B&&Sn.close(T),A.some(!0)}}}),Zo.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),_r.config({others:{sandbox:C=>zy(o,C,{onOpen:()=>Zo.on(C),onClose:()=>{o.lazyTypeaheadComp.get().each(T=>qs(T.element,"aria-activedescendant")),Zo.off(C)}})}}),vo(x,[ts(C=>{o.lazyTypeaheadComp.set(A.some(C))}),ad(C=>{o.lazyTypeaheadComp.set(A.none())}),zd(C=>{const T=xe;_k(o,p(C),C,l,T,hi.HighlightMenuAndItem).get(xe)}),et(rw(),(C,T)=>{const B=_r.getCoupled(C,"sandbox");sw(o.model,C,T.event.item),Xo(C,d0()),o.onItemExecute(C,B,T.event.item,zt.getValue(C)),Sn.close(B),Gk(C)})].concat(o.dismissOnBlur?[et(lm(),C=>{const T=_r.getCoupled(C,"sandbox");As(T.element).isNone()&&Sn.close(T)})]:[]))],E={[Ys()]:[zt.name(),dk.name(),x],...o.eventOrder};return{uid:o.uid,dom:y5(Wo(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...m,...bi(o.typeaheadBehaviours,w)},eventOrder:E}}});var Gd,wv,aw=tinymce.util.Tools.resolve("tinymce.ThemeManager"),lb=tinymce.util.Tools.resolve("tinymce.util.Delay"),Xg=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tT=tinymce.util.Tools.resolve("tinymce.EditorManager"),cb=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Gd||(Gd={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(wv||(wv={}));const os=o=>r=>r.options.get(o),db=o=>r=>A.from(o(r)),Yk=o=>{const r=cb.deviceType.isPhone(),a=cb.deviceType.isTablet()||r,l=o.options.register,d=p=>Me(p)||p===!1,m=p=>Me(p)||kt(p);l("skin",{processor:p=>Me(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:m,default:Math.max(o.getElement().offsetHeight,400)}),l("width",{processor:m,default:Xg.DOM.getStyle(o.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>Me(p)||St(p),default:!r}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>St(p)||Me(p)||Ue(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Ci(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:wv.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:o.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:d,default:"#top"}),l("anchor_bottom",{processor:d,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||St(p),default:!cb.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},Xk=os("readonly"),iw=os("disabled"),Cv=os("height"),Qk=os("width"),Jk=db(os("min_width")),e4=db(os("min_height")),lw=db(os("max_width")),cw=db(os("max_height")),oT=db(os("style_formats")),nT=os("style_formats_merge"),t4=os("style_formats_autohide"),ub=os("content_langs"),sT=os("removed_menuitems"),Df=os("toolbar_mode"),dw=os("toolbar_groups"),uw=os("toolbar_location"),rT=os("fixed_toolbar_container"),$R=os("fixed_toolbar_container_target"),aT=os("toolbar_persist"),o4=os("toolbar_sticky_offset"),iT=os("menubar"),_v=os("toolbar"),lT=os("file_picker_callback"),cT=os("file_picker_validator_handler"),n4=os("font_size_input_default_unit"),kv=os("file_picker_types"),mw=os("typeahead_urls"),fw=os("anchor_top"),dT=os("anchor_bottom"),uT=os("draggable_modal"),mT=os("statusbar"),fT=os("elementpath"),pw=os("branding"),s4=os("resize"),pT=os("paste_as_text"),gT=os("sidebar_show"),hT=os("promotion"),bT=os("help_accessibility"),xT=os("default_font_stack"),vT=os("skin"),gw=o=>o.options.get("skin")===!1,hw=o=>o.options.get("menubar")!==!1,yT=o=>{const r=o.options.get("skin_url");if(gw(o))return r;if(r)return o.documentBaseURI.toAbsolute(r);{const a=o.options.get("skin");return tT.baseURL+"/skins/ui/"+a}},wT=o=>o.options.get("line_height_formats").split(" "),bw=o=>{const r=_v(o),a=Me(r),l=Ue(r)&&r.length>0;return!Rm(o)&&(l||a||r===!0)},r4=o=>{const r=Ci(9,l=>o.options.get("toolbar"+(l+1))),a=Do(r,Me);return ci(a.length>0,a)},Rm=o=>r4(o).fold(()=>{const r=_v(o);return ut(r,Me)&&r.length>0},Jt),a4=o=>uw(o)===wv.bottom,CT=o=>{var r;if(!o.inline)return A.none();const a=(r=rT(o))!==null&&r!==void 0?r:"";if(a.length>0)return Nn(ue(),a);const l=$R(o);return Ne(l)?A.some(Ft(l)):A.none()},Fu=o=>o.inline&&CT(o).isSome(),xw=o=>CT(o).getOrThunk(()=>Sd(Aa(Ft(o.getElement())))),i4=o=>o.inline&&!hw(o)&&!bw(o)&&!Rm(o),Kd=o=>(o.options.get("toolbar_sticky")||o.inline)&&!Fu(o)&&!i4(o),Qg=o=>!Fu(o)&&o.options.get("ui_mode")==="split",_T=o=>{const r=o.options.get("menu");return Ss(r,a=>({...a,items:a.items}))};var Yd=Object.freeze({__proto__:null,get ToolbarMode(){return Gd},get ToolbarLocation(){return wv},register:Yk,getSkinUrl:yT,getSkinUrlOption:o=>A.from(o.options.get("skin_url")),isReadOnly:Xk,isDisabled:iw,getSkin:vT,isSkinDisabled:gw,getHeightOption:Cv,getWidthOption:Qk,getMinWidthOption:Jk,getMinHeightOption:e4,getMaxWidthOption:lw,getMaxHeightOption:cw,getUserStyleFormats:oT,shouldMergeStyleFormats:nT,shouldAutoHideStyleFormats:t4,getLineHeightFormats:wT,getContentLanguages:ub,getRemovedMenuItems:sT,isMenubarEnabled:hw,isMultipleToolbars:Rm,isToolbarEnabled:bw,isToolbarPersist:aT,getMultipleToolbarsOption:r4,getUiContainer:xw,useFixedContainer:Fu,isSplitUiMode:Qg,getToolbarMode:Df,isDraggableModal:uT,isDistractionFree:i4,isStickyToolbar:Kd,getStickyToolbarOffset:o4,getToolbarLocation:uw,isToolbarLocationBottom:a4,getToolbarGroups:dw,getMenus:_T,getMenubar:iT,getToolbar:_v,getFilePickerCallback:lT,getFilePickerTypes:kv,useTypeaheadUrls:mw,getAnchorTop:fw,getAnchorBottom:dT,getFilePickerValidatorHandler:cT,getFontSizeInputDefaultUnit:n4,useStatusBar:mT,useElementPath:fT,promotionEnabled:hT,useBranding:pw,getResize:s4,getPasteAsText:pT,getSidebarShow:gT,useHelpAccessibility:bT,getDefaultFontStack:xT});const kT=["visible","hidden","clip"],l4=o=>Gl(o).length>0&&!Et(kT,o),c4=o=>{if(cs(o)){const r=Ha(o,"overflow-x"),a=Ha(o,"overflow-y");return l4(r)||l4(a)}return!1},ST=o=>o.plugins.fullscreen&&o.plugins.fullscreen.isFullscreen(),Mm=(o,r)=>Qg(o)?((a,l)=>{const d=Th(l,c4),m=d.length===0?Sl(l).map(Wf).map(p=>Th(p,c4)).getOr([]):d;return br(m).map(p=>({element:p,others:m.slice(1),isFullscreen:()=>ST(a)}))})(o,r):A.none(),Jg=o=>{const r=[...Ee(o.others,Js),Na()];return o.isFullscreen()?Na():((a,l)=>qo(l,(d,m)=>ug(d,m),a))(Js(o.element),r)},{entries:ET,setPrototypeOf:AT,isFrozen:vw,getPrototypeOf:d4,getOwnPropertyDescriptor:TT}=Object;let{freeze:mc,seal:Xd,create:DT}=Object,{apply:Sv,construct:yw}=typeof Reflect<"u"&&Reflect;mc||(mc=function(o){return o}),Xd||(Xd=function(o){return o}),Sv||(Sv=function(o,r,a){return o.apply(r,a)}),yw||(yw=function(o,r){return new o(...r)});const ww=fc(Array.prototype.forEach),UR=fc(Array.prototype.lastIndexOf),OT=fc(Array.prototype.pop),I1=fc(Array.prototype.push),ZR=fc(Array.prototype.splice),eh=fc(String.prototype.toLowerCase),mb=fc(String.prototype.toString),u4=fc(String.prototype.match),fb=fc(String.prototype.replace),jR=fc(String.prototype.indexOf),WR=fc(String.prototype.trim),Bm=fc(Object.prototype.hasOwnProperty),Lc=fc(RegExp.prototype.test),P1=(m4=TypeError,function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return yw(m4,r)});var m4;function fc(o){return function(r){for(var a=arguments.length,l=new Array(a>1?a-1:0),d=1;d<a;d++)l[d-1]=arguments[d];return Sv(o,r,l)}}function ps(o,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:eh;AT&&AT(o,null);let l=r.length;for(;l--;){let d=r[l];if(typeof d=="string"){const m=a(d);m!==d&&(vw(r)||(r[l]=m),d=m)}o[d]=!0}return o}function qR(o){for(let r=0;r<o.length;r++)Bm(o,r)||(o[r]=null);return o}function th(o){const r=DT(null);for(const[a,l]of ET(o))Bm(o,a)&&(Array.isArray(l)?r[a]=qR(l):l&&typeof l=="object"&&l.constructor===Object?r[a]=th(l):r[a]=l);return r}function Ev(o,r){for(;o!==null;){const a=TT(o,r);if(a){if(a.get)return fc(a.get);if(typeof a.value=="function")return fc(a.value)}o=d4(o)}return function(){return null}}const NT=mc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),f4=mc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Cw=mc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),GR=mc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),p4=mc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),g4=mc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),h4=mc(["#text"]),b4=mc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),x4=mc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_w=mc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),kw=mc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),KR=Xd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),YR=Xd(/<%[\w\W]*|[\w\W]*%>/gm),XR=Xd(/\$\{[\w\W]*/gm),QR=Xd(/^data-[\-\w.\u00B7-\uFFFF]+$/),RT=Xd(/^aria-[\-\w]+$/),Sw=Xd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JR=Xd(/^(?:\w+script|data):/i),Ew=Xd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),MT=Xd(/^html$/i),eM=Xd(/^[a-z][.\w]*(-[.\w]+)+$/i);var BT=Object.freeze({__proto__:null,ARIA_ATTR:RT,ATTR_WHITESPACE:Ew,CUSTOM_ELEMENT:eM,DATA_ATTR:QR,DOCTYPE_NAME:MT,ERB_EXPR:YR,IS_ALLOWED_URI:Sw,IS_SCRIPT_OR_DATA:JR,MUSTACHE_EXPR:KR,TMPLIT_EXPR:XR});const tM=function(){return typeof window>"u"?null:window};var oM=function o(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tM();const a=Le=>o(Le);if(a.version="3.2.4",a.removed=[],!r||!r.document||r.document.nodeType!==9||!r.Element)return a.isSupported=!1,a;let{document:l}=r;const d=l,m=d.currentScript,{DocumentFragment:p,HTMLTemplateElement:b,Node:x,Element:w,NodeFilter:E,NamedNodeMap:C=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:T,DOMParser:B,trustedTypes:L}=r,Y=w.prototype,W=Ev(Y,"cloneNode"),X=Ev(Y,"remove"),$=Ev(Y,"nextSibling"),U=Ev(Y,"childNodes"),te=Ev(Y,"parentNode");if(typeof b=="function"){const Le=l.createElement("template");Le.content&&Le.content.ownerDocument&&(l=Le.content.ownerDocument)}let oe,de="";const{implementation:he,createNodeIterator:ke,createDocumentFragment:ze,getElementsByTagName:tt}=l,{importNode:Je}=d;let rt={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};a.isSupported=typeof ET=="function"&&typeof te=="function"&&he&&he.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:bt,ERB_EXPR:Xt,TMPLIT_EXPR:no,DATA_ATTR:po,ARIA_ATTR:$o,IS_SCRIPT_OR_DATA:gs,ATTR_WHITESPACE:Ms,CUSTOM_ELEMENT:Rn}=BT;let{IS_ALLOWED_URI:nn}=BT,ro=null;const ss=ps({},[...NT,...f4,...Cw,...p4,...h4]);let zn=null;const Gr=ps({},[...b4,...x4,..._w,...kw]);let Gn=Object.seal(DT(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Kr=null,_a=null,hh=!0,Gp=!0,KC=!1,c2=!0,bh=!1,Kp=!0,Ff=!1,Vb=!1,$b=!1,Yp=!1,Ub=!1,e0=!1,d2=!0,u2=!1,t0=!0,xh=!1,Xp={},Cn=null;const Qp=ps({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zm=null;const Y8=ps({},["audio","video","img","source","image","track"]);let oE=null;const nE=ps({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),m2="http://www.w3.org/1998/Math/MathML",f2="http://www.w3.org/2000/svg",Uu="http://www.w3.org/1999/xhtml";let Zb=Uu,sE=!1,rE=null;const tP=ps({},[m2,f2,Uu],mb);let p2=ps({},["mi","mo","mn","ms","mtext"]),YC=ps({},["annotation-xml"]);const oP=ps({},["title","style","font","a","script"]);let g2=null;const X8=["application/xhtml+xml","text/html"];let Qi=null,jb=null;const nP=l.createElement("form"),aE=function(Le){return Le instanceof RegExp||Le instanceof Function},iE=function(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!jb||jb!==Le){if(Le&&typeof Le=="object"||(Le={}),Le=th(Le),g2=X8.indexOf(Le.PARSER_MEDIA_TYPE)===-1?"text/html":Le.PARSER_MEDIA_TYPE,Qi=g2==="application/xhtml+xml"?mb:eh,ro=Bm(Le,"ALLOWED_TAGS")?ps({},Le.ALLOWED_TAGS,Qi):ss,zn=Bm(Le,"ALLOWED_ATTR")?ps({},Le.ALLOWED_ATTR,Qi):Gr,rE=Bm(Le,"ALLOWED_NAMESPACES")?ps({},Le.ALLOWED_NAMESPACES,mb):tP,oE=Bm(Le,"ADD_URI_SAFE_ATTR")?ps(th(nE),Le.ADD_URI_SAFE_ATTR,Qi):nE,zm=Bm(Le,"ADD_DATA_URI_TAGS")?ps(th(Y8),Le.ADD_DATA_URI_TAGS,Qi):Y8,Cn=Bm(Le,"FORBID_CONTENTS")?ps({},Le.FORBID_CONTENTS,Qi):Qp,Kr=Bm(Le,"FORBID_TAGS")?ps({},Le.FORBID_TAGS,Qi):{},_a=Bm(Le,"FORBID_ATTR")?ps({},Le.FORBID_ATTR,Qi):{},Xp=!!Bm(Le,"USE_PROFILES")&&Le.USE_PROFILES,hh=Le.ALLOW_ARIA_ATTR!==!1,Gp=Le.ALLOW_DATA_ATTR!==!1,KC=Le.ALLOW_UNKNOWN_PROTOCOLS||!1,c2=Le.ALLOW_SELF_CLOSE_IN_ATTR!==!1,bh=Le.SAFE_FOR_TEMPLATES||!1,Kp=Le.SAFE_FOR_XML!==!1,Ff=Le.WHOLE_DOCUMENT||!1,Yp=Le.RETURN_DOM||!1,Ub=Le.RETURN_DOM_FRAGMENT||!1,e0=Le.RETURN_TRUSTED_TYPE||!1,$b=Le.FORCE_BODY||!1,d2=Le.SANITIZE_DOM!==!1,u2=Le.SANITIZE_NAMED_PROPS||!1,t0=Le.KEEP_CONTENT!==!1,xh=Le.IN_PLACE||!1,nn=Le.ALLOWED_URI_REGEXP||Sw,Zb=Le.NAMESPACE||Uu,p2=Le.MATHML_TEXT_INTEGRATION_POINTS||p2,YC=Le.HTML_INTEGRATION_POINTS||YC,Gn=Le.CUSTOM_ELEMENT_HANDLING||{},Le.CUSTOM_ELEMENT_HANDLING&&aE(Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Gn.tagNameCheck=Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&aE(Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Gn.attributeNameCheck=Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&typeof Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Gn.allowCustomizedBuiltInElements=Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),bh&&(Gp=!1),Ub&&(Yp=!0),Xp&&(ro=ps({},h4),zn=[],Xp.html===!0&&(ps(ro,NT),ps(zn,b4)),Xp.svg===!0&&(ps(ro,f4),ps(zn,x4),ps(zn,kw)),Xp.svgFilters===!0&&(ps(ro,Cw),ps(zn,x4),ps(zn,kw)),Xp.mathMl===!0&&(ps(ro,p4),ps(zn,_w),ps(zn,kw))),Le.ADD_TAGS&&(ro===ss&&(ro=th(ro)),ps(ro,Le.ADD_TAGS,Qi)),Le.ADD_ATTR&&(zn===Gr&&(zn=th(zn)),ps(zn,Le.ADD_ATTR,Qi)),Le.ADD_URI_SAFE_ATTR&&ps(oE,Le.ADD_URI_SAFE_ATTR,Qi),Le.FORBID_CONTENTS&&(Cn===Qp&&(Cn=th(Cn)),ps(Cn,Le.FORBID_CONTENTS,Qi)),t0&&(ro["#text"]=!0),Ff&&ps(ro,["html","head","body"]),ro.table&&(ps(ro,["tbody"]),delete Kr.tbody),Le.TRUSTED_TYPES_POLICY){if(typeof Le.TRUSTED_TYPES_POLICY.createHTML!="function")throw P1('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Le.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw P1('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');oe=Le.TRUSTED_TYPES_POLICY,de=oe.createHTML("")}else oe===void 0&&(oe=function(Lo,wo){if(typeof Lo!="object"||typeof Lo.createPolicy!="function")return null;let Os=null;const cr="data-tt-policy-suffix";wo&&wo.hasAttribute(cr)&&(Os=wo.getAttribute(cr));const ys="dompurify"+(Os?"#"+Os:"");try{return Lo.createPolicy(ys,{createHTML:Ri=>Ri,createScriptURL:Ri=>Ri})}catch{return console.warn("TrustedTypes policy "+ys+" could not be created."),null}}(L,m)),oe!==null&&typeof de=="string"&&(de=oe.createHTML(""));mc&&mc(Le),jb=Le}},Q8=ps({},[...f4,...Cw,...GR]),_o=ps({},[...p4,...g4]),bd=function(Le){I1(a.removed,{element:Le});try{te(Le).removeChild(Le)}catch{X(Le)}},Wb=function(Le,Lo){try{I1(a.removed,{attribute:Lo.getAttributeNode(Le),from:Lo})}catch{I1(a.removed,{attribute:null,from:Lo})}if(Lo.removeAttribute(Le),Le==="is")if(Yp||Ub)try{bd(Lo)}catch{}else try{Lo.setAttribute(Le,"")}catch{}},lE=function(Le){let Lo=null,wo=null;if($b)Le="<remove></remove>"+Le;else{const ys=u4(Le,/^[\r\n\t ]+/);wo=ys&&ys[0]}g2==="application/xhtml+xml"&&Zb===Uu&&(Le='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Le+"</body></html>");const Os=oe?oe.createHTML(Le):Le;if(Zb===Uu)try{Lo=new B().parseFromString(Os,g2)}catch{}if(!Lo||!Lo.documentElement){Lo=he.createDocument(Zb,"template",null);try{Lo.documentElement.innerHTML=sE?de:Os}catch{}}const cr=Lo.body||Lo.documentElement;return Le&&wo&&cr.insertBefore(l.createTextNode(wo),cr.childNodes[0]||null),Zb===Uu?tt.call(Lo,Ff?"html":"body")[0]:Ff?Lo.documentElement:cr},cE=function(Le){return ke.call(Le.ownerDocument||Le,Le,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT|E.SHOW_PROCESSING_INSTRUCTION|E.SHOW_CDATA_SECTION,null)},XC=function(Le){return Le instanceof T&&(typeof Le.nodeName!="string"||typeof Le.textContent!="string"||typeof Le.removeChild!="function"||!(Le.attributes instanceof C)||typeof Le.removeAttribute!="function"||typeof Le.setAttribute!="function"||typeof Le.namespaceURI!="string"||typeof Le.insertBefore!="function"||typeof Le.hasChildNodes!="function")},J8=function(Le){return typeof x=="function"&&Le instanceof x};function zf(Le,Lo,wo){ww(Le,Os=>{Os.call(a,Lo,wo,jb)})}const e7=function(Le){let Lo=null;if(zf(rt.beforeSanitizeElements,Le,null),XC(Le))return bd(Le),!0;const wo=Qi(Le.nodeName);if(zf(rt.uponSanitizeElement,Le,{tagName:wo,allowedTags:ro}),Le.hasChildNodes()&&!J8(Le.firstElementChild)&&Lc(/<[/\w]/g,Le.innerHTML)&&Lc(/<[/\w]/g,Le.textContent)||Le.nodeType===7||Kp&&Le.nodeType===8&&Lc(/<[/\w]/g,Le.data))return bd(Le),!0;if(!ro[wo]||Kr[wo]){if(!Kr[wo]&&o7(wo)&&(Gn.tagNameCheck instanceof RegExp&&Lc(Gn.tagNameCheck,wo)||Gn.tagNameCheck instanceof Function&&Gn.tagNameCheck(wo)))return!1;if(t0&&!Cn[wo]){const Os=te(Le)||Le.parentNode,cr=U(Le)||Le.childNodes;if(cr&&Os)for(let ys=cr.length-1;ys>=0;--ys){const Ri=W(cr[ys],!0);Ri.__removalCount=(Le.__removalCount||0)+1,Os.insertBefore(Ri,$(Le))}}return bd(Le),!0}return Le instanceof w&&!function(Os){let cr=te(Os);cr&&cr.tagName||(cr={namespaceURI:Zb,tagName:"template"});const ys=eh(Os.tagName),Ri=eh(cr.tagName);return!!rE[Os.namespaceURI]&&(Os.namespaceURI===f2?cr.namespaceURI===Uu?ys==="svg":cr.namespaceURI===m2?ys==="svg"&&(Ri==="annotation-xml"||p2[Ri]):!!Q8[ys]:Os.namespaceURI===m2?cr.namespaceURI===Uu?ys==="math":cr.namespaceURI===f2?ys==="math"&&YC[Ri]:!!_o[ys]:Os.namespaceURI===Uu?!(cr.namespaceURI===f2&&!YC[Ri])&&!(cr.namespaceURI===m2&&!p2[Ri])&&!_o[ys]&&(oP[ys]||!Q8[ys]):!(g2!=="application/xhtml+xml"||!rE[Os.namespaceURI]))}(Le)?(bd(Le),!0):wo!=="noscript"&&wo!=="noembed"&&wo!=="noframes"||!Lc(/<\/no(script|embed|frames)/i,Le.innerHTML)?(bh&&Le.nodeType===3&&(Lo=Le.textContent,ww([bt,Xt,no],Os=>{Lo=fb(Lo,Os," ")}),Le.textContent!==Lo&&(I1(a.removed,{element:Le.cloneNode()}),Le.textContent=Lo)),zf(rt.afterSanitizeElements,Le,null),!1):(bd(Le),!0)},t7=function(Le,Lo,wo){if(d2&&(Lo==="id"||Lo==="name")&&(wo in l||wo in nP))return!1;if(!(Gp&&!_a[Lo]&&Lc(po,Lo))){if(!(hh&&Lc($o,Lo))){if(!zn[Lo]||_a[Lo]){if(!(o7(Le)&&(Gn.tagNameCheck instanceof RegExp&&Lc(Gn.tagNameCheck,Le)||Gn.tagNameCheck instanceof Function&&Gn.tagNameCheck(Le))&&(Gn.attributeNameCheck instanceof RegExp&&Lc(Gn.attributeNameCheck,Lo)||Gn.attributeNameCheck instanceof Function&&Gn.attributeNameCheck(Lo))||Lo==="is"&&Gn.allowCustomizedBuiltInElements&&(Gn.tagNameCheck instanceof RegExp&&Lc(Gn.tagNameCheck,wo)||Gn.tagNameCheck instanceof Function&&Gn.tagNameCheck(wo))))return!1}else if(!oE[Lo]){if(!Lc(nn,fb(wo,Ms,""))){if((Lo!=="src"&&Lo!=="xlink:href"&&Lo!=="href"||Le==="script"||jR(wo,"data:")!==0||!zm[Le])&&!(KC&&!Lc(gs,fb(wo,Ms,"")))){if(wo)return!1}}}}}return!0},o7=function(Le){return Le!=="annotation-xml"&&u4(Le,Rn)},dE=function(Le){zf(rt.beforeSanitizeAttributes,Le,null);const{attributes:Lo}=Le;if(!Lo||XC(Le))return;const wo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:zn,forceKeepAttr:void 0};let Os=Lo.length;for(;Os--;){const cr=Lo[Os],{name:ys,namespaceURI:Ri,value:Jp}=cr,Hf=Qi(ys);let Ji=ys==="value"?Jp:WR(Jp);const sP=Ji;if(wo.attrName=Hf,wo.attrValue=Ji,wo.keepAttr=!0,wo.forceKeepAttr=void 0,zf(rt.uponSanitizeAttribute,Le,wo),Ji=wo.attrValue,!u2||Hf!=="id"&&Hf!=="name"||(Wb(ys,Le),Ji="user-content-"+Ji),Kp&&Lc(/((--!?|])>)|<\/(style|title)/i,Ji)){Wb(ys,Le);continue}if(wo.forceKeepAttr)continue;if(!wo.keepAttr){Wb(ys,Le);continue}if(!c2&&Lc(/\/>/i,Ji)){Wb(ys,Le);continue}bh&&ww([bt,Xt,no],s7=>{Ji=fb(Ji,s7," ")});const h2=Qi(Le.nodeName);if(t7(h2,Hf,Ji)){if(oe&&typeof L=="object"&&typeof L.getAttributeType=="function"&&!Ri)switch(L.getAttributeType(h2,Hf)){case"TrustedHTML":Ji=oe.createHTML(Ji);break;case"TrustedScriptURL":Ji=oe.createScriptURL(Ji)}if(Ji!==sP)try{Ri?Le.setAttributeNS(Ri,ys,Ji):Le.setAttribute(ys,Ji),XC(Le)?bd(Le):OT(a.removed)}catch{}}else Wb(ys,Le)}zf(rt.afterSanitizeAttributes,Le,null)},n7=function Le(Lo){let wo=null;const Os=cE(Lo);for(zf(rt.beforeSanitizeShadowDOM,Lo,null);wo=Os.nextNode();)zf(rt.uponSanitizeShadowNode,wo,null),e7(wo),dE(wo),wo.content instanceof p&&Le(wo.content);zf(rt.afterSanitizeShadowDOM,Lo,null)};return a.sanitize=function(Le){let Lo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},wo=null,Os=null,cr=null,ys=null;if(sE=!Le,sE&&(Le="<!-->"),typeof Le!="string"&&!J8(Le)){if(typeof Le.toString!="function")throw P1("toString is not a function");if(typeof(Le=Le.toString())!="string")throw P1("dirty is not a string, aborting")}if(!a.isSupported)return Le;if(Vb||iE(Lo),a.removed=[],typeof Le=="string"&&(xh=!1),xh){if(Le.nodeName){const Hf=Qi(Le.nodeName);if(!ro[Hf]||Kr[Hf])throw P1("root node is forbidden and cannot be sanitized in-place")}}else if(Le instanceof x)wo=lE("<!---->"),Os=wo.ownerDocument.importNode(Le,!0),Os.nodeType===1&&Os.nodeName==="BODY"||Os.nodeName==="HTML"?wo=Os:wo.appendChild(Os);else{if(!Yp&&!bh&&!Ff&&Le.indexOf("<")===-1)return oe&&e0?oe.createHTML(Le):Le;if(wo=lE(Le),!wo)return Yp?null:e0?de:""}wo&&$b&&bd(wo.firstChild);const Ri=cE(xh?Le:wo);for(;cr=Ri.nextNode();)e7(cr),dE(cr),cr.content instanceof p&&n7(cr.content);if(xh)return Le;if(Yp){if(Ub)for(ys=ze.call(wo.ownerDocument);wo.firstChild;)ys.appendChild(wo.firstChild);else ys=wo;return(zn.shadowroot||zn.shadowrootmode)&&(ys=Je.call(d,ys,!0)),ys}let Jp=Ff?wo.outerHTML:wo.innerHTML;return Ff&&ro["!doctype"]&&wo.ownerDocument&&wo.ownerDocument.doctype&&wo.ownerDocument.doctype.name&&Lc(MT,wo.ownerDocument.doctype.name)&&(Jp="<!DOCTYPE "+wo.ownerDocument.doctype.name+`>
`+Jp),bh&&ww([bt,Xt,no],Hf=>{Jp=fb(Jp,Hf," ")}),oe&&e0?oe.createHTML(Jp):Jp},a.setConfig=function(){iE(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),Vb=!0},a.clearConfig=function(){jb=null,Vb=!1},a.isValidAttribute=function(Le,Lo,wo){jb||iE({});const Os=Qi(Le),cr=Qi(Lo);return t7(Os,cr,wo)},a.addHook=function(Le,Lo){typeof Lo=="function"&&I1(rt[Le],Lo)},a.removeHook=function(Le,Lo){if(Lo!==void 0){const wo=UR(rt[Le],Lo);return wo===-1?void 0:ZR(rt[Le],wo,1)[0]}return OT(rt[Le])},a.removeHooks=function(Le){rt[Le]=[]},a.removeAllHooks=function(){rt={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},a}();const IT=o=>oM().sanitize(o);var fd=tinymce.util.Tools.resolve("tinymce.util.I18n");const nM={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},PT="temporary-placeholder",Av=o=>()=>Kt(o,PT).getOr("!not found!"),Vp=(o,r)=>{const a=o.toLowerCase();if(fd.isRtl()){const l=((d,m)=>Si(d,m)?d:((p,b)=>p+b)(d,m))(a,"-rtl");return jo(r,l)?l:a}return a},LT=(o,r)=>Kt(r,Vp(o,r)),FT=(o,r)=>{const a=r();return LT(o,a).getOrThunk(Av(a))},Aw=()=>vo("add-focusable",[ts(o=>{Jc(o.element,"svg").each(r=>bo(r,"focusable","false"))})]),v4=(o,r,a,l)=>{var d,m;const p=(x=>!!fd.isRtl()&&jo(nM,x))(r)?["tox-icon--flip"]:[],b=Kt(a,Vp(r,a)).or(l).getOrThunk(Av(a));return{dom:{tag:o.tag,attributes:(d=o.attributes)!==null&&d!==void 0?d:{},classes:o.classes.concat(p),innerHtml:b},behaviours:pt([...(m=o.behaviours)!==null&&m!==void 0?m:[],Aw()])}},pd=(o,r,a,l=A.none())=>v4(r,o,a(),l),sM={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Tw=dd({name:"Notification",factory:o=>{const r=Oe("notification-text"),a=Ln({dom:jd(`<p id=${r}>${IT(o.backstageProvider.translate(o.text))}</p>`),behaviours:pt([Ao.config({})])}),l=C=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${C}%`}}}),d=C=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${C}%`}}),m=Ln({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},d(0)],behaviours:pt([Ao.config({})])}),p={updateProgress:(C,T)=>{C.getSystem().isConnected()&&m.getOpt(C).each(B=>{Ao.set(B,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(T)]},d(T)])})},updateText:(C,T)=>{if(C.getSystem().isConnected()){const B=a.get(C);Ao.set(B,[$s(T)])}}},b=Is([o.icon.toArray(),[o.level],A.from(sM[o.level]).toArray()]),x=Ln(ua.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":o.backstageProvider.translate("Close")}},components:[pd("close",{tag:"span",classes:["tox-icon"]},o.iconProvider)],buttonBehaviours:pt([fs.config({}),Rs.config({...o.backstageProvider.tooltips.getConfig({tooltipText:o.backstageProvider.translate("Close")})})]),action:C=>{o.onAction(C)}})),w=((C,T,B)=>{const L=B(),Y=z(C,W=>jo(L,Vp(W,L)));return v4({tag:"div",classes:["tox-notification__icon"]},Y.getOr(PT),L,A.none())})(b,0,o.iconProvider),E=[w,{dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:pt([Ao.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":r},classes:["tox-notification","tox-notification--in",`tox-notification--${o.level}`]},behaviours:pt([fs.config({}),mo.config({}),Bt.config({mode:"special",onEscape:C=>(o.onAction(C),A.some(!0))})]),components:E.concat(o.progress?[m.asSpec()]:[]).concat([x.asSpec()]),apis:p}},configFields:[od("level","info",["success","error","warning","warn","info"]),ct("progress"),kn("icon"),ct("onAction"),ct("text"),ct("iconProvider"),ct("backstageProvider")],apis:{updateProgress:(o,r,a)=>{o.updateProgress(r,a)},updateText:(o,r,a)=>{o.updateText(r,a)}}});var rM=(o,r,a,l)=>{const d=r.backstage.shared,m=()=>Ft(o.queryCommandValue("ToggleView")===""?o.getContentAreaContainer():o.getContainer()),p=()=>{const x=Js(m());return A.some(x)},b=x=>{p().each(w=>{gt(x,E=>{un(E.element,"width"),$a(E.element)>w.width&&Eo(E.element,"width",w.width+"px")})})};return{open:(x,w,E)=>{const C=()=>{l.on(L=>{w();const Y=E();(W=>{Ao.remove(W,T),B()})(L),((W,X)=>{Or(W.element).length===0?(($,U)=>{Qs.hide($),l.clear(),U&&o.focus()})(W,X):(($,U)=>{U&&Bt.focusIn($)})(W,X)})(L,Y)})},T=Gi(Tw.sketch({text:x.text,level:Et(["success","error","warning","warn","info"],x.type)?x.type:void 0,progress:x.progressBar===!0,icon:x.icon,onAction:C,iconProvider:d.providers.icons,backstageProvider:d.providers}));if(l.isSet()){const L=cd(T);l.on(Y=>{Ao.append(Y,L),Qs.reposition(Y),T.hasConfigured(Xs)&&Xs.refresh(Y),b(Y.components())})}else{const L=Gi(Qs.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:d.getSink,fireDismissalEventInstead:{},...d.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pt([Bt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Ao.config({}),...Kd(o)&&d.header.isPositionedAtTop()?[]:[Xs.config({contextual:{lazyContext:()=>A.some(Js(m())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:$=>Mm(o,$.element).map(U=>({bounds:Jg(U),optScrollEnv:A.some({currentScrollTop:U.element.dom.scrollTop,scrollElmTop:fr(U.element).top})})).getOrThunk(()=>({bounds:Na(),optScrollEnv:A.none()}))})]])})),Y=cd(T),W={maxHeightFunction:gm()},X={...d.anchors.banner(),overrides:W};l.set(L),a.add(L),Qs.showWithinBounds(L,Y,{anchor:X},p)}kt(x.timeout)&&x.timeout>0&&lb.setEditorTimeout(o,()=>{C()},x.timeout);const B=()=>{l.on(L=>{Qs.reposition(L),L.hasConfigured(Xs)&&Xs.refresh(L),b(L.components())})};return{close:C,reposition:B,text:L=>{Tw.updateText(T,L)},settings:x,getEl:()=>T.element.dom,progressBar:{value:L=>{Tw.updateProgress(T,L)}}}},close:x=>{x.close()},getArgs:x=>x.settings}},Dw;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Dw||(Dw={}));var Qd=Dw;const Tv="tox-menu-nav__js",Ow="tox-collection__item",y4="tox-swatch",aM={normal:Tv,color:y4},L1="tox-collection__item--enabled",zT="tox-collection__item-icon",w4="tox-collection__item-label",Nw="tox-collection__item-caret",$p="tox-collection__item--active",HT="tox-collection__item-container",Rw="tox-collection__item-container--row",VT=o=>Kt(aM,o).getOr(Tv),iM=o=>o==="color"?"tox-swatches":"tox-menu",Dv=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:iM(o),tieredMenu:"tox-tiered-menu"}),oh=o=>{const r=Dv(o);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:VT(o)}},lM=(o,r,a)=>{const l=Dv(a);return{tag:"div",classes:Is([[l.menu,`tox-menu-${r}-column`],o?[l.hasIcons]:[]])}},cM=[Af.parts.items({})],Mw=(o,r,a)=>{const l=Dv(a);return{dom:{tag:"div",classes:Is([[l.tieredMenu]])},markers:oh(a)}},$T=Oe("refetch-trigger-event"),UT=Oe("redirect-menu-item-interaction"),ZT="tox-menu__searcher",Bw=o=>Nn(o.element,`.${ZT}`).bind(r=>o.getSystem().getByDom(r).toOptional()),jT=Bw,WT=o=>({fetchPattern:zt.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),dM=o=>{const r=(d,m)=>(m.cut(),A.none()),a=(d,m)=>{const p={interactionEvent:m.event,eventType:m.event.raw.type};return oo(d,UT,p),A.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[Ow]},components:[Pp.sketch({inputClasses:[ZT,"tox-textfield"],inputAttributes:{...o.placeholder.map(d=>({placeholder:o.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:pt([vo(l,[et(im(),d=>{Xo(d,$T)}),et(Id(),(d,m)=>{m.event.raw.key==="Escape"&&m.stop()})]),Bt.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[l,Bt.name()]}})]}},Iw="tox-collection--results__js",Pw=o=>{var r;return o.dom?{...o,dom:{...o.dom,attributes:{...(r=o.dom.attributes)!==null&&r!==void 0?r:{},id:Oe("aria-item-search-result-id"),"aria-selected":"false"}}}:o},Lw=(o,r)=>a=>{const l=Ze(a,r);return Ee(l,d=>({dom:o,components:d}))},qT=(o,r)=>{const a=[];let l=[];return gt(o,(d,m)=>{r(d,m)?(l.length>0&&a.push(l),l=[],(jo(d.dom,"innerHtml")||d.components&&d.components.length>0)&&l.push(d)):l.push(d)}),l.length>0&&a.push(l),Ee(a,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},C4=(o,r,a)=>Af.parts.items({preprocess:l=>{const d=Ee(l,a);return o!=="auto"&&o>1?Lw({tag:"div",classes:["tox-collection__group"]},o)(d):qT(d,(m,p)=>r[p].type==="separator")}}),_4=(o,r,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[C4(o,r,Ct)]}),Ov=o=>Tn(o,r=>"icon"in r&&r.icon!==void 0),Im=o=>(console.error(sf(o)),console.log(o),A.none()),uM=(o,r,a,l,d)=>{const m=(p=a,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Af.parts.items({preprocess:b=>qT(b,(x,w)=>p[w].type==="separator")})]});var p;return{value:o,dom:m.dom,components:m.components,items:a}},k4=(o,r,a,l,d)=>{if(d.menuType==="color"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Af.parts.items({preprocess:p!=="auto"?Lw({tag:"div",classes:["tox-swatches__row"]},p):Ct})]}]}))(l);return{value:o,dom:m.dom,components:m.components,items:a}}if(d.menuType==="imageselector"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Af.parts.items({preprocess:p!=="auto"?Lw({tag:"div",classes:["tox-image-selector__row"]},p):Ct})]}]}))(l);return{value:o,dom:m.dom,components:m.components,items:a}}if(d.menuType==="normal"&&l==="auto"){const m=_4(l,a);return{value:o,dom:m.dom,components:m.components,items:a}}if(d.menuType==="normal"||d.menuType==="searchable"){const m=d.menuType!=="searchable"?_4(l,a):d.searchMode.searchMode==="search-with-field"?((p,b,x)=>{const w=Oe("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[dM({i18n:fd.translate,placeholder:x.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],Iw],attributes:{id:w}},components:[C4(p,b,Pw)]}]}})(l,a,d.searchMode):((p,b)=>{const x=Oe("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Iw].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:x}},components:[C4(p,b,Pw)]}})(l,a);return{value:o,dom:m.dom,components:m.components,items:a}}if(d.menuType==="listpreview"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Af.parts.items({preprocess:Lw({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:o,dom:m.dom,components:m.components,items:a}}return{value:o,dom:lM(r,l,d.menuType),components:cM,items:a}},kr=wr("type"),S4=wr("name"),pb=wr("label"),Up=wr("text"),GT=wr("title"),E4=wr("icon"),mM=wr("url"),gb=wr("value"),fM=Hi("fetch"),pM=Hi("getSubmenuItems"),hb=Hi("onAction"),gM=Hi("onItemAction"),F1=mn("onSetup",()=>xe),hM=tr("name"),nh=tr("text"),bM=tr("role"),gd=tr("icon"),z1=tr("tooltip"),Nv=tr("label"),A4=tr("shortcut"),Fw=Ra("select"),bb=Ua("active",!1),T4=Ua("borderless",!1),zu=Ua("enabled",!0),zw=Ua("primary",!1),KT=o=>Pe("columns",o),Rv=Pe("meta",{}),Hw=mn("onAction",xe),Zp=o=>_s("type",o),xb=o=>lr("name","name",fg(()=>Oe(`${o}-name`)),Rr),YT=[kr,Up,zi("level",["info","warn","error","success"]),E4,Pe("url","")],Of=xo(YT),D4=[kr,Up,zu,xb("button"),gd,T4,i0("buttonType",["primary","secondary","toolbar"]),zw,_s("context","mode:design")],xM=xo(D4),vb=[kr,S4],Pm=vb.concat([Nv]),vM=vb.concat([pb,zu,_s("context","mode:design")]),Mv=xo(vM),yM=pu,XT=Pm.concat([KT("auto"),_s("context","mode:design")]),O4=xo(XT),wM=a0([gb,Up,E4]),N4=Pm.concat([_s("storageKey","default"),_s("context","mode:design")]),R4=xo(N4),CM=Rr,QT=xo(Pm),JT=Rr,_M=vb.concat([_s("tag","textarea"),wr("scriptId"),wr("scriptUrl"),Ra("onFocus"),ti("settings",void 0,Nh)]),e6=vb.concat([_s("tag","textarea"),Hi("init")]),t6=ap(o=>Hs("customeditor.old",ac(e6),o).orThunk(()=>Hs("customeditor.new",ac(_M),o))),kM=Rr,sh=[zu,nh,bM,A4,lr("value","value",fg(()=>Oe("menuitem-value")),Ns()),Rv,_s("context","mode:design")],SM=xo([kr,S4].concat(sh)),EM=pu,M4=[xb("button"),gd,od("align","end",["start","end"]),zw,zu,i0("buttonType",["primary","secondary"]),_s("context","mode:design")],B4=[...M4,Up],Vw=[zi("type",["submit","cancel","custom"]),...B4],AM=[zi("type",["menu"]),nh,z1,gd,fi("items",SM),...M4],o6=[...M4,zi("type",["togglebutton"]),z1,gd,nh,Ua("active",!1)],Bv=Fi("type",{submit:Vw,cancel:Vw,custom:Vw,menu:AM,togglebutton:o6}),n6=Pm.concat([_s("context","mode:design")]),TM=xo(n6),DM=Bd(al),s6=o=>[kr,gu("columns"),o],OM=[kr,wr("html"),od("presets","presentation",["presentation","document"]),mn("onInit",xe),Ua("stretched",!1)],NM=xo(OM),r6=Pm.concat([Ua("border",!1),Ua("sandboxed",!0),Ua("streamContent",!1),Ua("transparent",!0)]),a6=xo(r6),i6=Rr,l6=xo(vb.concat([tr("height")])),RM=xo([wr("url"),$r("zoom"),$r("cachedWidth"),$r("cachedHeight")]),MM=Pm.concat([tr("inputMode"),tr("placeholder"),Ua("maximized",!1),zu,_s("context","mode:design")]),c6=xo(MM),I4=Rr,P4=o=>[kr,pb,o,od("align","start",["start","center","end"]),tr("for")],d6=[Up,gb],u6=[Up,fi("items",bg(0,()=>L4))],L4=gg([xo(d6),xo(u6)]),BM=Pm.concat([fi("items",L4),zu,_s("context","mode:design")]),F4=xo(BM),IM=Rr,m6=Pm.concat([ip("items",[Up,gb]),rf("size",1),zu,_s("context","mode:design")]),f6=xo(m6),H1=Rr,PM=Pm.concat([Ua("constrain",!0),zu,_s("context","mode:design")]),z4=xo(PM),Iv=xo([wr("width"),wr("height")]),LM=vb.concat([pb,rf("min",0),rf("max",0)]),p6=xo(LM),g6=s0,h6=[kr,fi("header",Rr),fi("cells",Bd(Rr))],H4=xo(h6),b6=Pm.concat([tr("placeholder"),Ua("maximized",!1),zu,_s("context","mode:design")]),FM=xo(b6),x6=Rr,v6=[_s("buttonType","default"),tr("text"),tr("tooltip"),tr("icon"),ti("search",!1,gg([pu,xo([tr("placeholder")])],o=>St(o)?o?A.some({placeholder:A.none()}):A.none():A.some(o))),Hi("fetch"),mn("onSetup",()=>xe),_s("context","mode:design")],V4=xo([kr,...v6]),$4=o=>Hs("menubutton",V4,o),y6=[zi("type",["directory","leaf"]),GT,wr("id"),Vi("menu",V4),tr("customStateIcon"),tr("customStateIconTooltip")],U4=xo(y6),zM=y6.concat([fi("children",bg(0,()=>nf("type",{directory:w6,leaf:U4})))]),w6=xo(zM),HM=nf("type",{directory:w6,leaf:U4}),VM=[kr,fi("items",HM),Ra("onLeafAction"),Ra("onToggleExpand"),bu("defaultExpandedIds",[],Rr),tr("defaultSelectedId")],C6=xo(VM),Pv=Pm.concat([od("filetype","file",["image","media","file"]),zu,tr("picker_text"),_s("context","mode:design")]),_6=xo(Pv),$M=xo([gb,Rv]),Z4=o=>lr("items","items",{tag:"required",process:{}},Bd(ap(r=>Hs(`Checking item of ${o}`,j4,r).fold(a=>Fo.error(sf(a)),a=>Fo.value(a))))),j4=nx(()=>{return nf("type",{alertbanner:Of,bar:xo((o=Z4("bar"),[kr,o])),button:xM,checkbox:Mv,colorinput:R4,colorpicker:QT,dropzone:TM,grid:xo(s6(Z4("grid"))),iframe:a6,input:c6,listbox:F4,selectbox:f6,sizeinput:z4,slider:p6,textarea:FM,urlinput:_6,customeditor:t6,htmlpanel:NM,imagepreview:l6,collection:O4,label:xo(P4(Z4("label"))),table:H4,tree:C6,panel:k6});var o}),UM=[kr,Pe("classes",[]),fi("items",j4)],k6=xo(UM),$w=[xb("tab"),GT,fi("items",j4)],ZM=[kr,ip("tabs",$w)],S6=xo(ZM),jM=B4,E6=Bv,A6=xo([wr("title"),il("body",nf("type",{panel:k6,tabpanel:S6})),_s("size","normal"),bu("buttons",[],E6),Pe("initialData",{}),mn("onAction",xe),mn("onChange",xe),mn("onSubmit",xe),mn("onClose",xe),mn("onCancel",xe),mn("onTabChange",xe)]),WM=xo([zi("type",["cancel","custom"]),...jM]),T6=xo([wr("title"),wr("url"),$r("height"),$r("width"),lp("buttons",WM),mn("onAction",xe),mn("onCancel",xe),mn("onClose",xe),mn("onMessage",xe)]),Uw=o=>Se(o)?[o].concat(Uo(nr(o),Uw)):Ue(o)?Uo(o,Uw):[],D6=o=>Me(o.type)&&Me(o.name),O6={checkbox:yM,colorinput:CM,colorpicker:JT,dropzone:DM,input:I4,iframe:i6,imagepreview:RM,selectbox:H1,sizeinput:Iv,slider:g6,listbox:IM,size:Iv,textarea:x6,urlinput:$M,customeditor:kM,collection:wM,togglemenuitem:EM},qM=o=>{const r=(l=>Do(Uw(l),D6))(o),a=Uo(r,l=>(d=>A.from(O6[d.type]))(l).fold(()=>[],d=>[il(l.name,d)]));return xo(a)},N6=o=>{var r;return{internalDialog:Ol(Hs("dialog",A6,o)),dataValidator:qM(o),initialData:(r=o.initialData)!==null&&r!==void 0?r:{}}},V1={open:(o,r)=>{const a=N6(r);return o(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(o,r)=>o(Ol(Hs("dialog",T6,r))),redial:o=>N6(o)},R6=xo([kr,nh]),M6=xo([Zp("autocompleteitem"),bb,zu,Rv,gb,nh,gd]),$1=[zu,z1,gd,nh,F1,_s("context","mode:design")],GM=xo([kr,hb,A4].concat($1)),W4=o=>Hs("toolbarbutton",GM,o),q4=[bb].concat($1),KM=xo(q4.concat([kr,hb,A4])),B6=o=>Hs("ToggleButton",KM,o),Zw=[mn("predicate",Qe),od("scope","node",["node","editor"]),od("position","selection",["node","selection","line"])],YM=$1.concat([Zp("contextformbutton"),_s("align","end"),zw,hb,Vr("original",Ct)]),XM=q4.concat([Zp("contextformbutton"),_s("align","end"),zw,hb,Vr("original",Ct)]),G4=$1.concat([Zp("contextformbutton")]),I6=q4.concat([Zp("contextformtogglebutton")]),K4=[Nv,fi("commands",Fi("type",{contextformbutton:YM,contextformtogglebutton:XM})),Vi("launch",Fi("type",{contextformbutton:G4,contextformtogglebutton:I6})),mn("onInput",xe),mn("onSetup",xe)],QM=[...Zw,...K4,zi("type",["contextform"]),mn("initValue",ne("")),tr("placeholder")],P6=[...Zw,...K4,zi("type",["contextsliderform"]),mn("initValue",ne(0)),mn("min",ne(0)),mn("max",ne(100))],JM=[...Zw,...K4,zi("type",["contextsizeinputform"]),mn("initValue",ne({width:"",height:""}))],eB=Fi("type",{contextform:QM,contextsliderform:P6,contextsizeinputform:JM}),L6=$1.concat([Zp("contexttoolbarbutton")]),F6=xo([Zp("contexttoolbar"),ll("launch",L6),il("items",gg([Rr,a0([tr("name"),tr("label"),fi("items",Rr)])]))].concat(Zw)),z6=o=>({name:o.name.getOrUndefined(),label:o.label.getOrUndefined(),items:o.items}),tB=[kr,wr("src"),tr("alt"),bu("classes",[],Rr)],oB=xo(tB),nB=[kr,Up,hM,bu("classes",["tox-collection__item-label"],Rr)],H6=xo(nB),jw=nx(()=>nf("type",{cardimage:oB,cardtext:H6,cardcontainer:sB})),sB=xo([kr,_s("direction","horizontal"),_s("align","left"),_s("valign","middle"),fi("items",jw)]),rB=xo([kr,Nv,fi("items",jw),F1,Hw].concat(sh)),aB=xo([kr,bb,gd,Nv].concat(sh)),Y4=[kr,wr("fancytype"),Hw],iB=[Pe("initData",{})].concat(Y4),lB=[Ra("select"),l0("initData",{},[Ua("allowCustomColors",!0),_s("storageKey","default"),lp("colors",Ns())])].concat(Y4),V6=[Ra("select"),hu("initData",[gu("columns"),bu("items",[],Ns())])].concat(Y4),$6=Fi("fancytype",{inserttable:iB,colorswatch:lB,imageselect:V6}),cB=xo([kr,bb,mM,Nv,z1].concat(sh)),dB=xo([kr,bb,E4,pb,z1,gb].concat(sh)),uB=xo([kr,F1,Hw,gd].concat(sh)),Fc=xo([kr,pM,F1,gd].concat(sh)),Hu=xo([kr,gd,bb,F1,hb].concat(sh)),U6=xo([gd,z1,mn("onShow",xe),mn("onHide",xe),F1]),X4=xo([kr,il("items",gg([a0([S4,fi("items",Rr)]),Rr]))].concat($1)),Q4=xo([kr,z1,gd,nh,Fw,fM,F1,od("presets","normal",["normal","color","listpreview"]),KT(1),hb,gM,_s("context","mode:design")]),Lv=[nh,gd,tr("tooltip"),od("buttonType","secondary",["primary","secondary"]),Ua("borderless",!1),Hi("onAction"),_s("context","mode:design")],Z6={button:[...Lv,Up,zi("type",["button"])],togglebutton:[...Lv,Ua("active",!1),zi("type",["togglebutton"])]},j6=[zi("type",["group"]),bu("buttons",[],Fi("type",Z6))],Fv=Fi("type",{...Z6,group:j6}),mB=xo([bu("buttons",[],Fv),Hi("onShow"),Hi("onHide")]),yb=(o,r,a)=>{const l=ca(o.element,"."+a);if(l.length>0){const d=dr(l,m=>{const p=m.dom.getBoundingClientRect().top,b=l[0].dom.getBoundingClientRect().top;return Math.abs(p-b)>r}).getOr(l.length);return A.some({numColumns:d,numRows:Math.ceil(l.length/d)})}return A.none()},U1=o=>((r,a)=>pt([vo(r,a)]))(Oe("unnamed-events"),o),J4=o=>eo.config({disabled:o,disableClass:"tox-collection__item--state-disabled"}),jp=o=>eo.config({disabled:o}),W6=o=>eo.config({disabled:o,disableClass:"tox-tbtn--disabled"}),Ww=o=>eo.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),zc=(o,r)=>{const a=o.getApi(r);return l=>{l(a)}},wa=(o,r)=>ts(a=>{yt(o.onBeforeSetup)&&o.onBeforeSetup(a),zc(o,a)(l=>{const d=o.onSetup(l);yt(d)&&r.set(d)})}),Vu=(o,r)=>ad(a=>zc(o,a)(r.get())),Zl=(o,r,a)=>ad(l=>(a.set(zt.getValue(l)),zc(o,l)(r.get()))),q6="silver.uistate",ns="setDisabled",G6="init",Z1=["switchmode",G6],Wp=(o,r)=>{const a=o.mainUi.outerContainer,l=[o.mainUi.mothership,...o.uiMotherships];r===ns&&gt(l,d=>{d.broadcastOn([Tm()],{target:a.element})}),gt(l,d=>{d.broadcastOn([q6],r)})},e3=(o,r)=>{o.on("init SwitchMode",a=>{Wp(r,a.type)}),o.on("DisabledStateChange",a=>{if(!a.isDefaultPrevented()){const l=a.state?ns:G6;Wp(r,l),a.state||o.nodeChanged()}}),o.on("NodeChange",a=>{const l=o.ui.isEnabled()?a.type:ns;Wp(r,l)}),Xk(o)&&o.mode.set("readonly")},gr=o=>Vl.config({channels:{[q6]:{onReceive:(r,a)=>{if(a===ns||a==="setEnabled")return void eo.set(r,a===ns);const{contextType:l,shouldDisable:d}=o();(l!=="mode"||Et(Z1,a))&&eo.set(r,d)}}}}),t3=(o,r)=>zd((a,l)=>{zc(o,a)(o.onAction),o.triggersSubmenu||r!==Qd.CLOSE_ON_EXECUTE||(a.getSystem().isConnected()&&Xo(a,Lh()),l.stop())}),fB={[dl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},rh=ql,j1=(o,r,a,l)=>{const d=Vt(xe);return{type:"item",dom:r.dom,components:rh(r.optComponents),data:o.data,eventOrder:fB,hasSubmenu:o.triggersSubmenu,itemBehaviours:pt([vo("item-events",[t3(o,a),wa(o,d),Vu(o,d)]),J4(()=>!o.enabled||l.checkUiComponentContext(o.context).shouldDisable),gr(()=>l.checkUiComponentContext(o.context)),Ao.config({})].concat(o.itemBehaviours))}},ah=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),K6=(o,r)=>{var a,l;const d=Yl("div");return ls(d,"tox-image-selector-loading-spinner"),{dom:{tag:o.tag,attributes:(a=o.attributes)!==null&&a!==void 0?a:{},classes:o.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:r},classes:["tox-image-selector-image-img"]}}]},...o.checkMark.toArray()],behaviours:pt([...(l=o.behaviours)!==null&&l!==void 0?l:[],vo("render-image-events",[ts(m=>{var p;p=m.element,ls(p,"tox-image-selector-loading-spinner-wrapper"),Vo(p,d),Nn(m.element,"img").each(b=>{qm(b).catch(x=>{console.error(x)}).finally(()=>{(x=>{vs(x,"tox-image-selector-loading-spinner-wrapper"),Ad(d)})(m.element)})})})])])}},zv=o=>{const r=cb.os.isMacOS()||cb.os.isiOS(),a=r?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=o.split("+"),d=Ee(l,m=>{const p=m.toLowerCase().trim();return jo(a,p)?a[p]:m});return r?d.join(""):d.join("+")},qw=(o,r,a=[zT])=>pd(o,{tag:"div",classes:a},r),Hv=o=>({dom:{tag:"div",classes:[w4]},components:[$s(fd.translate(o))]}),Y6=(o,r)=>({dom:{tag:"div",classes:r,innerHtml:o}}),pB=(o,r)=>({dom:{tag:"div",classes:[w4]},components:[{dom:{tag:o.tag,styles:o.styles},components:[$s(fd.translate(r))]}]}),gB=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[$s(zv(o))]}),o3=o=>qw("checkmark",o,["tox-collection__item-checkmark"]),n3=(o,r)=>{const a=o.map(l=>({attributes:{id:Oe("menu-item"),"aria-label":fd.translate(l)}})).getOr({});return{tag:"div",classes:[Tv,Ow].concat(r),...a}},s3=o=>({dom:{tag:"label"},components:[$s(o)]}),wb=(o,r,a,l=A.none())=>o.presets==="color"?((d,m,p)=>{const b=d.value,x=d.iconContent.map(E=>((C,T,B)=>{const L=T();return LT(C,L).or(B).getOrThunk(Av(L))})(E,m.icons,p)),w=d.ariaLabel.map(E=>({"aria-label":m.translate(E),"data-mce-name":E})).getOr({});return{dom:(()=>{const E=y4,C=x.getOr(""),T={tag:"div",attributes:w,classes:[E]};return b==="custom"?{...T,tag:"button",classes:[...T.classes,"tox-swatches__picker-btn"],innerHtml:C}:b==="remove"?{...T,classes:[...T.classes,"tox-swatch--remove"],innerHtml:C}:Ne(b)?{...T,attributes:{...T.attributes,"data-mce-color":b},styles:{"background-color":b},innerHtml:C}:T})(),optComponents:[]}})(o,r,l):o.presets==="img"?(d=>{var m,p;return{dom:n3(d.ariaLabel,["tox-collection__item-image-selector"]),optComponents:[A.some((m=d.iconContent.getOrDie(),p={tag:"div",classes:["tox-collection__item-image"],checkMark:d.checkMark},K6(p,m))),d.labelContent.map(s3)]}})(o):((d,m,p,b)=>{const x={tag:"div",classes:[zT]},w=p?d.iconContent.map(B=>pd(B,x,m.icons,b)).orThunk(()=>A.some({dom:x})):A.none(),E=d.checkMark,C=A.from(d.meta).fold(()=>Hv,B=>jo(B,"style")?yn(pB,B.style):Hv),T=d.htmlContent.fold(()=>d.textContent.map(C),B=>A.some(Y6(B,[w4])));return{dom:n3(d.ariaLabel,[]),optComponents:[w,T,d.shortcutContent.map(gB),E,d.caret,d.labelContent.map(s3)]}})(o,r,a,l),X6=(o,r,a)=>Kt(o,"tooltipWorker").map(l=>[Rs.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:gm}}),mode:"follow-highlight",onShow:(d,m)=>{l(p=>{Rs.setComponents(d,[GE({element:Ft(p)})])})}})]).getOrThunk(()=>a.map(l=>[Rs.config({...r.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),r3=(o,r)=>{const a=(l=>Xg.DOM.encode(l))(fd.translate(o));if(r.length>0){const l=new RegExp((d=>d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(r),"gi");return a.replace(l,d=>`<span class="tox-autocompleter-highlight">${d}</span>`)}return a},Q6=(o,r)=>Ee(o,a=>{switch(a.type){case"cardcontainer":return((m,p)=>{const b=m.direction==="vertical"?"tox-collection__item-container--column":Rw,x=m.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[HT,b,x,(()=>{switch(m.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(a,Q6(a.items,r));case"cardimage":return((m,p,b)=>({dom:{tag:"img",classes:p,attributes:{src:m,alt:b.getOr("")}}}))(a.src,a.classes,a.alt);case"cardtext":const l=a.name.exists(m=>Et(r.cardText.highlightOn,m)),d=l?A.from(r.cardText.matchText).getOr(""):"";return Y6(r3(a.text,d),a.classes)}}),a3=(o,r,a,l,d,m,p,b=!0)=>{const x=wb({presets:a,textContent:r?o.text:A.none(),htmlContent:A.none(),labelContent:o.label,ariaLabel:o.text,iconContent:o.icon,shortcutContent:r?o.shortcut:A.none(),checkMark:r?A.some(o3(p.icons)):A.none(),caret:A.none(),value:o.value},p,b),w=o.text.filter(ne(!r)).map(E=>Rs.config(p.tooltips.getConfig({tooltipText:p.translate(E)})));return Wo(j1({context:o.context,data:ah(o),enabled:o.enabled,getApi:E=>({setActive:C=>{Zo.set(E,C)},isActive:()=>Zo.isOn(E),isEnabled:()=>!eo.isDisabled(E),setEnabled:C=>eo.set(E,!C)}),onAction:E=>l(o.value),onSetup:E=>(E.setActive(d),xe),triggersSubmenu:!1,itemBehaviours:[...w.toArray()]},x,m,p),{toggling:{toggleClass:L1,toggleOnExecute:!1,selected:o.active,exclusive:!0}})},Cb=o=>({value:l3(o)}),J6=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,eD=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,i3=o=>J6.test(o)||eD.test(o),l3=o=>Yn(o,"#").toUpperCase(),Vv=o=>{const r=o.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},_b=o=>{const r=Vv(o.red)+Vv(o.green)+Vv(o.blue);return Cb(r)},$v=(o,r,a)=>({hue:o,saturation:r,value:a}),c3=o=>{let r=0,a=0,l=0;const d=o.red/255,m=o.green/255,p=o.blue/255,b=Math.min(d,Math.min(m,p)),x=Math.max(d,Math.max(m,p));return b===x?(l=b,$v(0,0,100*l)):(r=d===b?3:p===b?1:5,r=60*(r-(d===b?m-p:p===b?d-m:p-d)/(x-b)),a=(x-b)/x,l=x,$v(Math.round(r),Math.round(100*a),Math.round(100*l)))},tD=Math.min,oD=Math.max,Gw=Math.round,hB=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,nD=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,bl=(o,r,a,l)=>({red:o,green:r,blue:a,alpha:l}),d3=o=>{const r=parseInt(o,10);return r.toString()===o&&r>=0&&r<=255},Kw=o=>{let r,a,l;const d=(o.hue||0)%360;let m=o.saturation/100,p=o.value/100;if(m=oD(0,tD(m,1)),p=oD(0,tD(p,1)),m===0)return r=a=l=Gw(255*p),bl(r,a,l,1);const b=d/60,x=p*m,w=x*(1-Math.abs(b%2-1)),E=p-x;switch(Math.floor(b)){case 0:r=x,a=w,l=0;break;case 1:r=w,a=x,l=0;break;case 2:r=0,a=x,l=w;break;case 3:r=0,a=w,l=x;break;case 4:r=w,a=0,l=x;break;case 5:r=x,a=0,l=w;break;default:r=a=l=0}return r=Gw(255*(r+E)),a=Gw(255*(a+E)),l=Gw(255*(l+E)),bl(r,a,l,1)},kb=o=>{const r=(m=>{const p=(x=>({value:x.value.replace(J6,(E,C,T,B)=>C+C+T+T+B+B)}))(m),b=eD.exec(p.value);return b===null?["FFFFFF","FF","FF","FF"]:b})(o),a=parseInt(r[1],16),l=parseInt(r[2],16),d=parseInt(r[3],16);return bl(a,l,d,1)},u3=(o,r,a,l)=>{const d=parseInt(o,10),m=parseInt(r,10),p=parseInt(a,10),b=parseFloat(l);return bl(d,m,p,b)},m3=o=>{const r=hB.exec(o);if(r!==null)return A.some(u3(r[1],r[2],r[3],"1"));const a=nD.exec(o);return a!==null?A.some(u3(a[1],a[2],a[3],a[4])):A.none()},f3=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,p3=bl(255,0,0,1),g3=o=>_b(Kw(o)),h3=(o,r)=>{o.dispatch("ResizeContent",r)},sD=(o,r)=>{o.dispatch("TextColorChange",r)},bB=(o,r)=>o.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),rD=o=>{o.dispatch("ContextToolbarClose")},Yw=(o,r)=>()=>{o(),r()},xl=(o,r=Jt)=>ih(o,"NodeChange",a=>{a.setEnabled(o.selection.isEditable()&&r())}),Xw=(o,r)=>a=>{const l=xl(o)(a),d=((m,p)=>b=>{const x=Cs(),w=()=>{b.setActive(m.formatter.match(p));const E=m.formatter.formatChanged(p,b.setActive);x.set(E)};return m.initialized?w():m.once("init",w),()=>{m.off("init",w),x.clear()}})(o,r)(a);return()=>{l(),d()}},ih=(o,r,a)=>l=>{const d=()=>a(l),m=()=>{a(l),o.on(r,d)};return o.initialized?m():o.once("init",m),()=>{o.off("init",m),o.off(r,d)}},b3=o=>r=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,r.format)})},pc=(o,r)=>()=>o.execCommand(r);var W1=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const aD={},iD=o=>Kt(aD,o).getOrThunk(()=>{const r=`tinymce-custom-colors-${o}`,a=W1.getItem(r);if(xt(a)){const d=W1.getItem("tinymce-custom-colors");W1.setItem(r,Ne(d)?d:"[]")}const l=((d,m=10)=>{const p=W1.getItem(d),b=Me(p)?JSON.parse(p):[],x=m-(w=b).length<0?w.slice(0,m):w;var w;const E=C=>{x.splice(C,1)};return{add:C=>{((T,B)=>{const L=ta(T,B);return L===-1?A.none():A.some(L)})(x,C).each(E),x.unshift(C),x.length>m&&x.pop(),W1.setItem(d,JSON.stringify(x))},state:()=>x.slice(0)}})(r,10);return aD[o]=l,l}),q1=(o,r)=>{iD(o).add(r)},x3="forecolor",Qw="hilitecolor",v3=o=>{const r=[];for(let a=0;a<o.length;a+=2)r.push({text:o[a+1],value:o[a],icon:"checkmark",type:"choiceitem"});return r},$u=o=>r=>r.options.get(o),Jw="#000000",Sb=(o,r)=>r===x3&&o.options.isSet("color_map_foreground")?$u("color_map_foreground")(o):r===Qw&&o.options.isSet("color_map_background")?$u("color_map_background")(o):o.options.isSet("color_map_raw")?$u("color_map_raw")(o):$u("color_map")(o),Uv=(o,r="default")=>Math.max(5,Math.ceil(Math.sqrt(Sb(o,r).length))),eC=(o,r)=>{const a=$u("color_cols")(o),l=Uv(o,r);return a===Uv(o)?l:a},y3=(o,r="default")=>Math.round(r===x3?$u("color_cols_foreground")(o):r===Qw?$u("color_cols_background")(o):$u("color_cols")(o)),lD=$u("custom_colors"),cD=$u("color_default_foreground"),xB=$u("color_default_background"),dD=(o,r)=>{const a=Ft(o.selection.getStart()),l=r==="hilitecolor"?nm(a,d=>{if(Ho(d)){const m=Ha(d,"background-color");return ci((p=>m3(p).exists(b=>b.alpha!==0))(m),m)}return A.none()}).getOr("rgba(0, 0, 0, 0)"):Ha(a,"color");return m3(l).map(d=>"#"+_b(d).value)},uD=o=>{const r="choiceitem",a={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[a,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},tC=(o,r,a,l)=>{a==="custom"?hD(o)(d=>{d.each(m=>{q1(r,m),o.execCommand("mceApplyTextcolor",r,m),l(m)})},dD(o,r).getOr(Jw)):a==="remove"?(l(""),o.execCommand("mceRemoveTextcolor",r)):(l(a),o.execCommand("mceApplyTextcolor",r,a))},oC=(o,r,a)=>o.concat((l=>Ee(iD(l).state(),d=>({type:"choiceitem",text:d,icon:"checkmark",value:d})))(r).concat(uD(a))),w3=(o,r,a)=>l=>{l(oC(o,r,a))},C3=(o,r,a)=>{const l=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(l,a)},mD=(o,r)=>{o.setTooltip(r)},fD=(o,r)=>a=>{const l=dD(o,r);return Sa(l,a.toUpperCase())},_3=(o,r,a)=>{if(sr(a))return r==="forecolor"?"Text color":"Background color";const l=r==="forecolor"?"Text color {0}":"Background color {0}",d=oC(Sb(o,r),r,!1),m=z(d,p=>p.value===a).getOr({text:""}).text;return o.translate([l,o.translate(m)])},pD=(o,r,a,l)=>{o.ui.registry.addSplitButton(r,{tooltip:_3(o,a,l.get()),presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:fD(o,a),columns:y3(o,a),fetch:w3(Sb(o,a),a,lD(o)),onAction:d=>{tC(o,a,l.get(),xe)},onItemAction:(d,m)=>{tC(o,a,m,p=>{l.set(p),sD(o,{name:r,color:p})})},onSetup:d=>{C3(d,r,l.get());const m=p=>{p.name===r&&(C3(d,p.name,p.color),mD(d,_3(o,a,p.color)))};return o.on("TextColorChange",m),Yw(xl(o)(d),()=>{o.off("TextColorChange",m)})}})},gD=(o,r,a,l,d)=>{o.ui.registry.addNestedMenuItem(r,{text:l,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:m=>(mD(m,_3(o,a,d.get())),C3(m,r,d.get()),xl(o)(m)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:fD(o,a),initData:{storageKey:a},onAction:m=>{tC(o,a,m.value,p=>{d.set(p),sD(o,{name:r,color:p})})}}]})},hD=o=>(r,a)=>{let l=!1;const d={colorpicker:a};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:d,onAction:(m,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:m=>{const p=m.getData().colorpicker;l?(r(A.from(p)),m.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",p]))},onClose:xe,onCancel:()=>{r(A.none())}})},nC=(o,r,a,l,d,m,p,b)=>{const x=Ov(r),w=vB(r,a,l,d!=="color"?"normal":"color",m,p,b);return k4(o,x,w,l,{menuType:d})},vB=(o,r,a,l,d,m,p)=>ql(Ee(o,b=>{return b.type==="choiceitem"?(x=b,Hs("choicemenuitem",aB,x)).fold(Im,w=>A.some(a3(w,a===1,l,r,m(w.value),d,p,Ov(o)))):b.type==="imageitem"?(w=>Hs("imagemenuitem",cB,w))(b).fold(Im,w=>A.some(((E,C,T,B,L)=>{const Y=wb({presets:"img",textContent:A.none(),htmlContent:A.none(),ariaLabel:E.tooltip,iconContent:A.some(E.url),labelContent:E.label,shortcutContent:A.none(),checkMark:A.some(o3(L.icons)),caret:A.none(),value:E.value},L,!0),W=E.tooltip.map(X=>Rs.config(L.tooltips.getConfig({tooltipText:L.translate(X)})));return Wo(j1({context:E.context,data:ah(E),enabled:E.enabled,getApi:X=>({setActive:$=>{Zo.set(X,$)},isActive:()=>Zo.isOn(X),isEnabled:()=>!eo.isDisabled(X),setEnabled:$=>eo.set(X,!$)}),onAction:X=>{C(E.value),X.setActive(!0)},onSetup:X=>(X.setActive(T),xe),triggersSubmenu:!1,itemBehaviours:[...W.toArray()]},Y,B,L),{toggling:{toggleClass:L1,toggleOnExecute:!1,selected:E.active,exclusive:!0}})})(w,r,m(w.value),d,p))):b.type==="resetimage"?(w=>Hs("resetimageitem",dB,w))(b).fold(Im,w=>A.some(a3({...w,text:w.tooltip,icon:A.some(w.icon),label:A.some(w.label)},a===1,l,r,m(w.value),d,p,Ov(o)))):A.none();var x})),Zv=(o,r)=>{const a=oh(r);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[r],previousSelector:l=>r==="color"?Nn(l.element,"[aria-checked=true]"):A.none()}},bD=Oe("cell-over"),k3=Oe("cell-execute"),yB=(o,r,a)=>{const l=m=>oo(m,k3,{row:o,col:r}),d=(m,p)=>{p.stop(),l(m)};return Gi({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:pt([vo("insert-table-picker-cell",[et($i(),mo.focus),et(dl(),l),et(cl(),d),et(yg(),d)]),Zo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),mo.config({onFocus:m=>oo(m,bD,{row:o,col:r})})])})},wB=o=>Uo(o,r=>Ee(r,cd)),xD=(o,r)=>$s(`${r}x${o}`),CB={inserttable:(o,r)=>{const a=(p=>(b,x)=>p.shared.providers.translate(["{0} columns, {1} rows",x,b]))(r),l=(p=>{const b=[];for(let x=0;x<10;x++){const w=[];for(let E=0;E<10;E++){const C=p(x+1,E+1);w.push(yB(x,E,C))}b.push(w)}return b})(a),d=xD(0,0),m=Ln({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[d],behaviours:pt([Ao.config({})])});return{type:"widget",data:{value:Oe("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[jg.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:wB(l).concat(m.asSpec()),behaviours:pt([vo("insert-table-picker",[ts(p=>{Ao.set(m.get(p),[d])}),Bx(bD,(p,b,x)=>{const{row:w,col:E}=x.event;((C,T,B)=>{for(let L=0;L<10;L++)for(let Y=0;Y<10;Y++)Zo.set(C[L][Y],L<=T&&Y<=B)})(l,w,E),Ao.set(m.get(p),[xD(w+1,E+1)])}),Bx(k3,(p,b,x)=>{const{row:w,col:E}=x.event;Xo(p,Lh()),o.onAction({numRows:w+1,numColumns:E+1})})]),Bt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,r)=>{const a=((b,x)=>{const w=b.initData.allowCustomColors&&x.colorinput.hasCustomColors();return b.initData.colors.fold(()=>oC(x.colorinput.getColors(b.initData.storageKey),b.initData.storageKey,w),E=>E.concat(uD(w)))})(o,r),l=r.colorinput.getColorCols(o.initData.storageKey),d="color",m=nC(Oe("menu-value"),a,b=>{o.onAction({value:b})},l,d,Qd.CLOSE_ON_EXECUTE,o.select.getOr(Qe),r.shared.providers),p={...m,markers:oh(d),movement:Zv(l,d),showMenuRole:!1};return{type:"widget",data:{value:Oe("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[jg.widget(Af.sketch(p))]}},imageselect:(o,r)=>{const a="imageselector",l=o.initData.columns,d=nC(Oe("menu-value"),o.initData.items,p=>{o.onAction({value:p})},l,a,Qd.CLOSE_ON_EXECUTE,o.select.getOr(Qe),r.shared.providers),m={...d,markers:oh(a),movement:Zv(l,a),showMenuRole:!1};return{type:"widget",data:{value:Oe("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[jg.widget(Af.sketch(m))]}}},vD=o=>({type:"separator",dom:{tag:"div",classes:[Ow,"tox-collection__group-heading"]},components:o.text.map($s).toArray()}),jv=(o,r,a)=>{jT(o).each(l=>{var d;((m,p)=>{Ta(p.element,"id").each(b=>bo(m.element,"aria-activedescendant",b))})(l,a),(Ja((d=r).element,Iw)?A.some(d.element):Nn(d.element,"."+Iw)).each(m=>{Ta(m,"id").each(p=>bo(l.element,"aria-controls",p))})}),bo(a.element,"aria-selected","true")},yD=(o,r,a)=>{bo(a.element,"aria-selected","false")},_B=o=>_r.getExistingCoupled(o,"sandbox").bind(Bw).map(WT).map(r=>r.fetchPattern).getOr("");var sC;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(sC||(sC={}));const kB=(o,r,a,l,d)=>{const m=a.shared.providers,p=x=>d?{...x,shortcut:A.none(),icon:x.text.isSome()?A.none():x.icon}:x;switch(o.type){case"menuitem":return(b=o,Hs("menuitem",uB,b)).fold(Im,x=>A.some(((w,E,C,T=!0)=>{const B=wb({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:A.none(),labelContent:A.none(),ariaLabel:w.text,caret:A.none(),checkMark:A.none(),shortcutContent:w.shortcut},C,T);return j1({context:w.context,data:ah(w),getApi:L=>({isEnabled:()=>!eo.isDisabled(L),setEnabled:Y=>eo.set(L,!Y)}),enabled:w.enabled,onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},B,E,C)})(p(x),r,m,l)));case"nestedmenuitem":return(x=>Hs("nestedmenuitem",Fc,x))(o).fold(Im,x=>A.some(((w,E,C,T=!0,B=!1)=>{const L=B?(Y=C.icons,qw("chevron-down",Y,[Nw])):(X=>qw("chevron-right",X,[Nw]))(C.icons);var Y;const W=wb({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:A.none(),ariaLabel:w.text,labelContent:A.none(),caret:A.some(L),checkMark:A.none(),shortcutContent:w.shortcut},C,T);return j1({context:w.context,data:ah(w),getApi:X=>({isEnabled:()=>!eo.isDisabled(X),setEnabled:$=>eo.set(X,!$),setIconFill:($,U)=>{Nn(X.element,`svg path[class="${$}"], rect[class="${$}"]`).each(te=>{bo(te,"fill",U)})},setTooltip:$=>{const U=C.translate($);bo(X.element,"aria-label",U)}}),enabled:w.enabled,onAction:xe,onSetup:w.onSetup,triggersSubmenu:!0,itemBehaviours:[]},W,E,C)})(p(x),r,m,l,d)));case"togglemenuitem":return(x=>Hs("togglemenuitem",Hu,x))(o).fold(Im,x=>A.some(((w,E,C,T=!0)=>{const B=wb({iconContent:w.icon,textContent:w.text,htmlContent:A.none(),labelContent:A.none(),ariaLabel:w.text,checkMark:A.some(o3(C.icons)),caret:A.none(),shortcutContent:w.shortcut,presets:"normal",meta:w.meta},C,T);return Wo(j1({context:w.context,data:ah(w),enabled:w.enabled,getApi:L=>({setActive:Y=>{Zo.set(L,Y)},isActive:()=>Zo.isOn(L),isEnabled:()=>!eo.isDisabled(L),setEnabled:Y=>eo.set(L,!Y)}),onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},B,E,C),{toggling:{toggleClass:L1,toggleOnExecute:!1,selected:w.active},role:w.role.getOrUndefined()})})(p(x),r,m,l)));case"separator":return(x=>Hs("separatormenuitem",R6,x))(o).fold(Im,x=>A.some(vD(x)));case"fancymenuitem":return(x=>Hs("fancymenuitem",$6,x))(o).fold(Im,x=>((w,E)=>Kt(CB,w.fancytype).map(C=>C(w,E)))(x,a));default:return console.error("Unknown item in general menu",o),A.none()}var b},SB=(o,r,a,l,d,m,p)=>{const b=l===1,x=!b||Ov(o);return ql(Ee(o,w=>{switch(w.type){case"separator":return(E=w,Hs("Autocompleter.Separator",R6,E)).fold(Im,C=>A.some(vD(C)));case"cardmenuitem":return(C=>Hs("cardmenuitem",rB,C))(w).fold(Im,C=>A.some(((T,B,L,Y)=>{const W={dom:n3(T.label,[]),optComponents:[A.some({dom:{tag:"div",classes:[HT,Rw]},components:Q6(T.items,Y)})]};return j1({context:"mode:design",data:ah({text:A.none(),...T}),enabled:T.enabled,getApi:X=>({isEnabled:()=>!eo.isDisabled(X),setEnabled:$=>{eo.set(X,!$),gt(ca(X.element,"*"),U=>{X.getSystem().getByDom(U).each(te=>{te.hasConfigured(eo)&&eo.set(te,!$)})})}}),onAction:T.onAction,onSetup:T.onSetup,triggersSubmenu:!1,itemBehaviours:A.from(Y.itemBehaviours).getOr([])},W,B,L.providers)})({...C,onAction:T=>{C.onAction(T),a(C.value,C.meta)}},d,m,{itemBehaviours:X6(C.meta,m,A.none()),cardText:{matchText:r,highlightOn:p}})));default:return(C=>Hs("Autocompleter.Item",M6,C))(w).fold(Im,C=>A.some(((T,B,L,Y,W,X,$,U=!0)=>{const te=wb({presets:Y,textContent:A.none(),htmlContent:L?T.text.map(de=>r3(de,B)):A.none(),ariaLabel:T.text,labelContent:A.none(),iconContent:T.icon,shortcutContent:A.none(),checkMark:A.none(),caret:A.none(),value:T.value},$.providers,U,T.icon),oe=T.text.filter(de=>!L&&de!=="");return j1({context:"mode:design",data:ah(T),enabled:T.enabled,getApi:ne({}),onAction:de=>W(T.value,T.meta),onSetup:ne(xe),triggersSubmenu:!1,itemBehaviours:X6(T,$,oe)},te,X,$.providers)})(C,r,b,"normal",a,d,m,x)))}var E}))},wD=(o,r,a,l,d,m)=>{const p=Ov(r),b=ql(Ee(r,w=>{const E=C=>kB(C,a,l,(T=>d?!jo(T,"text"):p)(C),d);return w.type==="nestedmenuitem"&&w.getSubmenuItems().length<=0?E({...w,enabled:!1}):E(w)})),x=(w=>w.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:w})(m);return(d?uM:k4)(o,p,b,1,x)},S3=o=>Zg.singleData(o.value,o),E3=o=>op(Ft(o.startContainer),o.startOffset,Ft(o.endContainer),o.endOffset),CD=(o,r)=>{const a=Oe("autocompleter"),l=Vt(!1),d=Vt(!1),m=Bn(),p=Gi(Qs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:a}},components:[],fireDismissalEventInstead:{},inlineBehaviours:pt([vo("dismissAutocompleter",[et(up(),()=>C()),et(um(),(L,Y)=>{Ta(Y.event.target,"id").each(W=>bo(Ft(o.getBody()),"aria-activedescendant",W))})])]),lazySink:r.getSink})),b=()=>Qs.isOpen(p),x=d.get,w=()=>{if(b()){Qs.hide(p),o.dom.remove(a,!1);const L=Ft(o.getBody());Ta(L,"aria-owns").filter(Y=>Y===a).each(()=>{qs(L,"aria-owns"),qs(L,"aria-activedescendant")})}},E=()=>Qs.getContent(p).bind(L=>Wl(L.components(),0)),C=()=>o.execCommand("mceAutocompleterClose"),T=L=>{const Y=(W=>{const X=ws(W,$=>A.from($.columns)).getOr(1);return Uo(W,$=>{const U=$.items;return SB(U,$.matchText,(te,oe)=>{const de={hide:()=>C(),reload:he=>{w(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:he})}};o.execCommand("mceAutocompleterRefreshActiveRange"),m.get().each(he=>{l.set(!0),$.onAction(de,he,te,oe),l.set(!1)})},X,Qd.BUBBLE_TO_SANDBOX,r,$.highlightOn)})})(L);Y.length>0?(((W,X)=>{const $=ws(W,U=>A.from(U.columns)).getOr(1);Qs.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>m.get().map(E3),root:Ft(o.getBody())}},((U,te,oe,de)=>{const he=Zv(te,de),ke=oh(de);return{data:S3({...U,movement:he,menuBehaviours:U1(te!=="auto"?[]:[ts((ze,tt)=>{yb(ze,4,ke.item).each(({numColumns:Je,numRows:rt})=>{Bt.setGridSize(ze,rt,Je)})})])}),menu:{markers:oh(de),fakeFocus:oe===sC.ContentFocus}}})(k4("autocompleter-value",!0,X,$,{menuType:"normal"}),$,sC.ContentFocus,"normal")),E().each(Dn.highlightFirst)})(L,Y),bo(Ft(o.getBody()),"aria-owns",a),o.inline||B()):w()},B=()=>{o.dom.get(a)&&o.dom.remove(a,!1);const L=o.getDoc().documentElement,Y=o.selection.getNode(),W=(X=>Dt(X,!0))(p.element);Ei(W,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Y.offsetTop}px`,left:`${Y.offsetLeft}px`}),o.dom.add(L,W.dom),Nn(W,'[role="menu"]').each(X=>{un(X,"position"),un(X,"max-height")})};o.on("AutocompleterStart",({lookupData:L})=>{d.set(!0),l.set(!1),T(L)}),o.on("AutocompleterUpdate",({lookupData:L})=>T(L)),o.on("AutocompleterUpdateActiveRange",({range:L})=>m.set(L)),o.on("AutocompleterEnd",()=>{w(),d.set(!1),l.set(!1),m.clear()}),((L,Y)=>{const W=($,U)=>{oo($,Id(),{raw:U})},X=()=>L.getMenu().bind(Dn.getHighlighted);Y.on("keydown",$=>{const U=$.which;L.isActive()&&(L.isMenuOpen()?U===13?(X().each(bp),$.preventDefault()):U===40?(X().fold(()=>{L.getMenu().each(Dn.highlightFirst)},te=>{W(te,$)}),$.preventDefault(),$.stopImmediatePropagation()):U!==37&&U!==38&&U!==39||X().each(te=>{W(te,$),$.preventDefault(),$.stopImmediatePropagation()}):U!==13&&U!==38&&U!==40||L.cancelIfNecessary())}),Y.on("NodeChange",()=>{!L.isActive()||L.isProcessingAction()||Y.queryCommandState("mceAutoCompleterInRange")||L.cancelIfNecessary()})})({cancelIfNecessary:C,isMenuOpen:b,isActive:x,isProcessingAction:l.get,getMenu:E},o)};var _D=tinymce.util.Tools.resolve("tinymce.html.Entities");const Wv=(o,r,a,l)=>{const d=kD(o,r,a,l);return Oo.sketch(d)},kD=(o,r,a,l)=>({dom:SD(a),components:o.toArray().concat([r]),fieldBehaviours:pt(l)}),SD=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),lh=(o,r)=>Oo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(r.translate(o))]}),gc=Oe("form-component-change"),ED=Oe("form-component-input"),qv=Oe("form-close"),ch=Oe("form-cancel"),Nf=Oe("form-action"),Gv=Oe("form-submit"),A3=Oe("form-block"),T3=Oe("form-unblock"),Kv=Oe("form-tabchange"),rC=Oe("form-resize"),D3=(o,r,a)=>{const l=o.label.map(C=>lh(C,r)),d=r.icons(),m=C=>(T,B)=>{Ac(B.event.target,"[data-collection-item-value]").each(L=>{C(T,B,L,yr(L,"data-collection-item-value"))})},p=m((C,T,B,L)=>{T.stop(),r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()||oo(C,Nf,{name:o.name,value:L})}),b=[et($i(),m((C,T,B)=>{Ws(B,!0)})),et(cl(),p),et(yg(),p),et(Rl(),m((C,T,B)=>{Nn(C.element,"."+$p).each(L=>{vs(L,$p)}),ls(B,$p)})),et(ax(),m(C=>{Nn(C.element,"."+$p).each(T=>{vs(T,$p),kc(T)})})),zd(m((C,T,B,L)=>{oo(C,Nf,{name:o.name,value:L})}))],x=(C,T)=>Ee(ca(C.element,".tox-collection__item"),T),w=Oo.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ct},behaviours:pt([eo.config({disabled:()=>r.checkUiComponentContext(o.context).shouldDisable,onDisabled:C=>{x(C,T=>{ls(T,"tox-collection__item--state-disabled"),bo(T,"aria-disabled",!0)})},onEnabled:C=>{x(C,T=>{vs(T,"tox-collection__item--state-disabled"),qs(T,"aria-disabled")})}}),gr(()=>r.checkUiComponentContext(o.context)),Ao.config({}),Rs.config({...r.tooltips.getConfig({tooltipText:"",onShow:C=>{Nn(C.element,"."+$p+"[data-mce-tooltip]").each(T=>{Ta(T,"data-mce-tooltip").each(B=>{Rs.setComponents(C,r.tooltips.getComponents({tooltipText:B}))})})}}),mode:"children-keyboard-focus",anchor:C=>({type:"node",node:Nn(C.element,"."+$p).orThunk(()=>jf(".tox-collection__item")),root:C.element,layouts:{onLtr:ne([Br,ya,Ur,Wa,Mr,oi]),onRtl:ne([Br,ya,Ur,Wa,Mr,oi])},bubble:ml(0,-2,{})})}),zt.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(C,T)=>{((B,L)=>{const Y=r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()?" tox-collection__item--state-disabled":"",W=Ee(L,U=>{const te=fd.translate(U.text),oe=o.columns===1?`<div class="tox-collection__item-label">${te}</div>`:"",de=`<div class="tox-collection__item-icon">${(ze=>{var tt;return(tt=d[ze])!==null&&tt!==void 0?tt:ze})(U.icon)}</div>`,he={_:" "," - ":" ","-":" "},ke=te.replace(/\_| \- |\-/g,ze=>he[ze]);return`<div data-mce-tooltip="${ke}" class="tox-collection__item${Y}" tabindex="-1" data-collection-item-value="${_D.encodeAllRaw(U.value)}" aria-label="${ke}">${de}${oe}</div>`}),X=o.columns!=="auto"&&o.columns>1?Ze(W,o.columns):[W],$=Ee(X,U=>`<div class="tox-collection__group">${U.join("")}</div>`);tm(B.element,$.join(""))})(C,T),o.columns==="auto"&&yb(C,5,"tox-collection__item").each(({numRows:B,numColumns:L})=>{Bt.setGridSize(C,B,L)}),Xo(C,rC)}}),fs.config({}),Bt.config((E=o.columns,E===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:E==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${Ow}`}})),vo("collection-events",b)]),eventOrder:{[dl()]:["disabling","alloy.base.behaviour","collection-events"],[Rl()]:["collection-events","tooltipping"]}});var E;return Wv(l,w,["tox-form__group--collection"],[])},O3=Oe("color-input-change"),AD=Oe("color-swatch-change"),TD=Oe("color-picker-cancel"),Rf=()=>vn.config({find:A.some}),Yv=o=>vn.config({find:r=>ds(r.element,o).bind(a=>r.getSystem().getByDom(a).toOptional())}),aC=xo([Pe("preprocess",Ct),Pe("postprocess",Ct)]),DD=(o,r)=>{const a=mi("RepresentingConfigs.memento processors",aC,r);return zt.config({store:{mode:"manual",getValue:l=>{const d=o.get(l),m=zt.getValue(d);return a.postprocess(m)},setValue:(l,d)=>{const m=a.preprocess(d),p=o.get(l);zt.setValue(p,m)}}})},G1=(o,r,a)=>zt.config({store:{mode:"manual",...o.map(l=>({initialValue:l})).getOr({}),getValue:r,setValue:a}}),OD=(o,r,a)=>G1(o,l=>r(l.element),(l,d)=>a(l.element,d)),iC=o=>zt.config({store:{mode:"memory",initialValue:o}}),N3=Oe("rgb-hex-update"),ND=Oe("slider-update"),RD=Oe("palette-update"),MD=Oe("valid-input"),BD=Oe("invalid-input"),ID=Oe("validating-input"),R3="colorcustom.rgb.",EB={isEnabled:Jt,setEnabled:xe,immediatelyShow:xe,immediatelyHide:xe},AB=(o,r,a,l,d,m)=>{const p=(B,L)=>{const Y=L.get();B!==Y.isEnabled()&&(Y.setEnabled(B),B?Y.immediatelyShow():Y.immediatelyHide())},b=(B,L,Y)=>Ru.config({invalidClass:r("invalid"),notify:{onValidate:W=>{oo(W,ID,{type:B})},onValid:W=>{p(!1,Y),oo(W,MD,{type:B,value:zt.getValue(W)})},onInvalid:W=>{p(!0,Y),oo(W,BD,{type:B,value:zt.getValue(W)})}},validator:{validate:W=>{const X=zt.getValue(W),$=L(X)?Fo.value(!0):Fo.error(o("aria.input.invalid"));return Tr($)},validateOnLoad:!1}}),x=(B,L,Y,W,X)=>{const $=Vt(EB),U=o(R3+"range"),te=Oo.parts.label({dom:{tag:"label"},components:[$s(Y)]}),oe=Oo.parts.field({data:X,factory:Pp,inputAttributes:{type:"text","aria-label":W,...L==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:pt([b(L,B,$),fs.config({}),Rs.config({...d({tooltipText:"",onSetup:Je=>{$.set({isEnabled:()=>Rs.isEnabled(Je),setEnabled:rt=>Rs.setEnabled(Je,rt),immediatelyShow:()=>Rs.immediateOpenClose(Je,!0),immediatelyHide:()=>Rs.immediateOpenClose(Je,!1)}),Rs.setEnabled(Je,!1)},onShow:(Je,rt)=>{Rs.setComponents(Je,[{dom:{tag:"p",classes:[r("rgb-warning-note")]},components:[$s(o(L==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Je=>{Ru.isInvalid(Je)&&Ru.run(Je).get(xe)}}),de=Oe("aria-invalid"),he=Ln(m("invalid",A.some(de),"warning")),ke=[te,oe,Ln({dom:{tag:"div",classes:[r("invalid-icon")]},components:[he.asSpec()]}).asSpec()],ze=L!=="hex"?[Oo.parts["aria-descriptor"]({text:U})]:[],tt=ke.concat(ze);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[r("rgb-container")]},components:tt}},w=(B,L)=>{const Y=L.red,W=L.green,X=L.blue;zt.setValue(B,{red:Y,green:W,blue:X})},E=Ln({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),C=(B,L)=>{E.getOpt(B).each(Y=>{Eo(Y.element,"background-color","#"+L.value)})};return dd({factory:()=>{const B={red:Vt(A.some(255)),green:Vt(A.some(255)),blue:Vt(A.some(255)),hex:Vt(A.some("ffffff"))},L=ke=>B[ke].get(),Y=(ke,ze)=>{B[ke].set(ze)},W=ke=>{const ze=ke.red,tt=ke.green,Je=ke.blue;Y("red",A.some(ze)),Y("green",A.some(tt)),Y("blue",A.some(Je))},X=(ke,ze)=>{const tt=ze.event;tt.type!=="hex"?Y(tt.type,A.none()):l(ke)},$=(ke,ze)=>{const tt=ze.event;(Je=>Je.type==="hex")(tt)?((Je,rt)=>{a(Je);const bt=Cb(rt);Y("hex",A.some(bt.value));const Xt=kb(bt);w(Je,Xt),W(Xt),oo(Je,N3,{hex:bt}),C(Je,bt)})(ke,tt.value):((Je,rt,bt)=>{const Xt=parseInt(bt,10);Y(rt,A.some(Xt)),L("red").bind(no=>L("green").bind(po=>L("blue").map($o=>bl(no,po,$o,1)))).each(no=>{const po=(($o,gs)=>{const Ms=_b(gs);return ob.getField($o,"hex").each(Rn=>{mo.isFocused(Rn)||zt.setValue($o,{hex:Ms.value})}),Ms})(Je,no);oo(Je,N3,{hex:po}),C(Je,po)})})(ke,tt.type,tt.value)},U=ke=>({label:o(R3+ke+".label"),description:o(R3+ke+".description")}),te=U("red"),oe=U("green"),de=U("blue"),he=U("hex");return Wo(ob.sketch(ke=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[ke.field("red",Oo.sketch(x(d3,"red",te.label,te.description,255))),ke.field("green",Oo.sketch(x(d3,"green",oe.label,oe.description,255))),ke.field("blue",Oo.sketch(x(d3,"blue",de.label,de.description,255))),ke.field("hex",Oo.sketch(x(i3,"hex",he.label,he.description,"ffffff"))),E.asSpec()],formBehaviours:pt([Ru.config({invalidClass:r("form-invalid")}),vo("rgb-form-events",[et(MD,$),et(BD,X),et(ID,X)])])})),{apis:{updateHex:(ke,ze)=>{zt.setValue(ke,{hex:ze.value}),((tt,Je)=>{const rt=kb(Je);w(tt,rt),W(rt)})(ke,ze),C(ke,ze)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(B,L,Y)=>{B.updateHex(L,Y)}},extraApis:{}})},TB=(o,r,a,l)=>dd({name:"ColourPicker",configFields:[ct("dom"),Pe("onValidHex",xe),Pe("onInvalidHex",xe)],factory:m=>{const p=AB(o,r,m.onValidHex,m.onInvalidHex,a,l),b=((X,$)=>{const U=Lu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[$("sv-palette-spectrum")]}}),te=Lu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[$("sv-palette-thumb")],innerHtml:`<div class=${$("sv-palette-inner-thumb")} role="presentation"></div>`}}),oe=(he,ke)=>{const{width:ze,height:tt}=he,Je=he.getContext("2d");if(Je===null)return;Je.fillStyle=ke,Je.fillRect(0,0,ze,tt);const rt=Je.createLinearGradient(0,0,ze,0);rt.addColorStop(0,"rgba(255,255,255,1)"),rt.addColorStop(1,"rgba(255,255,255,0)"),Je.fillStyle=rt,Je.fillRect(0,0,ze,tt);const bt=Je.createLinearGradient(0,0,0,tt);bt.addColorStop(0,"rgba(0,0,0,0)"),bt.addColorStop(1,"rgba(0,0,0,1)"),Je.fillStyle=bt,Je.fillRect(0,0,ze,tt)};return dd({factory:he=>{const ke=ne({x:0,y:0}),ze=pt([vn.config({find:A.some}),mo.config({})]);return Lu.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":X(["Saturation {0}%, Brightness {1}%",0,0])},classes:[$("sv-palette")]},model:{mode:"xy",getInitialValue:ke},rounded:!1,components:[U,te],onChange:(tt,Je,rt)=>{kt(rt)||bo(tt.element,"aria-valuetext",X(["Saturation {0}%, Brightness {1}%",Math.floor(rt.x),Math.floor(100-rt.y)])),oo(tt,RD,{value:rt})},onInit:(tt,Je,rt,bt)=>{oe(rt.element.dom,f3(p3))},sliderBehaviours:ze})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(he,ke,ze)=>{((tt,Je)=>{const rt=tt.components()[0].element.dom,bt=$v(Je,100,100),Xt=Kw(bt);oe(rt,f3(Xt))})(ke,ze)},setThumb:(he,ke,ze)=>{((tt,Je)=>{const rt=c3(kb(Je));Lu.setValue(tt,{x:rt.saturation,y:100-rt.value}),bo(tt.element,"aria-valuetext",X(["Saturation {0}%, Brightness {1}%",rt.saturation,rt.value]))})(ke,ze)}},extraApis:{}})})(o,r),x={paletteRgba:Vt(p3),paletteHue:Vt(0)},w=Ln(((X,$)=>{const U=Lu.parts.spectrum({dom:{tag:"div",classes:[$("hue-slider-spectrum")],attributes:{role:"presentation"}}}),te=Lu.parts.thumb({dom:{tag:"div",classes:[$("hue-slider-thumb")],attributes:{role:"presentation"}}});return Lu.sketch({dom:{tag:"div",classes:[$("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ne(0)},components:[U,te],sliderBehaviours:pt([mo.config({})]),onChange:(oe,de,he)=>{bo(oe.element,"aria-valuenow",Math.floor(360-3.6*he)),oo(oe,ND,{value:he})}})})(0,r)),E=Ln(b.sketch({})),C=Ln(p.sketch({})),T=(X,$,U)=>{E.getOpt(X).each(te=>{b.setHue(te,U)})},B=(X,$)=>{C.getOpt(X).each(U=>{p.updateHex(U,$)})},L=(X,$,U)=>{w.getOpt(X).each(te=>{Lu.setValue(te,(oe=>100-oe/360*100)(U))})},Y=(X,$)=>{E.getOpt(X).each(U=>{b.setThumb(U,$)})},W=(X,$,U,te)=>{((oe,de)=>{const he=kb(oe);x.paletteRgba.set(he),x.paletteHue.set(de)})($,U),gt(te,oe=>{oe(X,$,U)})};return{uid:m.uid,dom:m.dom,components:[E.asSpec(),w.asSpec(),C.asSpec()],behaviours:pt([vo("colour-picker-events",[et(N3,(()=>{const X=[T,L,Y];return($,U)=>{const te=U.event.hex,oe=(de=>c3(kb(de)))(te);W($,te,oe.hue,X)}})()),et(RD,(()=>{const X=[B];return($,U)=>{const te=U.event.value,oe=x.paletteHue.get(),de=$v(oe,te.x,100-te.y),he=g3(de);W($,he,oe,X)}})()),et(ND,(()=>{const X=[T,B];return($,U)=>{const te=(ze=>(100-ze)/100*360)(U.event.value),oe=x.paletteRgba.get(),de=c3(oe),he=$v(te,de.saturation,de.value),ke=g3(he);W($,ke,te,X)}})())]),vn.config({find:X=>C.getOpt(X)}),Bt.config({mode:"acyclic"})])}}}),PD={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var DB=tinymce.util.Tools.resolve("tinymce.Resource");const LD=o=>jo(o,"init");var vl=tinymce.util.Tools.resolve("tinymce.util.Tools");const M3=Oe("browse.files.event"),OB=(o,r,a)=>{const l=(w,E)=>{E.stop()},d=w=>(E,C)=>{gt(w,T=>{T(E,C)})},m=Ln({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:pt([vo("input-file-events",[Ll(cl()),Ll(yg())])])}),p=o.label.map(w=>lh(w,r)),b=Oo.parts.field({factory:ua,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[$s(r.translate("Browse for an image")),m.asSpec()],action:w=>{m.get(w).element.dom.click()},buttonBehaviours:pt([Rf(),iC(a.getOr([])),fs.config({}),jp(()=>r.checkUiComponentContext(o.context).shouldDisable),gr(()=>r.checkUiComponentContext(o.context))])}),x={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:pt([eo.config({disabled:()=>r.checkUiComponentContext(o.context).shouldDisable}),gr(()=>r.checkUiComponentContext(o.context)),Zo.config({toggleClass:"dragenter",toggleOnExecute:!1}),vo("dropzone-events",[et("dragenter",d([l,Zo.toggle])),et("dragleave",d([l,Zo.toggle])),et("dragover",l),et("drop",d([l,(w,E)=>{var C;if(!eo.isDisabled(w)){const T=E.event.raw;oo(w,M3,{files:(C=T.dataTransfer)===null||C===void 0?void 0:C.files})}}])),et(cf(),(w,E)=>{const C=E.event.raw.target;oo(w,M3,{files:C.files})})])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[$s(r.translate("Drop an image here"))]},b]}]};return Wv(p,x,["tox-form__group--stretched"],[vo("handle-files",[et(M3,(w,E)=>{Oo.getField(w).each(C=>{var T,B;T=C,(B=E.event.files)&&(zt.setValue(T,((L,Y)=>{const W=vl.explode(Y.getOption("images_file_types"));return Do(yc(L),X=>Tn(W,$=>Si(X.name.toLowerCase(),`.${$.toLowerCase()}`)))})(B,r)),oo(T,gc,{name:o.name}))})})])])},Xv=Oe("alloy-fake-before-tabstop"),Ca=Oe("alloy-fake-after-tabstop"),FD=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:pt([mo.config({ignore:!0}),fs.config({})])}),zD=(o,r)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[FD([Xv]),r,FD([Ca])],behaviours:pt([Yv(1)])}),HD=(o,r)=>{oo(o,Id(),{raw:{which:9,shiftKey:r}})},NB=(o,r)=>{const a=r.element;Ja(a,Xv)?HD(o,!0):Ja(a,Ca)&&HD(o,!1)},Qv=o=>ep(o,["."+Xv,"."+Ca].join(","),Qe),lC=Oe("update-dialog"),VD=Oe("update-title"),$D=Oe("update-body"),UD=Oe("update-footer"),ZD=Oe("body-send-message"),cC=Oe("dialog-focus-shifted"),B3=Ce().browser,Jv=B3.isSafari(),RB=B3.isFirefox(),jD=Jv||RB,MB=B3.isChromium(),BB=({scrollTop:o,scrollHeight:r,clientHeight:a})=>Math.ceil(o)+a>=r,WD=(o,r)=>o.scrollTo(0,r==="bottom"?99999999:r),qD=(o,r,a)=>{const l=o.dom;A.from(l.contentDocument).fold(a,d=>{let m=0;const p=((x,w)=>{const E=x.body;return A.from(!/^<!DOCTYPE (html|HTML)/.test(w)&&(!MB&&!Jv||Ne(E)&&(E.scrollTop!==0||Math.abs(E.scrollHeight-E.clientHeight)>1))?E:x.documentElement)})(d,r).map(x=>(m=x.scrollTop,x)).forall(BB),b=()=>{const x=l.contentWindow;Ne(x)&&(p?WD(x,"bottom"):!p&&jD&&m!==0&&WD(x,m))};Jv&&l.addEventListener("load",b,{once:!0}),d.open(),d.write(r),d.close(),Jv||b()})},IB=ci(jD,Jv?500:200).map(o=>((r,a)=>{let l=null,d=null;return{cancel:()=>{ot(l)||(clearTimeout(l),l=null,d=null)},throttle:(...m)=>{d=m,ot(l)&&(l=setTimeout(()=>{const p=d;l=null,d=null,r.apply(null,p)},a))}}})(qD,o)),I3=Oe("toolbar.button.execute"),dh=Oe("common-button-display-events"),GD={[dl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ic()]:["toolbar-button-events",dh],[Ys()]:["toolbar-button-events","dropdown-events","tooltipping"],[Nl()]:["focusing","alloy.base.behaviour",dh]},P3=o=>Eo(o.element,"width",Ha(o.element,"width")),KD=(o,r,a)=>pd(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},r),dC=(o,r)=>KD(o,r,[]),uh=(o,r)=>KD(o,r,[Ao.config({})]),L3=(o,r,a)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[$s(a.translate(o))],behaviours:pt([Ao.config({})])}),Jd=Oe("update-menu-text"),K1=Oe("update-menu-icon"),YD=Oe("update-tooltip-text"),uC=(o,r,a,l)=>{const d=Vt(xe),m=Vt(o.tooltip),p=o.text.map(W=>Ln(L3(W,r,a.providers))),b=o.icon.map(W=>Ln(uh(W,a.providers.icons))),x=(W,X)=>{const $=zt.getValue(W);return mo.focus($),oo($,"keydown",{raw:X.event.raw}),Ic.close($),A.some(!0)},w=o.role.fold(()=>({}),W=>({role:W})),E=A.from(o.listRole).map(W=>({listRole:W})).getOr({}),C=o.ariaLabel.fold(()=>({}),W=>({"aria-label":a.providers.translate(W)})),T=pd("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},a.providers.icons),B=Oe("common-button-display-events"),L="dropdown-events";return Ln(Ic.sketch({...o.uid?{uid:o.uid}:{},...w,...E,dom:{tag:"button",classes:[r,`${r}--select`].concat(Ee(o.classes,W=>`${r}--${W}`)),attributes:{...C,...Ne(l)?{"data-mce-name":l}:{}}},components:rh([b.map(W=>W.asSpec()),p.map(W=>W.asSpec()),A.some(T)]),matchWidth:!0,useMinWidth:!0,onOpen:(W,X,$)=>{o.searchable&&(U=>{jT(U).each(te=>mo.focus(te))})($)},dropdownBehaviours:pt([...o.dropdownBehaviours,jp(()=>o.disabled||a.providers.checkUiComponentContext(o.context).shouldDisable),gr(()=>a.providers.checkUiComponentContext(o.context)),kf.config({}),Ao.config({}),...o.tooltip.map(W=>Rs.config(a.providers.tooltips.getConfig({tooltipText:a.providers.translate(W),onShow:X=>{if(xr(m.get(),o.tooltip,($,U)=>U!==$).getOr(!1)){const $=a.providers.translate(m.get().getOr(""));Rs.setComponents(X,a.providers.tooltips.getComponents({tooltipText:$}))}}}))).toArray(),vo(L,[wa(o,d),Vu(o,d)]),vo(B,[ts((W,X)=>{o.listRole!=="listbox"&&P3(W)})]),vo("update-dropdown-width-variable",[et(dm(),(W,X)=>Ic.close(W))]),vo("menubutton-update-display-text",[et(Jd,(W,X)=>{p.bind($=>$.getOpt(W)).each($=>{Ao.set($,[$s(a.providers.translate(X.event.text))])})}),et(K1,(W,X)=>{b.bind($=>$.getOpt(W)).each($=>{Ao.set($,[uh(X.event.icon,a.providers.icons)])})}),et(YD,(W,X)=>{const $=a.providers.translate(X.event.text);bo(W.element,"aria-label",$),m.set(A.some(X.event.text))})])]),eventOrder:Wo(GD,{[Nl()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ic()]:["toolbar-button-events",Rs.name(),L,B]}),sandboxBehaviours:pt([Bt.config({mode:"special",onLeft:x,onRight:x}),vo("dropdown-sandbox-events",[et($T,(W,X)=>{($=>{const U=zt.getValue($),te=Bw($).map(WT);Ic.refetch(U).get(()=>{const oe=_r.getCoupled(U,"sandbox");te.each(de=>Bw(oe).each(he=>((ke,ze)=>{zt.setValue(ke,ze.fetchPattern),ke.element.dom.selectionStart=ze.selectionStart,ke.element.dom.selectionEnd=ze.selectionEnd})(he,de)))})})(W),X.stop()}),et(UT,(W,X)=>{(($,U)=>{(te=>Sn.getState(te).bind(Dn.getHighlighted).bind(Dn.getHighlighted))($).each(te=>{((oe,de,he,ke)=>{const ze={...ke,target:de};oe.getSystem().triggerEvent(he,de,ze)})($,te.element,U.event.eventType,U.event.interactionEvent)})})(W,X),X.stop()})])]),lazySink:a.getSink,toggleClass:`${r}--active`,parts:{menu:{...Mw(0,o.columns,o.presets),fakeFocus:o.searchable,...o.listRole==="listbox"?{}:{onHighlightItem:jv,onCollapseMenu:(W,X,$)=>{Dn.getHighlighted($).each(U=>{jv(W,$,U)})},onDehighlightItem:yD}}},getAnchorOverrides:()=>({maxHeightFunction:(W,X)=>{Nx()(W,X-10)}}),fetch:W=>sa(yn(o.fetch,W))})).asSpec()},XD=o=>o.type==="separator",PB={type:"separator"},QD=(o,r)=>{const a=((l,d)=>{const m=qo(l,(p,b)=>(x=>Me(x))(b)?b===""?p:b==="|"?p.length>0&&!XD(p[p.length-1])?p.concat([PB]):p:jo(d,b.toLowerCase())?p.concat([d[b.toLowerCase()]]):p:p.concat([b]),[]);return m.length>0&&XD(m[m.length-1])&&m.pop(),m})(Me(o)?o.split(" "):o,r);return So(a,(l,d)=>{if((m=>jo(m,"getSubmenuItems"))(d)){const m=(b=>{const x=Kt(b,"value").getOrThunk(()=>Oe("generated-menu-item"));return Wo({value:x},b)})(d),p=((b,x)=>{const w=b.getSubmenuItems(),E=QD(w,x);return{item:b,menus:Wo(E.menus,{[b.value]:E.items}),expansions:Wo(E.expansions,{[b.value]:b.value})}})(m,r);return{menus:Wo(l.menus,p.menus),items:[p.item,...l.items],expansions:Wo(l.expansions,p.expansions)}}return{...l,items:[d,...l.items]}},{menus:{},expansions:{},items:[]})},Eb=(o,r,a,l)=>{const d=Oe("primary-menu"),m=QD(o,a.shared.providers.menuItems());if(m.items.length===0)return A.none();const p=(C=>C.search.fold(()=>({searchMode:"no-search"}),T=>({searchMode:"search-with-field",placeholder:T.placeholder})))(l),b=wD(d,m.items,r,a,l.isHorizontalMenu,p),x=(C=>C.search.fold(()=>({searchMode:"no-search"}),T=>({searchMode:"search-with-results"})))(l),w=Ss(m.menus,(C,T)=>wD(T,C,r,a,!1,x)),E=Wo(w,am(d,b));return A.from(Zg.tieredData(d,E,m.expansions))},e2=o=>!jo(o,"items"),JD="data-value",F3=(o,r,a,l,d)=>Ee(a,m=>e2(m)?{type:"togglemenuitem",...d?{}:{role:"option"},text:m.text,value:m.value,active:m.value===l,onAction:()=>{zt.setValue(o,m.value),oo(o,gc,{name:r}),mo.focus(o)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>F3(o,r,m.items,l,d)}),z3=(o,r)=>ws(o,a=>e2(a)?ci(a.value===r,a):z3(a.items,r)),H3=o=>{const r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let a=o.value.toFixed((l=o.unit)in r?r[l]:1);var l;return a.indexOf(".")!==-1&&(a=a.replace(/\.?0*$/,"")),a+o.unit},mC=o=>{const r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(r!==null){const a=parseFloat(r[1]),l=r[2];return Fo.value({value:a,unit:l})}return Fo.error(o)},eO=(o,r)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=d=>jo(a,d);return o.unit===r?A.some(o.value):l(o.unit)&&l(r)?a[o.unit]===a[r]?A.some(o.value):A.some(o.value/a[o.unit]*a[r]):A.none()},fC=o=>A.none(),tO=(o,r)=>{const a=mC(o).toOptional(),l=mC(r).toOptional();return xr(a,l,(d,m)=>eO(d,m.unit).map(p=>m.value/p).map(p=>{return b=p,x=m.unit,w=>eO(w,x).map(E=>({value:E*b,unit:x}));var b,x}).getOr(fC)).getOr(fC)},oO=(o,r)=>{const a=o.label.map(E=>lh(E,r)),l=[eo.config({disabled:()=>o.disabled||r.checkUiComponentContext(o.context).shouldDisable}),gr(()=>r.checkUiComponentContext(o.context)),Bt.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:E=>(Xo(E,Gv),A.some(!0))}),vo("textfield-change",[et(im(),(E,C)=>{oo(E,gc,{name:o.name})}),et(df(),(E,C)=>{oo(E,gc,{name:o.name})})]),fs.config({})],d=o.validation.map(E=>Ru.config({getRoot:C=>aa(C.element),invalidClass:"tox-invalid",validator:{validate:C=>{const T=zt.getValue(C),B=E.validator(T);return Tr(B===!0?Fo.value(T):Fo.error(B))},validateOnLoad:E.validateOnLoad}})).toArray(),m={...o.placeholder.fold(ne({}),E=>({placeholder:r.translate(E)})),...o.inputMode.fold(ne({}),E=>({inputmode:E})),"data-mce-name":o.name},p=Oo.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(E=>({data:E})).getOr({}),inputAttributes:m,inputClasses:[o.classname],inputBehaviours:pt(Is([l,d])),selectOnFocus:!1,factory:Pp}),b=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[p]}:p,x=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),w=[eo.config({disabled:()=>o.disabled||r.checkUiComponentContext(o.context).shouldDisable,onDisabled:E=>{Oo.getField(E).each(eo.disable)},onEnabled:E=>{Oo.getField(E).each(eo.enable)}}),gr(()=>r.checkUiComponentContext(o.context))];return Wv(a,b,x,w)},nO=o=>({isEnabled:()=>!eo.isDisabled(o),setEnabled:r=>eo.set(o,!r),setActive:r=>{const a=o.element;r?(ls(a,"tox-tbtn--enabled"),bo(a,"aria-pressed",!0)):(vs(a,"tox-tbtn--enabled"),qs(a,"aria-pressed"))},isActive:()=>Ja(o.element,"tox-tbtn--enabled"),setTooltip:r=>{oo(o,YD,{text:r})},setText:r=>{oo(o,Jd,{text:r})},setIcon:r=>oo(o,K1,{icon:r})}),t2=(o,r,a,l,d=!0,m)=>{const p=o.buttonType==="bordered"?["bordered"]:[];return uC({text:o.text,icon:o.icon,tooltip:o.tooltip,ariaLabel:o.tooltip,searchable:o.search.isSome(),role:l,fetch:(b,x)=>{const w={pattern:o.search.isSome()?_B(b):""};o.fetch(E=>{x(Eb(E,Qd.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:o.search}))},w,nO(b))},onSetup:o.onSetup,getApi:b=>nO(b),columns:1,presets:"normal",classes:p,dropdownBehaviours:[...d?[fs.config({})]:[]],context:o.context},r,a.shared,m)},LB=(o,r,a)=>{const l=m=>p=>{const b=!p.isActive();p.setActive(b),m.storage.set(b),a.shared.getSink().each(x=>{r().getOpt(x).each(w=>{Ws(w.element),oo(w,Nf,{name:m.name,value:m.storage.get()})})})},d=m=>p=>{p.setActive(m.storage.get())};return m=>{m(Ee(o,p=>{const b=p.text.fold(()=>({}),x=>({text:x}));return{type:p.type,active:!1,...b,context:p.context,onAction:l(p),onSetup:d(p)}}))}},sO=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":o}},components:[$s(o)]}),rO=(o,r,a)=>{o.customStateIcon.each(l=>r.push(iO(l,a.shared.providers.icons,o.customStateIconTooltip.fold(()=>[],d=>[Rs.config(a.shared.providers.tooltips.getConfig({tooltipText:d}))]),["tox-icon-custom-state"])))},aO=Oe("leaf-label-event-id"),V3=({leaf:o,onLeafAction:r,visible:a,treeId:l,selectedId:d,backstage:m})=>{const p=o.menu.map(x=>t2(x,"tox-mbtn",m,A.none(),a)),b=[sO(o.title)];return rO(o,b,m),p.each(x=>b.push(x)),ua.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:b,role:"treeitem",action:x=>{r(o.id),x.getSystem().broadcastOn([`update-active-item-${l}`],{value:o.id})},eventOrder:{[Id()]:[aO,"keying"]},buttonBehaviours:pt([...a?[fs.config({})]:[],Zo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Vl.config({channels:{[`update-active-item-${l}`]:{onReceive:(x,w)=>{(w.value===o.id?Zo.on:Zo.off)(x)}}}}),vo(aO,[ts((x,w)=>{d.each(E=>{(E===o.id?Zo.on:Zo.off)(x)})}),et(Id(),(x,w)=>{const E=w.event.raw.code==="ArrowLeft",C=w.event.raw.code==="ArrowRight";E?(Li(x.element,".tox-tree--directory").each(T=>{x.getSystem().getByDom(T).each(B=>{Jc(T,".tox-tree--directory__label").each(L=>{B.getSystem().getByDom(L).each(mo.focus)})})}),w.stop()):C&&w.stop()})])])})},iO=(o,r,a,l,d)=>pd(o,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:a,attributes:d},r),$3=Oe("directory-label-event-id"),FB=({directory:o,visible:r,noChildren:a,backstage:l})=>{const d=o.menu.map(x=>t2(x,"tox-mbtn",l,A.none())),m=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p=l.shared.providers.icons,iO("chevron-right",p,[]))]},sO(o.title)];var p;rO(o,m,l),d.each(x=>{m.push(x)});const b=x=>{Li(x.element,".tox-tree--directory").each(w=>{x.getSystem().getByDom(w).each(E=>{const C=!Zo.isOn(E);Zo.toggle(E),oo(x,"expand-tree-node",{expanded:C,node:o.id})})})};return ua.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:m,action:b,eventOrder:{[Id()]:[$3,"keying"]},buttonBehaviours:pt([...r?[fs.config({})]:[],vo($3,[et(Id(),(x,w)=>{const E=w.event.raw.code==="ArrowRight",C=w.event.raw.code==="ArrowLeft";E&&a&&w.stop(),(E||C)&&Li(x.element,".tox-tree--directory").each(T=>{x.getSystem().getByDom(T).each(B=>{!Zo.isOn(B)&&E||Zo.isOn(B)&&C?(b(x),w.stop()):C&&!Zo.isOn(B)&&(Li(B.element,".tox-tree--directory").each(L=>{Jc(L,".tox-tree--directory__label").each(Y=>{B.getSystem().getByDom(Y).each(mo.focus)})}),w.stop())})})})])])})},zB=({children:o,onLeafAction:r,visible:a,treeId:l,expandedIds:d,selectedId:m,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(b=>b.type==="leaf"?V3({leaf:b,selectedId:m,onLeafAction:r,visible:a,treeId:l,backstage:p}):U3({directory:b,expandedIds:d,selectedId:m,onLeafAction:r,labelTabstopping:a,treeId:l,backstage:p})),behaviours:pt([$l.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),Ao.config({})])}),HB=Oe("directory-event-id"),U3=({directory:o,onLeafAction:r,labelTabstopping:a,treeId:l,backstage:d,expandedIds:m,selectedId:p})=>{const{children:b}=o,x=Vt(m),w=m.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[FB({directory:o,visible:a,noChildren:o.children.length===0,backstage:d}),zB({children:b,expandedIds:m,selectedId:p,onLeafAction:r,visible:w,treeId:l,backstage:d})],behaviours:pt([vo(HB,[ts((E,C)=>{Zo.set(E,w)}),et("expand-tree-node",(E,C)=>{const{expanded:T,node:B}=C.event;x.set(T?[...x.get(),B]:x.get().filter(L=>L!==B))})]),Zo.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(E,C)=>{const T=E.components()[1],B=(L=C,b.map(Y=>Y.type==="leaf"?V3({leaf:Y,selectedId:p,onLeafAction:r,visible:L,treeId:l,backstage:d}):U3({directory:Y,expandedIds:x.get(),selectedId:p,onLeafAction:r,labelTabstopping:L,treeId:l,backstage:d})));var L;C?$l.grow(T):$l.shrink(T),Ao.set(T,B)}})])}},VB=Oe("tree-event-id"),Ab=(o,r,a=[],l,d,m,p)=>{const b=r.fold(()=>({}),E=>({action:E})),x={buttonBehaviours:pt([J4(()=>!o.enabled||p.checkUiComponentContext(o.context).shouldDisable),gr(()=>p.checkUiComponentContext(o.context)),fs.config({}),...m.map(E=>Rs.config(p.tooltips.getConfig({tooltipText:p.translate(E)}))).toArray(),vo("button press",[M0("click")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...b},w=Wo(x,{dom:l});return Wo(w,{components:d})},$B=(o,r,a,l=[],d)=>{const m={tag:"button",classes:["tox-tbtn"],attributes:{...o.tooltip.map(x=>({"aria-label":a.translate(x)})).getOr({}),"data-mce-name":d}},p=o.icon.map(x=>dC(x,a.icons)),b=rh([p]);return Ab(o,r,l,m,b,o.tooltip,a)},Z3=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},lO=(o,r,a,l=[],d=[])=>{const m=a.translate(o.text),p=o.icon.map(C=>dC(C,a.icons)),b=[p.getOrThunk(()=>$s(m))],x=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),w={tag:"button",classes:[...Z3(x),...p.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...d],attributes:{"aria-label":m,"data-mce-name":o.text}},E=o.icon.map(ne(m));return Ab(o,r,l,w,b,E,a)},j3=(o,r,a,l=[],d=[])=>{const m=lO(o,A.some(r),a,l,d);return ua.sketch(m)},W3=(o,r)=>a=>{r==="custom"?oo(a,Nf,{name:o,value:{}}):r==="submit"?Xo(a,Gv):r==="cancel"?Xo(a,ch):console.error("Unknown button type: ",r)},pC=(o,r,a)=>{if(((l,d)=>d==="menu")(0,r)){const l=()=>p,d=o,m={...o,buttonType:"default",type:"menubutton",search:A.none(),onSetup:b=>(b.setEnabled(o.enabled),xe),fetch:LB(d.items,l,a)},p=Ln(t2(m,"tox-tbtn",a,A.none(),!0,o.text.or(o.tooltip).getOrUndefined()));return p.asSpec()}if(((l,d)=>d==="custom"||d==="cancel"||d==="submit")(0,r)){const l=W3(o.name,r),d={...o,context:r==="cancel"?"any":o.context,borderless:!1};return j3(d,l,a.shared.providers,[])}if(((l,d)=>d==="togglebutton")(0,r))return((l,d,m)=>{var p,b;const x=l.icon.map(U=>uh(U,d.icons)).map(Ln),w=l.buttonType.getOr(l.primary?"primary":"secondary"),E={...l,name:(p=l.name)!==null&&p!==void 0?p:"",tooltip:l.tooltip,enabled:(b=l.enabled)!==null&&b!==void 0&&b},C=E.tooltip.or(l.text).map(U=>({"aria-label":d.translate(U)})).getOr({}),T=Z3(w??"secondary"),B=l.icon.isSome()&&l.text.isSome(),L={tag:"button",classes:[...T.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...B?["tox-button--icon-and-text"]:[]],attributes:{...C,...Ne(m)?{"data-mce-name":m}:{}}},Y=d.translate(l.text.getOr("")),W=$s(Y),X=[...rh([x.map(U=>U.asSpec())]),...l.text.isSome()?[W]:[]],$=Ab(E,A.some(U=>{oo(U,Nf,{name:l.name,value:{setIcon:te=>{x.map(oe=>oe.getOpt(U).each(de=>{Ao.set(de,[uh(te,d.icons)])}))}}})}),[],L,X,l.tooltip,d);return ua.sketch($)})(o,a.shared.providers,o.text.or(o.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")},UB={type:"separator"},cO=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:xe}),q3=(o,r)=>({type:"menuitem",value:r,text:o,meta:{attach:void 0},onAction:xe}),dO=(o,r)=>(a=>Ee(a,cO))(((a,l)=>Do(l,d=>d.type===a))(o,r)),ZB=o=>dO("header",o.targets),jB=o=>dO("anchor",o.targets),WB=o=>A.from(o.anchorTop).map(r=>q3("<top>",r)).toArray(),qB=o=>A.from(o.anchorBottom).map(r=>q3("<bottom>",r)).toArray(),Tb=(o,r)=>{const a=o.toLowerCase();return Do(r,l=>{var d;const m=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(d=l.value)!==null&&d!==void 0?d:"";return Es(m.toLowerCase(),a)||Es(p.toLowerCase(),a)})},uO=Oe("aria-invalid"),qr=o=>(r,a,l,d,m)=>Kt(a,"name").fold(()=>o(a,d,A.none(),m),p=>r.field(p,o(a,d,Kt(l,p),m))),GB={bar:qr((o,r)=>((a,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ee(a.items,l.interpreter)}))(o,r.shared)),collection:qr((o,r,a)=>D3(o,r.shared.providers,a)),alertbanner:qr((o,r)=>((a,l)=>{const d=FT(a.icon,l.icons);return _m.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${a.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:a.url?void 0:d},components:a.url?[ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:d,attributes:{title:l.translate(a.iconTooltip)}},action:m=>oo(m,Nf,{name:"alert-banner",value:a.url}),buttonBehaviours:pt([Aw()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(a.text)}}]})})(o,r.shared.providers)),input:qr((o,r,a)=>((l,d,m)=>oO({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:A.none(),maximized:l.maximized,data:m,context:l.context},d))(o,r.shared.providers,a)),textarea:qr((o,r,a)=>((l,d,m)=>oO({name:l.name,multiline:!0,label:l.label,inputMode:A.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:A.none(),maximized:l.maximized,data:m,context:l.context},d))(o,r.shared.providers,a)),label:qr((o,r,a,l)=>((d,m,p)=>{const b="tox-label",x=d.align==="center"?[`${b}--center`]:[],w=d.align==="end"?[`${b}--end`]:[],E=Ln({dom:{tag:"label",classes:[b,...x,...w]},components:[$s(m.providers.translate(d.label))]}),C=Ee(d.items,m.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[E.asSpec(),...C],behaviours:pt([Rf(),Ao.config({}),(T=A.none(),OD(T,Eh,tm)),Bt.config({mode:"acyclic"}),vo("label",[ts(B=>{d.for.each(L=>{p(L).each(Y=>{E.getOpt(B).each(W=>{var X;const $=(X=yr(Y.element,"id"))!==null&&X!==void 0?X:Oe("form-field");bo(Y.element,"id",$),bo(W.element,"for",$)})})})})])])};var T})(o,r.shared,l)),iframe:(TO=(o,r,a)=>((l,d,m)=>{const p="tox-dialog__iframe",b=l.transparent?[]:[`${p}--opaque`],x=l.border?["tox-navobj-bordered"]:[],w={...l.label.map(B=>({title:B})).getOr({}),...m.map(B=>({srcdoc:B})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},E=((B,L)=>{const Y=Vt(B.getOr(""));return{getValue:W=>Y.get(),setValue:(W,X)=>{if(Y.get()!==X){const $=W.element,U=()=>bo($,"srcdoc",X);L?IB.fold(ne(qD),te=>te.throttle)($,X,U):U()}Y.set(X)}}})(m,l.streamContent),C=l.label.map(B=>lh(B,d)),T=Oo.parts.field({factory:{sketch:B=>zD(A.from(x),{uid:B.uid,dom:{tag:"iframe",attributes:w,classes:[p,...b]},behaviours:pt([fs.config({}),mo.config({}),G1(m,E.getValue,E.setValue),Vl.config({channels:{[cC]:{onReceive:(L,Y)=>{Y.newFocus.each(W=>{aa(L.element).each(X=>{(In(L.element,W)?ls:vs)(X,"tox-navobj-bordered-focus")})})}}}})])})}});return Wv(C,T,["tox-form__group--stretched"],[])})(o,r.shared.providers,a),(o,r,a,l,d)=>{const m=Wo(r,{source:"dynamic"});return qr(TO)(o,m,a,l,d)}),button:qr((o,r)=>((a,l)=>{const d=W3(a.name,"custom");return m=A.none(),p=Oo.parts.field({factory:ua,...lO(a,A.some(d),l,[iC(""),Rf()])}),Wv(m,p,[],[]);var m,p})(o,r.shared.providers)),checkbox:qr((o,r,a)=>((l,d,m)=>{const p=C=>(C.element.dom.click(),A.some(!0)),b=Oo.parts.field({factory:{sketch:Ct},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:pt([Rf(),eo.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:C=>{aa(C.element).each(T=>ls(T,"tox-checkbox--disabled"))},onEnabled:C=>{aa(C.element).each(T=>vs(T,"tox-checkbox--disabled"))}}),fs.config({}),mo.config({}),OD(m,Rd,Da),Bt.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),vo("checkbox-events",[et(cf(),(C,T)=>{oo(C,gc,{name:l.name})})])])}),x=Oo.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[$s(d.translate(l.label))],behaviours:pt([kf.config({})])}),w=C=>pd(C==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+C]},d.icons),E=Ln({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return Oo.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,E.asSpec(),x],fieldBehaviours:pt([eo.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),gr(()=>d.checkUiComponentContext(l.context))])})})(o,r.shared.providers,a)),colorinput:qr((o,r,a)=>((l,d,m,p)=>{const b=Oo.parts.field({factory:Pp,inputClasses:["tox-textfield"],data:p,onSetValue:C=>Ru.run(C).get(xe),inputBehaviours:pt([eo.config({disabled:()=>d.providers.isDisabled()||d.providers.checkUiComponentContext(l.context).shouldDisable}),gr(()=>d.providers.checkUiComponentContext(l.context)),fs.config({}),Ru.config({invalidClass:"tox-textbox-field-invalid",getRoot:C=>aa(C.element),notify:{onValid:C=>{const T=zt.getValue(C);oo(C,O3,{color:T})}},validator:{validateOnLoad:!1,validate:C=>{const T=zt.getValue(C);if(T.length===0)return Tr(Fo.value(!0));{const B=Yl("span");Eo(B,"background-color",T);const L=ba(B,"background-color").fold(()=>Fo.error("blah"),Y=>Fo.value(T));return Tr(L)}}}})]),selectOnFocus:!1}),x=l.label.map(C=>lh(C,d.providers)),w=(C,T)=>{oo(C,AD,{value:T})},E=Ln(((C,T)=>Ic.sketch({dom:C.dom,components:C.components,toggleClass:"mce-active",dropdownBehaviours:pt([jp(()=>T.providers.isDisabled()||T.providers.checkUiComponentContext(C.context).shouldDisable),gr(()=>T.providers.checkUiComponentContext(C.context)),kf.config({}),fs.config({})]),layouts:C.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:T.getSink,fetch:B=>sa(L=>C.fetch(L)).map(L=>A.from(S3(Wo(nC(Oe("menu-value"),L,Y=>{C.onItemAction(B,Y)},C.columns,C.presets,Qd.CLOSE_ON_EXECUTE,Qe,T.providers),{movement:Zv(C.columns,C.presets)})))),parts:{menu:Mw(0,0,C.presets)}}))({dom:{tag:"span",attributes:{"aria-label":d.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Mr,Ur,Br],onLtr:()=>[Ur,Mr,Br]},components:[],fetch:w3(m.getColors(l.storageKey),l.storageKey,m.hasCustomColors()),columns:m.getColorCols(l.storageKey),presets:"color",onItemAction:(C,T)=>{E.getOpt(C).each(B=>{T==="custom"?m.colorPicker(L=>{L.fold(()=>Xo(B,TD),Y=>{w(B,Y),q1(l.storageKey,Y)})},"#ffffff"):w(B,T==="remove"?"":T)})},context:l.context},d));return Oo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:x.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,E.asSpec()]}]),fieldBehaviours:pt([vo("form-field-events",[et(O3,(C,T)=>{E.getOpt(C).each(B=>{Eo(B.element,"background-color",T.event.color)}),oo(C,gc,{name:l.name})}),et(AD,(C,T)=>{Oo.getField(C).each(B=>{zt.setValue(B,T.event.value),vn.getCurrent(C).each(mo.focus)})}),et(TD,(C,T)=>{Oo.getField(C).each(B=>{vn.getCurrent(C).each(mo.focus)})})])])})})(o,r.shared,r.colorinput,a)),colorpicker:qr((o,r,a)=>((l,d,m)=>{const p=w=>"tox-"+w,b=TB((w=>E=>Me(E)?w.translate(PD[E]):w.translate(E))(d),p,d.tooltips.getConfig,(w,E,C=w,T=w)=>pd(C,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+w],attributes:{title:d.translate(T),"aria-live":"polite",...E.fold(()=>({}),B=>({id:B}))}},d.icons)),x=Ln(b.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:w=>{oo(w,Nf,{name:"hex-valid",value:!0})},onInvalidHex:w=>{oo(w,Nf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[x.asSpec()],behaviours:pt([G1(m,w=>{const E=x.get(w);return vn.getCurrent(E).bind(C=>zt.getValue(C).hex).map(C=>"#"+Yn(C,"#")).getOr("")},(w,E)=>{const C=A.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(E)).bind(B=>Wl(B,1)),T=x.get(w);vn.getCurrent(T).fold(()=>{console.log("Can not find form")},B=>{zt.setValue(B,{hex:C.getOr("")}),ob.getField(B,"hex").each(L=>{Xo(L,im())})})}),Rf()])}})(0,r.shared.providers,a)),dropzone:qr((o,r,a)=>OB(o,r.shared.providers,a)),grid:qr((o,r)=>((a,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${a.columns}col`]},components:Ee(a.items,l.interpreter)}))(o,r.shared)),listbox:qr((o,r,a)=>((l,d,m)=>{const p=Tn(l.items,T=>!e2(T)),b=d.shared.providers,x=m.bind(T=>z3(l.items,T)).orThunk(()=>br(l.items).filter(e2)),w=l.label.map(T=>lh(T,b)),E=Oo.parts.field({dom:{},factory:{sketch:T=>uC({context:l.context,uid:T.uid,text:x.map(B=>B.text),icon:A.none(),tooltip:A.none(),role:ci(!p,"combobox"),...p?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(B,L)=>{const Y=F3(B,l.name,l.items,zt.getValue(B),p);L(Eb(Y,Qd.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:A.none()}))},onSetup:ne(xe),getApi:ne({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[fs.config({}),G1(x.map(B=>B.value),B=>yr(B.element,JD),(B,L)=>{z3(l.items,L).each(Y=>{bo(B.element,JD,Y.value),oo(B,Jd,{text:Y.text})})})]},"tox-listbox",d.shared)}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[E]};return Oo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Is([w.toArray(),[C]]),fieldBehaviours:pt([eo.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable,onDisabled:T=>{Oo.getField(T).each(eo.disable)},onEnabled:T=>{Oo.getField(T).each(eo.enable)}})])})})(o,r,a)),selectbox:qr((o,r,a)=>((l,d,m)=>{const p=Ee(l.items,C=>({text:d.translate(C.text),value:C.value})),b=l.label.map(C=>lh(C,d)),x=Oo.parts.field({dom:{},...m.map(C=>({data:C})).getOr({}),selectAttributes:{size:l.size},options:p,factory:fR,selectBehaviours:pt([eo.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),fs.config({}),vo("selectbox-change",[et(cf(),(C,T)=>{oo(C,gc,{name:l.name})})])])}),w=l.size>1?A.none():A.some(pd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},d.icons)),E={dom:{tag:"div",classes:["tox-selectfield"]},components:Is([[x],w.toArray()])};return Oo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Is([b.toArray(),[E]]),fieldBehaviours:pt([eo.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:C=>{Oo.getField(C).each(eo.disable)},onEnabled:C=>{Oo.getField(C).each(eo.enable)}}),gr(()=>d.checkUiComponentContext(l.context))])})})(o,r.shared.providers,a)),sizeinput:qr((o,r)=>((a,l)=>{let d=fC;const m=Oe("ratio-event"),p=X=>pd(X,{tag:"span",classes:["tox-icon","tox-lock-icon__"+X]},l.icons),b=()=>!a.enabled||l.checkUiComponentContext(a.context).shouldDisable,x=gr(()=>l.checkUiComponentContext(a.context)),w=a.label.getOr("Constrain proportions"),E=l.translate(w),C=jr.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":w}},components:[p("lock"),p("unlock")],buttonBehaviours:pt([eo.config({disabled:b}),x,fs.config({}),Rs.config(l.tooltips.getConfig({tooltipText:E}))])}),T=X=>({dom:{tag:"div",classes:["tox-form__group"]},components:X}),B=X=>Oo.parts.field({factory:Pp,inputClasses:["tox-textfield"],inputBehaviours:pt([eo.config({disabled:b}),x,fs.config({}),vo("size-input-events",[et(Rl(),($,U)=>{oo($,m,{isField1:X})}),et(cf(),($,U)=>{oo($,gc,{name:a.name})})])]),selectOnFocus:!1}),L=X=>({dom:{tag:"label",classes:["tox-label"]},components:[$s(l.translate(X))]}),Y=jr.parts.field1(T([Oo.parts.label(L("Width")),B(!0)])),W=jr.parts.field2(T([Oo.parts.label(L("Height")),B(!1)]));return jr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Y,W,T([L(" "),C])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(X,$,U)=>{mC(zt.getValue(X)).each(te=>{d(te).each(oe=>{zt.setValue($,H3(oe))})})},coupledFieldBehaviours:pt([eo.config({disabled:b,onDisabled:X=>{jr.getField1(X).bind(Oo.getField).each(eo.disable),jr.getField2(X).bind(Oo.getField).each(eo.disable),jr.getLock(X).each(eo.disable)},onEnabled:X=>{jr.getField1(X).bind(Oo.getField).each(eo.enable),jr.getField2(X).bind(Oo.getField).each(eo.enable),jr.getLock(X).each(eo.enable)}}),gr(()=>l.checkUiComponentContext("mode:design")),vo("size-input-events2",[et(m,(X,$)=>{const U=$.event.isField1,te=U?jr.getField1(X):jr.getField2(X),oe=U?jr.getField2(X):jr.getField1(X),de=te.map(zt.getValue).getOr(""),he=oe.map(zt.getValue).getOr("");d=tO(de,he)})])])})})(o,r.shared.providers)),slider:qr((o,r,a)=>((l,d,m)=>{const p=Lu.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(d.translate(l.label))]}),b=Lu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),x=Lu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Lu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:ne(m.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,b,x],sliderBehaviours:pt([Rf(),mo.config({})]),onChoose:(w,E,C)=>{oo(w,gc,{name:l.name,value:C})},onChange:(w,E,C)=>{oo(w,gc,{name:l.name,value:C})}})})(o,r.shared.providers,a)),urlinput:qr((o,r,a)=>((l,d,m,p)=>{const b=d.shared.providers,x=$=>{const U=zt.getValue($);m.addToHistory(U.value,l.filetype)},w={...p.map($=>({initialData:$})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":uO,type:"url"},minChars:0,responseTime:0,fetch:$=>{const U=((oe,de,he)=>{var ke,ze;const tt=zt.getValue(de),Je=(ze=(ke=tt==null?void 0:tt.meta)===null||ke===void 0?void 0:ke.text)!==null&&ze!==void 0?ze:tt.value;return he.getLinkInformation().fold(()=>[],rt=>{const bt=Tb(Je,(no=>Ee(no,po=>q3(po,po)))(he.getHistory(oe)));return oe==="file"?(Xt=[bt,Tb(Je,ZB(rt)),Tb(Je,Is([WB(rt),jB(rt),qB(rt)]))],qo(Xt,(no,po)=>no.length===0||po.length===0?no.concat(po):no.concat(UB,po),[])):bt;var Xt})})(l.filetype,$,m),te=Eb(U,Qd.BUBBLE_TO_SANDBOX,d,{isHorizontalMenu:!1,search:A.none()});return Tr(te)},getHotspot:$=>W.getOpt($),onSetValue:($,U)=>{$.hasConfigured(Ru)&&Ru.run($).get(xe)},typeaheadBehaviours:pt([...m.getValidationHandler().map($=>Ru.config({getRoot:U=>aa(U.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(U,te)=>{T.getOpt(U).each(oe=>{bo(oe.element,"title",b.translate(te))})}},validator:{validate:U=>{const te=zt.getValue(U);return pa(oe=>{$({type:l.filetype,url:te.value},de=>{if(de.status==="invalid"){const he=Fo.error(de.message);oe(he)}else{const he=Fo.value(de.message);oe(he)}})})},validateOnLoad:!1}})).toArray(),eo.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable}),fs.config({}),vo("urlinput-events",[et(im(),$=>{const U=la($.element),te=U.trim();te!==U&&Md($.element,te),l.filetype==="file"&&oo($,gc,{name:l.name})}),et(cf(),$=>{oo($,gc,{name:l.name}),x($)}),et(df(),$=>{oo($,gc,{name:l.name}),x($)})])]),eventOrder:{[im()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:$=>$.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:d.shared.getSink,parts:{menu:Mw(0,0,"normal")},onExecute:($,U,te)=>{oo(U,Gv,{})},onItemExecute:($,U,te,oe)=>{x($),oo($,gc,{name:l.name})}},E=Oo.parts.field({...w,factory:VR}),C=l.label.map($=>lh($,b)),T=Ln((($,U,te=$,oe=$)=>pd(te,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+$],attributes:{title:b.translate(oe),"aria-live":"polite",...U.fold(()=>({}),de=>({id:de}))}},b.icons))("invalid",A.some(uO),"warning")),B=Ln({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[T.asSpec()]}),L=m.getUrlPicker(l.filetype),Y=Oe("browser.url.event"),W=Ln({dom:{tag:"div",classes:["tox-control-wrap"]},components:[E,B.asSpec()],behaviours:pt([eo.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable})])}),X=Ln(j3({context:l.context,name:l.name,icon:A.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:A.none(),borderless:!0},$=>Xo($,Y),b,[],["tox-browse-url"]));return Oo.sketch({dom:SD([]),components:C.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Is([[W.asSpec()],L.map(()=>X.asSpec()).toArray()])}]),fieldBehaviours:pt([eo.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable,onDisabled:$=>{Oo.getField($).each(eo.disable),X.getOpt($).each(eo.disable)},onEnabled:$=>{Oo.getField($).each(eo.enable),X.getOpt($).each(eo.enable)}}),gr(()=>b.checkUiComponentContext(l.context)),vo("url-input-events",[et(Y,$=>{vn.getCurrent($).each(U=>{const te=zt.getValue(U),oe={fieldname:l.name,...te};L.each(de=>{de(oe).get(he=>{zt.setValue(U,he),oo($,gc,{name:l.name})})})})})])])})})(o,r,r.urlinput,a)),customeditor:qr(o=>{const r=Bn(),a=Ln({dom:{tag:o.tag}}),l=Bn(),d=!LD(o)&&o.onFocus.isSome()?[mo.config({onFocus:m=>{o.onFocus.each(p=>{p(m.element.dom)})}}),fs.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:pt([vo("custom-editor-events",[ts(m=>{a.getOpt(m).each(p=>{(LD(o)?o.init(p.element.dom):DB.load(o.scriptId,o.scriptUrl).then(b=>b(p.element.dom,o.settings))).then(b=>{l.on(x=>{b.setValue(x)}),l.clear(),r.set(b)})})})]),G1(A.none(),()=>r.get().fold(()=>l.get().getOr(""),m=>m.getValue()),(m,p)=>{r.get().fold(()=>l.set(p),b=>b.setValue(p))}),Rf()].concat(d)),components:[a.asSpec()]}}),htmlpanel:qr((o,r)=>((a,l)=>{const d=["tox-form__group",...a.stretched?["tox-form__group--stretched"]:[]],m=vo("htmlpanel",[ts(p=>{a.onInit(p.element.dom)})]);return a.presets==="presentation"?_m.sketch({dom:{tag:"div",classes:d,innerHtml:a.html},containerBehaviours:pt([Rs.config({...l.tooltips.getConfig({tooltipText:"",onShow:p=>{Nn(p.element,"[data-mce-tooltip]:hover").orThunk(()=>As(p.element)).each(b=>{Ta(b,"data-mce-tooltip").each(x=>{Rs.setComponents(p,l.tooltips.getComponents({tooltipText:x}))})})}}),mode:"children-normal",anchor:p=>({type:"node",node:Nn(p.element,"[data-mce-tooltip]:hover").orThunk(()=>As(p.element).filter(b=>Ta(b,"data-mce-tooltip").isSome())),root:p.element,layouts:{onLtr:ne([Br,ya,Ur,Wa,Mr,oi]),onRtl:ne([Br,ya,Ur,Wa,Mr,oi])},bubble:ml(0,-2,{})})}),m])}):_m.sketch({dom:{tag:"div",classes:d,innerHtml:a.html,attributes:{role:"document"}},containerBehaviours:pt([fs.config({}),mo.config({}),m])})})(o,r.shared.providers)),imagepreview:qr((o,r,a)=>((l,d)=>{const m=Vt(d.getOr({url:""})),p=Ln({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:d.map(E=>({src:E.url})).getOr({})}}),b=Ln({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),x={};l.height.each(E=>x.height=E);const w=d.map(E=>({url:E.url,zoom:A.from(E.zoom),cachedWidth:A.from(E.cachedWidth),cachedHeight:A.from(E.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:x,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:pt([Rf(),G1(w,()=>m.get(),(E,C)=>{const T={url:C.url};C.zoom.each(L=>T.zoom=L),C.cachedWidth.each(L=>T.cachedWidth=L),C.cachedHeight.each(L=>T.cachedHeight=L),m.set(T);const B=()=>{const{cachedWidth:L,cachedHeight:Y,zoom:W}=T;if(!$t(L)&&!$t(Y)){if($t(W)){const $=((U,te,oe)=>{const de=$a(U),he=Gs(U);return Math.min(de/te,he/oe,1)})(E.element,L,Y);T.zoom=$}const X=(($,U,te,oe,de)=>{const he=te*de,ke=oe*de,ze=Math.max(0,$/2-he/2),tt=Math.max(0,U/2-ke/2);return{left:ze.toString()+"px",top:tt.toString()+"px",width:he.toString()+"px",height:ke.toString()+"px"}})($a(E.element),Gs(E.element),L,Y,T.zoom);b.getOpt(E).each($=>{Ei($.element,X)})}};p.getOpt(E).each(L=>{const Y=L.element;C.url!==yr(Y,"src")&&(bo(Y,"src",C.url),vs(E.element,"tox-imagepreview__loaded")),B(),qm(Y).then(W=>{E.getSystem().isConnected()&&(ls(E.element,"tox-imagepreview__loaded"),T.cachedWidth=W.dom.naturalWidth,T.cachedHeight=W.dom.naturalHeight,B())})})})])}})(o,a)),table:qr((o,r)=>((a,l)=>{const d=b=>({dom:{tag:"td",innerHtml:l.translate(b)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=a.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ee(p,b=>({dom:{tag:"th",innerHtml:l.translate(b)}}))}]}),(m=a.cells,{dom:{tag:"tbody"},components:Ee(m,b=>({dom:{tag:"tr"},components:Ee(b,d)}))})],behaviours:pt([fs.config({}),mo.config({})])};var m,p})(o,r.shared.providers)),tree:qr((o,r)=>((a,l)=>{const d=a.onLeafAction.getOr(xe),m=a.onToggleExpand.getOr(xe),p=a.defaultExpandedIds,b=Vt(p),x=Vt(a.defaultSelectedId),w=Oe("tree-id"),E=(C,T)=>a.items.map(B=>B.type==="leaf"?V3({leaf:B,selectedId:C,onLeafAction:d,visible:!0,treeId:w,backstage:l}):U3({directory:B,selectedId:C,onLeafAction:d,expandedIds:T,labelTabstopping:!0,treeId:w,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:E(x.get(),b.get()),behaviours:pt([Bt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),vo(VB,[et("expand-tree-node",(C,T)=>{const{expanded:B,node:L}=T.event;b.set(B?[...b.get(),L]:b.get().filter(Y=>Y!==L)),m(b.get(),{expanded:B,node:L})})]),Vl.config({channels:{[`update-active-item-${w}`]:{onReceive:(C,T)=>{x.set(A.some(T.value)),Ao.set(C,E(A.some(T.value),b.get()))}}}}),Ao.config({})])}})(o,r)),panel:qr((o,r)=>((a,l)=>({dom:{tag:"div",classes:a.classes},components:Ee(a.items,l.shared.interpreter)}))(o,r))},KB={field:(o,r)=>r,record:ne([])},mO=(o,r,a,l,d)=>{const m=Wo(l,{shared:{interpreter:p=>G3(o,p,a,m,d)}});return G3(o,r,a,m,d)},G3=(o,r,a,l,d)=>Kt(GB,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),m=>m(o,r,a,l,d)),YB=(o,r,a,l)=>G3(KB,o,r,a,l),mh={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},Db=(o,r,a)=>{const l={maxHeightFunction:gm()};return()=>a()?{type:"node",root:Sd(Aa(o())),node:A.from(o()),bubble:ml(12,12,mh),layouts:{onRtl:()=>[_u],onLtr:()=>[Sg]},overrides:l}:{type:"hotspot",hotspot:r(),bubble:ml(-12,12,mh),layouts:{onRtl:()=>[Ur,Mr,Br],onLtr:()=>[Mr,Ur,Br]},overrides:l}},fO=(o,r,a,l)=>{const d={maxHeightFunction:gm()};return()=>l()?{type:"node",root:Sd(Aa(r())),node:A.from(r()),bubble:ml(12,12,mh),layouts:{onRtl:()=>[Zi],onLtr:()=>[Zi]},overrides:d}:o?{type:"node",root:Sd(Aa(r())),node:A.from(r()),bubble:ml(0,-rl(r()),mh),layouts:{onRtl:()=>[ya],onLtr:()=>[ya]},overrides:d}:{type:"hotspot",hotspot:a(),bubble:ml(0,0,mh),layouts:{onRtl:()=>[ya],onLtr:()=>[ya]},overrides:d}},pO=(o,r,a)=>()=>a()?{type:"node",root:Sd(Aa(o())),node:A.from(o()),layouts:{onRtl:()=>[Zi],onLtr:()=>[Zi]}}:{type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[Br],onLtr:()=>[Br]}},XB=(o,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const a=o.selection.getRng(),l=o.model.table.getSelectedCells();if(l.length>1){const d=l[0],m=l[l.length-1],p={firstCell:Ft(d),lastCell:Ft(m)};return A.some(p)}return A.some(Tc.range(Ft(a.startContainer),a.startOffset,Ft(a.endContainer),a.endOffset))}}),QB=o=>r=>({type:"node",root:o(),node:r}),JB=(o,r,a,l)=>{const d=Fu(o),m=()=>Ft(o.getBody()),p=()=>Ft(o.getContentAreaContainer()),b=()=>d||!l();return{inlineDialog:Db(p,r,b),inlineBottomDialog:fO(o.inline,p,a,b),banner:pO(p,r,b),cursor:XB(o,m),node:QB(m)}},eI=o=>(r,a)=>{hD(o)(r,a)},tI=o=>()=>lD(o),oI=o=>r=>Sb(o,r),nI=o=>r=>y3(o,r),sI=o=>()=>uT(o),gO=o=>xs(o,"items"),hO=o=>xs(o,"format"),bO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],K3=o=>qo(o,(r,a)=>{if(jo(a,"items")){const l=K3(a.items);return{customFormats:r.customFormats.concat(l.customFormats),formats:r.formats.concat([{title:a.title,items:l.formats}])}}if(jo(a,"inline")||(l=>jo(l,"block"))(a)||(l=>jo(l,"selector"))(a)){const l=`custom-${Me(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:l,format:a}]),formats:r.formats.concat([{title:a.title,format:l,icon:a.icon}])}}return{...r,formats:r.formats.concat(a)}},{customFormats:[],formats:[]}),Y1=o=>oT(o).map(r=>{const a=((l,d)=>{const m=K3(d),p=b=>{gt(b,x=>{l.formatter.has(x.name)||l.formatter.register(x.name,x.format)})};return l.formatter?p(m.customFormats):l.on("init",()=>{p(m.customFormats)}),m.formats})(o,r);return nT(o)?bO.concat(a):a}).getOr(bO),fh=(o,r,a)=>({...o,type:"formatter",isSelected:r(o.format),getStylePreview:a(o.format)}),xO=(o,r,a,l)=>{const d=m=>Ee(m,p=>gO(p)?(b=>{const x=d(b.items);return{...b,type:"submenu",getStyleItems:ne(x)}})(p):hO(p)?(b=>fh(b,a,l))(p):(b=>{const x=Zs(b);return x.length===1&&Et(x,"title")})(p)?{...p,type:"separator"}:(b=>{const x=Me(b.name)?b.name:Oe(b.title),w=`custom-${x}`,E={...b,type:"formatter",format:w,isSelected:a(w),getStylePreview:l(w)};return o.formatter.register(x,E),E})(p));return d(r)},vO=o=>{let r=0;const a=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[$s(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>r>0?60:300,delayForHide:ne(300),exclusive:!0,lazySink:o,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:a(l),onShow:(d,m)=>{r++,l.onShow&&l.onShow(d,m)},onHide:(d,m)=>{r--,l.onHide&&l.onHide(d,m)},onSetup:l.onSetup}),getComponents:a}},yO=vl.trim,o2=o=>r=>!!((a=>Ne(a)&&a.nodeType===1)(r)&&(r.contentEditable===o||r.getAttribute("data-mce-contenteditable")===o)),rI=o2("true"),n2=o2("false"),Ob=(o,r,a,l,d)=>({type:o,title:r,url:a,level:l,attach:d}),wO=o=>o.innerText||o.textContent,aI=o=>(r=>r&&r.nodeName==="A"&&(r.id||r.name)!==void 0)(o)&&_O(o),CO=o=>o&&/^(H[1-6])$/.test(o.nodeName),_O=o=>(r=>{let a=r;for(;a=a.parentNode;){const l=a.contentEditable;if(l&&l!=="inherit")return rI(a)}return!1})(o)&&!n2(o),iI=o=>CO(o)&&_O(o),lI=o=>{var r;const a=(l=>l.id?l.id:Oe("h"))(o);return Ob("header",(r=wO(o))!==null&&r!==void 0?r:"","#"+a,(l=>CO(l)?parseInt(l.nodeName.substr(1),10):0)(o),()=>{o.id=a})},gC=o=>{const r=o.id||o.name,a=wO(o);return Ob("anchor",a||"#"+r,"#"+r,0,xe)},cI=o=>yO(o.title).length>0,Y3=o=>{const r=(a=>Ee(ca(Ft(a),"h1,h2,h3,h4,h5,h6,a:not([href])"),d=>d.dom))(o);return Do((a=>Ee(Do(a,iI),lI))(r).concat((a=>Ee(Do(a,aI),gC))(r)),cI)},hC="tinymce-url-history",kO=o=>Me(o)&&/^https?/.test(o),X3=o=>Se(o)&&ki(o,r=>{return!(Ue(a=r)&&a.length<=5&&_i(a,kO));var a}).isNone(),Q3=()=>{const o=W1.getItem(hC);if(o===null)return{};let r;try{r=JSON.parse(o)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+hC+" was not valid JSON",a),{};throw a}return X3(r)?r:(console.log("Local storage "+hC+" was not valid format",r),{})},SO=o=>{const r=Q3();return Kt(r,o).getOr([])},qp=(o,r)=>{if(!kO(o))return;const a=Q3(),l=Kt(a,r).getOr([]),d=Do(l,m=>m!==o);a[r]=[o].concat(d).slice(0,5),(m=>{if(!X3(m))throw new Error(`Bad format for history:
`+JSON.stringify(m));W1.setItem(hC,JSON.stringify(m))})(a)},ph=o=>!!o,dI=o=>Ss(vl.makeMap(o,/[, ]/),ph),J3=o=>A.from(lT(o)),eS=o=>A.from(o).filter(Me).getOrUndefined(),uI=o=>({getHistory:SO,addToHistory:qp,getLinkInformation:()=>(r=>mw(r)?A.some({targets:Y3(r.getBody()),anchorTop:eS(fw(r)),anchorBottom:eS(dT(r))}):A.none())(o),getValidationHandler:()=>(r=>A.from(cT(r)))(o),getUrlPicker:r=>((a,l)=>((d,m)=>{const p=(b=>{const x=A.from(kv(b)).filter(ph).map(dI);return J3(b).fold(Qe,w=>x.fold(Jt,E=>Zs(E).length>0&&E))})(d);return St(p)?p?J3(d):A.none():p[m]?J3(d):A.none()})(a,l).map(d=>m=>sa(p=>{const b={filetype:l,fieldname:m.fieldname,...A.from(m.meta).getOr({})};d.call(a,(x,w)=>{if(!Me(x))throw new Error("Expected value to be string");if(w!==void 0&&!Se(w))throw new Error("Expected meta to be a object");p({value:x,meta:w})},m.value,b)})))(o,r)}),EO=xe,mI=Qe,AO=ne([]);var TO,fI=Object.freeze({__proto__:null,setup:EO,isDocked:mI,getBehaviours:AO});const tS=ne(Oe("toolbar-height-change")),Mf={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},DO="tox-tinymce--toolbar-sticky-on",OO="tox-tinymce--toolbar-sticky-off",Nb=(o,r)=>Et(Xs.getModes(o),r),oS=o=>{const r=o.element;aa(r).each(a=>{const l="padding-"+Xs.getModes(o)[0];if(Xs.isDocked(o)){const d=$a(a);Eo(r,"width",d+"px"),Eo(a,l,(m=>rl(m)+(parseInt(Ha(m,"margin-top"),10)||0)+(parseInt(Ha(m,"margin-bottom"),10)||0))(r)+"px")}else un(r,"width"),un(a,l)})},NO=(o,r)=>{r?(vs(o,Mf.fadeOutClass),mu(o,[Mf.transitionClass,Mf.fadeInClass])):(vs(o,Mf.fadeInClass),mu(o,[Mf.fadeOutClass,Mf.transitionClass]))},RO=(o,r)=>{const a=Ft(o.getContainer());r?(ls(a,DO),vs(a,OO)):(ls(a,OO),vs(a,DO))},nS=(o,r)=>{const a=Bn(),l=r.getSink,d=b=>{l().each(x=>b(x.element))},m=b=>{o.inline||oS(b),RO(o,Xs.isDocked(b)),b.getSystem().broadcastOn([Sf()],{}),l().each(x=>x.getSystem().broadcastOn([Sf()],{}))},p=o.inline?[]:[Vl.config({channels:{[tS()]:{onReceive:oS}}})];return[mo.config({}),Xs.config({contextual:{lazyContext:b=>{const x=rl(b.element),w=o.inline?o.getContentAreaContainer():o.getContainer();return A.from(w).map(E=>{const C=Js(Ft(E));return Mm(o,b.element).fold(()=>{const T=C.height-x,B=C.y+(Nb(b,"top")?0:x);return zs(C.x,B,C.width,T)},T=>{const B=ug(C,Jg(T)),L=Nb(b,"top")?B.y:B.y+x;return zs(B.x,L,B.width,B.height-x)})})},onShow:()=>{d(b=>NO(b,!0))},onShown:b=>{d(x=>ui(x,[Mf.transitionClass,Mf.fadeInClass])),a.get().each(x=>{((w,E)=>{const C=jt(E);Al(C).filter(T=>!In(E,T)).filter(T=>In(T,Ft(C.dom.body))||La(w,T)).each(()=>Ws(E))})(b.element,x),a.clear()})},onHide:b=>{((x,w)=>As(x).orThunk(()=>w().toOptional().bind(E=>As(E.element))))(b.element,l).fold(a.clear,a.set),d(x=>NO(x,!1))},onHidden:()=>{d(b=>ui(b,[Mf.transitionClass]))},...Mf},lazyViewport:b=>Mm(o,b.element).fold(()=>{const x=Na(),w=o4(o),E=x.y+(Nb(b,"top")&&!ST(o)?w:0),C=x.height-(Nb(b,"bottom")?w:0);return{bounds:zs(x.x,E,x.width,C),optScrollEnv:A.none()}},x=>({bounds:Jg(x),optScrollEnv:A.some({currentScrollTop:x.element.dom.scrollTop,scrollElmTop:fr(x.element).top})})),modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m}),...p]};var pI=Object.freeze({__proto__:null,setup:(o,r,a)=>{o.inline||(r.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{a().each(Xs.reset)}),o.on("ResizeWindow ResizeEditor",()=>{a().each(oS)}),o.on("SkinLoaded",()=>{a().each(l=>{Xs.isDocked(l)?Xs.reset(l):Xs.refresh(l)})}),o.on("FullscreenStateChanged",()=>{a().each(Xs.reset)})),o.on("AfterScrollIntoView",l=>{a().each(d=>{Xs.refresh(d);const m=d.element;du(m)&&((p,b)=>{const x=jt(b),w=zr(b).dom.innerHeight,E=Pi(x),C=Ft(p.elm),T=er(C),B=Gs(C),L=T.y,Y=L+B,W=fr(b),X=Gs(b),$=W.top,U=$+X,te=Math.abs($-E.top)<2,oe=Math.abs(U-(E.top+w))<2;if(te&&L<U)Ym(E.left,L-X,x);else if(oe&&Y>$){const de=L-w+B+X;Ym(E.left,de,x)}})(l,m)})}),o.on("PostRender",()=>{RO(o,!1)})},isDocked:o=>o().map(Xs.isDocked).getOr(!1),getBehaviours:nS}),sS=dd({factory:(o,r)=>{const a={focus:Bt.focusIn,setMenus:(l,d)=>{const m=Ee(d,p=>{const b={type:"menubutton",text:p.text,fetch:w=>{w(p.getItems())},context:"any"},x=$4(b).mapError(w=>sf(w)).getOrDie();return t2(x,"tox-mbtn",r.backstage,A.some("menuitem"))});Ao.set(l,m)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:pt([Ao.config({}),vo("menubar-events",[ts(l=>{o.onSetup(l)}),et($i(),(l,d)=>{Nn(l.element,".tox-mbtn--active").each(m=>{Ac(d.event.target,".tox-mbtn").each(p=>{In(m,p)||l.getSystem().getByDom(m).each(b=>{l.getSystem().getByDom(p).each(x=>{Ic.expand(x),Ic.close(b),mo.focus(x)})})})})}),et(f0(),(l,d)=>{d.event.prevFocus.bind(m=>l.getSystem().getByDom(m).toOptional()).each(m=>{d.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{Ic.isOpen(m)&&(Ic.expand(p),Ic.close(m))})})})]),Bt.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(o.onEscape(l),A.some(!0))}),fs.config({})]),apis:a,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ct("dom"),ct("uid"),ct("onEscape"),ct("backstage"),Pe("onSetup",xe)],apis:{focus:(o,r)=>{o.focus(r)},setMenus:(o,r,a)=>{o.setMenus(r,a)}}});const gI=o=>({element:()=>o.element.dom}),MO=(o,r)=>{const a=Ee(Zs(r),l=>{const d=r[l],m=Ol((p=>Hs("sidebar",U6,p))(d));return{name:l,getApi:gI,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return Ee(a,l=>{const d=Vt(xe);return o.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:U1([wa(l,d),Vu(l,d),et(p0(),(m,p)=>{const b=p.event;z(a,w=>w.name===b.name).each(w=>{(b.visible?w.onShow:w.onHide)(w.getApi(m))})})])})})},hI=o=>Xi.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:MO(r,o),slotBehaviours:U1([ts(a=>Xi.hideAllSlots(a))])})),bC=(o,r)=>{bo(o,"role",r)},bI=o=>vn.getCurrent(o).bind(r=>$l.isGrowing(r)||$l.hasGrown(r)?vn.getCurrent(r).bind(a=>z(Xi.getSlotNames(a),l=>Xi.isShowing(a,l))):A.none()),rS=Oe("FixSizeEvent"),aS=Oe("AutoSizeEvent"),iS=o=>vn.getCurrent(o).each(r=>Ws(r.element,!0)),BO=(o,r,a)=>{const l=Vt(!1),d=Bn(),m=b=>{var x;l.get()&&(!(w=>w.type==="focusin")(x=b)||!(x.composed?br(x.composedPath()):A.from(x.target)).map(Ft).filter(Ho).exists(w=>Ja(w,"mce-pastebin")))&&(b.preventDefault(),iS(r()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",m),o.on("BeforeExecCommand",b=>{b.command.toLowerCase()==="mcefocus"&&b.value!==!0&&m(b)})});const p=b=>{b!==l.get()&&(l.set(b),((x,w,E,C)=>{const T=w.element;if(((B,L)=>{const Y="tabindex",W=`data-mce-${Y}`;A.from(B.iframeElement).map(Ft).each(X=>{L?(Ta(X,Y).each($=>bo(X,W,$)),bo(X,Y,-1)):(qs(X,Y),Ta(X,W).each($=>{bo(X,Y,$),qs(X,W)}))})})(x,E),E)Cm.block(w,(B=>(L,Y)=>({dom:{tag:"div",attributes:{"aria-label":B.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:jd('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(C)),un(T,"display"),qs(T,"aria-hidden"),x.hasFocus()&&iS(w);else{const B=vn.getCurrent(w).exists(L=>oc(L.element));Cm.unblock(w),Eo(T,"display","none"),bo(T,"aria-hidden","true"),B&&x.focus()}})(o,r(),b,a.providers),((x,w)=>{x.dispatch("AfterProgressState",{state:w})})(o,b))};o.on("ProgressState",b=>{if(d.on(clearTimeout),kt(b.time)){const x=lb.setEditorTimeout(o,()=>p(b.state),b.time);d.set(x)}else p(b.state),d.clear()})},IO=o=>{const r=o.label.isNone()?o.title.fold(()=>({}),a=>({attributes:{"aria-label":a}})):o.label.fold(()=>({}),a=>({attributes:{"aria-label":a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(o.label.isSome()?["tox-toolbar__group_with_label"]:[]),...r},components:[...o.label.map(a=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[$s(a)]})).toArray(),xv.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:pt([fs.config({}),mo.config({ignore:!0})])}},xC=o=>xv.sketch(IO(o)),PO=(o,r)=>{const a=ts(l=>{const d=Ee(o.initGroups,xC);Dm.setGroups(l,d)});return pt([Ww(()=>o.providers.checkUiComponentContext("any").shouldDisable),gr(()=>o.providers.checkUiComponentContext("any")),Bt.config({mode:r,onEscape:o.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),vo("toolbar-events",[a])])},LO=o=>{const r=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":IO({title:A.none(),label:A.none(),items:[]}),"overflow-button":$B({context:"any",icon:A.some("more-drawer"),enabled:!0,tooltip:A.some("Reveal or hide additional toolbar items")},A.none(),o.providers,[],"overflow-button")},splitToolbarBehaviours:PO(o,r)}},xI=o=>{const r=LO(o),a=Y5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return Y5.sketch({...r,lazySink:o.getSink,getOverflowBounds:()=>{const l=o.moreDrawerData.lazyHeader().element,d=er(l),m=Xn(l),p=er(m),b=Math.max(m.dom.scrollHeight,p.height);return zs(d.x+4,p.y,d.width-8,b)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[a],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>o.onToggled(l,!0),onClosed:l=>o.onToggled(l,!1)})},FO=o=>{const r=jk.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=jk.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=LO(o);return jk.sketch({...l,components:[r,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([tS()],{type:"opened"}),o.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([tS()],{type:"closed"}),o.onToggled(d,!1)}})},gh=o=>{const r=o.cyclicKeying?"cyclic":"acyclic";return Dm.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Gd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Dm.parts.groups({})],toolbarBehaviours:PO(o,r)})},zO=(o,r)=>((a,l)=>{var d,m;const p=a.type==="togglebutton",b=a.icon.map($=>uh($,l.icons)).map(Ln),x={...a,name:p?a.text.getOr(a.icon.getOr("")):(d=a.text)!==null&&d!==void 0?d:a.icon.getOr(""),primary:a.buttonType==="primary",buttonType:A.from(a.buttonType),tooltip:a.tooltip,icon:a.icon,enabled:!0,borderless:a.borderless},w=Z3((m=a.buttonType)!==null&&m!==void 0?m:"secondary"),E=p?a.text.map(l.translate):A.some(l.translate(a.text)),C=E.map($s),T=x.tooltip.or(E).map($=>({"aria-label":l.translate($)})).getOr({}),B=b.map($=>$.asSpec()),L=rh([B,C]),Y=a.icon.isSome()&&C.isSome(),W={tag:"button",classes:w.concat(...a.icon.isSome()&&!Y?["tox-button--icon"]:[]).concat(...Y?["tox-button--icon-and-text"]:[]).concat(...a.borderless?["tox-button--naked"]:[]).concat(...a.type==="togglebutton"&&a.active?["tox-button--enabled"]:[]),attributes:T},X=Ab(x,A.some($=>{const U=te=>{b.map(oe=>oe.getOpt($).each(de=>{Ao.set(de,[uh(te,l.icons)])}))};return p?a.onAction({setIcon:U,setActive:te=>{const oe=$.element;te?(ls(oe,"tox-button--enabled"),bo(oe,"aria-pressed",!0)):(vs(oe,"tox-button--enabled"),qs(oe,"aria-pressed"))},isActive:()=>Ja($.element,"tox-button--enabled"),focus:()=>Ws($.element)}):a.type==="button"?a.onAction({setIcon:U}):void 0}),[],W,L,a.tooltip,l);return ua.sketch(X)})(o,r),HO=Ce().deviceType,vI=HO.isPhone(),vC=HO.isTablet();var yl=Ki({name:"silver.View",configFields:[ct("viewConfig")],partFields:[Rc({factory:{sketch:o=>{let r=!1;const a=Ee(o.buttons,l=>l.type==="group"?(r=!0,((d,m)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ee(d.buttons,p=>zO(p,m))}))(l,o.providers)):zO(l,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...vI||vC?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:pt([mo.config({}),Bt.config({mode:"flow",selector:"button, .tox-button",focusInside:sd.OnEnterOrSpaceMode})]),components:r?a:[_m.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),_m.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}}},schema:[ct("buttons"),ct("providers")],name:"header"}),Rc({factory:{sketch:o=>({uid:o.uid,behaviours:pt([mo.config({}),fs.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,r,a,l)=>{const d={getPane:m=>Ga.getPart(m,o,"pane"),getOnShow:m=>o.viewConfig.onShow,getOnHide:m=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:r,behaviours:pt([mo.config({}),Bt.config({mode:"cyclic",focusInside:sd.OnEnterOrSpaceMode})]),apis:d}},apis:{getPane:(o,r)=>o.getPane(r),getOnShow:(o,r)=>o.getOnShow(r),getOnHide:(o,r)=>o.getOnHide(r)}});const lS=(o,r,a)=>Ya(r,(l,d)=>{const m=Ol(Hs("view",mB,l));return o.slot(d,yl.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:m,components:[...m.buttons.length>0?[yl.parts.header({buttons:m.buttons,providers:a})]:[],yl.parts.pane({})]}))}),VO=(o,r)=>Xi.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:lS(a,o,r),slotBehaviours:U1([ts(l=>Xi.hideAllSlots(l))])})),$O=o=>z(Xi.getSlotNames(o),r=>Xi.isShowing(o,r)),UO=(o,r,a)=>{Xi.getSlot(o,r).each(l=>{yl.getPane(l).each(d=>{var m;a(l)((m=d.element.dom,{getContainer:ne(m)}))})})};var yC=dd({factory:(o,r)=>{const a={setViews:(l,d)=>{Ao.set(l,[VO(d,r.backstage.shared.providers)])},whichView:l=>vn.getCurrent(l).bind($O),toggleView:(l,d,m,p)=>vn.getCurrent(l).exists(b=>{const x=$O(b),w=x.exists(C=>p===C),E=Xi.getSlot(b,p).isSome();return E&&(Xi.hideAllSlots(b),w?((C=>{const T=C.element;Eo(T,"display","none"),bo(T,"aria-hidden","true")})(l),d()):(m(),(C=>{const T=C.element;un(T,"display"),qs(T,"aria-hidden")})(l),Xi.showSlot(b,p),((C,T)=>{UO(C,T,yl.getOnShow)})(b,p)),x.each(C=>((T,B)=>UO(T,B,yl.getOnHide))(b,C))),E})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:pt([Ao.config({}),vn.config({find:l=>{const d=Ao.contents(l);return br(d)}})]),apis:a}},name:"silver.ViewWrapper",configFields:[ct("backstage")],apis:{setViews:(o,r,a)=>o.setViews(r,a),toggleView:(o,r,a,l,d)=>o.toggleView(r,a,l,d),whichView:(o,r)=>o.whichView(r)}});const yI=Am.optional({factory:sS,name:"menubar",schema:[ct("backstage")]}),ZO=Am.optional({factory:{sketch:o=>hk.sketch({uid:o.uid,dom:o.dom,listBehaviours:pt([Bt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>gh({type:o.type,uid:Oe("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),A.some(!0))}),setupItem:(r,a,l,d)=>{Dm.setGroups(a,l)},shell:!0})},name:"multiple-toolbar",schema:[ct("dom"),ct("onEscape")]}),jO=Am.optional({factory:{sketch:o=>(a=>a.type===Gd.sliding?FO:a.type===Gd.floating?xI:gh)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),A.some(!0)),onToggled:(a,l)=>o.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[ct("dom"),ct("onEscape"),ct("getSink")]}),wI=Am.optional({factory:{sketch:o=>{const r=o.editor,a=o.sticky?nS:AO;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:pt(a(r,o.sharedBackstage))}}},name:"header",schema:[ct("dom")]}),CI=Am.optional({factory:{sketch:o=>{const r=o.promotionLink?[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"💝Get all features"}}]:[];return{uid:o.uid,dom:o.dom,components:r}}},name:"promotion",schema:[ct("dom"),ct("promotionLink")]}),WO=Am.optional({name:"socket",schema:[ct("dom")]}),_I=Am.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:pt([fs.config({}),mo.config({}),$l.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{vn.getCurrent(r).each(Xi.hideAllSlots),Xo(r,aS)},onGrown:r=>{Xo(r,aS)},onStartGrow:r=>{oo(r,rS,{width:ba(r.element,"width").getOr("")})},onStartShrink:r=>{oo(r,rS,{width:$a(r.element)+"px"})}}),Ao.config({}),vn.config({find:r=>{const a=Ao.contents(r);return br(a)}})])}],behaviours:pt([Yv(0),vo("sidebar-sliding-events",[et(rS,(r,a)=>{Eo(r.element,"width",a.event.width)}),et(aS,(r,a)=>{un(r.element,"width")})])])})},name:"sidebar",schema:[ct("dom")]}),qO=Am.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:pt([Ao.config({}),Cm.config({focus:!1}),vn.config({find:r=>br(r.components())})]),components:[]})},name:"throbber",schema:[ct("dom")]}),GO=Am.optional({factory:yC,name:"viewWrapper",schema:[ct("backstage")]}),KO=Am.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var ks=Ki({name:"OuterContainer",factory:(o,r,a)=>{let l=!1;const d=p=>{Nd(p,".tox-statusbar").each(b=>{Ha(b,"display")==="none"&&yr(b,"aria-hidden")==="true"?(un(b,"display"),qs(b,"aria-hidden")):(Eo(b,"display","none"),bo(b,"aria-hidden","true"))})},m={getSocket:p=>Ga.getPart(p,o,"socket"),setSidebar:(p,b,x)=>{Ga.getPart(p,o,"sidebar").each(w=>((E,C,T)=>{vn.getCurrent(E).each(B=>{Ao.set(B,[hI(C)]);const L=T==null?void 0:T.toLowerCase();Me(L)&&jo(C,L)&&vn.getCurrent(B).each(Y=>{Xi.showSlot(Y,L),$l.immediateGrow(B),un(B.element,"width"),bC(E.element,"region")})})})(w,b,x))},toggleSidebar:(p,b)=>{Ga.getPart(p,o,"sidebar").each(x=>((w,E)=>{vn.getCurrent(w).each(C=>{vn.getCurrent(C).each(T=>{$l.hasGrown(C)?Xi.isShowing(T,E)?($l.shrink(C),bC(w.element,"presentation")):(Xi.hideAllSlots(T),Xi.showSlot(T,E),bC(w.element,"region")):(Xi.hideAllSlots(T),Xi.showSlot(T,E),$l.grow(C),bC(w.element,"region"))})})})(x,b))},whichSidebar:p=>Ga.getPart(p,o,"sidebar").bind(bI).getOrNull(),getHeader:p=>Ga.getPart(p,o,"header"),getToolbar:p=>Ga.getPart(p,o,"toolbar"),setToolbar:(p,b)=>{Ga.getPart(p,o,"toolbar").each(x=>{const w=Ee(b,xC);x.getApis().setGroups(x,w)})},setToolbars:(p,b)=>{Ga.getPart(p,o,"multiple-toolbar").each(x=>{const w=Ee(b,E=>Ee(E,xC));hk.setItems(x,w)})},refreshToolbar:p=>{Ga.getPart(p,o,"toolbar").each(b=>b.getApis().refresh(b))},toggleToolbarDrawer:p=>{Ga.getPart(p,o,"toolbar").each(b=>{Cc(b.getApis().toggle,x=>x(b))})},toggleToolbarDrawerWithoutFocusing:p=>{Ga.getPart(p,o,"toolbar").each(b=>{Cc(b.getApis().toggleWithoutFocusing,x=>x(b))})},isToolbarDrawerToggled:p=>Ga.getPart(p,o,"toolbar").bind(b=>A.from(b.getApis().isOpen).map(x=>x(b))).getOr(!1),getThrobber:p=>Ga.getPart(p,o,"throbber"),focusToolbar:p=>{Ga.getPart(p,o,"toolbar").orThunk(()=>Ga.getPart(p,o,"multiple-toolbar")).each(b=>{Bt.focusIn(b)})},setMenubar:(p,b)=>{Ga.getPart(p,o,"menubar").each(x=>{sS.setMenus(x,b)})},focusMenubar:p=>{Ga.getPart(p,o,"menubar").each(b=>{sS.focus(b)})},setViews:(p,b)=>{Ga.getPart(p,o,"viewWrapper").each(x=>{yC.setViews(x,b)})},toggleView:(p,b)=>Ga.getPart(p,o,"viewWrapper").exists(x=>yC.toggleView(x,()=>m.showMainView(p),()=>m.hideMainView(p),b)),whichView:p=>Ga.getPart(p,o,"viewWrapper").bind(yC.whichView).getOrNull(),hideMainView:p=>{l=m.isToolbarDrawerToggled(p),l&&m.toggleToolbarDrawer(p),Ga.getPart(p,o,"editorContainer").each(b=>{const x=b.element;d(x),Eo(x,"display","none"),bo(x,"aria-hidden","true")})},showMainView:p=>{l&&m.toggleToolbarDrawer(p),Ga.getPart(p,o,"editorContainer").each(b=>{const x=b.element;d(x),un(x,"display"),qs(x,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:r,apis:m,behaviours:o.behaviours}},configFields:[ct("dom"),ct("behaviours")],partFields:[wI,yI,jO,ZO,WO,_I,CI,qO,GO,KO],apis:{getSocket:(o,r)=>o.getSocket(r),setSidebar:(o,r,a,l)=>{o.setSidebar(r,a,l)},toggleSidebar:(o,r,a)=>{o.toggleSidebar(r,a)},whichSidebar:(o,r)=>o.whichSidebar(r),getHeader:(o,r)=>o.getHeader(r),getToolbar:(o,r)=>o.getToolbar(r),setToolbar:(o,r,a)=>{o.setToolbar(r,a)},setToolbars:(o,r,a)=>{o.setToolbars(r,a)},refreshToolbar:(o,r)=>o.refreshToolbar(r),toggleToolbarDrawer:(o,r)=>{o.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(o,r)=>{o.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(o,r)=>o.isToolbarDrawerToggled(r),getThrobber:(o,r)=>o.getThrobber(r),setMenubar:(o,r,a)=>{o.setMenubar(r,a)},focusMenubar:(o,r)=>{o.focusMenubar(r)},focusToolbar:(o,r)=>{o.focusToolbar(r)},setViews:(o,r,a)=>{o.setViews(r,a)},toggleView:(o,r,a)=>o.toggleView(r,a),whichView:(o,r)=>o.whichView(r)}});const YO={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},cS=o=>o.split(" "),XO=(o,r)=>{const a={...YO,...r.menus},l=Zs(r.menus).length>0,d=r.menubar===void 0||r.menubar===!0?cS("file edit view insert format tools table help"):cS(r.menubar===!1?"":r.menubar),m=Do(d,b=>{const x=jo(YO,b);return l?x||Kt(r.menus,b).exists(w=>jo(w,"items")):x}),p=Ee(m,b=>{const x=a[b];return((w,E,C)=>{const T=sT(C).split(/[ ,]/);return{text:w.title,getItems:()=>Uo(w.items,B=>{const L=B.toLowerCase();return L.trim().length===0||Tn(T,Y=>Y===L)?[]:L==="separator"||L==="|"?[{type:"separator"}]:E.menuItems[L]?[E.menuItems[L]]:[]})}})({title:x.title,items:cS(x.items)},r,o)});return Do(p,b=>b.getItems().length>0&&Tn(b.getItems(),x=>Me(x)||x.type!=="separator"))},QO=(o,r,a)=>(o.on("remove",()=>a.unload(r)),a.load(r)),wC=(o,r,a,l)=>(o.on("remove",()=>l.unloadRawCss(r)),l.loadRawCss(r,a)),dS=o=>A.from(tinymce.Resource.get(o)).filter(Me),uS=(o,r,a="")=>{const l=(m=>{const p=vT(m);return p?A.from(p):A.none()})(o).map(m=>((p,b)=>"ui/"+p+"/"+b)(m,`${r}.css`)),d=l.bind(dS);return xr(l,d,(m,p)=>({_kind:"load-raw",key:m,css:p})).getOrThunk(()=>{const m=o.editorManager.suffix;return{_kind:"load-stylesheet",url:a+`/${r}${m}.css`}})},kI=(o,r)=>{const a=o.ui.styleSheetLoader,l=uS(o,"skin",r);switch(l._kind){case"load-raw":const{key:d,css:m}=l;return wC(o,d,m,a),Promise.resolve();case"load-stylesheet":const{url:p}=l;return QO(o,p,a);default:return Promise.resolve()}},JO=(o,r)=>{var a;if(a=Ft(o.getElement()),!Sl(a).isSome())return Promise.resolve();{const l=Xg.DOM.styleSheetLoader,d=uS(o,"skin.shadowdom",r);switch(d._kind){case"load-raw":const{key:m,css:p}=d;return wC(o,m,p,l),Promise.resolve();case"load-stylesheet":const{url:b}=d;return QO(o,b,l);default:return Promise.resolve()}}},e8=(o,r)=>(async(a,l)=>{const d=yT(l);if(await((m,p,b)=>{const x=uS(m,p?"content.inline":"content",b);switch(x._kind){case"load-raw":const{key:w,css:E}=x;return p?wC(m,w,E,m.ui.styleSheetLoader):m.on("PostRender",()=>{wC(m,w,E,m.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:C}=x;return b&&m.contentCSS.push(C),Promise.resolve();default:return Promise.resolve()}})(l,a,d),!gw(l)&&Me(d))return Promise.all([kI(l,d),JO(l,d)]).then()})(o,r).then((a=>{const l=()=>{a._skinLoaded=!0,(d=>{d.dispatch("SkinLoaded")})(a)};return()=>{a.initialized?l():a.on("init",l)}})(r),(a=>()=>((l,d)=>{l.dispatch("SkinLoadError",d)})(a,{message:"Skin could not be loaded"}))(r)),SI=yn(e8,!1),EI=yn(e8,!0),t8=o=>({isEnabled:()=>!eo.isDisabled(o),setEnabled:r=>eo.set(o,!r),setText:r=>oo(o,Jd,{text:r}),setIcon:r=>oo(o,K1,{icon:r})}),AI=o=>({setActive:r=>{Zo.set(o,r)},isActive:()=>Zo.isOn(o),isEnabled:()=>!eo.isDisabled(o),setEnabled:r=>eo.set(o,!r),setText:r=>oo(o,Jd,{text:r}),setIcon:r=>oo(o,K1,{icon:r})}),o8=(o,r)=>o.map(a=>({"aria-label":r.translate(a)})).getOr({}),n8=Oe("focus-button"),CC=(o,r,a,l,d,m,p)=>{const b=r.map(w=>Ln(L3(w,"tox-tbtn",d))),x=o.map(w=>Ln(uh(w,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:{...o8(a,d),...Ne(p)?{"data-mce-name":p}:{}}},components:rh([x.map(w=>w.asSpec()),b.map(w=>w.asSpec())]),eventOrder:{[Nl()]:["focusing","alloy.base.behaviour",dh],[ic()]:[dh,"toolbar-group-button-events"],[Ys()]:[dh,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:pt([Ww(()=>d.checkUiComponentContext(m).shouldDisable),gr(()=>d.checkUiComponentContext(m)),vo(dh,[ts((w,E)=>P3(w)),et(Jd,(w,E)=>{b.bind(C=>C.getOpt(w)).each(C=>{Ao.set(C,[$s(d.translate(E.event.text))])})}),et(K1,(w,E)=>{x.bind(C=>C.getOpt(w)).each(C=>{Ao.set(C,[uh(E.event.icon,d.icons)])})}),et(Nl(),(w,E)=>{E.event.prevent(),Xo(w,n8)})])].concat(l.getOr([])))}},mS=(o,r,a,l)=>{var d;const m=Vt(xe),p=CC(o.icon,o.text,o.tooltip,A.none(),a,o.context,l);return ua.sketch({dom:p.dom,components:p.components,eventOrder:GD,buttonBehaviours:{...pt([vo("toolbar-button-events",[(b={onAction:o.onAction,getApi:r.getApi},zd((x,w)=>{zc(b,x)(E=>{oo(x,I3,{buttonApi:E}),b.onAction(E)})})),wa(r,m),Vu(r,m)]),...o.tooltip.map(x=>Rs.config(a.tooltips.getConfig({tooltipText:a.translate(x)+o.shortcut.map(w=>` (${zv(w)})`).getOr("")}))).toArray(),Ww(()=>!o.enabled||a.checkUiComponentContext(o.context).shouldDisable),gr(()=>a.checkUiComponentContext(o.context))].concat(r.toolbarButtonBehaviours)),[dh]:(d=p.buttonBehaviours)===null||d===void 0?void 0:d[dh]}});var b},fS=(o,r,a,l)=>mS(o,{toolbarButtonBehaviours:a.length>0?[vo("toolbarButtonWith",a)]:[],getApi:t8,onSetup:o.onSetup},r,l),s8=(o,r,a,l)=>mS(o,{toolbarButtonBehaviours:[Ao.config({}),Zo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[vo("toolbarToggleButtonWith",a)]:[]),getApi:AI,onSetup:o.onSetup},r,l),TI=(o,r,a)=>l=>sa(d=>r.fetch(d)).map(d=>A.from(S3(Wo(nC(Oe("menu-value"),d,m=>{r.onItemAction(o(l),m)},r.columns,r.presets,Qd.CLOSE_ON_EXECUTE,r.select.getOr(Qe),a),{movement:Zv(r.columns,r.presets),menuBehaviours:U1(r.columns!=="auto"?[]:[ts((m,p)=>{yb(m,4,VT(r.presets)).each(({numRows:b,numColumns:x})=>{Bt.setGridSize(m,b,x)})})])})))),r8=o=>{Qs.getContent(o).each(r=>{Nn(r.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold(()=>Bt.focusIn(r),Ws)})},a8=Oe("forward-slide"),_C=Oe("backward-slide"),kC=Oe("change-slide-event"),SC="tox-pop--resizing",X1=(o,r,a)=>sr(a)?o.translate(r):o.translate([r,o.translate(a)]),pS=(o,r)=>{const a=(m,p,b,x)=>{const w=o.shared.providers.translate(m.title);if(m.type==="separator")return A.some({type:"separator",text:w});if(m.type==="submenu"){const E=Uo(m.getStyleItems(),C=>l(C,p,x));return p===0&&E.length<=0?A.none():A.some({type:"nestedmenuitem",text:w,enabled:E.length>0,getSubmenuItems:()=>Uo(m.getStyleItems(),C=>l(C,p,x))})}return A.some({type:"togglemenuitem",text:w,icon:m.icon,active:m.isSelected(x),enabled:!b,onAction:r.onAction(m),...m.getStylePreview().fold(()=>({}),E=>({meta:{style:E}}))})},l=(m,p,b)=>{const x=m.type==="formatter"&&r.isInvalid(m);return p===0?x?[]:a(m,p,!1,b).toArray():a(m,p,x,b).toArray()},d=m=>{const p=r.getCurrentValue(),b=r.shouldHide?0:1;return Uo(m,x=>l(x,b,p))};return{validateItems:d,getFetch:(m,p)=>(b,x)=>{const w=p(),E=d(w);x(Eb(E,Qd.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:A.none()}))}}},Rb=(o,r)=>{const a=r.dataset,l=a.type==="basic"?()=>Ee(a.data,d=>fh(d,r.isSelectedFor,r.getPreviewFor)):a.getData;return{items:pS(o,r),getStyleItems:l}},Mb=(o,r,a,l,d,m)=>{const{items:p,getStyleItems:b}=Rb(r,a),x=Vt(a.tooltip);return uC({context:"mode:design",text:a.icon.isSome()?A.none():a.text,icon:a.icon,ariaLabel:A.some(a.tooltip),tooltip:A.none(),role:A.none(),fetch:p.getFetch(r,b),onSetup:w=>{const E=C=>w.setTooltip(X1(o,l(C.value),C.value));return o.on(d,E),Yw(ih(o,"NodeChange",C=>{const T=C.getComponent();a.updateText(T),eo.set(C.getComponent(),!o.selection.isEditable()||b().length===0)})(w),()=>o.off(d,E))},getApi:w=>({getComponent:ne(w),setTooltip:E=>{const C=r.shared.providers.translate(E);bo(w.element,"aria-label",C),x.set(E)}}),columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Rs.config({...r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(a.tooltip),onShow:w=>{if(a.tooltip!==x.get()){const E=r.shared.providers.translate(x.get());Rs.setComponents(w,r.shared.providers.tooltips.getComponents({tooltipText:E}))}}})})]},"tox-tbtn",r.shared,m)};var Bb;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(Bb||(Bb={}));const gS=(o,r,a)=>{const l=(d=((m,p)=>p===Bb.SemiColon?m.replace(/;$/,"").split(";"):m.split(" "))(o.options.get(r),a),Ee(d,m=>{let p=m,b=m;const x=m.split("=");return x.length>1&&(p=x[0],b=x[1]),{title:p,format:b}}));var d;return{type:"basic",data:l}},i8=ne("Alignment {0}"),l8="left",s2=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Bf=o=>{const r={type:"basic",data:s2};return{tooltip:X1(o,i8(),l8),text:A.none(),icon:A.some("align-left"),isSelectedFor:a=>()=>o.formatter.match(a),getCurrentValue:A.none,getPreviewFor:a=>A.none,onAction:a=>()=>z(s2,l=>l.format===a.format).each(l=>o.execCommand(l.command)),updateText:a=>{const l=z(s2,d=>o.formatter.match(d.format)).fold(ne(l8),d=>d.title.toLowerCase());oo(a,K1,{icon:`align-${l}`}),((d,m)=>{d.dispatch("AlignTextUpdate",m)})(o,{value:l})},dataset:r,shouldHide:!1,isInvalid:a=>!o.formatter.canApply(a.format)}},c8=(o,r)=>{const a=r(),l=Ee(a,d=>d.format);return A.from(o.formatter.closest(l)).bind(d=>z(a,m=>m.format===d))},Ib=ne("Block {0}"),hS="Paragraph",EC=o=>{const r=gS(o,"block_formats",Bb.SemiColon);return{tooltip:X1(o,Ib(),hS),text:A.some(hS),icon:A.none(),isSelectedFor:a=>()=>o.formatter.match(a),getCurrentValue:A.none,getPreviewFor:a=>()=>{const l=o.formatter.get(a);return l?A.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(a))}):A.none()},onAction:b3(o),updateText:a=>{const l=c8(o,()=>r.data).fold(ne(hS),d=>d.title);oo(a,Jd,{text:l}),((d,m)=>{d.dispatch("BlocksTextUpdate",m)})(o,{value:l})},dataset:r,shouldHide:!1,isInvalid:a=>!o.formatter.canApply(a.format)}},d8=ne("Font {0}"),bS="System Font",DI=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],xS=o=>{const r=o.split(/\s*,\s*/);return Ee(r,a=>a.replace(/^['"]+|['"]+$/g,""))},u8=(o,r)=>r.length>0&&_i(r,a=>o.indexOf(a.toLowerCase())>-1),AC=o=>{const r=()=>{const l=w=>w?xS(w)[0]:"",d=o.queryCommandValue("FontName"),m=a.data,p=d?d.toLowerCase():"",b=xT(o);return{matchOpt:z(m,w=>{const E=w.format;return E.toLowerCase()===p||l(E).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>ci(((w,E)=>{if(w.indexOf("-apple-system")===0||E.length>0){const C=xS(w.toLowerCase());return u8(C,DI)||u8(C,E)}return!1})(p,b),{title:bS,format:p})),font:d}},a=gS(o,"font_family_formats",Bb.SemiColon);return{tooltip:X1(o,d8(),bS),text:A.some(bS),icon:A.none(),isSelectedFor:l=>d=>d.exists(m=>m.format===l),getCurrentValue:()=>{const{matchOpt:l}=r();return l},getPreviewFor:l=>()=>A.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:d,font:m}=r(),p=d.fold(ne(m),b=>b.title);oo(l,Jd,{text:p}),((b,x)=>{b.dispatch("FontFamilyTextUpdate",x)})(o,{value:p})},dataset:a,shouldHide:!1,isInvalid:Qe}};var Pb=tinymce.util.Tools.resolve("tinymce.util.VK");const TC=ne("Font size {0}"),m8="12pt",hd={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},OI={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},NI=(o,r)=>/[0-9.]+px$/.test(o)?((a,l)=>{const d=Math.pow(10,l);return Math.round(a*d)/d})(72*parseInt(o,10)/96,r||0)+"pt":Kt(OI,o).getOr(o),f8=o=>Kt(hd,o).getOr(""),vS=o=>{const r=()=>{let d=A.none();const m=l.data,p=o.queryCommandValue("FontSize");if(p)for(let b=3;d.isNone()&&b>=0;b--){const x=NI(p,b),w=f8(x);d=z(m,E=>E.format===p||E.format===x||E.format===w)}return{matchOpt:d,size:p}},a=ne(A.none),l=gS(o,"font_size_formats",Bb.Space);return{tooltip:X1(o,TC(),m8),text:A.some(m8),icon:A.none(),isSelectedFor:d=>m=>m.exists(p=>p.format===d),getPreviewFor:a,getCurrentValue:()=>{const{matchOpt:d}=r();return d},onAction:d=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,d.format)})},updateText:d=>{const{matchOpt:m,size:p}=r(),b=m.fold(ne(p),x=>x.title);oo(d,Jd,{text:b}),((x,w)=>{x.dispatch("FontSizeTextUpdate",w)})(o,{value:b})},dataset:l,shouldHide:!1,isInvalid:Qe}},p8=o=>sr(o)?"Formats":"Format {0}",g8=(o,r)=>{const a="Formats";return{tooltip:X1(o,p8(""),""),text:A.some(a),icon:A.none(),isSelectedFor:l=>()=>o.formatter.match(l),getCurrentValue:A.none,getPreviewFor:l=>()=>{const d=o.formatter.get(l);return d!==void 0?A.some({tag:d.length>0&&(d[0].inline||d[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(l))}):A.none()},onAction:b3(o),updateText:l=>{const d=b=>gO(b)?Uo(b.items,d):hO(b)?[{title:b.title,format:b.format}]:[],m=Uo(Y1(o),d),p=c8(o,ne(m)).fold(ne({title:a,tooltipLabel:""}),b=>({title:b.title,tooltipLabel:b.title}));oo(l,Jd,{text:p.title}),((b,x)=>{b.dispatch("StylesTextUpdate",x)})(o,{value:p.tooltipLabel})},shouldHide:t4(o),isInvalid:l=>!o.formatter.canApply(l.format),dataset:r}},RI=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],r2=(o,r)=>(a,l,d,m)=>{const p=o(a).mapError(b=>sf(b)).getOrDie();return r(p,l,d,m)},MI={button:r2(W4,(o,r,a,l)=>((d,m,p)=>fS(d,m,[],p))(o,r.shared.providers,l)),togglebutton:r2(B6,(o,r,a,l)=>((d,m,p)=>s8(d,m,[],p))(o,r.shared.providers,l)),menubutton:r2($4,(o,r,a,l)=>t2(o,"tox-tbtn",r,A.none(),!1,l)),splitbutton:r2(o=>Hs("SplitButton",Q4,o),(o,r,a,l)=>((d,m,p)=>{const b=Vt(d.tooltip.getOr("")),x=C=>({isEnabled:()=>!eo.isDisabled(C),setEnabled:T=>eo.set(C,!T),setIconFill:(T,B)=>{Nn(C.element,`svg path[class="${T}"], rect[class="${T}"]`).each(L=>{bo(L,"fill",B)})},setActive:T=>{bo(C.element,"aria-pressed",T),Nn(C.element,"span").each(B=>{C.getSystem().getByDom(B).each(L=>Zo.set(L,T))})},isActive:()=>Nn(C.element,"span").exists(T=>C.getSystem().getByDom(T).exists(Zo.isOn)),setText:T=>Nn(C.element,"span").each(B=>C.getSystem().getByDom(B).each(L=>oo(L,Jd,{text:T}))),setIcon:T=>Nn(C.element,"span").each(B=>C.getSystem().getByDom(B).each(L=>oo(L,K1,{icon:T}))),setTooltip:T=>{const B=m.providers.translate(T);bo(C.element,"aria-label",B),b.set(T)}}),w=Vt(xe),E={getApi:x,onSetup:d.onSetup};return bv.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...o8(d.tooltip,m.providers),...Ne(p)?{"data-mce-name":p}:{}}},onExecute:C=>{const T=x(C);T.isEnabled()&&d.onAction(T)},onItemExecute:(C,T,B)=>{},splitDropdownBehaviours:pt([vo("split-dropdown-events",[ts((C,T)=>P3(C)),et(n8,mo.focus),wa(E,w),Vu(E,w)]),W6(()=>m.providers.isDisabled()||m.providers.checkUiComponentContext(d.context).shouldDisable),gr(()=>m.providers.checkUiComponentContext(d.context)),kf.config({}),...d.tooltip.map(C=>Rs.config({...m.providers.tooltips.getConfig({tooltipText:m.providers.translate(C),onShow:T=>{if(b.get()!==C){const B=m.providers.translate(b.get());Rs.setComponents(T,m.providers.tooltips.getComponents({tooltipText:B}))}}})})).toArray()]),eventOrder:{[ic()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Ys()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:m.getSink,fetch:TI(x,d,m.providers),parts:{menu:Mw(0,d.columns,d.presets)},components:[bv.parts.button(CC(d.icon,d.text,A.none(),A.some([Zo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),Ww(Qe),gr(ne({contextType:"any",shouldDisable:!1}))]),m.providers,d.context)),bv.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:FT("chevron-down",m.providers.icons)},buttonBehaviours:pt([W6(Qe),gr(ne({contextType:"any",shouldDisable:!1}))])}),bv.parts["aria-descriptor"]({text:m.providers.translate("To open the popup, press Shift+Enter")})]})})(o,r.shared,l)),grouptoolbarbutton:r2(o=>Hs("GroupToolbarButton",X4,o),(o,r,a,l)=>{const d=a.ui.registry.getAll().buttons,m={[Eg]:r.shared.header.isPositionedAtTop()?Fd.TopToBottom:Fd.BottomToTop};if(Df(a)===Gd.floating)return((p,b,x,w,E)=>{const C=b.shared,T=Vt(xe),B={toolbarButtonBehaviours:[],getApi:t8,onSetup:p.onSetup},L=[vo("toolbar-group-button-events",[wa(B,T),Vu(B,T)]),...p.tooltip.map(Y=>Rs.config(b.shared.providers.tooltips.getConfig({tooltipText:b.shared.providers.translate(Y)}))).toArray()];return Ip.sketch({lazySink:C.getSink,fetch:()=>sa(Y=>{Y(Ee(x(p.items),xC))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:CC(p.icon,p.text,p.tooltip,A.some(L),C.providers,p.context,E),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:w}}}})})(o,r,p=>DC(a,{buttons:d,toolbar:p,allowToolbarGroups:!1},r,A.none()),m,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},h8={styles:(o,r)=>{const a={type:"advanced",...r.styles};return Mb(o,r,g8(o,a),p8,"StylesTextUpdate","styles")},fontsize:(o,r)=>Mb(o,r,vS(o),TC,"FontSizeTextUpdate","fontsize"),fontsizeinput:(o,r)=>((a,l,d,m)=>{let p=A.none();const b=ih(a,"NodeChange SwitchMode DisabledStateChange",te=>{const oe=te.getComponent();p=A.some(oe),d.updateInputValue(oe),eo.set(oe,!a.selection.isEditable()||iw(a))}),x=te=>({getComponent:ne(te)}),w=Vt(xe),E=Oe("custom-number-input-events"),C=(te,oe,de)=>{const he=p.map(rt=>zt.getValue(rt)).getOr(""),ke=d.getNewValue(he,te),ze=he.length-`${ke}`.length,tt=p.map(rt=>rt.element.dom.selectionStart-ze),Je=p.map(rt=>rt.element.dom.selectionEnd-ze);d.onAction(ke,de),p.each(rt=>{zt.setValue(rt,ke),oe&&(tt.each(bt=>rt.element.dom.selectionStart=bt),Je.each(bt=>rt.element.dom.selectionEnd=bt))})},T=(te,oe)=>C((de,he)=>de-he,te,oe),B=(te,oe)=>C((de,he)=>de+he,te,oe),L=te=>aa(te.element).fold(A.none,oe=>(Ws(oe),A.some(!0))),Y=te=>oc(te.element)?(jm(te.element).each(oe=>Ws(oe)),A.some(!0)):A.none(),W=(te,oe,de,he)=>{const ke=Vt(xe),ze=l.shared.providers.translate(de),tt=Oe("altExecuting"),Je=ih(a,"NodeChange SwitchMode DisabledStateChange",bt=>{eo.set(bt.getComponent(),!a.selection.isEditable()||iw(a))}),rt=bt=>{eo.isDisabled(bt)||te(!0)};return ua.sketch({dom:{tag:"button",attributes:{"aria-label":ze,"data-mce-name":oe},classes:he.concat(oe)},components:[dC(oe,l.shared.providers.icons)],buttonBehaviours:pt([eo.config({}),Rs.config(l.shared.providers.tooltips.getConfig({tooltipText:ze})),vo(tt,[wa({onSetup:Je,getApi:x},ke),Vu({getApi:x},ke),et(Id(),(bt,Xt)=>{Xt.event.raw.keyCode!==Pb.SPACEBAR&&Xt.event.raw.keyCode!==Pb.ENTER||eo.isDisabled(bt)||te(!1)}),et(cl(),rt),et(af(),rt)])]),eventOrder:{[Id()]:[tt,"keying"],[cl()]:[tt,"alloy.base.behaviour"],[af()]:[tt,"alloy.base.behaviour"],[ic()]:["alloy.base.behaviour",tt,"tooltipping"],[Ys()]:[tt,"tooltipping"]}})},X=Ln(W(te=>T(!1,te),"minus","Decrease font size",[])),$=Ln(W(te=>B(!1,te),"plus","Increase font size",[])),U=Ln({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Pp.sketch({inputBehaviours:pt([eo.config({}),vo(E,[wa({onSetup:b,getApi:x},w),Vu({getApi:x},w)]),vo("input-update-display-text",[et(Jd,(te,oe)=>{zt.setValue(te,oe.event.text)}),et(ax(),te=>{d.onAction(zt.getValue(te))}),et(cf(),te=>{d.onAction(zt.getValue(te))})]),Bt.config({mode:"special",onEnter:te=>(C(Ct,!0,!0),A.some(!0)),onEscape:L,onUp:te=>(B(!0,!1),A.some(!0)),onDown:te=>(T(!0,!1),A.some(!0)),onLeft:(te,oe)=>(oe.cut(),A.none()),onRight:(te,oe)=>(oe.cut(),A.none())})])})],behaviours:pt([mo.config({}),Bt.config({mode:"special",onEnter:Y,onSpace:Y,onEscape:L}),vo("input-wrapper-events",[et($i(),te=>{gt([X,$],oe=>{const de=Ft(oe.get(te).element.dom);oc(de)&&kc(de)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Ne(m)?{"data-mce-name":m}:{}}},components:[X.asSpec(),U.asSpec(),$.asSpec()],behaviours:pt([mo.config({}),Bt.config({mode:"flow",focusInside:sd.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:te=>oc(te.element)?A.none():(Ws(te.element),A.some(!0))})])}})(o,r,(a=>{const l=()=>a.queryCommandValue("FontSize");return{updateInputValue:d=>oo(d,Jd,{text:l()}),onAction:(d,m)=>a.execCommand("FontSize",!1,d,{skip_focus:!m}),getNewValue:(d,m)=>{Dc(d,["unsupportedLength","empty"]);const p=l(),b=Dc(d,["unsupportedLength","empty"]).or(Dc(p,["unsupportedLength","empty"])),x=b.map(B=>B.value).getOr(16),w=n4(a),E=b.map(B=>B.unit).filter(B=>B!=="").getOr(w),C=m(x,(B=>{var L;return(L={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[B])!==null&&L!==void 0?L:{step:1}})(E).step),T=`${(B=>B>=0)(C)?C:x}${E}`;return T!==p&&((B,L)=>{B.dispatch("FontSizeInputTextUpdate",L)})(a,{value:T}),T}}})(o),"fontsizeinput"),fontfamily:(o,r)=>Mb(o,r,AC(o),d8,"FontFamilyTextUpdate","fontfamily"),blocks:(o,r)=>Mb(o,r,EC(o),Ib,"BlocksTextUpdate","blocks"),align:(o,r)=>Mb(o,r,Bf(o),i8,"AlignTextUpdate","align"),navigateback:(o,r)=>{const a=Ol(W4({type:"button",icon:"chevron-left",tooltip:"Back",onAction:xe}));return fS(a,r.shared.providers,[et(I3,l=>{Xo(l,_C)})])}},DC=(o,r,a,l)=>{const d=(p=>{const b=p.toolbar,x=p.buttons;return b===!1?[]:b===void 0||b===!0?(w=>{const E=Ee(RI,C=>{const T=Do(C.items,B=>jo(w,B)||jo(h8,B));return{name:C.name,items:T}});return Do(E,C=>C.items.length>0)})(x):Me(b)?(w=>{const E=w.split("|");return Ee(E,C=>({items:C.trim().split(" ")}))})(b):(w=>ut(w,E=>(jo(E,"name")||jo(E,"label"))&&jo(E,"items")))(b)?b:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(r),m=Ee(d,p=>{const b=Uo(p.items,x=>x.trim().length===0?[]:((w,E,C,T,B,L)=>Kt(E,C.toLowerCase()).orThunk(()=>L.bind(Y=>ws(Y,W=>Kt(E,W+C.toLowerCase())))).fold(()=>Kt(h8,C.toLowerCase()).map(Y=>Y(w,B)),Y=>Y.type!=="grouptoolbarbutton"||T?((W,X,$,U)=>Kt(MI,W.type).fold(()=>(console.error("skipping button defined by",W),A.none()),te=>A.some(te(W,X,$,U))))(Y,B,w,C.toLowerCase()):(console.warn(`Ignoring the '${C}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),A.none())))(o,r.buttons,x,r.allowToolbarGroups,a,l).toArray());return{title:A.from(o.translate(p.name)),label:ci(p.label!==void 0,o.translate(p.label)),items:b}});return Do(m,p=>p.items.length>0)},yS=(o,r,a,l)=>{const d=r.mainUi.outerContainer,m=a.toolbar,p=a.buttons;if(ut(m,Me)){const b=m.map(x=>{const w={toolbar:x,buttons:p,allowToolbarGroups:a.allowToolbarGroups};return DC(o,w,l,A.none())});ks.setToolbars(d,b)}else ks.setToolbar(d,DC(o,a,l,A.none()))},b8=Ce(),BI=b8.os.isiOS()&&b8.os.version.major<=12;var II=Object.freeze({__proto__:null,render:(o,r,a,l,d)=>{const{mainUi:m,uiMotherships:p}=r,b=Vt(0),x=m.outerContainer;SI(o);const w=Ft(d.targetNode),E=Sd(Aa(w));z0(w,m.mothership),((L,Y,W)=>{Qg(L)&&z0(W.mainUi.mothership.element,W.popupUi.mothership),oy(Y,W.dialogUi.mothership)})(o,E,r),o.on("PostRender",()=>{ks.setSidebar(x,a.sidebar,gT(o))}),o.on("SkinLoaded",()=>{yS(o,r,a,l),b.set(o.getWin().innerWidth),ks.setMenubar(x,XO(o,a)),ks.setViews(x,a.views),((L,Y)=>{const{uiMotherships:W}=Y,X=L.dom;let $=L.getWin();const U=L.getDoc().documentElement,te=Vt(us($.innerWidth,$.innerHeight)),oe=Vt(us(U.offsetWidth,U.offsetHeight)),de=()=>{const tt=te.get();tt.left===$.innerWidth&&tt.top===$.innerHeight||(te.set(us($.innerWidth,$.innerHeight)),h3(L))},he=()=>{const tt=L.getDoc().documentElement,Je=oe.get();Je.left===tt.offsetWidth&&Je.top===tt.offsetHeight||(oe.set(us(tt.offsetWidth,tt.offsetHeight)),h3(L))},ke=tt=>{((Je,rt)=>{Je.dispatch("ScrollContent",rt)})(L,tt)};X.bind($,"resize",de),X.bind($,"scroll",ke);const ze=El(Ft(L.getBody()),"load",he);L.on("hide",()=>{gt(W,tt=>{Eo(tt.element,"display","none")})}),L.on("show",()=>{gt(W,tt=>{un(tt.element,"display")})}),L.on("NodeChange",he),L.on("remove",()=>{ze.unbind(),X.unbind($,"resize",de),X.unbind($,"scroll",ke),$=null})})(o,r)});const C=ks.getSocket(x).getOrDie("Could not find expected socket element");if(BI){Ei(C.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const L=(W=>{let X=null;return{cancel:()=>{ot(X)||(clearTimeout(X),X=null)},throttle:(...$)=>{ot(X)&&(X=setTimeout(()=>{X=null,W.apply(null,$)},20))}}})(()=>{o.dispatch("ScrollContent")}),Y=Jn(C.element,"scroll",L.throttle);o.on("remove",Y.unbind)}e3(o,r),o.addCommand("ToggleSidebar",(L,Y)=>{ks.toggleSidebar(x,Y),(W=>{W.dispatch("ToggleSidebar")})(o)}),o.addQueryValueHandler("ToggleSidebar",()=>{var L;return(L=ks.whichSidebar(x))!==null&&L!==void 0?L:""}),o.addCommand("ToggleView",(L,Y)=>{if(ks.toggleView(x,Y)){const W=x.element;m.mothership.broadcastOn([Tm()],{target:W}),gt(p,X=>{X.broadcastOn([Tm()],{target:W})}),ot(ks.whichView(x))&&(o.focus(),o.nodeChanged(),ks.refreshToolbar(x)),(X=>{X.dispatch("ToggleView")})(o)}}),o.addQueryValueHandler("ToggleView",()=>{var L;return(L=ks.whichView(x))!==null&&L!==void 0?L:""});const T=Df(o);T!==Gd.sliding&&T!==Gd.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const L=o.getWin().innerWidth;L!==b.get()&&(ks.refreshToolbar(r.mainUi.outerContainer),b.set(L))});const B={setEnabled:L=>{Wp(r,L?"setEnabled":"setDisabled")},isEnabled:()=>!eo.isDisabled(x)};return{iframeContainer:C.element.dom,editorContainer:x.element.dom,api:B}}});const OC=o=>kt(o)?o+"px":o,Lb=(o,r,a)=>{const l=r.filter(m=>o<m),d=a.filter(m=>o>m);return l.or(d).getOr(o)},wS=o=>{const r=Qk(o),a=Jk(o),l=lw(o);return(d=r,/^[0-9\.]+(|px)$/i.test(""+d)?A.some(parseInt(""+d,10)):A.none()).map(m=>Lb(m,a,l));var d},{ToolbarLocation:NC,ToolbarMode:CS}=Yd,x8=(o,r,a,l,d)=>{const{mainUi:m,uiMotherships:p}=a,b=Xg.DOM,x=Fu(o),w=Kd(o),E=lw(o).or(wS(o)),C=l.shared.header,T=C.isPositionedAtTop,B=Df(o),L=B===CS.sliding||B===CS.floating,Y=Vt(!1),W=()=>Y.get()&&!o.removed,X=oe=>L?oe.fold(ne(0),de=>de.components().length>1?Gs(de.components()[1].element):0):0,$=()=>{gt(p,oe=>{oe.broadcastOn([Sf()],{})})},U=oe=>{if(!W())return;x||d.on(ke=>{const ze=E.getOrThunk(()=>of().width-xa(r).left-10);Eo(ke.element,"max-width",ze+"px")});const de=Pi(),he=!(x||x||!(fr(m.outerContainer.element).left+No(m.outerContainer.element)>=window.innerWidth-40||ba(m.outerContainer.element,"width").isSome())||(Eo(m.outerContainer.element,"position","absolute"),Eo(m.outerContainer.element,"left","0px"),un(m.outerContainer.element,"width"),0));if(L&&ks.refreshToolbar(m.outerContainer),!x){const ke=Pi(),ze=ci(de.left!==ke.left,de);((tt,Je)=>{d.on(rt=>{const bt=ks.getToolbar(m.outerContainer),Xt=X(bt),no=Js(r),po=((Rn,nn)=>Qg(Rn)?k(nn):A.none())(o,m.outerContainer.element),$o=po.fold(()=>no.x,Rn=>{const nn=Js(Rn);return In(Rn,ue())?no.x:no.x-nn.x}),gs=ci(tt,Math.ceil(m.outerContainer.element.dom.getBoundingClientRect().width)).filter(Rn=>Rn>150).map(Rn=>{const nn=Je.getOr(Pi()),ro=window.innerWidth-($o-nn.left),ss=Math.max(Math.min(Rn,ro),150);return ro<Rn&&Eo(m.outerContainer.element,"width",ss+"px"),{width:ss+"px"}}).getOr({width:"max-content"}),Ms={position:"absolute",left:Math.round($o)+"px",top:po.fold(()=>T()?Math.max(no.y-Gs(rt.element)+Xt,0):no.bottom,Rn=>{var nn;const ro=Js(Rn),ss=(nn=Rn.dom.scrollTop)!==null&&nn!==void 0?nn:0,zn=In(Rn,ue())?Math.max(no.y-Gs(rt.element)+Xt,0):no.y-ro.y+ss-Gs(rt.element)+Xt;return T()?zn:no.bottom})+"px"};Ei(m.outerContainer.element,{...Ms,...gs})})})(he,ze),ze.each(tt=>{Ym(tt.left,ke.top)})}w&&d.on(oe),$()},te=()=>!(x||!w||!W())&&d.get().exists(oe=>{const de=C.getDockingMode(),he=(ze=>{switch(uw(o)){case NC.auto:const tt=ks.getToolbar(m.outerContainer),Je=X(tt),rt=Gs(ze.element)-Je,bt=Js(r);if(bt.y>rt)return"top";{const Xt=Xn(r),no=Math.max(Xt.dom.scrollHeight,Gs(Xt));return bt.bottom<no-rt||Na().bottom<bt.bottom-rt?"bottom":"top"}case NC.bottom:return"bottom";case NC.top:default:return"top"}})(oe);return he!==de&&(ke=he,d.on(ze=>{Xs.setModes(ze,[ke]),C.setDockingMode(ke);const tt=T()?Fd.TopToBottom:Fd.BottomToTop;bo(ze.element,Eg,tt)}),!0);var ke});return{isVisible:W,isPositionedAtTop:T,show:()=>{Y.set(!0),Eo(m.outerContainer.element,"display","flex"),b.addClass(o.getBody(),"mce-edit-focus"),gt(p,oe=>{un(oe.element,"display")}),te(),Qg(o)?U(oe=>Xs.isDocked(oe)?Xs.reset(oe):Xs.refresh(oe)):U(Xs.refresh)},hide:()=>{Y.set(!1),Eo(m.outerContainer.element,"display","none"),b.removeClass(o.getBody(),"mce-edit-focus"),gt(p,oe=>{Eo(oe.element,"display","none")})},update:U,updateMode:()=>{te()&&U(Xs.reset)},repositionPopups:$}},RC=(o,r)=>{const a=Js(o);return{pos:r?a.y:a.bottom,bounds:a}};var PI=Object.freeze({__proto__:null,render:(o,r,a,l,d)=>{const{mainUi:m}=r,p=Bn(),b=Ft(d.targetNode),x=x8(o,b,r,l,p),w=aT(o);EI(o);const E=()=>{if(p.isSet())return void x.show();p.set(ks.getHeader(m.outerContainer).getOrDie());const T=xw(o);Qg(o)?(z0(b,m.mothership),z0(b,r.popupUi.mothership)):oy(T,m.mothership),oy(T,r.dialogUi.mothership);const B=()=>{yS(o,r,a,l),ks.setMenubar(m.outerContainer,XO(o,a)),x.show(),((L,Y,W,X)=>{const $=Vt(RC(Y,W.isPositionedAtTop())),U=he=>{const{pos:ke,bounds:ze}=RC(Y,W.isPositionedAtTop()),{pos:tt,bounds:Je}=$.get(),rt=ze.height!==Je.height||ze.width!==Je.width;$.set({pos:ke,bounds:ze}),rt&&h3(L,he),W.isVisible()&&(tt!==ke?W.update(Xs.reset):rt&&(W.updateMode(),W.repositionPopups()))};X||(L.on("activate",W.show),L.on("deactivate",W.hide)),L.on("SkinLoaded ResizeWindow",()=>W.update(Xs.reset)),L.on("NodeChange keydown",he=>{requestAnimationFrame(()=>U(he))});let te=0;const oe=su(()=>W.update(Xs.refresh),33);L.on("ScrollWindow",()=>{const he=Pi().left;he!==te&&(te=he,oe.throttle()),W.updateMode()}),Qg(L)&&L.on("ElementScroll",he=>{W.update(Xs.refresh)});const de=Cs();de.set(El(Ft(L.getBody()),"load",he=>U(he.raw))),L.on("remove",()=>{de.clear()})})(o,b,x,w),o.nodeChanged()};w?o.once("SkinLoaded",B):B()};o.on("show",E),o.on("hide",x.hide),w||(o.on("focus",E),o.on("blur",x.hide)),o.on("init",()=>{(o.hasFocus()||w)&&E()}),e3(o,r);const C={show:E,hide:x.hide,setEnabled:T=>{Wp(r,T?"setEnabled":"setDisabled")},isEnabled:()=>!eo.isDisabled(m.outerContainer)};return{editorContainer:m.outerContainer.element.dom,api:C}}});const MC="contexttoolbar-hide",Lm=(o,r,a)=>({setInputEnabled:l=>{!l&&a&&Ws(a),eo.set(o,!l)},isInputEnabled:()=>!eo.isDisabled(o),hide:()=>{Xo(o,Lh())},back:()=>{Xo(o,_C)},getValue:()=>r.get().getOrThunk(()=>zt.getValue(o)),setValue:l=>{o.getSystem().isConnected()?zt.setValue(o,l):r.set(l)}}),_S=(o,r,a)=>et(I3,(l,d)=>{const m=o.get(l),p=Lm(m,a,l.element);r.onAction(p,d.event.buttonApi)}),kS=(o,r,a,l)=>{const d=Ee(r,m=>Ln(((p,b,x,w)=>(E=>E.type==="contextformtogglebutton")(b)?((E,C,T,B)=>{const{primary:L,...Y}=C.original,W=Ol(B6({...Y,type:"togglebutton",onAction:xe}));return s8(W,T,[_S(E,C,B)])})(p,b,x,w):((E,C,T,B)=>{const{primary:L,...Y}=C.original,W=Ol(W4({...Y,type:"button",onAction:xe}));return fS(W,T,[_S(E,C,B)])})(p,b,x,w))(o,m,a,l)));return{asSpecs:()=>Ee(d,m=>m.asSpec()),findPrimary:m=>ws(r,(p,b)=>p.primary?A.from(d[b]).bind(x=>x.getOpt(m)).filter(bs(eo.isDisabled)):A.none())}},v8=(o,r,a,l)=>{const{width:d,height:m}=o.initValue();let p=fC;const b=Oe("ratio-event"),x=he=>Lm(he,l),w=he=>pd(he,{tag:"span",classes:["tox-icon","tox-lock-icon__"+he]},r.icons),E=()=>!1,C=o.label.getOr("Constrain proportions"),T=r.translate(C),B=jr.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":T,"data-mce-name":C}},components:[w("lock"),w("unlock")],buttonBehaviours:pt([eo.config({disabled:E}),fs.config({}),Rs.config(r.tooltips.getConfig({tooltipText:T}))])}),L=he=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:he}),Y=he=>Li(he.element,"div.tox-focusable-wrapper").fold(A.none,ke=>(Ws(ke),A.some(!0))),W=he=>Oo.parts.field({factory:Pp,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:he?d:m,inputBehaviours:pt([eo.config({disabled:E}),fs.config({}),vo("size-input-toolbar-events",[et(Rl(),(ke,ze)=>{oo(ke,b,{isField1:he})})]),Bt.config({mode:"special",onEnter:a,onEscape:Y})]),selectOnFocus:!1}),X=he=>({dom:{tag:"label",classes:["tox-label"]},components:[$s(r.translate(he))]}),$=he=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[he],behaviours:pt([fs.config({}),mo.config({}),Bt.config({mode:"special",onEnter:ke=>Nn(ke.element,"input").fold(A.none,ze=>(Ws(ze),A.some(!0)))})])}),U=$(jr.parts.field1(L([Oo.parts.label(X("Width:")),W(!0)]))),te=$(jr.parts.field2(L([Oo.parts.label(X("Height:")),W(!1)]))),oe=Vt(xe),de=[wa({onBeforeSetup:he=>Nn(he.element,"input").each(Ws),onSetup:o.onSetup,getApi:x},oe),Zl({getApi:x},oe,l)];return jr.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[U,L([B]),te],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(he,ke,ze)=>{mC(zt.getValue(he)).each(tt=>{p(tt).each(Je=>{zt.setValue(ke,H3(Je))})})},onInput:he=>Xo(he,ED),coupledFieldBehaviours:pt([mo.config({}),Bt.config({mode:"flow",focusInside:sd.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),eo.config({disabled:E,onDisabled:he=>{jr.getField1(he).bind(Oo.getField).each(eo.disable),jr.getField2(he).bind(Oo.getField).each(eo.disable),jr.getLock(he).each(eo.disable)},onEnabled:he=>{jr.getField1(he).bind(Oo.getField).each(eo.enable),jr.getField2(he).bind(Oo.getField).each(eo.enable),jr.getLock(he).each(eo.enable)}}),gr(()=>r.checkUiComponentContext("mode:design")),vo("size-input-toolbar-events2",[et(b,(he,ke)=>{const ze=ke.event.isField1,tt=ze?jr.getField1(he):jr.getField2(he),Je=ze?jr.getField2(he):jr.getField1(he),rt=tt.map(zt.getValue).getOr(""),bt=Je.map(zt.getValue).getOr("");p=tO(rt,bt)}),et(ED,he=>o.onInput(x(he))),...de])])})},y8=(o,r,a)=>Oo.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...o.toArray(),r],fieldBehaviours:pt([eo.config({disabled:()=>a.checkUiComponentContext("mode:design").shouldDisable,onDisabled:l=>{(d=>{As(d.element).each(m=>{Li(m,'[tabindex="-1"]').each(p=>{Ws(p)})})})(l),Oo.getField(l).each(eo.disable)},onEnabled:l=>{Oo.getField(l).each(eo.enable)}})])}),LI=(o,r,a,l)=>{const d=Vt(xe),m=x=>Lm(x,l),p=o.label.map(x=>Oo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(r.translate(x))]})),b=Oo.parts.field({factory:Pp,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(o.min()),max:String(o.max())},data:o.initValue().toString(),fromInputValue:x=>(w=>{const E=parseFloat(w);return isNaN(E)?A.none():A.some(E)})(x).getOr(o.min()),toInputValue:x=>String(x),inputBehaviours:pt([eo.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),gr(()=>r.checkUiComponentContext("mode:design")),Bt.config({mode:"special",onEnter:a,onLeft:(x,w)=>(w.cut(),A.none()),onRight:(x,w)=>(w.cut(),A.none())}),vo("slider-events",[wa({onSetup:o.onSetup,getApi:m,onBeforeSetup:Bt.focusIn},d),Zl({getApi:m},d,l),et(im(),x=>{o.onInput(m(x))})])])});return y8(p,b,r)},BC=(o,r,a,l)=>{const d=Vt(xe),m=w=>Lm(w,l),p=o.label.map(w=>Oo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(r.translate(w))]})),b={...o.placeholder.map(w=>({placeholder:r.translate(w)})).getOr({})},x=Oo.parts.field({factory:Pp,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:b,data:o.initValue(),selectOnFocus:!0,inputBehaviours:pt([eo.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),gr(()=>r.checkUiComponentContext("mode:design")),Bt.config({mode:"special",onEnter:a,onLeft:(w,E)=>(E.cut(),A.none()),onRight:(w,E)=>(E.cut(),A.none())}),vo("input-events",[wa({onSetup:o.onSetup,getApi:w=>Li(w.element,".tox-toolbar").bind(E=>Nn(E,"button:enabled")).fold(()=>Lm(w,l),E=>Lm(w,l,E)),onBeforeSetup:Bt.focusIn},d),Zl({getApi:m},d,l),et(im(),w=>{o.onInput(m(w))})])])});return y8(p,x,r)},SS=(o,r,a)=>{const l=Bn(),d=Ln(o(a,x=>p.findPrimary(x).orThunk(()=>b.findPrimary(x)).map(w=>(bp(w),!0)),l)),m=dn(r.commands,x=>x.align==="start"),p=kS(d,m.pass,a,l),b=kS(d,m.fail,a,l);return Do([{title:A.none(),label:A.none(),items:p.asSpecs()},{title:A.none(),label:A.none(),items:[d.asSpec()]},{title:A.none(),label:A.none(),items:b.asSpecs()}],x=>x.items.length>0)},FI=(o,r)=>{switch(o.type){case"contextform":return SS(yn(BC,o),o,r);case"contextsliderform":return SS(yn(LI,o),o,r);case"contextsizeinputform":return SS(yn(v8,o),o,r)}},ES=(o,r,a)=>r.bottom-o.y>=a&&o.bottom-r.y>=a,IC=o=>{const r=(a=>{const l=a.getBoundingClientRect();if(l.height<=0&&l.width<=0){const d=Qa(Ft(a.startContainer),a.startOffset).element;return(I(d)?Pn(d):A.some(d)).filter(Ho).map(m=>m.dom.getBoundingClientRect()).getOr(l)}return l})(o.selection.getRng());if(o.inline){const a=Pi();return zs(a.left+r.left,a.top+r.top,r.width,r.height)}{const a=er(Ft(o.getBody()));return zs(a.x+r.left,a.y+r.top,r.width,r.height)}},PC=(o,r,a,l=0)=>{const d=of(window),m=Js(Ft(o.getContentAreaContainer())),p=hw(o)||bw(o)||Rm(o),{x:b,width:x}=((w,E,C)=>{const T=Math.max(w.x+C,E.x);return{x:T,width:Math.min(w.right-C,E.right)-T}})(m,d,l);if(o.inline&&!p)return zs(b,d.y,x,d.height);{const w=r.header.isPositionedAtTop(),{y:E,bottom:C}=((T,B,L,Y,W,X)=>{const $=Ft(T.getContainer()),U=Nn($,".tox-editor-header").getOr($),te=Js(U),oe=te.y>=B.bottom,de=Y&&!oe;if(T.inline&&de)return{y:Math.max(te.bottom+X,L.y),bottom:L.bottom};if(T.inline&&!de)return{y:L.y,bottom:Math.min(te.y-X,L.bottom)};const he=W==="line"?Js($):B;return de?{y:Math.max(te.bottom+X,L.y),bottom:Math.min(he.bottom-X,L.bottom)}:{y:Math.max(he.y+X,L.y),bottom:Math.min(te.y-X,L.bottom)}})(o,m,d,w,a,l);return zs(b,E,x,C-E)}},AS={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},wl={maxHeightFunction:gm(),maxWidthFunction:R0()},TS=o=>o==="node",zI=(o,r,a,l,d)=>{const m=IC(o),p=l.lastElement().exists(b=>In(a,b));return((b,x)=>{const w=b.selection.getRng(),E=Qa(Ft(w.startContainer),w.startOffset);return w.startContainer===w.endContainer&&w.startOffset===w.endOffset-1&&In(E.element,x)})(o,a)?p?Dx:Zi:p?((b,x)=>{const w=ba(b,"position");Eo(b,"position",x);const E=ES(m,Js(r),-20)&&!l.isReposition()?gf:Dx;return w.each(C=>Eo(b,"position",C)),E})(r,l.getMode()):(l.getMode()==="fixed"?d.y+Pi().top:d.y)+(Gs(r)+12)<=m.y?Zi:Pl},HI=(o,r,a,l)=>{const d=p=>(b,x,w,E,C)=>({...zI(o,E,p,a,C)({...b,y:C.y,height:C.height},x,w,E,C),alwaysFit:!0}),m=p=>TS(l)?[d(p)]:[];return r?{onLtr:p=>[Br,Ur,Mr,Wa,oi,ya].concat(m(p)),onRtl:p=>[Br,Mr,Ur,oi,Wa,ya].concat(m(p))}:{onLtr:p=>[ya,Br,Wa,Ur,oi,Mr].concat(m(p)),onRtl:p=>[ya,Br,oi,Mr,Wa,Ur].concat(m(p))}},LC=(o,r)=>{const a=Do(r,m=>m.predicate(o.dom)),{pass:l,fail:d}=dn(a,m=>m.type==="contexttoolbar");return{contextToolbars:l,contextForms:d}},VI=(o,r)=>{const a={},l=[],d=[],m={},p={},b=Zs(o);return gt(b,x=>{const w=o[x];w.type==="contextform"||w.type==="contextsliderform"||w.type==="contextsizeinputform"?((E,C)=>{const T=Ol(Hs("ContextForm",eB,C));a[E]=T,T.launch.map(B=>{m["form:"+E]={...C.launch,type:B.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(T)}}}),T.scope==="editor"?d.push(T):l.push(T),p[E]=T})(x,w):w.type==="contexttoolbar"&&((E,C)=>{var T;(T=C,Hs("ContextToolbar",F6,T)).each(B=>{B.launch.isSome()&&(m["toolbar:"+E]={...C.launch,type:"button",onAction:()=>{r(B)}}),C.scope==="editor"?d.push(B):l.push(B),p[E]=B})})(x,w)}),{forms:a,inNodeScope:l,inEditorScope:d,lookupTable:p,formNavigators:m}},DS="tox-pop--transition",$I=(o,r,a,l)=>{const d=l.backstage,m=d.shared,p=Ce().deviceType.isTouch,b=Bn(),x=Bn(),w=Bn(),E=(ke=>{const ze=Vt([]);return{sketch:Qs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Je=>{ze.set([]),Qs.getContent(Je).each(rt=>{un(rt.element,"visibility")}),vs(Je.element,SC),un(Je.element,"width")},onHide:()=>{ze.set([]),ke.onHide()},inlineBehaviours:pt([vo("context-toolbar-events",[hm(vg(),(Je,rt)=>{rt.event.raw.propertyName==="width"&&(vs(Je.element,SC),un(Je.element,"width"))}),et(kC,(Je,rt)=>{const bt=Je.element;un(bt,"width");const Xt=$a(bt),no=As(Je.element).isSome();un(bt,"left"),un(bt,"right"),un(bt,"max-width"),Qs.setContent(Je,rt.event.contents),ls(bt,SC);const po=$a(bt);Eo(bt,"transition","none"),Qs.reposition(Je),un(bt,"transition"),Eo(bt,"width",Xt+"px"),rt.event.focus.fold(()=>{no&&r8(Je)},$o=>{Al(Aa(Je.element)).fold(()=>Ws($o),gs=>{In(gs,$o)||Ws($o)})}),setTimeout(()=>{Eo(Je.element,"width",po+"px")},0)}),et(a8,(Je,rt)=>{Qs.getContent(Je).each(bt=>{ze.set(ze.get().concat([{bar:bt,focus:Al(Aa(Je.element))}]))}),oo(Je,kC,{contents:rt.event.forwardContents,focus:A.none()})}),et(_C,(Je,rt)=>{ke.onBack(),Co(ze.get()).each(bt=>{ze.set(ze.get().slice(0,ze.get().length-1)),oo(Je,kC,{contents:cd(bt.bar),focus:bt.focus})})})]),Bt.config({mode:"special",onEscape:Je=>Co(ze.get()).fold(()=>ke.onEscape(),rt=>(Xo(Je,_C),A.some(!0)))})]),lazySink:()=>Fo.value(ke.sink)}),inSubtoolbar:()=>ze.get().length>0}})({sink:a,onEscape:()=>(o.focus(),rD(o),A.some(!0)),onHide:()=>{rD(o)},onBack:()=>{(ke=>{ke.dispatch("ContextFormSlideBack")})(o)}}),C=Gi(E.sketch),T=()=>{const ke=w.get().getOr("node"),ze=TS(ke)?1:0;return PC(o,m,ke,ze)},B=()=>!(o.removed||p()&&d.isContextMenuOpen()),L=()=>{if(B()){const ke=T(),ze=Sa(w.get(),"node")?((tt,Je)=>Je.filter(rt=>za(rt)&&cs(rt)).map(er).getOrThunk(()=>IC(tt)))(o,b.get()):IC(o);return ke.height<=0||!ES(ze,ke,.01)}return!0},Y=()=>{b.clear(),x.clear(),w.clear(),Qs.hide(C)},W=()=>{if(Qs.isOpen(C)){const ke=C.element;un(ke,"display"),L()?Eo(ke,"display","none"):(x.set(0),Qs.reposition(C))}},X=ke=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ke],behaviours:pt([Bt.config({mode:"acyclic"}),vo("pop-dialog-wrap-events",[ts(ze=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>Bt.focusIn(ze))}),ad(ze=>{o.shortcuts.remove("ctrl+F9")})])])}),$=ke=>{const ze=te([ke]);oo(C,a8,{forwardContents:X(ze)})},U=rr(()=>VI(r,$)),te=ke=>{const{buttons:ze}=o.ui.registry.getAll(),tt={...ze,...U().formNavigators},Je=Df(o)===Gd.scrolling?Gd.scrolling:Gd.default,rt=Is(Ee(ke,bt=>{return bt.type==="contexttoolbar"?((no,po)=>DC(o,{buttons:no,toolbar:po.items,allowToolbarGroups:!1},l.backstage,A.some(["form:","toolbar:"])))(tt,(Xt=bt,{...Xt,launch:Xt.launch.getOrUndefined(),items:Me(Xt.items)?Xt.items:Ee(Xt.items,z6)})):((no,po)=>FI(no,po))(bt,m.providers);var Xt}));return gh({type:Je,uid:Oe("context-toolbar"),initGroups:rt,onEscape:A.none,cyclicKeying:!0,providers:m.providers})},oe=(ke,ze)=>{if(he.cancel(),!B())return;const tt=te(ke),Je=ke[0].position,rt=((Xt,no)=>{const po=Xt==="node"?m.anchors.node(no):m.anchors.cursor(),$o=((gs,Ms,Rn,nn)=>Ms==="line"?{bubble:ml(12,0,AS),layouts:{onLtr:()=>[_x],onRtl:()=>[kx]},overrides:wl}:{bubble:ml(0,12,AS,1/12),layouts:HI(gs,Rn,nn,Ms),overrides:wl})(o,Xt,p(),{lastElement:b.get,isReposition:()=>Sa(x.get(),0),getMode:()=>Yi.getMode(a)});return Wo(po,$o)})(Je,ze);w.set(Je),x.set(1);const bt=C.element;un(bt,"display"),(Xt=>Sa(xr(Xt,b.get(),In),!0))(ze)||(vs(bt,DS),Yi.reset(a,C)),Qs.showWithinBounds(C,X(tt),{anchor:rt,transition:{classes:[DS],mode:"placement"}},()=>A.some(T())),ze.fold(b.clear,b.set),L()&&Eo(bt,"display","none")};let de=!1;const he=su(()=>{!o.hasFocus()||o.removed||de||(Ja(C.element,DS)?he.throttle():((ke,ze)=>{const tt=Ft(ze.getBody()),Je=bt=>In(bt,tt),rt=Ft(ze.selection.getNode());return(bt=>!Je(bt)&&!La(tt,bt))(rt)?A.none():((bt,Xt,no)=>{const po=LC(bt,Xt);if(po.contextForms.length>0)return A.some({elem:bt,toolbars:[po.contextForms[0]]});{const $o=LC(bt,no);if($o.contextForms.length>0)return A.some({elem:bt,toolbars:[$o.contextForms[0]]});if(po.contextToolbars.length>0||$o.contextToolbars.length>0){const gs=(Ms=>{if(Ms.length<=1)return Ms;{const Rn=zn=>Tn(Ms,Gr=>Gr.position===zn),nn=zn=>Do(Ms,Gr=>Gr.position===zn),ro=Rn("selection"),ss=Rn("node");if(ro||ss){if(ss&&ro){const zn=nn("node"),Gr=Ee(nn("selection"),Gn=>({...Gn,position:"node"}));return zn.concat(Gr)}return nn(ro?"selection":"node")}return nn("line")}})(po.contextToolbars.concat($o.contextToolbars));return A.some({elem:bt,toolbars:gs})}return A.none()}})(rt,ke.inNodeScope,ke.inEditorScope).orThunk(()=>((bt,Xt,no)=>bt(Xt)?A.none():tp(Xt,po=>{if(Ho(po)){const{contextToolbars:$o,contextForms:gs}=LC(po,no.inNodeScope),Ms=gs.length>0?gs:(Rn=>{if(Rn.length<=1)return Rn;{const nn=ro=>z(Rn,ss=>ss.position===ro);return nn("selection").orThunk(()=>nn("node")).orThunk(()=>nn("line")).map(ro=>ro.position).fold(()=>[],ro=>Do(Rn,ss=>ss.position===ro))}})($o);return Ms.length>0?A.some({elem:po,toolbars:Ms}):A.none()}return A.none()},bt))(Je,rt,ke))})(U(),o).fold(Y,ke=>{oe(ke.toolbars,A.some(ke.elem))}))},17);o.on("init",()=>{o.on("remove",Y),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",W),o.on("click focus SetContent",he.throttle),o.on("keyup",ke=>{var ze;((ze=ke.keyCode)!==Pb.ENTER&&ze!==Pb.SPACEBAR||!E.inSubtoolbar())&&he.throttle()}),o.on(MC,Y),o.on("contexttoolbar-show",ke=>{const ze=U();Kt(ze.lookupTable,ke.toolbarKey).each(tt=>{oe([tt],ci(ke.target!==o,ke.target)),r8(C)})}),o.on("focusout",ke=>{lb.setEditorTimeout(o,()=>{As(a.element).isNone()&&As(C.element).isNone()&&!o.hasFocus()&&Y()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&Y()}),o.on("DisabledStateChange",ke=>{ke.state&&Y()}),o.on("ExecCommand",({command:ke})=>{ke.toLowerCase()==="toggleview"&&Y()}),o.on("AfterProgressState",ke=>{ke.state?Y():o.hasFocus()&&he.throttle()}),o.on("dragstart",()=>{de=!0}),o.on("dragend drop",()=>{de=!1}),o.on("NodeChange",ke=>{E.inSubtoolbar()?(Eo(C.element,"transition","none"),W(),un(C.element,"transition")):As(C.element).fold(he.throttle,xe)})})},OS=(o,r)=>{const a=()=>{const l=r.getOptions(o),d=r.getCurrent(o).map(r.hash),m=Bn();return Ee(l,p=>({type:"togglemenuitem",text:r.display(p),onSetup:b=>{const x=E=>{E&&(m.on(C=>C.setActive(!1)),m.set(b)),b.setActive(E)};x(Sa(d,r.hash(p)));const w=r.watcher(o,p,x);return()=>{m.clear(),w()}},onAction:()=>r.setCurrent(o,p)}))};o.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:l=>l(a()),onSetup:r.onToolbarSetup}),o.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:a,onSetup:r.onMenuSetup})},If=o=>{OS(o,(r=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:wT,hash:a=>(l=>Dc(l,["fixed","relative","empty"]).map(({value:d,unit:m})=>d+m))(a).getOr(a),display:Ct,watcher:(a,l,d)=>a.formatter.formatChanged("lineheight",d,!1,{value:l}).unbind,getCurrent:a=>A.from(a.queryCommandValue("LineHeight")),setCurrent:(a,l)=>a.execCommand("LineHeight",!1,l),onToolbarSetup:xl(r),onMenuSetup:xl(r)}))(o)),(r=>A.from(ub(r)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:ne(a),hash:l=>$t(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,d,m)=>{var p;return l.formatter.formatChanged("lang",m,!1,{value:d.code,customValue:(p=d.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const d=Ft(l.selection.getNode());return nm(d,m=>A.some(m).filter(Ho).bind(p=>Ta(p,"lang").map(b=>({code:b,customCode:Ta(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,d)=>l.execCommand("Lang",!1,d),onToolbarSetup:l=>{const d=Cs();return l.setActive(r.formatter.match("lang",{},void 0,!0)),d.set(r.formatter.formatChanged("lang",l.setActive,!0)),Yw(d.clear,xl(r)(l))},onMenuSetup:xl(r)})))(o).each(r=>OS(o,r))},NS=o=>ih(o,"NodeChange",r=>{r.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),RS=(o,r)=>a=>{a.setActive(r.get());const l=d=>{r.set(d.state),a.setActive(d.state)};return o.on("PastePlainTextToggle",l),Yw(()=>o.off("PastePlainTextToggle",l),xl(o)(a))},Fb=(o,r)=>()=>{o.execCommand("mceToggleFormat",!1,r)},MS=o=>{(r=>{(a=>{vl.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,d)=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:Xw(a,l.name),onAction:Fb(a,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const d="h"+l,m=`Access+${l}`;a.ui.registry.addToggleButton(d,{text:d.toUpperCase(),tooltip:"Heading "+l,onSetup:Xw(a,d),onAction:Fb(a,d),shortcut:m})}})(r),(a=>{vl.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{a.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:pc(a,l.action),shortcut:l.shortcut,context:l.context})}),vl.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{a.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:xl(a),onAction:pc(a,l.action)})})})(r),(a=>{vl.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:pc(a,l.action),onSetup:Xw(a,l.name)})})})(r)})(o),(r=>{vl.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],a=>{r.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onAction:pc(r,a.action),context:a.context})}),vl.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],a=>{r.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onSetup:xl(r),onAction:pc(r,a.action)})}),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:xl(r),onAction:Fb(r,"code")})})(o)},FC=(o,r)=>ih(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!o.mode.isReadOnly()&&o.undoManager[r]())}),UI=o=>ih(o,"VisualAid",r=>{r.setActive(o.hasVisual)}),ZI=(o,r)=>{(a=>{gt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:pc(a,l.cmd),onSetup:Xw(a,l.name)})}),a.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:xl(a),onAction:pc(a,"JustifyNone")})})(o),MS(o),((a,l)=>{((d,m)=>{const p=Rb(m,Bf(d));d.ui.registry.addNestedMenuItem("align",{text:m.shared.providers.translate("Align"),onSetup:xl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,m)=>{const p=Rb(m,AC(d));d.ui.registry.addNestedMenuItem("fontfamily",{text:m.shared.providers.translate("Fonts"),onSetup:xl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,m)=>{const p={type:"advanced",...m.styles},b=Rb(m,g8(d,p));d.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:xl(d,()=>b.getStyleItems().length>0),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(a,l),((d,m)=>{const p=Rb(m,EC(d));d.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:xl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,m)=>{const p=Rb(m,vS(d));d.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:xl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l)})(o,r),(a=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:FC(l,"hasUndo"),onAction:pc(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:FC(l,"hasRedo"),onAction:pc(l,"redo")})})(a),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:FC(l,"hasUndo"),onAction:pc(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:FC(l,"hasRedo"),onAction:pc(l,"redo"),shortcut:"Meta+Y"})})(a)})(o),(a=>{(b=>{b.addCommand("mceApplyTextcolor",(x,w)=>{((E,C,T)=>{E.undoManager.transact(()=>{E.focus(),E.formatter.apply(C,{value:T}),E.nodeChanged()})})(b,x,w)}),b.addCommand("mceRemoveTextcolor",x=>{((w,E)=>{w.undoManager.transact(()=>{w.focus(),w.formatter.remove(E,{value:null},void 0,!0),w.nodeChanged()})})(b,x)})})(a);const l=cD(a),d=xB(a),m=Vt(l),p=Vt(d);pD(a,"forecolor","forecolor",m),pD(a,"backcolor","hilitecolor",p),gD(a,"forecolor","forecolor","Text color",m),gD(a,"backcolor","hilitecolor","Background color",p)})(o),(a=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:pc(l,"mceToggleVisualAid"),context:"any"})})(a),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:UI(l),onAction:pc(l,"mceToggleVisualAid"),context:"any"})})(a)})(o),(a=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:NS(l),onAction:pc(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:xl(l),onAction:pc(l,"indent")})})(a)})(o),If(o),(a=>{const l=Vt(pT(a)),d=()=>a.execCommand("mceTogglePlainTextPaste");a.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:d,onSetup:RS(a,l)}),a.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:d,onSetup:RS(a,l)})})(o),(a=>{a.ui.registry.addContext("editable",()=>a.selection.isEditable()),a.ui.registry.addContext("mode",l=>a.mode.get()===l),a.ui.registry.addContext("any",Jt),a.ui.registry.addContext("formatting",l=>a.formatter.canApply(l)),a.ui.registry.addContext("insert",l=>a.schema.isValidChild(a.selection.getNode().tagName,l))})(o)},jI=o=>Me(o)?o.split(/[ ,]/):o,w8=o=>r=>r.options.get(o),C8=w8("contextmenu_never_use_native"),WI=w8("contextmenu_avoid_overlap"),BS=o=>{const r=o.ui.registry.getAll().contextMenus,a=o.options.get("contextmenu");return o.options.isSet("contextmenu")?a:Do(a,l=>jo(r,l))},a2=(o,r)=>({type:"makeshift",x:o,y:r}),Fm=o=>o.type==="longpress"||o.type.indexOf("touch")===0,zC=(o,r)=>r.type==="contextmenu"||r.type==="longpress"?o.inline?(a=>{if(Fm(a)){const l=a.touches[0];return a2(l.pageX,l.pageY)}return a2(a.pageX,a.pageY)})(r):((a,l)=>{const d=Xg.DOM.getPos(a);return((m,p,b)=>a2(m.x+p,m.y+b))(l,d.x,d.y)})(o.getContentAreaContainer(),(a=>{if(Fm(a)){const l=a.touches[0];return a2(l.clientX,l.clientY)}return a2(a.clientX,a.clientY)})(r)):_8(o),_8=o=>({type:"selection",root:Ft(o.selection.getNode())}),k8=(o,r,a)=>{switch(a){case"node":return(l=>({type:"node",node:A.some(Ft(l.selection.getNode())),root:Ft(l.getBody())}))(o);case"point":return zC(o,r);case"selection":return _8(o)}},S8=(o,r,a,l,d,m)=>{const p=a(),b=k8(o,r,m);Eb(p,Qd.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:A.none()}).map(x=>{r.preventDefault(),Qs.showMenuAt(d,{anchor:b},{menu:{markers:oh("normal")},data:x})})},E8={onLtr:()=>[Br,Ur,Mr,Wa,oi,ya,Zi,Pl,_u,e1,Sg,kg],onRtl:()=>[Br,Mr,Ur,oi,Wa,ya,Zi,Pl,Sg,kg,_u,e1]},IS={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},HC=(o,r,a,l,d,m)=>{const p=Ce(),b=p.os.isiOS(),x=p.os.isMacOS(),w=p.os.isAndroid(),E=p.deviceType.isTouch(),C=()=>{const T=a();((B,L,Y,W,X,$,U)=>{const te=((oe,de,he)=>{const ke=k8(oe,de,he);return{bubble:ml(0,he==="point"?12:0,IS),layouts:E8,overrides:{maxWidthFunction:R0(),maxHeightFunction:gm()},...ke}})(B,L,$);Eb(Y,Qd.CLOSE_ON_EXECUTE,W,{isHorizontalMenu:!0,search:A.none()}).map(oe=>{L.preventDefault();const de=U?hi.HighlightMenuAndItem:hi.HighlightNone;Qs.showMenuWithinBounds(X,{anchor:te},{menu:{markers:oh("normal"),highlightOnOpen:de},data:oe,type:"horizontal"},()=>A.some(PC(B,W.shared,$==="node"?"node":"selection"))),B.dispatch(MC)})})(o,r,T,l,d,m,!(w||b||x&&E))};if((x||b)&&m!=="node"){const T=()=>{(B=>{const L=B.selection.getRng(),Y=()=>{lb.setEditorTimeout(B,()=>{B.selection.setRng(L)},10),$()};B.once("touchend",Y);const W=U=>{U.preventDefault(),U.stopImmediatePropagation()};B.on("mousedown",W,!0);const X=()=>$();B.once("longpresscancel",X);const $=()=>{B.off("touchend",Y),B.off("longpresscancel",X),B.off("mousedown",W)}})(o),C()};((B,L)=>{const Y=B.selection;if(Y.isCollapsed()||L.touches.length<1)return!1;{const W=L.touches[0],X=Y.getRng();return sm(B.getWin(),Tc.domRange(X)).exists($=>$.left<=W.clientX&&$.right>=W.clientX&&$.top<=W.clientY&&$.bottom>=W.clientY)}})(o,r)?T():(o.once("selectionchange",T),o.once("touchend",()=>o.off("selectionchange",T)))}else C()},zb=o=>Me(o)?o==="|":o.type==="separator",Q1={type:"separator"},PS=o=>{const r=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(Me(o))return o;switch(o.type){case"separator":return Q1;case"submenu":return{type:"nestedmenuitem",...r(o),getSubmenuItems:()=>{const l=o.getSubmenuItems();return Me(l)?l:Ee(l,PS)}};default:const a=o;return{type:"menuitem",...r(a),onAction:He(a.onAction)}}},LS=(o,r)=>{if(r.length===0)return o;const a=Co(o).filter(l=>!zb(l)).fold(()=>[],l=>[Q1]);return o.concat(a).concat(r).concat([Q1])},FS=(o,r)=>!(a=>a.type==="longpress"||jo(a,"touches"))(r)&&(r.button!==2||r.target===o.getBody()&&r.pointerType===""),zS=(o,r)=>FS(o,r)?o.selection.getStart(!0):r.target,qI=(o,r,a)=>{const l=Ce().deviceType.isTouch,d=Gi(Qs.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>o.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:pt([vo("dismissContextMenu",[et(up(),(b,x)=>{Sn.close(b),o.focus()})])])})),m=()=>Qs.hide(d),p=b=>{if(C8(o)&&b.preventDefault(),((w,E)=>E.ctrlKey&&!C8(w))(o,b)||(w=>BS(w).length===0)(o))return;const x=((w,E)=>{const C=WI(w),T=FS(w,E)?"selection":"point";if(Kl(C)){const B=zS(w,E);return ep(Ft(B),C)?"node":T}return T})(o,b);(l()?HC:S8)(o,b,()=>{const w=zS(o,b),E=o.ui.registry.getAll(),C=BS(o);return((T,B,L)=>{const Y=qo(B,(W,X)=>Kt(T,X.toLowerCase()).map($=>{const U=$.update(L);if(Me(U)&&Kl(Gl(U)))return LS(W,U.split(" "));if(Ue(U)&&U.length>0){const te=Ee(U,PS);return LS(W,te)}return W}).getOrThunk(()=>W.concat([X])),[]);return Y.length>0&&zb(Y[Y.length-1])&&Y.pop(),Y})(E.contextMenus,C,w)},a,d,x)};o.on("init",()=>{const b="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");o.on(b,m),o.on("longpress contextmenu",p)})},A8=(o,r,a,l,d,m)=>o.fold(()=>C1.snap({sensor:Rp(a-20,l-20),range:us(d,m),output:Rp(A.some(a),A.some(l)),extra:{td:r}}),p=>{const b=a-20,x=l-20,w=p.element.dom.getBoundingClientRect();return C1.snap({sensor:Rp(b,x),range:us(40,40),output:Rp(A.some(a-w.width/2),A.some(l-w.height/2)),extra:{td:r}})}),T8=(o,r,a)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,d)=>{const m=d.td;((p,b)=>p.exists(x=>In(x,b)))(r.get(),m)||(r.set(m),a(m))},mustSnap:!0}),D8=o=>Ln(ua.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:pt([C1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),kf.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),GI=(o,r)=>{const a=Vt([]),l=Vt([]),d=Vt(!1),m=Bn(),p=Bn(),b=$=>{const U=er($);return A8(C.getOpt(r),$,U.x,U.y,U.width,U.height)},x=$=>{const U=er($);return A8(T.getOpt(r),$,U.right,U.bottom,U.width,U.height)},w=T8(()=>Ee(a.get(),$=>b($)),m,$=>{p.get().each(U=>{o.dispatch("TableSelectorChange",{start:$,finish:U})})}),E=T8(()=>Ee(l.get(),$=>x($)),p,$=>{m.get().each(U=>{o.dispatch("TableSelectorChange",{start:U,finish:$})})}),C=D8(w),T=D8(E),B=Gi(C.asSpec()),L=Gi(T.asSpec()),Y=($,U,te,oe)=>{const de=te(U);C1.snapTo($,de),((he,ke)=>{const ze=ke.dom.getBoundingClientRect();un(he.element,"display");const tt=zr(Ft(o.getBody())).dom.innerHeight,Je=ze[oe]<0,rt=((bt,Xt)=>bt[oe]>Xt)(ze,tt);(Je||rt)&&Eo(he.element,"display","none")})($,U)},W=$=>Y(B,$,b,"top"),X=$=>Y(L,$,x,"bottom");if(Ce().deviceType.isTouch()){const $=U=>Ee(U,Ft);o.on("TableSelectionChange",U=>{d.get()||(Du(r,B),Du(r,L),d.set(!0));const te=Ft(U.start),oe=Ft(U.finish);m.set(te),p.set(oe),A.from(U.otherCells).each(de=>{a.set($(de.upOrLeftCells)),l.set($(de.downOrRightCells)),W(te),X(oe)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{m.get().each(W),p.get().each(X)}),o.on("TableSelectionClear",()=>{d.get()&&(Cf(B),Cf(L),d.set(!1)),m.clear(),p.clear()})}},O8=(o,r,a)=>{var l;const d=(l=r.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:pt([Bt.config({mode:"flow",selector:"div[role=button]"}),eo.config({disabled:a.isDisabled}),gr(()=>a.checkUiComponentContext("any")),fs.config({}),Ao.config({}),vo("elementPathEvents",[ts((m,p)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Bt.focusIn(m)),o.on("NodeChange",b=>{const x=(E=>{const C=[];let T=E.length;for(;T-- >0;){const L=E[T];if(L.nodeType===1&&(B=L).nodeName!=="BR"&&!B.getAttribute("data-mce-bogus")&&B.getAttribute("data-mce-type")!=="bookmark"){const Y=bB(o,L);if(Y.isDefaultPrevented()||C.push({name:Y.name,element:L}),Y.isPropagationStopped())break}}var B;return C})(b.parents),w=x.length>0?qo(x,(E,C,T)=>{const B=((L,Y,W)=>ua.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":W}},components:[$s(L)],action:X=>{o.focus(),o.selection.select(Y),o.nodeChanged()},buttonBehaviours:pt([Rs.config({...a.tooltips.getConfig({tooltipText:a.translate(["Select the {0} element",Y.nodeName.toLowerCase()]),onShow:(X,$)=>{((U,te)=>{const oe=A.from(yr(U,"id")).getOrThunk(()=>{const de=Oe("aria");return bo(te,"id",de),de});bo(U,"aria-describedby",oe)})(X.element,$.element)},onHide:X=>{var $;$=X.element,qs($,"aria-describedby")}})}),jp(a.isDisabled),gr(()=>a.checkUiComponentContext("any"))])}))(C.name,C.element,T);return T===0?E.concat([B]):E.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[$s(` ${d} `)]},B])},[]):[];Ao.set(m,w)})})])]),components:[]}};var Pf;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(Pf||(Pf={}));const N8=(o,r,a)=>{const l=Ft(o.getContainer()),d=((m,p,b,x,w)=>{const E={height:Lb(x+p.top,e4(m),cw(m))};return b===Pf.Both&&(E.width=Lb(w+p.left,Jk(m),lw(m))),E})(o,r,a,Gs(l),$a(l));ur(d,(m,p)=>{kt(m)&&Eo(l,p,OC(m))}),(m=>{m.dispatch("ResizeEditor")})(o)},i2=(o,r,a,l)=>{const d=us(20*a,20*l);return N8(o,d,r),A.some(!0)},KI=(o,r)=>{const a=()=>{const l=[],d=bT(o),m=fT(o),p=pw(o)||o.hasPlugin("wordcount");return m&&l.push(O8(o,{},r)),d&&l.push((()=>{const b=zv("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[$s(fd.translate(["Press {0} for help",b]))]}})()),p&&l.push((()=>{const b=[];return o.hasPlugin("wordcount")&&b.push(((x,w)=>{const E=(C,T,B)=>Ao.set(C,[$s(w.translate(["{0} "+B,T[B]]))]);return ua.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:pt([jp(w.isDisabled),gr(()=>w.checkUiComponentContext("any")),fs.config({}),Ao.config({}),zt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),vo("wordcount-events",[zd(C=>{const T=zt.getValue(C),B=T.mode==="words"?"characters":"words";zt.setValue(C,{mode:B,count:T.count}),E(C,T.count,B)}),ts(C=>{x.on("wordCountUpdate",T=>{const{mode:B}=zt.getValue(C);zt.setValue(C,{mode:B,count:T.wordCount}),E(C,T.wordCount,B)})})])]),eventOrder:{[dl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,r)),pw(o)&&b.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":o.translate(["Build with {0}","TinyMCE"])},innerHtml:o.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:pt([mo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:b}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const b="tox-statusbar__text-container--flex-start",x="tox-statusbar__text-container--flex-end";if(d){const w="tox-statusbar__text-container-3-cols";return p||m?p&&!m?[w,x]:[w,b]:[w,"tox-statusbar__text-container--space-around"]}return[p&&!m?x:b]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=a(),d=((m,p)=>{const b=(E=>{const C=s4(E);return C===!1?Pf.None:C==="both"?Pf.Both:Pf.Vertical})(m);if(b===Pf.None)return A.none();const x=b===Pf.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.",w=b===Pf.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return A.some(pd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",w],attributes:{"aria-label":p.translate(x),"data-mce-name":"resize-handle"},behaviours:[C1.config({mode:"mouse",repositionTarget:!1,onDrag:(E,C,T)=>N8(m,T,b),blockerClass:"tox-blocker"}),Bt.config({mode:"special",onLeft:()=>i2(m,b,-1,0),onRight:()=>i2(m,b,1,0),onUp:()=>i2(m,b,0,-1),onDown:()=>i2(m,b,0,1)}),fs.config({}),mo.config({}),Rs.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")}))]},p.icons))})(o,r);return l.concat(d.toArray())})()}},HS=(o,r)=>r.get().getOrDie(`UI for ${o} has not been rendered`),J1=(o,r)=>{const a=o.inline,l=a?PI:II,d=Kd(o)?pI:fI,m=(()=>{const de=Bn(),he=Bn(),ke=Bn();return{dialogUi:de,popupUi:he,mainUi:ke,getUiMotherships:()=>{const ze=de.get().map(Je=>Je.mothership),tt=he.get().map(Je=>Je.mothership);return ze.fold(()=>tt.toArray(),Je=>tt.fold(()=>[Je],rt=>In(Je.element,rt.element)?[Je]:[Je,rt]))},lazyGetInOuterOrDie:(ze,tt)=>()=>ke.get().bind(Je=>tt(Je.outerContainer)).getOrDie(`Could not find ${ze} element in OuterContainer`)}})(),p=Bn(),b=Bn(),x=Bn(),w=Ce().deviceType.isTouch()?["tox-platform-touch"]:[],E=a4(o),C=Df(o),T=Ln({dom:{tag:"div",classes:["tox-anchorbar"]}}),B=Ln({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),L=()=>m.mainUi.get().map(de=>de.outerContainer).bind(ks.getHeader),Y=m.lazyGetInOuterOrDie("anchor bar",T.getOpt),W=m.lazyGetInOuterOrDie("bottom anchor bar",B.getOpt),X=m.lazyGetInOuterOrDie("toolbar",ks.getToolbar),$=m.lazyGetInOuterOrDie("throbber",ks.getThrobber),U=((de,he,ke,ze)=>{const tt=Vt(!1),Je=(nn=>{const ro=Vt(a4(nn)?"bottom":"top");return{isPositionedAtTop:()=>ro.get()==="top",getDockingMode:ro.get,setDockingMode:ro.set}})(he),rt={icons:()=>he.ui.registry.getAll().icons,menuItems:()=>he.ui.registry.getAll().menuItems,translate:fd.translate,isDisabled:()=>!he.ui.isEnabled(),getOption:he.options.get,tooltips:vO(de.dialog),checkUiComponentContext:nn=>{if(iw(he))return{contextType:"disabled",shouldDisable:!0};const[ro,ss=""]=nn.split(":"),zn=he.ui.registry.getAll().contexts;return{contextType:ro,shouldDisable:!Kt(zn,ro).fold(()=>Kt(zn,"mode").map(Gr=>Gr("design")).getOr(!1),Gr=>ss.charAt(0)==="!"?!Gr(ss.slice(1)):Gr(ss))}}},bt=uI(he),Xt=(nn=>{const ro=Kr=>()=>nn.formatter.match(Kr),ss=Kr=>()=>{const _a=nn.formatter.get(Kr);return _a!==void 0?A.some({tag:_a.length>0&&(_a[0].inline||_a[0].block)||"div",styles:nn.dom.parseStyle(nn.formatter.getCssText(Kr))}):A.none()},zn=Vt([]),Gr=Vt([]),Gn=Vt(!1);return nn.on("PreInit",Kr=>{const _a=Y1(nn),hh=xO(nn,_a,ro,ss);zn.set(hh)}),nn.on("addStyleModifications",Kr=>{const _a=xO(nn,Kr.items,ro,ss);Gr.set(_a),Gn.set(Kr.replace)}),{getData:()=>{const Kr=Gn.get()?[]:zn.get(),_a=Gr.get();return Kr.concat(_a)}}})(he),no=(nn=>({colorPicker:eI(nn),hasCustomColors:tI(nn),getColors:oI(nn),getColorCols:nI(nn)}))(he),po=(nn=>({isDraggableModal:sI(nn)}))(he),$o={shared:{providers:rt,anchors:JB(he,ke,ze,Je.isPositionedAtTop),header:Je},urlinput:bt,styles:Xt,colorinput:no,dialog:po,isContextMenuOpen:()=>tt.get(),setContextMenuState:nn=>tt.set(nn)},gs=nn=>A.none(),Ms={...$o,shared:{...$o.shared,interpreter:nn=>YB(nn,{},Ms,gs),getSink:de.popup}},Rn={...$o,shared:{...$o.shared,interpreter:nn=>YB(nn,{},Rn,gs),getSink:de.dialog}};return{popup:Ms,dialog:Rn}})({popup:()=>Fo.fromOption(m.popupUi.get().map(de=>de.sink),"(popup) UI has not been rendered"),dialog:()=>Fo.fromOption(m.dialogUi.get().map(de=>de.sink),"UI has not been rendered")},o,Y,W),te=()=>{const de=(()=>{const $o={attributes:{[Eg]:E?Fd.BottomToTop:Fd.TopToBottom}},gs=ks.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:U.popup,onEscape:()=>{o.focus()}}),Ms=ks.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:U.popup.shared.getSink,providers:U.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:_a=>{((hh,Gp)=>{hh.dispatch("ToggleToolbarDrawer",{state:Gp})})(o,_a)},type:C,lazyToolbar:X,lazyHeader:()=>L().getOrDie("Could not find header element"),...$o}),Rn=ks.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:U.popup.shared.providers,onEscape:()=>{o.focus()},type:C}),nn=Rm(o),ro=bw(o),ss=hw(o),zn=hT(o),Gr=nn||ro||ss,Gn=[(Kr=zn,ks.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:Kr})),gs];var Kr;return ks.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Gr?[]:["tox-editor-header--empty"]),...$o},components:Is([ss?Gn:[],nn?[Rn]:ro?[Ms]:[],Fu(o)?[]:[T.asSpec()]]),sticky:Kd(o),editor:o,sharedBackstage:U.popup.shared})})(),he={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ks.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),ks.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},ke=ks.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:U.popup}),ze=ks.parts.viewWrapper({backstage:U.popup}),tt=mT(o)&&!a?A.some(KI(o,U.popup.shared.providers)):A.none(),Je=Is([E?[]:[de],a?[]:[he],E?[de]:[]]),rt=ks.parts.editorContainer({components:Is([Je,a?[]:[B.asSpec()]])}),bt=i4(o),Xt={role:"application",...fd.isRtl()?{dir:"rtl"}:{},...bt?{"aria-hidden":"true"}:{}},no=Gi(ks.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(E?["tox-tinymce--toolbar-bottom"]:[]).concat(w),styles:{visibility:"hidden",...bt?{opacity:"0",border:"0"}:{}},attributes:Xt},components:[rt,...a?[]:[ze,...tt.toArray()],ke],behaviours:pt([gr(()=>U.popup.shared.providers.checkUiComponentContext("any")),eo.config({disableClass:"tox-tinymce--disabled"}),Bt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),po=fk(no);return p.set(po),{mothership:po,outerContainer:no}},oe=de=>{const he=OC((ze=>(tt=>{const Je=((Xt,no)=>{if(typeof no=="number")return A.from(no);const po=/^([0-9.]+)(pt|em|px)$/.exec(no.trim());if(po){const $o=po[2],gs=Number.parseFloat(po[1]);if(Number.isNaN(gs)||gs<0)return A.none();if($o==="em")return A.from(gs*Number.parseFloat(window.getComputedStyle(Xt.dom).fontSize));if($o==="pt")return A.from(.75*gs);if($o==="px")return A.from(gs)}return A.none()})(Ft(tt.targetElm),Cv(tt)),rt=e4(tt),bt=cw(tt);return Je.map(Xt=>Lb(Xt,rt,bt))})(ze).getOr(Cv(ze)))(o)),ke=OC((ze=>wS(ze).getOr(Qk(ze)))(o));return o.inline||(Dd("div","width",ke)&&Eo(de.element,"width",ke),Dd("div","height",he)?Eo(de.element,"height",he):Eo(de.element,"height","400px")),he};return{popups:{backstage:U.popup,getMothership:()=>HS("popups",x)},dialogs:{backstage:U.dialog,getMothership:()=>HS("dialogs",b)},renderUI:()=>{const de=te(),he=(()=>{const ze=xw(o),tt=In(ue(),ze)&&Ha(ze,"display")==="grid",Je={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(w),attributes:{...fd.isRtl()?{dir:"rtl"}:{}}},behaviours:pt([Yi.config({useFixed:()=>d.isDocked(L)})])},rt={dom:{styles:{width:document.body.clientWidth+"px"}},events:Wn([et(dm(),no=>{Eo(no.element,"width",document.body.clientWidth+"px")})])},bt=Gi(Wo(Je,tt?rt:{})),Xt=fk(bt);return b.set(Xt),{sink:bt,mothership:Xt}})(),ke=Qg(o)?(()=>{const ze={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(w),attributes:{...fd.isRtl()?{dir:"rtl"}:{}}},behaviours:pt([Yi.config({useFixed:()=>d.isDocked(L),getBounds:()=>r.getPopupSinkBounds()})])},tt=Gi(ze),Je=fk(tt);return x.set(Je),{sink:tt,mothership:Je}})():(ze=>(x.set(ze.mothership),ze))(he);return m.dialogUi.set(he),m.popupUi.set(ke),m.mainUi.set(de),(ze=>{const{mainUi:tt,popupUi:Je,uiMotherships:rt}=ze;Ss(dw(o),(ro,ss)=>{o.ui.registry.addGroupToolbarButton(ss,ro)});const{buttons:bt,menuItems:Xt,contextToolbars:no,sidebars:po,views:$o}=o.ui.registry.getAll(),gs=r4(o),Ms={menuItems:Xt,menus:_T(o),menubar:iT(o),toolbar:gs.getOrThunk(()=>_v(o)),allowToolbarGroups:C===Gd.floating,buttons:bt,sidebar:po,views:$o};var Rn;Rn=tt.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{ks.focusMenubar(Rn)}),o.addShortcut("alt+F10","focus toolbar",()=>{ks.focusToolbar(Rn)}),o.addCommand("ToggleToolbarDrawer",(ro,ss)=>{ss!=null&&ss.skipFocus?ks.toggleToolbarDrawerWithoutFocusing(Rn):ks.toggleToolbarDrawer(Rn)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>ks.isToolbarDrawerToggled(Rn)),((ro,ss,zn)=>{const Gr=(Cn,Qp)=>{gt([ss,...zn],zm=>{zm.broadcastEvent(Cn,Qp)})},Gn=(Cn,Qp)=>{gt([ss,...zn],zm=>{zm.broadcastOn([Cn],Qp)})},Kr=Cn=>Gn(Tm(),{target:Cn.target}),_a=Wm(),hh=Jn(_a,"touchstart",Kr),Gp=Jn(_a,"touchmove",Cn=>Gr(D2(),Cn)),KC=Jn(_a,"touchend",Cn=>Gr(O2(),Cn)),c2=Jn(_a,"mousedown",Kr),bh=Jn(_a,"mouseup",Cn=>{Cn.raw.button===0&&Gn(nv(),{target:Cn.target})}),Kp=Cn=>Gn(Tm(),{target:Ft(Cn.target)}),Ff=Cn=>{Cn.button===0&&Gn(nv(),{target:Ft(Cn.target)})},Vb=()=>{gt(ro.editorManager.get(),Cn=>{ro!==Cn&&Cn.dispatch("DismissPopups",{relatedTarget:ro})})},$b=Cn=>Gr(m0(),Sh(Cn)),Yp=Cn=>{Gn(Sf(),{}),Gr(dm(),Sh(Cn))},Ub=Aa(Ft(ro.getElement())),e0=El(Ub,"scroll",Cn=>{requestAnimationFrame(()=>{if(ro.getContainer()!=null){const Qp=Mm(ro,ss.element).map(zm=>[zm.element,...zm.others]).getOr([]);Tn(Qp,zm=>In(zm,Cn.target))&&(ro.dispatch("ElementScroll",{target:Cn.target.dom}),Gr(Fh(),Cn))}})}),d2=()=>Gn(Sf(),{}),u2=Cn=>{Cn.state&&Gn(Tm(),{target:Ft(ro.getContainer())})},t0=Cn=>{Gn(Tm(),{target:Ft(Cn.relatedTarget.getContainer())})},xh=Cn=>ro.dispatch("focusin",Cn),Xp=Cn=>ro.dispatch("focusout",Cn);ro.on("PostRender",()=>{ro.on("click",Kp),ro.on("tap",Kp),ro.on("mouseup",Ff),ro.on("mousedown",Vb),ro.on("ScrollWindow",$b),ro.on("ResizeWindow",Yp),ro.on("ResizeEditor",d2),ro.on("AfterProgressState",u2),ro.on("DismissPopups",t0),gt([ss,...zn],Cn=>{Cn.element.dom.addEventListener("focusin",xh),Cn.element.dom.addEventListener("focusout",Xp)})}),ro.on("remove",()=>{ro.off("click",Kp),ro.off("tap",Kp),ro.off("mouseup",Ff),ro.off("mousedown",Vb),ro.off("ScrollWindow",$b),ro.off("ResizeWindow",Yp),ro.off("ResizeEditor",d2),ro.off("AfterProgressState",u2),ro.off("DismissPopups",t0),gt([ss,...zn],Cn=>{Cn.element.dom.removeEventListener("focusin",xh),Cn.element.dom.removeEventListener("focusout",Xp)}),c2.unbind(),hh.unbind(),Gp.unbind(),KC.unbind(),bh.unbind(),e0.unbind()}),ro.on("detach",()=>{gt([ss,...zn],ME),gt([ss,...zn],Cn=>Cn.destroy())})})(o,tt.mothership,rt),d.setup(o,U.popup.shared,L),ZI(o,U.popup),qI(o,U.popup.shared.getSink,U.popup),(ro=>{const{sidebars:ss}=ro.ui.registry.getAll();gt(Zs(ss),zn=>{const Gr=ss[zn],Gn=()=>Sa(A.from(ro.queryCommandValue("ToggleSidebar")),zn);ro.ui.registry.addToggleButton(zn,{icon:Gr.icon,tooltip:Gr.tooltip,onAction:Kr=>{ro.execCommand("ToggleSidebar",!1,zn),Kr.setActive(Gn())},onSetup:Kr=>{Kr.setActive(Gn());const _a=()=>Kr.setActive(Gn());return ro.on("ToggleSidebar",_a),()=>{ro.off("ToggleSidebar",_a)}},context:"any"})})})(o),BO(o,$,U.popup.shared),$I(o,no,Je.sink,{backstage:U.popup}),GI(o,Je.sink);const nn={targetNode:o.getElement(),height:oe(tt.outerContainer)};return l.render(o,ze,Ms,U.popup,nn)})({popupUi:ke,dialogUi:he,mainUi:de,uiMotherships:m.getUiMotherships()})}}},R8=o=>{const r=[],a={};return ur(o,(l,d)=>{l.fold(()=>{r.push(d)},m=>{a[d]=m})}),r.length>0?Fo.error(r):Fo.value(a)},M8=(o,r,a,l)=>{const d=Ln(ob.sketch(p=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:Ee(o.items,b=>mO(p,b,r,a,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[d.asSpec()]}],behaviours:pt([Bt.config({mode:"acyclic",useTabstopAt:bs(Qv)}),(m=d,vn.config({find:m.getOpt})),DD(d,{postprocess:p=>R8(p).fold(b=>(console.error(b),{}),Ct)}),vo("dialog-body-panel",[et(Rl(),(p,b)=>{p.getSystem().broadcastOn([cC],{newFocus:A.some(b.event.target)})})])])};var m},B8=(o,r)=>{Eo(o,"height",r+"px"),Eo(o,"flex-basis",r+"px")},VC=(o,r,a)=>{Li(o,'[role="dialog"]').each(l=>{Nn(l,'[role="tablist"]').each(d=>{a.get().map(m=>(Eo(r,"height","0"),Eo(r,"flex-basis","0"),Math.min(m,((p,b,x)=>{const w=Xn(p).dom,E=Li(p,".tox-dialog-wrap").getOr(p);let C;C=Ha(E,"position")==="fixed"?Math.max(w.clientHeight,window.innerHeight):Math.max(w.offsetHeight,w.scrollHeight);const T=Gs(b),B=b.dom.offsetLeft>=x.dom.offsetLeft+$a(x)?Math.max(Gs(x),T):T,L=parseInt(Ha(p,"margin-top"),10)||0,Y=parseInt(Ha(p,"margin-bottom"),10)||0;return C-(Gs(p)+L+Y-B)})(l,r,d)))).each(m=>{B8(r,m)})})})},VS=o=>Nn(o,'[role="tabpanel"]'),I8="send-data-to-section",$S="send-data-to-view",YI=(o,r,a,l)=>{const d=Vt({}),m=E=>{const C=zt.getValue(E),T=R8(C).getOr({}),B=d.get(),L=Wo(B,T);d.set(L)},p=E=>{const C=d.get();zt.setValue(E,C)},b=Vt(null),x=Ee(o.tabs,E=>({value:E.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[$s(a.shared.providers.translate(E.title))],view:()=>[ob.sketch(C=>({dom:{tag:"div",classes:["tox-form"]},components:Ee(E.items,T=>mO(C,T,r,a,l)),formBehaviours:pt([Bt.config({mode:"acyclic",useTabstopAt:bs(Qv)}),vo("TabView.form.events",[ts(p),ad(m)]),Vl.config({channels:cp([{key:I8,value:{onReceive:m}},{key:$S,value:{onReceive:p}}])})])}))]})),w=(E=>{const C=Bn();return{extraEvents:[ts(B=>{const L=B.element;VS(L).each(Y=>{Eo(Y,"visibility","hidden"),B.getSystem().getByDom(Y).toOptional().each(W=>{const X=((U,te,oe)=>Ee(U,(de,he)=>{Ao.set(oe,U[he].view());const ke=te.dom.getBoundingClientRect();return Ao.set(oe,[]),ke.height}))(E,Y,W);(U=>br(st(U,(te,oe)=>te>oe?-1:te<oe?1:0)))(X).fold(C.clear,C.set)}),VC(L,Y,C),un(Y,"visibility"),((W,X)=>{br(W).each($=>Yg.showTab(X,$.value))})(E,B),requestAnimationFrame(()=>{VC(L,Y,C)})})}),et(dm(),B=>{const L=B.element;VS(L).each(Y=>{VC(L,Y,C)})}),et(rC,(B,L)=>{const Y=B.element;VS(Y).each(W=>{const X=Al(Aa(W));Eo(W,"visibility","hidden");const $=ba(W,"height").map(te=>parseInt(te,10));un(W,"height"),un(W,"flex-basis");const U=W.dom.getBoundingClientRect().height;$.forall(te=>U>te)?(C.set(U),VC(Y,W,C)):$.each(te=>{B8(W,te)}),un(W,"visibility"),X.each(Ws)})})],selectFirst:!1}})(x);return Yg.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(E,C,T)=>{const B=zt.getValue(C);oo(E,Kv,{name:B,oldName:b.get()}),b.set(B)},tabs:x,components:[Yg.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[zp.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:pt([fs.config({})])}),Yg.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:w.selectFirst,tabSectionBehaviours:pt([vo("tabpanel",w.extraEvents),Bt.config({mode:"acyclic"}),vn.config({find:E=>br(Yg.getViewItems(E))}),G1(A.none(),E=>(E.getSystem().broadcastOn([I8],{}),d.get()),(E,C)=>{d.set(C),E.getSystem().broadcastOn([$S],{})})])})},US=(o,r,a,l,d,m)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(p=>({id:p})).getOr({}),...d?{"aria-live":"polite"}:{}}},components:[],behaviours:pt([Yv(0),Bc.config({channel:`${$D}-${r}`,updateState:(p,b)=>A.some({isTabPanel:()=>b.body.type==="tabpanel"}),renderComponents:p=>{const b=p.body;return b.type==="tabpanel"?[YI(b,p.initialData,l,m)]:[M8(b,p.initialData,l,m)]},initialData:o})])}),ZS=cb.deviceType.isTouch(),Lf=(o,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,r]}),$C=(o,r)=>Wr.parts.close(ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:o,buttonBehaviours:pt([fs.config({})])})),jS=()=>Wr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),WS=(o,r)=>Wr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:jd(`<p>${IT(r.translate(o))}</p>`)}]}]}),UC=o=>Wr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),qS=(o,r)=>[_m.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),_m.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],Hb=o=>{const r="tox-dialog",a=r+"-wrap",l=a+"__backdrop",d=r+"__disable-scroll";return Wr.sketch({lazySink:o.lazySink,onEscape:m=>(o.onEscape(m),A.some(!0)),useTabstopAt:m=>!Qv(m),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[r].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:jd(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:ZS?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:a,modalBehaviours:pt([mo.config({}),vo("dialog-events",o.dialogEvents.concat([hm(Rl(),(m,p)=>{Cm.isBlocked(m)||Bt.focusIn(m)}),et(f0(),(m,p)=>{m.getSystem().broadcastOn([cC],{newFocus:p.event.newFocus})})])),vo("scroll-lock",[ts(()=>{ls(ue(),d)}),ad(()=>{vs(ue(),d)})]),...o.extraBehaviours]),eventOrder:{[dl()]:["dialog-events"],[ic()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Ys()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},GS=o=>ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:pt([fs.config({}),Rs.config(o.tooltips.getConfig({tooltipText:o.translate("Close")}))]),components:[pd("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:r=>{Xo(r,ch)}}),KS=(o,r,a,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...a.map(d=>({id:d})).getOr({})}},components:[],behaviours:pt([Bc.config({channel:`${VD}-${r}`,initialData:o,renderComponents:d=>[$s(l.translate(d.title))]})])}),P8=()=>({dom:jd('<div class="tox-dialog__draghandle"></div>')}),L8=(o,r,a)=>((l,d,m)=>{const p=Wr.parts.title(KS(l,d,A.none(),m)),b=Wr.parts.draghandle(P8()),x=Wr.parts.close(GS(m)),w=[p].concat(l.draggable?[b]:[]).concat([x]);return _m.sketch({dom:jd('<div class="tox-dialog__header"></div>'),components:w})})({title:a.shared.providers.translate(o),draggable:a.dialog.isDraggableModal()},r,a.shared.providers),F8=(o,r,a,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:jd('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),z8=(o,r,a)=>({onClose:()=>a.closeWindow(),onBlock:l=>{const d=Nn(o().element,".tox-dialog__header").map(m=>Gs(m));Wr.setBusy(o(),(m,p)=>F8(l.message,p,r,d))},onUnblock:()=>{Wr.setIdle(o())}}),H8="tox-dialog--fullscreen",ZC="tox-dialog--width-lg",jC="tox-dialog--width-md",WC=o=>{switch(o){case"large":return A.some(ZC);case"medium":return A.some(jC);default:return A.none()}},V8=(o,r)=>{const a=Ft(r.element.dom);Ja(a,H8)||(ui(a,[ZC,jC]),WC(o).each(l=>ls(a,l)))},$8=(o,r)=>{const a=Ft(o.element.dom),l=Qf(a),d=z(l,m=>m===ZC||m===jC).or(WC(r));((m,p)=>{gt(p,b=>{((x,w)=>{di(x)?x.dom.classList.toggle(w):((E,C)=>Et(om(E),C)?ef(E,C):Jm(E,C))(x,w),ed(x)})(m,b)})})(a,[H8,...d.toArray()])},l2=(o,r,a)=>Gi(Hb({...o,firstTabstop:1,lazySink:a.shared.getSink,extraBehaviours:[iC({}),...o.extraBehaviours],onEscape:l=>{Xo(l,ch)},dialogEvents:r,eventOrder:{[uf()]:[Bc.name(),Vl.name()],[ic()]:["scroll-lock",Bc.name(),"messages","dialog-events","alloy.base.behaviour"],[Ys()]:["alloy.base.behaviour","dialog-events","messages",Bc.name(),"scroll-lock"]}})),YS=(o,r={})=>Ee(o,a=>a.type==="menu"?(l=>{const d=Ee(l.items,m=>{const p=Kt(r,m.name).getOr(Vt(!1));return{...m,storage:p}});return{...l,items:d}})(a):a),U8=o=>qo(o,(r,a)=>a.type==="menu"?qo(a.items,(l,d)=>(l[d.name]=d.storage,l),r):r,{}),XS=(o,r)=>[Bx(Rl(),NB),o(qv,(a,l,d,m)=>{oc(m.element)&&Al(Aa(m.element)).each(kc),r.onClose(),l.onClose()}),o(ch,(a,l,d,m)=>{l.onCancel(a),Xo(m,qv)}),et(T3,(a,l)=>r.onUnblock()),et(A3,(a,l)=>r.onBlock(l.event))],QS=(o,r,a)=>{const l=(m,p)=>et(m,(b,x)=>{d(b,(w,E)=>{p(o(),w,x.event,b)})}),d=(m,p)=>{Bc.getState(m).get().each(b=>{p(b.internalDialog,m)})};return[...XS(l,r),l(Gv,(m,p)=>p.onSubmit(m)),l(gc,(m,p,b)=>{p.onChange(m,{name:b.name})}),l(Nf,(m,p,b,x)=>{const w=()=>x.getSystem().isConnected()?Bt.focusIn(x):void 0,E=B=>Gf(B,"disabled")||Ta(B,"aria-disabled").exists(L=>L==="true"),C=Aa(x.element),T=Al(C);p.onAction(m,{name:b.name,value:b.value}),Al(C).fold(w,B=>{E(B)||T.exists(L=>La(B,L)&&E(L))?w():a().toOptional().filter(L=>!La(L.element,B)).each(w)})}),l(Kv,(m,p,b)=>{p.onTabChange(m,{newTabName:b.name,oldTabName:b.oldName})}),ad(m=>{const p=o();zt.setValue(m,p.getData())})]},XI=(o,r)=>{const a=r.map(m=>m.footerButtons).getOr([]),l=dn(a,m=>m.align==="start"),d=(m,p)=>_m.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${m}`]},components:Ee(p,b=>b.memento.asSpec())});return[d("start",l.pass),d("end",l.fail)]},Z8=(o,r,a)=>({dom:jd('<div class="tox-dialog__footer"></div>'),components:[],behaviours:pt([Bc.config({channel:`${UD}-${r}`,initialData:o,updateState:(l,d)=>{const m=Ee(d.buttons,p=>{const b=Ln(((x,w)=>pC(x,x.type,w))(p,a));return{name:p.name,align:p.align,memento:b}});return A.some({lookupByName:p=>((b,x,w)=>z(x,E=>E.name===w).bind(E=>E.memento.getOpt(b)))(l,m,p),footerButtons:m})},renderComponents:XI})])}),qC=(o,r,a)=>Wr.parts.footer(Z8(o,r,a)),GC=(o,r)=>{if(o.getRoot().getSystem().isConnected()){const a=vn.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return ob.getField(a,r).orThunk(()=>o.getFooter().bind(d=>Bc.getState(d).get()).bind(d=>d.lookupByName(r)))}return A.none()},JS=(o,r,a)=>{const l=m=>{const p=o.getRoot();p.getSystem().isConnected()&&m(p)},d={getData:()=>{const m=o.getRoot(),p=m.getSystem().isConnected()?o.getFormWrapper():m;return{...zt.getValue(p),...Ss(a,b=>b.get())}},setData:m=>{l(p=>{const b=d.getData(),x=Wo(b,m),w=((C,T)=>{const B=C.getRoot();return Bc.getState(B).get().map(L=>Ol(Hs("data",L.dataValidator,T))).getOr(T)})(o,x),E=o.getFormWrapper();zt.setValue(E,w),ur(a,(C,T)=>{jo(x,T)&&C.set(x[T])})})},setEnabled:(m,p)=>{GC(o,m).each(p?eo.enable:eo.disable)},focus:m=>{GC(o,m).each(mo.focus)},block:m=>{if(!Me(m))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{oo(p,A3,{message:m})})},unblock:()=>{l(m=>{Xo(m,T3)})},showTab:m=>{l(p=>{const b=o.getBody();Bc.getState(b).get().exists(x=>x.isTabPanel())&&vn.getCurrent(b).each(x=>{Yg.showTab(x,m)})})},redial:m=>{l(p=>{const b=o.getId(),x=r(m),w=YS(x.internalDialog.buttons,a);p.getSystem().broadcastOn([`${lC}-${b}`],x),p.getSystem().broadcastOn([`${VD}-${b}`],x.internalDialog),p.getSystem().broadcastOn([`${$D}-${b}`],x.internalDialog),p.getSystem().broadcastOn([`${UD}-${b}`],{...x.internalDialog,buttons:w}),d.setData(x.initialData)})},close:()=>{l(m=>{Xo(m,qv)})},toggleFullscreen:o.toggleFullscreen};return d},j8=(o,r,a,l=!1,d)=>{const m=Oe("dialog"),p=Oe("dialog-label"),b=Oe("dialog-content"),x=o.internalDialog,w=Vt(x.size),E=WC(w.get()).toArray(),C=Ln(((oe,de,he,ke)=>_m.sketch({dom:jd('<div class="tox-dialog__header"></div>'),components:[KS(oe,de,A.some(he),ke),P8(),GS(ke)],containerBehaviours:pt([C1.config({mode:"mouse",blockerClass:"blocker",getTarget:ze=>Ac(ze,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(ze,tt)=>{ze.getSystem().broadcastOn([Sf()],{target:tt})}})])}))({title:x.title,draggable:!0},m,p,a.shared.providers)),T=Ln(((oe,de,he,ke,ze,tt)=>US(oe,de,A.some(he),ke,ze,tt))({body:x.body,initialData:x.initialData},m,b,a,l,oe=>GC(U,oe))),B=YS(x.buttons),L=U8(B),Y=ci(B.length!==0,Ln(((oe,de,he)=>Z8(oe,de,he))({buttons:B},m,a))),W=QS(()=>te,{onBlock:oe=>{Cm.block($,(de,he)=>{const ke=C.getOpt($).map(ze=>Gs(ze.element));return F8(oe.message,he,a.shared.providers,ke)})},onUnblock:()=>{Cm.unblock($)},onClose:()=>r.closeWindow()},a.shared.getSink),X=Ce().os,$=Gi({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...E],attributes:{role:"dialog",...X.isMacOS()?{"aria-label":x.title}:{"aria-labelledby":p}}},eventOrder:{[uf()]:[Bc.name(),Vl.name()],[dl()]:["execute-on-form"],[ic()]:["reflecting","execute-on-form"]},behaviours:pt([Bt.config({mode:"cyclic",onEscape:oe=>(Xo(oe,qv),A.some(!0)),useTabstopAt:oe=>!Qv(oe)&&(Ut(oe)!=="button"||yr(oe,"disabled")!=="disabled"),firstTabstop:1}),Bc.config({channel:`${lC}-${m}`,updateState:(oe,de)=>(w.set(de.internalDialog.size),V8(de.internalDialog.size,oe),d(),A.some(de)),initialData:o}),mo.config({}),vo("execute-on-form",W.concat([hm(Rl(),(oe,de)=>{Bt.focusIn(oe)}),et(f0(),(oe,de)=>{oe.getSystem().broadcastOn([cC],{newFocus:de.event.newFocus})})])),Cm.config({getRoot:()=>A.some($)}),Ao.config({}),iC({})]),components:[C.asSpec(),T.asSpec(),...Y.map(oe=>oe.asSpec()).toArray()]}),U={getId:ne(m),getRoot:ne($),getFooter:()=>Y.map(oe=>oe.get($)),getBody:()=>T.get($),getFormWrapper:()=>{const oe=T.get($);return vn.getCurrent(oe).getOr(oe)},toggleFullscreen:()=>{$8($,w.get())}},te=JS(U,r.redial,L);return{dialog:$,instanceApi:te}};var eE=tinymce.util.Tools.resolve("tinymce.util.URI");const QI=["insertContent","setContent","execCommand","close","block","unblock"],tE=o=>Se(o)&&QI.indexOf(o.mceAction)!==-1,W8=(o,r,a,l)=>{const d=Oe("dialog"),m=L8(o.title,d,l),p=(X=>{const $={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[zD(A.none(),{dom:{tag:"iframe",attributes:{src:X.url}},behaviours:pt([fs.config({}),mo.config({})])})]}],behaviours:pt([Bt.config({mode:"acyclic",useTabstopAt:bs(Qv)})])};return Wr.parts.body($)})(o),b=o.buttons.bind(X=>X.length===0?A.none():A.some(qC({buttons:X},d,l))),x=((X,$)=>{const U=(oe,de)=>et(oe,(he,ke)=>{te(he,(ze,tt)=>{de(W,ze,ke.event,he)})}),te=(oe,de)=>{Bc.getState(oe).get().each(he=>{de(he,oe)})};return[...XS(U,$),U(Nf,(oe,de,he)=>{de.onAction(oe,{name:he.name})})]})(0,z8(()=>Y,l.shared.providers,r)),w={...o.height.fold(()=>({}),X=>({height:X+"px","max-height":X+"px"})),...o.width.fold(()=>({}),X=>({width:X+"px","max-width":X+"px"}))},E=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],C=new eE(o.url,{base_uri:new eE(window.location.href)}),T=`${C.protocol}://${C.host}${C.port?":"+C.port:""}`,B=Cs(),L=[Bc.config({channel:`${lC}-${d}`,updateState:(X,$)=>A.some($),initialData:o}),vo("messages",[ts(()=>{const X=Jn(Ft(window),"message",$=>{if(C.isSameOrigin(new eE($.raw.origin))){const U=$.raw.data;tE(U)?((te,oe,de)=>{switch(de.mceAction){case"insertContent":te.insertContent(de.content);break;case"setContent":te.setContent(de.content);break;case"execCommand":const he=!!St(de.ui)&&de.ui;te.execCommand(de.cmd,he,de.value);break;case"close":oe.close();break;case"block":oe.block(de.message);break;case"unblock":oe.unblock()}})(a,W,U):(te=>!tE(te)&&Se(te)&&jo(te,"mceAction"))(U)&&o.onMessage(W,U)}});B.set(X)}),ad(B.clear)]),Vl.config({channels:{[ZD]:{onReceive:(X,$)=>{Nn(X.element,"iframe").each(U=>{const te=U.dom.contentWindow;Ne(te)&&te.postMessage($,T)})}}}})],Y=l2({id:d,header:m,body:p,footer:b,extraClasses:E,extraBehaviours:L,extraStyles:w},x,l),W=(X=>{const $=U=>{X.getSystem().isConnected()&&U(X)};return{block:U=>{if(!Me(U))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");$(te=>{oo(te,A3,{message:U})})},unblock:()=>{$(U=>{Xo(U,T3)})},close:()=>{$(U=>{Xo(U,qv)})},sendMessage:U=>{$(te=>{te.getSystem().broadcastOn([ZD],U)})}}})(Y);return{dialog:Y,instanceApi:W}},q8=(o,r)=>Ol(Hs("data",r,o)),G8=o=>ep(o,".tox-alert-dialog")||ep(o,".tox-confirm-dialog"),JI=(o,r,a,l)=>r&&a?[]:[Xs.config({contextual:{lazyContext:()=>A.some(Js(Ft(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:l},modes:["top"],lazyViewport:d=>Mm(o,d.element).map(m=>({bounds:Jg(m),optScrollEnv:A.some({currentScrollTop:m.element.dom.scrollTop,scrollElmTop:fr(m.element).top})})).getOrThunk(()=>({bounds:Na(),optScrollEnv:A.none()}))})],eP=o=>{const r=o.editor,a=Kd(r),l=(x=>{const w=x.shared;return{open:(E,C)=>{const T=()=>{Wr.hide(W),C()},B=Ln(pC({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"cancel",x)),L=jS(),Y=$C(T,w.providers),W=Gi(Hb({lazySink:()=>w.getSink(),header:Lf(L,Y),body:WS(E,w.providers),footer:A.some(UC(qS([],[B.asSpec()]))),onEscape:T,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[et(ch,T)],eventOrder:{}}));Wr.show(W);const X=B.get(W);mo.focus(X)}}})(o.backstages.dialog),d=(x=>{const w=x.shared;return{open:(E,C)=>{const T=U=>{Wr.hide(X),C(U)},B=Ln(pC({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"submit",x)),L=pC({context:"any",name:"no",text:"No",primary:!1,buttonType:A.some("secondary"),align:"end",enabled:!0,icon:A.none()},"cancel",x),Y=jS(),W=$C(()=>T(!1),w.providers),X=Gi(Hb({lazySink:()=>w.getSink(),header:Lf(Y,W),body:WS(E,w.providers),footer:A.some(UC(qS([],[L,B.asSpec()]))),onEscape:()=>T(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[et(ch,()=>T(!1)),et(Gv,()=>T(!0))],eventOrder:{}}));Wr.show(X);const $=B.get(X);mo.focus($)}}})(o.backstages.dialog),m=(x,w)=>V1.open((E,C,T)=>{const B=C,L=((Y,W,X)=>{const $=Oe("dialog"),U=Y.internalDialog,te=L8(U.title,$,X),oe=Vt(U.size),de=WC(oe.get()).toArray(),he=((po,$o,gs,Ms)=>{const Rn=US(po,$o,A.none(),gs,!1,Ms);return Wr.parts.body(Rn)})({body:U.body,initialData:U.initialData},$,X,po=>GC(Xt,po)),ke=YS(U.buttons),ze=U8(ke),tt=ci(ke.length!==0,qC({buttons:ke},$,X)),Je=QS(()=>no,z8(()=>bt,X.shared.providers,W),X.shared.getSink),rt={id:$,header:te,body:he,footer:tt,extraClasses:de,extraBehaviours:[Bc.config({channel:`${lC}-${$}`,updateState:(po,$o)=>(oe.set($o.internalDialog.size),V8($o.internalDialog.size,po),A.some($o)),initialData:Y})],extraStyles:{}},bt=l2(rt,Je,X),Xt={getId:ne($),getRoot:ne(bt),getBody:()=>Wr.getBody(bt),getFooter:()=>Wr.getFooter(bt),getFormWrapper:()=>{const po=Wr.getBody(bt);return vn.getCurrent(po).getOr(po)},toggleFullscreen:()=>{$8(bt,oe.get())}},no=JS(Xt,W.redial,ze);return{dialog:bt,instanceApi:no}})({dataValidator:T,initialData:B,internalDialog:E},{redial:V1.redial,closeWindow:()=>{Wr.hide(L.dialog),w(L.instanceApi)}},o.backstages.dialog);return Wr.show(L.dialog),L.instanceApi.setData(B),L.instanceApi},x),p=(x,w,E,C)=>V1.open((T,B,L)=>{const Y=q8(B,L),W=Bn(),X=o.backstages.popup.shared.header.isPositionedAtTop(),$=()=>W.on(de=>{Qs.reposition(de),a&&X||Xs.refresh(de)}),U=j8({dataValidator:L,initialData:Y,internalDialog:T},{redial:V1.redial,closeWindow:()=>{W.on(Qs.hide),r.off("ResizeEditor",$),r.off("ScrollWindow",te),W.clear(),E(U.instanceApi)}},o.backstages.popup,C.ariaAttrs,$),te=()=>U.dialog.getSystem().broadcastOn([Sf()],{target:U.dialog.element}),oe=Gi(Qs.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:C.persistent?{event:"doNotDismissYet"}:{},...X?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pt([vo("window-manager-inline-events",[et(up(),(de,he)=>{Xo(U.dialog,ch)})]),...JI(r,a,X,()=>U.dialog.getSystem().broadcastOn([Tm()],{target:U.dialog.element}))]),isExtraPart:(de,he)=>G8(he)}));return W.set(oe),Qs.showWithinBounds(oe,cd(U.dialog),{anchor:w},()=>{const de=r.inline?ue():Ft(r.getContainer()),he=Js(de);return A.some(he)}),a&&X||(Xs.refresh(oe),r.on("ResizeEditor",$)),r.on("ScrollWindow",te),U.instanceApi.setData(Y),Bt.focusIn(U.dialog),U.instanceApi},x),b=(x,w,E,C)=>V1.open((T,B,L)=>{const Y=q8(B,L),W=Bn(),X=o.backstages.popup.shared.header.isPositionedAtTop(),$=()=>W.on(oe=>{Qs.reposition(oe),Xs.refresh(oe)}),U=j8({dataValidator:L,initialData:Y,internalDialog:T},{redial:V1.redial,closeWindow:()=>{W.on(Qs.hide),r.off("ResizeEditor ScrollWindow ElementScroll",$),W.clear(),E(U.instanceApi)}},o.backstages.popup,C.ariaAttrs,$),te=Gi(Qs.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:C.persistent?{event:"doNotDismissYet"}:{},...X?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pt([vo("window-manager-inline-events",[et(up(),(oe,de)=>{Xo(U.dialog,ch)})]),Xs.config({contextual:{lazyContext:()=>A.some(Js(Ft(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:oe=>Mm(r,oe.element).map(de=>({bounds:Jg(de),optScrollEnv:A.some({currentScrollTop:de.element.dom.scrollTop,scrollElmTop:fr(de.element).top})})).getOrThunk(()=>({bounds:Na(),optScrollEnv:A.none()}))})]),isExtraPart:(oe,de)=>G8(de)}));return W.set(te),Qs.showWithinBounds(te,cd(U.dialog),{anchor:w},()=>o.backstages.popup.shared.getSink().toOptional().bind(oe=>{const de=Mm(r,oe.element).map(ze=>Jg(ze)).getOr(Na()),he=Js(Ft(r.getContentAreaContainer())),ke=ug(he,de);return A.some(zs(ke.x,ke.y,ke.width,ke.height-15))})),Xs.refresh(te),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",$),U.instanceApi.setData(Y),Bt.focusIn(U.dialog),U.instanceApi},x);return{open:(x,w,E)=>{if(!$t(w)){if(w.inline==="toolbar")return p(x,o.backstages.popup.shared.anchors.inlineDialog(),E,w);if(w.inline==="bottom")return b(x,o.backstages.popup.shared.anchors.inlineBottomDialog(),E,w);if(w.inline==="cursor")return p(x,o.backstages.popup.shared.anchors.cursor(),E,w)}return m(x,E)},openUrl:(x,w)=>((E,C)=>V1.openUrl(T=>{const B=W8(T,{closeWindow:()=>{Wr.hide(B.dialog),C(B.instanceApi)}},r,o.backstages.dialog);return Wr.show(B.dialog),B.instanceApi},E))(x,w),alert:(x,w)=>{l.open(x,w)},close:x=>{x.close()},confirm:(x,w)=>{d.open(x,w)}}},K8=o=>{Yk(o),(r=>{const a=r.options.register,l=m=>{return ut(m,Me)?{value:(p=m,v3(p.map((b,x)=>x%2==0?"#"+(w=>{return(E=w,i3(E)?A.some({value:l3(E)}):A.none()).orThunk(()=>m3(w).map(_b)).getOrThunk(()=>{const C=document.createElement("canvas");C.height=1,C.width=1;const T=C.getContext("2d");T.clearRect(0,0,C.width,C.height),T.fillStyle="#FFFFFF",T.fillStyle=w,T.fillRect(0,0,1,1);const B=T.getImageData(0,0,1,1).data,L=B[0],Y=B[1],W=B[2],X=B[3];return _b(bl(L,Y,W,X))});var E})(b).value:b))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var p},d=m=>kt(m)&&m>0?{value:m,valid:!0}:{valid:!1,message:"Must be a positive number."};a("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),a("color_map_raw",{processor:m=>ut(m,Me)?{value:v3(m),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),a("color_map_background",{processor:l}),a("color_map_foreground",{processor:l}),a("color_cols",{processor:d,default:Uv(r)}),a("color_cols_foreground",{processor:d,default:eC(r,x3)}),a("color_cols_background",{processor:d,default:eC(r,Qw)}),a("custom_colors",{processor:"boolean",default:!0}),a("color_default_foreground",{processor:"string",default:Jw}),a("color_default_background",{processor:"string",default:Jw})})(o),(r=>{const a=r.options.register;a("contextmenu_avoid_overlap",{processor:"string",default:""}),a("contextmenu_never_use_native",{processor:"boolean",default:!1}),a("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:Me(l)||ut(l,Me)?{value:jI(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(o)};aw.add("silver",o=>{K8(o);let r=()=>Na();const{dialogs:a,popups:l,renderUI:d}=J1(o,{getPopupSinkBounds:()=>r()});CD(o,l.backstage.shared);const m=eP({editor:o,backstages:{popup:l.backstage,dialog:a.backstage}}),p=Bn();return{renderUI:()=>{const b=d();return Mm(o,l.getMothership().element).each(x=>{r=()=>Jg(x)}),b},getWindowManagerImpl:ne(m),getNotificationManagerImpl:()=>rM(o,{backstage:l.backstage},l.getMothership(),p),getPromotionElement:()=>Nn(Ft(o.getContainer()),".tox-promotion").map(b=>b.dom).getOrNull()}})})();(function(){var re=tinymce.util.Tools.resolve("tinymce.ModelManager");const ye=f=>h=>(y=>{const _=typeof y;return y===null?"null":_==="object"&&Array.isArray(y)?"array":_==="object"&&(D=N=y,(F=String).prototype.isPrototypeOf(D)||((V=N.constructor)===null||V===void 0?void 0:V.name)===F.name)?"string":_;var D,N,F,V})(h)===f,Be=f=>h=>typeof h===f,Ie=f=>h=>f===h,Ye=ye("string"),Me=ye("object"),Se=ye("array"),Ve=Ie(null),Ue=Be("boolean"),ot=Ie(void 0),St=f=>!(h=>h==null)(f),$t=Be("function"),xt=Be("number"),Ne=()=>{},yt=f=>()=>f,kt=f=>f,ut=(f,h)=>f===h;function xe(f,...h){return(...y)=>{const _=h.concat(y);return f.apply(null,_)}}const He=f=>h=>!f(h),We=f=>f(),ne=yt(!1),Ct=yt(!0);class pe{constructor(h,y){this.tag=h,this.value=y}static some(h){return new pe(!0,h)}static none(){return pe.singletonNone}fold(h,y){return this.tag?y(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?pe.some(h(this.value)):pe.none()}bind(h){return this.tag?h(this.value):pe.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:pe.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return St(h)?pe.some(h):pe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}pe.singletonNone=new pe(!1);const yn=Array.prototype.slice,bs=Array.prototype.indexOf,wn=Array.prototype.push,tn=(f,h)=>{return y=f,_=h,bs.call(y,_)>-1;var y,_},Qe=(f,h)=>{for(let y=0,_=f.length;y<_;y++)if(h(f[y],y))return!0;return!1},Jt=(f,h)=>{const y=[];for(let _=0;_<f;_++)y.push(h(_));return y},A=(f,h)=>{const y=f.length,_=new Array(y);for(let D=0;D<y;D++){const N=f[D];_[D]=h(N,D)}return _},Bo=(f,h)=>{for(let y=0,_=f.length;y<_;y++)h(f[y],y)},To=(f,h)=>{const y=[],_=[];for(let D=0,N=f.length;D<N;D++){const F=f[D];(h(F,D)?y:_).push(F)}return{pass:y,fail:_}},$n=(f,h)=>{const y=[];for(let _=0,D=f.length;_<D;_++){const N=f[_];h(N,_)&&y.push(N)}return y},ta=(f,h,y)=>(((_,D)=>{for(let N=_.length-1;N>=0;N--)D(_[N],N)})(f,(_,D)=>{y=h(y,_,D)}),y),Et=(f,h,y)=>(Bo(f,(_,D)=>{y=h(y,_,D)}),y),Tn=(f,h)=>((y,_,D)=>{for(let N=0,F=y.length;N<F;N++){const V=y[N];if(_(V,N))return pe.some(V);if(D(V,N))break}return pe.none()})(f,h,ne),Ci=(f,h)=>{for(let y=0,_=f.length;y<_;y++)if(h(f[y],y))return pe.some(y);return pe.none()},Ze=f=>{const h=[];for(let y=0,_=f.length;y<_;++y){if(!Se(f[y]))throw new Error("Arr.flatten item "+y+" was not an array, input: "+f);wn.apply(h,f[y])}return h},Ee=(f,h)=>Ze(A(f,h)),gt=(f,h)=>{for(let y=0,_=f.length;y<_;++y)if(h(f[y],y)!==!0)return!1;return!0},dn=(f,h)=>{const y={};for(let _=0,D=f.length;_<D;_++){const N=f[_];y[String(N)]=h(N,_)}return y},Do=(f,h)=>h>=0&&h<f.length?pe.some(f[h]):pe.none(),So=f=>Do(f,0),qo=f=>Do(f,f.length-1),z=(f,h)=>{for(let y=0;y<f.length;y++){const _=h(f[y],y);if(_.isSome())return _}return pe.none()},dr=Object.keys,Is=Object.hasOwnProperty,Uo=(f,h)=>{const y=dr(f);for(let _=0,D=y.length;_<D;_++){const N=y[_];h(f[N],N)}},_i=(f,h)=>oa(f,(y,_)=>({k:_,v:h(y,_)})),oa=(f,h)=>{const y={};return Uo(f,(_,D)=>{const N=h(_,D);y[N.k]=N.v}),y},on=(f,h)=>{const y=[];return Uo(f,(_,D)=>{y.push(h(_,D))}),y},Kn=f=>on(f,kt),Yo=(f,h)=>Is.call(f,h),st=f=>{if(!Se(f))throw new Error("cases must be an array");if(f.length===0)throw new Error("there must be at least one case");const h=[],y={};return Bo(f,(_,D)=>{const N=dr(_);if(N.length!==1)throw new Error("one and only one name per case");const F=N[0],V=_[F];if(y[F]!==void 0)throw new Error("duplicate key detected:"+F);if(F==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Se(V))throw new Error("case arguments must be an array");h.push(F),y[F]=(...ee)=>{const ce=ee.length;if(ce!==V.length)throw new Error("Wrong number of arguments to case "+F+". Expected "+V.length+" ("+V+"), got "+ce);return{fold:(...we)=>{if(we.length!==f.length)throw new Error("Wrong number of arguments to fold. Expected "+f.length+", got "+we.length);return we[D].apply(null,ee)},match:we=>{const ie=dr(we);if(h.length!==ie.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+ie.join(","));if(!gt(h,be=>tn(ie,be)))throw new Error("Not all branches were specified when using match. Specified: "+ie.join(", ")+`
Required: `+h.join(", "));return we[F].apply(null,ee)},log:we=>{console.log(we,{constructors:h,constructor:F,params:ee})}}}}),y},Wl=f=>{let h=f;return{get:()=>h,set:y=>{h=y}}},br=f=>f.slice(0).sort(),Co=(f,h)=>{const y=$n(h,_=>!tn(f,_));y.length>0&&(_=>{throw new Error("Unsupported keys for object: "+br(_).join(", "))})(y)},yc=f=>((h,y)=>((_,D,N)=>{if(D.length===0)throw new Error("You must specify at least one required field.");return((F,V)=>{if(!Se(V))throw new Error("The "+F+" fields must be an array. Was: "+V+".");Bo(V,ee=>{if(!Ye(ee))throw new Error("The value "+ee+" in the "+F+" fields was not a string.")})})("required",D),(F=>{const V=br(F);Tn(V,(ee,ce)=>ce<V.length-1&&ee===V[ce+1]).each(ee=>{throw new Error("The field: "+ee+" occurs more than once in the combined fields: ["+V.join(", ")+"].")})})(D),F=>{const V=dr(F);gt(D,ce=>tn(V,ce))||((ce,we)=>{throw new Error("All required keys ("+br(ce).join(", ")+") were not specified. Specified keys were: "+br(we).join(", ")+".")})(D,V),_(D,V);const ee=$n(D,ce=>!N.validate(F[ce],ce));return ee.length>0&&((ce,we)=>{throw new Error("All values need to be of type: "+we+". Keys ("+br(ce).join(", ")+") were not.")})(ee,N.label),F}})(h,y,{validate:$t,label:"function"}))(Co,f),ws=f=>{const h=N=>N(f),y=yt(f),_=()=>D,D={tag:!0,inner:f,fold:(N,F)=>F(f),isValue:Ct,isError:ne,map:N=>js.value(N(f)),mapError:_,bind:h,exists:h,forall:h,getOr:y,or:_,getOrThunk:y,orThunk:_,getOrDie:y,each:N=>{N(f)},toOptional:()=>pe.some(f)};return D},Zs=f=>{const h=()=>y,y={tag:!1,inner:f,fold:(D,N)=>D(f),isValue:ne,isError:Ct,map:h,mapError:D=>js.error(D(f)),bind:h,exists:ne,forall:Ct,getOr:kt,or:kt,getOrThunk:We,orThunk:We,getOrDie:(_=String(f),()=>{throw new Error(_)}),each:Ne,toOptional:pe.none};var _;return y},js={value:ws,error:Zs,fromOption:(f,h)=>f.fold(()=>Zs(h),ws)},ur=typeof window<"u"?window:Function("return this;")(),Ss=f=>{const h=f.replace(/\./g,"-");return{resolve:y=>h+"-"+y}},na=(f,h,y=ut)=>f.exists(_=>y(_,h)),hn=f=>{const h=[],y=_=>{h.push(_)};for(let _=0;_<f.length;_++)f[_].each(y);return h},tl=(f,h)=>f?pe.some(h):pe.none(),ol=(f,h)=>((y,_)=>{let D=_??ur;for(let N=0;N<y.length&&D!=null;++N)D=D[y[N]];return D})(f.split("."),h),Ya=()=>{const f=(h=>{const y=Wl(pe.none()),_=()=>y.get().each(h);return{clear:()=>{_(),y.set(pe.none())},isSet:()=>y.get().isSome(),get:()=>y.get(),set:D=>{_(),y.set(pe.some(D))}}})(Ne);return{...f,on:h=>f.get().each(h)}},ki=(f,h,y)=>h===""||f.length>=h.length&&f.substr(y,y+h.length)===h,nr=(f,h,y=0,_)=>{const D=f.indexOf(h,y);return D!==-1&&(!!ot(_)||D+h.length<=_)},Kt=(f,h)=>ki(f,h,0),jo=(f,h)=>ki(f,h,f.length-h.length),xs=(f=>h=>h.replace(f,""))(/^\s+|\s+$/g),Ir=f=>f.length>0,Vt=f=>{let h,y=!1;return(..._)=>(y||(y=!0,h=f.apply(null,_)),h)},Pr=["tfoot","thead","tbody","colgroup"],tu=(f,h,y)=>({element:f,rowspan:h,colspan:y}),Un=(f,h,y)=>({element:f,cells:h,section:y}),jn=(f,h,y)=>({element:f,isNew:h,isLocked:y}),sa=(f,h,y,_)=>({element:f,cells:h,section:y,isNew:_}),Tr=(f,h,y)=>{const _=f.cells,D=_.slice(0,h),N=_.slice(h),F=D.concat(y).concat(N);return Fo(f,F)},ou=(f,h,y)=>Tr(f,h,[y]),Zc=(f,h,y)=>{f.cells[h]=y},Fo=(f,h)=>sa(f.element,h,f.section,f.isNew),mr=(f,h)=>f.cells[h],pa=(f,h)=>mr(f,h).element,_n=f=>f.cells.length,Qt=f=>{const h=To(f,y=>y.section==="colgroup");return{rows:h.fail,cols:h.pass}},Lr=(f,h,y)=>{const _=A(f.cells,y);return sa(h(f.element),_,f.section,!0)},wc=f=>{if(f==null)throw new Error("Node cannot be null or undefined");return{dom:f}},Oe={fromHtml:(f,h)=>{const y=(h||document).createElement("div");if(y.innerHTML=f,!y.hasChildNodes()||y.childNodes.length>1){const _="HTML does not have a single root node";throw console.error(_,f),new Error(_)}return wc(y.childNodes[0])},fromTag:(f,h)=>{const y=(h||document).createElement(f);return wc(y)},fromText:(f,h)=>{const y=(h||document).createTextNode(f);return wc(y)},fromDom:wc,fromPoint:(f,h,y)=>pe.from(f.dom.elementFromPoint(h,y)).map(wc)},ka=(f,h)=>{const y=f.document.createRange();return y.selectNode(h.dom),y},Wo=(f,h)=>{const y=f.document.createRange();return nu(y,h),y},nu=(f,h)=>f.selectNodeContents(h.dom),Sa=(f,h,y)=>{const _=f.document.createRange();var D;return D=_,h.fold(N=>{D.setStartBefore(N.dom)},(N,F)=>{D.setStart(N.dom,F)},N=>{D.setStartAfter(N.dom)}),((N,F)=>{F.fold(V=>{N.setEndBefore(V.dom)},(V,ee)=>{N.setEnd(V.dom,ee)},V=>{N.setEndAfter(V.dom)})})(_,y),_},ql=(f,h,y,_,D)=>{const N=f.document.createRange();return N.setStart(h.dom,y),N.setEnd(_.dom,D),N},xr=f=>({left:f.left,top:f.top,right:f.right,bottom:f.bottom,width:f.width,height:f.height}),Cc=st([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ci=(f,h,y)=>h(Oe.fromDom(y.startContainer),y.startOffset,Oe.fromDom(y.endContainer),y.endOffset),yd=(f,h)=>{const y=((_,D)=>D.match({domRange:N=>({ltr:yt(N),rtl:pe.none}),relative:(N,F)=>({ltr:Vt(()=>Sa(_,N,F)),rtl:Vt(()=>pe.some(Sa(_,F,N)))}),exact:(N,F,V,ee)=>({ltr:Vt(()=>ql(_,N,F,V,ee)),rtl:Vt(()=>pe.some(ql(_,V,ee,N,F)))})}))(f,h);return((_,D)=>{const N=D.ltr();return N.collapsed?D.rtl().filter(F=>F.collapsed===!1).map(F=>Cc.rtl(Oe.fromDom(F.endContainer),F.endOffset,Oe.fromDom(F.startContainer),F.startOffset)).getOrThunk(()=>ci(0,Cc.ltr,N)):ci(0,Cc.ltr,N)})(0,y)},Ps=(f,h)=>yd(f,h).match({ltr:(y,_,D,N)=>{const F=f.document.createRange();return F.setStart(y.dom,_),F.setEnd(D.dom,N),F},rtl:(y,_,D,N)=>{const F=f.document.createRange();return F.setStart(D.dom,N),F.setEnd(y.dom,_),F}});Cc.ltr,Cc.rtl;const Cs=(f,h)=>{const y=f.dom;if(y.nodeType!==1)return!1;{const _=y;if(_.matches!==void 0)return _.matches(h);if(_.msMatchesSelector!==void 0)return _.msMatchesSelector(h);if(_.webkitMatchesSelector!==void 0)return _.webkitMatchesSelector(h);if(_.mozMatchesSelector!==void 0)return _.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},Bn=f=>f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11||f.childElementCount===0,Mi=(f,h)=>{const y=h===void 0?document:h.dom;return Bn(y)?pe.none():pe.from(y.querySelector(f)).map(Oe.fromDom)},Yn=(f,h)=>f.dom===h.dom,Es=(f,h)=>{const y=f.dom,_=h.dom;return y!==_&&y.contains(_)},_c=Cs,Si=()=>Gl(0,0),Gl=(f,h)=>({major:f,minor:h}),Kl={nu:Gl,detect:(f,h)=>{const y=String(h).toLowerCase();return f.length===0?Si():((_,D)=>{const N=((V,ee)=>{for(let ce=0;ce<V.length;ce++){const we=V[ce];if(we.test(ee))return we}})(_,D);if(!N)return{major:0,minor:0};const F=V=>Number(D.replace(N,"$"+V));return Gl(F(1),F(2))})(f,y)},unknown:Si},sr=(f,h)=>{const y=String(h).toLowerCase();return Tn(f,_=>_.search(y))},su=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rr=f=>h=>nr(h,f),ru=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:f=>nr(f,"edge/")&&nr(f,"chrome")&&nr(f,"safari")&&nr(f,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,su],search:f=>nr(f,"chrome")&&!nr(f,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:f=>nr(f,"msie")||nr(f,"trident")},{name:"Opera",versionRegexes:[su,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rr("firefox")},{name:"Safari",versionRegexes:[su,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:f=>(nr(f,"safari")||nr(f,"mobile/"))&&nr(f,"applewebkit")}],Um=[{name:"Windows",search:rr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:f=>nr(f,"iphone")||nr(f,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:rr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rr("linux"),versionRegexes:[]},{name:"Solaris",search:rr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yl={browsers:yt(ru),oses:yt(Um)},Ku="Edge",Ft="Chromium",nl="Opera",au="Firefox",wd="Safari",Xl=f=>{const h=f.current,y=f.version,_=D=>()=>h===D;return{current:h,version:y,isEdge:_(Ku),isChromium:_(Ft),isIE:_("IE"),isOpera:_(nl),isFirefox:_(au),isSafari:_(wd)}},Dr=()=>Xl({current:void 0,version:Kl.unknown()}),ar=Xl,Yu="Windows",Pa="Android",jc="Linux",jf="macOS",In="Solaris",La="FreeBSD",Wc="ChromeOS",Ql=f=>{const h=f.current,y=f.version,_=D=>()=>h===D;return{current:h,version:y,isWindows:_(Yu),isiOS:_("iOS"),isAndroid:_(Pa),isMacOS:_(jf),isLinux:_(jc),isSolaris:_(In),isFreeBSD:_(La),isChromeOS:_(Wc)}},Cl=()=>Ql({current:void 0,version:Kl.unknown()}),Xa=Ql,qc=f=>window.matchMedia(f).matches;let ir=Vt(()=>((f,h,y)=>{const _=Yl.browsers(),D=Yl.oses(),N=h.bind(ee=>((ce,we)=>z(we.brands,ie=>{const be=ie.brand.toLowerCase();return Tn(ce,fe=>{var De;return be===((De=fe.brand)===null||De===void 0?void 0:De.toLowerCase())}).map(fe=>({current:fe.name,version:Kl.nu(parseInt(ie.version,10),0)}))}))(_,ee)).orThunk(()=>((ee,ce)=>sr(ee,ce).map(we=>{const ie=Kl.detect(we.versionRegexes,ce);return{current:we.name,version:ie}}))(_,f)).fold(Dr,ar),F=((ee,ce)=>sr(ee,ce).map(we=>{const ie=Kl.detect(we.versionRegexes,ce);return{current:we.name,version:ie}}))(D,f).fold(Cl,Xa),V=((ee,ce,we,ie)=>{const be=ee.isiOS()&&/ipad/i.test(we)===!0,fe=ee.isiOS()&&!be,De=ee.isiOS()||ee.isAndroid(),Te=De||ie("(pointer:coarse)"),nt=be||!fe&&De&&ie("(min-device-width:768px)"),it=fe||De&&!nt,ht=ce.isSafari()&&ee.isiOS()&&/safari/i.test(we)===!1,vt=!it&&!nt&&!ht;return{isiPad:yt(be),isiPhone:yt(fe),isTablet:yt(nt),isPhone:yt(it),isTouch:yt(Te),isAndroid:ee.isAndroid,isiOS:ee.isiOS,isWebView:yt(ht),isDesktop:yt(vt)}})(F,N,f,y);return{browser:N,os:F,deviceType:V}})(window.navigator.userAgent,pe.from(window.navigator.userAgentData),qc));const Ea=()=>ir(),Ls=Object.getPrototypeOf,ga=f=>{const h=ol("ownerDocument.defaultView",f);return Me(f)&&((y=>((_,D)=>{const N=((F,V)=>ol(F,V))(_,D);if(N==null)throw new Error(_+" not available on this browser");return N})("HTMLElement",y))(h).prototype.isPrototypeOf(f)||/^HTML\w*Element$/.test(Ls(f).constructor.name))},Fs=f=>f.dom.nodeName.toLowerCase(),Gc=f=>f.dom.nodeType,Jl=f=>h=>Gc(h)===f,Cd=f=>Gc(f)===8||Fs(f)==="#comment",iu=f=>vr(f)&&ga(f.dom),vr=Jl(1),_l=Jl(3),ec=Jl(9),_d=Jl(11),Fr=f=>h=>vr(h)&&Fs(h)===f,kd=f=>Oe.fromDom(f.dom.ownerDocument),ra=f=>ec(f)?f:kd(f),tc=f=>pe.from(f.dom.parentNode).map(Oe.fromDom),lu=f=>pe.from(f.dom.parentElement).map(Oe.fromDom),Zm=(f,h)=>{const y=$t(h)?h:ne;let _=f.dom;const D=[];for(;_.parentNode!==null&&_.parentNode!==void 0;){const N=_.parentNode,F=Oe.fromDom(N);if(D.push(F),y(F)===!0)break;_=N}return D},Xu=f=>pe.from(f.dom.previousSibling).map(Oe.fromDom),Kc=f=>pe.from(f.dom.nextSibling).map(Oe.fromDom),Fa=f=>A(f.dom.childNodes,Oe.fromDom),Z=(f,h)=>{const y=f.dom.childNodes;return pe.from(y[h]).map(Oe.fromDom)},ae=f=>_d(f)&&St(f.dom.host),Ce=f=>Oe.fromDom(f.dom.getRootNode()),at=f=>Oe.fromDom(f.dom.host),Nt=f=>{const h=Oe.fromDom((V=>{if(St(V.target)){const ee=Oe.fromDom(V.target);if(vr(ee)&&St(ee.dom.shadowRoot)&&V.composed&&V.composedPath){const ce=V.composedPath();if(ce)return So(ce)}}return pe.from(V.target)})(f).getOr(f.target)),y=()=>f.stopPropagation(),_=()=>f.preventDefault(),D=(N=_,F=y,(...V)=>N(F.apply(null,V)));var N,F;return((V,ee,ce,we,ie,be,fe)=>({target:V,x:ee,y:ce,stop:we,prevent:ie,kill:be,raw:fe}))(h,f.clientX,f.clientY,y,_,D,f)},Ut=(f,h,y,_)=>{f.dom.removeEventListener(h,y,_)},zo=Ct,cs=(f,h,y)=>((_,D,N,F)=>((V,ee,ce,we,ie)=>{const be=((fe,De)=>Te=>{fe(Te)&&De(Nt(Te))})(ce,we);return V.dom.addEventListener(ee,be,ie),{unbind:xe(Ut,V,ee,be,ie)}})(_,D,N,F,!1))(f,h,zo,y),Ho=Nt,I=(f,h)=>{tc(f).each(y=>{y.dom.insertBefore(h.dom,f.dom)})},K=(f,h)=>{Kc(f).fold(()=>{tc(f).each(y=>{Ae(y,h)})},y=>{I(y,h)})},me=(f,h)=>{(_=>Z(_,0))(f).fold(()=>{Ae(f,h)},_=>{f.dom.insertBefore(h.dom,_.dom)})},Ae=(f,h)=>{f.dom.appendChild(h.dom)},jt=(f,h)=>{I(f,h),Ae(h,f)},ln=(f,h)=>{Bo(h,(y,_)=>{const D=_===0?f:h[_-1];K(D,y)})},Xn=(f,h)=>{Bo(h,y=>{Ae(f,y)})},zr=(f,h,y)=>{if(!(Ye(y)||Ue(y)||xt(y)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",y,":: Element ",f),new Error("Attribute value was not simple");f.setAttribute(h,y+"")},Pn=(f,h,y)=>{zr(f.dom,h,y)},aa=(f,h)=>{const y=f.dom;Uo(h,(_,D)=>{zr(y,D,_)})},ia=(f,h)=>{const y=f.dom.getAttribute(h);return y===null?void 0:y},Or=(f,h)=>pe.from(ia(f,h)),ds=(f,h)=>{f.dom.removeAttribute(h)},jm=f=>Et(f.dom.attributes,(h,y)=>(h[y.name]=y.value,h),{}),Qu=f=>{f.dom.textContent="",Bo(Fa(f),h=>{Qa(h)})},Qa=f=>{const h=f.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},kl=f=>{const h=Fa(f);h.length>0&&ln(f,h),Qa(f)},Aa=(f,h)=>Oe.fromDom(f.dom.cloneNode(h)),Sd=f=>Aa(f,!1),Sl=f=>Aa(f,!0),Wf=(f,h)=>{const y=Oe.fromTag(h),_=jm(f);return aa(y,_),y},Ju=f=>f.style!==void 0&&$t(f.style.getPropertyValue),Yc=f=>{const h=_l(f)?f.dom.parentNode:f.dom;if(h==null||h.ownerDocument===null)return!1;const y=h.ownerDocument;return(N=>{const F=Ce(N);return ae(F)?pe.some(F):pe.none()})(Oe.fromDom(h)).fold(()=>y.body.contains(h),(_=Yc,D=at,N=>_(D(N))));var _,D},em=(f,h,y)=>{if(!Ye(y))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",y,":: Element ",f),new Error("CSS value must be a string: "+y);Ju(f)&&f.style.setProperty(h,y)},ha=(f,h,y)=>{const _=f.dom;em(_,h,y)},Jn=(f,h)=>{const y=f.dom;Uo(h,(_,D)=>{em(y,D,_)})},El=(f,h)=>{const y=f.dom,_=window.getComputedStyle(y).getPropertyValue(h);return _!==""||Yc(f)?_:Sh(y,h)},Sh=(f,h)=>Ju(f)?f.style.getPropertyValue(h):"",Wm=(f,h)=>{const y=f.dom,_=Sh(y,h);return pe.from(_).filter(D=>D.length>0)},Ws=(f,h)=>{((y,_)=>{Ju(y)&&y.style.removeProperty(_)})(f.dom,h),na(Or(f,"style").map(xs),"")&&ds(f,"style")},kc=(f,h)=>{const y=D=>{const N=h(D);if(N<=0||N===null){const F=El(D,f);return parseFloat(F)||0}return N},_=(D,N)=>Et(N,(F,V)=>{const ee=El(D,V),ce=ee===void 0?0:parseInt(ee,10);return isNaN(ce)?F:F+ce},0);return{set:(D,N)=>{if(!xt(N)&&!N.match(/^[0-9]+$/))throw new Error(f+".set accepts only positive integer values. Value was "+N);const F=D.dom;Ju(F)&&(F.style[f]=N+"px")},get:y,getOuter:y,aggregate:_,max:(D,N,F)=>{const V=_(D,F);return N>V?N-V:0}}},oc=(f,h,y)=>((_,D)=>(N=>{const F=parseFloat(N);return isNaN(F)?pe.none():pe.some(F)})(_).getOr(D))(El(f,h),y),Al=kc("height",f=>{const h=f.dom;return Yc(f)?h.getBoundingClientRect().height:h.offsetHeight}),As=f=>Al.get(f),Bi=f=>Al.getOuter(f),cu=kc("width",f=>f.dom.offsetWidth),Ed=f=>cu.get(f),Vo=f=>cu.getOuter(f),ig=f=>((h,y)=>{const _=h.dom,D=_.getBoundingClientRect().width||_.offsetWidth;return((N,F,V,ee)=>F-oc(N,`padding-${V}`,0)-oc(N,`padding-${ee}`,0)-oc(N,`border-${V}-width`,0)-oc(N,`border-${ee}-width`,0))(h,D,"left","right")})(f),lg=(f,h)=>({left:f,top:h,translate:(y,_)=>lg(f+y,h+_)}),bo=lg,qf=(f,h)=>f!==void 0?f:h!==void 0?h:0,yr=f=>{const h=f.dom.ownerDocument,y=h.body,_=h.defaultView,D=h.documentElement;if(y===f.dom)return bo(y.offsetLeft,y.offsetTop);const N=qf(_==null?void 0:_.pageYOffset,D.scrollTop),F=qf(_==null?void 0:_.pageXOffset,D.scrollLeft),V=qf(D.clientTop,y.clientTop),ee=qf(D.clientLeft,y.clientLeft);return Ta(f).translate(F-ee,N-V)},Ta=f=>{const h=f.dom,y=h.ownerDocument.body;return y===h?bo(y.offsetLeft,y.offsetTop):Yc(f)?(_=>{const D=_.getBoundingClientRect();return bo(D.left,D.top)})(h):bo(0,0)},Gf=(f=>{const h=y=>f(y)?pe.from(y.dom.nodeValue):pe.none();return{get:y=>{if(!f(y))throw new Error("Can only get text value of a text node");return h(y).getOr("")},getOption:h,set:(y,_)=>{if(!f(y))throw new Error("Can only set raw text value of a text node");y.dom.nodeValue=_}}})(_l),qs=f=>Gf.get(f),cg=f=>Gf.getOption(f),Ad=(f,h)=>Gf.set(f,h),Dt=(f,h)=>y=>Eh(y)==="rtl"?h:f,Eh=f=>El(f,"direction")==="rtl"?"rtl":"ltr";var tm=(f,h,y,_,D)=>f(y,_)?pe.some(y):$t(D)&&D(y)?pe.none():h(y,_,D);const qm=(f,h,y)=>{let _=f.dom;const D=$t(y)?y:ne;for(;_.parentNode;){_=_.parentNode;const N=Oe.fromDom(_);if(h(N))return pe.some(N);if(D(N))break}return pe.none()},Sc=(f,h,y)=>tm((_,D)=>D(_),qm,f,h,y),za=(f,h,y)=>qm(f,_=>Cs(_,h),y),ue=(f,h)=>(y=>Tn(y.dom.childNodes,_=>{return D=Oe.fromDom(_),Cs(D,h);var D}).map(Oe.fromDom))(f),Kf=(f,h)=>Mi(h,f),Nr=(f,h,y)=>tm((_,D)=>Cs(_,D),za,f,h,y),dg=f=>f.dom.classList!==void 0,Eo=(f,h)=>((y,_,D)=>{const N=((F,V)=>{const ee=ia(F,V);return ee===void 0||ee===""?[]:ee.split(" ")})(y,_).concat([D]);return Pn(y,_,N.join(" ")),!0})(f,"class",h),Ei=(f,h)=>{dg(f)?f.dom.classList.add(h):Eo(f,h)},Td=(f,h)=>dg(f)&&f.dom.classList.contains(h),Ha=f=>Nr(f,"[contenteditable]"),Gm=(f,h=!1)=>Yc(f)?f.dom.isContentEditable:Ha(f).fold(yt(h),y=>ba(y)==="true"),ba=f=>f.dom.contentEditable,Km=(f,h)=>{let y=[];return Bo(Fa(f),_=>{h(_)&&(y=y.concat([_])),y=y.concat(Km(_,h))}),y},Dd=(f,h,y)=>((_,D,N)=>$n(Zm(_,N),F=>Cs(F,h)))(f,0,y),un=(f,h)=>(y=>$n(Fa(y),_=>Cs(_,h)))(f),Va=(f,h)=>((y,_)=>{const D=_===void 0?document:_.dom;return Bn(D)?[]:A(D.querySelectorAll(y),Oe.fromDom)})(h,f),sl=f=>Fs(f)==="img"?1:cg(f).fold(()=>Fa(f).length,h=>h.length),Tl=["img","br"],Gs=f=>cg(f).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||tn(Tl,Fs(f))||(h=>iu(h)&&ia(h,"contenteditable")==="false")(f),rl=f=>((h,y)=>{const _=D=>{for(let N=0;N<D.childNodes.length;N++){const F=Oe.fromDom(D.childNodes[N]);if(y(F))return pe.some(F);const V=_(D.childNodes[N]);if(V.isSome())return V}return pe.none()};return _(h.dom)})(f,Gs),du=f=>bn(f,Gs),bn=(f,h)=>{const y=_=>{const D=Fa(_);for(let N=D.length-1;N>=0;N--){const F=D[N];if(h(F))return pe.some(F);const V=y(F);if(V.isSome())return V}return pe.none()};return y(f)},Ii=(f,h,y,_)=>({start:f,soffset:h,finish:y,foffset:_}),$a=st([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),No={before:$a.before,on:$a.on,after:$a.after,cata:(f,h,y,_)=>f.fold(h,y,_),getStart:f=>f.fold(kt,kt,kt)},Xc=st([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Qc={domRange:Xc.domRange,relative:Xc.relative,exact:Xc.exact,exactFromRange:f=>Xc.exact(f.start,f.soffset,f.finish,f.foffset),getWin:f=>{const h=(y=>y.match({domRange:_=>Oe.fromDom(_.startContainer),relative:(_,D)=>No.getStart(_),exact:(_,D,N,F)=>_}))(f);return Oe.fromDom(ra(h).dom.defaultView)},range:Ii},us=(f,h)=>{const y=Fs(f);return y==="input"?No.after(f):tn(["br","img"],y)?h===0?No.before(f):No.after(f):No.on(f,h)},Dl=f=>pe.from(f.getSelection()),fr=(f,h)=>{Dl(f).each(y=>{y.removeAllRanges(),y.addRange(h)})},xa=(f,h,y,_,D)=>{const N=ql(f,h,y,_,D);fr(f,N)},Pi=(f,h)=>yd(f,h).match({ltr:(y,_,D,N)=>{xa(f,y,_,D,N)},rtl:(y,_,D,N)=>{Dl(f).each(F=>{if(F.setBaseAndExtent)F.setBaseAndExtent(y.dom,_,D.dom,N);else if(F.extend)try{((V,ee,ce,we,ie,be)=>{ee.collapse(ce.dom,we),ee.extend(ie.dom,be)})(0,F,y,_,D,N)}catch{xa(f,D,N,y,_)}else xa(f,D,N,y,_)})}}),Ym=(f,h,y,_,D)=>{const N=((F,V,ee,ce)=>{const we=us(F,V),ie=us(ee,ce);return Qc.relative(we,ie)})(h,y,_,D);Pi(f,N)},Xm=(f,h,y)=>{const _=((D,N)=>{const F=D.fold(No.before,us,No.after),V=N.fold(No.before,us,No.after);return Qc.relative(F,V)})(h,y);Pi(f,_)},Yf=f=>{if(f.rangeCount>0){const h=f.getRangeAt(0),y=f.getRangeAt(f.rangeCount-1);return pe.some(Ii(Oe.fromDom(h.startContainer),h.startOffset,Oe.fromDom(y.endContainer),y.endOffset))}return pe.none()},uu=f=>{if(f.anchorNode===null||f.focusNode===null)return Yf(f);{const h=Oe.fromDom(f.anchorNode),y=Oe.fromDom(f.focusNode);return((_,D,N,F)=>{const V=((ce,we,ie,be)=>{const fe=kd(ce).dom.createRange();return fe.setStart(ce.dom,we),fe.setEnd(ie.dom,be),fe})(_,D,N,F),ee=Yn(_,N)&&D===F;return V.collapsed&&!ee})(h,f.anchorOffset,y,f.focusOffset)?pe.some(Ii(h,f.anchorOffset,y,f.focusOffset)):Yf(f)}},Xf=(f,h,y=!0)=>{const _=(y?Wo:ka)(f,h);fr(f,_)},Od=f=>(h=>Dl(h).filter(y=>y.rangeCount>0).bind(uu))(f).map(h=>Qc.exact(h.start,h.soffset,h.finish,h.foffset)),Ec=(f,h,y)=>((_,D,N)=>((F,V,ee)=>F.caretPositionFromPoint?((ce,we,ie)=>{var be;return pe.from((be=ce.caretPositionFromPoint)===null||be===void 0?void 0:be.call(ce,we,ie)).bind(fe=>{if(fe.offsetNode===null)return pe.none();const De=ce.createRange();return De.setStart(fe.offsetNode,fe.offset),De.collapse(),pe.some(De)})})(F,V,ee):F.caretRangeFromPoint?((ce,we,ie)=>{var be;return pe.from((be=ce.caretRangeFromPoint)===null||be===void 0?void 0:be.call(ce,we,ie))})(F,V,ee):pe.none())(_.document,D,N).map(F=>Ii(Oe.fromDom(F.startContainer),F.startOffset,Oe.fromDom(F.endContainer),F.endOffset)))(f,h,y),Qm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ah=(()=>{const f="[0-9]+",h="[eE][+-]?"+f,y=D=>`(?:${D})?`,_=["Infinity",f+"\\."+y(f)+y(h),"\\."+f+y(h),f+y(h)].join("|");return new RegExp(`^([+-]?(?:${_}))(.*)$`)})(),Li=f=>A(f,yt(0)),Nd=(f,h,y,_,D)=>D(f.slice(0,h)).concat(_).concat(D(f.slice(y))),Jc=f=>(h,y,_,D)=>{if(f(_)){const N=Math.max(D,h[y]-Math.abs(_)),F=Math.abs(N-h[y]);return _>=0?F:-F}return _},Nn=Jc(f=>f<0),Ac=Jc(Ct),Da=()=>{const f=(y,_,D,N)=>{const F=(100+D)/100,V=Math.max(N,(y[_]+D)/F);return A(y,(ee,ce)=>(ce===_?V:ee/F)-ee)},h=(y,_,D,N,F,V)=>V?f(y,_,N,F):((ee,ce,we,ie,be)=>{const fe=Nn(ee,ce,ie,be);return Nd(ee,ce,we+1,[fe,0],Li)})(y,_,D,N,F);return{resizeTable:(y,_)=>y(_),clampTableDelta:Nn,calcLeftEdgeDeltas:h,calcMiddleDeltas:(y,_,D,N,F,V,ee)=>h(y,D,N,F,V,ee),calcRightEdgeDeltas:(y,_,D,N,F,V)=>{if(V)return f(y,D,N,F);{const ee=Nn(y,D,N,F);return Li(y.slice(0,D)).concat([ee])}},calcRedestributedWidths:(y,_,D,N)=>{if(N){const F=(_+D)/_,V=A(y,ee=>ee/F);return{delta:100*F-100,newSizes:V}}return{delta:D,newSizes:y}}}},Rd=()=>{const f=(h,y,_,D,N)=>{const F=Ac(h,D>=0?_:y,D,N);return Nd(h,y,_+1,[F,-F],Li)};return{resizeTable:(h,y,_)=>{_&&h(y)},clampTableDelta:(h,y,_,D,N)=>{if(N){if(_>=0)return _;{const F=Et(h,(V,ee)=>V+ee-D,0);return Math.max(-F,_)}}return Nn(h,y,_,D)},calcLeftEdgeDeltas:f,calcMiddleDeltas:(h,y,_,D,N,F)=>f(h,_,D,N,F),calcRightEdgeDeltas:(h,y,_,D,N,F)=>{if(F)return Li(h);{const V=D/h.length;return A(h,yt(V))}},calcRedestributedWidths:(h,y,_,D)=>({delta:0,newSizes:h})}},di=(f,h,y=0)=>Or(f,h).map(_=>parseInt(_,10)).getOr(y),om=(f,h)=>di(f,h,1),Jm=f=>Fr("col")(f)?di(f,"span",1)>1:om(f,"colspan")>1,ef=(f,h)=>parseInt(El(f,h),10),ls=yt(10),ed=yt(10),vs=(f,h)=>Ja(f,h,Ct),Ja=(f,h,y)=>Ee(Fa(f),_=>Cs(_,h)?y(_)?[_]:[]:Ja(_,h,y)),mu=(f,h)=>((y,_,D=ne)=>D(_)?pe.none():tn(y,Fs(_))?pe.some(_):za(_,y.join(","),N=>Cs(N,"table")||D(N)))(["td","th"],f,h),ui=f=>vs(f,"th,td"),Qf=f=>Cs(f,"colgroup")?un(f,"col"):Ee(Th(f),h=>un(h,"col")),la=(f,h)=>Nr(f,"table",h),Md=f=>vs(f,"tr"),Th=f=>la(f).fold(yt([]),h=>un(h,"colgroup")),ca=Fr("th"),Jf=f=>gt(f,h=>ca(h.element)),ep=(f,h)=>f&&h?"sectionCells":f?"section":"cells",Dh=f=>{const h=f.section==="thead",y=na(tp(f.cells),"th");return f.section==="tfoot"?{type:"footer"}:h||y?{type:"header",subType:ep(h,y)}:{type:"body"}},tp=f=>{const h=$n(f,y=>ca(y.element));return h.length===0?pe.some("td"):h.length===f.length?pe.some("th"):pe.none()},nm=(f,h)=>A(f,y=>{if(Fs(y)==="colgroup"){const _=A(Qf(y),D=>{const N=di(D,"span",1);return tu(D,1,N)});return Un(y,_,"colgroup")}{const _=A(ui(y),D=>{const N=di(D,"rowspan",1),F=di(D,"colspan",1);return tu(D,N,F)});return Un(y,_,h(y))}}),op=f=>tc(f).map(h=>{const y=Fs(h);return(_=>tn(Pr,_))(y)?y:"tbody"}).getOr("tbody"),np=f=>{const h=Md(f),y=[...Th(f),...h];return nm(y,op)},sp="data-snooker-locked-cols",tf=f=>Or(f,sp).bind(h=>pe.from(h.match(/\d+/g))).map(h=>dn(h,Ct)),Tc=f=>{const h=Et(Qt(f).rows,(_,D)=>(Bo(D.cells,(N,F)=>{N.isLocked&&(_[F]=!0)}),_),{}),y=on(h,(_,D)=>parseInt(D,10));return(_=>{const D=yn.call(_,0);return D.sort(void 0),D})(y)},ei=(f,h)=>f+","+h,td=(f,h)=>{const y=Ee(f.all,_=>_.cells);return $n(y,h)},sm=f=>{const h={},y=[],_=So(f).map(be=>be.element).bind(la).bind(tf).getOr({});let D=0,N=0,F=0;const{pass:V,fail:ee}=To(f,be=>be.section==="colgroup");Bo(ee,be=>{const fe=[];Bo(be.cells,De=>{let Te=0;for(;h[ei(F,Te)]!==void 0;)Te++;const nt=((ht,vt)=>Yo(ht,vt)&&ht[vt]!==void 0&&ht[vt]!==null)(_,Te.toString()),it=((ht,vt,wt,Rt,Mt,to)=>({element:ht,rowspan:vt,colspan:wt,row:Rt,column:Mt,isLocked:to}))(De.element,De.rowspan,De.colspan,F,Te,nt);for(let ht=0;ht<De.colspan;ht++)for(let vt=0;vt<De.rowspan;vt++){const wt=Te+ht,Rt=ei(F+vt,wt);h[Rt]=it,N=Math.max(N,wt+1)}fe.push(it)}),D++,y.push(Un(be.element,fe,be.section)),F++});const{columns:ce,colgroups:we}=qo(V).map(be=>{const fe=(Te=>{const nt={};let it=0;return Bo(Te.cells,ht=>{const vt=ht.colspan;Jt(vt,wt=>{const Rt=it+wt;nt[Rt]=((Mt,to,ho)=>({element:Mt,colspan:to,column:ho}))(ht.element,vt,Rt)}),it+=vt}),nt})(be);return{colgroups:[((Te,nt)=>({element:Te,columns:nt}))(be.element,Kn(fe))],columns:fe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((be,fe)=>({rows:be,columns:fe}))(D,N),access:h,all:y,columns:ce,colgroups:we}},Zn=f=>{const h=np(f);return sm(h)},rp=sm,Dc=(f,h,y)=>pe.from(f.access[ei(h,y)]),nc=(f,h,y)=>{const _=td(f,D=>y(h,D.element));return _.length>0?pe.some(_[0]):pe.none()},of=td,Hr=f=>Ee(f.all,h=>h.cells),sc=f=>Kn(f.columns),Oa=f=>dr(f.columns).length>0,zs=(f,h)=>pe.from(f.columns[h]),Js=(f,h,y)=>jn(y(f.element,h),!0,f.isLocked),er=(f,h)=>f.section!==h?sa(f.element,f.cells,h,f.isNew):f,ug=()=>({transformRow:er,transformCell:(f,h,y)=>{const _=y(f.element,h),D=Fs(_)!=="td"?(N=>{const F=Wf(N,"td");K(N,F);const V=Fa(N);return Xn(F,V),Qa(N),F})(_):_;return jn(D,f.isNew,f.isLocked)}}),Na=()=>({transformRow:er,transformCell:Js}),fu=()=>({transformRow:(f,h)=>er(f,h==="thead"?"tbody":h),transformCell:Js}),k=ug,R=Na,H=fu,le=()=>({transformRow:kt,transformCell:Js}),ve=(f,h=Ct)=>{const y=f.grid,_=Jt(y.columns,kt),D=Jt(y.rows,kt);return A(_,N=>ft(()=>Ee(D,F=>Dc(f,F,N).filter(V=>V.column===N).toArray()),F=>F.colspan===1&&h(F.element),()=>Dc(f,0,N)))},ft=(f,h,y)=>{const _=f();return Tn(_,h).orThunk(()=>pe.from(_[0]).orThunk(y)).map(D=>D.element)},co=f=>{const h=f.grid,y=Jt(h.rows,kt),_=Jt(h.columns,kt);return A(y,D=>ft(()=>Ee(_,N=>Dc(f,D,N).filter(F=>F.row===D).fold(yt([]),F=>[F])),N=>N.rowspan===1,()=>Dc(f,D,0)))},Ro=(f,h)=>({row:f,y:h}),Io=(f,h)=>({col:f,x:h}),uo=f=>yr(f).left+Vo(f),Qn=f=>yr(f).left,Ks=(f,h)=>Io(f,Qn(h)),al=(f,h)=>Io(f,uo(h)),Ns=f=>yr(f).top,Oh=(f,h)=>Ro(f,Ns(h)),s0=(f,h)=>Ro(f,Ns(h)+Bi(h)),Rr=(f,h,y)=>{if(y.length===0)return[];const _=A(y.slice(1),(N,F)=>N.map(V=>f(F,V))),D=y[y.length-1].map(N=>h(y.length-1,N));return _.concat([D])},pu={delta:kt,positions:f=>Rr(Oh,s0,f),edge:Ns},rc=Dt({delta:kt,edge:Qn,positions:f=>Rr(Ks,al,f)},{delta:f=>-f,edge:uo,positions:f=>Rr(al,Ks,f)}),mg={delta:(f,h)=>rc(h).delta(f,h),positions:(f,h)=>rc(h).positions(f,h),edge:f=>rc(f).edge(f)},Nh=/(\d+(\.\d+)?)%/,fg=/(\d+(\.\d+)?)px|em/,Rh=Fr("col"),tx=Fr("tr"),A2=(f,h,y)=>{const _=lu(f).getOrThunk(()=>(D=>{const N=D.dom.body;if(N==null)throw new Error("Body is not available yet");return Oe.fromDom(N)})(kd(f)));return h(f)/y(_)*100},r0=(f,h)=>{ha(f,"width",h+"px")},ox=(f,h)=>{ha(f,"width",h+"%")},Mh=(f,h)=>{ha(f,"height",h+"px")},pg=f=>{const h=(y=>{return oc(_=y,"height",_.dom.offsetHeight)+"px";var _})(f);return h?((y,_,D,N)=>{const F=parseFloat(y);return jo(y,"%")&&Fs(_)!=="table"?((V,ee,ce,we)=>{const ie=la(V).map(be=>{const fe=ce(be);return Math.floor(ee/100*fe)}).getOr(ee);return we(V,ie),ie})(_,F,D,N):F})(h,f,As,Mh):As(f)},nx=(f,h)=>Wm(f,h).orThunk(()=>Or(f,h).map(y=>y+"px")),rm=f=>nx(f,"width"),ac=f=>A2(f,Ed,ig),xo=f=>{return Rh(f)?Ed(f):oc(h=f,"width",h.dom.offsetWidth);var h},Bd=f=>tx(f)?As(f):((h,y,_)=>_(h)/om(h,"rowspan"))(f,0,pg),gg=(f,h,y)=>{ha(f,"width",h+y)},sx=f=>A2(f,Ed,ig)+"%",a0=yt(Nh),nf=Fr("col"),ap=f=>rm(f).getOrThunk(()=>xo(f)+"px"),hg=f=>{return(h=f,nx(h,"height")).getOrThunk(()=>Bd(f)+"px");var h},Hs=(f,h,y,_,D,N)=>f.filter(_).fold(()=>N(((F,V)=>{if(V<0||V>=F.length-1)return pe.none();const ee=F[V].fold(()=>{const we=(ie=>{const be=yn.call(ie,0);return be.reverse(),be})(F.slice(0,V));return z(we,(ie,be)=>ie.map(fe=>({value:fe,delta:be+1})))},we=>pe.some({value:we,delta:0})),ce=F[V+1].fold(()=>{const we=F.slice(V+1);return z(we,(ie,be)=>ie.map(fe=>({value:fe,delta:be+1})))},we=>pe.some({value:we,delta:1}));return ee.bind(we=>ce.map(ie=>{const be=ie.delta+we.delta;return Math.abs(ie.value-we.value)/be}))})(y,h)),F=>D(F)),Ol=(f,h,y,_)=>{const D=ve(f),N=Oa(f)?(ee=>A(sc(ee),ce=>pe.from(ce.element)))(f):D,F=[pe.some(mg.edge(h))].concat(A(mg.positions(D,h),ee=>ee.map(ce=>ce.x))),V=He(Jm);return A(N,(ee,ce)=>Hs(ee,ce,F,V,we=>{if((be=>{const fe=Ea().browser,De=fe.isChromium()||fe.isFirefox();return!nf(be)||De})(we))return y(we);{const be=(ie=D[ce])!=null?kt(ie):pe.none();return Hs(be,ce,F,V,fe=>_(pe.some(Ed(fe))),_)}var ie},_))},mi=f=>f.map(h=>h+"px").getOr(""),sf=(f,h,y)=>Ol(f,h,xo,_=>_.getOrThunk(y.minCellWidth)),Fi=(f,h,y,_)=>{const D=co(f),N=A(f.all,V=>pe.some(V.element)),F=[pe.some(pu.edge(h))].concat(A(pu.positions(D,h),V=>V.map(ee=>ee.y)));return A(N,(V,ee)=>Hs(V,ee,F,Ct,y,_))},bg=(f,h)=>()=>Yc(f)?h(f):parseFloat(Wm(f,"width").getOr("0")),lr=f=>{const h=bg(f,_=>parseFloat(sx(_))),y=bg(f,Ed);return{width:h,pixelWidth:y,getWidths:(_,D)=>((N,F,V)=>Ol(N,F,ac,ee=>ee.fold(()=>V.minCellWidth(),ce=>ce/V.pixelWidth()*100)))(_,f,D),getCellDelta:_=>_/y()*100,singleColumnWidth:(_,D)=>[100-_],minCellWidth:()=>ls()/y()*100,setElementWidth:ox,adjustTableWidth:_=>{const D=h();ox(f,D+_/100*D)},isRelative:!0,label:"percent"}},Vr=f=>{const h=bg(f,Ed);return{width:h,pixelWidth:h,getWidths:(y,_)=>sf(y,f,_),getCellDelta:kt,singleColumnWidth:(y,_)=>[Math.max(ls(),y+_)-y],minCellWidth:ls,setElementWidth:r0,adjustTableWidth:y=>{const _=h()+y;r0(f,_)},isRelative:!1,label:"pixel"}},xg=f=>rm(f).fold(()=>(h=>{const y=bg(h,Ed),_=yt(0);return{width:y,pixelWidth:y,getWidths:(D,N)=>sf(D,h,N),getCellDelta:_,singleColumnWidth:yt([0]),minCellWidth:_,setElementWidth:Ne,adjustTableWidth:Ne,isRelative:!0,label:"none"}})(f),h=>((y,_)=>a0().exec(_)!==null?lr(y):Vr(y))(f,h)),ct=Vr,il=lr,gu=(f,h,y,_)=>{y===_?ds(f,h):Pn(f,h,y)},wr=(f,h,y)=>{qo(un(f,h)).fold(()=>me(f,y),_=>K(_,y))},zi=(f,h)=>{const y=[],_=[],D=be=>A(be,fe=>{fe.isNew&&y.push(fe.element);const De=fe.element;return Qu(De),Bo(fe.cells,Te=>{Te.isNew&&_.push(Te.element),gu(Te.element,"colspan",Te.colspan,1),gu(Te.element,"rowspan",Te.rowspan,1),Ae(De,Te.element)}),De}),N=be=>Ee(be,fe=>A(fe.cells,De=>(gu(De.element,"span",De.colspan,1),De.element))),F=(be,fe)=>{const De=((nt,it)=>{const ht=ue(nt,it).getOrThunk(()=>{const vt=Oe.fromTag(it,kd(nt).dom);return it==="thead"?wr(nt,"caption,colgroup",vt):it==="colgroup"?wr(nt,"caption",vt):Ae(nt,vt),vt});return Qu(ht),ht})(f,fe),Te=(fe==="colgroup"?N:D)(be);Xn(De,Te)},V=(be,fe)=>{be.length>0?F(be,fe):(De=>{ue(f,De).each(Qa)})(fe)},ee=[],ce=[],we=[],ie=[];return Bo(h,be=>{switch(be.section){case"thead":ee.push(be);break;case"tbody":ce.push(be);break;case"tfoot":we.push(be);break;case"colgroup":ie.push(be)}}),V(ie,"colgroup"),V(ee,"thead"),V(ce,"tbody"),V(we,"tfoot"),{newRows:y,newCells:_}},Hi=(f,h)=>{if(f.length===0)return 0;const y=f[0];return Ci(f,_=>!h(y.element,_.element)).getOr(f.length)},hu=(f,h)=>{const y=A(f,_=>A(_.cells,ne));return A(f,(_,D)=>{const N=Ee(_.cells,(F,V)=>{if(y[D][V]===!1){const be=((fe,De,Te,nt)=>{const it=((Rt,Mt)=>Rt[Mt])(fe,De),ht=it.section==="colgroup",vt=Hi(it.cells.slice(Te),nt),wt=ht?1:Hi(((Rt,Mt)=>A(Rt,to=>mr(to,Mt)))(fe.slice(De),Te),nt);return{colspan:vt,rowspan:wt}})(f,D,V,h);return((fe,De,Te,nt)=>{for(let it=fe;it<fe+Te;it++)for(let ht=De;ht<De+nt;ht++)y[it][ht]=!0})(D,V,be.rowspan,be.colspan),[(ee=F.element,ce=be.rowspan,we=be.colspan,ie=F.isNew,{element:ee,rowspan:ce,colspan:we,isNew:ie})]}return[];var ee,ce,we,ie});return((F,V,ee,ce)=>({element:F,cells:V,section:ee,isNew:ce}))(_.element,N,_.section,_.isNew)})},ip=(f,h,y)=>{const _=[];Bo(f.colgroups,D=>{const N=[];for(let F=0;F<f.grid.columns;F++){const V=zs(f,F).map(ee=>jn(ee.element,y,!1)).getOrThunk(()=>jn(h.colGap(),!0,!1));N.push(V)}_.push(sa(D.element,N,"colgroup",y))});for(let D=0;D<f.grid.rows;D++){const N=[];for(let ee=0;ee<f.grid.columns;ee++){const ce=Dc(f,D,ee).map(we=>jn(we.element,y,we.isLocked)).getOrThunk(()=>jn(h.gap(),!0,!1));N.push(ce)}const F=f.all[D],V=sa(F.element,N,F.section,y);_.push(V)}return _},fi=f=>hu(f,Yn),kn=(f,h)=>z(f.all,y=>Tn(y.cells,_=>Yn(h,_.element))),Vi=(f,h,y)=>{const _=A(h.selection,N=>mu(N).bind(F=>kn(f,F)).filter(y)),D=hn(_);return tl(D.length>0,D)},$r=(f,h,y,_,D,N,F,V,ee)=>{const ce=Zn(N),we=pe.from(ee==null?void 0:ee.section).getOrThunk(le);return h(ce,F).map(ie=>{const be=((Te,nt)=>ip(Te,nt,!1))(ce,V),fe=f(be,ie,Yn,D(V),we),De=Tc(fe.grid);return{info:ie,grid:fi(fe.grid),cursor:fe.cursor,lockedColumns:De}}).bind(ie=>{const be=zi(N,ie.grid),fe=pe.from(ee==null?void 0:ee.sizing).getOrThunk(()=>xg(N)),De=pe.from(ee==null?void 0:ee.resize).getOrThunk(Rd);return y(N,ie.grid,ie.info,{sizing:fe,resize:De,section:we}),_(N),ds(N,sp),ie.lockedColumns.length>0&&Pn(N,sp,ie.lockedColumns.join(",")),pe.some({cursor:ie.cursor,newRows:be.newRows,newCells:be.newCells})})},tr=(f,h)=>mu(h.element).bind(y=>kn(f,y).map(_=>({..._,generators:h.generators,clipboard:h.clipboard}))),i0=(f,h)=>Vi(f,h,Ct).map(y=>({cells:y,generators:h.generators,clipboard:h.clipboard})),Ra=(f,h)=>Vi(f,h,Ct),lp=(f,h)=>Vi(f,h,y=>!y.isLocked),ll=(f,h)=>gt(h,y=>((_,D)=>kn(_,D).exists(N=>!N.isLocked))(f,y)),Pe=(f,h)=>((y,_)=>_.mergable)(0,h).filter(y=>ll(f,y.cells)),ti=(f,h)=>((y,_)=>_.unmergable)(0,h).filter(y=>ll(f,y)),rf={...st([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},_s=(f,h,y)=>{const _=((D,N)=>Oa(D)?((F,V)=>{const ee=sc(F);return A(ee,(ce,we)=>({element:ce.element,width:V[we],colspan:ce.colspan}))})(D,N):((F,V)=>{const ee=Hr(F);return A(ee,ce=>{const we=((ie,be,fe)=>{let De=0;for(let Te=ie;Te<be;Te++)De+=fe[Te]!==void 0?fe[Te]:0;return De})(ce.column,ce.column+ce.colspan,V);return{element:ce.element,width:we,colspan:ce.colspan}})})(D,N))(f,h);Bo(_,D=>{y.setElementWidth(D.element,D.width)})},od=(f,h,y,_,D)=>{const N=Zn(f),F=D.getCellDelta(h),V=D.getWidths(N,D),ee=y===N.grid.columns-1,ce=_.clampTableDelta(V,y,F,D.minCellWidth(),ee),we=((be,fe,De,Te,nt)=>{const it=be.slice(0),ht=((wt,Rt)=>wt.length===0?rf.none():wt.length===1?rf.only(0):Rt===0?rf.left(0,1):Rt===wt.length-1?rf.right(Rt-1,Rt):Rt>0&&Rt<wt.length-1?rf.middle(Rt-1,Rt,Rt+1):rf.none())(be,fe),vt=yt(A(it,yt(0)));return ht.fold(vt,wt=>Te.singleColumnWidth(it[wt],De),(wt,Rt)=>nt.calcLeftEdgeDeltas(it,wt,Rt,De,Te.minCellWidth(),Te.isRelative),(wt,Rt,Mt)=>nt.calcMiddleDeltas(it,wt,Rt,Mt,De,Te.minCellWidth(),Te.isRelative),(wt,Rt)=>nt.calcRightEdgeDeltas(it,wt,Rt,De,Te.minCellWidth(),Te.isRelative))})(V,y,ce,D,_),ie=A(we,(be,fe)=>be+V[fe]);_s(N,ie,D),_.resizeTable(D.adjustTableWidth,ce,ee)},Ua=(f,h,y)=>{const _=Zn(f),D=((ee,ce)=>Fi(ee,ce,Bd,we=>we.getOrThunk(ed)))(_,f),N=A(D,(ee,ce)=>y===ce?Math.max(h+ee,ed()):ee),F=((ee,ce)=>A(ee.all,(we,ie)=>({element:we.element,height:ce[ie]})))(_,N);Bo(F,ee=>{Mh(ee.element,ee.height)}),Bo(Hr(_),ee=>{(ce=>{Ws(ce,"height")})(ee.element)});const V=ta(N,(ee,ce)=>ee+ce,0);Mh(f,V)},mn=(f,h)=>{Jm(f)||(_=>rm(_).bind(D=>{return N=D,F=["fixed","relative","empty"],pe.from(Ah.exec(N)).bind(V=>{const ee=Number(V[1]),ce=V[2];return((we,ie)=>Qe(ie,be=>Qe(Qm[be],fe=>we===fe)))(ce,F)?pe.some({value:ee,unit:ce}):pe.none()});var N,F}))(f).each(_=>{const D=_.value/2;gg(f,D,_.unit),gg(h,D,_.unit)})},bu=(f,h,y)=>{const _=di(f,h,1);y===1||_<=1?ds(f,h):Pn(f,h,Math.min(y,_))},l0=(f,h)=>y=>{const _=y.column+y.colspan-1,D=y.column;return _>=f&&D<h},am=(f,h,y)=>{const _=f[y].element,D=Oe.fromTag("td");Ae(D,Oe.fromTag("br")),(h?Ae:me)(_,D)},cp=Fr("col"),Ma=Fr("colgroup"),xu=f=>Fs(f)==="tr"||Ma(f),dp=f=>({element:f,colspan:di(f,"colspan",1),rowspan:di(f,"rowspan",1)}),af=f=>Or(f,"scope").map(h=>h.substr(0,3)),nd=(f,h=dp)=>{const y=D=>{if(xu(D))return Ma((N={element:D}).element)?f.colgroup(N):f.row(N);{const F=D,V=(ee=>cp(ee.element)?f.col(ee):f.cell(ee))(h(F));return _=pe.some({item:F,replacement:V}),V}var N};let _=pe.none();return{getOrInit:(D,N)=>_.fold(()=>y(D),F=>N(D,F.item)?F.replacement:y(D))}},Nl=f=>h=>{const y=[],_=D=>{const N=f==="td"?{scope:null}:{},F=h.replace(D,f,N);return y.push({item:D,sub:F}),F};return{replaceOrInit:(D,N)=>{if(xu(D)||cp(D))return D;{const F=D;return((V,ee)=>Tn(y,ce=>ee(ce.item,V)))(F,N).fold(()=>_(F),V=>N(D,V.item)?V.sub:_(F))}}}},Bh=f=>({unmerge:h=>{const y=af(h);return y.each(_=>Pn(h,"scope",_)),()=>{const _=f.cell({element:h,colspan:1,rowspan:1});return Ws(_,"width"),Ws(h,"width"),y.each(D=>Pn(_,"scope",D)),_}},merge:h=>(Ws(h[0],"width"),(()=>{const y=hn(A(h,af));if(y.length===0)return pe.none();{const _=y[0],D=["row","col"];return Qe(y,N=>N!==_&&tn(D,N))?pe.none():pe.from(_)}})().fold(()=>ds(h[0],"scope"),y=>Pn(h[0],"scope",y+"group")),yt(h[0]))}),lf=st([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),rx=(f,h,y)=>{const _=y.substring(0,y.length-f.length),D=parseFloat(_);return _===D.toString()?h(D):lf.invalid(y)},$i={...lf,from:f=>jo(f,"%")?rx("%",lf.percent,f):jo(f,"px")?rx("px",lf.pixels,f):lf.invalid(f)},Rl=(f,h,y)=>{const _=$i.from(y),D=gt(f,N=>N==="0px")?((N,F)=>{const V=N.fold(()=>yt(""),ee=>yt(ee/F+"px"),()=>yt(100/F+"%"));return Jt(F,V)})(_,f.length):((N,F,V)=>N.fold(()=>F,ee=>((ce,we,ie)=>{const be=ie/we;return A(ce,fe=>$i.from(fe).fold(()=>fe,De=>De*be+"px",De=>De/100*ie+"px"))})(F,V,ee),ee=>((ce,we)=>A(ce,ie=>$i.from(ie).fold(()=>ie,be=>be/we*100+"%",be=>be+"%")))(F,V)))(_,f,h);return h_(D)},ax=(f,h)=>f.length===0?h:ta(f,(y,_)=>$i.from(_).fold(yt(0),kt,kt)+y,0),Id=(f,h)=>$i.from(f).fold(yt(f),y=>y+h+"px",y=>y+h+"%"),h_=f=>{if(f.length===0)return f;const h=ta(f,(_,D)=>{const N=$i.from(D).fold(()=>({value:D,remainder:0}),F=>(V=>{const ee=Math.floor(V);return{value:ee+"px",remainder:V-ee}})(F),F=>({value:F+"%",remainder:0}));return{output:[N.value].concat(_.output),remainder:_.remainder+N.remainder}},{output:[],remainder:0}),y=h.output;return y.slice(0,y.length-1).concat([Id(y[y.length-1],Math.round(h.remainder))])},im=$i.from,cf=(f,h,y)=>{const _=Zn(f),D=_.all,N=Hr(_),F=sc(_);h.each(V=>{const ee=im(V).fold(yt("px"),yt("px"),yt("%")),ce=Ed(f),we=((be,fe)=>Ol(be,fe,ap,mi))(_,f),ie=Rl(we,ce,V);Oa(_)?((be,fe,De)=>{Bo(fe,(Te,nt)=>{const it=ax([be[nt]],ls());ha(Te.element,"width",it+De)})})(ie,F,ee):((be,fe,De)=>{Bo(fe,Te=>{const nt=be.slice(Te.column,Te.colspan+Te.column),it=ax(nt,ls());ha(Te.element,"width",it+De)})})(ie,N,ee),ha(f,"width",V)}),y.each(V=>{const ee=As(f),ce=((we,ie)=>Fi(we,ie,hg,mi))(_,f);((we,ie,be)=>{Bo(be,fe=>{Ws(fe.element,"height")}),Bo(ie,(fe,De)=>{ha(fe.element,"height",we[De])})})(Rl(ce,ee,V),D,N),ha(f,"height",V)})},cl=f=>rm(f).exists(h=>Nh.test(h)),Ih=f=>rm(f).exists(h=>fg.test(h)),vg=f=>rm(f).isNone();var b_=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],c0=()=>({up:yt({selector:za,closest:Nr,predicate:qm,all:Zm}),down:yt({selector:Va,predicate:Km}),styles:yt({get:El,getRaw:Wm,set:ha,remove:Ws}),attrs:yt({get:ia,set:Pn,remove:ds,copyTo:(f,h)=>{const y=jm(f);aa(h,y)}}),insert:yt({before:I,after:K,afterAll:ln,append:Ae,appendAll:Xn,prepend:me,wrap:jt}),remove:yt({unwrap:kl,remove:Qa}),create:yt({nu:Oe.fromTag,clone:f=>Oe.fromDom(f.dom.cloneNode(!1)),text:Oe.fromText}),query:yt({comparePosition:(f,h)=>f.dom.compareDocumentPosition(h.dom),prevSibling:Xu,nextSibling:Kc}),property:yt({children:Fa,name:Fs,parent:tc,document:f=>ra(f).dom,isText:_l,isComment:Cd,isElement:vr,isSpecial:f=>{const h=Fs(f);return tn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:f=>vr(f)?Or(f,"lang"):pe.none(),getText:qs,setText:Ad,isBoundary:f=>!!vr(f)&&(Fs(f)==="body"||tn(b_,Fs(f))),isEmptyTag:f=>!!vr(f)&&tn(["br","img","hr","input"],Fs(f)),isNonEditable:f=>vr(f)&&ia(f,"contenteditable")==="false"}),eq:Yn,is:_c});const pr=(f,h)=>({item:f,mode:h}),T2=(f,h,y,_=Oc)=>f.property().parent(h).map(D=>pr(D,_)),Oc=(f,h,y,_=lm)=>y.sibling(f,h).map(D=>pr(D,_)),lm=(f,h,y,_=lm)=>{const D=f.property().children(h);return y.first(D).map(N=>pr(N,_))},df=[{current:T2,next:Oc,fallback:pe.none()},{current:Oc,next:lm,fallback:pe.some(T2)},{current:lm,next:lm,fallback:pe.some(Oc)}],uf=(f,h,y,_,D=df)=>Tn(D,N=>N.current===y).bind(N=>N.current(f,h,_,N.next).orThunk(()=>N.fallback.bind(F=>uf(f,h,F,_)))),dl=(f,h,y,_,D,N)=>uf(f,h,_,D).bind(F=>N(F.item)?pe.none():y(F.item)?pe.some(F.item):dl(f,F.item,y,F.mode,D,N)),cm=(f,h)=>({element:f,offset:h}),yg=(f,h,y)=>f.property().isText(h)&&f.property().getText(h).trim().length===0||f.property().isComment(h)?y(h).bind(_=>yg(f,_,y).orThunk(()=>pe.some(_))):pe.none(),Ph=(f,h)=>f.property().isText(h)?f.property().getText(h).length:f.property().children(h).length,Lh=(f,h)=>{const y=yg(f,h,f.query().prevSibling).getOr(h);if(f.property().isText(y))return cm(y,Ph(f,y));const _=f.property().children(y);return _.length>0?Lh(f,_[_.length-1]):cm(y,Ph(f,y))},d0=Lh,u0=c0(),D2=f=>h=>f.property().children(h).length===0,O2=(f,h,y,_)=>dl(f,h,y,Oc,{sibling:(D,N)=>D.query().prevSibling(N),first:D=>D.length>0?pe.some(D[D.length-1]):pe.none()},_),m0=(f,h,y,_)=>dl(f,h,y,Oc,{sibling:(D,N)=>D.query().nextSibling(N),first:D=>D.length>0?pe.some(D[0]):pe.none()},_),dm=c0(),ic=(f,h)=>((y,_,D)=>O2(y,_,D2(y),D))(dm,f,h),Ys=(f,h)=>((y,_,D)=>m0(y,_,D2(y),D))(dm,f,h),up=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],mp=(f,h,y,_)=>{const D=h(f,y);return ta(_,(N,F)=>{const V=h(f,F);return f0(f,N,V)},D)},f0=(f,h,y)=>h.bind(_=>y.filter(xe(f.eq,_))),p0=c0(),Fh=(f,h)=>((y,_,D)=>D.length>0?((N,F,V,ee)=>ee(N,F,V[0],V.slice(1)))(y,_,D,mp):pe.none())(p0,(y,_)=>f(_),h),g0=c0(),zh=f=>((h,y)=>{const _=h.property().name(y);return tn(up,_)})(g0,f),um=f=>((h,y)=>{const _=h.property().name(y);return tn(["ol","ul"],_)})(g0,f),wg=f=>{const h=Fr("br"),y=D=>du(D).bind(N=>{const F=Kc(N).map(V=>!!zh(V)||!!((ee,ce)=>tn(["br","img","hr","input"],ee.property().name(ce)))(g0,V)&&Fs(V)!=="img").getOr(!1);return tc(N).map(V=>{return F===!0||Fs(ee=V)==="li"||qm(ee,um).isSome()||h(N)||zh(V)&&!Yn(D,V)?[]:[Oe.fromTag("br")];var ee})}).getOr([]),_=(()=>{const D=Ee(f,N=>{const F=Fa(N);return(V=>gt(V,ee=>h(ee)||_l(ee)&&qs(ee).trim().length===0))(F)?[]:F.concat(y(N))});return D.length===0?[Oe.fromTag("br")]:D})();Qu(f[0]),Xn(f[0],_)},Wt=f=>{ds(f,"width"),ds(f,"height")},pi=f=>{const h=sx(f);cf(f,pe.some(h),pe.none()),Wt(f)},Hh=f=>{const h=(y=>Ed(y)+"px")(f);cf(f,pe.some(h),pe.none()),Wt(f)},fp=f=>{Ws(f,"width");const h=Qf(f),y=h.length>0?h:ui(f);Bo(y,_=>{Ws(_,"width"),Wt(_)}),Wt(f)},Nc={scope:["row","col"]},Cg=f=>()=>{const h=Oe.fromTag("td",f.dom);return Ae(h,Oe.fromTag("br",f.dom)),h},h0=f=>()=>Oe.fromTag("col",f.dom),vu=f=>()=>Oe.fromTag("colgroup",f.dom),N2=f=>()=>Oe.fromTag("tr",f.dom),yu=(f,h,y)=>{const _=((D,N)=>{const F=Wf(D,N),V=Fa(Sl(D));return Xn(F,V),F})(f,h);return Uo(y,(D,N)=>{D===null?ds(_,N):Pn(_,N,D)}),_},Vh=f=>f,Pd=(f,h,y)=>{const _=(D,N)=>{((F,V)=>{const ee=F.dom,ce=V.dom;Ju(ee)&&Ju(ce)&&(ce.style.cssText=ee.style.cssText)})(D.element,N),Ws(N,"height"),D.colspan!==1&&Ws(N,"width")};return{col:D=>{const N=Oe.fromTag(Fs(D.element),h.dom);return _(D,N),f(D.element,N),N},colgroup:vu(h),row:N2(h),cell:D=>{const N=Oe.fromTag(Fs(D.element),h.dom),F=y.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),V=F.length>0?((ee,ce,we)=>rl(ee).map(ie=>{const be=we.join(","),fe=Dd(ie,be,De=>Yn(De,ee));return ta(fe,(De,Te)=>{const nt=Sd(Te);return Ae(De,nt),nt},ce)}).getOr(ce))(D.element,N,F):N;return Ae(V,Oe.fromTag("br")),_(D,N),((ee,ce)=>{Uo(Nc,(we,ie)=>Or(ee,ie).filter(be=>tn(we,be)).each(be=>Pn(ce,ie,be)))})(D.element,N),f(D.element,N),N},replace:yu,colGap:h0(h),gap:Cg(h)}},_t=f=>({col:h0(f),colgroup:vu(f),row:N2(f),cell:Cg(f),replace:Vh,colGap:h0(f),gap:Cg(f)}),fn=f=>Zn(f).grid,ul=(f,h,y,_)=>{const D=Qt(f).rows;let N=!0;for(let F=0;F<D.length;F++)for(let V=0;V<_n(D[0]);V++){const ee=D[F],ce=mr(ee,V),we=y(ce.element,h);we&&!N?Zc(ee,V,jn(_(),!0,ce.isLocked)):we&&(N=!1)}return f},Ml=(f,h)=>({rowDelta:0,colDelta:_n(f[0])-_n(h[0])}),mf=(f,h)=>({rowDelta:f.length-h.length,colDelta:0}),ms=(f,h,y,_)=>{const D=h.section==="colgroup"?y.col:y.cell;return Jt(f,N=>jn(D(),!0,_(N)))},or=(f,h,y,_)=>{const D=f[f.length-1];return f.concat(Jt(h,()=>{const N=D.section==="colgroup"?y.colgroup:y.row,F=Lr(D,N,kt),V=ms(F.cells.length,F,y,ee=>Yo(_,ee.toString()));return Fo(F,V)}))},ix=(f,h,y,_)=>A(f,D=>{const N=ms(h,D,y,ne);return Tr(D,_,N)}),pp=(f,h,y)=>{const _=h.colDelta<0?ix:kt,D=h.rowDelta<0?or:kt,N=Tc(f),F=_n(f[0]),V=Qe(N,we=>we===F-1),ee=_(f,Math.abs(h.colDelta),y,V?F-1:F),ce=Tc(ee);return D(ee,Math.abs(h.rowDelta),y,dn(ce,Ct))},lc=(f,h,y,_)=>{const D=xe(_,mr(f[h],y).element),N=f[h];return f.length>1&&_n(N)>1&&(y>0&&D(pa(N,y-1))||y<N.cells.length-1&&D(pa(N,y+1))||h>0&&D(pa(f[h-1],y))||h<f.length-1&&D(pa(f[h+1],y)))},Ts=(f,h,y)=>$n(y,_=>_>=f.column&&_<=_n(h[0])+f.column),$h=(f,h,y,_,D)=>{((ce,we,ie,be)=>{we>0&&we<ce[0].cells.length&&Bo(ce,fe=>{const De=fe.cells[we-1];let Te=0;const nt=be();for(;fe.cells.length>we+Te&&ie(De.element,fe.cells[we+Te].element);)Zc(fe,we+Te,jn(nt,!0,fe.cells[we+Te].isLocked)),Te++})})(h,f,D,_.cell);const N=mf(y,h),F=pp(y,N,_),V=mf(h,F),ee=pp(h,V,_);return A(ee,(ce,we)=>Tr(ce,f,F[we].cells))},sd=(f,h,y,_,D)=>{((ht,vt,wt,Rt)=>{const Mt=Qt(ht).rows;if(vt>0&&vt<Mt.length){const to=((ho,pn)=>Et(ho,(Mo,Go)=>Qe(Mo,Po=>pn(Po.element,Go.element))?Mo:Mo.concat([Go]),[]))(Mt[vt-1].cells,wt);Bo(to,ho=>{let pn=pe.none();for(let Mo=vt;Mo<Mt.length;Mo++)for(let Go=0;Go<_n(Mt[0]);Go++){const Po=Mt[Mo],qn=mr(Po,Go);wt(qn.element,ho.element)&&(pn.isNone()&&(pn=pe.some(Rt())),pn.each(Bt=>{Zc(Po,Go,jn(Bt,!0,qn.isLocked))}))}})}})(h,f,D,_.cell);const N=Tc(h),F=Ml(h,y),V={...F,colDelta:F.colDelta-N.length},ee=pp(h,V,_),{cols:ce,rows:we}=Qt(ee),ie=Tc(ee),be=Ml(y,h),fe={...be,colDelta:be.colDelta+ie.length},De=(nt=_,it=ie,A(y,ht=>Et(it,(vt,wt)=>{const Rt=ms(1,ht,nt,Ct)[0];return ou(vt,wt,Rt)},ht))),Te=pp(De,fe,_);var nt,it;return[...ce,...we.slice(0,f),...Te,...we.slice(f,we.length)]},lx=(f,h,y,_,D)=>{const{rows:N,cols:F}=Qt(f),V=N.slice(0,h),ee=N.slice(h);return[...F,...V,((ce,we,ie,be)=>Lr(ce,fe=>be(fe,ie),we))(N[y],(ce,we)=>h>0&&h<N.length&&_(pa(N[h-1],we),pa(N[h],we))?mr(N[h],we):jn(D(ce.element,_),!0,ce.isLocked),_,D),...ee]},cc=(f,h,y,_,D)=>A(f,N=>{const F=h>0&&h<_n(N)&&_(pa(N,h-1),pa(N,h)),V=((ee,ce,we,ie,be,fe,De)=>{if(we!=="colgroup"&&ie)return mr(ee,ce);{const Te=mr(ee,be);return jn(De(Te.element,fe),!0,!1)}})(N,h,N.section,F,y,_,D);return ou(N,h,V)}),b0=(f,h,y,_)=>((D,N,F,V)=>pa(D[N],F)!==void 0&&N>0&&V(pa(D[N-1],F),pa(D[N],F)))(f,h,y,_)||((D,N,F)=>N>0&&F(pa(D,N-1),pa(D,N)))(f[h],y,_),Uh=(f,h,y,_)=>{const D=N=>(F=>F==="row"?(V=>om(V,"rowspan")>1)(h):Jm(h))(N)?`${N}group`:N;return f?ca(h)?D(y):null:_&&ca(h)?D(y==="row"?"col":"row"):null},cx=(f,h,y)=>jn(y(f.element,h),!0,f.isLocked),x0=(f,h,y,_,D,N,F)=>A(f,(V,ee)=>(ce=>{const we=ce.cells,ie=A(we,(be,fe)=>{if((De=>Qe(h,Te=>y(De.element,Te.element)))(be)){const De=F(be,ee,fe)?D(be,y,_):be;return N(De,ee,fe).each(Te=>{var nt,it;nt=De.element,it={scope:pe.from(Te)},Uo(it,(ht,vt)=>{ht.fold(()=>{ds(nt,vt)},wt=>{zr(nt.dom,vt,wt)})})}),De}return be});return sa(ce.element,ie,ce.section,ce.isNew)})(V)),dx=(f,h,y)=>Ee(f,(_,D)=>b0(f,D,h,y)?[]:[mr(_,h)]),Zh=(f,h,y,_,D)=>{const N=Qt(f).rows,F=Ee(h,we=>dx(N,we,_)),V=A(N,we=>Jf(we.cells)),ee=((we,ie)=>gt(ie,kt)&&Jf(we)?Ct:(be,fe,De)=>!(Fs(be.element)==="th"&&ie[fe]))(F,V);return x0(f,F,_,D,cx,((we,ie)=>(be,fe)=>pe.some(Uh(we,be.element,"row",ie[fe])))(y,V),ee)},jh=(f,h,y,_)=>{const D=Qt(f).rows,N=A(h,F=>mr(D[F.row],F.column));return x0(f,N,y,_,cx,pe.none,Ct)},ff=f=>Et(f,(h,y)=>Qe(h,_=>_.column===y.column)?h:h.concat([y]),[]).sort((h,y)=>h.column-y.column),Wh=f=>Gm(f,!0),v0=f=>{ui(f).length===0&&Qa(f)},y0=(f,h)=>({grid:f,cursor:h}),Za=(f,h,y)=>{const _=((D,N,F)=>{var V,ee;const ce=Qt(D).rows;return pe.from((ee=(V=ce[N])===null||V===void 0?void 0:V.cells[F])===null||ee===void 0?void 0:ee.element).filter(Wh).orThunk(()=>(we=>z(we,ie=>z(ie.cells,be=>{const fe=be.element;return tl(Wh(fe),fe)})))(ce))})(f,h,y);return y0(f,_)},Bl=f=>Et(f,(h,y)=>Qe(h,_=>_.row===y.row)?h:h.concat([y]),[]).sort((h,y)=>h.row-y.row),Ai=(f,h,y,_)=>{const D=h[0].row,N=Bl(h),F=ta(N,(V,ee)=>({grid:lx(V.grid,D,ee.row+V.delta,y,_.getOrInit),delta:V.delta+1}),{grid:f,delta:0}).grid;return Za(F,D,h[0].column)},R2=(f,h,y,_)=>{const D=Bl(h),N=D[D.length-1],F=N.row+N.rowspan,V=ta(D,(ee,ce)=>lx(ee,F,ce.row,y,_.getOrInit),f);return Za(V,F,h[0].column)},M2=(f,h,y,_)=>{const D=h.details,N=ff(D),F=N[0].column,V=ta(N,(ee,ce)=>({grid:cc(ee.grid,F,ce.column+ee.delta,y,_.getOrInit),delta:ee.delta+1}),{grid:f,delta:0}).grid;return Za(V,D[0].row,F)},gp=(f,h,y,_)=>{const D=h.details,N=D[D.length-1],F=N.column+N.colspan,V=ff(D),ee=ta(V,(ce,we)=>cc(ce,F,we.column,y,_.getOrInit),f);return Za(ee,D[0].row,F)},w0=(f,h,y,_)=>{const D=ff(h),N=A(D,V=>V.column),F=Zh(f,N,!0,y,_.replaceOrInit);return Za(F,h[0].row,h[0].column)},ux=(f,h,y,_)=>{const D=jh(f,h,y,_.replaceOrInit);return Za(D,h[0].row,h[0].column)},C0=(f,h,y,_)=>{const D=ff(h),N=A(D,V=>V.column),F=Zh(f,N,!1,y,_.replaceOrInit);return Za(F,h[0].row,h[0].column)},gi=(f,h,y,_)=>{const D=jh(f,h,y,_.replaceOrInit);return Za(D,h[0].row,h[0].column)},Ui=(f,h)=>(y,_,D,N,F)=>{const V=Bl(_),ee=A(V,we=>we.row),ce=((we,ie,be,fe,De,Te,nt)=>{const{cols:it,rows:ht}=Qt(we),vt=ht[ie[0]],wt=Ee(ie,Mo=>((Go,Po,qn)=>{const Bt=Go[Po];return Ee(Bt.cells,(da,Ba)=>b0(Go,Po,Ba,qn)?[]:[da])})(ht,Mo,De)),Rt=A(vt.cells,(Mo,Go)=>Jf(dx(ht,Go,De))),Mt=[...ht];Bo(ie,Mo=>{Mt[Mo]=nt.transformRow(ht[Mo],be)});const to=[...it,...Mt],ho=((Mo,Go)=>gt(Go,kt)&&Jf(Mo.cells)?Ct:(Po,qn,Bt)=>!(Fs(Po.element)==="th"&&Go[Bt]))(vt,Rt),pn=((Mo,Go)=>(Po,qn,Bt)=>pe.some(Uh(Mo,Po.element,"col",Go[Bt])))(fe,Rt);return x0(to,wt,De,Te,nt.transformCell,pn,ho)})(y,ee,f,h,D,N.replaceOrInit,F);return Za(ce,_[0].row,_[0].column)},Rc=Ui("thead",!0),_g=Ui("tbody",!1),_0=Ui("tfoot",!1),B2=(f,h,y,_)=>{const D=ff(h.details),N=((V,ee)=>Ee(V,ce=>{const we=ce.cells,ie=ta(ee,(be,fe)=>fe>=0&&fe<be.length?be.slice(0,fe).concat(be.slice(fe+1)):be,we);return ie.length>0?[sa(ce.element,ie,ce.section,ce.isNew)]:[]}))(f,A(D,V=>V.column)),F=N.length>0?N[0].cells.length-1:0;return Za(N,D[0].row,Math.min(D[0].column,F))},k0=(f,h,y,_)=>{const D=Bl(h),N=((V,ee,ce)=>{const{rows:we,cols:ie}=Qt(V);return[...ie,...we.slice(0,ee),...we.slice(ce+1)]})(f,D[0].row,D[D.length-1].row),F=Math.max(Qt(N).rows.length-1,0);return Za(N,Math.min(h[0].row,F),h[0].column)},mx=(f,h,y,_)=>{const D=h.cells;wg(D);const N=((F,V,ee,ce)=>{const we=Qt(F).rows;if(we.length===0)return F;for(let ie=V.startRow;ie<=V.finishRow;ie++)for(let be=V.startCol;be<=V.finishCol;be++){const fe=we[ie],De=mr(fe,be).isLocked;Zc(fe,be,jn(ce(),!1,De))}return F})(f,h.bounds,0,_.merge(D));return y0(N,pe.from(D[0]))},x_=(f,h,y,_)=>{const D=ta(h,(N,F)=>ul(N,F,y,_.unmerge(F)),f);return y0(D,pe.from(h[0]))},fx=(f,h,y,_)=>{const D=((V,ee)=>{const ce=Zn(V);return ip(ce,ee,!0)})(h.clipboard,h.generators);var N,F;return((V,ee,ce,we,ie)=>{const be=Tc(ee),fe=((it,ht,vt)=>{const wt=_n(ht[0]),Rt=Qt(ht).cols.length+it.row,Mt=Jt(wt-it.column,to=>to+it.column);return{row:Rt,column:Tn(Mt,to=>gt(vt,ho=>ho!==to)).getOr(wt-1)}})(V,ee,be),De=Qt(ce).rows,Te=Ts(fe,De,be);return((it,ht,vt)=>{if(it.row>=ht.length||it.column>_n(ht[0]))return js.error("invalid start address out of table bounds, row: "+it.row+", column: "+it.column);const wt=ht.slice(it.row),Rt=wt[0].cells.slice(it.column),Mt=_n(vt[0]),to=vt.length;return js.value({rowDelta:wt.length-to,colDelta:Rt.length-Mt})})(fe,ee,De).map(it=>{const ht={...it,colDelta:it.colDelta-Te.length},vt=pp(ee,ht,we),wt=Tc(vt),Rt=Ts(fe,De,wt);return((Mt,to,ho,pn,Mo,Go)=>{const Po=Mt.row,qn=Mt.column,Bt=Po+ho.length,da=qn+_n(ho[0])+Go.length,Ba=dn(Go,Ct);for(let Hl=Po;Hl<Bt;Hl++){let Ud=0;for(let Zr=qn;Zr<da;Zr++){if(Ba[Zr]){Ud++;continue}lc(to,Hl,Zr,Mo)&&ul(to,pa(to[Hl],Zr),Mo,pn.cell);const qi=Zr-qn-Ud,yf=mr(ho[Hl-Po],qi),Ke=yf.element,wf=pn.replace(Ke);Zc(to[Hl],Zr,jn(wf,!0,yf.isLocked))}}return to})(fe,vt,De,we,ie,Rt)})})((N=h.row,F=h.column,{row:N,column:F}),f,D,h.generators,y).fold(()=>y0(f,pe.some(h.element)),V=>Za(V,h.row,h.column))},hp=(f,h,y)=>{const _=((N,F)=>nm(N,()=>F))(f,y.section),D=rp(_);return ip(D,h,!0)},I2=(f,h,y,_)=>{const D=Qt(f).rows,N=h.cells[0].column,F=D[h.cells[0].row],V=hp(h.clipboard,h.generators,F),ee=$h(N,f,V,h.generators,y);return Za(ee,h.cells[0].row,h.cells[0].column)},px=(f,h,y,_)=>{const D=Qt(f).rows,N=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,F=D[h.cells[0].row],V=hp(h.clipboard,h.generators,F),ee=$h(N,f,V,h.generators,y);return Za(ee,h.cells[0].row,N)},qh=(f,h,y,_)=>{const D=Qt(f).rows,N=h.cells[0].row,F=D[N],V=hp(h.clipboard,h.generators,F),ee=sd(N,f,V,h.generators,y);return Za(ee,h.cells[0].row,h.cells[0].column)},es=(f,h,y,_)=>{const D=Qt(f).rows,N=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,F=D[h.cells[0].row],V=hp(h.clipboard,h.generators,F),ee=sd(N,f,V,h.generators,y);return Za(ee,N,h.cells[0].column)},rd=(f,h,y,_)=>((D,N,F,V)=>{const ee=rp(N),ce=V.getWidths(ee,V);_s(ee,ce,V)})(0,h,0,_.sizing),wu=(f,h,y,_)=>((D,N,F,V,ee)=>{const ce=rp(N),we=V.getWidths(ce,V),ie=V.pixelWidth(),{newSizes:be,delta:fe}=ee.calcRedestributedWidths(we,ie,F.pixelDelta,V.isRelative);_s(ce,be,V),V.adjustTableWidth(fe)})(0,h,y,_.sizing,_.resize),gx=(f,h)=>Qe(h,y=>y.column===0&&y.isLocked),Gh=(f,h)=>Qe(h,y=>y.column+y.colspan>=f.grid.columns&&y.isLocked),S0=(f,h)=>{const y=ve(f),_=ff(h);return Et(_,(D,N)=>D+y[N.column].map(Vo).getOr(0),0)},E0=f=>(h,y)=>Ra(h,y).filter(_=>!(f?gx:Gh)(h,_)).map(_=>({details:_,pixelDelta:S0(h,_)})),hx=(f,h)=>lp(f,h).map(y=>({details:y,pixelDelta:-S0(f,y)})),bx=f=>(h,y)=>i0(h,y).filter(_=>!(f?gx:Gh)(h,_.cells)),xx=Nl("th"),ml=Nl("td"),vx=(f,h,y,_)=>$r(Ai,Ra,Ne,Ne,nd,f,h,y,_),ja=(f,h,y,_)=>$r(R2,Ra,Ne,Ne,nd,f,h,y,_),pf=(f,h,y,_)=>$r(M2,E0(!0),wu,Ne,nd,f,h,y,_),Kh=(f,h,y,_)=>$r(gp,E0(!1),wu,Ne,nd,f,h,y,_),yx=(f,h,y,_)=>$r(B2,hx,wu,v0,nd,f,h,y,_),A0=(f,h,y,_)=>$r(k0,Ra,Ne,v0,nd,f,h,y,_),wx=(f,h,y,_)=>$r(w0,lp,Ne,Ne,xx,f,h,y,_),P2=(f,h,y,_)=>$r(C0,lp,Ne,Ne,ml,f,h,y,_),L2=(f,h,y,_)=>$r(Rc,Ra,Ne,Ne,xx,f,h,y,_),T0=(f,h,y,_)=>$r(_g,Ra,Ne,Ne,ml,f,h,y,_),F2=(f,h,y,_)=>$r(_0,Ra,Ne,Ne,ml,f,h,y,_),va=(f,h,y,_)=>$r(ux,lp,Ne,Ne,xx,f,h,y,_),Ld=(f,h,y,_)=>$r(gi,lp,Ne,Ne,ml,f,h,y,_),z2=(f,h,y,_)=>$r(mx,Pe,rd,Ne,Bh,f,h,y,_),H2=(f,h,y,_)=>$r(x_,ti,rd,Ne,Bh,f,h,y,_),V2=(f,h,y,_)=>$r(fx,tr,rd,Ne,nd,f,h,y,_),mm=(f,h,y,_)=>$r(I2,bx(!0),Ne,Ne,nd,f,h,y,_),Cx=(f,h,y,_)=>$r(px,bx(!1),Ne,Ne,nd,f,h,y,_),$2=(f,h,y,_)=>$r(qh,i0,Ne,Ne,nd,f,h,y,_),Ur=(f,h,y,_)=>$r(es,i0,Ne,Ne,nd,f,h,y,_),Mr=(f,h)=>{const y=Zn(f);return Ra(y,h).bind(_=>{const D=_[_.length-1],N=_[0].column,F=D.column+D.colspan,V=Ze(A(y.all,ee=>$n(ee.cells,ce=>ce.column>=N&&ce.column<F)));return tp(V)}).getOr("")},Wa=(f,h)=>{const y=Zn(f);return Ra(y,h).bind(tp).getOr("")},oi=(f,h)=>{const y=Zn(f);return Ra(y,h).bind(_=>{const D=_[_.length-1],N=_[0].row,F=D.row+D.rowspan;return(V=>{const ee=A(V,ie=>Dh(ie).type),ce=tn(ee,"header"),we=tn(ee,"footer");if(ce||we){const ie=tn(ee,"body");return!ce||ie||we?ce||ie||!we?pe.none():pe.some("footer"):pe.some("header")}return pe.some("body")})(y.all.slice(N,F))}).getOr("")},ya=(f,h)=>{const y=h.column,_=h.column+h.colspan-1,D=h.row,N=h.row+h.rowspan-1;return y<=f.finishCol&&_>=f.startCol&&D<=f.finishRow&&N>=f.startRow},Br=(f,h)=>h.column>=f.startCol&&h.column+h.colspan-1<=f.finishCol&&h.row>=f.startRow&&h.row+h.rowspan-1<=f.finishRow,_x=(f,h,y)=>{const _=nc(f,h,Yn),D=nc(f,y,Yn);return _.bind(N=>D.map(F=>{return V=N,ee=F,{startRow:Math.min(V.row,ee.row),startCol:Math.min(V.column,ee.column),finishRow:Math.max(V.row+V.rowspan-1,ee.row+ee.rowspan-1),finishCol:Math.max(V.column+V.colspan-1,ee.column+ee.colspan-1)};var V,ee}))},kx=(f,h,y)=>_x(f,h,y).map(_=>{const D=of(f,xe(ya,_));return A(D,N=>N.element)}),fm=(f,h)=>nc(f,h,(y,_)=>Es(_,y)).map(y=>y.element),ni=(f,h,y)=>{const _=Xh(f);return kx(_,h,y)},Yh=(f,h,y,_,D)=>{const N=Xh(f),F=Yn(f,y)?pe.some(h):fm(N,h),V=Yn(f,D)?pe.some(_):fm(N,_);return F.bind(ee=>V.bind(ce=>kx(N,ee,ce)))},Xh=Zn,Sx={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},D0=(f,h,y,_)=>Jt(f,D=>((N,F,V,ee)=>{const ce=Oe.fromTag("tr");for(let we=0;we<N;we++){const ie=Oe.fromTag(ee<F||we<V?"th":"td");we<V&&Pn(ie,"scope","row"),ee<F&&Pn(ie,"scope","col"),Ae(ie,Oe.fromTag("br")),Ae(ce,ie)}return ce})(h,y,_,D)),Il=f=>{let h=[];return{bind:y=>{if(y===void 0)throw new Error("Event bind error: undefined handler");h.push(y)},unbind:y=>{h=$n(h,_=>_!==y)},trigger:(...y)=>{const _={};Bo(f,(D,N)=>{_[D]=y[N]}),Bo(h,D=>{D(_)})}}},pm=f=>({registry:_i(f,h=>({bind:h.bind,unbind:h.unbind})),trigger:_i(f,h=>h.trigger)}),Cu=yc(["compare","extract","mutate","sink"]),Ex=yc(["element","start","stop","destroy"]),Ax=yc(["forceDrop","drop","move","delayDrop"]),Tx=()=>{const f=(()=>{const _=pm({move:Il(["info"])});return{onEvent:Ne,reset:Ne,events:_.registry}})(),h=(()=>{let _=pe.none();const D=pm({move:Il(["info"])});return{onEvent:(N,F)=>{F.extract(N).each(V=>{((ce,we)=>{const ie=_.map(be=>ce.compare(be,we));return _=pe.some(we),ie})(F,V).each(ce=>{D.trigger.move(ce)})})},reset:()=>{_=pe.none()},events:D.registry}})();let y=f;return{on:()=>{y.reset(),y=h},off:()=>{y.reset(),y=f},isOn:()=>y===h,onEvent:(_,D)=>{y.onEvent(_,D)},events:h.events}},O0=Ss("ephox-dragster").resolve;var Qh=Cu({compare:(f,h)=>bo(h.left-f.left,h.top-f.top),extract:f=>pe.some(bo(f.x,f.y)),sink:(f,h)=>{const y=(V=>{const ee={layerClass:O0("blocker"),...V},ce=Oe.fromTag("div");return Pn(ce,"role","presentation"),Jn(ce,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ei(ce,O0("blocker")),Ei(ce,ee.layerClass),{element:yt(ce),destroy:()=>{Qa(ce)}}})(h),_=cs(y.element(),"mousedown",f.forceDrop),D=cs(y.element(),"mouseup",f.drop),N=cs(y.element(),"mousemove",f.move),F=cs(y.element(),"mouseout",f.delayDrop);return Ex({element:y.element,start:V=>{Ae(V,y.element())},stop:()=>{Qa(y.element())},destroy:()=>{y.destroy(),D.unbind(),N.unbind(),F.unbind(),_.unbind()}})},mutate:(f,h)=>{f.mutate(h.left,h.top)}});const Jh=Ss("ephox-snooker").resolve,kg=Jh("resizer-bar"),e1=Jh("resizer-rows"),Sg=Jh("resizer-cols"),_u=f=>{const h=Va(f.parent(),"."+kg);Bo(h,Qa)},Zi=(f,h,y)=>{const _=f.origin();Bo(h,D=>{D.each(N=>{const F=y(_,N);Ei(F,kg),Ae(f.parent(),F)})})},Pl=(f,h,y,_,D)=>{const N=yr(y),F=h.isResizable,V=_.length>0?pu.positions(_,y):[],ee=V.length>0?((ie,be)=>Ee(ie.all,(fe,De)=>be(fe.element)?[De]:[]))(f,F):[];((ie,be,fe,De)=>{Zi(ie,be,(Te,nt)=>{const it=((ht,vt,wt,Rt)=>{const Mt=Oe.fromTag("div");return Jn(Mt,{position:"absolute",left:vt+"px",top:wt-3.5+"px",height:"7px",width:Rt+"px"}),aa(Mt,{"data-mce-bogus":"all","data-row":ht,role:"presentation"}),Mt})(nt.row,fe.left-Te.left,nt.y-Te.top,De);return Ei(it,e1),it})})(h,$n(V,(ie,be)=>Qe(ee,fe=>be===fe)),N,Vo(y));const ce=D.length>0?mg.positions(D,y):[],we=ce.length>0?((ie,be)=>{const fe=[];return Jt(ie.grid.columns,De=>{zs(ie,De).map(Te=>Te.element).forall(be)&&fe.push(De)}),$n(fe,De=>{const Te=of(ie,nt=>nt.column===De);return gt(Te,nt=>be(nt.element))})})(f,F):[];((ie,be,fe,De)=>{Zi(ie,be,(Te,nt)=>{const it=((ht,vt,wt,Rt,Mt)=>{const to=Oe.fromTag("div");return Jn(to,{position:"absolute",left:vt-3.5+"px",top:wt+"px",height:Mt+"px",width:"7px"}),aa(to,{"data-mce-bogus":"all","data-column":ht,role:"presentation"}),to})(nt.col,nt.x-Te.left,fe.top-Te.top,0,De);return Ei(it,Sg),it})})(h,$n(ce,(ie,be)=>Qe(we,fe=>be===fe)),N,Bi(y))},t1=(f,h)=>{if(_u(f),f.isResizable(h)){const y=Zn(h),_=co(y),D=ve(y);Pl(y,f,h,_,D)}},N0=(f,h)=>{const y=Va(f.parent(),"."+kg);Bo(y,h)},U2=f=>{N0(f,h=>{ha(h,"display","none")})},Dx=f=>{N0(f,h=>{ha(h,"display","block")})},Ox=Jh("resizer-bar-dragging"),gf=f=>{const h=(()=>{const ie=pm({drag:Il(["xDelta","yDelta","target"])});let be=pe.none();const fe=(()=>{const De=pm({drag:Il(["xDelta","yDelta"])});return{mutate:(Te,nt)=>{De.trigger.drag(Te,nt)},events:De.registry}})();return fe.events.drag.bind(De=>{be.each(Te=>{ie.trigger.drag(De.xDelta,De.yDelta,Te)})}),{assign:De=>{be=pe.some(De)},get:()=>be,mutate:fe.mutate,events:ie.registry}})(),y=((ie,be={})=>{var fe;return((De,Te,nt)=>{let it=!1;const ht=pm({start:Il([]),stop:Il([])}),vt=Tx(),wt=()=>{to.stop(),vt.isOn()&&(vt.off(),ht.trigger.stop())},Rt=(ho=>{let pn=null;const Mo=()=>{Ve(pn)||(clearTimeout(pn),pn=null)};return{cancel:Mo,throttle:(...Go)=>{Mo(),pn=setTimeout(()=>{pn=null,ho.apply(null,Go)},200)}}})(wt);vt.events.move.bind(ho=>{Te.mutate(De,ho.info)});const Mt=ho=>(...pn)=>{it&&ho.apply(null,pn)},to=Te.sink(Ax({forceDrop:wt,drop:Mt(wt),move:Mt(ho=>{Rt.cancel(),vt.onEvent(ho,Te)}),delayDrop:Mt(Rt.throttle)}),nt);return{element:to.element,go:ho=>{to.start(ho),vt.on(),ht.trigger.start()},on:()=>{it=!0},off:()=>{it=!1},isActive:()=>it,destroy:()=>{to.destroy()},events:ht.registry}})(ie,(fe=be.mode)!==null&&fe!==void 0?fe:Qh,be)})(h,{});let _=pe.none();const D=(ie,be)=>pe.from(ia(ie,be));h.events.drag.bind(ie=>{D(ie.target,"data-row").each(be=>{const fe=ef(ie.target,"top");ha(ie.target,"top",fe+ie.yDelta+"px")}),D(ie.target,"data-column").each(be=>{const fe=ef(ie.target,"left");ha(ie.target,"left",fe+ie.xDelta+"px")})});const N=(ie,be)=>ef(ie,be)-di(ie,"data-initial-"+be,0);y.events.stop.bind(()=>{h.get().each(ie=>{_.each(be=>{D(ie,"data-row").each(fe=>{const De=N(ie,"top");ds(ie,"data-initial-top"),we.trigger.adjustHeight(be,De,parseInt(fe,10))}),D(ie,"data-column").each(fe=>{const De=N(ie,"left");ds(ie,"data-initial-left"),we.trigger.adjustWidth(be,De,parseInt(fe,10))}),t1(f,be)})})});const F=(ie,be)=>{we.trigger.startAdjust(),h.assign(ie),Pn(ie,"data-initial-"+be,ef(ie,be)),Ei(ie,Ox),ha(ie,"opacity","0.2"),y.go(f.dragContainer())},V=cs(f.parent(),"mousedown",ie=>{var be;be=ie.target,Td(be,e1)&&F(ie.target,"top"),(fe=>Td(fe,Sg))(ie.target)&&F(ie.target,"left")}),ee=ie=>Yn(ie,f.view()),ce=cs(f.view(),"mouseover",ie=>{var be;(be=ie.target,Nr(be,"table",ee).filter(Gm)).fold(()=>{Yc(ie.target)&&!(fe=>Td(fe,"ephox-snooker-resizer-bar")||Td(fe,"ephox-dragster-blocker"))(ie.target)&&_u(f)},fe=>{y.isActive()&&(_=pe.some(fe),t1(f,fe))})}),we=pm({adjustHeight:Il(["table","delta","row"]),adjustWidth:Il(["table","delta","column"]),startAdjust:Il([])});return{destroy:()=>{V.unbind(),ce.unbind(),y.destroy(),_u(f)},refresh:ie=>{t1(f,ie)},on:y.on,off:y.off,hideBars:xe(U2,f),showBars:xe(Dx,f),events:we.registry}},hf=f=>h=>h.options.get(f),Nx="100%",gm=f=>{var h;const y=f.dom,_=(h=y.getParent(f.selection.getStart(),y.isBlock))!==null&&h!==void 0?h:f.getBody();return ig(Oe.fromDom(_))+"px"},R0=f=>pe.from(f.options.get("table_clone_elements")),Fd=hf("table_header_type"),Eg=hf("table_column_resizing"),Z2=f=>Eg(f)==="preservetable",hi=f=>Eg(f)==="resizetable",Mc=hf("table_sizing_mode"),Ti=f=>Mc(f)==="relative",Ag=f=>Mc(f)==="fixed",dc=f=>Mc(f)==="responsive",Xo=hf("table_resize_bars"),oo=hf("table_style_by_css"),bp=hf("table_merge_content_on_paste"),Rx=f=>{const h=f.options,y=h.get("table_default_attributes");return h.isSet("table_default_attributes")?y:((_,D)=>dc(_)||oo(_)?D:Ag(_)?{...D,width:gm(_)}:{...D,width:Nx})(f,y)},Mx=hf("table_use_colgroups"),Tg=f=>Oe.fromDom(f.getBody()),Wn=f=>h=>Yn(h,Tg(f)),bf=f=>{ds(f,"data-mce-style");const h=y=>ds(y,"data-mce-style");Bo(ui(f),h),Bo(Qf(f),h),Bo(Md(f),h)},M0=f=>Oe.fromDom(f.selection.getStart()),et=f=>f.getBoundingClientRect().width,xp=f=>f.getBoundingClientRect().height,o1=f=>(h,y)=>{const _=h.dom.getStyle(y,f)||h.dom.getAttrib(y,f);return pe.from(_).filter(Ir)},ku=o1("width"),Bx=o1("height"),Ll=f=>Sc(f,Fr("table")).exists(Gm),n1=f=>za(f,"table"),hm=(f,h,y)=>{const _=D=>N=>y!==void 0&&y(N)||Yn(N,D);return Yn(f,h)?pe.some({boxes:pe.some([f]),start:f,finish:h}):n1(f).bind(D=>n1(h).bind(N=>{if(Yn(D,N))return pe.some({boxes:ni(D,f,h),start:f,finish:h});if(Es(D,N)){const F=Dd(h,"td,th",_(D)),V=F.length>0?F[F.length-1]:h;return pe.some({boxes:Yh(D,f,D,h,N),start:f,finish:V})}if(Es(N,D)){const F=Dd(f,"td,th",_(N)),V=F.length>0?F[F.length-1]:f;return pe.some({boxes:Yh(N,f,D,h,N),start:f,finish:V})}return((F,V)=>((ee,ce,we,ie=ne)=>{const be=[ce].concat(ee.up().all(ce)),fe=[we].concat(ee.up().all(we)),De=ht=>Ci(ht,ie).fold(()=>ht,vt=>ht.slice(0,vt+1)),Te=De(be),nt=De(fe),it=Tn(Te,ht=>Qe(nt,((vt,wt)=>xe(vt.eq,wt))(ee,ht)));return{firstpath:Te,secondpath:nt,shared:it}})(p0,F,V,void 0))(f,h).shared.bind(F=>Nr(F,"table",y).bind(V=>{const ee=Dd(h,"td,th",_(V)),ce=ee.length>0?ee[ee.length-1]:h,we=Dd(f,"td,th",_(V)),ie=we.length>0?we[we.length-1]:f;return pe.some({boxes:Yh(V,f,D,h,N),start:ie,finish:ce})}))}))},ts=(f,h)=>{const y=Va(f,h);return y.length>0?pe.some(y):pe.none()},ad=(f,h,y)=>Kf(f,h).bind(_=>Kf(f,y).bind(D=>Fh(n1,[_,D]).map(N=>({first:_,last:D,table:N})))),Dg=(f,h,y,_,D)=>((N,F)=>Tn(N,V=>Cs(V,F)))(f,D).bind(N=>((F,V,ee)=>la(F).bind(ce=>((we,ie,be,fe)=>nc(we,ie,Yn).bind(De=>{const Te=be>0?De.row+De.rowspan-1:De.row,nt=fe>0?De.column+De.colspan-1:De.column;return Dc(we,Te+be,nt+fe).map(it=>it.element)}))(Xh(ce),F,V,ee)))(N,h,y).bind(F=>((V,ee)=>za(V,"table").bind(ce=>Kf(ce,ee).bind(we=>hm(we,V).bind(ie=>ie.boxes.map(be=>({boxes:be,start:ie.start,finish:ie.finish}))))))(F,_))),zd=(f,h)=>ts(f,h),fl=(f,h,y)=>ad(f,h,y).bind(_=>{const D=ee=>Yn(f,ee),N="thead,tfoot,tbody,table",F=za(_.first,N,D),V=za(_.last,N,D);return F.bind(ee=>V.bind(ce=>Yn(ee,ce)?((we,ie,be)=>((fe,De,Te)=>_x(fe,De,Te).bind(nt=>((it,ht)=>{let vt=!0;const wt=xe(Br,ht);for(let Rt=ht.startRow;Rt<=ht.finishRow;Rt++)for(let Mt=ht.startCol;Mt<=ht.finishCol;Mt++)vt=vt&&Dc(it,Rt,Mt).exists(wt);return vt?pe.some(ht):pe.none()})(fe,nt)))(Xh(we),ie,be))(_.table,_.first,_.last):pe.none()))}),s1=kt,v_=f=>{const h=(y,_)=>Or(y,_).exists(D=>parseInt(D,10)>1);return f.length>0&&gt(f,y=>h(y,"rowspan")||h(y,"colspan"))?pe.some(f):pe.none()},Ix=(f,h,y)=>h.length<=1?pe.none():fl(f,y.firstSelectedSelector,y.lastSelectedSelector).map(_=>({bounds:_,cells:h})),pt=(f,h)=>({selection:f,kill:h}),Ds=()=>({tag:"none"}),qa=f=>({tag:"multiple",elements:f}),y_=f=>({tag:"single",element:f}),Px=(f,h,y,_)=>({start:No.on(f,h),finish:No.on(y,_)}),r1=(f,h)=>{const y=Ps(f,h);return Ii(Oe.fromDom(y.startContainer),y.startOffset,Oe.fromDom(y.endContainer),y.endOffset)},vo=Px,Hd=(f,h,y,_,D)=>Yn(y,_)?pe.none():hm(y,_,h).bind(N=>{const F=N.boxes.getOr([]);return F.length>1?(D(f,F,N.start,N.finish),pe.some(pt(pe.some(vo(y,0,y,sl(y))),!0))):pe.none()}),B0=st([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),w_=f=>Nr(f,"tr"),Og={...B0,verify:(f,h,y,_,D,N,F)=>Nr(_,"td,th",F).bind(V=>Nr(h,"td,th",F).map(ee=>Yn(V,ee)?Yn(_,V)&&sl(V)===D?N(ee):B0.none("in same cell"):Fh(w_,[V,ee]).fold(()=>((ce,we,ie)=>{const be=ce.getRect(we),fe=ce.getRect(ie);return fe.right>be.left&&fe.left<be.right})(f,ee,V)?B0.success():N(ee),ce=>N(ee)))).getOr(B0.none("default")),cata:(f,h,y,_,D)=>f.fold(h,y,_,D)},mo=Fr("br"),a1=(f,h,y)=>h(f,y).bind(_=>_l(_)&&qs(_).trim().length===0?a1(_,h,y):pe.some(_)),Su=(f,h,y,_)=>((D,N)=>Z(D,N).filter(mo).orThunk(()=>Z(D,N-1).filter(mo)))(h,y).bind(D=>_.traverse(D).fold(()=>a1(D,_.gather,f).map(_.relative),N=>(F=>tc(F).bind(V=>{const ee=Fa(V);return((ce,we)=>Ci(ce,xe(Yn,we)))(ee,F).map(ce=>((we,ie,be,fe)=>({parent:we,children:ie,element:be,index:fe}))(V,ee,F,ce))}))(N).map(F=>No.on(F.parent,F.index)))),id=(f,h)=>({left:f.left,top:f.top+h,right:f.right,bottom:f.bottom+h}),Ng=(f,h)=>({left:f.left,top:f.top-h,right:f.right,bottom:f.bottom-h}),Fl=(f,h,y)=>({left:f.left+h,top:f.top+y,right:f.right+h,bottom:f.bottom+y}),Rg=f=>({left:f.left,top:f.top,right:f.right,bottom:f.bottom}),i1=(f,h)=>pe.some(f.getRect(h)),I0=(f,h,y)=>vr(h)?i1(f,h).map(Rg):_l(h)?((_,D,N)=>N>=0&&N<sl(D)?_.getRangedRect(D,N,D,N+1):N>0?_.getRangedRect(D,N-1,D,N):pe.none())(f,h,y).map(Rg):pe.none(),Mg=(f,h)=>vr(h)?i1(f,h).map(Rg):_l(h)?f.getRangedRect(h,0,h,sl(h)).map(Rg):pe.none(),Di=st([{none:[]},{retry:["caret"]}]),Oi=(f,h,y)=>Sc(h,zh).fold(ne,_=>Mg(f,_).exists(D=>((N,F)=>N.left<F.left||Math.abs(F.right-N.left)<1||N.left>F.right)(y,D))),l1={point:f=>f.bottom,adjuster:(f,h,y,_,D)=>{const N=id(D,5);return Math.abs(y.bottom-_.bottom)<1||y.top>D.bottom?Di.retry(N):y.top===D.bottom?Di.retry(id(D,1)):Oi(f,h,D)?Di.retry(Fl(N,5,0)):Di.none()},move:id,gather:Ys},bm=(f,h,y,_,D)=>D===0?pe.some(_):((N,F,V)=>N.elementFromPoint(F,V).filter(ee=>Fs(ee)==="table").isSome())(f,_.left,h.point(_))?((N,F,V,ee,ce)=>bm(N,F,V,F.move(ee,5),ce))(f,h,y,_,D-1):f.situsFromPoint(_.left,h.point(_)).bind(N=>N.start.fold(pe.none,F=>Mg(f,F).bind(V=>h.adjuster(f,F,V,y,_).fold(pe.none,ee=>bm(f,h,y,ee,D-1))).orThunk(()=>pe.some(_)),pe.none)),Qo=(f,h,y)=>{const _=f.move(y,5),D=bm(h,f,y,_,100).getOr(_);return((N,F,V)=>N.point(F)>V.getInnerHeight()?pe.some(N.point(F)-V.getInnerHeight()):N.point(F)<0?pe.some(-N.point(F)):pe.none())(f,D,h).fold(()=>h.situsFromPoint(D.left,f.point(D)),N=>(h.scrollBy(0,N),h.situsFromPoint(D.left,f.point(D)-N)))},ji={tryUp:xe(Qo,{point:f=>f.top,adjuster:(f,h,y,_,D)=>{const N=Ng(D,5);return Math.abs(y.top-_.top)<1||y.bottom<D.top?Di.retry(N):y.bottom===D.top?Di.retry(Ng(D,1)):Oi(f,h,D)?Di.retry(Fl(N,5,0)):Di.none()},move:Ng,gather:ic}),tryDown:xe(Qo,l1),getJumpSize:yt(5)},Vd=(f,h,y)=>f.getSelection().bind(_=>((D,N,F,V)=>(mo(N)?((ce,we,ie)=>ie.traverse(we).orThunk(()=>a1(we,ie.gather,ce)).map(ie.relative))(D,N,V):Su(D,N,F,V)).map(ce=>({start:ce,finish:ce})))(h,_.finish,_.foffset,y).fold(()=>pe.some(cm(_.finish,_.foffset)),D=>{const N=f.fromSitus(D);return F=Og.verify(f,_.finish,_.foffset,N.finish,N.foffset,y.failure,h),Og.cata(F,V=>pe.none(),()=>pe.none(),V=>pe.some(cm(V,0)),V=>pe.some(cm(V,sl(V))));var F})),vp=(f,h,y,_,D,N)=>N===0?pe.none():j2(f,h,y,_,D).bind(F=>{const V=f.fromSitus(F),ee=Og.verify(f,y,_,V.finish,V.foffset,D.failure,h);return Og.cata(ee,()=>pe.none(),()=>pe.some(F),ce=>Yn(y,ce)&&_===0?yp(f,y,_,Ng,D):vp(f,h,ce,0,D,N-1),ce=>Yn(y,ce)&&_===sl(ce)?yp(f,y,_,id,D):vp(f,h,ce,sl(ce),D,N-1))}),yp=(f,h,y,_,D)=>I0(f,h,y).bind(N=>xn(f,D,_(N,ji.getJumpSize()))),xn=(f,h,y)=>{const _=Ea().browser;return _.isChromium()||_.isSafari()||_.isFirefox()?h.retry(f,y):pe.none()},j2=(f,h,y,_,D)=>I0(f,y,_).bind(N=>xn(f,D,N)),wp=(f,h,y,_,D)=>Nr(_,"td,th",h).bind(N=>Nr(N,"table",h).bind(F=>((V,ee)=>qm(V,ce=>tc(ce).exists(we=>Yn(we,ee)),void 0).isSome())(D,F)?((V,ee,ce)=>Vd(V,ee,ce).bind(we=>vp(V,ee,we.element,we.offset,ce,20).map(V.fromSitus)))(f,h,y).bind(V=>Nr(V.finish,"td,th",h).map(ee=>({start:N,finish:ee,range:V}))):pe.none())),c1=(f,h,y,_,D,N)=>N(_,h).orThunk(()=>wp(f,h,y,_,D).map(F=>{const V=F.range;return pt(pe.some(vo(V.start,V.soffset,V.finish,V.foffset)),!0)})),Lx=(f,h)=>Nr(f,"tr",h).bind(y=>Nr(y,"table",h).bind(_=>{const D=Va(_,"tr");return Yn(y,D[0])?((N,F,V)=>O2(dm,N,ee=>du(ee).isSome(),V))(_,0,h).map(N=>{const F=sl(N);return pt(pe.some(vo(N,F,N,F)),!0)}):pe.none()})),W2=(f,h)=>Nr(f,"tr",h).bind(y=>Nr(y,"table",h).bind(_=>{const D=Va(_,"tr");return Yn(y,D[D.length-1])?((N,F,V)=>m0(dm,N,ee=>rl(ee).isSome(),V))(_,0,h).map(N=>pt(pe.some(vo(N,0,N,0)),!0)):pe.none()})),Fx=(f,h,y,_,D,N,F)=>wp(f,y,_,D,N).bind(V=>Hd(h,y,V.start,V.finish,F)),zx=(f,h)=>Nr(f,"td,th",h),q2=f=>lu(f).exists(Gm),xf={traverse:Kc,gather:Ys,relative:No.before,retry:ji.tryDown,failure:Og.failedDown},Dn={traverse:Xu,gather:ic,relative:No.before,retry:ji.tryUp,failure:Og.failedUp},Cp=f=>h=>h===f,d1=Cp(38),P0=Cp(40),ld=f=>f>=37&&f<=40,G2={isBackward:Cp(37),isForward:Cp(39)},Bg={isBackward:Cp(39),isForward:Cp(37)},Hx=f=>({elementFromPoint:(h,y)=>Oe.fromPoint(Oe.fromDom(f.document),h,y),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,y,_,D)=>{const N=Qc.exact(h,y,_,D);return((F,V)=>(ee=>{const ce=ee.getClientRects(),we=ce.length>0?ce[0]:ee.getBoundingClientRect();return we.width>0||we.height>0?pe.some(we).map(xr):pe.none()})(Ps(F,V)))(f,N)},getSelection:()=>Od(f).map(h=>r1(f,h)),fromSitus:h=>{const y=Qc.relative(h.start,h.finish);return r1(f,y)},situsFromPoint:(h,y)=>Ec(f,h,y).map(_=>Px(_.start,_.soffset,_.finish,_.foffset)),clearSelection:()=>{(h=>{Dl(h).each(y=>y.removeAllRanges())})(f)},collapseSelection:(h=!1)=>{Od(f).each(y=>y.fold(_=>_.collapse(h),(_,D)=>{const N=h?_:D;Xm(f,N,N)},(_,D,N,F)=>{const V=h?_:N,ee=h?D:F;Ym(f,V,ee,V,ee)}))},setSelection:h=>{Ym(f,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,y)=>{Xm(f,h,y)},selectNode:h=>{Xf(f,h,!1)},selectContents:h=>{Xf(f,h)},getInnerHeight:()=>f.innerHeight,getScrollY:()=>(h=>{const y=h!==void 0?h.dom:document,_=y.body.scrollLeft||y.documentElement.scrollLeft,D=y.body.scrollTop||y.documentElement.scrollTop;return bo(_,D)})(Oe.fromDom(f.document)).top,scrollBy:(h,y)=>{((_,D,N)=>{const F=(N!==void 0?N.dom:document).defaultView;F&&F.scrollBy(_,D)})(h,y,Oe.fromDom(f.document))}}),Wi=(f,h)=>({rows:f,cols:h}),_p=f=>Sc(f,iu).exists(Gm),Eu=(f,h)=>_p(f)||_p(h),xm="data-mce-selected",L0="data-mce-first-selected",kp="data-mce-last-selected",u1="["+xm+"]",Sp={selected:xm,selectedSelector:"td["+xm+"],th["+xm+"]",firstSelected:L0,firstSelectedSelector:"td["+L0+"],th["+L0+"]",lastSelected:kp,lastSelectedSelector:"td["+kp+"],th["+kp+"]"},m1=(f,h,y)=>({element:y,mergable:Ix(h,f,Sp),unmergable:v_(f),selection:s1(f)}),vm=f=>(h,y)=>{const _=Fs(h),D=_==="col"||_==="colgroup"?la(N=h).bind(F=>zd(F,Sp.firstSelectedSelector)).fold(yt(N),F=>F[0]):h;var N;return Nr(D,f,y)},Au=vm("th,td,caption"),f1=vm("th,td"),Vs=f=>{return h=f.model.table.getSelectedCells(),A(h,Oe.fromDom);var h},p1=(f,h)=>{f.on("BeforeGetContent",y=>{const _=D=>{y.preventDefault(),(N=>la(N[0]).map(F=>{const V=((ee,ce)=>{const we=vt=>Cs(vt.element,ce),ie=Sl(ee),be=np(ie),fe=xg(ee),De=rp(be),Te=((vt,wt)=>{const Rt=vt.grid.columns;let Mt=vt.grid.rows,to=Rt,ho=0,pn=0;const Mo=[],Go=[];return Uo(vt.access,Po=>{if(Mo.push(Po),wt(Po)){Go.push(Po);const qn=Po.row,Bt=qn+Po.rowspan-1,da=Po.column,Ba=da+Po.colspan-1;qn<Mt?Mt=qn:Bt>ho&&(ho=Bt),da<to?to=da:Ba>pn&&(pn=Ba)}}),((Po,qn,Bt,da,Ba,Hl)=>({minRow:Po,minCol:qn,maxRow:Bt,maxCol:da,allCells:Ba,selectedCells:Hl}))(Mt,to,ho,pn,Mo,Go)})(De,we),nt="th:not("+ce+"),td:not("+ce+")",it=Ja(ie,"th,td",vt=>Cs(vt,nt));Bo(it,Qa),((vt,wt,Rt,Mt)=>{const to=$n(vt,Mo=>Mo.section!=="colgroup"),ho=wt.grid.columns,pn=wt.grid.rows;for(let Mo=0;Mo<pn;Mo++){let Go=!1;for(let Po=0;Po<ho;Po++)Mo<Rt.minRow||Mo>Rt.maxRow||Po<Rt.minCol||Po>Rt.maxCol||(Dc(wt,Mo,Po).filter(Mt).isNone()?am(to,Go,Mo):Go=!0)}})(be,De,Te,we);const ht=((vt,wt,Rt,Mt)=>{if(Mt.minCol===0&&wt.grid.columns===Mt.maxCol+1)return 0;const to=sf(wt,vt,Rt),ho=Et(to,(Go,Po)=>Go+Po,0),pn=Et(to.slice(Mt.minCol,Mt.maxCol+1),(Go,Po)=>Go+Po,0),Mo=pn/ho*Rt.pixelWidth()-Rt.pixelWidth();return Rt.getCellDelta(Mo)})(ee,Zn(ee),fe,Te);return((vt,wt,Rt,Mt)=>{Uo(Rt.columns,ho=>{(ho.column<wt.minCol||ho.column>wt.maxCol)&&Qa(ho.element)});const to=$n(vs(vt,"tr"),ho=>ho.dom.childElementCount===0);Bo(to,Qa),wt.minCol!==wt.maxCol&&wt.minRow!==wt.maxRow||Bo(vs(vt,"th,td"),ho=>{ds(ho,"rowspan"),ds(ho,"colspan")}),ds(vt,sp),ds(vt,"data-snooker-col-series"),xg(vt).adjustTableWidth(Mt)})(ie,Te,De,ht),ie})(F,u1);return bf(V),[V]}))(D).each(N=>{const F=y.format==="text"?((V,ee)=>{const ce=V.getDoc(),we=Ce(Oe.fromDom(V.getBody())),ie=Oe.fromTag("div",ce);Pn(ie,"data-mce-bogus","all"),Jn(ie,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const be=(De=>ae(De)?De:Oe.fromDom(ra(De).dom.body))(we);Xn(ie,ee),Ae(be,ie);const fe=ie.dom.innerText;return Qa(ie),fe})(f,N):((V,ee)=>A(ee,ce=>V.selection.serializer.serialize(ce.dom,{})).join(""))(f,N);y.content=F})};if(y.selection===!0){const D=(N=>$n(Vs(N),F=>Cs(F,Sp.selectedSelector)))(f);D.length>=1&&_(D)}}),f.on("BeforeSetContent",y=>{if(y.selection===!0&&y.paste===!0){const _=Vs(f);So(_).each(D=>{la(D).each(N=>{const F=$n((ee=>{const ce=document.createElement("div");return ce.innerHTML=ee,Fa(Oe.fromDom(ce))})(y.content),ee=>Fs(ee)!=="meta"),V=Fr("table");if(bp(f)&&F.length===1&&V(F[0])){y.preventDefault();const ee=Oe.fromDom(f.getDoc()),ce=_t(ee),we=((ie,be,fe)=>({element:ie,clipboard:be,generators:fe}))(D,F[0],ce);h.pasteCells(N,we).each(()=>{f.focus()})}})})}})},pl=(f,h)=>f.dispatch("NewRow",{node:h}),g1=(f,h)=>f.dispatch("NewCell",{node:h}),vf=(f,h,y)=>{f.dispatch("TableModified",{...y,table:h})},Tu={structure:!1,style:!0},Cr={structure:!0,style:!1},ym={structure:!0,style:!0},zl=(f,h)=>Ti(f)?il(h):Ag(f)?ct(h):xg(h),K2=(f,h,y)=>{const _=we=>Fs(Tg(we))==="table",D=R0(f),N=hi(f)?Ne:mn,F=we=>{switch(Fd(f)){case"section":return k();case"sectionCells":return R();case"cells":return H();default:return((ie,be)=>{var fe;switch((fe=Zn(ie),z(fe.all,De=>{const Te=Dh(De);return Te.type==="header"?pe.from(Te.subType):pe.none()})).getOr(be)){case"section":return ug();case"sectionCells":return Na();case"cells":return fu()}})(we,"section")}},V=(we,ie,be,fe)=>(De,Te,nt=!1)=>{bf(De);const it=Oe.fromDom(f.getDoc()),ht=Pd(be,it,D),vt={sizing:zl(f,De),resize:hi(f)?Da():Rd(),section:F(De)};return ie(De)?we(De,Te,ht,vt).bind(wt=>{h.refresh(De.dom),Bo(wt.newRows,Mt=>{pl(f,Mt.dom)}),Bo(wt.newCells,Mt=>{g1(f,Mt.dom)});const Rt=((Mt,to)=>to.cursor.fold(()=>{const ho=ui(Mt);return So(ho).filter(Yc).map(pn=>{y.clearSelectedCells(Mt.dom);const Mo=f.dom.createRng();return Mo.selectNode(pn.dom),f.selection.setRng(Mo),Pn(pn,"data-mce-selected","1"),Mo})},ho=>{const pn=d0(u0,ho),Mo=f.dom.createRng();return Mo.setStart(pn.element.dom,pn.offset),Mo.setEnd(pn.element.dom,pn.offset),f.selection.setRng(Mo),y.clearSelectedCells(Mt.dom),pe.some(Mo)}))(De,wt);return Yc(De)&&(bf(De),nt||vf(f,De.dom,fe)),Rt.map(Mt=>({rng:Mt,effect:fe}))}):pe.none()},ee=V(A0,we=>!_(f)||fn(we).rows>1,Ne,Cr),ce=V(yx,we=>!_(f)||fn(we).columns>1,Ne,Cr);return{deleteRow:ee,deleteColumn:ce,insertRowsBefore:V(vx,Ct,Ne,Cr),insertRowsAfter:V(ja,Ct,Ne,Cr),insertColumnsBefore:V(pf,Ct,N,Cr),insertColumnsAfter:V(Kh,Ct,N,Cr),mergeCells:V(z2,Ct,Ne,Cr),unmergeCells:V(H2,Ct,Ne,Cr),pasteColsBefore:V(mm,Ct,Ne,Cr),pasteColsAfter:V(Cx,Ct,Ne,Cr),pasteRowsBefore:V($2,Ct,Ne,Cr),pasteRowsAfter:V(Ur,Ct,Ne,Cr),pasteCells:V(V2,Ct,Ne,ym),makeCellsHeader:V(va,Ct,Ne,Cr),unmakeCellsHeader:V(Ld,Ct,Ne,Cr),makeColumnsHeader:V(wx,Ct,Ne,Cr),unmakeColumnsHeader:V(P2,Ct,Ne,Cr),makeRowsHeader:V(L2,Ct,Ne,Cr),makeRowsBody:V(T0,Ct,Ne,Cr),makeRowsFooter:V(F2,Ct,Ne,Cr),getTableRowType:oi,getTableCellType:Wa,getTableColType:Mr}},C_=(f,h)=>{f.selection.select(h.dom,!0),f.selection.collapse(!0)},Ig=(f,h,y,_,D)=>{const N=(V=>{const ee=V.options,ce=ee.get("table_default_styles");return ee.isSet("table_default_styles")?ce:((we,ie)=>dc(we)||!oo(we)?ie:Ag(we)?{...ie,width:gm(we)}:{...ie,width:Nx})(V,ce)})(f),F={styles:N,attributes:Rx(f),colGroups:Mx(f)};return f.undoManager.ignore(()=>{const V=((ce,we,ie,be,fe,De=Sx)=>{const Te=Oe.fromTag("table"),nt=fe!=="cells";Jn(Te,De.styles),aa(Te,De.attributes),De.colGroups&&Ae(Te,(wt=>{const Rt=Oe.fromTag("colgroup");return Jt(wt,()=>Ae(Rt,Oe.fromTag("col"))),Rt})(we));const it=Math.min(ce,ie);if(nt&&ie>0){const wt=Oe.fromTag("thead");Ae(Te,wt);const Rt=D0(ie,we,fe==="sectionCells"?it:0,be);Xn(wt,Rt)}const ht=Oe.fromTag("tbody");Ae(Te,ht);const vt=D0(nt?ce-it:ce,we,nt?0:ie,be);return Xn(ht,vt),Te})(y,h,D,_,Fd(f),F);Pn(V,"data-mce-id","__mce");const ee=(ce=>{const we=Oe.fromTag("div"),ie=Oe.fromDom(ce.dom.cloneNode(!0));return Ae(we,ie),(be=>be.dom.innerHTML)(we)})(V);f.insertContent(ee),f.addVisual()}),Kf(Tg(f),'table[data-mce-id="__mce"]').map(V=>(Ag(f)?Hh(V):dc(f)?fp(V):(Ti(f)||(ee=>Ye(ee)&&ee.indexOf("%")!==-1)(N.width))&&pi(V),bf(V),ds(V,"data-mce-id"),((ee,ce)=>{Bo(Va(ce,"tr"),we=>{pl(ee,we.dom),Bo(Va(we,"th,td"),ie=>{g1(ee,ie.dom)})})})(f,V),((ee,ce)=>{Kf(ce,"td,th").each(xe(C_,ee))})(f,V),V.dom)).getOrNull()};var Ep=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Vx="x-tinymce/dom-table-",Ap=Vx+"rows",Pg=Vx+"columns",Y2=f=>{const h=Ep.FakeClipboardItem(f);Ep.write([h])},h1=f=>{var h;const y=(h=Ep.read())!==null&&h!==void 0?h:[];return z(y,_=>pe.from(_.getType(f)))},$x=f=>{h1(f).isSome()&&Ep.clear()},Tp=f=>{f.fold(Ux,h=>Y2({[Ap]:h}))},wm=()=>h1(Ap),Ux=()=>$x(Ap),b1=f=>{f.fold(Dp,h=>Y2({[Pg]:h}))},Zx=()=>h1(Pg),Dp=()=>$x(Pg),Op=f=>Au(M0(f),Wn(f)).filter(Ll),X2=(f,h)=>{const y=Wn(f),_=ie=>la(ie,y),D=ie=>(be=>f1(M0(be),Wn(be)).filter(Ll))(f).bind(be=>_(be).map(fe=>ie(fe,be))),N=ie=>{f.focus()},F=(ie,be=!1)=>D((fe,De)=>{const Te=m1(Vs(f),fe,De);ie(fe,Te,be).each(N)}),V=()=>D((ie,be)=>((fe,De,Te)=>{const nt=Zn(fe);return Ra(nt,De).bind(it=>{const ht=ip(nt,Te,!1),vt=Qt(ht).rows.slice(it[0].row,it[it.length-1].row+it[it.length-1].rowspan),wt=Ee(vt,Mt=>{const to=$n(Mt.cells,ho=>!ho.isLocked);return to.length>0?[{...Mt,cells:to}]:[]}),Rt=fi(wt);return tl(Rt.length>0,Rt)}).map(it=>A(it,ht=>{const vt=Sd(ht.element);return Bo(ht.cells,wt=>{const Rt=Sl(wt.element);gu(Rt,"colspan",wt.colspan,1),gu(Rt,"rowspan",wt.rowspan,1),Ae(vt,Rt)}),vt}))})(ie,m1(Vs(f),ie,be),Pd(Ne,Oe.fromDom(f.getDoc()),pe.none()))),ee=()=>D((ie,be)=>((fe,De)=>{const Te=Zn(fe);return lp(Te,De).map(nt=>{const it=nt[nt.length-1],ht=nt[0].column,vt=it.column+it.colspan,wt=((Mt,to,ho)=>{if(Oa(Mt)){const pn=$n(sc(Mt),l0(to,ho)),Mo=A(pn,Po=>{const qn=Sl(Po.element);return bu(qn,"span",ho-to),qn}),Go=Oe.fromTag("colgroup");return Xn(Go,Mo),[Go]}return[]})(Te,ht,vt),Rt=((Mt,to,ho)=>A(Mt.all,pn=>{const Mo=$n(pn.cells,l0(to,ho)),Go=A(Mo,qn=>{const Bt=Sl(qn.element);return bu(Bt,"colspan",ho-to),Bt}),Po=Oe.fromTag("tr");return Xn(Po,Go),Po}))(Te,ht,vt);return[...wt,...Rt]})})(ie,m1(Vs(f),ie,be))),ce=(ie,be)=>be().each(fe=>{const De=A(fe,Te=>Sl(Te));D((Te,nt)=>{const it=_t(Oe.fromDom(f.getDoc())),ht=((vt,wt,Rt,Mt)=>({selection:s1(vt),clipboard:Rt,generators:Mt}))(Vs(f),0,De,it);ie(Te,ht).each(N)})}),we=ie=>(be,fe)=>((De,Te)=>Yo(De,Te)?pe.from(De[Te]):pe.none())(fe,"type").each(De=>{F(ie(De),fe.no_events)});Uo({mceTableSplitCells:()=>F(h.unmergeCells),mceTableMergeCells:()=>F(h.mergeCells),mceTableInsertRowBefore:()=>F(h.insertRowsBefore),mceTableInsertRowAfter:()=>F(h.insertRowsAfter),mceTableInsertColBefore:()=>F(h.insertColumnsBefore),mceTableInsertColAfter:()=>F(h.insertColumnsAfter),mceTableDeleteCol:()=>F(h.deleteColumn),mceTableDeleteRow:()=>F(h.deleteRow),mceTableCutCol:()=>ee().each(ie=>{b1(ie),F(h.deleteColumn)}),mceTableCutRow:()=>V().each(ie=>{Tp(ie),F(h.deleteRow)}),mceTableCopyCol:()=>ee().each(ie=>b1(ie)),mceTableCopyRow:()=>V().each(ie=>Tp(ie)),mceTablePasteColBefore:()=>ce(h.pasteColsBefore,Zx),mceTablePasteColAfter:()=>ce(h.pasteColsAfter,Zx),mceTablePasteRowBefore:()=>ce(h.pasteRowsBefore,wm),mceTablePasteRowAfter:()=>ce(h.pasteRowsAfter,wm),mceTableDelete:()=>Op(f).each(ie=>{la(ie,y).filter(He(y)).each(be=>{const fe=Oe.fromText("");if(K(be,fe),Qa(be),f.dom.isEmpty(f.getBody()))f.setContent(""),f.selection.setCursorLocation();else{const De=f.dom.createRng();De.setStart(fe.dom,0),De.setEnd(fe.dom,0),f.selection.setRng(De),f.nodeChanged()}})}),mceTableCellToggleClass:(ie,be)=>{D(fe=>{const De=Vs(f),Te=gt(De,it=>f.formatter.match("tablecellclass",{value:be},it.dom)),nt=Te?f.formatter.remove:f.formatter.apply;Bo(De,it=>nt("tablecellclass",{value:be},it.dom)),vf(f,fe.dom,Tu)})},mceTableToggleClass:(ie,be)=>{D(fe=>{f.formatter.toggle("tableclass",{value:be},fe.dom),vf(f,fe.dom,Tu)})},mceTableToggleCaption:()=>{Op(f).each(ie=>{la(ie,y).each(be=>{ue(be,"caption").fold(()=>{const fe=Oe.fromTag("caption");Ae(fe,Oe.fromText("Caption")),((De,Te)=>{Z(De,0).fold(()=>{Ae(De,Te)},nt=>{I(nt,Te)})})(be,fe),f.selection.setCursorLocation(fe.dom,0)},fe=>{Fr("caption")(ie)&&Mi("td",be).each(De=>f.selection.setCursorLocation(De.dom,0)),Qa(fe)}),vf(f,be.dom,Cr)})})},mceTableSizingMode:(ie,be)=>(fe=>Op(f).each(De=>{dc(f)||Ag(f)||Ti(f)||la(De,y).each(Te=>{fe!=="relative"||cl(Te)?fe!=="fixed"||Ih(Te)?fe!=="responsive"||vg(Te)||fp(Te):Hh(Te):pi(Te),bf(Te),vf(f,Te.dom,Cr)})}))(be),mceTableCellType:we(ie=>ie==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:we(ie=>ie==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:we(ie=>{switch(ie){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(ie,be)=>f.addCommand(be,ie)),f.addCommand("mceInsertTable",(ie,be)=>{((fe,De,Te,nt={})=>{const it=ht=>xt(ht)&&ht>0;if(it(De)&&it(Te)){const ht=nt.headerRows||0,vt=nt.headerColumns||0;return Ig(fe,Te,De,vt,ht)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(f,be.rows,be.columns,be.options)}),f.addCommand("mceTableApplyCellStyle",(ie,be)=>{const fe=nt=>"tablecell"+nt.toLowerCase().replace("-","");if(!Me(be))return;const De=$n(Vs(f),Ll);if(De.length===0)return;const Te=((nt,it)=>{const ht={};return((vt,wt,Rt,Mt)=>{Uo(vt,(to,ho)=>{(wt(to,ho)?Rt:Mt)(to,ho)})})(nt,it,(vt=>(wt,Rt)=>{vt[Rt]=wt})(ht),Ne),ht})(be,(nt,it)=>f.formatter.has(fe(it))&&Ye(nt));(nt=>{for(const it in nt)if(Is.call(nt,it))return!1;return!0})(Te)||(Uo(Te,(nt,it)=>{const ht=fe(it);Bo(De,vt=>{nt===""?f.formatter.remove(ht,{value:null},vt.dom,!0):f.formatter.apply(ht,{value:nt},vt.dom)})}),_(De[0]).each(nt=>vf(f,nt.dom,Tu)))})},F0=f=>!Td(Oe.fromDom(f.target),"ephox-snooker-resizer-bar"),jx=(f,h)=>{const y=(D=Sp.selectedSelector,{get:()=>zd(Oe.fromDom(f.getBody()),D).fold(()=>f1(M0(f),Wn(f)).fold(Ds,y_),qa)}),_=((N,F,V)=>{const ee=be=>{ds(be,N.selected),ds(be,N.firstSelected),ds(be,N.lastSelected)},ce=be=>{Pn(be,N.selected,"1")},we=be=>{ie(be),V()},ie=be=>{const fe=Va(be,`${N.selectedSelector},${N.firstSelectedSelector},${N.lastSelectedSelector}`);Bo(fe,ee)};return{clearBeforeUpdate:ie,clear:we,selectRange:(be,fe,De,Te)=>{we(be),Bo(fe,ce),Pn(De,N.firstSelected,"1"),Pn(Te,N.lastSelected,"1"),F(fe,De,Te)},selectedSelector:N.selectedSelector,firstSelectedSelector:N.firstSelectedSelector,lastSelectedSelector:N.lastSelectedSelector}})(Sp,(N,F,V)=>{la(F).each(ee=>{const ce=A(N,fe=>fe.dom),we=R0(f),ie=Pd(Ne,Oe.fromDom(f.getDoc()),we),be=((fe,De,Te)=>{const nt=Zn(fe);return Ra(nt,De).map(it=>{const ht=ip(nt,Te,!1),{rows:vt}=Qt(ht),wt=((Mt,to)=>{const ho=Mt.slice(0,to[to.length-1].row+1),pn=fi(ho);return Ee(pn,Mo=>{const Go=Mo.cells.slice(0,to[to.length-1].column+1);return A(Go,Po=>Po.element)})})(vt,it),Rt=((Mt,to)=>{const ho=Mt.slice(to[0].row+to[0].rowspan-1,Mt.length),pn=fi(ho);return Ee(pn,Mo=>{const Go=Mo.cells.slice(to[0].column+to[0].colspan-1,Mo.cells.length);return A(Go,Po=>Po.element)})})(vt,it);return{upOrLeftCells:wt,downOrRightCells:Rt}})})(ee,{selection:Vs(f)},ie).map(fe=>_i(fe,De=>A(De,Te=>Te.dom))).getOrUndefined();((fe,De,Te,nt,it)=>{fe.dispatch("TableSelectionChange",{cells:De,start:Te,finish:nt,otherCells:it})})(f,ce,F.dom,V.dom,be)})},()=>(N=>{N.dispatch("TableSelectionClear")})(f));var D;return f.on("init",N=>{const F=f.getWin(),V=Tg(f),ee=Wn(f),ce=((Te,nt,it,ht)=>{const vt=((wt,Rt,Mt,to)=>{const ho=Ya(),pn=ho.clear,Mo=Go=>{ho.on(Po=>{to.clearBeforeUpdate(Rt),zx(Go.target,Mt).each(qn=>{hm(Po,qn,Mt).each(Bt=>{const da=Bt.boxes.getOr([]);if(da.length===1){const Ba=da[0],Hl=ba(Ba)==="false",Ud=na(Ha(Go.target),Ba,Yn);Hl&&Ud&&to.selectRange(Rt,da,Ba,Ba)}else da.length>1&&(to.selectRange(Rt,da,Bt.start,Bt.finish),wt.selectContents(qn))})})})};return{clearstate:pn,mousedown:Go=>{to.clear(Rt),zx(Go.target,Mt).filter(q2).each(ho.set)},mouseover:Go=>{Mo(Go)},mouseup:Go=>{Mo(Go),pn()}}})(Hx(Te),nt,it,ht);return{clearstate:vt.clearstate,mousedown:vt.mousedown,mouseover:vt.mouseover,mouseup:vt.mouseup}})(F,V,ee,_),we=((Te,nt,it,ht)=>{const vt=Hx(Te),wt=()=>(ht.clear(nt),pe.none());return{keydown:(Rt,Mt,to,ho,pn,Mo)=>{const Go=Rt.raw,Po=Go.which,qn=Go.shiftKey===!0;return ts(nt,ht.selectedSelector).fold(()=>(ld(Po)&&!qn&&ht.clearBeforeUpdate(nt),ld(Po)&&qn&&!Eu(Mt,ho)?pe.none:P0(Po)&&qn?xe(Fx,vt,nt,it,xf,ho,Mt,ht.selectRange):d1(Po)&&qn?xe(Fx,vt,nt,it,Dn,ho,Mt,ht.selectRange):P0(Po)?xe(c1,vt,it,xf,ho,Mt,W2):d1(Po)?xe(c1,vt,it,Dn,ho,Mt,Lx):pe.none),da=>{const Ba=Hl=>()=>z(Hl,Zr=>((qi,yf,Ke,wf,x1)=>Dg(wf,qi,yf,x1.firstSelectedSelector,x1.lastSelectedSelector).map(Du=>(x1.clearBeforeUpdate(Ke),x1.selectRange(Ke,Du.boxes,Du.start,Du.finish),Du.boxes)))(Zr.rows,Zr.cols,nt,da,ht)).fold(()=>ad(nt,ht.firstSelectedSelector,ht.lastSelectedSelector).map(Zr=>{const qi=P0(Po)||Mo.isForward(Po)?No.after:No.before;return vt.setRelativeSelection(No.on(Zr.first,0),qi(Zr.table)),ht.clear(nt),pt(pe.none(),!0)}),Zr=>pe.some(pt(pe.none(),!0)));return ld(Po)&&qn&&!Eu(Mt,ho)?pe.none:P0(Po)&&qn?Ba([Wi(1,0)]):d1(Po)&&qn?Ba([Wi(-1,0)]):Mo.isBackward(Po)&&qn?Ba([Wi(0,-1),Wi(-1,0)]):Mo.isForward(Po)&&qn?Ba([Wi(0,1),Wi(1,0)]):ld(Po)&&!qn?wt:pe.none})()},keyup:(Rt,Mt,to,ho,pn)=>ts(nt,ht.selectedSelector).fold(()=>{const Mo=Rt.raw,Go=Mo.which;return Mo.shiftKey===!0&&ld(Go)&&Eu(Mt,ho)?((Po,qn,Bt,da,Ba,Hl,Ud)=>Yn(Bt,Ba)&&da===Hl?pe.none():Nr(Bt,"td,th",qn).bind(Zr=>Nr(Ba,"td,th",qn).bind(qi=>Hd(Po,qn,Zr,qi,Ud))))(nt,it,Mt,to,ho,pn,ht.selectRange):pe.none()},pe.none)}})(F,V,ee,_),ie=((Te,nt,it,ht)=>{const vt=Hx(Te);return(wt,Rt)=>{ht.clearBeforeUpdate(nt),hm(wt,Rt,it).each(Mt=>{const to=Mt.boxes.getOr([]);ht.selectRange(nt,to,Mt.start,Mt.finish),vt.selectContents(Rt),vt.collapseSelection()})}})(F,V,ee,_);f.on("TableSelectorChange",Te=>ie(Te.start,Te.finish));const be=(Te,nt)=>{(it=>it.raw.shiftKey===!0)(Te)&&(nt.kill&&Te.kill(),nt.selection.each(it=>{const ht=Qc.relative(it.start,it.finish),vt=Ps(F,ht);f.selection.setRng(vt)}))},fe=Te=>Te.button===0,De=(()=>{const Te=Wl(Oe.fromDom(V)),nt=Wl(0);return{touchEnd:it=>{const ht=Oe.fromDom(it.target);if(Fr("td")(ht)||Fr("th")(ht)){const vt=Te.get(),wt=nt.get();Yn(vt,ht)&&it.timeStamp-wt<300&&(it.preventDefault(),ie(ht,ht))}Te.set(ht),nt.set(it.timeStamp)}}})();f.on("dragstart",Te=>{ce.clearstate()}),f.on("mousedown",Te=>{fe(Te)&&F0(Te)&&ce.mousedown(Ho(Te))}),f.on("mouseover",Te=>{var nt;((nt=Te).buttons===void 0||1&nt.buttons)&&F0(Te)&&ce.mouseover(Ho(Te))}),f.on("mouseup",Te=>{fe(Te)&&F0(Te)&&ce.mouseup(Ho(Te))}),f.on("touchend",De.touchEnd),f.on("keyup",Te=>{const nt=Ho(Te);if(nt.raw.shiftKey&&ld(nt.raw.which)){const it=f.selection.getRng(),ht=Oe.fromDom(it.startContainer),vt=Oe.fromDom(it.endContainer);we.keyup(nt,ht,it.startOffset,vt,it.endOffset).each(wt=>{be(nt,wt)})}}),f.on("keydown",Te=>{const nt=Ho(Te);h.hide();const it=f.selection.getRng(),ht=Oe.fromDom(it.startContainer),vt=Oe.fromDom(it.endContainer),wt=Dt(G2,Bg)(Oe.fromDom(f.selection.getStart()));we.keydown(nt,ht,it.startOffset,vt,it.endOffset,wt).each(Rt=>{be(nt,Rt)}),h.show()}),f.on("NodeChange",()=>{const Te=f.selection,nt=Oe.fromDom(Te.getStart()),it=Oe.fromDom(Te.getEnd());Fh(la,[nt,it]).fold(()=>_.clear(V),Ne)})}),f.on("PreInit",()=>{f.serializer.addTempAttr(Sp.firstSelected),f.serializer.addTempAttr(Sp.lastSelected)}),{getSelectedCells:()=>((N,F)=>{switch(N.tag){case"none":return F();case"single":return(V=>[V.dom])(N.element);case"multiple":return(V=>A(V,ee=>ee.dom))(N.elements)}})(y.get(),yt([])),clearSelectedCells:N=>_.clear(Oe.fromDom(N))}},Q2=f=>St(f)&&f.nodeName==="TABLE",Lg="bar-",$d=f=>ia(f,"data-mce-resize")!=="false",J2=f=>{const h=Ya(),y=Ya(),_=Ya();let D,N,F,V;const ee=fe=>zl(f,fe),ce=()=>Z2(f)?Rd():Da(),we=(fe,De,Te,nt)=>{const it=(wt=>{return Kt(Rt=wt,"corner-")?(Mt=>Mt.substring(7))(Rt):Rt;var Rt})(De),ht=jo(it,"e"),vt=Kt(it,"n");if(N===""&&pi(fe),V===""&&(wt=>{const Rt=(Mt=>As(Mt)+"px")(wt);cf(wt,pe.none(),pe.some(Rt)),Wt(wt)})(fe),Te!==D&&N!==""){ha(fe,"width",N);const wt=ce(),Rt=ee(fe),Mt=Z2(f)||ht?(to=>fn(to).columns)(fe)-1:0;od(fe,Te-D,Mt,wt,Rt)}else if((wt=>/^(\d+(\.\d+)?)%$/.test(wt))(N)){const wt=parseFloat(N.replace("%",""));ha(fe,"width",Te*wt/D+"%")}if((wt=>/^(\d+(\.\d+)?)px$/.test(wt))(N)&&(wt=>{const Rt=Zn(wt);Oa(Rt)||Bo(ui(wt),Mt=>{const to=El(Mt,"width");ha(Mt,"width",to),ds(Mt,"width")})})(fe),nt!==F&&V!==""){ha(fe,"height",V);const wt=vt?0:(Rt=>fn(Rt).rows)(fe)-1;Ua(fe,nt-F,wt)}};f.on("init",()=>{const fe=((De,Te)=>((nt,it)=>({parent:yt(nt),view:yt(nt),dragContainer:yt(nt),origin:()=>yr(nt),isResizable:it}))(Oe.fromDom(De.getBody()),Te))(f,$d);if(_.set(fe),(De=>{const Te=De.options.get("object_resizing");return tn(Te.split(","),"table")})(f)&&Xo(f)){const De=((Te,nt,it)=>{const ht=pu,vt=mg,wt=gf(Te),Rt=pm({beforeResize:Il(["table","type"]),afterResize:Il(["table","type"]),startDrag:Il([])});return wt.events.adjustHeight.bind(Mt=>{const to=Mt.table;Rt.trigger.beforeResize(to,"row");const ho=ht.delta(Mt.delta,to);Ua(to,ho,Mt.row),Rt.trigger.afterResize(to,"row")}),wt.events.startAdjust.bind(Mt=>{Rt.trigger.startDrag()}),wt.events.adjustWidth.bind(Mt=>{const to=Mt.table;Rt.trigger.beforeResize(to,"col");const ho=vt.delta(Mt.delta,to),pn=it(to);od(to,ho,Mt.column,nt,pn),Rt.trigger.afterResize(to,"col")}),{on:wt.on,off:wt.off,refreshBars:wt.refresh,hideBars:wt.hideBars,showBars:wt.showBars,destroy:wt.destroy,events:Rt.registry}})(fe,ce(),ee);f.mode.isReadOnly()||De.on(),De.events.startDrag.bind(Te=>{h.set(f.selection.getRng())}),De.events.beforeResize.bind(Te=>{const nt=Te.table.dom;((it,ht,vt,wt,Rt)=>{it.dispatch("ObjectResizeStart",{target:ht,width:vt,height:wt,origin:Rt})})(f,nt,et(nt),xp(nt),Lg+Te.type)}),De.events.afterResize.bind(Te=>{const nt=Te.table,it=nt.dom;bf(nt),h.on(ht=>{f.selection.setRng(ht),f.focus()}),((ht,vt,wt,Rt,Mt)=>{ht.dispatch("ObjectResized",{target:vt,width:wt,height:Rt,origin:Mt})})(f,it,et(it),xp(it),Lg+Te.type),f.undoManager.add()}),y.set(De)}}),f.on("ObjectResizeStart",fe=>{const De=fe.target;if(Q2(De)&&!f.mode.isReadOnly()){const Te=Oe.fromDom(De);Bo(f.dom.select(".mce-clonedresizable"),nt=>{f.dom.addClass(nt,"mce-"+Eg(f)+"-columns")}),!Ih(Te)&&Ag(f)?Hh(Te):!cl(Te)&&Ti(f)&&pi(Te),vg(Te)&&Kt(fe.origin,Lg)&&pi(Te),D=fe.width,N=dc(f)?"":ku(f,De).getOr(""),F=fe.height,V=Bx(f,De).getOr("")}}),f.on("ObjectResized",fe=>{const De=fe.target;if(Q2(De)){const Te=Oe.fromDom(De),nt=fe.origin;(it=>Kt(it,"corner-"))(nt)&&we(Te,nt,fe.width,fe.height),bf(Te),vf(f,Te.dom,Tu)}});const ie=()=>{y.on(fe=>{fe.on(),fe.showBars()})},be=()=>{y.on(fe=>{fe.off(),fe.hideBars()})};return f.on("DisabledStateChange",fe=>{fe.state?be():ie()}),f.on("SwitchMode",()=>{f.mode.isReadOnly()?be():ie()}),f.on("dragstart dragend",fe=>{fe.type==="dragstart"?be():ie()}),f.on("remove",()=>{y.on(fe=>{fe.destroy()})}),{refresh:fe=>{y.on(De=>De.refreshBars(Oe.fromDom(fe)))},hide:()=>{y.on(fe=>fe.hideBars())},show:()=>{y.on(fe=>fe.showBars())}}},ey=f=>{(D=>{const N=D.options.register;N("table_clone_elements",{processor:"string[]"}),N("table_use_colgroups",{processor:"boolean",default:!0}),N("table_header_type",{processor:F=>{const V=tn(["section","cells","sectionCells","auto"],F);return V?{value:F,valid:V}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),N("table_sizing_mode",{processor:"string",default:"auto"}),N("table_default_attributes",{processor:"object",default:{border:"1"}}),N("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),N("table_column_resizing",{processor:F=>{const V=tn(["preservetable","resizetable"],F);return V?{value:F,valid:V}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),N("table_resize_bars",{processor:"boolean",default:!0}),N("table_style_by_css",{processor:"boolean",default:!0}),N("table_merge_content_on_paste",{processor:"boolean",default:!0})})(f);const h=J2(f),y=jx(f,h),_=K2(f,h,y);return X2(f,_),((D,N)=>{const F=Wn(D),V=ee=>f1(M0(D)).bind(ce=>la(ce,F).map(we=>{const ie=m1(Vs(D),we,ce);return ee(we,ie)})).getOr("");Uo({mceTableRowType:()=>V(N.getTableRowType),mceTableCellType:()=>V(N.getTableCellType),mceTableColType:()=>V(N.getTableColType)},(ee,ce)=>D.addQueryValueHandler(ce,ee))})(f,_),p1(f,_),{getSelectedCells:y.getSelectedCells,clearSelectedCells:y.clearSelectedCells}};re.add("dom",f=>({table:ey(f)}))})();tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:8px;margin-bottom:8px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-conversations{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px}.tox .tox-conversations__header{align-items:center;display:flex;justify-content:space-between;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 12px;background:#fff;z-index:1}.tox .tox-conversations__title{font-size:20px;font-weight:400;padding:8px 0 8px 0;color:#222f3e;line-height:28px}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-context-form__group .tox-button--icon.tox-lock-context-form-size-input{margin-left:8px;margin-right:8px}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-selectfield select option:checked{background-color:revert;color:revert}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox-mentions__card-common{z-index:1200}.tox.tox-mentions__card{background:#fff;border:1px solid #eee;display:flex;padding:4px 8px}.tox.tox-mentions__card .tox-mentions__container{display:flex;flex-direction:column;align-self:center;margin:0 4px}.tox .tox-mentions__avatar{width:42px;height:42px;border-radius:50%;margin-right:4px}.tox .tox-mentions__username{font-size:14px;line-height:21px}.tox .tox-mentions__description{font-size:12px;line-height:21px;color:rgba(34,47,62,.7)}.tox .tox-collection__item--active .tox-mentions__description{color:inherit}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#f0f0f0;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-cursor-default{cursor:ns-resize}.tox .tox-statusbar__resize-cursor-both{cursor:nwse-resize}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);var bz={},xz={},vz;function vY(){return vz||(vz=1,function(){var re=tinymce.util.Tools.resolve("tinymce.PluginManager");const ye=(k,R,H)=>{var le;return H(k,R.prototype)?!0:((le=k.constructor)===null||le===void 0?void 0:le.name)===R.name},Be=k=>{const R=typeof k;return k===null?"null":R==="object"&&Array.isArray(k)?"array":R==="object"&&ye(k,String,(H,le)=>le.isPrototypeOf(H))?"string":R},Ie=k=>R=>Be(R)===k,Ye=k=>R=>typeof R===k,Me=Ie("string"),Se=Ie("object"),Ve=Ie("array"),Ue=Ye("boolean"),ot=k=>k==null,St=k=>!ot(k),$t=Ye("function"),xt=Ye("number"),Ne=()=>{},yt=(k,R)=>H=>k(R(H)),kt=k=>()=>k,ut=(k,R)=>k===R;function xe(k,...R){return(...H)=>{const le=R.concat(H);return k.apply(null,le)}}const He=k=>R=>!k(R),We=kt(!1);class ne{constructor(R,H){this.tag=R,this.value=H}static some(R){return new ne(!0,R)}static none(){return ne.singletonNone}fold(R,H){return this.tag?H(this.value):R()}isSome(){return this.tag}isNone(){return!this.tag}map(R){return this.tag?ne.some(R(this.value)):ne.none()}bind(R){return this.tag?R(this.value):ne.none()}exists(R){return this.tag&&R(this.value)}forall(R){return!this.tag||R(this.value)}filter(R){return!this.tag||R(this.value)?this:ne.none()}getOr(R){return this.tag?this.value:R}or(R){return this.tag?this:R}getOrThunk(R){return this.tag?this.value:R()}orThunk(R){return this.tag?this:R()}getOrDie(R){if(this.tag)return this.value;throw new Error(R??"Called getOrDie on None")}static from(R){return St(R)?ne.some(R):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(R){this.tag&&R(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const Ct=Array.prototype.slice,pe=Array.prototype.indexOf,yn=Array.prototype.push,bs=(k,R)=>pe.call(k,R),wn=(k,R)=>bs(k,R)>-1,tn=(k,R)=>{for(let H=0,le=k.length;H<le;H++){const ve=k[H];if(R(ve,H))return!0}return!1},Qe=(k,R)=>{const H=k.length,le=new Array(H);for(let ve=0;ve<H;ve++){const ft=k[ve];le[ve]=R(ft,ve)}return le},Jt=(k,R)=>{for(let H=0,le=k.length;H<le;H++){const ve=k[H];R(ve,H)}},A=(k,R)=>{const H=[];for(let le=0,ve=k.length;le<ve;le++){const ft=k[le];R(ft,le)&&H.push(ft)}return H},Bo=(k,R)=>{if(k.length===0)return[];{let H=R(k[0]);const le=[];let ve=[];for(let ft=0,co=k.length;ft<co;ft++){const Ro=k[ft],Io=R(Ro);Io!==H&&(le.push(ve),ve=[]),H=Io,ve.push(Ro)}return ve.length!==0&&le.push(ve),le}},To=(k,R,H)=>(Jt(k,(le,ve)=>{H=R(H,le,ve)}),H),$n=(k,R,H)=>{for(let le=0,ve=k.length;le<ve;le++){const ft=k[le];if(R(ft,le))return ne.some(ft);if(H(ft,le))break}return ne.none()},ta=(k,R)=>$n(k,R,We),Et=k=>{const R=[];for(let H=0,le=k.length;H<le;++H){if(!Ve(k[H]))throw new Error("Arr.flatten item "+H+" was not an array, input: "+k);yn.apply(R,k[H])}return R},Tn=(k,R)=>Et(Qe(k,R)),Ci=k=>{const R=Ct.call(k,0);return R.reverse(),R},Ze=(k,R)=>R>=0&&R<k.length?ne.some(k[R]):ne.none(),Ee=k=>Ze(k,0),gt=k=>Ze(k,k.length-1),dn=(k,R)=>{const H=[],le=$t(R)?ve=>tn(H,ft=>R(ft,ve)):ve=>wn(H,ve);for(let ve=0,ft=k.length;ve<ft;ve++){const co=k[ve];le(co)||H.push(co)}return H},Do=Object.keys,So=(k,R)=>{const H=Do(k);for(let le=0,ve=H.length;le<ve;le++){const ft=H[le],co=k[ft];R(co,ft)}},qo=k=>(R,H)=>{k[H]=R},z=(k,R,H,le)=>{So(k,(ve,ft)=>{(R(ve,ft)?H:le)(ve,ft)})},dr=(k,R)=>{const H={};return z(k,R,qo(H),Ne),H},Is=k=>{let R=k;return{get:()=>R,set:ve=>{R=ve}}},Uo=typeof window<"u"?window:Function("return this;")(),_i=(k,R,H=ut)=>k.exists(le=>H(le,R)),oa=(k,R,H=ut)=>on(k,R,H).getOr(k.isNone()&&R.isNone()),on=(k,R,H)=>k.isSome()&&R.isSome()?ne.some(H(k.getOrDie(),R.getOrDie())):ne.none(),Kn=(k,R)=>{let H=R??Uo;for(let le=0;le<k.length&&H!==void 0&&H!==null;++le)H=H[k[le]];return H},Yo=(k,R)=>{const H=k.split(".");return Kn(H,R)},Wl=(k=>R=>R.replace(k,""))(/^\s+|\s+$/g),br=k=>k.length>0,Co=k=>!br(k),yc="\uFEFF",ws=k=>k===yc,Zs=(k,R)=>{const le=(R||document).createElement("div");if(le.innerHTML=k,!le.hasChildNodes()||le.childNodes.length>1){const ve="HTML does not have a single root node";throw console.error(ve,k),new Error(ve)}return Ss(le.childNodes[0])},js=(k,R)=>{const le=(R||document).createElement(k);return Ss(le)},ur=(k,R)=>{const le=(R||document).createTextNode(k);return Ss(le)},Ss=k=>{if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},hn={fromHtml:Zs,fromTag:js,fromText:ur,fromDom:Ss,fromPoint:(k,R,H)=>ne.from(k.dom.elementFromPoint(R,H)).map(Ss)},tl=8,ol=11,Ya=1,ki=3,nr=(k,R)=>{const H=k.dom;if(H.nodeType!==Ya)return!1;{const le=H;if(le.matches!==void 0)return le.matches(R);if(le.msMatchesSelector!==void 0)return le.msMatchesSelector(R);if(le.webkitMatchesSelector!==void 0)return le.webkitMatchesSelector(R);if(le.mozMatchesSelector!==void 0)return le.mozMatchesSelector(R);throw new Error("Browser lacks native selectors")}},Kt=(k,R)=>k.dom===R.dom,jo=(k,R)=>{const H=k.dom,le=R.dom;return H===le?!1:H.contains(le)},xs=nr,Ir=(k,R)=>Yo(k,R),Vt=(k,R)=>{const H=Ir(k,R);if(H==null)throw new Error(k+" not available on this browser");return H},Pr=Object.getPrototypeOf,tu=k=>Vt("HTMLElement",k),Un=k=>{const R=Yo("ownerDocument.defaultView",k);return Se(k)&&(tu(R).prototype.isPrototypeOf(k)||/^HTML\w*Element$/.test(Pr(k).constructor.name))},jn=k=>k.dom.nodeName.toLowerCase(),sa=k=>k.dom.nodeType,Tr=k=>R=>sa(R)===k,ou=k=>sa(k)===tl||jn(k)==="#comment",Zc=k=>Fo(k)&&Un(k.dom),Fo=Tr(Ya),mr=Tr(ki),pa=Tr(ol),_n=k=>R=>Fo(R)&&jn(R)===k,Qt=k=>ne.from(k.dom.parentNode).map(hn.fromDom),Lr=k=>ne.from(k.dom.parentElement).map(hn.fromDom),wc=k=>ne.from(k.dom.nextSibling).map(hn.fromDom),Oe=k=>Qe(k.dom.childNodes,hn.fromDom),ka=(k,R)=>{const H=k.dom.childNodes;return ne.from(H[R]).map(hn.fromDom)},Wo=k=>ka(k,0),nu=k=>ka(k,k.dom.childNodes.length-1),Sa=k=>pa(k)&&St(k.dom.host),ql=k=>hn.fromDom(k.dom.getRootNode()),xr=k=>{const R=ql(k);return Sa(R)?ne.some(R):ne.none()},Cc=k=>hn.fromDom(k.dom.host),ci=(k,R)=>{Qt(k).each(le=>{le.dom.insertBefore(R.dom,k.dom)})},yd=(k,R)=>{wc(k).fold(()=>{Qt(k).each(ve=>{Cs(ve,R)})},le=>{ci(le,R)})},Ps=(k,R)=>{Wo(k).fold(()=>{Cs(k,R)},le=>{k.dom.insertBefore(R.dom,le.dom)})},Cs=(k,R)=>{k.dom.appendChild(R.dom)},Bn=(k,R)=>{Jt(R,H=>{ci(k,H)})},Mi=(k,R)=>{Jt(R,H=>{Cs(k,H)})},Yn=(k,R,H)=>{if(Me(H)||Ue(H)||xt(H))k.setAttribute(R,H+"");else throw console.error("Invalid call to Attribute.set. Key ",R,":: Value ",H,":: Element ",k),new Error("Attribute value was not simple")},Es=(k,R)=>{const H=k.dom;So(R,(le,ve)=>{Yn(H,ve,le)})},_c=k=>To(k.dom.attributes,(R,H)=>(R[H.name]=H.value,R),{}),Si=k=>{k.dom.textContent="",Jt(Oe(k),R=>{Gl(R)})},Gl=k=>{const R=k.dom;R.parentNode!==null&&R.parentNode.removeChild(R)},Kl=(k,R)=>hn.fromDom(k.dom.cloneNode(R)),sr=k=>Kl(k,!0),su=(k,R)=>{const H=hn.fromTag(R),le=_c(k);return Es(H,le),H},rr=(k,R)=>{const H=su(k,R);yd(k,H);const le=Oe(k);return Mi(H,le),Gl(k),H},ru=k=>Qe(k,hn.fromDom),Um=k=>k.style!==void 0&&$t(k.style.getPropertyValue),Yl=k=>{const R=mr(k)?k.dom.parentNode:k.dom;if(R==null||R.ownerDocument===null)return!1;const H=R.ownerDocument;return xr(hn.fromDom(R)).fold(()=>H.body.contains(R),yt(Yl,Cc))},Ku=(k,R,H)=>{if(!Me(H))throw console.error("Invalid call to CSS.set. Property ",R,":: Value ",H,":: Element ",k),new Error("CSS value must be a string: "+H);Um(k)&&k.style.setProperty(R,H)},Ft=(k,R,H)=>{const le=k.dom;Ku(le,R,H)},nl=(k,R)=>{const le=document.createDocumentFragment();return Jt(k,ve=>{le.appendChild(ve.dom)}),hn.fromDom(le)};var au=(k,R,H,le,ve)=>k(H,le)?ne.some(H):$t(ve)&&ve(H)?ne.none():R(H,le,ve);const wd=(k,R,H)=>{let le=k.dom;const ve=$t(H)?H:We;for(;le.parentNode;){le=le.parentNode;const ft=hn.fromDom(le);if(R(ft))return ne.some(ft);if(ve(ft))break}return ne.none()},Xl=(k,R,H)=>au((ve,ft)=>ft(ve),wd,k,R,H),Dr=(k,R,H)=>wd(k,le=>nr(le,R),H),ar=(k,R,H)=>au((ve,ft)=>nr(ve,ft),Dr,k,R,H),Yu=k=>ar(k,"[contenteditable]"),Pa=(k,R=!1)=>Yl(k)?k.dom.isContentEditable:Yu(k).fold(kt(R),H=>jc(H)==="true"),jc=k=>k.dom.contentEditable,jf=(k,R,H)=>wd(k,R,H).isSome(),In=(k,R)=>jf(k,xe(Kt,R));var La=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Wc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ql=tinymce.util.Tools.resolve("tinymce.util.VK"),Cl=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Xa=tinymce.util.Tools.resolve("tinymce.util.Tools");const qc=k=>R=>St(R)&&R.nodeName.toLowerCase()===k,ir=k=>R=>St(R)&&k.test(R.nodeName),Ea=k=>St(k)&&k.nodeType===3,Ls=k=>St(k)&&k.nodeType===1,ga=ir(/^(OL|UL|DL)$/),Fs=ir(/^(OL|UL)$/),Gc=qc("ol"),Jl=ir(/^(LI|DT|DD)$/),Cd=ir(/^(DT|DD)$/),iu=ir(/^(TH|TD)$/),vr=qc("br"),_l=k=>{var R;return((R=k.parentNode)===null||R===void 0?void 0:R.firstChild)===k},ec=(k,R)=>St(R)&&R.nodeName in k.schema.getTextBlockElements(),_d=(k,R)=>St(k)&&k.nodeName in R,Fr=(k,R)=>St(R)&&R.nodeName in k.schema.getVoidElements(),kd=(k,R)=>vr(R)?k.isBlock(R.nextSibling)&&!vr(R.previousSibling):!1,ra=(k,R,H)=>{const le=k.isEmpty(R);return H&&k.select("span[data-mce-type=bookmark]",R).length>0?!1:le},tc=(k,R)=>k.isChildOf(R,k.getRoot()),lu=k=>R=>R.options.get(k),Zm=k=>{const R=k.options.register;R("lists_indent_on_tab",{processor:"boolean",default:!0})},Xu=lu("lists_indent_on_tab"),Kc=lu("forced_root_block"),Fa=lu("forced_root_block_attrs"),Z=(k,R,H={})=>{const le=k.dom,ve=k.schema.getBlockElements(),ft=le.createFragment(),co=Kc(k),Ro=Fa(k);let Io,uo,Qn=!1;for(uo=le.create(co,{...Ro,...H.style?{style:H.style}:{}}),_d(R.firstChild,ve)||ft.appendChild(uo);Io=R.firstChild;){const Ks=Io.nodeName;!Qn&&(Ks!=="SPAN"||Io.getAttribute("data-mce-type")!=="bookmark")&&(Qn=!0),_d(Io,ve)?(ft.appendChild(Io),uo=null):(uo||(uo=le.create(co,Ro),ft.appendChild(uo)),uo.appendChild(Io))}return!Qn&&uo&&uo.appendChild(le.create("br",{"data-mce-bogus":"1"})),ft},ae=Cl.DOM,Ce=(k,R,H)=>{const le=uo=>{const Qn=uo.parentNode;Qn&&Xa.each(ve,Ks=>{Qn.insertBefore(Ks,H.parentNode)}),ae.remove(uo)},ve=ae.select('span[data-mce-type="bookmark"]',R),ft=Z(k,H),co=ae.createRng();co.setStartAfter(H),co.setEndAfter(R);const Ro=co.extractContents();for(let uo=Ro.firstChild;uo;uo=uo.firstChild)if(uo.nodeName==="LI"&&k.dom.isEmpty(uo)){ae.remove(uo);break}k.dom.isEmpty(Ro)||ae.insertAfter(Ro,R),ae.insertAfter(ft,R);const Io=H.parentElement;Io&&ra(k.dom,Io)&&le(Io),ae.remove(H),ra(k.dom,R)&&ae.remove(R)},at=_n("dd"),Nt=_n("dt"),Ut=(k,R)=>{at(R)?rr(R,"dt"):Nt(R)&&Lr(R).each(H=>Ce(k,H.dom,R.dom))},zo=k=>{Nt(k)&&rr(k,"dd")},cs=(k,R,H)=>{R==="Indent"?Jt(H,zo):Jt(H,le=>Ut(k,le))},Ho=(k,R)=>{if(Ea(k))return{container:k,offset:R};const H=La.getNode(k,R);return Ea(H)?{container:H,offset:R>=k.childNodes.length?H.data.length:0}:H.previousSibling&&Ea(H.previousSibling)?{container:H.previousSibling,offset:H.previousSibling.data.length}:H.nextSibling&&Ea(H.nextSibling)?{container:H.nextSibling,offset:0}:{container:k,offset:R}},I=k=>{const R=k.cloneRange(),H=Ho(k.startContainer,k.startOffset);R.setStart(H.container,H.offset);const le=Ho(k.endContainer,k.endOffset);return R.setEnd(le.container,le.offset),R},K=["OL","UL","DL"],me=K.join(","),Ae=(k,R)=>{const H=R||k.selection.getStart(!0);return k.dom.getParent(H,me,ds(k,H))},jt=(k,R)=>St(k)&&R.length===1&&R[0]===k,ln=k=>A(k.querySelectorAll(me),ga),Xn=k=>{const R=Ae(k),H=k.selection.getSelectedBlocks();return jt(R,H)?ln(R):A(H,le=>ga(le)&&R!==le)},zr=(k,R)=>{const H=Xa.map(R,le=>{const ve=k.dom.getParent(le,"li,dd,dt",ds(k,le));return ve||le});return dn(H)},Pn=k=>{const R=k.selection.getSelectedBlocks();return A(zr(k,R),Jl)},aa=k=>A(Pn(k),Cd),ia=(k,R)=>{const H=k.dom.getParents(R,"TD,TH");return H.length>0?H[0]:k.getBody()},Or=(k,R)=>!ga(R)&&!Jl(R)&&tn(K,H=>k.isValidChild(R.nodeName,H)),ds=(k,R)=>{const H=k.dom.getParents(R,k.dom.isBlock),le=ft=>ft.nodeName.toLowerCase()!==Kc(k);return ta(H,ft=>le(ft)&&Or(k.schema,ft)).getOr(k.getBody())},jm=k=>Qt(k).exists(R=>Jl(R.dom)&&Wo(R).exists(H=>!ga(H.dom))&&nu(R).exists(H=>!ga(H.dom))),Qu=(k,R)=>{const H=k.dom.getParents(R,"ol,ul",ds(k,R));return gt(H)},Qa=k=>{const R=Qu(k,k.selection.getStart()),H=A(k.selection.getSelectedBlocks(),Fs);return R.toArray().concat(H)},kl=k=>{const R=k.selection.getStart();return k.dom.getParents(R,"ol,ul",ds(k,R))},Aa=k=>{const R=Qa(k),H=kl(k);return ta(H,le=>jm(hn.fromDom(le))).fold(()=>Sd(k,R),le=>[le])},Sd=(k,R)=>{const H=Qe(R,le=>Qu(k,le).getOr(le));return dn(H)},Sl=k=>/\btox\-/.test(k.className),Wf=(k,R)=>$n(k,ga,iu).exists(H=>H.nodeName===R&&!Sl(H)),Ju=(k,R)=>R!==null&&!k.dom.isEditable(R),Yc=k=>{const R=Ae(k);return Ju(k,R)||!k.selection.isEditable()},em=(k,R)=>{const H=k.dom.getParent(R,"ol,ul,dl");return Ju(k,H)||!k.selection.isEditable()},ha=(k,R)=>{const H=k.selection.getNode();return R({parents:k.dom.getParents(H),element:H}),k.on("NodeChange",R),()=>k.off("NodeChange",R)},Jn=(k,R,H)=>k.dispatch("ListMutation",{action:R,element:H}),El=k=>xs(k,"OL,UL"),Sh=k=>xs(k,"LI"),Wm=k=>Wo(k).exists(El),Ws=k=>nu(k).exists(El),kc=k=>"listAttributes"in k,oc=k=>"isComment"in k,Al=k=>"isFragment"in k,As=k=>k.depth>0,Bi=k=>k.isSelected,cu=k=>{const R=Oe(k),H=Ws(k)?R.slice(0,-1):R;return Qe(H,sr)},Ed=(k,R,H)=>Qt(k).filter(Fo).map(le=>({depth:R,dirty:!1,isSelected:H,content:cu(k),itemAttributes:_c(k),listAttributes:_c(le),listType:jn(le),isInPreviousLi:!1})),Vo=(k,R)=>{Cs(k.item,R.list)},ig=k=>{for(let R=1;R<k.length;R++)Vo(k[R-1],k[R])},lg=(k,R)=>{on(gt(k),Ee(R),Vo)},bo=(k,R)=>{const H={list:hn.fromTag(R,k),item:hn.fromTag("li",k)};return Cs(H.list,H.item),H},qf=(k,R,H)=>{const le=[];for(let ve=0;ve<H;ve++)le.push(bo(k,kc(R)?R.listType:R.parentListType));return le},yr=(k,R)=>{for(let H=0;H<k.length-1;H++)Ft(k[H].item,"list-style-type","none");gt(k).each(H=>{kc(R)&&(Es(H.list,R.listAttributes),Es(H.item,R.itemAttributes)),Mi(H.item,R.content)})},Ta=(k,R)=>{jn(k.list)!==R.listType&&(k.list=rr(k.list,R.listType)),Es(k.list,R.listAttributes)},Gf=(k,R,H)=>{const le=hn.fromTag("li",k);return Es(le,R),Mi(le,H),le},qs=(k,R)=>{Cs(k.list,R),k.item=R},cg=(k,R,H)=>{const le=R.slice(0,H.depth);return gt(le).each(ve=>{if(kc(H)){const ft=Gf(k,H.itemAttributes,H.content);qs(ve,ft),Ta(ve,H)}else if(Al(H))Mi(ve.item,H.content);else{const ft=hn.fromHtml(`<!--${H.content}-->`);Cs(ve.list,ft)}}),le},Ad=(k,R,H)=>{const le=qf(k,H,H.depth-R.length);return ig(le),yr(le,H),lg(R,le),R.concat(le)},Dt=(k,R)=>{let H=ne.none();const le=To(R,(ve,ft,co)=>oc(ft)?co===0?(H=ne.some(ft),ve):cg(k,ve,ft):ft.depth>ve.length?Ad(k,ve,ft):cg(k,ve,ft),[]);return H.each(ve=>{const ft=hn.fromHtml(`<!--${ve.content}-->`);Ee(le).each(co=>{Ps(co.list,ft)})}),Ee(le).map(ve=>ve.list)},Eh=(k,R)=>{switch(k){case"Indent":R.depth++;break;case"Outdent":R.depth--;break;case"Flatten":R.depth=0}R.dirty=!0},tm=(k,R)=>{kc(k)&&kc(R)&&(k.listType=R.listType,k.listAttributes={...R.listAttributes})},qm=k=>{k.listAttributes=dr(k.listAttributes,(R,H)=>H!=="start")},Sc=(k,R)=>{const H=k[R].depth,le=ft=>ft.depth===H&&!ft.dirty,ve=ft=>ft.depth<H;return $n(Ci(k.slice(0,R)),le,ve).orThunk(()=>$n(k.slice(R+1),le,ve))},za=k=>(Jt(k,(R,H)=>{Sc(k,H).fold(()=>{R.dirty&&kc(R)&&qm(R)},le=>tm(R,le))}),k),ue=(k,R,H,le)=>{var ve;if(ou(le))return[{depth:k+1,content:(ve=le.dom.nodeValue)!==null&&ve!==void 0?ve:"",dirty:!1,isSelected:!1,isComment:!0}];R.each(Ro=>{Kt(Ro.start,le)&&H.set(!0)});const ft=Ed(le,k,H.get());R.each(Ro=>{Kt(Ro.end,le)&&H.set(!1)});const co=nu(le).filter(El).map(Ro=>Nr(k,R,H,Ro)).getOr([]);return ft.toArray().concat(co)},Kf=(k,R,H,le)=>Wo(le).filter(El).fold(()=>ue(k,R,H,le),ve=>{const ft=To(Oe(le),(co,Ro,Io)=>{if(Io===0)return co;if(Sh(Ro))return co.concat(ue(k,R,H,Ro));{const uo={isFragment:!0,depth:k,content:[Ro],isSelected:!1,dirty:!1,parentListType:jn(ve)};return co.concat(uo)}},[]);return Nr(k,R,H,ve).concat(ft)}),Nr=(k,R,H,le)=>Tn(Oe(le),ve=>{const ft=El(ve)?Nr:Kf,co=k+1;return ft(co,R,H,ve)}),dg=(k,R)=>{const H=Is(!1),le=0;return Qe(k,ve=>({sourceList:ve,entries:Nr(le,R,H,ve)}))},Eo=(k,R)=>{const H=za(R);return Qe(H,le=>{const ve=oc(le)?nl([hn.fromHtml(`<!--${le.content}-->`)]):nl(le.content),ft=kc(le)?le.itemAttributes:{};return hn.fromDom(Z(k,ve.dom,ft))})},Ei=(k,R)=>{const H=za(R);return Dt(k.contentDocument,H).toArray()},Td=(k,R)=>Tn(Bo(R,As),H=>Ee(H).exists(As)?Ei(k,H):Eo(k,H)),Ha=(k,R)=>{Jt(A(k,Bi),H=>Eh(R,H))},Gm=k=>{const R=Qe(Pn(k),hn.fromDom);return on(ta(R,He(Wm)),ta(Ci(R),He(Wm)),(H,le)=>({start:H,end:le}))},ba=(k,R,H)=>{const le=dg(R,Gm(k));Jt(le,ve=>{Ha(ve.entries,H);const ft=Td(k,ve.entries);Jt(ft,co=>{Jn(k,H==="Indent"?"IndentList":"OutdentList",co.dom)}),Bn(ve.sourceList,ft),Gl(ve.sourceList)})},Km=(k,R)=>{const H=ru(Aa(k)),le=ru(aa(k));let ve=!1;if(H.length||le.length){const ft=k.selection.getBookmark();ba(k,H,R),cs(k,R,le),k.selection.moveToBookmark(ft),k.selection.setRng(I(k.selection.getRng())),k.nodeChanged(),ve=!0}return ve},Dd=(k,R)=>!Yc(k)&&Km(k,R),un=k=>Dd(k,"Indent"),Va=k=>Dd(k,"Outdent"),sl=k=>Dd(k,"Flatten");var Tl=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Gs=Cl.DOM,rl=k=>{const R={},H=le=>{let ve=k[le?"startContainer":"endContainer"],ft=k[le?"startOffset":"endOffset"];if(Ls(ve)){const co=Gs.create("span",{"data-mce-type":"bookmark"});ve.hasChildNodes()?(ft=Math.min(ft,ve.childNodes.length-1),le?ve.insertBefore(co,ve.childNodes[ft]):Gs.insertAfter(co,ve.childNodes[ft])):ve.appendChild(co),ve=co,ft=0}R[le?"startContainer":"endContainer"]=ve,R[le?"startOffset":"endOffset"]=ft};return H(!0),k.collapsed||H(),R},du=k=>{const R=le=>{const ve=Ro=>{var Io;let uo=(Io=Ro.parentNode)===null||Io===void 0?void 0:Io.firstChild,Qn=0;for(;uo;){if(uo===Ro)return Qn;(!Ls(uo)||uo.getAttribute("data-mce-type")!=="bookmark")&&Qn++,uo=uo.nextSibling}return-1};let ft=k[le?"startContainer":"endContainer"],co=k[le?"startOffset":"endOffset"];if(ft){if(Ls(ft)&&ft.parentNode){const Ro=ft;co=ve(ft),ft=ft.parentNode,Gs.remove(Ro),!ft.hasChildNodes()&&Gs.isBlock(ft)&&ft.appendChild(Gs.create("br"))}k[le?"startContainer":"endContainer"]=ft,k[le?"startOffset":"endOffset"]=co}};R(!0),R();const H=Gs.createRng();return H.setStart(k.startContainer,k.startOffset),k.endContainer&&H.setEnd(k.endContainer,k.endOffset),I(H)},bn=k=>{switch(k){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ii=(k,R,H)=>{const le=H["list-style-type"]?H["list-style-type"]:null;k.setStyle(R,"list-style-type",le)},$a=(k,R)=>{Xa.each(R,(H,le)=>{k.setAttribute(le,H)})},No=(k,R,H)=>{$a(R,H["list-attributes"]),Xa.each(k.select("li",R),le=>{$a(le,H["list-item-attributes"])})},Xc=(k,R,H)=>{Ii(k,R,H),No(k,R,H)},Qc=(k,R,H)=>{Xa.each(H,le=>k.setStyle(R,le,""))},us=(k,R)=>St(R)&&!_d(R,k.schema.getBlockElements()),Dl=(k,R,H,le)=>{let ve=R[H?"startContainer":"endContainer"];const ft=R[H?"startOffset":"endOffset"];Ls(ve)&&(ve=ve.childNodes[Math.min(ft,ve.childNodes.length-1)]||ve),!H&&vr(ve.nextSibling)&&(ve=ve.nextSibling);const co=Io=>{for(;!k.dom.isBlock(Io)&&Io.parentNode&&le!==Io;)Io=Io.parentNode;return Io},Ro=(Io,uo)=>{var Qn;const Ks=new Wc(Io,co(Io)),al=uo?"next":"prev";let Ns;for(;Ns=Ks[al]();)if(!(Fr(k,Ns)||ws(Ns.textContent)||((Qn=Ns.textContent)===null||Qn===void 0?void 0:Qn.length)===0))return ne.some(Ns);return ne.none()};if(H&&Ea(ve))if(ws(ve.textContent))ve=Ro(ve,!1).getOr(ve);else for(ve.parentNode!==null&&us(k,ve.parentNode)&&(ve=ve.parentNode);ve.previousSibling!==null&&(us(k,ve.previousSibling)||Ea(ve.previousSibling));)ve=ve.previousSibling;if(!H&&Ea(ve))if(ws(ve.textContent))ve=Ro(ve,!0).getOr(ve);else for(ve.parentNode!==null&&us(k,ve.parentNode)&&(ve=ve.parentNode);ve.nextSibling!==null&&(us(k,ve.nextSibling)||Ea(ve.nextSibling));)ve=ve.nextSibling;for(;ve.parentNode!==le;){const Io=ve.parentNode;if(ec(k,ve)||/^(TD|TH)$/.test(Io.nodeName))return ve;ve=Io}return ve},fr=(k,R,H)=>{const le=[],ve=k.dom,ft=Dl(k,R,!0,H),co=Dl(k,R,!1,H);let Ro;const Io=[];for(let uo=ft;uo&&(Io.push(uo),uo!==co);uo=uo.nextSibling);return Xa.each(Io,uo=>{var Qn;if(ec(k,uo)){le.push(uo),Ro=null;return}if(ve.isBlock(uo)||vr(uo)){vr(uo)&&ve.remove(uo),Ro=null;return}const Ks=uo.nextSibling;if(Tl.isBookmarkNode(uo)&&(ga(Ks)||ec(k,Ks)||!Ks&&uo.parentNode===H)){Ro=null;return}Ro||(Ro=ve.create("p"),(Qn=uo.parentNode)===null||Qn===void 0||Qn.insertBefore(Ro,uo),le.push(Ro)),Ro.appendChild(uo)}),le},xa=(k,R,H)=>{const le=k.getStyle(R,"list-style-type");let ve=H?H["list-style-type"]:"";return ve=ve===null?"":ve,le===ve},Pi=(k,R)=>{const H=k.selection.getStart(!0),le=Dl(k,R,!0,k.getBody());return In(hn.fromDom(le),hn.fromDom(R.commonAncestorContainer))?R.commonAncestorContainer:H},Ym=(k,R,H)=>{const le=k.selection.getRng();let ve="LI";const ft=ds(k,Pi(k,le)),co=k.dom;if(co.getContentEditable(k.selection.getNode())==="false")return;R=R.toUpperCase(),R==="DL"&&(ve="DT");const Ro=rl(le),Io=A(fr(k,le,ft),k.dom.isEditable);Xa.each(Io,uo=>{let Qn;const Ks=uo.previousSibling,al=uo.parentNode;Jl(al)||(Ks&&ga(Ks)&&Ks.nodeName===R&&xa(co,Ks,H)?(Qn=Ks,uo=co.rename(uo,ve),Ks.appendChild(uo)):(Qn=co.create(R),al.insertBefore(Qn,uo),Qn.appendChild(uo),uo=co.rename(uo,ve)),Qc(co,uo,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Xc(co,Qn,H),Od(k.dom,Qn))}),k.selection.setRng(du(Ro))},Xm=(k,R)=>ga(k)&&k.nodeName===(R==null?void 0:R.nodeName),Yf=(k,R,H)=>{const le=k.getStyle(R,"list-style-type",!0),ve=k.getStyle(H,"list-style-type",!0);return le===ve},uu=(k,R)=>k.className===R.className,Xf=(k,R,H)=>Xm(R,H)&&Yf(k,R,H)&&uu(R,H),Od=(k,R)=>{let H,le=R.nextSibling;if(Xf(k,R,le)){const ve=le;for(;H=ve.firstChild;)R.appendChild(H);k.remove(ve)}if(le=R.previousSibling,Xf(k,R,le)){const ve=le;for(;H=ve.lastChild;)R.insertBefore(H,R.firstChild);k.remove(ve)}},Ec=(k,R,H,le)=>{if(R.nodeName!==H){const ve=k.dom.rename(R,H);Xc(k.dom,ve,le),Jn(k,bn(H),ve)}else Xc(k.dom,R,le),Jn(k,bn(H),R)},Qm=(k,R,H,le)=>{if(R.classList.forEach((ve,ft,co)=>{ve.startsWith("tox-")&&(co.remove(ve),co.length===0&&R.removeAttribute("class"))}),R.nodeName!==H){const ve=k.dom.rename(R,H);Xc(k.dom,ve,le),Jn(k,bn(H),ve)}else Xc(k.dom,R,le),Jn(k,bn(H),R)},Ah=(k,R,H,le,ve)=>{const ft=ga(R);if(ft&&R.nodeName===le&&!Li(ve)&&!Sl(R))sl(k);else{Ym(k,le,ve);const co=rl(k.selection.getRng()),Ro=ft?[R,...H]:H,Io=ft&&Sl(R)?Qm:Ec;Xa.each(Ro,uo=>{Io(k,uo,le,ve)}),k.selection.setRng(du(co))}},Li=k=>"list-style-type"in k,Nd=(k,R,H,le)=>{if(R!==k.getBody())if(R)if(R.nodeName===H&&!Li(le)&&!Sl(R))sl(k);else{const ve=rl(k.selection.getRng());Sl(R)&&R.classList.forEach((co,Ro,Io)=>{co.startsWith("tox-")&&(Io.remove(co),Io.length===0&&R.removeAttribute("class"))}),Xc(k.dom,R,le);const ft=k.dom.rename(R,H);Od(k.dom,ft),k.selection.setRng(du(ve)),Ym(k,H,le),Jn(k,bn(H),ft)}else Ym(k,H,le),Jn(k,bn(H),R)},Jc=(k,R,H)=>{const le=Ae(k);if(em(k,le))return;const ve=Xn(k),ft=Se(H)?H:{};ve.length>0?Ah(k,le,ve,R,ft):Nd(k,le,R,ft)},Nn=Cl.DOM,Ac=(k,R)=>{const H=R.parentElement;if(H&&H.nodeName==="LI"&&H.firstChild===R){const le=H.previousSibling;le&&le.nodeName==="LI"?(le.appendChild(R),ra(k,H)&&Nn.remove(H)):Nn.setStyle(H,"listStyleType","none")}if(ga(H)){const le=H.previousSibling;le&&le.nodeName==="LI"&&le.appendChild(R)}},Da=(k,R)=>{const H=Xa.grep(k.select("ol,ul",R));Xa.each(H,le=>{Ac(k,le)})},Rd=(k,R,H,le)=>{let ve=R.startContainer;const ft=R.startOffset;if(Ea(ve)&&(H?ft<ve.data.length:ft>0))return ve;const co=k.schema.getNonEmptyElements();Ls(ve)&&(ve=La.getNode(ve,ft));const Ro=new Wc(ve,le);H&&kd(k.dom,ve)&&Ro.next();const Io=H?Ro.next.bind(Ro):Ro.prev2.bind(Ro);for(;ve=Io();)if(ve.nodeName==="LI"&&!ve.hasChildNodes()||co[ve.nodeName]||Ea(ve)&&ve.data.length>0)return ve;return null},di=(k,R)=>{const H=R.childNodes;return H.length===1&&!ga(H[0])&&k.isBlock(H[0])},om=k=>ne.from(k).map(hn.fromDom).filter(Zc).exists(R=>Pa(R)&&!wn(["details"],jn(R))),Jm=(k,R)=>{di(k,R)&&om(R.firstChild)&&k.remove(R.firstChild,!0)},ef=(k,R,H)=>{let le;const ve=di(k,H)?H.firstChild:H;if(Jm(k,R),!ra(k,R,!0))for(;le=R.firstChild;)ve.appendChild(le)},ls=(k,R,H)=>{let le;const ve=R.parentNode;if(!tc(k,R)||!tc(k,H))return;ga(H.lastChild)&&(le=H.lastChild),ve===H.lastChild&&vr(ve.previousSibling)&&k.remove(ve.previousSibling);const ft=H.lastChild;ft&&vr(ft)&&R.hasChildNodes()&&k.remove(ft),ra(k,H,!0)&&Si(hn.fromDom(H)),ef(k,R,H),le&&H.appendChild(le);const Ro=jo(hn.fromDom(H),hn.fromDom(R))?k.getParents(R,ga,H):[];k.remove(R),Jt(Ro,Io=>{ra(k,Io)&&Io!==k.getRoot()&&k.remove(Io)})},ed=(k,R,H)=>{Si(hn.fromDom(H)),ls(k.dom,R,H),k.selection.setCursorLocation(H,0)},vs=(k,R,H,le)=>{const ve=k.dom;if(ve.isEmpty(le))ed(k,H,le);else{const ft=rl(R);ls(ve,H,le),k.selection.setRng(du(ft))}},Ja=(k,R,H,le)=>{const ve=rl(R);ls(k.dom,H,le);const ft=du(ve);k.selection.setRng(ft)},mu=(k,R)=>{const H=k.dom,le=k.selection,ve=le.getStart(),ft=ia(k,ve),co=H.getParent(le.getStart(),"LI",ft);if(co){const Ro=co.parentElement;if(Ro===k.getBody()&&ra(H,Ro))return!0;const Io=I(le.getRng()),uo=H.getParent(Rd(k,Io,R,ft),"LI",ft),Qn=uo&&(R?H.isChildOf(co,uo):H.isChildOf(uo,co));if(uo&&uo!==co&&!Qn)return k.undoManager.transact(()=>{R?vs(k,Io,uo,co):_l(co)?Va(k):Ja(k,Io,co,uo)}),!0;if(Qn&&!R&&uo!==co){const Ks=Io.commonAncestorContainer.parentElement;return!Ks||H.isChildOf(uo,Ks)?!1:(k.undoManager.transact(()=>{const al=rl(Io);ef(H,Ks,uo),Ks.remove();const Ns=du(al);k.selection.setRng(Ns)}),!0)}else if(!uo&&!R&&Io.startOffset===0&&Io.endOffset===0)return k.undoManager.transact(()=>{sl(k)}),!0}return!1},ui=(k,R,H)=>{const le=k.getParent(R.parentNode,k.isBlock,H);k.remove(R),le&&k.isEmpty(le)&&k.remove(le)},Qf=(k,R)=>{const H=k.dom,le=k.selection.getStart(),ve=ia(k,le),ft=H.getParent(le,H.isBlock,ve);if(ft&&H.isEmpty(ft,void 0,{checkRootAsContent:!0})){const co=I(k.selection.getRng()),Ro=Rd(k,co,R,ve),Io=H.getParent(Ro,"LI",ve);if(Ro&&Io){const uo=Ns=>wn(["td","th","caption"],jn(Ns)),Qn=Ns=>Ns.dom===ve,Ks=Xl(hn.fromDom(Io),uo,Qn),al=Xl(hn.fromDom(co.startContainer),uo,Qn);return oa(Ks,al,Kt)?(k.undoManager.transact(()=>{const Ns=Io.parentNode;ui(H,ft,ve),Od(H,Ns),k.selection.select(Ro,!0),k.selection.collapse(R)}),!0):!1}}return!1},la=(k,R)=>mu(k,R)||Qf(k,R),Md=k=>{const R=k.selection.getStart(),H=ia(k,R);return k.dom.getParent(R,"LI,DT,DD",H)||Pn(k).length>0},Th=k=>Md(k)?(k.undoManager.transact(()=>{let R=!0;const H=()=>R=!1;k.on("input",H),k.execCommand("Delete"),k.off("input",H),R&&k.dispatch("input"),Da(k.dom,k.getBody())}),!0):!1,ca=(k,R)=>{const H=k.selection;return!em(k,H.getNode())&&(H.isCollapsed()?la(k,R):Th(k))},Jf=k=>{k.on("ExecCommand",R=>{const H=R.command.toLowerCase();(H==="delete"||H==="forwarddelete")&&Md(k)&&Da(k.dom,k.getBody())}),k.on("keydown",R=>{R.keyCode===Ql.BACKSPACE?ca(k,!1)&&R.preventDefault():R.keyCode===Ql.DELETE&&ca(k,!0)&&R.preventDefault()})},ep=k=>({backspaceDelete:R=>{ca(k,R)}}),Dh=(k,R)=>{const H=Ae(k);H===null||em(k,H)||k.undoManager.transact(()=>{Se(R.styles)&&k.dom.setStyles(H,R.styles),Se(R.attrs)&&So(R.attrs,(le,ve)=>k.dom.setAttrib(H,ve,le))})},tp=k=>{const R=Ci(Wl(k).split("")),H=Qe(R,(le,ve)=>{const ft=le.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,ve)*ft});return To(H,(le,ve)=>le+ve,0)},nm=k=>{if(k--,k<0)return"";{const R=k%26,H=Math.floor(k/26),le=nm(H),ve=String.fromCharCode(65+R);return le+ve}},op=k=>/^[A-Z]+$/.test(k),np=k=>/^[a-z]+$/.test(k),sp=k=>/^[0-9]+$/.test(k),tf=k=>sp(k)?2:op(k)?0:np(k)?1:Co(k)?3:4,Tc=k=>{switch(tf(k)){case 2:return ne.some({listStyleType:ne.none(),start:k});case 0:return ne.some({listStyleType:ne.some("upper-alpha"),start:tp(k).toString()});case 1:return ne.some({listStyleType:ne.some("lower-alpha"),start:tp(k).toString()});case 3:return ne.some({listStyleType:ne.none(),start:""});case 4:return ne.none()}},ei=k=>{const R=parseInt(k.start,10);return _i(k.listStyleType,"upper-alpha")?nm(R):_i(k.listStyleType,"lower-alpha")?nm(R).toLowerCase():k.start},td=k=>{const R=Ae(k);!Gc(R)||em(k,R)||k.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:ei({start:k.dom.getAttrib(R,"start","1"),listStyleType:ne.from(k.dom.getStyle(R,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:H=>{const le=H.getData();Tc(le.start).each(ve=>{k.execCommand("mceListUpdate",!1,{attrs:{start:ve.start==="1"?"":ve.start},styles:{"list-style-type":ve.listStyleType.getOr("")}})}),H.close()}})},sm=(k,R)=>()=>{const H=Ae(k);return St(H)&&H.nodeName===R},Zn=k=>{k.addCommand("mceListProps",()=>{td(k)})},rp=k=>{k.on("BeforeExecCommand",R=>{const H=R.command.toLowerCase();H==="indent"?un(k):H==="outdent"&&Va(k)}),k.addCommand("InsertUnorderedList",(R,H)=>{Jc(k,"UL",H)}),k.addCommand("InsertOrderedList",(R,H)=>{Jc(k,"OL",H)}),k.addCommand("InsertDefinitionList",(R,H)=>{Jc(k,"DL",H)}),k.addCommand("RemoveList",()=>{sl(k)}),Zn(k),k.addCommand("mceListUpdate",(R,H)=>{Se(H)&&Dh(k,H)}),k.addQueryStateHandler("InsertUnorderedList",sm(k,"UL")),k.addQueryStateHandler("InsertOrderedList",sm(k,"OL")),k.addQueryStateHandler("InsertDefinitionList",sm(k,"DL"))};var Dc=tinymce.util.Tools.resolve("tinymce.html.Node");const nc=k=>k.type===3,of=k=>k.length===0,Hr=k=>{const R=(ve,ft)=>{const co=Dc.create("li");Jt(ve,Ro=>co.append(Ro)),ft?k.insert(co,ft,!0):k.append(co)},H=(ve,ft)=>nc(ft)?[...ve,ft]:!of(ve)&&!nc(ft)?(R(ve,ft),[]):ve,le=To(k.children(),H,[]);of(le)||R(le)},sc=k=>{k.on("PreInit",()=>{const{parser:R}=k;R.addNodeFilter("ul,ol",H=>Jt(H,Hr))})},Oa=k=>{k.on("keydown",R=>{R.keyCode!==Ql.TAB||Ql.metaKeyPressed(R)||k.undoManager.transact(()=>{(R.shiftKey?Va(k):un(k))&&R.preventDefault()})})},zs=k=>{Xu(k)&&Oa(k),Jf(k)},Js=(k,R)=>H=>{const le=ve=>{H.setActive(Wf(ve.parents,R)),H.setEnabled(!em(k,ve.element)&&k.selection.isEditable())};return H.setEnabled(k.selection.isEditable()),ha(k,le)},er=k=>{const R=H=>()=>k.execCommand(H);k.hasPlugin("advlist")||(k.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:R("InsertOrderedList"),onSetup:Js(k,"OL")}),k.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:R("InsertUnorderedList"),onSetup:Js(k,"UL")}))},ug=(k,R)=>H=>ha(k,ve=>H.setEnabled(Wf(ve.parents,R)&&!em(k,ve.element))),Na=k=>{const R={text:"List properties...",icon:"ordered-list",onAction:()=>k.execCommand("mceListProps"),onSetup:ug(k,"OL")};k.ui.registry.addMenuItem("listprops",R),k.ui.registry.addContextMenu("lists",{update:H=>{const le=Ae(k,H);return Gc(le)?["listprops"]:[]}})};var fu=()=>{re.add("lists",k=>(Zm(k),sc(k),k.hasPlugin("rtc",!0)?Zn(k):(zs(k),rp(k)),er(k),Na(k),ep(k)))};fu()}()),xz}var yz;function yY(){return yz||(yz=1,vY()),bz}yY();var wz={},Cz={},_z;function wY(){return _z||(_z=1,function(){var re=tinymce.util.Tools.resolve("tinymce.PluginManager");const ye=(Ze,Ee,gt)=>{const dn=Ee==="UL"?"InsertUnorderedList":"InsertOrderedList";Ze.execCommand(dn,!1,gt===!1?null:{"list-style-type":gt})},Be=Ze=>{Ze.addCommand("ApplyUnorderedListStyle",(Ee,gt)=>{ye(Ze,"UL",gt["list-style-type"])}),Ze.addCommand("ApplyOrderedListStyle",(Ee,gt)=>{ye(Ze,"OL",gt["list-style-type"])})},Ie=Ze=>Ee=>Ee.options.get(Ze),Ye=Ze=>{const Ee=Ze.options.register;Ee("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Ee("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},Me=Ie("advlist_number_styles"),Se=Ie("advlist_bullet_styles"),Ve=Ze=>Ze==null,Ue=Ze=>!Ve(Ze);class ot{constructor(Ee,gt){this.tag=Ee,this.value=gt}static some(Ee){return new ot(!0,Ee)}static none(){return ot.singletonNone}fold(Ee,gt){return this.tag?gt(this.value):Ee()}isSome(){return this.tag}isNone(){return!this.tag}map(Ee){return this.tag?ot.some(Ee(this.value)):ot.none()}bind(Ee){return this.tag?Ee(this.value):ot.none()}exists(Ee){return this.tag&&Ee(this.value)}forall(Ee){return!this.tag||Ee(this.value)}filter(Ee){return!this.tag||Ee(this.value)?this:ot.none()}getOr(Ee){return this.tag?this.value:Ee}or(Ee){return this.tag?this:Ee}getOrThunk(Ee){return this.tag?this.value:Ee()}orThunk(Ee){return this.tag?this:Ee()}getOrDie(Ee){if(this.tag)return this.value;throw new Error(Ee??"Called getOrDie on None")}static from(Ee){return Ue(Ee)?ot.some(Ee):ot.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ee){this.tag&&Ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ot.singletonNone=new ot(!1);const St=Array.prototype.indexOf,$t=(Ze,Ee)=>St.call(Ze,Ee),xt=(Ze,Ee)=>$t(Ze,Ee)>-1,Ne=(Ze,Ee,gt)=>{for(let dn=0,Do=Ze.length;dn<Do;dn++){const So=Ze[dn];if(Ee(So,dn))return ot.some(So);if(gt(So,dn))break}return ot.none()},yt=Object.keys,kt=(Ze,Ee)=>{const gt=yt(Ze);for(let dn=0,Do=gt.length;dn<Do;dn++){const So=gt[dn],qo=Ze[So];Ee(qo,So)}},ut=(Ze,Ee)=>xe(Ze,(gt,dn)=>({k:dn,v:Ee(gt,dn)})),xe=(Ze,Ee)=>{const gt={};return kt(Ze,(dn,Do)=>{const So=Ee(dn,Do);gt[So.k]=So.v}),gt};var He=tinymce.util.Tools.resolve("tinymce.util.Tools");const We=Ze=>/\btox\-/.test(Ze.className),ne=(Ze,Ee)=>Ze.dom.isChildOf(Ee,Ze.getBody()),Ct=Ze=>Ee=>Ue(Ee)&&Ze.test(Ee.nodeName),pe=Ct(/^(OL|UL|DL)$/),yn=Ct(/^(TH|TD)$/),bs=(Ze,Ee,gt)=>Ne(Ee,dn=>pe(dn)&&!We(dn),yn).exists(dn=>dn.nodeName===gt&&ne(Ze,dn)),wn=Ze=>{const Ee=Ze.dom.getParent(Ze.selection.getNode(),"ol,ul"),gt=Ze.dom.getStyle(Ee,"listStyleType");return ot.from(gt)},tn=(Ze,Ee)=>Ee!==null&&!Ze.dom.isEditable(Ee),Qe=(Ze,Ee)=>{const gt=Ze.dom.getParent(Ee,"ol,ul,dl");return tn(Ze,gt)||!Ze.selection.isEditable()},Jt=(Ze,Ee)=>{const gt=Ze.selection.getNode();return Ee({parents:Ze.dom.getParents(gt),element:gt}),Ze.on("NodeChange",Ee),()=>Ze.off("NodeChange",Ee)},A=Ze=>Ze.replace(/\-/g," ").replace(/\b\w/g,Ee=>Ee.toUpperCase()),Bo=Ze=>Ve(Ze)||Ze==="default"?"":Ze,To=(Ze,Ee)=>gt=>{const dn=(So,qo)=>{const z=So.selection.getStart(!0);gt.setActive(bs(So,qo,Ee)),gt.setEnabled(!Qe(So,z))};return Jt(Ze,So=>dn(Ze,So.parents))},$n=(Ze,Ee,gt,dn,Do,So)=>{const qo={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},z=ut(qo,dr=>xt(So,dr));Ze.ui.registry.addSplitButton(Ee,{tooltip:gt,icon:Do==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:Do==="OL"?3:4,fetch:dr=>{const Is=He.map(So,Uo=>{const _i=Do==="OL"?"num":"bull",oa=Uo==="decimal"?"default":Uo,on=Bo(Uo),Kn=A(Uo);return{type:"choiceitem",value:on,icon:"list-"+_i+"-"+oa,text:Kn}});dr(Is)},onAction:()=>Ze.execCommand(dn),onItemAction:(dr,Is)=>{ye(Ze,Do,Is)},select:dr=>wn(Ze).exists(Uo=>dr===Uo||qo[Uo]===dr&&!z[dr]),onSetup:To(Ze,Do)})},ta=(Ze,Ee,gt,dn,Do,So)=>{Ze.ui.registry.addToggleButton(Ee,{active:!1,tooltip:gt,icon:Do==="OL"?"ordered-list":"unordered-list",onSetup:To(Ze,Do),onAction:()=>Ze.queryCommandState(dn)||So===""?Ze.execCommand(dn):ye(Ze,Do,So)})},Et=(Ze,Ee,gt,dn,Do,So)=>{So.length>1?$n(Ze,Ee,gt,dn,Do,So):ta(Ze,Ee,gt,dn,Do,Bo(So[0]))},Tn=Ze=>{Et(Ze,"numlist","Numbered list","InsertOrderedList","OL",Me(Ze)),Et(Ze,"bullist","Bullet list","InsertUnorderedList","UL",Se(Ze))};var Ci=()=>{re.add("advlist",Ze=>{Ze.hasPlugin("lists")?(Ye(Ze),Tn(Ze),Be(Ze)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};Ci()}()),Cz}var kz;function CY(){return kz||(kz=1,wY()),wz}CY();var Sz={},Ez={},Az;function _Y(){return Az||(Az=1,function(){var re=tinymce.util.Tools.resolve("tinymce.PluginManager");const ye=Object.getPrototypeOf,Be=(I,K,me)=>{var Ae;return me(I,K.prototype)?!0:((Ae=I.constructor)===null||Ae===void 0?void 0:Ae.name)===K.name},Ie=I=>{const K=typeof I;return I===null?"null":K==="object"&&Array.isArray(I)?"array":K==="object"&&Be(I,String,(me,Ae)=>Ae.isPrototypeOf(me))?"string":K},Ye=I=>K=>Ie(K)===I,Me=I=>K=>typeof K===I,Se=I=>K=>I===K,Ve=(I,K)=>ot(I)&&Be(I,K,(me,Ae)=>ye(me)===Ae),Ue=Ye("string"),ot=Ye("object"),St=I=>Ve(I,Object),$t=Ye("array"),xt=Se(null),Ne=Me("boolean"),yt=I=>I==null,kt=I=>!yt(I),ut=Me("function"),xe=Me("number"),He=(I,K)=>{if($t(I)){for(let me=0,Ae=I.length;me<Ae;++me)if(!K(I[me]))return!1;return!0}return!1},We=()=>{};class ne{constructor(K,me){this.tag=K,this.value=me}static some(K){return new ne(!0,K)}static none(){return ne.singletonNone}fold(K,me){return this.tag?me(this.value):K()}isSome(){return this.tag}isNone(){return!this.tag}map(K){return this.tag?ne.some(K(this.value)):ne.none()}bind(K){return this.tag?K(this.value):ne.none()}exists(K){return this.tag&&K(this.value)}forall(K){return!this.tag||K(this.value)}filter(K){return!this.tag||K(this.value)?this:ne.none()}getOr(K){return this.tag?this.value:K}or(K){return this.tag?this:K}getOrThunk(K){return this.tag?this.value:K()}orThunk(K){return this.tag?this:K()}getOrDie(K){if(this.tag)return this.value;throw new Error(K??"Called getOrDie on None")}static from(K){return kt(K)?ne.some(K):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(K){this.tag&&K(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const Ct=Array.prototype.push,pe=I=>{const K=[];for(let me=0,Ae=I.length;me<Ae;++me){if(!$t(I[me]))throw new Error("Arr.flatten item "+me+" was not an array, input: "+I);Ct.apply(K,I[me])}return K},yn=(I,K)=>K>=0&&K<I.length?ne.some(I[K]):ne.none(),bs=I=>yn(I,0),wn=(I,K)=>{for(let me=0;me<I.length;me++){const Ae=K(I[me],me);if(Ae.isSome())return Ae}return ne.none()},tn=Object.keys,Qe=Object.hasOwnProperty,Jt=(I,K)=>{const me=tn(I);for(let Ae=0,jt=me.length;Ae<jt;Ae++){const ln=me[Ae],Xn=I[ln];K(Xn,ln)}},A=I=>(K,me)=>{I[me]=K},Bo=(I,K,me,Ae)=>{Jt(I,(jt,ln)=>{(K(jt,ln)?me:Ae)(jt,ln)})},To=(I,K)=>{const me={};return Bo(I,K,A(me),We),me},$n=(I,K)=>Qe.call(I,K),ta=(I,K)=>$n(I,K)&&I[K]!==void 0&&I[K]!==null,Ci=(I=>(...K)=>{if(K.length===0)throw new Error("Can't merge zero objects");const me={};for(let Ae=0;Ae<K.length;Ae++){const jt=K[Ae];for(const ln in jt)$n(jt,ln)&&(me[ln]=I(me[ln],jt[ln]))}return me})((I,K)=>St(I)&&St(K)?Ci(I,K):K),Ze=I=>I.length>0,Ee=(I,K)=>{const Ae=(K||document).createElement("div");if(Ae.innerHTML=I,!Ae.hasChildNodes()||Ae.childNodes.length>1){const jt="HTML does not have a single root node";throw console.error(jt,I),new Error(jt)}return Do(Ae.childNodes[0])},gt=(I,K)=>{const Ae=(K||document).createElement(I);return Do(Ae)},dn=(I,K)=>{const Ae=(K||document).createTextNode(I);return Do(Ae)},Do=I=>{if(I==null)throw new Error("Node cannot be null or undefined");return{dom:I}},qo={fromHtml:Ee,fromTag:gt,fromText:dn,fromDom:Do,fromPoint:(I,K,me)=>ne.from(I.dom.elementFromPoint(K,me)).map(Do)},z=(I,K,me)=>{if(Ue(me)||Ne(me)||xe(me))I.setAttribute(K,me+"");else throw console.error("Invalid call to Attribute.set. Key ",K,":: Value ",me,":: Element ",I),new Error("Attribute value was not simple")},dr=(I,K,me)=>{z(I.dom,K,me)},Is=(I,K)=>{I.dom.removeAttribute(K)};var Uo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_i=tinymce.util.Tools.resolve("tinymce.util.URI");const oa=I=>K=>K.options.get(I),on=I=>{const K=I.options.register;K("image_dimensions",{processor:"boolean",default:!0}),K("image_advtab",{processor:"boolean",default:!1}),K("image_uploadtab",{processor:"boolean",default:!0}),K("image_prepend_url",{processor:"string",default:""}),K("image_class_list",{processor:"object[]"}),K("image_description",{processor:"boolean",default:!0}),K("image_title",{processor:"boolean",default:!1}),K("image_caption",{processor:"boolean",default:!1}),K("image_list",{processor:me=>{const Ae=me===!1||Ue(me)||He(me,ot)||ut(me);return Ae?{value:me,valid:Ae}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Kn=oa("image_dimensions"),Yo=oa("image_advtab"),st=oa("image_uploadtab"),Wl=oa("image_prepend_url"),br=oa("image_class_list"),Co=oa("image_description"),yc=oa("image_title"),ws=oa("image_caption"),Zs=oa("image_list"),js=oa("a11y_advanced_options"),ur=oa("automatic_uploads"),Ss=I=>Ze(I.options.get("images_upload_url")),na=I=>kt(I.options.get("images_upload_handler")),hn=(I,K)=>Math.max(parseInt(I,10),parseInt(K,10)),tl=I=>new Promise(K=>{const me=document.createElement("img"),Ae=ln=>{me.parentNode&&me.parentNode.removeChild(me),K(ln)};me.addEventListener("load",()=>{const ln=hn(me.width,me.clientWidth),Xn=hn(me.height,me.clientHeight),zr={width:ln,height:Xn};Ae(Promise.resolve(zr))}),me.addEventListener("error",()=>{Ae(Promise.reject(`Failed to get image dimensions for: ${I}`))});const jt=me.style;jt.visibility="hidden",jt.position="fixed",jt.bottom=jt.left="0px",jt.width=jt.height="auto",document.body.appendChild(me),me.src=I}),ol=I=>(I&&(I=I.replace(/px$/,"")),I),Ya=I=>(I.length>0&&/^[0-9]+$/.test(I)&&(I+="px"),I),ki=I=>{if(I.margin){const K=String(I.margin).split(" ");switch(K.length){case 1:I["margin-top"]=I["margin-top"]||K[0],I["margin-right"]=I["margin-right"]||K[0],I["margin-bottom"]=I["margin-bottom"]||K[0],I["margin-left"]=I["margin-left"]||K[0];break;case 2:I["margin-top"]=I["margin-top"]||K[0],I["margin-right"]=I["margin-right"]||K[1],I["margin-bottom"]=I["margin-bottom"]||K[0],I["margin-left"]=I["margin-left"]||K[1];break;case 3:I["margin-top"]=I["margin-top"]||K[0],I["margin-right"]=I["margin-right"]||K[1],I["margin-bottom"]=I["margin-bottom"]||K[2],I["margin-left"]=I["margin-left"]||K[1];break;case 4:I["margin-top"]=I["margin-top"]||K[0],I["margin-right"]=I["margin-right"]||K[1],I["margin-bottom"]=I["margin-bottom"]||K[2],I["margin-left"]=I["margin-left"]||K[3]}delete I.margin}return I},nr=(I,K)=>{const me=Zs(I);Ue(me)?fetch(me).then(Ae=>{Ae.ok&&Ae.json().then(K)}):ut(me)?me(K):K(me)},Kt=(I,K,me)=>{const Ae=()=>{me.onload=me.onerror=null,I.selection&&(I.selection.select(me),I.nodeChanged())};me.onload=()=>{!K.width&&!K.height&&Kn(I)&&I.dom.setAttribs(me,{width:String(me.clientWidth),height:String(me.clientHeight)}),Ae()},me.onerror=Ae},jo=I=>new Promise((K,me)=>{const Ae=new FileReader;Ae.onload=()=>{K(Ae.result)},Ae.onerror=()=>{var jt;me((jt=Ae.error)===null||jt===void 0?void 0:jt.message)},Ae.readAsDataURL(I)}),xs=I=>I.nodeName==="IMG"&&(I.hasAttribute("data-mce-object")||I.hasAttribute("data-mce-placeholder")),Ir=(I,K)=>{const me=I.options.get;return _i.isDomSafe(K,"img",{allow_html_data_urls:me("allow_html_data_urls"),allow_script_urls:me("allow_script_urls"),allow_svg_data_urls:me("allow_svg_data_urls")})},Vt=Uo.DOM,Pr=I=>I.style.marginLeft&&I.style.marginRight&&I.style.marginLeft===I.style.marginRight?ol(I.style.marginLeft):"",tu=I=>I.style.marginTop&&I.style.marginBottom&&I.style.marginTop===I.style.marginBottom?ol(I.style.marginTop):"",Un=I=>I.style.borderWidth?ol(I.style.borderWidth):"",jn=(I,K)=>{var me;return I.hasAttribute(K)&&(me=I.getAttribute(K))!==null&&me!==void 0?me:""},sa=I=>I.parentNode!==null&&I.parentNode.nodeName==="FIGURE",Tr=(I,K,me)=>{me===""||me===null?I.removeAttribute(K):I.setAttribute(K,me)},ou=I=>{const K=Vt.create("figure",{class:"image"});Vt.insertAfter(K,I),K.appendChild(I),K.appendChild(Vt.create("figcaption",{contentEditable:"true"},"Caption")),K.contentEditable="false"},Zc=I=>{const K=I.parentNode;kt(K)&&(Vt.insertAfter(I,K),Vt.remove(K))},Fo=I=>{sa(I)?Zc(I):ou(I)},mr=(I,K)=>{const me=I.getAttribute("style"),Ae=K(me!==null?me:"");Ae.length>0?(I.setAttribute("style",Ae),I.setAttribute("data-mce-style",Ae)):I.removeAttribute("style")},pa=(I,K)=>(me,Ae,jt)=>{const ln=me.style;ln[Ae]?(ln[Ae]=Ya(jt),mr(me,K)):Tr(me,Ae,jt)},_n=(I,K)=>I.style[K]?ol(I.style[K]):jn(I,K),Qt=(I,K)=>{const me=Ya(K);I.style.marginLeft=me,I.style.marginRight=me},Lr=(I,K)=>{const me=Ya(K);I.style.marginTop=me,I.style.marginBottom=me},wc=(I,K)=>{const me=Ya(K);I.style.borderWidth=me},Oe=(I,K)=>{I.style.borderStyle=K},ka=I=>{var K;return(K=I.style.borderStyle)!==null&&K!==void 0?K:""},Wo=I=>kt(I)&&I.nodeName==="FIGURE",nu=I=>I.nodeName==="IMG",Sa=I=>Vt.getAttrib(I,"alt").length===0&&Vt.getAttrib(I,"role")==="presentation",ql=I=>Sa(I)?"":jn(I,"alt"),xr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Cc=(I,K)=>{var me;const Ae=document.createElement("img");return Tr(Ae,"style",K.style),(Pr(Ae)||K.hspace!=="")&&Qt(Ae,K.hspace),(tu(Ae)||K.vspace!=="")&&Lr(Ae,K.vspace),(Un(Ae)||K.border!=="")&&wc(Ae,K.border),(ka(Ae)||K.borderStyle!=="")&&Oe(Ae,K.borderStyle),I((me=Ae.getAttribute("style"))!==null&&me!==void 0?me:"")},ci=(I,K)=>{const me=document.createElement("img");if(Yn(I,{...K,caption:!1},me),Cs(me,K.alt,K.isDecorative),K.caption){const Ae=Vt.create("figure",{class:"image"});return Ae.appendChild(me),Ae.appendChild(Vt.create("figcaption",{contentEditable:"true"},"Caption")),Ae.contentEditable="false",Ae}else return me},yd=(I,K)=>({src:jn(K,"src"),alt:ql(K),title:jn(K,"title"),width:_n(K,"width"),height:_n(K,"height"),class:jn(K,"class"),style:I(jn(K,"style")),caption:sa(K),hspace:Pr(K),vspace:tu(K),border:Un(K),borderStyle:ka(K),isDecorative:Sa(K)}),Ps=(I,K,me,Ae,jt)=>{me[Ae]!==K[Ae]&&jt(I,Ae,String(me[Ae]))},Cs=(I,K,me)=>{if(me){Vt.setAttrib(I,"role","presentation");const Ae=qo.fromDom(I);dr(Ae,"alt","")}else{if(xt(K)){const Ae=qo.fromDom(I);Is(Ae,"alt")}else{const Ae=qo.fromDom(I);dr(Ae,"alt",K)}Vt.getAttrib(I,"role")==="presentation"&&Vt.setAttrib(I,"role","")}},Bn=(I,K,me)=>{(me.alt!==K.alt||me.isDecorative!==K.isDecorative)&&Cs(I,me.alt,me.isDecorative)},Mi=(I,K)=>(me,Ae,jt)=>{I(me,jt),mr(me,K)},Yn=(I,K,me)=>{const Ae=yd(I,me);Ps(me,Ae,K,"caption",(jt,ln,Xn)=>Fo(jt)),Ps(me,Ae,K,"src",Tr),Ps(me,Ae,K,"title",Tr),Ps(me,Ae,K,"width",pa("width",I)),Ps(me,Ae,K,"height",pa("height",I)),Ps(me,Ae,K,"class",Tr),Ps(me,Ae,K,"style",Mi((jt,ln)=>Tr(jt,"style",ln),I)),Ps(me,Ae,K,"hspace",Mi(Qt,I)),Ps(me,Ae,K,"vspace",Mi(Lr,I)),Ps(me,Ae,K,"border",Mi(wc,I)),Ps(me,Ae,K,"borderStyle",Mi(Oe,I)),Bn(me,Ae,K)},Es=(I,K)=>{const me=I.dom.styles.parse(K),Ae=ki(me),jt=I.dom.styles.parse(I.dom.styles.serialize(Ae));return I.dom.styles.serialize(jt)},_c=I=>{const K=I.selection.getNode(),me=I.dom.getParent(K,"figure.image");return me?I.dom.select("img",me)[0]:K&&(K.nodeName!=="IMG"||xs(K))?null:K},Si=(I,K)=>{var me;const Ae=I.dom,jt=To(I.schema.getTextBlockElements(),(Xn,zr)=>!I.schema.isValidChild(zr,"figure")),ln=Ae.getParent(K.parentNode,Xn=>ta(jt,Xn.nodeName),I.getBody());return ln&&(me=Ae.split(ln,K))!==null&&me!==void 0?me:K},Gl=I=>{const K=_c(I);return K?yd(me=>Es(I,me),K):xr()},Kl=(I,K)=>{const me=ci(jt=>Es(I,jt),K);I.dom.setAttrib(me,"data-mce-id","__mcenew"),I.focus(),I.selection.setContent(me.outerHTML);const Ae=I.dom.select('*[data-mce-id="__mcenew"]')[0];if(I.dom.setAttrib(Ae,"data-mce-id",null),Wo(Ae)){const jt=Si(I,Ae);I.selection.select(jt)}else I.selection.select(Ae)},sr=(I,K)=>{I.dom.setAttrib(K,"src",K.getAttribute("src"))},su=(I,K)=>{if(K){const me=I.dom.is(K.parentNode,"figure.image")?K.parentNode:K;I.dom.remove(me),I.focus(),I.nodeChanged(),I.dom.isEmpty(I.getBody())&&(I.setContent(""),I.selection.setCursorLocation())}},rr=(I,K)=>{const me=_c(I);if(me)if(Yn(Ae=>Es(I,Ae),K,me),sr(I,me),Wo(me.parentNode)){I.dom.setStyle(me,"float","");const Ae=me.parentNode;Si(I,Ae),I.selection.select(me.parentNode)}else I.selection.select(me),Kt(I,K,me)},ru=(I,K)=>{const me=K.src;return{...K,src:Ir(I,me)?me:""}},Um=(I,K)=>{const me=_c(I);if(me){const jt={...yd(Xn=>Es(I,Xn),me),...K},ln=ru(I,jt);jt.src?rr(I,ln):su(I,me)}else K.src&&Kl(I,{...xr(),...K})};var Yl=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Ku=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ft=I=>Ue(I.value)?I.value:"",nl=I=>Ue(I.text)?I.text:Ue(I.title)?I.title:"",au=(I,K)=>{const me=[];return Ku.each(I,Ae=>{const jt=nl(Ae);if(Ae.menu!==void 0){const ln=au(Ae.menu,K);me.push({text:jt,items:ln})}else{const ln=K(Ae);me.push({text:jt,value:ln})}}),me},wd=(I=Ft)=>K=>K?ne.from(K).map(me=>au(me,I)):ne.none(),Xl=I=>wd(Ft)(I),Dr=I=>$n(I,"items"),ar=(I,K)=>wn(I,me=>Dr(me)?ar(me.items,K):me.value===K?ne.some(me):ne.none()),Pa={sanitizer:wd,sanitize:Xl,findEntry:(I,K)=>I.bind(me=>ar(me,K))},jf={makeTab:I=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},In=I=>{const K=Pa.sanitizer(kl=>I.convertURL(kl.value||kl.url||"","src")),me=new Promise(kl=>{nr(I,Aa=>{kl(K(Aa).map(Sd=>pe([[{text:"None",value:""}],Sd])))})}),Ae=Pa.sanitize(br(I)),jt=Yo(I),ln=st(I),Xn=Ss(I),zr=na(I),Pn=Gl(I),aa=Co(I),ia=yc(I),Or=Kn(I),ds=ws(I),jm=js(I),Qu=ur(I),Qa=ne.some(Wl(I)).filter(kl=>Ue(kl)&&kl.length>0);return me.then(kl=>({image:Pn,imageList:kl,classList:Ae,hasAdvTab:jt,hasUploadTab:ln,hasUploadUrl:Xn,hasUploadHandler:zr,hasDescription:aa,hasImageTitle:ia,hasDimensions:Or,hasImageCaption:ds,prependURL:Qa,hasAccessibilityOptions:jm,automaticUploads:Qu}))},La=I=>{const K={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},me=I.imageList.map(ia=>({name:"images",type:"listbox",label:"Image list",items:ia})),Ae={name:"alt",type:"input",label:"Alternative description",enabled:!(I.hasAccessibilityOptions&&I.image.isDecorative)},jt={name:"title",type:"input",label:"Image title"},ln={name:"dimensions",type:"sizeinput"},Xn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},zr=I.classList.map(ia=>({name:"classes",type:"listbox",label:"Class",items:ia})),Pn={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},aa=ia=>ia?{type:"grid",columns:2}:{type:"panel"};return pe([[K],me.toArray(),I.hasAccessibilityOptions&&I.hasDescription?[Xn]:[],I.hasDescription?[Ae]:[],I.hasImageTitle?[jt]:[],I.hasDimensions?[ln]:[],[{...aa(I.classList.isSome()&&I.hasImageCaption),items:pe([zr.toArray(),I.hasImageCaption?[Pn]:[]])}]])},Ql={makeTab:I=>({title:"General",name:"general",items:La(I)}),makeItems:La},Xa={makeTab:I=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},qc=I=>({prevImage:Pa.findEntry(I.imageList,I.image.src),prevAlt:I.image.alt,open:!0}),ir=I=>({src:{value:I.src,meta:{}},images:I.src,alt:I.alt,title:I.title,dimensions:{width:I.width,height:I.height},classes:I.class,caption:I.caption,style:I.style,vspace:I.vspace,border:I.border,hspace:I.hspace,borderstyle:I.borderStyle,fileinput:[],isDecorative:I.isDecorative}),Ea=(I,K)=>({src:I.src.value,alt:(I.alt===null||I.alt.length===0)&&K?null:I.alt,title:I.title,width:I.dimensions.width,height:I.dimensions.height,class:I.classes,style:I.style,caption:I.caption,hspace:I.hspace,vspace:I.vspace,border:I.border,borderStyle:I.borderstyle,isDecorative:I.isDecorative}),Ls=(I,K)=>/^(?:[a-zA-Z]+:)?\/\//.test(K)?ne.none():I.prependURL.bind(me=>K.substring(0,me.length)!==me?ne.some(me+K):ne.none()),ga=(I,K)=>{const me=K.getData();Ls(I,me.src.value).each(Ae=>{K.setData({src:{value:Ae,meta:me.src.meta}})})},Fs=(I,K,me)=>{I.hasDescription&&Ue(me.alt)&&(K.alt=me.alt),I.hasAccessibilityOptions&&(K.isDecorative=me.isDecorative||K.isDecorative||!1),I.hasImageTitle&&Ue(me.title)&&(K.title=me.title),I.hasDimensions&&(Ue(me.width)&&(K.dimensions.width=me.width),Ue(me.height)&&(K.dimensions.height=me.height)),Ue(me.class)&&Pa.findEntry(I.classList,me.class).each(Ae=>{K.classes=Ae.value}),I.hasImageCaption&&Ne(me.caption)&&(K.caption=me.caption),I.hasAdvTab&&(Ue(me.style)&&(K.style=me.style),Ue(me.vspace)&&(K.vspace=me.vspace),Ue(me.border)&&(K.border=me.border),Ue(me.hspace)&&(K.hspace=me.hspace),Ue(me.borderstyle)&&(K.borderstyle=me.borderstyle))},Gc=(I,K)=>{const me=K.getData(),Ae=me.src.meta;if(Ae!==void 0){const jt=Ci({},me);Fs(I,jt,Ae),K.setData(jt)}},Jl=(I,K,me,Ae)=>{const jt=Ae.getData(),ln=jt.src.value,Xn=jt.src.meta||{};!Xn.width&&!Xn.height&&K.hasDimensions&&(Ze(ln)?I.imageSize(ln).then(zr=>{me.open&&Ae.setData({dimensions:zr})}).catch(zr=>console.error(zr)):Ae.setData({dimensions:{width:"",height:""}}))},Cd=(I,K,me)=>{const Ae=me.getData(),jt=Pa.findEntry(I.imageList,Ae.src.value);K.prevImage=jt,me.setData({images:jt.map(ln=>ln.value).getOr("")})},iu=(I,K,me,Ae)=>{ga(K,Ae),Gc(K,Ae),Jl(I,K,me,Ae),Cd(K,me,Ae)},vr=(I,K,me,Ae)=>{const jt=Ae.getData(),ln=Pa.findEntry(K.imageList,jt.images);ln.each(Xn=>{jt.alt===""||me.prevImage.map(Pn=>Pn.text===jt.alt).getOr(!1)?Xn.value===""?Ae.setData({src:Xn,alt:me.prevAlt}):Ae.setData({src:Xn,alt:Xn.text}):Ae.setData({src:Xn})}),me.prevImage=ln,iu(I,K,me,Ae)},_l=(I,K,me,Ae)=>{const jt=Ae.getData();Ae.block("Uploading image"),bs(jt.fileinput).fold(()=>{Ae.unblock()},ln=>{const Xn=URL.createObjectURL(ln),zr=()=>{Ae.unblock(),URL.revokeObjectURL(Xn)},Pn=aa=>{Ae.setData({src:{value:aa,meta:{}}}),Ae.showTab("general"),iu(I,K,me,Ae),Ae.focus("src")};jo(ln).then(aa=>{const ia=I.createBlobCache(ln,Xn,aa);K.automaticUploads?I.uploadImage(ia).then(Or=>{Pn(Or.url),zr()}).catch(Or=>{zr(),I.alertErr(Or,()=>{Ae.focus("fileinput")})}):(I.addToBlobCache(ia),Pn(ia.blobUri()),Ae.unblock())})})},ec=(I,K,me)=>(Ae,jt)=>{jt.name==="src"?iu(I,K,me,Ae):jt.name==="images"?vr(I,K,me,Ae):jt.name==="alt"?me.prevAlt=Ae.getData().alt:jt.name==="fileinput"?_l(I,K,me,Ae):jt.name==="isDecorative"&&Ae.setEnabled("alt",!Ae.getData().isDecorative)},_d=I=>()=>{I.open=!1},Fr=I=>I.hasAdvTab||I.hasUploadUrl||I.hasUploadHandler?{type:"tabpanel",tabs:pe([[Ql.makeTab(I)],I.hasAdvTab?[jf.makeTab(I)]:[],I.hasUploadTab&&(I.hasUploadUrl||I.hasUploadHandler)?[Xa.makeTab(I)]:[]])}:{type:"panel",items:Ql.makeItems(I)},kd=(I,K,me)=>Ae=>{const jt=Ci(ir(K.image),Ae.getData()),ln={...jt,style:Cc(me.normalizeCss,Ea(jt,!1))};I.execCommand("mceUpdateImage",!1,Ea(ln,K.hasAccessibilityOptions)),I.editorUpload.uploadImagesAuto(),Ae.close()},ra=I=>K=>Ir(I,K)?tl(I.documentBaseURI.toAbsolute(K)).then(me=>({width:String(me.width),height:String(me.height)})):Promise.resolve({width:"",height:""}),tc=I=>(K,me,Ae)=>{var jt;return I.editorUpload.blobCache.create({blob:K,blobUri:me,name:(jt=K.name)===null||jt===void 0?void 0:jt.replace(/\.[^\.]+$/,""),filename:K.name,base64:Ae.split(",")[1]})},lu=I=>K=>{I.editorUpload.blobCache.add(K)},Zm=I=>(K,me)=>{I.windowManager.alert(K,me)},Xu=I=>K=>Es(I,K),Kc=I=>K=>I.dom.parseStyle(K),Fa=I=>(K,me)=>I.dom.serializeStyle(K,me),Z=I=>K=>Yl(I).upload([K],!1).then(me=>{var Ae;return me.length===0?Promise.reject("Failed to upload image"):me[0].status===!1?Promise.reject((Ae=me[0].error)===null||Ae===void 0?void 0:Ae.message):me[0]}),ae=I=>{const K={imageSize:ra(I),addToBlobCache:lu(I),createBlobCache:tc(I),alertErr:Zm(I),normalizeCss:Xu(I),parseStyle:Kc(I),serializeStyle:Fa(I),uploadImage:Z(I)};return{open:()=>{In(I).then(Ae=>{const jt=qc(Ae);return{title:"Insert/Edit Image",size:"normal",body:Fr(Ae),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ir(Ae.image),onSubmit:kd(I,Ae,K),onChange:ec(K,Ae,jt),onClose:_d(jt)}}).then(I.windowManager.open)}}},Ce=I=>{I.addCommand("mceImage",ae(I).open),I.addCommand("mceUpdateImage",(K,me)=>{I.undoManager.transact(()=>Um(I,me))})},at=I=>{const K=I.attr("class");return kt(K)&&/\bimage\b/.test(K)},Nt=I=>K=>{let me=K.length;const Ae=jt=>{jt.attr("contenteditable",I?"true":null)};for(;me--;){const jt=K[me];at(jt)&&(jt.attr("contenteditable",I?"false":null),Ku.each(jt.getAll("figcaption"),Ae))}},Ut=I=>{I.on("PreInit",()=>{I.parser.addNodeFilter("figure",Nt(!0)),I.serializer.addNodeFilter("figure",Nt(!1))})},zo=I=>K=>{const me=()=>{K.setEnabled(I.selection.isEditable())};return I.on("NodeChange",me),me(),()=>{I.off("NodeChange",me)}},cs=I=>{I.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ae(I).open,onSetup:K=>{K.setActive(kt(_c(I)));const me=I.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",K.setActive).unbind,Ae=zo(I)(K);return()=>{me(),Ae()}}}),I.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ae(I).open,onSetup:zo(I)}),I.ui.registry.addContextMenu("image",{update:K=>I.selection.isEditable()&&(Wo(K)||nu(K)&&!xs(K))?["image"]:[]})};var Ho=()=>{re.add("image",I=>{on(I),Ut(I),cs(I),Ce(I)})};Ho()}()),Ez}var Tz;function kY(){return Tz||(Tz=1,_Y()),Sz}kY();var Dz={},Oz={},Nz;function SY(){return Nz||(Nz=1,function(){var re=tinymce.util.Tools.resolve("tinymce.PluginManager");const ye=(Ve,Ue)=>{Ve.focus(),Ve.undoManager.transact(()=>{Ve.setContent(Ue)}),Ve.selection.setCursorLocation(),Ve.nodeChanged()},Be=Ve=>Ve.getContent({source_view:!0}),Ie=Ve=>{const Ue=Be(Ve);Ve.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Ue},onSubmit:ot=>{ye(Ve,ot.getData().code),ot.close()}})},Ye=Ve=>{Ve.addCommand("mceCodeEditor",()=>{Ie(Ve)})},Me=Ve=>{const Ue=()=>Ve.execCommand("mceCodeEditor");Ve.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Ue}),Ve.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Ue})};var Se=()=>{re.add("code",Ve=>(Ye(Ve),Me(Ve),{}))};Se()}()),Oz}var Rz;function EY(){return Rz||(Rz=1,SY()),Dz}EY();var Mz={},Bz={},Iz;function AY(){return Iz||(Iz=1,function(){var re=tinymce.util.Tools.resolve("tinymce.PluginManager");const ye=(Z,ae,Ce)=>{var at;return Ce(Z,ae.prototype)?!0:((at=Z.constructor)===null||at===void 0?void 0:at.name)===ae.name},Be=Z=>{const ae=typeof Z;return Z===null?"null":ae==="object"&&Array.isArray(Z)?"array":ae==="object"&&ye(Z,String,(Ce,at)=>at.isPrototypeOf(Ce))?"string":ae},Ie=Z=>ae=>Be(ae)===Z,Ye=Z=>ae=>typeof ae===Z,Me=Z=>ae=>Z===ae,Se=Ie("string"),Ve=Ie("object"),Ue=Ie("array"),ot=Me(null),St=Ye("boolean"),$t=Z=>Z==null,xt=Z=>!$t(Z),Ne=Ye("function"),yt=(Z,ae)=>{if(Ue(Z)){for(let Ce=0,at=Z.length;Ce<at;++Ce)if(!ae(Z[Ce]))return!1;return!0}return!1},kt=()=>{},ut=Z=>()=>Z,xe=(Z,ae)=>Z===ae;class He{constructor(ae,Ce){this.tag=ae,this.value=Ce}static some(ae){return new He(!0,ae)}static none(){return He.singletonNone}fold(ae,Ce){return this.tag?Ce(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?He.some(ae(this.value)):He.none()}bind(ae){return this.tag?ae(this.value):He.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:He.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae??"Called getOrDie on None")}static from(ae){return xt(ae)?He.some(ae):He.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}He.singletonNone=new He(!1);const We=Array.prototype.indexOf,ne=Array.prototype.push,Ct=(Z,ae)=>We.call(Z,ae),pe=(Z,ae)=>Ct(Z,ae)>-1,yn=(Z,ae)=>{const Ce=Z.length,at=new Array(Ce);for(let Nt=0;Nt<Ce;Nt++){const Ut=Z[Nt];at[Nt]=ae(Ut,Nt)}return at},bs=(Z,ae)=>{for(let Ce=0,at=Z.length;Ce<at;Ce++){const Nt=Z[Ce];ae(Nt,Ce)}},wn=(Z,ae,Ce)=>(bs(Z,(at,Nt)=>{Ce=ae(Ce,at,Nt)}),Ce),tn=Z=>{const ae=[];for(let Ce=0,at=Z.length;Ce<at;++Ce){if(!Ue(Z[Ce]))throw new Error("Arr.flatten item "+Ce+" was not an array, input: "+Z);ne.apply(ae,Z[Ce])}return ae},Qe=(Z,ae)=>tn(yn(Z,ae)),Jt=(Z,ae)=>{for(let Ce=0;Ce<Z.length;Ce++){const at=ae(Z[Ce],Ce);if(at.isSome())return at}return He.none()},A=Object.keys,Bo=Object.hasOwnProperty,To=(Z,ae)=>{const Ce=A(Z);for(let at=0,Nt=Ce.length;at<Nt;at++){const Ut=Ce[at],zo=Z[Ut];ae(zo,Ut)}},$n=Z=>(ae,Ce)=>{Z[Ce]=ae},ta=(Z,ae,Ce,at)=>{To(Z,(Nt,Ut)=>{(ae(Nt,Ut)?Ce:at)(Nt,Ut)})},Et=(Z,ae)=>{const Ce={};return ta(Z,ae,$n(Ce),kt),Ce},Tn=(Z,ae)=>Bo.call(Z,ae),Ci=(Z,ae)=>Tn(Z,ae)&&Z[ae]!==void 0&&Z[ae]!==null,Ze=Z=>{let ae=Z;return{get:()=>ae,set:Nt=>{ae=Nt}}},Ee=(Z,ae,Ce=xe)=>Z.exists(at=>Ce(at,ae)),gt=Z=>{const ae=[],Ce=at=>{ae.push(at)};for(let at=0;at<Z.length;at++)Z[at].each(Ce);return ae},dn=(Z,ae)=>Z?He.some(ae):He.none(),Do=Z=>{const ae=Ze(He.none()),Ce=()=>ae.get().each(Z);return{clear:()=>{Ce(),ae.set(He.none())},isSet:()=>ae.get().isSome(),get:()=>ae.get(),set:cs=>{Ce(),ae.set(He.some(cs))}}},So=()=>{const Z=Do(kt);return{...Z,on:Ce=>Z.get().each(Ce)}},qo=(Z,ae)=>Z.substring(ae),z=(Z,ae,Ce)=>ae===""||Z.length>=ae.length&&Z.substr(Ce,Ce+ae.length)===ae,dr=(Z,ae)=>Is(Z,ae)?qo(Z,ae.length):Z,Is=(Z,ae)=>z(Z,ae,0),Uo=Z=>ae=>ae.options.get(Z),_i=Z=>{const ae=Z.options.register;ae("link_assume_external_targets",{processor:Ce=>{const at=Se(Ce)||St(Ce);return at?Ce===!0?{value:1,valid:at}:Ce==="http"||Ce==="https"?{value:Ce,valid:at}:{value:0,valid:at}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ae("link_context_toolbar",{processor:"boolean",default:!1}),ae("link_list",{processor:Ce=>Se(Ce)||Ne(Ce)||yt(Ce,Ve)}),ae("link_default_target",{processor:"string"}),ae("link_default_protocol",{processor:"string",default:"https"}),ae("link_target_list",{processor:Ce=>St(Ce)||yt(Ce,Ve),default:!0}),ae("link_rel_list",{processor:"object[]",default:[]}),ae("link_class_list",{processor:"object[]",default:[]}),ae("link_title",{processor:"boolean",default:!0}),ae("allow_unsafe_link_target",{processor:"boolean",default:!1}),ae("link_quicklink",{processor:"boolean",default:!1}),ae("link_attributes_postprocess",{processor:"function"})},oa=Uo("link_assume_external_targets"),on=Uo("link_context_toolbar"),Kn=Uo("link_list"),Yo=Uo("link_default_target"),st=Uo("link_default_protocol"),Wl=Uo("link_target_list"),br=Uo("link_rel_list"),Co=Uo("link_class_list"),yc=Uo("link_title"),ws=Uo("allow_unsafe_link_target"),Zs=Uo("link_quicklink"),js=Uo("link_attributes_postprocess");var ur=tinymce.util.Tools.resolve("tinymce.util.URI"),Ss=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),na=tinymce.util.Tools.resolve("tinymce.util.Tools");const hn=Z=>xt(Z)&&Z.nodeName.toLowerCase()==="a",tl=Z=>hn(Z)&&!!ki(Z),ol=(Z,ae)=>{if(Z.collapsed)return[];{const Ce=Z.cloneContents(),at=Ce.firstChild,Nt=new Ss(at,Ce),Ut=[];let zo=at;do ae(zo)&&Ut.push(zo);while(zo=Nt.next());return Ut}},Ya=Z=>/^\w+:/i.test(Z),ki=Z=>{var ae,Ce;return(Ce=(ae=Z.getAttribute("data-mce-href"))!==null&&ae!==void 0?ae:Z.getAttribute("href"))!==null&&Ce!==void 0?Ce:""},nr=(Z,ae)=>{const Ce=["noopener"],at=Z?Z.split(/\s+/):[],Nt=Ho=>na.trim(Ho.sort().join(" ")),Ut=Ho=>(Ho=zo(Ho),Ho.length>0?Ho.concat(Ce):Ce),zo=Ho=>Ho.filter(I=>na.inArray(Ce,I)===-1),cs=ae?Ut(at):zo(at);return cs.length>0?Nt(cs):""},Kt=Z=>Z.replace(/\uFEFF/g,""),jo=(Z,ae)=>(ae=ae||Vt(Z.selection.getRng())[0]||Z.selection.getNode(),sa(ae)?He.from(Z.dom.select("a[href]",ae)[0]):He.from(Z.dom.getParent(ae,"a[href]"))),xs=(Z,ae)=>jo(Z,ae).isSome(),Ir=(Z,ae)=>{const Ce=ae.fold(()=>Z.getContent({format:"text"}),at=>at.innerText||at.textContent||"");return Kt(Ce)},Vt=Z=>ol(Z,tl),Pr=Z=>na.grep(Z,tl),tu=Z=>Pr(Z).length>0,Un=Z=>Vt(Z).length>0,jn=Z=>{const ae=Z.schema.getTextInlineElements(),Ce=Ut=>Ut.nodeType===1&&!hn(Ut)&&!Tn(ae,Ut.nodeName.toLowerCase());if(jo(Z).exists(Ut=>Ut.hasAttribute("data-mce-block")))return!1;const Nt=Z.selection.getRng();return Nt.collapsed?!0:ol(Nt,Ce).length===0},sa=Z=>xt(Z)&&Z.nodeName==="FIGURE"&&/\bimage\b/i.test(Z.className),Tr=Z=>wn(["title","rel","class","target"],(Ce,at)=>(Z[at].each(Nt=>{Ce[at]=Nt.length>0?Nt:null}),Ce),{href:Z.href}),ou=(Z,ae)=>(ae==="http"||ae==="https")&&!Ya(Z)?ae+"://"+Z:Z,Zc=(Z,ae)=>{const Ce={...ae};if(br(Z).length===0&&!ws(Z)){const at=nr(Ce.rel,Ce.target==="_blank");Ce.rel=at||null}return He.from(Ce.target).isNone()&&Wl(Z)===!1&&(Ce.target=Yo(Z)),Ce.href=ou(Ce.href,oa(Z)),Ce},Fo=(Z,ae,Ce,at)=>{Ce.each(Ut=>{Tn(ae,"innerText")?ae.innerText=Ut:ae.textContent=Ut}),Z.dom.setAttribs(ae,at);const Nt=Z.dom.createRng();Nt.setStartAfter(ae),Nt.setEndAfter(ae),Z.selection.setRng(Nt)},mr=(Z,ae,Ce,at)=>{const Nt=Z.dom;sa(ae)?nu(Nt,ae,at):Ce.fold(()=>{Z.execCommand("mceInsertLink",!1,at);const Ut=Z.selection.getEnd(),zo=Nt.createRng();zo.setStartAfter(Ut),zo.setEndAfter(Ut),Z.selection.setRng(zo)},Ut=>{Z.insertContent(Nt.createHTML("a",at,Nt.encode(Ut)))})},pa=(Z,ae,Ce)=>{const at=Z.selection.getNode(),Nt=jo(Z,at),Ut=Zc(Z,Tr(Ce)),zo=js(Z);xt(zo)&&zo(Ut),Z.undoManager.transact(()=>{Ce.href===ae.href&&ae.attach(),Nt.fold(()=>{mr(Z,at,Ce.text,Ut)},cs=>{Z.focus(),Fo(Z,cs,Ce.text,Ut)})})},_n=Z=>{const ae=Z.dom,Ce=Z.selection,at=Ce.getBookmark(),Nt=Ce.getRng().cloneRange(),Ut=ae.getParent(Nt.startContainer,"a[href]",Z.getBody()),zo=ae.getParent(Nt.endContainer,"a[href]",Z.getBody());Ut&&Nt.setStartBefore(Ut),zo&&Nt.setEndAfter(zo),Ce.setRng(Nt),Z.execCommand("unlink"),Ce.moveToBookmark(at)},Qt=Z=>{Z.undoManager.transact(()=>{const ae=Z.selection.getNode();sa(ae)?Wo(Z,ae):_n(Z),Z.focus()})},Lr=Z=>{const{class:ae,href:Ce,rel:at,target:Nt,text:Ut,title:zo}=Z;return Et({class:ae.getOrNull(),href:Ce,rel:at.getOrNull(),target:Nt.getOrNull(),text:Ut.getOrNull(),title:zo.getOrNull()},(cs,Ho)=>ot(cs)===!1)},wc=(Z,ae)=>{const Ce=Z.options.get,at={allow_html_data_urls:Ce("allow_html_data_urls"),allow_script_urls:Ce("allow_script_urls"),allow_svg_data_urls:Ce("allow_svg_data_urls")},Nt=ae.href;return{...ae,href:ur.isDomSafe(Nt,"a",at)?Nt:""}},Oe=(Z,ae,Ce)=>{const at=wc(Z,Ce);Z.hasPlugin("rtc",!0)?Z.execCommand("createlink",!1,Lr(at)):pa(Z,ae,at)},ka=Z=>{Z.hasPlugin("rtc",!0)?Z.execCommand("unlink"):Qt(Z)},Wo=(Z,ae)=>{var Ce;const at=Z.dom.select("img",ae)[0];if(at){const Nt=Z.dom.getParents(at,"a[href]",ae)[0];Nt&&((Ce=Nt.parentNode)===null||Ce===void 0||Ce.insertBefore(at,Nt),Z.dom.remove(Nt))}},nu=(Z,ae,Ce)=>{var at;const Nt=Z.select("img",ae)[0];if(Nt){const Ut=Z.create("a",Ce);(at=Nt.parentNode)===null||at===void 0||at.insertBefore(Ut,Nt),Ut.appendChild(Nt)}},Sa=Z=>Se(Z.value)?Z.value:"",ql=Z=>Se(Z.text)?Z.text:Se(Z.title)?Z.title:"",xr=(Z,ae)=>{const Ce=[];return na.each(Z,at=>{const Nt=ql(at);if(at.menu!==void 0){const Ut=xr(at.menu,ae);Ce.push({text:Nt,items:Ut})}else{const Ut=ae(at);Ce.push({text:Nt,value:Ut})}}),Ce},Cc=(Z=Sa)=>ae=>He.from(ae).map(Ce=>xr(Ce,Z)),Ps={sanitize:Z=>Cc(Sa)(Z),sanitizeWith:Cc,createUi:(Z,ae)=>Ce=>({name:Z,type:"listbox",label:ae,items:Ce}),getValue:Sa},Cs=Z=>Ci(Z,"items"),Bn=(Z,ae)=>Jt(ae,Ce=>Cs(Ce)?Bn(Z,Ce.items):dn(Ce.value===Z,Ce)),Mi=(Z,ae,Ce,at)=>{const Nt=at[ae],Ut=Z.length>0;return Nt!==void 0?Bn(Nt,Ce).map(zo=>({url:{value:zo.value,meta:{text:Ut?Z:zo.text,attach:kt}},text:Ut?Z:zo.text})):He.none()},Yn=(Z,ae)=>ae==="link"?Z.link:ae==="anchor"?Z.anchor:He.none(),_c={init:(Z,ae)=>{const Ce={text:Z.text,title:Z.title},at=Ho=>{var I;return dn(Ce.title.length<=0,He.from((I=Ho.meta)===null||I===void 0?void 0:I.title).getOr(""))},Nt=Ho=>{var I;return dn(Ce.text.length<=0,He.from((I=Ho.meta)===null||I===void 0?void 0:I.text).getOr(Ho.value))},Ut=Ho=>{const I=Nt(Ho.url),K=at(Ho.url);return I.isSome()||K.isSome()?He.some({...I.map(me=>({text:me})).getOr({}),...K.map(me=>({title:me})).getOr({})}):He.none()},zo=(Ho,I)=>{const K=Yn(ae,I).getOr([]);return Mi(Ce.text,I,K,Ho)};return{onChange:(Ho,I)=>{const K=I.name;return K==="url"?Ut(Ho()):pe(["anchor","link"],K)?zo(Ho(),K):((K==="text"||K==="title")&&(Ce[K]=Ho()[K]),He.none())}}},getDelta:Mi};var Si=tinymce.util.Tools.resolve("tinymce.util.Delay");const Gl=(Z,ae,Ce)=>{const at=Z.selection.getRng();Si.setEditorTimeout(Z,()=>{Z.windowManager.confirm(ae,Nt=>{Z.selection.setRng(at),Ce(Nt)})})},Kl=Z=>{const ae=Z.href;return ae.indexOf("@")>0&&ae.indexOf("/")===-1&&ae.indexOf("mailto:")===-1?He.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:at=>({...at,href:"mailto:"+ae})}):He.none()},sr=(Z,ae)=>Ce=>{const at=Ce.href;return Z===1&&!Ya(at)||Z===0&&/^\s*www(\.|\d\.)/i.test(at)?He.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ae}:// prefix?`,preprocess:Ut=>({...Ut,href:ae+"://"+at})}):He.none()},rr={preprocess:(Z,ae)=>Jt([Kl,sr(oa(Z),st(Z))],Ce=>Ce(ae)).fold(()=>Promise.resolve(ae),Ce=>new Promise(at=>{Gl(Z,Ce.message,Nt=>{at(Nt?Ce.preprocess(ae):ae)})}))},Um={getAnchors:Z=>{const ae=Z.dom.select("a:not([href])"),Ce=Qe(ae,at=>{const Nt=at.name||at.id;return Nt?[{text:Nt,value:"#"+Nt}]:[]});return Ce.length>0?He.some([{text:"None",value:""}].concat(Ce)):He.none()}},Ku={getClasses:Z=>{const ae=Co(Z);return ae.length>0?Ps.sanitize(ae):He.none()}},Ft=Z=>{try{return He.some(JSON.parse(Z))}catch{return He.none()}},au={getLinks:Z=>{const ae=at=>Z.convertURL(at.value||at.url||"","href"),Ce=Kn(Z);return new Promise(at=>{Se(Ce)?fetch(Ce).then(Nt=>Nt.ok?Nt.text().then(Ft):Promise.reject()).then(at,()=>at(He.none())):Ne(Ce)?Ce(Nt=>at(He.some(Nt))):at(He.from(Ce))}).then(at=>at.bind(Ps.sanitizeWith(ae)).map(Nt=>Nt.length>0?[{text:"None",value:""}].concat(Nt):Nt))}},Xl={getRels:(Z,ae)=>{const Ce=br(Z);if(Ce.length>0){const at=Ee(ae,"_blank"),Nt=ws(Z)===!1,Ut=cs=>nr(Ps.getValue(cs),at);return(Nt?Ps.sanitizeWith(Ut):Ps.sanitize)(Ce)}return He.none()}},Dr=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Yu={getTargets:Z=>{const ae=Wl(Z);return Ue(ae)?Ps.sanitize(ae).orThunk(()=>He.some(Dr)):ae===!1?He.none():He.some(Dr)}},Pa=(Z,ae,Ce)=>{const at=Z.getAttrib(ae,Ce);return at!==null&&at.length>0?He.some(at):He.none()},jc=(Z,ae)=>{const Ce=Z.dom,Nt=jn(Z)?He.some(Ir(Z.selection,ae)):He.none(),Ut=ae.bind(K=>He.from(Ce.getAttrib(K,"href"))),zo=ae.bind(K=>He.from(Ce.getAttrib(K,"target"))),cs=ae.bind(K=>Pa(Ce,K,"rel")),Ho=ae.bind(K=>Pa(Ce,K,"class")),I=ae.bind(K=>Pa(Ce,K,"title"));return{url:Ut,text:Nt,title:I,target:zo,rel:cs,linkClass:Ho}},In={collect:(Z,ae)=>au.getLinks(Z).then(Ce=>{const at=jc(Z,ae);return{anchor:at,catalogs:{targets:Yu.getTargets(Z),rels:Xl.getRels(Z,at.target),classes:Ku.getClasses(Z),anchor:Um.getAnchors(Z),link:Ce},optNode:ae,flags:{titleEnabled:yc(Z)}}})},La=(Z,ae)=>Ce=>{const at=Ce.getData();if(!at.url.value){ka(Z),Ce.close();return}const Nt=cs=>He.from(at[cs]).filter(Ho=>!Ee(ae.anchor[cs],Ho)),Ut={href:at.url.value,text:Nt("text"),target:Nt("target"),rel:Nt("rel"),class:Nt("linkClass"),title:Nt("title")},zo={href:at.url.value,attach:at.url.meta!==void 0&&at.url.meta.attach?at.url.meta.attach:kt};rr.preprocess(Z,Ut).then(cs=>{Oe(Z,zo,cs)}),Ce.close()},Wc=Z=>{const ae=jo(Z);return In.collect(Z,ae)},Ql=(Z,ae)=>{const Ce=Z.anchor,at=Ce.url.getOr("");return{url:{value:at,meta:{original:{value:at}}},text:Ce.text.getOr(""),title:Ce.title.getOr(""),anchor:at,link:at,rel:Ce.rel.getOr(""),target:Ce.target.or(ae).getOr(""),linkClass:Ce.linkClass.getOr("")}},Cl=(Z,ae,Ce)=>{const at=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],Nt=Z.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Ut=Z.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],zo=He.from(Yo(Ce)),cs=Ql(Z,zo),Ho=Z.catalogs,I=_c.init(cs,Ho);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:tn([at,Nt,Ut,gt([Ho.anchor.map(Ps.createUi("anchor","Anchors")),Ho.rels.map(Ps.createUi("rel","Rel")),Ho.targets.map(Ps.createUi("target","Open link in...")),Ho.link.map(Ps.createUi("link","Link list")),Ho.classes.map(Ps.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:cs,onChange:(me,{name:Ae})=>{I.onChange(me.getData,{name:Ae}).each(jt=>{me.setData(jt)})},onSubmit:ae}},Xa=Z=>{Wc(Z).then(Ce=>{const at=La(Z,Ce);return Cl(Ce,at,Z)}).then(Ce=>{Z.windowManager.open(Ce)})},qc=Z=>{Z.addCommand("mceLink",(ae,Ce)=>{(Ce==null?void 0:Ce.dialog)===!0||!Zs(Z)?Xa(Z):Z.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},ir=Z=>{Z.addShortcut("Meta+K","",()=>{Z.execCommand("mceLink")})};var Ea=tinymce.util.Tools.resolve("tinymce.util.VK");const Ls=(Z,ae)=>{document.body.appendChild(Z),Z.dispatchEvent(ae),document.body.removeChild(Z)},ga=Z=>{const ae=document.createElement("a");ae.target="_blank",ae.href=Z,ae.rel="noreferrer noopener";const Ce=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Ce),Ls(ae,Ce)},Fs=Z=>Z.altKey===!0&&Z.shiftKey===!1&&Z.ctrlKey===!1&&Z.metaKey===!1,Gc=(Z,ae)=>{if(ae){const Ce=ki(ae);if(/^#/.test(Ce)){const at=Z.dom.select(`${Ce},[name="${dr(Ce,"#")}"]`);at.length&&Z.selection.scrollIntoView(at[0],!0)}else ga(ae.href)}},Jl=Z=>{const ae=Z.selection.getRng(),Ce=ae.startContainer;return tl(Ce)&&ae.startContainer===ae.endContainer&&Z.dom.select("img",Ce).length===1},Cd=(Z,ae)=>{const Ce=Pr(Z.dom.getParents(ae));return dn(Ce.length===1,Ce[0])},iu=Z=>{const ae=Vt(Z.selection.getRng());return dn(ae.length>0,ae[0]).or(Cd(Z,Z.selection.getNode()))},vr=Z=>Z.selection.isCollapsed()||Jl(Z)?Cd(Z,Z.selection.getStart()):iu(Z),_l=Z=>{const ae=So(),Ce=()=>ae.get().or(vr(Z)),at=()=>Ce().each(Nt=>Gc(Z,Nt));return Z.on("contextmenu",Nt=>{Cd(Z,Nt.target).each(ae.set)}),Z.on("SelectionChange",()=>{ae.isSet()||vr(Z).each(ae.set)}),Z.on("click",Nt=>{ae.clear();const Ut=Pr(Z.dom.getParents(Nt.target));Ut.length===1&&Ea.metaKeyPressed(Nt)&&(Nt.preventDefault(),Gc(Z,Ut[0]))}),Z.on("keydown",Nt=>{ae.clear(),!Nt.isDefaultPrevented()&&Nt.keyCode===13&&Fs(Nt)&&Ce().each(Ut=>{Nt.preventDefault(),Gc(Z,Ut)})}),{gotoSelectedLink:at}},ec=Z=>()=>{Z.execCommand("mceLink",!1,{dialog:!0})},_d=(Z,ae)=>(Z.on("NodeChange",ae),()=>Z.off("NodeChange",ae)),Fr=Z=>ae=>{const Ce=()=>{ae.setActive(!Z.mode.isReadOnly()&&xs(Z,Z.selection.getNode())),ae.setEnabled(Z.selection.isEditable())};return Ce(),_d(Z,Ce)},kd=Z=>ae=>{const Ce=()=>{ae.setEnabled(Z.selection.isEditable())};return Ce(),_d(Z,Ce)},ra=Z=>ae=>{const Ce=Ut=>tu(Ut)||Un(Z.selection.getRng()),at=Z.dom.getParents(Z.selection.getStart()),Nt=Ut=>{ae.setEnabled(Ce(Ut)&&Z.selection.isEditable())};return Nt(at),_d(Z,Ut=>Nt(Ut.parents))},tc=(Z,ae)=>{Z.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:ec(Z),onSetup:Fr(Z)}),Z.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ae.gotoSelectedLink,onSetup:ra(Z)}),Z.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>ka(Z),onSetup:ra(Z)})},lu=(Z,ae)=>{Z.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ae.gotoSelectedLink,onSetup:ra(Z)}),Z.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ec(Z),onSetup:kd(Z)}),Z.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>ka(Z),onSetup:ra(Z)})},Zm=Z=>{const ae="link unlink openlink",Ce="link";Z.ui.registry.addContextMenu("link",{update:at=>Z.dom.isEditable(at)?tu(Z.dom.getParents(at,"a"))?ae:Ce:""})},Xu=(Z,ae)=>{const Ce=Ut=>{Ut.selection.collapse(!1)},at=Ut=>{const zo=Z.selection.getNode();return Ut.setEnabled(xs(Z,zo)&&Z.selection.isEditable()),kt},Nt=Ut=>{const zo=jo(Z),cs=jn(Z);if(zo.isNone()&&cs){const Ho=Ir(Z.selection,zo);return dn(Ho.length===0,Ut)}else return He.none()};Z.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Fr(Z)},label:"Link",predicate:Ut=>on(Z)&&xs(Z,Ut),initValue:()=>jo(Z).fold(ut(""),ki),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Ut=>{const zo=Z.selection.getNode();return Ut.setActive(xs(Z,zo)),Fr(Z)(Ut)},onAction:Ut=>{const zo=Ut.getValue(),cs=Nt(zo);Oe(Z,{href:zo,attach:kt},{href:zo,text:cs,title:He.none(),rel:He.none(),target:He.from(Yo(Z)),class:He.none()}),Ce(Z),Ut.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:at,onAction:Ut=>{ka(Z),Ut.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:at,onAction:Ut=>{ae.gotoSelectedLink(),Ut.hide()}}]})},Kc=Z=>{const ae=_l(Z);tc(Z,ae),lu(Z,ae),Zm(Z),Xu(Z,ae)};var Fa=()=>{re.add("link",Z=>{_i(Z),qc(Z),Kc(Z),ir(Z)})};Fa()}()),Bz}var Pz;function TY(){return Pz||(Pz=1,AY()),Mz}TY();tinymce.Resource.add("ui/oxide/content.css",`@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],> audio[data-mce-selected],> video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:rgba(255,255,255,.5)}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:min(100%,600px);height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--icon-min-width:24px;--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out;box-shadow:0 0 0 99999px #222f3e80;z-index:1}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]:is(td,th,tr){position:static}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);tinymce.addI18n("fr_FR",{"#":"#",Accessibility:"Accessibilité",Accordion:"Accordéon","Accordion body...":"Corps de l'accordéon...","Accordion summary...":"Résumé de l'accordéon...",Action:"Action",Activity:"Activité",Address:"Adresse",Advanced:"Options avancées",Align:"Aligner","Align center":"Centrer","Align left":"Aligner à gauche","Align right":"Aligner à droite",Alignment:"Alignement","Alignment {0}":"Alignement {0}",All:"Tout","Alternative description":"Description alternative","Alternative source":"Source alternative","Alternative source URL":"URL de la source alternative",Anchor:"Ancre","Anchor...":"Ancre...",Anchors:"Ancres","Animals and Nature":"Animaux & nature",Arrows:"Flèches",B:"B","Background color":"Couleur d'arrière-plan","Background color {0}":"Couleur d'arrière-plan {0}",Black:"Noir",Block:"Bloc","Block {0}":"Bloc {0}",Blockquote:"Bloc de citation",Blocks:"Blocs",Blue:"Bleu","Blue component":"Composant bleu",Body:"Corps",Bold:"Gras",Border:"Bordure","Border color":"Couleur de bordure","Border style":"Style de la bordure","Border width":"Épaisseur de la bordure",Bottom:"En bas","Browse files":"Consulter les fichiers","Browse for an image":"Rechercher une image","Browse links":"Consulter les liens","Bullet list":"Liste à puces",Cancel:"Annuler",Caption:"Légende",Cell:"Cellule","Cell padding":"Marge intérieure des cellules","Cell properties":"Propriétés de la cellule","Cell spacing":"Espacement entre les cellules","Cell styles":"Type de cellule","Cell type":"Type de cellule",Center:"Centre",Characters:"Caractères","Characters (no spaces)":"Caractères (espaces non compris)",Circle:"Cercle",Class:"Classe","Clear formatting":"Effacer la mise en forme",Close:"Fermer",Code:"Code","Code sample...":"Exemple de code...","Code view":"Affichage du code","Color Picker":"Sélecteur de couleurs","Color swatch":"Échantillon de couleurs",Cols:"Colonnes",Column:"Colonne","Column clipboard actions":"Actions du presse-papiers des colonnes","Column group":"Groupe de colonnes","Column header":"En-tête de colonne","Constrain proportions":"Limiter les proportions",Copy:"Copier","Copy column":"Copier la colonne","Copy row":"Copier la ligne","Could not find the specified string.":"Impossible de trouver la chaîne spécifiée.","Could not load emojis":"Impossible de charger les emojis",Count:"Total",Currency:"Devise","Current window":"Fenêtre active","Custom color":"Couleur personnalisée","Custom...":"Personnalisée...",Cut:"Couper","Cut column":"Couper la colonne","Cut row":"Couper la ligne","Dark Blue":"Bleu foncé","Dark Gray":"Gris foncé","Dark Green":"Vert foncé","Dark Orange":"Orange foncé","Dark Purple":"Violet foncé","Dark Red":"Rouge foncé","Dark Turquoise":"Turquoise foncé","Dark Yellow":"Jaune foncé",Dashed:"Tirets","Date/time":"Date/heure","Decrease indent":"Réduire le retrait",Default:"Par défaut","Delete accordion":"Supprimer l'accordéon","Delete column":"Supprimer la colonne","Delete row":"Supprimer la ligne","Delete table":"Supprimer le tableau",Dimensions:"Dimensions",Disc:"Disque",Div:"Div",Document:"Document",Dotted:"Pointillé",Double:"Deux traits continus","Drop an image here":"Déposer une image ici","Dropped file type is not supported":"Le type de fichier déposé n'est pas pris en charge",Edit:"Modifier",Embed:"Incorporer",Emojis:"Émojis","Emojis...":"Émojis...",Error:"Erreur","Error: Form submit field collision.":"Erreur : conflit de champs lors de la soumission du formulaire.","Error: No form element found.":"Erreur : aucun élément de formulaire trouvé.","Extended Latin":"Latin étendu","Failed to initialize plugin: {0}":"Échec d'initialisation de l'extension : {0}","Failed to load plugin url: {0}":"Échec de chargement de l'URL du plug-in : {0}","Failed to load plugin: {0} from url {1}":"Échec de chargement du plug-in : {0} à partir de l’URL {1}","Failed to upload image: {0}":"Échec d'envoi de l'image : {0}",File:"Fichier",Find:"Rechercher","Find (if searchreplace plugin activated)":"Rechercher (si l'extension 'searchreplace' est activée)","Find and Replace":"Trouver et remplacer","Find and replace...":"Trouver et remplacer...","Find in selection":"Trouver dans la sélection","Find whole words only":"Mot entier",Flags:"Drapeaux","Focus to contextual toolbar":"Mettre le focus sur la barre d'outils contextuelle","Focus to element path":"Mettre le focus sur le chemin vers l'élément","Focus to menubar":"Mettre le focus sur la barre de menu","Focus to toolbar":"Mettre le focus sur la barre d'outils",Font:"Police","Font size {0}":"Taille de police {0}","Font sizes":"Tailles de police","Font {0}":"Police {0}",Fonts:"Polices","Food and Drink":"Nourriture & boissons",Footer:"Pied de page",Format:"Format","Format {0}":"Format {0}",Formats:"Formats",Fullscreen:"Plein écran",G:"V",General:"Général",Gray:"Gris",Green:"Vert","Green component":"Composant vert",Groove:"Sculpté","Handy Shortcuts":"Raccourcis utiles",Header:"En-tête","Header cell":"Cellule d'en-tête","Heading 1":"Titre 1","Heading 2":"Titre 2","Heading 3":"Titre 3","Heading 4":"Titre 4","Heading 5":"Titre 5","Heading 6":"Titre 6",Headings:"Titres",Height:"Hauteur",Help:"Aide","Hex color code":"Code couleur hexadécimal",Hidden:"Masqué","Horizontal align":"Alignement horizontal","Horizontal line":"Ligne horizontale","Horizontal space":"Espace horizontal",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"L'ID doit commencer par une lettre, suivie uniquement par des lettres, numéros, tirets, points, deux-points et underscores.","Image is decorative":"L'image est décorative","Image list":"Liste des images","Image title":"Titre d'image","Image...":"Image...","ImageProxy HTTP error: Could not find Image Proxy":"Erreur HTTP d'ImageProxy : Impossible de trouver ImageProxy","ImageProxy HTTP error: Incorrect Image Proxy URL":"Erreur HTTP d'ImageProxy : URL de ImageProxy incorrecte","ImageProxy HTTP error: Rejected request":"Erreur HTTP d'ImageProxy : Requête rejetée","ImageProxy HTTP error: Unknown ImageProxy error":"Erreur HTTP d'ImageProxy : Erreur ImageProxy inconnue","Increase indent":"Augmenter le retrait",Inline:"En ligne",Insert:"Insérer","Insert Template":"Insérer le modèle","Insert accordion":"Insérer un accordéon","Insert column after":"Insérer une colonne après","Insert column before":"Insérer une colonne avant","Insert date/time":"Insérer date/heure","Insert image":"Insérer une image","Insert link (if link plugin activated)":"Insérer un lien (si l'extension 'link' est activée)","Insert row after":"Insérer une ligne après","Insert row before":"Insérer une ligne avant","Insert table":"Insérer un tableau","Insert template...":"Insérer un modèle...","Insert video":"Insérer une vidéo","Insert/Edit code sample":"Insérer / modifier un bloc de code","Insert/edit image":"Insérer/modifier image","Insert/edit link":"Insérer/modifier lien","Insert/edit media":"Insérer/modifier un média","Insert/edit video":"Insérer/modifier une vidéo",Inset:"Incrusté","Invalid hex color code: {0}":"Code couleur hexadécimal invalide : {0}","Invalid input":"Entrée invalide",Italic:"Italique",Justify:"Justifier","Keyboard Navigation":"Navigation au clavier",Language:"Langue","Learn more...":"En savoir plus...",Left:"Gauche","Left to right":"De gauche à droite","Light Blue":"Bleu clair","Light Gray":"Gris clair","Light Green":"Vert clair","Light Purple":"Violet clair","Light Red":"Rouge clair","Light Yellow":"Jaune clair","Line height":"Hauteur de la ligne","Link list":"Liste des liens","Link...":"Lien...","List Properties":"Propriétés de la liste","List properties...":"Lister les propriétés...","Loading emojis...":"Chargement des emojis...","Loading...":"Chargement...","Lower Alpha":"Alphabet en minuscules","Lower Greek":"Alphabet grec en minuscules","Lower Roman":"Chiffre romain inférieur","Match case":"Respecter la casse",Mathematical:"Opérateurs mathématiques","Media poster (Image URL)":"Affiche de média (URL de l'image)","Media...":"Média...","Medium Blue":"Bleu moyen","Medium Gray":"Gris moyen","Medium Purple":"Violet moyen","Merge cells":"Fusionner les cellules",Middle:"Au milieu","Midnight Blue":"Bleu de minuit","More...":"Plus...",Name:"Nom","Navy Blue":"Bleu marine","New document":"Nouveau document","New window":"Nouvelle fenêtre",Next:"Suivante",No:"Non","No alignment":"Aucun alignement","No color":"Aucune couleur","Nonbreaking space":"Espace insécable",None:"Aucun","Numbered list":"Liste numérotée",OR:"OU",Objects:"Objets",Ok:"Ok","Open help dialog":"Ouvrir la boîte de dialogue d'aide","Open link":"Ouvrir le lien","Open link in...":"Ouvrir le lien dans...","Open popup menu for split buttons":"Ouvrir le menu contextuel pour les boutons partagés",Orange:"Orange",Outset:"Relief","Page break":"Saut de page",Paragraph:"Paragraphe",Paste:"Coller","Paste as text":"Coller comme texte","Paste column after":"Coller la colonne après","Paste column before":"Coller la colonne avant","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Le collage est maintenant en mode texte brut. Les contenus seront collés sans retenir les formatages jusqu'à ce que vous désactiviez cette option.","Paste or type a link":"Coller ou taper un lien","Paste row after":"Coller la ligne après","Paste row before":"Coller la ligne avant","Paste your embed code below:":"Collez votre code incorporé ci-dessous :",People:"Personnes",Plugins:"Plug-ins","Plugins installed ({0}):":"Extensions installées ({0}) :","Powered by {0}":"Avec {0}",Pre:"Préformaté",Preferences:"Préférences",Preformatted:"Préformaté","Premium plugins:":"Plug-ins premium :","Press the Up and Down arrow keys to resize the editor.":"Appuyez sur les touches fléchées haut et bas pour redimensionner l'éditeur.","Press the arrow keys to resize the editor.":"Appuyez sur les touches fléchées pour redimensionner l'éditeur.","Press {0} for help":"Appuyez sur {0} pour obtenir de l'aide",Preview:"Aperçu",Previous:"Précédente",Print:"Imprimer","Print...":"Imprimer...",Purple:"Violet",Quotations:"Citations",R:"R","Range 0 to 255":"Plage de 0 à 255",Red:"Rouge","Red component":"Composant rouge",Redo:"Refaire",Remove:"Retiré","Remove color":"Supprimer la couleur","Remove link":"Enlever le lien",Replace:"Remplacer","Replace all":"Remplacer tout","Replace with":"Remplacer par",Resize:"Redimensionner","Restore last draft":"Restaurer le dernier brouillon","Reveal or hide additional toolbar items":"Affichez ou masquez les éléments supplémentaires de la barre d'outils","Rich Text Area":"Zone de Texte Riche","Rich Text Area. Press ALT-0 for help.":"Zone de Texte Riche. Appuyez sur ALT-0 pour l'aide.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Zone de Texte Riche. Appuyez sur ALT-F9 pour le menu. Appuyez sur ALT-F10 pour la barre d'outils. Appuyez sur ALT-0 pour l'aide",Ridge:"Extrudé",Right:"Droite","Right to left":"De droite à gauche",Row:"Ligne","Row clipboard actions":"Actions du presse-papiers des lignes","Row group":"Groupe de lignes","Row header":"En-tête de ligne","Row properties":"Propriétés de la ligne","Row type":"Type de ligne",Rows:"Lignes",Save:"Enregistrer","Save (if save plugin activated)":"Enregistrer (si l'extension 'save' est activée)",Scope:"Étendue",Search:"Rechercher","Select all":"Sélectionner tout","Select...":"Sélectionner...",Selection:"Sélection",Shortcut:"Raccourci","Show blocks":"Afficher les blocs","Show caption":"Afficher une légende","Show invisible characters":"Afficher les caractères invisibles",Size:"Taille",Solid:"Trait continu",Source:"Source","Source code":"Code source","Special Character":"Caractère spécial","Special character...":"Caractère spécial...","Split cell":"Diviser la cellule",Square:"Carré","Start list at number":"Liste de départ au numéro",Strikethrough:"Barré",Style:"Style",Subscript:"Indice",Superscript:"Exposant","Switch to or from fullscreen mode":"Passer en ou quitter le mode plein écran",Symbols:"Symboles","System Font":"Police système",Table:"Tableau","Table caption":"Légende de tableau","Table properties":"Propriétés du tableau","Table styles":"Style tableau",Template:"Modèle",Templates:"Modèles",Text:"Texte","Text color":"Couleur du texte","Text color {0}":"Couleur du texte {0}","Text to display":"Texte à afficher","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"L'URL que vous avez saisie semble être une adresse e-mail. Souhaitez-vous y ajouter le préfixe requis mailto: ?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"L'URL que vous avez saisie semble être un lien externe. Souhaitez-vous y ajouter le préfixe requis mailto: ?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"L'URL que vous avez saisie semble être un lien externe. Voulez-vous ajouter le préfixe https:// requis ?",Title:"Titre","To open the popup, press Shift+Enter":"Pour ouvrir la popup, appuyez sur Maj+Entrée","Toggle accordion":"Activer l'accordéon",Tools:"Outils",Top:"En haut","Travel and Places":"Voyages et lieux",Turquoise:"Turquoise",Underline:"Souligné",Undo:"Annuler",Upload:"Télécharger","Uploading image":"Téléversement d'une image","Upper Alpha":"Alphabet en majuscules","Upper Roman":"Chiffre romain supérieur",Url:"URL","User Defined":"Défini par l'utilisateur",Valid:"Valide",Version:"Version","Vertical align":"Alignement vertical","Vertical space":"Espace vertical",View:"Afficher","Visual aids":"Aides visuelles",Warn:"Avertir",White:"Blanc",Width:"Largeur","Word count":"Nombre de mots",Words:"Mots","Words: {0}":"Mots : {0}",Yellow:"Jaune",Yes:"Oui","You are using {0}":"Vous utilisez {0}","You have unsaved changes are you sure you want to navigate away?":"Vous avez des modifications non enregistrées, êtes-vous sûr de vouloir quitter la page ?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Votre navigateur ne supporte pas l’accès direct au presse-papiers. Merci d'utiliser les raccourcis clavier Ctrl+X/C/V.",alignment:"alignement","austral sign":"Symbole austral","cedi sign":"Symbole cedi","colon sign":"symbole colón","cruzeiro sign":"Symbole cruzeiro","currency sign":"symbole devise","dollar sign":"symbole dollar","dong sign":"Symbole dong","drachma sign":"Symbole drachme","euro-currency sign":"symbole euro",example:"exemple",formatting:"mise en forme","french franc sign":"symbole franc français","german penny symbol":"Symbole pfennig","guarani sign":"Symbole guarani",history:"historique","hryvnia sign":"Symbole hryvnia",indentation:"retrait","indian rupee sign":"Symbole roupie indienne","kip sign":"Symbole kip","lira sign":"Symbole lire","livre tournois sign":"Symbole livre tournois","manat sign":"Symbole manat","mill sign":"Symbole millième","naira sign":"Symbole naira","new sheqel sign":"Symbole nouveau chékel","nordic mark sign":"Symbole du mark nordique","peseta sign":"Symbole peseta","peso sign":"Symbole peso","ruble sign":"Symbole rouble","rupee sign":"Symbole roupie","spesmilo sign":"Symbole spesmilo",styles:"styles","tenge sign":"Symbole tenge","tugrik sign":"Symbole tougrik","turkish lira sign":"Symbole lire turque","won sign":"Symbole won","yen character":"Sinogramme Yen","yen/yuan character variant one":"Sinogramme Yen/Yuan, première variante","yuan character":"Sinogramme Yuan","yuan character, in hong kong and taiwan":"Sinogramme Yuan, Hong Kong et Taiwan","{0} characters":"{0} caractères","{0} columns, {1} rows":" {0} colonnes, {1} lignes","{0} words":"{0} mots"});var DY=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],OY=function(re){return DY.map(function(ye){return ye.toLowerCase()}).indexOf(re.toLowerCase())!==-1},NY=function(re,ye,Be){Object.keys(ye).filter(OY).forEach(function(Ie){var Ye=ye[Ie];typeof Ye=="function"&&(Ie==="onInit"?Ye(re,Be):Be.on(Ie.substring(2),function(Me){return Ye(Me,Be)}))})},RY=function(re,ye,Be,Ie){var Ye=re.modelEvents?re.modelEvents:null,Me=Array.isArray(Ye)?Ye.join(" "):Ye;Jb(Ie,function(Se,Ve){Be&&typeof Se=="string"&&Se!==Ve&&Se!==Be.getContent({format:re.outputFormat})&&Be.setContent(Se)}),Be.on(Me||"change input undo redo",function(){ye.emit("update:modelValue",Be.getContent({format:re.outputFormat}))})},MY=function(re,ye,Be,Ie,Ye,Me){Ie.setContent(Me()),Be.attrs["onUpdate:modelValue"]&&RY(ye,Be,Ie,Ye),NY(re,Be.attrs,Ie)},Lz=0,sH=function(re){var ye=Date.now(),Be=Math.floor(Math.random()*1e9);return Lz++,re+"_"+Be+Lz+String(ye)},BY=function(re){return re!==null&&re.tagName.toLowerCase()==="textarea"},Fz=function(re){return typeof re>"u"||re===""?[]:Array.isArray(re)?re:re.split(" ")},IY=function(re,ye){return Fz(re).concat(Fz(ye))},PY=function(re){return re==null},zz=function(re){var ye;return typeof((ye=re.options)===null||ye===void 0?void 0:ye.set)=="function"&&re.options.isRegistered("disabled")},Hz=function(){return{listeners:[],scriptId:sH("tiny-script"),scriptLoaded:!1}},LY=function(){var re=Hz(),ye=function(Ye,Me,Se,Ve){var Ue=Me.createElement("script");Ue.referrerPolicy="origin",Ue.type="application/javascript",Ue.id=Ye,Ue.src=Se;var ot=function(){Ue.removeEventListener("load",ot),Ve()};Ue.addEventListener("load",ot),Me.head&&Me.head.appendChild(Ue)},Be=function(Ye,Me,Se){re.scriptLoaded?Se():(re.listeners.push(Se),Ye.getElementById(re.scriptId)||ye(re.scriptId,Ye,Me,function(){re.listeners.forEach(function(Ve){return Ve()}),re.scriptLoaded=!0}))},Ie=function(){re=Hz()};return{load:Be,reinitialize:Ie}},FY=LY(),zY=function(){return typeof window<"u"?window:global},C2=function(){var re=zY();return re&&re.tinymce?re.tinymce:null},HY={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(re){return re==="html"||re==="text"}}},Ch=function(){return Ch=Object.assign||function(re){for(var ye,Be=1,Ie=arguments.length;Be<Ie;Be++){ye=arguments[Be];for(var Ye in ye)Object.prototype.hasOwnProperty.call(ye,Ye)&&(re[Ye]=ye[Ye])}return re},Ch.apply(this,arguments)},VY=function(re,ye,Be,Ie){return re(Ie||"div",{id:ye,ref:Be})},$Y=function(re,ye,Be){return re("textarea",{id:ye,visibility:"hidden",ref:Be})},YP={selector:void 0,target:void 0},XP=function(re,ye){var Be;typeof((Be=re.mode)===null||Be===void 0?void 0:Be.set)=="function"?re.mode.set(ye):re.setMode(ye)},rH=fa({props:HY,setup:function(re,ye){var Be=re.init?Ch(Ch({},re.init),YP):Ch({},YP),Ie=qG(re),Ye=Ie.disabled,Me=Ie.readonly,Se=Ie.modelValue,Ve=Ie.tagName,Ue=Ko(null),ot=null,St=re.id||sH("tiny-vue"),$t=re.init&&re.init.inline||re.inline,xt=!!ye.attrs["onUpdate:modelValue"],Ne=!0,yt=re.initialValue?re.initialValue:"",kt="",ut=function(We){return xt?function(){return Se!=null&&Se.value?Se.value:""}:function(){return We?yt:kt}},xe=function(){var We=ut(Ne),ne=Ch(Ch({},Be),{disabled:re.disabled,readonly:re.readonly,target:Ue.value,plugins:IY(Be.plugins,re.plugins),toolbar:re.toolbar||Be.toolbar,inline:$t,license_key:re.licenseKey,setup:function(Ct){ot=Ct,!zz(ot)&&re.disabled===!0&&XP(ot,"readonly"),Ct.on("init",function(pe){return MY(pe,re,ye,Ct,Se,We)}),typeof Be.setup=="function"&&Be.setup(Ct)}});BY(Ue.value)&&(Ue.value.style.visibility=""),C2().init(ne),Ne=!1};Jb(Me,function(We){ot!==null&&XP(ot,We?"readonly":"design")}),Jb(Ye,function(We){ot!==null&&(zz(ot)?ot.options.set("disabled",We):XP(ot,We?"readonly":"design"))}),Jb(Ve,function(We){var ne;ot&&(xt||(kt=ot.getContent()),(ne=C2())===null||ne===void 0||ne.remove(ot),z7(function(){return xe()}))}),Gu(function(){if(C2()!==null)xe();else if(Ue.value&&Ue.value.ownerDocument){var We=re.cloudChannel?re.cloudChannel:"8",ne=re.apiKey?re.apiKey:"no-api-key",Ct=PY(re.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(ne,"/tinymce/").concat(We,"/tinymce.min.js"):re.tinymceScriptSrc;FY.load(Ue.value.ownerDocument,Ct,xe)}}),GG(function(){C2()!==null&&C2().remove(ot)}),$t||(KG(function(){Ne||xe()}),YG(function(){var We;ot&&(xt||(kt=ot.getContent()),(We=C2())===null||We===void 0||We.remove(ot))}));var He=function(We){var ne;ot&&(kt=ot.getContent(),(ne=C2())===null||ne===void 0||ne.remove(ot),Be=Ch(Ch(Ch({},Be),We),YP),z7(function(){return xe()}))};return ye.expose({rerender:He,getEditor:function(){return ot}}),function(){return $t?VY(cz,St,Ue,re.tagName):$Y(cz,St,Ue)}}});const UY=S2({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...OE()},"VColorPickerCanvas"),ZY=NE({name:"VColorPickerCanvas",props:UY(),emits:{"update:color":re=>!0,"update:position":re=>!0},setup(re,ye){let{emit:Be}=ye;const Ie=WP(!1),Ye=Ko(),Me=WP(parseFloat(re.width)),Se=WP(parseFloat(re.height)),Ve=Ko({x:0,y:0}),Ue=ea({get:()=>Ve.value,set(ut){var We,ne;if(!Ye.value)return;const{x:xe,y:He}=ut;Ve.value=ut,Be("update:color",{h:((We=re.color)==null?void 0:We.h)??0,s:P7(xe,0,Me.value)/Me.value,v:1-P7(He,0,Se.value)/Se.value,a:((ne=re.color)==null?void 0:ne.a)??1})}}),ot=ea(()=>{const{x:ut,y:xe}=Ue.value,He=parseInt(re.dotSize,10)/2;return{width:d_(re.dotSize),height:d_(re.dotSize),transform:`translate(${d_(ut-He)}, ${d_(xe-He)})`}}),{resizeRef:St}=XG(ut=>{var We;if(!((We=St.el)!=null&&We.offsetParent))return;const{width:xe,height:He}=ut[0].contentRect;Me.value=xe,Se.value=He});function $t(ut,xe,He){const{left:We,top:ne,width:Ct,height:pe}=He;Ue.value={x:P7(ut-We,0,Ct),y:P7(xe-ne,0,pe)}}function xt(ut){ut.type==="mousedown"&&ut.preventDefault(),!re.disabled&&(Ne(ut),window.addEventListener("mousemove",Ne),window.addEventListener("mouseup",yt),window.addEventListener("touchmove",Ne),window.addEventListener("touchend",yt))}function Ne(ut){if(re.disabled||!Ye.value)return;Ie.value=!0;const xe=QG(ut);$t(xe.clientX,xe.clientY,Ye.value.getBoundingClientRect())}function yt(){window.removeEventListener("mousemove",Ne),window.removeEventListener("mouseup",yt),window.removeEventListener("touchmove",Ne),window.removeEventListener("touchend",yt)}function kt(){var ne;if(!Ye.value)return;const ut=Ye.value,xe=ut.getContext("2d");if(!xe)return;const He=xe.createLinearGradient(0,0,ut.width,0);He.addColorStop(0,"hsla(0, 0%, 100%, 1)"),He.addColorStop(1,`hsla(${((ne=re.color)==null?void 0:ne.h)??0}, 100%, 50%, 1)`),xe.fillStyle=He,xe.fillRect(0,0,ut.width,ut.height);const We=xe.createLinearGradient(0,0,0,ut.height);We.addColorStop(0,"hsla(0, 0%, 0%, 0)"),We.addColorStop(1,"hsla(0, 0%, 0%, 1)"),xe.fillStyle=We,xe.fillRect(0,0,ut.width,ut.height)}return Jb(()=>{var ut;return(ut=re.color)==null?void 0:ut.h},kt,{immediate:!0}),Jb(()=>[Me.value,Se.value],(ut,xe)=>{kt(),Ve.value={x:Ue.value.x*ut[0]/xe[0],y:Ue.value.y*ut[1]/xe[1]}},{flush:"post"}),Jb(()=>re.color,()=>{if(Ie.value){Ie.value=!1;return}Ve.value=re.color?{x:re.color.s*Me.value,y:(1-re.color.v)*Se.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Gu(()=>kt()),E2(()=>An("div",{ref:St,class:n0(["v-color-picker-canvas",re.class]),style:f_(re.style),onMousedown:xt,onTouchstartPassive:xt},[An("canvas",{ref:Ye,width:Me.value,height:Se.value},null),re.color&&An("div",{class:n0(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":re.disabled}]),style:f_(ot.value)},null)])),{}}});function jY(re,ye){if(ye){const{a:Be,...Ie}=re;return Ie}return re}function WY(re,ye){if(ye==null||typeof ye=="string"){const Be=re.a!==1;if(ye!=null&&ye.startsWith("rgb(")){const{r:Ye,g:Me,b:Se,a:Ve}=JP(re);return`rgb(${Ye} ${Me} ${Se}`+(Be?` / ${Ve})`:")")}else if(ye!=null&&ye.startsWith("hsl(")){const{h:Ye,s:Me,l:Se,a:Ve}=QP(re);return`hsl(${Ye} ${Math.round(Me*100)} ${Math.round(Se*100)}`+(Be?` / ${Ve})`:")")}const Ie=Kz(re);return re.a===1?Ie.slice(0,7):Ie}if(typeof ye=="object"){let Be;return L7(ye,["r","g","b"])?Be=JP(re):L7(ye,["h","s","l"])?Be=QP(re):L7(ye,["h","s","v"])&&(Be=re),jY(Be,!L7(ye,["a"])&&re.a===1)}return re}const u_={h:0,s:0,v:0,a:1},eL={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:re=>Math.round(re.r),getColor:(re,ye)=>({...re,r:Number(ye)}),localeKey:"redInput"},{label:"G",max:255,step:1,getValue:re=>Math.round(re.g),getColor:(re,ye)=>({...re,g:Number(ye)}),localeKey:"greenInput"},{label:"B",max:255,step:1,getValue:re=>Math.round(re.b),getColor:(re,ye)=>({...re,b:Number(ye)}),localeKey:"blueInput"},{label:"A",max:1,step:.01,getValue:re=>{let{a:ye}=re;return ye!=null?Math.round(ye*100)/100:1},getColor:(re,ye)=>({...re,a:Number(ye)}),localeKey:"alphaInput"}],to:JP,from:H7};var Vz;const qY={...eL,inputs:(Vz=eL.inputs)==null?void 0:Vz.slice(0,3)},tL={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:re=>Math.round(re.h),getColor:(re,ye)=>({...re,h:Number(ye)}),localeKey:"hueInput"},{label:"S",max:1,step:.01,getValue:re=>Math.round(re.s*100)/100,getColor:(re,ye)=>({...re,s:Number(ye)}),localeKey:"saturationInput"},{label:"L",max:1,step:.01,getValue:re=>Math.round(re.l*100)/100,getColor:(re,ye)=>({...re,l:Number(ye)}),localeKey:"lightnessInput"},{label:"A",max:1,step:.01,getValue:re=>{let{a:ye}=re;return ye!=null?Math.round(ye*100)/100:1},getColor:(re,ye)=>({...re,a:Number(ye)}),localeKey:"alphaInput"}],to:QP,from:eK},GY={...tL,inputs:tL.inputs.slice(0,3)},aH={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:re=>re,getColor:(re,ye)=>ye,localeKey:"hexaInput"}],to:Kz,from:JG},KY={...aH,inputs:[{label:"HEX",getValue:re=>re.slice(0,7),getColor:(re,ye)=>ye,localeKey:"hexInput"}]},k2={rgb:qY,rgba:eL,hsl:GY,hsla:tL,hex:KY,hexa:aH},YY=re=>{let{label:ye,...Be}=re;return An("div",{class:"v-color-picker-edit__input"},[An("input",tK(oK(Be)),null),An("span",null,[ye])])},XY=S2({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:re=>Object.keys(k2).includes(re)},modes:{type:Array,default:()=>Object.keys(k2),validator:re=>Array.isArray(re)&&re.every(ye=>Object.keys(k2).includes(ye))},...OE()},"VColorPickerEdit"),QY=NE({name:"VColorPickerEdit",props:XY(),emits:{"update:color":re=>!0,"update:mode":re=>!0},setup(re,ye){let{emit:Be}=ye;const{t:Ie}=Yz(),Ye=ea(()=>re.modes.map(Se=>({...k2[Se],name:Se}))),Me=ea(()=>{var Ue;const Se=Ye.value.find(ot=>ot.name===re.mode);if(!Se)return[];const Ve=re.color?Se.to(re.color):null;return(Ue=Se.inputs)==null?void 0:Ue.map(ot=>{let{getValue:St,getColor:$t,localeKey:xt,...Ne}=ot;return{...Se.inputProps,...Ne,ariaLabel:Ie(`$vuetify.colorPicker.ariaLabel.${xt}`),disabled:re.disabled,value:Ve&&St(Ve),onChange:yt=>{const kt=yt.target;kt&&Be("update:color",Se.from($t(Ve??Se.to(u_),kt.value)))}}})});return E2(()=>{var Se;return An("div",{class:n0(["v-color-picker-edit",re.class]),style:f_(re.style)},[(Se=Me.value)==null?void 0:Se.map(Ve=>q(YY,Ve,null)),Ye.value.length>1&&q(an,{icon:"$unfold",size:"x-small",variant:"plain","aria-label":Ie("$vuetify.colorPicker.ariaLabel.changeFormat"),onClick:()=>{const Ve=Ye.value.findIndex(Ue=>Ue.name===re.mode);Be("update:mode",Ye.value[(Ve+1)%Ye.value.length].name)}},null)])}),{}}}),iH=S2({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,hideEyeDropper:Boolean,eyeDropperIcon:{type:nK,default:"$eyeDropper"},...OE()},"VColorPickerPreview"),JY=NE({name:"VColorPickerPreview",props:iH(),emits:{"update:color":re=>!0},setup(re,ye){let{emit:Be}=ye;const{t:Ie}=Yz(),Ye=new AbortController;sK(()=>Ye.abort());async function Me(){if(!dz||re.disabled)return;const Se=new window.EyeDropper;try{const Ve=await Se.open({signal:Ye.signal}),Ue=H7(nL(Ve.sRGBHex));Be("update:color",{...re.color??u_,...Ue})}catch{}}return E2(()=>{var Se,Ve;return An("div",{class:n0(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":re.hideAlpha},re.class]),style:f_(re.style)},[dz&&!re.hideEyeDropper&&An("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[q(an,{"aria-label":Ie("$vuetify.colorPicker.ariaLabel.eyedropper"),density:"comfortable",disabled:re.disabled,icon:re.eyeDropperIcon,variant:"plain",onClick:Me},null)]),An("div",{class:"v-color-picker-preview__dot"},[An("div",{style:{background:Xz(re.color??u_)}},null)]),An("div",{class:"v-color-picker-preview__sliders"},[q(pz,{class:"v-color-picker-preview__track v-color-picker-preview__hue",name:Ie("$vuetify.colorPicker.ariaLabel.hueSlider"),modelValue:(Se=re.color)==null?void 0:Se.h,"onUpdate:modelValue":Ue=>Be("update:color",{...re.color??u_,h:Ue}),step:0,min:0,max:360,disabled:re.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!re.hideAlpha&&q(pz,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",name:Ie("$vuetify.colorPicker.ariaLabel.alphaSlider"),modelValue:((Ve=re.color)==null?void 0:Ve.a)??1,"onUpdate:modelValue":Ue=>Be("update:color",{...re.color??u_,a:Ue}),step:1/256,min:0,max:1,disabled:re.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),eX={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},tX={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},oX={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},nX={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},sX={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},rX={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},aX={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},iX={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},lX={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},cX={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},dX={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},uX={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},mX={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},fX={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},pX={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},gX={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},hX={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},bX={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},xX={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},vX={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},yX={red:eX,pink:tX,purple:oX,deepPurple:nX,indigo:sX,blue:rX,lightBlue:aX,cyan:iX,teal:lX,green:cX,lightGreen:dX,lime:uX,yellow:mX,amber:fX,orange:pX,deepOrange:gX,brown:hX,blueGrey:bX,grey:xX,shades:vX},wX=S2({swatches:{type:Array,default:()=>CX(yX)},disabled:Boolean,color:Object,maxHeight:[Number,String],...OE()},"VColorPickerSwatches");function CX(re){return Object.keys(re).map(ye=>{const Be=re[ye];return Be.base?[Be.base,Be.darken4,Be.darken3,Be.darken2,Be.darken1,Be.lighten1,Be.lighten2,Be.lighten3,Be.lighten4,Be.lighten5]:[Be.black,Be.white,Be.transparent]})}const _X=NE({name:"VColorPickerSwatches",props:wX(),emits:{"update:color":re=>!0},setup(re,ye){let{emit:Be}=ye;return E2(()=>An("div",{class:n0(["v-color-picker-swatches",re.class]),style:f_([{maxHeight:d_(re.maxHeight)},re.style])},[An("div",null,[re.swatches.map(Ie=>An("div",{class:"v-color-picker-swatches__swatch"},[Ie.map(Ye=>{const Me=nL(Ye),Se=H7(Me),Ve=rK(Me);return An("div",{class:"v-color-picker-swatches__color",onClick:()=>Se&&Be("update:color",Se)},[An("div",{style:{background:Ve}},[re.color&&aK(re.color,Se)?q(Us,{size:"x-small",icon:"$success",color:iK(Ye,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),kX=S2({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:re=>Object.keys(k2).includes(re)},modes:{type:Array,default:()=>Object.keys(k2),validator:re=>Array.isArray(re)&&re.every(ye=>Object.keys(k2).includes(ye))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...IK({hideHeader:!0}),...uK(iH(),["hideEyeDropper","eyeDropperIcon"])},"VColorPicker"),SX=NE({name:"VColorPicker",props:kX(),emits:{"update:modelValue":re=>!0,"update:mode":re=>!0},setup(re,ye){let{slots:Be}=ye;const Ie=uz(re,"mode"),Ye=Ko(null),Me=uz(re,"modelValue",void 0,St=>{if(St==null||St==="")return null;let $t;try{$t=H7(nL(St))}catch{return null}return $t},St=>St?WY(St,re.modelValue):null),Se=ea(()=>Me.value?{...Me.value,h:Ye.value??Me.value.h}:null),{rtlClasses:Ve}=lK();let Ue=!0;Jb(Me,St=>{if(!Ue){Ue=!0;return}St&&(Ye.value=St.h)},{immediate:!0});const ot=St=>{Ue=!1,Ye.value=St.h,Me.value=St};return cK(()=>{re.modes.includes(Ie.value)||(Ie.value=re.modes[0])}),dK({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),E2(()=>{const St=fz.filterProps(re);return q(fz,eu(St,{class:["v-color-picker",Ve.value,re.class],style:[{"--v-color-picker-color-hsv":Xz({...Se.value??u_,a:1})},re.style]}),{...Be,default:()=>An(Jr,null,[!re.hideCanvas&&q(ZY,{key:"canvas",color:Se.value,"onUpdate:color":ot,disabled:re.disabled,dotSize:re.dotSize,width:re.width,height:re.canvasHeight},null),(!re.hideSliders||!re.hideInputs)&&An("div",{key:"controls",class:"v-color-picker__controls"},[!re.hideSliders&&q(JY,{key:"preview",color:Se.value,"onUpdate:color":ot,hideAlpha:!Ie.value.endsWith("a"),disabled:re.disabled,hideEyeDropper:re.hideEyeDropper,eyeDropperIcon:re.eyeDropperIcon},null),!re.hideInputs&&q(QY,{key:"edit",modes:re.modes,mode:Ie.value,"onUpdate:mode":$t=>Ie.value=$t,color:Se.value,"onUpdate:color":ot,disabled:re.disabled},null)]),re.showSwatches&&q(_X,{key:"swatches",color:Se.value,"onUpdate:color":ot,maxHeight:re.swatchesMaxHeight,swatches:re.swatches,disabled:re.disabled},null)])})}),{}}}),EX=fa({__name:"ColorField",props:Wz({label:{},swatches:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(re){const ye=re,Be=qz(re,"modelValue");function Ie(Me){Be.value=Me.substring(0,7)}const Ye=ea(()=>{const Me=[];let Se=ye.swatches.length,Ve=5;for(let Ue=0;Ue<Se;Ue+=Ve)Me.push(ye.swatches.slice(Ue,Ue+Ve));return Me});return(Me,Se)=>(Lt(),ko(wi,null,{default:Q(()=>[q(On,{"align-self":"center"},{default:Q(()=>[Ht(Ia(ye.label),1)]),_:1}),q(On,{"align-self":"center",cols:"auto"},{default:Q(()=>[q(_h,{top:"","close-on-content-click":!1},{activator:Q(({props:Ve})=>[q(an,eu({color:Be.value},Ve,{width:"90px"}),null,16,["color"])]),default:Q(()=>[q(Ar,null,{default:Q(()=>[q(hr,{class:"pa-0"},{default:Q(()=>[q(SX,{value:Be.value||"#252EBC","onUpdate:modelValue":Ie,flat:"",swatches:Ye.value,"show-swatches":"","hide-canvas":"","hide-sliders":"",mode:"hex"},null,8,["value","swatches"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),AX=fa({__name:"LettreOptionsCard",props:{options:{}},emits:["save"],setup(re,{emit:ye}){const Be=re,Ie=ye,Ye=Ko(SE(Be.options)),Me=["#BFEDD2","#FBEEB8","#F8CAC6","#ECCAFA","#C2E0F4","#2DC26B","#F1C40F","#E03E2D","#B96AD9","#3598DB","#169179","#E67E23","#BA372A","#843FA1","#236FA1","#ECF0F1","#CED4D9","#95A5A6","#7E8C8D","#34495E","#000000","#ffffff"];return(Se,Ve)=>{const Ue=EX;return Lt(),ko(Ar,{title:"Options de l'entête"},{default:Q(()=>[q(hr,null,{default:Q(()=>[q(wi,null,{default:Q(()=>[q(On,null,{default:Q(()=>[q(EE,{color:"primary",density:"compact",modelValue:Ye.value.UseCoordCentre,"onUpdate:modelValue":Ve[0]||(Ve[0]=ot=>Ye.value.UseCoordCentre=ot),hint:"Activer pour remplacer les coordonnées du directeur par ceux du centre, dans l'entête de la lettre.","persistent-hint":"",label:"Coordonnées du centre"},null,8,["modelValue"])]),_:1}),q(On,{cols:"5"},{default:Q(()=>[mK(q(EE,{color:"primary",density:"compact",modelValue:Ye.value.ShowAdressePostale,"onUpdate:modelValue":Ve[1]||(Ve[1]=ot=>Ye.value.ShowAdressePostale=ot),hint:"Afficher l'adresse postale du directeur.","persistent-hint":"",label:"Ajouter l'adresse postale"},null,8,["modelValue"]),[[fK,!Ye.value.UseCoordCentre]])]),_:1})]),_:1}),q(wi,{class:"mt-4"},{default:Q(()=>[q(On,{cols:"6"},{default:Q(()=>[q(Ue,{label:"Couleur du texte de l'entête",modelValue:Ye.value.ColorCoord,"onUpdate:modelValue":Ve[2]||(Ve[2]=ot=>Ye.value.ColorCoord=ot),swatches:Me},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(an,{color:"success",onClick:Ve[3]||(Ve[3]=ot=>Ie("save",Ye.value))},{default:Q(()=>[...Ve[4]||(Ve[4]=[Ht("Enregistrer",-1)])]),_:1})]),_:1})]),_:1})}}}),TX=["data"],DX=`<p><span style="font-size: 12pt; color: #3598db;" data-mce-style="font-size: 12pt; color: #3598db;">ESPACE PERSONNEL</span></p><p>Lors de votre inscription, un espace personnel de suivi vous a été attribué et un lien vers celui-ci envoyé dans le mail de confirmation (<span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Mon</span> <span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Dossier</span>). Dans cet espace vous trouverez :</p><ul><li>le <strong>suivi financier</strong> : vous pourrez alors joindre en ligne les aides auxquelles vous avez droit</li><li>les <strong>documents liés au séjour</strong> : liste de vêtement, lettre aux parents, plan d’accès au site ...</li><li>les <strong>documents à compléter</strong> ou joindre en ligne : test d'aisance aquatique si besoin ...</li><li>l'<strong>album photo</strong> du séjour</li><li>la <strong>fiche sanitaire</strong> à compléter en ligne</li></ul><p><em>TOUTES LES INFOS ET DOCUMENTS DU SÉJOUR SE TROUVENT DANS VOTRE ESPACE DÉDIÉ.</em></p>`,OX=fa({__name:"PannelLettre",setup(re){Gu(Be);const ye=Ko(null);async function Be(){const $t=await go.LettreGet();$t!==void 0&&($t.File.Id==0&&$t.Lettre.Html==""&&($t.Lettre.Html=DX),ye.value=$t)}const Ie=ea(()=>{var xt;const $t=(xt=ye.value)==null?void 0:xt.File;return $t?$t.Id==0?"En attente de création":`Enregistrée le ${F7.time($t.Uploaded)} (taille : ${F7.size($t.Taille)})`:""}),Ye=ea(()=>({language:"fr_FR",height:"75vh",plugins:["lists","advlist","image","code","link"],menubar:!1,statusbar:!1,paste_data_images:!0,image_advtab:!1,browser_spellcheck:!0,contextmenu:[],font_formats:"Arial=arial;",toolbar:["undo redo | cut copy paste | bold italic underline strikethrough | fontsize |  forecolor backcolor current_backcolor  |  alignleft aligncenter alignright | bullist numlist outdent indent | image styles link"],target_list:[{title:"Nouvelle page",value:"_blank"}],link_title:!1,link_assume_external_targets:!0,relative_urls:!1,remove_script_host:!1,image_description:!1,images_upload_url:g_.LettreImageUpload(go.authToken),automatic_uploads:!0,formats:{imageMargin:{selector:"img",styles:{marginRight:"20px"}}},style_formats:[{title:"Espacer l'image à droite",format:"imageMargin"}]})),Me=Ko(!1);async function Se(){if(ye.value==null)return;Me.value=!0;const $t=await go.LettreUpdate(ye.value.Lettre);Me.value=!1,$t!==void 0&&(go.showMessage("Lettre enregistrée avec succès."),ye.value=$t,ot.value=!0)}const Ve=Ko(!1);async function Ue($t){ye.value&&(Ve.value=!1,ye.value.Lettre.UseCoordCentre=$t.UseCoordCentre,ye.value.Lettre.ShowAdressePostale=$t.ShowAdressePostale,ye.value.Lettre.ColorCoord=$t.ColorCoord,Se())}const ot=Ko(!1),St=ea(()=>ye.value?pK(ye.value.File.Key):"");return($t,xt)=>(Lt(),is(Jr,null,[ye.value==null?(Lt(),ko(kh,{key:0,type:"card"})):Qr("",!0),q(Ar,{class:"mt-2 mx-auto",title:"Editer la lettre",subtitle:Ie.value,"max-width":"800px"},{append:Q(()=>[q(an,{class:"mx-2",onClick:xt[0]||(xt[0]=Ne=>Ve.value=!0)},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...xt[4]||(xt[4]=[Ht("mdi-cog",-1)])]),_:1})]),default:Q(()=>[xt[5]||(xt[5]=Ht(" Options",-1))]),_:1}),q(jl,{thickness:"2",vertical:""}),Me.value?(Lt(),ko(gK,{key:0,color:"primary",indeterminate:"",class:"mx-2",size:"42"})):(Lt(),ko(p_,{key:1,text:"Enregistrer et visualiser"},{activator:Q(({props:Ne})=>[q(an,eu(Ne,{class:"mx-2",icon:"mdi-content-save",onClick:Se,disabled:!ye.value}),null,16,["disabled"])]),_:1}))]),default:Q(()=>[ye.value?(Lt(),ko(hr,{key:0},{default:Q(()=>[q(as(rH),{licenseKey:"gpl",modelValue:ye.value.Lettre.Html,"onUpdate:modelValue":xt[1]||(xt[1]=Ne=>ye.value.Lettre.Html=Ne),init:Ye.value},null,8,["modelValue","init"])]),_:1})):Qr("",!0)]),_:1},8,["subtitle"]),q(el,{modelValue:Ve.value,"onUpdate:modelValue":xt[2]||(xt[2]=Ne=>Ve.value=Ne),"max-width":"800px"},{default:Q(()=>[ye.value?(Lt(),ko(AX,{key:0,options:{UseCoordCentre:ye.value.Lettre.UseCoordCentre,ShowAdressePostale:ye.value.Lettre.ShowAdressePostale,ColorCoord:ye.value.Lettre.ColorCoord},onSave:Ue},null,8,["options"])):Qr("",!0)]),_:1},8,["modelValue"]),q(el,{modelValue:ot.value,"onUpdate:modelValue":xt[3]||(xt[3]=Ne=>ot.value=Ne)},{default:Q(()=>[ot.value?(Lt(),is("object",{key:0,type:"application/pdf",data:St.value,style:{height:"95vh"}},null,8,TX)):Qr("",!0)]),_:1},8,["modelValue"])],64))}}),NX={key:0,class:"mr-4"},RX=fa({__name:"AddDemandeCard",props:{availableDemandes:{},selectedDemandes:{}},emits:["selected","created","updated","deleted"],setup(re,{emit:ye}){const Be=re,Ie=ye;async function Ye(){const ut=await go.DocumentsCreateDemande();ut!==void 0&&(Ie("created",ut),Me.value=SE(ut))}const Me=Ko(null);async function Se(){const ut=Me.value;ut==null||(Me.value=null,await go.DocumentsUpdateDemande(ut.Demande)===void 0)||(go.showMessage("Modifications enregistrées avec succès."),Ie("updated",ut))}const Ve=Ko(null);async function Ue(){const ut=Ve.value;ut==null||(Ve.value=null,await go.DocumentsDeleteDemande({idDemande:ut.Id})===void 0)||(go.showMessage("Demande supprimée avec succès."),Ie("deleted",ut))}const ot=Ko(null),St=oL("fileInput"),$t=Ko(null);function xt(ut){ot.value=ut,z7(()=>{var xe;return(xe=St.value)==null?void 0:xe.openDialog()})}async function Ne(){const ut=ot.value,xe=$t.value;if(xe==null||ut==null)return;ot.value=null,$t.value=null;const He=await go.DocumentsUploadDemandeFile(xe,{idDemande:ut.Demande.Id});He!==void 0&&(go.showMessage("Document téléversé avec succès."),Ie("updated",{Demande:ut.Demande,File:He}))}const yt=Ko(null);async function kt(){const ut=yt.value;ut==null||(yt.value=null,await go.DocumentsDeleteDemandeFile({key:ut.File.Key})===void 0)||(go.showMessage("Document supprimé avec succès."),Ie("updated",{Demande:ut.Demande,File:{Id:0,Key:"",NomClient:"",Taille:0,Uploaded:""}}))}return(ut,xe)=>{const He=sL,We=tH,ne=oH;return Lt(),ko(Ar,{title:"Demander un document",subtitle:"Les familles devront fournir ce document sur leur espace personnel.",class:"ma-2"},{append:Q(()=>[q(an,{onClick:Ye},{prepend:Q(()=>[q(Us,{color:"green"},{default:Q(()=>[...xe[8]||(xe[8]=[Ht("mdi-plus",-1)])]),_:1})]),default:Q(()=>[xe[9]||(xe[9]=Ht(" Nouvelle demande",-1))]),_:1})]),default:Q(()=>[q(hr,null,{default:Q(()=>[q(qu,null,{default:Q(()=>[Be.availableDemandes.length?Qr("",!0):(Lt(),ko(Bs,{key:0,class:"text-center"},{default:Q(()=>[...xe[10]||(xe[10]=[An("i",null,"Aucune demande.",-1)])]),_:1})),(Lt(!0),is(Jr,null,vc(Be.availableDemandes,Ct=>(Lt(),ko(Bs,eu({title:Ct.Demande.Description,subtitle:Ct.Demande.IdDirecteur.Valid?"Demande vous appartenant":"Demande globale",rounded:"",class:"my-1"},{[hK(!Be.selectedDemandes.includes(Ct.Demande.Id)&&"click")]:pe=>Ie("selected",Ct.Demande)}),Zz({append:Q(()=>[Ct.File.Id!=0?(Lt(),is("div",NX,[q(He,{file:Ct.File,onDelete:pe=>yt.value=Ct},null,8,["file","onDelete"])])):(Lt(),ko(an,{key:1,size:"small",class:"mr-2",onClick:qP(pe=>xt(Ct),["stop"])},{prepend:Q(()=>[q(Us,{color:"green",icon:"mdi-upload"})]),default:Q(()=>[xe[12]||(xe[12]=Ht(" Document à remplir ",-1))]),_:1},8,["onClick"])),q(an,{icon:"",size:"x-small",class:"mx-1",onClick:qP(pe=>Me.value=Ct,["stop"]),disabled:!Ct.Demande.IdDirecteur.Valid},{default:Q(()=>[q(Us,null,{default:Q(()=>[...xe[13]||(xe[13]=[Ht("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick","disabled"]),q(an,{icon:"",size:"x-small",class:"mx-1",onClick:qP(pe=>Ve.value=Ct.Demande,["stop"]),disabled:!Ct.Demande.IdDirecteur.Valid},{default:Q(()=>[q(Us,{color:"red"},{default:Q(()=>[...xe[14]||(xe[14]=[Ht("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick","disabled"])]),_:2},[Be.selectedDemandes.includes(Ct.Demande.Id)?{name:"prepend",fn:Q(()=>[q(Us,{color:"green"},{default:Q(()=>[...xe[11]||(xe[11]=[Ht("mdi-check",-1)])]),_:1})]),key:"0"}:void 0]),1040,["title","subtitle"]))),256))]),_:1})]),_:1}),q(el,{"model-value":Ve.value!=null,"onUpdate:modelValue":xe[0]||(xe[0]=Ct=>Ve.value=null),"max-width":"400px"},{default:Q(()=>[Ve.value?(Lt(),ko(Ar,{key:0,title:"Confirmer la suppression"},{default:Q(()=>[q(hr,null,{default:Q(()=>[...xe[15]||(xe[15]=[Ht(" Confirmez-vous la suppression de cette demande ? Les éventuels documents déjà téléversés seront supprimés. ",-1),An("br",null,null,-1),An("br",null,null,-1),Ht(" Attention, cette opération est irréversible. ",-1)])]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(an,{color:"red",onClick:Ue},{default:Q(()=>[...xe[16]||(xe[16]=[Ht("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):Qr("",!0)]),_:1},8,["model-value"]),q(el,{"model-value":Me.value!=null,"onUpdate:modelValue":xe[4]||(xe[4]=Ct=>Me.value=null),"max-width":"600px"},{default:Q(()=>[Me.value?(Lt(),ko(Ar,{key:0,title:"Document à fournir"},{default:Q(()=>[q(hr,null,{default:Q(()=>[q(wi,null,{default:Q(()=>[q(On,null,{default:Q(()=>[q(_2,{density:"compact",variant:"outlined",label:"Description",modelValue:Me.value.Demande.Description,"onUpdate:modelValue":xe[1]||(xe[1]=Ct=>Me.value.Demande.Description=Ct),hint:"Texte affiché sur l'espace de suivi."},null,8,["modelValue"])]),_:1})]),_:1}),q(wi,null,{default:Q(()=>[q(On,null,{default:Q(()=>[q(We,{density:"compact",variant:"outlined",label:"Document temporaire",min:0,suffix:"jours",modelValue:Me.value.Demande.JoursValide,"onUpdate:modelValue":xe[2]||(xe[2]=Ct=>Me.value.Demande.JoursValide=Ct),hint:"Nombre de jours de validité (0 pour un document permanent)"},null,8,["modelValue"])]),_:1}),q(On,null,{default:Q(()=>[q(We,{density:"compact",variant:"outlined",label:"Nombre maximum de fichiers",modelValue:Me.value.Demande.MaxDocs,"onUpdate:modelValue":xe[3]||(xe[3]=Ct=>Me.value.Demande.MaxDocs=Ct),hint:"Limite le nombre de fichiers pouvant être déposés."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(an,{onClick:Se},{default:Q(()=>[...xe[17]||(xe[17]=[Ht("Enregistrer",-1)])]),_:1})]),_:1})]),_:1})):Qr("",!0)]),_:1},8,["model-value"]),q(el,{"model-value":ot.value!=null,"onUpdate:modelValue":xe[6]||(xe[6]=Ct=>ot.value=null),"max-width":"600px"},{default:Q(()=>[q(Ar,{title:"Ajouter un document",subtitle:"Document à remplir par les familles"},{default:Q(()=>[q(hr,null,{default:Q(()=>[q(ne,{ref_key:"fileInput",ref:St,onUpdate:xe[5]||(xe[5]=Ct=>$t.value=Ct)},null,512)]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(an,{disabled:!$t.value,onClick:Ne},{default:Q(()=>[...xe[18]||(xe[18]=[Ht("Téléverser",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"]),q(el,{"model-value":yt.value!=null,"onUpdate:modelValue":xe[7]||(xe[7]=Ct=>yt.value=null),"max-width":"400px"},{default:Q(()=>[yt.value?(Lt(),ko(Ar,{key:0,title:"Confirmer la suppression"},{default:Q(()=>[q(hr,null,{default:Q(()=>[xe[19]||(xe[19]=Ht(" Confirmez-vous la suppression du document ",-1)),An("i",null,Ia(yt.value.File.NomClient),1),xe[20]||(xe[20]=Ht(" ? ",-1)),xe[21]||(xe[21]=An("br",null,null,-1)),xe[22]||(xe[22]=An("br",null,null,-1)),xe[23]||(xe[23]=Ht(" Attention, cette opération est irréversible. ",-1))]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(an,{color:"red",onClick:kt},{default:Q(()=>[...xe[24]||(xe[24]=[Ht("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):Qr("",!0)]),_:1},8,["model-value"])]),_:1})}}}),MX=fa({__name:"PannelDocuments",emits:["goTo"],setup(re,{emit:ye}){const Be=ye;Gu(Ye);const Ie=Ko(null);async function Ye(){const xe=await go.DocumentsGet();xe!==void 0&&(Ie.value=xe)}async function Me(xe,He){Ie.value==null||(Ie.value.ToShow[xe]=He,await go.DocumentsUpdateToShow(Ie.value.ToShow)===void 0)||go.showMessage("Modifications enregistrées avec succès.")}const Se=Ko(!1),Ve=Ko(null);async function Ue(){if(Se.value=!1,Ie.value==null||Ve.value==null)return;const xe=await go.DocumentsUploadToDownload(Ve.value);xe!==void 0&&(go.showMessage("Document ajouté avec succès."),Ie.value.FilesToDownload=(Ie.value.FilesToDownload||[]).concat(xe))}const ot=Ko(null);async function St(){const xe=ot.value;ot.value=null,!(Ie.value==null||xe==null||await go.DocumentsDeleteToDownload({key:xe.Key})===void 0)&&(Ie.value.FilesToDownload=(Ie.value.FilesToDownload||[]).filter(We=>We.Key!=xe.Key),go.showMessage("Document supprimé avec succès."))}const $t=Ko(!1);async function xt(xe){var We;if(!Ie.value)return;Ie.value.AvailableDemandes=(Ie.value.AvailableDemandes||[]).concat(xe);const He=await go.DocumentsApplyDemande({idDemande:xe.Demande.Id});He!==void 0&&(go.showMessage("Demande créée et activée pour ce séjour."),Ie.value.CampDemandes=(((We=Ie.value)==null?void 0:We.CampDemandes)||[]).concat(He))}function Ne(xe){if(!Ie.value)return;const He=(Ie.value.AvailableDemandes||[]).findIndex(ne=>ne.Demande.Id==xe.Demande.Id);Ie.value.AvailableDemandes[He]=xe;const We=(Ie.value.CampDemandes||[]).findIndex(ne=>ne.Demande.Id==xe.Demande.Id);Ie.value.CampDemandes[We]=xe}function yt(xe){Ie.value&&(Ie.value.AvailableDemandes=(Ie.value.AvailableDemandes||[]).filter(He=>He.Demande.Id!=xe.Id),Ie.value.CampDemandes=(Ie.value.CampDemandes||[]).filter(He=>He.Demande.Id!=xe.Id))}async function kt(xe){var We;if(!Ie.value)return;$t.value=!1;const He=await go.DocumentsApplyDemande({idDemande:xe.Id});He!==void 0&&(go.showMessage("Demande bien activée pour ce séjour."),Ie.value.CampDemandes=(((We=Ie.value)==null?void 0:We.CampDemandes)||[]).concat(He))}async function ut(xe){var We;!Ie.value||await go.DocumentsUnapplyDemande({idDemande:xe.Id})===void 0||(go.showMessage("Demande retirée avec succès."),Ie.value.CampDemandes=(((We=Ie.value)==null?void 0:We.CampDemandes)||[]).filter(ne=>ne.Demande.Id!=xe.Id))}return(xe,He)=>{const We=sL;return Lt(),is(Jr,null,[q(Ar,{title:"Documents du séjour",subtitle:"Choisir les documents à lire ou remplir par les familles",class:"ma-2 mx-auto","max-width":"800px"},{default:Q(()=>[Ie.value==null?(Lt(),ko(kh,{key:0})):(Lt(),ko(hr,{key:1},{default:Q(()=>[q(bK,{type:"info",closable:""},{default:Q(()=>[...He[11]||(He[11]=[Ht(" La ",-1),An("b",null,"fiche sanitaire",-1),Ht(" et les ",-1),An("b",null,"vaccins",-1),Ht(" sont automatiquement demandés pour les participants mineurs. ",-1)])]),_:1}),q(qu,null,{default:Q(()=>{var ne,Ct;return[q(GP,null,{default:Q(()=>[...He[12]||(He[12]=[Ht("Documents générés",-1)])]),_:1}),q(Bs,{title:"Lettre aux familles",subtitle:"Document officiel pour le premier contact"},{append:Q(()=>[q(an,{icon:"mdi-pencil",size:"small",class:"mr-4",onClick:He[0]||(He[0]=pe=>Be("goTo","lettre"))}),q(EE,{color:"primary","hide-details":"","model-value":Ie.value.ToShow.LettreDirecteur,"onUpdate:modelValue":He[1]||(He[1]=pe=>Me("LettreDirecteur",pe))},null,8,["model-value"])]),_:1}),q(Bs,{title:"Liste de vêtements"},{append:Q(()=>[q(an,{icon:"mdi-pencil",size:"small",class:"mr-4",onClick:He[2]||(He[2]=pe=>Be("goTo","vetements"))}),q(EE,{color:"primary","hide-details":"","model-value":Ie.value.ToShow.ListeVetements,"onUpdate:modelValue":He[3]||(He[3]=pe=>Me("ListeVetements",pe))},null,8,["model-value"])]),_:1}),q(Bs,{title:"Liste des participants",subtitle:"Permet par exemple d'organiser un co-voiturage"},{append:Q(()=>[q(EE,{color:"primary","hide-details":"","model-value":Ie.value.ToShow.ListeParticipants,"onUpdate:modelValue":He[4]||(He[4]=pe=>Me("ListeParticipants",pe))},null,8,["model-value"])]),_:1}),q(jl,{thickness:"1",class:"my-2"}),q(wi,{"no-gutters":""},{default:Q(()=>[q(On,{"align-self":"center"},{default:Q(()=>[q(GP,null,{default:Q(()=>[...He[13]||(He[13]=[Ht("Documents à lire ",-1)])]),_:1})]),_:1}),q(On,{"align-self":"center",cols:"auto",class:"mx-2"},{default:Q(()=>[q(an,{size:"small",onClick:He[5]||(He[5]=pe=>Se.value=!0)},{prepend:Q(()=>[q(Us,{color:"green"},{default:Q(()=>[...He[14]||(He[14]=[Ht("mdi-plus",-1)])]),_:1})]),default:Q(()=>[He[15]||(He[15]=Ht(" Ajouter ",-1))]),_:1})]),_:1})]),_:1}),(ne=Ie.value.FilesToDownload)!=null&&ne.length?Qr("",!0):(Lt(),ko(Bs,{key:0},{default:Q(()=>[...He[16]||(He[16]=[An("i",null,"Aucun document.",-1)])]),_:1})),(Lt(!0),is(Jr,null,vc(Ie.value.FilesToDownload,pe=>(Lt(),ko(Bs,{title:pe.NomClient},{append:Q(()=>[q(We,{file:pe,onDelete:yn=>ot.value=pe},null,8,["file","onDelete"])]),_:2},1032,["title"]))),256)),q(jl,{thickness:"1",class:"my-2"}),q(wi,{"no-gutters":""},{default:Q(()=>[q(On,{"align-self":"center"},{default:Q(()=>[q(GP,null,{default:Q(()=>[...He[17]||(He[17]=[Ht("Documents à fournir (collectés sur l'espace de suivi) ",-1)])]),_:1})]),_:1}),q(On,{"align-self":"center",cols:"auto",class:"mx-2"},{default:Q(()=>[q(an,{size:"small",onClick:He[6]||(He[6]=pe=>$t.value=!0)},{prepend:Q(()=>[q(Us,{color:"green"},{default:Q(()=>[...He[18]||(He[18]=[Ht("mdi-plus",-1)])]),_:1})]),default:Q(()=>[He[19]||(He[19]=Ht(" Ajouter ",-1))]),_:1})]),_:1})]),_:1}),(Ct=Ie.value.CampDemandes)!=null&&Ct.length?Qr("",!0):(Lt(),ko(Bs,{key:1},{default:Q(()=>[...He[20]||(He[20]=[An("i",null,"Aucun document.",-1)])]),_:1})),(Lt(!0),is(Jr,null,vc(Ie.value.CampDemandes,pe=>(Lt(),ko(Bs,{title:pe.Demande.Description},{append:Q(()=>[q(an,{icon:"",size:"x-small",onClick:yn=>ut(pe.Demande)},{default:Q(()=>[q(Us,{color:"red"},{default:Q(()=>[...He[21]||(He[21]=[Ht("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1032,["title"]))),256))]}),_:1})]),_:1})),q(el,{modelValue:Se.value,"onUpdate:modelValue":He[8]||(He[8]=ne=>Se.value=ne),"max-width":"600px"},{default:Q(()=>[q(Ar,{title:"Téléverser un document",subtitle:"Ce document sera distribué sur l'espace personnel des familles."},{default:Q(()=>[q(hr,null,{default:Q(()=>[q(oH,{label:"Document à distribuer",onUpdate:He[7]||(He[7]=ne=>Ve.value=ne)})]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(an,{color:"green",disabled:Ve.value==null,onClick:Ue},{default:Q(()=>[...He[22]||(He[22]=[Ht("Téléverser",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),q(el,{"model-value":ot.value!=null,"onUpdate:modelValue":He[9]||(He[9]=ne=>ot.value=null),"max-width":"400px"},{default:Q(()=>[ot.value?(Lt(),ko(Ar,{key:0,title:"Confirmer la suppression"},{default:Q(()=>[q(hr,null,{default:Q(()=>[He[23]||(He[23]=Ht(" Confirmez-vous la suppression du document ",-1)),An("i",null,Ia(ot.value.NomClient),1),He[24]||(He[24]=Ht(" ? ",-1)),He[25]||(He[25]=An("br",null,null,-1)),He[26]||(He[26]=An("br",null,null,-1)),He[27]||(He[27]=Ht(" Attention, cette opération est irréversible. ",-1))]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(an,{color:"red",onClick:St},{default:Q(()=>[...He[28]||(He[28]=[Ht("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):Qr("",!0)]),_:1},8,["model-value"])]),_:1}),q(el,{modelValue:$t.value,"onUpdate:modelValue":He[10]||(He[10]=ne=>$t.value=ne),"max-width":"800px"},{default:Q(()=>[Ie.value?(Lt(),ko(RX,{key:0,availableDemandes:Ie.value.AvailableDemandes||[],selectedDemandes:(Ie.value.CampDemandes||[]).map(ne=>ne.Demande.Id),onSelected:kt,onCreated:xt,onUpdated:Ne,onDeleted:yt},null,8,["availableDemandes","selectedDemandes"])):Qr("",!0)]),_:1},8,["modelValue"])],64)}}}),BX={key:1,style:{height:"15px"}},IX=fa({__name:"DropZone",props:{isDragging:{type:Boolean}},emits:["onDrop"],setup(re,{emit:ye}){const Be=re,Ie=ye,Ye=Ko(!1);function Me(Ve){Ye.value=!0,Ve.preventDefault()}function Se(Ve){Ye.value=!1,Ve.preventDefault(),Ie("onDrop",Ve)}return(Ve,Ue)=>Be.isDragging?(Lt(),is("div",{key:0,style:{height:"15px"},class:n0({"bg-blue-lighten-1":Ye.value,"bg-blue-lighten-4":!Ye.value,rounded:!0}),onDragenter:Me,onDragover:Ue[0]||(Ue[0]=ot=>ot.preventDefault()),onDragleave:Ue[1]||(Ue[1]=ot=>Ye.value=!1),onDrop:Se},null,34)):(Lt(),is("div",BX))}}),PX={Ete:[{Quantite:2,Description:"Sweats ou pull-overs",Important:!1},{Quantite:1,Description:"Polaire",Important:!1},{Quantite:6,Description:"Tee shirts",Important:!1},{Quantite:2,Description:"Pantalons ou jogging",Important:!1},{Quantite:3,Description:"Shorts",Important:!1},{Quantite:6,Description:"Slips ou culottes",Important:!1},{Quantite:4,Description:"Paires de chaussettes",Important:!1},{Quantite:1,Description:"Pyjama",Important:!1},{Quantite:1,Description:"Maillot de bain",Important:!1},{Quantite:2,Description:"Grandes serviettes",Important:!1},{Quantite:1,Description:"Gant de toilette",Important:!1},{Quantite:1,Description:"Nécessaire de toilette : shampoing, savon, brosse à dent, dentifrice.....",Important:!1},{Quantite:1,Description:"Paire de lunette de soleil",Important:!0},{Quantite:1,Description:"Sac de couchage",Important:!1},{Quantite:1,Description:"Casquette",Important:!0},{Quantite:1,Description:"Veste de pluie",Important:!1},{Quantite:1,Description:"Paire de bonnes baskets",Important:!0},{Quantite:1,Description:"Paire de chaussure pour aller dans l’eau. (Une paire de vieille chaussure est suffisante !)",Important:!0},{Quantite:1,Description:"Paire de chaussure légère (sandale)",Important:!1},{Quantite:1,Description:"Petit sac à dos, gourde, lampe de poche",Important:!1}],Hiver:[{Quantite:6,Description:"Slips",Important:!1},{Quantite:6,Description:"Paires de chaussettes longues et chaudes",Important:!1},{Quantite:5,Description:"T-shirts manches longues",Important:!1},{Quantite:2,Description:"Pull-overs",Important:!1},{Quantite:2,Description:"Pantalons",Important:!1},{Quantite:2,Description:"T-shirt manches courtes",Important:!1},{Quantite:2,Description:"Leggings ou collants chauds",Important:!1},{Quantite:1,Description:"Polaire",Important:!1},{Quantite:1,Description:"Serviette de toilette",Important:!1},{Quantite:1,Description:"Trousse de toilette complète",Important:!1},{Quantite:1,Description:"Drap de dessous (90 cm)",Important:!1},{Quantite:1,Description:"Sac de couchage ou drap de dessus",Important:!1},{Quantite:1,Description:"Combinaison ou pantalon de ski",Important:!1},{Quantite:1,Description:"Anorak, bonnet, paire de gants de ski",Important:!1},{Quantite:1,Description:"Paire de lunette, crème solaire",Important:!1},{Quantite:1,Description:"Paire de baskets",Important:!1},{Quantite:1,Description:"Paire de boots ou chaussures de marche",Important:!1},{Quantite:1,Description:"Paire de pantoufles",Important:!1},{Quantite:1,Description:"Pyjama",Important:!1},{Quantite:1,Description:"Jogging",Important:!1}]},LX={ref:"bottom"},FX=["data"],zX=fa({__name:"PannelVetements",setup(re){Gu(Ye);const ye=Ko(null),Be=Ko(null),Ie=ea(()=>JSON.stringify(Be.value)!=JSON.stringify(ye.value));async function Ye(){const He=await go.VetementsGet();He!==void 0&&(ye.value=He,Be.value=SE(He))}function Me(){ye.value&&(ye.value.Vetements=(ye.value.Vetements||[]).concat({Description:"",Important:!1,Quantite:1}),Se.value=ye.value.Vetements.length-1,z7(()=>{kt.value&&kt.value.scrollIntoView()}))}const Se=Ko(null);function Ve(He){ye.value&&(ye.value.Vetements=SE(PX[He]))}function Ue(He){ye.value&&(ye.value.Vetements||[]).splice(He,1)}const ot=Ko(!1),St=Ko(""),$t=ea(()=>g_.RenderDocumentCamp(St.value,!1));async function xt(){if(!ye.value)return;const He=await go.VetementsUpdate(ye.value);He!==void 0&&(Be.value=SE(ye.value),St.value=He,go.showMessage("Liste de vêtements enregistrée avec succès."))}function Ne(He,We){ot.value=!0,He.dataTransfer.effectAllowed="move",He.dataTransfer.setData("text/json",JSON.stringify({index:We}))}function yt(He,We){if(!ye.value)return;const ne=JSON.parse(He.dataTransfer.getData("text/json"));ye.value.Vetements=xK(ne.index,We,ye.value.Vetements)}const kt=oL("bottom"),ut=Ko(!1),xe={language:"fr_FR",height:150,menubar:!1,statusbar:!1,formats:{underline:{inline:"u"}},entity_encoding:"raw",font_formats:"Arial=arial,helvetica,sans-serif;",toolbar:["undo redo | cut copy paste | bold italic underline "]};return(He,We)=>{const ne=IX,Ct=tH;return Lt(),is(Jr,null,[q(Ar,{title:"Liste de vêtements",class:"ma-2 mx-auto","max-width":"1000px"},{append:Q(()=>[q(an,{icon:"",onClick:Me,size:"small",class:"mx-1"},{default:Q(()=>[q(Us,{color:"green"},{default:Q(()=>[...We[9]||(We[9]=[Ht("mdi-plus",-1)])]),_:1})]),_:1}),q(_h,null,{activator:Q(({props:pe})=>[q(an,eu(pe,{class:"mx-1",size:"small"}),{default:Q(()=>[...We[10]||(We[10]=[Ht("Importer...",-1)])]),_:1},16)]),default:Q(()=>[q(qu,null,{default:Q(()=>[q(Bs,{title:"Liste d'été",subtitle:"Remplace la liste actuelle",onClick:We[0]||(We[0]=pe=>Ve("Ete"))}),q(Bs,{title:"Liste d'hiver",subtitle:"Remplace la liste actuelle",onClick:We[1]||(We[1]=pe=>Ve("Hiver"))})]),_:1})]),_:1}),q(jl,{vertical:"",thickness:"2",class:"mx-1"}),q(an,{size:"small",class:"mx-1",onClick:We[2]||(We[2]=pe=>ut.value=!0)},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...We[11]||(We[11]=[Ht("mdi-text-box-edit",-1)])]),_:1})]),default:Q(()=>[We[12]||(We[12]=Ht(" Texte ",-1))]),_:1}),q(jl,{vertical:"",thickness:"2",class:"mx-1"}),q(an,{icon:"",onClick:xt,size:"small",class:"mx-1"},{default:Q(()=>[q(sg,{color:Ie.value?"pink":"transparent",dot:""},{default:Q(()=>[q(Us,null,{default:Q(()=>[...We[13]||(We[13]=[Ht("mdi-content-save",-1)])]),_:1})]),_:1},8,["color"])]),_:1})]),default:Q(()=>[ye.value==null?(Lt(),ko(kh,{key:0})):(Lt(),ko(hr,{key:1},{default:Q(()=>[q(qu,{density:"compact",style:{"max-height":"75vh"},class:"overflow-y-auto"},{default:Q(()=>{var pe;return[(pe=ye.value.Vetements)!=null&&pe.length?Qr("",!0):(Lt(),ko(Bs,{key:0,class:"text-center"},{default:Q(()=>[...We[14]||(We[14]=[An("i",null,"Aucun vêtement.",-1)])]),_:1})),(Lt(!0),is(Jr,null,vc(ye.value.Vetements,(yn,bs)=>(Lt(),is(Jr,null,[q(ne,{isDragging:ot.value,onOnDrop:wn=>yt(wn,bs)},null,8,["isDragging","onOnDrop"]),Se.value==bs?(Lt(),ko(wi,{key:0,class:"mx-0"},{default:Q(()=>[q(On,{"align-self":"center",cols:"2"},{default:Q(()=>[q(Ct,{label:"Quantité",modelValue:ye.value.Vetements[bs].Quantite,"onUpdate:modelValue":wn=>ye.value.Vetements[bs].Quantite=wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),q(On,{"align-self":"center"},{default:Q(()=>[q(_2,{density:"compact",variant:"outlined",label:"Description","hide-details":"",modelValue:ye.value.Vetements[bs].Description,"onUpdate:modelValue":wn=>ye.value.Vetements[bs].Description=wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),q(On,{"align-self":"center",cols:"auto"},{default:Q(()=>[q(zK,{density:"compact",variant:"outlined",label:"Important","hide-details":"",modelValue:ye.value.Vetements[bs].Important,"onUpdate:modelValue":wn=>ye.value.Vetements[bs].Important=wn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),q(On,{"align-self":"center",cols:"auto"},{default:Q(()=>[q(an,{size:"small",onClick:We[3]||(We[3]=wn=>Se.value=null)},{prepend:Q(()=>[q(Us,{color:"green"},{default:Q(()=>[...We[15]||(We[15]=[Ht("mdi-check",-1)])]),_:1})]),default:Q(()=>[We[16]||(We[16]=Ht(" Terminer",-1))]),_:1})]),_:1})]),_:2},1024)):(Lt(),ko(Bs,{key:1,title:yn.Description,subtitle:yn.Important?"Important":""},{prepend:Q(()=>[q(sg,{inline:"",content:yn.Quantite,color:"secondary"},null,8,["content"])]),append:Q(()=>[q(Us,{class:"mx-1",style:{cursor:"grab"},draggable:!0,onDragstart:wn=>Ne(wn,bs),onDragend:We[4]||(We[4]=wn=>ot.value=!1)},{default:Q(()=>[...We[17]||(We[17]=[Ht("mdi-drag-vertical",-1)])]),_:1},8,["onDragstart"]),q(an,{icon:"mdi-pencil",size:"x-small",class:"mx-1",onClick:wn=>Se.value=bs},null,8,["onClick"]),q(an,{icon:"",onClick:wn=>Ue(bs),size:"x-small"},{default:Q(()=>[q(Us,{color:"red"},{default:Q(()=>[...We[18]||(We[18]=[Ht("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1032,["title","subtitle"]))],64))),256)),q(ne,{isDragging:ot.value,onOnDrop:We[5]||(We[5]=yn=>{var bs,wn;return yt(yn,((wn=(bs=ye.value)==null?void 0:bs.Vetements)==null?void 0:wn.length)||0)})},null,8,["isDragging"]),An("div",LX,null,512)]}),_:1})]),_:1}))]),_:1}),q(el,{"model-value":!!St.value,"onUpdate:modelValue":We[6]||(We[6]=pe=>St.value="")},{default:Q(()=>[St.value?(Lt(),is("object",{key:0,type:"application/pdf",data:$t.value,style:{height:"95vh"}},null,8,FX)):Qr("",!0)]),_:1},8,["model-value"]),q(el,{modelValue:ut.value,"onUpdate:modelValue":We[8]||(We[8]=pe=>ut.value=pe),"max-width":"600px"},{default:Q(()=>[q(Ar,{title:"Texte complémentaire",subtitle:"Ce texte apparaît à la fin de la liste de vêtements."},{default:Q(()=>[ye.value?(Lt(),ko(hr,{key:0},{default:Q(()=>[q(as(rH),{licenseKey:"gpl",modelValue:ye.value.Complement,"onUpdate:modelValue":We[7]||(We[7]=pe=>ye.value.Complement=pe),init:xe},null,8,["modelValue"])]),_:1})):Qr("",!0)]),_:1})]),_:1},8,["modelValue"])],64)}}}),HX=fa({__name:"documents",setup(re){const ye=DE(),Be=ea(()=>ZX(ye.currentRoute.value.query)),Ie=ea(()=>Be.value.tab||"documents");function Ye(Me){const Se=ye.currentRoute.value;ye.push({path:Se.path,query:{tab:Me}})}return(Me,Se)=>{var Ve;return Lt(),is(Jr,null,[q(V7,{title:`${(Ve=as(go).camp)==null?void 0:Ve.Label} - Communication & Documents`},{default:Q(()=>[q(Jz,{"model-value":Ie.value,"onUpdate:modelValue":Se[0]||(Se[0]=Ue=>Ye(Ue))},{default:Q(()=>[q(AE,{value:"documents"},{default:Q(()=>[...Se[1]||(Se[1]=[Ht("Documents",-1)])]),_:1}),q(AE,{value:"lettre"},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...Se[2]||(Se[2]=[Ht("mdi-mail",-1)])]),_:1})]),default:Q(()=>[Se[3]||(Se[3]=Ht(" Lettre aux familles",-1))]),_:1}),q(AE,{value:"vetements"},{prepend:Q(()=>[q(Us,null,{default:Q(()=>[...Se[4]||(Se[4]=[Ht("mdi-washing-machine",-1)])]),_:1})]),default:Q(()=>[Se[5]||(Se[5]=Ht(" Liste de vêtements",-1))]),_:1})]),_:1},8,["model-value"])]),_:1},8,["title"]),q(eH,{"model-value":Ie.value},{default:Q(()=>[q(TE,{value:"documents"},{default:Q(()=>[q(MX,{onGoTo:Ye})]),_:1}),q(TE,{value:"lettre"},{default:Q(()=>[q(OX)]),_:1}),q(TE,{value:"vetements"},{default:Q(()=>[q(zX)]),_:1})]),_:1},8,["model-value"])],64)}}}),VX=[{path:"/",component:$K},{path:"/inscriptions",component:cY},{path:"/equipiers",component:bY},{path:"/documents",component:HX}],$X="/directeurs",rL=vK({history:yK($X),routes:VX});rL.onError((re,ye)=>{var Be,Ie;(Ie=(Be=re==null?void 0:re.message)==null?void 0:Be.includes)!=null&&Ie.call(Be,"Failed to fetch dynamically imported module")?localStorage.getItem("vuetify:dynamic-reload")?console.error("Dynamic import error, reloading page did not fix it",re):(console.log("Reloading page to fix dynamic import error"),localStorage.setItem("vuetify:dynamic-reload","true"),location.assign(ye.fullPath)):console.error(re)});rL.isReady().then(()=>{localStorage.removeItem("vuetify:dynamic-reload")});function UX(re){return{tab:re.tab}}function ZX(re){return{tab:re.tab}}const jX=["innerHTML"],WX=fa({__name:"App",setup(re){const ye=wK({text:"",color:"secondary",action:void 0,timeout:4e3}),Be=Ko(""),Ie=Ko("");return go.onError=(Me,Se)=>{Be.value=Me,Ie.value=Se},go.showMessage=(Me,Se,Ve)=>{ye.text=Me,ye.color=Se||"success",ye.action=Ve,ye.timeout=1e4,ye.timeout=4e3},DE().beforeEach(async(Me,Se)=>{if(!go.hasToken()&&Me.path!=="/")return{path:"/"}}),(Me,Se)=>{const Ve=CK("router-view");return Lt(),ko(kK,null,{default:Q(()=>[q(_K,null,{default:Q(()=>[q(Ve),q(mz,{style:{"z-index":"10000"},app:"","model-value":ye.text!="","onUpdate:modelValue":Se[1]||(Se[1]=Ue=>ye.text=""),timeout:ye.timeout,color:ye.color,location:"bottom left","close-on-content-click":""},{default:Q(()=>[Ht(Ia(ye.text)+" ",1),ye.action?(Lt(),ko(an,{key:0,onClick:Se[0]||(Se[0]=Ue=>ye.action.action()),class:"ml-2"},{default:Q(()=>[Ht(Ia(ye.action.title),1)]),_:1})):Qr("",!0)]),_:1},8,["model-value","timeout","color"]),q(mz,{app:"","model-value":Be.value!="","onUpdate:modelValue":Se[2]||(Se[2]=Ue=>Be.value=""),timeout:4e3,color:"red"},{default:Q(()=>[An("b",null,Ia(Be.value),1),An("div",{innerHTML:Ie.value},null,8,jX)]),_:1},8,["model-value"])]),_:1})]),_:1})}}}),lH=SK(WX);lH.use(EK).use(rL);lH.mount("#app");
