import{d as k,n as ee,p as te,a5 as ne,ad as A,q as r,o as a,g as E,w as i,b as o,$ as b,h as g,Z as c,ac as ie,bM as le,i as oe,cu as se,j as C,bN as ae,s as R,v as M,cv as re,B as h,bY as de,bX as ue,y as F,D as T,A as I,a3 as x,C as ce,ar as q,ap as G,aq as X,at as U,I as Y,cw as me,K as ve,k as Z,N as fe,z as w,ao as H,cx as pe,ai as Ce,b7 as ge,X as ye,ak as _e,L as D,c as z,an as ke,as as be,bK as Ve,r as De,t as _,a1 as J,e as u,a as Q,F as Ee,aM as y,l as $,cy as B,cz as S}from"./VSnackbar-CBECO1fY.js";import{d as Se,l as Te,b as L,o as Ie,p as $e,c as j,f as N,i as ze,e as Pe,k as xe}from"./VTextarea-HUR-vMJk.js";import{f as O}from"./VTabs-C_ygT-Yw.js";const We=k({__name:"MontantField",props:ee({label:{},hideDetails:{type:Boolean},readonlyCurrency:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const l=t,e=te(t,"modelValue"),s=ne(A);return(m,n)=>(a(),r(E,{"no-gutters":""},{default:i(()=>[o(g,{cols:l.readonlyCurrency?12:6},{default:i(()=>[o(Se,{class:"mr-1",variant:"outlined",density:"compact","hide-details":l.hideDetails,label:l.label,type:"number",disabled:l.disabled,"model-value":e.value.Cent/100,"onUpdate:modelValue":n[0]||(n[0]=d=>e.value={Cent:c(ie)(Number(d)*100),Currency:e.value.Currency}),suffix:l.readonlyCurrency?c(A)[e.value.Currency]:void 0},null,8,["hide-details","label","disabled","model-value","suffix"])]),_:1},8,["cols"]),l.readonlyCurrency?b("",!0):(a(),r(g,{key:0,cols:"6"},{default:i(()=>[o(Te,{label:"Monnaie",variant:"outlined",density:"compact",disabled:l.disabled,items:c(s),"model-value":e.value.Currency,"hide-details":l.hideDetails,"onUpdate:modelValue":n[1]||(n[1]=d=>e.value={Cent:e.value.Cent,Currency:d})},null,8,["disabled","items","model-value","hide-details"])]),_:1}))]),_:1}))}}),Ke={class:"d-flex align-center justify-center fill-height"},et=k({__name:"FileCardReadonly",props:{fileKey:{},isGeneratedDoc:{type:Boolean},large:{type:Boolean}},setup(t){const l=t;return(e,s)=>(a(),r(L,{class:"my-2",href:l.isGeneratedDoc?c(O).RenderDocumentCamp(l.fileKey,!1):c(le)(l.fileKey)},{default:i(()=>[o(oe,{cover:"",src:l.isGeneratedDoc?c(O).RenderDocumentCamp(l.fileKey,!0):c(se)(l.fileKey),width:l.large?"142px":"48px"},{placeholder:i(()=>[C("div",Ke,[o(ae,{color:"grey-lighten-4",indeterminate:""})])]),_:1},8,["src","width"])]),_:1},8,["href"]))}}),we=M({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Y,iconColor:String,lineColor:String,...U(),...X(),...G(),...q()},"VTimelineDivider"),Be=R()({name:"VTimelineDivider",props:we(),setup(t,l){let{slots:e}=l;const{sizeClasses:s,sizeStyles:m}=re(t,"v-timeline-divider__dot"),{backgroundColorStyles:n,backgroundColorClasses:d}=h(()=>t.dotColor),{roundedClasses:v}=de(t,"v-timeline-divider__dot"),{elevationClasses:p}=ue(t),{backgroundColorClasses:P,backgroundColorStyles:f}=h(()=>t.lineColor);return F(()=>C("div",{class:I(["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class]),style:T(t.style)},[C("div",{class:I(["v-timeline-divider__before",P.value]),style:T(f.value)},null),!t.hideDot&&C("div",{key:"dot",class:I(["v-timeline-divider__dot",p.value,v.value,s.value]),style:T(m.value)},[C("div",{class:I(["v-timeline-divider__inner-dot",d.value,v.value]),style:T(n.value)},[e.default?o(ce,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},e.default):o(x,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),C("div",{class:I(["v-timeline-divider__after",P.value]),style:T(f.value)},null)])),{}}}),W=M({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Y,iconColor:String,lineInset:[Number,String],side:{type:String,validator:t=>t==null||["start","end"].includes(t)},...U(),...pe(),...q(),...X(),...G(),...H()},"VTimelineItem"),Le=R()({name:"VTimelineItem",props:W(),setup(t,l){let{slots:e}=l;const{dimensionStyles:s}=me(t),m=ve(0),n=Z();return fe(n,d=>{var v;d&&(m.value=((v=d.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:v.getBoundingClientRect().width)??0)},{flush:"post"}),F(()=>{var d,v;return C("div",{class:I(["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot,"v-timeline-item--side-start":t.side==="start","v-timeline-item--side-end":t.side==="end"},t.class]),style:T([{"--v-timeline-dot-size":w(m.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${w(t.lineInset)})`:w(0)},t.style])},[C("div",{class:"v-timeline-item__body",style:T(s.value)},[(d=e.default)==null?void 0:d.call(e)]),o(Be,{ref:n,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:e.icon}),t.density!=="compact"&&C("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((v=e.opposite)==null?void 0:v.call(e))])])}),{}}}),Re=M({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Ve(W({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...U(),...be(),...H(),...ke()},"VTimeline"),tt=R()({name:"VTimeline",props:Re(),setup(t,l){let{slots:e}=l;const{themeClasses:s}=Ce(t),{densityClasses:m}=ge(t),{rtlClasses:n}=ye();_e({VTimelineDivider:{lineColor:D(()=>t.lineColor)},VTimelineItem:{density:D(()=>t.density),dotColor:D(()=>t.dotColor),fillDot:D(()=>t.fillDot),hideOpposite:D(()=>t.hideOpposite),iconColor:D(()=>t.iconColor),lineColor:D(()=>t.lineColor),lineInset:D(()=>t.lineInset),size:D(()=>t.size)}});const d=z(()=>{const p=t.side?t.side:t.density!=="default"?"end":null;return p&&`v-timeline--side-${p}`}),v=z(()=>{const p=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return p;case"start":return p[0];case"end":return p[1];default:return null}});return F(()=>o(t.tag,{class:I(["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,v.value,{"v-timeline--inset-line":!!t.lineInset},s.value,m.value,d.value,n.value,t.class]),style:T([{"--v-timeline-line-thickness":w(t.lineThickness)},t.style])},e)),{}}}),Me={class:"ma-2"},V=k({__name:"EventItem",props:{color:{},icon:{},time:{},size:{}},setup(t){const l=t;return(e,s)=>(a(),r(Le,{"dot-color":l.color,width:"100%",size:l.size||"medium",elevation:2},{icon:i(()=>[C("div",Me,[o(x,{icon:l.icon},null,8,["icon"])])]),default:i(()=>[o(E,{justify:"space-between","no-gutters":""},{default:i(()=>[o(g,{"align-self":"center",cols:"10"},{default:i(()=>[De(e.$slots,"default")]),_:3}),o(g,{"align-self":"center",cols:"2",class:"text-grey pl-2"},{default:i(()=>[C("small",null,_(c(J).time(l.time)),1)]),_:1})]),_:3})]),_:3},8,["dot-color","size"]))}}),Fe=k({__name:"EventPaiementV",props:{paiement:{},user:{}},emits:["edit"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const d=V;return a(),r(d,{color:"#ad9726",icon:"mdi-cash",time:e.paiement.Time},{default:i(()=>[o(E,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[o(Ie,null,{default:i(()=>[u(_(e.paiement.IsRemboursement?"Remboursement":"Paiement")+" ",1),e.paiement.IsRemboursement?b("",!0):(a(),Q(Ee,{key:0},[n[1]||(n[1]=u(" de ",-1)),C("i",null,_(e.paiement.Payeur),1)],64)),n[2]||(n[2]=u(" : ",-1)),C("b",null,_(c(J).montant(e.paiement.Montant)),1)]),_:1}),o($e,null,{default:i(()=>[u(_(e.paiement.Label),1)]),_:1})]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==c(y).Backoffice||e.user==c(y).FondSoutien?(a(),r($,{key:0,icon:"mdi-pencil",size:"x-small",onClick:n[0]||(n[0]=v=>s("edit"))})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Ue=k({__name:"EventInscriptionTimeV",props:{time:{}},setup(t){const l=t;return(e,s)=>(a(),r(V,{color:"grey",icon:"mdi-map-marker",time:l.time},{default:i(()=>[...s[0]||(s[0]=[u(" Demande d'inscription effectuée. ",-1)])]),_:1},8,["time"]))}}),Ae={style:{"white-space":"pre-wrap"}},he=k({__name:"EventMessageV",props:{event:{},content:{},user:{}},emits:["delete","replyFondSoutien"],setup(t,{emit:l}){const e=t,s=l,m=z(()=>d(e.content.Message.Origine)),n=z(()=>e.user==y.Backoffice||e.user==y.FondSoutien&&p);function d(P){switch(P){case y.Backoffice:return"bg-light-green-lighten-3";case y.FondSoutien:return"bg-yellow-darken-1";case y.Directeur:return"bg-lime";case y.Espaceperso:return"bg-light-blue-lighten-3"}}const v=Z(!1),p=z(()=>e.content.Message.Origine==e.user);return(P,f)=>(a(),r(V,{icon:p.value?"mdi-email-arrow-right":"mdi-email-arrow-left",color:"light-blue-darken-3",time:e.event.Created,size:"x-large"},{default:i(()=>[o(E,{"no-gutters":""},{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[o(L,{class:I(m.value)},{default:i(()=>[o(j,{class:"pa-2"},{default:i(()=>[C("pre",Ae,_(e.content.Message.Contenu),1)]),_:1})]),_:1},8,["class"])]),_:1}),o(g,{cols:"auto","align-self":"center"},{default:i(()=>[n.value?(a(),r($,{key:0,icon:"",size:"x-small",class:"ml-2",onClick:f[0]||(f[0]=K=>v.value=!0)},{default:i(()=>[o(x,{color:"red"},{default:i(()=>[...f[4]||(f[4]=[u("mdi-delete",-1)])]),_:1})]),_:1})):b("",!0)]),_:1})]),_:1}),e.user==c(y).Espaceperso&&e.content.Message.Origine==c(y).FondSoutien?(a(),r(E,{key:0,"no-gutters":"",class:"mt-2"},{default:i(()=>[o(N),o($,{size:"small",onClick:f[1]||(f[1]=K=>s("replyFondSoutien"))},{prepend:i(()=>[o(x,null,{default:i(()=>[...f[5]||(f[5]=[u("mdi-reply",-1)])]),_:1})]),default:i(()=>[f[6]||(f[6]=u(" Répondre au fond de soutien ",-1))]),_:1})]),_:1})):b("",!0),v.value?(a(),r(ze,{key:1,modelValue:v.value,"onUpdate:modelValue":f[3]||(f[3]=K=>v.value=K),"max-width":"400px"},{default:i(()=>[o(L,{title:"Confirmation"},{default:i(()=>[o(j,null,{default:i(()=>[...f[7]||(f[7]=[u(" Confirmez-vous la suppression de ce message ? ",-1),C("br",null,null,-1),C("br",null,null,-1),u(" Attention, cette opération est irréversible. ",-1)])]),_:1}),o(Pe,null,{default:i(()=>[o(N),o($,{color:"red",onClick:f[2]||(f[2]=K=>s("delete"))},{default:i(()=>[...f[8]||(f[8]=[u("Supprimer",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):b("",!0)]),_:1},8,["icon","time"]))}}),je=k({__name:"EventPlaceLibereeV",props:{event:{},content:{},user:{}},emits:["acceptPlaceLiberee"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const d=V;return a(),r(d,{icon:"mdi-information-outline",color:"yellow",time:e.event.Created},{default:i(()=>[o(E,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[n[1]||(n[1]=u(" Une place pour ",-1)),C("i",null,_(e.content.ParticipantLabel),1),u(" s'est libérée sur le séjour "+_(e.content.CampLabel)+". ",1)]),_:1}),o(g,{cols:"auto","align-self":"center"},{default:i(()=>[e.user==c(y).Espaceperso&&!e.content.Accepted?(a(),r($,{key:0,size:"small",color:"green",onClick:n[0]||(n[0]=v=>s("acceptPlaceLiberee"))},{prepend:i(()=>[o(x,null,{default:i(()=>[...n[2]||(n[2]=[u("mdi-check",-1)])]),_:1})]),default:i(()=>[n[3]||(n[3]=u(" Accepter la place",-1))]),_:1})):b("",!0),e.content.Accepted?(a(),r(xe,{key:1,"prepend-icon":"mdi-check"},{default:i(()=>[...n[4]||(n[4]=[u(" Acceptée ",-1)])]),_:1})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Ne=k({__name:"EventSupprimeV",props:{event:{},content:{}},setup(t){const l=t;return(e,s)=>{const m=V;return a(),r(m,{color:"grey",icon:"mdi-close",time:l.event.Created,size:"small"},{default:i(()=>[...s[0]||(s[0]=[u(" Message supprimé ",-1)])]),_:1},8,["time"])}}}),Oe=k({__name:"EventValidationV",props:{event:{},content:{},user:{}},emits:["goToValidation"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const d=V;return a(),r(d,{color:"green",icon:"mdi-map-marker-check",time:e.event.Created},{default:i(()=>[o(E,{"no-gutters":""},{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[u(" Inscription reçue et confirmée "+_(e.content.ByCamp?`par la direction du séjour ${e.content.ByCamp}.`:"par le centre."),1)]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==c(y).Espaceperso?(a(),r($,{key:0,icon:"mdi-information",flat:"",class:"mr-2",onClick:n[0]||(n[0]=v=>s("goToValidation"))})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),qe={key:0},Ge=k({__name:"EventFactureV",props:{event:{},content:{}},setup(t){const l=t;return(e,s)=>{const m=V;return a(),r(m,{color:"orange-darken-1",icon:"mdi-invoice",time:l.event.Created},{default:i(()=>[s[0]||(s[0]=u(" Demande de règlement envoyée. ",-1)),l.content.IsRappel?(a(),Q("i",qe,"Il s'agit d'un rappel.")):b("",!0)]),_:1},8,["time"])}}}),Xe=k({__name:"EventCampDocsV",props:{event:{},content:{},user:{}},emits:["goToDocuments"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const d=V;return a(),r(d,{icon:"mdi-mail",color:"light-blue",time:e.event.Created},{default:i(()=>[o(E,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[n[1]||(n[1]=u(" Les documents du séjour ",-1)),C("i",null,_(e.content.CampLabel),1),n[2]||(n[2]=u(" ont été envoyés. ",-1))]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[e.user==c(y).Espaceperso?(a(),r($,{key:0,size:"small",onClick:n[0]||(n[0]=v=>s("goToDocuments",e.content.IdCamp)),class:"mr-2"},{default:i(()=>[...n[3]||(n[3]=[u(" Lire ",-1)])]),_:1})):b("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Ye=k({__name:"EventAttestationV",props:{event:{},content:{}},setup(t){const l=t,e=z(()=>{switch(l.content.Distribution){case B.DEspacePerso:return"téléchargée depuis l'espace personnel";case B.DMail:return"envoyée";case B.DMailAndDownloaded:return"envoyée et téléchargée"}});return(s,m)=>{const n=V;return a(),r(n,{icon:"mdi-invoice-check",color:"light-green-darken-1",time:l.event.Created},{default:i(()=>[m[0]||(m[0]=u(" Une ",-1)),C("b",null,_(l.content.IsPresence?"attestation de présence":"facture acquittée"),1),u(" a été "+_(e.value)+". ",1)]),_:1},8,["time"])}}}),Ze=k({__name:"EventSondageV",props:{event:{},content:{},user:{}},emits:["goToSondage"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const d=V;return a(),r(d,{color:"purple",icon:"mdi-comment-quote",time:e.event.Created},{default:i(()=>[o(E,null,{default:i(()=>[o(g,{"align-self":"center"},{default:i(()=>[u(" Un sondage concernant le séjour "+_(e.content.CampLabel)+" a été envoyé. ",1)]),_:1}),o(g,{"align-self":"center",cols:"auto"},{default:i(()=>[o($,{size:"small",onClick:n[0]||(n[0]=v=>s("goToSondage",e.content.IdCamp))},{default:i(()=>[u(_(e.user==c(y).Espaceperso?"répondre":"aller"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["time"])}}}),nt=k({__name:"EventSwitch",props:{event:{}},emits:["editPaiement","deleteMessage","goToSondage","goToDocuments","goToValidation","acceptPlaceLiberee","replyFondSoutien"],setup(t,{emit:l}){const e=t,s=l;return(m,n)=>{const d=Ue,v=Fe;return e.event.Kind=="inscription-time"?(a(),r(d,{key:0,time:e.event.Time},null,8,["time"])):e.event.Kind=="paiement"?(a(),r(v,{key:1,paiement:e.event.Paiement,user:e.event.User,onEdit:n[0]||(n[0]=p=>s("editPaiement",e.event.Paiement))},null,8,["paiement","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==c(S).Supprime?(a(),r(Ne,{key:2,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==c(S).Validation?(a(),r(Oe,{key:3,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToValidation:n[1]||(n[1]=p=>s("goToValidation"))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==c(S).Message?(a(),r(he,{key:4,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onDelete:n[2]||(n[2]=p=>s("deleteMessage",e.event.Event)),onReplyFondSoutien:n[3]||(n[3]=p=>s("replyFondSoutien"))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==c(S).PlaceLiberee?(a(),r(je,{key:5,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onAcceptPlaceLiberee:n[4]||(n[4]=p=>s("acceptPlaceLiberee",e.event.Event.Id))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==c(S).Facture?(a(),r(Ge,{key:6,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==c(S).CampDocs?(a(),r(Xe,{key:7,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToDocuments:n[5]||(n[5]=p=>s("goToDocuments",p))},null,8,["event","content","user"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==c(S).Attestation?(a(),r(Ye,{key:8,event:e.event.Event,content:e.event.Event.Content.Data},null,8,["event","content"])):e.event.Kind=="event"&&e.event.Event.Content.Kind==c(S).Sondage?(a(),r(Ze,{key:9,event:e.event.Event,content:e.event.Event.Content.Data,user:e.event.User,onGoToSondage:n[6]||(n[6]=p=>s("goToSondage",p))},null,8,["event","content","user"])):b("",!0)}}});export{tt as V,We as _,et as a,nt as b};
