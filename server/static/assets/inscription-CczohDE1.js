import{bF as Ee,bG as $e,d as L,D as E,j as k,s as y,u as R,w as t,e,v as T,an as Le,m as M,n as f,x as j,H as w,bc as D,ag as je,co as le,cp as me,C as ae,E as ze,J as Pe,k as $,af as Z,i,t as _,aj as Ie,M as S,h as te,q as p,z as we,y as z,A as We,ai as ne,a3 as Ae,bh as he,a4 as He,b as O,F as se,ae as Oe,K as G,L as W,a7 as Je,N as K,R as be,a5 as Ge,cq as Ke,cr as Ze,bn as Qe,cs as Xe,ct as Ye,cg as et,cu as tt,O as H,bI as lt,U as at,a0 as pe,a8 as st,cv as nt,aH as ot,cw as ut,cx as ge,aI as rt,b5 as it,cy as dt,bX as mt,aU as pt,am as ct,r as q,Z as vt,ac as Ne,aG as ft,P as Vt,a6 as ye,bQ as bt,b1 as gt,b0 as yt,Y as St,aJ as Ct,bO as xt,bV as kt,$ as Pt,a1 as It,aL as wt,aM as At,aO as Nt,bW as _t,aP as Mt,aR as qt,aS as Ut,bA as Dt,V as Bt,l as Ft,o as Rt,B as re,aW as Tt,cz as Et,bB as Se,bC as $t,c as Lt,a as jt,f as zt,bD as Wt}from"./VSnackbar-CgAukBO4.js";import{A as ht,d as _e,e as Me,c as qe,a as Ue,N as Ht,b as F,S as de,f as ie,V as Q}from"./SexeField.vue_vue_type_script_setup_true_lang-C6zlppMw.js";import{_ as Ot}from"./PaysField.vue_vue_type_script_setup_true_lang-DikVUkxH.js";import{V as Ce,m as Jt,a as xe,b as Gt}from"./VWindowItem-6JFtH0Uu.js";import{V as ke,m as Kt}from"./VSheet-DLnoQu0V.js";class Zt extends ht{constructor(n,s,o){super(o,""),this.onError=n,this.showMessage=s}handleError(n){const{kind:s,messageHtml:o}=$e(n);this.onError(s,o)}startRequest(){}}const X=new Zt((l,n)=>{},(l,n)=>{},Ee()),Qt=L({__name:"Step1",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(l){const n=E(l,"modelValue");function s(o){if(le(o))return"Merci de préciser votre date de naissance.";const u=me(o);return u===null||u<18?"Le responsable légal doit être majeur.":!0}return(o,u)=>{const V=_e,c=Me,b=qe,m=Ot;return y(),k(R,{title:"Profil du responsable légal",subtitle:"Personne majeure qui sera le contact pour le suivi de l'inscription."},{default:t(()=>[e(T,null,{default:t(()=>[e(Le,{class:"mt-2"},{default:t(()=>[e(M,null,{default:t(()=>[e(f,{md:"3",sm:"6"},{default:t(()=>[e(j,{variant:"outlined",density:"compact",modelValue:n.value.Nom,"onUpdate:modelValue":u[0]||(u[0]=a=>n.value.Nom=a),label:"Nom",rules:[w(D).required("Merci de remplir votre nom.")]},null,8,["modelValue","rules"])]),_:1}),e(f,{md:"3",sm:"6"},{default:t(()=>[e(j,{variant:"outlined",density:"compact",modelValue:n.value.Prenom,"onUpdate:modelValue":u[1]||(u[1]=a=>n.value.Prenom=a),label:"Prénom",rules:[w(D).required("Merci de remplir votre prénom.")]},null,8,["modelValue","rules"])]),_:1}),e(f,{md:"3",sm:"4"},{default:t(()=>[e(V,{modelValue:n.value.Sexe,"onUpdate:modelValue":u[2]||(u[2]=a=>n.value.Sexe=a),rules:[w(D).required("Nous avons besoin de votre sexe pour personnaliser nos courriels.")]},null,8,["modelValue","rules"])]),_:1}),e(f,{md:"3",sm:"8"},{default:t(()=>[e(c,{modelValue:n.value.DateNaissance,"onUpdate:modelValue":u[3]||(u[3]=a=>n.value.DateNaissance=a),rule:s},null,8,["modelValue"])]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(f,{md:"6",sm:"12"},{default:t(()=>[e(j,{variant:"outlined",density:"compact",modelValue:n.value.Mail,"onUpdate:modelValue":u[4]||(u[4]=a=>n.value.Mail=a),label:"Adresse mail",type:"email",rules:[w(D).required("Une adresse mail est nécessaire pour recevoir les informations sur le suivi de votre inscription.")]},null,8,["modelValue","rules"])]),_:1}),e(f,{md:"6",sm:"12"},{default:t(()=>[e(b,{modelValue:n.value.Tels,"onUpdate:modelValue":u[5]||(u[5]=a=>n.value.Tels=a),formatter:w(je).tel,label:"Téléphones",rule:w(D).noEmptyList("Merci de fournir un numéro en cas d'urgence.")},null,8,["modelValue","formatter","rule"])]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(f,{md:"4",sm:"8"},{default:t(()=>[e(Ue,{variant:"outlined",density:"compact",modelValue:n.value.Adresse,"onUpdate:modelValue":u[6]||(u[6]=a=>n.value.Adresse=a),label:"Adresse",rows:"2",rules:[w(D).required("L'adresse est requise pour l'émission d'une facture.")]},null,8,["modelValue","rules"])]),_:1}),e(f,{md:"2",sm:"4"},{default:t(()=>[e(j,{variant:"outlined",density:"compact",modelValue:n.value.CodePostal,"onUpdate:modelValue":u[7]||(u[7]=a=>n.value.CodePostal=a),label:"Code postal",rules:[w(D).required("Le code postal est requis pour l'émission d'une facture.")]},null,8,["modelValue","rules"])]),_:1}),e(f,{md:"3",sm:"6"},{default:t(()=>[e(j,{variant:"outlined",density:"compact",modelValue:n.value.Ville,"onUpdate:modelValue":u[8]||(u[8]=a=>n.value.Ville=a),label:"Ville",rules:[w(D).required("La ville est requise pour l'émission d'une facture.")]},null,8,["modelValue","rules"])]),_:1}),e(f,{md:"3",sm:"6"},{default:t(()=>[e(m,{modelValue:n.value.Pays,"onUpdate:modelValue":u[9]||(u[9]=a=>n.value.Pays=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Xt=L({__name:"NationaliteField",props:ae({hideDetails:{type:Boolean},readonly:{type:Boolean},rules:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const n=l,s=E(l,"modelValue"),o=ze(Ht);return(u,V)=>(y(),k(Pe,{label:"Nationalité",variant:"outlined",density:"compact",items:w(o),readonly:n.readonly,"hide-details":n.hideDetails,modelValue:s.value,"onUpdate:modelValue":V[0]||(V[0]=c=>s.value=c),rules:n.rules},null,8,["items","readonly","hide-details","modelValue","rules"]))}}),Yt=L({__name:"CampCard",props:{camp:{}},setup(l){const n=l;return(s,o)=>(y(),k(R,{class:"my-0"},{default:t(()=>[e(T,null,{default:t(()=>[e(M,{"no-gutters":"",class:"mb-1"},{default:t(()=>[e(f,{cols:"8"},{default:t(()=>[e(Z,{"prepend-icon":"mdi-calendar-blank"},{default:t(()=>[i(_(w(Ie).formatPlage(n.camp)),1)]),_:1})]),_:1}),e(f,{cols:"4",class:"text-right"},{default:t(()=>[e(Z,{"prepend-icon":"mdi-currency-eur"},{default:t(()=>[i(_(n.camp.Prix),1)]),_:1})]),_:1})]),_:1}),e(M,{"no-gutters":"",class:"my-1"},{default:t(()=>[e(f,{cols:"8"},{default:t(()=>[e(Z,{"prepend-icon":"mdi-map-marker"},{default:t(()=>[i(_(n.camp.Lieu),1)]),_:1})]),_:1}),e(f,{cols:"4",class:"text-right"},{default:t(()=>[e(Z,{"prepend-icon":"mdi-human-child"},{default:t(()=>[i(" de "+_(n.camp.AgeMin)+" à "+_(n.camp.AgeMax)+" ans ",1)]),_:1})]),_:1})]),_:1}),e(M,{"no-gutters":"",class:"my-1"},{default:t(()=>[e(f,null,{default:t(()=>[e(Z,{"prepend-icon":"mdi-account-supervisor"},{default:t(()=>[i("Direction : "+_(n.camp.Direction),1)]),_:1})]),_:1})]),_:1}),n.camp.Description.length?(y(),k(M,{key:0},{default:t(()=>[e(f,null,{default:t(()=>[e(F,{type:"info"},{default:t(()=>[i(_(n.camp.Description),1)]),_:1})]),_:1})]),_:1})):$("",!0),n.camp.Navette.Actif?(y(),k(M,{key:1},{default:t(()=>[e(f,null,{default:t(()=>[e(F,{color:"info",icon:"mdi-bus"},{default:t(()=>[i(_(n.camp.Navette.Commentaire),1)]),_:1})]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1}))}}),el=L({__name:"ParticipantRow",props:ae({camps:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:ae(["delete"],["update:modelValue"]),setup(l,{emit:n}){const s=l,o=n,u=E(l,"modelValue");function V(m){return le(m)?"Nous avons besoin de l'âge des participants pour constituer des groupes.":!0}const c=S(()=>s.camps.find(m=>m.Id==u.value.IdCamp)),b=S(()=>{const m=c.value;if(m===void 0||le(u.value.DateNaissance))return null;const a=me(u.value.DateNaissance,new Date(m.DateDebut));return a==null?null:m.AgeMin&&a<m.AgeMin||m.AgeMax&&a>m.AgeMax?a:null});return(m,a)=>{const P=_e,v=Me,x=Xt;return y(),k(R,{border:"sm",rounded:"md",variant:"text",class:"my-1"},{default:t(()=>[e(T,null,{default:t(()=>[e(M,null,{default:t(()=>[e(f,{cols:"4","align-self":"center"},{default:t(()=>[e(M,null,{default:t(()=>[e(f,{cols:"12"},{default:t(()=>[e(j,{autofocus:"",variant:"outlined",density:"compact",modelValue:u.value.Nom,"onUpdate:modelValue":a[0]||(a[0]=g=>u.value.Nom=g),label:"Nom",rules:[w(D).required("Merci de remplir votre nom.")]},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:t(()=>[e(j,{variant:"outlined",density:"compact",modelValue:u.value.Prenom,"onUpdate:modelValue":a[1]||(a[1]=g=>u.value.Prenom=g),label:"Prénom",rules:[w(D).required("Merci de remplir votre prénom.")]},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(f,{cols:"5"},{default:t(()=>[e(P,{modelValue:u.value.Sexe,"onUpdate:modelValue":a[2]||(a[2]=g=>u.value.Sexe=g),rules:[w(D).required("Nous avons besoin du sexe des participants pour constituer des groupes.")]},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"7"},{default:t(()=>[e(v,{modelValue:u.value.DateNaissance,"onUpdate:modelValue":a[3]||(a[3]=g=>u.value.DateNaissance=g),rule:V},null,8,["modelValue"])]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(f,null,{default:t(()=>[e(x,{modelValue:u.value.Nationnalite,"onUpdate:modelValue":a[4]||(a[4]=g=>u.value.Nationnalite=g)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(te,{vertical:"",thickness:"1"}),e(f,{cols:"8","align-self":"center"},{default:t(()=>[e(M,null,{default:t(()=>[e(f,{cols:"12"},{default:t(()=>[e(Pe,{"model-value":u.value.IdCamp>=1?u.value.IdCamp:null,"onUpdate:modelValue":a[5]||(a[5]=g=>u.value.IdCamp=g),variant:"outlined",density:"compact",label:"Choix du séjour",items:s.camps.map(g=>({value:g.Id,title:w(Ie).label(g)})),rules:[w(D).required("Merci de choisir un séjour.")]},null,8,["model-value","items","rules"])]),_:1})]),_:1}),b.value!=null?(y(),k(F,{key:0,type:"warning",class:"mb-2"},{default:t(()=>[i(_(u.value.Prenom)+" aura ",1),p("b",null,_(b.value)+" ans",1),a[7]||(a[7]=i(" au début du séjour. "))]),_:1})):$("",!0),c.value===void 0?(y(),k(F,{key:1,class:"text-center"},{default:t(()=>a[8]||(a[8]=[p("i",null,"Veuillez sélectionner un séjour...",-1)])),_:1})):(y(),k(Yt,{key:2,camp:c.value},null,8,["camp"]))]),_:1})]),_:1})]),_:1}),e(we,null,{default:t(()=>[e(z,{color:"red",onClick:a[6]||(a[6]=g=>o("delete")),variant:"outlined"},{prepend:t(()=>[e(ne,null,{default:t(()=>a[9]||(a[9]=[i("mdi-delete")])),_:1}),a[10]||(a[10]=i(" Enlever ce participant "))]),default:t(()=>[e(We)]),_:1})]),_:1})]),_:1})}}}),tl={ref:"bottom"},ll=L({__name:"Step2",props:ae({camps:{},responsable:{},preselected:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const n=l,s=E(l,"modelValue");Ae(()=>{console.log(s.value),s.length||c()});const o=he("bottom");function u(m){return m=="FR"?ie.Francaise:m=="CH"?ie.Suisse:ie.Autre}function V(){const m={PreIdent:"",Nom:n.responsable.Nom,Prenom:"",DateNaissance:"0001-01-01",Sexe:de.Empty,Nationnalite:u(n.responsable.Pays),IdCamp:n.preselected};return s.value.length||(m.Prenom=n.responsable.Prenom,m.DateNaissance=n.responsable.DateNaissance,m.Sexe=n.responsable.Sexe),m}function c(){s.value.push(V()),He(()=>{o.value!=null&&o.value.scrollIntoView(!0)})}function b(m){s.value.splice(m,1)}return(m,a)=>(y(),O(se,null,[e(R,{title:"Participants",subtitle:"Choix des séjours"},{append:t(()=>[e(z,{color:"green",onClick:c},{prepend:t(()=>[e(ne,null,{default:t(()=>a[0]||(a[0]=[i("mdi-plus")])),_:1})]),default:t(()=>[a[1]||(a[1]=i(" Ajouter un participant"))]),_:1})]),default:t(()=>[e(T,null,{default:t(()=>[(y(!0),O(se,null,Oe(s.value,(P,v)=>(y(),k(el,{"model-value":P,"onUpdate:modelValue":x=>s.value[v]=x,camps:n.camps,onDelete:x=>b(v)},null,8,["model-value","onUpdate:modelValue","camps","onDelete"]))),256))]),_:1})]),_:1}),p("div",tl,null,512)],64))}}),al=L({__name:"Step3",props:{settings:{}},setup(l){const n=l;return(s,o)=>(y(),k(R,{title:"Information sur le paiement"},{default:t(()=>[e(T,null,{default:t(()=>[e(F,{class:"my-1",type:"info"},{default:t(()=>o[0]||(o[0]=[i(" Une fois votre inscription validée, une note de frais vous sera envoyée sur votre "),p("b",null,"espace de suivi",-1),i(" et vous pourrez procéder au paiement. "),p("br",null,null,-1),i(" Merci de noter que les informations ci-dessous sont données à titre indicatif. ")])),_:1}),e(F,{class:"my-1"},{default:t(()=>o[1]||(o[1]=[i(" PAIEMENT EN LIGNE : Vous pourrez payer en ligne via votre espace de suivi. ")])),_:1}),e(F,{class:"my-1"},{default:t(()=>o[2]||(o[2]=[i(" VIREMENT : Si vous souhaitez payer par virement bancaire, vous trouverez sur votre espace de suivi le "),p("i",null,"RIB",-1),i(" de l'association, ainsi qu'un "),p("i",null,"numéro",-1),i(" permettant d'identifier votre virement. ")])),_:1}),n.settings.SupportBonsCAF?(y(),k(F,{key:0,class:"my-1"},{default:t(()=>o[3]||(o[3]=[i(" BONS CAFS : Nous sommes habilités à recevoir les bons CAF. Néanmoins, comme chaque CAF a une politique indépendante qui dépend du département d’origine de votre enfant, il vous appartient la contacter et de bien vérifier que les aides ou bons peuvent être utilisés pour le séjour que vous avez choisi. "),p("br",null,null,-1),i(" Vous pourrez les déclarer sur votre espace de suivi. ")])),_:1})):$("",!0),n.settings.SupportANCV?(y(),k(F,{key:1,class:"my-1"},{default:t(()=>o[4]||(o[4]=[i(" ANCV : Nous acceptons les chèques ANCV. ")])),_:1})):$("",!0),e(F,{class:"my-1"},{default:t(()=>o[5]||(o[5]=[i(" REMISES : Une remise peut être appliquée dans le cas d'une famille avec "),p("i",null,"plusieurs participants",-1),i(" inscrits ou pour un "),p("i",null,"équipier",-1),i(" bénévole sur un de nos séjours. ")])),_:1})]),_:1})]),_:1}))}}),sl=["href"],nl=L({__name:"Step4",props:ae({settings:{}},{partageAdresse:{type:Boolean,required:!0},partageAdresseModifiers:{},fondSoutien:{type:Boolean,required:!0},fondSoutienModifiers:{},mails:{required:!0},mailsModifiers:{},message:{required:!0},messageModifiers:{},charte:{type:Boolean,required:!0},charteModifiers:{}}),emits:["update:partageAdresse","update:fondSoutien","update:mails","update:message","update:charte"],setup(l){const n=l,s=E(l,"partageAdresse"),o=E(l,"fondSoutien"),u=E(l,"mails"),V=E(l,"message"),c=E(l,"charte"),b=S(()=>`mailto:${n.settings.EmailRetraitMedia}`);return(m,a)=>{const P=qe;return y(),O(se,null,[e(R,{class:"my-1 border-secondary border-lg",title:"Autorisations"},{default:t(()=>[e(T,null,{default:t(()=>[e(M,null,{default:t(()=>[e(f,{cols:"12"},{default:t(()=>[e(Q,{readonly:"","model-value":!0,color:"primary"},{label:t(()=>a[5]||(a[5]=[p("div",null,[i(" Pour chaque participant dont j'ai la responsabilité, j'autorise le transport dans les véhicules de l'association. "),p("br"),i(" En cas de nécessité , j'autorise l'appel aux soins légaux de médecine et de chirurgie et je m'engage à rembourser les frais avancés. ")],-1)])),_:1})]),_:1})]),_:1}),e(Q,{readonly:"","model-value":!0,color:"primary","hide-details":""},{label:t(()=>a[6]||(a[6]=[p("div",null,[i(" Dans le cadre des activités de l'association, des photographies ou des séquences vidéo pourront être faites. "),p("br"),i(" J'autorise la diffusion "),p("i",null,"restreinte"),i(" de ces souvenirs, sur une plateforme protégée, le site internet ou les brochures papier. ")],-1)])),_:1}),e(F,{type:"info",class:"my-2 mb-4"},{default:t(()=>[a[7]||(a[7]=i(" Sur votre demande, nous nous engageons à retirer dans les plus brefs délais toute photo ou vidéo que nous aurions publiée. Pour cela, vous pouvez le spécifier en envoyant un mail à ")),p("a",{href:b.value},_(n.settings.EmailRetraitMedia),9,sl),a[8]||(a[8]=i(". "))]),_:1}),e(Q,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=v=>s.value=v),color:"primary"},{label:t(()=>a[9]||(a[9]=[p("div",null,[i(" J’autorise la diffusion de mes "),p("b",null,"coordonnées"),i(" (nom, adresse mail et commune) auprès des familles inscrites à ce séjour afin de faciliter l’organisation d’éventuels covoiturages. ")],-1)])),_:1},8,["modelValue"])]),_:1})]),_:1}),n.settings.ShowCharteConduite?(y(),k(R,{key:0,title:"Charte",class:"my-2 border-secondary border-lg"},{default:t(()=>[e(T,{style:{"line-height":"2em"}},{default:t(()=>[a[10]||(a[10]=i(" Je m’engage à m’intéresser et à respecter la foi en Jésus-Christ. ")),a[11]||(a[11]=p("br",null,null,-1)),a[12]||(a[12]=i(" Je m’engage à avoir une attitude constructive dans le camp : ")),a[13]||(a[13]=p("ul",{class:"px-4"},[p("li",null,"en coopérant avec les encadrants et dans l’équipe"),p("li",null,"en participant activement aux activités organisées"),p("li",null,"en cherchant des solutions en cas de problèmes"),p("li",null," en respectant les limites fixées : relations non-équivoques (sexuellement), non-violentes "),p("li",null," en vivant un temps « bonne santé » : renoncer à la consommation d’alcool, de cigarettes, de drogues, d’internet. ")],-1)),e(Q,{label:"J'accepte la charte","hide-details":"",color:"primary",modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=v=>c.value=v)},null,8,["modelValue"])]),_:1})]),_:1})):$("",!0),e(R,{class:"my-2 border-secondary border-lg",title:"Message"},{default:t(()=>[e(T,null,{default:t(()=>[m.settings.ShowFondSoutien?(y(),k(Q,{key:0,color:"primary",modelValue:o.value,"onUpdate:modelValue":a[2]||(a[2]=v=>o.value=v),label:"Je souhaite être contacté par le fond de soutien pour éviter que le prix du camp ne soit un obstacle à l'inscription."},null,8,["modelValue"])):$("",!0),e(Ue,{variant:"outlined",modelValue:V.value,"onUpdate:modelValue":a[3]||(a[3]=v=>V.value=v),label:"Une question, un souhait ... ?",rows:"3"},null,8,["modelValue"])]),_:1})]),_:1}),e(R,{class:"mt-1 mb-3 border-secondary border-lg",title:"Contacts additionnels",subtitle:"Adresses mails mises en copies des courriels concernant votre inscription."},{default:t(()=>[e(T,null,{default:t(()=>[e(P,{label:"Mails",modelValue:u.value,"onUpdate:modelValue":a[4]||(a[4]=v=>u.value=v),rule:w(D).validMails()},null,8,["modelValue","rule"])]),_:1})]),_:1})],64)}}}),ce=Symbol.for("vuetify:v-stepper"),De=W({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),Be=G()({name:"VStepperActions",props:De(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(l,n){let{emit:s,slots:o}=n;const{t:u}=Je();function V(){s("click:prev")}function c(){s("click:next")}return K(()=>{const b={onClick:V},m={onClick:c};return e("div",{class:"v-stepper-actions"},[e(be,{defaults:{VBtn:{disabled:["prev",!0].includes(l.disabled),text:u(l.prevText),variant:"text"}}},{default:()=>{var a;return[((a=o.prev)==null?void 0:a.call(o,{props:b}))??e(z,b,null)]}}),e(be,{defaults:{VBtn:{color:l.color,disabled:["next",!0].includes(l.disabled),text:u(l.nextText),variant:"tonal"}}},{default:()=>{var a;return[((a=o.next)==null?void 0:a.call(o,{props:m}))??e(z,m,null)]}})])}),{}}}),Fe=Ge("v-stepper-header"),ol=W({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:H,default:"$complete"},editable:Boolean,editIcon:{type:H,default:"$edit"},error:Boolean,errorIcon:{type:H,default:"$error"},icon:H,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),ul=W({...ol(),...tt()},"VStepperItem"),Y=G()({name:"VStepperItem",directives:{Ripple:Ke},props:ul(),emits:{"group:selected":l=>!0},setup(l,n){let{slots:s}=n;const o=Ze(l,ce,!0),u=S(()=>(o==null?void 0:o.value.value)??l.value),V=S(()=>l.rules.every(x=>x()===!0)),c=S(()=>!l.disabled&&l.editable),b=S(()=>!l.disabled&&l.editable),m=S(()=>l.error||!V.value),a=S(()=>l.complete||l.rules.length>0&&V.value),P=S(()=>m.value?l.errorIcon:a.value?l.completeIcon:o.isSelected.value&&l.editable?l.editIcon:l.icon),v=S(()=>({canEdit:b.value,hasError:m.value,hasCompleted:a.value,title:l.title,subtitle:l.subtitle,step:u.value,value:l.value}));return K(()=>{var U,I,C;const x=(!o||o.isSelected.value||a.value||b.value)&&!m.value&&!l.disabled,g=!!(l.title!=null||s.title),A=!!(l.subtitle!=null||s.subtitle);function d(){o==null||o.toggle()}return Qe(e("button",{class:["v-stepper-item",{"v-stepper-item--complete":a.value,"v-stepper-item--disabled":l.disabled,"v-stepper-item--error":m.value},o==null?void 0:o.selectedClass.value],disabled:!l.editable,type:"button",onClick:d},[c.value&&Ye(!0,"v-stepper-item"),e(et,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:x?l.color:void 0,size:24},{default:()=>{var r;return[((r=s.icon)==null?void 0:r.call(s,v.value))??(P.value?e(ne,{icon:P.value},null):u.value)]}}),e("div",{class:"v-stepper-item__content"},[g&&e("div",{key:"title",class:"v-stepper-item__title"},[((U=s.title)==null?void 0:U.call(s,v.value))??l.title]),A&&e("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((I=s.subtitle)==null?void 0:I.call(s,v.value))??l.subtitle]),(C=s.default)==null?void 0:C.call(s,v.value)])]),[[Xe("ripple"),l.ripple&&l.editable,null]])}),{}}}),rl=W({...st(Jt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),Re=G()({name:"VStepperWindow",props:rl(),emits:{"update:modelValue":l=>!0},setup(l,n){let{slots:s}=n;const o=lt(ce,null),u=at(l,"modelValue"),V=S({get(){var c;return u.value!=null||!o?u.value:(c=o.items.value.find(b=>o.selected.value.includes(b.id)))==null?void 0:c.value},set(c){u.value=c}});return K(()=>{const c=Ce.filterProps(l);return e(Ce,pe({_as:"VStepperWindow"},c,{modelValue:V.value,"onUpdate:modelValue":b=>V.value=b,class:["v-stepper-window",l.class],style:l.style,mandatory:!1,touch:!1}),s)}),{}}}),il=W({...Gt()},"VStepperWindowItem"),ee=G()({name:"VStepperWindowItem",props:il(),setup(l,n){let{slots:s}=n;return K(()=>{const o=xe.filterProps(l);return e(xe,pe({_as:"VStepperWindowItem"},o,{class:["v-stepper-window-item",l.class],style:l.style}),s)}),{}}}),dl=W({altLabels:Boolean,bgColor:String,completeIcon:H,editIcon:H,editable:Boolean,errorIcon:H,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...mt()},"Stepper"),ml=W({...dl(),...dt({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...Kt(),...it(De(),["prevText","nextText"])},"VStepper"),pl=G()({name:"VStepper",props:ml(),emits:{"update:modelValue":l=>!0},setup(l,n){let{slots:s}=n;const{items:o,next:u,prev:V,selected:c}=nt(l,ce),{displayClasses:b,mobile:m}=ot(l),{completeIcon:a,editIcon:P,errorIcon:v,color:x,editable:g,prevText:A,nextText:d}=ut(l),U=S(()=>l.items.map((r,B)=>{const h=ge(r,l.itemTitle,r),N=ge(r,l.itemValue,B+1);return{title:h,value:N,raw:r}})),I=S(()=>o.value.findIndex(r=>c.value.includes(r.id))),C=S(()=>l.disabled?l.disabled:I.value===0?"prev":I.value===o.value.length-1?"next":!1);return rt({VStepperItem:{editable:g,errorIcon:v,completeIcon:a,editIcon:P,prevText:A,nextText:d},VStepperActions:{color:x,disabled:C,prevText:A,nextText:d}}),K(()=>{const r=ke.filterProps(l),B=!!(s.header||l.items.length),h=l.items.length>0,N=!l.hideActions&&!!(h||s.actions);return e(ke,pe(r,{color:l.bgColor,class:["v-stepper",{"v-stepper--alt-labels":l.altLabels,"v-stepper--flat":l.flat,"v-stepper--non-linear":l.nonLinear,"v-stepper--mobile":m.value},b.value,l.class],style:l.style}),{default:()=>{var ve,fe;return[B&&e(Fe,{key:"stepper-header"},{default:()=>[U.value.map((J,oe)=>{let{raw:ue,...Ve}=J;return e(se,null,[!!oe&&e(te,null,null),e(Y,Ve,{default:s[`header-item.${Ve.value}`]??s.header,icon:s.icon,title:s.title,subtitle:s.subtitle})])})]}),h&&e(Re,{key:"stepper-window"},{default:()=>[U.value.map(J=>e(ee,{value:J.value},{default:()=>{var oe,ue;return((oe=s[`item.${J.value}`])==null?void 0:oe.call(s,J))??((ue=s.item)==null?void 0:ue.call(s,J))}}))]}),(ve=s.default)==null?void 0:ve.call(s,{prev:V,next:u}),N&&(((fe=s.actions)==null?void 0:fe.call(s,{next:u,prev:V}))??e(Be,{key:"stepper-actions","onClick:prev":V,"onClick:next":u},s))]}})}),{prev:V,next:u}}}),cl=L({__name:"InscriptionPannel",props:{data:{}},setup(l){const n=l,s=pt(ct(n.data.InitialInscription)),o=q(1),u=q(!1),V=q(!1),c=q(!1),b=S(()=>u.value?P.value:void 0),m=S(()=>V.value?v.value:void 0),a=S(()=>c.value?x.value:void 0);vt(()=>o.value,(C,r)=>{r==1&&(u.value=!0),r==2&&(V.value=!0),r==4&&(c.value=!0)});const P=S(()=>{var B;const C=s.Responsable,r=me(C.DateNaissance)||0;return!!(C.Nom.length&&C.Prenom.length&&C.Sexe!=de.Empty&&!le(C.DateNaissance)&&r>=18&&C.Mail.length&&((B=C.Tels)!=null&&B.length)&&C.Adresse.length&&C.CodePostal.length&&C.Ville.length)}),v=S(()=>{const C=s.Participants;return!!(C!=null&&C.length)&&C.every(r=>r.IdCamp>0&&r.Nom.length&&r.Prenom.length&&r.Sexe!=de.Empty&&!le(r.DateNaissance))}),x=S(()=>g.value||!n.data.Settings.ShowCharteConduite),g=q(!1),A=S(()=>P.value&&v.value&&x.value),d=q(!1),U=q(!1);async function I(){d.value=!0;const C=await X.SaveInscription(s);d.value=!1,C!==void 0&&(U.value=!0)}return(C,r)=>(y(),O(se,null,[e(Ne,{modelValue:U.value,"onUpdate:modelValue":r[0]||(r[0]=B=>U.value=B),"max-width":"600px"},{default:t(()=>[e(R,{title:"Confirmation"},{default:t(()=>[e(T,null,{default:t(()=>[r[9]||(r[9]=i(" Merci pour votre demande d'inscription ! ")),r[10]||(r[10]=p("br",null,null,-1)),r[11]||(r[11]=p("br",null,null,-1)),r[12]||(r[12]=i(" Par mesure de sécurité, nous devons vérifier votre adresse mail. Un mail de confirmation a été envoyé à ")),p("b",null,_(s.Responsable.Mail),1),r[13]||(r[13]=i(" : veuillez valider définitivement votre inscription en suivant le lien que vous y trouverez. ")),r[14]||(r[14]=p("br",null,null,-1)),r[15]||(r[15]=p("br",null,null,-1)),r[16]||(r[16]=p("div",{class:"text-grey font-italic"}," Vous pouvez désormais quitter cette page. ",-1))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(pl,{modelValue:o.value,"onUpdate:modelValue":r[8]||(r[8]=B=>o.value=B),editable:""},{default:t(({prev:B,next:h})=>[e(Fe,null,{default:t(()=>[e(Y,{title:"Responsable",value:1,complete:b.value===!0,error:b.value===!1,subtitle:b.value===!1?"Champs manquants":"",color:b.value===!0?"primary":b.value===!1?"red":""},null,8,["complete","error","subtitle","color"]),e(te),e(Y,{title:"Participants",value:2,complete:m.value===!0,error:m.value===!1,subtitle:m.value===!1?"Information manquante":"",color:m.value===!0?"primary":m.value===!1?"red":""},null,8,["complete","error","subtitle","color"]),e(te),e(Y,{title:"Information sur le paiement",value:3}),e(te),e(Y,{title:"Conclusion",value:4,complete:a.value===!0,error:a.value===!1,subtitle:a.value===!1?"Charte à accepter":"",color:a.value===!0?"primary":a.value===!1?"red":""},null,8,["complete","error","subtitle","color"])]),_:1}),e(Re,{class:"mb-0"},{default:t(()=>[e(ee,{value:1},{default:t(()=>[e(Qt,{modelValue:s.Responsable,"onUpdate:modelValue":r[1]||(r[1]=N=>s.Responsable=N)},null,8,["modelValue"])]),_:1}),e(ee,{value:2},{default:t(()=>[e(ll,{"model-value":s.Participants||[],"onUpdate:modelValue":r[2]||(r[2]=N=>s.Participants=N),camps:n.data.Camps||[],responsable:s.Responsable,preselected:n.data.Settings.PreselectedCamp},null,8,["model-value","camps","responsable","preselected"])]),_:1}),e(ee,{value:3},{default:t(()=>[e(al,{settings:n.data.Settings},null,8,["settings"])]),_:1}),e(ee,{value:4},{default:t(()=>[e(nl,{"partage-adresse":s.PartageAdressesOK,"onUpdate:partageAdresse":r[3]||(r[3]=N=>s.PartageAdressesOK=N),mails:s.CopiesMails,"onUpdate:mails":r[4]||(r[4]=N=>s.CopiesMails=N),message:s.Message,"onUpdate:message":r[5]||(r[5]=N=>s.Message=N),charte:g.value,"onUpdate:charte":r[6]||(r[6]=N=>g.value=N),"fond-soutien":s.DemandeFondSoutien,"onUpdate:fondSoutien":r[7]||(r[7]=N=>s.DemandeFondSoutien=N),settings:n.data.Settings},null,8,["partage-adresse","mails","message","charte","fond-soutien","settings"])]),_:1})]),_:1}),e(Be,{"onClick:prev":B,"onClick:next":h},{next:t(()=>[o.value!=4?(y(),k(z,{key:0,onClick:h,variant:"text"},{default:t(()=>r[17]||(r[17]=[i("Suivant")])),_:2},1032,["onClick"])):(y(),k(z,{key:1,color:"green",variant:"outlined",onClick:I,disabled:!A.value||d.value},{prepend:t(()=>[e(ne,null,{default:t(()=>r[18]||(r[18]=[i("mdi-check")])),_:1})]),default:t(()=>[r[19]||(r[19]=i(" Valider mon inscription "))]),_:1},8,["disabled"]))]),_:2},1032,["onClick:prev","onClick:next"])]),_:1},8,["modelValue"])],64))}}),vl=W({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Ut(),...qt(),...Mt(),..._t(),...Nt(),...At({tag:"footer"}),...wt()},"VFooter"),fl=G()({name:"VFooter",props:vl(),setup(l,n){let{slots:s}=n;const o=q(),{themeClasses:u}=ft(l),{backgroundColorClasses:V,backgroundColorStyles:c}=Vt(ye(l,"color")),{borderClasses:b}=bt(l),{elevationClasses:m}=gt(l),{roundedClasses:a}=yt(l),P=St(32),{resizeRef:v}=Ct(g=>{g.length&&(P.value=g[0].target.clientHeight)}),x=S(()=>l.height==="auto"?P.value:parseInt(l.height,10));return xt(()=>l.app,()=>{const g=kt({id:l.name,order:S(()=>parseInt(l.order,10)),position:S(()=>"bottom"),layoutSize:x,elementSize:S(()=>l.height==="auto"?void 0:x.value),active:S(()=>l.app),absolute:ye(l,"absolute")});Pt(()=>{o.value=g.layoutItemStyles.value})}),K(()=>e(l.tag,{ref:v,class:["v-footer",u.value,V.value,b.value,m.value,a.value,l.class],style:[c.value,l.app?o.value:{height:It(l.height)},l.style]},s)),{}}}),Vl={key:0},bl={key:1},gl={key:2},yl=["innerHTML"],Sl=L({__name:"App",setup(l){const n=q(""),s=q("secondary"),o=q(""),u=q("");X.onError=(A,d)=>{o.value=A,u.value=d},X.showMessage=(A,d)=>{n.value=A,s.value=d||"success"};const V="/static/repere/logo.png",c="Repère",b="v0.1.0",m=q(null);Ae(a);async function a(){const A=new URLSearchParams(window.location.search),d=A.get("preselected")||"",U=A.get("preinscription")||"",I=await X.LoadData({preselected:d?Number(d):0,preinscription:U});I!==void 0&&(I.InitialInscription.Participants=I.InitialInscription.Participants||[],m.value=I)}const P=q(!0),v=q(""),x=q(null);async function g(){const A=await X.SearchHistory({mail:v.value});A!==void 0&&(x.value=A.MailFound)}return(A,d)=>(y(),k($t,null,{default:t(()=>[e(Dt,null,{default:t(()=>{var U;return[e(Bt,{rounded:"",elevation:"4",color:"primary"},{default:t(()=>[e(Ft,null,{default:t(()=>[e(M,null,{default:t(()=>[e(f,{"align-self":"center",cols:"auto"},{default:t(()=>[e(Rt,{width:"60",src:V})]),_:1}),e(f,{"align-self":"center"},{default:t(()=>d[5]||(d[5]=[i(" Bienvenue sur le Portail des inscriptions ! ")])),_:1})]),_:1})]),_:1})]),_:1}),e(Ne,{modelValue:P.value,"onUpdate:modelValue":d[2]||(d[2]=I=>P.value=I),"max-width":"600px"},{default:t(()=>[e(R,{title:"Inscription rapide"},{default:t(()=>[e(T,null,{default:t(()=>[x.value===null?(y(),O("div",Vl,[d[8]||(d[8]=i(" Vous avez déjà participé à un de nos séjours ? Pré-remplissez ce formulaire en fournissant votre adresse e-mail ! ")),e(M,{justify:"space-between",class:"my-2"},{default:t(()=>[e(f,{"align-self":"center"},{default:t(()=>[e(j,{variant:"outlined",density:"comfortable",label:"Mail","hide-details":"",modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=I=>v.value=I)},null,8,["modelValue"])]),_:1}),e(f,{"align-self":"center",cols:"auto"},{default:t(()=>[e(z,{color:"secondary",disabled:v.value.length<3,onClick:g},{prepend:t(()=>[e(ne,null,{default:t(()=>d[6]||(d[6]=[i("mdi-magnify")])),_:1})]),default:t(()=>[d[7]||(d[7]=i(" Rechercher"))]),_:1},8,["disabled"])]),_:1})]),_:1})])):x.value===!0?(y(),O("div",bl,[d[9]||(d[9]=i(" Votre adresse mail a bien été utilisée sur un de nos séjours. ")),d[10]||(d[10]=p("br",null,null,-1)),d[11]||(d[11]=i(" Afin de protéger vos données personnelles, un ")),d[12]||(d[12]=p("b",null,"lien sécurisé",-1)),i(" vous y a été envoyé ("+_(v.value)+"). ",1),d[13]||(d[13]=p("br",null,null,-1)),d[14]||(d[14]=p("br",null,null,-1)),d[15]||(d[15]=p("div",{class:"text-grey font-italic"}," Vous pouvez quitter cette page, vous y serez ramené par le lien. ",-1))])):x.value===!1?(y(),O("div",gl," Votre adresse n'a pas été trouvée. Aucun problème, vous pouvez reprendre l'inscription standard ! ")):$("",!0)]),_:1}),x.value===null?(y(),k(we,{key:0},{default:t(()=>[e(z,{onClick:d[1]||(d[1]=I=>P.value=!1)},{default:t(()=>d[16]||(d[16]=[i("Ignorer")])),_:1})]),_:1})):$("",!0)]),_:1})]),_:1},8,["modelValue"]),m.value==null?(y(),k(re,{key:0,style:{"min-height":"92%"}},{default:t(()=>[e(Tt,{type:"card"})]),_:1})):(U=m.value.Camps)!=null&&U.length?(y(),k(re,{key:2,class:"py-2",style:{"min-height":"92%"}},{default:t(()=>[e(cl,{data:m.value},null,8,["data"])]),_:1})):(y(),k(re,{key:1,class:"fill-height"},{default:t(()=>[e(Et,null,{default:t(()=>[e(F,{class:"text-center"},{default:t(()=>d[17]||(d[17]=[i(" Aucun camp n'est encore ouvert aux inscriptions. ")])),_:1})]),_:1})]),_:1})),e(fl,{color:"secondary"},{default:t(()=>[e(M,{"no-gutters":"",class:"my-1",justify:"space-between"},{default:t(()=>[e(f,null,{default:t(()=>[i(_(w(c))+" - ",1),d[18]||(d[18]=p("a",{href:"/cgu",class:"text-black"},"Mentions légales et CGU",-1))]),_:1}),e(f,{class:"text-right"},{default:t(()=>[i(_(b))]),_:1})]),_:1})]),_:1}),e(Se,{style:{"z-index":"10000"},app:"","model-value":n.value!="","onUpdate:modelValue":d[3]||(d[3]=I=>n.value=""),timeout:4e3,color:s.value,location:"bottom left","close-on-content-click":""},{default:t(()=>[i(_(n.value),1)]),_:1},8,["model-value","color"]),e(Se,{app:"","model-value":o.value!="","onUpdate:modelValue":d[4]||(d[4]=I=>o.value=""),timeout:4e3,color:"red"},{default:t(()=>[p("b",null,_(o.value),1),p("div",{innerHTML:u.value},null,8,yl)]),_:1},8,["model-value"])]}),_:1})]),_:1}))}}),Cl=Lt({locale:{locale:"fr",messages:{fr:zt}},theme:{defaultTheme:"light",themes:{light:{colors:jt}}}}),Te=Wt(Sl);Te.use(Cl);Te.mount("#app");
