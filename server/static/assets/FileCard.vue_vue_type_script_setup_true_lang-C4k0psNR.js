import{q as Q,s as X,C as Z,bV as ke,cd as Ie,H as O,r as z,c as m,O as I,u as ee,cB as H,b as u,c4 as te,K as Se,cC as Pe,S as we,D as le,cD as K,G as ze,J as Be,ce as De,m as V,F as $,A as Fe,R as ae,cE as Re,d as ne,aR as xe,f as ie,o as oe,w as v,Y as x,$ as G,e as A,t as Ae,n as J,bC as Te,k as _e,cm as $e}from"./VSnackbar--Whjvjaq.js";import{y as Ne,z as q,H as W,I as Oe,C as Me,J as Ue,k as je,g as Ee,b as Y,c as Le,V as He,e as Ke,f as Ge}from"./VTextarea-CO0IE_yp.js";const Je=X({id:String,interactive:Boolean,text:String,...Se(Pe({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),Ze=Q()({name:"VTooltip",props:Je(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:o}=c;const d=Z(e,"modelValue"),{scopeId:i}=ke(),l=Ie(),n=O(()=>e.id||`v-tooltip-${l}`),f=z(),h=m(()=>e.location.split(" ").length>1?e.location:e.location+" center"),S=m(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),s=O(()=>e.transition!=null?e.transition:d.value?"scale-transition":"fade-transition"),b=m(()=>I({"aria-describedby":n.value},e.activatorProps));return ee(()=>{const k=H.filterProps(e);return u(H,I({ref:f,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:n.value},k,{modelValue:d.value,"onUpdate:modelValue":p=>d.value=p,transition:s.value,absolute:!0,location:h.value,origin:S.value,persistent:!0,role:"tooltip",activatorProps:b.value,_disableGlobalStack:!0},i),{activator:o.activator,default:function(){var P;for(var p=arguments.length,B=new Array(p),C=0;C<p;C++)B[C]=arguments[C];return((P=o.default)==null?void 0:P.call(o,...B))??e.text}})}),te({},f)}}),qe=X({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...Me({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>le(e).every(c=>c!=null&&typeof c=="object")},...Oe({clearable:!0})},"VFileInput"),We=Q()({name:"VFileInput",inheritAttrs:!1,props:qe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,c){let{attrs:o,emit:d,slots:i}=c;const{t:l}=we(),n=Z(e,"modelValue",e.modelValue,t=>le(t),t=>!e.multiple&&Array.isArray(t)?t[0]:t),{isFocused:f,focus:h,blur:S}=Ne(e),s=m(()=>typeof e.showSize!="boolean"?e.showSize:void 0),b=m(()=>(n.value??[]).reduce((t,a)=>{let{size:g=0}=a;return t+g},0)),k=m(()=>K(b.value,s.value)),p=m(()=>(n.value??[]).map(t=>{const{name:a="",size:g=0}=t;return e.showSize?`${a} (${K(g,s.value)})`:a})),B=m(()=>{var a;const t=((a=n.value)==null?void 0:a.length)??0;return e.showSize?l(e.counterSizeString,t,k.value):l(e.counterString,t)}),C=z(),P=z(),r=z(),ue=O(()=>f.value||e.active),M=m(()=>["plain","underlined"].includes(e.variant)),D=ze(!1);function T(){var t;r.value!==document.activeElement&&((t=r.value)==null||t.focus()),f.value||h()}function se(t){var a;(a=r.value)==null||a.click()}function re(t){d("mousedown:control",t)}function ce(t){var a;(a=r.value)==null||a.click(),d("click:control",t)}function de(t){t.stopPropagation(),T(),ae(()=>{n.value=[],Re(e["onClick:clear"],t)})}function fe(t){t.preventDefault(),t.stopImmediatePropagation(),D.value=!0}function ve(t){t.preventDefault(),D.value=!1}function me(t){var g,F;if(t.preventDefault(),t.stopImmediatePropagation(),D.value=!1,!((F=(g=t.dataTransfer)==null?void 0:g.files)!=null&&F.length)||!r.value)return;const a=new DataTransfer;for(const U of t.dataTransfer.files)a.items.add(U);r.value.files=a.files,r.value.dispatchEvent(new Event("change",{bubbles:!0}))}return Be(n,t=>{(!Array.isArray(t)||!t.length)&&r.value&&(r.value.value="")}),ee(()=>{const t=!!(i.counter||e.counter),a=!!(t||i.details),[g,F]=De(o),{modelValue:U,...pe}=q.filterProps(e),ge=W.filterProps(e);return u(q,I({ref:C,modelValue:e.multiple?n.value:n.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":D.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":M.value},e.class],style:e.style,"onClick:prepend":se},g,pe,{centerAffix:!M.value,focused:f.value}),{...i,default:_=>{let{id:R,isDisabled:w,isDirty:j,isReadonly:E,isValid:ye}=_;return u(W,I({ref:P,"prepend-icon":e.prependIcon,onMousedown:re,onClick:ce,"onClick:clear":de,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},ge,{id:R.value,active:ue.value||j.value,dirty:j.value||e.dirty,disabled:w.value,focused:f.value,error:ye.value===!1,onDragover:fe,onDrop:me}),{...i,default:Ve=>{var L;let{props:{class:be,...Ce}}=Ve;return V($,null,[V("input",I({ref:r,type:"file",readonly:E.value,disabled:w.value,multiple:e.multiple,name:e.name,onClick:y=>{y.stopPropagation(),E.value&&y.preventDefault(),T()},onChange:y=>{if(!y.target)return;const he=y.target;n.value=[...he.files??[]]},onDragleave:ve,onFocus:T,onBlur:S},Ce,F),null),V("div",{class:Fe(be)},[!!((L=n.value)!=null&&L.length)&&!e.hideInput&&(i.selection?i.selection({fileNames:p.value,totalBytes:b.value,totalBytesReadable:k.value}):e.chips?p.value.map(y=>u(je,{key:y,size:"small",text:y},null)):p.value.join(", "))])])}})},details:a?_=>{var R,w;return V($,null,[(R=i.details)==null?void 0:R.call(i,_),t&&V($,null,[V("span",null,null),u(Ue,{active:!!((w=n.value)!=null&&w.length),value:B.value,disabled:e.disabled},i.counter)])])}:void 0})}),te({},C,P,r)}}),N=5e6,et=ne({__name:"FileInput",props:{label:{}},emits:["update"],setup(e,{expose:c,emit:o}){const d=e,i=o,l=z(null);function n(s){return s?s.size<=N||`Taille maximale : ${N/1e6}MB`:!0}function f(){l.value&&l.value.size>N||i("update",l.value)}c({openDialog:S});const h=xe("input");function S(){ae(()=>{var s;return(s=h.value)==null?void 0:s.click()})}return(s,b)=>(oe(),ie(We,{label:d.label,density:"comfortable",accept:".jpg,.jpeg,.png,.pdf",multiple:!1,modelValue:l.value,"onUpdate:modelValue":[b[0]||(b[0]=k=>l.value=k),f],rules:[n],"show-size":"",ref_key:"input",ref:h},null,8,["label","modelValue","rules"]))}}),Ye={class:"text-right ml-2"},tt=ne({__name:"FileCard",props:{file:{},readonly:{type:Boolean}},emits:["delete"],setup(e,{emit:c}){const o=e,d=c;return(i,l)=>(oe(),ie(Ee,null,{activator:v(({props:n})=>[u(Y,I({class:"my-2"},n),{default:v(()=>[u(_e,{cover:"",src:x($e)(o.file.Key),width:"56px"},null,8,["src"])]),_:2},1040)]),default:v(()=>[u(Y,null,{default:v(()=>[u(Le,{class:"px-0"},{default:v(()=>[u(He,{"min-width":"400",title:o.file.NomClient,subtitle:x(G).size(o.file.Taille)},{append:v(()=>[V("div",Ye,[l[1]||(l[1]=A(" téléversé le ")),l[2]||(l[2]=V("br",null,null,-1)),A(" "+Ae(x(G).time(o.file.Uploaded)),1)])]),_:1},8,["title","subtitle"])]),_:1}),u(Ke,null,{default:v(()=>[u(J,{onClick:l[0]||(l[0]=n=>d("delete")),color:"red"},{default:v(()=>l[3]||(l[3]=[A(" Supprimer ")])),_:1,__:[3]}),u(Ge),u(J,{href:x(Te)(o.file.Key)},{default:v(()=>l[4]||(l[4]=[A(" Télécharger ")])),_:1,__:[4]},8,["href"])]),_:1})]),_:1})]),_:1}))}});export{Ze as V,tt as _,et as a};
