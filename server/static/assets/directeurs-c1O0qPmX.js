import{q as QV,s as U2,x as Z2,b as Z,R as Id,l as on,N as oJ,b2 as nJ,d as Hr,k as jo,a as Jn,o as Mt,F as Sr,w as K,e as Ht,V as sJ,p as wo,_ as kr,f as rJ,g as Ka,h as An,i as aJ,t as la,r as iJ,j as kn,a9 as ku,m as lJ,c as Er,ax as cJ,aC as MC,a3 as dJ,af as nh,$ as Dl,Y as ns,b3 as JV,ah as uJ,b4 as mJ,C as BC,z as U1,am as gJ,an as fJ,ar as pJ,as as QE,B as hJ,y as RC,b5 as bJ,b6 as tR,aV as e$,b7 as xJ,a2 as Ds,b8 as bV,a0 as rR,aJ as t$,b9 as xV,ba as vJ,bb as yJ,aB as wJ,aX as jL,bc as Wb,bd as BL,be as _J,n as o$,u as n$,a4 as CJ,bf as s$,aI as kJ,bg as SJ,bh as oR,aN as vV,L as qb,bi as EJ,bj as AJ,bk as TJ,bl as DJ,bm as yV,av as aR,bn as JE,J as PL,bo as nR,ak as OJ,bp as RJ,bq as NJ,br as r$,bs as MJ,bt as VL,bu as iR,bv as $L,bw as sR,v as a$,bx as BJ,by as PJ,I as IJ,bz as LJ,bA as wV,bB as i$,bC as WL,bD as FJ,bE as zJ,bF as HJ,G as _V,W as VJ,bG as $J,aj as UJ,bH as ZJ,a7 as GE,U as jJ,bI as WJ,bJ as qJ,bK as GJ,bL as KJ,a1 as IL,ay as YJ,bM as XJ,aw as QJ,aY as JJ,aZ as eee,a_ as CV,a$ as tee,b0 as oee,b1 as nee}from"./VSnackbar-BIDVaiYL.js";import{V as see,u as eA,g as ree,j as aee,k as iee,_ as lee,h as cee,f as dee,d as uee,a as kV,m as mee,n as KE,q as gee,r as fee}from"./VSwitch-EDrnH9-W.js";import{e as lo,V as Ff,f as IC,i as l$,g as pee,b as c$,c as YE,d as XE,a as d$,_ as u$}from"./VTabs-4ygjv7tw.js";import{V as Ts,a as al,b as nr,c as Xs,d as V2,e as zf,f as Hf,i as Si,k as Gb,h as oh,j as Cu,m as hee,l as bee,n as LL,g as xee}from"./VTextarea-iANrb6Vp.js";import{V as PC,_ as qL,a as m$}from"./FileCard.vue_vue_type_script_setup_true_lang-liChz12-.js";import{V as SV}from"./VSlider-DO9IinDv.js";import"./VSheet-DMcoa77S.js";import"./filter-C0t48wCN.js";import"./VWindowItem-BhfMufIA.js";const vee=U2({...oJ(nJ({icon:"$menu",variant:"text"}),["spaced"])},"VAppBarNavIcon"),yee=QV()({name:"VAppBarNavIcon",props:vee(),setup(ne,fe){let{slots:Be}=fe;return Z2(()=>Z(on,Id(ne,{class:["v-app-bar-nav-icon"]}),Be)),{}}}),lR=Hr({__name:"NavBar",props:{title:{},hideMenu:{type:Boolean}},setup(ne){const fe=ne,Be="/static/repere/logo.png",Re="v0.5.0",Ye=jo(!1);return(De,ye)=>(Mt(),Jn(Sr,null,[Z(see,{app:"",modelValue:Ye.value,"onUpdate:modelValue":ye[0]||(ye[0]=Pe=>Ye.value=Pe),temporary:""},{default:K(()=>[Z(Ts,{title:"Registro - Portail des directeurs",subtitle:Re}),Z(al),Z(Ts,{"prepend-icon":"mdi-calendar-multiple-check",link:"",to:{path:"/inscriptions"},color:"primary"},{default:K(()=>[...ye[2]||(ye[2]=[Ht(" Inscriptions ",-1)])]),_:1}),Z(Ts,{"prepend-icon":"mdi-mail",link:"",to:{path:"/documents"},color:"primary"},{default:K(()=>[...ye[3]||(ye[3]=[Ht(" Documents ",-1)])]),_:1}),Z(al),Z(Ts,{"prepend-icon":"mdi-account",link:"",to:{path:"/equipiers"},color:"primary"},{default:K(()=>[...ye[4]||(ye[4]=[Ht(" Equipiers ",-1)])]),_:1}),Z(al),Z(al),Z(Ts,{"prepend-icon":"mdi-logout",link:"",to:{path:"/"},color:"primary"},{default:K(()=>[...ye[5]||(ye[5]=[Ht(" Se déconnecter ",-1)])]),_:1})]),_:1},8,["modelValue"]),Z(sJ,{rounded:"",elevation:"4",color:"secondary"},{append:K(()=>[iJ(De.$slots,"default"),ye[6]||(ye[6]=kn("div",{class:"mr-2"},null,-1))]),default:K(()=>[fe.hideMenu?kr("",!0):(Mt(),wo(yee,{key:0,onClick:ye[1]||(ye[1]=Pe=>Ye.value=!Ye.value)})),Z(rJ,null,{default:K(()=>[Z(Ka,null,{default:K(()=>[Z(An,{"align-self":"center",cols:"auto"},{default:K(()=>[Z(aJ,{width:"60",src:Be})]),_:1}),Z(An,{"align-self":"center"},{default:K(()=>[Ht(la(fe.title),1)]),_:1})]),_:1})]),_:1})]),_:3})],64))}}),wee=Hr({__name:"index",setup(ne){const fe=eA();ku(Re);const Be=jo([]);async function Re(){const ot=await lo.GetCamps();ot!==void 0&&(Be.value=ot||[])}const Ye=jo(0),De=jo(!1),ye=jo(""),Pe=jo([]);async function Qe(){const ot=Be.value.find(Zt=>Zt.Id==Ye.value);if(!ot)return;const Ot=await lo.Loggin({password:ye.value,idCamp:Ye.value});Ot!==void 0&&(Ot.IsValid?(lo.setCamp(ot,Ot.ComptaURL,Ot.Token),lo.showMessage("Bienvenue !"),fe.push({path:"/inscriptions"})):Pe.value=["Mot de passe incorrect."])}return(ot,Ot)=>{const Zt=ree;return Mt(),Jn(Sr,null,[Z(lR,{title:"Connection à la page Directeur","hide-menu":""}),Z(lJ,{class:"fill-height"},{default:K(()=>[Z(nr,{title:"Connection",class:"mx-auto",width:"400px"},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(Zt,{label:"Camp",modelValue:Ye.value,"onUpdate:modelValue":Ot[0]||(Ot[0]=kt=>Ye.value=kt),camps:Be.value,name:"user","default-style":""},null,8,["modelValue","camps"]),Z(V2,{class:"mt-2",label:"Mot de passe",modelValue:ye.value,"onUpdate:modelValue":[Ot[2]||(Ot[2]=kt=>ye.value=kt),Ot[3]||(Ot[3]=kt=>Pe.value=[])],"error-messages":Pe.value,type:De.value?void 0:"password",name:"password"},{"append-inner":K(()=>[Z(on,{class:"ml-2",size:"small",icon:De.value?"mdi-eye":"mdi-eye-off",flat:"",onClick:Ot[1]||(Ot[1]=kt=>De.value=!De.value)},null,8,["icon"])]),_:1},8,["modelValue","error-messages","type"])]),_:1}),Z(zf,null,{default:K(()=>[Z(Hf),Z(on,{disabled:!Ye.value||!ye.value.length,onClick:Qe},{default:K(()=>[...Ot[4]||(Ot[4]=[Ht("Se connecter",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}}),_ee={key:1,class:"text-center font-italic"},Cee={key:2},kee=Hr({__name:"PannelInscriptions",emits:["goTo"],setup(ne,{emit:fe}){const Be=fe,Re=jo(!1);ku(De);const Ye=jo([]);async function De(){Re.value=!0;const Ae=await lo.InscriptionsGet();Re.value=!1,Ae!==void 0&&(Ye.value=Ae||[])}const ye=jo(""),Pe=Er(()=>{const Ae=cJ(ye.value);return Ye.value.filter(nt=>MC.match(nt.Responsable,Ae)||nt.Participants?.some(zt=>MC.match(zt.Personne,Ae)||dJ.match(zt.Camp,Ae)))});function Qe(Ae){const nt=lo.camp.Id;return(Ae.Participants||[]).filter(zt=>zt.Camp.Id==nt).every(zt=>zt.Participant.Statut!=JV.AStatuer)}async function ot(Ae,nt){const zt=await lo.InscriptionsIdentifiePersonne({IdDossier:Ae,Target:nt});if(zt===void 0)return;lo.showMessage("Profil identifié avec succès.");const vt=Ye.value.findIndex(ge=>ge.Dossier.Id==Ae);Ye.value[vt]=zt}const Ot=jo(null);function Zt(Ae){return(Ae.Participants||[]).filter(nt=>nt.Camp.Id==lo.camp?.Id).map(nt=>nt.Participant.Id)}async function kt(Ae,nt){if(!Ot.value)return;const zt=Ot.value.inscription.Dossier.Id;Ot.value=null;const vt=await lo.InscriptionsValide({IdDossier:zt,Statuts:Ae,SendMail:nt});if(vt!==void 0)if(lo.showMessage("Inscription validée avec succès.","",{title:"Aller aux participants",action:()=>Be("goTo")}),vt.Dossier.IsValidated)Ye.value=Ye.value.filter(ge=>ge.Dossier.Id!=zt);else{const ge=Ye.value.findIndex(Le=>Le.Dossier.Id==zt);Ye.value[ge]=vt}}return(Ae,nt)=>{const zt=iee;return Mt(),wo(nr,{title:"Inscriptions",subtitle:"En attente de validation",class:"ma-2"},{append:K(()=>[Z(V2,{width:"300","append-inner-icon":"mdi-magnify",label:"Rechercher","hide-details":"",modelValue:ye.value,"onUpdate:modelValue":nt[0]||(nt[0]=vt=>ye.value=vt)},null,8,["modelValue"])]),default:K(()=>[Z(Xs,null,{default:K(()=>[Re.value?(Mt(),wo(nh,{key:0})):Ye.value.length?(Mt(),Jn("div",Cee,[(Mt(!0),Jn(Sr,null,Dl(Pe.value,(vt,ge)=>(Mt(),wo(aee,{class:"my-1",user:ns(lo).camp.Id,key:ge,inscription:vt,"hide-delete":"","already-validated":Qe(vt),onIdentifie:Le=>ot(vt.Dossier.Id,Le),onValide:Le=>Ot.value={inscription:vt,participants:Le===void 0?Zt(vt):[Le]},api:{SearchSimilaires:ns(lo).InscriptionsSearchSimilaires.bind(ns(lo)),SelectPersonne:ns(lo).SelectPersonne.bind(ns(lo))}},null,8,["user","inscription","already-validated","onIdentifie","onValide","api"]))),128))])):(Mt(),Jn("div",_ee," Il n'y a aucune inscription à valider. "))]),_:1}),Z(Si,{"model-value":Ot.value!=null,"onUpdate:modelValue":nt[1]||(nt[1]=vt=>Ot.value=null),"max-width":"800px"},{default:K(()=>[Ot.value?(Mt(),wo(zt,{key:0,inscription:Ot.value.inscription,"id-participants":Ot.value.participants,onValide:kt},null,8,["inscription","id-participants"])):kr("",!0)]),_:1},8,["model-value"])]),_:1})}}}),See=U2({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:ne=>["even","odd"].includes(ne)},...QE(),...pJ(),...fJ(),...gJ()},"VTable"),g$=QV()({name:"VTable",props:See(),setup(ne,fe){let{slots:Be,emit:Re}=fe;const{themeClasses:Ye}=uJ(ne),{densityClasses:De}=mJ(ne);return Z2(()=>{const ye={VCheckboxBtn:{density:ne.density}};return Z(ne.tag,{class:U1(["v-table",{"v-table--fixed-height":!!ne.height,"v-table--fixed-header":ne.fixedHeader,"v-table--fixed-footer":ne.fixedFooter,"v-table--has-top":!!Be.top,"v-table--has-bottom":!!Be.bottom,"v-table--hover":ne.hover,"v-table--striped-even":ne.striped==="even","v-table--striped-odd":ne.striped==="odd"},Ye.value,De.value,ne.class]),style:BC(ne.style)},{default:()=>[Be.top?.(),Z(hJ,{defaults:ye},{default:()=>[Be.default?kn("div",{class:"v-table__wrapper",style:{height:RC(ne.height)}},[kn("table",null,[Be.default()])]):Be.wrapper?.()]}),Be.bottom?.()]})}),{}}}),Eee=["title"],Aee={class:"py-2"},Tee={class:"px-2 text-center"},Dee={class:"px-2"},Oee={class:"px-2"},Ree={key:0,class:"mb-2"},Nee={class:"px-2"},Mee=Hr({__name:"FichesSanitairesPannel",setup(ne){ku(Be);const fe=jo(null);async function Be(){const Pe=await lo.ParticipantsGetFichesSanitaires();Pe!==void 0&&(fe.value=Pe||[])}function Re(Pe){switch(Pe.State){case tR.NoFiche:return"red";case tR.Outdated:return"orange";case tR.UpToDate:return Pe.Vaccins?.length?"green":"orange"}}function Ye(Pe){return Pe?.length?Pe.length==1?"1 vaccin":`${Pe.length} vaccins`:"Pas de vaccins"}function De(Pe){const Qe=[];return Pe.Allergies.Alimentaires&&Qe.push("alimentaires"),Pe.Allergies.Asthme&&Qe.push("asthme"),Pe.Allergies.Medicamenteuses&&Qe.push("médicamenteuses"),Pe.Allergies.Autres&&Qe.push("autres"),Qe.length?`Allergies : ${Qe.join(", ")}`:null}async function ye(Pe){const Qe=await lo.ParticipantsDownloadFicheSanitaire({idParticipant:Pe});Qe!==void 0&&(lo.showMessage("Fiche sanitaire téléchargée avec succès."),xJ(Qe.blob,Qe.filename))}return(Pe,Qe)=>fe.value!=null?(Mt(),wo(nr,{key:0,title:"Fiches sanitaires et vaccins","max-width":"1200px",class:"mx-auto"},{append:K(()=>[Z(oh,null,{activator:K(({props:ot})=>[Z(on,Id({icon:"mdi-download"},ot),null,16)]),default:K(()=>[Z(Cu,null,{default:K(()=>[Z(Ts,{title:"Fiches sanitaires",subtitle:"Document unique au format .pdf (sans les vaccins)"}),Z(Ts,{title:"Fiches et vaccins",subtitle:"Archive au format .zip",href:ns(IC).ParticipantsStreamFichesAndVaccins(ns(lo).authToken)},null,8,["href"])]),_:1})]),_:1})]),default:K(()=>[Z(Xs,null,{default:K(()=>[Z(g$,null,{default:K(()=>[(Mt(!0),Jn(Sr,null,Dl(fe.value,ot=>(Mt(),Jn("tr",{title:ot.Personne},[kn("td",Aee,la(ot.Personne),1),kn("td",Tee,[Z(Gb,{color:Re(ot)},{default:K(()=>[Ht(la(ns(bJ)[ot.State])+" - "+la(Ye(ot.Vaccins)),1)]),_:2},1032,["color"])]),kn("td",Dee,[ot.Fiche.TraitementMedical?(Mt(),wo(Gb,{key:0,"prepend-icon":"mdi-alert"},{default:K(()=>[...Qe[0]||(Qe[0]=[Ht(" Traitement ",-1)])]),_:1})):kr("",!0)]),kn("td",Oee,[De(ot.Fiche)!=null?(Mt(),wo(oh,{key:0},{activator:K(({props:Ot})=>[Z(Gb,Id({ref_for:!0},Ot,{"prepend-icon":"mdi-alert"}),{default:K(()=>[Ht(la(De(ot.Fiche)),1)]),_:2},1040)]),default:K(()=>[Z(nr,{subtitle:"Allergies et conduite à tenir"},{default:K(()=>[Z(Xs,null,{default:K(()=>[ot.Fiche.Allergies.Autres?(Mt(),Jn("div",Ree,la(ot.Fiche.Allergies.Autres),1)):kr("",!0),kn("div",null,la(ot.Fiche.Allergies.ConduiteATenir),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):kr("",!0)]),kn("td",Nee,[Z(oh,null,{activator:K(({props:Ot})=>[Z(on,Id({ref_for:!0},Ot,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:K(()=>[Z(Cu,null,{default:K(()=>[Z(Ts,{title:"Fiche sanitaire",subtitle:"Télécharger au format .pdf","prepend-icon":"mdi-download",onClick:Ot=>ye(ot.IdParticipant),disabled:ot.State==ns(tR).NoFiche},null,8,["onClick","disabled"]),Z(Ts,{title:"Vaccins",subtitle:"Télécharger au format .zip","prepend-icon":"mdi-download",disabled:!ot.Vaccins?.length},e$({_:2},[ot.Vaccins?.length?{name:"append",fn:K(()=>[Z(Ff,{inline:"",content:ot.Vaccins?.length},null,8,["content"])]),key:"0"}:void 0]),1032,["disabled"]),Z(al,{thickness:"1"}),Z(Ts,{title:"Relancer par mail","prepend-icon":"mdi-email"})]),_:2},1024)]),_:2},1024)])],8,Eee))),256))]),_:1})]),_:1})]),_:1})):(Mt(),wo(nh,{key:1,type:"card"}))}}),Bee=Hr({__name:"DocumentsUploadedBy",props:{personnes:{},uploadedBy:{}},setup(ne){const fe=ne,Be=Er(()=>new Set(fe.uploadedBy)),Re=Er(()=>Object.values(fe.personnes||{}).sort((Ye,De)=>MC.label(Ye).localeCompare(MC.label(De))));return(Ye,De)=>(Mt(),wo(nr,{subtitle:"Document fourni par"},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(Cu,null,{default:K(()=>[(Mt(!0),Jn(Sr,null,Dl(Re.value,ye=>(Mt(),wo(Ts,{title:ns(MC).label(ye)},{append:K(()=>[Z(Ds,{icon:Be.value.has(ye.Id)?"mdi-check":"mdi-close",color:Be.value.has(ye.Id)?"green":"red"},null,8,["icon","color"])]),_:2},1032,["title"]))),256))]),_:1})]),_:1})]),_:1}))}}),Pee=Hr({__name:"DocumentsPannel",setup(ne){ku(Be);const fe=jo(null);async function Be(){const Ye=await lo.DocumentsGetUploaded();Ye!==void 0&&(fe.value=Ye||[])}function Re(Ye){const De=Ye?.length||0,ye=Object.values(fe.value?.Personnes||{}).length;return De==ye?"green":De==0?"red":"orange"}return(Ye,De)=>fe.value!=null?(Mt(),wo(nr,{key:0,title:"Documents à récupérer",subtitle:"Documents déposés  sur les espaces de suivi"},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(Cu,null,{default:K(()=>[(Mt(!0),Jn(Sr,null,Dl(fe.value.DemandesDocuments,ye=>(Mt(),wo(Ts,{title:ye.Demande.Description},{prepend:K(()=>[Z(oh,null,{activator:K(({props:Pe})=>[Z(Gb,Id({elevation:"1"},{ref_for:!0},Pe,{color:Re(ye.UploadedBy),class:"mr-4"}),{default:K(()=>[Ht(la(ye.UploadedBy?.length||0)+" / "+la(Object.values(fe.value.Personnes||{}).length),1)]),_:2},1040,["color"])]),default:K(()=>[Z(Bee,{personnes:fe.value.Personnes,"uploaded-by":ye.UploadedBy||[]},null,8,["personnes","uploaded-by"])]),_:2},1024)]),append:K(()=>[Z(on,{icon:"mdi-download",size:"small",href:ns(IC).DocumentsStreamUploaded(ye.Demande.Id,ns(lo).authToken)},null,8,["href"])]),_:2},1032,["title"]))),256))]),_:1})]),_:1})]),_:1})):(Mt(),wo(nh,{key:1,type:"card"}))}}),EV=Hr({__name:"MessageRow",props:{message:{},showReply:{type:Boolean}},emits:["setSeen","startReply"],setup(ne,{emit:fe}){const Be=ne,Re=fe,Ye=Er(()=>l$(Be.message)),De=Er(()=>pee(Be.message)),ye=Er(()=>{const Pe=Be.message.Content.Message.Origine;return Pe==bV.Backoffice||Pe==bV.FondSoutien});return(Pe,Qe)=>(Mt(),wo(Ka,{class:"my-1"},{default:K(()=>[Z(An,{"align-self":"center",cols:"1",class:"text-center"},{default:K(()=>[De.value?kr("",!0):(Mt(),wo(PC,{key:0,text:Ye.value?"Marquer comme lu":"Marquer comme non lu",location:"left"},{activator:K(({props:ot})=>[Z(on,Id(ot,{size:"small",icon:"",flat:"",onClick:Qe[0]||(Qe[0]=Ot=>Re("setSeen",Ye.value))}),{default:K(()=>[Z(Ds,{color:Ye.value?"pink":"",icon:Ye.value?"mdi-message-badge":"mdi-message-check"},null,8,["color","icon"])]),_:1},16)]),_:1},8,["text"]))]),_:1}),Z(An,{"align-self":"center",class:U1({"rounded-lg":!0,"font-weight-bold":Ye.value,"bg-purple-lighten-4":De.value,"bg-green-lighten-4":ye.value,"bg-blue-lighten-4":!(De.value||ye.value)})},{default:K(()=>[kn("pre",null,la(Be.message.Content.Message.Contenu),1)]),_:1},8,["class"]),Be.showReply?(Mt(),wo(An,{key:0,"align-self":"center",cols:"auto"},{default:K(()=>[Z(on,{icon:"",size:"small",onClick:Qe[1]||(Qe[1]=ot=>Re("startReply"))},{default:K(()=>[Z(Ds,null,{default:K(()=>[...Qe[2]||(Qe[2]=[Ht("mdi-reply",-1)])]),_:1})]),_:1})]),_:1})):kr("",!0),Z(An,{"align-self":"center",cols:"2",class:"text-grey"},{default:K(()=>[Ht(la(ns(rR).time(Be.message.Event.Created)),1)]),_:1})]),_:1}))}}),Iee=Hr({__name:"MessagesPannel",setup(ne){ku(ye);const fe=jo(0),Be=jo(!1),Re=Er(()=>(De.value?.Messages||[]).filter(Zt=>!Be.value||l$(Zt))),Ye=Er(()=>{const Zt=new Map;for(const kt of Re.value)Zt.set(kt.Event.IdDossier,(Zt.get(kt.Event.IdDossier)||[]).concat(kt));return Array.from(Zt.entries()).map(kt=>({IdDossier:kt[0],Dossier:(De.value?.Dossiers||{})[kt[0]],Messages:kt[1].reverse()})).sort((kt,Ae)=>kt.Dossier.Responsable.localeCompare(Ae.Dossier.Responsable))}),De=jo(null);async function ye(){const Zt=await lo.ParticipantsMessagesLoad();Zt!==void 0&&(De.value=Zt||[])}async function Pe(Zt,kt){if(!De.value)return;const Ae=await lo.ParticipantsMessageSetSeen({idEvent:Zt,seen:kt});if(Ae===void 0)return;const nt=De.value.Messages?.findIndex(zt=>zt.Event.Id==Zt);De.value.Messages[nt]=Ae,lo.showMessage(kt?"Message marqué comme lu.":"Message marqué comme non lu.")}const Qe=jo(null),ot=jo("");async function Ot(){const Zt=Qe.value;if(!De.value||!Zt)return;Qe.value=null;const kt=await lo.ParticipantsMessagesCreate({Contenu:ot.value,IdDossier:Zt});kt!==void 0&&(lo.showMessage("Message envoyé avec succès."),De.value.Messages=[kt].concat(De.value.Messages||[]))}return(Zt,kt)=>De.value!=null?(Mt(),wo(nr,{key:0,title:"Messages des familles"},{append:K(()=>[Z(t$,{color:"secondary",class:"mx-1",modelValue:fe.value,"onUpdate:modelValue":kt[0]||(kt[0]=Ae=>fe.value=Ae),rounded:""},{default:K(()=>[Z(on,{size:"small"},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...kt[4]||(kt[4]=[Ht("mdi-clock",-1)])]),_:1})]),default:K(()=>[kt[5]||(kt[5]=Ht(" Trier par date",-1))]),_:1}),Z(on,{size:"small"},{append:K(()=>[Z(Ds,null,{default:K(()=>[...kt[6]||(kt[6]=[Ht("mdi-account",-1)])]),_:1})]),default:K(()=>[kt[7]||(kt[7]=Ht(" Trier par inscrit",-1))]),_:1})]),_:1},8,["modelValue"]),Z(al,{vertical:"",thickness:"1",class:"mx-1"}),Z(on,{icon:"",size:"small",class:"mx-1",variant:Be.value?"tonal":"elevated",onClick:kt[1]||(kt[1]=Ae=>Be.value=!Be.value)},{default:K(()=>[Z(Ds,{color:"pink"},{default:K(()=>[...kt[8]||(kt[8]=[Ht("mdi-message-badge",-1)])]),_:1}),Z(PC,{activator:"parent"},{default:K(()=>[...kt[9]||(kt[9]=[Ht(" Filtrer les messages non lu ",-1)])]),_:1})]),_:1},8,["variant"])]),default:K(()=>[fe.value==0?(Mt(),wo(Xs,{key:0},{default:K(()=>[(Mt(!0),Jn(Sr,null,Dl(Re.value,Ae=>(Mt(),wo(EV,{message:Ae,onSetSeen:nt=>Pe(Ae.Event.Id,nt),onStartReply:nt=>Qe.value=Ae.Event.IdDossier,"show-reply":!0},null,8,["message","onSetSeen","onStartReply"]))),256))]),_:1})):(Mt(),wo(Xs,{key:1},{default:K(()=>[(Mt(!0),Jn(Sr,null,Dl(Ye.value,Ae=>(Mt(),wo(nr,{title:Ae.Dossier.Responsable,subtitle:(Ae.Dossier.Participants||[]).join(", "),class:"my-2"},{append:K(()=>[Z(on,{size:"small",onClick:nt=>Qe.value=Ae.IdDossier},{prepend:K(()=>[Z(Ds,{icon:"mdi-reply"})]),default:K(()=>[kt[10]||(kt[10]=Ht(" Répondre",-1))]),_:1},8,["onClick"])]),default:K(()=>[Z(Xs,null,{default:K(()=>[(Mt(!0),Jn(Sr,null,Dl(Ae.Messages,nt=>(Mt(),wo(EV,{message:nt,onSetSeen:zt=>Pe(nt.Event.Id,zt),onStartReply:zt=>Qe.value=nt.Event.IdDossier,"show-reply":!1},null,8,["message","onSetSeen","onStartReply"]))),256))]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})),Z(Si,{"model-value":Qe.value!==null,"onUpdate:modelValue":kt[3]||(kt[3]=Ae=>Qe.value=null),"max-width":"600px"},{default:K(()=>[Qe.value?(Mt(),wo(nr,{key:0,title:"Nouveau message",subtitle:(De.value.Dossiers||{})[Qe.value].Responsable},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(hee,{autofocus:"",placeholder:"Rédigez votre message...",modelValue:ot.value,"onUpdate:modelValue":kt[2]||(kt[2]=Ae=>ot.value=Ae),rows:"10"},null,8,["modelValue"])]),_:1}),Z(zf,null,{default:K(()=>[Z(Hf),Z(on,{disabled:!ot.value.length,onClick:Ot},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...kt[11]||(kt[11]=[Ht("mdi-send",-1)])]),_:1})]),default:K(()=>[kt[12]||(kt[12]=Ht(" Envoyer",-1))]),_:1},8,["disabled"])]),_:1})]),_:1},8,["subtitle"])):kr("",!0)]),_:1},8,["model-value"])]),_:1})):(Mt(),wo(nh,{key:1,type:"card"}))}}),Lee=Hr({__name:"StatistiquesCard",props:{participants:{}},setup(ne){const fe=ne,Be=Er(()=>fe.participants.filter(Re=>Re.Participant.Statut==JV.Inscrit));return(Re,Ye)=>(Mt(),wo(nr,{subtitle:"Statistiques",width:"300px"},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(Ka,{class:"my-1","no-gutters":"",justify:"space-between"},{default:K(()=>[Z(An,null,{default:K(()=>[...Ye[0]||(Ye[0]=[Ht(" Inscrits ",-1)])]),_:1}),Z(An,{cols:"auto"},{default:K(()=>[Z(Ff,{color:"secondary",inline:"",content:Be.value.length},null,8,["content"])]),_:1})]),_:1}),Z(Ka,{class:"my-1","no-gutters":"",justify:"space-between"},{default:K(()=>[Z(An,null,{default:K(()=>[...Ye[1]||(Ye[1]=[Ht(" Garçons/Filles ",-1)])]),_:1}),Z(An,{cols:"auto"},{default:K(()=>[Z(Ff,{color:"secondary",inline:"",content:`${Be.value.filter(De=>De.Personne.Sexe==ns(xV).Man).length} /  ${Be.value.filter(De=>De.Personne.Sexe==ns(xV).Woman).length}`},null,8,["content"])]),_:1})]),_:1}),Z(Ka,{class:"my-1","no-gutters":"",justify:"space-between"},{default:K(()=>[Z(An,null,{default:K(()=>[...Ye[2]||(Ye[2]=[Ht(" Anniversaires ",-1)])]),_:1}),Z(An,{cols:"auto"},{default:K(()=>[Z(Ff,{color:"amber-lighten-1",inline:"",content:Be.value.filter(De=>De.HasBirthday).length},null,8,["content"])]),_:1})]),_:1}),Z(al,{thickness:"1"}),Z(Ka,{class:"my-1","no-gutters":"",justify:"space-between"},{default:K(()=>[Z(An,null,{default:K(()=>[...Ye[3]||(Ye[3]=[Ht(" Liste d'attente ",-1)])]),_:1}),Z(An,{cols:"auto"},{default:K(()=>[Z(Ff,{color:"orange",inline:"",content:fe.participants.length-Be.value.length},null,8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Fee=Hr({__name:"ReglementCard",props:{data:{}},setup(ne){const fe=ne;function Be(Ye){return(fe.data.Dossiers||{})[Ye.Participant.IdDossier]}const Re=Er(()=>(fe.data.Participants||[]).filter(Ye=>Be(Ye).Reglement==vJ.Complet).length);return(Ye,De)=>(Mt(),wo(nr,{title:"Suivi du règlement",subtitle:`${Re.value} / ${fe.data.Participants?.length||0} complet`},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(Cu,null,{default:K(()=>[(Mt(!0),Jn(Sr,null,Dl(ne.data.Participants,ye=>(Mt(),wo(Ts,{title:ns(MC).NOMPrenom(ye.Personne),subtitle:Be(ye).Responsable},{append:K(()=>[Z(Gb,{"prepend-icon":"mdi-currency-eur",color:ns(rR).colorStatutPaiement(Be(ye).Reglement)},{default:K(()=>[Ht(la(ns(yJ)[Be(ye).Reglement]),1)]),_:2},1032,["color"])]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1},8,["subtitle"]))}}),zee={key:1},Hee={key:0,class:"text-center font-italic mt-4"},Vee=Hr({__name:"PannelParticipants",setup(ne,{expose:fe}){ku(()=>{Qe(),Ye()}),fe({loadParticipants:Qe});const Be=jo(!1),Re=jo([]);async function Ye(){const zt=await lo.GetCamps();zt!==void 0&&(Re.value=zt||[])}const De=jo(!1),ye=Er(()=>{const zt=(Pe.value?.Participants||[]).map(vt=>vt);return zt.sort((vt,ge)=>wJ.cmp(vt,ge,De.value)),zt}),Pe=jo(null);async function Qe(){Be.value=!0;const zt=await lo.ParticipantsGet();Be.value=!1,zt!==void 0&&(Pe.value=zt)}const ot=jo(null);async function Ot(zt){if(ot.value==null||Pe.value==null)return;const vt=await lo.ParticipantsUpdate(zt);ot.value=null,vt!==void 0&&(lo.showMessage("Participant modifié avec succès."),Qe())}const Zt=jo(!1),kt=jo(!1),Ae=jo(!1),nt=jo(!1);return(zt,vt)=>{const ge=lee,Le=cee,Ge=dee;return Pe.value!=null?(Mt(),wo(nr,{key:0},{title:K(()=>[Z(on,{flat:"",icon:""},{default:K(()=>[Z(Ds,null,{default:K(()=>[...vt[10]||(vt[10]=[Ht("mdi-information",-1)])]),_:1}),Z(PC,{activator:"parent","content-class":"ma-0 pa-0"},{default:K(()=>[Z(Lee,{participants:Pe.value.Participants||[]},null,8,["participants"])]),_:1})]),_:1}),vt[11]||(vt[11]=Ht(" Participants ",-1))]),append:K(()=>[Z(on,{onClick:vt[0]||(vt[0]=oe=>Ae.value=!0),class:"mx-1"},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...vt[12]||(vt[12]=[Ht("mdi-email",-1)])]),_:1})]),default:K(()=>[vt[13]||(vt[13]=Ht(" Messages",-1))]),_:1}),Z(al,{thickness:"1",vertical:"",class:"mx-1"}),Z(on,{onClick:vt[1]||(vt[1]=oe=>kt.value=!0),class:"mx-1"},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...vt[14]||(vt[14]=[Ht("mdi-folder",-1)])]),_:1})]),default:K(()=>[vt[15]||(vt[15]=Ht(" Documents",-1))]),_:1}),Z(on,{onClick:vt[2]||(vt[2]=oe=>Zt.value=!0),class:"mx-1"},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...vt[16]||(vt[16]=[Ht("mdi-pill",-1)])]),_:1})]),default:K(()=>[vt[17]||(vt[17]=Ht(" Fiches sanitaires",-1))]),_:1}),Z(al,{thickness:"1",vertical:"",class:"mx-1"}),Z(on,{icon:"",flat:""},{default:K(()=>[Z(Ds,null,{default:K(()=>[...vt[18]||(vt[18]=[Ht("mdi-dots-vertical",-1)])]),_:1}),Z(oh,{activator:"parent"},{default:K(()=>[Z(Cu,{density:"compact"},{default:K(()=>[Z(Ts,{title:"Trier par moment d'inscription",onClick:vt[3]||(vt[3]=oe=>De.value=!De.value),"prepend-icon":"mdi-sort-calendar-ascending","append-icon":De.value?"mdi-check":""},null,8,["append-icon"]),Z(al,{thickness:"1"}),Z(Ts,{"prepend-icon":"mdi-file-excel",title:"Exporter",subtitle:"au format Excel",link:"",href:ns(IC).ParticipantsDownloadListe(ns(lo).authToken)},null,8,["href"]),Z(al,{thickness:"1"}),Z(Ts,{"prepend-icon":"mdi-currency-eur",title:"Suivi du règlement",onClick:vt[4]||(vt[4]=oe=>nt.value=!0)})]),_:1})]),_:1})]),_:1})]),default:K(()=>[Z(Xs,{class:"mt-4"},{default:K(()=>[Be.value?(Mt(),wo(nh,{key:0,type:"table"})):(Mt(),Jn("div",zee,[Z(ge),ye.value.length?kr("",!0):(Mt(),Jn("div",Hee," Aucun participant n'est encore inscrit sur ce séjour. ")),(Mt(!0),Jn(Sr,null,Dl(ye.value,(oe,yt)=>(Mt(),wo(Le,{participant:oe,index:yt},{actions:K(()=>[Z(Cu,{density:"comfortable"},{default:K(()=>[Z(Ts,{title:"Modifier","prepend-icon":"mdi-pencil",onClick:ue=>ot.value=oe},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["participant","index"]))),256))]))]),_:1}),ot.value!=null?(Mt(),wo(Si,{key:0,"model-value":ot.value!=null,"onUpdate:modelValue":vt[5]||(vt[5]=oe=>ot.value=null),"max-width":"800px"},{default:K(()=>[Z(Ge,{participant:ot.value.Participant,personne:ot.value.Personne,api:{SelectPersonne:ns(lo).SelectPersonne.bind(ns(lo))},"hide-personne-dossier":"","readonly-statut":"",onSave:Ot},null,8,["participant","personne","api"])]),_:1},8,["model-value"])):kr("",!0),Z(Si,{modelValue:Zt.value,"onUpdate:modelValue":vt[6]||(vt[6]=oe=>Zt.value=oe)},{default:K(()=>[Z(Mee)]),_:1},8,["modelValue"]),Z(Si,{modelValue:kt.value,"onUpdate:modelValue":vt[7]||(vt[7]=oe=>kt.value=oe),"max-width":"800px"},{default:K(()=>[Z(Pee)]),_:1},8,["modelValue"]),Z(Si,{modelValue:Ae.value,"onUpdate:modelValue":vt[8]||(vt[8]=oe=>Ae.value=oe),"max-width":"1200px"},{default:K(()=>[Z(Iee)]),_:1},8,["modelValue"]),Z(Si,{modelValue:nt.value,"onUpdate:modelValue":vt[9]||(vt[9]=oe=>nt.value=oe),"max-width":"700px"},{default:K(()=>[Z(Fee,{data:Pe.value},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})):(Mt(),wo(nh,{key:1,type:"card"}))}}}),$ee=Hr({__name:"inscriptions",setup(ne){const fe=eA(),Be=Er(()=>_oe(fe.currentRoute.value.query));ku(async()=>{const ye=await lo.InscriptionsGet();ye!==void 0&&(ye?.length||De("participants"))});const Re=Er(()=>Be.value.tab||"insc"),Ye=jL("participants");function De(ye){const Pe=fe.currentRoute.value;fe.push({path:Pe.path,query:{tab:ye}}),ye=="participants"&&Ye.value?.loadParticipants()}return(ye,Pe)=>(Mt(),Jn(Sr,null,[Z(lR,{title:`${ns(lo).camp?.Label} - Suivi des inscriptions`},{default:K(()=>[Z(c$,{"model-value":Re.value,"onUpdate:modelValue":Pe[0]||(Pe[0]=Qe=>De(Qe))},{default:K(()=>[Z(YE,{value:"insc"},{default:K(()=>[...Pe[2]||(Pe[2]=[Ht("Inscriptions en attente",-1)])]),_:1}),Z(YE,{value:"participants"},{default:K(()=>[...Pe[3]||(Pe[3]=[Ht("Liste des participants",-1)])]),_:1})]),_:1},8,["model-value"])]),_:1},8,["title"]),Z(d$,{"model-value":Re.value},{default:K(()=>[Z(XE,{value:"insc"},{default:K(()=>[Z(kee,{onGoTo:Pe[1]||(Pe[1]=()=>De("participants"))})]),_:1}),Z(XE,{value:"participants"},{default:K(()=>[Z(Vee,{ref_key:"participants",ref:Ye},null,512)]),_:1})]),_:1},8,["model-value"])],64))}}),Uee=Hr({__name:"DemandeChip",props:{demande:{}},emits:["updateState"],setup(ne,{emit:fe}){const Be=ne,Re=fe,Ye=Er(()=>{const De=!!Be.demande.Files?.length;switch(Be.demande.State){case Wb.NonDemande:return;case Wb.Optionnelle:return De?"green":"yellow-darken-2";case Wb.Obligatoire:return De?"green":"red"}});return(De,ye)=>{const Pe=qL;return Mt(),wo(oh,null,{activator:K(({props:Qe})=>[Z(Gb,Id(Qe,{color:Ye.value,class:"my-1",size:"small"}),{default:K(()=>[Ht(la(ns(BL)[Be.demande.State]),1)]),_:1},16,["color"])]),default:K(()=>[Z(nr,{title:"Documents"},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(t$,{mandatory:"","model-value":Be.demande.State,"onUpdate:modelValue":ye[0]||(ye[0]=Qe=>Re("updateState",Qe))},{default:K(()=>[Z(on,{value:ns(Wb).NonDemande},{default:K(()=>[...ye[1]||(ye[1]=[Ht("Non requis",-1)])]),_:1},8,["value"]),Z(on,{value:ns(Wb).Optionnelle},{default:K(()=>[Ht(la(ns(BL)[ns(Wb).Optionnelle]),1)]),_:1},8,["value"]),Z(on,{value:ns(Wb).Obligatoire},{default:K(()=>[Ht(la(ns(BL)[ns(Wb).Obligatoire]),1)]),_:1},8,["value"])]),_:1},8,["model-value"]),Be.demande.Files?.length?(Mt(),Jn(Sr,{key:0},[Z(al,{thickness:"2",class:"mt-2"}),Z(Ka,null,{default:K(()=>[(Mt(!0),Jn(Sr,null,Dl(Be.demande.Files,Qe=>(Mt(),wo(An,{cols:"4"},{default:K(()=>[Z(Pe,{file:Qe},null,8,["file"])]),_:2},1024))),256))]),_:1})],64)):kr("",!0)]),_:1})]),_:1})]),_:1})}}}),Zee={key:1},jee={class:"text-left"},Wee=Hr({__name:"DocumentsTable",props:{equipiers:{}},setup(ne){const fe=ne;ku(Ye);const Be=jo([]),Re=jo([]);async function Ye(){const Qe=await lo.EquipiersDemandesGet();Qe!==void 0&&(Be.value=Qe.Demandes||[],Re.value=Qe.Equipiers||[])}function De(Qe,ot){return Re.value.find(Ot=>Ot.Key.IdDemande==ot&&Ot.Key.IdEquipier==Qe)}async function ye(Qe,ot,Ot){await lo.EquipiersDemandeSet({IdEquipier:Qe,IdDemande:ot,State:Ot})!==void 0&&(lo.showMessage("Demande modifiée avec succès."),De(Qe,ot).State=Ot)}const Pe=Er(()=>IC.EquipiersDownloadFiles(lo.authToken));return(Qe,ot)=>(Mt(),wo(nr,{title:"Documents de l'équipe",subtitle:"Demandes et fichiers déposés par l'équipe"},{append:K(()=>[Z(on,{href:Pe.value},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...ot[0]||(ot[0]=[Ht("mdi-download",-1)])]),_:1})]),default:K(()=>[ot[1]||(ot[1]=Ht(" Télécharger",-1))]),_:1},8,["href"])]),default:K(()=>[Z(Xs,{class:"mt-4"},{default:K(()=>[Be.value?(Mt(),Jn("div",Zee,[Z(g$,{class:"text-center"},{default:K(()=>[kn("tr",null,[ot[2]||(ot[2]=kn("td",null,null,-1)),(Mt(!0),Jn(Sr,null,Dl(Be.value,Ot=>(Mt(),Jn("td",null,la(ns(_J)[Ot.Categorie]),1))),256))]),(Mt(!0),Jn(Sr,null,Dl(fe.equipiers,(Ot,Zt)=>(Mt(),Jn("tr",{class:U1(Zt%2==0?"bg-grey-lighten-4 rounded":"")},[kn("td",jee,la(Ot.Personne),1),(Mt(!0),Jn(Sr,null,Dl(Be.value,kt=>(Mt(),Jn("td",null,[Z(Uee,{demande:De(Ot.Equipier.Id,kt.Id),onUpdateState:Ae=>ye(Ot.Equipier.Id,kt.Id,Ae)},null,8,["demande","onUpdateState"])]))),256))],2))),256))]),_:1})])):(Mt(),wo(nh,{key:0,type:"table"}))]),_:1})]),_:1}))}}),qee=Hr({__name:"RolesField",props:o$({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(ne){const fe=ne,Be=n$(ne,"modelValue"),Re=CJ(s$);return(Ye,De)=>(Mt(),wo(bee,{chips:"","closable-chips":"",label:"Rôles",variant:"outlined",density:"compact","hide-details":"",items:ns(Re),readonly:fe.readonly,multiple:"",modelValue:Be.value,"onUpdate:modelValue":De[0]||(De[0]=ye=>Be.value=ye)},null,8,["items","readonly","modelValue"]))}}),Gee=Hr({__name:"AddEquipierCard",emits:["create"],setup(ne,{emit:fe}){const Be=fe,Re=jo({CreatePersonne:!1,IdPersonne:0,Nom:"",Prenom:"",Mail:"",Roles:[]}),Ye=Er(()=>!!((Re.value.CreatePersonne?Re.value.Nom&&Re.value.Prenom&&Re.value.Mail:Re.value.IdPersonne)&&Re.value.Roles?.length));return(De,ye)=>{const Pe=uee;return Mt(),wo(nr,{title:"Ajouter un équipier",subtitle:"Sélectionner un profil existant ou créer un nouveau."},{default:K(()=>[Z(Xs,{class:"mt-4"},{default:K(()=>[Z(Ka,null,{default:K(()=>[Z(An,{"align-self":"center"},{default:K(()=>[Re.value.CreatePersonne?(Mt(),wo(Ka,{key:1},{default:K(()=>[Z(An,null,{default:K(()=>[Z(V2,{autofocus:"","hide-details":"",label:"Nom",density:"compact",variant:"outlined",modelValue:Re.value.Nom,"onUpdate:modelValue":ye[1]||(ye[1]=Qe=>Re.value.Nom=Qe)},null,8,["modelValue"])]),_:1}),Z(An,null,{default:K(()=>[Z(V2,{"hide-details":"",label:"Prénom",density:"compact",variant:"outlined",modelValue:Re.value.Prenom,"onUpdate:modelValue":ye[2]||(ye[2]=Qe=>Re.value.Prenom=Qe)},null,8,["modelValue"])]),_:1}),Z(An,{cols:"12"},{default:K(()=>[Z(V2,{variant:"outlined",density:"compact",modelValue:Re.value.Mail,"onUpdate:modelValue":ye[3]||(ye[3]=Qe=>Re.value.Mail=Qe),label:"Adresse mail",type:"email",rules:[ns(kJ).required("Une adresse mail est nécessaire pour inviter l'équipier.")]},null,8,["modelValue","rules"])]),_:1})]),_:1})):(Mt(),wo(Pe,{key:0,label:"Personne",modelValue:Re.value.IdPersonne,"onUpdate:modelValue":ye[0]||(ye[0]=Qe=>Re.value.IdPersonne=Qe),"initial-personne":"",api:{SelectPersonne:ns(lo).SelectPersonne.bind(ns(lo))}},null,8,["modelValue","api"]))]),_:1}),Z(An,{cols:"auto"},{default:K(()=>[Z(al,{thickness:"2",vertical:"",class:"py-2"},{default:K(()=>[...ye[7]||(ye[7]=[Ht("ou",-1)])]),_:1})]),_:1}),Z(An,{cols:"auto","align-self":"center"},{default:K(()=>[Z(on,{onClick:ye[4]||(ye[4]=Qe=>Re.value.CreatePersonne=!Re.value.CreatePersonne)},{default:K(()=>[Ht(la(Re.value.CreatePersonne?"Sélectionner":"Créer"),1)]),_:1})]),_:1})]),_:1}),Z(Ka,null,{default:K(()=>[Z(An,null,{default:K(()=>[Z(qee,{modelValue:Re.value.Roles,"onUpdate:modelValue":ye[5]||(ye[5]=Qe=>Re.value.Roles=Qe)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Z(zf,null,{default:K(()=>[Z(Hf),Z(on,{disabled:!Ye.value,onClick:ye[6]||(ye[6]=Qe=>Be("create",Re.value))},{default:K(()=>[...ye[8]||(ye[8]=[Ht("Ajouter",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})}}}),Kee=Hr({__name:"StatistiquesCard",props:{equipiers:{}},setup(ne){const fe=ne;return(Be,Re)=>(Mt(),wo(nr,{subtitle:"Statistiques",width:"300px"},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(Ka,{class:"my-1","no-gutters":"",justify:"space-between"},{default:K(()=>[Z(An,null,{default:K(()=>[...Re[0]||(Re[0]=[Ht(" Equipiers ",-1)])]),_:1}),Z(An,{cols:"auto"},{default:K(()=>[Z(Ff,{color:"secondary",inline:"",content:fe.equipiers.length},null,8,["content"])]),_:1})]),_:1}),Z(Ka,{class:"my-1","no-gutters":"",justify:"space-between"},{default:K(()=>[Z(An,null,{default:K(()=>[...Re[1]||(Re[1]=[Ht(" Animateurs ",-1)])]),_:1}),Z(An,{cols:"auto"},{default:K(()=>[Z(Ff,{color:"secondary",inline:"",content:fe.equipiers.filter(Ye=>Ye.IsAnimateur).length},null,8,["content"])]),_:1})]),_:1}),Z(Ka,{class:"my-1","no-gutters":"",justify:"space-between"},{default:K(()=>[Z(An,null,{default:K(()=>[...Re[2]||(Re[2]=[Ht(" Au pair ",-1)])]),_:1}),Z(An,{cols:"auto"},{default:K(()=>[Z(Ff,{color:"secondary",inline:"",content:fe.equipiers.filter(Ye=>Ye.IsAuPair).length},null,8,["content"])]),_:1})]),_:1}),Z(Ka,{class:"my-1","no-gutters":"",justify:"space-between"},{default:K(()=>[Z(An,null,{default:K(()=>[...Re[3]||(Re[3]=[Ht(" Anniversaires ",-1)])]),_:1}),Z(An,{cols:"auto"},{default:K(()=>[Z(Ff,{color:"amber-lighten-1",inline:"",content:fe.equipiers.filter(Ye=>Ye.HasBirthday).length},null,8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Yee=Hr({__name:"equipiers",setup(ne){eA(),ku(Be);const fe=jo([]);async function Be(){const kt=await lo.EquipiersGet();kt!==void 0&&(kt?.sort((Ae,nt)=>Ae.Equipier.Id-nt.Equipier.Id),fe.value=kt||[])}const Re=jo(!1);function Ye(kt){return(kt||[]).map(Ae=>s$[Ae]).join(", ")}function De(kt){switch(kt){case oR.NotSend:return{icon:"mdi-form-select",color:""};case oR.Pending:return{icon:"mdi-clock",color:"yellow-darken-2"};case oR.Answered:return{icon:"mdi-check",color:"green"}}}const ye=jo(!1);async function Pe(kt){ye.value=!1;const Ae=await lo.EquipiersCreate(kt);Ae!==void 0&&(lo.showMessage("Equipier crée avec succès."),fe.value.push(Ae))}async function Qe(kt){const Ae=await lo.EquipiersInvite({OnlyOne:vV(kt)});Ae!==void 0&&(lo.showMessage("Equipier invité avec succès."),Ae?.sort((nt,zt)=>nt.Equipier.Id-zt.Equipier.Id),fe.value=Ae||[])}async function ot(){const kt=await lo.EquipiersInvite({OnlyOne:vV(null)});kt!==void 0&&(lo.showMessage("Equipiers invités avec succès."),kt?.sort((Ae,nt)=>Ae.Equipier.Id-nt.Equipier.Id),fe.value=kt||[])}const Ot=jo(null);async function Zt(){if(Ot.value==null)return;const kt=Ot.value.Equipier.Id;Ot.value=null,await lo.EquipiersDelete({id:kt})!==void 0&&(lo.showMessage("Equipier supprimé avec succès."),fe.value=fe.value.filter(nt=>nt.Equipier.Id!=kt))}return(kt,Ae)=>(Mt(),Jn(Sr,null,[Z(lR,{title:`${ns(lo).camp?.Label} - Equipiers`},{default:K(()=>[Z(on,{onClick:Ae[0]||(Ae[0]=nt=>Re.value=!0)},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...Ae[6]||(Ae[6]=[Ht("mdi-file",-1)])]),_:1})]),default:K(()=>[Ae[7]||(Ae[7]=Ht(" Documents ",-1))]),_:1})]),_:1},8,["title"]),Z(nr,{class:"mt-2 mx-auto","max-width":"800px"},{title:K(()=>[Z(on,{flat:"",icon:""},{default:K(()=>[Z(Ds,null,{default:K(()=>[...Ae[8]||(Ae[8]=[Ht("mdi-information",-1)])]),_:1}),Z(PC,{activator:"parent","content-class":"ma-0 pa-0"},{default:K(()=>[Z(Kee,{equipiers:fe.value},null,8,["equipiers"])]),_:1})]),_:1}),Ae[9]||(Ae[9]=Ht(" Équipiers ",-1))]),append:K(()=>[Z(on,{color:"green",onClick:Ae[1]||(Ae[1]=nt=>ye.value=!0)},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...Ae[10]||(Ae[10]=[Ht("mdi-plus",-1)])]),_:1})]),default:K(()=>[Ae[11]||(Ae[11]=Ht(" Ajouter un équipier",-1))]),_:1}),Z(oh,null,{activator:K(({props:nt})=>[Z(on,Id(nt,{class:"ml-2",icon:"mdi-dots-vertical",size:"small"}),null,16)]),default:K(()=>[Z(Cu,null,{default:K(()=>[Z(Ts,null,{default:K(()=>[Z(Ts,{title:"Inviter tous",subtitle:"Envoi un mail à tous les équipiers en attente","prepend-icon":"mdi-email",onClick:Ae[2]||(Ae[2]=nt=>ot())})]),_:1})]),_:1})]),_:1})]),default:K(()=>[Z(Xs,null,{default:K(()=>[Z(Cu,null,{default:K(()=>[(Mt(!0),Jn(Sr,null,Dl(fe.value,nt=>(Mt(),wo(Ts,{title:nt.Personne,subtitle:Ye(nt.Equipier.Roles)},{append:K(()=>[Z(Ka,null,{default:K(()=>[Z(An,{cols:"2","align-self":"center"},{default:K(()=>[Z(PC,{text:`${nt.Personne} a son anniveraire pendant le séjour !`},{activator:K(({props:zt})=>[Z(Ds,Id({ref_for:!0},zt,{color:"pink"}),{default:K(()=>[...Ae[12]||(Ae[12]=[Ht("mdi-cake-variant",-1)])]),_:1},16)]),_:1},8,["text"])]),_:2},1024),Z(An,{"align-self":"center"},{default:K(()=>[Z(Gb,{"prepend-icon":De(nt.Equipier.FormStatus).icon,color:De(nt.Equipier.FormStatus).color},{default:K(()=>[Ht(la(ns(SJ)[nt.Equipier.FormStatus]),1)]),_:2},1032,["prepend-icon","color"])]),_:2},1024),nt.Equipier.FormStatus==ns(oR).Answered&&!nt.Equipier.AccepteCharte.Bool?(Mt(),wo(An,{key:0,"align-self":"center"},{default:K(()=>[Z(Gb,{color:"warning"},{default:K(()=>[...Ae[13]||(Ae[13]=[Ht("Charte non acceptée",-1)])]),_:1})]),_:1})):kr("",!0),Z(An,{"align-self":"center"},{default:K(()=>[Z(oh,null,{activator:K(({props:zt})=>[Z(on,Id({ref_for:!0},zt,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:K(()=>[Z(Cu,null,{default:K(()=>[Z(Ts,{title:"Inviter",subtitle:"Envoi un mail avec le lien vers le formulaire","prepend-icon":"mdi-email",onClick:zt=>Qe(nt.Equipier.Id)},null,8,["onClick"]),Z(Ts,{title:"Aller au formulaire","prepend-icon":"mdi-open-in-new",href:nt.FormURL,target:"_blank"},null,8,["href"]),Z(al),Z(Ts,{title:"Supprimer","prepend-icon":"mdi-delete",onClick:zt=>Ot.value=nt},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1}),Z(Si,{modelValue:Re.value,"onUpdate:modelValue":Ae[3]||(Ae[3]=nt=>Re.value=nt)},{default:K(()=>[Z(Wee,{equipiers:fe.value},null,8,["equipiers"])]),_:1},8,["modelValue"]),Z(Si,{modelValue:ye.value,"onUpdate:modelValue":Ae[4]||(Ae[4]=nt=>ye.value=nt),"max-width":"600px"},{default:K(()=>[Z(Gee,{onCreate:Pe})]),_:1},8,["modelValue"]),Z(Si,{"model-value":Ot.value!=null,"onUpdate:modelValue":Ae[5]||(Ae[5]=nt=>Ot.value=null),"max-width":"400px"},{default:K(()=>[Ot.value?(Mt(),wo(nr,{key:0,title:"Confirmation"},{default:K(()=>[Z(Xs,null,{default:K(()=>[Ht(" Confirmez-vous la suppression de l'équipier "+la(Ot.value.Personne)+" ? ",1),Ae[14]||(Ae[14]=kn("br",null,null,-1)),Ae[15]||(Ae[15]=kn("br",null,null,-1)),Ae[16]||(Ae[16]=Ht(" Attention, cette opération est irréversible. ",-1))]),_:1}),Z(zf,null,{default:K(()=>[Z(Hf),Z(on,{color:"red",onClick:Zt},{default:K(()=>[...Ae[17]||(Ae[17]=[Ht(" Supprimer ",-1)])]),_:1})]),_:1})]),_:1})):kr("",!0)]),_:1},8,["model-value"])],64))}});var FL={exports:{}},AV;function Xee(){return AV||(AV=1,function(ne){(function(){var fe=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},Be=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Re=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},Ye=function(e,t){return De(function(o,s){return e.eq(t(o),t(s))})},De=function(e){return{eq:e}},ye=De(function(e,t){return e===t}),Pe=ye,Qe=function(e){return De(function(t,o){if(t.length!==o.length)return!1;for(var s=t.length,a=0;a<s;a++)if(!e.eq(t[a],o[a]))return!1;return!0})},ot=function(e,t){return Ye(Qe(e),function(o){return Re(o,t)})},Ot=function(e){return De(function(t,o){var s=Object.keys(t),a=Object.keys(o);if(!ot(Pe).eq(s,a))return!1;for(var c=s.length,d=0;d<c;d++){var f=s[d];if(!e.eq(t[f],o[f]))return!1}return!0})},Zt=De(function(e,t){if(e===t)return!0;var o=fe(e),s=fe(t);return o!==s?!1:Be(o)?e===t:o==="array"?Qe(Zt).eq(e,t):o==="object"?Ot(Zt).eq(e,t):!1});const kt=Object.getPrototypeOf,Ae=(e,t,o)=>{var s;return o(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},nt=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Ae(e,String,(o,s)=>s.isPrototypeOf(o))?"string":t},zt=e=>t=>nt(t)===e,vt=e=>t=>typeof t===e,ge=e=>t=>e===t,Le=(e,t)=>oe(e)&&Ae(e,t,(o,s)=>kt(o)===s),Ge=zt("string"),oe=zt("object"),yt=e=>Le(e,Object),ue=zt("array"),rn=ge(null),us=vt("boolean"),Os=ge(void 0),Yo=e=>e==null,ze=e=>!Yo(e),no=vt("function"),E=vt("number"),To=(e,t)=>{if(ue(e)){for(let o=0,s=e.length;o<s;++o)if(!t(e[o]))return!1;return!0}return!1},Do=()=>{},Fn=(e,t)=>(...o)=>e(t.apply(null,o)),ca=(e,t)=>o=>e(t(o)),dt=e=>()=>e,vn=e=>e,Ei=(e,t)=>e===t;function He(e,...t){return(...o)=>{const s=t.concat(o);return e.apply(null,s)}}const we=e=>t=>!e(t),pt=e=>()=>{throw new Error(e)},an=e=>e(),Co=e=>{e()},_o=dt(!1),Vo=dt(!0);class I{constructor(t,o){this.tag=t,this.value=o}static some(t){return new I(!0,t)}static none(){return I.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?I.some(t(this.value)):I.none()}bind(t){return this.tag?t(this.value):I.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:I.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return ze(t)?I.some(t):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}I.singletonNone=new I(!1);const Ks=Array.prototype.slice,_s=Array.prototype.indexOf,Io=Array.prototype.push,ci=(e,t)=>_s.call(e,t),ur=(e,t)=>{const o=ci(e,t);return o===-1?I.none():I.some(o)},Ho=(e,t)=>ci(e,t)>-1,Mn=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];if(t(a,o))return!0}return!1},Ro=(e,t)=>{const o=e.length,s=new Array(o);for(let a=0;a<o;a++){const c=e[a];s[a]=t(c,a)}return s},Ze=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];t(a,o)}},lt=(e,t)=>{for(let o=e.length-1;o>=0;o--){const s=e[o];t(s,o)}},_t=(e,t)=>{const o=[],s=[];for(let a=0,c=e.length;a<c;a++){const d=e[a];(t(d,a)?o:s).push(d)}return{pass:o,fail:s}},mt=(e,t)=>{const o=[];for(let s=0,a=e.length;s<a;s++){const c=e[s];t(c,s)&&o.push(c)}return o},Un=(e,t)=>{if(e.length===0)return[];{let o=t(e[0]);const s=[];let a=[];for(let c=0,d=e.length;c<d;c++){const f=e[c],b=t(f);b!==o&&(s.push(a),a=[]),o=b,a.push(f)}return a.length!==0&&s.push(a),s}},dn=(e,t,o)=>(lt(e,(s,a)=>{o=t(o,s,a)}),o),Lo=(e,t,o)=>(Ze(e,(s,a)=>{o=t(o,s,a)}),o),jc=(e,t,o)=>{for(let s=0,a=e.length;s<a;s++){const c=e[s];if(t(c,s))return I.some(c);if(o(c,s))break}return I.none()},yn=(e,t)=>jc(e,t,_o),Rs=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];if(t(a,o))return I.some(o)}return I.none()},Wc=(e,t)=>{for(let o=e.length-1;o>=0;o--)if(t(e[o],o))return I.some(o);return I.none()},qc=e=>{const t=[];for(let o=0,s=e.length;o<s;++o){if(!ue(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Io.apply(t,e[o])}return t},sr=(e,t)=>qc(Ro(e,t)),Pa=(e,t)=>{for(let o=0,s=e.length;o<s;++o){const a=e[o];if(t(a,o)!==!0)return!1}return!0},da=e=>{const t=Ks.call(e,0);return t.reverse(),t},Ol=(e,t)=>mt(e,o=>!Ho(t,o)),Ar=(e,t)=>{const o={};for(let s=0,a=e.length;s<a;s++){const c=e[s];o[String(c)]=t(c,s)}return o},Qt=(e,t)=>{const o=Ks.call(e,0);return o.sort(t),o},nn=(e,t)=>t>=0&&t<e.length?I.some(e[t]):I.none(),Zn=e=>nn(e,0),zs=e=>nn(e,e.length-1),Tt=no(Array.from)?Array.from:e=>Ks.call(e),Ai=(e,t)=>{for(let o=0;o<e.length;o++){const s=t(e[o],o);if(s.isSome())return s}return I.none()},mc=(e,t)=>{const o=[],s=no(t)?a=>Mn(o,c=>t(c,a)):a=>Ho(o,a);for(let a=0,c=e.length;a<c;a++){const d=e[a];s(d)||o.push(d)}return o},ua=Object.keys,Ps=Object.hasOwnProperty,Xo=(e,t)=>{const o=ua(e);for(let s=0,a=o.length;s<a;s++){const c=o[s],d=e[c];t(d,c)}},Vr=(e,t)=>Cg(e,(o,s)=>({k:s,v:t(o,s)})),Cg=(e,t)=>{const o={};return Xo(e,(s,a)=>{const c=t(s,a);o[c.k]=c.v}),o},gc=e=>(t,o)=>{e[o]=t},Wo=(e,t,o,s)=>{Xo(e,(a,c)=>{(t(a,c)?o:s)(a,c)})},$r=(e,t)=>{const o={},s={};return Wo(e,t,gc(o),gc(s)),{t:o,f:s}},Tr=(e,t)=>{const o={};return Wo(e,t,gc(o),Do),o},ya=(e,t)=>{const o=[];return Xo(e,(s,a)=>{o.push(t(s,a))}),o},Cs=e=>ya(e,vn),Sn=(e,t)=>xo(e,t)?I.from(e[t]):I.none(),xo=(e,t)=>Ps.call(e,t),ke=(e,t)=>xo(e,t)&&e[t]!==void 0&&e[t]!==null,Ld=(e,t,o=Zt)=>Ot(o).eq(e,t),il={generate:e=>{if(!ue(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return Ze(e,(s,a)=>{const c=ua(s);if(c.length!==1)throw new Error("one and only one name per case");const d=c[0],f=s[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ue(f))throw new Error("case arguments must be an array");t.push(d),o[d]=(...b)=>{const w=b.length;if(w!==f.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+f.length+" ("+f+"), got "+w);return{fold:(...R)=>{if(R.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+R.length);return R[a].apply(null,b)},match:R=>{const N=ua(R);if(t.length!==N.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+N.join(","));if(!Pa(t,ee=>Ho(N,ee)))throw new Error("Not all branches were specified when using match. Specified: "+N.join(", ")+`
Required: `+t.join(", "));return R[d].apply(null,b)},log:R=>{console.log(R,{constructors:t,constructor:d,params:b})}}}}),o}},zn=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}},ll=e=>{const t=c=>c(e),o=dt(e),s=()=>a,a={tag:!0,inner:e,fold:(c,d)=>d(e),isValue:Vo,isError:_o,map:c=>Hs.value(c(e)),mapError:s,bind:t,exists:t,forall:t,getOr:o,or:s,getOrThunk:o,orThunk:s,getOrDie:o,each:c=>{c(e)},toOptional:()=>I.some(e)};return a},Rl=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(s,a)=>s(e),isValue:_o,isError:Vo,map:t,mapError:s=>Hs.error(s(e)),bind:t,exists:_o,forall:Vo,getOr:vn,or:vn,getOrThunk:an,orThunk:an,getOrDie:pt(String(e)),each:Do,toOptional:I.none};return o},Hs={value:ll,error:Rl,fromOption:(e,t)=>e.fold(()=>Rl(t),ll)},mm=typeof window<"u"?window:Function("return this;")(),Vs=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},Ur=()=>{const e=Vs(),t=(o,s)=>{let a="";for(let c=o;c<=s;++c){const d=e[c].toString(16).padStart(2,"0");a+=d}return a};return`${t(0,3)}-${t(4,5)}-${t(6,7)}-${t(8,9)}-${t(10,15)}`},In=(e,t,o)=>Math.min(Math.max(e,t),o),Nl=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let es=0;const $s=e=>{const o=new Date().getTime(),s=Math.floor(Nl()*1e9);return es++,e+"_"+s+es+String(o)},Su=()=>window.isSecureContext?window.crypto.randomUUID():Ur(),zd=(e,t)=>t,Eu=(e,t)=>yt(e)&&yt(t)?fc(e,t):t,Ml=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let s=0;s<t.length;s++){const a=t[s];for(const c in a)xo(a,c)&&(o[c]=e(o[c],a[c]))}return o},fc=Ml(Eu),Au=Ml(zd),mr=(e,t,o=Ei)=>e.exists(s=>o(s,t)),Tu=(e,t,o=Ei)=>ks(e,t,o).getOr(e.isNone()&&t.isNone()),sh=e=>{const t=[],o=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(o);return t},ks=(e,t,o)=>e.isSome()&&t.isSome()?I.some(o(e.getOrDie(),t.getOrDie())):I.none(),kg=(e,t,o,s)=>e.isSome()&&t.isSome()&&o.isSome()?I.some(s(e.getOrDie(),t.getOrDie(),o.getOrDie())):I.none(),Pt=e=>e.bind(vn),Hd=(e,t)=>e?I.some(t):I.none(),Sg=(e,t)=>{let o=t??mm;for(let s=0;s<e.length&&o!==void 0&&o!==null;++s)o=o[e[s]];return o},Eg=(e,t)=>{const o=e.split(".");return Sg(o,t)};il.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Gc=e=>{const t=[],o=[];return Ze(e,s=>{s.fold(a=>{t.push(a)},a=>{o.push(a)})}),{errors:t,values:o}},Ag=e=>{const t=zn(I.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(I.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:f=>{o(),t.set(I.some(f))}}},Vf=e=>{const t=zn(I.none()),o=()=>t.get().each(f=>clearInterval(f));return{clear:()=>{o(),t.set(I.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:f=>{o(),t.set(I.some(setInterval(f,e)))}}},Bl=()=>{const e=Ag(Do);return{...e,on:o=>e.get().each(o)}},di=(e,t)=>e.substring(t),$f=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Uf=(e,t)=>Is(e,t)?di(e,t.length):e,$o=(e,t,o=0,s)=>{const a=e.indexOf(t,o);return a!==-1?Os(s)?!0:a+t.length<=s:!1},Is=(e,t)=>$f(e,t,0),Tg=(e,t)=>$f(e,t,e.length-t.length),Kc=e=>t=>t.replace(e,""),Pl=Kc(/^\s+|\s+$/g),Zf=Kc(/^\s+/g),gm=Kc(/\s+$/g),Zr=e=>e.length>0,Yc=e=>!Zr(e),rh=(e,t)=>t<=0?"":new Array(t+1).join(e),Du=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?I.none():I.some(o)},xs=(e,t)=>{let o=null;return{cancel:()=>{rn(o)||(clearTimeout(o),o=null)},throttle:(...c)=>{rn(o)&&(o=setTimeout(()=>{o=null,e.apply(null,c)},t))}}},Vd=(e,t)=>{let o=null;const s=()=>{rn(o)||(clearTimeout(o),o=null)};return{cancel:s,throttle:(...c)=>{s(),o=setTimeout(()=>{o=null,e.apply(null,c)},t)}}},ui=e=>{let t=!1,o;return(...s)=>(t||(t=!0,o=e.apply(null,s)),o)},Xc="\uFEFF",Ls=" ",Ti="…",Di=e=>e===Xc,jf=e=>e.replace(/\uFEFF/g,""),fm=e=>{const t={};return Ze(e,o=>{t[o]={}}),ua(t)},ma=e=>e.length!==void 0,$d=Array.isArray,Ud=e=>{if($d(e))return e;{const t=[];for(let o=0,s=e.length;o<s;o++)t[o]=e[o];return t}},cl=(e,t,o)=>{if(!e)return!1;if(o=o||e,ma(e)){for(let s=0,a=e.length;s<a;s++)if(t.call(o,e[s],s,e)===!1)return!1}else for(const s in e)if(xo(e,s)&&t.call(o,e[s],s,e)===!1)return!1;return!0},pm=(e,t)=>{const o=[];return cl(e,(s,a)=>{o.push(t(s,a,e))}),o},Zd=(e,t)=>{const o=[];return cl(e,(s,a)=>{(!t||t(s,a,e))&&o.push(s)}),o},Dg=(e,t)=>{if(e){for(let o=0,s=e.length;o<s;o++)if(e[o]===t)return o}return-1},Qc=(e,t,o,s)=>{let a=Os(o)?e[0]:o;for(let c=0;c<e.length;c++)a=t.call(s,a,e[c],c);return a},Ya=(e,t,o)=>{for(let s=0,a=e.length;s<a;s++)if(t.call(o,e[s],s,e))return s;return-1},$=e=>e[e.length-1],ae=(e,t,o,s)=>{const a=e.isiOS()&&/ipad/i.test(o)===!0,c=e.isiOS()&&!a,d=e.isiOS()||e.isAndroid(),f=d||s("(pointer:coarse)"),b=a||!c&&d&&s("(min-device-width:768px)"),w=c||d&&!b,T=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,R=!w&&!b&&!T;return{isiPad:dt(a),isiPhone:dt(c),isTablet:dt(b),isPhone:dt(w),isTouch:dt(f),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:dt(T),isDesktop:dt(R)}},ve=(e,t)=>{for(let o=0;o<e.length;o++){const s=e[o];if(s.test(t))return s}},et=(e,t)=>{const o=ve(e,t);if(!o)return{major:0,minor:0};const s=a=>Number(t.replace(o,"$"+a));return Qo(s(1),s(2))},At=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?Ut():et(e,o)},Ut=()=>Qo(0,0),Qo=(e,t)=>({major:e,minor:t}),jn={nu:Qo,detect:At,unknown:Ut},Uo=(e,t)=>Ai(t.brands,o=>{const s=o.brand.toLowerCase();return yn(e,a=>{var c;return s===((c=a.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(a=>({current:a.name,version:jn.nu(parseInt(o.version,10),0)}))}),B=(e,t)=>{const o=String(t).toLowerCase();return yn(e,s=>s.search(o))},W=(e,t)=>B(e,t).map(o=>{const s=jn.detect(o.versionRegexes,t);return{current:o.name,version:s}}),ie=(e,t)=>B(e,t).map(o=>{const s=jn.detect(o.versionRegexes,t);return{current:o.name,version:s}}),Ee=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,It=e=>t=>$o(t,e),un=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>$o(e,"edge/")&&$o(e,"chrome")&&$o(e,"safari")&&$o(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ee],search:e=>$o(e,"chrome")&&!$o(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>$o(e,"msie")||$o(e,"trident")},{name:"Opera",versionRegexes:[Ee,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:It("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:It("firefox")},{name:"Safari",versionRegexes:[Ee,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>($o(e,"safari")||$o(e,"mobile/"))&&$o(e,"applewebkit")}],ts=[{name:"Windows",search:It("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>$o(e,"iphone")||$o(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:It("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:It("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:It("linux"),versionRegexes:[]},{name:"Solaris",search:It("sunos"),versionRegexes:[]},{name:"FreeBSD",search:It("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:It("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Dr={browsers:dt(un),oses:dt(ts)},Hn="Edge",ga="Chromium",wa="IE",Wi="Opera",rr="Firefox",dl="Safari",Jc=()=>_a({current:void 0,version:jn.unknown()}),_a=e=>{const t=e.current,o=e.version,s=a=>()=>t===a;return{current:t,version:o,isEdge:s(Hn),isChromium:s(ga),isIE:s(wa),isOpera:s(Wi),isFirefox:s(rr),isSafari:s(dl)}},Il={unknown:Jc,nu:_a},ah="Windows",Wf="iOS",Gr="Android",Og="Linux",hm="macOS",ed="Solaris",Kb="FreeBSD",Ca="ChromeOS",ih=()=>Ou({current:void 0,version:jn.unknown()}),Ou=e=>{const t=e.current,o=e.version,s=a=>()=>t===a;return{current:t,version:o,isWindows:s(ah),isiOS:s(Wf),isAndroid:s(Gr),isMacOS:s(hm),isLinux:s(Og),isSolaris:s(ed),isFreeBSD:s(Kb),isChromeOS:s(Ca)}},Ia={unknown:ih,nu:Ou},td={detect:(e,t,o)=>{const s=Dr.browsers(),a=Dr.oses(),c=t.bind(b=>Uo(s,b)).orThunk(()=>W(s,e)).fold(Il.unknown,Il.nu),d=ie(a,e).fold(Ia.unknown,Ia.nu),f=ae(d,c,e,o);return{browser:c,os:d,deviceType:f}}},j1=e=>window.matchMedia(e).matches;let gr=ui(()=>td.detect(window.navigator.userAgent,I.from(window.navigator.userAgentData),j1));const qi=()=>gr(),jd=(e,t)=>Eg(e,t),od=(e,t)=>{const o=jd(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},La=Object.getPrototypeOf,Ll=e=>od("HTMLElement",e),Yb=e=>{const t=Eg("ownerDocument.defaultView",e);return oe(e)&&(Ll(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(La(e).constructor.name))},Xb=window.navigator.userAgent,Oi=qi(),mi=Oi.browser,ul=Oi.os,ao=Oi.deviceType,j2=Xb.indexOf("Windows Phone")!==-1,Eo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:mi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!mi.isIE(),windowsPhone:j2,browser:{current:mi.current,version:mi.version,isChromium:mi.isChromium,isEdge:mi.isEdge,isFirefox:mi.isFirefox,isIE:mi.isIE,isOpera:mi.isOpera,isSafari:mi.isSafari},os:{current:ul.current,version:ul.version,isAndroid:ul.isAndroid,isChromeOS:ul.isChromeOS,isFreeBSD:ul.isFreeBSD,isiOS:ul.isiOS,isLinux:ul.isLinux,isMacOS:ul.isMacOS,isSolaris:ul.isSolaris,isWindows:ul.isWindows},deviceType:{isDesktop:ao.isDesktop,isiPad:ao.isiPad,isiPhone:ao.isiPhone,isPhone:ao.isPhone,isTablet:ao.isTablet,isTouch:ao.isTouch,isWebView:ao.isWebView}},Kr=/^\s*|\s*$/g,W1=e=>Yo(e)?"":(""+e).replace(Kr,""),Us=(e,t)=>t?t==="array"&&$d(e)?!0:typeof e===t:e!==void 0,q1=(e,t,o={})=>{const s=Ge(e)?e.split(t||","):e||[];let a=s.length;for(;a--;)o[s[a]]={};return o},Wd=xo,Qb=(e,...t)=>{for(let o=0;o<t.length;o++){const s=t[o];for(const a in s)if(xo(s,a)){const c=s[a];c!==void 0&&(e[a]=c)}}return e},bm=function(e,t,o,s){s=s||this,e&&(o&&(e=e[o]),cl(e,(a,c)=>t.call(s,a,c,o)===!1?!1:(bm(a,t,o,s),!0)))},at={trim:W1,isArray:$d,is:Us,toArray:Ud,makeMap:q1,each:cl,map:pm,grep:Zd,inArray:Dg,hasOwn:Wd,extend:Qb,walk:bm,resolve:(e,t=window)=>{const o=e.split(".");for(let s=0,a=o.length;s<a&&(t=t[o[s]],!!t);s++);return t},explode:(e,t)=>ue(e)?e:e===""?[]:pm(e.split(t||","),W1),_addCacheSuffix:e=>{const t=Eo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},ar=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return nd(s.childNodes[0])},W2=(e,t)=>{const s=(t||document).createElement(e);return nd(s)},Jb=(e,t)=>{const s=(t||document).createTextNode(e);return nd(s)},nd=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},te={fromHtml:ar,fromTag:W2,fromText:Jb,fromDom:nd,fromPoint:(e,t,o)=>I.from(e.dom.elementFromPoint(t,o)).map(nd)},xm=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,s)=>{e.setStart(o.dom,s)},o=>{e.setStartAfter(o.dom)})},Fa=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,s)=>{e.setEnd(o.dom,s)},o=>{e.setEndAfter(o.dom)})},G1=(e,t,o)=>{const s=e.document.createRange();return xm(s,t),Fa(s,o),s},ir=(e,t,o,s,a)=>{const c=e.document.createRange();return c.setStart(t.dom,o),c.setEnd(s.dom,a),c},Ru=il.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),sd=(e,t,o)=>t(te.fromDom(o.startContainer),o.startOffset,te.fromDom(o.endContainer),o.endOffset),mn=(e,t)=>t.match({domRange:o=>({ltr:dt(o),rtl:I.none}),relative:(o,s)=>({ltr:ui(()=>G1(e,o,s)),rtl:ui(()=>I.some(G1(e,s,o)))}),exact:(o,s,a,c)=>({ltr:ui(()=>ir(e,o,s,a,c)),rtl:ui(()=>I.some(ir(e,a,c,o,s)))})}),lh=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(a=>a.collapsed===!1).map(a=>Ru.rtl(te.fromDom(a.endContainer),a.endOffset,te.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>sd(e,Ru.ltr,o)):sd(e,Ru.ltr,o)},ex=(e,t)=>{const o=mn(e,t);return lh(e,o)};Ru.ltr,Ru.rtl;const Mg=8,Or=9,Nu=11,qd=1,Bg=3,Bn=(e,t)=>{const o=e.dom;if(o.nodeType!==qd)return!1;{const s=o;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Gd=e=>e.nodeType!==qd&&e.nodeType!==Or&&e.nodeType!==Nu||e.childElementCount===0,Pg=(e,t)=>{const o=t===void 0?document:t.dom;return Gd(o)?[]:Ro(o.querySelectorAll(e),te.fromDom)},Ss=(e,t)=>{const o=t===void 0?document:t.dom;return Gd(o)?I.none():I.from(o.querySelector(e)).map(te.fromDom)},Jo=(e,t)=>e.dom===t.dom,Rr=(e,t)=>{const o=e.dom,s=t.dom;return o===s?!1:o.contains(s)},vm=Bn,Ri=(e,t)=>{const o=[],s=c=>(o.push(c),t(c));let a=t(e);do a=a.bind(s);while(a.isSome());return o},Fo=e=>e.dom.nodeName.toLowerCase(),tx=e=>e.dom.nodeType,Ig=e=>t=>tx(t)===e,ox=e=>tx(e)===Mg||Fo(e)==="#comment",Kd=e=>lr(e)&&Yb(e.dom),lr=Ig(qd),Xa=Ig(Bg),q2=Ig(Or),G2=Ig(Nu),Yr=e=>t=>lr(t)&&Fo(t)===e,nx=e=>te.fromDom(e.dom.ownerDocument),pc=e=>q2(e)?e:nx(e),ss=e=>te.fromDom(pc(e).dom.documentElement),ml=e=>te.fromDom(pc(e).dom.defaultView),Gi=e=>I.from(e.dom.parentNode).map(te.fromDom),ym=e=>I.from(e.dom.parentElement).map(te.fromDom),Qa=(e,t)=>{const o=no(t)?t:_o;let s=e.dom;const a=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const c=s.parentNode,d=te.fromDom(c);if(a.push(d),o(d)===!0)break;s=c}return a},Gf=e=>{const t=o=>mt(o,s=>!Jo(e,s));return Gi(e).map(en).map(t).getOr([])},Fl=e=>I.from(e.dom.previousSibling).map(te.fromDom),rd=e=>I.from(e.dom.nextSibling).map(te.fromDom),vs=e=>da(Ri(e,Fl)),K1=e=>Ri(e,rd),en=e=>Ro(e.dom.childNodes,te.fromDom),cr=(e,t)=>{const o=e.dom.childNodes;return I.from(o[t]).map(te.fromDom)},zl=e=>cr(e,0),Xr=e=>cr(e,e.dom.childNodes.length-1),Kf=e=>e.dom.childNodes.length,Qr=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return te.fromDom(t)},Yd=e=>G2(e)&&ze(e.dom.host),Xd=e=>te.fromDom(e.dom.getRootNode()),Jr=e=>Yd(e)?e:Qr(pc(e)),ch=e=>Yd(e)?e:te.fromDom(pc(e).dom.body),dh=e=>{const t=Xd(e);return Yd(t)?I.some(t):I.none()},sx=e=>te.fromDom(e.dom.host),uh=e=>{if(ze(e.target)){const t=te.fromDom(e.target);if(lr(t)&&mh(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Zn(o)}}return I.from(e.target)},mh=e=>ze(e.dom.shadowRoot),Y1=(e,t,o,s,a,c,d)=>({target:e,x:t,y:o,stop:s,prevent:a,kill:c,raw:d}),X1=e=>{const t=te.fromDom(uh(e).getOr(e.target)),o=()=>e.stopPropagation(),s=()=>e.preventDefault(),a=Fn(s,o);return Y1(t,e.clientX,e.clientY,o,s,a,e)},Q1=(e,t)=>o=>{e(o)&&t(X1(o))},J1=(e,t,o,s,a)=>{const c=Q1(o,s);return e.dom.addEventListener(t,c,a),{unbind:He(e0,e,t,c,a)}},ad=(e,t,o,s)=>J1(e,t,o,s,!1),e0=(e,t,o,s)=>{e.dom.removeEventListener(t,o,s)},K2=Vo,rx=(e,t,o)=>ad(e,t,K2,o),Ja=()=>te.fromDom(document),Lg=(e,t=!1)=>e.dom.focus({preventScroll:t}),hc=e=>{const t=Xd(e).dom;return e.dom===t.activeElement},Qd=(e=Ja())=>I.from(e.dom.activeElement).map(te.fromDom),t0=e=>Qd(Xd(e)).filter(t=>e.dom.contains(t.dom)),ea=(e,t)=>{Gi(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},Hl=(e,t)=>{rd(e).fold(()=>{Gi(e).each(a=>{ln(a,t)})},s=>{ea(s,t)})},bc=(e,t)=>{zl(e).fold(()=>{ln(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},ln=(e,t)=>{e.dom.appendChild(t.dom)},fr=(e,t)=>{ea(e,t),ln(t,e)},Mu=(e,t)=>{Ze(t,o=>{ea(e,o)})},gh=(e,t)=>{Ze(t,(o,s)=>{const a=s===0?e:t[s-1];Hl(a,o)})},Zs=(e,t)=>{Ze(t,o=>{ln(e,o)})},o0=(e,t,o)=>{if(Ge(o)||us(o)||E(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},jr=(e,t,o)=>{o0(e.dom,t,o)},Ki=(e,t)=>{const o=e.dom;Xo(t,(s,a)=>{o0(o,a,s)})},Ys=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},xc=(e,t)=>I.from(Ys(e,t)),wm=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Nr=(e,t)=>{e.dom.removeAttribute(t)},Bu=e=>{const t=e.dom.attributes;return t==null||t.length===0},vc=e=>Lo(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),Pu=e=>{e.dom.textContent="",Ze(en(e),t=>{ls(t)})},ls=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Ni=e=>{const t=en(e);t.length>0&&gh(e,t),ls(e)},_m=(e,t)=>te.fromDom(e.dom.cloneNode(t)),id=e=>_m(e,!1),Mi=e=>_m(e,!0),n0=(e,t)=>{const o=te.fromTag(t),s=vc(e);return Ki(o,s),o},Fg=(e,t)=>{const o=n0(e,t);Hl(e,o);const s=en(e);return Zs(o,s),ls(e),o},pr=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,en(te.fromDom(s))},gl=e=>Ro(e,te.fromDom),Yf=e=>e.dom.innerHTML,Cm=(e,t)=>{const s=nx(e).dom,a=te.fromDom(s.createDocumentFragment()),c=pr(t,s);Zs(a,c),Pu(e),ln(e,a)},Y2=e=>{const t=te.fromTag("div"),o=te.fromDom(e.dom.cloneNode(!0));return ln(t,o),Yf(t)},km=e=>e.style!==void 0&&no(e.style.getPropertyValue),Jd=e=>{const t=Xa(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return dh(te.fromDom(t)).fold(()=>o.body.contains(t),ca(Jd,sx))},s0=(e,t,o)=>{if(!Ge(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);km(e)&&e.style.setProperty(t,o)},ax=(e,t)=>{km(e)&&e.style.removeProperty(t)},zg=(e,t,o)=>{const s=e.dom;s0(s,t,o)},Xf=(e,t)=>{const o=e.dom;Xo(t,(s,a)=>{s0(o,a,s)})},fl=(e,t)=>{const o=e.dom,a=window.getComputedStyle(o).getPropertyValue(t);return a===""&&!Jd(e)?X2(o,t):a},X2=(e,t)=>km(e)?e.style.getPropertyValue(t):"",Sm=(e,t)=>{const o=e.dom,s=X2(o,t);return I.from(s).filter(a=>a.length>0)},Em=e=>{const t={},o=e.dom;if(km(o))for(let s=0;s<o.style.length;s++){const a=o.style.item(s);t[a]=o.style[a]}return t},gi=(e,t)=>{const o=e.dom;ax(o,t),mr(xc(e,"style").map(Pl),"")&&Nr(e,"style")},mo=e=>e.dom.offsetWidth,fh=((e,t)=>{const o=(f,b)=>{if(!E(b)&&!b.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+b);const w=f.dom;km(w)&&(w.style[e]=b+"px")},s=f=>{const b=t(f);if(b<=0||b===null){const w=fl(f,e);return parseFloat(w)||0}return b},a=s,c=(f,b)=>Lo(b,(w,T)=>{const R=fl(f,T),N=R===void 0?0:parseInt(R,10);return isNaN(N)?w:w+N},0);return{set:o,get:s,getOuter:a,aggregate:c,max:(f,b,w)=>{const T=c(f,w);return b>T?b-T:0}}})("height",e=>{const t=e.dom;return Jd(e)?t.getBoundingClientRect().height:t.offsetHeight}),Q2=e=>fh.get(e),ph=(e,t)=>({left:e,top:t,translate:(s,a)=>ph(e+s,t+a)}),ld=ph,hh=e=>{const t=e.getBoundingClientRect();return ld(t.left,t.top)},bh=(e,t)=>e!==void 0?e:t!==void 0?t:0,Es=e=>{const t=e.dom.ownerDocument,o=t.body,s=t.defaultView,a=t.documentElement;if(o===e.dom)return ld(o.offsetLeft,o.offsetTop);const c=bh(s?.pageYOffset,a.scrollTop),d=bh(s?.pageXOffset,a.scrollLeft),f=bh(a.clientTop,o.clientTop),b=bh(a.clientLeft,o.clientLeft);return Bi(e).translate(d-b,c-f)},Bi=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?ld(s.offsetLeft,s.offsetTop):Jd(e)?hh(t):ld(0,0)},za=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return ld(o,s)},Iu=(e,t,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(e,t)},ei=(e,t)=>{qi().browser.isSafari()&&no(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},xh=(e,t)=>{const o=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return s(c).getOr("")},s=c=>e(c)?I.from(c.dom.nodeValue):I.none();return{get:o,getOption:s,set:(c,d)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=d}}},hr=(e,t)=>{const s=document.createDocumentFragment();return Ze(e,a=>{s.appendChild(a.dom)}),te.fromDom(s)},ka=xh(Xa,"text"),cd=e=>ka.get(e),ct=e=>ka.getOption(e),Pi=(e,t)=>ka.set(e,t),Tm=(e,t)=>{const o=Ys(e,t);return o===void 0||o===""?[]:o.split(" ")},Mr=(e,t,o)=>{const a=Tm(e,t).concat([o]);return jr(e,t,a.join(" ")),!0},yc=(e,t,o)=>{const s=mt(Tm(e,t),a=>a!==o);return s.length>0?jr(e,t,s.join(" ")):Nr(e,t),!1};var pl=(e,t,o,s,a)=>e(o,s)?I.some(o):no(a)&&a(o)?I.none():t(o,s,a);const ti=(e,t,o)=>{let s=e.dom;const a=no(o)?o:_o;for(;s.parentNode;){s=s.parentNode;const c=te.fromDom(s);if(t(c))return I.some(c);if(a(c))break}return I.none()},Ii=(e,t,o)=>pl((a,c)=>c(a),ti,e,t,o),oi=(e,t)=>{const o=e.dom;return o.parentNode?Dn(te.fromDom(o.parentNode),s=>!Jo(e,s)&&t(s)):I.none()},Dn=(e,t)=>{const o=a=>t(te.fromDom(a));return yn(e.dom.childNodes,o).map(te.fromDom)},Li=(e,t)=>{const o=s=>{for(let a=0;a<s.childNodes.length;a++){const c=te.fromDom(s.childNodes[a]);if(t(c))return I.some(c);const d=o(s.childNodes[a]);if(d.isSome())return d}return I.none()};return o(e.dom)},js=(e,t,o)=>ti(e,s=>Bn(s,t),o),Fs=(e,t)=>Ss(t,e),dd=(e,t,o)=>pl((a,c)=>Bn(a,c),js,e,t,o),Br=e=>e.dom.classList!==void 0,Dm=e=>Tm(e,"class"),fi=(e,t)=>Mr(e,"class",t),Me=(e,t)=>yc(e,"class",t),Vl=(e,t)=>Ho(Dm(e),t)?Me(e,t):fi(e,t),$l=(e,t)=>{Br(e)?e.dom.classList.add(t):fi(e,t)},ys=e=>{(Br(e)?e.dom.classList:Dm(e)).length===0&&Nr(e,"class")},Fi=(e,t)=>{Br(e)?e.dom.classList.remove(t):Me(e,t),ys(e)},Sa=(e,t)=>{const o=Br(e)?e.dom.classList.toggle(t):Vl(e,t);return ys(e),o},rs=(e,t)=>Br(e)&&e.dom.classList.contains(t),Lu=(e,t)=>{Ze(t,o=>{$l(e,o)})},r0=(e,t)=>{Ze(t,o=>{Fi(e,o)})},Hg=e=>dd(e,"[contenteditable]"),Yi=(e,t=!1)=>Jd(e)?e.dom.isContentEditable:Hg(e).fold(dt(t),o=>fa(o)==="true"),fa=e=>e.dom.contentEditable,Ul=(e,t)=>{e.dom.contentEditable=t?"true":"false"},Qf=(e,t,o)=>mt(Qa(e,o),t),Om=(e,t)=>mt(en(e),t),Xi=(e,t)=>{let o=[];return Ze(en(e),s=>{t(s)&&(o=o.concat([s])),o=o.concat(Xi(s,t))}),o},Qi=(e,t,o)=>Qf(e,s=>Bn(s,t),o),Wr=(e,t)=>Pg(t,e),eu=(e,t,o)=>ti(e,t,o).isSome(),a0=(e,t)=>oi(e,t).isSome(),ni=(e,t)=>Li(e,t).isSome(),Zl=(e,t)=>eu(e,He(Jo,t)),ix=(e,t,o)=>js(e,t,o).isSome(),wc=e=>no(e)?e:_o,LC=(e,t,o)=>{let s=e.dom;const a=wc(o);for(;s.parentNode;){s=s.parentNode;const c=te.fromDom(s),d=t(c);if(d.isSome())return d;if(a(c))break}return I.none()},ud=(e,t,o)=>{const s=t(e),a=wc(o);return s.orThunk(()=>a(e)?I.none():LC(e,t,a))},Rm=e=>ct(e).filter(t=>t.trim().length!==0||t.indexOf(Ls)>-1).isSome(),Nm=e=>Kd(e)&&Ys(e,"contenteditable")==="false",J2=["img","br"],Jf=e=>Rm(e)||Ho(J2,Fo(e))||Nm(e),FC=e=>Li(e,Jf),Ws={create:(e,t,o,s)=>({start:e,soffset:t,finish:o,foffset:s})},i0=il.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),jl=(e,t,o,s)=>e.fold(t,o,s),Fu=e=>e.fold(vn,vn,vn),cx=i0.before,Mm=i0.on,Ji=i0.after,pi={before:cx,on:Mm,after:Ji,cata:jl,getStart:Fu},zu=il.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ey=e=>zu.exact(e.start,e.soffset,e.finish,e.foffset),vh=e=>e.match({domRange:t=>te.fromDom(t.startContainer),relative:(t,o)=>pi.getStart(t),exact:(t,o,s,a)=>t}),dx=zu.domRange,l0=zu.relative,ty=zu.exact,oy=e=>{const t=vh(e);return ml(t)},c0=Ws.create,Wl={domRange:dx,relative:l0,exact:ty,exactFromRange:ey,getWin:oy,range:c0},_c=(e,t,o)=>{var s;return I.from((s=e.caretPositionFromPoint)===null||s===void 0?void 0:s.call(e,t,o)).bind(a=>{if(a.offsetNode===null)return I.none();const c=e.createRange();return c.setStart(a.offsetNode,a.offset),c.collapse(),I.some(c)})},tu=(e,t,o)=>{var s;return I.from((s=e.caretRangeFromPoint)===null||s===void 0?void 0:s.call(e,t,o))},Vg=(e,t,o)=>e.caretPositionFromPoint?_c(e,t,o):e.caretRangeFromPoint?tu(e,t,o):I.none(),ny=(e,t,o)=>{const s=e.document;return Vg(s,t,o).map(a=>Ws.create(te.fromDom(a.startContainer),a.startOffset,te.fromDom(a.endContainer),a.endOffset))},$g=(e,t)=>{const o=Fo(e);return o==="input"?pi.after(e):Ho(["br","img"],o)?t===0?pi.before(e):pi.after(e):pi.on(e,t)},d0=(e,t)=>{const o=e.fold(pi.before,$g,pi.after),s=t.fold(pi.before,$g,pi.after);return Wl.relative(o,s)},yh=(e,t,o,s)=>{const a=$g(e,t),c=$g(o,s);return Wl.relative(a,c)},u0=e=>e.match({domRange:t=>{const o=te.fromDom(t.startContainer),s=te.fromDom(t.endContainer);return yh(o,t.startOffset,s,t.endOffset)},relative:d0,exact:yh}),m0=e=>{const t=Wl.getWin(e).dom,o=(a,c,d,f)=>ir(t,a,c,d,f),s=u0(e);return ex(t,s).match({ltr:o,rtl:o})},ux=(e,t,o)=>ny(e,t,o),mx=e=>{const t=e===void 0?window:e;return qi().browser.isFirefox()?I.none():I.from(t.visualViewport)},ql=(e,t,o,s)=>({x:e,y:t,width:o,height:s,right:e+o,bottom:t+s}),Cc=e=>{const t=e===void 0?window:e,o=t.document,s=za(te.fromDom(o));return mx(t).fold(()=>{const a=t.document.documentElement,c=a.clientWidth,d=a.clientHeight;return ql(s.left,s.top,c,d)},a=>ql(Math.max(a.pageLeft,s.left),Math.max(a.pageTop,s.top),a.width,a.height))};class Qs{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,s,a){if(t){if(!a&&t[o])return t[o];if(t!==this.rootNode){let c=t[s];if(c)return c;for(let d=t.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(c=d[s],c)return c}}}findPreviousNode(t,o){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!o){for(let c=s.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return s}const a=t.parentNode;if(a&&a!==this.rootNode)return a}}}const sy=/^[ \t\r\n]*$/,Bm=e=>sy.test(e),gx=e=>{for(const t of e)if(!Di(t))return!1;return!0},g0=e=>" \f	\v".indexOf(e)!==-1,wh=e=>e===`
`||e==="\r",ry=(e,t)=>t<e.length&&t>=0?wh(e[t]):!1,ay=(e,t=4,o=!0,s=!0)=>{const a=rh(" ",t),c=e.replace(/\t/g,a);return Lo(c,(f,b)=>g0(b)||b===Ls?f.pcIsSpace||f.str===""&&o||f.str.length===c.length-1&&s||ry(c,f.str.length+1)?{pcIsSpace:!1,str:f.str+Ls}:{pcIsSpace:!0,str:f.str+" "}:{pcIsSpace:wh(b),str:f.str+b},{pcIsSpace:!1,str:""}).str},Hu=e=>t=>!!t&&t.nodeType===e,kc=e=>!!e&&!Object.getPrototypeOf(e),jt=Hu(1),Mo=e=>jt(e)&&Kd(te.fromDom(e)),zi=e=>jt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Sc=e=>{const t=e.toLowerCase();return o=>ze(o)&&o.nodeName.toLowerCase()===t},hl=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const s=o.nodeName.toLowerCase();return Ho(t,s)}return!1}},os=(e,t)=>{const o=t.toLowerCase().split(" ");return s=>{if(jt(s)){const a=s.ownerDocument.defaultView;if(a)for(let c=0;c<o.length;c++){const d=a.getComputedStyle(s,null);if((d?d.getPropertyValue(e):null)===o[c])return!0}}return!1}},iy=e=>t=>jt(t)&&t.hasAttribute(e),Pm=e=>jt(e)&&e.hasAttribute("data-mce-bogus"),Ug=e=>jt(e)&&e.getAttribute("data-mce-bogus")==="all",Ec=e=>jt(e)&&e.tagName==="TABLE",f0=e=>t=>!!(Mo(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),_h=hl(["textarea","input"]),ut=Hu(3),fx=Hu(4),Ch=Hu(7),md=Hu(8),Zg=Hu(9),kh=Hu(11),Ns=Sc("br"),p0=Sc("img"),Sh=Sc("a"),hi=f0("true"),Wn=f0("false"),jg=e=>Mo(e)&&e.isContentEditable&&ze(e.parentElement)&&!e.parentElement.isContentEditable,Wg=hl(["td","th"]),h0=hl(["td","th","caption"]),Ea=Sc("template"),bi=hl(["video","audio","object","embed"]),zC=Sc("li"),px=Sc("details"),HC=Sc("summary"),ly={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},cy=(e,t,o)=>{const s=te.fromDom(t),a=te.fromDom(e),c=o.getWhitespaceElements();return eu(a,f=>xo(c,Fo(f)),He(Jo,s))},dy=e=>jt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),b0=(e,t)=>jt(e)&&xo(t.getNonEmptyElements(),e.nodeName),xi=iy("data-mce-bookmark"),Gl=e=>ym(te.fromDom(e)).exists(t=>!Yi(t)),Ac=(e,t,o)=>Bm(e.data)&&!cy(e,t,o),x0=(e,t,o,s)=>ut(e)&&!Ac(e,t,o)&&(!s.includeZwsp||!gx(e.data)),Eh=(e,t,o,s)=>no(s.isContent)&&s.isContent(t)||b0(t,e)||xi(t)||dy(t)||x0(t,o,e,s)||Wn(t)||hi(t)&&Gl(t),Vu=(e,t,o)=>{const s={...ly,...o};if(s.checkRootAsContent&&Eh(e,t,t,s))return!1;let a=t.firstChild,c=0;if(!a)return!0;const d=new Qs(a,t);do{if(s.skipBogus&&jt(a)){const f=a.getAttribute("data-mce-bogus");if(f){a=d.next(f==="all");continue}}if(md(a)){a=d.next(!0);continue}if(Ns(a)){c++,a=d.next();continue}if(Eh(e,a,t,s))return!1;a=d.next()}while(a);return c<=1},Aa=(e,t,o)=>Vu(e,t.dom,{checkRootAsContent:!0,...o}),v0=(e,t,o)=>Eh(e,t,t,{includeZwsp:ly.includeZwsp,...o}),uy=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},$u=e=>uy(e)!=="html",qg=e=>$u(e.nodeName),hx=e=>uy(e.nodeName),bx=["svg","math"],xx=()=>{const e=Bl(),t=()=>e.get().map(hx).getOr("html");return{track:a=>(qg(a)?e.set(a):e.get().exists(c=>!c.contains(a))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},qn="data-mce-block",Im=e=>mt(ua(e),t=>!/[A-Z]/.test(t)),ep=e=>Ro(Im(e),t=>{const o=CSS.escape(t);return`${o}:`+Ro(bx,s=>`not(${s} ${o})`).join(":")}).join(","),y0=(e,t)=>ze(t.querySelector(e))?(t.setAttribute(qn,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(qn),!1),w0=(e,t)=>{const o=ep(e.getTransparentElements()),s=ep(e.getBlockElements());return mt(t.querySelectorAll(o),a=>y0(s,a))},Ah=(e,t,o)=>{var s;const a=o?"lastChild":"firstChild";for(let c=t[a];c;c=c[a])if(Vu(e,c,{checkRootAsContent:!0})){(s=c.parentNode)===null||s===void 0||s.removeChild(c);return}},vx=(e,t,o)=>{const s=document.createRange(),a=t.parentNode;if(a){s.setStartBefore(t),s.setEndBefore(o);const c=s.extractContents();Ah(e,c,!0),s.setStartAfter(o),s.setEndAfter(t);const d=s.extractContents();Ah(e,d,!1),Vu(e,c,{checkRootAsContent:!0})||a.insertBefore(c,t),Vu(e,o,{checkRootAsContent:!0})||a.insertBefore(o,t),Vu(e,d,{checkRootAsContent:!0})||a.insertBefore(d,t),a.removeChild(t)}},yx=(e,t,o)=>{const s=e.getBlockElements(),a=te.fromDom(t),c=f=>Fo(f)in s,d=f=>Jo(f,a);Ze(gl(o),f=>{ti(f,c,d).each(b=>{const w=Om(f,T=>c(T)&&!e.isValidChild(Fo(b),Fo(T)));if(w.length>0){const T=ym(b);Ze(w,R=>{ti(R,c,d).each(N=>{vx(e,N.dom,R.dom)})}),T.each(R=>w0(e,R.dom))}})})},my=(e,t,o)=>{Ze([...o,...Uu(e,t)?[t]:[]],s=>Ze(Wr(te.fromDom(s),s.nodeName.toLowerCase()),a=>{wx(e,a.dom)&&Ni(a)}))},Th=(e,t)=>{const o=w0(e,t);yx(e,t,o),my(e,t,o)},el=(e,t)=>{if(tp(e,t)){const o=ep(e.getBlockElements());y0(o,t)}},_0=(e,t,o)=>{const s=c=>Jo(c,te.fromDom(t)),a=Qa(te.fromDom(o),s);nn(a,a.length-2).filter(lr).fold(()=>Th(e,t),c=>Th(e,c.dom))},ta=e=>e.hasAttribute(qn),ou=(e,t)=>xo(e.getTransparentElements(),t),tp=(e,t)=>jt(t)&&ou(e,t.nodeName),Uu=(e,t)=>tp(e,t)&&ta(t),wx=(e,t)=>tp(e,t)&&!ta(t),Dh=(e,t)=>t.type===1&&ou(e,t.name)&&Ge(t.attr(qn)),gy=qi().browser,_x=e=>yn(e,lr),fy=e=>gy.isFirefox()&&Fo(e)==="table"?_x(en(e)).filter(t=>Fo(t)==="caption").bind(t=>_x(K1(t)).map(o=>{const s=o.dom.offsetTop,a=t.dom.offsetTop,c=t.dom.offsetHeight;return s<=a?-c:0})).getOr(0):0,Cx=(e,t)=>e.children&&Ho(e.children,t),Ta=(e,t,o)=>{let s=0,a=0;const c=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&fl(te.fromDom(e),"position")==="static"){const f=t.getBoundingClientRect();return s=f.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,a=f.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:s,y:a}}let d=t;for(;d&&d!==o&&d.nodeType&&!Cx(d,o);){const f=d;s+=f.offsetLeft||0,a+=f.offsetTop||0,d=f.offsetParent}for(d=t.parentNode;d&&d!==o&&d.nodeType&&!Cx(d,o);)s-=d.scrollLeft||0,a-=d.scrollTop||0,d=d.parentNode;a+=fy(te.fromDom(t))}return{x:s,y:a}},Lm=(e,t)=>{const o=t.crossOrigin;return t.contentCssCors?"anonymous":no(o)?o(e):void 0},kx=(e,t={})=>{let o=0;const s={},a=te.fromDom(e),c=pc(a),d=be=>{t.referrerPolicy=be},f=be=>{t.contentCssCors=be},b=be=>{t.crossOrigin=be},w=be=>{ln(Jr(a),be)},T=be=>{const Se=Jr(a);Fs(Se,"#"+be).each(ls)},R=be=>Sn(s,be).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),N=be=>new Promise((Se,Ie)=>{let st;const Et=at._addCacheSuffix(be),ft=R(Et);s[Et]=ft,ft.count++;const Xe=(Ao,tn)=>{Ze(Ao,Co),ft.status=tn,ft.passed=[],ft.failed=[],st&&(st.onload=null,st.onerror=null,st=null)},qe=()=>Xe(ft.passed,2),rt=()=>Xe(ft.failed,3);if(Se&&ft.passed.push(Se),Ie&&ft.failed.push(Ie),ft.status===1)return;if(ft.status===2){qe();return}if(ft.status===3){rt();return}ft.status=1;const Vt=te.fromTag("link",c.dom);Ki(Vt,{rel:"stylesheet",type:"text/css",id:ft.id});const io=Lm(be,t);io!==void 0&&jr(Vt,"crossOrigin",io),t.referrerPolicy&&jr(Vt,"referrerpolicy",t.referrerPolicy),st=Vt.dom,st.onload=qe,st.onerror=rt,w(Vt),jr(Vt,"href",Et)}),F=(be,Se)=>{const Ie=R(be);s[be]=Ie,Ie.count++;const st=te.fromTag("style",c.dom);Ki(st,{rel:"stylesheet",type:"text/css",id:Ie.id,"data-mce-key":be}),st.dom.innerHTML=Se,w(st)},ee=be=>Promise.allSettled(Ro(be,Ie=>N(Ie).then(dt(Ie)))).then(Ie=>{const st=_t(Ie,Et=>Et.status==="fulfilled");return st.fail.length>0?Promise.reject(Ro(st.fail,Et=>Et.reason)):Ro(st.pass,Et=>Et.value)}),X=be=>{const Se=at._addCacheSuffix(be);Sn(s,Se).each(Ie=>{--Ie.count===0&&(delete s[Se],T(Ie.id))})};return{load:N,loadRawCss:F,loadAll:ee,unload:X,unloadRawCss:be=>{Sn(s,be).each(Se=>{--Se.count===0&&(delete s[be],T(Se.id))})},unloadAll:be=>{Ze(be,Se=>{X(Se)})},_setReferrerPolicy:d,_setContentCssCors:f,_setCrossOrigin:b}},Sx=(()=>{const e=new WeakMap;return{forElement:(o,s)=>{const c=Xd(o).dom;return I.from(e.get(c)).getOrThunk(()=>{const d=kx(c,s);return e.set(c,d),d})}}})(),Ex=e=>e.nodeName.toLowerCase()==="span",C0=(e,t)=>ze(e)&&(v0(t,e)||t.isInline(e.nodeName.toLowerCase())),py=(e,t,o)=>{const s=new Qs(e,t).prev(!1),a=new Qs(e,t).next(!1),c=Os(s)||C0(s,o),d=Os(a)||C0(a,o);return c&&d},br=e=>Ex(e)&&e.getAttribute("data-mce-type")==="bookmark",Pr=(e,t,o)=>ut(e)&&e.data.length>0&&py(e,t,o),Da=e=>jt(e)?e.childNodes.length>0:!1,Oa=e=>kh(e)||Zg(e),Ir=(e,t,o,s)=>{var a;const c=s||t;if(jt(t)&&br(t))return t;const d=t.childNodes;for(let f=d.length-1;f>=0;f--)Ir(e,d[f],o,c);if(jt(t)){const f=t.childNodes;f.length===1&&br(f[0])&&((a=t.parentNode)===null||a===void 0||a.insertBefore(f[0],t))}return!Oa(t)&&!v0(o,t)&&!Da(t)&&!Pr(t,c,o)&&e.remove(t),t},Lr=at.makeMap,Gg=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kg=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ax=/[<>&\"\']/g,hy=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,k0={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},gd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Tx={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},S0=e=>{const t=te.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},tl=(e,t)=>{const o={};if(e){const s=e.split(",");t=t||10;for(let a=0;a<s.length;a+=2){const c=String.fromCharCode(parseInt(s[a],t));if(!gd[c]){const d="&"+s[a+1]+";";o[c]=d,o[d]=c}}return o}else return},nu=tl("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Zu=(e,t)=>e.replace(t?Gg:Kg,o=>gd[o]||o),Dx=e=>(""+e).replace(Ax,t=>gd[t]||t),Ox=(e,t)=>e.replace(t?Gg:Kg,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":gd[o]||"&#"+o.charCodeAt(0)+";"),Oh=(e,t,o)=>{const s=o||nu;return e.replace(t?Gg:Kg,a=>gd[a]||s[a]||a)},fd={encodeRaw:Zu,encodeAllRaw:Dx,encodeNumeric:Ox,encodeNamed:Oh,getEncodeFunc:(e,t)=>{const o=tl(t)||nu,s=(d,f)=>d.replace(f?Gg:Kg,b=>gd[b]!==void 0?gd[b]:o[b]!==void 0?o[b]:b.length>1?"&#"+((b.charCodeAt(0)-55296)*1024+(b.charCodeAt(1)-56320)+65536)+";":"&#"+b.charCodeAt(0)+";"),a=(d,f)=>Oh(d,f,o),c=Lr(e.replace(/\+/g,","));return c.named&&c.numeric?s:c.named?t?a:Oh:c.numeric?Ox:Zu},decode:e=>e.replace(hy,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):k0[o]||String.fromCharCode(o)):Tx[t]||nu[t]||S0(t))},Fr=(e,t)=>(e=at.trim(e),e?e.split(t||" "):[]),op=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),np=e=>oe(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Yg=e=>{const t=o=>ue(o)?Ro(o,t):np(o)?new RegExp(o.source,o.flags):oe(o)?Vr(o,t):o;return t(e)},Kl=e=>{const t=/^(~)?(.+)$/;return sr(Fr(e,","),o=>{const s=t.exec(o);if(s){const c=s[1]==="~"?"span":"div",d=s[2];return[{cloneName:c,name:d}]}else return[]})},sp=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Rh=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:s}},Nh=e=>{const{blockContent:t,phrasingContent:o,flowContent:s}=Rh(e),a=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:a(t),phrasingContent:a(o),flowContent:a(s)})},$C={html4:ui(()=>Nh("html4")),html5:ui(()=>Nh("html5")),"html5-strict":ui(()=>Nh("html5-strict"))},Nx=(e,t)=>{const{blockContent:o,phrasingContent:s,flowContent:a}=$C[e]();return t==="blocks"?I.some(o):t==="phrasing"?I.some(s):t==="flow"?I.some(a):I.none()},UC=e=>{const t=sp(e),{phrasingContent:o,flowContent:s}=Rh(e),a={},c=(b,w,T)=>{a[b]={attributes:Ar(w,dt({})),attributesOrder:w,children:Ar(T,dt({}))}},d=(b,w="",T="")=>{const R=Fr(T),N=Fr(b);let F=N.length;const ee=[...t,...Fr(w)];for(;F--;)c(N[F],ee.slice(),R)},f=(b,w)=>{const T=Fr(b),R=Fr(w);let N=T.length;for(;N--;){const F=a[T[N]];for(let ee=0,X=R.length;ee<X;ee++)F.attributes[R[ee]]={},F.attributesOrder.push(R[ee])}};return e!=="html5-strict"&&(Ze(Fr("acronym applet basefont big font strike tt"),T=>{d(T,"",o)}),Ze(Fr("center dir isindex noframes"),T=>{d(T,"",s)})),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),d("dd div","",s),d("address dt caption","",e==="html4"?o:s),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),d("blockquote","cite",s),d("ol","reversed start type","li"),d("ul","","li"),d("li","value",s),d("dl","","dt dd"),d("a","href target rel media hreflang type",e==="html4"?o:s),d("q","cite",o),d("ins del","cite datetime",s),d("img","src sizes srcset alt usemap ismap width height"),d("iframe","src name width height",s),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),d("param","name value"),d("map","name",[s,"area"].join(" ")),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",s),d("th","colspan rowspan headers scope abbr",s),d("form","accept-charset action autocomplete enctype method name novalidate target",s),d("fieldset","disabled form name",[s,"legend"].join(" ")),d("label","form for",o),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:o),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",[s,"li"].join(" ")),d("noscript","",s),e!=="html4"&&(d("wbr"),d("ruby","",[o,"rt rp"].join(" ")),d("figcaption","",s),d("mark rt rp bdi","",o),d("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),d("canvas","width height",s),d("data","value",o),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[o,"option"].join(" ")),d("article section nav aside main header footer","",s),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[s,"figcaption"].join(" ")),d("time","datetime",o),d("dialog","open",s),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",o),d("progress","value max",o),d("meter","value min max low high optimum",o),d("details","open",[s,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid code codebase codetype archive standby align border hspace vspace"),f("embed","align name hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br","clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),f("area","nohref"),f("body","background bgcolor text link vlink alink")),e!=="html4"&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("img","loading"),f("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Ze([a.video,a.audio],b=>{delete b.children.audio,delete b.children.video}),Ze(Fr("a form meter progress dfn"),b=>{a[b]&&delete a[b].children[b]}),delete a.caption.children.table,delete a.script,a},ZC=e=>e==="-"?"remove":"add",su=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return I.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},Mx=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return sr(Fr(e,","),o=>{const s=t.exec(o);if(s){const a=s[1],c=a?ZC(a):"replace",d=s[2],f=sr(Fr(s[3],"|"),b=>su(b).toArray());return[{operation:c,name:d,validChildren:f}]}else return[]})},Xg=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:a,attributesOrder:c}=t;return Ze(Fr(e,"|"),d=>{const f=o.exec(d);if(f){const b={},w=f[1],T=f[2].replace(/[\\:]:/g,":"),R=f[3],N=f[4];if(w==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(T),b.required=!0),w==="-"){delete a[T],c.splice(at.inArray(c,T),1);return}if(R&&(R==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:T,value:N}),b.defaultValue=N):R==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:T,value:N}),b.forcedValue=N):R==="<"&&(b.validValues=at.makeMap(N,"?"))),s.test(T)){const F=b;t.attributePatterns=t.attributePatterns||[],F.pattern=op(T),t.attributePatterns.push(F)}else a[T]||c.push(T),a[T]=b}})},E0=(e,t)=>{Xo(e.attributes,(o,s)=>{t.attributes[s]=o}),t.attributesOrder.push(...e.attributesOrder)},ru=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return sr(Fr(t,","),s=>{const a=o.exec(s);if(a){const c=a[1],d=a[2],f=a[3],b=a[4],w=a[5],T={attributes:{},attributesOrder:[]};if(e.each(R=>E0(R,T)),c==="#"?T.paddEmpty=!0:c==="-"&&(T.removeEmpty=!0),b==="!"&&(T.removeEmptyAttrs=!0),w&&Xg(w,T),f&&(T.outputName=d),d==="@")if(e.isNone())e=I.some(T);else return[];return[f?{name:d,element:T,aliasName:f}:{name:d,element:T}]}else return[]})},Fm={},rp=at.makeMap,Js=at.each,bl=at.extend,si=at.explode,Qg=(e,t={})=>{const o=rp(e," ",rp(e.toUpperCase()," "));return bl(o,t)},pd=e=>Qg("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),qo=(e,t)=>{if(e){const o={};return Ge(e)&&(e={"*":e}),Js(e,(s,a)=>{o[a]=o[a.toUpperCase()]=t==="map"?rp(s,/[, ]/):si(s,/[, ]/)}),o}else return},Gt=(e={})=>{var t;const o={},s={};let a=[];const c={},d={},f=(ro,Cn,_r)=>{const Ma=e[ro];if(Ma)return rp(Ma,/[, ]/,rp(Ma.toUpperCase(),/[, ]/));{let Ga=Fm[ro];return Ga||(Ga=Qg(Cn,_r),Fm[ro]=Ga),Ga}},b=(t=e.schema)!==null&&t!==void 0?t:"html5",w=UC(b);e.verify_html===!1&&(e.valid_elements="*[*]");const T=qo(e.valid_styles),R=qo(e.invalid_styles,"map"),N=qo(e.valid_classes,"map"),F=f("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ee=f("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),X=f("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),G=f("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),xe="td th iframe video audio object script code",be=f("non_empty_elements",xe+" pre svg textarea summary",X),Se=f("move_caret_before_on_enter_elements",xe+" table",X),Ie="h1 h2 h3 h4 h5 h6",st=f("text_block_elements",Ie+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Et=f("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",st),ft=f("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Xe=f("transparent_elements","a ins del canvas map"),qe=f("wrap_block_elements","pre "+Ie);Js("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),ro=>{d[ro]=new RegExp("</"+ro+"[^>]*>","gi")});const rt=ro=>{const Cn=I.from(o["@"]),_r=/[*?+]/;Ze(ru(Cn,ro??""),({name:Ma,element:Ga,aliasName:va})=>{if(va&&(o[va]=Ga),_r.test(Ma)){const tr=Ga;tr.pattern=op(Ma),a.push(tr)}else o[Ma]=Ga})},Vt=ro=>{a=[],Ze(ua(o),Cn=>{delete o[Cn]}),rt(ro)},io=(ro,Cn)=>{var _r,Ma;delete Fm.text_block_elements,delete Fm.block_elements;const Ga=Cn.extends?!Tl(Cn.extends):!1,va=Cn.extends;if(s[ro]=va?s[va]:{},c[ro]=va??ro,be[ro.toUpperCase()]={},be[ro]={},Ga||(Et[ro.toUpperCase()]={},Et[ro]={}),va&&!o[ro]&&o[va]){const tr=Yg(o[va]);delete tr.removeEmptyAttrs,delete tr.removeEmpty,o[ro]=tr}else o[ro]={attributesOrder:[],attributes:{}};if(ue(Cn.attributes)){const tr=uc=>{or.attributesOrder.push(uc),or.attributes[uc]={}},or=(_r=o[ro])!==null&&_r!==void 0?_r:{};delete or.attributesDefault,delete or.attributesForced,delete or.attributePatterns,delete or.attributesRequired,or.attributesOrder=[],or.attributes={},Ze(Cn.attributes,uc=>{const yg=sp(b);su(uc).each(({preset:eh,name:If})=>{eh?If==="global"&&Ze(yg,tr):tr(If)})}),o[ro]=or}if(us(Cn.padEmpty)){const tr=(Ma=o[ro])!==null&&Ma!==void 0?Ma:{};tr.paddEmpty=Cn.padEmpty,o[ro]=tr}if(ue(Cn.children)){const tr={},or=yg=>{tr[yg]={}},uc=yg=>{Nx(b,yg).each(eh=>{Ze(eh,or)})};Ze(Cn.children,yg=>{su(yg).each(({preset:eh,name:If})=>{eh?uc(If):or(If)})}),s[ro]=tr}va&&Xo(s,(tr,or)=>{tr[va]&&(s[or]=tr=bl({},s[or]),tr[ro]=tr[va])})},Ao=ro=>{Ze(Kl(ro??""),({name:Cn,cloneName:_r})=>{io(Cn,{extends:_r})})},tn=ro=>{oe(ro)?Xo(ro,(Cn,_r)=>io(_r,Cn)):Ge(ro)&&Ao(ro)},ds=ro=>{Ze(Mx(ro??""),({operation:Cn,name:_r,validChildren:Ma})=>{const Ga=Cn==="replace"?{"#comment":{}}:s[_r],va=or=>{Cn==="remove"?delete Ga[or]:Ga[or]={}},tr=or=>{Nx(b,or).each(uc=>{Ze(uc,va)})};Ze(Ma,({preset:or,name:uc})=>{or?tr(uc):va(uc)}),s[_r]=Ga})},hs=ro=>{const Cn=o[ro];if(Cn)return Cn;let _r=a.length;for(;_r--;){const Ma=a[_r];if(Ma.pattern.test(ro))return Ma}},xa=()=>{e.valid_elements?(Vt(e.valid_elements),Js(w,(ro,Cn)=>{s[Cn]=ro.children})):(Js(w,(ro,Cn)=>{o[Cn]={attributes:ro.attributes,attributesOrder:ro.attributesOrder},s[Cn]=ro.children}),Js(Fr("strong/b em/i"),ro=>{const Cn=Fr(ro,"/");o[Cn[1]].outputName=Cn[0]}),Js(ft,(ro,Cn)=>{o[Cn]&&(e.padd_empty_block_inline_children&&(o[Cn].paddInEmptyBlock=!0),o[Cn].removeEmpty=!0)}),Js(Fr("ol ul blockquote a table tbody"),ro=>{o[ro]&&(o[ro].removeEmpty=!0)}),Js(Fr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),ro=>{o[ro]&&(o[ro].paddEmpty=!0)}),Js(Fr("span"),ro=>{o[ro].removeEmptyAttrs=!0})),delete o.svg,tn(e.custom_elements),ds(e.valid_children),rt(e.extended_valid_elements),ds("+ol[ul|ol],+ul[ul|ol]"),Js({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(ro,Cn)=>{o[Cn]&&(o[Cn].parentsRequired=Fr(ro))}),e.invalid_elements&&Js(si(e.invalid_elements),ro=>{o[ro]&&delete o[ro]}),hs("span")||rt("span[!data-mce-type|*]")},wr=dt(T),sl=dt(R),Nt=dt(N),eo=dt(G),Nn=dt(Et),Pn=dt(st),Kt=dt(ft),wt=dt(Object.seal(X)),Ft=dt(ee),uo=dt(be),yo=dt(Se),Qn=dt(F),gs=dt(Xe),Pd=dt(qe),li=dt(Object.seal(d)),dm=(ro,Cn)=>{const _r=s[ro.toLowerCase()];return!!(_r&&_r[Cn.toLowerCase()])},wu=(ro,Cn)=>{const _r=hs(ro);if(_r)if(Cn){if(_r.attributes[Cn])return!0;const Ma=_r.attributePatterns;if(Ma){let Ga=Ma.length;for(;Ga--;)if(Ma[Ga].pattern.test(Cn))return!0}}else return!0;return!1},Tl=ro=>xo(Nn(),ro),dc=ro=>!Is(ro,"#")&&wu(ro)&&!Tl(ro),um=ro=>xo(Pd(),ro)||dc(ro),Ub=dt(c);return xa(),{type:b,children:s,elements:o,getValidStyles:wr,getValidClasses:Nt,getBlockElements:Nn,getInvalidStyles:sl,getVoidElements:wt,getTextBlockElements:Pn,getTextInlineElements:Kt,getBoolAttrs:eo,getElementRule:hs,getSelfClosingElements:Ft,getNonEmptyElements:uo,getMoveCaretBeforeOnEnterElements:yo,getWhitespaceElements:Qn,getTransparentElements:gs,getSpecialElements:li,isValidChild:dm,isValid:wu,isBlock:Tl,isInline:dc,isWrapper:um,getCustomElements:Ub,addValidElements:rt,setValidElements:Vt,addCustomElements:tn,addValidChildren:ds}},Mh=e=>({value:Bx(e)}),Bx=e=>Uf(e,"#").toUpperCase(),Bh=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},Ph=e=>{const t=Bh(e.red)+Bh(e.green)+Bh(e.blue);return Mh(t)},Gn=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,ju=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,A0=(e,t,o,s)=>({red:e,green:t,blue:o,alpha:s}),Ke=(e,t,o,s)=>{const a=parseInt(e,10),c=parseInt(t,10),d=parseInt(o,10),f=parseFloat(s);return A0(a,c,d,f)},T0=e=>Gn.test(e)?"rgb":ju.test(e)?"rgba":"other",ap=e=>{const t=Gn.exec(e);if(t!==null)return I.some(Ke(t[1],t[2],t[3],"1"));const o=ju.exec(e);return o!==null?I.some(Ke(o[1],o[2],o[3],o[4])):I.none()},ip=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Jg=e=>ap(e).map(Ph).map(t=>"#"+t.value).getOr(e),hd=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,c={};let d,f;const b=Xc;t&&(d=t.getValidStyles(),f=t.getInvalidStyles());const w=(`\\" \\' \\; \\: ; : `+b).split(" ");for(let R=0;R<w.length;R++)c[w[R]]=b+R,c[b+R]=w[R];const T={parse:R=>{const N={};let F=!1;const ee=e.url_converter,X=e.url_converter_scope||T,G=(Xe,qe,rt)=>{const Vt=N[Xe+"-top"+qe];if(!Vt)return;const io=N[Xe+"-right"+qe];if(!io)return;const Ao=N[Xe+"-bottom"+qe];if(!Ao)return;const tn=N[Xe+"-left"+qe];if(!tn)return;const ds=[Vt,io,Ao,tn];let hs=ds.length-1;for(;hs--&&ds[hs]===ds[hs+1];);hs>-1&&rt||(N[Xe+qe]=hs===-1?ds[0]:ds.join(" "),delete N[Xe+"-top"+qe],delete N[Xe+"-right"+qe],delete N[Xe+"-bottom"+qe],delete N[Xe+"-left"+qe])},xe=Xe=>{const qe=N[Xe];if(!qe)return;const rt=qe.indexOf(",")>-1?[qe]:qe.split(" ");let Vt=rt.length;for(;Vt--;)if(rt[Vt]!==rt[0])return!1;return N[Xe]=rt[0],!0},be=(Xe,qe,rt,Vt)=>{xe(qe)&&xe(rt)&&xe(Vt)&&(N[Xe]=N[qe]+" "+N[rt]+" "+N[Vt],delete N[qe],delete N[rt],delete N[Vt])},Se=Xe=>(F=!0,c[Xe]),Ie=(Xe,qe)=>(F&&(Xe=Xe.replace(/\uFEFF[0-9]/g,rt=>c[rt])),qe||(Xe=Xe.replace(/\\([\'\";:])/g,"$1")),Xe),st=Xe=>String.fromCharCode(parseInt(Xe.slice(1),16)),Et=Xe=>Xe.replace(/\\[0-9a-f]+/gi,st),ft=(Xe,qe,rt,Vt,io,Ao)=>{if(io=io||Ao,io)return io=Ie(io),"'"+io.replace(/\'/g,"\\'")+"'";if(qe=Ie(qe||rt||Vt||""),!e.allow_script_urls){const tn=qe.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(tn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(tn))return""}return ee&&(qe=ee.call(X,qe,"style")),"url('"+qe.replace(/\'/g,"\\'")+"')"};if(R){R=R.replace(/[\u0000-\u001F]/g,""),R=R.replace(/\\[\"\';:\uFEFF]/g,Se).replace(/\"[^\"]+\"|\'[^\']+\'/g,qe=>qe.replace(/[;:]/g,Se));let Xe;for(;Xe=s.exec(R);){s.lastIndex=Xe.index+Xe[0].length;let qe=Xe[1].replace(a,"").toLowerCase(),rt=Xe[2].replace(a,"");if(qe&&rt){if(qe=Et(qe),rt=Et(rt),qe.indexOf(b)!==-1||qe.indexOf('"')!==-1||!e.allow_script_urls&&(qe==="behavior"||/expression\s*\(|\/\*|\*\//.test(rt)))continue;qe==="font-weight"&&rt==="700"?rt="bold":(qe==="color"||qe==="background-color")&&(rt=rt.toLowerCase()),T0(rt)==="rgb"&&ap(rt).each(Vt=>{rt=Jg(ip(Vt)).toLowerCase()}),rt=rt.replace(o,ft),N[qe]=F?Ie(rt,!0):rt}}G("border","",!0),G("border","-width"),G("border","-color"),G("border","-style"),G("padding",""),G("margin",""),be("border","border-width","border-style","border-color"),N.border==="medium none"&&delete N.border,N["border-image"]==="none"&&delete N["border-image"]}return N},serialize:(R,N)=>{let F="";const ee=(G,xe)=>{const be=xe[G];if(be)for(let Se=0,Ie=be.length;Se<Ie;Se++){const st=be[Se],Et=R[st];Et&&(F+=(F.length>0?" ":"")+st+": "+Et+";")}},X=(G,xe)=>{if(!f||!xe)return!0;let be=f["*"];return be&&be[G]?!1:(be=f[xe],!(be&&be[G]))};return N&&d?(ee("*",d),ee(N,d)):Xo(R,(G,xe)=>{G&&X(xe,N)&&(F+=(F.length>0?" ":"")+xe+": "+G+";")}),F}};return T},Px={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Wu=e=>e instanceof Event||no(e.initEvent),as=e=>e.isDefaultPrevented===Vo||e.isDefaultPrevented===_o,Tc=e=>Yo(e.preventDefault)||Wu(e),Ix=(e,t)=>{const o=t??{};for(const s in e)xo(Px,s)||(o[s]=e[s]);return ze(e.composedPath)&&(o.composedPath=()=>e.composedPath()),ze(e.getModifierState)&&(o.getModifierState=s=>e.getModifierState(s)),ze(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Dc=(e,t,o,s)=>{var a;const c=Ix(t,s);return c.type=e,Yo(c.target)&&(c.target=(a=c.srcElement)!==null&&a!==void 0?a:o),Tc(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=Vo,no(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=Vo,no(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=Vo,c.stopPropagation()},as(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?Vo:_o,c.isPropagationStopped=c.cancelBubble===!0?Vo:_o,c.isImmediatePropagationStopped=_o)),c},bd="mce-data-",D0=/^(?:mouse|contextmenu)|click/,Lx=(e,t,o,s)=>{e.addEventListener(t,o,s||!1)},Ih=(e,t,o,s)=>{e.removeEventListener(t,o,s||!1)},ht=e=>ze(e)&&D0.test(e.type),Lh=(e,t)=>{const o=Dc(e.type,e,document,t);if(ht(e)&&Os(e.pageX)&&!Os(e.clientX)){const s=o.target.ownerDocument||document,a=s.documentElement,c=s.body,d=o;d.pageX=e.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),d.pageY=e.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}return o},pa=(e,t,o)=>{const s=e.document,a={type:"ready"};if(o.domLoaded){t(a);return}const c=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,d=()=>{Ih(e,"DOMContentLoaded",d),Ih(e,"load",d),o.domLoaded||(o.domLoaded=!0,t(a)),e=null};c()?d():Lx(e,"DOMContentLoaded",d),o.domLoaded||Lx(e,"load",d)};class ef{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=bd+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,s,a){const c=this;let d;const f=window,b=N=>{c.executeHandlers(Lh(N||f.event),w)};if(!t||ut(t)||md(t))return s;let w;t[c.expando]?w=t[c.expando]:(w=c.count++,t[c.expando]=w,c.events[w]={}),a=a||t;const T=o.split(" ");let R=T.length;for(;R--;){let N=T[R],F=b,ee=!1,X=!1;if(N==="DOMContentLoaded"&&(N="ready"),c.domLoaded&&N==="ready"&&t.readyState==="complete"){s.call(a,Lh({type:N}));continue}!c.hasFocusIn&&(N==="focusin"||N==="focusout")&&(ee=!0,X=N==="focusin"?"focus":"blur",F=G=>{const xe=Lh(G||f.event);xe.type=xe.type==="focus"?"focusin":"focusout",c.executeHandlers(xe,w)}),d=c.events[w][N],d?N==="ready"&&c.domLoaded?s(Lh({type:N})):d.push({func:s,scope:a}):(c.events[w][N]=d=[{func:s,scope:a}],d.fakeName=X,d.capture=ee,d.nativeHandler=F,N==="ready"?pa(t,F,c):Lx(t,X||N,F,ee))}return t=d=null,s}unbind(t,o,s){if(!t||ut(t)||md(t))return this;const a=t[this.expando];if(a){let c=this.events[a];if(o){const d=o.split(" ");let f=d.length;for(;f--;){const b=d[f],w=c[b];if(w){if(s){let T=w.length;for(;T--;)if(w[T].func===s){const R=w.nativeHandler,N=w.fakeName,F=w.capture,ee=w.slice(0,T).concat(w.slice(T+1));ee.nativeHandler=R,ee.fakeName=N,ee.capture=F,c[b]=ee}}(!s||w.length===0)&&(delete c[b],Ih(t,w.fakeName||b,w.nativeHandler,w.capture))}}}else Xo(c,(d,f)=>{Ih(t,d.fakeName||f,d.nativeHandler,d.capture)}),c={};for(const d in c)if(xo(c,d))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,s){return this.dispatch(t,o,s)}dispatch(t,o,s){if(!t||ut(t)||md(t))return this;const a=Lh({type:o,target:t},s);do{const c=t[this.expando];c&&this.executeHandlers(a,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!a.isPropagationStopped());return this}clean(t){if(!t||ut(t)||md(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let s=o.length;for(;s--;)t=o[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const s=this.events[o],a=s&&s[t.type];if(a)for(let c=0,d=a.length;c<d;c++){const f=a[c];if(f&&f.func.call(f.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}ef.Event=new ef;const Fh=at.each,xy=at.grep,co="data-mce-style",Fx=at.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),zm=(e,t,o)=>{Yo(o)||o===""?Nr(e,t):jr(e,t,o)},vy=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),xd=(e,t)=>{let o=0;if(e)for(let s=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const c=a.nodeType;t&&ut(a)&&(c===s||!a.data.length)||(o++,s=c)}return o},ho=(e,t)=>{const o=Ys(t,"style"),s=e.serialize(e.parse(o),Fo(t));zm(t,co,s)},zx=(e,t)=>E(e)?xo(Fx,t)?e+"":e+"px":e,au=(e,t,o)=>{const s=vy(t);Yo(o)||o===""?gi(e,s):zg(e,s,zx(o,s))},Yl=(e,t,o)=>{const s=t.keep_values,a={set:(d,f,b)=>{const w=te.fromDom(d);no(t.url_converter)&&ze(f)&&(f=t.url_converter.call(t.url_converter_scope||o(),String(f),b,d));const T="data-mce-"+b;zm(w,T,f),zm(w,b,f)},get:(d,f)=>{const b=te.fromDom(d);return Ys(b,"data-mce-"+f)||Ys(b,f)}},c={style:{set:(d,f)=>{const b=te.fromDom(d);s&&zm(b,co,f),Nr(b,"style"),Ge(f)&&Xf(b,e.parse(f))},get:d=>{const f=te.fromDom(d),b=Ys(f,co)||Ys(f,"style");return e.serialize(e.parse(b),Fo(f))}}};return s&&(c.href=c.src=a),c},On=(e,t={})=>{const o={},s=window,a={};let c=0;const d=!0,f=!0,b=Sx.forElement(te.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy,crossOrigin:Ne=>{const Fe=t.crossOrigin;if(no(Fe))return Fe(Ne,"stylesheet")}}),w=[],T=t.schema?t.schema:Gt({}),R=hd({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),N=t.ownEvents?new ef:ef.Event,F=T.getBlockElements(),ee=Ne=>Ge(Ne)?xo(F,Ne):jt(Ne)&&(xo(F,Ne.nodeName)||Uu(T,Ne)),X=Ne=>Ne&&e&&Ge(Ne)?e.getElementById(Ne):Ne,G=Ne=>{const Fe=X(Ne);return ze(Fe)?te.fromDom(Fe):null},xe=(Ne,Fe,Rt="")=>{let Ct;const po=G(Ne);if(ze(po)&&lr(po)){const Tn=eR[Fe];Tn&&Tn.get?Ct=Tn.get(po.dom,Fe):Ct=Ys(po,Fe)}return ze(Ct)?Ct:Rt},be=Ne=>{const Fe=X(Ne);return Yo(Fe)?[]:Fe.attributes},Se=(Ne,Fe,Rt)=>{eo(Ne,Ct=>{if(jt(Ct)){const po=te.fromDom(Ct),Tn=Rt===""?null:Rt,Cr=Ys(po,Fe),Lf=eR[Fe];Lf&&Lf.set?Lf.set(po.dom,Tn,Fe):zm(po,Fe,Tn),Cr!==Tn&&t.onSetAttrib&&t.onSetAttrib({attrElm:po.dom,attrName:Fe,attrValue:Tn})}})},Ie=(Ne,Fe)=>Ne.cloneNode(Fe),st=()=>t.root_element||e.body,Et=Ne=>{const Fe=Cc(Ne);return{x:Fe.x,y:Fe.y,w:Fe.width,h:Fe.height}},ft=(Ne,Fe)=>Ta(e.body,X(Ne),Fe),Xe=(Ne,Fe,Rt)=>{eo(Ne,Ct=>{const po=te.fromDom(Ct);au(po,Fe,Rt),t.update_styles&&ho(R,po)})},qe=(Ne,Fe)=>{eo(Ne,Rt=>{const Ct=te.fromDom(Rt);Xo(Fe,(po,Tn)=>{au(Ct,Tn,po)}),t.update_styles&&ho(R,Ct)})},rt=(Ne,Fe,Rt)=>{const Ct=X(Ne);if(!(Yo(Ct)||!Mo(Ct)&&!zi(Ct)))return Rt?fl(te.fromDom(Ct),vy(Fe)):(Fe=Fe.replace(/-(\D)/g,(po,Tn)=>Tn.toUpperCase()),Fe==="float"&&(Fe="cssFloat"),Ct.style?Ct.style[Fe]:void 0)},Vt=Ne=>{const Fe=X(Ne);if(!Fe)return{w:0,h:0};let Rt=rt(Fe,"width"),Ct=rt(Fe,"height");return(!Rt||Rt.indexOf("px")===-1)&&(Rt="0"),(!Ct||Ct.indexOf("px")===-1)&&(Ct="0"),{w:parseInt(Rt,10)||Fe.offsetWidth||Fe.clientWidth,h:parseInt(Ct,10)||Fe.offsetHeight||Fe.clientHeight}},io=Ne=>{const Fe=X(Ne),Rt=ft(Fe),Ct=Vt(Fe);return{x:Rt.x,y:Rt.y,w:Ct.w,h:Ct.h}},Ao=(Ne,Fe)=>{if(!Ne)return!1;const Rt=ue(Ne)?Ne:[Ne];return Mn(Rt,Ct=>Bn(te.fromDom(Ct),Fe))},tn=(Ne,Fe,Rt,Ct)=>{const po=[];let Tn=X(Ne);Ct=Ct===void 0;const Cr=Rt||(st().nodeName!=="BODY"?st().parentNode:null);if(Ge(Fe))if(Fe==="*")Fe=jt;else{const Lf=Fe;Fe=_g=>Ao(_g,Lf)}for(;Tn&&!(Tn===Cr||Yo(Tn.nodeType)||Zg(Tn)||kh(Tn));){if(!Fe||Fe(Tn))if(Ct)po.push(Tn);else return[Tn];Tn=Tn.parentNode}return Ct?po:null},ds=(Ne,Fe,Rt)=>{const Ct=tn(Ne,Fe,Rt,!1);return Ct&&Ct.length>0?Ct[0]:null},hs=(Ne,Fe,Rt)=>{let Ct=Fe;if(Ne){Ge(Fe)&&(Ct=po=>Ao(po,Fe));for(let po=Ne[Rt];po;po=po[Rt])if(no(Ct)&&Ct(po))return po}return null},xa=(Ne,Fe)=>hs(Ne,Fe,"nextSibling"),wr=(Ne,Fe)=>hs(Ne,Fe,"previousSibling"),sl=Ne=>no(Ne.querySelectorAll),Nt=(Ne,Fe)=>{var Rt,Ct;const po=(Ct=(Rt=X(Fe))!==null&&Rt!==void 0?Rt:t.root_element)!==null&&Ct!==void 0?Ct:e;return sl(po)?Tt(po.querySelectorAll(Ne)):[]},eo=function(Ne,Fe,Rt){const Ct=Rt??this;if(ue(Ne)){const po=[];return Fh(Ne,(Tn,Cr)=>{const Lf=X(Tn);Lf&&po.push(Fe.call(Ct,Lf,Cr))}),po}else{const po=X(Ne);return po?Fe.call(Ct,po):!1}},Nn=(Ne,Fe)=>{eo(Ne,Rt=>{Xo(Fe,(Ct,po)=>{Se(Rt,po,Ct)})})},Pn=(Ne,Fe)=>{eo(Ne,Rt=>{const Ct=te.fromDom(Rt);Cm(Ct,Fe)})},Kt=(Ne,Fe,Rt,Ct,po)=>eo(Ne,Tn=>{const Cr=Ge(Fe)?e.createElement(Fe):Fe;return ze(Rt)&&Nn(Cr,Rt),Ct&&(!Ge(Ct)&&Ct.nodeType?Cr.appendChild(Ct):Ge(Ct)&&Pn(Cr,Ct)),po?Cr:Tn.appendChild(Cr)}),wt=(Ne,Fe,Rt)=>Kt(e.createElement(Ne),Ne,Fe,Rt,!0),Ft=fd.decode,uo=fd.encodeAllRaw,yo=(Ne,Fe,Rt="")=>{let Ct="<"+Ne;for(const po in Fe)ke(Fe,po)&&(Ct+=" "+po+'="'+uo(Fe[po])+'"');return Yc(Rt)&&xo(T.getVoidElements(),Ne)?Ct+" />":Ct+">"+Rt+"</"+Ne+">"},Qn=Ne=>{const Fe=e.createElement("div"),Rt=e.createDocumentFragment();Rt.appendChild(Fe),Ne&&(Fe.innerHTML=Ne);let Ct;for(;Ct=Fe.firstChild;)Rt.appendChild(Ct);return Rt.removeChild(Fe),Rt},gs=(Ne,Fe)=>eo(Ne,Rt=>{const Ct=te.fromDom(Rt);return Fe&&Ze(en(Ct),po=>{Xa(po)&&po.dom.length===0?ls(po):ea(Ct,po)}),ls(Ct),Ct.dom}),Pd=Ne=>eo(Ne,Fe=>{const Rt=Fe.attributes;for(let Ct=Rt.length-1;Ct>=0;Ct--)Fe.removeAttributeNode(Rt.item(Ct))}),li=Ne=>R.parse(Ne),dm=(Ne,Fe)=>R.serialize(Ne,Fe),wu=Ne=>{if(jb!==On.DOM&&e===document){if(o[Ne])return;o[Ne]=!0}let Fe=e.getElementById("mceDefaultStyles");if(!Fe){Fe=e.createElement("style"),Fe.id="mceDefaultStyles",Fe.type="text/css";const Rt=e.head;Rt.firstChild?Rt.insertBefore(Fe,Rt.firstChild):Rt.appendChild(Fe)}Fe.styleSheet?Fe.styleSheet.cssText+=Ne:Fe.appendChild(e.createTextNode(Ne))},Tl=Ne=>{Ne||(Ne=""),Ze(Ne.split(","),Fe=>{a[Fe]=!0,b.load(Fe).catch(Do)})},dc=(Ne,Fe,Rt)=>{eo(Ne,Ct=>{if(jt(Ct)){const po=te.fromDom(Ct),Tn=Fe.split(" ");Ze(Tn,Cr=>{ze(Rt)?(Rt?$l:Fi)(po,Cr):Sa(po,Cr)})}})},um=(Ne,Fe)=>{dc(Ne,Fe,!0)},Ub=(Ne,Fe)=>{dc(Ne,Fe,!1)},ro=(Ne,Fe)=>{const Rt=G(Ne),Ct=Fe.split(" ");return ze(Rt)&&Pa(Ct,po=>rs(Rt,po))},Cn=Ne=>{eo(Ne,Fe=>gi(te.fromDom(Fe),"display"))},_r=Ne=>{eo(Ne,Fe=>zg(te.fromDom(Fe),"display","none"))},Ma=Ne=>{const Fe=G(Ne);return ze(Fe)&&mr(Sm(Fe,"display"),"none")},Ga=Ne=>(Ne||"mce_")+c++,va=Ne=>{const Fe=G(Ne);return ze(Fe)?jt(Fe.dom)?Fe.dom.outerHTML:Y2(Fe):""},tr=(Ne,Fe)=>{eo(Ne,Rt=>{jt(Rt)&&(Rt.outerHTML=Fe)})},or=(Ne,Fe)=>{const Rt=X(Fe);return eo(Ne,Ct=>{const po=Rt?.parentNode,Tn=Rt?.nextSibling;return po&&(Tn?po.insertBefore(Ct,Tn):po.appendChild(Ct)),Ct})},uc=(Ne,Fe,Rt)=>eo(Fe,Ct=>{var po;const Tn=ue(Fe)?Ne.cloneNode(!0):Ne;return Rt&&Fh(xy(Ct.childNodes),Cr=>{Tn.appendChild(Cr)}),(po=Ct.parentNode)===null||po===void 0||po.replaceChild(Tn,Ct),Ct}),yg=(Ne,Fe)=>{if(Ne.nodeName!==Fe.toUpperCase()){const Rt=wt(Fe);return Fh(be(Ne),Ct=>{Se(Rt,Ct.nodeName,xe(Ne,Ct.nodeName))}),uc(Rt,Ne,!0),Rt}else return Ne},eh=(Ne,Fe)=>{let Rt=Ne;for(;Rt;){let Ct=Fe;for(;Ct&&Rt!==Ct;)Ct=Ct.parentNode;if(Rt===Ct)break;Rt=Rt.parentNode}return!Rt&&Ne.ownerDocument?Ne.ownerDocument.documentElement:Rt},If=(Ne,Fe,Rt)=>yt(Fe)?Vu(T,Ne,{...Rt,isContent:po=>{const Tn=po.nodeName.toLowerCase();return!!Fe[Tn]}}):Vu(T,Ne,Rt),EC=()=>e.createRange(),AC=(Ne,Fe,Rt)=>{let Ct=EC(),po,Tn;if(Ne&&Fe&&Ne.parentNode&&Fe.parentNode){const Cr=Ne.parentNode;return Ct.setStart(Cr,xd(Ne)),Ct.setEnd(Fe.parentNode,xd(Fe)),po=Ct.extractContents(),Ct=EC(),Ct.setStart(Fe.parentNode,xd(Fe)+1),Ct.setEnd(Cr,xd(Ne)+1),Tn=Ct.extractContents(),Cr.insertBefore(Ir(jb,po,T),Ne),Rt?Cr.insertBefore(Rt,Ne):Cr.insertBefore(Fe,Ne),Cr.insertBefore(Ir(jb,Tn,T),Ne),gs(Ne),Rt||Fe}else return},z2=(Ne,Fe,Rt,Ct)=>{if(ue(Ne)){let po=Ne.length;const Tn=[];for(;po--;)Tn[po]=z2(Ne[po],Fe,Rt,Ct);return Tn}else return t.collect&&(Ne===e||Ne===s)&&w.push([Ne,Fe,Rt,Ct]),N.bind(Ne,Fe,Rt,Ct||jb)},wg=(Ne,Fe,Rt)=>{if(ue(Ne)){let Ct=Ne.length;const po=[];for(;Ct--;)po[Ct]=wg(Ne[Ct],Fe,Rt);return po}else{if(w.length>0&&(Ne===e||Ne===s)){let Ct=w.length;for(;Ct--;){const[po,Tn,Cr]=w[Ct];Ne===po&&(!Fe||Fe===Tn)&&(!Rt||Rt===Cr)&&N.unbind(po,Tn,Cr)}}return N.unbind(Ne,Fe,Rt)}},Zb=(Ne,Fe,Rt)=>N.dispatch(Ne,Fe,Rt),ZE=(Ne,Fe,Rt)=>N.dispatch(Ne,Fe,Rt),TC=Ne=>{if(Ne&&Mo(Ne)){const Fe=Ne.getAttribute("data-mce-contenteditable");return Fe&&Fe!=="inherit"?Fe:Ne.contentEditable!=="inherit"?Ne.contentEditable:null}else return null},jb={doc:e,settings:t,win:s,files:a,stdMode:d,boxModel:f,styleSheetLoader:b,boundEvents:w,styles:R,schema:T,events:N,isBlock:ee,root:null,clone:Ie,getRoot:st,getViewPort:Et,getRect:io,getSize:Vt,getParent:ds,getParents:tn,get:X,getNext:xa,getPrev:wr,select:Nt,is:Ao,add:Kt,create:wt,createHTML:yo,createFragment:Qn,remove:gs,setStyle:Xe,getStyle:rt,setStyles:qe,removeAllAttribs:Pd,setAttrib:Se,setAttribs:Nn,getAttrib:xe,getPos:ft,parseStyle:li,serializeStyle:dm,addStyle:wu,loadCSS:Tl,addClass:um,removeClass:Ub,hasClass:ro,toggleClass:dc,show:Cn,hide:_r,isHidden:Ma,uniqueId:Ga,setHTML:Pn,getOuterHTML:va,setOuterHTML:tr,decode:Ft,encode:uo,insertAfter:or,replace:uc,rename:yg,findCommonAncestor:eh,run:eo,getAttribs:be,isEmpty:If,createRng:EC,nodeIndex:xd,split:AC,bind:z2,unbind:wg,fire:ZE,dispatch:Zb,getContentEditable:TC,getContentEditableParent:Ne=>{const Fe=st();let Rt=null;for(let Ct=Ne;Ct&&Ct!==Fe&&(Rt=TC(Ct),Rt===null);Ct=Ct.parentNode);return Rt},isEditable:Ne=>{if(ze(Ne)){const Fe=jt(Ne)?Ne:Ne.parentElement;return ze(Fe)&&Mo(Fe)&&Yi(te.fromDom(Fe))}else return!1},destroy:()=>{if(w.length>0){let Ne=w.length;for(;Ne--;){const[Fe,Rt,Ct]=w[Ne];N.unbind(Fe,Rt,Ct)}}Xo(a,(Ne,Fe)=>{b.unload(Fe),delete a[Fe]})},isChildOf:(Ne,Fe)=>Ne===Fe||Fe.contains(Ne),dumpRng:Ne=>"startContainer: "+Ne.startContainer.nodeName+", startOffset: "+Ne.startOffset+", endContainer: "+Ne.endContainer.nodeName+", endOffset: "+Ne.endOffset},eR=Yl(R,t,dt(jb));return jb};On.DOM=On(document),On.nodeIndex=xd;const Hi=On.DOM,tf=0,lp=1,Hm=2,Vm=3;class Ha{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}_setCrossOrigin(t){this.settings.crossOrigin=t}loadScript(t){return new Promise((o,s)=>{const a=Hi;let c;const d=()=>{a.remove(w),c&&(c.onerror=c.onload=c=null)},f=()=>{d(),o()},b=()=>{d(),s("Failed to load script: "+t)},w=a.uniqueId();c=document.createElement("script"),c.id=w,c.type="text/javascript",c.src=at._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy);const T=this.settings.crossOrigin;if(no(T)){const R=T(t);R!==void 0&&a.setAttrib(c,"crossorigin",R)}c.onload=f,c.onerror=b,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===Hm}markDone(t){this.states[t]=Hm}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=tf),new Promise((a,c)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:a,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,s=(b,w)=>{Sn(o.scriptLoadedCallbacks,w).each(T=>{Ze(T,R=>R[b](w))}),delete o.scriptLoadedCallbacks[w]},a=b=>{const w=mt(b,T=>T.status==="rejected");return w.length>0?Promise.reject(sr(w,({reason:T})=>ue(T)?T:[T])):Promise.resolve()},c=b=>Promise.allSettled(Ro(b,w=>o.states[w]===Hm?(s("resolve",w),Promise.resolve()):o.states[w]===Vm?(s("reject",w),Promise.reject(w)):(o.states[w]=lp,o.loadScript(w).then(()=>{o.states[w]=Hm,s("resolve",w);const T=o.queue;return T.length>0?(o.queue=[],c(T).then(a)):Promise.resolve()},()=>(o.states[w]=Vm,s("reject",w),Promise.reject(w)))))),d=b=>(o.loading=!0,c(b).then(w=>{o.loading=!1;const T=o.queueLoadedCallbacks.shift();return I.from(T).each(Co),a(w)})),f=fm(t);return o.loading?new Promise((b,w)=>{o.queueLoadedCallbacks.push(()=>{d(f).then(b,w)})}):d(f)}}Ha.ScriptLoader=new Ha;const iu=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},$m=e=>oe(e)&&xo(e,"raw"),zh=e=>ue(e)&&e.length>1,cp={},Hh=zn("en"),yy=()=>Sn(cp,Hh.get()),Oc={getData:()=>Vr(cp,e=>({...e})),setCode:e=>{e&&Hh.set(e)},getCode:()=>Hh.get(),add:(e,t)=>{let o=cp[e];o||(cp[e]=o={});const s=Ro(ua(t),a=>a.toLowerCase());Xo(t,(a,c)=>{const d=c.toLowerCase();d!==c&&iu(s,d)?(xo(t,d)||(o[d]=a),o[c]=a):o[d]=a})},translate:e=>{const t=yy().getOr({}),o=f=>no(f)?Object.prototype.toString.call(f):s(f)?"":""+f,s=f=>f===""||f===null||f===void 0,a=f=>{const b=o(f);return xo(t,b)?o(t[b]):Sn(t,b.toLowerCase()).map(o).getOr(b)},c=f=>f.replace(/{context:\w+}$/,""),d=f=>f.replaceAll("...",Ti);if(s(e))return"";if($m(e))return d(o(e.raw));if(zh(e)){const f=e.slice(1),b=a(e[0]).replace(/\{([0-9]+)\}/g,(w,T)=>xo(f,T)?o(f[T]):w);return d(c(b))}return d(c(a(e)))},isRtl:()=>yy().bind(e=>Sn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>xo(cp,e)},qr=()=>{const e=[],t={},o={},s=[],a=(X,G)=>{const xe=mt(s,be=>be.name===X&&be.state===G);Ze(xe,be=>be.resolve())},c=X=>xo(t,X),d=X=>xo(o,X),f=X=>{if(o[X])return o[X].instance},b=(X,G)=>{const xe=Oc.getCode(),be=","+(G||"")+",";!xe||G&&be.indexOf(","+xe+",")===-1||Ha.ScriptLoader.add(t[X]+"/langs/"+xe+".js")},w=(X,G)=>{qr.languageLoad!==!1&&(c(X)?b(X,G):ee(X,"loaded").then(()=>b(X,G)))},T=(X,G)=>(e.push(G),o[X]={instance:G},a(X,"added"),G),R=X=>{delete t[X],delete o[X]},N=(X,G)=>Ge(G)?Ge(X)?{prefix:"",resource:G,suffix:""}:{prefix:X.prefix,resource:G,suffix:X.suffix}:G,F=(X,G)=>{if(t[X])return Promise.resolve();let xe=Ge(G)?G:G.prefix+G.resource+G.suffix;xe.indexOf("/")!==0&&xe.indexOf("://")===-1&&(xe=qr.baseURL+"/"+xe),t[X]=xe.substring(0,xe.lastIndexOf("/"));const be=()=>(a(X,"loaded"),Promise.resolve());return o[X]?be():Ha.ScriptLoader.add(xe).then(be)},ee=(X,G="added")=>G==="added"&&d(X)||G==="loaded"&&c(X)?Promise.resolve():new Promise(xe=>{s.push({name:X,state:G,resolve:xe})});return{items:e,urls:t,lookup:o,get:f,requireLangPack:w,add:T,remove:R,createUrl:N,load:F,waitFor:ee}};qr.languageLoad=!0,qr.baseURL="",qr.PluginManager=qr(),qr.ThemeManager=qr(),qr.ModelManager=qr();const Um=dt("mce-annotation"),Zm=dt("data-mce-annotation"),jm=dt("data-mce-annotation-uid"),of=dt("data-mce-annotation-active"),yd=dt("data-mce-annotation-classes"),nf=dt("data-mce-annotation-attrs"),$h=e=>t=>Jo(t,e),gn=(e,t)=>{const o=e.selection.getRng(),s=te.fromDom(o.startContainer),a=te.fromDom(e.getBody()),c=t.fold(()=>"."+Um(),b=>`[${Zm()}="${b}"]`),d=cr(s,o.startOffset).getOr(s);return dd(d,c,$h(a)).bind(b=>xc(b,`${jm()}`).bind(w=>xc(b,`${Zm()}`).map(T=>{const R=R0(e,w);return{uid:w,name:T,elements:R}})))},_y=e=>lr(e)&&rs(e,Um()),O0=(e,t)=>wm(e,"data-mce-bogus")||ix(e,'[data-mce-bogus="all"]',$h(t)),R0=(e,t)=>{const o=te.fromDom(e.getBody()),s=Wr(o,`[${jm()}="${t}"]`);return mt(s,a=>!O0(a,o))},Xl=(e,t)=>{const o=te.fromDom(e.getBody()),s=Wr(o,`[${Zm()}="${t}"]`),a={};return Ze(s,c=>{if(!O0(c,o)){const d=Ys(c,jm()),f=Sn(a,d).getOr([]);a[d]=f.concat([c])}}),a},Hx=(e,t)=>{const o=zn({}),s=()=>({listeners:[],previous:Bl()}),a=(R,N)=>{c(R,F=>(N(F),F))},c=(R,N)=>{const F=o.get(),ee=Sn(F,R).getOrThunk(s),X=N(ee);F[R]=X,o.set(F)},d=(R,N,F)=>{a(R,ee=>{Ze(ee.listeners,X=>X(!0,R,{uid:N,nodes:Ro(F,G=>G.dom)}))})},f=R=>{a(R,N=>{Ze(N.listeners,F=>F(!1,R))})},b=(R,N)=>{Ze(R0(e,R),F=>{N?jr(F,of(),"true"):Nr(F,of())})},w=Vd(()=>{const R=Qt(t.getNames());Ze(R,N=>{c(N,F=>{const ee=F.previous.get();return gn(e,I.some(N)).fold(()=>{ee.each(X=>{f(N),F.previous.clear(),b(X,!1)})},({uid:X,name:G,elements:xe})=>{mr(ee,X)||(ee.each(be=>b(be,!1)),d(G,X,xe),F.previous.set(X),b(X,!0))}),{previous:F.previous,listeners:F.listeners}})})},30);return e.on("remove",()=>{w.cancel()}),e.on("NodeChange",()=>{w.throttle()}),{addListener:(R,N)=>{c(R,F=>({previous:F.previous,listeners:F.listeners.concat([N])}))}}},Vx=(e,t)=>{const o=Zm(),s=c=>I.from(c.attr(o)).bind(t.lookup),a=c=>{var d,f;c.attr(jm(),null),c.attr(Zm(),null),c.attr(of(),null);const b=I.from(c.attr(nf())).map(N=>N.split(",")).getOr([]),w=I.from(c.attr(yd())).map(N=>N.split(",")).getOr([]);Ze(b,N=>c.attr(N,null));const T=(f=(d=c.attr("class"))===null||d===void 0?void 0:d.split(" "))!==null&&f!==void 0?f:[],R=Ol(T,[Um()].concat(w));c.attr("class",R.length>0?R.join(" "):null),c.attr(yd(),null),c.attr(nf(),null)};e.serializer.addTempAttr(of()),e.serializer.addAttributeFilter(o,c=>{for(const d of c)s(d).each(f=>{f.persistent===!1&&(d.name==="span"?d.unwrap():a(d))})})},N0=()=>{const e={};return{register:(a,c)=>{e[a]={name:a,settings:c}},lookup:a=>Sn(e,a).map(c=>c.settings),getNames:()=>ua(e)}},qu=(e,t,o=_o)=>{const s=new Qs(e,t),a=c=>{let d;do d=s[c]();while(d&&!ut(d)&&!o(d));return I.from(d).filter(ut)};return{current:()=>I.from(s.current()).filter(ut),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},Ql=(e,t)=>{const o=t||(d=>e.isBlock(d)||Ns(d)||Wn(d)),s=(d,f,b,w)=>{if(ut(d)){const T=w(d,f,d.data);if(T!==-1)return I.some({container:d,offset:T})}return b().bind(T=>s(T.container,T.offset,b,w))};return{backwards:(d,f,b,w)=>{const T=qu(d,w??e.getRoot(),o);return s(d,f,()=>T.prev().map(R=>({container:R,offset:R.length})),b).getOrNull()},forwards:(d,f,b,w)=>{const T=qu(d,w??e.getRoot(),o);return s(d,f,()=>T.next().map(R=>({container:R,offset:0})),b).getOrNull()}}},up=["td","th"],sf=["thead","tbody","tfoot"],Uh=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Cy=["li","dd","dt"],ky=["ul","ol","dl"],$x=["pre","script","textarea","style"],Vi=e=>{let t;return o=>(t=t||Ar(e,Vo),xo(t,Fo(o)))},Ux=e=>Fo(e)==="table",wd=e=>lr(e)&&Fo(e)==="br",Zh=Vi(Uh),lu=Vi(ky),cu=Vi(Cy),oa=Vi(sf),Wm=Vi(up),mp=Vi($x),Sy=e=>{const t=[];let o=e.dom;for(;o;)t.push(te.fromDom(o)),o=o.lastChild;return t},Ey=e=>{const t=Wr(e,"br"),o=mt(Sy(e).slice(-1),wd);t.length===o.length&&Ze(o,ls)},rf=()=>{const e=te.fromTag("br");return jr(e,"data-mce-bogus","1"),e},Rc=e=>{Pu(e),ln(e,rf())},Ay=(e,t)=>{Xr(e).each(o=>{Fl(o).each(s=>{t.isBlock(Fo(e))&&wd(o)&&t.isBlock(Fo(s))&&ls(o)})})},zr=Xc,Gu=Di,$i=jf,M0=e=>e.insertContent(zr,{preserve_zwsp:!0}),Zx=jt,af=ut,lf=e=>(af(e)&&(e=e.parentNode),Zx(e)&&e.hasAttribute("data-mce-caret")),qm=e=>af(e)&&Gu(e.data),xl=e=>lf(e)||qm(e),jx=e=>e.firstChild!==e.lastChild||!Ns(e.firstChild),Ty=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(zr),c=e.parentNode;if(t){const d=e.previousSibling;if(af(d)){if(xl(d))return d;if(jh(d))return d.splitText(d.data.length-1)}c?.insertBefore(a,e)}else{const d=e.nextSibling;if(af(d)){if(xl(d))return d;if(pp(d))return d.splitText(1),d}e.nextSibling?c?.insertBefore(a,e.nextSibling):c?.appendChild(a)}return a},gp=e=>{const t=e.container();return ut(t)?t.data.charAt(e.offset())===zr||e.isAtStart()&&qm(t.previousSibling):!1},fp=e=>{const t=e.container();return ut(t)?t.data.charAt(e.offset()-1)===zr||e.isAtEnd()&&qm(t.nextSibling):!1},Wx=(e,t,o)=>{var s;const c=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(rf().dom);const d=t.parentNode;return o?d?.insertBefore(c,t):t.nextSibling?d?.insertBefore(c,t.nextSibling):d?.appendChild(c),c},pp=e=>af(e)&&e.data[0]===zr,jh=e=>af(e)&&e.data[e.data.length-1]===zr,B0=e=>{var t;const o=e.getElementsByTagName("br"),s=o[o.length-1];Pm(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},P0=e=>e&&e.hasAttribute("data-mce-caret")?(B0(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,qx=e=>lf(e.startContainer),hp=Math.round,g=e=>e?{left:hp(e.left),top:hp(e.top),bottom:hp(e.bottom),right:hp(e.right),width:hp(e.width),height:hp(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},h=(e,t)=>(e=g(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),y=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,C=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,D=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:C(t.top-e.bottom,e,t)},O=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:C(t.bottom-e.top,e,t),L=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,z=e=>Lo(e,(t,o)=>t.fold(()=>I.some(o),s=>{const a=Math.min(o.left,s.left),c=Math.min(o.top,s.top),d=Math.max(o.right,s.right),f=Math.max(o.bottom,s.bottom);return I.some({top:c,right:d,bottom:f,left:a,width:d-a,height:f-c})}),I.none()),Q=(e,t,o)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(o-a)*(o-a))},re=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),he=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},se=(e,t)=>{if(jt(e)&&e.hasChildNodes()){const o=e.childNodes,s=In(t,0,o.length-1);return o[s]}else return e},me=(e,t)=>{if(!(t<0&&jt(e)&&e.hasChildNodes()))return se(e,t)},le=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Ce=e=>Ge(e)&&e.charCodeAt(0)>=768&&le.test(e),_e=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},Je=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},tt=hi,gt=Wn,bt=Ns,xt=ut,St=hl(["script","style","textarea"]),Dt=hl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Yt=hl(["table"]),go=xl,zo=e=>go(e)?!1:xt(e)?!St(e.parentNode):Dt(e)||bt(e)||Yt(e)||Zo(e),Oo=e=>jt(e)&&e.getAttribute("unselectable")==="true",Zo=e=>!Oo(e)&&gt(e),No=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(Zo(o))return!1;if(tt(o))return!0}return!0},Kn=e=>Zo(e)?!Lo(Tt(e.getElementsByTagName("*")),(t,o)=>t||tt(o),!1):!1,xr=e=>Dt(e)||Kn(e),Ra=(e,t)=>zo(e)&&No(e,t),na=jt,vl=zo,qt=os("display","block table"),Va=os("float","left right"),Nc=Je(na,vl,we(Va)),Wh=we(os("white-space","pre pre-line pre-wrap")),_d=ut,cf=Ns,Ku=On.nodeIndex,Cd=me,Dy=e=>e?e.createRange():On.DOM.createRng(),Gx=e=>Ge(e)&&/[\r\n\t ]/.test(e),WC=e=>!!e.setStart&&!!e.setEnd,df=e=>{const t=e.startContainer,o=e.startOffset;if(Gx(e.toString())&&Wh(t.parentNode)&&ut(t)){const s=t.data;if(Gx(s[o-1])||Gx(s[o+1]))return!0}return!1},tA=e=>{const t=e.ownerDocument,o=Dy(t),s=t.createTextNode(Ls),a=e.parentNode;a.insertBefore(s,e),o.setStart(s,0),o.setEnd(s,1);const c=g(o.getBoundingClientRect());return a.removeChild(s),c},oA=e=>{const t=e.startContainer,o=e.endContainer,s=e.startOffset,a=e.endOffset;if(t===o&&ut(o)&&s===0&&a===1){const c=e.cloneRange();return c.setEndAfter(o),uf(c)}else return null},Gm=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,uf=e=>{var t;let o;const s=e.getClientRects();return s.length>0?o=g(s[0]):o=g(e.getBoundingClientRect()),!WC(e)&&cf(e)&&Gm(o)?tA(e):Gm(o)&&WC(e)&&(t=oA(e))!==null&&t!==void 0?t:o},mf=(e,t)=>{const o=h(e,t);return o.width=1,o.right=o.left+1,o},Oy=e=>{const t=[],o=d=>{d.height!==0&&(t.length>0&&y(d,t[t.length-1])||t.push(d))},s=(d,f)=>{const b=Dy(d.ownerDocument);if(f<d.data.length){if(Ce(d.data[f]))return;if(Ce(d.data[f-1])&&(b.setStart(d,f),b.setEnd(d,f+1),!df(b))){o(mf(uf(b),!1));return}}f>0&&(b.setStart(d,f-1),b.setEnd(d,f),df(b)||o(mf(uf(b),!1))),f<d.data.length&&(b.setStart(d,f),b.setEnd(d,f+1),df(b)||o(mf(uf(b),!0)))},a=e.container(),c=e.offset();if(_d(a))return s(a,c),t;if(na(a))if(e.isAtEnd()){const d=Cd(a,c);_d(d)&&s(d,d.data.length),Nc(d)&&!cf(d)&&o(mf(uf(d),!1))}else{const d=Cd(a,c);if(_d(d)&&s(d,0),Nc(d)&&e.isAtEnd())return o(mf(uf(d),!1)),t;const f=Cd(e.container(),e.offset()-1);Nc(f)&&!cf(f)&&(qt(f)||qt(d)||!Nc(d))&&o(mf(uf(f),!1)),Nc(d)&&o(mf(uf(d),!0))}return t},We=(e,t,o)=>{const s=()=>(_d(e),t===0),a=()=>_d(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const T=Dy(e.ownerDocument);return T.setStart(e,t),T.setEnd(e,t),T},d=()=>(o||(o=Oy(We(e,t))),o),f=()=>d().length>0,b=T=>T&&e===T.container()&&t===T.offset(),w=T=>Cd(e,T?t-1:t);return{container:dt(e),offset:dt(t),toRange:c,getClientRects:d,isVisible:f,isAtStart:s,isAtEnd:a,isEqual:b,getNode:w}};We.fromRangeStart=e=>We(e.startContainer,e.startOffset),We.fromRangeEnd=e=>We(e.endContainer,e.endOffset),We.after=e=>We(e.parentNode,Ku(e)+1),We.before=e=>We(e.parentNode,Ku(e)),We.isAbove=(e,t)=>ks(Zn(t.getClientRects()),zs(e.getClientRects()),D).getOr(!1),We.isBelow=(e,t)=>ks(zs(t.getClientRects()),Zn(e.getClientRects()),O).getOr(!1),We.isAtStart=e=>e?e.isAtStart():!1,We.isAtEnd=e=>e?e.isAtEnd():!1,We.isTextPosition=e=>e?ut(e.container()):!1,We.isElementPosition=e=>!We.isTextPosition(e);const Ry=(e,t)=>{ut(t)&&t.data.length===0&&e.remove(t)},nA=(e,t,o)=>{t.insertNode(o),Ry(e,o.previousSibling),Ry(e,o.nextSibling)},sA=(e,t,o)=>{const s=I.from(o.firstChild),a=I.from(o.lastChild);t.insertNode(o),s.each(c=>Ry(e,c.previousSibling)),a.each(c=>Ry(e,c.nextSibling))},Ny=(e,t,o)=>{kh(o)?sA(e,t,o):nA(e,t,o)},kd=ut,qC=Pm,GC=On.nodeIndex,rA=e=>{const t=e.parentNode;return qC(t)?rA(t):t},Kx=e=>e?Qc(e.childNodes,(t,o)=>(qC(o)&&o.nodeName!=="BR"?t=t.concat(Kx(o)):t.push(o),t),[]):[],cR=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&kd(o);)t+=o.data.length;return t},Yx=e=>t=>e===t,aA=e=>{let t,o;t=Kx(rA(e)),o=Ya(t,Yx(e),e),t=t.slice(0,o+1);const s=Qc(t,(a,c,d)=>(kd(c)&&kd(t[d-1])&&a++,a),0);return t=Zd(t,hl([e.nodeName])),o=Ya(t,Yx(e),e),o-s},iA=e=>(kd(e)?"text()":e.nodeName.toLowerCase())+"["+aA(e)+"]",So=(e,t,o)=>{const s=[];for(let a=t.parentNode;a&&a!==e;a=a.parentNode)s.push(a);return s},lA=(e,t)=>{let o=[],s=t.container(),a=t.offset(),c;if(kd(s))c=cR(s,a);else{const f=s.childNodes;a>=f.length?(c="after",a=f.length-1):c="before",s=f[a]}o.push(iA(s));let d=So(e,s);return d=Zd(d,we(Pm)),o=o.concat(pm(d,f=>iA(f))),o.reverse().join("/")+","+c},dR=(e,t,o)=>{let s=Kx(e);return s=Zd(s,(a,c)=>!kd(a)||!kd(s[c-1])),s=Zd(s,hl([t])),s[o]},uR=(e,t)=>{let o=e,s=0;for(;kd(o);){const a=o.data.length;if(t>=s&&t<=s+a){e=o,t=t-s;break}if(!kd(o.nextSibling)){e=o,t=a;break}s+=a,o=o.nextSibling}return kd(e)&&t>e.data.length&&(t=e.data.length),We(e,t)},cA=(e,t)=>{if(!t)return null;const o=t.split(","),s=o[0].split("/"),a=o.length>1?o[1]:"before",c=Qc(s,(d,f)=>{const b=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(f);return b?(b[1]==="text()"&&(b[1]="#text"),dR(d,b[1],parseInt(b[2],10))):null},e);if(!c)return null;if(!kd(c)&&c.parentNode){let d;return a==="after"?d=GC(c)+1:d=GC(c),We(c.parentNode,d)}return uR(c,parseInt(a,10))},My=Wn,dA=(e,t,o)=>{let s=e(t.data.slice(0,o)).length;for(let a=t.previousSibling;a&&ut(a);a=a.previousSibling)s+=e(a.data).length;return s},By=(e,t,o,s,a)=>{const c=a?s.startContainer:s.endContainer;let d=a?s.startOffset:s.endOffset;const f=[],b=e.getRoot();if(ut(c))f.push(o?dA(t,c,d):d);else{let w=0;const T=c.childNodes;d>=T.length&&T.length&&(w=1,d=Math.max(0,T.length-1)),f.push(e.nodeIndex(T[d],o)+w)}for(let w=c;w&&w!==b;w=w.parentNode)f.push(e.nodeIndex(w,o));return f},Xx=(e,t,o,s)=>{const a=t.dom,c=By(a,e,o,s,!0),d=t.isForward(),f=qx(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:d,...f};{const b=By(a,e,o,s,!1);return{start:c,end:b,forward:d,...f}}},bp=(e,t,o)=>{let s=0;return at.each(e.select(t),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;s++;return}}),s},uA=(e,t)=>{let o=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(jt(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(t?s:s-1,a.length-1)],o&&(s=t?0:o.childNodes.length,t?e.setStart(o,s):e.setEnd(o,s))}},Qx=e=>(uA(e,!0),uA(e,!1),e),mA=(e,t)=>{if(jt(e)&&(e=se(e,t),My(e)))return e;if(xl(e)){ut(e)&&lf(e)&&(e=e.parentNode);let o=e.previousSibling;if(My(o)||(o=e.nextSibling,My(o)))return o}},gA=e=>mA(e.startContainer,e.startOffset)||mA(e.endContainer,e.endOffset),Py=(e,t,o)=>{const s=o.getNode(),a=o.getRng();if(s.nodeName==="IMG"||My(s)){const d=s.nodeName;return{name:d,index:bp(o.dom,d,s)}}const c=gA(a);if(c){const d=c.tagName;return{name:d,index:bp(o.dom,d,c)}}return Xx(e,o,t,a)},mR=e=>{const t=e.getRng();return{start:lA(e.dom.getRoot(),We.fromRangeStart(t)),end:lA(e.dom.getRoot(),We.fromRangeEnd(t)),forward:e.isForward()}},gR=e=>({rng:e.getRng(),forward:e.isForward()}),fA=(e,t,o)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",s,"&#xFEFF;"):e.create("span",s)},pA=(e,t)=>{const o=e.dom;let s=e.getRng();const a=o.uniqueId(),c=e.isCollapsed(),d=e.getNode(),f=d.nodeName,b=e.isForward();if(f==="IMG")return{name:f,index:bp(o,f,d)};const w=Qx(s.cloneRange());if(!c){w.collapse(!1);const R=fA(o,a+"_end",t);Ny(o,w,R)}s=Qx(s),s.collapse(!0);const T=fA(o,a+"_start",t);return Ny(o,s,T),e.moveToBookmark({id:a,keep:!0,forward:b}),{id:a,forward:b}},qh=(e,t,o=!1)=>t===2?Py($i,o,e):t===3?mR(e):t?gR(e):pA(e,!1),KC=He(Py,vn,!0),I0=e=>e===1,xp=e=>e===-1,fR=e=>e.type==="inline-command"||e.type==="inline-format",pR=e=>e.type==="block-command"||e.type==="block-format",hR=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,As=e=>{var t;const o=a=>Hs.error({message:a,pattern:e}),s=(a,c,d)=>{if(e.format!==void 0){let f;if(ue(e.format)){if(!Pa(e.format,Ge))return o(a+" pattern has non-string items in the `format` array");f=e.format}else if(Ge(e.format))f=[e.format];else return o(a+" pattern has non-string `format` parameter");return Hs.value(c(f))}else return e.cmd!==void 0?Ge(e.cmd)?Hs.value(d(e.cmd,e.value)):o(a+" pattern has non-string `cmd` parameter"):o(a+" pattern is missing both `format` and `cmd` parameters")};if(!oe(e))return o("Raw pattern is not an object");if(!Ge(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Ge(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let a=e.start,c=e.end;return c.length===0&&(c=a,a=""),s("Inline",d=>({type:"inline-format",start:a,end:c,format:d}),(d,f)=>({type:"inline-command",start:a,end:c,cmd:d,value:f}))}else{if(e.replacement!==void 0)return Ge(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):Hs.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const a=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):s("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:a}),(c,d)=>({type:"block-command",start:e.start,cmd:c,value:d,trigger:a}))}}},YC=e=>mt(e,pR),hA=e=>mt(e,fR),XC=(e,t)=>({inlinePatterns:hA(e),blockPatterns:YC(e),dynamicPatternsLookup:t}),$a=(e,t)=>({...e,blockPatterns:mt(e.blockPatterns,o=>hR(o,t))}),Jl=e=>{const t=Gc(Ro(e,As));return Ze(t.errors,o=>console.error(o.message,o.pattern)),t.values},bA=e=>t=>{const o=e(t);return Jl(o)},bR=(e,t)=>e.dispatch("PreProcess",t),xR=(e,t)=>e.dispatch("PostProcess",t),Yu=e=>{e.dispatch("remove")},vR=e=>{e.dispatch("detach")},yR=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},bn=(e,t,o,s,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:s,origin:a})},wR=(e,t,o,s,a)=>{e.dispatch("ObjectResized",{target:t,width:o,height:s,origin:a})},_R=e=>{e.dispatch("PreInit")},CR=e=>{e.dispatch("PostRender")},vr=e=>{e.dispatch("Init")},kR=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},QC=(e,t,o)=>{e.dispatch(t,o)},Iy=(e,t,o,s)=>{e.dispatch("FormatApply",{format:t,node:o,vars:s})},xA=(e,t,o,s)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:s})},SR=(e,t)=>e.dispatch("BeforeSetContent",t),vA=(e,t)=>e.dispatch("SetContent",t),ER=(e,t)=>e.dispatch("BeforeGetContent",t),Ly=(e,t)=>e.dispatch("GetContent",t),JC=(e,t)=>{e.dispatch("AutocompleterStart",t)},yA=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},ek=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},AR=e=>{e.dispatch("AutocompleterEnd")},TR=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),Xt=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),Sd=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),wA=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),DR=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),OR=e=>e.dispatch("CloseActiveTooltips"),Fy=qi().deviceType,_A=Fy.isTouch(),tk=On.DOM,ok=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Lo(t,(o,s)=>{const a=s.split("="),c=a[0],d=a.length>1?a[1]:c;return o[Pl(c)]=Pl(d),o},{})},zy=e=>Le(e,RegExp),$t=e=>t=>t.options.get(e),Jx=e=>Ge(e)||oe(e),nk=(e,t="")=>o=>{const s=Ge(o);if(s)if(o.indexOf("=")!==-1){const a=ok(o);return{value:Sn(a,e.id).getOr(t),valid:s}}else return{value:o,valid:s};else return{valid:!1,message:"Must be a string."}},sk=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("crossorigin",{processor:"function",default:dt(void 0)}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),t("body_id",{processor:nk(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:nk(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const s=Ge(o)&&Zr(o);return s?{value:o,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const s=Ho(["block","linebreak","invert","default"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>us(o)?{valid:!0,value:o}:Ge(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const s=o===!1||Ge(o)||To(o,Ge);return s?Ge(o)?{value:Ro(o.split(","),Pl),valid:s}:ue(o)?{value:o,valid:s}:o===!1?{value:[],valid:s}:{value:o,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:ov(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const s=Ge(o)||To(o,Ge);return s?{value:ue(o)?o:Ro(o.split(","),Pl),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const s=us(o)||Ge(o);return s?o===!1||Fy.isiPhone()||Fy.isiPad()?{value:"",valid:s}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!_A}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:o=>o===!1||Ge(o)||no(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const s=o===!1||Ge(o);return s?{value:o===!1?"":o,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:o=>us(o)?(e.initialized&&Qm(e)!==o&&Promise.resolve().then(()=>{DR(e,o)}),{valid:!0,value:o}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_html_in_comments",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:o=>{const s=To(o,Ge);return s?{value:o,valid:s}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Jx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Jx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Jx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Jx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>Ge(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>To(o,oe)||o===!1?{value:Jl(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>no(o)?{value:bA(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>To(o,zy)?{value:o,valid:!0}:zy(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const s=Ho(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const s=Ho(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),t("user_id",{processor:"string",default:"Anonymous"}),t("fetch_users",{processor:o=>o===void 0?{valid:!0,value:void 0}:no(o)?{valid:!0,value:o}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Oc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:tk.getAttrib(e.getElement(),"placeholder")})}),t("lists_indent_on_tab",{processor:"boolean",default:!0}),t("list_max_depth",{processor:o=>{const s=E(o);if(s){if(o<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:o,valid:s}}else return{valid:!1,message:"Must be a number"}}})},RR=$t("iframe_attrs"),CA=$t("doctype"),Hy=$t("document_base_url"),kA=$t("body_id"),SA=$t("body_class"),ev=$t("content_security_policy"),EA=$t("br_in_pre"),Ua=$t("forced_root_block"),L0=$t("forced_root_block_attrs"),NR=$t("newline_behavior"),MR=$t("br_newline_selector"),BR=$t("no_newline_selector"),PR=$t("keep_styles"),Ms=$t("end_container_on_empty_block"),Vy=$t("automatic_uploads"),tv=$t("images_reuse_filename"),$y=$t("images_replace_blob_uris"),Km=$t("icons"),Uy=$t("icons_url"),F0=$t("images_upload_url"),AA=$t("images_upload_base_path"),TA=$t("images_upload_credentials"),rk=$t("images_upload_handler"),Zy=$t("content_css_cors"),Ym=$t("referrer_policy"),gf=$t("crossorigin"),ak=$t("language"),IR=$t("language_url"),ik=$t("indent_use_margin"),LR=$t("indentation"),FR=$t("content_css"),zR=$t("content_style"),Na=$t("font_css"),lk=$t("directionality"),ri=$t("inline_boundaries_selector"),Gh=$t("object_resizing"),z0=$t("resize_img_proportional"),DA=$t("placeholder"),jy=$t("event_root"),OA=$t("service_message"),H0=$t("theme"),HR=$t("theme_url"),yl=$t("model"),ol=$t("model_url"),ec=$t("inline_boundaries"),ck=$t("formats"),RA=$t("preview_styles"),VR=$t("format_empty_lines"),NA=$t("format_noneditable_selector"),$R=$t("custom_ui_selector"),ov=$t("inline"),UR=$t("hidden_input"),MA=$t("submit_patch"),dk=$t("add_form_submit_trigger"),BA=$t("add_unload_trigger"),uk=$t("custom_undo_redo_levels"),ZR=$t("disable_nodechange"),mk=$t("readonly"),jR=$t("editable_root"),gk=$t("content_css_cors"),V0=$t("plugins"),WR=$t("external_plugins"),qR=$t("block_unsupported_drop"),GR=$t("visual"),KR=$t("visual_table_class"),PA=$t("visual_anchor_class"),vp=$t("iframe_aria_text"),YR=$t("setup"),IA=$t("init_instance_callback"),LA=$t("urlconverter_callback"),FA=$t("auto_focus"),zA=$t("browser_spellcheck"),fk=$t("protect"),XR=$t("paste_block_drop"),Wy=$t("paste_data_images"),QR=$t("paste_preprocess"),pk=$t("paste_postprocess"),HA=$t("newdocument_content"),JR=$t("paste_webkit_styles"),eN=$t("paste_remove_styles_if_webkit"),VA=$t("paste_merge_formats"),$A=$t("smart_paste"),tN=$t("paste_as_text"),UA=$t("paste_tab_spaces"),oN=$t("allow_html_data_urls"),nN=$t("text_patterns"),sN=$t("text_patterns_lookup"),ZA=$t("noneditable_class"),Lt=$t("editable_class"),Xm=$t("noneditable_regexp"),rN=$t("preserve_cdata"),hk=$t("highlight_on_focus"),bk=$t("xss_sanitization"),jA=$t("init_content_sync"),xk=e=>e.options.isSet("text_patterns_lookup"),aN=e=>at.explode(e.options.get("font_size_style_values")),WA=e=>at.explode(e.options.get("font_size_classes")),iN=e=>e.options.get("encoding")==="xml",qA=e=>at.explode(e.options.get("images_file_types")),qy=$t("table_tab_navigation"),lN=$t("details_initial_state"),GA=$t("details_serialized_state"),nv=$t("sandbox_iframes"),vk=e=>e.options.get("sandbox_iframes_exclusions"),KA=$t("convert_unsafe_embeds"),cN=$t("license_key"),Gy=$t("api_key"),Qm=$t("disabled"),Ky=$t("user_id"),dN=$t("fetch_users"),uN=$t("lists_indent_on_tab"),yk=e=>I.from(e.options.get("list_max_depth")),mN=jt,YA=ut,wk=e=>{const t=e.parentNode;t&&t.removeChild(e)},_k=e=>{const t=$i(e);return{count:e.length-t.length,text:t}},XA=e=>{let t;for(;(t=e.data.lastIndexOf(zr))!==-1;)e.deleteData(t,1)},QA=(e,t)=>(yp(e),t),JA=(e,t)=>{const o=_k(e.data.substr(0,t.offset())),s=_k(e.data.substr(t.offset()));return(o.text+s.text).length>0?(XA(e),We(e,t.offset()-o.count)):t},Ck=(e,t)=>{const o=t.container(),s=ur(Tt(o.childNodes),e).map(a=>a<t.offset()?We(o,t.offset()-1):t).getOr(t);return yp(e),s},e5=(e,t)=>YA(e)&&t.container()===e?JA(e,t):QA(e,t),gN=(e,t)=>t.container()===e.parentNode?Ck(e,t):QA(e,t),Yy=(e,t)=>We.isTextPosition(t)?e5(e,t):gN(e,t),yp=e=>{mN(e)&&xl(e)&&(jx(e)?e.removeAttribute("data-mce-caret"):wk(e)),YA(e)&&(XA(e),e.data.length===0&&wk(e))},kk=Wn,t5=bi,fN=Wg,Xy="*[contentEditable=false],video,audio,embed,object",Sk=(e,t,o)=>{const s=h(t.getBoundingClientRect(),o);let a,c;if(e.tagName==="BODY"){const f=e.ownerDocument.documentElement;a=e.scrollLeft||f.scrollLeft,c=e.scrollTop||f.scrollTop}else{const f=e.getBoundingClientRect();a=e.scrollLeft-f.left,c=e.scrollTop-f.top}s.left+=a,s.right+=a,s.top+=c,s.bottom+=c,s.width=1;let d=t.offsetWidth-t.clientWidth;return d>0&&(o&&(d*=-1),s.left+=d,s.right+=d),s},o5=e=>{var t,o;const s=Wr(te.fromDom(e),Xy);for(let a=0;a<s.length;a++){const c=s[a].dom;let d=c.previousSibling;if(jh(d)){const f=d.data;f.length===1?(t=d.parentNode)===null||t===void 0||t.removeChild(d):d.deleteData(f.length-1,1)}d=c.nextSibling,pp(d)&&(d.data.length===1?(o=d.parentNode)===null||o===void 0||o.removeChild(d):d.deleteData(0,1))}},n5=(e,t,o,s)=>{const a=Bl();let c,d;const f=Ua(e),b=e.dom,w=(X,G)=>{let xe;if(T(),fN(G))return null;if(o(G)){const be=Wx(f,G,X),Se=Sk(t,G,X);b.setStyle(be,"top",Se.top),b.setStyle(be,"caret-color","transparent"),d=be;const Ie=b.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});b.setStyles(Ie,{...Se}),b.add(t,Ie),a.set({caret:Ie,element:G,before:X}),X&&b.addClass(Ie,"mce-visual-caret-before"),R(),xe=G.ownerDocument.createRange(),xe.setStart(be,0),xe.setEnd(be,0)}else return d=Ty(G,X),xe=G.ownerDocument.createRange(),$0(d.nextSibling)?(xe.setStart(d,0),xe.setEnd(d,0)):(xe.setStart(d,1),xe.setEnd(d,1)),xe;return xe},T=()=>{o5(t),d&&(yp(d),d=null),a.on(X=>{b.remove(X.caret),a.clear()}),c&&(clearInterval(c),c=void 0)},R=()=>{c=window.setInterval(()=>{a.on(X=>{s()?b.toggleClass(X.caret,"mce-visual-caret-hidden"):b.addClass(X.caret,"mce-visual-caret-hidden")})},500)},N=()=>{a.on(X=>{const G=Sk(t,X.element,X.before);b.setStyles(X.caret,{...G})})},F=()=>clearInterval(c),ee=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:a.isSet,show:w,hide:T,getCss:ee,reposition:N,destroy:F}},Ek=()=>Eo.browser.isFirefox(),$0=e=>kk(e)||t5(e),U0=e=>($0(e)||Ec(e)&&Ek())&&ym(te.fromDom(e)).exists(Yi),s5=hi,Qy=Wn,r5=bi,Ak=os("display","block table table-cell table-row table-caption list-item"),a5=xl,i5=lf,pN=jt,hN=ut,bN=zo,sv=(e,t)=>{let o;for(;o=e(t);)if(!i5(o))return o;return null},rv=(e,t,o,s,a)=>{const c=new Qs(e,s),d=Qy(e)||i5(e);let f;if(xp(t)){if(d&&(f=sv(c.prev.bind(c),!0),o(f)))return f;for(;f=sv(c.prev.bind(c),a);)if(o(f))return f}if(I0(t)){if(d&&(f=sv(c.next.bind(c),!0),o(f)))return f;for(;f=sv(c.next.bind(c),a);)if(o(f))return f}return null},vi=(e,t)=>{const o=a=>s5(a.dom),s=a=>a.dom===t;return ti(te.fromDom(e),o,s).map(a=>a.dom).getOr(t)},wp=(e,t)=>{for(;e&&e!==t;){if(Ak(e))return e;e=e.parentNode}return null},Jm=(e,t,o)=>wp(e.container(),o)===wp(t.container(),o),nl=(e,t)=>{if(!t)return I.none();const o=t.container(),s=t.offset();return pN(o)?I.from(o.childNodes[s+e]):I.none()},l5=(e,t)=>{var o;const a=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),a},xN=(e,t,o)=>wp(t,e)===wp(o,e),c5=(e,t,o)=>{const s=e?"previousSibling":"nextSibling";let a=o;for(;a&&a!==t;){let c=a[s];if(c&&a5(c)&&(c=c[s]),Qy(c)||r5(c)){if(xN(t,c,a))return c;break}if(bN(c))break;a=a.parentNode}return null},yi=He(l5,!0),Z0=He(l5,!1),Jy=(e,t,o)=>{let s;const a=He(c5,!0,t),c=He(c5,!1,t),d=o.startContainer,f=o.startOffset;if(lf(d)){const b=hN(d)?d.parentNode:d,w=b.getAttribute("data-mce-caret");if(w==="before"&&(s=b.nextSibling,U0(s)))return yi(s);if(w==="after"&&(s=b.previousSibling,U0(s)))return Z0(s)}if(!o.collapsed)return o;if(ut(d)){if(a5(d)){if(e===1){if(s=c(d),s)return yi(s);if(s=a(d),s)return Z0(s)}if(e===-1){if(s=a(d),s)return Z0(s);if(s=c(d),s)return yi(s)}return o}if(jh(d)&&f>=d.data.length-1)return e===1&&(s=c(d),s)?yi(s):o;if(pp(d)&&f<=1)return e===-1&&(s=a(d),s)?Z0(s):o;if(f===d.data.length)return s=c(d),s?yi(s):o;if(f===0)return s=a(d),s?Z0(s):o}return o},Tk=(e,t)=>nl(e?0:-1,t).filter(Qy),j0=(e,t,o)=>{const s=Jy(e,t,o);return e===-1?We.fromRangeStart(s):We.fromRangeEnd(s)},av=e=>I.from(e.getNode()).map(te.fromDom),d5=e=>I.from(e.getNode(!0)).map(te.fromDom),Dk=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},ew=(e,t)=>{const o=Jm(e,t);return!o&&Ns(e.getNode())?!0:o},vN=Wn,eg=ut,xn=jt,Kh=Ns,Mc=zo,_p=xr,Yh=Ra,Ok=(e,t)=>{const o=[];let s=e;for(;s&&s!==t;)o.push(s),s=s.parentNode;return o},tw=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Rk=(e,t)=>{if(I0(e)){if(Mc(t.previousSibling)&&!eg(t.previousSibling))return We.before(t);if(eg(t))return We(t,0)}if(xp(e)){if(Mc(t.nextSibling)&&!eg(t.nextSibling))return We.after(t);if(eg(t))return We(t,t.data.length)}return xp(e)?Kh(t)?We.before(t):We.after(t):We.before(t)},yN=(e,t)=>{const o=t.nextSibling;return o&&Mc(o)?eg(o)?We(o,0):We.before(o):ow(1,We.after(t),e)},ow=(e,t,o)=>{let s,a,c,d;if(!xn(o)||!t)return null;if(t.isEqual(We.after(o))&&o.lastChild){if(d=We.after(o.lastChild),xp(e)&&Mc(o.lastChild)&&xn(o.lastChild))return Kh(o.lastChild)?We.before(o.lastChild):d}else d=t;const f=d.container();let b=d.offset();if(eg(f)){if(xp(e)&&b>0)return We(f,--b);if(I0(e)&&b<f.length)return We(f,++b);s=f}else{if(xp(e)&&b>0&&(a=tw(f,b-1),Mc(a)))return!_p(a)&&(c=rv(a,e,Yh,a),c)?eg(c)?We(c,c.data.length):We.after(c):eg(a)?We(a,a.data.length):We.before(a);if(I0(e)&&b<f.childNodes.length&&(a=tw(f,b),Mc(a)))return Kh(a)?yN(o,a):!_p(a)&&(c=rv(a,e,Yh,a),c)?eg(c)?We(c,0):We.before(c):eg(a)?We(a,0):We.after(a);s=a||d.getNode()}if(s&&(I0(e)&&d.isAtEnd()||xp(e)&&d.isAtStart())&&(s=rv(s,e,Vo,o,!0),Yh(s,o)))return Rk(e,s);a=s&&rv(s,e,Yh,o);const w=$(mt(Ok(f,o),vN));return w&&(!a||!w.contains(a))?(I0(e)?d=We.after(w):d=We.before(w),d):a?Rk(e,a):null},Xu=e=>({next:t=>ow(1,t,e),prev:t=>ow(-1,t,e)}),u5=(e,t,o)=>{const s=e?We.before(o):We.after(o);return Bc(e,t,s)},m5=e=>Ns(e)?We.before(e):We.after(e),g5=e=>We.isTextPosition(e)?e.offset()===0:zo(e.getNode()),f5=e=>{if(We.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return zo(e.getNode(!0))},p5=(e,t)=>!We.isTextPosition(e)&&!We.isTextPosition(t)&&e.getNode()===t.getNode(!0),wl=e=>!We.isTextPosition(e)&&Ns(e.getNode()),wN=(e,t,o)=>e?!p5(t,o)&&!wl(t)&&f5(t)&&g5(o):!p5(o,t)&&g5(t)&&f5(o),Bc=(e,t,o)=>{const s=Xu(t);return I.from(e?s.next(o):s.prev(o))},W0=(e,t,o)=>Bc(e,t,o).bind(s=>Jm(o,s,t)&&wN(e,o,s)?Bc(e,t,s):I.some(s)),h5=(e,t,o,s)=>W0(e,t,o).bind(a=>s(a)?h5(e,t,a,s):I.some(a)),Cp=(e,t)=>{const o=e?t.firstChild:t.lastChild;return ut(o)?I.some(We(o,e?0:o.data.length)):o?zo(o)?I.some(e?We.before(o):m5(o)):u5(e,t,o):I.none()},_l=He(Bc,!0),tc=He(Bc,!1),cn=He(Cp,!0),Cl=He(Cp,!1),nw="_mce_caret",Pc=e=>jt(e)&&e.id===nw,Xh=(e,t)=>{let o=t;for(;o&&o!==e;){if(Pc(o))return o;o=o.parentNode}return null},_N=e=>Ge(e.start),b5=e=>xo(e,"rng"),CN=e=>xo(e,"id"),sn=e=>xo(e,"name"),sw=e=>at.isArray(e.start),iv=e=>!sn(e)&&us(e.forward)?e.forward:!0,q0=(e,t)=>(jt(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),lv=(e,t)=>{const o=I.from(cA(e.getRoot(),t.start)),s=I.from(cA(e.getRoot(),t.end));return ks(o,s,(a,c)=>{const d=e.createRng();return d.setStart(a.container(),a.offset()),d.setEnd(c.container(),c.offset()),{range:d,forward:iv(t)}})},cv=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(zr);e.appendChild(a),t.setStart(a,0),t.setEnd(a,0)},dv=e=>!e.hasChildNodes(),x5=(e,t)=>Cl(e).fold(_o,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),v5=(e,t,o)=>dv(t)&&Xh(e,t)?(cv(t,o),!0):!1,y5=(e,t,o,s)=>{const a=o[t?"start":"end"],c=e.getRoot();if(a){let d=c,f=a[0];for(let b=a.length-1;d&&b>=1;b--){const w=d.childNodes;if(v5(c,d,s))return!0;if(a[b]>w.length-1)return v5(c,d,s)?!0:x5(d,s);d=w[a[b]]}ut(d)&&(f=Math.min(a[0],d.data.length)),jt(d)&&(f=Math.min(a[0],d.childNodes.length)),t?s.setStart(d,f):s.setEnd(d,f)}return!0},Nk=e=>ut(e)&&e.data.length>0,w5=(e,t,o)=>{const s=e.get(o.id+"_"+t),a=s?.parentNode,c=o.keep;if(s&&a){let d,f;if(t==="start"?c?s.hasChildNodes()?(d=s.firstChild,f=1):Nk(s.nextSibling)?(d=s.nextSibling,f=0):Nk(s.previousSibling)?(d=s.previousSibling,f=s.previousSibling.data.length):(d=a,f=e.nodeIndex(s)+1):(d=a,f=e.nodeIndex(s)):c?s.hasChildNodes()?(d=s.firstChild,f=1):Nk(s.previousSibling)?(d=s.previousSibling,f=s.previousSibling.data.length):(d=a,f=e.nodeIndex(s)):(d=a,f=e.nodeIndex(s)),!c){const b=s.previousSibling,w=s.nextSibling;at.each(at.grep(s.childNodes),R=>{ut(R)&&(R.data=R.data.replace(/\uFEFF/g,""))});let T;for(;T=e.get(o.id+"_"+t);)e.remove(T,!0);if(ut(w)&&ut(b)&&!Eo.browser.isOpera()){const R=b.data.length;b.appendData(w.data),e.remove(w),d=b,f=R}}return I.some(We(d,f))}else return I.none()},fs=(e,t)=>{const o=e.createRng();return y5(e,!0,t,o)&&y5(e,!1,t,o)?I.some({range:o,forward:iv(t)}):I.none()},uv=(e,t)=>{const o=w5(e,"start",t),s=w5(e,"end",t);return ks(o,s.or(o),(a,c)=>{const d=e.createRng();return d.setStart(q0(e,a.container()),a.offset()),d.setEnd(q0(e,c.container()),c.offset()),{range:d,forward:iv(t)}})},ff=(e,t)=>I.from(e.select(t.name)[t.index]).map(o=>{const s=e.createRng();return s.selectNode(o),{range:s,forward:!0}}),Rn=(e,t)=>{const o=e.dom;if(t){if(sw(t))return fs(o,t);if(_N(t))return lv(o,t);if(CN(t))return uv(o,t);if(sn(t))return ff(o,t);if(b5(t))return I.some({range:t.rng,forward:iv(t)})}return I.none()},ha=(e,t,o)=>qh(e,t,o),tg=(e,t)=>{Rn(e,t).each(({range:o,forward:s})=>{e.setRng(o,s)})},Ed=e=>jt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",kp=(e=>t=>e===t)(Ls),Sp=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,rw=e=>!Sp(e)&&!kp(e)&&!Di(e),aw=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},SN=e=>sr(e,t=>{const o=he(t);return o?[te.fromDom(o)]:[]}),Mk=e=>aw(e).length>1,_5=e=>mt(SN(e),Wm),Bk=e=>Wr(e,"td[data-mce-selected],th[data-mce-selected]"),Za=(e,t)=>{const o=Bk(t);return o.length>0?o:_5(e)},G0=e=>Za(aw(e.selection.getSel()),te.fromDom(e.getBody())),mv=(e,t)=>js(e,"table",t),EN=e=>{const t=e.startContainer,o=e.startOffset;return ut(t)?o===0?I.some(te.fromDom(t)):I.none():I.from(t.childNodes[o]).map(te.fromDom)},C5=e=>{const t=e.endContainer,o=e.endOffset;return ut(t)?o===t.data.length?I.some(te.fromDom(t)):I.none():I.from(t.childNodes[o-1]).map(te.fromDom)},K0=e=>zl(e).fold(dt([e]),t=>[e].concat(K0(t))),iw=e=>Xr(e).fold(dt([e]),t=>Fo(t)==="br"?Fl(t).map(o=>[e].concat(iw(o))).getOr([]):[e].concat(iw(t))),pf=(e,t)=>ks(EN(t),C5(t),(o,s)=>{const a=yn(K0(e),He(Jo,o)),c=yn(iw(e),He(Jo,s));return a.isSome()&&c.isSome()}).getOr(!1),lw=(e,t,o,s)=>{const a=o,c=new Qs(o,a),d=Tr(e.schema.getMoveCaretBeforeOnEnterElements(),(b,w)=>!Ho(["td","th","table"],w.toLowerCase()));let f=o;do{if(ut(f)&&at.trim(f.data).length!==0){s?t.setStart(f,0):t.setEnd(f,f.data.length);return}if(d[f.nodeName]){s?t.setStartBefore(f):f.nodeName==="BR"?t.setEndBefore(f):t.setEndAfter(f);return}}while(f=s?c.next():c.prev());a.nodeName==="BODY"&&(s?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},gv=e=>{const t=e.selection.getSel();return ze(t)&&t.rangeCount>0},cw=(e,t)=>{const o=G0(e);o.length>0?Ze(o,s=>{const a=s.dom,c=e.dom.createRng();c.setStartBefore(a),c.setEndAfter(a),t(c,!0)}):t(e.selection.getRng(),!1)},Pk=(e,t,o)=>{const s=pA(e,t);o(s),e.moveToBookmark(s)},dw=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),k5=e=>dw(e,Mo),AN=e=>dw(e,ut),TN=e=>dw(e,Sh),fv=e=>E(e?.nodeType),Ik=e=>jt(e)&&!Ed(e)&&!Pc(e)&&!Pm(e),DN=(e,t)=>{if(Ik(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),s=parseInt(o,10);return!isNaN(s)&&s>0}else return!1},uw=(e,t,o)=>{const{selection:s,dom:a}=e,c=s.getNode(),d=Wn(c);Pk(s,!0,()=>{t()}),d&&Wn(c)&&a.isChildOf(c,e.getBody())?e.selection.select(c):o(s.getStart())&&Lk(a,s)},Lk=(e,t)=>{var o,s;const a=t.getRng(),{startContainer:c,startOffset:d}=a,f=t.getNode();if(!DN(e,f)&&jt(c)){const b=c.childNodes,w=e.getRoot();let T;if(d<b.length){const R=b[d];T=new Qs(R,(o=e.getParent(R,e.isBlock))!==null&&o!==void 0?o:w)}else{const R=b[b.length-1];T=new Qs(R,(s=e.getParent(R,e.isBlock))!==null&&s!==void 0?s:w),T.next(!0)}for(let R=T.current();R;R=T.next()){if(e.getContentEditable(R)==="false")return;if(ut(R)&&!zk(R)){a.setStart(R,0),t.setRng(a);return}}}},S5=(e,t,o)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(jt(e)||!zk(e))return e}},Fk=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Uu(e,t),Y0=(e,t,o)=>e.schema.isValidChild(t,o),zk=(e,t=!1)=>{if(ze(e)&&ut(e)){const o=t?e.data.replace(/ /g," "):e.data;return Bm(o)}else return!1},E5=e=>ze(e)&&ut(e)&&e.length===0,hf=(e,t)=>{const o="[data-mce-cef-wrappable]",s=NA(e),a=Yc(s)?o:`${o},${s}`;return Bn(te.fromDom(t),a)},Hk=(e,t)=>{const o=e.dom;return Ik(t)&&o.getContentEditable(t)==="false"&&hf(e,t)&&o.select('[contenteditable="true"]',t).length===0},bf=(e,t)=>no(e)?e(t):(ze(t)&&(e=e.replace(/%(\w+)/g,(o,s)=>t[s]||o)),e),Vk=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),$k=(e,t)=>{if(Yo(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=Jg(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},pv=(e,t,o)=>{const s=e.getStyle(t,o);return $k(s,o)},Uk=(e,t)=>{let o;return e.getParent(t,s=>jt(s)?(o=e.getStyle(s,"text-decoration"),!!o&&o!=="none"):!1),o},mw=(e,t,o)=>e.getParents(t,o,e.getRoot()),xf=(e,t,o)=>{const s=e.formatter.get(t);return ze(s)&&Mn(s,o)},A5=(e,t)=>xf(e,t,s=>{const a=c=>no(c)||c.length>1&&c.charAt(0)==="%";return Mn(["styles","attributes"],c=>Sn(s,c).exists(d=>{const f=ue(d)?d:Cs(d);return Mn(f,a)}))}),ON=(e,t,o)=>{const s=["inline","block","selector","attributes","styles","classes"],a=c=>Tr(c,(d,f)=>Mn(s,b=>b===f));return xf(e,t,c=>{const d=a(c);return xf(e,o,f=>{const b=a(f);return Ld(d,b)})})},og=e=>ke(e,"block"),Zk=e=>og(e)&&e.wrapper===!0,RN=e=>og(e)&&e.wrapper!==!0,oc=e=>ke(e,"selector"),ba=e=>ke(e,"inline"),gw=e=>oc(e)&&ba(e)&&mr(Sn(e,"mixed"),!0),jk=e=>oc(e)&&e.expand!==!1&&!ba(e),T5=e=>{const t=[];let o=e;for(;o;){if(ut(o)&&o.data!==zr||o.childNodes.length>1)return[];jt(o)&&t.push(o),o=o.firstChild}return t},Wk=e=>T5(e).length>0,fw=e=>Pc(e.dom)&&Wk(e.dom),Qh=Ed,qk=mw,D5=zk,NN=Fk,nc=e=>Ns(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Gk=(e,t)=>{let o=t;for(;o;){if(jt(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},O5=(e,t,o,s)=>{const a=t.data;if(e){for(let c=o;c>0;c--)if(s(a.charAt(c-1)))return c}else for(let c=o;c<a.length;c++)if(s(a.charAt(c)))return c;return-1},R5=(e,t,o)=>O5(e,t,o,s=>kp(s)||Sp(s)),MN=(e,t,o)=>O5(e,t,o,rw),Jh=(e,t,o,s,a,c)=>{let d;const f=e.getParent(o,R=>jg(R)||e.isBlock(R)),b=ze(f)?f:t,w=(R,N,F)=>{const ee=Ql(e),X=a?ee.backwards:ee.forwards;return I.from(X(R,N,(G,xe)=>Qh(G.parentNode)?-1:(d=G,F(a,G,xe)),b))};return w(o,s,R5).bind(R=>c?w(R.container,R.offset+(a?-1:0),MN):I.some(R)).orThunk(()=>d?I.some({container:d,offset:a?0:d.length}):I.none())},e1=(e,t,o,s,a)=>{const c=s[a];ut(s)&&Yc(s.data)&&c&&(s=c);const d=qk(e,s);for(let f=0;f<d.length;f++)for(let b=0;b<t.length;b++){const w=t[b];if(!(ze(w.collapsed)&&w.collapsed!==o.collapsed)&&oc(w)&&e.is(d[f],w.selector))return d[f]}return s},N5=(e,t,o,s)=>{var a;let c=o;const d=e.getRoot(),f=t[0];if(og(f)&&(c=f.wrapper?null:e.getParent(o,f.block,d)),!c){const b=(a=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:d;c=e.getParent(ut(o)?o.parentNode:o,w=>w!==d&&NN(e.schema,w),b)}if(c&&og(f)&&f.wrapper&&(c=qk(e,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c&&c[s]&&!e.isBlock(c[s])&&(c=c[s],!Vk(c,"br")););return c||o},du=(e,t,o,s)=>{const a=o.parentNode;return ze(o[s])?!1:a===t||Yo(a)||e.isBlock(a)?!0:du(e,t,a,s)},pw=(e,t,o,s,a,c)=>{let d=o;const f=a?"previousSibling":"nextSibling",b=e.getRoot();if(ut(o)&&!D5(o)&&(a?s>0:s<o.data.length))return o;for(;d;){if(jg(d))return o;if(!t[0].block_expand&&e.isBlock(d))return c?d:o;for(let w=d[f];w;w=w[f]){const T=ut(w)&&!du(e,b,w,f);if(!Qh(w)&&!nc(w)&&!D5(w,T))return d}if(d===b||d.parentNode===b){o=d;break}d=d.parentNode}return o},M5=e=>Qh(e.parentNode)||Qh(e),ng=(e,t,o,s={})=>{const{includeTrailingSpace:a=!1,expandToBlock:c=!0}=s,d=e.getParent(t.commonAncestorContainer,F=>jg(F)),f=ze(d)?d:e.getRoot();let{startContainer:b,startOffset:w,endContainer:T,endOffset:R}=t;const N=o[0];return jt(b)&&b.hasChildNodes()&&(b=se(b,w),ut(b)&&(w=0)),jt(T)&&T.hasChildNodes()&&(T=se(T,t.collapsed?R:R-1),ut(T)&&(R=T.data.length)),b=Gk(e,b),T=Gk(e,T),M5(b)&&(b=Qh(b)?b:b.parentNode,t.collapsed?b=b.previousSibling||b:b=b.nextSibling||b,ut(b)&&(w=t.collapsed?b.length:0)),M5(T)&&(T=Qh(T)?T:T.parentNode,t.collapsed?T=T.nextSibling||T:T=T.previousSibling||T,ut(T)&&(R=t.collapsed?0:T.length)),t.collapsed&&(Jh(e,f,b,w,!0,a).each(({container:X,offset:G})=>{b=X,w=G}),Jh(e,f,T,R,!1,a).each(({container:X,offset:G})=>{T=X,R=G})),(ba(N)||N.block_expand)&&((!ba(N)||!ut(b)||w===0)&&(b=pw(e,o,b,w,!0,c)),(!ba(N)||!ut(T)||R===T.data.length)&&(T=pw(e,o,T,R,!1,c))),jk(N)&&(b=e1(e,o,t,b,"previousSibling"),T=e1(e,o,t,T,"nextSibling")),(og(N)||oc(N))&&(b=N5(e,o,b,"previousSibling"),T=N5(e,o,T,"nextSibling"),og(N)&&(e.isBlock(b)||(b=pw(e,o,b,w,!0,c),ut(b)&&(w=0)),e.isBlock(T)||(T=pw(e,o,T,R,!1,c),ut(T)&&(R=T.data.length)))),jt(b)&&b.parentNode&&(w=e.nodeIndex(b),b=b.parentNode),jt(T)&&T.parentNode&&(R=e.nodeIndex(T)+1,T=T.parentNode),{startContainer:b,startOffset:w,endContainer:T,endOffset:R}},t1=(e,t,o)=>{var s;const a=t.startOffset,c=se(t.startContainer,a),d=t.endOffset,f=se(t.endContainer,d-1),b=G=>{const xe=G[0];ut(xe)&&xe===c&&a>=xe.data.length&&G.splice(0,1);const be=G[G.length-1];return d===0&&G.length>0&&be===f&&ut(be)&&G.splice(G.length-1,1),G},w=(G,xe,be)=>{const Se=[];for(;G&&G!==be;G=G[xe])Se.push(G);return Se},T=(G,xe)=>e.getParent(G,be=>be.parentNode===xe,xe),R=(G,xe,be)=>{const Se=be?"nextSibling":"previousSibling";for(let Ie=G,st=Ie.parentNode;Ie&&Ie!==xe;Ie=st){st=Ie.parentNode;const Et=w(Ie===G?Ie:Ie[Se],Se);Et.length&&(be||Et.reverse(),o(b(Et)))}};if(c===f)return o(b([c]));const N=(s=e.findCommonAncestor(c,f))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(c,f))return R(c,N,!0);if(e.isChildOf(f,c))return R(f,N);const F=T(c,N)||c,ee=T(f,N)||f;R(c,F,!0);const X=w(F===c?F:F.nextSibling,"nextSibling",ee===f?ee.nextSibling:ee);X.length&&o(b(X)),R(f,ee)},Kk=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],B5=e=>Xa(e)&&cd(e)===zr,Ep=(e,t,o,s)=>ym(t).fold(()=>"skipping",a=>s==="br"||B5(t)?"valid":_y(t)?"existing":Pc(t.dom)?"caret":Mn(Kk,c=>Bn(t,c))?"valid-block":!Y0(e,o,s)||!Y0(e,Fo(a),o)?"invalid-child":"valid"),BN=(e,t)=>{const o=ng(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},P5=(e,t,o,s,a,c)=>{const{uid:d=t,...f}=o;$l(e,Um()),jr(e,`${jm()}`,d),jr(e,`${Zm()}`,s);const{attributes:b={},classes:w=[]}=a(d,f);if(Ki(e,b),Lu(e,w),c){w.length>0&&jr(e,`${yd()}`,w.join(","));const T=ua(b);T.length>0&&jr(e,`${nf()}`,T.join(","))}},Go=e=>{Fi(e,Um()),Nr(e,`${jm()}`),Nr(e,`${Zm()}`),Nr(e,`${of()}`);const t=xc(e,`${nf()}`).map(s=>s.split(",")).getOr([]),o=xc(e,`${yd()}`).map(s=>s.split(",")).getOr([]);Ze(t,s=>Nr(e,s)),r0(e,o),Nr(e,`${yd()}`),Nr(e,`${nf()}`)},I5=(e,t,o,s,a)=>{const c=te.fromTag("span",e);return P5(c,t,o,s,a,!1),c},L5=(e,t,o,s,a,c)=>{const d=[],f=I5(e.getDoc(),o,c,s,a),b=Bl(),w=()=>{b.clear()},T=()=>b.get().getOrThunk(()=>{const ee=id(f);return d.push(ee),b.set(ee),ee}),R=ee=>{Ze(ee,N)},N=ee=>{switch(Ep(e,ee,"span",Fo(ee))){case"invalid-child":{w();const G=en(ee);R(G),w();break}case"valid-block":{w(),P5(ee,o,c,s,a,!0);break}case"valid":{const G=T();fr(ee,G);break}}},F=ee=>{const X=Ro(ee,te.fromDom);R(X)};return t1(e.dom,t,ee=>{w(),F(ee)}),d},PN=(e,t,o,s)=>{e.undoManager.transact(()=>{const a=e.selection,c=a.getRng(),d=G0(e).length>0,f=$s("mce-annotation");if(c.collapsed&&!d&&BN(e,c),a.getRng().collapsed&&!d){const b=I5(e.getDoc(),f,s,t,o.decorate);Cm(b,Ls),a.getRng().insertNode(b.dom),a.select(b.dom)}else Pk(a,!1,()=>{cw(e,b=>{L5(e,b,f,t,o.decorate,s)})})})},er=e=>{const t=N0();Vx(e,t);const o=Hx(e,t),s=Yr("span"),a=c=>{Ze(c,d=>{s(d)?Ni(d):Go(d)})};return{register:(c,d)=>{t.register(c,d)},annotate:(c,d)=>{t.lookup(c).each(f=>{PN(e,c,f,d)})},annotationChanged:(c,d)=>{o.addListener(c,d)},remove:c=>{gn(e,I.some(c)).each(({elements:d})=>{const f=e.selection.getBookmark();a(d),e.selection.moveToBookmark(f)})},removeAll:c=>{const d=e.selection.getBookmark();Xo(Xl(e,c),(f,b)=>{a(f)}),e.selection.moveToBookmark(d)},getAll:c=>{const d=Xl(e,c);return Vr(d,f=>Ro(f,b=>b.dom))}}},X0=e=>({getBookmark:He(ha,e),moveToBookmark:He(tg,e)});X0.isBookmarkNode=Ed;const Bs=(e,t,o)=>o.collapsed?!1:Mn(o.getClientRects(),s=>L(s,e,t)),Yk=(e,t)=>{const o=Xa(t)?cd(t).length:en(t).length+1;return e>o?o:e<0?0:e},F5=e=>Wl.range(e.start,Yk(e.soffset,e.start),e.finish,Yk(e.foffset,e.finish)),z5=(e,t)=>!kc(t.dom)&&(Rr(e,t)||Jo(e,t)),Xk=e=>t=>z5(e,t.start)&&z5(e,t.finish),vf=e=>e.inline||Eo.browser.isFirefox(),Qk=e=>Wl.range(te.fromDom(e.startContainer),e.startOffset,te.fromDom(e.endContainer),e.endOffset),IN=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?I.none():I.from(t.getRangeAt(0))).map(Qk)},Jk=e=>{const t=ml(e);return IN(t.dom).filter(Xk(e))},LN=(e,t)=>I.from(t).filter(Xk(e)).map(F5),sa=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),I.some(t)}catch{return I.none()}},hw=e=>{const t=vf(e)?Jk(te.fromDom(e.getBody())):I.none();e.bookmark=t.isSome()?t:e.bookmark},sg=e=>(e.bookmark?e.bookmark:I.none()).bind(o=>LN(te.fromDom(e.getBody()),o)).bind(sa),FN=e=>{sg(e).each(t=>e.selection.setRng(t))},H5={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},zN=(e,t)=>(E(t)||(t=0),window.setTimeout(e,t)),HN=(e,t)=>(E(t)||(t=0),window.setInterval(e,t)),Ad={setEditorTimeout:(e,t,o)=>zN(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const s=HN(()=>{e.removed?window.clearInterval(s):t()},o);return s}},V5=(e,t)=>e.view(t).fold(dt([]),s=>{const a=e.owner(s),c=V5(e,a);return[s].concat(c)}),VN=(e,t)=>{const o=t.owner(e);return V5(t,o)};var $N=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?I.none():I.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(te.fromDom)},owner:e=>pc(e)});const $5=e=>{const t=Ja(),o=za(t),s=VN(e,$N),a=Bi(e),c=dn(s,(d,f)=>{const b=Bi(f);return{left:d.left+b.left,top:d.top+b.top}},{left:0,top:0});return ld(c.left+a.left+o.left,c.top+a.top+o.top)},hv=e=>e.type==="nodechange"&&e.selectionChange,t4=(e,t)=>{const o=()=>{t.throttle()};On.DOM.bind(document,"mouseup",o),e.on("remove",()=>{On.DOM.unbind(document,"mouseup",o)})},o1=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},n1=(e,t)=>{o1(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{hv(o)||hw(e)})},bw=e=>{const t=xs(()=>{hw(e)},0);e.on("init",()=>{e.inline&&t4(e,t),n1(e,t)}),e.on("remove",()=>{t.cancel()})};let yf;const wf=On.DOM,s1=e=>jt(e)&&H5.isEditorUIElement(e),Q0=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},r1=(e,t)=>{const o=$R(e);return wf.getParent(t,a=>s1(a)||(o?e.dom.is(a,o):!1))!==null},xw=e=>{try{const t=Xd(te.fromDom(e.getElement()));return Qd(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},o4=(e,t)=>{const o=t.editor;bw(o);const s=(c,d)=>{if(hk(c)&&c.inline!==!0){const f=te.fromDom(c.getContainer());d(f,"tox-edit-focus")}},a=c=>{if(!c.iframeElement)return;const f=te.fromDom(c.iframeElement),b=$5(f),w=Cc(window);(b.top<w.y||b.top>w.bottom-25)&&f.dom.scrollIntoView({block:"center"})};o.on("focusin",()=>{const c=e.focusedEditor;if(Q0(xw(o))&&s(o,$l),c!==o){c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0);const d=qi().browser;o.inline!==!0&&(d.isSafari()||d.isChromium())&&a(o)}}),o.on("focusout",()=>{Ad.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!Q0(xw(o))||c!==o)&&s(o,Fi),!r1(o,xw(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),yf||(yf=c=>{const d=e.activeEditor;d&&uh(c).each(f=>{const b=f;b.ownerDocument===document&&b!==document.body&&!r1(d,b)&&e.focusedEditor===d&&(d.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},wf.bind(document,"focusin",yf))},n4=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&yf&&(wf.unbind(document,"focusin",yf),yf=null)},U5=e=>{e.on("AddEditor",He(o4,e)),e.on("RemoveEditor",He(n4,e))},Z5=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),J0=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,j5=e=>e.collapsed?I.from(se(e.startContainer,e.startOffset)).map(te.fromDom):I.none(),W5=(e,t)=>j5(t).bind(o=>oa(o)?I.some(o):Rr(e,o)?I.none():I.some(e)),s4=(e,t)=>{W5(te.fromDom(e.getBody()),t).bind(o=>cn(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},a1=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},q5=e=>hc(e)||t0(e).isSome(),G5=e=>ze(e.iframeElement)&&hc(te.fromDom(e.iframeElement)),K5=e=>{const t=e.getBody();return t&&q5(te.fromDom(t))},Y5=e=>{const t=Xd(te.fromDom(e.getElement()));return Qd(t).filter(o=>!Q0(o.dom)&&r1(e,o.dom)).isSome()},Ic=e=>e.inline?K5(e):G5(e),rg=e=>Ic(e)||Y5(e),uu=e=>{const t=e.selection,o=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const a=d=>{sg(d).each(f=>{d.selection.setRng(f),s=f})};!Ic(e)&&e.hasEditableRoot()&&a(e);const c=Z5(e,t.getNode());if(c&&e.dom.isChildOf(c,o)){J0(e,c)||a1(o),a1(c),e.hasEditableRoot()||a(e),s4(e,s),bv(e);return}e.inline||(Eo.browser.isOpera()||a1(o),e.getWin().focus()),(Eo.browser.isFirefox()||e.inline)&&(a1(o),s4(e,s)),bv(e)},bv=e=>e.editorManager.setActive(e),r4=(e,t)=>{e.removed||(t?bv(e):uu(e))},Bt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Bt.metaKeyPressed(e),metaKeyPressed:e=>Eo.os.isMacOS()||Eo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Ap="data-mce-selected",X5="table,img,figure.image,hr,video,span.mce-preview-object,details",vw=Math.abs,xv=Math.round,yw={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},a4=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Qu=(e,t)=>{const o=t.dom,s=t.getDoc(),a=document,c=t.getBody();let d,f,b,w,T,R,N,F,ee,X,G,xe,be,Se,Ie;const st=Kt=>ze(Kt)&&(p0(Kt)||o.is(Kt,"figure.image")),Et=Kt=>bi(Kt)||o.hasClass(Kt,"mce-preview-object"),ft=(Kt,wt)=>{if(a4(Kt)){const Ft=Kt.touches[0];return st(Kt.target)&&!Bs(Ft.clientX,Ft.clientY,wt)}else return st(Kt.target)&&!Bs(Kt.clientX,Kt.clientY,wt)},Xe=Kt=>{const wt=Kt.target;ft(Kt,t.selection.getRng())&&!Kt.isDefaultPrevented()&&t.selection.select(wt)},qe=Kt=>o.hasClass(Kt,"mce-preview-object")&&ze(Kt.firstElementChild)?[Kt,Kt.firstElementChild]:o.is(Kt,"figure.image")?[Kt.querySelector("img")]:[Kt],rt=Kt=>{const wt=Gh(t);return!wt||t.mode.isReadOnly()||Kt.getAttribute("data-mce-resize")==="false"||Kt===t.getBody()?!1:o.hasClass(Kt,"mce-preview-object")&&ze(Kt.firstElementChild)?Bn(te.fromDom(Kt.firstElementChild),wt):Bn(te.fromDom(Kt),wt)},Vt=(Kt,wt)=>{if(Et(wt))return Kt.create("img",{src:Eo.transparentSrc});if(Ec(wt)){const uo=Is(w.name,"n")?Zn:zs,yo=wt.cloneNode(!0);return uo(Kt.select("tr",yo)).each(Qn=>{const gs=Kt.select("td,th",Qn);Kt.setStyle(Qn,"height",null),Ze(gs,Pd=>Kt.setStyle(Pd,"height",null))}),yo}else return wt.cloneNode(!0)},io=(Kt,wt,Ft)=>{if(ze(Ft)){const uo=qe(Kt);Ze(uo,yo=>{yo.style[wt]||!t.schema.isValid(yo.nodeName.toLowerCase(),wt)?o.setStyle(yo,wt,Ft):o.setAttrib(yo,wt,""+Ft)})}},Ao=(Kt,wt,Ft)=>{io(Kt,"width",wt),io(Kt,"height",Ft)},tn=Kt=>{let wt,Ft,uo,yo,Qn;wt=Kt.screenX-R,Ft=Kt.screenY-N,xe=wt*w[2]+F,be=Ft*w[3]+ee,xe=xe<5?5:xe,be=be<5?5:be,(st(d)||Et(d))&&z0(t)!==!1?uo=!Bt.modifierPressed(Kt):uo=Bt.modifierPressed(Kt),uo&&(vw(wt)>vw(Ft)?(be=xv(xe*X),xe=xv(be/X)):(xe=xv(be/X),be=xv(xe*X))),Ao(f,xe,be),yo=w.startPos.x+wt,Qn=w.startPos.y+Ft,yo=yo>0?yo:0,Qn=Qn>0?Qn:0,o.setStyles(b,{left:yo,top:Qn,display:"block"}),b.innerHTML=xe+" &times; "+be,wt=c.scrollWidth-Se,Ft=c.scrollHeight-Ie,wt+Ft!==0&&o.setStyles(b,{left:yo-wt,top:Qn-Ft}),G||(bn(t,d,F,ee,"corner-"+w.name),G=!0)},ds=()=>{const Kt=G;G=!1,Kt&&(io(d,"width",xe),io(d,"height",be)),o.unbind(s,"mousemove",tn),o.unbind(s,"mouseup",ds),a!==s&&(o.unbind(a,"mousemove",tn),o.unbind(a,"mouseup",ds)),o.remove(f),o.remove(b),o.remove(T),hs(d),Kt&&(wR(t,d,xe,be,"corner-"+w.name),o.setAttrib(d,"style",o.getAttrib(d,"style"))),t.nodeChanged()},hs=Kt=>{eo();const wt=o.getPos(Kt,c),Ft=wt.x,uo=wt.y,yo=Kt.getBoundingClientRect(),Qn=yo.width||yo.right-yo.left,gs=yo.height||yo.bottom-yo.top;d!==Kt&&(wr(),d=Kt,xe=be=0);const Pd=t.dispatch("ObjectSelected",{target:Kt});rt(Kt)&&!Pd.isDefaultPrevented()?Xo(yw,(li,dm)=>{const wu=dc=>{const um=qe(d)[0];R=dc.screenX,N=dc.screenY,F=um.clientWidth,ee=um.clientHeight,X=ee/F,w=li,w.name=dm,w.startPos={x:Qn*li[0]+Ft,y:gs*li[1]+uo},Se=c.scrollWidth,Ie=c.scrollHeight,T=o.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(T,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),f=Vt(o,d),o.addClass(f,"mce-clonedresizable"),o.setAttrib(f,"data-mce-bogus","all"),f.contentEditable="false",o.setStyles(f,{left:Ft,top:uo,margin:0}),Ao(f,Qn,gs),f.removeAttribute(Ap),c.appendChild(f),o.bind(s,"mousemove",tn),o.bind(s,"mouseup",ds),a!==s&&(o.bind(a,"mousemove",tn),o.bind(a,"mouseup",ds)),b=o.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},F+" &times; "+ee)};let Tl=o.get("mceResizeHandle"+dm);Tl&&o.remove(Tl),Tl=o.add(c,"div",{id:"mceResizeHandle"+dm,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+dm+"-resize; margin:0; padding:0"}),o.bind(Tl,"mousedown",dc=>{dc.stopImmediatePropagation(),dc.preventDefault(),wu(dc)}),li.elm=Tl,o.setStyles(Tl,{left:Qn*li[0]+Ft-Tl.offsetWidth/2,top:gs*li[1]+uo-Tl.offsetHeight/2})}):wr(!1)},xa=xs(hs,0),wr=(Kt=!0)=>{xa.cancel(),eo(),d&&Kt&&d.removeAttribute(Ap),Xo(yw,(wt,Ft)=>{const uo=o.get("mceResizeHandle"+Ft);uo&&(o.unbind(uo),o.remove(uo))})},sl=(Kt,wt)=>o.isChildOf(Kt,wt),Nt=Kt=>{if(G||t.removed||t.composing)return;const wt=Kt.type==="mousedown"?Kt.target:e.getNode(),Ft=dd(te.fromDom(wt),X5).map(yo=>yo.dom).filter(yo=>o.isEditable(yo.parentElement)||yo.nodeName==="IMG"&&o.isEditable(yo)).getOrUndefined(),uo=ze(Ft)?o.getAttrib(Ft,Ap,"1"):"1";if(Ze(o.select(`img[${Ap}],hr[${Ap}]`),yo=>{yo.removeAttribute(Ap)}),ze(Ft)&&sl(Ft,c)&&rg(t)){Nn();const yo=e.getStart(!0);if(sl(yo,Ft)&&sl(e.getEnd(!0),Ft)){o.setAttrib(Ft,Ap,uo),xa.throttle(Ft);return}}wr()},eo=()=>{Xo(yw,Kt=>{Kt.elm&&(o.unbind(Kt.elm),delete Kt.elm)})},Nn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Nn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Nt),t.on("keyup compositionend",Kt=>{d&&d.nodeName==="TABLE"&&Nt(Kt)}),t.on("hide blur",wr),t.on("contextmenu longpress",Xe,!0)}),t.on("remove",eo),{isResizable:rt,showResizeRect:hs,hideResizeRect:wr,updateResizeRect:Nt,destroy:()=>{xa.cancel(),d=f=T=null}}},Td=(e,t,o)=>{const s=ml(te.fromDom(o));return ux(s.dom,e,t).map(a=>{const c=o.createRange();return c.setStart(a.start.dom,a.soffset),c.setEnd(a.finish.dom,a.foffset),c}).getOrUndefined()},eb=(e,t)=>ze(e)&&ze(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Q5=(e,t,o)=>{let s=e;for(;s&&s!==t;){if(o(s))return s;s=s.parentNode}return null},vv=(e,t,o)=>Q5(e,t,o)!==null,J5=(e,t,o)=>vv(e,t,s=>s.nodeName===o),eT=(e,t)=>xl(e)&&!vv(e,t,Pc),i4=(e,t,o)=>{const s=t.parentNode;if(s){const a=new Qs(t,e.getParent(s,e.isBlock)||e.getRoot());let c;for(;c=a[o?"prev":"next"]();)if(Ns(c))return!0}return!1},tT=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},oT=(e,t)=>{let o=t;for(;o&&o!==e;){if(Wn(o))return!0;o=o.parentNode}return!1},ww=(e,t,o,s,a)=>{const c=e.getRoot(),d=e.schema.getNonEmptyElements(),f=a.parentNode;let b,w;if(!f)return I.none();const T=e.getParent(f,e.isBlock)||c;if(s&&Ns(a)&&t&&e.isEmpty(T))return I.some(We(f,e.nodeIndex(a)));const R=new Qs(a,T);for(;w=R[s?"prev":"next"]();){if(e.getContentEditableParent(w)==="false"||eT(w,c))return I.none();if(ut(w)&&w.data.length>0)return J5(w,c,"A")?I.none():I.some(We(w,s?w.data.length:0));if(e.isBlock(w)||d[w.nodeName.toLowerCase()])return I.none();b=w}return md(b)?I.none():o&&b?I.some(We(b,0)):I.none()},yv=(e,t,o,s)=>{const a=e.getRoot();let c,d=!1,f=o?s.startContainer:s.endContainer,b=o?s.startOffset:s.endOffset;const w=jt(f)&&b===f.childNodes.length,T=e.schema.getNonEmptyElements();let R=o;if(xl(f))return I.none();if(jt(f)&&b>f.childNodes.length-1&&(R=!1),Zg(f)&&(f=a,b=0),f===a){if(R&&(c=f.childNodes[b>0?b-1:0],c&&(xl(c)||T[c.nodeName]||Ec(c))))return I.none();if(f.hasChildNodes()){if(b=Math.min(!R&&b>0?b-1:b,f.childNodes.length-1),f=f.childNodes[b],b=ut(f)&&w?f.data.length:0,!t&&f===a.lastChild&&Ec(f)||oT(a,f)||xl(f)||px(f))return I.none();if(f.hasChildNodes()&&!Ec(f)){c=f;const N=new Qs(f,a);do{if(Wn(c)||xl(c)){d=!1;break}if(ut(c)&&c.data.length>0){b=R?0:c.data.length,f=c,d=!0;break}if(T[c.nodeName.toLowerCase()]&&!h0(c)){b=e.nodeIndex(c),f=c.parentNode,R||b++,d=!0;break}}while(c=R?N.next():N.prev())}}}return t&&(ut(f)&&b===0&&ww(e,w,t,!0,f).each(N=>{f=N.container(),b=N.offset(),d=!0}),jt(f)&&(c=f.childNodes[b],c||(c=f.childNodes[b-1]),c&&Ns(c)&&!tT(c,"A")&&!i4(e,c,!1)&&!i4(e,c,!0)&&ww(e,w,t,!0,c).each(N=>{f=N.container(),b=N.offset(),d=!0}))),R&&!t&&ut(f)&&b===f.data.length&&ww(e,w,t,!1,f).each(N=>{f=N.container(),b=N.offset(),d=!0}),d&&f?I.some(We(f,b)):I.none()},tb=(e,t)=>{const o=t.collapsed,s=t.cloneRange(),a=We.fromRangeStart(t);return yv(e,o,!0,s).each(c=>{(!o||!We.isAbove(a,c))&&s.setStart(c.container(),c.offset())}),o||yv(e,o,!1,s).each(c=>{s.setEnd(c.container(),c.offset())}),o&&s.collapse(!0),eb(t,s)?I.none():I.some(s)},wv=(e,t)=>e.splitText(t),ob=e=>{let t=e.startContainer,o=e.startOffset,s=e.endContainer,a=e.endOffset;if(t===s&&ut(t)){if(o>0&&o<t.data.length)if(s=wv(t,o),t=s.previousSibling,a>o){a=a-o;const c=wv(s,a).previousSibling;t=s=c,a=c.data.length,o=0}else a=0}else if(ut(t)&&o>0&&o<t.data.length&&(t=wv(t,o),o=0),ut(s)&&a>0&&a<s.data.length){const c=wv(s,a).previousSibling;s=c,a=c.data.length}return{startContainer:t,startOffset:o,endContainer:s,endOffset:a}},ag=e=>({walk:(c,d)=>t1(e,c,d),split:ob,expand:(c,d={type:"word"})=>{if(d.type==="word"){const f=ng(e,c,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),b=e.createRng();return b.setStart(f.startContainer,f.startOffset),b.setEnd(f.endContainer,f.endOffset),b}return c},normalize:c=>tb(e,c).fold(_o,d=>(c.setStart(d.startContainer,d.startOffset),c.setEnd(d.endContainer,d.endOffset),!0))});ag.compareRanges=eb,ag.getCaretRangeFromPoint=Td,ag.getSelectedNode=he,ag.getNode=se;const l4=e=>Fo(e)==="textarea",UN=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),ZN=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},jN=(e,t)=>{const o=en(e);if(o.length===0||l4(e))return{element:e,offset:t};if(t<o.length&&!l4(o[t]))return{element:o[t],offset:0};{const s=o[o.length-1];return l4(s)?{element:e,offset:t}:Fo(s)==="img"?{element:s,offset:1}:Xa(s)?{element:s,offset:cd(s).length}:{element:s,offset:en(s).length}}},nT=(e,t)=>{const o=Es(e),s=Q2(e);return{element:e,bottom:o.top+s,height:s,pos:o,cleanup:t}},_w=(e,t)=>{const o=jN(e,t),s=te.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+zr+"</span>");return ea(o.element,s),nT(s,()=>ls(s))},c4=e=>nT(te.fromDom(e),Do),d4=(e,t,o,s)=>{qN(e,(a,c)=>WN(e,t,o,s),o)},Cw=(e,t,o,s,a)=>{const c={elm:s.element.dom,alignToTop:a};if(UN(e,c))return;const d=za(t).top;o(e,t,d,s,a),ZN(e,c)},WN=(e,t,o,s)=>{const a=te.fromDom(e.getBody()),c=te.fromDom(e.getDoc());mo(a);const d=_w(te.fromDom(o.startContainer),o.startOffset);Cw(e,c,t,d,s),d.cleanup()},sT=(e,t,o,s)=>{const a=te.fromDom(e.getDoc());Cw(e,a,o,c4(t),s)},qN=(e,t,o)=>{const s=o.startContainer,a=o.startOffset,c=o.endContainer,d=o.endOffset;t(te.fromDom(s),te.fromDom(c));const f=e.dom.createRng();f.setStart(s,a),f.setEnd(c,d),e.selection.setRng(o)},u4=(e,t,o,s,a)=>{const c=t.pos,d=30;if(s)Iu(c.left,Math.max(0,c.top-d),a);else{const f=c.top-o+t.height+d;Iu(-e.getBody().getBoundingClientRect().left,f,a)}},rT=(e,t,o,s,a,c)=>{const d=s+o,f=a.pos.top,b=a.bottom,w=b-f>=s;f<o?u4(e,a,s,c!==!1,t):f>d?u4(e,a,s,w?c!==!1:c===!0,t):b>d&&!w&&u4(e,a,s,c===!0,t)},aT=(e,t,o,s,a)=>{const c=ml(t).dom.innerHeight;rT(e,t,o,c,s,a)},_v=(e,t,o,s,a)=>{const c=ml(t).dom.innerHeight;rT(e,t,o,c,s,a);const d=$5(s.element),f=Cc(window);d.top<f.y?ei(s.element,a!==!1):d.top>f.bottom&&ei(s.element,a===!0)},kw=(e,t,o)=>d4(e,aT,t,o),Sw=(e,t,o)=>sT(e,t,aT,o),GN=(e,t,o)=>d4(e,_v,t,o),KN=(e,t,o)=>sT(e,t,_v,o),YN=(e,t,o)=>{(e.inline?Sw:KN)(e,t,o)},Cv=(e,t,o)=>{(e.inline?kw:GN)(e,t,o)},iT=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),lT=(e,t,o,s,a)=>{const c=o?t.startContainer:t.endContainer,d=o?t.startOffset:t.endOffset;return I.from(c).map(te.fromDom).map(f=>!s||!t.collapsed?cr(f,a(f,d)).getOr(f):f).bind(f=>lr(f)?I.some(f):Gi(f).filter(lr)).map(f=>f.dom).getOr(e)},Dd=(e,t,o=!1)=>lT(e,t,!0,o,(s,a)=>Math.min(Kf(s),a)),m4=(e,t,o=!1)=>lT(e,t,!1,o,(s,a)=>a>0?a-1:a),cT=(e,t)=>{const o=e;for(;e&&ut(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},dT=(e,t)=>{if(!t)return e;let o=t.startContainer,s=t.endContainer;const a=t.startOffset,c=t.endOffset;let d=t.commonAncestorContainer;t.collapsed||(o===s&&c-a<2&&o.hasChildNodes()&&(d=o.childNodes[a]),ut(o)&&ut(s)&&(o.length===a?o=cT(o.nextSibling,!0):o=o.parentNode,c===0?s=cT(s.previousSibling,!1):s=s.parentNode,o&&o===s&&(d=o)));const f=ut(d)?d.parentNode:d;return Mo(f)?f:e},XN=(e,t,o,s)=>{const a=[],c=e.getRoot(),d=e.getParent(o||Dd(c,t,t.collapsed),e.isBlock),f=e.getParent(s||m4(c,t,t.collapsed),e.isBlock);if(d&&d!==c&&a.push(d),d&&f&&d!==f){let b;const w=new Qs(d,c);for(;(b=w.next())&&b!==f;)e.isBlock(b)&&a.push(b)}return f&&d!==f&&f!==c&&a.push(f),a},QN=(e,t,o)=>I.from(t).bind(s=>I.from(s.parentNode).map(a=>{const c=e.nodeIndex(s),d=e.createRng();return d.setStart(a,c),d.setEnd(a,c+1),o&&(lw(e,d,s,!0),lw(e,d,s,!1)),d})),ja=(e,t)=>Ro(t,o=>{const s=e.dispatch("GetSelectionRange",{range:o});return s.range!==o?s.range:o}),g4={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},kv=(e,t,o)=>{const s=o?"lastChild":"firstChild",a=o?"prev":"next";if(e[s])return e[s];if(e!==t){let c=e[a];if(c)return c;for(let d=e.parent;d&&d!==t;d=d.parent)if(c=d[a],c)return c}},Ew=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!Bm(o))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(o))},f4=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class ai{static create(t,o){const s=new ai(t,g4[t]||1);return o&&Xo(o,(a,c)=>{s.attr(c,a)}),s}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const s=this;if(!Ge(t))return ze(t)&&Xo(t,(c,d)=>{s.attr(d,c)}),s;const a=s.attributes;if(a){if(o!==void 0){if(o===null){if(t in a.map){delete a.map[t];let c=a.length;for(;c--;)if(a[c].name===t)return a.splice(c,1),s}return s}if(t in a.map){let c=a.length;for(;c--;)if(a[c].name===t){a[c].value=o;break}}else a.push({name:t,value:o});return a.map[t]=o,s}return a.map[t]}}clone(){const t=this,o=new ai(t.name,t.type),s=t.attributes;if(s){const a=[];a.map={};for(let c=0,d=s.length;c<d;c++){const f=s[c];f.name!=="id"&&(a[a.length]={name:f.name,value:f.value},a.map[f.name]=f.value)}o.attributes=a}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const s=o.next;t.insert(o,t,!0),o=s}t.remove()}remove(){const t=this,o=t.parent,s=t.next,a=t.prev;return o&&(o.firstChild===t?(o.firstChild=s,s&&(s.prev=null)):a&&(a.next=s),o.lastChild===t?(o.lastChild=a,a&&(a.next=null)):s&&(s.prev=a),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const s=o.lastChild;return s?(s.next=t,t.prev=s,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,s){t.parent&&t.remove();const a=o.parent||this;return s?(o===a.firstChild?a.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===a.lastChild?a.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=a,t}getAll(t){const o=this,s=[];for(let a=o.firstChild;a;a=kv(a,o))a.name===t&&s.push(a);return s}children(){const t=this,o=[];for(let s=t.firstChild;s;s=s.next)o.push(s);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let a=t.firstChild;a;a=kv(a,t))o.push(a);let s=o.length;for(;s--;){const a=o[s];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},s){var a;const c=this;let d=c.firstChild;if(f4(c))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(t[d.name]||f4(d))return!1}if(d.type===8||d.type===3&&!Ew(d)||d.type===3&&d.parent&&o[d.parent.name]&&Bm((a=d.value)!==null&&a!==void 0?a:"")||s&&s(d))return!1}while(d=kv(d,c));return!0}walk(t){return kv(this,null,t)}}const uT=at.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),mT=e=>Ge(e.nodeValue)&&e.nodeValue.includes(zr),gT=e=>`${e.length===0?"":`${Ro(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,JN=(e,t)=>t.querySelectorAll(gT(e)),fT=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>mT(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),Sv=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(mT(t)){const o=t.parentNode;return o&&xo(uT,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),pT=e=>fT(e).nextNode()!==null,hT=e=>Sv(e).nextNode()!==null,bT=(e,t)=>t.querySelector(gT(e))!==null,eM=(e,t)=>{Ze(JN(e,t),o=>{const s=te.fromDom(o);Ys(s,"data-mce-bogus")==="all"?ls(s):Ze(e,a=>{wm(s,a)&&Nr(s,a)})})},xT=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},p4=Fn(xT,fT),h4=Fn(xT,Sv),Aw=(e,t)=>{const o=[{condition:He(bT,t),action:He(eM,t)},{condition:pT,action:p4},{condition:hT,action:h4}];let s=e,a=!1;return Ze(o,({condition:c,action:d})=>{c(s)&&(a||(s=e.cloneNode(!0),a=!0),d(s))}),s},vT=e=>{const t=Wr(e,"[data-mce-bogus]");Ze(t,o=>{Ys(o,"data-mce-bogus")==="all"?ls(o):wd(o)?(ea(o,te.fromText(Xc)),ls(o)):Ni(o)})},yT=e=>{const t=Wr(e,"input");Ze(t,o=>{Nr(o,"name")})},tM=(e,t)=>{const o=Ua(e),s=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},oM=(e,t)=>{const o=e.getDoc(),s=Xd(te.fromDom(e.getBody())),a=te.fromTag("div",o);jr(a,"data-mce-bogus","all"),Xf(a,{position:"fixed",left:"-9999999px",top:"0"}),Cm(a,t.innerHTML),vT(a),yT(a);const c=ch(s);ln(c,a);const d=$i(a.dom.innerText);return ls(a),d},wT=(e,t,o)=>{let s;return t.format==="raw"?s=at.trim($i(Aw(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=oM(e,o):t.format==="tree"?s=e.serializer.serialize(o,t):s=tM(e,e.serializer.serialize(o,t)),t.format!=="text"&&!mp(te.fromDom(o))&&Ge(s)?at.trim(s):s},nM=(e,t)=>I.from(e.getBody()).fold(dt(t.format==="tree"?new ai("body",11):""),o=>wT(e,t,o)),_T=at.makeMap,CT=e=>{const t=[];e=e||{};const o=e.indent,s=_T(e.indent_before||""),a=_T(e.indent_after||""),c=fd.getEncodeFunc(e.entity_encoding||"raw",e.entities),d=e.element_format!=="xhtml";return{start:(f,b,w)=>{if(o&&s[f]&&t.length>0){const T=t[t.length-1];T.length>0&&T!==`
`&&t.push(`
`)}if(t.push("<",f),b)for(let T=0,R=b.length;T<R;T++){const N=b[T];t.push(" ",N.name,'="',c(N.value,!0),'"')}if(!w||d?t[t.length]=">":t[t.length]=" />",w&&o&&a[f]&&t.length>0){const T=t[t.length-1];T.length>0&&T!==`
`&&t.push(`
`)}},end:f=>{let b;t.push("</",f,">"),o&&a[f]&&t.length>0&&(b=t[t.length-1],b.length>0&&b!==`
`&&t.push(`
`))},text:(f,b)=>{f.length>0&&(t[t.length]=b?f:c(f))},cdata:f=>{t.push("<![CDATA[",f,"]]>")},comment:f=>{t.push("<!--",f,"-->")},pi:(f,b)=>{b?t.push("<?",f," ",c(b),"?>"):t.push("<?",f,"?>"),o&&t.push(`
`)},doctype:f=>{t.push("<!DOCTYPE",f,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Tp=(e={},t=Gt())=>{const o=CT(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const c=e.validate,d={3:b=>{var w;o.text((w=b.value)!==null&&w!==void 0?w:"",b.raw)},8:b=>{var w;o.comment((w=b.value)!==null&&w!==void 0?w:"")},7:b=>{o.pi(b.name,b.value)},10:b=>{var w;o.doctype((w=b.value)!==null&&w!==void 0?w:"")},4:b=>{var w;o.cdata((w=b.value)!==null&&w!==void 0?w:"")},11:b=>{let w=b;if(w=w.firstChild)do f(w);while(w=w.next)}};o.reset();const f=b=>{var w;const T=d[b.type];if(T)T(b);else{const R=b.name,N=R in t.getVoidElements();let F=b.attributes;if(c&&F&&F.length>1){const ee=[];ee.map={};const X=t.getElementRule(b.name);if(X){for(let G=0,xe=X.attributesOrder.length;G<xe;G++){const be=X.attributesOrder[G];if(be in F.map){const Se=F.map[be];ee.map[be]=Se,ee.push({name:be,value:Se})}}for(let G=0,xe=F.length;G<xe;G++){const be=F[G].name;if(!(be in ee.map)){const Se=F.map[be];ee.map[be]=Se,ee.push({name:be,value:Se})}}F=ee}}if(o.start(R,F,N),$u(R))Ge(b.value)&&o.text(b.value,!0),o.end(R);else if(!N){let ee=b.firstChild;if(ee){(R==="pre"||R==="textarea")&&ee.type===3&&((w=ee.value)===null||w===void 0?void 0:w[0])===`
`&&o.text(`
`,!0);do f(ee);while(ee=ee.next)}o.end(R)}}};return a.type===1&&!e.inner?f(a):a.type===3?d[3](a):d[11](a),o.getContent()}}},kT=new Set;Ze(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{kT.add(t)});const i1=new Set;Ze(["background-color"],t=>{i1.add(t)});const Ev=["font","text-decoration","text-emphasis"],ST=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),l1=(e,t)=>ua(ST(e,t)),b4=e=>kT.has(e),sM=e=>i1.has(e),ET=(e,t)=>Mn(l1(e,t),o=>b4(o)),rM=(e,t)=>ET(e,t)&&Mn(l1(e,t),o=>sM(o)),Lc=e=>mt(e,t=>Mn(Ev,o=>Is(t,o))),Av=(e,t,o)=>{const s=l1(e,t),a=l1(e,o),c=d=>{var f,b;const w=(f=e.getStyle(t,d))!==null&&f!==void 0?f:"",T=(b=e.getStyle(o,d))!==null&&b!==void 0?b:"";return Zr(w)&&Zr(T)&&w!==T};return Mn(s,d=>{const f=b=>Mn(b,w=>w===d);if(!f(a)&&f(Ev)){const b=Lc(a);return Mn(b,c)}else return c(d)})},AT=(e,t,o)=>I.from(o.container()).filter(ut).exists(s=>{const a=e?0:-1;return t(s.data.charAt(o.offset()+a))}),nb=He(AT,!0,Sp),c1=He(AT,!1,Sp),aM=e=>{const t=e.container();return ut(t)&&(t.data.length===0||Gu(t.data)&&X0.isBookmarkNode(t.parentNode))},Od=(e,t)=>o=>nl(e?0:-1,o).filter(t).isSome(),Yn=e=>p0(e)&&fl(te.fromDom(e),"display")==="block",sb=e=>Wn(e)&&!Ug(e),TT=Od(!0,Yn),DT=Od(!1,Yn),Dp=Od(!0,bi),d1=Od(!1,bi),Tw=Od(!0,Ec),Tv=Od(!1,Ec),ig=Od(!0,sb),Ju=Od(!1,sb),x4=e=>e.slice(0,-1),OT=(e,t,o)=>Rr(t,e)?x4(Qa(e,s=>o(s)||Jo(s,t))):[],v4=(e,t)=>OT(e,t,_o),lg=(e,t)=>[e].concat(v4(e,t)),Dw=(e,t,o)=>h5(e,t,o,aM),RT=e=>t=>e.isBlock(Fo(t)),Op=(e,t,o)=>yn(lg(te.fromDom(t.container()),e),RT(o)),y4=(e,t,o,s)=>Dw(e,t.dom,o).forall(a=>Op(t,o,s).fold(()=>!Jm(a,o,t.dom),c=>!Jm(a,o,t.dom)&&Rr(c,te.fromDom(a.container())))),Ow=(e,t,o,s)=>Op(t,o,s).fold(()=>Dw(e,t.dom,o).forall(a=>!Jm(a,o,t.dom)),a=>Dw(e,a.dom,o).isNone()),w4=He(Ow,!1),NT=He(Ow,!0),MT=He(y4,!1),BT=He(y4,!0),PT=e=>av(e).exists(wd),u1=(e,t,o,s)=>{const a=mt(lg(te.fromDom(o.container()),t),d=>s.isBlock(Fo(d))),c=Zn(a).getOr(t);return Bc(e,c.dom,o).filter(PT)},Rw=(e,t,o)=>av(t).exists(wd)||u1(!0,e,t,o).isSome(),Dv=(e,t,o)=>d5(t).exists(wd)||u1(!1,e,t,o).isSome(),_4=He(u1,!1),IT=He(u1,!0),C4=e=>We.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),k4=(e,t,o)=>{const s=mt(lg(te.fromDom(t.container()),e),a=>o.isBlock(Fo(a)));return Zn(s).getOr(e)},S4=(e,t,o)=>C4(t)?c1(t):c1(t)||tc(k4(e,t,o).dom,t).exists(c1),E4=(e,t,o)=>C4(t)?nb(t):nb(t)||_l(k4(e,t,o).dom,t).exists(nb),LT=e=>Ho(["pre","pre-wrap"],e),Nw=e=>av(e).bind(t=>Ii(t,lr)).exists(t=>LT(fl(t,"white-space"))),A4=(e,t)=>tc(e.dom,t).isNone(),FT=(e,t)=>_l(e.dom,t).isNone(),zT=(e,t,o)=>A4(e,t)||FT(e,t)||w4(e,t,o)||NT(e,t,o)||Dv(e,t,o)||Rw(e,t,o),HT=e=>ze(e)&&Wn(e)&&Ak(e),T4=(e,t)=>o=>HT(new Qs(o,e)[t]()),VT=(e,t)=>{const o=_l(e.dom,t).getOr(t),s=T4(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(o.container()))},$T=(e,t)=>{const o=tc(e.dom,t).getOr(t),s=T4(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(o.container()))},D4=(e,t,o)=>Nw(t)?!1:zT(e,t,o)||S4(e,t,o)||E4(e,t,o),m1=(e,t,o)=>Nw(t)?!1:w4(e,t,o)||MT(e,t,o)||Dv(e,t,o)||S4(e,t,o)||$T(e,t),Mw=e=>{const t=e.container(),o=e.offset();return ut(t)&&o<t.data.length?We(t,o+1):e},rb=(e,t,o)=>Nw(t)?!1:NT(e,t,o)||BT(e,t,o)||Rw(e,t,o)||E4(e,t,o)||VT(e,t),Bw=(e,t,o)=>m1(e,t,o)||rb(e,Mw(t),o),Ov=(e,t)=>kp(e.charAt(t)),Pw=(e,t)=>Sp(e.charAt(t)),Rv=e=>{const t=e.container();return ut(t)&&$o(t.data,Ls)},O4=e=>{const t=e.split("");return Ro(t,(o,s)=>kp(o)&&s>0&&s<t.length-1&&rw(t[s-1])&&rw(t[s+1])?" ":o).join("")},R4=(e,t,o,s)=>{const a=t.data,c=We(t,0);return!o&&Ov(a,0)&&!Bw(e,c,s)?(t.data=" "+a.slice(1),!0):o&&Pw(a,0)&&m1(e,c,s)?(t.data=Ls+a.slice(1),!0):!1},ab=e=>{const t=e.data,o=O4(t);return o!==t?(e.data=o,!0):!1},Iw=(e,t,o,s)=>{const a=t.data,c=We(t,a.length-1);return!o&&Ov(a,a.length-1)&&!Bw(e,c,s)?(t.data=a.slice(0,-1)+" ",!0):o&&Pw(a,a.length-1)&&rb(e,c,s)?(t.data=a.slice(0,-1)+Ls,!0):!1},N4=(e,t,o)=>{const s=t.container();if(!ut(s))return I.none();if(Rv(t)){const a=R4(e,s,!1,o)||ab(s)||Iw(e,s,!1,o);return Hd(a,t)}else if(Bw(e,t,o)){const a=R4(e,s,!0,o)||Iw(e,s,!0,o);return Hd(a,t)}else return I.none()},ib=e=>{const t=te.fromDom(e.getBody());e.selection.isCollapsed()&&N4(t,We.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},_f=(e,t,o,s)=>{if(o===0)return;const a=te.fromDom(e),c=ti(a,w=>s.isBlock(Fo(w))).getOr(a),d=e.data.slice(t,t+o),f=t+o>=e.data.length&&rb(c,We(e,e.data.length),s),b=t===0&&m1(c,We(e,0),s);e.replaceData(t,o,ay(d,4,b,f))},Nv=(e,t,o)=>{const s=e.data.slice(t),a=s.length-Zf(s).length;_f(e,t,a,o)},M4=(e,t,o)=>{const s=e.data.slice(0,t),a=s.length-gm(s).length;_f(e,t-a,a,o)},B4=(e,t,o,s,a=!0)=>{const c=gm(e.data).length,d=a?e:t,f=a?t:e;return a?d.appendData(f.data):d.insertData(0,f.data),ls(te.fromDom(f)),s&&Nv(d,c,o),d},UT=(e,t)=>{const o=e.container(),s=e.offset();return!We.isTextPosition(e)&&o===t.parentNode&&s>We.before(t).offset()},ZT=(e,t)=>UT(t,e)?We(t.container(),t.offset()-1):t,jT=e=>ut(e)?We(e,0):We.before(e),Rp=e=>ut(e)?We(e,e.data.length):We.after(e),Np=e=>zo(e.previousSibling)?I.some(Rp(e.previousSibling)):e.previousSibling?Cl(e.previousSibling):I.none(),P4=e=>zo(e.nextSibling)?I.some(jT(e.nextSibling)):e.nextSibling?cn(e.nextSibling):I.none(),WT=(e,t)=>I.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>tc(e,We.before(o))).orThunk(()=>_l(e,We.after(t))),iM=(e,t)=>_l(e,We.after(t)).orThunk(()=>tc(e,We.before(t))),lM=(e,t)=>Np(t).orThunk(()=>P4(t)).orThunk(()=>WT(e,t)),cM=(e,t)=>P4(t).orThunk(()=>Np(t)).orThunk(()=>iM(e,t)),sc=(e,t,o)=>e?cM(t,o):lM(t,o),mu=(e,t,o)=>sc(e,t,o).map(He(ZT,o)),I4=(e,t,o)=>{o.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},L4=e=>t=>t.dom===e,F4=(e,t)=>t&&xo(e.schema.getBlockElements(),Fo(t)),Lw=(e,t,o)=>{if(Aa(e,t)){const s=te.fromHtml('<br data-mce-bogus="1">');return o?Ze(en(t),a=>{fw(a)||ls(a)}):Pu(t),ln(t,s),I.some(We.before(s.dom))}else return I.none()},dM=(e,t,o,s)=>{const a=Fl(e).filter(Xa),c=rd(e).filter(Xa);return ls(e),kg(a,c,t,(d,f,b)=>{const w=d.dom,T=f.dom,R=w.data.length;return B4(w,T,o,s),b.container()===T?We(w,R):b}).orThunk(()=>(s&&(a.each(d=>M4(d.dom,d.dom.length,o)),c.each(d=>Nv(d.dom,0,o))),t))},qT=(e,t)=>xo(e.schema.getTextInlineElements(),Fo(t)),gu=(e,t,o,s=!0,a=!1)=>{const c=mu(t,e.getBody(),o.dom),d=ti(o,He(F4,e),L4(e.getBody())),f=dM(o,c,e.schema,qT(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):d.bind(b=>Lw(e.schema,b,a)).fold(()=>{s&&I4(e,t,f)},b=>{s&&I4(e,t,I.some(b))})},uM=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Fw=e=>uM.test(e),Cf=(e,t)=>Bn(te.fromDom(t),ri(e))&&!Uu(e.schema,t)&&e.dom.isEditable(t),z4=e=>{var t;return On.DOM.getStyle(e,"direction",!0)==="rtl"||Fw((t=e.textContent)!==null&&t!==void 0?t:"")},Mv=(e,t,o)=>mt(On.DOM.getParents(o.container(),"*",t),e),Mp=(e,t,o)=>{const s=Mv(e,t,o);return I.from(s[s.length-1])},mM=(e,t,o)=>{const s=wp(t,e),a=wp(o,e);return ze(s)&&s===a},em=e=>gp(e)||fp(e),yr=(e,t)=>{const o=t.container(),s=t.offset();return e?qm(o)?ut(o.nextSibling)?We(o.nextSibling,0):We.after(o):gp(t)?We(o,s+1):t:qm(o)?ut(o.previousSibling)?We(o.previousSibling,o.previousSibling.data.length):We.before(o):fp(t)?We(o,s-1):t},lb=He(yr,!0),H4=He(yr,!1),kl=(e,t)=>{const o=s=>s.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},ms=e=>{e.execCommand("delete")},zw=e=>kl(e,"Delete"),cg=e=>kl(e,"ForwardDelete"),Bv=e=>t=>mr(Gi(t),e,Jo),GT=e=>Zh(e)||cu(e),cb=(e,t)=>Rr(e,t)?Ii(t,GT,Bv(e)):I.none(),Pv=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},KT=(e,t,o)=>ks(cn(o),Cl(o),(s,a)=>{const c=yr(!0,s),d=yr(!1,a),f=yr(!1,t);return e?_l(o,f).exists(b=>b.isEqual(d)&&t.isEqual(c)):tc(o,f).exists(b=>b.isEqual(c)&&t.isEqual(d))}).getOr(!0),Hw=e=>(ox(e)?Fl(e):Xr(e)).bind(Hw).orThunk(()=>I.some(e)),YT=(e,t,o,s=!0)=>{var a;t.deleteContents();const c=Hw(o).getOr(o),d=te.fromDom((a=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&a!==void 0?a:o.dom);if(d.dom===e.getBody()?Pv(e,s):Aa(e.schema,d,{checkRootAsContent:!1})&&(Rc(d),s&&e.selection.setCursorLocation(d.dom,0)),!Jo(o,d)){const f=mr(Gi(d),o)?[]:Gf(d);Ze(f.concat(en(o)),b=>{!Jo(b,d)&&!Rr(b,d)&&Aa(e.schema,b)&&ls(b)})}},XT=e=>t=>Jo(e,t),Vw=e=>Wr(e,"td,th"),$w=(e,t)=>mv(te.fromDom(e),t),QT=e=>ks(e.startTable,e.endTable,(t,o)=>{const s=ni(t,c=>Jo(c,o)),a=ni(o,c=>Jo(c,t));return!s&&!a?e:{...e,startTable:s?I.none():e.startTable,endTable:a?I.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),Uw=e=>QT(e),gM=(e,t)=>{const o=$w(e.startContainer,t),s=$w(e.endContainer,t),a=o.isSome(),c=s.isSome(),d=ks(o,s,Jo).getOr(!1);return Uw({startTable:o,endTable:s,isStartInTable:a,isEndInTable:c,isSameTable:d,isMultiTable:!d&&a&&c})},V4=(e,t)=>({start:e,end:t}),fM=(e,t,o)=>({rng:e,table:t,cells:o}),Iv=il.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Zw=(e,t)=>dd(te.fromDom(e),"td,th",t),$4=e=>!Jo(e.start,e.end),JT=(e,t)=>mv(e.start,t).bind(o=>mv(e.end,t).bind(s=>Hd(Jo(o,s),o))),pM=(e,t)=>!$4(e)&&JT(e,t).exists(o=>{const s=o.dom.rows;return s.length===1&&s[0].cells.length===1}),e6=(e,t)=>{const o=Zw(e.startContainer,t),s=Zw(e.endContainer,t);return ks(o,s,V4)},hM=e=>t=>mv(t,e).bind(o=>zs(Vw(o)).map(s=>V4(t,s))),t6=e=>t=>mv(t,e).bind(o=>Zn(Vw(o)).map(s=>V4(s,t))),U4=e=>t=>JT(t,e).map(o=>fM(t,o,Vw(o))),o6=(e,t,o,s)=>{if(o.collapsed||!e.forall($4))return I.none();if(t.isSameTable){const a=e.bind(U4(s));return I.some({start:a,end:a})}else{const a=Zw(o.startContainer,s),c=Zw(o.endContainer,s),d=a.bind(hM(s)).bind(U4(s)),f=c.bind(t6(s)).bind(U4(s));return I.some({start:d,end:f})}},Z4=(e,t)=>Rs(e,o=>Jo(o,t)),Wa=e=>ks(Z4(e.cells,e.rng.start),Z4(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),bM=(e,t,o)=>e.exists(s=>pM(s,o)&&pf(s.start,t)),j4=(e,t)=>{const{startTable:o,endTable:s}=t,a=e.cloneRange();return o.each(c=>a.setStartAfter(c.dom)),s.each(c=>a.setEndBefore(c.dom)),a},W4=(e,t,o,s)=>o6(e,t,o,s).bind(({start:a,end:c})=>a.or(c)).bind(a=>{const{isSameTable:c}=t,d=Wa(a).getOr([]);if(c&&a.cells.length===d.length)return I.some(Iv.fullTable(a.table));if(d.length>0){if(c)return I.some(Iv.partialTable(d,I.none()));{const f=j4(o,t);return I.some(Iv.partialTable(d,I.some({...t,rng:f})))}}else return I.none()}),q4=(e,t,o,s)=>o6(e,t,o,s).bind(({start:a,end:c})=>{const d=a.bind(Wa).getOr([]),f=c.bind(Wa).getOr([]);if(d.length>0&&f.length>0){const b=j4(o,t);return I.some(Iv.multiTable(d,f,b))}else return I.none()}),n6=(e,t)=>{const o=XT(e),s=e6(t,o),a=gM(t,o);return bM(s,t,o)?s.map(c=>Iv.singleCellTable(t,c.start)):a.isMultiTable?q4(s,a,t,o):W4(s,a,t,o)},G4=e=>Ze(e,t=>{Nr(t,"contenteditable"),Rc(t)}),s6=(e,t)=>I.from(e.dom.getParent(t,e.dom.isBlock)).map(te.fromDom),r6=(e,t,o)=>{o.each(s=>{t?ls(s):(Rc(s),e.selection.setCursorLocation(s.dom,0))})},Sl=(e,t,o,s)=>{const a=o.cloneRange();s?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),Lv(e,a,t,!1).each(c=>c())},a6=e=>{const t=G0(e),o=te.fromDom(e.selection.getNode());Wg(o.dom)&&Aa(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Mn(t,s=>Jo(s,o))&&jr(o,"data-mce-selected","1")},jw=(e,t,o)=>I.some(()=>{const s=e.selection.getRng(),a=o.bind(({rng:c,isStartInTable:d})=>{const f=s6(e,d?c.endContainer:c.startContainer);c.deleteContents(),r6(e,d,f.filter(He(Aa,e.schema)));const b=d?t[0]:t[t.length-1];return Sl(e,b,s,d),Aa(e.schema,b)?I.none():I.some(d?t.slice(1):t.slice(0,-1))}).getOr(t);G4(a),a6(e)}),xM=(e,t,o,s)=>I.some(()=>{const a=e.selection.getRng(),c=t[0],d=o[o.length-1];Sl(e,c,a,!0),Sl(e,d,a,!1);const f=Aa(e.schema,c)?t:t.slice(1),b=Aa(e.schema,d)?o:o.slice(0,-1);G4(f.concat(b)),s.deleteContents(),a6(e)}),Lv=(e,t,o,s=!0)=>I.some(()=>{YT(e,t,o,s)}),fu=(e,t)=>I.some(()=>gu(e,!1,t)),K4=(e,t,o)=>n6(t,o).bind(s=>s.fold(He(Lv,e),He(fu,e),He(jw,e),He(xM,e))),Ww=(e,t)=>Fv(e,t),i6=(e,t,o,s)=>Gw(t,s).fold(()=>K4(e,t,o),a=>Ww(e,a)),vM=(e,t,o)=>{const s=te.fromDom(e.getBody()),a=e.selection.getRng();return o.length!==0?jw(e,o,I.none()):i6(e,s,a,t)},qw=(e,t)=>yn(lg(t,e),Wm),Gw=(e,t)=>yn(lg(t,e),Yr("caption")),Y4=(e,t,o,s,a)=>W0(o,e.getBody(),a).bind(c=>qw(t,te.fromDom(c.getNode())).bind(d=>Jo(d,s)?I.none():I.some(Do))),Fv=(e,t)=>I.some(()=>{Rc(t),e.selection.setCursorLocation(t.dom,0)}),g1=(e,t,o,s)=>cn(e.dom).bind(a=>Cl(e.dom).map(c=>t?o.isEqual(a)&&s.isEqual(c):o.isEqual(c)&&s.isEqual(a))).getOr(!0),l6=(e,t)=>Fv(e,t),c6=(e,t,o)=>Gw(e,te.fromDom(o.getNode())).fold(()=>I.some(Do),s=>Hd(!Jo(s,t),Do)),d6=(e,t,o,s,a)=>W0(o,e.getBody(),a).fold(()=>I.some(Do),c=>g1(s,o,a,c)?l6(e,s):c6(t,s,c)),yM=(e,t,o,s)=>{const a=We.fromRangeStart(e.selection.getRng());return qw(o,s).bind(c=>Aa(e.schema,c,{checkRootAsContent:!1})?Fv(e,c):Y4(e,o,t,c,a))},X4=(e,t,o,s)=>{const a=We.fromRangeStart(e.selection.getRng());return Aa(e.schema,s)?Fv(e,s):d6(e,o,t,s,a)},kf=(e,t)=>e?Tw(t):Tv(t),wM=(e,t)=>{const o=We.fromRangeStart(e.selection.getRng());return kf(t,o)||Bc(t,e.getBody(),o).exists(s=>kf(t,s))},_M=(e,t,o)=>{const s=te.fromDom(e.getBody());return Gw(s,o).fold(()=>yM(e,t,s,o).orThunk(()=>Hd(wM(e,t),Do)),a=>X4(e,t,s,a))},f1=(e,t)=>{const o=te.fromDom(e.selection.getStart(!0)),s=G0(e);return e.selection.isCollapsed()&&s.length===0?_M(e,t,o):vM(e,o,s)},Bp=(e,t)=>{let o=t;for(;o&&o!==e;){if(hi(o)||Wn(o))return o;o=o.parentNode}return null},u6=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],m6=at.each,db=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),s=(c,d)=>{if(c.nodeName!==d.nodeName||c.nodeType!==d.nodeType)return!1;const f=w=>{const T={};return m6(t.getAttribs(w),R=>{const N=R.nodeName.toLowerCase();N!=="style"&&!a(N)&&(T[N]=t.getAttrib(w,N))}),T},b=(w,T)=>{for(const R in w)if(xo(w,R)){const N=T[R];if(Os(N)||w[R]!==N)return!1;delete T[R]}for(const R in T)if(xo(T,R))return!1;return!0};return jt(c)&&jt(d)&&(!b(f(c),f(d))||!b(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(d,"style"))))?!1:!Ed(c)&&!Ed(d)},a=c=>Mn(u6,d=>Is(c,d))||o.has(c);return{compare:s,isAttributeInternal:a}},Q4=(e,t)=>{if(ut(e))return{container:e,offset:t};const o=ag.getNode(e,t);return ut(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&ut(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&ut(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},g6=e=>{const t=e.cloneRange(),o=Q4(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const s=Q4(e.endContainer,e.endOffset);return t.setEnd(s.container,s.offset),t},zv=On.DOM,Kw=()=>zv.create("span",{"data-mce-type":"bookmark"}),J4=(e,t,o)=>{if(jt(e)){const s=o();return e.hasChildNodes()?t===e.childNodes.length?e.appendChild(s):e.insertBefore(s,e.childNodes[t]):e.appendChild(s),{container:s,offset:0}}else return{container:e,offset:t}},e3=(e,t)=>{const o=s=>{var a;let c=(a=s.parentNode)===null||a===void 0?void 0:a.firstChild,d=0;for(;c;){if(c===s)return d;(!jt(c)||c.getAttribute("data-mce-type")!=="bookmark")&&d++,c=c.nextSibling}return-1};if(jt(e)&&ze(e.parentNode)){const s=e;t=o(e),e=e.parentNode,zv.remove(s),!e.hasChildNodes()&&zv.isBlock(e)&&e.appendChild(zv.create("br"))}return{container:e,offset:t}},Hv=(e,t,o,s)=>{const a=zv.createRng();return a.setStart(e,t),a.setEnd(o,s),g6(a)},dg=(e,t=Kw)=>{const{container:o,offset:s}=J4(e.startContainer,e.startOffset,t);if(e.collapsed)return{startContainer:o,startOffset:s};{const{container:a,offset:c}=J4(e.endContainer,e.endOffset,t);return{startContainer:o,startOffset:s,endContainer:a,endOffset:c}}},tm=e=>{const{container:t,offset:o}=e3(e.startContainer,e.startOffset);if(!Os(e.endContainer)&&!Os(e.endOffset)){const{container:s,offset:a}=e3(e.endContainer,e.endOffset);return Hv(t,o,s,a)}else return Hv(t,o,t,o)},t3=(e,t,o,s)=>{if(at.each(o.styles,(a,c)=>{e.setStyle(t,c,bf(a,s))}),o.styles){const a=e.getAttrib(t,"style");a&&e.setAttrib(t,"data-mce-style",a)}},ug=(e,t,o,s,a)=>{const c=e.dom;no(o.onformat)&&o.onformat(t,o,s,a),t3(c,t,o,s),at.each(o.attributes,(d,f)=>{c.setAttrib(t,f,bf(d,s))}),at.each(o.classes,d=>{const f=bf(d,s);c.hasClass(t,f)||c.addClass(t,f)})},om=e=>!ue(e.attributes)&&!ue(e.styles),o3=Vk,Yw=(e,t,o)=>{const s=e.formatter.get(o);if(s)for(let a=0;a<s.length;a++){const c=s[a];if(oc(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},qs=(e,t,o,s,a)=>{const c=e.dom.getRoot();if(t===c)return!1;const d=e.dom.getParent(t,f=>Yw(e,f,o)?!0:f.parentNode===c||!!qa(e,f,o,s,!0));return!!qa(e,d,o,s,a)},ub=(e,t,o)=>ba(o)&&o3(t,o.inline)||og(o)&&o3(t,o.block)?!0:oc(o)?jt(t)&&e.is(t,o.selector):!1,Vv=(e,t,o,s,a,c)=>{const d=o[s],f=s==="attributes";if(no(o.onmatch))return o.onmatch(t,o,s);if(d){if(ma(d)){for(let b=0;b<d.length;b++)if(f?e.getAttrib(t,d[b]):pv(e,t,d[b]))return!0}else for(const b in d)if(xo(d,b)){const w=f?e.getAttrib(t,b):pv(e,t,b),T=bf(d[b],c),R=Yo(w)||Yc(w);if(R&&Yo(T))continue;if(a&&R&&!o.exact||(!a||o.exact)&&!o3(w,$k(T,b)))return!1}}return!0},qa=(e,t,o,s,a)=>{const c=e.formatter.get(o),d=e.dom;if(c&&jt(t))for(let f=0;f<c.length;f++){const b=c[f];if(ub(e.dom,t,b)&&Vv(d,t,b,"attributes",a,s)&&Vv(d,t,b,"styles",a,s)){const w=b.classes;if(w){for(let T=0;T<w.length;T++)if(!e.dom.hasClass(t,bf(w[T],s)))return}return b}}},Xw=(e,t,o,s,a)=>{if(s)return qs(e,s,t,o,a);if(s=e.selection.getNode(),qs(e,s,t,o,a))return!0;const c=e.selection.getStart();return!!(c!==s&&qs(e,c,t,o,a))},n3=(e,t,o)=>{const s=[],a={},c=e.selection.getStart();return e.dom.getParent(c,d=>{for(let f=0;f<t.length;f++){const b=t[f];!a[b]&&qa(e,d,b,o)&&(a[b]=!0,s.push(b))}},e.dom.getRoot()),s},CM=(e,t)=>{const o=a=>Jo(a,te.fromDom(e.getBody())),s=(a,c)=>qa(e,a.dom,c)?I.some(c):I.none();return I.from(e.selection.getStart(!0)).bind(a=>ud(te.fromDom(a),c=>Ai(t,d=>s(c,d)),o)).getOrNull()},mb=(e,t)=>{const o=e.formatter.get(t),s=e.dom;if(o&&e.selection.isEditable()){const a=e.selection.getStart(),c=mw(s,a);for(let d=o.length-1;d>=0;d--){const f=o[d];if(!oc(f))return!0;for(let b=c.length-1;b>=0;b--)if(s.is(c[b],f.selector))return!0}}return!1},kM=(e,t,o)=>Lo(o,(s,a)=>{const c=A5(e,a);return e.formatter.matchNode(t,a,{},c)?s.concat([a]):s},[]),$v=zr,gb=(e,t)=>e.importNode(t,!0),f6=e=>{if(e){const t=new Qs(e,e);for(let o=t.current();o;o=t.next())if(ut(o))return o}return null},Sf=e=>{const t=te.fromTag("span");return Ki(t,{id:nw,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ln(t,te.fromText($v)),t},SM=e=>{const t=f6(e);return t&&t.data.charAt(0)===$v&&t.deleteData(0,1),t},mg=(e,t,o)=>{const s=e.dom,a=e.selection;if(Wk(t))gu(e,!1,te.fromDom(t),o,!0);else{const c=a.getRng(),d=s.getParent(t,s.isBlock),f=c.startContainer,b=c.startOffset,w=c.endContainer,T=c.endOffset,R=SM(t);s.remove(t,!0),f===R&&b>0&&c.setStart(R,b-1),w===R&&T>0&&c.setEnd(R,T-1),d&&s.isEmpty(d)&&Rc(te.fromDom(d)),a.setRng(c)}},s3=(e,t,o)=>{const s=e.dom,a=e.selection;if(t)mg(e,t,o);else if(t=Xh(e.getBody(),a.getStart()),!t)for(;t=s.get(nw);)mg(e,t,o)},Rd=(e,t,o)=>{var s,a;const c=e.dom,d=c.getParent(o,He(Fk,e.schema));d&&c.isEmpty(d)?(s=o.parentNode)===null||s===void 0||s.replaceChild(t,o):(Ey(te.fromDom(o)),c.isEmpty(o)?(a=o.parentNode)===null||a===void 0||a.replaceChild(t,o):c.insertAfter(t,o))},Pp=(e,t)=>(e.appendChild(t),t),p6=(e,t)=>{var o;const s=dn(e,(c,d)=>Pp(c,d.cloneNode(!1)),t),a=(o=s.ownerDocument)!==null&&o!==void 0?o:document;return Pp(s,a.createTextNode($v))},Uv=(e,t,o,s,a,c)=>{const d=e.formatter,f=e.dom,b=mt(ua(d.get()),R=>R!==s&&!$o(R,"removeformat")),w=kM(e,o,b);if(mt(w,R=>!ON(e,R,s)).length>0){const R=o.cloneNode(!1);return f.add(t,R),d.remove(s,a,R,c),f.remove(R),I.some(R)}else return I.none()},Qw=e=>Pi(e,cd(e).replace(new RegExp(`${Ls}$`)," ")),h6=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&Fl(te.fromDom(t)).each(s=>{Xa(s)?Qw(s):Li(s,a=>Xa(a)).each(a=>{Xa(a)&&Qw(a)})})};e.once("input",s=>{s.data&&!Sp(s.data)&&(s.isComposing?e.once("compositionend",()=>{o()}):o())})},fb=(e,t,o)=>{let s;const a=e.selection,c=e.formatter.get(t);if(!c)return;const d=a.getRng();let f=d.startOffset;const w=d.startContainer.nodeValue;s=Xh(e.getBody(),a.getStart());const T=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(w&&f>0&&f<w.length&&T.test(w.charAt(f))&&T.test(w.charAt(f-1))){const R=a.getBookmark();d.collapse(!0);let N=ng(e.dom,d,c);N=ob(N),e.formatter.apply(t,o,N),a.moveToBookmark(R)}else{let R=s?f6(s):null;(!s||R?.data!==$v)&&(s=gb(e.getDoc(),Sf(!0).dom),R=s.firstChild,d.insertNode(s),f=1,h6(e,s)),e.formatter.apply(t,o,s),a.setCursorLocation(R,f)}},EM=(e,t,o,s)=>{const a=e.dom,c=e.selection;let d=!1;const f=e.formatter.get(t);if(!f)return;const b=c.getRng(),w=b.startContainer,T=b.startOffset;let R=w;ut(w)&&(T!==w.data.length&&(d=!0),R=R.parentNode);const N=[];let F;for(;R;){if(qa(e,R,t,o,s)){F=R;break}R.nextSibling&&(d=!0),N.push(R),R=R.parentNode}if(F)if(d){const ee=c.getBookmark();b.collapse(!0);let X=ng(a,b,f,{includeTrailingSpace:!0});X=ob(X),e.formatter.remove(t,o,X,s),c.moveToBookmark(ee)}else{const ee=Xh(e.getBody(),F),X=ze(ee)?a.getParents(F.parentNode,Vo,ee):[],G=Sf(!1).dom;Rd(e,G,ee??F);const xe=Uv(e,G,F,t,o,s),be=p6([...N,...xe.toArray(),...X],G);ee&&mg(e,ee,ze(ee)),c.setCursorLocation(be,1),h6(e,G),a.isEmpty(F)&&a.remove(F)}},pu=(e,t,o)=>{const s=e.selection,a=e.getBody();s3(e,null,o),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===$v&&s3(e,Xh(a,s.getStart()),!0),(t===37||t===39)&&s3(e,Xh(a,s.getStart()),!0)},Jw=e=>ut(e)&&Tg(e.data,Ls),b6=e=>{e.on("mouseup keydown",t=>{pu(e,t.keyCode,Jw(e.selection.getRng().endContainer))})},e_=e=>{const t=Sf(!1),o=p6(e,t.dom);return{caretContainer:t,caretPosition:We(o,0)}},t_=(e,t)=>{const{caretContainer:o,caretPosition:s}=e_(t);return ea(te.fromDom(e),o),ls(te.fromDom(e)),s},p1=(e,t)=>{const{caretContainer:o,caretPosition:s}=e_(t);return e.insertNode(o.dom),s},o_=(e,t)=>{if(Pc(t.dom))return!1;const o=e.schema.getTextInlineElements();return xo(o,Fo(t))&&!Pc(t.dom)&&!Pm(t.dom)},x6=["fontWeight","fontStyle","color","fontSize","fontFamily"],AM=e=>oe(e.styles)&&Mn(ua(e.styles),t=>Ho(x6,t)),TM=e=>yn(e,t=>ba(t)&&t.inline==="span"&&AM(t)),v6=(e,t)=>{const o=e.get(t);return ue(o)?TM(o):I.none()},h1=(e,t)=>tc(t,We.fromRangeStart(e)).isNone(),hu=(e,t)=>_l(t,We.fromRangeEnd(e)).exists(o=>!Ns(o.getNode())||_l(t,o).isSome())===!1,y6=e=>t=>zC(t)&&e.isEditable(t),DM=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return h1(o,t[0])&&hu(o,t[0])?t:[];{const s=Zn(t).filter(d=>h1(o,d)).toArray(),a=zs(t).filter(d=>hu(o,d)).toArray(),c=t.slice(1,-1);return s.concat(c).concat(a)}},OM=e=>mt(DM(e),y6(e.dom)),w6=e=>mt(e.getSelectedBlocks(),y6(e.dom)),r3=at.each,a3=e=>jt(e)&&!Ed(e)&&!Pc(e)&&!Pm(e),_6=(e,t)=>{for(let o=e;o;o=o[t]){if(ut(o)&&Zr(o.data))return e;if(jt(o)&&!Ed(o))return o}return e},C6=(e,t,o)=>{const s=db(e),a=Mo(t)&&e.dom.isEditable(t),c=Mo(o)&&e.dom.isEditable(o);if(a&&c){const d=_6(t,"previousSibling"),f=_6(o,"nextSibling");if(s.compare(d,f)){for(let b=d.nextSibling;b&&b!==f;){const w=b;b=b.nextSibling,d.appendChild(w)}return e.dom.remove(f),at.each(at.grep(f.childNodes),b=>{d.appendChild(b)}),d}}return o},k6=(e,t,o,s)=>{var a;if(s&&t.merge_siblings!==!1){const c=(a=C6(e,S5(s),s))!==null&&a!==void 0?a:s;C6(e,c,S5(c,!0))}},RM=(e,t,o)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";r3(e.select(s,o),a=>{a3(a)&&e.isEditable(a)&&r3(t.styles,(c,d)=>{e.setStyle(a,d,"")})})}},i3=(e,t,o)=>{r3(e.childNodes,s=>{a3(s)&&(t(s)&&o(s),s.hasChildNodes()&&i3(s,t,o))})},NM=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},S6=(e,t)=>o=>!!(o&&pv(e,o,t)),E6=(e,t,o)=>s=>{e.setStyle(s,t,o),s.getAttribute("style")===""&&s.removeAttribute("style"),NM(e,s)},b1=il.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Ip=/^(src|href|style)$/,l3=at.each,n_=Vk,c3=e=>/^(TR|TH|TD)$/.test(e.nodeName),d3=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),s_=(e,t,o)=>{let s=t[o?"startContainer":"endContainer"],a=t[o?"startOffset":"endOffset"];if(jt(s)){const c=s.childNodes.length-1;!o&&a&&a--,s=s.childNodes[a>c?c:a]}return ut(s)&&o&&a>=s.data.length&&(s=new Qs(s,e.getBody()).next()||s),ut(s)&&!o&&a===0&&(s=new Qs(s,e.getBody()).prev()||s),s},A6=(e,t)=>{const o=t?"firstChild":"lastChild",s=e[o];return c3(e)&&s?e.nodeName==="TR"&&s[o]||s:e},u3=(e,t,o,s)=>{var a;const c=e.create(o,s);return(a=t.parentNode)===null||a===void 0||a.insertBefore(c,t),c.appendChild(t),c},T6=(e,t,o,s,a)=>{const c=te.fromDom(t),d=te.fromDom(e.create(s,a)),f=o?K1(c):vs(c);return Zs(d,f),o?(ea(c,d),bc(d,c)):(Hl(c,d),ln(d,c)),d.dom},MM=(e,t)=>t.links&&e.nodeName==="A",D6=(e,t,o)=>{const s=t.parentNode;let a;const c=e.dom,d=Ua(e);og(o)&&s===c.getRoot()&&(!o.list_block||!n_(t,o.list_block))&&Ze(Tt(t.childNodes),f=>{Y0(e,d,f.nodeName.toLowerCase())?a?a.appendChild(f):(a=u3(c,f,d),c.setAttribs(a,L0(e))):a=null}),!(gw(o)&&!n_(o.inline,t))&&c.remove(t,!0)},O6=(e,t,o)=>E(e)?{name:t,value:null}:{name:e,value:bf(t,o)},R6=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},N6=(e,t,o,s,a)=>{let c=!1;l3(o.styles,(d,f)=>{const{name:b,value:w}=O6(f,d,s),T=$k(w,b);(o.remove_similar||rn(w)||!jt(a)||n_(pv(e,a,b),T))&&e.setStyle(t,b,""),c=!0}),c&&R6(e,t)},BM=(e,t,o)=>{t==="removeformat"?Ze(w6(e.selection),s=>{Ze(x6,a=>e.dom.setStyle(s,a,"")),R6(e.dom,s)}):v6(e.formatter,t).each(s=>{Ze(w6(e.selection),a=>N6(e.dom,a,s,o,null))})},m3=(e,t,o,s,a)=>{const c=e.dom,d=db(e),f=e.schema;if(ba(t)&&ou(f,t.inline)&&Uu(f,s)&&s.parentElement===e.getBody())return D6(e,s,t),b1.removed();if(!t.ceFalseOverride&&s&&c.getContentEditableParent(s)==="false"||s&&!ub(c,s,t)&&!MM(s,t))return b1.keep();const b=s,w=t.preserve_attributes;if(ba(t)&&t.remove==="all"&&ue(w)){const T=mt(c.getAttribs(b),R=>Ho(w,R.name.toLowerCase()));if(c.removeAllAttribs(b),Ze(T,R=>c.setAttrib(b,R.name,R.value)),T.length>0)return b1.rename("span")}if(t.remove!=="all"){N6(c,b,t,o,a),l3(t.attributes,(R,N)=>{const{name:F,value:ee}=O6(N,R,o);if(t.remove_similar||rn(ee)||!jt(a)||n_(c.getAttrib(a,F),ee)){if(F==="class"){const X=c.getAttrib(b,F);if(X){let G="";if(Ze(X.split(/\s+/),xe=>{/mce\-\w+/.test(xe)&&(G+=(G?" ":"")+xe)}),G){c.setAttrib(b,F,G);return}}}if(Ip.test(F)&&b.removeAttribute("data-mce-"+F),F==="style"&&hl(["li"])(b)&&c.getStyle(b,"list-style-type")==="none"){b.removeAttribute(F),c.setStyle(b,"list-style-type","none");return}F==="class"&&b.removeAttribute("className"),b.removeAttribute(F)}}),l3(t.classes,R=>{R=bf(R,o),(!jt(a)||c.hasClass(a,R))&&c.removeClass(b,R)});const T=c.getAttribs(b);for(let R=0;R<T.length;R++){const N=T[R].nodeName;if(!d.isAttributeInternal(N))return b1.keep()}}return t.remove!=="none"?(D6(e,b,t),b1.removed()):b1.keep()},PM=(e,t,o,s,a)=>{let c;return t.parentNode&&Ze(mw(e.dom,t.parentNode).reverse(),d=>{if(!c&&jt(d)&&d.id!=="_start"&&d.id!=="_end"){const f=qa(e,d,o,s,a);f&&f.split!==!1&&(c=d)}}),c},IM=(e,t,o,s)=>m3(e,t,o,s,s).fold(dt(s),a=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,a)),dt(null)),LM=(e,t,o,s,a,c,d,f)=>{var b,w;let T,R;const N=e.dom;if(o){const F=o.parentNode;for(let ee=s.parentNode;ee&&ee!==F;ee=ee.parentNode){let X=N.clone(ee,!1);for(let G=0;G<t.length&&(X=IM(e,t[G],f,X),X!==null);G++);X&&(T&&X.appendChild(T),R||(R=X),T=X)}(!d.mixed||!N.isBlock(o))&&(s=(b=N.split(o,s))!==null&&b!==void 0?b:s),T&&R&&((w=a.parentNode)===null||w===void 0||w.insertBefore(T,a),R.appendChild(a),ba(d)&&k6(e,d,f,T))}return s},FM=(e,t,o,s,a)=>{const c=e.formatter.get(t),d=c[0],f=e.dom,b=e.selection,w=X=>{const G=PM(e,X,t,o,a);return LM(e,c,G,X,X,!0,d,o)},T=X=>Ed(X)&&jt(X)&&(X.id==="_start"||X.id==="_end"),R=X=>Mn(c,G=>Zv(e,G,o,X,X)),N=X=>{const G=Tt(X.childNodes),be=R(X)||Mn(c,st=>ub(f,X,st)),Se=X.parentNode;if(!be&&ze(Se)&&jk(d)&&R(Se),d.deep&&G.length)for(let st=0;st<G.length;st++)N(G[st]);Ze(["underline","line-through","overline"],st=>{jt(X)&&e.dom.getStyle(X,"text-decoration")===st&&X.parentNode&&Uk(f,X.parentNode)===st&&Zv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:st}},void 0,X)})},F=X=>{const G=f.get(X?"_start":"_end");if(G){let xe=G[X?"firstChild":"lastChild"];return T(xe)&&(xe=xe[X?"firstChild":"lastChild"]),ut(xe)&&xe.data.length===0&&(xe=X?G.previousSibling||G.nextSibling:G.nextSibling||G.previousSibling),f.remove(G,!0),xe}else return null},ee=X=>{let G,xe,be=ng(f,X,c,{includeTrailingSpace:X.collapsed});if(d.split){if(be=ob(be),G=s_(e,be,!0),xe=s_(e,be),G!==xe){if(G=A6(G,!0),xe=A6(xe,!1),d3(f,G,xe)){const Ie=I.from(G.firstChild).getOr(G);w(T6(f,Ie,!0,"span",{id:"_start","data-mce-type":"bookmark"})),F(!0);return}if(d3(f,xe,G)){const Ie=I.from(xe.lastChild).getOr(xe);w(T6(f,Ie,!1,"span",{id:"_end","data-mce-type":"bookmark"})),F(!1);return}G=u3(f,G,"span",{id:"_start","data-mce-type":"bookmark"}),xe=u3(f,xe,"span",{id:"_end","data-mce-type":"bookmark"});const Se=f.createRng();Se.setStartAfter(G),Se.setEndBefore(xe),t1(f,Se,Ie=>{Ze(Ie,st=>{!Ed(st)&&!Ed(st.parentNode)&&w(st)})}),w(G),w(xe),G=F(!0),xe=F()}else G=xe=w(G);be.startContainer=G.parentNode?G.parentNode:G,be.startOffset=f.nodeIndex(G),be.endContainer=xe.parentNode?xe.parentNode:xe,be.endOffset=f.nodeIndex(xe)+1}t1(f,be,Se=>{Ze(Se,N)})};if(s){if(fv(s)){const X=f.createRng();X.setStartBefore(s),X.setEndAfter(s),ee(X)}else ee(s);xA(e,t,s,o);return}!b.isCollapsed()||!ba(d)||G0(e).length?(uw(e,()=>cw(e,ee),X=>ba(d)&&Xw(e,t,o,X)),e.nodeChanged()):EM(e,t,o,a),BM(e,t,o),xA(e,t,s,o)},M6=(e,t,o,s,a)=>{(s||e.selection.isEditable())&&FM(e,t,o,s,a)},zM=(e,t,o,s)=>m3(e,t,o,s).fold(()=>I.some(s),a=>I.some(e.dom.rename(s,a)),I.none),Zv=(e,t,o,s,a)=>m3(e,t,o,s,a).fold(_o,c=>(e.dom.rename(s,c),!0),Vo),B6=["fontsize","subscript","superscript"],HM=["strikethrough",...B6],VM=(e,t,o)=>ze(e.matchNode(t.dom,o,{},o==="fontsize")),r_=(e,t)=>Mn(B6,o=>VM(e,t,o)),$M=e=>Ho(HM,e),UM=(e,t,o,s,a)=>{const c=Qa(t,e).filter(lr);return Wc(c,o).map(d=>{const f=c[d],b=s(f),w=[...a(id(f)).toArray(),...sr(c.slice(0,d),T=>o(T)?a(T).toArray():[id(T)])];return{container:f,innerWrapper:b,outerWrappers:w}})},ZM=(e,t,o,s)=>{Ze(en(e),a=>{lr(a)&&o(a)&&s(a).isNone()&&Ni(a)}),Ze(en(e),a=>ln(t,a)),bc(e,t)},jM=(e,t)=>{if(t.length>0){const o=t[t.length-1];ea(e,o);const s=Lo(t.slice(0,t.length-1),(a,c)=>(ln(a,c),c),o);ln(s,e)}},WM=(e,t,o,s,a)=>{const c=d=>Jo(te.fromDom(e.getRoot()),d)||e.isBlock(d.dom);Ze(t,d=>{UM(c,d,o,s,a).each(({container:f,innerWrapper:b,outerWrappers:w})=>{e.split(f.dom,d.dom),ZM(d,b,o,a),jM(d,w)})})},P6=(e,t,o)=>{const s=f=>ze(qa(e,f.dom,t)),a=f=>{const b=te.fromTag(Fo(f)),w=qa(e,f.dom,t,{});return ze(w)&&om(w)&&ug(e,b.dom,w),b},c=f=>{const b=qa(e,f.dom,t,{});return ze(b)?zM(e,b,{},f.dom).map(te.fromDom):I.some(f)},d=dg(e.selection.getRng());WM(e.dom,o,s,a,c),e.selection.setRng(tm(d))},qM=(e,t)=>sr(t,o=>{const s=Xi(o,a=>r_(e,a));return r_(e,o)?[o,...s]:s}),GM=(e,t,o)=>{if($M(t)){const s=qM(e.formatter,o);P6(e,"strikethrough",s)}},I6=(e,t)=>{const o=mt(t,s=>r_(e.formatter,s));P6(e,"strikethrough",o)},L6=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),KM=e=>e.name==="summary",YM=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},F6=(e,t,o,s)=>{const a=o.name;for(let c=0,d=e.length;c<d;c++){const f=e[c];if(f.name===a){const b=s.nodes[a];b?b.nodes.push(o):s.nodes[a]={filter:f,nodes:[o]}}}if(o.attributes)for(let c=0,d=t.length;c<d;c++){const f=t[c],b=f.name;if(b in o.attributes.map){const w=s.attributes[b];w?w.nodes.push(o):s.attributes[b]={filter:f,nodes:[o]}}}},XM=(e,t,o)=>{const s={nodes:{},attributes:{}};return o.firstChild&&YM(o,a=>{F6(e,t,a,s)}),s},z6=(e,t)=>{const o=(s,a)=>{Xo(s,c=>{const d=Tt(c.nodes);Ze(c.filter.callbacks,f=>{for(let b=d.length-1;b>=0;b--){const w=d[b];(!(a?w.attr(c.filter.name)!==void 0:w.name===c.filter.name)||Yo(w.parent))&&d.splice(b,1)}d.length>0&&f(d,c.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},H6=(e,t,o,s={})=>{const a=XM(e,t,o);z6(a,s)},g3=(e,t,o,s)=>{if((e.pad_empty_with_br||t.insert)&&o(s)){const c=new ai("br",1);t.insert&&c.attr("data-mce-bogus","1"),s.empty().append(c)}else s.empty().append(new ai("#text",3)).value=Ls},QM=e=>{var t;return f3(e,"#text")&&((t=e?.firstChild)===null||t===void 0?void 0:t.value)===Ls},f3=(e,t)=>{const o=e?.firstChild;return ze(o)&&o===e.lastChild&&o.name===t},V6=(e,t)=>{const o=e.getElementRule(t.name);return o?.paddEmpty===!0},pb=(e,t,o,s)=>s.isEmpty(t,o,a=>V6(e,a)),$6=(e,t)=>ze(e)&&(t(e)||e.name==="br"),JM=e=>{let t;for(let o=e;o;o=o.parent){const s=o.attr("contenteditable");if(s==="false")break;s==="true"&&(t=o)}return I.from(t)},U6=e=>{const t=[];for(let o=e.firstChild;ze(o);o=o.walk())t.push(o);return t},p3=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const a of s)o&&!t.isValidChild(o.name,a.name)&&p3(a,t,o);e.unwrap()}},Z6=(e,t,o,s=Do)=>{const a=t.getTextBlockElements(),c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),f=at.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),b=new Set,w=T=>T!==o&&!f[T.name];for(let T=0;T<e.length;T++){const R=e[T];let N,F,ee;if(!R.parent||b.has(R))continue;if(a[R.name]&&R.parent.name==="li"){let G=R.next;for(;G&&a[G.name];){G.name="li",b.add(G),R.parent.insert(G,R.parent);G=G.next}R.unwrap();continue}const X=[R];for(N=R.parent;N&&!t.isValidChild(N.name,R.name)&&w(N);N=N.parent)X.push(N);if(N&&X.length>1)if(h3(t,R,N))p3(R,t);else{X.reverse(),F=X[0].clone(),s(F);let G=F;for(let xe=0;xe<X.length-1;xe++){t.isValidChild(G.name,X[xe].name)&&xe>0?(ee=X[xe].clone(),s(ee),G.append(ee)):ee=G;for(let be=X[xe].firstChild;be&&be!==X[xe+1];){const Se=be.next;ee.append(be),be=Se}G=ee}pb(t,c,d,F)?N.insert(R,X[0],!0):(N.insert(F,X[0],!0),N.insert(R,F)),N=X[0],(pb(t,c,d,N)||f3(N,"br"))&&N.empty().remove()}else if(R.parent){if(R.name==="li"){let G=R.prev;if(G&&(G.name==="ul"||G.name==="ol")){G.append(R);continue}if(G=R.next,G&&(G.name==="ul"||G.name==="ol")&&G.firstChild){G.insert(R,G.firstChild,!0);continue}const xe=new ai("ul",1);s(xe),R.wrap(xe);continue}if(t.isValidChild(R.parent.name,"div")&&t.isValidChild("div",R.name)){const G=new ai("div",1);s(G),R.wrap(G)}else p3(R,t)}}},eB=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},h3=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&eB(o,"a")?!0:KM(o)&&L6(t)?!(o?.firstChild===t&&o?.lastChild===t):!1:!1,tB=(e,t,o,s)=>{const a=document.createRange();return a.setStart(e,t),a.setEnd(o,s),a},oB=e=>{const t=We.fromRangeStart(e),o=We.fromRangeEnd(e),s=e.commonAncestorContainer;return Bc(!1,s,o).map(a=>!Jm(t,o,s)&&Jm(t,a,s)?tB(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},hb=e=>e.collapsed?e:oB(e),a_=at.explode,j6=()=>{const e={};return{addFilter:(a,c)=>{Ze(a_(a),d=>{xo(e,d)||(e[d]={name:d,callbacks:[]}),e[d].callbacks.push(c)})},getFilters:()=>Cs(e),removeFilter:(a,c)=>{Ze(a_(a),d=>{if(xo(e,d))if(ze(c)){const f=e[d],b=mt(f.callbacks,w=>w!==c);b.length>0?f.callbacks=b:delete e[d]}else delete e[d]})}}},W6=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),nB=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),sB=(e,t)=>{Ze(t,o=>{e.attr(o,null)})},rB=(e,t,o)=>{e.addNodeFilter("font",s=>{Ze(s,a=>{const c=t.parse(a.attr("style")),d=a.attr("color"),f=a.attr("face"),b=a.attr("size");d&&(c.color=d),f&&(c["font-family"]=f),b&&Du(b).each(w=>{c["font-size"]=o[w-1]}),a.name="span",a.attr("style",t.serialize(c)),sB(a,["color","face","size"])})})},aB=(e,t,o)=>{e.addNodeFilter("strike",s=>{const a=t.type!=="html4";Ze(s,c=>{if(a)c.name="s";else{const d=o.parse(c.attr("style"));d["text-decoration"]="line-through",c.name="span",c.attr("style",o.serialize(d))}})})},iB=(e,t,o)=>{var s;const a=hd();t.convert_fonts_to_spans&&rB(e,a,at.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),aB(e,o,a)},lB=(e,t,o)=>{t.inline_styles&&iB(e,t,o)},cB=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),dB=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},b3=e=>{try{return decodeURIComponent(e)}catch{return e}},x3=e=>{const[t,...o]=e.split(","),s=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(a){const c=a[2]===";base64",d=b3(s),f=c?dB(d):d;return I.some({type:a[1],data:f,base64Encoded:c})}else return I.none()},q6=(e,t,o=!0)=>{let s=t;if(o)try{s=atob(t)}catch{return I.none()}const a=new Uint8Array(s.length);for(let c=0;c<a.length;c++)a[c]=s.charCodeAt(c);return I.some(new Blob([a],{type:e}))},uB=e=>new Promise((t,o)=>{x3(e).bind(({type:s,data:a,base64Encoded:c})=>q6(s,a,c)).fold(()=>o("Invalid data URI"),t)}),G6=e=>Is(e,"blob:")?cB(e):Is(e,"data:")?uB(e):Promise.reject("Unknown URI format"),Lp=e=>new Promise((t,o)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var a;o((a=s.error)===null||a===void 0?void 0:a.message)},s.readAsDataURL(e)});let K6=0;const mB=e=>"blobid"+K6++,x1=(e,t,o)=>x3(e).bind(({data:s,type:a,base64Encoded:c})=>{if(t&&!c)return I.none();{const d=c?s:btoa(s);return o(d,a)}}),Y6=(e,t,o)=>{const s=e.create(mB(),t,o);return e.add(s),s},i_=(e,t,o=!1)=>x1(t,o,(s,a)=>I.from(e.getByData(s,a)).orThunk(()=>q6(a,s).map(c=>Y6(e,c,s)))),v3=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(Is(t,"blob:")){const s=e.getByUri(t);return ze(s)?Promise.resolve(s):G6(t).then(a=>Lp(a).then(c=>x1(c,!1,d=>I.some(Y6(e,a,d))).getOrThunk(o)))}else return Is(t,"data:")?i_(e,t).fold(o,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},gB=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,X6=e=>I.from(e.match(gB)).bind(t=>nn(t,1)).map(t=>Is(t,"www.")?t.substring(4):t),jv=(e,t)=>{I.from(e.attr("src")).bind(X6).forall(o=>!Ho(t,o))&&e.attr("sandbox","")},y3=(e,t)=>Is(e,`${t}/`),fB=e=>Os(e)?"iframe":y3(e,"image")?"img":y3(e,"video")?"video":y3(e,"audio")?"audio":"iframe",pB=({type:e,src:t,width:o,height:s}={},a,c)=>{const d=fB(e),f=new ai(d,1);return f.attr(d==="audio"?{src:t}:{src:t,width:o,height:s}),(d==="audio"||d==="video")&&f.attr("controls",""),d==="iframe"&&a&&jv(f,c),f},hB=e=>ze(e.attr("data-mce-bogus")),w3=e=>e.attr("src")===Eo.transparentSrc||ze(e.attr("data-mce-placeholder")),bB=(e,t)=>{const{blob_cache:o}=t;if(o){const s=a=>{const c=a.attr("src");w3(a)||hB(a)||Yo(c)||i_(o,c,!0).each(d=>{a.attr("src",d.blobUri())})};e.addAttributeFilter("src",a=>Ze(a,s))}},xB=(e,t)=>{var o,s;const a=e.schema;e.addAttributeFilter("href",b=>{let w=b.length;const T=N=>N.split(" ").filter(ee=>ee.length>0).concat(["noopener"]).sort().join(" "),R=N=>{const F=N?at.trim(N):"";return/\b(noopener)\b/g.test(F)?F:T(F)};if(!t.allow_unsafe_link_target)for(;w--;){const N=b[w];N.name==="a"&&N.attr("target")==="_blank"&&N.attr("rel",R(N.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",b=>{let w=b.length,T,R,N,F;for(;w--;)if(F=b[w],F.name==="a"&&F.firstChild&&!F.attr("href"))for(N=F.parent,T=F.lastChild;T&&N;)R=T.prev,N.insert(T,F),T=R}),t.fix_list_elements&&e.addNodeFilter("ul,ol",b=>{let w=b.length,T,R;for(;w--;)if(T=b[w],R=T.parent,R&&(R.name==="ul"||R.name==="ol"))if(T.prev&&T.prev.name==="li")T.prev.append(T);else{const N=new ai("li",1);N.attr("style","list-style-type: none"),T.wrap(N)}});const c=a.getValidClasses();t.validate&&c&&e.addAttributeFilter("class",b=>{var w;let T=b.length;for(;T--;){const R=b[T],N=(w=R.attr("class"))!==null&&w!==void 0?w:"",F=at.explode(N," ");let ee="";for(let X=0;X<F.length;X++){const G=F[X];let xe=!1,be=c["*"];be&&be[G]&&(xe=!0),be=c[R.name],!xe&&be&&be[G]&&(xe=!0),xe&&(ee&&(ee+=" "),ee+=G)}ee.length||(ee=null),R.attr("class",ee)}}),bB(e,t);const d=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,f=mc((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",b=>Ze(b,w=>{w.replace(pB({type:w.attr("type"),src:w.name==="object"?w.attr("data"):w.attr("src"),width:w.attr("width"),height:w.attr("height")},d,f))})),d&&e.addNodeFilter("iframe",b=>Ze(b,w=>jv(w,f)))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:Q6,setPrototypeOf:J6,isFrozen:vB,getPrototypeOf:yB,getOwnPropertyDescriptor:wB}=Object;let{freeze:rc,seal:bu,create:eD}=Object,{apply:_3,construct:l_}=typeof Reflect<"u"&&Reflect;rc||(rc=function(t){return t}),bu||(bu=function(t){return t}),_3||(_3=function(t,o,s){return t.apply(o,s)}),l_||(l_=function(t,o){return new t(...o)});const c_=ic(Array.prototype.forEach),_B=ic(Array.prototype.lastIndexOf),tD=ic(Array.prototype.pop),v1=ic(Array.prototype.push),CB=ic(Array.prototype.splice),d_=ic(String.prototype.toLowerCase),C3=ic(String.prototype.toString),oD=ic(String.prototype.match),Wv=ic(String.prototype.replace),kB=ic(String.prototype.indexOf),SB=ic(String.prototype.trim),nm=ic(Object.prototype.hasOwnProperty),ac=ic(RegExp.prototype.test),qv=EB(TypeError);function ic(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return _3(e,t,s)}}function EB(e){return function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return l_(e,o)}}function cs(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d_;J6&&J6(e,null);let s=t.length;for(;s--;){let a=t[s];if(typeof a=="string"){const c=o(a);c!==a&&(vB(t)||(t[s]=c),a=c)}e[a]=!0}return e}function nD(e){for(let t=0;t<e.length;t++)nm(e,t)||(e[t]=null);return e}function Ef(e){const t=eD(null);for(const[o,s]of Q6(e))nm(e,o)&&(Array.isArray(s)?t[o]=nD(s):s&&typeof s=="object"&&s.constructor===Object?t[o]=Ef(s):t[o]=s);return t}function Gv(e,t){for(;e!==null;){const s=wB(e,t);if(s){if(s.get)return ic(s.get);if(typeof s.value=="function")return ic(s.value)}e=yB(e)}function o(){return null}return o}const sD=rc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Kv=rc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),y1=rc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rD=rc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),w1=rc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Yv=rc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),bb=rc(["#text"]),xu=rc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Af=rc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),u_=rc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xv=rc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Qv=bu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),aD=bu(/<%[\w\W]*|[\w\W]*%>/gm),AB=bu(/\$\{[\w\W]*/gm),Jv=bu(/^data-[\-\w.\u00B7-\uFFFF]+$/),iD=bu(/^aria-[\-\w]+$/),dr=bu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),TB=bu(/^(?:\w+script|data):/i),DB=bu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_1=bu(/^html$/i),C1=bu(/^[a-z][.\w]*(-[.\w]+)+$/i);var Fp=Object.freeze({__proto__:null,ARIA_ATTR:iD,ATTR_WHITESPACE:DB,CUSTOM_ELEMENT:C1,DATA_ATTR:Jv,DOCTYPE_NAME:_1,ERB_EXPR:aD,IS_ALLOWED_URI:dr,IS_SCRIPT_OR_DATA:TB,MUSTACHE_EXPR:Qv,TMPLIT_EXPR:AB});const e2={element:1,text:3,progressingInstruction:7,comment:8,document:9},k3=function(){return typeof window>"u"?null:window},S3=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(s=o.getAttribute(a));const c="dompurify"+(s?"#"+s:"");try{return t.createPolicy(c,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},E3=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function A3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k3();const t=pn=>A3(pn);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==e2.document||!e.Element)return t.isSupported=!1,t;let{document:o}=e;const s=o,a=s.currentScript,{DocumentFragment:c,HTMLTemplateElement:d,Node:f,Element:b,NodeFilter:w,NamedNodeMap:T=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:R,DOMParser:N,trustedTypes:F}=e,ee=b.prototype,X=Gv(ee,"cloneNode"),G=Gv(ee,"remove"),xe=Gv(ee,"nextSibling"),be=Gv(ee,"childNodes"),Se=Gv(ee,"parentNode");if(typeof d=="function"){const pn=o.createElement("template");pn.content&&pn.content.ownerDocument&&(o=pn.content.ownerDocument)}let Ie,st="";const{implementation:Et,createNodeIterator:ft,createDocumentFragment:Xe,getElementsByTagName:qe}=o,{importNode:rt}=s;let Vt=E3();t.isSupported=typeof Q6=="function"&&typeof Se=="function"&&Et&&Et.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:io,ERB_EXPR:Ao,TMPLIT_EXPR:tn,DATA_ATTR:ds,ARIA_ATTR:hs,IS_SCRIPT_OR_DATA:xa,ATTR_WHITESPACE:wr,CUSTOM_ELEMENT:sl}=Fp;let{IS_ALLOWED_URI:Nt}=Fp,eo=null;const Nn=cs({},[...sD,...Kv,...y1,...w1,...bb]);let Pn=null;const Kt=cs({},[...xu,...Af,...u_,...Xv]);let wt=Object.seal(eD(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ft=null,uo=null,yo=!0,Qn=!0,gs=!1,Pd=!0,li=!1,dm=!0,wu=!1,Tl=!1,dc=!1,um=!1,Ub=!1,ro=!1,Cn=!0,_r=!1;const Ma="user-content-";let Ga=!0,va=!1,tr={},or=null;const uc=cs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let yg=null;const eh=cs({},["audio","video","img","source","image","track"]);let If=null;const EC=cs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),AC="http://www.w3.org/1998/Math/MathML",z2="http://www.w3.org/2000/svg",wg="http://www.w3.org/1999/xhtml";let Zb=wg,ZE=!1,TC=null;const aV=cs({},[AC,z2,wg],C3);let jE=cs({},["mi","mo","mn","ms","mtext"]),WE=cs({},["annotation-xml"]);const iV=cs({},["title","style","font","a","script"]);let DC=null;const jb=["application/xhtml+xml","text/html"],eR="text/html";let Ne=null,Fe=null;const Rt=o.createElement("form"),Ct=function(Ue){return Ue instanceof RegExp||Ue instanceof Function},po=function(){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Fe&&Fe===Ue)){if((!Ue||typeof Ue!="object")&&(Ue={}),Ue=Ef(Ue),DC=jb.indexOf(Ue.PARSER_MEDIA_TYPE)===-1?eR:Ue.PARSER_MEDIA_TYPE,Ne=DC==="application/xhtml+xml"?C3:d_,eo=nm(Ue,"ALLOWED_TAGS")?cs({},Ue.ALLOWED_TAGS,Ne):Nn,Pn=nm(Ue,"ALLOWED_ATTR")?cs({},Ue.ALLOWED_ATTR,Ne):Kt,TC=nm(Ue,"ALLOWED_NAMESPACES")?cs({},Ue.ALLOWED_NAMESPACES,C3):aV,If=nm(Ue,"ADD_URI_SAFE_ATTR")?cs(Ef(EC),Ue.ADD_URI_SAFE_ATTR,Ne):EC,yg=nm(Ue,"ADD_DATA_URI_TAGS")?cs(Ef(eh),Ue.ADD_DATA_URI_TAGS,Ne):eh,or=nm(Ue,"FORBID_CONTENTS")?cs({},Ue.FORBID_CONTENTS,Ne):uc,Ft=nm(Ue,"FORBID_TAGS")?cs({},Ue.FORBID_TAGS,Ne):Ef({}),uo=nm(Ue,"FORBID_ATTR")?cs({},Ue.FORBID_ATTR,Ne):Ef({}),tr=nm(Ue,"USE_PROFILES")?Ue.USE_PROFILES:!1,yo=Ue.ALLOW_ARIA_ATTR!==!1,Qn=Ue.ALLOW_DATA_ATTR!==!1,gs=Ue.ALLOW_UNKNOWN_PROTOCOLS||!1,Pd=Ue.ALLOW_SELF_CLOSE_IN_ATTR!==!1,li=Ue.SAFE_FOR_TEMPLATES||!1,dm=Ue.SAFE_FOR_XML!==!1,wu=Ue.WHOLE_DOCUMENT||!1,um=Ue.RETURN_DOM||!1,Ub=Ue.RETURN_DOM_FRAGMENT||!1,ro=Ue.RETURN_TRUSTED_TYPE||!1,dc=Ue.FORCE_BODY||!1,Cn=Ue.SANITIZE_DOM!==!1,_r=Ue.SANITIZE_NAMED_PROPS||!1,Ga=Ue.KEEP_CONTENT!==!1,va=Ue.IN_PLACE||!1,Nt=Ue.ALLOWED_URI_REGEXP||dr,Zb=Ue.NAMESPACE||wg,jE=Ue.MATHML_TEXT_INTEGRATION_POINTS||jE,WE=Ue.HTML_INTEGRATION_POINTS||WE,wt=Ue.CUSTOM_ELEMENT_HANDLING||{},Ue.CUSTOM_ELEMENT_HANDLING&&Ct(Ue.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(wt.tagNameCheck=Ue.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ue.CUSTOM_ELEMENT_HANDLING&&Ct(Ue.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(wt.attributeNameCheck=Ue.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ue.CUSTOM_ELEMENT_HANDLING&&typeof Ue.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(wt.allowCustomizedBuiltInElements=Ue.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),li&&(Qn=!1),Ub&&(um=!0),tr&&(eo=cs({},bb),Pn=[],tr.html===!0&&(cs(eo,sD),cs(Pn,xu)),tr.svg===!0&&(cs(eo,Kv),cs(Pn,Af),cs(Pn,Xv)),tr.svgFilters===!0&&(cs(eo,y1),cs(Pn,Af),cs(Pn,Xv)),tr.mathMl===!0&&(cs(eo,w1),cs(Pn,u_),cs(Pn,Xv))),Ue.ADD_TAGS&&(eo===Nn&&(eo=Ef(eo)),cs(eo,Ue.ADD_TAGS,Ne)),Ue.ADD_ATTR&&(Pn===Kt&&(Pn=Ef(Pn)),cs(Pn,Ue.ADD_ATTR,Ne)),Ue.ADD_URI_SAFE_ATTR&&cs(If,Ue.ADD_URI_SAFE_ATTR,Ne),Ue.FORBID_CONTENTS&&(or===uc&&(or=Ef(or)),cs(or,Ue.FORBID_CONTENTS,Ne)),Ga&&(eo["#text"]=!0),wu&&cs(eo,["html","head","body"]),eo.table&&(cs(eo,["tbody"]),delete Ft.tbody),Ue.TRUSTED_TYPES_POLICY){if(typeof Ue.TRUSTED_TYPES_POLICY.createHTML!="function")throw qv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ue.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw qv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ie=Ue.TRUSTED_TYPES_POLICY,st=Ie.createHTML("")}else Ie===void 0&&(Ie=S3(F,a)),Ie!==null&&typeof st=="string"&&(st=Ie.createHTML(""));rc&&rc(Ue),Fe=Ue}},Tn=cs({},[...Kv,...y1,...rD]),Cr=cs({},[...w1,...Yv]),Lf=function(Ue){let to=Se(Ue);(!to||!to.tagName)&&(to={namespaceURI:Zb,tagName:"template"});const Ko=d_(Ue.tagName),Ba=d_(to.tagName);return TC[Ue.namespaceURI]?Ue.namespaceURI===z2?to.namespaceURI===wg?Ko==="svg":to.namespaceURI===AC?Ko==="svg"&&(Ba==="annotation-xml"||jE[Ba]):!!Tn[Ko]:Ue.namespaceURI===AC?to.namespaceURI===wg?Ko==="math":to.namespaceURI===z2?Ko==="math"&&WE[Ba]:!!Cr[Ko]:Ue.namespaceURI===wg?to.namespaceURI===z2&&!WE[Ba]||to.namespaceURI===AC&&!jE[Ba]?!1:!Cr[Ko]&&(iV[Ko]||!Tn[Ko]):!!(DC==="application/xhtml+xml"&&TC[Ue.namespaceURI]):!1},_g=function(Ue){v1(t.removed,{element:Ue});try{Se(Ue).removeChild(Ue)}catch{G(Ue)}},OC=function(Ue,to){try{v1(t.removed,{attribute:to.getAttributeNode(Ue),from:to})}catch{v1(t.removed,{attribute:null,from:to})}if(to.removeAttribute(Ue),Ue==="is")if(um||Ub)try{_g(to)}catch{}else try{to.setAttribute(Ue,"")}catch{}},lV=function(Ue){let to=null,Ko=null;if(dc)Ue="<remove></remove>"+Ue;else{const rl=oD(Ue,/^[\r\n\t ]+/);Ko=rl&&rl[0]}DC==="application/xhtml+xml"&&Zb===wg&&(Ue='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ue+"</body></html>");const Ba=Ie?Ie.createHTML(Ue):Ue;if(Zb===wg)try{to=new N().parseFromString(Ba,DC)}catch{}if(!to||!to.documentElement){to=Et.createDocument(Zb,"template",null);try{to.documentElement.innerHTML=ZE?st:Ba}catch{}}const Uc=to.body||to.documentElement;return Ue&&Ko&&Uc.insertBefore(o.createTextNode(Ko),Uc.childNodes[0]||null),Zb===wg?qe.call(to,wu?"html":"body")[0]:wu?to.documentElement:Uc},cV=function(Ue){return ft.call(Ue.ownerDocument||Ue,Ue,w.SHOW_ELEMENT|w.SHOW_COMMENT|w.SHOW_TEXT|w.SHOW_PROCESSING_INSTRUCTION|w.SHOW_CDATA_SECTION,null)},NL=function(Ue){return Ue instanceof R&&(typeof Ue.nodeName!="string"||typeof Ue.textContent!="string"||typeof Ue.removeChild!="function"||!(Ue.attributes instanceof T)||typeof Ue.removeAttribute!="function"||typeof Ue.setAttribute!="function"||typeof Ue.namespaceURI!="string"||typeof Ue.insertBefore!="function"||typeof Ue.hasChildNodes!="function")},dV=function(Ue){return typeof f=="function"&&Ue instanceof f};function V1(pn,Ue,to){c_(pn,Ko=>{Ko.call(t,Ue,to,Fe)})}const uV=function(Ue){let to=null;if(V1(Vt.beforeSanitizeElements,Ue,null),NL(Ue))return _g(Ue),!0;const Ko=Ne(Ue.nodeName);if(V1(Vt.uponSanitizeElement,Ue,{tagName:Ko,allowedTags:eo}),dm&&Ue.hasChildNodes()&&!dV(Ue.firstElementChild)&&ac(/<[/\w!]/g,Ue.innerHTML)&&ac(/<[/\w!]/g,Ue.textContent)||Ue.nodeType===e2.progressingInstruction||dm&&Ue.nodeType===e2.comment&&ac(/<[/\w]/g,Ue.data))return _g(Ue),!0;if(!eo[Ko]||Ft[Ko]){if(!Ft[Ko]&&gV(Ko)&&(wt.tagNameCheck instanceof RegExp&&ac(wt.tagNameCheck,Ko)||wt.tagNameCheck instanceof Function&&wt.tagNameCheck(Ko)))return!1;if(Ga&&!or[Ko]){const Ba=Se(Ue)||Ue.parentNode,Uc=be(Ue)||Ue.childNodes;if(Uc&&Ba){const rl=Uc.length;for(let _u=rl-1;_u>=0;--_u){const $1=X(Uc[_u],!0);$1.__removalCount=(Ue.__removalCount||0)+1,Ba.insertBefore($1,xe(Ue))}}}return _g(Ue),!0}return Ue instanceof b&&!Lf(Ue)||(Ko==="noscript"||Ko==="noembed"||Ko==="noframes")&&ac(/<\/no(script|embed|frames)/i,Ue.innerHTML)?(_g(Ue),!0):(li&&Ue.nodeType===e2.text&&(to=Ue.textContent,c_([io,Ao,tn],Ba=>{to=Wv(to,Ba," ")}),Ue.textContent!==to&&(v1(t.removed,{element:Ue.cloneNode()}),Ue.textContent=to)),V1(Vt.afterSanitizeElements,Ue,null),!1)},mV=function(Ue,to,Ko){if(Cn&&(to==="id"||to==="name")&&(Ko in o||Ko in Rt))return!1;if(!(Qn&&!uo[to]&&ac(ds,to))){if(!(yo&&ac(hs,to))){if(!Pn[to]||uo[to]){if(!(gV(Ue)&&(wt.tagNameCheck instanceof RegExp&&ac(wt.tagNameCheck,Ue)||wt.tagNameCheck instanceof Function&&wt.tagNameCheck(Ue))&&(wt.attributeNameCheck instanceof RegExp&&ac(wt.attributeNameCheck,to)||wt.attributeNameCheck instanceof Function&&wt.attributeNameCheck(to))||to==="is"&&wt.allowCustomizedBuiltInElements&&(wt.tagNameCheck instanceof RegExp&&ac(wt.tagNameCheck,Ko)||wt.tagNameCheck instanceof Function&&wt.tagNameCheck(Ko))))return!1}else if(!If[to]){if(!ac(Nt,Wv(Ko,wr,""))){if(!((to==="src"||to==="xlink:href"||to==="href")&&Ue!=="script"&&kB(Ko,"data:")===0&&yg[Ue])){if(!(gs&&!ac(xa,Wv(Ko,wr,"")))){if(Ko)return!1}}}}}}return!0},gV=function(Ue){return Ue!=="annotation-xml"&&oD(Ue,sl)},fV=function(Ue){V1(Vt.beforeSanitizeAttributes,Ue,null);const{attributes:to}=Ue;if(!to||NL(Ue))return;const Ko={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Pn,forceKeepAttr:void 0};let Ba=to.length;for(;Ba--;){const Uc=to[Ba],{name:rl,namespaceURI:_u,value:$1}=Uc,qE=Ne(rl),ML=$1;let Zc=rl==="value"?ML:SB(ML);if(Ko.attrName=qE,Ko.attrValue=Zc,Ko.keepAttr=!0,Ko.forceKeepAttr=void 0,V1(Vt.uponSanitizeAttribute,Ue,Ko),Zc=Ko.attrValue,_r&&(qE==="id"||qE==="name")&&(OC(rl,Ue),Zc=Ma+Zc),dm&&ac(/((--!?|])>)|<\/(style|title)/i,Zc)){OC(rl,Ue);continue}if(Ko.forceKeepAttr)continue;if(!Ko.keepAttr){OC(rl,Ue);continue}if(!Pd&&ac(/\/>/i,Zc)){OC(rl,Ue);continue}li&&c_([io,Ao,tn],hV=>{Zc=Wv(Zc,hV," ")});const pV=Ne(Ue.nodeName);if(!mV(pV,qE,Zc)){OC(rl,Ue);continue}if(Ie&&typeof F=="object"&&typeof F.getAttributeType=="function"&&!_u)switch(F.getAttributeType(pV,qE)){case"TrustedHTML":{Zc=Ie.createHTML(Zc);break}case"TrustedScriptURL":{Zc=Ie.createScriptURL(Zc);break}}if(Zc!==ML)try{_u?Ue.setAttributeNS(_u,rl,Zc):Ue.setAttribute(rl,Zc),NL(Ue)?_g(Ue):tD(t.removed)}catch{OC(rl,Ue)}}V1(Vt.afterSanitizeAttributes,Ue,null)},tJ=function pn(Ue){let to=null;const Ko=cV(Ue);for(V1(Vt.beforeSanitizeShadowDOM,Ue,null);to=Ko.nextNode();)V1(Vt.uponSanitizeShadowNode,to,null),uV(to),fV(to),to.content instanceof c&&pn(to.content);V1(Vt.afterSanitizeShadowDOM,Ue,null)};return t.sanitize=function(pn){let Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},to=null,Ko=null,Ba=null,Uc=null;if(ZE=!pn,ZE&&(pn="<!-->"),typeof pn!="string"&&!dV(pn))if(typeof pn.toString=="function"){if(pn=pn.toString(),typeof pn!="string")throw qv("dirty is not a string, aborting")}else throw qv("toString is not a function");if(!t.isSupported)return pn;if(Tl||po(Ue),t.removed=[],typeof pn=="string"&&(va=!1),va){if(pn.nodeName){const $1=Ne(pn.nodeName);if(!eo[$1]||Ft[$1])throw qv("root node is forbidden and cannot be sanitized in-place")}}else if(pn instanceof f)to=lV("<!---->"),Ko=to.ownerDocument.importNode(pn,!0),Ko.nodeType===e2.element&&Ko.nodeName==="BODY"||Ko.nodeName==="HTML"?to=Ko:to.appendChild(Ko);else{if(!um&&!li&&!wu&&pn.indexOf("<")===-1)return Ie&&ro?Ie.createHTML(pn):pn;if(to=lV(pn),!to)return um?null:ro?st:""}to&&dc&&_g(to.firstChild);const rl=cV(va?pn:to);for(;Ba=rl.nextNode();)uV(Ba),fV(Ba),Ba.content instanceof c&&tJ(Ba.content);if(va)return pn;if(um){if(Ub)for(Uc=Xe.call(to.ownerDocument);to.firstChild;)Uc.appendChild(to.firstChild);else Uc=to;return(Pn.shadowroot||Pn.shadowrootmode)&&(Uc=rt.call(s,Uc,!0)),Uc}let _u=wu?to.outerHTML:to.innerHTML;return wu&&eo["!doctype"]&&to.ownerDocument&&to.ownerDocument.doctype&&to.ownerDocument.doctype.name&&ac(_1,to.ownerDocument.doctype.name)&&(_u="<!DOCTYPE "+to.ownerDocument.doctype.name+`>
`+_u),li&&c_([io,Ao,tn],$1=>{_u=Wv(_u,$1," ")}),Ie&&ro?Ie.createHTML(_u):_u},t.setConfig=function(){let pn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};po(pn),Tl=!0},t.clearConfig=function(){Fe=null,Tl=!1},t.isValidAttribute=function(pn,Ue,to){Fe||po({});const Ko=Ne(pn),Ba=Ne(Ue);return mV(Ko,Ba,to)},t.addHook=function(pn,Ue){typeof Ue=="function"&&v1(Vt[pn],Ue)},t.removeHook=function(pn,Ue){if(Ue!==void 0){const to=_B(Vt[pn],Ue);return to===-1?void 0:CB(Vt[pn],to,1)[0]}return tD(Vt[pn])},t.removeHooks=function(pn){Vt[pn]=[]},t.removeAllHooks=function(){Vt=E3()},t}var T3=A3();const lD=at.each,D3=at.trim,O3=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],cD={ftp:21,http:80,https:443,mailto:25},xb=["img","video"],dD=(e,t)=>ze(e)?!e:ze(t)?!Ho(xb,t):!0,uD=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},R3=(e,t,o)=>{const s=uD(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?dD(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class Nd{static parseDataUri(t){let o;const s=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(s[0]);return a&&(o=a[1]),{type:o,data:s[1]}}static isDomSafe(t,o,s={}){if(s.allow_script_urls)return!0;{const a=fd.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!R3(s,a,o)}}static getDocumentBaseUrl(t){var o;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(o=t.href)!==null&&o!==void 0?o:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,o={}){this.path="",this.directory="",t=D3(t),this.settings=o;const s=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const f=s?s.path:new Nd(document.location.href).directory;if(s?.protocol==="")t="//mce_host"+a.toAbsPath(f,t);else{const b=/([^#?]*)([#?]?.*)/.exec(t);b&&(t=(s&&s.protocol||"http")+"://mce_host"+a.toAbsPath(f,b[1])+b[2])}}t=t.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);d&&lD(O3,(f,b)=>{let w=d[b];w&&(w=w.replace(/\(mce_at\)/g,"@@")),a[f]=w}),s&&(a.protocol||(a.protocol=s.protocol),a.userInfo||(a.userInfo=s.userInfo),!a.port&&a.host==="mce_host"&&(a.port=s.port),(!a.host||a.host==="mce_host")&&(a.host=s.host),a.source=""),c&&(a.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new Nd(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const s=this.getURI(),a=o.getURI();if(s===a||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===a)return s;let c=this.toRelPath(this.path,o.path);return o.query&&(c+="?"+o.query),o.anchor&&(c+="#"+o.anchor),c}toAbsolute(t,o){const s=new Nd(t,{base_uri:this});return s.getURI(o&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?cD[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let s=0,a="",c,d;const f=t.substring(0,t.lastIndexOf("/")).split("/"),b=o.split("/");if(f.length>=b.length){for(c=0,d=f.length;c<d;c++)if(c>=b.length||f[c]!==b[c]){s=c+1;break}}if(f.length<b.length){for(c=0,d=b.length;c<d;c++)if(c>=f.length||f[c]!==b[c]){s=c+1;break}}if(s===1)return o;for(c=0,d=f.length-(s-1);c<d;c++)a+="../";for(c=s-1,d=b.length;c<d;c++)c!==s-1?a+="/"+b[c]:a+=b[c];return a}toAbsPath(t,o){let s=0;const a=/\/$/.test(o)?"/":"",c=t.split("/"),d=o.split("/"),f=[];lD(c,R=>{R&&f.push(R)});const b=[];for(let R=d.length-1;R>=0;R--)if(!(d[R].length===0||d[R]===".")){if(d[R]===".."){s++;continue}if(s>0){s--;continue}b.push(d[R])}const w=f.length-s;let T;return w<=0?T=da(b).join("/"):T=f.slice(0,w).join("/")+"/"+da(b).join("/"),T.indexOf("/")!==0&&(T="/"+T),a&&T.lastIndexOf("/")!==T.length-1&&(T+=a),T}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const mD=at.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),m_="data-mce-type";let N3=0;const M3=(e,t,o,s,a)=>{var c,d,f,b;const w=t.validate,T=o.getSpecialElements();e.nodeType===Mg&&(!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue),t.sanitize&&t.allow_html_in_comments&&Ge(e.nodeValue)&&(e.nodeValue=W6(e.nodeValue)));const R=(d=a?.tagName)!==null&&d!==void 0?d:e.nodeName.toLowerCase();if(s!=="html"&&o.isValid(s)){ze(a)&&(a.allowedTags[R]=!0);return}if(e.nodeType!==qd||R==="body")return;const N=te.fromDom(e),F=wm(N,m_),ee=Ys(N,"data-mce-bogus");if(!F&&Ge(ee)){ee==="all"?ls(N):Ni(N);return}const X=o.getElementRule(R);if(w&&!X){xo(T,R)?ls(N):Ni(N);return}else ze(a)&&(a.allowedTags[R]=!0);if(w&&X&&!F){if(Ze((f=X.attributesForced)!==null&&f!==void 0?f:[],G=>{jr(N,G.name,G.value==="{$uid}"?`mce_${N3++}`:G.value)}),Ze((b=X.attributesDefault)!==null&&b!==void 0?b:[],G=>{wm(N,G.name)||jr(N,G.name,G.value==="{$uid}"?`mce_${N3++}`:G.value)}),X.attributesRequired&&!Mn(X.attributesRequired,G=>wm(N,G))){Ni(N);return}if(X.removeEmptyAttrs&&Bu(N)){Ni(N);return}X.outputName&&X.outputName!==R&&Fg(N,X.outputName)}},gD=(e,t,o,s,a)=>{const c=e.tagName.toLowerCase(),{attrName:d,attrValue:f}=a;a.keepAttr=g_(t,o,s,c,d,f),a.keepAttr?(a.allowedAttributes[d]=!0,yb(d,o)&&(a.attrValue=d),t.allow_svg_data_urls&&Is(f,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):vb(e,d)&&(a.forceKeepAttr=!0)},g_=(e,t,o,s,a,c)=>o!=="html"&&!$u(s)?!0:!(a in mD&&R3(e,c,s))&&(!e.validate||t.isValid(s,a)||Is(a,"data-")||Is(a,"aria-")),vb=(e,t)=>e.hasAttribute(m_)&&(t==="id"||t==="class"||t==="style"),yb=(e,t)=>e in t.getBoolAttrs(),B3=(e,t,o,s)=>{const{attributes:a}=e;for(let c=a.length-1;c>=0;c--){const d=a[c],f=d.name,b=d.value;!g_(t,o,s,e.tagName.toLowerCase(),f,b)&&!vb(e,f)?e.removeAttribute(f):yb(f,o)&&e.setAttribute(f,f)}},fD=(e,t,o)=>{const s=T3();return s.addHook("uponSanitizeElement",(a,c)=>{M3(a,e,t,o.track(a),c)}),s.addHook("uponSanitizeAttribute",(a,c)=>{gD(a,e,t,o.current(),c)}),s},pD=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},f_=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(s=>`xlink:${s}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};T3().sanitize(e,o)},OB=(e,t)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},s=T3(),a=t.allow_mathml_annotation_encodings,c=ue(a)&&a.length>0,d=b=>{const w=b.getAttribute("encoding");return c&&Ge(w)&&Ho(a,w)},f=(b,w)=>c&&w==="semantics"?I.some(!0):w==="annotation"?I.some(jt(b)&&d(b)):ue(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(w)?I.from(!0):I.none();s.addHook("uponSanitizeElement",(b,w)=>{var T;const R=(T=w.tagName)!==null&&T!==void 0?T:b.nodeName.toLowerCase();f(b,R).each(F=>{w.allowedTags[R]=F,!F&&t.sanitize&&jt(b)&&b.remove()})}),s.addHook("uponSanitizeAttribute",(b,w)=>{ue(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(w.attrName)&&(w.forceKeepAttr=!0)}),s.sanitize(e,o)},RB=e=>t=>{const o=hx(t);if(o==="svg")f_(t);else if(o==="math")OB(t,e);else throw new Error("Not a namespace element")},k1=(e,t)=>{const o=xx();if(e.sanitize){const s=fD(e,t,o);return{sanitizeHtmlElement:(c,d)=>{s.sanitize(c,pD(e,d)),s.removed=[],o.reset()},sanitizeNamespaceElement:RB(e)}}else return{sanitizeHtmlElement:(c,d)=>{const f=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let b;for(;b=f.nextNode();){const w=o.track(b);M3(b,e,t,w),jt(b)&&B3(b,e,t,w)}o.reset()},sanitizeNamespaceElement:Do}},p_=["script","style","template","param"],P3=at.makeMap,wb=at.extend,I3=(e,t,o,s,a)=>{const c=e.name,d=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",f=t.childNodes;for(let b=0,w=f.length;b<w;b++){const T=f[b],R=new ai(T.nodeName.toLowerCase(),T.nodeType);if(jt(T)){const N=T.attributes;for(let F=0,ee=N.length;F<ee;F++){const X=N[F];R.attr(X.name,X.value)}$u(R.name)&&(s(T),R.value=T.innerHTML)}else ut(T)?(R.value=T.data,d&&(R.raw=!0)):md(T)?R.value=a?nB(T.data):T.data:(fx(T)||Ch(T))&&(R.value=T.data);if(Ea(T)){const N=ai.create("#text");N.value=T.innerHTML,N.raw=!0,R.append(N)}else $u(R.name)||I3(R,T,o,s,a);e.append(R)}},L3=(e,t,o)=>{const s=[];for(let a=e,c=a;a;c=a,a=a.walk()){const d=a;Ze(t,f=>f(d)),Yo(d.parent)&&d!==e?a=c:s.push(d)}for(let a=s.length-1;a>=0;a--){const c=s[a];Ze(o,d=>d(c))}},hD=(e,t,o,s)=>{const a=o.validate,c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),f=wb(P3(p_),t.getBlockElements()),b=pd(t),w=/[ \t\r\n]+/g,T=/^[ \t\r\n]+/,R=/[ \t\r\n]+$/,N=be=>{let Se=be.parent;for(;ze(Se);){if(Se.name in d)return!0;Se=Se.parent}return!1},F=be=>{let Se=be;for(;ze(Se);){if(Se.name in b)return pb(t,c,d,Se);Se=Se.parent}return!1},ee=be=>be.name in f||Dh(t,be)||$u(be.name)&&be.parent===e,X=(be,Se)=>{const Ie=Se?be.prev:be.next;return ze(Ie)||Yo(be.parent)?!1:ee(be.parent)&&(be.parent!==e||s.isRootContent===!0)};return[be=>{var Se;if(be.type===3&&!N(be)){let Ie=(Se=be.value)!==null&&Se!==void 0?Se:"";Ie=Ie.replace(w," "),($6(be.prev,ee)||X(be,!0))&&(Ie=Ie.replace(T,"")),Ie.length===0||Ie===" "&&be.prev&&be.prev.type===Mg&&be.next&&be.next.type===Mg?be.remove():be.value=Ie}},be=>{var Se;if(be.type===1){const Ie=t.getElementRule(be.name);if(a&&Ie){const st=pb(t,c,d,be);Ie.paddInEmptyBlock&&st&&F(be)?g3(o,s,ee,be):Ie.removeEmpty&&st?ee(be)?be.remove():be.unwrap():Ie.paddEmpty&&(st||QM(be))&&g3(o,s,ee,be)}}else if(be.type===3&&!N(be)){let Ie=(Se=be.value)!==null&&Se!==void 0?Se:"";(be.next&&ee(be.next)||X(be,!1))&&(Ie=Ie.replace(R,"")),Ie.length===0?be.remove():be.value=Ie}}]},bD=(e,t)=>{var o;const s=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return s===!1?"":s===!0?"p":s},F3=' xmlns="http://www.w3.org/1999/xhtml"',zp=(e={},t=Gt())=>{const o=j6(),s=j6(),a={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},c=new DOMParser,d=k1(a,t),f=(Se,Ie,st="html",Et=!1)=>{const ft=st==="xhtml",Xe=ft?"application/xhtml+xml":"text/html",qe=xo(t.getSpecialElements(),Ie.toLowerCase()),rt=qe?`<${Ie}>${Se}</${Ie}>`:Se,Vt=()=>/^[\s]*<head/i.test(Se)||/^[\s]*<html/i.test(Se)||/^[\s]*<!DOCTYPE/i.test(Se)?`<html${ft?F3:""}>${rt}</html>`:ft?`<html${F3}><head></head><body>${rt}</body></html>`:`<body>${rt}</body>`,io=c.parseFromString(Vt(),Xe),Ao=Et?io.documentElement:io.body;return d.sanitizeHtmlElement(Ao,Xe),qe?Ao.firstChild:Ao},b=o.addFilter,w=o.getFilters,T=o.removeFilter,R=s.addFilter,N=s.getFilters,F=s.removeFilter,ee=(Se,Ie)=>{h3(t,Se)&&Ie.push(Se)},X=(Se,Ie)=>{const st=Ge(Ie.attr(m_)),Et=Ie.type===1&&!xo(Se,Ie.name)&&!Dh(t,Ie)&&!$u(Ie.name);return Ie.type===3||Et&&!st},G=(Se,Ie)=>{const st=wb(P3(p_),t.getBlockElements()),Et=/^[ \t\r\n]+/,ft=/[ \t\r\n]+$/;let Xe=Se.firstChild,qe=null;const rt=Vt=>{var io,Ao;Vt&&(Xe=Vt.firstChild,Xe&&Xe.type===3&&(Xe.value=(io=Xe.value)===null||io===void 0?void 0:io.replace(Et,"")),Xe=Vt.lastChild,Xe&&Xe.type===3&&(Xe.value=(Ao=Xe.value)===null||Ao===void 0?void 0:Ao.replace(ft,"")))};if(t.isValidChild(Se.name,Ie.toLowerCase())){for(;Xe;){const Vt=Xe.next;X(st,Xe)?(qe||(qe=new ai(Ie,1),qe.attr(a.forced_root_block_attrs),Se.insert(qe,Xe)),qe.append(Xe)):(rt(qe),qe=null),Xe=Vt}rt(qe)}},be={schema:t,addAttributeFilter:R,getAttributeFilters:N,removeAttributeFilter:F,addNodeFilter:b,getNodeFilters:w,removeNodeFilter:T,parse:(Se,Ie={})=>{var st,Et;const ft=a.validate,Xe=((st=Ie.context)!==null&&st!==void 0?st:a.root_name)==="#document",qe=(Et=Ie.context)!==null&&Et!==void 0?Et:Xe?"html":a.root_name,rt=f(Se,qe,Ie.format,Xe);Th(t,rt);const Vt=new ai(qe,11);I3(Vt,rt,t.getSpecialElements(),d.sanitizeNamespaceElement,a.sanitize&&a.allow_html_in_comments),rt.innerHTML="";const[io,Ao]=hD(Vt,t,a,Ie),tn=[],ds=ft?sl=>ee(sl,tn):Do,hs={nodes:{},attributes:{}},xa=sl=>F6(w(),N(),sl,hs);L3(Vt,[io,xa],[Ao,ds]),tn.reverse(),ft&&tn.length>0&&(Ie.context?Ie.invalid=!0:Z6(tn,t,Vt,xa));const wr=bD(a,Ie);return wr&&(Vt.name==="body"||Ie.isRootContent)&&G(Vt,wr),Ie.invalid||z6(hs,Ie),Vt}};return xB(be,a),lB(be,a,t),be},t2=e=>e instanceof ai,NB=e=>t2(e)?Tp({validate:!1}).serialize(e):e,z3=(e,t,o)=>{const s=NB(e),a=t(s);if(a.isDefaultPrevented())return a;if(t2(e))if(a.content!==s){const c=zp({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:e.name});return{...a,content:c}}else return{...a,content:e};else return a},o2=e=>({sanitize:bk(e),sandbox_iframes:nv(e),sandbox_iframes_exclusions:vk(e)}),wi=(e,t)=>{if(t.no_events)return Hs.value(t);{const o=ER(e,t);return o.isDefaultPrevented()?Hs.error(Ly(e,{content:"",...o}).content):Hs.value(o)}},n2=(e,t,o)=>o.no_events?t:z3(t,a=>Ly(e,{...o,content:a}),o2(e)).content,Tf=(e,t)=>{if(t.no_events)return Hs.value(t);{const o=z3(t.content,s=>SR(e,{...t,content:s}),o2(e));return o.isDefaultPrevented()?(vA(e,o),Hs.error(void 0)):Hs.value(o)}},h_=(e,t,o)=>{o.no_events||vA(e,{...o,content:t})},lc="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),S1=["content_css_cors"],xD="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),H3=[{name:"export",replacedWith:"Export to PDF"}],V3=(e,t)=>{const o=mt(t,s=>xo(e,s));return Qt(o)},$3=e=>{const t=V3(e,lc),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Qt(t)},U3=e=>V3(e,S1),Z3=(e,t)=>{const o=at.makeMap(e.plugins," "),a=mt(t,c=>xo(o,c));return Qt(a)},sm=e=>Z3(e,xD),j3=e=>Z3(e,H3.map(t=>t.name)),b_=(e,t)=>{const o=$3(e),s=sm(t),a=s.length>0,c=o.length>0,d=t.theme==="mobile";if(a||c||d){const f=`
- `,b=d?`

Themes:${f}mobile`:"",w=a?`

Plugins:${f}${s.join(f)}`:"",T=c?`

Options:${f}${o.join(f)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+b+w+T)}},W3=e=>yn(H3,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),vD=(e,t)=>{const o=U3(e),s=j3(t),a=s.length>0,c=o.length>0;if(a||c){const d=`
- `,f=a?`

Plugins:${d}${s.map(W3).join(d)}`:"",b=c?`

Options:${d}${o.join(d)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+f+b)}},yD=(e,t)=>{b_(e,t),vD(e,t)},wD={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},_D=e=>{console.warn(wD[e],new Error().stack)},CD=e=>e.dom.length===0?(ls(e),I.none()):I.some(e),kD=(e,t)=>e.filter(o=>X0.isBookmarkNode(o.dom)).bind(t?rd:Fl),SD=(e,t,o,s,a)=>{const c=e.dom,d=t.dom,f=s?c.length:d.length;s?(B4(c,d,a,!1,!s),o.setStart(d,f)):(B4(d,c,a,!1,!s),o.setEnd(d,f))},q3=(e,t,o)=>{Gi(e).each(s=>{const a=e.dom;t&&m1(s,We(a,0),o)?Nv(a,0,o):!t&&rb(s,We(a,a.length),o)&&M4(a,a.length,o)})},x_=(e,t,o,s,a)=>{e.bind(c=>((s?M4:Nv)(c.dom,s?c.dom.length:0,a),t.filter(Xa).map(f=>SD(c,f,o,s,a)))).orThunk(()=>kD(t,s).or(t).filter(Xa).map(d=>q3(d,s,a)))},ED=(e,t,o)=>{const s=I.from(t.firstChild).map(te.fromDom),a=I.from(t.lastChild).map(te.fromDom);e.deleteContents(),e.insertNode(t);const c=s.bind(Fl).filter(Xa).bind(CD),d=a.bind(rd).filter(Xa).bind(CD);x_(c,s,e,!0,o),x_(d,a,e,!1,o),e.collapse(!1)},G3=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),AD=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),s=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),a=s?{context:s.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return Tp({validate:!1},e.schema).serialize(c)}else return t.content},s2=(e,t,o={})=>{const s=G3(o,t);Tf(e,s).each(a=>{const c=AD(e,a),d=e.selection.getRng();ED(d,d.createContextualFragment(c),e.schema),e.selection.setRng(d),Cv(e,d),h_(e,c,a)})},K3=(e,t,o={})=>{_D("selectionSetContent"),s2(e,t,o)},TD=e=>ze(e.firstChild)&&e.firstChild===e.lastChild,DD=e=>e.name==="br"||e.value===Ls,OD=(e,t)=>e.getBlockElements()[t.name]&&TD(t)&&DD(t.firstChild),v_=(e,t)=>{const o=e.getNonEmptyElements();return ze(t)&&(t.isEmpty(o)||OD(e,t))},MB=(e,t)=>{let o=t.firstChild,s=t.lastChild;return o&&o.name==="meta"&&(o=o.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),v_(e,s)&&(s=s?.prev),!o||o!==s?!1:o.name==="ul"||o.name==="ol"},r2=e=>{var t,o;const s=e.firstChild,a=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),a&&a.id==="mce_marker"&&((o=a.parentNode)===null||o===void 0||o.removeChild(a)),e},RD=(e,t,o)=>{const s=t.serialize(o),a=e.createFragment(s);return r2(a)},ND=e=>{var t;return mt((t=e?.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},BB=e=>e.data===Ls||Ns(e),PB=e=>ze(e?.firstChild)&&e.firstChild===e.lastChild&&BB(e.firstChild),MD=e=>!e.firstChild||PB(e),IB=e=>e.length>0&&MD(e[e.length-1])?e.slice(0,-1):e,y_=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},BD=(e,t)=>!!y_(e,t),LB=(e,t)=>{const o=t.cloneRange(),s=t.cloneRange();return o.setStartBefore(e),s.setEndAfter(e),[o.cloneContents(),s.cloneContents()]},FB=(e,t)=>{const o=We.before(e),a=Xu(t).next(o);return a?a.toRange():null},a2=(e,t)=>{const o=We.after(e),a=Xu(t).prev(o);return a?a.toRange():null},zB=(e,t,o,s)=>{const a=LB(e,s),c=e.parentNode;return c&&(c.insertBefore(a[0],e),at.each(t,d=>{c.insertBefore(d,e)}),c.insertBefore(a[1],e),c.removeChild(e)),a2(t[t.length-1],o)},HB=(e,t,o)=>{const s=e.parentNode;return s&&at.each(t,a=>{s.insertBefore(a,e)}),FB(e,o)},PD=(e,t,o,s)=>(s.insertAfter(t.reverse(),e),a2(t[0],o)),Y3=(e,t,o,s)=>{const a=RD(t,e,s),c=y_(t,o.startContainer),d=IB(ND(a.firstChild)),f=1,b=2,w=t.getRoot(),T=R=>{const N=We.fromRangeStart(o),F=Xu(t.getRoot()),ee=R===f?F.prev(N):F.next(N),X=ee?.getNode();return X?y_(t,X)!==c:!0};return c?T(f)?HB(c,d,w):T(b)?PD(c,d,w,t):zB(c,d,w,o):null},VB=["pre"],$B=(e,t,o,s)=>{var a;const c=t.firstChild,d=t.lastChild,f=d.attr("data-mce-type")==="bookmark"?d.prev:d,b=c===f,w=Ho(VB,c.name);if(b&&w){const T=c.attr("contenteditable")!=="false",R=((a=e.getParent(o,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===c.name,N=I.from(Bp(s,o)).forall(hi);return T&&R&&N}else return!1},X3=Wg,i2=(e,t,o)=>{if(ze(o)){const s=e.getParent(t.endContainer,X3);return o===s&&pf(te.fromDom(o),t)}else return!1},UB=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const o=t.childNodes;return o.length===1&&Ns(o[0])||o.length===0}else return!1},ID=(e,t,o)=>{var s;o.getAttribute("data-mce-bogus")==="all"?(s=o.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),o):UB(e.dom,o)?e.dom.setHTML(o,t):s2(e,t,{no_events:!0})},Hp=(e,t,o)=>{I.from(e.getParent(t,"td,th")).map(te.fromDom).each(s=>Ay(s,o))},El=(e,t)=>{const o=e.schema.getTextInlineElements(),s=e.dom;if(t){const a=e.getBody(),c=db(e),d="*[data-mce-fragment]",f=s.select(d);at.each(f,b=>{const w=N=>ze(o[N.nodeName.toLowerCase()]),T=N=>N.childNodes.length===1;if((N=>!(ET(s,N)||rM(s,N)))(b)&&w(b)&&T(b)){const N=l1(s,b),F=(xe,be)=>Pa(xe,Se=>Ho(be,Se)),ee=xe=>T(b)&&s.is(xe,d)&&w(xe)&&(xe.nodeName===b.nodeName&&F(N,l1(s,xe))||ee(xe.children[0])),X=xe=>ze(xe)&&xe!==a&&(c.compare(b,xe)||X(xe.parentElement)),G=xe=>ze(xe)&&xe!==a&&s.is(xe,d)&&(Av(s,b,xe)||G(xe.parentElement));(ee(b.children[0])||X(b.parentElement)&&!G(b.parentElement))&&s.remove(b,!0)}}),I6(e,gl(f))}},LD=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},l2=e=>{at.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},Vp=e=>!!e.getAttribute("data-mce-fragment"),gg=(e,t)=>ze(t)&&!e.schema.getVoidElements()[t.nodeName],c2=(e,t)=>{var o,s,a;let c;const d=e.dom,f=e.selection;if(!t)return;f.scrollIntoView(t);const b=Bp(e.getBody(),t);if(b&&d.getContentEditable(b)==="false"){d.remove(t),f.select(b);return}let w=d.createRng();const T=t.previousSibling;if(ut(T)){w.setStart(T,(s=(o=T.nodeValue)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0);const F=t.nextSibling;ut(F)&&(T.appendData(F.data),(a=F.parentNode)===null||a===void 0||a.removeChild(F))}else w.setStartBefore(t),w.setEndBefore(t);const R=F=>{let ee=We.fromRangeStart(F);return ee=Xu(e.getBody()).next(ee),ee?.toRange()},N=d.getParent(t,d.isBlock);if(d.remove(t),N&&d.isEmpty(N)){const F=X3(N);Pu(te.fromDom(N)),w.setStart(N,0),w.setEnd(N,0),!F&&!Vp(N)&&(c=R(w))?(w=c,d.remove(N)):d.add(N,d.create("br",F?{}:{"data-mce-bogus":"1"}))}f.setRng(w)},Q3=e=>{const t=e.dom,o=hb(e.selection.getRng());e.selection.setRng(o);const s=t.getParent(o.startContainer,X3);i2(t,o,s)?Lv(e,o,te.fromDom(s)):TN(o)||AN(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},J3=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return I.some(t);return I.none()},FD=(e,t,o)=>{var s;return Mn(o.children(),L6)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},zD=(e,t,o)=>{var s;const a=e.selection,c=e.dom,d=e.parser,f=o.merge,b=Tp({validate:!0},e.schema),w='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=$i(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,w);let T=a.getRng();const R=T.startContainer,N=e.getBody();R===N&&a.isCollapsed()&&c.isBlock(N.firstChild)&&gg(e,N.firstChild)&&c.isEmpty(N.firstChild)&&(T=c.createRng(),T.setStart(N.firstChild,0),T.setEnd(N.firstChild,0),a.setRng(T)),a.isCollapsed()||Q3(e);const F=a.getNode(),ee={context:F.nodeName.toLowerCase(),data:o.data,insert:!0},X=d.parse(t,ee);if(o.paste===!0&&MB(e.schema,X)&&BD(c,F))return T=Y3(b,c,a.getRng(),X),T&&a.setRng(T),t;o.paste===!0&&$B(c,X,F,e.getBody())&&((s=X.firstChild)===null||s===void 0||s.unwrap()),LD(X);let G=X.lastChild;if(G&&G.attr("id")==="mce_marker"){const xe=G;for(G=G.prev;G&&G.name!=="table";G=G.walk(!0))if(G.type===3||!c.isBlock(G.name)){G.parent&&e.schema.isValidChild(G.parent.name,"span")&&G.parent.insert(xe,G,G.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(F),!ee.invalid&&!FD(c,F,X))t=b.serialize(X),ID(e,t,F);else{s2(e,w);let xe=a.getNode(),be;const Se=e.getBody();for(Zg(xe)?xe=be=Se:be=xe;be&&be!==Se;)xe=be,be=be.parentNode;t=xe===Se?Se.innerHTML:c.getOuterHTML(xe);const Ie=d.parse(t),st=J3(Ie),Et=st.bind(JM).getOr(Ie);st.each(qe=>qe.replace(X));const ft=U6(X);X.unwrap();const Xe=mt(ft,qe=>h3(e.schema,qe));Z6(Xe,e.schema,Et),H6(d.getNodeFilters(),d.getAttributeFilters(),Ie),t=b.serialize(Ie),xe===Se?c.setHTML(Se,t):c.setOuterHTML(xe,t)}return El(e,f),c2(e,c.get("mce_marker")),l2(e.getBody()),Hp(c,a.getStart(),e.schema),_0(e.schema,e.getBody(),a.getStart()),t},ZB=e=>{Ic(e)&&cn(e.getBody()).each(t=>{const o=t.getNode(),s=Ec(o)?cn(o).getOr(t):t;e.selection.setRng(s.toRange())})},w_=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&ZB(e)},HD=(e,t,o,s)=>{if(o=$i(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+a+"</li>");const c=Ua(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(o=a,o=e.dom.createHTML(c,L0(e),o)):o||(o=a),w_(e,o,s.no_selection),{content:o,html:o}}else{s.format!=="raw"&&(o=Tp({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const a=mp(te.fromDom(t))?o:at.trim(o);return w_(e,a,s.no_selection),{content:a,html:a}}},VD=(e,t,o,s)=>{H6(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const a=Tp({validate:!1},e.schema).serialize(o),c=$i(mp(te.fromDom(t))?a:at.trim(a));return w_(e,c,s.no_selection),{content:o,html:c}},$p=(e,t,o)=>I.from(e.getBody()).map(s=>t2(t)?VD(e,s,t,o):HD(e,s,t,o)).getOr({content:t,html:t2(o.content)?"":o.content}),E1={},$D=hl(["pre"]),jB=(e,t)=>{E1[e]||(E1[e]=[]),E1[e].push(t)},A1=(e,t)=>{xo(E1,e)&&Ze(E1[e],o=>{o(t)})};jB("pre",e=>{const t=e.selection.getRng(),o=a=>c=>{const d=c.previousSibling;return $D(d)&&Ho(a,d)},s=(a,c)=>{const d=te.fromDom(c),f=pc(d).dom;ls(d),Zs(te.fromDom(a),[te.fromTag("br",f),te.fromTag("br",f),...en(d)])};if(!t.collapsed){const a=e.selection.getSelectedBlocks(),c=mt(mt(a,$D),o(a));Ze(c,d=>{s(d.previousSibling,d)})}});const eS=at.each,__=(e,t,o,s)=>{const a=c=>{if(Mo(c)&&jt(c.parentNode)&&e.isEditable(c)){const d=Uk(e,c.parentNode);e.getStyle(c,"color")&&d?e.setStyle(c,"text-decoration",d):e.getStyle(c,"text-decoration")===d&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(at.walk(s,a,"childNodes"),a(s))},tS=(e,t,o,s)=>{if(t.styles&&t.styles.backgroundColor){const a=S6(e,"fontSize");i3(s,c=>a(c)&&e.isEditable(c),E6(e,"backgroundColor",bf(t.styles.backgroundColor,o)))}},UD=(e,t,o,s)=>{if(ba(t)&&(t.inline==="sub"||t.inline==="sup")){const a=S6(e,"fontSize");i3(s,d=>a(d)&&e.isEditable(d),E6(e,"fontSize",""));const c=mt(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(c,!0)}},ZD=(e,t,o,s)=>{eS(t,a=>{ba(a)&&eS(e.dom.select(a.inline,s),c=>{a3(c)&&Zv(e,a,o,c,a.exact?c:null)}),RM(e.dom,a,s)})},jD=(e,t,o,s,a)=>{const c=a.parentNode;qa(e,c,o,s)&&Zv(e,t,s,a)||t.merge_with_parents&&c&&e.dom.getParent(c,d=>qa(e,d,o,s)?(Zv(e,t,s,a),!0):!1)},WD=at.each,qD=(e,t,o,s)=>{if(VR(e)&&ba(t)&&o.parentNode){const a=pd(e.schema),c=a0(te.fromDom(o),d=>Pc(d.dom));return ke(a,s)&&Vu(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},oS=(e,t,o,s)=>{const a=e.formatter.get(t),c=a[0],d=!s&&e.selection.isCollapsed(),f=e.dom,b=e.selection,w=(F,ee)=>{let X=!1;return WD(F,G=>oc(G)?f.getContentEditable(ee)==="false"&&!G.ceFalseOverride||ze(G.collapsed)&&G.collapsed!==d?!0:f.is(ee,G.selector)&&!Pc(ee)?(ug(e,ee,G,o,ee),X=!0,!1):!0:!1),X},T=F=>{if(Ge(F)){const ee=f.create(F);return ug(e,ee,c,o,s),ee}else return null},R=(F,ee,X)=>{const G=[];let xe=!0;const be=c.inline||c.block,Se=T(be),Ie=ft=>Zk(c)&&qa(e,ft,t,o),st=(ft,Xe,qe)=>{const rt=RN(c)&&Fk(e.schema,ft)&&Y0(e,Xe,be);return qe&&rt},Et=(ft,Xe,qe,rt)=>{const Vt=ft.nodeName.toLowerCase(),io=Y0(e,be,Vt)&&Y0(e,Xe,be),Ao=!X&&ut(ft)&&Gu(ft.data),tn=Pc(ft),ds=!ba(c)||!F.isBlock(ft);return(qe||rt)&&io&&!Ao&&!tn&&ds};t1(F,ee,ft=>{let Xe;const qe=rt=>{let Vt=!1,io=xe,Ao=!1;const tn=rt.parentNode,ds=tn.nodeName.toLowerCase(),hs=F.getContentEditable(rt);ze(hs)&&(io=xe,xe=hs==="true",Vt=!0,Ao=Hk(e,rt));const xa=xe&&!Vt;if(Ns(rt)&&!qD(e,c,rt,ds)){Xe=null,og(c)&&F.remove(rt);return}if(Ie(rt)){Xe=null;return}if(st(rt,ds,xa)){const wr=F.rename(rt,be);ug(e,wr,c,o,rt),G.push(wr),Xe=null;return}if(oc(c)){let wr=w(a,rt);if(!wr&&ze(tn)&&jk(c)&&(wr=w(a,tn)),!ba(c)||wr){Xe=null;return}}ze(Se)&&Et(rt,ds,xa,Ao)?(Xe||(Xe=F.clone(Se,!1),tn.insertBefore(Xe,rt),G.push(Xe)),Ao&&Vt&&(xe=io),Xe.appendChild(rt)):(Xe=null,Ze(Tt(rt.childNodes),qe),Vt&&(xe=io),Xe=null)};Ze(ft,qe)}),c.links===!0&&Ze(G,ft=>{const Xe=qe=>{qe.nodeName==="A"&&ug(e,qe,c,o,s),Ze(Tt(qe.childNodes),Xe)};Xe(ft)}),GM(e,t,gl(G)),Ze(G,ft=>{const Xe=Vt=>{let io=0;return Ze(Vt.childNodes,Ao=>{!E5(Ao)&&!Ed(Ao)&&io++}),io},qe=Vt=>yn(Vt.childNodes,Ik).filter(Ao=>F.getContentEditable(Ao)!=="false"&&ub(F,Ao,c)).map(Ao=>{const tn=F.clone(Ao,!1);return ug(e,tn,c,o,Vt),F.replace(tn,Vt,!0),F.remove(Ao,!0),tn}).getOr(Vt),rt=Xe(ft);if((G.length>1||!F.isBlock(ft))&&rt===0){F.remove(ft,!0);return}(ba(c)||og(c)&&c.wrapper)&&(!c.exact&&rt===1&&(ft=qe(ft)),ZD(e,a,o,ft),jD(e,c,t,o,ft),tS(F,c,o,ft),__(F,c,o,ft),UD(F,c,o,ft),k6(e,c,o,ft))})},N=fv(s)?s:b.getNode();if(f.getContentEditable(N)==="false"&&!Hk(e,N)){s=N,w(a,s),Iy(e,t,s,o);return}if(c){if(s)if(fv(s)){if(!w(a,s)){const F=f.createRng();F.setStartBefore(s),F.setEndAfter(s),R(f,ng(f,F,a),!0)}}else R(f,s,!0);else!d||!ba(c)||G0(e).length?(b.setRng(hb(b.getRng())),uw(e,()=>{cw(e,(F,ee)=>{const X=ee?F:ng(f,F,a);R(f,X,!1)})},Vo),e.nodeChanged()):fb(e,t,o),v6(e.formatter,t).each(F=>{Ze(OM(e.selection),ee=>t3(f,ee,F,o))});A1(t,e)}Iy(e,t,s,o)},GD=(e,t,o,s)=>{(s||e.selection.isEditable())&&oS(e,t,o,s)},KD=e=>xo(e,"vars"),WB=(e,t)=>{e.set({}),t.on("NodeChange",o=>{fg(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const s=I.from(o.node).map(a=>fv(a)?a:a.startContainer).bind(a=>jt(a)?I.some(a):I.from(a.parentElement)).getOrThunk(()=>YD(t));fg(t,s,e.get())})},YD=e=>e.selection.getStart(),XD=(e,t,o,s,a)=>jc(t,f=>{const b=e.formatter.matchNode(f,o,a??{},s);return!Os(b)},f=>Yw(e,f,o)?!0:s?!1:ze(e.formatter.matchNode(f,o,a,!0))),nS=(e,t)=>{const o=t??YD(e);return mt(mw(e.dom,o),s=>jt(s)&&!Pm(s))},fg=(e,t,o)=>{const s=nS(e,t);Xo(o,(a,c)=>{const d=f=>{const b=XD(e,s,c,f.similar,KD(f)?f.vars:void 0),w=b.isSome();if(f.state.get()!==w){f.state.set(w);const T=b.getOr(t);KD(f)?f.callback(w,{node:T,format:c,parents:s}):Ze(f.callbacks,R=>R(w,{node:T,format:c,parents:s}))}};Ze([a.withSimilar,a.withoutSimilar],d),Ze(a.withVars,d)})},sS=(e,t,o,s,a,c)=>{const d=t.get();Ze(o.split(","),f=>{const b=Sn(d,f).getOrThunk(()=>{const T={withSimilar:{state:zn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:zn(!1),similar:!1,callbacks:[]},withVars:[]};return d[f]=T,T}),w=()=>{const T=nS(e);return XD(e,T,f,a,c).isSome()};if(Os(c)){const T=a?b.withSimilar:b.withoutSimilar;T.callbacks.push(s),T.callbacks.length===1&&T.state.set(w())}else b.withVars.push({state:zn(w()),similar:a,vars:c,callback:s})}),t.set(d)},qB=(e,t,o)=>{const s=e.get();Ze(t.split(","),a=>Sn(s,a).each(c=>{s[a]={withSimilar:{...c.withSimilar,callbacks:mt(c.withSimilar.callbacks,d=>d!==o)},withoutSimilar:{...c.withoutSimilar,callbacks:mt(c.withoutSimilar.callbacks,d=>d!==o)},withVars:mt(c.withVars,d=>d.callback!==o)}})),e.set(s)},rS=(e,t,o,s,a,c)=>(sS(e,t,o,s,a,c),{unbind:()=>qB(t,o,s)}),aS=(e,t,o,s)=>{const a=e.formatter.get(t);a&&(Xw(e,t,o,s)&&(!("toggle"in a[0])||a[0].toggle)?M6(e,t,o,s):GD(e,t,o,s))},C_=(e,t,o)=>({element:e,width:t,rows:o}),iS=(e,t)=>({element:e,cells:t}),QD=(e,t)=>({x:e,y:t}),JD=(e,t)=>xc(e,t).bind(Du).getOr(1),d2=(e,t,o,s,a)=>{const c=JD(a,"rowspan"),d=JD(a,"colspan"),f=e.rows;for(let b=o;b<o+c;b++){f[b]||(f[b]=iS(Mi(s),[]));for(let w=t;w<t+d;w++){const T=f[b].cells;T[w]=b===o&&w===t?a:id(a)}}},k_=(e,t,o)=>{const s=e.rows;return!!(s[o]?s[o].cells:[])[t]},eO=(e,t,o)=>{for(;k_(e,t,o);)t++;return t},lS=e=>Lo(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),cS=(e,t)=>{const o=e.rows;for(let s=0;s<o.length;s++){const a=o[s].cells;for(let c=0;c<a.length;c++)if(Jo(a[c],t))return I.some(QD(c,s))}return I.none()},dS=(e,t,o,s,a)=>{const c=[],d=e.rows;for(let f=o;f<=a;f++){const b=d[f].cells,w=t<s?b.slice(t,s+1):b.slice(s,t+1);c.push(iS(d[f].element,w))}return c},S_=(e,t,o)=>{const s=t.x,a=t.y,c=o.x,d=o.y,f=a<d?dS(e,s,a,c,d):dS(e,s,d,c,a);return C_(e.element,lS(f),f)},uS=(e,t)=>{const o=id(e.element),s=te.fromTag("tbody");return Zs(s,t),ln(o,s),o},u2=e=>Ro(e.rows,t=>{const o=Ro(t.cells,a=>{const c=Mi(a);return Nr(c,"colspan"),Nr(c,"rowspan"),c}),s=id(t.element);return Zs(s,o),s}),GB=e=>{const t=C_(id(e),0,[]);return Ze(Wr(e,"tr"),(o,s)=>{Ze(Wr(o,"td,th"),(a,c)=>{d2(t,eO(t,c,s),s,o,a)})}),C_(t.element,lS(t.rows),t.rows)},tO=e=>uS(e,u2(e)),KB=(e,t,o)=>cS(e,t).bind(s=>cS(e,o).map(a=>S_(e,s,a))),YB=e=>yn(e,t=>Fo(t)==="ul"||Fo(t)==="ol"),oO=(e,t)=>yn(e,o=>Fo(o)==="li"&&pf(o,t)).fold(dt([]),o=>YB(e).map(s=>{const a=te.fromTag(Fo(s)),c=Tr(Em(s),(d,f)=>Is(f,"list-style"));return Xf(a,c),[te.fromTag("li"),a]}).getOr([])),nO=(e,t)=>{const o=Lo(t,(s,a)=>(ln(a,s),a),e);return t.length>0?hr([o]):o},XB=e=>cu(e)?Gi(e).filter(lu).fold(dt([]),t=>[e,t]):lu(e)?[e]:[],mS=(e,t,o)=>{const s=te.fromDom(t.commonAncestorContainer),a=lg(s,e),c=mt(a,b=>o.isWrapper(Fo(b))),d=oO(a,t),f=c.concat(d.length?d:XB(s));return Ro(f,id)},Df=()=>hr([]),sO=(e,t,o)=>nO(te.fromDom(t.cloneContents()),mS(e,t,o)),gS=(e,t)=>js(t,"table",He(Jo,e)),rO=(e,t)=>gS(e,t[0]).bind(o=>{const s=t[0],a=t[t.length-1],c=GB(o);return KB(c,s,a).map(d=>hr([tO(d)]))}).getOrThunk(Df),fS=(e,t,o)=>t.length>0&&t[0].collapsed?Df():sO(e,t[0],o),Up=(e,t,o)=>{const s=Za(t,e);return s.length>0?rO(e,s):fS(e,t,o)},m2=(e,t)=>t>=0&&t<e.length&&Sp(e.charAt(t)),Fc=e=>$i(e.innerText),T1=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),aO=e=>I.from(e.selection.getRng()).map(t=>{var o;const s=I.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),c=T1(s),d=te.fromDom(t.cloneContents());vT(d),yT(d);const f=e.dom.add(a,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},d.dom),b=Fc(f),w=$i((o=f.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(f),m2(w,0)||m2(w,w.length-1)){const T=s.getOr(a),R=Fc(T),N=R.indexOf(b);if(N===-1)return b;{const F=m2(R,N-1),ee=m2(R,N+b.length);return(F?" ":"")+b+(ee?" ":"")}}else return b}).getOr(""),pS=(e,t)=>{const o=e.selection.getRng(),s=e.dom.create("body"),a=e.selection.getSel(),c=ja(e,aw(a)),d=t.contextual?Up(te.fromDom(e.getBody()),c,e.schema).dom:o.cloneContents();return d&&s.appendChild(d),e.selection.serializer.serialize(s,t)},iO=(e,t)=>{if(t.format==="text")return aO(e);{const o=pS(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},QB=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),lO=(e,t,o={})=>{const s=QB(o,t);return wi(e,s).fold(vn,a=>{const c=iO(e,a);return n2(e,c,a)})},Zp=0,g2=1,hS=2,cO=(e,t)=>{const o=e.length+t.length+2,s=new Array(o),a=new Array(o),c=(T,R,N)=>({start:T,end:R,diag:N}),d=(T,R,N,F,ee)=>{const X=b(T,R,N,F);if(X===null||X.start===R&&X.diag===R-F||X.end===T&&X.diag===T-N){let G=T,xe=N;for(;G<R||xe<F;)G<R&&xe<F&&e[G]===t[xe]?(ee.push([Zp,e[G]]),++G,++xe):R-T>F-N?(ee.push([hS,e[G]]),++G):(ee.push([g2,t[xe]]),++xe)}else{d(T,X.start,N,X.start-X.diag,ee);for(let G=X.start;G<X.end;++G)ee.push([Zp,e[G]]);d(X.end,R,X.end-X.diag,F,ee)}},f=(T,R,N,F)=>{let ee=T;for(;ee-R<F&&ee<N&&e[ee]===t[ee-R];)++ee;return c(T,ee,R)},b=(T,R,N,F)=>{const ee=R-T,X=F-N;if(ee===0||X===0)return null;const G=ee-X,xe=X+ee,be=(xe%2===0?xe:xe+1)/2;s[1+be]=T,a[1+be]=R+1;let Se,Ie,st,Et,ft;for(Se=0;Se<=be;++Se){for(Ie=-Se;Ie<=Se;Ie+=2){for(st=Ie+be,Ie===-Se||Ie!==Se&&s[st-1]<s[st+1]?s[st]=s[st+1]:s[st]=s[st-1]+1,Et=s[st],ft=Et-T+N-Ie;Et<R&&ft<F&&e[Et]===t[ft];)s[st]=++Et,++ft;if(G%2!==0&&G-Se<=Ie&&Ie<=G+Se&&a[st-G]<=s[st])return f(a[st-G],Ie+T-N,R,F)}for(Ie=G-Se;Ie<=G+Se;Ie+=2){for(st=Ie+be-G,Ie===G-Se||Ie!==G+Se&&a[st+1]<=a[st-1]?a[st]=a[st+1]-1:a[st]=a[st-1],Et=a[st]-1,ft=Et-T+N-Ie;Et>=T&&ft>=N&&e[Et]===t[ft];)a[st]=Et--,ft--;if(G%2===0&&-Se<=Ie&&Ie<=Se&&a[st]<=s[st+G])return f(a[st],Ie+T-N,R,F)}}return null},w=[];return d(0,e.length,0,t.length,w),w},E_=e=>jt(e)?e.outerHTML:ut(e)?fd.encodeRaw(e.data,!1):md(e)?"<!--"+e.data+"-->":"",dO=e=>{let t;const o=document.createElement("div"),s=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)s.appendChild(t);return s},A_=(e,t,o)=>{const s=dO(t);if(e.hasChildNodes()&&o<e.childNodes.length){const a=e.childNodes[o];e.insertBefore(s,a)}else e.appendChild(s)},uO=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},T_=(e,t)=>{let o=0;Ze(e,s=>{s[0]===Zp?o++:s[0]===g2?(A_(t,s[1],o),o++):s[0]===hS&&uO(t,o)})},mO=(e,t)=>mt(Ro(Tt(e.childNodes),Fn($i,E_)),o=>o.length>0),gO=(e,t)=>{const o=Ro(Tt(t.childNodes),E_);return T_(cO(o,e),t),t},fO=ui(()=>document.implementation.createHTMLDocument("undo")),f2=e=>e.querySelector("iframe")!==null,JB=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),pO=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),p2=e=>{const t=e.serializer.getTempAttrs(),o=Aw(e.getBody(),t);return f2(o)?JB(mO(o)):pO($i(o.innerHTML))},D_=(e,t,o)=>{const s=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?gO(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:ze(s)&&sw(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},h2=e=>e.type==="fragmented"?e.fragments.join(""):e.content,bS=e=>{const t=te.fromTag("body",fO());return Cm(t,h2(e)),Ze(Wr(t,"*[data-mce-bogus]"),Ni),Yf(t)},hO=(e,t)=>h2(e)===h2(t),eP=(e,t)=>bS(e)===bS(t),xS=(e,t)=>!e||!t?!1:hO(e,t)?!0:eP(e,t),vS=e=>e.get()===0,_b=(e,t,o)=>{vS(o)&&(e.typing=t)},bO=(e,t)=>{e.typing&&(_b(e,!1,t),e.add())},O_=e=>{e.typing&&(e.typing=!1,e.add())},tP=(e,t,o)=>{vS(t)&&o.set(KC(e.selection))},yS=(e,t,o,s,a,c,d)=>{const f=p2(e),b=at.extend(c||{},f);if(!vS(s)||e.removed)return null;const w=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:b,lastLevel:w,originalEvent:d}).isDefaultPrevented()||w&&xS(w,b))return null;t.data[o.get()]&&a.get().each(N=>{t.data[o.get()].beforeBookmark=N});const T=uk(e);if(T&&t.data.length>T){for(let N=0;N<t.data.length-1;N++)t.data[N]=t.data[N+1];t.data.length--,o.set(t.data.length)}b.bookmark=KC(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(b),o.set(t.data.length-1);const R={level:b,lastLevel:w,originalEvent:d};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",R),e.dispatch("change",R)):e.dispatch("AddUndo",R),b},xO=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},vO=(e,t,o,s,a)=>{if(t.transact(s)){const c=t.data[o.get()].bookmark,d=t.data[o.get()-1];D_(e,d,!0),t.transact(a)&&(t.data[o.get()-1].beforeBookmark=c)}},yO=(e,t,o)=>{let s;return t.get()<o.length-1&&(t.set(t.get()+1),s=o[t.get()],D_(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},R_=(e,t,o,s)=>{let a;return t.typing&&(t.add(),t.typing=!1,_b(t,!1,o)),s.get()>0&&(s.set(s.get()-1),a=t.data[s.get()],D_(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},oP=e=>{e.clear(),e.add()},nP=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!xS(p2(e),t.data[0]),wS=(e,t)=>t.get()<e.data.length-1&&!e.typing,wO=(e,t,o)=>(bO(e,t),e.beforeChange(),e.ignore(o),e.add()),sP=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},rP=(e,t)=>{const o=e.dom,s=ze(t)?t:e.getBody();Ze(o.select("table,a",s),a=>{switch(a.nodeName){case"TABLE":const c=KR(e),d=o.getAttrib(a,"border");(!d||d==="0")&&e.hasVisual?o.addClass(a,c):o.removeClass(a,c);break;case"A":if(!o.getAttrib(a,"href")){const f=o.getAttrib(a,"name")||a.id,b=PA(e);f&&e.hasVisual?o.addClass(a,b):o.removeClass(a,b)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},_O=e=>({init:{bindEvents:Do},undoManager:{beforeChange:(t,o)=>tP(e,t,o),add:(t,o,s,a,c,d)=>yS(e,t,o,s,a,c,d),undo:(t,o,s)=>R_(e,t,o,s),redo:(t,o)=>yO(e,t,o),clear:(t,o)=>xO(e,t,o),reset:t=>oP(t),hasUndo:(t,o)=>nP(e,t,o),hasRedo:(t,o)=>wS(t,o),transact:(t,o,s)=>wO(t,o,s),ignore:(t,o)=>sP(t,o),extra:(t,o,s,a)=>vO(e,t,o,s,a)},formatter:{match:(t,o,s,a)=>Xw(e,t,o,s,a),matchAll:(t,o)=>n3(e,t,o),matchNode:(t,o,s,a)=>qa(e,t,o,s,a),canApply:t=>mb(e,t),closest:t=>CM(e,t),apply:(t,o,s)=>GD(e,t,o,s),remove:(t,o,s,a)=>M6(e,t,o,s,a),toggle:(t,o,s)=>aS(e,t,o,s),formatChanged:(t,o,s,a,c)=>rS(e,t,o,s,a,c)},editor:{getContent:t=>nM(e,t),setContent:(t,o)=>$p(e,t,o),insertContent:(t,o)=>zD(e,t,o),addVisual:t=>rP(e,t)},selection:{getContent:(t,o)=>lO(e,t,o)},autocompleter:{addDecoration:Do,removeDecoration:Do},raw:{getModel:()=>I.none()}}),aP=e=>{const t=w=>oe(w)?w:{},{init:o,undoManager:s,formatter:a,editor:c,selection:d,autocompleter:f,raw:b}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(w,T,R)=>s.transact(R),ignore:(w,T)=>s.ignore(T),extra:(w,T,R,N)=>s.extra(R,N)},formatter:{match:(w,T,R,N)=>a.match(w,t(T),N),matchAll:a.matchAll,matchNode:a.matchNode,canApply:w=>a.canApply(w),closest:w=>a.closest(w),apply:(w,T,R)=>a.apply(w,t(T)),remove:(w,T,R,N)=>a.remove(w,t(T)),toggle:(w,T,R)=>a.toggle(w,t(T)),formatChanged:(w,T,R,N,F)=>a.formatChanged(T,R,N,F)},editor:{getContent:w=>c.getContent(w),setContent:(w,T)=>({content:c.setContent(w,T),html:""}),insertContent:(w,T)=>(c.insertContent(w),""),addVisual:c.addVisual},selection:{getContent:(w,T)=>d.getContent(T)},autocompleter:{addDecoration:f.addDecoration,removeDecoration:f.removeDecoration},raw:{getModel:()=>I.some(b.getRawModel())}}},_S=()=>{const e=dt(null),t=dt("");return{init:{bindEvents:Do},undoManager:{beforeChange:Do,add:e,undo:e,redo:e,clear:Do,reset:Do,hasUndo:_o,hasRedo:_o,transact:e,ignore:Do,extra:Do},formatter:{match:_o,matchAll:dt([]),matchNode:dt(void 0),canApply:_o,closest:t,apply:Do,remove:Do,toggle:Do,formatChanged:dt({unbind:Do})},editor:{getContent:t,setContent:dt({content:"",html:""}),insertContent:dt(""),addVisual:Do},selection:{getContent:t},autocompleter:{addDecoration:Do,removeDecoration:Do},raw:{getModel:dt(I.none())}}},rm=e=>xo(e.plugins,"rtc"),ra=e=>Sn(e.plugins,"rtc").bind(t=>I.from(t.setup)),iP=e=>{const t=e;return ra(e).fold(()=>(t.rtcInstance=_O(e),I.none()),o=>(t.rtcInstance=_S(),I.some(()=>o().then(s=>(t.rtcInstance=aP(s),s.rtc.isRemote)))))},CS=e=>e.rtcInstance?e.rtcInstance:_O(e),aa=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},kS=(e,t,o)=>{aa(e).undoManager.beforeChange(t,o)},CO=(e,t,o,s,a,c,d)=>aa(e).undoManager.add(t,o,s,a,c,d),b2=(e,t,o,s)=>aa(e).undoManager.undo(t,o,s),lP=(e,t,o)=>aa(e).undoManager.redo(t,o),cP=(e,t,o)=>{aa(e).undoManager.clear(t,o)},dP=(e,t)=>{aa(e).undoManager.reset(t)},uP=(e,t,o)=>aa(e).undoManager.hasUndo(t,o),mP=(e,t,o)=>aa(e).undoManager.hasRedo(t,o),gP=(e,t,o,s)=>aa(e).undoManager.transact(t,o,s),fP=(e,t,o)=>{aa(e).undoManager.ignore(t,o)},pP=(e,t,o,s,a)=>{aa(e).undoManager.extra(t,o,s,a)},hP=(e,t,o,s,a)=>aa(e).formatter.match(t,o,s,a),bP=(e,t,o)=>aa(e).formatter.matchAll(t,o),xP=(e,t,o,s,a)=>aa(e).formatter.matchNode(t,o,s,a),kO=(e,t)=>aa(e).formatter.canApply(t),SO=(e,t)=>aa(e).formatter.closest(t),EO=(e,t,o,s)=>{aa(e).formatter.apply(t,o,s)},AO=(e,t,o,s,a)=>{aa(e).formatter.remove(t,o,s,a)},TO=(e,t,o,s)=>{aa(e).formatter.toggle(t,o,s)},DO=(e,t,o,s,a,c)=>aa(e).formatter.formatChanged(t,o,s,a,c),OO=(e,t)=>CS(e).editor.getContent(t),vP=(e,t,o)=>CS(e).editor.setContent(t,o),yP=(e,t,o)=>CS(e).editor.insertContent(t,o),RO=(e,t,o)=>aa(e).selection.getContent(t,o),wP=(e,t)=>aa(e).editor.addVisual(t),NO=e=>aa(e).init.bindEvents(),MO=(e,t={})=>{const o=t.format?t.format:"html";return RO(e,o,t)},SS=(e,t,o)=>{if(xo(e,t)){const s=mt(e[t],a=>a!==o);s.length===0?delete e[t]:e[t]=s}};var _P=(e,t)=>{let o,s;const a=(f,b)=>yn(b,w=>e.is(w,f)),c=f=>e.getParents(f,void 0,e.getRoot()),d=()=>{o={},s={},t.on("NodeChange",f=>{const b=f.element,w=c(b),T={};Xo(o,(R,N)=>{a(N,w).each(F=>{s[N]||(Ze(R,ee=>{ee(!0,{node:F,selector:N,parents:w})}),s[N]=R),T[N]=R})}),Xo(s,(R,N)=>{T[N]||(delete s[N],Ze(R,F=>{F(!1,{node:b,selector:N,parents:w})}))})})};return{selectorChangedWithUnbind:(f,b)=>(o||d(),o[f]||(o[f]=[]),o[f].push(b),a(f,c(t.selection.getStart())).each(()=>{s[f]=o[f]}),{unbind:()=>{SS(o,f,b),SS(s,f,b)}})}};const ES=e=>!!(e&&e.ownerDocument)&&Rr(te.fromDom(e.ownerDocument),te.fromDom(e)),BO=e=>e?ES(e.startContainer)&&ES(e.endContainer):!1,PO=(e,t,o,s)=>{let a,c;const{selectorChangedWithUnbind:d}=_P(e,s),f=(Nt,eo)=>{const Nn=e.createRng();ze(Nt)&&ze(eo)?(Nn.setStart(Nt,eo),Nn.setEnd(Nt,eo),Ie(Nn),xe(!1)):(lw(e,Nn,s.getBody(),!0),Ie(Nn))},b=Nt=>MO(s,Nt),w=(Nt,eo)=>K3(s,Nt,eo),T=Nt=>Dd(s.getBody(),Se(),Nt),R=Nt=>m4(s.getBody(),Se(),Nt),N=(Nt,eo)=>wr.getBookmark(Nt,eo),F=Nt=>wr.moveToBookmark(Nt),ee=(Nt,eo)=>(QN(e,Nt,eo).each(Ie),Nt),X=()=>{const Nt=Se(),eo=be();return!Nt||Nt.item?!1:Nt.compareEndPoints?Nt.compareEndPoints("StartToEnd",Nt)===0:!eo||Nt.collapsed},G=()=>{if(s.mode.isReadOnly())return!1;const Nt=Se(),eo=s.getBody().querySelectorAll('[data-mce-selected="1"]');return eo.length>0?Pa(eo,Nn=>e.isEditable(Nn.parentElement)):iT(e,Nt)},xe=Nt=>{const eo=Se();eo.collapse(!!Nt),Ie(eo)},be=()=>t.getSelection?t.getSelection():t.document.selection,Se=()=>{let Nt;const eo=(Pn,Kt,wt)=>{try{return Kt.compareBoundaryPoints(Pn,wt)}catch{return-1}},Nn=t.document;if(ze(s.bookmark)&&!Ic(s)){const Pn=sg(s);if(Pn.isSome())return Pn.map(Kt=>ja(s,[Kt])[0]).getOr(Nn.createRange())}try{const Pn=be();Pn&&!kc(Pn.anchorNode)&&(Pn.rangeCount>0?Nt=Pn.getRangeAt(0):Nt=Nn.createRange(),Nt=ja(s,[Nt])[0])}catch{}if(Nt||(Nt=Nn.createRange()),Zg(Nt.startContainer)&&Nt.collapsed){const Pn=e.getRoot();Nt.setStart(Pn,0),Nt.setEnd(Pn,0)}return a&&c&&(eo(Nt.START_TO_START,Nt,a)===0&&eo(Nt.END_TO_END,Nt,a)===0?Nt=c:(a=null,c=null)),Nt},Ie=(Nt,eo)=>{if(!BO(Nt))return;const Nn=be();if(Nt=s.dispatch("SetSelectionRange",{range:Nt,forward:eo}).range,Nn){c=Nt;try{Nn.removeAllRanges(),Nn.addRange(Nt)}catch{}eo===!1&&Nn.extend&&(Nn.collapse(Nt.endContainer,Nt.endOffset),Nn.extend(Nt.startContainer,Nt.startOffset)),a=Nn.rangeCount>0?Nn.getRangeAt(0):null}if(!Nt.collapsed&&Nt.startContainer===Nt.endContainer&&Nn?.setBaseAndExtent&&Nt.endOffset-Nt.startOffset<2&&Nt.startContainer.hasChildNodes()){const Kt=Nt.startContainer.childNodes[Nt.startOffset];Kt&&Kt.nodeName==="IMG"&&(Nn.setBaseAndExtent(Nt.startContainer,Nt.startOffset,Nt.endContainer,Nt.endOffset),(Nn.anchorNode!==Nt.startContainer||Nn.focusNode!==Nt.endContainer)&&Nn.setBaseAndExtent(Kt,0,Kt,1))}s.dispatch("AfterSetSelectionRange",{range:Nt,forward:eo})},st=Nt=>(s2(s,e.getOuterHTML(Nt)),Nt),Et=()=>dT(s.getBody(),Se()),ft=(Nt,eo)=>XN(e,Se(),Nt,eo),Xe=()=>{const Nt=be(),eo=Nt?.anchorNode,Nn=Nt?.focusNode;if(!Nt||!eo||!Nn||kc(eo)||kc(Nn))return!0;const Pn=e.createRng(),Kt=e.createRng();try{Pn.setStart(eo,Nt.anchorOffset),Pn.collapse(!0),Kt.setStart(Nn,Nt.focusOffset),Kt.collapse(!0)}catch{return!0}return Pn.compareBoundaryPoints(Pn.START_TO_START,Kt)<=0},xa={dom:e,win:t,serializer:o,editor:s,expand:(Nt={type:"word"})=>Ie(ag(e).expand(Se(),Nt)),collapse:xe,setCursorLocation:f,getContent:b,setContent:w,getBookmark:N,moveToBookmark:F,select:ee,isCollapsed:X,isEditable:G,isForward:Xe,setNode:st,getNode:Et,getSel:be,setRng:Ie,getRng:Se,getStart:T,getEnd:R,getSelectedBlocks:ft,normalize:()=>{const Nt=Se(),eo=be();if(!Mk(eo)&&gv(s)){const Nn=tb(e,Nt);return Nn.each(Pn=>{Ie(Pn,Xe())}),Nn.getOr(Nt)}return Nt},selectorChanged:(Nt,eo)=>(d(Nt,eo),xa),selectorChangedWithUnbind:d,getScrollContainer:()=>{let Nt,eo=e.getRoot();for(;eo&&eo.nodeName!=="BODY";){if(eo.scrollHeight>eo.clientHeight){Nt=eo;break}eo=eo.parentNode}return Nt},scrollIntoView:(Nt,eo)=>{ze(Nt)?YN(s,Nt,eo):Cv(s,Se(),eo)},placeCaretAt:(Nt,eo)=>Ie(Td(Nt,eo,s.getDoc())),getBoundingClientRect:()=>{const Nt=Se();return Nt.collapsed?We.fromRangeStart(Nt).getClientRects()[0]:Nt.getBoundingClientRect()},destroy:()=>{t=a=c=null,sl.destroy()}},wr=X0(xa),sl=Qu(xa,s);return xa.bookmarkManager=wr,xa.controlSelection=sl,xa},CP=(e,t,o)=>{t.addNodeFilter("br",(s,a,c)=>{const d=at.extend({},o.getBlockElements()),f=o.getNonEmptyElements(),b=o.getWhitespaceElements();d.body=1;const w=T=>T.name in d||Dh(o,T);for(let T=0,R=s.length;T<R;T++){let N=s[T],F=N.parent;if(F&&w(F)&&N===F.lastChild){let ee=N.prev;for(;ee;){const X=ee.name;if(X!=="span"||ee.attr("data-mce-type")!=="bookmark"){X==="br"&&(N=null);break}ee=ee.prev}if(N&&(N.remove(),pb(o,f,b,F))){const X=o.getElementRule(F.name);X&&(X.removeEmpty?F.remove():X.paddEmpty&&g3(e,c,w,F))}}else{let ee=N;for(;F&&F.firstChild===ee&&F.lastChild===ee&&(ee=F,!d[F.name]);)F=F.parent;if(ee===F){const X=new ai("#text",3);X.value=Ls,N.replace(X)}}}})},kP=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(s,a)=>{let c=s.length;for(;c--;){const d=s[c];d.attr("tabindex",d.attr("data-mce-tabindex")),d.attr(a,null)}}),e.addAttributeFilter("src,href,style",(s,a)=>{const c="data-mce-"+a,d=t.url_converter,f=t.url_converter_scope;let b=s.length;for(;b--;){const w=s[b];let T=w.attr(c);T!==void 0?(w.attr(a,T.length>0?T:null),w.attr(c,null)):(T=w.attr(a),a==="style"?T=o.serializeStyle(o.parseStyle(T),w.name):d&&(T=d.call(f,T,a,w.name)),w.attr(a,T.length>0?T:null))}}),e.addAttributeFilter("class",s=>{let a=s.length;for(;a--;){const c=s[a];let d=c.attr("class");d&&(d=d.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",d.length>0?d:null))}}),e.addAttributeFilter("data-mce-type",(s,a,c)=>{let d=s.length;for(;d--;){const f=s[d];f.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(I.from(f.firstChild).exists(w=>{var T;return!Gu((T=w.value)!==null&&T!==void 0?T:"")})?f.unwrap():f.remove())}}),e.addNodeFilter("script,style",(s,a)=>{var c;const d=b=>b.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let f=s.length;for(;f--;){const b=s[f],w=b.firstChild,T=(c=w?.value)!==null&&c!==void 0?c:"";if(a==="script"){const R=b.attr("type");R&&b.attr("type",R==="mce-no/type"?null:R.replace(/^mce\-/,"")),t.element_format==="xhtml"&&w&&T.length>0&&(w.value=`// <![CDATA[
`+d(T)+`
// ]]>`)}else t.element_format==="xhtml"&&w&&T.length>0&&(w.value=`<!--
`+d(T)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let a=s.length;for(;a--;){const c=s[a],d=c.value;t.preserve_cdata&&d?.indexOf("[CDATA[")===0?(c.name="#cdata",c.type=4,c.value=o.decode(d.replace(/^\[CDATA\[|\]\]$/g,""))):d?.indexOf("mce:protected ")===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(d).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,a)=>{let c=s.length;for(;c--;){const d=s[c];d.type===7?d.remove():d.type===1&&a==="input"&&!d.attr("type")&&d.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{Ze(s,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,a)=>{let c=s.length;for(;c--;)s[c].attr(a,null)}),t.remove_trailing_brs&&CP(t,e,e.schema)},SP=e=>{const t=s=>s?.name==="br",o=e.lastChild;if(t(o)){const s=o.prev;t(s)&&(o.remove(),s.remove())}},EP=(e,t,o)=>{let s;const a=e.dom;let c=t.cloneNode(!0);const d=document.implementation;if(d.createHTMLDocument){const f=d.createHTMLDocument("");at.each(c.nodeName==="BODY"?c.childNodes:[c],b=>{f.body.appendChild(f.importNode(b,!0))}),c.nodeName!=="BODY"?c=f.body.firstChild:c=f.body,s=a.doc,a.doc=f}return bR(e,{...o,node:c}),s&&(a.doc=s),c},N_=(e,t)=>ze(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,IO=(e,t,o)=>N_(e,o)?EP(e,t,o):t,LO=(e,t,o)=>{at.inArray(t,o)===-1&&(e.addAttributeFilter(o,(s,a)=>{let c=s.length;for(;c--;)s[c].attr(a,null)}),t.push(o))},FO=(e,t,o)=>!t.no_events&&e?xR(e,{...t,content:o}).content:o,AP=(e,t,o)=>{const s=$i(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||mp(te.fromDom(t))?s:at.trim(s)},TP=(e,t,o)=>{const s=o.selection?{forced_root_block:!1,...o}:o,a=e.parse(t,s);return SP(a),a},zO=(e,t,o)=>Tp(e,t).serialize(o),DP=(e,t,o,s,a)=>{const c=zO(t,o,s);return FO(e,a,c)},AS=(e,t)=>{const o=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:On.DOM,c=t&&t.schema?t.schema:Gt(s),d=zp(s,c);kP(d,s,a);const f=(b,w={})=>{const{indent:T,entity_encoding:R,...N}=w,F={format:"html",...N},ee=IO(t,b,F),X=AP(a,ee,F),G=TP(d,X,F);if(F.format==="tree")return G;const xe={...s,...ze(T)?{indent:T}:{},...ze(R)?{entity_encoding:R}:{}};return DP(t,xe,c,G,F)};return{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:f,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:He(LO,d,o),getTempAttrs:dt(o),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},TS=(e,t)=>{const o=AS(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},OP="html",RP=(e,t)=>({...e,format:t,get:!0,getInner:!0}),NP=(e,t={})=>{const o=t.format?t.format:OP,s=RP(t,o);return wi(e,s).fold(vn,a=>{const c=OO(e,a);return n2(e,c,a)})},MP="html",HO=(e,t)=>({format:MP,...e,set:!0,content:t}),M_=(e,t,o={})=>{const s=HO(o,t);Tf(e,s).each(a=>{const c=vP(e,a.content,a);h_(e,c.html,a)})},B_=On.DOM,DS=e=>{B_.setStyle(e.id,"display",e.orgDisplay)},Md=e=>I.from(e).each(t=>t.destroy()),VO=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const s=o.dom;t.selection=o.win=o.dom=s.doc=null}},$O=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),B_.unbind(t,"submit reset",e.formEventDelegate))},P_=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,s=e.getBody(),a=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&ze(a?.nextSibling)&&B_.remove(a.nextSibling),Yu(e),e.editorManager.remove(e),!e.inline&&s&&DS(e),vR(e),B_.remove(e.getContainer()),Md(t),Md(o),e.destroy()}},OS=(e,t)=>{const{selection:o,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Md(o),Md(s)),$O(e),VO(e),e.destroyed=!0}},x2=(()=>{const e={};return{add:(a,c)=>{e[a]=c},get:a=>e[a]?e[a]:{icons:{}},has:a=>xo(e,a)}})(),D1=qr.ModelManager,UO=(e,t)=>t.dom[e],I_=(e,t)=>parseInt(fl(t,e),10),PP=He(UO,"clientWidth"),IP=He(UO,"clientHeight"),LP=He(I_,"margin-top"),L_=He(I_,"margin-left"),FP=e=>e.dom.getBoundingClientRect(),RS=(e,t,o)=>{const s=PP(e),a=IP(e);return t>=0&&o>=0&&t<=s&&o<=a},NS=(e,t,o,s)=>{const a=FP(t),c=e?a.left+t.dom.clientLeft+L_(t):0,d=e?a.top+t.dom.clientTop+LP(t):0,f=o-c,b=s-d;return{x:f,y:b}},ZO=(e,t,o)=>{const s=te.fromDom(e.getBody()),a=e.inline?s:ss(s),c=NS(e.inline,a,t,o);return RS(a,c.x,c.y)},zP=e=>I.from(e).map(te.fromDom),jO=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return zP(t).map(Jd).getOr(!1)};var F_=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const MS=e=>{const t=[],o=()=>{const N=e.theme;return N&&N.getNotificationManagerImpl?N.getNotificationManagerImpl():F_()},s=()=>I.from(t[0]),a=(N,F)=>N.type===F.type&&N.text===F.text&&!N.progressBar&&!N.timeout&&!F.progressBar&&!F.timeout,c=()=>{s().each(N=>{N.reposition()})},d=N=>{t.push(N)},f=N=>{Rs(t,F=>F===N).each(F=>{t.splice(F,1)})},b=(N,F=!0)=>e.removed||!jO(e)?{}:(F&&e.dispatch("BeforeOpenNotification",{notification:N}),yn(t,ee=>a(o().getArgs(ee),N)).getOrThunk(()=>{e.editorManager.setActive(e);const ee=o().open(N,()=>{f(ee)},()=>rg(e));return d(ee),c(),e.dispatch("OpenNotification",{notification:{...ee}}),ee})),w=()=>{s().each(N=>{o().close(N),f(N),c()})},T=dt(t);return(N=>{N.on("SkinLoaded",()=>{const F=OA(N);F&&b({text:F,type:"warning",timeout:0},!1),c()}),N.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(c)}),N.on("remove",()=>{Ze(t.slice(),F=>{o().close(F)})}),N.on("keydown",F=>{var ee;const X=((ee=F.key)===null||ee===void 0?void 0:ee.toLowerCase())==="f12"||F.keyCode===123;F.altKey&&X&&(F.preventDefault(),s().map(G=>te.fromDom(G.getEl())).each(G=>Lg(G)))})})(e),{open:b,close:w,getNotifications:T}},O1=qr.PluginManager,R1=qr.ThemeManager;var HP=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const z_=e=>{let t=[];const o=()=>{const G=e.theme;return G&&G.getWindowManagerImpl?G.getWindowManagerImpl():HP()},s=(G,xe)=>(...be)=>xe?xe.apply(G,be):void 0,a=G=>{e.dispatch("OpenWindow",{dialog:G})},c=G=>{e.dispatch("CloseWindow",{dialog:G})},d=(G,xe)=>{t.push({instanceApi:G,triggerElement:xe}),a(G)},f=G=>{c(G);const xe=Ai(t,({instanceApi:be,triggerElement:Se})=>be===G?Se:I.none());t=mt(t,({instanceApi:be})=>be!==G),t.length===0?e.focus():xe.filter(Jd).each(Lg)},b=()=>I.from(t[t.length-1]),w=G=>{e.editorManager.setActive(e),hw(e);const xe=Qd();e.ui.show();const be=G();return d(be,xe),be},T=(G,xe)=>w(()=>o().open(G,xe,f)),R=G=>w(()=>o().openUrl(G,f)),N=G=>{t.length!==0&&G.each(xe=>Lg(xe))},F=(G,xe,be)=>{const Se=Qd(),Ie=o();Ie.alert(G,s(be||Ie,()=>{N(Se),xe?.()}))},ee=(G,xe,be)=>{const Se=Qd(),Ie=o();Ie.confirm(G,s(be||Ie,st=>{N(Se),xe?.(st)}))},X=()=>{b().each(({instanceApi:G})=>{o().close(G),f(G)})};return e.on("remove",()=>{Ze(t,({instanceApi:G})=>{o().close(G)})}),{open:T,openUrl:R,alert:F,confirm:ee,close:X}},BS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},v2=(e,t)=>{e._skinLoaded?BS(e,t):e.on("SkinLoaded",()=>{BS(e,t)})},VP=(e,t)=>{v2(e,Oc.translate(["Failed to upload image: {0}",t]))},Cb=(e,t,o)=>{QC(e,t,{message:o}),console.error(o)},am=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,$P=(e,t,o)=>{Cb(e,"PluginLoadError",am("plugin",t,o))},UP=(e,t,o)=>{Cb(e,"IconsLoadError",am("icons",t,o))},WO=(e,t,o)=>{Cb(e,"LanguageLoadError",am("language",t,o))},qO=(e,t,o)=>{Cb(e,"ThemeLoadError",am("theme",t,o))},H_=(e,t,o)=>{Cb(e,"ModelLoadError",am("model",t,o))},ZP=(e,t)=>{Cb(e,"LicenseKeyManagerLoadError",am("license key manager",t))},jP=(e,t,o)=>{const s=Oc.translate(["Failed to initialize plugin: {0}",t]);QC(e,"PluginLoadError",{message:s}),V_(s,o),v2(e,s)},V_=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},GO=new WeakMap,WP=e=>{if(GO.has(e))return;GO.set(e,!0);const t=()=>{e.on("SwitchMode",s=>{const{mode:a}=s;a!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",s=>{const{state:a}=s;a||s.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),t()},KO=(e,t)=>{const{type:o,message:s}=t;e.notificationManager.open({type:o,text:s})},qP=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},GP=e=>{qP(e.type)(e.message)},PS=(e,t)=>{const{console:o,editor:s}=t;ze(s)&&(e._skinLoaded?KO(e,s):e.on("SkinLoaded",()=>{KO(e,s)})),ze(o)&&GP(o)},Vn="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",YO="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",IS=e=>{const t="The editor is disabled because a TinyMCE license key has not been provided.";PS(e,{console:{type:"error",message:[`${t}`,YO,Vn].join(" ")},editor:{type:"warning",message:`${t}`}})},XO=(e,t)=>{const o=`${t==="online"?"API":"license"} key`,s=`The editor is disabled because the TinyMCE ${o} could not be validated.`;PS(e,{console:{type:"error",message:[`${s}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,Vn].join(" ")},editor:{type:"warning",message:`${s}`}})},LS=(e,t)=>{const o=`The "${t}" plugin requires a valid TinyMCE license key.`;PS(e,{console:{type:"error",message:[`${o}`,Vn].join(" ")}})},y2="licensekeymanager",KP=e=>Ge(Gy(e))?"online":"offline",FS=e=>{var t;const o=(t=cN(e))===null||t===void 0?void 0:t.toLowerCase();return o==="gpl"?"gpl":Yo(o)?"no_key":"non_gpl"},QO=e=>{const t=KP(e),o=FS(e),s=new Set(V0(e)).has(y2);return o!=="gpl"||t==="online"||s?{type:"use_plugin",onlineStatus:t,licenseKeyType:o,forcePlugin:s}:{type:"use_gpl",onlineStatus:t,licenseKeyType:o,forcePlugin:s}},YP=e=>({validate:t=>{const{plugin:o}=t;return Ge(o)&&LS(e,o),Promise.resolve(!1)}}),JO=e=>({validate:t=>{const{plugin:o}=t,s=Ge(o);return s&&LS(e,o),Promise.resolve(!s)}}),$_="manager",XP=y2,zS=(()=>{const e=qr();return{load:(a,c)=>{if(QO(a).type==="use_plugin"){const f=`plugins/${XP}/plugin${c}.js`;e.load($_,f).catch(()=>{ZP(a,f)})}},add:a=>{e.add($_,a)},init:a=>{const c=b=>{Object.defineProperty(a,"licenseKeyManager",{value:b,writable:!1,configurable:!1,enumerable:!0})},d=QO(a),f=e.get($_);if(ze(f)){const b=f(a,e.urls[$_]);c(b)}else switch(d.type){case"use_gpl":{c(JO(a));break}case"use_plugin":{WP(a),c(YP(a)),d.onlineStatus==="offline"&&d.licenseKeyType==="no_key"?IS(a):XO(a,d.onlineStatus);break}}a.licenseKeyManager.validate({})}}})(),JP=e=>{I.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},HS=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},U_=(e,t)=>{HS(e,"StyleWithCSS",t),HS(e,"enableInlineTableEditing",t),HS(e,"enableObjectResizing",t)},e8=e=>{e.selection.setRng(e.selection.getRng())},Z_=(e,t,o)=>{rs(e,t)&&!o?Fi(e,t):o&&$l(e,t)},VS=e=>{const t=te.fromDom(e.getBody());Z_(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),JP(e)},t8=e=>{const t=te.fromDom(e.getBody());Z_(t,"mce-content-readonly",!1),e.hasEditableRoot()&&Ul(t,!0),U_(e,!1),rg(e)&&e.focus(),e8(e),e.nodeChanged()},pg=e=>Qm(e),jp="data-mce-contenteditable",j_=e=>{Ze(Wr(e,'*[contenteditable="true"]'),t=>{jr(t,jp,"true"),Ul(t,!1)})},$S=e=>{Ze(Wr(e,`*[${jp}="true"]`),t=>{Nr(t,jp),Ul(t,!0)})},W_=(e,t)=>{const o=te.fromDom(e.getBody());t?(VS(e),Ul(o,!1),j_(o)):($S(o),t8(e))},kb=e=>{e.serializer?o8(e):e.on("PreInit",()=>{o8(e)})},o8=e=>{e.parser.addAttributeFilter("contenteditable",t=>{pg(e)&&Ze(t,o=>{o.attr(jp,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(jp,t=>{pg(e)&&Ze(t,o=>{o.attr("contenteditable",o.attr(jp))})}),e.serializer.addTempAttr(jp)},Sb=e=>e.type==="click",w2=["copy"],Eb=e=>Ho(w2,e.type),US=(e,t)=>dd(t,"a",s=>Jo(s,te.fromDom(e.getBody()))).bind(s=>xc(s,"href")),n8=(e,t)=>{if(Sb(t)&&!Bt.metaKeyPressed(t)){const o=te.fromDom(t.target);US(e,o).each(s=>{if(t.preventDefault(),/^#/.test(s)){const a=e.dom.select(`${s},[name="${Uf(s,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Eb(t)&&e.dispatch(t.type,t)},s8=e=>{e.on("ShowCaret ObjectSelected",t=>{pg(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||W_(e,t.state)})},ZS=e=>{kb(e),s8(e)},r8=e=>/^[a-z0-9\-]+$/i.test(e),q_=e=>"content/"+e+"/content.css",a8=e=>tinymce.Resource.has(q_(e)),jS=e=>WS(e,FR(e)),i8=e=>WS(e,Na(e)),WS=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return Ro(t,c=>a8(c)?c:r8(c)&&!e.inline?`${o}/${c}/${a}`:e.documentBaseURI.toAbsolute(c))},qS=e=>{e.contentCSS=e.contentCSS.concat(jS(e),i8(e))},eI=e=>e?Tt(e.getElementsByTagName("img")):[],l8=(e,t)=>{const o={};return{findAll:(a,c=Vo)=>{const d=mt(eI(a),b=>{const w=b.src;return b.hasAttribute("data-mce-bogus")||b.hasAttribute("data-mce-placeholder")||!w||w===Eo.transparentSrc?!1:Is(w,"blob:")?!e.isUploaded(w)&&c(b):Is(w,"data:")?c(b):!1}),f=Ro(d,b=>{const w=b.src;if(xo(o,w))return o[w].then(T=>Ge(T)?T:{image:b,blobInfo:T.blobInfo});{const T=v3(t,w).then(R=>(delete o[w],{image:b,blobInfo:R})).catch(R=>(delete o[w],R));return o[w]=T,T}});return Promise.all(f)}}},GS=()=>{let o={};const s=(N,F)=>({status:N,resultUri:F}),a=N=>N in o;return{hasBlobUri:a,getResultUri:N=>{const F=o[N];return F?F.resultUri:null},isPending:N=>a(N)?o[N].status===1:!1,isUploaded:N=>a(N)?o[N].status===2:!1,markPending:N=>{o[N]=s(1,null)},markUploaded:(N,F)=>{o[N]=s(2,F)},removeFailed:N=>{delete o[N]},destroy:()=>{o={}}}};let c8=0;const G_=()=>{const e=()=>Math.round(Nl()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},d8=e=>e+c8+++G_(),u8=()=>{let e=[];const t=R=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[R.toLowerCase()]||"dat",o=(R,N,F,ee,X)=>{if(Ge(R))return s({id:R,name:ee,filename:X,blob:N,base64:F});if(oe(R))return s(R);throw new Error("Unknown input type")},s=R=>{if(!R.blob||!R.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const N=R.id||d8("blobid"),F=R.name||N,ee=R.blob;return{id:dt(N),name:dt(F),filename:dt(R.filename||F+"."+t(ee.type)),blob:dt(ee),base64:dt(R.base64),blobUri:dt(R.blobUri||URL.createObjectURL(ee)),uri:dt(R.uri)}},a=R=>{d(R.id())||e.push(R)},c=R=>yn(e,R).getOrUndefined(),d=R=>c(N=>N.id()===R);return{create:o,add:a,get:d,getByUri:R=>c(N=>N.blobUri()===R),getByData:(R,N)=>c(F=>F.base64()===R&&F.blob().type===N),findFirst:c,removeByUri:R=>{e=mt(e,N=>N.blobUri()===R?(URL.revokeObjectURL(N.blobUri()),!1):!0)},destroy:()=>{Ze(e,R=>{URL.revokeObjectURL(R.blobUri())}),e=[]}}},tI=(e,t)=>{const o={},s=(X,G)=>X?X.replace(/\/$/,"")+"/"+G.replace(/^\//,""):G,a=(X,G)=>new Promise((xe,be)=>{const Se=new XMLHttpRequest;Se.open("POST",t.url),Se.withCredentials=t.credentials,Se.upload.onprogress=st=>{G(st.loaded/st.total*100)},Se.onerror=()=>{be("Image upload failed due to a XHR Transport error. Code: "+Se.status)},Se.onload=()=>{if(Se.status<200||Se.status>=300){be("HTTP Error: "+Se.status);return}const st=JSON.parse(Se.responseText);if(!st||!Ge(st.location)){be("Invalid JSON: "+Se.responseText);return}xe(s(t.basePath,st.location))};const Ie=new FormData;Ie.append("file",X.blob(),X.filename()),Se.send(Ie)}),c=no(t.handler)?t.handler:a,d=()=>new Promise(X=>{X([])}),f=(X,G)=>({url:G,blobInfo:X,status:!0}),b=(X,G)=>({url:"",blobInfo:X,status:!1,error:G}),w=(X,G)=>{at.each(o[X],xe=>{xe(G)}),delete o[X]},T=(X,G,xe)=>(e.markPending(X.blobUri()),new Promise(be=>{let Se,Ie;try{const st=()=>{Se&&(Se.close(),Ie=Do)},Et=Xe=>{st(),e.markUploaded(X.blobUri(),Xe),w(X.blobUri(),f(X,Xe)),be(f(X,Xe))},ft=Xe=>{st(),e.removeFailed(X.blobUri()),w(X.blobUri(),b(X,Xe)),be(b(X,Xe))};Ie=Xe=>{Xe<0||Xe>100||I.from(Se).orThunk(()=>I.from(xe).map(an)).each(qe=>{Se=qe,qe.progressBar.value(Xe)})},G(X,Ie).then(Et,Xe=>{ft(Ge(Xe)?{message:Xe}:Xe)})}catch(st){be(b(X,st))}})),R=X=>X===a,N=X=>{const G=X.blobUri();return new Promise(xe=>{o[G]=o[G]||[],o[G].push(xe)})},F=(X,G)=>(X=at.grep(X,xe=>!e.isUploaded(xe.blobUri())),Promise.all(at.map(X,xe=>e.isPending(xe.blobUri())?N(xe):T(xe,c,G))));return{upload:(X,G)=>!t.url&&R(c)?d():F(X,G)}},m8=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),g8=(e,t)=>tI(t,{url:F0(e),basePath:AA(e),credentials:TA(e),handler:rk(e)}),oI=e=>{const t=GS(),o=g8(e,t);return{upload:(s,a=!0)=>o.upload(s,a?m8(e):void 0)}},f8=(e,t)=>e.dom.isEmpty(t.dom)&&ze(e.schema.getTextBlockElements()[Fo(t)]),p8=e=>t=>{f8(e,t)&&ln(t,te.fromHtml('<br data-mce-bogus="1" />'))},h8=e=>{const t=u8();let o,s;const a=GS(),c=[],d=Se=>Ie=>e.selection?Se(Ie):[],f=Se=>Se+(Se.indexOf("?")===-1?"?":"&")+new Date().getTime(),b=(Se,Ie,st)=>{let Et=0;do Et=Se.indexOf(Ie,Et),Et!==-1&&(Se=Se.substring(0,Et)+st+Se.substr(Et+Ie.length),Et+=st.length-Ie.length+1);while(Et!==-1);return Se},w=(Se,Ie,st)=>{const Et=`src="${st}"${st===Eo.transparentSrc?' data-mce-placeholder="1"':""}`;return Se=b(Se,`src="${Ie}"`,Et),Se=b(Se,'data-mce-src="'+Ie+'"','data-mce-src="'+st+'"'),Se},T=(Se,Ie)=>{Ze(e.undoManager.data,st=>{st.type==="fragmented"?st.fragments=Ro(st.fragments,Et=>w(Et,Se,Ie)):st.content=w(st.content,Se,Ie)})},R=(Se,Ie)=>{const st=e.convertURL(Ie,"src");T(Se.src,Ie),Ki(te.fromDom(Se),{src:tv(e)?f(Ie):Ie,"data-mce-src":st})},N=()=>(o||(o=g8(e,a)),G().then(d(Se=>{const Ie=Ro(Se,st=>st.blobInfo);return o.upload(Ie,m8(e)).then(d(st=>{const Et=[];let ft=!1;const Xe=Ro(st,(qe,rt)=>{const{blobInfo:Vt,image:io}=Se[rt];let Ao=!1;return qe.status&&$y(e)?(qe.url&&!$o(io.src,qe.url)&&(ft=!0),t.removeByUri(io.src),rm(e)||R(io,qe.url)):qe.error&&(qe.error.remove&&(T(io.src,Eo.transparentSrc),Et.push(io),Ao=!0),VP(e,qe.error.message)),{element:io,status:qe.status,uploadUri:qe.url,blobInfo:Vt,removed:Ao}});return Et.length>0&&!rm(e)?e.undoManager.transact(()=>{Ze(gl(Et),qe=>{const rt=Gi(qe);ls(qe),rt.each(p8(e)),t.removeByUri(qe.dom.src)})}):ft&&e.undoManager.dispatchChange(),Xe}))}))),F=()=>Vy(e)?N():Promise.resolve([]),ee=Se=>Pa(c,Ie=>Ie(Se)),X=Se=>{c.push(Se)},G=()=>(s||(s=l8(a,t)),s.findAll(e.getBody(),ee).then(d(Se=>{const Ie=mt(Se,st=>Ge(st)?(v2(e,st),!1):st.uriType!=="blob");return rm(e)||Ze(Ie,st=>{T(st.image.src,st.blobInfo.blobUri()),st.image.src=st.blobInfo.blobUri(),st.image.removeAttribute("data-mce-src")}),Ie}))),xe=()=>{t.destroy(),a.destroy(),s=o=null},be=Se=>Se.replace(/src="(blob:[^"]+)"/g,(Ie,st)=>{const Et=a.getResultUri(st);if(Et)return'src="'+Et+'"';let ft=t.getByUri(st);return ft||(ft=Lo(e.editorManager.get(),(Xe,qe)=>Xe||qe.editorUpload&&qe.editorUpload.blobCache.getByUri(st),void 0)),ft?'src="data:'+ft.blob().type+";base64,"+ft.base64()+'"':Ie});return e.on("SetContent",()=>{Vy(e)?F():G()}),e.on("RawSaveContent",Se=>{Se.content=be(Se.content)}),e.on("GetContent",Se=>{Se.source_view||Se.format==="raw"||Se.format==="tree"||(Se.content=be(Se.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Se=>{Ze(Se,Ie=>{const st=Ie.attr("src");if(!st||t.getByUri(st))return;const Et=a.getResultUri(st);Et&&Ie.attr("src",Et)})})}),{blobCache:t,addFilter:X,uploadImages:N,uploadImagesAuto:F,scanForImages:G,destroy:xe}},nI=e=>{const t=e.dom,o=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},d={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[d,a,c]:[a,d,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,c,d)=>jt(a)&&a.hasAttribute("href"),onformat:(a,c,d)=>{at.each(d,(f,b)=>{t.setAttrib(a,b,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var c;return(c=a?.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return at.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),a=>{s[a]={block:a,remove:"all"}}),s},Ab={remove_similar:!0,inherit:!1},Tb={selector:"td,th",...Ab},b8={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Tb},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Tb},tablecellbordercolor:{styles:{borderColor:"%value"},...Tb},tablecellclass:{classes:["%value"],...Tb},tableclass:{selector:"table",classes:["%value"],...Ab},tablecellborderstyle:{styles:{borderStyle:"%value"},...Tb},tablecellborderwidth:{styles:{borderWidth:"%value"},...Tb}},K_=dt(b8),x8=e=>{const t={},o=d=>ze(d)?t[d]:t,s=d=>xo(t,d),a=(d,f)=>{d&&(Ge(d)?(ue(f)||(f=[f]),Ze(f,b=>{Os(b.deep)&&(b.deep=!oc(b)),Os(b.split)&&(b.split=!oc(b)||ba(b)),Os(b.remove)&&oc(b)&&!ba(b)&&(b.remove="none"),oc(b)&&ba(b)&&(b.mixed=!0,b.block_expand=!0),Ge(b.classes)&&(b.classes=b.classes.split(/\s+/))}),t[d]=f):Xo(d,(b,w)=>{a(w,b)}))},c=d=>(d&&t[d]&&delete t[d],t);return a(nI(e)),a(K_()),a(ck(e)),{get:o,has:s,register:a,unregister:c}},_2=at.each,Bd=On.DOM,KS=e=>ze(e)&&oe(e),Y_=(e,t)=>{const o=t&&t.schema||Gt({}),s=(b,w)=>{w.classes.length>0&&Bd.addClass(b,w.classes.join(" ")),Bd.setAttribs(b,w.attrs)},a=b=>{const w=Ge(b)?{name:b,classes:[],attrs:{}}:b,T=Bd.create(w.name);return s(T,w),T},c=(b,w)=>{const T=o.getElementRule(b.nodeName.toLowerCase()),R=T?.parentsRequired;return R&&R.length?w&&Ho(R,w)?w:R[0]:!1},d=(b,w,T)=>{let R;const N=w[0],F=KS(N)?N.name:void 0,ee=c(b,F);if(ee)F===ee?(R=N,w=w.slice(1)):R=ee;else if(N)R=N,w=w.slice(1);else if(!T)return b;const X=R?a(R):Bd.create("div");X.appendChild(b),T&&at.each(T,xe=>{const be=a(xe);X.insertBefore(be,b)});const G=KS(R)?R.siblings:void 0;return d(X,w,G)},f=Bd.create("div");if(e.length>0){const b=e[0],w=a(b),T=KS(b)?b.siblings:void 0;f.appendChild(d(w,e.slice(1),T))}return f},X_=e=>{e=at.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,a,c,d,f)=>{switch(a){case"#":o.attrs.id=c;break;case".":o.classes.push(c);break;case":":at.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(o.attrs[c]=c);break}if(d==="["){const b=f.match(/([\w\-]+)(?:\=\"([^\"]+))?/);b&&(o.attrs[b[1]]=b[2])}return""})),o.name=t||"div",o},v8=e=>Ge(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),at.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=at.map(t.split(/(?:~\+|~|\+)/),X_),s=o.pop();return o.length&&(s.siblings=o),s}).reverse()):[],YS=(e,t)=>{let o="",s=RA(e);if(s==="")return"";const a=N=>Ge(N)?N.replace(/%(\w+)/g,""):"",c=(N,F)=>Bd.getStyle(F??e.getBody(),N,!0);if(Ge(t)){const N=e.formatter.get(t);if(!N)return"";t=N[0]}if("preview"in t){const N=t.preview;if(N===!1)return"";s=N||s}let d=t.block||t.inline||"span",f;const b=v8(t.selector);b.length>0?(b[0].name||(b[0].name=d),d=t.selector,f=Y_(b,e)):f=Y_([d],e);const w=Bd.select(d,f)[0]||f.firstChild;_2(t.styles,(N,F)=>{const ee=a(N);ee&&Bd.setStyle(w,F,ee)}),_2(t.attributes,(N,F)=>{const ee=a(N);ee&&Bd.setAttrib(w,F,ee)}),_2(t.classes,N=>{const F=a(N);Bd.hasClass(w,F)||Bd.addClass(w,F)}),e.dispatch("PreviewFormats"),Bd.setStyles(f,{position:"absolute",left:-65535}),e.getBody().appendChild(f);const T=c("fontSize"),R=/px$/.test(T)?parseInt(T,10):0;return _2(s.split(" "),N=>{let F=c(N,w);if(!(N==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(F)&&(F=c(N),Jg(F).toLowerCase()==="#ffffff"))&&!(N==="color"&&Jg(F).toLowerCase()==="#000000")){if(N==="font-size"&&/em|%$/.test(F)){if(R===0)return;F=parseFloat(F)/(/%$/.test(F)?100:1)*R+"px"}N==="border"&&F&&(o+="padding:0 2px;"),o+=N+":"+F+";"}}),e.dispatch("AfterPreviewFormats"),Bd.remove(f),o},y8=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},w8=e=>{const t=x8(e),o=zn({});return y8(e),b6(e),rm(e)||WB(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,a,c)=>{EO(e,s,a,c)},remove:(s,a,c,d)=>{AO(e,s,a,c,d)},toggle:(s,a,c)=>{TO(e,s,a,c)},match:(s,a,c,d)=>hP(e,s,a,c,d),closest:s=>SO(e,s),matchAll:(s,a)=>bP(e,s,a),matchNode:(s,a,c,d)=>xP(e,s,a,c,d),canApply:s=>kO(e,s),formatChanged:(s,a,c,d)=>DO(e,o,s,a,c,d),getCssText:He(YS,e)}},XS=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},sI=(e,t,o)=>{const s=zn(!1),a=b=>{_b(t,!1,o),t.add({},b)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",b=>{const w=b.command;XS(w)||(bO(t,o),t.beforeChange())}),e.on("ExecCommand",b=>{const w=b.command;XS(w)||a(b)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",b=>{const w=b.keyCode;if(b.isDefaultPrevented())return;const T=Eo.os.isMacOS()&&b.key==="Meta";(w>=33&&w<=36||w>=37&&w<=40||w===45||b.ctrlKey||T)&&(a(),e.nodeChanged()),(w===46||w===8)&&e.nodeChanged(),s.get()&&t.typing&&!xS(p2(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",b=>{const w=b.keyCode;if(b.isDefaultPrevented())return;if(w>=33&&w<=36||w>=37&&w<=40||w===45){t.typing&&a(b);return}const T=b.ctrlKey&&!b.altKey||b.metaKey;if((w<16||w>20)&&w!==224&&w!==91&&!t.typing&&!T){t.beforeChange(),_b(t,!0,o),t.add({},b),s.set(!0);return}(Eo.os.isMacOS()?b.metaKey:b.ctrlKey&&!b.altKey)&&t.beforeChange()}),e.on("mousedown",b=>{t.typing&&a(b)});const c=b=>b.inputType==="insertReplacementText",d=b=>b.inputType==="insertText"&&b.data===null,f=b=>b.inputType==="insertFromPaste"||b.inputType==="insertFromDrop";e.on("input",b=>{b.inputType&&(c(b)||d(b)||f(b))&&a(b)}),e.on("AddUndo Undo Redo ClearUndos",b=>{b.isDefaultPrevented()||e.nodeChanged()})},_8=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Q_=e=>{const t=Bl(),o=zn(0),s=zn(0),a={data:[],typing:!1,beforeChange:()=>{kS(e,o,t)},add:(c,d)=>CO(e,a,s,o,t,c,d),dispatchChange:()=>{e.setDirty(!0);const c=p2(e);c.bookmark=KC(e.selection),e.dispatch("change",{level:c,lastLevel:nn(a.data,s.get()).getOrUndefined()})},undo:()=>b2(e,a,o,s),redo:()=>lP(e,s,a.data),clear:()=>{cP(e,a,s)},reset:()=>{dP(e,a)},hasUndo:()=>uP(e,a,s),hasRedo:()=>mP(e,a,s),transact:c=>gP(e,a,o,c),ignore:c=>{fP(e,o,c)},extra:(c,d)=>{pP(e,a,s,c,d)}};return rm(e)||sI(e,a,o),_8(e),a},J_=[9,27,Bt.HOME,Bt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Bt.DOWN,Bt.UP,Bt.LEFT,Bt.RIGHT].concat(Eo.browser.isFirefox()?[224]:[]),QS="data-mce-placeholder",JS=e=>e.type==="keydown"||e.type==="keyup",C8=e=>{const t=e.keyCode;return t===Bt.BACKSPACE||t===Bt.DELETE},k8=e=>{if(JS(e)){const t=e.keyCode;return!C8(e)&&(Bt.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Ho(J_,t))}else return!1},rI=e=>JS(e)&&!(C8(e)||e.type==="keyup"&&e.keyCode===229),aI=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===s.nodeName.toLowerCase():!0}else return!1},eE=e=>{var t;const o=e.dom,s=Ua(e),a=(t=DA(e))!==null&&t!==void 0?t:"",c=(d,f)=>{if(k8(d))return;const b=e.getBody(),w=rI(d)?!1:aI(o,b,s);(o.getAttrib(b,QS)!==""!==w||f)&&(o.setAttrib(b,QS,w?a:null),kR(e,w),e.on(w?"keydown":"keyup",c),e.off(w?"keyup":"keydown",c))};Zr(a)&&e.on("init",d=>{c(d,!0),e.on("change SetContent ExecCommand",c),e.on("paste",f=>Ad.setEditorTimeout(e,()=>c(f)))})},iI=e=>t=>ze(t)&&t.nodeName.toLowerCase()===e,C2=e=>t=>ze(t)&&e.test(t.nodeName),vu=e=>ze(e)&&e.nodeType===3,tE=e=>ze(e)&&e.nodeType===1,zc=C2(/^(OL|UL|DL)$/),S8=C2(/^(OL|UL)$/),k2=C2(/^(LI|DT|DD)$/),lI=C2(/^(DT|DD)$/),N1=iI("br"),oE=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},nE=(e,t)=>ze(t)&&t.nodeName in e.schema.getTextBlockElements(),S2=(e,t)=>ze(e)&&e.nodeName in t,cI=(e,t)=>ze(t)&&t.nodeName in e.schema.getVoidElements(),E8=(e,t)=>N1(t)?e.isBlock(t.nextSibling)&&!N1(t.previousSibling):!1,M1=(e,t,o)=>{const s=e.isEmpty(t);return o&&e.select("span[data-mce-type=bookmark]",t).length>0?!1:s},A8=(e,t)=>e.isChildOf(t,e.getRoot()),sE=On.DOM,rE=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const s=o.previousSibling;s&&s.nodeName==="LI"?(s.appendChild(t),M1(e,o)&&sE.remove(o)):sE.setStyle(o,"listStyleType","none")}if(zc(o)){const s=o.previousSibling;s&&s.nodeName==="LI"&&s.appendChild(t)}},aE=(e,t)=>{const o=at.grep(e.select("ol,ul",t));at.each(o,s=>{rE(e,s)})},E2=(e,t)=>{if(vu(e))return{container:e,offset:t};const o=ag.getNode(e,t);return vu(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&vu(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&vu(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},iE=e=>{const t=e.cloneRange(),o=E2(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const s=E2(e.endContainer,e.endOffset);return t.setEnd(s.container,s.offset),t},T8=["OL","UL","DL"],D8=T8.join(","),Db=(e,t)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,D8,T2(e,o))},O8=(e,t)=>ze(e)&&t.length===1&&t[0]===e,dI=e=>mt(e.querySelectorAll(D8),zc),R8=e=>{const t=Db(e),o=e.selection.getSelectedBlocks();return O8(t,o)?dI(t):mt(o,s=>zc(s)&&t!==s)},A2=(e,t)=>{const o=at.map(t,s=>{const a=e.dom.getParent(s,"li,dd,dt",T2(e,s));return a||s});return mc(o)},eC=e=>{const t=e.selection.getSelectedBlocks();return mt(A2(e,t),k2)},uI=e=>mt(eC(e),lI),tC=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()},N8=(e,t)=>!zc(t)&&!k2(t)&&Mn(T8,o=>e.isValidChild(t.nodeName,o)),T2=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock),s=c=>c.nodeName.toLowerCase()!==Ua(e);return yn(o,c=>s(c)&&N8(e.schema,c)).getOr(e.getBody())},mI=e=>Gi(e).exists(t=>k2(t.dom)&&zl(t).exists(o=>!zc(o.dom))&&Xr(t).exists(o=>!zc(o.dom))),M8=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",T2(e,t));return zs(o)},gI=e=>{const t=M8(e,e.selection.getStart()),o=mt(e.selection.getSelectedBlocks(),S8);return t.toArray().concat(o)},B8=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",T2(e,t))},lE=e=>{const t=gI(e),o=B8(e);return yn(o,s=>mI(te.fromDom(s))).fold(()=>P8(e,t),s=>[s])},P8=(e,t)=>{const o=Ro(t,s=>M8(e,s).getOr(s));return mc(o)},D2=e=>/\btox\-/.test(e.className),cE=(e,t)=>t!==null&&!e.dom.isEditable(t),I8=e=>{const t=Db(e);return cE(e,t)||!e.selection.isEditable()},dE=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return cE(e,o)||!e.selection.isEditable()},Wp=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o}),uE=(e,t,o={})=>{const s=e.dom,a=e.schema.getBlockElements(),c=s.createFragment(),d=Ua(e),f=L0(e);let b,w,T=!1;for(w=s.create(d,{...f,...o.style?{style:o.style}:{}}),S2(t.firstChild,a)||c.appendChild(w);b=t.firstChild;){const R=b.nodeName;!T&&(R!=="SPAN"||b.getAttribute("data-mce-type")!=="bookmark")&&(T=!0),S2(b,a)?(c.appendChild(b),w=null):(w||(w=s.create(d,f),c.appendChild(w)),w.appendChild(b))}return!T&&w&&w.appendChild(s.create("br",{"data-mce-bogus":"1"})),c},Ob=e=>vm(e,"OL,UL"),fI=e=>vm(e,"LI"),L8=e=>zl(e).exists(Ob),hg=e=>Xr(e).exists(Ob),F8=(e,t)=>yk(e).map(o=>o>=t).getOr(!0),qp=e=>"listAttributes"in e,oC=e=>"isComment"in e,nC=e=>"isFragment"in e,z8=e=>e.depth>0,H8=e=>e.isSelected,pI=e=>{const t=en(e),o=hg(e)?t.slice(0,-1):t;return Ro(o,Mi)},V8=(e,t,o)=>Gi(e).filter(lr).map(s=>({depth:t,dirty:!1,isSelected:o,content:pI(e),itemAttributes:vc(e),listAttributes:vc(s),listType:Fo(s),isInPreviousLi:!1})),$8=(e,t)=>{ln(e.item,t.list)},U8=e=>{for(let t=1;t<e.length;t++)$8(e[t-1],e[t])},sC=(e,t)=>{ks(zs(e),Zn(t),$8)},mE=(e,t)=>{const o={list:te.fromTag(t,e),item:te.fromTag("li",e)};return ln(o.list,o.item),o},Z8=(e,t,o)=>{const s=[];for(let a=0;a<o;a++)s.push(mE(e,qp(t)?t.listType:t.parentListType));return s},j8=(e,t)=>{for(let o=0;o<e.length-1;o++)zg(e[o].item,"list-style-type","none");zs(e).each(o=>{qp(t)&&(Ki(o.list,t.listAttributes),Ki(o.item,t.itemAttributes)),Zs(o.item,t.content)})},hI=(e,t)=>{Fo(e.list)!==t.listType&&(e.list=Fg(e.list,t.listType)),Ki(e.list,t.listAttributes)},W8=(e,t,o)=>{const s=te.fromTag("li",e);return Ki(s,t),Zs(s,o),s},bI=(e,t)=>{ln(e.list,t),e.item=t},gE=(e,t,o)=>{const s=t.slice(0,o.depth);return zs(s).each(a=>{if(qp(o)){const c=W8(e,o.itemAttributes,o.content);bI(a,c),hI(a,o)}else if(nC(o))Zs(a.item,o.content);else{const c=te.fromHtml(`<!--${o.content}-->`);ln(a.list,c)}}),s},q8=(e,t,o)=>{const s=Z8(e,o,o.depth-t.length);return U8(s),j8(s,o),sC(t,s),t.concat(s)},G8=(e,t)=>{let o=I.none();const s=Lo(t,(a,c,d)=>oC(c)?d===0?(o=I.some(c),a):gE(e,a,c):c.depth>a.length?q8(e,a,c):gE(e,a,c),[]);return o.each(a=>{const c=te.fromHtml(`<!--${a.content}-->`);Zn(s).each(d=>{bc(d.list,c)})}),Zn(s).map(a=>a.list)},K8=(e,t,o)=>{switch(t){case"Indent":if(F8(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},Y8=(e,t)=>{qp(e)&&qp(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},X8=e=>{e.listAttributes=Tr(e.listAttributes,(t,o)=>o!=="start")},fE=(e,t)=>{const o=e[t].depth,s=c=>c.depth===o&&!c.dirty,a=c=>c.depth<o;return jc(da(e.slice(0,t)),s,a).orThunk(()=>jc(e.slice(t+1),s,a))},pE=e=>(Ze(e,(t,o)=>{fE(e,o).fold(()=>{t.dirty&&qp(t)&&X8(t)},s=>Y8(t,s))}),e),hE=(e,t,o,s)=>{var a;if(ox(s))return[{depth:e+1,content:(a=s.dom.nodeValue)!==null&&a!==void 0?a:"",dirty:!1,isSelected:!1,isComment:!0}];t.each(f=>{Jo(f.start,s)&&o.set(!0)});const c=V8(s,e,o.get());t.each(f=>{Jo(f.end,s)&&o.set(!1)});const d=Xr(s).filter(Ob).map(f=>O2(e,t,o,f)).getOr([]);return c.toArray().concat(d)},Q8=(e,t,o,s)=>zl(s).filter(Ob).fold(()=>hE(e,t,o,s),a=>{const c=Lo(en(s),(d,f,b)=>{if(b===0)return d;if(fI(f))return d.concat(hE(e,t,o,f));{const w={isFragment:!0,depth:e,content:[f],isSelected:!1,dirty:!1,parentListType:Fo(a)};return d.concat(w)}},[]);return O2(e,t,o,a).concat(c)}),O2=(e,t,o,s)=>sr(en(s),a=>{const c=Ob(a)?O2:Q8,d=e+1;return c(d,t,o,a)}),J8=(e,t)=>{const o=zn(!1),s=0;return Ro(e,a=>({sourceList:a,entries:O2(s,t,o,a)}))},e7=(e,t)=>{const o=pE(t);return Ro(o,s=>{const a=oC(s)?hr([te.fromHtml(`<!--${s.content}-->`)]):hr(s.content),c=qp(s)?s.itemAttributes:{};return te.fromDom(uE(e,a.dom,c))})},t7=(e,t)=>{const o=pE(t);return G8(e.contentDocument,o).toArray()},bE=(e,t)=>sr(Un(t,z8),o=>Zn(o).exists(z8)?t7(e,o):e7(e,o)),xE=(e,t,o)=>{Ze(mt(t,H8),s=>K8(e,o,s))},rC=e=>{const t=Ro(eC(e),te.fromDom);return ks(yn(t,we(L8)),yn(da(t),we(L8)),(o,s)=>({start:o,end:s}))},o7=(e,t,o)=>{const s=J8(t,rC(e));Ze(s,a=>{xE(e,a.entries,o);const c=bE(e,a.entries);Ze(c,d=>{Wp(e,o==="Indent"?"IndentList":"OutdentList",d.dom)}),Mu(a.sourceList,c),ls(a.sourceList)})},n7=e=>yk(e).forall(t=>{const o=e.selection.getSelectedBlocks();return Mn(o,s=>dd(te.fromDom(s),"li").forall(a=>Qi(a,"ol,ul").length<=t))}),Of=On.DOM,vE=(e,t,o)=>{const s=w=>{const T=w.parentNode;T&&at.each(a,R=>{T.insertBefore(R,o.parentNode)}),Of.remove(w)},a=Of.select('span[data-mce-type="bookmark"]',t),c=uE(e,o),d=Of.createRng();d.setStartAfter(o),d.setEndAfter(t);const f=d.extractContents();for(let w=f.firstChild;w;w=w.firstChild)if(w.nodeName==="LI"&&e.dom.isEmpty(w)){Of.remove(w);break}e.dom.isEmpty(f)||Of.insertAfter(f,t),Of.insertAfter(c,t);const b=o.parentElement;b&&M1(e.dom,b)&&s(b),Of.remove(o),M1(e.dom,t)&&Of.remove(t)},s7=Yr("dd"),yE=Yr("dt"),r7=(e,t)=>{s7(t)?Fg(t,"dt"):yE(t)&&ym(t).each(o=>vE(e,o.dom,t.dom))},xI=e=>{yE(e)&&Fg(e,"dd")},a7=(e,t,o)=>{t==="Indent"?Ze(o,xI):Ze(o,s=>r7(e,s))},i7=(e,t)=>{const o=gl(lE(e)),s=gl(uI(e));let a=!1;if(o.length||s.length){const c=e.selection.getBookmark();o7(e,o,t),a7(e,t,s),e.selection.moveToBookmark(c),e.selection.setRng(iE(e.selection.getRng())),e.nodeChanged(),a=!0}return a},Rb=(e,t)=>!I8(e)&&i7(e,t),wE=e=>Rb(e,"Indent"),aC=e=>Rb(e,"Outdent"),Nb=e=>Rb(e,"Flatten"),Mb=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},l7=(e,t,o)=>{const s=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",s)},c7=(e,t)=>{at.each(t,(o,s)=>{e.setAttribute(s,o)})},d7=(e,t,o)=>{c7(t,o["list-attributes"]),at.each(e.select("li",t),s=>{c7(s,o["list-item-attributes"])})},B1=(e,t,o)=>{l7(e,t,o),d7(e,t,o)},vI=(e,t,o)=>{at.each(o,s=>e.setStyle(t,s,""))},iC=(e,t)=>ze(t)&&!S2(t,e.schema.getBlockElements()),_E=(e,t,o,s)=>{let a=t[o?"startContainer":"endContainer"];const c=t[o?"startOffset":"endOffset"];tE(a)&&(a=a.childNodes[Math.min(c,a.childNodes.length-1)]||a),!o&&N1(a.nextSibling)&&(a=a.nextSibling);const d=b=>{for(;!e.dom.isBlock(b)&&b.parentNode&&s!==b;)b=b.parentNode;return b},f=(b,w)=>{var T;const R=new Qs(b,d(b)),N=w?"next":"prev";let F;for(;F=R[N]();)if(!(cI(e,F)||Di(F.textContent)||((T=F.textContent)===null||T===void 0?void 0:T.length)===0))return I.some(F);return I.none()};if(o&&vu(a))if(Di(a.textContent))a=f(a,!1).getOr(a);else for(a.parentNode!==null&&iC(e,a.parentNode)&&(a=a.parentNode);a.previousSibling!==null&&(iC(e,a.previousSibling)||vu(a.previousSibling));)a=a.previousSibling;if(!o&&vu(a))if(Di(a.textContent))a=f(a,!0).getOr(a);else for(a.parentNode!==null&&iC(e,a.parentNode)&&(a=a.parentNode);a.nextSibling!==null&&(iC(e,a.nextSibling)||vu(a.nextSibling));)a=a.nextSibling;for(;a.parentNode!==s;){const b=a.parentNode;if(nE(e,a)||/^(TD|TH)$/.test(b.nodeName))return a;a=b}return a},n=(e,t,o)=>{const s=[],a=e.dom,c=_E(e,t,!0,o),d=_E(e,t,!1,o);let f;const b=[];for(let w=c;w&&(b.push(w),w!==d);w=w.nextSibling);return at.each(b,w=>{var T;if(nE(e,w)){s.push(w),f=null;return}if(a.isBlock(w)||N1(w)){N1(w)&&a.remove(w),f=null;return}const R=w.nextSibling;if(X0.isBookmarkNode(w)&&(zc(R)||nE(e,R)||!R&&w.parentNode===o)){f=null;return}f||(f=a.create("p"),(T=w.parentNode)===null||T===void 0||T.insertBefore(f,w),s.push(f)),f.appendChild(w)}),s},r=(e,t,o)=>{const s=e.getStyle(t,"list-style-type");let a=o?o["list-style-type"]:"";return a=a===null?"":a,s===a},i=(e,t)=>{const o=e.selection.getStart(!0),s=_E(e,t,!0,e.getBody());return Zl(te.fromDom(s),te.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:o},l=(e,t,o)=>{const s=e.selection.getRng();let a="LI";const c=T2(e,i(e,s)),d=e.dom;if(d.getContentEditable(e.selection.getNode())==="false")return;t=t.toUpperCase(),t==="DL"&&(a="DT");const f=dg(s),b=mt(n(e,s,c),e.dom.isEditable);at.each(b,w=>{let T;const R=w.previousSibling,N=w.parentNode;k2(N)||(R&&zc(R)&&R.nodeName===t&&r(d,R,o)?(T=R,w=d.rename(w,a),R.appendChild(w)):(T=d.create(t),N.insertBefore(T,w),T.appendChild(w),w=d.rename(w,a)),vI(d,w,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),B1(d,T,o),v(e.dom,T))}),e.selection.setRng(tm(f))},u=(e,t)=>zc(e)&&e.nodeName===t?.nodeName,m=(e,t,o)=>{const s=e.getStyle(t,"list-style-type",!0),a=e.getStyle(o,"list-style-type",!0);return s===a},p=(e,t)=>e.className===t.className,x=(e,t,o)=>u(t,o)&&m(e,t,o)&&p(t,o),v=(e,t)=>{let o,s=t.nextSibling;if(x(e,t,s)){const a=s;for(;o=a.firstChild;)t.appendChild(o);e.remove(a)}if(s=t.previousSibling,x(e,t,s)){const a=s;for(;o=a.lastChild;)t.insertBefore(o,t.firstChild);e.remove(a)}},_=(e,t,o,s)=>{if(t.nodeName!==o){const a=e.dom.rename(t,o);B1(e.dom,a,s),Wp(e,Mb(o),a)}else B1(e.dom,t,s),Wp(e,Mb(o),t)},S=(e,t,o,s)=>{if(t.classList.forEach((a,c,d)=>{a.startsWith("tox-")&&(d.remove(a),d.length===0&&t.removeAttribute("class"))}),t.nodeName!==o){const a=e.dom.rename(t,o);B1(e.dom,a,s),Wp(e,Mb(o),a)}else B1(e.dom,t,s),Wp(e,Mb(o),t)},k=(e,t,o,s,a)=>{const c=zc(t);if(c&&t.nodeName===s&&!A(a)&&!D2(t))Nb(e);else{l(e,s,a);const d=dg(e.selection.getRng()),f=c?[t,...o]:o,b=c&&D2(t)?S:_;at.each(f,w=>{b(e,w,s,a)}),e.selection.setRng(tm(d))}},A=e=>"list-style-type"in e,M=(e,t,o,s)=>{if(t!==e.getBody())if(t)if(t.nodeName===o&&!A(s)&&!D2(t))Nb(e);else{const a=dg(e.selection.getRng());D2(t)&&t.classList.forEach((d,f,b)=>{d.startsWith("tox-")&&(b.remove(d),b.length===0&&t.removeAttribute("class"))}),B1(e.dom,t,s);const c=e.dom.rename(t,o);v(e.dom,c),e.selection.setRng(tm(a)),l(e,o,s),Wp(e,Mb(o),c)}else l(e,o,s),Wp(e,Mb(o),t)},P=(e,t,o)=>{const s=Db(e);if(dE(e,s))return;const a=R8(e),c=oe(o)?o:{};a.length>0?k(e,s,a,t,c):M(e,s,t,c)},q=(e,t,o,s)=>{let a=t.startContainer;const c=t.startOffset;if(vu(a)&&(o?c<a.data.length:c>0))return a;const d=e.schema.getNonEmptyElements();tE(a)&&(a=ag.getNode(a,c));const f=new Qs(a,s);o&&E8(e.dom,a)&&f.next();const b=o?f.next.bind(f):f.prev2.bind(f);for(;a=b();)if(a.nodeName==="LI"&&!a.hasChildNodes()||d[a.nodeName]||vu(a)&&a.data.length>0)return a;return null},U=(e,t)=>{const o=t.childNodes;return o.length===1&&!zc(o[0])&&e.isBlock(o[0])},j=e=>I.from(e).map(te.fromDom).filter(Kd).exists(t=>Yi(t)&&!Ho(["details"],Fo(t))),H=(e,t)=>{U(e,t)&&j(t.firstChild)&&e.remove(t.firstChild,!0)},V=(e,t,o)=>{let s;const a=U(e,o)?o.firstChild:o;if(H(e,t),!M1(e,t,!0))for(;s=t.firstChild;)a.appendChild(s)},Y=(e,t,o)=>{let s;const a=t.parentNode;if(!A8(e,t)||!A8(e,o))return;zc(o.lastChild)&&(s=o.lastChild),a===o.lastChild&&N1(a.previousSibling)&&e.remove(a.previousSibling);const c=o.lastChild;c&&N1(c)&&t.hasChildNodes()&&e.remove(c),M1(e,o,!0)&&Pu(te.fromDom(o)),V(e,t,o),s&&o.appendChild(s);const f=Rr(te.fromDom(o),te.fromDom(t))?e.getParents(t,zc,o):[];e.remove(t),Ze(f,b=>{M1(e,b)&&b!==e.getRoot()&&e.remove(b)})},J=(e,t,o)=>{Pu(te.fromDom(o)),Y(e.dom,t,o),e.selection.setCursorLocation(o,0)},de=(e,t,o,s)=>{const a=e.dom;if(a.isEmpty(s))J(e,o,s);else{const c=dg(t);Y(a,o,s),e.selection.setRng(tm(c))}},ce=(e,t,o,s)=>{const a=dg(t);Y(e.dom,o,s);const c=tm(a);e.selection.setRng(c)},pe=(e,t)=>{const o=e.dom,s=e.selection,a=s.getStart(),c=tC(e,a),d=o.getParent(s.getStart(),"LI",c);if(d){const f=d.parentElement;if(f===e.getBody()&&M1(o,f))return!0;const b=iE(s.getRng()),w=o.getParent(q(e,b,t,c),"LI",c),T=w&&(t?o.isChildOf(d,w):o.isChildOf(w,d));if(w&&w!==d&&!T)return e.undoManager.transact(()=>{t?de(e,b,w,d):oE(d)?aC(e):ce(e,b,d,w)}),!0;if(T&&!t&&w!==d){const R=b.commonAncestorContainer.parentElement;return!R||o.isChildOf(w,R)?!1:(e.undoManager.transact(()=>{const N=dg(b);V(o,R,w),R.remove();const F=tm(N);e.selection.setRng(F)}),!0)}else if(!w&&!t&&b.startOffset===0&&b.endOffset===0)return e.undoManager.transact(()=>{Nb(e)}),!0}return!1},Te=(e,t,o)=>{const s=e.getParent(t.parentNode,e.isBlock,o);e.remove(t),s&&e.isEmpty(s)&&e.remove(s)},Ve=(e,t)=>{const o=e.dom,s=e.selection.getStart(),a=tC(e,s),c=o.getParent(s,o.isBlock,a);if(c&&o.isEmpty(c,void 0,{checkRootAsContent:!0})){const d=iE(e.selection.getRng()),f=q(e,d,t,a),b=o.getParent(f,"LI",a);if(f&&b){const w=F=>Ho(["td","th","caption"],Fo(F)),T=F=>F.dom===a,R=Ii(te.fromDom(b),w,T),N=Ii(te.fromDom(d.startContainer),w,T);return Tu(R,N,Jo)?(e.undoManager.transact(()=>{const F=b.parentNode;Te(o,c,a),v(o,F),e.selection.select(f,!0),e.selection.collapse(t)}),!0):!1}}return!1},$e=(e,t)=>pe(e,t)||Ve(e,t),je=e=>{const t=e.selection.getStart(),o=tC(e,t),s=e.dom.getParent(t,"LI,DT,DD",o);return ze(s)||eC(e).length>0},it=e=>je(e)?(e.undoManager.transact(()=>{let t=!0;const o=()=>t=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),t&&e.dispatch("input"),aE(e.dom,e.getBody())}),!0):!1,Wt=(e,t)=>{const o=e.selection;return!dE(e,o.getNode())&&(o.isCollapsed()?$e(e,t):it(e))},Jt=(e,t)=>({block:e,position:t}),oo=(e,t)=>({from:e,to:t}),Bo=(e,t)=>{const o=te.fromDom(e),s=te.fromDom(t.container());return cb(o,s).map(a=>Jt(a,t))},En=e=>!(Rr(e.to.block,e.from.block)||Rr(e.from.block,e.to.block)),Xn=e=>!Jo(e.from.block,e.to.block),so=(e,t)=>Ii(t,a=>Wm(a)||hi(a.dom),a=>Jo(a,e)).filter(lr).getOr(e),Ln=(e,t)=>{const o=te.fromDom(e);return Jo(so(o,t.from.block),so(o,t.to.block))},fo=e=>Wn(e.from.block.dom)===!1&&Wn(e.to.block.dom)===!1,ps=e=>{const t=o=>Zh(o)||ta(o.dom)||cu(o);return t(e.from.block)&&t(e.to.block)},_n=(e,t,o,s)=>Ns(s.position.getNode())&&!Aa(e,s.block)?Cp(!1,s.block.dom).bind(a=>a.isEqual(s.position)?Bc(o,t,a).bind(c=>Bo(t,c)):I.some(s)).getOr(s):s,ia=(e,t,o,s)=>{const a=Bo(t,We.fromRangeStart(s)),c=a.bind(d=>Bc(o,t,d.position).bind(f=>Bo(t,f).map(b=>_n(e,t,o,b))));return ks(a,c,oo).filter(d=>Xn(d)&&Ln(t,d)&&fo(d)&&ps(d)&&En(d))},is=(e,t,o,s)=>s.collapsed?ia(e,t,o,s):I.none(),Al=(e,t)=>{const o=en(e);return Rs(o,s=>t.isBlock(Fo(s))).fold(dt(o),s=>o.slice(0,s))},ii=(e,t)=>{const o=Al(e,t);return Ze(o,ls),o},Ui=(e,t,o)=>{const s=lg(o,t);return yn(s.reverse(),a=>Aa(e,a)).each(ls)},Rf=(e,t)=>mt(vs(t),o=>!Aa(e,o)).length===0,Bb=(e,t,o,s,a)=>{if(Aa(s,o))return Rc(o),cn(o.dom);Rf(s,a)&&Aa(s,t)&&ea(a,te.fromTag("br"));const c=tc(o.dom,We.before(a.dom));return Ze(ii(t,s),d=>{ea(a,d)}),Ui(s,e,t),c},lC=(e,t)=>e.isInline(Fo(t)),im=(e,t,o,s)=>{if(Aa(s,o)){if(Aa(s,t)){const d=dn((f=>{const b=(w,T)=>zl(w).fold(()=>T,R=>lC(s,R)?b(R,T.concat(id(R))):T);return b(f,[])})(o),(f,b)=>(fr(f,b),b),rf());Pu(t),ln(t,d)}return ls(o),cn(t.dom)}const a=Cl(o.dom);return Ze(ii(t,s),c=>{ln(o,c)}),Ui(s,e,t),a},P1=(e,t)=>{const o=lg(t,e);return I.from(o[o.length-1])},bg=(e,t)=>Rr(t,e)?P1(t,e):I.none(),I1=(e,t)=>{Cp(e,t.dom).bind(o=>I.from(o.getNode())).map(te.fromDom).filter(wd).each(ls)},L1=(e,t,o,s)=>(I1(!0,t),I1(!1,o),bg(t,o).fold(He(im,e,t,o,s),He(Bb,e,t,o,s))),Nf=(e,t,o,s,a)=>t?L1(e,s,o,a):L1(e,o,s,a),Gp=(e,t)=>{const o=te.fromDom(e.getBody());return is(e.schema,o.dom,t,e.selection.getRng()).map(a=>()=>{Nf(o,t,a.from.block,a.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},F1=(e,t,o)=>{const s=t.getRng();return ks(cb(e,te.fromDom(s.startContainer)),cb(e,te.fromDom(s.endContainer)),(a,c)=>Jo(a,c)?I.none():I.some(()=>{s.deleteContents(),Nf(e,!0,a,c,o).each(d=>{t.setRng(d.toRange())})})).getOr(I.none())},Pb=(e,t)=>{const o=te.fromDom(t),s=He(Jo,e);return ti(o,Wm,s).isSome()},R2=(e,t)=>Pb(e,t.startContainer)||Pb(e,t.endContainer),Ib=(e,t)=>{const o=tc(e.dom,We.fromRangeStart(t)).isNone(),s=_l(e.dom,We.fromRangeEnd(t)).isNone();return!R2(e,t)&&o&&s},Kp=e=>I.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),fn=e=>{const t=te.fromDom(e.getBody()),o=e.selection.getRng();return Ib(t,o)?Kp(e):F1(t,e.selection,e.schema)},Hc=(e,t)=>e.selection.isCollapsed()?I.none():fn(e),_i=(e,t,o,s,a)=>I.from(t._selectionOverrides.showCaret(e,o,s,a)),u7=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Lb=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?I.none():I.some(u7(t)),CE=(e,t,o)=>{const s=Jy(1,e.getBody(),t),a=We.fromRangeStart(s),c=a.getNode();if($0(c))return _i(1,e,c,!a.isAtEnd(),!1);const d=a.getNode(!0);if($0(d))return _i(1,e,d,!1,!1);const f=Bp(e.dom.getRoot(),a.getNode());return $0(f)?_i(1,e,f,!1,o):I.none()},cC=(e,t,o)=>t.collapsed?CE(e,t,o).getOr(t):t,dC=e=>ig(e)||Dp(e),uC=e=>Ju(e)||d1(e),Mf=(e,t)=>{ut(t)&&t.data.length===0&&e.remove(t)},z1=(e,t,o,s,a,c)=>{_i(s,e,c.getNode(!a),a,!0).each(d=>{if(t.collapsed){const f=t.cloneRange();a?f.setEnd(d.startContainer,d.startOffset):f.setStart(d.endContainer,d.endOffset),f.deleteContents()}else t.deleteContents();e.selection.setRng(d)}),Mf(e.dom,o)},kE=(e,t)=>{const o=e.selection.getRng();if(!ut(o.commonAncestorContainer))return I.none();const s=t?1:-1,a=Xu(e.getBody()),c=He(Dk,t?a.next:a.prev),d=t?dC:uC,f=j0(s,e.getBody(),o),b=c(f),w=b&&yr(t,b);if(!w||!ew(f,w))return I.none();if(d(w))return I.some(()=>z1(e,o,f.getNode(),s,t,w));const T=c(w);return T&&d(T)&&ew(w,T)?I.some(()=>z1(e,o,f.getNode(),s,t,T)):I.none()},N2=(e,t)=>kE(e,t),SE=(e,t)=>{const o=e.getBody();return t?cn(o).filter(ig):Cl(o).filter(Ju)},Fb=e=>{const t=e.selection.getRng();return!t.collapsed&&(SE(e,!0).exists(o=>o.isEqual(We.fromRangeStart(t)))||SE(e,!1).exists(o=>o.isEqual(We.fromRangeEnd(t))))},mC=e=>ze(e)&&(Wm(te.fromDom(e))||cu(te.fromDom(e))),Vc=il.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),M2=(e,t)=>{const o=t.getNode(!e),s=e?"after":"before";return jt(o)&&o.getAttribute("data-mce-caret")===s},yI=(e,t,o,s,a)=>{const c=d=>a.isInline(d.nodeName.toLowerCase())&&!Jm(o,s,e);return Tk(!t,o).fold(()=>Tk(t,s).fold(_o,c),c)},Ci=(e,t,o,s,a)=>{const c=a.getNode(!o);return cb(te.fromDom(t),te.fromDom(s.getNode())).map(d=>Aa(e,d)?Vc.remove(d.dom):Vc.moveToElement(c)).orThunk(()=>I.some(Vc.moveToElement(c)))},H1=(e,t,o,s)=>Bc(t,e,o).bind(a=>mC(a.getNode())||yI(e,t,o,a,s)?I.none():t&&Wn(a.getNode())||!t&&Wn(a.getNode(!0))?Ci(s,e,t,o,a):t&&Ju(o)||!t&&ig(o)?I.some(Vc.moveToPosition(a)):I.none()),wI=(e,t)=>Yo(t)?I.none():e&&Wn(t.nextSibling)?I.some(Vc.moveToElement(t.nextSibling)):!e&&Wn(t.previousSibling)?I.some(Vc.moveToElement(t.previousSibling)):I.none(),m7=(e,t,o)=>o.fold(s=>I.some(Vc.remove(s)),s=>I.some(Vc.moveToElement(s)),s=>Jm(t,s,e)?I.none():I.some(Vc.moveToPosition(s))),EE=(e,t,o,s)=>M2(t,o)?wI(t,o.getNode(!t)).orThunk(()=>H1(e,t,o,s)):H1(e,t,o,s).bind(a=>m7(e,o,a)),g7=(e,t,o,s)=>{const a=Jy(t?1:-1,e,o),c=We.fromRangeStart(a),d=te.fromDom(e);return!t&&Ju(c)?I.some(Vc.remove(c.getNode(!0))):t&&ig(c)?I.some(Vc.remove(c.getNode())):!t&&ig(c)&&Dv(d,c,s)?_4(d,c,s).map(f=>Vc.remove(f.getNode())):t&&Ju(c)&&Rw(d,c,s)?IT(d,c,s).map(f=>Vc.remove(f.getNode())):EE(e,t,c,s)},f7=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),gu(e,t,te.fromDom(o)),!0),xg=(e,t)=>o=>{const s=t?We.before(o):We.after(o);return e.selection.setRng(s.toRange()),!0},zb=e=>t=>(e.selection.setRng(t.toRange()),!0),AE=(e,t)=>I.from(Bp(e.getBody(),t)),p7=(e,t)=>{const o=e.selection.getNode();return AE(e,o).filter(Wn).fold(()=>g7(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(f7(e,t),xg(e,t),zb(e))),()=>I.some(Do))},TE=e=>{Ze(Wr(e,".mce-offscreen-selection"),ls)},h7=(e,t)=>{const o=e.selection.getNode();return Wn(o)&&!Wg(o)?AE(e,o.parentNode).filter(Wn).fold(()=>I.some(()=>{TE(te.fromDom(e.getBody())),gu(e,t,te.fromDom(e.selection.getNode())),Pv(e)}),()=>I.some(Do)):Fb(e)?I.some(()=>{YT(e,e.selection.getRng(),te.fromDom(e.getBody()))}):I.none()},vg=e=>{const t=e.dom,o=e.selection,s=Bp(e.getBody(),o.getNode());if(hi(s)&&t.isBlock(s)&&t.isEmpty(s)){const a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(a),o.setRng(We.before(a).toRange())}return!0},gC=(e,t)=>e.selection.isCollapsed()?p7(e,t):h7(e,t),fC=(e,t)=>{var o;const s=e.dom,a=s.getParent(e.selection.getStart(),s.isBlock),c=s.getParent(e.selection.getEnd(),s.isBlock),d=e.getBody();if(((o=a?.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&a&&c&&a===d.firstChild&&c===d.lastChild&&!s.isEmpty(d)){const b=a.cloneNode(!1),w=()=>{if(t?cg(e):zw(e),d.firstChild!==a){const T=dg(e.selection.getRng(),()=>document.createElement("span"));Array.from(d.childNodes).forEach(R=>b.appendChild(R)),d.appendChild(b),e.selection.setRng(tm(T))}};return I.some(w)}return I.none()},b7=(e,t)=>{const o=We.fromRangeStart(e.selection.getRng());return Bc(t,e.getBody(),o).filter(s=>t?TT(s):DT(s)).bind(s=>nl(t?0:-1,s)).map(s=>()=>e.selection.select(s))},pC=(e,t)=>e.selection.isCollapsed()?b7(e,t):I.none(),Hb=ut,Oe=e=>Hb(e)&&e.data[0]===zr,Po=e=>Hb(e)&&e.data[e.data.length-1]===zr,bo=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(zr)},ws=e=>{var t;if(Hb(e.previousSibling))return Po(e.previousSibling)||e.previousSibling.appendData(zr),e.previousSibling;if(Hb(e))return Oe(e)||e.insertData(0,zr),e;{const o=bo(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},Gs=e=>{var t,o;if(Hb(e.nextSibling))return Oe(e.nextSibling)||e.nextSibling.insertData(0,zr),e.nextSibling;if(Hb(e))return Po(e)||e.appendData(zr),e;{const s=bo(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(s),s}},$n=(e,t)=>e?ws(t):Gs(t),ki=He($n,!0),Yp=He($n,!1),lm=(e,t)=>ut(e.container())?$n(t,e.container()):$n(t,e.getNode()),hC=(e,t)=>{const o=t.get();return o&&e.container()===o&&qm(o)},Zi=(e,t)=>t.fold(o=>{yp(e.get());const s=ki(o);return e.set(s),I.some(We(s,s.length-1))},o=>cn(o).map(s=>{if(hC(s,e)){const a=e.get();return We(a,1)}else{yp(e.get());const a=lm(s,!0);return e.set(a),We(a,1)}}),o=>Cl(o).map(s=>{if(hC(s,e)){const a=e.get();return We(a,a.length-1)}else{yp(e.get());const a=lm(s,!1);return e.set(a),We(a,a.length-1)}}),o=>{yp(e.get());const s=Yp(o);return e.set(s),I.some(We(s,1))}),DE=(e,t)=>{for(let o=0;o<e.length;o++){const s=e[o].apply(null,t);if(s.isSome())return s}return I.none()},ji=il.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),QL=(e,t)=>{const o=wp(t,e);return o||e},v$=(e,t,o)=>{const s=lb(o),a=QL(t,s.container());return Mp(e,a,s).fold(()=>_l(a,s).bind(He(Mp,e,a)).map(c=>ji.before(c)),I.none)},y$=(e,t)=>Xh(e,t)===null,JL=(e,t,o)=>Mp(e,t,o).filter(He(y$,t)),w$=(e,t,o)=>{const s=H4(o);return JL(e,t,s).bind(a=>tc(a,s).isNone()?I.some(ji.start(a)):I.none())},_$=(e,t,o)=>{const s=lb(o);return JL(e,t,s).bind(a=>_l(a,s).isNone()?I.some(ji.end(a)):I.none())},C$=(e,t,o)=>{const s=H4(o),a=QL(t,s.container());return Mp(e,a,s).fold(()=>tc(a,s).bind(He(Mp,e,a)).map(c=>ji.after(c)),I.none)},eF=e=>!z4(_I(e)),Xp=(e,t,o)=>DE([v$,w$,_$,C$],[e,t,o]).filter(eF),_I=e=>e.fold(vn,vn,vn,vn),tF=e=>e.fold(dt("before"),dt("start"),dt("end"),dt("after")),x7=e=>e.fold(ji.before,ji.before,ji.after,ji.after),CI=e=>e.fold(ji.start,ji.start,ji.end,ji.end),k$=(e,t)=>tF(e)===tF(t)&&_I(e)===_I(t),S$=(e,t,o,s,a,c)=>ks(Mp(t,o,s),Mp(t,o,a),(d,f)=>d!==f&&mM(o,d,f)?ji.after(e?d:f):c).getOr(c),E$=(e,t)=>e.fold(Vo,o=>!k$(o,t)),A$=(e,t,o,s,a)=>{const c=yr(e,a);return Bc(e,o,c).map(He(yr,e)).fold(()=>s.map(x7),b=>Xp(t,o,b).map(He(S$,e,t,o,c,b)).filter(He(E$,s))).filter(eF)},T$=(e,t)=>e?t.fold(Fn(I.some,ji.start),I.none,Fn(I.some,ji.after),I.none):t.fold(I.none,Fn(I.some,ji.before),I.none,Fn(I.some,ji.end)),D$=(e,t,o,s)=>{const a=yr(e,s),c=Xp(t,o,a);return Xp(t,o,a).bind(He(T$,e)).orThunk(()=>A$(e,t,o,c,s))},O$=e=>no(e.selection.getSel().modify),oF=(e,t,o)=>{const s=e?1:-1;return t.setRng(We(o.container(),o.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},R$=(e,t)=>{const o=t.selection.getRng(),s=e?We.fromRangeEnd(o):We.fromRangeStart(o);return O$(t)?e&&gp(s)?oF(!0,t.selection,s):!e&&fp(s)?oF(!1,t.selection,s):!1:!1};var Qp;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Qp||(Qp={}));const v7=(e,t)=>e===-1?da(t):t,N$=(e,t,o)=>e===1?t.next(o):t.prev(o),M$=(e,t,o,s)=>Ns(s.getNode(t===1))?Qp.Br:Jm(o,s)===!1?Qp.Block:Qp.Wrap,nF=(e,t,o,s)=>{const a=Xu(o);let c=s;const d=[];for(;c;){const f=N$(t,a,c);if(!f)break;if(Ns(f.getNode(!1)))return t===1?{positions:v7(t,d).concat([f]),breakType:Qp.Br,breakAt:I.some(f)}:{positions:v7(t,d),breakType:Qp.Br,breakAt:I.some(f)};if(!f.isVisible()){c=f;continue}if(e(c,f)){const b=M$(o,t,c,f);return{positions:v7(t,d),breakType:b,breakAt:I.some(f)}}d.push(f),c=f}return{positions:v7(t,d),breakType:Qp.Eol,breakAt:I.none()}},sF=(e,t,o,s)=>t(o,s).breakAt.map(a=>{const c=t(o,a).positions;return e===-1?c.concat(a):[a].concat(c)}).getOr([]),kI=(e,t)=>Lo(e,(o,s)=>o.fold(()=>I.some(s),a=>ks(Zn(a.getClientRects()),Zn(s.getClientRects()),(c,d)=>{const f=Math.abs(t-c.left);return Math.abs(t-d.left)<=f?s:a}).or(o)),I.none()),y7=(e,t)=>Zn(t.getClientRects()).bind(o=>kI(e,o.left)),OE=He(nF,We.isAbove,-1),RE=He(nF,We.isBelow,1),rF=He(sF,-1,OE),aF=He(sF,1,RE),SI=(e,t)=>OE(e,t).breakAt.isNone(),EI=(e,t)=>RE(e,t).breakAt.isNone(),B$=e=>cn(e).map(t=>[t].concat(RE(e,t).positions)).getOr([]),P$=e=>Cl(e).map(t=>OE(e,t).positions.concat(t)).getOr([]),iF=(e,t)=>y7(rF(e,t),t),lF=(e,t)=>y7(aF(e,t),t),I$=Wn,cF=(e,t)=>Math.abs(e.left-t),dF=(e,t)=>Math.abs(e.right-t),L$=e=>ke(e,"node"),uF=(e,t)=>Qc(e,(o,s)=>{const a=Math.min(cF(o,t),dF(o,t)),c=Math.min(cF(s,t),dF(s,t));return c===a&&L$(s)&&I$(s.node)||c<a?s:o}),F$=e=>{const t=o=>Ro(o,s=>{const a=g(s);return a.node=e,a});if(jt(e))return t(e.getClientRects());if(ut(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},mF=e=>sr(e,F$);var B2;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(B2||(B2={}));const z$=(e,t,o,s)=>{let a=s;for(;a=rv(a,e,Ra,t);)if(o(a))return},gF=(e,t,o,s,a,c)=>{let d=0;const f=[],b=R=>{let N=mF([R]);e===B2.Up&&(N=N.reverse());for(let F=0;F<N.length;F++){const ee=N[F];if(!o(ee,w)){if(f.length>0&&t(ee,$(f))&&d++,ee.line=d,a(ee))return!0;f.push(ee)}}return!1},w=$(c.getClientRects());if(!w)return f;const T=c.getNode();return T&&(b(T),z$(e,s,b,T)),f},H$=(e,t)=>t.line>e,V$=(e,t)=>t.line===e,$$=He(gF,B2.Up,D,O),U$=He(gF,B2.Down,O,D),fF=e=>$(e.getClientRects()),Z$=(e,t,o,s)=>{const a=Xu(t);let c,d,f,b;const w=[];let T=0;e===B2.Down?(c=a.next,d=O,f=D,b=We.after(s)):(c=a.prev,d=D,f=O,b=We.before(s));const R=fF(b);do{if(!b.isVisible())continue;const N=fF(b);if(f(N,R))continue;w.length>0&&d(N,$(w))&&T++;const F=g(N);if(F.position=b,F.line=T,o(F))return w;w.push(F)}while(b=c(b));return w},pF=e=>t=>H$(e,t),AI=e=>t=>V$(e,t),Jp=(e,t)=>{e.selection.setRng(t),Cv(e,e.selection.getRng())},TI=(e,t,o)=>I.some(cC(e,t,o)),hF=(e,t,o,s,a,c)=>{const d=t===1,f=Xu(e.getBody()),b=He(Dk,d?f.next:f.prev),w=d?s:a;if(!o.collapsed){const ee=he(o);if(c(ee))return _i(t,e,ee,t===-1,!1);if(Fb(e)){const X=o.cloneRange();return X.collapse(t===-1),I.from(X)}}const T=j0(t,e.getBody(),o);if(w(T))return Lb(e,T.getNode(!d));let R=b(T);const N=qx(o);if(R)R=yr(d,R);else return N?I.some(o):I.none();if(w(R))return _i(t,e,R.getNode(!d),d,!1);const F=b(R);return F&&w(F)&&ew(R,F)?_i(t,e,F.getNode(!d),d,!1):N?TI(e,R.toRange(),!1):I.none()},bF=(e,t,o,s,a,c)=>{const d=j0(t,e.getBody(),o),f=$(d.getClientRects()),b=t===B2.Down,w=e.getBody();if(!f)return I.none();if(Fb(e)){const G=b?We.fromRangeEnd(o):We.fromRangeStart(o);return(b?lF:iF)(w,G).orThunk(()=>I.from(G)).map(be=>be.toRange())}const R=(b?U$:$$)(w,pF(1),d),N=mt(R,AI(1)),F=f.left,ee=uF(N,F);if(ee&&c(ee.node)){const G=Math.abs(F-ee.left),xe=Math.abs(F-ee.right);return _i(t,e,ee.node,G<xe,!1)}let X;if(s(d)?X=d.getNode():a(d)?X=d.getNode(!0):X=he(o),X){const G=Z$(t,w,pF(1),X);let xe=uF(mt(G,AI(1)),F);if(xe||(xe=$(mt(G,AI(0))),xe))return TI(e,xe.position.toRange(),!1)}return N.length===0?DI(e,b).filter(b?a:s).map(G=>cC(e,G.toRange(),!1)):I.none()},DI=(e,t)=>{const o=e.selection.getRng(),s=t?We.fromRangeEnd(o):We.fromRangeStart(o),a=vi(s.container(),e.getBody());if(t){const c=RE(a,s);return zs(c.positions)}else{const c=OE(a,s);return Zn(c.positions)}},xF=(e,t,o)=>DI(e,t).filter(o).exists(s=>(e.selection.setRng(s.toRange()),!0)),w7=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},vF=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},yF=(e,t,o)=>Zi(t,o).map(s=>(w7(e,s),o)),j$=(e,t,o)=>{const s=We.fromRangeStart(e);if(e.collapsed)return s;{const a=We.fromRangeEnd(e);return o?tc(t,a).getOr(a):_l(t,s).getOr(s)}},W$=(e,t,o)=>{const s=e.getBody(),a=j$(e.selection.getRng(),s,o),c=He(Cf,e);return D$(o,c,s,a).bind(f=>yF(e,t,f))},q$=(e,t,o)=>{const s=Ro(Wr(te.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),d=>d.dom),a=mt(s,e),c=mt(o,e);Ze(Ol(a,c),He(vF,!1)),Ze(Ol(c,a),He(vF,!0))},G$=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const s=We.fromRangeStart(e.selection.getRng());We.isTextPosition(s)&&!em(s)&&(w7(e,Yy(o,s)),t.set(null))}},K$=(e,t,o,s)=>{if(t.selection.isCollapsed()){const a=mt(s,e);Ze(a,c=>{const d=We.fromRangeStart(t.selection.getRng());Xp(e,t.getBody(),d).bind(f=>yF(t,o,f))})}},wF=(e,t,o)=>ec(e)?W$(e,t,o).isSome():!1,_F=(e,t,o)=>ec(t)?R$(e,t):!1,Y$=e=>{const t=zn(null),o=He(Cf,e);return e.on("NodeChange",s=>{ec(e)&&(q$(o,e.dom,s.parents),G$(e,t),K$(o,e,t,s.parents))}),t},X$=He(_F,!0),Q$=He(_F,!1),_7=(e,t,o)=>{if(ec(e)){const s=DI(e,t).getOrThunk(()=>{const a=e.selection.getRng();return t?We.fromRangeEnd(a):We.fromRangeStart(a)});return Xp(He(Cf,e),e.getBody(),s).exists(a=>{const c=x7(a);return Zi(o,c).exists(d=>(w7(e,d),!0))})}else return!1},J$=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},eU=e=>ks(cn(e),Cl(e),(t,o)=>{const s=yr(!0,t),a=yr(!1,o);return _l(e,s).forall(c=>c.isEqual(a))}).getOr(!0),CF=(e,t)=>o=>Zi(t,o).map(s=>()=>w7(e,s)),kF=(e,t,o,s)=>{const a=e.getBody(),c=He(Cf,e);e.undoManager.ignore(()=>{e.selection.setRng(J$(o,s)),zw(e),Xp(c,a,We.fromRangeStart(e.selection.getRng())).map(CI).bind(CF(e,t)).each(Co)}),e.nodeChanged()},tU=(e,t)=>{const o=wp(t,e);return o||e},oU=(e,t,o,s)=>{const a=tU(e.getBody(),s.container()),c=He(Cf,e),d=Xp(c,a,s);return d.bind(b=>o?b.fold(dt(I.some(CI(b))),I.none,dt(I.some(x7(b))),I.none):b.fold(I.none,dt(I.some(x7(b))),I.none,dt(I.some(CI(b))))).map(CF(e,t)).getOrThunk(()=>{const b=W0(o,a,s),w=b.bind(T=>Xp(c,a,T));return ks(d,w,()=>Mp(c,a,s).bind(T=>eU(T)?I.some(()=>{gu(e,o,te.fromDom(T))}):I.none())).getOrThunk(()=>w.bind(()=>b.map(T=>()=>{o?kF(e,t,s,T):kF(e,t,T,s)})))})},OI=(e,t,o)=>{if(e.selection.isCollapsed()&&ec(e)){const s=We.fromRangeStart(e.selection.getRng());return oU(e,t,o,s)}return I.none()},nU=e=>Kf(e)>1,SF=(e,t)=>{const o=te.fromDom(e.getBody()),s=te.fromDom(e.selection.getStart()),a=lg(s,o);return Rs(a,t).fold(dt(a),c=>a.slice(0,c))},sU=e=>Kf(e)===1,rU=e=>SF(e,t=>e.schema.isBlock(Fo(t))||nU(t)),aU=e=>SF(e,t=>e.schema.isBlock(Fo(t))),EF=(e,t)=>{const o=He(o_,e);return sr(t,s=>o(s)?[s.dom]:[])},RI=e=>{const t=aU(e);return EF(e,t)},iU=(e,t,o,s)=>{const a=EF(t,s);if(a.length===0)gu(t,e,o);else{const c=t_(o.dom,a);t.selection.setRng(c.toRange())}},lU=(e,t)=>{const o=mt(rU(e),sU);return zs(o).bind(s=>{const a=We.fromRangeStart(e.selection.getRng());return KT(t,a,s.dom)&&!fw(s)?I.some(()=>iU(t,e,s,o)):I.none()})},cU=(e,t)=>{const o=t.parentElement;return Ns(t)&&!rn(o)&&e.dom.isEmpty(o)},dU=e=>fw(te.fromDom(e)),AF=(e,t)=>{const o=e.selection.getStart(),s=cU(e,o)||dU(o)?t_(o,t):p1(e.selection.getRng(),t);e.selection.setRng(s.toRange())},TF=(e,t)=>{const o=Ol(t,RI(e));o.length>0&&AF(e,o)},DF=e=>ut(e.startContainer),uU=e=>e.startOffset===0&&DF(e),mU=(e,t)=>{const o=t.startContainer.parentElement;return!rn(o)&&o_(e,te.fromDom(o))},gU=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!rn(t)&&!rn(o)&&t.isEqualNode(o)},fU=e=>{const t=e.endContainer;return e.endOffset===(ut(t)?t.length:t.childNodes.length)},pU=e=>gU(e)&&fU(e),hU=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),bU=e=>pU(e)||hU(e),xU=e=>{const t=e.selection.getRng();return uU(t)&&mU(e,t)&&bU(t)},vU=e=>{if(xU(e)){const t=RI(e);return I.some(()=>{zw(e),TF(e,t)})}else return I.none()},NI=(e,t)=>e.selection.isCollapsed()?lU(e,t):vU(e),yU=(e,t)=>eu(e,o=>Pc(o.dom),o=>t.isBlock(Fo(o))),wU=e=>yU(te.fromDom(e.selection.getStart()),e.schema),_U=e=>{const t=e.selection.getRng();return t.collapsed&&(DF(t)||e.dom.isEmpty(t.startContainer))&&!wU(e)},NE=e=>(_U(e)&&AF(e,[]),!0),MI=(e,t,o)=>ze(o)?I.some(()=>{e._selectionOverrides.hideFakeCaret(),gu(e,t,te.fromDom(o))}):I.none(),CU=(e,t)=>{const o=t?Dp:d1,a=j0(t?1:-1,e.getBody(),e.selection.getRng());return o(a)?MI(e,t,a.getNode(!t)):I.from(yr(t,a)).filter(c=>o(c)&&ew(a,c)).bind(c=>MI(e,t,c.getNode(!t)))},kU=(e,t)=>{const o=e.selection.getNode();return bi(o)?MI(e,t,o):I.none()},BI=(e,t)=>e.selection.isCollapsed()?CU(e,t):kU(e,t),SU=e=>Ii(e,t=>hi(t.dom)||Wn(t.dom)).exists(t=>hi(t.dom)),PI=e=>Du(e??"").getOr(0),OF=(e,t)=>{const o=e||Ux(t)?"margin":"padding",s=fl(t,"direction")==="rtl"?"-right":"-left";return o+s},EU=(e,t,o,s,a,c)=>{const d=OF(o,te.fromDom(c)),f=PI(e.getStyle(c,d));if(t==="outdent"){const b=Math.max(0,f-s);e.setStyle(c,d,b?b+a:"")}else{const b=f+s+a;e.setStyle(c,d,b)}},AU=(e,t)=>Pa(t,o=>{const s=OF(ik(e),o),a=Sm(o,s).map(PI).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&a>0}),RF=e=>{const t=MF(e);return!e.mode.isReadOnly()&&(t.length>1||AU(e,t))},TU=e=>!e.mode.isReadOnly()&&n7(e),NF=e=>lu(e)||cu(e),DU=e=>Gi(e).exists(NF),MF=e=>mt(gl(e.selection.getSelectedBlocks()),t=>!NF(t)&&!DU(t)&&SU(t)),BF=(e,t)=>{var o,s;if(e.mode.isReadOnly())return;const{dom:a}=e,c=LR(e),d=(s=(o=/[a-z%]+$/i.exec(c))===null||o===void 0?void 0:o[0])!==null&&s!==void 0?s:"px",f=PI(c),b=ik(e);Ze(MF(e),w=>{EU(a,t,b,f,d,w.dom)}),t==="indent"?wE(e):aC(e)},OU=e=>BF(e,"indent"),PF=e=>BF(e,"outdent"),IF=e=>{if(e.selection.isCollapsed()&&RF(e)){const t=e.dom,o=e.selection.getRng(),s=We.fromRangeStart(o),a=t.getParent(o.startContainer,t.isBlock);if(a!==null&&w4(te.fromDom(a),s,e.schema))return I.some(()=>PF(e))}return I.none()},RU=(e,t)=>{const o=hb(e.selection.getRng());return k5(o)?I.some(()=>gu(e,t,te.fromDom(e.selection.getNode()))):I.none()},II=(e,t)=>e.selection.isCollapsed()?I.none():RU(e,t),LF=(e,t,o)=>Ai([IF,gC,N2,(s,a)=>OI(s,t,a),Gp,f1,pC,BI,Hc,NI,fC,II],s=>s(e,o)).filter(s=>e.selection.isEditable()),LI=(e,t)=>{LF(e,t,!1).fold(()=>{e.selection.isEditable()&&(zw(e),Pv(e))},Co),je(e)&&aE(e.dom,e.getBody())},NU=(e,t)=>{LF(e,t,!0).fold(()=>{e.selection.isEditable()&&cg(e)},Co),je(e)&&aE(e.dom,e.getBody())},MU=(e,t)=>{e.addCommand("delete",()=>{LI(e,t)}),e.addCommand("forwardDelete",()=>{NU(e,t)})},FF=5,BU=400,zF=e=>e.touches===void 0||e.touches.length!==1?I.none():I.some(e.touches[0]),PU=(e,t)=>{const o=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return o>FF||s>FF},IU=e=>{const t=Bl(),o=zn(!1),s=Vd(a=>{e.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},BU);e.on("touchstart",a=>{zF(a).each(c=>{s.cancel();const d={x:c.clientX,y:c.clientY,target:a.target};s.throttle(a),o.set(!1),t.set(d)})},!0),e.on("touchmove",a=>{s.cancel(),zF(a).each(c=>{t.on(d=>{PU(c,d)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{s.cancel(),a.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},FI=(e,t)=>xo(e,t.nodeName),LU=(e,t)=>ut(t)?!0:jt(t)?!FI(e.getBlockElements(),t)&&!Ed(t)&&!Uu(e,t)&&!qg(t)&&!Ea(t):!1,FU=(e,t,o)=>Mn(v4(te.fromDom(o),te.fromDom(t)),s=>FI(e,s.dom)),zU=(e,t)=>{if(ut(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||FI(e,t.nextSibling)||qg(t.nextSibling)}return!1},zI=e=>e.dom.create(Ua(e),L0(e)),HU=e=>{const t=e.dom,o=e.selection,s=e.schema,a=s.getBlockElements(),c=o.getStart(),d=e.getBody();let f,b,w=null;const T=Ua(e);if(!c||!jt(c))return;const R=d.nodeName.toLowerCase();if(!s.isValidChild(R,T.toLowerCase())||FU(a,d,c))return;if(d.firstChild===d.lastChild&&Ns(d.firstChild)){f=zI(e),f.appendChild(rf().dom),d.replaceChild(f,d.firstChild),e.selection.setCursorLocation(f,0),e.nodeChanged();return}let N=d.firstChild;for(;N;)if(jt(N)&&el(s,N),LU(s,N)){if(zU(a,N)){b=N,N=N.nextSibling,t.remove(b);continue}if(!f){if(!w&&e.hasFocus()&&(w=dg(e.selection.getRng(),()=>document.createElement("span"))),!N.parentNode){N=null;break}f=zI(e),d.insertBefore(f,N)}b=N,N=N.nextSibling,f.appendChild(b)}else f=null,N=N.nextSibling;w&&(e.selection.setRng(tm(w)),e.nodeChanged())},HF=(e,t,o)=>{const s=te.fromDom(zI(e)),a=rf();ln(s,a),o(t,s);const c=document.createRange();return c.setStartBefore(a.dom),c.setEndBefore(a.dom),c},VU=e=>{e.on("NodeChange",()=>HU(e))},VF=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,$U=(e,t,o)=>function(s){const a=arguments,c=a[a.length-2],d=c>0?t.charAt(c-1):"";if(d==='"')return s;if(d===">"){const f=t.lastIndexOf("<",c);if(f!==-1&&t.substring(f,c).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},UU=(e,t,o)=>{let s=t.length,a=o.content;if(o.format!=="raw"){for(;s--;)a=a.replace(t[s],$U(e,a,ZA(e)));o.content=a}},ZU=(e,t)=>Pa(e,o=>{const s=t.match(o);return s!==null&&s[0].length===t.length}),jU=e=>{const t="contenteditable",o=" "+at.trim(Lt(e))+" ",s=" "+at.trim(ZA(e))+" ",a=VF(o),c=VF(s),d=Xm(e);d.length>0&&e.on("BeforeSetContent",f=>{UU(e,d,f)}),e.parser.addAttributeFilter("class",f=>{let b=f.length;for(;b--;){const w=f[b];a(w)?w.attr(t,"true"):c(w)&&w.attr(t,"false")}}),e.serializer.addAttributeFilter(t,f=>{let b=f.length;for(;b--;){const w=f[b];if(!a(w)&&!c(w))continue;const T=w.attr("data-mce-content");d.length>0&&T?ZU(d,T)?(w.name="#text",w.type=3,w.raw=!0,w.value=T):w.remove():w.attr(t,null)}})},WU=e=>Fs(te.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),$F=(e,t)=>{t.hasAttribute("data-mce-caret")&&(P0(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},qU=(e,t)=>{const o=WU(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),$F(e,o);return}jx(o)&&($F(e,o),e.undoManager.add())}},GU=e=>{e.on("keyup compositionstart",He(qU,e))},UF=Wn,KU=(e,t,o)=>hF(t,e,o,ig,Ju,UF),YU=(e,t,o)=>bF(t,e,o,c=>ig(c)||Tw(c),c=>Ju(c)||Tv(c),UF),XU=e=>{const t=e.dom.create(Ua(e));return t.innerHTML='<br data-mce-bogus="1">',t},ZF=(e,t,o)=>{const s=Xu(e.getBody()),a=He(Dk,t===1?s.next:s.prev);if(o.collapsed){const c=e.dom.getParent(o.startContainer,"PRE");if(!c)return;if(!a(We.fromRangeStart(o))){const f=te.fromDom(XU(e));t===1?Hl(te.fromDom(c),f):ea(te.fromDom(c),f),e.selection.select(f.dom,!0),e.selection.collapse()}}},QU=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return KU(o,e,s).orThunk(()=>(ZF(e,o,s),I.none()))},JU=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return YU(o,e,s).orThunk(()=>(ZF(e,o,s),I.none()))},eZ=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return z4(o)?!t:t},jF=(e,t)=>QU(e,eZ(e.selection,t)).exists(o=>(Jp(e,o),!0)),WF=(e,t)=>JU(e,t).exists(o=>(Jp(e,o),!0)),qF=(e,t)=>xF(e,t,t?Ju:ig),C7=(e,t)=>SE(e,!t).map(o=>{const s=o.toRange(),a=e.selection.getRng();return t?s.setStart(a.startContainer,a.startOffset):s.setEnd(a.endContainer,a.endOffset),s}).exists(o=>(Jp(e,o),!0)),GF=(e,t)=>{const o=d=>Jo(d,t),s=d=>hi(d.dom),a=te.fromDom(e.container());return Ii(a,s,o).filter(d=>!o(d))},tZ=(e,t,o)=>(o?lF:iF)(e.getBody(),t).map(a=>a.toRange()),oZ=(e,t)=>{const o=We.fromRangeStart(e.selection.getRng()),s=We.fromRangeEnd(e.selection.getRng()),a=te.fromDom(e.getBody());return Pt(ks(GF(o,a),GF(s,a),(d,f)=>Jo(d,f)?I.some(d):I.none())).fold(_o,d=>t&&EI(d.dom,s)||!t&&SI(d.dom,o)?tZ(e,t?s:o,t).exists(f=>(Jp(e,f),!0)):!1)},KF=(e,t)=>oZ(e,t),nZ=e=>Ho(["figcaption"],Fo(e)),sZ=(e,t,o)=>{const s=He(Jo,t);return Ii(te.fromDom(e.container()),a=>o.isBlock(Fo(a)),s).filter(nZ)},rZ=(e,t,o)=>t?EI(e.dom,o):SI(e.dom,o),aZ=(e,t)=>{const o=te.fromDom(e.getBody()),s=We.fromRangeStart(e.selection.getRng());return sZ(s,o,e.schema).exists(()=>{if(rZ(o,t,s)){const c=HF(e,o,t?ln:bc);return e.selection.setRng(c),!0}else return!1})},YF=(e,t)=>e.selection.isCollapsed()?aZ(e,t):!1,iZ=(e,t,o)=>{const s=e.selection.getRng(),a=We.fromRangeStart(s);return e.getBody().firstChild===t&&SI(o,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},lZ=(e,t)=>{const o=e.selection.getRng(),s=We.fromRangeStart(o);return e.getBody().lastChild===t&&EI(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},cZ=(e,t)=>t?I.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>lZ(e,o)).getOr(!1):I.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>I.from(e.dom.getParent(o,"details")).map(s=>iZ(e,s,o))).getOr(!1),XF=(e,t)=>cZ(e,t),QF={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},dZ=e=>Ro(e,t=>({...QF,...t})),uZ=e=>Ro(e,t=>({...QF,...t})),JF=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,mZ=(e,t)=>sr(dZ(e),o=>JF(o,t)?[o]:[]),gZ=(e,t)=>sr(uZ(e),o=>JF(o,t)?[o]:[]),vo=(e,...t)=>()=>e.apply(null,t),ME=(e,t)=>yn(mZ(e,t),o=>o.action()),e9=(e,t)=>Ai(gZ(e,t),o=>o.action()),t9=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return hF(e,o,s,Dp,d1,bi).exists(a=>(Jp(e,a),!0))},o9=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return bF(e,o,s,Dp,d1,bi).exists(a=>(Jp(e,a),!0))},n9=(e,t)=>xF(e,t,t?d1:Dp),fZ=(e,t)=>s9(e,t,Vo),s9=(e,t,o)=>sr(en(e),s=>Bn(s,t)?o(s)?[s]:[]:s9(s,t,o)),pZ=(e,t,o=_o)=>{if(o(t))return I.none();if(Ho(e,Fo(t)))return I.some(t);const s=a=>Bn(a,"table")||o(a);return js(t,e.join(","),s)},hZ=(e,t)=>pZ(["td","th"],e,t),bZ=e=>fZ(e,"th,td"),r9=(e,t)=>dd(e,"table",t),a9=il.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),BE={...a9,none:e=>a9.none(e)},HI=(e,t,o,s,a=Vo)=>{const c=s===1;if(!c&&o<=0)return BE.first(e[0]);if(c&&o>=e.length-1)return BE.last(e[e.length-1]);{const d=o+s,f=e[d];return a(f)?BE.middle(t,f):HI(e,t,d,s,a)}},i9=(e,t)=>r9(e,t).bind(o=>{const s=bZ(o);return Rs(s,c=>Jo(e,c)).map(c=>({index:c,all:s}))}),xZ=(e,t,o)=>i9(e,o).fold(()=>BE.none(e),a=>HI(a.all,e,a.index,1,t)),vZ=(e,t,o)=>i9(e,o).fold(()=>BE.none(),a=>HI(a.all,e,a.index,-1,t));var yZ=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],wZ=()=>{const e=w=>te.fromDom(w.dom.cloneNode(!1)),t=w=>pc(w).dom,o=w=>lr(w)?Fo(w)==="body"?!0:Ho(yZ,Fo(w)):!1,s=w=>lr(w)?Ho(["br","img","hr","input"],Fo(w)):!1,a=w=>lr(w)&&Ys(w,"contenteditable")==="false",c=(w,T)=>w.dom.compareDocumentPosition(T.dom),d=(w,T)=>{const R=vc(w);Ki(T,R)},f=w=>{const T=Fo(w);return Ho(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],T)},b=w=>lr(w)?xc(w,"lang"):I.none();return{up:dt({selector:js,closest:dd,predicate:ti,all:Qa}),down:dt({selector:Wr,predicate:Xi}),styles:dt({get:fl,getRaw:Sm,set:zg,remove:gi}),attrs:dt({get:Ys,set:jr,remove:Nr,copyTo:d}),insert:dt({before:ea,after:Hl,afterAll:gh,append:ln,appendAll:Zs,prepend:bc,wrap:fr}),remove:dt({unwrap:Ni,remove:ls}),create:dt({nu:te.fromTag,clone:e,text:te.fromText}),query:dt({comparePosition:c,prevSibling:Fl,nextSibling:rd}),property:dt({children:en,name:Fo,parent:Gi,document:t,isText:Xa,isComment:ox,isElement:lr,isSpecial:f,getLanguage:b,getText:cd,setText:Pi,isBoundary:o,isEmptyTag:s,isNonEditable:a}),eq:Jo,is:vm}};const VI=(e,t)=>({element:e,offset:t}),l9=(e,t)=>{if(e.property().isText(t))return VI(t,e.property().getText(t).length);{const o=e.property().children(t);return o.length>0?l9(e,o[o.length-1]):VI(t,o.length)}},c9=(e,t,o)=>{const s=e.property().children(t);return s.length>0&&o<s.length?c9(e,s[o],0):s.length>0&&e.property().isElement(t)&&s.length===o?l9(e,s[s.length-1]):VI(t,o)},_Z=c9,CZ=wZ(),kZ=(e,t)=>_Z(CZ,e,t),d9=$s("image"),SZ=e=>{const t=e;return I.from(t[d9])},EZ=(e,t)=>{const o=e;o[d9]=t},$I=$s("event"),AZ=e=>{const t=e;return I.from(t[$I])},k7=e=>t=>{const o=t;o[$I]=e},TZ=(e,t)=>k7(t)(e),u9=k7(0),DZ=k7(2),OZ=k7(1),RZ=(e=>t=>{const o=t;return I.from(o[$I]).exists(s=>s===e)})(0),NZ=()=>Object.freeze({length:0,item:e=>null}),UI=$s("mode"),MZ=e=>{const t=e;return I.from(t[UI])},S7=e=>t=>{const o=t;o[UI]=e},m9=(e,t)=>S7(t)(e),g9=S7(0),ZI=S7(2),BZ=S7(1),f9=e=>t=>{const o=t;return I.from(o[UI]).exists(s=>s===e)},bC=f9(0),p9=f9(1),PZ=(e,t)=>({...t,get length(){return t.length},add:(o,s)=>{if(bC(e))if(Ge(o)){if(!Os(s))return t.add(o,s)}else return t.add(o);return null},remove:o=>{bC(e)&&t.remove(o)},clear:()=>{bC(e)&&t.clear()}}),IZ=["none","copy","link","move"],LZ=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],jI=()=>{const e=new window.DataTransfer;let t="move",o="all";const s={get dropEffect(){return t},set dropEffect(a){Ho(IZ,a)&&(t=a)},get effectAllowed(){return o},set effectAllowed(a){RZ(s)&&Ho(LZ,a)&&(o=a)},get items(){return PZ(s,e.items)},get files(){return p9(s)?NZ():e.files},get types(){return e.types},setDragImage:(a,c,d)=>{bC(s)&&(EZ(s,{image:a,x:c,y:d}),e.setDragImage(a,c,d))},getData:a=>p9(s)?"":e.getData(a),setData:(a,c)=>{bC(s)&&e.setData(a,c)},clearData:a=>{bC(s)&&e.clearData(a)}};return g9(s),s},FZ=e=>{const t=jI(),o=MZ(e);return ZI(e),u9(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,SZ(e).each(s=>t.setDragImage(s.image,s.x,s.y)),Ze(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),Ze(e.files,s=>t.items.add(s)),AZ(e).each(s=>{TZ(t,s)}),o.each(s=>{m9(e,s),m9(t,s)}),t},zZ=e=>{const t=e.getData("text/html");return t===""?I.none():I.some(t)},h9=(e,t)=>e.setData("text/html",t),HZ=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),VZ=(e,t)=>sr(t,o=>{const s=HZ(g(o.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:o},{x:s.right,y:e(s),cell:o}]}),$Z=(e,t,o)=>Lo(e,(s,a)=>s.fold(()=>I.some(a),c=>{const d=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o)),f=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-o));return I.some(f<d?a:c)}),I.none()),b9=(e,t,o,s,a)=>{const c=Wr(te.fromDom(o),"td,th,caption").map(f=>f.dom),d=mt(VZ(e,c),f=>t(f,a));return $Z(d,s,a).map(f=>f.cell)},UZ=e=>e.bottom,ZZ=e=>e.top,jZ=(e,t)=>e.y<t,WZ=(e,t)=>e.y>t,qZ=He(b9,UZ,jZ),GZ=He(b9,ZZ,WZ),KZ=(e,t)=>Zn(t.getClientRects()).bind(o=>qZ(e,o.left,o.top)).bind(o=>y7(P$(o),t)),YZ=(e,t)=>zs(t.getClientRects()).bind(o=>GZ(e,o.left,o.top)).bind(o=>y7(B$(o),t)),XZ=(e,t,o)=>o.breakAt.exists(s=>e(t,s).breakAt.isSome()),QZ=e=>e.breakType===Qp.Wrap&&e.positions.length===0,JZ=e=>e.breakType===Qp.Br&&e.positions.length===1,x9=(e,t,o)=>{const s=e(t,o);return QZ(s)||!Ns(o.getNode())&&JZ(s)?!XZ(e,t,s):s.breakAt.isNone()},ej=He(x9,OE),tj=He(x9,RE),oj=(e,t,o)=>{const s=We.fromRangeStart(t);return Cp(!e,o).exists(a=>a.isEqual(s))},nj=(e,t,o,s)=>{const a=e.selection.getRng(),c=t?1:-1;return Ek()&&oj(t,a,o)?(_i(c,e,o,!t,!1).each(d=>{Jp(e,d)}),!0):!1},sj=(e,t,o)=>KZ(t,o).orThunk(()=>Zn(o.getClientRects()).bind(s=>kI(rF(e,We.before(t)),s.left))).getOr(We.before(t)),rj=(e,t,o)=>YZ(t,o).orThunk(()=>Zn(o.getClientRects()).bind(s=>kI(aF(e,We.after(t)),s.left))).getOr(We.after(t)),v9=(e,t)=>{const o=t.getNode(e);return Ec(o)?I.some(o):I.none()},aj=(e,t,o)=>{t.undoManager.transact(()=>{const s=e?Hl:ea,a=HF(t,te.fromDom(o),s);Jp(t,a)})},y9=(e,t,o)=>{const s=v9(!!t,o),a=t===!1;s.fold(()=>Jp(e,o.toRange()),c=>Cp(a,e.getBody()).filter(d=>d.isEqual(o)).fold(()=>Jp(e,o.toRange()),d=>aj(t,e,c)))},ij=(e,t,o,s)=>{const a=e.selection.getRng(),c=We.fromRangeStart(a),d=e.getBody();if(!t&&ej(s,c)){const f=sj(d,o,c);return y9(e,t,f),!0}else if(t&&tj(s,c)){const f=rj(d,o,c);return y9(e,t,f),!0}else return!1},w9=(e,t,o)=>I.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>I.from(e.dom.getParent(s,"table")).map(a=>o(e,t,a,s))).getOr(!1),_9=(e,t)=>w9(e,t,nj),WI=(e,t)=>w9(e,t,ij),lj=e=>{const t=Wl.exact(e,0,e,0);return m0(t)},cj=e=>E7(e)||Gf(e).some(t=>Kd(t)&&E7(t)),C9=(e,t,o)=>o.fold(I.none,I.none,(s,a)=>FC(a).map(c=>lj(c)),s=>e.mode.isReadOnly()||!dj(s)||!cj(s)?I.none():(e.execCommand("mceTableInsertRowAfter"),k9(e,t,s))),dj=e=>Ii(e,Yr("table")).exists(Yi),k9=(e,t,o)=>C9(e,t,xZ(o,E7)),uj=(e,t,o)=>C9(e,t,vZ(o,E7)),E7=e=>Yi(e)||ni(e,mj),mj=e=>Kd(e)&&Yi(e),S9=(e,t)=>{const o=["table","li","dl"],s=te.fromDom(e.getBody()),a=f=>{const b=Fo(f);return Jo(f,s)||Ho(o,b)},c=e.selection.getRng(),d=te.fromDom(t?c.endContainer:c.startContainer);return hZ(d,a).map(f=>(r9(f,a).each(T=>{e.model.table.clearSelectedCells(T.dom)}),e.selection.collapse(!t),(t?k9:uj)(e,a,f).each(T=>{e.selection.setRng(T)}),!0)).getOr(!1)},gj=(e,t,o)=>{const s=Eo.os.isMacOS()||Eo.os.isiOS(),a=Eo.browser.isFirefox();ME([{keyCode:Bt.RIGHT,action:vo(jF,e,!0)},{keyCode:Bt.LEFT,action:vo(jF,e,!1)},{keyCode:Bt.UP,action:vo(WF,e,!1)},{keyCode:Bt.DOWN,action:vo(WF,e,!0)},...s?[{keyCode:Bt.UP,action:vo(C7,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Bt.DOWN,action:vo(C7,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Bt.RIGHT,action:vo(_9,e,!0)},{keyCode:Bt.LEFT,action:vo(_9,e,!1)},{keyCode:Bt.UP,action:vo(WI,e,!1)},{keyCode:Bt.DOWN,action:vo(WI,e,!0)},{keyCode:Bt.UP,action:vo(WI,e,!1)},{keyCode:Bt.UP,action:vo(XF,e,!1)},{keyCode:Bt.DOWN,action:vo(XF,e,!0)},{keyCode:Bt.RIGHT,action:vo(t9,e,!0)},{keyCode:Bt.LEFT,action:vo(t9,e,!1)},{keyCode:Bt.UP,action:vo(o9,e,!1)},{keyCode:Bt.DOWN,action:vo(o9,e,!0)},{keyCode:Bt.RIGHT,action:vo(wF,e,t,!0)},{keyCode:Bt.LEFT,action:vo(wF,e,t,!1)},{keyCode:Bt.RIGHT,ctrlKey:!s,altKey:s,action:vo(X$,e,t)},{keyCode:Bt.LEFT,ctrlKey:!s,altKey:s,action:vo(Q$,e,t)},{keyCode:Bt.UP,action:vo(YF,e,!1)},{keyCode:Bt.DOWN,action:vo(YF,e,!0)},...a?[{keyCode:Bt.UP,action:vo(KF,e,!1)},{keyCode:Bt.DOWN,action:vo(KF,e,!0)}]:[]],o).each(c=>{o.preventDefault()})},fj=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||gj(e,t,o)})},Bf=(e,t)=>({container:e,offset:t}),A7=On.DOM,T7=e=>t=>e===t?-1:0,pj=e=>t=>e.isBlock(t)||Ho(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",qI=(e,t,o)=>{if(ut(e)&&t>=0)return I.some(Bf(e,t));{const s=Ql(A7);return I.from(s.backwards(e,t,T7(e),o)).map(a=>Bf(a.container,a.container.data.length))}},hj=(e,t,o)=>{if(ut(e)&&t>=e.length)return I.some(Bf(e,t));{const s=Ql(A7);return I.from(s.forwards(e,t,T7(e),o)).map(a=>Bf(a.container,0))}},GI=(e,t,o)=>{if(!ut(e))return I.none();const s=e.data;if(t>=0&&t<=s.length)return I.some(Bf(e,t));{const a=Ql(A7);return I.from(a.backwards(e,t,T7(e),o)).bind(c=>{const d=c.container.data;return GI(c.container,t+d.length,o)})}},E9=(e,t,o)=>{if(!ut(e))return I.none();const s=e.data;if(t<=s.length)return I.some(Bf(e,t));{const a=Ql(A7);return I.from(a.forwards(e,t,T7(e),o)).bind(c=>E9(c.container,t-s.length,o))}},KI=(e,t,o,s,a)=>{const c=Ql(e,pj(e));return I.from(c.backwards(t,o,s,a))},bj=e=>e.collapsed&&ut(e.startContainer),xj=e=>$i(e.toString().replace(/\u00A0/g," ")),A9=e=>e!==""&&`  \uFEFF\f
\r	\v`.indexOf(e)!==-1,vj=(e,t)=>e.substring(t.length),yj=(e,t,o,s=!1)=>{let a;const c=o.charAt(0);for(a=t-1;a>=0;a--){const d=e.charAt(a);if(!s&&A9(d))return I.none();if(c===d&&$o(e,o,a,t))break}return I.some(a)},YI=(e,t,o,s=!1)=>{if(!bj(t))return I.none();const a={text:"",offset:0},c=(f,b,w)=>(a.text=w+a.text,a.offset+=b,yj(a.text,a.offset,o,s).getOr(b)),d=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return KI(e,t.startContainer,t.startOffset,c,d).bind(f=>{const b=t.cloneRange();if(b.setStart(f.container,f.offset),b.setEnd(t.endContainer,t.endOffset),b.collapsed)return I.none();const w=xj(b);return w.lastIndexOf(o)!==0?I.none():I.some({text:vj(w,o),range:b,trigger:o})})},wj=e=>e.nodeType===Bg,_j=e=>e.nodeType===qd,T9=e=>{if(wj(e))return Bf(e,e.data.length);{const t=e.childNodes;return t.length>0?T9(t[t.length-1]):Bf(e,t.length)}},D9=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?D9(o[t],0):o.length>0&&_j(e)&&o.length===t?T9(o[o.length-1]):Bf(e,t)},Cj=(e,t)=>{var o;const s=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return KI(e,t.container,t.offset,(a,c)=>c===0?-1:c,s).filter(a=>{const c=a.container.data.charAt(a.offset-1);return!A9(c)}).isSome()},kj=e=>t=>{const o=D9(t.startContainer,t.startOffset);return!Cj(e,o)},Sj=(e,t,o)=>Ai(o.triggers,s=>YI(e,t,s)),Ej=(e,t)=>{const o=t(),s=e.selection.getRng();return Sj(e.dom,s,o).bind(a=>O9(e,t,a))},O9=(e,t,o,s={})=>{var a;const c=t(),f=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",b=mt(c.lookupByTrigger(o.trigger),T=>o.text.length>=T.minChars&&T.matches.getOrThunk(()=>kj(e.dom))(o.range,f,o.text));if(b.length===0)return I.none();const w=Promise.all(Ro(b,T=>T.fetch(o.text,T.maxResults,s).then(N=>({matchText:o.text,items:N,columns:T.columns,onAction:T.onAction,highlightOn:T.highlightOn}))));return I.some({lookupData:w,context:o})};var Pf;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Pf||(Pf={}));const XI=(e,t,o)=>e.stype===Pf.Error?t(e.serror):o(e.svalue),Aj=e=>{const t=[],o=[];return Ze(e,s=>{XI(s,a=>o.push(a),a=>t.push(a))}),{values:t,errors:o}},Tj=(e,t)=>e.stype===Pf.Error?{stype:Pf.Error,serror:t(e.serror)}:e,Dj=(e,t)=>e.stype===Pf.Value?{stype:Pf.Value,svalue:t(e.svalue)}:e,Oj=(e,t)=>e.stype===Pf.Value?t(e.svalue):e,Rj=(e,t)=>e.stype===Pf.Error?t(e.serror):e,R9=e=>({stype:Pf.Value,svalue:e}),N9=e=>({stype:Pf.Error,serror:e}),cc={fromResult:e=>e.fold(N9,R9),toResult:e=>XI(e,Hs.error,Hs.value),svalue:R9,partition:Aj,serror:N9,bind:Oj,bindError:Rj,map:Dj,mapError:Tj,fold:XI},M9=e=>oe(e)&&ua(e).length>100?" removed due to size":JSON.stringify(e,null,2),Nj=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:dt("... (only showing first ten failures)")}]):e;return Ro(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},B9=(e,t)=>cc.serror([{path:e,getErrorInfo:t}]),Mj=(e,t,o)=>B9(e,()=>'Could not find valid *required* value for "'+t+'" in '+M9(o)),Bj=(e,t)=>B9(e,dt(t)),P9=e=>{const t=(s,a)=>cc.bindError(e(a),c=>Bj(s,c)),o=dt("val");return{extract:t,toString:o}},Pj=P9(cc.svalue),QI=dt(Pj),JI=(e,t)=>P9(o=>{const s=typeof o;return e(o)?cc.svalue(o):cc.serror(`Expected type: ${t} but got: ${s}`)}),Ij=JI(E,"number"),eL=JI(Ge,"string"),I9=JI(no,"function"),L9=()=>({tag:"required",process:{}}),Lj=e=>({tag:"defaultedThunk",process:e}),F9=e=>Lj(dt(e)),z9=()=>({tag:"option",process:{}}),Fj=(e,t,o,s)=>({tag:"field",key:e,newKey:t,presence:o,prop:s}),H9=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},zj=(e,t)=>cc.svalue(fc(t,Au.apply(void 0,e))),V9=e=>Fn(cc.serror,qc)(e),Hj={consolidateObj:(e,t)=>{const o=cc.partition(e);return o.errors.length>0?V9(o.errors):zj(o.values,t)},consolidateArr:e=>{const t=cc.partition(e);return t.errors.length>0?V9(t.errors):cc.svalue(t.values)}},Vj=(e,t,o,s)=>Sn(t,o).fold(()=>Mj(e,o,t),s),$9=(e,t,o,s)=>{const a=Sn(e,t).getOrThunk(()=>o(e));return s(a)},$j=(e,t,o)=>o(Sn(e,t)),Uj=(e,t,o,s)=>{const a=Sn(e,t).map(c=>c===!0?o(e):c);return s(a)},Zj=(e,t,o,s,a)=>{const c=f=>a.extract(t.concat([s]),f),d=f=>f.fold(()=>cc.svalue(I.none()),b=>{const w=a.extract(t.concat([s]),b);return cc.map(w,I.some)});switch(e.tag){case"required":return Vj(t,o,s,c);case"defaultedThunk":return $9(o,s,e.process,c);case"option":return $j(o,s,d);case"defaultedOptionThunk":return Uj(o,s,e.process,d);case"mergeWithThunk":return $9(o,s,dt({}),f=>{const b=fc(e.process(o),f);return c(b)})}},jj=(e,t,o)=>{const s={},a=[];for(const c of o)H9(c,(d,f,b,w)=>{const T=Zj(b,e,t,d,w);cc.fold(T,R=>{a.push(...R)},R=>{s[f]=R})},(d,f)=>{s[d]=f(t)});return a.length>0?cc.serror(a):cc.svalue(s)},U9=e=>({extract:(s,a)=>jj(s,a,e),toString:()=>`obj{
`+Ro(e,a=>H9(a,(c,d,f,b)=>c+" -> "+b.toString(),(c,d)=>"state("+c+")")).join(`
`)+"}"}),Wj=e=>({extract:(s,a)=>{const c=Ro(a,(d,f)=>e.extract(s.concat(["["+f+"]"]),d));return Hj.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),qj=(e,t,o)=>{const s=t.extract([e],o);return cc.mapError(s,a=>({input:o,errors:a}))},Z9=(e,t,o)=>cc.toResult(qj(e,t,o)),j9=e=>`Errors: 
`+Nj(e.errors).join(`
`)+`

Input object: `+M9(e.input),xC=Fj,Gj=e=>xC(e,e,L9(),QI()),W9=(e,t)=>xC(e,e,L9(),t),q9=e=>W9(e,eL),G9=e=>W9(e,I9),Kj=e=>xC(e,e,z9(),QI()),K9=(e,t)=>xC(e,e,z9(),t),Y9=e=>K9(e,eL),Yj=e=>K9(e,I9),Xj=(e,t)=>xC(e,e,F9(t),QI()),X9=(e,t,o)=>xC(e,e,F9(t),o),Q9=(e,t)=>X9(e,t,Ij),Qj=(e,t,o)=>X9(e,t,Wj(o)),Jj=q9("type"),eW=G9("fetch"),tW=G9("onAction"),oW=e=>Xj("columns",e),nW=U9([Jj,q9("trigger"),Q9("minChars",1),oW(1),Q9("maxResults",10),Yj("matches"),eW,tW,Qj("highlightOn",[],eL)]),sW=e=>Z9("Autocompleter",nW,e),rW=()=>{const e={},t={},o={},s={},a={},c={},d={},f={},b={},w=(F,ee)=>(X,G)=>{F[X.toLowerCase()]={...G,type:ee}},T=(F,ee)=>(X,G)=>{F[X.toLowerCase()]={type:ee,...G}},R=(F,ee)=>s[F.toLowerCase()]=ee,N=(F,ee)=>d[F.toLowerCase()]=ee;return{addButton:w(e,"button"),addGroupToolbarButton:w(e,"grouptoolbarbutton"),addToggleButton:w(e,"togglebutton"),addMenuButton:w(e,"menubutton"),addSplitButton:w(e,"splitbutton"),addMenuItem:w(t,"menuitem"),addNestedMenuItem:w(t,"nestedmenuitem"),addToggleMenuItem:w(t,"togglemenuitem"),addAutocompleter:w(o,"autocompleter"),addContextMenu:w(a,"contextmenu"),addContextToolbar:w(c,"contexttoolbar"),addContextForm:T(c,"contextform"),addSidebar:w(f,"sidebar"),addView:w(b,"views"),addIcon:R,addContext:N,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:o,contextMenus:a,contextToolbars:c,sidebars:f,views:b,contexts:d})}},aW=e=>{const t=e.ui.registry.getAll().popups,o=Vr(t,d=>sW(d).fold(f=>{throw new Error(j9(f))},vn)),s=fm(ya(o,d=>d.trigger)),a=Cs(o);return{dataset:o,triggers:s,lookupByTrigger:d=>mt(a,f=>f.trigger===d)}},iW=(e,t)=>{const o=Vd(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",s=>{const a=s.which;a===8?o.throttle():a===27?(o.cancel(),t.cancelIfNecessary()):(a===38||a===40)&&o.cancel()},!0),e.on("remove",o.cancel)},lW=e=>{const t=Bl(),o=zn(!1),s=t.isSet,a=()=>{s()&&(AR(e),o.set(!1),t.clear())},c=R=>{s()||t.set({trigger:R.trigger,matchLength:R.text.length})},d=ui(()=>aW(e)),f=R=>t.get().map(N=>YI(e.dom,e.selection.getRng(),N.trigger,!0).bind(F=>O9(e,d,F,R))).getOrThunk(()=>Ej(e,d)),b=R=>{f(R).fold(a,N=>{c(N.context),N.lookupData.then(F=>{t.get().map(ee=>{const X=N.context;ee.trigger===X.trigger&&(t.set({...ee,matchLength:X.text.length}),o.get()?(ek(e,{range:X.range}),yA(e,{lookupData:F})):(o.set(!0),ek(e,{range:X.range}),JC(e,{lookupData:F})))})})})},w=(R,N)=>{const F=R.compareBoundaryPoints(window.Range.START_TO_START,N),ee=R.compareBoundaryPoints(window.Range.END_TO_END,N);return F>=0&&ee<=0},T=()=>t.get().bind(({trigger:R})=>{const N=e.selection.getRng();return YI(e.dom,N,R,o.get()).filter(({range:F})=>w(N,F)).map(({range:F})=>F)});e.addCommand("mceAutocompleterReload",(R,N)=>{const F=oe(N)?N.fetchOptions:{};b(F)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{T().each(R=>{ek(e,{range:R})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>T().isSome()),iW(e,{cancelIfNecessary:a,load:b})},cW=qi().browser.isSafari(),J9=e=>Rc(te.fromDom(e)),ez=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},D7=(e,t)=>I.from(e.getParent(t.container(),"details")),tz=(e,t)=>D7(e,t).isSome(),dW=(e,t)=>{const o=I.from(e.getParent(t.startContainer,"details")),s=I.from(e.getParent(t.endContainer,"details"));if(o.isSome()||s.isSome()){const a=o.bind(c=>I.from(e.select("summary",c)[0]));return I.some({startSummary:a,startDetails:o,endDetails:s})}else return I.none()},uW=(e,t)=>cn(t).exists(o=>o.isEqual(e)),mW=(e,t)=>Cl(t).exists(o=>Ns(o.getNode())&&tc(t,o).exists(s=>s.isEqual(e))||o.isEqual(e)),gW=(e,t)=>t.startSummary.exists(o=>uW(e,o)),fW=(e,t)=>t.startSummary.exists(o=>mW(e,o)),pW=(e,t)=>t.startDetails.exists(o=>tc(o,e).forall(s=>t.startSummary.exists(a=>!a.contains(e.container())&&a.contains(s.container())))),hW=(e,t,o)=>o.startDetails.exists(s=>_l(e,t).forall(a=>!s.contains(a.container()))),oz=(e,t)=>{const o=t.getNode();Os(o)||e.selection.setCursorLocation(o,t.offset())},nz=(e,t,o)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const a=e.dom.select("summary",s)[0];a&&(o?cn(a):Cl(a)).each(d=>oz(e,d))}else oz(e,t)},bW=(e,t)=>{const o=b=>b.contains(e.startContainer),s=b=>b.contains(e.endContainer),a=t.startSummary.exists(o),c=t.startSummary.exists(s),d=t.startDetails.forall(b=>t.endDetails.forall(w=>b!==w));return(a||c)&&!(a&&c)||d},sz=(e,t,o)=>{const{dom:s,selection:a}=e,c=e.getBody();if(o==="character"){const d=We.fromRangeStart(a.getRng()),f=s.getParent(d.container(),s.isBlock),b=D7(s,d),w=f&&s.isEmpty(f),T=rn(f?.previousSibling),R=rn(f?.nextSibling);return w&&(t?R:T)&&W0(!t,c,d).exists(ee=>tz(s,ee)&&!Tu(b,D7(s,ee)))?!0:W0(t,c,d).fold(_o,N=>{const F=D7(s,N);if(tz(s,N)&&!Tu(b,F)){if(t||nz(e,N,!1),f&&w){if(t&&T)return!0;if(!t&&R)return!0;nz(e,N,t),e.dom.remove(f)}return!0}else return!1})}else return!1},xW=(e,t,o,s)=>{const c=e.selection.getRng(),d=We.fromRangeStart(c),f=e.getBody();return s==="selection"?bW(c,t):o?fW(d,t)||hW(f,d,t):gW(d,t)||pW(d,t)},vW=(e,t,o)=>dW(e.dom,e.selection.getRng()).fold(()=>sz(e,t,o),s=>xW(e,s,t,o)||sz(e,t,o)),yW=(e,t,o)=>{const s=e.selection,a=s.getNode(),c=s.getRng(),d=We.fromRangeStart(c);return HC(a)?(o==="selection"&&ez(c,a)||KT(t,d,a)?J9(a):e.undoManager.transact(()=>{const f=s.getSel();let{anchorNode:b,anchorOffset:w,focusNode:T,focusOffset:R}=f??{};const N=()=>{ze(b)&&ze(w)&&ze(T)&&ze(R)&&f?.setBaseAndExtent(b,w,T,R)},F=()=>{b=f?.anchorNode,w=f?.anchorOffset,T=f?.focusNode,R=f?.focusOffset},ee=(G,xe)=>{Ze(G.childNodes,be=>{fv(be)&&xe.appendChild(be)})},X=e.dom.create("span",{"data-mce-bogus":"1"});ee(a,X),a.appendChild(X),N(),(o==="word"||o==="line")&&f?.modify("extend",t?"right":"left",o),!s.isCollapsed()&&ez(s.getRng(),X)?J9(a):(e.execCommand(t?"ForwardDelete":"Delete"),F(),ee(X,a),N()),e.dom.remove(X)}),!0):!1},P2=(e,t,o)=>vW(e,t,o)||cW&&yW(e,t,o)?I.some(Do):I.none(),rz=e=>(t,o,s={})=>{const a=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:Do,inputType:o},d=Ix(new InputEvent(e));return t.dispatch(e,{...d,...c,...s})},PE=rz("input"),O7=rz("beforeinput"),az=qi(),iz=az.os,lz=iz.isMacOS()||iz.isiOS(),wW=az.browser.isFirefox(),_W=(e,t,o)=>{const s=o.keyCode===Bt.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),c=a?"character":"selection",d=f=>a?f?"word":"line":"selection";e9([{keyCode:Bt.BACKSPACE,action:vo(IF,e)},{keyCode:Bt.BACKSPACE,action:vo(gC,e,!1)},{keyCode:Bt.DELETE,action:vo(gC,e,!0)},{keyCode:Bt.BACKSPACE,action:vo(N2,e,!1)},{keyCode:Bt.DELETE,action:vo(N2,e,!0)},{keyCode:Bt.BACKSPACE,action:vo(OI,e,t,!1)},{keyCode:Bt.DELETE,action:vo(OI,e,t,!0)},{keyCode:Bt.BACKSPACE,action:vo(f1,e,!1)},{keyCode:Bt.DELETE,action:vo(f1,e,!0)},{keyCode:Bt.BACKSPACE,action:vo(P2,e,!1,c)},{keyCode:Bt.DELETE,action:vo(P2,e,!0,c)},...lz?[{keyCode:Bt.BACKSPACE,altKey:!0,action:vo(P2,e,!1,d(!0))},{keyCode:Bt.DELETE,altKey:!0,action:vo(P2,e,!0,d(!0))},{keyCode:Bt.BACKSPACE,metaKey:!0,action:vo(P2,e,!1,d(!1))}]:[{keyCode:Bt.BACKSPACE,ctrlKey:!0,action:vo(P2,e,!1,d(!0))},{keyCode:Bt.DELETE,ctrlKey:!0,action:vo(P2,e,!0,d(!0))}],{keyCode:Bt.BACKSPACE,action:vo(pC,e,!1)},{keyCode:Bt.DELETE,action:vo(pC,e,!0)},{keyCode:Bt.BACKSPACE,action:vo(BI,e,!1)},{keyCode:Bt.DELETE,action:vo(BI,e,!0)},{keyCode:Bt.BACKSPACE,action:vo(Hc,e,!1)},{keyCode:Bt.DELETE,action:vo(Hc,e,!0)},{keyCode:Bt.BACKSPACE,action:vo(Gp,e,!1)},{keyCode:Bt.DELETE,action:vo(Gp,e,!0)},{keyCode:Bt.BACKSPACE,action:vo(NI,e,!1)},{keyCode:Bt.DELETE,action:vo(NI,e,!0)},{keyCode:Bt.BACKSPACE,action:vo(fC,e,!1)},{keyCode:Bt.DELETE,action:vo(fC,e,!0)},{keyCode:Bt.BACKSPACE,action:vo(II,e,!1)},{keyCode:Bt.DELETE,action:vo(II,e,!0)}],o).filter(f=>e.selection.isEditable()).each(f=>{o.preventDefault(),O7(e,s).isDefaultPrevented()||(f(),PE(e,s))})},CW=(e,t,o,s)=>ME([{keyCode:Bt.BACKSPACE,action:vo(vg,e)},{keyCode:Bt.DELETE,action:vo(vg,e)},...lz?[{keyCode:Bt.BACKSPACE,altKey:!0,action:vo(NE,e)},{keyCode:Bt.DELETE,altKey:!0,action:vo(NE,e)},...o?[{keyCode:wW?224:91,action:vo(()=>(TF(e,s),NE(e)))}]:[]]:[{keyCode:Bt.BACKSPACE,ctrlKey:!0,action:vo(NE,e)},{keyCode:Bt.DELETE,ctrlKey:!0,action:vo(NE,e)}]],t),kW=(e,t)=>{let o=!1,s=[];e.on("keydown",a=>{o=a.keyCode===Bt.BACKSPACE,s=RI(e),a.isDefaultPrevented()||_W(e,t,a)}),e.on("keyup",a=>{a.isDefaultPrevented()||(CW(e,a,o,s),s.length=0),o=!1})},SW=(e,t)=>{const o=te.fromDom(e),s=te.fromDom(t),a=Yr("span"),c=He(Jo,o),d=b=>lr(b)&&Sm(b,"font-size").isSome(),f=[...d(s)?[s]:[],...Qf(s,d,c)];Ze(f.slice(1),b=>{gi(b,"font-size"),Nr(b,"data-mce-style"),a(b)&&Bu(b)&&Ni(b)})},EW=e=>{for(;e;){if(jt(e)||ut(e)&&e.data&&/[\r\n\s]/.test(e.data))return I.from(te.fromDom(e));e=e.nextSibling}return I.none()},vC=(e,t)=>{const o=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=b=>/^(ul|ol|dl)$/.test(Fo(b)),d=b=>c(b)?I.from(b):Li(b,c),f=b=>o.isEmpty(b.dom);EW(t.firstChild).each(b=>{d(b).fold(()=>{if(f(b)){const w=kZ(b,0).element;lr(w)&&!wd(w)&&ln(w,te.fromText(Ls))}},w=>{ea(w,te.fromText(Ls))})})}const a=o.createRng();if(t.normalize(),t.hasChildNodes()){const c=new Qs(t,t);let d=t,f;for(;f=c.current();){if(ut(f)){a.setStart(f,0),a.setEnd(f,0);break}if(s[f.nodeName.toLowerCase()]){a.setStartBefore(f),a.setEndBefore(f);break}d=f,f=c.next()}f||(a.setStart(d,0),a.setEnd(d,0))}else Ns(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),Cv(e,a)},IE=(e,t)=>{const o=e.getRoot();let s,a=t;for(;a!==o&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){s=a;break}a=a.parentNode}return a!==o?s:o},tL=e=>I.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),AW=e=>tL(e).fold(dt(""),t=>t.nodeName.toUpperCase()),TW=e=>tL(e).filter(t=>cu(te.fromDom(t))).isSome(),oL=e=>{e.innerHTML='<br data-mce-bogus="1">'},DW=(e,t,o)=>{const s=e.dom;I.from(o.style).map(s.parseStyle).each(b=>{const T={...Em(te.fromDom(t)),...b};s.setStyles(t,T)});const a=I.from(o.class).map(b=>b.split(/\s+/)),c=I.from(t.className).map(b=>mt(b.split(/\s+/),w=>w!==""));ks(a,c,(b,w)=>{const T=mt(w,N=>!Ho(b,N)),R=[...b,...T];s.setAttrib(t,"class",R.join(" "))});const d=["style","class"],f=Tr(o,(b,w)=>!Ho(d,w));s.setAttribs(t,f)},LE=(e,t)=>{if(Ua(e).toLowerCase()===t.tagName.toLowerCase()){const s=L0(e);DW(e,t,s)}},cz=(e,t,o,s,a=!0,c,d)=>{const f=e.dom,b=e.schema,w=Ua(e),T=o?o.nodeName.toUpperCase():"";let R=t;const N=b.getTextInlineElements();let F;c||T==="TABLE"||T==="HR"?F=f.create(c||w,d||{}):F=o.cloneNode(!1);let ee=F;if(!a)f.setAttrib(F,"style",null),f.setAttrib(F,"class",null);else{do if(N[R.nodeName]){if(Pc(R)||Ed(R))continue;const X=R.cloneNode(!1);f.setAttrib(X,"id",""),F.hasChildNodes()?(X.appendChild(F.firstChild),F.appendChild(X)):(ee=X,F.appendChild(X))}while((R=R.parentNode)&&R!==s);SW(F,ee)}return LE(e,F),oL(ee),F},OW=(e,t)=>e.dom.getParent(t,px),RW=(e,t,o)=>{let s=t;for(;s&&s!==e&&rn(s.nextSibling);){const a=s.parentElement;if(!a||!o(a))return px(a);s=a}return!1},NW=(e,t,o)=>!t&&o.nodeName.toLowerCase()===Ua(e)&&e.dom.isEmpty(o)&&RW(e.getBody(),o,s=>xo(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),MW=(e,t,o)=>{var s,a,c;const d=t(Ua(e)),f=OW(e,o);f&&(e.dom.insertAfter(d,f),vC(e,d),((c=(a=(s=o.parentElement)===null||s===void 0?void 0:s.childNodes)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(o))},BW=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,PW=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},dz=(e,t)=>{const o=e?.parentNode;return ze(o)&&o.nodeName===t},uz=e=>ze(e)&&/^(OL|UL|LI)$/.test(e.nodeName),nL=e=>ze(e)&&/^(LI|DT|DD)$/.test(e.nodeName),IW=e=>uz(e)&&uz(e.parentNode),R7=e=>{const t=e.parentNode;return nL(t)?t:e},N7=(e,t,o)=>{let s=e[o?"firstChild":"lastChild"];for(;s&&!jt(s);)s=s[o?"nextSibling":"previousSibling"];return s===t},mz=e=>Lo(ya(Em(te.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),LW=(e,t,o,s,a)=>{const c=e.dom,d=e.selection.getRng(),f=o.parentNode;if(o===e.getBody()||!f)return;IW(o)&&(a="LI");const b=nL(s)?mz(s):void 0;let w=nL(s)&&b?t(a,{style:mz(s)}):t(a);if(N7(o,s,!0)&&N7(o,s,!1))if(dz(o,"LI")){const T=R7(o);c.insertAfter(w,T),PW(o)?c.remove(T):c.remove(o)}else c.replace(w,o);else if(N7(o,s,!0))dz(o,"LI")?(c.insertAfter(w,R7(o)),w.appendChild(c.doc.createTextNode(" ")),w.appendChild(o)):f.insertBefore(w,o),c.remove(s);else if(N7(o,s,!1))c.insertAfter(w,R7(o)),c.remove(s);else{o=R7(o);const T=d.cloneRange();T.setStartAfter(s),T.setEndAfter(o);const R=T.extractContents();if(a==="LI"&&BW(R,"LI")){const N=mt(Ro(w.children,te.fromDom),we(Yr("br")));w=R.firstChild,c.insertAfter(R,o),Ze(N,F=>bc(te.fromDom(w),F)),b&&w.setAttribute("style",b)}else c.insertAfter(R,o),c.insertAfter(w,o);c.remove(s)}vC(e,w)},FW=e=>{Ze(Xi(te.fromDom(e),Xa),t=>{const o=t.dom;o.nodeValue=$i(o.data)})},zW=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},HW=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),sL=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,VW=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,rL=(e,t)=>ze(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",$W=(e,t,o)=>{var s;const a=[];if(!o)return;let c=o;for(;c=c.firstChild;){if(e.isBlock(c))return;jt(c)&&!t[c.nodeName.toLowerCase()]&&a.push(c)}let d=a.length;for(;d--;)c=a[d],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((s=c.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||HW(e,c))&&e.remove(c)},aL=(e,t,o)=>ut(t)?e?o===1&&t.data.charAt(o-1)===zr?0:o:o===t.data.length-1&&t.data.charAt(o)===zr?t.data.length:o:o,UW=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,aL(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,aL(!1,e.endContainer,e.endOffset)),t},ZW=e=>{let t=e;do ut(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},jW=(e,t,o,s,a)=>{var c,d;const f=e.dom,b=(c=IE(f,s))!==null&&c!==void 0?c:f.getRoot();let w=f.getParent(s,f.isBlock);if(!w||!rL(f,w)){if(w=w||b,!w.hasChildNodes()){const F=f.create(t);return LE(e,F),w.appendChild(F),o.setStart(F,0),o.setEnd(F,0),F}let T=s;for(;T&&T.parentNode!==w;)T=T.parentNode;let R;for(;T&&!f.isBlock(T);)R=T,T=T.previousSibling;const N=(d=R?.parentElement)===null||d===void 0?void 0:d.nodeName;if(R&&N&&e.schema.isValidChild(N,t.toLowerCase())){const F=R.parentNode,ee=f.create(t);for(LE(e,ee),F.insertBefore(ee,R),T=R;T&&!f.isBlock(T);){const X=T.nextSibling;ee.appendChild(T),T=X}o.setStart(s,a),o.setEnd(s,a)}}return s},WW=(e,t)=>{t.normalize();const o=t.lastChild;(!o||jt(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},qW=(e,t)=>{const o=Ms(e);return Yo(t)?!1:Ge(o)?Ho(at.explode(o),t.nodeName.toLowerCase()):o},gz={insert:(e,t)=>{let o,s,a,c,d=!1;const f=e.dom,b=e.schema,w=b.getNonEmptyElements(),T=e.selection.getRng(),R=Ua(e),N=te.fromDom(T.startContainer),F=cr(N,T.startOffset),ee=F.exists(rt=>Kd(rt)&&!Yi(rt)),X=T.collapsed&&ee,G=(rt,Vt)=>cz(e,o,Et,st,PR(e),rt,Vt),xe=rt=>{const Vt=aL(rt,o,s);if(ut(o)&&(rt?Vt>0:Vt<o.data.length))return!1;if((o.parentNode===Et||o===Et)&&d&&!rt||rt&&jt(o)&&o===Et.firstChild)return!0;if(sL(o,"TABLE")||sL(o,"HR"))return VW(o,"BR")?!rt:d&&!rt||!d&&rt;const io=new Qs(o,Et);ut(o)&&(rt&&Vt===0?io.prev():!rt&&Vt===o.data.length&&io.next());let Ao;for(;Ao=io.current();){if(jt(Ao)){if(!Ao.getAttribute("data-mce-bogus")){const tn=Ao.nodeName.toLowerCase();if(w[tn]&&tn!=="br")return!1}}else if(ut(Ao)&&!Bm(Ao.data))return!1;rt?io.prev():io.next()}return!0},be=()=>{let rt;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&ft!=="HGROUP"?rt=G(R):rt=G(),qW(e,c)&&rL(f,c)&&f.isEmpty(Et,void 0,{includeZwsp:!0})?rt=f.split(c,Et):f.insertAfter(rt,Et),vC(e,rt),rt};tb(f,T).each(rt=>{T.setStart(rt.startContainer,rt.startOffset),T.setEnd(rt.endContainer,rt.endOffset)}),o=T.startContainer,s=T.startOffset;const Se=!!(t&&t.shiftKey),Ie=!!(t&&t.ctrlKey);jt(o)&&o.hasChildNodes()&&!X&&(d=s>o.childNodes.length-1,o=o.childNodes[Math.min(s,o.childNodes.length-1)]||o,d&&ut(o)?s=o.data.length:s=0);const st=IE(f,o);if(!st||zW(e,o))return;Se||(o=jW(e,R,T,o,s));let Et=f.getParent(o,f.isBlock)||f.getRoot();c=ze(Et?.parentNode)?f.getParent(Et.parentNode,f.isBlock):null,a=Et?Et.nodeName.toUpperCase():"";const ft=c?c.nodeName.toUpperCase():"";if(ft==="LI"&&!Ie){const rt=c;Et=rt,c=rt.parentNode,a=ft}if(jt(c)&&NW(e,Se,Et))return MW(e,G,Et);if(/^(LI|DT|DD)$/.test(a)&&jt(c)&&f.isEmpty(Et)){LW(e,G,c,Et,R);return}if(!X&&(Et===e.getBody()||!rL(f,Et)))return;const Xe=Et.parentNode;let qe;if(X)qe=G(R),F.fold(()=>{ln(N,te.fromDom(qe))},rt=>{ea(rt,te.fromDom(qe))}),e.selection.setCursorLocation(qe,0);else if(lf(Et))qe=P0(Et),f.isEmpty(Et)&&oL(Et),LE(e,qe),vC(e,qe);else if(xe(!1))qe=be();else if(xe(!0)&&Xe){const rt=We.fromRangeStart(T),Vt=Tv(rt),io=te.fromDom(Et),tn=Dv(io,rt,e.schema)?_4(io,rt,e.schema).bind(hs=>I.from(hs.getNode())):I.none();qe=Xe.insertBefore(G(),Et);const ds=sL(Et,"HR")||Vt?qe:tn.getOr(Et);vC(e,ds)}else{const rt=UW(T).cloneRange();rt.setEndAfter(Et);const Vt=rt.extractContents();FW(Vt),ZW(Vt),qe=Vt.firstChild,Et===qe?ze(Xe)&&f.insertAfter(Vt,Xe):f.insertAfter(Vt,Et),$W(f,w,qe),WW(f,Et),f.isEmpty(Et)&&oL(Et),qe.normalize(),f.isEmpty(qe)?(f.remove(qe),be()):(LE(e,qe),vC(e,qe))}f.setAttrib(qe,"id",""),e.dispatch("NewBlock",{newBlock:qe})},fakeEventName:"insertParagraph"},GW=(e,t,o)=>{const s=new Qs(t,o);let a;const c=e.getNonEmptyElements();for(;a=s.next();)if(c[a.nodeName.toLowerCase()]||ut(a)&&a.length>0)return!0;return!1},fz=(e,t,o)=>{const s=e.dom.createRng();o?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Cv(e,s)},KW=(e,t)=>{const o=e.selection,s=e.dom,a=o.getRng();let c,d=!1;tb(s,a).each(F=>{a.setStart(F.startContainer,F.startOffset),a.setEnd(F.endContainer,F.endOffset)});let f=a.startOffset,b=a.startContainer;if(jt(b)&&b.hasChildNodes()){const F=f>b.childNodes.length-1;b=b.childNodes[Math.min(f,b.childNodes.length-1)]||b,F&&ut(b)?f=b.data.length:f=0}let w=s.getParent(b,s.isBlock);const T=w&&w.parentNode?s.getParent(w.parentNode,s.isBlock):null,R=T?T.nodeName.toUpperCase():"",N=!!(t&&t.ctrlKey);R==="LI"&&!N&&(w=T),ut(b)&&f>=b.data.length&&(GW(e.schema,b,w||s.getRoot())||(c=s.create("br"),a.insertNode(c),a.setStartAfter(c),a.setEndAfter(c),d=!0)),c=s.create("br"),Ny(s,a,c),fz(e,c,d),e.undoManager.add()},YW=(e,t)=>{const o=te.fromTag("br");ea(te.fromDom(t),o),e.undoManager.add()},XW=(e,t)=>{JW(e.getBody(),t)||Hl(te.fromDom(t),te.fromTag("br"));const o=te.fromTag("br");Hl(te.fromDom(t),o),fz(e,o.dom,!1),e.undoManager.add()},QW=e=>Ns(e.getNode()),JW=(e,t)=>QW(We.after(t))?!0:_l(e,We.after(t)).map(o=>Ns(o.getNode())).getOr(!1),pz=e=>e&&e.nodeName==="A"&&"href"in e,eq=e=>e.fold(_o,pz,pz,_o),tq=e=>{const t=He(Cf,e),o=We.fromRangeStart(e.selection.getRng());return Xp(t,e.getBody(),o).filter(eq)},oq=(e,t)=>{t.fold(Do,He(YW,e),He(XW,e),Do)},hz={insert:(e,t)=>{const o=tq(e);o.isSome()?o.each(He(oq,e)):KW(e,t)},fakeEventName:"insertLineBreak"},bz=(e,t)=>tL(e).filter(o=>t.length>0&&Bn(te.fromDom(o),t)).isSome(),nq=e=>bz(e,MR(e)),sq=e=>bz(e,BR(e)),yu=il.generate([{br:[]},{block:[]},{none:[]}]),rq=(e,t)=>sq(e),xz=e=>(t,o)=>TW(t)===e,vz=(e,t)=>(o,s)=>AW(o)===e.toUpperCase()===t,aq=e=>{const t=IE(e.dom,e.selection.getStart());return Yo(t)},FE=e=>vz("pre",e),iq=()=>vz("summary",!0),M7=e=>(t,o)=>EA(t)===e,lq=(e,t)=>nq(e),B7=(e,t)=>t,cq=e=>{const t=Ua(e),o=IE(e.dom,e.selection.getStart());return ze(o)&&e.schema.isValidChild(o.nodeName,t)},dq=e=>{const t=e.selection.getRng(),o=te.fromDom(t.startContainer),a=cr(o,t.startOffset).map(c=>Kd(c)&&!Yi(c));return t.collapsed&&a.getOr(!0)},cm=(e,t)=>(o,s)=>Lo(e,(c,d)=>c&&d(o,s),!0)?I.some(t):I.none(),uq=(e,t)=>DE([cm([rq],yu.none()),cm([FE(!0),aq],yu.none()),cm([iq()],yu.br()),cm([FE(!0),M7(!1),B7],yu.br()),cm([FE(!0),M7(!1)],yu.block()),cm([FE(!0),M7(!0),B7],yu.block()),cm([FE(!0),M7(!0)],yu.br()),cm([xz(!0),B7],yu.br()),cm([xz(!0)],yu.block()),cm([lq],yu.br()),cm([B7],yu.br()),cm([cq],yu.block()),cm([dq],yu.block())],[e,!!(t&&t.shiftKey)]).getOr(yu.none()),P7=(e,t,o)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||ms(t),!(ze(o)&&O7(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),ze(o)&&PE(t,e.fakeEventName)))},yz=(e,t)=>{if(e.mode.isReadOnly())return;const o=()=>P7(hz,e,t),s=()=>P7(gz,e,t),a=uq(e,t);switch(NR(e)){case"linebreak":a.fold(o,o,Do);break;case"block":a.fold(s,s,Do);break;case"invert":a.fold(s,o,Do);break;default:a.fold(o,s,Do);break}},wz=qi(),mq=wz.os.isiOS()&&wz.browser.isSafari(),_z=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),O_(e.undoManager),e.undoManager.transact(()=>{yz(e,t)}))},gq=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(ut(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return o.test(s)}else return!1},fq=e=>{let t=I.none();const o=a=>{t=I.some(a.selection.getBookmark()),a.undoManager.add()},s=(a,c)=>{a.undoManager.undo(),t.fold(Do,d=>a.selection.moveToBookmark(d)),_z(a,c),t=I.none()};e.on("keydown",a=>{a.keyCode===Bt.ENTER&&(mq&&gq(e.selection.getRng())?o(e):_z(e,a))}),e.on("keyup",a=>{a.keyCode===Bt.ENTER&&t.each(()=>s(e,a))})},pq=(e,t,o)=>{const s=Eo.os.isMacOS()||Eo.os.isiOS();ME([{keyCode:Bt.END,action:vo(qF,e,!0)},{keyCode:Bt.HOME,action:vo(qF,e,!1)},...s?[]:[{keyCode:Bt.HOME,action:vo(C7,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Bt.END,action:vo(C7,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Bt.END,action:vo(n9,e,!0)},{keyCode:Bt.HOME,action:vo(n9,e,!1)},{keyCode:Bt.END,action:vo(_7,e,!0,t)},{keyCode:Bt.HOME,action:vo(_7,e,!1,t)}],o).each(a=>{o.preventDefault()})},hq=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||pq(e,t,o)})},bq=e=>{e.on("input",t=>{t.isComposing||ib(e)})},xq=qi(),vq=(e,t,o)=>{ME([{keyCode:Bt.PAGE_UP,action:vo(_7,e,!1,t)},{keyCode:Bt.PAGE_DOWN,action:vo(_7,e,!0,t)}],o)},Cz=e=>e.stopImmediatePropagation(),kz=e=>e.keyCode===Bt.PAGE_UP||e.keyCode===Bt.PAGE_DOWN,Sz=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",Cz,!0):!o&&e.get()&&t.off("NodeChange",Cz),e.set(o)},yq=(e,t)=>{if(xq.os.isMacOS())return;const o=zn(!1);e.on("keydown",s=>{kz(s)&&Sz(o,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||vq(e,t,s),kz(s)&&o.get()&&(Sz(o,e,!1),e.nodeChanged())})},Ez=(e,t)=>e===t||e.contains(t),wq=(e,t)=>!Ez(e.getBody(),t.startContainer)||!Ez(e.getBody(),t.endContainer)?!0:iT(e.dom,t),_q=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Mn(t.getTargetRanges(),o=>!wq(e,o)))&&t.preventDefault()})},Az=(e,t)=>{const o=t.container(),s=t.offset();return ut(o)?(o.insertData(s,e),I.some(We(o,s+e.length))):av(t).map(a=>{const c=te.fromText(e);return t.isAtEnd()?Hl(a,c):ea(a,c),We(c.dom,e.length)})},Tz=He(Az,Ls),Dz=He(Az," "),Cq=(e,t,o)=>D4(e,t,o)?Tz(t):Dz(t),kq=e=>t=>t.fold(o=>tc(e.dom,We.before(o)),o=>cn(o),o=>Cl(o),o=>_l(e.dom,We.after(o))),Sq=(e,t,o)=>s=>D4(e,s,o)?Tz(t):Dz(t),Oz=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},Eq=(e,t)=>e.isEditable(e.getParent(t,"summary")),Aq=e=>{const t=We.fromRangeStart(e.selection.getRng()),o=te.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=He(Cf,e),a=We.fromRangeStart(e.selection.getRng());return Xp(s,e.getBody(),a).bind(kq(o)).map(c=>()=>Sq(o,t,e.schema)(c).each(Oz(e)))}else return I.none()},Tq=e=>{const t=()=>{const o=te.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=We.fromRangeStart(e.selection.getRng());Cq(o,s,e.schema).each(Oz(e))};return Hd(Eo.browser.isFirefox()&&e.selection.isEditable()&&Eq(e.dom,e.selection.getRng().startContainer),t)},Dq=(e,t)=>{e9([{keyCode:Bt.SPACEBAR,action:vo(Aq,e)},{keyCode:Bt.SPACEBAR,action:vo(Tq,e)}],t).each(o=>{t.preventDefault(),O7(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),PE(e,"insertText",{data:" "}))})},Oq=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Dq(e,t)})},Rq=e=>qy(e)?[{keyCode:Bt.TAB,action:vo(S9,e,!0)},{keyCode:Bt.TAB,shiftKey:!0,action:vo(S9,e,!1)}]:[],Nq=(e,t)=>{ME([...Rq(e)],t).each(o=>{t.preventDefault()})},Mq=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Nq(e,t)})},Bq=e=>{if(e.addShortcut("Meta+P","","mcePrint"),lW(e),rm(e))return zn(null);{const t=Y$(e);return _q(e),GU(e),fj(e,t),kW(e,t),fq(e),Oq(e),bq(e),Mq(e),hq(e,t),yq(e,t),t}},Pq=(e,t)=>{const o=Db(e);o===null||dE(e,o)||e.undoManager.transact(()=>{oe(t.styles)&&e.dom.setStyles(o,t.styles),oe(t.attrs)&&Xo(t.attrs,(s,a)=>e.dom.setAttrib(o,a,s))})},iL=(e,t)=>()=>{const o=Db(e);return ze(o)&&o.nodeName===t},Iq=e=>{e.addCommand("InsertUnorderedList",(t,o)=>{P(e,"UL",o)}),e.addCommand("InsertOrderedList",(t,o)=>{P(e,"OL",o)}),e.addCommand("InsertDefinitionList",(t,o)=>{P(e,"DL",o)}),e.addCommand("RemoveList",()=>{Nb(e)}),e.addCommand("mceListUpdate",(t,o)=>{oe(o)&&Pq(e,o)}),e.addCommand("mceListBackspaceDelete",(t,o)=>{Wt(e,o)}),e.addQueryStateHandler("InsertUnorderedList",iL(e,"UL")),e.addQueryStateHandler("InsertOrderedList",iL(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",iL(e,"DL"))},Lq=e=>{e.on("keydown",t=>{t.keyCode===Bt.BACKSPACE?Wt(e,!1)&&t.preventDefault():t.keyCode===Bt.DELETE&&Wt(e,!0)&&t.preventDefault()})},Rz=e=>e.type===3,Nz=e=>e.length===0,Fq=e=>{const t=(a,c)=>{const d=ai.create("li");Ze(a,f=>d.append(f)),c?e.insert(d,c,!0):e.append(d)},o=(a,c)=>Rz(c)?[...a,c]:!Nz(a)&&!Rz(c)?(t(a,c),[]):a,s=Lo(e.children(),o,[]);Nz(s)||t(s)},zq=e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",o=>Ze(o,Fq))})},Hq=e=>{e.on("keydown",t=>{t.keyCode!==Bt.TAB||Bt.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?aC(e):wE(e))&&t.preventDefault()})})},Vq=e=>{uN(e)&&Hq(e)},$q=e=>{Lq(e),Iq(e),zq(e),Vq(e)};class Uq{constructor(t){this.lastPath=[],this.editor=t;let o;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",a=>{const c=t.selection.getRng(),d={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(a.type==="nodechange"||!eb(d,o))&&t.dispatch("SelectionChange"),o=d}),t.on("contextmenu",()=>{hw(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const a=t.selection.getStart(!0);a&&gv(t)&&!s.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",a=>{!a.isDefaultPrevented()&&gv(t)&&(t.selection.getNode().nodeName==="IMG"?Ad.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor,s=o.selection;let a;if(o.initialized&&s&&!ZR(o)&&!Qm(o)){const c=o.getBody();a=s.getStart(!0)||c,(a.ownerDocument!==o.getDoc()||!o.dom.isChildOf(a,c))&&(a=c);const d=[];o.dom.getParent(a,f=>f===c?!0:(d.push(f),!1)),o.dispatch("NodeChange",{...t,element:a,parents:d})}}isSameElementPath(t){let o;const s=this.editor,a=da(s.dom.getParents(t,Vo,s.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const Mz="x-tinymce/html",I7=dt(Mz),lL="<!-- "+Mz+" -->",Zq=e=>lL+e,jq=e=>e.replace(lL,""),Bz=e=>e.indexOf(lL)!==-1,Wq=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),qq=(e,t)=>{let o="<"+e;const s=ya(t,(a,c)=>c+'="'+fd.encodeAllRaw(a)+'"');return s.length&&(o+=" "+s.join(" ")),o+">"},Gq=(e,t,o)=>{const s=e.split(/\n\n/),a=qq(t,o),c="</"+t+">",d=Ro(s,b=>b.split(/\n/).join("<br />")),f=b=>a+b+c;return d.length===1?d[0]:Ro(d,f).join("")},Pz="%MCEPASTEBIN%",Kq=(e,t)=>{const{dom:o,selection:s}=e,a=e.getBody();t.set(s.getRng());const c=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Pz);Eo.browser.isFirefox()&&o.setStyle(c,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(c,"beforedeactivate focusin focusout",d=>{d.stopPropagation()}),c.focus(),s.select(c,!0)},Yq=(e,t)=>{const o=e.dom;if(cL(e)){let s;const a=t.get();for(;s=cL(e);)o.remove(s),o.unbind(s);a&&e.selection.setRng(a)}t.set(null)},cL=e=>e.dom.get("mcepastebin"),Xq=e=>ze(e)&&e.id==="mcepastebin",Qq=e=>{const t=e.dom,o=(d,f)=>{d.appendChild(f),t.remove(f,!0)},[s,...a]=mt(e.getBody().childNodes,Xq);Ze(a,d=>{o(s,d)});const c=t.select("div[id=mcepastebin]",s);for(let d=c.length-1;d>=0;d--){const f=t.create("div");s.insertBefore(f,c[d]),o(f,c[d])}return s?s.innerHTML:""},Iz=e=>e===Pz,Jq=e=>{const t=zn(null);return{create:()=>Kq(e,t),remove:()=>Yq(e,t),getEl:()=>cL(e),getHtml:()=>Qq(e),getLastRng:t.get}},Lz=(e,t)=>(at.each(t,o=>{Le(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),eG=e=>{const t=Gt(),o=zp({},t);let s="";const a=t.getVoidElements(),c=at.makeMap("script noscript style textarea video audio iframe object"," "),d=t.getBlockElements(),f=b=>{const w=b.name,T=b;if(w==="br"){s+=`
`;return}if(w!=="wbr"){if(a[w]&&(s+=" "),c[w]){s+=" ";return}if(b.type===3&&(s+=b.value),!(b.name in t.getVoidElements())){let R=b.firstChild;if(R)do f(R);while(R=R.next)}d[w]&&T.next&&(s+=`
`,w==="p"&&(s+=`
`))}};return e=Lz(e,[/<!\[[^\]]+\]>/g]),f(o.parse(e)),s},Fz=e=>(e=Lz(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,s,a)=>!s&&!a?" ":Ls],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),tG=e=>{let t=0;return()=>e+t++},oG=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return at.hasOwn(o,t)?"image/"+o[t]:"image/"+t},nG=(e,t)=>{const o=zp({sanitize:bk(e),sandbox_iframes:nv(e),sandbox_iframes_exclusions:vk(e),convert_unsafe_embeds:KA(e)},e.schema);o.addNodeFilter("meta",a=>{at.each(a,c=>{c.remove()})});const s=o.parse(t,{forced_root_block:!1,isRootContent:!0});return Tp({validate:!0},e.schema).serialize(s)},zz=(e,t)=>({content:e,cancelled:t}),sG=(e,t,o)=>{const s=e.dom.create("div",{style:"display:none"},t),a=Xt(e,s,o);return zz(a.node.innerHTML,a.isDefaultPrevented())},rG=(e,t,o)=>{const s=TR(e,t,o),a=nG(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?sG(e,a,o):zz(a,s.isDefaultPrevented())},aG=(e,t,o)=>rG(e,t,o),dL=(e,t)=>(e.insertContent(t,{merge:VA(e),paste:!0}),!0),uL=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),iG=(e,t)=>uL(t)&&Mn(qA(e),o=>Tg(t.toLowerCase(),`.${o.toLowerCase()}`)),lG=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),cG=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),dG=(e,t,o)=>!e.selection.isCollapsed()&&uL(t)?cG(e,t,o):!1,uG=(e,t,o)=>iG(e,t)?lG(e,t,o):!1,mG=(e,t)=>{at.each([dG,uG,dL],o=>!o(e,t,dL))},gG=(e,t,o)=>{o||!$A(e)?dL(e,t):mG(e,t)},fG=tG("mceclip"),pG=e=>{const t=jI();return h9(t,e),ZI(t),t},Hz=(e,t,o,s,a)=>{const c=aG(e,t,o);if(!c.cancelled){const d=c.content,f=()=>gG(e,d,s);a?O7(e,"insertFromPaste",{dataTransfer:pG(d)}).isDefaultPrevented()||(f(),PE(e,"insertFromPaste")):f()}},L7=(e,t,o,s)=>{const a=o||Bz(t);Hz(e,jq(t),a,!1,s)},mL=(e,t,o)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),a=ay(s,UA(e)),c=Gq(a,Ua(e),L0(e));Hz(e,c,!1,!0,o)},Vz=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const s=e.types[o];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},Vb=(e,t)=>t in e&&e[t].length>0,$z=e=>Vb(e,"text/html")||Vb(e,"text/plain"),hG=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return ze(o)?e.dom.encode(o[1]):void 0},bG=(e,t,o,s)=>{const a=fG(),c=tv(e)&&ze(o.name),d=c?hG(e,o.name):a,f=c?o.name:void 0,b=t.create(a,o,s,d,f);return t.add(b),b},xG=(e,t)=>{x3(t.uri).each(({data:o,type:s,base64Encoded:a})=>{const c=a?o:btoa(o),d=t.file,f=e.editorUpload.blobCache,b=f.getByData(c,s),w=b??bG(e,f,d,c);L7(e,`<img src="${w.blobUri()}">`,!1,!0)})},vG=e=>e.type==="paste",yG=e=>Promise.all(Ro(e,t=>Lp(t).then(o=>({file:t,uri:o})))),wG=e=>{const t=qA(e);return o=>Is(o.type,"image/")&&Mn(t,s=>oG(s)===o.type)},_G=(e,t)=>{const o=t.items?sr(Tt(t.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],s=t.files?Tt(t.files):[];return mt(o.length>0?o:s,wG(e))},Uz=(e,t,o)=>{const s=vG(t)?t.clipboardData:t.dataTransfer;if(Wy(e)&&s){const a=_G(e,s);if(a.length>0)return t.preventDefault(),yG(a).then(c=>{o&&e.selection.setRng(o),Ze(c,d=>{xG(e,d)})}),!0}return!1},CG=e=>{var t,o;return Eo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},kG=e=>Bt.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,gL=(e,t,o,s,a)=>{let c=Fz(o);const d=Vb(t,I7())||Bz(o),f=!d&&Wq(c),b=uL(c);(Iz(c)||!c.length||f&&!b)&&(s=!0),(s||b)&&(Vb(t,"text/plain")&&f?c=t["text/plain"]:c=eG(c)),!Iz(c)&&(s?mL(e,c,a):L7(e,c,d,a))},SG=(e,t,o)=>{let s;const a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{kG(c)&&!c.isDefaultPrevented()&&(s=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||CG(c))return;const d=o.get()==="text"||s;s=!1;const f=Vz(c.clipboardData);!$z(f)&&Uz(e,c,a())||(Vb(f,"text/html")?(c.preventDefault(),gL(e,f,f["text/html"],d,!0)):Vb(f,"text/plain")&&Vb(f,"text/uri-list")?(c.preventDefault(),gL(e,f,f["text/plain"],d,!0)):(t.create(),Ad.setEditorTimeout(e,()=>{const b=t.getHtml();t.remove(),gL(e,f,b,d,!1)},0)))})},EG=e=>{const t=a=>Is(a,"webkit-fake-url"),o=a=>Is(a,"data:"),s=a=>{var c;return((c=a.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(a,c,d)=>{if(!Wy(e)&&s(d))for(const f of a){const b=f.attr("src");Ge(b)&&!f.attr("data-mce-object")&&b!==Eo.transparentSrc&&(t(b)||!oN(e)&&o(b))&&f.remove()}})},AG=(e,t,o)=>{SG(e,t,o),EG(e)},TG=(e,t)=>{t.get()==="text"?(t.set("html"),Sd(e,!1)):(t.set("text"),Sd(e,!0)),e.focus()},DG=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{TG(e,t)}),e.addCommand("mceInsertClipboardContent",(o,s)=>{s.html&&L7(e,s.html,s.internal,!1),s.text&&mL(e,s.text,!1)})},OG=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(I7(),t),!0}catch{return!1}else return!1},Zz=(e,t,o,s)=>{OG(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):o(t.html,s)},jz=e=>(t,o)=>{const{dom:s,selection:a}=e,c=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=s.create("div",{contenteditable:"true"},t);s.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(d),s.add(e.getBody(),c);const f=a.getRng();d.focus();const b=s.createRng();b.selectNodeContents(d),a.setRng(b),Ad.setEditorTimeout(e,()=>{a.setRng(f),s.remove(c),o()},0)},Wz=e=>({html:Zq(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),RG=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),qz=e=>!e.selection.isCollapsed()||RG(e),NG=(e,t)=>o=>{!o.isDefaultPrevented()&&qz(e)&&e.selection.isEditable()&&Zz(o,Wz(e),jz(e),()=>{if(Eo.browser.isChromium()||Eo.browser.isFirefox()){const s=e.selection.getRng();Ad.setEditorTimeout(e,()=>{e.selection.setRng(s),LI(e,t)},0)}else LI(e,t)})},MG=e=>t=>{!t.isDefaultPrevented()&&qz(e)&&Zz(t,Wz(e),jz(e),Do)},BG=(e,t)=>{e.on("cut",NG(e,t)),e.on("copy",MG(e))},Gz=(e,t)=>{var o,s;return ag.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},PG=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},Kz=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},IG=e=>Mn(e.files,t=>/^image\//.test(t.type)),LG=(e,t,o,s)=>{const a=e.getParent(o,d=>Uu(t,d));if(!rn(e.getParent(o,"summary")))return!0;if(a&&xo(s,"text/html")){const d=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!rn(d.querySelector(a.nodeName.toLowerCase()))}else return!1},FG=e=>{e.on("input",t=>{const o=s=>rn(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=mt(e.dom.select("details"),o);Ze(s,a=>{Ns(a.firstChild)&&a.firstChild.remove();const c=e.dom.create("summary");c.appendChild(rf().dom),a.prepend(c)})}})},zG=(e,t)=>{XR(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),Wy(e)||e.on("drop",o=>{const s=o.dataTransfer;s&&IG(s)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const s=Gz(e,o);if(Yo(s))return;const a=Vz(o.dataTransfer),c=Vb(a,I7());if((!$z(a)||PG(a))&&Uz(e,o,s))return;const d=a[I7()],f=d||a["text/html"]||a["text/plain"],b=LG(e.dom,e.schema,s.startContainer,a),w=t.get();w&&!b||f&&(o.preventDefault(),Ad.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(d||w&&b)&&e.execCommand("Delete"),Kz(e,s);const T=Fz(f);a["text/html"]?L7(e,T,c,!0):mL(e,T,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{Wy(e)&&!t.get()&&(o.preventDefault(),Kz(e,Gz(e,o))),o.type==="dragend"&&t.set(!1)}),FG(e)},HG=e=>{const t=a=>c=>{a(e,c)},o=QR(e);no(o)&&e.on("PastePreProcess",t(o));const s=pk(e);no(s)&&e.on("PastePostProcess",t(s))},VG=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},$G=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Yz=e=>at.trim(e).replace($G,Jg).toLowerCase(),UG=(e,t,o)=>{const s=JR(e);if(o||s==="all"||!eN(e))return t;const a=s?s.split(/[, ]/):[];if(a&&s!=="none"){const c=e.dom,d=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(f,b,w,T)=>{const R=c.parseStyle(c.decode(w)),N={};for(let ee=0;ee<a.length;ee++){const X=R[a[ee]];let G=X,xe=c.getStyle(d,a[ee],!0);/color/.test(a[ee])&&(G=Yz(G),xe=Yz(xe)),xe!==G&&(N[a[ee]]=X)}const F=c.serializeStyle(N,"span");return F?b+' style="'+F+'"'+T:b+T})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,d,f,b)=>d+' style="'+f+'"'+b),t},ZG=e=>{(Eo.browser.isChromium()||Eo.browser.isSafari())&&VG(e,UG)},jG=(e,t)=>{const o=zn(!1),s=zn(tN(e)?"text":"html"),a=Jq(e);ZG(e),DG(e,s),HG(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>s.get()==="text"),e.on("PreInit",()=>{BG(e,t),zG(e,o),AG(e,a,s)})},WG=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},qG=e=>{e.parser.addNodeFilter("details",t=>{const o=lN(e);Ze(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=GA(e);Ze(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})})},GG=e=>{WG(e),qG(e)},KG=Ns,Xz=ut,YG=e=>Wn(e.dom),XG=e=>hi(e.dom),Qz=e=>t=>Jo(te.fromDom(e),t),QG=(e,t,o)=>Ii(te.fromDom(e),s=>XG(s)||o.isBlock(Fo(s)),Qz(t)).getOr(te.fromDom(t)).dom,Jz=(e,t)=>Ii(te.fromDom(e),YG,Qz(t)),eH=(e,t,o)=>{const s=new Qs(e,t),a=o?s.next.bind(s):s.prev.bind(s);let c=e;for(let d=o?e:a();d&&!KG(d);d=a())zo(d)&&(c=d);return c},JG=(e,t,o)=>{const a=We.fromRangeStart(e).getNode(),c=QG(a,t,o),d=eH(a,c,!1),f=eH(a,c,!0),b=document.createRange();return Jz(d,c).fold(()=>{Xz(d)?b.setStart(d,0):b.setStartBefore(d)},w=>b.setStartBefore(w.dom)),Jz(f,c).fold(()=>{Xz(f)?b.setEnd(f,f.data.length):b.setEndAfter(f)},w=>b.setEndAfter(w.dom)),b},eK=e=>{const t=JG(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(hb(t))},tK=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),eK(e))})};var yC;(function(e){e.Before="before",e.After="after"})(yC||(yC={}));const oK=(e,t)=>Math.abs(e.left-t),nK=(e,t)=>Math.abs(e.right-t),sK=(e,t)=>e>=t.top&&e<=t.bottom,rK=(e,t)=>e.top<t.bottom&&e.bottom>t.top,aK=(e,t)=>{const o=re(e,t)/Math.min(e.height,t.height);return rK(e,t)&&o>.5},iK=(e,t)=>{const o=mt(e,s=>sK(t,s));return z(o).fold(()=>[[],e],s=>{const{pass:a,fail:c}=_t(e,d=>aK(d,s));return[a,c]})},lK=(e,t)=>({node:e.node,position:oK(e,t)<nK(e,t)?yC.Before:yC.After}),cK=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),fL=(e,t,o,s)=>{const a=R=>zo(R.node)?I.some(R):jt(R.node)?fL(Tt(R.node.childNodes),t,o,!1):I.none(),c=(R,N,F)=>a(N).filter(ee=>Math.abs(F(R,t,o)-F(ee,t,o))<2&&ut(ee.node)),d=(R,N)=>{const F=Qt(R,(ee,X)=>N(ee,t,o)-N(X,t,o));return Ai(F,a).map(ee=>s&&!ut(ee.node)&&F.length>1?c(ee,F[1],N).getOr(ee):ee)},[f,b]=iK(mF(e),o),{pass:w,fail:T}=_t(b,R=>R.top<o);return d(f,cK).orThunk(()=>d(T,Q)).orThunk(()=>d(w,Q))},dK=(e,t,o,s)=>{const a=(c,d)=>{const f=w=>jt(w)&&w.classList.contains("mce-drag-container"),b=mt(c.dom.childNodes,we(f));return d.fold(()=>fL(b,o,s,!0),w=>{const T=mt(b,R=>R!==w.dom);return fL(T,o,s,!0)}).orThunk(()=>(Jo(c,e)?I.none():ym(c)).bind(T=>a(T,I.some(c))))};return a(t,I.none())},uK=(e,t,o)=>{const s=te.fromDom(e),a=pc(s),d=te.fromPoint(a,t,o).filter(f=>Rr(s,f)).getOr(s);return dK(s,d,t,o)},tH=(e,t,o)=>uK(e,t,o).filter(s=>U0(s.node)).map(s=>lK(s,t)),oH=e=>{var t,o;const s=e.getBoundingClientRect(),a=e.ownerDocument,c=a.documentElement,d=a.defaultView;return{top:s.top+((t=d?.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:s.left+((o=d?.scrollX)!==null&&o!==void 0?o:0)-c.clientLeft}},mK=e=>e.inline?oH(e.getBody()):{left:0,top:0},gK=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},fK=e=>{const t=e.getBody(),o=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?s:a},pK=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=oH(e.getContentAreaContainer()),s=fK(e);return{left:t.pageX-o.left+s.left,top:t.pageY-o.top+s.top}}return{left:t.pageX,top:t.pageY}},hK=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),bK=(e,t)=>hK(mK(e),gK(e),pK(e,t)),nH=e=>({target:e,srcElement:e}),xK=(e,t,o,s)=>({...t,dataTransfer:s,type:e,...nH(o)}),vK=(e,t,o)=>{const s=pt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:Do,stopImmediatePropagation:Do,stopPropagation:Do,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:o,...nH(t)}},yK=(e,t)=>{const o=FZ(e);return t==="dragstart"?(u9(o),g9(o)):t==="drop"?(DZ(o),ZI(o)):(OZ(o),BZ(o)),o},wK=(e,t,o,s)=>{const a=yK(o,e);return Os(s)?vK(e,t,a):xK(e,s,t,a)},F7=32,_K=100,z7=8,H7=16,sH=Wn,CK=_e(sH,hi),kK=(e,t,o)=>sH(o)&&o!==t&&e.isEditable(o.parentElement),SK=(e,t,o)=>Yo(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),EK=(e,t,o,s)=>{const a=e.dom,c=t.cloneNode(!0);a.setStyles(c,{width:o,height:s}),a.setAttrib(c,"data-mce-selected",null);const d=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:s}),a.setStyles(c,{margin:0,boxSizing:"border-box"}),d.appendChild(c),d},AK=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},V7=(e,t)=>o=>()=>{const s=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:s+t,behavior:"smooth"})},rH=V7("left",-F7),aH=V7("left",F7),iH=V7("top",-F7),lH=V7("top",F7),TK=(e,t,o,s,a,c,d,f,b,w,T,R)=>{let N=0,F=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>a&&(N=t.pageX+o-a),t.pageY+s>c&&(F=t.pageY+s-c),e.style.width=o-N+"px",e.style.height=s-F+"px";const ee=b.clientHeight,X=b.clientWidth,G=d+b.getBoundingClientRect().top,xe=f+b.getBoundingClientRect().left;T.on(be=>{be.intervalId.clear(),be.dragging&&R&&(d+z7>=ee?be.intervalId.set(lH(w)):d-z7<=0?be.intervalId.set(iH(w)):f+z7>=X?be.intervalId.set(aH(w)):f-z7<=0?be.intervalId.set(rH(w)):G+H7>=window.innerHeight?be.intervalId.set(lH(window)):G-H7<=0?be.intervalId.set(iH(window)):xe+H7>=window.innerWidth?be.intervalId.set(aH(window)):xe-H7<=0&&be.intervalId.set(rH(window)))})},cH=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},DK=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);cH(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Rc(te.fromDom(o))},OK=e=>e.button===0,RK=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),NK=(e,t)=>o=>{if(OK(o)){const s=yn(t.dom.getParents(o.target),CK).getOr(null);if(ze(s)&&kK(t.dom,t.getBody(),s)){const a=t.dom.getPos(s),c=t.getBody(),d=t.getDoc().documentElement;e.set({element:s,dataTransfer:jI(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?c.scrollWidth:d.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:d.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:s.offsetWidth,height:s.offsetHeight,ghost:EK(t,s,s.offsetWidth,s.offsetHeight),intervalId:Vf(_K)})}}},MK=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),tH(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),s=>{const a=e._selectionOverrides.showCaret(1,s.node,s.position===yC.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,o)})},zE=(e,t,o,s,a)=>{t==="dragstart"&&h9(s,e.dom.getOuterHTML(o));const c=wK(t,o,s,a);return e.dispatch(t,c)},BK=(e,t)=>{const o=xs((a,c)=>MK(t,a,c),0);t.on("remove",o.cancel);const s=e;return a=>e.on(c=>{const d=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&d>10){const f=zE(t,"dragstart",c.element,c.dataTransfer,a);if(ze(f.dataTransfer)&&(c.dataTransfer=f.dataTransfer),f.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const f=a.currentTarget===t.getDoc().documentElement,b=RK(c,bK(t,a));AK(c.ghost,t.getBody()),TK(c.ghost,b,c.width,c.height,c.maxX,c.maxY,a.clientY,a.clientX,t.getContentAreaContainer(),t.getWin(),s,f),o.throttle(a.clientX,a.clientY)}})},PK=e=>{const t=e.getSel();if(ze(t)){const s=t.getRangeAt(0).startContainer;return ut(s)?s.parentNode:s}else return null},IK=(e,t)=>o=>{e.on(s=>{var a;if(s.intervalId.clear(),s.dragging){if(SK(t,PK(t.selection),s.element)){const c=(a=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&a!==void 0?a:t.getBody();zE(t,"drop",c,s.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{DK(t.dom,s.element),zZ(s.dataTransfer).each(f=>t.insertContent(f)),t._selectionOverrides.hideFakeCaret()})}zE(t,"dragend",t.getBody(),s.dataTransfer,o)}}),uH(e)},dH=(e,t,o)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&o.fold(()=>zE(t,"dragend",s.element,s.dataTransfer),a=>zE(t,"dragend",s.element,s.dataTransfer,a))}),uH(e)},LK=(e,t)=>o=>dH(e,t,I.some(o)),uH=e=>{e.on(t=>{t.intervalId.clear(),cH(t.ghost)}),e.clear()},FK=e=>{const t=Bl(),o=On.DOM,s=document,a=NK(t,e),c=BK(t,e),d=IK(t,e),f=LK(t,e);e.on("mousedown",a),e.on("mousemove",c),e.on("mouseup",d),o.bind(s,"mousemove",c),o.bind(s,"mouseup",f),e.on("remove",()=>{o.unbind(s,"mousemove",c),o.unbind(s,"mouseup",f)}),e.on("keydown",b=>{b.keyCode===Bt.ESC&&dH(t,e,I.none())})},zK=e=>{const t=a=>{if(!a.isDefaultPrevented()){const c=a.dataTransfer;c&&(Ho(c.types,"Files")||c.files.length>0)&&(a.preventDefault(),a.type==="drop"&&v2(e,"Dropped file type is not supported"))}},o=a=>{r1(e,a.target)&&t(a)},s=()=>{const a=On.DOM,c=e.dom,d=document,f=e.inline?e.getBody():e.getDoc(),b=["drop","dragover"];Ze(b,w=>{a.bind(d,w,o),c.bind(f,w,t)}),e.on("remove",()=>{Ze(b,w=>{a.unbind(d,w,o),c.unbind(f,w,t)})})};e.on("init",()=>{Ad.setEditorTimeout(e,s,0)})},HK=e=>{FK(e),qR(e)&&zK(e)},VK=e=>{const t=xs(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const s=cC(e,o,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},$K=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(bi(o)){const s=Bp(e.getBody(),o),a=Wn(s)?s:o;e.selection.getNode()!==a&&Lb(e,a).each(c=>e.selection.setRng(c))}})})},HE=Wn,mH=(e,t)=>Bp(e.getBody(),t),UK=e=>{const t=e.selection,o=e.dom,s=e.getBody(),a=n5(e,s,o.isBlock,()=>Ic(e)),c="sel-"+o.uniqueId(),d="data-mce-selected";let f;const b=ft=>ze(ft)&&o.hasClass(ft,"mce-offscreen-selection"),w=ft=>ft!==s&&(HE(ft)||bi(ft))&&o.isChildOf(ft,s)&&o.isEditable(ft.parentNode),T=ft=>{ft&&t.setRng(ft)},R=(ft,Xe,qe,rt=!0)=>e.dispatch("ShowCaret",{target:Xe,direction:ft,before:qe}).isDefaultPrevented()?null:(rt&&t.scrollIntoView(Xe,ft===-1),a.show(qe,Xe)),N=ft=>{ft.hasAttribute("data-mce-caret")&&(P0(ft),t.scrollIntoView(ft))},F=()=>{e.on("click",Xe=>{o.isEditable(Xe.target)||(Xe.preventDefault(),e.focus())}),e.on("blur NewBlock",Ie),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",Xe=>{const qe=Xe.target,rt=mH(e,qe);HE(rt)?(Xe.preventDefault(),Lb(e,rt).each(Se)):w(qe)&&Lb(e,qe).each(Se)},!0),e.on("mousedown",Xe=>{const qe=Xe.target;if(qe!==s&&qe.nodeName!=="HTML"&&!o.isChildOf(qe,s)||!ZO(e,Xe.clientX,Xe.clientY))return;Ie(),Et();const rt=mH(e,qe);HE(rt)?(Xe.preventDefault(),Lb(e,rt).each(Se)):tH(s,Xe.clientX,Xe.clientY).each(Vt=>{Xe.preventDefault();const io=R(1,Vt.node,Vt.position===yC.Before,!1);T(io),Mo(rt)?rt.focus():e.getBody().focus()})}),e.on("keypress",Xe=>{Bt.modifierPressed(Xe)||HE(t.getNode())&&Xe.preventDefault()}),e.on("GetSelectionRange",Xe=>{let qe=Xe.range;if(f){if(!f.parentNode){f=null;return}qe=qe.cloneRange(),qe.selectNode(f),Xe.range=qe}}),e.on("focusin",Xe=>{if(!bi(Xe.target)&&e.getBody().contains(Xe.target)&&Xe.target!==e.getBody()&&!e.dom.isEditable(Xe.target.parentNode)){a.isShowing()&&a.hide(),Xe.target.contains(e.selection.getNode())||(e.selection.select(Xe.target,!0),e.selection.collapse(!0));const qe=Se(e.selection.getRng(),!0);qe&&e.selection.setRng(qe)}}),e.on("SetSelectionRange",Xe=>{Xe.range=G(Xe.range);const qe=Se(Xe.range,Xe.forward);qe&&(Xe.range=qe)});const ft=Xe=>jt(Xe)&&Xe.id==="mcepastebin";e.on("AfterSetSelectionRange",Xe=>{const qe=Xe.range,rt=qe.startContainer.parentElement;!X(qe)&&!ft(rt)&&Et(),b(rt)||Ie()}),HK(e),VK(e),$K(e)},ee=ft=>xl(ft)||pp(ft)||jh(ft),X=ft=>ee(ft.startContainer)||ee(ft.endContainer),G=ft=>{const Xe=e.schema.getVoidElements(),qe=o.createRng(),rt=ft.startContainer,Vt=ft.startOffset,io=ft.endContainer,Ao=ft.endOffset;return xo(Xe,rt.nodeName.toLowerCase())?Vt===0?qe.setStartBefore(rt):qe.setStartAfter(rt):qe.setStart(rt,Vt),xo(Xe,io.nodeName.toLowerCase())?Ao===0?qe.setEndBefore(io):qe.setEndAfter(io):qe.setEnd(io,Ao),qe},xe=(ft,Xe)=>{const qe=te.fromDom(e.getBody()),rt=e.getDoc(),Vt=Fs(qe,"#"+c).getOrThunk(()=>{const tn=te.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',rt);return jr(tn,"id",c),ln(qe,tn),tn}),io=o.createRng();Pu(Vt),Zs(Vt,[te.fromText(Ls,rt),te.fromDom(Xe),te.fromText(Ls,rt)]),io.setStart(Vt.dom.firstChild,1),io.setEnd(Vt.dom.lastChild,0),Xf(Vt,{top:o.getPos(ft,e.getBody()).y+"px"}),Lg(Vt);const Ao=t.getSel();return Ao&&(Ao.removeAllRanges(),Ao.addRange(io)),io},be=ft=>{const Xe=ft.cloneNode(!0),qe=e.dispatch("ObjectSelected",{target:ft,targetClone:Xe});if(qe.isDefaultPrevented())return null;const rt=xe(ft,qe.targetClone),Vt=te.fromDom(ft);return Ze(Wr(te.fromDom(e.getBody()),`*[${d}]`),io=>{Jo(Vt,io)||Nr(io,d)}),o.getAttrib(ft,d)||ft.setAttribute(d,"1"),f=ft,Et(),rt},Se=(ft,Xe)=>{if(!ft)return null;if(ft.collapsed){if(!X(ft)){const io=Xe?1:-1,Ao=j0(io,s,ft),tn=Ao.getNode(!Xe);if(ze(tn)){if(U0(tn))return R(io,tn,Xe?!Ao.isAtEnd():!1,!1);if(qm(tn)&&Wn(tn.nextSibling)){const hs=o.createRng();return hs.setStart(tn,0),hs.setEnd(tn,0),hs}}const ds=Ao.getNode(Xe);if(ze(ds)){if(U0(ds))return R(io,ds,Xe?!1:!Ao.isAtEnd(),!1);if(qm(ds)&&Wn(ds.previousSibling)){const hs=o.createRng();return hs.setStart(ds,1),hs.setEnd(ds,1),hs}}}return null}let qe=ft.startContainer,rt=ft.startOffset;const Vt=ft.endOffset;if(ut(qe)&&rt===0&&HE(qe.parentNode)&&(qe=qe.parentNode,rt=o.nodeIndex(qe),qe=qe.parentNode),!jt(qe))return null;if(Vt===rt+1&&qe===ft.endContainer){const io=qe.childNodes[rt];if(w(io))return be(io)}return null},Ie=()=>{f&&f.removeAttribute(d),Fs(te.fromDom(e.getBody()),"#"+c).each(ls),f=null},st=()=>{a.destroy(),f=null},Et=()=>{a.hide()};return rm(e)||F(),{showCaret:R,showBlockCaretContainer:N,hideFakeCaret:Et,destroy:st}},ZK=(e,t)=>{let o=t;for(let s=e.previousSibling;ut(s);s=s.previousSibling)o+=s.data.length;return o},gH=(e,t,o,s,a)=>{if(ut(o)&&(s<0||s>o.data.length))return[];const c=a&&ut(o)?[ZK(o,s)]:[s];let d=o;for(;d!==t&&d.parentNode;)c.push(e.nodeIndex(d,a)),d=d.parentNode;return d===t?c.reverse():[]},pL=(e,t,o,s,a,c,d=!1)=>{const f=gH(e,t,o,s,d),b=gH(e,t,a,c,d);return{start:f,end:b}},fH=(e,t)=>{const o=t.slice(),s=o.pop();return E(s)?Lo(o,(c,d)=>c.bind(f=>I.from(f.childNodes[d])),I.some(e)).bind(c=>ut(c)&&(s<0||s>c.data.length)?I.none():I.some({node:c,offset:s})):I.none()},pH=(e,t)=>fH(e,t.start).bind(({node:o,offset:s})=>fH(e,t.end).map(({node:a,offset:c})=>{const d=document.createRange();return d.setStart(o,s),d.setEnd(a,c),d})),jK=(e,t,o,s=!1)=>pL(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,s),wC=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const s=t.parentNode;e.remove(t,ut(t.firstChild)&&Bm(t.firstChild.data)),wC(e,s,o)}},$7=(e,t,o,s=!0)=>{const a=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),s&&!o(t.startContainer)&&(ut(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),ut(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),wC(e,a,o),a!==c&&wC(e,c,o))},U7=(e,t)=>I.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),hL=(e,t,o)=>{const s=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:YC(s).concat(e.blockPatterns),inlinePatterns:hA(s).concat(e.inlinePatterns)}},bL=(e,t,o,s)=>{const a=e.createRng();return a.setStart(t,0),a.setEnd(o,s),a.toString()},hH=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Z7=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},bH=(e,t,o)=>{const s=pH(e.getRoot(),o).getOrDie("Unable to resolve path range"),a=s.startContainer,c=s.endContainer,d=s.endOffset===0?c:c.splitText(s.endOffset),f=s.startOffset===0?a:a.splitText(s.startOffset),b=f.parentNode,w=d.parentNode;return{prefix:t,end:w.insertBefore(hH(e,t+"-end"),d),start:b.insertBefore(hH(e,t+"-start"),f)}},xH=(e,t,o)=>{wC(e,e.get(t.prefix+"-end"),o),wC(e,e.get(t.prefix+"-start"),o)},xL=e=>e.start.length===0,WK=e=>(t,o)=>{const a=t.data.substring(0,o),c=a.lastIndexOf(e.charAt(e.length-1)),d=a.lastIndexOf(e);return d!==-1?d+e.length:c!==-1?c+1:-1},vH=(e,t,o,s)=>{const a=t.start;return KI(e,s.container,s.offset,WK(a),o).bind(d=>{var f,b;const w=(b=(f=o.textContent)===null||f===void 0?void 0:f.indexOf(a))!==null&&b!==void 0?b:-1;if(w!==-1&&d.offset>=w+a.length){const R=e.createRng();return R.setStart(d.container,d.offset-a.length),R.setEnd(d.container,d.offset),I.some(R)}else{const R=d.offset-a.length;return GI(d.container,R,o).map(N=>{const F=e.createRng();return F.setStart(N.container,N.offset),F.setEnd(d.container,d.offset),F}).filter(N=>N.toString()===a).orThunk(()=>vH(e,t,o,Bf(d.container,0)))}})},qK=(e,t,o,s,a,c=!1)=>{if(t.start.length===0&&!c){const d=e.createRng();return d.setStart(o,s),d.setEnd(o,s),I.some(d)}return qI(o,s,a).bind(d=>vH(e,t,a,d).bind(b=>{var w;if(c){if(b.endContainer===d.container&&b.endOffset===d.offset)return I.none();if(d.offset===0&&((w=b.endContainer.textContent)===null||w===void 0?void 0:w.length)===b.endOffset)return I.none()}return I.some(b)}))},GK=(e,t,o,s)=>{const a=e.dom,c=a.getRoot(),d=o.pattern,f=o.position.container,b=o.position.offset;return GI(f,b-o.pattern.end.length,t).bind(w=>{const T=pL(a,c,w.container,w.offset,f,b,s);if(xL(d))return I.some({matches:[{pattern:d,startRng:T,endRng:T}],position:w});{const R=j7(e,o.remainingPatterns,w.container,w.offset,t,s),N=R.getOr({matches:[],position:w}),F=N.position;return qK(a,d,F.container,F.offset,t,R.isNone()).map(X=>{const G=jK(a,c,X,s);return{matches:N.matches.concat([{pattern:d,startRng:G,endRng:T}]),position:Bf(X.startContainer,X.startOffset)}})}})},j7=(e,t,o,s,a,c)=>{const d=e.dom;return qI(o,s,d.getRoot()).bind(f=>{const b=bL(d,a,o,s);for(let w=0;w<t.length;w++){const T=t[w];if(!Tg(b,T.end))continue;const R=t.slice();R.splice(w,1);const N=GK(e,a,{pattern:T,remainingPatterns:R,position:f},c);if(N.isNone()&&s>0)return j7(e,t,o,s-1,a,c);if(N.isSome())return N}return I.none()})},yH=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?Ze(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},KK=(e,t,o,s)=>{const a=Z7(e.dom,o);$7(e.dom,a,s),yH(e,t,a)},YK=(e,t,o,s,a)=>{const c=e.dom,d=Z7(c,s),f=Z7(c,o);$7(c,f,a),$7(c,d,a);const b={prefix:o.prefix,start:o.end,end:s.start},w=Z7(c,b);yH(e,t,w)},XK=(e,t)=>{const o=$s("mce_textpattern"),s=dn(t,(a,c)=>{const d=bH(e,o+`_end${a.length}`,c.endRng);return a.concat([{...c,endMarker:d}])},[]);return dn(s,(a,c)=>{const d=s.length-a.length-1,f=xL(c.pattern)?c.endMarker:bH(e,o+`_start${d}`,c.startRng);return a.concat([{...c,startMarker:f}])},[])},QK=e=>Qt(e,(t,o)=>o.end.length-t.end.length),JK=(e,t)=>{const o=Pa(e,s=>Mn(t,a=>s.pattern.start===a.pattern.start&&s.pattern.end===a.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},wH=(e,t,o,s,a,c)=>{const d=j7(e,a.inlinePatterns,o,s,t,c).fold(()=>[],b=>b.matches),f=j7(e,QK(a.inlinePatterns),o,s,t,c).fold(()=>[],b=>b.matches);return JK(d,f)},_H=(e,t)=>{if(t.length===0)return;const o=e.dom,s=e.selection.getBookmark(),a=XK(o,t);Ze(a,c=>{const d=o.getParent(c.startMarker.start,o.isBlock),f=b=>b===d;xL(c.pattern)?KK(e,c.pattern,c.endMarker,f):YK(e,c.pattern,c.startMarker,c.endMarker,f),xH(o,c.endMarker,f),xH(o,c.startMarker,f)}),e.selection.moveToBookmark(s)},CH=(e,t,o)=>hj(t,0,t).map(s=>{const a=s.container;return E9(a,o.start.length,t).each(c=>{const d=e.createRng();d.setStart(a,0),d.setEnd(c.container,c.offset),$7(e,d,f=>f===t)}),a}),kH=e=>(t,o)=>{const s=t.dom,a=o.pattern,c=pH(s.getRoot(),o.range).getOrDie("Unable to resolve path range"),d=(f,b)=>{const w=b.get(f);return ue(w)&&Zn(w).exists(T=>xo(T,"block"))};return U7(t,c).each(f=>{a.type==="block-format"?d(a.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,f,a),t.formatter.apply(a.format)}):a.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,f,a),t.execCommand(a.cmd,!1,a.value)})}),!0},eY=e=>Qt(e,(t,o)=>o.start.length-t.start.length),SH=e=>(t,o)=>{const s=eY(t),a=o.replace(Ls," ");return yn(s,c=>e(c,o,a))},EH=(e,t)=>(o,s,a,c,d)=>{var f;d===void 0&&(d=(f=s.textContent)!==null&&f!==void 0?f:"");const b=o.dom,w=Ua(o);return b.is(s,w)?e(a.blockPatterns,d).map(T=>t&&at.trim(d).length===T.start.length?[]:[{pattern:T,range:pL(b,b.getRoot(),s,0,s,0,c)}]).getOr([]):[]},tY=e=>/^\s[^\s]/.test(e),oY=kH((e,t,o)=>{CH(e,t,o).each(s=>{const a=te.fromDom(s),c=cd(a);tY(c)&&Pi(a,c.slice(1))})}),nY=SH((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),sY=EH(nY,!0),rY=(e,t)=>{const o=e.selection.getRng();return U7(e,o).map(s=>{var a;const c=Math.max(0,o.startOffset),d=hL(t,s,(a=s.textContent)!==null&&a!==void 0?a:""),f=wH(e,s,o.startContainer,c,d,!0),b=sY(e,s,d,!0);return{inlineMatches:f,blockMatches:b}}).filter(({inlineMatches:s,blockMatches:a})=>a.length>0||s.length>0)},aY=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();Ze(t,s=>oY(e,s)),e.selection.moveToBookmark(o)},iY=kH(CH),lY=SH((e,t,o)=>t===e.start||o===e.start),cY=EH(lY,!1),dY=(e,t)=>{const o=e.selection.getRng();return U7(e,o).map(s=>{const a=Math.max(0,o.startOffset),c=bL(e.dom,s,o.startContainer,a),d=hL(t,s,c);return cY(e,s,d,!1,c)}).filter(s=>s.length>0)},uY=(e,t)=>{Ze(t,o=>iY(e,o))},mY=(e,t)=>rY(e,t).fold(_o,({inlineMatches:o,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{M0(e),_H(e,o),aY(e,s);const a=e.selection.getRng(),c=qI(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(d=>{const f=d.container;f.data.charAt(d.offset-1)===Xc&&(f.deleteData(d.offset-1,1),wC(e.dom,f.parentNode,b=>b===e.dom.getRoot()))})}),!0)),gY=(e,t)=>{const o=e.selection.getRng();U7(e,o).map(s=>{const a=Math.max(0,o.startOffset-1),c=bL(e.dom,s,o.startContainer,a),d=hL(t,s,c),f=wH(e,s,o.startContainer,a,d,!1);f.length>0&&e.undoManager.transact(()=>{_H(e,f)})})},fY=(e,t)=>dY(e,t).fold(_o,o=>(e.undoManager.transact(()=>{uY(e,o)}),!0)),AH=(e,t,o)=>{for(let s=0;s<e.length;s++)if(o(e[s],t))return!0;return!1},pY=(e,t)=>AH(e,t,(o,s)=>o===s.keyCode&&!Bt.modifierPressed(s)),hY=(e,t)=>AH(e,t,(o,s)=>o.charCodeAt(0)===s.charCode),bY=e=>{const t=[",",".",";",":","!","?"],o=[32],s=()=>XC(nN(e).filter(d=>d.type==="inline-command"||d.type==="block-command"?e.queryCommandSupported(d.cmd):!0),sN(e)),a=()=>xk(e);e.on("keydown",d=>{if(d.keyCode===13&&!Bt.modifierPressed(d)&&e.selection.isCollapsed()&&e.selection.isEditable()){const f=$a(s(),"enter");(f.inlinePatterns.length>0||f.blockPatterns.length>0||a())&&mY(e,f)&&d.preventDefault()}},!0),e.on("keydown",d=>{if(d.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const f=$a(s(),"space");(f.blockPatterns.length>0||a())&&fY(e,f)&&d.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const d=$a(s(),"space");(d.inlinePatterns.length>0||a())&&gY(e,d)}};e.on("keyup",d=>{pY(o,d)&&c()}),e.on("keypress",d=>{hY(t,d)&&Ad.setEditorTimeout(e,c)})},xY=e=>{bY(e)},vY=e=>{const t=at.each,o=Bt.BACKSPACE,s=Bt.DELETE,a=e.dom,c=e.selection,d=e.parser,f=Eo.browser,b=f.isFirefox(),w=f.isChromium()||f.isSafari(),T=Eo.deviceType.isiPhone()||Eo.deviceType.isiPad(),R=Eo.os.isMacOS()||Eo.os.isiOS(),N=(wt,Ft)=>{try{e.getDoc().execCommand(wt,!1,String(Ft))}catch{}},F=wt=>wt.isDefaultPrevented(),ee=()=>{const wt=uo=>{const yo=a.create("body"),Qn=uo.cloneContents();return yo.appendChild(Qn),c.serializer.serialize(yo,{format:"html"})},Ft=uo=>{const yo=wt(uo),Qn=a.createRng();Qn.selectNode(e.getBody());const gs=wt(Qn);return yo===gs};e.on("keydown",uo=>{const yo=uo.keyCode;if(!F(uo)&&(yo===s||yo===o)&&e.selection.isEditable()){const Qn=e.selection.isCollapsed(),gs=e.getBody();if(Qn&&!Vu(e.schema,gs)||!Qn&&!Ft(e.selection.getRng()))return;uo.preventDefault(),e.setContent(""),gs.firstChild&&a.isBlock(gs.firstChild)?e.selection.setCursorLocation(gs.firstChild,0):e.selection.setCursorLocation(gs,0),e.nodeChanged()}})},X=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},G=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",wt=>{var Ft;let uo;if(wt.target===e.getDoc().documentElement)if(uo=c.getRng(),((Ft=e.getDoc().getSelection())===null||Ft===void 0?void 0:Ft.anchorNode)!==null&&e.getBody().focus(),wt.type==="mousedown"){if(xl(uo.startContainer))return;c.placeCaretAt(wt.clientX,wt.clientY)}else c.setRng(uo)})},xe=()=>{e.on("keydown",wt=>{if(!F(wt)&&wt.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const Ft=c.getNode(),uo=Ft.previousSibling;if(Ft.nodeName==="HR"){a.remove(Ft),wt.preventDefault();return}uo&&uo.nodeName&&uo.nodeName.toLowerCase()==="hr"&&(a.remove(uo),wt.preventDefault())}}})},be=()=>{Range.prototype.getClientRects||e.on("mousedown",wt=>{if(!F(wt)&&wt.target.nodeName==="HTML"){const Ft=e.getBody();Ft.blur(),Ad.setEditorTimeout(e,()=>{Ft.focus()})}})},Se=()=>{const wt=PA(e);e.on("click",Ft=>{const uo=Ft.target;/^(IMG|HR)$/.test(uo.nodeName)&&a.isEditable(uo)&&(Ft.preventDefault(),e.selection.select(uo),e.nodeChanged()),uo.nodeName==="A"&&a.hasClass(uo,wt)&&uo.childNodes.length===0&&a.isEditable(uo.parentNode)&&(Ft.preventDefault(),c.select(uo))})},Ie=()=>{const wt=Ft=>Ft.nodeName==="IMG"&&e.dom.isEditable(Ft);e.on("mousedown",Ft=>{ks(I.from(Ft.clientX),I.from(Ft.clientY),(uo,yo)=>{var Qn;const gs=e.getDoc().caretPositionFromPoint(uo,yo),Pd=((Qn=gs?.offsetNode)===null||Qn===void 0?void 0:Qn.childNodes[gs.offset-(gs.offset>0?1:0)])||gs?.offsetNode;if(ze(Pd)&&wt(Pd)){const li=Pd.getBoundingClientRect();Ft.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(Pd),Ft.clientX<li.left||Ft.clientY<li.top?e.selection.collapse(!0):(Ft.clientX>li.right||Ft.clientY>li.bottom)&&e.selection.collapse(!1)}})})},st=()=>{const wt=()=>{const uo=a.getAttribs(c.getStart().cloneNode(!1));return()=>{const yo=c.getStart();yo!==e.getBody()&&(a.setAttrib(yo,"style",null),t(uo,Qn=>{yo.setAttributeNode(Qn.cloneNode(!0))}))}},Ft=()=>!c.isCollapsed()&&a.getParent(c.getStart(),a.isBlock)!==a.getParent(c.getEnd(),a.isBlock);e.on("keypress",uo=>{let yo;return!F(uo)&&(uo.keyCode===8||uo.keyCode===46)&&Ft()?(yo=wt(),e.getDoc().execCommand("delete",!1),yo(),uo.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",uo=>{if(!F(uo)&&Ft()){const yo=wt();Ad.setEditorTimeout(e,()=>{yo()})}})},Et=()=>{e.on("keydown",wt=>{if(!F(wt)&&wt.keyCode===o&&c.isCollapsed()&&c.getRng().startOffset===0){const Ft=c.getNode().previousSibling;if(Ft&&Ft.nodeName&&Ft.nodeName.toLowerCase()==="table")return wt.preventDefault(),!1}return!0})},ft=()=>{e.on("keydown",wt=>{if(F(wt)||wt.keyCode!==Bt.BACKSPACE)return;let Ft=c.getRng();const uo=Ft.startContainer,yo=Ft.startOffset,Qn=a.getRoot();let gs=uo;if(!(!Ft.collapsed||yo!==0)){for(;gs.parentNode&&gs.parentNode.firstChild===gs&&gs.parentNode!==Qn;)gs=gs.parentNode;gs.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,gs),Ft=a.createRng(),Ft.setStart(uo,0),Ft.setEnd(uo,0),c.setRng(Ft))}})},Xe=()=>{const wt=Yr("figcaption");e.on("keydown",Ft=>{if(Ft.keyCode===Bt.LEFT||Ft.keyCode===Bt.RIGHT){const uo=te.fromDom(e.selection.getNode());wt(uo)&&e.selection.isCollapsed()&&Gi(uo).bind(yo=>{var Qn;return e.selection.getRng().startOffset===0&&Ft.keyCode===Bt.LEFT?Fl(yo):e.selection.getRng().endOffset===((Qn=uo.dom.textContent)===null||Qn===void 0?void 0:Qn.length)&&Ft.keyCode===Bt.RIGHT?rd(yo):I.none()}).each(yo=>{e.selection.setCursorLocation(yo.dom,0)})}})},qe=()=>{const wt=()=>{N("StyleWithCSS",!1),N("enableInlineTableEditing",!1),Gh(e)||N("enableObjectResizing",!1)};mk(e)||e.on("BeforeExecCommand mousedown",wt)},rt=()=>{const wt=()=>{t(a.select("a:not([data-mce-block])"),Ft=>{var uo;let yo=Ft.parentNode;const Qn=a.getRoot();if(yo?.lastChild===Ft){for(;yo&&!a.isBlock(yo);){if(((uo=yo.parentNode)===null||uo===void 0?void 0:uo.lastChild)!==yo||yo===Qn)return;yo=yo.parentNode}a.add(yo,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Ft=>{(Ft.type==="setcontent"||Ft.command==="mceInsertLink")&&wt()})},Vt=()=>{e.on("init",()=>{N("DefaultParagraphSeparator",Ua(e))})},io=wt=>{const Ft=wt.getBody(),uo=wt.selection.getRng();return uo.startContainer===uo.endContainer&&uo.startContainer===Ft&&uo.startOffset===0&&uo.endOffset===Ft.childNodes.length},Ao=()=>{e.on("keyup focusin mouseup",wt=>{!Bt.modifierPressed(wt)&&!io(e)&&c.normalize()},!0)},tn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ds=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},hs=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",wt=>{let Ft;wt.target.nodeName==="HTML"&&(Ft=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Ft),e.selection.normalize(),e.nodeChanged())}))},xa=()=>{R&&e.on("keydown",wt=>{Bt.metaKeyPressed(wt)&&!wt.shiftKey&&(wt.keyCode===37||wt.keyCode===39)&&(wt.preventDefault(),e.selection.getSel().modify("move",wt.keyCode===37?"backward":"forward","lineboundary"))})},wr=()=>{e.on("click",wt=>{let Ft=wt.target;do if(Ft.tagName==="A"){wt.preventDefault();return}while(Ft=Ft.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},sl=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",wt=>{wt.preventDefault()})})},Nt=()=>{d.addNodeFilter("br",wt=>{let Ft=wt.length;for(;Ft--;)wt[Ft].attr("class")==="Apple-interchange-newline"&&wt[Ft].remove()})},eo=Do,Nn=()=>{if(!b||e.removed)return!1;const wt=e.selection.getSel();return!wt||!wt.rangeCount||wt.rangeCount===0},Pn=()=>{w&&(G(),Se(),sl(),X(),T&&(ds(),hs(),wr())),b&&(be(),qe(),tn(),xa())},Kt=()=>{ft(),ee(),Eo.windowsPhone||Ao(),w&&(G(),Se(),Vt(),sl(),Et(),Nt(),T?(ds(),hs(),wr()):X()),b&&(Xe(),Ie(),xe(),be(),st(),qe(),rt(),tn(),xa(),Et())};return rm(e)?Pn():Kt(),{refreshContentEditable:eo,isHidden:Nn}},vL=On.DOM,yY=(e,t)=>{const o=te.fromDom(e.getBody()),s=Jr(Xd(o)),a=te.fromTag("style");jr(a,"type","text/css"),ln(a,te.fromText(t)),ln(s,a),e.on("remove",()=>{ls(a)})},wY=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,yL=e=>Tr(e,t=>Os(t)===!1),TH=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return yL({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_html_in_comments:t("allow_html_in_comments"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:wY(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:vk(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},DH=e=>{const t=e.options.get;return yL({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},_Y=e=>{const t=e.options.get;return{...TH(e),...DH(e),...yL({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},CY=e=>{const t=zp(TH(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,s)=>{const a=e.dom,c="data-mce-"+s;let d=o.length;for(;d--;){const f=o[d];let b=f.attr(s);if(b&&!f.attr(c)){if(b.indexOf("data:")===0||b.indexOf("blob:")===0)continue;s==="style"?(b=a.serializeStyle(a.parseStyle(b),f.name),b.length||(b=null),f.attr(c,b),f.attr(s,b)):s==="tabindex"?(f.attr(c,b),f.attr(s,null)):f.attr(c,e.convertURL(b,s,f.name))}}}),t.addNodeFilter("script",o=>{let s=o.length;for(;s--;){const a=o[s],c=a.attr("type")||"no/type";c.indexOf("mce-")!==0&&a.attr("type","mce-"+c)}}),rN(e)&&t.addNodeFilter("#cdata",o=>{var s;let a=o.length;for(;a--;){const c=o[a];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((s=c.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let s=o.length;const a=e.schema.getNonEmptyElements();for(;s--;){const c=o[s];c.isEmpty(a)&&c.getAll("br").length===0&&c.append(new ai("br",1))}}),t},kY=e=>{const t=FA(e);t&&Ad.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},SY=e=>{const t=e.dom.getRoot();!e.inline&&(!gv(e)||e.selection.getStart(!0)===t)&&cn(t).each(o=>{const s=o.getNode(),a=Ec(s)?cn(s).getOr(o):o;e.selection.setRng(a.toRange())})},EY=e=>{e.bindPendingEventDelegates(),e.initialized=!0,vr(e),e.focus(!0),SY(e),e.nodeChanged({initial:!0});const t=IA(e);no(t)&&t.call(e,e),kY(e),pg(e)&&W_(e,!0)},wL=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,AY=(e,t,o)=>{const{pass:s,fail:a}=_t(t,f=>tinymce.Resource.has(q_(f))),d=[...s.map(f=>{const b=tinymce.Resource.get(q_(f));return Ge(b)?Promise.resolve(wL(e).loadRawCss(f,b)):Promise.resolve()}),wL(e).loadAll(a)];return e.inline?d:d.concat([e.ui.styleSheetLoader.loadAll(o)])},OH=e=>{const t=wL(e),o=Na(e),s=e.contentCSS,a=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(o)},c=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let b="";at.each(e.contentStyles,w=>{b+=w+`\r
`}),e.dom.addStyle(b)}const d=Promise.all(AY(e,s,o)).then(c).catch(c),f=zR(e);return f&&yY(e,f),d},TY=e=>{const t=e.getDoc(),o=e.getBody();_R(e),zA(e)||(t.body.spellcheck=!1,vL.setAttrib(o,"spellcheck","false")),e.quirks=vY(e),CR(e);const s=lk(e);s!==void 0&&(o.dir=s);const a=fk(e);a&&e.on("BeforeSetContent",c=>{at.each(a,d=>{c.content=c.content.replace(d,f=>"<!--mce:protected "+escape(f)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},DY=e=>{rm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},_L=e=>{e.removed!==!0&&(DY(e),EY(e))},OY=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},RH=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(vL.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=mk(e),e._editableRoot=jR(e),!Qm(e)&&e.hasEditableRoot()&&(e.inline&&vL.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=h8(e),e.schema=Gt(DH(e)),e.dom=On(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Zy(e),referrerPolicy:Ym(e),crossOrigin:gf(e),onSetAttrib:d=>{e.dispatch("SetAttrib",d)}}),e.parser=CY(e),e.serializer=TS(_Y(e),e),e.selection=PO(e.dom,e.getWin(),e.serializer,e),e.annotator=er(e),e.formatter=w8(e),e.undoManager=Q_(e),e._nodeChangeDispatcher=new Uq(e),e._selectionOverrides=UK(e),$q(e),IU(e),GG(e),jU(e),rm(e)||(tK(e),xY(e));const a=Bq(e);MU(e,a),VU(e),eE(e),jG(e,a);const c=iP(e);TY(e),c.fold(()=>{const d=OY(e);OH(e).then(()=>{_L(e),d()})},d=>{e.setProgressState(!0),OH(e).then(()=>{d().then(f=>{e.setProgressState(!1),_L(e),NO(e)},f=>{e.notificationManager.open({type:"error",text:String(f)}),_L(e),NO(e)})})})},CL=On.DOM,RY=(e,t,o,s)=>{const a=te.fromTag("iframe");return s.each(c=>jr(a,"tabindex",c)),Ki(a,o),Ki(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",...Eo.browser.isFirefox()?{title:t}:{}}),$l(a,"tox-edit-area__iframe"),a},NY=e=>{let t=CA(e)+"<html><head>";Hy(e)!==e.editorManager.documentBaseURL&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=kA(e),s=SA(e),a=e.translate(vp(e)),c=Eo.browser.isFirefox()?"":`aria-label="${a}"`;return ev(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+ev(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${s}" data-id="${e.id}" ${c}><br></body></html>`,t},MY=(e,t)=>{const o=vp(e),s=e.translate(o),a=xc(te.fromDom(e.getElement()),"tabindex").bind(Du),c=RY(e.id,s,RR(e),a).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=NY(e),CL.add(t.iframeContainer,c)},BY=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,RH(e)};if(jA(e)||Eo.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),o()}else{const s=rx(te.fromDom(t),"load",()=>{s.unbind(),o()});t.srcdoc=e.iframeHTML}},PY=(e,t)=>{MY(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=CL.isHidden(t.editorContainer)),e.getElement().style.display="none",CL.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,BY(e)},NH=On.DOM,IY=(e,t,o)=>{const s=O1.get(o),a=O1.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=at.trim(o),s&&at.inArray(t,o)===-1){if(e.plugins[o])return;try{const c=s(e,a)||{};e.plugins[o]=c,no(c.init)&&(c.init(e,a),t.push(o))}catch(c){jP(e,o,c)}}},LY=e=>{const t=o=>{o.keyCode===Bt.ESC&&!o.defaultPrevented&&OR(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",t),e.inline||e.on("keyup",t),e.on("remove",()=>{document.removeEventListener("keyup",t),e.inline||e.off("keyup",t)})},FY=e=>e.replace(/^\-/,""),zY=e=>{const t=[];Ze(V0(e),o=>{IY(e,t,FY(o))})},HY=e=>{const t=at.trim(Km(e)),o=e.ui.registry.getAll().icons,s={...x2.get("default").icons,...x2.get(t).icons};Xo(s,(a,c)=>{xo(o,c)||e.ui.registry.addIcon(c,a)})},VY=e=>{const t=H0(e);if(Ge(t)){const o=R1.get(t);e.theme=o(e,R1.urls[t])||{},no(e.theme.init)&&e.theme.init(e,R1.urls[t]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},$Y=e=>{const t=yl(e),o=D1.get(t);e.model=o(e,D1.urls[t])},UY=e=>{zS.init(e)},ZY=e=>{const t=e.theme.renderUI;return t?t():BH(e)},jY=e=>{const t=e.getElement(),s=H0(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},MH=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),WY=e=>{const t=NH.create("div");return NH.insertAfter(t,e),MH(t,t)},BH=e=>{const t=e.getElement();return e.inline?MH(null):WY(t)},qY=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Ge(H0(e))?ZY(e):no(H0(e))?jY(e):BH(e)},GY=(e,t)=>{const o={show:I.from(t.show).getOr(Do),hide:I.from(t.hide).getOr(Do),isEnabled:I.from(t.isEnabled).getOr(Vo),setEnabled:s=>{s&&(e.mode.get()==="readonly"||pg(e))||I.from(t.setEnabled).each(c=>c(s))}};e.ui={...e.ui,...o}},KY=async e=>{e.dispatch("ScriptsLoaded"),HY(e),LY(e),VY(e),$Y(e),UY(e),zY(e);const t=await qY(e);GY(e,I.from(t.api).getOr({})),e.editorContainer=t.editorContainer,qS(e),e.inline?RH(e):PY(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},I2=On.DOM,PH=e=>e.charAt(0)==="-",YY=(e,t)=>{const o=ak(t),s=IR(t);if(!Oc.hasCode(o)&&o!=="en"){const a=Zr(s)?s:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{WO(t,a,o)})}},XY=(e,t)=>{const o=H0(e);if(Ge(o)&&!PH(o)&&!xo(R1.urls,o)){const s=HR(e),a=s?e.documentBaseURI.toAbsolute(s):`themes/${o}/theme${t}.js`;R1.load(o,a).catch(()=>{qO(e,a,o)})}},QY=(e,t)=>{const o=yl(e);if(o!=="plugin"&&!xo(D1.urls,o)){const s=ol(e),a=Ge(s)?e.documentBaseURI.toAbsolute(s):`models/${o}/model${t}.js`;D1.load(o,a).catch(()=>{H_(e,a,o)})}},JY=(e,t)=>{zS.load(e,t)},eX=e=>I.from(Uy(e)).filter(Zr).map(t=>({url:t,name:I.none()})),IH=(e,t,o)=>I.from(t).filter(s=>Zr(s)&&!x2.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${o}.js`,name:I.some(s)})),tX=(e,t,o)=>{const s=IH(t,"default",o),a=eX(t).orThunk(()=>IH(t,Km(t),""));Ze(sh([s,a]),c=>{e.add(c.url).catch(()=>{UP(t,c.url,c.name.getOrUndefined())})})},oX=(e,t)=>{const o=(s,a)=>{s!=="licensekeymanager"&&O1.load(s,a).catch(()=>{$P(e,a,s)})};Xo(WR(e),(s,a)=>{o(a,s),e.options.set("plugins",V0(e).concat(a))}),Ze(V0(e),s=>{s=at.trim(s),s&&!O1.urls[s]&&!PH(s)&&o(s,`plugins/${s}/plugin${t}.js`)})},nX=e=>{const t=H0(e);return!Ge(t)||ze(R1.get(t))},sX=e=>{const t=yl(e);return ze(D1.get(t))},rX=(e,t)=>{const o=Ha.ScriptLoader,s=()=>{!e.removed&&nX(e)&&sX(e)&&KY(e)};XY(e,t),QY(e,t),JY(e,t),YY(o,e),tX(o,e,t),oX(e,t),o.loadQueue().then(s,s)},aX=(e,t)=>Sx.forElement(e,{contentCssCors:gk(t),referrerPolicy:Ym(t)}),iX=e=>{const t=e.id;Oc.setCode(ak(e));const o=()=>{I2.unbind(window,"ready",o),e.render()};if(!ef.Event.domLoaded){I2.bind(window,"ready",o);return}if(!e.getElement())return;const s=te.fromDom(e.getElement()),a=vc(s);e.on("remove",()=>{lt(s.dom.attributes,d=>Nr(s,d.name)),Ki(s,a)}),e.ui.styleSheetLoader=aX(s,e),ov(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||I2.getParent(t,"form");c&&(e.formElement=c,UR(e)&&!_h(e.getElement())&&(I2.insertAfter(I2.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=d=>{e.dispatch(d.type,d)},I2.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),MA(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=z_(e),e.notificationManager=MS(e),iN(e)&&e.on("GetContent",d=>{d.save&&(d.content=I2.encode(d.content))}),dk(e)&&e.on("submit",()=>{e.initialized&&e.save()}),BA(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),rX(e,e.suffix)},LH=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],lX=e=>{var t;return Intl.Segmenter?`${(t=new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value)===null||t===void 0?void 0:t.segment}`:e.trim()[0]},cX=(e,t)=>{let o=5381;for(let s=0;s<e.length;s++)o=(o<<5)+o+e.charCodeAt(s);return(o>>>0)%(t+1)},dX=e=>{const t=cX(e??"",LH.length-1);return LH[t]},uX=(e,t,o)=>{const s=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${s}" cy="${s}" r="${s}" fill="${t}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${s}">`+e+"</text></svg>"},mX=(e,t,o)=>"data:image/svg+xml,"+encodeURIComponent(uX(e,t,o)),kL=(e,t={size:36})=>mX(lX(e.name),dX(e.id),t.size),gX=U9([Gj("id"),Y9("name"),Y9("avatar"),Kj("custom")]),fX=e=>{const t={};return Xo(e,(o,s)=>{o.each(a=>{t[s]=a})}),t},pX=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const t=Ro(e,a=>Z9("Invalid user object",gX,a)),{errors:o,values:s}=Gc(t);if(o.length>0){const a=Ro(o,(c,d)=>`User at index ${d}: ${j9(c)}`);console.warn(`User validation errors:
`+a.join(`
`))}return Ro(s,a=>{const{id:c,name:d,avatar:f,...b}=a;return{id:c,name:d.getOr(c),avatar:f.getOr(kL({id:c,name:d.getOr(c)})),...fX(b)}})},hX=e=>{const t=new Map,o=new Map,s=w=>I.from(t.get(w)),a=(w,T)=>{t.set(T,w)},c=(w,T)=>I.from(o.get(w)).each(({reject:R})=>{R(T),o.delete(w)}),d=(w,T)=>I.from(o.get(w)).each(({resolve:R})=>{R(T),o.delete(w)}),f=w=>{const T=dN(e);if(Array.isArray(w)){if(!T)return Ar(w,N=>Promise.resolve({id:N,name:N,avatar:kL({id:N,name:N})}))}else return{};const R=mc(mt(w,N=>!s(N).isSome()));return Ze(R,N=>{const F=new Promise((ee,X)=>{o.set(N,{resolve:ee,reject:X})});a(F,N)}),R.length>0&&T(R).then(pX).then(N=>{const F=new Set(Ro(N,ee=>ee.id));Ze(N,ee=>d(ee.id,ee)),Ze(R,ee=>{F.has(ee)||c(ee,new Error(`User ${ee} not found`))})}).catch(N=>{Ze(R,F=>c(F,N instanceof Error?N:new Error("Network error")))}),Lo(w,(N,F)=>(N[F]=s(F).getOr(Promise.resolve({id:F,name:F,avatar:kL({id:F,name:F})})),N),{})},b=Ky(e);return Object.freeze({userId:b,fetchUsers:f})},bX=e=>hX(e),xX=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,pg(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),wA(e,t))},vX=e=>e._editableRoot,yX=(e,t)=>({sections:dt(e),options:dt(t)}),FH=qi().deviceType,zH=FH.isPhone(),wX=FH.isTablet(),VE=e=>{if(Yo(e))return[];{const t=ue(e)?e:e.split(/[ ,]/),o=Ro(t,Pl);return mt(o,Zr)}},_X=(e,t)=>{const o=$r(t,(s,a)=>Ho(e,a));return yX(o.t,o.f)},CX=(e,t,o={})=>{const s=e.sections(),a=Sn(s,t).getOr({});return at.extend({},o,a)},SL=(e,t)=>xo(e.sections(),t),kX=(e,t)=>SL(e,t)?e.sections()[t]:{},SX=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Sn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),EX=(e,t)=>{var o;const s=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?at.extend({},e.external_plugins,s):s},AX=(e,t)=>[...VE(e),...VE(t)],TX=(e,t,o,s)=>e&&SL(t,"mobile")?s:o,DX=(e,t,o,s)=>{const a=VE(o.forced_plugins),c=VE(s.plugins),d=kX(t,"mobile"),f=d.plugins?VE(d.plugins):c,b=TX(e,t,c,f),w=AX(a,b);return at.extend(s,{forced_plugins:a,plugins:w})},OX=(e,t)=>e&&SL(t,"mobile"),RX=(e,t,o,s,a)=>{var c;const d=e?{mobile:SX((c=a.mobile)!==null&&c!==void 0?c:{},t)}:{},f=_X(["mobile"],fc(d,a)),b=at.extend(o,s,f.options(),OX(e,f)?CX(f,"mobile"):{},{external_plugins:EX(s,f.options())});return DX(e,f,s,b)},NX=(e,t)=>{const o=Au(t);return RX(zH||wX,zH,o,e,o)},MX=(e,t)=>wP(e,t),BX=e=>{const t=(s,a)=>{e.formatter.toggle(s,a),e.nodeChanged()},o=s=>()=>{Ze("left,center,right,justify".split(","),a=>{s!==a&&e.formatter.remove("align"+a)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},PX=e=>{const t=o=>()=>{const s=e.selection,a=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return Mn(a,c=>ze(e.formatter.matchNode(c,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},IX=e=>{BX(e),PX(e)},LX=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let s;try{o.execCommand(t)}catch{s=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(s=!0),s||!o.queryCommandSupported(t)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Eo.os.isMacOS()||Eo.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:a,type:"error"})}}})},FX=(e,t,o,s)=>{const a=te.fromDom(e.getRoot());return m1(a,We.fromRangeStart(t),s)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),rb(a,We.fromRangeEnd(t),s)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},zX=e=>{if(typeof e!="string"){const t=at.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},HX=(e,t)=>{const o=e.selection,s=e.dom;return/^ | $/.test(t)?FX(s,o.getRng(),t,e.schema):t},W7=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:s}=zX(t);Tf(e,{...s,content:HX(e,o),format:"html",set:!1,selection:!0}).each(a=>{const c=yP(e,a.content,s);h_(e,c,a),e.addVisual()})}},VX=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,s)=>{W7(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,s)=>{W7(e,e.dom.encode(s))},insertHTML:(t,o,s)=>{W7(e,s)},mceInsertContent:(t,o,s)=>{W7(e,s)},mceSetContent:(t,o,s)=>{e.setContent(s)},mceReplaceContent:(t,o,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(HA(e))}})},$X={"font-size":"size","font-family":"face"},UX=Yr("font"),ZX=(e,t,o)=>{const s=c=>Sm(c,e).orThunk(()=>UX(c)?Sn($X,e).bind(d=>xc(c,d)):I.none()),a=c=>Jo(te.fromDom(t),c);return ud(te.fromDom(o),c=>s(c),a)},jX=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),WX=(e,t)=>I.from(On.DOM.getStyle(t,e,!0)),HH=e=>(t,o)=>I.from(o).map(te.fromDom).filter(lr).bind(s=>ZX(e,t,s.dom).or(WX(e,s.dom))).getOr(""),qX=HH("font-size"),GX=Fn(jX,HH("font-family")),KX=e=>cn(e.getBody()).bind(t=>{const o=t.container();return I.from(ut(o)?o.parentNode:o)}),YX=e=>I.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?I.none():I.from(e.selection.getStart(!0))}),XX=(e,t)=>YX(e).orThunk(He(KX,e)).map(te.fromDom).filter(lr).bind(t),EL=(e,t)=>XX(e,ca(I.some,t)),VH=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const s=aN(e),a=WA(e);return a.length>0?a[o-1]||t:s[o-1]||t}else return t}else return t},QX=e=>{const t=e.split(/\s*,\s*/);return Ro(t,o=>o.indexOf(" ")!==-1&&!(Is(o,'"')||Is(o,"'"))?`'${o}'`:o).join(",")},JX=(e,t)=>{const o=VH(e,t);e.formatter.toggle("fontname",{value:QX(o)}),e.nodeChanged()},eQ=e=>EL(e,t=>GX(e.getBody(),t.dom)).getOr(""),tQ=(e,t)=>{e.formatter.toggle("fontsize",{value:VH(e,t)}),e.nodeChanged()},oQ=e=>EL(e,t=>qX(e.getBody(),t.dom)).getOr(""),nQ=e=>EL(e,t=>{const o=te.fromDom(e.getBody()),s=ud(t,c=>Sm(c,"line-height"),He(Jo,o)),a=()=>{const c=parseFloat(fl(t,"line-height")),d=parseFloat(fl(t,"font-size"));return String(c/d)};return s.getOrThunk(a)}).getOr(""),sQ=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},rQ=e=>{const t=(o,s)=>{e.formatter.toggle(o,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,s,a)=>{t(o,{value:a})},BackColor:(o,s,a)=>{t("hilitecolor",{value:a})},FontName:(o,s,a)=>{JX(e,a)},FontSize:(o,s,a)=>{tQ(e,a)},LineHeight:(o,s,a)=>{sQ(e,a)},Lang:(o,s,a)=>{var c;t(o,{value:a.code,customValue:(c=a.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,s,a)=>{t(Ge(a)?a:"p")},mceToggleFormat:(o,s,a)=>{t(a)}})},aQ=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>eQ(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>oQ(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>nQ(e))},iQ=e=>{rQ(e),aQ(e)},lQ=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},cQ=e=>{e.editorCommands.addCommands({Indent:()=>{OU(e)},Outdent:()=>{PF(e)}}),e.editorCommands.addCommands({Outdent:()=>RF(e),Indent:()=>TU(e)},"state")},dQ=e=>{const t=(o,s,a)=>{if(e.mode.isReadOnly())return;const c=Ge(a)?{href:a}:a,d=e.dom.getParent(e.selection.getNode(),"a");oe(c)&&Ge(c.href)&&(c.href=c.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!d||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,d))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},uQ=(e,t,o,s)=>{const a=e.dom,c=f=>a.isBlock(f)&&f.parentElement===o,d=c(t)?t:a.getParent(s,c,o);return I.from(d).map(te.fromDom)},$H=(e,t)=>{if(e.mode.isReadOnly())return;const o=e.dom,s=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),c=t?s.startContainer:s.endContainer,d=IE(o,c);if(!d||!d.isContentEditable)return;const f=t?ea:Hl,b=Ua(e);uQ(e,a,d,c).each(w=>{const T=cz(e,c,w.dom,d,!1,b);f(w,te.fromDom(T)),e.selection.setCursorLocation(T,0),e.dispatch("NewBlock",{newBlock:T}),PE(e,"insertParagraph")})},mQ=e=>$H(e,!0),gQ=e=>$H(e,!1),fQ=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{mQ(e)},InsertNewBlockAfter:()=>{gQ(e)}})},pQ=e=>{e.editorCommands.addCommands({insertParagraph:()=>{P7(gz,e)},mceInsertNewLine:(t,o,s)=>{yz(e,s)},InsertLineBreak:(t,o,s)=>{P7(hz,e)}})},hQ=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,s)=>{let a=0;e.dom.getParent(e.selection.getNode(),c=>jt(c)&&a++===s?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,o,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),hi);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},bQ=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,s)=>{const a=s??e.selection.getNode();if(a!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,s)=>{r4(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},xQ=e=>{IX(e),LX(e),lQ(e),hQ(e),VX(e),dQ(e),cQ(e),fQ(e),pQ(e),iQ(e),bQ(e)},vQ=["toggleview"],UH=e=>Ho(vQ,e.toLowerCase());class ZH{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,s,a){const c=this.editor,d=t.toLowerCase(),f=a?.skip_focus;if(c.removed||(d!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)&&!f?c.focus():FN(c)),c.dispatch("BeforeExecCommand",{command:t,ui:o,value:s}).isDefaultPrevented()))return!1;const w=this.commands.exec[d];return no(w)?(w(d,o,s,a),c.dispatch("ExecCommand",{command:t,ui:o,value:s,args:a}),!0):!1}queryCommandState(t){if(!UH(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),s=this.commands.state[o];return no(s)?s(o):!1}queryCommandValue(t){if(!UH(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),s=this.commands.value[o];return no(s)?s(o):""}addCommands(t,o="exec"){const s=this.commands;Xo(t,(a,c)=>{Ze(c.toLowerCase().split(","),d=>{s[o][d]=a})})}addCommand(t,o,s){const a=t.toLowerCase();this.commands.exec[a]=(c,d,f,b)=>o.call(s??this.editor,d,f,b)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,s){this.commands.state[t.toLowerCase()]=()=>o.call(s??this.editor)}addQueryValueHandler(t,o,s){this.commands.value[t.toLowerCase()]=()=>o.call(s??this.editor)}}const yQ=at.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class AL{static isNative(t){return!!yQ[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||_o}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const s=t.toLowerCase(),a=Dc(s,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const c=this.bindings[s];if(c)for(let d=0,f=c.length;d<f;d++){const b=c[d];if(!b.removed){if(b.once&&this.off(s,b.func),a.isImmediatePropagationStopped())return a;if(b.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(t,o,s,a){if(o===!1&&(o=_o),o){const c={func:o,removed:!1};a&&at.extend(c,a);const d=t.toLowerCase().split(" ");let f=d.length;for(;f--;){const b=d[f];let w=this.bindings[b];w||(w=[],this.toggleEvent(b,!0)),s?w=[c,...w]:w=[...w,c],this.bindings[b]=w}}return this}off(t,o){if(t){const s=t.toLowerCase().split(" ");let a=s.length;for(;a--;){const c=s[a];let d=this.bindings[c];if(!c)return Xo(this.bindings,(f,b)=>{this.toggleEvent(b,!1),delete this.bindings[b]}),this;if(d){if(!o)d.length=0;else{const f=_t(d,b=>b.func===o);d=f.fail,this.bindings[c]=d,Ze(f.pass,b=>{b.removed=!0})}d.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else Xo(this.bindings,(s,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(t,o,s){return this.on(t,o,s,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const $E=e=>(e._eventDispatcher||(e._eventDispatcher=new AL({scope:e,toggleEvent:(t,o)=>{AL.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),TL={fire(e,t,o){return _D("fire"),this.dispatch(e,t,o)},dispatch(e,t,o){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return Dc(e.toLowerCase(),t??{},s);const a=$E(s).dispatch(e,t);if(o!==!1&&s.parent){let c=s.parent();for(;c&&!a.isPropagationStopped();)c.dispatch(e,a,!1),c=c.parent?c.parent():void 0}return a},on(e,t,o){return $E(this).on(e,t,o)},off(e,t){return $E(this).off(e,t)},once(e,t){return $E(this).once(e,t)},hasEventListeners(e){return $E(this).has(e)}},q7=On.DOM;let L2;const G7=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=jy(e);return o?(e.eventRoot||(e.eventRoot=q7.select(o)[0]),e.eventRoot):e.getBody()},wQ=e=>!e.hidden&&!pg(e),jH=(e,t,o)=>{wQ(e)?e.dispatch(t,o):pg(e)&&n8(e,o)},WH=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=G7(e,t);if(jy(e)){if(L2||(L2={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||L2&&(Xo(L2,(a,c)=>{e.dom.unbind(G7(e,c))}),L2=null)})),L2[t])return;const s=a=>{const c=a.target,d=e.editorManager.get();let f=d.length;for(;f--;){const b=d[f].getBody();(b===c||q7.isChildOf(c,b))&&jH(d[f],t,a)}};L2[t]=s,q7.bind(o,t,s)}else{const s=a=>{jH(e,t,a)};q7.bind(o,t,s),e.delegates[t]=s}},qH={...TL,bindPendingEventDelegates(){const e=this;at.each(e._pendingNativeEvents,t=>{WH(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?WH(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(G7(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Xo(e.delegates,(s,a)=>{e.dom.unbind(G7(e,a),a,s)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},_Q=e=>Ge(e)?{value:e.split(/[ ,]/),valid:!0}:To(e,Ge)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},CQ=e=>{const t=(()=>{switch(e){case"array":return ue;case"boolean":return us;case"function":return no;case"number":return E;case"object":return oe;case"string":return Ge;case"string[]":return _Q;case"object[]":return o=>To(o,oe);case"regexp":return o=>Le(o,RegExp);default:return Vo}})();return o=>DL(o,t,`The value must be a ${e}.`)},kQ=e=>Ge(e.processor),GH=(e,t)=>{const o=Yc(t.message)?"":`. ${t.message}`;return e+o},KH=e=>e.valid,DL=(e,t,o="")=>{const s=t(e);return us(s)?s?{value:e,valid:!0}:{valid:!1,message:o}:s},SQ=(e,t,o)=>{if(!Os(t)){const s=DL(t,o);if(KH(s))return s.value;console.error(GH(`Invalid default value passed for the "${e}" option`,s))}},EQ=(e,t,o=t)=>{const s={},a={},c=(F,ee,X)=>{const G=DL(ee,X);return KH(G)?(a[F]=G.value,!0):(console.warn(GH(`Invalid value passed for the ${F} option`,G)),!1)},d=(F,ee)=>{const X=kQ(ee)?CQ(ee.processor):ee.processor,G=SQ(F,ee.default,X);s[F]={...ee,default:G,processor:X},Sn(a,F).orThunk(()=>Sn(t,F)).each(be=>c(F,be,X))},f=F=>xo(s,F);return{register:d,isRegistered:f,get:F=>Sn(a,F).orThunk(()=>Sn(s,F).map(ee=>ee.default)).getOrUndefined(),set:(F,ee)=>{if(f(F)){const X=s[F];return X.immutable?(console.error(`"${F}" is an immutable option and cannot be updated`),!1):c(F,ee,X.processor)}else return console.warn(`"${F}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:F=>{const ee=f(F);return ee&&delete a[F],ee},isSet:F=>xo(a,F),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(F,ee)=>us(ee)||E(ee)||Ge(ee)||rn(ee)||ue(ee)||yt(ee)?ee:Object.prototype.toString.call(ee))))}catch(F){console.error(F)}}}},AQ=(e,t)=>{e.dom.contentEditable="true"},TQ=(e,t)=>{const o=te.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&AQ(o),VS(e)):(e.readonly=!1,t8(e))},_C=e=>e.readonly,DQ=e=>{const t=e.undoManager.add();ze(t)&&(e.undoManager.undo(),e.undoManager.reset())},OQ=e=>Mn(e,t=>t.type==="characterData"||t.type==="childList"),RQ=e=>{const t=s=>{_C(e)&&OQ(s)&&DQ(e)},o=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",s=>{_C(e)&&s.preventDefault()}),e.on("BeforeExecCommand",s=>{(s.command==="Undo"||s.command==="Redo")&&_C(e)&&s.preventDefault()}),e.on("compositionstart",()=>{_C(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(_C(e)){const s=o.takeRecords();t(s)}o.disconnect()})},NQ=["design","readonly"],YH=(e,t,o,s)=>{const a=o[t.get()],c=o[s];try{c.activate()}catch(d){console.error(`problem while activating editor mode ${s}:`,d);return}a.deactivate(),a.editorReadOnly!==c.editorReadOnly&&TQ(e,c.editorReadOnly),t.set(s),yR(e,s)},MQ=(e,t,o,s)=>{if(!(s===o.get()||e.initialized&&pg(e))){if(!xo(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?YH(e,o,t,s):e.on("init",()=>YH(e,o,t,s))}},BQ=(e,t,o)=>{if(Ho(NQ,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},PQ=e=>{const t=zn("design"),o=zn({design:{activate:Do,deactivate:Do,editorReadOnly:!1},readonly:{activate:Do,deactivate:Do,editorReadOnly:!0}});return RQ(e),ZS(e),{isReadOnly:()=>_C(e),set:s=>MQ(e,o.get(),t,s),get:()=>t.get(),register:(s,a)=>{o.set(BQ(o.get(),s,a))}}},OL=at.each,RL=at.explode,IQ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},XH=at.makeMap("alt,ctrl,shift,meta,access"),LQ=e=>e in XH,FQ=e=>{const t={},o=Eo.os.isMacOS()||Eo.os.isiOS();OL(RL(e.toLowerCase(),"+"),c=>{LQ(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=IQ[c]||c.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let a;for(a in XH)t[a]?s.push(a):t[a]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class QH{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",s=>{(o.hasModifier(s)||o.isFunctionKey(s))&&!s.isDefaultPrevented()&&(OL(o.shortcuts,a=>{o.matchShortcut(s,a)&&(o.pendingPatterns=a.subpatterns.slice(0),s.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(s,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&s.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,s,a){const c=this,d=c.normalizeCommandFunc(s);return OL(RL(at.trim(t)),f=>{const b=c.createShortcut(f,o,d,a);c.shortcuts[b.id]=b}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,s=t;return typeof s=="string"?()=>{o.editor.execCommand(s,!1,null)}:at.isArray(s)?()=>{o.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,o,s,a){const c=at.map(RL(t,">"),FQ);return c[c.length-1]=at.extend(c[c.length-1],{func:s,scope:a||this.editor}),at.extend(c[0],{desc:this.editor.translate(o),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const zQ=()=>{const e=rW();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},F2=On.DOM,JH=at.extend,HQ=at.each;class K7{constructor(t,o,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,JH(this,qH);const a=this;this.id=t,this.editorUid=Su(),this.hidden=!1;const c=NX(s.defaultOptions,o);this.options=EQ(a,c,o),sk(a),this.userLookup=bX(this);const d=this.options.get;d("deprecation_warnings")&&yD(o,c);const f=d("suffix");f&&(s.suffix=f),this.suffix=s.suffix;const b=d("base_url");b&&s._setBaseUrl(b),this.baseUri=s.baseURI;const w=Ym(a);w&&(Ha.ScriptLoader._setReferrerPolicy(w),On.DOM.styleSheetLoader._setReferrerPolicy(w)),Ha.ScriptLoader._setCrossOrigin(F=>gf(a)(F,"script")),On.DOM.styleSheetLoader._setCrossOrigin(F=>gf(a)(F,"stylesheet"));const T=gk(a);ze(T)&&On.DOM.styleSheetLoader._setContentCssCors(T),qr.languageLoad=d("language_load"),qr.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new Nd(Hy(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=ov(a),this.hasVisual=GR(a),this.shortcuts=new QH(this),this.editorCommands=new ZH(this),xQ(this);const R=d("cache_suffix");R&&(Eo.cacheSuffix=R.replace(/^[\?\&]+/,"")),this.ui={registry:zQ(),styleSheetLoader:void 0,show:Do,hide:Do,setEnabled:Do,isEnabled:Vo},this.mode=PQ(a),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),s.dispatch("SetupEditor",{editor:this});const N=YR(a);no(N)&&N.call(a,a)}render(){iX(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Ic(this)}translate(t){return Oc.translate(t)}getParam(t,o,s){const a=this.options;return a.isRegistered(t)||(ze(s)?a.register(t,{processor:s,default:o}):a.register(t,{processor:Vo,default:o})),!a.isSet(t)&&!Os(o)?o:a.get(t)}hasPlugin(t,o){return Ho(V0(this),t)?o?O1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,s){this.editorCommands.addCommand(t,o,s)}addQueryStateHandler(t,o,s){this.editorCommands.addQueryStateHandler(t,o,s)}addQueryValueHandler(t,o,s){this.editorCommands.addQueryValueHandler(t,o,s)}addShortcut(t,o,s,a){this.shortcuts.add(t,o,s,a)}execCommand(t,o,s,a){return this.editorCommands.execCommand(t,o,s,a)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(F2.show(t.getContainer()),F2.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(F2.hide(t.getContainer()),F2.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,s=o.getElement();if(!o.removed&&s){const a={...t,load:!0},c=_h(s)?s.value:s.innerHTML;o.setContent(c,a),a.no_events||o.dispatch("LoadContent",{...a,element:s})}}save(t={}){const o=this;let s=o.getElement();if(!s||!o.initialized||o.removed)return"";const a={...t,save:!0,element:s};let c=o.getContent(a);const d={...a,content:c};if(d.no_events||o.dispatch("SaveContent",d),d.format==="raw"&&o.dispatch("RawSaveContent",d),c=d.content,_h(s))s.value=c;else{(t.is_removing||!o.inline)&&(s.innerHTML=c);const f=F2.getParent(o.id,"form");f&&HQ(f.elements,b=>b.name===o.id?(b.value=c,!1):!0)}return d.element=a.element=s=null,d.set_dirty!==!1&&o.setDirty(!1),c}setContent(t,o){M_(this,t,o)}getContent(t){return NP(this,t)}insertContent(t,o){o&&(t=JH({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?M_(this,this.startContent,{initial:!0,format:"raw"}):M_(this,t,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||F2.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=F2.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const s=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:s?.body)!==null&&o!==void 0?o:null}convertURL(t,o,s){const a=this,c=a.options.get,d=LA(a);if(no(d))return d.call(a,t,s,!0,o);if(!c("convert_urls")||s==="link"||oe(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const f=new Nd(t);return f.protocol!=="http"&&f.protocol!=="https"&&f.protocol!==""?t:c("relative_urls")?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){MX(this,t)}setEditableRoot(t){xX(this,t)}hasEditableRoot(){return vX(this)}remove(){P_(this)}destroy(t){OS(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const CC=On.DOM,Y7=at.each;let eV=!1,X7,$c=[];const Q7=e=>{const t=e.type;Y7($b.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},tV=e=>{if(e!==eV){const t=On.DOM;e?(t.bind(window,"resize",Q7),t.bind(window,"scroll",Q7)):(t.unbind(window,"resize",Q7),t.unbind(window,"scroll",Q7)),eV=e}},oV=e=>{const t=$c;return $c=mt($c,o=>e!==o),$b.activeEditor===e&&($b.activeEditor=$c.length>0?$c[0]:null),$b.focusedEditor===e&&($b.focusedEditor=null),t.length!==$c.length},VQ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(oV(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},$Q=document.compatMode!=="CSS1Compat",$b={...TL,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:Su(),majorVersion:"8",minorVersion:"1.2",releaseDate:"TBD",i18n:Oc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",s=Nd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,o=a.suffix;else{const c=document.getElementsByTagName("script");for(let d=0;d<c.length;d++){const f=c[d].src||"";if(f==="")continue;const b=f.substring(f.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){b.indexOf(".min")!==-1&&(o=".min"),t=f.substring(0,f.lastIndexOf("/"));break}}if(!t&&document.currentScript){const d=document.currentScript.src;d.indexOf(".min")!==-1&&(o=".min"),t=d.substring(0,d.lastIndexOf("/"))}}e.baseURL=new Nd(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new Nd(e.baseURL),e.suffix=o,U5(e),Ze(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],c=>Object.defineProperty(e,c,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&Xo(s,(a,c)=>{qr.PluginManager.urls[c]=a})},init(e){const t=this;let o;const s=at.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(T,R)=>T.inline&&R.tagName.toLowerCase()in s,c=T=>{let R=T.id;return R||(R=Sn(T,"name").filter(N=>!CC.get(N)).getOrThunk(CC.uniqueId),T.setAttribute("id",R)),R},d=T=>{const R=e[T];if(R)return R.apply(t,[])},f=T=>Eo.browser.isIE()||Eo.browser.isEdge()?(V_("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):$Q?(V_("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Ge(T.selector)?CC.select(T.selector):ze(T.target)?[T.target]:[];let b=T=>{o=T};const w=()=>{let T=0;const R=[];let N;const F=(ee,X,G)=>{const xe=new K7(ee,X,t);R.push(xe),xe.on("init",()=>{++T===N.length&&b(R)}),xe.targetElm=xe.targetElm||G,xe.render()};CC.unbind(window,"ready",w),d("onpageload"),N=mc(f(e)),at.each(N,ee=>{VQ(t.get(ee.id))}),N=at.grep(N,ee=>!t.get(ee.id)),N.length===0?b([]):Y7(N,ee=>{a(e,ee)?V_("Could not initialize inline editor on invalid inline target element",ee):F(c(ee),e,ee)})};return CC.bind(window,"ready",w),new Promise(T=>{o?T(o):b=R=>{T(R)}})},get(e){return arguments.length===0?$c.slice(0):Ge(e)?yn($c,t=>t.id===e).getOr(null):E(e)&&$c[e]?$c[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&$c.push(e),tV(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),X7||(X7=s=>{const a=t.dispatch("BeforeUnload");if(a.returnValue)return s.preventDefault(),s.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",X7))),e},createEditor(e,t){return this.add(new K7(e,t,this))},remove(e){const t=this;let o;if(!e){for(let s=$c.length-1;s>=0;s--)t.remove($c[s]);return}if(Ge(e)){Y7(CC.select(e),s=>{o=t.get(s.id),o&&t.remove(o)});return}return o=e,rn(t.get(o.id))?null:(oV(o)&&t.dispatch("RemoveEditor",{editor:o}),$c.length===0&&window.removeEventListener("beforeunload",X7),o.remove(),tV($c.length>0),o)},execCommand(e,t,o){var s;const a=this,c=oe(o)?(s=o.id)!==null&&s!==void 0?s:o.index:o;switch(e){case"mceAddEditor":{if(!a.get(c)){const d=o.options;new K7(c,d,a).render()}return!0}case"mceRemoveEditor":{const d=a.get(c);return d&&d.remove(),!0}case"mceToggleEditor":{const d=a.get(c);return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{Y7($c,e=>{e.save()})},addI18n:(e,t)=>{Oc.add(e,t)},translate:e=>Oc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Nd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Nd(this.baseURL)},_addLicenseKeyManager:e=>zS.add(e)};$b.setup();const UQ=(()=>{const e=Bl(),t=c=>({items:c,types:ua(c),getType:d=>Sn(c,d).getOrUndefined()}),o=c=>{e.set(c)},s=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:t,write:o,read:s,clear:a}})(),nV=Math.min,kC=Math.max,J7=Math.round,sV=(e,t,o)=>{let s=t.x,a=t.y;const c=e.w,d=e.h,f=t.w,b=t.h,w=(o||"").split("");return w[0]==="b"&&(a+=b),w[1]==="r"&&(s+=f),w[0]==="c"&&(a+=J7(b/2)),w[1]==="c"&&(s+=J7(f/2)),w[3]==="b"&&(a-=d),w[4]==="r"&&(s-=c),w[3]==="c"&&(a-=J7(d/2)),w[4]==="c"&&(s-=J7(c/2)),SC(s,a,c,d)},ZQ=(e,t,o,s)=>{for(let a=0;a<s.length;a++){const c=sV(e,t,s[a]);if(c.x>=o.x&&c.x+c.w<=o.w+o.x&&c.y>=o.y&&c.y+c.h<=o.h+o.y)return s[a]}return null},jQ=(e,t,o)=>SC(e.x-t,e.y-o,e.w+t*2,e.h+o*2),WQ=(e,t)=>{const o=kC(e.x,t.x),s=kC(e.y,t.y),a=nV(e.x+e.w,t.x+t.w),c=nV(e.y+e.h,t.y+t.h);return a-o<0||c-s<0?null:SC(o,s,a-o,c-s)},qQ=(e,t,o)=>{let s=e.x,a=e.y,c=e.x+e.w,d=e.y+e.h;const f=t.x+t.w,b=t.y+t.h,w=kC(0,t.x-s),T=kC(0,t.y-a),R=kC(0,c-f),N=kC(0,d-b);return s+=w,a+=T,o&&(c+=w,d+=T,s-=R,a-=N),c-=R,d-=N,SC(s,a,c-s,d-a)},SC=(e,t,o,s)=>({x:e,y:t,w:o,h:s}),GQ={inflate:jQ,relativePosition:sV,findBestRelativePosition:ZQ,intersect:WQ,clamp:qQ,create:SC,fromClientRect:e=>SC(e.left,e.top,e.width,e.height)},KQ=(e,t,o=1e3)=>{let s=!1,a=null;const c=w=>(...T)=>{s||(s=!0,a!==null&&(window.clearTimeout(a),a=null),w.apply(null,T))},d=c(e),f=c(t);return{start:(...w)=>{!s&&a===null&&(a=window.setTimeout(()=>f.apply(null,w),o))},resolve:d,reject:f}},YQ=(()=>{const e={},t={},o={};return{load:(b,w)=>{const T=`Script at URL "${w}" failed to load`,R=`Script at URL "${w}" did not call \`tinymce.Resource.add('${b}', data)\` within 1 second`;if(e[b]!==void 0)return e[b];{const N=new Promise((F,ee)=>{const X=KQ(F,ee);t[b]=X.resolve,Ha.ScriptLoader.loadScript(w).then(()=>X.start(R),()=>X.reject(T))});return e[b]=N,N}},add:(b,w)=>{t[b]!==void 0&&(t[b](w),delete t[b]),e[b]=Promise.resolve(w),o[b]=w},has:b=>b in o,get:b=>o[b],unload:b=>{delete e[b],delete o[b]}}})(),XQ=()=>(()=>{let e={},t=[];const o={getItem:s=>{const a=e[s];return a||null},setItem:(s,a)=>{t.push(s),e[s]=String(a)},key:s=>t[s],removeItem:s=>{t=t.filter(a=>a===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let UE;try{const e="__storage_test__";UE=window.localStorage,UE.setItem(e,e),UE.removeItem(e)}catch{UE=XQ()}var QQ=UE;const JQ={geom:{Rect:GQ},util:{Delay:Ad,Tools:at,VK:Bt,URI:Nd,EventDispatcher:AL,Observable:TL,I18n:Oc,LocalStorage:QQ,ImageUploader:oI},dom:{EventUtils:ef,TreeWalker:Qs,TextSeeker:Ql,DOMUtils:On,ScriptLoader:Ha,RangeUtils:ag,Serializer:TS,StyleSheetLoader:kx,ControlSelection:Qu,BookmarkManager:X0,Selection:PO,Event:ef.Event},html:{Styles:hd,Entities:fd,Node:ai,Schema:Gt,DomParser:zp,Writer:CT,Serializer:Tp},Env:Eo,AddOnManager:qr,Annotator:er,Formatter:w8,UndoManager:Q_,EditorCommands:ZH,WindowManager:z_,NotificationManager:MS,EditorObservable:qH,Shortcuts:QH,Editor:K7,FocusManager:H5,EditorManager:$b,DOM:On.DOM,ScriptLoader:Ha.ScriptLoader,PluginManager:O1,ThemeManager:R1,ModelManager:D1,IconManager:x2,Resource:YQ,FakeClipboard:UQ,trim:at.trim,isArray:at.isArray,is:at.is,toArray:at.toArray,makeMap:at.makeMap,each:at.each,map:at.map,grep:at.grep,inArray:at.inArray,extend:at.extend,walk:at.walk,resolve:at.resolve,explode:at.explode,_addCacheSuffix:at._addCacheSuffix},rV=at.extend($b,JQ),eJ=e=>{try{ne.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(rV),eJ(rV)})()}(FL)),FL.exports}Xee();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const ne=Object.getPrototypeOf,fe=(n,r,i)=>{var l;return!!i(n,r.prototype)||((l=n.constructor)===null||l===void 0?void 0:l.name)===r.name},Be=n=>r=>(i=>{const l=typeof i;return i===null?"null":l==="object"&&Array.isArray(i)?"array":l==="object"&&fe(i,String,(u,m)=>m.isPrototypeOf(u))?"string":l})(r)===n,Re=n=>r=>typeof r===n,Ye=n=>r=>n===r,De=Be("string"),ye=Be("object"),Pe=n=>((r,i)=>ye(r)&&fe(r,i,(l,u)=>ne(l)===u))(n,Object),Qe=Be("array"),ot=Ye(null),Ot=Re("boolean"),Zt=Ye(void 0),kt=n=>n==null,Ae=n=>!kt(n),nt=Re("function"),zt=Re("number"),vt=(n,r)=>{if(Qe(n)){for(let i=0,l=n.length;i<l;++i)if(!r(n[i]))return!1;return!0}return!1},ge=()=>{},Le=n=>()=>n(),Ge=(n,r)=>(...i)=>n(r.apply(null,i)),oe=n=>()=>n,yt=n=>n,ue=(n,r)=>n===r;function rn(n,...r){return(...i)=>{const l=r.concat(i);return n.apply(null,l)}}const us=n=>r=>!n(r),Os=n=>()=>{throw new Error(n)},Yo=n=>n(),ze=oe(!1),no=oe(!0);class E{constructor(r,i){this.tag=r,this.value=i}static some(r){return new E(!0,r)}static none(){return E.singletonNone}fold(r,i){return this.tag?i(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?E.some(r(this.value)):E.none()}bind(r){return this.tag?r(this.value):E.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:E.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return Ae(r)?E.some(r):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const To=Array.prototype.slice,Do=Array.prototype.indexOf,Fn=Array.prototype.push,ca=(n,r)=>Do.call(n,r),dt=(n,r)=>ca(n,r)>-1,vn=(n,r)=>{for(let i=0,l=n.length;i<l;i++)if(r(n[i],i))return!0;return!1},Ei=(n,r)=>{const i=[];for(let l=0;l<n;l++)i.push(r(l));return i},He=(n,r)=>{const i=[];for(let l=0;l<n.length;l+=r){const u=To.call(n,l,l+r);i.push(u)}return i},we=(n,r)=>{const i=n.length,l=new Array(i);for(let u=0;u<i;u++){const m=n[u];l[u]=r(m,u)}return l},pt=(n,r)=>{for(let i=0,l=n.length;i<l;i++)r(n[i],i)},an=(n,r)=>{const i=[],l=[];for(let u=0,m=n.length;u<m;u++){const p=n[u];(r(p,u)?i:l).push(p)}return{pass:i,fail:l}},Co=(n,r)=>{const i=[];for(let l=0,u=n.length;l<u;l++){const m=n[l];r(m,l)&&i.push(m)}return i},_o=(n,r,i)=>(((l,u)=>{for(let m=l.length-1;m>=0;m--)u(l[m],m)})(n,(l,u)=>{i=r(i,l,u)}),i),Vo=(n,r,i)=>(pt(n,(l,u)=>{i=r(i,l,u)}),i),I=(n,r)=>((i,l,u)=>{for(let m=0,p=i.length;m<p;m++){const x=i[m];if(l(x,m))return E.some(x);if(u(x,m))break}return E.none()})(n,r,ze),Ks=(n,r)=>{for(let i=0,l=n.length;i<l;i++)if(r(n[i],i))return E.some(i);return E.none()},_s=n=>{const r=[];for(let i=0,l=n.length;i<l;++i){if(!Qe(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);Fn.apply(r,n[i])}return r},Io=(n,r)=>_s(we(n,r)),ci=(n,r)=>{for(let i=0,l=n.length;i<l;++i)if(r(n[i],i)!==!0)return!1;return!0},ur=n=>{const r=To.call(n,0);return r.reverse(),r},Ho=(n,r)=>Co(n,i=>!dt(r,i)),Mn=(n,r)=>{const i={};for(let l=0,u=n.length;l<u;l++){const m=n[l];i[String(m)]=r(m,l)}return i},Ro=n=>[n],Ze=(n,r)=>{const i=To.call(n,0);return i.sort(r),i},lt=(n,r)=>r>=0&&r<n.length?E.some(n[r]):E.none(),_t=n=>lt(n,0),mt=n=>lt(n,n.length-1),Un=nt(Array.from)?Array.from:n=>To.call(n),dn=(n,r)=>{for(let i=0;i<n.length;i++){const l=r(n[i],i);if(l.isSome())return l}return E.none()},Lo=Object.keys,jc=Object.hasOwnProperty,yn=(n,r)=>{const i=Lo(n);for(let l=0,u=i.length;l<u;l++){const m=i[l];r(n[m],m)}},Rs=(n,r)=>Wc(n,(i,l)=>({k:l,v:r(i,l)})),Wc=(n,r)=>{const i={};return yn(n,(l,u)=>{const m=r(l,u);i[m.k]=m.v}),i},qc=n=>(r,i)=>{n[i]=r},sr=(n,r,i,l)=>{yn(n,(u,m)=>{(r(u,m)?i:l)(u,m)})},Pa=(n,r)=>{const i={};return sr(n,r,qc(i),ge),i},da=(n,r)=>{const i=[];return yn(n,(l,u)=>{i.push(r(l,u))}),i},Ol=(n,r)=>{const i=Lo(n);for(let l=0,u=i.length;l<u;l++){const m=i[l],p=n[m];if(r(p,m,n))return E.some(p)}return E.none()},Ar=n=>da(n,yt),Qt=(n,r)=>nn(n,r)?E.from(n[r]):E.none(),nn=(n,r)=>jc.call(n,r),Zn=(n,r)=>nn(n,r)&&n[r]!==void 0&&n[r]!==null,zs=n=>{if(!Qe(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const r=[],i={};return pt(n,(l,u)=>{const m=Lo(l);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],x=l[p];if(i[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Qe(x))throw new Error("case arguments must be an array");r.push(p),i[p]=(...v)=>{const _=v.length;if(_!==x.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+x.length+" ("+x+"), got "+_);return{fold:(...S)=>{if(S.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+S.length);return S[u].apply(null,v)},match:S=>{const k=Lo(S);if(r.length!==k.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+k.join(","));if(!ci(r,A=>dt(k,A)))throw new Error("Not all branches were specified when using match. Specified: "+k.join(", ")+`
Required: `+r.join(", "));return S[p].apply(null,v)},log:S=>{console.log(S,{constructors:r,constructor:p,params:v})}}}}),i},Tt=n=>{let r=n;return{get:()=>r,set:i=>{r=i}}},Ai=n=>{let r=E.none(),i=[];const l=p=>{u()?m(p):i.push(p)},u=()=>r.isSome(),m=p=>{r.each(x=>{setTimeout(()=>{p(x)},0)})};return n(p=>{u()||(r=E.some(p),pt(i,m),i=[])}),{get:l,map:p=>Ai(x=>{l(v=>{x(p(v))})}),isReady:u}},mc={nu:Ai,pure:n=>Ai(r=>{r(n)})},ua=n=>{setTimeout(()=>{throw n},0)},Ps=n=>{const r=i=>{n().then(i,ua)};return{map:i=>Ps(()=>n().then(i)),bind:i=>Ps(()=>n().then(l=>i(l).toPromise())),anonBind:i=>Ps(()=>n().then(()=>i.toPromise())),toLazy:()=>mc.nu(r),toCached:()=>{let i=null;return Ps(()=>(i===null&&(i=n()),i))},toPromise:n,get:r}},Xo=n=>Ps(()=>new Promise(n)),Vr=n=>Ps(()=>Promise.resolve(n)),Cg=n=>{const r=m=>m(n),i=oe(n),l=()=>u,u={tag:!0,inner:n,fold:(m,p)=>p(n),isValue:no,isError:ze,map:m=>Wo.value(m(n)),mapError:l,bind:r,exists:r,forall:r,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:m=>{m(n)},toOptional:()=>E.some(n)};return u},gc=n=>{const r=()=>i,i={tag:!1,inner:n,fold:(l,u)=>l(n),isValue:ze,isError:no,map:r,mapError:l=>Wo.error(l(n)),bind:r,exists:ze,forall:no,getOr:yt,or:yt,getOrThunk:Yo,orThunk:Yo,getOrDie:Os(String(n)),each:ge,toOptional:E.none};return i},Wo={value:Cg,error:gc,fromOption:(n,r)=>n.fold(()=>gc(r),Cg)},$r=n=>({...n,toCached:()=>$r(n.toCached()),bindFuture:r=>$r(n.bind(i=>i.fold(l=>Vr(Wo.error(l)),l=>r(l)))),bindResult:r=>$r(n.map(i=>i.bind(r))),mapResult:r=>$r(n.map(i=>i.map(r))),mapError:r=>$r(n.map(i=>i.mapError(r))),foldResult:(r,i)=>n.map(l=>l.fold(r,i)),withTimeout:(r,i)=>$r(Xo(l=>{let u=!1;const m=setTimeout(()=>{u=!0,l(Wo.error(i()))},r);n.get(p=>{u||(clearTimeout(m),l(p))})}))}),Tr=n=>$r(Xo(n)),ya=typeof window<"u"?window:Function("return this;")(),Cs=(n,r,i,l)=>{const u=n+r;return u>l?i:u<i?l:u},Sn=(n,r,i)=>Math.min(Math.max(n,r),i);let xo=0;const ke=n=>{const r=new Date().getTime(),i=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return xo++,n+"_"+i+xo+String(r)},Ld=n=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<r.length;l++){const u=r[l];for(const m in u)nn(u,m)&&(i[m]=n(i[m],u[m]))}return i},bs=Ld((n,r)=>Pe(n)&&Pe(r)?bs(n,r):r),il=Ld((n,r)=>r),zn=(n,r,i=ue)=>n.exists(l=>i(l,r)),ll=n=>{const r=[],i=l=>{r.push(l)};for(let l=0;l<n.length;l++)n[l].each(i);return r},Rl=(n,r,i)=>n.isSome()&&r.isSome()?E.some(i(n.getOrDie(),r.getOrDie())):E.none(),Fd=(n,r)=>n!=null?E.some(r(n)):E.none(),Hs=(n,r)=>n?E.some(r):E.none(),mm=(n,r)=>((i,l)=>{let u=l??ya;for(let m=0;m<i.length&&u!=null;++m)u=u[i[m]];return u})(n.split("."),r);zs([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Vs=n=>{const r=Tt(E.none()),i=()=>r.get().each(n);return{clear:()=>{i(),r.set(E.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:l=>{i(),r.set(E.some(l))}}},Ur=()=>Vs(n=>n.unbind()),In=()=>{const n=Vs(ge);return{...n,on:r=>n.get().each(r)}},Nl=(n,r,i)=>r===""||n.length>=r.length&&n.substr(i,i+r.length)===r,es=(n,r)=>Su(n,r)?((i,l)=>i.substring(l))(n,r.length):n,$s=(n,r,i=0,l)=>{const u=n.indexOf(r,i);return u!==-1&&(!!Zt(l)||u+r.length<=l)},Su=(n,r)=>Nl(n,r,0),zd=(n,r)=>Nl(n,r,n.length-r.length),Eu=(Bl=/^\s+|\s+$/g,n=>n.replace(Bl,"")),Ml=n=>n.length>0,fc=n=>!Ml(n),Au=(n,r)=>{let i=null;const l=()=>{ot(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...u)=>{l(),i=setTimeout(()=>{i=null,n.apply(null,u)},r)}}},mr=n=>{let r,i=!1;return(...l)=>(i||(i=!0,r=n.apply(null,l)),r)},Tu=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},sh=(n,r)=>{const i=document.createElement("div");if(i.innerHTML=n,!i.hasChildNodes()||i.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,n),new Error(l)}return Tu(i.childNodes[0])},ks=(n,r)=>{const i=document.createElement(n);return Tu(i)},kg=(n,r)=>{const i=document.createTextNode(n);return Tu(i)},Pt=Tu,Hd=(n,r,i)=>{const l=n.document.createRange();var u;return u=l,r.fold(m=>{u.setStartBefore(m.dom)},(m,p)=>{u.setStart(m.dom,p)},m=>{u.setStartAfter(m.dom)}),((m,p)=>{p.fold(x=>{m.setEndBefore(x.dom)},(x,v)=>{m.setEnd(x.dom,v)},x=>{m.setEndAfter(x.dom)})})(l,i),l},Sg=(n,r,i,l,u)=>{const m=n.document.createRange();return m.setStart(r.dom,i),m.setEnd(l.dom,u),m},Eg=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),Gc=zs([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ag=(n,r,i)=>r(Pt(i.startContainer),i.startOffset,Pt(i.endContainer),i.endOffset),Vf=(n,r)=>((i,l)=>{const u=((m,p)=>p.match({domRange:x=>({ltr:oe(x),rtl:E.none}),relative:(x,v)=>({ltr:mr(()=>Hd(m,x,v)),rtl:mr(()=>E.some(Hd(m,v,x)))}),exact:(x,v,_,S)=>({ltr:mr(()=>Sg(m,x,v,_,S)),rtl:mr(()=>E.some(Sg(m,_,S,x,v)))})}))(i,l);return((m,p)=>{const x=p.ltr();return x.collapsed?p.rtl().filter(v=>v.collapsed===!1).map(v=>Gc.rtl(Pt(v.endContainer),v.endOffset,Pt(v.startContainer),v.startOffset)).getOrThunk(()=>Ag(0,Gc.ltr,x)):Ag(0,Gc.ltr,x)})(0,u)})(n,r).match({ltr:(i,l,u,m)=>{const p=n.document.createRange();return p.setStart(i.dom,l),p.setEnd(u.dom,m),p},rtl:(i,l,u,m)=>{const p=n.document.createRange();return p.setStart(u.dom,m),p.setEnd(i.dom,l),p}});var Bl;Gc.ltr,Gc.rtl;const di=(n,r)=>{const i=n.dom;if(i.nodeType!==1)return!1;{const l=i;if(l.matches!==void 0)return l.matches(r);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(r);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(r);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},$f=n=>n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11||n.childElementCount===0,Uf=(n,r)=>{const i=r===void 0?document:r.dom;return $f(i)?E.none():E.from(i.querySelector(n)).map(Pt)},$o=(n,r)=>n.dom===r.dom,Is=(n,r)=>{const i=n.dom,l=r.dom;return i!==l&&i.contains(l)},Tg=()=>Kc(0,0),Kc=(n,r)=>({major:n,minor:r}),Pl={nu:Kc,detect:(n,r)=>{const i=String(r).toLowerCase();return n.length===0?Tg():((l,u)=>{const m=((x,v)=>{for(let _=0;_<x.length;_++){const S=x[_];if(S.test(v))return S}})(l,u);if(!m)return{major:0,minor:0};const p=x=>Number(u.replace(m,"$"+x));return Kc(p(1),p(2))})(n,i)},unknown:Tg},Zf=(n,r)=>{const i=String(r).toLowerCase();return I(n,l=>l.search(i))},gm=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Zr=n=>r=>$s(r,n),Yc=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>$s(n,"edge/")&&$s(n,"chrome")&&$s(n,"safari")&&$s(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,gm],search:n=>$s(n,"chrome")&&!$s(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>$s(n,"msie")||$s(n,"trident")},{name:"Opera",versionRegexes:[gm,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Zr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Zr("firefox")},{name:"Safari",versionRegexes:[gm,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>($s(n,"safari")||$s(n,"mobile/"))&&$s(n,"applewebkit")}],rh=[{name:"Windows",search:Zr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>$s(n,"iphone")||$s(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Zr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Zr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Zr("linux"),versionRegexes:[]},{name:"Solaris",search:Zr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Zr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Zr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Du={browsers:oe(Yc),oses:oe(rh)},xs="Edge",Vd="Chromium",ui="Opera",Xc="Firefox",Ls="Safari",Ti=n=>{const r=n.current,i=n.version,l=u=>()=>r===u;return{current:r,version:i,isEdge:l(xs),isChromium:l(Vd),isIE:l("IE"),isOpera:l(ui),isFirefox:l(Xc),isSafari:l(Ls)}},Di=()=>Ti({current:void 0,version:Pl.unknown()}),jf=Ti,fm="Windows",ma="Android",$d="Linux",Ud="macOS",cl="Solaris",pm="FreeBSD",Zd="ChromeOS",Dg=n=>{const r=n.current,i=n.version,l=u=>()=>r===u;return{current:r,version:i,isWindows:l(fm),isiOS:l("iOS"),isAndroid:l(ma),isMacOS:l(Ud),isLinux:l($d),isSolaris:l(cl),isFreeBSD:l(pm),isChromeOS:l(Zd)}},Qc=()=>Dg({current:void 0,version:Pl.unknown()}),Ya=Dg,$=n=>window.matchMedia(n).matches;let ae=mr(()=>((n,r,i)=>{const l=Du.browsers(),u=Du.oses(),m=r.bind(v=>((_,S)=>dn(S.brands,k=>{const A=k.brand.toLowerCase();return I(_,M=>{var P;return A===((P=M.brand)===null||P===void 0?void 0:P.toLowerCase())}).map(M=>({current:M.name,version:Pl.nu(parseInt(k.version,10),0)}))}))(l,v)).orThunk(()=>((v,_)=>Zf(v,_).map(S=>{const k=Pl.detect(S.versionRegexes,_);return{current:S.name,version:k}}))(l,n)).fold(Di,jf),p=((v,_)=>Zf(v,_).map(S=>{const k=Pl.detect(S.versionRegexes,_);return{current:S.name,version:k}}))(u,n).fold(Qc,Ya),x=((v,_,S,k)=>{const A=v.isiOS()&&/ipad/i.test(S)===!0,M=v.isiOS()&&!A,P=v.isiOS()||v.isAndroid(),q=P||k("(pointer:coarse)"),U=A||!M&&P&&k("(min-device-width:768px)"),j=M||P&&!U,H=_.isSafari()&&v.isiOS()&&/safari/i.test(S)===!1,V=!j&&!U&&!H;return{isiPad:oe(A),isiPhone:oe(M),isTablet:oe(U),isPhone:oe(j),isTouch:oe(q),isAndroid:v.isAndroid,isiOS:v.isiOS,isWebView:oe(H),isDesktop:oe(V)}})(p,m,n,i);return{browser:m,os:p,deviceType:x}})(window.navigator.userAgent,E.from(window.navigator.userAgentData),$));const ve=()=>ae(),et=Object.getPrototypeOf,At=n=>{const r=mm("ownerDocument.defaultView",n);return ye(n)&&((i=>((l,u)=>{const m=((p,x)=>mm(p,x))(l,u);if(m==null)throw new Error(l+" not available on this browser");return m})("HTMLElement",i))(r).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(et(n).constructor.name))},Ut=n=>n.dom.nodeName.toLowerCase(),Qo=n=>r=>(i=>i.dom.nodeType)(r)===n,jn=n=>Uo(n)&&At(n.dom),Uo=Qo(1),B=Qo(3),W=Qo(9),ie=Qo(11),Ee=n=>r=>Uo(r)&&Ut(r)===n,It=n=>Pt(n.dom.ownerDocument),un=n=>W(n)?n:It(n),ts=n=>Pt(un(n).dom.documentElement),Dr=n=>Pt(un(n).dom.defaultView),Hn=n=>E.from(n.dom.parentNode).map(Pt),ga=n=>E.from(n.dom.parentElement).map(Pt),wa=n=>E.from(n.dom.offsetParent).map(Pt),Wi=n=>E.from(n.dom.previousSibling).map(Pt),rr=n=>E.from(n.dom.nextSibling).map(Pt),dl=n=>we(n.dom.childNodes,Pt),Jc=(n,r)=>{const i=n.dom.childNodes;return E.from(i[r]).map(Pt)},_a=n=>Jc(n,0),Il=(n,r)=>({element:n,offset:r}),ah=(n,r)=>{const i=dl(n);return i.length>0&&r<i.length?Il(i[r],0):Il(n,r)},Wf=n=>ie(n)&&Ae(n.dom.host),Gr=n=>Pt(n.dom.getRootNode()),Og=n=>Wf(n)?n:Pt(un(n).dom.body),hm=n=>{const r=Gr(n);return Wf(r)?E.some(r):E.none()},ed=n=>Pt(n.dom.host),Kb=n=>{const r=Pt((m=>{if(Ae(m.target)){const p=Pt(m.target);if(Uo(p)&&(x=>Ae(x.dom.shadowRoot))(p)&&m.composed&&m.composedPath){const x=m.composedPath();if(x)return _t(x)}}return E.from(m.target)})(n).getOr(n.target)),i=()=>n.stopPropagation(),l=()=>n.preventDefault(),u=Ge(l,i);return((m,p,x,v,_,S,k)=>({target:m,x:p,y:x,stop:v,prevent:_,kill:S,raw:k}))(r,n.clientX,n.clientY,i,l,u,n)},Ca=(n,r,i,l,u)=>{const m=((p,x)=>v=>{p(v)&&x(Kb(v))})(i,l);return n.dom.addEventListener(r,m,u),{unbind:rn(ih,n,r,m,u)}},ih=(n,r,i,l)=>{n.dom.removeEventListener(r,i,l)},Ou=no,Ia=(n,r,i)=>((l,u,m,p)=>Ca(l,u,m,p,!1))(n,r,Ou,i),Z1=(n,r,i)=>((l,u,m,p)=>Ca(l,u,m,p,!0))(n,r,Ou,i),td=Kb,j1=()=>Pt(document),gr=(n,r=!1)=>n.dom.focus({preventScroll:r}),qi=n=>n.dom.blur(),jd=n=>{const r=Gr(n).dom;return n.dom===r.activeElement},od=(n=j1())=>E.from(n.dom.activeElement).map(Pt),La=n=>od(Gr(n)).filter(r=>n.dom.contains(r.dom)),Ll=(n,r)=>{Hn(n).each(i=>{i.dom.insertBefore(r.dom,n.dom)})},Yb=(n,r)=>{rr(n).fold(()=>{Hn(n).each(i=>{Oi(i,r)})},i=>{Ll(i,r)})},Xb=(n,r)=>{_a(n).fold(()=>{Oi(n,r)},i=>{n.dom.insertBefore(r.dom,i.dom)})},Oi=(n,r)=>{n.dom.appendChild(r.dom)},mi=(n,r)=>{pt(r,i=>{Oi(n,i)})},ul=(n,r,i)=>{if(!(De(i)||Ot(i)||zt(i)))throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(r,i+"")},ao=(n,r,i)=>{ul(n.dom,r,i)},j2=(n,r)=>{const i=n.dom;yn(r,(l,u)=>{ul(i,u,l)})},Eo=(n,r)=>{const i=n.dom.getAttribute(r);return i===null?void 0:i},Kr=(n,r)=>E.from(Eo(n,r)),W1=(n,r)=>{const i=n.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(r)},Us=(n,r)=>{n.dom.removeAttribute(r)},q1=n=>{n.dom.textContent="",pt(dl(n),r=>{Wd(r)})},Wd=n=>{const r=n.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Qb=(n,r)=>Pt(n.dom.cloneNode(r)),bm=n=>n.dom.innerHTML,Rg=(n,r)=>{const i=It(n).dom,l=Pt(i.createDocumentFragment()),u=((m,p)=>{const x=(p||document).createElement("div");return x.innerHTML=m,dl(Pt(x))})(r,i);mi(l,u),q1(n),Oi(n,l)},Ng=n=>new Promise((r,i)=>{const l=()=>{m(),r(n)},u=[Ia(n,"load",l),Ia(n,"error",()=>{m(),i("Unable to load data from image: "+n.dom.src)})],m=()=>pt(u,p=>p.unbind());n.dom.complete&&l()}),qf=n=>n.style!==void 0&&nt(n.style.getPropertyValue),at=n=>{const r=B(n)?n.dom.parentNode:n.dom;if(r==null||r.ownerDocument===null)return!1;const i=r.ownerDocument;return hm(Pt(r)).fold(()=>i.body.contains(r),(l=at,u=ed,m=>l(u(m))));var l,u},ar=()=>W2(Pt(document)),W2=n=>{const r=n.dom.body;if(r==null)throw new Error("Body is not available yet");return Pt(r)},Jb=(n,r,i)=>{if(!De(i))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);qf(n)&&n.style.setProperty(r,i)},nd=(n,r)=>{qf(n)&&n.style.removeProperty(r)},ko=(n,r,i)=>{const l=n.dom;Jb(l,r,i)},te=(n,r)=>{const i=n.dom;yn(r,(l,u)=>{Jb(i,u,l)})},xm=(n,r)=>{const i=n.dom;yn(r,(l,u)=>{l.fold(()=>{nd(i,u)},m=>{Jb(i,u,m)})})},Fa=(n,r)=>{const i=n.dom,l=window.getComputedStyle(i).getPropertyValue(r);return l!==""||at(n)?l:G1(i,r)},G1=(n,r)=>qf(n)?n.style.getPropertyValue(r):"",ir=(n,r)=>{const i=n.dom,l=G1(i,r);return E.from(l).filter(u=>u.length>0)},Ru=n=>{const r={},i=n.dom;if(qf(i))for(let l=0;l<i.style.length;l++){const u=i.style.item(l);r[u]=i.style[u]}return r},sd=(n,r,i)=>{const l=ks(n);return ko(l,r,i),ir(l,r).isSome()},mn=(n,r)=>{const i=n.dom;nd(i,r),zn(Kr(n,"style").map(Eu),"")&&Us(n,"style")},lh=n=>n.dom.offsetWidth,ex=(n,r)=>{const i=u=>{const m=r(u);if(m<=0||m===null){const p=Fa(u,n);return parseFloat(p)||0}return m},l=(u,m)=>Vo(m,(p,x)=>{const v=Fa(u,x),_=v===void 0?0:parseInt(v,10);return isNaN(_)?p:p+_},0);return{set:(u,m)=>{if(!zt(m)&&!m.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+m);const p=u.dom;qf(p)&&(p.style[n]=m+"px")},get:i,getOuter:i,aggregate:l,max:(u,m,p)=>{const x=l(u,p);return m>x?m-x:0}}},Mg=ex("height",n=>{const r=n.dom;return at(n)?r.getBoundingClientRect().height:r.offsetHeight}),Or=n=>Mg.get(n),Nu=n=>Mg.getOuter(n),qd=n=>!(r=>r.offsetWidth<=0&&r.offsetHeight<=0)(n.dom),Bg=ex("width",n=>{const r=n.dom;return at(n)?r.getBoundingClientRect().width:r.offsetWidth}),Bn=n=>Bg.get(n),Gd=n=>Bg.getOuter(n),Pg=(n,r)=>({left:n,top:r,translate:(i,l)=>Pg(n+i,r+l)}),Ss=Pg,Jo=(n,r)=>n!==void 0?n:r!==void 0?r:0,Rr=n=>{const r=n.dom.ownerDocument,i=r.body,l=r.defaultView,u=r.documentElement;if(i===n.dom)return Ss(i.offsetLeft,i.offsetTop);const m=Jo(l?.pageYOffset,u.scrollTop),p=Jo(l?.pageXOffset,u.scrollLeft),x=Jo(u.clientTop,i.clientTop),v=Jo(u.clientLeft,i.clientLeft);return vm(n).translate(p-v,m-x)},vm=n=>{const r=n.dom,i=r.ownerDocument.body;return i===r?Ss(i.offsetLeft,i.offsetTop):at(n)?(l=>{const u=l.getBoundingClientRect();return Ss(u.left,u.top)})(r):Ss(0,0)},Ri=n=>{const r=n!==void 0?n.dom:document,i=r.body.scrollLeft||r.documentElement.scrollLeft,l=r.body.scrollTop||r.documentElement.scrollTop;return Ss(i,l)},Fo=(n,r,i)=>{const l=(i!==void 0?i.dom:document).defaultView;l&&l.scrollTo(n,r)},tx=(n=>{const r=i=>n(i)?E.from(i.dom.nodeValue):E.none();return{get:i=>{if(!n(i))throw new Error("Can only get text value of a text node");return r(i).getOr("")},getOption:r,set:(i,l)=>{if(!n(i))throw new Error("Can only set raw text value of a text node");i.dom.nodeValue=l}}})(B),Ig=(n,r)=>i=>ox(i)==="rtl"?r:n,ox=n=>Fa(n,"direction")==="rtl"?"rtl":"ltr",Kd=(n,r)=>{const i=Eo(n,r);return i===void 0||i===""?[]:i.split(" ")};var lr=(n,r,i,l,u)=>n(i,l)?E.some(i):nt(u)&&u(i)?E.none():r(i,l,u);const Xa=(n,r,i)=>{let l=n.dom;const u=nt(i)?i:ze;for(;l.parentNode;){l=l.parentNode;const m=Pt(l);if(r(m))return E.some(m);if(u(m))break}return E.none()},q2=(n,r,i)=>lr((l,u)=>u(l),Xa,n,r,i),G2=(n,r)=>I(n.dom.childNodes,i=>r(Pt(i))).map(Pt),Yr=(n,r,i)=>Xa(n,l=>di(l,r),i),nx=(n,r)=>(i=>{const l=i.dom;return l.parentNode?G2(Pt(l.parentNode),u=>!$o(i,u)&&di(u,r)):E.none()})(n),pc=(n,r)=>G2(n,i=>di(i,r)),ss=(n,r)=>Uf(r,n),ml=(n,r,i)=>lr((l,u)=>di(l,u),Yr,n,r,i),Gi=(n,r)=>{n.dom.checked=r},ym=n=>n.dom.checked,Qa=n=>n.dom.classList!==void 0,Gf=n=>Kd(n,"class"),Fl=(n,r)=>((i,l,u)=>{const m=Kd(i,l).concat([u]);return ao(i,l,m.join(" ")),!0})(n,"class",r),rd=(n,r)=>((i,l,u)=>{const m=Co(Kd(i,l),p=>p!==u);return m.length>0?ao(i,l,m.join(" ")):Us(i,l),!1})(n,"class",r),vs=(n,r)=>{Qa(n)?n.dom.classList.add(r):Fl(n,r)},K1=n=>{(Qa(n)?n.dom.classList:Gf(n)).length===0&&Us(n,"class")},en=(n,r)=>{Qa(n)?n.dom.classList.remove(r):rd(n,r),K1(n)},cr=(n,r)=>Qa(n)&&n.dom.classList.contains(r),zl=(n,r)=>{pt(r,i=>{vs(n,i)})},Xr=(n,r)=>{pt(r,i=>{en(n,i)})},Kf=n=>Qa(n)?(r=>{const i=r.dom.classList,l=new Array(i.length);for(let u=0;u<i.length;u++){const m=i.item(u);m!==null&&(l[u]=m)}return l})(n):Gf(n),Qr=n=>n.dom.value,Yd=(n,r)=>{if(r===void 0)throw new Error("Value.set was undefined");n.dom.value=r},Xd=(n,r,i)=>Co(((l,u)=>{const m=nt(u)?u:ze;let p=l.dom;const x=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const v=p.parentNode,_=Pt(v);if(x.push(_),m(_)===!0)break;p=v}return x})(n,i),r),Jr=(n,r)=>((i,l)=>{const u=l===void 0?document:l.dom;return $f(u)?[]:we(u.querySelectorAll(i),Pt)})(r,n),ch=(n,r,i)=>q2(n,r,i).isSome(),dh=(n,r,i)=>ml(n,r,i).isSome(),sx=n=>nt(n)?n:ze,uh=(n,r,i)=>{let l=n.dom;const u=sx(i);for(;l.parentNode;){l=l.parentNode;const m=Pt(l),p=r(m);if(p.isSome())return p;if(u(m))break}return E.none()},mh=(n,r,i)=>{const l=r(n),u=sx(i);return l.orThunk(()=>u(n)?E.none():uh(n,r,u))},Y1=(n,r,i,l)=>({start:n,soffset:r,finish:i,foffset:l}),X1=zs([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Q1=(X1.before,X1.on,X1.after,n=>n.fold(yt,yt,yt)),J1=zs([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ad={domRange:J1.domRange,relative:J1.relative,exact:J1.exact,exactFromRange:n=>J1.exact(n.start,n.soffset,n.finish,n.foffset),getWin:n=>{const r=(i=>i.match({domRange:l=>Pt(l.startContainer),relative:(l,u)=>Q1(l),exact:(l,u,m,p)=>l}))(n);return Dr(r)},range:Y1},e0=n=>{if(n.rangeCount>0){const r=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return E.some(Y1(Pt(r.startContainer),r.startOffset,Pt(i.endContainer),i.endOffset))}return E.none()},K2=n=>{if(n.anchorNode===null||n.focusNode===null)return e0(n);{const r=Pt(n.anchorNode),i=Pt(n.focusNode);return((l,u,m,p)=>{const x=((_,S,k,A)=>{const M=It(_).dom.createRange();return M.setStart(_.dom,S),M.setEnd(k.dom,A),M})(l,u,m,p),v=$o(l,m)&&u===p;return x.collapsed&&!v})(r,n.anchorOffset,i,n.focusOffset)?E.some(Y1(r,n.anchorOffset,i,n.focusOffset)):e0(n)}},rx=(n,r)=>(i=>{const l=i.getClientRects(),u=l.length>0?l[0]:i.getBoundingClientRect();return u.width>0||u.height>0?E.some(u).map(Eg):E.none()})(Vf(n,r)),Ja={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Lg=(()=>{const n="[0-9]+",r="[eE][+-]?"+n,i=u=>`(?:${u})?`,l=["Infinity",n+"\\."+i(n)+i(r),"\\."+n+i(r),n+i(r)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),hc=(n,r)=>E.from(Lg.exec(n)).bind(i=>{const l=Number(i[1]),u=i[2];return((m,p)=>vn(p,x=>vn(Ja[x],v=>m===v)))(u,r)?E.some({value:l,unit:u}):E.none()}),Qd=(n,r,i,l)=>({x:n,y:r,width:i,height:l,right:n+i,bottom:r+l}),t0=n=>{const r=n===void 0?window:n,i=r.document,l=Ri(Pt(i));return(u=>{const m=u===void 0?window:u;return ve().browser.isFirefox()?E.none():E.from(m.visualViewport)})(r).fold(()=>{const u=r.document.documentElement,m=u.clientWidth,p=u.clientHeight;return Qd(l.left,l.top,m,p)},u=>Qd(Math.max(u.pageLeft,l.left),Math.max(u.pageTop,l.top),u.width,u.height))},ea=(n,r)=>n.view(r).fold(oe([]),i=>{const l=n.owner(i),u=ea(n,l);return[i].concat(u)});var Hl=Object.freeze({__proto__:null,view:n=>{var r;return(n.dom===document?E.none():E.from((r=n.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(Pt)},owner:n=>It(n)});const bc=n=>{const r=j1(),i=Ri(r);return((u,m)=>{const p=m.owner(u),x=ea(m,p);return E.some(x)})(n,Hl).fold(rn(Rr,n),u=>{const m=vm(n),p=_o(u,(x,v)=>{const _=vm(v);return{left:x.left+_.left,top:x.top+_.top}},{left:0,top:0});return Ss(p.left+m.left+i.left,p.top+m.top+i.top)})},ln=(n,r,i,l)=>({x:n,y:r,width:i,height:l,right:n+i,bottom:r+l}),fr=n=>{const r=Rr(n),i=Gd(n),l=Nu(n);return ln(r.left,r.top,i,l)},Mu=n=>{const r=bc(n),i=Gd(n),l=Nu(n);return ln(r.left,r.top,i,l)},gh=(n,r)=>{const i=Math.max(n.x,r.x),l=Math.max(n.y,r.y),u=Math.min(n.right,r.right),m=Math.min(n.bottom,r.bottom);return ln(i,l,u-i,m-l)},Zs=()=>t0(window),o0=(n,r)=>$o(n.element,r.event.target),jr=n=>(zn(ir(n,"position"),"fixed")?E.none():wa(n)).orThunk(()=>{const r=ks("span");return Hn(n).bind(i=>{Oi(i,r);const l=wa(r);return Wd(r),l})}),Ki=n=>jr(n).map(Rr).getOrThunk(()=>Ss(0,0));var Ys;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Ys||(Ys={}));const xc=(n,r,i)=>n.stype===Ys.Error?r(n.serror):i(n.svalue),wm=n=>({stype:Ys.Value,svalue:n}),Nr=n=>({stype:Ys.Error,serror:n}),Bu=wm,vc=Nr,Pu=xc,ls=n=>ye(n)&&Lo(n).length>100?" removed due to size":JSON.stringify(n,null,2),Ni=(n,r)=>vc([{path:n,getErrorInfo:r}]),_m=n=>({extract:(r,i)=>((l,u)=>l.stype===Ys.Error?u(l.serror):l)(n(i),l=>((u,m)=>Ni(u,oe(m)))(r,l)),toString:oe("val")}),id=_m(Bu),Mi=oe(id),n0=(n,r)=>_m(i=>{const l=typeof i;return n(i)?Bu(i):vc(`Expected type: ${r} but got: ${l}`)}),Fg=n0(zt,"number"),pr=n0(De,"string"),gl=n0(Ot,"boolean"),Yf=n0(nt,"function"),Cm=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(r=>Cm(n[r]));default:return!1}},Y2=_m(n=>Cm(n)?Bu(n):vc("Expected value to be acceptable for sending via postMessage")),km=n=>({tag:"defaultedThunk",process:n}),Jd=n=>km(oe(n)),s0=n=>({tag:"mergeWithThunk",process:n}),ax=(n,r,i,l)=>({tag:"field",key:n,newKey:r,presence:i,prop:l}),zg=(n,r,i)=>{switch(n.tag){case"field":return r(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},Xf=n=>{const r=(l=>{const u=[],m=[];return pt(l,p=>{xc(p,x=>m.push(x),x=>u.push(x))}),{values:u,errors:m}})(n);return r.errors.length>0?(i=r.errors,Ge(vc,_s)(i)):Bu(r.values);var i},fl=(n,r,i,l)=>l(Qt(n,r).getOrThunk(()=>i(n))),X2=(n,r,i,l,u)=>{const m=x=>u.extract(r.concat([l]),x),p=x=>x.fold(()=>Bu(E.none()),v=>((_,S)=>_.stype===Ys.Value?{stype:Ys.Value,svalue:S(_.svalue)}:_)(u.extract(r.concat([l]),v),E.some));switch(n.tag){case"required":return((x,v,_,S)=>Qt(v,_).fold(()=>((k,A,M)=>Ni(k,()=>'Could not find valid *required* value for "'+A+'" in '+ls(M)))(x,_,v),S))(r,i,l,m);case"defaultedThunk":return fl(i,l,n.process,m);case"option":return((x,v,_)=>_(Qt(x,v)))(i,l,p);case"defaultedOptionThunk":return((x,v,_,S)=>S(Qt(x,v).map(k=>k===!0?_(x):k)))(i,l,n.process,p);case"mergeWithThunk":return fl(i,l,oe({}),x=>{const v=bs(n.process(i),x);return m(v)})}},Sm=n=>({extract:(r,i)=>n().extract(r,i),toString:()=>n().toString()}),Em=n=>Lo(Pa(n,Ae)),gi=n=>{const r=mo(n),i=_o(n,(l,u)=>zg(u,m=>bs(l,{[m]:!0}),oe(l)),{});return{extract:(l,u)=>{const m=Ot(u)?[]:Em(u),p=Co(m,x=>!Zn(i,x));return p.length===0?r.extract(l,u):((x,v)=>Ni(x,()=>"There are unsupported fields: ["+v.join(", ")+"] specified"))(l,p)},toString:r.toString}},mo=n=>({extract:(r,i)=>((l,u,m)=>{const p={},x=[];for(const v of m)zg(v,(_,S,k,A)=>{const M=X2(k,l,u,_,A);Pu(M,P=>{x.push(...P)},P=>{p[S]=P})},(_,S)=>{p[_]=S(u)});return x.length>0?vc(x):Bu(p)})(r,i,n),toString:()=>`obj{
`+we(n,i=>zg(i,(l,u,m,p)=>l+" -> "+p.toString(),(l,u)=>"state("+l+")")).join(`
`)+"}"}),Am=n=>({extract:(r,i)=>{const l=we(i,(u,m)=>n.extract(r.concat(["["+m+"]"]),u));return Xf(l)},toString:()=>"array("+n.toString()+")"}),fh=(n,r)=>{const i=r!==void 0?r:yt;return{extract:(l,u)=>{const m=[];for(const p of n){const x=p.extract(l,u);if(x.stype===Ys.Value)return{stype:Ys.Value,svalue:i(x.svalue)};m.push(x)}return Xf(m)},toString:()=>"oneOf("+we(n,l=>l.toString()).join(", ")+")"}},Q2=(n,r)=>({extract:(i,l)=>{const u=Lo(l),m=((p,x)=>Am(_m(n)).extract(p,x))(i,u);return((p,x)=>p.stype===Ys.Value?x(p.svalue):p)(m,p=>{const x=we(p,v=>ax(v,v,{tag:"required",process:{}},r));return mo(x).extract(i,l)})},toString:()=>"setOf("+r.toString()+")"}),ph=Ge(Am,mo),ld=(n,r)=>({extract:(i,l)=>Qt(l,n).fold(()=>((u,m)=>Ni(u,()=>'Choice schema did not contain choice key: "'+m+'"'))(i,n),u=>((m,p,x,v)=>Qt(x,v).fold(()=>((_,S,k)=>Ni(_,()=>'The chosen schema: "'+k+'" did not exist in branches: '+ls(S)))(m,x,v),_=>_.extract(m.concat(["branch: "+v]),p)))(i,l,r,u)),toString:()=>"chooseOn("+n+"). Possible values: "+Lo(r)}),hh=n=>_m(r=>n(r).fold(vc,Bu)),bh=(n,r)=>Q2(i=>n(i).fold(Nr,wm),r),Es=(n,r,i)=>{return l=((u,m,p)=>((x,v)=>x.stype===Ys.Error?{stype:Ys.Error,serror:v(x.serror)}:x)(m.extract([u],p),x=>({input:p,errors:x})))(n,r,i),xc(l,Wo.error,Wo.value);var l},Bi=n=>n.fold(r=>{throw new Error(Iu(r))},yt),za=(n,r,i)=>Bi(Es(n,r,i)),Iu=n=>`Errors: 
`+(r=>{const i=r.length>10?r.slice(0,10).concat([{path:[],getErrorInfo:oe("... (only showing first ten failures)")}]):r;return we(i,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(n.errors).join(`
`)+`

Input object: `+ls(n.input),ei=(n,r)=>ld(n,Rs(r,mo)),xh=(n,r)=>((i,l)=>{const u=mr(l);return{extract:(m,p)=>u().extract(m,p),toString:()=>u().toString()}})(0,r),hr=ax,ka=(n,r)=>({tag:"custom",newKey:n,instantiator:r}),cd=n=>hh(r=>dt(n,r)?Wo.value(r):Wo.error(`Unsupported value: "${r}", choose one of "${n.join(", ")}".`)),ct=n=>hr(n,n,{tag:"required",process:{}},Mi()),Pi=(n,r)=>hr(n,n,{tag:"required",process:{}},r),Tm=n=>Pi(n,Fg),Mr=n=>Pi(n,pr),yc=(n,r)=>hr(n,n,{tag:"required",process:{}},cd(r)),pl=n=>Pi(n,Yf),ti=(n,r)=>hr(n,n,{tag:"required",process:{}},mo(r)),Ii=(n,r)=>hr(n,n,{tag:"required",process:{}},ph(r)),oi=(n,r)=>hr(n,n,{tag:"required",process:{}},Am(r)),Dn=n=>hr(n,n,{tag:"option",process:{}},Mi()),Li=(n,r)=>hr(n,n,{tag:"option",process:{}},r),js=n=>Li(n,Fg),Fs=n=>Li(n,pr),dd=(n,r)=>Li(n,cd(r)),Br=n=>Li(n,Yf),Dm=(n,r)=>Li(n,Am(r)),fi=(n,r)=>Li(n,mo(r)),Me=(n,r)=>hr(n,n,Jd(r),Mi()),Vl=(n,r,i)=>hr(n,n,Jd(r),i),$l=(n,r)=>Vl(n,r,Fg),ys=(n,r)=>Vl(n,r,pr),Fi=(n,r,i)=>Vl(n,r,cd(i)),Sa=(n,r)=>Vl(n,r,gl),rs=(n,r)=>Vl(n,r,Yf),Lu=(n,r,i)=>Vl(n,r,Am(i)),r0=(n,r,i)=>Vl(n,r,mo(i)),Hg=(n,r)=>((i,l)=>({[i]:l}))(n,r),Yi=n=>(r=>{const i={};return pt(r,l=>{i[l.key]=l.value}),i})(n),fa=oe,Ul=fa("touchstart"),Qf=fa("touchmove"),Om=fa("touchend"),Xi=fa("touchcancel"),Qi=fa("mousedown"),Wr=fa("mousemove"),eu=fa("mouseout"),a0=fa("mouseup"),ni=fa("mouseover"),Zl=fa("focusin"),ix=fa("focusout"),wc=fa("keydown"),LC=fa("keyup"),ud=fa("input"),Rm=fa("change"),Nm=fa("click"),J2=fa("transitioncancel"),Jf=fa("transitionend"),FC=fa("transitionstart"),lx=fa("selectstart"),Ws=n=>oe("alloy."+n),i0={tap:Ws("tap")},jl=Ws("focus"),Fu=Ws("blur.post"),cx=Ws("paste.post"),Mm=Ws("receive"),Ji=Ws("execute"),pi=Ws("focus.item"),zu=i0.tap,ey=Ws("longpress"),vh=Ws("sandbox.close"),dx=Ws("typeahead.cancel"),l0=Ws("system.init"),ty=Ws("system.touchmove"),oy=Ws("system.touchend"),c0=Ws("system.scroll"),Wl=Ws("system.resize"),_c=Ws("system.attached"),tu=Ws("system.detached"),Vg=Ws("system.dismissRequested"),ny=Ws("system.repositionRequested"),$g=Ws("focusmanager.shifted"),d0=Ws("slotcontainer.visibility"),yh=Ws("system.external.element.scroll"),u0=Ws("change.tab"),m0=Ws("dismiss.tab"),ux=Ws("highlight"),mx=Ws("dehighlight"),ql=n=>(r=>{if(Wf(r))return"#shadow-root";{const i=(l=>Qb(l,!1))(r);return(l=>{const u=ks("div"),m=Pt(l.dom.cloneNode(!0));return Oi(u,m),bm(u)})(i)}})(n);var Cc;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(Cc||(Cc={}));const Qs=Tt({}),sy=["alloy/data/Fields","alloy/debugging/Debugging"],Bm=(n,r,i)=>((l,u,m)=>{switch(Qt(Qs.get(),l).orThunk(()=>{const p=Lo(Qs.get());return dn(p,x=>l.indexOf(x)>-1?E.some(Qs.get()[x]):E.none())}).getOr(Cc.NORMAL)){case Cc.NORMAL:return m(gx());case Cc.LOGGING:{const p=((v,_)=>{const S=[],k=new Date().getTime();return{logEventCut:(A,M,P)=>{S.push({outcome:"cut",target:M,purpose:P})},logEventStopped:(A,M,P)=>{S.push({outcome:"stopped",target:M,purpose:P})},logNoParent:(A,M,P)=>{S.push({outcome:"no-parent",target:M,purpose:P})},logEventNoHandlers:(A,M)=>{S.push({outcome:"no-handlers-left",target:M})},logEventResponse:(A,M,P)=>{S.push({outcome:"response",purpose:P,target:M})},write:()=>{const A=new Date().getTime();dt(["mousemove","mouseover","mouseout",l0()],v)||console.log(v,{event:v,time:A-k,target:_.dom,sequence:we(S,M=>dt(["cut","stopped","response"],M.outcome)?"{"+M.purpose+"} "+M.outcome+" at ("+ql(M.target)+")":M.outcome)})}}})(l,u),x=m(p);return p.write(),x}case Cc.STOP:return!0}})(n,r,i),gx=oe({logEventCut:ge,logEventStopped:ge,logNoParent:ge,logEventNoHandlers:ge,logEventResponse:ge,write:ge}),g0=oe([ct("menu"),ct("selectedMenu")]),wh=oe([ct("item"),ct("selectedItem")]);oe(mo(wh().concat(g0())));const ry=oe(mo(wh())),ay=ti("initSize",[ct("numColumns"),ct("numRows")]),Hu=()=>ti("markers",[ct("backgroundMenu")].concat(g0()).concat(wh())),kc=n=>ti("markers",we(n,ct)),jt=(n,r,i)=>((()=>{const l=new Error;if(l.stack!==void 0){const u=l.stack.split(`
`);I(u,m=>m.indexOf("alloy")>0&&!vn(sy,p=>m.indexOf(p)>-1)).getOr("unknown")}})(),hr(r,r,i,hh(l=>Wo.value((...u)=>l.apply(void 0,u))))),Mo=n=>jt(0,n,Jd(ge)),zi=n=>jt(0,n,Jd(E.none)),Sc=n=>jt(0,n,{tag:"required",process:{}}),hl=n=>jt(0,n,{tag:"required",process:{}}),os=(n,r)=>ka(n,oe(r)),iy=n=>ka(n,yt),Pm=oe(ay),Ug=n=>we(n,r=>zd(r,"/*")?r.substring(0,r.length-2):r),Ec=(n,r)=>{const i=n.toString(),l=i.indexOf(")")+1,u=i.indexOf("("),m=i.substring(u+1,l-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:r,parameters:Ug(m)}),n},f0=(n,r)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...l)=>{i=setTimeout(()=>{n.apply(null,l),i=null},r)}}},_h=n=>{const r=n.raw;return r.touches===void 0||r.touches.length!==1?E.none():E.some(r.touches[0])};var ut;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(ut||(ut={}));const fx="placeholder",Ch=zs([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),md=n=>nn(n,"uiType"),Zg=(n,r,i,l)=>((u,m,p,x)=>md(p)&&p.uiType===fx?((v,_,S,k)=>v.exists(A=>A!==S.owner)?Ch.single(!0,oe(S)):Qt(k,S.name).fold(()=>{throw new Error("Unknown placeholder component: "+S.name+`
Known: [`+Lo(k)+`]
Namespace: `+v.getOr("none")+`
Spec: `+JSON.stringify(S,null,2))},A=>A.replace()))(u,0,p,x):Ch.single(!1,oe(p)))(n,0,i,l).fold((u,m)=>{const p=md(i)?m(r,i.config,i.validated):m(r),x=Qt(p,"components").getOr([]),v=Io(x,_=>Zg(n,r,_,l));return[{...p,components:v}]},(u,m)=>{if(md(i)){const p=m(r,i.config,i.validated);return i.validated.preprocess.getOr(yt)(p)}return m(r)}),kh=Ch.single,Ns=Ch.multiple,p0=oe(fx),Sh=zs([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),hi=Me("factory",{sketch:yt}),Wn=Me("schema",[]),jg=ct("name"),Wg=hr("pname","pname",km(n=>"<alloy."+ke(n.name)+">"),Mi()),h0=ka("schema",()=>[Dn("preprocess")]),Ea=Me("defaults",oe({})),bi=Me("overrides",oe({})),zC=mo([hi,Wn,jg,Wg,Ea,bi]),px=mo([hi,Wn,jg,Ea,bi]),HC=mo([hi,Wn,jg,Wg,Ea,bi]),ly=mo([hi,h0,jg,ct("unit"),Wg,Ea,bi]),cy=n=>n.fold(E.some,E.none,E.some,E.some),dy=n=>{const r=i=>i.name;return n.fold(r,r,r,r)},b0=(n,r)=>i=>{const l=za("Converting part type",r,i);return n(l)},xi=b0(Sh.required,zC),Gl=b0(Sh.external,px),Ac=b0(Sh.optional,HC),x0=b0(Sh.group,ly),Eh=oe("entirety");var Vu=Object.freeze({__proto__:null,required:xi,external:Gl,optional:Ac,group:x0,asNamedPart:cy,name:dy,asCommon:n=>n.fold(yt,yt,yt,yt),original:Eh});const Aa=(n,r,i,l)=>bs(r.defaults(n,i,l),i,{uid:n.partUids[r.name]},r.overrides(n,i,l)),v0=(n,r)=>{const i={};return pt(r,l=>{cy(l).each(u=>{const m=uy(n,u.pname);i[u.name]=p=>{const x=za("Part: "+u.name+" in "+n,mo(u.schema),p);return{...m,config:p,validated:x}}})}),i},uy=(n,r)=>({uiType:p0(),owner:n,name:r}),$u=(n,r,i)=>({uiType:p0(),owner:n,name:r,config:i,validated:{}}),qg=n=>Io(n,r=>r.fold(E.none,E.some,E.none,E.none).map(i=>ti(i.name,i.schema.concat([iy(Eh())]))).toArray()),hx=n=>we(n,dy),bx=(n,r,i)=>((l,u,m)=>{const p={},x={};return pt(m,v=>{v.fold(_=>{p[_.pname]=kh(!0,(S,k,A)=>_.factory.sketch(Aa(S,_,k,A)))},_=>{const S=u.parts[_.name];x[_.name]=oe(_.factory.sketch(Aa(u,_,S[Eh()]),S))},_=>{p[_.pname]=kh(!1,(S,k,A)=>_.factory.sketch(Aa(S,_,k,A)))},_=>{p[_.pname]=Ns(!0,(S,k,A)=>{const M=S[_.name];return we(M,P=>_.factory.sketch(bs(_.defaults(S,P,A),P,_.overrides(S,P))))})})}),{internals:oe(p),externals:oe(x)}})(0,r,i),xx=(n,r,i)=>((l,u,m,p)=>{const x=Rs(p,(_,S)=>((k,A)=>{let M=!1;return{name:oe(k),required:()=>A.fold((P,q)=>P,(P,q)=>P),used:()=>M,replace:()=>{if(M)throw new Error("Trying to use the same placeholder more than once: "+k);return M=!0,A}}})(S,_)),v=((_,S,k,A)=>Io(k,M=>Zg(_,S,M,A)))(l,u,m,x);return yn(x,_=>{if(_.used()===!1&&_.required())throw new Error("Placeholder: "+_.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(u.components,null,2))}),v})(E.some(n),r,r.components,i),qn=(n,r,i)=>{const l=r.partUids[i];return n.getSystem().getByUid(l).toOptional()},Im=(n,r,i)=>qn(n,r,i).getOrDie("Could not find part: "+i),ep=(n,r,i)=>{const l={},u=r.partUids,m=n.getSystem();return pt(i,p=>{l[p]=oe(m.getByUid(u[p]))}),l},y0=(n,r)=>{const i=n.getSystem();return Rs(r.partUids,(l,u)=>oe(i.getByUid(l)))},w0=n=>Lo(n.partUids),Ah=(n,r,i)=>{const l={},u=r.partUids,m=n.getSystem();return pt(i,p=>{l[p]=oe(m.getByUid(u[p]).getOrDie())}),l},vx=(n,r)=>{const i=hx(r);return Yi(we(i,l=>({key:l,value:n+"-"+l})))},yx=n=>hr("partUids","partUids",s0(r=>vx(r.uid,n)),Mi());var my=Object.freeze({__proto__:null,generate:v0,generateOne:$u,schemas:qg,names:hx,substitutes:bx,components:xx,defaultUids:vx,defaultUidsSchema:yx,getAllParts:y0,getAllPartNames:w0,getPart:qn,getPartOrDie:Im,getParts:ep,getPartsOrDie:Ah});const Th=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],el=(n,r,i,l=1)=>{const u=n*l,m=r*l,p=v=>Qt(i,v).getOr([]),x=(v,_,S)=>{const k=Ho(Th,S);return{offset:Ss(v,_),classesOn:Io(S,p),classesOff:Io(k,p)}};return{southeast:()=>x(-n,r,["top","alignLeft"]),southwest:()=>x(n,r,["top","alignRight"]),south:()=>x(-n/2,r,["top","alignCentre"]),northeast:()=>x(-n,-r,["bottom","alignLeft"]),northwest:()=>x(n,-r,["bottom","alignRight"]),north:()=>x(-n/2,-r,["bottom","alignCentre"]),east:()=>x(n,-r/2,["valignCentre","left"]),west:()=>x(-n,-r/2,["valignCentre","right"]),insetNortheast:()=>x(u,m,["top","alignLeft","inset"]),insetNorthwest:()=>x(-u,m,["top","alignRight","inset"]),insetNorth:()=>x(-u/2,m,["top","alignCentre","inset"]),insetSoutheast:()=>x(u,-m,["bottom","alignLeft","inset"]),insetSouthwest:()=>x(-u,-m,["bottom","alignRight","inset"]),insetSouth:()=>x(-u/2,-m,["bottom","alignCentre","inset"]),insetEast:()=>x(-u,-m/2,["valignCentre","right","inset"]),insetWest:()=>x(u,-m/2,["valignCentre","left","inset"])}},_0=()=>el(0,0,{}),ta=(n,r,i,l,u,m,p,x=!1)=>({x:n,y:r,bubble:i,direction:l,placement:u,restriction:m,label:`${p}-${u}`,alwaysFit:x}),ou=zs([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),tp=ou.southeast,Uu=ou.southwest,wx=ou.northeast,Dh=ou.northwest,gy=ou.south,_x=ou.north,fy=ou.east,Cx=ou.west,Ta=(n,r)=>Mn(["left","right","top","bottom"],i=>Qt(r,i).map(l=>((u,m)=>{switch(m){case 1:return u.x;case 0:return u.x+u.width;case 2:return u.y;case 3:return u.y+u.height}})(n,l))),Lm="layout",kx=n=>n.x,VC=(n,r)=>n.x+n.width/2-r.width/2,Sx=(n,r)=>n.x+n.width-r.width,Ex=(n,r)=>n.y-r.height,C0=n=>n.y+n.height,py=(n,r)=>n.y+n.height/2-r.height/2,br=(n,r,i)=>ta(kx(n),C0(n),i.southeast(),tp(),"southeast",Ta(n,{left:1,top:3}),Lm),Pr=(n,r,i)=>ta(Sx(n,r),C0(n),i.southwest(),Uu(),"southwest",Ta(n,{right:0,top:3}),Lm),Da=(n,r,i)=>ta(kx(n),Ex(n,r),i.northeast(),wx(),"northeast",Ta(n,{left:1,bottom:2}),Lm),Oa=(n,r,i)=>ta(Sx(n,r),Ex(n,r),i.northwest(),Dh(),"northwest",Ta(n,{right:0,bottom:2}),Lm),Ir=(n,r,i)=>ta(VC(n,r),Ex(n,r),i.north(),_x(),"north",Ta(n,{bottom:2}),Lm),Lr=(n,r,i)=>ta(VC(n,r),C0(n),i.south(),gy(),"south",Ta(n,{top:3}),Lm),Gg=(n,r,i)=>ta((l=>l.x+l.width)(n),py(n,r),i.east(),fy(),"east",Ta(n,{left:0}),Lm),Kg=(n,r,i)=>ta(((l,u)=>l.x-u.width)(n,r),py(n,r),i.west(),Cx(),"west",Ta(n,{right:1}),Lm),Ax=()=>[br,Pr,Da,Oa,Lr,Ir,Gg,Kg],hy=()=>[Pr,br,Oa,Da,Lr,Ir,Gg,Kg],k0=()=>[Da,Oa,br,Pr,Ir,Lr],gd=()=>[Oa,Da,Pr,br,Ir,Lr],Tx=()=>[br,Pr,Da,Oa,Lr,Ir],S0=()=>[Pr,br,Oa,Da,Lr,Ir],tl="data-alloy-placement",nu=n=>Kr(n,tl),Zu="layout-inset",Dx=n=>n.x,Ox=(n,r)=>n.x+n.width/2-r.width/2,Oh=(n,r)=>n.x+n.width-r.width,Rx=n=>n.y,by=(n,r)=>n.y+n.height-r.height,fd=(n,r)=>n.y+n.height/2-r.height/2,Fr=(n,r,i)=>ta(Oh(n,r),by(n,r),i.insetSouthwest(),Dh(),"southwest",Ta(n,{right:0,bottom:3}),Zu),op=(n,r,i)=>ta(Dx(n),by(n,r),i.insetSoutheast(),wx(),"southeast",Ta(n,{left:1,bottom:3}),Zu),np=(n,r,i)=>ta(Oh(n,r),Rx(n),i.insetNorthwest(),Uu(),"northwest",Ta(n,{right:0,top:2}),Zu),Yg=(n,r,i)=>ta(Dx(n),Rx(n),i.insetNortheast(),tp(),"northeast",Ta(n,{left:1,top:2}),Zu),Kl=(n,r,i)=>ta(Ox(n,r),Rx(n),i.insetNorth(),gy(),"north",Ta(n,{top:2}),Zu),sp=(n,r,i)=>ta(Ox(n,r),by(n,r),i.insetSouth(),_x(),"south",Ta(n,{bottom:3}),Zu),Rh=(n,r,i)=>ta(Oh(n,r),fd(n,r),i.insetEast(),Cx(),"east",Ta(n,{right:0}),Zu),Nh=(n,r,i)=>ta(Dx(n),fd(n,r),i.insetWest(),fy(),"west",Ta(n,{left:1}),Zu),$C=n=>{switch(n){case"north":return Kl;case"northeast":return Yg;case"northwest":return np;case"south":return sp;case"southeast":return op;case"southwest":return Fr;case"east":return Rh;case"west":return Nh}},Nx=(n,r,i,l,u)=>nu(l).map($C).getOr(Kl)(n,r,i,l,u),UC=n=>{switch(n){case"north":return sp;case"northeast":return op;case"northwest":return Fr;case"south":return Kl;case"southeast":return Yg;case"southwest":return np;case"east":return Nh;case"west":return Rh}},ZC=(n,r,i,l,u)=>nu(l).map(UC).getOr(Kl)(n,r,i,l,u),su=(n,r)=>{((i,l)=>{const u=Mg.max(i,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);ko(i,"max-height",u+"px")})(n,Math.floor(r))},Mx=oe((n,r)=>{su(n,r),te(n,{"overflow-x":"hidden","overflow-y":"auto"})}),Xg=oe((n,r)=>{su(n,r)}),E0=oe((n,r)=>{((i,l)=>{const u=Bg.max(i,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);ko(i,"max-width",u+"px")})(n,Math.floor(r))});var ru;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(ru||(ru={}));const Fm="data-alloy-vertical-dir",rp=n=>ch(n,r=>Uo(r)&&Eo(r,"data-alloy-vertical-dir")===ru.BottomToTop);var Js;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(Js||(Js={}));const bl={init:()=>si({readState:oe("No State required")})},si=n=>n,Qg={can:no,abort:ze,run:ge},pd=n=>{if(!Zn(n,"can")&&!Zn(n,"abort")&&!Zn(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...Qg,...n}},qo=(n,r)=>{Bh(n,n.element,r,{})},Gt=(n,r,i)=>{Bh(n,n.element,r,i)},Mh=n=>{qo(n,Ji())},Bx=(n,r,i)=>{Bh(n,r,i,{})},Bh=(n,r,i,l)=>{const u={target:r,...l};n.getSystem().triggerEvent(i,r,u)},Ph=(n,r,i,l)=>{n.getSystem().triggerEvent(i,r,l.event)},Gn=n=>Yi(n),ju=(n,r)=>({key:n,value:pd({abort:r})}),A0=n=>({key:n,value:pd({run:(r,i)=>{i.event.prevent()}})}),Ke=(n,r)=>({key:n,value:pd({run:r})}),T0=(n,r,i)=>({key:n,value:pd({run:(l,u)=>{r.apply(void 0,[l,u].concat(i))}})}),ap=n=>r=>({key:n,value:pd({run:(i,l)=>{o0(i,l)&&r(i,l)}})}),ip=(n,r,i)=>((l,u)=>Ke(l,(m,p)=>{m.getSystem().getByUid(u).each(x=>{Ph(x,x.element,l,p)})}))(n,r.partUids[i]),Jg=(n,r)=>Ke(n,(i,l)=>{const u=l.event,m=i.getSystem().getByDom(u.target).getOrThunk(()=>mh(u.target,p=>i.getSystem().getByDom(p).toOptional(),ze).getOr(i));r(i,m,l)}),hd=n=>Ke(n,(r,i)=>{i.cut()}),Px=n=>Ke(n,(r,i)=>{i.stop()}),Wu=(n,r)=>ap(n)(r),as=ap(_c()),Tc=ap(tu()),Ix=ap(l0()),Dc=(n=>r=>Ke(n,r))(Ji()),bd=n=>({classes:Zt(n.classes)?[]:n.classes,attributes:Zt(n.attributes)?{}:n.attributes,styles:Zt(n.styles)?{}:n.styles}),D0=(n,r,i)=>Ix((l,u)=>{i(l,n,r)}),Lx=n=>({key:n,value:void 0}),Ih=(n,r,i,l,u,m,p)=>{const x=S=>Zn(S,i)?S[i]():E.none(),v=Rs(u,(S,k)=>((A,M,P)=>((q,U,j)=>{const H=j.toString(),V=H.indexOf(")")+1,Y=H.indexOf("("),J=H.substring(Y+1,V-1).split(/,\s*/);return q.toFunctionAnnotation=()=>({name:U,parameters:Ug(J.slice(0,1).concat(J.slice(3)))}),q})((q,...U)=>{const j=[q].concat(U);return q.config({name:oe(A)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+A+". Using API: "+P)},H=>{const V=Array.prototype.slice.call(j,1);return M.apply(void 0,[q,H.config,H.state].concat(V))})},P,M))(i,S,k)),_={...Rs(m,(S,k)=>Ec(S,k)),...v,revoke:rn(Lx,i),config:S=>{const k=za(i+"-config",n,S);return{key:i,value:{config:k,me:_,configAsRaw:mr(()=>za(i+"-config",n,S)),initialConfig:S,state:p}}},schema:oe(r),exhibit:(S,k)=>Rl(x(S),Qt(l,"exhibit"),(A,M)=>M(k,A.config,A.state)).getOrThunk(()=>bd({})),name:oe(i),handlers:S=>x(S).map(k=>Qt(l,"events").getOr(()=>({}))(k.config,k.state)).getOr({})};return _},ht=n=>Yi(n),Lh=gi([ct("fields"),ct("name"),Me("active",{}),Me("apis",{}),Me("state",bl),Me("extra",{})]),pa=n=>{const r=za("Creating behaviour: "+n.name,Lh,n);return((i,l,u,m,p,x)=>{const v=gi(i),_=fi(l,[(S=i,Li("config",gi(S)))]);var S;return Ih(v,_,l,u,m,p,x)})(r.fields,r.name,r.active,r.apis,r.extra,r.state)},ef=gi([ct("branchKey"),ct("branches"),ct("name"),Me("active",{}),Me("apis",{}),Me("state",bl),Me("extra",{})]),Fh=n=>{const r=za("Creating behaviour: "+n.name,ef,n);return((i,l,u,m,p,x)=>{const v=i,_=fi(l,[Li("config",i)]);return Ih(v,_,l,u,m,p,x)})(ei(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},xy=oe(void 0),co=(n,r)=>{const i=((l,u)=>{const m=Gn(u);return pa({fields:[ct("enabled")],name:l,active:{events:oe(m)}})})(n,r);return{key:n,value:{config:{},me:i,configAsRaw:oe({}),initialConfig:{},state:bl}}},Fx=(n,r)=>{r.ignore||(gr(n.element),r.onFocus(n))};var zm=Object.freeze({__proto__:null,focus:Fx,blur:(n,r)=>{r.ignore||qi(n.element)},isFocused:n=>jd(n.element)}),vy=Object.freeze({__proto__:null,exhibit:(n,r)=>{const i=r.ignore?{}:{attributes:{tabindex:"-1"}};return bd(i)},events:n=>Gn([Ke(jl(),(r,i)=>{Fx(r,n),i.stop()})].concat(n.stopMousedown?[Ke(Qi(),(r,i)=>{i.event.prevent()})]:[]))}),xd=[Mo("onFocus"),Me("stopMousedown",!1),Me("ignore",!1)];const ho=pa({fields:xd,name:"focusing",active:vy,apis:zm}),zx=[8],au=[9],Yl=[13],On=[27],Hi=[32],tf=[37],lp=[38],Hm=[39],Vm=[40],Ha=oe("tooltipping.close.all"),iu=oe("dismiss.popups"),$m=oe("reposition.popups"),zh=oe("mouse.released"),cp=(n,r,i)=>{const l=ur(n.slice(0,r)),u=ur(n.slice(r+1));return I(l.concat(u),i)},Hh=(n,r,i)=>{const l=ur(n.slice(0,r));return I(l,i)},yy=(n,r,i)=>{const l=n.slice(0,r),u=n.slice(r+1);return I(u.concat(l),i)},wy=(n,r,i)=>{const l=n.slice(r+1);return I(l,i)},hn=n=>r=>{const i=r.raw;return dt(n,i.which)},vd=n=>r=>ci(n,i=>i(r)),dp=n=>n.raw.shiftKey===!0,jC=n=>n.raw.ctrlKey===!0,Vh=us(dp),wn=(n,r)=>({matches:n,classification:r}),Oc=(n,r,i,l)=>{const u=Jr(n.element,"."+r.highlightClass);pt(u,m=>{vn(l,p=>$o(p.element,m))||(en(m,r.highlightClass),n.getSystem().getByDom(m).each(p=>{r.onDehighlight(n,p),qo(p,mx())}))})},qr=(n,r,i,l)=>{Oc(n,r,0,[l]),Um(n,r,i,l)||(vs(l.element,r.highlightClass),r.onHighlight(n,l),qo(l,ux()))},Um=(n,r,i,l)=>cr(l.element,r.highlightClass),Zm=(n,r,i)=>ss(n.element,"."+r.itemClass).bind(l=>n.getSystem().getByDom(l).toOptional()),jm=(n,r,i)=>{const l=Jr(n.element,"."+r.itemClass);return(l.length>0?E.some(l[l.length-1]):E.none()).bind(u=>n.getSystem().getByDom(u).toOptional())},of=(n,r,i,l)=>{const u=Jr(n.element,"."+r.itemClass);return Ks(u,m=>cr(m,r.highlightClass)).bind(m=>{const p=Cs(m,l,0,u.length-1);return n.getSystem().getByDom(u[p]).toOptional()})},yd=(n,r,i)=>{const l=Jr(n.element,"."+r.itemClass);return ll(we(l,u=>n.getSystem().getByDom(u).toOptional()))};var nf=Object.freeze({__proto__:null,dehighlightAll:(n,r,i)=>Oc(n,r,0,[]),dehighlight:(n,r,i,l)=>{Um(n,r,i,l)&&(en(l.element,r.highlightClass),r.onDehighlight(n,l),qo(l,mx()))},highlight:qr,highlightFirst:(n,r,i)=>{Zm(n,r).each(l=>{qr(n,r,i,l)})},highlightLast:(n,r,i)=>{jm(n,r).each(l=>{qr(n,r,i,l)})},highlightAt:(n,r,i,l)=>{((u,m,p,x)=>{const v=Jr(u.element,"."+m.itemClass);return E.from(v[x]).fold(()=>Wo.error(new Error("No element found with index "+x)),u.getSystem().getByDom)})(n,r,0,l).fold(u=>{throw u},u=>{qr(n,r,i,u)})},highlightBy:(n,r,i,l)=>{const u=yd(n,r);I(u,l).each(m=>{qr(n,r,i,m)})},isHighlighted:Um,getHighlighted:(n,r,i)=>ss(n.element,"."+r.highlightClass).bind(l=>n.getSystem().getByDom(l).toOptional()),getFirst:Zm,getLast:jm,getPrevious:(n,r,i)=>of(n,r,0,-1),getNext:(n,r,i)=>of(n,r,0,1),getCandidates:yd}),$h=[ct("highlightClass"),ct("itemClass"),Mo("onHighlight"),Mo("onDehighlight")];const gn=pa({fields:$h,name:"highlighting",apis:nf}),_y=(n,r,i)=>{r.exists(l=>i.exists(u=>$o(u,l)))||Gt(n,$g(),{prevFocus:r,newFocus:i})},O0=()=>{const n=r=>La(r.element);return{get:n,set:(r,i)=>{const l=n(r);r.getSystem().triggerFocus(i,r.element);const u=n(r);_y(r,l,u)}}},R0=()=>{const n=r=>gn.getHighlighted(r).map(i=>i.element);return{get:n,set:(r,i)=>{const l=n(r);r.getSystem().getByDom(i).fold(ge,m=>{gn.highlight(r,m)});const u=n(r);_y(r,l,u)}}},Xl=(n,r,i,l,u)=>{const m=(x,v,_,S,k)=>{return(A=_(x,v,S,k),M=v.event,I(A,P=>P.matches(M)).map(P=>P.classification)).bind(P=>P(x,v,S,k));var A,M},p={schema:()=>n.concat([Me("focusManager",O0()),Vl("focusInside","onFocus",hh(x=>dt(["onFocus","onEnterOrSpace","onApi"],x)?Wo.value(x):Wo.error("Invalid value for focusInside"))),os("handler",p),os("state",r),os("sendFocusIn",u)]),processKey:m,toEvents:(x,v)=>{const _=x.focusInside!==ut.OnFocusMode?E.none():u(x).map(k=>Ke(jl(),(A,M)=>{k(A,x,v),M.stop()})),S=[Ke(wc(),(k,A)=>{m(k,A,i,x,v).fold(()=>{((M,P)=>{const q=hn(Hi.concat(Yl))(P.event);x.focusInside===ut.OnEnterOrSpaceMode&&q&&o0(M,P)&&u(x).each(U=>{U(M,x,v),P.stop()})})(k,A)},M=>{A.stop()})}),Ke(LC(),(k,A)=>{m(k,A,l,x,v).each(M=>{A.stop()})})];return Gn(_.toArray().concat(S))}};return p},Hx=n=>{const r=[Dn("onEscape"),Dn("onEnter"),Me("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Me("firstTabstop",0),Me("useTabstopAt",no),Dn("visibilitySelector")].concat([n]),i=(S,k)=>{const A=S.visibilitySelector.bind(M=>ml(k,M)).getOr(k);return Or(A)>0},l=(S,k)=>k.focusManager.get(S).bind(A=>ml(A,k.selector)),u=(S,k,A)=>{((M,P)=>{const q=Jr(M.element,P.selector),U=Co(q,j=>i(P,j));return E.from(U[P.firstTabstop])})(S,k).each(M=>{k.focusManager.set(S,M)})},m=(S,k,A,M)=>{const P=Co(Jr(S.element,A.selector),q=>i(A,q));return l(S,A).bind(q=>Ks(P,rn($o,q)).bind(U=>((j,H,V,Y,J)=>J(H,V,de=>((ce,pe)=>i(ce,pe)&&ce.useTabstopAt(pe))(Y,de)).fold(()=>Y.cyclic?E.some(!0):E.none(),de=>(Y.focusManager.set(j,de),E.some(!0))))(S,P,U,A,M)))},p=(S,k,A)=>{const M=A.cyclic?cp:Hh;return m(S,0,A,M)},x=(S,k,A)=>{const M=A.cyclic?yy:wy;return m(S,0,A,M)},v=oe([wn(vd([dp,hn(au)]),p),wn(hn(au),x),wn(vd([Vh,hn(Yl)]),(S,k,A)=>A.onEnter.bind(M=>M(S,k)))]),_=oe([wn(hn(On),(S,k,A)=>(S.getSystem().broadcastOn([Ha()],{closedTooltip:()=>{k.stop()}}),k.isStopped()?E.none():A.onEscape.bind(M=>M(S,k)))),wn(hn(au),(S,k,A)=>l(S,A).filter(M=>!A.useTabstopAt(M)).bind(M=>((P=>(q=>Hn(q))(P).bind(_a).exists(q=>$o(q,P)))(M)?p:x)(S,k,A)))]);return Xl(r,bl.init,v,_,()=>E.some(u))};var Vx=Hx(ka("cyclic",ze)),N0=Hx(ka("cyclic",no));const qu=n=>Ee("input")(n)&&Eo(n,"type")!=="radio"||Ee("textarea")(n),Ql=(n,r,i)=>qu(i)&&hn(Hi)(r.event)?E.none():((l,u,m)=>(Bx(l,m,Ji()),E.some(!0)))(n,0,i),up=(n,r)=>E.some(!0),sf=[Me("execute",Ql),Me("useSpace",!1),Me("useEnter",!0),Me("useControlEnter",!1),Me("useDown",!1)],Uh=(n,r,i)=>i.execute(n,r,n.element);var Cy=Xl(sf,bl.init,(n,r,i,l)=>{const u=i.useSpace&&!qu(n.element)?Hi:[],m=i.useEnter?Yl:[],p=i.useDown?Vm:[],x=u.concat(m).concat(p);return[wn(hn(x),Uh)].concat(i.useControlEnter?[wn(vd([jC,hn(Yl)]),Uh)]:[])},(n,r,i,l)=>i.useSpace&&!qu(n.element)?[wn(hn(Hi),up)]:[],()=>E.none());const ky=()=>{const n=In();return si({readState:()=>n.get().map(r=>({numRows:String(r.numRows),numColumns:String(r.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(r,i)=>{n.set({numRows:r,numColumns:i})},getNumRows:()=>n.get().map(r=>r.numRows),getNumColumns:()=>n.get().map(r=>r.numColumns)})};var $x=Object.freeze({__proto__:null,flatgrid:ky,init:n=>n.state(n)});const Vi=n=>(r,i,l,u)=>{const m=n(r.element);return lu(m,r,i,l,u)},Ux=(n,r)=>{const i=Ig(n,r);return Vi(i)},wd=(n,r)=>{const i=Ig(r,n);return Vi(i)},Zh=n=>(r,i,l,u)=>lu(n,r,i,l,u),lu=(n,r,i,l,u)=>l.focusManager.get(r).bind(m=>n(r.element,m,l,u)).map(m=>(l.focusManager.set(r,m),!0)),cu=Zh,oa=Zh,Wm=Zh,mp=(n,r,i)=>{const l=Jr(n,i);return(u=>Ks(u,m=>$o(m,r)).map(m=>({index:m,candidates:u})))(Co(l,qd))},Sy=(n,r)=>Ks(n,i=>$o(r,i)),Ey=(n,r,i,l)=>l(Math.floor(r/i),r%i).bind(u=>{const m=u.row*i+u.column;return m>=0&&m<n.length?E.some(n[m]):E.none()}),rf=(n,r,i,l,u)=>Ey(n,r,l,(m,p)=>{const x=m===i-1?n.length-m*l:l,v=Cs(p,u,0,x-1);return E.some({row:m,column:v})}),Rc=(n,r,i,l,u)=>Ey(n,r,l,(m,p)=>{const x=Cs(m,u,0,i-1),v=x===i-1?n.length-x*l:l,_=Sn(p,0,v-1);return E.some({row:x,column:_})}),Ay=[ct("selector"),Me("execute",Ql),zi("onEscape"),Me("captureTab",!1),Pm()],zr=(n,r,i)=>{ss(n.element,r.selector).each(l=>{r.focusManager.set(n,l)})},Gu=n=>(r,i,l,u)=>mp(r,i,l.selector).bind(m=>n(m.candidates,m.index,u.getNumRows().getOr(l.initSize.numRows),u.getNumColumns().getOr(l.initSize.numColumns))),$i=(n,r,i)=>i.captureTab?E.some(!0):E.none(),M0=Gu((n,r,i,l)=>rf(n,r,i,l,-1)),Zx=Gu((n,r,i,l)=>rf(n,r,i,l,1)),af=Gu((n,r,i,l)=>Rc(n,r,i,l,-1)),lf=Gu((n,r,i,l)=>Rc(n,r,i,l,1)),qm=oe([wn(hn(tf),Ux(M0,Zx)),wn(hn(Hm),wd(M0,Zx)),wn(hn(lp),cu(af)),wn(hn(Vm),oa(lf)),wn(vd([dp,hn(au)]),$i),wn(vd([Vh,hn(au)]),$i),wn(hn(Hi.concat(Yl)),(n,r,i,l)=>((u,m)=>m.focusManager.get(u).bind(p=>ml(p,m.selector)))(n,i).bind(u=>i.execute(n,r,u)))]),xl=oe([wn(hn(On),(n,r,i)=>i.onEscape(n,r)),wn(hn(Hi),up)]);var jx=Xl(Ay,ky,qm,xl,()=>E.some(zr));const Ty=(n,r,i,l,u)=>{const m=(p,x,v)=>u(p,x,l,0,v.length-1,v[x],_=>{return S=v[_],Ut(S)==="button"&&Eo(S,"disabled")==="disabled"?m(p,_,v):E.from(v[_]);var S});return mp(n,i,r).bind(p=>{const x=p.index,v=p.candidates;return m(x,x,v)})},gp=(n,r,i,l)=>Ty(n,r,i,l,(u,m,p,x,v,_,S)=>{const k=Sn(m+p,x,v);return k===u?E.from(_):S(k)}),fp=(n,r,i,l)=>Ty(n,r,i,l,(u,m,p,x,v,_,S)=>{const k=Cs(m,p,x,v);return k===u?E.none():S(k)}),Wx=[ct("selector"),Me("getInitial",E.none),Me("execute",Ql),zi("onEscape"),Me("executeOnMove",!1),Me("allowVertical",!0),Me("allowHorizontal",!0),Me("cycles",!0)],pp=(n,r,i)=>((l,u)=>u.focusManager.get(l).bind(m=>ml(m,u.selector)))(n,i).bind(l=>i.execute(n,r,l)),jh=(n,r,i)=>{r.getInitial(n).orThunk(()=>ss(n.element,r.selector)).each(l=>{r.focusManager.set(n,l)})},B0=(n,r,i)=>(i.cycles?fp:gp)(n,i.selector,r,-1),P0=(n,r,i)=>(i.cycles?fp:gp)(n,i.selector,r,1),qx=n=>(r,i,l,u)=>n(r,i,l,u).bind(()=>l.executeOnMove?pp(r,i,l):E.some(!0)),hp=oe([wn(hn(Hi),up),wn(hn(On),(n,r,i)=>i.onEscape(n,r))]);var g=Xl(Wx,bl.init,(n,r,i,l)=>{const u=[...i.allowHorizontal?tf:[]].concat(i.allowVertical?lp:[]),m=[...i.allowHorizontal?Hm:[]].concat(i.allowVertical?Vm:[]);return[wn(hn(u),qx(Ux(B0,P0))),wn(hn(m),qx(wd(B0,P0))),wn(hn(Yl),pp),wn(hn(Hi),pp)]},hp,()=>E.some(jh));const h=(n,r,i)=>E.from(n[r]).bind(l=>E.from(l[i]).map(u=>({rowIndex:r,columnIndex:i,cell:u}))),y=(n,r,i,l)=>{const u=n[r].length,m=Cs(i,l,0,u-1);return h(n,r,m)},C=(n,r,i,l)=>{const u=Cs(i,l,0,n.length-1),m=n[u].length,p=Sn(r,0,m-1);return h(n,u,p)},D=(n,r,i,l)=>{const u=n[r].length,m=Sn(i+l,0,u-1);return h(n,r,m)},O=(n,r,i,l)=>{const u=Sn(i+l,0,n.length-1),m=n[u].length,p=Sn(r,0,m-1);return h(n,u,p)},L=[ti("selectors",[ct("row"),ct("cell")]),Me("cycles",!0),Me("previousSelector",E.none),Me("execute",Ql)],z=(n,r,i)=>{r.previousSelector(n).orThunk(()=>{const l=r.selectors;return ss(n.element,l.cell)}).each(l=>{r.focusManager.set(n,l)})},Q=(n,r)=>(i,l,u)=>{const m=u.cycles?n:r;return ml(l,u.selectors.row).bind(p=>{const x=Jr(p,u.selectors.cell);return Sy(x,l).bind(v=>{const _=Jr(i,u.selectors.row);return Sy(_,p).bind(S=>{const k=((A,M)=>we(A,P=>Jr(P,M.selectors.cell)))(_,u);return m(k,S,v).map(A=>A.cell)})})})},re=Q((n,r,i)=>y(n,r,i,-1),(n,r,i)=>D(n,r,i,-1)),he=Q((n,r,i)=>y(n,r,i,1),(n,r,i)=>D(n,r,i,1)),se=Q((n,r,i)=>C(n,i,r,-1),(n,r,i)=>O(n,i,r,-1)),me=Q((n,r,i)=>C(n,i,r,1),(n,r,i)=>O(n,i,r,1)),le=oe([wn(hn(tf),Ux(re,he)),wn(hn(Hm),wd(re,he)),wn(hn(lp),cu(se)),wn(hn(Vm),oa(me)),wn(hn(Hi.concat(Yl)),(n,r,i)=>La(n.element).bind(l=>i.execute(n,r,l)))]),Ce=oe([wn(hn(Hi),up)]);var _e=Xl(L,bl.init,le,Ce,()=>E.some(z));const Je=[ct("selector"),Me("execute",Ql),Me("moveOnTab",!1)],tt=(n,r,i)=>i.focusManager.get(n).bind(l=>i.execute(n,r,l)),gt=(n,r,i)=>{ss(n.element,r.selector).each(l=>{r.focusManager.set(n,l)})},bt=(n,r,i)=>fp(n,i.selector,r,-1),xt=(n,r,i)=>fp(n,i.selector,r,1),St=oe([wn(hn(lp),Wm(bt)),wn(hn(Vm),Wm(xt)),wn(vd([dp,hn(au)]),(n,r,i,l)=>i.moveOnTab?Wm(bt)(n,r,i,l):E.none()),wn(vd([Vh,hn(au)]),(n,r,i,l)=>i.moveOnTab?Wm(xt)(n,r,i,l):E.none()),wn(hn(Yl),tt),wn(hn(Hi),tt)]),Dt=oe([wn(hn(Hi),up)]);var Yt=Xl(Je,bl.init,St,Dt,()=>E.some(gt));const go=[zi("onSpace"),zi("onEnter"),zi("onShiftEnter"),zi("onLeft"),zi("onRight"),zi("onTab"),zi("onShiftTab"),zi("onUp"),zi("onDown"),zi("onEscape"),Me("stopSpaceKeyup",!1),Dn("focusIn")];var zo=Xl(go,bl.init,(n,r,i)=>[wn(hn(Hi),i.onSpace),wn(vd([Vh,hn(Yl)]),i.onEnter),wn(vd([dp,hn(Yl)]),i.onShiftEnter),wn(vd([dp,hn(au)]),i.onShiftTab),wn(vd([Vh,hn(au)]),i.onTab),wn(hn(lp),i.onUp),wn(hn(Vm),i.onDown),wn(hn(tf),i.onLeft),wn(hn(Hm),i.onRight),wn(hn(Hi),i.onSpace)],(n,r,i)=>[...i.stopSpaceKeyup?[wn(hn(Hi),up)]:[],wn(hn(On),i.onEscape)],n=>n.focusIn);const Oo=Vx.schema(),Zo=N0.schema(),No=g.schema(),Kn=jx.schema(),xr=_e.schema(),Ra=Cy.schema(),na=Yt.schema(),vl=zo.schema(),qt=Fh({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Oo,cyclic:Zo,flow:No,flatgrid:Kn,matrix:xr,execution:Ra,menu:na,special:vl}),name:"keying",active:{events:(n,r)=>n.handler.toEvents(n,r)},apis:{focusIn:(n,r,i)=>{r.sendFocusIn(r).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},l=>{l(n,r,i)})},setGridSize:(n,r,i,l,u)=>{(m=>Zn(m,"setGridSize"))(i)?i.setGridSize(l,u):console.error("Layout does not support setGridSize")}},state:$x}),Va=ke("alloy-premade"),Nc=n=>(Object.defineProperty(n.element.dom,Va,{value:n.uid,writable:!0}),Hg(Va,n)),Wh=n=>Qt(n,Va),_d=n=>((r,i)=>{const l=i.toString(),u=l.indexOf(")")+1,m=l.indexOf("("),p=l.substring(m+1,u-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Ug(p.slice(1))}),r})((r,...i)=>n(r.getApis(),r,...i),n),cf=n=>n.getSystem().isConnected(),Ku=n=>{qo(n,tu());const r=n.components();pt(r,Ku)},Cd=n=>{const r=n.components();pt(r,Cd),qo(n,_c())},Dy=(n,r)=>{n.getSystem().addToWorld(r),at(n.element)&&Cd(r)},Gx=n=>{Ku(n),n.getSystem().removeFromWorld(n)},WC=(n,r)=>{Oi(n.element,r.element)},df=(n,r)=>{tA(n,r,Oi)},tA=(n,r,i)=>{n.getSystem().addToWorld(r),i(n.element,r.element),at(n.element)&&Cd(r),n.syncComponents()},oA=n=>{Ku(n),Wd(n.element),n.getSystem().removeFromWorld(n)},Gm=n=>{const r=Hn(n.element).bind(i=>n.getSystem().getByDom(i).toOptional());oA(n),r.each(i=>{i.syncComponents()})},uf=n=>{const r=n.components();pt(r,oA),q1(n.element),n.syncComponents()},mf=(n,r)=>{We(n,r,Oi)},Oy=(n,r)=>{We(n,r,Yb)},We=(n,r,i)=>{i(n,r.element);const l=dl(r.element);pt(l,u=>{r.getByDom(u).each(Cd)})},Ry=n=>{const r=dl(n.element);pt(r,i=>{n.getByDom(i).each(Ku)}),Wd(n.element)},nA=(n,r,i)=>{i.fold(()=>Oi(n,r),l=>{$o(l,r)||(Ll(l,r),Wd(l))})},sA=(n,r,i)=>{const l=we(r,i),u=dl(n);return pt(u.slice(l.length),Wd),l},Ny=(n,r,i,l)=>{const u=Jc(n,r),m=l(i,u),p=((x,v,_)=>Jc(x,v).map(S=>{if(_.exists(k=>!$o(k,S))){const k=_.map(Ut).getOr("span"),A=ks(k);return Ll(S,A),A}return S}))(n,r,u);return nA(n,m.element,p),m},kd=(n,r)=>{const i=Gr(r),l=od(i).bind(m=>{const p=x=>$o(m,x);return p(r)?E.some(r):((x,v)=>{const _=S=>{for(let k=0;k<S.childNodes.length;k++){const A=Pt(S.childNodes[k]);if(v(A))return E.some(A);const M=_(S.childNodes[k]);if(M.isSome())return M}return E.none()};return _(x.dom)})(r,p)}),u=n(r);return l.each(m=>{od(i).filter(p=>$o(p,m)).fold(()=>{gr(m)},ge)}),u},qC=(n,r)=>{kd(()=>{((i,l,u)=>{const m=i.components();(v=>{pt(v.components(),_=>Wd(_.element)),q1(v.element),v.syncComponents()})(i);const p=u(l),x=Ho(m,p);pt(x,v=>{Ku(v),i.getSystem().removeFromWorld(v)}),pt(p,v=>{cf(v)?WC(i,v):(i.getSystem().addToWorld(v),WC(i,v),at(i.element)&&Cd(v))}),i.syncComponents()})(n,r,()=>we(r,n.getSystem().build))},n.element)},GC=(n,r)=>{kd(()=>{((i,l)=>{const u=i.components(),m=Io(l,v=>Wh(v).toArray());pt(u,v=>{dt(m,v)||Gx(v)});const p=((v,_,S)=>sA(v,_,(k,A)=>Ny(v,A,k,S)))(n.element,r,n.getSystem().buildOrPatch),x=Ho(u,p);pt(x,v=>{cf(v)&&Gx(v)}),pt(p,v=>{cf(v)||Dy(i,v)}),i.syncComponents()})(n,r)},n.element)},rA=(n,r,i,l)=>{Gx(r);const u=Ny(n.element,i,l,n.getSystem().buildOrPatch);Dy(n,u),n.syncComponents()},Kx=(n,r,i)=>{const l=n.getSystem().build(i);tA(n,l,r)},cR=(n,r,i,l)=>{Gm(r),Kx(n,(u,m)=>((p,x,v)=>{Jc(p,v).fold(()=>{Oi(p,x)},_=>{Ll(_,x)})})(u,m,i),l)},Yx=(n,r)=>n.components(),aA=(n,r,i,l,u)=>{const m=Yx(n);return E.from(m[l]).map(p=>(u.fold(()=>Gm(p),x=>{(r.reuseDom?rA:cR)(n,p,l,x)}),p))};var iA=Object.freeze({__proto__:null,append:(n,r,i,l)=>{Kx(n,Oi,l)},prepend:(n,r,i,l)=>{Kx(n,Xb,l)},remove:(n,r,i,l)=>{const u=Yx(n);I(u,p=>$o(l.element,p.element)).each(Gm)},replaceAt:aA,replaceBy:(n,r,i,l,u)=>{const m=Yx(n);return Ks(m,l).bind(p=>aA(n,r,0,p,u))},set:(n,r,i,l)=>(r.reuseDom?GC:qC)(n,l),contents:Yx});const So=pa({fields:[Sa("reuseDom",!0)],name:"replacing",apis:iA}),lA=Gn([(n=>({key:n,value:pd({can:(r,i)=>{const l=i.event,u=l.originator,m=l.target;return!((p,x,v)=>$o(x,p.element)&&!$o(x,v))(r,u,m)||(console.warn(jl()+` did not get interpreted by the desired target. 
Originator: `+ql(u)+`
Target: `+ql(m)+`
Check the `+jl()+" event handlers"),!1)}})}))(jl())]);var dR=Object.freeze({__proto__:null,events:lA});const uR=oe("alloy-id-"),cA=oe("data-alloy-id"),My=uR(),dA=cA(),By=(n,r)=>{Object.defineProperty(n.dom,dA,{value:r,writable:!0})},Xx=n=>{const r=Uo(n)?n.dom[dA]:null;return E.from(r)},bp=n=>ke(n),uA=yt,Qx=n=>{const r=u=>`The component must be in a context to execute: ${u}`+(n?`
`+ql(n().element)+" is not in context.":""),i=u=>()=>{throw new Error(r(u))},l=u=>()=>{console.warn(r(u))};return{debugInfo:oe("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:ze}},mA=Qx(),gA=(n,r)=>{const i={};return yn(n,(l,u)=>{yn(l,(m,p)=>{const x=Qt(i,p).getOr([]);i[p]=x.concat([r(u,m)])})}),i},Py=n=>n.cHandler,mR=(n,r)=>({name:n,handler:r}),gR=(n,r)=>{const i={};return pt(n,l=>{i[l.name()]=l.handlers(r)}),i},fA=(n,r,i)=>{const l=r[i];return l?((u,m,p,x)=>{try{const v=Ze(p,(_,S)=>{const k=_[m],A=S[m],M=x.indexOf(k),P=x.indexOf(A);if(M===-1)throw new Error("The ordering for "+u+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(x,null,2));if(P===-1)throw new Error("The ordering for "+u+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(x,null,2));return M<P?-1:P<M?1:0});return Wo.value(v)}catch(v){return Wo.error([v])}})("Event: "+i,"name",n,l).map(u=>(m=>({can:(v=>(..._)=>Vo(v,(S,k)=>S&&(A=>A.can)(k).apply(void 0,_),!0))(m),abort:(v=>(..._)=>Vo(v,(S,k)=>S||(A=>A.abort)(k).apply(void 0,_),!1))(m),run:(...v)=>{pt(m,_=>{_.run.apply(void 0,v)})}}))(we(u,m=>m.handler))):((u,m)=>Wo.error(["The event ("+u+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(we(m,p=>p.name),null,2)]))(i,n)},pA=(n,r)=>((i,l)=>{const u=(p=>{const x=[],v=[];return pt(p,_=>{_.fold(S=>{x.push(S)},S=>{v.push(S)})}),{errors:x,values:v}})(i);return u.errors.length>0?(m=u.errors,Wo.error(_s(m))):((p,x)=>p.length===0?Wo.value(x):Wo.value(bs(x,il.apply(void 0,p))))(u.values,l);var m})(da(n,(i,l)=>(i.length===1?Wo.value(i[0].handler):fA(i,r,l)).map(u=>{const m=(x=>{const v=(_=>nt(_)?{can:no,abort:ze,run:_}:_)(x);return(_,S,...k)=>{const A=[_,S].concat(k);v.abort.apply(void 0,A)?S.stop():v.can.apply(void 0,A)&&v.run.apply(void 0,A)}})(u),p=i.length>1?Co(r[l],x=>vn(i,v=>v.name===x)).join(" > "):i[0].name;return Hg(l,((x,v)=>({handler:x,purpose:v}))(m,p))})),{}),qh="alloy.base.behaviour",KC=mo([hr("dom","dom",{tag:"required",process:{}},mo([ct("tag"),Me("styles",{}),Me("classes",[]),Me("attributes",{}),Dn("value"),Dn("innerHtml")])),ct("components"),ct("uid"),Me("events",{}),Me("apis",{}),hr("eventOrder","eventOrder",(bA={[Ji()]:["disabling",qh,"toggling","typeaheadevents"],[jl()]:[qh,"focusing","keying"],[l0()]:[qh,"disabling","toggling","representing","tooltipping"],[ud()]:[qh,"representing","streaming","invalidating"],[tu()]:[qh,"representing","item-events","toolbar-button-events","tooltipping"],[Qi()]:["focusing",qh,"item-type-events"],[Ul()]:["focusing",qh,"item-type-events"],[ni()]:["item-type-events","tooltipping"],[Mm()]:["receiving","reflecting","tooltipping"]},s0(oe(bA))),Mi()),Dn("domModification")]),I0=n=>n.events,xp=(n,r)=>{const i=Lo(n),l=Lo(r),u=Ho(l,i),m=(p=>{const x={},v={};return sr(p,(_,S)=>!nn(r,S)||_!==r[S],qc(x),qc(v)),{t:x,f:v}})(n).t;return{toRemove:u,toSet:m}},fR=(n,r)=>{const i=r.filter(l=>Ut(l)===n.tag&&!(u=>u.innerHtml.isSome()&&u.domChildren.length>0)(n)&&!(u=>nn(u.dom,Va))(l)).bind(l=>((u,m)=>{try{const p=((x,v)=>{const{class:_,style:S,...k}=(Y=>Vo(Y.dom.attributes,(J,de)=>(J[de.name]=de.value,J),{}))(v),{toSet:A,toRemove:M}=xp(x.attributes,k),P=Ru(v),{toSet:q,toRemove:U}=xp(x.styles,P),j=Kf(v),H=Ho(j,x.classes),V=Ho(x.classes,j);return pt(M,Y=>Us(v,Y)),j2(v,A),zl(v,V),Xr(v,H),pt(U,Y=>mn(v,Y)),te(v,q),x.innerHtml.fold(()=>{const Y=x.domChildren;((J,de)=>{sA(J,de,(ce,pe)=>{const Te=Jc(J,pe);return nA(J,ce,Te),ce})})(v,Y)},Y=>{Rg(v,Y)}),(()=>{const Y=v,J=x.value.getOrUndefined();J!==Qr(Y)&&Yd(Y,J??"")})(),v})(u,m);return E.some(p)}catch{return E.none()}})(n,l)).getOrThunk(()=>(l=>{const u=ks(l.tag);j2(u,l.attributes),zl(u,l.classes),te(u,l.styles),l.innerHtml.each(p=>Rg(u,p));const m=l.domChildren;return mi(u,m),l.value.each(p=>{Yd(u,p)}),u})(n));return By(i,n.uid),i},pR=n=>{const r=(i=>{const l=Qt(i,"behaviours").getOr({});return Io(Lo(l),u=>{const m=l[u];return Ae(m)?[m.me]:[]})})(n);return((i,l)=>((u,m)=>{const p=we(m,v=>fi(v.name(),[ct("config"),Me("state",bl)])),x=Es("component.behaviours",mo(p),u.behaviours).fold(v=>{throw new Error(Iu(v)+`
Complete spec:
`+JSON.stringify(u,null,2))},yt);return{list:m,data:Rs(x,v=>{const _=v.map(S=>({config:S.config,state:S.state.init(S.config)}));return oe(_)})}})(i,l))(n,r)},hR=(n,r)=>{const i=()=>A,l=Tt(mA),u=Bi((M=>Es("custom.definition",KC,M))(n)),m=pR(n),p=(M=>M.list)(m),x=(M=>M.data)(m),v=((M,P,q)=>{const U={...(j=M).dom,uid:j.uid,domChildren:we(j.components,ce=>ce.element)};var j;const H=(ce=>ce.domModification.fold(()=>bd({}),bd))(M),V={"alloy.base.modification":H},Y=P.length>0?((ce,pe,Te,Ve)=>{const $e={...pe};pt(Te,Bo=>{$e[Bo.name()]=Bo.exhibit(ce,Ve)});const je=gA($e,(Bo,En)=>({name:Bo,modification:En})),it=Bo=>_o(Bo,(En,Xn)=>({...Xn.modification,...En}),{}),Wt=_o(je.classes,(Bo,En)=>En.modification.concat(Bo),[]),Jt=it(je.attributes),oo=it(je.styles);return bd({classes:Wt,attributes:Jt,styles:oo})})(q,V,P,U):H;return J=U,de=Y,{...J,attributes:{...J.attributes,...de.attributes},styles:{...J.styles,...de.styles},classes:J.classes.concat(de.classes)};var J,de})(u,p,x),_=fR(v,r),S=((M,P,q)=>{const U={"alloy.base.behaviour":I0(M)};return((j,H,V,Y)=>{const J=((de,ce,pe)=>{const Te={...pe,...gR(ce,de)};return gA(Te,mR)})(j,V,Y);return pA(J,H)})(q,M.eventOrder,P,U).getOrDie()})(u,p,x),k=Tt(u.components),A={uid:n.uid,getSystem:l.get,config:M=>{const P=x;return(nt(P[M.name()])?P[M.name()]:()=>{throw new Error("Could not find "+M.name()+" in "+JSON.stringify(n,null,2))})()},hasConfigured:M=>nt(x[M.name()]),spec:n,readState:M=>x[M]().map(P=>P.state.readState()).getOr("not enabled"),getApis:()=>u.apis,connect:M=>{l.set(M)},disconnect:()=>{l.set(Qx(i))},element:_,syncComponents:()=>{const M=dl(_),P=Io(M,q=>l.get().getByDom(q).fold(()=>[],Ro));k.set(P)},components:k.get,events:S};return A},As=n=>{const r=kg(n);return YC({element:r})},YC=n=>{const r=za("external.component",gi([ct("element"),Dn("uid")]),n),i=Tt(Qx()),l=r.uid.getOrThunk(()=>bp("external"));By(r.element,l);const u={uid:l,getSystem:i.get,config:E.none,hasConfigured:ze,connect:m=>{i.set(m)},disconnect:()=>{i.set(Qx(()=>u))},getApis:()=>({}),element:r.element,spec:n,readState:oe("No state"),syncComponents:ge,components:oe([]),events:{}};return Nc(u)},hA=bp,XC=(n,r)=>Wh(n).getOrThunk(()=>((i,l)=>{const{events:u,...m}=uA(i),p=((v,_)=>{const S=Qt(v,"components").getOr([]);return _.fold(()=>we(S,$a),k=>we(S,(A,M)=>XC(A,Jc(k,M))))})(m,l),x={...m,events:{...dR,...u},components:p};return Wo.value(hR(x,l))})((i=>nn(i,"uid"))(n)?n:{uid:hA(""),...n},r).getOrDie()),$a=n=>XC(n,E.none()),Jl=Nc;var bA,bR=Object.freeze({__proto__:null,block:(n,r,i,l)=>{ao(n.element,"aria-busy",!0);const u=r.getRoot(n).getOr(n),m=ht([qt.config({mode:"special",onTab:()=>E.some(!0),onShiftTab:()=>E.some(!0)}),ho.config({})]),p=l(u,m),x=u.getSystem().build(p);So.append(u,Jl(x)),x.hasConfigured(qt)&&r.focus&&qt.focusIn(x),i.isBlocked()||r.onBlock(n),i.blockWith(()=>So.remove(u,x))},unblock:(n,r,i)=>{Us(n.element,"aria-busy"),i.isBlocked()&&r.onUnblock(n),i.clear()},isBlocked:(n,r,i)=>i.isBlocked()}),xR=[rs("getRoot",E.none),Sa("focus",!0),Mo("onBlock"),Mo("onUnblock")];const Yu=pa({fields:xR,name:"blocking",apis:bR,state:Object.freeze({__proto__:null,init:()=>{const n=Vs(r=>r.destroy());return si({readState:n.isSet,blockWith:r=>{n.set({destroy:r})},clear:n.clear,isBlocked:n.isSet})}})});var vR=Object.freeze({__proto__:null,getCurrent:(n,r,i)=>r.find(n)});const yR=[ct("find")],bn=pa({fields:yR,name:"composing",apis:vR});var wR=Object.freeze({__proto__:null,getCoupled:(n,r,i,l)=>i.getOrCreate(n,r,l),getExistingCoupled:(n,r,i,l)=>i.getExisting(n,r,l)}),_R=[Pi("others",bh(Wo.value,Mi()))],CR=Object.freeze({__proto__:null,init:()=>{const n={},r=(l,u)=>{if(Lo(l.others).length===0)throw new Error("Cannot find any known coupled components");return Qt(n,u)},i=oe({});return si({readState:i,getExisting:(l,u,m)=>r(u,m).orThunk(()=>(Qt(u.others,m).getOrDie("No information found for coupled component: "+m),E.none())),getOrCreate:(l,u,m)=>r(u,m).getOrThunk(()=>{const p=Qt(u.others,m).getOrDie("No information found for coupled component: "+m)(l),x=l.getSystem().build(p);return n[m]=x,x})})}});const vr=pa({fields:_R,name:"coupling",apis:wR,state:CR}),kR=["input","button","textarea","select"],QC=(n,r,i)=>{(r.disabled()?Ly:JC)(n,r)},Iy=(n,r)=>r.useNative===!0&&dt(kR,Ut(n.element)),xA=n=>{ao(n.element,"disabled","disabled")},SR=n=>{Us(n.element,"disabled")},vA=n=>{ao(n.element,"aria-disabled","true")},ER=n=>{ao(n.element,"aria-disabled","false")},Ly=(n,r,i)=>{r.disableClass.each(l=>{vs(n.element,l)}),(Iy(n,r)?xA:vA)(n),r.onDisabled(n)},JC=(n,r,i)=>{r.disableClass.each(l=>{en(n.element,l)}),(Iy(n,r)?SR:ER)(n),r.onEnabled(n)},yA=(n,r)=>Iy(n,r)?(i=>W1(i.element,"disabled"))(n):(i=>Eo(i.element,"aria-disabled")==="true")(n);var ek=Object.freeze({__proto__:null,enable:JC,disable:Ly,isDisabled:yA,onLoad:QC,set:(n,r,i,l)=>{(l?Ly:JC)(n,r)}}),AR=Object.freeze({__proto__:null,exhibit:(n,r)=>bd({classes:r.disabled()?r.disableClass.toArray():[]}),events:(n,r)=>Gn([ju(Ji(),(i,l)=>yA(i,n)),D0(n,r,QC)])}),TR=[rs("disabled",ze),Me("useNative",!0),Dn("disableClass"),Mo("onDisabled"),Mo("onEnabled")];const Xt=pa({fields:TR,name:"disabling",active:AR,apis:ek}),Sd=(n,r,i,l,u)=>{const m=p=>p+"px";return{position:n,left:r.map(m),top:i.map(m),right:l.map(m),bottom:u.map(m)}},wA=(n,r)=>{xm(n,(i=>({...i,position:E.some(i.position)}))(r))},DR=(n,r)=>{const i=n.element;vs(i,r.transitionClass),en(i,r.fadeOutClass),vs(i,r.fadeInClass),r.onShow(n)},OR=(n,r)=>{const i=n.element;vs(i,r.transitionClass),en(i,r.fadeInClass),vs(i,r.fadeOutClass),r.onHide(n)},Fy=(n,r)=>n.y>=r.y,_A=(n,r)=>n.bottom<=r.bottom,tk=(n,r,i)=>({location:"top",leftX:r,topY:i.bounds.y-n.y}),ok=(n,r,i)=>({location:"bottom",leftX:r,bottomY:n.bottom-i.bounds.bottom}),zy=n=>n.box.x-n.win.x,$t=(n,r,i)=>i.getInitialPos().map(l=>{const u=((m,p)=>{const x=p.optScrollEnv.fold(oe(m.bounds.y),v=>v.scrollElmTop+(m.bounds.y-v.currentScrollTop));return Ss(m.bounds.x,x)})(l,r);return{box:ln(u.left,u.top,Bn(n),Or(n)),location:l.location}}),Jx=(n,r,i,l,u)=>{const m=((x,v)=>{const _=v.optScrollEnv.fold(oe(x.y),S=>x.y+S.currentScrollTop-S.scrollElmTop);return Ss(x.x,_)})(r,i),p=ln(m.left,m.top,r.width,r.height);l.setInitialPos({style:Ru(n),position:Fa(n,"position")||"static",bounds:p,location:u.location})},nk=(n,r,i)=>i.getInitialPos().bind(l=>{var u;switch(i.clearInitialPos(),l.position){case"static":return E.some({morph:"static"});case"absolute":const m=jr(n).getOr(ar()),p=fr(m),x=(u=m.dom.scrollTop)!==null&&u!==void 0?u:0;return E.some({morph:"absolute",positionCss:Sd("absolute",Qt(l.style,"left").map(v=>r.x-p.x),Qt(l.style,"top").map(v=>r.y-p.y+x),Qt(l.style,"right").map(v=>p.right-r.right),Qt(l.style,"bottom").map(v=>p.bottom-r.bottom))});default:return E.none()}}),sk=n=>{switch(n.location){case"top":return E.some({morph:"fixed",positionCss:Sd("fixed",E.some(n.leftX),E.some(n.topY),E.none(),E.none())});case"bottom":return E.some({morph:"fixed",positionCss:Sd("fixed",E.some(n.leftX),E.none(),E.none(),E.some(n.bottomY))});default:return E.none()}},RR=(n,r,i)=>{const l=n.element;return zn(ir(l,"position"),"fixed")?((u,m,p)=>((x,v,_)=>$t(x,v,_).filter(({box:S})=>((k,A,M)=>ci(k,P=>{switch(P){case"bottom":return _A(A,M.bounds);case"top":return Fy(A,M.bounds)}}))(_.getModes(),S,v)).bind(({box:S})=>nk(x,S,_)))(u,m,p).orThunk(()=>m.optScrollEnv.bind(x=>$t(u,m,p)).bind(({box:x,location:v})=>{const _=Zs(),S=zy({win:_,box:x}),k=v==="top"?tk(_,S,m):ok(_,S,m);return sk(k)})))(l,r,i):((u,m,p)=>{const x=fr(u),v=Zs(),_=((S,k,A)=>{const M=k.win,P=k.box,q=zy(k);return dn(S,U=>{switch(U){case"bottom":return _A(P,A.bounds)?E.none():E.some(ok(M,q,A));case"top":return Fy(P,A.bounds)?E.none():E.some(tk(M,q,A));default:return E.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:v,box:x},m);return _.location==="top"||_.location==="bottom"?(Jx(u,x,m,p,_),sk(_)):E.none()})(l,r,i)},CA=(n,r,i)=>{i.setDocked(!1),pt(["left","right","top","bottom","position"],l=>mn(n.element,l)),r.onUndocked(n)},Hy=(n,r,i,l)=>{const u=l.position==="fixed";i.setDocked(u),wA(n.element,l),(u?r.onDocked:r.onUndocked)(n)},kA=(n,r,i,l,u=!1)=>{r.contextual.each(m=>{m.lazyContext(n).each(p=>{const x=((v,_)=>v.y<_.bottom&&v.bottom>_.y)(p,l.bounds);x!==i.isVisible()&&(i.setVisible(x),u&&!x?(zl(n.element,[m.fadeOutClass]),m.onHide(n)):(x?DR:OR)(n,m))})})},SA=(n,r,i,l,u)=>{kA(n,r,i,l,!0),Hy(n,r,i,u.positionCss)},ev=(n,r,i)=>{n.getSystem().isConnected()&&((l,u,m)=>{const p=u.lazyViewport(l);kA(l,u,m,p),RR(l,p,m).each(x=>{((v,_,S,k,A)=>{switch(A.morph){case"static":return CA(v,_,S);case"absolute":return Hy(v,_,S,A.positionCss);case"fixed":SA(v,_,S,k,A)}})(l,u,m,p,x)})})(n,r,i)},EA=(n,r,i)=>{i.isDocked()&&((l,u,m)=>{const p=l.element;m.setDocked(!1);const x=u.lazyViewport(l);((v,_,S)=>{const k=v.element;return $t(k,_,S).bind(({box:A})=>nk(k,A,S))})(l,x,m).each(v=>{switch(v.morph){case"static":CA(l,u,m);break;case"absolute":Hy(l,u,m,v.positionCss)}}),m.setVisible(!0),u.contextual.each(v=>{Xr(p,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(l)}),ev(l,u,m)})(n,r,i)},Ua=n=>(r,i,l)=>{const u=i.lazyViewport(r);((m,p,x,v)=>{const _=fr(m),S=Zs(),k=v(S,zy({win:S,box:_}),p);return k.location==="bottom"||k.location==="top"?(((A,M,P,q,U)=>{q.getInitialPos().fold(()=>Jx(A,M,P,q,U),()=>ge)})(m,_,p,x,k),sk(k)):E.none()})(r.element,u,l,n).each(m=>{SA(r,i,l,u,m)})},L0=Ua(tk),NR=Ua(ok);var MR=Object.freeze({__proto__:null,refresh:ev,reset:EA,isDocked:(n,r,i)=>i.isDocked(),getModes:(n,r,i)=>i.getModes(),setModes:(n,r,i,l)=>i.setModes(l),forceDockToTop:L0,forceDockToBottom:NR}),BR=Object.freeze({__proto__:null,events:(n,r)=>Gn([Wu(Jf(),(i,l)=>{n.contextual.each(u=>{cr(i.element,u.transitionClass)&&(Xr(i.element,[u.transitionClass,u.fadeInClass]),(r.isVisible()?u.onShown:u.onHidden)(i)),l.stop()})}),Ke(c0(),(i,l)=>{ev(i,n,r)}),Ke(yh(),(i,l)=>{ev(i,n,r)}),Ke(Wl(),(i,l)=>{EA(i,n,r)})])}),PR=[fi("contextual",[Mr("fadeInClass"),Mr("fadeOutClass"),Mr("transitionClass"),pl("lazyContext"),Mo("onShow"),Mo("onShown"),Mo("onHide"),Mo("onHidden")]),rs("lazyViewport",()=>({bounds:Zs(),optScrollEnv:E.none()})),Lu("modes",["top","bottom"],pr),Mo("onDocked"),Mo("onUndocked")];const Ms=pa({fields:PR,name:"docking",active:BR,apis:MR,state:Object.freeze({__proto__:null,init:n=>{const r=Tt(!1),i=Tt(!0),l=In(),u=Tt(n.modes);return si({isDocked:r.get,setDocked:r.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:u.get,setModes:u.set,readState:()=>`docked:  ${r.get()}, visible: ${i.get()}, modes: ${u.get().join(",")}`})}})}),Vy=zs([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),tv=n=>r=>r.translate(-n.left,-n.top),$y=n=>r=>r.translate(n.left,n.top),Km=n=>(r,i)=>Vo(n,(l,u)=>u(l),Ss(r,i)),Uy=(n,r,i)=>n.fold(Km([$y(i),tv(r)]),Km([tv(r)]),Km([])),F0=(n,r,i)=>n.fold(Km([$y(i)]),Km([]),Km([$y(r)])),AA=(n,r,i)=>n.fold(Km([]),Km([tv(i)]),Km([$y(r),tv(i)])),TA=(n,r,i)=>{const l=n.fold((u,m)=>({position:E.some("absolute"),left:E.some(u+"px"),top:E.some(m+"px")}),(u,m)=>({position:E.some("absolute"),left:E.some(u-i.left+"px"),top:E.some(m-i.top+"px")}),(u,m)=>({position:E.some("fixed"),left:E.some(u+"px"),top:E.some(m+"px")}));return{right:E.none(),bottom:E.none(),...l}},rk=(n,r,i,l)=>{const u=(m,p)=>(x,v)=>{const _=m(r,i,l);return p(x.getOr(_.left),v.getOr(_.top))};return n.fold(u(AA,Zy),u(F0,Ym),u(Uy,gf))},Zy=Vy.offset,Ym=Vy.absolute,gf=Vy.fixed,ak=(n,r)=>{const i=Eo(n,r);return Zt(i)?NaN:parseInt(i,10)},IR=(n,r,i,l,u,m)=>{const p=((_,S,k,A)=>((M,P)=>{const q=M.element,U=ak(q,P.leftAttr),j=ak(q,P.topAttr);return isNaN(U)||isNaN(j)?E.none():E.some(Ss(U,j))})(_,S).fold(()=>k,M=>gf(M.left+A.left,M.top+A.top)))(n,r,i,l),x=r.mustSnap?LR(n,r,p,u,m):FR(n,r,p,u,m),v=Uy(p,u,m);return((_,S,k)=>{const A=_.element;ao(A,S.leftAttr,k.left+"px"),ao(A,S.topAttr,k.top+"px")})(n,r,v),x.fold(()=>({coord:gf(v.left,v.top),extra:E.none()}),_=>({coord:_.output,extra:_.extra}))},ik=(n,r,i,l)=>dn(n,u=>{const m=u.sensor;return((x,v,_,S,k,A)=>{const M=F0(x,k,A),P=F0(v,k,A);return Math.abs(M.left-P.left)<=_&&Math.abs(M.top-P.top)<=S})(r,m,u.range.left,u.range.top,i,l)?E.some({output:rk(u.output,r,i,l),extra:u.extra}):E.none()}),LR=(n,r,i,l,u)=>{const m=r.getSnapPoints(n);return ik(m,i,l,u).orThunk(()=>Vo(m,(x,v)=>{const _=v.sensor,S=((k,A,M,P,q,U)=>{const j=F0(k,q,U),H=F0(A,q,U),V=Math.abs(j.left-H.left),Y=Math.abs(j.top-H.top);return Ss(V,Y)})(i,_,v.range.left,v.range.top,l,u);return x.deltas.fold(()=>({deltas:E.some(S),snap:E.some(v)}),k=>(S.left+S.top)/2<=(k.left+k.top)/2?{deltas:E.some(S),snap:E.some(v)}:x)},{deltas:E.none(),snap:E.none()}).snap.map(x=>({output:rk(x.output,i,l,u),extra:x.extra})))},FR=(n,r,i,l,u)=>{const m=r.getSnapPoints(n);return ik(m,i,l,u)};var zR=Object.freeze({__proto__:null,snapTo:(n,r,i,l)=>{const u=r.getTarget(n.element);if(r.repositionTarget){const m=It(n.element),p=Ri(m),x=Ki(u),v=((S,k,A)=>({coord:rk(S.output,S.output,k,A),extra:S.extra}))(l,p,x),_=TA(v.coord,0,x);xm(u,_)}}});const Na=(n,r)=>r0(n,{},we(r,i=>{return l=i.name(),u="Cannot configure "+i.name()+" for "+n,hr(l,l,{tag:"option",process:{}},_m(m=>vc("The field: "+l+" is forbidden. "+u)));var l,u}).concat([ka("dump",yt)])),lk=n=>n.dump,ri=(n,r)=>({...ht(r),...n.dump}),Gh=Na,z0=ri,DA=(n,r,i,l,u)=>{const m=((p,x)=>(p.length>0?[ti("parts",p)]:[]).concat([ct("uid"),Me("dom",{}),Me("components",[]),iy("originalSpec"),Me("debug.sketcher",{})]).concat(x))(l,u);return za(n+" [SpecSchema]",gi(m.concat(r)),i)},jy=(n,r,i,l,u)=>{const m=OA(u),p=qg(i),x=yx(i),v=DA(n,r,m,p,[x]),_=bx(0,v,i);return l(v,xx(n,v,_.internals()),m,_.externals())},OA=n=>(r=>nn(r,"uid"))(n)?n:{...n,uid:bp("uid")},H0=gi([ct("name"),ct("factory"),ct("configFields"),Me("apis",{}),Me("extraApis",{})]),HR=gi([ct("name"),ct("factory"),ct("configFields"),ct("partFields"),Me("apis",{}),Me("extraApis",{})]),yl=n=>{const r=za("Sketcher for "+n.name,H0,n),i=Rs(r.apis,_d),l=Rs(r.extraApis,(u,m)=>Ec(u,m));return{name:r.name,configFields:r.configFields,sketch:u=>((m,p,x,v)=>{const _=OA(v);return x(DA(m,p,_,[],[]),_)})(r.name,r.configFields,r.factory,u),...i,...l}},ol=n=>{const r=za("Sketcher for "+n.name,HR,n),i=v0(r.name,r.partFields),l=Rs(r.apis,_d),u=Rs(r.extraApis,(m,p)=>Ec(m,p));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:m=>jy(r.name,r.configFields,r.partFields,r.factory,m),parts:i,...l,...u}},ec=yl({name:"Container",factory:n=>{const{attributes:r,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...i},components:n.components,behaviours:lk(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[Me("components",[]),Na("containerBehaviours",[]),Me("events",{}),Me("domModification",{}),Me("eventOrder",{})]}),ck="data-initial-z-index",RA=(n,r)=>{n.getSystem().addToGui(r),(i=>{Hn(i.element).filter(Uo).each(l=>{ir(l,"z-index").each(u=>{ao(l,ck,u)}),ko(l,"z-index",Fa(i.element,"z-index"))})})(r)},VR=n=>{(r=>{Hn(r.element).filter(Uo).each(i=>{Kr(i,ck).fold(()=>mn(i,"z-index"),l=>ko(i,"z-index",l)),Us(i,ck)})})(n),n.getSystem().removeFromGui(n)},NA=(n,r,i)=>n.getSystem().build(ec.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:i}));var $R=fi("snaps",[ct("getSnapPoints"),Mo("onSensor"),ct("leftAttr"),ct("topAttr"),Me("lazyViewport",Zs),Me("mustSnap",!1)]);const ov=[Me("useFixed",ze),ct("blockerClass"),Me("getTarget",yt),Me("onDrag",ge),Me("repositionTarget",!0),Me("onDrop",ge),rs("getBounds",Zs),$R],UR=n=>{return(r=ir(n,"left"),i=ir(n,"top"),l=ir(n,"position"),r.isSome()&&i.isSome()&&l.isSome()?E.some(((u,m,p)=>(p==="fixed"?gf:Zy)(parseInt(u,10),parseInt(m,10)))(r.getOrDie(),i.getOrDie(),l.getOrDie())):E.none()).getOrThunk(()=>{const u=Rr(n);return Ym(u.left,u.top)});var r,i,l},MA=(n,r)=>({bounds:n.getBounds(),height:Nu(r.element),width:Gd(r.element)}),dk=(n,r,i,l,u)=>{const m=i.update(l,u),p=i.getStartData().getOrThunk(()=>MA(r,n));m.each(x=>{((v,_,S,k)=>{const A=_.getTarget(v.element);if(_.repositionTarget){const M=It(v.element),P=Ri(M),q=Ki(A),U=UR(A),j=((V,Y,J,de,ce,pe,Te)=>((Ve,$e,je,it,Wt)=>{const Jt=Wt.bounds,oo=F0($e,je,it),Bo=Sn(oo.left,Jt.x,Jt.x+Jt.width-Wt.width),En=Sn(oo.top,Jt.y,Jt.y+Jt.height-Wt.height),Xn=Ym(Bo,En);return $e.fold(()=>{const so=AA(Xn,je,it);return Zy(so.left,so.top)},oe(Xn),()=>{const so=Uy(Xn,je,it);return gf(so.left,so.top)})})(0,Y.fold(()=>{const Ve=($e=J,je=pe.left,it=pe.top,$e.fold((Jt,oo)=>Zy(Jt+je,oo+it),(Jt,oo)=>Ym(Jt+je,oo+it),(Jt,oo)=>gf(Jt+je,oo+it)));var $e,je,it;const Wt=Uy(Ve,de,ce);return gf(Wt.left,Wt.top)},Ve=>{const $e=IR(V,Ve,J,pe,de,ce);return $e.extra.each(je=>{Ve.onSensor(V,je)}),$e.coord}),de,ce,Te))(v,_.snaps,U,P,q,k,S),H=TA(j,0,q);xm(A,H)}_.onDrag(v,A,k)})(n,r,p,x)})},BA=(n,r,i,l)=>{r.each(VR),i.snaps.each(m=>{((p,x)=>{((v,_)=>{const S=v.element;Us(S,_.leftAttr),Us(S,_.topAttr)})(p,x)})(n,m)});const u=i.getTarget(n.element);l.reset(),i.onDrop(n,u)},uk=n=>(r,i)=>{const l=u=>{i.setStartData(MA(r,u))};return Gn([Ke(c0(),u=>{i.getStartData().each(()=>l(u))}),...n(r,i,l)])};var ZR=Object.freeze({__proto__:null,getData:n=>E.from(Ss(n.x,n.y)),getDelta:(n,r)=>Ss(r.left-n.left,r.top-n.top)});const mk=(n,r,i)=>[Ke(Qi(),(l,u)=>{if(u.event.raw.button!==0)return;u.stop();const m=()=>BA(l,E.some(v),n,r),p=f0(m,200),x={drop:m,delayDrop:p.schedule,forceDrop:m,move:_=>{p.cancel(),dk(l,n,r,ZR,_)}},v=NA(l,n.blockerClass,(_=>Gn([Ke(Qi(),_.forceDrop),Ke(a0(),_.drop),Ke(Wr(),(S,k)=>{_.move(k.event)}),Ke(eu(),_.delayDrop)]))(x));i(l),RA(l,v)})],jR=[...ov,os("dragger",{handlers:uk(mk)})];var gk=Object.freeze({__proto__:null,getData:n=>{const r=n.raw.touches;return r.length===1?(i=>{const l=i[0];return E.some(Ss(l.clientX,l.clientY))})(r):E.none()},getDelta:(n,r)=>Ss(r.left-n.left,r.top-n.top)});const V0=(n,r,i)=>{const l=In(),u=m=>{BA(m,l.get(),n,r),l.clear()};return[Ke(Ul(),(m,p)=>{p.stop();const x=()=>u(m),v={drop:x,delayDrop:ge,forceDrop:x,move:S=>{dk(m,n,r,gk,S)}},_=NA(m,n.blockerClass,(S=>Gn([Ke(Ul(),S.forceDrop),Ke(Om(),S.drop),Ke(Xi(),S.drop),Ke(Qf(),(k,A)=>{S.move(A.event)})]))(v));l.set(_),i(m),RA(m,_)}),Ke(Qf(),(m,p)=>{p.stop(),dk(m,n,r,gk,p.event)}),Ke(Om(),(m,p)=>{p.stop(),u(m)}),Ke(Xi(),u)]},WR=jR,qR=[...ov,os("dragger",{handlers:uk(V0)})],GR=[...ov,os("dragger",{handlers:uk((n,r,i)=>[...mk(n,r,i),...V0(n,r,i)])})];var KR=Object.freeze({__proto__:null,mouse:WR,touch:qR,mouseOrTouch:GR}),PA=Object.freeze({__proto__:null,init:()=>{let n=E.none(),r=E.none();const i=oe({});return si({readState:i,reset:()=>{n=E.none(),r=E.none()},update:(l,u)=>l.getData(u).bind(m=>((p,x)=>{const v=n.map(_=>p.getDelta(_,x));return n=E.some(x),v})(l,m)),getStartData:()=>r,setStartData:l=>{r=E.some(l)}})}});const vp=Fh({branchKey:"mode",branches:KR,name:"dragging",active:{events:(n,r)=>n.dragger.handlers(n,r)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:E.from(n.extra)})},state:PA,apis:zR}),YR=["input","textarea"],IA=n=>{const r=Ut(n);return dt(YR,r)},LA=(n,r)=>{const i=r.getRoot(n).getOr(n.element);en(i,r.invalidClass),r.notify.each(l=>{IA(n.element)&&ao(n.element,"aria-invalid",!1),l.getContainer(n).each(u=>{Rg(u,l.validHtml)}),l.onValid(n)})},FA=(n,r,i,l)=>{const u=r.getRoot(n).getOr(n.element);vs(u,r.invalidClass),r.notify.each(m=>{IA(n.element)&&ao(n.element,"aria-invalid",!0),m.getContainer(n).each(p=>{Rg(p,l)}),m.onInvalid(n,l)})},zA=(n,r,i)=>r.validator.fold(()=>Vr(Wo.value(!0)),l=>l.validate(n)),fk=(n,r,i)=>(r.notify.each(l=>{l.onValidate(n)}),zA(n,r).map(l=>n.getSystem().isConnected()?l.fold(u=>(FA(n,r,0,u),Wo.error(u)),u=>(LA(n,r),Wo.value(u))):Wo.error("No longer in system")));var XR=Object.freeze({__proto__:null,markValid:LA,markInvalid:FA,query:zA,run:fk,isInvalid:(n,r)=>{const i=r.getRoot(n).getOr(n.element);return cr(i,r.invalidClass)}}),Wy=Object.freeze({__proto__:null,events:(n,r)=>n.validator.map(i=>Gn([Ke(i.onEvent,l=>{fk(l,n).get(yt)})].concat(i.validateOnLoad?[as(l=>{fk(l,n).get(ge)})]:[]))).getOr({})}),QR=[ct("invalidClass"),Me("getRoot",E.none),fi("notify",[Me("aria","alert"),Me("getContainer",E.none),Me("validHtml",""),Mo("onValid"),Mo("onInvalid"),Mo("onValidate")]),fi("validator",[ct("validate"),Me("onEvent","input"),Me("validateOnLoad",!0)])];const pk=(n,r,i)=>{r.store.manager.onLoad(n,r,i)},HA=(n,r,i)=>{r.store.manager.onUnload(n,r,i)};var JR=Object.freeze({__proto__:null,onLoad:pk,onUnload:HA,setValue:(n,r,i,l)=>{r.store.manager.setValue(n,r,i,l)},getValue:(n,r,i)=>r.store.manager.getValue(n,r,i),getState:(n,r,i)=>i}),eN=Object.freeze({__proto__:null,events:(n,r)=>{const i=n.resetOnDom?[as((l,u)=>{pk(l,n,r)}),Tc((l,u)=>{HA(l,n,r)})]:[D0(n,r,pk)];return Gn(i)}});const VA=()=>{const n=Tt(null);return si({set:n.set,get:n.get,isNotSet:()=>n.get()===null,clear:()=>{n.set(null)},readState:()=>({mode:"memory",value:n.get()})})},$A=()=>{const n=Tt({}),r=Tt({});return si({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:r.get()}),lookup:i=>Qt(n.get(),i).orThunk(()=>Qt(r.get(),i)),update:i=>{const l=n.get(),u=r.get(),m={},p={};pt(i,x=>{m[x.value]=x,Qt(x,"meta").each(v=>{Qt(v,"text").each(_=>{p[_]=x})})}),n.set({...l,...m}),r.set({...u,...p})},clear:()=>{n.set({}),r.set({})}})};var tN=Object.freeze({__proto__:null,memory:VA,dataset:$A,manual:()=>si({readState:ge}),init:n=>n.store.manager.state(n)});const UA=(n,r,i,l)=>{const u=r.store;i.update([l]),u.setValue(n,l),r.onSetValue(n,l)};var oN=[Dn("initialValue"),ct("getFallbackEntry"),ct("getDataKey"),ct("setValue"),os("manager",{setValue:UA,getValue:(n,r,i)=>{const l=r.store,u=l.getDataKey(n);return i.lookup(u).getOrThunk(()=>l.getFallbackEntry(u))},onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{UA(n,r,i,l)})},onUnload:(n,r,i)=>{i.clear()},state:$A})],nN=[ct("getValue"),Me("setValue",ge),Dn("initialValue"),os("manager",{setValue:(n,r,i,l)=>{r.store.setValue(n,l),r.onSetValue(n,l)},getValue:(n,r,i)=>r.store.getValue(n),onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{r.store.setValue(n,l)})},onUnload:ge,state:bl.init})],sN=[Dn("initialValue"),os("manager",{setValue:(n,r,i,l)=>{i.set(l),r.onSetValue(n,l)},getValue:(n,r,i)=>i.get(),onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{i.isNotSet()&&i.set(l)})},onUnload:(n,r,i)=>{i.clear()},state:VA})],ZA=[Vl("store",{mode:"memory"},ei("mode",{memory:sN,manual:nN,dataset:oN})),Mo("onSetValue"),Me("resetOnDom",!1)];const Lt=pa({fields:ZA,name:"representing",active:eN,apis:JR,extra:{setValueFrom:(n,r)=>{const i=Lt.getValue(r);Lt.setValue(n,i)}},state:tN}),Xm=pa({fields:QR,name:"invalidating",active:Wy,apis:XR,extra:{validation:n=>r=>{const i=Lt.getValue(r);return Vr(n(i))}}});var rN=Object.freeze({__proto__:null,exhibit:(n,r)=>bd({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const hk=zs([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),bk=(n,r,i,l,u,m)=>{const p=r.rect,x=p.x-i,v=p.y-l,_=u-(x+p.width),S=m-(v+p.height),k=E.some(x),A=E.some(v),M=E.some(_),P=E.some(S),q=E.none();return r.direction.fold(()=>Sd(n,k,A,q,q),()=>Sd(n,q,A,M,q),()=>Sd(n,k,q,q,P),()=>Sd(n,q,q,M,P),()=>Sd(n,k,A,q,q),()=>Sd(n,k,q,q,P),()=>Sd(n,k,A,q,q),()=>Sd(n,q,A,M,q))},jA=(n,r)=>n.fold(()=>{const i=r.rect;return Sd("absolute",E.some(i.x),E.some(i.y),E.none(),E.none())},(i,l,u,m)=>bk("absolute",r,i,l,u,m),(i,l,u,m)=>bk("fixed",r,i,l,u,m)),xk=(n,r)=>{const i=rn(bc,r),l=n.fold(i,i,()=>{const p=Ri();return bc(r).translate(-p.left,-p.top)}),u=Gd(r),m=Nu(r);return ln(l.left,l.top,u,m)},aN=(n,r)=>r.fold(()=>n.fold(Zs,Zs,ln),i=>n.fold(oe(i),oe(i),()=>{const l=WA(n,i.x,i.y);return ln(l.left,l.top,i.width,i.height)})),WA=(n,r,i)=>{const l=Ss(r,i);return n.fold(oe(l),oe(l),()=>{const u=Ri();return l.translate(-u.left,-u.top)})};hk.none;const iN=hk.relative,qA=hk.fixed,qy=zs([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),lN=(n,r,i,l)=>{const u=n.bubble,m=u.offset,p=((Y,J,de)=>{const ce=(je,it)=>J[je].map(Wt=>{const Jt=je==="top"||je==="bottom",oo=Jt?de.top:de.left,Bo=(je==="left"||je==="top"?Math.max:Math.min)(Wt,it)+oo;return Jt?Sn(Bo,Y.y,Y.bottom):Sn(Bo,Y.x,Y.right)}).getOr(it),pe=ce("left",Y.x),Te=ce("top",Y.y),Ve=ce("right",Y.right),$e=ce("bottom",Y.bottom);return ln(pe,Te,Ve-pe,$e-Te)})(l,n.restriction,m),x=n.x+m.left,v=n.y+m.top,_=ln(x,v,r,i),{originInBounds:S,sizeInBounds:k,visibleW:A,visibleH:M}=((Y,J)=>{const{x:de,y:ce,right:pe,bottom:Te}=J,{x:Ve,y:$e,right:je,bottom:it,width:Wt,height:Jt}=Y;return{originInBounds:Ve>=de&&Ve<=pe&&$e>=ce&&$e<=Te,sizeInBounds:je<=pe&&je>=de&&it<=Te&&it>=ce,visibleW:Math.min(Wt,Ve>=de?pe-Ve:je-de),visibleH:Math.min(Jt,$e>=ce?Te-$e:it-ce)}})(_,p),P=S&&k,q=P?_:((Y,J)=>{const{x:de,y:ce,right:pe,bottom:Te}=J,{x:Ve,y:$e,width:je,height:it}=Y,Wt=Math.max(de,pe-je),Jt=Math.max(ce,Te-it),oo=Sn(Ve,de,Wt),Bo=Sn($e,ce,Jt),En=Math.min(oo+je,pe)-oo,Xn=Math.min(Bo+it,Te)-Bo;return ln(oo,Bo,En,Xn)})(_,p),U=q.width>0&&q.height>0,{maxWidth:j,maxHeight:H}=((Y,J,de)=>{const ce=oe(J.bottom-de.y),pe=oe(de.bottom-J.y),Te=((it,Wt,Jt,oo)=>it.fold(Wt,Wt,oo,oo,Wt,oo,Jt,Jt))(Y,pe,pe,ce),Ve=oe(J.right-de.x),$e=oe(de.right-J.x);return{maxWidth:((it,Wt,Jt,oo)=>it.fold(Wt,oo,Wt,oo,Jt,Jt,Wt,oo))(Y,$e,$e,Ve),maxHeight:Te}})(n.direction,q,l),V={rect:q,maxHeight:H,maxWidth:j,direction:n.direction,placement:n.placement,classes:{on:u.classesOn,off:u.classesOff},layout:n.label,testY:v};return P||n.alwaysFit?qy.fit(V):qy.nofit(V,A,M,U)},GA=["top","bottom","right","left"],nv="data-alloy-transition-timer",vk=(n,r,i,l,u,m)=>{const p=((x,v,_)=>_.exists(S=>{const k=x.mode;return k==="all"||S[k]!==v[k]}))(l,u,m);if(p||((x,v)=>((_,S)=>ci(S,k=>cr(_,k)))(x,v.classes))(n,l)){ko(n,"position",i.position);const x=xk(r,n),v=jA(r,{...u,rect:x}),_=Mn(GA,S=>v[S]);((S,k)=>{const A=M=>parseFloat(M).toFixed(3);return Ol(k,(M,P)=>!((q,U,j=ue)=>Rl(q,U,j).getOr(q.isNone()&&U.isNone()))(S[P].map(A),M.map(A))).isSome()})(i,_)&&(xm(n,_),p&&((S,k)=>{zl(S,k.classes),Kr(S,nv).each(A=>{clearTimeout(parseInt(A,10)),Us(S,nv)}),((A,M)=>{const P=Ur(),q=Ur();let U;const j=J=>{var de;const ce=(de=J.raw.pseudoElement)!==null&&de!==void 0?de:"";return $o(J.target,A)&&fc(ce)&&dt(GA,J.raw.propertyName)},H=J=>{if(kt(J)||j(J)){P.clear(),q.clear();const de=J?.raw.type;(kt(de)||de===Jf())&&(clearTimeout(U),Us(A,nv),Xr(A,M.classes))}},V=Ia(A,FC(),J=>{j(J)&&(V.unbind(),P.set(Ia(A,Jf(),H)),q.set(Ia(A,J2(),H)))}),Y=(J=>{const de=Ve=>{const $e=Fa(J,Ve).split(/\s*,\s*/);return Co($e,Ml)},ce=Ve=>{if(De(Ve)&&/^[\d.]+/.test(Ve)){const $e=parseFloat(Ve);return zd(Ve,"ms")?$e:1e3*$e}return 0},pe=de("transition-delay"),Te=de("transition-duration");return Vo(Te,(Ve,$e,je)=>{const it=ce(pe[je])+ce($e);return Math.max(Ve,it)},0)})(A);window.requestAnimationFrame(()=>{U=setTimeout(H,Y+17),ao(A,nv,U)})})(S,k)})(n,l),lh(n))}else Xr(n,l.classes)},KA=(n,r,i)=>n[r]===void 0?i:n[r],cN=(n,r,i,l)=>{const u=((m,p,x,v)=>{mn(p,"max-height"),mn(p,"max-width");const _=(S=p,{width:Math.ceil(Gd(S)),height:Nu(S)});var S;return((k,A,M,P,q,U)=>{const j=P.width,H=P.height,V=(Y,J,de,ce,pe)=>{const Te=Y(M,P,q,k,U),Ve=lN(Te,j,H,U);return Ve.fold(oe(Ve),($e,je,it,Wt)=>(pe===Wt?it>ce||je>de:!pe&&Wt)?Ve:qy.nofit(J,de,ce,pe))};return Vo(A,(Y,J)=>{const de=rn(V,J);return Y.fold(oe(Y),de)},qy.nofit({rect:M,maxHeight:P.height,maxWidth:P.width,direction:tp(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:M.y},-1,-1,!1)).fold(yt,yt)})(p,v.preference,m,_,x,v.bounds)})(n,r,i,l);return((m,p,x)=>{const v=jA(x.origin,p);x.transition.each(_=>{vk(m,x.origin,v,_,p,x.lastPlacement)}),wA(m,v)})(r,u,l),((m,p)=>{((x,v)=>{ao(x,tl,v)})(m,p.placement)})(r,u),((m,p)=>{const x=p.classes;Xr(m,x.off),zl(m,x.on)})(r,u),((m,p,x)=>{(0,x.maxHeightFunction)(m,p.maxHeight)})(r,u,l),((m,p,x)=>{(0,x.maxWidthFunction)(m,p.maxWidth)})(r,u,l),{layout:u.layout,placement:u.placement}},Gy=yt,Qm=()=>fi("layouts",[ct("onLtr"),ct("onRtl"),Dn("onBottomLtr"),Dn("onBottomRtl")]),Ky=(n,r,i,l,u,m,p)=>{const x=p.map(rp).getOr(!1),v=r.layouts.map(A=>A.onLtr(n)),_=r.layouts.map(A=>A.onRtl(n)),S=x?r.layouts.bind(A=>A.onBottomLtr.map(M=>M(n))).or(v).getOr(u):v.getOr(i),k=x?r.layouts.bind(A=>A.onBottomRtl.map(M=>M(n))).or(_).getOr(m):_.getOr(l);return Ig(S,k)(n)};var dN=[ct("hotspot"),Dn("bubble"),Me("overrides",{}),Qm(),os("placement",(n,r,i)=>{const l=r.hotspot,u=xk(i,l.element),m=Ky(n.element,r,Tx(),S0(),k0(),gd(),E.some(r.hotspot.element));return E.some(Gy({anchorBox:u,bubble:r.bubble.getOr(_0()),overrides:r.overrides,layouts:m}))})],uN=[ct("x"),ct("y"),Me("height",0),Me("width",0),Me("bubble",_0()),Me("overrides",{}),Qm(),os("placement",(n,r,i)=>{const l=WA(i,r.x,r.y),u=ln(l.left,l.top,r.width,r.height),m=Ky(n.element,r,Ax(),hy(),Ax(),hy(),E.none());return E.some(Gy({anchorBox:u,bubble:r.bubble,overrides:r.overrides,layouts:m}))})];const yk=zs([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),mN=n=>n.fold(yt,(r,i,l)=>r.translate(-i,-l)),YA=n=>n.fold(yt,yt),wk=n=>Vo(n,(r,i)=>r.translate(i.left,i.top),Ss(0,0)),_k=n=>{const r=we(n,YA);return wk(r)},XA=yk.screen,QA=yk.absolute,JA=(n,r,i)=>{const l=It(n.element),u=Ri(l),m=((p,x,v)=>{const _=Dr(v.root).dom;return E.from(_.frameElement).map(Pt).filter(S=>{const k=It(S),A=It(p.element);return $o(k,A)}).map(Rr)})(n,0,i).getOr(u);return QA(m,u.left,u.top)},Ck=(n,r,i,l)=>{const u=XA(Ss(n,r));return E.some(((m,p,x)=>({point:m,width:p,height:x}))(u,i,l))},e5=(n,r,i,l,u)=>n.map(m=>{const p=[r,m.point],x=(v=()=>_k(p),_=()=>_k(p),S=()=>(V=>{const Y=we(V,mN);return wk(Y)})(p),l.fold(v,_,S));var v,_,S;const k=(q=x.left,U=x.top,j=m.width,H=m.height,{x:q,y:U,width:j,height:H}),A=i.showAbove?k0():Tx(),M=i.showAbove?gd():S0(),P=Ky(u,i,A,M,A,M,E.none());var q,U,j,H;return Gy({anchorBox:k,bubble:i.bubble.getOr(_0()),overrides:i.overrides,layouts:P})});var gN=[ct("node"),ct("root"),Dn("bubble"),Qm(),Me("overrides",{}),Me("showAbove",!1),os("placement",(n,r,i)=>{const l=JA(n,0,r);return r.node.filter(at).bind(u=>{const m=u.dom.getBoundingClientRect(),p=Ck(m.left,m.top,m.width,m.height),x=r.node.getOr(n.element);return e5(p,l,r,i,x)})})];const Yy=(n,r)=>({element:n,offset:r}),yp=(n,r)=>B(n)?Yy(n,r):((i,l)=>{const u=dl(i);if(u.length===0)return Yy(i,l);if(l<u.length)return Yy(u[l],0);{const m=u[u.length-1],p=B(m)?(x=>tx.get(x))(m).length:dl(m).length;return Yy(m,p)}})(n,r),kk=n=>n.foffset!==void 0,t5=(n,r)=>r.getSelection.getOrThunk(()=>()=>(i=>(l=>E.from(l.getSelection()))(i).filter(l=>l.rangeCount>0).bind(K2))(n))().map(i=>{if(kk(i)){const l=yp(i.start,i.soffset),u=yp(i.finish,i.foffset);return ad.range(l.element,l.offset,u.element,u.offset)}return i});var fN=[Dn("getSelection"),ct("root"),Dn("bubble"),Qm(),Me("overrides",{}),Me("showAbove",!1),os("placement",(n,r,i)=>{const l=Dr(r.root).dom,u=JA(n,0,r),m=t5(l,r).bind(x=>{if(kk(x))return((_,S)=>(k=>{const A=k.getBoundingClientRect();return A.width>0||A.height>0?E.some(A).map(Eg):E.none()})(Vf(_,S)))(l,ad.exactFromRange(x)).orThunk(()=>{const _=kg("\uFEFF");Ll(x.start,_);const S=rx(l,ad.exact(_,0,_,1));return Wd(_),S}).bind(_=>Ck(_.left,_.top,_.width,_.height));{const v=Rs(x,S=>S.dom.getBoundingClientRect()),_={left:Math.min(v.firstCell.left,v.lastCell.left),right:Math.max(v.firstCell.right,v.lastCell.right),top:Math.min(v.firstCell.top,v.lastCell.top),bottom:Math.max(v.firstCell.bottom,v.lastCell.bottom)};return Ck(_.left,_.top,_.right-_.left,_.bottom-_.top)}}),p=t5(l,r).bind(x=>kk(x)?Uo(x.start)?E.some(x.start):ga(x.start):E.some(x.firstCell)).getOr(n.element);return e5(m,u,r,i,p)})];const Xy="link-layout",Sk=n=>n.x+n.width,o5=(n,r)=>n.x-r.width,n5=(n,r)=>n.y-r.height+n.height,Ek=n=>n.y,$0=(n,r,i)=>ta(Sk(n),Ek(n),i.southeast(),tp(),"southeast",Ta(n,{left:0,top:2}),Xy),U0=(n,r,i)=>ta(o5(n,r),Ek(n),i.southwest(),Uu(),"southwest",Ta(n,{right:1,top:2}),Xy),s5=(n,r,i)=>ta(Sk(n),n5(n,r),i.northeast(),wx(),"northeast",Ta(n,{left:0,bottom:3}),Xy),Qy=(n,r,i)=>ta(o5(n,r),n5(n,r),i.northwest(),Dh(),"northwest",Ta(n,{right:1,bottom:3}),Xy),r5=()=>[$0,U0,s5,Qy],Ak=()=>[U0,$0,Qy,s5];var a5=[ct("item"),Qm(),Me("overrides",{}),os("placement",(n,r,i)=>{const l=xk(i,r.item.element),u=Ky(n.element,r,r5(),Ak(),r5(),Ak(),E.none());return E.some(Gy({anchorBox:l,bubble:_0(),overrides:r.overrides,layouts:u}))})],i5=ei("type",{selection:fN,node:gN,hotspot:dN,submenu:a5,makeshift:uN});const pN=[oi("classes",pr),Fi("mode","all",["all","layout","placement"])],hN=[Me("useFixed",ze),Dn("getBounds")],bN=[Pi("anchor",i5),fi("transition",pN)],sv=(n,r,i,l,u,m)=>{const p=za("placement.info",mo(bN),u),x=p.anchor,v=l.element,_=i.get(l.uid);kd(()=>{ko(v,"position","fixed");const S=ir(v,"visibility");ko(v,"visibility","hidden");const k=r.useFixed()?(()=>{const A=document.documentElement;return qA(0,0,A.clientWidth,A.clientHeight)})():(A=>{const M=Rr(A.element),P=A.element.dom.getBoundingClientRect();return iN(M.left,M.top,P.width,P.height)})(n);x.placement(n,x,k).each(A=>{const M=m.orThunk(()=>r.getBounds.map(Yo)),P=((q,U,j,H,V,Y)=>((J,de,ce,pe,Te,Ve,$e,je)=>{const it=KA($e,"maxHeightFunction",Mx()),Wt=KA($e,"maxWidthFunction",ge),Jt=J.anchorBox,oo=J.origin,Bo={bounds:aN(oo,Ve),origin:oo,preference:pe,maxHeightFunction:it,maxWidthFunction:Wt,lastPlacement:Te,transition:je};return cN(Jt,de,ce,Bo)})(((J,de)=>((ce,pe)=>({anchorBox:ce,origin:pe}))(J,de))(U.anchorBox,q),H.element,U.bubble,U.layouts,V,j,U.overrides,Y))(k,A,M,l,_,p.transition);i.set(l.uid,P)}),S.fold(()=>{mn(v,"visibility")},A=>{ko(v,"visibility",A)}),ir(v,"left").isNone()&&ir(v,"top").isNone()&&ir(v,"right").isNone()&&ir(v,"bottom").isNone()&&zn(ir(v,"position"),"fixed")&&mn(v,"position")},v)};var rv=Object.freeze({__proto__:null,position:(n,r,i,l,u)=>{const m=E.none();sv(n,r,i,l,u,m)},positionWithinBounds:sv,getMode:(n,r,i)=>r.useFixed()?"fixed":"absolute",reset:(n,r,i,l)=>{const u=l.element;pt(["position","left","right","top","bottom"],m=>mn(u,m)),(m=>{Us(m,tl)})(u),i.clear(l.uid)}});const vi=pa({fields:hN,name:"positioning",active:rN,apis:rv,state:Object.freeze({__proto__:null,init:()=>{let n={};return si({readState:()=>n,clear:r=>{Ae(r)?delete n[r]:n={}},set:(r,i)=>{n[r]=i},get:r=>Qt(n,r)})}})});var wp=Object.freeze({__proto__:null,events:n=>Gn([Ke(Mm(),(r,i)=>{const l=n.channels,u=Lo(l),m=i,p=((x,v)=>v.universal?x:Co(x,_=>dt(v.channels,_)))(u,m);pt(p,x=>{const v=l[x],_=v.schema,S=za("channel["+x+`] data
Receiver: `+ql(r.element),_,m.data);v.onReceive(r,S)})})])}),Jm=[Pi("channels",bh(Wo.value,gi([Sc("onReceive"),Me("schema",Mi())])))];const nl=pa({fields:Jm,name:"receiving",active:wp});var l5=Object.freeze({__proto__:null,events:(n,r)=>{const i=(l,u)=>{n.updateState.each(m=>{const p=m(l,u);r.set(p)}),n.renderComponents.each(m=>{const p=m(u,r.get());(n.reuseDom?GC:qC)(l,p)})};return Gn([Ke(Mm(),(l,u)=>{const m=u;if(!m.universal){const p=n.channel;dt(m.channels,p)&&i(l,m.data)}}),as((l,u)=>{n.initialData.each(m=>{i(l,m)})})])}}),xN=Object.freeze({__proto__:null,getState:(n,r,i)=>i}),c5=[ct("channel"),Dn("renderComponents"),Dn("updateState"),Dn("initialData"),Sa("reuseDom",!0)];const yi=pa({fields:c5,name:"reflecting",active:l5,apis:xN,state:Object.freeze({__proto__:null,init:()=>{const n=Tt(E.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:()=>n.set(E.none())}}})}),Z0=(n,r,i,l)=>{i.get().each(p=>{uf(n)});const u=r.getAttachPoint(n);df(u,n);const m=n.getSystem().build(l);return df(n,m),i.set(m),m},Jy=(n,r,i,l)=>{const u=Z0(n,r,i,l);return r.onOpen(n,u),u},Tk=(n,r,i)=>{i.get().each(l=>{uf(n),Gm(n),r.onClose(n,l),i.clear()})},j0=(n,r,i)=>i.isOpen(),av=(n,r,i)=>{const l=r.getAttachPoint(n);ko(n.element,"position",vi.getMode(l)),((u,m,p)=>{ir(u.element,m).fold(()=>{Us(u.element,p)},x=>{ao(u.element,p,x)}),ko(u.element,m,"hidden")})(n,"visibility",r.cloakVisibilityAttr)},d5=(n,r,i)=>{(l=>vn(["top","left","right","bottom"],u=>ir(l,u).isSome()))(n.element)||mn(n.element,"position"),((l,u,m)=>{Kr(l.element,m).fold(()=>mn(l.element,u),p=>ko(l.element,u,p))})(n,"visibility",r.cloakVisibilityAttr)};var Dk=Object.freeze({__proto__:null,cloak:av,decloak:d5,open:Jy,openWhileCloaked:(n,r,i,l,u)=>{av(n,r),Jy(n,r,i,l),u(),d5(n,r)},close:Tk,isOpen:j0,isPartOf:(n,r,i,l)=>j0(0,0,i)&&i.get().exists(u=>r.isPartOf(n,u,l)),getState:(n,r,i)=>i.get(),setContent:(n,r,i,l)=>i.get().map(()=>Z0(n,r,i,l))}),ew=Object.freeze({__proto__:null,events:(n,r)=>Gn([Ke(vh(),(i,l)=>{Tk(i,n,r)})])}),vN=[Mo("onOpen"),Mo("onClose"),ct("isPartOf"),ct("getAttachPoint"),Me("cloakVisibilityAttr","data-precloak-visibility")],eg=Object.freeze({__proto__:null,init:()=>{const n=In(),r=oe("not-implemented");return si({readState:r,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const xn=pa({fields:vN,name:"sandboxing",active:ew,apis:Dk,state:eg}),Kh=(n,r)=>r.getAnimationRoot.fold(()=>n.element,i=>i(n)),Mc=n=>n.dimension.property,_p=(n,r)=>n.dimension.getDimension(r),Yh=(n,r)=>{const i=Kh(n,r);Xr(i,[r.shrinkingClass,r.growingClass])},Ok=(n,r)=>{en(n.element,r.openClass),vs(n.element,r.closedClass),ko(n.element,Mc(r),"0px"),lh(n.element)},tw=(n,r)=>{en(n.element,r.closedClass),vs(n.element,r.openClass),mn(n.element,Mc(r))},Rk=(n,r,i,l)=>{i.setCollapsed(),ko(n.element,Mc(r),_p(r,n.element)),Yh(n,r),Ok(n,r),r.onStartShrink(n),r.onShrunk(n)},yN=(n,r,i,l)=>{const u=l.getOrThunk(()=>_p(r,n.element));i.setCollapsed(),ko(n.element,Mc(r),u),lh(n.element);const m=Kh(n,r);en(m,r.growingClass),vs(m,r.shrinkingClass),Ok(n,r),r.onStartShrink(n)},ow=(n,r,i)=>{const l=_p(r,n.element);(l==="0px"?Rk:yN)(n,r,i,E.some(l))},Xu=(n,r,i)=>{const l=Kh(n,r),u=cr(l,r.shrinkingClass),m=_p(r,n.element);tw(n,r);const p=_p(r,n.element);(u?()=>{ko(n.element,Mc(r),m),lh(n.element)}:()=>{Ok(n,r)})(),en(l,r.shrinkingClass),vs(l,r.growingClass),tw(n,r),ko(n.element,Mc(r),p),i.setExpanded(),r.onStartGrow(n)},u5=(n,r,i)=>{const l=Kh(n,r);return cr(l,r.growingClass)===!0},m5=(n,r,i)=>{const l=Kh(n,r);return cr(l,r.shrinkingClass)===!0};var g5=Object.freeze({__proto__:null,refresh:(n,r,i)=>{if(i.isExpanded()){mn(n.element,Mc(r));const l=_p(r,n.element);ko(n.element,Mc(r),l)}},grow:(n,r,i)=>{i.isExpanded()||Xu(n,r,i)},shrink:(n,r,i)=>{i.isExpanded()&&ow(n,r,i)},immediateShrink:(n,r,i)=>{i.isExpanded()&&Rk(n,r,i)},hasGrown:(n,r,i)=>i.isExpanded(),hasShrunk:(n,r,i)=>i.isCollapsed(),isGrowing:u5,isShrinking:m5,isTransitioning:(n,r,i)=>u5(n,r)||m5(n,r),toggleGrow:(n,r,i)=>{(i.isExpanded()?ow:Xu)(n,r,i)},disableTransitions:Yh,immediateGrow:(n,r,i)=>{i.isExpanded()||(tw(n,r),ko(n.element,Mc(r),_p(r,n.element)),Yh(n,r),i.setExpanded(),r.onStartGrow(n),r.onGrown(n))}}),f5=Object.freeze({__proto__:null,exhibit:(n,r,i)=>{const l=r.expanded;return bd(l?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Hg(r.dimension.property,"0px")})},events:(n,r)=>Gn([Wu(Jf(),(i,l)=>{l.event.raw.propertyName===n.dimension.property&&(Yh(i,n),r.isExpanded()&&mn(i.element,n.dimension.property),(r.isExpanded()?n.onGrown:n.onShrunk)(i))})])}),p5=[ct("closedClass"),ct("openClass"),ct("shrinkingClass"),ct("growingClass"),Dn("getAnimationRoot"),Mo("onShrunk"),Mo("onStartShrink"),Mo("onGrown"),Mo("onStartGrow"),Me("expanded",!1),Pi("dimension",ei("property",{width:[os("property","width"),os("getDimension",n=>Bn(n)+"px")],height:[os("property","height"),os("getDimension",n=>Or(n)+"px")]}))];const wl=pa({fields:p5,name:"sliding",active:f5,apis:g5,state:Object.freeze({__proto__:null,init:n=>{const r=Tt(n.expanded);return si({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:rn(r.set,!1),setExpanded:rn(r.set,!0),readState:()=>"expanded: "+r.get()})}})});var wN=Object.freeze({__proto__:null,events:(n,r)=>{const i=n.stream.streams.setup(n,r);return Gn([Ke(n.event,i),Tc(()=>r.cancel())].concat(n.cancelEvent.map(l=>[Ke(l,()=>r.cancel())]).getOr([])))}});const Bc=n=>{const r=Tt(null);return si({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:i=>{r.set(i)},cancel:()=>{const i=r.get();i!==null&&i.cancel()}})};var W0=Object.freeze({__proto__:null,throttle:Bc,init:n=>n.stream.streams.state(n)}),h5=[Pi("stream",ei("mode",{throttle:[ct("delay"),Me("stopEvent",!0),os("streams",{setup:(n,r)=>{const i=n.stream,l=Au(n.onStream,i.delay);return r.setTimer(l),(u,m)=>{l.throttle(u,m),i.stopEvent&&m.stop()}},state:Bc})]})),Me("event","input"),Dn("cancelEvent"),Sc("onStream")];const Cp=pa({fields:h5,name:"streaming",active:wN,state:W0});var _l=Object.freeze({__proto__:null,exhibit:(n,r)=>bd({attributes:Yi([{key:r.tabAttr,value:"true"}])})}),tc=[Me("tabAttr","data-alloy-tabstop")];const cn=pa({fields:tc,name:"tabstopping",active:_l}),Cl=(n,r,i,l)=>{const u=i.get();i.set(l),((m,p,x)=>{p.toggleClass.each(v=>{x.get()?vs(m.element,v):en(m.element,v)})})(n,r,i),((m,p,x)=>{const v=p.aria;v.update(m,v,x.get())})(n,r,i),u!==l&&r.onToggled(n,l)},nw=(n,r,i)=>{Cl(n,r,i,!i.get())},Pc=(n,r,i)=>{Cl(n,r,i,r.selected)};var Xh=Object.freeze({__proto__:null,onLoad:Pc,toggle:nw,isOn:(n,r,i)=>i.get(),on:(n,r,i)=>{Cl(n,r,i,!0)},off:(n,r,i)=>{Cl(n,r,i,!1)},set:Cl}),_N=Object.freeze({__proto__:null,exhibit:()=>bd({}),events:(n,r)=>{const i=(l=n,u=r,m=nw,Dc(x=>{m(x,l,u)}));var l,u,m;const p=D0(n,r,Pc);return Gn(_s([n.toggleOnExecute?[i]:[],[p]]))}});const b5=(n,r,i)=>{ao(n.element,"aria-expanded",i)};var CN=[Me("selected",!1),Dn("toggleClass"),Me("toggleOnExecute",!0),Mo("onToggled"),Vl("aria",{mode:"none"},ei("mode",{pressed:[Me("syncWithExpanded",!1),os("update",(n,r,i)=>{ao(n.element,"aria-pressed",i),r.syncWithExpanded&&b5(n,0,i)})],checked:[os("update",(n,r,i)=>{ao(n.element,"aria-checked",i)})],expanded:[os("update",b5)],selected:[os("update",(n,r,i)=>{ao(n.element,"aria-selected",i)})],none:[os("update",ge)]}))];const sn=pa({fields:CN,name:"toggling",active:_N,apis:Xh,state:(sw=!1,{init:()=>{const n=Tt(sw);return{get:()=>n.get(),set:r=>n.set(r),clear:()=>n.set(sw),readState:()=>n.get()}}})});var sw;const iv=ke("tooltip.exclusive"),q0=ke("tooltip.show"),lv=ke("tooltip.hide"),cv=ke("tooltip.immediateHide"),dv=ke("tooltip.immediateShow"),x5=(n,r,i)=>{n.getSystem().broadcastOn([iv],{})};var v5=Object.freeze({__proto__:null,hideAllExclusive:x5,immediateOpenClose:(n,r,i,l)=>qo(n,l?dv:cv),isEnabled:(n,r,i)=>i.isEnabled(),setComponents:(n,r,i,l)=>{i.getTooltip().each(u=>{u.getSystem().isConnected()&&So.set(u,l)})},setEnabled:(n,r,i,l)=>i.setEnabled(l)}),y5=Object.freeze({__proto__:null,events:(n,r)=>{const i=m=>{r.getTooltip().each(p=>{p.getSystem().isConnected()&&(Gm(p),n.onHide(m,p),r.clearTooltip())}),r.clearTimer()},l=m=>{if(!r.isShowing()&&r.isEnabled()){x5(m);const p=n.lazySink(m).getOrDie(),x=m.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:Gn(n.mode==="normal"?[Ke(ni(),v=>{qo(m,q0)}),Ke(eu(),v=>{qo(m,lv)})]:[]),behaviours:ht([So.config({})])});r.setTooltip(x),df(p,x),n.onShow(m,x),vi.position(p,x,{anchor:n.anchor(m)})}},u=m=>{r.getTooltip().each(p=>{const x=n.lazySink(m).getOrDie();vi.position(x,p,{anchor:n.anchor(m)})})};return Gn(_s([[Ix(m=>{n.onSetup(m)}),Ke(q0,m=>{r.resetTimer(()=>{l(m)},n.delayForShow())}),Ke(lv,m=>{r.resetTimer(()=>{i(m)},n.delayForHide())}),Ke(dv,m=>{r.resetTimer(()=>{l(m)},0)}),Ke(cv,m=>{r.resetTimer(()=>{i(m)},0)}),Ke(Mm(),(m,p)=>{const x=p;x.universal||(dt(x.channels,iv)||dt(x.channels,Ha()))&&(x.data.closedTooltip&&r.isShowing()&&x.data.closedTooltip(),i(m))}),Tc(m=>{i(m)})],(()=>{switch(n.mode){case"normal":return[Ke(Zl(),m=>{qo(m,dv)}),Ke(Fu(),m=>{qo(m,cv)}),Ke(ni(),m=>{qo(m,q0)}),Ke(eu(),m=>{qo(m,lv)})];case"follow-highlight":return[Ke(ux(),(m,p)=>{qo(m,q0)}),Ke(mx(),m=>{qo(m,lv)})];case"children-normal":return[Ke(Zl(),(m,p)=>{La(m.element).each(x=>{di(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{qo(m,dv)},v=>{r.isShowing()&&(n.onShow(m,v),u(m))})})}),Ke(Fu(),m=>{La(m.element).fold(()=>{qo(m,cv)},ge)}),Ke(ni(),m=>{ss(m.element,"[data-mce-tooltip]:hover").each(p=>{r.getTooltip().fold(()=>{qo(m,q0)},x=>{r.isShowing()&&(n.onShow(m,x),u(m))})})}),Ke(eu(),m=>{ss(m.element,"[data-mce-tooltip]:hover").fold(()=>{qo(m,lv)},ge)})];default:return[Ke(Zl(),(m,p)=>{La(m.element).each(x=>{di(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{qo(m,dv)},v=>{r.isShowing()&&(n.onShow(m,v),u(m))})})}),Ke(Fu(),m=>{La(m.element).fold(()=>{qo(m,cv)},ge)})]}})()]))}}),Nk=[ct("lazySink"),ct("tooltipDom"),Me("exclusive",!0),Me("tooltipComponents",[]),rs("delayForShow",oe(300)),rs("delayForHide",oe(100)),rs("onSetup",ge),Fi("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Me("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:oe([Lr,Ir,br,Da,Pr,Oa]),onRtl:oe([Lr,Ir,br,Da,Pr,Oa])},bubble:el(0,-2,{})})),Mo("onHide"),Mo("onShow")],w5=Object.freeze({__proto__:null,init:()=>{const n=Tt(!0),r=In(),i=In(),l=()=>{r.on(clearTimeout)},u=oe("not-implemented");return si({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:l,resetTimer:(m,p)=>{l(),r.set(setTimeout(m,p))},readState:u,isEnabled:()=>n.get(),setEnabled:m=>n.set(m)})}});const fs=pa({fields:Nk,name:"tooltipping",active:y5,state:w5,apis:v5}),uv=pa({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Gn([ju(lx(),no)]),exhibit:()=>bd({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),ff=n=>{const r=sh(n),i=dl(r),l=(p=>{const x=p.dom.attributes!==void 0?p.dom.attributes:[];return Vo(x,(v,_)=>_.name==="class"?v:{...v,[_.name]:_.value},{})})(r),u=(p=>Array.prototype.slice.call(p.dom.classList,0))(r),m=i.length===0?{}:{innerHtml:bm(r)};return{tag:Ut(r),classes:u,attributes:l,...m}},Rn=n=>{const r=(i=>i.uid!==void 0)(n)&&Zn(n,"uid")?n.uid:bp("memento");return{get:i=>i.getSystem().getByUid(r).getOrDie(),getOpt:i=>i.getSystem().getByUid(r).toOptional(),asSpec:()=>({...n,uid:r})}},ha=my,tg=Vu,Ed=(n,r)=>{const i={stopBackspace:!0,...r},l=(k=>{const A=In(),M=Tt(!1),P=f0(U=>{k.triggerEvent(ey(),U),M.set(!0)},400),q=Yi([{key:Ul(),value:U=>(_h(U).each(j=>{P.cancel();const H={x:j.clientX,y:j.clientY,target:U.target};P.schedule(U),M.set(!1),A.set(H)}),E.none())},{key:Qf(),value:U=>(P.cancel(),_h(U).each(j=>{A.on(H=>{((V,Y)=>{const J=Math.abs(V.clientX-Y.x),de=Math.abs(V.clientY-Y.y);return J>5||de>5})(j,H)&&A.clear()})}),E.none())},{key:Om(),value:U=>(P.cancel(),A.get().filter(j=>$o(j.target,U.target)).map(j=>M.get()?(U.prevent(),!1):k.triggerEvent(zu(),U)))}]);return{fireIfReady:(U,j)=>Qt(q,j).bind(H=>H(U))}})(i),u=we(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),k=>Ia(n,k,A=>{l.fireIfReady(A,k).each(M=>{M&&A.kill()}),i.triggerEvent(k,A)&&A.kill()})),m=In(),p=Ia(n,"paste",k=>{l.fireIfReady(k,"paste").each(A=>{A&&k.kill()}),i.triggerEvent("paste",k)&&k.kill(),m.set(setTimeout(()=>{i.triggerEvent(cx(),k)},0))}),x=Ia(n,"keydown",k=>{i.triggerEvent("keydown",k)?k.kill():i.stopBackspace&&(A=>A.raw.which===zx[0]&&!dt(["input","textarea"],Ut(A.target))&&!dh(A.target,'[contenteditable="true"]'))(k)&&k.prevent()}),v=Ia(n,"focusin",k=>{i.triggerEvent("focusin",k)&&k.kill()}),_=In(),S=Ia(n,"focusout",k=>{i.triggerEvent("focusout",k)&&k.kill(),_.set(setTimeout(()=>{i.triggerEvent(Fu(),k)},0))});return{unbind:()=>{pt(u,k=>{k.unbind()}),x.unbind(),v.unbind(),S.unbind(),p.unbind(),m.on(clearTimeout),_.on(clearTimeout)}}},kN=(n,r)=>{const i=Qt(n,"target").getOr(r);return Tt(i)},kp=zs([{stopped:[]},{resume:["element"]},{complete:[]}]),Sp=(n,r,i,l,u,m)=>{const p=n(r,l),x=((v,_)=>{const S=Tt(!1),k=Tt(!1);return{stop:()=>{S.set(!0)},cut:()=>{k.set(!0)},isStopped:S.get,isCut:k.get,event:v,setSource:_.set,getSource:_.get}})(i,u);return p.fold(()=>(m.logEventNoHandlers(r,l),kp.complete()),v=>{const _=v.descHandler;return Py(_)(x),x.isStopped()?(m.logEventStopped(r,v.element,_.purpose),kp.stopped()):x.isCut()?(m.logEventCut(r,v.element,_.purpose),kp.complete()):Hn(v.element).fold(()=>(m.logNoParent(r,v.element,_.purpose),kp.complete()),S=>(m.logEventResponse(r,v.element,_.purpose),kp.resume(S)))})},rw=(n,r,i,l,u,m)=>Sp(n,r,i,l,u,m).fold(no,p=>rw(n,r,i,p,u,m),ze),aw=(n,r,i,l,u)=>{const m=kN(i,l);return rw(n,r,i,l,m,u)},SN=()=>{const n=(()=>{const l={};return{registerId:(u,m,p)=>{yn(p,(x,v)=>{const _=l[v]!==void 0?l[v]:{};_[m]=((S,k)=>({cHandler:rn.apply(void 0,[S.handler].concat(k)),purpose:S.purpose}))(x,u),l[v]=_})},unregisterId:u=>{yn(l,(m,p)=>{nn(m,u)&&delete m[u]})},filterByType:u=>Qt(l,u).map(m=>da(m,(p,x)=>((v,_)=>({id:v,descHandler:_}))(x,p))).getOr([]),find:(u,m,p)=>Qt(l,m).bind(x=>mh(p,v=>((_,S)=>Xx(S).bind(k=>Qt(_,k)).map(k=>((A,M)=>({element:A,descHandler:M}))(S,k)))(x,v),u))}})(),r={},i=l=>{Xx(l.element).each(u=>{delete r[u],n.unregisterId(u)})};return{find:(l,u,m)=>n.find(l,u,m),filter:l=>n.filterByType(l),register:l=>{const u=(p=>{const x=p.element;return Xx(x).getOrThunk(()=>((v,_)=>{const S=ke(My+"uid-");return By(_,S),S})(0,p.element))})(l);Zn(r,u)&&((p,x)=>{const v=r[x];if(v!==p)throw new Error('The tagId "'+x+'" is already used by: '+ql(v.element)+`
Cannot use it for: `+ql(p.element)+`
The conflicting element is`+(at(v.element)?" ":" not ")+"already in the DOM");i(p)})(l,u);const m=[l];n.registerId(m,u,l.events),r[u]=l},unregister:i,getById:l=>Qt(r,l)}},Mk=n=>{const r=U=>Hn(n.element).fold(no,j=>$o(U,j)),i=SN(),l=(U,j)=>i.find(r,U,j),u=Ed(n.element,{triggerEvent:(U,j)=>Bm(U,j.target,H=>((V,Y,J,de)=>aw(V,Y,J,J.target,de))(l,U,j,H))}),m={debugInfo:oe("real"),triggerEvent:(U,j,H)=>{Bm(U,j,V=>aw(l,U,H,j,V))},triggerFocus:(U,j)=>{Xx(U).fold(()=>{gr(U)},H=>{Bm(jl(),U,V=>(((Y,J,de,ce,pe)=>{const Te=kN(de,ce);Sp(Y,J,de,ce,Te,pe)})(l,jl(),{originator:j,kill:ge,prevent:ge,target:U},U,V),!1))})},triggerEscape:(U,j)=>{m.triggerEvent("keydown",U.element,j.event)},getByUid:U=>P(U),getByDom:U=>q(U),build:$a,buildOrPatch:XC,addToGui:U=>{v(U)},removeFromGui:U=>{_(U)},addToWorld:U=>{p(U)},removeFromWorld:U=>{x(U)},broadcast:U=>{k(U)},broadcastOn:(U,j)=>{A(U,j)},broadcastEvent:(U,j)=>{M(U,j)},isConnected:no},p=U=>{U.connect(m),B(U.element)||(i.register(U),pt(U.components(),p),m.triggerEvent(l0(),U.element,{target:U.element}))},x=U=>{B(U.element)||(pt(U.components(),x),i.unregister(U)),U.disconnect()},v=U=>{df(n,U)},_=U=>{Gm(U)},S=U=>{const j=i.filter(Mm());pt(j,H=>{const V=H.descHandler;Py(V)(U)})},k=U=>{S({universal:!0,data:U})},A=(U,j)=>{S({universal:!1,channels:U,data:j})},M=(U,j)=>((H,V)=>{const Y=(J=>{const de=Tt(!1);return{stop:()=>{de.set(!0)},cut:ge,isStopped:de.get,isCut:ze,event:J,setSource:Os("Cannot set source of a broadcasted event"),getSource:Os("Cannot get source of a broadcasted event")}})(V);return pt(H,J=>{const de=J.descHandler;Py(de)(Y)}),Y.isStopped()})(i.filter(U),j),P=U=>i.getById(U).fold(()=>Wo.error(new Error('Could not find component with uid: "'+U+'" in system.')),Wo.value),q=U=>{const j=Xx(U).getOr("not found");return P(j)};return p(n),{root:n,element:n.element,destroy:()=>{u.unbind(),Wd(n.element)},add:v,remove:_,getByUid:P,getByDom:q,addToWorld:p,removeFromWorld:x,broadcast:k,broadcastOn:A,broadcastEvent:M}},_5=()=>{const n=(r,i)=>{i.stop(),Mh(r)};return[Ke(Nm(),n),Ke(zu(),n),hd(Ul()),hd(Qi())]},Bk=n=>Gn(_s([n.map(r=>Dc((i,l)=>{r(i),l.stop()})).toArray(),_5()])),Za=yl({name:"Button",factory:n=>{const r=Bk(n.action),i=n.dom.tag,l=u=>Qt(n.dom,"attributes").bind(m=>Qt(m,u));return{uid:n.uid,dom:n.dom,components:n.components,events:r,behaviours:z0(n.buttonBehaviours,[ho.config({}),qt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i==="button"?{type:l("type").getOr("button"),...l("role").map(u=>({role:u})).getOr({})}:{role:n.role.getOr(l("role").getOr("button"))}},eventOrder:n.eventOrder}},configFields:[Me("uid",void 0),ct("dom"),Me("components",[]),Gh("buttonBehaviours",[ho,qt]),Dn("action"),Dn("role"),Me("eventOrder",{})]}),G0=oe([Me("shell",!1),ct("makeItem"),Me("setupItem",ge),Gh("listBehaviours",[So])]),mv=Ac({name:"items",overrides:()=>({behaviours:ht([So.config({})])})}),EN=oe([mv]),C5=ol({name:oe("CustomList")(),configFields:G0(),partFields:EN(),factory:(n,r,i,l)=>{const u=n.shell?{behaviours:[So.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:ri(n.listBehaviours,u.behaviours),apis:{setItems:(m,p)=>{var x;(x=m,n.shell?E.some(x):qn(x,n,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},v=>{const _=So.contents(v),S=p.length,k=S-_.length,A=k>0?Ei(k,()=>n.makeItem()):[],M=_.slice(S);pt(M,q=>So.remove(v,q)),pt(A,q=>So.append(v,q));const P=So.contents(v);pt(P,(q,U)=>{n.setupItem(m,q,p[U],U)})})}}}},apis:{setItems:(n,r,i)=>{n.setItems(r,i)}}}),K0="aria-controls",iw=()=>{const n=ke(K0);return{id:n,link:r=>{ao(r,K0,n)},unlink:r=>{Us(r,K0)}}},pf=(n,r)=>ch(r,i=>$o(i,n.element),ze)||((i,l)=>(u=>q2(u,m=>{if(!Uo(m))return!1;const p=Eo(m,"id");return p!==void 0&&p.indexOf(K0)>-1}).bind(m=>{const p=Eo(m,"id"),x=Gr(m);return ss(x,`[${K0}="${p}"]`)}))(l).exists(u=>pf(i,u)))(n,r),lw="alloy.item-hover",gv="alloy.item-focus",cw="alloy.item-toggled",Pk=n=>{(La(n.element).isNone()||ho.isFocused(n))&&(ho.isFocused(n)||ho.focus(n),Gt(n,lw,{item:n}))},dw=n=>{Gt(n,gv,{item:n})},k5=oe(lw),AN=oe(gv),TN=oe(cw),fv=n=>n.role.fold(()=>n.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),yt);var Ik=[ct("data"),ct("components"),ct("dom"),Me("hasSubmenu",!1),Dn("toggling"),Dn("role"),Gh("itemBehaviours",[sn,ho,qt,Lt]),Me("ignoreFocus",!1),Me("domModification",{}),os("builder",n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:fv(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:z0(n.itemBehaviours,[n.toggling.fold(sn.revoke,r=>sn.config(((i,l)=>({aria:{mode:l?"selected":"checked"},...Pa(i,(u,m)=>m!=="exclusive"),onToggled:(u,m)=>{nt(i.onToggled)&&i.onToggled(u,m),((p,x)=>{Gt(p,cw,{item:p,state:x})})(u,m)}}))(r,n.role.exists(i=>i==="option")))),ho.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:r=>{dw(r)}}),qt.config({mode:"execution"}),Lt.config({store:{mode:"memory",initialValue:n.data}}),co("item-type-events",[..._5(),Ke(ni(),Pk),Ke(pi(),ho.focus)])]),components:n.components,eventOrder:n.eventOrder})),Me("eventOrder",{})],DN=[ct("dom"),ct("components"),os("builder",n=>({dom:n.dom,components:n.components,events:Gn([Px(pi())])}))];const uw=oe("item-widget"),Lk=oe([xi({name:"widget",overrides:n=>({behaviours:ht([Lt.config({store:{mode:"manual",getValue:r=>n.data,setValue:ge}})])})})]),S5=[ct("uid"),ct("data"),ct("components"),ct("dom"),Me("autofocus",!1),Me("ignoreFocus",!1),Gh("widgetBehaviours",[Lt,ho,qt]),Me("domModification",{}),yx(Lk()),os("builder",n=>{const r=bx(uw(),n,Lk()),i=xx(uw(),n,r.internals()),l=m=>qn(m,n,"widget").map(p=>(qt.focusIn(p),p)),u=(m,p)=>(qu(p.event.target)||n.autofocus&&p.setSource(m.element),E.none());return{dom:n.dom,components:i,domModification:n.domModification,events:Gn([Dc((m,p)=>{l(m).each(x=>{p.stop()})}),Ke(ni(),Pk),Ke(pi(),(m,p)=>{n.autofocus?l(m):ho.focus(m)})]),behaviours:z0(n.widgetBehaviours,[Lt.config({store:{mode:"memory",initialValue:n.data}}),ho.config({ignore:n.ignoreFocus,onFocus:m=>{dw(m)}}),qt.config({mode:"special",focusIn:n.autofocus?m=>{l(m)}:xy(),onLeft:u,onRight:u,onEscape:(m,p)=>ho.isFocused(m)||n.autofocus?(n.autofocus&&p.setSource(m.element),E.none()):(ho.focus(m),E.some(!0))})])}})],Fk=ei("type",{widget:S5,item:Ik,separator:DN}),Y0=oe([x0({factory:{sketch:n=>{const r=za("menu.spec item",Fk,n);return r.builder(r)}},name:"items",unit:"item",defaults:(n,r)=>nn(r,"uid")?r:{...r,uid:bp("item")},overrides:(n,r)=>({type:r.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),zk=oe([Fs("role"),ct("value"),ct("items"),ct("dom"),ct("components"),Me("eventOrder",{}),Na("menuBehaviours",[gn,Lt,bn,qt]),Vl("movement",{mode:"menu",moveOnTab:!0},ei("mode",{grid:[Pm(),os("config",(n,r)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:n.focusManager}))],matrix:[os("config",(n,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+n.markers.item},previousSelector:r.previousSelector,focusManager:n.focusManager})),ct("rowSelector"),Me("previousSelector",E.none)],menu:[Me("moveOnTab",!0),os("config",(n,r)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:r.moveOnTab,focusManager:n.focusManager}))]})),Pi("markers",ry()),Me("fakeFocus",!1),Me("focusManager",O0()),Mo("onHighlight"),Mo("onDehighlight"),Me("showMenuRole",!0)]),E5=oe("alloy.menu-focus"),hf=ol({name:"Menu",configFields:zk(),partFields:Y0(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:ri(n.menuBehaviours,[gn.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),Lt.config({store:{mode:"memory",initialValue:n.value}}),bn.config({find:E.some}),qt.config(n.movement.config(n,n.movement))]),events:Gn([Ke(AN(),(u,m)=>{const p=m.event;u.getSystem().getByDom(p.target).each(x=>{gn.highlight(u,x),m.stop(),Gt(u,E5(),{menu:u,item:x})})}),Ke(k5(),(u,m)=>{const p=m.event.item;gn.highlight(u,p)}),Ke(TN(),(u,m)=>{const{item:p,state:x}=m.event;x&&Eo(p.element,"role")==="menuitemradio"&&((v,_)=>{const S=Jr(v.element,'[role="menuitemradio"][aria-checked="true"]');pt(S,k=>{$o(k,_.element)||v.getSystem().getByDom(k).each(A=>{sn.off(A)})})})(u,p)})]),components:r,eventOrder:n.eventOrder,...n.showMenuRole?{domModification:{attributes:{role:n.role.getOr("menu")}}}:{}})}),Hk=(n,r,i,l)=>Qt(i,l).bind(u=>Qt(n,u).bind(m=>{const p=Hk(n,r,i,m);return E.some([m].concat(p))})).getOr([]),bf=n=>n.type==="prepared"?E.some(n.menu):E.none(),Vk=()=>{const n=Tt({}),r=Tt({}),i=Tt({}),l=In(),u=Tt({}),m=v=>p(v).bind(bf),p=v=>Qt(r.get(),v),x=v=>Qt(n.get(),v);return{setMenuBuilt:(v,_)=>{r.set({...r.get(),[v]:{type:"prepared",menu:_}})},setContents:(v,_,S,k)=>{l.set(v),n.set(S),r.set(_),u.set(k);const A=((M,P)=>{const q={};yn(M,(V,Y)=>{pt(V,J=>{q[J]=Y})});const U=P,j=Wc(P,(V,Y)=>({k:V,v:Y})),H=Rs(j,(V,Y)=>[Y].concat(Hk(q,U,j,Y)));return Rs(q,V=>Qt(H,V).getOr([V]))})(k,S);i.set(A)},expand:v=>Qt(n.get(),v).map(_=>{const S=Qt(i.get(),v).getOr([]);return[_].concat(S)}),refresh:v=>Qt(i.get(),v),collapse:v=>Qt(i.get(),v).bind(_=>_.length>1?E.some(_.slice(1)):E.none()),lookupMenu:p,lookupItem:x,otherMenus:v=>{const _=u.get();return Ho(Lo(_),v)},getPrimary:()=>l.get().bind(m),getMenus:()=>r.get(),clear:()=>{n.set({}),r.set({}),i.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(v,_)=>{const S=Co(x(v).toArray(),k=>m(k).isSome());return Qt(i.get(),v).bind(k=>{const A=ur(S.concat(k));return(M=>{const P=[];for(let q=0;q<M.length;q++){const U=M[q];if(!U.isSome())return E.none();P.push(U.getOrDie())}return E.some(P)})(Io(A,(M,P)=>((q,U,j)=>m(q).bind(H=>(V=>Ol(n.get(),(Y,J)=>Y===V))(q).bind(V=>U(V).map(Y=>({triggeredMenu:H,triggeringItem:Y,triggeringPath:j})))))(M,_,A.slice(0,P+1)).fold(()=>zn(l.get(),M)?[]:[E.none()],q=>[E.some(q)])))})}}},$k=bf,pv=ke("tiered-menu-item-highlight"),Uk=ke("tiered-menu-item-dehighlight"),mw=oe("collapse-item"),xf=yl({name:"TieredMenu",configFields:[hl("onExecute"),hl("onEscape"),Sc("onOpenMenu"),Sc("onOpenSubmenu"),Mo("onRepositionMenu"),Mo("onCollapseMenu"),Me("highlightOnOpen",Js.HighlightMenuAndItem),ti("data",[ct("primary"),ct("menus"),ct("expansions")]),Me("fakeFocus",!1),Mo("onHighlightItem"),Mo("onDehighlightItem"),Mo("onHover"),Hu(),ct("dom"),Me("navigateOnHover",!0),Me("stayInDom",!1),Na("tmenuBehaviours",[qt,gn,bn,So]),Me("eventOrder",{})],apis:{collapseMenu:(n,r)=>{n.collapseMenu(r)},highlightPrimary:(n,r)=>{n.highlightPrimary(r)},repositionMenus:(n,r)=>{n.repositionMenus(r)}},factory:(n,r)=>{const i=In(),l=Vk(),u=V=>Lt.getValue(V).value,m=V=>Rs(n.data.menus,(Y,J)=>Io(Y.items,de=>de.type==="separator"?[]:[de.data.value])),p=gn.highlight,x=(V,Y)=>{p(V,Y),gn.getHighlighted(Y).orThunk(()=>gn.getFirst(Y)).each(J=>{n.fakeFocus?gn.highlight(Y,J):Bx(V,J.element,pi())})},v=(V,Y)=>ll(we(Y,J=>V.lookupMenu(J).bind(de=>de.type==="prepared"?E.some(de.menu):E.none()))),_=(V,Y,J)=>{const de=v(Y,Y.otherMenus(J));pt(de,ce=>{Xr(ce.element,[n.markers.backgroundMenu]),n.stayInDom||So.remove(V,ce)})},S=(V,Y)=>{const J=(de=>i.get().getOrThunk(()=>{const ce={},pe=Jr(de.element,`.${n.markers.item}`),Te=Co(pe,Ve=>Eo(Ve,"aria-haspopup")==="true");return pt(Te,Ve=>{de.getSystem().getByDom(Ve).each($e=>{const je=u($e);ce[je]=$e})}),i.set(ce),ce}))(V);yn(J,(de,ce)=>{const pe=dt(Y,ce);ao(de.element,"aria-expanded",pe)})},k=(V,Y,J)=>E.from(J[0]).bind(de=>Y.lookupMenu(de).bind(ce=>{if(ce.type==="notbuilt")return E.none();{const pe=ce.menu,Te=v(Y,J.slice(1));return pt(Te,Ve=>{vs(Ve.element,n.markers.backgroundMenu)}),at(pe.element)||So.append(V,Jl(pe)),Xr(pe.element,[n.markers.backgroundMenu]),x(V,pe),_(V,Y,J),E.some(pe)}}));let A;(function(V){V[V.HighlightSubmenu=0]="HighlightSubmenu",V[V.HighlightParent=1]="HighlightParent"})(A||(A={}));const M=(V,Y,J=A.HighlightSubmenu)=>{if(Y.hasConfigured(Xt)&&Xt.isDisabled(Y))return E.some(Y);{const de=u(Y);return l.expand(de).bind(ce=>(S(V,ce),E.from(ce[0]).bind(pe=>l.lookupMenu(pe).bind(Te=>{const Ve=(($e,je,it)=>{if(it.type==="notbuilt"){const Wt=$e.getSystem().build(it.nbMenu());return l.setMenuBuilt(je,Wt),Wt}return it.menu})(V,pe,Te);return at(Ve.element)||So.append(V,Jl(Ve)),n.onOpenSubmenu(V,Y,Ve,ur(ce)),J===A.HighlightSubmenu?(gn.highlightFirst(Ve),k(V,l,ce)):(gn.dehighlightAll(Ve),E.some(Y))}))))}},P=(V,Y)=>{const J=u(Y);return l.collapse(J).bind(de=>(S(V,de),k(V,l,de).map(ce=>(n.onCollapseMenu(V,Y,ce),ce))))},q=V=>(Y,J)=>ml(J.getSource(),`.${n.markers.item}`).bind(de=>Y.getSystem().getByDom(de).toOptional().bind(ce=>V(Y,ce).map(no))),U=Gn([Ke(E5(),(V,Y)=>{const J=Y.event.item;l.lookupItem(u(J)).each(()=>{const de=Y.event.menu;gn.highlight(V,de);const ce=u(Y.event.item);l.refresh(ce).each(pe=>_(V,l,pe))})}),Dc((V,Y)=>{const J=Y.event.target;V.getSystem().getByDom(J).each(de=>{u(de).indexOf("collapse-item")===0&&P(V,de),M(V,de,A.HighlightSubmenu).fold(()=>{n.onExecute(V,de)},ge)})}),as((V,Y)=>{(J=>{const de=((pe,Te,Ve)=>Rs(Ve,($e,je)=>{const it=()=>hf.sketch({...$e,value:je,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(Wt,Jt)=>{Gt(Wt,pv,{menuComp:Wt,itemComp:Jt})},onDehighlight:(Wt,Jt)=>{Gt(Wt,Uk,{menuComp:Wt,itemComp:Jt})},focusManager:n.fakeFocus?R0():O0()});return je===Te?{type:"prepared",menu:pe.getSystem().build(it())}:{type:"notbuilt",nbMenu:it}}))(J,n.data.primary,n.data.menus),ce=m();return l.setContents(n.data.primary,de,n.data.expansions,ce),l.getPrimary()})(V).each(J=>{So.append(V,Jl(J)),n.onOpenMenu(V,J),n.highlightOnOpen===Js.HighlightMenuAndItem?x(V,J):n.highlightOnOpen===Js.HighlightJustMenu&&p(V,J)})}),Ke(pv,(V,Y)=>{n.onHighlightItem(V,Y.event.menuComp,Y.event.itemComp)}),Ke(Uk,(V,Y)=>{n.onDehighlightItem(V,Y.event.menuComp,Y.event.itemComp)}),...n.navigateOnHover?[Ke(k5(),(V,Y)=>{const J=Y.event.item;((de,ce)=>{const pe=u(ce);l.refresh(pe).bind(Te=>(S(de,Te),k(de,l,Te)))})(V,J),M(V,J,A.HighlightParent),n.onHover(V,J)})]:[]]),j=V=>gn.getHighlighted(V).bind(gn.getHighlighted),H={collapseMenu:V=>{j(V).each(Y=>{P(V,Y)})},highlightPrimary:V=>{l.getPrimary().each(Y=>{x(V,Y)})},repositionMenus:V=>{l.getPrimary().bind(J=>j(V).bind(de=>{const ce=u(de),pe=Ar(l.getMenus()),Te=ll(we(pe,$k));return l.getTriggeringPath(ce,Ve=>(($e,je,it)=>dn(je,Wt=>{if(!Wt.getSystem().isConnected())return E.none();const Jt=gn.getCandidates(Wt);return I(Jt,oo=>u(oo)===it)}))(0,Te,Ve))}).map(de=>({primary:J,triggeringPath:de}))).fold(()=>{(J=>E.from(J.components()[0]).filter(de=>Eo(de.element,"role")==="menu"))(V).each(J=>{n.onRepositionMenu(V,J,[])})},({primary:J,triggeringPath:de})=>{n.onRepositionMenu(V,J,de)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:ri(n.tmenuBehaviours,[qt.config({mode:"special",onRight:q((V,Y)=>qu(Y.element)?E.none():M(V,Y,A.HighlightSubmenu)),onLeft:q((V,Y)=>qu(Y.element)?E.none():P(V,Y)),onEscape:q((V,Y)=>P(V,Y).orThunk(()=>n.onEscape(V,Y).map(()=>V))),focusIn:(V,Y)=>{l.getPrimary().each(J=>{Bx(V,J.element,pi())})}}),gn.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),bn.config({find:V=>gn.getHighlighted(V)}),So.config({})]),eventOrder:n.eventOrder,apis:H,events:U}},extraApis:{tieredData:(n,r,i)=>({primary:n,menus:r,expansions:i}),singleData:(n,r)=>({primary:n,menus:Hg(n,r),expansions:{}}),collapseItem:n=>({value:ke(mw()),meta:{text:n}})}}),A5=oe("sink"),ON=oe(Ac({name:A5(),overrides:oe({dom:{tag:"div"},behaviours:ht([vi.config({useFixed:no})]),events:Gn([hd(wc()),hd(Qi()),hd(Nm())])})})),og=gi([Me("isExtraPart",ze),fi("fireEventInstead",[Me("event",Vg())])]),Zk=n=>{const r=za("Dismissal",og,n);return{[iu()]:{schema:gi([ct("target")]),onReceive:(i,l)=>{xn.isOpen(i)&&(xn.isPartOf(i,l.target)||r.isExtraPart(i,l.target)||r.fireEventInstead.fold(()=>xn.close(i),u=>qo(i,u.event)))}}}},RN=gi([fi("fireEventInstead",[Me("event",ny())]),pl("doReposition")]),oc=n=>{const r=za("Reposition",RN,n);return{[$m()]:{onReceive:i=>{xn.isOpen(i)&&r.fireEventInstead.fold(()=>r.doReposition(i),l=>qo(i,l.event))}}}},ba=(n,r)=>{const i=n.getHotspot(r).getOr(r),l="hotspot",u=n.getAnchorOverrides();return n.layouts.fold(()=>({type:l,hotspot:i,overrides:u}),m=>({type:l,hotspot:i,overrides:u,layouts:m}))},gw=(n,r,i,l,u,m,p)=>((v,_,S,k,A,M,P)=>{const q=((j,H,V)=>(0,j.fetch)(V).map(H))(v,_,k),U=Wk(k,v);return q.map(j=>j.bind(H=>{const V=H.menus[H.primary];return E.from(V).each(Y=>{v.listRole.each(J=>{Y.role=J})}),E.from(xf.sketch({...M.menu(),uid:bp(""),data:H,highlightOnOpen:P,onOpenMenu:(Y,J)=>{const de=U().getOrDie();vi.position(de,J,{anchor:S}),xn.decloak(A)},onOpenSubmenu:(Y,J,de)=>{const ce=U().getOrDie();vi.position(ce,de,{anchor:{type:"submenu",item:J}}),xn.decloak(A)},onRepositionMenu:(Y,J,de)=>{const ce=U().getOrDie();vi.position(ce,J,{anchor:S}),pt(de,pe=>{vi.position(ce,pe.triggeredMenu,{anchor:{type:"submenu",item:pe.triggeringItem}})})},onEscape:()=>(ho.focus(k),xn.close(A),E.some(!0))}))}))})(n,r,ba(n,i),i,l,u,p).map(v=>(v.fold(()=>{xn.isOpen(l)&&xn.close(l)},_=>{xn.cloak(l),xn.open(l,_),m(l)}),l)),jk=(n,r,i,l,u,m,p)=>(xn.close(l),Vr(l)),T5=(n,r,i,l,u,m)=>{const p=vr.getCoupled(i,"sandbox");return(xn.isOpen(p)?jk:gw)(n,r,i,p,l,u,m)},Wk=(n,r)=>n.getSystem().getByUid(r.uid+"-"+A5()).map(i=>()=>Wo.value(i)).getOrThunk(()=>r.lazySink.fold(()=>()=>Wo.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(n))),fw=n=>{xn.getState(n).each(r=>{xf.repositionMenus(r)})},Qh=(n,r,i)=>{const l=iw(),u=Wk(r,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:l.id}},behaviours:z0(n.sandboxBehaviours,[Lt.config({store:{mode:"memory",initialValue:r}}),xn.config({onOpen:(m,p)=>{const x=ba(n,r);l.link(r.element),n.matchWidth&&((v,_,S)=>{const k=bn.getCurrent(_).getOr(_),A=Bn(v.element);S?ko(k.element,"min-width",A+"px"):((M,P)=>{Bg.set(M,P)})(k.element,A)})(x.hotspot,p,n.useMinWidth),n.onOpen(x,m,p),i!==void 0&&i.onOpen!==void 0&&i.onOpen(m,p)},onClose:(m,p)=>{l.unlink(r.element),u().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(m,p)},isPartOf:(m,p,x)=>pf(p,x)||pf(r,x),getAttachPoint:()=>u().getOrDie()}),bn.config({find:m=>xn.getState(m).bind(p=>bn.getCurrent(p))}),nl.config({channels:{...Zk({isExtraPart:ze}),...oc({doReposition:fw})}})])}},qk=()=>[Me("sandboxClasses",[]),Gh("sandboxBehaviours",[bn,nl,xn,Lt])],D5=oe([ct("dom"),ct("fetch"),Mo("onOpen"),zi("onExecute"),Me("getHotspot",E.some),Me("getAnchorOverrides",oe({})),Qm(),Na("dropdownBehaviours",[sn,vr,qt,ho]),ct("toggleClass"),Me("eventOrder",{}),Dn("lazySink"),Me("matchWidth",!1),Me("useMinWidth",!1),Dn("role"),Dn("listRole")].concat(qk())),NN=oe([Gl({schema:[Hu(),Me("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),ON()]),nc=ol({name:"Dropdown",configFields:D5(),partFields:NN(),factory:(n,r,i,l)=>{const u=v=>{xn.getState(v).each(_=>{xf.highlightPrimary(_)})},m=(v,_,S)=>T5(n,yt,v,l,_,S),p={expand:v=>{sn.isOn(v)||m(v,ge,Js.HighlightNone).get(ge)},open:v=>{sn.isOn(v)||m(v,ge,Js.HighlightMenuAndItem).get(ge)},refetch:v=>vr.getExistingCoupled(v,"sandbox").fold(()=>m(v,ge,Js.HighlightMenuAndItem).map(ge),_=>gw(n,yt,v,_,l,ge,Js.HighlightMenuAndItem).map(ge)),isOpen:sn.isOn,close:v=>{sn.isOn(v)&&m(v,ge,Js.HighlightMenuAndItem).get(ge)},repositionMenus:v=>{sn.isOn(v)&&(_=>{const S=vr.getCoupled(_,"sandbox");fw(S)})(v)}},x=(v,_)=>(Mh(v),E.some(!0));return{uid:n.uid,dom:n.dom,components:r,behaviours:ri(n.dropdownBehaviours,[sn.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),vr.config({others:{sandbox:v=>Qh(n,v,{onOpen:()=>sn.on(v),onClose:()=>sn.off(v)})}}),qt.config({mode:"special",onSpace:x,onEnter:x,onDown:(v,_)=>{if(nc.isOpen(v)){const S=vr.getCoupled(v,"sandbox");u(S)}else nc.open(v);return E.some(!0)},onEscape:(v,_)=>nc.isOpen(v)?(nc.close(v),E.some(!0)):E.none()}),ho.config({})]),events:Bk(E.some(v=>{m(v,u,Js.HighlightMenuAndItem).get(ge)})),eventOrder:{...n.eventOrder,[Ji()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":n.listRole.getOr("true"),...n.role.fold(()=>({}),v=>({role:v})),...n.dom.tag==="button"?{type:Qt(n.dom,"attributes").bind(v=>Qt(v,"type")).getOr("button")}:{}}}}},apis:{open:(n,r)=>n.open(r),refetch:(n,r)=>n.refetch(r),expand:(n,r)=>n.expand(r),close:(n,r)=>n.close(r),isOpen:(n,r)=>n.isOpen(r),repositionMenus:(n,r)=>n.repositionMenus(r)}}),Gk="form",O5=[Na("formBehaviours",[Lt])],R5=n=>"<alloy.field."+n+">",MN=(n,r)=>({uid:n.uid,dom:n.dom,components:r,behaviours:ri(n.formBehaviours,[Lt.config({store:{mode:"manual",getValue:i=>{const l=y0(i,n);return Rs(l,(u,m)=>u().bind(p=>{return x=bn.getCurrent(p),v=new Error(`Cannot find a current component to extract the value from for form part '${m}': `+ql(p.element)),x.fold(()=>Wo.error(v),Wo.value);var x,v}).map(Lt.getValue))},setValue:(i,l)=>{yn(l,(u,m)=>{qn(i,n,m).each(p=>{bn.getCurrent(p).each(x=>{Lt.setValue(x,u)})})})}}})]),apis:{getField:(i,l)=>qn(i,n,l).bind(bn.getCurrent)}}),Jh={getField:_d((n,r,i)=>n.getField(r,i)),sketch:n=>{const r=(()=>{const m=[];return{field:(p,x)=>(m.push(p),$u(Gk,R5(p),x)),record:oe(m)}})(),i=n(r),l=r.record(),u=we(l,m=>xi({name:m,pname:R5(m)}));return jy(Gk,O5,u,MN,i)}},e1=oe([ct("dom"),Me("shell",!0),Na("toolbarBehaviours",[So])]),N5=oe([Ac({name:"groups",overrides:()=>({behaviours:ht([So.config({})])})})]),du=ol({name:"Toolbar",configFields:e1(),partFields:N5(),factory:(n,r,i,l)=>{const u=n.shell?{behaviours:[So.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:ri(n.toolbarBehaviours,u.behaviours),apis:{setGroups:(m,p)=>{var x;(x=m,n.shell?E.some(x):qn(x,n,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},v=>{So.set(v,p)})},refresh:ge},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)}}}),pw=oe([kc(["toggledClass"]),ct("lazySink"),pl("fetch"),Br("getBounds"),fi("fireDismissalEventInstead",[Me("event",Vg())]),Qm(),Mo("onToggled")]),M5=oe([Gl({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ht([sn.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),Gl({factory:du,schema:e1(),name:"toolbar",overrides:n=>({toolbarBehaviours:ht([qt.config({mode:"cyclic",onEscape:r=>(qn(r,n,"button").each(ho.focus),E.none())})])})})]),ng=In(),t1=(n,r)=>{const i=vr.getCoupled(n,"toolbarSandbox");xn.isOpen(i)?xn.close(i):xn.open(i,r.toolbar())},Kk=(n,r,i,l)=>{const u=i.getBounds.map(p=>p()),m=i.lazySink(n).getOrDie();vi.positionWithinBounds(m,r,{anchor:{type:"hotspot",hotspot:n,layouts:l,overrides:{maxWidthFunction:E0()}}},u)},B5=(n,r,i,l,u)=>{du.setGroups(r,u),Kk(n,r,i,l),sn.on(n)},Ep=ol({name:"FloatingToolbarButton",factory:(n,r,i,l)=>({...Za.sketch({...l.button(),action:u=>{t1(u,l)},buttonBehaviours:z0({dump:l.button().buttonBehaviours},[vr.config({others:{toolbarSandbox:u=>((m,p,x)=>{const v=iw();return{dom:{tag:"div",attributes:{id:v.id}},behaviours:ht([qt.config({mode:"special",onEscape:_=>(xn.close(_),E.some(!0))}),xn.config({onOpen:(_,S)=>{const k=ng.get().getOr(!1);x.fetch().get(A=>{B5(m,S,x,p.layouts,A),v.link(m.element),k||qt.focusIn(S)})},onClose:()=>{sn.off(m),ng.get().getOr(!1)||ho.focus(m),v.unlink(m.element)},isPartOf:(_,S,k)=>pf(S,k)||pf(m,k),getAttachPoint:()=>x.lazySink(m).getOrDie()}),nl.config({channels:{...Zk({isExtraPart:ze,...x.fireDismissalEventInstead.map(_=>({fireEventInstead:{event:_.event}})).getOr({})}),...oc({doReposition:()=>{xn.getState(vr.getCoupled(m,"toolbarSandbox")).each(_=>{Kk(m,_,x,p.layouts)})}})}})])}})(u,i,n)}})])}),apis:{setGroups:(u,m)=>{xn.getState(vr.getCoupled(u,"toolbarSandbox")).each(p=>{B5(u,p,n,i.layouts,m)})},reposition:u=>{xn.getState(vr.getCoupled(u,"toolbarSandbox")).each(m=>{Kk(u,m,n,i.layouts)})},toggle:u=>{t1(u,l)},toggleWithoutFocusing:u=>{((m,p)=>{ng.set(!0),t1(m,p),ng.clear()})(u,l)},getToolbar:u=>xn.getState(vr.getCoupled(u,"toolbarSandbox")),isOpen:u=>xn.isOpen(vr.getCoupled(u,"toolbarSandbox"))}}),configFields:pw(),partFields:M5(),apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},reposition:(n,r)=>{n.reposition(r)},toggle:(n,r)=>{n.toggle(r)},toggleWithoutFocusing:(n,r)=>{n.toggleWithoutFocusing(r)},getToolbar:(n,r)=>n.getToolbar(r),isOpen:(n,r)=>n.isOpen(r)}}),BN=oe([Me("prefix","form-field"),Na("fieldBehaviours",[bn,Lt])]),P5=oe([Ac({schema:[ct("dom")],name:"label"}),Ac({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[ct("text")],name:"aria-descriptor"}),xi({factory:{sketch:n=>{const r=((i,l)=>{const u={};return yn(i,(m,p)=>{dt(l,p)||(u[p]=m)}),u})(n,["factory"]);return n.factory.sketch(r)}},schema:[ct("factory")],name:"field"})]),Go=ol({name:"FormField",configFields:BN(),partFields:P5(),factory:(n,r,i,l)=>{const u=ri(n.fieldBehaviours,[bn.config({find:x=>qn(x,n,"field")}),Lt.config({store:{mode:"manual",getValue:x=>bn.getCurrent(x).bind(Lt.getValue),setValue:(x,v)=>{bn.getCurrent(x).each(_=>{Lt.setValue(_,v)})}}})]),m=Gn([as((x,v)=>{const _=ep(x,n,["label","field","aria-descriptor"]);_.field().each(S=>{const k=ke(n.prefix);_.label().each(A=>{ao(A.element,"for",k),ao(S.element,"id",k)}),_["aria-descriptor"]().each(A=>{const M=ke(n.prefix);ao(A.element,"id",M),ao(S.element,"aria-describedby",M)})})})]),p={getField:x=>qn(x,n,"field"),getLabel:x=>qn(x,n,"label")};return{uid:n.uid,dom:n.dom,components:r,behaviours:u,events:m,apis:p}},apis:{getField:(n,r)=>n.getField(r),getLabel:(n,r)=>n.getLabel(r)}}),I5=oe([Me("field1Name","field1"),Me("field2Name","field2"),Sc("onLockedChange"),kc(["lockClass"]),Me("locked",!1),Gh("coupledFieldBehaviours",[bn,Lt]),rs("onInput",ge)]),L5=(n,r)=>xi({factory:Go,name:n,overrides:i=>({fieldBehaviours:ht([co("coupled-input-behaviour",[Ke(ud(),l=>{((u,m,p)=>qn(u,m,p).bind(bn.getCurrent))(l,i,r).each(u=>{qn(l,i,"lock").each(m=>{sn.isOn(m)&&i.onLockedChange(l,u,m),i.onInput(l)})})})])])})}),PN=oe([L5("field1","field2"),L5("field2","field1"),xi({factory:Za,schema:[ct("dom")],name:"lock",overrides:n=>({buttonBehaviours:ht([sn.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),er=ol({name:"FormCoupledInputs",configFields:I5(),partFields:PN(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,behaviours:z0(n.coupledFieldBehaviours,[bn.config({find:E.some}),Lt.config({store:{mode:"manual",getValue:u=>{const m=Ah(u,n,["field1","field2"]);return{[n.field1Name]:Lt.getValue(m.field1()),[n.field2Name]:Lt.getValue(m.field2())}},setValue:(u,m)=>{const p=Ah(u,n,["field1","field2"]);Zn(m,n.field1Name)&&Lt.setValue(p.field1(),m[n.field1Name]),Zn(m,n.field2Name)&&Lt.setValue(p.field2(),m[n.field2Name])}}})]),apis:{getField1:u=>qn(u,n,"field1"),getField2:u=>qn(u,n,"field2"),getLock:u=>qn(u,n,"lock")}}),apis:{getField1:(n,r)=>n.getField1(r),getField2:(n,r)=>n.getField2(r),getLock:(n,r)=>n.getLock(r)}}),X0=yl({name:"HtmlSelect",configFields:[ct("options"),Na("selectBehaviours",[ho,Lt]),Me("selectClasses",[]),Me("selectAttributes",{}),Dn("data")],factory:(n,r)=>{const i=we(n.options,u=>({dom:{tag:"option",value:u.value,innerHtml:u.text}})),l=n.data.map(u=>Hg("initialValue",u)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:ri(n.selectBehaviours,[ho.config({}),Lt.config({store:{mode:"manual",getValue:u=>Qr(u.element),setValue:(u,m)=>{const p=_t(n.options);I(n.options,x=>x.value===m).isSome()?Yd(u.element,m):u.element.dom.selectedIndex===-1&&m===""&&p.each(x=>Yd(u.element,x.value))},...l}})])}}}),Bs=yl({name:"InlineView",configFields:[ct("lazySink"),Mo("onShow"),Mo("onHide"),Br("onEscape"),Na("inlineBehaviours",[xn,Lt,nl]),fi("fireDismissalEventInstead",[Me("event",Vg())]),fi("fireRepositionEventInstead",[Me("event",ny())]),Me("getRelated",E.none),Me("isExtraPart",ze),Me("eventOrder",E.none)],factory:(n,r)=>{const i=(p,x,v,_)=>{const S=n.lazySink(p).getOrDie();xn.openWhileCloaked(p,x,()=>vi.positionWithinBounds(S,p,v,_())),Lt.setValue(p,E.some({mode:"position",config:v,getBounds:_}))},l=(p,x,v,_)=>{const S=((k,A,M,P,q)=>{const U=()=>k.lazySink(A),j=P.type==="horizontal"?{layouts:{onLtr:()=>Tx(),onRtl:()=>S0()}}:{},H=V=>(Y=>Y.length===2)(V)?j:{};return xf.sketch({dom:{tag:"div"},data:P.data,markers:P.menu.markers,highlightOnOpen:P.menu.highlightOnOpen,fakeFocus:P.menu.fakeFocus,onEscape:()=>(xn.close(A),k.onEscape.map(V=>V(A)),E.some(!0)),onExecute:()=>E.some(!0),onOpenMenu:(V,Y)=>{vi.positionWithinBounds(U().getOrDie(),Y,M,q())},onOpenSubmenu:(V,Y,J,de)=>{const ce=U().getOrDie();vi.position(ce,J,{anchor:{type:"submenu",item:Y,...H(de)}})},onRepositionMenu:(V,Y,J)=>{const de=U().getOrDie();vi.positionWithinBounds(de,Y,M,q()),pt(J,ce=>{const pe=H(ce.triggeringPath);vi.position(de,ce.triggeredMenu,{anchor:{type:"submenu",item:ce.triggeringItem,...pe}})})}})})(n,p,x,v,_);xn.open(p,S),Lt.setValue(p,E.some({mode:"menu",menu:S}))},u=p=>{xn.isOpen(p)&&Lt.getValue(p).each(x=>{switch(x.mode){case"menu":xn.getState(p).each(xf.repositionMenus);break;case"position":const v=n.lazySink(p).getOrDie();vi.positionWithinBounds(v,p,x.config,x.getBounds())}})},m={setContent:(p,x)=>{xn.setContent(p,x)},showAt:(p,x,v)=>{const _=E.none;i(p,x,v,_)},showWithinBounds:i,showMenuAt:(p,x,v)=>{l(p,x,v,E.none)},showMenuWithinBounds:l,hide:p=>{xn.isOpen(p)&&(Lt.setValue(p,E.none()),xn.close(p))},getContent:p=>xn.getState(p),reposition:u,isOpen:xn.isOpen};return{uid:n.uid,dom:n.dom,behaviours:ri(n.inlineBehaviours,[xn.config({isPartOf:(p,x,v)=>pf(x,v)||((_,S)=>n.getRelated(_).exists(k=>pf(k,S)))(p,v),getAttachPoint:p=>n.lazySink(p).getOrDie(),onOpen:p=>{n.onShow(p)},onClose:p=>{n.onHide(p)}}),Lt.config({store:{mode:"memory",initialValue:E.none()}}),nl.config({channels:{...Zk({isExtraPart:r.isExtraPart,...n.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...oc({...n.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:u})}})]),eventOrder:n.eventOrder,apis:m}},apis:{showAt:(n,r,i,l)=>{n.showAt(r,i,l)},showWithinBounds:(n,r,i,l,u)=>{n.showWithinBounds(r,i,l,u)},showMenuAt:(n,r,i,l)=>{n.showMenuAt(r,i,l)},showMenuWithinBounds:(n,r,i,l,u)=>{n.showMenuWithinBounds(r,i,l,u)},hide:(n,r)=>{n.hide(r)},isOpen:(n,r)=>n.isOpen(r),getContent:(n,r)=>n.getContent(r),setContent:(n,r,i)=>{n.setContent(r,i)},reposition:(n,r)=>{n.reposition(r)}}}),Yk=oe([ys("type","text"),Dn("data"),Me("inputAttributes",{}),Me("inputStyles",{}),Me("tag","input"),Me("inputClasses",[]),Mo("onSetValue"),rs("fromInputValue",yt),rs("toInputValue",yt),Me("styles",{}),Me("eventOrder",{}),Na("inputBehaviours",[Lt,ho]),Me("selectOnFocus",!0)]),F5=n=>ht([ho.config({onFocus:n.selectOnFocus?r=>{const i=r.element,l=Qr(i);n.type!=="range"&&i.dom.setSelectionRange(0,l.length)}:ge})]),z5=n=>({...F5(n),...ri(n.inputBehaviours,[Lt.config({store:{mode:"manual",...n.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>n.fromInputValue(Qr(r.element)),setValue:(r,i)=>{Qr(r.element)!==i&&Yd(r.element,n.toInputValue(i))}},onSetValue:n.onSetValue})])}),Xk=n=>({tag:n.tag,attributes:{type:n.type,...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),vf=yl({name:"Input",configFields:Yk(),factory:(n,r)=>({uid:n.uid,dom:Xk(n),components:[],behaviours:z5(n),eventOrder:n.eventOrder})}),Qk=v0(uw(),Lk()),IN=oe([ct("lazySink"),Dn("dragBlockClass"),rs("getBounds",Zs),Me("useTabstopAt",no),Me("firstTabstop",0),Me("eventOrder",{}),Na("modalBehaviours",[qt]),zi("onExecute"),hl("onEscape")]),Jk={sketch:yt},LN=oe([Ac({name:"draghandle",overrides:(n,r)=>({behaviours:ht([vp.config({mode:"mouse",getTarget:i=>Yr(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:n.getDragBounds})])})}),xi({schema:[ct("dom")],name:"title"}),xi({factory:Jk,schema:[ct("dom")],name:"close"}),xi({factory:Jk,schema:[ct("dom")],name:"body"}),Ac({factory:Jk,schema:[ct("dom")],name:"footer"}),Gl({factory:{sketch:(n,r)=>({...n,dom:r.dom,components:r.components})},schema:[Me("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Me("components",[])],name:"blocker"})]),sa=ol({name:"ModalDialog",configFields:IN(),partFields:LN(),factory:(n,r,i,l)=>{const u=In(),m=ke("modal-events"),p={...n.eventOrder,[_c()]:[m].concat(n.eventOrder["alloy.system.attached"]||[])},x=ve();return{uid:n.uid,dom:n.dom,components:r,apis:{show:v=>{u.set(v);const _=n.lazySink(v).getOrDie(),S=l.blocker(),k=_.getSystem().build({...S,components:S.components.concat([Jl(v)]),behaviours:ht([ho.config({}),co("dialog-blocker-events",[Wu(Zl(),()=>{Yu.isBlocked(v)||qt.focusIn(v)})])])});df(_,k),qt.focusIn(v)},hide:v=>{u.clear(),Hn(v.element).each(_=>{v.getSystem().getByDom(_).each(S=>{Gm(S)})})},getBody:v=>Im(v,n,"body"),getFooter:v=>qn(v,n,"footer"),setIdle:v=>{Yu.unblock(v)},setBusy:(v,_)=>{Yu.block(v,_)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ri(n.modalBehaviours,[So.config({}),qt.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),Yu.config({getRoot:u.get}),co(m,[as(v=>{const _=Im(v,n,"title").element,S=(k=>k.dom.textContent)(_);x.os.isMacOS()&&Ae(S)?ao(v.element,"aria-label",S):((k,A)=>{const M=Kr(k,"id").fold(()=>{const P=ke("dialog-label");return ao(A,"id",P),P},yt);ao(k,"aria-labelledby",M)})(v.element,_)})])])}},apis:{show:(n,r)=>{n.show(r)},hide:(n,r)=>{n.hide(r)},getBody:(n,r)=>n.getBody(r),getFooter:(n,r)=>n.getFooter(r),setBusy:(n,r,i)=>{n.setBusy(r,i)},setIdle:(n,r)=>{n.setIdle(r)}}}),hw=Ac({schema:[ct("dom")],name:"label"}),sg=n=>Ac({name:n+"-edge",overrides:r=>r.model.manager.edgeActions[n].fold(()=>({}),i=>({events:Gn([T0(Ul(),(l,u,m)=>i(l,m),[r]),T0(Qi(),(l,u,m)=>i(l,m),[r]),T0(Wr(),(l,u,m)=>{m.mouseIsDown.get()&&i(l,m)},[r])])}))}),FN=sg("top-left"),KL=sg("top"),H5=sg("top-right"),zN=sg("right"),HN=sg("bottom-right"),Ad=sg("bottom"),V5=sg("bottom-left"),VN=sg("left"),YL=xi({name:"thumb",defaults:oe({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:Gn([ip(Ul(),n,"spectrum"),ip(Qf(),n,"spectrum"),ip(Om(),n,"spectrum"),ip(Qi(),n,"spectrum"),ip(Wr(),n,"spectrum"),ip(a0(),n,"spectrum")])})}),e4=n=>dp(n.event),$N=xi({schema:[ka("mouseIsDown",()=>Tt(!1))],name:"spectrum",overrides:n=>{const r=n.model.manager,i=(l,u)=>r.getValueFromEvent(u).map(m=>r.setValueFrom(l,n,m));return{behaviours:ht([qt.config({mode:"special",onLeft:(l,u)=>r.onLeft(l,n,e4(u)),onRight:(l,u)=>r.onRight(l,n,e4(u)),onUp:(l,u)=>r.onUp(l,n,e4(u)),onDown:(l,u)=>r.onDown(l,n,e4(u))}),cn.config({}),ho.config({})]),events:Gn([Ke(Ul(),i),Ke(Qf(),i),Ke(Qi(),i),Ke(Wr(),(l,u)=>{n.mouseIsDown.get()&&i(l,u)})])}}});var $5=[hw,VN,zN,KL,Ad,FN,H5,V5,HN,YL,$N];const hv=oe("slider.change.value"),t4=n=>{const r=n.event.raw;if((i=>i.type.indexOf("touch")!==-1)(r)){const i=r;return i.touches!==void 0&&i.touches.length===1?E.some(i.touches[0]).map(l=>Ss(l.clientX,l.clientY)):E.none()}{const i=r;return i.clientX!==void 0?E.some(i).map(l=>Ss(l.clientX,l.clientY)):E.none()}},o1=n=>n.model.minX,n1=n=>n.model.minY,bw=n=>n.model.minX-1,yf=n=>n.model.minY-1,wf=n=>n.model.maxX,s1=n=>n.model.maxY,Q0=n=>n.model.maxX+1,r1=n=>n.model.maxY+1,xw=(n,r,i)=>r(n)-i(n),o4=n=>xw(n,wf,o1),n4=n=>xw(n,s1,n1),U5=n=>o4(n)/2,Z5=n=>n4(n)/2,J0=(n,r)=>r?n.stepSize*n.speedMultiplier:n.stepSize,j5=n=>n.snapToGrid,W5=n=>n.snapStart,s4=n=>n.rounded,a1=(n,r)=>n[r+"-edge"]!==void 0,q5=n=>a1(n,"left"),G5=n=>a1(n,"right"),K5=n=>a1(n,"top"),Y5=n=>a1(n,"bottom"),Ic=n=>n.model.value.get(),rg=(n,r)=>({x:n,y:r}),uu=(n,r)=>{Gt(n,hv(),{value:r})},bv=(n,r,i,l)=>n<r?n:n>i?i:n===r?r-1:Math.max(r,n-l),r4=(n,r,i,l)=>n>i?n:n<r?r:n===i?i+1:Math.min(i,n+l),Bt=(n,r,i)=>Math.max(r,Math.min(i,n)),Ap=n=>{const{min:r,max:i,range:l,value:u,step:m,snap:p,snapStart:x,rounded:v,hasMinEdge:_,hasMaxEdge:S,minBound:k,maxBound:A,screenRange:M}=n,P=_?r-1:r,q=S?i+1:i;if(u<k)return P;if(u>A)return q;{const U=((H,V,Y)=>Math.min(Y,Math.max(H,V))-V)(u,k,A),j=Bt(U/M*l+r,P,q);return p&&j>=r&&j<=i?((H,V,Y,J,de)=>de.fold(()=>{const ce=H-V,pe=Math.round(ce/J)*J;return Bt(V+pe,V-1,Y+1)},ce=>{const pe=(H-ce)%J,Te=Math.round(pe/J),Ve=Math.floor((H-ce)/J),$e=Math.floor((Y-ce)/J),je=ce+Math.min($e,Ve+Te)*J;return Math.max(ce,je)}))(j,r,i,m,x):v?Math.round(j):j}},X5=n=>{const{min:r,max:i,range:l,value:u,hasMinEdge:m,hasMaxEdge:p,maxBound:x,maxOffset:v,centerMinEdge:_,centerMaxEdge:S}=n;return u<r?m?0:_:u>i?p?x:S:(u-r)/l*v},vw="top",xv="right",yw="bottom",a4="left",Qu=n=>n.element.dom.getBoundingClientRect(),Td=(n,r)=>n[r],eb=n=>{const r=Qu(n);return Td(r,a4)},Q5=n=>{const r=Qu(n);return Td(r,xv)},vv=n=>{const r=Qu(n);return Td(r,vw)},J5=n=>{const r=Qu(n);return Td(r,yw)},eT=n=>{const r=Qu(n);return Td(r,"width")},i4=n=>{const r=Qu(n);return Td(r,"height")},tT=(n,r,i)=>(n+r)/2-i,oT=(n,r)=>{const i=Qu(n),l=Qu(r),u=Td(i,a4),m=Td(i,xv),p=Td(l,a4);return tT(u,m,p)},ww=(n,r)=>{const i=Qu(n),l=Qu(r),u=Td(i,vw),m=Td(i,yw),p=Td(l,vw);return tT(u,m,p)},yv=(n,r)=>{Gt(n,hv(),{value:r})},tb=(n,r,i)=>{const l={min:o1(r),max:wf(r),range:o4(r),value:i,step:J0(r),snap:j5(r),snapStart:W5(r),rounded:s4(r),hasMinEdge:q5(r),hasMaxEdge:G5(r),minBound:eb(n),maxBound:Q5(n),screenRange:eT(n)};return Ap(l)},wv=n=>(r,i,l)=>((u,m,p,x)=>{const v=(u>0?r4:bv)(Ic(p),o1(p),wf(p),J0(p,x));return yv(m,v),E.some(v)})(n,r,i,l).map(no),ob=(n,r,i,l,u,m)=>{const p=((x,v,_,S,k)=>{const A=eT(x),M=S.bind(U=>E.some(oT(U,x))).getOr(0),P=k.bind(U=>E.some(oT(U,x))).getOr(A),q={min:o1(v),max:wf(v),range:o4(v),value:_,hasMinEdge:q5(v),hasMaxEdge:G5(v),minBound:eb(x),maxBound:Q5(x),maxOffset:A,centerMinEdge:M,centerMaxEdge:P};return X5(q)})(r,m,i,l,u);return eb(r)-eb(n)+p},ag=wv(-1),l4=wv(1),UN=E.none,ZN=E.none,jN={"top-left":E.none(),top:E.none(),"top-right":E.none(),right:E.some((n,r)=>{uu(n,Q0(r))}),"bottom-right":E.none(),bottom:E.none(),"bottom-left":E.none(),left:E.some((n,r)=>{uu(n,bw(r))})};var nT=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=tb(n,r,i);return yv(n,l),l},setToMin:(n,r)=>{const i=o1(r);yv(n,i)},setToMax:(n,r)=>{const i=wf(r);yv(n,i)},findValueOfOffset:tb,getValueFromEvent:n=>t4(n).map(r=>r.left),findPositionOfValue:ob,setPositionFromValue:(n,r,i,l)=>{const u=Ic(i),m=ob(n,l.getSpectrum(n),u,l.getLeftEdge(n),l.getRightEdge(n),i),p=Bn(r.element)/2;ko(r.element,"left",m-p+"px")},onLeft:ag,onRight:l4,onUp:UN,onDown:ZN,edgeActions:jN});const _w=(n,r)=>{Gt(n,hv(),{value:r})},c4=(n,r,i)=>{const l={min:n1(r),max:s1(r),range:n4(r),value:i,step:J0(r),snap:j5(r),snapStart:W5(r),rounded:s4(r),hasMinEdge:K5(r),hasMaxEdge:Y5(r),minBound:vv(n),maxBound:J5(n),screenRange:i4(n)};return Ap(l)},d4=n=>(r,i,l)=>((u,m,p,x)=>{const v=(u>0?r4:bv)(Ic(p),n1(p),s1(p),J0(p,x));return _w(m,v),E.some(v)})(n,r,i,l).map(no),Cw=(n,r,i,l,u,m)=>{const p=((x,v,_,S,k)=>{const A=i4(x),M=S.bind(U=>E.some(ww(U,x))).getOr(0),P=k.bind(U=>E.some(ww(U,x))).getOr(A),q={min:n1(v),max:s1(v),range:n4(v),value:_,hasMinEdge:K5(v),hasMaxEdge:Y5(v),minBound:vv(x),maxBound:J5(x),maxOffset:A,centerMinEdge:M,centerMaxEdge:P};return X5(q)})(r,m,i,l,u);return vv(r)-vv(n)+p},WN=E.none,sT=E.none,qN=d4(-1),u4=d4(1),rT={"top-left":E.none(),top:E.some((n,r)=>{uu(n,yf(r))}),"top-right":E.none(),right:E.none(),"bottom-right":E.none(),bottom:E.some((n,r)=>{uu(n,r1(r))}),"bottom-left":E.none(),left:E.none()};var aT=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=c4(n,r,i);return _w(n,l),l},setToMin:(n,r)=>{const i=n1(r);_w(n,i)},setToMax:(n,r)=>{const i=s1(r);_w(n,i)},findValueOfOffset:c4,getValueFromEvent:n=>t4(n).map(r=>r.top),findPositionOfValue:Cw,setPositionFromValue:(n,r,i,l)=>{const u=Ic(i),m=Cw(n,l.getSpectrum(n),u,l.getTopEdge(n),l.getBottomEdge(n),i),p=Or(r.element)/2;ko(r.element,"top",m-p+"px")},onLeft:WN,onRight:sT,onUp:qN,onDown:u4,edgeActions:rT});const _v=(n,r)=>{Gt(n,hv(),{value:r})},kw=(n,r)=>({x:n,y:r}),Sw=(n,r)=>(i,l,u)=>((m,p,x,v,_)=>{const S=m>0?r4:bv,k=p?Ic(v).x:S(Ic(v).x,o1(v),wf(v),J0(v,_)),A=p?S(Ic(v).y,n1(v),s1(v),J0(v,_)):Ic(v).y;return _v(x,kw(k,A)),E.some(k)})(n,r,i,l,u).map(no),GN=Sw(-1,!1),KN=Sw(1,!1),YN=Sw(-1,!0),Cv=Sw(1,!0),iT={"top-left":E.some((n,r)=>{uu(n,rg(bw(r),yf(r)))}),top:E.some((n,r)=>{uu(n,rg(U5(r),yf(r)))}),"top-right":E.some((n,r)=>{uu(n,rg(Q0(r),yf(r)))}),right:E.some((n,r)=>{uu(n,rg(Q0(r),Z5(r)))}),"bottom-right":E.some((n,r)=>{uu(n,rg(Q0(r),r1(r)))}),bottom:E.some((n,r)=>{uu(n,rg(U5(r),r1(r)))}),"bottom-left":E.some((n,r)=>{uu(n,rg(bw(r),r1(r)))}),left:E.some((n,r)=>{uu(n,rg(bw(r),Z5(r)))})};var lT=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=tb(n,r,i.left),u=c4(n,r,i.top),m=kw(l,u);return _v(n,m),m},setToMin:(n,r)=>{const i=o1(r),l=n1(r);_v(n,kw(i,l))},setToMax:(n,r)=>{const i=wf(r),l=s1(r);_v(n,kw(i,l))},getValueFromEvent:n=>t4(n),setPositionFromValue:(n,r,i,l)=>{const u=Ic(i),m=ob(n,l.getSpectrum(n),u.x,l.getLeftEdge(n),l.getRightEdge(n),i),p=Cw(n,l.getSpectrum(n),u.y,l.getTopEdge(n),l.getBottomEdge(n),i),x=Bn(r.element)/2,v=Or(r.element)/2;ko(r.element,"left",m-x+"px"),ko(r.element,"top",p-v+"px")},onLeft:GN,onRight:KN,onUp:YN,onDown:Cv,edgeActions:iT});const Dd=ol({name:"Slider",configFields:[Me("stepSize",1),Me("speedMultiplier",10),Me("onChange",ge),Me("onChoose",ge),Me("onInit",ge),Me("onDragStart",ge),Me("onDragEnd",ge),Me("snapToGrid",!1),Me("rounded",!0),Dn("snapStart"),Pi("model",ei("mode",{x:[Me("minX",0),Me("maxX",100),ka("value",n=>Tt(n.mode.minX)),ct("getInitialValue"),os("manager",nT)],y:[Me("minY",0),Me("maxY",100),ka("value",n=>Tt(n.mode.minY)),ct("getInitialValue"),os("manager",aT)],xy:[Me("minX",0),Me("maxX",100),Me("minY",0),Me("maxY",100),ka("value",n=>Tt({x:n.mode.minX,y:n.mode.minY})),ct("getInitialValue"),os("manager",lT)]})),Na("sliderBehaviours",[qt,Lt]),ka("mouseIsDown",()=>Tt(!1))],partFields:$5,factory:(n,r,i,l)=>{const u=H=>Im(H,n,"thumb"),m=H=>Im(H,n,"spectrum"),p=H=>qn(H,n,"left-edge"),x=H=>qn(H,n,"right-edge"),v=H=>qn(H,n,"top-edge"),_=H=>qn(H,n,"bottom-edge"),S=n.model,k=S.manager,A=(H,V)=>{k.setPositionFromValue(H,V,n,{getLeftEdge:p,getRightEdge:x,getTopEdge:v,getBottomEdge:_,getSpectrum:m})},M=(H,V)=>{S.value.set(V);const Y=u(H);A(H,Y)},P=H=>{const V=n.mouseIsDown.get();n.mouseIsDown.set(!1),V&&qn(H,n,"thumb").each(Y=>{const J=S.value.get();n.onChoose(H,Y,J)})},q=(H,V)=>{V.stop(),n.mouseIsDown.set(!0),n.onDragStart(H,u(H))},U=(H,V)=>{V.stop(),n.onDragEnd(H,u(H)),P(H)},j=H=>{qn(H,n,"spectrum").map(qt.focusIn)};return{uid:n.uid,dom:n.dom,components:r,behaviours:ri(n.sliderBehaviours,[qt.config({mode:"special",focusIn:j}),Lt.config({store:{mode:"manual",getValue:H=>S.value.get(),setValue:M}}),nl.config({channels:{[zh()]:{onReceive:P}}})]),events:Gn([Ke(hv(),(H,V)=>{((Y,J)=>{M(Y,J);const de=u(Y);n.onChange(Y,de,J)})(H,V.event.value)}),as((H,V)=>{const Y=S.getInitialValue();S.value.set(Y);const J=u(H);A(H,J);const de=m(H);n.onInit(H,J,de,S.value.get())}),Ke(Ul(),q),Ke(Om(),U),Ke(Qi(),(H,V)=>{j(H),q(H,V)}),Ke(a0(),U)]),apis:{resetToMin:H=>{k.setToMin(H,n)},resetToMax:H=>{k.setToMax(H,n)},setValue:M,refresh:A},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,r,i)=>{n.setValue(r,i)},resetToMin:(n,r)=>{n.resetToMin(r)},resetToMax:(n,r)=>{n.resetToMax(r)},refresh:(n,r)=>{n.refresh(r)}}}),m4="container",cT=[Na("slotBehaviours",[])],dT=n=>"<alloy.field."+n+">",XN=(n,r)=>{const i=S=>w0(n),l=(S,k)=>(A,M)=>qn(A,n,M).map(P=>S(P,M)).getOr(k),u=(S,k)=>Eo(S.element,"aria-hidden")!=="true",m=l(u,!1),p=l((S,k)=>{if(u(S)){const A=S.element;ko(A,"display","none"),ao(A,"aria-hidden","true"),Gt(S,d0(),{name:k,visible:!1})}}),x=(S=>(k,A)=>{pt(A,M=>S(k,M))})(p),v=l((S,k)=>{if(!u(S)){const A=S.element;mn(A,"display"),Us(A,"aria-hidden"),Gt(S,d0(),{name:k,visible:!0})}}),_={getSlotNames:i,getSlot:(S,k)=>qn(S,n,k),isShowing:m,hideSlot:p,hideAllSlots:S=>x(S,i()),showSlot:v};return{uid:n.uid,dom:n.dom,components:r,behaviours:lk(n.slotBehaviours),apis:_}},QN=Rs({getSlotNames:(n,r)=>n.getSlotNames(r),getSlot:(n,r,i)=>n.getSlot(r,i),isShowing:(n,r,i)=>n.isShowing(r,i),hideSlot:(n,r,i)=>n.hideSlot(r,i),hideAllSlots:(n,r)=>n.hideAllSlots(r),showSlot:(n,r,i)=>n.showSlot(r,i)},n=>_d(n)),ja={...QN,sketch:n=>{const r=(()=>{const m=[];return{slot:(p,x)=>(m.push(p),$u(m4,dT(p),x)),record:oe(m)}})(),i=n(r),l=r.record(),u=we(l,m=>xi({name:m,pname:dT(m)}));return jy(m4,cT,u,XN,i)}},g4=(n,r,i)=>({within:n,extra:r,withinWidth:i}),kv=(n,r,i)=>{const l=Vo(n,(p,x)=>((v,_)=>{const S=i(v);return E.some({element:v,start:_,finish:_+S,width:S})})(x,p.len).fold(oe(p),v=>({len:v.finish,list:p.list.concat([v])})),{len:0,list:[]}).list,u=Co(l,p=>p.finish<=r),m=_o(u,(p,x)=>p+x.width,0);return{within:u,extra:l.slice(u.length),withinWidth:m}},Ew=n=>we(n,r=>r.element),f4=(n,r)=>{const i=we(r,l=>Jl(l));du.setGroups(n,i)},ai=(n,r,i)=>{const l=r.builtGroups.get();if(l.length===0)return;const u=Im(n,r,"primary"),m=vr.getCoupled(n,"overflowGroup");ko(u.element,"visibility","hidden");const p=l.concat([m]),x=dn(p,_=>La(_.element).bind(S=>_.getSystem().getByDom(S).toOptional()));i([]),f4(u,p);const v=((_,S,k,A)=>{const M=((j,H,V)=>{const Y=kv(H,j,V);return Y.extra.length===0?E.some(Y):E.none()})(_,S,k).getOrThunk(()=>kv(S,_-k(A),k)),P=M.within,q=M.extra,U=M.withinWidth;return q.length===1&&q[0].width<=k(A)?((j,H,V)=>{const Y=Ew(j.concat(H));return g4(Y,[],V)})(P,q,U):q.length>=1?((j,H,V,Y)=>{const J=Ew(j).concat([V]);return g4(J,Ew(H),Y)})(P,q,A,U):((j,H,V)=>g4(Ew(j),[],V))(P,0,U)})(Bn(u.element),r.builtGroups.get(),_=>Math.ceil(_.element.dom.getBoundingClientRect().width),m);v.extra.length===0?(So.remove(u,m),i([])):(f4(u,v.within),i(v.extra)),mn(u.element,"visibility"),lh(u.element),x.each(ho.focus)},uT=oe([Na("splitToolbarBehaviours",[vr]),ka("builtGroups",()=>Tt([]))]),mT=oe([kc(["overflowToggledClass"]),Br("getOverflowBounds"),ct("lazySink"),ka("overflowGroups",()=>Tt([])),Mo("onOpened"),Mo("onClosed")].concat(uT())),gT=oe([xi({factory:du,schema:e1(),name:"primary"}),Gl({schema:e1(),name:"overflow"}),Gl({name:"overflow-button"}),Gl({name:"overflow-group"})]),JN=oe([ct("items"),kc(["itemSelector"]),Na("tgroupBehaviours",[qt])]),fT=oe([x0({name:"items",unit:"item"})]),Sv=ol({name:"ToolbarGroup",configFields:JN(),partFields:fT(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,behaviours:ri(n.tgroupBehaviours,[qt.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),pT=n=>we(n,r=>Jl(r)),hT=(n,r,i)=>{ai(n,i,l=>{i.overflowGroups.set(l),r.getOpt(n).each(u=>{Ep.setGroups(u,pT(l))})})},bT=ol({name:"SplitFloatingToolbar",configFields:mT(),partFields:gT(),factory:(n,r,i,l)=>{const u=Rn(Ep.sketch({fetch:()=>Xo(m=>{m(pT(n.overflowGroups.get()))}),layouts:{onLtr:()=>[Pr,br],onRtl:()=>[br,Pr],onBottomLtr:()=>[Oa,Da],onBottomRtl:()=>[Da,Oa]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(m,p)=>n[p?"onOpened":"onClosed"](m)}));return{uid:n.uid,dom:n.dom,components:r,behaviours:ri(n.splitToolbarBehaviours,[vr.config({others:{overflowGroup:()=>Sv.sketch({...l["overflow-group"](),items:[u.asSpec()]})}})]),apis:{setGroups:(m,p)=>{n.builtGroups.set(we(p,m.getSystem().build)),hT(m,u,n)},refresh:m=>hT(m,u,n),toggle:m=>{u.getOpt(m).each(p=>{Ep.toggle(p)})},toggleWithoutFocusing:m=>{u.getOpt(m).each(Ep.toggleWithoutFocusing)},isOpen:m=>u.getOpt(m).map(Ep.isOpen).getOr(!1),reposition:m=>{u.getOpt(m).each(p=>{Ep.reposition(p)})},getOverflow:m=>u.getOpt(m).bind(Ep.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},refresh:(n,r)=>{n.refresh(r)},reposition:(n,r)=>{n.reposition(r)},toggle:(n,r)=>{n.toggle(r)},toggleWithoutFocusing:(n,r)=>{n.toggle(r)},isOpen:(n,r)=>n.isOpen(r),getOverflow:(n,r)=>n.getOverflow(r)}}),eM=oe([kc(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Mo("onOpened"),Mo("onClosed")].concat(uT())),xT=oe([xi({factory:du,schema:e1(),name:"primary"}),xi({factory:du,schema:e1(),name:"overflow",overrides:n=>({toolbarBehaviours:ht([wl.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:r=>{qn(r,n,"overflow-button").each(i=>{sn.off(i)}),n.onClosed(r)},onGrown:r=>{n.onOpened(r)},onStartGrow:r=>{qn(r,n,"overflow-button").each(sn.on)}}),qt.config({mode:"acyclic",onEscape:r=>(qn(r,n,"overflow-button").each(ho.focus),E.some(!0))})])})}),Gl({name:"overflow-button",overrides:n=>({buttonBehaviours:ht([sn.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Gl({name:"overflow-group"})]),p4=(n,r,i)=>{qn(n,r,"overflow-button").each(l=>{qn(n,r,"overflow").each(u=>{if(h4(n,r),wl.hasShrunk(u)){const m=r.onOpened;r.onOpened=p=>{i||qt.focusIn(u),m(p),r.onOpened=m}}else{const m=r.onClosed;r.onClosed=p=>{i||ho.focus(l),m(p),r.onClosed=m}}wl.toggleGrow(u)})})},h4=(n,r)=>{qn(n,r,"overflow").each(i=>{ai(n,r,l=>{const u=we(l,m=>Jl(m));du.setGroups(i,u)}),qn(n,r,"overflow-button").each(l=>{wl.hasGrown(i)&&sn.on(l)}),wl.refresh(i)})},Aw=ol({name:"SplitSlidingToolbar",configFields:eM(),partFields:xT(),factory:(n,r,i,l)=>{const u="alloy.toolbar.toggle";return{uid:n.uid,dom:n.dom,components:r,behaviours:ri(n.splitToolbarBehaviours,[vr.config({others:{overflowGroup:m=>Sv.sketch({...l["overflow-group"](),items:[Za.sketch({...l["overflow-button"](),action:p=>{qo(m,u)}})]})}}),co("toolbar-toggle-events",[Ke(u,m=>{p4(m,n,!1)})])]),apis:{setGroups:(m,p)=>{((x,v)=>{const _=we(v,x.getSystem().build);n.builtGroups.set(_)})(m,p),h4(m,n)},refresh:m=>h4(m,n),toggle:m=>{p4(m,n,!1)},toggleWithoutFocusing:m=>{p4(m,n,!0)},isOpen:m=>((p,x)=>qn(p,x,"overflow").map(wl.hasGrown).getOr(!1))(m,n)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},refresh:(n,r)=>{n.refresh(r)},toggle:(n,r)=>{n.toggle(r)},isOpen:(n,r)=>n.isOpen(r)}}),vT=yl({name:"TabButton",configFields:[Me("uid",void 0),ct("value"),hr("dom","dom",s0(()=>({attributes:{role:"tab",id:ke("aria"),"aria-selected":"false"}})),Mi()),Dn("action"),Me("domModification",{}),Na("tabButtonBehaviours",[ho,qt,Lt]),ct("view")],factory:(n,r)=>({uid:n.uid,dom:n.dom,components:n.components,events:Bk(n.action),behaviours:ri(n.tabButtonBehaviours,[ho.config({}),qt.config({mode:"execution",useSpace:!0,useEnter:!0}),Lt.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification})}),yT=oe([ct("tabs"),ct("dom"),Me("clickToDismiss",!1),Na("tabbarBehaviours",[gn,qt]),kc(["tabClass","selectedClass"])]),tM=x0({factory:vT,name:"tabs",unit:"tab",overrides:n=>{const r=(l,u)=>{gn.dehighlight(l,u),Gt(l,m0(),{tabbar:l,button:u})},i=(l,u)=>{gn.highlight(l,u),Gt(l,u0(),{tabbar:l,button:u})};return{action:l=>{const u=l.getSystem().getByUid(n.uid).getOrDie(),m=gn.isHighlighted(u,l);(m&&n.clickToDismiss?r:m?ge:i)(u,l)},domModification:{classes:[n.markers.tabClass]}}}}),oM=oe([tM]),wT=ol({name:"Tabbar",configFields:yT(),partFields:oM(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ri(n.tabbarBehaviours,[gn.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(u,m)=>{ao(m.element,"aria-selected","true")},onDehighlight:(u,m)=>{ao(m.element,"aria-selected","false")}}),qt.config({mode:"flow",getInitial:u=>gn.getHighlighted(u).map(m=>m.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])})}),nM=yl({name:"Tabview",configFields:[Na("tabviewBehaviours",[So])],factory:(n,r)=>({uid:n.uid,dom:n.dom,behaviours:ri(n.tabviewBehaviours,[So.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),_T=oe([Me("selectFirst",!0),Mo("onChangeTab"),Mo("onDismissTab"),Me("tabs",[]),Na("tabSectionBehaviours",[])]),CT=xi({factory:wT,schema:[ct("dom"),ti("markers",[ct("tabClass"),ct("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),Tp=xi({factory:nM,name:"tabview"}),kT=oe([CT,Tp]),i1=ol({name:"TabSection",configFields:_T(),partFields:kT(),factory:(n,r,i,l)=>{const u=(m,p)=>{qn(m,n,"tabbar").each(x=>{p(x).each(Mh)})};return{uid:n.uid,dom:n.dom,components:r,behaviours:lk(n.tabSectionBehaviours),events:Gn(_s([n.selectFirst?[as((m,p)=>{u(m,gn.getFirst)})]:[],[Ke(u0(),(m,p)=>{(x=>{const v=Lt.getValue(x);qn(x,n,"tabview").each(_=>{I(n.tabs,S=>S.value===v).each(S=>{const k=S.view();Kr(x.element,"id").each(A=>{ao(_.element,"aria-labelledby",A)}),So.set(_,k),n.onChangeTab(_,x,k)})})})(p.event.button)}),Ke(m0(),(m,p)=>{const x=p.event.button;n.onDismissTab(m,x)})]])),apis:{getViewItems:m=>qn(m,n,"tabview").map(p=>So.contents(p)).getOr([]),showTab:(m,p)=>{u(m,x=>{const v=gn.getCandidates(x);return I(v,_=>Lt.getValue(_)===p).filter(_=>!gn.isHighlighted(x,_))})}}}},apis:{getViewItems:(n,r)=>n.getViewItems(r),showTab:(n,r,i)=>{n.showTab(r,i)}}}),Ev=(n,r,i)=>{const l=Lt.getValue(i);Lt.setValue(r,l),l1(r)},ST=(n,r)=>{const i=n.element,l=Qr(i),u=i.dom;Eo(i,"type")!=="number"&&r(u,l)},l1=n=>{ST(n,(r,i)=>r.setSelectionRange(i.length,i.length))},b4=oe("alloy.typeahead.itemexecute"),sM=oe([Dn("lazySink"),ct("fetch"),Me("minChars",5),Me("responseTime",1e3),Mo("onOpen"),Me("getHotspot",E.some),Me("getAnchorOverrides",oe({})),Me("layouts",E.none()),Me("eventOrder",{}),r0("model",{},[Me("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),Me("selectsOver",!0),Me("populateFromBrowse",!0)]),Mo("onSetValue"),zi("onExecute"),Mo("onItemExecute"),Me("inputClasses",[]),Me("inputAttributes",{}),Me("inputStyles",{}),Me("matchWidth",!0),Me("useMinWidth",!1),Me("dismissOnBlur",!0),kc(["openClass"]),Dn("initialData"),Dn("listRole"),Na("typeaheadBehaviours",[ho,Lt,Cp,qt,sn,vr]),ka("lazyTypeaheadComp",()=>Tt(E.none)),ka("previewing",()=>Tt(!0))].concat(Yk()).concat(qk())),ET=oe([Gl({schema:[Hu()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(r,i,l)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(u=>{((m,p,x)=>{if(m.selectsOver){const v=Lt.getValue(p),_=m.getDisplayText(v),S=Lt.getValue(x);return m.getDisplayText(S).indexOf(_)===0?E.some(()=>{Ev(0,p,x),((k,A)=>{ST(k,(M,P)=>M.setSelectionRange(A,P.length))})(p,_.length)}):E.none()}return E.none()})(n.model,u,l).fold(()=>{n.model.selectsOver?(gn.dehighlight(i,l),n.previewing.set(!0)):n.previewing.set(!1)},m=>{m(),n.previewing.set(!1)})}):n.lazyTypeaheadComp.get().each(u=>{n.model.populateFromBrowse&&Ev(n.model,u,l),Kr(l.element,"id").each(m=>ao(u.element,"aria-activedescendant",m))})},onExecute:(r,i)=>n.lazyTypeaheadComp.get().map(l=>(Gt(l,b4(),{item:i}),!0)),onHover:(r,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(l=>{n.model.populateFromBrowse&&Ev(n.model,l,i)})}})})]),rM=ol({name:"Typeahead",configFields:sM(),partFields:ET(),factory:(n,r,i,l)=>{const u=(k,A,M)=>{n.previewing.set(!1);const P=vr.getCoupled(k,"sandbox");if(xn.isOpen(P))bn.getCurrent(P).each(q=>{gn.getHighlighted(q).fold(()=>{M(q)},()=>{Ph(P,q.element,"keydown",A)})});else{const q=U=>{bn.getCurrent(U).each(M)};gw(n,p(k),k,P,l,q,Js.HighlightMenuAndItem).get(ge)}},m=F5(n),p=k=>A=>A.map(M=>{const P=Ar(M.menus),q=Io(P,U=>Co(U.items,j=>j.type==="item"));return Lt.getState(k).update(we(q,U=>U.data)),M}),x=k=>bn.getCurrent(k),v="typeaheadevents",_=[ho.config({}),Lt.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:k=>Qr(k.element),getFallbackEntry:k=>({value:k,meta:{}}),setValue:(k,A)=>{Yd(k.element,n.model.getDisplayText(A))},...n.initialData.map(k=>Hg("initialValue",k)).getOr({})}}),Cp.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(k,A)=>{const M=vr.getCoupled(k,"sandbox");if(ho.isFocused(k)&&Qr(k.element).length>=n.minChars){const P=x(M).bind(U=>gn.getHighlighted(U).map(Lt.getValue));n.previewing.set(!0);const q=U=>{x(M).each(j=>{P.fold(()=>{n.model.selectsOver&&gn.highlightFirst(j)},H=>{gn.highlightBy(j,V=>Lt.getValue(V).value===H.value),gn.getHighlighted(j).orThunk(()=>(gn.highlightFirst(j),E.none()))})})};gw(n,p(k),k,M,l,q,Js.HighlightJustMenu).get(ge)}},cancelEvent:dx()}),qt.config({mode:"special",onDown:(k,A)=>(u(k,A,gn.highlightFirst),E.some(!0)),onEscape:k=>{const A=vr.getCoupled(k,"sandbox");return xn.isOpen(A)?(xn.close(A),E.some(!0)):E.none()},onUp:(k,A)=>(u(k,A,gn.highlightLast),E.some(!0)),onEnter:k=>{const A=vr.getCoupled(k,"sandbox"),M=xn.isOpen(A);if(M&&!n.previewing.get())return x(A).bind(P=>gn.getHighlighted(P)).map(P=>(Gt(k,b4(),{item:P}),!0));{const P=Lt.getValue(k);return qo(k,dx()),n.onExecute(A,k,P),M&&xn.close(A),E.some(!0)}}}),sn.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),vr.config({others:{sandbox:k=>Qh(n,k,{onOpen:()=>sn.on(k),onClose:()=>{n.lazyTypeaheadComp.get().each(A=>Us(A.element,"aria-activedescendant")),sn.off(k)}})}}),co(v,[as(k=>{n.lazyTypeaheadComp.set(E.some(k))}),Tc(k=>{n.lazyTypeaheadComp.set(E.none())}),Dc(k=>{const A=ge;T5(n,p(k),k,l,A,Js.HighlightMenuAndItem).get(ge)}),Ke(b4(),(k,A)=>{const M=vr.getCoupled(k,"sandbox");Ev(n.model,k,A.event.item),qo(k,dx()),n.onItemExecute(k,M,A.event.item,Lt.getValue(k)),xn.close(M),l1(k)})].concat(n.dismissOnBlur?[Ke(Fu(),k=>{const A=vr.getCoupled(k,"sandbox");La(A.element).isNone()&&xn.close(A)})]:[]))],S={[tu()]:[Lt.name(),Cp.name(),v],...n.eventOrder};return{uid:n.uid,dom:Xk(bs(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...m,...ri(n.typeaheadBehaviours,_)},eventOrder:S}}});var Lc,Av,AT=tinymce.util.Tools.resolve("tinymce.ThemeManager"),nb=tinymce.util.Tools.resolve("tinymce.util.Delay"),c1=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),aM=tinymce.util.Tools.resolve("tinymce.EditorManager"),Od=tinymce.util.Tools.resolve("tinymce.Env");(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(Lc||(Lc={})),function(n){n.auto="auto",n.top="top",n.bottom="bottom"}(Av||(Av={}));const Yn=n=>r=>r.options.get(n),sb=n=>r=>E.from(n(r)),TT=n=>{const r=Od.deviceType.isPhone(),i=Od.deviceType.isTablet()||r,l=n.options.register,u=p=>De(p)||p===!1,m=p=>De(p)||zt(p);l("skin",{processor:p=>De(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:m,default:Math.max(n.getElement().offsetHeight,400)}),l("width",{processor:m,default:c1.DOM.getStyle(n.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>De(p)||Ot(p),default:!r}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>Ot(p)||De(p)||Qe(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Ei(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:Av.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:n.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:u,default:"#top"}),l("anchor_bottom",{processor:u,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||Ot(p),default:!Od.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},DT=Yn("readonly"),Dp=Yn("disabled"),d1=Yn("height"),Tw=Yn("width"),Tv=sb(Yn("min_width")),ig=sb(Yn("min_height")),Ju=sb(Yn("max_width")),x4=sb(Yn("max_height")),OT=sb(Yn("style_formats")),v4=Yn("style_formats_merge"),lg=Yn("style_formats_autohide"),Dw=Yn("content_langs"),RT=Yn("removed_menuitems"),Op=Yn("toolbar_mode"),y4=Yn("toolbar_groups"),Ow=Yn("toolbar_location"),w4=Yn("fixed_toolbar_container"),NT=Yn("fixed_toolbar_container_target"),MT=Yn("toolbar_persist"),BT=Yn("toolbar_sticky_offset"),PT=Yn("menubar"),u1=Yn("toolbar"),Rw=Yn("file_picker_callback"),Dv=Yn("file_picker_validator_handler"),_4=Yn("font_size_input_default_unit"),IT=Yn("file_picker_types"),C4=Yn("typeahead_urls"),k4=Yn("anchor_top"),S4=Yn("anchor_bottom"),E4=Yn("draggable_modal"),LT=Yn("statusbar"),Nw=Yn("elementpath"),A4=Yn("branding"),FT=Yn("resize"),zT=Yn("paste_as_text"),HT=Yn("sidebar_show"),T4=Yn("promotion"),VT=Yn("help_accessibility"),$T=Yn("default_font_stack"),D4=Yn("skin"),m1=n=>n.options.get("skin")===!1,Mw=n=>n.options.get("menubar")!==!1,rb=n=>{const r=n.options.get("skin_url");if(m1(n))return r;if(r)return n.documentBaseURI.toAbsolute(r);{const i=n.options.get("skin");return aM.baseURL+"/skins/ui/"+i}},Bw=n=>n.options.get("line_height_formats").split(" "),Ov=n=>{const r=u1(n),i=De(r),l=Qe(r)&&r.length>0;return!Rv(n)&&(l||i||r===!0)},Pw=n=>{const r=Ei(9,l=>n.options.get("toolbar"+(l+1))),i=Co(r,De);return Hs(i.length>0,i)},Rv=n=>Pw(n).fold(()=>{const r=u1(n);return vt(r,De)&&r.length>0},no),O4=n=>Ow(n)===Av.bottom,R4=n=>{var r;if(!n.inline)return E.none();const i=(r=w4(n))!==null&&r!==void 0?r:"";if(i.length>0)return ss(ar(),i);const l=NT(n);return Ae(l)?E.some(Pt(l)):E.none()},ab=n=>n.inline&&R4(n).isSome(),Iw=n=>R4(n).getOrThunk(()=>Og(Gr(Pt(n.getElement())))),N4=n=>n.inline&&!Mw(n)&&!Ov(n)&&!Rv(n),ib=n=>(n.options.get("toolbar_sticky")||n.inline)&&!ab(n)&&!N4(n),_f=n=>!ab(n)&&n.options.get("ui_mode")==="split",Nv=n=>{const r=n.options.get("menu");return Rs(r,i=>({...i,items:i.items}))};var M4=Object.freeze({__proto__:null,get ToolbarMode(){return Lc},get ToolbarLocation(){return Av},register:TT,getSkinUrl:rb,getSkinUrlOption:n=>E.from(n.options.get("skin_url")),isReadOnly:DT,isDisabled:Dp,getSkin:D4,isSkinDisabled:m1,getHeightOption:d1,getWidthOption:Tw,getMinWidthOption:Tv,getMinHeightOption:ig,getMaxWidthOption:Ju,getMaxHeightOption:x4,getUserStyleFormats:OT,shouldMergeStyleFormats:v4,shouldAutoHideStyleFormats:lg,getLineHeightFormats:Bw,getContentLanguages:Dw,getRemovedMenuItems:RT,isMenubarEnabled:Mw,isMultipleToolbars:Rv,isToolbarEnabled:Ov,isToolbarPersist:MT,getMultipleToolbarsOption:Pw,getUiContainer:Iw,useFixedContainer:ab,isSplitUiMode:_f,getToolbarMode:Op,isDraggableModal:E4,isDistractionFree:N4,isStickyToolbar:ib,getStickyToolbarOffset:BT,getToolbarLocation:Ow,isToolbarLocationBottom:O4,getToolbarGroups:y4,getMenus:Nv,getMenubar:PT,getToolbar:u1,getFilePickerCallback:Rw,getFilePickerTypes:IT,useTypeaheadUrls:C4,getAnchorTop:k4,getAnchorBottom:S4,getFilePickerValidatorHandler:Dv,getFontSizeInputDefaultUnit:_4,useStatusBar:LT,useElementPath:Nw,promotionEnabled:T4,useBranding:A4,getResize:FT,getPasteAsText:zT,getSidebarShow:HT,useHelpAccessibility:VT,getDefaultFontStack:$T});const B4=["visible","hidden","clip"],UT=n=>Eu(n).length>0&&!dt(B4,n),ZT=n=>{if(jn(n)){const r=Fa(n,"overflow-x"),i=Fa(n,"overflow-y");return UT(r)||UT(i)}return!1},jT=n=>n.plugins.fullscreen&&n.plugins.fullscreen.isFullscreen(),Rp=(n,r)=>_f(n)?((i,l)=>{const u=Xd(l,ZT),m=u.length===0?hm(l).map(ed).map(p=>Xd(p,ZT)).getOr([]):u;return _t(m).map(p=>({element:p,others:m.slice(1),isFullscreen:()=>jT(i)}))})(n,r):E.none(),Np=n=>{const r=[...we(n.others,fr),Zs()];return n.isFullscreen()?Zs():((i,l)=>Vo(l,(u,m)=>gh(u,m),i))(fr(n.element),r)},{entries:P4,setPrototypeOf:WT,isFrozen:iM,getPrototypeOf:lM,getOwnPropertyDescriptor:cM}=Object;let{freeze:sc,seal:mu,create:I4}=Object,{apply:L4,construct:F4}=typeof Reflect<"u"&&Reflect;sc||(sc=function(n){return n}),mu||(mu=function(n){return n}),L4||(L4=function(n,r,i){return n.apply(r,i)}),F4||(F4=function(n,r){return new n(...r)});const Lw=kl(Array.prototype.forEach),dM=kl(Array.prototype.lastIndexOf),qT=kl(Array.prototype.pop),gu=kl(Array.prototype.push),uM=kl(Array.prototype.splice),Fw=kl(String.prototype.toLowerCase),Cf=kl(String.prototype.toString),z4=kl(String.prototype.match),Mv=kl(String.prototype.replace),Mp=kl(String.prototype.indexOf),mM=kl(String.prototype.trim),em=kl(Object.prototype.hasOwnProperty),yr=kl(RegExp.prototype.test),lb=(H4=TypeError,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return F4(H4,r)});var H4;function kl(n){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return L4(n,r,l)}}function ms(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fw;WT&&WT(n,null);let l=r.length;for(;l--;){let u=r[l];if(typeof u=="string"){const m=i(u);m!==u&&(iM(r)||(r[l]=m),u=m)}n[u]=!0}return n}function zw(n){for(let r=0;r<n.length;r++)em(n,r)||(n[r]=null);return n}function cg(n){const r=I4(null);for(const[i,l]of P4(n))em(n,i)&&(Array.isArray(l)?r[i]=zw(l):l&&typeof l=="object"&&l.constructor===Object?r[i]=cg(l):r[i]=l);return r}function Bv(n,r){for(;n!==null;){const i=cM(n,r);if(i){if(i.get)return kl(i.get);if(typeof i.value=="function")return kl(i.value)}n=lM(n)}return function(){return null}}const GT=sc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),cb=sc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Pv=sc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),KT=sc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Hw=sc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),YT=sc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),XT=sc(["#text"]),Vw=sc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$w=sc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),QT=sc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Uw=sc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),gM=mu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),V4=mu(/<%[\w\W]*|[\w\W]*%>/gm),fM=mu(/\$\{[\w\W]*/gm),Iv=mu(/^data-[\-\w.\u00B7-\uFFFF]+$/),Zw=mu(/^aria-[\-\w]+$/),$4=mu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JT=mu(/^(?:\w+script|data):/i),pM=mu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),e6=mu(/^html$/i),hM=mu(/^[a-z][.\w]*(-[.\w]+)+$/i);var t6=Object.freeze({__proto__:null,ARIA_ATTR:Zw,ATTR_WHITESPACE:pM,CUSTOM_ELEMENT:hM,DATA_ATTR:Iv,DOCTYPE_NAME:e6,ERB_EXPR:V4,IS_ALLOWED_URI:$4,IS_SCRIPT_OR_DATA:JT,MUSTACHE_EXPR:gM,TMPLIT_EXPR:fM});const U4=function(){return typeof window>"u"?null:window};var o6=function n(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U4();const i=Oe=>n(Oe);if(i.version="3.2.6",i.removed=[],!r||!r.document||r.document.nodeType!==9||!r.Element)return i.isSupported=!1,i;let{document:l}=r;const u=l,m=u.currentScript,{DocumentFragment:p,HTMLTemplateElement:x,Node:v,Element:_,NodeFilter:S,NamedNodeMap:k=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:A,DOMParser:M,trustedTypes:P}=r,q=_.prototype,U=Bv(q,"cloneNode"),j=Bv(q,"remove"),H=Bv(q,"nextSibling"),V=Bv(q,"childNodes"),Y=Bv(q,"parentNode");if(typeof x=="function"){const Oe=l.createElement("template");Oe.content&&Oe.content.ownerDocument&&(l=Oe.content.ownerDocument)}let J,de="";const{implementation:ce,createNodeIterator:pe,createDocumentFragment:Te,getElementsByTagName:Ve}=l,{importNode:$e}=u;let je={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};i.isSupported=typeof P4=="function"&&typeof Y=="function"&&ce&&ce.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:it,ERB_EXPR:Wt,TMPLIT_EXPR:Jt,DATA_ATTR:oo,ARIA_ATTR:Bo,IS_SCRIPT_OR_DATA:En,ATTR_WHITESPACE:Xn,CUSTOM_ELEMENT:so}=t6;let{IS_ALLOWED_URI:Ln}=t6,fo=null;const ps=ms({},[...GT,...cb,...Pv,...Hw,...XT]);let _n=null;const ia=ms({},[...Vw,...$w,...QT,...Uw]);let is=Object.seal(I4(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Al=null,ii=null,Ui=!0,Rf=!0,Bb=!1,lC=!0,im=!1,P1=!0,bg=!1,I1=!1,L1=!1,Nf=!1,Gp=!1,F1=!1,Pb=!0,R2=!1,Ib=!0,Kp=!1,fn={},Hc=null;const _i=ms({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let u7=null;const Lb=ms({},["audio","video","img","source","image","track"]);let CE=null;const cC=ms({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dC="http://www.w3.org/1998/Math/MathML",uC="http://www.w3.org/2000/svg",Mf="http://www.w3.org/1999/xhtml";let z1=Mf,kE=!1,N2=null;const SE=ms({},[dC,uC,Mf],Cf);let Fb=ms({},["mi","mo","mn","ms","mtext"]),mC=ms({},["annotation-xml"]);const Vc=ms({},["title","style","font","a","script"]);let M2=null;const yI=["application/xhtml+xml","text/html"];let Ci=null,H1=null;const wI=l.createElement("form"),m7=function(Oe){return Oe instanceof RegExp||Oe instanceof Function},EE=function(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!H1||H1!==Oe){if(Oe&&typeof Oe=="object"||(Oe={}),Oe=cg(Oe),M2=yI.indexOf(Oe.PARSER_MEDIA_TYPE)===-1?"text/html":Oe.PARSER_MEDIA_TYPE,Ci=M2==="application/xhtml+xml"?Cf:Fw,fo=em(Oe,"ALLOWED_TAGS")?ms({},Oe.ALLOWED_TAGS,Ci):ps,_n=em(Oe,"ALLOWED_ATTR")?ms({},Oe.ALLOWED_ATTR,Ci):ia,N2=em(Oe,"ALLOWED_NAMESPACES")?ms({},Oe.ALLOWED_NAMESPACES,Cf):SE,CE=em(Oe,"ADD_URI_SAFE_ATTR")?ms(cg(cC),Oe.ADD_URI_SAFE_ATTR,Ci):cC,u7=em(Oe,"ADD_DATA_URI_TAGS")?ms(cg(Lb),Oe.ADD_DATA_URI_TAGS,Ci):Lb,Hc=em(Oe,"FORBID_CONTENTS")?ms({},Oe.FORBID_CONTENTS,Ci):_i,Al=em(Oe,"FORBID_TAGS")?ms({},Oe.FORBID_TAGS,Ci):cg({}),ii=em(Oe,"FORBID_ATTR")?ms({},Oe.FORBID_ATTR,Ci):cg({}),fn=!!em(Oe,"USE_PROFILES")&&Oe.USE_PROFILES,Ui=Oe.ALLOW_ARIA_ATTR!==!1,Rf=Oe.ALLOW_DATA_ATTR!==!1,Bb=Oe.ALLOW_UNKNOWN_PROTOCOLS||!1,lC=Oe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,im=Oe.SAFE_FOR_TEMPLATES||!1,P1=Oe.SAFE_FOR_XML!==!1,bg=Oe.WHOLE_DOCUMENT||!1,Nf=Oe.RETURN_DOM||!1,Gp=Oe.RETURN_DOM_FRAGMENT||!1,F1=Oe.RETURN_TRUSTED_TYPE||!1,L1=Oe.FORCE_BODY||!1,Pb=Oe.SANITIZE_DOM!==!1,R2=Oe.SANITIZE_NAMED_PROPS||!1,Ib=Oe.KEEP_CONTENT!==!1,Kp=Oe.IN_PLACE||!1,Ln=Oe.ALLOWED_URI_REGEXP||$4,z1=Oe.NAMESPACE||Mf,Fb=Oe.MATHML_TEXT_INTEGRATION_POINTS||Fb,mC=Oe.HTML_INTEGRATION_POINTS||mC,is=Oe.CUSTOM_ELEMENT_HANDLING||{},Oe.CUSTOM_ELEMENT_HANDLING&&m7(Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(is.tagNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&m7(Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(is.attributeNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&typeof Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(is.allowCustomizedBuiltInElements=Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),im&&(Rf=!1),Gp&&(Nf=!0),fn&&(fo=ms({},XT),_n=[],fn.html===!0&&(ms(fo,GT),ms(_n,Vw)),fn.svg===!0&&(ms(fo,cb),ms(_n,$w),ms(_n,Uw)),fn.svgFilters===!0&&(ms(fo,Pv),ms(_n,$w),ms(_n,Uw)),fn.mathMl===!0&&(ms(fo,Hw),ms(_n,QT),ms(_n,Uw))),Oe.ADD_TAGS&&(fo===ps&&(fo=cg(fo)),ms(fo,Oe.ADD_TAGS,Ci)),Oe.ADD_ATTR&&(_n===ia&&(_n=cg(_n)),ms(_n,Oe.ADD_ATTR,Ci)),Oe.ADD_URI_SAFE_ATTR&&ms(CE,Oe.ADD_URI_SAFE_ATTR,Ci),Oe.FORBID_CONTENTS&&(Hc===_i&&(Hc=cg(Hc)),ms(Hc,Oe.FORBID_CONTENTS,Ci)),Ib&&(fo["#text"]=!0),bg&&ms(fo,["html","head","body"]),fo.table&&(ms(fo,["tbody"]),delete Al.tbody),Oe.TRUSTED_TYPES_POLICY){if(typeof Oe.TRUSTED_TYPES_POLICY.createHTML!="function")throw lb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Oe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw lb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');J=Oe.TRUSTED_TYPES_POLICY,de=J.createHTML("")}else J===void 0&&(J=function(Po,bo){if(typeof Po!="object"||typeof Po.createPolicy!="function")return null;let ws=null;const Gs="data-tt-policy-suffix";bo&&bo.hasAttribute(Gs)&&(ws=bo.getAttribute(Gs));const $n="dompurify"+(ws?"#"+ws:"");try{return Po.createPolicy($n,{createHTML:ki=>ki,createScriptURL:ki=>ki})}catch{return console.warn("TrustedTypes policy "+$n+" could not be created."),null}}(P,m)),J!==null&&typeof de=="string"&&(de=J.createHTML(""));sc&&sc(Oe),H1=Oe}},g7=ms({},[...cb,...Pv,...KT]),f7=ms({},[...Hw,...YT]),xg=function(Oe){gu(i.removed,{element:Oe});try{Y(Oe).removeChild(Oe)}catch{j(Oe)}},zb=function(Oe,Po){try{gu(i.removed,{attribute:Po.getAttributeNode(Oe),from:Po})}catch{gu(i.removed,{attribute:null,from:Po})}if(Po.removeAttribute(Oe),Oe==="is")if(Nf||Gp)try{xg(Po)}catch{}else try{Po.setAttribute(Oe,"")}catch{}},AE=function(Oe){let Po=null,bo=null;if(L1)Oe="<remove></remove>"+Oe;else{const $n=z4(Oe,/^[\r\n\t ]+/);bo=$n&&$n[0]}M2==="application/xhtml+xml"&&z1===Mf&&(Oe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Oe+"</body></html>");const ws=J?J.createHTML(Oe):Oe;if(z1===Mf)try{Po=new M().parseFromString(ws,M2)}catch{}if(!Po||!Po.documentElement){Po=ce.createDocument(z1,"template",null);try{Po.documentElement.innerHTML=kE?de:ws}catch{}}const Gs=Po.body||Po.documentElement;return Oe&&bo&&Gs.insertBefore(l.createTextNode(bo),Gs.childNodes[0]||null),z1===Mf?Ve.call(Po,bg?"html":"body")[0]:bg?Po.documentElement:Gs},p7=function(Oe){return pe.call(Oe.ownerDocument||Oe,Oe,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT|S.SHOW_PROCESSING_INSTRUCTION|S.SHOW_CDATA_SECTION,null)},TE=function(Oe){return Oe instanceof A&&(typeof Oe.nodeName!="string"||typeof Oe.textContent!="string"||typeof Oe.removeChild!="function"||!(Oe.attributes instanceof k)||typeof Oe.removeAttribute!="function"||typeof Oe.setAttribute!="function"||typeof Oe.namespaceURI!="string"||typeof Oe.insertBefore!="function"||typeof Oe.hasChildNodes!="function")},h7=function(Oe){return typeof v=="function"&&Oe instanceof v};function vg(Oe,Po,bo){Lw(Oe,ws=>{ws.call(i,Po,bo,H1)})}const gC=function(Oe){let Po=null;if(vg(je.beforeSanitizeElements,Oe,null),TE(Oe))return xg(Oe),!0;const bo=Ci(Oe.nodeName);if(vg(je.uponSanitizeElement,Oe,{tagName:bo,allowedTags:fo}),P1&&Oe.hasChildNodes()&&!h7(Oe.firstElementChild)&&yr(/<[/\w!]/g,Oe.innerHTML)&&yr(/<[/\w!]/g,Oe.textContent)||Oe.nodeType===7||P1&&Oe.nodeType===8&&yr(/<[/\w]/g,Oe.data))return xg(Oe),!0;if(!fo[bo]||Al[bo]){if(!Al[bo]&&b7(bo)&&(is.tagNameCheck instanceof RegExp&&yr(is.tagNameCheck,bo)||is.tagNameCheck instanceof Function&&is.tagNameCheck(bo)))return!1;if(Ib&&!Hc[bo]){const ws=Y(Oe)||Oe.parentNode,Gs=V(Oe)||Oe.childNodes;if(Gs&&ws)for(let $n=Gs.length-1;$n>=0;--$n){const ki=U(Gs[$n],!0);ki.__removalCount=(Oe.__removalCount||0)+1,ws.insertBefore(ki,H(Oe))}}return xg(Oe),!0}return Oe instanceof _&&!function(ws){let Gs=Y(ws);Gs&&Gs.tagName||(Gs={namespaceURI:z1,tagName:"template"});const $n=Fw(ws.tagName),ki=Fw(Gs.tagName);return!!N2[ws.namespaceURI]&&(ws.namespaceURI===uC?Gs.namespaceURI===Mf?$n==="svg":Gs.namespaceURI===dC?$n==="svg"&&(ki==="annotation-xml"||Fb[ki]):!!g7[$n]:ws.namespaceURI===dC?Gs.namespaceURI===Mf?$n==="math":Gs.namespaceURI===uC?$n==="math"&&mC[ki]:!!f7[$n]:ws.namespaceURI===Mf?!(Gs.namespaceURI===uC&&!mC[ki])&&!(Gs.namespaceURI===dC&&!Fb[ki])&&!f7[$n]&&(Vc[$n]||!g7[$n]):!(M2!=="application/xhtml+xml"||!N2[ws.namespaceURI]))}(Oe)?(xg(Oe),!0):bo!=="noscript"&&bo!=="noembed"&&bo!=="noframes"||!yr(/<\/no(script|embed|frames)/i,Oe.innerHTML)?(im&&Oe.nodeType===3&&(Po=Oe.textContent,Lw([it,Wt,Jt],ws=>{Po=Mv(Po,ws," ")}),Oe.textContent!==Po&&(gu(i.removed,{element:Oe.cloneNode()}),Oe.textContent=Po)),vg(je.afterSanitizeElements,Oe,null),!1):(xg(Oe),!0)},fC=function(Oe,Po,bo){if(Pb&&(Po==="id"||Po==="name")&&(bo in l||bo in wI))return!1;if(!(Rf&&!ii[Po]&&yr(oo,Po))){if(!(Ui&&yr(Bo,Po))){if(!_n[Po]||ii[Po]){if(!(b7(Oe)&&(is.tagNameCheck instanceof RegExp&&yr(is.tagNameCheck,Oe)||is.tagNameCheck instanceof Function&&is.tagNameCheck(Oe))&&(is.attributeNameCheck instanceof RegExp&&yr(is.attributeNameCheck,Po)||is.attributeNameCheck instanceof Function&&is.attributeNameCheck(Po))||Po==="is"&&is.allowCustomizedBuiltInElements&&(is.tagNameCheck instanceof RegExp&&yr(is.tagNameCheck,bo)||is.tagNameCheck instanceof Function&&is.tagNameCheck(bo))))return!1}else if(!CE[Po]){if(!yr(Ln,Mv(bo,Xn,""))){if((Po!=="src"&&Po!=="xlink:href"&&Po!=="href"||Oe==="script"||Mp(bo,"data:")!==0||!u7[Oe])&&!(Bb&&!yr(En,Mv(bo,Xn,"")))){if(bo)return!1}}}}}return!0},b7=function(Oe){return Oe!=="annotation-xml"&&z4(Oe,so)},pC=function(Oe){vg(je.beforeSanitizeAttributes,Oe,null);const{attributes:Po}=Oe;if(!Po||TE(Oe))return;const bo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_n,forceKeepAttr:void 0};let ws=Po.length;for(;ws--;){const Gs=Po[ws],{name:$n,namespaceURI:ki,value:Yp}=Gs,lm=Ci($n),hC=Yp;let Zi=$n==="value"?hC:mM(hC);if(bo.attrName=lm,bo.attrValue=Zi,bo.keepAttr=!0,bo.forceKeepAttr=void 0,vg(je.uponSanitizeAttribute,Oe,bo),Zi=bo.attrValue,!R2||lm!=="id"&&lm!=="name"||(zb($n,Oe),Zi="user-content-"+Zi),P1&&yr(/((--!?|])>)|<\/(style|title)/i,Zi)){zb($n,Oe);continue}if(bo.forceKeepAttr)continue;if(!bo.keepAttr){zb($n,Oe);continue}if(!lC&&yr(/\/>/i,Zi)){zb($n,Oe);continue}im&&Lw([it,Wt,Jt],ji=>{Zi=Mv(Zi,ji," ")});const DE=Ci(Oe.nodeName);if(fC(DE,lm,Zi)){if(J&&typeof P=="object"&&typeof P.getAttributeType=="function"&&!ki)switch(P.getAttributeType(DE,lm)){case"TrustedHTML":Zi=J.createHTML(Zi);break;case"TrustedScriptURL":Zi=J.createScriptURL(Zi)}if(Zi!==hC)try{ki?Oe.setAttributeNS(ki,$n,Zi):Oe.setAttribute($n,Zi),TE(Oe)?xg(Oe):qT(i.removed)}catch{zb($n,Oe)}}else zb($n,Oe)}vg(je.afterSanitizeAttributes,Oe,null)},Hb=function Oe(Po){let bo=null;const ws=p7(Po);for(vg(je.beforeSanitizeShadowDOM,Po,null);bo=ws.nextNode();)vg(je.uponSanitizeShadowNode,bo,null),gC(bo),pC(bo),bo.content instanceof p&&Oe(bo.content);vg(je.afterSanitizeShadowDOM,Po,null)};return i.sanitize=function(Oe){let Po=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bo=null,ws=null,Gs=null,$n=null;if(kE=!Oe,kE&&(Oe="<!-->"),typeof Oe!="string"&&!h7(Oe)){if(typeof Oe.toString!="function")throw lb("toString is not a function");if(typeof(Oe=Oe.toString())!="string")throw lb("dirty is not a string, aborting")}if(!i.isSupported)return Oe;if(I1||EE(Po),i.removed=[],typeof Oe=="string"&&(Kp=!1),Kp){if(Oe.nodeName){const lm=Ci(Oe.nodeName);if(!fo[lm]||Al[lm])throw lb("root node is forbidden and cannot be sanitized in-place")}}else if(Oe instanceof v)bo=AE("<!---->"),ws=bo.ownerDocument.importNode(Oe,!0),ws.nodeType===1&&ws.nodeName==="BODY"||ws.nodeName==="HTML"?bo=ws:bo.appendChild(ws);else{if(!Nf&&!im&&!bg&&Oe.indexOf("<")===-1)return J&&F1?J.createHTML(Oe):Oe;if(bo=AE(Oe),!bo)return Nf?null:F1?de:""}bo&&L1&&xg(bo.firstChild);const ki=p7(Kp?Oe:bo);for(;Gs=ki.nextNode();)gC(Gs),pC(Gs),Gs.content instanceof p&&Hb(Gs.content);if(Kp)return Oe;if(Nf){if(Gp)for($n=Te.call(bo.ownerDocument);bo.firstChild;)$n.appendChild(bo.firstChild);else $n=bo;return(_n.shadowroot||_n.shadowrootmode)&&($n=$e.call(u,$n,!0)),$n}let Yp=bg?bo.outerHTML:bo.innerHTML;return bg&&fo["!doctype"]&&bo.ownerDocument&&bo.ownerDocument.doctype&&bo.ownerDocument.doctype.name&&yr(e6,bo.ownerDocument.doctype.name)&&(Yp="<!DOCTYPE "+bo.ownerDocument.doctype.name+`>
`+Yp),im&&Lw([it,Wt,Jt],lm=>{Yp=Mv(Yp,lm," ")}),J&&F1?J.createHTML(Yp):Yp},i.setConfig=function(){EE(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),I1=!0},i.clearConfig=function(){H1=null,I1=!1},i.isValidAttribute=function(Oe,Po,bo){H1||EE({});const ws=Ci(Oe),Gs=Ci(Po);return fC(ws,Gs,bo)},i.addHook=function(Oe,Po){typeof Po=="function"&&gu(je[Oe],Po)},i.removeHook=function(Oe,Po){if(Po!==void 0){const bo=dM(je[Oe],Po);return bo===-1?void 0:uM(je[Oe],bo,1)[0]}return qT(je[Oe])},i.removeHooks=function(Oe){je[Oe]=[]},i.removeAllHooks=function(){je={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},i}();const Z4=n=>o6().sanitize(n);var Wa=tinymce.util.Tools.resolve("tinymce.util.I18n");const bM={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},j4="temporary-placeholder",W4=n=>()=>Qt(n,j4).getOr("!not found!"),q4=(n,r)=>{const i=n.toLowerCase();if(Wa.isRtl()){const l=((u,m)=>zd(u,m)?u:((p,x)=>p+x)(u,m))(i,"-rtl");return nn(r,l)?l:i}return i},n6=(n,r)=>Qt(r,q4(n,r)),G4=(n,r)=>{const i=r();return n6(n,i).getOrThunk(W4(i))},s6=()=>co("add-focusable",[as(n=>{pc(n.element,"svg").each(r=>ao(r,"focusable","false"))})]),r6=(n,r,i,l)=>{var u,m,p;const x=(_=>!!Wa.isRtl()&&nn(bM,_))(r)?["tox-icon--flip"]:[],v=Qt(i,q4(r,i)).or(l).getOrThunk(W4(i));return{dom:{tag:n.tag,attributes:(u=n.attributes)!==null&&u!==void 0?u:{},classes:n.classes.concat(x),innerHtml:v},behaviours:ht([...(m=n.behaviours)!==null&&m!==void 0?m:[],s6()]),eventOrder:(p=n.eventOrder)!==null&&p!==void 0?p:{}}},Sl=(n,r,i,l=E.none())=>r6(r,n,i(),l),a6={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},jw=yl({name:"Notification",factory:n=>{const r=ke("notification-text"),i=Rn({dom:ff(`<p id=${r}>${Z4(n.backstageProvider.translate(n.text))}</p>`),behaviours:ht([So.config({})])}),l=k=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${k}%`}}}),u=k=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${k}%`}}),m=Rn({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},u(0)],behaviours:ht([So.config({})])}),p={updateProgress:(k,A)=>{k.getSystem().isConnected()&&m.getOpt(k).each(M=>{So.set(M,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(A)]},u(A)])})},updateText:(k,A)=>{if(k.getSystem().isConnected()){const M=i.get(k);So.set(M,[As(A)])}}},x=_s([n.icon.toArray(),[n.level],E.from(a6[n.level]).toArray()]),v=Rn(Za.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[Sl("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:ht([cn.config({}),fs.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:k=>{n.onAction(k)}})),_=((k,A,M)=>{const P=M(),q=I(k,U=>nn(P,q4(U,P)));return r6({tag:"div",classes:["tox-notification__icon"]},q.getOr(j4),P,E.none())})(x,0,n.iconProvider),S=[_,{dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:ht([So.config({})])}];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":r},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},behaviours:ht([cn.config({}),ho.config({}),qt.config({mode:"special",onEscape:k=>(n.onAction(k),E.some(!0))})]),components:S.concat(n.progress?[m.asSpec()]:[]).concat([v.asSpec()]),apis:p}},configFields:[Fi("level","info",["success","error","warning","warn","info"]),ct("progress"),Dn("icon"),ct("onAction"),ct("text"),ct("iconProvider"),ct("backstageProvider")],apis:{updateProgress:(n,r,i)=>{n.updateProgress(r,i)},updateText:(n,r,i)=>{n.updateText(r,i)}}});var xM=(n,r,i,l)=>{const u=r.backstage.shared,m=()=>Pt(n.queryCommandValue("ToggleView")===""?n.getContentAreaContainer():n.getContainer()),p=()=>{const v=fr(m());return E.some(v)},x=v=>{p().each(_=>{pt(v,S=>{mn(S.element,"width"),Bn(S.element)>_.width&&ko(S.element,"width",_.width+"px")})})};return{open:(v,_,S)=>{const k=()=>{l.on(P=>{_();const q=S();(U=>{So.remove(U,A),M()})(P),((U,j)=>{dl(U.element).length===0?((H,V)=>{Bs.hide(H),l.clear(),V&&n.focus()})(U,j):((H,V)=>{V&&qt.focusIn(H)})(U,j)})(P,q)})},A=$a(jw.sketch({text:v.text,level:dt(["success","error","warning","warn","info"],v.type)?v.type:void 0,progress:v.progressBar===!0,icon:v.icon,onAction:k,iconProvider:u.providers.icons,backstageProvider:u.providers}));if(l.isSet()){const P=Jl(A);l.on(q=>{So.append(q,P),Bs.reposition(q),A.hasConfigured(Ms)&&Ms.refresh(q),x(q.components())})}else{const P=$a(Bs.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ht([qt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),So.config({}),...ib(n)&&u.header.isPositionedAtTop()?[]:[Ms.config({contextual:{lazyContext:()=>E.some(fr(m())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:H=>Rp(n,H.element).map(V=>({bounds:Np(V),optScrollEnv:E.some({currentScrollTop:V.element.dom.scrollTop,scrollElmTop:Rr(V.element).top})})).getOrThunk(()=>({bounds:Zs(),optScrollEnv:E.none()}))})]])})),q=Jl(A),U={maxHeightFunction:Xg()},j={...u.anchors.banner(),overrides:U};l.set(P),i.add(P),Bs.showWithinBounds(P,q,{anchor:j},p)}zt(v.timeout)&&v.timeout>0&&nb.setEditorTimeout(n,()=>{k()},v.timeout);const M=()=>{l.on(P=>{Bs.reposition(P),P.hasConfigured(Ms)&&Ms.refresh(P),x(P.components())})};return{close:k,reposition:M,text:P=>{jw.updateText(A,P)},settings:v,getEl:()=>A.element.dom,progressBar:{value:P=>{jw.updateProgress(A,P)}}}},close:v=>{v.close()},getArgs:v=>v.settings}},Lv;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Lv||(Lv={}));var fu=Lv;const K4="tox-menu-nav__js",Ww="tox-collection__item",i6="tox-swatch",vM={normal:K4,color:i6},qw="tox-collection__item--enabled",Gw="tox-collection__item-icon",Y4="tox-collection__item-label",Fv="tox-collection__item-caret",g1="tox-collection__item--active",l6="tox-collection__item-container",c6="tox-collection__item-container--row",d6=n=>Qt(vM,n).getOr(K4),yM=n=>n==="color"?"tox-swatches":"tox-menu",X4=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:yM(n),tieredMenu:"tox-tiered-menu"}),kf=n=>{const r=X4(n);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:d6(n)}},wM=(n,r,i)=>{const l=X4(i);return{tag:"div",classes:_s([[l.menu,`tox-menu-${r}-column`],n?[l.hasIcons]:[]])}},_M=[hf.parts.items({})],f1=(n,r,i)=>{const l=X4(i);return{dom:{tag:"div",classes:_s([[l.tieredMenu]])},markers:kf(i)}},Bp=ke("refetch-trigger-event"),u6=ke("redirect-menu-item-interaction"),m6="tox-menu__searcher",db=n=>ss(n.element,`.${m6}`).bind(r=>n.getSystem().getByDom(r).toOptional()),Q4=db,g6=n=>({fetchPattern:Lt.getValue(n),selectionStart:n.element.dom.selectionStart,selectionEnd:n.element.dom.selectionEnd}),zv=n=>{const r=(u,m)=>(m.cut(),E.none()),i=(u,m)=>{const p={interactionEvent:m.event,eventType:m.event.raw.type};return Gt(u,u6,p),E.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[Ww]},components:[vf.sketch({inputClasses:[m6,"tox-textfield"],inputAttributes:{...n.placeholder.map(u=>({placeholder:n.i18n(u)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:ht([co(l,[Ke(ud(),u=>{qo(u,Bp)}),Ke(wc(),(u,m)=>{m.event.raw.key==="Escape"&&m.stop()})]),qt.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,qt.name()]}})]}},Kw="tox-collection--results__js",J4=n=>{var r;return n.dom?{...n,dom:{...n.dom,attributes:{...(r=n.dom.attributes)!==null&&r!==void 0?r:{},id:ke("aria-item-search-result-id"),"aria-selected":"false"}}}:n},e3="Use arrow keys to navigate.",Hv=(n,r)=>i=>{const l=He(i,r);return we(l,u=>({dom:n,components:u}))},dg=(n,r)=>{const i=[];let l=[];return pt(n,(u,m)=>{r(u,m)?(l.length>0&&i.push(l),l=[],(nn(u.dom,"innerHtml")||u.components&&u.components.length>0)&&l.push(u)):l.push(u)}),l.length>0&&i.push(l),we(i,u=>({dom:{tag:"div",classes:["tox-collection__group"]},components:u}))},tm=(n,r,i)=>hf.parts.items({preprocess:l=>{const u=we(l,i);return n!=="auto"&&n>1?Hv({tag:"div",classes:["tox-collection__group"]},n)(u):dg(u,(m,p)=>r[p].type==="separator")}}),t3=(n,r,i=!0)=>{return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...(l=r,vn(l,u=>u.type==="widget")?{"aria-label":Wa.translate(e3)}:{})}},components:[tm(n,r,yt)]};var l},ug=n=>vn(n,r=>"icon"in r&&r.icon!==void 0),om=n=>(console.error(Iu(n)),console.log(n),E.none()),o3=(n,r,i,l,u)=>{const m=(p=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[hf.parts.items({preprocess:x=>dg(x,(v,_)=>p[_].type==="separator")})]});var p;return{value:n,dom:m.dom,components:m.components,items:i}},Yw=(n,r,i,l,u)=>{if(u.menuType==="color"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":Wa.translate(e3)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[hf.parts.items({preprocess:p!=="auto"?Hv({tag:"div",classes:["tox-swatches__row"]},p):yt})]}]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="imageselector"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[hf.parts.items({preprocess:p!=="auto"?Hv({tag:"div",classes:["tox-image-selector__row"]},p):yt})]}]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="normal"&&l==="auto"){const m=t3(l,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="normal"||u.menuType==="searchable"){const m=u.menuType!=="searchable"?t3(l,i):u.searchMode.searchMode==="search-with-field"?((p,x,v)=>{const _=ke("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[zv({i18n:Wa.translate,placeholder:v.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],Kw],attributes:{id:_}},components:[tm(p,x,J4)]}]}})(l,i,u.searchMode):((p,x)=>{const v=ke("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Kw].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:v}},components:[tm(p,x,J4)]}})(l,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="listpreview"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[hf.parts.items({preprocess:Hv({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}return{value:n,dom:wM(r,l,u.menuType),components:_M,items:i}},qs=Mr("type"),ub=Mr("name"),Vv=Mr("label"),qa=Mr("text"),Xw=Mr("title"),n3=Mr("icon"),CM=Mr("url"),mb=Mr("value"),kM=pl("fetch"),$v=pl("getSubmenuItems"),gb=pl("onAction"),f6=pl("onItemAction"),Sf=rs("onSetup",()=>ge),SM=Fs("name"),mg=Fs("text"),s3=Fs("role"),Rd=Fs("icon"),Pp=Fs("tooltip"),p6=Fs("chevronTooltip"),Uv=Fs("label"),Qw=Fs("shortcut"),h6=Br("select"),fb=Sa("active",!1),EM=Sa("borderless",!1),pu=Sa("enabled",!0),Jw=Sa("primary",!1),b6=n=>Me("columns",n),e_=Me("meta",{}),t_=rs("onAction",ge),p1=n=>ys("type",n),o_=n=>hr("name","name",km(()=>ke(`${n}-name`)),pr),x6=[qs,qa,yc("level",["info","warn","error","success"]),n3,Me("url","")],AM=mo(x6),TM=[qs,qa,pu,o_("button"),Rd,EM,dd("buttonType",["primary","secondary","toolbar"]),Jw,ys("context","mode:design")],v6=mo(TM),h1=[qs,ub],hu=h1.concat([Uv]),y6=h1.concat([Vv,pu,ys("context","mode:design")]),DM=mo(y6),OM=gl,w6=hu.concat([b6("auto"),ys("context","mode:design")]),r3=mo(w6),a3=ph([mb,qa,n3]),_6=hu.concat([ys("storageKey","default"),ys("context","mode:design")]),C6=mo(_6),k6=pr,RM=mo(hu),i3=pr,NM=h1.concat([ys("tag","textarea"),Mr("scriptId"),Mr("scriptUrl"),Br("onFocus"),Vl("settings",void 0,Y2)]),S6=h1.concat([ys("tag","textarea"),pl("init")]),E6=hh(n=>Es("customeditor.old",gi(S6),n).orThunk(()=>Es("customeditor.new",gi(NM),n))),b1=pr,Ip=[pu,mg,s3,Qw,hr("value","value",km(()=>ke("menuitem-value")),Mi()),e_,ys("context","mode:design")],l3=mo([qs,ub].concat(Ip)),n_=gl,c3=[o_("button"),Rd,Fi("align","end",["start","end"]),Jw,pu,dd("buttonType",["primary","secondary"]),ys("context","mode:design")],d3=[...c3,qa],s_=[yc("type",["submit","cancel","custom"]),...d3],A6=[yc("type",["menu"]),mg,Pp,Rd,oi("items",l3),...c3],u3=[...c3,yc("type",["togglebutton"]),Pp,Rd,mg,Sa("active",!1)],T6=ei("type",{submit:s_,cancel:s_,custom:s_,menu:A6,togglebutton:u3}),MM=hu.concat([ys("context","mode:design")]),D6=mo(MM),O6=Am(id),R6=n=>[qs,Tm("columns"),n],N6=[qs,Mr("html"),Fi("presets","presentation",["presentation","document"]),rs("onInit",ge),Sa("stretched",!1)],BM=mo(N6),m3=hu.concat([Sa("border",!1),Sa("sandboxed",!0),Sa("streamContent",!1),Sa("transparent",!0)]),PM=mo(m3),IM=pr,LM=mo(h1.concat([Fs("height")])),FM=mo([Mr("url"),js("zoom"),js("cachedWidth"),js("cachedHeight")]),M6=hu.concat([Fs("inputMode"),Fs("placeholder"),Sa("maximized",!1),pu,ys("context","mode:design")]),zM=mo(M6),Zv=pr,B6=n=>[qs,Vv,n,Fi("align","start",["start","center","end"]),Fs("for")],HM=[qa,mb],VM=[qa,oi("items",xh(0,()=>r_))],r_=fh([mo(HM),mo(VM)]),$M=hu.concat([oi("items",r_),pu,ys("context","mode:design")]),UM=mo($M),ZM=pr,jM=hu.concat([Ii("items",[qa,mb]),$l("size",1),pu,ys("context","mode:design")]),WM=mo(jM),P6=pr,qM=hu.concat([Sa("constrain",!0),pu,ys("context","mode:design")]),GM=mo(qM),I6=mo([Mr("width"),Mr("height")]),L6=h1.concat([Vv,$l("min",0),$l("max",0)]),KM=mo(L6),YM=Fg,F6=[qs,oi("header",pr),oi("cells",Am(pr))],XM=mo(F6),z6=hu.concat([Fs("placeholder"),Sa("maximized",!1),pu,ys("context","mode:design"),Li("spellcheck",gl)]),H6=mo(z6),g3=pr,QM=[ys("buttonType","default"),Fs("text"),Fs("tooltip"),Fs("icon"),Vl("search",!1,fh([gl,mo([Fs("placeholder")])],n=>Ot(n)?n?E.some({placeholder:E.none()}):E.none():E.some(n))),pl("fetch"),rs("onSetup",()=>ge),ys("context","mode:design")],f3=mo([qs,...QM]),V6=n=>Es("menubutton",f3,n),pb=[yc("type",["directory","leaf"]),Xw,Mr("id"),Li("menu",f3),Fs("customStateIcon"),Fs("customStateIconTooltip")],$6=mo(pb),JM=pb.concat([oi("children",xh(0,()=>ld("type",{directory:U6,leaf:$6})))]),U6=mo(JM),p3=ld("type",{directory:U6,leaf:$6}),Z6=[qs,oi("items",p3),Br("onLeafAction"),Br("onToggleExpand"),Lu("defaultExpandedIds",[],pr),Fs("defaultSelectedId")],eB=mo(Z6),h3=hu.concat([Fi("filetype","file",["image","media","file"]),pu,Fs("picker_text"),ys("context","mode:design")]),tB=mo(h3),oB=mo([mb,e_]),hb=n=>hr("items","items",{tag:"required",process:{}},Am(hh(r=>Es(`Checking item of ${n}`,a_,r).fold(i=>Wo.error(Iu(i)),i=>Wo.value(i))))),a_=Sm(()=>{return ld("type",{alertbanner:AM,bar:mo((n=hb("bar"),[qs,n])),button:v6,checkbox:DM,colorinput:C6,colorpicker:RM,dropzone:D6,grid:mo(R6(hb("grid"))),iframe:PM,input:zM,listbox:UM,selectbox:WM,sizeinput:GM,slider:KM,textarea:H6,urlinput:tB,customeditor:E6,htmlpanel:BM,imagepreview:LM,collection:r3,label:mo(B6(hb("label"))),table:XM,tree:eB,panel:W6});var n}),j6=[qs,Me("classes",[]),oi("items",a_)],W6=mo(j6),nB=[o_("tab"),Xw,oi("items",a_)],sB=[qs,Ii("tabs",nB)],rB=mo(sB),aB=d3,iB=T6,lB=mo([Mr("title"),Pi("body",ld("type",{panel:W6,tabpanel:rB})),ys("size","normal"),Lu("buttons",[],iB),Me("initialData",{}),rs("onAction",ge),rs("onChange",ge),rs("onSubmit",ge),rs("onClose",ge),rs("onCancel",ge),rs("onTabChange",ge)]),cB=mo([yc("type",["cancel","custom"]),...aB]),dB=mo([Mr("title"),Mr("url"),js("height"),js("width"),Dm("buttons",cB),rs("onAction",ge),rs("onCancel",ge),rs("onClose",ge),rs("onMessage",ge)]),b3=n=>ye(n)?[n].concat(Io(Ar(n),b3)):Qe(n)?Io(n,b3):[],x3=n=>De(n.type)&&De(n.name),q6={checkbox:OM,colorinput:k6,colorpicker:i3,dropzone:O6,input:Zv,iframe:IM,imagepreview:FM,selectbox:P6,sizeinput:I6,slider:YM,listbox:ZM,size:I6,textarea:g3,urlinput:oB,customeditor:b1,collection:a3,togglemenuitem:n_},uB=n=>{const r=(l=>Co(b3(l),x3))(n),i=Io(r,l=>(u=>E.from(q6[u.type]))(l).fold(()=>[],u=>[Pi(l.name,u)]));return mo(i)},G6=n=>{var r;return{internalDialog:Bi(Es("dialog",lB,n)),dataValidator:uB(n),initialData:(r=n.initialData)!==null&&r!==void 0?r:{}}},Lp={open:(n,r)=>{const i=G6(r);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,r)=>n(Bi(Es("dialog",dB,r))),redial:n=>G6(n)},K6=mo([qs,mg]),mB=mo([p1("autocompleteitem"),fb,pu,e_,mb,mg,Rd]),x1=[pu,Pp,Rd,mg,Sf,ys("context","mode:design")],Y6=mo([qs,gb,Qw].concat(x1)),i_=n=>Es("toolbarbutton",Y6,n),v3=[fb].concat(x1),gB=mo(v3.concat([qs,gb,Qw])),X6=n=>Es("ToggleButton",gB,n),jv=[rs("predicate",ze),Fi("scope","node",["node","editor"]),Fi("position","selection",["node","selection","line"])],y3=x1.concat([p1("contextformbutton"),ys("align","end"),Jw,gb,ka("original",yt)]),fB=v3.concat([p1("contextformbutton"),ys("align","end"),Jw,gb,ka("original",yt)]),pB=x1.concat([p1("contextformbutton")]),hB=v3.concat([p1("contextformtogglebutton")]),w3=[Uv,oi("commands",ei("type",{contextformbutton:y3,contextformtogglebutton:fB})),Li("launch",ei("type",{contextformbutton:pB,contextformtogglebutton:hB})),rs("onInput",ge),rs("onSetup",ge)],bB=[...jv,...w3,yc("type",["contextform"]),rs("initValue",oe("")),Fs("placeholder")],xB=[...jv,...w3,yc("type",["contextsliderform"]),rs("initValue",oe(0)),rs("min",oe(0)),rs("max",oe(100))],Q6=[...jv,...w3,yc("type",["contextsizeinputform"]),rs("initValue",oe({width:"",height:""}))],J6=ei("type",{contextform:bB,contextsliderform:xB,contextsizeinputform:Q6}),vB=x1.concat([p1("contexttoolbarbutton")]),yB=mo([p1("contexttoolbar"),fi("launch",vB),Pi("items",fh([pr,ph([Fs("name"),Fs("label"),oi("items",pr)])]))].concat(jv)),wB=n=>({name:n.name.getOrUndefined(),label:n.label.getOrUndefined(),items:n.items}),rc=[qs,Mr("src"),Fs("alt"),Lu("classes",[],pr)],bu=mo(rc),eD=[qs,qa,SM,Lu("classes",["tox-collection__item-label"],pr)],_3=mo(eD),l_=Sm(()=>ld("type",{cardimage:bu,cardtext:_3,cardcontainer:c_})),c_=mo([qs,ys("direction","horizontal"),ys("align","left"),ys("valign","middle"),oi("items",l_)]),_B=mo([qs,Uv,oi("items",l_),Sf,t_].concat(Ip)),tD=mo([qs,fb,Rd,Uv].concat(Ip)),v1=[qs,Mr("fancytype"),t_],CB=[Me("initData",{})].concat(v1),d_=[Br("select"),r0("initData",{},[Sa("allowCustomColors",!0),ys("storageKey","default"),Dm("colors",Mi())])].concat(v1),C3=[Br("select"),ti("initData",[Tm("columns"),Lu("items",[],Mi())])].concat(v1),oD=ei("fancytype",{inserttable:CB,colorswatch:d_,imageselect:C3}),Wv=mo([qs,fb,CM,Uv,Pp].concat(Ip)),kB=mo([qs,fb,n3,Vv,Pp,mb].concat(Ip)),SB=mo([qs,Sf,t_,Rd].concat(Ip)),nm=mo([qs,$v,Sf,Rd].concat(Ip)),ac=mo([qs,Rd,fb,Sf,gb].concat(Ip)),qv=mo([Rd,Pp,rs("onShow",ge),rs("onHide",ge),Sf]),ic=mo([qs,Pi("items",fh([ph([ub,oi("items",pr)]),pr]))].concat(x1)),EB=mo([qs,Pp,p6,Rd,mg,h6,kM,Sf,Fi("presets","normal",["normal","color","listpreview"]),b6(1),gb,f6,ys("context","mode:design")]),cs=[mg,Rd,Fs("tooltip"),Fi("buttonType","secondary",["primary","secondary"]),Sa("borderless",!1),pl("onAction"),ys("context","mode:design")],nD={button:[...cs,qa,yc("type",["button"])],togglebutton:[...cs,Sa("active",!1),yc("type",["togglebutton"])]},Ef=[yc("type",["group"]),Lu("buttons",[],ei("type",nD))],Gv=ei("type",{...nD,group:Ef}),sD=mo([Lu("buttons",[],Gv),pl("onShow"),pl("onHide")]),Kv=(n,r,i)=>{const l=Jr(n.element,"."+i);if(l.length>0){const u=Ks(l,m=>{const p=m.dom.getBoundingClientRect().top,x=l[0].dom.getBoundingClientRect().top;return Math.abs(p-x)>r}).getOr(l.length);return E.some({numColumns:u,numRows:Math.ceil(l.length/u)})}return E.none()},y1=n=>((r,i)=>ht([co(r,i)]))(ke("unnamed-events"),n),rD=n=>Xt.config({disabled:n,disableClass:"tox-collection__item--state-disabled"}),w1=n=>Xt.config({disabled:n}),Yv=n=>Xt.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1}),bb=(n,r)=>{const i=n.getApi(r);return l=>{l(i)}},xu=(n,r)=>as(i=>{nt(n.onBeforeSetup)&&n.onBeforeSetup(i),bb(n,i)(l=>{const u=n.onSetup(l);nt(u)&&r.set(u)})}),Af=(n,r)=>Tc(i=>bb(n,i)(r.get())),u_=(n,r,i)=>Tc(l=>(i.set(Lt.getValue(l)),bb(n,l)(r.get()))),Xv="silver.uistate",Qv="setDisabled",aD="init",AB=["switchmode",aD],Jv=(n,r)=>{const i=n.mainUi.outerContainer,l=[n.mainUi.mothership,...n.uiMotherships];r===Qv&&pt(l,u=>{u.broadcastOn([iu()],{target:i.element})}),pt(l,u=>{u.broadcastOn([Xv],r)})},iD=(n,r)=>{n.on("init SwitchMode",i=>{Jv(r,i.type)}),n.on("DisabledStateChange",i=>{if(!i.isDefaultPrevented()){const l=i.state?Qv:aD;Jv(r,l),i.state||n.nodeChanged()}}),n.on("NodeChange",i=>{const l=n.ui.isEnabled()?i.type:Qv;Jv(r,l)}),DT(n)&&n.mode.set("readonly")},dr=n=>nl.config({channels:{[Xv]:{onReceive:(r,i)=>{if(i===Qv||i==="setEnabled")return void Xt.set(r,i===Qv);const{contextType:l,shouldDisable:u}=n();(l!=="mode"||dt(AB,i))&&Xt.set(r,u)}}}}),TB=(n,r)=>Dc((i,l)=>{bb(n,i)(n.onAction),n.triggersSubmenu||r!==fu.CLOSE_ON_EXECUTE||(i.getSystem().isConnected()&&qo(i,vh()),l.stop())}),DB={[Ji()]:["disabling","alloy.base.behaviour","toggling","item-events"]},_1=ll,C1=(n,r,i,l)=>{const u=Tt(ge);return{type:"item",dom:r.dom,components:_1(r.optComponents),data:n.data,eventOrder:DB,hasSubmenu:n.triggersSubmenu,itemBehaviours:ht([co("item-events",[TB(n,i),xu(n,u),Af(n,u)]),rD(()=>!n.enabled||l.checkUiComponentContext(n.context).shouldDisable),dr(()=>l.checkUiComponentContext(n.context)),So.config({})].concat(n.itemBehaviours))}},Fp=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),e2=(n,r)=>{var i,l;const u=ks("div");return vs(u,"tox-image-selector-loading-spinner"),{dom:{tag:n.tag,attributes:(i=n.attributes)!==null&&i!==void 0?i:{},classes:n.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:r},classes:["tox-image-selector-image-img"]}}]},...n.checkMark.toArray()],behaviours:ht([...(l=n.behaviours)!==null&&l!==void 0?l:[],co("render-image-events",[as(m=>{var p;p=m.element,vs(p,"tox-image-selector-loading-spinner-wrapper"),Oi(p,u),ss(m.element,"img").each(x=>{Ng(x).catch(v=>{console.error(v)}).finally(()=>{(v=>{en(v,"tox-image-selector-loading-spinner-wrapper"),Wd(u)})(m.element)})})})])])}},k3=n=>{const r=Od.os.isMacOS()||Od.os.isiOS(),i=r?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=n.split("+"),u=we(l,m=>{const p=m.toLowerCase().trim();return nn(i,p)?i[p]:m});return r?u.join(""):u.join("+")},S3=(n,r,i=[Gw])=>Sl(n,{tag:"div",classes:i},r),E3=n=>({dom:{tag:"div",classes:[Y4]},components:[As(Wa.translate(n))]}),A3=(n,r)=>({dom:{tag:"div",classes:r,innerHtml:n}}),T3=(n,r)=>({dom:{tag:"div",classes:[Y4]},components:[{dom:{tag:n.tag,styles:n.styles},components:[As(Wa.translate(r))]}]}),lD=n=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[As(k3(n))]}),D3=n=>S3("checkmark",n,["tox-collection__item-checkmark"]),O3=(n,r)=>{const i=n.map(l=>({attributes:{id:ke("menu-item"),"aria-label":Wa.translate(l)}})).getOr({});return{tag:"div",classes:[K4,Ww].concat(r),...i}},cD=n=>({dom:{tag:"label"},components:[As(n)]}),xb=(n,r,i,l=E.none())=>n.presets==="color"?((u,m,p)=>{const x=u.value,v=u.iconContent.map(S=>((k,A,M)=>{const P=A();return n6(k,P).or(M).getOrThunk(W4(P))})(S,m.icons,p)),_=u.ariaLabel.map(S=>({"aria-label":m.translate(S),"data-mce-name":S})).getOr({});return{dom:(()=>{const S=i6,k=v.getOr(""),A={tag:"div",attributes:_,classes:[S]};return x==="custom"?{...A,tag:"button",classes:[...A.classes,"tox-swatches__picker-btn"],innerHtml:k}:x==="remove"?{...A,classes:[...A.classes,"tox-swatch--remove"],innerHtml:k}:Ae(x)?{...A,attributes:{...A.attributes,"data-mce-color":x},styles:{"background-color":x},innerHtml:k}:A})(),optComponents:[]}})(n,r,l):n.presets==="img"?(u=>{var m,p;return{dom:O3(u.ariaLabel,["tox-collection__item-image-selector"]),optComponents:[E.some((m=u.iconContent.getOrDie(),p={tag:"div",classes:["tox-collection__item-image"],checkMark:u.checkMark},e2(p,m))),u.labelContent.map(cD)]}})(n):((u,m,p,x)=>{const v={tag:"div",classes:[Gw]},_=p?u.iconContent.map(M=>Sl(M,v,m.icons,x)).orThunk(()=>E.some({dom:v})):E.none(),S=u.checkMark,k=E.from(u.meta).fold(()=>E3,M=>nn(M,"style")?rn(T3,M.style):E3),A=u.htmlContent.fold(()=>u.textContent.map(k),M=>E.some(A3(M,[Y4])));return{dom:O3(u.ariaLabel,[]),optComponents:[_,A,u.shortcutContent.map(lD),S,u.caret,u.labelContent.map(cD)]}})(n,r,i,l),dD=(n,r,i)=>Qt(n,"tooltipWorker").map(l=>[fs.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:Xg}}),mode:"follow-highlight",onShow:(u,m)=>{l(p=>{fs.setComponents(u,[YC({element:Pt(p)})])})}})]).getOrThunk(()=>i.map(l=>[fs.config({...r.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),uD=(n,r)=>{const i=(l=>c1.DOM.encode(l))(Wa.translate(n));if(r.length>0){const l=new RegExp((u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(r),"gi");return i.replace(l,u=>`<span class="tox-autocompleter-highlight">${u}</span>`)}return i},R3=(n,r)=>we(n,i=>{switch(i.type){case"cardcontainer":return((m,p)=>{const x=m.direction==="vertical"?"tox-collection__item-container--column":c6,v=m.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[l6,x,v,(()=>{switch(m.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(i,R3(i.items,r));case"cardimage":return((m,p,x)=>({dom:{tag:"img",classes:p,attributes:{src:m,alt:x.getOr("")}}}))(i.src,i.classes,i.alt);case"cardtext":const l=i.name.exists(m=>dt(r.cardText.highlightOn,m)),u=l?E.from(r.cardText.matchText).getOr(""):"";return A3(uD(i.text,u),i.classes)}}),Nd=(n,r,i,l,u,m,p,x=!0)=>{const v=xb({presets:i,textContent:r?n.text:E.none(),htmlContent:E.none(),labelContent:n.label,ariaLabel:n.text,iconContent:n.icon,shortcutContent:r?n.shortcut:E.none(),checkMark:r?E.some(D3(p.icons)):E.none(),caret:E.none(),value:n.value},p,x),_=n.text.filter(oe(!r)).map(S=>fs.config(p.tooltips.getConfig({tooltipText:p.translate(S)})));return bs(C1({context:n.context,data:Fp(n),enabled:n.enabled,getApi:S=>({setActive:k=>{sn.set(S,k)},isActive:()=>sn.isOn(S),isEnabled:()=>!Xt.isDisabled(S),setEnabled:k=>Xt.set(S,!k)}),onAction:S=>l(n.value),onSetup:S=>(S.setActive(u),ge),triggersSubmenu:!1,itemBehaviours:[..._.toArray()]},v,m,p),{toggling:{toggleClass:qw,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},mD=n=>({value:gD(n)}),m_=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,N3=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,M3=n=>m_.test(n)||N3.test(n),gD=n=>es(n,"#").toUpperCase(),g_=n=>{const r=n.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},vb=n=>{const r=g_(n.red)+g_(n.green)+g_(n.blue);return mD(r)},yb=(n,r,i)=>({hue:n,saturation:r,value:i}),B3=n=>{let r=0,i=0,l=0;const u=n.red/255,m=n.green/255,p=n.blue/255,x=Math.min(u,Math.min(m,p)),v=Math.max(u,Math.max(m,p));return x===v?(l=x,yb(0,0,100*l)):(r=u===x?3:p===x?1:5,r=60*(r-(u===x?m-p:p===x?u-m:p-u)/(v-x)),i=(v-x)/v,l=v,yb(Math.round(r),Math.round(100*i),Math.round(100*l)))},fD=Math.min,pD=Math.max,f_=Math.round,OB=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,RB=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,k1=(n,r,i,l)=>({red:n,green:r,blue:i,alpha:l}),p_=n=>{const r=parseInt(n,10);return r.toString()===n&&r>=0&&r<=255},P3=n=>{let r,i,l;const u=(n.hue||0)%360;let m=n.saturation/100,p=n.value/100;if(m=pD(0,fD(m,1)),p=pD(0,fD(p,1)),m===0)return r=i=l=f_(255*p),k1(r,i,l,1);const x=u/60,v=p*m,_=v*(1-Math.abs(x%2-1)),S=p-v;switch(Math.floor(x)){case 0:r=v,i=_,l=0;break;case 1:r=_,i=v,l=0;break;case 2:r=0,i=v,l=_;break;case 3:r=0,i=_,l=v;break;case 4:r=_,i=0,l=v;break;case 5:r=v,i=0,l=_;break;default:r=i=l=0}return r=f_(255*(r+S)),i=f_(255*(i+S)),l=f_(255*(l+S)),k1(r,i,l,1)},wb=n=>{const r=(m=>{const p=(v=>({value:v.value.replace(m_,(S,k,A,M)=>k+k+A+A+M+M)}))(m),x=N3.exec(p.value);return x===null?["FFFFFF","FF","FF","FF"]:x})(n),i=parseInt(r[1],16),l=parseInt(r[2],16),u=parseInt(r[3],16);return k1(i,l,u,1)},I3=(n,r,i,l)=>{const u=parseInt(n,10),m=parseInt(r,10),p=parseInt(i,10),x=parseFloat(l);return k1(u,m,p,x)},L3=n=>{const r=OB.exec(n);if(r!==null)return E.some(I3(r[1],r[2],r[3],"1"));const i=RB.exec(n);return i!==null?E.some(I3(i[1],i[2],i[3],i[4])):E.none()},hD=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,bD=k1(255,0,0,1),F3=n=>vb(P3(n)),zp=(n,r)=>{n.dispatch("ResizeContent",r)},t2=(n,r)=>{n.dispatch("TextColorChange",r)},NB=(n,r)=>n.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),z3=n=>{n.dispatch("ContextToolbarClose")},o2=(n,r)=>()=>{n(),r()},wi=(n,r=no)=>Tf(n,"NodeChange",i=>{i.setEnabled(n.selection.isEditable()&&r())}),n2=(n,r)=>i=>{const l=wi(n)(i),u=((m,p)=>x=>{const v=Ur(),_=()=>{x.setActive(m.formatter.match(p));const S=m.formatter.formatChanged(p,x.setActive);v.set(S)};return m.initialized?_():m.once("init",_),()=>{m.off("init",_),v.clear()}})(n,r)(i);return()=>{l(),u()}},Tf=(n,r,i)=>l=>{const u=()=>i(l),m=()=>{i(l),n.on(r,u)};return n.initialized?m():n.once("init",m),()=>{n.off("init",m),n.off(r,u)}},h_=n=>r=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,r.format)})},lc=(n,r)=>()=>n.execCommand(r);var S1=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const xD={},H3=n=>Qt(xD,n).getOrThunk(()=>{const r=`tinymce-custom-colors-${n}`,i=S1.getItem(r);if(kt(i)){const u=S1.getItem("tinymce-custom-colors");S1.setItem(r,Ae(u)?u:"[]")}const l=((u,m=10)=>{const p=S1.getItem(u),x=De(p)?JSON.parse(p):[],v=m-(_=x).length<0?_.slice(0,m):_;var _;const S=k=>{v.splice(k,1)};return{add:k=>{((A,M)=>{const P=ca(A,M);return P===-1?E.none():E.some(P)})(v,k).each(S),v.unshift(k),v.length>m&&v.pop(),S1.setItem(u,JSON.stringify(v))},state:()=>v.slice(0)}})(r,10);return xD[n]=l,l}),V3=(n,r)=>{H3(n).add(r)},$3="forecolor",U3="hilitecolor",Z3=n=>{const r=[];for(let i=0;i<n.length;i+=2)r.push({text:n[i+1],value:n[i],icon:"checkmark",type:"choiceitem"});return r},sm=n=>r=>r.options.get(n),j3="#000000",b_=(n,r)=>r===$3&&n.options.isSet("color_map_foreground")?sm("color_map_foreground")(n):r===U3&&n.options.isSet("color_map_background")?sm("color_map_background")(n):n.options.isSet("color_map_raw")?sm("color_map_raw")(n):sm("color_map")(n),W3=(n,r="default")=>Math.max(5,Math.ceil(Math.sqrt(b_(n,r).length))),vD=(n,r)=>{const i=sm("color_cols")(n),l=W3(n,r);return i===W3(n)?l:i},yD=(n,r="default")=>Math.round(r===$3?sm("color_cols_foreground")(n):r===U3?sm("color_cols_background")(n):sm("color_cols")(n)),wD=sm("custom_colors"),_D=sm("color_default_foreground"),CD=sm("color_default_background"),kD=(n,r)=>{const i=Pt(n.selection.getStart()),l=r==="hilitecolor"?mh(i,u=>{if(Uo(u)){const m=Fa(u,"background-color");return Hs((p=>L3(p).exists(x=>x.alpha!==0))(m),m)}return E.none()}).getOr("rgba(0, 0, 0, 0)"):Fa(i,"color");return L3(l).map(u=>"#"+vb(u).value)},SD=n=>{const r="choiceitem",i={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},q3=(n,r,i,l)=>{i==="custom"?OD(n)(u=>{u.each(m=>{V3(r,m),n.execCommand("mceApplyTextcolor",r,m),l(m)})},kD(n,r).getOr(j3)):i==="remove"?(l(""),n.execCommand("mceRemoveTextcolor",r)):(l(i),n.execCommand("mceApplyTextcolor",r,i))},x_=(n,r,i)=>n.concat((l=>we(H3(l).state(),u=>({type:"choiceitem",text:u,icon:"checkmark",value:u})))(r).concat(SD(i))),ED=(n,r,i)=>l=>{l(x_(n,r,i))},G3=(n,r,i)=>{const l=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(l,i)},AD=(n,r)=>{n.setTooltip(r)},s2=(n,r)=>i=>{const l=kD(n,r);return zn(l,i.toUpperCase())},K3=(n,r,i)=>{if(fc(i))return r==="forecolor"?"Text color":"Background color";const l=r==="forecolor"?"Text color {0}":"Background color {0}",u=x_(b_(n,r),r,!1),m=I(u,p=>p.value===i).getOr({text:""}).text;return n.translate([l,n.translate(m)])},TD=(n,r,i,l)=>{n.ui.registry.addSplitButton(r,{tooltip:K3(n,i,l.get()),chevronTooltip:r==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:s2(n,i),columns:yD(n,i),fetch:ED(b_(n,i),i,wD(n)),onAction:u=>{q3(n,i,l.get(),ge)},onItemAction:(u,m)=>{q3(n,i,m,p=>{l.set(p),t2(n,{name:r,color:p})})},onSetup:u=>{G3(u,r,l.get());const m=p=>{p.name===r&&(G3(u,p.name,p.color),AD(u,K3(n,i,p.color)))};return n.on("TextColorChange",m),o2(wi(n)(u),()=>{n.off("TextColorChange",m)})}})},DD=(n,r,i,l,u)=>{n.ui.registry.addNestedMenuItem(r,{text:l,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:m=>(AD(m,K3(n,i,u.get())),G3(m,r,u.get()),wi(n)(m)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:s2(n,i),initData:{storageKey:i},onAction:m=>{q3(n,i,m.value,p=>{u.set(p),t2(n,{name:r,color:p})})}}]})},OD=n=>(r,i)=>{let l=!1;const u={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onAction:(m,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:m=>{const p=m.getData().colorpicker;l?(r(E.from(p)),m.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",p]))},onClose:ge,onCancel:()=>{r(E.none())}})},v_=(n,r,i,l,u,m,p,x)=>{const v=ug(r),_=MB(r,i,l,u!=="color"?"normal":"color",m,p,x);return Yw(n,v,_,l,{menuType:u})},MB=(n,r,i,l,u,m,p)=>ll(we(n,x=>{return x.type==="choiceitem"?(v=x,Es("choicemenuitem",tD,v)).fold(om,_=>E.some(Nd(_,i===1,l,r,m(_.value),u,p,ug(n)))):x.type==="imageitem"?(_=>Es("imagemenuitem",Wv,_))(x).fold(om,_=>E.some(((S,k,A,M,P)=>{const q=xb({presets:"img",textContent:E.none(),htmlContent:E.none(),ariaLabel:S.tooltip,iconContent:E.some(S.url),labelContent:S.label,shortcutContent:E.none(),checkMark:E.some(D3(P.icons)),caret:E.none(),value:S.value},P,!0),U=S.tooltip.map(j=>fs.config(P.tooltips.getConfig({tooltipText:P.translate(j)})));return bs(C1({context:S.context,data:Fp(S),enabled:S.enabled,getApi:j=>({setActive:H=>{sn.set(j,H)},isActive:()=>sn.isOn(j),isEnabled:()=>!Xt.isDisabled(j),setEnabled:H=>Xt.set(j,!H)}),onAction:j=>{k(S.value),j.setActive(!0)},onSetup:j=>(j.setActive(A),ge),triggersSubmenu:!1,itemBehaviours:[...U.toArray()]},q,M,P),{toggling:{toggleClass:qw,toggleOnExecute:!1,selected:S.active,exclusive:!0}})})(_,r,m(_.value),u,p))):x.type==="resetimage"?(_=>Es("resetimageitem",kB,_))(x).fold(om,_=>E.some(Nd({..._,text:_.tooltip,icon:E.some(_.icon),label:E.some(_.label)},i===1,l,r,m(_.value),u,p,ug(n)))):E.none();var v})),r2=(n,r)=>{const i=kf(r);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[r],previousSelector:l=>r==="color"?ss(l.element,"[aria-checked=true]"):E.none()}},RD=ke("cell-over"),ND=ke("cell-execute"),BB=(n,r,i)=>{const l=m=>Gt(m,ND,{row:n,col:r}),u=(m,p)=>{p.stop(),l(m)};return $a({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:ht([co("insert-table-picker-cell",[Ke(ni(),ho.focus),Ke(Ji(),l),Ke(Nm(),u),Ke(zu(),u)]),sn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),ho.config({onFocus:m=>Gt(m,RD,{row:n,col:r})})])})},PB=n=>Io(n,r=>we(r,Jl)),MD=(n,r)=>As(`${r}x${n}`),IB={inserttable:(n,r)=>{const i=(p=>(x,v)=>p.shared.providers.translate(["{0} columns, {1} rows",v,x]))(r),l=(p=>{const x=[];for(let v=0;v<10;v++){const _=[];for(let S=0;S<10;S++){const k=p(v+1,S+1);_.push(BB(v,S,k))}x.push(_)}return x})(i),u=MD(0,0),m=Rn({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[u],behaviours:ht([So.config({})])});return{type:"widget",data:{value:ke("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Qk.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:PB(l).concat(m.asSpec()),behaviours:ht([co("insert-table-picker",[as(p=>{So.set(m.get(p),[u])}),Jg(RD,(p,x,v)=>{const{row:_,col:S}=v.event;((k,A,M)=>{for(let P=0;P<10;P++)for(let q=0;q<10;q++)sn.set(k[P][q],P<=A&&q<=M)})(l,_,S),So.set(m.get(p),[MD(_+1,S+1)])}),Jg(ND,(p,x,v)=>{const{row:_,col:S}=v.event;qo(p,vh()),n.onAction({numRows:_+1,numColumns:S+1})})]),qt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(n,r)=>{const i=((x,v)=>{const _=x.initData.allowCustomColors&&v.colorinput.hasCustomColors();return x.initData.colors.fold(()=>x_(v.colorinput.getColors(x.initData.storageKey),x.initData.storageKey,_),S=>S.concat(SD(_)))})(n,r),l=r.colorinput.getColorCols(n.initData.storageKey),u="color",m=v_(ke("menu-value"),i,x=>{n.onAction({value:x})},l,u,fu.CLOSE_ON_EXECUTE,n.select.getOr(ze),r.shared.providers),p={...m,markers:kf(u),movement:r2(l,u),showMenuRole:!1};return{type:"widget",data:{value:ke("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Qk.widget(hf.sketch(p))]}},imageselect:(n,r)=>{const i="imageselector",l=n.initData.columns,u=v_(ke("menu-value"),n.initData.items,p=>{n.onAction({value:p})},l,i,fu.CLOSE_ON_EXECUTE,n.select.getOr(ze),r.shared.providers),m={...u,markers:kf(i),movement:r2(l,i),showMenuRole:!1};return{type:"widget",data:{value:ke("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[Qk.widget(hf.sketch(m))]}}},y_=n=>({type:"separator",dom:{tag:"div",classes:[Ww,"tox-collection__group-heading"]},components:n.text.map(As).toArray()}),BD=(n,r,i)=>{Q4(n).each(l=>{var u;((m,p)=>{Kr(p.element,"id").each(x=>ao(m.element,"aria-activedescendant",x))})(l,i),(cr((u=r).element,Kw)?E.some(u.element):ss(u.element,"."+Kw)).each(m=>{Kr(m,"id").each(p=>ao(l.element,"aria-controls",p))})}),ao(i.element,"aria-selected","true")},LB=(n,r,i)=>{ao(i.element,"aria-selected","false")},FB=n=>vr.getExistingCoupled(n,"sandbox").bind(db).map(g6).map(r=>r.fetchPattern).getOr("");var a2;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(a2||(a2={}));const zB=(n,r,i,l,u)=>{const m=i.shared.providers,p=v=>u?{...v,shortcut:E.none(),icon:v.text.isSome()?E.none():v.icon}:v;switch(n.type){case"menuitem":return(x=n,Es("menuitem",SB,x)).fold(om,v=>E.some(((_,S,k,A=!0)=>{const M=xb({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:E.none(),labelContent:E.none(),ariaLabel:_.text,caret:E.none(),checkMark:E.none(),shortcutContent:_.shortcut},k,A);return C1({context:_.context,data:Fp(_),getApi:P=>({isEnabled:()=>!Xt.isDisabled(P),setEnabled:q=>Xt.set(P,!q)}),enabled:_.enabled,onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},M,S,k)})(p(v),r,m,l)));case"nestedmenuitem":return(v=>Es("nestedmenuitem",nm,v))(n).fold(om,v=>E.some(((_,S,k,A=!0,M=!1)=>{const P=M?(q=k.icons,S3("chevron-down",q,[Fv])):(j=>S3("chevron-right",j,[Fv]))(k.icons);var q;const U=xb({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:E.none(),ariaLabel:_.text,labelContent:E.none(),caret:E.some(P),checkMark:E.none(),shortcutContent:_.shortcut},k,A);return C1({context:_.context,data:Fp(_),getApi:j=>({isEnabled:()=>!Xt.isDisabled(j),setEnabled:H=>Xt.set(j,!H),setIconFill:(H,V)=>{ss(j.element,`svg path[class="${H}"], rect[class="${H}"]`).each(Y=>{ao(Y,"fill",V)})},setTooltip:H=>{const V=k.translate(H);ao(j.element,"aria-label",V)}}),enabled:_.enabled,onAction:ge,onSetup:_.onSetup,triggersSubmenu:!0,itemBehaviours:[]},U,S,k)})(p(v),r,m,l,u)));case"togglemenuitem":return(v=>Es("togglemenuitem",ac,v))(n).fold(om,v=>E.some(((_,S,k,A=!0)=>{const M=xb({iconContent:_.icon,textContent:_.text,htmlContent:E.none(),labelContent:E.none(),ariaLabel:_.text,checkMark:E.some(D3(k.icons)),caret:E.none(),shortcutContent:_.shortcut,presets:"normal",meta:_.meta},k,A);return bs(C1({context:_.context,data:Fp(_),enabled:_.enabled,getApi:P=>({setActive:q=>{sn.set(P,q)},isActive:()=>sn.isOn(P),isEnabled:()=>!Xt.isDisabled(P),setEnabled:q=>Xt.set(P,!q)}),onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},M,S,k),{toggling:{toggleClass:qw,toggleOnExecute:!1,selected:_.active},role:_.role.getOrUndefined()})})(p(v),r,m,l)));case"separator":return(v=>Es("separatormenuitem",K6,v))(n).fold(om,v=>E.some(y_(v)));case"fancymenuitem":return(v=>Es("fancymenuitem",oD,v))(n).fold(om,v=>((_,S)=>Qt(IB,_.fancytype).map(k=>k(_,S)))(v,i));default:return console.error("Unknown item in general menu",n),E.none()}var x},HB=(n,r,i,l,u,m,p)=>{const x=l===1,v=!x||ug(n);return ll(we(n,_=>{switch(_.type){case"separator":return(S=_,Es("Autocompleter.Separator",K6,S)).fold(om,k=>E.some(y_(k)));case"cardmenuitem":return(k=>Es("cardmenuitem",_B,k))(_).fold(om,k=>E.some(((A,M,P,q)=>{const U={dom:O3(A.label,[]),optComponents:[E.some({dom:{tag:"div",classes:[l6,c6]},components:R3(A.items,q)})]};return C1({context:"mode:design",data:Fp({text:E.none(),...A}),enabled:A.enabled,getApi:j=>({isEnabled:()=>!Xt.isDisabled(j),setEnabled:H=>{Xt.set(j,!H),pt(Jr(j.element,"*"),V=>{j.getSystem().getByDom(V).each(Y=>{Y.hasConfigured(Xt)&&Xt.set(Y,!H)})})}}),onAction:A.onAction,onSetup:A.onSetup,triggersSubmenu:!1,itemBehaviours:E.from(q.itemBehaviours).getOr([])},U,M,P.providers)})({...k,onAction:A=>{k.onAction(A),i(k.value,k.meta)}},u,m,{itemBehaviours:dD(k.meta,m,E.none()),cardText:{matchText:r,highlightOn:p}})));default:return(k=>Es("Autocompleter.Item",mB,k))(_).fold(om,k=>E.some(((A,M,P,q,U,j,H,V=!0)=>{const Y=xb({presets:q,textContent:E.none(),htmlContent:P?A.text.map(de=>uD(de,M)):E.none(),ariaLabel:A.text,labelContent:E.none(),iconContent:A.icon,shortcutContent:E.none(),checkMark:E.none(),caret:E.none(),value:A.value},H.providers,V,A.icon),J=A.text.filter(de=>!P&&de!=="");return C1({context:"mode:design",data:Fp(A),enabled:A.enabled,getApi:oe({}),onAction:de=>U(A.value,A.meta),onSetup:oe(ge),triggersSubmenu:!1,itemBehaviours:dD(A,H,J)},Y,j,H.providers)})(k,r,x,"normal",i,u,m,v)))}var S}))},PD=(n,r,i,l,u,m)=>{const p=ug(r),x=ll(we(r,_=>{const S=k=>zB(k,i,l,(A=>u?!nn(A,"text"):p)(k),u);return _.type==="nestedmenuitem"&&_.getSubmenuItems().length<=0?S({..._,enabled:!1}):S(_)})),v=(_=>_.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:_})(m);return(u?o3:Yw)(n,p,x,1,v)},Y3=n=>xf.singleData(n.value,n),VB=n=>Y1(Pt(n.startContainer),n.startOffset,Pt(n.endContainer),n.endOffset),$B=(n,r)=>{const i=ke("autocompleter"),l=Tt(!1),u=Tt(!1),m=In(),p=$a(Bs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:ht([co("dismissAutocompleter",[Ke(Vg(),()=>k()),Ke(ux(),(P,q)=>{Kr(q.event.target,"id").each(U=>ao(Pt(n.getBody()),"aria-activedescendant",U))})])]),lazySink:r.getSink})),x=()=>Bs.isOpen(p),v=u.get,_=()=>{if(x()){Bs.hide(p),n.dom.remove(i,!1);const P=Pt(n.getBody());Kr(P,"aria-owns").filter(q=>q===i).each(()=>{Us(P,"aria-owns"),Us(P,"aria-activedescendant")})}},S=()=>Bs.getContent(p).bind(P=>lt(P.components(),0)),k=()=>n.execCommand("mceAutocompleterClose"),A=P=>{const q=(U=>{const j=dn(U,H=>E.from(H.columns)).getOr(1);return Io(U,H=>{const V=H.items;return HB(V,H.matchText,(Y,J)=>{const de={hide:()=>k(),reload:ce=>{_(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:ce})}};n.execCommand("mceAutocompleterRefreshActiveRange"),m.get().each(ce=>{l.set(!0),H.onAction(de,ce,Y,J),l.set(!1)})},j,fu.BUBBLE_TO_SANDBOX,r,H.highlightOn)})})(P);q.length>0?(((U,j)=>{const H=dn(U,V=>E.from(V.columns)).getOr(1);Bs.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>m.get().map(VB),root:Pt(n.getBody())}},((V,Y,J,de)=>{const ce=r2(Y,de),pe=kf(de);return{data:Y3({...V,movement:ce,menuBehaviours:y1(Y!=="auto"?[]:[as((Te,Ve)=>{Kv(Te,4,pe.item).each(({numColumns:$e,numRows:je})=>{qt.setGridSize(Te,je,$e)})})])}),menu:{markers:kf(de),fakeFocus:J===a2.ContentFocus}}})(Yw("autocompleter-value",!0,j,H,{menuType:"normal"}),H,a2.ContentFocus,"normal")),S().each(gn.highlightFirst)})(P,q),ao(Pt(n.getBody()),"aria-owns",i),n.inline||M()):_()},M=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const P=n.getDoc().documentElement,q=n.selection.getNode(),U=(j=>Qb(j,!0))(p.element);te(U,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${q.offsetTop}px`,left:`${q.offsetLeft}px`}),n.dom.add(P,U.dom),ss(U,'[role="menu"]').each(j=>{mn(j,"position"),mn(j,"max-height")})};n.on("AutocompleterStart",({lookupData:P})=>{u.set(!0),l.set(!1),A(P)}),n.on("AutocompleterUpdate",({lookupData:P})=>A(P)),n.on("AutocompleterUpdateActiveRange",({range:P})=>m.set(P)),n.on("AutocompleterEnd",()=>{_(),u.set(!1),l.set(!1),m.clear()}),((P,q)=>{const U=(H,V)=>{Gt(H,wc(),{raw:V})},j=()=>P.getMenu().bind(gn.getHighlighted);q.on("keydown",H=>{const V=H.which;P.isActive()&&(P.isMenuOpen()?V===13?(j().each(Mh),H.preventDefault()):V===40?(j().fold(()=>{P.getMenu().each(gn.highlightFirst)},Y=>{U(Y,H)}),H.preventDefault(),H.stopImmediatePropagation()):V!==37&&V!==38&&V!==39||j().each(Y=>{U(Y,H),H.preventDefault(),H.stopImmediatePropagation()}):V!==13&&V!==38&&V!==40||P.cancelIfNecessary())}),q.on("NodeChange",()=>{!P.isActive()||P.isProcessingAction()||q.queryCommandState("mceAutoCompleterInRange")||P.cancelIfNecessary()})})({cancelIfNecessary:k,isMenuOpen:x,isActive:v,isProcessingAction:l.get,getMenu:S},n)};var X3=tinymce.util.Tools.resolve("tinymce.html.Entities");const i2=(n,r,i,l)=>{const u=UB(n,r,i,l);return Go.sketch(u)},UB=(n,r,i,l)=>({dom:ID(i),components:n.toArray().concat([r]),fieldBehaviours:ht(l)}),ID=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),Hp=(n,r)=>Go.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[As(r.translate(n))]}),El=ke("form-component-change"),LD=ke("form-component-input"),l2=ke("form-close"),Vp=ke("form-cancel"),gg=ke("form-action"),c2=ke("form-submit"),Q3=ke("form-block"),J3=ke("form-unblock"),FD=ke("form-tabchange"),zD=ke("form-resize"),ZB=(n,r,i)=>{const l=n.label.map(k=>Hp(k,r)),u=r.icons(),m=k=>(A,M)=>{ml(M.event.target,"[data-collection-item-value]").each(P=>{k(A,M,P,Eo(P,"data-collection-item-value"))})},p=m((k,A,M,P)=>{A.stop(),r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()||Gt(k,gg,{name:n.name,value:P})}),x=[Ke(ni(),m((k,A,M)=>{gr(M,!0)})),Ke(Nm(),p),Ke(zu(),p),Ke(Zl(),m((k,A,M)=>{ss(k.element,"."+g1).each(P=>{en(P,g1)}),vs(M,g1)})),Ke(ix(),m(k=>{ss(k.element,"."+g1).each(A=>{en(A,g1),qi(A)})})),Dc(m((k,A,M,P)=>{Gt(k,gg,{name:n.name,value:P})}))],v=(k,A)=>we(Jr(k.element,".tox-collection__item"),A),_=Go.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:yt},behaviours:ht([Xt.config({disabled:()=>r.checkUiComponentContext(n.context).shouldDisable,onDisabled:k=>{v(k,A=>{vs(A,"tox-collection__item--state-disabled"),ao(A,"aria-disabled",!0)})},onEnabled:k=>{v(k,A=>{en(A,"tox-collection__item--state-disabled"),Us(A,"aria-disabled")})}}),dr(()=>r.checkUiComponentContext(n.context)),So.config({}),fs.config({...r.tooltips.getConfig({tooltipText:"",onShow:k=>{ss(k.element,"."+g1+"[data-mce-tooltip]").each(A=>{Kr(A,"data-mce-tooltip").each(M=>{fs.setComponents(k,r.tooltips.getComponents({tooltipText:M}))})})}}),mode:"children-keyboard-focus",anchor:k=>({type:"node",node:ss(k.element,"."+g1).orThunk(()=>Uf(".tox-collection__item")),root:k.element,layouts:{onLtr:oe([Lr,Ir,br,Da,Pr,Oa]),onRtl:oe([Lr,Ir,br,Da,Pr,Oa])},bubble:el(0,-2,{})})}),Lt.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(k,A)=>{((M,P)=>{const q=r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()?" tox-collection__item--state-disabled":"",U=we(P,V=>{const Y=Wa.translate(V.text),J=n.columns===1?`<div class="tox-collection__item-label">${Y}</div>`:"",de=`<div class="tox-collection__item-icon">${(Te=>{var Ve;return(Ve=u[Te])!==null&&Ve!==void 0?Ve:Te})(V.icon)}</div>`,ce={_:" "," - ":" ","-":" "},pe=Y.replace(/\_| \- |\-/g,Te=>ce[Te]);return`<div data-mce-tooltip="${pe}" class="tox-collection__item${q}" tabindex="-1" data-collection-item-value="${X3.encodeAllRaw(V.value)}" aria-label="${pe}">${de}${J}</div>`}),j=n.columns!=="auto"&&n.columns>1?He(U,n.columns):[U],H=we(j,V=>`<div class="tox-collection__group">${V.join("")}</div>`);Rg(M.element,H.join(""))})(k,A),n.columns==="auto"&&Kv(k,5,"tox-collection__item").each(({numRows:M,numColumns:P})=>{qt.setGridSize(k,M,P)}),qo(k,zD)}}),cn.config({}),qt.config((S=n.columns,S===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:S==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${Ww}`}})),co("collection-events",x)]),eventOrder:{[Ji()]:["disabling","alloy.base.behaviour","collection-events"],[Zl()]:["collection-events","tooltipping"]}});var S;return i2(l,_,["tox-form__group--collection"],[])},w_=ke("color-input-change"),HD=ke("color-swatch-change"),VD=ke("color-picker-cancel"),$p=()=>bn.config({find:E.some}),E1=n=>bn.config({find:r=>Jc(r.element,n).bind(i=>r.getSystem().getByDom(i).toOptional())}),$D=mo([Me("preprocess",yt),Me("postprocess",yt)]),jB=(n,r)=>{const i=za("RepresentingConfigs.memento processors",$D,r);return Lt.config({store:{mode:"manual",getValue:l=>{const u=n.get(l),m=Lt.getValue(u);return i.postprocess(m)},setValue:(l,u)=>{const m=i.preprocess(u),p=n.get(l);Lt.setValue(p,m)}}})},A1=(n,r,i)=>Lt.config({store:{mode:"manual",...n.map(l=>({initialValue:l})).getOr({}),getValue:r,setValue:i}}),eS=(n,r,i)=>A1(n,l=>r(l.element),(l,u)=>i(l.element,u)),__=n=>Lt.config({store:{mode:"memory",initialValue:n}}),tS=ke("rgb-hex-update"),UD=ke("slider-update"),ZD=ke("palette-update"),jD=ke("valid-input"),WD=ke("invalid-input"),qD=ke("validating-input"),oS="colorcustom.rgb.",GD={isEnabled:no,setEnabled:ge,immediatelyShow:ge,immediatelyHide:ge},KD=(n,r,i,l,u,m)=>{const p=(M,P)=>{const q=P.get();M!==q.isEnabled()&&(q.setEnabled(M),M?q.immediatelyShow():q.immediatelyHide())},x=(M,P,q)=>Xm.config({invalidClass:r("invalid"),notify:{onValidate:U=>{Gt(U,qD,{type:M})},onValid:U=>{p(!1,q),Gt(U,jD,{type:M,value:Lt.getValue(U)})},onInvalid:U=>{p(!0,q),Gt(U,WD,{type:M,value:Lt.getValue(U)})}},validator:{validate:U=>{const j=Lt.getValue(U),H=P(j)?Wo.value(!0):Wo.error(n("aria.input.invalid"));return Vr(H)},validateOnLoad:!1}}),v=(M,P,q,U,j)=>{const H=Tt(GD),V=n(oS+"range"),Y=Go.parts.label({dom:{tag:"label"},components:[As(q)]}),J=Go.parts.field({data:j,factory:vf,inputAttributes:{type:"text","aria-label":U,...P==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:ht([x(P,M,H),cn.config({}),fs.config({...u({tooltipText:"",onSetup:$e=>{H.set({isEnabled:()=>fs.isEnabled($e),setEnabled:je=>fs.setEnabled($e,je),immediatelyShow:()=>fs.immediateOpenClose($e,!0),immediatelyHide:()=>fs.immediateOpenClose($e,!1)}),fs.setEnabled($e,!1)},onShow:($e,je)=>{fs.setComponents($e,[{dom:{tag:"p",classes:[r("rgb-warning-note")]},components:[As(n(P==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:$e=>{Xm.isInvalid($e)&&Xm.run($e).get(ge)}}),de=ke("aria-invalid"),ce=Rn(m("invalid",E.some(de),"warning")),pe=[Y,J,Rn({dom:{tag:"div",classes:[r("invalid-icon")]},components:[ce.asSpec()]}).asSpec()],Te=P!=="hex"?[Go.parts["aria-descriptor"]({text:V})]:[],Ve=pe.concat(Te);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[r("rgb-container")]},components:Ve}},_=(M,P)=>{const q=P.red,U=P.green,j=P.blue;Lt.setValue(M,{red:q,green:U,blue:j})},S=Rn({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),k=(M,P)=>{S.getOpt(M).each(q=>{ko(q.element,"background-color","#"+P.value)})};return yl({factory:()=>{const M={red:Tt(E.some(255)),green:Tt(E.some(255)),blue:Tt(E.some(255)),hex:Tt(E.some("ffffff"))},P=pe=>M[pe].get(),q=(pe,Te)=>{M[pe].set(Te)},U=pe=>{const Te=pe.red,Ve=pe.green,$e=pe.blue;q("red",E.some(Te)),q("green",E.some(Ve)),q("blue",E.some($e))},j=(pe,Te)=>{const Ve=Te.event;Ve.type!=="hex"?q(Ve.type,E.none()):l(pe)},H=(pe,Te)=>{const Ve=Te.event;($e=>$e.type==="hex")(Ve)?(($e,je)=>{i($e);const it=mD(je);q("hex",E.some(it.value));const Wt=wb(it);_($e,Wt),U(Wt),Gt($e,tS,{hex:it}),k($e,it)})(pe,Ve.value):(($e,je,it)=>{const Wt=parseInt(it,10);q(je,E.some(Wt)),P("red").bind(Jt=>P("green").bind(oo=>P("blue").map(Bo=>k1(Jt,oo,Bo,1)))).each(Jt=>{const oo=((Bo,En)=>{const Xn=vb(En);return Jh.getField(Bo,"hex").each(so=>{ho.isFocused(so)||Lt.setValue(Bo,{hex:Xn.value})}),Xn})($e,Jt);Gt($e,tS,{hex:oo}),k($e,oo)})})(pe,Ve.type,Ve.value)},V=pe=>({label:n(oS+pe+".label"),description:n(oS+pe+".description")}),Y=V("red"),J=V("green"),de=V("blue"),ce=V("hex");return bs(Jh.sketch(pe=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[pe.field("red",Go.sketch(v(p_,"red",Y.label,Y.description,255))),pe.field("green",Go.sketch(v(p_,"green",J.label,J.description,255))),pe.field("blue",Go.sketch(v(p_,"blue",de.label,de.description,255))),pe.field("hex",Go.sketch(v(M3,"hex",ce.label,ce.description,"ffffff"))),S.asSpec()],formBehaviours:ht([Xm.config({invalidClass:r("form-invalid")}),co("rgb-form-events",[Ke(jD,H),Ke(WD,j),Ke(qD,j)])])})),{apis:{updateHex:(pe,Te)=>{Lt.setValue(pe,{hex:Te.value}),((Ve,$e)=>{const je=wb($e);_(Ve,je),U(je)})(pe,Te),k(pe,Te)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(M,P,q)=>{M.updateHex(P,q)}},extraApis:{}})},WB=(n,r,i,l)=>yl({name:"ColourPicker",configFields:[ct("dom"),Me("onValidHex",ge),Me("onInvalidHex",ge)],factory:m=>{const p=KD(n,r,m.onValidHex,m.onInvalidHex,i,l),x=((j,H)=>{const V=Dd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[H("sv-palette-spectrum")]}}),Y=Dd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[H("sv-palette-thumb")],innerHtml:`<div class=${H("sv-palette-inner-thumb")} role="presentation"></div>`}}),J=(ce,pe)=>{const{width:Te,height:Ve}=ce,$e=ce.getContext("2d");if($e===null)return;$e.fillStyle=pe,$e.fillRect(0,0,Te,Ve);const je=$e.createLinearGradient(0,0,Te,0);je.addColorStop(0,"rgba(255,255,255,1)"),je.addColorStop(1,"rgba(255,255,255,0)"),$e.fillStyle=je,$e.fillRect(0,0,Te,Ve);const it=$e.createLinearGradient(0,0,0,Ve);it.addColorStop(0,"rgba(0,0,0,0)"),it.addColorStop(1,"rgba(0,0,0,1)"),$e.fillStyle=it,$e.fillRect(0,0,Te,Ve)};return yl({factory:ce=>{const pe=oe({x:0,y:0}),Te=ht([bn.config({find:E.some}),ho.config({})]);return Dd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":j(["Saturation {0}%, Brightness {1}%",0,0])},classes:[H("sv-palette")]},model:{mode:"xy",getInitialValue:pe},rounded:!1,components:[V,Y],onChange:(Ve,$e,je)=>{zt(je)||ao(Ve.element,"aria-valuetext",j(["Saturation {0}%, Brightness {1}%",Math.floor(je.x),Math.floor(100-je.y)])),Gt(Ve,ZD,{value:je})},onInit:(Ve,$e,je,it)=>{J(je.element.dom,hD(bD))},sliderBehaviours:Te})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ce,pe,Te)=>{((Ve,$e)=>{const je=Ve.components()[0].element.dom,it=yb($e,100,100),Wt=P3(it);J(je,hD(Wt))})(pe,Te)},setThumb:(ce,pe,Te)=>{((Ve,$e)=>{const je=B3(wb($e));Dd.setValue(Ve,{x:je.saturation,y:100-je.value}),ao(Ve.element,"aria-valuetext",j(["Saturation {0}%, Brightness {1}%",je.saturation,je.value]))})(pe,Te)}},extraApis:{}})})(n,r),v={paletteRgba:Tt(bD),paletteHue:Tt(0)},_=Rn(((j,H)=>{const V=Dd.parts.spectrum({dom:{tag:"div",classes:[H("hue-slider-spectrum")],attributes:{role:"presentation"}}}),Y=Dd.parts.thumb({dom:{tag:"div",classes:[H("hue-slider-thumb")],attributes:{role:"presentation"}}});return Dd.sketch({dom:{tag:"div",classes:[H("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:oe(0)},components:[V,Y],sliderBehaviours:ht([ho.config({})]),onChange:(J,de,ce)=>{ao(J.element,"aria-valuenow",Math.floor(360-3.6*ce)),Gt(J,UD,{value:ce})}})})(0,r)),S=Rn(x.sketch({})),k=Rn(p.sketch({})),A=(j,H,V)=>{S.getOpt(j).each(Y=>{x.setHue(Y,V)})},M=(j,H)=>{k.getOpt(j).each(V=>{p.updateHex(V,H)})},P=(j,H,V)=>{_.getOpt(j).each(Y=>{Dd.setValue(Y,(J=>100-J/360*100)(V))})},q=(j,H)=>{S.getOpt(j).each(V=>{x.setThumb(V,H)})},U=(j,H,V,Y)=>{((J,de)=>{const ce=wb(J);v.paletteRgba.set(ce),v.paletteHue.set(de)})(H,V),pt(Y,J=>{J(j,H,V)})};return{uid:m.uid,dom:m.dom,components:[S.asSpec(),_.asSpec(),k.asSpec()],behaviours:ht([co("colour-picker-events",[Ke(tS,(()=>{const j=[A,P,q];return(H,V)=>{const Y=V.event.hex,J=(de=>B3(wb(de)))(Y);U(H,Y,J.hue,j)}})()),Ke(ZD,(()=>{const j=[M];return(H,V)=>{const Y=V.event.value,J=v.paletteHue.get(),de=yb(J,Y.x,100-Y.y),ce=F3(de);U(H,ce,J,j)}})()),Ke(UD,(()=>{const j=[A,M];return(H,V)=>{const Y=(Te=>(100-Te)/100*360)(V.event.value),J=v.paletteRgba.get(),de=B3(J),ce=yb(Y,de.saturation,de.value),pe=F3(ce);U(H,pe,Y,j)}})())]),bn.config({find:j=>k.getOpt(j)}),qt.config({mode:"acyclic"})])}}}),YD={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var XD=tinymce.util.Tools.resolve("tinymce.Resource");const nS=n=>nn(n,"init");var fg=tinymce.util.Tools.resolve("tinymce.util.Tools");const sS=ke("browse.files.event"),qB=(n,r,i)=>{const l=(_,S)=>{S.stop()},u=_=>(S,k)=>{pt(_,A=>{A(S,k)})},m=Rn({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ht([co("input-file-events",[hd(Nm()),hd(zu())])])}),p=n.label.map(_=>Hp(_,r)),x=Go.parts.field({factory:Za,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[As(r.translate("Browse for an image")),m.asSpec()],action:_=>{m.get(_).element.dom.click()},buttonBehaviours:ht([$p(),__(i.getOr([])),cn.config({}),w1(()=>r.checkUiComponentContext(n.context).shouldDisable),dr(()=>r.checkUiComponentContext(n.context))])}),v={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ht([Xt.config({disabled:()=>r.checkUiComponentContext(n.context).shouldDisable}),dr(()=>r.checkUiComponentContext(n.context)),sn.config({toggleClass:"dragenter",toggleOnExecute:!1}),co("dropzone-events",[Ke("dragenter",u([l,sn.toggle])),Ke("dragleave",u([l,sn.toggle])),Ke("dragover",l),Ke("drop",u([l,(_,S)=>{var k;if(!Xt.isDisabled(_)){const A=S.event.raw;Gt(_,sS,{files:(k=A.dataTransfer)===null||k===void 0?void 0:k.files})}}])),Ke(Rm(),(_,S)=>{const k=S.event.raw.target;Gt(_,sS,{files:k.files})})])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[As(r.translate("Drop an image here"))]},x]}]};return i2(p,v,["tox-form__group--stretched"],[co("handle-files",[Ke(sS,(_,S)=>{Go.getField(_).each(k=>{var A,M;A=k,(M=S.event.files)&&(Lt.setValue(A,((P,q)=>{const U=fg.explode(q.getOption("images_file_types"));return Co(Un(P),j=>vn(U,H=>zd(j.name.toLowerCase(),`.${H.toLowerCase()}`)))})(M,r)),Gt(A,El,{name:n.name}))})})])])},rS=ke("alloy-fake-before-tabstop"),aS=ke("alloy-fake-after-tabstop"),C_=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:ht([ho.config({ignore:!0}),cn.config({})])}),iS=(n,r)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[C_([rS]),r,C_([aS])],behaviours:ht([E1(1)])}),QD=(n,r)=>{Gt(n,wc(),{raw:{which:9,shiftKey:r}})},JD=(n,r)=>{const i=r.element;cr(i,rS)?QD(n,!0):cr(i,aS)&&QD(n,!1)},d2=n=>dh(n,["."+rS,"."+aS].join(","),ze),k_=ke("update-dialog"),eO=ke("update-title"),lS=ke("update-body"),cS=ke("update-footer"),dS=ke("body-send-message"),S_=ke("dialog-focus-shifted"),uS=ve().browser,u2=uS.isSafari(),GB=uS.isFirefox(),tO=u2||GB,KB=uS.isChromium(),YB=({scrollTop:n,scrollHeight:r,clientHeight:i})=>Math.ceil(n)+i>=r,oO=(n,r)=>n.scrollTo(0,r==="bottom"?99999999:r),nO=(n,r,i)=>{const l=n.dom;E.from(l.contentDocument).fold(i,u=>{let m=0;const p=((v,_)=>{const S=v.body;return E.from(!/^<!DOCTYPE (html|HTML)/.test(_)&&(!KB&&!u2||Ae(S)&&(S.scrollTop!==0||Math.abs(S.scrollHeight-S.clientHeight)>1))?S:v.documentElement)})(u,r).map(v=>(m=v.scrollTop,v)).forall(YB),x=()=>{const v=l.contentWindow;Ae(v)&&(p?oO(v,"bottom"):!p&&tO&&m!==0&&oO(v,m))};u2&&l.addEventListener("load",x,{once:!0}),u.open(),u.write(r),u.close(),u2||x()})},XB=Hs(tO,u2?500:200).map(n=>((r,i)=>{let l=null,u=null;return{cancel:()=>{ot(l)||(clearTimeout(l),l=null,u=null)},throttle:(...m)=>{u=m,ot(l)&&(l=setTimeout(()=>{const p=u;l=null,u=null,r.apply(null,p)},i))}}})(nO,n)),mS=ke("toolbar.button.execute"),Df=ke("common-button-display-events"),sO={[Ji()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[_c()]:["toolbar-button-events",Df],[tu()]:["toolbar-button-events","dropdown-events","tooltipping"],[Qi()]:["focusing","alloy.base.behaviour",Df]},gS=n=>ko(n.element,"width",Fa(n.element,"width")),rO=(n,r,i)=>Sl(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},r),fS=(n,r)=>rO(n,r,[]),Up=(n,r)=>rO(n,r,[So.config({})]),m2=(n,r,i)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[As(i.translate(n))],behaviours:ht([So.config({})])}),Fc=ke("update-menu-text"),T1=ke("update-menu-icon"),aO=ke("update-tooltip-text"),pS=(n,r,i,l)=>{const u=Tt(ge),m=Tt(n.tooltip),p=n.text.map(U=>Rn(m2(U,r,i.providers))),x=n.icon.map(U=>Rn(Up(U,i.providers.icons))),v=(U,j)=>{const H=Lt.getValue(U);return ho.focus(H),Gt(H,"keydown",{raw:j.event.raw}),nc.close(H),E.some(!0)},_=n.role.fold(()=>({}),U=>({role:U})),S=E.from(n.listRole).map(U=>({listRole:U})).getOr({}),k=n.ariaLabel.fold(()=>({}),U=>({"aria-label":i.providers.translate(U)})),A=Sl("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},i.providers.icons),M=ke("common-button-display-events"),P="dropdown-events";return Rn(nc.sketch({...n.uid?{uid:n.uid}:{},..._,...S,dom:{tag:"button",classes:[r,`${r}--select`].concat(we(n.classes,U=>`${r}--${U}`)),attributes:{...k,...Ae(l)?{"data-mce-name":l}:{}}},components:_1([x.map(U=>U.asSpec()),p.map(U=>U.asSpec()),E.some(A)]),matchWidth:!0,useMinWidth:!0,onOpen:(U,j,H)=>{n.searchable&&(V=>{Q4(V).each(Y=>ho.focus(Y))})(H)},dropdownBehaviours:ht([...n.dropdownBehaviours,w1(()=>n.disabled||i.providers.checkUiComponentContext(n.context).shouldDisable),dr(()=>i.providers.checkUiComponentContext(n.context)),uv.config({}),So.config({}),...n.tooltip.map(U=>fs.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(U),onShow:j=>{if(Rl(m.get(),n.tooltip,(H,V)=>V!==H).getOr(!1)){const H=i.providers.translate(m.get().getOr(""));fs.setComponents(j,i.providers.tooltips.getComponents({tooltipText:H}))}}}))).toArray(),co(P,[xu(n,u),Af(n,u)]),co(M,[as((U,j)=>{n.listRole!=="listbox"&&gS(U)})]),co("update-dropdown-width-variable",[Ke(Wl(),(U,j)=>nc.close(U))]),co("menubutton-update-display-text",[Ke(Fc,(U,j)=>{p.bind(H=>H.getOpt(U)).each(H=>{So.set(H,[As(i.providers.translate(j.event.text))])})}),Ke(T1,(U,j)=>{x.bind(H=>H.getOpt(U)).each(H=>{So.set(H,[Up(j.event.icon,i.providers.icons)])})}),Ke(aO,(U,j)=>{const H=i.providers.translate(j.event.text);ao(U.element,"aria-label",H),m.set(E.some(j.event.text))})])]),eventOrder:bs(sO,{[Qi()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[_c()]:["toolbar-button-events",fs.name(),P,M]}),sandboxBehaviours:ht([qt.config({mode:"special",onLeft:v,onRight:v}),co("dropdown-sandbox-events",[Ke(Bp,(U,j)=>{(H=>{const V=Lt.getValue(H),Y=db(H).map(g6);nc.refetch(V).get(()=>{const J=vr.getCoupled(V,"sandbox");Y.each(de=>db(J).each(ce=>((pe,Te)=>{Lt.setValue(pe,Te.fetchPattern),pe.element.dom.selectionStart=Te.selectionStart,pe.element.dom.selectionEnd=Te.selectionEnd})(ce,de)))})})(U),j.stop()}),Ke(u6,(U,j)=>{((H,V)=>{(Y=>xn.getState(Y).bind(gn.getHighlighted).bind(gn.getHighlighted))(H).each(Y=>{((J,de,ce,pe)=>{const Te={...pe,target:de};J.getSystem().triggerEvent(ce,de,Te)})(H,Y.element,V.event.eventType,V.event.interactionEvent)})})(U,j),j.stop()})])]),lazySink:i.getSink,toggleClass:`${r}--active`,parts:{menu:{...f1(0,n.columns,n.presets),fakeFocus:n.searchable,...n.listRole==="listbox"?{}:{onHighlightItem:BD,onCollapseMenu:(U,j,H)=>{gn.getHighlighted(H).each(V=>{BD(U,H,V)})},onDehighlightItem:LB}}},getAnchorOverrides:()=>({maxHeightFunction:(U,j)=>{Mx()(U,j-10)}}),fetch:U=>Xo(rn(n.fetch,U))})).asSpec()},iO=n=>n.type==="separator",QB={type:"separator"},lO=(n,r)=>{const i=((l,u)=>{const m=Vo(l,(p,x)=>(v=>De(v))(x)?x===""?p:x==="|"?p.length>0&&!iO(p[p.length-1])?p.concat([QB]):p:nn(u,x.toLowerCase())?p.concat([u[x.toLowerCase()]]):p:p.concat([x]),[]);return m.length>0&&iO(m[m.length-1])&&m.pop(),m})(De(n)?n.split(" "):n,r);return _o(i,(l,u)=>{if((m=>nn(m,"getSubmenuItems"))(u)){const m=(x=>{const v=Qt(x,"value").getOrThunk(()=>ke("generated-menu-item"));return bs({value:v},x)})(u),p=((x,v)=>{const _=x.getSubmenuItems(),S=lO(_,v);return{item:x,menus:bs(S.menus,{[x.value]:S.items}),expansions:bs(S.expansions,{[x.value]:x.value})}})(m,r);return{menus:bs(l.menus,p.menus),items:[p.item,...l.items],expansions:bs(l.expansions,p.expansions)}}return{...l,items:[u,...l.items]}},{menus:{},expansions:{},items:[]})},Zp=(n,r,i,l)=>{const u=ke("primary-menu"),m=lO(n,i.shared.providers.menuItems());if(m.items.length===0)return E.none();const p=(k=>k.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-field",placeholder:A.placeholder})))(l),x=PD(u,m.items,r,i,l.isHorizontalMenu,p),v=(k=>k.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-results"})))(l),_=Rs(m.menus,(k,A)=>PD(A,k,r,i,!1,v)),S=bs(_,Hg(u,x));return E.from(xf.tieredData(u,S,m.expansions))},g2=n=>!nn(n,"items"),hS="data-value",cO=(n,r,i,l,u)=>we(i,m=>g2(m)?{type:"togglemenuitem",...u?{}:{role:"option"},text:m.text,value:m.value,active:m.value===l,onAction:()=>{Lt.setValue(n,m.value),Gt(n,El,{name:r}),ho.focus(n)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>cO(n,r,m.items,l,u)}),E_=(n,r)=>dn(n,i=>g2(i)?Hs(i.value===r,i):E_(i.items,r)),dO=n=>{const r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let i=n.value.toFixed((l=n.unit)in r?r[l]:1);var l;return i.indexOf(".")!==-1&&(i=i.replace(/\.?0*$/,"")),i+n.unit},A_=n=>{const r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(r!==null){const i=parseFloat(r[1]),l=r[2];return Wo.value({value:i,unit:l})}return Wo.error(n)},uO=(n,r)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=u=>nn(i,u);return n.unit===r?E.some(n.value):l(n.unit)&&l(r)?i[n.unit]===i[r]?E.some(n.value):E.some(n.value/i[n.unit]*i[r]):E.none()},T_=n=>E.none(),mO=(n,r)=>{const i=A_(n).toOptional(),l=A_(r).toOptional();return Rl(i,l,(u,m)=>uO(u,m.unit).map(p=>m.value/p).map(p=>{return x=p,v=m.unit,_=>uO(_,v).map(S=>({value:S*x,unit:v}));var x,v}).getOr(T_)).getOr(T_)},gO=(n,r)=>{const i=n.label.map(A=>Hp(A,r)),l=[Xt.config({disabled:()=>n.disabled||r.checkUiComponentContext(n.context).shouldDisable}),dr(()=>r.checkUiComponentContext(n.context)),qt.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:A=>(qo(A,c2),E.some(!0))}),co("textfield-change",[Ke(ud(),(A,M)=>{Gt(A,El,{name:n.name})}),Ke(cx(),(A,M)=>{Gt(A,El,{name:n.name})})]),cn.config({})],u=n.validation.map(A=>Xm.config({getRoot:M=>ga(M.element),invalidClass:"tox-invalid",validator:{validate:M=>{const P=Lt.getValue(M),q=A.validator(P);return Vr(q===!0?Wo.value(P):Wo.error(q))},validateOnLoad:A.validateOnLoad}})).toArray(),m=n.placeholder.fold(oe({}),A=>({placeholder:r.translate(A)})),p=n.inputMode.fold(oe({}),A=>({inputmode:A})),x={...n.spellcheck.fold(oe({}),A=>({spellcheck:A})),...m,...p,"data-mce-name":n.name},v=Go.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(A=>({data:A})).getOr({}),inputAttributes:x,inputClasses:[n.classname],inputBehaviours:ht(_s([l,u])),selectOnFocus:!1,factory:vf}),_=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[v]}:v,S=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),k=[Xt.config({disabled:()=>n.disabled||r.checkUiComponentContext(n.context).shouldDisable,onDisabled:A=>{Go.getField(A).each(Xt.disable)},onEnabled:A=>{Go.getField(A).each(Xt.enable)}}),dr(()=>r.checkUiComponentContext(n.context))];return i2(i,_,S,k)},fO=n=>({isEnabled:()=>!Xt.isDisabled(n),setEnabled:r=>Xt.set(n,!r),setActive:r=>{const i=n.element;r?(vs(i,"tox-tbtn--enabled"),ao(i,"aria-pressed",!0)):(en(i,"tox-tbtn--enabled"),Us(i,"aria-pressed"))},isActive:()=>cr(n.element,"tox-tbtn--enabled"),setTooltip:r=>{Gt(n,aO,{text:r})},setText:r=>{Gt(n,Fc,{text:r})},setIcon:r=>Gt(n,T1,{icon:r})}),f2=(n,r,i,l,u=!0,m)=>{const p=n.buttonType==="bordered"?["bordered"]:[];return pS({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:l,fetch:(x,v)=>{const _={pattern:n.search.isSome()?FB(x):""};n.fetch(S=>{v(Zp(S,fu.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))},_,fO(x))},onSetup:n.onSetup,getApi:x=>fO(x),columns:1,presets:"normal",classes:p,dropdownBehaviours:[...u?[cn.config({})]:[]],context:n.context},r,i.shared,m)},JB=(n,r,i)=>{const l=m=>p=>{const x=!p.isActive();p.setActive(x),m.storage.set(x),i.shared.getSink().each(v=>{r().getOpt(v).each(_=>{gr(_.element),Gt(_,gg,{name:m.name,value:m.storage.get()})})})},u=m=>p=>{p.setActive(m.storage.get())};return m=>{m(we(n,p=>{const x=p.text.fold(()=>({}),v=>({text:v}));return{type:p.type,active:!1,...x,context:p.context,onAction:l(p),onSetup:u(p)}}))}},pO=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[As(n)]}),p2=(n,r,i)=>{n.customStateIcon.each(l=>r.push(bS(l,i.shared.providers.icons,n.customStateIconTooltip.fold(()=>[],u=>[fs.config(i.shared.providers.tooltips.getConfig({tooltipText:u}))]),["tox-icon-custom-state"])))},D_=ke("leaf-label-event-id"),h2=({leaf:n,onLeafAction:r,visible:i,treeId:l,selectedId:u,backstage:m})=>{const p=n.menu.map(v=>f2(v,"tox-mbtn",m,E.none(),i)),x=[pO(n.title)];return p2(n,x,m),p.each(v=>x.push(v)),Za.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:x,role:"treeitem",action:v=>{r(n.id),v.getSystem().broadcastOn([`update-active-item-${l}`],{value:n.id})},eventOrder:{[wc()]:[D_,"keying"]},buttonBehaviours:ht([...i?[cn.config({})]:[],sn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),nl.config({channels:{[`update-active-item-${l}`]:{onReceive:(v,_)=>{(_.value===n.id?sn.on:sn.off)(v)}}}}),co(D_,[as((v,_)=>{u.each(S=>{(S===n.id?sn.on:sn.off)(v)})}),Ke(wc(),(v,_)=>{const S=_.event.raw.code==="ArrowLeft",k=_.event.raw.code==="ArrowRight";S?(Yr(v.element,".tox-tree--directory").each(A=>{v.getSystem().getByDom(A).each(M=>{pc(A,".tox-tree--directory__label").each(P=>{M.getSystem().getByDom(P).each(ho.focus)})})}),_.stop()):k&&_.stop()})])])})},bS=(n,r,i,l,u)=>Sl(n,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:i,attributes:u},r),hO=ke("directory-label-event-id"),eP=({directory:n,visible:r,noChildren:i,backstage:l})=>{const u=n.menu.map(v=>f2(v,"tox-mbtn",l,E.none())),m=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p=l.shared.providers.icons,bS("chevron-right",p,[]))]},pO(n.title)];var p;p2(n,m,l),u.each(v=>{m.push(v)});const x=v=>{Yr(v.element,".tox-tree--directory").each(_=>{v.getSystem().getByDom(_).each(S=>{const k=!sn.isOn(S);sn.toggle(S),Gt(v,"expand-tree-node",{expanded:k,node:n.id})})})};return Za.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:m,action:x,eventOrder:{[wc()]:[hO,"keying"]},buttonBehaviours:ht([...r?[cn.config({})]:[],co(hO,[Ke(wc(),(v,_)=>{const S=_.event.raw.code==="ArrowRight",k=_.event.raw.code==="ArrowLeft";S&&i&&_.stop(),(S||k)&&Yr(v.element,".tox-tree--directory").each(A=>{v.getSystem().getByDom(A).each(M=>{!sn.isOn(M)&&S||sn.isOn(M)&&k?(x(v),_.stop()):k&&!sn.isOn(M)&&(Yr(M.element,".tox-tree--directory").each(P=>{pc(P,".tox-tree--directory__label").each(q=>{M.getSystem().getByDom(q).each(ho.focus)})}),_.stop())})})})])])})},xS=({children:n,onLeafAction:r,visible:i,treeId:l,expandedIds:u,selectedId:m,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(x=>x.type==="leaf"?h2({leaf:x,selectedId:m,onLeafAction:r,visible:i,treeId:l,backstage:p}):_b({directory:x,expandedIds:u,selectedId:m,onLeafAction:r,labelTabstopping:i,treeId:l,backstage:p})),behaviours:ht([wl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),So.config({})])}),vS=ke("directory-event-id"),_b=({directory:n,onLeafAction:r,labelTabstopping:i,treeId:l,backstage:u,expandedIds:m,selectedId:p})=>{const{children:x}=n,v=Tt(m),_=m.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[eP({directory:n,visible:i,noChildren:n.children.length===0,backstage:u}),xS({children:x,expandedIds:m,selectedId:p,onLeafAction:r,visible:_,treeId:l,backstage:u})],behaviours:ht([co(vS,[as((S,k)=>{sn.set(S,_)}),Ke("expand-tree-node",(S,k)=>{const{expanded:A,node:M}=k.event;v.set(A?[...v.get(),M]:v.get().filter(P=>P!==M))})]),sn.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(S,k)=>{const A=S.components()[1],M=(P=k,x.map(q=>q.type==="leaf"?h2({leaf:q,selectedId:p,onLeafAction:r,visible:P,treeId:l,backstage:u}):_b({directory:q,expandedIds:v.get(),selectedId:p,onLeafAction:r,labelTabstopping:P,treeId:l,backstage:u})));var P;k?wl.grow(A):wl.shrink(A),So.set(A,M)}})])}},bO=ke("tree-event-id"),O_=(n,r,i=[],l,u,m,p)=>{const x=r.fold(()=>({}),S=>({action:S})),v={buttonBehaviours:ht([rD(()=>!n.enabled||p.checkUiComponentContext(n.context).shouldDisable),dr(()=>p.checkUiComponentContext(n.context)),cn.config({}),...m.map(S=>fs.config(p.tooltips.getConfig({tooltipText:p.translate(S)}))).toArray(),co("button press",[A0("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...x},_=bs(v,{dom:l});return bs(_,{components:u})},tP=(n,r,i,l=[],u)=>{const m={tag:"button",classes:["tox-tbtn"],attributes:{...n.tooltip.map(v=>({"aria-label":i.translate(v)})).getOr({}),"data-mce-name":u}},p=n.icon.map(v=>fS(v,i.icons)),x=_1([p]);return O_(n,r,l,m,x,n.tooltip,i)},yS=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},xO=(n,r,i,l=[],u=[])=>{const m=i.translate(n.text),p=n.icon.map(k=>fS(k,i.icons)),x=[p.getOrThunk(()=>As(m))],v=n.buttonType.getOr(n.primary||n.borderless?"primary":"secondary"),_={tag:"button",classes:[...yS(v),...p.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...u],attributes:{"aria-label":m,"data-mce-name":n.text}},S=n.icon.map(oe(m));return O_(n,r,l,_,x,S,i)},vO=(n,r,i,l=[],u=[])=>{const m=xO(n,E.some(r),i,l,u);return Za.sketch(m)},yO=(n,r)=>i=>{r==="custom"?Gt(i,gg,{name:n,value:{}}):r==="submit"?qo(i,c2):r==="cancel"?qo(i,Vp):console.error("Unknown button type: ",r)},R_=(n,r,i)=>{if(((l,u)=>u==="menu")(0,r)){const l=()=>p,u=n,m={...n,buttonType:"default",type:"menubutton",search:E.none(),onSetup:x=>(x.setEnabled(n.enabled),ge),fetch:JB(u.items,l,i)},p=Rn(f2(m,"tox-tbtn",i,E.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return p.asSpec()}if(((l,u)=>u==="custom"||u==="cancel"||u==="submit")(0,r)){const l=yO(n.name,r),u={...n,context:r==="cancel"?"any":n.context,borderless:!1};return vO(u,l,i.shared.providers,[])}if(((l,u)=>u==="togglebutton")(0,r))return((l,u,m)=>{var p,x;const v=l.icon.map(V=>Up(V,u.icons)).map(Rn),_=l.buttonType.getOr(l.primary?"primary":"secondary"),S={...l,name:(p=l.name)!==null&&p!==void 0?p:"",tooltip:l.tooltip,enabled:(x=l.enabled)!==null&&x!==void 0&&x},k=S.tooltip.or(l.text).map(V=>({"aria-label":u.translate(V)})).getOr({}),A=yS(_??"secondary"),M=l.icon.isSome()&&l.text.isSome(),P={tag:"button",classes:[...A.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...M?["tox-button--icon-and-text"]:[]],attributes:{...k,...Ae(m)?{"data-mce-name":m}:{}}},q=u.translate(l.text.getOr("")),U=As(q),j=[..._1([v.map(V=>V.asSpec())]),...l.text.isSome()?[U]:[]],H=O_(S,E.some(V=>{Gt(V,gg,{name:l.name,value:{setIcon:Y=>{v.map(J=>J.getOpt(V).each(de=>{So.set(de,[Up(Y,u.icons)])}))}}})}),[],P,j,l.tooltip,u);return Za.sketch(H)})(n,i.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")},oP={type:"separator"},nP=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:ge}),wS=(n,r)=>({type:"menuitem",value:r,text:n,meta:{attach:void 0},onAction:ge}),wO=(n,r)=>(i=>we(i,nP))(((i,l)=>Co(l,u=>u.type===i))(n,r)),sP=n=>wO("header",n.targets),rP=n=>wO("anchor",n.targets),_O=n=>E.from(n.anchorTop).map(r=>wS("<top>",r)).toArray(),aP=n=>E.from(n.anchorBottom).map(r=>wS("<bottom>",r)).toArray(),_S=(n,r)=>{const i=n.toLowerCase();return Co(r,l=>{var u;const m=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(u=l.value)!==null&&u!==void 0?u:"";return $s(m.toLowerCase(),i)||$s(p.toLowerCase(),i)})},rm=ke("aria-invalid"),ra=n=>(r,i,l,u,m)=>Qt(i,"name").fold(()=>n(i,u,E.none(),m),p=>r.field(p,n(i,u,Qt(l,p),m))),iP={bar:ra((n,r)=>((i,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:we(i.items,l.interpreter)}))(n,r.shared)),collection:ra((n,r,i)=>ZB(n,r.shared.providers,i)),alertbanner:ra((n,r)=>((i,l)=>{const u=G4(i.icon,l.icons);return ec.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${i.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:i.url?void 0:u},components:i.url?[Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:u,attributes:{title:l.translate(i.iconTooltip)}},action:m=>Gt(m,gg,{name:"alert-banner",value:i.url}),buttonBehaviours:ht([s6()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(i.text)}}]})})(n,r.shared.providers)),input:ra((n,r,i)=>((l,u,m)=>gO({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:E.none(),maximized:l.maximized,data:m,context:l.context,spellcheck:E.none()},u))(n,r.shared.providers,i)),textarea:ra((n,r,i)=>((l,u,m)=>gO({name:l.name,multiline:!0,label:l.label,inputMode:E.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:E.none(),maximized:l.maximized,data:m,context:l.context,spellcheck:l.spellcheck},u))(n,r.shared.providers,i)),label:ra((n,r,i,l)=>((u,m,p)=>{const x="tox-label",v=u.align==="center"?[`${x}--center`]:[],_=u.align==="end"?[`${x}--end`]:[],S=Rn({dom:{tag:"label",classes:[x,...v,..._]},components:[As(m.providers.translate(u.label))]}),k=we(u.items,m.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[S.asSpec(),...k],behaviours:ht([$p(),So.config({}),(A=E.none(),eS(A,bm,Rg)),qt.config({mode:"acyclic"}),co("label",[as(M=>{u.for.each(P=>{p(P).each(q=>{S.getOpt(M).each(U=>{var j;const H=(j=Eo(q.element,"id"))!==null&&j!==void 0?j:ke("form-field");ao(q.element,"id",H),ao(U.element,"for",H)})})})})])])};var A})(n,r.shared,l)),iframe:(M_=(n,r,i)=>((l,u,m)=>{const p="tox-dialog__iframe",x=l.transparent?[]:[`${p}--opaque`],v=l.border?["tox-navobj-bordered"]:[],_={...l.label.map(M=>({title:M})).getOr({}),...m.map(M=>({srcdoc:M})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},S=((M,P)=>{const q=Tt(M.getOr(""));return{getValue:U=>q.get(),setValue:(U,j)=>{if(q.get()!==j){const H=U.element,V=()=>ao(H,"srcdoc",j);P?XB.fold(oe(nO),Y=>Y.throttle)(H,j,V):V()}q.set(j)}}})(m,l.streamContent),k=l.label.map(M=>Hp(M,u)),A=Go.parts.field({factory:{sketch:M=>iS(E.from(v),{uid:M.uid,dom:{tag:"iframe",attributes:_,classes:[p,...x]},behaviours:ht([cn.config({}),ho.config({}),A1(m,S.getValue,S.setValue),nl.config({channels:{[S_]:{onReceive:(P,q)=>{q.newFocus.each(U=>{ga(P.element).each(j=>{($o(P.element,U)?vs:en)(j,"tox-navobj-bordered-focus")})})}}}})])})}});return i2(k,A,["tox-form__group--stretched"],[])})(n,r.shared.providers,i),(n,r,i,l,u)=>{const m=bs(r,{source:"dynamic"});return ra(M_)(n,m,i,l,u)}),button:ra((n,r)=>((i,l)=>{const u=yO(i.name,"custom");return m=E.none(),p=Go.parts.field({factory:Za,...xO(i,E.some(u),l,[__(""),$p()])}),i2(m,p,[],[]);var m,p})(n,r.shared.providers)),checkbox:ra((n,r,i)=>((l,u,m)=>{const p=k=>(k.element.dom.click(),E.some(!0)),x=Go.parts.field({factory:{sketch:yt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ht([$p(),Xt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable,onDisabled:k=>{ga(k.element).each(A=>vs(A,"tox-checkbox--disabled"))},onEnabled:k=>{ga(k.element).each(A=>en(A,"tox-checkbox--disabled"))}}),cn.config({}),ho.config({}),eS(m,ym,Gi),qt.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),co("checkbox-events",[Ke(Rm(),(k,A)=>{Gt(k,El,{name:l.name})})])])}),v=Go.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[As(u.translate(l.label))],behaviours:ht([uv.config({})])}),_=k=>Sl(k==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+k]},u.icons),S=Rn({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[_("checked"),_("unchecked")]});return Go.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[x,S.asSpec(),v],fieldBehaviours:ht([Xt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable}),dr(()=>u.checkUiComponentContext(l.context))])})})(n,r.shared.providers,i)),colorinput:ra((n,r,i)=>((l,u,m,p)=>{const x=Go.parts.field({factory:vf,inputClasses:["tox-textfield"],data:p,onSetValue:k=>Xm.run(k).get(ge),inputBehaviours:ht([Xt.config({disabled:()=>u.providers.isDisabled()||u.providers.checkUiComponentContext(l.context).shouldDisable}),dr(()=>u.providers.checkUiComponentContext(l.context)),cn.config({}),Xm.config({invalidClass:"tox-textbox-field-invalid",getRoot:k=>ga(k.element),notify:{onValid:k=>{const A=Lt.getValue(k);Gt(k,w_,{color:A})}},validator:{validateOnLoad:!1,validate:k=>{const A=Lt.getValue(k);if(A.length===0)return Vr(Wo.value(!0));{const M=ks("span");ko(M,"background-color",A);const P=ir(M,"background-color").fold(()=>Wo.error("blah"),q=>Wo.value(A));return Vr(P)}}}})]),selectOnFocus:!1}),v=l.label.map(k=>Hp(k,u.providers)),_=(k,A)=>{Gt(k,HD,{value:A})},S=Rn(((k,A)=>nc.sketch({dom:k.dom,components:k.components,toggleClass:"mce-active",dropdownBehaviours:ht([w1(()=>A.providers.isDisabled()||A.providers.checkUiComponentContext(k.context).shouldDisable),dr(()=>A.providers.checkUiComponentContext(k.context)),uv.config({}),cn.config({})]),layouts:k.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:A.getSink,fetch:M=>Xo(P=>k.fetch(P)).map(P=>E.from(Y3(bs(v_(ke("menu-value"),P,q=>{k.onItemAction(M,q)},k.columns,k.presets,fu.CLOSE_ON_EXECUTE,ze,A.providers),{movement:r2(k.columns,k.presets)})))),parts:{menu:f1(0,0,k.presets)}}))({dom:{tag:"span",attributes:{"aria-label":u.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Pr,br,Lr],onLtr:()=>[br,Pr,Lr]},components:[],fetch:ED(m.getColors(l.storageKey),l.storageKey,m.hasCustomColors()),columns:m.getColorCols(l.storageKey),presets:"color",onItemAction:(k,A)=>{S.getOpt(k).each(M=>{A==="custom"?m.colorPicker(P=>{P.fold(()=>qo(M,VD),q=>{_(M,q),V3(l.storageKey,q)})},"#ffffff"):_(M,A==="remove"?"":A)})},context:l.context},u));return Go.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[x,S.asSpec()]}]),fieldBehaviours:ht([co("form-field-events",[Ke(w_,(k,A)=>{S.getOpt(k).each(M=>{ko(M.element,"background-color",A.event.color)}),Gt(k,El,{name:l.name})}),Ke(HD,(k,A)=>{Go.getField(k).each(M=>{Lt.setValue(M,A.event.value),bn.getCurrent(k).each(ho.focus)})}),Ke(VD,(k,A)=>{Go.getField(k).each(M=>{bn.getCurrent(k).each(ho.focus)})})])])})})(n,r.shared,r.colorinput,i)),colorpicker:ra((n,r,i)=>((l,u,m)=>{const p=_=>"tox-"+_,x=WB((_=>S=>De(S)?_.translate(YD[S]):_.translate(S))(u),p,u.tooltips.getConfig,(_,S,k=_,A=_)=>Sl(k,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+_],attributes:{title:u.translate(A),"aria-live":"polite",...S.fold(()=>({}),M=>({id:M}))}},u.icons)),v=Rn(x.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:_=>{Gt(_,gg,{name:"hex-valid",value:!0})},onInvalidHex:_=>{Gt(_,gg,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[v.asSpec()],behaviours:ht([A1(m,_=>{const S=v.get(_);return bn.getCurrent(S).bind(k=>Lt.getValue(k).hex).map(k=>"#"+es(k,"#")).getOr("")},(_,S)=>{const k=E.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(S)).bind(M=>lt(M,1)),A=v.get(_);bn.getCurrent(A).fold(()=>{console.log("Can not find form")},M=>{Lt.setValue(M,{hex:k.getOr("")}),Jh.getField(M,"hex").each(P=>{qo(P,ud())})})}),$p()])}})(0,r.shared.providers,i)),dropzone:ra((n,r,i)=>qB(n,r.shared.providers,i)),grid:ra((n,r)=>((i,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${i.columns}col`]},components:we(i.items,l.interpreter)}))(n,r.shared)),listbox:ra((n,r,i)=>((l,u,m)=>{const p=vn(l.items,A=>!g2(A)),x=u.shared.providers,v=m.bind(A=>E_(l.items,A)).orThunk(()=>_t(l.items).filter(g2)),_=l.label.map(A=>Hp(A,x)),S=Go.parts.field({dom:{},factory:{sketch:A=>pS({context:l.context,uid:A.uid,text:v.map(M=>M.text),icon:E.none(),tooltip:E.none(),role:Hs(!p,"combobox"),...p?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(M,P)=>{const q=cO(M,l.name,l.items,Lt.getValue(M),p);P(Zp(q,fu.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:E.none()}))},onSetup:oe(ge),getApi:oe({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[cn.config({}),A1(v.map(M=>M.value),M=>Eo(M.element,hS),(M,P)=>{E_(l.items,P).each(q=>{ao(M.element,hS,q.value),Gt(M,Fc,{text:q.text})})})]},"tox-listbox",u.shared)}}),k={dom:{tag:"div",classes:["tox-listboxfield"]},components:[S]};return Go.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:_s([_.toArray(),[k]]),fieldBehaviours:ht([Xt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:A=>{Go.getField(A).each(Xt.disable)},onEnabled:A=>{Go.getField(A).each(Xt.enable)}})])})})(n,r,i)),selectbox:ra((n,r,i)=>((l,u,m)=>{const p=we(l.items,k=>({text:u.translate(k.text),value:k.value})),x=l.label.map(k=>Hp(k,u)),v=Go.parts.field({dom:{},...m.map(k=>({data:k})).getOr({}),selectAttributes:{size:l.size},options:p,factory:X0,selectBehaviours:ht([Xt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable}),cn.config({}),co("selectbox-change",[Ke(Rm(),(k,A)=>{Gt(k,El,{name:l.name})})])])}),_=l.size>1?E.none():E.some(Sl("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},u.icons)),S={dom:{tag:"div",classes:["tox-selectfield"]},components:_s([[v],_.toArray()])};return Go.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:_s([x.toArray(),[S]]),fieldBehaviours:ht([Xt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable,onDisabled:k=>{Go.getField(k).each(Xt.disable)},onEnabled:k=>{Go.getField(k).each(Xt.enable)}}),dr(()=>u.checkUiComponentContext(l.context))])})})(n,r.shared.providers,i)),sizeinput:ra((n,r)=>((i,l)=>{let u=T_;const m=ke("ratio-event"),p=j=>Sl(j,{tag:"span",classes:["tox-icon","tox-lock-icon__"+j]},l.icons),x=()=>!i.enabled||l.checkUiComponentContext(i.context).shouldDisable,v=dr(()=>l.checkUiComponentContext(i.context)),_=i.label.getOr("Constrain proportions"),S=l.translate(_),k=er.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":S,"data-mce-name":_}},components:[p("lock"),p("unlock")],buttonBehaviours:ht([Xt.config({disabled:x}),v,cn.config({}),fs.config(l.tooltips.getConfig({tooltipText:S}))])}),A=j=>({dom:{tag:"div",classes:["tox-form__group"]},components:j}),M=j=>Go.parts.field({factory:vf,inputClasses:["tox-textfield"],inputBehaviours:ht([Xt.config({disabled:x}),v,cn.config({}),co("size-input-events",[Ke(Zl(),(H,V)=>{Gt(H,m,{isField1:j})}),Ke(Rm(),(H,V)=>{Gt(H,El,{name:i.name})})])]),selectOnFocus:!1}),P=j=>({dom:{tag:"label",classes:["tox-label"]},components:[As(l.translate(j))]}),q=er.parts.field1(A([Go.parts.label(P("Width")),M(!0)])),U=er.parts.field2(A([Go.parts.label(P("Height")),M(!1)]));return er.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[q,U,A([P(" "),k])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(j,H,V)=>{A_(Lt.getValue(j)).each(Y=>{u(Y).each(J=>{Lt.setValue(H,dO(J))})})},coupledFieldBehaviours:ht([Xt.config({disabled:x,onDisabled:j=>{er.getField1(j).bind(Go.getField).each(Xt.disable),er.getField2(j).bind(Go.getField).each(Xt.disable),er.getLock(j).each(Xt.disable)},onEnabled:j=>{er.getField1(j).bind(Go.getField).each(Xt.enable),er.getField2(j).bind(Go.getField).each(Xt.enable),er.getLock(j).each(Xt.enable)}}),dr(()=>l.checkUiComponentContext("mode:design")),co("size-input-events2",[Ke(m,(j,H)=>{const V=H.event.isField1,Y=V?er.getField1(j):er.getField2(j),J=V?er.getField2(j):er.getField1(j),de=Y.map(Lt.getValue).getOr(""),ce=J.map(Lt.getValue).getOr("");u=mO(de,ce)})])])})})(n,r.shared.providers)),slider:ra((n,r,i)=>((l,u,m)=>{const p=Dd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[As(u.translate(l.label))]}),x=Dd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),v=Dd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Dd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:oe(m.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,x,v],sliderBehaviours:ht([$p(),ho.config({})]),onChoose:(_,S,k)=>{Gt(_,El,{name:l.name,value:k})},onChange:(_,S,k)=>{Gt(_,El,{name:l.name,value:k})}})})(n,r.shared.providers,i)),urlinput:ra((n,r,i)=>((l,u,m,p)=>{const x=u.shared.providers,v=H=>{const V=Lt.getValue(H);m.addToHistory(V.value,l.filetype)},_={...p.map(H=>({initialData:H})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:H=>{const V=((J,de,ce)=>{var pe,Te;const Ve=Lt.getValue(de),$e=(Te=(pe=Ve?.meta)===null||pe===void 0?void 0:pe.text)!==null&&Te!==void 0?Te:Ve.value;return ce.getLinkInformation().fold(()=>[],je=>{const it=_S($e,(Jt=>we(Jt,oo=>wS(oo,oo)))(ce.getHistory(J)));return J==="file"?(Wt=[it,_S($e,sP(je)),_S($e,_s([_O(je),rP(je),aP(je)]))],Vo(Wt,(Jt,oo)=>Jt.length===0||oo.length===0?Jt.concat(oo):Jt.concat(oP,oo),[])):it;var Wt})})(l.filetype,H,m),Y=Zp(V,fu.BUBBLE_TO_SANDBOX,u,{isHorizontalMenu:!1,search:E.none()});return Vr(Y)},getHotspot:H=>U.getOpt(H),onSetValue:(H,V)=>{H.hasConfigured(Xm)&&Xm.run(H).get(ge)},typeaheadBehaviours:ht([...m.getValidationHandler().map(H=>Xm.config({getRoot:V=>ga(V.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(V,Y)=>{A.getOpt(V).each(J=>{ao(J.element,"title",x.translate(Y))})}},validator:{validate:V=>{const Y=Lt.getValue(V);return Tr(J=>{H({type:l.filetype,url:Y.value},de=>{if(de.status==="invalid"){ao(V.element,"aria-errormessage",rm);const ce=Wo.error(de.message);J(ce)}else{Us(V.element,"aria-errormessage");const ce=Wo.value(de.message);J(ce)}})})},validateOnLoad:!1}})).toArray(),Xt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable}),cn.config({}),co("urlinput-events",[Ke(ud(),H=>{const V=Qr(H.element),Y=V.trim();Y!==V&&Yd(H.element,Y),l.filetype==="file"&&Gt(H,El,{name:l.name})}),Ke(Rm(),H=>{Gt(H,El,{name:l.name}),v(H)}),Ke(cx(),H=>{Gt(H,El,{name:l.name}),v(H)})])]),eventOrder:{[ud()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:H=>H.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:u.shared.getSink,parts:{menu:f1(0,0,"normal")},onExecute:(H,V,Y)=>{Gt(V,c2,{})},onItemExecute:(H,V,Y,J)=>{v(H),Gt(H,El,{name:l.name})}},S=Go.parts.field({..._,factory:rM}),k=l.label.map(H=>Hp(H,x)),A=Rn(((H,V,Y=H,J=H)=>Sl(Y,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+H],attributes:{title:x.translate(J),"aria-live":"polite",...V.fold(()=>({}),de=>({id:de}))}},x.icons))("invalid",E.some(rm),"warning")),M=Rn({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[A.asSpec()]}),P=m.getUrlPicker(l.filetype),q=ke("browser.url.event"),U=Rn({dom:{tag:"div",classes:["tox-control-wrap"]},components:[S,M.asSpec()],behaviours:ht([Xt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable})])}),j=Rn(vO({context:l.context,name:l.name,icon:E.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:E.none(),borderless:!0},H=>qo(H,q),x,[],["tox-browse-url"]));return Go.sketch({dom:ID([]),components:k.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:_s([[U.asSpec()],P.map(()=>j.asSpec()).toArray()])}]),fieldBehaviours:ht([Xt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:H=>{Go.getField(H).each(Xt.disable),j.getOpt(H).each(Xt.disable)},onEnabled:H=>{Go.getField(H).each(Xt.enable),j.getOpt(H).each(Xt.enable)}}),dr(()=>x.checkUiComponentContext(l.context)),co("url-input-events",[Ke(q,H=>{bn.getCurrent(H).each(V=>{const Y=Lt.getValue(V),J={fieldname:l.name,...Y};P.each(de=>{de(J).get(ce=>{Lt.setValue(V,ce),Gt(H,El,{name:l.name})})})})})])])})})(n,r,r.urlinput,i)),customeditor:ra(n=>{const r=In(),i=Rn({dom:{tag:n.tag}}),l=In(),u=!nS(n)&&n.onFocus.isSome()?[ho.config({onFocus:m=>{n.onFocus.each(p=>{p(m.element.dom)})}}),cn.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ht([co("custom-editor-events",[as(m=>{i.getOpt(m).each(p=>{(nS(n)?n.init(p.element.dom):XD.load(n.scriptId,n.scriptUrl).then(x=>x(p.element.dom,n.settings))).then(x=>{l.on(v=>{x.setValue(v)}),l.clear(),r.set(x)})})})]),A1(E.none(),()=>r.get().fold(()=>l.get().getOr(""),m=>m.getValue()),(m,p)=>{r.get().fold(()=>l.set(p),x=>x.setValue(p))}),$p()].concat(u)),components:[i.asSpec()]}}),htmlpanel:ra((n,r)=>((i,l)=>{const u=["tox-form__group",...i.stretched?["tox-form__group--stretched"]:[]],m=co("htmlpanel",[as(p=>{i.onInit(p.element.dom)})]);return i.presets==="presentation"?ec.sketch({dom:{tag:"div",classes:u,innerHtml:i.html},containerBehaviours:ht([fs.config({...l.tooltips.getConfig({tooltipText:"",onShow:p=>{ss(p.element,"[data-mce-tooltip]:hover").orThunk(()=>La(p.element)).each(x=>{Kr(x,"data-mce-tooltip").each(v=>{fs.setComponents(p,l.tooltips.getComponents({tooltipText:v}))})})}}),mode:"children-normal",anchor:p=>({type:"node",node:ss(p.element,"[data-mce-tooltip]:hover").orThunk(()=>La(p.element).filter(x=>Kr(x,"data-mce-tooltip").isSome())),root:p.element,layouts:{onLtr:oe([Lr,Ir,br,Da,Pr,Oa]),onRtl:oe([Lr,Ir,br,Da,Pr,Oa])},bubble:el(0,-2,{})})}),m])}):ec.sketch({dom:{tag:"div",classes:u,innerHtml:i.html,attributes:{role:"document"}},containerBehaviours:ht([cn.config({}),ho.config({}),m])})})(n,r.shared.providers)),imagepreview:ra((n,r,i)=>((l,u)=>{const m=Tt(u.getOr({url:""})),p=Rn({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:u.map(S=>({src:S.url})).getOr({})}}),x=Rn({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),v={};l.height.each(S=>v.height=S);const _=u.map(S=>({url:S.url,zoom:E.from(S.zoom),cachedWidth:E.from(S.cachedWidth),cachedHeight:E.from(S.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:v,attributes:{role:"presentation"}},components:[x.asSpec()],behaviours:ht([$p(),A1(_,()=>m.get(),(S,k)=>{const A={url:k.url};k.zoom.each(P=>A.zoom=P),k.cachedWidth.each(P=>A.cachedWidth=P),k.cachedHeight.each(P=>A.cachedHeight=P),m.set(A);const M=()=>{const{cachedWidth:P,cachedHeight:q,zoom:U}=A;if(!Zt(P)&&!Zt(q)){if(Zt(U)){const H=((V,Y,J)=>{const de=Bn(V),ce=Or(V);return Math.min(de/Y,ce/J,1)})(S.element,P,q);A.zoom=H}const j=((H,V,Y,J,de)=>{const ce=Y*de,pe=J*de,Te=Math.max(0,H/2-ce/2),Ve=Math.max(0,V/2-pe/2);return{left:Te.toString()+"px",top:Ve.toString()+"px",width:ce.toString()+"px",height:pe.toString()+"px"}})(Bn(S.element),Or(S.element),P,q,A.zoom);x.getOpt(S).each(H=>{te(H.element,j)})}};p.getOpt(S).each(P=>{const q=P.element;k.url!==Eo(q,"src")&&(ao(q,"src",k.url),en(S.element,"tox-imagepreview__loaded")),M(),Ng(q).then(U=>{S.getSystem().isConnected()&&(vs(S.element,"tox-imagepreview__loaded"),A.cachedWidth=U.dom.naturalWidth,A.cachedHeight=U.dom.naturalHeight,M())})})})])}})(n,i)),table:ra((n,r)=>((i,l)=>{const u=x=>({dom:{tag:"td",innerHtml:l.translate(x)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=i.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:we(p,x=>({dom:{tag:"th",innerHtml:l.translate(x)}}))}]}),(m=i.cells,{dom:{tag:"tbody"},components:we(m,x=>({dom:{tag:"tr"},components:we(x,u)}))})],behaviours:ht([cn.config({}),ho.config({})])};var m,p})(n,r.shared.providers)),tree:ra((n,r)=>((i,l)=>{const u=i.onLeafAction.getOr(ge),m=i.onToggleExpand.getOr(ge),p=i.defaultExpandedIds,x=Tt(p),v=Tt(i.defaultSelectedId),_=ke("tree-id"),S=(k,A)=>i.items.map(M=>M.type==="leaf"?h2({leaf:M,selectedId:k,onLeafAction:u,visible:!0,treeId:_,backstage:l}):_b({directory:M,selectedId:k,onLeafAction:u,expandedIds:A,labelTabstopping:!0,treeId:_,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:S(v.get(),x.get()),behaviours:ht([qt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),co(bO,[Ke("expand-tree-node",(k,A)=>{const{expanded:M,node:P}=A.event;x.set(M?[...x.get(),P]:x.get().filter(q=>q!==P)),m(x.get(),{expanded:M,node:P})})]),nl.config({channels:{[`update-active-item-${_}`]:{onReceive:(k,A)=>{v.set(E.some(A.value)),So.set(k,S(E.some(A.value),x.get()))}}}}),So.config({})])}})(n,r)),panel:ra((n,r)=>((i,l)=>({dom:{tag:"div",classes:i.classes},components:we(i.items,l.shared.interpreter)}))(n,r))},CS={field:(n,r)=>r,record:oe([])},aa=(n,r,i,l,u)=>{const m=bs(l,{shared:{interpreter:p=>kS(n,p,i,m,u)}});return kS(n,r,i,m,u)},kS=(n,r,i,l,u)=>Qt(iP,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),m=>m(n,r,i,l,u)),CO=(n,r,i,l)=>kS(CS,n,r,i,l),b2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},lP=(n,r,i)=>{const l={maxHeightFunction:Xg()};return()=>i()?{type:"node",root:Og(Gr(n())),node:E.from(n()),bubble:el(12,12,b2),layouts:{onRtl:()=>[Yg],onLtr:()=>[np]},overrides:l}:{type:"hotspot",hotspot:r(),bubble:el(-12,12,b2),layouts:{onRtl:()=>[br,Pr,Lr],onLtr:()=>[Pr,br,Lr]},overrides:l}},cP=(n,r,i,l)=>{const u={maxHeightFunction:Xg()};return()=>l()?{type:"node",root:Og(Gr(r())),node:E.from(r()),bubble:el(12,12,b2),layouts:{onRtl:()=>[Kl],onLtr:()=>[Kl]},overrides:u}:n?{type:"node",root:Og(Gr(r())),node:E.from(r()),bubble:el(0,-Nu(r()),b2),layouts:{onRtl:()=>[Ir],onLtr:()=>[Ir]},overrides:u}:{type:"hotspot",hotspot:i(),bubble:el(0,0,b2),layouts:{onRtl:()=>[Ir],onLtr:()=>[Ir]},overrides:u}},dP=(n,r,i)=>()=>i()?{type:"node",root:Og(Gr(n())),node:E.from(n()),layouts:{onRtl:()=>[Kl],onLtr:()=>[Kl]}}:{type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[Lr],onLtr:()=>[Lr]}},uP=(n,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const i=n.selection.getRng(),l=n.model.table.getSelectedCells();if(l.length>1){const u=l[0],m=l[l.length-1],p={firstCell:Pt(u),lastCell:Pt(m)};return E.some(p)}return E.some(ad.range(Pt(i.startContainer),i.startOffset,Pt(i.endContainer),i.endOffset))}}),mP=n=>r=>({type:"node",root:n(),node:r}),gP=(n,r,i,l)=>{const u=ab(n),m=()=>Pt(n.getBody()),p=()=>Pt(n.getContentAreaContainer()),x=()=>u||!l();return{inlineDialog:lP(p,r,x),inlineBottomDialog:cP(n.inline,p,i,x),banner:dP(p,r,x),cursor:uP(n,m),node:mP(m)}},fP=n=>(r,i)=>{OD(n)(r,i)},pP=n=>()=>wD(n),hP=n=>r=>b_(n,r),bP=n=>r=>yD(n,r),xP=n=>()=>E4(n),kO=n=>Zn(n,"items"),SO=n=>Zn(n,"format"),EO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],AO=n=>Vo(n,(r,i)=>{if(nn(i,"items")){const l=AO(i.items);return{customFormats:r.customFormats.concat(l.customFormats),formats:r.formats.concat([{title:i.title,items:l.formats}])}}if(nn(i,"inline")||(l=>nn(l,"block"))(i)||(l=>nn(l,"selector"))(i)){const l=`custom-${De(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:l,format:i}]),formats:r.formats.concat([{title:i.title,format:l,icon:i.icon}])}}return{...r,formats:r.formats.concat(i)}},{customFormats:[],formats:[]}),TO=n=>OT(n).map(r=>{const i=((l,u)=>{const m=AO(u),p=x=>{pt(x,v=>{l.formatter.has(v.name)||l.formatter.register(v.name,v.format)})};return l.formatter?p(m.customFormats):l.on("init",()=>{p(m.customFormats)}),m.formats})(n,r);return v4(n)?EO.concat(i):i}).getOr(EO),DO=(n,r,i)=>({...n,type:"formatter",isSelected:r(n.format),getStylePreview:i(n.format)}),OO=(n,r,i,l)=>{const u=m=>we(m,p=>kO(p)?(x=>{const v=u(x.items);return{...x,type:"submenu",getStyleItems:oe(v)}})(p):SO(p)?(x=>DO(x,i,l))(p):(x=>{const v=Lo(x);return v.length===1&&dt(v,"title")})(p)?{...p,type:"separator"}:(x=>{const v=De(x.name)?x.name:ke(x.title),_=`custom-${v}`,S={...x,type:"formatter",format:_,isSelected:i(_),getStylePreview:l(_)};return n.formatter.register(v,S),S})(p));return u(r)},vP=n=>{let r=0;const i=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[As(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>r>0?60:300,delayForHide:oe(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:i(l),onShow:(u,m)=>{r++,l.onShow&&l.onShow(u,m)},onHide:(u,m)=>{r--,l.onHide&&l.onHide(u,m)},onSetup:l.onSetup}),getComponents:i}},yP=fg.trim,RO=n=>r=>!!((i=>Ae(i)&&i.nodeType===1)(r)&&(r.contentEditable===n||r.getAttribute("data-mce-contenteditable")===n)),wP=RO("true"),NO=RO("false"),MO=(n,r,i,l,u)=>({type:n,title:r,url:i,level:l,attach:u}),SS=n=>n.innerText||n.textContent,_P=n=>(r=>r&&r.nodeName==="A"&&(r.id||r.name)!==void 0)(n)&&BO(n),ES=n=>n&&/^(H[1-6])$/.test(n.nodeName),BO=n=>(r=>{let i=r;for(;i=i.parentNode;){const l=i.contentEditable;if(l&&l!=="inherit")return wP(i)}return!1})(n)&&!NO(n),PO=n=>ES(n)&&BO(n),CP=n=>{var r;const i=(l=>l.id?l.id:ke("h"))(n);return MO("header",(r=SS(n))!==null&&r!==void 0?r:"","#"+i,(l=>ES(l)?parseInt(l.nodeName.substr(1),10):0)(n),()=>{n.id=i})},kP=n=>{const r=n.id||n.name,i=SS(n);return MO("anchor",i||"#"+r,"#"+r,0,ge)},SP=n=>yP(n.title).length>0,EP=n=>{const r=(i=>we(Jr(Pt(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),u=>u.dom))(n);return Co((i=>we(Co(i,PO),CP))(r).concat((i=>we(Co(i,_P),kP))(r)),SP)},N_="tinymce-url-history",IO=n=>De(n)&&/^https?/.test(n),LO=n=>ye(n)&&Ol(n,r=>{return!(Qe(i=r)&&i.length<=5&&ci(i,IO));var i}).isNone(),FO=()=>{const n=S1.getItem(N_);if(n===null)return{};let r;try{r=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+N_+" was not valid JSON",i),{};throw i}return LO(r)?r:(console.log("Local storage "+N_+" was not valid format",r),{})},AP=n=>{const r=FO();return Qt(r,n).getOr([])},TP=(n,r)=>{if(!IO(n))return;const i=FO(),l=Qt(i,r).getOr([]),u=Co(l,m=>m!==n);i[r]=[n].concat(u).slice(0,5),(m=>{if(!LO(m))throw new Error(`Bad format for history:
`+JSON.stringify(m));S1.setItem(N_,JSON.stringify(m))})(i)},zO=n=>!!n,DP=n=>Rs(fg.makeMap(n,/[, ]/),zO),AS=n=>E.from(Rw(n)),TS=n=>E.from(n).filter(De).getOrUndefined(),OP=n=>({getHistory:AP,addToHistory:TP,getLinkInformation:()=>(r=>C4(r)?E.some({targets:EP(r.getBody()),anchorTop:TS(k4(r)),anchorBottom:TS(S4(r))}):E.none())(n),getValidationHandler:()=>(r=>E.from(Dv(r)))(n),getUrlPicker:r=>((i,l)=>((u,m)=>{const p=(x=>{const v=E.from(IT(x)).filter(zO).map(DP);return AS(x).fold(ze,_=>v.fold(no,S=>Lo(S).length>0&&S))})(u);return Ot(p)?p?AS(u):E.none():p[m]?AS(u):E.none()})(i,l).map(u=>m=>Xo(p=>{const x={filetype:l,fieldname:m.fieldname,...E.from(m.meta).getOr({})};u.call(i,(v,_)=>{if(!De(v))throw new Error("Expected value to be string");if(_!==void 0&&!ye(_))throw new Error("Expected meta to be a object");p({value:v,meta:_})},m.value,x)})))(n,r)}),RP={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},NP=ge,MP=ze,HO=oe([]);var M_,B_=Object.freeze({__proto__:null,setup:NP,isDocked:MP,getBehaviours:HO});const DS=oe(ke("toolbar-height-change")),Md={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},VO="tox-tinymce--toolbar-sticky-on",$O="tox-tinymce--toolbar-sticky-off",P_=(n,r)=>dt(Ms.getModes(n),r),OS=n=>{const r=n.element;ga(r).each(i=>{const l="padding-"+Ms.getModes(n)[0];if(Ms.isDocked(n)){const u=Bn(i);ko(r,"width",u+"px"),ko(i,l,(m=>Nu(m)+(parseInt(Fa(m,"margin-top"),10)||0)+(parseInt(Fa(m,"margin-bottom"),10)||0))(r)+"px")}else mn(r,"width"),mn(i,l)})},BP=(n,r)=>{r?(en(n,Md.fadeOutClass),zl(n,[Md.transitionClass,Md.fadeInClass])):(en(n,Md.fadeInClass),zl(n,[Md.fadeOutClass,Md.transitionClass]))},x2=(n,r)=>{const i=Pt(n.getContainer());r?(vs(i,VO),en(i,$O)):(vs(i,$O),en(i,VO))},D1=(n,r)=>{const i=In(),l=r.getSink,u=x=>{l().each(v=>x(v.element))},m=x=>{n.inline||OS(x),x2(n,Ms.isDocked(x)),x.getSystem().broadcastOn([$m()],{}),l().each(v=>v.getSystem().broadcastOn([$m()],{}))},p=n.inline?[]:[nl.config({channels:{[DS()]:{onReceive:OS}}})];return[ho.config({}),Ms.config({contextual:{lazyContext:x=>{const v=Nu(x.element),_=n.inline?n.getContentAreaContainer():n.getContainer();return E.from(_).map(S=>{const k=fr(Pt(S));return Rp(n,x.element).fold(()=>{const A=k.height-v,M=k.y+(P_(x,"top")?0:v);return ln(k.x,M,k.width,A)},A=>{const M=gh(k,Np(A)),P=P_(x,"top")?M.y:M.y+v;return ln(M.x,P,M.width,M.height-v)})})},onShow:()=>{u(x=>BP(x,!0))},onShown:x=>{u(v=>Xr(v,[Md.transitionClass,Md.fadeInClass])),i.get().each(v=>{((_,S)=>{const k=It(S);od(k).filter(A=>!$o(S,A)).filter(A=>$o(A,Pt(k.dom.body))||Is(_,A)).each(()=>gr(S))})(x.element,v),i.clear()})},onHide:x=>{((v,_)=>La(v).orThunk(()=>_().toOptional().bind(S=>La(S.element))))(x.element,l).fold(i.clear,i.set),u(v=>BP(v,!1))},onHidden:()=>{u(x=>Xr(x,[Md.transitionClass]))},...Md},lazyViewport:x=>Rp(n,x.element).fold(()=>{const v=Zs(),_=BT(n),S=v.y+(P_(x,"top")&&!jT(n)?_:0),k=v.height-(P_(x,"bottom")?_:0);return{bounds:ln(v.x,S,v.width,k),optScrollEnv:E.none()}},v=>({bounds:Np(v),optScrollEnv:E.some({currentScrollTop:v.element.dom.scrollTop,scrollElmTop:Rr(v.element).top})})),modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m}),...p]};var UO=Object.freeze({__proto__:null,setup:(n,r,i)=>{n.inline||(r.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{i().each(Ms.reset)}),n.on("ResizeWindow ResizeEditor",()=>{i().each(OS)}),n.on("SkinLoaded",()=>{i().each(l=>{Ms.isDocked(l)?Ms.reset(l):Ms.refresh(l)})}),n.on("FullscreenStateChanged",()=>{i().each(Ms.reset)})),n.on("AfterScrollIntoView",l=>{i().each(u=>{Ms.refresh(u);const m=u.element;qd(m)&&((p,x)=>{const v=It(x),_=Dr(x).dom.innerHeight,S=Ri(v),k=Pt(p.elm),A=Mu(k),M=Or(k),P=A.y,q=P+M,U=Rr(x),j=Or(x),H=U.top,V=H+j,Y=Math.abs(H-S.top)<2,J=Math.abs(V-(S.top+_))<2;if(Y&&P<V)Fo(S.left,P-j,v);else if(J&&q>H){const de=P-_+M+j;Fo(S.left,de,v)}})(l,m)})}),n.on("PostRender",()=>{x2(n,!1)})},isDocked:n=>n().map(Ms.isDocked).getOr(!1),getBehaviours:D1}),I_=yl({factory:(n,r)=>{const i={focus:qt.focusIn,setMenus:(l,u)=>{const m=we(u,p=>{const x={type:"menubutton",text:p.text,fetch:_=>{_(p.getItems())},context:"any"},v=V6(x).mapError(_=>Iu(_)).getOrDie();return f2(v,"tox-mbtn",r.backstage,E.some("menuitem"))});So.set(l,m)}};return{uid:n.uid,dom:n.dom,components:[],behaviours:ht([So.config({}),co("menubar-events",[as(l=>{n.onSetup(l)}),Ke(ni(),(l,u)=>{ss(l.element,".tox-mbtn--active").each(m=>{ml(u.event.target,".tox-mbtn").each(p=>{$o(m,p)||l.getSystem().getByDom(m).each(x=>{l.getSystem().getByDom(p).each(v=>{nc.expand(v),nc.close(x),ho.focus(v)})})})})}),Ke($g(),(l,u)=>{u.event.prevFocus.bind(m=>l.getSystem().getByDom(m).toOptional()).each(m=>{u.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{nc.isOpen(m)&&(nc.expand(p),nc.close(m))})})})]),qt.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(n.onEscape(l),E.some(!0))}),cn.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ct("dom"),ct("uid"),ct("onEscape"),ct("backstage"),Me("onSetup",ge)],apis:{focus:(n,r)=>{n.focus(r)},setMenus:(n,r,i)=>{n.setMenus(r,i)}}});const PP=n=>({element:()=>n.element.dom}),IP=(n,r)=>{const i=we(Lo(r),l=>{const u=r[l],m=Bi((p=>Es("sidebar",qv,p))(u));return{name:l,getApi:PP,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return we(i,l=>{const u=Tt(ge);return n.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:y1([xu(l,u),Af(l,u),Ke(d0(),(m,p)=>{const x=p.event;I(i,_=>_.name===x.name).each(_=>{(x.visible?_.onShow:_.onHide)(_.getApi(m))})})])})})},LP=n=>ja.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:IP(r,n),slotBehaviours:y1([as(i=>ja.hideAllSlots(i))])})),L_=(n,r)=>{ao(n,"role",r)},FP=n=>bn.getCurrent(n).bind(r=>wl.isGrowing(r)||wl.hasGrown(r)?bn.getCurrent(r).bind(i=>I(ja.getSlotNames(i),l=>ja.isShowing(i,l))):E.none()),RS=ke("FixSizeEvent"),NS=ke("AutoSizeEvent"),ZO=n=>bn.getCurrent(n).each(r=>gr(r.element,!0)),zP=(n,r,i)=>{const l=Tt(!1),u=In(),m=x=>{var v;l.get()&&(!(_=>_.type==="focusin")(v=x)||!(v.composed?_t(v.composedPath()):E.from(v.target)).map(Pt).filter(Uo).exists(_=>cr(_,"mce-pastebin")))&&(x.preventDefault(),ZO(r()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",m),n.on("BeforeExecCommand",x=>{x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&m(x)})});const p=x=>{x!==l.get()&&(l.set(x),((v,_,S,k)=>{const A=_.element;if(((M,P)=>{const q="tabindex",U=`data-mce-${q}`;E.from(M.iframeElement).map(Pt).each(j=>{P?(Kr(j,q).each(H=>ao(j,U,H)),ao(j,q,-1)):(Us(j,q),Kr(j,U).each(H=>{ao(j,q,H),Us(j,U)}))})})(v,S),S)Yu.block(_,(M=>(P,q)=>({dom:{tag:"div",attributes:{"aria-label":M.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:ff('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(k)),mn(A,"display"),Us(A,"aria-hidden"),v.hasFocus()&&ZO(_);else{const M=bn.getCurrent(_).exists(P=>jd(P.element));Yu.unblock(_),ko(A,"display","none"),ao(A,"aria-hidden","true"),M&&v.focus()}})(n,r(),x,i.providers),((v,_)=>{v.dispatch("AfterProgressState",{state:_})})(n,x))};n.on("ProgressState",x=>{if(u.on(clearTimeout),zt(x.time)){const v=nb.setEditorTimeout(n,()=>p(x.state),x.time);u.set(v)}else p(x.state),u.clear()})},jO=n=>{const r=n.label.isNone()?n.title.fold(()=>({}),i=>({attributes:{"aria-label":i}})):n.label.fold(()=>({}),i=>({attributes:{"aria-label":i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(n.label.isSome()?["tox-toolbar__group_with_label"]:[]),...r},components:[...n.label.map(i=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[As(i)]})).toArray(),Sv.parts.items({})],items:n.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:ht([cn.config({}),ho.config({ignore:!0})])}},F_=n=>Sv.sketch(jO(n)),MS=(n,r)=>{const i=as(l=>{const u=we(n.initGroups,F_);du.setGroups(l,u)});return ht([Yv(()=>n.providers.checkUiComponentContext("any").shouldDisable),dr(()=>n.providers.checkUiComponentContext("any")),qt.config({mode:r,onEscape:n.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),co("toolbar-events",[i])])},O1=n=>{const r=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":jO({title:E.none(),label:E.none(),items:[]}),"overflow-button":tP({context:"any",icon:E.some("more-drawer"),enabled:!0,tooltip:E.some("Reveal or hide additional toolbar items")},E.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:MS(n,r)}},R1=n=>{const r=O1(n),i=bT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return bT.sketch({...r,lazySink:n.getSink,getOverflowBounds:()=>{const l=n.moreDrawerData.lazyHeader().element,u=Mu(l),m=ts(l),p=Mu(m),x=Math.max(m.dom.scrollHeight,p.height);return ln(u.x+4,p.y,u.width-8,x)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>n.onToggled(l,!0),onClosed:l=>n.onToggled(l,!1)})},HP=n=>{const r=Aw.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=Aw.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=O1(n);return Aw.sketch({...l,components:[r,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>{u.getSystem().broadcastOn([DS()],{type:"opened"}),n.onToggled(u,!0)},onClosed:u=>{u.getSystem().broadcastOn([DS()],{type:"closed"}),n.onToggled(u,!1)}})},z_=n=>{const r=n.cyclicKeying?"cyclic":"acyclic";return du.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===Lc.scrolling?["tox-toolbar--scrolling"]:[])},components:[du.parts.groups({})],toolbarBehaviours:MS(n,r)})},BS=(n,r)=>((i,l)=>{var u,m;const p=i.type==="togglebutton",x=i.icon.map(H=>Up(H,l.icons)).map(Rn),v={...i,name:p?i.text.getOr(i.icon.getOr("")):(u=i.text)!==null&&u!==void 0?u:i.icon.getOr(""),primary:i.buttonType==="primary",buttonType:E.from(i.buttonType),tooltip:i.tooltip,icon:i.icon,enabled:!0,borderless:i.borderless},_=yS((m=i.buttonType)!==null&&m!==void 0?m:"secondary"),S=p?i.text.map(l.translate):E.some(l.translate(i.text)),k=S.map(As),A=v.tooltip.or(S).map(H=>({"aria-label":l.translate(H)})).getOr({}),M=x.map(H=>H.asSpec()),P=_1([M,k]),q=i.icon.isSome()&&k.isSome(),U={tag:"button",classes:_.concat(...i.icon.isSome()&&!q?["tox-button--icon"]:[]).concat(...q?["tox-button--icon-and-text"]:[]).concat(...i.borderless?["tox-button--naked"]:[]).concat(...i.type==="togglebutton"&&i.active?["tox-button--enabled"]:[]),attributes:A},j=O_(v,E.some(H=>{const V=Y=>{x.map(J=>J.getOpt(H).each(de=>{So.set(de,[Up(Y,l.icons)])}))};return p?i.onAction({setIcon:V,setActive:Y=>{const J=H.element;Y?(vs(J,"tox-button--enabled"),ao(J,"aria-pressed",!0)):(en(J,"tox-button--enabled"),Us(J,"aria-pressed"))},isActive:()=>cr(H.element,"tox-button--enabled"),focus:()=>gr(H.element)}):i.type==="button"?i.onAction({setIcon:V}):void 0}),[],U,P,i.tooltip,l);return Za.sketch(j)})(n,r),v2=ve().deviceType,VP=v2.isPhone(),Cb=v2.isTablet();var am=ol({name:"silver.View",configFields:[ct("viewConfig")],partFields:[Ac({factory:{sketch:n=>{let r=!1;const i=we(n.buttons,l=>l.type==="group"?(r=!0,((u,m)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:we(u.buttons,p=>BS(p,m))}))(l,n.providers)):BS(l,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...VP||Cb?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:ht([ho.config({}),qt.config({mode:"flow",selector:"button, .tox-button",focusInside:ut.OnEnterOrSpaceMode})]),components:r?i:[ec.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),ec.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}}},schema:[ct("buttons"),ct("providers")],name:"header"}),Ac({factory:{sketch:n=>({uid:n.uid,behaviours:ht([ho.config({}),cn.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(n,r,i,l)=>{const u={getPane:m=>ha.getPart(m,n,"pane"),getOnShow:m=>n.viewConfig.onShow,getOnHide:m=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:r,behaviours:ht([ho.config({}),qt.config({mode:"cyclic",focusInside:ut.OnEnterOrSpaceMode})]),apis:u}},apis:{getPane:(n,r)=>n.getPane(r),getOnShow:(n,r)=>n.getOnShow(r),getOnHide:(n,r)=>n.getOnHide(r)}});const $P=(n,r,i)=>da(r,(l,u)=>{const m=Bi(Es("view",sD,l));return n.slot(u,am.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:m,components:[...m.buttons.length>0?[am.parts.header({buttons:m.buttons,providers:i})]:[],am.parts.pane({})]}))}),UP=(n,r)=>ja.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:$P(i,n,r),slotBehaviours:y1([as(l=>ja.hideAllSlots(l))])})),WO=n=>I(ja.getSlotNames(n),r=>ja.isShowing(n,r)),qO=(n,r,i)=>{ja.getSlot(n,r).each(l=>{am.getPane(l).each(u=>{var m;i(l)((m=u.element.dom,{getContainer:oe(m)}))})})};var H_=yl({factory:(n,r)=>{const i={setViews:(l,u)=>{So.set(l,[UP(u,r.backstage.shared.providers)])},whichView:l=>bn.getCurrent(l).bind(WO),toggleView:(l,u,m,p)=>bn.getCurrent(l).exists(x=>{const v=WO(x),_=v.exists(k=>p===k),S=ja.getSlot(x,p).isSome();return S&&(ja.hideAllSlots(x),_?((k=>{const A=k.element;ko(A,"display","none"),ao(A,"aria-hidden","true")})(l),u()):(m(),(k=>{const A=k.element;mn(A,"display"),Us(A,"aria-hidden")})(l),ja.showSlot(x,p),((k,A)=>{qO(k,A,am.getOnShow)})(x,p)),v.each(k=>((A,M)=>qO(A,M,am.getOnHide))(x,k))),S})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:ht([So.config({}),bn.config({find:l=>{const u=So.contents(l);return _t(u)}})]),apis:i}},name:"silver.ViewWrapper",configFields:[ct("backstage")],apis:{setViews:(n,r,i)=>n.setViews(r,i),toggleView:(n,r,i,l,u)=>n.toggleView(r,i,l,u),whichView:(n,r)=>n.whichView(r)}});const ZP=tg.optional({factory:I_,name:"menubar",schema:[ct("backstage")]}),jP=tg.optional({factory:{sketch:n=>C5.sketch({uid:n.uid,dom:n.dom,listBehaviours:ht([qt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>z_({type:n.type,uid:ke("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),E.some(!0))}),setupItem:(r,i,l,u)=>{du.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[ct("dom"),ct("onEscape")]}),V_=tg.optional({factory:{sketch:n=>(i=>i.type===Lc.sliding?HP:i.type===Lc.floating?R1:z_)(n)({type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),E.some(!0)),onToggled:(i,l)=>n.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes})},name:"toolbar",schema:[ct("dom"),ct("onEscape"),ct("getSink")]}),GO=tg.optional({factory:{sketch:n=>{const r=n.editor,i=n.sticky?D1:HO;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:ht(i(r,n.sharedBackstage))}}},name:"header",schema:[ct("dom")]}),WP=tg.optional({factory:{sketch:n=>{const r=n.promotionLink?[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"💝 Get all features"}}]:[];return{uid:n.uid,dom:n.dom,components:r}}},name:"promotion",schema:[ct("dom"),ct("promotionLink")]}),KO=tg.optional({name:"socket",schema:[ct("dom")]}),qP=tg.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ht([cn.config({}),ho.config({}),wl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{bn.getCurrent(r).each(ja.hideAllSlots),qo(r,NS)},onGrown:r=>{qo(r,NS)},onStartGrow:r=>{Gt(r,RS,{width:ir(r.element,"width").getOr("")})},onStartShrink:r=>{Gt(r,RS,{width:Bn(r.element)+"px"})}}),So.config({}),bn.config({find:r=>{const i=So.contents(r);return _t(i)}})])}],behaviours:ht([E1(0),co("sidebar-sliding-events",[Ke(RS,(r,i)=>{ko(r.element,"width",i.event.width)}),Ke(NS,(r,i)=>{mn(r.element,"width")})])])})},name:"sidebar",schema:[ct("dom")]}),GP=tg.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ht([So.config({}),Yu.config({focus:!1}),bn.config({find:r=>_t(r.components())})]),components:[]})},name:"throbber",schema:[ct("dom")]}),PS=tg.optional({factory:H_,name:"viewWrapper",schema:[ct("backstage")]}),XL=tg.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components})},name:"editorContainer",schema:[]});var Vn=ol({name:"OuterContainer",factory:(n,r,i)=>{let l=!1;const u=p=>{nx(p,".tox-statusbar").each(x=>{Fa(x,"display")==="none"&&Eo(x,"aria-hidden")==="true"?(mn(x,"display"),Us(x,"aria-hidden")):(ko(x,"display","none"),ao(x,"aria-hidden","true"))})},m={getSocket:p=>ha.getPart(p,n,"socket"),setSidebar:(p,x,v)=>{ha.getPart(p,n,"sidebar").each(_=>((S,k,A)=>{bn.getCurrent(S).each(M=>{So.set(M,[LP(k)]);const P=A?.toLowerCase();De(P)&&nn(k,P)&&bn.getCurrent(M).each(q=>{ja.showSlot(q,P),wl.immediateGrow(M),mn(M.element,"width"),L_(S.element,"region")})})})(_,x,v))},toggleSidebar:(p,x)=>{ha.getPart(p,n,"sidebar").each(v=>((_,S)=>{bn.getCurrent(_).each(k=>{bn.getCurrent(k).each(A=>{wl.hasGrown(k)?ja.isShowing(A,S)?(wl.shrink(k),L_(_.element,"presentation")):(ja.hideAllSlots(A),ja.showSlot(A,S),L_(_.element,"region")):(ja.hideAllSlots(A),ja.showSlot(A,S),wl.grow(k),L_(_.element,"region"))})})})(v,x))},whichSidebar:p=>ha.getPart(p,n,"sidebar").bind(FP).getOrNull(),getHeader:p=>ha.getPart(p,n,"header"),getToolbar:p=>ha.getPart(p,n,"toolbar"),setToolbar:(p,x)=>{ha.getPart(p,n,"toolbar").each(v=>{const _=we(x,F_);v.getApis().setGroups(v,_)})},setToolbars:(p,x)=>{ha.getPart(p,n,"multiple-toolbar").each(v=>{const _=we(x,S=>we(S,F_));C5.setItems(v,_)})},refreshToolbar:p=>{ha.getPart(p,n,"toolbar").each(x=>x.getApis().refresh(x))},toggleToolbarDrawer:p=>{ha.getPart(p,n,"toolbar").each(x=>{Fd(x.getApis().toggle,v=>v(x))})},toggleToolbarDrawerWithoutFocusing:p=>{ha.getPart(p,n,"toolbar").each(x=>{Fd(x.getApis().toggleWithoutFocusing,v=>v(x))})},isToolbarDrawerToggled:p=>ha.getPart(p,n,"toolbar").bind(x=>E.from(x.getApis().isOpen).map(v=>v(x))).getOr(!1),getThrobber:p=>ha.getPart(p,n,"throbber"),focusToolbar:p=>{ha.getPart(p,n,"toolbar").orThunk(()=>ha.getPart(p,n,"multiple-toolbar")).each(x=>{qt.focusIn(x)})},setMenubar:(p,x)=>{ha.getPart(p,n,"menubar").each(v=>{I_.setMenus(v,x)})},focusMenubar:p=>{ha.getPart(p,n,"menubar").each(x=>{I_.focus(x)})},setViews:(p,x)=>{ha.getPart(p,n,"viewWrapper").each(v=>{H_.setViews(v,x)})},toggleView:(p,x)=>ha.getPart(p,n,"viewWrapper").exists(v=>H_.toggleView(v,()=>m.showMainView(p),()=>m.hideMainView(p),x)),whichView:p=>ha.getPart(p,n,"viewWrapper").bind(H_.whichView).getOrNull(),hideMainView:p=>{l=m.isToolbarDrawerToggled(p),l&&m.toggleToolbarDrawer(p),ha.getPart(p,n,"editorContainer").each(x=>{const v=x.element;u(v),ko(v,"display","none"),ao(v,"aria-hidden","true")})},showMainView:p=>{l&&m.toggleToolbarDrawer(p),ha.getPart(p,n,"editorContainer").each(x=>{const v=x.element;u(v),mn(v,"display"),Us(v,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:r,apis:m,behaviours:n.behaviours}},configFields:[ct("dom"),ct("behaviours")],partFields:[GO,ZP,V_,jP,KO,qP,WP,GP,PS,XL],apis:{getSocket:(n,r)=>n.getSocket(r),setSidebar:(n,r,i,l)=>{n.setSidebar(r,i,l)},toggleSidebar:(n,r,i)=>{n.toggleSidebar(r,i)},whichSidebar:(n,r)=>n.whichSidebar(r),getHeader:(n,r)=>n.getHeader(r),getToolbar:(n,r)=>n.getToolbar(r),setToolbar:(n,r,i)=>{n.setToolbar(r,i)},setToolbars:(n,r,i)=>{n.setToolbars(r,i)},refreshToolbar:(n,r)=>n.refreshToolbar(r),toggleToolbarDrawer:(n,r)=>{n.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(n,r)=>{n.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(n,r)=>n.isToolbarDrawerToggled(r),getThrobber:(n,r)=>n.getThrobber(r),setMenubar:(n,r,i)=>{n.setMenubar(r,i)},focusMenubar:(n,r)=>{n.focusMenubar(r)},focusToolbar:(n,r)=>{n.focusToolbar(r)},setViews:(n,r,i)=>{n.setViews(r,i)},toggleView:(n,r,i)=>n.toggleView(r,i),whichView:(n,r)=>n.whichView(r)}});const YO={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},IS=n=>n.split(" "),XO=(n,r)=>{const i={...YO,...r.menus},l=Lo(r.menus).length>0,u=r.menubar===void 0||r.menubar===!0?IS("file edit view insert format tools table help"):IS(r.menubar===!1?"":r.menubar),m=Co(u,x=>{const v=nn(YO,x);return l?v||Qt(r.menus,x).exists(_=>nn(_,"items")):v}),p=we(m,x=>{const v=i[x];return((_,S,k)=>{const A=RT(k).split(/[ ,]/);return{text:_.title,getItems:()=>Io(_.items,M=>{const P=M.toLowerCase();return P.trim().length===0||vn(A,q=>q===P)?[]:P==="separator"||P==="|"?[{type:"separator"}]:S.menuItems[P]?[S.menuItems[P]]:[]})}})({title:v.title,items:IS(v.items)},r,n)});return Co(p,x=>x.getItems().length>0&&vn(x.getItems(),v=>De(v)||v.type!=="separator"))},LS=(n,r,i)=>(n.on("remove",()=>i.unload(r)),i.load(r)),y2=(n,r,i,l)=>(n.on("remove",()=>l.unloadRawCss(r)),l.loadRawCss(r,i)),KP=n=>E.from(tinymce.Resource.get(n)).filter(De),FS=(n,r,i="")=>{const l=(m=>{const p=D4(m);return p?E.from(p):E.none()})(n).map(m=>((p,x)=>"ui/"+p+"/"+x)(m,`${r}.css`)),u=l.bind(KP);return Rl(l,u,(m,p)=>({_kind:"load-raw",key:m,css:p})).getOrThunk(()=>{const m=n.editorManager.suffix;return{_kind:"load-stylesheet",url:i+`/${r}${m}.css`}})},QO=(n,r)=>{const i=n.ui.styleSheetLoader,l=FS(n,"skin",r);switch(l._kind){case"load-raw":const{key:u,css:m}=l;return y2(n,u,m,i),Promise.resolve();case"load-stylesheet":const{url:p}=l;return LS(n,p,i);default:return Promise.resolve()}},YP=(n,r)=>{var i;if(i=Pt(n.getElement()),!hm(i).isSome())return Promise.resolve();{const l=c1.DOM.styleSheetLoader,u=FS(n,"skin.shadowdom",r);switch(u._kind){case"load-raw":const{key:m,css:p}=u;return y2(n,m,p,l),Promise.resolve();case"load-stylesheet":const{url:x}=u;return LS(n,x,l);default:return Promise.resolve()}}},JO=(n,r)=>(async(i,l)=>{const u=rb(l);if(await((m,p,x)=>{const v=FS(m,p?"content.inline":"content",x);switch(v._kind){case"load-raw":const{key:_,css:S}=v;return p?y2(m,_,S,m.ui.styleSheetLoader):m.on("PostRender",()=>{y2(m,_,S,m.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:k}=v;return x&&m.contentCSS.push(k),Promise.resolve();default:return Promise.resolve()}})(l,i,u),!m1(l)&&De(u))return Promise.all([QO(l,u),YP(l,u)]).then()})(n,r).then((i=>{const l=()=>{i._skinLoaded=!0,(u=>{u.dispatch("SkinLoaded")})(i)};return()=>{i.initialized?l():i.on("init",l)}})(r),(i=>()=>((l,u)=>{l.dispatch("SkinLoadError",u)})(i,{message:"Skin could not be loaded"}))(r)),$_=rn(JO,!1),XP=rn(JO,!0),QP=n=>({isEnabled:()=>!Xt.isDisabled(n),setEnabled:r=>Xt.set(n,!r),setText:r=>Gt(n,Fc,{text:r}),setIcon:r=>Gt(n,T1,{icon:r})}),zS=n=>({setActive:r=>{sn.set(n,r)},isActive:()=>sn.isOn(n),isEnabled:()=>!Xt.isDisabled(n),setEnabled:r=>Xt.set(n,!r),setText:r=>Gt(n,Fc,{text:r}),setIcon:r=>Gt(n,T1,{icon:r})}),JP=(n,r)=>n.map(i=>({"aria-label":r.translate(i)})).getOr({}),HS=ke("focus-button"),U_=(n,r,i,l,u,m,p)=>{const x=r.map(_=>Rn(m2(_,"tox-tbtn",u))),v=n.map(_=>Rn(Up(_,u.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:{...JP(i,u),...Ae(p)?{"data-mce-name":p}:{}}},components:_1([v.map(_=>_.asSpec()),x.map(_=>_.asSpec())]),eventOrder:{[Qi()]:["focusing","alloy.base.behaviour",Df],[_c()]:[Df,"toolbar-group-button-events"],[tu()]:[Df,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:ht([Yv(()=>u.checkUiComponentContext(m).shouldDisable),dr(()=>u.checkUiComponentContext(m)),co(Df,[as((_,S)=>gS(_)),Ke(Fc,(_,S)=>{x.bind(k=>k.getOpt(_)).each(k=>{So.set(k,[As(u.translate(S.event.text))])})}),Ke(T1,(_,S)=>{v.bind(k=>k.getOpt(_)).each(k=>{So.set(k,[Up(S.event.icon,u.icons)])})}),Ke(Qi(),(_,S)=>{S.event.prevent(),qo(_,HS)})])].concat(l.getOr([])))}},e8=(n,r,i,l)=>{var u;const m=Tt(ge),p=U_(n.icon,n.text,n.tooltip,E.none(),i,n.context,l);return Za.sketch({dom:p.dom,components:p.components,eventOrder:sO,buttonBehaviours:{...ht([co("toolbar-button-events",[(x={onAction:n.onAction,getApi:r.getApi},Dc((v,_)=>{bb(x,v)(S=>{Gt(v,mS,{buttonApi:S}),x.onAction(S)})})),xu(r,m),Af(r,m)]),...n.tooltip.map(v=>fs.config(i.tooltips.getConfig({tooltipText:i.translate(v)+n.shortcut.map(_=>` (${k3(_)})`).getOr("")}))).toArray(),Yv(()=>!n.enabled||i.checkUiComponentContext(n.context).shouldDisable),dr(()=>i.checkUiComponentContext(n.context))].concat(r.toolbarButtonBehaviours)),[Df]:(u=p.buttonBehaviours)===null||u===void 0?void 0:u[Df]}});var x},Z_=(n,r,i,l)=>e8(n,{toolbarButtonBehaviours:i.length>0?[co("toolbarButtonWith",i)]:[],getApi:QP,onSetup:n.onSetup},r,l),VS=(n,r,i,l)=>e8(n,{toolbarButtonBehaviours:[So.config({}),sn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[co("toolbarToggleButtonWith",i)]:[]),getApi:zS,onSetup:n.onSetup},r,l),t8=(n,r,i)=>l=>Xo(u=>r.fetch(u)).map(u=>E.from(Y3(bs(v_(ke("menu-value"),u,m=>{r.onItemAction(n(l),m)},r.columns,r.presets,fu.CLOSE_ON_EXECUTE,r.select.getOr(ze),i),{movement:r2(r.columns,r.presets),menuBehaviours:y1(r.columns!=="auto"?[]:[as((m,p)=>{Kv(m,4,d6(r.presets)).each(({numRows:x,numColumns:v})=>{qt.setGridSize(m,x,v)})})])})))),pg=n=>{Bs.getContent(n).each(r=>{ss(r.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold(()=>qt.focusIn(r),gr)})},jp=ke("forward-slide"),j_=ke("backward-slide"),$S=ke("change-slide-event"),W_="tox-pop--resizing",kb=(n,r,i)=>fc(i)?n.translate(r):n.translate([r,n.translate(i)]),o8=(n,r)=>{const i=(m,p,x,v)=>{const _=n.shared.providers.translate(m.title);if(m.type==="separator")return E.some({type:"separator",text:_});if(m.type==="submenu"){const S=Io(m.getStyleItems(),k=>l(k,p,v));return p===0&&S.length<=0?E.none():E.some({type:"nestedmenuitem",text:_,enabled:S.length>0,getSubmenuItems:()=>Io(m.getStyleItems(),k=>l(k,p,v))})}return E.some({type:"togglemenuitem",text:_,icon:m.icon,active:m.isSelected(v),enabled:!x,onAction:r.onAction(m),...m.getStylePreview().fold(()=>({}),S=>({meta:{style:S}}))})},l=(m,p,x)=>{const v=m.type==="formatter"&&r.isInvalid(m);return p===0?v?[]:i(m,p,!1,x).toArray():i(m,p,v,x).toArray()},u=m=>{const p=r.getCurrentValue(),x=r.shouldHide?0:1;return Io(m,v=>l(v,x,p))};return{validateItems:u,getFetch:(m,p)=>(x,v)=>{const _=p(),S=u(_);v(Zp(S,fu.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:E.none()}))}}},Sb=(n,r)=>{const i=r.dataset,l=i.type==="basic"?()=>we(i.data,u=>DO(u,r.isSelectedFor,r.getPreviewFor)):i.getData;return{items:o8(n,r),getStyleItems:l}},w2=(n,r,i,l,u,m)=>{const{items:p,getStyleItems:x}=Sb(r,i),v=Tt(i.tooltip);return pS({context:"mode:design",text:i.icon.isSome()?E.none():i.text,icon:i.icon,ariaLabel:E.some(i.tooltip),tooltip:E.none(),role:E.none(),fetch:p.getFetch(r,x),onSetup:_=>{const S=k=>_.setTooltip(kb(n,l(k.value),k.value));return n.on(u,S),o2(Tf(n,"NodeChange",k=>{const A=k.getComponent();i.updateText(A),Xt.set(k.getComponent(),!n.selection.isEditable()||x().length===0)})(_),()=>n.off(u,S))},getApi:_=>({getComponent:oe(_),setTooltip:S=>{const k=r.shared.providers.translate(S);ao(_.element,"aria-label",k),v.set(S)}}),columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[fs.config({...r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(i.tooltip),onShow:_=>{if(i.tooltip!==v.get()){const S=r.shared.providers.translate(v.get());fs.setComponents(_,r.shared.providers.tooltips.getComponents({tooltipText:S}))}}})})]},"tox-tbtn",r.shared,m)};var Eb;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(Eb||(Eb={}));const US=(n,r,i)=>{const l=(u=((m,p)=>p===Eb.SemiColon?m.replace(/;$/,"").split(";"):m.split(" "))(n.options.get(r),i),we(u,m=>{let p=m,x=m;const v=m.split("=");return v.length>1&&(p=v[0],x=v[1]),{title:p,format:x}}));var u;return{type:"basic",data:l}},n8=oe("Alignment {0}"),s8="left",ZS=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],r8=n=>{const r={type:"basic",data:ZS};return{tooltip:kb(n,n8(),s8),text:E.none(),icon:E.some("align-left"),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:E.none,getPreviewFor:i=>E.none,onAction:i=>()=>I(ZS,l=>l.format===i.format).each(l=>n.execCommand(l.command)),updateText:i=>{const l=I(ZS,u=>n.formatter.match(u.format)).fold(oe(s8),u=>u.title.toLowerCase());Gt(i,T1,{icon:`align-${l}`}),((u,m)=>{u.dispatch("AlignTextUpdate",m)})(n,{value:l})},dataset:r,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},q_=(n,r)=>{const i=r(),l=we(i,u=>u.format);return E.from(n.formatter.closest(l)).bind(u=>I(i,m=>m.format===u))},a8=oe("Block {0}"),jS="Paragraph",i8=n=>{const r=US(n,"block_formats",Eb.SemiColon);return{tooltip:kb(n,a8(),jS),text:E.some(jS),icon:E.none(),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:E.none,getPreviewFor:i=>()=>{const l=n.formatter.get(i);return l?E.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(i))}):E.none()},onAction:h_(n),updateText:i=>{const l=q_(n,()=>r.data).fold(oe(jS),u=>u.title);Gt(i,Fc,{text:l}),((u,m)=>{u.dispatch("BlocksTextUpdate",m)})(n,{value:l})},dataset:r,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},WS=oe("Font {0}"),qS="System Font",eI=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],l8=n=>{const r=n.split(/\s*,\s*/);return we(r,i=>i.replace(/^['"]+|['"]+$/g,""))},GS=(n,r)=>r.length>0&&ci(r,i=>n.indexOf(i.toLowerCase())>-1),c8=n=>{const r=()=>{const l=_=>_?l8(_)[0]:"",u=n.queryCommandValue("FontName"),m=i.data,p=u?u.toLowerCase():"",x=$T(n);return{matchOpt:I(m,_=>{const S=_.format;return S.toLowerCase()===p||l(S).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>Hs(((_,S)=>{if(_.indexOf("-apple-system")===0||S.length>0){const k=l8(_.toLowerCase());return GS(k,eI)||GS(k,S)}return!1})(p,x),{title:qS,format:p})),font:u}},i=US(n,"font_family_formats",Eb.SemiColon);return{tooltip:kb(n,WS(),qS),text:E.some(qS),icon:E.none(),isSelectedFor:l=>u=>u.exists(m=>m.format===l),getCurrentValue:()=>{const{matchOpt:l}=r();return l},getPreviewFor:l=>()=>E.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:u,font:m}=r(),p=u.fold(oe(m),x=>x.title);Gt(l,Fc,{text:p}),((x,v)=>{x.dispatch("FontFamilyTextUpdate",v)})(n,{value:p})},dataset:i,shouldHide:!1,isInvalid:ze}};var G_=tinymce.util.Tools.resolve("tinymce.util.VK");const d8=oe("Font size {0}"),u8="12pt",tI={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},m8={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},g8=(n,r)=>/[0-9.]+px$/.test(n)?((i,l)=>{const u=Math.pow(10,l);return Math.round(i*u)/u})(72*parseInt(n,10)/96,r||0)+"pt":Qt(m8,n).getOr(n),oI=n=>Qt(tI,n).getOr(""),f8=n=>{const r=()=>{let u=E.none();const m=l.data,p=n.queryCommandValue("FontSize");if(p)for(let x=3;u.isNone()&&x>=0;x--){const v=g8(p,x),_=oI(v);u=I(m,S=>S.format===p||S.format===v||S.format===_)}return{matchOpt:u,size:p}},i=oe(E.none),l=US(n,"font_size_formats",Eb.Space);return{tooltip:kb(n,d8(),u8),text:E.some(u8),icon:E.none(),isSelectedFor:u=>m=>m.exists(p=>p.format===u),getPreviewFor:i,getCurrentValue:()=>{const{matchOpt:u}=r();return u},onAction:u=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,u.format)})},updateText:u=>{const{matchOpt:m,size:p}=r(),x=m.fold(oe(p),v=>v.title);Gt(u,Fc,{text:x}),((v,_)=>{v.dispatch("FontSizeTextUpdate",_)})(n,{value:x})},dataset:l,shouldHide:!1,isInvalid:ze}},p8=n=>fc(n)?"Formats":"Format {0}",h8=(n,r)=>{const i="Formats";return{tooltip:kb(n,p8(""),""),text:E.some(i),icon:E.none(),isSelectedFor:l=>()=>n.formatter.match(l),getCurrentValue:E.none,getPreviewFor:l=>()=>{const u=n.formatter.get(l);return u!==void 0?E.some({tag:u.length>0&&(u[0].inline||u[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(l))}):E.none()},onAction:h_(n),updateText:l=>{const u=x=>kO(x)?Io(x.items,u):SO(x)?[{title:x.title,format:x.format}]:[],m=Io(TO(n),u),p=q_(n,oe(m)).fold(oe({title:i,tooltipLabel:""}),x=>({title:x.title,tooltipLabel:x.title}));Gt(l,Fc,{text:p.title}),((x,v)=>{x.dispatch("StylesTextUpdate",v)})(n,{value:p.tooltipLabel})},shouldHide:lg(n),isInvalid:l=>!n.formatter.canApply(l.format),dataset:r}},nI=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Ab=(n,r)=>(i,l,u,m)=>{const p=n(i).mapError(x=>Iu(x)).getOrDie();return r(p,l,u,m)},Tb={button:Ab(i_,(n,r,i,l)=>((u,m,p)=>Z_(u,m,[],p))(n,r.shared.providers,l)),togglebutton:Ab(X6,(n,r,i,l)=>((u,m,p)=>VS(u,m,[],p))(n,r.shared.providers,l)),menubutton:Ab(V6,(n,r,i,l)=>f2(n,"tox-tbtn",r,E.none(),!1,l)),splitbutton:Ab(n=>Es("SplitButton",EB,n),(n,r,i,l)=>((u,m,p)=>{const x=Tt(ge),v=Tt(u.tooltip.getOr("")),_=((j,H,V)=>Y=>{const J=Y.getSystem(),de=Y.element,ce=()=>{const Te=cr(de,"tox-split-button__chevron");return{mainOpt:Te?Wi(de).bind(Ve=>J.getByDom(Ve).toOptional()):E.some(Y),chevronOpt:Te?E.some(Y):rr(de).bind(Ve=>J.getByDom(Ve).toOptional().filter($e=>cr($e.element,"tox-split-button__chevron")))}},pe=Te=>{const{mainOpt:Ve,chevronOpt:$e}=ce();Ve.each(Te),$e.each(Te)};return{isEnabled:()=>{const{mainOpt:Te}=ce();return Te.exists(Ve=>!Xt.isDisabled(Ve))},setEnabled:Te=>pe(Ve=>Xt.set(Ve,!Te)),setText:Te=>{const{mainOpt:Ve}=ce();Ve.each($e=>Gt($e,Fc,{text:Te}))},setIcon:Te=>{const{mainOpt:Ve}=ce();Ve.each($e=>Gt($e,T1,{icon:Te}))},setIconFill:(Te,Ve)=>pe($e=>{ss($e.element,`svg path[class="${Te}"], rect[class="${Te}"]`).each(je=>{ao(je,"fill",Ve)})}),isActive:()=>{const{mainOpt:Te}=ce();return Te.exists(Ve=>sn.isOn(Ve))},setActive:Te=>{const{mainOpt:Ve}=ce();Ve.each($e=>sn.set($e,Te))},setTooltip:Te=>{j.set(Te);const{mainOpt:Ve,chevronOpt:$e}=ce();Ve.each(it=>ao(it.element,"aria-label",H.providers.translate(Te)));const je=V.chevronTooltip.map(it=>H.providers.translate(it)).getOr(H.providers.translate(`${Te} menu`));$e.each(it=>ao(it.element,"aria-label",je))}}})(v,m,u),S=ke("tox-split-menu"),k=Tt(!1),A=()=>u.tooltip.map(j=>m.providers.translate(j)).getOr(m.providers.translate("Text color")),M=()=>u.chevronTooltip.map(j=>m.providers.translate(j)).getOrThunk(()=>{const j=A();return m.providers.translate(["{0} menu",j])}),P=(j,H)=>{k.set(j),ao(H.element,"aria-expanded",String(j))},q=nc.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:G4("chevron-down",m.providers.icons),attributes:{"aria-label":M(),...Ae(p)?{"data-mce-name":p+"-chevron"}:{},"aria-haspopup":"menu","aria-expanded":String(k.get()),"aria-controls":S}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:ht([co("split-dropdown-events",[as((j,H)=>gS(j)),xu({getApi:_,onSetup:u.onSetup},x),Ke("alloy-dropdown-open",j=>P(!0,j)),Ke("alloy-dropdown-close",j=>P(!1,j))]),Yv(()=>m.providers.checkUiComponentContext(u.context).shouldDisable),dr(()=>m.providers.checkUiComponentContext(u.context)),uv.config({}),fs.config(m.providers.tooltips.getConfig({tooltipText:M(),onShow:j=>{if(v.get()!==u.tooltip.getOr("")){const H=u.chevronTooltip.map(V=>m.providers.translate(V)).getOr(`${m.providers.translate(v.get())} menu`);fs.setComponents(j,m.providers.tooltips.getComponents({tooltipText:H}))}}}))]),lazySink:m.getSink,fetch:t8(_,u,m.providers),getHotspot:j=>Wi(j.element).bind(H=>j.getSystem().getByDom(H).toOptional()),onOpen:(j,H,V)=>{gn.highlightBy(V,Y=>cr(Y.element,"tox-collection__item--active")),gn.getHighlighted(V).each(qt.focusIn)},parts:{menu:{...f1(0,u.columns,u.presets),dom:{...f1(0,u.columns,u.presets).dom,tag:"div",attributes:{id:S}}}}});return[Za.sketch({...U_(u.icon,u.text,E.none(),E.some([sn.config({toggleClass:"tox-tbtn--enabled",aria:u.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),Yv(()=>m.providers.checkUiComponentContext(u.context).shouldDisable),dr(()=>m.providers.checkUiComponentContext(u.context)),co("split-main-aria-events",[]),...u.tooltip.isSome()?[fs.config(m.providers.tooltips.getConfig({tooltipText:m.providers.translate(u.tooltip.getOr("")),onShow:j=>{if(v.get()!==u.tooltip.getOr("")){const H=m.providers.translate(v.get());fs.setComponents(j,m.providers.tooltips.getComponents({tooltipText:H}))}}}))]:[]]),m.providers,u.context,p),dom:{...U_(u.icon,u.text,E.none(),E.none(),m.providers,u.context,p).dom,classes:["tox-tbtn","tox-split-button__main"],attributes:{"aria-label":A(),...Ae(p)?{"data-mce-name":p}:{}}},action:j=>{if(u.onAction){const H=_(j);H.isEnabled()&&u.onAction(H)}}}),q]})(n,r.shared,l)),grouptoolbarbutton:Ab(n=>Es("GroupToolbarButton",ic,n),(n,r,i,l)=>{const u=i.ui.registry.getAll().buttons,m={[Fm]:r.shared.header.isPositionedAtTop()?ru.TopToBottom:ru.BottomToTop};if(Op(i)===Lc.floating)return((p,x,v,_,S)=>{const k=x.shared,A=Tt(ge),M={toolbarButtonBehaviours:[],getApi:QP,onSetup:p.onSetup},P=[co("toolbar-group-button-events",[xu(M,A),Af(M,A)]),...p.tooltip.map(q=>fs.config(x.shared.providers.tooltips.getConfig({tooltipText:x.shared.providers.translate(q)}))).toArray()];return Ep.sketch({lazySink:k.getSink,fetch:()=>Xo(q=>{q(we(v(p.items),F_))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:U_(p.icon,p.text,p.tooltip,E.some(P),k.providers,p.context,S),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:_}}}})})(n,r,p=>K_(i,{buttons:u,toolbar:p,allowToolbarGroups:!1},r,E.none()),m,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},b8={styles:(n,r)=>{const i={type:"advanced",...r.styles};return w2(n,r,h8(n,i),p8,"StylesTextUpdate","styles")},fontsize:(n,r)=>w2(n,r,f8(n),d8,"FontSizeTextUpdate","fontsize"),fontsizeinput:(n,r)=>((i,l,u,m)=>{let p=E.none();const x=Tf(i,"NodeChange SwitchMode DisabledStateChange",Y=>{const J=Y.getComponent();p=E.some(J),u.updateInputValue(J),Xt.set(J,!i.selection.isEditable()||Dp(i))}),v=Y=>({getComponent:oe(Y)}),_=Tt(ge),S=ke("custom-number-input-events"),k=(Y,J,de)=>{const ce=p.map(je=>Lt.getValue(je)).getOr(""),pe=u.getNewValue(ce,Y),Te=ce.length-`${pe}`.length,Ve=p.map(je=>je.element.dom.selectionStart-Te),$e=p.map(je=>je.element.dom.selectionEnd-Te);u.onAction(pe,de),p.each(je=>{Lt.setValue(je,pe),J&&(Ve.each(it=>je.element.dom.selectionStart=it),$e.each(it=>je.element.dom.selectionEnd=it))})},A=(Y,J)=>k((de,ce)=>de-ce,Y,J),M=(Y,J)=>k((de,ce)=>de+ce,Y,J),P=Y=>ga(Y.element).fold(E.none,J=>(gr(J),E.some(!0))),q=Y=>jd(Y.element)?(_a(Y.element).each(J=>gr(J)),E.some(!0)):E.none(),U=(Y,J,de,ce)=>{const pe=Tt(ge),Te=l.shared.providers.translate(de),Ve=ke("altExecuting"),$e=Tf(i,"NodeChange SwitchMode DisabledStateChange",it=>{Xt.set(it.getComponent(),!i.selection.isEditable()||Dp(i))}),je=it=>{Xt.isDisabled(it)||Y(!0)};return Za.sketch({dom:{tag:"button",attributes:{"aria-label":Te,"data-mce-name":J},classes:ce.concat(J)},components:[fS(J,l.shared.providers.icons)],buttonBehaviours:ht([Xt.config({}),fs.config(l.shared.providers.tooltips.getConfig({tooltipText:Te})),co(Ve,[xu({onSetup:$e,getApi:v},pe),Af({getApi:v},pe),Ke(wc(),(it,Wt)=>{Wt.event.raw.keyCode!==G_.SPACEBAR&&Wt.event.raw.keyCode!==G_.ENTER||Xt.isDisabled(it)||Y(!1)}),Ke(Nm(),je),Ke(Om(),je)])]),eventOrder:{[wc()]:[Ve,"keying"],[Nm()]:[Ve,"alloy.base.behaviour"],[Om()]:[Ve,"alloy.base.behaviour"],[_c()]:["alloy.base.behaviour",Ve,"tooltipping"],[tu()]:[Ve,"tooltipping"]}})},j=Rn(U(Y=>A(!1,Y),"minus","Decrease font size",[])),H=Rn(U(Y=>M(!1,Y),"plus","Increase font size",[])),V=Rn({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[vf.sketch({inputBehaviours:ht([Xt.config({}),co(S,[xu({onSetup:x,getApi:v},_),Af({getApi:v},_)]),co("input-update-display-text",[Ke(Fc,(Y,J)=>{Lt.setValue(Y,J.event.text)}),Ke(ix(),Y=>{u.onAction(Lt.getValue(Y))}),Ke(Rm(),Y=>{u.onAction(Lt.getValue(Y))})]),qt.config({mode:"special",onEnter:Y=>(k(yt,!0,!0),E.some(!0)),onEscape:P,onUp:Y=>(M(!0,!1),E.some(!0)),onDown:Y=>(A(!0,!1),E.some(!0)),onLeft:(Y,J)=>(J.cut(),E.none()),onRight:(Y,J)=>(J.cut(),E.none())})])})],behaviours:ht([ho.config({}),qt.config({mode:"special",onEnter:q,onSpace:q,onEscape:P}),co("input-wrapper-events",[Ke(ni(),Y=>{pt([j,H],J=>{const de=Pt(J.get(Y).element.dom);jd(de)&&qi(de)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Ae(m)?{"data-mce-name":m}:{}}},components:[j.asSpec(),V.asSpec(),H.asSpec()],behaviours:ht([ho.config({}),qt.config({mode:"flow",focusInside:ut.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Y=>jd(Y.element)?E.none():(gr(Y.element),E.some(!0))})])}})(n,r,(i=>{const l=()=>i.queryCommandValue("FontSize");return{updateInputValue:u=>Gt(u,Fc,{text:l()}),onAction:(u,m)=>i.execCommand("FontSize",!1,u,{skip_focus:!m}),getNewValue:(u,m)=>{hc(u,["unsupportedLength","empty"]);const p=l(),x=hc(u,["unsupportedLength","empty"]).or(hc(p,["unsupportedLength","empty"])),v=x.map(M=>M.value).getOr(16),_=_4(i),S=x.map(M=>M.unit).filter(M=>M!=="").getOr(_),k=m(v,(M=>{var P;return(P={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[M])!==null&&P!==void 0?P:{step:1}})(S).step),A=`${(M=>M>=0)(k)?k:v}${S}`;return A!==p&&((M,P)=>{M.dispatch("FontSizeInputTextUpdate",P)})(i,{value:A}),A}}})(n),"fontsizeinput"),fontfamily:(n,r)=>w2(n,r,c8(n),WS,"FontFamilyTextUpdate","fontfamily"),blocks:(n,r)=>w2(n,r,i8(n),a8,"BlocksTextUpdate","blocks"),align:(n,r)=>w2(n,r,r8(n),n8,"AlignTextUpdate","align"),navigateback:(n,r)=>{const i=Bi(i_({type:"button",icon:"chevron-left",tooltip:"Back",onAction:ge}));return Z_(i,r.shared.providers,[Ke(mS,l=>{qo(l,j_)})])}},K_=(n,r,i,l)=>{const u=(p=>{const x=p.toolbar,v=p.buttons;return x===!1?[]:x===void 0||x===!0?(_=>{const S=we(nI,k=>{const A=Co(k.items,M=>nn(_,M)||nn(b8,M));return{name:k.name,items:A}});return Co(S,k=>k.items.length>0)})(v):De(x)?(_=>{const S=_.split("|");return we(S,k=>({items:k.trim().split(" ")}))})(x):(_=>vt(_,S=>(nn(S,"name")||nn(S,"label"))&&nn(S,"items")))(x)?x:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(r),m=we(u,p=>{const x=Io(p.items,v=>v.trim().length===0?[]:((_,S,k,A,M,P)=>Qt(S,k.toLowerCase()).orThunk(()=>P.bind(q=>dn(q,U=>Qt(S,U+k.toLowerCase())))).fold(()=>Qt(b8,k.toLowerCase()).map(q=>q(_,M)),q=>q.type!=="grouptoolbarbutton"||A?((U,j,H,V)=>Qt(Tb,U.type).fold(()=>(console.error("skipping button defined by",U),E.none()),Y=>E.some(Y(U,j,H,V))))(q,M,_,k.toLowerCase()):(console.warn(`Ignoring the '${k}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),E.none())))(n,r.buttons,v,r.allowToolbarGroups,i,l).map(_=>Array.isArray(_)?_:[_]).getOr([]));return{title:E.from(n.translate(p.name)),label:Hs(p.label!==void 0,n.translate(p.label)),items:x}});return Co(m,p=>p.items.length>0)},x8=(n,r,i,l)=>{const u=r.mainUi.outerContainer,m=i.toolbar,p=i.buttons;if(vt(m,De)){const x=m.map(v=>{const _={toolbar:v,buttons:p,allowToolbarGroups:i.allowToolbarGroups};return K_(n,_,l,E.none())});Vn.setToolbars(u,x)}else Vn.setToolbar(u,K_(n,i,l,E.none()))},_2=ve(),Bd=_2.os.isiOS()&&_2.os.version.major<=12;var KS=Object.freeze({__proto__:null,render:(n,r,i,l,u)=>{const{mainUi:m,uiMotherships:p}=r,x=Tt(0),v=m.outerContainer;$_(n);const _=Pt(u.targetNode),S=Og(Gr(_));Oy(_,m.mothership),((P,q,U)=>{_f(P)&&Oy(U.mainUi.mothership.element,U.popupUi.mothership),mf(q,U.dialogUi.mothership)})(n,S,r),n.on("PostRender",()=>{Vn.setSidebar(v,i.sidebar,HT(n))}),n.on("SkinLoaded",()=>{x8(n,r,i,l),x.set(n.getWin().innerWidth),Vn.setMenubar(v,XO(n,i)),Vn.setViews(v,i.views),((P,q)=>{const{uiMotherships:U}=q,j=P.dom;let H=P.getWin();const V=P.getDoc().documentElement,Y=Tt(Ss(H.innerWidth,H.innerHeight)),J=Tt(Ss(V.offsetWidth,V.offsetHeight)),de=()=>{const Ve=Y.get();Ve.left===H.innerWidth&&Ve.top===H.innerHeight||(Y.set(Ss(H.innerWidth,H.innerHeight)),zp(P))},ce=()=>{const Ve=P.getDoc().documentElement,$e=J.get();$e.left===Ve.offsetWidth&&$e.top===Ve.offsetHeight||(J.set(Ss(Ve.offsetWidth,Ve.offsetHeight)),zp(P))},pe=Ve=>{(($e,je)=>{$e.dispatch("ScrollContent",je)})(P,Ve)};j.bind(H,"resize",de),j.bind(H,"scroll",pe);const Te=Z1(Pt(P.getBody()),"load",ce);P.on("hide",()=>{pt(U,Ve=>{ko(Ve.element,"display","none")})}),P.on("show",()=>{pt(U,Ve=>{mn(Ve.element,"display")})}),P.on("NodeChange",ce),P.on("remove",()=>{Te.unbind(),j.unbind(H,"resize",de),j.unbind(H,"scroll",pe),H=null})})(n,r)});const k=Vn.getSocket(v).getOrDie("Could not find expected socket element");if(Bd){te(k.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const P=(U=>{let j=null;return{cancel:()=>{ot(j)||(clearTimeout(j),j=null)},throttle:(...H)=>{ot(j)&&(j=setTimeout(()=>{j=null,U.apply(null,H)},20))}}})(()=>{n.dispatch("ScrollContent")}),q=Ia(k.element,"scroll",P.throttle);n.on("remove",q.unbind)}iD(n,r),n.addCommand("ToggleSidebar",(P,q)=>{Vn.toggleSidebar(v,q),(U=>{U.dispatch("ToggleSidebar")})(n)}),n.addQueryValueHandler("ToggleSidebar",()=>{var P;return(P=Vn.whichSidebar(v))!==null&&P!==void 0?P:""}),n.addCommand("ToggleView",(P,q)=>{if(Vn.toggleView(v,q)){const U=v.element;m.mothership.broadcastOn([iu()],{target:U}),pt(p,j=>{j.broadcastOn([iu()],{target:U})}),ot(Vn.whichView(v))&&(n.focus(),n.nodeChanged(),Vn.refreshToolbar(v)),(j=>{j.dispatch("ToggleView")})(n)}}),n.addQueryValueHandler("ToggleView",()=>{var P;return(P=Vn.whichView(v))!==null&&P!==void 0?P:""});const A=Op(n);A!==Lc.sliding&&A!==Lc.floating||n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const P=n.getWin().innerWidth;P!==x.get()&&(Vn.refreshToolbar(r.mainUi.outerContainer),x.set(P))});const M={setEnabled:P=>{Jv(r,P?"setEnabled":"setDisabled")},isEnabled:()=>!Xt.isDisabled(v)};return{iframeContainer:k.element.dom,editorContainer:v.element.dom,api:M}}});const Y_=n=>zt(n)?n+"px":n,X_=(n,r,i)=>{const l=r.filter(m=>n<m),u=i.filter(m=>n>m);return l.or(u).getOr(n)},v8=n=>{const r=Tw(n),i=Tv(n),l=Ju(n);return(u=r,/^[0-9\.]+(|px)$/i.test(""+u)?E.some(parseInt(""+u,10)):E.none()).map(m=>X_(m,i,l));var u},{ToolbarLocation:YS,ToolbarMode:y8}=M4,w8=(n,r,i,l,u)=>{const{mainUi:m,uiMotherships:p}=i,x=c1.DOM,v=ab(n),_=ib(n),S=Ju(n).or(v8(n)),k=l.shared.header,A=k.isPositionedAtTop,M=Op(n),P=M===y8.sliding||M===y8.floating,q=Tt(!1),U=()=>q.get()&&!n.removed,j=J=>P?J.fold(oe(0),de=>de.components().length>1?Or(de.components()[1].element):0):0,H=()=>{pt(p,J=>{J.broadcastOn([$m()],{})})},V=J=>{if(!U())return;v||u.on(pe=>{const Te=S.getOrThunk(()=>t0().width-vm(r).left-10);ko(pe.element,"max-width",Te+"px")});const de=Ri(),ce=!(v||v||!(Rr(m.outerContainer.element).left+Gd(m.outerContainer.element)>=window.innerWidth-40||ir(m.outerContainer.element,"width").isSome())||(ko(m.outerContainer.element,"position","absolute"),ko(m.outerContainer.element,"left","0px"),mn(m.outerContainer.element,"width"),0));if(P&&Vn.refreshToolbar(m.outerContainer),!v){const pe=Ri(),Te=Hs(de.left!==pe.left,de);((Ve,$e)=>{u.on(je=>{const it=Vn.getToolbar(m.outerContainer),Wt=j(it),Jt=fr(r),oo=((so,Ln)=>_f(so)?jr(Ln):E.none())(n,m.outerContainer.element),Bo=oo.fold(()=>Jt.x,so=>{const Ln=fr(so);return $o(so,ar())?Jt.x:Jt.x-Ln.x}),En=Hs(Ve,Math.ceil(m.outerContainer.element.dom.getBoundingClientRect().width)).filter(so=>so>150).map(so=>{const Ln=$e.getOr(Ri()),fo=window.innerWidth-(Bo-Ln.left),ps=Math.max(Math.min(so,fo),150);return fo<so&&ko(m.outerContainer.element,"width",ps+"px"),{width:ps+"px"}}).getOr({width:"max-content"}),Xn={position:"absolute",left:Math.round(Bo)+"px",top:oo.fold(()=>A()?Math.max(Jt.y-Or(je.element)+Wt,0):Jt.bottom,so=>{var Ln;const fo=fr(so),ps=(Ln=so.dom.scrollTop)!==null&&Ln!==void 0?Ln:0,_n=$o(so,ar())?Math.max(Jt.y-Or(je.element)+Wt,0):Jt.y-fo.y+ps-Or(je.element)+Wt;return A()?_n:Jt.bottom})+"px"};te(m.outerContainer.element,{...Xn,...En})})})(ce,Te),Te.each(Ve=>{Fo(Ve.left,pe.top)})}_&&u.on(J),H()},Y=()=>!(v||!_||!U())&&u.get().exists(J=>{const de=k.getDockingMode(),ce=(Te=>{switch(Ow(n)){case YS.auto:const Ve=Vn.getToolbar(m.outerContainer),$e=j(Ve),je=Or(Te.element)-$e,it=fr(r);if(it.y>je)return"top";{const Wt=ts(r),Jt=Math.max(Wt.dom.scrollHeight,Or(Wt));return it.bottom<Jt-je||Zs().bottom<it.bottom-je?"bottom":"top"}case YS.bottom:return"bottom";case YS.top:default:return"top"}})(J);return ce!==de&&(pe=ce,u.on(Te=>{Ms.setModes(Te,[pe]),k.setDockingMode(pe);const Ve=A()?ru.TopToBottom:ru.BottomToTop;ao(Te.element,Fm,Ve)}),!0);var pe});return{isVisible:U,isPositionedAtTop:A,show:()=>{q.set(!0),ko(m.outerContainer.element,"display","flex"),x.addClass(n.getBody(),"mce-edit-focus"),pt(p,J=>{mn(J.element,"display")}),Y(),_f(n)?V(J=>Ms.isDocked(J)?Ms.reset(J):Ms.refresh(J)):V(Ms.refresh)},hide:()=>{q.set(!1),ko(m.outerContainer.element,"display","none"),x.removeClass(n.getBody(),"mce-edit-focus"),pt(p,J=>{ko(J.element,"display","none")})},update:V,updateMode:()=>{Y()&&V(Ms.reset)},repositionPopups:H}},XS=(n,r)=>{const i=fr(n);return{pos:r?i.y:i.bottom,bounds:i}};var sI=Object.freeze({__proto__:null,render:(n,r,i,l,u)=>{const{mainUi:m}=r,p=In(),x=Pt(u.targetNode),v=w8(n,x,r,l,p),_=MT(n);XP(n);const S=()=>{if(p.isSet())return void v.show();p.set(Vn.getHeader(m.outerContainer).getOrDie());const A=Iw(n);_f(n)?(Oy(x,m.mothership),Oy(x,r.popupUi.mothership)):mf(A,m.mothership),mf(A,r.dialogUi.mothership);const M=()=>{x8(n,r,i,l),Vn.setMenubar(m.outerContainer,XO(n,i)),v.show(),((P,q,U,j)=>{const H=Tt(XS(q,U.isPositionedAtTop())),V=ce=>{const{pos:pe,bounds:Te}=XS(q,U.isPositionedAtTop()),{pos:Ve,bounds:$e}=H.get(),je=Te.height!==$e.height||Te.width!==$e.width;H.set({pos:pe,bounds:Te}),je&&zp(P,ce),U.isVisible()&&(Ve!==pe?U.update(Ms.reset):je&&(U.updateMode(),U.repositionPopups()))};j||(P.on("activate",U.show),P.on("deactivate",U.hide)),P.on("SkinLoaded ResizeWindow",()=>U.update(Ms.reset)),P.on("NodeChange keydown",ce=>{requestAnimationFrame(()=>V(ce))});let Y=0;const J=Au(()=>U.update(Ms.refresh),33);P.on("ScrollWindow",()=>{const ce=Ri().left;ce!==Y&&(Y=ce,J.throttle()),U.updateMode()}),_f(P)&&P.on("ElementScroll",ce=>{U.update(Ms.refresh)});const de=Ur();de.set(Z1(Pt(P.getBody()),"load",ce=>V(ce.raw))),P.on("remove",()=>{de.clear()})})(n,x,v,_),n.nodeChanged()};_?n.once("SkinLoaded",M):M()};n.on("show",S),n.on("hide",v.hide),_||(n.on("focus",S),n.on("blur",v.hide)),n.on("init",()=>{(n.hasFocus()||_)&&S()}),iD(n,r);const k={show:S,hide:v.hide,setEnabled:A=>{Jv(r,A?"setEnabled":"setDisabled")},isEnabled:()=>!Xt.isDisabled(m.outerContainer)};return{editorContainer:m.outerContainer.element.dom,api:k}}});const _8="contexttoolbar-hide",Q_=(n,r,i)=>({setInputEnabled:l=>{!l&&i&&gr(i),Xt.set(n,!l)},isInputEnabled:()=>!Xt.isDisabled(n),hide:()=>{qo(n,vh())},back:()=>{qo(n,j_)},getValue:()=>r.get().getOrThunk(()=>Lt.getValue(n)),setValue:l=>{n.getSystem().isConnected()?Lt.setValue(n,l):r.set(l)}}),J_=(n,r,i)=>{const l=Hn(n.element).bind(u=>n.getSystem().getByDom(u).toOptional());return Q_(l.getOr(n),r,i)},QS=(n,r,i)=>Ke(mS,(l,u)=>{const m=n.get(l),p=Q_(m,i,l.element);r.onAction(p,u.event.buttonApi)}),JS=(n,r,i,l)=>{const u=we(r,m=>Rn(((p,x,v,_)=>(S=>S.type==="contextformtogglebutton")(x)?((S,k,A,M)=>{const{primary:P,...q}=k.original,U=Bi(X6({...q,type:"togglebutton",onAction:ge}));return VS(U,A,[QS(S,k,M)])})(p,x,v,_):((S,k,A,M)=>{const{primary:P,...q}=k.original,U=Bi(i_({...q,type:"button",onAction:ge}));return Z_(U,A,[QS(S,k,M)])})(p,x,v,_))(n,m,i,l)));return{asSpecs:()=>we(u,m=>m.asSpec()),findPrimary:m=>dn(r,(p,x)=>p.primary?E.from(u[x]).bind(v=>v.getOpt(m)).filter(us(Xt.isDisabled)):E.none())}},C8=(n,r,i,l)=>{const{width:u,height:m}=n.initValue();let p=T_;const x=ke("ratio-event"),v=ce=>Q_(ce,l),_=ce=>Sl(ce,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ce]},r.icons),S=()=>!1,k=n.label.getOr("Constrain proportions"),A=r.translate(k),M=er.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":A,"data-mce-name":k}},components:[_("lock"),_("unlock")],buttonBehaviours:ht([Xt.config({disabled:S}),cn.config({}),fs.config(r.tooltips.getConfig({tooltipText:A}))])}),P=ce=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:ce}),q=ce=>Yr(ce.element,"div.tox-focusable-wrapper").fold(E.none,pe=>(gr(pe),E.some(!0))),U=ce=>Go.parts.field({factory:vf,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:ce?u:m,inputBehaviours:ht([Xt.config({disabled:S}),cn.config({}),co("size-input-toolbar-events",[Ke(Zl(),(pe,Te)=>{Gt(pe,x,{isField1:ce})})]),qt.config({mode:"special",onEnter:i,onEscape:q})]),selectOnFocus:!1}),j=ce=>({dom:{tag:"label",classes:["tox-label"]},components:[As(r.translate(ce))]}),H=ce=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[ce],behaviours:ht([cn.config({}),ho.config({}),qt.config({mode:"special",onEnter:pe=>ss(pe.element,"input").fold(E.none,Te=>(gr(Te),E.some(!0)))})])}),V=H(er.parts.field1(P([Go.parts.label(j("Width:")),U(!0)]))),Y=H(er.parts.field2(P([Go.parts.label(j("Height:")),U(!1)]))),J=Tt(ge),de=[xu({onBeforeSetup:ce=>ss(ce.element,"input").each(gr),onSetup:n.onSetup,getApi:v},J),u_({getApi:v},J,l)];return er.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[V,P([M]),Y],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ce,pe,Te)=>{A_(Lt.getValue(ce)).each(Ve=>{p(Ve).each($e=>{Lt.setValue(pe,dO($e))})})},onInput:ce=>qo(ce,LD),coupledFieldBehaviours:ht([ho.config({}),qt.config({mode:"flow",focusInside:ut.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Xt.config({disabled:S,onDisabled:ce=>{er.getField1(ce).bind(Go.getField).each(Xt.disable),er.getField2(ce).bind(Go.getField).each(Xt.disable),er.getLock(ce).each(Xt.disable)},onEnabled:ce=>{er.getField1(ce).bind(Go.getField).each(Xt.enable),er.getField2(ce).bind(Go.getField).each(Xt.enable),er.getLock(ce).each(Xt.enable)}}),dr(()=>r.checkUiComponentContext("mode:design")),co("size-input-toolbar-events2",[Ke(x,(ce,pe)=>{const Te=pe.event.isField1,Ve=Te?er.getField1(ce):er.getField2(ce),$e=Te?er.getField2(ce):er.getField1(ce),je=Ve.map(Lt.getValue).getOr(""),it=$e.map(Lt.getValue).getOr("");p=mO(je,it)}),Ke(LD,ce=>n.onInput(v(ce))),...de])])})},k8=(n,r,i)=>Go.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...n.toArray(),r],fieldBehaviours:ht([Xt.config({disabled:()=>i.checkUiComponentContext("mode:design").shouldDisable,onDisabled:l=>{(u=>{La(u.element).each(m=>{Yr(m,'[tabindex="-1"]').each(p=>{gr(p)})})})(l),Go.getField(l).each(Xt.disable)},onEnabled:l=>{Go.getField(l).each(Xt.enable)}})])}),rI=(n,r,i,l)=>{const u=Tt(ge),m=v=>J_(v,l),p=n.label.map(v=>Go.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[As(r.translate(v))]})),x=Go.parts.field({factory:vf,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(n.min()),max:String(n.max())},data:n.initValue().toString(),fromInputValue:v=>(_=>{const S=parseFloat(_);return isNaN(S)?E.none():E.some(S)})(v).getOr(n.min()),toInputValue:v=>String(v),inputBehaviours:ht([Xt.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),dr(()=>r.checkUiComponentContext("mode:design")),qt.config({mode:"special",onEnter:i,onLeft:(v,_)=>(_.cut(),E.none()),onRight:(v,_)=>(_.cut(),E.none())}),co("slider-events",[xu({onSetup:n.onSetup,getApi:m,onBeforeSetup:qt.focusIn},u),u_({getApi:m},u,l),Ke(ud(),v=>{n.onInput(m(v))})])])});return k8(p,x,r)},aI=(n,r,i,l)=>{const u=Tt(ge),m=_=>J_(_,l),p=n.label.map(_=>Go.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[As(r.translate(_))]})),x={...n.placeholder.map(_=>({placeholder:r.translate(_)})).getOr({})},v=Go.parts.field({factory:vf,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:x,data:n.initValue(),selectOnFocus:!0,inputBehaviours:ht([Xt.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),dr(()=>r.checkUiComponentContext("mode:design")),qt.config({mode:"special",onEnter:i,onLeft:(_,S)=>(S.cut(),E.none()),onRight:(_,S)=>(S.cut(),E.none())}),co("input-events",[xu({onSetup:n.onSetup,getApi:_=>Yr(_.element,".tox-toolbar").bind(S=>ss(S,"button:enabled")).fold(()=>J_(_,l),S=>J_(_,l,S)),onBeforeSetup:qt.focusIn},u),u_({getApi:m},u,l),Ke(ud(),_=>{n.onInput(m(_))})])])});return k8(p,v,r)},eE=(n,r,i)=>{const l=In(),u=Rn(n(i,v=>p.findPrimary(v).orThunk(()=>x.findPrimary(v)).map(_=>(Mh(_),!0)),l)),m=an(r.commands,v=>v.align==="start"),p=JS(u,m.pass,i,l),x=JS(u,m.fail,i,l);return Co([{title:E.none(),label:E.none(),items:p.asSpecs()},{title:E.none(),label:E.none(),items:[u.asSpec()]},{title:E.none(),label:E.none(),items:x.asSpecs()}],v=>v.items.length>0)},iI=(n,r)=>{switch(n.type){case"contextform":return eE(rn(aI,n),n,r);case"contextsliderform":return eE(rn(rI,n),n,r);case"contextsizeinputform":return eE(rn(C8,n),n,r)}},C2=(n,r,i)=>r.bottom-n.y>=i&&n.bottom-r.y>=i,vu=n=>{const r=(i=>{const l=i.getBoundingClientRect();if(l.height<=0&&l.width<=0){const u=ah(Pt(i.startContainer),i.startOffset).element;return(B(u)?Hn(u):E.some(u)).filter(Uo).map(m=>m.dom.getBoundingClientRect()).getOr(l)}return l})(n.selection.getRng());if(n.inline){const i=Ri();return ln(i.left+r.left,i.top+r.top,r.width,r.height)}{const i=Mu(Pt(n.getBody()));return ln(i.x+r.left,i.y+r.top,r.width,r.height)}},tE=(n,r,i,l=0)=>{const u=t0(window),m=fr(Pt(n.getContentAreaContainer())),p=Mw(n)||Ov(n)||Rv(n),{x,width:v}=((_,S,k)=>{const A=Math.max(_.x+k,S.x);return{x:A,width:Math.min(_.right-k,S.right)-A}})(m,u,l);if(n.inline&&!p)return ln(x,u.y,v,u.height);{const _=r.header.isPositionedAtTop(),{y:S,bottom:k}=((A,M,P,q,U,j)=>{const H=Pt(A.getContainer()),V=ss(H,".tox-editor-header").getOr(H),Y=fr(V),J=Y.y>=M.bottom,de=q&&!J;if(A.inline&&de)return{y:Math.max(Y.bottom+j,P.y),bottom:P.bottom};if(A.inline&&!de)return{y:P.y,bottom:Math.min(Y.y-j,P.bottom)};const ce=U==="line"?fr(H):M;return de?{y:Math.max(Y.bottom+j,P.y),bottom:Math.min(ce.bottom-j,P.bottom)}:{y:Math.max(ce.y+j,P.y),bottom:Math.min(Y.y-j,P.bottom)}})(n,m,u,_,i,l);return ln(x,S,v,k-S)}},zc={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},S8={maxHeightFunction:Xg(),maxWidthFunction:E0()},k2=n=>n==="node",lI=(n,r,i,l,u)=>{const m=vu(n),p=l.lastElement().exists(x=>$o(i,x));return((x,v)=>{const _=x.selection.getRng(),S=ah(Pt(_.startContainer),_.startOffset);return _.startContainer===_.endContainer&&_.startOffset===_.endOffset-1&&$o(S.element,v)})(n,i)?p?Nx:Kl:p?((x,v)=>{const _=ir(x,"position");ko(x,"position",v);const S=C2(m,fr(r),-20)&&!l.isReposition()?ZC:Nx;return _.each(k=>ko(x,"position",k)),S})(r,l.getMode()):(l.getMode()==="fixed"?u.y+Ri().top:u.y)+(Or(r)+12)<=m.y?Kl:sp},N1=(n,r,i,l)=>{const u=p=>(x,v,_,S,k)=>({...lI(n,S,p,i,k)({...x,y:k.y,height:k.height},v,_,S,k),alwaysFit:!0}),m=p=>k2(l)?[u(p)]:[];return r?{onLtr:p=>[Lr,br,Pr,Da,Oa,Ir].concat(m(p)),onRtl:p=>[Lr,Pr,br,Oa,Da,Ir].concat(m(p))}:{onLtr:p=>[Ir,Lr,Da,br,Oa,Pr].concat(m(p)),onRtl:p=>[Ir,Lr,Oa,Pr,Da,br].concat(m(p))}},oE=(n,r)=>{const i=Co(r,m=>m.predicate(n.dom)),{pass:l,fail:u}=an(i,m=>m.type==="contexttoolbar");return{contextToolbars:l,contextForms:u}},nE=(n,r)=>{const i={},l=[],u=[],m={},p={},x=Lo(n);return pt(x,v=>{const _=n[v];_.type==="contextform"||_.type==="contextsliderform"||_.type==="contextsizeinputform"?((S,k)=>{const A=Bi(Es("ContextForm",J6,k));i[S]=A,A.launch.map(M=>{m["form:"+S]={...k.launch,type:M.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(A)}}}),A.scope==="editor"?u.push(A):l.push(A),p[S]=A})(v,_):_.type==="contexttoolbar"&&((S,k)=>{var A;(A=k,Es("ContextToolbar",yB,A)).each(M=>{M.launch.isSome()&&(m["toolbar:"+S]={...k.launch,type:"button",onAction:()=>{r(M)}}),k.scope==="editor"?u.push(M):l.push(M),p[S]=M})})(v,_)}),{forms:i,inNodeScope:l,inEditorScope:u,lookupTable:p,formNavigators:m}},S2="tox-pop--transition",cI=(n,r,i,l)=>{const u=l.backstage,m=u.shared,p=ve().deviceType.isTouch,x=In(),v=In(),_=In(),S=(pe=>{const Te=Tt([]);return{sketch:Bs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:$e=>{Te.set([]),Bs.getContent($e).each(je=>{mn(je.element,"visibility")}),en($e.element,W_),mn($e.element,"width")},onHide:()=>{Te.set([]),pe.onHide()},inlineBehaviours:ht([co("context-toolbar-events",[Wu(Jf(),($e,je)=>{je.event.raw.propertyName==="width"&&(en($e.element,W_),mn($e.element,"width"))}),Ke($S,($e,je)=>{const it=$e.element;mn(it,"width");const Wt=Bn(it),Jt=La($e.element).isSome();mn(it,"left"),mn(it,"right"),mn(it,"max-width"),Bs.setContent($e,je.event.contents),vs(it,W_);const oo=Bn(it);ko(it,"transition","none"),Bs.reposition($e),mn(it,"transition"),ko(it,"width",Wt+"px"),je.event.focus.fold(()=>{Jt&&pg($e)},Bo=>{od(Gr($e.element)).fold(()=>gr(Bo),En=>{$o(En,Bo)||pe.focusElement(Bo)})}),setTimeout(()=>{ko($e.element,"width",oo+"px")},0)}),Ke(jp,($e,je)=>{Bs.getContent($e).each(it=>{Te.set(Te.get().concat([{bar:it,focus:od(Gr($e.element))}]))}),Gt($e,$S,{contents:je.event.forwardContents,focus:E.none()})}),Ke(j_,($e,je)=>{pe.onBack(),mt(Te.get()).each(it=>{Te.set(Te.get().slice(0,Te.get().length-1)),Gt($e,$S,{contents:Jl(it.bar),focus:it.focus})})})]),qt.config({mode:"special",onEscape:$e=>mt(Te.get()).fold(()=>pe.onEscape(),je=>(qo($e,j_),E.some(!0)))})]),lazySink:()=>Wo.value(pe.sink)}),inSubtoolbar:()=>Te.get().length>0}})({sink:i,onEscape:()=>(n.focus(),z3(n),E.some(!0)),onHide:()=>{z3(n)},onBack:()=>{(pe=>{pe.dispatch("ContextFormSlideBack")})(n)},focusElement:pe=>{n.getBody().contains(pe.dom)?n.focus():gr(pe)}}),k=$a(S.sketch),A=()=>{const pe=_.get().getOr("node"),Te=k2(pe)?1:0;return tE(n,m,pe,Te)},M=()=>!(n.removed||p()&&u.isContextMenuOpen()),P=()=>{if(M()){const pe=A(),Te=zn(_.get(),"node")?((Ve,$e)=>$e.filter(je=>at(je)&&jn(je)).map(Mu).getOrThunk(()=>vu(Ve)))(n,x.get()):vu(n);return pe.height<=0||!C2(Te,pe,.01)}return!0},q=()=>{x.clear(),v.clear(),_.clear(),Bs.hide(k)},U=()=>{if(Bs.isOpen(k)){const pe=k.element;mn(pe,"display"),P()?ko(pe,"display","none"):(v.set(0),Bs.reposition(k))}},j=pe=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[pe],behaviours:ht([qt.config({mode:"acyclic"}),co("pop-dialog-wrap-events",[as(Te=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>qt.focusIn(Te))}),Tc(Te=>{n.shortcuts.remove("ctrl+F9")})])])}),H=pe=>{const Te=Y([pe]);Gt(k,jp,{forwardContents:j(Te)})},V=mr(()=>nE(r,H)),Y=pe=>{const{buttons:Te}=n.ui.registry.getAll(),Ve={...Te,...V().formNavigators},$e=Op(n)===Lc.scrolling?Lc.scrolling:Lc.default,je=_s(we(pe,it=>{return it.type==="contexttoolbar"?((Jt,oo)=>K_(n,{buttons:Jt,toolbar:oo.items,allowToolbarGroups:!1},l.backstage,E.some(["form:","toolbar:"])))(Ve,(Wt=it,{...Wt,launch:Wt.launch.getOrUndefined(),items:De(Wt.items)?Wt.items:we(Wt.items,wB)})):((Jt,oo)=>iI(Jt,oo))(it,m.providers);var Wt}));return z_({type:$e,uid:ke("context-toolbar"),initGroups:je,onEscape:E.none,cyclicKeying:!0,providers:m.providers})},J=(pe,Te)=>{if(ce.cancel(),!M())return;const Ve=Y(pe),$e=pe[0].position,je=((Wt,Jt)=>{const oo=Wt==="node"?m.anchors.node(Jt):m.anchors.cursor(),Bo=((En,Xn,so,Ln)=>Xn==="line"?{bubble:el(12,0,zc),layouts:{onLtr:()=>[Gg],onRtl:()=>[Kg]},overrides:S8}:{bubble:el(0,12,zc,1/12),layouts:N1(En,so,Ln,Xn),overrides:S8})(n,Wt,p(),{lastElement:x.get,isReposition:()=>zn(v.get(),0),getMode:()=>vi.getMode(i)});return bs(oo,Bo)})($e,Te);_.set($e),v.set(1);const it=k.element;mn(it,"display"),(Wt=>zn(Rl(Wt,x.get(),$o),!0))(Te)||(en(it,S2),vi.reset(i,k)),Bs.showWithinBounds(k,j(Ve),{anchor:je,transition:{classes:[S2],mode:"placement"}},()=>E.some(A())),Te.fold(x.clear,x.set),P()&&ko(it,"display","none")};let de=!1;const ce=Au(()=>{!n.hasFocus()||n.removed||de||(cr(k.element,S2)?ce.throttle():((pe,Te)=>{const Ve=Pt(Te.getBody()),$e=it=>$o(it,Ve),je=Pt(Te.selection.getNode());return(it=>!$e(it)&&!Is(Ve,it))(je)?E.none():((it,Wt,Jt)=>{const oo=oE(it,Wt);if(oo.contextForms.length>0)return E.some({elem:it,toolbars:[oo.contextForms[0]]});{const Bo=oE(it,Jt);if(Bo.contextForms.length>0)return E.some({elem:it,toolbars:[Bo.contextForms[0]]});if(oo.contextToolbars.length>0||Bo.contextToolbars.length>0){const En=(Xn=>{if(Xn.length<=1)return Xn;{const so=_n=>vn(Xn,ia=>ia.position===_n),Ln=_n=>Co(Xn,ia=>ia.position===_n),fo=so("selection"),ps=so("node");if(fo||ps){if(ps&&fo){const _n=Ln("node"),ia=we(Ln("selection"),is=>({...is,position:"node"}));return _n.concat(ia)}return Ln(fo?"selection":"node")}return Ln("line")}})(oo.contextToolbars.concat(Bo.contextToolbars));return E.some({elem:it,toolbars:En})}return E.none()}})(je,pe.inNodeScope,pe.inEditorScope).orThunk(()=>((it,Wt,Jt)=>it(Wt)?E.none():uh(Wt,oo=>{if(Uo(oo)){const{contextToolbars:Bo,contextForms:En}=oE(oo,Jt.inNodeScope),Xn=En.length>0?En:(so=>{if(so.length<=1)return so;{const Ln=fo=>I(so,ps=>ps.position===fo);return Ln("selection").orThunk(()=>Ln("node")).orThunk(()=>Ln("line")).map(fo=>fo.position).fold(()=>[],fo=>Co(so,ps=>ps.position===fo))}})(Bo);return Xn.length>0?E.some({elem:oo,toolbars:Xn}):E.none()}return E.none()},it))($e,je,pe))})(V(),n).fold(q,pe=>{J(pe.toolbars,E.some(pe.elem))}))},17);n.on("init",()=>{n.on("remove",q),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",U),n.on("click focus SetContent",ce.throttle),n.on("keyup",pe=>{var Te;((Te=pe.keyCode)!==G_.ENTER&&Te!==G_.SPACEBAR||!S.inSubtoolbar())&&ce.throttle()}),n.on(_8,q),n.on("contexttoolbar-show",pe=>{const Te=V();Qt(Te.lookupTable,pe.toolbarKey).each(Ve=>{J([Ve],Hs(pe.target!==n,pe.target)),pg(k)})}),n.on("focusout",pe=>{nb.setEditorTimeout(n,()=>{La(i.element).isNone()&&La(k.element).isNone()&&!n.hasFocus()&&q()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&q()}),n.on("DisabledStateChange",pe=>{pe.state&&q()}),n.on("ExecCommand",({command:pe})=>{pe.toLowerCase()==="toggleview"&&q()}),n.on("AfterProgressState",pe=>{pe.state?q():n.hasFocus()&&ce.throttle()}),n.on("dragstart",()=>{de=!0}),n.on("dragend drop",()=>{de=!1}),n.on("NodeChange",pe=>{S.inSubtoolbar()?(ko(k.element,"transition","none"),U(),mn(k.element,"transition")):La(k.element).fold(ce.throttle,ge)})})},E8=(n,r)=>{const i=()=>{const l=r.getOptions(n),u=r.getCurrent(n).map(r.hash),m=In();return we(l,p=>({type:"togglemenuitem",text:r.display(p),onSetup:x=>{const v=S=>{S&&(m.on(k=>k.setActive(!1)),m.set(x)),x.setActive(S)};v(zn(u,r.hash(p)));const _=r.watcher(n,p,v);return()=>{m.clear(),_()}},onAction:()=>r.setCurrent(n,p)}))};n.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:l=>l(i()),onSetup:r.onToolbarSetup}),n.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:i,onSetup:r.onMenuSetup})},M1=n=>{E8(n,(r=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:Bw,hash:i=>(l=>hc(l,["fixed","relative","empty"]).map(({value:u,unit:m})=>u+m))(i).getOr(i),display:yt,watcher:(i,l,u)=>i.formatter.formatChanged("lineheight",u,!1,{value:l}).unbind,getCurrent:i=>E.from(i.queryCommandValue("LineHeight")),setCurrent:(i,l)=>i.execCommand("LineHeight",!1,l),onToolbarSetup:wi(r),onMenuSetup:wi(r)}))(n)),(r=>E.from(Dw(r)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:oe(i),hash:l=>Zt(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,u,m)=>{var p;return l.formatter.formatChanged("lang",m,!1,{value:u.code,customValue:(p=u.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const u=Pt(l.selection.getNode());return mh(u,m=>E.some(m).filter(Uo).bind(p=>Kr(p,"lang").map(x=>({code:x,customCode:Kr(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,u)=>l.execCommand("Lang",!1,u),onToolbarSetup:l=>{const u=Ur();return l.setActive(r.formatter.match("lang",{},void 0,!0)),u.set(r.formatter.formatChanged("lang",l.setActive,!0)),o2(u.clear,wi(r)(l))},onMenuSetup:wi(r)})))(n).each(r=>E8(n,r))},A8=n=>Tf(n,"NodeChange",r=>{r.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),sE=(n,r)=>i=>{i.setActive(r.get());const l=u=>{r.set(u.state),i.setActive(u.state)};return n.on("PastePlainTextToggle",l),o2(()=>n.off("PastePlainTextToggle",l),wi(n)(i))},rE=(n,r)=>()=>{n.execCommand("mceToggleFormat",!1,r)},aE=n=>{(r=>{(i=>{fg.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,u)=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:n2(i,l.name),onAction:rE(i,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const u="h"+l,m=`Access+${l}`;i.ui.registry.addToggleButton(u,{text:u.toUpperCase(),tooltip:"Heading "+l,onSetup:n2(i,u),onAction:rE(i,u),shortcut:m})}})(r),(i=>{fg.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:lc(i,l.action),shortcut:l.shortcut,context:l.context})}),fg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:wi(i),onAction:lc(i,l.action)})})})(r),(i=>{fg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:lc(i,l.action),onSetup:n2(i,l.name)})})})(r)})(n),(r=>{fg.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:lc(r,i.action),context:i.context})}),fg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onSetup:wi(r),onAction:lc(r,i.action)})}),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:wi(r),onAction:rE(r,"code")})})(n)},E2=(n,r)=>Tf(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[r]())}),iE=n=>Tf(n,"VisualAid",r=>{r.setActive(n.hasVisual)}),T8=(n,r)=>{(i=>{pt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:lc(i,l.cmd),onSetup:n2(i,l.name)})}),i.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:wi(i),onAction:lc(i,"JustifyNone")})})(n),aE(n),((i,l)=>{((u,m)=>{const p=Sb(m,r8(u));u.ui.registry.addNestedMenuItem("align",{text:m.shared.providers.translate("Align"),onSetup:wi(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p=Sb(m,c8(u));u.ui.registry.addNestedMenuItem("fontfamily",{text:m.shared.providers.translate("Fonts"),onSetup:wi(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p={type:"advanced",...m.styles},x=Sb(m,h8(u,p));u.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:wi(u,()=>x.getStyleItems().length>0),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(i,l),((u,m)=>{const p=Sb(m,i8(u));u.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:wi(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p=Sb(m,f8(u));u.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:wi(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l)})(n,r),(i=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:E2(l,"hasUndo"),onAction:lc(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:E2(l,"hasRedo"),onAction:lc(l,"redo")})})(i),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:E2(l,"hasUndo"),onAction:lc(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:E2(l,"hasRedo"),onAction:lc(l,"redo"),shortcut:"Meta+Y"})})(i)})(n),(i=>{(x=>{x.addCommand("mceApplyTextcolor",(v,_)=>{((S,k,A)=>{S.undoManager.transact(()=>{S.focus(),S.formatter.apply(k,{value:A}),S.nodeChanged()})})(x,v,_)}),x.addCommand("mceRemoveTextcolor",v=>{((_,S)=>{_.undoManager.transact(()=>{_.focus(),_.formatter.remove(S,{value:null},void 0,!0),_.nodeChanged()})})(x,v)})})(i);const l=_D(i),u=CD(i),m=Tt(l),p=Tt(u);TD(i,"forecolor","forecolor",m),TD(i,"backcolor","hilitecolor",p),DD(i,"forecolor","forecolor","Text color",m),DD(i,"backcolor","hilitecolor","Background color",p)})(n),(i=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:lc(l,"mceToggleVisualAid"),context:"any"})})(i),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:iE(l),onAction:lc(l,"mceToggleVisualAid"),context:"any"})})(i)})(n),(i=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:A8(l),onAction:lc(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:wi(l,()=>l.queryCommandState("indent")),onAction:lc(l,"indent")})})(i)})(n),M1(n),(i=>{const l=Tt(zT(i)),u=()=>i.execCommand("mceTogglePlainTextPaste");i.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:u,onSetup:sE(i,l)}),i.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:u,onSetup:sE(i,l)})})(n),(i=>{i.ui.registry.addContext("editable",()=>i.selection.isEditable()),i.ui.registry.addContext("mode",l=>i.mode.get()===l),i.ui.registry.addContext("any",no),i.ui.registry.addContext("formatting",l=>i.formatter.canApply(l)),i.ui.registry.addContext("insert",l=>i.schema.isValidChild(i.selection.getNode().tagName,l))})(n)},D8=n=>De(n)?n.split(/[ ,]/):n,Db=n=>r=>r.options.get(n),O8=Db("contextmenu_never_use_native"),dI=Db("contextmenu_avoid_overlap"),R8=n=>{const r=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:Co(i,l=>nn(r,l))},A2=(n,r)=>({type:"makeshift",x:n,y:r}),eC=n=>n.type==="longpress"||n.type.indexOf("touch")===0,uI=(n,r)=>r.type==="contextmenu"||r.type==="longpress"?n.inline?(i=>{if(eC(i)){const l=i.touches[0];return A2(l.pageX,l.pageY)}return A2(i.pageX,i.pageY)})(r):((i,l)=>{const u=c1.DOM.getPos(i);return((m,p,x)=>A2(m.x+p,m.y+x))(l,u.x,u.y)})(n.getContentAreaContainer(),(i=>{if(eC(i)){const l=i.touches[0];return A2(l.clientX,l.clientY)}return A2(i.clientX,i.clientY)})(r)):tC(n),tC=n=>({type:"selection",root:Pt(n.selection.getNode())}),N8=(n,r,i)=>{switch(i){case"node":return(l=>({type:"node",node:E.some(Pt(l.selection.getNode())),root:Pt(l.getBody())}))(n);case"point":return uI(n,r);case"selection":return tC(n)}},T2=(n,r,i,l,u,m)=>{const p=i(),x=N8(n,r,m);Zp(p,fu.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:E.none()}).map(v=>{r.preventDefault(),Bs.showMenuAt(u,{anchor:x},{menu:{markers:kf("normal")},data:v})})},mI={onLtr:()=>[Lr,br,Pr,Da,Oa,Ir,Kl,sp,Yg,op,np,Fr],onRtl:()=>[Lr,Pr,br,Oa,Da,Ir,Kl,sp,np,Fr,Yg,op]},M8={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},gI=(n,r,i,l,u,m)=>{const p=ve(),x=p.os.isiOS(),v=p.os.isMacOS(),_=p.os.isAndroid(),S=p.deviceType.isTouch(),k=()=>{const A=i();((M,P,q,U,j,H,V)=>{const Y=((J,de,ce)=>{const pe=N8(J,de,ce);return{bubble:el(0,ce==="point"?12:0,M8),layouts:mI,overrides:{maxWidthFunction:E0(),maxHeightFunction:Xg()},...pe}})(M,P,H);Zp(q,fu.CLOSE_ON_EXECUTE,U,{isHorizontalMenu:!0,search:E.none()}).map(J=>{P.preventDefault();const de=V?Js.HighlightMenuAndItem:Js.HighlightNone;Bs.showMenuWithinBounds(j,{anchor:Y},{menu:{markers:kf("normal"),highlightOnOpen:de},data:J,type:"horizontal"},()=>E.some(tE(M,U.shared,H==="node"?"node":"selection"))),M.dispatch(_8)})})(n,r,A,l,u,m,!(_||x||v&&S))};if((v||x)&&m!=="node"){const A=()=>{(M=>{const P=M.selection.getRng(),q=()=>{nb.setEditorTimeout(M,()=>{M.selection.setRng(P)},10),H()};M.once("touchend",q);const U=V=>{V.preventDefault(),V.stopImmediatePropagation()};M.on("mousedown",U,!0);const j=()=>H();M.once("longpresscancel",j);const H=()=>{M.off("touchend",q),M.off("longpresscancel",j),M.off("mousedown",U)}})(n),k()};((M,P)=>{const q=M.selection;if(q.isCollapsed()||P.touches.length<1)return!1;{const U=P.touches[0],j=q.getRng();return rx(M.getWin(),ad.domRange(j)).exists(H=>H.left<=U.clientX&&H.right>=U.clientX&&H.top<=U.clientY&&H.bottom>=U.clientY)}})(n,r)?A():(n.once("selectionchange",A),n.once("touchend",()=>n.off("selectionchange",A)))}else k()},B8=n=>De(n)?n==="|":n.type==="separator",lE={type:"separator"},P8=n=>{const r=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(De(n))return n;switch(n.type){case"separator":return lE;case"submenu":return{type:"nestedmenuitem",...r(n),getSubmenuItems:()=>{const l=n.getSubmenuItems();return De(l)?l:we(l,P8)}};default:const i=n;return{type:"menuitem",...r(i),onAction:Le(i.onAction)}}},D2=(n,r)=>{if(r.length===0)return n;const i=mt(n).filter(l=>!B8(l)).fold(()=>[],l=>[lE]);return n.concat(i).concat(r).concat([lE])},cE=(n,r)=>!(i=>i.type==="longpress"||nn(i,"touches"))(r)&&(r.button!==2||r.target===n.getBody()&&r.pointerType===""),I8=(n,r)=>cE(n,r)?n.selection.getStart(!0):r.target,dE=(n,r,i)=>{const l=ve().deviceType.isTouch,u=$a(Bs.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:ht([co("dismissContextMenu",[Ke(Vg(),(x,v)=>{xn.close(x),n.focus()})])])})),m=()=>Bs.hide(u),p=x=>{if(O8(n)&&x.preventDefault(),((_,S)=>S.ctrlKey&&!O8(_))(n,x)||(_=>R8(_).length===0)(n))return;const v=((_,S)=>{const k=dI(_),A=cE(_,S)?"selection":"point";if(Ml(k)){const M=I8(_,S);return dh(Pt(M),k)?"node":A}return A})(n,x);(l()?gI:T2)(n,x,()=>{const _=I8(n,x),S=n.ui.registry.getAll(),k=R8(n);return((A,M,P)=>{const q=Vo(M,(U,j)=>Qt(A,j.toLowerCase()).map(H=>{const V=H.update(P);if(De(V)&&Ml(Eu(V)))return D2(U,V.split(" "));if(Qe(V)&&V.length>0){const Y=we(V,P8);return D2(U,Y)}return U}).getOrThunk(()=>U.concat([j])),[]);return q.length>0&&B8(q[q.length-1])&&q.pop(),q})(S.contextMenus,k,_)},i,u,v)};n.on("init",()=>{const x="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");n.on(x,m),n.on("longpress contextmenu",p)})},Wp=(n,r,i,l,u,m)=>n.fold(()=>vp.snap({sensor:Ym(i-20,l-20),range:Ss(u,m),output:Ym(E.some(i),E.some(l)),extra:{td:r}}),p=>{const x=i-20,v=l-20,_=p.element.dom.getBoundingClientRect();return vp.snap({sensor:Ym(x,v),range:Ss(40,40),output:Ym(E.some(i-_.width/2),E.some(l-_.height/2)),extra:{td:r}})}),uE=(n,r,i)=>({getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,u)=>{const m=u.td;((p,x)=>p.exists(v=>$o(v,x)))(r.get(),m)||(r.set(m),i(m))},mustSnap:!0}),Ob=n=>Rn(Za.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ht([vp.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),uv.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),fI=(n,r)=>{const i=Tt([]),l=Tt([]),u=Tt(!1),m=In(),p=In(),x=H=>{const V=Mu(H);return Wp(k.getOpt(r),H,V.x,V.y,V.width,V.height)},v=H=>{const V=Mu(H);return Wp(A.getOpt(r),H,V.right,V.bottom,V.width,V.height)},_=uE(()=>we(i.get(),H=>x(H)),m,H=>{p.get().each(V=>{n.dispatch("TableSelectorChange",{start:H,finish:V})})}),S=uE(()=>we(l.get(),H=>v(H)),p,H=>{m.get().each(V=>{n.dispatch("TableSelectorChange",{start:V,finish:H})})}),k=Ob(_),A=Ob(S),M=$a(k.asSpec()),P=$a(A.asSpec()),q=(H,V,Y,J)=>{const de=Y(V);vp.snapTo(H,de),((ce,pe)=>{const Te=pe.dom.getBoundingClientRect();mn(ce.element,"display");const Ve=Dr(Pt(n.getBody())).dom.innerHeight,$e=Te[J]<0,je=((it,Wt)=>it[J]>Wt)(Te,Ve);($e||je)&&ko(ce.element,"display","none")})(H,V)},U=H=>q(M,H,x,"top"),j=H=>q(P,H,v,"bottom");if(ve().deviceType.isTouch()){const H=V=>we(V,Pt);n.on("TableSelectionChange",V=>{u.get()||(df(r,M),df(r,P),u.set(!0));const Y=Pt(V.start),J=Pt(V.finish);m.set(Y),p.set(J),E.from(V.otherCells).each(de=>{i.set(H(de.upOrLeftCells)),l.set(H(de.downOrRightCells)),U(Y),j(J)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{m.get().each(U),p.get().each(j)}),n.on("TableSelectionClear",()=>{u.get()&&(Gm(M),Gm(P),u.set(!1)),m.clear(),p.clear()})}},L8=(n,r,i)=>{var l;const u=(l=r.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ht([qt.config({mode:"flow",selector:"div[role=button]"}),Xt.config({disabled:i.isDisabled}),dr(()=>i.checkUiComponentContext("any")),cn.config({}),So.config({}),co("elementPathEvents",[as((m,p)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>qt.focusIn(m)),n.on("NodeChange",x=>{const v=(S=>{const k=[];let A=S.length;for(;A-- >0;){const P=S[A];if(P.nodeType===1&&(M=P).nodeName!=="BR"&&!M.getAttribute("data-mce-bogus")&&M.getAttribute("data-mce-type")!=="bookmark"){const q=NB(n,P);if(q.isDefaultPrevented()||k.push({name:q.name,element:P}),q.isPropagationStopped())break}}var M;return k})(x.parents),_=v.length>0?Vo(v,(S,k,A)=>{const M=((P,q,U)=>Za.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":U}},components:[As(P)],action:j=>{n.focus(),n.selection.select(q),n.nodeChanged()},buttonBehaviours:ht([fs.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",q.nodeName.toLowerCase()]),onShow:(j,H)=>{((V,Y)=>{const J=E.from(Eo(V,"id")).getOrThunk(()=>{const de=ke("aria");return ao(Y,"id",de),de});ao(V,"aria-describedby",J)})(j.element,H.element)},onHide:j=>{var H;H=j.element,Us(H,"aria-describedby")}})}),w1(i.isDisabled),dr(()=>i.checkUiComponentContext("any"))])}))(k.name,k.element,A);return A===0?S.concat([M]):S.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[As(` ${u} `)]},M])},[]):[];So.set(m,_)})})])]),components:[]}};var hg;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(hg||(hg={}));const F8=n=>{const r=Pt(n.getContainer());return{height:Or(r),width:Bn(r)}},qp=(n,r,i)=>{const l=Pt(n.getContainer()),u=((m,p,x,v)=>({height:X_(v.height+p.top,ig(m),x4(m)),width:x===hg.Both?X_(v.width+p.left,Tv(m),Ju(m)):v.width}))(n,r,i,F8(n));return yn(u,(m,p)=>{zt(m)&&ko(l,p,Y_(m))}),(m=>{m.dispatch("ResizeEditor")})(n),u},oC=(n,r,i)=>{ao(n.element,"aria-valuetext",((l,u)=>u===hg.Both?Wa.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",l.height,l.width]):Wa.translate(["Editor's height: {0} pixels",l.height]))(r,i))},nC=(n,r,i,l,u)=>{const m=Ss(20*l,20*u),p=qp(n,m,i);return oC(r,p,i),E.some(!0)},z8=(n,r)=>{const i=()=>{const l=[],u=VT(n),m=Nw(n),p=A4(n)||n.hasPlugin("wordcount");return m&&l.push(L8(n,{},r)),u&&l.push((()=>{const x=k3("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[As(Wa.translate(["Press {0} for help",x]))]}})()),p&&l.push((()=>{const x=[];return n.hasPlugin("wordcount")&&x.push(((v,_)=>{const S=(k,A,M)=>So.set(k,[As(_.translate(["{0} "+M,A[M]]))]);return Za.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ht([w1(_.isDisabled),dr(()=>_.checkUiComponentContext("any")),cn.config({}),So.config({}),Lt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),co("wordcount-events",[Dc(k=>{const A=Lt.getValue(k),M=A.mode==="words"?"characters":"words";Lt.setValue(k,{mode:M,count:A.count}),S(k,A.count,M)}),as(k=>{v.on("wordCountUpdate",A=>{const{mode:M}=Lt.getValue(k);Lt.setValue(k,{mode:M,count:A.wordCount}),S(k,A.wordCount,M)})})])]),eventOrder:{[Ji()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(n,r)),A4(n)&&x.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":n.translate(["Build with {0}","TinyMCE"])},innerHtml:n.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:ht([ho.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:x}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const x="tox-statusbar__text-container--flex-start",v="tox-statusbar__text-container--flex-end";if(u){const _="tox-statusbar__text-container-3-cols";return p||m?p&&!m?[_,v]:[_,x]:[_,"tox-statusbar__text-container--space-around"]}return[p&&!m?v:x]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=i(),u=((m,p)=>{const x=(S=>{const k=FT(S);return k===!1?hg.None:k==="both"?hg.Both:hg.Vertical})(m);if(x===hg.None)return E.none();const v=x===hg.Both?Wa.translate("Press the arrow keys to resize the editor."):Wa.translate("Press the Up and Down arrow keys to resize the editor."),_=x===hg.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return E.some(Sl("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",_],attributes:{"aria-label":p.translate(v),"data-mce-name":"resize-handle",role:"separator"},behaviours:[vp.config({mode:"mouse",repositionTarget:!1,onDrag:(S,k,A)=>{const M=qp(m,A,x);oC(S,M,x)},blockerClass:"tox-blocker"}),qt.config({mode:"special",onLeft:S=>nC(m,S,x,-1,0),onRight:S=>nC(m,S,x,1,0),onUp:S=>nC(m,S,x,0,-1),onDown:S=>nC(m,S,x,0,1)}),cn.config({}),ho.config({}),fs.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")})),co("set-aria-valuetext",[as(S=>{const k=()=>{oC(S,F8(m),x)};m._skinLoaded?k():m.once("SkinLoaded",k)})])],eventOrder:{[_c()]:["add-focusable","set-aria-valuetext"]}},p.icons))})(n,r);return l.concat(u.toArray())})()}},H8=(n,r)=>r.get().getOrDie(`UI for ${n} has not been rendered`),pI=(n,r)=>{const i=n.inline,l=i?sI:KS,u=ib(n)?UO:B_,m=(()=>{const ce=In(),pe=In(),Te=In();return{dialogUi:ce,popupUi:pe,mainUi:Te,getUiMotherships:()=>{const Ve=ce.get().map(je=>je.mothership),$e=pe.get().map(je=>je.mothership);return Ve.fold(()=>$e.toArray(),je=>$e.fold(()=>[je],it=>$o(je.element,it.element)?[je]:[je,it]))},lazyGetInOuterOrDie:(Ve,$e)=>()=>Te.get().bind(je=>$e(je.outerContainer)).getOrDie(`Could not find ${Ve} element in OuterContainer`)}})(),p=In(),x=In(),v=In(),_=ve().deviceType.isTouch()?["tox-platform-touch"]:[],S=O4(n),k=Op(n),A=Rn({dom:{tag:"div",classes:["tox-anchorbar"]}}),M=Rn({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),P=()=>m.mainUi.get().map(ce=>ce.outerContainer).bind(Vn.getHeader),q=m.lazyGetInOuterOrDie("anchor bar",A.getOpt),U=m.lazyGetInOuterOrDie("bottom anchor bar",M.getOpt),j=m.lazyGetInOuterOrDie("toolbar",Vn.getToolbar),H=m.lazyGetInOuterOrDie("throbber",Vn.getThrobber),V=((ce,pe,Te,Ve)=>{const $e=Tt(!1),je=(fo=>{const ps=Tt(O4(fo)?"bottom":"top");return{isPositionedAtTop:()=>ps.get()==="top",getDockingMode:ps.get,setDockingMode:ps.set}})(pe),it={icons:()=>pe.ui.registry.getAll().icons,menuItems:()=>pe.ui.registry.getAll().menuItems,translate:Wa.translate,isDisabled:()=>!pe.ui.isEnabled(),getOption:pe.options.get,tooltips:vP(ce.dialog),checkUiComponentContext:fo=>{if(Dp(pe))return{contextType:"disabled",shouldDisable:!0};const[ps,_n=""]=fo.split(":"),ia=pe.ui.registry.getAll().contexts;return{contextType:ps,shouldDisable:!Qt(ia,ps).fold(()=>Qt(ia,"mode").map(is=>is("design")).getOr(!1),is=>_n.charAt(0)==="!"?!is(_n.slice(1)):is(_n))}}},Wt=OP(pe),Jt=(fo=>{const ps=ii=>()=>fo.formatter.match(ii),_n=ii=>()=>{const Ui=fo.formatter.get(ii);return Ui!==void 0?E.some({tag:Ui.length>0&&(Ui[0].inline||Ui[0].block)||"div",styles:fo.dom.parseStyle(fo.formatter.getCssText(ii))}):E.none()},ia=Tt([]),is=Tt([]),Al=Tt(!1);return fo.on("PreInit",ii=>{const Ui=TO(fo),Rf=OO(fo,Ui,ps,_n);ia.set(Rf)}),fo.on("addStyleModifications",ii=>{const Ui=OO(fo,ii.items,ps,_n);is.set(Ui),Al.set(ii.replace)}),{getData:()=>{const ii=Al.get()?[]:ia.get(),Ui=is.get();return ii.concat(Ui)}}})(pe),oo=(fo=>({colorPicker:fP(fo),hasCustomColors:pP(fo),getColors:hP(fo),getColorCols:bP(fo)}))(pe),Bo=(fo=>({isDraggableModal:xP(fo)}))(pe),En={shared:{providers:it,anchors:gP(pe,Te,Ve,je.isPositionedAtTop),header:je},urlinput:Wt,styles:Jt,colorinput:oo,dialog:Bo,isContextMenuOpen:()=>$e.get(),setContextMenuState:fo=>$e.set(fo)},Xn=fo=>E.none(),so={...En,shared:{...En.shared,interpreter:fo=>CO(fo,{},so,Xn),getSink:ce.popup}},Ln={...En,shared:{...En.shared,interpreter:fo=>CO(fo,{},Ln,Xn),getSink:ce.dialog}};return{popup:so,dialog:Ln}})({popup:()=>Wo.fromOption(m.popupUi.get().map(ce=>ce.sink),"(popup) UI has not been rendered"),dialog:()=>Wo.fromOption(m.dialogUi.get().map(ce=>ce.sink),"UI has not been rendered")},n,q,U),Y=()=>{const ce=(()=>{const En={attributes:{[Fm]:S?ru.BottomToTop:ru.TopToBottom}},Xn=Vn.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:V.popup,onEscape:()=>{n.focus()}}),so=Vn.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:V.popup.shared.getSink,providers:V.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:Ui=>{((Rf,Bb)=>{Rf.dispatch("ToggleToolbarDrawer",{state:Bb})})(n,Ui)},type:k,lazyToolbar:j,lazyHeader:()=>P().getOrDie("Could not find header element"),...En}),Ln=Vn.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:V.popup.shared.providers,onEscape:()=>{n.focus()},type:k}),fo=Rv(n),ps=Ov(n),_n=Mw(n),ia=T4(n),is=fo||ps||_n,Al=[(ii=ia,Vn.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:ii})),Xn];var ii;return Vn.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(is?[]:["tox-editor-header--empty"]),...En},components:_s([_n?Al:[],fo?[Ln]:ps?[so]:[],ab(n)?[]:[A.asSpec()]]),sticky:ib(n),editor:n,sharedBackstage:V.popup.shared})})(),pe={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Vn.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Vn.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Te=Vn.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:V.popup}),Ve=Vn.parts.viewWrapper({backstage:V.popup}),$e=LT(n)&&!i?E.some(z8(n,V.popup.shared.providers)):E.none(),je=_s([S?[]:[ce],i?[]:[pe],S?[ce]:[]]),it=Vn.parts.editorContainer({components:_s([je,i?[]:[M.asSpec()]])}),Wt=N4(n),Jt={role:"application",...Wa.isRtl()?{dir:"rtl"}:{},...Wt?{"aria-hidden":"true"}:{}},oo=$a(Vn.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(S?["tox-tinymce--toolbar-bottom"]:[]).concat(_),styles:{visibility:"hidden",...Wt?{opacity:"0",border:"0"}:{}},attributes:Jt},components:[it,...i?[]:[Ve,...$e.toArray()],Te],behaviours:ht([dr(()=>V.popup.shared.providers.checkUiComponentContext("any")),Xt.config({disableClass:"tox-tinymce--disabled"}),qt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Bo=Mk(oo);return p.set(Bo),{mothership:Bo,outerContainer:oo}},J=ce=>{const pe=Y_((Ve=>($e=>{const je=((Jt,oo)=>{if(typeof oo=="number")return E.from(oo);const Bo=/^([0-9.]+)(pt|em|px)$/.exec(oo.trim());if(Bo){const En=Bo[2],Xn=Number.parseFloat(Bo[1]);if(Number.isNaN(Xn)||Xn<0)return E.none();if(En==="em")return E.from(Xn*Number.parseFloat(window.getComputedStyle(Jt.dom).fontSize));if(En==="pt")return E.from(.75*Xn);if(En==="px")return E.from(Xn)}return E.none()})(Pt($e.targetElm),d1($e)),it=ig($e),Wt=x4($e);return je.map(Jt=>X_(Jt,it,Wt))})(Ve).getOr(d1(Ve)))(n)),Te=Y_((Ve=>v8(Ve).getOr(Tw(Ve)))(n));return n.inline||(sd("div","width",Te)&&ko(ce.element,"width",Te),sd("div","height",pe)?ko(ce.element,"height",pe):ko(ce.element,"height","400px")),pe},de=ce=>{const{mainUi:pe,popupUi:Te,uiMotherships:Ve}=ce;Rs(y4(n),(so,Ln)=>{n.ui.registry.addGroupToolbarButton(Ln,so)});const{buttons:$e,menuItems:je,contextToolbars:it,sidebars:Wt,views:Jt}=n.ui.registry.getAll(),oo=Pw(n),Bo={menuItems:je,menus:Nv(n),menubar:PT(n),toolbar:oo.getOrThunk(()=>u1(n)),allowToolbarGroups:k===Lc.floating,buttons:$e,sidebar:Wt,views:Jt};var En;En=pe.outerContainer,n.addShortcut("alt+F9","focus menubar",()=>{Vn.focusMenubar(En)}),n.addShortcut("alt+F10","focus toolbar",()=>{Vn.focusToolbar(En)}),n.addCommand("ToggleToolbarDrawer",(so,Ln,fo)=>{Ln?.skipFocus?(console.warn(RP.skipFocus,new Error().stack),Vn.toggleToolbarDrawerWithoutFocusing(En)):fo?.skip_focus?Vn.toggleToolbarDrawerWithoutFocusing(En):Vn.toggleToolbarDrawer(En)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>Vn.isToolbarDrawerToggled(En)),n.on("blur",()=>{Op(n)===Lc.floating&&Vn.isToolbarDrawerToggled(En)&&Vn.toggleToolbarDrawerWithoutFocusing(En)}),((so,Ln,fo)=>{const ps=(fn,Hc)=>{pt([Ln,...fo],_i=>{_i.broadcastEvent(fn,Hc)})},_n=(fn,Hc)=>{pt([Ln,...fo],_i=>{_i.broadcastOn([fn],Hc)})},ia=fn=>_n(iu(),{target:fn.target}),is=fn=>{_n(Ha(),{closedTooltip:()=>{fn.preventDefault()}})},Al=j1(),ii=Ia(Al,"touchstart",ia),Ui=Ia(Al,"touchmove",fn=>ps(ty(),fn)),Rf=Ia(Al,"touchend",fn=>ps(oy(),fn)),Bb=Ia(Al,"mousedown",ia),lC=Ia(Al,"mouseup",fn=>{fn.raw.button===0&&_n(zh(),{target:fn.target})}),im=fn=>_n(iu(),{target:Pt(fn.target)}),P1=fn=>{fn.button===0&&_n(zh(),{target:Pt(fn.target)})},bg=()=>{pt(so.editorManager.get(),fn=>{so!==fn&&fn.dispatch("DismissPopups",{relatedTarget:so})})},I1=fn=>ps(c0(),td(fn)),L1=fn=>{_n($m(),{}),ps(Wl(),td(fn))},Nf=Gr(Pt(so.getElement())),Gp=Z1(Nf,"scroll",fn=>{requestAnimationFrame(()=>{if(so.getContainer()!=null){const Hc=Rp(so,Ln.element).map(_i=>[_i.element,..._i.others]).getOr([]);vn(Hc,_i=>$o(_i,fn.target))&&(so.dispatch("ElementScroll",{target:fn.target.dom}),ps(yh(),fn))}})}),F1=()=>_n($m(),{}),Pb=fn=>{fn.state&&_n(iu(),{target:Pt(so.getContainer())})},R2=fn=>{_n(iu(),{target:Pt(fn.relatedTarget.getContainer())})},Ib=fn=>so.dispatch("focusin",fn),Kp=fn=>so.dispatch("focusout",fn);so.on("PostRender",()=>{so.on("click",im),so.on("tap",im),so.on("mouseup",P1),so.on("mousedown",bg),so.on("ScrollWindow",I1),so.on("ResizeWindow",L1),so.on("ResizeEditor",F1),so.on("AfterProgressState",Pb),so.on("DismissPopups",R2),so.on("CloseActiveTooltips",is),pt([Ln,...fo],fn=>{fn.element.dom.addEventListener("focusin",Ib),fn.element.dom.addEventListener("focusout",Kp)})}),so.on("remove",()=>{so.off("click",im),so.off("tap",im),so.off("mouseup",P1),so.off("mousedown",bg),so.off("ScrollWindow",I1),so.off("ResizeWindow",L1),so.off("ResizeEditor",F1),so.off("AfterProgressState",Pb),so.off("DismissPopups",R2),so.off("CloseActiveTooltips",is),pt([Ln,...fo],fn=>{fn.element.dom.removeEventListener("focusin",Ib),fn.element.dom.removeEventListener("focusout",Kp)}),Bb.unbind(),ii.unbind(),Ui.unbind(),Rf.unbind(),lC.unbind(),Gp.unbind()}),so.on("detach",()=>{pt([Ln,...fo],Ry),pt([Ln,...fo],fn=>fn.destroy())})})(n,pe.mothership,Ve),u.setup(n,V.popup.shared,P),T8(n,V.popup),dE(n,V.popup.shared.getSink,V.popup),(so=>{const{sidebars:Ln}=so.ui.registry.getAll();pt(Lo(Ln),fo=>{const ps=Ln[fo],_n=()=>zn(E.from(so.queryCommandValue("ToggleSidebar")),fo);so.ui.registry.addToggleButton(fo,{icon:ps.icon,tooltip:ps.tooltip,onAction:ia=>{so.execCommand("ToggleSidebar",!1,fo),ia.setActive(_n())},onSetup:ia=>{ia.setActive(_n());const is=()=>ia.setActive(_n());return so.on("ToggleSidebar",is),()=>{so.off("ToggleSidebar",is)}},context:"any"})})})(n),zP(n,H,V.popup.shared),cI(n,it,Te.sink,{backstage:V.popup}),fI(n,Te.sink);const Xn={targetNode:n.getElement(),height:J(pe.outerContainer)};return l.render(n,ce,Bo,V.popup,Xn)};return{popups:{backstage:V.popup,getMothership:()=>H8("popups",v)},dialogs:{backstage:V.dialog,getMothership:()=>H8("dialogs",x)},renderUI:()=>{const ce=Y(),pe=(()=>{const $e=Iw(n),je=$o(ar(),$e)&&Fa($e,"display")==="grid",it={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(_),attributes:{...Wa.isRtl()?{dir:"rtl"}:{}}},behaviours:ht([vi.config({useFixed:()=>u.isDocked(P)})])},Wt={dom:{styles:{width:document.body.clientWidth+"px"}},events:Gn([Ke(Wl(),Bo=>{ko(Bo.element,"width",document.body.clientWidth+"px")})])},Jt=$a(bs(it,je?Wt:{})),oo=Mk(Jt);return x.set(oo),{sink:Jt,mothership:oo}})(),Te=_f(n)?(()=>{const $e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(_),attributes:{...Wa.isRtl()?{dir:"rtl"}:{}}},behaviours:ht([vi.config({useFixed:()=>u.isDocked(P),getBounds:()=>r.getPopupSinkBounds()})])},je=$a($e),it=Mk(je);return v.set(it),{sink:je,mothership:it}})():($e=>(v.set($e.mothership),$e))(pe);m.dialogUi.set(pe),m.popupUi.set(Te),m.mainUi.set(ce);const Ve={popupUi:Te,dialogUi:pe,mainUi:ce,uiMotherships:m.getUiMotherships()};return de(Ve)}}},V8=n=>{const r=[],i={};return yn(n,(l,u)=>{l.fold(()=>{r.push(u)},m=>{i[u]=m})}),r.length>0?Wo.error(r):Wo.value(i)},$8=(n,r,i,l)=>{const u=Rn(Jh.sketch(p=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:we(n.items,x=>aa(p,x,r,i,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:ht([qt.config({mode:"acyclic",useTabstopAt:us(d2)}),(m=u,bn.config({find:m.getOpt})),jB(u,{postprocess:p=>V8(p).fold(x=>(console.error(x),{}),yt)}),co("dialog-body-panel",[Ke(Zl(),(p,x)=>{p.getSystem().broadcastOn([S_],{newFocus:E.some(x.event.target)})})])])};var m},U8=(n,r)=>{ko(n,"height",r+"px"),ko(n,"flex-basis",r+"px")},sC=(n,r,i)=>{Yr(n,'[role="dialog"]').each(l=>{ss(l,'[role="tablist"]').each(u=>{i.get().map(m=>(ko(r,"height","0"),ko(r,"flex-basis","0"),Math.min(m,((p,x,v)=>{const _=ts(p).dom,S=Yr(p,".tox-dialog-wrap").getOr(p);let k;k=Fa(S,"position")==="fixed"?Math.max(_.clientHeight,window.innerHeight):Math.max(_.offsetHeight,_.scrollHeight);const A=Or(x),M=x.dom.offsetLeft>=v.dom.offsetLeft+Bn(v)?Math.max(Or(v),A):A,P=parseInt(Fa(p,"margin-top"),10)||0,q=parseInt(Fa(p,"margin-bottom"),10)||0;return k-(Or(p)+P+q-M)})(l,r,u)))).each(m=>{U8(r,m)})})})},mE=n=>ss(n,'[role="tabpanel"]'),Z8="send-data-to-section",j8="send-data-to-view",hI=(n,r,i,l)=>{const u=Tt({}),m=S=>{const k=Lt.getValue(S),A=V8(k).getOr({}),M=u.get(),P=bs(M,A);u.set(P)},p=S=>{const k=u.get();Lt.setValue(S,k)},x=Tt(null),v=we(n.tabs,S=>({value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[As(i.shared.providers.translate(S.title))],view:()=>[Jh.sketch(k=>({dom:{tag:"div",classes:["tox-form"]},components:we(S.items,A=>aa(k,A,r,i,l)),formBehaviours:ht([qt.config({mode:"acyclic",useTabstopAt:us(d2)}),co("TabView.form.events",[as(p),Tc(m)]),nl.config({channels:Yi([{key:Z8,value:{onReceive:m}},{key:j8,value:{onReceive:p}}])})])}))]})),_=(S=>{const k=In();return{extraEvents:[as(M=>{const P=M.element;mE(P).each(q=>{ko(q,"visibility","hidden"),M.getSystem().getByDom(q).toOptional().each(U=>{const j=((V,Y,J)=>we(V,(de,ce)=>{So.set(J,V[ce].view());const pe=Y.dom.getBoundingClientRect();return So.set(J,[]),pe.height}))(S,q,U);(V=>_t(Ze(V,(Y,J)=>Y>J?-1:Y<J?1:0)))(j).fold(k.clear,k.set)}),sC(P,q,k),mn(q,"visibility"),((U,j)=>{_t(U).each(H=>i1.showTab(j,H.value))})(S,M),requestAnimationFrame(()=>{sC(P,q,k)})})}),Ke(Wl(),M=>{const P=M.element;mE(P).each(q=>{sC(P,q,k)})}),Ke(zD,(M,P)=>{const q=M.element;mE(q).each(U=>{const j=od(Gr(U));ko(U,"visibility","hidden");const H=ir(U,"height").map(Y=>parseInt(Y,10));mn(U,"height"),mn(U,"flex-basis");const V=U.dom.getBoundingClientRect().height;H.forall(Y=>V>Y)?(k.set(V),sC(q,U,k)):H.each(Y=>{U8(U,Y)}),mn(U,"visibility"),j.each(gr)})})],selectFirst:!1}})(v);return i1.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(S,k,A)=>{const M=Lt.getValue(k);Gt(S,FD,{name:M,oldName:x.get()}),x.set(M)},tabs:v,components:[i1.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[wT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ht([cn.config({})])}),i1.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:_.selectFirst,tabSectionBehaviours:ht([co("tabpanel",_.extraEvents),qt.config({mode:"acyclic"}),bn.config({find:S=>_t(i1.getViewItems(S))}),A1(E.none(),S=>(S.getSystem().broadcastOn([Z8],{}),u.get()),(S,k)=>{u.set(k),S.getSystem().broadcastOn([j8],{})})])})},W8=(n,r,i,l,u,m)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(p=>({id:p})).getOr({}),...u?{"aria-live":"polite"}:{}}},components:[],behaviours:ht([E1(0),yi.config({channel:`${lS}-${r}`,updateState:(p,x)=>E.some({isTabPanel:()=>x.body.type==="tabpanel"}),renderComponents:p=>{const x=p.body;return x.type==="tabpanel"?[hI(x,p.initialData,l,m)]:[$8(x,p.initialData,l,m)]},initialData:n})])}),bI=Od.deviceType.isTouch(),gE=(n,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,r]}),q8=(n,r)=>sa.parts.close(Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:n,buttonBehaviours:ht([cn.config({})])})),G8=()=>sa.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),K8=(n,r)=>sa.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:ff(`<p>${Z4(r.translate(n))}</p>`)}]}]}),Y8=n=>sa.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),X8=(n,r)=>[ec.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),ec.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],fE=n=>{const r="tox-dialog",i=r+"-wrap",l=i+"__backdrop",u=r+"__disable-scroll";return sa.sketch({lazySink:n.lazySink,onEscape:m=>(n.onEscape(m),E.some(!0)),useTabstopAt:m=>!d2(m),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[r].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:ff(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:bI?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:ht([ho.config({}),co("dialog-events",n.dialogEvents.concat([Wu(Zl(),(m,p)=>{Yu.isBlocked(m)||qt.focusIn(m)}),Ke($g(),(m,p)=>{m.getSystem().broadcastOn([S_],{newFocus:p.event.newFocus})})])),co("scroll-lock",[as(()=>{vs(ar(),u)}),Tc(()=>{en(ar(),u)})]),...n.extraBehaviours]),eventOrder:{[Ji()]:["dialog-events"],[_c()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[tu()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},pE=n=>Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:ht([cn.config({}),fs.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[Sl("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:r=>{qo(r,Vp)}}),hE=(n,r,i,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(u=>({id:u})).getOr({})}},components:[],behaviours:ht([yi.config({channel:`${eO}-${r}`,initialData:n,renderComponents:u=>[As(l.translate(u.title))]})])}),Q8=()=>({dom:ff('<div class="tox-dialog__draghandle"></div>')}),O2=(n,r,i)=>((l,u,m)=>{const p=sa.parts.title(hE(l,u,E.none(),m)),x=sa.parts.draghandle(Q8()),v=sa.parts.close(pE(m)),_=[p].concat(l.draggable?[x]:[]).concat([v]);return ec.sketch({dom:ff('<div class="tox-dialog__header"></div>'),components:_})})({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},r,i.shared.providers),J8=(n,r,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:ff('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),e7=(n,r,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const u=ss(n().element,".tox-dialog__header").map(m=>Or(m));sa.setBusy(n(),(m,p)=>J8(l.message,p,r,u))},onUnblock:()=>{sa.setIdle(n())}}),t7="tox-dialog--fullscreen",bE="tox-dialog--width-lg",xE="tox-dialog--width-md",rC=n=>{switch(n){case"large":return E.some(bE);case"medium":return E.some(xE);default:return E.none()}},o7=(n,r)=>{const i=Pt(r.element.dom);cr(i,t7)||(Xr(i,[bE,xE]),rC(n).each(l=>vs(i,l)))},n7=(n,r)=>{const i=Pt(n.element.dom),l=Kf(i),u=I(l,m=>m===bE||m===xE).or(rC(r));((m,p)=>{pt(p,x=>{((v,_)=>{Qa(v)?v.dom.classList.toggle(_):((S,k)=>dt(Gf(S),k)?rd(S,k):Fl(S,k))(v,_),K1(v)})(m,x)})})(i,[t7,...u.toArray()])},Of=(n,r,i)=>$a(fE({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[__({}),...n.extraBehaviours],onEscape:l=>{qo(l,Vp)},dialogEvents:r,eventOrder:{[Mm()]:[yi.name(),nl.name()],[_c()]:["scroll-lock",yi.name(),"messages","dialog-events","alloy.base.behaviour"],[tu()]:["alloy.base.behaviour","dialog-events","messages",yi.name(),"scroll-lock"]}})),vE=(n,r={})=>we(n,i=>i.type==="menu"?(l=>{const u=we(l.items,m=>{const p=Qt(r,m.name).getOr(Tt(!1));return{...m,storage:p}});return{...l,items:u}})(i):i),s7=n=>Vo(n,(r,i)=>i.type==="menu"?Vo(i.items,(l,u)=>(l[u.name]=u.storage,l),r):r,{}),yE=(n,r)=>[Jg(Zl(),JD),n(l2,(i,l,u,m)=>{jd(m.element)&&od(Gr(m.element)).each(qi),r.onClose(),l.onClose()}),n(Vp,(i,l,u,m)=>{l.onCancel(i),qo(m,l2)}),Ke(J3,(i,l)=>r.onUnblock()),Ke(Q3,(i,l)=>r.onBlock(l.event))],r7=(n,r,i)=>{const l=(m,p)=>Ke(m,(x,v)=>{u(x,(_,S)=>{p(n(),_,v.event,x)})}),u=(m,p)=>{yi.getState(m).get().each(x=>{p(x.internalDialog,m)})};return[...yE(l,r),l(c2,(m,p)=>p.onSubmit(m)),l(El,(m,p,x)=>{p.onChange(m,{name:x.name})}),l(gg,(m,p,x,v)=>{const _=()=>v.getSystem().isConnected()?qt.focusIn(v):void 0,S=M=>W1(M,"disabled")||Kr(M,"aria-disabled").exists(P=>P==="true"),k=Gr(v.element),A=od(k);p.onAction(m,{name:x.name,value:x.value}),od(k).fold(_,M=>{S(M)||A.exists(P=>Is(M,P)&&S(P))?_():i().toOptional().filter(P=>!Is(P.element,M)).each(_)})}),l(FD,(m,p,x)=>{p.onTabChange(m,{newTabName:x.name,oldTabName:x.oldName})}),Tc(m=>{const p=n();Lt.setValue(m,p.getData())})]},xI=(n,r)=>{const i=r.map(m=>m.footerButtons).getOr([]),l=an(i,m=>m.align==="start"),u=(m,p)=>ec.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${m}`]},components:we(p,x=>x.memento.asSpec())});return[u("start",l.pass),u("end",l.fail)]},a7=(n,r,i)=>({dom:ff('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ht([yi.config({channel:`${cS}-${r}`,initialData:n,updateState:(l,u)=>{const m=we(u.buttons,p=>{const x=Rn(((v,_)=>R_(v,v.type,_))(p,i));return{name:p.name,align:p.align,memento:x}});return E.some({lookupByName:p=>((x,v,_)=>I(v,S=>S.name===_).bind(S=>S.memento.getOpt(x)))(l,m,p),footerButtons:m})},renderComponents:xI})])}),i7=(n,r,i)=>sa.parts.footer(a7(n,r,i)),Rb=(n,r)=>{if(n.getRoot().getSystem().isConnected()){const i=bn.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return Jh.getField(i,r).orThunk(()=>n.getFooter().bind(u=>yi.getState(u).get()).bind(u=>u.lookupByName(r)))}return E.none()},wE=(n,r,i)=>{const l=m=>{const p=n.getRoot();p.getSystem().isConnected()&&m(p)},u={getData:()=>{const m=n.getRoot(),p=m.getSystem().isConnected()?n.getFormWrapper():m;return{...Lt.getValue(p),...Rs(i,x=>x.get())}},setData:m=>{l(p=>{const x=u.getData(),v=bs(x,m),_=((k,A)=>{const M=k.getRoot();return yi.getState(M).get().map(P=>Bi(Es("data",P.dataValidator,A))).getOr(A)})(n,v),S=n.getFormWrapper();Lt.setValue(S,_),yn(i,(k,A)=>{nn(v,A)&&k.set(v[A])})})},setEnabled:(m,p)=>{Rb(n,m).each(p?Xt.enable:Xt.disable)},focus:m=>{Rb(n,m).each(ho.focus)},block:m=>{if(!De(m))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{Gt(p,Q3,{message:m})})},unblock:()=>{l(m=>{qo(m,J3)})},showTab:m=>{l(p=>{const x=n.getBody();yi.getState(x).get().exists(v=>v.isTabPanel())&&bn.getCurrent(x).each(v=>{i1.showTab(v,m)})})},redial:m=>{l(p=>{const x=n.getId(),v=r(m),_=vE(v.internalDialog.buttons,i);p.getSystem().broadcastOn([`${k_}-${x}`],v),p.getSystem().broadcastOn([`${eO}-${x}`],v.internalDialog),p.getSystem().broadcastOn([`${lS}-${x}`],v.internalDialog),p.getSystem().broadcastOn([`${cS}-${x}`],{...v.internalDialog,buttons:_}),u.setData(v.initialData)})},close:()=>{l(m=>{qo(m,l2)})},toggleFullscreen:n.toggleFullscreen};return u},aC=(n,r,i,l=!1,u)=>{const m=ke("dialog"),p=ke("dialog-label"),x=ke("dialog-content"),v=n.internalDialog,_=Tt(v.size),S=rC(_.get()).toArray(),k=Rn(((J,de,ce,pe)=>ec.sketch({dom:ff('<div class="tox-dialog__header"></div>'),components:[hE(J,de,E.some(ce),pe),Q8(),pE(pe)],containerBehaviours:ht([vp.config({mode:"mouse",blockerClass:"blocker",getTarget:Te=>ml(Te,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(Te,Ve)=>{Te.getSystem().broadcastOn([$m()],{target:Ve})}})])}))({title:v.title,draggable:!0},m,p,i.shared.providers)),A=Rn(((J,de,ce,pe,Te,Ve)=>W8(J,de,E.some(ce),pe,Te,Ve))({body:v.body,initialData:v.initialData},m,x,i,l,J=>Rb(V,J))),M=vE(v.buttons),P=s7(M),q=Hs(M.length!==0,Rn(((J,de,ce)=>a7(J,de,ce))({buttons:M},m,i))),U=r7(()=>Y,{onBlock:J=>{Yu.block(H,(de,ce)=>{const pe=k.getOpt(H).map(Te=>Or(Te.element));return J8(J.message,ce,i.shared.providers,pe)})},onUnblock:()=>{Yu.unblock(H)},onClose:()=>r.closeWindow()},i.shared.getSink),j=ve().os,H=$a({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...S],attributes:{role:"dialog",...j.isMacOS()?{"aria-label":v.title}:{"aria-labelledby":p}}},eventOrder:{[Mm()]:[yi.name(),nl.name()],[Ji()]:["execute-on-form"],[_c()]:["reflecting","execute-on-form"]},behaviours:ht([qt.config({mode:"cyclic",onEscape:J=>(qo(J,l2),E.some(!0)),useTabstopAt:J=>!d2(J)&&(Ut(J)!=="button"||Eo(J,"disabled")!=="disabled"),firstTabstop:1}),yi.config({channel:`${k_}-${m}`,updateState:(J,de)=>(_.set(de.internalDialog.size),o7(de.internalDialog.size,J),u(),E.some(de)),initialData:n}),ho.config({}),co("execute-on-form",U.concat([Wu(Zl(),(J,de)=>{qt.focusIn(J)}),Ke($g(),(J,de)=>{J.getSystem().broadcastOn([S_],{newFocus:de.event.newFocus})})])),Yu.config({getRoot:()=>E.some(H)}),So.config({}),__({})]),components:[k.asSpec(),A.asSpec(),...q.map(J=>J.asSpec()).toArray()]}),V={getId:oe(m),getRoot:oe(H),getFooter:()=>q.map(J=>J.get(H)),getBody:()=>A.get(H),getFormWrapper:()=>{const J=A.get(H);return bn.getCurrent(J).getOr(J)},toggleFullscreen:()=>{n7(H,_.get())}},Y=wE(V,r.redial,P);return{dialog:H,instanceApi:Y}};var Nb=tinymce.util.Tools.resolve("tinymce.util.URI");const Mb=["insertContent","setContent","execCommand","close","block","unblock"],l7=n=>ye(n)&&Mb.indexOf(n.mceAction)!==-1,c7=(n,r,i,l)=>{const u=ke("dialog"),m=O2(n.title,u,l),p=(j=>{const H={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[iS(E.none(),{dom:{tag:"iframe",attributes:{src:j.url}},behaviours:ht([cn.config({}),ho.config({})])})]}],behaviours:ht([qt.config({mode:"acyclic",useTabstopAt:us(d2)})])};return sa.parts.body(H)})(n),x=n.buttons.bind(j=>j.length===0?E.none():E.some(i7({buttons:j},u,l))),v=((j,H)=>{const V=(J,de)=>Ke(J,(ce,pe)=>{Y(ce,(Te,Ve)=>{de(U,Te,pe.event,ce)})}),Y=(J,de)=>{yi.getState(J).get().each(ce=>{de(ce,J)})};return[...yE(V,H),V(gg,(J,de,ce)=>{de.onAction(J,{name:ce.name})})]})(0,e7(()=>q,l.shared.providers,r)),_={...n.height.fold(()=>({}),j=>({height:j+"px","max-height":j+"px"})),...n.width.fold(()=>({}),j=>({width:j+"px","max-width":j+"px"}))},S=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],k=new Nb(n.url,{base_uri:new Nb(window.location.href)}),A=`${k.protocol}://${k.host}${k.port?":"+k.port:""}`,M=Ur(),P=[yi.config({channel:`${k_}-${u}`,updateState:(j,H)=>E.some(H),initialData:n}),co("messages",[as(()=>{const j=Ia(Pt(window),"message",H=>{if(k.isSameOrigin(new Nb(H.raw.origin))){const V=H.raw.data;l7(V)?((Y,J,de)=>{switch(de.mceAction){case"insertContent":Y.insertContent(de.content);break;case"setContent":Y.setContent(de.content);break;case"execCommand":const ce=!!Ot(de.ui)&&de.ui;Y.execCommand(de.cmd,ce,de.value);break;case"close":J.close();break;case"block":J.block(de.message);break;case"unblock":J.unblock()}})(i,U,V):(Y=>!l7(Y)&&ye(Y)&&nn(Y,"mceAction"))(V)&&n.onMessage(U,V)}});M.set(j)}),Tc(M.clear)]),nl.config({channels:{[dS]:{onReceive:(j,H)=>{ss(j.element,"iframe").each(V=>{const Y=V.dom.contentWindow;Ae(Y)&&Y.postMessage(H,A)})}}}})],q=Of({id:u,header:m,body:p,footer:x,extraClasses:S,extraBehaviours:P,extraStyles:_},v,l),U=(j=>{const H=V=>{j.getSystem().isConnected()&&V(j)};return{block:V=>{if(!De(V))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");H(Y=>{Gt(Y,Q3,{message:V})})},unblock:()=>{H(V=>{qo(V,J3)})},close:()=>{H(V=>{qo(V,l2)})},sendMessage:V=>{H(Y=>{Y.getSystem().broadcastOn([dS],V)})}}})(q);return{dialog:q,instanceApi:U}},d7=(n,r)=>Bi(Es("data",r,n)),B1=n=>dh(n,".tox-alert-dialog")||dh(n,".tox-confirm-dialog"),vI=(n,r,i,l)=>r&&i?[]:[Ms.config({contextual:{lazyContext:()=>E.some(fr(Pt(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:l},modes:["top"],lazyViewport:u=>Rp(n,u.element).map(m=>({bounds:Np(m),optScrollEnv:E.some({currentScrollTop:m.element.dom.scrollTop,scrollElmTop:Rr(m.element).top})})).getOrThunk(()=>({bounds:Zs(),optScrollEnv:E.none()}))})],iC=n=>{const r=n.editor,i=ib(r),l=(v=>{const _=v.shared;return{open:(S,k)=>{const A=()=>{sa.hide(U),k()},M=Rn(R_({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"cancel",v)),P=G8(),q=q8(A,_.providers),U=$a(fE({lazySink:()=>_.getSink(),header:gE(P,q),body:K8(S,_.providers),footer:E.some(Y8(X8([],[M.asSpec()]))),onEscape:A,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ke(Vp,A)],eventOrder:{}}));sa.show(U);const j=M.get(U);ho.focus(j)}}})(n.backstages.dialog),u=(v=>{const _=v.shared;return{open:(S,k)=>{const A=V=>{sa.hide(j),k(V)},M=Rn(R_({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"submit",v)),P=R_({context:"any",name:"no",text:"No",primary:!1,buttonType:E.some("secondary"),align:"end",enabled:!0,icon:E.none()},"cancel",v),q=G8(),U=q8(()=>A(!1),_.providers),j=$a(fE({lazySink:()=>_.getSink(),header:gE(q,U),body:K8(S,_.providers),footer:E.some(Y8(X8([],[P,M.asSpec()]))),onEscape:()=>A(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ke(Vp,()=>A(!1)),Ke(c2,()=>A(!0))],eventOrder:{}}));sa.show(j);const H=M.get(j);ho.focus(H)}}})(n.backstages.dialog),m=(v,_)=>Lp.open((S,k,A)=>{const M=k,P=((q,U,j)=>{const H=ke("dialog"),V=q.internalDialog,Y=O2(V.title,H,j),J=Tt(V.size),de=rC(J.get()).toArray(),ce=((oo,Bo,En,Xn)=>{const so=W8(oo,Bo,E.none(),En,!1,Xn);return sa.parts.body(so)})({body:V.body,initialData:V.initialData},H,j,oo=>Rb(Wt,oo)),pe=vE(V.buttons),Te=s7(pe),Ve=Hs(pe.length!==0,i7({buttons:pe},H,j)),$e=r7(()=>Jt,e7(()=>it,j.shared.providers,U),j.shared.getSink),je={id:H,header:Y,body:ce,footer:Ve,extraClasses:de,extraBehaviours:[yi.config({channel:`${k_}-${H}`,updateState:(oo,Bo)=>(J.set(Bo.internalDialog.size),o7(Bo.internalDialog.size,oo),E.some(Bo)),initialData:q})],extraStyles:{}},it=Of(je,$e,j),Wt={getId:oe(H),getRoot:oe(it),getBody:()=>sa.getBody(it),getFooter:()=>sa.getFooter(it),getFormWrapper:()=>{const oo=sa.getBody(it);return bn.getCurrent(oo).getOr(oo)},toggleFullscreen:()=>{n7(it,J.get())}},Jt=wE(Wt,U.redial,Te);return{dialog:it,instanceApi:Jt}})({dataValidator:A,initialData:M,internalDialog:S},{redial:Lp.redial,closeWindow:()=>{sa.hide(P.dialog),_(P.instanceApi)}},n.backstages.dialog);return sa.show(P.dialog),P.instanceApi.setData(M),P.instanceApi},v),p=(v,_,S,k)=>Lp.open((A,M,P)=>{const q=d7(M,P),U=In(),j=n.backstages.popup.shared.header.isPositionedAtTop(),H=()=>U.on(de=>{Bs.reposition(de),i&&j||Ms.refresh(de)}),V=aC({dataValidator:P,initialData:q,internalDialog:A},{redial:Lp.redial,closeWindow:()=>{U.on(Bs.hide),r.off("ResizeEditor",H),r.off("ScrollWindow",Y),U.clear(),S(V.instanceApi)}},n.backstages.popup,k.ariaAttrs,H),Y=()=>V.dialog.getSystem().broadcastOn([$m()],{target:V.dialog.element}),J=$a(Bs.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:k.persistent?{event:"doNotDismissYet"}:{},...j?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ht([co("window-manager-inline-events",[Ke(Vg(),(de,ce)=>{qo(V.dialog,Vp)})]),...vI(r,i,j,()=>V.dialog.getSystem().broadcastOn([iu()],{target:V.dialog.element}))]),isExtraPart:(de,ce)=>B1(ce)}));return U.set(J),Bs.showWithinBounds(J,Jl(V.dialog),{anchor:_},()=>{const de=r.inline?ar():Pt(r.getContainer()),ce=fr(de);return E.some(ce)}),i&&j||(Ms.refresh(J),r.on("ResizeEditor",H)),r.on("ScrollWindow",Y),V.instanceApi.setData(q),qt.focusIn(V.dialog),V.instanceApi},v),x=(v,_,S,k)=>Lp.open((A,M,P)=>{const q=d7(M,P),U=In(),j=n.backstages.popup.shared.header.isPositionedAtTop(),H=()=>U.on(J=>{Bs.reposition(J),Ms.refresh(J)}),V=aC({dataValidator:P,initialData:q,internalDialog:A},{redial:Lp.redial,closeWindow:()=>{U.on(Bs.hide),r.off("ResizeEditor ScrollWindow ElementScroll",H),U.clear(),S(V.instanceApi)}},n.backstages.popup,k.ariaAttrs,H),Y=$a(Bs.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:k.persistent?{event:"doNotDismissYet"}:{},...j?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ht([co("window-manager-inline-events",[Ke(Vg(),(J,de)=>{qo(V.dialog,Vp)})]),Ms.config({contextual:{lazyContext:()=>E.some(fr(Pt(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:J=>Rp(r,J.element).map(de=>({bounds:Np(de),optScrollEnv:E.some({currentScrollTop:de.element.dom.scrollTop,scrollElmTop:Rr(de.element).top})})).getOrThunk(()=>({bounds:Zs(),optScrollEnv:E.none()}))})]),isExtraPart:(J,de)=>B1(de)}));return U.set(Y),Bs.showWithinBounds(Y,Jl(V.dialog),{anchor:_},()=>n.backstages.popup.shared.getSink().toOptional().bind(J=>{const de=Rp(r,J.element).map(Te=>Np(Te)).getOr(Zs()),ce=fr(Pt(r.getContentAreaContainer())),pe=gh(ce,de);return E.some(ln(pe.x,pe.y,pe.width,pe.height-15))})),Ms.refresh(Y),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",H),V.instanceApi.setData(q),qt.focusIn(V.dialog),V.instanceApi},v);return{open:(v,_,S)=>{if(!Zt(_)){if(_.inline==="toolbar")return p(v,n.backstages.popup.shared.anchors.inlineDialog(),S,_);if(_.inline==="bottom")return x(v,n.backstages.popup.shared.anchors.inlineBottomDialog(),S,_);if(_.inline==="cursor")return p(v,n.backstages.popup.shared.anchors.cursor(),S,_)}return m(v,S)},openUrl:(v,_)=>((S,k)=>Lp.openUrl(A=>{const M=c7(A,{closeWindow:()=>{sa.hide(M.dialog),k(M.instanceApi)}},r,n.backstages.dialog);return sa.show(M.dialog),M.instanceApi},S))(v,_),alert:(v,_)=>{l.open(v,_)},close:v=>{v.close()},confirm:(v,_)=>{u.open(v,_)}}},_E=n=>{TT(n),(r=>{const i=r.options.register,l=m=>{return vt(m,De)?{value:(p=m,Z3(p.map((x,v)=>v%2==0?"#"+(_=>{return(S=_,M3(S)?E.some({value:gD(S)}):E.none()).orThunk(()=>L3(_).map(vb)).getOrThunk(()=>{const k=document.createElement("canvas");k.height=1,k.width=1;const A=k.getContext("2d");A.clearRect(0,0,k.width,k.height),A.fillStyle="#FFFFFF",A.fillStyle=_,A.fillRect(0,0,1,1);const M=A.getImageData(0,0,1,1).data,P=M[0],q=M[1],U=M[2],j=M[3];return vb(k1(P,q,U,j))});var S})(x).value:x))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var p},u=m=>zt(m)&&m>0?{value:m,valid:!0}:{valid:!1,message:"Must be a positive number."};i("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),i("color_map_raw",{processor:m=>vt(m,De)?{value:Z3(m),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),i("color_map_background",{processor:l}),i("color_map_foreground",{processor:l}),i("color_cols",{processor:u,default:W3(r)}),i("color_cols_foreground",{processor:u,default:vD(r,$3)}),i("color_cols_background",{processor:u,default:vD(r,U3)}),i("custom_colors",{processor:"boolean",default:!0}),i("color_default_foreground",{processor:"string",default:j3}),i("color_default_background",{processor:"string",default:j3})})(n),(r=>{const i=r.options.register;i("contextmenu_avoid_overlap",{processor:"string",default:""}),i("contextmenu_never_use_native",{processor:"boolean",default:!1}),i("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:De(l)||vt(l,De)?{value:D8(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(n)};AT.add("silver",n=>{_E(n);let r=()=>Zs();const{dialogs:i,popups:l,renderUI:u}=pI(n,{getPopupSinkBounds:()=>r()});$B(n,l.backstage.shared);const m=iC({editor:n,backstages:{popup:l.backstage,dialog:i.backstage}}),p=In();return{renderUI:()=>{const x=u();return Rp(n,l.getMothership().element).each(v=>{r=()=>Np(v)}),x},getWindowManagerImpl:oe(m),getNotificationManagerImpl:()=>xM(n,{backstage:l.backstage},l.getMothership(),p),getPromotionElement:()=>ss(Pt(n.getContainer()),".tox-promotion").map(x=>x.dom).getOrNull()}})})();(function(){var ne=tinymce.util.Tools.resolve("tinymce.ModelManager");const fe=g=>h=>(y=>{const C=typeof y;return y===null?"null":C==="object"&&Array.isArray(y)?"array":C==="object"&&(D=O=y,(L=String).prototype.isPrototypeOf(D)||((z=O.constructor)===null||z===void 0?void 0:z.name)===L.name)?"string":C;var D,O,L,z})(h)===g,Be=g=>h=>typeof h===g,Re=g=>h=>g===h,Ye=fe("string"),De=fe("object"),ye=fe("array"),Pe=Re(null),Qe=Be("boolean"),ot=Re(void 0),Ot=g=>!(h=>h==null)(g),Zt=Be("function"),kt=Be("number"),Ae=()=>{},nt=g=>()=>g,zt=g=>g,vt=(g,h)=>g===h;function ge(g,...h){return(...y)=>{const C=h.concat(y);return g.apply(null,C)}}const Le=g=>h=>!g(h),Ge=g=>g(),oe=nt(!1),yt=nt(!0);class ue{constructor(h,y){this.tag=h,this.value=y}static some(h){return new ue(!0,h)}static none(){return ue.singletonNone}fold(h,y){return this.tag?y(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?ue.some(h(this.value)):ue.none()}bind(h){return this.tag?h(this.value):ue.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:ue.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return Ot(h)?ue.some(h):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const rn=Array.prototype.slice,us=Array.prototype.indexOf,Os=Array.prototype.push,Yo=(g,h)=>{return y=g,C=h,us.call(y,C)>-1;var y,C},ze=(g,h)=>{for(let y=0,C=g.length;y<C;y++)if(h(g[y],y))return!0;return!1},no=(g,h)=>{const y=[];for(let C=0;C<g;C++)y.push(h(C));return y},E=(g,h)=>{const y=g.length,C=new Array(y);for(let D=0;D<y;D++){const O=g[D];C[D]=h(O,D)}return C},To=(g,h)=>{for(let y=0,C=g.length;y<C;y++)h(g[y],y)},Do=(g,h)=>{const y=[],C=[];for(let D=0,O=g.length;D<O;D++){const L=g[D];(h(L,D)?y:C).push(L)}return{pass:y,fail:C}},Fn=(g,h)=>{const y=[];for(let C=0,D=g.length;C<D;C++){const O=g[C];h(O,C)&&y.push(O)}return y},ca=(g,h,y)=>(((C,D)=>{for(let O=C.length-1;O>=0;O--)D(C[O],O)})(g,(C,D)=>{y=h(y,C,D)}),y),dt=(g,h,y)=>(To(g,(C,D)=>{y=h(y,C,D)}),y),vn=(g,h)=>((y,C,D)=>{for(let O=0,L=y.length;O<L;O++){const z=y[O];if(C(z,O))return ue.some(z);if(D(z,O))break}return ue.none()})(g,h,oe),Ei=(g,h)=>{for(let y=0,C=g.length;y<C;y++)if(h(g[y],y))return ue.some(y);return ue.none()},He=g=>{const h=[];for(let y=0,C=g.length;y<C;++y){if(!ye(g[y]))throw new Error("Arr.flatten item "+y+" was not an array, input: "+g);Os.apply(h,g[y])}return h},we=(g,h)=>He(E(g,h)),pt=(g,h)=>{for(let y=0,C=g.length;y<C;++y)if(h(g[y],y)!==!0)return!1;return!0},an=(g,h)=>{const y={};for(let C=0,D=g.length;C<D;C++){const O=g[C];y[String(O)]=h(O,C)}return y},Co=(g,h)=>h>=0&&h<g.length?ue.some(g[h]):ue.none(),_o=g=>Co(g,0),Vo=g=>Co(g,g.length-1),I=(g,h)=>{for(let y=0;y<g.length;y++){const C=h(g[y],y);if(C.isSome())return C}return ue.none()},Ks=Object.keys,_s=Object.hasOwnProperty,Io=(g,h)=>{const y=Ks(g);for(let C=0,D=y.length;C<D;C++){const O=y[C];h(g[O],O)}},ci=(g,h)=>ur(g,(y,C)=>({k:C,v:h(y,C)})),ur=(g,h)=>{const y={};return Io(g,(C,D)=>{const O=h(C,D);y[O.k]=O.v}),y},Ho=(g,h)=>{const y=[];return Io(g,(C,D)=>{y.push(h(C,D))}),y},Mn=g=>Ho(g,zt),Ro=(g,h)=>_s.call(g,h),Ze=g=>{if(!ye(g))throw new Error("cases must be an array");if(g.length===0)throw new Error("there must be at least one case");const h=[],y={};return To(g,(C,D)=>{const O=Ks(C);if(O.length!==1)throw new Error("one and only one name per case");const L=O[0],z=C[L];if(y[L]!==void 0)throw new Error("duplicate key detected:"+L);if(L==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ye(z))throw new Error("case arguments must be an array");h.push(L),y[L]=(...Q)=>{const re=Q.length;if(re!==z.length)throw new Error("Wrong number of arguments to case "+L+". Expected "+z.length+" ("+z+"), got "+re);return{fold:(...he)=>{if(he.length!==g.length)throw new Error("Wrong number of arguments to fold. Expected "+g.length+", got "+he.length);return he[D].apply(null,Q)},match:he=>{const se=Ks(he);if(h.length!==se.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+se.join(","));if(!pt(h,me=>Yo(se,me)))throw new Error("Not all branches were specified when using match. Specified: "+se.join(", ")+`
Required: `+h.join(", "));return he[L].apply(null,Q)},log:he=>{console.log(he,{constructors:h,constructor:L,params:Q})}}}}),y},lt=g=>{let h=g;return{get:()=>h,set:y=>{h=y}}},_t=g=>g.slice(0).sort(),mt=(g,h)=>{const y=Fn(h,C=>!Yo(g,C));y.length>0&&(C=>{throw new Error("Unsupported keys for object: "+_t(C).join(", "))})(y)},Un=g=>((h,y)=>((C,D,O)=>{if(D.length===0)throw new Error("You must specify at least one required field.");return((L,z)=>{if(!ye(z))throw new Error("The "+L+" fields must be an array. Was: "+z+".");To(z,Q=>{if(!Ye(Q))throw new Error("The value "+Q+" in the "+L+" fields was not a string.")})})("required",D),(L=>{const z=_t(L);vn(z,(Q,re)=>re<z.length-1&&Q===z[re+1]).each(Q=>{throw new Error("The field: "+Q+" occurs more than once in the combined fields: ["+z.join(", ")+"].")})})(D),L=>{const z=Ks(L);pt(D,re=>Yo(z,re))||((re,he)=>{throw new Error("All required keys ("+_t(re).join(", ")+") were not specified. Specified keys were: "+_t(he).join(", ")+".")})(D,z),C(D,z);const Q=Fn(D,re=>!O.validate(L[re],re));return Q.length>0&&((re,he)=>{throw new Error("All values need to be of type: "+he+". Keys ("+_t(re).join(", ")+") were not.")})(Q,O.label),L}})(h,y,{validate:Zt,label:"function"}))(mt,g),dn=g=>{const h=O=>O(g),y=nt(g),C=()=>D,D={tag:!0,inner:g,fold:(O,L)=>L(g),isValue:yt,isError:oe,map:O=>jc.value(O(g)),mapError:C,bind:h,exists:h,forall:h,getOr:y,or:C,getOrThunk:y,orThunk:C,getOrDie:y,each:O=>{O(g)},toOptional:()=>ue.some(g)};return D},Lo=g=>{const h=()=>y,y={tag:!1,inner:g,fold:(D,O)=>D(g),isValue:oe,isError:yt,map:h,mapError:D=>jc.error(D(g)),bind:h,exists:oe,forall:yt,getOr:zt,or:zt,getOrThunk:Ge,orThunk:Ge,getOrDie:(C=String(g),()=>{throw new Error(C)}),each:Ae,toOptional:ue.none};var C;return y},jc={value:dn,error:Lo,fromOption:(g,h)=>g.fold(()=>Lo(h),dn)},yn=typeof window<"u"?window:Function("return this;")(),Rs=g=>{const h=g.replace(/\./g,"-");return{resolve:y=>h+"-"+y}},Wc=(g,h,y=vt)=>g.exists(C=>y(C,h)),qc=g=>{const h=[],y=C=>{h.push(C)};for(let C=0;C<g.length;C++)g[C].each(y);return h},sr=(g,h)=>g?ue.some(h):ue.none(),Pa=(g,h)=>((y,C)=>{let D=C??yn;for(let O=0;O<y.length&&D!=null;++O)D=D[y[O]];return D})(g.split("."),h),da=()=>{const g=(h=>{const y=lt(ue.none()),C=()=>y.get().each(h);return{clear:()=>{C(),y.set(ue.none())},isSet:()=>y.get().isSome(),get:()=>y.get(),set:D=>{C(),y.set(ue.some(D))}}})(Ae);return{...g,on:h=>g.get().each(h)}},Ol=(g,h,y)=>h===""||g.length>=h.length&&g.substr(y,y+h.length)===h,Ar=(g,h,y=0,C)=>{const D=g.indexOf(h,y);return D!==-1&&(!!ot(C)||D+h.length<=C)},Qt=(g,h)=>Ol(g,h,0),nn=(g,h)=>Ol(g,h,g.length-h.length),Zn=(g=>h=>h.replace(g,""))(/^\s+|\s+$/g),zs=g=>g.length>0,Tt=g=>{let h,y=!1;return(...C)=>(y||(y=!0,h=g.apply(null,C)),h)},Ai=["tfoot","thead","tbody","colgroup"],mc=(g,h,y)=>({element:g,rowspan:h,colspan:y}),ua=(g,h,y)=>({element:g,cells:h,section:y}),Ps=(g,h,y)=>({element:g,isNew:h,isLocked:y}),Xo=(g,h,y,C)=>({element:g,cells:h,section:y,isNew:C}),Vr=(g,h,y)=>{const C=g.cells,D=C.slice(0,h),O=C.slice(h),L=D.concat(y).concat(O);return Wo(g,L)},Cg=(g,h,y)=>Vr(g,h,[y]),gc=(g,h,y)=>{g.cells[h]=y},Wo=(g,h)=>Xo(g.element,h,g.section,g.isNew),$r=(g,h)=>g.cells[h],Tr=(g,h)=>$r(g,h).element,ya=g=>g.cells.length,Cs=g=>{const h=Do(g,y=>y.section==="colgroup");return{rows:h.fail,cols:h.pass}},Sn=(g,h,y)=>{const C=E(g.cells,y);return Xo(h(g.element),C,g.section,!0)},xo=g=>{if(g==null)throw new Error("Node cannot be null or undefined");return{dom:g}},ke={fromHtml:(g,h)=>{const y=(h||document).createElement("div");if(y.innerHTML=g,!y.hasChildNodes()||y.childNodes.length>1){const C="HTML does not have a single root node";throw console.error(C,g),new Error(C)}return xo(y.childNodes[0])},fromTag:(g,h)=>{const y=(h||document).createElement(g);return xo(y)},fromText:(g,h)=>{const y=(h||document).createTextNode(g);return xo(y)},fromDom:xo,fromPoint:(g,h,y)=>ue.from(g.dom.elementFromPoint(h,y)).map(xo)},Ld=(g,h)=>{const y=g.document.createRange();return y.selectNode(h.dom),y},bs=(g,h)=>{const y=g.document.createRange();return il(y,h),y},il=(g,h)=>g.selectNodeContents(h.dom),zn=(g,h,y)=>{const C=g.document.createRange();var D;return D=C,h.fold(O=>{D.setStartBefore(O.dom)},(O,L)=>{D.setStart(O.dom,L)},O=>{D.setStartAfter(O.dom)}),((O,L)=>{L.fold(z=>{O.setEndBefore(z.dom)},(z,Q)=>{O.setEnd(z.dom,Q)},z=>{O.setEndAfter(z.dom)})})(C,y),C},ll=(g,h,y,C,D)=>{const O=g.document.createRange();return O.setStart(h.dom,y),O.setEnd(C.dom,D),O},Rl=g=>({left:g.left,top:g.top,right:g.right,bottom:g.bottom,width:g.width,height:g.height}),Fd=Ze([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Hs=(g,h,y)=>h(ke.fromDom(y.startContainer),y.startOffset,ke.fromDom(y.endContainer),y.endOffset),mm=(g,h)=>{const y=((C,D)=>D.match({domRange:O=>({ltr:nt(O),rtl:ue.none}),relative:(O,L)=>({ltr:Tt(()=>zn(C,O,L)),rtl:Tt(()=>ue.some(zn(C,L,O)))}),exact:(O,L,z,Q)=>({ltr:Tt(()=>ll(C,O,L,z,Q)),rtl:Tt(()=>ue.some(ll(C,z,Q,O,L)))})}))(g,h);return((C,D)=>{const O=D.ltr();return O.collapsed?D.rtl().filter(L=>L.collapsed===!1).map(L=>Fd.rtl(ke.fromDom(L.endContainer),L.endOffset,ke.fromDom(L.startContainer),L.startOffset)).getOrThunk(()=>Hs(0,Fd.ltr,O)):Hs(0,Fd.ltr,O)})(0,y)},Vs=(g,h)=>mm(g,h).match({ltr:(y,C,D,O)=>{const L=g.document.createRange();return L.setStart(y.dom,C),L.setEnd(D.dom,O),L},rtl:(y,C,D,O)=>{const L=g.document.createRange();return L.setStart(D.dom,O),L.setEnd(y.dom,C),L}});Fd.ltr,Fd.rtl;const Ur=(g,h)=>{const y=g.dom;if(y.nodeType!==1)return!1;{const C=y;if(C.matches!==void 0)return C.matches(h);if(C.msMatchesSelector!==void 0)return C.msMatchesSelector(h);if(C.webkitMatchesSelector!==void 0)return C.webkitMatchesSelector(h);if(C.mozMatchesSelector!==void 0)return C.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},In=g=>g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11||g.childElementCount===0,Nl=(g,h)=>{const y=h===void 0?document:h.dom;return In(y)?ue.none():ue.from(y.querySelector(g)).map(ke.fromDom)},es=(g,h)=>g.dom===h.dom,$s=(g,h)=>{const y=g.dom,C=h.dom;return y!==C&&y.contains(C)},Su=Ur,zd=()=>Eu(0,0),Eu=(g,h)=>({major:g,minor:h}),Ml={nu:Eu,detect:(g,h)=>{const y=String(h).toLowerCase();return g.length===0?zd():((C,D)=>{const O=((z,Q)=>{for(let re=0;re<z.length;re++){const he=z[re];if(he.test(Q))return he}})(C,D);if(!O)return{major:0,minor:0};const L=z=>Number(D.replace(O,"$"+z));return Eu(L(1),L(2))})(g,y)},unknown:zd},fc=(g,h)=>{const y=String(h).toLowerCase();return vn(g,C=>C.search(y))},Au=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,mr=g=>h=>Ar(h,g),Tu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:g=>Ar(g,"edge/")&&Ar(g,"chrome")&&Ar(g,"safari")&&Ar(g,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Au],search:g=>Ar(g,"chrome")&&!Ar(g,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:g=>Ar(g,"msie")||Ar(g,"trident")},{name:"Opera",versionRegexes:[Au,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mr("firefox")},{name:"Safari",versionRegexes:[Au,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:g=>(Ar(g,"safari")||Ar(g,"mobile/"))&&Ar(g,"applewebkit")}],sh=[{name:"Windows",search:mr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:g=>Ar(g,"iphone")||Ar(g,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:mr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mr("linux"),versionRegexes:[]},{name:"Solaris",search:mr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ks={browsers:nt(Tu),oses:nt(sh)},kg="Edge",Pt="Chromium",Hd="Opera",Sg="Firefox",Eg="Safari",Gc=g=>{const h=g.current,y=g.version,C=D=>()=>h===D;return{current:h,version:y,isEdge:C(kg),isChromium:C(Pt),isIE:C("IE"),isOpera:C(Hd),isFirefox:C(Sg),isSafari:C(Eg)}},Ag=()=>Gc({current:void 0,version:Ml.unknown()}),Vf=Gc,Bl="Windows",di="Android",$f="Linux",Uf="macOS",$o="Solaris",Is="FreeBSD",Tg="ChromeOS",Kc=g=>{const h=g.current,y=g.version,C=D=>()=>h===D;return{current:h,version:y,isWindows:C(Bl),isiOS:C("iOS"),isAndroid:C(di),isMacOS:C(Uf),isLinux:C($f),isSolaris:C($o),isFreeBSD:C(Is),isChromeOS:C(Tg)}},Pl=()=>Kc({current:void 0,version:Ml.unknown()}),Zf=Kc,gm=g=>window.matchMedia(g).matches;let Zr=Tt(()=>((g,h,y)=>{const C=ks.browsers(),D=ks.oses(),O=h.bind(Q=>((re,he)=>I(he.brands,se=>{const me=se.brand.toLowerCase();return vn(re,le=>{var Ce;return me===((Ce=le.brand)===null||Ce===void 0?void 0:Ce.toLowerCase())}).map(le=>({current:le.name,version:Ml.nu(parseInt(se.version,10),0)}))}))(C,Q)).orThunk(()=>((Q,re)=>fc(Q,re).map(he=>{const se=Ml.detect(he.versionRegexes,re);return{current:he.name,version:se}}))(C,g)).fold(Ag,Vf),L=((Q,re)=>fc(Q,re).map(he=>{const se=Ml.detect(he.versionRegexes,re);return{current:he.name,version:se}}))(D,g).fold(Pl,Zf),z=((Q,re,he,se)=>{const me=Q.isiOS()&&/ipad/i.test(he)===!0,le=Q.isiOS()&&!me,Ce=Q.isiOS()||Q.isAndroid(),_e=Ce||se("(pointer:coarse)"),Je=me||!le&&Ce&&se("(min-device-width:768px)"),tt=le||Ce&&!Je,gt=re.isSafari()&&Q.isiOS()&&/safari/i.test(he)===!1,bt=!tt&&!Je&&!gt;return{isiPad:nt(me),isiPhone:nt(le),isTablet:nt(Je),isPhone:nt(tt),isTouch:nt(_e),isAndroid:Q.isAndroid,isiOS:Q.isiOS,isWebView:nt(gt),isDesktop:nt(bt)}})(L,O,g,y);return{browser:O,os:L,deviceType:z}})(window.navigator.userAgent,ue.from(window.navigator.userAgentData),gm));const Yc=()=>Zr(),rh=Object.getPrototypeOf,Du=g=>{const h=Pa("ownerDocument.defaultView",g);return De(g)&&((y=>((C,D)=>{const O=((L,z)=>Pa(L,z))(C,D);if(O==null)throw new Error(C+" not available on this browser");return O})("HTMLElement",y))(h).prototype.isPrototypeOf(g)||/^HTML\w*Element$/.test(rh(g).constructor.name))},xs=g=>g.dom.nodeName.toLowerCase(),Vd=g=>g.dom.nodeType,ui=g=>h=>Vd(h)===g,Xc=g=>Vd(g)===8||xs(g)==="#comment",Ls=g=>Ti(g)&&Du(g.dom),Ti=ui(1),Di=ui(3),jf=ui(9),fm=ui(11),ma=g=>h=>Ti(h)&&xs(h)===g,$d=g=>ke.fromDom(g.dom.ownerDocument),Ud=g=>jf(g)?g:$d(g),cl=g=>ue.from(g.dom.parentNode).map(ke.fromDom),pm=g=>ue.from(g.dom.parentElement).map(ke.fromDom),Zd=(g,h)=>{const y=Zt(h)?h:oe;let C=g.dom;const D=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const O=C.parentNode,L=ke.fromDom(O);if(D.push(L),y(L)===!0)break;C=O}return D},Dg=g=>ue.from(g.dom.previousSibling).map(ke.fromDom),Qc=g=>ue.from(g.dom.nextSibling).map(ke.fromDom),Ya=g=>E(g.dom.childNodes,ke.fromDom),$=(g,h)=>{const y=g.dom.childNodes;return ue.from(y[h]).map(ke.fromDom)},ae=g=>fm(g)&&Ot(g.dom.host),ve=g=>ke.fromDom(g.dom.getRootNode()),et=g=>ke.fromDom(g.dom.host),At=g=>{const h=ke.fromDom((z=>{if(Ot(z.target)){const Q=ke.fromDom(z.target);if(Ti(Q)&&Ot(Q.dom.shadowRoot)&&z.composed&&z.composedPath){const re=z.composedPath();if(re)return _o(re)}}return ue.from(z.target)})(g).getOr(g.target)),y=()=>g.stopPropagation(),C=()=>g.preventDefault(),D=(O=C,L=y,(...z)=>O(L.apply(null,z)));var O,L;return((z,Q,re,he,se,me,le)=>({target:z,x:Q,y:re,stop:he,prevent:se,kill:me,raw:le}))(h,g.clientX,g.clientY,y,C,D,g)},Ut=(g,h,y,C)=>{g.dom.removeEventListener(h,y,C)},Qo=yt,jn=(g,h,y)=>((C,D,O,L)=>((z,Q,re,he,se)=>{const me=((le,Ce)=>_e=>{le(_e)&&Ce(At(_e))})(re,he);return z.dom.addEventListener(Q,me,se),{unbind:ge(Ut,z,Q,me,se)}})(C,D,O,L,!1))(g,h,Qo,y),Uo=At,B=(g,h)=>{cl(g).each(y=>{y.dom.insertBefore(h.dom,g.dom)})},W=(g,h)=>{Qc(g).fold(()=>{cl(g).each(y=>{Ee(y,h)})},y=>{B(y,h)})},ie=(g,h)=>{(C=>$(C,0))(g).fold(()=>{Ee(g,h)},C=>{g.dom.insertBefore(h.dom,C.dom)})},Ee=(g,h)=>{g.dom.appendChild(h.dom)},It=(g,h)=>{B(g,h),Ee(h,g)},un=(g,h)=>{To(h,(y,C)=>{const D=C===0?g:h[C-1];W(D,y)})},ts=(g,h)=>{To(h,y=>{Ee(g,y)})},Dr=(g,h,y)=>{if(!(Ye(y)||Qe(y)||kt(y)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",y,":: Element ",g),new Error("Attribute value was not simple");g.setAttribute(h,y+"")},Hn=(g,h,y)=>{Dr(g.dom,h,y)},ga=(g,h)=>{const y=g.dom;Io(h,(C,D)=>{Dr(y,D,C)})},wa=(g,h)=>{const y=g.dom.getAttribute(h);return y===null?void 0:y},Wi=(g,h)=>ue.from(wa(g,h)),rr=(g,h)=>{g.dom.removeAttribute(h)},dl=g=>dt(g.dom.attributes,(h,y)=>(h[y.name]=y.value,h),{}),Jc=g=>{g.dom.textContent="",To(Ya(g),h=>{_a(h)})},_a=g=>{const h=g.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},Il=g=>{const h=Ya(g);h.length>0&&un(g,h),_a(g)},ah=(g,h)=>ke.fromDom(g.dom.cloneNode(h)),Wf=g=>ah(g,!1),Gr=g=>ah(g,!0),Og=(g,h)=>{const y=ke.fromTag(h),C=dl(g);return ga(y,C),y},hm=g=>g.style!==void 0&&Zt(g.style.getPropertyValue),ed=g=>{const h=Di(g)?g.dom.parentNode:g.dom;if(h==null||h.ownerDocument===null)return!1;const y=h.ownerDocument;return(O=>{const L=ve(O);return ae(L)?ue.some(L):ue.none()})(ke.fromDom(h)).fold(()=>y.body.contains(h),(C=ed,D=et,O=>C(D(O))));var C,D},Kb=(g,h,y)=>{if(!Ye(y))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",y,":: Element ",g),new Error("CSS value must be a string: "+y);hm(g)&&g.style.setProperty(h,y)},Ca=(g,h,y)=>{const C=g.dom;Kb(C,h,y)},ih=(g,h)=>{const y=g.dom;Io(h,(C,D)=>{Kb(y,D,C)})},Ou=(g,h)=>{const y=g.dom,C=window.getComputedStyle(y).getPropertyValue(h);return C!==""||ed(g)?C:Ia(y,h)},Ia=(g,h)=>hm(g)?g.style.getPropertyValue(h):"",Z1=(g,h)=>{const y=g.dom,C=Ia(y,h);return ue.from(C).filter(D=>D.length>0)},td=(g,h)=>{((y,C)=>{hm(y)&&y.style.removeProperty(C)})(g.dom,h),Wc(Wi(g,"style").map(Zn),"")&&rr(g,"style")},j1=(g,h)=>{const y=D=>{const O=h(D);if(O<=0||O===null){const L=Ou(D,g);return parseFloat(L)||0}return O},C=(D,O)=>dt(O,(L,z)=>{const Q=Ou(D,z),re=Q===void 0?0:parseInt(Q,10);return isNaN(re)?L:L+re},0);return{set:(D,O)=>{if(!kt(O)&&!O.match(/^[0-9]+$/))throw new Error(g+".set accepts only positive integer values. Value was "+O);const L=D.dom;hm(L)&&(L.style[g]=O+"px")},get:y,getOuter:y,aggregate:C,max:(D,O,L)=>{const z=C(D,L);return O>z?O-z:0}}},gr=(g,h,y)=>((C,D)=>(O=>{const L=parseFloat(O);return isNaN(L)?ue.none():ue.some(L)})(C).getOr(D))(Ou(g,h),y),qi=j1("height",g=>{const h=g.dom;return ed(g)?h.getBoundingClientRect().height:h.offsetHeight}),jd=g=>qi.get(g),od=g=>qi.getOuter(g),La=j1("width",g=>{const h=g.dom;return ed(g)?h.getBoundingClientRect().width:h.offsetWidth}),Ll=g=>La.get(g),Yb=g=>La.getOuter(g),Xb=g=>((h,y)=>{const C=h.dom,D=C.getBoundingClientRect().width||C.offsetWidth;return((O,L,z,Q)=>L-gr(O,`padding-${z}`,0)-gr(O,`padding-${Q}`,0)-gr(O,`border-${z}-width`,0)-gr(O,`border-${Q}-width`,0))(h,D,"left","right")})(g),Oi=(g,h)=>({left:g,top:h,translate:(y,C)=>Oi(g+y,h+C)}),mi=Oi,ul=(g,h)=>g!==void 0?g:h!==void 0?h:0,ao=g=>{const h=g.dom.ownerDocument,y=h.body,C=h.defaultView,D=h.documentElement;if(y===g.dom)return mi(y.offsetLeft,y.offsetTop);const O=ul(C?.pageYOffset,D.scrollTop),L=ul(C?.pageXOffset,D.scrollLeft),z=ul(D.clientTop,y.clientTop),Q=ul(D.clientLeft,y.clientLeft);return j2(g).translate(L-Q,O-z)},j2=g=>{const h=g.dom,y=h.ownerDocument.body;return y===h?mi(y.offsetLeft,y.offsetTop):ed(g)?(C=>{const D=C.getBoundingClientRect();return mi(D.left,D.top)})(h):mi(0,0)},Eo=(g=>{const h=y=>g(y)?ue.from(y.dom.nodeValue):ue.none();return{get:y=>{if(!g(y))throw new Error("Can only get text value of a text node");return h(y).getOr("")},getOption:h,set:(y,C)=>{if(!g(y))throw new Error("Can only set raw text value of a text node");y.dom.nodeValue=C}}})(Di),Kr=g=>Eo.get(g),W1=g=>Eo.getOption(g),Us=(g,h)=>Eo.set(g,h),q1=(g,h)=>y=>Wd(y)==="rtl"?h:g,Wd=g=>Ou(g,"direction")==="rtl"?"rtl":"ltr";var Qb=(g,h,y,C,D)=>g(y,C)?ue.some(y):Zt(D)&&D(y)?ue.none():h(y,C,D);const bm=(g,h,y)=>{let C=g.dom;const D=Zt(y)?y:oe;for(;C.parentNode;){C=C.parentNode;const O=ke.fromDom(C);if(h(O))return ue.some(O);if(D(O))break}return ue.none()},Rg=(g,h,y)=>Qb((C,D)=>D(C),bm,g,h,y),Ng=(g,h,y)=>bm(g,C=>Ur(C,h),y),qf=(g,h)=>(y=>vn(y.dom.childNodes,C=>{return D=ke.fromDom(C),Ur(D,h);var D}).map(ke.fromDom))(g),at=(g,h)=>Nl(h,g),ar=(g,h,y)=>Qb((C,D)=>Ur(C,D),Ng,g,h,y),W2=g=>g.dom.classList!==void 0,Jb=(g,h)=>((y,C,D)=>{const O=((L,z)=>{const Q=wa(L,z);return Q===void 0||Q===""?[]:Q.split(" ")})(y,C).concat([D]);return Hn(y,C,O.join(" ")),!0})(g,"class",h),nd=(g,h)=>{W2(g)?g.dom.classList.add(h):Jb(g,h)},ko=(g,h)=>W2(g)&&g.dom.classList.contains(h),te=g=>ar(g,"[contenteditable]"),xm=(g,h=!1)=>ed(g)?g.dom.isContentEditable:te(g).fold(nt(h),y=>Fa(y)==="true"),Fa=g=>g.dom.contentEditable,G1=(g,h)=>{let y=[];return To(Ya(g),C=>{h(C)&&(y=y.concat([C])),y=y.concat(G1(C,h))}),y},ir=(g,h,y)=>((C,D,O)=>Fn(Zd(C,O),L=>Ur(L,h)))(g,0,y),Ru=(g,h)=>(y=>Fn(Ya(y),C=>Ur(C,h)))(g),sd=(g,h)=>((y,C)=>{const D=C===void 0?document:C.dom;return In(D)?[]:E(D.querySelectorAll(y),ke.fromDom)})(h,g),mn=g=>xs(g)==="img"?1:W1(g).fold(()=>Ya(g).length,h=>h.length),lh=["img","br"],ex=g=>W1(g).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||Yo(lh,xs(g))||(h=>Ls(h)&&wa(h,"contenteditable")==="false")(g),Mg=g=>((h,y)=>{const C=D=>{for(let O=0;O<D.childNodes.length;O++){const L=ke.fromDom(D.childNodes[O]);if(y(L))return ue.some(L);const z=C(D.childNodes[O]);if(z.isSome())return z}return ue.none()};return C(h.dom)})(g,ex),Or=g=>Nu(g,ex),Nu=(g,h)=>{const y=C=>{const D=Ya(C);for(let O=D.length-1;O>=0;O--){const L=D[O];if(h(L))return ue.some(L);const z=y(L);if(z.isSome())return z}return ue.none()};return y(g)},qd=(g,h,y,C)=>({start:g,soffset:h,finish:y,foffset:C}),Bg=Ze([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Bn={before:Bg.before,on:Bg.on,after:Bg.after,cata:(g,h,y,C)=>g.fold(h,y,C),getStart:g=>g.fold(zt,zt,zt)},Gd=Ze([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Pg={domRange:Gd.domRange,relative:Gd.relative,exact:Gd.exact,exactFromRange:g=>Gd.exact(g.start,g.soffset,g.finish,g.foffset),getWin:g=>{const h=(y=>y.match({domRange:C=>ke.fromDom(C.startContainer),relative:(C,D)=>Bn.getStart(C),exact:(C,D,O,L)=>C}))(g);return ke.fromDom(Ud(h).dom.defaultView)},range:qd},Ss=(g,h)=>{const y=xs(g);return y==="input"?Bn.after(g):Yo(["br","img"],y)?h===0?Bn.before(g):Bn.after(g):Bn.on(g,h)},Jo=g=>ue.from(g.getSelection()),Rr=(g,h)=>{Jo(g).each(y=>{y.removeAllRanges(),y.addRange(h)})},vm=(g,h,y,C,D)=>{const O=ll(g,h,y,C,D);Rr(g,O)},Ri=(g,h)=>mm(g,h).match({ltr:(y,C,D,O)=>{vm(g,y,C,D,O)},rtl:(y,C,D,O)=>{Jo(g).each(L=>{if(L.setBaseAndExtent)L.setBaseAndExtent(y.dom,C,D.dom,O);else if(L.extend)try{((z,Q,re,he,se,me)=>{Q.collapse(re.dom,he),Q.extend(se.dom,me)})(0,L,y,C,D,O)}catch{vm(g,D,O,y,C)}else vm(g,D,O,y,C)})}}),Fo=(g,h,y,C,D)=>{const O=((L,z,Q,re)=>{const he=Ss(L,z),se=Ss(Q,re);return Pg.relative(he,se)})(h,y,C,D);Ri(g,O)},tx=(g,h,y)=>{const C=((D,O)=>{const L=D.fold(Bn.before,Ss,Bn.after),z=O.fold(Bn.before,Ss,Bn.after);return Pg.relative(L,z)})(h,y);Ri(g,C)},Ig=g=>{if(g.rangeCount>0){const h=g.getRangeAt(0),y=g.getRangeAt(g.rangeCount-1);return ue.some(qd(ke.fromDom(h.startContainer),h.startOffset,ke.fromDom(y.endContainer),y.endOffset))}return ue.none()},ox=g=>{if(g.anchorNode===null||g.focusNode===null)return Ig(g);{const h=ke.fromDom(g.anchorNode),y=ke.fromDom(g.focusNode);return((C,D,O,L)=>{const z=((re,he,se,me)=>{const le=$d(re).dom.createRange();return le.setStart(re.dom,he),le.setEnd(se.dom,me),le})(C,D,O,L),Q=es(C,O)&&D===L;return z.collapsed&&!Q})(h,g.anchorOffset,y,g.focusOffset)?ue.some(qd(h,g.anchorOffset,y,g.focusOffset)):Ig(g)}},Kd=(g,h,y=!0)=>{const C=(y?bs:Ld)(g,h);Rr(g,C)},lr=g=>(h=>Jo(h).filter(y=>y.rangeCount>0).bind(ox))(g).map(h=>Pg.exact(h.start,h.soffset,h.finish,h.foffset)),Xa=(g,h,y)=>((C,D,O)=>((L,z,Q)=>L.caretPositionFromPoint?((re,he,se)=>{var me;return ue.from((me=re.caretPositionFromPoint)===null||me===void 0?void 0:me.call(re,he,se)).bind(le=>{if(le.offsetNode===null)return ue.none();const Ce=re.createRange();return Ce.setStart(le.offsetNode,le.offset),Ce.collapse(),ue.some(Ce)})})(L,z,Q):L.caretRangeFromPoint?((re,he,se)=>{var me;return ue.from((me=re.caretRangeFromPoint)===null||me===void 0?void 0:me.call(re,he,se))})(L,z,Q):ue.none())(C.document,D,O).map(L=>qd(ke.fromDom(L.startContainer),L.startOffset,ke.fromDom(L.endContainer),L.endOffset)))(g,h,y),q2={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},G2=(()=>{const g="[0-9]+",h="[eE][+-]?"+g,y=D=>`(?:${D})?`,C=["Infinity",g+"\\."+y(g)+y(h),"\\."+g+y(h),g+y(h)].join("|");return new RegExp(`^([+-]?(?:${C}))(.*)$`)})(),Yr=g=>E(g,nt(0)),nx=(g,h,y,C,D)=>D(g.slice(0,h)).concat(C).concat(D(g.slice(y))),pc=g=>(h,y,C,D)=>{if(g(C)){const O=Math.max(D,h[y]-Math.abs(C)),L=Math.abs(O-h[y]);return C>=0?L:-L}return C},ss=pc(g=>g<0),ml=pc(yt),Gi=()=>{const g=(y,C,D,O)=>{const L=(100+D)/100,z=Math.max(O,(y[C]+D)/L);return E(y,(Q,re)=>(re===C?z:Q/L)-Q)},h=(y,C,D,O,L,z)=>z?g(y,C,O,L):((Q,re,he,se,me)=>{const le=ss(Q,re,se,me);return nx(Q,re,he+1,[le,0],Yr)})(y,C,D,O,L);return{resizeTable:(y,C)=>y(C),clampTableDelta:ss,calcLeftEdgeDeltas:h,calcMiddleDeltas:(y,C,D,O,L,z,Q)=>h(y,D,O,L,z,Q),calcRightEdgeDeltas:(y,C,D,O,L,z)=>{if(z)return g(y,D,O,L);{const Q=ss(y,D,O,L);return Yr(y.slice(0,D)).concat([Q])}},calcRedestributedWidths:(y,C,D,O)=>{if(O){const L=(C+D)/C,z=E(y,Q=>Q/L);return{delta:100*L-100,newSizes:z}}return{delta:D,newSizes:y}}}},ym=()=>{const g=(h,y,C,D,O)=>{const L=ml(h,D>=0?C:y,D,O);return nx(h,y,C+1,[L,-L],Yr)};return{resizeTable:(h,y,C)=>{C&&h(y)},clampTableDelta:(h,y,C,D,O)=>{if(O){if(C>=0)return C;{const L=dt(h,(z,Q)=>z+Q-D,0);return Math.max(-L,C)}}return ss(h,y,C,D)},calcLeftEdgeDeltas:g,calcMiddleDeltas:(h,y,C,D,O,L)=>g(h,C,D,O,L),calcRightEdgeDeltas:(h,y,C,D,O,L)=>{if(L)return Yr(h);{const z=D/h.length;return E(h,nt(z))}},calcRedestributedWidths:(h,y,C,D)=>({delta:0,newSizes:h})}},Qa=(g,h,y=0)=>Wi(g,h).map(C=>parseInt(C,10)).getOr(y),Gf=(g,h)=>Qa(g,h,1),Fl=g=>ma("col")(g)?Qa(g,"span",1)>1:Gf(g,"colspan")>1,rd=(g,h)=>parseInt(Ou(g,h),10),vs=nt(10),K1=nt(10),en=(g,h)=>cr(g,h,yt),cr=(g,h,y)=>we(Ya(g),C=>Ur(C,h)?y(C)?[C]:[]:cr(C,h,y)),zl=(g,h)=>((y,C,D=oe)=>D(C)?ue.none():Yo(y,xs(C))?ue.some(C):Ng(C,y.join(","),O=>Ur(O,"table")||D(O)))(["td","th"],g,h),Xr=g=>en(g,"th,td"),Kf=g=>Ur(g,"colgroup")?Ru(g,"col"):we(Xd(g),h=>Ru(h,"col")),Qr=(g,h)=>ar(g,"table",h),Yd=g=>en(g,"tr"),Xd=g=>Qr(g).fold(nt([]),h=>Ru(h,"colgroup")),Jr=ma("th"),ch=g=>pt(g,h=>Jr(h.element)),dh=(g,h)=>g&&h?"sectionCells":g?"section":"cells",sx=g=>{const h=g.section==="thead",y=Wc(uh(g.cells),"th");return g.section==="tfoot"?{type:"footer"}:h||y?{type:"header",subType:dh(h,y)}:{type:"body"}},uh=g=>{const h=Fn(g,y=>Jr(y.element));return h.length===0?ue.some("td"):h.length===g.length?ue.some("th"):ue.none()},mh=(g,h)=>E(g,y=>{if(xs(y)==="colgroup"){const C=E(Kf(y),D=>{const O=Qa(D,"span",1);return mc(D,1,O)});return ua(y,C,"colgroup")}{const C=E(Xr(y),D=>{const O=Qa(D,"rowspan",1),L=Qa(D,"colspan",1);return mc(D,O,L)});return ua(y,C,h(y))}}),Y1=g=>cl(g).map(h=>{const y=xs(h);return(C=>Yo(Ai,C))(y)?y:"tbody"}).getOr("tbody"),X1=g=>{const h=Yd(g),y=[...Xd(g),...h];return mh(y,Y1)},Q1="data-snooker-locked-cols",J1=g=>Wi(g,Q1).bind(h=>ue.from(h.match(/\d+/g))).map(h=>an(h,yt)),ad=g=>{const h=dt(Cs(g).rows,(C,D)=>(To(D.cells,(O,L)=>{O.isLocked&&(C[L]=!0)}),C),{}),y=Ho(h,(C,D)=>parseInt(D,10));return(C=>{const D=rn.call(C,0);return D.sort(void 0),D})(y)},e0=(g,h)=>g+","+h,K2=(g,h)=>{const y=we(g.all,C=>C.cells);return Fn(y,h)},rx=g=>{const h={},y=[],C=_o(g).map(me=>me.element).bind(Qr).bind(J1).getOr({});let D=0,O=0,L=0;const{pass:z,fail:Q}=Do(g,me=>me.section==="colgroup");To(Q,me=>{const le=[];To(me.cells,Ce=>{let _e=0;for(;h[e0(L,_e)]!==void 0;)_e++;const Je=((gt,bt)=>Ro(gt,bt)&&gt[bt]!==void 0&&gt[bt]!==null)(C,_e.toString()),tt=((gt,bt,xt,St,Dt,Yt)=>({element:gt,rowspan:bt,colspan:xt,row:St,column:Dt,isLocked:Yt}))(Ce.element,Ce.rowspan,Ce.colspan,L,_e,Je);for(let gt=0;gt<Ce.colspan;gt++)for(let bt=0;bt<Ce.rowspan;bt++){const xt=_e+gt,St=e0(L+bt,xt);h[St]=tt,O=Math.max(O,xt+1)}le.push(tt)}),D++,y.push(ua(me.element,le,me.section)),L++});const{columns:re,colgroups:he}=Vo(z).map(me=>{const le=(_e=>{const Je={};let tt=0;return To(_e.cells,gt=>{const bt=gt.colspan;no(bt,xt=>{const St=tt+xt;Je[St]=((Dt,Yt,go)=>({element:Dt,colspan:Yt,column:go}))(gt.element,bt,St)}),tt+=bt}),Je})(me);return{colgroups:[((_e,Je)=>({element:_e,columns:Je}))(me.element,Mn(le))],columns:le}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((me,le)=>({rows:me,columns:le}))(D,O),access:h,all:y,columns:re,colgroups:he}},Ja=g=>{const h=X1(g);return rx(h)},Lg=rx,hc=(g,h,y)=>ue.from(g.access[e0(h,y)]),Qd=(g,h,y)=>{const C=K2(g,D=>y(h,D.element));return C.length>0?ue.some(C[0]):ue.none()},t0=K2,ea=g=>we(g.all,h=>h.cells),Hl=g=>Mn(g.columns),bc=g=>Ks(g.columns).length>0,ln=(g,h)=>ue.from(g.columns[h]),fr=(g,h,y)=>Ps(y(g.element,h),!0,g.isLocked),Mu=(g,h)=>g.section!==h?Xo(g.element,g.cells,h,g.isNew):g,gh=()=>({transformRow:Mu,transformCell:(g,h,y)=>{const C=y(g.element,h),D=xs(C)!=="td"?(O=>{const L=Og(O,"td");W(O,L);const z=Ya(O);return ts(L,z),_a(O),L})(C):C;return Ps(D,g.isNew,g.isLocked)}}),Zs=()=>({transformRow:Mu,transformCell:fr}),o0=()=>({transformRow:(g,h)=>Mu(g,h==="thead"?"tbody":h),transformCell:fr}),jr=gh,Ki=Zs,Ys=o0,xc=()=>({transformRow:zt,transformCell:fr}),wm=(g,h=yt)=>{const y=g.grid,C=no(y.columns,zt),D=no(y.rows,zt);return E(C,O=>Nr(()=>we(D,L=>hc(g,L,O).filter(z=>z.column===O).toArray()),L=>L.colspan===1&&h(L.element),()=>hc(g,0,O)))},Nr=(g,h,y)=>{const C=g();return vn(C,h).orThunk(()=>ue.from(C[0]).orThunk(y)).map(D=>D.element)},Bu=g=>{const h=g.grid,y=no(h.rows,zt),C=no(h.columns,zt);return E(y,D=>Nr(()=>we(C,O=>hc(g,D,O).filter(L=>L.row===D).fold(nt([]),L=>[L])),O=>O.rowspan===1,()=>hc(g,D,0)))},vc=(g,h)=>({row:g,y:h}),Pu=(g,h)=>({col:g,x:h}),ls=g=>ao(g).left+Yb(g),Ni=g=>ao(g).left,_m=(g,h)=>Pu(g,Ni(h)),id=(g,h)=>Pu(g,ls(h)),Mi=g=>ao(g).top,n0=(g,h)=>vc(g,Mi(h)),Fg=(g,h)=>vc(g,Mi(h)+od(h)),pr=(g,h,y)=>{if(y.length===0)return[];const C=E(y.slice(1),(O,L)=>O.map(z=>g(L,z))),D=y[y.length-1].map(O=>h(y.length-1,O));return C.concat([D])},gl={delta:zt,positions:g=>pr(n0,Fg,g),edge:Mi},Yf=q1({delta:zt,edge:Ni,positions:g=>pr(_m,id,g)},{delta:g=>-g,edge:ls,positions:g=>pr(id,_m,g)}),Cm={delta:(g,h)=>Yf(h).delta(g,h),positions:(g,h)=>Yf(h).positions(g,h),edge:g=>Yf(g).edge(g)},Y2=/(\d+(\.\d+)?)%/,km=/(\d+(\.\d+)?)px|em/,Jd=ma("col"),s0=ma("tr"),ax=(g,h,y)=>{const C=pm(g).getOrThunk(()=>(D=>{const O=D.dom.body;if(O==null)throw new Error("Body is not available yet");return ke.fromDom(O)})($d(g)));return h(g)/y(C)*100},zg=(g,h)=>{Ca(g,"width",h+"px")},Xf=(g,h)=>{Ca(g,"width",h+"%")},fl=(g,h)=>{Ca(g,"height",h+"px")},X2=g=>{const h=(y=>{return gr(C=y,"height",C.dom.offsetHeight)+"px";var C})(g);return h?((y,C,D,O)=>{const L=parseFloat(y);return nn(y,"%")&&xs(C)!=="table"?((z,Q,re,he)=>{const se=Qr(z).map(me=>{const le=re(me);return Math.floor(Q/100*le)}).getOr(Q);return he(z,se),se})(C,L,D,O):L})(h,g,jd,fl):jd(g)},Sm=(g,h)=>Z1(g,h).orThunk(()=>Wi(g,h).map(y=>y+"px")),Em=g=>Sm(g,"width"),gi=g=>ax(g,Ll,Xb),mo=g=>{return Jd(g)?Math.round(Ll(g)):gr(h=g,"width",h.dom.offsetWidth);var h},Am=g=>s0(g)?jd(g):((h,y,C)=>C(h)/Gf(h,"rowspan"))(g,0,X2),fh=(g,h,y)=>{Ca(g,"width",h+y)},Q2=g=>ax(g,Ll,Xb)+"%",ph=nt(Y2),ld=ma("col"),hh=g=>Em(g).getOrThunk(()=>mo(g)+"px"),bh=g=>{return(h=g,Sm(h,"height")).getOrThunk(()=>Am(g)+"px");var h},Es=(g,h,y,C,D,O)=>g.filter(C).fold(()=>O(((L,z)=>{if(z<0||z>=L.length-1)return ue.none();const Q=L[z].fold(()=>{const he=(se=>{const me=rn.call(se,0);return me.reverse(),me})(L.slice(0,z));return I(he,(se,me)=>se.map(le=>({value:le,delta:me+1})))},he=>ue.some({value:he,delta:0})),re=L[z+1].fold(()=>{const he=L.slice(z+1);return I(he,(se,me)=>se.map(le=>({value:le,delta:me+1})))},he=>ue.some({value:he,delta:1}));return Q.bind(he=>re.map(se=>{const me=se.delta+he.delta;return Math.abs(se.value-he.value)/me}))})(y,h)),L=>D(L)),Bi=(g,h,y,C)=>{const D=wm(g),O=bc(g)?(Q=>E(Hl(Q),re=>ue.from(re.element)))(g):D,L=[ue.some(Cm.edge(h))].concat(E(Cm.positions(D,h),Q=>Q.map(re=>re.x))),z=Le(Fl);return E(O,(Q,re)=>Es(Q,re,L,z,he=>{if((me=>{const le=Yc().browser,Ce=le.isChromium()||le.isFirefox();return!ld(me)||Ce})(he))return y(he);{const me=(se=D[re])!=null?zt(se):ue.none();return Es(me,re,L,z,le=>C(ue.some(Math.round(Ll(le)))),C)}var se},C))},za=g=>g.map(h=>h+"px").getOr(""),Iu=(g,h,y)=>Bi(g,h,mo,C=>C.getOrThunk(y.minCellWidth)),ei=(g,h,y,C)=>{const D=Bu(g),O=E(g.all,z=>ue.some(z.element)),L=[ue.some(gl.edge(h))].concat(E(gl.positions(D,h),z=>z.map(Q=>Q.y)));return E(O,(z,Q)=>Es(z,Q,L,yt,y,C))},xh=(g,h)=>()=>ed(g)?h(g):parseFloat(Z1(g,"width").getOr("0")),hr=g=>{const h=xh(g,C=>parseFloat(Q2(C))),y=xh(g,Ll);return{width:h,pixelWidth:y,getWidths:(C,D)=>((O,L,z)=>Bi(O,L,gi,Q=>Q.fold(()=>z.minCellWidth(),re=>re/z.pixelWidth()*100)))(C,g,D),getCellDelta:C=>C/y()*100,singleColumnWidth:(C,D)=>[100-C],minCellWidth:()=>vs()/y()*100,setElementWidth:Xf,adjustTableWidth:C=>{const D=h();Xf(g,D+C/100*D)},isRelative:!0,label:"percent"}},ka=g=>{const h=xh(g,Ll);return{width:h,pixelWidth:h,getWidths:(y,C)=>Iu(y,g,C),getCellDelta:zt,singleColumnWidth:(y,C)=>[Math.max(vs(),y+C)-y],minCellWidth:vs,setElementWidth:zg,adjustTableWidth:y=>{const C=h()+y;zg(g,C)},isRelative:!1,label:"pixel"}},cd=g=>Em(g).fold(()=>(h=>{const y=xh(h,Ll),C=nt(0);return{width:y,pixelWidth:y,getWidths:(D,O)=>Iu(D,h,O),getCellDelta:C,singleColumnWidth:nt([0]),minCellWidth:C,setElementWidth:Ae,adjustTableWidth:Ae,isRelative:!0,label:"none"}})(g),h=>((y,C)=>ph().exec(C)!==null?hr(y):ka(y))(g,h)),ct=ka,Pi=hr,Tm=(g,h,y,C)=>{y===C?rr(g,h):Hn(g,h,y)},Mr=(g,h,y)=>{Vo(Ru(g,h)).fold(()=>ie(g,y),C=>W(C,y))},yc=(g,h)=>{const y=[],C=[],D=me=>E(me,le=>{le.isNew&&y.push(le.element);const Ce=le.element;return Jc(Ce),To(le.cells,_e=>{_e.isNew&&C.push(_e.element),Tm(_e.element,"colspan",_e.colspan,1),Tm(_e.element,"rowspan",_e.rowspan,1),Ee(Ce,_e.element)}),Ce}),O=me=>we(me,le=>E(le.cells,Ce=>(Tm(Ce.element,"span",Ce.colspan,1),Ce.element))),L=(me,le)=>{const Ce=((Je,tt)=>{const gt=qf(Je,tt).getOrThunk(()=>{const bt=ke.fromTag(tt,$d(Je).dom);return tt==="thead"?Mr(Je,"caption,colgroup",bt):tt==="colgroup"?Mr(Je,"caption",bt):Ee(Je,bt),bt});return Jc(gt),gt})(g,le),_e=(le==="colgroup"?O:D)(me);ts(Ce,_e)},z=(me,le)=>{me.length>0?L(me,le):(Ce=>{qf(g,Ce).each(_a)})(le)},Q=[],re=[],he=[],se=[];return To(h,me=>{switch(me.section){case"thead":Q.push(me);break;case"tbody":re.push(me);break;case"tfoot":he.push(me);break;case"colgroup":se.push(me)}}),z(se,"colgroup"),z(Q,"thead"),z(re,"tbody"),z(he,"tfoot"),{newRows:y,newCells:C}},pl=(g,h)=>{if(g.length===0)return 0;const y=g[0];return Ei(g,C=>!h(y.element,C.element)).getOr(g.length)},ti=(g,h)=>{const y=E(g,C=>E(C.cells,oe));return E(g,(C,D)=>{const O=we(C.cells,(L,z)=>{if(y[D][z]===!1){const me=((le,Ce,_e,Je)=>{const tt=((St,Dt)=>St[Dt])(le,Ce),gt=tt.section==="colgroup",bt=pl(tt.cells.slice(_e),Je),xt=gt?1:pl(((St,Dt)=>E(St,Yt=>$r(Yt,Dt)))(le.slice(Ce),_e),Je);return{colspan:bt,rowspan:xt}})(g,D,z,h);return((le,Ce,_e,Je)=>{for(let tt=le;tt<le+_e;tt++)for(let gt=Ce;gt<Ce+Je;gt++)y[tt][gt]=!0})(D,z,me.rowspan,me.colspan),[(Q=L.element,re=me.rowspan,he=me.colspan,se=L.isNew,{element:Q,rowspan:re,colspan:he,isNew:se})]}return[];var Q,re,he,se});return((L,z,Q,re)=>({element:L,cells:z,section:Q,isNew:re}))(C.element,O,C.section,C.isNew)})},Ii=(g,h,y)=>{const C=[];To(g.colgroups,D=>{const O=[];for(let L=0;L<g.grid.columns;L++){const z=ln(g,L).map(Q=>Ps(Q.element,y,!1)).getOrThunk(()=>Ps(h.colGap(),!0,!1));O.push(z)}C.push(Xo(D.element,O,"colgroup",y))});for(let D=0;D<g.grid.rows;D++){const O=[];for(let Q=0;Q<g.grid.columns;Q++){const re=hc(g,D,Q).map(he=>Ps(he.element,y,he.isLocked)).getOrThunk(()=>Ps(h.gap(),!0,!1));O.push(re)}const L=g.all[D],z=Xo(L.element,O,L.section,y);C.push(z)}return C},oi=g=>ti(g,es),Dn=(g,h)=>I(g.all,y=>vn(y.cells,C=>es(h,C.element))),Li=(g,h,y)=>{const C=E(h.selection,O=>zl(O).bind(L=>Dn(g,L)).filter(y)),D=qc(C);return sr(D.length>0,D)},js=(g,h,y,C,D,O,L,z,Q)=>{const re=Ja(O),he=ue.from(Q?.section).getOrThunk(xc);return h(re,L).map(se=>{const me=((_e,Je)=>Ii(_e,Je,!1))(re,z),le=g(me,se,es,D(z),he),Ce=ad(le.grid);return{info:se,grid:oi(le.grid),cursor:le.cursor,lockedColumns:Ce}}).bind(se=>{const me=yc(O,se.grid),le=ue.from(Q?.sizing).getOrThunk(()=>cd(O)),Ce=ue.from(Q?.resize).getOrThunk(ym);return y(O,se.grid,se.info,{sizing:le,resize:Ce,section:he}),C(O),rr(O,Q1),se.lockedColumns.length>0&&Hn(O,Q1,se.lockedColumns.join(",")),ue.some({cursor:se.cursor,newRows:me.newRows,newCells:me.newCells})})},Fs=(g,h)=>zl(h.element).bind(y=>Dn(g,y).map(C=>({...C,generators:h.generators,clipboard:h.clipboard}))),dd=(g,h)=>Li(g,h,yt).map(y=>({cells:y,generators:h.generators,clipboard:h.clipboard})),Br=(g,h)=>Li(g,h,yt),Dm=(g,h)=>Li(g,h,y=>!y.isLocked),fi=(g,h)=>pt(h,y=>((C,D)=>Dn(C,D).exists(O=>!O.isLocked))(g,y)),Me=(g,h)=>((y,C)=>C.mergable)(0,h).filter(y=>fi(g,y.cells)),Vl=(g,h)=>((y,C)=>C.unmergable)(0,h).filter(y=>fi(g,y)),$l={...Ze([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},ys=(g,h,y)=>{const C=((D,O)=>bc(D)?((L,z)=>{const Q=Hl(L);return E(Q,(re,he)=>({element:re.element,width:z[he],colspan:re.colspan}))})(D,O):((L,z)=>{const Q=ea(L);return E(Q,re=>{const he=((se,me,le)=>{let Ce=0;for(let _e=se;_e<me;_e++)Ce+=le[_e]!==void 0?le[_e]:0;return Ce})(re.column,re.column+re.colspan,z);return{element:re.element,width:he,colspan:re.colspan}})})(D,O))(g,h);To(C,D=>{y.setElementWidth(D.element,D.width)})},Fi=(g,h,y,C,D)=>{const O=Ja(g),L=D.getCellDelta(h),z=D.getWidths(O,D),Q=y===O.grid.columns-1,re=C.clampTableDelta(z,y,L,D.minCellWidth(),Q),he=((me,le,Ce,_e,Je)=>{const tt=me.slice(0),gt=((xt,St)=>xt.length===0?$l.none():xt.length===1?$l.only(0):St===0?$l.left(0,1):St===xt.length-1?$l.right(St-1,St):St>0&&St<xt.length-1?$l.middle(St-1,St,St+1):$l.none())(me,le),bt=nt(E(tt,nt(0)));return gt.fold(bt,xt=>_e.singleColumnWidth(tt[xt],Ce),(xt,St)=>Je.calcLeftEdgeDeltas(tt,xt,St,Ce,_e.minCellWidth(),_e.isRelative),(xt,St,Dt)=>Je.calcMiddleDeltas(tt,xt,St,Dt,Ce,_e.minCellWidth(),_e.isRelative),(xt,St)=>Je.calcRightEdgeDeltas(tt,xt,St,Ce,_e.minCellWidth(),_e.isRelative))})(z,y,re,D,C),se=E(he,(me,le)=>me+z[le]);ys(O,se,D),C.resizeTable(D.adjustTableWidth,re,Q)},Sa=(g,h,y)=>{const C=Ja(g),D=((Q,re)=>ei(Q,re,Am,he=>he.getOrThunk(K1)))(C,g),O=E(D,(Q,re)=>y===re?Math.max(h+Q,K1()):Q),L=((Q,re)=>E(Q.all,(he,se)=>({element:he.element,height:re[se]})))(C,O);To(L,Q=>{fl(Q.element,Q.height)}),To(ea(C),Q=>{(re=>{td(re,"height")})(Q.element)});const z=ca(O,(Q,re)=>Q+re,0);fl(g,z)},rs=(g,h)=>{Fl(g)||(C=>Em(C).bind(D=>{return O=D,L=["fixed","relative","empty"],ue.from(G2.exec(O)).bind(z=>{const Q=Number(z[1]),re=z[2];return((he,se)=>ze(se,me=>ze(q2[me],le=>he===le)))(re,L)?ue.some({value:Q,unit:re}):ue.none()});var O,L}))(g).each(C=>{const D=C.value/2;fh(g,D,C.unit),fh(h,D,C.unit)})},Lu=(g,h,y)=>{const C=Qa(g,h,1);y===1||C<=1?rr(g,h):Hn(g,h,Math.min(y,C))},r0=(g,h)=>y=>{const C=y.column+y.colspan-1,D=y.column;return C>=g&&D<h},Hg=(g,h,y)=>{const C=g[y].element,D=ke.fromTag("td");Ee(D,ke.fromTag("br")),(h?Ee:ie)(C,D)},Yi=ma("col"),fa=ma("colgroup"),Ul=g=>xs(g)==="tr"||fa(g),Qf=g=>({element:g,colspan:Qa(g,"colspan",1),rowspan:Qa(g,"rowspan",1)}),Om=g=>Wi(g,"scope").map(h=>h.substr(0,3)),Xi=(g,h=Qf)=>{const y=D=>{if(Ul(D))return fa((O={element:D}).element)?g.colgroup(O):g.row(O);{const L=D,z=(Q=>Yi(Q.element)?g.col(Q):g.cell(Q))(h(L));return C=ue.some({item:L,replacement:z}),z}var O};let C=ue.none();return{getOrInit:(D,O)=>C.fold(()=>y(D),L=>O(D,L.item)?L.replacement:y(D))}},Qi=g=>h=>{const y=[],C=D=>{const O=g==="td"?{scope:null}:{},L=h.replace(D,g,O);return y.push({item:D,sub:L}),L};return{replaceOrInit:(D,O)=>{if(Ul(D)||Yi(D))return D;{const L=D;return((z,Q)=>vn(y,re=>Q(re.item,z)))(L,O).fold(()=>C(L),z=>O(D,z.item)?z.sub:C(L))}}}},Wr=g=>({unmerge:h=>{const y=Om(h);return y.each(C=>Hn(h,"scope",C)),()=>{const C=g.cell({element:h,colspan:1,rowspan:1});return td(C,"width"),td(h,"width"),y.each(D=>Hn(C,"scope",D)),C}},merge:h=>(td(h[0],"width"),(()=>{const y=qc(E(h,Om));if(y.length===0)return ue.none();{const C=y[0],D=["row","col"];return ze(y,O=>O!==C&&Yo(D,O))?ue.none():ue.from(C)}})().fold(()=>rr(h[0],"scope"),y=>Hn(h[0],"scope",y+"group")),nt(h[0]))}),eu=Ze([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),a0=(g,h,y)=>{const C=y.substring(0,y.length-g.length),D=parseFloat(C);return C===D.toString()?h(D):eu.invalid(y)},ni={...eu,from:g=>nn(g,"%")?a0("%",eu.percent,g):nn(g,"px")?a0("px",eu.pixels,g):eu.invalid(g)},Zl=(g,h,y)=>{const C=ni.from(y),D=pt(g,O=>O==="0px")?((O,L)=>{const z=O.fold(()=>nt(""),Q=>nt(Q/L+"px"),()=>nt(100/L+"%"));return no(L,z)})(C,g.length):((O,L,z)=>O.fold(()=>L,Q=>((re,he,se)=>{const me=se/he;return E(re,le=>ni.from(le).fold(()=>le,Ce=>Ce*me+"px",Ce=>Ce/100*se+"px"))})(L,z,Q),Q=>((re,he)=>E(re,se=>ni.from(se).fold(()=>se,me=>me/he*100+"%",me=>me+"%")))(L,z)))(C,g,h);return LC(D)},ix=(g,h)=>g.length===0?h:ca(g,(y,C)=>ni.from(C).fold(nt(0),zt,zt)+y,0),wc=(g,h)=>ni.from(g).fold(nt(g),y=>y+h+"px",y=>y+h+"%"),LC=g=>{if(g.length===0)return g;const h=ca(g,(C,D)=>{const O=ni.from(D).fold(()=>({value:D,remainder:0}),L=>(z=>{const Q=Math.floor(z);return{value:Q+"px",remainder:z-Q}})(L),L=>({value:L+"%",remainder:0}));return{output:[O.value].concat(C.output),remainder:C.remainder+O.remainder}},{output:[],remainder:0}),y=h.output;return y.slice(0,y.length-1).concat([wc(y[y.length-1],Math.round(h.remainder))])},ud=ni.from,Rm=(g,h,y)=>{const C=Ja(g),D=C.all,O=ea(C),L=Hl(C);h.each(z=>{const Q=ud(z).fold(nt("px"),nt("px"),nt("%")),re=Ll(g),he=((me,le)=>Bi(me,le,hh,za))(C,g),se=Zl(he,re,z);bc(C)?((me,le,Ce)=>{To(le,(_e,Je)=>{const tt=ix([me[Je]],vs());Ca(_e.element,"width",tt+Ce)})})(se,L,Q):((me,le,Ce)=>{To(le,_e=>{const Je=me.slice(_e.column,_e.colspan+_e.column),tt=ix(Je,vs());Ca(_e.element,"width",tt+Ce)})})(se,O,Q),Ca(g,"width",z)}),y.each(z=>{const Q=jd(g),re=((he,se)=>ei(he,se,bh,za))(C,g);((he,se,me)=>{To(me,le=>{td(le.element,"height")}),To(se,(le,Ce)=>{Ca(le.element,"height",he[Ce])})})(Zl(re,Q,z),D,O),Ca(g,"height",z)})},Nm=g=>Em(g).exists(h=>Y2.test(h)),J2=g=>Em(g).exists(h=>km.test(h)),Jf=g=>Em(g).isNone();var FC=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],lx=()=>({up:nt({selector:Ng,closest:ar,predicate:bm,all:Zd}),down:nt({selector:sd,predicate:G1}),styles:nt({get:Ou,getRaw:Z1,set:Ca,remove:td}),attrs:nt({get:wa,set:Hn,remove:rr,copyTo:(g,h)=>{const y=dl(g);ga(h,y)}}),insert:nt({before:B,after:W,afterAll:un,append:Ee,appendAll:ts,prepend:ie,wrap:It}),remove:nt({unwrap:Il,remove:_a}),create:nt({nu:ke.fromTag,clone:g=>ke.fromDom(g.dom.cloneNode(!1)),text:ke.fromText}),query:nt({comparePosition:(g,h)=>g.dom.compareDocumentPosition(h.dom),prevSibling:Dg,nextSibling:Qc}),property:nt({children:Ya,name:xs,parent:cl,document:g=>Ud(g).dom,isText:Di,isComment:Xc,isElement:Ti,isSpecial:g=>{const h=xs(g);return Yo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:g=>Ti(g)?Wi(g,"lang"):ue.none(),getText:Kr,setText:Us,isBoundary:g=>!!Ti(g)&&(xs(g)==="body"||Yo(FC,xs(g))),isEmptyTag:g=>!!Ti(g)&&Yo(["br","img","hr","input"],xs(g)),isNonEditable:g=>Ti(g)&&wa(g,"contenteditable")==="false"}),eq:es,is:Su});const Ws=(g,h)=>({item:g,mode:h}),i0=(g,h,y,C=jl)=>g.property().parent(h).map(D=>Ws(D,C)),jl=(g,h,y,C=Fu)=>y.sibling(g,h).map(D=>Ws(D,C)),Fu=(g,h,y,C=Fu)=>{const D=g.property().children(h);return y.first(D).map(O=>Ws(O,C))},cx=[{current:i0,next:jl,fallback:ue.none()},{current:jl,next:Fu,fallback:ue.some(i0)},{current:Fu,next:Fu,fallback:ue.some(jl)}],Mm=(g,h,y,C,D=cx)=>vn(D,O=>O.current===y).bind(O=>O.current(g,h,C,O.next).orThunk(()=>O.fallback.bind(L=>Mm(g,h,L,C)))),Ji=(g,h,y,C,D,O)=>Mm(g,h,C,D).bind(L=>O(L.item)?ue.none():y(L.item)?ue.some(L.item):Ji(g,L.item,y,L.mode,D,O)),pi=(g,h)=>({element:g,offset:h}),zu=(g,h,y)=>g.property().isText(h)&&g.property().getText(h).trim().length===0||g.property().isComment(h)?y(h).bind(C=>zu(g,C,y).orThunk(()=>ue.some(C))):ue.none(),ey=(g,h)=>g.property().isText(h)?g.property().getText(h).length:g.property().children(h).length,vh=(g,h)=>{const y=zu(g,h,g.query().prevSibling).getOr(h);if(g.property().isText(y))return pi(y,ey(g,y));const C=g.property().children(y);return C.length>0?vh(g,C[C.length-1]):pi(y,ey(g,y))},dx=vh,l0=lx(),ty=g=>h=>g.property().children(h).length===0,oy=(g,h,y,C)=>Ji(g,h,y,jl,{sibling:(D,O)=>D.query().prevSibling(O),first:D=>D.length>0?ue.some(D[D.length-1]):ue.none()},C),c0=(g,h,y,C)=>Ji(g,h,y,jl,{sibling:(D,O)=>D.query().nextSibling(O),first:D=>D.length>0?ue.some(D[0]):ue.none()},C),Wl=lx(),_c=(g,h)=>((y,C,D)=>oy(y,C,ty(y),D))(Wl,g,h),tu=(g,h)=>((y,C,D)=>c0(y,C,ty(y),D))(Wl,g,h),Vg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ny=(g,h,y,C)=>{const D=h(g,y);return ca(C,(O,L)=>{const z=h(g,L);return $g(g,O,z)},D)},$g=(g,h,y)=>h.bind(C=>y.filter(ge(g.eq,C))),d0=lx(),yh=(g,h)=>((y,C,D)=>D.length>0?((O,L,z,Q)=>Q(O,L,z[0],z.slice(1)))(y,C,D,ny):ue.none())(d0,(y,C)=>g(C),h),u0=lx(),m0=g=>((h,y)=>{const C=h.property().name(y);return Yo(Vg,C)})(u0,g),ux=g=>((h,y)=>{const C=h.property().name(y);return Yo(["ol","ul"],C)})(u0,g),mx=g=>{const h=ma("br"),y=D=>Or(D).bind(O=>{const L=Qc(O).map(z=>!!m0(z)||!!((Q,re)=>Yo(["br","img","hr","input"],Q.property().name(re)))(u0,z)&&xs(z)!=="img").getOr(!1);return cl(O).map(z=>{return L===!0||xs(Q=z)==="li"||bm(Q,ux).isSome()||h(O)||m0(z)&&!es(D,z)?[]:[ke.fromTag("br")];var Q})}).getOr([]),C=(()=>{const D=we(g,O=>{const L=Ya(O);return(z=>pt(z,Q=>h(Q)||Di(Q)&&Kr(Q).trim().length===0))(L)?[]:L.concat(y(O))});return D.length===0?[ke.fromTag("br")]:D})();Jc(g[0]),ts(g[0],C)},ql=g=>{rr(g,"width"),rr(g,"height")},Cc=g=>{const h=Q2(g);Rm(g,ue.some(h),ue.none()),ql(g)},Qs=g=>{const h=(y=>Ll(y)+"px")(g);Rm(g,ue.some(h),ue.none()),ql(g)},sy=g=>{td(g,"width");const h=Kf(g),y=h.length>0?h:Xr(g);To(y,C=>{td(C,"width"),ql(C)}),ql(g)},Bm={scope:["row","col"]},gx=g=>()=>{const h=ke.fromTag("td",g.dom);return Ee(h,ke.fromTag("br",g.dom)),h},g0=g=>()=>ke.fromTag("col",g.dom),wh=g=>()=>ke.fromTag("colgroup",g.dom),ry=g=>()=>ke.fromTag("tr",g.dom),ay=(g,h,y)=>{const C=((D,O)=>{const L=Og(D,O),z=Ya(Gr(D));return ts(L,z),L})(g,h);return Io(y,(D,O)=>{D===null?rr(C,O):Hn(C,O,D)}),C},Hu=g=>g,kc=(g,h,y)=>{const C=(D,O)=>{((L,z)=>{const Q=L.dom,re=z.dom;hm(Q)&&hm(re)&&(re.style.cssText=Q.style.cssText)})(D.element,O),td(O,"height"),D.colspan!==1&&td(O,"width")};return{col:D=>{const O=ke.fromTag(xs(D.element),h.dom);return C(D,O),g(D.element,O),O},colgroup:wh(h),row:ry(h),cell:D=>{const O=ke.fromTag(xs(D.element),h.dom),L=y.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),z=L.length>0?((Q,re,he)=>Mg(Q).map(se=>{const me=he.join(","),le=ir(se,me,Ce=>es(Ce,Q));return ca(le,(Ce,_e)=>{const Je=Wf(_e);return Ee(Ce,Je),Je},re)}).getOr(re))(D.element,O,L):O;return Ee(z,ke.fromTag("br")),C(D,O),((Q,re)=>{Io(Bm,(he,se)=>Wi(Q,se).filter(me=>Yo(he,me)).each(me=>Hn(re,se,me)))})(D.element,O),g(D.element,O),O},replace:ay,colGap:g0(h),gap:gx(h)}},jt=g=>({col:g0(g),colgroup:wh(g),row:ry(g),cell:gx(g),replace:Hu,colGap:g0(g),gap:gx(g)}),Mo=g=>Ja(g).grid,zi=(g,h,y,C)=>{const D=Cs(g).rows;let O=!0;for(let L=0;L<D.length;L++)for(let z=0;z<ya(D[0]);z++){const Q=D[L],re=$r(Q,z),he=y(re.element,h);he&&!O?gc(Q,z,Ps(C(),!0,re.isLocked)):he&&(O=!1)}return g},Sc=(g,h)=>({rowDelta:0,colDelta:ya(g[0])-ya(h[0])}),hl=(g,h)=>({rowDelta:g.length-h.length,colDelta:0}),os=(g,h,y,C)=>{const D=h.section==="colgroup"?y.col:y.cell;return no(g,O=>Ps(D(),!0,C(O)))},iy=(g,h,y,C)=>{const D=g[g.length-1];return g.concat(no(h,()=>{const O=D.section==="colgroup"?y.colgroup:y.row,L=Sn(D,O,zt),z=os(L.cells.length,L,y,Q=>Ro(C,Q.toString()));return Wo(L,z)}))},Pm=(g,h,y,C)=>E(g,D=>{const O=os(h,D,y,oe);return Vr(D,C,O)}),Ug=(g,h,y)=>{const C=h.colDelta<0?Pm:zt,D=h.rowDelta<0?iy:zt,O=ad(g),L=ya(g[0]),z=ze(O,he=>he===L-1),Q=C(g,Math.abs(h.colDelta),y,z?L-1:L),re=ad(Q);return D(Q,Math.abs(h.rowDelta),y,an(re,yt))},Ec=(g,h,y,C)=>{const D=ge(C,$r(g[h],y).element),O=g[h];return g.length>1&&ya(O)>1&&(y>0&&D(Tr(O,y-1))||y<O.cells.length-1&&D(Tr(O,y+1))||h>0&&D(Tr(g[h-1],y))||h<g.length-1&&D(Tr(g[h+1],y)))},f0=(g,h,y)=>Fn(y,C=>C>=g.column&&C<=ya(h[0])+g.column),_h=(g,h,y,C,D)=>{((re,he,se,me)=>{he>0&&he<re[0].cells.length&&To(re,le=>{const Ce=le.cells[he-1];let _e=0;const Je=me();for(;le.cells.length>he+_e&&se(Ce.element,le.cells[he+_e].element);)gc(le,he+_e,Ps(Je,!0,le.cells[he+_e].isLocked)),_e++})})(h,g,D,C.cell);const O=hl(y,h),L=Ug(y,O,C),z=hl(h,L),Q=Ug(h,z,C);return E(Q,(re,he)=>Vr(re,g,L[he].cells))},ut=(g,h,y,C,D)=>{((gt,bt,xt,St)=>{const Dt=Cs(gt).rows;if(bt>0&&bt<Dt.length){const Yt=((go,zo)=>dt(go,(Oo,Zo)=>ze(Oo,No=>zo(No.element,Zo.element))?Oo:Oo.concat([Zo]),[]))(Dt[bt-1].cells,xt);To(Yt,go=>{let zo=ue.none();for(let Oo=bt;Oo<Dt.length;Oo++)for(let Zo=0;Zo<ya(Dt[0]);Zo++){const No=Dt[Oo],Kn=$r(No,Zo);xt(Kn.element,go.element)&&(zo.isNone()&&(zo=ue.some(St())),zo.each(xr=>{gc(No,Zo,Ps(xr,!0,Kn.isLocked))}))}})}})(h,g,D,C.cell);const O=ad(h),L=Sc(h,y),z={...L,colDelta:L.colDelta-O.length},Q=Ug(h,z,C),{cols:re,rows:he}=Cs(Q),se=ad(Q),me=Sc(y,h),le={...me,colDelta:me.colDelta+se.length},Ce=(Je=C,tt=se,E(y,gt=>dt(tt,(bt,xt)=>{const St=os(1,gt,Je,yt)[0];return Cg(bt,xt,St)},gt))),_e=Ug(Ce,le,C);var Je,tt;return[...re,...he.slice(0,g),..._e,...he.slice(g,he.length)]},fx=(g,h,y,C,D)=>{const{rows:O,cols:L}=Cs(g),z=O.slice(0,h),Q=O.slice(h);return[...L,...z,((re,he,se,me)=>Sn(re,le=>me(le,se),he))(O[y],(re,he)=>h>0&&h<O.length&&C(Tr(O[h-1],he),Tr(O[h],he))?$r(O[h],he):Ps(D(re.element,C),!0,re.isLocked),C,D),...Q]},Ch=(g,h,y,C,D)=>E(g,O=>{const L=h>0&&h<ya(O)&&C(Tr(O,h-1),Tr(O,h)),z=((Q,re,he,se,me,le,Ce)=>{if(he!=="colgroup"&&se)return $r(Q,re);{const _e=$r(Q,me);return Ps(Ce(_e.element,le),!0,!1)}})(O,h,O.section,L,y,C,D);return Cg(O,h,z)}),md=(g,h,y,C)=>((D,O,L,z)=>Tr(D[O],L)!==void 0&&O>0&&z(Tr(D[O-1],L),Tr(D[O],L)))(g,h,y,C)||((D,O,L)=>O>0&&L(Tr(D,O-1),Tr(D,O)))(g[h],y,C),Zg=(g,h,y,C)=>{const D=O=>(L=>L==="row"?(z=>Gf(z,"rowspan")>1)(h):Fl(h))(O)?`${O}group`:O;return g?Jr(h)?D(y):null:C&&Jr(h)?D(y==="row"?"col":"row"):null},kh=(g,h,y)=>Ps(y(g.element,h),!0,g.isLocked),Ns=(g,h,y,C,D,O,L)=>E(g,(z,Q)=>(re=>{const he=re.cells,se=E(he,(me,le)=>{if((Ce=>ze(h,_e=>y(Ce.element,_e.element)))(me)){const Ce=L(me,Q,le)?D(me,y,C):me;return O(Ce,Q,le).each(_e=>{var Je,tt;Je=Ce.element,tt={scope:ue.from(_e)},Io(tt,(gt,bt)=>{gt.fold(()=>{rr(Je,bt)},xt=>{Dr(Je.dom,bt,xt)})})}),Ce}return me});return Xo(re.element,se,re.section,re.isNew)})(z)),p0=(g,h,y)=>we(g,(C,D)=>md(g,D,h,y)?[]:[$r(C,h)]),Sh=(g,h,y,C,D)=>{const O=Cs(g).rows,L=we(h,he=>p0(O,he,C)),z=E(O,he=>ch(he.cells)),Q=((he,se)=>pt(se,zt)&&ch(he)?yt:(me,le,Ce)=>!(xs(me.element)==="th"&&se[le]))(L,z);return Ns(g,L,C,D,kh,((he,se)=>(me,le)=>ue.some(Zg(he,me.element,"row",se[le])))(y,z),Q)},hi=(g,h,y,C)=>{const D=Cs(g).rows,O=E(h,L=>$r(D[L.row],L.column));return Ns(g,O,y,C,kh,ue.none,yt)},Wn=g=>dt(g,(h,y)=>ze(h,C=>C.column===y.column)?h:h.concat([y]),[]).sort((h,y)=>h.column-y.column),jg=g=>xm(g,!0),Wg=g=>{Xr(g).length===0&&_a(g)},h0=(g,h)=>({grid:g,cursor:h}),Ea=(g,h,y)=>{const C=((D,O,L)=>{var z,Q;const re=Cs(D).rows;return ue.from((Q=(z=re[O])===null||z===void 0?void 0:z.cells[L])===null||Q===void 0?void 0:Q.element).filter(jg).orThunk(()=>(he=>I(he,se=>I(se.cells,me=>{const le=me.element;return sr(jg(le),le)})))(re))})(g,h,y);return h0(g,C)},bi=g=>dt(g,(h,y)=>ze(h,C=>C.row===y.row)?h:h.concat([y]),[]).sort((h,y)=>h.row-y.row),zC=(g,h,y,C)=>{const D=h[0].row,O=bi(h),L=ca(O,(z,Q)=>({grid:fx(z.grid,D,Q.row+z.delta,y,C.getOrInit),delta:z.delta+1}),{grid:g,delta:0}).grid;return Ea(L,D,h[0].column)},px=(g,h,y,C)=>{const D=bi(h),O=D[D.length-1],L=O.row+O.rowspan,z=ca(D,(Q,re)=>fx(Q,L,re.row,y,C.getOrInit),g);return Ea(z,L,h[0].column)},HC=(g,h,y,C)=>{const D=h.details,O=Wn(D),L=O[0].column,z=ca(O,(Q,re)=>({grid:Ch(Q.grid,L,re.column+Q.delta,y,C.getOrInit),delta:Q.delta+1}),{grid:g,delta:0}).grid;return Ea(z,D[0].row,L)},ly=(g,h,y,C)=>{const D=h.details,O=D[D.length-1],L=O.column+O.colspan,z=Wn(D),Q=ca(z,(re,he)=>Ch(re,L,he.column,y,C.getOrInit),g);return Ea(Q,D[0].row,L)},cy=(g,h,y,C)=>{const D=Wn(h),O=E(D,z=>z.column),L=Sh(g,O,!0,y,C.replaceOrInit);return Ea(L,h[0].row,h[0].column)},dy=(g,h,y,C)=>{const D=hi(g,h,y,C.replaceOrInit);return Ea(D,h[0].row,h[0].column)},b0=(g,h,y,C)=>{const D=Wn(h),O=E(D,z=>z.column),L=Sh(g,O,!1,y,C.replaceOrInit);return Ea(L,h[0].row,h[0].column)},xi=(g,h,y,C)=>{const D=hi(g,h,y,C.replaceOrInit);return Ea(D,h[0].row,h[0].column)},Gl=(g,h)=>(y,C,D,O,L)=>{const z=bi(C),Q=E(z,he=>he.row),re=((he,se,me,le,Ce,_e,Je)=>{const{cols:tt,rows:gt}=Cs(he),bt=gt[se[0]],xt=we(se,Oo=>((Zo,No,Kn)=>{const xr=Zo[No];return we(xr.cells,(Ra,na)=>md(Zo,No,na,Kn)?[]:[Ra])})(gt,Oo,Ce)),St=E(bt.cells,(Oo,Zo)=>ch(p0(gt,Zo,Ce))),Dt=[...gt];To(se,Oo=>{Dt[Oo]=Je.transformRow(gt[Oo],me)});const Yt=[...tt,...Dt],go=((Oo,Zo)=>pt(Zo,zt)&&ch(Oo.cells)?yt:(No,Kn,xr)=>!(xs(No.element)==="th"&&Zo[xr]))(bt,St),zo=((Oo,Zo)=>(No,Kn,xr)=>ue.some(Zg(Oo,No.element,"col",Zo[xr])))(le,St);return Ns(Yt,xt,Ce,_e,Je.transformCell,zo,go)})(y,Q,g,h,D,O.replaceOrInit,L);return Ea(re,C[0].row,C[0].column)},Ac=Gl("thead",!0),x0=Gl("tbody",!1),Eh=Gl("tfoot",!1),Vu=(g,h,y,C)=>{const D=Wn(h.details),O=((z,Q)=>we(z,re=>{const he=re.cells,se=ca(Q,(me,le)=>le>=0&&le<me.length?me.slice(0,le).concat(me.slice(le+1)):me,he);return se.length>0?[Xo(re.element,se,re.section,re.isNew)]:[]}))(g,E(D,z=>z.column)),L=O.length>0?O[0].cells.length-1:0;return Ea(O,D[0].row,Math.min(D[0].column,L))},Aa=(g,h,y,C)=>{const D=bi(h),O=((z,Q,re)=>{const{rows:he,cols:se}=Cs(z);return[...se,...he.slice(0,Q),...he.slice(re+1)]})(g,D[0].row,D[D.length-1].row),L=Math.max(Cs(O).rows.length-1,0);return Ea(O,Math.min(h[0].row,L),h[0].column)},v0=(g,h,y,C)=>{const D=h.cells;mx(D);const O=((L,z,Q,re)=>{const he=Cs(L).rows;if(he.length===0)return L;for(let se=z.startRow;se<=z.finishRow;se++)for(let me=z.startCol;me<=z.finishCol;me++){const le=he[se],Ce=$r(le,me).isLocked;gc(le,me,Ps(re(),!1,Ce))}return L})(g,h.bounds,0,C.merge(D));return h0(O,ue.from(D[0]))},uy=(g,h,y,C)=>{const D=ca(h,(O,L)=>zi(O,L,y,C.unmerge(L)),g);return h0(D,ue.from(h[0]))},$u=(g,h,y,C)=>{const D=((z,Q)=>{const re=Ja(z);return Ii(re,Q,!0)})(h.clipboard,h.generators);var O,L;return((z,Q,re,he,se)=>{const me=ad(Q),le=((tt,gt,bt)=>{const xt=ya(gt[0]),St=Cs(gt).cols.length+tt.row,Dt=no(xt-tt.column,Yt=>Yt+tt.column);return{row:St,column:vn(Dt,Yt=>pt(bt,go=>go!==Yt)).getOr(xt-1)}})(z,Q,me),Ce=Cs(re).rows,_e=f0(le,Ce,me);return((tt,gt,bt)=>{if(tt.row>=gt.length||tt.column>ya(gt[0]))return jc.error("invalid start address out of table bounds, row: "+tt.row+", column: "+tt.column);const xt=gt.slice(tt.row),St=xt[0].cells.slice(tt.column),Dt=ya(bt[0]),Yt=bt.length;return jc.value({rowDelta:xt.length-Yt,colDelta:St.length-Dt})})(le,Q,Ce).map(tt=>{const gt={...tt,colDelta:tt.colDelta-_e.length},bt=Ug(Q,gt,he),xt=ad(bt),St=f0(le,Ce,xt);return((Dt,Yt,go,zo,Oo,Zo)=>{const No=Dt.row,Kn=Dt.column,xr=No+go.length,Ra=Kn+ya(go[0])+Zo.length,na=an(Zo,yt);for(let vl=No;vl<xr;vl++){let qt=0;for(let Va=Kn;Va<Ra;Va++){if(na[Va]){qt++;continue}Ec(Yt,vl,Va,Oo)&&zi(Yt,Tr(Yt[vl],Va),Oo,zo.cell);const Nc=Va-Kn-qt,Wh=$r(go[vl-No],Nc),_d=Wh.element,cf=zo.replace(_d);gc(Yt[vl],Va,Ps(cf,!0,Wh.isLocked))}}return Yt})(le,bt,Ce,he,se,St)})})((O=h.row,L=h.column,{row:O,column:L}),g,D,h.generators,y).fold(()=>h0(g,ue.some(h.element)),z=>Ea(z,h.row,h.column))},qg=(g,h,y)=>{const C=((O,L)=>mh(O,()=>L))(g,y.section),D=Lg(C);return Ii(D,h,!0)},hx=(g,h,y,C)=>{const D=Cs(g).rows,O=h.cells[0].column,L=D[h.cells[0].row],z=qg(h.clipboard,h.generators,L),Q=_h(O,g,z,h.generators,y);return Ea(Q,h.cells[0].row,h.cells[0].column)},bx=(g,h,y,C)=>{const D=Cs(g).rows,O=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,L=D[h.cells[0].row],z=qg(h.clipboard,h.generators,L),Q=_h(O,g,z,h.generators,y);return Ea(Q,h.cells[0].row,O)},xx=(g,h,y,C)=>{const D=Cs(g).rows,O=h.cells[0].row,L=D[O],z=qg(h.clipboard,h.generators,L),Q=ut(O,g,z,h.generators,y);return Ea(Q,h.cells[0].row,h.cells[0].column)},qn=(g,h,y,C)=>{const D=Cs(g).rows,O=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,L=D[h.cells[0].row],z=qg(h.clipboard,h.generators,L),Q=ut(O,g,z,h.generators,y);return Ea(Q,O,h.cells[0].column)},Im=(g,h,y,C)=>((D,O,L,z)=>{const Q=Lg(O),re=z.getWidths(Q,z);ys(Q,re,z)})(0,h,0,C.sizing),ep=(g,h,y,C)=>((D,O,L,z,Q)=>{const re=Lg(O),he=z.getWidths(re,z),se=z.pixelWidth(),{newSizes:me,delta:le}=Q.calcRedestributedWidths(he,se,L.pixelDelta,z.isRelative);ys(re,me,z),z.adjustTableWidth(le)})(0,h,y,C.sizing,C.resize),y0=(g,h)=>ze(h,y=>y.column===0&&y.isLocked),w0=(g,h)=>ze(h,y=>y.column+y.colspan>=g.grid.columns&&y.isLocked),Ah=(g,h)=>{const y=wm(g),C=Wn(h);return dt(C,(D,O)=>D+y[O.column].map(Yb).getOr(0),0)},vx=g=>(h,y)=>Br(h,y).filter(C=>!(g?y0:w0)(h,C)).map(C=>({details:C,pixelDelta:Ah(h,C)})),yx=(g,h)=>Dm(g,h).map(y=>({details:y,pixelDelta:-Ah(g,y)})),my=g=>(h,y)=>dd(h,y).filter(C=>!(g?y0:w0)(h,C.cells)),Th=Qi("th"),el=Qi("td"),_0=(g,h,y,C)=>js(zC,Br,Ae,Ae,Xi,g,h,y,C),ta=(g,h,y,C)=>js(px,Br,Ae,Ae,Xi,g,h,y,C),ou=(g,h,y,C)=>js(HC,vx(!0),ep,Ae,Xi,g,h,y,C),tp=(g,h,y,C)=>js(ly,vx(!1),ep,Ae,Xi,g,h,y,C),Uu=(g,h,y,C)=>js(Vu,yx,ep,Wg,Xi,g,h,y,C),wx=(g,h,y,C)=>js(Aa,Br,Ae,Wg,Xi,g,h,y,C),Dh=(g,h,y,C)=>js(cy,Dm,Ae,Ae,Th,g,h,y,C),gy=(g,h,y,C)=>js(b0,Dm,Ae,Ae,el,g,h,y,C),_x=(g,h,y,C)=>js(Ac,Br,Ae,Ae,Th,g,h,y,C),fy=(g,h,y,C)=>js(x0,Br,Ae,Ae,el,g,h,y,C),Cx=(g,h,y,C)=>js(Eh,Br,Ae,Ae,el,g,h,y,C),Ta=(g,h,y,C)=>js(dy,Dm,Ae,Ae,Th,g,h,y,C),Lm=(g,h,y,C)=>js(xi,Dm,Ae,Ae,el,g,h,y,C),kx=(g,h,y,C)=>js(v0,Me,Im,Ae,Wr,g,h,y,C),VC=(g,h,y,C)=>js(uy,Vl,Im,Ae,Wr,g,h,y,C),Sx=(g,h,y,C)=>js($u,Fs,Im,Ae,Xi,g,h,y,C),Ex=(g,h,y,C)=>js(hx,my(!0),Ae,Ae,Xi,g,h,y,C),C0=(g,h,y,C)=>js(bx,my(!1),Ae,Ae,Xi,g,h,y,C),py=(g,h,y,C)=>js(xx,dd,Ae,Ae,Xi,g,h,y,C),br=(g,h,y,C)=>js(qn,dd,Ae,Ae,Xi,g,h,y,C),Pr=(g,h)=>{const y=Ja(g);return Br(y,h).bind(C=>{const D=C[C.length-1],O=C[0].column,L=D.column+D.colspan,z=He(E(y.all,Q=>Fn(Q.cells,re=>re.column>=O&&re.column<L)));return uh(z)}).getOr("")},Da=(g,h)=>{const y=Ja(g);return Br(y,h).bind(uh).getOr("")},Oa=(g,h)=>{const y=Ja(g);return Br(y,h).bind(C=>{const D=C[C.length-1],O=C[0].row,L=D.row+D.rowspan;return(z=>{const Q=E(z,se=>sx(se).type),re=Yo(Q,"header"),he=Yo(Q,"footer");if(re||he){const se=Yo(Q,"body");return!re||se||he?re||se||!he?ue.none():ue.some("footer"):ue.some("header")}return ue.some("body")})(y.all.slice(O,L))}).getOr("")},Ir=(g,h)=>{const y=h.column,C=h.column+h.colspan-1,D=h.row,O=h.row+h.rowspan-1;return y<=g.finishCol&&C>=g.startCol&&D<=g.finishRow&&O>=g.startRow},Lr=(g,h)=>h.column>=g.startCol&&h.column+h.colspan-1<=g.finishCol&&h.row>=g.startRow&&h.row+h.rowspan-1<=g.finishRow,Gg=(g,h,y)=>{const C=Qd(g,h,es),D=Qd(g,y,es);return C.bind(O=>D.map(L=>{return z=O,Q=L,{startRow:Math.min(z.row,Q.row),startCol:Math.min(z.column,Q.column),finishRow:Math.max(z.row+z.rowspan-1,Q.row+Q.rowspan-1),finishCol:Math.max(z.column+z.colspan-1,Q.column+Q.colspan-1)};var z,Q}))},Kg=(g,h,y)=>Gg(g,h,y).map(C=>{const D=t0(g,ge(Ir,C));return E(D,O=>O.element)}),Ax=(g,h)=>Qd(g,h,(y,C)=>$s(C,y)).map(y=>y.element),hy=(g,h,y)=>{const C=gd(g);return Kg(C,h,y)},k0=(g,h,y,C,D)=>{const O=gd(g),L=es(g,y)?ue.some(h):Ax(O,h),z=es(g,D)?ue.some(C):Ax(O,C);return L.bind(Q=>z.bind(re=>Kg(O,Q,re)))},gd=Ja,Tx={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},S0=(g,h,y,C)=>no(g,D=>((O,L,z,Q)=>{const re=ke.fromTag("tr");for(let he=0;he<O;he++){const se=ke.fromTag(Q<L||he<z?"th":"td");he<z&&Hn(se,"scope","row"),Q<L&&Hn(se,"scope","col"),Ee(se,ke.fromTag("br")),Ee(re,se)}return re})(h,y,C,D)),tl=g=>{let h=[];return{bind:y=>{if(y===void 0)throw new Error("Event bind error: undefined handler");h.push(y)},unbind:y=>{h=Fn(h,C=>C!==y)},trigger:(...y)=>{const C={};To(g,(D,O)=>{C[D]=y[O]}),To(h,D=>{D(C)})}}},nu=g=>({registry:ci(g,h=>({bind:h.bind,unbind:h.unbind})),trigger:ci(g,h=>h.trigger)}),Zu=Un(["compare","extract","mutate","sink"]),Dx=Un(["element","start","stop","destroy"]),Ox=Un(["forceDrop","drop","move","delayDrop"]),Oh=()=>{const g=(()=>{const C=nu({move:tl(["info"])});return{onEvent:Ae,reset:Ae,events:C.registry}})(),h=(()=>{let C=ue.none();const D=nu({move:tl(["info"])});return{onEvent:(O,L)=>{L.extract(O).each(z=>{((re,he)=>{const se=C.map(me=>re.compare(me,he));return C=ue.some(he),se})(L,z).each(re=>{D.trigger.move(re)})})},reset:()=>{C=ue.none()},events:D.registry}})();let y=g;return{on:()=>{y.reset(),y=h},off:()=>{y.reset(),y=g},isOn:()=>y===h,onEvent:(C,D)=>{y.onEvent(C,D)},events:h.events}},Rx=Rs("ephox-dragster").resolve;var by=Zu({compare:(g,h)=>mi(h.left-g.left,h.top-g.top),extract:g=>ue.some(mi(g.x,g.y)),sink:(g,h)=>{const y=(z=>{const Q={layerClass:Rx("blocker"),...z},re=ke.fromTag("div");return Hn(re,"role","presentation"),ih(re,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),nd(re,Rx("blocker")),nd(re,Q.layerClass),{element:nt(re),destroy:()=>{_a(re)}}})(h),C=jn(y.element(),"mousedown",g.forceDrop),D=jn(y.element(),"mouseup",g.drop),O=jn(y.element(),"mousemove",g.move),L=jn(y.element(),"mouseout",g.delayDrop);return Dx({element:y.element,start:z=>{Ee(z,y.element())},stop:()=>{_a(y.element())},destroy:()=>{y.destroy(),D.unbind(),O.unbind(),L.unbind(),C.unbind()}})},mutate:(g,h)=>{g.mutate(h.left,h.top)}});const fd=Rs("ephox-snooker").resolve,Fr=fd("resizer-bar"),op=fd("resizer-rows"),np=fd("resizer-cols"),Yg=g=>{const h=sd(g.parent(),"."+Fr);To(h,_a)},Kl=(g,h,y)=>{const C=g.origin();To(h,D=>{D.each(O=>{const L=y(C,O);nd(L,Fr),Ee(g.parent(),L)})})},sp=(g,h,y,C,D)=>{const O=ao(y),L=h.isResizable,z=C.length>0?gl.positions(C,y):[],Q=z.length>0?((se,me)=>we(se.all,(le,Ce)=>me(le.element)?[Ce]:[]))(g,L):[];((se,me,le,Ce)=>{Kl(se,me,(_e,Je)=>{const tt=((gt,bt,xt,St)=>{const Dt=ke.fromTag("div");return ih(Dt,{position:"absolute",left:bt+"px",top:xt-3.5+"px",height:"7px",width:St+"px"}),ga(Dt,{"data-mce-bogus":"all","data-row":gt,role:"presentation"}),Dt})(Je.row,le.left-_e.left,Je.y-_e.top,Ce);return nd(tt,op),tt})})(h,Fn(z,(se,me)=>ze(Q,le=>me===le)),O,Yb(y));const re=D.length>0?Cm.positions(D,y):[],he=re.length>0?((se,me)=>{const le=[];return no(se.grid.columns,Ce=>{ln(se,Ce).map(_e=>_e.element).forall(me)&&le.push(Ce)}),Fn(le,Ce=>{const _e=t0(se,Je=>Je.column===Ce);return pt(_e,Je=>me(Je.element))})})(g,L):[];((se,me,le,Ce)=>{Kl(se,me,(_e,Je)=>{const tt=((gt,bt,xt,St,Dt)=>{const Yt=ke.fromTag("div");return ih(Yt,{position:"absolute",left:bt-3.5+"px",top:xt+"px",height:Dt+"px",width:"7px"}),ga(Yt,{"data-mce-bogus":"all","data-column":gt,role:"presentation"}),Yt})(Je.col,Je.x-_e.left,le.top-_e.top,0,Ce);return nd(tt,np),tt})})(h,Fn(re,(se,me)=>ze(he,le=>me===le)),O,od(y))},Rh=(g,h)=>{if(Yg(g),g.isResizable(h)){const y=Ja(h),C=Bu(y),D=wm(y);sp(y,g,h,C,D)}},Nh=(g,h)=>{const y=sd(g.parent(),"."+Fr);To(y,h)},$C=g=>{Nh(g,h=>{Ca(h,"display","none")})},Nx=g=>{Nh(g,h=>{Ca(h,"display","block")})},UC=fd("resizer-bar-dragging"),ZC=g=>{const h=(()=>{const se=nu({drag:tl(["xDelta","yDelta","target"])});let me=ue.none();const le=(()=>{const Ce=nu({drag:tl(["xDelta","yDelta"])});return{mutate:(_e,Je)=>{Ce.trigger.drag(_e,Je)},events:Ce.registry}})();return le.events.drag.bind(Ce=>{me.each(_e=>{se.trigger.drag(Ce.xDelta,Ce.yDelta,_e)})}),{assign:Ce=>{me=ue.some(Ce)},get:()=>me,mutate:le.mutate,events:se.registry}})(),y=((se,me={})=>{var le;return((Ce,_e,Je)=>{let tt=!1;const gt=nu({start:tl([]),stop:tl([])}),bt=Oh(),xt=()=>{Yt.stop(),bt.isOn()&&(bt.off(),gt.trigger.stop())},St=(go=>{let zo=null;const Oo=()=>{Pe(zo)||(clearTimeout(zo),zo=null)};return{cancel:Oo,throttle:(...Zo)=>{Oo(),zo=setTimeout(()=>{zo=null,go.apply(null,Zo)},200)}}})(xt);bt.events.move.bind(go=>{_e.mutate(Ce,go.info)});const Dt=go=>(...zo)=>{tt&&go.apply(null,zo)},Yt=_e.sink(Ox({forceDrop:xt,drop:Dt(xt),move:Dt(go=>{St.cancel(),bt.onEvent(go,_e)}),delayDrop:Dt(St.throttle)}),Je);return{element:Yt.element,go:go=>{Yt.start(go),bt.on(),gt.trigger.start()},on:()=>{tt=!0},off:()=>{tt=!1},isActive:()=>tt,destroy:()=>{Yt.destroy()},events:gt.registry}})(se,(le=me.mode)!==null&&le!==void 0?le:by,me)})(h,{});let C=ue.none();const D=(se,me)=>ue.from(wa(se,me));h.events.drag.bind(se=>{D(se.target,"data-row").each(me=>{const le=rd(se.target,"top");Ca(se.target,"top",le+se.yDelta+"px")}),D(se.target,"data-column").each(me=>{const le=rd(se.target,"left");Ca(se.target,"left",le+se.xDelta+"px")})});const O=(se,me)=>rd(se,me)-Qa(se,"data-initial-"+me,0);y.events.stop.bind(()=>{h.get().each(se=>{C.each(me=>{D(se,"data-row").each(le=>{const Ce=O(se,"top");rr(se,"data-initial-top"),he.trigger.adjustHeight(me,Ce,parseInt(le,10))}),D(se,"data-column").each(le=>{const Ce=O(se,"left");rr(se,"data-initial-left"),he.trigger.adjustWidth(me,Ce,parseInt(le,10))}),Rh(g,me)})})});const L=(se,me)=>{he.trigger.startAdjust(),h.assign(se),Hn(se,"data-initial-"+me,rd(se,me)),nd(se,UC),Ca(se,"opacity","0.2"),y.go(g.dragContainer())},z=jn(g.parent(),"mousedown",se=>{var me;me=se.target,ko(me,op)&&L(se.target,"top"),(le=>ko(le,np))(se.target)&&L(se.target,"left")}),Q=se=>es(se,g.view()),re=jn(g.view(),"mouseover",se=>{var me;(me=se.target,ar(me,"table",Q).filter(xm)).fold(()=>{ed(se.target)&&!(le=>ko(le,"ephox-snooker-resizer-bar")||ko(le,"ephox-dragster-blocker"))(se.target)&&Yg(g)},le=>{y.isActive()&&(C=ue.some(le),Rh(g,le))})}),he=nu({adjustHeight:tl(["table","delta","row"]),adjustWidth:tl(["table","delta","column"]),startAdjust:tl([])});return{destroy:()=>{z.unbind(),re.unbind(),y.destroy(),Yg(g)},refresh:se=>{Rh(g,se)},on:y.on,off:y.off,hideBars:ge($C,g),showBars:ge(Nx,g),events:he.registry}},su=g=>h=>h.options.get(g),Mx="100%",Xg=g=>{var h;const y=g.dom,C=(h=y.getParent(g.selection.getStart(),y.isBlock))!==null&&h!==void 0?h:g.getBody();return Xb(ke.fromDom(C))+"px"},E0=g=>ue.from(g.options.get("table_clone_elements")),ru=su("table_header_type"),Fm=su("table_column_resizing"),rp=g=>Fm(g)==="preservetable",Js=g=>Fm(g)==="resizetable",bl=su("table_sizing_mode"),si=g=>bl(g)==="relative",Qg=g=>bl(g)==="fixed",pd=g=>bl(g)==="responsive",qo=su("table_resize_bars"),Gt=su("table_style_by_css"),Mh=su("table_merge_content_on_paste"),Bx=g=>{const h=g.options,y=h.get("table_default_attributes");return h.isSet("table_default_attributes")?y:((C,D)=>pd(C)||Gt(C)?D:Qg(C)?{...D,width:Xg(C)}:{...D,width:Mx})(g,y)},Bh=su("table_use_colgroups"),Ph=g=>ke.fromDom(g.getBody()),Gn=g=>h=>es(h,Ph(g)),ju=g=>{rr(g,"data-mce-style");const h=y=>rr(y,"data-mce-style");To(Xr(g),h),To(Kf(g),h),To(Yd(g),h)},A0=g=>ke.fromDom(g.selection.getStart()),Ke=g=>g.getBoundingClientRect().width,T0=g=>g.getBoundingClientRect().height,ap=g=>(h,y)=>{const C=h.dom.getStyle(y,g)||h.dom.getAttrib(y,g);return ue.from(C).filter(zs)},ip=ap("width"),Jg=ap("height"),hd=g=>Rg(g,ma("table")).exists(xm),Px=g=>Ng(g,"table"),Wu=(g,h,y)=>{const C=D=>O=>y!==void 0&&y(O)||es(O,D);return es(g,h)?ue.some({boxes:ue.some([g]),start:g,finish:h}):Px(g).bind(D=>Px(h).bind(O=>{if(es(D,O))return ue.some({boxes:hy(D,g,h),start:g,finish:h});if($s(D,O)){const L=ir(h,"td,th",C(D)),z=L.length>0?L[L.length-1]:h;return ue.some({boxes:k0(D,g,D,h,O),start:g,finish:z})}if($s(O,D)){const L=ir(g,"td,th",C(O)),z=L.length>0?L[L.length-1]:g;return ue.some({boxes:k0(O,g,D,h,O),start:g,finish:z})}return((L,z)=>((Q,re,he,se=oe)=>{const me=[re].concat(Q.up().all(re)),le=[he].concat(Q.up().all(he)),Ce=gt=>Ei(gt,se).fold(()=>gt,bt=>gt.slice(0,bt+1)),_e=Ce(me),Je=Ce(le),tt=vn(_e,gt=>ze(Je,((bt,xt)=>ge(bt.eq,xt))(Q,gt)));return{firstpath:_e,secondpath:Je,shared:tt}})(d0,L,z,void 0))(g,h).shared.bind(L=>ar(L,"table",y).bind(z=>{const Q=ir(h,"td,th",C(z)),re=Q.length>0?Q[Q.length-1]:h,he=ir(g,"td,th",C(z)),se=he.length>0?he[he.length-1]:g;return ue.some({boxes:k0(z,g,D,h,O),start:se,finish:re})}))}))},as=(g,h)=>{const y=sd(g,h);return y.length>0?ue.some(y):ue.none()},Tc=(g,h,y)=>at(g,h).bind(C=>at(g,y).bind(D=>yh(Px,[C,D]).map(O=>({first:C,last:D,table:O})))),Ix=(g,h,y,C,D)=>((O,L)=>vn(O,z=>Ur(z,L)))(g,D).bind(O=>((L,z,Q)=>Qr(L).bind(re=>((he,se,me,le)=>Qd(he,se,es).bind(Ce=>{const _e=me>0?Ce.row+Ce.rowspan-1:Ce.row,Je=le>0?Ce.column+Ce.colspan-1:Ce.column;return hc(he,_e+me,Je+le).map(tt=>tt.element)}))(gd(re),L,z,Q)))(O,h,y).bind(L=>((z,Q)=>Ng(z,"table").bind(re=>at(re,Q).bind(he=>Wu(he,z).bind(se=>se.boxes.map(me=>({boxes:me,start:se.start,finish:se.finish}))))))(L,C))),Dc=(g,h)=>as(g,h),bd=(g,h,y)=>Tc(g,h,y).bind(C=>{const D=Q=>es(g,Q),O="thead,tfoot,tbody,table",L=Ng(C.first,O,D),z=Ng(C.last,O,D);return L.bind(Q=>z.bind(re=>es(Q,re)?((he,se,me)=>((le,Ce,_e)=>Gg(le,Ce,_e).bind(Je=>((tt,gt)=>{let bt=!0;const xt=ge(Lr,gt);for(let St=gt.startRow;St<=gt.finishRow;St++)for(let Dt=gt.startCol;Dt<=gt.finishCol;Dt++)bt=bt&&hc(tt,St,Dt).exists(xt);return bt?ue.some(gt):ue.none()})(le,Je)))(gd(he),se,me))(C.table,C.first,C.last):ue.none()))}),D0=zt,Lx=g=>{const h=(y,C)=>Wi(y,C).exists(D=>parseInt(D,10)>1);return g.length>0&&pt(g,y=>h(y,"rowspan")||h(y,"colspan"))?ue.some(g):ue.none()},Ih=(g,h,y)=>h.length<=1?ue.none():bd(g,y.firstSelectedSelector,y.lastSelectedSelector).map(C=>({bounds:C,cells:h})),ht=(g,h)=>({selection:g,kill:h}),Lh=()=>({tag:"none"}),pa=g=>({tag:"multiple",elements:g}),ef=g=>({tag:"single",element:g}),Fh=(g,h,y,C)=>({start:Bn.on(g,h),finish:Bn.on(y,C)}),xy=(g,h)=>{const y=Vs(g,h);return qd(ke.fromDom(y.startContainer),y.startOffset,ke.fromDom(y.endContainer),y.endOffset)},co=Fh,Fx=(g,h,y,C,D)=>es(y,C)?ue.none():Wu(y,C,h).bind(O=>{const L=O.boxes.getOr([]);return L.length>1?(D(g,L,O.start,O.finish),ue.some(ht(ue.some(co(y,0,y,mn(y))),!0))):ue.none()}),zm=Ze([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),vy=g=>ar(g,"tr"),xd={...zm,verify:(g,h,y,C,D,O,L)=>ar(C,"td,th",L).bind(z=>ar(h,"td,th",L).map(Q=>es(z,Q)?es(C,z)&&mn(z)===D?O(Q):zm.none("in same cell"):yh(vy,[z,Q]).fold(()=>((re,he,se)=>{const me=re.getRect(he),le=re.getRect(se);return le.right>me.left&&le.left<me.right})(g,Q,z)?zm.success():O(Q),re=>O(Q)))).getOr(zm.none("default")),cata:(g,h,y,C,D)=>g.fold(h,y,C,D)},ho=ma("br"),zx=(g,h,y)=>h(g,y).bind(C=>Di(C)&&Kr(C).trim().length===0?zx(C,h,y):ue.some(C)),au=(g,h,y,C)=>((D,O)=>$(D,O).filter(ho).orThunk(()=>$(D,O-1).filter(ho)))(h,y).bind(D=>C.traverse(D).fold(()=>zx(D,C.gather,g).map(C.relative),O=>(L=>cl(L).bind(z=>{const Q=Ya(z);return((re,he)=>Ei(re,ge(es,he)))(Q,L).map(re=>((he,se,me,le)=>({parent:he,children:se,element:me,index:le}))(z,Q,L,re))}))(O).map(L=>Bn.on(L.parent,L.index)))),Yl=(g,h)=>({left:g.left,top:g.top+h,right:g.right,bottom:g.bottom+h}),On=(g,h)=>({left:g.left,top:g.top-h,right:g.right,bottom:g.bottom-h}),Hi=(g,h,y)=>({left:g.left+h,top:g.top+y,right:g.right+h,bottom:g.bottom+y}),tf=g=>({left:g.left,top:g.top,right:g.right,bottom:g.bottom}),lp=(g,h)=>ue.some(g.getRect(h)),Hm=(g,h,y)=>Ti(h)?lp(g,h).map(tf):Di(h)?((C,D,O)=>O>=0&&O<mn(D)?C.getRangedRect(D,O,D,O+1):O>0?C.getRangedRect(D,O-1,D,O):ue.none())(g,h,y).map(tf):ue.none(),Vm=(g,h)=>Ti(h)?lp(g,h).map(tf):Di(h)?g.getRangedRect(h,0,h,mn(h)).map(tf):ue.none(),Ha=Ze([{none:[]},{retry:["caret"]}]),iu=(g,h,y)=>Rg(h,m0).fold(oe,C=>Vm(g,C).exists(D=>((O,L)=>O.left<L.left||Math.abs(L.right-O.left)<1||O.left>L.right)(y,D))),$m={point:g=>g.bottom,adjuster:(g,h,y,C,D)=>{const O=Yl(D,5);return Math.abs(y.bottom-C.bottom)<1||y.top>D.bottom?Ha.retry(O):y.top===D.bottom?Ha.retry(Yl(D,1)):iu(g,h,D)?Ha.retry(Hi(O,5,0)):Ha.none()},move:Yl,gather:tu},zh=(g,h,y,C,D)=>D===0?ue.some(C):((O,L,z)=>O.elementFromPoint(L,z).filter(Q=>xs(Q)==="table").isSome())(g,C.left,h.point(C))?((O,L,z,Q,re)=>zh(O,L,z,L.move(Q,5),re))(g,h,y,C,D-1):g.situsFromPoint(C.left,h.point(C)).bind(O=>O.start.fold(ue.none,L=>Vm(g,L).bind(z=>h.adjuster(g,L,z,y,C).fold(ue.none,Q=>zh(g,h,y,Q,D-1))).orThunk(()=>ue.some(C)),ue.none)),cp=(g,h,y)=>{const C=g.move(y,5),D=zh(h,g,y,C,100).getOr(C);return((O,L,z)=>O.point(L)>z.getInnerHeight()?ue.some(O.point(L)-z.getInnerHeight()):O.point(L)<0?ue.some(-O.point(L)):ue.none())(g,D,h).fold(()=>h.situsFromPoint(D.left,g.point(D)),O=>(h.scrollBy(0,O),h.situsFromPoint(D.left,g.point(D)-O)))},Hh={tryUp:ge(cp,{point:g=>g.top,adjuster:(g,h,y,C,D)=>{const O=On(D,5);return Math.abs(y.top-C.top)<1||y.bottom<D.top?Ha.retry(O):y.bottom===D.top?Ha.retry(On(D,1)):iu(g,h,D)?Ha.retry(Hi(O,5,0)):Ha.none()},move:On,gather:_c}),tryDown:ge(cp,$m),getJumpSize:nt(5)},yy=(g,h,y)=>g.getSelection().bind(C=>((D,O,L,z)=>(ho(O)?((re,he,se)=>se.traverse(he).orThunk(()=>zx(he,se.gather,re)).map(se.relative))(D,O,z):au(D,O,L,z)).map(re=>({start:re,finish:re})))(h,C.finish,C.foffset,y).fold(()=>ue.some(pi(C.finish,C.foffset)),D=>{const O=g.fromSitus(D);return L=xd.verify(g,C.finish,C.foffset,O.finish,O.foffset,y.failure,h),xd.cata(L,z=>ue.none(),()=>ue.none(),z=>ue.some(pi(z,0)),z=>ue.some(pi(z,mn(z))));var L})),wy=(g,h,y,C,D,O)=>O===0?ue.none():dp(g,h,y,C,D).bind(L=>{const z=g.fromSitus(L),Q=xd.verify(g,y,C,z.finish,z.foffset,D.failure,h);return xd.cata(Q,()=>ue.none(),()=>ue.some(L),re=>es(y,re)&&C===0?hn(g,y,C,On,D):wy(g,h,re,0,D,O-1),re=>es(y,re)&&C===mn(re)?hn(g,y,C,Yl,D):wy(g,h,re,mn(re),D,O-1))}),hn=(g,h,y,C,D)=>Hm(g,h,y).bind(O=>vd(g,D,C(O,Hh.getJumpSize()))),vd=(g,h,y)=>{const C=Yc().browser;return C.isChromium()||C.isSafari()||C.isFirefox()?h.retry(g,y):ue.none()},dp=(g,h,y,C,D)=>Hm(g,y,C).bind(O=>vd(g,D,O)),jC=(g,h,y,C,D)=>ar(C,"td,th",h).bind(O=>ar(O,"table",h).bind(L=>((z,Q)=>bm(z,re=>cl(re).exists(he=>es(he,Q)),void 0).isSome())(D,L)?((z,Q,re)=>yy(z,Q,re).bind(he=>wy(z,Q,he.element,he.offset,re,20).map(z.fromSitus)))(g,h,y).bind(z=>ar(z.finish,"td,th",h).map(Q=>({start:O,finish:Q,range:z}))):ue.none())),Vh=(g,h,y,C,D,O)=>O(C,h).orThunk(()=>jC(g,h,y,C,D).map(L=>{const z=L.range;return ht(ue.some(co(z.start,z.soffset,z.finish,z.foffset)),!0)})),wn=(g,h)=>ar(g,"tr",h).bind(y=>ar(y,"table",h).bind(C=>{const D=sd(C,"tr");return es(y,D[0])?((O,L,z)=>oy(Wl,O,Q=>Or(Q).isSome(),z))(C,0,h).map(O=>{const L=mn(O);return ht(ue.some(co(O,L,O,L)),!0)}):ue.none()})),Oc=(g,h)=>ar(g,"tr",h).bind(y=>ar(y,"table",h).bind(C=>{const D=sd(C,"tr");return es(y,D[D.length-1])?((O,L,z)=>c0(Wl,O,Q=>Mg(Q).isSome(),z))(C,0,h).map(O=>ht(ue.some(co(O,0,O,0)),!0)):ue.none()})),qr=(g,h,y,C,D,O,L)=>jC(g,y,C,D,O).bind(z=>Fx(h,y,z.start,z.finish,L)),Um=(g,h)=>ar(g,"td,th",h),Zm=g=>pm(g).exists(xm),jm={traverse:Qc,gather:tu,relative:Bn.before,retry:Hh.tryDown,failure:xd.failedDown},of={traverse:Dg,gather:_c,relative:Bn.before,retry:Hh.tryUp,failure:xd.failedUp},yd=g=>h=>h===g,nf=yd(38),$h=yd(40),gn=g=>g>=37&&g<=40,_y={isBackward:yd(37),isForward:yd(39)},O0={isBackward:yd(39),isForward:yd(37)},R0=g=>({elementFromPoint:(h,y)=>ke.fromPoint(ke.fromDom(g.document),h,y),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,y,C,D)=>{const O=Pg.exact(h,y,C,D);return((L,z)=>(Q=>{const re=Q.getClientRects(),he=re.length>0?re[0]:Q.getBoundingClientRect();return he.width>0||he.height>0?ue.some(he).map(Rl):ue.none()})(Vs(L,z)))(g,O)},getSelection:()=>lr(g).map(h=>xy(g,h)),fromSitus:h=>{const y=Pg.relative(h.start,h.finish);return xy(g,y)},situsFromPoint:(h,y)=>Xa(g,h,y).map(C=>Fh(C.start,C.soffset,C.finish,C.foffset)),clearSelection:()=>{(h=>{Jo(h).each(y=>y.removeAllRanges())})(g)},collapseSelection:(h=!1)=>{lr(g).each(y=>y.fold(C=>C.collapse(h),(C,D)=>{const O=h?C:D;tx(g,O,O)},(C,D,O,L)=>{const z=h?C:O,Q=h?D:L;Fo(g,z,Q,z,Q)}))},setSelection:h=>{Fo(g,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,y)=>{tx(g,h,y)},selectNode:h=>{Kd(g,h,!1)},selectContents:h=>{Kd(g,h)},getInnerHeight:()=>g.innerHeight,getScrollY:()=>(h=>{const y=h!==void 0?h.dom:document,C=y.body.scrollLeft||y.documentElement.scrollLeft,D=y.body.scrollTop||y.documentElement.scrollTop;return mi(C,D)})(ke.fromDom(g.document)).top,scrollBy:(h,y)=>{((C,D,O)=>{const L=(O!==void 0?O.dom:document).defaultView;L&&L.scrollBy(C,D)})(h,y,ke.fromDom(g.document))}}),Xl=(g,h)=>({rows:g,cols:h}),Hx=g=>Rg(g,Ls).exists(xm),Vx=(g,h)=>Hx(g)||Hx(h),N0="data-mce-selected",qu="data-mce-first-selected",Ql="data-mce-last-selected",up="["+N0+"]",sf={selected:N0,selectedSelector:"td["+N0+"],th["+N0+"]",firstSelected:qu,firstSelectedSelector:"td["+qu+"],th["+qu+"]",lastSelected:Ql,lastSelectedSelector:"td["+Ql+"],th["+Ql+"]"},Uh=(g,h,y)=>({element:y,mergable:Ih(h,g,sf),unmergable:Lx(g),selection:D0(g)}),Cy=g=>(h,y)=>{const C=xs(h),D=C==="col"||C==="colgroup"?Qr(O=h).bind(L=>Dc(L,sf.firstSelectedSelector)).fold(nt(O),L=>L[0]):h;var O;return ar(D,g,y)},ky=Cy("th,td,caption"),$x=Cy("th,td"),Vi=g=>{return h=g.model.table.getSelectedCells(),E(h,ke.fromDom);var h},Ux=(g,h)=>{g.on("BeforeGetContent",y=>{const C=D=>{y.preventDefault(),(O=>Qr(O[0]).map(L=>{const z=((Q,re)=>{const he=bt=>Ur(bt.element,re),se=Gr(Q),me=X1(se),le=cd(Q),Ce=Lg(me),_e=((bt,xt)=>{const St=bt.grid.columns;let Dt=bt.grid.rows,Yt=St,go=0,zo=0;const Oo=[],Zo=[];return Io(bt.access,No=>{if(Oo.push(No),xt(No)){Zo.push(No);const Kn=No.row,xr=Kn+No.rowspan-1,Ra=No.column,na=Ra+No.colspan-1;Kn<Dt?Dt=Kn:xr>go&&(go=xr),Ra<Yt?Yt=Ra:na>zo&&(zo=na)}}),((No,Kn,xr,Ra,na,vl)=>({minRow:No,minCol:Kn,maxRow:xr,maxCol:Ra,allCells:na,selectedCells:vl}))(Dt,Yt,go,zo,Oo,Zo)})(Ce,he),Je="th:not("+re+"),td:not("+re+")",tt=cr(se,"th,td",bt=>Ur(bt,Je));To(tt,_a),((bt,xt,St,Dt)=>{const Yt=Fn(bt,Oo=>Oo.section!=="colgroup"),go=xt.grid.columns,zo=xt.grid.rows;for(let Oo=0;Oo<zo;Oo++){let Zo=!1;for(let No=0;No<go;No++)Oo<St.minRow||Oo>St.maxRow||No<St.minCol||No>St.maxCol||(hc(xt,Oo,No).filter(Dt).isNone()?Hg(Yt,Zo,Oo):Zo=!0)}})(me,Ce,_e,he);const gt=((bt,xt,St,Dt)=>{if(Dt.minCol===0&&xt.grid.columns===Dt.maxCol+1)return 0;const Yt=Iu(xt,bt,St),go=dt(Yt,(Zo,No)=>Zo+No,0),zo=dt(Yt.slice(Dt.minCol,Dt.maxCol+1),(Zo,No)=>Zo+No,0),Oo=zo/go*St.pixelWidth()-St.pixelWidth();return St.getCellDelta(Oo)})(Q,Ja(Q),le,_e);return((bt,xt,St,Dt)=>{Io(St.columns,go=>{(go.column<xt.minCol||go.column>xt.maxCol)&&_a(go.element)});const Yt=Fn(en(bt,"tr"),go=>go.dom.childElementCount===0);To(Yt,_a),xt.minCol!==xt.maxCol&&xt.minRow!==xt.maxRow||To(en(bt,"th,td"),go=>{rr(go,"rowspan"),rr(go,"colspan")}),rr(bt,Q1),rr(bt,"data-snooker-col-series"),cd(bt).adjustTableWidth(Dt)})(se,_e,Ce,gt),se})(L,up);return ju(z),[z]}))(D).each(O=>{const L=y.format==="text"?((z,Q)=>{const re=z.getDoc(),he=ve(ke.fromDom(z.getBody())),se=ke.fromTag("div",re);Hn(se,"data-mce-bogus","all"),ih(se,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const me=(Ce=>ae(Ce)?Ce:ke.fromDom(Ud(Ce).dom.body))(he);ts(se,Q),Ee(me,se);const le=se.dom.innerText;return _a(se),le})(g,O):((z,Q)=>E(Q,re=>z.selection.serializer.serialize(re.dom,{})).join(""))(g,O);y.content=L})};if(y.selection===!0){const D=(O=>Fn(Vi(O),L=>Ur(L,sf.selectedSelector)))(g);D.length>=1&&C(D)}}),g.on("BeforeSetContent",y=>{if(y.selection===!0&&y.paste===!0){const C=Vi(g);_o(C).each(D=>{Qr(D).each(O=>{const L=Fn((Q=>{const re=document.createElement("div");return re.innerHTML=Q,Ya(ke.fromDom(re))})(y.content),Q=>xs(Q)!=="meta"),z=ma("table");if(Mh(g)&&L.length===1&&z(L[0])){y.preventDefault();const Q=ke.fromDom(g.getDoc()),re=jt(Q),he=((se,me,le)=>({element:se,clipboard:me,generators:le}))(D,L[0],re);h.pasteCells(O,he).each(()=>{g.focus()})}})})}})},wd=(g,h)=>g.dispatch("NewRow",{node:h}),Zh=(g,h)=>g.dispatch("NewCell",{node:h}),lu=(g,h,y)=>{g.dispatch("TableModified",{...y,table:h})},cu={structure:!1,style:!0},oa={structure:!0,style:!1},Wm={structure:!0,style:!0},mp=(g,h)=>si(g)?Pi(h):Qg(g)?ct(h):cd(h),Sy=(g,h,y)=>{const C=he=>xs(Ph(he))==="table",D=E0(g),O=Js(g)?Ae:rs,L=he=>{switch(ru(g)){case"section":return jr();case"sectionCells":return Ki();case"cells":return Ys();default:return((se,me)=>{var le;switch((le=Ja(se),I(le.all,Ce=>{const _e=sx(Ce);return _e.type==="header"?ue.from(_e.subType):ue.none()})).getOr(me)){case"section":return gh();case"sectionCells":return Zs();case"cells":return o0()}})(he,"section")}},z=(he,se,me,le)=>(Ce,_e,Je=!1)=>{ju(Ce);const tt=ke.fromDom(g.getDoc()),gt=kc(me,tt,D),bt={sizing:mp(g,Ce),resize:Js(g)?Gi():ym(),section:L(Ce)};return se(Ce)?he(Ce,_e,gt,bt).bind(xt=>{h.refresh(Ce.dom),To(xt.newRows,Dt=>{wd(g,Dt.dom)}),To(xt.newCells,Dt=>{Zh(g,Dt.dom)});const St=((Dt,Yt)=>Yt.cursor.fold(()=>{const go=Xr(Dt);return _o(go).filter(ed).map(zo=>{y.clearSelectedCells(Dt.dom);const Oo=g.dom.createRng();return Oo.selectNode(zo.dom),g.selection.setRng(Oo),Hn(zo,"data-mce-selected","1"),Oo})},go=>{const zo=dx(l0,go),Oo=g.dom.createRng();return Oo.setStart(zo.element.dom,zo.offset),Oo.setEnd(zo.element.dom,zo.offset),g.selection.setRng(Oo),y.clearSelectedCells(Dt.dom),ue.some(Oo)}))(Ce,xt);return ed(Ce)&&(ju(Ce),Je||lu(g,Ce.dom,le)),St.map(Dt=>({rng:Dt,effect:le}))}):ue.none()},Q=z(wx,he=>!C(g)||Mo(he).rows>1,Ae,oa),re=z(Uu,he=>!C(g)||Mo(he).columns>1,Ae,oa);return{deleteRow:Q,deleteColumn:re,insertRowsBefore:z(_0,yt,Ae,oa),insertRowsAfter:z(ta,yt,Ae,oa),insertColumnsBefore:z(ou,yt,O,oa),insertColumnsAfter:z(tp,yt,O,oa),mergeCells:z(kx,yt,Ae,oa),unmergeCells:z(VC,yt,Ae,oa),pasteColsBefore:z(Ex,yt,Ae,oa),pasteColsAfter:z(C0,yt,Ae,oa),pasteRowsBefore:z(py,yt,Ae,oa),pasteRowsAfter:z(br,yt,Ae,oa),pasteCells:z(Sx,yt,Ae,Wm),makeCellsHeader:z(Ta,yt,Ae,oa),unmakeCellsHeader:z(Lm,yt,Ae,oa),makeColumnsHeader:z(Dh,yt,Ae,oa),unmakeColumnsHeader:z(gy,yt,Ae,oa),makeRowsHeader:z(_x,yt,Ae,oa),makeRowsBody:z(fy,yt,Ae,oa),makeRowsFooter:z(Cx,yt,Ae,oa),getTableRowType:Oa,getTableCellType:Da,getTableColType:Pr}},Ey=(g,h)=>{g.selection.select(h.dom,!0),g.selection.collapse(!0)},rf=(g,h,y,C,D)=>{const O=(z=>{const Q=z.options,re=Q.get("table_default_styles");return Q.isSet("table_default_styles")?re:((he,se)=>pd(he)||!Gt(he)?se:Qg(he)?{...se,width:Xg(he)}:{...se,width:Mx})(z,re)})(g),L={styles:O,attributes:Bx(g),colGroups:Bh(g)};return g.undoManager.ignore(()=>{const z=((re,he,se,me,le,Ce=Tx)=>{const _e=ke.fromTag("table"),Je=le!=="cells";ih(_e,Ce.styles),ga(_e,Ce.attributes),Ce.colGroups&&Ee(_e,(xt=>{const St=ke.fromTag("colgroup");return no(xt,()=>Ee(St,ke.fromTag("col"))),St})(he));const tt=Math.min(re,se);if(Je&&se>0){const xt=ke.fromTag("thead");Ee(_e,xt);const St=S0(se,he,le==="sectionCells"?tt:0,me);ts(xt,St)}const gt=ke.fromTag("tbody");Ee(_e,gt);const bt=S0(Je?re-tt:re,he,Je?0:se,me);return ts(gt,bt),_e})(y,h,D,C,ru(g),L);Hn(z,"data-mce-id","__mce");const Q=(re=>{const he=ke.fromTag("div"),se=ke.fromDom(re.dom.cloneNode(!0));return Ee(he,se),(me=>me.dom.innerHTML)(he)})(z);g.insertContent(Q),g.addVisual()}),at(Ph(g),'table[data-mce-id="__mce"]').map(z=>(Qg(g)?Qs(z):pd(g)?sy(z):(si(g)||(Q=>Ye(Q)&&Q.indexOf("%")!==-1)(O.width))&&Cc(z),ju(z),rr(z,"data-mce-id"),((Q,re)=>{To(sd(re,"tr"),he=>{wd(Q,he.dom),To(sd(he,"th,td"),se=>{Zh(Q,se.dom)})})})(g,z),((Q,re)=>{at(re,"td,th").each(ge(Ey,Q))})(g,z),z.dom)).getOrNull()};var Rc=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Ay="x-tinymce/dom-table-",zr=Ay+"rows",Gu=Ay+"columns",$i=g=>{const h=Rc.FakeClipboardItem(g);Rc.write([h])},M0=g=>{var h;const y=(h=Rc.read())!==null&&h!==void 0?h:[];return I(y,C=>ue.from(C.getType(g)))},Zx=g=>{M0(g).isSome()&&Rc.clear()},af=g=>{g.fold(qm,h=>$i({[zr]:h}))},lf=()=>M0(zr),qm=()=>Zx(zr),xl=g=>{g.fold(Ty,h=>$i({[Gu]:h}))},jx=()=>M0(Gu),Ty=()=>Zx(Gu),gp=g=>ky(A0(g),Gn(g)).filter(hd),fp=(g,h)=>{const y=Gn(g),C=se=>Qr(se,y),D=se=>(me=>$x(A0(me),Gn(me)).filter(hd))(g).bind(me=>C(me).map(le=>se(le,me))),O=se=>{g.focus()},L=(se,me=!1)=>D((le,Ce)=>{const _e=Uh(Vi(g),le,Ce);se(le,_e,me).each(O)}),z=()=>D((se,me)=>((le,Ce,_e)=>{const Je=Ja(le);return Br(Je,Ce).bind(tt=>{const gt=Ii(Je,_e,!1),bt=Cs(gt).rows.slice(tt[0].row,tt[tt.length-1].row+tt[tt.length-1].rowspan),xt=we(bt,Dt=>{const Yt=Fn(Dt.cells,go=>!go.isLocked);return Yt.length>0?[{...Dt,cells:Yt}]:[]}),St=oi(xt);return sr(St.length>0,St)}).map(tt=>E(tt,gt=>{const bt=Wf(gt.element);return To(gt.cells,xt=>{const St=Gr(xt.element);Tm(St,"colspan",xt.colspan,1),Tm(St,"rowspan",xt.rowspan,1),Ee(bt,St)}),bt}))})(se,Uh(Vi(g),se,me),kc(Ae,ke.fromDom(g.getDoc()),ue.none()))),Q=()=>D((se,me)=>((le,Ce)=>{const _e=Ja(le);return Dm(_e,Ce).map(Je=>{const tt=Je[Je.length-1],gt=Je[0].column,bt=tt.column+tt.colspan,xt=((Dt,Yt,go)=>{if(bc(Dt)){const zo=Fn(Hl(Dt),r0(Yt,go)),Oo=E(zo,No=>{const Kn=Gr(No.element);return Lu(Kn,"span",go-Yt),Kn}),Zo=ke.fromTag("colgroup");return ts(Zo,Oo),[Zo]}return[]})(_e,gt,bt),St=((Dt,Yt,go)=>E(Dt.all,zo=>{const Oo=Fn(zo.cells,r0(Yt,go)),Zo=E(Oo,Kn=>{const xr=Gr(Kn.element);return Lu(xr,"colspan",go-Yt),xr}),No=ke.fromTag("tr");return ts(No,Zo),No}))(_e,gt,bt);return[...xt,...St]})})(se,Uh(Vi(g),se,me))),re=(se,me)=>me().each(le=>{const Ce=E(le,_e=>Gr(_e));D((_e,Je)=>{const tt=jt(ke.fromDom(g.getDoc())),gt=((bt,xt,St,Dt)=>({selection:D0(bt),clipboard:St,generators:Dt}))(Vi(g),0,Ce,tt);se(_e,gt).each(O)})}),he=se=>(me,le)=>((Ce,_e)=>Ro(Ce,_e)?ue.from(Ce[_e]):ue.none())(le,"type").each(Ce=>{L(se(Ce),le.no_events)});Io({mceTableSplitCells:()=>L(h.unmergeCells),mceTableMergeCells:()=>L(h.mergeCells),mceTableInsertRowBefore:()=>L(h.insertRowsBefore),mceTableInsertRowAfter:()=>L(h.insertRowsAfter),mceTableInsertColBefore:()=>L(h.insertColumnsBefore),mceTableInsertColAfter:()=>L(h.insertColumnsAfter),mceTableDeleteCol:()=>L(h.deleteColumn),mceTableDeleteRow:()=>L(h.deleteRow),mceTableCutCol:()=>Q().each(se=>{xl(se),L(h.deleteColumn)}),mceTableCutRow:()=>z().each(se=>{af(se),L(h.deleteRow)}),mceTableCopyCol:()=>Q().each(se=>xl(se)),mceTableCopyRow:()=>z().each(se=>af(se)),mceTablePasteColBefore:()=>re(h.pasteColsBefore,jx),mceTablePasteColAfter:()=>re(h.pasteColsAfter,jx),mceTablePasteRowBefore:()=>re(h.pasteRowsBefore,lf),mceTablePasteRowAfter:()=>re(h.pasteRowsAfter,lf),mceTableDelete:()=>gp(g).each(se=>{Qr(se,y).filter(Le(y)).each(me=>{const le=ke.fromText("");if(W(me,le),_a(me),g.dom.isEmpty(g.getBody()))g.setContent(""),g.selection.setCursorLocation();else{const Ce=g.dom.createRng();Ce.setStart(le.dom,0),Ce.setEnd(le.dom,0),g.selection.setRng(Ce),g.nodeChanged()}})}),mceTableCellToggleClass:(se,me)=>{D(le=>{const Ce=Vi(g),_e=pt(Ce,tt=>g.formatter.match("tablecellclass",{value:me},tt.dom)),Je=_e?g.formatter.remove:g.formatter.apply;To(Ce,tt=>Je("tablecellclass",{value:me},tt.dom)),lu(g,le.dom,cu)})},mceTableToggleClass:(se,me)=>{D(le=>{g.formatter.toggle("tableclass",{value:me},le.dom),lu(g,le.dom,cu)})},mceTableToggleCaption:()=>{gp(g).each(se=>{Qr(se,y).each(me=>{qf(me,"caption").fold(()=>{const le=ke.fromTag("caption");Ee(le,ke.fromText("Caption")),((Ce,_e)=>{$(Ce,0).fold(()=>{Ee(Ce,_e)},Je=>{B(Je,_e)})})(me,le),g.selection.setCursorLocation(le.dom,0)},le=>{ma("caption")(se)&&Nl("td",me).each(Ce=>g.selection.setCursorLocation(Ce.dom,0)),_a(le)}),lu(g,me.dom,oa)})})},mceTableSizingMode:(se,me)=>(le=>gp(g).each(Ce=>{pd(g)||Qg(g)||si(g)||Qr(Ce,y).each(_e=>{le!=="relative"||Nm(_e)?le!=="fixed"||J2(_e)?le!=="responsive"||Jf(_e)||sy(_e):Qs(_e):Cc(_e),ju(_e),lu(g,_e.dom,oa)})}))(me),mceTableCellType:he(se=>se==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:he(se=>se==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:he(se=>{switch(se){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(se,me)=>g.addCommand(me,se)),g.addCommand("mceInsertTable",(se,me)=>{((le,Ce,_e,Je={})=>{const tt=gt=>kt(gt)&&gt>0;if(tt(Ce)&&tt(_e)){const gt=Je.headerRows||0,bt=Je.headerColumns||0;return rf(le,_e,Ce,bt,gt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(g,me.rows,me.columns,me.options)}),g.addCommand("mceTableApplyCellStyle",(se,me)=>{const le=Je=>"tablecell"+Je.toLowerCase().replace("-","");if(!De(me))return;const Ce=Fn(Vi(g),hd);if(Ce.length===0)return;const _e=((Je,tt)=>{const gt={};return((bt,xt,St,Dt)=>{Io(bt,(Yt,go)=>{(xt(Yt,go)?St:Dt)(Yt,go)})})(Je,tt,(bt=>(xt,St)=>{bt[St]=xt})(gt),Ae),gt})(me,(Je,tt)=>g.formatter.has(le(tt))&&Ye(Je));(Je=>{for(const tt in Je)if(_s.call(Je,tt))return!1;return!0})(_e)||(Io(_e,(Je,tt)=>{const gt=le(tt);To(Ce,bt=>{Je===""?g.formatter.remove(gt,{value:null},bt.dom,!0):g.formatter.apply(gt,{value:Je},bt.dom)})}),C(Ce[0]).each(Je=>lu(g,Je.dom,cu)))})},Wx=g=>!ko(ke.fromDom(g.target),"ephox-snooker-resizer-bar"),pp=(g,h)=>{const y=(D=sf.selectedSelector,{get:()=>Dc(ke.fromDom(g.getBody()),D).fold(()=>$x(A0(g),Gn(g)).fold(Lh,ef),pa)}),C=((O,L,z)=>{const Q=me=>{rr(me,O.selected),rr(me,O.firstSelected),rr(me,O.lastSelected)},re=me=>{Hn(me,O.selected,"1")},he=me=>{se(me),z()},se=me=>{const le=sd(me,`${O.selectedSelector},${O.firstSelectedSelector},${O.lastSelectedSelector}`);To(le,Q)};return{clearBeforeUpdate:se,clear:he,selectRange:(me,le,Ce,_e)=>{he(me),To(le,re),Hn(Ce,O.firstSelected,"1"),Hn(_e,O.lastSelected,"1"),L(le,Ce,_e)},selectedSelector:O.selectedSelector,firstSelectedSelector:O.firstSelectedSelector,lastSelectedSelector:O.lastSelectedSelector}})(sf,(O,L,z)=>{Qr(L).each(Q=>{const re=E(O,le=>le.dom),he=E0(g),se=kc(Ae,ke.fromDom(g.getDoc()),he),me=((le,Ce,_e)=>{const Je=Ja(le);return Br(Je,Ce).map(tt=>{const gt=Ii(Je,_e,!1),{rows:bt}=Cs(gt),xt=((Dt,Yt)=>{const go=Dt.slice(0,Yt[Yt.length-1].row+1),zo=oi(go);return we(zo,Oo=>{const Zo=Oo.cells.slice(0,Yt[Yt.length-1].column+1);return E(Zo,No=>No.element)})})(bt,tt),St=((Dt,Yt)=>{const go=Dt.slice(Yt[0].row+Yt[0].rowspan-1,Dt.length),zo=oi(go);return we(zo,Oo=>{const Zo=Oo.cells.slice(Yt[0].column+Yt[0].colspan-1,Oo.cells.length);return E(Zo,No=>No.element)})})(bt,tt);return{upOrLeftCells:xt,downOrRightCells:St}})})(Q,{selection:Vi(g)},se).map(le=>ci(le,Ce=>E(Ce,_e=>_e.dom))).getOrUndefined();((le,Ce,_e,Je,tt)=>{le.dispatch("TableSelectionChange",{cells:Ce,start:_e,finish:Je,otherCells:tt})})(g,re,L.dom,z.dom,me)})},()=>(O=>{O.dispatch("TableSelectionClear")})(g));var D;return g.on("init",O=>{const L=g.getWin(),z=Ph(g),Q=Gn(g),re=((_e,Je,tt,gt)=>{const bt=((xt,St,Dt,Yt)=>{const go=da(),zo=go.clear,Oo=Zo=>{go.on(No=>{Yt.clearBeforeUpdate(St),Um(Zo.target,Dt).each(Kn=>{Wu(No,Kn,Dt).each(xr=>{const Ra=xr.boxes.getOr([]);if(Ra.length===1){const na=Ra[0],vl=Fa(na)==="false",qt=Wc(te(Zo.target),na,es);vl&&qt&&Yt.selectRange(St,Ra,na,na)}else Ra.length>1&&(Yt.selectRange(St,Ra,xr.start,xr.finish),xt.selectContents(Kn))})})})};return{clearstate:zo,mousedown:Zo=>{Yt.clear(St),Um(Zo.target,Dt).filter(Zm).each(go.set)},mouseover:Zo=>{Oo(Zo)},mouseup:Zo=>{Oo(Zo),zo()}}})(R0(_e),Je,tt,gt);return{clearstate:bt.clearstate,mousedown:bt.mousedown,mouseover:bt.mouseover,mouseup:bt.mouseup}})(L,z,Q,C),he=((_e,Je,tt,gt)=>{const bt=R0(_e),xt=()=>(gt.clear(Je),ue.none());return{keydown:(St,Dt,Yt,go,zo,Oo)=>{const Zo=St.raw,No=Zo.which,Kn=Zo.shiftKey===!0;return as(Je,gt.selectedSelector).fold(()=>(gn(No)&&!Kn&&gt.clearBeforeUpdate(Je),gn(No)&&Kn&&!Vx(Dt,go)?ue.none:$h(No)&&Kn?ge(qr,bt,Je,tt,jm,go,Dt,gt.selectRange):nf(No)&&Kn?ge(qr,bt,Je,tt,of,go,Dt,gt.selectRange):$h(No)?ge(Vh,bt,tt,jm,go,Dt,Oc):nf(No)?ge(Vh,bt,tt,of,go,Dt,wn):ue.none),Ra=>{const na=vl=>()=>I(vl,Va=>((Nc,Wh,_d,cf,Ku)=>Ix(cf,Nc,Wh,Ku.firstSelectedSelector,Ku.lastSelectedSelector).map(Cd=>(Ku.clearBeforeUpdate(_d),Ku.selectRange(_d,Cd.boxes,Cd.start,Cd.finish),Cd.boxes)))(Va.rows,Va.cols,Je,Ra,gt)).fold(()=>Tc(Je,gt.firstSelectedSelector,gt.lastSelectedSelector).map(Va=>{const Nc=$h(No)||Oo.isForward(No)?Bn.after:Bn.before;return bt.setRelativeSelection(Bn.on(Va.first,0),Nc(Va.table)),gt.clear(Je),ht(ue.none(),!0)}),Va=>ue.some(ht(ue.none(),!0)));return gn(No)&&Kn&&!Vx(Dt,go)?ue.none:$h(No)&&Kn?na([Xl(1,0)]):nf(No)&&Kn?na([Xl(-1,0)]):Oo.isBackward(No)&&Kn?na([Xl(0,-1),Xl(-1,0)]):Oo.isForward(No)&&Kn?na([Xl(0,1),Xl(1,0)]):gn(No)&&!Kn?xt:ue.none})()},keyup:(St,Dt,Yt,go,zo)=>as(Je,gt.selectedSelector).fold(()=>{const Oo=St.raw,Zo=Oo.which;return Oo.shiftKey===!0&&gn(Zo)&&Vx(Dt,go)?((No,Kn,xr,Ra,na,vl,qt)=>es(xr,na)&&Ra===vl?ue.none():ar(xr,"td,th",Kn).bind(Va=>ar(na,"td,th",Kn).bind(Nc=>Fx(No,Kn,Va,Nc,qt))))(Je,tt,Dt,Yt,go,zo,gt.selectRange):ue.none()},ue.none)}})(L,z,Q,C),se=((_e,Je,tt,gt)=>{const bt=R0(_e);return(xt,St)=>{gt.clearBeforeUpdate(Je),Wu(xt,St,tt).each(Dt=>{const Yt=Dt.boxes.getOr([]);gt.selectRange(Je,Yt,Dt.start,Dt.finish),bt.selectContents(St),bt.collapseSelection()})}})(L,z,Q,C);g.on("TableSelectorChange",_e=>se(_e.start,_e.finish));const me=(_e,Je)=>{(tt=>tt.raw.shiftKey===!0)(_e)&&(Je.kill&&_e.kill(),Je.selection.each(tt=>{const gt=Pg.relative(tt.start,tt.finish),bt=Vs(L,gt);g.selection.setRng(bt)}))},le=_e=>_e.button===0,Ce=(()=>{const _e=lt(ke.fromDom(z)),Je=lt(0);return{touchEnd:tt=>{const gt=ke.fromDom(tt.target);if(ma("td")(gt)||ma("th")(gt)){const bt=_e.get(),xt=Je.get();es(bt,gt)&&tt.timeStamp-xt<300&&(tt.preventDefault(),se(gt,gt))}_e.set(gt),Je.set(tt.timeStamp)}}})();g.on("dragstart",_e=>{re.clearstate()}),g.on("mousedown",_e=>{le(_e)&&Wx(_e)&&re.mousedown(Uo(_e))}),g.on("mouseover",_e=>{var Je;((Je=_e).buttons===void 0||1&Je.buttons)&&Wx(_e)&&re.mouseover(Uo(_e))}),g.on("mouseup",_e=>{le(_e)&&Wx(_e)&&re.mouseup(Uo(_e))}),g.on("touchend",Ce.touchEnd),g.on("keyup",_e=>{const Je=Uo(_e);if(Je.raw.shiftKey&&gn(Je.raw.which)){const tt=g.selection.getRng(),gt=ke.fromDom(tt.startContainer),bt=ke.fromDom(tt.endContainer);he.keyup(Je,gt,tt.startOffset,bt,tt.endOffset).each(xt=>{me(Je,xt)})}}),g.on("keydown",_e=>{const Je=Uo(_e);h.hide();const tt=g.selection.getRng(),gt=ke.fromDom(tt.startContainer),bt=ke.fromDom(tt.endContainer),xt=q1(_y,O0)(ke.fromDom(g.selection.getStart()));he.keydown(Je,gt,tt.startOffset,bt,tt.endOffset,xt).each(St=>{me(Je,St)}),h.show()}),g.on("NodeChange",()=>{const _e=g.selection,Je=ke.fromDom(_e.getStart()),tt=ke.fromDom(_e.getEnd());yh(Qr,[Je,tt]).fold(()=>C.clear(z),Ae)})}),g.on("PreInit",()=>{g.serializer.addTempAttr(sf.firstSelected),g.serializer.addTempAttr(sf.lastSelected)}),{getSelectedCells:()=>((O,L)=>{switch(O.tag){case"none":return L();case"single":return(z=>[z.dom])(O.element);case"multiple":return(z=>E(z,Q=>Q.dom))(O.elements)}})(y.get(),nt([])),clearSelectedCells:O=>C.clear(ke.fromDom(O))}},jh=g=>Ot(g)&&g.nodeName==="TABLE",B0="bar-",P0=g=>wa(g,"data-mce-resize")!=="false",qx=g=>{const h=da(),y=da(),C=da();let D,O,L,z;const Q=le=>mp(g,le),re=()=>rp(g)?ym():Gi(),he=(le,Ce,_e,Je)=>{const tt=(xt=>{return Qt(St=xt,"corner-")?(Dt=>Dt.substring(7))(St):St;var St})(Ce),gt=nn(tt,"e"),bt=Qt(tt,"n");if(O===""&&Cc(le),z===""&&(xt=>{const St=(Dt=>jd(Dt)+"px")(xt);Rm(xt,ue.none(),ue.some(St)),ql(xt)})(le),_e!==D&&O!==""){Ca(le,"width",O);const xt=re(),St=Q(le),Dt=rp(g)||gt?(Yt=>Mo(Yt).columns)(le)-1:0;Fi(le,_e-D,Dt,xt,St)}else if((xt=>/^(\d+(\.\d+)?)%$/.test(xt))(O)){const xt=parseFloat(O.replace("%",""));Ca(le,"width",_e*xt/D+"%")}if((xt=>/^(\d+(\.\d+)?)px$/.test(xt))(O)&&(xt=>{const St=Ja(xt);bc(St)||To(Xr(xt),Dt=>{const Yt=Ou(Dt,"width");Ca(Dt,"width",Yt),rr(Dt,"width")})})(le),Je!==L&&z!==""){Ca(le,"height",z);const xt=bt?0:(St=>Mo(St).rows)(le)-1;Sa(le,Je-L,xt)}};g.on("init",()=>{const le=((Ce,_e)=>((Je,tt)=>({parent:nt(Je),view:nt(Je),dragContainer:nt(Je),origin:()=>ao(Je),isResizable:tt}))(ke.fromDom(Ce.getBody()),_e))(g,P0);if(C.set(le),(Ce=>{const _e=Ce.options.get("object_resizing");return Yo(_e.split(","),"table")})(g)&&qo(g)){const Ce=((_e,Je,tt)=>{const gt=gl,bt=Cm,xt=ZC(_e),St=nu({beforeResize:tl(["table","type"]),afterResize:tl(["table","type"]),startDrag:tl([])});return xt.events.adjustHeight.bind(Dt=>{const Yt=Dt.table;St.trigger.beforeResize(Yt,"row");const go=gt.delta(Dt.delta,Yt);Sa(Yt,go,Dt.row),St.trigger.afterResize(Yt,"row")}),xt.events.startAdjust.bind(Dt=>{St.trigger.startDrag()}),xt.events.adjustWidth.bind(Dt=>{const Yt=Dt.table;St.trigger.beforeResize(Yt,"col");const go=bt.delta(Dt.delta,Yt),zo=tt(Yt);Fi(Yt,go,Dt.column,Je,zo),St.trigger.afterResize(Yt,"col")}),{on:xt.on,off:xt.off,refreshBars:xt.refresh,hideBars:xt.hideBars,showBars:xt.showBars,destroy:xt.destroy,events:St.registry}})(le,re(),Q);g.mode.isReadOnly()||Ce.on(),Ce.events.startDrag.bind(_e=>{h.set(g.selection.getRng())}),Ce.events.beforeResize.bind(_e=>{const Je=_e.table.dom;((tt,gt,bt,xt,St)=>{tt.dispatch("ObjectResizeStart",{target:gt,width:bt,height:xt,origin:St})})(g,Je,Ke(Je),T0(Je),B0+_e.type)}),Ce.events.afterResize.bind(_e=>{const Je=_e.table,tt=Je.dom;ju(Je),h.on(gt=>{g.selection.setRng(gt),g.focus()}),((gt,bt,xt,St,Dt)=>{gt.dispatch("ObjectResized",{target:bt,width:xt,height:St,origin:Dt})})(g,tt,Ke(tt),T0(tt),B0+_e.type),g.undoManager.add()}),y.set(Ce)}}),g.on("ObjectResizeStart",le=>{const Ce=le.target;if(jh(Ce)&&!g.mode.isReadOnly()){const _e=ke.fromDom(Ce);To(g.dom.select(".mce-clonedresizable"),Je=>{g.dom.addClass(Je,"mce-"+Fm(g)+"-columns")}),!J2(_e)&&Qg(g)?Qs(_e):!Nm(_e)&&si(g)&&Cc(_e),Jf(_e)&&Qt(le.origin,B0)&&Cc(_e),D=le.width,O=pd(g)?"":ip(g,Ce).getOr(""),L=le.height,z=Jg(g,Ce).getOr("")}}),g.on("ObjectResized",le=>{const Ce=le.target;if(jh(Ce)){const _e=ke.fromDom(Ce),Je=le.origin;(tt=>Qt(tt,"corner-"))(Je)&&he(_e,Je,le.width,le.height),ju(_e),lu(g,_e.dom,cu)}});const se=()=>{y.on(le=>{le.on(),le.showBars()})},me=()=>{y.on(le=>{le.off(),le.hideBars()})};return g.on("DisabledStateChange",le=>{le.state?me():se()}),g.on("SwitchMode",()=>{g.mode.isReadOnly()?me():se()}),g.on("dragstart dragend",le=>{le.type==="dragstart"?me():se()}),g.on("remove",()=>{y.on(le=>{le.destroy()})}),{refresh:le=>{y.on(Ce=>Ce.refreshBars(ke.fromDom(le)))},hide:()=>{y.on(le=>le.hideBars())},show:()=>{y.on(le=>le.showBars())}}},hp=g=>{(D=>{const O=D.options.register;O("table_clone_elements",{processor:"string[]"}),O("table_use_colgroups",{processor:"boolean",default:!0}),O("table_header_type",{processor:L=>{const z=Yo(["section","cells","sectionCells","auto"],L);return z?{value:L,valid:z}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),O("table_sizing_mode",{processor:"string",default:"auto"}),O("table_default_attributes",{processor:"object",default:{border:"1"}}),O("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),O("table_column_resizing",{processor:L=>{const z=Yo(["preservetable","resizetable"],L);return z?{value:L,valid:z}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),O("table_resize_bars",{processor:"boolean",default:!0}),O("table_style_by_css",{processor:"boolean",default:!0}),O("table_merge_content_on_paste",{processor:"boolean",default:!0})})(g);const h=qx(g),y=pp(g,h),C=Sy(g,h,y);return fp(g,C),((D,O)=>{const L=Gn(D),z=Q=>$x(A0(D)).bind(re=>Qr(re,L).map(he=>{const se=Uh(Vi(D),he,re);return Q(he,se)})).getOr("");Io({mceTableRowType:()=>z(O.getTableRowType),mceTableCellType:()=>z(O.getTableCellType),mceTableColType:()=>z(O.getTableColType)},(Q,re)=>D.addQueryValueHandler(re,Q))})(g,C),Ux(g,C),{getSelectedCells:y.getSelectedCells,clearSelectedCells:y.clearSelectedCells}};ne.add("dom",g=>({table:hp(g)}))})();tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;cursor:auto;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox{color:var(--tox-private-color-black,#222f3e);font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--tox-private-font-size-base, 16px)}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);z-index:var(--tox-private-z-index-sink,1300)}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:8px;margin-bottom:8px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;justify-content:center;align-items:center;gap:2px;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--error svg{fill:#c00}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--error svg{fill:#c00}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-button--stretch{width:100%}.tox .tox-button--secondary--outline{background-color:transparent;border-color:var(--tox-private-button-secondary-outline-border-color,#f0f0f0);color:var(--tox-private-button-secondary-outline-text-color,#222f3e)}.tox .tox-button--secondary--outline:focus:not(:disabled){background-color:var(--tox-private-button-secondary-outline-focus-background-color,#e3e3e3);border-color:var(--tox-private-button-secondary-outline-focus-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-focus-text-color,#222f3e)}.tox .tox-button--secondary--outline:hover:not(:disabled){background-color:var(--tox-private-button-secondary-outline-hover-background-color,#f0f0f0);border-color:var(--tox-private-button-secondary-outline-hover-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-hover-text-color,#222f3e)}.tox .tox-button--secondary--outline:active:not(:disabled){background-color:var(--tox-private-button-secondary-outline-active-background-color,#e3e3e3);border-color:var(--tox-private-button-secondary-outline-active-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-active-text-color,#222f3e)}.tox .tox-button--secondary--outline[disabled]{background-color:var(--tox-private-button-secondary-outline-disabled-background-color,transparent);border-color:var(--tox-private-button-secondary-outline-disabled-border-color,#f0f0f0);color:var(--tox-private-button-secondary-outline-disabled-text-color,rgba(34,47,62,.5))}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-context-form__group .tox-button--icon.tox-lock-context-form-size-input{margin-left:8px;margin-right:8px}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-selectfield select option:checked{background-color:revert;color:revert}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox-mentions__card-common{z-index:1200}.tox.tox-mentions__card{background:#fff;border:1px solid #eee;display:flex;padding:4px 8px}.tox.tox-mentions__card .tox-mentions__container{display:flex;flex-direction:column;align-self:center;margin:0 4px}.tox .tox-mentions__avatar{width:42px;height:42px;border-radius:50%;margin-right:4px}.tox .tox-mentions__username{font-size:14px;line-height:21px;color:#222f3e}.tox .tox-mentions__description{font-size:12px;line-height:21px;color:rgba(34,47,62,.7)}.tox .tox-collection__item--active .tox-mentions__description,.tox .tox-collection__item--active .tox-mentions__username{color:inherit}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1302;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:var(--tox-private-sidebar-background-color,#f0f0f0);display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-sidebar-content{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px;border-left:1px solid var(--tox-private-sidebar-border-color,#e3e3e3)}.tox .tox-sidebar-content__header{align-items:center;display:flex;justify-content:space-between;box-shadow:var(--tox-private-sidebar-header-box-shadow,0 4px 8px 0 rgba(34,47,62,.1));padding:var(--tox-private-pad-sm,8px) 12px;background:var(--tox-private-background-color,#fff);z-index:1}.tox .tox-sidebar-content__header .tox-sidebar-content__header-close-button{margin-left:auto}.tox .tox-sidebar-content__title{font-size:var(--tox-private-font-size-lg, 20px);font-weight:var(--tox-private-font-weight-normal,normal);padding:var(--tox-private-pad-sm,8px) 0 var(--tox-private-pad-sm,8px) 0;color:var(--tox-private-text-color,#222f3e);line-height:28px}.tox-ai .tox-ai__user-prompt{background-color:var(--tox-private-ai-user-prompt-background,#f0f0f0);padding:var(--tox-private-pad-sm,8px) 12px;border-radius:var(--tox-private-control-border-radius,6px);max-width:80%;align-self:flex-end;color:var(--tox-private-text-color,#222f3e)}.tox-ai .tox-ai__scroll{overflow:auto;background-color:var(--tox-private-background-color,#fff);display:flex;padding:12px;flex-direction:column;align-items:flex-start;gap:12px;flex:1 0 0;align-self:stretch}.tox-ai .tox-ai-response__content{padding:var(--tox-private-pad-sm,8px) 0;color:var(--tox-private-text-color,#222f3e);font-feature-settings:'liga' off,'clig' off;font-size:var(--tox-private-font-size-sm, 14px);font-style:normal;font-weight:var(--tox-private-font-weight-normal,normal);line-height:var(--tox-private-line-height, 18px)}.tox-ai .tox-ai__footer{border-top:1px solid var(--tox-private-ai-footer-border-color,#e3e3e3);padding:12px;gap:var(--tox-private-pad-sm,8px);background-color:var(--tox-private-background-color,#fff);display:flex;flex-direction:column}.tox-ai .tox-ai__footer-actions{display:flex;gap:var(--tox-private-pad-sm,8px)}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-cursor-default{cursor:ns-resize}.tox .tox-statusbar__resize-cursor-both{cursor:nwse-resize}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-toggle{--tox-private-slider-background-color:#fff;--tox-private-slider-border-color:rgb(227, 227, 227);--tox-private-slider-handle-background-color:#222f3e;display:flex;align-items:center;gap:4px;padding:4px;font-weight:400;line-height:24px;white-space:nowrap;background-color:#fff;color:#222f3e}.tox .tox-toggle input{position:absolute;opacity:0;width:0;height:0}.tox .tox-toggle__slider{position:relative;cursor:pointer;box-sizing:border-box;transition:.4s;border-radius:34px;width:28px;height:16px;background-color:var(--tox-private-slider-background-color);border:1px solid var(--tox-private-slider-border-color)}.tox .tox-toggle__slider::before{position:absolute;content:"";height:12px;width:12px;left:1px;bottom:1px;transition:.4s;border-radius:50%;background-color:var(--tox-private-slider-handle-background-color)}.tox input:checked+.tox-toggle__slider{--tox-private-slider-background-color:#006ce7;--tox-private-slider-border-color:#006ce7}.tox input:focus+.tox-toggle__slider{box-shadow:0 0 0 1px #fff,0 0 0 2px #006ce7}.tox input:checked+.tox-toggle__slider::before{transform:translateX(12px);--tox-private-slider-handle-background-color:#fff}.tox input:disabled+.tox-toggle__slider::before{opacity:50%}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button__main{border-radius:3px 0 0 3px;margin-right:0;width:34px}.tox .tox-split-button__main:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__main:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:3px 0 0 3px}@media (forced-colors:active){.tox .tox-split-button__main:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron{width:16px;border-radius:0 3px 3px 0;margin-left:0}.tox .tox-split-button__chevron:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__chevron:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:0 3px 3px 0}@media (forced-colors:active){.tox .tox-split-button__chevron:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox.tox-platform-touch .tox-split-button__main{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button__chevron.tox-tbtn--disabled,.tox .tox-split-button__main.tox-tbtn--disabled{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:hover,.tox .tox-split-button__main.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:focus,.tox .tox-split-button__main.tox-tbtn--disabled:focus{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:min(80%,15em);padding:8px 0 0 0;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden;z-index:1301;background-color:#fff}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__align-right{margin-left:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-view .tox-revisionhistory__pane{padding:0}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{display:block;width:min-content;padding:4px 8px;margin-bottom:8px;font-size:12px;font-weight:700;border-radius:4px;background:#d3d5d8}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-content{display:flex;flex-direction:row;gap:8px;align-items:center}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-info{display:flex;flex-direction:column;flex:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;font-weight:400}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox [data-mce-name=suggestededits] .tox-icon .tox-icon--badge{fill:#006ce7}.tox .tox-view .tox-suggestededits__pane{padding:0}.tox .tox-suggestededits__sink{position:relative;z-index:1000}.tox .tox-suggestededits__sink .tox-tiered-menu .tox-collection--list{position:absolute}.tox .tox-suggestededits__container{height:100%;display:flex;flex-direction:column}.tox .tox-suggestededits__container .tox-suggestededits{background-color:#fff;border-top:1px solid #eee;display:flex;flex:1;height:inherit;overflow-x:auto;overflow-y:hidden;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__content{flex:1}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model{height:100%;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model .tox-suggestededits__iframe{height:100%;width:100%;overflow:scroll;background-color:#fff}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar{background-color:#f0f0f0;display:flex;flex-direction:column;flex:0 1 auto;min-width:248px;width:316px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-header{padding:4px 12px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content{display:flex;flex:1;flex-direction:column;gap:12px;overflow:auto;padding:6px 12px 12px 12px;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card{background-color:#fff;border-radius:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--divider{background-color:#f0f0f0;height:1px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--editor,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header{display:flex;flex:auto;justify-content:space-between;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar .tox-skeleton__circle,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar img{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--avatar{height:36px;width:36px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e;font-size:14px;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution{align-items:center;border:0;border-radius:20px;height:20px;width:20px;display:flex;flex:0 0 auto;justify-content:center;text-align:center}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--accepted .tox-icon svg{fill:#78AB46}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--rejected .tox-icon svg{fill:#c00}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content{display:flex;flex-direction:column;align-self:stretch;flex:auto;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations{display:flex;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar{align-items:center;border-radius:6px;display:flex;flex-direction:column;font-size:12px;justify-content:space-between;width:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--insert{background-color:#78ab46;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--modify{background-color:#006ce7;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--remove{background-color:#c00;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-text{color:#222f3e;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--feedback{color:#222f3e;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--textarea{border:2px solid #eee;border-radius:6px;color:#222f3e;gap:8px;padding:5px 6px;resize:none;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--textarea:focus{border:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer{display:flex;flex-direction:column;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp .tox-icon svg{fill:#222F3E80;transform:translate(0,8px);margin-top:-10px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons{display:flex;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons.tox-suggestededits__card--review-buttons{justify-content:space-between;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons.tox-suggestededits__card--feedback-buttons{justify-content:flex-end}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--hidden{opacity:.5}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--resolved{background-color:#d3d5d8}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active:focus,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active:focus-visible{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single{border-radius:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single:focus,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single:focus-visible{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card:hover{box-shadow:0 4px 8px 0 #d3d5d8}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);var TV={},DV={},OV;function Qee(){return OV||(OV=1,function(){var ne=tinymce.util.Tools.resolve("tinymce.PluginManager");const fe=lt=>({backspaceDelete:_t=>{lt.execCommand("mceListBackspaceDelete",!1,_t)}}),Be=lt=>lt==null,Re=lt=>!Be(lt),Ye=lt=>()=>lt,De=(lt,_t)=>lt===_t,ye=Ye(!1);class Pe{constructor(_t,mt){this.tag=_t,this.value=mt}static some(_t){return new Pe(!0,_t)}static none(){return Pe.singletonNone}fold(_t,mt){return this.tag?mt(this.value):_t()}isSome(){return this.tag}isNone(){return!this.tag}map(_t){return this.tag?Pe.some(_t(this.value)):Pe.none()}bind(_t){return this.tag?_t(this.value):Pe.none()}exists(_t){return this.tag&&_t(this.value)}forall(_t){return!this.tag||_t(this.value)}filter(_t){return!this.tag||_t(this.value)?this:Pe.none()}getOr(_t){return this.tag?this.value:_t}or(_t){return this.tag?this:_t}getOrThunk(_t){return this.tag?this.value:_t()}orThunk(_t){return this.tag?this:_t()}getOrDie(_t){if(this.tag)return this.value;throw new Error(_t??"Called getOrDie on None")}static from(_t){return Re(_t)?Pe.some(_t):Pe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_t){this.tag&&_t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Pe.singletonNone=new Pe(!1);const Qe=Array.prototype.slice,ot=(lt,_t)=>{for(let mt=0,Un=lt.length;mt<Un;mt++){const dn=lt[mt];if(_t(dn,mt))return!0}return!1},Ot=(lt,_t)=>{const mt=lt.length,Un=new Array(mt);for(let dn=0;dn<mt;dn++){const Lo=lt[dn];Un[dn]=_t(Lo,dn)}return Un},Zt=(lt,_t)=>{for(let mt=0,Un=lt.length;mt<Un;mt++){const dn=lt[mt];_t(dn,mt)}},kt=(lt,_t,mt)=>(Zt(lt,(Un,dn)=>{mt=_t(mt,Un,dn)}),mt),Ae=(lt,_t,mt)=>{for(let Un=0,dn=lt.length;Un<dn;Un++){const Lo=lt[Un];if(_t(Lo,Un))return Pe.some(Lo);if(mt(Lo,Un))break}return Pe.none()},nt=(lt,_t)=>Ae(lt,_t,ye),zt=lt=>{const _t=Qe.call(lt,0);return _t.reverse(),_t},vt=(lt,_t,mt=De)=>lt.exists(Un=>mt(Un,_t)),Le=(lt=>_t=>_t.replace(lt,""))(/^\s+|\s+$/g),Ge=lt=>lt.length>0,oe=lt=>!Ge(lt),yt=lt=>{const _t=zt(Le(lt).split("")),mt=Ot(_t,(Un,dn)=>{const Lo=Un.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,dn)*Lo});return kt(mt,(Un,dn)=>Un+dn,0)},ue=lt=>{if(lt--,lt<0)return"";{const _t=lt%26,mt=Math.floor(lt/26),Un=ue(mt),dn=String.fromCharCode(65+_t);return Un+dn}},rn=lt=>/^[A-Z]+$/.test(lt),us=lt=>/^[a-z]+$/.test(lt),Os=lt=>/^[0-9]+$/.test(lt),Yo=lt=>Os(lt)?2:rn(lt)?0:us(lt)?1:oe(lt)?3:4,ze=lt=>{switch(Yo(lt)){case 2:return Pe.some({listStyleType:Pe.none(),start:lt});case 0:return Pe.some({listStyleType:Pe.some("upper-alpha"),start:yt(lt).toString()});case 1:return Pe.some({listStyleType:Pe.some("lower-alpha"),start:yt(lt).toString()});case 3:return Pe.some({listStyleType:Pe.none(),start:""});case 4:return Pe.none()}},no=lt=>{const _t=parseInt(lt.start,10);return vt(lt.listStyleType,"upper-alpha")?ue(_t):vt(lt.listStyleType,"lower-alpha")?ue(_t).toLowerCase():lt.start},To=(lt=>_t=>_t.options.get(lt))("forced_root_block"),Do=lt=>/\btox\-/.test(lt.className),Fn=lt=>_t=>Re(_t)&&lt.test(_t.nodeName),ca=lt=>_t=>Re(_t)&&_t.nodeName.toLowerCase()===lt,dt=Fn(/^(OL|UL|DL)$/),vn=Fn(/^(TH|TD)$/),Ei=Fn(/^(LI|DT|DD)$/),He=(lt,_t)=>Ae(lt,dt,vn).exists(mt=>mt.nodeName===_t&&!Do(mt)),we=(lt,_t)=>{const mt=lt.selection.getNode();return _t({parents:lt.dom.getParents(mt),element:mt}),lt.on("NodeChange",_t),()=>lt.off("NodeChange",_t)},pt=(lt,_t)=>_t!==null&&!lt.dom.isEditable(_t),an=(lt,_t)=>{const mt=lt.dom.getParent(_t,"ol,ul,dl");return pt(lt,mt)||!lt.selection.isEditable()},Co=ca("ol"),_o=["OL","UL","DL"],Vo=_o.join(","),I=(lt,_t)=>{const mt=_t||lt.selection.getStart(!0);return lt.dom.getParent(mt,Vo,Ks(lt,mt))},Ks=(lt,_t)=>{const mt=lt.dom.getParents(_t,lt.dom.isBlock),Un=Lo=>Lo.nodeName.toLowerCase()!==To(lt);return nt(mt,Lo=>Un(Lo)&&_s(lt.schema,Lo)).getOr(lt.getBody())},_s=(lt,_t)=>!dt(_t)&&!Ei(_t)&&ot(_o,mt=>lt.isValidChild(_t.nodeName,mt)),Io=lt=>{const _t=I(lt);!Co(_t)||an(lt,_t)||lt.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:no({start:lt.dom.getAttrib(_t,"start","1"),listStyleType:Pe.from(lt.dom.getStyle(_t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:mt=>{const Un=mt.getData();ze(Un.start).each(dn=>{lt.execCommand("mceListUpdate",!1,{attrs:{start:dn.start==="1"?"":dn.start},styles:{"list-style-type":dn.listStyleType.getOr("")}})}),mt.close()}})},ci=lt=>{lt.addCommand("mceListProps",()=>{Io(lt)})},ur=(lt,_t)=>mt=>{const Un=dn=>{mt.setActive(He(dn.parents,_t)),mt.setEnabled(!an(lt,dn.element)&&lt.selection.isEditable())};return mt.setEnabled(lt.selection.isEditable()),we(lt,Un)},Ho=lt=>{const _t=mt=>()=>lt.execCommand(mt);lt.hasPlugin("advlist")||(lt.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:_t("InsertOrderedList"),onSetup:ur(lt,"OL")}),lt.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:_t("InsertUnorderedList"),onSetup:ur(lt,"UL")}))},Mn=(lt,_t)=>mt=>we(lt,dn=>mt.setEnabled(He(dn.parents,_t)&&!an(lt,dn.element))),Ro=lt=>{const _t={text:"List properties...",icon:"ordered-list",onAction:()=>lt.execCommand("mceListProps"),onSetup:Mn(lt,"OL")};lt.ui.registry.addMenuItem("listprops",_t),lt.ui.registry.addContextMenu("lists",{update:mt=>{const Un=I(lt,mt);return Co(Un)?["listprops"]:[]}})};var Ze=()=>{ne.add("lists",lt=>(ci(lt),Ho(lt),Ro(lt),fe(lt)))};Ze()}()),DV}var RV;function Jee(){return RV||(RV=1,Qee()),TV}Jee();var NV={},MV={},BV;function ete(){return BV||(BV=1,function(){var ne=tinymce.util.Tools.resolve("tinymce.PluginManager");const fe=(He,we,pt)=>{const an=we==="UL"?"InsertUnorderedList":"InsertOrderedList";He.execCommand(an,!1,pt===!1?null:{"list-style-type":pt})},Be=He=>{He.addCommand("ApplyUnorderedListStyle",(we,pt)=>{fe(He,"UL",pt["list-style-type"])}),He.addCommand("ApplyOrderedListStyle",(we,pt)=>{fe(He,"OL",pt["list-style-type"])})},Re=He=>we=>we.options.get(He),Ye=He=>{const we=He.options.register;we("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),we("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},De=Re("advlist_number_styles"),ye=Re("advlist_bullet_styles"),Pe=He=>He==null,Qe=He=>!Pe(He);class ot{constructor(we,pt){this.tag=we,this.value=pt}static some(we){return new ot(!0,we)}static none(){return ot.singletonNone}fold(we,pt){return this.tag?pt(this.value):we()}isSome(){return this.tag}isNone(){return!this.tag}map(we){return this.tag?ot.some(we(this.value)):ot.none()}bind(we){return this.tag?we(this.value):ot.none()}exists(we){return this.tag&&we(this.value)}forall(we){return!this.tag||we(this.value)}filter(we){return!this.tag||we(this.value)?this:ot.none()}getOr(we){return this.tag?this.value:we}or(we){return this.tag?this:we}getOrThunk(we){return this.tag?this.value:we()}orThunk(we){return this.tag?this:we()}getOrDie(we){if(this.tag)return this.value;throw new Error(we??"Called getOrDie on None")}static from(we){return Qe(we)?ot.some(we):ot.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(we){this.tag&&we(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ot.singletonNone=new ot(!1);const Ot=Array.prototype.indexOf,Zt=(He,we)=>Ot.call(He,we),kt=(He,we)=>Zt(He,we)>-1,Ae=(He,we,pt)=>{for(let an=0,Co=He.length;an<Co;an++){const _o=He[an];if(we(_o,an))return ot.some(_o);if(pt(_o,an))break}return ot.none()},nt=Object.keys,zt=(He,we)=>{const pt=nt(He);for(let an=0,Co=pt.length;an<Co;an++){const _o=pt[an],Vo=He[_o];we(Vo,_o)}},vt=(He,we)=>ge(He,(pt,an)=>({k:an,v:we(pt,an)})),ge=(He,we)=>{const pt={};return zt(He,(an,Co)=>{const _o=we(an,Co);pt[_o.k]=_o.v}),pt};var Le=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ge=He=>/\btox\-/.test(He.className),oe=(He,we)=>He.dom.isChildOf(we,He.getBody()),yt=He=>we=>Qe(we)&&He.test(we.nodeName),ue=yt(/^(OL|UL|DL)$/),rn=yt(/^(TH|TD)$/),us=(He,we,pt)=>Ae(we,an=>ue(an)&&!Ge(an),rn).exists(an=>an.nodeName===pt&&oe(He,an)),Os=He=>{const we=He.dom.getParent(He.selection.getNode(),"ol,ul"),pt=He.dom.getStyle(we,"listStyleType");return ot.from(pt)},Yo=(He,we)=>we!==null&&!He.dom.isEditable(we),ze=(He,we)=>{const pt=He.dom.getParent(we,"ol,ul,dl");return Yo(He,pt)||!He.selection.isEditable()},no=(He,we)=>{const pt=He.selection.getNode();return we({parents:He.dom.getParents(pt),element:pt}),He.on("NodeChange",we),()=>He.off("NodeChange",we)},E=He=>He.replace(/\-/g," ").replace(/\b\w/g,we=>we.toUpperCase()),To=He=>Pe(He)||He==="default"?"":He,Do=(He,we)=>pt=>{const an=(_o,Vo)=>{const I=_o.selection.getStart(!0);pt.setActive(us(_o,Vo,we)),pt.setEnabled(!ze(_o,I))};return no(He,_o=>an(He,_o.parents))},Fn=(He,we,pt,an,Co,_o)=>{const Vo={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},I=vt(Vo,Ks=>kt(_o,Ks));He.ui.registry.addSplitButton(we,{tooltip:pt,chevronTooltip:`${pt} menu`,icon:Co==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:Co==="OL"?3:4,fetch:Ks=>{const _s=Le.map(_o,Io=>{const ci=Co==="OL"?"num":"bull",ur=Io==="decimal"?"default":Io,Ho=To(Io),Mn=E(Io);return{type:"choiceitem",value:Ho,icon:"list-"+ci+"-"+ur,text:Mn}});Ks(_s)},onAction:()=>He.execCommand(an),onItemAction:(Ks,_s)=>{fe(He,Co,_s)},select:Ks=>Os(He).exists(Io=>Ks===Io||Vo[Io]===Ks&&!I[Ks]),onSetup:Do(He,Co)})},ca=(He,we,pt,an,Co,_o)=>{He.ui.registry.addToggleButton(we,{active:!1,tooltip:pt,icon:Co==="OL"?"ordered-list":"unordered-list",onSetup:Do(He,Co),onAction:()=>He.queryCommandState(an)||_o===""?He.execCommand(an):fe(He,Co,_o)})},dt=(He,we,pt,an,Co,_o)=>{_o.length>1?Fn(He,we,pt,an,Co,_o):ca(He,we,pt,an,Co,To(_o[0]))},vn=He=>{dt(He,"numlist","Numbered list","InsertOrderedList","OL",De(He)),dt(He,"bullist","Bullet list","InsertUnorderedList","UL",ye(He))};var Ei=()=>{ne.add("advlist",He=>{He.hasPlugin("lists")?(Ye(He),vn(He),Be(He)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};Ei()}()),MV}var PV;function tte(){return PV||(PV=1,ete()),NV}tte();var IV={},LV={},FV;function ote(){return FV||(FV=1,function(){var ne=tinymce.util.Tools.resolve("tinymce.PluginManager");const fe=Object.getPrototypeOf,Be=(B,W,ie)=>{var Ee;return ie(B,W.prototype)?!0:((Ee=B.constructor)===null||Ee===void 0?void 0:Ee.name)===W.name},Re=B=>{const W=typeof B;return B===null?"null":W==="object"&&Array.isArray(B)?"array":W==="object"&&Be(B,String,(ie,Ee)=>Ee.isPrototypeOf(ie))?"string":W},Ye=B=>W=>Re(W)===B,De=B=>W=>typeof W===B,ye=B=>W=>B===W,Pe=(B,W)=>ot(B)&&Be(B,W,(ie,Ee)=>fe(ie)===Ee),Qe=Ye("string"),ot=Ye("object"),Ot=B=>Pe(B,Object),Zt=Ye("array"),kt=ye(null),Ae=De("boolean"),nt=B=>B==null,zt=B=>!nt(B),vt=De("function"),ge=De("number"),Le=(B,W)=>{if(Zt(B)){for(let ie=0,Ee=B.length;ie<Ee;++ie)if(!W(B[ie]))return!1;return!0}return!1},Ge=()=>{};class oe{constructor(W,ie){this.tag=W,this.value=ie}static some(W){return new oe(!0,W)}static none(){return oe.singletonNone}fold(W,ie){return this.tag?ie(this.value):W()}isSome(){return this.tag}isNone(){return!this.tag}map(W){return this.tag?oe.some(W(this.value)):oe.none()}bind(W){return this.tag?W(this.value):oe.none()}exists(W){return this.tag&&W(this.value)}forall(W){return!this.tag||W(this.value)}filter(W){return!this.tag||W(this.value)?this:oe.none()}getOr(W){return this.tag?this.value:W}or(W){return this.tag?this:W}getOrThunk(W){return this.tag?this.value:W()}orThunk(W){return this.tag?this:W()}getOrDie(W){if(this.tag)return this.value;throw new Error(W??"Called getOrDie on None")}static from(W){return zt(W)?oe.some(W):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(W){this.tag&&W(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const yt=Array.prototype.push,ue=B=>{const W=[];for(let ie=0,Ee=B.length;ie<Ee;++ie){if(!Zt(B[ie]))throw new Error("Arr.flatten item "+ie+" was not an array, input: "+B);yt.apply(W,B[ie])}return W},rn=(B,W)=>W>=0&&W<B.length?oe.some(B[W]):oe.none(),us=B=>rn(B,0),Os=(B,W)=>{for(let ie=0;ie<B.length;ie++){const Ee=W(B[ie],ie);if(Ee.isSome())return Ee}return oe.none()},Yo=Object.keys,ze=Object.hasOwnProperty,no=(B,W)=>{const ie=Yo(B);for(let Ee=0,It=ie.length;Ee<It;Ee++){const un=ie[Ee],ts=B[un];W(ts,un)}},E=B=>(W,ie)=>{B[ie]=W},To=(B,W,ie,Ee)=>{no(B,(It,un)=>{(W(It,un)?ie:Ee)(It,un)})},Do=(B,W)=>{const ie={};return To(B,W,E(ie),Ge),ie},Fn=(B,W)=>ze.call(B,W),ca=(B,W)=>Fn(B,W)&&B[W]!==void 0&&B[W]!==null,Ei=(B=>(...W)=>{if(W.length===0)throw new Error("Can't merge zero objects");const ie={};for(let Ee=0;Ee<W.length;Ee++){const It=W[Ee];for(const un in It)Fn(It,un)&&(ie[un]=B(ie[un],It[un]))}return ie})((B,W)=>Ot(B)&&Ot(W)?Ei(B,W):W),He=B=>B.length>0,we=(B,W)=>{const Ee=(W||document).createElement("div");if(Ee.innerHTML=B,!Ee.hasChildNodes()||Ee.childNodes.length>1){const It="HTML does not have a single root node";throw console.error(It,B),new Error(It)}return Co(Ee.childNodes[0])},pt=(B,W)=>{const Ee=(W||document).createElement(B);return Co(Ee)},an=(B,W)=>{const Ee=(W||document).createTextNode(B);return Co(Ee)},Co=B=>{if(B==null)throw new Error("Node cannot be null or undefined");return{dom:B}},Vo={fromHtml:we,fromTag:pt,fromText:an,fromDom:Co,fromPoint:(B,W,ie)=>oe.from(B.dom.elementFromPoint(W,ie)).map(Co)},I=(B,W,ie)=>{if(Qe(ie)||Ae(ie)||ge(ie))B.setAttribute(W,ie+"");else throw console.error("Invalid call to Attribute.set. Key ",W,":: Value ",ie,":: Element ",B),new Error("Attribute value was not simple")},Ks=(B,W,ie)=>{I(B.dom,W,ie)},_s=(B,W)=>{B.dom.removeAttribute(W)};var Io=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ci=tinymce.util.Tools.resolve("tinymce.util.URI");const ur=B=>W=>W.options.get(B),Ho=B=>{const W=B.options.register;W("image_dimensions",{processor:"boolean",default:!0}),W("image_advtab",{processor:"boolean",default:!1}),W("image_uploadtab",{processor:"boolean",default:!0}),W("image_prepend_url",{processor:"string",default:""}),W("image_class_list",{processor:"object[]"}),W("image_description",{processor:"boolean",default:!0}),W("image_title",{processor:"boolean",default:!1}),W("image_caption",{processor:"boolean",default:!1}),W("image_list",{processor:ie=>{const Ee=ie===!1||Qe(ie)||Le(ie,ot)||vt(ie);return Ee?{value:ie,valid:Ee}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Mn=ur("image_dimensions"),Ro=ur("image_advtab"),Ze=ur("image_uploadtab"),lt=ur("image_prepend_url"),_t=ur("image_class_list"),mt=ur("image_description"),Un=ur("image_title"),dn=ur("image_caption"),Lo=ur("image_list"),jc=ur("a11y_advanced_options"),yn=ur("automatic_uploads"),Rs=B=>He(B.options.get("images_upload_url")),Wc=B=>zt(B.options.get("images_upload_handler")),qc=(B,W)=>Math.max(parseInt(B,10),parseInt(W,10)),sr=B=>new Promise(W=>{const ie=document.createElement("img"),Ee=un=>{ie.parentNode&&ie.parentNode.removeChild(ie),W(un)};ie.addEventListener("load",()=>{const un=qc(ie.width,ie.clientWidth),ts=qc(ie.height,ie.clientHeight),Dr={width:un,height:ts};Ee(Promise.resolve(Dr))}),ie.addEventListener("error",()=>{Ee(Promise.reject(`Failed to get image dimensions for: ${B}`))});const It=ie.style;It.visibility="hidden",It.position="fixed",It.bottom=It.left="0px",It.width=It.height="auto",document.body.appendChild(ie),ie.src=B}),Pa=B=>(B&&(B=B.replace(/px$/,"")),B),da=B=>(B.length>0&&/^[0-9]+$/.test(B)&&(B+="px"),B),Ol=B=>{if(B.margin){const W=String(B.margin).split(" ");switch(W.length){case 1:B["margin-top"]=B["margin-top"]||W[0],B["margin-right"]=B["margin-right"]||W[0],B["margin-bottom"]=B["margin-bottom"]||W[0],B["margin-left"]=B["margin-left"]||W[0];break;case 2:B["margin-top"]=B["margin-top"]||W[0],B["margin-right"]=B["margin-right"]||W[1],B["margin-bottom"]=B["margin-bottom"]||W[0],B["margin-left"]=B["margin-left"]||W[1];break;case 3:B["margin-top"]=B["margin-top"]||W[0],B["margin-right"]=B["margin-right"]||W[1],B["margin-bottom"]=B["margin-bottom"]||W[2],B["margin-left"]=B["margin-left"]||W[1];break;case 4:B["margin-top"]=B["margin-top"]||W[0],B["margin-right"]=B["margin-right"]||W[1],B["margin-bottom"]=B["margin-bottom"]||W[2],B["margin-left"]=B["margin-left"]||W[3]}delete B.margin}return B},Ar=(B,W)=>{const ie=Lo(B);Qe(ie)?fetch(ie).then(Ee=>{Ee.ok&&Ee.json().then(W)}):vt(ie)?ie(W):W(ie)},Qt=(B,W,ie)=>{const Ee=()=>{ie.onload=ie.onerror=null,B.selection&&(B.selection.select(ie),B.nodeChanged())};ie.onload=()=>{!W.width&&!W.height&&Mn(B)&&B.dom.setAttribs(ie,{width:String(ie.clientWidth),height:String(ie.clientHeight)}),Ee()},ie.onerror=Ee},nn=B=>new Promise((W,ie)=>{const Ee=new FileReader;Ee.onload=()=>{W(Ee.result)},Ee.onerror=()=>{var It;ie((It=Ee.error)===null||It===void 0?void 0:It.message)},Ee.readAsDataURL(B)}),Zn=B=>B.nodeName==="IMG"&&(B.hasAttribute("data-mce-object")||B.hasAttribute("data-mce-placeholder")),zs=(B,W)=>{const ie=B.options.get;return ci.isDomSafe(W,"img",{allow_html_data_urls:ie("allow_html_data_urls"),allow_script_urls:ie("allow_script_urls"),allow_svg_data_urls:ie("allow_svg_data_urls")})},Tt=Io.DOM,Ai=B=>B.style.marginLeft&&B.style.marginRight&&B.style.marginLeft===B.style.marginRight?Pa(B.style.marginLeft):"",mc=B=>B.style.marginTop&&B.style.marginBottom&&B.style.marginTop===B.style.marginBottom?Pa(B.style.marginTop):"",ua=B=>B.style.borderWidth?Pa(B.style.borderWidth):"",Ps=(B,W)=>{var ie;return B.hasAttribute(W)&&(ie=B.getAttribute(W))!==null&&ie!==void 0?ie:""},Xo=B=>B.parentNode!==null&&B.parentNode.nodeName==="FIGURE",Vr=(B,W,ie)=>{ie===""||ie===null?B.removeAttribute(W):B.setAttribute(W,ie)},Cg=B=>{const W=Tt.create("figure",{class:"image"});Tt.insertAfter(W,B),W.appendChild(B),W.appendChild(Tt.create("figcaption",{contentEditable:"true"},"Caption")),W.contentEditable="false"},gc=B=>{const W=B.parentNode;zt(W)&&(Tt.insertAfter(B,W),Tt.remove(W))},Wo=B=>{Xo(B)?gc(B):Cg(B)},$r=(B,W)=>{const ie=B.getAttribute("style"),Ee=W(ie!==null?ie:"");Ee.length>0?(B.setAttribute("style",Ee),B.setAttribute("data-mce-style",Ee)):B.removeAttribute("style")},Tr=(B,W)=>(ie,Ee,It)=>{const un=ie.style;un[Ee]?(un[Ee]=da(It),$r(ie,W)):Vr(ie,Ee,It)},ya=(B,W)=>B.style[W]?Pa(B.style[W]):Ps(B,W),Cs=(B,W)=>{const ie=da(W);B.style.marginLeft=ie,B.style.marginRight=ie},Sn=(B,W)=>{const ie=da(W);B.style.marginTop=ie,B.style.marginBottom=ie},xo=(B,W)=>{const ie=da(W);B.style.borderWidth=ie},ke=(B,W)=>{B.style.borderStyle=W},Ld=B=>{var W;return(W=B.style.borderStyle)!==null&&W!==void 0?W:""},bs=B=>zt(B)&&B.nodeName==="FIGURE",il=B=>B.nodeName==="IMG",zn=B=>{const W=Tt.getAttrib(B,"alt"),ie=Tt.getAttrib(B,"role");return B.hasAttribute("alt")&&W.length===0||ie==="presentation"||ie==="none"},ll=B=>zn(B)?"":Ps(B,"alt"),Rl=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Fd=(B,W)=>{var ie;const Ee=document.createElement("img");return Vr(Ee,"style",W.style),(Ai(Ee)||W.hspace!=="")&&Cs(Ee,W.hspace),(mc(Ee)||W.vspace!=="")&&Sn(Ee,W.vspace),(ua(Ee)||W.border!=="")&&xo(Ee,W.border),(Ld(Ee)||W.borderStyle!=="")&&ke(Ee,W.borderStyle),B((ie=Ee.getAttribute("style"))!==null&&ie!==void 0?ie:"")},Hs=(B,W)=>{const ie=document.createElement("img");if(es(B,{...W,caption:!1},ie),Ur(ie,W.alt,W.isDecorative),W.caption){const Ee=Tt.create("figure",{class:"image"});return Ee.appendChild(ie),Ee.appendChild(Tt.create("figcaption",{contentEditable:"true"},"Caption")),Ee.contentEditable="false",Ee}else return ie},mm=(B,W)=>({src:Ps(W,"src"),alt:ll(W),title:Ps(W,"title"),width:ya(W,"width"),height:ya(W,"height"),class:Ps(W,"class"),style:B(Ps(W,"style")),caption:Xo(W),hspace:Ai(W),vspace:mc(W),border:ua(W),borderStyle:Ld(W),isDecorative:zn(W)}),Vs=(B,W,ie,Ee,It)=>{ie[Ee]!==W[Ee]&&It(B,Ee,String(ie[Ee]))},Ur=(B,W,ie)=>{if(ie){Tt.setAttrib(B,"role","presentation");const Ee=Vo.fromDom(B);Ks(Ee,"alt","")}else{if(kt(W)){const Ee=Vo.fromDom(B);_s(Ee,"alt")}else{const Ee=Vo.fromDom(B);Ks(Ee,"alt",W)}Tt.getAttrib(B,"role")==="presentation"&&Tt.setAttrib(B,"role","")}},In=(B,W,ie)=>{(ie.alt!==W.alt||ie.isDecorative!==W.isDecorative)&&Ur(B,ie.alt,ie.isDecorative)},Nl=(B,W)=>(ie,Ee,It)=>{B(ie,It),$r(ie,W)},es=(B,W,ie)=>{const Ee=mm(B,ie);Vs(ie,Ee,W,"caption",(It,un,ts)=>Wo(It)),Vs(ie,Ee,W,"src",Vr),Vs(ie,Ee,W,"title",Vr),Vs(ie,Ee,W,"width",Tr("width",B)),Vs(ie,Ee,W,"height",Tr("height",B)),Vs(ie,Ee,W,"class",Vr),Vs(ie,Ee,W,"style",Nl((It,un)=>Vr(It,"style",un),B)),Vs(ie,Ee,W,"hspace",Nl(Cs,B)),Vs(ie,Ee,W,"vspace",Nl(Sn,B)),Vs(ie,Ee,W,"border",Nl(xo,B)),Vs(ie,Ee,W,"borderStyle",Nl(ke,B)),In(ie,Ee,W)},$s=(B,W)=>{const ie=B.dom.styles.parse(W),Ee=Ol(ie),It=B.dom.styles.parse(B.dom.styles.serialize(Ee));return B.dom.styles.serialize(It)},Su=B=>{const W=B.selection.getNode(),ie=B.dom.getParent(W,"figure.image");return ie?B.dom.select("img",ie)[0]:W&&(W.nodeName!=="IMG"||Zn(W))?null:W},zd=(B,W)=>{var ie;const Ee=B.dom,It=Do(B.schema.getTextBlockElements(),(ts,Dr)=>!B.schema.isValidChild(Dr,"figure")),un=Ee.getParent(W.parentNode,ts=>ca(It,ts.nodeName),B.getBody());return un&&(ie=Ee.split(un,W))!==null&&ie!==void 0?ie:W},Eu=B=>{const W=Su(B);return W?mm(ie=>$s(B,ie),W):Rl()},Ml=(B,W)=>{const ie=Hs(It=>$s(B,It),W);B.dom.setAttrib(ie,"data-mce-id","__mcenew"),B.focus(),B.insertContent(ie.outerHTML);const Ee=B.dom.select('*[data-mce-id="__mcenew"]')[0];if(B.dom.setAttrib(Ee,"data-mce-id",null),bs(Ee)){const It=zd(B,Ee);B.selection.select(It)}else B.selection.select(Ee)},fc=(B,W)=>{B.dom.setAttrib(W,"src",W.getAttribute("src"))},Au=(B,W)=>{if(W){const ie=B.dom.is(W.parentNode,"figure.image")?W.parentNode:W;B.dom.remove(ie),B.focus(),B.nodeChanged(),B.dom.isEmpty(B.getBody())&&(B.setContent(""),B.selection.setCursorLocation())}},mr=(B,W)=>{const ie=Su(B);if(ie)if(es(Ee=>$s(B,Ee),W,ie),fc(B,ie),bs(ie.parentNode)){B.dom.setStyle(ie,"float","");const Ee=ie.parentNode;zd(B,Ee),B.selection.select(ie.parentNode)}else B.selection.select(ie),Qt(B,W,ie)},Tu=(B,W)=>{const ie=W.src;return{...W,src:zs(B,ie)?ie:""}},sh=(B,W)=>{const ie=Su(B);if(ie){const It={...mm(ts=>$s(B,ts),ie),...W},un=Tu(B,It);It.src?mr(B,un):Au(B,ie)}else W.src&&Ml(B,{...Rl(),...W})};var ks=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),kg=tinymce.util.Tools.resolve("tinymce.util.Tools");const Pt=B=>Qe(B.value)?B.value:"",Hd=B=>Qe(B.text)?B.text:Qe(B.title)?B.title:"",Sg=(B,W)=>{const ie=[];return kg.each(B,Ee=>{const It=Hd(Ee);if(Ee.menu!==void 0){const un=Sg(Ee.menu,W);ie.push({text:It,items:un})}else{const un=W(Ee);ie.push({text:It,value:un})}}),ie},Eg=(B=Pt)=>W=>W?oe.from(W).map(ie=>Sg(ie,B)):oe.none(),Gc=B=>Eg(Pt)(B),Ag=B=>Fn(B,"items"),Vf=(B,W)=>Os(B,ie=>Ag(ie)?Vf(ie.items,W):ie.value===W?oe.some(ie):oe.none()),di={sanitizer:Eg,sanitize:Gc,findEntry:(B,W)=>B.bind(ie=>Vf(ie,W))},Uf={makeTab:B=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},$o=B=>{const W=di.sanitizer(Il=>B.convertURL(Il.value||Il.url||"","src")),ie=new Promise(Il=>{Ar(B,ah=>{Il(W(ah).map(Wf=>ue([[{text:"None",value:""}],Wf])))})}),Ee=di.sanitize(_t(B)),It=Ro(B),un=Ze(B),ts=Rs(B),Dr=Wc(B),Hn=Eu(B),ga=mt(B),wa=Un(B),Wi=Mn(B),rr=dn(B),dl=jc(B),Jc=yn(B),_a=oe.some(lt(B)).filter(Il=>Qe(Il)&&Il.length>0);return ie.then(Il=>({image:Hn,imageList:Il,classList:Ee,hasAdvTab:It,hasUploadTab:un,hasUploadUrl:ts,hasUploadHandler:Dr,hasDescription:ga,hasImageTitle:wa,hasDimensions:Wi,hasImageCaption:rr,prependURL:_a,hasAccessibilityOptions:dl,automaticUploads:Jc}))},Is=B=>{const W={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},ie=B.imageList.map(wa=>({name:"images",type:"listbox",label:"Image list",items:wa})),Ee={name:"alt",type:"input",label:"Alternative description",enabled:!(B.hasAccessibilityOptions&&B.image.isDecorative)},It={name:"title",type:"input",label:"Image title"},un={name:"dimensions",type:"sizeinput"},ts={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Dr=B.classList.map(wa=>({name:"classes",type:"listbox",label:"Class",items:wa})),Hn={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},ga=wa=>wa?{type:"grid",columns:2}:{type:"panel"};return ue([[W],ie.toArray(),B.hasAccessibilityOptions&&B.hasDescription?[ts]:[],B.hasDescription?[Ee]:[],B.hasImageTitle?[It]:[],B.hasDimensions?[un]:[],[{...ga(B.classList.isSome()&&B.hasImageCaption),items:ue([Dr.toArray(),B.hasImageCaption?[Hn]:[]])}]])},Kc={makeTab:B=>({title:"General",name:"general",items:Is(B)}),makeItems:Is},Zf={makeTab:B=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},gm=B=>({prevImage:di.findEntry(B.imageList,B.image.src),prevAlt:B.image.alt,open:!0}),Zr=B=>({src:{value:B.src,meta:{}},images:B.src,alt:B.alt,title:B.title,dimensions:{width:B.width,height:B.height},classes:B.class,caption:B.caption,style:B.style,vspace:B.vspace,border:B.border,hspace:B.hspace,borderstyle:B.borderStyle,fileinput:[],isDecorative:B.isDecorative}),Yc=(B,W)=>({src:B.src.value,alt:(B.alt===null||B.alt.length===0)&&W?null:B.alt,title:B.title,width:B.dimensions.width,height:B.dimensions.height,class:B.classes,style:B.style,caption:B.caption,hspace:B.hspace,vspace:B.vspace,border:B.border,borderStyle:B.borderstyle,isDecorative:B.isDecorative}),rh=(B,W)=>/^(?:[a-zA-Z]+:)?\/\//.test(W)?oe.none():B.prependURL.bind(ie=>W.substring(0,ie.length)!==ie?oe.some(ie+W):oe.none()),Du=(B,W)=>{const ie=W.getData();rh(B,ie.src.value).each(Ee=>{W.setData({src:{value:Ee,meta:ie.src.meta}})})},xs=(B,W,ie)=>{B.hasDescription&&Qe(ie.alt)&&(W.alt=ie.alt),B.hasAccessibilityOptions&&(W.isDecorative=ie.isDecorative||W.isDecorative||!1),B.hasImageTitle&&Qe(ie.title)&&(W.title=ie.title),B.hasDimensions&&(Qe(ie.width)&&(W.dimensions.width=ie.width),Qe(ie.height)&&(W.dimensions.height=ie.height)),Qe(ie.class)&&di.findEntry(B.classList,ie.class).each(Ee=>{W.classes=Ee.value}),B.hasImageCaption&&Ae(ie.caption)&&(W.caption=ie.caption),B.hasAdvTab&&(Qe(ie.style)&&(W.style=ie.style),Qe(ie.vspace)&&(W.vspace=ie.vspace),Qe(ie.border)&&(W.border=ie.border),Qe(ie.hspace)&&(W.hspace=ie.hspace),Qe(ie.borderstyle)&&(W.borderstyle=ie.borderstyle))},Vd=(B,W)=>{const ie=W.getData(),Ee=ie.src.meta;if(Ee!==void 0){const It=Ei({},ie);xs(B,It,Ee),W.setData(It)}},ui=(B,W,ie,Ee)=>{const It=Ee.getData(),un=It.src.value,ts=It.src.meta||{};!ts.width&&!ts.height&&W.hasDimensions&&(He(un)?B.imageSize(un).then(Dr=>{ie.open&&Ee.setData({dimensions:Dr})}).catch(Dr=>console.error(Dr)):Ee.setData({dimensions:{width:"",height:""}}))},Xc=(B,W,ie)=>{const Ee=ie.getData(),It=di.findEntry(B.imageList,Ee.src.value);W.prevImage=It,ie.setData({images:It.map(un=>un.value).getOr("")})},Ls=(B,W,ie,Ee)=>{Du(W,Ee),Vd(W,Ee),ui(B,W,ie,Ee),Xc(W,ie,Ee)},Ti=(B,W,ie,Ee)=>{const It=Ee.getData(),un=di.findEntry(W.imageList,It.images);un.each(ts=>{It.alt===""||ie.prevImage.map(Hn=>Hn.text===It.alt).getOr(!1)?ts.value===""?Ee.setData({src:ts,alt:ie.prevAlt}):Ee.setData({src:ts,alt:ts.text}):Ee.setData({src:ts})}),ie.prevImage=un,Ls(B,W,ie,Ee)},Di=(B,W,ie,Ee)=>{const It=Ee.getData();Ee.block("Uploading image"),us(It.fileinput).fold(()=>{Ee.unblock()},un=>{const ts=URL.createObjectURL(un),Dr=()=>{Ee.unblock(),URL.revokeObjectURL(ts)},Hn=ga=>{Ee.setData({src:{value:ga,meta:{}}}),Ee.showTab("general"),Ls(B,W,ie,Ee),Ee.focus("src")};nn(un).then(ga=>{const wa=B.createBlobCache(un,ts,ga);W.automaticUploads?B.uploadImage(wa).then(Wi=>{Hn(Wi.url),Dr()}).catch(Wi=>{Dr(),B.alertErr(Wi,()=>{Ee.focus("fileinput")})}):(B.addToBlobCache(wa),Hn(wa.blobUri()),Ee.unblock())})})},jf=(B,W,ie)=>(Ee,It)=>{It.name==="src"?Ls(B,W,ie,Ee):It.name==="images"?Ti(B,W,ie,Ee):It.name==="alt"?ie.prevAlt=Ee.getData().alt:It.name==="fileinput"?Di(B,W,ie,Ee):It.name==="isDecorative"&&Ee.setEnabled("alt",!Ee.getData().isDecorative)},fm=B=>()=>{B.open=!1},ma=B=>B.hasAdvTab||B.hasUploadUrl||B.hasUploadHandler?{type:"tabpanel",tabs:ue([[Kc.makeTab(B)],B.hasAdvTab?[Uf.makeTab(B)]:[],B.hasUploadTab&&(B.hasUploadUrl||B.hasUploadHandler)?[Zf.makeTab(B)]:[]])}:{type:"panel",items:Kc.makeItems(B)},$d=(B,W,ie)=>Ee=>{const It=Ei(Zr(W.image),Ee.getData()),un={...It,style:Fd(ie.normalizeCss,Yc(It,!1))};B.execCommand("mceUpdateImage",!1,Yc(un,W.hasAccessibilityOptions)),B.editorUpload.uploadImagesAuto(),Ee.close()},Ud=B=>W=>zs(B,W)?sr(B.documentBaseURI.toAbsolute(W)).then(ie=>({width:String(ie.width),height:String(ie.height)})):Promise.resolve({width:"",height:""}),cl=B=>(W,ie,Ee)=>{var It;return B.editorUpload.blobCache.create({blob:W,blobUri:ie,name:(It=W.name)===null||It===void 0?void 0:It.replace(/\.[^\.]+$/,""),filename:W.name,base64:Ee.split(",")[1]})},pm=B=>W=>{B.editorUpload.blobCache.add(W)},Zd=B=>(W,ie)=>{B.windowManager.alert(W,ie)},Dg=B=>W=>$s(B,W),Qc=B=>W=>B.dom.parseStyle(W),Ya=B=>(W,ie)=>B.dom.serializeStyle(W,ie),$=B=>W=>ks(B).upload([W],!1).then(ie=>{var Ee;return ie.length===0?Promise.reject("Failed to upload image"):ie[0].status===!1?Promise.reject((Ee=ie[0].error)===null||Ee===void 0?void 0:Ee.message):ie[0]}),ae=B=>{const W={imageSize:Ud(B),addToBlobCache:pm(B),createBlobCache:cl(B),alertErr:Zd(B),normalizeCss:Dg(B),parseStyle:Qc(B),serializeStyle:Ya(B),uploadImage:$(B)};return{open:()=>{$o(B).then(Ee=>{const It=gm(Ee);return{title:"Insert/Edit Image",size:"normal",body:ma(Ee),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Zr(Ee.image),onSubmit:$d(B,Ee,W),onChange:jf(W,Ee,It),onClose:fm(It)}}).then(B.windowManager.open)}}},ve=B=>{B.addCommand("mceImage",ae(B).open),B.addCommand("mceUpdateImage",(W,ie)=>{B.undoManager.transact(()=>sh(B,ie))})},et=B=>{const W=B.attr("class");return zt(W)&&/\bimage\b/.test(W)},At=B=>W=>{let ie=W.length;const Ee=It=>{It.attr("contenteditable",B?"true":null)};for(;ie--;){const It=W[ie];et(It)&&(It.attr("contenteditable",B?"false":null),kg.each(It.getAll("figcaption"),Ee))}},Ut=B=>{B.on("PreInit",()=>{B.parser.addNodeFilter("figure",At(!0)),B.serializer.addNodeFilter("figure",At(!1))})},Qo=B=>W=>{const ie=()=>{W.setEnabled(B.selection.isEditable())};return B.on("NodeChange",ie),ie(),()=>{B.off("NodeChange",ie)}},jn=B=>{B.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ae(B).open,onSetup:W=>{W.setActive(zt(Su(B)));const ie=B.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",W.setActive).unbind,Ee=Qo(B)(W);return()=>{ie(),Ee()}}}),B.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ae(B).open,onSetup:Qo(B)}),B.ui.registry.addContextMenu("image",{update:W=>B.selection.isEditable()&&(bs(W)||il(W)&&!Zn(W))?["image"]:[]})};var Uo=()=>{ne.add("image",B=>{Ho(B),Ut(B),jn(B),ve(B)})};Uo()}()),LV}var zV;function nte(){return zV||(zV=1,ote()),IV}nte();var HV={},VV={},$V;function ste(){return $V||($V=1,function(){var ne=tinymce.util.Tools.resolve("tinymce.PluginManager");const fe=(Pe,Qe)=>{Pe.focus(),Pe.undoManager.transact(()=>{Pe.setContent(Qe)}),Pe.selection.setCursorLocation(),Pe.nodeChanged()},Be=Pe=>Pe.getContent({source_view:!0}),Re=Pe=>{const Qe=Be(Pe);Pe.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Qe},onSubmit:ot=>{fe(Pe,ot.getData().code),ot.close()}})},Ye=Pe=>{Pe.addCommand("mceCodeEditor",()=>{Re(Pe)})},De=Pe=>{const Qe=()=>Pe.execCommand("mceCodeEditor");Pe.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Qe}),Pe.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Qe})};var ye=()=>{ne.add("code",Pe=>(Ye(Pe),De(Pe),{}))};ye()}()),VV}var UV;function rte(){return UV||(UV=1,ste()),HV}rte();var ZV={},jV={},WV;function ate(){return WV||(WV=1,function(){var ne=tinymce.util.Tools.resolve("tinymce.PluginManager");const fe=($,ae,ve)=>{var et;return ve($,ae.prototype)?!0:((et=$.constructor)===null||et===void 0?void 0:et.name)===ae.name},Be=$=>{const ae=typeof $;return $===null?"null":ae==="object"&&Array.isArray($)?"array":ae==="object"&&fe($,String,(ve,et)=>et.isPrototypeOf(ve))?"string":ae},Re=$=>ae=>Be(ae)===$,Ye=$=>ae=>typeof ae===$,De=$=>ae=>$===ae,ye=Re("string"),Pe=Re("object"),Qe=Re("array"),ot=De(null),Ot=Ye("boolean"),Zt=$=>$==null,kt=$=>!Zt($),Ae=Ye("function"),nt=($,ae)=>{if(Qe($)){for(let ve=0,et=$.length;ve<et;++ve)if(!ae($[ve]))return!1;return!0}return!1},zt=()=>{},vt=$=>()=>$,ge=($,ae)=>$===ae;class Le{constructor(ae,ve){this.tag=ae,this.value=ve}static some(ae){return new Le(!0,ae)}static none(){return Le.singletonNone}fold(ae,ve){return this.tag?ve(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?Le.some(ae(this.value)):Le.none()}bind(ae){return this.tag?ae(this.value):Le.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:Le.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae??"Called getOrDie on None")}static from(ae){return kt(ae)?Le.some(ae):Le.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Le.singletonNone=new Le(!1);const Ge=Array.prototype.indexOf,oe=Array.prototype.push,yt=($,ae)=>Ge.call($,ae),ue=($,ae)=>yt($,ae)>-1,rn=($,ae)=>{const ve=$.length,et=new Array(ve);for(let At=0;At<ve;At++){const Ut=$[At];et[At]=ae(Ut,At)}return et},us=($,ae)=>{for(let ve=0,et=$.length;ve<et;ve++){const At=$[ve];ae(At,ve)}},Os=($,ae,ve)=>(us($,(et,At)=>{ve=ae(ve,et,At)}),ve),Yo=$=>{const ae=[];for(let ve=0,et=$.length;ve<et;++ve){if(!Qe($[ve]))throw new Error("Arr.flatten item "+ve+" was not an array, input: "+$);oe.apply(ae,$[ve])}return ae},ze=($,ae)=>Yo(rn($,ae)),no=($,ae)=>{for(let ve=0;ve<$.length;ve++){const et=ae($[ve],ve);if(et.isSome())return et}return Le.none()},E=Object.keys,To=Object.hasOwnProperty,Do=($,ae)=>{const ve=E($);for(let et=0,At=ve.length;et<At;et++){const Ut=ve[et],Qo=$[Ut];ae(Qo,Ut)}},Fn=$=>(ae,ve)=>{$[ve]=ae},ca=($,ae,ve,et)=>{Do($,(At,Ut)=>{(ae(At,Ut)?ve:et)(At,Ut)})},dt=($,ae)=>{const ve={};return ca($,ae,Fn(ve),zt),ve},vn=($,ae)=>To.call($,ae),Ei=($,ae)=>vn($,ae)&&$[ae]!==void 0&&$[ae]!==null,He=$=>{let ae=$;return{get:()=>ae,set:At=>{ae=At}}},we=($,ae,ve=ge)=>$.exists(et=>ve(et,ae)),pt=$=>{const ae=[],ve=et=>{ae.push(et)};for(let et=0;et<$.length;et++)$[et].each(ve);return ae},an=($,ae)=>$?Le.some(ae):Le.none(),Co=$=>{const ae=He(Le.none()),ve=()=>ae.get().each($);return{clear:()=>{ve(),ae.set(Le.none())},isSet:()=>ae.get().isSome(),get:()=>ae.get(),set:jn=>{ve(),ae.set(Le.some(jn))}}},_o=()=>{const $=Co(zt);return{...$,on:ve=>$.get().each(ve)}},Vo=($,ae)=>$.substring(ae),I=($,ae,ve)=>ae===""||$.length>=ae.length&&$.substr(ve,ve+ae.length)===ae,Ks=($,ae)=>_s($,ae)?Vo($,ae.length):$,_s=($,ae)=>I($,ae,0),Io=$=>ae=>ae.options.get($),ci=$=>{const ae=$.options.register;ae("link_assume_external_targets",{processor:ve=>{const et=ye(ve)||Ot(ve);return et?ve===!0?{value:1,valid:et}:ve==="http"||ve==="https"?{value:ve,valid:et}:{value:0,valid:et}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ae("link_context_toolbar",{processor:"boolean",default:!1}),ae("link_list",{processor:ve=>ye(ve)||Ae(ve)||nt(ve,Pe)}),ae("link_default_target",{processor:"string"}),ae("link_default_protocol",{processor:"string",default:"https"}),ae("link_target_list",{processor:ve=>Ot(ve)||nt(ve,Pe),default:!0}),ae("link_rel_list",{processor:"object[]",default:[]}),ae("link_class_list",{processor:"object[]",default:[]}),ae("link_title",{processor:"boolean",default:!0}),ae("allow_unsafe_link_target",{processor:"boolean",default:!1}),ae("link_quicklink",{processor:"boolean",default:!1}),ae("link_attributes_postprocess",{processor:"function"})},ur=Io("link_assume_external_targets"),Ho=Io("link_context_toolbar"),Mn=Io("link_list"),Ro=Io("link_default_target"),Ze=Io("link_default_protocol"),lt=Io("link_target_list"),_t=Io("link_rel_list"),mt=Io("link_class_list"),Un=Io("link_title"),dn=Io("allow_unsafe_link_target"),Lo=Io("link_quicklink"),jc=Io("link_attributes_postprocess");var yn=tinymce.util.Tools.resolve("tinymce.util.URI"),Rs=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Wc=tinymce.util.Tools.resolve("tinymce.util.Tools");const qc=$=>kt($)&&$.nodeName.toLowerCase()==="a",sr=$=>qc($)&&!!Ol($),Pa=($,ae)=>{if($.collapsed)return[];{const ve=$.cloneContents(),et=ve.firstChild,At=new Rs(et,ve),Ut=[];let Qo=et;do ae(Qo)&&Ut.push(Qo);while(Qo=At.next());return Ut}},da=$=>/^\w+:/i.test($),Ol=$=>{var ae,ve;return(ve=(ae=$.getAttribute("data-mce-href"))!==null&&ae!==void 0?ae:$.getAttribute("href"))!==null&&ve!==void 0?ve:""},Ar=($,ae)=>{const ve=["noopener"],et=$?$.split(/\s+/):[],At=Uo=>Wc.trim(Uo.sort().join(" ")),Ut=Uo=>(Uo=Qo(Uo),Uo.length>0?Uo.concat(ve):ve),Qo=Uo=>Uo.filter(B=>Wc.inArray(ve,B)===-1),jn=ae?Ut(et):Qo(et);return jn.length>0?At(jn):""},Qt=$=>$.replace(/\uFEFF/g,""),nn=($,ae)=>(ae=ae||Tt($.selection.getRng())[0]||$.selection.getNode(),Xo(ae)?Le.from($.dom.select("a[href]",ae)[0]):Le.from($.dom.getParent(ae,"a[href]"))),Zn=($,ae)=>nn($,ae).isSome(),zs=($,ae)=>{const ve=ae.fold(()=>$.getContent({format:"text"}),et=>et.innerText||et.textContent||"");return Qt(ve)},Tt=$=>Pa($,sr),Ai=$=>Wc.grep($,sr),mc=$=>Ai($).length>0,ua=$=>Tt($).length>0,Ps=$=>{const ae=$.schema.getTextInlineElements(),ve=Ut=>Ut.nodeType===1&&!qc(Ut)&&!vn(ae,Ut.nodeName.toLowerCase());if(nn($).exists(Ut=>Ut.hasAttribute("data-mce-block")))return!1;const At=$.selection.getRng();return At.collapsed?!0:Pa(At,ve).length===0},Xo=$=>kt($)&&$.nodeName==="FIGURE"&&/\bimage\b/i.test($.className),Vr=$=>Os(["title","rel","class","target"],(ve,et)=>($[et].each(At=>{ve[et]=At.length>0?At:null}),ve),{href:$.href}),Cg=($,ae)=>(ae==="http"||ae==="https")&&!da($)?ae+"://"+$:$,gc=($,ae)=>{const ve={...ae};if(_t($).length===0&&!dn($)){const et=Ar(ve.rel,ve.target==="_blank");ve.rel=et||null}return Le.from(ve.target).isNone()&&lt($)===!1&&(ve.target=Ro($)),ve.href=Cg(ve.href,ur($)),ve},Wo=($,ae,ve,et)=>{ve.each(Ut=>{vn(ae,"innerText")?ae.innerText=Ut:ae.textContent=Ut}),$.dom.setAttribs(ae,et);const At=$.dom.createRng();At.setStartAfter(ae),At.setEndAfter(ae),$.selection.setRng(At)},$r=($,ae,ve,et)=>{const At=$.dom;Xo(ae)?il(At,ae,et):ve.fold(()=>{$.execCommand("mceInsertLink",!1,et);const Ut=$.selection.getEnd(),Qo=At.createRng();Qo.setStartAfter(Ut),Qo.setEndAfter(Ut),$.selection.setRng(Qo)},Ut=>{$.insertContent(At.createHTML("a",et,At.encode(Ut)))})},Tr=($,ae,ve)=>{const et=$.selection.getNode(),At=nn($,et),Ut=gc($,Vr(ve)),Qo=jc($);kt(Qo)&&Qo(Ut),$.undoManager.transact(()=>{ve.href===ae.href&&ae.attach(),At.fold(()=>{$r($,et,ve.text,Ut)},jn=>{$.focus(),Wo($,jn,ve.text,Ut)})})},ya=$=>{const ae=$.dom,ve=$.selection,et=ve.getBookmark(),At=ve.getRng().cloneRange(),Ut=ae.getParent(At.startContainer,"a[href]",$.getBody()),Qo=ae.getParent(At.endContainer,"a[href]",$.getBody());Ut&&At.setStartBefore(Ut),Qo&&At.setEndAfter(Qo),ve.setRng(At),$.execCommand("unlink"),ve.moveToBookmark(et)},Cs=$=>{$.undoManager.transact(()=>{const ae=$.selection.getNode();Xo(ae)?bs($,ae):ya($),$.focus()})},Sn=$=>{const{class:ae,href:ve,rel:et,target:At,text:Ut,title:Qo}=$;return dt({class:ae.getOrNull(),href:ve,rel:et.getOrNull(),target:At.getOrNull(),text:Ut.getOrNull(),title:Qo.getOrNull()},(jn,Uo)=>ot(jn)===!1)},xo=($,ae)=>{const ve=$.options.get,et={allow_html_data_urls:ve("allow_html_data_urls"),allow_script_urls:ve("allow_script_urls"),allow_svg_data_urls:ve("allow_svg_data_urls")},At=ae.href;return{...ae,href:yn.isDomSafe(At,"a",et)?At:""}},ke=($,ae,ve)=>{const et=xo($,ve);$.hasPlugin("rtc",!0)?$.execCommand("createlink",!1,Sn(et)):Tr($,ae,et)},Ld=$=>{$.hasPlugin("rtc",!0)?$.execCommand("unlink"):Cs($)},bs=($,ae)=>{var ve;const et=$.dom.select("img",ae)[0];if(et){const At=$.dom.getParents(et,"a[href]",ae)[0];At&&((ve=At.parentNode)===null||ve===void 0||ve.insertBefore(et,At),$.dom.remove(At))}},il=($,ae,ve)=>{var et;const At=$.select("img",ae)[0];if(At){const Ut=$.create("a",ve);(et=At.parentNode)===null||et===void 0||et.insertBefore(Ut,At),Ut.appendChild(At)}},zn=$=>ye($.value)?$.value:"",ll=$=>ye($.text)?$.text:ye($.title)?$.title:"",Rl=($,ae)=>{const ve=[];return Wc.each($,et=>{const At=ll(et);if(et.menu!==void 0){const Ut=Rl(et.menu,ae);ve.push({text:At,items:Ut})}else{const Ut=ae(et);ve.push({text:At,value:Ut})}}),ve},Fd=($=zn)=>ae=>Le.from(ae).map(ve=>Rl(ve,$)),Vs={sanitize:$=>Fd(zn)($),sanitizeWith:Fd,createUi:($,ae)=>ve=>({name:$,type:"listbox",label:ae,items:ve}),getValue:zn},Ur=$=>Ei($,"items"),In=($,ae)=>no(ae,ve=>Ur(ve)?In($,ve.items):an(ve.value===$,ve)),Nl=($,ae,ve,et)=>{const At=et[ae],Ut=$.length>0;return At!==void 0?In(At,ve).map(Qo=>({url:{value:Qo.value,meta:{text:Ut?$:Qo.text,attach:zt}},text:Ut?$:Qo.text})):Le.none()},es=($,ae)=>ae==="link"?$.link:ae==="anchor"?$.anchor:Le.none(),Su={init:($,ae)=>{const ve={text:$.text,title:$.title},et=Uo=>{var B;return an(ve.title.length<=0,Le.from((B=Uo.meta)===null||B===void 0?void 0:B.title).getOr(""))},At=Uo=>{var B;return an(ve.text.length<=0,Le.from((B=Uo.meta)===null||B===void 0?void 0:B.text).getOr(Uo.value))},Ut=Uo=>{const B=At(Uo.url),W=et(Uo.url);return B.isSome()||W.isSome()?Le.some({...B.map(ie=>({text:ie})).getOr({}),...W.map(ie=>({title:ie})).getOr({})}):Le.none()},Qo=(Uo,B)=>{const W=es(ae,B).getOr([]);return Nl(ve.text,B,W,Uo)};return{onChange:(Uo,B)=>{const W=B.name;return W==="url"?Ut(Uo()):ue(["anchor","link"],W)?Qo(Uo(),W):((W==="text"||W==="title")&&(ve[W]=Uo()[W]),Le.none())}}},getDelta:Nl};var zd=tinymce.util.Tools.resolve("tinymce.util.Delay");const Eu=($,ae,ve)=>{const et=$.selection.getRng();zd.setEditorTimeout($,()=>{$.windowManager.confirm(ae,At=>{$.selection.setRng(et),ve(At)})})},Ml=$=>{const ae=$.href;return ae.indexOf("@")>0&&ae.indexOf("/")===-1&&ae.indexOf("mailto:")===-1?Le.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:et=>({...et,href:"mailto:"+ae})}):Le.none()},fc=($,ae)=>ve=>{const et=ve.href;return $===1&&!da(et)||$===0&&/^\s*www(\.|\d\.)/i.test(et)?Le.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ae}:// prefix?`,preprocess:Ut=>({...Ut,href:ae+"://"+et})}):Le.none()},mr={preprocess:($,ae)=>no([Ml,fc(ur($),Ze($))],ve=>ve(ae)).fold(()=>Promise.resolve(ae),ve=>new Promise(et=>{Eu($,ve.message,At=>{et(At?ve.preprocess(ae):ae)})}))},sh={getAnchors:$=>{const ae=$.dom.select("a:not([href])"),ve=ze(ae,et=>{const At=et.name||et.id;return At?[{text:At,value:"#"+At}]:[]});return ve.length>0?Le.some([{text:"None",value:""}].concat(ve)):Le.none()}},kg={getClasses:$=>{const ae=mt($);return ae.length>0?Vs.sanitize(ae):Le.none()}},Pt=$=>{try{return Le.some(JSON.parse($))}catch{return Le.none()}},Sg={getLinks:$=>{const ae=et=>$.convertURL(et.value||et.url||"","href"),ve=Mn($);return new Promise(et=>{ye(ve)?fetch(ve).then(At=>At.ok?At.text().then(Pt):Promise.reject()).then(et,()=>et(Le.none())):Ae(ve)?ve(At=>et(Le.some(At))):et(Le.from(ve))}).then(et=>et.bind(Vs.sanitizeWith(ae)).map(At=>At.length>0?[{text:"None",value:""}].concat(At):At))}},Gc={getRels:($,ae)=>{const ve=_t($);if(ve.length>0){const et=we(ae,"_blank"),At=dn($)===!1,Ut=jn=>Ar(Vs.getValue(jn),et);return(At?Vs.sanitizeWith(Ut):Vs.sanitize)(ve)}return Le.none()}},Ag=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Bl={getTargets:$=>{const ae=lt($);return Qe(ae)?Vs.sanitize(ae).orThunk(()=>Le.some(Ag)):ae===!1?Le.none():Le.some(Ag)}},di=($,ae,ve)=>{const et=$.getAttrib(ae,ve);return et!==null&&et.length>0?Le.some(et):Le.none()},$f=($,ae)=>{const ve=$.dom,At=Ps($)?Le.some(zs($.selection,ae)):Le.none(),Ut=ae.bind(W=>Le.from(ve.getAttrib(W,"href"))),Qo=ae.bind(W=>Le.from(ve.getAttrib(W,"target"))),jn=ae.bind(W=>di(ve,W,"rel")),Uo=ae.bind(W=>di(ve,W,"class")),B=ae.bind(W=>di(ve,W,"title"));return{url:Ut,text:At,title:B,target:Qo,rel:jn,linkClass:Uo}},$o={collect:($,ae)=>Sg.getLinks($).then(ve=>{const et=$f($,ae);return{anchor:et,catalogs:{targets:Bl.getTargets($),rels:Gc.getRels($,et.target),classes:kg.getClasses($),anchor:sh.getAnchors($),link:ve},optNode:ae,flags:{titleEnabled:Un($)}}})},Is=($,ae)=>ve=>{const et=ve.getData();if(!et.url.value){Ld($),ve.close();return}const At=jn=>Le.from(et[jn]).filter(Uo=>!we(ae.anchor[jn],Uo)),Ut={href:et.url.value,text:At("text"),target:At("target"),rel:At("rel"),class:At("linkClass"),title:At("title")},Qo={href:et.url.value,attach:et.url.meta!==void 0&&et.url.meta.attach?et.url.meta.attach:zt};mr.preprocess($,Ut).then(jn=>{ke($,Qo,jn)}),ve.close()},Tg=$=>{const ae=nn($);return $o.collect($,ae)},Kc=($,ae)=>{const ve=$.anchor,et=ve.url.getOr("");return{url:{value:et,meta:{original:{value:et}}},text:ve.text.getOr(""),title:ve.title.getOr(""),anchor:et,link:et,rel:ve.rel.getOr(""),target:ve.target.or(ae).getOr(""),linkClass:ve.linkClass.getOr("")}},Pl=($,ae,ve)=>{const et=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],At=$.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Ut=$.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Qo=Le.from(Ro(ve)),jn=Kc($,Qo),Uo=$.catalogs,B=Su.init(jn,Uo);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Yo([et,At,Ut,pt([Uo.anchor.map(Vs.createUi("anchor","Anchors")),Uo.rels.map(Vs.createUi("rel","Rel")),Uo.targets.map(Vs.createUi("target","Open link in...")),Uo.link.map(Vs.createUi("link","Link list")),Uo.classes.map(Vs.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:jn,onChange:(ie,{name:Ee})=>{B.onChange(ie.getData,{name:Ee}).each(It=>{ie.setData(It)})},onSubmit:ae}},Zf=$=>{Tg($).then(ve=>{const et=Is($,ve);return Pl(ve,et,$)}).then(ve=>{$.windowManager.open(ve)})},gm=$=>{$.addCommand("mceLink",(ae,ve)=>{ve?.dialog===!0||!Lo($)?Zf($):$.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},Zr=$=>{$.addShortcut("Meta+K","",()=>{$.execCommand("mceLink")})};var Yc=tinymce.util.Tools.resolve("tinymce.util.VK");const rh=($,ae)=>{document.body.appendChild($),$.dispatchEvent(ae),document.body.removeChild($)},Du=$=>{const ae=document.createElement("a");ae.target="_blank",ae.href=$,ae.rel="noreferrer noopener";const ve=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(ve),rh(ae,ve)},xs=$=>$.altKey===!0&&$.shiftKey===!1&&$.ctrlKey===!1&&$.metaKey===!1,Vd=($,ae)=>{if(ae){const ve=Ol(ae);if(/^#/.test(ve)){const et=$.dom.select(`${ve},[name="${Ks(ve,"#")}"]`);et.length&&$.selection.scrollIntoView(et[0],!0)}else Du(ae.href)}},ui=$=>{const ae=$.selection.getRng(),ve=ae.startContainer;return sr(ve)&&ae.startContainer===ae.endContainer&&$.dom.select("img",ve).length===1},Xc=($,ae)=>{const ve=Ai($.dom.getParents(ae));return an(ve.length===1,ve[0])},Ls=$=>{const ae=Tt($.selection.getRng());return an(ae.length>0,ae[0]).or(Xc($,$.selection.getNode()))},Ti=$=>$.selection.isCollapsed()||ui($)?Xc($,$.selection.getStart()):Ls($),Di=$=>{const ae=_o(),ve=()=>ae.get().or(Ti($)),et=()=>ve().each(At=>Vd($,At));return $.on("contextmenu",At=>{Xc($,At.target).each(ae.set)}),$.on("SelectionChange",()=>{ae.isSet()||Ti($).each(ae.set)}),$.on("click",At=>{ae.clear();const Ut=Ai($.dom.getParents(At.target));Ut.length===1&&Yc.metaKeyPressed(At)&&(At.preventDefault(),Vd($,Ut[0]))}),$.on("keydown",At=>{ae.clear(),!At.isDefaultPrevented()&&At.keyCode===13&&xs(At)&&ve().each(Ut=>{At.preventDefault(),Vd($,Ut)})}),{gotoSelectedLink:et}},jf=$=>()=>{$.execCommand("mceLink",!1,{dialog:!0})},fm=($,ae)=>($.on("NodeChange",ae),()=>$.off("NodeChange",ae)),ma=$=>ae=>{const ve=()=>{ae.setActive(!$.mode.isReadOnly()&&Zn($,$.selection.getNode())),ae.setEnabled($.selection.isEditable())};return ve(),fm($,ve)},$d=$=>ae=>{const ve=()=>{ae.setEnabled($.selection.isEditable())};return ve(),fm($,ve)},Ud=$=>ae=>{const ve=Ut=>mc(Ut)||ua($.selection.getRng()),et=$.dom.getParents($.selection.getStart()),At=Ut=>{ae.setEnabled(ve(Ut)&&$.selection.isEditable())};return At(et),fm($,Ut=>At(Ut.parents))},cl=($,ae)=>{$.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:jf($),onSetup:ma($)}),$.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ae.gotoSelectedLink,onSetup:Ud($)}),$.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Ld($),onSetup:Ud($)})},pm=($,ae)=>{$.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ae.gotoSelectedLink,onSetup:Ud($)}),$.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:jf($),onSetup:$d($)}),$.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Ld($),onSetup:Ud($)})},Zd=$=>{const ae="link unlink openlink",ve="link";$.ui.registry.addContextMenu("link",{update:et=>$.dom.isEditable(et)?mc($.dom.getParents(et,"a"))?ae:ve:""})},Dg=($,ae)=>{const ve=Ut=>{Ut.selection.collapse(!1)},et=Ut=>{const Qo=$.selection.getNode();return Ut.setEnabled(Zn($,Qo)&&$.selection.isEditable()),zt},At=Ut=>{const Qo=nn($),jn=Ps($);if(Qo.isNone()&&jn){const Uo=zs($.selection,Qo);return an(Uo.length===0,Ut)}else return Le.none()};$.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:ma($)},label:"Link",predicate:Ut=>Ho($)&&Zn($,Ut),initValue:()=>nn($).fold(vt(""),Ol),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Ut=>{const Qo=$.selection.getNode();return Ut.setActive(Zn($,Qo)),ma($)(Ut)},onAction:Ut=>{const Qo=Ut.getValue(),jn=At(Qo);ke($,{href:Qo,attach:zt},{href:Qo,text:jn,title:Le.none(),rel:Le.none(),target:Le.from(Ro($)),class:Le.none()}),ve($),Ut.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:et,onAction:Ut=>{Ld($),Ut.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:et,onAction:Ut=>{ae.gotoSelectedLink(),Ut.hide()}}]})},Qc=$=>{const ae=Di($);cl($,ae),pm($,ae),Zd($),Dg($,ae)};var Ya=()=>{ne.add("link",$=>{ci($),gm($),Qc($),Zr($)})};Ya()}()),jV}var qV;function ite(){return qV||(qV=1,ate()),ZV}ite();tinymce.Resource.add("ui/oxide/content.css",`@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],> audio[data-mce-selected],> video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.tox-suggestededits__annotation--added,.tox-suggestededits__annotation--modified,.tox-suggestededits__annotation--removed{-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--added__highlight{background-color:rgba(120,171,70,.2);-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--added__selected{background-color:rgba(120,171,70,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--modified__highlight{background-color:rgba(0,108,231,.2);-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--modified__selected{background-color:rgba(0,108,231,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--removed__highlight{background-color:rgba(204,0,0,.2);-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--removed__selected{background-color:rgba(204,0,0,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--added.tox-suggestededits__annotation--added__hidden,.tox-suggestededits__annotation--modified.tox-suggestededits__annotation--modified__hidden,.tox-suggestededits__annotation--removed.tox-suggestededits__annotation--removed__hidden{display:none;-webkit-text-decoration:none;text-decoration:none}:has(> div > iframe).tox-suggestededits__annotation--added,:has(> div > iframe).tox-suggestededits__annotation--modified,:has(> div > iframe).tox-suggestededits__annotation--removed{padding:7px;margin:5px}iframe.tox-suggestededits__annotation--added__highlight,img.tox-suggestededits__annotation--added__highlight,video.tox-suggestededits__annotation--added__highlight{outline:.25em solid rgba(120,171,70,.2);padding:.25em}iframe.tox-suggestededits__annotation--added__selected,img.tox-suggestededits__annotation--added__selected,video.tox-suggestededits__annotation--added__selected{border:.25em solid rgba(120,171,70,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--modified__highlight,img.tox-suggestededits__annotation--modified__highlight,video.tox-suggestededits__annotation--modified__highlight{outline:.25em solid rgba(0,108,231,.2);padding:.25em}iframe.tox-suggestededits__annotation--modified__selected,img.tox-suggestededits__annotation--modified__selected,video.tox-suggestededits__annotation--modified__selected{border:.25em solid rgba(0,108,231,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--removed__highlight,img.tox-suggestededits__annotation--removed__highlight,video.tox-suggestededits__annotation--removed__highlight{outline:.25em solid rgba(204,0,0,.2);padding:.25em}iframe.tox-suggestededits__annotation--removed__selected,img.tox-suggestededits__annotation--removed__selected,video.tox-suggestededits__annotation--removed__selected{border:.25em solid rgba(204,0,0,.2);outline:.125em solid #006ce7;padding:0}div.tox-suggestededits__annotation:has(> hr){padding:.25em}div.tox-suggestededits__annotation--removed__highlight>hr{border-color:rgba(0,0,0,.2)}div.tox-suggestededits__annotation--added__highlight>hr{border-color:rgba(0,0,0,.2)}.mce-pagebreak.tox-suggestededits__annotation--added__selected,.mce-pagebreak.tox-suggestededits__annotation--modified__selected,.mce-pagebreak.tox-suggestededits__annotation--removed__selected{border:1px dashed #aaa;box-shadow:none}.mce-pagebreak.tox-suggestededits__annotation--added__highlight,.mce-pagebreak.tox-suggestededits__annotation--modified__highlight,.mce-pagebreak.tox-suggestededits__annotation--removed__highlight{padding:0}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:rgba(255,255,255,.5)}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:min(100%,600px);height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--icon-min-width:24px;--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out;box-shadow:0 0 0 99999px #222f3e80;z-index:1}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]:is(td,th,tr){position:static}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);tinymce.addI18n("fr_FR",{"#":"#",Accessibility:"Accessibilité",Accordion:"Accordéon","Accordion body...":"Corps de l'accordéon...","Accordion summary...":"Résumé de l'accordéon...",Action:"Action",Activity:"Activité",Address:"Adresse",Advanced:"Options avancées",Align:"Aligner","Align center":"Centrer","Align left":"Aligner à gauche","Align right":"Aligner à droite",Alignment:"Alignement","Alignment {0}":"Alignement {0}",All:"Tout","Alternative description":"Description alternative","Alternative source":"Source alternative","Alternative source URL":"URL de la source alternative",Anchor:"Ancre","Anchor...":"Ancre...",Anchors:"Ancres","Animals and Nature":"Animaux & nature",Arrows:"Flèches",B:"B","Background color":"Couleur d'arrière-plan","Background color {0}":"Couleur d'arrière-plan {0}",Black:"Noir",Block:"Bloc","Block {0}":"Bloc {0}",Blockquote:"Bloc de citation",Blocks:"Blocs",Blue:"Bleu","Blue component":"Composant bleu",Body:"Corps",Bold:"Gras",Border:"Bordure","Border color":"Couleur de bordure","Border style":"Style de la bordure","Border width":"Épaisseur de la bordure",Bottom:"En bas","Browse files":"Consulter les fichiers","Browse for an image":"Rechercher une image","Browse links":"Consulter les liens","Bullet list":"Liste à puces",Cancel:"Annuler",Caption:"Légende",Cell:"Cellule","Cell padding":"Marge intérieure des cellules","Cell properties":"Propriétés de la cellule","Cell spacing":"Espacement entre les cellules","Cell styles":"Type de cellule","Cell type":"Type de cellule",Center:"Centre",Characters:"Caractères","Characters (no spaces)":"Caractères (espaces non compris)",Circle:"Cercle",Class:"Classe","Clear formatting":"Effacer la mise en forme",Close:"Fermer",Code:"Code","Code sample...":"Exemple de code...","Code view":"Affichage du code","Color Picker":"Sélecteur de couleurs","Color swatch":"Échantillon de couleurs",Cols:"Colonnes",Column:"Colonne","Column clipboard actions":"Actions du presse-papiers des colonnes","Column group":"Groupe de colonnes","Column header":"En-tête de colonne","Constrain proportions":"Limiter les proportions",Copy:"Copier","Copy column":"Copier la colonne","Copy row":"Copier la ligne","Could not find the specified string.":"Impossible de trouver la chaîne spécifiée.","Could not load emojis":"Impossible de charger les emojis",Count:"Total",Currency:"Devise","Current window":"Fenêtre active","Custom color":"Couleur personnalisée","Custom...":"Personnalisée...",Cut:"Couper","Cut column":"Couper la colonne","Cut row":"Couper la ligne","Dark Blue":"Bleu foncé","Dark Gray":"Gris foncé","Dark Green":"Vert foncé","Dark Orange":"Orange foncé","Dark Purple":"Violet foncé","Dark Red":"Rouge foncé","Dark Turquoise":"Turquoise foncé","Dark Yellow":"Jaune foncé",Dashed:"Tirets","Date/time":"Date/heure","Decrease indent":"Réduire le retrait",Default:"Par défaut","Delete accordion":"Supprimer l'accordéon","Delete column":"Supprimer la colonne","Delete row":"Supprimer la ligne","Delete table":"Supprimer le tableau",Dimensions:"Dimensions",Disc:"Disque",Div:"Div",Document:"Document",Dotted:"Pointillé",Double:"Deux traits continus","Drop an image here":"Déposer une image ici","Dropped file type is not supported":"Le type de fichier déposé n'est pas pris en charge",Edit:"Modifier",Embed:"Incorporer",Emojis:"Émojis","Emojis...":"Émojis...",Error:"Erreur","Error: Form submit field collision.":"Erreur : conflit de champs lors de la soumission du formulaire.","Error: No form element found.":"Erreur : aucun élément de formulaire trouvé.","Extended Latin":"Latin étendu","Failed to initialize plugin: {0}":"Échec d'initialisation de l'extension : {0}","Failed to load plugin url: {0}":"Échec de chargement de l'URL du plug-in : {0}","Failed to load plugin: {0} from url {1}":"Échec de chargement du plug-in : {0} à partir de l’URL {1}","Failed to upload image: {0}":"Échec d'envoi de l'image : {0}",File:"Fichier",Find:"Rechercher","Find (if searchreplace plugin activated)":"Rechercher (si l'extension 'searchreplace' est activée)","Find and Replace":"Trouver et remplacer","Find and replace...":"Trouver et remplacer...","Find in selection":"Trouver dans la sélection","Find whole words only":"Mot entier",Flags:"Drapeaux","Focus to contextual toolbar":"Mettre le focus sur la barre d'outils contextuelle","Focus to element path":"Mettre le focus sur le chemin vers l'élément","Focus to menubar":"Mettre le focus sur la barre de menu","Focus to toolbar":"Mettre le focus sur la barre d'outils",Font:"Police","Font size {0}":"Taille de police {0}","Font sizes":"Tailles de police","Font {0}":"Police {0}",Fonts:"Polices","Food and Drink":"Nourriture & boissons",Footer:"Pied de page",Format:"Format","Format {0}":"Format {0}",Formats:"Formats",Fullscreen:"Plein écran",G:"V",General:"Général",Gray:"Gris",Green:"Vert","Green component":"Composant vert",Groove:"Sculpté","Handy Shortcuts":"Raccourcis utiles",Header:"En-tête","Header cell":"Cellule d'en-tête","Heading 1":"Titre 1","Heading 2":"Titre 2","Heading 3":"Titre 3","Heading 4":"Titre 4","Heading 5":"Titre 5","Heading 6":"Titre 6",Headings:"Titres",Height:"Hauteur",Help:"Aide","Hex color code":"Code couleur hexadécimal",Hidden:"Masqué","Horizontal align":"Alignement horizontal","Horizontal line":"Ligne horizontale","Horizontal space":"Espace horizontal",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"L'ID doit commencer par une lettre, suivie uniquement par des lettres, numéros, tirets, points, deux-points et underscores.","Image is decorative":"L'image est décorative","Image list":"Liste des images","Image title":"Titre d'image","Image...":"Image...","ImageProxy HTTP error: Could not find Image Proxy":"Erreur HTTP d'ImageProxy : Impossible de trouver ImageProxy","ImageProxy HTTP error: Incorrect Image Proxy URL":"Erreur HTTP d'ImageProxy : URL de ImageProxy incorrecte","ImageProxy HTTP error: Rejected request":"Erreur HTTP d'ImageProxy : Requête rejetée","ImageProxy HTTP error: Unknown ImageProxy error":"Erreur HTTP d'ImageProxy : Erreur ImageProxy inconnue","Increase indent":"Augmenter le retrait",Inline:"En ligne",Insert:"Insérer","Insert Template":"Insérer le modèle","Insert accordion":"Insérer un accordéon","Insert column after":"Insérer une colonne après","Insert column before":"Insérer une colonne avant","Insert date/time":"Insérer date/heure","Insert image":"Insérer une image","Insert link (if link plugin activated)":"Insérer un lien (si l'extension 'link' est activée)","Insert row after":"Insérer une ligne après","Insert row before":"Insérer une ligne avant","Insert table":"Insérer un tableau","Insert template...":"Insérer un modèle...","Insert video":"Insérer une vidéo","Insert/Edit code sample":"Insérer / modifier un bloc de code","Insert/edit image":"Insérer/modifier image","Insert/edit link":"Insérer/modifier lien","Insert/edit media":"Insérer/modifier un média","Insert/edit video":"Insérer/modifier une vidéo",Inset:"Incrusté","Invalid hex color code: {0}":"Code couleur hexadécimal invalide : {0}","Invalid input":"Entrée invalide",Italic:"Italique",Justify:"Justifier","Keyboard Navigation":"Navigation au clavier",Language:"Langue","Learn more...":"En savoir plus...",Left:"Gauche","Left to right":"De gauche à droite","Light Blue":"Bleu clair","Light Gray":"Gris clair","Light Green":"Vert clair","Light Purple":"Violet clair","Light Red":"Rouge clair","Light Yellow":"Jaune clair","Line height":"Hauteur de la ligne","Link list":"Liste des liens","Link...":"Lien...","List Properties":"Propriétés de la liste","List properties...":"Lister les propriétés...","Loading emojis...":"Chargement des emojis...","Loading...":"Chargement...","Lower Alpha":"Alphabet en minuscules","Lower Greek":"Alphabet grec en minuscules","Lower Roman":"Chiffre romain inférieur","Match case":"Respecter la casse",Mathematical:"Opérateurs mathématiques","Media poster (Image URL)":"Affiche de média (URL de l'image)","Media...":"Média...","Medium Blue":"Bleu moyen","Medium Gray":"Gris moyen","Medium Purple":"Violet moyen","Merge cells":"Fusionner les cellules",Middle:"Au milieu","Midnight Blue":"Bleu de minuit","More...":"Plus...",Name:"Nom","Navy Blue":"Bleu marine","New document":"Nouveau document","New window":"Nouvelle fenêtre",Next:"Suivante",No:"Non","No alignment":"Aucun alignement","No color":"Aucune couleur","Nonbreaking space":"Espace insécable",None:"Aucun","Numbered list":"Liste numérotée",OR:"OU",Objects:"Objets",Ok:"Ok","Open help dialog":"Ouvrir la boîte de dialogue d'aide","Open link":"Ouvrir le lien","Open link in...":"Ouvrir le lien dans...","Open popup menu for split buttons":"Ouvrir le menu contextuel pour les boutons partagés",Orange:"Orange",Outset:"Relief","Page break":"Saut de page",Paragraph:"Paragraphe",Paste:"Coller","Paste as text":"Coller comme texte","Paste column after":"Coller la colonne après","Paste column before":"Coller la colonne avant","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Le collage est maintenant en mode texte brut. Les contenus seront collés sans retenir les formatages jusqu'à ce que vous désactiviez cette option.","Paste or type a link":"Coller ou taper un lien","Paste row after":"Coller la ligne après","Paste row before":"Coller la ligne avant","Paste your embed code below:":"Collez votre code incorporé ci-dessous :",People:"Personnes",Plugins:"Plug-ins","Plugins installed ({0}):":"Extensions installées ({0}) :","Powered by {0}":"Avec {0}",Pre:"Préformaté",Preferences:"Préférences",Preformatted:"Préformaté","Premium plugins:":"Plug-ins premium :","Press the Up and Down arrow keys to resize the editor.":"Appuyez sur les touches fléchées haut et bas pour redimensionner l'éditeur.","Press the arrow keys to resize the editor.":"Appuyez sur les touches fléchées pour redimensionner l'éditeur.","Press {0} for help":"Appuyez sur {0} pour obtenir de l'aide",Preview:"Aperçu",Previous:"Précédente",Print:"Imprimer","Print...":"Imprimer...",Purple:"Violet",Quotations:"Citations",R:"R","Range 0 to 255":"Plage de 0 à 255",Red:"Rouge","Red component":"Composant rouge",Redo:"Refaire",Remove:"Retiré","Remove color":"Supprimer la couleur","Remove link":"Enlever le lien",Replace:"Remplacer","Replace all":"Remplacer tout","Replace with":"Remplacer par",Resize:"Redimensionner","Restore last draft":"Restaurer le dernier brouillon","Reveal or hide additional toolbar items":"Affichez ou masquez les éléments supplémentaires de la barre d'outils","Rich Text Area":"Zone de Texte Riche","Rich Text Area. Press ALT-0 for help.":"Zone de Texte Riche. Appuyez sur ALT-0 pour l'aide.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Zone de Texte Riche. Appuyez sur ALT-F9 pour le menu. Appuyez sur ALT-F10 pour la barre d'outils. Appuyez sur ALT-0 pour l'aide",Ridge:"Extrudé",Right:"Droite","Right to left":"De droite à gauche",Row:"Ligne","Row clipboard actions":"Actions du presse-papiers des lignes","Row group":"Groupe de lignes","Row header":"En-tête de ligne","Row properties":"Propriétés de la ligne","Row type":"Type de ligne",Rows:"Lignes",Save:"Enregistrer","Save (if save plugin activated)":"Enregistrer (si l'extension 'save' est activée)",Scope:"Étendue",Search:"Rechercher","Select all":"Sélectionner tout","Select...":"Sélectionner...",Selection:"Sélection",Shortcut:"Raccourci","Show blocks":"Afficher les blocs","Show caption":"Afficher une légende","Show invisible characters":"Afficher les caractères invisibles",Size:"Taille",Solid:"Trait continu",Source:"Source","Source code":"Code source","Special Character":"Caractère spécial","Special character...":"Caractère spécial...","Split cell":"Diviser la cellule",Square:"Carré","Start list at number":"Liste de départ au numéro",Strikethrough:"Barré",Style:"Style",Subscript:"Indice",Superscript:"Exposant","Switch to or from fullscreen mode":"Passer en ou quitter le mode plein écran",Symbols:"Symboles","System Font":"Police système",Table:"Tableau","Table caption":"Légende de tableau","Table properties":"Propriétés du tableau","Table styles":"Style tableau",Template:"Modèle",Templates:"Modèles",Text:"Texte","Text color":"Couleur du texte","Text color {0}":"Couleur du texte {0}","Text to display":"Texte à afficher","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"L'URL que vous avez saisie semble être une adresse e-mail. Souhaitez-vous y ajouter le préfixe requis mailto: ?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"L'URL que vous avez saisie semble être un lien externe. Souhaitez-vous y ajouter le préfixe requis mailto: ?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"L'URL que vous avez saisie semble être un lien externe. Voulez-vous ajouter le préfixe https:// requis ?",Title:"Titre","To open the popup, press Shift+Enter":"Pour ouvrir la popup, appuyez sur Maj+Entrée","Toggle accordion":"Activer l'accordéon",Tools:"Outils",Top:"En haut","Travel and Places":"Voyages et lieux",Turquoise:"Turquoise",Underline:"Souligné",Undo:"Annuler",Upload:"Télécharger","Uploading image":"Téléversement d'une image","Upper Alpha":"Alphabet en majuscules","Upper Roman":"Chiffre romain supérieur",Url:"URL","User Defined":"Défini par l'utilisateur",Valid:"Valide",Version:"Version","Vertical align":"Alignement vertical","Vertical space":"Espace vertical",View:"Afficher","Visual aids":"Aides visuelles",Warn:"Avertir",White:"Blanc",Width:"Largeur","Word count":"Nombre de mots",Words:"Mots","Words: {0}":"Mots : {0}",Yellow:"Jaune",Yes:"Oui","You are using {0}":"Vous utilisez {0}","You have unsaved changes are you sure you want to navigate away?":"Vous avez des modifications non enregistrées, êtes-vous sûr de vouloir quitter la page ?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Votre navigateur ne supporte pas l’accès direct au presse-papiers. Merci d'utiliser les raccourcis clavier Ctrl+X/C/V.",alignment:"alignement","austral sign":"Symbole austral","cedi sign":"Symbole cedi","colon sign":"symbole colón","cruzeiro sign":"Symbole cruzeiro","currency sign":"symbole devise","dollar sign":"symbole dollar","dong sign":"Symbole dong","drachma sign":"Symbole drachme","euro-currency sign":"symbole euro",example:"exemple",formatting:"mise en forme","french franc sign":"symbole franc français","german penny symbol":"Symbole pfennig","guarani sign":"Symbole guarani",history:"historique","hryvnia sign":"Symbole hryvnia",indentation:"retrait","indian rupee sign":"Symbole roupie indienne","kip sign":"Symbole kip","lira sign":"Symbole lire","livre tournois sign":"Symbole livre tournois","manat sign":"Symbole manat","mill sign":"Symbole millième","naira sign":"Symbole naira","new sheqel sign":"Symbole nouveau chékel","nordic mark sign":"Symbole du mark nordique","peseta sign":"Symbole peseta","peso sign":"Symbole peso","ruble sign":"Symbole rouble","rupee sign":"Symbole roupie","spesmilo sign":"Symbole spesmilo",styles:"styles","tenge sign":"Symbole tenge","tugrik sign":"Symbole tougrik","turkish lira sign":"Symbole lire turque","won sign":"Symbole won","yen character":"Sinogramme Yen","yen/yuan character variant one":"Sinogramme Yen/Yuan, première variante","yuan character":"Sinogramme Yuan","yuan character, in hong kong and taiwan":"Sinogramme Yuan, Hong Kong et Taiwan","{0} characters":"{0} caractères","{0} columns, {1} rows":" {0} colonnes, {1} lignes","{0} words":"{0} mots"});var lte=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],cte=function(ne){return lte.map(function(fe){return fe.toLowerCase()}).indexOf(ne.toLowerCase())!==-1},dte=function(ne,fe,Be){Object.keys(fe).filter(cte).forEach(function(Re){var Ye=fe[Re];typeof Ye=="function"&&(Re==="onInit"?Ye(ne,Be):Be.on(Re.substring(2),function(De){return Ye(De,Be)}))})},ute=function(ne,fe,Be,Re){var Ye=ne.modelEvents?ne.modelEvents:null,De=Array.isArray(Ye)?Ye.join(" "):Ye;qb(Re,function(ye,Pe){Be&&typeof ye=="string"&&ye!==Pe&&ye!==Be.getContent({format:ne.outputFormat})&&Be.setContent(ye)}),Be.on(De||"change input undo redo",function(){fe.emit("update:modelValue",Be.getContent({format:ne.outputFormat}))})},mte=function(ne,fe,Be,Re,Ye,De){Re.setContent(De()),Be.attrs["onUpdate:modelValue"]&&ute(fe,Be,Re,Ye),dte(ne,Be.attrs,Re)},GV=0,f$=function(ne){var fe=Date.now(),Be=Math.floor(Math.random()*1e9);return GV++,ne+"_"+Be+GV+String(fe)},gte=function(ne){return ne!==null&&ne.tagName.toLowerCase()==="textarea"},KV=function(ne){return typeof ne>"u"||ne===""?[]:Array.isArray(ne)?ne:ne.split(" ")},fte=function(ne,fe){return KV(ne).concat(KV(fe))},pte=function(ne){return ne==null},YV=function(ne){var fe;return typeof((fe=ne.options)===null||fe===void 0?void 0:fe.set)=="function"&&ne.options.isRegistered("disabled")},XV=function(){return{listeners:[],scriptId:f$("tiny-script"),scriptLoaded:!1}},hte=function(){var ne=XV(),fe=function(Ye,De,ye,Pe){var Qe=De.createElement("script");Qe.referrerPolicy="origin",Qe.type="application/javascript",Qe.id=Ye,Qe.src=ye;var ot=function(){Qe.removeEventListener("load",ot),Pe()};Qe.addEventListener("load",ot),De.head&&De.head.appendChild(Qe)},Be=function(Ye,De,ye){ne.scriptLoaded?ye():(ne.listeners.push(ye),Ye.getElementById(ne.scriptId)||fe(ne.scriptId,Ye,De,function(){ne.listeners.forEach(function(Pe){return Pe()}),ne.scriptLoaded=!0}))},Re=function(){ne=XV()};return{load:Be,reinitialize:Re}},bte=hte(),xte=function(){return typeof window<"u"?window:global},H2=function(){var ne=xte();return ne&&ne.tinymce?ne.tinymce:null},vte={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(ne){return ne==="html"||ne==="text"}}},th=function(){return th=Object.assign||function(ne){for(var fe,Be=1,Re=arguments.length;Be<Re;Be++){fe=arguments[Be];for(var Ye in fe)Object.prototype.hasOwnProperty.call(fe,Ye)&&(ne[Ye]=fe[Ye])}return ne},th.apply(this,arguments)},yte=function(ne,fe,Be,Re){return ne(Re||"div",{id:fe,ref:Be})},wte=function(ne,fe,Be){return ne("textarea",{id:fe,visibility:"hidden",ref:Be})},zL={selector:void 0,target:void 0},HL=function(ne,fe){var Be;typeof((Be=ne.mode)===null||Be===void 0?void 0:Be.set)=="function"?ne.mode.set(fe):ne.setMode(fe)},p$=Hr({props:vte,setup:function(ne,fe){var Be=ne.init?th(th({},ne.init),zL):th({},zL),Re=EJ(ne),Ye=Re.disabled,De=Re.readonly,ye=Re.modelValue,Pe=Re.tagName,Qe=jo(null),ot=null,Ot=ne.id||f$("tiny-vue"),Zt=ne.init&&ne.init.inline||ne.inline,kt=!!fe.attrs["onUpdate:modelValue"],Ae=!0,nt=ne.initialValue?ne.initialValue:"",zt="",vt=function(Ge){return kt?function(){return ye?.value?ye.value:""}:function(){return Ge?nt:zt}},ge=function(){var Ge=vt(Ae),oe=th(th({},Be),{disabled:ne.disabled,readonly:ne.readonly,target:Qe.value,plugins:fte(Be.plugins,ne.plugins),toolbar:ne.toolbar||Be.toolbar,inline:Zt,license_key:ne.licenseKey,setup:function(yt){ot=yt,!YV(ot)&&ne.disabled===!0&&HL(ot,"readonly"),yt.on("init",function(ue){return mte(ue,ne,fe,yt,ye,Ge)}),typeof Be.setup=="function"&&Be.setup(yt)}});gte(Qe.value)&&(Qe.value.style.visibility=""),H2().init(oe),Ae=!1};qb(De,function(Ge){ot!==null&&HL(ot,Ge?"readonly":"design")}),qb(Ye,function(Ge){ot!==null&&(YV(ot)?ot.options.set("disabled",Ge):HL(ot,Ge?"readonly":"design"))}),qb(Pe,function(Ge){var oe;ot&&(kt||(zt=ot.getContent()),(oe=H2())===null||oe===void 0||oe.remove(ot),aR(function(){return ge()}))}),ku(function(){if(H2()!==null)ge();else if(Qe.value&&Qe.value.ownerDocument){var Ge=ne.cloudChannel?ne.cloudChannel:"8",oe=ne.apiKey?ne.apiKey:"no-api-key",yt=pte(ne.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(oe,"/tinymce/").concat(Ge,"/tinymce.min.js"):ne.tinymceScriptSrc;bte.load(Qe.value.ownerDocument,yt,ge)}}),AJ(function(){H2()!==null&&H2().remove(ot)}),Zt||(TJ(function(){Ae||ge()}),DJ(function(){var Ge;ot&&(kt||(zt=ot.getContent()),(Ge=H2())===null||Ge===void 0||Ge.remove(ot))}));var Le=function(Ge){var oe;ot&&(zt=ot.getContent(),(oe=H2())===null||oe===void 0||oe.remove(ot),Be=th(th(th({},Be),Ge),zL),aR(function(){return ge()}))};return fe.expose({rerender:Le,getEditor:function(){return ot}}),function(){return Zt?yte(yV,Ot,Qe,ne.tagName):wte(yV,Ot,Qe)}}});const _te=U2({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...QE()},"VColorPickerCanvas"),Cte=JE({name:"VColorPickerCanvas",props:_te(),emits:{"update:color":ne=>!0,"update:position":ne=>!0},setup(ne,fe){let{emit:Be}=fe;const Re=PL(!1),Ye=jo(),De=PL(parseFloat(ne.width)),ye=PL(parseFloat(ne.height)),Pe=jo({x:0,y:0}),Qe=Er({get:()=>Pe.value,set(vt){if(!Ye.value)return;const{x:ge,y:Le}=vt;Pe.value=vt,Be("update:color",{h:ne.color?.h??0,s:nR(ge,0,De.value)/De.value,v:1-nR(Le,0,ye.value)/ye.value,a:ne.color?.a??1})}}),ot=Er(()=>{const{x:vt,y:ge}=Qe.value,Le=parseInt(ne.dotSize,10)/2;return{width:RC(ne.dotSize),height:RC(ne.dotSize),transform:`translate(${RC(vt-Le)}, ${RC(ge-Le)})`}}),{resizeRef:Ot}=OJ(vt=>{if(!Ot.el?.offsetParent)return;const{width:ge,height:Le}=vt[0].contentRect;De.value=ge,ye.value=Le});function Zt(vt,ge,Le){const{left:Ge,top:oe,width:yt,height:ue}=Le;Qe.value={x:nR(vt-Ge,0,yt),y:nR(ge-oe,0,ue)}}function kt(vt){vt.type==="mousedown"&&vt.preventDefault(),!ne.disabled&&(Ae(vt),window.addEventListener("mousemove",Ae),window.addEventListener("mouseup",nt),window.addEventListener("touchmove",Ae),window.addEventListener("touchend",nt))}function Ae(vt){if(ne.disabled||!Ye.value)return;Re.value=!0;const ge=RJ(vt);Zt(ge.clientX,ge.clientY,Ye.value.getBoundingClientRect())}function nt(){window.removeEventListener("mousemove",Ae),window.removeEventListener("mouseup",nt),window.removeEventListener("touchmove",Ae),window.removeEventListener("touchend",nt)}function zt(){if(!Ye.value)return;const vt=Ye.value,ge=vt.getContext("2d");if(!ge)return;const Le=ge.createLinearGradient(0,0,vt.width,0);Le.addColorStop(0,"hsla(0, 0%, 100%, 1)"),Le.addColorStop(1,`hsla(${ne.color?.h??0}, 100%, 50%, 1)`),ge.fillStyle=Le,ge.fillRect(0,0,vt.width,vt.height);const Ge=ge.createLinearGradient(0,0,0,vt.height);Ge.addColorStop(0,"hsla(0, 0%, 0%, 0)"),Ge.addColorStop(1,"hsla(0, 0%, 0%, 1)"),ge.fillStyle=Ge,ge.fillRect(0,0,vt.width,vt.height)}return qb(()=>ne.color?.h,zt,{immediate:!0}),qb(()=>[De.value,ye.value],(vt,ge)=>{zt(),Pe.value={x:Qe.value.x*vt[0]/ge[0],y:Qe.value.y*vt[1]/ge[1]}},{flush:"post"}),qb(()=>ne.color,()=>{if(Re.value){Re.value=!1;return}Pe.value=ne.color?{x:ne.color.s*De.value,y:(1-ne.color.v)*ye.value}:{x:0,y:0}},{deep:!0,immediate:!0}),ku(()=>zt()),Z2(()=>kn("div",{ref:Ot,class:U1(["v-color-picker-canvas",ne.class]),style:BC(ne.style),onMousedown:kt,onTouchstartPassive:kt},[kn("canvas",{ref:Ye,width:De.value,height:ye.value},null),ne.color&&kn("div",{class:U1(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":ne.disabled}]),style:BC(ot.value)},null)])),{}}});function kte(ne,fe){if(fe){const{a:Be,...Re}=ne;return Re}return ne}function Ste(ne,fe){if(fe==null||typeof fe=="string"){const Be=ne.a!==1;if(fe?.startsWith("rgb(")){const{r:Ye,g:De,b:ye,a:Pe}=$L(ne);return`rgb(${Ye} ${De} ${ye}`+(Be?` / ${Pe})`:")")}else if(fe?.startsWith("hsl(")){const{h:Ye,s:De,l:ye,a:Pe}=VL(ne);return`hsl(${Ye} ${Math.round(De*100)} ${Math.round(ye*100)}`+(Be?` / ${Pe})`:")")}const Re=r$(ne);return ne.a===1?Re.slice(0,7):Re}if(typeof fe=="object"){let Be;return sR(fe,["r","g","b"])?Be=$L(ne):sR(fe,["h","s","l"])?Be=VL(ne):sR(fe,["h","s","v"])&&(Be=ne),kte(Be,!sR(fe,["a"])&&ne.a===1)}return ne}const NC={h:0,s:0,v:0,a:1},UL={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:ne=>Math.round(ne.r),getColor:(ne,fe)=>({...ne,r:Number(fe)}),localeKey:"redInput"},{label:"G",max:255,step:1,getValue:ne=>Math.round(ne.g),getColor:(ne,fe)=>({...ne,g:Number(fe)}),localeKey:"greenInput"},{label:"B",max:255,step:1,getValue:ne=>Math.round(ne.b),getColor:(ne,fe)=>({...ne,b:Number(fe)}),localeKey:"blueInput"},{label:"A",max:1,step:.01,getValue:ne=>{let{a:fe}=ne;return fe!=null?Math.round(fe*100)/100:1},getColor:(ne,fe)=>({...ne,a:Number(fe)}),localeKey:"alphaInput"}],to:$L,from:iR},Ete={...UL,inputs:UL.inputs?.slice(0,3)},ZL={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:ne=>Math.round(ne.h),getColor:(ne,fe)=>({...ne,h:Number(fe)}),localeKey:"hueInput"},{label:"S",max:1,step:.01,getValue:ne=>Math.round(ne.s*100)/100,getColor:(ne,fe)=>({...ne,s:Number(fe)}),localeKey:"saturationInput"},{label:"L",max:1,step:.01,getValue:ne=>Math.round(ne.l*100)/100,getColor:(ne,fe)=>({...ne,l:Number(fe)}),localeKey:"lightnessInput"},{label:"A",max:1,step:.01,getValue:ne=>{let{a:fe}=ne;return fe!=null?Math.round(fe*100)/100:1},getColor:(ne,fe)=>({...ne,a:Number(fe)}),localeKey:"alphaInput"}],to:VL,from:MJ},Ate={...ZL,inputs:ZL.inputs.slice(0,3)},h$={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:ne=>ne,getColor:(ne,fe)=>fe,localeKey:"hexaInput"}],to:r$,from:NJ},Tte={...h$,inputs:[{label:"HEX",getValue:ne=>ne.slice(0,7),getColor:(ne,fe)=>fe,localeKey:"hexInput"}]},$2={rgb:Ete,rgba:UL,hsl:Ate,hsla:ZL,hex:Tte,hexa:h$},Dte=ne=>{let{label:fe,...Be}=ne;return kn("div",{class:"v-color-picker-edit__input"},[kn("input",BJ(PJ(Be)),null),kn("span",null,[fe])])},Ote=U2({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:ne=>Object.keys($2).includes(ne)},modes:{type:Array,default:()=>Object.keys($2),validator:ne=>Array.isArray(ne)&&ne.every(fe=>Object.keys($2).includes(fe))},...QE()},"VColorPickerEdit"),Rte=JE({name:"VColorPickerEdit",props:Ote(),emits:{"update:color":ne=>!0,"update:mode":ne=>!0},setup(ne,fe){let{emit:Be}=fe;const{t:Re}=a$(),Ye=Er(()=>ne.modes.map(ye=>({...$2[ye],name:ye}))),De=Er(()=>{const ye=Ye.value.find(Qe=>Qe.name===ne.mode);if(!ye)return[];const Pe=ne.color?ye.to(ne.color):null;return ye.inputs?.map(Qe=>{let{getValue:ot,getColor:Ot,localeKey:Zt,...kt}=Qe;return{...ye.inputProps,...kt,ariaLabel:Re(`$vuetify.colorPicker.ariaLabel.${Zt}`),disabled:ne.disabled,value:Pe&&ot(Pe),onChange:Ae=>{const nt=Ae.target;nt&&Be("update:color",ye.from(Ot(Pe??ye.to(NC),nt.value)))}}})});return Z2(()=>kn("div",{class:U1(["v-color-picker-edit",ne.class]),style:BC(ne.style)},[De.value?.map(ye=>Z(Dte,ye,null)),Ye.value.length>1&&Z(on,{icon:"$unfold",size:"x-small",variant:"plain","aria-label":Re("$vuetify.colorPicker.ariaLabel.changeFormat"),onClick:()=>{const ye=Ye.value.findIndex(Pe=>Pe.name===ne.mode);Be("update:mode",Ye.value[(ye+1)%Ye.value.length].name)}},null)])),{}}}),b$=U2({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,hideEyeDropper:Boolean,eyeDropperIcon:{type:IJ,default:"$eyeDropper"},...QE()},"VColorPickerPreview"),Nte=JE({name:"VColorPickerPreview",props:b$(),emits:{"update:color":ne=>!0},setup(ne,fe){let{emit:Be}=fe;const{t:Re}=a$(),Ye=new AbortController;LJ(()=>Ye.abort());async function De(){if(!wV||ne.disabled)return;const ye=new window.EyeDropper;try{const Pe=await ye.open({signal:Ye.signal}),Qe=iR(WL(Pe.sRGBHex));Be("update:color",{...ne.color??NC,...Qe})}catch{}}return Z2(()=>kn("div",{class:U1(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":ne.hideAlpha},ne.class]),style:BC(ne.style)},[wV&&!ne.hideEyeDropper&&kn("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[Z(on,{"aria-label":Re("$vuetify.colorPicker.ariaLabel.eyedropper"),density:"comfortable",disabled:ne.disabled,icon:ne.eyeDropperIcon,variant:"plain",onClick:De},null)]),kn("div",{class:"v-color-picker-preview__dot"},[kn("div",{style:{background:i$(ne.color??NC)}},null)]),kn("div",{class:"v-color-picker-preview__sliders"},[Z(SV,{class:"v-color-picker-preview__track v-color-picker-preview__hue",name:Re("$vuetify.colorPicker.ariaLabel.hueSlider"),modelValue:ne.color?.h,"onUpdate:modelValue":ye=>Be("update:color",{...ne.color??NC,h:ye}),step:0,min:0,max:360,disabled:ne.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!ne.hideAlpha&&Z(SV,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",name:Re("$vuetify.colorPicker.ariaLabel.alphaSlider"),modelValue:ne.color?.a??1,"onUpdate:modelValue":ye=>Be("update:color",{...ne.color??NC,a:ye}),step:1/256,min:0,max:1,disabled:ne.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])),{}}}),Mte={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Bte={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Pte={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Ite={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},Lte={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Fte={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},zte={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},Hte={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Vte={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},$te={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},Ute={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},Zte={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},jte={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},Wte={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},qte={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Gte={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},Kte={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},Yte={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Xte={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Qte={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Jte={red:Mte,pink:Bte,purple:Pte,deepPurple:Ite,indigo:Lte,blue:Fte,lightBlue:zte,cyan:Hte,teal:Vte,green:$te,lightGreen:Ute,lime:Zte,yellow:jte,amber:Wte,orange:qte,deepOrange:Gte,brown:Kte,blueGrey:Yte,grey:Xte,shades:Qte},eoe=U2({swatches:{type:Array,default:()=>toe(Jte)},disabled:Boolean,color:Object,maxHeight:[Number,String],...QE()},"VColorPickerSwatches");function toe(ne){return Object.keys(ne).map(fe=>{const Be=ne[fe];return Be.base?[Be.base,Be.darken4,Be.darken3,Be.darken2,Be.darken1,Be.lighten1,Be.lighten2,Be.lighten3,Be.lighten4,Be.lighten5]:[Be.black,Be.white,Be.transparent]})}const ooe=JE({name:"VColorPickerSwatches",props:eoe(),emits:{"update:color":ne=>!0},setup(ne,fe){let{emit:Be}=fe;return Z2(()=>kn("div",{class:U1(["v-color-picker-swatches",ne.class]),style:BC([{maxHeight:RC(ne.maxHeight)},ne.style])},[kn("div",null,[ne.swatches.map(Re=>kn("div",{class:"v-color-picker-swatches__swatch"},[Re.map(Ye=>{const De=WL(Ye),ye=iR(De),Pe=FJ(De);return kn("div",{class:"v-color-picker-swatches__color",onClick:()=>ye&&Be("update:color",ye)},[kn("div",{style:{background:Pe}},[ne.color&&zJ(ne.color,ye)?Z(Ds,{size:"x-small",icon:"$success",color:HJ(Ye,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),noe=U2({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:ne=>Object.keys($2).includes(ne)},modes:{type:Array,default:()=>Object.keys($2),validator:ne=>Array.isArray(ne)&&ne.every(fe=>Object.keys($2).includes(fe))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...mee({hideHeader:!0}),...ZJ(b$(),["hideEyeDropper","eyeDropperIcon"])},"VColorPicker"),soe=JE({name:"VColorPicker",props:noe(),emits:{"update:modelValue":ne=>!0,"update:mode":ne=>!0},setup(ne,fe){let{slots:Be}=fe;const Re=_V(ne,"mode"),Ye=jo(null),De=_V(ne,"modelValue",void 0,Ot=>{if(Ot==null||Ot==="")return null;let Zt;try{Zt=iR(WL(Ot))}catch{return null}return Zt},Ot=>Ot?Ste(Ot,ne.modelValue):null),ye=Er(()=>De.value?{...De.value,h:Ye.value??De.value.h}:null),{rtlClasses:Pe}=VJ();let Qe=!0;qb(De,Ot=>{if(!Qe){Qe=!0;return}Ot&&(Ye.value=Ot.h)},{immediate:!0});const ot=Ot=>{Qe=!1,Ye.value=Ot.h,De.value=Ot};return $J(()=>{ne.modes.includes(Re.value)||(Re.value=ne.modes[0])}),UJ({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Z2(()=>{const Ot=kV.filterProps(ne);return Z(kV,Id(Ot,{class:["v-color-picker",Pe.value,ne.class],style:[{"--v-color-picker-color-hsv":i$({...ye.value??NC,a:1})},ne.style]}),{...Be,default:()=>kn(Sr,null,[!ne.hideCanvas&&Z(Cte,{key:"canvas",color:ye.value,"onUpdate:color":ot,disabled:ne.disabled,dotSize:ne.dotSize,width:ne.width,height:ne.canvasHeight},null),(!ne.hideSliders||!ne.hideInputs)&&kn("div",{key:"controls",class:"v-color-picker__controls"},[!ne.hideSliders&&Z(Nte,{key:"preview",color:ye.value,"onUpdate:color":ot,hideAlpha:!Re.value.endsWith("a"),disabled:ne.disabled,hideEyeDropper:ne.hideEyeDropper,eyeDropperIcon:ne.eyeDropperIcon},null),!ne.hideInputs&&Z(Rte,{key:"edit",modes:ne.modes,mode:Re.value,"onUpdate:mode":Zt=>Re.value=Zt,color:ye.value,"onUpdate:color":ot,disabled:ne.disabled},null)]),ne.showSwatches&&Z(ooe,{key:"swatches",color:ye.value,"onUpdate:color":ot,maxHeight:ne.swatchesMaxHeight,swatches:ne.swatches,disabled:ne.disabled},null)])})}),{}}}),roe=Hr({__name:"ColorField",props:o$({label:{},swatches:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(ne){const fe=ne,Be=n$(ne,"modelValue");function Re(De){Be.value=De.substring(0,7)}const Ye=Er(()=>{const De=[];let ye=fe.swatches.length,Pe=5;for(let Qe=0;Qe<ye;Qe+=Pe)De.push(fe.swatches.slice(Qe,Qe+Pe));return De});return(De,ye)=>(Mt(),wo(Ka,null,{default:K(()=>[Z(An,{"align-self":"center"},{default:K(()=>[Ht(la(fe.label),1)]),_:1}),Z(An,{"align-self":"center",cols:"auto"},{default:K(()=>[Z(oh,{top:"","close-on-content-click":!1},{activator:K(({props:Pe})=>[Z(on,Id({color:Be.value},Pe,{width:"90px"}),null,16,["color"])]),default:K(()=>[Z(nr,null,{default:K(()=>[Z(Xs,{class:"pa-0"},{default:K(()=>[Z(soe,{value:Be.value||"#252EBC","onUpdate:modelValue":Re,flat:"",swatches:Ye.value,"show-swatches":"","hide-canvas":"","hide-sliders":"",mode:"hex"},null,8,["value","swatches"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),aoe=Hr({__name:"LettreOptionsCard",props:{options:{}},emits:["save"],setup(ne,{emit:fe}){const Be=ne,Re=fe,Ye=jo(GE(Be.options)),De=["#BFEDD2","#FBEEB8","#F8CAC6","#ECCAFA","#C2E0F4","#2DC26B","#F1C40F","#E03E2D","#B96AD9","#3598DB","#169179","#E67E23","#BA372A","#843FA1","#236FA1","#ECF0F1","#CED4D9","#95A5A6","#7E8C8D","#34495E","#000000","#ffffff"];return(ye,Pe)=>{const Qe=roe;return Mt(),wo(nr,{title:"Options de l'entête"},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(Ka,null,{default:K(()=>[Z(An,null,{default:K(()=>[Z(KE,{color:"primary",density:"compact",modelValue:Ye.value.UseCoordCentre,"onUpdate:modelValue":Pe[0]||(Pe[0]=ot=>Ye.value.UseCoordCentre=ot),hint:"Activer pour remplacer les coordonnées du directeur par ceux du centre, dans l'entête de la lettre.","persistent-hint":"",label:"Coordonnées du centre"},null,8,["modelValue"])]),_:1}),Z(An,{cols:"5"},{default:K(()=>[jJ(Z(KE,{color:"primary",density:"compact",modelValue:Ye.value.ShowAdressePostale,"onUpdate:modelValue":Pe[1]||(Pe[1]=ot=>Ye.value.ShowAdressePostale=ot),hint:"Afficher l'adresse postale du directeur.","persistent-hint":"",label:"Ajouter l'adresse postale"},null,8,["modelValue"]),[[WJ,!Ye.value.UseCoordCentre]])]),_:1})]),_:1}),Z(Ka,{class:"mt-4"},{default:K(()=>[Z(An,{cols:"6"},{default:K(()=>[Z(Qe,{label:"Couleur du texte de l'entête",modelValue:Ye.value.ColorCoord,"onUpdate:modelValue":Pe[2]||(Pe[2]=ot=>Ye.value.ColorCoord=ot),swatches:De},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Z(zf,null,{default:K(()=>[Z(Hf),Z(on,{color:"success",onClick:Pe[3]||(Pe[3]=ot=>Re("save",Ye.value))},{default:K(()=>[...Pe[4]||(Pe[4]=[Ht("Enregistrer",-1)])]),_:1})]),_:1})]),_:1})}}}),ioe=["data"],loe=`<p><span style="font-size: 12pt; color: #3598db;" data-mce-style="font-size: 12pt; color: #3598db;">ESPACE PERSONNEL</span></p><p>Lors de votre inscription, un espace personnel de suivi vous a été attribué et un lien vers celui-ci envoyé dans le mail de confirmation (<span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Mon</span> <span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Dossier</span>). Dans cet espace vous trouverez :</p><ul><li>le <strong>suivi financier</strong> : vous pourrez alors joindre en ligne les aides auxquelles vous avez droit</li><li>les <strong>documents liés au séjour</strong> : liste de vêtement, lettre aux parents, plan d’accès au site ...</li><li>les <strong>documents à compléter</strong> ou joindre en ligne : test d'aisance aquatique si besoin ...</li><li>l'<strong>album photo</strong> du séjour</li><li>la <strong>fiche sanitaire</strong> à compléter en ligne</li></ul><p><em>TOUTES LES INFOS ET DOCUMENTS DU SÉJOUR SE TROUVENT DANS VOTRE ESPACE DÉDIÉ.</em></p>`,coe=Hr({__name:"PannelLettre",setup(ne){ku(Be);const fe=jo(null);async function Be(){const Zt=await lo.LettreGet();Zt!==void 0&&(Zt.File.Id==0&&Zt.Lettre.Html==""&&(Zt.Lettre.Html=loe),fe.value=Zt)}const Re=Er(()=>{const Zt=fe.value?.File;return Zt?Zt.Id==0?"En attente de création":`Enregistrée le ${rR.time(Zt.Uploaded)} (taille : ${rR.size(Zt.Taille)})`:""}),Ye=Er(()=>({language:"fr_FR",height:"75vh",plugins:["lists","advlist","image","code","link"],menubar:!1,statusbar:!1,paste_data_images:!0,image_advtab:!1,browser_spellcheck:!0,contextmenu:[],font_formats:"Arial=arial;",toolbar:["undo redo | cut copy paste | bold italic underline strikethrough | fontsize |  forecolor backcolor current_backcolor  |  alignleft aligncenter alignright | bullist numlist outdent indent | image styles link"],target_list:[{title:"Nouvelle page",value:"_blank"}],link_title:!1,link_assume_external_targets:!0,relative_urls:!1,remove_script_host:!1,image_description:!1,images_upload_url:IC.LettreImageUpload(lo.authToken),automatic_uploads:!0,formats:{imageMargin:{selector:"img",styles:{marginRight:"20px"}}},style_formats:[{title:"Espacer l'image à droite",format:"imageMargin"}]})),De=jo(!1);async function ye(){if(fe.value==null)return;De.value=!0;const Zt=await lo.LettreUpdate(fe.value.Lettre);De.value=!1,Zt!==void 0&&(lo.showMessage("Lettre enregistrée avec succès."),fe.value=Zt,ot.value=!0)}const Pe=jo(!1);async function Qe(Zt){fe.value&&(Pe.value=!1,fe.value.Lettre.UseCoordCentre=Zt.UseCoordCentre,fe.value.Lettre.ShowAdressePostale=Zt.ShowAdressePostale,fe.value.Lettre.ColorCoord=Zt.ColorCoord,ye())}const ot=jo(!1),Ot=Er(()=>fe.value?qJ(fe.value.File.Key):"");return(Zt,kt)=>(Mt(),Jn(Sr,null,[fe.value==null?(Mt(),wo(nh,{key:0,type:"card"})):kr("",!0),Z(nr,{class:"mt-2 mx-auto",title:"Editer la lettre",subtitle:Re.value,"max-width":"800px"},{append:K(()=>[Z(on,{class:"mx-2",onClick:kt[0]||(kt[0]=Ae=>Pe.value=!0)},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...kt[4]||(kt[4]=[Ht("mdi-cog",-1)])]),_:1})]),default:K(()=>[kt[5]||(kt[5]=Ht(" Options",-1))]),_:1}),Z(al,{thickness:"2",vertical:""}),De.value?(Mt(),wo(GJ,{key:0,color:"primary",indeterminate:"",class:"mx-2",size:"42"})):(Mt(),wo(PC,{key:1,text:"Enregistrer et visualiser"},{activator:K(({props:Ae})=>[Z(on,Id(Ae,{class:"mx-2",icon:"mdi-content-save",onClick:ye,disabled:!fe.value}),null,16,["disabled"])]),_:1}))]),default:K(()=>[fe.value?(Mt(),wo(Xs,{key:0},{default:K(()=>[Z(ns(p$),{licenseKey:"gpl",modelValue:fe.value.Lettre.Html,"onUpdate:modelValue":kt[1]||(kt[1]=Ae=>fe.value.Lettre.Html=Ae),init:Ye.value},null,8,["modelValue","init"])]),_:1})):kr("",!0)]),_:1},8,["subtitle"]),Z(Si,{modelValue:Pe.value,"onUpdate:modelValue":kt[2]||(kt[2]=Ae=>Pe.value=Ae),"max-width":"800px"},{default:K(()=>[fe.value?(Mt(),wo(aoe,{key:0,options:{UseCoordCentre:fe.value.Lettre.UseCoordCentre,ShowAdressePostale:fe.value.Lettre.ShowAdressePostale,ColorCoord:fe.value.Lettre.ColorCoord},onSave:Qe},null,8,["options"])):kr("",!0)]),_:1},8,["modelValue"]),Z(Si,{modelValue:ot.value,"onUpdate:modelValue":kt[3]||(kt[3]=Ae=>ot.value=Ae)},{default:K(()=>[ot.value?(Mt(),Jn("object",{key:0,type:"application/pdf",data:Ot.value,style:{height:"95vh"}},null,8,ioe)):kr("",!0)]),_:1},8,["modelValue"])],64))}}),doe={key:0,class:"mr-4"},uoe=Hr({__name:"AddDemandeCard",props:{availableDemandes:{},selectedDemandes:{}},emits:["selected","created","updated","deleted"],setup(ne,{emit:fe}){const Be=ne,Re=fe;async function Ye(){const vt=await lo.DocumentsCreateDemande();vt!==void 0&&(Re("created",vt),De.value=GE(vt))}const De=jo(null);async function ye(){const vt=De.value;vt==null||(De.value=null,await lo.DocumentsUpdateDemande(vt.Demande)===void 0)||(lo.showMessage("Modifications enregistrées avec succès."),Re("updated",vt))}const Pe=jo(null);async function Qe(){const vt=Pe.value;vt==null||(Pe.value=null,await lo.DocumentsDeleteDemande({idDemande:vt.Id})===void 0)||(lo.showMessage("Demande supprimée avec succès."),Re("deleted",vt))}const ot=jo(null),Ot=jL("fileInput"),Zt=jo(null);function kt(vt){ot.value=vt,aR(()=>Ot.value?.openDialog())}async function Ae(){const vt=ot.value,ge=Zt.value;if(ge==null||vt==null)return;ot.value=null,Zt.value=null;const Le=await lo.DocumentsUploadDemandeFile(ge,{idDemande:vt.Demande.Id});Le!==void 0&&(lo.showMessage("Document téléversé avec succès."),Re("updated",{Demande:vt.Demande,File:Le}))}const nt=jo(null);async function zt(){const vt=nt.value;vt==null||(nt.value=null,await lo.DocumentsDeleteDemandeFile({key:vt.File.Key})===void 0)||(lo.showMessage("Document supprimé avec succès."),Re("updated",{Demande:vt.Demande,File:{Id:0,Key:"",NomClient:"",Taille:0,Uploaded:""}}))}return(vt,ge)=>{const Le=qL,Ge=u$,oe=m$;return Mt(),wo(nr,{title:"Demander un document",subtitle:"Les familles devront fournir ce document sur leur espace personnel.",class:"ma-2"},{append:K(()=>[Z(on,{onClick:Ye},{prepend:K(()=>[Z(Ds,{color:"green"},{default:K(()=>[...ge[8]||(ge[8]=[Ht("mdi-plus",-1)])]),_:1})]),default:K(()=>[ge[9]||(ge[9]=Ht(" Nouvelle demande",-1))]),_:1})]),default:K(()=>[Z(Xs,null,{default:K(()=>[Z(Cu,null,{default:K(()=>[Be.availableDemandes.length?kr("",!0):(Mt(),wo(Ts,{key:0,class:"text-center"},{default:K(()=>[...ge[10]||(ge[10]=[kn("i",null,"Aucune demande.",-1)])]),_:1})),(Mt(!0),Jn(Sr,null,Dl(Be.availableDemandes,yt=>(Mt(),wo(Ts,Id({title:yt.Demande.Description,subtitle:yt.Demande.IdDirecteur.Valid?"Demande vous appartenant":"Demande globale",rounded:"",class:"my-1"},{[KJ(!Be.selectedDemandes.includes(yt.Demande.Id)&&"click")]:ue=>Re("selected",yt.Demande)}),e$({append:K(()=>[yt.File.Id!=0?(Mt(),Jn("div",doe,[Z(Le,{file:yt.File,onDelete:ue=>nt.value=yt},null,8,["file","onDelete"])])):(Mt(),wo(on,{key:1,size:"small",class:"mr-2",onClick:IL(ue=>kt(yt),["stop"])},{prepend:K(()=>[Z(Ds,{color:"green",icon:"mdi-upload"})]),default:K(()=>[ge[12]||(ge[12]=Ht(" Document à remplir ",-1))]),_:1},8,["onClick"])),Z(on,{icon:"",size:"x-small",class:"mx-1",onClick:IL(ue=>De.value=yt,["stop"]),disabled:!yt.Demande.IdDirecteur.Valid},{default:K(()=>[Z(Ds,null,{default:K(()=>[...ge[13]||(ge[13]=[Ht("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick","disabled"]),Z(on,{icon:"",size:"x-small",class:"mx-1",onClick:IL(ue=>Pe.value=yt.Demande,["stop"]),disabled:!yt.Demande.IdDirecteur.Valid},{default:K(()=>[Z(Ds,{color:"red"},{default:K(()=>[...ge[14]||(ge[14]=[Ht("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick","disabled"])]),_:2},[Be.selectedDemandes.includes(yt.Demande.Id)?{name:"prepend",fn:K(()=>[Z(Ds,{color:"green"},{default:K(()=>[...ge[11]||(ge[11]=[Ht("mdi-check",-1)])]),_:1})]),key:"0"}:void 0]),1040,["title","subtitle"]))),256))]),_:1})]),_:1}),Z(Si,{"model-value":Pe.value!=null,"onUpdate:modelValue":ge[0]||(ge[0]=yt=>Pe.value=null),"max-width":"400px"},{default:K(()=>[Pe.value?(Mt(),wo(nr,{key:0,title:"Confirmer la suppression"},{default:K(()=>[Z(Xs,null,{default:K(()=>[...ge[15]||(ge[15]=[Ht(" Confirmez-vous la suppression de cette demande ? Les éventuels documents déjà téléversés seront supprimés. ",-1),kn("br",null,null,-1),kn("br",null,null,-1),Ht(" Attention, cette opération est irréversible. ",-1)])]),_:1}),Z(zf,null,{default:K(()=>[Z(Hf),Z(on,{color:"red",onClick:Qe},{default:K(()=>[...ge[16]||(ge[16]=[Ht("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):kr("",!0)]),_:1},8,["model-value"]),Z(Si,{"model-value":De.value!=null,"onUpdate:modelValue":ge[4]||(ge[4]=yt=>De.value=null),"max-width":"600px"},{default:K(()=>[De.value?(Mt(),wo(nr,{key:0,title:"Document à fournir"},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(Ka,null,{default:K(()=>[Z(An,null,{default:K(()=>[Z(V2,{density:"compact",variant:"outlined",label:"Description",modelValue:De.value.Demande.Description,"onUpdate:modelValue":ge[1]||(ge[1]=yt=>De.value.Demande.Description=yt),hint:"Texte affiché sur l'espace de suivi."},null,8,["modelValue"])]),_:1})]),_:1}),Z(Ka,null,{default:K(()=>[Z(An,null,{default:K(()=>[Z(Ge,{density:"compact",variant:"outlined",label:"Document temporaire",min:0,suffix:"jours",modelValue:De.value.Demande.JoursValide,"onUpdate:modelValue":ge[2]||(ge[2]=yt=>De.value.Demande.JoursValide=yt),hint:"Nombre de jours de validité (0 pour un document permanent)"},null,8,["modelValue"])]),_:1}),Z(An,null,{default:K(()=>[Z(Ge,{density:"compact",variant:"outlined",label:"Nombre maximum de fichiers",modelValue:De.value.Demande.MaxDocs,"onUpdate:modelValue":ge[3]||(ge[3]=yt=>De.value.Demande.MaxDocs=yt),hint:"Limite le nombre de fichiers pouvant être déposés."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Z(zf,null,{default:K(()=>[Z(Hf),Z(on,{onClick:ye},{default:K(()=>[...ge[17]||(ge[17]=[Ht("Enregistrer",-1)])]),_:1})]),_:1})]),_:1})):kr("",!0)]),_:1},8,["model-value"]),Z(Si,{"model-value":ot.value!=null,"onUpdate:modelValue":ge[6]||(ge[6]=yt=>ot.value=null),"max-width":"600px"},{default:K(()=>[Z(nr,{title:"Ajouter un document",subtitle:"Document à remplir par les familles"},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(oe,{ref_key:"fileInput",ref:Ot,onUpdate:ge[5]||(ge[5]=yt=>Zt.value=yt)},null,512)]),_:1}),Z(zf,null,{default:K(()=>[Z(Hf),Z(on,{disabled:!Zt.value,onClick:Ae},{default:K(()=>[...ge[18]||(ge[18]=[Ht("Téléverser",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"]),Z(Si,{"model-value":nt.value!=null,"onUpdate:modelValue":ge[7]||(ge[7]=yt=>nt.value=null),"max-width":"400px"},{default:K(()=>[nt.value?(Mt(),wo(nr,{key:0,title:"Confirmer la suppression"},{default:K(()=>[Z(Xs,null,{default:K(()=>[ge[19]||(ge[19]=Ht(" Confirmez-vous la suppression du document ",-1)),kn("i",null,la(nt.value.File.NomClient),1),ge[20]||(ge[20]=Ht(" ? ",-1)),ge[21]||(ge[21]=kn("br",null,null,-1)),ge[22]||(ge[22]=kn("br",null,null,-1)),ge[23]||(ge[23]=Ht(" Attention, cette opération est irréversible. ",-1))]),_:1}),Z(zf,null,{default:K(()=>[Z(Hf),Z(on,{color:"red",onClick:zt},{default:K(()=>[...ge[24]||(ge[24]=[Ht("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):kr("",!0)]),_:1},8,["model-value"])]),_:1})}}}),moe=Hr({__name:"PannelDocuments",emits:["goTo"],setup(ne,{emit:fe}){const Be=fe;ku(Ye);const Re=jo(null);async function Ye(){const ge=await lo.DocumentsGet();ge!==void 0&&(Re.value=ge)}async function De(ge,Le){Re.value==null||(Re.value.ToShow[ge]=Le,await lo.DocumentsUpdateToShow(Re.value.ToShow)===void 0)||lo.showMessage("Modifications enregistrées avec succès.")}const ye=jo(!1),Pe=jo(null);async function Qe(){if(ye.value=!1,Re.value==null||Pe.value==null)return;const ge=await lo.DocumentsUploadToDownload(Pe.value);ge!==void 0&&(lo.showMessage("Document ajouté avec succès."),Re.value.FilesToDownload=(Re.value.FilesToDownload||[]).concat(ge))}const ot=jo(null);async function Ot(){const ge=ot.value;ot.value=null,!(Re.value==null||ge==null||await lo.DocumentsDeleteToDownload({key:ge.Key})===void 0)&&(Re.value.FilesToDownload=(Re.value.FilesToDownload||[]).filter(Ge=>Ge.Key!=ge.Key),lo.showMessage("Document supprimé avec succès."))}const Zt=jo(!1);async function kt(ge){if(!Re.value)return;Re.value.AvailableDemandes=(Re.value.AvailableDemandes||[]).concat(ge);const Le=await lo.DocumentsApplyDemande({idDemande:ge.Demande.Id});Le!==void 0&&(lo.showMessage("Demande créée et activée pour ce séjour."),Re.value.CampDemandes=(Re.value?.CampDemandes||[]).concat(Le))}function Ae(ge){if(!Re.value)return;const Le=(Re.value.AvailableDemandes||[]).findIndex(oe=>oe.Demande.Id==ge.Demande.Id);Re.value.AvailableDemandes[Le]=ge;const Ge=(Re.value.CampDemandes||[]).findIndex(oe=>oe.Demande.Id==ge.Demande.Id);Re.value.CampDemandes[Ge]=ge}function nt(ge){Re.value&&(Re.value.AvailableDemandes=(Re.value.AvailableDemandes||[]).filter(Le=>Le.Demande.Id!=ge.Id),Re.value.CampDemandes=(Re.value.CampDemandes||[]).filter(Le=>Le.Demande.Id!=ge.Id))}async function zt(ge){if(!Re.value)return;Zt.value=!1;const Le=await lo.DocumentsApplyDemande({idDemande:ge.Id});Le!==void 0&&(lo.showMessage("Demande bien activée pour ce séjour."),Re.value.CampDemandes=(Re.value?.CampDemandes||[]).concat(Le))}async function vt(ge){!Re.value||await lo.DocumentsUnapplyDemande({idDemande:ge.Id})===void 0||(lo.showMessage("Demande retirée avec succès."),Re.value.CampDemandes=(Re.value?.CampDemandes||[]).filter(Ge=>Ge.Demande.Id!=ge.Id))}return(ge,Le)=>{const Ge=qL;return Mt(),Jn(Sr,null,[Z(nr,{title:"Documents du séjour",subtitle:"Choisir les documents à lire ou remplir par les familles",class:"ma-2 mx-auto","max-width":"800px"},{default:K(()=>[Re.value==null?(Mt(),wo(nh,{key:0})):(Mt(),wo(Xs,{key:1},{default:K(()=>[Z(YJ,{type:"info",closable:""},{default:K(()=>[...Le[11]||(Le[11]=[Ht(" La ",-1),kn("b",null,"fiche sanitaire",-1),Ht(" et les ",-1),kn("b",null,"vaccins",-1),Ht(" sont automatiquement demandés pour les participants mineurs. ",-1)])]),_:1}),Z(Cu,null,{default:K(()=>[Z(LL,null,{default:K(()=>[...Le[12]||(Le[12]=[Ht("Documents générés",-1)])]),_:1}),Z(Ts,{title:"Lettre aux familles",subtitle:"Document officiel pour le premier contact"},{append:K(()=>[Z(on,{icon:"mdi-pencil",size:"small",class:"mr-4",onClick:Le[0]||(Le[0]=oe=>Be("goTo","lettre"))}),Z(KE,{color:"primary","hide-details":"","model-value":Re.value.ToShow.LettreDirecteur,"onUpdate:modelValue":Le[1]||(Le[1]=oe=>De("LettreDirecteur",oe))},null,8,["model-value"])]),_:1}),Z(Ts,{title:"Liste de vêtements"},{append:K(()=>[Z(on,{icon:"mdi-pencil",size:"small",class:"mr-4",onClick:Le[2]||(Le[2]=oe=>Be("goTo","vetements"))}),Z(KE,{color:"primary","hide-details":"","model-value":Re.value.ToShow.ListeVetements,"onUpdate:modelValue":Le[3]||(Le[3]=oe=>De("ListeVetements",oe))},null,8,["model-value"])]),_:1}),Z(Ts,{title:"Liste des participants",subtitle:"Permet par exemple d'organiser un co-voiturage"},{append:K(()=>[Z(KE,{color:"primary","hide-details":"","model-value":Re.value.ToShow.ListeParticipants,"onUpdate:modelValue":Le[4]||(Le[4]=oe=>De("ListeParticipants",oe))},null,8,["model-value"])]),_:1}),Z(al,{thickness:"1",class:"my-2"}),Z(Ka,{"no-gutters":""},{default:K(()=>[Z(An,{"align-self":"center"},{default:K(()=>[Z(LL,null,{default:K(()=>[...Le[13]||(Le[13]=[Ht("Documents à lire ",-1)])]),_:1})]),_:1}),Z(An,{"align-self":"center",cols:"auto",class:"mx-2"},{default:K(()=>[Z(on,{size:"small",onClick:Le[5]||(Le[5]=oe=>ye.value=!0)},{prepend:K(()=>[Z(Ds,{color:"green"},{default:K(()=>[...Le[14]||(Le[14]=[Ht("mdi-plus",-1)])]),_:1})]),default:K(()=>[Le[15]||(Le[15]=Ht(" Ajouter ",-1))]),_:1})]),_:1})]),_:1}),Re.value.FilesToDownload?.length?kr("",!0):(Mt(),wo(Ts,{key:0},{default:K(()=>[...Le[16]||(Le[16]=[kn("i",null,"Aucun document.",-1)])]),_:1})),(Mt(!0),Jn(Sr,null,Dl(Re.value.FilesToDownload,oe=>(Mt(),wo(Ts,{title:oe.NomClient},{append:K(()=>[Z(Ge,{file:oe,onDelete:yt=>ot.value=oe},null,8,["file","onDelete"])]),_:2},1032,["title"]))),256)),Z(al,{thickness:"1",class:"my-2"}),Z(Ka,{"no-gutters":""},{default:K(()=>[Z(An,{"align-self":"center"},{default:K(()=>[Z(LL,null,{default:K(()=>[...Le[17]||(Le[17]=[Ht("Documents à fournir (collectés sur l'espace de suivi) ",-1)])]),_:1})]),_:1}),Z(An,{"align-self":"center",cols:"auto",class:"mx-2"},{default:K(()=>[Z(on,{size:"small",onClick:Le[6]||(Le[6]=oe=>Zt.value=!0)},{prepend:K(()=>[Z(Ds,{color:"green"},{default:K(()=>[...Le[18]||(Le[18]=[Ht("mdi-plus",-1)])]),_:1})]),default:K(()=>[Le[19]||(Le[19]=Ht(" Ajouter ",-1))]),_:1})]),_:1})]),_:1}),Re.value.CampDemandes?.length?kr("",!0):(Mt(),wo(Ts,{key:1},{default:K(()=>[...Le[20]||(Le[20]=[kn("i",null,"Aucun document.",-1)])]),_:1})),(Mt(!0),Jn(Sr,null,Dl(Re.value.CampDemandes,oe=>(Mt(),wo(Ts,{title:oe.Demande.Description},{append:K(()=>[Z(on,{icon:"",size:"x-small",onClick:yt=>vt(oe.Demande)},{default:K(()=>[Z(Ds,{color:"red"},{default:K(()=>[...Le[21]||(Le[21]=[Ht("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1032,["title"]))),256))]),_:1})]),_:1})),Z(Si,{modelValue:ye.value,"onUpdate:modelValue":Le[8]||(Le[8]=oe=>ye.value=oe),"max-width":"600px"},{default:K(()=>[Z(nr,{title:"Téléverser un document",subtitle:"Ce document sera distribué sur l'espace personnel des familles."},{default:K(()=>[Z(Xs,null,{default:K(()=>[Z(m$,{label:"Document à distribuer",onUpdate:Le[7]||(Le[7]=oe=>Pe.value=oe)})]),_:1}),Z(zf,null,{default:K(()=>[Z(Hf),Z(on,{color:"green",disabled:Pe.value==null,onClick:Qe},{default:K(()=>[...Le[22]||(Le[22]=[Ht("Téléverser",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Z(Si,{"model-value":ot.value!=null,"onUpdate:modelValue":Le[9]||(Le[9]=oe=>ot.value=null),"max-width":"400px"},{default:K(()=>[ot.value?(Mt(),wo(nr,{key:0,title:"Confirmer la suppression"},{default:K(()=>[Z(Xs,null,{default:K(()=>[Le[23]||(Le[23]=Ht(" Confirmez-vous la suppression du document ",-1)),kn("i",null,la(ot.value.NomClient),1),Le[24]||(Le[24]=Ht(" ? ",-1)),Le[25]||(Le[25]=kn("br",null,null,-1)),Le[26]||(Le[26]=kn("br",null,null,-1)),Le[27]||(Le[27]=Ht(" Attention, cette opération est irréversible. ",-1))]),_:1}),Z(zf,null,{default:K(()=>[Z(Hf),Z(on,{color:"red",onClick:Ot},{default:K(()=>[...Le[28]||(Le[28]=[Ht("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):kr("",!0)]),_:1},8,["model-value"])]),_:1}),Z(Si,{modelValue:Zt.value,"onUpdate:modelValue":Le[10]||(Le[10]=oe=>Zt.value=oe),"max-width":"800px"},{default:K(()=>[Re.value?(Mt(),wo(uoe,{key:0,availableDemandes:Re.value.AvailableDemandes||[],selectedDemandes:(Re.value.CampDemandes||[]).map(oe=>oe.Demande.Id),onSelected:zt,onCreated:kt,onUpdated:Ae,onDeleted:nt},null,8,["availableDemandes","selectedDemandes"])):kr("",!0)]),_:1},8,["modelValue"])],64)}}}),goe={key:1,style:{height:"15px"}},foe=Hr({__name:"DropZone",props:{isDragging:{type:Boolean}},emits:["onDrop"],setup(ne,{emit:fe}){const Be=ne,Re=fe,Ye=jo(!1);function De(Pe){Ye.value=!0,Pe.preventDefault()}function ye(Pe){Ye.value=!1,Pe.preventDefault(),Re("onDrop",Pe)}return(Pe,Qe)=>Be.isDragging?(Mt(),Jn("div",{key:0,style:{height:"15px"},class:U1({"bg-blue-lighten-1":Ye.value,"bg-blue-lighten-4":!Ye.value,rounded:!0}),onDragenter:De,onDragover:Qe[0]||(Qe[0]=ot=>ot.preventDefault()),onDragleave:Qe[1]||(Qe[1]=ot=>Ye.value=!1),onDrop:ye},null,34)):(Mt(),Jn("div",goe))}}),poe={Ete:[{Quantite:2,Description:"Sweats ou pull-overs",Important:!1},{Quantite:1,Description:"Polaire",Important:!1},{Quantite:6,Description:"Tee shirts",Important:!1},{Quantite:2,Description:"Pantalons ou jogging",Important:!1},{Quantite:3,Description:"Shorts",Important:!1},{Quantite:6,Description:"Slips ou culottes",Important:!1},{Quantite:4,Description:"Paires de chaussettes",Important:!1},{Quantite:1,Description:"Pyjama",Important:!1},{Quantite:1,Description:"Maillot de bain",Important:!1},{Quantite:2,Description:"Grandes serviettes",Important:!1},{Quantite:1,Description:"Gant de toilette",Important:!1},{Quantite:1,Description:"Nécessaire de toilette : shampoing, savon, brosse à dent, dentifrice.....",Important:!1},{Quantite:1,Description:"Paire de lunette de soleil",Important:!0},{Quantite:1,Description:"Sac de couchage",Important:!1},{Quantite:1,Description:"Casquette",Important:!0},{Quantite:1,Description:"Veste de pluie",Important:!1},{Quantite:1,Description:"Paire de bonnes baskets",Important:!0},{Quantite:1,Description:"Paire de chaussure pour aller dans l’eau. (Une paire de vieille chaussure est suffisante !)",Important:!0},{Quantite:1,Description:"Paire de chaussure légère (sandale)",Important:!1},{Quantite:1,Description:"Petit sac à dos, gourde, lampe de poche",Important:!1}],Hiver:[{Quantite:6,Description:"Slips",Important:!1},{Quantite:6,Description:"Paires de chaussettes longues et chaudes",Important:!1},{Quantite:5,Description:"T-shirts manches longues",Important:!1},{Quantite:2,Description:"Pull-overs",Important:!1},{Quantite:2,Description:"Pantalons",Important:!1},{Quantite:2,Description:"T-shirt manches courtes",Important:!1},{Quantite:2,Description:"Leggings ou collants chauds",Important:!1},{Quantite:1,Description:"Polaire",Important:!1},{Quantite:1,Description:"Serviette de toilette",Important:!1},{Quantite:1,Description:"Trousse de toilette complète",Important:!1},{Quantite:1,Description:"Drap de dessous (90 cm)",Important:!1},{Quantite:1,Description:"Sac de couchage ou drap de dessus",Important:!1},{Quantite:1,Description:"Combinaison ou pantalon de ski",Important:!1},{Quantite:1,Description:"Anorak, bonnet, paire de gants de ski",Important:!1},{Quantite:1,Description:"Paire de lunette, crème solaire",Important:!1},{Quantite:1,Description:"Paire de baskets",Important:!1},{Quantite:1,Description:"Paire de boots ou chaussures de marche",Important:!1},{Quantite:1,Description:"Paire de pantoufles",Important:!1},{Quantite:1,Description:"Pyjama",Important:!1},{Quantite:1,Description:"Jogging",Important:!1}]},hoe={ref:"bottom"},boe=["data"],xoe=Hr({__name:"PannelVetements",setup(ne){ku(Ye);const fe=jo(null),Be=jo(null),Re=Er(()=>JSON.stringify(Be.value)!=JSON.stringify(fe.value));async function Ye(){const Le=await lo.VetementsGet();Le!==void 0&&(fe.value=Le,Be.value=GE(Le))}function De(){fe.value&&(fe.value.Vetements=(fe.value.Vetements||[]).concat({Description:"",Important:!1,Quantite:1}),ye.value=fe.value.Vetements.length-1,aR(()=>{zt.value&&zt.value.scrollIntoView()}))}const ye=jo(null);function Pe(Le){fe.value&&(fe.value.Vetements=GE(poe[Le]))}function Qe(Le){fe.value&&(fe.value.Vetements||[]).splice(Le,1)}const ot=jo(!1),Ot=jo(""),Zt=Er(()=>IC.RenderDocumentCamp(Ot.value,!1));async function kt(){if(!fe.value)return;const Le=await lo.VetementsUpdate(fe.value);Le!==void 0&&(Be.value=GE(fe.value),Ot.value=Le,lo.showMessage("Liste de vêtements enregistrée avec succès."))}function Ae(Le,Ge){ot.value=!0,Le.dataTransfer.effectAllowed="move",Le.dataTransfer.setData("text/json",JSON.stringify({index:Ge}))}function nt(Le,Ge){if(!fe.value)return;const oe=JSON.parse(Le.dataTransfer.getData("text/json"));fe.value.Vetements=XJ(oe.index,Ge,fe.value.Vetements)}const zt=jL("bottom"),vt=jo(!1),ge={language:"fr_FR",height:150,menubar:!1,statusbar:!1,formats:{underline:{inline:"u"}},entity_encoding:"raw",font_formats:"Arial=arial,helvetica,sans-serif;",toolbar:["undo redo | cut copy paste | bold italic underline "]};return(Le,Ge)=>{const oe=foe,yt=u$;return Mt(),Jn(Sr,null,[Z(nr,{title:"Liste de vêtements",class:"ma-2 mx-auto","max-width":"1000px"},{append:K(()=>[Z(on,{icon:"",onClick:De,size:"small",class:"mx-1"},{default:K(()=>[Z(Ds,{color:"green"},{default:K(()=>[...Ge[9]||(Ge[9]=[Ht("mdi-plus",-1)])]),_:1})]),_:1}),Z(oh,null,{activator:K(({props:ue})=>[Z(on,Id(ue,{class:"mx-1",size:"small"}),{default:K(()=>[...Ge[10]||(Ge[10]=[Ht("Importer...",-1)])]),_:1},16)]),default:K(()=>[Z(Cu,null,{default:K(()=>[Z(Ts,{title:"Liste d'été",subtitle:"Remplace la liste actuelle",onClick:Ge[0]||(Ge[0]=ue=>Pe("Ete"))}),Z(Ts,{title:"Liste d'hiver",subtitle:"Remplace la liste actuelle",onClick:Ge[1]||(Ge[1]=ue=>Pe("Hiver"))})]),_:1})]),_:1}),Z(al,{vertical:"",thickness:"2",class:"mx-1"}),Z(on,{size:"small",class:"mx-1",onClick:Ge[2]||(Ge[2]=ue=>vt.value=!0)},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...Ge[11]||(Ge[11]=[Ht("mdi-text-box-edit",-1)])]),_:1})]),default:K(()=>[Ge[12]||(Ge[12]=Ht(" Texte ",-1))]),_:1}),Z(al,{vertical:"",thickness:"2",class:"mx-1"}),Z(on,{icon:"",onClick:kt,size:"small",class:"mx-1"},{default:K(()=>[Z(Ff,{color:Re.value?"pink":"transparent",dot:""},{default:K(()=>[Z(Ds,null,{default:K(()=>[...Ge[13]||(Ge[13]=[Ht("mdi-content-save",-1)])]),_:1})]),_:1},8,["color"])]),_:1})]),default:K(()=>[fe.value==null?(Mt(),wo(nh,{key:0})):(Mt(),wo(Xs,{key:1},{default:K(()=>[Z(Cu,{density:"compact",style:{"max-height":"75vh"},class:"overflow-y-auto"},{default:K(()=>[fe.value.Vetements?.length?kr("",!0):(Mt(),wo(Ts,{key:0,class:"text-center"},{default:K(()=>[...Ge[14]||(Ge[14]=[kn("i",null,"Aucun vêtement.",-1)])]),_:1})),(Mt(!0),Jn(Sr,null,Dl(fe.value.Vetements,(ue,rn)=>(Mt(),Jn(Sr,null,[Z(oe,{isDragging:ot.value,onOnDrop:us=>nt(us,rn)},null,8,["isDragging","onOnDrop"]),ye.value==rn?(Mt(),wo(Ka,{key:0,class:"mx-0"},{default:K(()=>[Z(An,{"align-self":"center",cols:"2"},{default:K(()=>[Z(yt,{label:"Quantité",modelValue:fe.value.Vetements[rn].Quantite,"onUpdate:modelValue":us=>fe.value.Vetements[rn].Quantite=us},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),Z(An,{"align-self":"center"},{default:K(()=>[Z(V2,{density:"compact",variant:"outlined",label:"Description","hide-details":"",modelValue:fe.value.Vetements[rn].Description,"onUpdate:modelValue":us=>fe.value.Vetements[rn].Description=us},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),Z(An,{"align-self":"center",cols:"auto"},{default:K(()=>[Z(xee,{density:"compact",variant:"outlined",label:"Important","hide-details":"",modelValue:fe.value.Vetements[rn].Important,"onUpdate:modelValue":us=>fe.value.Vetements[rn].Important=us},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),Z(An,{"align-self":"center",cols:"auto"},{default:K(()=>[Z(on,{size:"small",onClick:Ge[3]||(Ge[3]=us=>ye.value=null)},{prepend:K(()=>[Z(Ds,{color:"green"},{default:K(()=>[...Ge[15]||(Ge[15]=[Ht("mdi-check",-1)])]),_:1})]),default:K(()=>[Ge[16]||(Ge[16]=Ht(" Terminer",-1))]),_:1})]),_:1})]),_:2},1024)):(Mt(),wo(Ts,{key:1,title:ue.Description,subtitle:ue.Important?"Important":""},{prepend:K(()=>[Z(Ff,{inline:"",content:ue.Quantite,color:"secondary"},null,8,["content"])]),append:K(()=>[Z(Ds,{class:"mx-1",style:{cursor:"grab"},draggable:!0,onDragstart:us=>Ae(us,rn),onDragend:Ge[4]||(Ge[4]=us=>ot.value=!1)},{default:K(()=>[...Ge[17]||(Ge[17]=[Ht("mdi-drag-vertical",-1)])]),_:1},8,["onDragstart"]),Z(on,{icon:"mdi-pencil",size:"x-small",class:"mx-1",onClick:us=>ye.value=rn},null,8,["onClick"]),Z(on,{icon:"",onClick:us=>Qe(rn),size:"x-small"},{default:K(()=>[Z(Ds,{color:"red"},{default:K(()=>[...Ge[18]||(Ge[18]=[Ht("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1032,["title","subtitle"]))],64))),256)),Z(oe,{isDragging:ot.value,onOnDrop:Ge[5]||(Ge[5]=ue=>nt(ue,fe.value?.Vetements?.length||0))},null,8,["isDragging"]),kn("div",hoe,null,512)]),_:1})]),_:1}))]),_:1}),Z(Si,{"model-value":!!Ot.value,"onUpdate:modelValue":Ge[6]||(Ge[6]=ue=>Ot.value="")},{default:K(()=>[Ot.value?(Mt(),Jn("object",{key:0,type:"application/pdf",data:Zt.value,style:{height:"95vh"}},null,8,boe)):kr("",!0)]),_:1},8,["model-value"]),Z(Si,{modelValue:vt.value,"onUpdate:modelValue":Ge[8]||(Ge[8]=ue=>vt.value=ue),"max-width":"600px"},{default:K(()=>[Z(nr,{title:"Texte complémentaire",subtitle:"Ce texte apparaît à la fin de la liste de vêtements."},{default:K(()=>[fe.value?(Mt(),wo(Xs,{key:0},{default:K(()=>[Z(ns(p$),{licenseKey:"gpl",modelValue:fe.value.Complement,"onUpdate:modelValue":Ge[7]||(Ge[7]=ue=>fe.value.Complement=ue),init:ge},null,8,["modelValue"])]),_:1})):kr("",!0)]),_:1})]),_:1},8,["modelValue"])],64)}}}),voe=Hr({__name:"documents",setup(ne){const fe=eA(),Be=Er(()=>Coe(fe.currentRoute.value.query)),Re=Er(()=>Be.value.tab||"documents");function Ye(De){const ye=fe.currentRoute.value;fe.push({path:ye.path,query:{tab:De}})}return(De,ye)=>(Mt(),Jn(Sr,null,[Z(lR,{title:`${ns(lo).camp?.Label} - Communication & Documents`},{default:K(()=>[Z(c$,{"model-value":Re.value,"onUpdate:modelValue":ye[0]||(ye[0]=Pe=>Ye(Pe))},{default:K(()=>[Z(YE,{value:"documents"},{default:K(()=>[...ye[1]||(ye[1]=[Ht("Documents",-1)])]),_:1}),Z(YE,{value:"lettre"},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...ye[2]||(ye[2]=[Ht("mdi-mail",-1)])]),_:1})]),default:K(()=>[ye[3]||(ye[3]=Ht(" Lettre aux familles",-1))]),_:1}),Z(YE,{value:"vetements"},{prepend:K(()=>[Z(Ds,null,{default:K(()=>[...ye[4]||(ye[4]=[Ht("mdi-washing-machine",-1)])]),_:1})]),default:K(()=>[ye[5]||(ye[5]=Ht(" Liste de vêtements",-1))]),_:1})]),_:1},8,["model-value"])]),_:1},8,["title"]),Z(d$,{"model-value":Re.value},{default:K(()=>[Z(XE,{value:"documents"},{default:K(()=>[Z(moe,{onGoTo:Ye})]),_:1}),Z(XE,{value:"lettre"},{default:K(()=>[Z(coe)]),_:1}),Z(XE,{value:"vetements"},{default:K(()=>[Z(xoe)]),_:1})]),_:1},8,["model-value"])],64))}}),yoe=[{path:"/",component:wee},{path:"/inscriptions",component:$ee},{path:"/equipiers",component:Yee},{path:"/documents",component:voe}],woe="/directeurs",GL=gee({history:fee(woe),routes:yoe});GL.onError((ne,fe)=>{ne?.message?.includes?.("Failed to fetch dynamically imported module")?localStorage.getItem("vuetify:dynamic-reload")?console.error("Dynamic import error, reloading page did not fix it",ne):(console.log("Reloading page to fix dynamic import error"),localStorage.setItem("vuetify:dynamic-reload","true"),location.assign(fe.fullPath)):console.error(ne)});GL.isReady().then(()=>{localStorage.removeItem("vuetify:dynamic-reload")});function _oe(ne){return{tab:ne.tab}}function Coe(ne){return{tab:ne.tab}}const koe=["innerHTML"],Soe=Hr({__name:"App",setup(ne){const fe=QJ({text:"",color:"secondary",action:void 0,timeout:4e3}),Be=jo(""),Re=jo("");return lo.onError=(De,ye)=>{Be.value=De,Re.value=ye},lo.showMessage=(De,ye,Pe)=>{fe.text=De,fe.color=ye||"success",fe.action=Pe,fe.timeout=1e4,fe.timeout=4e3},eA().beforeEach(async(De,ye)=>{if(!lo.hasToken()&&De.path!=="/")return{path:"/"}}),(De,ye)=>{const Pe=JJ("router-view");return Mt(),wo(tee,null,{default:K(()=>[Z(eee,null,{default:K(()=>[Z(Pe),Z(CV,{style:{"z-index":"10000"},app:"","model-value":fe.text!="","onUpdate:modelValue":ye[1]||(ye[1]=Qe=>fe.text=""),timeout:fe.timeout,color:fe.color,location:"bottom left","close-on-content-click":""},{default:K(()=>[Ht(la(fe.text)+" ",1),fe.action?(Mt(),wo(on,{key:0,onClick:ye[0]||(ye[0]=Qe=>fe.action.action()),class:"ml-2"},{default:K(()=>[Ht(la(fe.action.title),1)]),_:1})):kr("",!0)]),_:1},8,["model-value","timeout","color"]),Z(CV,{app:"","model-value":Be.value!="","onUpdate:modelValue":ye[2]||(ye[2]=Qe=>Be.value=""),timeout:4e3,color:"red"},{default:K(()=>[kn("b",null,la(Be.value),1),kn("div",{innerHTML:Re.value},null,8,koe)]),_:1},8,["model-value"])]),_:1})]),_:1})}}}),x$=oee(Soe);x$.use(nee).use(GL);x$.mount("#app");
