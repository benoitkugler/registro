import{d as g,W as Z,X as ee,a3 as te,a9 as j,e as r,o as a,h as x,w as i,a as s,f as I,i as y,Y as _,a8 as ne,bt as ie,j as oe,c9 as le,l as v,aQ as se,p as w,q as R,ca as ae,y as O,bF as re,bE as de,u as M,v as D,A as E,a1 as L,z as ce,an as G,al as q,am as Y,ap as F,I as H,cb as ue,G as me,r as J,J as ve,x as h,ak as Q,cc as fe,ae as _e,aY as pe,T as Ce,ag as ge,H as k,s as S,aj as ye,ao as be,cd as ke,k as Ve,t as C,$ as W,b as u,c as U,F as De,m as T,ce as z,O as Ee,cf as K,cg as V}from"./VSnackbar-4WS0ckTD.js";import{d as Ie,l as Se,b as B,o as Te,p as xe,i as $e,c as N,e as ze,f as he,k as Pe}from"./VTextarea-vvA5kftK.js";import{g as A}from"./VTabs-BL3VzwwU.js";import{V as Ke}from"./FileCard.vue_vue_type_script_setup_true_lang-igzkYVuw.js";const lt=g({__name:"MontantField",props:Z({label:{},hideDetails:{type:Boolean},readonlyCurrency:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const n=e,t=ee(e,"modelValue"),l=te(j);return(d,o)=>(a(),r(x,{"no-gutters":""},{default:i(()=>[s(y,{cols:n.readonlyCurrency?12:6},{default:i(()=>[s(Ie,{class:"mr-1",variant:"outlined",density:"compact","hide-details":n.hideDetails,label:n.label,type:"number",disabled:n.disabled,"model-value":t.value.Cent/100,"onUpdate:modelValue":o[0]||(o[0]=c=>t.value={Cent:_(ne)(Number(c)*100),Currency:t.value.Currency}),suffix:n.readonlyCurrency?_(j)[t.value.Currency]:void 0},null,8,["hide-details","label","disabled","model-value","suffix"])]),_:1},8,["cols"]),n.readonlyCurrency?I("",!0):(a(),r(y,{key:0,cols:"6"},{default:i(()=>[s(Se,{label:"Monnaie",variant:"outlined",density:"compact",disabled:n.disabled,items:_(l),"model-value":t.value.Currency,"hide-details":n.hideDetails,"onUpdate:modelValue":o[1]||(o[1]=c=>t.value={Cent:t.value.Cent,Currency:c})},null,8,["disabled","items","model-value","hide-details"])]),_:1}))]),_:1}))}}),Be={class:"d-flex align-center justify-center fill-height"},st=g({__name:"FileCardReadonly",props:{fileKey:{},isGeneratedDoc:{type:Boolean},large:{type:Boolean}},setup(e){const n=e;return(t,l)=>(a(),r(B,{class:"my-2",href:n.isGeneratedDoc?_(A).RenderDocumentCamp(n.fileKey,!1):_(ie)(n.fileKey)},{default:i(()=>[s(oe,{cover:"",src:n.isGeneratedDoc?_(A).RenderDocumentCamp(n.fileKey,!0):_(le)(n.fileKey),width:n.large?"142px":"48px"},{placeholder:i(()=>[v("div",Be,[s(se,{color:"grey-lighten-4",indeterminate:""})])]),_:1},8,["src","width"])]),_:1},8,["href"]))}}),we=R({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:H,iconColor:String,lineColor:String,...F(),...Y(),...q(),...G()},"VTimelineDivider"),Re=w()({name:"VTimelineDivider",props:we(),setup(e,n){let{slots:t}=n;const{sizeClasses:l,sizeStyles:d}=ae(e,"v-timeline-divider__dot"),{backgroundColorStyles:o,backgroundColorClasses:c}=O(()=>e.dotColor),{roundedClasses:m}=re(e,"v-timeline-divider__dot"),{elevationClasses:f}=de(e),{backgroundColorClasses:$,backgroundColorStyles:p}=O(()=>e.lineColor);return M(()=>v("div",{class:E(["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class]),style:D(e.style)},[v("div",{class:E(["v-timeline-divider__before",$.value]),style:D(p.value)},null),!e.hideDot&&v("div",{key:"dot",class:E(["v-timeline-divider__dot",f.value,m.value,l.value]),style:D(d.value)},[v("div",{class:E(["v-timeline-divider__inner-dot",c.value,m.value]),style:D(o.value)},[t.default?s(ce,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},t.default):s(L,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),v("div",{class:E(["v-timeline-divider__after",$.value]),style:D(p.value)},null)])),{}}}),X=R({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:H,iconColor:String,lineInset:[Number,String],side:{type:String,validator:e=>e==null||["start","end"].includes(e)},...F(),...fe(),...G(),...Y(),...q(),...Q()},"VTimelineItem"),Me=w()({name:"VTimelineItem",props:X(),setup(e,n){let{slots:t}=n;const{dimensionStyles:l}=ue(e),d=me(0),o=J();return ve(o,c=>{var m;c&&(d.value=((m=c.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:m.getBoundingClientRect().width)??0)},{flush:"post"}),M(()=>{var c,m;return v("div",{class:E(["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot,"v-timeline-item--side-start":e.side==="start","v-timeline-item--side-end":e.side==="end"},e.class]),style:D([{"--v-timeline-dot-size":h(d.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${h(e.lineInset)})`:h(0)},e.style])},[v("div",{class:"v-timeline-item__body",style:D(l.value)},[(c=t.default)==null?void 0:c.call(t)]),s(Re,{ref:o,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:t.icon}),e.density!=="compact"&&v("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((m=t.opposite)==null?void 0:m.call(t))])])}),{}}}),Le=R({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...ke(X({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...F(),...be(),...Q(),...ye()},"VTimeline"),at=w()({name:"VTimeline",props:Le(),setup(e,n){let{slots:t}=n;const{themeClasses:l}=_e(e),{densityClasses:d}=pe(e),{rtlClasses:o}=Ce();ge({VTimelineDivider:{lineColor:k(()=>e.lineColor)},VTimelineItem:{density:k(()=>e.density),dotColor:k(()=>e.dotColor),fillDot:k(()=>e.fillDot),hideOpposite:k(()=>e.hideOpposite),iconColor:k(()=>e.iconColor),lineColor:k(()=>e.lineColor),lineInset:k(()=>e.lineInset),size:k(()=>e.size)}});const c=S(()=>{const f=e.side?e.side:e.density!=="default"?"end":null;return f&&`v-timeline--side-${f}`}),m=S(()=>{const f=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return f;case"start":return f[0];case"end":return f[1];default:return null}});return M(()=>s(e.tag,{class:E(["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,m.value,{"v-timeline--inset-line":!!e.lineInset},l.value,d.value,c.value,o.value,e.class]),style:D([{"--v-timeline-line-thickness":h(e.lineThickness)},e.style])},t)),{}}}),Fe={class:"ma-2"},b=g({__name:"EventItem",props:{color:{},icon:{},time:{},size:{}},setup(e){const n=e;return(t,l)=>(a(),r(Me,{"dot-color":n.color,width:"100%",size:n.size||"medium",elevation:2},{icon:i(()=>[v("div",Fe,[s(L,{icon:n.icon},null,8,["icon"])])]),default:i(()=>[s(x,{justify:"space-between","no-gutters":""},{default:i(()=>[s(y,{"align-self":"center",cols:"10"},{default:i(()=>[Ve(t.$slots,"default")]),_:3}),s(y,{"align-self":"center",cols:"2",class:"text-grey pl-2"},{default:i(()=>[v("small",null,C(_(W).time(n.time)),1)]),_:1})]),_:3})]),_:3},8,["dot-color","size"]))}}),Ue=g({__name:"EventPaiementV",props:{paiement:{},user:{}},emits:["edit"],setup(e,{emit:n}){const t=e,l=n;return(d,o)=>{const c=b;return a(),r(c,{color:"#ad9726",icon:"mdi-cash",time:t.paiement.Time},{default:i(()=>[s(x,null,{default:i(()=>[s(y,{"align-self":"center"},{default:i(()=>[s(Te,null,{default:i(()=>[u(C(t.paiement.IsRemboursement?"Remboursement":"Paiement")+" ",1),t.paiement.IsRemboursement?I("",!0):(a(),U(De,{key:0},[o[1]||(o[1]=u(" de ")),v("i",null,C(t.paiement.Payeur),1)],64)),o[2]||(o[2]=u(" : ")),v("b",null,C(_(W).montant(t.paiement.Montant)),1)]),_:1,__:[2]}),s(xe,null,{default:i(()=>[u(C(t.paiement.Label),1)]),_:1})]),_:1}),s(y,{"align-self":"center",cols:"auto"},{default:i(()=>[t.user=="backoffice"?(a(),r(T,{key:0,icon:"mdi-pencil",size:"x-small",onClick:o[0]||(o[0]=m=>l("edit"))})):I("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),je=g({__name:"EventInscriptionTimeV",props:{time:{}},setup(e){const n=e;return(t,l)=>(a(),r(b,{color:"grey",icon:"mdi-map-marker",time:n.time},{default:i(()=>l[0]||(l[0]=[u(" Demande d'inscription effectuée. ")])),_:1,__:[0]},8,["time"]))}}),Oe={style:{"white-space":"pre-wrap"}},Ne={key:1},Ae=g({__name:"EventMessageV",props:{event:{},content:{},user:{}},emits:["delete"],setup(e,{emit:n}){const t=e,l=n,d=S(()=>c(t.content.Message.Origine)),o=S(()=>t.user=="backoffice"&&f);function c($){switch($){case z.FromBackoffice:return"bg-light-green-lighten-3";case z.FromDirecteur:return"bg-lime";case z.FromEspaceperso:return"bg-light-blue-lighten-3"}}const m=J(!1),f=S(()=>t.content.Message.Origine==(t.user=="backoffice"?z.FromBackoffice:z.FromEspaceperso));return($,p)=>(a(),r(b,{icon:f.value?"mdi-email-arrow-right":"mdi-email-arrow-left",color:"light-blue-darken-3",time:t.event.Created,size:"x-large"},{default:i(()=>[m.value?(a(),r($e,{key:0,modelValue:m.value,"onUpdate:modelValue":p[1]||(p[1]=P=>m.value=P),"max-width":"400px"},{default:i(()=>[s(B,{title:"Confirmation"},{default:i(()=>[s(N,null,{default:i(()=>p[3]||(p[3]=[u(" Confirmez-vous la suppression de ce message ? "),v("br",null,null,-1),v("br",null,null,-1),u(" Attention, cette opération est irréversible. ")])),_:1,__:[3]}),s(ze,null,{default:i(()=>[s(he),s(T,{color:"red",onClick:p[0]||(p[0]=P=>l("delete"))},{default:i(()=>p[4]||(p[4]=[u("Supprimer")])),_:1,__:[4]})]),_:1})]),_:1})]),_:1},8,["modelValue"])):I("",!0),s(x,{"no-gutters":""},{default:i(()=>[s(y,{"align-self":"center",cols:"11"},{default:i(()=>[s(B,{class:E(d.value)},{default:i(()=>[s(N,{class:"pa-1"},{default:i(()=>[v("pre",Oe,C(t.content.Message.Contenu),1)]),_:1})]),_:1},8,["class"])]),_:1}),s(y,{cols:"1","align-self":"center"},{default:i(()=>[o.value?(a(),r(T,{key:0,icon:"",size:"x-small",class:"ml-2",onClick:p[2]||(p[2]=P=>m.value=!0)},{default:i(()=>[s(L,{color:"red"},{default:i(()=>p[5]||(p[5]=[u("mdi-delete")])),_:1,__:[5]})]),_:1})):(a(),U("div",Ne,[s(T,{icon:"",size:"x-small",variant:"text",disabled:""})]))]),_:1})]),_:1})]),_:1},8,["icon","time"]))}}),Ge={href:""},qe={href:""},Ye=g({__name:"EventPlaceLibereeV",props:{event:{},content:{}},setup(e){const n=e;return(t,l)=>{const d=b;return a(),r(d,{icon:"mdi-information-outline",color:"yellow",time:n.event.Created},{default:i(()=>[l[0]||(l[0]=u(" Une place pour ")),v("a",Ge,C(n.content.ParticipantLabel),1),l[1]||(l[1]=u(" s'est libérée sur le séjour ")),v("a",qe,C(n.content.CampLabel),1),l[2]||(l[2]=u(". "))]),_:1,__:[0,1,2]},8,["time"])}}}),He=g({__name:"EventSupprimeV",props:{event:{},content:{}},setup(e){const n=e;return(t,l)=>{const d=b;return a(),r(d,{color:"grey",icon:"mdi-close",time:n.event.Created,size:"small"},{default:i(()=>l[0]||(l[0]=[u(" Message supprimé ")])),_:1,__:[0]},8,["time"])}}}),Je=g({__name:"EventValidationV",props:{event:{},content:{}},setup(e){const n=e;return(t,l)=>{const d=b;return a(),r(d,{color:"green",icon:"mdi-map-marker-check",time:n.event.Created},{default:i(()=>[l[0]||(l[0]=u(" Inscription confirmée ")),s(Ke,{text:"Inscription reçue et confirmée "+(n.content.ByCamp?`par la direction du séjour ${n.content.ByCamp}.`:"par le centre.")},{activator:i(({props:o})=>[s(Pe,Ee(o,{"prepend-icon":"mdi-account"}),{default:i(()=>[u(C(n.content.ByCamp?n.content.ByCamp:"Centre"),1)]),_:2},1040)]),_:1},8,["text"])]),_:1,__:[0]},8,["time"])}}}),Qe={key:0},We=g({__name:"EventFactureV",props:{event:{},content:{}},setup(e){const n=e;return(t,l)=>{const d=b;return a(),r(d,{color:"orange-darken-1",icon:"mdi-invoice",time:n.event.Created},{default:i(()=>[l[0]||(l[0]=u(" Demande de règlement envoyée. ")),n.content.IsRappel?(a(),U("i",Qe,"Il s'agit d'un rappel.")):I("",!0)]),_:1,__:[0]},8,["time"])}}}),Xe=g({__name:"EventCampDocsV",props:{event:{},content:{},user:{}},emits:["goToDocuments"],setup(e,{emit:n}){const t=e,l=n;return(d,o)=>{const c=b;return a(),r(c,{icon:"mdi-mail",color:"light-blue",time:t.event.Created},{default:i(()=>[s(x,null,{default:i(()=>[s(y,{"align-self":"center"},{default:i(()=>[o[1]||(o[1]=u(" Les documents du séjour ")),v("i",null,C(t.content.CampLabel),1),o[2]||(o[2]=u(" ont été envoyés. "))]),_:1,__:[1,2]}),s(y,{"align-self":"center",cols:"auto"},{default:i(()=>[t.user=="espaceperso"?(a(),r(T,{key:0,size:"small",onClick:o[0]||(o[0]=m=>l("goToDocuments",t.content.IdCamp)),class:"mr-2"},{default:i(()=>o[3]||(o[3]=[u(" Lire ")])),_:1,__:[3]})):I("",!0)]),_:1})]),_:1})]),_:1},8,["time"])}}}),Ze=g({__name:"EventAttestationV",props:{event:{},content:{}},setup(e){const n=e,t=S(()=>{switch(n.content.Distribution){case K.DEspacePerso:return"téléchargée depuis l'espace personnel";case K.DMail:return"envoyée";case K.DMailAndDownloaded:return"envoyée et téléchargée"}});return(l,d)=>{const o=b;return a(),r(o,{icon:"mdi-invoice-check",color:"light-green-darken-1",time:n.event.Created},{default:i(()=>[d[0]||(d[0]=u(" Une ")),v("b",null,C(n.content.IsPresence?"attestation de présence":"facture acquittée"),1),u(" a été "+C(t.value)+". ",1)]),_:1,__:[0]},8,["time"])}}}),et=g({__name:"EventSondageV",props:{event:{},content:{},user:{}},emits:["goToSondage"],setup(e,{emit:n}){const t=e,l=n;return(d,o)=>{const c=b;return a(),r(c,{color:"purple",icon:"mdi-comment-quote",time:t.event.Created},{default:i(()=>[s(x,null,{default:i(()=>[s(y,{"align-self":"center"},{default:i(()=>[u(" Un sondage concernant le séjour "+C(t.content.CampLabel)+" a été envoyé. ",1)]),_:1}),s(y,{"align-self":"center",cols:"auto"},{default:i(()=>[s(T,{size:"small",onClick:o[0]||(o[0]=m=>l("goToSondage",t.content.IdCamp))},{default:i(()=>[u(C(t.user=="espaceperso"?"répondre":"aller"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["time"])}}}),rt=g({__name:"EventSwitch",props:{event:{}},emits:["editPaiement","deleteMessage","goToSondage","goToDocuments"],setup(e,{emit:n}){const t=e,l=n;return(d,o)=>{const c=je,m=Ue;return t.event.Kind=="inscription-time"?(a(),r(c,{key:0,time:t.event.Time},null,8,["time"])):t.event.Kind=="paiement"?(a(),r(m,{key:1,paiement:t.event.Paiement,user:t.event.User,onEdit:o[0]||(o[0]=f=>l("editPaiement",t.event.Paiement))},null,8,["paiement","user"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==_(V).Supprime?(a(),r(He,{key:2,event:t.event.Event,content:t.event.Event.Content.Data},null,8,["event","content"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==_(V).Validation?(a(),r(Je,{key:3,event:t.event.Event,content:t.event.Event.Content.Data},null,8,["event","content"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==_(V).Message?(a(),r(Ae,{key:4,event:t.event.Event,content:t.event.Event.Content.Data,user:t.event.User,onDelete:o[1]||(o[1]=f=>l("deleteMessage",t.event.Event))},null,8,["event","content","user"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==_(V).PlaceLiberee?(a(),r(Ye,{key:5,event:t.event.Event,content:t.event.Event.Content.Data},null,8,["event","content"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==_(V).Facture?(a(),r(We,{key:6,event:t.event.Event,content:t.event.Event.Content.Data},null,8,["event","content"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==_(V).CampDocs?(a(),r(Xe,{key:7,event:t.event.Event,content:t.event.Event.Content.Data,user:t.event.User,onGoToDocuments:o[2]||(o[2]=f=>l("goToDocuments",f))},null,8,["event","content","user"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==_(V).Attestation?(a(),r(Ze,{key:8,event:t.event.Event,content:t.event.Event.Content.Data},null,8,["event","content"])):t.event.Kind=="event"&&t.event.Event.Content.Kind==_(V).Sondage?(a(),r(et,{key:9,event:t.event.Event,content:t.event.Event.Content.Data,user:t.event.User,onGoToSondage:o[3]||(o[3]=f=>l("goToSondage",f))},null,8,["event","content","user"])):I("",!0)}}});export{at as V,lt as _,st as a,rt as b};
