var me=Object.defineProperty;var fe=(d,s,l)=>s in d?me(d,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[s]=l;var se=(d,s,l)=>fe(d,typeof s!="symbol"?s+"":s,l);import{c as ve,a as _e,f as ye,d as h,r as k,b as P,s as p,F as x,e,w as t,g as $,h as G,i as g,V as Ve,j as I,k as M,l as ge,m as B,n as q,o as be,t as E,p as Ce,q as U,bE as ke,bF as Ie,a3 as z,u as R,v as A,x as N,y as S,z as te,A as ae,B as we,M as L,aV as Pe,aY as ie,aj as Se,aW as K,ae as F,H as C,ac as O,aX as qe,ad as j,a0 as W,ai as Q,by as xe,aa as Z,bd as Ee,af as ee,K as $e,L as he,aG as Te,b4 as De,N as Ue,aL as Me,aM as Re,aQ as Ae,aR as Fe,a1 as Le,b9 as Be,C as Ne,D as Oe,E as ze,J as He,bc as je,br as oe,aU as Ge,bz as Ke,bA as We,bB as ue,bC as Qe,bD as Je}from"./VSnackbar-BJ33Du3g.js";import{V as Xe,a as Ye,A as Ze,u as J,g as et,j as tt,k as at,S as nt,_ as lt,h as st,f as it,p as ot,q as re,r as de,o as ut,D,v as Y,C as rt,R as pe,d as dt,F as pt,w as H,s as ct,t as mt}from"./VTabs-ajbyw4G_.js";import{V as ft}from"./VTooltip-C7RWk0Z0.js";import{_ as vt}from"./FileCard.vue_vue_type_script_setup_true_lang-CkHHs_T0.js";import"./VWindowItem-ZYo1AT89.js";const _t=ve({locale:{locale:"fr",messages:{fr:ye}},theme:{defaultTheme:"light",themes:{light:{colors:_e}}}}),ne=h({__name:"NavBar",props:{title:{},hideMenu:{type:Boolean}},setup(d){const s=d,l="/static/repere/logo.png",i="v0.1.2",f=k(!1);return(c,a)=>(p(),P(x,null,[e(Xe,{app:"",modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=_=>f.value=_),temporary:""},{default:t(()=>[e($,{title:"Registro - Portail des directeurs",subtitle:i}),e(G),e($,{"prepend-icon":"mdi-calendar-multiple-check",link:"",to:{path:"/inscriptions"},color:"primary"},{default:t(()=>a[2]||(a[2]=[g(" Inscriptions ")])),_:1}),e($,{"prepend-icon":"mdi-account",link:"",to:{path:"/equipiers"},color:"primary"},{default:t(()=>a[3]||(a[3]=[g(" Equipiers ")])),_:1}),e(G),e($,{"prepend-icon":"mdi-logout",link:"",to:{path:"/"},color:"primary"},{default:t(()=>a[4]||(a[4]=[g(" Se déconnecter ")])),_:1})]),_:1},8,["modelValue"]),e(Ve,{rounded:"",elevation:"4",color:"secondary"},{append:t(()=>[Ce(c.$slots,"default"),a[5]||(a[5]=U("div",{class:"mr-2"},null,-1))]),default:t(()=>[s.hideMenu?M("",!0):(p(),I(Ye,{key:0,onClick:a[1]||(a[1]=_=>f.value=!f.value)})),e(ge,null,{default:t(()=>[e(B,null,{default:t(()=>[e(q,{"align-self":"center",cols:"auto"},{default:t(()=>[e(be,{width:"60",src:l})]),_:1}),e(q,{"align-self":"center"},{default:t(()=>[g(E(s.title),1)]),_:1})]),_:1})]),_:1})]),_:3})],64))}});class yt extends Ze{constructor(l,i,f){super(f,"");se(this,"camp",null);this.onError=l,this.showMessage=i}hasToken(){return this.authToken!=""}setCamp(l,i){this.camp=l,this.authToken=i}handleError(l){const{kind:i,messageHtml:f}=Ie(l);this.onError(i,f)}startRequest(){}equipiersFilesStreamURL(){return this.baseUrl+`/api/v1/directeurs/equipiers/files?token=${this.authToken}`}}const m=new yt((d,s)=>{},(d,s)=>{},ke()),Vt=h({__name:"index",setup(d){const s=J();z(i);const l=k([]);async function i(){const y=await m.GetCamps();y!==void 0&&(l.value=y||[])}const f=k(0),c=k(!1),a=k(""),_=k([]);async function o(){const y=l.value.find(w=>w.Id==f.value);if(!y)return;const u=await m.Loggin({password:a.value,idCamp:f.value});u!==void 0&&(u.IsValid?(m.setCamp(y,u.Token),m.showMessage("Bienvenue !"),s.push({path:"/inscriptions"})):_.value=["Mot de passe incorrect."])}return(y,u)=>{const w=et;return p(),P(x,null,[e(ne,{title:"Connection à la page Directeur","hide-menu":""}),e(we,{class:"fill-height"},{default:t(()=>[e(R,{title:"Connection",class:"mx-auto",width:"400px"},{default:t(()=>[e(A,null,{default:t(()=>[e(w,{label:"Camp",modelValue:f.value,"onUpdate:modelValue":u[0]||(u[0]=r=>f.value=r),camps:l.value,name:"user","default-style":""},null,8,["modelValue","camps"]),e(N,{label:"Mot de passe",modelValue:a.value,"onUpdate:modelValue":[u[2]||(u[2]=r=>a.value=r),u[3]||(u[3]=r=>_.value=[])],"error-messages":_.value,type:c.value?void 0:"password",name:"password"},{"append-inner":t(()=>[e(S,{class:"ml-2",size:"small",icon:c.value?"mdi-eye":"mdi-eye-off",flat:"",onClick:u[1]||(u[1]=r=>c.value=!c.value)},null,8,["icon"])]),_:1},8,["modelValue","error-messages","type"])]),_:1}),e(te,null,{default:t(()=>[e(ae),e(S,{disabled:!f.value||!a.value.length,onClick:o},{default:t(()=>u[4]||(u[4]=[g("Se connecter")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}}),gt={key:1,class:"text-center font-italic"},bt={key:2},Ct=h({__name:"PannelInscriptions",emits:["goTo"],setup(d,{emit:s}){const l=s,i=k(!1);z(c);const f=k([]);async function c(){i.value=!0;const n=await m.InscriptionsGet();i.value=!1,n!==void 0&&(f.value=n||[])}const a=k(""),_=L(()=>{const n=Pe(a.value);return f.value.filter(V=>{var v;return ie.match(V.Responsable,n)||((v=V.Participants)==null?void 0:v.some(b=>ie.match(b.Personne,n)||Se.match(b.Camp,n)))})});function o(n){const V=m.camp.Id;return(n.Participants||[]).filter(v=>v.Camp.Id==V).every(v=>v.Participant.Statut!=nt.AStatuer)}async function y(n,V){const v=await m.InscriptionsIdentifiePersonne({IdDossier:n,Target:V});if(v===void 0)return;m.showMessage("Profil identifié avec succès.");const b=f.value.findIndex(T=>T.Dossier.Id==n);f.value[b]=v}const u=k(null);async function w(n){const V=await m.InscriptionsHintValide({idDossier:n.Dossier.Id});V!==void 0&&(u.value={inscription:n,statuts:V||{}})}async function r(n){if(!u.value)return;const V=u.value.inscription.Dossier.Id;u.value=null;const v=await m.InscriptionsValide({IdDossier:V,Statuts:n,SendMail:!0});if(v!==void 0)if(m.showMessage("Inscription validée avec succès.","",{title:"Aller aux participants",action:()=>l("goTo")}),v.Dossier.IsValidated)f.value=f.value.filter(b=>b.Dossier.Id!=V);else{const b=f.value.findIndex(T=>T.Dossier.Id==V);f.value[b]=v}}return(n,V)=>{const v=at;return p(),I(R,{title:"Inscriptions",subtitle:"En attente de validation",class:"ma-2"},{append:t(()=>[e(N,{width:"300","append-inner-icon":"mdi-magnify",label:"Rechercher","hide-details":"",modelValue:a.value,"onUpdate:modelValue":V[0]||(V[0]=b=>a.value=b)},null,8,["modelValue"])]),default:t(()=>[e(A,null,{default:t(()=>[i.value?(p(),I(K,{key:0})):f.value.length?(p(),P("div",bt,[(p(!0),P(x,null,F(_.value,(b,T)=>(p(),I(tt,{class:"my-1",key:T,inscription:b,"hide-delete":"","already-validated":o(b),onIdentifie:X=>y(b.Dossier.Id,X),onValide:X=>w(b),api:{SearchSimilaires:C(m).InscriptionsSearchSimilaires.bind(C(m)),SelectPersonne:C(m).SelectPersonne.bind(C(m))}},null,8,["inscription","already-validated","onIdentifie","onValide","api"]))),128))])):(p(),P("div",gt," Il n'y a aucune inscription à valider. "))]),_:1}),e(O,{"model-value":u.value!=null,"onUpdate:modelValue":V[1]||(V[1]=b=>u.value=null),"max-width":"800px"},{default:t(()=>[u.value?(p(),I(v,{key:0,inscription:u.value.inscription,statuts:u.value.statuts,rights:{AgeInvalide:!1,CampComplet:!0},"id-camp":C(m).camp.Id,onValide:r},null,8,["inscription","statuts","id-camp"])):M("",!0)]),_:1},8,["model-value"])]),_:1})}}}),kt={key:1},It={key:0,class:"text-center font-italic"},wt=h({__name:"PannelParticipants",setup(d,{expose:s}){z(()=>{o(),f()}),s({loadParticipants:o});const l=k(!1),i=k([]);async function f(){const w=await m.GetCamps();w!==void 0&&(i.value=w||[])}const c=k(!1),a=L(()=>{const w=(_.value||[]).map(r=>r);return w.sort((r,n)=>qe.cmp(r,n,c.value)),w}),_=k(null);async function o(){l.value=!0;const w=await m.ParticipantsGet();l.value=!1,w!==void 0&&(_.value=w)}const y=k(null);async function u(w){if(y.value==null||_.value==null)return;const r=await m.ParticipantsUpdate(w);y.value=null,r!==void 0&&(m.showMessage("Participant modifié avec succès."),o())}return(w,r)=>{const n=lt,V=st,v=it;return _.value!=null?(p(),I(R,{key:0,title:"Participants"},{append:t(()=>[e(ft,{text:"Trier par moment d'inscription"},{activator:t(({props:b})=>[e(S,W(b,{icon:"",variant:c.value?"tonal":"flat",onClick:r[0]||(r[0]=T=>c.value=!c.value)}),{default:t(()=>[e(Q,null,{default:t(()=>r[2]||(r[2]=[g("mdi-sort-calendar-ascending")])),_:1})]),_:2},1040,["variant"])]),_:1})]),default:t(()=>[e(A,{class:"mt-4"},{default:t(()=>[l.value?(p(),I(K,{key:0,type:"table"})):(p(),P("div",kt,[e(n),a.value.length?M("",!0):(p(),P("div",It," Aucun participant n'est encore inscrit sur ce séjour. ")),(p(!0),P(x,null,F(a.value,(b,T)=>(p(),I(V,{participant:b,index:T},{actions:t(()=>[e(j,{density:"comfortable"},{default:t(()=>[e($,{title:"Modifier","prepend-icon":"mdi-pencil",onClick:X=>y.value=b},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["participant","index"]))),256))]))]),_:1}),y.value!=null?(p(),I(O,{key:0,"model-value":y.value!=null,"onUpdate:modelValue":r[1]||(r[1]=b=>y.value=null),"max-width":"800px"},{default:t(()=>[e(v,{participant:y.value.Participant,personne:y.value.Personne,api:{SelectPersonne:C(m).SelectPersonne.bind(C(m))},"hide-personne-dossier":"","readonly-statut":"",onSave:u},null,8,["participant","personne","api"])]),_:1},8,["model-value"])):M("",!0)]),_:1})):(p(),I(K,{key:1,type:"card"}))}}}),Pt=h({__name:"inscriptions",setup(d){const s=J(),l=L(()=>At(s.currentRoute.value.query)),i=L(()=>l.value.tab||"insc"),f=xe("participants");function c(a){var o;const _=s.currentRoute.value;s.push({path:_.path,query:{tab:a}}),a=="participants"&&((o=f.value)==null||o.loadParticipants())}return(a,_)=>{var o;return p(),P(x,null,[e(ne,{title:`${(o=C(m).camp)==null?void 0:o.Label} - Suivi des inscriptions`},{default:t(()=>[e(ot,{"model-value":i.value,"onUpdate:modelValue":_[0]||(_[0]=y=>c(y))},{default:t(()=>[e(re,{value:"insc"},{default:t(()=>_[2]||(_[2]=[g("Nouvelles inscriptions")])),_:1}),e(re,{value:"participants"},{default:t(()=>_[3]||(_[3]=[g("Liste des participants")])),_:1})]),_:1},8,["model-value"])]),_:1},8,["title"]),e(ut,{"model-value":i.value},{default:t(()=>[e(de,{value:"insc"},{default:t(()=>[e(Ct,{onGoTo:_[1]||(_[1]=()=>c("participants"))})]),_:1}),e(de,{value:"participants"},{default:t(()=>[e(wt,{ref_key:"participants",ref:f},null,512)]),_:1})]),_:1},8,["model-value"])],64)}}}),St=h({__name:"DemandeChip",props:{demande:{}},emits:["updateState"],setup(d,{emit:s}){const l=d,i=s,f=L(()=>{var a;const c=!!((a=l.demande.Files)!=null&&a.length);switch(l.demande.State){case D.NonDemande:return;case D.Optionnelle:return c?"green":"yellow-darken-2";case D.Obligatoire:return c?"green":"red"}});return(c,a)=>{const _=vt;return p(),I(Z,null,{activator:t(({props:o})=>[e(ee,W(o,{color:f.value,class:"my-1",size:"small"}),{default:t(()=>[g(E(C(Y)[l.demande.State]),1)]),_:2},1040,["color"])]),default:t(()=>[e(R,{title:"Documents"},{default:t(()=>[e(A,null,{default:t(()=>{var o;return[e(Ee,{mandatory:"","model-value":l.demande.State,"onUpdate:modelValue":a[0]||(a[0]=y=>i("updateState",y))},{default:t(()=>[e(S,{value:C(D).NonDemande},{default:t(()=>a[1]||(a[1]=[g("Non requis")])),_:1},8,["value"]),e(S,{value:C(D).Optionnelle},{default:t(()=>[g(E(C(Y)[C(D).Optionnelle]),1)]),_:1},8,["value"]),e(S,{value:C(D).Obligatoire},{default:t(()=>[g(E(C(Y)[C(D).Obligatoire]),1)]),_:1},8,["value"])]),_:1},8,["model-value"]),(o=l.demande.Files)!=null&&o.length?(p(),P(x,{key:0},[e(G,{thickness:"2",class:"mt-2"}),e(B,null,{default:t(()=>[(p(!0),P(x,null,F(l.demande.Files,y=>(p(),I(q,{cols:"4"},{default:t(()=>[e(_,{file:y},null,8,["file"])]),_:2},1024))),256))]),_:1})],64)):M("",!0)]}),_:1})]),_:1})]),_:1})}}}),qt=he({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Fe(),...Ae(),...Re(),...Me()},"VTable"),xt=$e()({name:"VTable",props:qt(),setup(d,s){let{slots:l,emit:i}=s;const{themeClasses:f}=Te(d),{densityClasses:c}=De(d);return Ue(()=>e(d.tag,{class:["v-table",{"v-table--fixed-height":!!d.height,"v-table--fixed-header":d.fixedHeader,"v-table--fixed-footer":d.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":d.hover},f.value,c.value,d.class],style:d.style},{default:()=>{var a,_,o;return[(a=l.top)==null?void 0:a.call(l),l.default?e("div",{class:"v-table__wrapper",style:{height:Le(d.height)}},[e("table",null,[l.default()])]):(_=l.wrapper)==null?void 0:_.call(l),(o=l.bottom)==null?void 0:o.call(l)]}})),{}}}),Et={key:1},$t={class:"text-left"},ht=h({__name:"DocumentsTable",props:{equipiers:{}},setup(d){const s=d;z(f);const l=k([]),i=k([]);async function f(){const o=await m.EquipiersDemandesGet();o!==void 0&&(l.value=o.Demandes||[],i.value=o.Equipiers||[])}function c(o,y){return i.value.find(u=>u.Key.IdDemande==y&&u.Key.IdEquipier==o)}async function a(o,y,u){await m.EquipiersDemandeSet({IdEquipier:o,IdDemande:y,State:u})!==void 0&&(m.showMessage("Demande modifiée avec succès."),c(o,y).State=u)}const _=L(()=>m.equipiersFilesStreamURL());return(o,y)=>(p(),I(R,{title:"Documents de l'équipe",subtitle:"Demandes et fichiers déposés par l'équipe"},{append:t(()=>[e(S,{href:_.value},{prepend:t(()=>[e(Q,null,{default:t(()=>y[0]||(y[0]=[g("mdi-download")])),_:1})]),default:t(()=>[y[1]||(y[1]=g(" Télécharger"))]),_:1},8,["href"])]),default:t(()=>[e(A,{class:"mt-4"},{default:t(()=>[l.value?(p(),P("div",Et,[e(xt,{class:"text-center"},{default:t(()=>[U("tr",null,[y[2]||(y[2]=U("td",null,null,-1)),(p(!0),P(x,null,F(l.value,u=>(p(),P("td",null,E(C(rt)[u.Categorie]),1))),256))]),(p(!0),P(x,null,F(s.equipiers,(u,w)=>(p(),P("tr",{class:Be(w%2==0?"bg-grey-lighten-4 rounded":"")},[U("td",$t,E(u.Personne),1),(p(!0),P(x,null,F(l.value,r=>(p(),P("td",null,[e(St,{demande:c(u.Equipier.Id,r.Id),onUpdateState:n=>a(u.Equipier.Id,r.Id,n)},null,8,["demande","onUpdateState"])]))),256))],2))),256))]),_:1})])):(p(),I(K,{key:0,type:"table"}))]),_:1})]),_:1}))}}),Tt=h({__name:"RolesField",props:Ne({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const s=d,l=Oe(d,"modelValue"),i=ze(pe);return(f,c)=>(p(),I(He,{chips:"","closable-chips":"",label:"Rôles",variant:"outlined",density:"compact","hide-details":"",items:C(i),readonly:s.readonly,multiple:"",modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=a=>l.value=a)},null,8,["items","readonly","modelValue"]))}}),Dt=h({__name:"AddEquipierCard",emits:["create"],setup(d,{emit:s}){const l=s,i=k({CreatePersonne:!1,IdPersonne:0,Nom:"",Prenom:"",Mail:"",Roles:[]}),f=L(()=>{var c;return!!((i.value.CreatePersonne?i.value.Nom&&i.value.Prenom&&i.value.Mail:i.value.IdPersonne)&&((c=i.value.Roles)!=null&&c.length))});return(c,a)=>{const _=dt;return p(),I(R,{title:"Ajouter un équipier",subtitle:"Sélectionner un profil existant ou créer un nouveau."},{default:t(()=>[e(A,{class:"mt-4"},{default:t(()=>[e(B,null,{default:t(()=>[e(q,null,{default:t(()=>[i.value.CreatePersonne?(p(),I(B,{key:1},{default:t(()=>[e(q,null,{default:t(()=>[e(N,{autofocus:"","hide-details":"",label:"Nom",density:"compact",variant:"outlined",modelValue:i.value.Nom,"onUpdate:modelValue":a[1]||(a[1]=o=>i.value.Nom=o)},null,8,["modelValue"])]),_:1}),e(q,null,{default:t(()=>[e(N,{"hide-details":"",label:"Prénom",density:"compact",variant:"outlined",modelValue:i.value.Prenom,"onUpdate:modelValue":a[2]||(a[2]=o=>i.value.Prenom=o)},null,8,["modelValue"])]),_:1}),e(q,{cols:"12"},{default:t(()=>[e(N,{variant:"outlined",density:"compact",modelValue:i.value.Mail,"onUpdate:modelValue":a[3]||(a[3]=o=>i.value.Mail=o),label:"Adresse mail",type:"email",rules:[C(je).required("Une adresse mail est nécessaire pour inviter l'équipier.")]},null,8,["modelValue","rules"])]),_:1})]),_:1})):(p(),I(_,{key:0,label:"Personne",modelValue:i.value.IdPersonne,"onUpdate:modelValue":a[0]||(a[0]=o=>i.value.IdPersonne=o),"initial-personne":"",api:{SelectPersonne:C(m).SelectPersonne.bind(C(m))}},null,8,["modelValue","api"]))]),_:1}),e(q,{cols:"auto","align-self":"center"},{default:t(()=>[e(S,{onClick:a[4]||(a[4]=o=>i.value.CreatePersonne=!i.value.CreatePersonne)},{default:t(()=>[g(E(i.value.CreatePersonne?"Sélectionner":"Créer"),1)]),_:1})]),_:1})]),_:1}),e(B,null,{default:t(()=>[e(q,null,{default:t(()=>[e(Tt,{modelValue:i.value.Roles,"onUpdate:modelValue":a[5]||(a[5]=o=>i.value.Roles=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(te,null,{default:t(()=>[e(ae),e(S,{disabled:!f.value,onClick:a[6]||(a[6]=o=>l("create",i.value))},{default:t(()=>a[7]||(a[7]=[g("Ajouter")])),_:1},8,["disabled"])]),_:1})]),_:1})}}}),Ut=h({__name:"equipiers",setup(d){J(),z(l);const s=k([]);async function l(){const r=await m.EquipiersGet();r!==void 0&&(r==null||r.sort((n,V)=>n.Equipier.Id-V.Equipier.Id),s.value=r||[])}const i=k(!1);function f(r){return(r||[]).map(n=>pe[n]).join(", ")}function c(r){switch(r){case H.NotSend:return{icon:"mdi-form-select",color:""};case H.Pending:return{icon:"mdi-clock",color:"yellow-darken-2"};case H.Answered:return{icon:"mdi-check",color:"green"}}}const a=k(!1);async function _(r){a.value=!1;const n=await m.EquipiersCreate(r);n!==void 0&&(m.showMessage("Equipier crée avec succès."),s.value.push(n))}async function o(r){const n=await m.EquipiersInvite({OnlyOne:oe(r)});n!==void 0&&(m.showMessage("Equipier invité avec succès."),n==null||n.sort((V,v)=>V.Equipier.Id-v.Equipier.Id),s.value=n||[])}async function y(){const r=await m.EquipiersInvite({OnlyOne:oe(null)});r!==void 0&&(m.showMessage("Equipiers invités avec succès."),r==null||r.sort((n,V)=>n.Equipier.Id-V.Equipier.Id),s.value=r||[])}const u=k(null);async function w(){if(u.value==null)return;const r=u.value.Equipier.Id;u.value=null,await m.EquipiersDelete({id:r})!==void 0&&(m.showMessage("Equipier supprimé avec succès."),s.value=s.value.filter(V=>V.Equipier.Id!=r))}return(r,n)=>{var V;return p(),P(x,null,[e(ne,{title:`${(V=C(m).camp)==null?void 0:V.Label} - Equipiers`},{default:t(()=>[e(S,{onClick:n[0]||(n[0]=v=>i.value=!0)},{prepend:t(()=>[e(Q,null,{default:t(()=>n[6]||(n[6]=[g("mdi-file")])),_:1})]),default:t(()=>[n[7]||(n[7]=g(" Documents "))]),_:1})]),_:1},8,["title"]),e(R,{class:"ma-2",title:"Liste des équipiers"},{append:t(()=>[e(S,{color:"green",onClick:n[1]||(n[1]=v=>a.value=!0)},{prepend:t(()=>[e(Q,null,{default:t(()=>n[8]||(n[8]=[g("mdi-plus")])),_:1})]),default:t(()=>[n[9]||(n[9]=g(" Ajouter un équipier"))]),_:1}),e(Z,null,{activator:t(({props:v})=>[e(S,W(v,{class:"ml-2",icon:"mdi-dots-vertical",size:"small"}),null,16)]),default:t(()=>[e(j,null,{default:t(()=>[e($,null,{default:t(()=>[e($,{title:"Inviter tous",subtitle:"Envoi un mail à tous les équipiers en attente","prepend-icon":"mdi-email",onClick:n[2]||(n[2]=v=>y())})]),_:1})]),_:1})]),_:1})]),default:t(()=>[e(A,null,{default:t(()=>[e(j,null,{default:t(()=>[(p(!0),P(x,null,F(s.value,v=>(p(),I($,{title:v.Personne,subtitle:f(v.Equipier.Roles)},{append:t(()=>[e(B,null,{default:t(()=>[e(q,{"align-self":"center"},{default:t(()=>[e(ee,{"prepend-icon":c(v.Equipier.FormStatus).icon,color:c(v.Equipier.FormStatus).color},{default:t(()=>[g(E(C(pt)[v.Equipier.FormStatus]),1)]),_:2},1032,["prepend-icon","color"])]),_:2},1024),v.Equipier.FormStatus==C(H).Answered&&!v.Equipier.AccepteCharte.Bool?(p(),I(q,{key:0,"align-self":"center"},{default:t(()=>[e(ee,{color:"warning"},{default:t(()=>n[10]||(n[10]=[g("Charte non acceptée")])),_:1})]),_:1})):M("",!0),e(q,{"align-self":"center"},{default:t(()=>[e(Z,null,{activator:t(({props:b})=>[e(S,W({ref_for:!0},b,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:t(()=>[e(j,null,{default:t(()=>[e($,{title:"Inviter",subtitle:"Envoi un mail avec le lien vers le formulaire","prepend-icon":"mdi-email",onClick:b=>o(v.Equipier.Id)},null,8,["onClick"]),e($,{title:"Aller au formulaire","prepend-icon":"mdi-open-in-new",href:v.FormURL,target:"_blank"},null,8,["href"]),e(G),e($,{title:"Supprimer","prepend-icon":"mdi-delete",onClick:b=>u.value=v},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1}),e(O,{modelValue:i.value,"onUpdate:modelValue":n[3]||(n[3]=v=>i.value=v)},{default:t(()=>[e(ht,{equipiers:s.value},null,8,["equipiers"])]),_:1},8,["modelValue"]),e(O,{modelValue:a.value,"onUpdate:modelValue":n[4]||(n[4]=v=>a.value=v),"max-width":"600px"},{default:t(()=>[e(Dt,{onCreate:_})]),_:1},8,["modelValue"]),e(O,{"model-value":u.value!=null,"onUpdate:modelValue":n[5]||(n[5]=v=>u.value=null),"max-width":"400px"},{default:t(()=>[u.value?(p(),I(R,{key:0,title:"Confirmation"},{default:t(()=>[e(A,null,{default:t(()=>[g(" Confirmez-vous la suppression de l'équipier "+E(u.value.Personne)+" ? ",1),n[11]||(n[11]=U("br",null,null,-1)),n[12]||(n[12]=U("br",null,null,-1)),n[13]||(n[13]=g(" Attention, cette opération est irréversible. "))]),_:1}),e(te,null,{default:t(()=>[e(ae),e(S,{color:"red",onClick:w},{default:t(()=>n[14]||(n[14]=[g(" Supprimer ")])),_:1})]),_:1})]),_:1})):M("",!0)]),_:1},8,["model-value"])],64)}}}),Mt=[{path:"/",component:Vt},{path:"/inscriptions",component:Pt},{path:"/equipiers",component:Ut}],Rt="/directeurs",le=ct({history:mt(Rt),routes:Mt});le.onError((d,s)=>{var l,i;(i=(l=d==null?void 0:d.message)==null?void 0:l.includes)!=null&&i.call(l,"Failed to fetch dynamically imported module")?localStorage.getItem("vuetify:dynamic-reload")?console.error("Dynamic import error, reloading page did not fix it",d):(console.log("Reloading page to fix dynamic import error"),localStorage.setItem("vuetify:dynamic-reload","true"),location.assign(s.fullPath)):console.error(d)});le.isReady().then(()=>{localStorage.removeItem("vuetify:dynamic-reload")});function At(d){return{tab:d.tab}}function Ft(d){d.use(_t).use(le)}const Lt=["innerHTML"],Bt=h({__name:"App",setup(d){const s=Ge({text:"",color:"secondary",action:void 0,timeout:4e3}),l=k(""),i=k("");return m.onError=(c,a)=>{l.value=c,i.value=a},m.showMessage=(c,a,_)=>{s.text=c,s.color=a||"success",s.action=_,s.timeout=1e4,s.timeout=4e3},J().beforeEach(async(c,a)=>{if(!m.hasToken()&&c.path!=="/")return{path:"/"}}),(c,a)=>{const _=Ke("router-view");return p(),I(Qe,null,{default:t(()=>[e(We,null,{default:t(()=>[e(_),e(ue,{style:{"z-index":"10000"},app:"","model-value":s.text!="","onUpdate:modelValue":a[1]||(a[1]=o=>s.text=""),timeout:s.timeout,color:s.color,location:"bottom left","close-on-content-click":""},{default:t(()=>[g(E(s.text)+" ",1),s.action?(p(),I(S,{key:0,onClick:a[0]||(a[0]=o=>s.action.action()),class:"ml-2"},{default:t(()=>[g(E(s.action.title),1)]),_:1})):M("",!0)]),_:1},8,["model-value","timeout","color"]),e(ue,{app:"","model-value":l.value!="","onUpdate:modelValue":a[2]||(a[2]=o=>l.value=""),timeout:4e3,color:"red"},{default:t(()=>[U("b",null,E(l.value),1),U("div",{innerHTML:i.value},null,8,Lt)]),_:1},8,["model-value"])]),_:1})]),_:1})}}}),ce=Je(Bt);Ft(ce);ce.mount("#app");
