import{d as fa,r as Yo,c as as,o as Lt,F as Ir,a as q,w as Q,b as $t,Y as bs,V as CG,e as Eo,f as ea,g as _G,h as wi,i as Mn,j as kG,t as Pa,k as SG,l as gn,Q as Gu,m as ln,n as EG,s as ta,at as AG,aw as f_,a2 as TG,ac as Eh,_ as xc,p as $z,q as E2,ae as DG,aY as OG,u as A2,v as ig,A as lg,aj as NG,ak as RG,ao as MG,ap as TE,x as u_,O as yd,aP as Uz,aZ as BG,a1 as Bs,$ as F7,aC as Zz,av as PG,aR as oL,W as jz,X as Wz,a3 as IG,aB as LG,aJ as az,J as _2,a_ as FG,R as z7,a$ as zG,b0 as HG,b1 as VG,b2 as iz,b3 as DE,G as WI,b4 as B7,ah as $G,b5 as UG,b6 as ZG,b7 as qz,b8 as jG,b9 as QI,ba as V7,bb as JI,bc as P7,bd as WG,be as qG,bf as GG,bg as lz,bh as Gz,bi as nL,bj as KG,bk as YG,bl as XG,C as H7,T as QG,bm as JG,ag as eK,bn as tK,bo as oK,H as cz,bp as nK,bq as sK,z as rK,br as aK,bs as iK,aQ as Kz,a6 as kE,aH as lK,aI as cK,bt as dK,bu as uK,a0 as qI,au as mK,bv as fK,as as pK,aS as gK,aT as hK,aU as dz,aV as bK,aW as xK,aX as vK}from"./VSnackbar-4WS0ckTD.js";import{V as yK,a as wK,u as OE,h as CK,k as _K,l as kK,_ as SK,j as EK,g as AK,e as TK,b as uz,m as DK,q as OK,r as NK}from"./InscriptionRow.vue_vue_type_script_setup_true_lang-C91j8FGf.js";import{e as ho,S as Yz,F as RK,f as I7,V as sg,g as NE,i as Xz,h as MK,M as BK,j as mz,k as PK,l as IK,b as Qz,c as SE,d as EE,a as Jz,D as Jb,m as GI,C as LK,R as eH,n as FK,o as L7,_ as tH}from"./VTabs-BL3VzwwU.js";import{V as Us,a as Uc,b as Tr,c as br,d as k2,e as rg,f as ag,i as el,k as ex,g as Sh,j as qu,m as zK,l as HK,u as VK,r as fz,s as pz,t as $K,v as UK,n as KI,h as ZK}from"./VTextarea-vvA5kftK.js";import{V as p_,_ as sL,a as oH}from"./FileCard.vue_vue_type_script_setup_true_lang-igzkYVuw.js";import{V as gz}from"./VSlider-C7SaLpAL.js";import"./VSheet-DqdHlFc4.js";import"./filter-CvjbZj6R.js";import"./VWindowItem-B61QShv2.js";const $7=fa({__name:"NavBar",props:{title:{},hideMenu:{type:Boolean}},setup(re){const ye=re,Fe="/static/repere/logo.png",Oe="v0.2.1",Xe=Yo(!1);return(Se,Ee)=>(Lt(),as(Ir,null,[q(yK,{app:"",modelValue:Xe.value,"onUpdate:modelValue":Ee[0]||(Ee[0]=He=>Xe.value=He),temporary:""},{default:Q(()=>[q(Us,{title:"Registro - Portail des directeurs",subtitle:Oe}),q(Uc),q(Us,{"prepend-icon":"mdi-calendar-multiple-check",link:"",to:{path:"/inscriptions"},color:"primary"},{default:Q(()=>Ee[2]||(Ee[2]=[$t(" Inscriptions ")])),_:1,__:[2]}),q(Us,{"prepend-icon":"mdi-mail",link:"",to:{path:"/documents"},color:"primary"},{default:Q(()=>Ee[3]||(Ee[3]=[$t(" Documents ")])),_:1,__:[3]}),q(Uc),q(Us,{"prepend-icon":"mdi-account",link:"",to:{path:"/equipiers"},color:"primary"},{default:Q(()=>Ee[4]||(Ee[4]=[$t(" Equipiers ")])),_:1,__:[4]}),q(Uc),q(Us,{"prepend-icon":"mdi-credit-card-outline","append-icon":"mdi-open-in-new",link:"",target:"_blank",href:bs(ho).comptaURL,color:"primary"},{default:Q(()=>Ee[5]||(Ee[5]=[$t(" Comptabilité ")])),_:1,__:[5]},8,["href"]),q(Uc),q(Us,{"prepend-icon":"mdi-logout",link:"",to:{path:"/"},color:"primary"},{default:Q(()=>Ee[6]||(Ee[6]=[$t(" Se déconnecter ")])),_:1,__:[6]})]),_:1},8,["modelValue"]),q(CG,{rounded:"",elevation:"4",color:"secondary"},{append:Q(()=>[SG(Se.$slots,"default"),Ee[7]||(Ee[7]=gn("div",{class:"mr-2"},null,-1))]),default:Q(()=>[ye.hideMenu?ea("",!0):(Lt(),Eo(wK,{key:0,onClick:Ee[1]||(Ee[1]=He=>Xe.value=!Xe.value)})),q(_G,null,{default:Q(()=>[q(wi,null,{default:Q(()=>[q(Mn,{"align-self":"center",cols:"auto"},{default:Q(()=>[q(kG,{width:"60",src:Fe})]),_:1}),q(Mn,{"align-self":"center"},{default:Q(()=>[$t(Pa(ye.title),1)]),_:1})]),_:1})]),_:1})]),_:3})],64))}}),jK=fa({__name:"index",setup(re){const ye=OE();Gu(Oe);const Fe=Yo([]);async function Oe(){const ut=await ho.GetCamps();ut!==void 0&&(Fe.value=ut||[])}const Xe=Yo(0),Se=Yo(!1),Ee=Yo(""),He=Yo([]);async function Ze(){const ut=Fe.value.find(Ht=>Ht.Id==Xe.value);if(!ut)return;const Ct=await ho.Loggin({password:Ee.value,idCamp:Xe.value});Ct!==void 0&&(Ct.IsValid?(ho.setCamp(ut,Ct.ComptaURL,Ct.Token),ho.showMessage("Bienvenue !"),ye.push({path:"/inscriptions"})):He.value=["Mot de passe incorrect."])}return(ut,Ct)=>{const Ht=CK;return Lt(),as(Ir,null,[q($7,{title:"Connection à la page Directeur","hide-menu":""}),q(EG,{class:"fill-height"},{default:Q(()=>[q(Tr,{title:"Connection",class:"mx-auto",width:"400px"},{default:Q(()=>[q(br,null,{default:Q(()=>[q(Ht,{label:"Camp",modelValue:Xe.value,"onUpdate:modelValue":Ct[0]||(Ct[0]=xt=>Xe.value=xt),camps:Fe.value,name:"user","default-style":""},null,8,["modelValue","camps"]),q(k2,{label:"Mot de passe",modelValue:Ee.value,"onUpdate:modelValue":[Ct[2]||(Ct[2]=xt=>Ee.value=xt),Ct[3]||(Ct[3]=xt=>He.value=[])],"error-messages":He.value,type:Se.value?void 0:"password",name:"password"},{"append-inner":Q(()=>[q(ln,{class:"ml-2",size:"small",icon:Se.value?"mdi-eye":"mdi-eye-off",flat:"",onClick:Ct[1]||(Ct[1]=xt=>Se.value=!Se.value)},null,8,["icon"])]),_:1},8,["modelValue","error-messages","type"])]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(ln,{disabled:!Xe.value||!Ee.value.length,onClick:Ze},{default:Q(()=>Ct[4]||(Ct[4]=[$t("Se connecter")])),_:1,__:[4]},8,["disabled"])]),_:1})]),_:1})]),_:1})],64)}}}),WK={key:1,class:"text-center font-italic"},qK={key:2},GK=fa({__name:"PannelInscriptions",emits:["goTo"],setup(re,{emit:ye}){const Fe=ye,Oe=Yo(!1);Gu(Se);const Xe=Yo([]);async function Se(){Oe.value=!0;const Ne=await ho.InscriptionsGet();Oe.value=!1,Ne!==void 0&&(Xe.value=Ne||[])}const Ee=Yo(""),He=ta(()=>{const Ne=AG(Ee.value);return Xe.value.filter(gt=>{var Tt;return f_.match(gt.Responsable,Ne)||((Tt=gt.Participants)==null?void 0:Tt.some(lt=>f_.match(lt.Personne,Ne)||TG.match(lt.Camp,Ne)))})});function Ze(Ne){const gt=ho.camp.Id;return(Ne.Participants||[]).filter(Tt=>Tt.Camp.Id==gt).every(Tt=>Tt.Participant.Statut!=Yz.AStatuer)}async function ut(Ne,gt){const Tt=await ho.InscriptionsIdentifiePersonne({IdDossier:Ne,Target:gt});if(Tt===void 0)return;ho.showMessage("Profil identifié avec succès.");const lt=Xe.value.findIndex(xe=>xe.Dossier.Id==Ne);Xe.value[lt]=Tt}const Ct=Yo(null);async function Ht(Ne){const gt=await ho.InscriptionsHintValide({idDossier:Ne.Dossier.Id});gt!==void 0&&(Ct.value={inscription:Ne,statuts:gt||{}})}async function xt(Ne){if(!Ct.value)return;const gt=Ct.value.inscription.Dossier.Id;Ct.value=null;const Tt=await ho.InscriptionsValide({IdDossier:gt,Statuts:Ne,SendMail:!0});if(Tt!==void 0)if(ho.showMessage("Inscription validée avec succès.","",{title:"Aller aux participants",action:()=>Fe("goTo")}),Tt.Dossier.IsValidated)Xe.value=Xe.value.filter(lt=>lt.Dossier.Id!=gt);else{const lt=Xe.value.findIndex(xe=>xe.Dossier.Id==gt);Xe.value[lt]=Tt}}return(Ne,gt)=>{const Tt=kK;return Lt(),Eo(Tr,{title:"Inscriptions",subtitle:"En attente de validation",class:"ma-2"},{append:Q(()=>[q(k2,{width:"300","append-inner-icon":"mdi-magnify",label:"Rechercher","hide-details":"",modelValue:Ee.value,"onUpdate:modelValue":gt[0]||(gt[0]=lt=>Ee.value=lt)},null,8,["modelValue"])]),default:Q(()=>[q(br,null,{default:Q(()=>[Oe.value?(Lt(),Eo(Eh,{key:0})):Xe.value.length?(Lt(),as("div",qK,[(Lt(!0),as(Ir,null,xc(He.value,(lt,xe)=>(Lt(),Eo(_K,{class:"my-1",key:xe,inscription:lt,"hide-delete":"","already-validated":Ze(lt),onIdentifie:Pe=>ut(lt.Dossier.Id,Pe),onValide:Pe=>Ht(lt),api:{SearchSimilaires:bs(ho).InscriptionsSearchSimilaires.bind(bs(ho)),SelectPersonne:bs(ho).SelectPersonne.bind(bs(ho))}},null,8,["inscription","already-validated","onIdentifie","onValide","api"]))),128))])):(Lt(),as("div",WK," Il n'y a aucune inscription à valider. "))]),_:1}),q(el,{"model-value":Ct.value!=null,"onUpdate:modelValue":gt[1]||(gt[1]=lt=>Ct.value=null),"max-width":"800px"},{default:Q(()=>[Ct.value?(Lt(),Eo(Tt,{key:0,inscription:Ct.value.inscription,statuts:Ct.value.statuts,rights:{AgeInvalide:!1,CampComplet:!0},"id-camp":bs(ho).camp.Id,onValide:xt},null,8,["inscription","statuts","id-camp"])):ea("",!0)]),_:1},8,["model-value"])]),_:1})}}}),KK=E2({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...TE(),...MG(),...RG(),...NG()},"VTable"),nH=$z()({name:"VTable",props:KK(),setup(re,ye){let{slots:Fe,emit:Oe}=ye;const{themeClasses:Xe}=DG(re),{densityClasses:Se}=OG(re);return A2(()=>q(re.tag,{class:lg(["v-table",{"v-table--fixed-height":!!re.height,"v-table--fixed-header":re.fixedHeader,"v-table--fixed-footer":re.fixedFooter,"v-table--has-top":!!Fe.top,"v-table--has-bottom":!!Fe.bottom,"v-table--hover":re.hover},Xe.value,Se.value,re.class]),style:ig(re.style)},{default:()=>{var Ee,He,Ze;return[(Ee=Fe.top)==null?void 0:Ee.call(Fe),Fe.default?gn("div",{class:"v-table__wrapper",style:ig({height:u_(re.height)})},[gn("table",null,[Fe.default()])]):(He=Fe.wrapper)==null?void 0:He.call(Fe),(Ze=Fe.bottom)==null?void 0:Ze.call(Fe)]}})),{}}}),YK=["title"],XK={class:"py-2"},QK={class:"px-2 text-center"},JK={class:"px-2"},eY={class:"px-2"},tY={key:0,class:"mb-2"},oY={class:"px-2"},nY=fa({__name:"FichesSanitairesPannel",setup(re){Gu(Fe);const ye=Yo(null);async function Fe(){const He=await ho.ParticipantsGetFichesSanitaires();He!==void 0&&(ye.value=He||[])}function Oe(He){var Ze;switch(He.State){case I7.NoFiche:return"red";case I7.Outdated:return"orange";case I7.UpToDate:return(Ze=He.Vaccins)!=null&&Ze.length?"green":"orange"}}function Xe(He){return He!=null&&He.length?He.length==1?"1 vaccin":`${He.length} vaccins`:"Pas de vaccins"}function Se(He){const Ze=[];return He.Allergies.Alimentaires&&Ze.push("alimentaires"),He.Allergies.Asthme&&Ze.push("asthme"),He.Allergies.Medicamenteuses&&Ze.push("médicamenteuses"),He.Allergies.Autres&&Ze.push("autres"),Ze.length?`Allergies : ${Ze.join(", ")}`:null}async function Ee(He){const Ze=await ho.ParticipantsDownloadFicheSanitaire({idParticipant:He});Ze!==void 0&&(ho.showMessage("Fiche sanitaire téléchargée avec succès."),BG(Ze.blob,Ze.filename))}return(He,Ze)=>ye.value!=null?(Lt(),Eo(Tr,{key:0,title:"Fiches sanitaires et vaccins","max-width":"1200px",class:"mx-auto"},{append:Q(()=>[q(Sh,null,{activator:Q(({props:ut})=>[q(ln,yd({icon:"mdi-download"},ut),null,16)]),default:Q(()=>[q(qu,null,{default:Q(()=>[q(Us,{title:"Fiches sanitaires",subtitle:"Document unique au format .pdf (sans les vaccins)"}),q(Us,{title:"Fiches et vaccins",subtitle:"Archive au format .zip",href:bs(NE).ParticipantsStreamFichesAndVaccins(bs(ho).authToken)},null,8,["href"])]),_:1})]),_:1})]),default:Q(()=>[q(br,null,{default:Q(()=>[q(nH,null,{default:Q(()=>[(Lt(!0),as(Ir,null,xc(ye.value,ut=>(Lt(),as("tr",{title:ut.Personne},[gn("td",XK,Pa(ut.Personne),1),gn("td",QK,[q(ex,{color:Oe(ut)},{default:Q(()=>[$t(Pa(bs(RK)[ut.State])+" - "+Pa(Xe(ut.Vaccins)),1)]),_:2},1032,["color"])]),gn("td",JK,[ut.Fiche.TraitementMedical?(Lt(),Eo(ex,{key:0,"prepend-icon":"mdi-alert"},{default:Q(()=>Ze[0]||(Ze[0]=[$t(" Traitement ")])),_:1,__:[0]})):ea("",!0)]),gn("td",eY,[Se(ut.Fiche)!=null?(Lt(),Eo(Sh,{key:0},{activator:Q(({props:Ct})=>[q(ex,yd({ref_for:!0},Ct,{"prepend-icon":"mdi-alert"}),{default:Q(()=>[$t(Pa(Se(ut.Fiche)),1)]),_:2},1040)]),default:Q(()=>[q(Tr,{subtitle:"Allergies et conduite à tenir"},{default:Q(()=>[q(br,null,{default:Q(()=>[ut.Fiche.Allergies.Autres?(Lt(),as("div",tY,Pa(ut.Fiche.Allergies.Autres),1)):ea("",!0),gn("div",null,Pa(ut.Fiche.Allergies.ConduiteATenir),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):ea("",!0)]),gn("td",oY,[q(Sh,null,{activator:Q(({props:Ct})=>[q(ln,yd({ref_for:!0},Ct,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:Q(()=>[q(qu,null,{default:Q(()=>{var Ct,Ht;return[q(Us,{title:"Fiche sanitaire",subtitle:"Télécharger au format .pdf","prepend-icon":"mdi-download",onClick:xt=>Ee(ut.IdParticipant),disabled:ut.State==bs(I7).NoFiche},null,8,["onClick","disabled"]),q(Us,{title:"Vaccins",subtitle:"Télécharger au format .zip","prepend-icon":"mdi-download",disabled:!((Ct=ut.Vaccins)!=null&&Ct.length)},Uz({_:2},[(Ht=ut.Vaccins)!=null&&Ht.length?{name:"append",fn:Q(()=>{var xt;return[q(sg,{inline:"",content:(xt=ut.Vaccins)==null?void 0:xt.length},null,8,["content"])]}),key:"0"}:void 0]),1032,["disabled"]),q(Uc,{thickness:"1"}),q(Us,{title:"Relancer par mail","prepend-icon":"mdi-email"})]}),_:2},1024)]),_:2},1024)])],8,YK))),256))]),_:1})]),_:1})]),_:1})):(Lt(),Eo(Eh,{key:1,type:"card"}))}}),sY=fa({__name:"DocumentsUploadedBy",props:{personnes:{},uploadedBy:{}},setup(re){const ye=re,Fe=ta(()=>new Set(ye.uploadedBy)),Oe=ta(()=>Object.values(ye.personnes||{}).sort((Xe,Se)=>f_.label(Xe).localeCompare(f_.label(Se))));return(Xe,Se)=>(Lt(),Eo(Tr,{subtitle:"Document fourni par"},{default:Q(()=>[q(br,null,{default:Q(()=>[q(qu,null,{default:Q(()=>[(Lt(!0),as(Ir,null,xc(Oe.value,Ee=>(Lt(),Eo(Us,{title:bs(f_).label(Ee)},{append:Q(()=>[q(Bs,{icon:Fe.value.has(Ee.Id)?"mdi-check":"mdi-close",color:Fe.value.has(Ee.Id)?"green":"red"},null,8,["icon","color"])]),_:2},1032,["title"]))),256))]),_:1})]),_:1})]),_:1}))}}),rY=fa({__name:"DocumentsPannel",setup(re){Gu(Fe);const ye=Yo(null);async function Fe(){const Xe=await ho.DocumentsGetUploaded();Xe!==void 0&&(ye.value=Xe||[])}function Oe(Xe){var He;const Se=(Xe==null?void 0:Xe.length)||0,Ee=Object.values(((He=ye.value)==null?void 0:He.Personnes)||{}).length;return Se==Ee?"green":Se==0?"red":"orange"}return(Xe,Se)=>ye.value!=null?(Lt(),Eo(Tr,{key:0,title:"Documents à récupérer",subtitle:"Documents déposés  sur les espaces de suivi"},{default:Q(()=>[q(br,null,{default:Q(()=>[q(qu,null,{default:Q(()=>[(Lt(!0),as(Ir,null,xc(ye.value.DemandesDocuments,Ee=>(Lt(),Eo(Us,{title:Ee.Demande.Description},{prepend:Q(()=>[q(Sh,null,{activator:Q(({props:He})=>[q(ex,yd({elevation:"1"},{ref_for:!0},He,{color:Oe(Ee.UploadedBy),class:"mr-4"}),{default:Q(()=>{var Ze;return[$t(Pa(((Ze=Ee.UploadedBy)==null?void 0:Ze.length)||0)+" / "+Pa(Object.values(ye.value.Personnes||{}).length),1)]}),_:2},1040,["color"])]),default:Q(()=>[q(sY,{personnes:ye.value.Personnes,"uploaded-by":Ee.UploadedBy||[]},null,8,["personnes","uploaded-by"])]),_:2},1024)]),append:Q(()=>[q(ln,{icon:"mdi-download",size:"small",href:bs(NE).DocumentsStreamUploaded(Ee.Demande.Id,bs(ho).authToken)},null,8,["href"])]),_:2},1032,["title"]))),256))]),_:1})]),_:1})]),_:1})):(Lt(),Eo(Eh,{key:1,type:"card"}))}}),hz=fa({__name:"MessageRow",props:{message:{},showReply:{type:Boolean}},emits:["setSeen","startReply"],setup(re,{emit:ye}){const Fe=re,Oe=ye,Xe=ta(()=>Xz(Fe.message)),Se=ta(()=>MK(Fe.message)),Ee=ta(()=>Fe.message.Content.Message.Origine==BK.FromBackoffice);return(He,Ze)=>(Lt(),Eo(wi,{class:"my-1"},{default:Q(()=>[q(Mn,{"align-self":"center",cols:"1",class:"text-center"},{default:Q(()=>[Se.value?ea("",!0):(Lt(),Eo(p_,{key:0,text:Xe.value?"Marquer comme lu":"Marquer comme non lu",location:"left"},{activator:Q(({props:ut})=>[q(ln,yd(ut,{size:"small",icon:"",flat:"",onClick:Ze[0]||(Ze[0]=Ct=>Oe("setSeen",Xe.value))}),{default:Q(()=>[q(Bs,{color:Xe.value?"pink":"",icon:Xe.value?"mdi-message-badge":"mdi-message-check"},null,8,["color","icon"])]),_:2},1040)]),_:1},8,["text"]))]),_:1}),q(Mn,{"align-self":"center",class:lg({"rounded-lg":!0,"font-weight-bold":Xe.value,"bg-purple-lighten-4":Se.value,"bg-green-lighten-4":Ee.value,"bg-blue-lighten-4":!(Se.value||Ee.value)})},{default:Q(()=>[gn("pre",null,Pa(Fe.message.Content.Message.Contenu),1)]),_:1},8,["class"]),Fe.showReply?(Lt(),Eo(Mn,{key:0,"align-self":"center",cols:"auto"},{default:Q(()=>[q(ln,{icon:"",size:"small",onClick:Ze[1]||(Ze[1]=ut=>Oe("startReply"))},{default:Q(()=>[q(Bs,null,{default:Q(()=>Ze[2]||(Ze[2]=[$t("mdi-reply")])),_:1,__:[2]})]),_:1})]),_:1})):ea("",!0),q(Mn,{"align-self":"center",cols:"2",class:"text-grey"},{default:Q(()=>[$t(Pa(bs(F7).time(Fe.message.Event.Created)),1)]),_:1})]),_:1}))}}),aY=fa({__name:"MessagesPannel",setup(re){Gu(Ee);const ye=Yo(0),Fe=Yo(!1),Oe=ta(()=>{var Ht;return(((Ht=Se.value)==null?void 0:Ht.Messages)||[]).filter(xt=>!Fe.value||Xz(xt))}),Xe=ta(()=>{const Ht=new Map;for(const xt of Oe.value)Ht.set(xt.Event.IdDossier,(Ht.get(xt.Event.IdDossier)||[]).concat(xt));return Array.from(Ht.entries()).map(xt=>{var Ne;return{IdDossier:xt[0],Dossier:(((Ne=Se.value)==null?void 0:Ne.Dossiers)||{})[xt[0]],Messages:xt[1].reverse()}}).sort((xt,Ne)=>xt.Dossier.Responsable.localeCompare(Ne.Dossier.Responsable))}),Se=Yo(null);async function Ee(){const Ht=await ho.ParticipantsMessagesLoad();Ht!==void 0&&(Se.value=Ht||[])}async function He(Ht,xt){var Tt;if(!Se.value)return;const Ne=await ho.ParticipantsMessageSetSeen({idEvent:Ht,seen:xt});if(Ne===void 0)return;const gt=(Tt=Se.value.Messages)==null?void 0:Tt.findIndex(lt=>lt.Event.Id==Ht);Se.value.Messages[gt]=Ne,ho.showMessage(xt?"Message marqué comme lu.":"Message marqué comme non lu.")}const Ze=Yo(null),ut=Yo("");async function Ct(){const Ht=Ze.value;if(!Se.value||!Ht)return;Ze.value=null;const xt=await ho.ParticipantsMessagesCreate({Contenu:ut.value,IdDossier:Ht});xt!==void 0&&(ho.showMessage("Message envoyé avec succès."),Se.value.Messages=[xt].concat(Se.value.Messages||[]))}return(Ht,xt)=>Se.value!=null?(Lt(),Eo(Tr,{key:0,title:"Messages des familles"},{append:Q(()=>[q(Zz,{color:"secondary",class:"mx-1",modelValue:ye.value,"onUpdate:modelValue":xt[0]||(xt[0]=Ne=>ye.value=Ne),rounded:""},{default:Q(()=>[q(ln,{size:"small"},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>xt[4]||(xt[4]=[$t("mdi-clock")])),_:1,__:[4]})]),default:Q(()=>[xt[5]||(xt[5]=$t(" Trier par date"))]),_:1,__:[5]}),q(ln,{size:"small"},{append:Q(()=>[q(Bs,null,{default:Q(()=>xt[6]||(xt[6]=[$t("mdi-account")])),_:1,__:[6]})]),default:Q(()=>[xt[7]||(xt[7]=$t(" Trier par inscrit"))]),_:1,__:[7]})]),_:1},8,["modelValue"]),q(Uc,{vertical:"",thickness:"1",class:"mx-1"}),q(ln,{icon:"",size:"small",class:"mx-1",variant:Fe.value?"tonal":"elevated",onClick:xt[1]||(xt[1]=Ne=>Fe.value=!Fe.value)},{default:Q(()=>[q(Bs,{color:"pink"},{default:Q(()=>xt[8]||(xt[8]=[$t("mdi-message-badge")])),_:1,__:[8]}),q(p_,{activator:"parent"},{default:Q(()=>xt[9]||(xt[9]=[$t(" Filtrer les messages non lu ")])),_:1,__:[9]})]),_:1},8,["variant"])]),default:Q(()=>[ye.value==0?(Lt(),Eo(br,{key:0},{default:Q(()=>[(Lt(!0),as(Ir,null,xc(Oe.value,Ne=>(Lt(),Eo(hz,{message:Ne,onSetSeen:gt=>He(Ne.Event.Id,gt),onStartReply:gt=>Ze.value=Ne.Event.IdDossier,"show-reply":!0},null,8,["message","onSetSeen","onStartReply"]))),256))]),_:1})):(Lt(),Eo(br,{key:1},{default:Q(()=>[(Lt(!0),as(Ir,null,xc(Xe.value,Ne=>(Lt(),Eo(Tr,{title:Ne.Dossier.Responsable,subtitle:(Ne.Dossier.Participants||[]).join(", "),class:"my-2"},{append:Q(()=>[q(ln,{size:"small",onClick:gt=>Ze.value=Ne.IdDossier},{prepend:Q(()=>[q(Bs,{icon:"mdi-reply"})]),default:Q(()=>[xt[10]||(xt[10]=$t(" Répondre"))]),_:2,__:[10]},1032,["onClick"])]),default:Q(()=>[q(br,null,{default:Q(()=>[(Lt(!0),as(Ir,null,xc(Ne.Messages,gt=>(Lt(),Eo(hz,{message:gt,onSetSeen:Tt=>He(gt.Event.Id,Tt),onStartReply:Tt=>Ze.value=gt.Event.IdDossier,"show-reply":!1},null,8,["message","onSetSeen","onStartReply"]))),256))]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})),q(el,{"model-value":Ze.value!==null,"onUpdate:modelValue":xt[3]||(xt[3]=Ne=>Ze.value=null),"max-width":"600px"},{default:Q(()=>[Ze.value?(Lt(),Eo(Tr,{key:0,title:"Nouveau message",subtitle:(Se.value.Dossiers||{})[Ze.value].Responsable},{default:Q(()=>[q(br,null,{default:Q(()=>[q(zK,{autofocus:"",placeholder:"Rédigez votre message...",modelValue:ut.value,"onUpdate:modelValue":xt[2]||(xt[2]=Ne=>ut.value=Ne),rows:"10"},null,8,["modelValue"])]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(ln,{disabled:!ut.value.length,onClick:Ct},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>xt[11]||(xt[11]=[$t("mdi-send")])),_:1,__:[11]})]),default:Q(()=>[xt[12]||(xt[12]=$t(" Envoyer"))]),_:1,__:[12]},8,["disabled"])]),_:1})]),_:1},8,["subtitle"])):ea("",!0)]),_:1},8,["model-value"])]),_:1})):(Lt(),Eo(Eh,{key:1,type:"card"}))}}),iY=fa({__name:"StatistiquesCard",props:{participants:{}},setup(re){const ye=re,Fe=ta(()=>ye.participants.filter(Oe=>Oe.Participant.Statut==Yz.Inscrit));return(Oe,Xe)=>(Lt(),Eo(Tr,{subtitle:"Statistiques",width:"300px"},{default:Q(()=>[q(br,null,{default:Q(()=>[q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(Mn,null,{default:Q(()=>Xe[0]||(Xe[0]=[$t(" Inscrits ")])),_:1,__:[0]}),q(Mn,{cols:"auto"},{default:Q(()=>[q(sg,{color:"secondary",inline:"",content:Fe.value.length},null,8,["content"])]),_:1})]),_:1}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(Mn,null,{default:Q(()=>Xe[1]||(Xe[1]=[$t(" Garçons/Filles ")])),_:1,__:[1]}),q(Mn,{cols:"auto"},{default:Q(()=>[q(sg,{color:"secondary",inline:"",content:`${Fe.value.filter(Se=>Se.Personne.Sexe==bs(mz).Man).length} /  ${Fe.value.filter(Se=>Se.Personne.Sexe==bs(mz).Woman).length}`},null,8,["content"])]),_:1})]),_:1}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(Mn,null,{default:Q(()=>Xe[2]||(Xe[2]=[$t(" Anniversaires ")])),_:1,__:[2]}),q(Mn,{cols:"auto"},{default:Q(()=>[q(sg,{color:"amber-lighten-1",inline:"",content:Fe.value.filter(Se=>Se.HasBirthday).length},null,8,["content"])]),_:1})]),_:1}),q(Uc,{thickness:"1"}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(Mn,null,{default:Q(()=>Xe[3]||(Xe[3]=[$t(" Liste d'attente ")])),_:1,__:[3]}),q(Mn,{cols:"auto"},{default:Q(()=>[q(sg,{color:"orange",inline:"",content:ye.participants.length-Fe.value.length},null,8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),lY=fa({__name:"ReglementCard",props:{data:{}},setup(re){const ye=re;function Fe(Xe){return(ye.data.Dossiers||{})[Xe.Participant.IdDossier]}const Oe=ta(()=>(ye.data.Participants||[]).filter(Xe=>Fe(Xe).Reglement==PK.Complet).length);return(Xe,Se)=>{var Ee;return Lt(),Eo(Tr,{title:"Suivi du règlement",subtitle:`${Oe.value} / ${((Ee=ye.data.Participants)==null?void 0:Ee.length)||0} complet`},{default:Q(()=>[q(br,null,{default:Q(()=>[q(qu,null,{default:Q(()=>[(Lt(!0),as(Ir,null,xc(Xe.data.Participants,He=>(Lt(),Eo(Us,{title:bs(f_).NOMPrenom(He.Personne),subtitle:Fe(He).Responsable},{append:Q(()=>[q(ex,{"prepend-icon":"mdi-currency-eur",color:bs(F7).colorStatutPaiement(Fe(He).Reglement)},{default:Q(()=>[$t(Pa(bs(IK)[Fe(He).Reglement]),1)]),_:2},1032,["color"])]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1},8,["subtitle"])}}}),cY={key:1},dY={key:0,class:"text-center font-italic mt-4"},uY=fa({__name:"PannelParticipants",setup(re,{expose:ye}){Gu(()=>{Ze(),Xe()}),ye({loadParticipants:Ze});const Fe=Yo(!1),Oe=Yo([]);async function Xe(){const Tt=await ho.GetCamps();Tt!==void 0&&(Oe.value=Tt||[])}const Se=Yo(!1),Ee=ta(()=>{var lt;const Tt=(((lt=He.value)==null?void 0:lt.Participants)||[]).map(xe=>xe);return Tt.sort((xe,Pe)=>PG.cmp(xe,Pe,Se.value)),Tt}),He=Yo(null);async function Ze(){Fe.value=!0;const Tt=await ho.ParticipantsGet();Fe.value=!1,Tt!==void 0&&(He.value=Tt)}const ut=Yo(null);async function Ct(Tt){if(ut.value==null||He.value==null)return;const lt=await ho.ParticipantsUpdate(Tt);ut.value=null,lt!==void 0&&(ho.showMessage("Participant modifié avec succès."),Ze())}const Ht=Yo(!1),xt=Yo(!1),Ne=Yo(!1),gt=Yo(!1);return(Tt,lt)=>{const xe=SK,Pe=EK,Ue=AK;return He.value!=null?(Lt(),Eo(Tr,{key:0},{title:Q(()=>[q(ln,{flat:"",icon:""},{default:Q(()=>[q(Bs,null,{default:Q(()=>lt[10]||(lt[10]=[$t("mdi-information")])),_:1,__:[10]}),q(p_,{activator:"parent","content-class":"ma-0 pa-0"},{default:Q(()=>[q(iY,{participants:He.value.Participants||[]},null,8,["participants"])]),_:1})]),_:1}),lt[11]||(lt[11]=$t(" Participants "))]),append:Q(()=>[q(ln,{onClick:lt[0]||(lt[0]=ne=>Ne.value=!0),class:"mx-1"},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>lt[12]||(lt[12]=[$t("mdi-email")])),_:1,__:[12]})]),default:Q(()=>[lt[13]||(lt[13]=$t(" Messages"))]),_:1,__:[13]}),q(Uc,{thickness:"1",vertical:"",class:"mx-1"}),q(ln,{onClick:lt[1]||(lt[1]=ne=>xt.value=!0),class:"mx-1"},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>lt[14]||(lt[14]=[$t("mdi-folder")])),_:1,__:[14]})]),default:Q(()=>[lt[15]||(lt[15]=$t(" Documents"))]),_:1,__:[15]}),q(ln,{onClick:lt[2]||(lt[2]=ne=>Ht.value=!0),class:"mx-1"},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>lt[16]||(lt[16]=[$t("mdi-pill")])),_:1,__:[16]})]),default:Q(()=>[lt[17]||(lt[17]=$t(" Fiches sanitaires"))]),_:1,__:[17]}),q(Uc,{thickness:"1",vertical:"",class:"mx-1"}),q(ln,{icon:"",flat:""},{default:Q(()=>[q(Bs,null,{default:Q(()=>lt[18]||(lt[18]=[$t("mdi-dots-vertical")])),_:1,__:[18]}),q(Sh,{activator:"parent"},{default:Q(()=>[q(qu,{density:"compact"},{default:Q(()=>[q(Us,{title:"Trier par moment d'inscription",onClick:lt[3]||(lt[3]=ne=>Se.value=!Se.value),"prepend-icon":"mdi-sort-calendar-ascending","append-icon":Se.value?"mdi-check":""},null,8,["append-icon"]),q(Uc,{thickness:"1"}),q(Us,{"prepend-icon":"mdi-currency-eur",title:"Suivi du règlement",onClick:lt[4]||(lt[4]=ne=>gt.value=!0)})]),_:1})]),_:1})]),_:1})]),default:Q(()=>[q(br,{class:"mt-4"},{default:Q(()=>[Fe.value?(Lt(),Eo(Eh,{key:0,type:"table"})):(Lt(),as("div",cY,[q(xe),Ee.value.length?ea("",!0):(Lt(),as("div",dY," Aucun participant n'est encore inscrit sur ce séjour. ")),(Lt(!0),as(Ir,null,xc(Ee.value,(ne,kt)=>(Lt(),Eo(Pe,{participant:ne,index:kt},{actions:Q(()=>[q(qu,{density:"comfortable"},{default:Q(()=>[q(Us,{title:"Modifier","prepend-icon":"mdi-pencil",onClick:pe=>ut.value=ne},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["participant","index"]))),256))]))]),_:1}),ut.value!=null?(Lt(),Eo(el,{key:0,"model-value":ut.value!=null,"onUpdate:modelValue":lt[5]||(lt[5]=ne=>ut.value=null),"max-width":"800px"},{default:Q(()=>[q(Ue,{participant:ut.value.Participant,personne:ut.value.Personne,api:{SelectPersonne:bs(ho).SelectPersonne.bind(bs(ho))},"hide-personne-dossier":"","readonly-statut":"",onSave:Ct},null,8,["participant","personne","api"])]),_:1},8,["model-value"])):ea("",!0),q(el,{modelValue:Ht.value,"onUpdate:modelValue":lt[6]||(lt[6]=ne=>Ht.value=ne)},{default:Q(()=>[q(nY)]),_:1},8,["modelValue"]),q(el,{modelValue:xt.value,"onUpdate:modelValue":lt[7]||(lt[7]=ne=>xt.value=ne),"max-width":"800px"},{default:Q(()=>[q(rY)]),_:1},8,["modelValue"]),q(el,{modelValue:Ne.value,"onUpdate:modelValue":lt[8]||(lt[8]=ne=>Ne.value=ne),"max-width":"1200px"},{default:Q(()=>[q(aY)]),_:1},8,["modelValue"]),q(el,{modelValue:gt.value,"onUpdate:modelValue":lt[9]||(lt[9]=ne=>gt.value=ne),"max-width":"700px"},{default:Q(()=>[q(lY,{data:He.value},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})):(Lt(),Eo(Eh,{key:1,type:"card"}))}}}),mY=fa({__name:"inscriptions",setup(re){const ye=OE(),Fe=ta(()=>GX(ye.currentRoute.value.query));Gu(async()=>{const Ee=await ho.InscriptionsGet();Ee!==void 0&&(Ee!=null&&Ee.length||Se("participants"))});const Oe=ta(()=>Fe.value.tab||"insc"),Xe=oL("participants");function Se(Ee){var Ze;const He=ye.currentRoute.value;ye.push({path:He.path,query:{tab:Ee}}),Ee=="participants"&&((Ze=Xe.value)==null||Ze.loadParticipants())}return(Ee,He)=>{var Ze;return Lt(),as(Ir,null,[q($7,{title:`${(Ze=bs(ho).camp)==null?void 0:Ze.Label} - Suivi des inscriptions`},{default:Q(()=>[q(Qz,{"model-value":Oe.value,"onUpdate:modelValue":He[0]||(He[0]=ut=>Se(ut))},{default:Q(()=>[q(SE,{value:"insc"},{default:Q(()=>He[2]||(He[2]=[$t("Nouvelles inscriptions")])),_:1,__:[2]}),q(SE,{value:"participants"},{default:Q(()=>He[3]||(He[3]=[$t("Liste des participants")])),_:1,__:[3]})]),_:1},8,["model-value"])]),_:1},8,["title"]),q(Jz,{"model-value":Oe.value},{default:Q(()=>[q(EE,{value:"insc"},{default:Q(()=>[q(GK,{onGoTo:He[1]||(He[1]=()=>Se("participants"))})]),_:1}),q(EE,{value:"participants"},{default:Q(()=>[q(uY,{ref_key:"participants",ref:Xe},null,512)]),_:1})]),_:1},8,["model-value"])],64)}}}),fY=fa({__name:"DemandeChip",props:{demande:{}},emits:["updateState"],setup(re,{emit:ye}){const Fe=re,Oe=ye,Xe=ta(()=>{var Ee;const Se=!!((Ee=Fe.demande.Files)!=null&&Ee.length);switch(Fe.demande.State){case Jb.NonDemande:return;case Jb.Optionnelle:return Se?"green":"yellow-darken-2";case Jb.Obligatoire:return Se?"green":"red"}});return(Se,Ee)=>{const He=sL;return Lt(),Eo(Sh,null,{activator:Q(({props:Ze})=>[q(ex,yd(Ze,{color:Xe.value,class:"my-1",size:"small"}),{default:Q(()=>[$t(Pa(bs(GI)[Fe.demande.State]),1)]),_:2},1040,["color"])]),default:Q(()=>[q(Tr,{title:"Documents"},{default:Q(()=>[q(br,null,{default:Q(()=>{var Ze;return[q(Zz,{mandatory:"","model-value":Fe.demande.State,"onUpdate:modelValue":Ee[0]||(Ee[0]=ut=>Oe("updateState",ut))},{default:Q(()=>[q(ln,{value:bs(Jb).NonDemande},{default:Q(()=>Ee[1]||(Ee[1]=[$t("Non requis")])),_:1,__:[1]},8,["value"]),q(ln,{value:bs(Jb).Optionnelle},{default:Q(()=>[$t(Pa(bs(GI)[bs(Jb).Optionnelle]),1)]),_:1},8,["value"]),q(ln,{value:bs(Jb).Obligatoire},{default:Q(()=>[$t(Pa(bs(GI)[bs(Jb).Obligatoire]),1)]),_:1},8,["value"])]),_:1},8,["model-value"]),(Ze=Fe.demande.Files)!=null&&Ze.length?(Lt(),as(Ir,{key:0},[q(Uc,{thickness:"2",class:"mt-2"}),q(wi,null,{default:Q(()=>[(Lt(!0),as(Ir,null,xc(Fe.demande.Files,ut=>(Lt(),Eo(Mn,{cols:"4"},{default:Q(()=>[q(He,{file:ut},null,8,["file"])]),_:2},1024))),256))]),_:1})],64)):ea("",!0)]}),_:1})]),_:1})]),_:1})}}}),pY={key:1},gY={class:"text-left"},hY=fa({__name:"DocumentsTable",props:{equipiers:{}},setup(re){const ye=re;Gu(Xe);const Fe=Yo([]),Oe=Yo([]);async function Xe(){const Ze=await ho.EquipiersDemandesGet();Ze!==void 0&&(Fe.value=Ze.Demandes||[],Oe.value=Ze.Equipiers||[])}function Se(Ze,ut){return Oe.value.find(Ct=>Ct.Key.IdDemande==ut&&Ct.Key.IdEquipier==Ze)}async function Ee(Ze,ut,Ct){await ho.EquipiersDemandeSet({IdEquipier:Ze,IdDemande:ut,State:Ct})!==void 0&&(ho.showMessage("Demande modifiée avec succès."),Se(Ze,ut).State=Ct)}const He=ta(()=>NE.EquipiersDownloadFiles(ho.authToken));return(Ze,ut)=>(Lt(),Eo(Tr,{title:"Documents de l'équipe",subtitle:"Demandes et fichiers déposés par l'équipe"},{append:Q(()=>[q(ln,{href:He.value},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>ut[0]||(ut[0]=[$t("mdi-download")])),_:1,__:[0]})]),default:Q(()=>[ut[1]||(ut[1]=$t(" Télécharger"))]),_:1,__:[1]},8,["href"])]),default:Q(()=>[q(br,{class:"mt-4"},{default:Q(()=>[Fe.value?(Lt(),as("div",pY,[q(nH,{class:"text-center"},{default:Q(()=>[gn("tr",null,[ut[2]||(ut[2]=gn("td",null,null,-1)),(Lt(!0),as(Ir,null,xc(Fe.value,Ct=>(Lt(),as("td",null,Pa(bs(LK)[Ct.Categorie]),1))),256))]),(Lt(!0),as(Ir,null,xc(ye.equipiers,(Ct,Ht)=>(Lt(),as("tr",{class:lg(Ht%2==0?"bg-grey-lighten-4 rounded":"")},[gn("td",gY,Pa(Ct.Personne),1),(Lt(!0),as(Ir,null,xc(Fe.value,xt=>(Lt(),as("td",null,[q(fY,{demande:Se(Ct.Equipier.Id,xt.Id),onUpdateState:Ne=>Ee(Ct.Equipier.Id,xt.Id,Ne)},null,8,["demande","onUpdateState"])]))),256))],2))),256))]),_:1})])):(Lt(),Eo(Eh,{key:0,type:"table"}))]),_:1})]),_:1}))}}),bY=fa({__name:"RolesField",props:jz({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(re){const ye=re,Fe=Wz(re,"modelValue"),Oe=IG(eH);return(Xe,Se)=>(Lt(),Eo(HK,{chips:"","closable-chips":"",label:"Rôles",variant:"outlined",density:"compact","hide-details":"",items:bs(Oe),readonly:ye.readonly,multiple:"",modelValue:Fe.value,"onUpdate:modelValue":Se[0]||(Se[0]=Ee=>Fe.value=Ee)},null,8,["items","readonly","modelValue"]))}}),xY=fa({__name:"AddEquipierCard",emits:["create"],setup(re,{emit:ye}){const Fe=ye,Oe=Yo({CreatePersonne:!1,IdPersonne:0,Nom:"",Prenom:"",Mail:"",Roles:[]}),Xe=ta(()=>{var Se;return!!((Oe.value.CreatePersonne?Oe.value.Nom&&Oe.value.Prenom&&Oe.value.Mail:Oe.value.IdPersonne)&&((Se=Oe.value.Roles)!=null&&Se.length))});return(Se,Ee)=>{const He=TK;return Lt(),Eo(Tr,{title:"Ajouter un équipier",subtitle:"Sélectionner un profil existant ou créer un nouveau."},{default:Q(()=>[q(br,{class:"mt-4"},{default:Q(()=>[q(wi,null,{default:Q(()=>[q(Mn,null,{default:Q(()=>[Oe.value.CreatePersonne?(Lt(),Eo(wi,{key:1},{default:Q(()=>[q(Mn,null,{default:Q(()=>[q(k2,{autofocus:"","hide-details":"",label:"Nom",density:"compact",variant:"outlined",modelValue:Oe.value.Nom,"onUpdate:modelValue":Ee[1]||(Ee[1]=Ze=>Oe.value.Nom=Ze)},null,8,["modelValue"])]),_:1}),q(Mn,null,{default:Q(()=>[q(k2,{"hide-details":"",label:"Prénom",density:"compact",variant:"outlined",modelValue:Oe.value.Prenom,"onUpdate:modelValue":Ee[2]||(Ee[2]=Ze=>Oe.value.Prenom=Ze)},null,8,["modelValue"])]),_:1}),q(Mn,{cols:"12"},{default:Q(()=>[q(k2,{variant:"outlined",density:"compact",modelValue:Oe.value.Mail,"onUpdate:modelValue":Ee[3]||(Ee[3]=Ze=>Oe.value.Mail=Ze),label:"Adresse mail",type:"email",rules:[bs(LG).required("Une adresse mail est nécessaire pour inviter l'équipier.")]},null,8,["modelValue","rules"])]),_:1})]),_:1})):(Lt(),Eo(He,{key:0,label:"Personne",modelValue:Oe.value.IdPersonne,"onUpdate:modelValue":Ee[0]||(Ee[0]=Ze=>Oe.value.IdPersonne=Ze),"initial-personne":"",api:{SelectPersonne:bs(ho).SelectPersonne.bind(bs(ho))}},null,8,["modelValue","api"]))]),_:1}),q(Mn,{cols:"auto","align-self":"center"},{default:Q(()=>[q(ln,{onClick:Ee[4]||(Ee[4]=Ze=>Oe.value.CreatePersonne=!Oe.value.CreatePersonne)},{default:Q(()=>[$t(Pa(Oe.value.CreatePersonne?"Sélectionner":"Créer"),1)]),_:1})]),_:1})]),_:1}),q(wi,null,{default:Q(()=>[q(Mn,null,{default:Q(()=>[q(bY,{modelValue:Oe.value.Roles,"onUpdate:modelValue":Ee[5]||(Ee[5]=Ze=>Oe.value.Roles=Ze)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(ln,{disabled:!Xe.value,onClick:Ee[6]||(Ee[6]=Ze=>Fe("create",Oe.value))},{default:Q(()=>Ee[7]||(Ee[7]=[$t("Ajouter")])),_:1,__:[7]},8,["disabled"])]),_:1})]),_:1})}}}),vY=fa({__name:"StatistiquesCard",props:{equipiers:{}},setup(re){const ye=re;return(Fe,Oe)=>(Lt(),Eo(Tr,{subtitle:"Statistiques",width:"300px"},{default:Q(()=>[q(br,null,{default:Q(()=>[q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(Mn,null,{default:Q(()=>Oe[0]||(Oe[0]=[$t(" Equipiers ")])),_:1,__:[0]}),q(Mn,{cols:"auto"},{default:Q(()=>[q(sg,{color:"secondary",inline:"",content:ye.equipiers.length},null,8,["content"])]),_:1})]),_:1}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(Mn,null,{default:Q(()=>Oe[1]||(Oe[1]=[$t(" Animateurs ")])),_:1,__:[1]}),q(Mn,{cols:"auto"},{default:Q(()=>[q(sg,{color:"secondary",inline:"",content:ye.equipiers.filter(Xe=>Xe.IsAnimateur).length},null,8,["content"])]),_:1})]),_:1}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(Mn,null,{default:Q(()=>Oe[2]||(Oe[2]=[$t(" Au pair ")])),_:1,__:[2]}),q(Mn,{cols:"auto"},{default:Q(()=>[q(sg,{color:"secondary",inline:"",content:ye.equipiers.filter(Xe=>Xe.IsAuPair).length},null,8,["content"])]),_:1})]),_:1}),q(wi,{class:"my-1","no-gutters":"",justify:"space-between"},{default:Q(()=>[q(Mn,null,{default:Q(()=>Oe[3]||(Oe[3]=[$t(" Anniversaires ")])),_:1,__:[3]}),q(Mn,{cols:"auto"},{default:Q(()=>[q(sg,{color:"amber-lighten-1",inline:"",content:ye.equipiers.filter(Xe=>Xe.HasBirthday).length},null,8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),yY=fa({__name:"equipiers",setup(re){OE(),Gu(Fe);const ye=Yo([]);async function Fe(){const xt=await ho.EquipiersGet();xt!==void 0&&(xt==null||xt.sort((Ne,gt)=>Ne.Equipier.Id-gt.Equipier.Id),ye.value=xt||[])}const Oe=Yo(!1);function Xe(xt){return(xt||[]).map(Ne=>eH[Ne]).join(", ")}function Se(xt){switch(xt){case L7.NotSend:return{icon:"mdi-form-select",color:""};case L7.Pending:return{icon:"mdi-clock",color:"yellow-darken-2"};case L7.Answered:return{icon:"mdi-check",color:"green"}}}const Ee=Yo(!1);async function He(xt){Ee.value=!1;const Ne=await ho.EquipiersCreate(xt);Ne!==void 0&&(ho.showMessage("Equipier crée avec succès."),ye.value.push(Ne))}async function Ze(xt){const Ne=await ho.EquipiersInvite({OnlyOne:az(xt)});Ne!==void 0&&(ho.showMessage("Equipier invité avec succès."),Ne==null||Ne.sort((gt,Tt)=>gt.Equipier.Id-Tt.Equipier.Id),ye.value=Ne||[])}async function ut(){const xt=await ho.EquipiersInvite({OnlyOne:az(null)});xt!==void 0&&(ho.showMessage("Equipiers invités avec succès."),xt==null||xt.sort((Ne,gt)=>Ne.Equipier.Id-gt.Equipier.Id),ye.value=xt||[])}const Ct=Yo(null);async function Ht(){if(Ct.value==null)return;const xt=Ct.value.Equipier.Id;Ct.value=null,await ho.EquipiersDelete({id:xt})!==void 0&&(ho.showMessage("Equipier supprimé avec succès."),ye.value=ye.value.filter(gt=>gt.Equipier.Id!=xt))}return(xt,Ne)=>{var gt;return Lt(),as(Ir,null,[q($7,{title:`${(gt=bs(ho).camp)==null?void 0:gt.Label} - Equipiers`},{default:Q(()=>[q(ln,{onClick:Ne[0]||(Ne[0]=Tt=>Oe.value=!0)},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>Ne[6]||(Ne[6]=[$t("mdi-file")])),_:1,__:[6]})]),default:Q(()=>[Ne[7]||(Ne[7]=$t(" Documents "))]),_:1,__:[7]})]),_:1},8,["title"]),q(Tr,{class:"mt-2 mx-auto","max-width":"800px"},{title:Q(()=>[q(ln,{flat:"",icon:""},{default:Q(()=>[q(Bs,null,{default:Q(()=>Ne[8]||(Ne[8]=[$t("mdi-information")])),_:1,__:[8]}),q(p_,{activator:"parent","content-class":"ma-0 pa-0"},{default:Q(()=>[q(vY,{equipiers:ye.value},null,8,["equipiers"])]),_:1})]),_:1}),Ne[9]||(Ne[9]=$t(" Équipiers "))]),append:Q(()=>[q(ln,{color:"green",onClick:Ne[1]||(Ne[1]=Tt=>Ee.value=!0)},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>Ne[10]||(Ne[10]=[$t("mdi-plus")])),_:1,__:[10]})]),default:Q(()=>[Ne[11]||(Ne[11]=$t(" Ajouter un équipier"))]),_:1,__:[11]}),q(Sh,null,{activator:Q(({props:Tt})=>[q(ln,yd(Tt,{class:"ml-2",icon:"mdi-dots-vertical",size:"small"}),null,16)]),default:Q(()=>[q(qu,null,{default:Q(()=>[q(Us,null,{default:Q(()=>[q(Us,{title:"Inviter tous",subtitle:"Envoi un mail à tous les équipiers en attente","prepend-icon":"mdi-email",onClick:Ne[2]||(Ne[2]=Tt=>ut())})]),_:1})]),_:1})]),_:1})]),default:Q(()=>[q(br,null,{default:Q(()=>[q(qu,null,{default:Q(()=>[(Lt(!0),as(Ir,null,xc(ye.value,Tt=>(Lt(),Eo(Us,{title:Tt.Personne,subtitle:Xe(Tt.Equipier.Roles)},{append:Q(()=>[q(wi,null,{default:Q(()=>[q(Mn,{cols:"2","align-self":"center"},{default:Q(()=>[q(p_,{text:`${Tt.Personne} a son anniveraire pendant le séjour !`},{activator:Q(({props:lt})=>[q(Bs,yd({ref_for:!0},lt,{color:"pink"}),{default:Q(()=>Ne[12]||(Ne[12]=[$t("mdi-cake-variant")])),_:2,__:[12]},1040)]),_:2},1032,["text"])]),_:2},1024),q(Mn,{"align-self":"center"},{default:Q(()=>[q(ex,{"prepend-icon":Se(Tt.Equipier.FormStatus).icon,color:Se(Tt.Equipier.FormStatus).color},{default:Q(()=>[$t(Pa(bs(FK)[Tt.Equipier.FormStatus]),1)]),_:2},1032,["prepend-icon","color"])]),_:2},1024),Tt.Equipier.FormStatus==bs(L7).Answered&&!Tt.Equipier.AccepteCharte.Bool?(Lt(),Eo(Mn,{key:0,"align-self":"center"},{default:Q(()=>[q(ex,{color:"warning"},{default:Q(()=>Ne[13]||(Ne[13]=[$t("Charte non acceptée")])),_:1,__:[13]})]),_:1})):ea("",!0),q(Mn,{"align-self":"center"},{default:Q(()=>[q(Sh,null,{activator:Q(({props:lt})=>[q(ln,yd({ref_for:!0},lt,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:Q(()=>[q(qu,null,{default:Q(()=>[q(Us,{title:"Inviter",subtitle:"Envoi un mail avec le lien vers le formulaire","prepend-icon":"mdi-email",onClick:lt=>Ze(Tt.Equipier.Id)},null,8,["onClick"]),q(Us,{title:"Aller au formulaire","prepend-icon":"mdi-open-in-new",href:Tt.FormURL,target:"_blank"},null,8,["href"]),q(Uc),q(Us,{title:"Supprimer","prepend-icon":"mdi-delete",onClick:lt=>Ct.value=Tt},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","subtitle"]))),256))]),_:1})]),_:1})]),_:1}),q(el,{modelValue:Oe.value,"onUpdate:modelValue":Ne[3]||(Ne[3]=Tt=>Oe.value=Tt)},{default:Q(()=>[q(hY,{equipiers:ye.value},null,8,["equipiers"])]),_:1},8,["modelValue"]),q(el,{modelValue:Ee.value,"onUpdate:modelValue":Ne[4]||(Ne[4]=Tt=>Ee.value=Tt),"max-width":"600px"},{default:Q(()=>[q(xY,{onCreate:He})]),_:1},8,["modelValue"]),q(el,{"model-value":Ct.value!=null,"onUpdate:modelValue":Ne[5]||(Ne[5]=Tt=>Ct.value=null),"max-width":"400px"},{default:Q(()=>[Ct.value?(Lt(),Eo(Tr,{key:0,title:"Confirmation"},{default:Q(()=>[q(br,null,{default:Q(()=>[$t(" Confirmez-vous la suppression de l'équipier "+Pa(Ct.value.Personne)+" ? ",1),Ne[14]||(Ne[14]=gn("br",null,null,-1)),Ne[15]||(Ne[15]=gn("br",null,null,-1)),Ne[16]||(Ne[16]=$t(" Attention, cette opération est irréversible. "))]),_:1,__:[14,15,16]}),q(rg,null,{default:Q(()=>[q(ag),q(ln,{color:"red",onClick:Ht},{default:Q(()=>Ne[17]||(Ne[17]=[$t(" Supprimer ")])),_:1,__:[17]})]),_:1})]),_:1})):ea("",!0)]),_:1},8,["model-value"])],64)}}});var YI={exports:{}},bz;function wY(){return bz||(bz=1,function(re){(function(){var ye=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},Fe=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Oe=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},Xe=function(e,t){return Se(function(n,s){return e.eq(t(n),t(s))})},Se=function(e){return{eq:e}},Ee=Se(function(e,t){return e===t}),He=Ee,Ze=function(e){return Se(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,i=0;i<s;i++)if(!e.eq(t[i],n[i]))return!1;return!0})},ut=function(e,t){return Xe(Ze(e),function(n){return Oe(n,t)})},Ct=function(e){return Se(function(t,n){var s=Object.keys(t),i=Object.keys(n);if(!ut(He).eq(s,i))return!1;for(var c=s.length,u=0;u<c;u++){var g=s[u];if(!e.eq(t[g],n[g]))return!1}return!0})},Ht=Se(function(e,t){if(e===t)return!0;var n=ye(e),s=ye(t);return n!==s?!1:Fe(n)?e===t:n==="array"?Ze(Ht).eq(e,t):n==="object"?Ct(Ht).eq(e,t):!1});const xt=Object.getPrototypeOf,Ne=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},gt=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Ne(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},Tt=e=>t=>gt(t)===e,lt=e=>t=>typeof t===e,xe=e=>t=>e===t,Pe=(e,t)=>ne(e)&&Ne(e,t,(n,s)=>xt(n)===s),Ue=Tt("string"),ne=Tt("object"),kt=e=>Pe(e,Object),pe=Tt("array"),hn=xe(null),is=lt("boolean"),bn=xe(void 0),qo=e=>e==null,Ke=e=>!qo(e),Xt=lt("function"),A=lt("number"),Co=(e,t)=>{if(pe(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},ko=()=>{},Bn=(e,t)=>(...n)=>e(t.apply(null,n)),dr=(e,t)=>n=>e(t(n)),St=e=>()=>e,Tn=e=>e,Ci=(e,t)=>e===t;function je(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const Ae=e=>t=>!e(t),ht=e=>()=>{throw new Error(e)},dn=e=>e(),Oo=e=>{e()},Ao=St(!1),Go=St(!0);class z{constructor(t,n){this.tag=t,this.value=n}static some(t){return new z(!0,t)}static none(){return z.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?z.some(t(this.value)):z.none()}bind(t){return this.tag?t(this.value):z.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:z.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ke(t)?z.some(t):z.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}z.singletonNone=new z(!1);const ur=Array.prototype.slice,Ps=Array.prototype.indexOf,Uo=Array.prototype.push,_i=(e,t)=>Ps.call(e,t),oa=(e,t)=>{const n=_i(e,t);return n===-1?z.none():z.some(n)},on=(e,t)=>_i(e,t)>-1,Kn=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const i=e[n];if(t(i,n))return!0}return!1},Xo=(e,t)=>{const n=e.length,s=new Array(n);for(let i=0;i<n;i++){const c=e[i];s[i]=t(c,i)}return s},nt=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const i=e[n];t(i,n)}},jl=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},xr=(e,t)=>{const n=[],s=[];for(let i=0,c=e.length;i<c;i++){const u=e[i];(t(u,i)?n:s).push(u)}return{pass:n,fail:s}},_o=(e,t)=>{const n=[];for(let s=0,i=e.length;s<i;s++){const c=e[s];t(c,s)&&n.push(c)}return n},vc=(e,t,n)=>(jl(e,(s,i)=>{n=t(n,s,i)}),n),ws=(e,t,n)=>(nt(e,(s,i)=>{n=t(n,s,i)}),n),Zs=(e,t,n)=>{for(let s=0,i=e.length;s<i;s++){const c=e[s];if(t(c,s))return z.some(c);if(n(c,s))break}return z.none()},js=(e,t)=>Zs(e,t,Ao),mr=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const i=e[n];if(t(i,n))return z.some(n)}return z.none()},Ss=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!pe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Uo.apply(t,e[n])}return t},na=(e,t)=>Ss(Xo(e,t)),vn=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const i=e[n];if(t(i,n)!==!0)return!1}return!0},tl=e=>{const t=ur.call(e,0);return t.reverse(),t},ol=(e,t)=>_o(e,n=>!on(t,n)),Ya=(e,t)=>{const n={};for(let s=0,i=e.length;s<i;s++){const c=e[s];n[String(c)]=t(c,s)}return n},ki=(e,t)=>{const n=ur.call(e,0);return n.sort(t),n},nr=(e,t)=>t>=0&&t<e.length?z.some(e[t]):z.none(),Kt=e=>nr(e,0),jo=e=>nr(e,e.length-1),xs=Xt(Array.from)?Array.from:e=>ur.call(e),Lr=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return z.none()},Vt=(e,t)=>{const n=[],s=Xt(t)?i=>Kn(n,c=>t(c,i)):i=>on(n,i);for(let i=0,c=e.length;i<c;i++){const u=e[i];s(u)||n.push(u)}return n},Fr=Object.keys,tu=Object.hasOwnProperty,Un=(e,t)=>{const n=Fr(e);for(let s=0,i=n.length;s<i;s++){const c=n[s],u=e[c];t(u,c)}},jn=(e,t)=>sa(e,(n,s)=>({k:s,v:t(n,s)})),sa=(e,t)=>{const n={};return Un(e,(s,i)=>{const c=t(s,i);n[c.k]=c.v}),n},Dr=e=>(t,n)=>{e[n]=t},ou=(e,t,n,s)=>{Un(e,(i,c)=>{(t(i,c)?n:s)(i,c)})},Zc=(e,t)=>{const n={},s={};return ou(e,t,Dr(n),Dr(s)),{t:n,f:s}},Fo=(e,t)=>{const n={};return ou(e,t,Dr(n),ko),n},fr=(e,t)=>{const n=[];return Un(e,(s,i)=>{n.push(t(s,i))}),n},pa=e=>fr(e,Tn),kn=(e,t)=>Jt(e,t)?z.from(e[t]):z.none(),Jt=(e,t)=>tu.call(e,t),zr=(e,t)=>Jt(e,t)&&e[t]!==void 0&&e[t]!==null,yc=(e,t,n=Ht)=>Ct(n).eq(e,t),ka={generate:e=>{if(!pe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return nt(e,(s,i)=>{const c=Fr(s);if(c.length!==1)throw new Error("one and only one name per case");const u=c[0],g=s[u];if(n[u]!==void 0)throw new Error("duplicate key detected:"+u);if(u==="cata")throw new Error("cannot have a case named cata (sorry)");if(!pe(g))throw new Error("case arguments must be an array");t.push(u),n[u]=(...v)=>{const S=v.length;if(S!==g.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+g.length+" ("+g+"), got "+S);return{fold:(...M)=>{if(M.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+M.length);return M[i].apply(null,v)},match:M=>{const I=Fr(M);if(t.length!==I.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+I.join(","));if(!vn(t,J=>on(I,J)))throw new Error("Not all branches were specified when using match. Specified: "+I.join(", ")+`
Required: `+t.join(", "));return M[u].apply(null,v)},log:M=>{console.log(M,{constructors:t,constructor:u,params:v})}}}}),n}},Wo=e=>{let t=e;return{get:()=>t,set:i=>{t=i}}},nu=e=>{const t=c=>c(e),n=St(e),s=()=>i,i={tag:!0,inner:e,fold:(c,u)=>u(e),isValue:Go,isError:Ao,map:c=>vr.value(c(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:c=>{c(e)},toOptional:()=>z.some(e)};return i},Sa=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,i)=>s(e),isValue:Ao,isError:Go,map:t,mapError:s=>vr.error(s(e)),bind:t,exists:Ao,forall:Go,getOr:Tn,or:Tn,getOrThunk:dn,orThunk:dn,getOrDie:ht(String(e)),each:ko,toOptional:z.none};return n},vr={value:nu,error:Sa,fromOption:(e,t)=>e.fold(()=>Sa(t),nu)},wc=typeof window<"u"?window:Function("return this;")(),ci=(e,t,n)=>Math.min(Math.max(e,t),n),wd=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Is=0;const Cs=e=>{const n=new Date().getTime(),s=Math.floor(wd()*1e9);return Is++,e+"_"+s+Is+String(n)},Pn=(e,t)=>t,Mi=(e,t)=>kt(e)&&kt(t)?Es(e,t):t,Yn=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const i=t[s];for(const c in i)Jt(i,c)&&(n[c]=e(n[c],i[c]))}return n},Es=Yn(Mi),Cc=Yn(Pn),Si=(e,t,n=Ci)=>e.exists(s=>n(s,t)),ql=(e,t,n=Ci)=>sr(e,t,n).getOr(e.isNone()&&t.isNone()),Gl=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},sr=(e,t,n)=>e.isSome()&&t.isSome()?z.some(n(e.getOrDie(),t.getOrDie())):z.none(),su=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?z.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):z.none(),rr=(e,t)=>e?z.some(t):z.none(),ru=(e,t)=>{let n=t??wc;for(let s=0;s<e.length&&n!==void 0&&n!==null;++s)n=n[e[s]];return n},Um=(e,t)=>{const n=e.split(".");return ru(n,t)};ka.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Kl=e=>{const t=[],n=[];return nt(e,s=>{s.fold(i=>{t.push(i)},i=>{n.push(i)})}),{errors:t,values:n}},Ku=e=>{const t=Wo(z.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(z.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{n(),t.set(z.some(g))}}},Ft=e=>{const t=Wo(z.none()),n=()=>t.get().each(g=>clearInterval(g));return{clear:()=>{n(),t.set(z.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{n(),t.set(z.some(setInterval(g,e)))}}},nl=()=>{const e=Ku(ko);return{...e,on:n=>e.get().each(n)}},au=(e,t)=>e.substring(t),Cd=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Yl=(e,t)=>ar(e,t)?au(e,t.length):e,Or=(e,t,n=0,s)=>{const i=e.indexOf(t,n);return i!==-1?bn(s)?!0:i+t.length<=s:!1},ar=(e,t)=>Cd(e,t,0),Yu=(e,t)=>Cd(e,t,e.length-t.length),Ia=e=>t=>t.replace(e,""),jc=Ia(/^\s+|\s+$/g),jf=Ia(/^\s+/g),In=Ia(/\s+$/g),La=e=>e.length>0,Wc=e=>!La(e),Xl=(e,t)=>t<=0?"":new Array(t+1).join(e),Cl=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?z.none():z.some(n)},Xa=(e,t)=>{let n=null;return{cancel:()=>{hn(n)||(clearTimeout(n),n=null)},throttle:(...c)=>{hn(n)&&(n=setTimeout(()=>{n=null,e.apply(null,c)},t))}}},qc=(e,t)=>{let n=null;const s=()=>{hn(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...c)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,c)},t)}}},ir=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},Ea="\uFEFF",Ls=" ",ga=e=>e===Ea,Fs=e=>e.replace(/\uFEFF/g,""),Gc=e=>{const t={};return nt(e,n=>{t[n]={}}),Fr(t)},Ql=e=>e.length!==void 0,_d=Array.isArray,iu=e=>{if(_d(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},yr=(e,t,n)=>{if(!e)return!1;if(n=n||e,Ql(e)){for(let s=0,i=e.length;s<i;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if(Jt(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},_l=(e,t)=>{const n=[];return yr(e,(s,i)=>{n.push(t(s,i,e))}),n},Jl=(e,t)=>{const n=[];return yr(e,(s,i)=>{(!t||t(s,i,e))&&n.push(s)}),n},kd=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},Hr=(e,t,n,s)=>{let i=bn(n)?e[0]:n;for(let c=0;c<e.length;c++)i=t.call(s,i,e[c],c);return i},Sd=(e,t,n)=>{for(let s=0,i=e.length;s<i;s++)if(t.call(n,e[s],s,e))return s;return-1},ra=e=>e[e.length-1],ec=(e,t,n,s)=>{const i=e.isiOS()&&/ipad/i.test(n)===!0,c=e.isiOS()&&!i,u=e.isiOS()||e.isAndroid(),g=u||s("(pointer:coarse)"),v=i||!c&&u&&s("(min-device-width:768px)"),S=c||u&&!v,O=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,M=!S&&!v&&!O;return{isiPad:St(i),isiPhone:St(c),isTablet:St(v),isPhone:St(S),isTouch:St(g),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:St(O),isDesktop:St(M)}},lu=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},Zm=(e,t)=>{const n=lu(e,t);if(!n)return{major:0,minor:0};const s=i=>Number(t.replace(n,"$"+i));return Fa(s(1),s(2))},Xu=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Kc():Zm(e,n)},Kc=()=>Fa(0,0),Fa=(e,t)=>({major:e,minor:t}),Z={nu:Fa,detect:Xu,unknown:Kc},ae=(e,t)=>Lr(t.brands,n=>{const s=n.brand.toLowerCase();return js(e,i=>{var c;return s===((c=i.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(i=>({current:i.name,version:Z.nu(parseInt(n.version,10),0)}))}),Ce=(e,t)=>{const n=String(t).toLowerCase();return js(e,s=>s.search(n))},rt=(e,t)=>Ce(e,t).map(n=>{const s=Z.detect(n.versionRegexes,t);return{current:n.name,version:s}}),Nt=(e,t)=>Ce(e,t).map(n=>{const s=Z.detect(n.versionRegexes,t);return{current:n.name,version:s}}),Ut=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zo=e=>t=>Or(t,e),cs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Or(e,"edge/")&&Or(e,"chrome")&&Or(e,"safari")&&Or(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ut],search:e=>Or(e,"chrome")&&!Or(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Or(e,"msie")||Or(e,"trident")},{name:"Opera",versionRegexes:[Ut,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zo("firefox")},{name:"Safari",versionRegexes:[Ut,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Or(e,"safari")||Or(e,"mobile/"))&&Or(e,"applewebkit")}],Ho=[{name:"Windows",search:zo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Or(e,"iphone")||Or(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:zo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zo("linux"),versionRegexes:[]},{name:"Solaris",search:zo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],P={browsers:St(cs),oses:St(Ho)},K="Edge",me="Chromium",Te="IE",jt="Opera",an="Firefox",Xn="Safari",Vr=()=>Ln({current:void 0,version:Z.unknown()}),Ln=e=>{const t=e.current,n=e.version,s=i=>()=>t===i;return{current:t,version:n,isEdge:s(K),isChromium:s(me),isIE:s(Te),isOpera:s(jt),isFirefox:s(an),isSafari:s(Xn)}},aa={unknown:Vr,nu:Ln},ia="Windows",Nr="iOS",ds="Android",jm="Linux",Qu="macOS",Qa="Solaris",kl="FreeBSD",Aa="ChromeOS",Ed=()=>Sl({current:void 0,version:Z.unknown()}),Sl=e=>{const t=e.current,n=e.version,s=i=>()=>t===i;return{current:t,version:n,isWindows:s(ia),isiOS:s(Nr),isAndroid:s(ds),isMacOS:s(Qu),isLinux:s(jm),isSolaris:s(Qa),isFreeBSD:s(kl),isChromeOS:s(Aa)}},Wf={unknown:Ed,nu:Sl},Yc={detect:(e,t,n)=>{const s=P.browsers(),i=P.oses(),c=t.bind(v=>ae(s,v)).orThunk(()=>rt(s,e)).fold(aa.unknown,aa.nu),u=Nt(i,e).fold(Wf.unknown,Wf.nu),g=ec(u,c,e,n);return{browser:c,os:u,deviceType:g}}},em=e=>window.matchMedia(e).matches;let ha=ir(()=>Yc.detect(window.navigator.userAgent,z.from(window.navigator.userAgentData),em));const Jn=()=>ha(),El=(e,t)=>Um(e,t),Ah=(e,t)=>{const n=El(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},Wm=Object.getPrototypeOf,Ws=e=>Ah("HTMLElement",e),_c=e=>{const t=Um("ownerDocument.defaultView",e);return ne(e)&&(Ws(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Wm(e).constructor.name))},tc=window.navigator.userAgent,Al=Jn(),As=Al.browser,Bi=Al.os,cu=Al.deviceType,Ad=tc.indexOf("Windows Phone")!==-1,Vo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:As.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!As.isIE(),windowsPhone:Ad,browser:{current:As.current,version:As.version,isChromium:As.isChromium,isEdge:As.isEdge,isFirefox:As.isFirefox,isIE:As.isIE,isOpera:As.isOpera,isSafari:As.isSafari},os:{current:Bi.current,version:Bi.version,isAndroid:Bi.isAndroid,isChromeOS:Bi.isChromeOS,isFreeBSD:Bi.isFreeBSD,isiOS:Bi.isiOS,isLinux:Bi.isLinux,isMacOS:Bi.isMacOS,isSolaris:Bi.isSolaris,isWindows:Bi.isWindows},deviceType:{isDesktop:cu.isDesktop,isiPad:cu.isiPad,isiPhone:cu.isiPhone,isPhone:cu.isPhone,isTablet:cu.isTablet,isTouch:cu.isTouch,isWebView:cu.isWebView}},cg=/^\s*|\s*$/g,dg=e=>qo(e)?"":(""+e).replace(cg,""),bo=(e,t)=>t?t==="array"&&_d(e)?!0:typeof e===t:e!==void 0,qf=(e,t,n={})=>{const s=Ue(e)?e.split(t||","):e||[];let i=s.length;for(;i--;)n[s[i]]={};return n},wr=Jt,Ta=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(Jt(s,i)){const c=s[i];c!==void 0&&(e[i]=c)}}return e},Gf=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),yr(e,(i,c)=>t.call(s,i,c,n)===!1?!1:(Gf(i,t,n,s),!0)))},Dt={trim:dg,isArray:_d,is:bo,toArray:iu,makeMap:qf,each:yr,map:_l,grep:Jl,inArray:kd,hasOwn:wr,extend:Ta,walk:Gf,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,i=n.length;s<i&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>pe(e)?e:e===""?[]:_l(e.split(t||","),dg),_addCacheSuffix:e=>{const t=Vo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Th=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const i="HTML does not have a single root node";throw console.error(i,e),new Error(i)}return kc(s.childNodes[0])},tm=(e,t)=>{const s=(t||document).createElement(e);return kc(s)},qm=(e,t)=>{const s=(t||document).createTextNode(e);return kc(s)},kc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ue={fromHtml:Th,fromTag:tm,fromText:qm,fromDom:kc,fromPoint:(e,t,n)=>z.from(e.dom.elementFromPoint(t,n)).map(kc)},Kf=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},Rr=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},mg=(e,t,n)=>{const s=e.document.createRange();return Kf(s,t),Rr(s,n),s},To=(e,t,n,s,i)=>{const c=e.document.createRange();return c.setStart(t.dom,n),c.setEnd(s.dom,i),c},Ei=ka.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Dd=(e,t,n)=>t(ue.fromDom(n.startContainer),n.startOffset,ue.fromDom(n.endContainer),n.endOffset),Ha=(e,t)=>t.match({domRange:n=>({ltr:St(n),rtl:z.none}),relative:(n,s)=>({ltr:ir(()=>mg(e,n,s)),rtl:ir(()=>z.some(mg(e,s,n)))}),exact:(n,s,i,c)=>({ltr:ir(()=>To(e,n,s,i,c)),rtl:ir(()=>z.some(To(e,i,c,n,s)))})}),Gm=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(i=>i.collapsed===!1).map(i=>Ei.rtl(ue.fromDom(i.endContainer),i.endOffset,ue.fromDom(i.startContainer),i.startOffset)).getOrThunk(()=>Dd(e,Ei.ltr,n)):Dd(e,Ei.ltr,n)},ba=(e,t)=>{const n=Ha(e,t);return Gm(e,n)};Ei.ltr,Ei.rtl;const Km=8,Od=9,un=11,Va=1,sl=3,Tl=(e,t)=>{const n=e.dom;if(n.nodeType!==Va)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Gs=e=>e.nodeType!==Va&&e.nodeType!==Od&&e.nodeType!==un||e.childElementCount===0,rl=(e,t)=>{const n=t===void 0?document:t.dom;return Gs(n)?[]:Xo(n.querySelectorAll(e),ue.fromDom)},du=(e,t)=>{const n=t===void 0?document:t.dom;return Gs(n)?z.none():z.from(n.querySelector(e)).map(ue.fromDom)},yn=(e,t)=>e.dom===t.dom,Pi=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},$a=(e,t)=>{const n=[],s=c=>(n.push(c),t(c));let i=t(e);do i=i.bind(s);while(i.isSome());return n},Ro=e=>e.dom.nodeName.toLowerCase(),Xc=e=>e.dom.nodeType,Qc=e=>t=>Xc(t)===e,us=e=>Xc(e)===Km||Ro(e)==="#comment",Dl=e=>pr(e)&&_c(e.dom),pr=Qc(Va),xa=Qc(sl),Ii=Qc(Od),Ym=Qc(un),Xm=e=>t=>pr(t)&&Ro(t)===e,Yf=e=>ue.fromDom(e.dom.ownerDocument),uu=e=>Ii(e)?e:Yf(e),Xf=e=>ue.fromDom(uu(e).dom.documentElement),Nd=e=>ue.fromDom(uu(e).dom.defaultView),Sc=e=>z.from(e.dom.parentNode).map(ue.fromDom),Qm=e=>z.from(e.dom.parentElement).map(ue.fromDom),Dh=(e,t)=>{const n=Xt(t)?t:Ao;let s=e.dom;const i=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const c=s.parentNode,u=ue.fromDom(c);if(i.push(u),n(u)===!0)break;s=c}return i},Li=e=>{const t=n=>_o(n,s=>!yn(e,s));return Sc(e).map(Da).map(t).getOr([])},Rd=e=>z.from(e.dom.previousSibling).map(ue.fromDom),Jc=e=>z.from(e.dom.nextSibling).map(ue.fromDom),On=e=>tl($a(e,Rd)),Ec=e=>$a(e,Jc),Da=e=>Xo(e.dom.childNodes,ue.fromDom),Md=(e,t)=>{const n=e.dom.childNodes;return z.from(n[t]).map(ue.fromDom)},di=e=>Md(e,0),om=e=>Md(e,e.dom.childNodes.length-1),Jm=e=>e.dom.childNodes.length,ef=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return ue.fromDom(t)},ls=e=>Ym(e)&&Ke(e.dom.host),ed=e=>ue.fromDom(e.dom.getRootNode()),vs=e=>ls(e)?e:ef(uu(e)),Ja=e=>ls(e)?e:ue.fromDom(uu(e).dom.body),mu=e=>{const t=ed(e);return ls(t)?z.some(t):z.none()},ui=e=>ue.fromDom(e.dom.host),Qf=e=>{if(Ke(e.target)){const t=ue.fromDom(e.target);if(pr(t)&&la(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return Kt(n)}}return z.from(e.target)},la=e=>Ke(e.dom.shadowRoot),Bd=(e,t,n,s,i,c,u)=>({target:e,x:t,y:n,stop:s,prevent:i,kill:c,raw:u}),Oh=e=>{const t=ue.fromDom(Qf(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),i=Bn(s,n);return Bd(t,e.clientX,e.clientY,n,s,i,e)},ca=(e,t)=>n=>{e(n)&&t(Oh(n))},Jf=(e,t,n,s,i)=>{const c=ca(n,s);return e.dom.addEventListener(t,c,i),{unbind:je(Nh,e,t,c,i)}},ep=(e,t,n,s)=>Jf(e,t,n,s,!1),Nh=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},tp=Go,nm=(e,t,n)=>ep(e,t,tp,n),op=()=>ue.fromDom(document),np=(e,t=!1)=>e.dom.focus({preventScroll:t}),sp=e=>{const t=ed(e).dom;return e.dom===t.activeElement},tf=(e=op())=>z.from(e.dom.activeElement).map(ue.fromDom),Ac=e=>tf(ed(e)).filter(t=>e.dom.contains(t.dom)),ei=(e,t)=>{Sc(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},td=(e,t)=>{Jc(e).fold(()=>{Sc(e).each(i=>{Zn(i,t)})},s=>{ei(s,t)})},sm=(e,t)=>{di(e).fold(()=>{Zn(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},Zn=(e,t)=>{e.dom.appendChild(t.dom)},rp=(e,t)=>{ei(e,t),Zn(t,e)},Tc=(e,t)=>{nt(t,(n,s)=>{const i=s===0?e:t[s-1];td(i,n)})},oc=(e,t)=>{nt(t,n=>{Zn(e,n)})},of=(e,t,n)=>{if(Ue(n)||is(n)||A(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},$r=(e,t,n)=>{of(e.dom,t,n)},nc=(e,t)=>{const n=e.dom;Un(t,(s,i)=>{of(n,i,s)})},Oa=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},zs=(e,t)=>z.from(Oa(e,t)),Js=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},er=(e,t)=>{e.dom.removeAttribute(t)},fg=e=>{const t=e.dom.attributes;return t==null||t.length===0},Na=e=>ws(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),fu=e=>{e.dom.textContent="",nt(Da(e),t=>{k(t)})},k=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},R=e=>{const t=Da(e);t.length>0&&Tc(e,t),k(e)},H=(e,t)=>ue.fromDom(e.dom.cloneNode(t)),le=e=>H(e,!1),ve=e=>H(e,!0),ft=(e,t)=>{const n=ue.fromTag(t),s=Na(e);return nc(n,s),n},co=(e,t)=>{const n=ft(e,t);td(e,n);const s=Da(e);return oc(n,s),k(e),n},Mo=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,Da(ue.fromDom(s))},Po=e=>Xo(e,ue.fromDom),uo=e=>e.dom.innerHTML,Qn=(e,t)=>{const s=Yf(e).dom,i=ue.fromDom(s.createDocumentFragment()),c=Mo(t,s);oc(i,c),fu(e),Zn(e,i)},Ks=e=>{const t=ue.fromTag("div"),n=ue.fromDom(e.dom.cloneNode(!0));return Zn(t,n),uo(t)},al=e=>e.style!==void 0&&Xt(e.style.getPropertyValue),Ns=e=>{const t=xa(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return mu(ue.fromDom(t)).fold(()=>n.body.contains(t),dr(Ns,ui))},Rh=(e,t,n)=>{if(!Ue(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);al(e)&&e.style.setProperty(t,n)},r0=(e,t)=>{al(e)&&e.style.removeProperty(t)},Mr=(e,t,n)=>{const s=e.dom;Rh(s,t,n)},pu=(e,t)=>{const n=e.dom;Un(t,(s,i)=>{Rh(n,i,s)})},sc=(e,t)=>{const n=e.dom,i=window.getComputedStyle(n).getPropertyValue(t);return i===""&&!Ns(e)?pg(n,t):i},pg=(e,t)=>al(e)?e.style.getPropertyValue(t):"",Mh=(e,t)=>{const n=e.dom,s=pg(n,t);return z.from(s).filter(i=>i.length>0)},gg=e=>{const t={},n=e.dom;if(al(n))for(let s=0;s<n.style.length;s++){const i=n.style.item(s);t[i]=n.style[i]}return t},Bh=(e,t)=>{const n=e.dom;r0(n,t),Si(zs(e,"style").map(jc),"")&&er(e,"style")},tx=e=>e.dom.offsetWidth,a0=((e,t)=>{const n=(g,v)=>{if(!A(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const S=g.dom;al(S)&&(S.style[e]=v+"px")},s=g=>{const v=t(g);if(v<=0||v===null){const S=sc(g,e);return parseFloat(S)||0}return v},i=s,c=(g,v)=>ws(v,(S,O)=>{const M=sc(g,O),I=M===void 0?0:parseInt(M,10);return isNaN(I)?S:S+I},0);return{set:n,get:s,getOuter:i,aggregate:c,max:(g,v,S)=>{const O=c(g,S);return v>O?v-O:0}}})("height",e=>{const t=e.dom;return Ns(e)?t.getBoundingClientRect().height:t.offsetHeight}),ox=e=>a0.get(e),Ph=(e,t)=>({left:e,top:t,translate:(s,i)=>Ph(e+s,t+i)}),hg=Ph,nx=e=>{const t=e.getBoundingClientRect();return hg(t.left,t.top)},rm=(e,t)=>e!==void 0?e:t!==void 0?t:0,rc=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,i=t.documentElement;if(n===e.dom)return hg(n.offsetLeft,n.offsetTop);const c=rm(s==null?void 0:s.pageYOffset,i.scrollTop),u=rm(s==null?void 0:s.pageXOffset,i.scrollLeft),g=rm(i.clientTop,n.clientTop),v=rm(i.clientLeft,n.clientLeft);return xo(e).translate(u-v,c-g)},xo=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?hg(s.offsetLeft,s.offsetTop):Ns(e)?nx(t):hg(0,0)},Pd=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return hg(n,s)},bg=(e,t,n)=>{const i=(n!==void 0?n.dom:document).defaultView;i&&i.scrollTo(e,t)},sx=(e,t)=>{Jn().browser.isSafari()&&Xt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},i0=(e,t)=>{const n=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return s(c).getOr("")},s=c=>e(c)?z.from(c.dom.nodeValue):z.none();return{get:n,getOption:s,set:(c,u)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=u}}},nf=(e,t)=>{const s=document.createDocumentFragment();return nt(e,i=>{s.appendChild(i.dom)}),ue.fromDom(s)},ap=i0(xa,"text"),xg=e=>ap.get(e),Hs=e=>ap.getOption(e),Ol=(e,t)=>ap.set(e,t),mi=(e,t)=>{const n=Oa(e,t);return n===void 0||n===""?[]:n.split(" ")},sf=(e,t,n)=>{const i=mi(e,t).concat([n]);return $r(e,t,i.join(" ")),!0},Fi=(e,t,n)=>{const s=_o(mi(e,t),i=>i!==n);return s.length>0?$r(e,t,s.join(" ")):er(e,t),!1};var vg=(e,t,n,s,i)=>e(n,s)?z.some(n):Xt(i)&&i(n)?z.none():t(n,s,i);const lr=(e,t,n)=>{let s=e.dom;const i=Xt(n)?n:Ao;for(;s.parentNode;){s=s.parentNode;const c=ue.fromDom(s);if(t(c))return z.some(c);if(i(c))break}return z.none()},Ur=(e,t,n)=>vg((i,c)=>c(i),lr,e,t,n),yg=(e,t)=>{const n=e.dom;return n.parentNode?ct(ue.fromDom(n.parentNode),s=>!yn(e,s)&&t(s)):z.none()},ct=(e,t)=>{const n=i=>t(ue.fromDom(i));return js(e.dom.childNodes,n).map(ue.fromDom)},il=(e,t)=>{const n=s=>{for(let i=0;i<s.childNodes.length;i++){const c=ue.fromDom(s.childNodes[i]);if(t(c))return z.some(c);const u=n(s.childNodes[i]);if(u.isSome())return u}return z.none()};return n(e.dom)},gu=(e,t,n)=>lr(e,s=>Tl(s,t),n),Cr=(e,t)=>du(t,e),zi=(e,t,n)=>vg((i,c)=>Tl(i,c),gu,e,t,n),Hi=e=>e.dom.classList!==void 0,hu=e=>mi(e,"class"),ip=(e,t)=>sf(e,"class",t),fi=(e,t)=>Fi(e,"class",t),Sn=(e,t)=>on(hu(e),t)?fi(e,t):ip(e,t),Vi=(e,t)=>{Hi(e)?e.dom.classList.add(t):ip(e,t)},Zr=e=>{(Hi(e)?e.dom.classList:hu(e)).length===0&&er(e,"class")},tr=(e,t)=>{Hi(e)?e.dom.classList.remove(t):fi(e,t),Zr(e)},l0=(e,t)=>{const n=Hi(e)?e.dom.classList.toggle(t):Sn(e,t);return Zr(e),n},Ra=(e,t)=>Hi(e)&&e.dom.classList.contains(t),lp=(e,t)=>{nt(t,n=>{Vi(e,n)})},ll=(e,t)=>{nt(t,n=>{tr(e,n)})},Ie=e=>zi(e,"[contenteditable]"),ti=(e,t=!1)=>Ns(e)?e.dom.isContentEditable:Ie(e).fold(St(t),n=>rf(n)==="true"),rf=e=>e.dom.contentEditable,_s=(e,t)=>{e.dom.contentEditable=t?"true":"false"},od=(e,t)=>_o(Da(e),t),Ua=(e,t)=>{let n=[];return nt(Da(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(Ua(s,t))}),n},mn=(e,t)=>rl(t,e),bu=(e,t,n)=>lr(e,t,n).isSome(),c0=(e,t)=>yg(e,t).isSome(),am=(e,t)=>il(e,t).isSome(),cp=(e,t,n)=>gu(e,t,n).isSome(),Ma=e=>Xt(e)?e:Ao,xu=(e,t,n)=>{let s=e.dom;const i=Ma(n);for(;s.parentNode;){s=s.parentNode;const c=ue.fromDom(s),u=t(c);if(u.isSome())return u;if(i(c))break}return z.none()},dp=(e,t,n)=>{const s=t(e),i=Ma(n);return s.orThunk(()=>i(e)?z.none():xu(e,t,i))},af=e=>Hs(e).filter(t=>t.trim().length!==0||t.indexOf(Ls)>-1).isSome(),nd=e=>Dl(e)&&Oa(e,"contenteditable")==="false",Nl=["img","br"],Ih=e=>af(e)||on(Nl,Ro(e))||nd(e),lf=e=>il(e,Ih),$i={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},Rl=ka.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ax=(e,t,n,s)=>e.fold(t,n,s),Id=e=>e.fold(Tn,Tn,Tn),g_=Rl.before,im=Rl.on,cf=Rl.after,cl={before:g_,on:im,after:cf,cata:ax,getStart:Id},Lh=ka.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),wg=e=>Lh.exact(e.start,e.soffset,e.finish,e.foffset),h_=e=>e.match({domRange:t=>ue.fromDom(t.startContainer),relative:(t,n)=>cl.getStart(t),exact:(t,n,s,i)=>t}),d0=Lh.domRange,gr=Lh.relative,D2=Lh.exact,Dc=e=>{const t=h_(e);return Nd(t)},lm=$i.create,df={domRange:d0,relative:gr,exact:D2,exactFromRange:wg,getWin:Dc,range:lm},uf=(e,t,n)=>{var s;return z.from((s=e.caretPositionFromPoint)===null||s===void 0?void 0:s.call(e,t,n)).bind(i=>{if(i.offsetNode===null)return z.none();const c=e.createRange();return c.setStart(i.offsetNode,i.offset),c.collapse(),z.some(c)})},dl=(e,t,n)=>{var s;return z.from((s=e.caretRangeFromPoint)===null||s===void 0?void 0:s.call(e,t,n))},cm=(e,t,n)=>e.caretPositionFromPoint?uf(e,t,n):e.caretRangeFromPoint?dl(e,t,n):z.none(),Cg=(e,t,n)=>{const s=e.document;return cm(s,t,n).map(i=>$i.create(ue.fromDom(i.startContainer),i.startOffset,ue.fromDom(i.endContainer),i.endOffset))},Fh=(e,t)=>{const n=Ro(e);return n==="input"?cl.after(e):on(["br","img"],n)?t===0?cl.before(e):cl.after(e):cl.on(e,t)},zh=(e,t)=>{const n=e.fold(cl.before,Fh,cl.after),s=t.fold(cl.before,Fh,cl.after);return df.relative(n,s)},u0=(e,t,n,s)=>{const i=Fh(e,t),c=Fh(n,s);return df.relative(i,c)},m0=e=>e.match({domRange:t=>{const n=ue.fromDom(t.startContainer),s=ue.fromDom(t.endContainer);return u0(n,t.startOffset,s,t.endOffset)},relative:zh,exact:u0}),O2=e=>{const t=df.getWin(e).dom,n=(i,c,u,g)=>To(t,i,c,u,g),s=m0(e);return ba(t,s).match({ltr:n,rtl:n})},N2=(e,t,n)=>Cg(e,t,n),f0=e=>{const t=e===void 0?window:e;return Jn().browser.isFirefox()?z.none():z.from(t.visualViewport)},dm=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),ac=e=>{const t=e===void 0?window:e,n=t.document,s=Pd(ue.fromDom(n));return f0(t).fold(()=>{const i=t.document.documentElement,c=i.clientWidth,u=i.clientHeight;return dm(s.left,s.top,c,u)},i=>dm(Math.max(i.pageLeft,s.left),Math.max(i.pageTop,s.top),i.width,i.height))};class Ys{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,i){if(t){if(!i&&t[n])return t[n];if(t!==this.rootNode){let c=t[s];if(c)return c;for(let u=t.parentNode;u&&u!==this.rootNode;u=u.parentNode)if(c=u[s],c)return c}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let c=s.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return s}const i=t.parentNode;if(i&&i!==this.rootNode)return i}}}const up=/^[ \t\r\n]*$/,mp=e=>up.test(e),p0=e=>{for(const t of e)if(!ga(t))return!1;return!0},g0=e=>" \f	\v".indexOf(e)!==-1,Hh=e=>e===`
`||e==="\r",h0=(e,t)=>t<e.length&&t>=0?Hh(e[t]):!1,Vh=(e,t=4,n=!0,s=!0)=>{const i=Xl(" ",t),c=e.replace(/\t/g,i);return ws(c,(g,v)=>g0(v)||v===Ls?g.pcIsSpace||g.str===""&&n||g.str.length===c.length-1&&s||h0(c,g.str.length+1)?{pcIsSpace:!1,str:g.str+Ls}:{pcIsSpace:!0,str:g.str+" "}:{pcIsSpace:Hh(v),str:g.str+v},{pcIsSpace:!1,str:""}).str},um=e=>t=>!!t&&t.nodeType===e,_g=e=>!!e&&!Object.getPrototypeOf(e),Wt=um(1),pi=e=>Wt(e)&&Dl(ue.fromDom(e)),$h=e=>Wt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",fp=e=>{const t=e.toLowerCase();return n=>Ke(n)&&n.nodeName.toLowerCase()===t},Oc=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return on(t,s)}return!1}},kg=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(Wt(s)){const i=s.ownerDocument.defaultView;if(i)for(let c=0;c<n.length;c++){const u=i.getComputedStyle(s,null);if((u?u.getPropertyValue(e):null)===n[c])return!0}}return!1}},b0=e=>t=>Wt(t)&&t.hasAttribute(e),vu=e=>Wt(e)&&e.hasAttribute("data-mce-bogus"),R2=e=>Wt(e)&&e.getAttribute("data-mce-bogus")==="all",yu=e=>Wt(e)&&e.tagName==="TABLE",Uh=e=>t=>!!(pi(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Ld=Oc(["textarea","input"]),_t=um(3),fn=um(4),ul=um(7),Ml=um(8),mf=um(9),ms=um(11),or=fp("br"),ix=fp("img"),pp=fp("a"),ic=Uh("true"),Ts=Uh("false"),Zh=e=>pi(e)&&e.isContentEditable&&Ke(e.parentElement)&&!e.parentElement.isContentEditable,sd=Oc(["td","th"]),lx=Oc(["td","th","caption"]),lc=Oc(["video","audio","object","embed"]),x0=fp("li"),jh=fp("details"),cx=fp("summary"),v0={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},dx=(e,t,n)=>{const s=ue.fromDom(t),i=ue.fromDom(e),c=n.getWhitespaceElements();return bu(i,g=>Jt(c,Ro(g)),je(yn,s))},Wh=e=>Wt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),qh=(e,t)=>Wt(e)&&Jt(t.getNonEmptyElements(),e.nodeName),ff=b0("data-mce-bookmark"),Gh=e=>Qm(ue.fromDom(e)).exists(t=>!ti(t)),y0=(e,t,n)=>mp(e.data)&&!dx(e,t,n),w0=(e,t,n,s)=>_t(e)&&!y0(e,t,n)&&(!s.includeZwsp||!p0(e.data)),Za=(e,t,n,s)=>Xt(s.isContent)&&s.isContent(t)||qh(t,e)||ff(t)||Wh(t)||w0(t,n,e,s)||Ts(t)||ic(t)&&Gh(t),Bl=(e,t,n)=>{const s={...v0,...n};if(s.checkRootAsContent&&Za(e,t,t,s))return!1;let i=t.firstChild,c=0;if(!i)return!0;const u=new Ys(i,t);do{if(s.skipBogus&&Wt(i)){const g=i.getAttribute("data-mce-bogus");if(g){i=u.next(g==="all");continue}}if(Ml(i)){i=u.next(!0);continue}if(or(i)){c++,i=u.next();continue}if(Za(e,i,t,s))return!1;i=u.next()}while(i);return c<=1},Ai=(e,t,n)=>Bl(e,t.dom,{checkRootAsContent:!0,...n}),M2=(e,t,n)=>Za(e,t,t,{includeZwsp:v0.includeZwsp,...n}),B2=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},gp=e=>B2(e)!=="html",C0=e=>gp(e.nodeName),ux=e=>B2(e.nodeName),_0=["svg","math"],gi=()=>{const e=nl(),t=()=>e.get().map(ux).getOr("html");return{track:i=>(C0(i)?e.set(i):e.get().exists(c=>!c.contains(i))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Ui="data-mce-block",Nc=e=>_o(Fr(e),t=>!/[A-Z]/.test(t)),Sg=e=>Xo(Nc(e),t=>{const n=CSS.escape(t);return`${n}:`+Xo(_0,s=>`not(${s} ${n})`).join(":")}).join(","),k0=(e,t)=>Ke(t.querySelector(e))?(t.setAttribute(Ui,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Ui),!1),P2=(e,t)=>{const n=Sg(e.getTransparentElements()),s=Sg(e.getBlockElements());return _o(t.querySelectorAll(n),i=>k0(s,i))},S0=(e,t,n)=>{var s;const i=n?"lastChild":"firstChild";for(let c=t[i];c;c=c[i])if(Bl(e,c,{checkRootAsContent:!0})){(s=c.parentNode)===null||s===void 0||s.removeChild(c);return}},mx=(e,t,n)=>{const s=document.createRange(),i=t.parentNode;if(i){s.setStartBefore(t),s.setEndBefore(n);const c=s.extractContents();S0(e,c,!0),s.setStartAfter(n),s.setEndAfter(t);const u=s.extractContents();S0(e,u,!1),Bl(e,c,{checkRootAsContent:!0})||i.insertBefore(c,t),Bl(e,n,{checkRootAsContent:!0})||i.insertBefore(n,t),Bl(e,u,{checkRootAsContent:!0})||i.insertBefore(u,t),i.removeChild(t)}},b_=(e,t,n)=>{const s=e.getBlockElements(),i=ue.fromDom(t),c=g=>Ro(g)in s,u=g=>yn(g,i);nt(Po(n),g=>{lr(g,c,u).each(v=>{const S=od(g,O=>c(O)&&!e.isValidChild(Ro(v),Ro(O)));if(S.length>0){const O=Qm(v);nt(S,M=>{lr(M,c,u).each(I=>{mx(e,I.dom,M.dom)})}),O.each(M=>P2(e,M.dom))}})})},fx=(e,t,n)=>{nt([...n,...wu(e,t)?[t]:[]],s=>nt(mn(ue.fromDom(s),s.nodeName.toLowerCase()),i=>{gx(e,i.dom)&&R(i)}))},hp=(e,t)=>{const n=P2(e,t);b_(e,t,n),fx(e,t,n)},I2=(e,t)=>{if(rd(e,t)){const n=Sg(e.getBlockElements());k0(n,t)}},px=(e,t,n)=>{const s=c=>yn(c,ue.fromDom(t)),i=Dh(ue.fromDom(n),s);nr(i,i.length-2).filter(pr).fold(()=>hp(e,t),c=>hp(e,c.dom))},Kh=e=>e.hasAttribute(Ui),es=(e,t)=>Jt(e.getTransparentElements(),t),rd=(e,t)=>Wt(t)&&es(e,t.nodeName),wu=(e,t)=>rd(e,t)&&Kh(t),gx=(e,t)=>rd(e,t)&&!Kh(t),Yh=(e,t)=>t.type===1&&es(e,t.name)&&Ue(t.attr(Ui)),E0=Jn().browser,A0=e=>js(e,pr),hx=e=>E0.isFirefox()&&Ro(e)==="table"?A0(Da(e)).filter(t=>Ro(t)==="caption").bind(t=>A0(Ec(t)).map(n=>{const s=n.dom.offsetTop,i=t.dom.offsetTop,c=t.dom.offsetHeight;return s<=i?-c:0})).getOr(0):0,bx=(e,t)=>e.children&&on(e.children,t),xx=(e,t,n)=>{let s=0,i=0;const c=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&sc(ue.fromDom(e),"position")==="static"){const g=t.getBoundingClientRect();return s=g.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,i=g.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:s,y:i}}let u=t;for(;u&&u!==n&&u.nodeType&&!bx(u,n);){const g=u;s+=g.offsetLeft||0,i+=g.offsetTop||0,u=g.offsetParent}for(u=t.parentNode;u&&u!==n&&u.nodeType&&!bx(u,n);)s-=u.scrollLeft||0,i-=u.scrollTop||0,u=u.parentNode;i+=hx(ue.fromDom(t))}return{x:s,y:i}},ml=(e,t={})=>{let n=0;const s={},i=ue.fromDom(e),c=uu(i),u=ge=>{t.referrerPolicy=ge},g=ge=>{t.contentCssCors=ge},v=ge=>{Zn(vs(i),ge)},S=ge=>{const _e=vs(i);Cr(_e,"#"+ge).each(k)},O=ge=>kn(s,ge).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),M=ge=>new Promise((_e,Be)=>{let $e;const dt=Dt._addCacheSuffix(ge),Et=O(dt);s[dt]=Et,Et.count++;const Gt=(Zt,io)=>{nt(Zt,Oo),Et.status=io,Et.passed=[],Et.failed=[],$e&&($e.onload=null,$e.onerror=null,$e=null)},Qe=()=>Gt(Et.passed,2),qe=()=>Gt(Et.failed,3);if(_e&&Et.passed.push(_e),Be&&Et.failed.push(Be),Et.status===1)return;if(Et.status===2){Qe();return}if(Et.status===3){qe();return}Et.status=1;const mt=ue.fromTag("link",c.dom);nc(mt,{rel:"stylesheet",type:"text/css",id:Et.id}),t.contentCssCors&&$r(mt,"crossOrigin","anonymous"),t.referrerPolicy&&$r(mt,"referrerpolicy",t.referrerPolicy),$e=mt.dom,$e.onload=Qe,$e.onerror=qe,v(mt),$r(mt,"href",dt)}),I=(ge,_e)=>{const Be=O(ge);s[ge]=Be,Be.count++;const $e=ue.fromTag("style",c.dom);nc($e,{rel:"stylesheet",type:"text/css",id:Be.id,"data-mce-key":ge}),$e.dom.innerHTML=_e,v($e)},j=ge=>Promise.allSettled(Xo(ge,Be=>M(Be).then(St(Be)))).then(Be=>{const $e=xr(Be,dt=>dt.status==="fulfilled");return $e.fail.length>0?Promise.reject(Xo($e.fail,dt=>dt.reason)):Xo($e.pass,dt=>dt.value)}),J=ge=>{const _e=Dt._addCacheSuffix(ge);kn(s,_e).each(Be=>{--Be.count===0&&(delete s[_e],S(Be.id))})};return{load:M,loadRawCss:I,loadAll:j,unload:J,unloadRawCss:ge=>{kn(s,ge).each(_e=>{--_e.count===0&&(delete s[ge],S(_e.id))})},unloadAll:ge=>{nt(ge,_e=>{J(_e)})},_setReferrerPolicy:u,_setContentCssCors:g}},ja=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const c=ed(n).dom;return z.from(e.get(c)).getOrThunk(()=>{const u=ml(c,s);return e.set(c,u),u})}}})(),pf=e=>e.nodeName.toLowerCase()==="span",Xh=(e,t)=>Ke(e)&&(M2(t,e)||t.isInline(e.nodeName.toLowerCase())),yx=(e,t,n)=>{const s=new Ys(e,t).prev(!1),i=new Ys(e,t).next(!1),c=bn(s)||Xh(s,n),u=bn(i)||Xh(i,n);return c&&u},T0=e=>pf(e)&&e.getAttribute("data-mce-type")==="bookmark",wx=(e,t,n)=>_t(e)&&e.data.length>0&&yx(e,t,n),L2=e=>Wt(e)?e.childNodes.length>0:!1,F2=e=>ms(e)||mf(e),D0=(e,t,n,s)=>{var i;const c=s||t;if(Wt(t)&&T0(t))return t;const u=t.childNodes;for(let g=u.length-1;g>=0;g--)D0(e,u[g],n,c);if(Wt(t)){const g=t.childNodes;g.length===1&&T0(g[0])&&((i=t.parentNode)===null||i===void 0||i.insertBefore(g[0],t))}return!F2(t)&&!M2(n,t)&&!L2(t)&&!wx(t,c,n)&&e.remove(t),t},z2=Dt.makeMap,va=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fd=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,H2=/[<>&\"\']/g,V2=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,$2={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},mm={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Cx={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},U2=e=>{const t=ue.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},jr=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let i=0;i<s.length;i+=2){const c=String.fromCharCode(parseInt(s[i],t));if(!mm[c]){const u="&"+s[i+1]+";";n[c]=u,n[u]=c}}return n}else return},Br=jr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Wa=(e,t)=>e.replace(t?va:Fd,n=>mm[n]||n),oi=e=>(""+e).replace(H2,t=>mm[t]||t),ya=(e,t)=>e.replace(t?va:Fd,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":mm[n]||"&#"+n.charCodeAt(0)+";"),Pr=(e,t,n)=>{const s=n||Br;return e.replace(t?va:Fd,i=>mm[i]||s[i]||i)},fm={encodeRaw:Wa,encodeAllRaw:oi,encodeNumeric:ya,encodeNamed:Pr,getEncodeFunc:(e,t)=>{const n=jr(t)||Br,s=(u,g)=>u.replace(g?va:Fd,v=>mm[v]!==void 0?mm[v]:n[v]!==void 0?n[v]:v.length>1?"&#"+((v.charCodeAt(0)-55296)*1024+(v.charCodeAt(1)-56320)+65536)+";":"&#"+v.charCodeAt(0)+";"),i=(u,g)=>Pr(u,g,n),c=z2(e.replace(/\+/g,","));return c.named&&c.numeric?s:c.named?t?i:Pr:c.numeric?ya:Wa},decode:e=>e.replace(V2,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):$2[n]||String.fromCharCode(n)):Cx[t]||Br[t]||U2(t))},ni=(e,t)=>(e=Dt.trim(e),e?e.split(t||" "):[]),Qh=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Jh=e=>ne(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Sx=e=>{const t=n=>pe(n)?Xo(n,t):Jh(n)?new RegExp(n.source,n.flags):ne(n)?jn(n,t):n;return t(e)},O0=e=>{const t=/^(~)?(.+)$/;return na(ni(e,","),n=>{const s=t.exec(n);if(s){const c=s[1]==="~"?"span":"div",u=s[2];return[{cloneName:c,name:u}]}else return[]})},Pl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),pm=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:s}},Cu=e=>{const{blockContent:t,phrasingContent:n,flowContent:s}=pm(e),i=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:i(t),phrasingContent:i(n),flowContent:i(s)})},Ex={html4:ir(()=>Cu("html4")),html5:ir(()=>Cu("html5")),"html5-strict":ir(()=>Cu("html5-strict"))},Ax=(e,t)=>{const{blockContent:n,phrasingContent:s,flowContent:i}=Ex[e]();return t==="blocks"?z.some(n):t==="phrasing"?z.some(s):t==="flow"?z.some(i):z.none()},Tx=e=>{const t=Pl(e),{phrasingContent:n,flowContent:s}=pm(e),i={},c=(v,S,O)=>{i[v]={attributes:Ya(S,St({})),attributesOrder:S,children:Ya(O,St({}))}},u=(v,S="",O="")=>{const M=ni(O),I=ni(v);let j=I.length;const J=[...t,...ni(S)];for(;j--;)c(I[j],J.slice(),M)},g=(v,S)=>{const O=ni(v),M=ni(S);let I=O.length;for(;I--;){const j=i[O[I]];for(let J=0,G=M.length;J<G;J++)j.attributes[M[J]]={},j.attributesOrder.push(M[J])}};return e!=="html5-strict"&&(nt(ni("acronym applet basefont big font strike tt"),O=>{u(O,"",n)}),nt(ni("center dir isindex noframes"),O=>{u(O,"",s)})),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),u("dd div","",s),u("address dt caption","",e==="html4"?n:s),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),u("blockquote","cite",s),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",s),u("dl","","dt dd"),u("a","href target rel media hreflang type",e==="html4"?n:s),u("q","cite",n),u("ins del","cite datetime",s),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",s),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),u("param","name value"),u("map","name",[s,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",s),u("th","colspan rowspan headers scope abbr",s),u("form","accept-charset action autocomplete enctype method name novalidate target",s),u("fieldset","disabled form name",[s,"legend"].join(" ")),u("label","form for",n),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:n),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[s,"li"].join(" ")),u("noscript","",s),e!=="html4"&&(u("wbr"),u("ruby","",[n,"rt rp"].join(" ")),u("figcaption","",s),u("mark rt rp bdi","",n),u("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),u("canvas","width height",s),u("data","value",n),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[n,"option"].join(" ")),u("article section nav aside main header footer","",s),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[s,"figcaption"].join(" ")),u("time","datetime",n),u("dialog","open",s),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",n),u("progress","value max",n),u("meter","value min max low high optimum",n),u("details","open",[s,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(g("script","language xml:space"),g("style","xml:space"),g("object","declare classid code codebase codetype archive standby align border hspace vspace"),g("embed","align name hspace vspace"),g("param","valuetype type"),g("a","charset name rev shape coords"),g("br","clear"),g("applet","codebase archive code object alt name width height align hspace vspace"),g("img","name longdesc align border hspace vspace"),g("iframe","longdesc frameborder marginwidth marginheight scrolling align"),g("font basefont","size color face"),g("input","usemap align"),g("select"),g("textarea"),g("h1 h2 h3 h4 h5 h6 div p legend caption","align"),g("ul","type compact"),g("li","type"),g("ol dl menu dir","compact"),g("pre","width xml:space"),g("hr","align noshade size width"),g("isindex","prompt"),g("table","summary width frame rules cellspacing cellpadding align bgcolor"),g("col","width align char charoff valign"),g("colgroup","width align char charoff valign"),g("thead","align char charoff valign"),g("tr","align char charoff valign bgcolor"),g("th","axis align char charoff valign nowrap bgcolor width height"),g("form","accept"),g("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),g("tfoot","align char charoff valign"),g("tbody","align char charoff valign"),g("area","nohref"),g("body","background bgcolor text link vlink alink")),e!=="html4"&&(g("input button select textarea","autofocus"),g("input textarea","placeholder"),g("a","download"),g("link script img","crossorigin"),g("img","loading"),g("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&nt([i.video,i.audio],v=>{delete v.children.audio,delete v.children.video}),nt(ni("a form meter progress dfn"),v=>{i[v]&&delete i[v].children[v]}),delete i.caption.children.table,delete i.script,i},N0=e=>e==="-"?"remove":"add",e1=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return z.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},t1=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return na(ni(e,","),n=>{const s=t.exec(n);if(s){const i=s[1],c=i?N0(i):"replace",u=s[2],g=na(ni(s[3],"|"),v=>e1(v).toArray());return[{operation:c,name:u,validChildren:g}]}else return[]})},Eg=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:i,attributesOrder:c}=t;return nt(ni(e,"|"),u=>{const g=n.exec(u);if(g){const v={},S=g[1],O=g[2].replace(/[\\:]:/g,":"),M=g[3],I=g[4];if(S==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(O),v.required=!0),S==="-"){delete i[O],c.splice(Dt.inArray(c,O),1);return}if(M&&(M==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:O,value:I}),v.defaultValue=I):M==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:O,value:I}),v.forcedValue=I):M==="<"&&(v.validValues=Dt.makeMap(I,"?"))),s.test(O)){const j=v;t.attributePatterns=t.attributePatterns||[],j.pattern=Qh(O),t.attributePatterns.push(j)}else i[O]||c.push(O),i[O]=v}})},o1=(e,t)=>{Un(e.attributes,(n,s)=>{t.attributes[s]=n}),t.attributesOrder.push(...e.attributesOrder)},Ag=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return na(ni(t,","),s=>{const i=n.exec(s);if(i){const c=i[1],u=i[2],g=i[3],v=i[4],S=i[5],O={attributes:{},attributesOrder:[]};if(e.each(M=>o1(M,O)),c==="#"?O.paddEmpty=!0:c==="-"&&(O.removeEmpty=!0),v==="!"&&(O.removeEmptyAttrs=!0),S&&Eg(S,O),g&&(O.outputName=u),u==="@")if(e.isNone())e=z.some(O);else return[];return[g?{name:u,element:O,aliasName:g}:{name:u,element:O}]}else return[]})},_u={},Zi=Dt.makeMap,Il=Dt.each,n1=Dt.extend,R0=Dt.explode,Z2=(e,t={})=>{const n=Zi(e," ",Zi(e.toUpperCase()," "));return n1(n,t)},Dx=e=>Z2("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Ox=(e,t)=>{if(e){const n={};return Ue(e)&&(e={"*":e}),Il(e,(s,i)=>{n[i]=n[i.toUpperCase()]=t==="map"?Zi(s,/[, ]/):R0(s,/[, ]/)}),n}else return},gf=(e={})=>{var t;const n={},s={};let i=[];const c={},u={},g=(fo,An,Qr)=>{const ii=e[fo];if(ii)return Zi(ii,/[, ]/,Zi(ii.toUpperCase(),/[, ]/));{let yi=_u[fo];return yi||(yi=Z2(An,Qr),_u[fo]=yi),yi}},v=(t=e.schema)!==null&&t!==void 0?t:"html5",S=Tx(v);e.verify_html===!1&&(e.valid_elements="*[*]");const O=Ox(e.valid_styles),M=Ox(e.invalid_styles,"map"),I=Ox(e.valid_classes,"map"),j=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),J=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),G=g("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),se=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ge="td th iframe video audio object script code",_e=g("non_empty_elements",ge+" pre svg textarea summary",G),Be=g("move_caret_before_on_enter_elements",ge+" table",G),$e="h1 h2 h3 h4 h5 h6",dt=g("text_block_elements",$e+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Et=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",dt),Gt=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Qe=g("transparent_elements","a ins del canvas map"),qe=g("wrap_block_elements","pre "+$e);Il("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),fo=>{u[fo]=new RegExp("</"+fo+"[^>]*>","gi")});const mt=fo=>{const An=z.from(n["@"]),Qr=/[*?+]/;nt(Ag(An,fo??""),({name:ii,element:yi,aliasName:Ka})=>{if(Ka&&(n[Ka]=yi),Qr.test(ii)){const Er=yi;Er.pattern=Qh(ii),i.push(Er)}else n[ii]=yi})},Zt=fo=>{i=[],nt(Fr(n),An=>{delete n[An]}),mt(fo)},io=(fo,An)=>{var Qr,ii;delete _u.text_block_elements,delete _u.block_elements;const yi=An.extends?!hc(An.extends):!1,Ka=An.extends;if(s[fo]=Ka?s[Ka]:{},c[fo]=Ka??fo,_e[fo.toUpperCase()]={},_e[fo]={},yi||(Et[fo.toUpperCase()]={},Et[fo]={}),Ka&&!n[fo]&&n[Ka]){const Er=Sx(n[Ka]);delete Er.removeEmptyAttrs,delete Er.removeEmpty,n[fo]=Er}else n[fo]={attributesOrder:[],attributes:{}};if(pe(An.attributes)){const Er=Vc=>{Ar.attributesOrder.push(Vc),Ar.attributes[Vc]={}},Ar=(Qr=n[fo])!==null&&Qr!==void 0?Qr:{};delete Ar.attributesDefault,delete Ar.attributesForced,delete Ar.attributePatterns,delete Ar.attributesRequired,Ar.attributesOrder=[],Ar.attributes={},nt(An.attributes,Vc=>{const $f=Pl(v);e1(Vc).each(({preset:Ch,name:og})=>{Ch?og==="global"&&nt($f,Er):Er(og)})}),n[fo]=Ar}if(is(An.padEmpty)){const Er=(ii=n[fo])!==null&&ii!==void 0?ii:{};Er.paddEmpty=An.padEmpty,n[fo]=Er}if(pe(An.children)){const Er={},Ar=$f=>{Er[$f]={}},Vc=$f=>{Ax(v,$f).each(Ch=>{nt(Ch,Ar)})};nt(An.children,$f=>{e1($f).each(({preset:Ch,name:og})=>{Ch?Vc(og):Ar(og)})}),s[fo]=Er}Ka&&Un(s,(Er,Ar)=>{Er[Ka]&&(s[Ar]=Er=n1({},s[Ar]),Er[fo]=Er[Ka])})},en=fo=>{nt(O0(fo??""),({name:An,cloneName:Qr})=>{io(An,{extends:Qr})})},sn=fo=>{ne(fo)?Un(fo,(An,Qr)=>io(Qr,An)):Ue(fo)&&en(fo)},Vn=fo=>{nt(t1(fo??""),({operation:An,name:Qr,validChildren:ii})=>{const yi=An==="replace"?{"#comment":{}}:s[Qr],Ka=Ar=>{An==="remove"?delete yi[Ar]:yi[Ar]={}},Er=Ar=>{Ax(v,Ar).each(Vc=>{nt(Vc,Ka)})};nt(ii,({preset:Ar,name:Vc})=>{Ar?Er(Vc):Ka(Vc)}),s[Qr]=yi})},hs=fo=>{const An=n[fo];if(An)return An;let Qr=i.length;for(;Qr--;){const ii=i[Qr];if(ii.pattern.test(fo))return ii}},ma=()=>{e.valid_elements?(Zt(e.valid_elements),Il(S,(fo,An)=>{s[An]=fo.children})):(Il(S,(fo,An)=>{n[An]={attributes:fo.attributes,attributesOrder:fo.attributesOrder},s[An]=fo.children}),Il(ni("strong/b em/i"),fo=>{const An=ni(fo,"/");n[An[1]].outputName=An[0]}),Il(Gt,(fo,An)=>{n[An]&&(e.padd_empty_block_inline_children&&(n[An].paddInEmptyBlock=!0),n[An].removeEmpty=!0)}),Il(ni("ol ul blockquote a table tbody"),fo=>{n[fo]&&(n[fo].removeEmpty=!0)}),Il(ni("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),fo=>{n[fo]&&(n[fo].paddEmpty=!0)}),Il(ni("span"),fo=>{n[fo].removeEmptyAttrs=!0})),delete n.svg,sn(e.custom_elements),Vn(e.valid_children),mt(e.extended_valid_elements),Vn("+ol[ul|ol],+ul[ul|ol]"),Il({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(fo,An)=>{n[An]&&(n[An].parentsRequired=ni(fo))}),e.invalid_elements&&Il(R0(e.invalid_elements),fo=>{n[fo]&&delete n[fo]}),hs("span")||mt("span[!data-mce-type|*]")},ai=St(O),vi=St(M),It=St(I),ao=St(se),zn=St(Et),$n=St(dt),it=St(Gt),At=St(Object.seal(G)),so=St(J),rn=St(_e),cn=St(Be),rs=St(j),Vm=St(Qe),wh=St(qe),zc=St(Object.seal(u)),Vf=(fo,An)=>{const Qr=s[fo.toLowerCase()];return!!(Qr&&Qr[An.toLowerCase()])},ju=(fo,An)=>{const Qr=hs(fo);if(Qr)if(An){if(Qr.attributes[An])return!0;const ii=Qr.attributePatterns;if(ii){let yi=ii.length;for(;yi--;)if(ii[yi].pattern.test(An))return!0}}else return!0;return!1},hc=fo=>Jt(zn(),fo),Hc=fo=>!ar(fo,"#")&&ju(fo)&&!hc(fo),$m=fo=>Jt(wh(),fo)||Hc(fo),Yb=St(c);return ma(),{type:v,children:s,elements:n,getValidStyles:ai,getValidClasses:It,getBlockElements:zn,getInvalidStyles:vi,getVoidElements:At,getTextBlockElements:$n,getTextInlineElements:it,getBoolAttrs:ao,getElementRule:hs,getSelfClosingElements:so,getNonEmptyElements:rn,getMoveCaretBeforeOnEnterElements:cn,getWhitespaceElements:rs,getTransparentElements:Vm,getSpecialElements:zc,isValidChild:Vf,isValid:ju,isBlock:hc,isInline:Hc,isWrapper:$m,getCustomElements:Yb,addValidElements:mt,setValidElements:Zt,addCustomElements:sn,addValidChildren:Vn}},hf=e=>({value:Nx(e)}),Nx=e=>Yl(e,"#").toUpperCase(),gm=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},M0=e=>{const t=gm(e.red)+gm(e.green)+gm(e.blue);return hf(t)},zd=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Tg=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,j2=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),hi=(e,t,n,s)=>{const i=parseInt(e,10),c=parseInt(t,10),u=parseInt(n,10),g=parseFloat(s);return j2(i,c,u,g)},Rc=e=>zd.test(e)?"rgb":Tg.test(e)?"rgba":"other",Ti=e=>{const t=zd.exec(e);if(t!==null)return z.some(hi(t[1],t[2],t[3],"1"));const n=Tg.exec(e);return n!==null?z.some(hi(n[1],n[2],n[3],n[4])):z.none()},Dg=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,cc=e=>Ti(e).map(M0).map(t=>"#"+t.value).getOr(e),Qo=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,c={};let u,g;const v=Ea;t&&(u=t.getValidStyles(),g=t.getInvalidStyles());const S=(`\\" \\' \\; \\: ; : `+v).split(" ");for(let M=0;M<S.length;M++)c[S[M]]=v+M,c[v+M]=S[M];const O={parse:M=>{const I={};let j=!1;const J=e.url_converter,G=e.url_converter_scope||O,se=(Qe,qe,mt)=>{const Zt=I[Qe+"-top"+qe];if(!Zt)return;const io=I[Qe+"-right"+qe];if(!io)return;const en=I[Qe+"-bottom"+qe];if(!en)return;const sn=I[Qe+"-left"+qe];if(!sn)return;const Vn=[Zt,io,en,sn];let hs=Vn.length-1;for(;hs--&&Vn[hs]===Vn[hs+1];);hs>-1&&mt||(I[Qe+qe]=hs===-1?Vn[0]:Vn.join(" "),delete I[Qe+"-top"+qe],delete I[Qe+"-right"+qe],delete I[Qe+"-bottom"+qe],delete I[Qe+"-left"+qe])},ge=Qe=>{const qe=I[Qe];if(!qe)return;const mt=qe.indexOf(",")>-1?[qe]:qe.split(" ");let Zt=mt.length;for(;Zt--;)if(mt[Zt]!==mt[0])return!1;return I[Qe]=mt[0],!0},_e=(Qe,qe,mt,Zt)=>{ge(qe)&&ge(mt)&&ge(Zt)&&(I[Qe]=I[qe]+" "+I[mt]+" "+I[Zt],delete I[qe],delete I[mt],delete I[Zt])},Be=Qe=>(j=!0,c[Qe]),$e=(Qe,qe)=>(j&&(Qe=Qe.replace(/\uFEFF[0-9]/g,mt=>c[mt])),qe||(Qe=Qe.replace(/\\([\'\";:])/g,"$1")),Qe),dt=Qe=>String.fromCharCode(parseInt(Qe.slice(1),16)),Et=Qe=>Qe.replace(/\\[0-9a-f]+/gi,dt),Gt=(Qe,qe,mt,Zt,io,en)=>{if(io=io||en,io)return io=$e(io),"'"+io.replace(/\'/g,"\\'")+"'";if(qe=$e(qe||mt||Zt||""),!e.allow_script_urls){const sn=qe.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(sn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(sn))return""}return J&&(qe=J.call(G,qe,"style")),"url('"+qe.replace(/\'/g,"\\'")+"')"};if(M){M=M.replace(/[\u0000-\u001F]/g,""),M=M.replace(/\\[\"\';:\uFEFF]/g,Be).replace(/\"[^\"]+\"|\'[^\']+\'/g,qe=>qe.replace(/[;:]/g,Be));let Qe;for(;Qe=s.exec(M);){s.lastIndex=Qe.index+Qe[0].length;let qe=Qe[1].replace(i,"").toLowerCase(),mt=Qe[2].replace(i,"");if(qe&&mt){if(qe=Et(qe),mt=Et(mt),qe.indexOf(v)!==-1||qe.indexOf('"')!==-1||!e.allow_script_urls&&(qe==="behavior"||/expression\s*\(|\/\*|\*\//.test(mt)))continue;qe==="font-weight"&&mt==="700"?mt="bold":(qe==="color"||qe==="background-color")&&(mt=mt.toLowerCase()),Rc(mt)==="rgb"&&Ti(mt).each(Zt=>{mt=cc(Dg(Zt)).toLowerCase()}),mt=mt.replace(n,Gt),I[qe]=j?$e(mt,!0):mt}}se("border","",!0),se("border","-width"),se("border","-color"),se("border","-style"),se("padding",""),se("margin",""),_e("border","border-width","border-style","border-color"),I.border==="medium none"&&delete I.border,I["border-image"]==="none"&&delete I["border-image"]}return I},serialize:(M,I)=>{let j="";const J=(se,ge)=>{const _e=ge[se];if(_e)for(let Be=0,$e=_e.length;Be<$e;Be++){const dt=_e[Be],Et=M[dt];Et&&(j+=(j.length>0?" ":"")+dt+": "+Et+";")}},G=(se,ge)=>{if(!g||!ge)return!0;let _e=g["*"];return _e&&_e[se]?!1:(_e=g[ge],!(_e&&_e[se]))};return I&&u?(J("*",u),J(I,u)):Un(M,(se,ge)=>{se&&G(ge,I)&&(j+=(j.length>0?" ":"")+ge+": "+se+";")}),j}};return O},oo={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},bp=e=>e instanceof Event||Xt(e.initEvent),Rx=e=>e.isDefaultPrevented===Go||e.isDefaultPrevented===Ao,Mx=e=>qo(e.preventDefault)||bp(e),Og=(e,t)=>{const n=t??{};for(const s in e)Jt(oo,s)||(n[s]=e[s]);return Ke(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Ke(e.getModifierState)&&(n.getModifierState=s=>e.getModifierState(s)),Ke(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},Wn=(e,t,n,s)=>{var i;const c=Og(t,s);return c.type=e,qo(c.target)&&(c.target=(i=c.srcElement)!==null&&i!==void 0?i:n),Mx(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=Go,Xt(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=Go,Xt(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=Go,c.stopPropagation()},Rx(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?Go:Ao,c.isPropagationStopped=c.cancelBubble===!0?Go:Ao,c.isImmediatePropagationStopped=Ao)),c},bf="mce-data-",B0=/^(?:mouse|contextmenu)|click/,et=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},xp=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},s1=e=>Ke(e)&&B0.test(e.type),ku=(e,t)=>{const n=Wn(e.type,e,document,t);if(s1(e)&&bn(e.pageX)&&!bn(e.clientX)){const s=n.target.ownerDocument||document,i=s.documentElement,c=s.body,u=n;u.pageX=e.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),u.pageY=e.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0)}return n},Bx=(e,t,n)=>{const s=e.document,i={type:"ready"};if(n.domLoaded){t(i);return}const c=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,u=()=>{xp(e,"DOMContentLoaded",u),xp(e,"load",u),n.domLoaded||(n.domLoaded=!0,t(i)),e=null};c()?u():et(e,"DOMContentLoaded",u),n.domLoaded||et(e,"load",u)};class Ll{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=bf+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,i){const c=this;let u;const g=window,v=I=>{c.executeHandlers(ku(I||g.event),S)};if(!t||_t(t)||Ml(t))return s;let S;t[c.expando]?S=t[c.expando]:(S=c.count++,t[c.expando]=S,c.events[S]={}),i=i||t;const O=n.split(" ");let M=O.length;for(;M--;){let I=O[M],j=v,J=!1,G=!1;if(I==="DOMContentLoaded"&&(I="ready"),c.domLoaded&&I==="ready"&&t.readyState==="complete"){s.call(i,ku({type:I}));continue}!c.hasFocusIn&&(I==="focusin"||I==="focusout")&&(J=!0,G=I==="focusin"?"focus":"blur",j=se=>{const ge=ku(se||g.event);ge.type=ge.type==="focus"?"focusin":"focusout",c.executeHandlers(ge,S)}),u=c.events[S][I],u?I==="ready"&&c.domLoaded?s(ku({type:I})):u.push({func:s,scope:i}):(c.events[S][I]=u=[{func:s,scope:i}],u.fakeName=G,u.capture=J,u.nativeHandler=j,I==="ready"?Bx(t,j,c):et(t,G||I,j,J))}return t=u=null,s}unbind(t,n,s){if(!t||_t(t)||Ml(t))return this;const i=t[this.expando];if(i){let c=this.events[i];if(n){const u=n.split(" ");let g=u.length;for(;g--;){const v=u[g],S=c[v];if(S){if(s){let O=S.length;for(;O--;)if(S[O].func===s){const M=S.nativeHandler,I=S.fakeName,j=S.capture,J=S.slice(0,O).concat(S.slice(O+1));J.nativeHandler=M,J.fakeName=I,J.capture=j,c[v]=J}}(!s||S.length===0)&&(delete c[v],xp(t,S.fakeName||v,S.nativeHandler,S.capture))}}}else Un(c,(u,g)=>{xp(t,u.fakeName||g,u.nativeHandler,u.capture)}),c={};for(const u in c)if(Jt(c,u))return this;delete this.events[i];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||_t(t)||Ml(t))return this;const i=ku({type:n,target:t},s);do{const c=t[this.expando];c&&this.executeHandlers(i,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return this}clean(t){if(!t||_t(t)||Ml(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],i=s&&s[t.type];if(i)for(let c=0,u=i.length;c<u;c++){const g=i[c];if(g&&g.func.call(g.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Ll.Event=new Ll;const r1=Dt.each,hm=Dt.grep,ts="data-mce-style",ad=Dt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Ng=(e,t,n)=>{qo(n)||n===""?er(e,t):$r(e,t,n)},Hd=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),fl=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){const c=i.nodeType;t&&_t(i)&&(c===s||!i.data.length)||(n++,s=c)}return n},a1=(e,t)=>{const n=Oa(t,"style"),s=e.serialize(e.parse(n),Ro(t));Ng(t,ts,s)},x_=(e,t)=>A(e)?Jt(ad,t)?e+"":e+"px":e,Px=(e,t,n)=>{const s=Hd(t);qo(n)||n===""?Bh(e,s):Mr(e,s,x_(n,s))},pt=(e,t,n)=>{const s=t.keep_values,i={set:(u,g,v)=>{const S=ue.fromDom(u);Xt(t.url_converter)&&Ke(g)&&(g=t.url_converter.call(t.url_converter_scope||n(),String(g),v,u));const O="data-mce-"+v;Ng(S,O,g),Ng(S,v,g)},get:(u,g)=>{const v=ue.fromDom(u);return Oa(v,"data-mce-"+g)||Oa(v,g)}},c={style:{set:(u,g)=>{const v=ue.fromDom(u);s&&Ng(v,ts,g),er(v,"style"),Ue(g)&&pu(v,e.parse(g))},get:u=>{const g=ue.fromDom(u),v=Oa(g,ts)||Oa(g,"style");return e.serialize(e.parse(v),Ro(g))}}};return s&&(c.href=c.src=i),c},Ds=(e,t={})=>{const n={},s=window,i={};let c=0;const u=!0,g=!0,v=ja.forElement(ue.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),S=[],O=t.schema?t.schema:gf({}),M=Qo({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),I=t.ownEvents?new Ll:Ll.Event,j=O.getBlockElements(),J=ze=>Ue(ze)?Jt(j,ze):Wt(ze)&&(Jt(j,ze.nodeName)||wu(O,ze)),G=ze=>ze&&e&&Ue(ze)?e.getElementById(ze):ze,se=ze=>{const We=G(ze);return Ke(We)?ue.fromDom(We):null},ge=(ze,We,Pt="")=>{let Ot;const yo=se(ze);if(Ke(yo)&&pr(yo)){const Rn=M7[We];Rn&&Rn.get?Ot=Rn.get(yo.dom,We):Ot=Oa(yo,We)}return Ke(Ot)?Ot:Pt},_e=ze=>{const We=G(ze);return qo(We)?[]:We.attributes},Be=(ze,We,Pt)=>{ao(ze,Ot=>{if(Wt(Ot)){const yo=ue.fromDom(Ot),Rn=Pt===""?null:Pt,Jr=Oa(yo,We),ng=M7[We];ng&&ng.set?ng.set(yo.dom,Rn,We):Ng(yo,We,Rn),Jr!==Rn&&t.onSetAttrib&&t.onSetAttrib({attrElm:yo.dom,attrName:We,attrValue:Rn})}})},$e=(ze,We)=>ze.cloneNode(We),dt=()=>t.root_element||e.body,Et=ze=>{const We=ac(ze);return{x:We.x,y:We.y,w:We.width,h:We.height}},Gt=(ze,We)=>xx(e.body,G(ze),We),Qe=(ze,We,Pt)=>{ao(ze,Ot=>{const yo=ue.fromDom(Ot);Px(yo,We,Pt),t.update_styles&&a1(M,yo)})},qe=(ze,We)=>{ao(ze,Pt=>{const Ot=ue.fromDom(Pt);Un(We,(yo,Rn)=>{Px(Ot,Rn,yo)}),t.update_styles&&a1(M,Ot)})},mt=(ze,We,Pt)=>{const Ot=G(ze);if(!(qo(Ot)||!pi(Ot)&&!$h(Ot)))return Pt?sc(ue.fromDom(Ot),Hd(We)):(We=We.replace(/-(\D)/g,(yo,Rn)=>Rn.toUpperCase()),We==="float"&&(We="cssFloat"),Ot.style?Ot.style[We]:void 0)},Zt=ze=>{const We=G(ze);if(!We)return{w:0,h:0};let Pt=mt(We,"width"),Ot=mt(We,"height");return(!Pt||Pt.indexOf("px")===-1)&&(Pt="0"),(!Ot||Ot.indexOf("px")===-1)&&(Ot="0"),{w:parseInt(Pt,10)||We.offsetWidth||We.clientWidth,h:parseInt(Ot,10)||We.offsetHeight||We.clientHeight}},io=ze=>{const We=G(ze),Pt=Gt(We),Ot=Zt(We);return{x:Pt.x,y:Pt.y,w:Ot.w,h:Ot.h}},en=(ze,We)=>{if(!ze)return!1;const Pt=pe(ze)?ze:[ze];return Kn(Pt,Ot=>Tl(ue.fromDom(Ot),We))},sn=(ze,We,Pt,Ot)=>{const yo=[];let Rn=G(ze);Ot=Ot===void 0;const Jr=Pt||(dt().nodeName!=="BODY"?dt().parentNode:null);if(Ue(We))if(We==="*")We=Wt;else{const ng=We;We=Zf=>en(Zf,ng)}for(;Rn&&!(Rn===Jr||qo(Rn.nodeType)||mf(Rn)||ms(Rn));){if(!We||We(Rn))if(Ot)yo.push(Rn);else return[Rn];Rn=Rn.parentNode}return Ot?yo:null},Vn=(ze,We,Pt)=>{const Ot=sn(ze,We,Pt,!1);return Ot&&Ot.length>0?Ot[0]:null},hs=(ze,We,Pt)=>{let Ot=We;if(ze){Ue(We)&&(Ot=yo=>en(yo,We));for(let yo=ze[Pt];yo;yo=yo[Pt])if(Xt(Ot)&&Ot(yo))return yo}return null},ma=(ze,We)=>hs(ze,We,"nextSibling"),ai=(ze,We)=>hs(ze,We,"previousSibling"),vi=ze=>Xt(ze.querySelectorAll),It=(ze,We)=>{var Pt,Ot;const yo=(Ot=(Pt=G(We))!==null&&Pt!==void 0?Pt:t.root_element)!==null&&Ot!==void 0?Ot:e;return vi(yo)?xs(yo.querySelectorAll(ze)):[]},ao=function(ze,We,Pt){const Ot=Pt??this;if(pe(ze)){const yo=[];return r1(ze,(Rn,Jr)=>{const ng=G(Rn);ng&&yo.push(We.call(Ot,ng,Jr))}),yo}else{const yo=G(ze);return yo?We.call(Ot,yo):!1}},zn=(ze,We)=>{ao(ze,Pt=>{Un(We,(Ot,yo)=>{Be(Pt,yo,Ot)})})},$n=(ze,We)=>{ao(ze,Pt=>{const Ot=ue.fromDom(Pt);Qn(Ot,We)})},it=(ze,We,Pt,Ot,yo)=>ao(ze,Rn=>{const Jr=Ue(We)?e.createElement(We):We;return Ke(Pt)&&zn(Jr,Pt),Ot&&(!Ue(Ot)&&Ot.nodeType?Jr.appendChild(Ot):Ue(Ot)&&$n(Jr,Ot)),yo?Jr:Rn.appendChild(Jr)}),At=(ze,We,Pt)=>it(e.createElement(ze),ze,We,Pt,!0),so=fm.decode,rn=fm.encodeAllRaw,cn=(ze,We,Pt="")=>{let Ot="<"+ze;for(const yo in We)zr(We,yo)&&(Ot+=" "+yo+'="'+rn(We[yo])+'"');return Wc(Pt)&&Jt(O.getVoidElements(),ze)?Ot+" />":Ot+">"+Pt+"</"+ze+">"},rs=ze=>{const We=e.createElement("div"),Pt=e.createDocumentFragment();Pt.appendChild(We),ze&&(We.innerHTML=ze);let Ot;for(;Ot=We.firstChild;)Pt.appendChild(Ot);return Pt.removeChild(We),Pt},Vm=(ze,We)=>ao(ze,Pt=>{const Ot=ue.fromDom(Pt);return We&&nt(Da(Ot),yo=>{xa(yo)&&yo.dom.length===0?k(yo):ei(Ot,yo)}),k(Ot),Ot.dom}),wh=ze=>ao(ze,We=>{const Pt=We.attributes;for(let Ot=Pt.length-1;Ot>=0;Ot--)We.removeAttributeNode(Pt.item(Ot))}),zc=ze=>M.parse(ze),Vf=(ze,We)=>M.serialize(ze,We),ju=ze=>{if(Qb!==Ds.DOM&&e===document){if(n[ze])return;n[ze]=!0}let We=e.getElementById("mceDefaultStyles");if(!We){We=e.createElement("style"),We.id="mceDefaultStyles",We.type="text/css";const Pt=e.head;Pt.firstChild?Pt.insertBefore(We,Pt.firstChild):Pt.appendChild(We)}We.styleSheet?We.styleSheet.cssText+=ze:We.appendChild(e.createTextNode(ze))},hc=ze=>{ze||(ze=""),nt(ze.split(","),We=>{i[We]=!0,v.load(We).catch(ko)})},Hc=(ze,We,Pt)=>{ao(ze,Ot=>{if(Wt(Ot)){const yo=ue.fromDom(Ot),Rn=We.split(" ");nt(Rn,Jr=>{Ke(Pt)?(Pt?Vi:tr)(yo,Jr):l0(yo,Jr)})}})},$m=(ze,We)=>{Hc(ze,We,!0)},Yb=(ze,We)=>{Hc(ze,We,!1)},fo=(ze,We)=>{const Pt=se(ze),Ot=We.split(" ");return Ke(Pt)&&vn(Ot,yo=>Ra(Pt,yo))},An=ze=>{ao(ze,We=>Bh(ue.fromDom(We),"display"))},Qr=ze=>{ao(ze,We=>Mr(ue.fromDom(We),"display","none"))},ii=ze=>{const We=se(ze);return Ke(We)&&Si(Mh(We,"display"),"none")},yi=ze=>(ze||"mce_")+c++,Ka=ze=>{const We=se(ze);return Ke(We)?Wt(We.dom)?We.dom.outerHTML:Ks(We):""},Er=(ze,We)=>{ao(ze,Pt=>{Wt(Pt)&&(Pt.outerHTML=We)})},Ar=(ze,We)=>{const Pt=G(We);return ao(ze,Ot=>{const yo=Pt==null?void 0:Pt.parentNode,Rn=Pt==null?void 0:Pt.nextSibling;return yo&&(Rn?yo.insertBefore(Ot,Rn):yo.appendChild(Ot)),Ot})},Vc=(ze,We,Pt)=>ao(We,Ot=>{var yo;const Rn=pe(We)?ze.cloneNode(!0):ze;return Pt&&r1(hm(Ot.childNodes),Jr=>{Rn.appendChild(Jr)}),(yo=Ot.parentNode)===null||yo===void 0||yo.replaceChild(Rn,Ot),Ot}),$f=(ze,We)=>{if(ze.nodeName!==We.toUpperCase()){const Pt=At(We);return r1(_e(ze),Ot=>{Be(Pt,Ot.nodeName,ge(ze,Ot.nodeName))}),Vc(Pt,ze,!0),Pt}else return ze},Ch=(ze,We)=>{let Pt=ze;for(;Pt;){let Ot=We;for(;Ot&&Pt!==Ot;)Ot=Ot.parentNode;if(Pt===Ot)break;Pt=Pt.parentNode}return!Pt&&ze.ownerDocument?ze.ownerDocument.documentElement:Pt},og=(ze,We,Pt)=>kt(We)?Bl(O,ze,{...Pt,isContent:yo=>{const Rn=yo.nodeName.toLowerCase();return!!We[Rn]}}):Bl(O,ze,Pt),i_=()=>e.createRange(),l_=(ze,We,Pt)=>{let Ot=i_(),yo,Rn;if(ze&&We&&ze.parentNode&&We.parentNode){const Jr=ze.parentNode;return Ot.setStart(Jr,fl(ze)),Ot.setEnd(We.parentNode,fl(We)),yo=Ot.extractContents(),Ot=i_(),Ot.setStart(We.parentNode,fl(We)+1),Ot.setEnd(Jr,fl(ze)+1),Rn=Ot.extractContents(),Jr.insertBefore(D0(Qb,yo,O),ze),Pt?Jr.insertBefore(Pt,ze):Jr.insertBefore(We,ze),Jr.insertBefore(D0(Qb,Rn,O),ze),Vm(ze),Pt||We}else return},w2=(ze,We,Pt,Ot)=>{if(pe(ze)){let yo=ze.length;const Rn=[];for(;yo--;)Rn[yo]=w2(ze[yo],We,Pt,Ot);return Rn}else return t.collect&&(ze===e||ze===s)&&S.push([ze,We,Pt,Ot]),I.bind(ze,We,Pt,Ot||Qb)},Uf=(ze,We,Pt)=>{if(pe(ze)){let Ot=ze.length;const yo=[];for(;Ot--;)yo[Ot]=Uf(ze[Ot],We,Pt);return yo}else{if(S.length>0&&(ze===e||ze===s)){let Ot=S.length;for(;Ot--;){const[yo,Rn,Jr]=S[Ot];ze===yo&&(!We||We===Rn)&&(!Pt||Pt===Jr)&&I.unbind(yo,Rn,Jr)}}return I.unbind(ze,We,Pt)}},Xb=(ze,We,Pt)=>I.dispatch(ze,We,Pt),vE=(ze,We,Pt)=>I.dispatch(ze,We,Pt),c_=ze=>{if(ze&&pi(ze)){const We=ze.getAttribute("data-mce-contenteditable");return We&&We!=="inherit"?We:ze.contentEditable!=="inherit"?ze.contentEditable:null}else return null},Qb={doc:e,settings:t,win:s,files:i,stdMode:u,boxModel:g,styleSheetLoader:v,boundEvents:S,styles:M,schema:O,events:I,isBlock:J,root:null,clone:$e,getRoot:dt,getViewPort:Et,getRect:io,getSize:Zt,getParent:Vn,getParents:sn,get:G,getNext:ma,getPrev:ai,select:It,is:en,add:it,create:At,createHTML:cn,createFragment:rs,remove:Vm,setStyle:Qe,getStyle:mt,setStyles:qe,removeAllAttribs:wh,setAttrib:Be,setAttribs:zn,getAttrib:ge,getPos:Gt,parseStyle:zc,serializeStyle:Vf,addStyle:ju,loadCSS:hc,addClass:$m,removeClass:Yb,hasClass:fo,toggleClass:Hc,show:An,hide:Qr,isHidden:ii,uniqueId:yi,setHTML:$n,getOuterHTML:Ka,setOuterHTML:Er,decode:so,encode:rn,insertAfter:Ar,replace:Vc,rename:$f,findCommonAncestor:Ch,run:ao,getAttribs:_e,isEmpty:og,createRng:i_,nodeIndex:fl,split:l_,bind:w2,unbind:Uf,fire:vE,dispatch:Xb,getContentEditable:c_,getContentEditableParent:ze=>{const We=dt();let Pt=null;for(let Ot=ze;Ot&&Ot!==We&&(Pt=c_(Ot),Pt===null);Ot=Ot.parentNode);return Pt},isEditable:ze=>{if(Ke(ze)){const We=Wt(ze)?ze:ze.parentElement;return Ke(We)&&pi(We)&&ti(ue.fromDom(We))}else return!1},destroy:()=>{if(S.length>0){let ze=S.length;for(;ze--;){const[We,Pt,Ot]=S[ze];I.unbind(We,Pt,Ot)}}Un(i,(ze,We)=>{v.unload(We),delete i[We]})},isChildOf:(ze,We)=>ze===We||We.contains(ze),dumpRng:ze=>"startContainer: "+ze.startContainer.nodeName+", startOffset: "+ze.startOffset+", endContainer: "+ze.endContainer.nodeName+", endOffset: "+ze.endOffset},M7=pt(M,t,St(Qb));return Qb};Ds.DOM=Ds(document),Ds.nodeIndex=fl;const qa=Ds.DOM,v_=0,Ix=1,i1=2,vo=3;class Vd{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const i=qa;let c;const u=()=>{i.remove(S),c&&(c.onerror=c.onload=c=null)},g=()=>{u(),n()},v=()=>{u(),s("Failed to load script: "+t)},S=i.uniqueId();c=document.createElement("script"),c.id=S,c.type="text/javascript",c.src=Dt._addCacheSuffix(t),this.settings.referrerPolicy&&i.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=g,c.onerror=v,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===i1}markDone(t){this.states[t]=i1}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=v_),new Promise((i,c)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:i,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(v,S)=>{kn(n.scriptLoadedCallbacks,S).each(O=>{nt(O,M=>M[v](S))}),delete n.scriptLoadedCallbacks[S]},i=v=>{const S=_o(v,O=>O.status==="rejected");return S.length>0?Promise.reject(na(S,({reason:O})=>pe(O)?O:[O])):Promise.resolve()},c=v=>Promise.allSettled(Xo(v,S=>n.states[S]===i1?(s("resolve",S),Promise.resolve()):n.states[S]===vo?(s("reject",S),Promise.reject(S)):(n.states[S]=Ix,n.loadScript(S).then(()=>{n.states[S]=i1,s("resolve",S);const O=n.queue;return O.length>0?(n.queue=[],c(O).then(i)):Promise.resolve()},()=>(n.states[S]=vo,s("reject",S),Promise.reject(S)))))),u=v=>(n.loading=!0,c(v).then(S=>{n.loading=!1;const O=n.queueLoadedCallbacks.shift();return z.from(O).each(Oo),i(S)})),g=Gc(t);return n.loading?new Promise((v,S)=>{n.queueLoadedCallbacks.push(()=>{u(g).then(v,S)})}):u(g)}}Vd.ScriptLoader=new Vd;const P0=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},y_=e=>ne(e)&&Jt(e,"raw"),Rg=e=>pe(e)&&e.length>1,mo={},l1=Wo("en"),Su=()=>kn(mo,l1.get()),Di={getData:()=>jn(mo,e=>({...e})),setCode:e=>{e&&l1.set(e)},getCode:()=>l1.get(),add:(e,t)=>{let n=mo[e];n||(mo[e]=n={});const s=Xo(Fr(t),i=>i.toLowerCase());Un(t,(i,c)=>{const u=c.toLowerCase();u!==c&&P0(s,u)?(Jt(t,u)||(n[u]=i),n[c]=i):n[u]=i})},translate:e=>{const t=Su().getOr({}),n=u=>Xt(u)?Object.prototype.toString.call(u):s(u)?"":""+u,s=u=>u===""||u===null||u===void 0,i=u=>{const g=n(u);return Jt(t,g)?n(t[g]):kn(t,g.toLowerCase()).map(n).getOr(g)},c=u=>u.replace(/{context:\w+}$/,"");if(s(e))return"";if(y_(e))return n(e.raw);if(Rg(e)){const u=e.slice(1),g=i(e[0]).replace(/\{([0-9]+)\}/g,(v,S)=>Jt(u,S)?n(u[S]):v);return c(g)}return c(i(e))},isRtl:()=>Su().bind(e=>kn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Jt(mo,e)},Oi=()=>{const e=[],t={},n={},s=[],i=(G,se)=>{const ge=_o(s,_e=>_e.name===G&&_e.state===se);nt(ge,_e=>_e.resolve())},c=G=>Jt(t,G),u=G=>Jt(n,G),g=G=>{if(n[G])return n[G].instance},v=(G,se)=>{const ge=Di.getCode(),_e=","+(se||"")+",";!ge||se&&_e.indexOf(","+ge+",")===-1||Vd.ScriptLoader.add(t[G]+"/langs/"+ge+".js")},S=(G,se)=>{Oi.languageLoad!==!1&&(c(G)?v(G,se):J(G,"loaded").then(()=>v(G,se)))},O=(G,se)=>(e.push(se),n[G]={instance:se},i(G,"added"),se),M=G=>{delete t[G],delete n[G]},I=(G,se)=>Ue(se)?Ue(G)?{prefix:"",resource:se,suffix:""}:{prefix:G.prefix,resource:se,suffix:G.suffix}:se,j=(G,se)=>{if(t[G])return Promise.resolve();let ge=Ue(se)?se:se.prefix+se.resource+se.suffix;ge.indexOf("/")!==0&&ge.indexOf("://")===-1&&(ge=Oi.baseURL+"/"+ge),t[G]=ge.substring(0,ge.lastIndexOf("/"));const _e=()=>(i(G,"loaded"),Promise.resolve());return n[G]?_e():Vd.ScriptLoader.add(ge).then(_e)},J=(G,se="added")=>se==="added"&&u(G)||se==="loaded"&&c(G)?Promise.resolve():new Promise(ge=>{s.push({name:G,state:se,resolve:ge})});return{items:e,urls:t,lookup:n,get:g,requireLangPack:S,add:O,remove:M,createUrl:I,load:j,waitFor:J}};Oi.languageLoad=!0,Oi.baseURL="",Oi.PluginManager=Oi(),Oi.ThemeManager=Oi(),Oi.ModelManager=Oi();const d1=St("mce-annotation"),bm=St("data-mce-annotation"),Jo=St("data-mce-annotation-uid"),ji=St("data-mce-annotation-active"),$d=St("data-mce-annotation-classes"),vp=St("data-mce-annotation-attrs"),yp=e=>t=>yn(t,e),wn=(e,t)=>{const n=e.selection.getRng(),s=ue.fromDom(n.startContainer),i=ue.fromDom(e.getBody()),c=t.fold(()=>"."+d1(),v=>`[${bm()}="${v}"]`),u=Md(s,n.startOffset).getOr(s);return zi(u,c,yp(i)).bind(v=>zs(v,`${Jo()}`).bind(S=>zs(v,`${bm()}`).map(O=>{const M=u1(e,S);return{uid:S,name:O,elements:M}})))},W2=e=>pr(e)&&Ra(e,d1()),wp=(e,t)=>Js(e,"data-mce-bogus")||cp(e,'[data-mce-bogus="all"]',yp(t)),u1=(e,t)=>{const n=ue.fromDom(e.getBody()),s=mn(n,`[${Jo()}="${t}"]`);return _o(s,i=>!wp(i,n))},Lx=(e,t)=>{const n=ue.fromDom(e.getBody()),s=mn(n,`[${bm()}="${t}"]`),i={};return nt(s,c=>{if(!wp(c,n)){const u=Oa(c,Jo()),g=kn(i,u).getOr([]);i[u]=g.concat([c])}}),i},q2=(e,t)=>{const n=Wo({}),s=()=>({listeners:[],previous:nl()}),i=(M,I)=>{c(M,j=>(I(j),j))},c=(M,I)=>{const j=n.get(),J=kn(j,M).getOrThunk(s),G=I(J);j[M]=G,n.set(j)},u=(M,I,j)=>{i(M,J=>{nt(J.listeners,G=>G(!0,M,{uid:I,nodes:Xo(j,se=>se.dom)}))})},g=M=>{i(M,I=>{nt(I.listeners,j=>j(!1,M))})},v=(M,I)=>{nt(u1(e,M),j=>{I?$r(j,ji(),"true"):er(j,ji())})},S=qc(()=>{const M=ki(t.getNames());nt(M,I=>{c(I,j=>{const J=j.previous.get();return wn(e,z.some(I)).fold(()=>{J.each(G=>{g(I),j.previous.clear(),v(G,!1)})},({uid:G,name:se,elements:ge})=>{Si(J,G)||(J.each(_e=>v(_e,!1)),u(se,G,ge),j.previous.set(G),v(G,!0))}),{previous:j.previous,listeners:j.listeners}})})},30);return e.on("remove",()=>{S.cancel()}),e.on("NodeChange",()=>{S.throttle()}),{addListener:(M,I)=>{c(M,j=>({previous:j.previous,listeners:j.listeners.concat([I])}))}}},Fx=(e,t)=>{const n=bm(),s=c=>z.from(c.attr(n)).bind(t.lookup),i=c=>{var u,g;c.attr(Jo(),null),c.attr(bm(),null),c.attr(ji(),null);const v=z.from(c.attr(vp())).map(I=>I.split(",")).getOr([]),S=z.from(c.attr($d())).map(I=>I.split(",")).getOr([]);nt(v,I=>c.attr(I,null));const O=(g=(u=c.attr("class"))===null||u===void 0?void 0:u.split(" "))!==null&&g!==void 0?g:[],M=ol(O,[d1()].concat(S));c.attr("class",M.length>0?M.join(" "):null),c.attr($d(),null),c.attr(vp(),null)};e.serializer.addTempAttr(ji()),e.serializer.addAttributeFilter(n,c=>{for(const u of c)s(u).each(g=>{g.persistent===!1&&(u.name==="span"?u.unwrap():i(u))})})},zx=()=>{const e={};return{register:(i,c)=>{e[i]={name:i,settings:c}},lookup:i=>kn(e,i).map(c=>c.settings),getNames:()=>Fr(e)}},G2=(e,t,n=Ao)=>{const s=new Ys(e,t),i=c=>{let u;do u=s[c]();while(u&&!_t(u)&&!n(u));return z.from(u).filter(_t)};return{current:()=>z.from(s.current()).filter(_t),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},xf=(e,t)=>{const n=t||(u=>e.isBlock(u)||or(u)||Ts(u)),s=(u,g,v,S)=>{if(_t(u)){const O=S(u,g,u.data);if(O!==-1)return z.some({container:u,offset:O})}return v().bind(O=>s(O.container,O.offset,v,S))};return{backwards:(u,g,v,S)=>{const O=G2(u,S??e.getRoot(),n);return s(u,g,()=>O.prev().map(M=>({container:M,offset:M.length})),v).getOrNull()},forwards:(u,g,v,S)=>{const O=G2(u,S??e.getRoot(),n);return s(u,g,()=>O.next().map(M=>({container:M,offset:0})),v).getOrNull()}}},Dn=["td","th"],Cp=["thead","tbody","tfoot"],m1=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],L0=["li","dd","dt"],ld=["ul","ol","dl"],K2=["pre","script","textarea","style"],Ig=e=>{let t;return n=>(t=t||Ya(e,Go),Jt(t,Ro(n)))},Hx=e=>Ro(e)==="table",Wi=e=>pr(e)&&Ro(e)==="br",_p=Ig(m1),Eu=Ig(ld),xm=Ig(L0),F0=Ig(Cp),kp=Ig(Dn),f1=Ig(K2),Sp=e=>{const t=[];let n=e.dom;for(;n;)t.push(ue.fromDom(n)),n=n.lastChild;return t},p1=e=>{const t=mn(e,"br"),n=_o(Sp(e).slice(-1),Wi);t.length===n.length&&nt(n,k)},vm=()=>{const e=ue.fromTag("br");return $r(e,"data-mce-bogus","1"),e},Au=e=>{fu(e),Zn(e,vm())},g1=(e,t)=>{om(e).each(n=>{Rd(n).each(s=>{t.isBlock(Ro(e))&&Wi(n)&&t.isBlock(Ro(s))&&k(n)})})},Vs=Ea,h1=ga,pl=Fs,b1=e=>e.insertContent(Vs,{preserve_zwsp:!0}),vf=Wt,Tu=_t,_r=e=>(Tu(e)&&(e=e.parentNode),vf(e)&&e.hasAttribute("data-mce-caret")),ym=e=>Tu(e)&&h1(e.data),zl=e=>_r(e)||ym(e),Y2=e=>e.firstChild!==e.lastChild||!or(e.firstChild),w_=(e,t)=>{var n;const i=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Vs),c=e.parentNode;if(t){const u=e.previousSibling;if(Tu(u)){if(zl(u))return u;if(Fg(u))return u.splitText(u.data.length-1)}c==null||c.insertBefore(i,e)}else{const u=e.nextSibling;if(Tu(u)){if(zl(u))return u;if(Ap(u))return u.splitText(1),u}e.nextSibling?c==null||c.insertBefore(i,e.nextSibling):c==null||c.appendChild(i)}return i},Lg=e=>{const t=e.container();return _t(t)?t.data.charAt(e.offset())===Vs||e.isAtStart()&&ym(t.previousSibling):!1},Ep=e=>{const t=e.container();return _t(t)?t.data.charAt(e.offset()-1)===Vs||e.isAtEnd()&&ym(t.nextSibling):!1},Vx=(e,t,n)=>{var s;const c=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);c.setAttribute("data-mce-caret",n?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(vm().dom);const u=t.parentNode;return n?u==null||u.insertBefore(c,t):t.nextSibling?u==null||u.insertBefore(c,t.nextSibling):u==null||u.appendChild(c),c},Ap=e=>Tu(e)&&e.data[0]===Vs,Fg=e=>Tu(e)&&e.data[e.data.length-1]===Vs,X2=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];vu(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},x1=e=>e&&e.hasAttribute("data-mce-caret")?(X2(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,$x=e=>_r(e.startContainer),Tp=Math.round,wm=e=>e?{left:Tp(e.left),top:Tp(e.top),bottom:Tp(e.bottom),right:Tp(e.right),width:Tp(e.width),height:Tp(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Ux=(e,t)=>(e=wm(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),v1=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Zx=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,Dp=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:Zx(t.top-e.bottom,e,t)},Op=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Zx(t.bottom-e.top,e,t),Q2=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,z0=e=>ws(e,(t,n)=>t.fold(()=>z.some(n),s=>{const i=Math.min(n.left,s.left),c=Math.min(n.top,s.top),u=Math.max(n.right,s.right),g=Math.max(n.bottom,s.bottom);return z.some({top:c,right:u,bottom:g,left:i,width:u-i,height:g-c})}),z.none()),jx=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),i=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-i)*(n-i))},J2=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),zg=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Ud=(e,t)=>{if(Wt(e)&&e.hasChildNodes()){const n=e.childNodes,s=ci(t,0,n.length-1);return n[s]}else return e},ey=(e,t)=>{if(!(t<0&&Wt(e)&&e.hasChildNodes()))return Ud(e,t)},ty=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),f=e=>Ue(e)&&e.charCodeAt(0)>=768&&ty.test(e),h=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},y=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},_=ic,D=Ts,N=or,F=_t,V=Oc(["script","style","textarea"]),ee=Oc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ce=Oc(["table"]),we=zl,ie=e=>we(e)?!1:F(e)?!V(e.parentNode):ee(e)||N(e)||ce(e)||fe(e),be=e=>Wt(e)&&e.getAttribute("unselectable")==="true",fe=e=>!be(e)&&D(e),Re=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(fe(n))return!1;if(_(n))return!0}return!0},De=e=>fe(e)?!ws(xs(e.getElementsByTagName("*")),(t,n)=>t||_(n),!1):!1,ot=e=>ee(e)||De(e),at=(e,t)=>ie(e)&&Re(e,t),bt=Wt,yt=ie,wt=kg("display","block table"),Rt=kg("float","left right"),Mt=y(bt,yt,Ae(Rt)),to=Ae(kg("white-space","pre pre-line pre-wrap")),go=_t,pn=or,Bo=Ds.nodeIndex,Ko=ey,Io=e=>e?e.createRange():Ds.DOM.createRng(),qn=e=>Ue(e)&&/[\r\n\t ]/.test(e),Bt=e=>!!e.setStart&&!!e.setEnd,da=e=>{const t=e.startContainer,n=e.startOffset;if(qn(e.toString())&&to(t.parentNode)&&_t(t)){const s=t.data;if(qn(s[n-1])||qn(s[n+1]))return!0}return!1},Ba=e=>{const t=e.ownerDocument,n=Io(t),s=t.createTextNode(Ls),i=e.parentNode;i.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const c=wm(n.getBoundingClientRect());return i.removeChild(s),c},Hl=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,i=e.endOffset;if(t===n&&_t(n)&&s===0&&i===1){const c=e.cloneRange();return c.setEndAfter(n),Wr(c)}else return null},Zd=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Wr=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=wm(s[0]):n=wm(e.getBoundingClientRect()),!Bt(e)&&pn(e)&&Zd(n)?Ba(e):Zd(n)&&Bt(e)&&(t=Hl(e))!==null&&t!==void 0?t:n},qi=(e,t)=>{const n=Ux(e,t);return n.width=1,n.right=n.left+1,n},yf=e=>{const t=[],n=u=>{u.height!==0&&(t.length>0&&v1(u,t[t.length-1])||t.push(u))},s=(u,g)=>{const v=Io(u.ownerDocument);if(g<u.data.length){if(f(u.data[g]))return;if(f(u.data[g-1])&&(v.setStart(u,g),v.setEnd(u,g+1),!da(v))){n(qi(Wr(v),!1));return}}g>0&&(v.setStart(u,g-1),v.setEnd(u,g),da(v)||n(qi(Wr(v),!1))),g<u.data.length&&(v.setStart(u,g),v.setEnd(u,g+1),da(v)||n(qi(Wr(v),!0)))},i=e.container(),c=e.offset();if(go(i))return s(i,c),t;if(bt(i))if(e.isAtEnd()){const u=Ko(i,c);go(u)&&s(u,u.data.length),Mt(u)&&!pn(u)&&n(qi(Wr(u),!1))}else{const u=Ko(i,c);if(go(u)&&s(u,0),Mt(u)&&e.isAtEnd())return n(qi(Wr(u),!1)),t;const g=Ko(e.container(),e.offset()-1);Mt(g)&&!pn(g)&&(wt(g)||wt(u)||!Mt(u))&&n(qi(Wr(g),!1)),Mt(u)&&n(qi(Wr(u),!0))}return t},Ye=(e,t,n)=>{const s=()=>(go(e),t===0),i=()=>go(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const O=Io(e.ownerDocument);return O.setStart(e,t),O.setEnd(e,t),O},u=()=>(n||(n=yf(Ye(e,t))),n),g=()=>u().length>0,v=O=>O&&e===O.container()&&t===O.offset(),S=O=>Ko(e,O?t-1:t);return{container:St(e),offset:St(t),toRange:c,getClientRects:u,isVisible:g,isAtStart:s,isAtEnd:i,isEqual:v,getNode:S}};Ye.fromRangeStart=e=>Ye(e.startContainer,e.startOffset),Ye.fromRangeEnd=e=>Ye(e.endContainer,e.endOffset),Ye.after=e=>Ye(e.parentNode,Bo(e)+1),Ye.before=e=>Ye(e.parentNode,Bo(e)),Ye.isAbove=(e,t)=>sr(Kt(t.getClientRects()),jo(e.getClientRects()),Dp).getOr(!1),Ye.isBelow=(e,t)=>sr(jo(t.getClientRects()),Kt(e.getClientRects()),Op).getOr(!1),Ye.isAtStart=e=>e?e.isAtStart():!1,Ye.isAtEnd=e=>e?e.isAtEnd():!1,Ye.isTextPosition=e=>e?_t(e.container()):!1,Ye.isElementPosition=e=>!Ye.isTextPosition(e);const wf=(e,t)=>{_t(t)&&t.data.length===0&&e.remove(t)},y1=(e,t,n)=>{t.insertNode(n),wf(e,n.previousSibling),wf(e,n.nextSibling)},Du=(e,t,n)=>{const s=z.from(n.firstChild),i=z.from(n.lastChild);t.insertNode(n),s.each(c=>wf(e,c.previousSibling)),i.each(c=>wf(e,c.nextSibling))},oy=(e,t,n)=>{ms(n)?Du(e,t,n):y1(e,t,n)},Ou=_t,Cf=vu,C_=Ds.nodeIndex,ny=e=>{const t=e.parentNode;return Cf(t)?ny(t):t},H0=e=>e?Hr(e.childNodes,(t,n)=>(Cf(n)&&n.nodeName!=="BR"?t=t.concat(H0(n)):t.push(n),t),[]):[],RE=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Ou(n);)t+=n.data.length;return t},ME=e=>t=>e===t,BE=e=>{let t,n;t=H0(ny(e)),n=Sd(t,ME(e),e),t=t.slice(0,n+1);const s=Hr(t,(i,c,u)=>(Ou(c)&&Ou(t[u-1])&&i++,i),0);return t=Jl(t,Oc([e.nodeName])),n=Sd(t,ME(e),e),n-s},__=e=>(Ou(e)?"text()":e.nodeName.toLowerCase())+"["+BE(e)+"]",PE=(e,t,n)=>{const s=[];for(let i=t.parentNode;i&&i!==e;i=i.parentNode)s.push(i);return s},sy=(e,t)=>{let n=[],s=t.container(),i=t.offset(),c;if(Ou(s))c=RE(s,i);else{const g=s.childNodes;i>=g.length?(c="after",i=g.length-1):c="before",s=g[i]}n.push(__(s));let u=PE(e,s);return u=Jl(u,Ae(vu)),n=n.concat(_l(u,g=>__(g))),n.reverse().join("/")+","+c},IE=(e,t,n)=>{let s=H0(e);return s=Jl(s,(i,c)=>!Ou(i)||!Ou(s[c-1])),s=Jl(s,Oc([t])),s[n]},LE=(e,t)=>{let n=e,s=0;for(;Ou(n);){const i=n.data.length;if(t>=s&&t<=s+i){e=n,t=t-s;break}if(!Ou(n.nextSibling)){e=n,t=i;break}s+=i,n=n.nextSibling}return Ou(e)&&t>e.data.length&&(t=e.data.length),Ye(e,t)},FE=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),i=n.length>1?n[1]:"before",c=Hr(s,(u,g)=>{const v=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(g);return v?(v[1]==="text()"&&(v[1]="#text"),IE(u,v[1],parseInt(v[2],10))):null},e);if(!c)return null;if(!Ou(c)&&c.parentNode){let u;return i==="after"?u=C_(c)+1:u=C_(c),Ye(c.parentNode,u)}return LE(c,parseInt(i,10))},V0=Ts,U7=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let i=t.previousSibling;i&&_t(i);i=i.previousSibling)s+=e(i.data).length;return s},Wx=(e,t,n,s,i)=>{const c=i?s.startContainer:s.endContainer;let u=i?s.startOffset:s.endOffset;const g=[],v=e.getRoot();if(_t(c))g.push(n?U7(t,c,u):u);else{let S=0;const O=c.childNodes;u>=O.length&&O.length&&(S=1,u=Math.max(0,O.length-1)),g.push(e.nodeIndex(O[u],n)+S)}for(let S=c;S&&S!==v;S=S.parentNode)g.push(e.nodeIndex(S,n));return g},zE=(e,t,n,s)=>{const i=t.dom,c=Wx(i,e,n,s,!0),u=t.isForward(),g=$x(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:u,...g};{const v=Wx(i,e,n,s,!1);return{start:c,end:v,forward:u,...g}}},k_=(e,t,n)=>{let s=0;return Dt.each(e.select(t),i=>{if(i.getAttribute("data-mce-bogus")!=="all"){if(i===n)return!1;s++;return}}),s},Do=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(Wt(n)&&n.nodeName==="TR"){const i=n.childNodes;n=i[Math.min(t?s:s-1,i.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},HE=e=>(Do(e,!0),Do(e,!1),e),VE=(e,t)=>{if(Wt(e)&&(e=Ud(e,t),V0(e)))return e;if(zl(e)){_t(e)&&_r(e)&&(e=e.parentNode);let n=e.previousSibling;if(V0(n)||(n=e.nextSibling,V0(n)))return n}},Z7=e=>VE(e.startContainer,e.startOffset)||VE(e.endContainer,e.endOffset),$E=(e,t,n)=>{const s=n.getNode(),i=n.getRng();if(s.nodeName==="IMG"||V0(s)){const u=s.nodeName;return{name:u,index:k_(n.dom,u,s)}}const c=Z7(i);if(c){const u=c.tagName;return{name:u,index:k_(n.dom,u,c)}}return zE(e,n,t,i)},j7=e=>{const t=e.getRng();return{start:sy(e.dom.getRoot(),Ye.fromRangeStart(t)),end:sy(e.dom.getRoot(),Ye.fromRangeEnd(t)),forward:e.isForward()}},UE=e=>({rng:e.getRng(),forward:e.isForward()}),ry=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},$0=(e,t)=>{const n=e.dom;let s=e.getRng();const i=n.uniqueId(),c=e.isCollapsed(),u=e.getNode(),g=u.nodeName,v=e.isForward();if(g==="IMG")return{name:g,index:k_(n,g,u)};const S=HE(s.cloneRange());if(!c){S.collapse(!1);const M=ry(n,i+"_end",t);oy(n,S,M)}s=HE(s),s.collapse(!0);const O=ry(n,i+"_start",t);return oy(n,s,O),e.moveToBookmark({id:i,keep:!0,forward:v}),{id:i,forward:v}},U0=(e,t,n=!1)=>t===2?$E(pl,n,e):t===3?j7(e):t?UE(e):$0(e,!1),S_=je($E,Tn,!0),ay=e=>e.type==="inline-command"||e.type==="inline-format",W7=e=>e.type==="block-command"||e.type==="block-format",ZE=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,E_=e=>{var t;const n=i=>vr.error({message:i,pattern:e}),s=(i,c,u)=>{if(e.format!==void 0){let g;if(pe(e.format)){if(!vn(e.format,Ue))return n(i+" pattern has non-string items in the `format` array");g=e.format}else if(Ue(e.format))g=[e.format];else return n(i+" pattern has non-string `format` parameter");return vr.value(c(g))}else return e.cmd!==void 0?Ue(e.cmd)?vr.value(u(e.cmd,e.value)):n(i+" pattern has non-string `cmd` parameter"):n(i+" pattern is missing both `format` and `cmd` parameters")};if(!ne(e))return n("Raw pattern is not an object");if(!Ue(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Ue(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let i=e.start,c=e.end;return c.length===0&&(c=i,i=""),s("Inline",u=>({type:"inline-format",start:i,end:c,format:u}),(u,g)=>({type:"inline-command",start:i,end:c,cmd:u,value:g}))}else{if(e.replacement!==void 0)return Ue(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):vr.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const i=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):s("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:i}),(c,u)=>({type:"block-command",start:e.start,cmd:c,value:u,trigger:i}))}}},jE=e=>_o(e,W7),WE=e=>_o(e,ay),q7=(e,t)=>({inlinePatterns:WE(e),blockPatterns:jE(e),dynamicPatternsLookup:t}),A_=(e,t)=>({...e,blockPatterns:_o(e.blockPatterns,n=>ZE(n,t))}),Hg=e=>{const t=Kl(Xo(e,E_));return nt(t.errors,n=>console.error(n.message,n.pattern)),t.values},G7=e=>t=>{const n=e(t);return Hg(n)},K7=(e,t)=>e.dispatch("PreProcess",t),qE=(e,t)=>e.dispatch("PostProcess",t),Y7=e=>{e.dispatch("remove")},X7=e=>{e.dispatch("detach")},Q7=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},$s=(e,t,n,s,i)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:i})},GE=(e,t,n,s,i)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:i})},J7=e=>{e.dispatch("PreInit")},T_=e=>{e.dispatch("PostRender")},Gi=e=>{e.dispatch("Init")},cd=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},D_=(e,t,n)=>{e.dispatch(t,n)},KE=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},YE=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},Cm=(e,t)=>e.dispatch("BeforeSetContent",t),XE=(e,t)=>e.dispatch("SetContent",t),eN=(e,t)=>e.dispatch("BeforeGetContent",t),Cn=(e,t)=>e.dispatch("GetContent",t),tN=(e,t)=>{e.dispatch("AutocompleterStart",t)},oN=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},O_=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},kr=e=>{e.dispatch("AutocompleterEnd")},nN=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),QE=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),iy=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),sN=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),rN=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),N_=Jn().deviceType,aN=N_.isTouch(),R_=Ds.DOM,M_=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ws(t,(n,s)=>{const i=s.split("="),c=i[0],u=i.length>1?i[1]:c;return n[jc(c)]=jc(u),n},{})},B_=e=>Pe(e,RegExp),Yt=e=>t=>t.options.get(e),ly=e=>Ue(e)||ne(e),JE=(e,t="")=>n=>{const s=Ue(n);if(s)if(n.indexOf("=")!==-1){const i=M_(n);return{value:kn(i,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},eo=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:JE(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:JE(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=Ue(n)&&La(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=on(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>is(n)?{valid:!0,value:n}:Ue(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||Ue(n)||Co(n,Ue);return s?Ue(n)?{value:Xo(n.split(","),jc),valid:s}:pe(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Vg(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=Ue(n)||Co(n,Ue);return s?{value:pe(n)?n:Xo(n.split(","),jc),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=is(n)||Ue(n);return s?n===!1||N_.isiPhone()||N_.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!aN}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:n=>n===!1||Ue(n)||Xt(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||Ue(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:n=>is(n)?(e.initialized&&Xx(e)!==n&&Promise.resolve().then(()=>{rN(e,n)}),{valid:!0,value:n}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:n=>{const s=Co(n,Ue);return s?{value:n,valid:s}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:ly}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:ly}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:ly}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:ly}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>Ue(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>Co(n,ne)||n===!1?{value:Hg(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>Xt(n)?{value:G7(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>Co(n,B_)?{value:n,valid:!0}:B_(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const s=on(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const s=on(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Di.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:R_.getAttrib(e.getElement(),"placeholder")})})},Nu=Yt("iframe_attrs"),eA=Yt("doctype"),tA=Yt("document_base_url"),iN=Yt("body_id"),oA=Yt("body_class"),P_=Yt("content_security_policy"),I_=Yt("br_in_pre"),Ni=Yt("forced_root_block"),w1=Yt("forced_root_block_attrs"),L_=Yt("newline_behavior"),nA=Yt("br_newline_selector"),sA=Yt("no_newline_selector"),F_=Yt("keep_styles"),lN=Yt("end_container_on_empty_block"),z_=Yt("automatic_uploads"),cy=Yt("images_reuse_filename"),rA=Yt("images_replace_blob_uris"),H_=Yt("icons"),dy=Yt("icons_url"),aA=Yt("images_upload_url"),iA=Yt("images_upload_base_path"),cN=Yt("images_upload_credentials"),dN=Yt("images_upload_handler"),uN=Yt("content_css_cors"),V_=Yt("referrer_policy"),lA=Yt("language"),Xs=Yt("language_url"),uy=Yt("indent_use_margin"),my=Yt("indentation"),fy=Yt("content_css"),Np=Yt("content_style"),qx=Yt("font_css"),Z0=Yt("directionality"),cA=Yt("inline_boundaries_selector"),$_=Yt("object_resizing"),U_=Yt("resize_img_proportional"),py=Yt("placeholder"),Rp=Yt("event_root"),C1=Yt("service_message"),_1=Yt("theme"),mN=Yt("theme_url"),gy=Yt("model"),fN=Yt("model_url"),Gx=Yt("inline_boundaries"),pN=Yt("formats"),si=Yt("preview_styles"),Z_=Yt("format_empty_lines"),bi=Yt("format_noneditable_selector"),j0=Yt("custom_ui_selector"),Vg=Yt("inline"),dA=Yt("hidden_input"),j_=Yt("submit_patch"),uA=Yt("add_form_submit_trigger"),gN=Yt("add_unload_trigger"),hN=Yt("custom_undo_redo_levels"),dd=Yt("disable_nodechange"),Ki=Yt("readonly"),_m=Yt("editable_root"),hy=Yt("content_css_cors"),Kx=Yt("plugins"),bN=Yt("external_plugins"),mA=Yt("block_unsupported_drop"),xN=Yt("visual"),W_=Yt("visual_table_class"),fA=Yt("visual_anchor_class"),q_=Yt("iframe_aria_text"),G_=Yt("setup"),pA=Yt("init_instance_callback"),K_=Yt("urlconverter_callback"),vN=Yt("auto_focus"),gA=Yt("browser_spellcheck"),yN=Yt("protect"),hA=Yt("paste_block_drop"),Yx=Yt("paste_data_images"),wN=Yt("paste_preprocess"),CN=Yt("paste_postprocess"),_N=Yt("newdocument_content"),kN=Yt("paste_webkit_styles"),SN=Yt("paste_remove_styles_if_webkit"),k1=Yt("paste_merge_formats"),EN=Yt("smart_paste"),bA=Yt("paste_as_text"),xA=Yt("paste_tab_spaces"),vA=Yt("allow_html_data_urls"),yA=Yt("text_patterns"),Y_=Yt("text_patterns_lookup"),wA=Yt("noneditable_class"),AN=Yt("editable_class"),TN=Yt("noneditable_regexp"),X_=Yt("preserve_cdata"),CA=Yt("highlight_on_focus"),_A=Yt("xss_sanitization"),DN=Yt("init_content_sync"),kA=e=>e.options.isSet("text_patterns_lookup"),SA=e=>Dt.explode(e.options.get("font_size_style_values")),ON=e=>Dt.explode(e.options.get("font_size_classes")),EA=e=>e.options.get("encoding")==="xml",AA=e=>Dt.explode(e.options.get("images_file_types")),NN=Yt("table_tab_navigation"),RN=Yt("details_initial_state"),MN=Yt("details_serialized_state"),zt=Yt("sandbox_iframes"),Ru=e=>e.options.get("sandbox_iframes_exclusions"),BN=Yt("convert_unsafe_embeds"),Q_=Yt("license_key"),TA=Yt("api_key"),Xx=Yt("disabled"),J_=Wt,DA=_t,ek=e=>{const t=e.parentNode;t&&t.removeChild(e)},OA=e=>{const t=pl(e);return{count:e.length-t.length,text:t}},NA=e=>{let t;for(;(t=e.data.lastIndexOf(Vs))!==-1;)e.deleteData(t,1)},Qx=(e,t)=>(S1(e),t),PN=(e,t)=>{const n=OA(e.data.substr(0,t.offset())),s=OA(e.data.substr(t.offset()));return(n.text+s.text).length>0?(NA(e),Ye(e,t.offset()-n.count)):t},RA=(e,t)=>{const n=t.container(),s=oa(xs(n.childNodes),e).map(i=>i<t.offset()?Ye(n,t.offset()-1):t).getOr(t);return S1(e),s},by=(e,t)=>DA(e)&&t.container()===e?PN(e,t):Qx(e,t),IN=(e,t)=>t.container()===e.parentNode?RA(e,t):Qx(e,t),MA=(e,t)=>Ye.isTextPosition(t)?by(e,t):IN(e,t),S1=e=>{J_(e)&&zl(e)&&(Y2(e)?e.removeAttribute("data-mce-caret"):ek(e)),DA(e)&&(NA(e),e.data.length===0&&ek(e))},xy=Ts,$g=lc,vy=sd,LN="*[contentEditable=false],video,audio,embed,object",BA=(e,t,n)=>{const s=Ux(t.getBoundingClientRect(),n);let i,c;if(e.tagName==="BODY"){const g=e.ownerDocument.documentElement;i=e.scrollLeft||g.scrollLeft,c=e.scrollTop||g.scrollTop}else{const g=e.getBoundingClientRect();i=e.scrollLeft-g.left,c=e.scrollTop-g.top}s.left+=i,s.right+=i,s.top+=c,s.bottom+=c,s.width=1;let u=t.offsetWidth-t.clientWidth;return u>0&&(n&&(u*=-1),s.left+=u,s.right+=u),s},PA=e=>{var t,n;const s=mn(ue.fromDom(e),LN);for(let i=0;i<s.length;i++){const c=s[i].dom;let u=c.previousSibling;if(Fg(u)){const g=u.data;g.length===1?(t=u.parentNode)===null||t===void 0||t.removeChild(u):u.deleteData(g.length-1,1)}u=c.nextSibling,Ap(u)&&(u.data.length===1?(n=u.parentNode)===null||n===void 0||n.removeChild(u):u.deleteData(0,1))}},FN=(e,t,n,s)=>{const i=nl();let c,u;const g=Ni(e),v=e.dom,S=(G,se)=>{let ge;if(O(),vy(se))return null;if(n(se)){const _e=Vx(g,se,G),Be=BA(t,se,G);v.setStyle(_e,"top",Be.top),v.setStyle(_e,"caret-color","transparent"),u=_e;const $e=v.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});v.setStyles($e,{...Be}),v.add(t,$e),i.set({caret:$e,element:se,before:G}),G&&v.addClass($e,"mce-visual-caret-before"),M(),ge=se.ownerDocument.createRange(),ge.setStart(_e,0),ge.setEnd(_e,0)}else return u=w_(se,G),ge=se.ownerDocument.createRange(),W0(u.nextSibling)?(ge.setStart(u,0),ge.setEnd(u,0)):(ge.setStart(u,1),ge.setEnd(u,1)),ge;return ge},O=()=>{PA(t),u&&(S1(u),u=null),i.on(G=>{v.remove(G.caret),i.clear()}),c&&(clearInterval(c),c=void 0)},M=()=>{c=window.setInterval(()=>{i.on(G=>{s()?v.toggleClass(G.caret,"mce-visual-caret-hidden"):v.addClass(G.caret,"mce-visual-caret-hidden")})},500)},I=()=>{i.on(G=>{const se=BA(t,G.element,G.before);v.setStyles(G.caret,{...se})})},j=()=>clearInterval(c),J=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:i.isSet,show:S,hide:O,getCss:J,reposition:I,destroy:j}},IA=()=>Vo.browser.isFirefox(),W0=e=>xy(e)||$g(e),q0=e=>(W0(e)||yu(e)&&IA())&&Qm(ue.fromDom(e)).exists(ti),zN=ic,tk=Ts,LA=lc,yy=kg("display","block table table-cell table-row table-caption list-item"),ok=zl,FA=_r,wy=Wt,zA=_t,nk=ie,E1=e=>e===1,A1=e=>e===-1,T1=(e,t)=>{let n;for(;n=e(t);)if(!FA(n))return n;return null},G0=(e,t,n,s,i)=>{const c=new Ys(e,s),u=tk(e)||FA(e);let g;if(A1(t)){if(u&&(g=T1(c.prev.bind(c),!0),n(g)))return g;for(;g=T1(c.prev.bind(c),i);)if(n(g))return g}if(E1(t)){if(u&&(g=T1(c.next.bind(c),!0),n(g)))return g;for(;g=T1(c.next.bind(c),i);)if(n(g))return g}return null},HA=(e,t)=>{const n=i=>zN(i.dom),s=i=>i.dom===t;return lr(ue.fromDom(e),n,s).map(i=>i.dom).getOr(t)},Mp=(e,t)=>{for(;e&&e!==t;){if(yy(e))return e;e=e.parentNode}return null},km=(e,t,n)=>Mp(e.container(),n)===Mp(t.container(),n),Cy=(e,t)=>{if(!t)return z.none();const n=t.container(),s=t.offset();return wy(n)?z.from(n.childNodes[s+e]):z.none()},sk=(e,t)=>{var n;const i=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),i},VA=(e,t,n)=>Mp(t,e)===Mp(n,e),rk=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let i=n;for(;i&&i!==t;){let c=i[s];if(c&&ok(c)&&(c=c[s]),tk(c)||LA(c)){if(VA(t,c,i))return c;break}if(nk(c))break;i=i.parentNode}return null},K0=je(sk,!0),Y0=je(sk,!1),ak=(e,t,n)=>{let s;const i=je(rk,!0,t),c=je(rk,!1,t),u=n.startContainer,g=n.startOffset;if(_r(u)){const v=zA(u)?u.parentNode:u,S=v.getAttribute("data-mce-caret");if(S==="before"&&(s=v.nextSibling,q0(s)))return K0(s);if(S==="after"&&(s=v.previousSibling,q0(s)))return Y0(s)}if(!n.collapsed)return n;if(_t(u)){if(ok(u)){if(e===1){if(s=c(u),s)return K0(s);if(s=i(u),s)return Y0(s)}if(e===-1){if(s=i(u),s)return Y0(s);if(s=c(u),s)return K0(s)}return n}if(Fg(u)&&g>=u.data.length-1)return e===1&&(s=c(u),s)?K0(s):n;if(Ap(u)&&g<=1)return e===-1&&(s=i(u),s)?Y0(s):n;if(g===u.data.length)return s=c(u),s?K0(s):n;if(g===0)return s=i(u),s?Y0(s):n}return n},$A=(e,t)=>Cy(e?0:-1,t).filter(tk),Jx=(e,t,n)=>{const s=ak(e,t,n);return e===-1?Ye.fromRangeStart(s):Ye.fromRangeEnd(s)},_y=e=>z.from(e.getNode()).map(ue.fromDom),HN=e=>z.from(e.getNode(!0)).map(ue.fromDom),ky=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Sy=(e,t)=>{const n=km(e,t);return!n&&or(e.getNode())?!0:n},Yi=Ts,_f=_t,UA=Wt,Vl=or,X0=ie,ZA=ot,Ey=at,Mc=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},ik=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,lk=(e,t)=>{if(E1(e)){if(X0(t.previousSibling)&&!_f(t.previousSibling))return Ye.before(t);if(_f(t))return Ye(t,0)}if(A1(e)){if(X0(t.nextSibling)&&!_f(t.nextSibling))return Ye.after(t);if(_f(t))return Ye(t,t.data.length)}return A1(e)?Vl(t)?Ye.before(t):Ye.after(t):Ye.before(t)},jA=(e,t)=>{const n=t.nextSibling;return n&&X0(n)?_f(n)?Ye(n,0):Ye.before(n):Ay(1,Ye.after(t),e)},Ay=(e,t,n)=>{let s,i,c,u;if(!UA(n)||!t)return null;if(t.isEqual(Ye.after(n))&&n.lastChild){if(u=Ye.after(n.lastChild),A1(e)&&X0(n.lastChild)&&UA(n.lastChild))return Vl(n.lastChild)?Ye.before(n.lastChild):u}else u=t;const g=u.container();let v=u.offset();if(_f(g)){if(A1(e)&&v>0)return Ye(g,--v);if(E1(e)&&v<g.length)return Ye(g,++v);s=g}else{if(A1(e)&&v>0&&(i=ik(g,v-1),X0(i)))return!ZA(i)&&(c=G0(i,e,Ey,i),c)?_f(c)?Ye(c,c.data.length):Ye.after(c):_f(i)?Ye(i,i.data.length):Ye.before(i);if(E1(e)&&v<g.childNodes.length&&(i=ik(g,v),X0(i)))return Vl(i)?jA(n,i):!ZA(i)&&(c=G0(i,e,Ey,i),c)?_f(c)?Ye(c,0):Ye.before(c):_f(i)?Ye(i,0):Ye.after(i);s=i||u.getNode()}if(s&&(E1(e)&&u.isAtEnd()||A1(e)&&u.isAtStart())&&(s=G0(s,e,Go,n,!0),Ey(s,n)))return lk(e,s);i=s&&G0(s,e,Ey,n);const S=ra(_o(Mc(g,n),Yi));return S&&(!i||!S.contains(i))?(E1(e)?u=Ye.after(S):u=Ye.before(S),u):i?lk(e,i):null},Sm=e=>({next:t=>Ay(1,t,e),prev:t=>Ay(-1,t,e)}),WA=(e,t,n)=>{const s=e?Ye.before(n):Ye.after(n);return xi(e,t,s)},VN=e=>or(e)?Ye.before(e):Ye.after(e),qA=e=>Ye.isTextPosition(e)?e.offset()===0:ie(e.getNode()),GA=e=>{if(Ye.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return ie(e.getNode(!0))},KA=(e,t)=>!Ye.isTextPosition(e)&&!Ye.isTextPosition(t)&&e.getNode()===t.getNode(!0),En=e=>!Ye.isTextPosition(e)&&or(e.getNode()),ev=(e,t,n)=>e?!KA(t,n)&&!En(t)&&GA(t)&&qA(n):!KA(n,t)&&qA(t)&&GA(n),xi=(e,t,n)=>{const s=Sm(t);return z.from(e?s.next(n):s.prev(n))},Mu=(e,t,n)=>xi(e,t,n).bind(s=>km(n,s,t)&&ev(e,n,s)?xi(e,t,s):z.some(s)),tv=(e,t,n,s)=>Mu(e,t,n).bind(i=>s(i)?tv(e,t,i,s):z.some(i)),Ug=(e,t)=>{const n=e?t.firstChild:t.lastChild;return _t(n)?z.some(Ye(n,e?0:n.data.length)):n?ie(n)?z.some(e?Ye.before(n):VN(n)):WA(e,t,n):z.none()},gl=je(xi,!0),dc=je(xi,!1),hl=je(Ug,!0),jd=je(Ug,!1),Ty="_mce_caret",ud=e=>Wt(e)&&e.id===Ty,Zg=(e,t)=>{let n=t;for(;n&&n!==e;){if(ud(n))return n;n=n.parentNode}return null},$N=e=>Ue(e.start),UN=e=>Jt(e,"rng"),ZN=e=>Jt(e,"id"),$l=e=>Jt(e,"name"),YA=e=>Dt.isArray(e.start),ov=e=>!$l(e)&&is(e.forward)?e.forward:!0,XA=(e,t)=>(Wt(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),jN=(e,t)=>{const n=z.from(FE(e.getRoot(),t.start)),s=z.from(FE(e.getRoot(),t.end));return sr(n,s,(i,c)=>{const u=e.createRng();return u.setStart(i.container(),i.offset()),u.setEnd(c.container(),c.offset()),{range:u,forward:ov(t)}})},ck=(e,t)=>{var n;const i=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Vs);e.appendChild(i),t.setStart(i,0),t.setEnd(i,0)},WN=e=>!e.hasChildNodes(),qN=(e,t)=>jd(e).fold(Ao,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),fs=(e,t,n)=>WN(t)&&Zg(e,t)?(ck(t,n),!0):!1,Q0=(e,t,n,s)=>{const i=n[t?"start":"end"],c=e.getRoot();if(i){let u=c,g=i[0];for(let v=i.length-1;u&&v>=1;v--){const S=u.childNodes;if(fs(c,u,s))return!0;if(i[v]>S.length-1)return fs(c,u,s)?!0:qN(u,s);u=S[i[v]]}_t(u)&&(g=Math.min(i[0],u.data.length)),Wt(u)&&(g=Math.min(i[0],u.childNodes.length)),t?s.setStart(u,g):s.setEnd(u,g)}return!0},Dy=e=>_t(e)&&e.data.length>0,dk=(e,t,n)=>{const s=e.get(n.id+"_"+t),i=s==null?void 0:s.parentNode,c=n.keep;if(s&&i){let u,g;if(t==="start"?c?s.hasChildNodes()?(u=s.firstChild,g=1):Dy(s.nextSibling)?(u=s.nextSibling,g=0):Dy(s.previousSibling)?(u=s.previousSibling,g=s.previousSibling.data.length):(u=i,g=e.nodeIndex(s)+1):(u=i,g=e.nodeIndex(s)):c?s.hasChildNodes()?(u=s.firstChild,g=1):Dy(s.previousSibling)?(u=s.previousSibling,g=s.previousSibling.data.length):(u=i,g=e.nodeIndex(s)):(u=i,g=e.nodeIndex(s)),!c){const v=s.previousSibling,S=s.nextSibling;Dt.each(Dt.grep(s.childNodes),M=>{_t(M)&&(M.data=M.data.replace(/\uFEFF/g,""))});let O;for(;O=e.get(n.id+"_"+t);)e.remove(O,!0);if(_t(S)&&_t(v)&&!Vo.browser.isOpera()){const M=v.data.length;v.appendData(S.data),e.remove(S),u=v,g=M}}return z.some(Ye(u,g))}else return z.none()},GN=(e,t)=>{const n=e.createRng();return Q0(e,!0,t,n)&&Q0(e,!1,t,n)?z.some({range:n,forward:ov(t)}):z.none()},KN=(e,t)=>{const n=dk(e,"start",t),s=dk(e,"end",t);return sr(n,s.or(n),(i,c)=>{const u=e.createRng();return u.setStart(XA(e,i.container()),i.offset()),u.setEnd(XA(e,c.container()),c.offset()),{range:u,forward:ov(t)}})},QA=(e,t)=>z.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),YN=(e,t)=>{const n=e.dom;if(t){if(YA(t))return GN(n,t);if($N(t))return jN(n,t);if(ZN(t))return KN(n,t);if($l(t))return QA(n,t);if(UN(t))return z.some({range:t.rng,forward:ov(t)})}return z.none()},Zo=(e,t,n)=>U0(e,t,n),uk=(e,t)=>{YN(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},md=e=>Wt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",jg=(e=>t=>e===t)(Ls),Em=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,D1=e=>!Em(e)&&!jg(e)&&!ga(e),Ny=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},XN=e=>na(e,t=>{const n=zg(t);return n?[ue.fromDom(n)]:[]}),QN=e=>Ny(e).length>1,JN=e=>_o(XN(e),kp),eR=e=>mn(e,"td[data-mce-selected],th[data-mce-selected]"),Rs=(e,t)=>{const n=eR(t);return n.length>0?n:JN(e)},kf=e=>Rs(Ny(e.selection.getSel()),ue.fromDom(e.getBody())),Wd=(e,t)=>gu(e,"table",t),Fn=e=>{const t=e.startContainer,n=e.startOffset;return _t(t)?n===0?z.some(ue.fromDom(t)):z.none():z.from(t.childNodes[n]).map(ue.fromDom)},Ga=e=>{const t=e.endContainer,n=e.endOffset;return _t(t)?n===t.data.length?z.some(ue.fromDom(t)):z.none():z.from(t.childNodes[n-1]).map(ue.fromDom)},Am=e=>di(e).fold(St([e]),t=>[e].concat(Am(t))),Tm=e=>om(e).fold(St([e]),t=>Ro(t)==="br"?Rd(t).map(n=>[e].concat(Tm(n))).getOr([]):[e].concat(Tm(t))),Sf=(e,t)=>sr(Fn(t),Ga(t),(n,s)=>{const i=js(Am(e),je(yn,n)),c=js(Tm(e),je(yn,s));return i.isSome()&&c.isSome()}).getOr(!1),nv=(e,t,n,s)=>{const i=n,c=new Ys(n,i),u=Fo(e.schema.getMoveCaretBeforeOnEnterElements(),(v,S)=>!on(["td","th","table"],S.toLowerCase()));let g=n;do{if(_t(g)&&Dt.trim(g.data).length!==0){s?t.setStart(g,0):t.setEnd(g,g.data.length);return}if(u[g.nodeName]){s?t.setStartBefore(g):g.nodeName==="BR"?t.setEndBefore(g):t.setEndAfter(g);return}}while(g=s?c.next():c.prev());i.nodeName==="BODY"&&(s?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},Ry=e=>{const t=e.selection.getSel();return Ke(t)&&t.rangeCount>0},My=(e,t)=>{const n=kf(e);n.length>0?nt(n,s=>{const i=s.dom,c=e.dom.createRng();c.setStartBefore(i),c.setEndAfter(i),t(c,!0)}):t(e.selection.getRng(),!1)},J0=(e,t,n)=>{const s=$0(e,t);n(s),e.moveToBookmark(s)},eb=e=>A(e==null?void 0:e.nodeType),By=e=>Wt(e)&&!md(e)&&!ud(e)&&!vu(e),JA=(e,t)=>{if(By(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},e5=(e,t,n)=>{const{selection:s,dom:i}=e,c=s.getNode(),u=Ts(c);J0(s,!0,()=>{t()}),u&&Ts(c)&&i.isChildOf(c,e.getBody())?e.selection.select(c):n(s.getStart())&&mk(i,s)},mk=(e,t)=>{var n,s;const i=t.getRng(),{startContainer:c,startOffset:u}=i,g=t.getNode();if(!JA(e,g)&&Wt(c)){const v=c.childNodes,S=e.getRoot();let O;if(u<v.length){const M=v[u];O=new Ys(M,(n=e.getParent(M,e.isBlock))!==null&&n!==void 0?n:S)}else{const M=v[v.length-1];O=new Ys(M,(s=e.getParent(M,e.isBlock))!==null&&s!==void 0?s:S),O.next(!0)}for(let M=O.current();M;M=O.next()){if(e.getContentEditable(M)==="false")return;if(_t(M)&&!pk(M)){i.setStart(M,0),t.setRng(i);return}}}},fk=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(Wt(e)||!pk(e))return e}},tb=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||wu(e,t),ua=(e,t,n)=>e.schema.isValidChild(t,n),pk=(e,t=!1)=>{if(Ke(e)&&_t(e)){const n=t?e.data.replace(/ /g," "):e.data;return mp(n)}else return!1},tR=e=>Ke(e)&&_t(e)&&e.length===0,oR=(e,t)=>{const n="[data-mce-cef-wrappable]",s=bi(e),i=Wc(s)?n:`${n},${s}`;return Tl(ue.fromDom(t),i)},gk=(e,t)=>{const n=e.dom;return By(t)&&n.getContentEditable(t)==="false"&&oR(e,t)&&n.select('[contenteditable="true"]',t).length===0},Bu=(e,t)=>Xt(e)?e(t):(Ke(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),Py=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Bp=(e,t)=>{if(qo(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=cc(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},sv=(e,t,n)=>{const s=e.getStyle(t,n);return Bp(s,n)},hk=(e,t)=>{let n;return e.getParent(t,s=>Wt(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},rv=(e,t,n)=>e.getParents(t,n,e.getRoot()),Iy=(e,t,n)=>{const s=e.formatter.get(t);return Ke(s)&&Kn(s,n)},t5=(e,t)=>Iy(e,t,s=>{const i=c=>Xt(c)||c.length>1&&c.charAt(0)==="%";return Kn(["styles","attributes"],c=>kn(s,c).exists(u=>{const g=pe(u)?u:pa(u);return Kn(g,i)}))}),o5=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],i=c=>Fo(c,(u,g)=>Kn(s,v=>v===g));return Iy(e,t,c=>{const u=i(c);return Iy(e,n,g=>{const v=i(g);return yc(u,v)})})},Ef=e=>zr(e,"block"),nR=e=>Ef(e)&&e.wrapper===!0,sR=e=>Ef(e)&&e.wrapper!==!0,qd=e=>zr(e,"selector"),ri=e=>zr(e,"inline"),bk=e=>qd(e)&&ri(e)&&Si(kn(e,"mixed"),!0),av=e=>qd(e)&&e.expand!==!1&&!ri(e),rR=e=>{const t=[];let n=e;for(;n;){if(_t(n)&&n.data!==Vs||n.childNodes.length>1)return[];Wt(n)&&t.push(n),n=n.firstChild}return t},n5=e=>rR(e).length>0,xk=e=>ud(e.dom)&&n5(e.dom),ob=md,vk=rv,Af=pk,s5=tb,r5=e=>or(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,a5=(e,t)=>{let n=t;for(;n;){if(Wt(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},i5=(e,t,n,s)=>{const i=t.data;if(e){for(let c=n;c>0;c--)if(s(i.charAt(c-1)))return c}else for(let c=n;c<i.length;c++)if(s(i.charAt(c)))return c;return-1},l5=(e,t,n)=>i5(e,t,n,s=>jg(s)||Em(s)),c5=(e,t,n)=>i5(e,t,n,D1),d5=(e,t,n,s,i,c)=>{let u;const g=e.getParent(n,M=>Zh(M)||e.isBlock(M)),v=Ke(g)?g:t,S=(M,I,j)=>{const J=xf(e),G=i?J.backwards:J.forwards;return z.from(G(M,I,(se,ge)=>ob(se.parentNode)?-1:(u=se,j(i,se,ge)),v))};return S(n,s,l5).bind(M=>c?S(M.container,M.offset+(i?-1:0),c5):z.some(M)).orThunk(()=>u?z.some({container:u,offset:i?0:u.length}):z.none())},Wg=(e,t,n,s,i)=>{const c=s[i];_t(s)&&Wc(s.data)&&c&&(s=c);const u=vk(e,s);for(let g=0;g<u.length;g++)for(let v=0;v<t.length;v++){const S=t[v];if(!(Ke(S.collapsed)&&S.collapsed!==n.collapsed)&&qd(S)&&e.is(u[g],S.selector))return u[g]}return s},yk=(e,t,n,s)=>{var i;let c=n;const u=e.getRoot(),g=t[0];if(Ef(g)&&(c=g.wrapper?null:e.getParent(n,g.block,u)),!c){const v=(i=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&i!==void 0?i:u;c=e.getParent(_t(n)?n.parentNode:n,S=>S!==u&&s5(e.schema,S),v)}if(c&&Ef(g)&&g.wrapper&&(c=vk(e,c,"ul,ol").reverse()[0]||c),!c)for(c=n;c&&c[s]&&!e.isBlock(c[s])&&(c=c[s],!Py(c,"br")););return c||n},wk=(e,t,n,s)=>{const i=n.parentNode;return Ke(n[s])?!1:i===t||qo(i)||e.isBlock(i)?!0:wk(e,t,i,s)},Ly=(e,t,n,s,i,c)=>{let u=n;const g=i?"previousSibling":"nextSibling",v=e.getRoot();if(_t(n)&&!Af(n)&&(i?s>0:s<n.data.length))return n;for(;u;){if(Zh(u))return n;if(!t[0].block_expand&&e.isBlock(u))return c?u:n;for(let S=u[g];S;S=S[g]){const O=_t(S)&&!wk(e,v,S,g);if(!ob(S)&&!r5(S)&&!Af(S,O))return u}if(u===v||u.parentNode===v){n=u;break}u=u.parentNode}return n},Fy=e=>ob(e.parentNode)||ob(e),O1=(e,t,n,s={})=>{const{includeTrailingSpace:i=!1,expandToBlock:c=!0}=s,u=e.getParent(t.commonAncestorContainer,j=>Zh(j)),g=Ke(u)?u:e.getRoot();let{startContainer:v,startOffset:S,endContainer:O,endOffset:M}=t;const I=n[0];return Wt(v)&&v.hasChildNodes()&&(v=Ud(v,S),_t(v)&&(S=0)),Wt(O)&&O.hasChildNodes()&&(O=Ud(O,t.collapsed?M:M-1),_t(O)&&(M=O.data.length)),v=a5(e,v),O=a5(e,O),Fy(v)&&(v=ob(v)?v:v.parentNode,t.collapsed?v=v.previousSibling||v:v=v.nextSibling||v,_t(v)&&(S=t.collapsed?v.length:0)),Fy(O)&&(O=ob(O)?O:O.parentNode,t.collapsed?O=O.nextSibling||O:O=O.previousSibling||O,_t(O)&&(M=t.collapsed?0:O.length)),t.collapsed&&(d5(e,g,v,S,!0,i).each(({container:G,offset:se})=>{v=G,S=se}),d5(e,g,O,M,!1,i).each(({container:G,offset:se})=>{O=G,M=se})),(ri(I)||I.block_expand)&&((!ri(I)||!_t(v)||S===0)&&(v=Ly(e,n,v,S,!0,c)),(!ri(I)||!_t(O)||M===O.data.length)&&(O=Ly(e,n,O,M,!1,c))),av(I)&&(v=Wg(e,n,t,v,"previousSibling"),O=Wg(e,n,t,O,"nextSibling")),(Ef(I)||qd(I))&&(v=yk(e,n,v,"previousSibling"),O=yk(e,n,O,"nextSibling"),Ef(I)&&(e.isBlock(v)||(v=Ly(e,n,v,S,!0,c),_t(v)&&(S=0)),e.isBlock(O)||(O=Ly(e,n,O,M,!1,c),_t(O)&&(M=O.data.length)))),Wt(v)&&v.parentNode&&(S=e.nodeIndex(v),v=v.parentNode),Wt(O)&&O.parentNode&&(M=e.nodeIndex(O)+1,O=O.parentNode),{startContainer:v,startOffset:S,endContainer:O,endOffset:M}},N1=(e,t,n)=>{var s;const i=t.startOffset,c=Ud(t.startContainer,i),u=t.endOffset,g=Ud(t.endContainer,u-1),v=se=>{const ge=se[0];_t(ge)&&ge===c&&i>=ge.data.length&&se.splice(0,1);const _e=se[se.length-1];return u===0&&se.length>0&&_e===g&&_t(_e)&&se.splice(se.length-1,1),se},S=(se,ge,_e)=>{const Be=[];for(;se&&se!==_e;se=se[ge])Be.push(se);return Be},O=(se,ge)=>e.getParent(se,_e=>_e.parentNode===ge,ge),M=(se,ge,_e)=>{const Be=_e?"nextSibling":"previousSibling";for(let $e=se,dt=$e.parentNode;$e&&$e!==ge;$e=dt){dt=$e.parentNode;const Et=S($e===se?$e:$e[Be],Be);Et.length&&(_e||Et.reverse(),n(v(Et)))}};if(c===g)return n(v([c]));const I=(s=e.findCommonAncestor(c,g))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(c,g))return M(c,I,!0);if(e.isChildOf(g,c))return M(g,I);const j=O(c,I)||c,J=O(g,I)||g;M(c,j,!0);const G=S(j===c?j:j.nextSibling,"nextSibling",J===g?J.nextSibling:J);G.length&&n(v(G)),M(g,J)},u5=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],zy=e=>xa(e)&&xg(e)===Vs,aR=(e,t,n,s)=>Qm(t).fold(()=>"skipping",i=>s==="br"||zy(t)?"valid":W2(t)?"existing":ud(t.dom)?"caret":Kn(u5,c=>Tl(t,c))?"valid-block":!ua(e,n,s)||!ua(e,Ro(i),n)?"invalid-child":"valid"),Ck=(e,t)=>{const n=O1(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},_k=(e,t,n,s,i,c)=>{const{uid:u=t,...g}=n;Vi(e,d1()),$r(e,`${Jo()}`,u),$r(e,`${bm()}`,s);const{attributes:v={},classes:S=[]}=i(u,g);if(nc(e,v),lp(e,S),c){S.length>0&&$r(e,`${$d()}`,S.join(","));const O=Fr(v);O.length>0&&$r(e,`${vp()}`,O.join(","))}},m5=e=>{tr(e,d1()),er(e,`${Jo()}`),er(e,`${bm()}`),er(e,`${ji()}`);const t=zs(e,`${vp()}`).map(s=>s.split(",")).getOr([]),n=zs(e,`${$d()}`).map(s=>s.split(",")).getOr([]);nt(t,s=>er(e,s)),ll(e,n),er(e,`${$d()}`),er(e,`${vp()}`)},Hy=(e,t,n,s,i)=>{const c=ue.fromTag("span",e);return _k(c,t,n,s,i,!1),c},f5=(e,t,n,s,i,c)=>{const u=[],g=Hy(e.getDoc(),n,c,s,i),v=nl(),S=()=>{v.clear()},O=()=>v.get().getOrThunk(()=>{const J=le(g);return u.push(J),v.set(J),J}),M=J=>{nt(J,I)},I=J=>{switch(aR(e,J,"span",Ro(J))){case"invalid-child":{S();const se=Da(J);M(se),S();break}case"valid-block":{S(),_k(J,n,c,s,i,!0);break}case"valid":{const se=O();rp(J,se);break}}},j=J=>{const G=Xo(J,ue.fromDom);M(G)};return N1(e.dom,t,J=>{S(),j(J)}),u},kk=(e,t,n,s)=>{e.undoManager.transact(()=>{const i=e.selection,c=i.getRng(),u=kf(e).length>0,g=Cs("mce-annotation");if(c.collapsed&&!u&&Ck(e,c),i.getRng().collapsed&&!u){const v=Hy(e.getDoc(),g,s,t,n.decorate);Qn(v,Ls),i.getRng().insertNode(v.dom),i.select(v.dom)}else J0(i,!1,()=>{My(e,v=>{f5(e,v,g,t,n.decorate,s)})})})},p5=e=>{const t=zx();Fx(e,t);const n=q2(e,t),s=Xm("span"),i=c=>{nt(c,u=>{s(u)?R(u):m5(u)})};return{register:(c,u)=>{t.register(c,u)},annotate:(c,u)=>{t.lookup(c).each(g=>{kk(e,c,g,u)})},annotationChanged:(c,u)=>{n.addListener(c,u)},remove:c=>{wn(e,z.some(c)).each(({elements:u})=>{const g=e.selection.getBookmark();i(u),e.selection.moveToBookmark(g)})},removeAll:c=>{const u=e.selection.getBookmark();Un(Lx(e,c),(g,v)=>{i(g)}),e.selection.moveToBookmark(u)},getAll:c=>{const u=Lx(e,c);return jn(u,g=>Xo(g,v=>v.dom))}}},iv=e=>({getBookmark:je(Zo,e),moveToBookmark:je(uk,e)});iv.isBookmarkNode=md;const Bc=(e,t,n)=>n.collapsed?!1:Kn(n.getClientRects(),s=>Q2(s,e,t)),Sk=(e,t)=>{const n=xa(t)?xg(t).length:Da(t).length+1;return e>n?n:e<0?0:e},iR=e=>df.range(e.start,Sk(e.soffset,e.start),e.finish,Sk(e.foffset,e.finish)),Ek=(e,t)=>!_g(t.dom)&&(Pi(e,t)||yn(e,t)),g5=e=>t=>Ek(e,t.start)&&Ek(e,t.finish),nb=e=>e.inline||Vo.browser.isFirefox(),sb=e=>df.range(ue.fromDom(e.startContainer),e.startOffset,ue.fromDom(e.endContainer),e.endOffset),lR=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?z.none():z.from(t.getRangeAt(0))).map(sb)},Dm=e=>{const t=Nd(e);return lR(t.dom).filter(g5(e))},cR=(e,t)=>z.from(t).filter(g5(e)).map(iR),dR=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),z.some(t)}catch{return z.none()}},R1=e=>{const t=nb(e)?Dm(ue.fromDom(e.getBody())):z.none();e.bookmark=t.isSome()?t:e.bookmark},lv=e=>(e.bookmark?e.bookmark:z.none()).bind(n=>cR(ue.fromDom(e.getBody()),n)).bind(dR),Ak=e=>{lv(e).each(t=>e.selection.setRng(t))},Pp={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},mR=(e,t)=>(A(t)||(t=0),window.setTimeout(e,t)),fR=(e,t)=>(A(t)||(t=0),window.setInterval(e,t)),No={setEditorTimeout:(e,t,n)=>mR(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=fR(()=>{e.removed?window.clearInterval(s):t()},n);return s}},h5=(e,t)=>e.view(t).fold(St([]),s=>{const i=e.owner(s),c=h5(e,i);return[s].concat(c)}),b5=(e,t)=>{const n=t.owner(e);return h5(t,n)};var pR=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?z.none():z.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(ue.fromDom)},owner:e=>uu(e)});const Qs=e=>{const t=op(),n=Pd(t),s=b5(e,pR),i=xo(e),c=vc(s,(u,g)=>{const v=xo(g);return{left:u.left+v.left,top:u.top+v.top}},{left:0,top:0});return hg(c.left+i.left+n.left,c.top+i.top+n.top)},x5=e=>e.type==="nodechange"&&e.selectionChange,v5=(e,t)=>{const n=()=>{t.throttle()};Ds.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Ds.DOM.unbind(document,"mouseup",n)})},gR=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},y5=(e,t)=>{gR(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{x5(n)||R1(e)})},Ip=e=>{const t=Xa(()=>{R1(e)},0);e.on("init",()=>{e.inline&&v5(e,t),y5(e,t)}),e.on("remove",()=>{t.cancel()})};let qg;const Tk=Ds.DOM,Dk=e=>Wt(e)&&Pp.isEditorUIElement(e),Ok=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Gr=(e,t)=>{const n=j0(e);return Tk.getParent(t,i=>Dk(i)||(n?e.dom.is(i,n):!1))!==null},Nk=e=>{try{const t=ed(ue.fromDom(e.getElement()));return tf(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},Gg=(e,t)=>{const n=t.editor;Ip(n);const s=(c,u)=>{if(CA(c)&&c.inline!==!0){const g=ue.fromDom(c.getContainer());u(g,"tox-edit-focus")}},i=c=>{if(!c.iframeElement)return;const g=ue.fromDom(c.iframeElement),v=Qs(g),S=ac(window);(v.top<S.y||v.top>S.bottom-25)&&g.dom.scrollIntoView({block:"center"})};n.on("focusin",()=>{const c=e.focusedEditor;if(Ok(Nk(n))&&s(n,Vi),c!==n){c&&c.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:c}),n.focus(!0);const u=Jn().browser;n.inline!==!0&&(u.isSafari()||u.isChromium())&&i(n)}}),n.on("focusout",()=>{No.setEditorTimeout(n,()=>{const c=e.focusedEditor;(!Ok(Nk(n))||c!==n)&&s(n,tr),!Gr(n,Nk(n))&&c===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),qg||(qg=c=>{const u=e.activeEditor;u&&Qf(c).each(g=>{const v=g;v.ownerDocument===document&&v!==document.body&&!Gr(u,v)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},Tk.bind(document,"focusin",qg))},hR=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&qg&&(Tk.unbind(document,"focusin",qg),qg=null)},bR=e=>{e.on("AddEditor",je(Gg,e)),e.on("RemoveEditor",je(hR,e))},xR=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),vR=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,yR=e=>e.collapsed?z.from(Ud(e.startContainer,e.startOffset)).map(ue.fromDom):z.none(),wR=(e,t)=>yR(t).bind(n=>F0(n)?z.some(n):Pi(e,n)?z.none():z.some(e)),w5=(e,t)=>{wR(ue.fromDom(e.getBody()),t).bind(n=>hl(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},Vy=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},CR=e=>sp(e)||Ac(e).isSome(),$y=e=>Ke(e.iframeElement)&&sp(ue.fromDom(e.iframeElement)),_R=e=>{const t=e.getBody();return t&&CR(ue.fromDom(t))},kR=e=>{const t=ed(ue.fromDom(e.getElement()));return tf(t).filter(n=>!Ok(n.dom)&&Gr(e,n.dom)).isSome()},Tf=e=>e.inline?_R(e):$y(e),cv=e=>Tf(e)||kR(e),M1=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const i=u=>{lv(u).each(g=>{u.selection.setRng(g),s=g})};!Tf(e)&&e.hasEditableRoot()&&i(e);const c=xR(e,t.getNode());if(c&&e.dom.isChildOf(c,n)){vR(e,c)||Vy(n),Vy(c),e.hasEditableRoot()||i(e),w5(e,s),Lp(e);return}e.inline||(Vo.browser.isOpera()||Vy(n),e.getWin().focus()),(Vo.browser.isFirefox()||e.inline)&&(Vy(n),w5(e,s)),Lp(e)},Lp=e=>e.editorManager.setActive(e),Uy=(e,t)=>{e.removed||(t?Lp(e):M1(e))},qt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||qt.metaKeyPressed(e),metaKeyPressed:e=>Vo.os.isMacOS()||Vo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Gd="data-mce-selected",B1="table,img,figure.image,hr,video,span.mce-preview-object,details",dv=Math.abs,P1=Math.round,Zy={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Rk=e=>e.type==="longpress"||e.type.indexOf("touch")===0,jy=(e,t)=>{const n=t.dom,s=t.getDoc(),i=document,c=t.getBody();let u,g,v,S,O,M,I,j,J,G,se,ge,_e,Be,$e;const dt=it=>Ke(it)&&(ix(it)||n.is(it,"figure.image")),Et=it=>lc(it)||n.hasClass(it,"mce-preview-object"),Gt=(it,At)=>{if(Rk(it)){const so=it.touches[0];return dt(it.target)&&!Bc(so.clientX,so.clientY,At)}else return dt(it.target)&&!Bc(it.clientX,it.clientY,At)},Qe=it=>{const At=it.target;Gt(it,t.selection.getRng())&&!it.isDefaultPrevented()&&t.selection.select(At)},qe=it=>n.hasClass(it,"mce-preview-object")&&Ke(it.firstElementChild)?[it,it.firstElementChild]:n.is(it,"figure.image")?[it.querySelector("img")]:[it],mt=it=>{const At=$_(t);return!At||t.mode.isReadOnly()||it.getAttribute("data-mce-resize")==="false"||it===t.getBody()?!1:n.hasClass(it,"mce-preview-object")&&Ke(it.firstElementChild)?Tl(ue.fromDom(it.firstElementChild),At):Tl(ue.fromDom(it),At)},Zt=(it,At)=>{if(Et(At))return it.create("img",{src:Vo.transparentSrc});if(yu(At)){const rn=ar(S.name,"n")?Kt:jo,cn=At.cloneNode(!0);return rn(it.select("tr",cn)).each(rs=>{const Vm=it.select("td,th",rs);it.setStyle(rs,"height",null),nt(Vm,wh=>it.setStyle(wh,"height",null))}),cn}else return At.cloneNode(!0)},io=(it,At,so)=>{if(Ke(so)){const rn=qe(it);nt(rn,cn=>{cn.style[At]||!t.schema.isValid(cn.nodeName.toLowerCase(),At)?n.setStyle(cn,At,so):n.setAttrib(cn,At,""+so)})}},en=(it,At,so)=>{io(it,"width",At),io(it,"height",so)},sn=it=>{let At,so,rn,cn,rs;At=it.screenX-M,so=it.screenY-I,ge=At*S[2]+j,_e=so*S[3]+J,ge=ge<5?5:ge,_e=_e<5?5:_e,(dt(u)||Et(u))&&U_(t)!==!1?rn=!qt.modifierPressed(it):rn=qt.modifierPressed(it),rn&&(dv(At)>dv(so)?(_e=P1(ge*G),ge=P1(_e/G)):(ge=P1(_e/G),_e=P1(ge*G))),en(g,ge,_e),cn=S.startPos.x+At,rs=S.startPos.y+so,cn=cn>0?cn:0,rs=rs>0?rs:0,n.setStyles(v,{left:cn,top:rs,display:"block"}),v.innerHTML=ge+" &times; "+_e,At=c.scrollWidth-Be,so=c.scrollHeight-$e,At+so!==0&&n.setStyles(v,{left:cn-At,top:rs-so}),se||($s(t,u,j,J,"corner-"+S.name),se=!0)},Vn=()=>{const it=se;se=!1,it&&(io(u,"width",ge),io(u,"height",_e)),n.unbind(s,"mousemove",sn),n.unbind(s,"mouseup",Vn),i!==s&&(n.unbind(i,"mousemove",sn),n.unbind(i,"mouseup",Vn)),n.remove(g),n.remove(v),n.remove(O),hs(u),it&&(GE(t,u,ge,_e,"corner-"+S.name),n.setAttrib(u,"style",n.getAttrib(u,"style"))),t.nodeChanged()},hs=it=>{ao();const At=n.getPos(it,c),so=At.x,rn=At.y,cn=it.getBoundingClientRect(),rs=cn.width||cn.right-cn.left,Vm=cn.height||cn.bottom-cn.top;u!==it&&(ai(),u=it,ge=_e=0);const wh=t.dispatch("ObjectSelected",{target:it});mt(it)&&!wh.isDefaultPrevented()?Un(Zy,(zc,Vf)=>{const ju=Hc=>{const $m=qe(u)[0];M=Hc.screenX,I=Hc.screenY,j=$m.clientWidth,J=$m.clientHeight,G=J/j,S=zc,S.name=Vf,S.startPos={x:rs*zc[0]+so,y:Vm*zc[1]+rn},Be=c.scrollWidth,$e=c.scrollHeight,O=n.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(O,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=Zt(n,u),n.addClass(g,"mce-clonedresizable"),n.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",n.setStyles(g,{left:so,top:rn,margin:0}),en(g,rs,Vm),g.removeAttribute(Gd),c.appendChild(g),n.bind(s,"mousemove",sn),n.bind(s,"mouseup",Vn),i!==s&&(n.bind(i,"mousemove",sn),n.bind(i,"mouseup",Vn)),v=n.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},j+" &times; "+J)};let hc=n.get("mceResizeHandle"+Vf);hc&&n.remove(hc),hc=n.add(c,"div",{id:"mceResizeHandle"+Vf,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Vf+"-resize; margin:0; padding:0"}),n.bind(hc,"mousedown",Hc=>{Hc.stopImmediatePropagation(),Hc.preventDefault(),ju(Hc)}),zc.elm=hc,n.setStyles(hc,{left:rs*zc[0]+so-hc.offsetWidth/2,top:Vm*zc[1]+rn-hc.offsetHeight/2})}):ai(!1)},ma=Xa(hs,0),ai=(it=!0)=>{ma.cancel(),ao(),u&&it&&u.removeAttribute(Gd),Un(Zy,(At,so)=>{const rn=n.get("mceResizeHandle"+so);rn&&(n.unbind(rn),n.remove(rn))})},vi=(it,At)=>n.isChildOf(it,At),It=it=>{if(se||t.removed||t.composing)return;const At=it.type==="mousedown"?it.target:e.getNode(),so=zi(ue.fromDom(At),B1).map(cn=>cn.dom).filter(cn=>n.isEditable(cn.parentElement)||cn.nodeName==="IMG"&&n.isEditable(cn)).getOrUndefined(),rn=Ke(so)?n.getAttrib(so,Gd,"1"):"1";if(nt(n.select(`img[${Gd}],hr[${Gd}]`),cn=>{cn.removeAttribute(Gd)}),Ke(so)&&vi(so,c)&&cv(t)){zn();const cn=e.getStart(!0);if(vi(cn,so)&&vi(e.getEnd(!0),so)){n.setAttrib(so,Gd,rn),ma.throttle(so);return}}ai()},ao=()=>{Un(Zy,it=>{it.elm&&(n.unbind(it.elm),delete it.elm)})},zn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{zn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",It),t.on("keyup compositionend",it=>{u&&u.nodeName==="TABLE"&&It(it)}),t.on("hide blur",ai),t.on("contextmenu longpress",Qe,!0)}),t.on("remove",ao),{isResizable:mt,showResizeRect:hs,hideResizeRect:ai,updateResizeRect:It,destroy:()=>{ma.cancel(),u=g=O=null}}},Mk=(e,t,n)=>{const s=Nd(ue.fromDom(n));return N2(s.dom,e,t).map(i=>{const c=n.createRange();return c.setStart(i.start.dom,i.soffset),c.setEnd(i.finish.dom,i.foffset),c}).getOrUndefined()},Wy=(e,t)=>Ke(e)&&Ke(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,rb=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},Bk=(e,t,n)=>rb(e,t,n)!==null,C5=(e,t,n)=>Bk(e,t,s=>s.nodeName===n),_5=(e,t)=>zl(e)&&!Bk(e,t,ud),uv=(e,t,n)=>{const s=t.parentNode;if(s){const i=new Ys(t,e.getParent(s,e.isBlock)||e.getRoot());let c;for(;c=i[n?"prev":"next"]();)if(or(c))return!0}return!1},k5=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},S5=(e,t)=>{let n=t;for(;n&&n!==e;){if(Ts(n))return!0;n=n.parentNode}return!1},qy=(e,t,n,s,i)=>{const c=e.getRoot(),u=e.schema.getNonEmptyElements(),g=i.parentNode;let v,S;if(!g)return z.none();const O=e.getParent(g,e.isBlock)||c;if(s&&or(i)&&t&&e.isEmpty(O))return z.some(Ye(g,e.nodeIndex(i)));const M=new Ys(i,O);for(;S=M[s?"prev":"next"]();){if(e.getContentEditableParent(S)==="false"||_5(S,c))return z.none();if(_t(S)&&S.data.length>0)return C5(S,c,"A")?z.none():z.some(Ye(S,s?S.data.length:0));if(e.isBlock(S)||u[S.nodeName.toLowerCase()])return z.none();v=S}return Ml(v)?z.none():n&&v?z.some(Ye(v,0)):z.none()},Pk=(e,t,n,s)=>{const i=e.getRoot();let c,u=!1,g=n?s.startContainer:s.endContainer,v=n?s.startOffset:s.endOffset;const S=Wt(g)&&v===g.childNodes.length,O=e.schema.getNonEmptyElements();let M=n;if(zl(g))return z.none();if(Wt(g)&&v>g.childNodes.length-1&&(M=!1),mf(g)&&(g=i,v=0),g===i){if(M&&(c=g.childNodes[v>0?v-1:0],c&&(zl(c)||O[c.nodeName]||yu(c))))return z.none();if(g.hasChildNodes()){if(v=Math.min(!M&&v>0?v-1:v,g.childNodes.length-1),g=g.childNodes[v],v=_t(g)&&S?g.data.length:0,!t&&g===i.lastChild&&yu(g)||S5(i,g)||zl(g)||jh(g))return z.none();if(g.hasChildNodes()&&!yu(g)){c=g;const I=new Ys(g,i);do{if(Ts(c)||zl(c)){u=!1;break}if(_t(c)&&c.data.length>0){v=M?0:c.data.length,g=c,u=!0;break}if(O[c.nodeName.toLowerCase()]&&!lx(c)){v=e.nodeIndex(c),g=c.parentNode,M||v++,u=!0;break}}while(c=M?I.next():I.prev())}}}return t&&(_t(g)&&v===0&&qy(e,S,t,!0,g).each(I=>{g=I.container(),v=I.offset(),u=!0}),Wt(g)&&(c=g.childNodes[v],c||(c=g.childNodes[v-1]),c&&or(c)&&!k5(c,"A")&&!uv(e,c,!1)&&!uv(e,c,!0)&&qy(e,S,t,!0,c).each(I=>{g=I.container(),v=I.offset(),u=!0}))),M&&!t&&_t(g)&&v===g.data.length&&qy(e,S,t,!1,g).each(I=>{g=I.container(),v=I.offset(),u=!0}),u&&g?z.some(Ye(g,v)):z.none()},Pu=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),i=Ye.fromRangeStart(t);return Pk(e,n,!0,s).each(c=>{(!n||!Ye.isAbove(i,c))&&s.setStart(c.container(),c.offset())}),n||Pk(e,n,!1,s).each(c=>{s.setEnd(c.container(),c.offset())}),n&&s.collapse(!0),Wy(t,s)?z.none():z.some(s)},Om=(e,t)=>e.splitText(t),Pc=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,i=e.endOffset;if(t===s&&_t(t)){if(n>0&&n<t.data.length)if(s=Om(t,n),t=s.previousSibling,i>n){i=i-n;const c=Om(s,i).previousSibling;t=s=c,i=c.data.length,n=0}else i=0}else if(_t(t)&&n>0&&n<t.data.length&&(t=Om(t,n),n=0),_t(s)&&i>0&&i<s.data.length){const c=Om(s,i).previousSibling;s=c,i=c.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:i}},Fp=e=>({walk:(c,u)=>N1(e,c,u),split:Pc,expand:(c,u={type:"word"})=>{if(u.type==="word"){const g=O1(e,c,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),v=e.createRng();return v.setStart(g.startContainer,g.startOffset),v.setEnd(g.endContainer,g.endOffset),v}return c},normalize:c=>Pu(e,c).fold(Ao,u=>(c.setStart(u.startContainer,u.startOffset),c.setEnd(u.endContainer,u.endOffset),!0))});Fp.compareRanges=Wy,Fp.getCaretRangeFromPoint=Mk,Fp.getSelectedNode=zg,Fp.getNode=Ud;const mv=e=>Ro(e)==="textarea",E5=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),A5=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},T5=(e,t)=>{const n=Da(e);if(n.length===0||mv(e))return{element:e,offset:t};if(t<n.length&&!mv(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return mv(s)?{element:e,offset:t}:Ro(s)==="img"?{element:s,offset:1}:xa(s)?{element:s,offset:xg(s).length}:{element:s,offset:Da(s).length}}},Gy=(e,t)=>{const n=rc(e),s=ox(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},D5=(e,t)=>{const n=T5(e,t),s=ue.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Vs+"</span>");return ei(n.element,s),Gy(s,()=>k(s))},O5=e=>Gy(ue.fromDom(e),ko),Ky=(e,t,n,s)=>{N5(e,(i,c)=>Iu(e,t,n,s),n)},Nm=(e,t,n,s,i)=>{const c={elm:s.element.dom,alignToTop:i};if(E5(e,c))return;const u=Pd(t).top;n(e,t,u,s,i),A5(e,c)},Iu=(e,t,n,s)=>{const i=ue.fromDom(e.getBody()),c=ue.fromDom(e.getDoc());tx(i);const u=D5(ue.fromDom(n.startContainer),n.startOffset);Nm(e,c,t,u,s),u.cleanup()},fv=(e,t,n,s)=>{const i=ue.fromDom(e.getDoc());Nm(e,i,n,O5(t),s)},N5=(e,t,n)=>{const s=n.startContainer,i=n.startOffset,c=n.endContainer,u=n.endOffset;t(ue.fromDom(s),ue.fromDom(c));const g=e.dom.createRng();g.setStart(s,i),g.setEnd(c,u),e.selection.setRng(n)},ab=(e,t,n,s,i)=>{const c=t.pos,u=30;if(s)bg(c.left,Math.max(0,c.top-u),i);else{const g=c.top-n+t.height+u;bg(-e.getBody().getBoundingClientRect().left,g,i)}},Ik=(e,t,n,s,i,c)=>{const u=s+n,g=i.pos.top,v=i.bottom,S=v-g>=s;g<n?ab(e,i,s,c!==!1,t):g>u?ab(e,i,s,S?c!==!1:c===!0,t):v>u&&!S&&ab(e,i,s,c===!0,t)},Lk=(e,t,n,s,i)=>{const c=Nd(t).dom.innerHeight;Ik(e,t,n,c,s,i)},Fk=(e,t,n,s,i)=>{const c=Nd(t).dom.innerHeight;Ik(e,t,n,c,s,i);const u=Qs(s.element),g=ac(window);u.top<g.y?sx(s.element,i!==!1):u.top>g.bottom&&sx(s.element,i===!0)},R5=(e,t,n)=>Ky(e,Lk,t,n),M5=(e,t,n)=>fv(e,t,Lk,n),B5=(e,t,n)=>Ky(e,Fk,t,n),Yy=(e,t,n)=>fv(e,t,Fk,n),zk=(e,t,n)=>{(e.inline?M5:Yy)(e,t,n)},ib=(e,t,n)=>{(e.inline?R5:B5)(e,t,n)},Xy=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),P5=(e,t,n,s,i)=>{const c=n?t.startContainer:t.endContainer,u=n?t.startOffset:t.endOffset;return z.from(c).map(ue.fromDom).map(g=>!s||!t.collapsed?Md(g,i(g,u)).getOr(g):g).bind(g=>pr(g)?z.some(g):Sc(g).filter(pr)).map(g=>g.dom).getOr(e)},I5=(e,t,n=!1)=>P5(e,t,!0,n,(s,i)=>Math.min(Jm(s),i)),L5=(e,t,n=!1)=>P5(e,t,!1,n,(s,i)=>i>0?i-1:i),F5=(e,t)=>{const n=e;for(;e&&_t(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},SR=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const i=t.startOffset,c=t.endOffset;let u=t.commonAncestorContainer;t.collapsed||(n===s&&c-i<2&&n.hasChildNodes()&&(u=n.childNodes[i]),_t(n)&&_t(s)&&(n.length===i?n=F5(n.nextSibling,!0):n=n.parentNode,c===0?s=F5(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(u=n)));const g=_t(u)?u.parentNode:u;return pi(g)?g:e},ER=(e,t,n,s)=>{const i=[],c=e.getRoot(),u=e.getParent(n||I5(c,t,t.collapsed),e.isBlock),g=e.getParent(s||L5(c,t,t.collapsed),e.isBlock);if(u&&u!==c&&i.push(u),u&&g&&u!==g){let v;const S=new Ys(u,c);for(;(v=S.next())&&v!==g;)e.isBlock(v)&&i.push(v)}return g&&u!==g&&g!==c&&i.push(g),i},Qy=(e,t,n)=>z.from(t).bind(s=>z.from(s.parentNode).map(i=>{const c=e.nodeIndex(s),u=e.createRng();return u.setStart(i,c),u.setEnd(i,c+1),n&&(nv(e,u,s,!0),nv(e,u,s,!1)),u})),pv=(e,t)=>Xo(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),z5={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},lb=(e,t,n)=>{const s=n?"lastChild":"firstChild",i=n?"prev":"next";if(e[s])return e[s];if(e!==t){let c=e[i];if(c)return c;for(let u=e.parent;u&&u!==t;u=u.parent)if(c=u[i],c)return c}},AR=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!mp(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},H5=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Ul{static create(t,n){const s=new Ul(t,z5[t]||1);return n&&Un(n,(i,c)=>{s.attr(c,i)}),s}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!Ue(t))return Ke(t)&&Un(t,(c,u)=>{s.attr(u,c)}),s;const i=s.attributes;if(i){if(n!==void 0){if(n===null){if(t in i.map){delete i.map[t];let c=i.length;for(;c--;)if(i[c].name===t)return i.splice(c,1),s}return s}if(t in i.map){let c=i.length;for(;c--;)if(i[c].name===t){i[c].value=n;break}}else i.push({name:t,value:n});return i.map[t]=n,s}return i.map[t]}}clone(){const t=this,n=new Ul(t.name,t.type),s=t.attributes;if(s){const i=[];i.map={};for(let c=0,u=s.length;c<u;c++){const g=s[c];g.name!=="id"&&(i[i.length]={name:g.name,value:g.value},i.map[g.name]=g.value)}n.attributes=i}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,i=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):i&&(i.next=s),n.lastChild===t?(n.lastChild=i,i&&(i.next=null)):s&&(s.prev=i),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const i=n.parent||this;return s?(n===i.firstChild?i.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===i.lastChild?i.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=i,t}getAll(t){const n=this,s=[];for(let i=n.firstChild;i;i=lb(i,n))i.name===t&&s.push(i);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let i=t.firstChild;i;i=lb(i,t))n.push(i);let s=n.length;for(;s--;){const i=n[s];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var i;const c=this;let u=c.firstChild;if(H5(c))return!1;if(u)do{if(u.type===1){if(u.attr("data-mce-bogus"))continue;if(t[u.name]||H5(u))return!1}if(u.type===8||u.type===3&&!AR(u)||u.type===3&&u.parent&&n[u.parent.name]&&mp((i=u.value)!==null&&i!==void 0?i:"")||s&&s(u))return!1}while(u=lb(u,c));return!0}walk(t){return lb(this,null,t)}}const TR=Dt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),V5=e=>Ue(e.nodeValue)&&e.nodeValue.includes(Vs),$5=e=>`${e.length===0?"":`${Xo(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,Jy=(e,t)=>t.querySelectorAll($5(e)),gv=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>V5(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),hv=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(V5(t)){const n=t.parentNode;return n&&Jt(TR,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),DR=e=>gv(e).nextNode()!==null,OR=e=>hv(e).nextNode()!==null,NR=(e,t)=>t.querySelector($5(e))!==null,RR=(e,t)=>{nt(Jy(e,t),n=>{const s=ue.fromDom(n);Oa(s,"data-mce-bogus")==="all"?k(s):nt(e,i=>{Js(s,i)&&er(s,i)})})},U5=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},MR=Bn(U5,gv),Lu=Bn(U5,hv),Hk=(e,t)=>{const n=[{condition:je(NR,t),action:je(RR,t)},{condition:DR,action:MR},{condition:OR,action:Lu}];let s=e,i=!1;return nt(n,({condition:c,action:u})=>{c(s)&&(i||(s=e.cloneNode(!0),i=!0),u(s))}),s},Z5=e=>{const t=mn(e,"[data-mce-bogus]");nt(t,n=>{Oa(n,"data-mce-bogus")==="all"?k(n):Wi(n)?(ei(n,ue.fromText(Ea)),k(n)):R(n)})},Vk=e=>{const t=mn(e,"input");nt(t,n=>{er(n,"name")})},BR=(e,t)=>{const n=Ni(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},PR=(e,t)=>{const n=e.getDoc(),s=ed(ue.fromDom(e.getBody())),i=ue.fromTag("div",n);$r(i,"data-mce-bogus","all"),pu(i,{position:"fixed",left:"-9999999px",top:"0"}),Qn(i,t.innerHTML),Z5(i),Vk(i);const c=Ja(s);Zn(c,i);const u=pl(i.dom.innerText);return k(i),u},Xi=(e,t,n)=>{let s;return t.format==="raw"?s=Dt.trim(pl(Hk(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=PR(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=BR(e,e.serializer.serialize(n,t)),t.format!=="text"&&!f1(ue.fromDom(n))&&Ue(s)?Dt.trim(s):s},IR=(e,t)=>z.from(e.getBody()).fold(St(t.format==="tree"?new Ul("body",11):""),n=>Xi(e,t,n)),j5=Dt.makeMap,W5=e=>{const t=[];e=e||{};const n=e.indent,s=j5(e.indent_before||""),i=j5(e.indent_after||""),c=fm.getEncodeFunc(e.entity_encoding||"raw",e.entities),u=e.element_format!=="xhtml";return{start:(g,v,S)=>{if(n&&s[g]&&t.length>0){const O=t[t.length-1];O.length>0&&O!==`
`&&t.push(`
`)}if(t.push("<",g),v)for(let O=0,M=v.length;O<M;O++){const I=v[O];t.push(" ",I.name,'="',c(I.value,!0),'"')}if(!S||u?t[t.length]=">":t[t.length]=" />",S&&n&&i[g]&&t.length>0){const O=t[t.length-1];O.length>0&&O!==`
`&&t.push(`
`)}},end:g=>{let v;t.push("</",g,">"),n&&i[g]&&t.length>0&&(v=t[t.length-1],v.length>0&&v!==`
`&&t.push(`
`))},text:(g,v)=>{g.length>0&&(t[t.length]=v?g:c(g))},cdata:g=>{t.push("<![CDATA[",g,"]]>")},comment:g=>{t.push("<!--",g,"-->")},pi:(g,v)=>{v?t.push("<?",g," ",c(v),"?>"):t.push("<?",g,"?>"),n&&t.push(`
`)},doctype:g=>{t.push("<!DOCTYPE",g,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Kg=(e={},t=gf())=>{const n=W5(e);return e.validate="validate"in e?e.validate:!0,{serialize:i=>{const c=e.validate,u={3:v=>{var S;n.text((S=v.value)!==null&&S!==void 0?S:"",v.raw)},8:v=>{var S;n.comment((S=v.value)!==null&&S!==void 0?S:"")},7:v=>{n.pi(v.name,v.value)},10:v=>{var S;n.doctype((S=v.value)!==null&&S!==void 0?S:"")},4:v=>{var S;n.cdata((S=v.value)!==null&&S!==void 0?S:"")},11:v=>{let S=v;if(S=S.firstChild)do g(S);while(S=S.next)}};n.reset();const g=v=>{var S;const O=u[v.type];if(O)O(v);else{const M=v.name,I=M in t.getVoidElements();let j=v.attributes;if(c&&j&&j.length>1){const J=[];J.map={};const G=t.getElementRule(v.name);if(G){for(let se=0,ge=G.attributesOrder.length;se<ge;se++){const _e=G.attributesOrder[se];if(_e in j.map){const Be=j.map[_e];J.map[_e]=Be,J.push({name:_e,value:Be})}}for(let se=0,ge=j.length;se<ge;se++){const _e=j[se].name;if(!(_e in J.map)){const Be=j.map[_e];J.map[_e]=Be,J.push({name:_e,value:Be})}}j=J}}if(n.start(M,j,I),gp(M))Ue(v.value)&&n.text(v.value,!0),n.end(M);else if(!I){let J=v.firstChild;if(J){(M==="pre"||M==="textarea")&&J.type===3&&((S=J.value)===null||S===void 0?void 0:S[0])===`
`&&n.text(`
`,!0);do g(J);while(J=J.next)}n.end(M)}}};return i.type===1&&!e.inner?g(i):i.type===3?u[3](i):u[11](i),n.getContent()}}},bv=new Set;nt(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{bv.add(t)});const ew=new Set;nt(["background-color"],t=>{ew.add(t)});const $k=["font","text-decoration","text-emphasis"],tw=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),I1=(e,t)=>Fr(tw(e,t)),q5=e=>bv.has(e),G5=e=>ew.has(e),K5=(e,t)=>Kn(I1(e,t),n=>q5(n)),LR=(e,t)=>K5(e,t)&&Kn(I1(e,t),n=>G5(n)),FR=e=>_o(e,t=>Kn($k,n=>ar(t,n))),zR=(e,t,n)=>{const s=I1(e,t),i=I1(e,n),c=u=>{var g,v;const S=(g=e.getStyle(t,u))!==null&&g!==void 0?g:"",O=(v=e.getStyle(n,u))!==null&&v!==void 0?v:"";return La(S)&&La(O)&&S!==O};return Kn(s,u=>{const g=v=>Kn(v,S=>S===u);if(!g(i)&&g($k)){const v=FR(i);return Kn(v,c)}else return c(u)})},xv=(e,t,n)=>z.from(n.container()).filter(_t).exists(s=>{const i=e?0:-1;return t(s.data.charAt(n.offset()+i))}),ow=je(xv,!0,Em),nw=je(xv,!1,Em),Y5=e=>{const t=e.container();return _t(t)&&(t.data.length===0||h1(t.data)&&iv.isBookmarkNode(t.parentNode))},Yg=(e,t)=>n=>Cy(e?0:-1,n).filter(t).isSome(),X5=e=>ix(e)&&sc(ue.fromDom(e),"display")==="block",sw=e=>Ts(e)&&!R2(e),Uk=Yg(!0,X5),Zk=Yg(!1,X5),vv=Yg(!0,lc),yv=Yg(!1,lc),Q5=Yg(!0,yu),jk=Yg(!1,yu),zp=Yg(!0,sw),Xg=Yg(!1,sw),HR=e=>e.slice(0,-1),VR=(e,t,n)=>Pi(t,e)?HR(Dh(e,s=>n(s)||yn(s,t))):[],J5=(e,t)=>VR(e,t,Ao),Hp=(e,t)=>[e].concat(J5(e,t)),Qg=(e,t,n)=>tv(e,t,n,Y5),rw=e=>t=>e.isBlock(Ro(t)),Wk=(e,t,n)=>js(Hp(ue.fromDom(t.container()),e),rw(n)),qk=(e,t,n,s)=>Qg(e,t.dom,n).forall(i=>Wk(t,n,s).fold(()=>!km(i,n,t.dom),c=>!km(i,n,t.dom)&&Pi(c,ue.fromDom(i.container())))),aw=(e,t,n,s)=>Wk(t,n,s).fold(()=>Qg(e,t.dom,n).forall(i=>!km(i,n,t.dom)),i=>Qg(e,i.dom,n).isNone()),Gk=je(aw,!1),eT=je(aw,!0),$R=je(qk,!1),Kd=je(qk,!0),wv=e=>_y(e).exists(Wi),iw=(e,t,n,s)=>{const i=_o(Hp(ue.fromDom(n.container()),t),u=>s.isBlock(Ro(u))),c=Kt(i).getOr(t);return xi(e,c.dom,n).filter(wv)},cb=(e,t,n)=>_y(t).exists(Wi)||iw(!0,e,t,n).isSome(),Jg=(e,t,n)=>HN(t).exists(Wi)||iw(!1,e,t,n).isSome(),tT=je(iw,!1),db=je(iw,!0),os=e=>Ye.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),ub=(e,t,n)=>{const s=_o(Hp(ue.fromDom(t.container()),e),i=>n.isBlock(Ro(i)));return Kt(s).getOr(e)},Kk=(e,t,n)=>os(t)?nw(t):nw(t)||dc(ub(e,t,n).dom,t).exists(nw),Yk=(e,t,n)=>os(t)?ow(t):ow(t)||gl(ub(e,t,n).dom,t).exists(ow),lw=e=>on(["pre","pre-wrap"],e),Cv=e=>_y(e).bind(t=>Ur(t,pr)).exists(t=>lw(sc(t,"white-space"))),Xk=(e,t)=>dc(e.dom,t).isNone(),Qk=(e,t)=>gl(e.dom,t).isNone(),Jk=(e,t,n)=>Xk(e,t)||Qk(e,t)||Gk(e,t,n)||eT(e,t,n)||Jg(e,t,n)||cb(e,t,n),cw=e=>Ke(e)&&Ts(e)&&yy(e),dw=(e,t)=>n=>cw(new Ys(n,e)[t]()),oT=(e,t)=>{const n=gl(e.dom,t).getOr(t),s=dw(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},nT=(e,t)=>{const n=dc(e.dom,t).getOr(t),s=dw(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},e4=(e,t,n)=>Cv(t)?!1:Jk(e,t,n)||Kk(e,t,n)||Yk(e,t,n),mb=(e,t,n)=>Cv(t)?!1:Gk(e,t,n)||$R(e,t,n)||Jg(e,t,n)||Kk(e,t,n)||nT(e,t),sT=e=>{const t=e.container(),n=e.offset();return _t(t)&&n<t.data.length?Ye(t,n+1):e},Df=(e,t,n)=>Cv(t)?!1:eT(e,t,n)||Kd(e,t,n)||cb(e,t,n)||Yk(e,t,n)||oT(e,t),uw=(e,t,n)=>mb(e,t,n)||Df(e,sT(t),n),mw=(e,t)=>jg(e.charAt(t)),rT=(e,t)=>Em(e.charAt(t)),UR=e=>{const t=e.container();return _t(t)&&Or(t.data,Ls)},aT=e=>{const t=e.split("");return Xo(t,(n,s)=>jg(n)&&s>0&&s<t.length-1&&D1(t[s-1])&&D1(t[s+1])?" ":n).join("")},t4=(e,t,n,s)=>{const i=t.data,c=Ye(t,0);return!n&&mw(i,0)&&!uw(e,c,s)?(t.data=" "+i.slice(1),!0):n&&rT(i,0)&&mb(e,c,s)?(t.data=Ls+i.slice(1),!0):!1},iT=e=>{const t=e.data,n=aT(t);return n!==t?(e.data=n,!0):!1},_v=(e,t,n,s)=>{const i=t.data,c=Ye(t,i.length-1);return!n&&mw(i,i.length-1)&&!uw(e,c,s)?(t.data=i.slice(0,-1)+" ",!0):n&&rT(i,i.length-1)&&Df(e,c,s)?(t.data=i.slice(0,-1)+Ls,!0):!1},lT=(e,t,n)=>{const s=t.container();if(!_t(s))return z.none();if(UR(t)){const i=t4(e,s,!1,n)||iT(s)||_v(e,s,!1,n);return rr(i,t)}else if(uw(e,t,n)){const i=t4(e,s,!0,n)||_v(e,s,!0,n);return rr(i,t)}else return z.none()},cT=e=>{const t=ue.fromDom(e.getBody());e.selection.isCollapsed()&&lT(t,Ye.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},o4=(e,t,n,s)=>{if(n===0)return;const i=ue.fromDom(e),c=lr(i,S=>s.isBlock(Ro(S))).getOr(i),u=e.data.slice(t,t+n),g=t+n>=e.data.length&&Df(c,Ye(e,e.data.length),s),v=t===0&&mb(c,Ye(e,0),s);e.replaceData(t,n,Vh(u,4,v,g))},kv=(e,t,n)=>{const s=e.data.slice(t),i=s.length-jf(s).length;o4(e,t,i,n)},fw=(e,t,n)=>{const s=e.data.slice(0,t),i=s.length-In(s).length;o4(e,t-i,i,n)},pw=(e,t,n,s,i=!0)=>{const c=In(e.data).length,u=i?e:t,g=i?t:e;return i?u.appendData(g.data):u.insertData(0,g.data),k(ue.fromDom(g)),s&&kv(u,c,n),u},dT=(e,t)=>{const n=e.container(),s=e.offset();return!Ye.isTextPosition(e)&&n===t.parentNode&&s>Ye.before(t).offset()},uT=(e,t)=>dT(t,e)?Ye(t.container(),t.offset()-1):t,mT=e=>_t(e)?Ye(e,0):Ye.before(e),fT=e=>_t(e)?Ye(e,e.data.length):Ye.after(e),gw=e=>ie(e.previousSibling)?z.some(fT(e.previousSibling)):e.previousSibling?jd(e.previousSibling):z.none(),n4=e=>ie(e.nextSibling)?z.some(mT(e.nextSibling)):e.nextSibling?hl(e.nextSibling):z.none(),pT=(e,t)=>z.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>dc(e,Ye.before(n))).orThunk(()=>gl(e,Ye.after(t))),gT=(e,t)=>gl(e,Ye.after(t)).orThunk(()=>dc(e,Ye.before(t))),hT=(e,t)=>gw(t).orThunk(()=>n4(t)).orThunk(()=>pT(e,t)),bT=(e,t)=>n4(t).orThunk(()=>gw(t)).orThunk(()=>gT(e,t)),xT=(e,t,n)=>e?bT(t,n):hT(t,n),vT=(e,t,n)=>xT(e,t,n).map(je(uT,n)),hw=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},bw=e=>t=>t.dom===e,yT=(e,t)=>t&&Jt(e.schema.getBlockElements(),Ro(t)),wT=(e,t,n)=>{if(Ai(e,t)){const s=ue.fromHtml('<br data-mce-bogus="1">');return n?nt(Da(t),i=>{xk(i)||k(i)}):fu(t),Zn(t,s),z.some(Ye.before(s.dom))}else return z.none()},xw=(e,t,n,s)=>{const i=Rd(e).filter(xa),c=Jc(e).filter(xa);return k(e),su(i,c,t,(u,g,v)=>{const S=u.dom,O=g.dom,M=S.data.length;return pw(S,O,n,s),v.container()===O?Ye(S,M):v}).orThunk(()=>(s&&(i.each(u=>fw(u.dom,u.dom.length,n)),c.each(u=>kv(u.dom,0,n))),t))},s4=(e,t)=>Jt(e.schema.getTextInlineElements(),Ro(t)),Rm=(e,t,n,s=!0,i=!1)=>{const c=vT(t,e.getBody(),n.dom),u=lr(n,je(yT,e),bw(e.getBody())),g=xw(n,c,e.schema,s4(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):u.bind(v=>wT(e.schema,v,i)).fold(()=>{s&&hw(e,t,g)},v=>{s&&hw(e,t,z.some(v))})},r4=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,CT=e=>r4.test(e),Fu=(e,t)=>Tl(ue.fromDom(t),cA(e))&&!wu(e.schema,t)&&e.dom.isEditable(t),vw=e=>{var t;return Ds.DOM.getStyle(e,"direction",!0)==="rtl"||CT((t=e.textContent)!==null&&t!==void 0?t:"")},a4=(e,t,n)=>_o(Ds.DOM.getParents(n.container(),"*",t),e),Yd=(e,t,n)=>{const s=a4(e,t,n);return z.from(s[s.length-1])},eh=(e,t,n)=>{const s=Mp(t,e),i=Mp(n,e);return Ke(s)&&s===i},_T=e=>Lg(e)||Ep(e),Xd=(e,t)=>{const n=t.container(),s=t.offset();return e?ym(n)?_t(n.nextSibling)?Ye(n.nextSibling,0):Ye.after(n):Lg(t)?Ye(n,s+1):t:ym(n)?_t(n.previousSibling)?Ye(n.previousSibling,n.previousSibling.data.length):Ye.before(n):Ep(t)?Ye(n,s-1):t},kT=je(Xd,!0),i4=je(Xd,!1),l4=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},ST=e=>{e.execCommand("delete")},Mm=e=>l4(e,"Delete"),th=e=>l4(e,"ForwardDelete"),ET=e=>t=>Si(Sc(t),e,yn),AT=e=>_p(e)||xm(e),yw=(e,t)=>Pi(e,t)?Ur(t,AT,ET(e)):z.none(),c4=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},TT=(e,t,n)=>sr(hl(n),jd(n),(s,i)=>{const c=Xd(!0,s),u=Xd(!1,i),g=Xd(!1,t);return e?gl(n,g).exists(v=>v.isEqual(u)&&t.isEqual(c)):dc(n,g).exists(v=>v.isEqual(c)&&t.isEqual(u))}).getOr(!0),uc=e=>(us(e)?Rd(e):om(e)).bind(uc).orThunk(()=>z.some(e)),Qd=(e,t,n,s=!0)=>{var i;t.deleteContents();const c=uc(n).getOr(n),u=ue.fromDom((i=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&i!==void 0?i:n.dom);if(u.dom===e.getBody()?c4(e,s):Ai(e.schema,u,{checkRootAsContent:!1})&&(Au(u),s&&e.selection.setCursorLocation(u.dom,0)),!yn(n,u)){const g=Si(Sc(u),n)?[]:Li(u);nt(g.concat(Da(n)),v=>{!yn(v,u)&&!Pi(v,u)&&Ai(e.schema,v)&&k(v)})}},DT=e=>t=>yn(e,t),Sv=e=>mn(e,"td,th"),ww=(e,t)=>Wd(ue.fromDom(e),t),Cw=e=>sr(e.startTable,e.endTable,(t,n)=>{const s=am(t,c=>yn(c,n)),i=am(n,c=>yn(c,t));return!s&&!i?e:{...e,startTable:s?z.none():e.startTable,endTable:i?z.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),ZR=e=>Cw(e),OT=(e,t)=>{const n=ww(e.startContainer,t),s=ww(e.endContainer,t),i=n.isSome(),c=s.isSome(),u=sr(n,s,yn).getOr(!1);return ZR({startTable:n,endTable:s,isStartInTable:i,isEndInTable:c,isSameTable:u,isMultiTable:!u&&i&&c})},L1=(e,t)=>({start:e,end:t}),jR=(e,t,n)=>({rng:e,table:t,cells:n}),oh=ka.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),fb=(e,t)=>zi(ue.fromDom(e),"td,th",t),d4=e=>!yn(e.start,e.end),pb=(e,t)=>Wd(e.start,t).bind(n=>Wd(e.end,t).bind(s=>rr(yn(n,s),n))),WR=(e,t)=>!d4(e)&&pb(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),qR=(e,t)=>{const n=fb(e.startContainer,t),s=fb(e.endContainer,t);return sr(n,s,L1)},Bm=e=>t=>Wd(t,e).bind(n=>jo(Sv(n)).map(s=>L1(t,s))),Ic=e=>t=>Wd(t,e).bind(n=>Kt(Sv(n)).map(s=>L1(s,t))),F1=e=>t=>pb(t,e).map(n=>jR(t,n,Sv(n))),u4=(e,t,n,s)=>{if(n.collapsed||!e.forall(d4))return z.none();if(t.isSameTable){const i=e.bind(F1(s));return z.some({start:i,end:i})}else{const i=fb(n.startContainer,s),c=fb(n.endContainer,s),u=i.bind(Bm(s)).bind(F1(s)),g=c.bind(Ic(s)).bind(F1(s));return z.some({start:u,end:g})}},mc=(e,t)=>mr(e,n=>yn(n,t)),ps=e=>sr(mc(e.cells,e.rng.start),mc(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),GR=(e,t,n)=>e.exists(s=>WR(s,n)&&Sf(s.start,t)),nh=(e,t)=>{const{startTable:n,endTable:s}=t,i=e.cloneRange();return n.each(c=>i.setStartAfter(c.dom)),s.each(c=>i.setEndBefore(c.dom)),i},Ev=(e,t,n,s)=>u4(e,t,n,s).bind(({start:i,end:c})=>i.or(c)).bind(i=>{const{isSameTable:c}=t,u=ps(i).getOr([]);if(c&&i.cells.length===u.length)return z.some(oh.fullTable(i.table));if(u.length>0){if(c)return z.some(oh.partialTable(u,z.none()));{const g=nh(n,t);return z.some(oh.partialTable(u,z.some({...t,rng:g})))}}else return z.none()}),NT=(e,t,n,s)=>u4(e,t,n,s).bind(({start:i,end:c})=>{const u=i.bind(ps).getOr([]),g=c.bind(ps).getOr([]);if(u.length>0&&g.length>0){const v=nh(n,t);return z.some(oh.multiTable(u,g,v))}else return z.none()}),m4=(e,t)=>{const n=DT(e),s=qR(t,n),i=OT(t,n);return GR(s,t,n)?s.map(c=>oh.singleCellTable(t,c.start)):i.isMultiTable?NT(s,i,t,n):Ev(s,i,t,n)},_w=e=>nt(e,t=>{er(t,"contenteditable"),Au(t)}),KR=(e,t)=>z.from(e.dom.getParent(t,e.dom.isBlock)).map(ue.fromDom),f4=(e,t,n)=>{n.each(s=>{t?k(s):(Au(s),e.selection.setCursorLocation(s.dom,0))})},p4=(e,t,n,s)=>{const i=n.cloneRange();s?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(t.dom.lastChild)):(i.setStartBefore(t.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),kw(e,i,t,!1).each(c=>c())},g4=e=>{const t=kf(e),n=ue.fromDom(e.selection.getNode());sd(n.dom)&&Ai(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Kn(t,s=>yn(s,n))&&$r(n,"data-mce-selected","1")},h4=(e,t,n)=>z.some(()=>{const s=e.selection.getRng(),i=n.bind(({rng:c,isStartInTable:u})=>{const g=KR(e,u?c.endContainer:c.startContainer);c.deleteContents(),f4(e,u,g.filter(je(Ai,e.schema)));const v=u?t[0]:t[t.length-1];return p4(e,v,s,u),Ai(e.schema,v)?z.none():z.some(u?t.slice(1):t.slice(0,-1))}).getOr(t);_w(i),g4(e)}),b4=(e,t,n,s)=>z.some(()=>{const i=e.selection.getRng(),c=t[0],u=n[n.length-1];p4(e,c,i,!0),p4(e,u,i,!1);const g=Ai(e.schema,c)?t:t.slice(1),v=Ai(e.schema,u)?n:n.slice(0,-1);_w(g.concat(v)),s.deleteContents(),g4(e)}),kw=(e,t,n,s=!0)=>z.some(()=>{Qd(e,t,n,s)}),Sw=(e,t)=>z.some(()=>Rm(e,!1,t)),YR=(e,t,n)=>m4(t,n).bind(s=>s.fold(je(kw,e),je(Sw,e),je(h4,e),je(b4,e))),XR=(e,t)=>Aw(e,t),QR=(e,t,n,s)=>Ew(t,s).fold(()=>YR(e,t,n),i=>XR(e,i)),JR=(e,t,n)=>{const s=ue.fromDom(e.getBody()),i=e.selection.getRng();return n.length!==0?h4(e,n,z.none()):QR(e,s,i,t)},RT=(e,t)=>js(Hp(t,e),kp),Ew=(e,t)=>js(Hp(t,e),Xm("caption")),eM=(e,t,n,s,i)=>Mu(n,e.getBody(),i).bind(c=>RT(t,ue.fromDom(c.getNode())).bind(u=>yn(u,s)?z.none():z.some(ko))),Aw=(e,t)=>z.some(()=>{Au(t),e.selection.setCursorLocation(t.dom,0)}),MT=(e,t,n,s)=>hl(e.dom).bind(i=>jd(e.dom).map(c=>t?n.isEqual(i)&&s.isEqual(c):n.isEqual(c)&&s.isEqual(i))).getOr(!0),tM=(e,t)=>Aw(e,t),BT=(e,t,n)=>Ew(e,ue.fromDom(n.getNode())).fold(()=>z.some(ko),s=>rr(!yn(s,t),ko)),oM=(e,t,n,s,i)=>Mu(n,e.getBody(),i).fold(()=>z.some(ko),c=>MT(s,n,i,c)?tM(e,s):BT(t,s,c)),nM=(e,t,n,s)=>{const i=Ye.fromRangeStart(e.selection.getRng());return RT(n,s).bind(c=>Ai(e.schema,c,{checkRootAsContent:!1})?Aw(e,c):eM(e,n,t,c,i))},PT=(e,t,n,s)=>{const i=Ye.fromRangeStart(e.selection.getRng());return Ai(e.schema,s)?Aw(e,s):oM(e,n,t,s,i)},fd=(e,t)=>e?Q5(t):jk(t),sM=(e,t)=>{const n=Ye.fromRangeStart(e.selection.getRng());return fd(t,n)||xi(t,e.getBody(),n).exists(s=>fd(t,s))},IT=(e,t,n)=>{const s=ue.fromDom(e.getBody());return Ew(s,n).fold(()=>nM(e,t,s,n).orThunk(()=>rr(sM(e,t),ko)),i=>PT(e,t,s,i))},Av=(e,t)=>{const n=ue.fromDom(e.selection.getStart(!0)),s=kf(e);return e.selection.isCollapsed()&&s.length===0?IT(e,t,n):JR(e,n,s)},Vp=(e,t)=>{let n=t;for(;n&&n!==e;){if(ic(n)||Ts(n))return n;n=n.parentNode}return null},LT=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],FT=Dt.each,Tw=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(c,u)=>{if(c.nodeName!==u.nodeName||c.nodeType!==u.nodeType)return!1;const g=S=>{const O={};return FT(t.getAttribs(S),M=>{const I=M.nodeName.toLowerCase();I!=="style"&&!i(I)&&(O[I]=t.getAttrib(S,I))}),O},v=(S,O)=>{for(const M in S)if(Jt(S,M)){const I=O[M];if(bn(I)||S[M]!==I)return!1;delete O[M]}for(const M in O)if(Jt(O,M))return!1;return!0};return Wt(c)&&Wt(u)&&(!v(g(c),g(u))||!v(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(u,"style"))))?!1:!md(c)&&!md(u)},i=c=>Kn(LT,u=>ar(c,u))||n.has(c);return{compare:s,isAttributeInternal:i}},x4=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),pd=e=>e.name==="summary",rM=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},Dw=(e,t,n,s)=>{const i=n.name;for(let c=0,u=e.length;c<u;c++){const g=e[c];if(g.name===i){const v=s.nodes[i];v?v.nodes.push(n):s.nodes[i]={filter:g,nodes:[n]}}}if(n.attributes)for(let c=0,u=t.length;c<u;c++){const g=t[c],v=g.name;if(v in n.attributes.map){const S=s.attributes[v];S?S.nodes.push(n):s.attributes[v]={filter:g,nodes:[n]}}}},aM=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&rM(n,i=>{Dw(e,t,i,s)}),s},Ow=(e,t)=>{const n=(s,i)=>{Un(s,c=>{const u=xs(c.nodes);nt(c.filter.callbacks,g=>{for(let v=u.length-1;v>=0;v--){const S=u[v];(!(i?S.attr(c.filter.name)!==void 0:S.name===c.filter.name)||qo(S.parent))&&u.splice(v,1)}u.length>0&&g(u,c.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},Jd=(e,t,n,s={})=>{const i=aM(e,t,n);Ow(i,s)},Tv=(e,t,n,s)=>{if((e.pad_empty_with_br||t.insert)&&n(s)){const c=new Ul("br",1);t.insert&&c.attr("data-mce-bogus","1"),s.empty().append(c)}else s.empty().append(new Ul("#text",3)).value=Ls},Nw=e=>{var t;return v4(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Ls},v4=(e,t)=>{const n=e==null?void 0:e.firstChild;return Ke(n)&&n===e.lastChild&&n.name===t},iM=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},z1=(e,t,n,s)=>s.isEmpty(t,n,i=>iM(e,i)),zT=(e,t)=>Ke(e)&&(t(e)||e.name==="br"),y4=e=>{let t;for(let n=e;n;n=n.parent){const s=n.attr("contenteditable");if(s==="false")break;s==="true"&&(t=n)}return z.from(t)},Rw=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const i of s)n&&!t.isValidChild(n.name,i.name)&&Rw(i,t,n);e.unwrap()}},$p=(e,t,n,s=ko)=>{const i=t.getTextBlockElements(),c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),g=Dt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),v=new Set,S=O=>O!==n&&!g[O.name];for(let O=0;O<e.length;O++){const M=e[O];let I,j,J;if(!M.parent||v.has(M))continue;if(i[M.name]&&M.parent.name==="li"){let se=M.next;for(;se&&i[se.name];){se.name="li",v.add(se),M.parent.insert(se,M.parent);se=se.next}M.unwrap();continue}const G=[M];for(I=M.parent;I&&!t.isValidChild(I.name,M.name)&&S(I);I=I.parent)G.push(I);if(I&&G.length>1)if(Mw(t,M,I))Rw(M,t);else{G.reverse(),j=G[0].clone(),s(j);let se=j;for(let ge=0;ge<G.length-1;ge++){t.isValidChild(se.name,G[ge].name)&&ge>0?(J=G[ge].clone(),s(J),se.append(J)):J=se;for(let _e=G[ge].firstChild;_e&&_e!==G[ge+1];){const Be=_e.next;J.append(_e),_e=Be}se=J}z1(t,c,u,j)?I.insert(M,G[0],!0):(I.insert(j,G[0],!0),I.insert(M,j)),I=G[0],(z1(t,c,u,I)||v4(I,"br"))&&I.empty().remove()}else if(M.parent){if(M.name==="li"){let se=M.prev;if(se&&(se.name==="ul"||se.name==="ol")){se.append(M);continue}if(se=M.next,se&&(se.name==="ul"||se.name==="ol")&&se.firstChild){se.insert(M,se.firstChild,!0);continue}const ge=new Ul("ul",1);s(ge),M.wrap(ge);continue}if(t.isValidChild(M.parent.name,"div")&&t.isValidChild("div",M.name)){const se=new Ul("div",1);s(se),M.wrap(se)}else Rw(M,t)}}},HT=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},Mw=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&HT(n,"a")?!0:pd(n)&&x4(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,VT=(e,t,n,s)=>{const i=document.createRange();return i.setStart(e,t),i.setEnd(n,s),i},lM=e=>{const t=Ye.fromRangeStart(e),n=Ye.fromRangeEnd(e),s=e.commonAncestorContainer;return xi(!1,s,n).map(i=>!km(t,n,s)&&km(t,i,s)?VT(t.container(),t.offset(),i.container(),i.offset()):e).getOr(e)},Dv=e=>e.collapsed?e:lM(e),sh=e=>Ke(e.firstChild)&&e.firstChild===e.lastChild,cM=e=>e.name==="br"||e.value===Ls,dM=(e,t)=>e.getBlockElements()[t.name]&&sh(t)&&cM(t.firstChild),Bw=(e,t)=>{const n=e.getNonEmptyElements();return Ke(t)&&(t.isEmpty(n)||dM(e,t))},$T=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),Bw(e,s)&&(s=s==null?void 0:s.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},UT=e=>{var t,n;const s=e.firstChild,i=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),i&&i.id==="mce_marker"&&((n=i.parentNode)===null||n===void 0||n.removeChild(i)),e},ZT=(e,t,n)=>{const s=t.serialize(n),i=e.createFragment(s);return UT(i)},Pw=e=>{var t;return _o((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},jT=e=>e.data===Ls||or(e),WT=e=>Ke(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&jT(e.firstChild),uM=e=>!e.firstChild||WT(e),Iw=e=>e.length>0&&uM(e[e.length-1])?e.slice(0,-1):e,Lw=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},Fw=(e,t)=>!!Lw(e,t),qT=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},w4=(e,t)=>{const n=Ye.before(e),i=Sm(t).next(n);return i?i.toRange():null},C4=(e,t)=>{const n=Ye.after(e),i=Sm(t).prev(n);return i?i.toRange():null},Ov=(e,t,n,s)=>{const i=qT(e,s),c=e.parentNode;return c&&(c.insertBefore(i[0],e),Dt.each(t,u=>{c.insertBefore(u,e)}),c.insertBefore(i[1],e),c.removeChild(e)),C4(t[t.length-1],n)},Pm=(e,t,n)=>{const s=e.parentNode;return s&&Dt.each(t,i=>{s.insertBefore(i,e)}),w4(e,n)},mM=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),C4(t[0],n)),_4=(e,t,n,s)=>{const i=ZT(t,e,s),c=Lw(t,n.startContainer),u=Iw(Pw(i.firstChild)),g=1,v=2,S=t.getRoot(),O=M=>{const I=Ye.fromRangeStart(n),j=Sm(t.getRoot()),J=M===g?j.prev(I):j.next(I),G=J==null?void 0:J.getNode();return G?Lw(t,G)!==c:!0};return c?O(g)?Pm(c,u,S):O(v)?mM(c,u,S,t):Ov(c,u,S,n):null},Sr=["pre"],k4=(e,t,n,s)=>{var i;const c=t.firstChild,u=t.lastChild,g=u.attr("data-mce-type")==="bookmark"?u.prev:u,v=c===g,S=on(Sr,c.name);if(v&&S){const O=c.attr("contenteditable")!=="false",M=((i=e.getParent(n,e.isBlock))===null||i===void 0?void 0:i.nodeName.toLowerCase())===c.name,I=z.from(Vp(s,n)).forall(ic);return O&&M&&I}else return!1},gb=sd,Up=(e,t,n)=>{if(Ke(n)){const s=e.getParent(t.endContainer,gb);return n===s&&Sf(ue.fromDom(n),t)}else return!1},GT=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const n=t.childNodes;return n.length===1&&or(n[0])||n.length===0}else return!1},S4=(e,t,n)=>{var s;n.getAttribute("data-mce-bogus")==="all"?(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n):GT(e.dom,n)?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})},fM=(e,t,n)=>{z.from(e.getParent(t,"td,th")).map(ue.fromDom).each(s=>g1(s,n))},hb=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const i=e.getBody(),c=Tw(e),u="*[data-mce-fragment]",g=s.select(u);Dt.each(g,v=>{const S=I=>Ke(n[I.nodeName.toLowerCase()]),O=I=>I.childNodes.length===1;if((I=>!(K5(s,I)||LR(s,I)))(v)&&S(v)&&O(v)){const I=I1(s,v),j=(ge,_e)=>vn(ge,Be=>on(_e,Be)),J=ge=>O(v)&&s.is(ge,u)&&S(ge)&&(ge.nodeName===v.nodeName&&j(I,I1(s,ge))||J(ge.children[0])),G=ge=>Ke(ge)&&ge!==i&&(c.compare(v,ge)||G(ge.parentElement)),se=ge=>Ke(ge)&&ge!==i&&s.is(ge,u)&&(zR(s,v,ge)||se(ge.parentElement));(J(v.children[0])||G(v.parentElement)&&!se(v.parentElement))&&s.remove(v,!0)}})}},pM=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},gM=e=>{Dt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},bb=e=>!!e.getAttribute("data-mce-fragment"),hM=(e,t)=>Ke(t)&&!e.schema.getVoidElements()[t.nodeName],H1=(e,t)=>{var n,s,i;let c;const u=e.dom,g=e.selection;if(!t)return;g.scrollIntoView(t);const v=Vp(e.getBody(),t);if(v&&u.getContentEditable(v)==="false"){u.remove(t),g.select(v);return}let S=u.createRng();const O=t.previousSibling;if(_t(O)){S.setStart(O,(s=(n=O.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const j=t.nextSibling;_t(j)&&(O.appendData(j.data),(i=j.parentNode)===null||i===void 0||i.removeChild(j))}else S.setStartBefore(t),S.setEndBefore(t);const M=j=>{let J=Ye.fromRangeStart(j);return J=Sm(e.getBody()).next(J),J==null?void 0:J.toRange()},I=u.getParent(t,u.isBlock);if(u.remove(t),I&&u.isEmpty(I)){const j=gb(I);fu(ue.fromDom(I)),S.setStart(I,0),S.setEnd(I,0),!j&&!bb(I)&&(c=M(S))?(S=c,u.remove(I)):u.add(I,u.create("br",j?{}:{"data-mce-bogus":"1"}))}g.setRng(S)},bM=e=>{const t=e.dom,n=Dv(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,gb);Up(t,n,s)?kw(e,n,ue.fromDom(s)):xM(n)||rh(n)?n.deleteContents():e.getDoc().execCommand("Delete",!1)},rh=e=>gd(e,_t),xM=e=>gd(e,pp),gd=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),V1=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return z.some(t);return z.none()},Nv=(e,t,n)=>{var s;return Kn(n.children(),x4)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},E4=(e,t,n)=>{var s,i;const c=e.selection,u=e.dom,g=e.parser,v=n.merge,S=Kg({validate:!0},e.schema),O='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=pl(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,O);let M=c.getRng();const I=M.startContainer,j=e.getBody();I===j&&c.isCollapsed()&&u.isBlock(j.firstChild)&&hM(e,j.firstChild)&&u.isEmpty(j.firstChild)&&(M=u.createRng(),M.setStart(j.firstChild,0),M.setEnd(j.firstChild,0),c.setRng(M)),c.isCollapsed()||bM(e);const J=c.getNode(),G={context:J.nodeName.toLowerCase(),data:n.data,insert:!0},se=g.parse(t,G);if(n.paste===!0&&$T(e.schema,se)&&Fw(u,J))return M=_4(S,u,c.getRng(),se),M&&c.setRng(M),t;n.paste===!0&&k4(u,se,J,e.getBody())&&((s=se.firstChild)===null||s===void 0||s.unwrap()),pM(se);let ge=se.lastChild;if(ge&&ge.attr("id")==="mce_marker"){const _e=ge;for(ge=ge.prev;ge&&ge.name!=="table";ge=ge.walk(!0))if(ge.type===3||!u.isBlock(ge.name)){ge.parent&&e.schema.isValidChild(ge.parent.name,"span")&&ge.parent.insert(_e,ge,ge.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(J),!G.invalid&&!Nv(u,J,se))t=S.serialize(se),S4(e,t,J);else{e.selection.setContent(O);let _e=c.getNode(),Be;const $e=e.getBody();for(mf(_e)?_e=Be=$e:Be=_e;Be&&Be!==$e;)_e=Be,Be=Be.parentNode;t=_e===$e?$e.innerHTML:u.getOuterHTML(_e);const dt=g.parse(t),Et=V1(dt),Gt=Et.bind(y4).getOr(dt);Et.each(Zt=>Zt.replace(se));const Qe=se.children(),qe=(i=se.parent)!==null&&i!==void 0?i:dt;se.unwrap();const mt=_o(Qe,Zt=>Mw(e.schema,Zt,qe));$p(mt,e.schema,Gt),Jd(g.getNodeFilters(),g.getAttributeFilters(),dt),t=S.serialize(dt),_e===$e?u.setHTML($e,t):u.setOuterHTML(_e,t)}return hb(e,v),H1(e,u.get("mce_marker")),gM(e.getBody()),fM(u,c.getStart(),e.schema),px(e.schema,e.getBody(),c.getStart()),t},zw=e=>e instanceof Ul,xb=e=>{Tf(e)&&hl(e.getBody()).each(t=>{const n=t.getNode(),s=yu(n)?hl(n).getOr(t):t;e.selection.setRng(s.toRange())})},A4=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&xb(e)},zu=(e,t,n,s)=>{if(n=pl(n),n.length===0||/^\s+$/.test(n)){const i='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>");const c=Ni(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(n=i,n=e.dom.createHTML(c,w1(e),n)):n||(n=i),A4(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=Kg({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const i=f1(ue.fromDom(t))?n:Dt.trim(n);return A4(e,i,s.no_selection),{content:i,html:i}}},Hw=(e,t,n,s)=>{Jd(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const i=Kg({validate:!1},e.schema).serialize(n),c=pl(f1(ue.fromDom(t))?i:Dt.trim(i));return A4(e,c,s.no_selection),{content:n,html:c}},KT=(e,t,n)=>z.from(e.getBody()).map(s=>zw(t)?Hw(e,s,t,n):zu(e,s,t,n)).getOr({content:t,html:zw(n.content)?"":n.content}),Rv=Py,Vw=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let i=0;i<s.length;i++){const c=s[i];if(qd(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},Zp=(e,t,n,s,i)=>{const c=e.dom.getRoot();if(t===c)return!1;const u=e.dom.getParent(t,g=>Vw(e,g,n)?!0:g.parentNode===c||!!Of(e,g,n,s,!0));return!!Of(e,u,n,s,i)},vb=(e,t,n)=>ri(n)&&Rv(t,n.inline)||Ef(n)&&Rv(t,n.block)?!0:qd(n)?Wt(t)&&e.is(t,n.selector):!1,YT=(e,t,n,s,i,c)=>{const u=n[s],g=s==="attributes";if(Xt(n.onmatch))return n.onmatch(t,n,s);if(u){if(Ql(u)){for(let v=0;v<u.length;v++)if(g?e.getAttrib(t,u[v]):sv(e,t,u[v]))return!0}else for(const v in u)if(Jt(u,v)){const S=g?e.getAttrib(t,v):sv(e,t,v),O=Bu(u[v],c),M=qo(S)||Wc(S);if(M&&qo(O))continue;if(i&&M&&!n.exact||(!i||n.exact)&&!Rv(S,Bp(O,v)))return!1}}return!0},Of=(e,t,n,s,i)=>{const c=e.formatter.get(n),u=e.dom;if(c&&Wt(t))for(let g=0;g<c.length;g++){const v=c[g];if(vb(e.dom,t,v)&&YT(u,t,v,"attributes",i,s)&&YT(u,t,v,"styles",i,s)){const S=v.classes;if(S){for(let O=0;O<S.length;O++)if(!e.dom.hasClass(t,Bu(S[O],s)))return}return v}}},T4=(e,t,n,s,i)=>{if(s)return Zp(e,s,t,n,i);if(s=e.selection.getNode(),Zp(e,s,t,n,i))return!0;const c=e.selection.getStart();return!!(c!==s&&Zp(e,c,t,n,i))},vM=(e,t,n)=>{const s=[],i={},c=e.selection.getStart();return e.dom.getParent(c,u=>{for(let g=0;g<t.length;g++){const v=t[g];!i[v]&&Of(e,u,v,n)&&(i[v]=!0,s.push(v))}},e.dom.getRoot()),s},yb=(e,t)=>{const n=i=>yn(i,ue.fromDom(e.getBody())),s=(i,c)=>Of(e,i.dom,c)?z.some(c):z.none();return z.from(e.selection.getStart(!0)).bind(i=>dp(ue.fromDom(i),c=>Lr(t,u=>s(c,u)),n)).getOrNull()},Im=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n&&e.selection.isEditable()){const i=e.selection.getStart(),c=rv(s,i);for(let u=n.length-1;u>=0;u--){const g=n[u];if(!qd(g))return!0;for(let v=c.length-1;v>=0;v--)if(s.is(c[v],g.selector))return!0}}return!1},yM=(e,t,n)=>ws(n,(s,i)=>{const c=t5(e,i);return e.formatter.matchNode(t,i,{},c)?s.concat([i]):s},[]),Mv=Vs,wM=(e,t)=>e.importNode(t,!0),XT=e=>{if(e){const t=new Ys(e,e);for(let n=t.current();n;n=t.next())if(_t(n))return n}return null},D4=e=>{const t=ue.fromTag("span");return nc(t,{id:Ty,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Zn(t,ue.fromText(Mv)),t},CM=e=>{const t=XT(e);return t&&t.data.charAt(0)===Mv&&t.deleteData(0,1),t},O4=(e,t,n)=>{const s=e.dom,i=e.selection;if(n5(t))Rm(e,!1,ue.fromDom(t),n,!0);else{const c=i.getRng(),u=s.getParent(t,s.isBlock),g=c.startContainer,v=c.startOffset,S=c.endContainer,O=c.endOffset,M=CM(t);s.remove(t,!0),g===M&&v>0&&c.setStart(M,v-1),S===M&&O>0&&c.setEnd(M,O-1),u&&s.isEmpty(u)&&Au(ue.fromDom(u)),i.setRng(c)}},N4=(e,t,n)=>{const s=e.dom,i=e.selection;if(t)O4(e,t,n);else if(t=Zg(e.getBody(),i.getStart()),!t)for(;t=s.get(Ty);)O4(e,t,n)},_M=(e,t,n)=>{var s,i;const c=e.dom,u=c.getParent(n,je(tb,e.schema));u&&c.isEmpty(u)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(p1(ue.fromDom(n)),c.isEmpty(n)?(i=n.parentNode)===null||i===void 0||i.replaceChild(t,n):c.insertAfter(t,n))},QT=(e,t)=>(e.appendChild(t),t),JT=(e,t)=>{var n;const s=vc(e,(c,u)=>QT(c,u.cloneNode(!1)),t),i=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return QT(s,i.createTextNode(Mv))},kM=(e,t,n,s,i,c)=>{const u=e.formatter,g=e.dom,v=_o(Fr(u.get()),M=>M!==s&&!Or(M,"removeformat")),S=yM(e,n,v);if(_o(S,M=>!o5(e,M,s)).length>0){const M=n.cloneNode(!1);return g.add(t,M),u.remove(s,i,M,c),g.remove(M),z.some(M)}else return z.none()},e6=e=>Ol(e,xg(e).replace(new RegExp(`${Ls}$`)," ")),t6=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&Rd(ue.fromDom(t)).each(s=>{xa(s)?e6(s):il(s,i=>xa(i)).each(i=>{xa(i)&&e6(i)})})};e.once("input",s=>{s.data&&!Em(s.data)&&(s.isComposing?e.once("compositionend",()=>{n()}):n())})},SM=(e,t,n)=>{let s;const i=e.selection,c=e.formatter.get(t);if(!c)return;const u=i.getRng();let g=u.startOffset;const S=u.startContainer.nodeValue;s=Zg(e.getBody(),i.getStart());const O=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(S&&g>0&&g<S.length&&O.test(S.charAt(g))&&O.test(S.charAt(g-1))){const M=i.getBookmark();u.collapse(!0);let I=O1(e.dom,u,c);I=Pc(I),e.formatter.apply(t,n,I),i.moveToBookmark(M)}else{let M=s?XT(s):null;(!s||(M==null?void 0:M.data)!==Mv)&&(s=wM(e.getDoc(),D4(!0).dom),M=s.firstChild,u.insertNode(s),g=1,t6(e,s)),e.formatter.apply(t,n,s),i.setCursorLocation(M,g)}},ah=(e,t,n,s)=>{const i=e.dom,c=e.selection;let u=!1;const g=e.formatter.get(t);if(!g)return;const v=c.getRng(),S=v.startContainer,O=v.startOffset;let M=S;_t(S)&&(O!==S.data.length&&(u=!0),M=M.parentNode);const I=[];let j;for(;M;){if(Of(e,M,t,n,s)){j=M;break}M.nextSibling&&(u=!0),I.push(M),M=M.parentNode}if(j)if(u){const J=c.getBookmark();v.collapse(!0);let G=O1(i,v,g,{includeTrailingSpace:!0});G=Pc(G),e.formatter.remove(t,n,G,s),c.moveToBookmark(J)}else{const J=Zg(e.getBody(),j),G=Ke(J)?i.getParents(j.parentNode,Go,J):[],se=D4(!1).dom;_M(e,se,J??j);const ge=kM(e,se,j,t,n,s),_e=JT([...I,...ge.toArray(),...G],se);J&&O4(e,J,Ke(J)),c.setCursorLocation(_e,1),t6(e,se),i.isEmpty(j)&&i.remove(j)}},EM=(e,t,n)=>{const s=e.selection,i=e.getBody();N4(e,null,n),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===Mv&&N4(e,Zg(i,s.getStart()),!0),(t===37||t===39)&&N4(e,Zg(i,s.getStart()),!0)},AM=e=>_t(e)&&Yu(e.data,Ls),R4=e=>{e.on("mouseup keydown",t=>{EM(e,t.keyCode,AM(e.selection.getRng().endContainer))})},M4=e=>{const t=D4(!1),n=JT(e,t.dom);return{caretContainer:t,caretPosition:Ye(n,0)}},$w=(e,t)=>{const{caretContainer:n,caretPosition:s}=M4(t);return ei(ue.fromDom(e),n),k(ue.fromDom(e)),s},TM=(e,t)=>{const{caretContainer:n,caretPosition:s}=M4(t);return e.insertNode(n.dom),s},o6=(e,t)=>{if(ud(t.dom))return!1;const n=e.schema.getTextInlineElements();return Jt(n,Ro(t))&&!ud(t.dom)&&!vu(t.dom)},Bv={},n6=Oc(["pre"]),DM=(e,t)=>{Bv[e]||(Bv[e]=[]),Bv[e].push(t)},OM=(e,t)=>{Jt(Bv,e)&&nt(Bv[e],n=>{n(t)})};DM("pre",e=>{const t=e.selection.getRng(),n=i=>c=>{const u=c.previousSibling;return n6(u)&&on(i,u)},s=(i,c)=>{const u=ue.fromDom(c),g=uu(u).dom;k(u),oc(ue.fromDom(i),[ue.fromTag("br",g),ue.fromTag("br",g),...Da(u)])};if(!t.collapsed){const i=e.selection.getSelectedBlocks(),c=_o(_o(i,n6),n(i));nt(c,u=>{s(u.previousSibling,u)})}});const s6=["fontWeight","fontStyle","color","fontSize","fontFamily"],NM=e=>ne(e.styles)&&Kn(Fr(e.styles),t=>on(s6,t)),RM=e=>js(e,t=>ri(t)&&t.inline==="span"&&NM(t)),r6=(e,t)=>{const n=e.get(t);return pe(n)?RM(n):z.none()},a6=(e,t)=>dc(t,Ye.fromRangeStart(e)).isNone(),i6=(e,t)=>gl(t,Ye.fromRangeEnd(e)).exists(n=>!or(n.getNode())||gl(t,n).isSome())===!1,l6=e=>t=>x0(t)&&e.isEditable(t),MM=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return a6(n,t[0])&&i6(n,t[0])?t:[];{const s=Kt(t).filter(u=>a6(n,u)).toArray(),i=jo(t).filter(u=>i6(n,u)).toArray(),c=t.slice(1,-1);return s.concat(c).concat(i)}},BM=e=>_o(MM(e),l6(e.dom)),c6=e=>_o(e.getSelectedBlocks(),l6(e.dom)),B4=Dt.each,P4=e=>Wt(e)&&!md(e)&&!ud(e)&&!vu(e),d6=(e,t)=>{for(let n=e;n;n=n[t]){if(_t(n)&&La(n.data))return e;if(Wt(n)&&!md(n))return n}return e},u6=(e,t,n)=>{const s=Tw(e),i=pi(t)&&e.dom.isEditable(t),c=pi(n)&&e.dom.isEditable(n);if(i&&c){const u=d6(t,"previousSibling"),g=d6(n,"nextSibling");if(s.compare(u,g)){for(let v=u.nextSibling;v&&v!==g;){const S=v;v=v.nextSibling,u.appendChild(S)}return e.dom.remove(g),Dt.each(Dt.grep(g.childNodes),v=>{u.appendChild(v)}),u}}return n},I4=(e,t,n,s)=>{var i;if(s&&t.merge_siblings!==!1){const c=(i=u6(e,fk(s),s))!==null&&i!==void 0?i:s;u6(e,c,fk(c,!0))}},PM=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";B4(e.select(s,n),i=>{P4(i)&&e.isEditable(i)&&B4(t.styles,(c,u)=>{e.setStyle(i,u,"")})})}},L4=(e,t,n)=>{B4(e.childNodes,s=>{P4(s)&&(t(s)&&n(s),s.hasChildNodes()&&L4(s,t,n))})},IM=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},m6=(e,t)=>n=>!!(n&&sv(e,n,t)),f6=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),IM(e,s)},$1=ka.generate([{keep:[]},{rename:["name"]},{removed:[]}]),LM=/^(src|href|style)$/,F4=Dt.each,Pv=Py,FM=e=>/^(TR|TH|TD)$/.test(e.nodeName),p6=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),g6=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];if(Wt(s)){const c=s.childNodes.length-1;!n&&i&&i--,s=s.childNodes[i>c?c:i]}return _t(s)&&n&&i>=s.data.length&&(s=new Ys(s,e.getBody()).next()||s),_t(s)&&!n&&i===0&&(s=new Ys(s,e.getBody()).prev()||s),s},h6=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return FM(e)&&s?e.nodeName==="TR"&&s[n]||s:e},z4=(e,t,n,s)=>{var i;const c=e.create(n,s);return(i=t.parentNode)===null||i===void 0||i.insertBefore(c,t),c.appendChild(t),c},b6=(e,t,n,s,i)=>{const c=ue.fromDom(t),u=ue.fromDom(e.create(s,i)),g=n?Ec(c):On(c);return oc(u,g),n?(ei(c,u),sm(u,c)):(td(c,u),Zn(u,c)),u.dom},zM=(e,t)=>t.links&&e.nodeName==="A",x6=(e,t,n)=>{const s=t.parentNode;let i;const c=e.dom,u=Ni(e);Ef(n)&&s===c.getRoot()&&(!n.list_block||!Pv(t,n.list_block))&&nt(xs(t.childNodes),g=>{ua(e,u,g.nodeName.toLowerCase())?i?i.appendChild(g):(i=z4(c,g,u),c.setAttribs(i,w1(e))):i=null}),!(bk(n)&&!Pv(n.inline,t))&&c.remove(t,!0)},v6=(e,t,n)=>A(e)?{name:t,value:null}:{name:e,value:Bu(t,n)},H4=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},V4=(e,t,n,s,i)=>{let c=!1;F4(n.styles,(u,g)=>{const{name:v,value:S}=v6(g,u,s),O=Bp(S,v);(n.remove_similar||hn(S)||!Wt(i)||Pv(sv(e,i,v),O))&&e.setStyle(t,v,""),c=!0}),c&&H4(e,t)},y6=(e,t,n)=>{t==="removeformat"?nt(c6(e.selection),s=>{nt(s6,i=>e.dom.setStyle(s,i,"")),H4(e.dom,s)}):r6(e.formatter,t).each(s=>{nt(c6(e.selection),i=>V4(e.dom,i,s,n,null))})},$4=(e,t,n,s,i)=>{const c=e.dom,u=Tw(e),g=e.schema;if(ri(t)&&es(g,t.inline)&&wu(g,s)&&s.parentElement===e.getBody())return x6(e,s,t),$1.removed();if(!t.ceFalseOverride&&s&&c.getContentEditableParent(s)==="false"||s&&!vb(c,s,t)&&!zM(s,t))return $1.keep();const v=s,S=t.preserve_attributes;if(ri(t)&&t.remove==="all"&&pe(S)){const O=_o(c.getAttribs(v),M=>on(S,M.name.toLowerCase()));if(c.removeAllAttribs(v),nt(O,M=>c.setAttrib(v,M.name,M.value)),O.length>0)return $1.rename("span")}if(t.remove!=="all"){V4(c,v,t,n,i),F4(t.attributes,(M,I)=>{const{name:j,value:J}=v6(I,M,n);if(t.remove_similar||hn(J)||!Wt(i)||Pv(c.getAttrib(i,j),J)){if(j==="class"){const G=c.getAttrib(v,j);if(G){let se="";if(nt(G.split(/\s+/),ge=>{/mce\-\w+/.test(ge)&&(se+=(se?" ":"")+ge)}),se){c.setAttrib(v,j,se);return}}}if(LM.test(j)&&v.removeAttribute("data-mce-"+j),j==="style"&&Oc(["li"])(v)&&c.getStyle(v,"list-style-type")==="none"){v.removeAttribute(j),c.setStyle(v,"list-style-type","none");return}j==="class"&&v.removeAttribute("className"),v.removeAttribute(j)}}),F4(t.classes,M=>{M=Bu(M,n),(!Wt(i)||c.hasClass(i,M))&&c.removeClass(v,M)});const O=c.getAttribs(v);for(let M=0;M<O.length;M++){const I=O[M].nodeName;if(!u.isAttributeInternal(I))return $1.keep()}}return t.remove!=="none"?(x6(e,v,t),$1.removed()):$1.keep()},HM=(e,t,n,s,i)=>{let c;return t.parentNode&&nt(rv(e.dom,t.parentNode).reverse(),u=>{if(!c&&Wt(u)&&u.id!=="_start"&&u.id!=="_end"){const g=Of(e,u,n,s,i);g&&g.split!==!1&&(c=u)}}),c},w6=(e,t,n,s)=>$4(e,t,n,s,s).fold(St(s),i=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,i)),St(null)),VM=(e,t,n,s,i,c,u,g)=>{var v,S;let O,M;const I=e.dom;if(n){const j=n.parentNode;for(let J=s.parentNode;J&&J!==j;J=J.parentNode){let G=I.clone(J,!1);for(let se=0;se<t.length&&(G=w6(e,t[se],g,G),G!==null);se++);G&&(O&&G.appendChild(O),M||(M=G),O=G)}(!u.mixed||!I.isBlock(n))&&(s=(v=I.split(n,s))!==null&&v!==void 0?v:s),O&&M&&((S=i.parentNode)===null||S===void 0||S.insertBefore(O,i),M.appendChild(i),ri(u)&&I4(e,u,g,O))}return s},$M=(e,t,n,s,i)=>{const c=e.formatter.get(t),u=c[0],g=e.dom,v=e.selection,S=G=>{const se=HM(e,G,t,n,i);return VM(e,c,se,G,G,!0,u,n)},O=G=>md(G)&&Wt(G)&&(G.id==="_start"||G.id==="_end"),M=G=>Kn(c,se=>Iv(e,se,n,G,G)),I=G=>{const se=xs(G.childNodes),_e=M(G)||Kn(c,dt=>vb(g,G,dt)),Be=G.parentNode;if(!_e&&Ke(Be)&&av(u)&&M(Be),u.deep&&se.length)for(let dt=0;dt<se.length;dt++)I(se[dt]);nt(["underline","line-through","overline"],dt=>{Wt(G)&&e.dom.getStyle(G,"text-decoration")===dt&&G.parentNode&&hk(g,G.parentNode)===dt&&Iv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:dt}},void 0,G)})},j=G=>{const se=g.get(G?"_start":"_end");if(se){let ge=se[G?"firstChild":"lastChild"];return O(ge)&&(ge=ge[G?"firstChild":"lastChild"]),_t(ge)&&ge.data.length===0&&(ge=G?se.previousSibling||se.nextSibling:se.nextSibling||se.previousSibling),g.remove(se,!0),ge}else return null},J=G=>{let se,ge,_e=O1(g,G,c,{includeTrailingSpace:G.collapsed});if(u.split){if(_e=Pc(_e),se=g6(e,_e,!0),ge=g6(e,_e),se!==ge){if(se=h6(se,!0),ge=h6(ge,!1),p6(g,se,ge)){const $e=z.from(se.firstChild).getOr(se);S(b6(g,$e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),j(!0);return}if(p6(g,ge,se)){const $e=z.from(ge.lastChild).getOr(ge);S(b6(g,$e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),j(!1);return}se=z4(g,se,"span",{id:"_start","data-mce-type":"bookmark"}),ge=z4(g,ge,"span",{id:"_end","data-mce-type":"bookmark"});const Be=g.createRng();Be.setStartAfter(se),Be.setEndBefore(ge),N1(g,Be,$e=>{nt($e,dt=>{!md(dt)&&!md(dt.parentNode)&&S(dt)})}),S(se),S(ge),se=j(!0),ge=j()}else se=ge=S(se);_e.startContainer=se.parentNode?se.parentNode:se,_e.startOffset=g.nodeIndex(se),_e.endContainer=ge.parentNode?ge.parentNode:ge,_e.endOffset=g.nodeIndex(ge)+1}N1(g,_e,Be=>{nt(Be,I)})};if(s){if(eb(s)){const G=g.createRng();G.setStartBefore(s),G.setEndAfter(s),J(G)}else J(s);YE(e,t,s,n);return}!v.isCollapsed()||!ri(u)||kf(e).length?(e5(e,()=>My(e,J),G=>ri(u)&&T4(e,t,n,G)),e.nodeChanged()):ah(e,t,n,i),y6(e,t,n),YE(e,t,s,n)},C6=(e,t,n,s,i)=>{(s||e.selection.isEditable())&&$M(e,t,n,s,i)},Iv=(e,t,n,s,i)=>$4(e,t,n,s,i).fold(Ao,c=>(e.dom.rename(s,c),!0),Go),_6=Dt.each,UM=(e,t,n,s)=>{const i=c=>{if(pi(c)&&Wt(c.parentNode)&&e.isEditable(c)){const u=hk(e,c.parentNode);e.getStyle(c,"color")&&u?e.setStyle(c,"text-decoration",u):e.getStyle(c,"text-decoration")===u&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Dt.walk(s,i,"childNodes"),i(s))},U4=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const i=m6(e,"fontSize");L4(s,c=>i(c)&&e.isEditable(c),f6(e,"backgroundColor",Bu(t.styles.backgroundColor,n)))}},Z4=(e,t,n,s)=>{if(ri(t)&&(t.inline==="sub"||t.inline==="sup")){const i=m6(e,"fontSize");L4(s,u=>i(u)&&e.isEditable(u),f6(e,"fontSize",""));const c=_o(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(c,!0)}},ZM=(e,t,n,s)=>{_6(t,i=>{ri(i)&&_6(e.dom.select(i.inline,s),c=>{P4(c)&&Iv(e,i,n,c,i.exact?c:null)}),PM(e.dom,i,s)})},k6=(e,t,n,s,i)=>{const c=i.parentNode;Of(e,c,n,s)&&Iv(e,t,s,i)||t.merge_with_parents&&c&&e.dom.getParent(c,u=>Of(e,u,n,s)?(Iv(e,t,s,i),!0):!1)},Uw=Dt.each,jM=(e,t,n,s)=>{if(Z_(e)&&ri(t)&&n.parentNode){const i=Dx(e.schema),c=c0(ue.fromDom(n),u=>ud(u.dom));return zr(i,s)&&Bl(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},S6=(e,t,n,s)=>{if(Uw(n.styles,(i,c)=>{e.setStyle(t,c,Bu(i,s))}),n.styles){const i=e.getAttrib(t,"style");i&&e.setAttrib(t,"data-mce-style",i)}},WM=(e,t,n,s)=>{const i=e.formatter.get(t),c=i[0],u=!s&&e.selection.isCollapsed(),g=e.dom,v=e.selection,S=(J,G=c)=>{Xt(G.onformat)&&G.onformat(J,G,n,s),S6(g,J,G,n),Uw(G.attributes,(se,ge)=>{g.setAttrib(J,ge,Bu(se,n))}),Uw(G.classes,se=>{const ge=Bu(se,n);g.hasClass(J,ge)||g.addClass(J,ge)})},O=(J,G)=>{let se=!1;return Uw(J,ge=>qd(ge)?g.getContentEditable(G)==="false"&&!ge.ceFalseOverride||Ke(ge.collapsed)&&ge.collapsed!==u?!0:g.is(G,ge.selector)&&!ud(G)?(S(G,ge),se=!0,!1):!0:!1),se},M=J=>{if(Ue(J)){const G=g.create(J);return S(G),G}else return null},I=(J,G,se)=>{const ge=[];let _e=!0;const Be=c.inline||c.block,$e=M(Be),dt=Qe=>nR(c)&&Of(e,Qe,t,n),Et=(Qe,qe,mt)=>{const Zt=sR(c)&&tb(e.schema,Qe)&&ua(e,qe,Be);return mt&&Zt},Gt=(Qe,qe,mt,Zt)=>{const io=Qe.nodeName.toLowerCase(),en=ua(e,Be,io)&&ua(e,qe,Be),sn=!se&&_t(Qe)&&h1(Qe.data),Vn=ud(Qe),hs=!ri(c)||!J.isBlock(Qe);return(mt||Zt)&&en&&!sn&&!Vn&&hs};N1(J,G,Qe=>{let qe;const mt=Zt=>{let io=!1,en=_e,sn=!1;const Vn=Zt.parentNode,hs=Vn.nodeName.toLowerCase(),ma=J.getContentEditable(Zt);Ke(ma)&&(en=_e,_e=ma==="true",io=!0,sn=gk(e,Zt));const ai=_e&&!io;if(or(Zt)&&!jM(e,c,Zt,hs)){qe=null,Ef(c)&&J.remove(Zt);return}if(dt(Zt)){qe=null;return}if(Et(Zt,hs,ai)){const vi=J.rename(Zt,Be);S(vi),ge.push(vi),qe=null;return}if(qd(c)){let vi=O(i,Zt);if(!vi&&Ke(Vn)&&av(c)&&(vi=O(i,Vn)),!ri(c)||vi){qe=null;return}}Ke($e)&&Gt(Zt,hs,ai,sn)?(qe||(qe=J.clone($e,!1),Vn.insertBefore(qe,Zt),ge.push(qe)),sn&&io&&(_e=en),qe.appendChild(Zt)):(qe=null,nt(xs(Zt.childNodes),mt),io&&(_e=en),qe=null)};nt(Qe,mt)}),c.links===!0&&nt(ge,Qe=>{const qe=mt=>{mt.nodeName==="A"&&S(mt,c),nt(xs(mt.childNodes),qe)};qe(Qe)}),nt(ge,Qe=>{const qe=io=>{let en=0;return nt(io.childNodes,sn=>{!tR(sn)&&!md(sn)&&en++}),en},mt=io=>js(io.childNodes,By).filter(sn=>J.getContentEditable(sn)!=="false"&&vb(J,sn,c)).map(sn=>{const Vn=J.clone(sn,!1);return S(Vn),J.replace(Vn,io,!0),J.remove(sn,!0),Vn}).getOr(io),Zt=qe(Qe);if((ge.length>1||!J.isBlock(Qe))&&Zt===0){J.remove(Qe,!0);return}(ri(c)||Ef(c)&&c.wrapper)&&(!c.exact&&Zt===1&&(Qe=mt(Qe)),ZM(e,i,n,Qe),k6(e,c,t,n,Qe),U4(J,c,n,Qe),UM(J,c,n,Qe),Z4(J,c,n,Qe),I4(e,c,n,Qe))})},j=eb(s)?s:v.getNode();if(g.getContentEditable(j)==="false"&&!gk(e,j)){s=j,O(i,s),KE(e,t,s,n);return}if(c){if(s)if(eb(s)){if(!O(i,s)){const J=g.createRng();J.setStartBefore(s),J.setEndAfter(s),I(g,O1(g,J,i),!0)}}else I(g,s,!0);else!u||!ri(c)||kf(e).length?(v.setRng(Dv(v.getRng())),e5(e,()=>{My(e,(J,G)=>{const se=G?J:O1(g,J,i);I(g,se,!1)})},Go),e.nodeChanged()):SM(e,t,n),r6(e.formatter,t).each(J=>{nt(BM(e.selection),G=>S6(g,G,J,n))});OM(t,e)}KE(e,t,s,n)},E6=(e,t,n,s)=>{(s||e.selection.isEditable())&&WM(e,t,n,s)},A6=e=>Jt(e,"vars"),qM=(e,t)=>{e.set({}),t.on("NodeChange",n=>{O6(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=z.from(n.node).map(i=>eb(i)?i:i.startContainer).bind(i=>Wt(i)?z.some(i):z.from(i.parentElement)).getOrThunk(()=>T6(t));O6(t,s,e.get())})},T6=e=>e.selection.getStart(),Zw=(e,t,n,s,i)=>Zs(t,g=>{const v=e.formatter.matchNode(g,n,i??{},s);return!bn(v)},g=>Vw(e,g,n)?!0:s?!1:Ke(e.formatter.matchNode(g,n,i,!0))),D6=(e,t)=>{const n=t??T6(e);return _o(rv(e.dom,n),s=>Wt(s)&&!vu(s))},O6=(e,t,n)=>{const s=D6(e,t);Un(n,(i,c)=>{const u=g=>{const v=Zw(e,s,c,g.similar,A6(g)?g.vars:void 0),S=v.isSome();if(g.state.get()!==S){g.state.set(S);const O=v.getOr(t);A6(g)?g.callback(S,{node:O,format:c,parents:s}):nt(g.callbacks,M=>M(S,{node:O,format:c,parents:s}))}};nt([i.withSimilar,i.withoutSimilar],u),nt(i.withVars,u)})},GM=(e,t,n,s,i,c)=>{const u=t.get();nt(n.split(","),g=>{const v=kn(u,g).getOrThunk(()=>{const O={withSimilar:{state:Wo(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Wo(!1),similar:!1,callbacks:[]},withVars:[]};return u[g]=O,O}),S=()=>{const O=D6(e);return Zw(e,O,g,i,c).isSome()};if(bn(c)){const O=i?v.withSimilar:v.withoutSimilar;O.callbacks.push(s),O.callbacks.length===1&&O.state.set(S())}else v.withVars.push({state:Wo(S()),similar:i,vars:c,callback:s})}),t.set(u)},N6=(e,t,n)=>{const s=e.get();nt(t.split(","),i=>kn(s,i).each(c=>{s[i]={withSimilar:{...c.withSimilar,callbacks:_o(c.withSimilar.callbacks,u=>u!==n)},withoutSimilar:{...c.withoutSimilar,callbacks:_o(c.withoutSimilar.callbacks,u=>u!==n)},withVars:_o(c.withVars,u=>u.callback!==n)}})),e.set(s)},U1=(e,t,n,s,i,c)=>(GM(e,t,n,s,i,c),{unbind:()=>N6(t,n,s)}),R6=(e,t,n,s)=>{const i=e.formatter.get(t);i&&(T4(e,t,n,s)&&(!("toggle"in i[0])||i[0].toggle)?C6(e,t,n,s):E6(e,t,n,s))},M6=Dt.explode,Z1=()=>{const e={};return{addFilter:(i,c)=>{nt(M6(i),u=>{Jt(e,u)||(e[u]={name:u,callbacks:[]}),e[u].callbacks.push(c)})},getFilters:()=>pa(e),removeFilter:(i,c)=>{nt(M6(i),u=>{if(Jt(e,u))if(Ke(c)){const g=e[u],v=_o(g.callbacks,S=>S!==c);v.length>0?g.callbacks=v:delete e[u]}else delete e[u]})}}},KM=(e,t)=>{nt(t,n=>{e.attr(n,null)})},j4=(e,t,n)=>{e.addNodeFilter("font",s=>{nt(s,i=>{const c=t.parse(i.attr("style")),u=i.attr("color"),g=i.attr("face"),v=i.attr("size");u&&(c.color=u),g&&(c["font-family"]=g),v&&Cl(v).each(S=>{c["font-size"]=n[S-1]}),i.name="span",i.attr("style",t.serialize(c)),KM(i,["color","face","size"])})})},W4=(e,t,n)=>{e.addNodeFilter("strike",s=>{const i=t.type!=="html4";nt(s,c=>{if(i)c.name="s";else{const u=n.parse(c.attr("style"));u["text-decoration"]="line-through",c.name="span",c.attr("style",n.serialize(u))}})})},YM=(e,t,n)=>{var s;const i=Qo();t.convert_fonts_to_spans&&j4(e,i,Dt.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),W4(e,n,i)},B6=(e,t,n)=>{t.inline_styles&&YM(e,t,n)},jw=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),XM=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},QM=e=>{try{return decodeURIComponent(e)}catch{return e}},q4=e=>{const[t,...n]=e.split(","),s=n.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(i){const c=i[2]===";base64",u=QM(s),g=c?XM(u):u;return z.some({type:i[1],data:g,base64Encoded:c})}else return z.none()},P6=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch{return z.none()}const i=new Uint8Array(s.length);for(let c=0;c<i.length;c++)i[c]=s.charCodeAt(c);return z.some(new Blob([i],{type:e}))},G4=e=>new Promise((t,n)=>{q4(e).bind(({type:s,data:i,base64Encoded:c})=>P6(s,i,c)).fold(()=>n("Invalid data URI"),t)}),JM=e=>ar(e,"blob:")?jw(e):ar(e,"data:")?G4(e):Promise.reject("Unknown URI format"),I6=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var i;n((i=s.error)===null||i===void 0?void 0:i.message)},s.readAsDataURL(e)});let eB=0;const tB=e=>"blobid"+eB++,L6=(e,t,n)=>q4(e).bind(({data:s,type:i,base64Encoded:c})=>{if(t&&!c)return z.none();{const u=c?s:btoa(s);return n(u,i)}}),F6=(e,t,n)=>{const s=e.create(tB(),t,n);return e.add(s),s},z6=(e,t,n=!1)=>L6(t,n,(s,i)=>z.from(e.getByData(s,i)).orThunk(()=>P6(i,s).map(c=>F6(e,c,s)))),oB=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(ar(t,"blob:")){const s=e.getByUri(t);return Ke(s)?Promise.resolve(s):JM(t).then(i=>I6(i).then(c=>L6(c,!1,u=>z.some(F6(e,i,u))).getOrThunk(n)))}else return ar(t,"data:")?z6(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},nB=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,sB=e=>z.from(e.match(nB)).bind(t=>nr(t,1)).map(t=>ar(t,"www.")?t.substring(4):t),H6=(e,t)=>{z.from(e.attr("src")).bind(sB).forall(n=>!on(t,n))&&e.attr("sandbox","")},Ww=(e,t)=>ar(e,`${t}/`),rB=e=>bn(e)?"iframe":Ww(e,"image")?"img":Ww(e,"video")?"video":Ww(e,"audio")?"audio":"iframe",aB=({type:e,src:t,width:n,height:s}={},i,c)=>{const u=rB(e),g=new Ul(u,1);return g.attr(u==="audio"?{src:t}:{src:t,width:n,height:s}),(u==="audio"||u==="video")&&g.attr("controls",""),u==="iframe"&&i&&H6(g,c),g},iB=e=>Ke(e.attr("data-mce-bogus")),K4=e=>e.attr("src")===Vo.transparentSrc||Ke(e.attr("data-mce-placeholder")),lB=(e,t)=>{const{blob_cache:n}=t;if(n){const s=i=>{const c=i.attr("src");K4(i)||iB(i)||qo(c)||z6(n,c,!0).each(u=>{i.attr("src",u.blobUri())})};e.addAttributeFilter("src",i=>nt(i,s))}},cB=(e,t)=>{var n,s;const i=e.schema;e.addAttributeFilter("href",v=>{let S=v.length;const O=I=>I.split(" ").filter(J=>J.length>0).concat(["noopener"]).sort().join(" "),M=I=>{const j=I?Dt.trim(I):"";return/\b(noopener)\b/g.test(j)?j:O(j)};if(!t.allow_unsafe_link_target)for(;S--;){const I=v[S];I.name==="a"&&I.attr("target")==="_blank"&&I.attr("rel",M(I.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let S=v.length,O,M,I,j;for(;S--;)if(j=v[S],j.name==="a"&&j.firstChild&&!j.attr("href"))for(I=j.parent,O=j.lastChild;O&&I;)M=O.prev,I.insert(O,j),O=M}),t.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let S=v.length,O,M;for(;S--;)if(O=v[S],M=O.parent,M&&(M.name==="ul"||M.name==="ol"))if(O.prev&&O.prev.name==="li")O.prev.append(O);else{const I=new Ul("li",1);I.attr("style","list-style-type: none"),O.wrap(I)}});const c=i.getValidClasses();t.validate&&c&&e.addAttributeFilter("class",v=>{var S;let O=v.length;for(;O--;){const M=v[O],I=(S=M.attr("class"))!==null&&S!==void 0?S:"",j=Dt.explode(I," ");let J="";for(let G=0;G<j.length;G++){const se=j[G];let ge=!1,_e=c["*"];_e&&_e[se]&&(ge=!0),_e=c[M.name],!ge&&_e&&_e[se]&&(ge=!0),ge&&(J&&(J+=" "),J+=se)}J.length||(J=null),M.attr("class",J)}}),lB(e,t);const u=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,g=Vt((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>nt(v,S=>{S.replace(aB({type:S.attr("type"),src:S.name==="object"?S.attr("data"):S.attr("src"),width:S.attr("width"),height:S.attr("height")},u,g))})),u&&e.addNodeFilter("iframe",v=>nt(v,S=>H6(S,g)))};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:V6,setPrototypeOf:$6,isFrozen:dB,getPrototypeOf:uB,getOwnPropertyDescriptor:mB}=Object;let{freeze:Lc,seal:Hu,create:U6}=Object,{apply:Y4,construct:X4}=typeof Reflect<"u"&&Reflect;Lc||(Lc=function(t){return t}),Hu||(Hu=function(t){return t}),Y4||(Y4=function(t,n,s){return t.apply(n,s)}),X4||(X4=function(t,n){return new t(...n)});const Lv=Zl(Array.prototype.forEach),Z6=Zl(Array.prototype.lastIndexOf),j6=Zl(Array.prototype.pop),Fv=Zl(Array.prototype.push),fB=Zl(Array.prototype.splice),wb=Zl(String.prototype.toLowerCase),j1=Zl(String.prototype.toString),Q4=Zl(String.prototype.match),jp=Zl(String.prototype.replace),W6=Zl(String.prototype.indexOf),qw=Zl(String.prototype.trim),Fc=Zl(Object.prototype.hasOwnProperty),wa=Zl(RegExp.prototype.test),Vu=q6(TypeError);function Zl(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return Y4(e,t,s)}}function q6(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return X4(e,n)}}function ns(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wb;$6&&$6(e,null);let s=t.length;for(;s--;){let i=t[s];if(typeof i=="string"){const c=n(i);c!==i&&(dB(t)||(t[s]=c),i=c)}e[i]=!0}return e}function G6(e){for(let t=0;t<e.length;t++)Fc(e,t)||(e[t]=null);return e}function W1(e){const t=U6(null);for(const[n,s]of V6(e))Fc(e,n)&&(Array.isArray(s)?t[n]=G6(s):s&&typeof s=="object"&&s.constructor===Object?t[n]=W1(s):t[n]=s);return t}function Wp(e,t){for(;e!==null;){const s=mB(e,t);if(s){if(s.get)return Zl(s.get);if(typeof s.value=="function")return Zl(s.value)}e=uB(e)}function n(){return null}return n}const J4=Lc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),hr=Lc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),e3=Lc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),pB=Lc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ih=Lc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),q1=Lc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),lh=Lc(["#text"]),K6=Lc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),zv=Lc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Gw=Lc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Hv=Lc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y6=Hu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gB=Hu(/<%[\w\W]*|[\w\W]*%>/gm),hB=Hu(/\$\{[\w\W]*/gm),t3=Hu(/^data-[\-\w.\u00B7-\uFFFF]+$/),o3=Hu(/^aria-[\-\w]+$/),n3=Hu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Cb=Hu(/^(?:\w+script|data):/i),X6=Hu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),s3=Hu(/^html$/i),Q6=Hu(/^[a-z][.\w]*(-[.\w]+)+$/i);var r3=Object.freeze({__proto__:null,ARIA_ATTR:o3,ATTR_WHITESPACE:X6,CUSTOM_ELEMENT:Q6,DATA_ATTR:t3,DOCTYPE_NAME:s3,ERB_EXPR:gB,IS_ALLOWED_URI:n3,IS_SCRIPT_OR_DATA:Cb,MUSTACHE_EXPR:Y6,TMPLIT_EXPR:hB});const _b={element:1,text:3,progressingInstruction:7,comment:8,document:9},J6=function(){return typeof window>"u"?null:window},eD=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(s=n.getAttribute(i));const c="dompurify"+(s?"#"+s:"");try{return t.createPolicy(c,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},a3=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function i3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J6();const t=xn=>i3(xn);if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==_b.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const s=n,i=s.currentScript,{DocumentFragment:c,HTMLTemplateElement:u,Node:g,Element:v,NodeFilter:S,NamedNodeMap:O=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:M,DOMParser:I,trustedTypes:j}=e,J=v.prototype,G=Wp(J,"cloneNode"),se=Wp(J,"remove"),ge=Wp(J,"nextSibling"),_e=Wp(J,"childNodes"),Be=Wp(J,"parentNode");if(typeof u=="function"){const xn=n.createElement("template");xn.content&&xn.content.ownerDocument&&(n=xn.content.ownerDocument)}let $e,dt="";const{implementation:Et,createNodeIterator:Gt,createDocumentFragment:Qe,getElementsByTagName:qe}=n,{importNode:mt}=s;let Zt=a3();t.isSupported=typeof V6=="function"&&typeof Be=="function"&&Et&&Et.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:io,ERB_EXPR:en,TMPLIT_EXPR:sn,DATA_ATTR:Vn,ARIA_ATTR:hs,IS_SCRIPT_OR_DATA:ma,ATTR_WHITESPACE:ai,CUSTOM_ELEMENT:vi}=r3;let{IS_ALLOWED_URI:It}=r3,ao=null;const zn=ns({},[...J4,...hr,...e3,...ih,...lh]);let $n=null;const it=ns({},[...K6,...zv,...Gw,...Hv]);let At=Object.seal(U6(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),so=null,rn=null,cn=!0,rs=!0,Vm=!1,wh=!0,zc=!1,Vf=!0,ju=!1,hc=!1,Hc=!1,$m=!1,Yb=!1,fo=!1,An=!0,Qr=!1;const ii="user-content-";let yi=!0,Ka=!1,Er={},Ar=null;const Vc=ns({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $f=null;const Ch=ns({},["audio","video","img","source","image","track"]);let og=null;const i_=ns({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),l_="http://www.w3.org/1998/Math/MathML",w2="http://www.w3.org/2000/svg",Uf="http://www.w3.org/1999/xhtml";let Xb=Uf,vE=!1,c_=null;const K9=ns({},[l_,w2,Uf],j1);let yE=ns({},["mi","mo","mn","ms","mtext"]),wE=ns({},["annotation-xml"]);const Y9=ns({},["title","style","font","a","script"]);let d_=null;const Qb=["application/xhtml+xml","text/html"],M7="text/html";let ze=null,We=null;const Pt=n.createElement("form"),Ot=function(Ge){return Ge instanceof RegExp||Ge instanceof Function},yo=function(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(We&&We===Ge)){if((!Ge||typeof Ge!="object")&&(Ge={}),Ge=W1(Ge),d_=Qb.indexOf(Ge.PARSER_MEDIA_TYPE)===-1?M7:Ge.PARSER_MEDIA_TYPE,ze=d_==="application/xhtml+xml"?j1:wb,ao=Fc(Ge,"ALLOWED_TAGS")?ns({},Ge.ALLOWED_TAGS,ze):zn,$n=Fc(Ge,"ALLOWED_ATTR")?ns({},Ge.ALLOWED_ATTR,ze):it,c_=Fc(Ge,"ALLOWED_NAMESPACES")?ns({},Ge.ALLOWED_NAMESPACES,j1):K9,og=Fc(Ge,"ADD_URI_SAFE_ATTR")?ns(W1(i_),Ge.ADD_URI_SAFE_ATTR,ze):i_,$f=Fc(Ge,"ADD_DATA_URI_TAGS")?ns(W1(Ch),Ge.ADD_DATA_URI_TAGS,ze):Ch,Ar=Fc(Ge,"FORBID_CONTENTS")?ns({},Ge.FORBID_CONTENTS,ze):Vc,so=Fc(Ge,"FORBID_TAGS")?ns({},Ge.FORBID_TAGS,ze):{},rn=Fc(Ge,"FORBID_ATTR")?ns({},Ge.FORBID_ATTR,ze):{},Er=Fc(Ge,"USE_PROFILES")?Ge.USE_PROFILES:!1,cn=Ge.ALLOW_ARIA_ATTR!==!1,rs=Ge.ALLOW_DATA_ATTR!==!1,Vm=Ge.ALLOW_UNKNOWN_PROTOCOLS||!1,wh=Ge.ALLOW_SELF_CLOSE_IN_ATTR!==!1,zc=Ge.SAFE_FOR_TEMPLATES||!1,Vf=Ge.SAFE_FOR_XML!==!1,ju=Ge.WHOLE_DOCUMENT||!1,$m=Ge.RETURN_DOM||!1,Yb=Ge.RETURN_DOM_FRAGMENT||!1,fo=Ge.RETURN_TRUSTED_TYPE||!1,Hc=Ge.FORCE_BODY||!1,An=Ge.SANITIZE_DOM!==!1,Qr=Ge.SANITIZE_NAMED_PROPS||!1,yi=Ge.KEEP_CONTENT!==!1,Ka=Ge.IN_PLACE||!1,It=Ge.ALLOWED_URI_REGEXP||n3,Xb=Ge.NAMESPACE||Uf,yE=Ge.MATHML_TEXT_INTEGRATION_POINTS||yE,wE=Ge.HTML_INTEGRATION_POINTS||wE,At=Ge.CUSTOM_ELEMENT_HANDLING||{},Ge.CUSTOM_ELEMENT_HANDLING&&Ot(Ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(At.tagNameCheck=Ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ge.CUSTOM_ELEMENT_HANDLING&&Ot(Ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(At.attributeNameCheck=Ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ge.CUSTOM_ELEMENT_HANDLING&&typeof Ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(At.allowCustomizedBuiltInElements=Ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),zc&&(rs=!1),Yb&&($m=!0),Er&&(ao=ns({},lh),$n=[],Er.html===!0&&(ns(ao,J4),ns($n,K6)),Er.svg===!0&&(ns(ao,hr),ns($n,zv),ns($n,Hv)),Er.svgFilters===!0&&(ns(ao,e3),ns($n,zv),ns($n,Hv)),Er.mathMl===!0&&(ns(ao,ih),ns($n,Gw),ns($n,Hv))),Ge.ADD_TAGS&&(ao===zn&&(ao=W1(ao)),ns(ao,Ge.ADD_TAGS,ze)),Ge.ADD_ATTR&&($n===it&&($n=W1($n)),ns($n,Ge.ADD_ATTR,ze)),Ge.ADD_URI_SAFE_ATTR&&ns(og,Ge.ADD_URI_SAFE_ATTR,ze),Ge.FORBID_CONTENTS&&(Ar===Vc&&(Ar=W1(Ar)),ns(Ar,Ge.FORBID_CONTENTS,ze)),yi&&(ao["#text"]=!0),ju&&ns(ao,["html","head","body"]),ao.table&&(ns(ao,["tbody"]),delete so.tbody),Ge.TRUSTED_TYPES_POLICY){if(typeof Ge.TRUSTED_TYPES_POLICY.createHTML!="function")throw Vu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ge.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Vu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');$e=Ge.TRUSTED_TYPES_POLICY,dt=$e.createHTML("")}else $e===void 0&&($e=eD(j,i)),$e!==null&&typeof dt=="string"&&(dt=$e.createHTML(""));Lc&&Lc(Ge),We=Ge}},Rn=ns({},[...hr,...e3,...pB]),Jr=ns({},[...ih,...q1]),ng=function(Ge){let lo=Be(Ge);(!lo||!lo.tagName)&&(lo={namespaceURI:Xb,tagName:"template"});const tn=wb(Ge.tagName),li=wb(lo.tagName);return c_[Ge.namespaceURI]?Ge.namespaceURI===w2?lo.namespaceURI===Uf?tn==="svg":lo.namespaceURI===l_?tn==="svg"&&(li==="annotation-xml"||yE[li]):!!Rn[tn]:Ge.namespaceURI===l_?lo.namespaceURI===Uf?tn==="math":lo.namespaceURI===w2?tn==="math"&&wE[li]:!!Jr[tn]:Ge.namespaceURI===Uf?lo.namespaceURI===w2&&!wE[li]||lo.namespaceURI===l_&&!yE[li]?!1:!Jr[tn]&&(Y9[tn]||!Rn[tn]):!!(d_==="application/xhtml+xml"&&c_[Ge.namespaceURI]):!1},Zf=function(Ge){Fv(t.removed,{element:Ge});try{Be(Ge).removeChild(Ge)}catch{se(Ge)}},CE=function(Ge,lo){try{Fv(t.removed,{attribute:lo.getAttributeNode(Ge),from:lo})}catch{Fv(t.removed,{attribute:null,from:lo})}if(lo.removeAttribute(Ge),Ge==="is")if($m||Yb)try{Zf(lo)}catch{}else try{lo.setAttribute(Ge,"")}catch{}},X9=function(Ge){let lo=null,tn=null;if(Hc)Ge="<remove></remove>"+Ge;else{const bc=Q4(Ge,/^[\r\n\t ]+/);tn=bc&&bc[0]}d_==="application/xhtml+xml"&&Xb===Uf&&(Ge='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ge+"</body></html>");const li=$e?$e.createHTML(Ge):Ge;if(Xb===Uf)try{lo=new I().parseFromString(li,d_)}catch{}if(!lo||!lo.documentElement){lo=Et.createDocument(Xb,"template",null);try{lo.documentElement.innerHTML=vE?dt:li}catch{}}const vd=lo.body||lo.documentElement;return Ge&&tn&&vd.insertBefore(n.createTextNode(tn),vd.childNodes[0]||null),Xb===Uf?qe.call(lo,ju?"html":"body")[0]:ju?lo.documentElement:vd},Q9=function(Ge){return Gt.call(Ge.ownerDocument||Ge,Ge,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT|S.SHOW_PROCESSING_INSTRUCTION|S.SHOW_CDATA_SECTION,null)},jI=function(Ge){return Ge instanceof M&&(typeof Ge.nodeName!="string"||typeof Ge.textContent!="string"||typeof Ge.removeChild!="function"||!(Ge.attributes instanceof O)||typeof Ge.removeAttribute!="function"||typeof Ge.setAttribute!="function"||typeof Ge.namespaceURI!="string"||typeof Ge.insertBefore!="function"||typeof Ge.hasChildNodes!="function")},J9=function(Ge){return typeof g=="function"&&Ge instanceof g};function s0(xn,Ge,lo){Lv(xn,tn=>{tn.call(t,Ge,lo,We)})}const ez=function(Ge){let lo=null;if(s0(Zt.beforeSanitizeElements,Ge,null),jI(Ge))return Zf(Ge),!0;const tn=ze(Ge.nodeName);if(s0(Zt.uponSanitizeElement,Ge,{tagName:tn,allowedTags:ao}),Ge.hasChildNodes()&&!J9(Ge.firstElementChild)&&wa(/<[/\w]/g,Ge.innerHTML)&&wa(/<[/\w]/g,Ge.textContent)||Ge.nodeType===_b.progressingInstruction||Vf&&Ge.nodeType===_b.comment&&wa(/<[/\w]/g,Ge.data))return Zf(Ge),!0;if(!ao[tn]||so[tn]){if(!so[tn]&&oz(tn)&&(At.tagNameCheck instanceof RegExp&&wa(At.tagNameCheck,tn)||At.tagNameCheck instanceof Function&&At.tagNameCheck(tn)))return!1;if(yi&&!Ar[tn]){const li=Be(Ge)||Ge.parentNode,vd=_e(Ge)||Ge.childNodes;if(vd&&li){const bc=vd.length;for(let Wu=bc-1;Wu>=0;--Wu){const _h=G(vd[Wu],!0);_h.__removalCount=(Ge.__removalCount||0)+1,li.insertBefore(_h,ge(Ge))}}}return Zf(Ge),!0}return Ge instanceof v&&!ng(Ge)||(tn==="noscript"||tn==="noembed"||tn==="noframes")&&wa(/<\/no(script|embed|frames)/i,Ge.innerHTML)?(Zf(Ge),!0):(zc&&Ge.nodeType===_b.text&&(lo=Ge.textContent,Lv([io,en,sn],li=>{lo=jp(lo,li," ")}),Ge.textContent!==lo&&(Fv(t.removed,{element:Ge.cloneNode()}),Ge.textContent=lo)),s0(Zt.afterSanitizeElements,Ge,null),!1)},tz=function(Ge,lo,tn){if(An&&(lo==="id"||lo==="name")&&(tn in n||tn in Pt))return!1;if(!(rs&&!rn[lo]&&wa(Vn,lo))){if(!(cn&&wa(hs,lo))){if(!$n[lo]||rn[lo]){if(!(oz(Ge)&&(At.tagNameCheck instanceof RegExp&&wa(At.tagNameCheck,Ge)||At.tagNameCheck instanceof Function&&At.tagNameCheck(Ge))&&(At.attributeNameCheck instanceof RegExp&&wa(At.attributeNameCheck,lo)||At.attributeNameCheck instanceof Function&&At.attributeNameCheck(lo))||lo==="is"&&At.allowCustomizedBuiltInElements&&(At.tagNameCheck instanceof RegExp&&wa(At.tagNameCheck,tn)||At.tagNameCheck instanceof Function&&At.tagNameCheck(tn))))return!1}else if(!og[lo]){if(!wa(It,jp(tn,ai,""))){if(!((lo==="src"||lo==="xlink:href"||lo==="href")&&Ge!=="script"&&W6(tn,"data:")===0&&$f[Ge])){if(!(Vm&&!wa(ma,jp(tn,ai,"")))){if(tn)return!1}}}}}}return!0},oz=function(Ge){return Ge!=="annotation-xml"&&Q4(Ge,vi)},nz=function(Ge){s0(Zt.beforeSanitizeAttributes,Ge,null);const{attributes:lo}=Ge;if(!lo||jI(Ge))return;const tn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$n,forceKeepAttr:void 0};let li=lo.length;for(;li--;){const vd=lo[li],{name:bc,namespaceURI:Wu,value:_h}=vd,_E=ze(bc);let $c=bc==="value"?_h:qw(_h);const wG=$c;if(tn.attrName=_E,tn.attrValue=$c,tn.keepAttr=!0,tn.forceKeepAttr=void 0,s0(Zt.uponSanitizeAttribute,Ge,tn),$c=tn.attrValue,Qr&&(_E==="id"||_E==="name")&&(CE(bc,Ge),$c=ii+$c),Vf&&wa(/((--!?|])>)|<\/(style|title)/i,$c)){CE(bc,Ge);continue}if(tn.forceKeepAttr)continue;if(!tn.keepAttr){CE(bc,Ge);continue}if(!wh&&wa(/\/>/i,$c)){CE(bc,Ge);continue}zc&&Lv([io,en,sn],rz=>{$c=jp($c,rz," ")});const sz=ze(Ge.nodeName);if(!tz(sz,_E,$c)){CE(bc,Ge);continue}if($e&&typeof j=="object"&&typeof j.getAttributeType=="function"&&!Wu)switch(j.getAttributeType(sz,_E)){case"TrustedHTML":{$c=$e.createHTML($c);break}case"TrustedScriptURL":{$c=$e.createScriptURL($c);break}}if($c!==wG)try{Wu?Ge.setAttributeNS(Wu,bc,$c):Ge.setAttribute(bc,$c),jI(Ge)?Zf(Ge):j6(t.removed)}catch{}}s0(Zt.afterSanitizeAttributes,Ge,null)},yG=function xn(Ge){let lo=null;const tn=Q9(Ge);for(s0(Zt.beforeSanitizeShadowDOM,Ge,null);lo=tn.nextNode();)s0(Zt.uponSanitizeShadowNode,lo,null),ez(lo),nz(lo),lo.content instanceof c&&xn(lo.content);s0(Zt.afterSanitizeShadowDOM,Ge,null)};return t.sanitize=function(xn){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lo=null,tn=null,li=null,vd=null;if(vE=!xn,vE&&(xn="<!-->"),typeof xn!="string"&&!J9(xn))if(typeof xn.toString=="function"){if(xn=xn.toString(),typeof xn!="string")throw Vu("dirty is not a string, aborting")}else throw Vu("toString is not a function");if(!t.isSupported)return xn;if(hc||yo(Ge),t.removed=[],typeof xn=="string"&&(Ka=!1),Ka){if(xn.nodeName){const _h=ze(xn.nodeName);if(!ao[_h]||so[_h])throw Vu("root node is forbidden and cannot be sanitized in-place")}}else if(xn instanceof g)lo=X9("<!---->"),tn=lo.ownerDocument.importNode(xn,!0),tn.nodeType===_b.element&&tn.nodeName==="BODY"||tn.nodeName==="HTML"?lo=tn:lo.appendChild(tn);else{if(!$m&&!zc&&!ju&&xn.indexOf("<")===-1)return $e&&fo?$e.createHTML(xn):xn;if(lo=X9(xn),!lo)return $m?null:fo?dt:""}lo&&Hc&&Zf(lo.firstChild);const bc=Q9(Ka?xn:lo);for(;li=bc.nextNode();)ez(li),nz(li),li.content instanceof c&&yG(li.content);if(Ka)return xn;if($m){if(Yb)for(vd=Qe.call(lo.ownerDocument);lo.firstChild;)vd.appendChild(lo.firstChild);else vd=lo;return($n.shadowroot||$n.shadowrootmode)&&(vd=mt.call(s,vd,!0)),vd}let Wu=ju?lo.outerHTML:lo.innerHTML;return ju&&ao["!doctype"]&&lo.ownerDocument&&lo.ownerDocument.doctype&&lo.ownerDocument.doctype.name&&wa(s3,lo.ownerDocument.doctype.name)&&(Wu="<!DOCTYPE "+lo.ownerDocument.doctype.name+`>
`+Wu),zc&&Lv([io,en,sn],_h=>{Wu=jp(Wu,_h," ")}),$e&&fo?$e.createHTML(Wu):Wu},t.setConfig=function(){let xn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yo(xn),hc=!0},t.clearConfig=function(){We=null,hc=!1},t.isValidAttribute=function(xn,Ge,lo){We||yo({});const tn=ze(xn),li=ze(Ge);return tz(tn,li,lo)},t.addHook=function(xn,Ge){typeof Ge=="function"&&Fv(Zt[xn],Ge)},t.removeHook=function(xn,Ge){if(Ge!==void 0){const lo=Z6(Zt[xn],Ge);return lo===-1?void 0:fB(Zt[xn],lo,1)[0]}return j6(Zt[xn])},t.removeHooks=function(xn){Zt[xn]=[]},t.removeAllHooks=function(){Zt=a3()},t}var Vv=i3();const kb=Dt.each,$v=Dt.trim,l3=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],tD={ftp:21,http:80,https:443,mailto:25},oD=["img","video"],Kw=(e,t)=>Ke(e)?!e:Ke(t)?!on(oD,t):!0,bB=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},nD=(e,t,n)=>{const s=bB(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?Kw(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class bl{static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(s[0]);return i&&(n=i[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const i=fm.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!nD(s,i,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,n={}){this.path="",this.directory="",t=$v(t),this.settings=n;const s=n.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){i.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const g=s?s.path:new bl(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+i.toAbsPath(g,t);else{const v=/([^#?]*)([#?]?.*)/.exec(t);v&&(t=(s&&s.protocol||"http")+"://mce_host"+i.toAbsPath(g,v[1])+v[2])}}t=t.replace(/@@/g,"(mce_at)");const u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);u&&kb(l3,(g,v)=>{let S=u[v];S&&(S=S.replace(/\(mce_at\)/g,"@@")),i[g]=S}),s&&(i.protocol||(i.protocol=s.protocol),i.userInfo||(i.userInfo=s.userInfo),!i.port&&i.host==="mce_host"&&(i.port=s.port),(!i.host||i.host==="mce_host")&&(i.host=s.host),i.source=""),c&&(i.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new bl(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),i=n.getURI();if(s===i||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===i)return s;let c=this.toRelPath(this.path,n.path);return n.query&&(c+="?"+n.query),n.anchor&&(c+="#"+n.anchor),c}toAbsolute(t,n){const s=new bl(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?tD[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,i="",c,u;const g=t.substring(0,t.lastIndexOf("/")).split("/"),v=n.split("/");if(g.length>=v.length){for(c=0,u=g.length;c<u;c++)if(c>=v.length||g[c]!==v[c]){s=c+1;break}}if(g.length<v.length){for(c=0,u=v.length;c<u;c++)if(c>=g.length||g[c]!==v[c]){s=c+1;break}}if(s===1)return n;for(c=0,u=g.length-(s-1);c<u;c++)i+="../";for(c=s-1,u=v.length;c<u;c++)c!==s-1?i+="/"+v[c]:i+=v[c];return i}toAbsPath(t,n){let s=0;const i=/\/$/.test(n)?"/":"",c=t.split("/"),u=n.split("/"),g=[];kb(c,M=>{M&&g.push(M)});const v=[];for(let M=u.length-1;M>=0;M--)if(!(u[M].length===0||u[M]===".")){if(u[M]===".."){s++;continue}if(s>0){s--;continue}v.push(u[M])}const S=g.length-s;let O;return S<=0?O=tl(v).join("/"):O=g.slice(0,S).join("/")+"/"+tl(v).join("/"),O.indexOf("/")!==0&&(O="/"+O),i&&O.lastIndexOf("/")!==O.length-1&&(O+=i),O}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const c3=Dt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Yw="data-mce-type";let Sb=0;const d3=(e,t,n,s,i)=>{var c,u,g,v;const S=t.validate,O=n.getSpecialElements();e.nodeType===Km&&!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const M=(u=i==null?void 0:i.tagName)!==null&&u!==void 0?u:e.nodeName.toLowerCase();if(s!=="html"&&n.isValid(s)){Ke(i)&&(i.allowedTags[M]=!0);return}if(e.nodeType!==Va||M==="body")return;const I=ue.fromDom(e),j=Js(I,Yw),J=Oa(I,"data-mce-bogus");if(!j&&Ue(J)){J==="all"?k(I):R(I);return}const G=n.getElementRule(M);if(S&&!G){Jt(O,M)?k(I):R(I);return}else Ke(i)&&(i.allowedTags[M]=!0);if(S&&G&&!j){if(nt((g=G.attributesForced)!==null&&g!==void 0?g:[],se=>{$r(I,se.name,se.value==="{$uid}"?`mce_${Sb++}`:se.value)}),nt((v=G.attributesDefault)!==null&&v!==void 0?v:[],se=>{Js(I,se.name)||$r(I,se.name,se.value==="{$uid}"?`mce_${Sb++}`:se.value)}),G.attributesRequired&&!Kn(G.attributesRequired,se=>Js(I,se))){R(I);return}if(G.removeEmptyAttrs&&fg(I)){R(I);return}G.outputName&&G.outputName!==M&&co(I,G.outputName)}},u3=(e,t,n,s,i)=>{const c=e.tagName.toLowerCase(),{attrName:u,attrValue:g}=i;i.keepAttr=m3(t,n,s,c,u,g),i.keepAttr?(i.allowedAttributes[u]=!0,p3(u,n)&&(i.attrValue=u),t.allow_svg_data_urls&&ar(g,"data:image/svg+xml")&&(i.forceKeepAttr=!0)):f3(e,u)&&(i.forceKeepAttr=!0)},m3=(e,t,n,s,i,c)=>n!=="html"&&!gp(s)?!0:!(i in c3&&nD(e,c,s))&&(!e.validate||t.isValid(s,i)||ar(i,"data-")||ar(i,"aria-")),f3=(e,t)=>e.hasAttribute(Yw)&&(t==="id"||t==="class"||t==="style"),p3=(e,t)=>e in t.getBoolAttrs(),g3=(e,t,n,s)=>{const{attributes:i}=e;for(let c=i.length-1;c>=0;c--){const u=i[c],g=u.name,v=u.value;!m3(t,n,s,e.tagName.toLowerCase(),g,v)&&!f3(e,g)?e.removeAttribute(g):p3(g,n)&&e.setAttribute(g,g)}},sD=(e,t,n)=>{const s=Vv();return s.addHook("uponSanitizeElement",(i,c)=>{d3(i,e,t,n.track(i),c)}),s.addHook("uponSanitizeAttribute",(i,c)=>{u3(i,e,t,n.current(),c)}),s},xB=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},rD=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(s=>`xlink:${s}`),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};Vv().sanitize(e,n)},Xw=(e,t)=>{const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},s=Vv(),i=t.allow_mathml_annotation_encodings,c=pe(i)&&i.length>0,u=v=>{const S=v.getAttribute("encoding");return c&&Ue(S)&&on(i,S)},g=(v,S)=>c&&S==="semantics"?z.some(!0):S==="annotation"?z.some(Wt(v)&&u(v)):pe(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(S)?z.from(!0):z.none();s.addHook("uponSanitizeElement",(v,S)=>{var O;const M=(O=S.tagName)!==null&&O!==void 0?O:v.nodeName.toLowerCase();g(v,M).each(j=>{S.allowedTags[M]=j,!j&&t.sanitize&&Wt(v)&&v.remove()})}),s.addHook("uponSanitizeAttribute",(v,S)=>{pe(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(S.attrName)&&(S.forceKeepAttr=!0)}),s.sanitize(e,n)},xl=e=>t=>{const n=ux(t);if(n==="svg")rD(t);else if(n==="math")Xw(t,e);else throw new Error("Not a namespace element")},Qw=(e,t)=>{const n=gi();if(e.sanitize){const s=sD(e,t,n);return{sanitizeHtmlElement:(c,u)=>{s.sanitize(c,xB(e,u)),s.removed=[],n.reset()},sanitizeNamespaceElement:xl(e)}}else return{sanitizeHtmlElement:(c,u)=>{const g=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let v;for(;v=g.nextNode();){const S=n.track(v);d3(v,e,t,S),Wt(v)&&g3(v,e,t,S)}n.reset()},sanitizeNamespaceElement:ko}},ch=Dt.makeMap,h3=Dt.extend,fc=(e,t,n,s)=>{const i=e.name,c=i in n&&i!=="title"&&i!=="textarea"&&i!=="noscript",u=t.childNodes;for(let g=0,v=u.length;g<v;g++){const S=u[g],O=new Ul(S.nodeName.toLowerCase(),S.nodeType);if(Wt(S)){const M=S.attributes;for(let I=0,j=M.length;I<j;I++){const J=M[I];O.attr(J.name,J.value)}gp(O.name)&&(s(S),O.value=S.innerHTML)}else _t(S)?(O.value=S.data,c&&(O.raw=!0)):(Ml(S)||fn(S)||ul(S))&&(O.value=S.data);gp(O.name)||fc(O,S,n,s),e.append(O)}},G1=(e,t,n)=>{const s=[];for(let i=e,c=i;i;c=i,i=i.walk()){const u=i;nt(t,g=>g(u)),qo(u.parent)&&u!==e?i=c:s.push(u)}for(let i=s.length-1;i>=0;i--){const c=s[i];nt(n,u=>u(c))}},aD=(e,t,n,s)=>{const i=n.validate,c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),g=h3(ch("script,style,head,html,body,title,meta,param"),t.getBlockElements()),v=Dx(t),S=/[ \t\r\n]+/g,O=/^[ \t\r\n]+/,M=/[ \t\r\n]+$/,I=_e=>{let Be=_e.parent;for(;Ke(Be);){if(Be.name in u)return!0;Be=Be.parent}return!1},j=_e=>{let Be=_e;for(;Ke(Be);){if(Be.name in v)return z1(t,c,u,Be);Be=Be.parent}return!1},J=_e=>_e.name in g||Yh(t,_e)||gp(_e.name)&&_e.parent===e,G=(_e,Be)=>{const $e=Be?_e.prev:_e.next;return Ke($e)||qo(_e.parent)?!1:J(_e.parent)&&(_e.parent!==e||s.isRootContent===!0)};return[_e=>{var Be;if(_e.type===3&&!I(_e)){let $e=(Be=_e.value)!==null&&Be!==void 0?Be:"";$e=$e.replace(S," "),(zT(_e.prev,J)||G(_e,!0))&&($e=$e.replace(O,"")),$e.length===0||$e===" "&&_e.prev&&_e.prev.type===Km&&_e.next&&_e.next.type===Km?_e.remove():_e.value=$e}},_e=>{var Be;if(_e.type===1){const $e=t.getElementRule(_e.name);if(i&&$e){const dt=z1(t,c,u,_e);$e.paddInEmptyBlock&&dt&&j(_e)?Tv(n,s,J,_e):$e.removeEmpty&&dt?J(_e)?_e.remove():_e.unwrap():$e.paddEmpty&&(dt||Nw(_e))&&Tv(n,s,J,_e)}}else if(_e.type===3&&!I(_e)){let $e=(Be=_e.value)!==null&&Be!==void 0?Be:"";(_e.next&&J(_e.next)||G(_e,!1))&&($e=$e.replace(M,"")),$e.length===0?_e.remove():_e.value=$e}}]},iD=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},K1=(e={},t=gf())=>{const n=Z1(),s=Z1(),i={validate:!0,root_name:"body",sanitize:!0,...e},c=new DOMParser,u=Qw(i,t),g=(Be,$e,dt="html")=>{const Et=dt==="xhtml"?"application/xhtml+xml":"text/html",Gt=Jt(t.getSpecialElements(),$e.toLowerCase()),Qe=Gt?`<${$e}>${Be}</${$e}>`:Be,qe=()=>dt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Qe}</body></html>`:/^[\s]*<head/i.test(Be)||/^[\s]*<html/i.test(Be)||/^[\s]*<!DOCTYPE/i.test(Be)?`<html>${Qe}</html>`:`<body>${Qe}</body>`,mt=c.parseFromString(qe(),Et).body;return u.sanitizeHtmlElement(mt,Et),Gt?mt.firstChild:mt},v=n.addFilter,S=n.getFilters,O=n.removeFilter,M=s.addFilter,I=s.getFilters,j=s.removeFilter,J=(Be,$e)=>{Mw(t,Be)&&$e.push(Be)},G=(Be,$e)=>{const dt=Ue($e.attr(Yw)),Et=$e.type===1&&!Jt(Be,$e.name)&&!Yh(t,$e)&&!gp($e.name);return $e.type===3||Et&&!dt},se=(Be,$e)=>{const dt=h3(ch("script,style,head,html,body,title,meta,param"),t.getBlockElements()),Et=/^[ \t\r\n]+/,Gt=/[ \t\r\n]+$/;let Qe=Be.firstChild,qe=null;const mt=Zt=>{var io,en;Zt&&(Qe=Zt.firstChild,Qe&&Qe.type===3&&(Qe.value=(io=Qe.value)===null||io===void 0?void 0:io.replace(Et,"")),Qe=Zt.lastChild,Qe&&Qe.type===3&&(Qe.value=(en=Qe.value)===null||en===void 0?void 0:en.replace(Gt,"")))};if(t.isValidChild(Be.name,$e.toLowerCase())){for(;Qe;){const Zt=Qe.next;G(dt,Qe)?(qe||(qe=new Ul($e,1),qe.attr(i.forced_root_block_attrs),Be.insert(qe,Qe)),qe.append(Qe)):(mt(qe),qe=null),Qe=Zt}mt(qe)}},_e={schema:t,addAttributeFilter:M,getAttributeFilters:I,removeAttributeFilter:j,addNodeFilter:v,getNodeFilters:S,removeNodeFilter:O,parse:(Be,$e={})=>{var dt;const Et=i.validate,Gt=(dt=$e.context)!==null&&dt!==void 0?dt:i.root_name,Qe=g(Be,Gt,$e.format);hp(t,Qe);const qe=new Ul(Gt,11);fc(qe,Qe,t.getSpecialElements(),u.sanitizeNamespaceElement),Qe.innerHTML="";const[mt,Zt]=aD(qe,t,i,$e),io=[],en=Et?ma=>J(ma,io):ko,sn={nodes:{},attributes:{}},Vn=ma=>Dw(S(),I(),ma,sn);if(G1(qe,[mt,Vn],[Zt,en]),io.reverse(),Et&&io.length>0)if($e.context){const{pass:ma,fail:ai}=xr(io,vi=>vi.parent===qe);$p(ai,t,qe,Vn),$e.invalid=ma.length>0}else $p(io,t,qe,Vn);const hs=iD(i,$e);return hs&&(qe.name==="body"||$e.isRootContent)&&se(qe,hs),$e.invalid||Ow(sn,$e),qe}};return cB(_e,i),B6(_e,i,t),_e},b3=e=>zw(e)?Kg({validate:!1}).serialize(e):e,Jw=(e,t,n)=>{const s=b3(e),i=t(s);if(i.isDefaultPrevented())return i;if(zw(e))if(i.content!==s){const c=K1({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:e.name});return{...i,content:c}}else return{...i,content:e};else return i},x3=e=>({sanitize:_A(e),sandbox_iframes:zt(e),sandbox_iframes_exclusions:Ru(e)}),$u=(e,t)=>{if(t.no_events)return vr.value(t);{const n=eN(e,t);return n.isDefaultPrevented()?vr.error(Cn(e,{content:"",...n}).content):vr.value(n)}},eC=(e,t,n)=>n.no_events?t:Jw(t,i=>Cn(e,{...n,content:i}),x3(e)).content,Eb=(e,t)=>{if(t.no_events)return vr.value(t);{const n=Jw(t.content,s=>Cm(e,{...t,content:s}),x3(e));return n.isDefaultPrevented()?(XE(e,n),vr.error(void 0)):vr.value(n)}},Uv=(e,t,n)=>{n.no_events||XE(e,{...n,content:t})},tC=(e,t,n)=>({element:e,width:t,rows:n}),v3=(e,t)=>({element:e,cells:t}),lD=(e,t)=>({x:e,y:t}),cD=(e,t)=>zs(e,t).bind(Cl).getOr(1),vB=(e,t,n,s,i)=>{const c=cD(i,"rowspan"),u=cD(i,"colspan"),g=e.rows;for(let v=n;v<n+c;v++){g[v]||(g[v]=v3(ve(s),[]));for(let S=t;S<t+u;S++){const O=g[v].cells;O[S]=v===n&&S===t?i:le(i)}}},dD=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},uD=(e,t,n)=>{for(;dD(e,t,n);)t++;return t},oC=e=>ws(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),nC=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const i=n[s].cells;for(let c=0;c<i.length;c++)if(yn(i[c],t))return z.some(lD(c,s))}return z.none()},y3=(e,t,n,s,i)=>{const c=[],u=e.rows;for(let g=n;g<=i;g++){const v=u[g].cells,S=t<s?v.slice(t,s+1):v.slice(s,t+1);c.push(v3(u[g].element,S))}return c},w3=(e,t,n)=>{const s=t.x,i=t.y,c=n.x,u=n.y,g=i<u?y3(e,s,i,c,u):y3(e,s,u,c,i);return tC(e.element,oC(g),g)},mD=(e,t)=>{const n=le(e.element),s=ue.fromTag("tbody");return oc(s,t),Zn(n,s),n},fD=e=>Xo(e.rows,t=>{const n=Xo(t.cells,i=>{const c=ve(i);return er(c,"colspan"),er(c,"rowspan"),c}),s=le(t.element);return oc(s,n),s}),C3=e=>{const t=tC(le(e),0,[]);return nt(mn(e,"tr"),(n,s)=>{nt(mn(n,"td,th"),(i,c)=>{vB(t,uD(t,c,s),s,n,i)})}),tC(t.element,oC(t.rows),t.rows)},pD=e=>mD(e,fD(e)),gD=(e,t,n)=>nC(e,t).bind(s=>nC(e,n).map(i=>w3(e,s,i))),hD=e=>js(e,t=>Ro(t)==="ul"||Ro(t)==="ol"),sC=(e,t)=>js(e,n=>Ro(n)==="li"&&Sf(n,t)).fold(St([]),n=>hD(e).map(s=>{const i=ue.fromTag(Ro(s)),c=Fo(gg(s),(u,g)=>ar(g,"list-style"));return pu(i,c),[ue.fromTag("li"),i]}).getOr([])),yB=(e,t)=>{const n=ws(t,(s,i)=>(Zn(i,s),i),e);return t.length>0?nf([n]):n},Zv=e=>xm(e)?Sc(e).filter(Eu).fold(St([]),t=>[e,t]):Eu(e)?[e]:[],bD=(e,t,n)=>{const s=ue.fromDom(t.commonAncestorContainer),i=Hp(s,e),c=_o(i,v=>n.isWrapper(Ro(v))),u=sC(i,t),g=c.concat(u.length?u:Zv(s));return Xo(g,le)},_3=()=>nf([]),wB=(e,t,n)=>yB(ue.fromDom(t.cloneContents()),bD(e,t,n)),CB=(e,t)=>gu(t,"table",je(yn,e)),xD=(e,t)=>CB(e,t[0]).bind(n=>{const s=t[0],i=t[t.length-1],c=C3(n);return gD(c,s,i).map(u=>nf([pD(u)]))}).getOrThunk(_3),_B=(e,t,n)=>t.length>0&&t[0].collapsed?_3():wB(e,t[0],n),vD=(e,t,n)=>{const s=Rs(t,e);return s.length>0?xD(e,s):_B(e,t,n)},jv=(e,t)=>t>=0&&t<e.length&&Em(e.charAt(t)),yD=e=>pl(e.innerText),kB=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),rC=e=>z.from(e.selection.getRng()).map(t=>{var n;const s=z.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),c=kB(s),u=ue.fromDom(t.cloneContents());Z5(u),Vk(u);const g=e.dom.add(i,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},u.dom),v=yD(g),S=pl((n=g.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(g),jv(S,0)||jv(S,S.length-1)){const O=s.getOr(i),M=yD(O),I=M.indexOf(v);if(I===-1)return v;{const j=jv(M,I-1),J=jv(M,I+v.length);return(j?" ":"")+v+(J?" ":"")}}else return v}).getOr(""),SB=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),i=e.selection.getSel(),c=pv(e,Ny(i)),u=t.contextual?vD(ue.fromDom(e.getBody()),c,e.schema).dom:n.cloneContents();return u&&s.appendChild(u),e.selection.serializer.serialize(s,t)},EB=(e,t)=>{if(t.format==="text")return rC(e);{const n=SB(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},wD=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),k3=(e,t,n={})=>{const s=wD(n,t);return $u(e,s).fold(Tn,i=>{const c=EB(e,i);return eC(e,c,i)})},S3=0,CD=1,_D=2,Wv=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),i=new Array(n),c=(O,M,I)=>({start:O,end:M,diag:I}),u=(O,M,I,j,J)=>{const G=v(O,M,I,j);if(G===null||G.start===M&&G.diag===M-j||G.end===O&&G.diag===O-I){let se=O,ge=I;for(;se<M||ge<j;)se<M&&ge<j&&e[se]===t[ge]?(J.push([S3,e[se]]),++se,++ge):M-O>j-I?(J.push([_D,e[se]]),++se):(J.push([CD,t[ge]]),++ge)}else{u(O,G.start,I,G.start-G.diag,J);for(let se=G.start;se<G.end;++se)J.push([S3,e[se]]);u(G.end,M,G.end-G.diag,j,J)}},g=(O,M,I,j)=>{let J=O;for(;J-M<j&&J<I&&e[J]===t[J-M];)++J;return c(O,J,M)},v=(O,M,I,j)=>{const J=M-O,G=j-I;if(J===0||G===0)return null;const se=J-G,ge=G+J,_e=(ge%2===0?ge:ge+1)/2;s[1+_e]=O,i[1+_e]=M+1;let Be,$e,dt,Et,Gt;for(Be=0;Be<=_e;++Be){for($e=-Be;$e<=Be;$e+=2){for(dt=$e+_e,$e===-Be||$e!==Be&&s[dt-1]<s[dt+1]?s[dt]=s[dt+1]:s[dt]=s[dt-1]+1,Et=s[dt],Gt=Et-O+I-$e;Et<M&&Gt<j&&e[Et]===t[Gt];)s[dt]=++Et,++Gt;if(se%2!==0&&se-Be<=$e&&$e<=se+Be&&i[dt-se]<=s[dt])return g(i[dt-se],$e+O-I,M,j)}for($e=se-Be;$e<=se+Be;$e+=2){for(dt=$e+_e-se,$e===se-Be||$e!==se+Be&&i[dt+1]<=i[dt-1]?i[dt]=i[dt+1]-1:i[dt]=i[dt-1],Et=i[dt]-1,Gt=Et-O+I-$e;Et>=O&&Gt>=I&&e[Et]===t[Gt];)i[dt]=Et--,Gt--;if(se%2===0&&-Be<=$e&&$e<=Be&&i[dt]<=s[dt+se])return g(i[dt],$e+O-I,M,j)}}return null},S=[];return u(0,e.length,0,t.length,S),S},kD=e=>Wt(e)?e.outerHTML:_t(e)?fm.encodeRaw(e.data,!1):Ml(e)?"<!--"+e.data+"-->":"",SD=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},dh=(e,t,n)=>{const s=SD(t);if(e.hasChildNodes()&&n<e.childNodes.length){const i=e.childNodes[n];e.insertBefore(s,i)}else e.appendChild(s)},pc=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},ED=(e,t)=>{let n=0;nt(e,s=>{s[0]===S3?n++:s[0]===CD?(dh(t,s[1],n),n++):s[0]===_D&&pc(t,n)})},qv=(e,t)=>_o(Xo(xs(e.childNodes),Bn(pl,kD)),n=>n.length>0),uh=(e,t)=>{const n=Xo(xs(t.childNodes),kD);return ED(Wv(n,e),t),t},Nf=ir(()=>document.implementation.createHTMLDocument("undo")),Gv=e=>e.querySelector("iframe")!==null,E3=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),A3=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Kv=e=>{const t=e.serializer.getTempAttrs(),n=Hk(e.getBody(),t);return Gv(n)?E3(qv(n)):A3(pl(n.innerHTML))},aC=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?uh(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ke(s)&&YA(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},T3=e=>e.type==="fragmented"?e.fragments.join(""):e.content,D3=e=>{const t=ue.fromTag("body",Nf());return Qn(t,T3(e)),nt(mn(t,"*[data-mce-bogus]"),R),uo(t)},AD=(e,t)=>T3(e)===T3(t),TD=(e,t)=>D3(e)===D3(t),Rf=(e,t)=>!e||!t?!1:AD(e,t)?!0:TD(e,t),Yv=e=>e.get()===0,iC=(e,t,n)=>{Yv(n)&&(e.typing=t)},DD=(e,t)=>{e.typing&&(iC(e,!1,t),e.add())},Y1=e=>{e.typing&&(e.typing=!1,e.add())},OD=(e,t,n)=>{Yv(t)&&n.set(S_(e.selection))},lC=(e,t,n,s,i,c,u)=>{const g=Kv(e),v=Dt.extend(c||{},g);if(!Yv(s)||e.removed)return null;const S=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:v,lastLevel:S,originalEvent:u}).isDefaultPrevented()||S&&Rf(S,v))return null;t.data[n.get()]&&i.get().each(I=>{t.data[n.get()].beforeBookmark=I});const O=hN(e);if(O&&t.data.length>O){for(let I=0;I<t.data.length-1;I++)t.data[I]=t.data[I+1];t.data.length--,n.set(t.data.length)}v.bookmark=S_(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(v),n.set(t.data.length-1);const M={level:v,lastLevel:S,originalEvent:u};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",M),e.dispatch("change",M)):e.dispatch("AddUndo",M),v},O3=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},ND=(e,t,n,s,i)=>{if(t.transact(s)){const c=t.data[n.get()].bookmark,u=t.data[n.get()-1];aC(e,u,!0),t.transact(i)&&(t.data[n.get()-1].beforeBookmark=c)}},RD=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],aC(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},MD=(e,t,n,s)=>{let i;return t.typing&&(t.add(),t.typing=!1,iC(t,!1,n)),s.get()>0&&(s.set(s.get()-1),i=t.data[s.get()],aC(e,i,!0),e.setDirty(!0),e.dispatch("Undo",{level:i})),i},BD=e=>{e.clear(),e.add()},PD=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Rf(Kv(e),t.data[0]),N3=(e,t)=>t.get()<e.data.length-1&&!e.typing,AB=(e,t,n)=>(DD(e,t),e.beforeChange(),e.ignore(n),e.add()),TB=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},DB=(e,t)=>{const n=e.dom,s=Ke(t)?t:e.getBody();nt(n.select("table,a",s),i=>{switch(i.nodeName){case"TABLE":const c=W_(e),u=n.getAttrib(i,"border");(!u||u==="0")&&e.hasVisual?n.addClass(i,c):n.removeClass(i,c);break;case"A":if(!n.getAttrib(i,"href")){const g=n.getAttrib(i,"name")||i.id,v=fA(e);g&&e.hasVisual?n.addClass(i,v):n.removeClass(i,v)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},ID=e=>({init:{bindEvents:ko},undoManager:{beforeChange:(t,n)=>OD(e,t,n),add:(t,n,s,i,c,u)=>lC(e,t,n,s,i,c,u),undo:(t,n,s)=>MD(e,t,n,s),redo:(t,n)=>RD(e,t,n),clear:(t,n)=>O3(e,t,n),reset:t=>BD(t),hasUndo:(t,n)=>PD(e,t,n),hasRedo:(t,n)=>N3(t,n),transact:(t,n,s)=>AB(t,n,s),ignore:(t,n)=>TB(t,n),extra:(t,n,s,i)=>ND(e,t,n,s,i)},formatter:{match:(t,n,s,i)=>T4(e,t,n,s,i),matchAll:(t,n)=>vM(e,t,n),matchNode:(t,n,s,i)=>Of(e,t,n,s,i),canApply:t=>Im(e,t),closest:t=>yb(e,t),apply:(t,n,s)=>E6(e,t,n,s),remove:(t,n,s,i)=>C6(e,t,n,s,i),toggle:(t,n,s)=>R6(e,t,n,s),formatChanged:(t,n,s,i,c)=>U1(e,t,n,s,i,c)},editor:{getContent:t=>IR(e,t),setContent:(t,n)=>KT(e,t,n),insertContent:(t,n)=>E4(e,t,n),addVisual:t=>DB(e,t)},selection:{getContent:(t,n)=>k3(e,t,n)},autocompleter:{addDecoration:ko,removeDecoration:ko},raw:{getModel:()=>z.none()}}),OB=e=>{const t=S=>ne(S)?S:{},{init:n,undoManager:s,formatter:i,editor:c,selection:u,autocompleter:g,raw:v}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(S,O,M)=>s.transact(M),ignore:(S,O)=>s.ignore(O),extra:(S,O,M,I)=>s.extra(M,I)},formatter:{match:(S,O,M,I)=>i.match(S,t(O),I),matchAll:i.matchAll,matchNode:i.matchNode,canApply:S=>i.canApply(S),closest:S=>i.closest(S),apply:(S,O,M)=>i.apply(S,t(O)),remove:(S,O,M,I)=>i.remove(S,t(O)),toggle:(S,O,M)=>i.toggle(S,t(O)),formatChanged:(S,O,M,I,j)=>i.formatChanged(O,M,I,j)},editor:{getContent:S=>c.getContent(S),setContent:(S,O)=>({content:c.setContent(S,O),html:""}),insertContent:(S,O)=>(c.insertContent(S),""),addVisual:c.addVisual},selection:{getContent:(S,O)=>u.getContent(O)},autocompleter:{addDecoration:g.addDecoration,removeDecoration:g.removeDecoration},raw:{getModel:()=>z.some(v.getRawModel())}}},LD=()=>{const e=St(null),t=St("");return{init:{bindEvents:ko},undoManager:{beforeChange:ko,add:e,undo:e,redo:e,clear:ko,reset:ko,hasUndo:Ao,hasRedo:Ao,transact:e,ignore:ko,extra:ko},formatter:{match:Ao,matchAll:St([]),matchNode:St(void 0),canApply:Ao,closest:t,apply:ko,remove:ko,toggle:ko,formatChanged:St({unbind:ko})},editor:{getContent:t,setContent:St({content:"",html:""}),insertContent:St(""),addVisual:ko},selection:{getContent:t},autocompleter:{addDecoration:ko,removeDecoration:ko},raw:{getModel:St(z.none())}}},vl=e=>Jt(e.plugins,"rtc"),R3=e=>kn(e.plugins,"rtc").bind(t=>z.from(t.setup)),NB=e=>{const t=e;return R3(e).fold(()=>(t.rtcInstance=ID(e),z.none()),n=>(t.rtcInstance=LD(),z.some(()=>n().then(s=>(t.rtcInstance=OB(s),s.rtc.isRemote)))))},Xv=e=>e.rtcInstance?e.rtcInstance:ID(e),Ca=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},FD=(e,t,n)=>{Ca(e).undoManager.beforeChange(t,n)},zD=(e,t,n,s,i,c,u)=>Ca(e).undoManager.add(t,n,s,i,c,u),HD=(e,t,n,s)=>Ca(e).undoManager.undo(t,n,s),RB=(e,t,n)=>Ca(e).undoManager.redo(t,n),Qv=(e,t,n)=>{Ca(e).undoManager.clear(t,n)},cC=(e,t)=>{Ca(e).undoManager.reset(t)},VD=(e,t,n)=>Ca(e).undoManager.hasUndo(t,n),$D=(e,t,n)=>Ca(e).undoManager.hasRedo(t,n),UD=(e,t,n,s)=>Ca(e).undoManager.transact(t,n,s),ZD=(e,t,n)=>{Ca(e).undoManager.ignore(t,n)},dC=(e,t,n,s,i)=>{Ca(e).undoManager.extra(t,n,s,i)},M3=(e,t,n,s,i)=>Ca(e).formatter.match(t,n,s,i),Jv=(e,t,n)=>Ca(e).formatter.matchAll(t,n),MB=(e,t,n,s,i)=>Ca(e).formatter.matchNode(t,n,s,i),jD=(e,t)=>Ca(e).formatter.canApply(t),BB=(e,t)=>Ca(e).formatter.closest(t),PB=(e,t,n,s)=>{Ca(e).formatter.apply(t,n,s)},WD=(e,t,n,s,i)=>{Ca(e).formatter.remove(t,n,s,i)},qD=(e,t,n,s)=>{Ca(e).formatter.toggle(t,n,s)},IB=(e,t,n,s,i,c)=>Ca(e).formatter.formatChanged(t,n,s,i,c),B3=(e,t)=>Xv(e).editor.getContent(t),mh=(e,t,n)=>Xv(e).editor.setContent(t,n),GD=(e,t,n)=>Xv(e).editor.insertContent(t,n),P3=(e,t,n)=>Ca(e).selection.getContent(t,n),KD=(e,t)=>Ca(e).editor.addVisual(t),uC=e=>Ca(e).init.bindEvents(),fh=(e,t={})=>{const n=t.format?t.format:"html";return P3(e,n,t)},I3=e=>e.dom.length===0?(k(e),z.none()):z.some(e),eu=(e,t)=>e.filter(n=>iv.isBookmarkNode(n.dom)).bind(t?Jc:Rd),X1=(e,t,n,s,i)=>{const c=e.dom,u=t.dom,g=s?c.length:u.length;s?(pw(c,u,i,!1,!s),n.setStart(u,g)):(pw(u,c,i,!1,!s),n.setEnd(u,g))},YD=(e,t,n)=>{Sc(e).each(s=>{const i=e.dom;t&&mb(s,Ye(i,0),n)?kv(i,0,n):!t&&Df(s,Ye(i,i.length),n)&&fw(i,i.length,n)})},mC=(e,t,n,s,i)=>{e.bind(c=>((s?fw:kv)(c.dom,s?c.dom.length:0,i),t.filter(xa).map(g=>X1(c,g,n,s,i)))).orThunk(()=>eu(t,s).or(t).filter(xa).map(u=>YD(u,s,i)))},XD=(e,t,n)=>{const s=z.from(t.firstChild).map(ue.fromDom),i=z.from(t.lastChild).map(ue.fromDom);e.deleteContents(),e.insertNode(t);const c=s.bind(Rd).filter(xa).bind(I3),u=i.bind(Jc).filter(xa).bind(I3);mC(c,s,e,!0,n),mC(u,i,e,!1,n),e.collapse(!1)},LB=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),QD=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),i=s?{context:s.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...i,...t});return Kg({validate:!1},e.schema).serialize(c)}else return t.content},Ab=(e,t,n={})=>{const s=LB(n,t);Eb(e,s).each(i=>{const c=QD(e,i),u=e.selection.getRng();XD(u,u.createContextualFragment(c),e.schema),e.selection.setRng(u),ib(e,u),Uv(e,c,i)})},e2=(e,t,n)=>{if(Jt(e,t)){const s=_o(e[t],i=>i!==n);s.length===0?delete e[t]:e[t]=s}};var JD=(e,t)=>{let n,s;const i=(g,v)=>js(v,S=>e.is(S,g)),c=g=>e.getParents(g,void 0,e.getRoot()),u=()=>{n={},s={},t.on("NodeChange",g=>{const v=g.element,S=c(v),O={};Un(n,(M,I)=>{i(I,S).each(j=>{s[I]||(nt(M,J=>{J(!0,{node:j,selector:I,parents:S})}),s[I]=M),O[I]=M})}),Un(s,(M,I)=>{O[I]||(delete s[I],nt(M,j=>{j(!1,{node:v,selector:I,parents:S})}))})})};return{selectorChangedWithUnbind:(g,v)=>(n||u(),n[g]||(n[g]=[]),n[g].push(v),i(g,c(t.selection.getStart())).each(()=>{s[g]=n[g]}),{unbind:()=>{e2(n,g,v),e2(s,g,v)}})}};const L3=e=>!!(e&&e.ownerDocument)&&Pi(ue.fromDom(e.ownerDocument),ue.fromDom(e)),F3=e=>e?L3(e.startContainer)&&L3(e.endContainer):!1,z3=(e,t,n,s)=>{let i,c;const{selectorChangedWithUnbind:u}=JD(e,s),g=(It,ao)=>{const zn=e.createRng();Ke(It)&&Ke(ao)?(zn.setStart(It,ao),zn.setEnd(It,ao),$e(zn),ge(!1)):(nv(e,zn,s.getBody(),!0),$e(zn))},v=It=>fh(s,It),S=(It,ao)=>Ab(s,It,ao),O=It=>I5(s.getBody(),Be(),It),M=It=>L5(s.getBody(),Be(),It),I=(It,ao)=>ai.getBookmark(It,ao),j=It=>ai.moveToBookmark(It),J=(It,ao)=>(Qy(e,It,ao).each($e),It),G=()=>{const It=Be(),ao=_e();return!It||It.item?!1:It.compareEndPoints?It.compareEndPoints("StartToEnd",It)===0:!ao||It.collapsed},se=()=>{if(s.mode.isReadOnly())return!1;const It=Be(),ao=s.getBody().querySelectorAll('[data-mce-selected="1"]');return ao.length>0?vn(ao,zn=>e.isEditable(zn.parentElement)):Xy(e,It)},ge=It=>{const ao=Be();ao.collapse(!!It),$e(ao)},_e=()=>t.getSelection?t.getSelection():t.document.selection,Be=()=>{let It;const ao=($n,it,At)=>{try{return it.compareBoundaryPoints($n,At)}catch{return-1}},zn=t.document;if(Ke(s.bookmark)&&!Tf(s)){const $n=lv(s);if($n.isSome())return $n.map(it=>pv(s,[it])[0]).getOr(zn.createRange())}try{const $n=_e();$n&&!_g($n.anchorNode)&&($n.rangeCount>0?It=$n.getRangeAt(0):It=zn.createRange(),It=pv(s,[It])[0])}catch{}if(It||(It=zn.createRange()),mf(It.startContainer)&&It.collapsed){const $n=e.getRoot();It.setStart($n,0),It.setEnd($n,0)}return i&&c&&(ao(It.START_TO_START,It,i)===0&&ao(It.END_TO_END,It,i)===0?It=c:(i=null,c=null)),It},$e=(It,ao)=>{if(!F3(It))return;const zn=_e();if(It=s.dispatch("SetSelectionRange",{range:It,forward:ao}).range,zn){c=It;try{zn.removeAllRanges(),zn.addRange(It)}catch{}ao===!1&&zn.extend&&(zn.collapse(It.endContainer,It.endOffset),zn.extend(It.startContainer,It.startOffset)),i=zn.rangeCount>0?zn.getRangeAt(0):null}if(!It.collapsed&&It.startContainer===It.endContainer&&(zn!=null&&zn.setBaseAndExtent)&&It.endOffset-It.startOffset<2&&It.startContainer.hasChildNodes()){const it=It.startContainer.childNodes[It.startOffset];it&&it.nodeName==="IMG"&&(zn.setBaseAndExtent(It.startContainer,It.startOffset,It.endContainer,It.endOffset),(zn.anchorNode!==It.startContainer||zn.focusNode!==It.endContainer)&&zn.setBaseAndExtent(it,0,it,1))}s.dispatch("AfterSetSelectionRange",{range:It,forward:ao})},dt=It=>(S(e.getOuterHTML(It)),It),Et=()=>SR(s.getBody(),Be()),Gt=(It,ao)=>ER(e,Be(),It,ao),Qe=()=>{const It=_e(),ao=It==null?void 0:It.anchorNode,zn=It==null?void 0:It.focusNode;if(!It||!ao||!zn||_g(ao)||_g(zn))return!0;const $n=e.createRng(),it=e.createRng();try{$n.setStart(ao,It.anchorOffset),$n.collapse(!0),it.setStart(zn,It.focusOffset),it.collapse(!0)}catch{return!0}return $n.compareBoundaryPoints($n.START_TO_START,it)<=0},ma={dom:e,win:t,serializer:n,editor:s,expand:(It={type:"word"})=>$e(Fp(e).expand(Be(),It)),collapse:ge,setCursorLocation:g,getContent:v,setContent:S,getBookmark:I,moveToBookmark:j,select:J,isCollapsed:G,isEditable:se,isForward:Qe,setNode:dt,getNode:Et,getSel:_e,setRng:$e,getRng:Be,getStart:O,getEnd:M,getSelectedBlocks:Gt,normalize:()=>{const It=Be(),ao=_e();if(!QN(ao)&&Ry(s)){const zn=Pu(e,It);return zn.each($n=>{$e($n,Qe())}),zn.getOr(It)}return It},selectorChanged:(It,ao)=>(u(It,ao),ma),selectorChangedWithUnbind:u,getScrollContainer:()=>{let It,ao=e.getRoot();for(;ao&&ao.nodeName!=="BODY";){if(ao.scrollHeight>ao.clientHeight){It=ao;break}ao=ao.parentNode}return It},scrollIntoView:(It,ao)=>{Ke(It)?zk(s,It,ao):ib(s,Be(),ao)},placeCaretAt:(It,ao)=>$e(Mk(It,ao,s.getDoc())),getBoundingClientRect:()=>{const It=Be();return It.collapsed?Ye.fromRangeStart(It).getClientRects()[0]:It.getBoundingClientRect()},destroy:()=>{t=i=c=null,vi.destroy()}},ai=iv(ma),vi=jy(ma,s);return ma.bookmarkManager=ai,ma.controlSelection=vi,ma},fC=(e,t,n)=>{t.addNodeFilter("br",(s,i,c)=>{const u=Dt.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),v=n.getWhitespaceElements();u.body=1;const S=O=>O.name in u||Yh(n,O);for(let O=0,M=s.length;O<M;O++){let I=s[O],j=I.parent;if(j&&S(j)&&I===j.lastChild){let J=I.prev;for(;J;){const G=J.name;if(G!=="span"||J.attr("data-mce-type")!=="bookmark"){G==="br"&&(I=null);break}J=J.prev}if(I&&(I.remove(),z1(n,g,v,j))){const G=n.getElementRule(j.name);G&&(G.removeEmpty?j.remove():G.paddEmpty&&Tv(e,c,S,j))}}else{let J=I;for(;j&&j.firstChild===J&&j.lastChild===J&&(J=j,!u[j.name]);)j=j.parent;if(J===j){const G=new Ul("#text",3);G.value=Ls,I.replace(G)}}}})},eO=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,i)=>{let c=s.length;for(;c--;){const u=s[c];u.attr("tabindex",u.attr("data-mce-tabindex")),u.attr(i,null)}}),e.addAttributeFilter("src,href,style",(s,i)=>{const c="data-mce-"+i,u=t.url_converter,g=t.url_converter_scope;let v=s.length;for(;v--;){const S=s[v];let O=S.attr(c);O!==void 0?(S.attr(i,O.length>0?O:null),S.attr(c,null)):(O=S.attr(i),i==="style"?O=n.serializeStyle(n.parseStyle(O),S.name):u&&(O=u.call(g,O,i,S.name)),S.attr(i,O.length>0?O:null))}}),e.addAttributeFilter("class",s=>{let i=s.length;for(;i--;){const c=s[i];let u=c.attr("class");u&&(u=u.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",u.length>0?u:null))}}),e.addAttributeFilter("data-mce-type",(s,i,c)=>{let u=s.length;for(;u--;){const g=s[u];g.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(z.from(g.firstChild).exists(S=>{var O;return!h1((O=S.value)!==null&&O!==void 0?O:"")})?g.unwrap():g.remove())}}),e.addNodeFilter("script,style",(s,i)=>{var c;const u=v=>v.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let g=s.length;for(;g--;){const v=s[g],S=v.firstChild,O=(c=S==null?void 0:S.value)!==null&&c!==void 0?c:"";if(i==="script"){const M=v.attr("type");M&&v.attr("type",M==="mce-no/type"?null:M.replace(/^mce\-/,"")),t.element_format==="xhtml"&&S&&O.length>0&&(S.value=`// <![CDATA[
`+u(O)+`
// ]]>`)}else t.element_format==="xhtml"&&S&&O.length>0&&(S.value=`<!--
`+u(O)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let i=s.length;for(;i--;){const c=s[i],u=c.value;t.preserve_cdata&&(u==null?void 0:u.indexOf("[CDATA["))===0?(c.name="#cdata",c.type=4,c.value=n.decode(u.replace(/^\[CDATA\[|\]\]$/g,""))):(u==null?void 0:u.indexOf("mce:protected "))===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(u).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,i)=>{let c=s.length;for(;c--;){const u=s[c];u.type===7?u.remove():u.type===1&&i==="input"&&!u.attr("type")&&u.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{nt(s,i=>{i.attr("data-mce-type")==="format-caret"&&(i.isEmpty(e.schema.getNonEmptyElements())?i.remove():i.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,i)=>{let c=s.length;for(;c--;)s[c].attr(i,null)}),t.remove_trailing_brs&&fC(t,e,e.schema)},pC=e=>{const t=s=>(s==null?void 0:s.name)==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},tO=(e,t,n)=>{let s;const i=e.dom;let c=t.cloneNode(!0);const u=document.implementation;if(u.createHTMLDocument){const g=u.createHTMLDocument("");Dt.each(c.nodeName==="BODY"?c.childNodes:[c],v=>{g.body.appendChild(g.importNode(v,!0))}),c.nodeName!=="BODY"?c=g.body.firstChild:c=g.body,s=i.doc,i.doc=g}return K7(e,{...n,node:c}),s&&(i.doc=s),c},oO=(e,t)=>Ke(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,nO=(e,t,n)=>oO(e,n)?tO(e,t,n):t,t2=(e,t,n)=>{Dt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,i)=>{let c=s.length;for(;c--;)s[c].attr(i,null)}),t.push(n))},FB=(e,t,n)=>!t.no_events&&e?qE(e,{...t,content:n}).content:n,sO=(e,t,n)=>{const s=pl(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||f1(ue.fromDom(t))?s:Dt.trim(s)},rO=(e,t,n)=>{const s=n.selection?{forced_root_block:!1,...n}:n,i=e.parse(t,s);return pC(i),i},aO=(e,t,n)=>Kg(e,t).serialize(n),H3=(e,t,n,s,i)=>{const c=aO(t,n,s);return FB(e,i,c)},iO=(e,t)=>{const n=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=t&&t.dom?t.dom:Ds.DOM,c=t&&t.schema?t.schema:gf(s),u=K1(s,c);eO(u,s,i);const g=(v,S={})=>{const O={format:"html",...S},M=nO(t,v,O),I=sO(i,M,O),j=rO(u,I,O);return O.format==="tree"?j:H3(t,s,c,j,O)};return{schema:c,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:je(t2,u,n),getTempAttrs:St(n),getNodeFilters:u.getNodeFilters,getAttributeFilters:u.getAttributeFilters,removeNodeFilter:u.removeNodeFilter,removeAttributeFilter:u.removeAttributeFilter}},V3=(e,t)=>{const n=iO(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},zB="html",HB=(e,t)=>({...e,format:t,get:!0,getInner:!0}),VB=(e,t={})=>{const n=t.format?t.format:zB,s=HB(t,n);return $u(e,s).fold(Tn,i=>{const c=B3(e,i);return eC(e,c,i)})},$3="html",$B=(e,t)=>({format:$3,...e,set:!0,content:t}),Tb=(e,t,n={})=>{const s=$B(n,t);return Eb(e,s).map(i=>{const c=mh(e,i.content,i);return Uv(e,c.html,i),c.content}).getOr(t)},UB="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),U3=[],lO="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),Z3=[{name:"export",replacedWith:"Export to PDF"}],j3=(e,t)=>{const n=_o(t,s=>Jt(e,s));return ki(n)},gC=e=>{const t=j3(e,UB),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),ki(t)},ZB=e=>j3(e,U3),cO=(e,t)=>{const n=Dt.makeMap(e.plugins," "),i=_o(t,c=>Jt(n,c));return ki(i)},W3=e=>cO(e,lO),dO=e=>cO(e,Z3.map(t=>t.name)),jB=(e,t)=>{const n=gC(e),s=W3(t),i=s.length>0,c=n.length>0,u=t.theme==="mobile";if(i||c||u){const g=`
- `,v=u?`

Themes:${g}mobile`:"",S=i?`

Plugins:${g}${s.join(g)}`:"",O=c?`

Options:${g}${n.join(g)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+v+S+O)}},WB=e=>js(Z3,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),qB=(e,t)=>{const n=ZB(e),s=dO(t),i=s.length>0,c=n.length>0;if(i||c){const u=`
- `,g=i?`

Plugins:${u}${s.map(WB).join(u)}`:"",v=c?`

Options:${u}${n.join(u)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+g+v)}},GB=(e,t)=>{jB(e,t),qB(e,t)},Db=Ds.DOM,uO=e=>{Db.setStyle(e.id,"display",e.orgDisplay)},Kr=e=>z.from(e).each(t=>t.destroy()),KB=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},YB=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Db.unbind(t,"submit reset",e.formEventDelegate))},mO=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),i=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ke(i==null?void 0:i.nextSibling)&&Db.remove(i.nextSibling),Y7(e),e.editorManager.remove(e),!e.inline&&s&&uO(e),X7(e),Db.remove(e.getContainer()),Kr(t),Kr(n),e.destroy()}},q3=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Kr(n),Kr(s)),YB(e),KB(e),e.destroyed=!0}},ph=(()=>{const e={};return{add:(i,c)=>{e[i]=c},get:i=>e[i]?e[i]:{icons:{}},has:i=>Jt(e,i)}})(),Ob=Oi.ModelManager,fO=(e,t)=>t.dom[e],pO=(e,t)=>parseInt(sc(t,e),10),QB=je(fO,"clientWidth"),JB=je(fO,"clientHeight"),eP=je(pO,"margin-top"),tP=je(pO,"margin-left"),oP=e=>e.dom.getBoundingClientRect(),nP=(e,t,n)=>{const s=QB(e),i=JB(e);return t>=0&&n>=0&&t<=s&&n<=i},sP=(e,t,n,s)=>{const i=oP(t),c=e?i.left+t.dom.clientLeft+tP(t):0,u=e?i.top+t.dom.clientTop+eP(t):0,g=n-c,v=s-u;return{x:g,y:v}},rP=(e,t,n)=>{const s=ue.fromDom(e.getBody()),i=e.inline?s:Xf(s),c=sP(e.inline,i,t,n);return nP(i,c.x,c.y)},gO=e=>z.from(e).map(ue.fromDom),hO=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return gO(t).map(Ns).getOr(!1)};var bO=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const G3=e=>{const t=[],n=()=>{const I=e.theme;return I&&I.getNotificationManagerImpl?I.getNotificationManagerImpl():bO()},s=()=>z.from(t[0]),i=(I,j)=>I.type===j.type&&I.text===j.text&&!I.progressBar&&!I.timeout&&!j.progressBar&&!j.timeout,c=()=>{s().each(I=>{I.reposition()})},u=I=>{t.push(I)},g=I=>{mr(t,j=>j===I).each(j=>{t.splice(j,1)})},v=(I,j=!0)=>e.removed||!hO(e)?{}:(j&&e.dispatch("BeforeOpenNotification",{notification:I}),js(t,J=>i(n().getArgs(J),I)).getOrThunk(()=>{e.editorManager.setActive(e);const J=n().open(I,()=>{g(J)},()=>cv(e));return u(J),c(),e.dispatch("OpenNotification",{notification:{...J}}),J})),S=()=>{s().each(I=>{n().close(I),g(I),c()})},O=St(t);return(I=>{I.on("SkinLoaded",()=>{const j=C1(I);j&&v({text:j,type:"warning",timeout:0},!1),c()}),I.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(c)}),I.on("remove",()=>{nt(t.slice(),j=>{n().close(j)})}),I.on("keydown",j=>{var J;const G=((J=j.key)===null||J===void 0?void 0:J.toLowerCase())==="f12"||j.keyCode===123;j.altKey&&G&&(j.preventDefault(),s().map(se=>ue.fromDom(se.getEl())).each(se=>np(se)))})})(e),{open:v,close:S,getNotifications:O}},Q1=Oi.PluginManager,gh=Oi.ThemeManager;var xO=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const vO=e=>{let t=[];const n=()=>{const G=e.theme;return G&&G.getWindowManagerImpl?G.getWindowManagerImpl():xO()},s=(G,se)=>(...ge)=>se?se.apply(G,ge):void 0,i=G=>{e.dispatch("OpenWindow",{dialog:G})},c=G=>{e.dispatch("CloseWindow",{dialog:G})},u=G=>{t.push(G),i(G)},g=G=>{c(G),t=_o(t,se=>se!==G),t.length===0&&e.focus()},v=()=>z.from(t[t.length-1]),S=G=>{e.editorManager.setActive(e),R1(e),e.ui.show();const se=G();return u(se),se},O=(G,se)=>S(()=>n().open(G,se,g)),M=G=>S(()=>n().openUrl(G,g)),I=(G,se,ge)=>{const _e=n();_e.alert(G,s(ge||_e,se))},j=(G,se,ge)=>{const _e=n();_e.confirm(G,s(ge||_e,se))},J=()=>{v().each(G=>{n().close(G),g(G)})};return e.on("remove",()=>{nt(t,G=>{n().close(G)})}),{open:O,openUrl:M,alert:I,confirm:j,close:J}},yO=(e,t)=>{e.notificationManager.open({type:"error",text:t})},o2=(e,t)=>{e._skinLoaded?yO(e,t):e.on("SkinLoaded",()=>{yO(e,t)})},aP=(e,t)=>{o2(e,Di.translate(["Failed to upload image: {0}",t]))},n2=(e,t,n)=>{D_(e,t,{message:n}),console.error(n)},Nb=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,wO=(e,t,n)=>{n2(e,"PluginLoadError",Nb("plugin",t,n))},iP=(e,t,n)=>{n2(e,"IconsLoadError",Nb("icons",t,n))},CO=(e,t,n)=>{n2(e,"LanguageLoadError",Nb("language",t,n))},_O=(e,t,n)=>{n2(e,"ThemeLoadError",Nb("theme",t,n))},lP=(e,t,n)=>{n2(e,"ModelLoadError",Nb("model",t,n))},cP=(e,t,n)=>{const s=Di.translate(["Failed to initialize plugin: {0}",t]);D_(e,"PluginLoadError",{message:s}),hC(s,n),o2(e,s)},hC=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},dP=e=>{z.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},K3=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},bC=(e,t)=>{K3(e,"StyleWithCSS",t),K3(e,"enableInlineTableEditing",t),K3(e,"enableObjectResizing",t)},kO=e=>{e.selection.setRng(e.selection.getRng())},Y3=(e,t,n)=>{Ra(e,t)&&!n?tr(e,t):n&&Vi(e,t)},X3=e=>{const t=ue.fromDom(e.getBody());Y3(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),dP(e)},SO=e=>{const t=ue.fromDom(e.getBody());Y3(t,"mce-content-readonly",!1),e.hasEditableRoot()&&_s(t,!0),bC(e,!1),cv(e)&&e.focus(),kO(e),e.nodeChanged()},qp=e=>Xx(e),hh="data-mce-contenteditable",uP=e=>{nt(mn(e,'*[contenteditable="true"]'),t=>{$r(t,hh,"true"),_s(t,!1)})},Q3=e=>{nt(mn(e,`*[${hh}="true"]`),t=>{er(t,hh),_s(t,!0)})},J3=(e,t)=>{const n=ue.fromDom(e.getBody());t?(X3(e),_s(n,!1),uP(n)):(Q3(n),SO(e))},mP=e=>{e.serializer?EO(e):e.on("PreInit",()=>{EO(e)})},EO=e=>{e.parser.addAttributeFilter("contenteditable",t=>{qp(e)&&nt(t,n=>{n.attr(hh,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(hh,t=>{qp(e)&&nt(t,n=>{n.attr("contenteditable",n.attr(hh))})}),e.serializer.addTempAttr(hh)},fP=e=>e.type==="click",AO=["copy"],TO=e=>on(AO,e.type),pP=(e,t)=>zi(t,"a",s=>yn(s,ue.fromDom(e.getBody()))).bind(s=>zs(s,"href")),eS=(e,t)=>{if(fP(t)&&!qt.metaKeyPressed(t)){const n=ue.fromDom(t.target);pP(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const i=e.dom.select(`${s},[name="${Yl(s,"#")}"]`);i.length&&e.selection.scrollIntoView(i[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else TO(t)&&e.dispatch(t.type,t)},Mf=e=>{e.on("ShowCaret ObjectSelected",t=>{qp(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||J3(e,t.state)})},DO=e=>{mP(e),Mf(e)},OO=e=>/^[a-z0-9\-]+$/i.test(e),Rb=e=>"content/"+e+"/content.css",tS=e=>tinymce.Resource.has(Rb(e)),NO=e=>oS(e,fy(e)),RO=e=>oS(e,qx(e)),oS=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",i=`content${e.editorManager.suffix}.css`;return Xo(t,c=>tS(c)?c:OO(c)&&!e.inline?`${n}/${c}/${i}`:e.documentBaseURI.toAbsolute(c))},gP=e=>{e.contentCSS=e.contentCSS.concat(NO(e),RO(e))},nS=e=>e?xs(e.getElementsByTagName("img")):[],hP=(e,t)=>{const n={};return{findAll:(i,c=Go)=>{const u=_o(nS(i),v=>{const S=v.src;return v.hasAttribute("data-mce-bogus")||v.hasAttribute("data-mce-placeholder")||!S||S===Vo.transparentSrc?!1:ar(S,"blob:")?!e.isUploaded(S)&&c(v):ar(S,"data:")?c(v):!1}),g=Xo(u,v=>{const S=v.src;if(Jt(n,S))return n[S].then(O=>Ue(O)?O:{image:v,blobInfo:O.blobInfo});{const O=oB(t,S).then(M=>(delete n[S],{image:v,blobInfo:M})).catch(M=>(delete n[S],M));return n[S]=O,O}});return Promise.all(g)}}},MO=()=>{let n={};const s=(I,j)=>({status:I,resultUri:j}),i=I=>I in n;return{hasBlobUri:i,getResultUri:I=>{const j=n[I];return j?j.resultUri:null},isPending:I=>i(I)?n[I].status===1:!1,isUploaded:I=>i(I)?n[I].status===2:!1,markPending:I=>{n[I]=s(1,null)},markUploaded:(I,j)=>{n[I]=s(2,j)},removeFailed:I=>{delete n[I]},destroy:()=>{n={}}}};let bP=0;const xC=()=>{const e=()=>Math.round(wd()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},xP=e=>e+bP+++xC(),sS=()=>{let e=[];const t=M=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[M.toLowerCase()]||"dat",n=(M,I,j,J,G)=>{if(Ue(M))return s({id:M,name:J,filename:G,blob:I,base64:j});if(ne(M))return s(M);throw new Error("Unknown input type")},s=M=>{if(!M.blob||!M.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const I=M.id||xP("blobid"),j=M.name||I,J=M.blob;return{id:St(I),name:St(j),filename:St(M.filename||j+"."+t(J.type)),blob:St(J),base64:St(M.base64),blobUri:St(M.blobUri||URL.createObjectURL(J)),uri:St(M.uri)}},i=M=>{u(M.id())||e.push(M)},c=M=>js(e,M).getOrUndefined(),u=M=>c(I=>I.id()===M);return{create:n,add:i,get:u,getByUri:M=>c(I=>I.blobUri()===M),getByData:(M,I)=>c(j=>j.base64()===M&&j.blob().type===I),findFirst:c,removeByUri:M=>{e=_o(e,I=>I.blobUri()===M?(URL.revokeObjectURL(I.blobUri()),!1):!0)},destroy:()=>{nt(e,M=>{URL.revokeObjectURL(M.blobUri())}),e=[]}}},rS=(e,t)=>{const n={},s=(G,se)=>G?G.replace(/\/$/,"")+"/"+se.replace(/^\//,""):se,i=(G,se)=>new Promise((ge,_e)=>{const Be=new XMLHttpRequest;Be.open("POST",t.url),Be.withCredentials=t.credentials,Be.upload.onprogress=dt=>{se(dt.loaded/dt.total*100)},Be.onerror=()=>{_e("Image upload failed due to a XHR Transport error. Code: "+Be.status)},Be.onload=()=>{if(Be.status<200||Be.status>=300){_e("HTTP Error: "+Be.status);return}const dt=JSON.parse(Be.responseText);if(!dt||!Ue(dt.location)){_e("Invalid JSON: "+Be.responseText);return}ge(s(t.basePath,dt.location))};const $e=new FormData;$e.append("file",G.blob(),G.filename()),Be.send($e)}),c=Xt(t.handler)?t.handler:i,u=()=>new Promise(G=>{G([])}),g=(G,se)=>({url:se,blobInfo:G,status:!0}),v=(G,se)=>({url:"",blobInfo:G,status:!1,error:se}),S=(G,se)=>{Dt.each(n[G],ge=>{ge(se)}),delete n[G]},O=(G,se,ge)=>(e.markPending(G.blobUri()),new Promise(_e=>{let Be,$e;try{const dt=()=>{Be&&(Be.close(),$e=ko)},Et=Qe=>{dt(),e.markUploaded(G.blobUri(),Qe),S(G.blobUri(),g(G,Qe)),_e(g(G,Qe))},Gt=Qe=>{dt(),e.removeFailed(G.blobUri()),S(G.blobUri(),v(G,Qe)),_e(v(G,Qe))};$e=Qe=>{Qe<0||Qe>100||z.from(Be).orThunk(()=>z.from(ge).map(dn)).each(qe=>{Be=qe,qe.progressBar.value(Qe)})},se(G,$e).then(Et,Qe=>{Gt(Ue(Qe)?{message:Qe}:Qe)})}catch(dt){_e(v(G,dt))}})),M=G=>G===i,I=G=>{const se=G.blobUri();return new Promise(ge=>{n[se]=n[se]||[],n[se].push(ge)})},j=(G,se)=>(G=Dt.grep(G,ge=>!e.isUploaded(ge.blobUri())),Promise.all(Dt.map(G,ge=>e.isPending(ge.blobUri())?I(ge):O(ge,c,se))));return{upload:(G,se)=>!t.url&&M(c)?u():j(G,se)}},aS=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),BO=(e,t)=>rS(t,{url:aA(e),basePath:iA(e),credentials:cN(e),handler:dN(e)}),PO=e=>{const t=MO(),n=BO(e,t);return{upload:(s,i=!0)=>n.upload(s,i?aS(e):void 0)}},vC=(e,t)=>e.dom.isEmpty(t.dom)&&Ke(e.schema.getTextBlockElements()[Ro(t)]),IO=e=>t=>{vC(e,t)&&Zn(t,ue.fromHtml('<br data-mce-bogus="1" />'))},LO=e=>{const t=sS();let n,s;const i=MO(),c=[],u=Be=>$e=>e.selection?Be($e):[],g=Be=>Be+(Be.indexOf("?")===-1?"?":"&")+new Date().getTime(),v=(Be,$e,dt)=>{let Et=0;do Et=Be.indexOf($e,Et),Et!==-1&&(Be=Be.substring(0,Et)+dt+Be.substr(Et+$e.length),Et+=dt.length-$e.length+1);while(Et!==-1);return Be},S=(Be,$e,dt)=>{const Et=`src="${dt}"${dt===Vo.transparentSrc?' data-mce-placeholder="1"':""}`;return Be=v(Be,`src="${$e}"`,Et),Be=v(Be,'data-mce-src="'+$e+'"','data-mce-src="'+dt+'"'),Be},O=(Be,$e)=>{nt(e.undoManager.data,dt=>{dt.type==="fragmented"?dt.fragments=Xo(dt.fragments,Et=>S(Et,Be,$e)):dt.content=S(dt.content,Be,$e)})},M=(Be,$e)=>{const dt=e.convertURL($e,"src");O(Be.src,$e),nc(ue.fromDom(Be),{src:cy(e)?g($e):$e,"data-mce-src":dt})},I=()=>(n||(n=BO(e,i)),se().then(u(Be=>{const $e=Xo(Be,dt=>dt.blobInfo);return n.upload($e,aS(e)).then(u(dt=>{const Et=[];let Gt=!1;const Qe=Xo(dt,(qe,mt)=>{const{blobInfo:Zt,image:io}=Be[mt];let en=!1;return qe.status&&rA(e)?(qe.url&&!Or(io.src,qe.url)&&(Gt=!0),t.removeByUri(io.src),vl(e)||M(io,qe.url)):qe.error&&(qe.error.remove&&(O(io.src,Vo.transparentSrc),Et.push(io),en=!0),aP(e,qe.error.message)),{element:io,status:qe.status,uploadUri:qe.url,blobInfo:Zt,removed:en}});return Et.length>0&&!vl(e)?e.undoManager.transact(()=>{nt(Po(Et),qe=>{const mt=Sc(qe);k(qe),mt.each(IO(e)),t.removeByUri(qe.dom.src)})}):Gt&&e.undoManager.dispatchChange(),Qe}))}))),j=()=>z_(e)?I():Promise.resolve([]),J=Be=>vn(c,$e=>$e(Be)),G=Be=>{c.push(Be)},se=()=>(s||(s=hP(i,t)),s.findAll(e.getBody(),J).then(u(Be=>{const $e=_o(Be,dt=>Ue(dt)?(o2(e,dt),!1):dt.uriType!=="blob");return vl(e)||nt($e,dt=>{O(dt.image.src,dt.blobInfo.blobUri()),dt.image.src=dt.blobInfo.blobUri(),dt.image.removeAttribute("data-mce-src")}),$e}))),ge=()=>{t.destroy(),i.destroy(),s=n=null},_e=Be=>Be.replace(/src="(blob:[^"]+)"/g,($e,dt)=>{const Et=i.getResultUri(dt);if(Et)return'src="'+Et+'"';let Gt=t.getByUri(dt);return Gt||(Gt=ws(e.editorManager.get(),(Qe,qe)=>Qe||qe.editorUpload&&qe.editorUpload.blobCache.getByUri(dt),void 0)),Gt?'src="data:'+Gt.blob().type+";base64,"+Gt.base64()+'"':$e});return e.on("SetContent",()=>{z_(e)?j():se()}),e.on("RawSaveContent",Be=>{Be.content=_e(Be.content)}),e.on("GetContent",Be=>{Be.source_view||Be.format==="raw"||Be.format==="tree"||(Be.content=_e(Be.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Be=>{nt(Be,$e=>{const dt=$e.attr("src");if(!dt||t.getByUri(dt))return;const Et=i.getResultUri(dt);Et&&$e.attr("src",Et)})})}),{blobCache:t,addFilter:G,uploadImages:I,uploadImagesAuto:j,scanForImages:se,destroy:ge}},vP=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:i=>{t.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:i=>{t.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const i={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},u={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[u,i,c]:[i,u,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(i,c,u)=>Wt(i)&&i.hasAttribute("href"),onformat:(i,c,u)=>{Dt.each(u,(g,v)=>{t.setAttrib(i,v,g)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":i=>{var c;return(c=i==null?void 0:i.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Dt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),i=>{s[i]={block:i,remove:"all"}}),s},FO={remove_similar:!0,inherit:!1},bh={selector:"td,th",...FO},zO={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...bh},tablecellverticalalign:{styles:{"vertical-align":"%value"},...bh},tablecellbordercolor:{styles:{borderColor:"%value"},...bh},tablecellclass:{classes:["%value"],...bh},tableclass:{selector:"table",classes:["%value"],...FO},tablecellborderstyle:{styles:{borderStyle:"%value"},...bh},tablecellborderwidth:{styles:{borderWidth:"%value"},...bh}},HO=St(zO),yP=e=>{const t={},n=u=>Ke(u)?t[u]:t,s=u=>Jt(t,u),i=(u,g)=>{u&&(Ue(u)?(pe(g)||(g=[g]),nt(g,v=>{bn(v.deep)&&(v.deep=!qd(v)),bn(v.split)&&(v.split=!qd(v)||ri(v)),bn(v.remove)&&qd(v)&&!ri(v)&&(v.remove="none"),qd(v)&&ri(v)&&(v.mixed=!0,v.block_expand=!0),Ue(v.classes)&&(v.classes=v.classes.split(/\s+/))}),t[u]=g):Un(u,(v,S)=>{i(S,v)}))},c=u=>(u&&t[u]&&delete t[u],t);return i(vP(e)),i(HO()),i(pN(e)),{get:n,has:s,register:i,unregister:c}},yC=Dt.each,yl=Ds.DOM,iS=e=>Ke(e)&&ne(e),VO=(e,t)=>{const n=t&&t.schema||gf({}),s=(v,S)=>{S.classes.length>0&&yl.addClass(v,S.classes.join(" ")),yl.setAttribs(v,S.attrs)},i=v=>{const S=Ue(v)?{name:v,classes:[],attrs:{}}:v,O=yl.create(S.name);return s(O,S),O},c=(v,S)=>{const O=n.getElementRule(v.nodeName.toLowerCase()),M=O==null?void 0:O.parentsRequired;return M&&M.length?S&&on(M,S)?S:M[0]:!1},u=(v,S,O)=>{let M;const I=S[0],j=iS(I)?I.name:void 0,J=c(v,j);if(J)j===J?(M=I,S=S.slice(1)):M=J;else if(I)M=I,S=S.slice(1);else if(!O)return v;const G=M?i(M):yl.create("div");G.appendChild(v),O&&Dt.each(O,ge=>{const _e=i(ge);G.insertBefore(_e,v)});const se=iS(M)?M.siblings:void 0;return u(G,S,se)},g=yl.create("div");if(e.length>0){const v=e[0],S=i(v),O=iS(v)?v.siblings:void 0;g.appendChild(u(S,e.slice(1),O))}return g},$O=e=>{e=Dt.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,i,c,u,g)=>{switch(i){case"#":n.attrs.id=c;break;case".":n.classes.push(c);break;case":":Dt.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(n.attrs[c]=c);break}if(u==="["){const v=g.match(/([\w\-]+)(?:\=\"([^\"]+))?/);v&&(n.attrs[v[1]]=v[2])}return""})),n.name=t||"div",n},UO=e=>Ue(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Dt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=Dt.map(t.split(/(?:~\+|~|\+)/),$O),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],wC=(e,t)=>{let n="",s=si(e);if(s==="")return"";const i=I=>Ue(I)?I.replace(/%(\w+)/g,""):"",c=(I,j)=>yl.getStyle(j??e.getBody(),I,!0);if(Ue(t)){const I=e.formatter.get(t);if(!I)return"";t=I[0]}if("preview"in t){const I=t.preview;if(I===!1)return"";s=I||s}let u=t.block||t.inline||"span",g;const v=UO(t.selector);v.length>0?(v[0].name||(v[0].name=u),u=t.selector,g=VO(v,e)):g=VO([u],e);const S=yl.select(u,g)[0]||g.firstChild;yC(t.styles,(I,j)=>{const J=i(I);J&&yl.setStyle(S,j,J)}),yC(t.attributes,(I,j)=>{const J=i(I);J&&yl.setAttrib(S,j,J)}),yC(t.classes,I=>{const j=i(I);yl.hasClass(S,j)||yl.addClass(S,j)}),e.dispatch("PreviewFormats"),yl.setStyles(g,{position:"absolute",left:-65535}),e.getBody().appendChild(g);const O=c("fontSize"),M=/px$/.test(O)?parseInt(O,10):0;return yC(s.split(" "),I=>{let j=c(I,S);if(!(I==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(j)&&(j=c(I),cc(j).toLowerCase()==="#ffffff"))&&!(I==="color"&&cc(j).toLowerCase()==="#000000")){if(I==="font-size"&&/em|%$/.test(j)){if(M===0)return;j=parseFloat(j)/(/%$/.test(j)?100:1)*M+"px"}I==="border"&&j&&(n+="padding:0 2px;"),n+=I+":"+j+";"}}),e.dispatch("AfterPreviewFormats"),yl.remove(g),n},wP=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},ZO=e=>{const t=yP(e),n=Wo({});return wP(e),R4(e),vl(e)||qM(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,i,c)=>{PB(e,s,i,c)},remove:(s,i,c,u)=>{WD(e,s,i,c,u)},toggle:(s,i,c)=>{qD(e,s,i,c)},match:(s,i,c,u)=>M3(e,s,i,c,u),closest:s=>BB(e,s),matchAll:(s,i)=>Jv(e,s,i),matchNode:(s,i,c,u)=>MB(e,s,i,c,u),canApply:s=>jD(e,s),formatChanged:(s,i,c,u)=>IB(e,n,s,i,c,u),getCssText:je(wC,e)}},jO=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},CP=(e,t,n)=>{const s=Wo(!1),i=v=>{iC(t,!1,n),t.add({},v)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",v=>{const S=v.command;jO(S)||(DD(t,n),t.beforeChange())}),e.on("ExecCommand",v=>{const S=v.command;jO(S)||i(v)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",v=>{const S=v.keyCode;if(v.isDefaultPrevented())return;const O=Vo.os.isMacOS()&&v.key==="Meta";(S>=33&&S<=36||S>=37&&S<=40||S===45||v.ctrlKey||O)&&(i(),e.nodeChanged()),(S===46||S===8)&&e.nodeChanged(),s.get()&&t.typing&&!Rf(Kv(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",v=>{const S=v.keyCode;if(v.isDefaultPrevented())return;if(S>=33&&S<=36||S>=37&&S<=40||S===45){t.typing&&i(v);return}const O=v.ctrlKey&&!v.altKey||v.metaKey;if((S<16||S>20)&&S!==224&&S!==91&&!t.typing&&!O){t.beforeChange(),iC(t,!0,n),t.add({},v),s.set(!0);return}(Vo.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&t.beforeChange()}),e.on("mousedown",v=>{t.typing&&i(v)});const c=v=>v.inputType==="insertReplacementText",u=v=>v.inputType==="insertText"&&v.data===null,g=v=>v.inputType==="insertFromPaste"||v.inputType==="insertFromDrop";e.on("input",v=>{v.inputType&&(c(v)||u(v)||g(v))&&i(v)}),e.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||e.nodeChanged()})},_P=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},WO=e=>{const t=nl(),n=Wo(0),s=Wo(0),i={data:[],typing:!1,beforeChange:()=>{FD(e,n,t)},add:(c,u)=>zD(e,i,s,n,t,c,u),dispatchChange:()=>{e.setDirty(!0);const c=Kv(e);c.bookmark=S_(e.selection),e.dispatch("change",{level:c,lastLevel:nr(i.data,s.get()).getOrUndefined()})},undo:()=>HD(e,i,n,s),redo:()=>RB(e,s,i.data),clear:()=>{Qv(e,i,s)},reset:()=>{cC(e,i)},hasUndo:()=>VD(e,i,s),hasRedo:()=>$D(e,i,s),transact:c=>UD(e,i,n,c),ignore:c=>{ZD(e,n,c)},extra:(c,u)=>{dC(e,i,s,c,u)}};return vl(e)||CP(e,i,n),_P(e),i},kP=[9,27,qt.HOME,qt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,qt.DOWN,qt.UP,qt.LEFT,qt.RIGHT].concat(Vo.browser.isFirefox()?[224]:[]),qO="data-mce-placeholder",GO=e=>e.type==="keydown"||e.type==="keyup",KO=e=>{const t=e.keyCode;return t===qt.BACKSPACE||t===qt.DELETE},ks=e=>{if(GO(e)){const t=e.keyCode;return!KO(e)&&(qt.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||on(kP,t))}else return!1},YO=e=>GO(e)&&!(KO(e)||e.type==="keyup"&&e.keyCode===229),lS=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},XO=e=>{var t;const n=e.dom,s=Ni(e),i=(t=py(e))!==null&&t!==void 0?t:"",c=(u,g)=>{if(ks(u))return;const v=e.getBody(),S=YO(u)?!1:lS(n,v,s);(n.getAttrib(v,qO)!==""!==S||g)&&(n.setAttrib(v,qO,S?i:null),cd(e,S),e.on(S?"keydown":"keyup",c),e.off(S?"keyup":"keydown",c))};La(i)&&e.on("init",u=>{c(u,!0),e.on("change SetContent ExecCommand",c),e.on("paste",g=>No.setEditorTimeout(e,()=>c(g)))})},QO=(e,t)=>({block:e,position:t}),CC=(e,t)=>({from:e,to:t}),cS=(e,t)=>{const n=ue.fromDom(e),s=ue.fromDom(t.container());return yw(n,s).map(i=>QO(i,t))},dS=e=>!(Pi(e.to.block,e.from.block)||Pi(e.from.block,e.to.block)),SP=e=>!yn(e.from.block,e.to.block),JO=(e,t)=>Ur(t,i=>kp(i)||ic(i.dom),i=>yn(i,e)).filter(pr).getOr(e),e8=(e,t)=>{const n=ue.fromDom(e);return yn(JO(n,t.from.block),JO(n,t.to.block))},EP=e=>Ts(e.from.block.dom)===!1&&Ts(e.to.block.dom)===!1,AP=e=>{const t=n=>_p(n)||Kh(n.dom)||xm(n);return t(e.from.block)&&t(e.to.block)},t8=(e,t,n,s)=>or(s.position.getNode())&&!Ai(e,s.block)?Ug(!1,s.block.dom).bind(i=>i.isEqual(s.position)?xi(n,t,i).bind(c=>cS(t,c)):z.some(s)).getOr(s):s,TP=(e,t,n,s)=>{const i=cS(t,Ye.fromRangeStart(s)),c=i.bind(u=>xi(n,t,u.position).bind(g=>cS(t,g).map(v=>t8(e,t,n,v))));return sr(i,c,CC).filter(u=>SP(u)&&e8(t,u)&&EP(u)&&AP(u)&&dS(u))},o8=(e,t,n,s)=>s.collapsed?TP(e,t,n,s):z.none(),n8=(e,t)=>{const n=Da(e);return mr(n,s=>t.isBlock(Ro(s))).fold(St(n),s=>n.slice(0,s))},_C=(e,t)=>{const n=n8(e,t);return nt(n,k),n},uS=(e,t,n)=>{const s=Hp(n,t);return js(s.reverse(),i=>Ai(e,i)).each(k)},mS=(e,t)=>_o(On(t),n=>!Ai(e,n)).length===0,s8=(e,t,n,s,i)=>{if(Ai(s,n))return Au(n),hl(n.dom);mS(s,i)&&Ai(s,t)&&ei(i,ue.fromTag("br"));const c=dc(n.dom,Ye.before(i.dom));return nt(_C(t,s),u=>{ei(i,u)}),uS(s,e,t),c},DP=(e,t)=>e.isInline(Ro(t)),r8=(e,t,n,s)=>{if(Ai(s,n)){if(Ai(s,t)){const u=vc((g=>{const v=(S,O)=>di(S).fold(()=>O,M=>DP(s,M)?v(M,O.concat(le(M))):O);return v(g,[])})(n),(g,v)=>(rp(g,v),v),vm());fu(t),Zn(t,u)}return k(n),hl(t.dom)}const i=jd(n.dom);return nt(_C(t,s),c=>{Zn(n,c)}),uS(s,e,t),i},a8=(e,t)=>{const n=Hp(t,e);return z.from(n[n.length-1])},kC=(e,t)=>Pi(t,e)?a8(t,e):z.none(),SC=(e,t)=>{Ug(e,t.dom).bind(n=>z.from(n.getNode())).map(ue.fromDom).filter(Wi).each(k)},EC=(e,t,n,s)=>(SC(!0,t),SC(!1,n),kC(t,n).fold(je(r8,e,t,n,s),je(s8,e,t,n,s))),J1=(e,t,n,s,i)=>t?EC(e,s,n,i):EC(e,n,s,i),fS=(e,t)=>{const n=ue.fromDom(e.getBody());return o8(e.schema,n.dom,t,e.selection.getRng()).map(i=>()=>{J1(n,t,i.from.block,i.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},Mb=(e,t,n)=>{const s=t.getRng();return sr(yw(e,ue.fromDom(s.startContainer)),yw(e,ue.fromDom(s.endContainer)),(i,c)=>yn(i,c)?z.none():z.some(()=>{s.deleteContents(),J1(e,!0,i,c,n).each(u=>{t.setRng(u.toRange())})})).getOr(z.none())},Bb=(e,t)=>{const n=ue.fromDom(t),s=je(yn,e);return lr(n,kp,s).isSome()},Pb=(e,t)=>Bb(e,t.startContainer)||Bb(e,t.endContainer),pS=(e,t)=>{const n=dc(e.dom,Ye.fromRangeStart(t)).isNone(),s=gl(e.dom,Ye.fromRangeEnd(t)).isNone();return!Pb(e,t)&&n&&s},i8=e=>z.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),l8=e=>{const t=ue.fromDom(e.getBody()),n=e.selection.getRng();return pS(t,n)?i8(e):Mb(t,e.selection,e.schema)},s2=(e,t)=>e.selection.isCollapsed()?z.none():l8(e),Bf=(e,t,n,s,i)=>z.from(t._selectionOverrides.showCaret(e,n,s,i)),c8=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Ib=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?z.none():z.some(c8(t)),gS=(e,t,n)=>{const s=ak(1,e.getBody(),t),i=Ye.fromRangeStart(s),c=i.getNode();if(W0(c))return Bf(1,e,c,!i.isAtEnd(),!1);const u=i.getNode(!0);if(W0(u))return Bf(1,e,u,!1,!1);const g=Vp(e.dom.getRoot(),i.getNode());return W0(g)?Bf(1,e,g,!1,n):z.none()},AC=(e,t,n)=>t.collapsed?gS(e,t,n).getOr(t):t,d8=e=>zp(e)||vv(e),hS=e=>Xg(e)||yv(e),OP=(e,t)=>{_t(t)&&t.data.length===0&&e.remove(t)},bS=(e,t,n,s,i,c)=>{Bf(s,e,c.getNode(!i),i,!0).each(u=>{if(t.collapsed){const g=t.cloneRange();i?g.setEnd(u.startContainer,u.startOffset):g.setStart(u.endContainer,u.endOffset),g.deleteContents()}else t.deleteContents();e.selection.setRng(u)}),OP(e.dom,n)},u8=(e,t)=>{const n=e.selection.getRng();if(!_t(n.commonAncestorContainer))return z.none();const s=t?1:-1,i=Sm(e.getBody()),c=je(ky,t?i.next:i.prev),u=t?d8:hS,g=Jx(s,e.getBody(),n),v=c(g),S=v&&Xd(t,v);if(!S||!Sy(g,S))return z.none();if(u(S))return z.some(()=>bS(e,n,g.getNode(),s,t,S));const O=c(S);return O&&u(O)&&Sy(S,O)?z.some(()=>bS(e,n,g.getNode(),s,t,O)):z.none()},TC=(e,t)=>u8(e,t),Lb=(e,t)=>{const n=e.getBody();return t?hl(n).filter(zp):jd(n).filter(Xg)},DC=e=>{const t=e.selection.getRng();return!t.collapsed&&(Lb(e,!0).exists(n=>n.isEqual(Ye.fromRangeStart(t)))||Lb(e,!1).exists(n=>n.isEqual(Ye.fromRangeEnd(t))))},m8=e=>Ke(e)&&(kp(ue.fromDom(e))||xm(ue.fromDom(e))),hd=ka.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),NP=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return Wt(n)&&n.getAttribute("data-mce-caret")===s},RP=(e,t,n,s,i)=>{const c=u=>i.isInline(u.nodeName.toLowerCase())&&!km(n,s,e);return $A(!t,n).fold(()=>$A(t,s).fold(Ao,c),c)},f8=(e,t,n,s,i)=>{const c=i.getNode(!n);return yw(ue.fromDom(t),ue.fromDom(s.getNode())).map(u=>Ai(e,u)?hd.remove(u.dom):hd.moveToElement(c)).orThunk(()=>z.some(hd.moveToElement(c)))},xS=(e,t,n,s)=>xi(t,e,n).bind(i=>m8(i.getNode())||RP(e,t,n,i,s)?z.none():t&&Ts(i.getNode())||!t&&Ts(i.getNode(!0))?f8(s,e,t,n,i):t&&Xg(n)||!t&&zp(n)?z.some(hd.moveToPosition(i)):z.none()),p8=(e,t)=>qo(t)?z.none():e&&Ts(t.nextSibling)?z.some(hd.moveToElement(t.nextSibling)):!e&&Ts(t.previousSibling)?z.some(hd.moveToElement(t.previousSibling)):z.none(),g8=(e,t,n)=>n.fold(s=>z.some(hd.remove(s)),s=>z.some(hd.moveToElement(s)),s=>km(t,s,e)?z.none():z.some(hd.moveToPosition(s))),MP=(e,t,n,s)=>NP(t,n)?p8(t,n.getNode(!t)).orThunk(()=>xS(e,t,n,s)):xS(e,t,n,s).bind(i=>g8(e,n,i)),r2=(e,t,n,s)=>{const i=ak(t?1:-1,e,n),c=Ye.fromRangeStart(i),u=ue.fromDom(e);return!t&&Xg(c)?z.some(hd.remove(c.getNode(!0))):t&&zp(c)?z.some(hd.remove(c.getNode())):!t&&zp(c)&&Jg(u,c,s)?tT(u,c,s).map(g=>hd.remove(g.getNode())):t&&Xg(c)&&cb(u,c,s)?db(u,c,s).map(g=>hd.remove(g.getNode())):MP(e,t,c,s)},BP=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Rm(e,t,ue.fromDom(n)),!0),h8=(e,t)=>n=>{const s=t?Ye.before(n):Ye.after(n);return e.selection.setRng(s.toRange()),!0},OC=e=>t=>(e.selection.setRng(t.toRange()),!0),vS=(e,t)=>z.from(Vp(e.getBody(),t)),b8=(e,t)=>{const n=e.selection.getNode();return vS(e,n).filter(Ts).fold(()=>r2(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(BP(e,t),h8(e,t),OC(e))),()=>z.some(ko))},PP=e=>{nt(mn(e,".mce-offscreen-selection"),k)},IP=(e,t)=>{const n=e.selection.getNode();return Ts(n)&&!sd(n)?vS(e,n.parentNode).filter(Ts).fold(()=>z.some(()=>{PP(ue.fromDom(e.getBody())),Rm(e,t,ue.fromDom(e.selection.getNode())),c4(e)}),()=>z.some(ko)):DC(e)?z.some(()=>{Qd(e,e.selection.getRng(),ue.fromDom(e.getBody()))}):z.none()},NC=e=>{const t=e.dom,n=e.selection,s=Vp(e.getBody(),n.getNode());if(ic(s)&&t.isBlock(s)&&t.isEmpty(s)){const i=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(i),n.setRng(Ye.before(i).toRange())}return!0},Fb=(e,t)=>e.selection.isCollapsed()?b8(e,t):IP(e,t),yS=e=>e.hasOwnProperty("text"),RC=e=>e.hasOwnProperty("marker"),wS=(e,t)=>{const n=(c,u)=>{if(_t(c))return{text:c,offset:u};{const g=t(),v=c.childNodes;return u<v.length?(c.insertBefore(g,v[u]),{marker:g,before:!0}):(c.appendChild(g),{marker:g,before:!1})}},s=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:s}},x8=e=>{var t,n;const{start:s,end:i}=e,c=new window.Range;return yS(s)?c.setStart(s.text,s.offset):RC(s)&&(s.before?c.setStartBefore(s.marker):c.setStartAfter(s.marker),(t=s.marker.parentNode)===null||t===void 0||t.removeChild(s.marker)),yS(i)?c.setEnd(i.text,i.offset):RC(i)&&(i.before?c.setEndBefore(i.marker):c.setEndAfter(i.marker),(n=i.marker.parentNode)===null||n===void 0||n.removeChild(i.marker)),c},MC=(e,t)=>{var n;const s=e.dom,i=s.getParent(e.selection.getStart(),s.isBlock),c=s.getParent(e.selection.getEnd(),s.isBlock),u=e.getBody();if(((n=i==null?void 0:i.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&i&&c&&i===u.firstChild&&c===u.lastChild&&!s.isEmpty(u)){const v=i.cloneNode(!1),S=()=>{if(t?th(e):Mm(e),u.firstChild!==i){const O=wS(e.selection.getRng(),()=>document.createElement("span"));Array.from(u.childNodes).forEach(M=>v.appendChild(M)),u.appendChild(v),e.selection.setRng(x8(O))}};return z.some(S)}return z.none()},LP=(e,t)=>{const n=Ye.fromRangeStart(e.selection.getRng());return xi(t,e.getBody(),n).filter(s=>t?Uk(s):Zk(s)).bind(s=>Cy(t?0:-1,s)).map(s=>()=>e.selection.select(s))},BC=(e,t)=>e.selection.isCollapsed()?LP(e,t):z.none(),Lm=_t,CS=e=>Lm(e)&&e.data[0]===Vs,_S=e=>Lm(e)&&e.data[e.data.length-1]===Vs,v8=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Vs)},y8=e=>{var t;if(Lm(e.previousSibling))return _S(e.previousSibling)||e.previousSibling.appendData(Vs),e.previousSibling;if(Lm(e))return CS(e)||e.insertData(0,Vs),e;{const n=v8(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},FP=e=>{var t,n;if(Lm(e.nextSibling))return CS(e.nextSibling)||e.nextSibling.insertData(0,Vs),e.nextSibling;if(Lm(e))return _S(e)||e.appendData(Vs),e;{const s=v8(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},PC=(e,t)=>e?y8(t):FP(t),kS=je(PC,!0),zP=je(PC,!1),SS=(e,t)=>_t(e.container())?PC(t,e.container()):PC(t,e.getNode()),IC=(e,t)=>{const n=t.get();return n&&e.container()===n&&ym(n)},LC=(e,t)=>t.fold(n=>{S1(e.get());const s=kS(n);return e.set(s),z.some(Ye(s,s.length-1))},n=>hl(n).map(s=>{if(IC(s,e)){const i=e.get();return Ye(i,1)}else{S1(e.get());const i=SS(s,!0);return e.set(i),Ye(i,1)}}),n=>jd(n).map(s=>{if(IC(s,e)){const i=e.get();return Ye(i,i.length-1)}else{S1(e.get());const i=SS(s,!1);return e.set(i),Ye(i,i.length-1)}}),n=>{S1(e.get());const s=zP(n);return e.set(s),z.some(Ye(s,1))}),ES=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return z.none()},wl=ka.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),AS=(e,t)=>{const n=Mp(t,e);return n||e},HP=(e,t,n)=>{const s=kT(n),i=AS(t,s.container());return Yd(e,i,s).fold(()=>gl(i,s).bind(je(Yd,e,i)).map(c=>wl.before(c)),z.none)},VP=(e,t)=>Zg(e,t)===null,FC=(e,t,n)=>Yd(e,t,n).filter(je(VP,t)),$P=(e,t,n)=>{const s=i4(n);return FC(e,t,s).bind(i=>dc(i,s).isNone()?z.some(wl.start(i)):z.none())},TS=(e,t,n)=>{const s=kT(n);return FC(e,t,s).bind(i=>gl(i,s).isNone()?z.some(wl.end(i)):z.none())},UP=(e,t,n)=>{const s=i4(n),i=AS(t,s.container());return Yd(e,i,s).fold(()=>dc(i,s).bind(je(Yd,e,i)).map(c=>wl.after(c)),z.none)},DS=e=>!vw(OS(e)),Pf=(e,t,n)=>ES([HP,$P,TS,UP],[e,t,n]).filter(DS),OS=e=>e.fold(Tn,Tn,Tn,Tn),NS=e=>e.fold(St("before"),St("start"),St("end"),St("after")),zb=e=>e.fold(wl.before,wl.before,wl.after,wl.after),RS=e=>e.fold(wl.start,wl.start,wl.end,wl.end),zC=(e,t)=>NS(e)===NS(t)&&OS(e)===OS(t),ZP=(e,t,n,s,i,c)=>sr(Yd(t,n,s),Yd(t,n,i),(u,g)=>u!==g&&eh(n,u,g)?wl.after(e?u:g):c).getOr(c),jP=(e,t)=>e.fold(Go,n=>!zC(n,t)),WP=(e,t,n,s,i)=>{const c=Xd(e,i);return xi(e,n,c).map(je(Xd,e)).fold(()=>s.map(zb),v=>Pf(t,n,v).map(je(ZP,e,t,n,c,v)).filter(je(jP,s))).filter(DS)},w8=(e,t)=>e?t.fold(Bn(z.some,wl.start),z.none,Bn(z.some,wl.after),z.none):t.fold(z.none,Bn(z.some,wl.before),z.none,Bn(z.some,wl.end)),C8=(e,t,n,s)=>{const i=Xd(e,s),c=Pf(t,n,i);return Pf(t,n,i).bind(je(w8,e)).orThunk(()=>WP(e,t,n,c,s))},qP=e=>Xt(e.selection.getSel().modify),MS=(e,t,n)=>{const s=e?1:-1;return t.setRng(Ye(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},a2=(e,t)=>{const n=t.selection.getRng(),s=e?Ye.fromRangeEnd(n):Ye.fromRangeStart(n);return qP(t)?e&&Lg(s)?MS(!0,t.selection,s):!e&&Ep(s)?MS(!1,t.selection,s):!1:!1};var Fm;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Fm||(Fm={}));const HC=(e,t)=>e===-1?tl(t):t,_8=(e,t,n)=>e===1?t.next(n):t.prev(n),k8=(e,t,n,s)=>or(s.getNode(t===1))?Fm.Br:km(n,s)===!1?Fm.Block:Fm.Wrap,S8=(e,t,n,s)=>{const i=Sm(n);let c=s;const u=[];for(;c;){const g=_8(t,i,c);if(!g)break;if(or(g.getNode(!1)))return t===1?{positions:HC(t,u).concat([g]),breakType:Fm.Br,breakAt:z.some(g)}:{positions:HC(t,u),breakType:Fm.Br,breakAt:z.some(g)};if(!g.isVisible()){c=g;continue}if(e(c,g)){const v=k8(n,t,c,g);return{positions:HC(t,u),breakType:v,breakAt:z.some(g)}}u.push(g),c=g}return{positions:HC(t,u),breakType:Fm.Eol,breakAt:z.none()}},E8=(e,t,n,s)=>t(n,s).breakAt.map(i=>{const c=t(n,i).positions;return e===-1?c.concat(i):[i].concat(c)}).getOr([]),BS=(e,t)=>ws(e,(n,s)=>n.fold(()=>z.some(s),i=>sr(Kt(i.getClientRects()),Kt(s.getClientRects()),(c,u)=>{const g=Math.abs(t-c.left);return Math.abs(t-u.left)<=g?s:i}).or(n)),z.none()),VC=(e,t)=>Kt(t.getClientRects()).bind(n=>BS(e,n.left)),Hb=je(S8,Ye.isAbove,-1),e0=je(S8,Ye.isBelow,1),PS=je(E8,-1,Hb),IS=je(E8,1,e0),LS=(e,t)=>Hb(e,t).breakAt.isNone(),FS=(e,t)=>e0(e,t).breakAt.isNone(),GP=e=>hl(e).map(t=>[t].concat(e0(e,t).positions)).getOr([]),A8=e=>jd(e).map(t=>Hb(e,t).positions.concat(t)).getOr([]),T8=(e,t)=>VC(PS(e,t),t),D8=(e,t)=>VC(IS(e,t),t),KP=Ts,O8=(e,t)=>Math.abs(e.left-t),If=(e,t)=>Math.abs(e.right-t),N8=e=>zr(e,"node"),i2=(e,t)=>Hr(e,(n,s)=>{const i=Math.min(O8(n,t),If(n,t)),c=Math.min(O8(s,t),If(s,t));return c===i&&N8(s)&&KP(s.node)||c<i?s:n}),YP=e=>{const t=n=>Xo(n,s=>{const i=wm(s);return i.node=e,i});if(Wt(e))return t(e.getClientRects());if(_t(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},zS=e=>na(e,YP);var t0;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(t0||(t0={}));const R8=(e,t,n,s)=>{let i=s;for(;i=G0(i,e,at,t);)if(n(i))return},M8=(e,t,n,s,i,c)=>{let u=0;const g=[],v=M=>{let I=zS([M]);e===t0.Up&&(I=I.reverse());for(let j=0;j<I.length;j++){const J=I[j];if(!n(J,S)){if(g.length>0&&t(J,ra(g))&&u++,J.line=u,i(J))return!0;g.push(J)}}return!1},S=ra(c.getClientRects());if(!S)return g;const O=c.getNode();return O&&(v(O),R8(e,s,v,O)),g},B8=(e,t)=>t.line>e,$C=(e,t)=>t.line===e,HS=je(M8,t0.Up,Dp,Op),P8=je(M8,t0.Down,Op,Dp),VS=e=>ra(e.getClientRects()),XP=(e,t,n,s)=>{const i=Sm(t);let c,u,g,v;const S=[];let O=0;e===t0.Down?(c=i.next,u=Op,g=Dp,v=Ye.after(s)):(c=i.prev,u=Dp,g=Op,v=Ye.before(s));const M=VS(v);do{if(!v.isVisible())continue;const I=VS(v);if(g(I,M))continue;S.length>0&&u(I,ra(S))&&O++;const j=wm(I);if(j.position=v,j.line=O,n(j))return S;S.push(j)}while(v=c(v));return S},$S=e=>t=>B8(e,t),US=e=>t=>$C(e,t),Lf=(e,t)=>{e.selection.setRng(t),ib(e,e.selection.getRng())},UC=(e,t,n)=>z.some(AC(e,t,n)),ZS=(e,t,n,s,i,c)=>{const u=t===1,g=Sm(e.getBody()),v=je(ky,u?g.next:g.prev),S=u?s:i;if(!n.collapsed){const J=zg(n);if(c(J))return Bf(t,e,J,t===-1,!1);if(DC(e)){const G=n.cloneRange();return G.collapse(t===-1),z.from(G)}}const O=Jx(t,e.getBody(),n);if(S(O))return Ib(e,O.getNode(!u));let M=v(O);const I=$x(n);if(M)M=Xd(u,M);else return I?z.some(n):z.none();if(S(M))return Bf(t,e,M.getNode(!u),u,!1);const j=v(M);return j&&S(j)&&Sy(M,j)?Bf(t,e,j.getNode(!u),u,!1):I?UC(e,M.toRange(),!1):z.none()},jS=(e,t,n,s,i,c)=>{const u=Jx(t,e.getBody(),n),g=ra(u.getClientRects()),v=t===t0.Down,S=e.getBody();if(!g)return z.none();if(DC(e)){const se=v?Ye.fromRangeEnd(n):Ye.fromRangeStart(n);return(v?D8:T8)(S,se).orThunk(()=>z.from(se)).map(_e=>_e.toRange())}const M=(v?P8:HS)(S,$S(1),u),I=_o(M,US(1)),j=g.left,J=i2(I,j);if(J&&c(J.node)){const se=Math.abs(j-J.left),ge=Math.abs(j-J.right);return Bf(t,e,J.node,se<ge,!1)}let G;if(s(u)?G=u.getNode():i(u)?G=u.getNode(!0):G=zg(n),G){const se=XP(t,S,$S(1),G);let ge=i2(_o(se,US(1)),j);if(ge||(ge=ra(_o(se,US(0))),ge))return UC(e,ge.position.toRange(),!1)}return I.length===0?ZC(e,v).filter(v?i:s).map(se=>AC(e,se.toRange(),!1)):z.none()},ZC=(e,t)=>{const n=e.selection.getRng(),s=t?Ye.fromRangeEnd(n):Ye.fromRangeStart(n),i=HA(s.container(),e.getBody());if(t){const c=e0(i,s);return jo(c.positions)}else{const c=Hb(i,s);return Kt(c.positions)}},WS=(e,t,n)=>ZC(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),Vb=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},qS=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},GS=(e,t,n)=>LC(t,n).map(s=>(Vb(e,s),n)),I8=(e,t,n)=>{const s=Ye.fromRangeStart(e);if(e.collapsed)return s;{const i=Ye.fromRangeEnd(e);return n?dc(t,i).getOr(i):gl(t,s).getOr(s)}},L8=(e,t,n)=>{const s=e.getBody(),i=I8(e.selection.getRng(),s,n),c=je(Fu,e);return C8(n,c,s,i).bind(g=>GS(e,t,g))},F8=(e,t,n)=>{const s=Xo(mn(ue.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),u=>u.dom),i=_o(s,e),c=_o(n,e);nt(ol(i,c),je(qS,!1)),nt(ol(c,i),je(qS,!0))},z8=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=Ye.fromRangeStart(e.selection.getRng());Ye.isTextPosition(s)&&!_T(s)&&(Vb(e,MA(n,s)),t.set(null))}},H8=(e,t,n,s)=>{if(t.selection.isCollapsed()){const i=_o(s,e);nt(i,c=>{const u=Ye.fromRangeStart(t.selection.getRng());Pf(e,t.getBody(),u).bind(g=>GS(t,n,g))})}},jC=(e,t,n)=>Gx(e)?L8(e,t,n).isSome():!1,WC=(e,t,n)=>Gx(t)?a2(e,t):!1,qC=e=>{const t=Wo(null),n=je(Fu,e);return e.on("NodeChange",s=>{Gx(e)&&(F8(n,e.dom,s.parents),z8(e,t),H8(n,e,t,s.parents))}),t},V8=je(WC,!0),$8=je(WC,!1),l2=(e,t,n)=>{if(Gx(e)){const s=ZC(e,t).getOrThunk(()=>{const i=e.selection.getRng();return t?Ye.fromRangeEnd(i):Ye.fromRangeStart(i)});return Pf(je(Fu,e),e.getBody(),s).exists(i=>{const c=zb(i);return LC(n,c).exists(u=>(Vb(e,u),!0))})}else return!1},KS=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},U8=e=>sr(hl(e),jd(e),(t,n)=>{const s=Xd(!0,t),i=Xd(!1,n);return gl(e,s).forall(c=>c.isEqual(i))}).getOr(!0),YS=(e,t)=>n=>LC(t,n).map(s=>()=>Vb(e,s)),XS=(e,t,n,s)=>{const i=e.getBody(),c=je(Fu,e);e.undoManager.ignore(()=>{e.selection.setRng(KS(n,s)),Mm(e),Pf(c,i,Ye.fromRangeStart(e.selection.getRng())).map(RS).bind(YS(e,t)).each(Oo)}),e.nodeChanged()},QP=(e,t)=>{const n=Mp(t,e);return n||e},Z8=(e,t,n,s)=>{const i=QP(e.getBody(),s.container()),c=je(Fu,e),u=Pf(c,i,s);return u.bind(v=>n?v.fold(St(z.some(RS(v))),z.none,St(z.some(zb(v))),z.none):v.fold(z.none,St(z.some(zb(v))),z.none,St(z.some(RS(v))))).map(YS(e,t)).getOrThunk(()=>{const v=Mu(n,i,s),S=v.bind(O=>Pf(c,i,O));return sr(u,S,()=>Yd(c,i,s).bind(O=>U8(O)?z.some(()=>{Rm(e,n,ue.fromDom(O))}):z.none())).getOrThunk(()=>S.bind(()=>v.map(O=>()=>{n?XS(e,t,s,O):XS(e,t,O,s)})))})},GC=(e,t,n)=>{if(e.selection.isCollapsed()&&Gx(e)){const s=Ye.fromRangeStart(e.selection.getRng());return Z8(e,t,n,s)}return z.none()},KC=e=>Jm(e)>1,QS=(e,t)=>{const n=ue.fromDom(e.getBody()),s=ue.fromDom(e.selection.getStart()),i=Hp(s,n);return mr(i,t).fold(St(i),c=>i.slice(0,c))},j8=e=>Jm(e)===1,JS=e=>QS(e,t=>e.schema.isBlock(Ro(t))||KC(t)),JP=e=>QS(e,t=>e.schema.isBlock(Ro(t))),eE=(e,t)=>{const n=je(o6,e);return na(t,s=>n(s)?[s.dom]:[])},W8=e=>{const t=JP(e);return eE(e,t)},q8=(e,t,n,s)=>{const i=eE(t,s);if(i.length===0)Rm(t,e,n);else{const c=$w(n.dom,i);t.selection.setRng(c.toRange())}},G8=(e,t)=>{const n=_o(JS(e),j8);return jo(n).bind(s=>{const i=Ye.fromRangeStart(e.selection.getRng());return TT(t,i,s.dom)&&!xk(s)?z.some(()=>q8(t,e,s,n)):z.none()})},eI=(e,t)=>{const n=t.parentElement;return or(t)&&!hn(n)&&e.dom.isEmpty(n)},tI=e=>xk(ue.fromDom(e)),K8=(e,t)=>{const n=e.selection.getStart(),s=eI(e,n)||tI(n)?$w(n,t):TM(e.selection.getRng(),t);e.selection.setRng(s.toRange())},o=(e,t)=>{const n=ol(t,W8(e));n.length>0&&K8(e,n)},r=e=>_t(e.startContainer),a=e=>e.startOffset===0&&r(e),l=(e,t)=>{const n=t.startContainer.parentElement;return!hn(n)&&o6(e,ue.fromDom(n))},d=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!hn(t)&&!hn(n)&&t.isEqualNode(n)},m=e=>{const t=e.endContainer;return e.endOffset===(_t(t)?t.length:t.childNodes.length)},p=e=>d(e)&&m(e),b=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),x=e=>p(e)||b(e),w=e=>{const t=e.selection.getRng();return a(t)&&l(e,t)&&x(t)},E=e=>{if(w(e)){const t=W8(e);return z.some(()=>{Mm(e),o(e,t)})}else return z.none()},C=(e,t)=>e.selection.isCollapsed()?G8(e,t):E(e),T=(e,t)=>bu(e,n=>ud(n.dom),n=>t.isBlock(Ro(n))),B=e=>T(ue.fromDom(e.selection.getStart()),e.schema),L=e=>{const t=e.selection.getRng();return t.collapsed&&(r(t)||e.dom.isEmpty(t.startContainer))&&!B(e)},Y=e=>(L(e)&&K8(e,[]),!0),W=(e,t,n)=>Ke(n)?z.some(()=>{e._selectionOverrides.hideFakeCaret(),Rm(e,t,ue.fromDom(n))}):z.none(),X=(e,t)=>{const n=t?vv:yv,i=Jx(t?1:-1,e.getBody(),e.selection.getRng());return n(i)?W(e,t,i.getNode(!t)):z.from(Xd(t,i)).filter(c=>n(c)&&Sy(i,c)).bind(c=>W(e,t,c.getNode(!t)))},$=(e,t)=>{const n=e.selection.getNode();return lc(n)?W(e,t,n):z.none()},U=(e,t)=>e.selection.isCollapsed()?X(e,t):$(e,t),te=e=>Ur(e,t=>ic(t.dom)||Ts(t.dom)).exists(t=>ic(t.dom)),oe=e=>Cl(e??"").getOr(0),de=(e,t)=>{const n=e||Hx(t)?"margin":"padding",s=sc(t,"direction")==="rtl"?"-right":"-left";return n+s},he=(e,t,n,s,i,c)=>{const u=de(n,ue.fromDom(c)),g=oe(e.getStyle(c,u));if(t==="outdent"){const v=Math.max(0,g-s);e.setStyle(c,u,v?v+i:"")}else{const v=g+s+i;e.setStyle(c,u,v)}},ke=(e,t)=>vn(t,n=>{const s=de(uy(e),n),i=Mh(n,s).map(oe).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&i>0}),Ve=e=>{const t=st(e);return!e.mode.isReadOnly()&&(t.length>1||ke(e,t))},tt=e=>Eu(e)||xm(e),Je=e=>Sc(e).exists(tt),st=e=>_o(Po(e.selection.getSelectedBlocks()),t=>!tt(t)&&!Je(t)&&te(t)),vt=(e,t)=>{var n,s;if(e.mode.isReadOnly())return;const{dom:i}=e,c=my(e),u=(s=(n=/[a-z%]+$/i.exec(c))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",g=oe(c),v=uy(e);nt(st(e),S=>{he(i,t,v,g,u,S.dom)})},Qt=e=>vt(e,"indent"),no=e=>vt(e,"outdent"),po=e=>{if(e.selection.isCollapsed()&&Ve(e)){const t=e.dom,n=e.selection.getRng(),s=Ye.fromRangeStart(n),i=t.getParent(n.startContainer,t.isBlock);if(i!==null&&Gk(ue.fromDom(i),s,e.schema))return z.some(()=>no(e))}return z.none()},$o=(e,t,n)=>Lr([po,Fb,TC,(s,i)=>GC(s,t,i),fS,Av,BC,U,s2,C,MC],s=>s(e,n)).filter(s=>e.selection.isEditable()),gs=(e,t)=>{$o(e,t,!1).fold(()=>{e.selection.isEditable()&&(Mm(e),c4(e))},Oo)},Ms=(e,t)=>{$o(e,t,!0).fold(()=>{e.selection.isEditable()&&th(e)},Oo)},Nn=(e,t)=>{e.addCommand("delete",()=>{gs(e,t)}),e.addCommand("forwardDelete",()=>{Ms(e,t)})},nn=5,ro=400,ss=e=>e.touches===void 0||e.touches.length!==1?z.none():z.some(e.touches[0]),Hn=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>nn||s>nn},Yr=e=>{const t=nl(),n=Wo(!1),s=qc(i=>{e.dispatch("longpress",{...i,type:"longpress"}),n.set(!0)},ro);e.on("touchstart",i=>{ss(i).each(c=>{s.cancel();const u={x:c.clientX,y:c.clientY,target:i.target};s.throttle(i),n.set(!1),t.set(u)})},!0),e.on("touchmove",i=>{s.cancel(),ss(i).each(c=>{t.on(u=>{Hn(c,u)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",i=>{s.cancel(),i.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(i.target)).each(()=>{n.get()?i.preventDefault():e.dispatch("tap",{...i,type:"tap"})})},!0)},Gn=(e,t)=>Jt(e,t.nodeName),Xr=(e,t)=>_t(t)?!0:Wt(t)?!Gn(e.getBlockElements(),t)&&!md(t)&&!wu(e,t)&&!C0(t):!1,_a=(e,t,n)=>Kn(J5(ue.fromDom(n),ue.fromDom(t)),s=>Gn(e,s.dom)),xh=(e,t)=>{if(_t(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Gn(e,t.nextSibling)||C0(t.nextSibling)}return!1},Gp=e=>e.dom.create(Ni(e),w1(e)),YC=e=>{const t=e.dom,n=e.selection,s=e.schema,i=s.getBlockElements(),c=n.getStart(),u=e.getBody();let g,v,S=null;const O=Ni(e);if(!c||!Wt(c))return;const M=u.nodeName.toLowerCase();if(!s.isValidChild(M,O.toLowerCase())||_a(i,u,c))return;if(u.firstChild===u.lastChild&&or(u.firstChild)){g=Gp(e),g.appendChild(vm().dom),u.replaceChild(g,u.firstChild),e.selection.setCursorLocation(g,0),e.nodeChanged();return}let I=u.firstChild;for(;I;)if(Wt(I)&&I2(s,I),Xr(s,I)){if(xh(i,I)){v=I,I=I.nextSibling,t.remove(v);continue}if(!g){if(!S&&e.hasFocus()&&(S=wS(e.selection.getRng(),()=>document.createElement("span"))),!I.parentNode){I=null;break}g=Gp(e),u.insertBefore(g,I)}v=I,I=I.nextSibling,g.appendChild(v)}else g=null,I=I.nextSibling;S&&(e.selection.setRng(x8(S)),e.nodeChanged())},c2=(e,t,n)=>{const s=ue.fromDom(Gp(e)),i=vm();Zn(s,i),n(t,s);const c=document.createRange();return c.setStartBefore(i.dom),c.setEndBefore(i.dom),c},vh=e=>{e.on("NodeChange",()=>YC(e))},Kp=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,Ff=(e,t,n)=>function(s){const i=arguments,c=i[i.length-2],u=c>0?t.charAt(c-1):"";if(u==='"')return s;if(u===">"){const g=t.lastIndexOf("<",c);if(g!==-1&&t.substring(g,c).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(i[0])+'">'+e.dom.encode(typeof i[1]=="string"?i[1]:i[0])+"</span>"},$b=(e,t,n)=>{let s=t.length,i=n.content;if(n.format!=="raw"){for(;s--;)i=i.replace(t[s],Ff(e,i,wA(e)));n.content=i}},Ub=(e,t)=>vn(e,n=>{const s=t.match(n);return s!==null&&s[0].length===t.length}),Yp=e=>{const t="contenteditable",n=" "+Dt.trim(AN(e))+" ",s=" "+Dt.trim(wA(e))+" ",i=Kp(n),c=Kp(s),u=TN(e);u.length>0&&e.on("BeforeSetContent",g=>{$b(e,u,g)}),e.parser.addAttributeFilter("class",g=>{let v=g.length;for(;v--;){const S=g[v];i(S)?S.attr(t,"true"):c(S)&&S.attr(t,"false")}}),e.serializer.addAttributeFilter(t,g=>{let v=g.length;for(;v--;){const S=g[v];if(!i(S)&&!c(S))continue;const O=S.attr("data-mce-content");u.length>0&&O?Ub(u,O)?(S.name="#text",S.type=3,S.raw=!0,S.value=O):S.remove():S.attr(t,null)}})},Zb=e=>Cr(ue.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),o0=(e,t)=>{t.hasAttribute("data-mce-caret")&&(x1(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},d2=(e,t)=>{const n=Zb(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),o0(e,n);return}Y2(n)&&(o0(e,n),e.undoManager.add())}},u2=e=>{e.on("keyup compositionstart",je(d2,e))},n0=Ts,yh=(e,t,n)=>ZS(t,e,n,zp,Xg,n0),Xp=(e,t,n)=>jS(t,e,n,c=>zp(c)||Q5(c),c=>Xg(c)||jk(c),n0),_n=e=>{const t=e.dom.create(Ni(e));return t.innerHTML='<br data-mce-bogus="1">',t},Qp=(e,t,n)=>{const s=Sm(e.getBody()),i=je(ky,t===1?s.next:s.prev);if(n.collapsed){const c=e.dom.getParent(n.startContainer,"PRE");if(!c)return;if(!i(Ye.fromRangeStart(n))){const g=ue.fromDom(_n(e));t===1?td(ue.fromDom(c),g):ei(ue.fromDom(c),g),e.selection.select(g.dom,!0),e.selection.collapse()}}},zm=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return yh(n,e,s).orThunk(()=>(Qp(e,n,s),z.none()))},Y8=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return Xp(n,e,s).orThunk(()=>(Qp(e,n,s),z.none()))},tE=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return vw(n)?!t:t},oE=(e,t)=>zm(e,tE(e.selection,t)).exists(n=>(Lf(e,n),!0)),m2=(e,t)=>Y8(e,t).exists(n=>(Lf(e,n),!0)),f2=(e,t)=>WS(e,t,t?Xg:zp),Uu=(e,t)=>Lb(e,!t).map(n=>{const s=n.toRange(),i=e.selection.getRng();return t?s.setStart(i.startContainer,i.startOffset):s.setEnd(i.endContainer,i.endOffset),s}).exists(n=>(Lf(e,n),!0)),jb=e=>on(["figcaption"],Ro(e)),nE=(e,t,n)=>{const s=je(yn,t);return Ur(ue.fromDom(e.container()),i=>n.isBlock(Ro(i)),s).filter(jb)},sE=(e,t,n)=>t?FS(e.dom,n):LS(e.dom,n),oI=(e,t)=>{const n=ue.fromDom(e.getBody()),s=Ye.fromRangeStart(e.selection.getRng());return nE(s,n,e.schema).exists(()=>{if(sE(n,t,s)){const c=c2(e,n,t?Zn:sm);return e.selection.setRng(c),!0}else return!1})},p2=(e,t)=>e.selection.isCollapsed()?oI(e,t):!1,XC=(e,t,n)=>{const s=e.selection.getRng(),i=Ye.fromRangeStart(s);return e.getBody().firstChild===t&&LS(n,i)?(e.execCommand("InsertNewBlockBefore"),!0):!1},nI=(e,t)=>{const n=e.selection.getRng(),s=Ye.fromRangeStart(n);return e.getBody().lastChild===t&&FS(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},g2=(e,t)=>t?z.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>nI(e,n)).getOr(!1):z.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>z.from(e.dom.getParent(n,"details")).map(s=>XC(e,s,n))).getOr(!1),X8=(e,t)=>g2(e,t),Qi={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Wb=e=>Xo(e,t=>({...Qi,...t})),sI=e=>Xo(e,t=>({...Qi,...t})),rE=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,aE=(e,t)=>na(Wb(e),n=>rE(n,t)?[n]:[]),Q8=(e,t)=>na(sI(e),n=>rE(n,t)?[n]:[]),So=(e,...t)=>()=>e.apply(null,t),bd=(e,t)=>js(aE(e,t),n=>n.action()),qb=(e,t)=>Lr(Q8(e,t),n=>n.action()),iE=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return ZS(e,n,s,vv,yv,lc).exists(i=>(Lf(e,i),!0))},lE=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return jS(e,n,s,vv,yv,lc).exists(i=>(Lf(e,i),!0))},QC=(e,t)=>WS(e,t,t?yv:vv),J8=(e,t)=>zf(e,t,Go),zf=(e,t,n)=>na(Da(e),s=>Tl(s,t)?n(s)?[s]:[]:zf(s,t,n)),e7=(e,t,n=Ao)=>{if(n(t))return z.none();if(on(e,Ro(t)))return z.some(t);const s=i=>Tl(i,"table")||n(i);return gu(t,e.join(","),s)},t7=(e,t)=>e7(["td","th"],e,t),o7=e=>J8(e,"th,td"),cE=(e,t)=>zi(e,"table",t),n7=ka.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Lo={...n7,none:e=>n7.none(e)},wo=(e,t,n,s,i=Go)=>{const c=s===1;if(!c&&n<=0)return Lo.first(e[0]);if(c&&n>=e.length-1)return Lo.last(e[e.length-1]);{const u=n+s,g=e[u];return i(g)?Lo.middle(t,g):wo(e,t,u,s,i)}},Os=(e,t)=>cE(e,t).bind(n=>{const s=o7(n);return mr(s,c=>yn(e,c)).map(c=>({index:c,all:s}))}),cr=(e,t,n)=>Os(e,n).fold(()=>Lo.none(e),i=>wo(i.all,e,i.index,1,t)),ys=(e,t,n)=>Os(e,n).fold(()=>Lo.none(),i=>wo(i.all,e,i.index,-1,t)),Ri=Cs("image"),Jp=e=>{const t=e;return z.from(t[Ri])},Hf=(e,t)=>{const n=e;n[Ri]=t},Ji=Cs("event"),rI=e=>{const t=e;return z.from(t[Ji])},h2=e=>t=>{const n=t;n[Ji]=e},s7=(e,t)=>h2(t)(e),iL=h2(0),lH=h2(2),cH=h2(1),dH=(e=>t=>{const n=t;return z.from(n[Ji]).exists(s=>s===e)})(0),uH=()=>Object.freeze({length:0,item:e=>null}),aI=Cs("mode"),mH=e=>{const t=e;return z.from(t[aI])},r7=e=>t=>{const n=t;n[aI]=e},lL=(e,t)=>r7(t)(e),cL=r7(0),iI=r7(2),fH=r7(1),dL=e=>t=>{const n=t;return z.from(n[aI]).exists(s=>s===e)},JC=dL(0),uL=dL(1),pH=(e,t)=>({...t,get length(){return t.length},add:(n,s)=>{if(JC(e))if(Ue(n)){if(!bn(s))return t.add(n,s)}else return t.add(n);return null},remove:n=>{JC(e)&&t.remove(n)},clear:()=>{JC(e)&&t.clear()}}),gH=["none","copy","link","move"],hH=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],lI=()=>{const e=new window.DataTransfer;let t="move",n="all";const s={get dropEffect(){return t},set dropEffect(i){on(gH,i)&&(t=i)},get effectAllowed(){return n},set effectAllowed(i){dH(s)&&on(hH,i)&&(n=i)},get items(){return pH(s,e.items)},get files(){return uL(s)?uH():e.files},get types(){return e.types},setDragImage:(i,c,u)=>{JC(s)&&(Hf(s,{image:i,x:c,y:u}),e.setDragImage(i,c,u))},getData:i=>uL(s)?"":e.getData(i),setData:(i,c)=>{JC(s)&&e.setData(i,c)},clearData:i=>{JC(s)&&e.clearData(i)}};return cL(s),s},bH=e=>{const t=lI(),n=mH(e);return iI(e),iL(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Jp(e).each(s=>t.setDragImage(s.image,s.x,s.y)),nt(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),nt(e.files,s=>t.items.add(s)),rI(e).each(s=>{s7(t,s)}),n.each(s=>{lL(e,s),lL(t,s)}),t},xH=e=>{const t=e.getData("text/html");return t===""?z.none():z.some(t)},mL=(e,t)=>e.setData("text/html",t),vH=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),yH=(e,t)=>na(t,n=>{const s=vH(wm(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),wH=(e,t,n)=>ws(e,(s,i)=>s.fold(()=>z.some(i),c=>{const u=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-n)),g=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n));return z.some(g<u?i:c)}),z.none()),fL=(e,t,n,s,i)=>{const c=mn(ue.fromDom(n),"td,th,caption").map(g=>g.dom),u=_o(yH(e,c),g=>t(g,i));return wH(u,s,i).map(g=>g.cell)},CH=e=>e.bottom,_H=e=>e.top,kH=(e,t)=>e.y<t,SH=(e,t)=>e.y>t,EH=je(fL,CH,kH),AH=je(fL,_H,SH),TH=(e,t)=>Kt(t.getClientRects()).bind(n=>EH(e,n.left,n.top)).bind(n=>VC(A8(n),t)),DH=(e,t)=>jo(t.getClientRects()).bind(n=>AH(e,n.left,n.top)).bind(n=>VC(GP(n),t)),OH=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),NH=e=>e.breakType===Fm.Wrap&&e.positions.length===0,RH=e=>e.breakType===Fm.Br&&e.positions.length===1,pL=(e,t,n)=>{const s=e(t,n);return NH(s)||!or(n.getNode())&&RH(s)?!OH(e,t,s):s.breakAt.isNone()},MH=je(pL,Hb),BH=je(pL,e0),PH=(e,t,n)=>{const s=Ye.fromRangeStart(t);return Ug(!e,n).exists(i=>i.isEqual(s))},IH=(e,t,n,s)=>{const i=e.selection.getRng(),c=t?1:-1;return IA()&&PH(t,i,n)?(Bf(c,e,n,!t,!1).each(u=>{Lf(e,u)}),!0):!1},LH=(e,t,n)=>TH(t,n).orThunk(()=>Kt(n.getClientRects()).bind(s=>BS(PS(e,Ye.before(t)),s.left))).getOr(Ye.before(t)),FH=(e,t,n)=>DH(t,n).orThunk(()=>Kt(n.getClientRects()).bind(s=>BS(IS(e,Ye.after(t)),s.left))).getOr(Ye.after(t)),gL=(e,t)=>{const n=t.getNode(e);return yu(n)?z.some(n):z.none()},zH=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?td:ei,i=c2(t,ue.fromDom(n),s);Lf(t,i)})},hL=(e,t,n)=>{const s=gL(!!t,n),i=t===!1;s.fold(()=>Lf(e,n.toRange()),c=>Ug(i,e.getBody()).filter(u=>u.isEqual(n)).fold(()=>Lf(e,n.toRange()),u=>zH(t,e,c)))},HH=(e,t,n,s)=>{const i=e.selection.getRng(),c=Ye.fromRangeStart(i),u=e.getBody();if(!t&&MH(s,c)){const g=LH(u,n,c);return hL(e,t,g),!0}else if(t&&BH(s,c)){const g=FH(u,n,c);return hL(e,t,g),!0}else return!1},bL=(e,t,n)=>z.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>z.from(e.dom.getParent(s,"table")).map(i=>n(e,t,i,s))).getOr(!1),xL=(e,t)=>bL(e,t,IH),cI=(e,t)=>bL(e,t,HH),VH=e=>{const t=df.exact(e,0,e,0);return O2(t)},vL=(e,t,n)=>n.fold(z.none,z.none,(s,i)=>lf(i).map(c=>VH(c)),s=>e.mode.isReadOnly()||!$H(s)?z.none():(e.execCommand("mceTableInsertRowAfter"),yL(e,t,s))),$H=e=>Ur(e,Xm("table")).exists(ti),yL=(e,t,n)=>vL(e,t,cr(n,wL)),UH=(e,t,n)=>vL(e,t,ys(n,wL)),wL=e=>ti(e)||am(e,ZH),ZH=e=>Dl(e)&&ti(e),CL=(e,t)=>{const n=["table","li","dl"],s=ue.fromDom(e.getBody()),i=g=>{const v=Ro(g);return yn(g,s)||on(n,v)},c=e.selection.getRng(),u=ue.fromDom(t?c.endContainer:c.startContainer);return t7(u,i).map(g=>(cE(g,i).each(O=>{e.model.table.clearSelectedCells(O.dom)}),e.selection.collapse(!t),(t?yL:UH)(e,i,g).each(O=>{e.selection.setRng(O)}),!0)).getOr(!1)},jH=(e,t,n)=>{const s=Vo.os.isMacOS()||Vo.os.isiOS();bd([{keyCode:qt.RIGHT,action:So(oE,e,!0)},{keyCode:qt.LEFT,action:So(oE,e,!1)},{keyCode:qt.UP,action:So(m2,e,!1)},{keyCode:qt.DOWN,action:So(m2,e,!0)},...s?[{keyCode:qt.UP,action:So(Uu,e,!1),metaKey:!0,shiftKey:!0},{keyCode:qt.DOWN,action:So(Uu,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:qt.RIGHT,action:So(xL,e,!0)},{keyCode:qt.LEFT,action:So(xL,e,!1)},{keyCode:qt.UP,action:So(cI,e,!1)},{keyCode:qt.DOWN,action:So(cI,e,!0)},{keyCode:qt.UP,action:So(cI,e,!1)},{keyCode:qt.UP,action:So(X8,e,!1)},{keyCode:qt.DOWN,action:So(X8,e,!0)},{keyCode:qt.RIGHT,action:So(iE,e,!0)},{keyCode:qt.LEFT,action:So(iE,e,!1)},{keyCode:qt.UP,action:So(lE,e,!1)},{keyCode:qt.DOWN,action:So(lE,e,!0)},{keyCode:qt.RIGHT,action:So(jC,e,t,!0)},{keyCode:qt.LEFT,action:So(jC,e,t,!1)},{keyCode:qt.RIGHT,ctrlKey:!s,altKey:s,action:So(V8,e,t)},{keyCode:qt.LEFT,ctrlKey:!s,altKey:s,action:So($8,e,t)},{keyCode:qt.UP,action:So(p2,e,!1)},{keyCode:qt.DOWN,action:So(p2,e,!0)}],n).each(i=>{n.preventDefault()})},WH=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||jH(e,t,n)})},eg=(e,t)=>({container:e,offset:t}),a7=Ds.DOM,i7=e=>t=>e===t?-1:0,qH=e=>t=>e.isBlock(t)||on(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",dI=(e,t,n)=>{if(_t(e)&&t>=0)return z.some(eg(e,t));{const s=xf(a7);return z.from(s.backwards(e,t,i7(e),n)).map(i=>eg(i.container,i.container.data.length))}},GH=(e,t,n)=>{if(_t(e)&&t>=e.length)return z.some(eg(e,t));{const s=xf(a7);return z.from(s.forwards(e,t,i7(e),n)).map(i=>eg(i.container,0))}},uI=(e,t,n)=>{if(!_t(e))return z.none();const s=e.data;if(t>=0&&t<=s.length)return z.some(eg(e,t));{const i=xf(a7);return z.from(i.backwards(e,t,i7(e),n)).bind(c=>{const u=c.container.data;return uI(c.container,t+u.length,n)})}},_L=(e,t,n)=>{if(!_t(e))return z.none();const s=e.data;if(t<=s.length)return z.some(eg(e,t));{const i=xf(a7);return z.from(i.forwards(e,t,i7(e),n)).bind(c=>_L(c.container,t-s.length,n))}},mI=(e,t,n,s,i)=>{const c=xf(e,qH(e));return z.from(c.backwards(t,n,s,i))},KH=e=>e.collapsed&&_t(e.startContainer),YH=e=>pl(e.toString().replace(/\u00A0/g," ")),kL=e=>e!==""&&`  \uFEFF\f
\r	\v`.indexOf(e)!==-1,XH=(e,t)=>e.substring(t.length),QH=(e,t,n,s=!1)=>{let i;const c=n.charAt(0);for(i=t-1;i>=0;i--){const u=e.charAt(i);if(!s&&kL(u))return z.none();if(c===u&&Or(e,n,i,t))break}return z.some(i)},fI=(e,t,n,s=!1)=>{if(!KH(t))return z.none();const i={text:"",offset:0},c=(g,v,S)=>(i.text=S+i.text,i.offset+=v,QH(i.text,i.offset,n,s).getOr(v)),u=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return mI(e,t.startContainer,t.startOffset,c,u).bind(g=>{const v=t.cloneRange();if(v.setStart(g.container,g.offset),v.setEnd(t.endContainer,t.endOffset),v.collapsed)return z.none();const S=YH(v);return S.lastIndexOf(n)!==0?z.none():z.some({text:XH(S,n),range:v,trigger:n})})},JH=e=>e.nodeType===sl,eV=e=>e.nodeType===Va,SL=e=>{if(JH(e))return eg(e,e.data.length);{const t=e.childNodes;return t.length>0?SL(t[t.length-1]):eg(e,t.length)}},EL=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?EL(n[t],0):n.length>0&&eV(e)&&n.length===t?SL(n[n.length-1]):eg(e,t)},tV=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return mI(e,t.container,t.offset,(i,c)=>c===0?-1:c,s).filter(i=>{const c=i.container.data.charAt(i.offset-1);return!kL(c)}).isSome()},oV=e=>t=>{const n=EL(t.startContainer,t.startOffset);return!tV(e,n)},nV=(e,t,n)=>Lr(n.triggers,s=>fI(e,t,s)),sV=(e,t)=>{const n=t(),s=e.selection.getRng();return nV(e.dom,s,n).bind(i=>AL(e,t,i))},AL=(e,t,n,s={})=>{var i;const c=t(),g=(i=e.selection.getRng().startContainer.nodeValue)!==null&&i!==void 0?i:"",v=_o(c.lookupByTrigger(n.trigger),O=>n.text.length>=O.minChars&&O.matches.getOrThunk(()=>oV(e.dom))(n.range,g,n.text));if(v.length===0)return z.none();const S=Promise.all(Xo(v,O=>O.fetch(n.text,O.maxResults,s).then(I=>({matchText:n.text,items:I,columns:O.columns,onAction:O.onAction,highlightOn:O.highlightOn}))));return z.some({lookupData:S,context:n})};var tg;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(tg||(tg={}));const pI=(e,t,n)=>e.stype===tg.Error?t(e.serror):n(e.svalue),rV=e=>{const t=[],n=[];return nt(e,s=>{pI(s,i=>n.push(i),i=>t.push(i))}),{values:t,errors:n}},aV=(e,t)=>e.stype===tg.Error?{stype:tg.Error,serror:t(e.serror)}:e,iV=(e,t)=>e.stype===tg.Value?{stype:tg.Value,svalue:t(e.svalue)}:e,lV=(e,t)=>e.stype===tg.Value?t(e.svalue):e,cV=(e,t)=>e.stype===tg.Error?t(e.serror):e,TL=e=>({stype:tg.Value,svalue:e}),DL=e=>({stype:tg.Error,serror:e}),gc={fromResult:e=>e.fold(DL,TL),toResult:e=>pI(e,vr.error,vr.value),svalue:TL,partition:rV,serror:DL,bind:lV,bindError:cV,map:iV,mapError:aV,fold:pI},OL=e=>ne(e)&&Fr(e).length>100?" removed due to size":JSON.stringify(e,null,2),dV=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:St("... (only showing first ten failures)")}]):e;return Xo(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},NL=(e,t)=>gc.serror([{path:e,getErrorInfo:t}]),uV=(e,t,n)=>NL(e,()=>'Could not find valid *required* value for "'+t+'" in '+OL(n)),mV=(e,t)=>NL(e,St(t)),RL=e=>{const t=(s,i)=>gc.bindError(e(i),c=>mV(s,c)),n=St("val");return{extract:t,toString:n}},fV=RL(gc.svalue),pV=St(fV),gI=(e,t)=>RL(n=>{const s=typeof n;return e(n)?gc.svalue(n):gc.serror(`Expected type: ${t} but got: ${s}`)}),gV=gI(A,"number"),ML=gI(Ue,"string"),BL=gI(Xt,"function"),hV=()=>({tag:"required",process:{}}),bV=e=>({tag:"defaultedThunk",process:e}),PL=e=>bV(St(e)),xV=()=>({tag:"option",process:{}}),vV=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),IL=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},yV=(e,t)=>e.length>0?gc.svalue(Es(t,Cc.apply(void 0,e))):gc.svalue(t),LL=e=>Bn(gc.serror,Ss)(e),wV={consolidateObj:(e,t)=>{const n=gc.partition(e);return n.errors.length>0?LL(n.errors):yV(n.values,t)},consolidateArr:e=>{const t=gc.partition(e);return t.errors.length>0?LL(t.errors):gc.svalue(t.values)}},CV=(e,t,n,s)=>kn(t,n).fold(()=>uV(e,n,t),s),FL=(e,t,n,s)=>{const i=kn(e,t).getOrThunk(()=>n(e));return s(i)},_V=(e,t,n)=>n(kn(e,t)),kV=(e,t,n,s)=>{const i=kn(e,t).map(c=>c===!0?n(e):c);return s(i)},SV=(e,t,n,s,i)=>{const c=g=>i.extract(t.concat([s]),g),u=g=>g.fold(()=>gc.svalue(z.none()),v=>{const S=i.extract(t.concat([s]),v);return gc.map(S,z.some)});switch(e.tag){case"required":return CV(t,n,s,c);case"defaultedThunk":return FL(n,s,e.process,c);case"option":return _V(n,s,u);case"defaultedOptionThunk":return kV(n,s,e.process,u);case"mergeWithThunk":return FL(n,s,St({}),g=>{const v=Es(e.process(n),g);return c(v)})}},EV=(e,t,n)=>{const s={},i=[];for(const c of n)IL(c,(u,g,v,S)=>{const O=SV(v,e,t,u,S);gc.fold(O,M=>{i.push(...M)},M=>{s[g]=M})},(u,g)=>{s[u]=g(t)});return i.length>0?gc.serror(i):gc.svalue(s)},AV=e=>({extract:(s,i)=>EV(s,i,e),toString:()=>`obj{
`+Xo(e,i=>IL(i,(c,u,g,v)=>c+" -> "+v.toString(),(c,u)=>"state("+c+")")).join(`
`)+"}"}),TV=e=>({extract:(s,i)=>{const c=Xo(i,(u,g)=>e.extract(s.concat(["["+g+"]"]),u));return wV.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),DV=(e,t,n)=>{const s=t.extract([e],n);return gc.mapError(s,i=>({input:n,errors:i}))},OV=(e,t,n)=>gc.toResult(DV(e,t,n)),NV=e=>`Errors: 
`+dV(e.errors).join(`
`)+`

Input object: `+OL(e.input),l7=vV,zL=(e,t)=>l7(e,e,hV(),t),HL=e=>zL(e,ML),VL=e=>zL(e,BL),RV=(e,t)=>l7(e,e,xV(),t),MV=e=>RV(e,BL),BV=(e,t)=>l7(e,e,PL(t),pV()),$L=(e,t,n)=>l7(e,e,PL(t),n),UL=(e,t)=>$L(e,t,gV),PV=(e,t,n)=>$L(e,t,TV(n)),IV=HL("type"),LV=VL("fetch"),FV=VL("onAction"),zV=e=>BV("columns",e),HV=AV([IV,HL("trigger"),UL("minChars",1),zV(1),UL("maxResults",10),MV("matches"),LV,FV,PV("highlightOn",[],ML)]),VV=e=>OV("Autocompleter",HV,e),$V=()=>{const e={},t={},n={},s={},i={},c={},u={},g={},v={},S=(j,J)=>(G,se)=>{j[G.toLowerCase()]={...se,type:J}},O=(j,J)=>(G,se)=>{j[G.toLowerCase()]={type:J,...se}},M=(j,J)=>s[j.toLowerCase()]=J,I=(j,J)=>u[j.toLowerCase()]=J;return{addButton:S(e,"button"),addGroupToolbarButton:S(e,"grouptoolbarbutton"),addToggleButton:S(e,"togglebutton"),addMenuButton:S(e,"menubutton"),addSplitButton:S(e,"splitbutton"),addMenuItem:S(t,"menuitem"),addNestedMenuItem:S(t,"nestedmenuitem"),addToggleMenuItem:S(t,"togglemenuitem"),addAutocompleter:S(n,"autocompleter"),addContextMenu:S(i,"contextmenu"),addContextToolbar:S(c,"contexttoolbar"),addContextForm:O(c,"contextform"),addSidebar:S(g,"sidebar"),addView:S(v,"views"),addIcon:M,addContext:I,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:i,contextToolbars:c,sidebars:g,views:v,contexts:u})}},UV=e=>{const t=e.ui.registry.getAll().popups,n=jn(t,u=>VV(u).fold(g=>{throw new Error(NV(g))},Tn)),s=Gc(fr(n,u=>u.trigger)),i=pa(n);return{dataset:n,triggers:s,lookupByTrigger:u=>_o(i,g=>g.trigger===u)}},ZV=(e,t)=>{const n=qc(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",s=>{const i=s.which;i===8?n.throttle():i===27?(n.cancel(),t.cancelIfNecessary()):(i===38||i===40)&&n.cancel()},!0),e.on("remove",n.cancel)},jV=e=>{const t=nl(),n=Wo(!1),s=t.isSet,i=()=>{s()&&(kr(e),n.set(!1),t.clear())},c=M=>{s()||t.set({trigger:M.trigger,matchLength:M.text.length})},u=ir(()=>UV(e)),g=M=>t.get().map(I=>fI(e.dom,e.selection.getRng(),I.trigger,!0).bind(j=>AL(e,u,j,M))).getOrThunk(()=>sV(e,u)),v=M=>{g(M).fold(i,I=>{c(I.context),I.lookupData.then(j=>{t.get().map(J=>{const G=I.context;J.trigger===G.trigger&&(t.set({...J,matchLength:G.text.length}),n.get()?(O_(e,{range:G.range}),oN(e,{lookupData:j})):(n.set(!0),O_(e,{range:G.range}),tN(e,{lookupData:j})))})})})},S=(M,I)=>{const j=M.compareBoundaryPoints(window.Range.START_TO_START,I),J=M.compareBoundaryPoints(window.Range.END_TO_END,I);return j>=0&&J<=0},O=()=>t.get().bind(({trigger:M})=>{const I=e.selection.getRng();return fI(e.dom,I,M,n.get()).filter(({range:j})=>S(I,j)).map(({range:j})=>j)});e.addCommand("mceAutocompleterReload",(M,I)=>{const j=ne(I)?I.fetchOptions:{};v(j)}),e.addCommand("mceAutocompleterClose",i),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{O().each(M=>{O_(e,{range:M})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>O().isSome()),ZV(e,{cancelIfNecessary:i,load:v})},WV=Jn().browser.isSafari(),ZL=e=>Au(ue.fromDom(e)),jL=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},c7=(e,t)=>z.from(e.getParent(t.container(),"details")),WL=(e,t)=>c7(e,t).isSome(),qV=(e,t)=>{const n=z.from(e.getParent(t.startContainer,"details")),s=z.from(e.getParent(t.endContainer,"details"));if(n.isSome()||s.isSome()){const i=n.bind(c=>z.from(e.select("summary",c)[0]));return z.some({startSummary:i,startDetails:n,endDetails:s})}else return z.none()},GV=(e,t)=>hl(t).exists(n=>n.isEqual(e)),KV=(e,t)=>jd(t).exists(n=>or(n.getNode())&&dc(t,n).exists(s=>s.isEqual(e))||n.isEqual(e)),YV=(e,t)=>t.startSummary.exists(n=>GV(e,n)),XV=(e,t)=>t.startSummary.exists(n=>KV(e,n)),QV=(e,t)=>t.startDetails.exists(n=>dc(n,e).forall(s=>t.startSummary.exists(i=>!i.contains(e.container())&&i.contains(s.container())))),JV=(e,t,n)=>n.startDetails.exists(s=>gl(e,t).forall(i=>!s.contains(i.container()))),qL=(e,t)=>{const n=t.getNode();bn(n)||e.selection.setCursorLocation(n,t.offset())},GL=(e,t,n)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const i=e.dom.select("summary",s)[0];i&&(n?hl(i):jd(i)).each(u=>qL(e,u))}else qL(e,t)},e$=(e,t)=>{const n=v=>v.contains(e.startContainer),s=v=>v.contains(e.endContainer),i=t.startSummary.exists(n),c=t.startSummary.exists(s),u=t.startDetails.forall(v=>t.endDetails.forall(S=>v!==S));return(i||c)&&!(i&&c)||u},KL=(e,t,n)=>{const{dom:s,selection:i}=e,c=e.getBody();if(n==="character"){const u=Ye.fromRangeStart(i.getRng()),g=s.getParent(u.container(),s.isBlock),v=c7(s,u),S=g&&s.isEmpty(g),O=hn(g==null?void 0:g.previousSibling),M=hn(g==null?void 0:g.nextSibling);return S&&(t?M:O)&&Mu(!t,c,u).exists(J=>WL(s,J)&&!ql(v,c7(s,J)))?!0:Mu(t,c,u).fold(Ao,I=>{const j=c7(s,I);if(WL(s,I)&&!ql(v,j)){if(t||GL(e,I,!1),g&&S){if(t&&O)return!0;if(!t&&M)return!0;GL(e,I,t),e.dom.remove(g)}return!0}else return!1})}else return!1},t$=(e,t,n,s)=>{const c=e.selection.getRng(),u=Ye.fromRangeStart(c),g=e.getBody();return s==="selection"?e$(c,t):n?XV(u,t)||JV(g,u,t):YV(u,t)||QV(u,t)},o$=(e,t,n)=>qV(e.dom,e.selection.getRng()).fold(()=>KL(e,t,n),s=>t$(e,s,t,n)||KL(e,t,n)),n$=(e,t,n)=>{const s=e.selection,i=s.getNode(),c=s.getRng(),u=Ye.fromRangeStart(c);return cx(i)?(n==="selection"&&jL(c,i)||TT(t,u,i)?ZL(i):e.undoManager.transact(()=>{const g=s.getSel();let{anchorNode:v,anchorOffset:S,focusNode:O,focusOffset:M}=g??{};const I=()=>{Ke(v)&&Ke(S)&&Ke(O)&&Ke(M)&&(g==null||g.setBaseAndExtent(v,S,O,M))},j=()=>{v=g==null?void 0:g.anchorNode,S=g==null?void 0:g.anchorOffset,O=g==null?void 0:g.focusNode,M=g==null?void 0:g.focusOffset},J=(se,ge)=>{nt(se.childNodes,_e=>{eb(_e)&&ge.appendChild(_e)})},G=e.dom.create("span",{"data-mce-bogus":"1"});J(i,G),i.appendChild(G),I(),(n==="word"||n==="line")&&(g==null||g.modify("extend",t?"right":"left",n)),!s.isCollapsed()&&jL(s.getRng(),G)?ZL(i):(e.execCommand(t?"ForwardDelete":"Delete"),j(),J(G,i),I()),e.dom.remove(G)}),!0):!1},b2=(e,t,n)=>o$(e,t,n)||WV&&n$(e,t,n)?z.some(ko):z.none(),YL=e=>(t,n,s={})=>{const i=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:ko,inputType:n},u=Og(new InputEvent(e));return t.dispatch(e,{...u,...c,...s})},dE=YL("input"),d7=YL("beforeinput"),XL=Jn(),QL=XL.os,JL=QL.isMacOS()||QL.isiOS(),s$=XL.browser.isFirefox(),r$=(e,t,n)=>{const s=n.keyCode===qt.BACKSPACE?"deleteContentBackward":"deleteContentForward",i=e.selection.isCollapsed(),c=i?"character":"selection",u=g=>i?g?"word":"line":"selection";qb([{keyCode:qt.BACKSPACE,action:So(po,e)},{keyCode:qt.BACKSPACE,action:So(Fb,e,!1)},{keyCode:qt.DELETE,action:So(Fb,e,!0)},{keyCode:qt.BACKSPACE,action:So(TC,e,!1)},{keyCode:qt.DELETE,action:So(TC,e,!0)},{keyCode:qt.BACKSPACE,action:So(GC,e,t,!1)},{keyCode:qt.DELETE,action:So(GC,e,t,!0)},{keyCode:qt.BACKSPACE,action:So(Av,e,!1)},{keyCode:qt.DELETE,action:So(Av,e,!0)},{keyCode:qt.BACKSPACE,action:So(b2,e,!1,c)},{keyCode:qt.DELETE,action:So(b2,e,!0,c)},...JL?[{keyCode:qt.BACKSPACE,altKey:!0,action:So(b2,e,!1,u(!0))},{keyCode:qt.DELETE,altKey:!0,action:So(b2,e,!0,u(!0))},{keyCode:qt.BACKSPACE,metaKey:!0,action:So(b2,e,!1,u(!1))}]:[{keyCode:qt.BACKSPACE,ctrlKey:!0,action:So(b2,e,!1,u(!0))},{keyCode:qt.DELETE,ctrlKey:!0,action:So(b2,e,!0,u(!0))}],{keyCode:qt.BACKSPACE,action:So(BC,e,!1)},{keyCode:qt.DELETE,action:So(BC,e,!0)},{keyCode:qt.BACKSPACE,action:So(U,e,!1)},{keyCode:qt.DELETE,action:So(U,e,!0)},{keyCode:qt.BACKSPACE,action:So(s2,e,!1)},{keyCode:qt.DELETE,action:So(s2,e,!0)},{keyCode:qt.BACKSPACE,action:So(fS,e,!1)},{keyCode:qt.DELETE,action:So(fS,e,!0)},{keyCode:qt.BACKSPACE,action:So(C,e,!1)},{keyCode:qt.DELETE,action:So(C,e,!0)},{keyCode:qt.BACKSPACE,action:So(MC,e,!1)},{keyCode:qt.DELETE,action:So(MC,e,!0)}],n).filter(g=>e.selection.isEditable()).each(g=>{n.preventDefault(),d7(e,s).isDefaultPrevented()||(g(),dE(e,s))})},a$=(e,t,n)=>bd([{keyCode:qt.BACKSPACE,action:So(NC,e)},{keyCode:qt.DELETE,action:So(NC,e)},...JL?[{keyCode:qt.BACKSPACE,altKey:!0,action:So(Y,e)},{keyCode:qt.DELETE,altKey:!0,action:So(Y,e)},...n?[{keyCode:s$?224:91,action:So(Y,e)}]:[]]:[{keyCode:qt.BACKSPACE,ctrlKey:!0,action:So(Y,e)},{keyCode:qt.DELETE,ctrlKey:!0,action:So(Y,e)}]],t),i$=(e,t)=>{let n=!1;e.on("keydown",s=>{n=s.keyCode===qt.BACKSPACE,s.isDefaultPrevented()||r$(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||a$(e,s,n),n=!1})},l$=e=>{for(;e;){if(Wt(e)||_t(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},e_=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=l$(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(n.doc.createTextNode(Ls),t.firstChild)}const i=n.createRng();if(t.normalize(),t.hasChildNodes()){const c=new Ys(t,t);let u=t,g;for(;g=c.current();){if(_t(g)){i.setStart(g,0),i.setEnd(g,0);break}if(s[g.nodeName.toLowerCase()]){i.setStartBefore(g),i.setEndBefore(g);break}u=g,g=c.next()}g||(i.setStart(u,0),i.setEnd(u,0))}else or(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),ib(e,i)},uE=(e,t)=>{const n=e.getRoot();let s,i=t;for(;i!==n&&i&&e.getContentEditable(i)!=="false";){if(e.getContentEditable(i)==="true"){s=i;break}i=i.parentNode}return i!==n?s:n},hI=e=>z.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),c$=e=>hI(e).fold(St(""),t=>t.nodeName.toUpperCase()),d$=e=>hI(e).filter(t=>xm(ue.fromDom(t))).isSome(),bI=e=>{e.innerHTML='<br data-mce-bogus="1">'},u$=(e,t,n)=>{const s=e.dom;z.from(n.style).map(s.parseStyle).each(v=>{const O={...gg(ue.fromDom(t)),...v};s.setStyles(t,O)});const i=z.from(n.class).map(v=>v.split(/\s+/)),c=z.from(t.className).map(v=>_o(v.split(/\s+/),S=>S!==""));sr(i,c,(v,S)=>{const O=_o(S,I=>!on(v,I)),M=[...v,...O];s.setAttrib(t,"class",M.join(" "))});const u=["style","class"],g=Fo(n,(v,S)=>!on(u,S));s.setAttribs(t,g)},mE=(e,t)=>{if(Ni(e).toLowerCase()===t.tagName.toLowerCase()){const s=w1(e);u$(e,t,s)}},eF=(e,t,n,s,i=!0,c,u)=>{const g=e.dom,v=e.schema,S=Ni(e),O=n?n.nodeName.toUpperCase():"";let M=t;const I=v.getTextInlineElements();let j;c||O==="TABLE"||O==="HR"?j=g.create(c||S,u||{}):j=n.cloneNode(!1);let J=j;if(!i)g.setAttrib(j,"style",null),g.setAttrib(j,"class",null);else do if(I[M.nodeName]){if(ud(M)||md(M))continue;const G=M.cloneNode(!1);g.setAttrib(G,"id",""),j.hasChildNodes()?(G.appendChild(j.firstChild),j.appendChild(G)):(J=G,j.appendChild(G))}while((M=M.parentNode)&&M!==s);return mE(e,j),bI(J),j},m$=(e,t)=>e.dom.getParent(t,jh),f$=(e,t,n)=>{let s=t;for(;s&&s!==e&&hn(s.nextSibling);){const i=s.parentElement;if(!i||!n(i))return jh(i);s=i}return!1},p$=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Ni(e)&&e.dom.isEmpty(n)&&f$(e.getBody(),n,s=>Jt(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),g$=(e,t,n)=>{var s,i,c;const u=t(Ni(e)),g=m$(e,n);g&&(e.dom.insertAfter(u,g),e_(e,u),((c=(i=(s=n.parentElement)===null||s===void 0?void 0:s.childNodes)===null||i===void 0?void 0:i.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(n))},h$=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,b$=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},tF=(e,t)=>{const n=e==null?void 0:e.parentNode;return Ke(n)&&n.nodeName===t},oF=e=>Ke(e)&&/^(OL|UL|LI)$/.test(e.nodeName),xI=e=>Ke(e)&&/^(LI|DT|DD)$/.test(e.nodeName),x$=e=>oF(e)&&oF(e.parentNode),u7=e=>{const t=e.parentNode;return xI(t)?t:e},m7=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!Wt(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},nF=e=>ws(fr(gg(ue.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),v$=(e,t,n,s,i)=>{const c=e.dom,u=e.selection.getRng(),g=n.parentNode;if(n===e.getBody()||!g)return;x$(n)&&(i="LI");const v=xI(s)?nF(s):void 0;let S=xI(s)&&v?t(i,{style:nF(s)}):t(i);if(m7(n,s,!0)&&m7(n,s,!1))if(tF(n,"LI")){const O=u7(n);c.insertAfter(S,O),b$(n)?c.remove(O):c.remove(n)}else c.replace(S,n);else if(m7(n,s,!0))tF(n,"LI")?(c.insertAfter(S,u7(n)),S.appendChild(c.doc.createTextNode(" ")),S.appendChild(n)):g.insertBefore(S,n),c.remove(s);else if(m7(n,s,!1))c.insertAfter(S,u7(n)),c.remove(s);else{n=u7(n);const O=u.cloneRange();O.setStartAfter(s),O.setEndAfter(n);const M=O.extractContents();if(i==="LI"&&h$(M,"LI")){const I=_o(Xo(S.children,ue.fromDom),Ae(Xm("br")));S=M.firstChild,c.insertAfter(M,n),nt(I,j=>sm(ue.fromDom(S),j)),v&&S.setAttribute("style",v)}else c.insertAfter(M,n),c.insertAfter(S,n);c.remove(s)}e_(e,S)},y$=e=>{nt(Ua(ue.fromDom(e),xa),t=>{const n=t.dom;n.nodeValue=pl(n.data)})},w$=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},C$=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),vI=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,_$=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,yI=(e,t)=>Ke(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",k$=(e,t,n)=>{var s;const i=[];if(!n)return;let c=n;for(;c=c.firstChild;){if(e.isBlock(c))return;Wt(c)&&!t[c.nodeName.toLowerCase()]&&i.push(c)}let u=i.length;for(;u--;)c=i[u],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((s=c.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||C$(e,c))&&e.remove(c)},wI=(e,t,n)=>_t(t)?e?n===1&&t.data.charAt(n-1)===Vs?0:n:n===t.data.length-1&&t.data.charAt(n)===Vs?t.data.length:n:n,S$=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,wI(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,wI(!1,e.endContainer,e.endOffset)),t},E$=e=>{let t=e;do _t(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},A$=(e,t,n,s,i)=>{var c,u;const g=e.dom,v=(c=uE(g,s))!==null&&c!==void 0?c:g.getRoot();let S=g.getParent(s,g.isBlock);if(!S||!yI(g,S)){if(S=S||v,!S.hasChildNodes()){const j=g.create(t);return mE(e,j),S.appendChild(j),n.setStart(j,0),n.setEnd(j,0),j}let O=s;for(;O&&O.parentNode!==S;)O=O.parentNode;let M;for(;O&&!g.isBlock(O);)M=O,O=O.previousSibling;const I=(u=M==null?void 0:M.parentElement)===null||u===void 0?void 0:u.nodeName;if(M&&I&&e.schema.isValidChild(I,t.toLowerCase())){const j=M.parentNode,J=g.create(t);for(mE(e,J),j.insertBefore(J,M),O=M;O&&!g.isBlock(O);){const G=O.nextSibling;J.appendChild(O),O=G}n.setStart(s,i),n.setEnd(s,i)}}return s},T$=(e,t)=>{t.normalize();const n=t.lastChild;(!n||Wt(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},D$=(e,t)=>{const n=lN(e);return qo(t)?!1:Ue(n)?on(Dt.explode(n),t.nodeName.toLowerCase()):n},sF={insert:(e,t)=>{let n,s,i,c,u=!1;const g=e.dom,v=e.schema,S=v.getNonEmptyElements(),O=e.selection.getRng(),M=Ni(e),I=ue.fromDom(O.startContainer),j=Md(I,O.startOffset),J=j.exists(mt=>Dl(mt)&&!ti(mt)),G=O.collapsed&&J,se=(mt,Zt)=>eF(e,n,Et,dt,F_(e),mt,Zt),ge=mt=>{const Zt=wI(mt,n,s);if(_t(n)&&(mt?Zt>0:Zt<n.data.length))return!1;if((n.parentNode===Et||n===Et)&&u&&!mt||mt&&Wt(n)&&n===Et.firstChild)return!0;if(vI(n,"TABLE")||vI(n,"HR"))return _$(n,"BR")?!mt:u&&!mt||!u&&mt;const io=new Ys(n,Et);_t(n)&&(mt&&Zt===0?io.prev():!mt&&Zt===n.data.length&&io.next());let en;for(;en=io.current();){if(Wt(en)){if(!en.getAttribute("data-mce-bogus")){const sn=en.nodeName.toLowerCase();if(S[sn]&&sn!=="br")return!1}}else if(_t(en)&&!mp(en.data))return!1;mt?io.prev():io.next()}return!0},_e=()=>{let mt;return/^(H[1-6]|PRE|FIGURE)$/.test(i)&&Gt!=="HGROUP"?mt=se(M):mt=se(),D$(e,c)&&yI(g,c)&&g.isEmpty(Et,void 0,{includeZwsp:!0})?mt=g.split(c,Et):g.insertAfter(mt,Et),e_(e,mt),mt};Pu(g,O).each(mt=>{O.setStart(mt.startContainer,mt.startOffset),O.setEnd(mt.endContainer,mt.endOffset)}),n=O.startContainer,s=O.startOffset;const Be=!!(t&&t.shiftKey),$e=!!(t&&t.ctrlKey);Wt(n)&&n.hasChildNodes()&&!G&&(u=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,u&&_t(n)?s=n.data.length:s=0);const dt=uE(g,n);if(!dt||w$(e,n))return;Be||(n=A$(e,M,O,n,s));let Et=g.getParent(n,g.isBlock)||g.getRoot();c=Ke(Et==null?void 0:Et.parentNode)?g.getParent(Et.parentNode,g.isBlock):null,i=Et?Et.nodeName.toUpperCase():"";const Gt=c?c.nodeName.toUpperCase():"";if(Gt==="LI"&&!$e){const mt=c;Et=mt,c=mt.parentNode,i=Gt}if(Wt(c)&&p$(e,Be,Et))return g$(e,se,Et);if(/^(LI|DT|DD)$/.test(i)&&Wt(c)&&g.isEmpty(Et)){v$(e,se,c,Et,M);return}if(!G&&(Et===e.getBody()||!yI(g,Et)))return;const Qe=Et.parentNode;let qe;if(G)qe=se(M),j.fold(()=>{Zn(I,ue.fromDom(qe))},mt=>{ei(mt,ue.fromDom(qe))}),e.selection.setCursorLocation(qe,0);else if(_r(Et))qe=x1(Et),g.isEmpty(Et)&&bI(Et),mE(e,qe),e_(e,qe);else if(ge(!1))qe=_e();else if(ge(!0)&&Qe){const mt=Ye.fromRangeStart(O),Zt=jk(mt),io=ue.fromDom(Et),sn=Jg(io,mt,e.schema)?tT(io,mt,e.schema).bind(hs=>z.from(hs.getNode())):z.none();qe=Qe.insertBefore(se(),Et);const Vn=vI(Et,"HR")||Zt?qe:sn.getOr(Et);e_(e,Vn)}else{const mt=S$(O).cloneRange();mt.setEndAfter(Et);const Zt=mt.extractContents();y$(Zt),E$(Zt),qe=Zt.firstChild,g.insertAfter(Zt,Et),k$(g,S,qe),T$(g,Et),g.isEmpty(Et)&&bI(Et),qe.normalize(),g.isEmpty(qe)?(g.remove(qe),_e()):(mE(e,qe),e_(e,qe))}g.setAttrib(qe,"id",""),e.dispatch("NewBlock",{newBlock:qe})},fakeEventName:"insertParagraph"},O$=(e,t,n)=>{const s=new Ys(t,n);let i;const c=e.getNonEmptyElements();for(;i=s.next();)if(c[i.nodeName.toLowerCase()]||_t(i)&&i.length>0)return!0;return!1},rF=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),ib(e,s)},N$=(e,t)=>{const n=e.selection,s=e.dom,i=n.getRng();let c,u=!1;Pu(s,i).each(j=>{i.setStart(j.startContainer,j.startOffset),i.setEnd(j.endContainer,j.endOffset)});let g=i.startOffset,v=i.startContainer;if(Wt(v)&&v.hasChildNodes()){const j=g>v.childNodes.length-1;v=v.childNodes[Math.min(g,v.childNodes.length-1)]||v,j&&_t(v)?g=v.data.length:g=0}let S=s.getParent(v,s.isBlock);const O=S&&S.parentNode?s.getParent(S.parentNode,s.isBlock):null,M=O?O.nodeName.toUpperCase():"",I=!!(t&&t.ctrlKey);M==="LI"&&!I&&(S=O),_t(v)&&g>=v.data.length&&(O$(e.schema,v,S||s.getRoot())||(c=s.create("br"),i.insertNode(c),i.setStartAfter(c),i.setEndAfter(c),u=!0)),c=s.create("br"),oy(s,i,c),rF(e,c,u),e.undoManager.add()},R$=(e,t)=>{const n=ue.fromTag("br");ei(ue.fromDom(t),n),e.undoManager.add()},M$=(e,t)=>{P$(e.getBody(),t)||td(ue.fromDom(t),ue.fromTag("br"));const n=ue.fromTag("br");td(ue.fromDom(t),n),rF(e,n.dom,!1),e.undoManager.add()},B$=e=>or(e.getNode()),P$=(e,t)=>B$(Ye.after(t))?!0:gl(e,Ye.after(t)).map(n=>or(n.getNode())).getOr(!1),aF=e=>e&&e.nodeName==="A"&&"href"in e,I$=e=>e.fold(Ao,aF,aF,Ao),L$=e=>{const t=je(Fu,e),n=Ye.fromRangeStart(e.selection.getRng());return Pf(t,e.getBody(),n).filter(I$)},F$=(e,t)=>{t.fold(ko,je(R$,e),je(M$,e),ko)},iF={insert:(e,t)=>{const n=L$(e);n.isSome()?n.each(je(F$,e)):N$(e,t)},fakeEventName:"insertLineBreak"},lF=(e,t)=>hI(e).filter(n=>t.length>0&&Tl(ue.fromDom(n),t)).isSome(),z$=e=>lF(e,nA(e)),H$=e=>lF(e,sA(e)),Zu=ka.generate([{br:[]},{block:[]},{none:[]}]),V$=(e,t)=>H$(e),cF=e=>(t,n)=>d$(t)===e,dF=(e,t)=>(n,s)=>c$(n)===e.toUpperCase()===t,$$=e=>{const t=uE(e.dom,e.selection.getStart());return qo(t)},fE=e=>dF("pre",e),U$=()=>dF("summary",!0),f7=e=>(t,n)=>I_(t)===e,Z$=(e,t)=>z$(e),p7=(e,t)=>t,j$=e=>{const t=Ni(e),n=uE(e.dom,e.selection.getStart());return Ke(n)&&e.schema.isValidChild(n.nodeName,t)},W$=e=>{const t=e.selection.getRng(),n=ue.fromDom(t.startContainer),i=Md(n,t.startOffset).map(c=>Dl(c)&&!ti(c));return t.collapsed&&i.getOr(!0)},Hm=(e,t)=>(n,s)=>ws(e,(c,u)=>c&&u(n,s),!0)?z.some(t):z.none(),q$=(e,t)=>ES([Hm([V$],Zu.none()),Hm([fE(!0),$$],Zu.none()),Hm([U$()],Zu.br()),Hm([fE(!0),f7(!1),p7],Zu.br()),Hm([fE(!0),f7(!1)],Zu.block()),Hm([fE(!0),f7(!0),p7],Zu.block()),Hm([fE(!0),f7(!0)],Zu.br()),Hm([cF(!0),p7],Zu.br()),Hm([cF(!0)],Zu.block()),Hm([Z$],Zu.br()),Hm([p7],Zu.br()),Hm([j$],Zu.block()),Hm([W$],Zu.block())],[e,!!(t&&t.shiftKey)]).getOr(Zu.none()),g7=(e,t,n)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||ST(t),!(Ke(n)&&d7(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Ke(n)&&dE(t,e.fakeEventName)))},uF=(e,t)=>{if(e.mode.isReadOnly())return;const n=()=>g7(iF,e,t),s=()=>g7(sF,e,t),i=q$(e,t);switch(L_(e)){case"linebreak":i.fold(n,n,ko);break;case"block":i.fold(s,s,ko);break;case"invert":i.fold(s,n,ko);break;default:i.fold(n,s,ko);break}},mF=Jn(),G$=mF.os.isiOS()&&mF.browser.isSafari(),fF=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),Y1(e.undoManager),e.undoManager.transact(()=>{uF(e,t)}))},K$=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(_t(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return n.test(s)}else return!1},Y$=e=>{let t=z.none();const n=i=>{t=z.some(i.selection.getBookmark()),i.undoManager.add()},s=(i,c)=>{i.undoManager.undo(),t.fold(ko,u=>i.selection.moveToBookmark(u)),fF(i,c),t=z.none()};e.on("keydown",i=>{i.keyCode===qt.ENTER&&(G$&&K$(e.selection.getRng())?n(e):fF(e,i))}),e.on("keyup",i=>{i.keyCode===qt.ENTER&&t.each(()=>s(e,i))})},X$=(e,t,n)=>{const s=Vo.os.isMacOS()||Vo.os.isiOS();bd([{keyCode:qt.END,action:So(f2,e,!0)},{keyCode:qt.HOME,action:So(f2,e,!1)},...s?[]:[{keyCode:qt.HOME,action:So(Uu,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:qt.END,action:So(Uu,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:qt.END,action:So(QC,e,!0)},{keyCode:qt.HOME,action:So(QC,e,!1)},{keyCode:qt.END,action:So(l2,e,!0,t)},{keyCode:qt.HOME,action:So(l2,e,!1,t)}],n).each(i=>{n.preventDefault()})},Q$=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||X$(e,t,n)})},J$=e=>{e.on("input",t=>{t.isComposing||cT(e)})},eU=Jn(),tU=(e,t,n)=>{bd([{keyCode:qt.PAGE_UP,action:So(l2,e,!1,t)},{keyCode:qt.PAGE_DOWN,action:So(l2,e,!0,t)}],n)},pF=e=>e.stopImmediatePropagation(),gF=e=>e.keyCode===qt.PAGE_UP||e.keyCode===qt.PAGE_DOWN,hF=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",pF,!0):!n&&e.get()&&t.off("NodeChange",pF),e.set(n)},oU=(e,t)=>{if(eU.os.isMacOS())return;const n=Wo(!1);e.on("keydown",s=>{gF(s)&&hF(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||tU(e,t,s),gF(s)&&n.get()&&(hF(n,e,!1),e.nodeChanged())})},bF=(e,t)=>e===t||e.contains(t),nU=(e,t)=>!bF(e.getBody(),t.startContainer)||!bF(e.getBody(),t.endContainer)?!0:Xy(e.dom,t),sU=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Kn(t.getTargetRanges(),n=>!nU(e,n)))&&t.preventDefault()})},xF=(e,t)=>{const n=t.container(),s=t.offset();return _t(n)?(n.insertData(s,e),z.some(Ye(n,s+e.length))):_y(t).map(i=>{const c=ue.fromText(e);return t.isAtEnd()?td(i,c):ei(i,c),Ye(c.dom,e.length)})},vF=je(xF,Ls),yF=je(xF," "),rU=(e,t,n)=>e4(e,t,n)?vF(t):yF(t),aU=e=>t=>t.fold(n=>dc(e.dom,Ye.before(n)),n=>hl(n),n=>jd(n),n=>gl(e.dom,Ye.after(n))),iU=(e,t,n)=>s=>e4(e,s,n)?vF(t):yF(t),wF=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},lU=(e,t)=>e.isEditable(e.getParent(t,"summary")),cU=e=>{const t=Ye.fromRangeStart(e.selection.getRng()),n=ue.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=je(Fu,e),i=Ye.fromRangeStart(e.selection.getRng());return Pf(s,e.getBody(),i).bind(aU(n)).map(c=>()=>iU(n,t,e.schema)(c).each(wF(e)))}else return z.none()},dU=e=>{const t=()=>{const n=ue.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=Ye.fromRangeStart(e.selection.getRng());rU(n,s,e.schema).each(wF(e))};return rr(Vo.browser.isFirefox()&&e.selection.isEditable()&&lU(e.dom,e.selection.getRng().startContainer),t)},uU=(e,t)=>{qb([{keyCode:qt.SPACEBAR,action:So(cU,e)},{keyCode:qt.SPACEBAR,action:So(dU,e)}],t).each(n=>{t.preventDefault(),d7(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),dE(e,"insertText",{data:" "}))})},mU=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||uU(e,t)})},fU=e=>NN(e)?[{keyCode:qt.TAB,action:So(CL,e,!0)},{keyCode:qt.TAB,shiftKey:!0,action:So(CL,e,!1)}]:[],pU=(e,t)=>{bd([...fU(e)],t).each(n=>{t.preventDefault()})},gU=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||pU(e,t)})},hU=e=>{if(e.addShortcut("Meta+P","","mcePrint"),jV(e),vl(e))return Wo(null);{const t=qC(e);return sU(e),u2(e),WH(e,t),i$(e,t),Y$(e),mU(e),J$(e),gU(e),Q$(e,t),oU(e,t),t}};class bU{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",i=>{const c=t.selection.getRng(),u={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(i.type==="nodechange"||!Wy(u,n))&&t.dispatch("SelectionChange"),n=u}),t.on("contextmenu",()=>{R1(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const i=t.selection.getStart(!0);i&&Ry(t)&&!s.isSameElementPath(i)&&t.dom.isChildOf(i,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",i=>{!i.isDefaultPrevented()&&Ry(t)&&(t.selection.getNode().nodeName==="IMG"?No.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor,s=n.selection;let i;if(n.initialized&&s&&!dd(n)&&!Xx(n)){const c=n.getBody();i=s.getStart(!0)||c,(i.ownerDocument!==n.getDoc()||!n.dom.isChildOf(i,c))&&(i=c);const u=[];n.dom.getParent(i,g=>g===c?!0:(u.push(g),!1)),n.dispatch("NodeChange",{...t,element:i,parents:u})}}isSameElementPath(t){let n;const s=this.editor,i=tl(s.dom.getParents(t,Go,s.getBody()));if(i.length===this.lastPath.length){for(n=i.length;n>=0&&i[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=i,!0}return this.lastPath=i,!1}}const CF="x-tinymce/html",h7=St(CF),CI="<!-- "+CF+" -->",xU=e=>CI+e,vU=e=>e.replace(CI,""),_F=e=>e.indexOf(CI)!==-1,yU=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),wU=(e,t)=>{let n="<"+e;const s=fr(t,(i,c)=>c+'="'+fm.encodeAllRaw(i)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},CU=(e,t,n)=>{const s=e.split(/\n\n/),i=wU(t,n),c="</"+t+">",u=Xo(s,v=>v.split(/\n/).join("<br />")),g=v=>i+v+c;return u.length===1?u[0]:Xo(u,g).join("")},kF="%MCEPASTEBIN%",_U=(e,t)=>{const{dom:n,selection:s}=e,i=e.getBody();t.set(s.getRng());const c=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},kF);Vo.browser.isFirefox()&&n.setStyle(c,"left",n.getStyle(i,"direction",!0)==="rtl"?65535:-65535),n.bind(c,"beforedeactivate focusin focusout",u=>{u.stopPropagation()}),c.focus(),s.select(c,!0)},kU=(e,t)=>{const n=e.dom;if(_I(e)){let s;const i=t.get();for(;s=_I(e);)n.remove(s),n.unbind(s);i&&e.selection.setRng(i)}t.set(null)},_I=e=>e.dom.get("mcepastebin"),SU=e=>Ke(e)&&e.id==="mcepastebin",EU=e=>{const t=e.dom,n=(u,g)=>{u.appendChild(g),t.remove(g,!0)},[s,...i]=_o(e.getBody().childNodes,SU);nt(i,u=>{n(s,u)});const c=t.select("div[id=mcepastebin]",s);for(let u=c.length-1;u>=0;u--){const g=t.create("div");s.insertBefore(g,c[u]),n(g,c[u])}return s?s.innerHTML:""},SF=e=>e===kF,AU=e=>{const t=Wo(null);return{create:()=>_U(e,t),remove:()=>kU(e,t),getEl:()=>_I(e),getHtml:()=>EU(e),getLastRng:t.get}},EF=(e,t)=>(Dt.each(t,n=>{Pe(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),TU=e=>{const t=gf(),n=K1({},t);let s="";const i=t.getVoidElements(),c=Dt.makeMap("script noscript style textarea video audio iframe object"," "),u=t.getBlockElements(),g=v=>{const S=v.name,O=v;if(S==="br"){s+=`
`;return}if(S!=="wbr"){if(i[S]&&(s+=" "),c[S]){s+=" ";return}if(v.type===3&&(s+=v.value),!(v.name in t.getVoidElements())){let M=v.firstChild;if(M)do g(M);while(M=M.next)}u[S]&&O.next&&(s+=`
`,S==="p"&&(s+=`
`))}};return e=EF(e,[/<!\[[^\]]+\]>/g]),g(n.parse(e)),s},AF=e=>(e=EF(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,i)=>!s&&!i?" ":Ls],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),DU=e=>{let t=0;return()=>e+t++},OU=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Dt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},NU=(e,t)=>{const n=K1({sanitize:_A(e),sandbox_iframes:zt(e),sandbox_iframes_exclusions:Ru(e),convert_unsafe_embeds:BN(e)},e.schema);n.addNodeFilter("meta",i=>{Dt.each(i,c=>{c.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Kg({validate:!0},e.schema).serialize(s)},TF=(e,t)=>({content:e,cancelled:t}),RU=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),i=QE(e,s,n);return TF(i.node.innerHTML,i.isDefaultPrevented())},MU=(e,t,n)=>{const s=nN(e,t,n),i=NU(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?RU(e,i,n):TF(i,s.isDefaultPrevented())},BU=(e,t,n)=>MU(e,t,n),kI=(e,t)=>(e.insertContent(t,{merge:k1(e),paste:!0}),!0),SI=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),PU=(e,t)=>SI(t)&&Kn(AA(e),n=>Yu(t.toLowerCase(),`.${n.toLowerCase()}`)),IU=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),LU=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),FU=(e,t,n)=>!e.selection.isCollapsed()&&SI(t)?LU(e,t,n):!1,zU=(e,t,n)=>PU(e,t)?IU(e,t,n):!1,HU=(e,t)=>{Dt.each([FU,zU,kI],n=>!n(e,t,kI))},VU=(e,t,n)=>{n||!EN(e)?kI(e,t):HU(e,t)},$U=DU("mceclip"),UU=e=>{const t=lI();return mL(t,e),iI(t),t},DF=(e,t,n,s,i)=>{const c=BU(e,t,n);if(!c.cancelled){const u=c.content,g=()=>VU(e,u,s);i?d7(e,"insertFromPaste",{dataTransfer:UU(u)}).isDefaultPrevented()||(g(),dE(e,"insertFromPaste")):g()}},b7=(e,t,n,s)=>{const i=n||_F(t);DF(e,vU(t),i,!1,s)},EI=(e,t,n)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),i=Vh(s,xA(e)),c=CU(i,Ni(e),w1(e));DF(e,c,!1,!0,n)},OF=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},Gb=(e,t)=>t in e&&e[t].length>0,NF=e=>Gb(e,"text/html")||Gb(e,"text/plain"),ZU=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ke(n)?e.dom.encode(n[1]):void 0},jU=(e,t,n,s)=>{const i=$U(),c=cy(e)&&Ke(n.name),u=c?ZU(e,n.name):i,g=c?n.name:void 0,v=t.create(i,n,s,u,g);return t.add(v),v},WU=(e,t)=>{q4(t.uri).each(({data:n,type:s,base64Encoded:i})=>{const c=i?n:btoa(n),u=t.file,g=e.editorUpload.blobCache,v=g.getByData(c,s),S=v??jU(e,g,u,c);b7(e,`<img src="${S.blobUri()}">`,!1,!0)})},qU=e=>e.type==="paste",GU=e=>Promise.all(Xo(e,t=>I6(t).then(n=>({file:t,uri:n})))),KU=e=>{const t=AA(e);return n=>ar(n.type,"image/")&&Kn(t,s=>OU(s)===n.type)},YU=(e,t)=>{const n=t.items?na(xs(t.items),i=>i.kind==="file"?[i.getAsFile()]:[]):[],s=t.files?xs(t.files):[];return _o(n.length>0?n:s,KU(e))},RF=(e,t,n)=>{const s=qU(t)?t.clipboardData:t.dataTransfer;if(Yx(e)&&s){const i=YU(e,s);if(i.length>0)return t.preventDefault(),GU(i).then(c=>{n&&e.selection.setRng(n),nt(c,u=>{WU(e,u)})}),!0}return!1},XU=e=>{var t,n;return Vo.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},QU=e=>qt.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,AI=(e,t,n,s,i)=>{let c=AF(n);const u=Gb(t,h7())||_F(n),g=!u&&yU(c),v=SI(c);(SF(c)||!c.length||g&&!v)&&(s=!0),(s||v)&&(Gb(t,"text/plain")&&g?c=t["text/plain"]:c=TU(c)),!SF(c)&&(s?EI(e,c,i):b7(e,c,u,i))},JU=(e,t,n)=>{let s;const i=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{QU(c)&&!c.isDefaultPrevented()&&(s=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||XU(c))return;const u=n.get()==="text"||s;s=!1;const g=OF(c.clipboardData);!NF(g)&&RF(e,c,i())||(Gb(g,"text/html")?(c.preventDefault(),AI(e,g,g["text/html"],u,!0)):Gb(g,"text/plain")&&Gb(g,"text/uri-list")?(c.preventDefault(),AI(e,g,g["text/plain"],u,!0)):(t.create(),No.setEditorTimeout(e,()=>{const v=t.getHtml();t.remove(),AI(e,g,v,u,!1)},0)))})},eZ=e=>{const t=i=>ar(i,"webkit-fake-url"),n=i=>ar(i,"data:"),s=i=>{var c;return((c=i.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(i,c,u)=>{if(!Yx(e)&&s(u))for(const g of i){const v=g.attr("src");Ue(v)&&!g.attr("data-mce-object")&&v!==Vo.transparentSrc&&(t(v)||!vA(e)&&n(v))&&g.remove()}})},tZ=(e,t,n)=>{JU(e,t,n),eZ(e)},oZ=(e,t)=>{t.get()==="text"?(t.set("html"),iy(e,!1)):(t.set("text"),iy(e,!0)),e.focus()},nZ=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{oZ(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&b7(e,s.html,s.internal,!1),s.text&&EI(e,s.text,!1)})},sZ=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(h7(),t),!0}catch{return!1}else return!1},MF=(e,t,n,s)=>{sZ(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},BF=e=>(t,n)=>{const{dom:s,selection:i}=e,c=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),u=s.create("div",{contenteditable:"true"},t);s.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(u),s.add(e.getBody(),c);const g=i.getRng();u.focus();const v=s.createRng();v.selectNodeContents(u),i.setRng(v),No.setEditorTimeout(e,()=>{i.setRng(g),s.remove(c),n()},0)},PF=e=>({html:xU(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),rZ=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),IF=e=>!e.selection.isCollapsed()||rZ(e),aZ=e=>t=>{!t.isDefaultPrevented()&&IF(e)&&e.selection.isEditable()&&MF(t,PF(e),BF(e),()=>{if(Vo.browser.isChromium()||Vo.browser.isFirefox()){const n=e.selection.getRng();No.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},iZ=e=>t=>{!t.isDefaultPrevented()&&IF(e)&&MF(t,PF(e),BF(e),ko)},lZ=e=>{e.on("cut",aZ(e)),e.on("copy",iZ(e))},LF=(e,t)=>{var n,s;return Fp.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},cZ=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},FF=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},dZ=e=>Kn(e.files,t=>/^image\//.test(t.type)),uZ=(e,t,n,s)=>{const i=e.getParent(n,u=>wu(t,u));if(!hn(e.getParent(n,"summary")))return!0;if(i&&Jt(s,"text/html")){const u=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!hn(u.querySelector(i.nodeName.toLowerCase()))}else return!1},mZ=e=>{e.on("input",t=>{const n=s=>hn(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=_o(e.dom.select("details"),n);nt(s,i=>{or(i.firstChild)&&i.firstChild.remove();const c=e.dom.create("summary");c.appendChild(vm().dom),i.prepend(c)})}})},fZ=(e,t)=>{hA(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Yx(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&dZ(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const s=LF(e,n);if(qo(s))return;const i=OF(n.dataTransfer),c=Gb(i,h7());if((!NF(i)||cZ(i))&&RF(e,n,s))return;const u=i[h7()],g=u||i["text/html"]||i["text/plain"],v=uZ(e.dom,e.schema,s.startContainer,i),S=t.get();S&&!v||g&&(n.preventDefault(),No.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(u||S&&v)&&e.execCommand("Delete"),FF(e,s);const O=AF(g);i["text/html"]?b7(e,O,c,!0):EI(e,O,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Yx(e)&&!t.get()&&(n.preventDefault(),FF(e,LF(e,n))),n.type==="dragend"&&t.set(!1)}),mZ(e)},pZ=e=>{const t=i=>c=>{i(e,c)},n=wN(e);Xt(n)&&e.on("PastePreProcess",t(n));const s=CN(e);Xt(s)&&e.on("PastePostProcess",t(s))},gZ=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},hZ=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,zF=e=>Dt.trim(e).replace(hZ,cc).toLowerCase(),bZ=(e,t,n)=>{const s=kN(e);if(n||s==="all"||!SN(e))return t;const i=s?s.split(/[, ]/):[];if(i&&s!=="none"){const c=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(g,v,S,O)=>{const M=c.parseStyle(c.decode(S)),I={};for(let J=0;J<i.length;J++){const G=M[i[J]];let se=G,ge=c.getStyle(u,i[J],!0);/color/.test(i[J])&&(se=zF(se),ge=zF(ge)),ge!==se&&(I[i[J]]=G)}const j=c.serializeStyle(I,"span");return j?v+' style="'+j+'"'+O:v+O})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,u,g,v)=>u+' style="'+g+'"'+v),t},xZ=e=>{(Vo.browser.isChromium()||Vo.browser.isSafari())&&gZ(e,bZ)},vZ=e=>{const t=Wo(!1),n=Wo(bA(e)?"text":"html"),s=AU(e);xZ(e),nZ(e,n),pZ(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{lZ(e),fZ(e,t),tZ(e,s,n)})},yZ=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},wZ=e=>{e.parser.addNodeFilter("details",t=>{const n=RN(e);nt(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=MN(e);nt(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})})},CZ=e=>{yZ(e),wZ(e)},_Z=or,HF=_t,kZ=e=>Ts(e.dom),SZ=e=>ic(e.dom),VF=e=>t=>yn(ue.fromDom(e),t),EZ=(e,t,n)=>Ur(ue.fromDom(e),s=>SZ(s)||n.isBlock(Ro(s)),VF(t)).getOr(ue.fromDom(t)).dom,$F=(e,t)=>Ur(ue.fromDom(e),kZ,VF(t)),UF=(e,t,n)=>{const s=new Ys(e,t),i=n?s.next.bind(s):s.prev.bind(s);let c=e;for(let u=n?e:i();u&&!_Z(u);u=i())ie(u)&&(c=u);return c},AZ=(e,t,n)=>{const i=Ye.fromRangeStart(e).getNode(),c=EZ(i,t,n),u=UF(i,c,!1),g=UF(i,c,!0),v=document.createRange();return $F(u,c).fold(()=>{HF(u)?v.setStart(u,0):v.setStartBefore(u)},S=>v.setStartBefore(S.dom)),$F(g,c).fold(()=>{HF(g)?v.setEnd(g,g.data.length):v.setEndAfter(g)},S=>v.setEndAfter(S.dom)),v},TZ=e=>{const t=AZ(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Dv(t))},DZ=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),TZ(e))})};var t_;(function(e){e.Before="before",e.After="after"})(t_||(t_={}));const OZ=(e,t)=>Math.abs(e.left-t),NZ=(e,t)=>Math.abs(e.right-t),RZ=(e,t)=>e>=t.top&&e<=t.bottom,MZ=(e,t)=>e.top<t.bottom&&e.bottom>t.top,BZ=(e,t)=>{const n=J2(e,t)/Math.min(e.height,t.height);return MZ(e,t)&&n>.5},PZ=(e,t)=>{const n=_o(e,s=>RZ(t,s));return z0(n).fold(()=>[[],e],s=>{const{pass:i,fail:c}=xr(e,u=>BZ(u,s));return[i,c]})},IZ=(e,t)=>({node:e.node,position:OZ(e,t)<NZ(e,t)?t_.Before:t_.After}),LZ=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),TI=(e,t,n,s)=>{const i=M=>ie(M.node)?z.some(M):Wt(M.node)?TI(xs(M.node.childNodes),t,n,!1):z.none(),c=(M,I,j)=>i(I).filter(J=>Math.abs(j(M,t,n)-j(J,t,n))<2&&_t(J.node)),u=(M,I)=>{const j=ki(M,(J,G)=>I(J,t,n)-I(G,t,n));return Lr(j,i).map(J=>s&&!_t(J.node)&&j.length>1?c(J,j[1],I).getOr(J):J)},[g,v]=PZ(zS(e),n),{pass:S,fail:O}=xr(v,M=>M.top<n);return u(g,LZ).orThunk(()=>u(O,jx)).orThunk(()=>u(S,jx))},FZ=(e,t,n,s)=>{const i=(c,u)=>{const g=S=>Wt(S)&&S.classList.contains("mce-drag-container"),v=_o(c.dom.childNodes,Ae(g));return u.fold(()=>TI(v,n,s,!0),S=>{const O=_o(v,M=>M!==S.dom);return TI(O,n,s,!0)}).orThunk(()=>(yn(c,e)?z.none():Qm(c)).bind(O=>i(O,z.some(c))))};return i(t,z.none())},zZ=(e,t,n)=>{const s=ue.fromDom(e),i=uu(s),u=ue.fromPoint(i,t,n).filter(g=>Pi(s,g)).getOr(s);return FZ(s,u,t,n)},ZF=(e,t,n)=>zZ(e,t,n).filter(s=>q0(s.node)).map(s=>IZ(s,t)),jF=e=>{var t,n;const s=e.getBoundingClientRect(),i=e.ownerDocument,c=i.documentElement,u=i.defaultView;return{top:s.top+((t=u==null?void 0:u.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:s.left+((n=u==null?void 0:u.scrollX)!==null&&n!==void 0?n:0)-c.clientLeft}},HZ=e=>e.inline?jF(e.getBody()):{left:0,top:0},VZ=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},$Z=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:i},UZ=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=jF(e.getContentAreaContainer()),s=$Z(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},ZZ=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),jZ=(e,t)=>ZZ(HZ(e),VZ(e),UZ(e,t)),WF=e=>({target:e,srcElement:e}),WZ=(e,t,n,s)=>({...t,dataTransfer:s,type:e,...WF(n)}),qZ=(e,t,n)=>{const s=ht("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:ko,stopImmediatePropagation:ko,stopPropagation:ko,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:n,...WF(t)}},GZ=(e,t)=>{const n=bH(e);return t==="dragstart"?(iL(n),cL(n)):t==="drop"?(lH(n),iI(n)):(cH(n),fH(n)),n},KZ=(e,t,n,s)=>{const i=GZ(n,e);return bn(s)?qZ(e,t,i):WZ(e,s,t,i)},qF=32,YZ=100,x7=8,v7=16,GF=Ts,XZ=h(GF,ic),QZ=(e,t,n)=>GF(n)&&n!==t&&e.isEditable(n.parentElement),JZ=(e,t,n)=>qo(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),ej=(e,t,n,s)=>{const i=e.dom,c=t.cloneNode(!0);i.setStyles(c,{width:n,height:s}),i.setAttrib(c,"data-mce-selected",null);const u=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(u,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),i.setStyles(c,{margin:0,boxSizing:"border-box"}),u.appendChild(c),u},tj=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},y7=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},KF=y7("left",-32),YF=y7("left",qF),XF=y7("top",-32),QF=y7("top",qF),oj=(e,t,n,s,i,c,u,g,v,S,O,M)=>{let I=0,j=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(I=t.pageX+n-i),t.pageY+s>c&&(j=t.pageY+s-c),e.style.width=n-I+"px",e.style.height=s-j+"px";const J=v.clientHeight,G=v.clientWidth,se=u+v.getBoundingClientRect().top,ge=g+v.getBoundingClientRect().left;O.on(_e=>{_e.intervalId.clear(),_e.dragging&&M&&(u+x7>=J?_e.intervalId.set(QF(S)):u-x7<=0?_e.intervalId.set(XF(S)):g+x7>=G?_e.intervalId.set(YF(S)):g-x7<=0?_e.intervalId.set(KF(S)):se+v7>=window.innerHeight?_e.intervalId.set(QF(window)):se-v7<=0?_e.intervalId.set(XF(window)):ge+v7>=window.innerWidth?_e.intervalId.set(YF(window)):ge-v7<=0&&_e.intervalId.set(KF(window)))})},JF=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},nj=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);JF(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&Au(ue.fromDom(n))},sj=e=>e.button===0,rj=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),aj=(e,t)=>n=>{if(sj(n)){const s=js(t.dom.getParents(n.target),XZ).getOr(null);if(Ke(s)&&QZ(t.dom,t.getBody(),s)){const i=t.dom.getPos(s),c=t.getBody(),u=t.getDoc().documentElement;e.set({element:s,dataTransfer:lI(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?c.scrollWidth:u.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:u.offsetHeight)-2,relX:n.pageX-i.x,relY:n.pageY-i.y,width:s.offsetWidth,height:s.offsetHeight,ghost:ej(t,s,s.offsetWidth,s.offsetHeight),intervalId:Ft(YZ)})}}},ij=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),ZF(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),s=>{const i=e._selectionOverrides.showCaret(1,s.node,s.position===t_.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(t,n)})},pE=(e,t,n,s,i)=>{t==="dragstart"&&mL(s,e.dom.getOuterHTML(n));const c=KZ(t,n,s,i);return e.dispatch(t,c)},lj=(e,t)=>{const n=Xa((i,c)=>ij(t,i,c),0);t.on("remove",n.cancel);const s=e;return i=>e.on(c=>{const u=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&u>10){const g=pE(t,"dragstart",c.element,c.dataTransfer,i);if(Ke(g.dataTransfer)&&(c.dataTransfer=g.dataTransfer),g.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const g=i.currentTarget===t.getDoc().documentElement,v=rj(c,jZ(t,i));tj(c.ghost,t.getBody()),oj(c.ghost,v,c.width,c.height,c.maxX,c.maxY,i.clientY,i.clientX,t.getContentAreaContainer(),t.getWin(),s,g),n.throttle(i.clientX,i.clientY)}})},cj=e=>{const t=e.getSel();if(Ke(t)){const s=t.getRangeAt(0).startContainer;return _t(s)?s.parentNode:s}else return null},dj=(e,t)=>n=>{e.on(s=>{var i;if(s.intervalId.clear(),s.dragging){if(JZ(t,cj(t.selection),s.element)){const c=(i=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&i!==void 0?i:t.getBody();pE(t,"drop",c,s.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{nj(t.dom,s.element),xH(s.dataTransfer).each(g=>t.insertContent(g)),t._selectionOverrides.hideFakeCaret()})}pE(t,"dragend",t.getBody(),s.dataTransfer,n)}}),t9(e)},e9=(e,t,n)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&n.fold(()=>pE(t,"dragend",s.element,s.dataTransfer),i=>pE(t,"dragend",s.element,s.dataTransfer,i))}),t9(e)},uj=(e,t)=>n=>e9(e,t,z.some(n)),t9=e=>{e.on(t=>{t.intervalId.clear(),JF(t.ghost)}),e.clear()},mj=e=>{const t=nl(),n=Ds.DOM,s=document,i=aj(t,e),c=lj(t,e),u=dj(t,e),g=uj(t,e);e.on("mousedown",i),e.on("mousemove",c),e.on("mouseup",u),n.bind(s,"mousemove",c),n.bind(s,"mouseup",g),e.on("remove",()=>{n.unbind(s,"mousemove",c),n.unbind(s,"mouseup",g)}),e.on("keydown",v=>{v.keyCode===qt.ESC&&e9(t,e,z.none())})},fj=e=>{const t=i=>{if(!i.isDefaultPrevented()){const c=i.dataTransfer;c&&(on(c.types,"Files")||c.files.length>0)&&(i.preventDefault(),i.type==="drop"&&o2(e,"Dropped file type is not supported"))}},n=i=>{Gr(e,i.target)&&t(i)},s=()=>{const i=Ds.DOM,c=e.dom,u=document,g=e.inline?e.getBody():e.getDoc(),v=["drop","dragover"];nt(v,S=>{i.bind(u,S,n),c.bind(g,S,t)}),e.on("remove",()=>{nt(v,S=>{i.unbind(u,S,n),c.unbind(g,S,t)})})};e.on("init",()=>{No.setEditorTimeout(e,s,0)})},pj=e=>{mj(e),mA(e)&&fj(e)},gj=e=>{const t=Xa(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=AC(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},hj=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(lc(n)){const s=Vp(e.getBody(),n),i=Ts(s)?s:n;e.selection.getNode()!==i&&Ib(e,i).each(c=>e.selection.setRng(c))}})})},gE=Ts,o9=(e,t)=>Vp(e.getBody(),t),bj=e=>{const t=e.selection,n=e.dom,s=e.getBody(),i=FN(e,s,n.isBlock,()=>Tf(e)),c="sel-"+n.uniqueId(),u="data-mce-selected";let g;const v=Gt=>Ke(Gt)&&n.hasClass(Gt,"mce-offscreen-selection"),S=Gt=>Gt!==s&&(gE(Gt)||lc(Gt))&&n.isChildOf(Gt,s)&&n.isEditable(Gt.parentNode),O=Gt=>{Gt&&t.setRng(Gt)},M=(Gt,Qe,qe,mt=!0)=>e.dispatch("ShowCaret",{target:Qe,direction:Gt,before:qe}).isDefaultPrevented()?null:(mt&&t.scrollIntoView(Qe,Gt===-1),i.show(qe,Qe)),I=Gt=>{Gt.hasAttribute("data-mce-caret")&&(x1(Gt),t.scrollIntoView(Gt))},j=()=>{e.on("click",Qe=>{n.isEditable(Qe.target)||(Qe.preventDefault(),e.focus())}),e.on("blur NewBlock",$e),e.on("ResizeWindow FullscreenStateChanged",i.reposition),e.on("tap",Qe=>{const qe=Qe.target,mt=o9(e,qe);gE(mt)?(Qe.preventDefault(),Ib(e,mt).each(Be)):S(qe)&&Ib(e,qe).each(Be)},!0),e.on("mousedown",Qe=>{const qe=Qe.target;if(qe!==s&&qe.nodeName!=="HTML"&&!n.isChildOf(qe,s)||!rP(e,Qe.clientX,Qe.clientY))return;$e(),Et();const mt=o9(e,qe);gE(mt)?(Qe.preventDefault(),Ib(e,mt).each(Be)):ZF(s,Qe.clientX,Qe.clientY).each(Zt=>{Qe.preventDefault();const io=M(1,Zt.node,Zt.position===t_.Before,!1);O(io),pi(mt)?mt.focus():e.getBody().focus()})}),e.on("keypress",Qe=>{qt.modifierPressed(Qe)||gE(t.getNode())&&Qe.preventDefault()}),e.on("GetSelectionRange",Qe=>{let qe=Qe.range;if(g){if(!g.parentNode){g=null;return}qe=qe.cloneRange(),qe.selectNode(g),Qe.range=qe}}),e.on("focusin",Qe=>{if(i.isShowing()&&e.getBody().contains(Qe.target)&&Qe.target!==e.getBody()&&!e.dom.isEditable(Qe.target.parentNode)){i.hide(),Qe.target.contains(e.selection.getNode())||(e.selection.select(Qe.target,!0),e.selection.collapse(!0));const qe=Be(e.selection.getRng(),!0);qe&&e.selection.setRng(qe)}}),e.on("SetSelectionRange",Qe=>{Qe.range=se(Qe.range);const qe=Be(Qe.range,Qe.forward);qe&&(Qe.range=qe)});const Gt=Qe=>Wt(Qe)&&Qe.id==="mcepastebin";e.on("AfterSetSelectionRange",Qe=>{const qe=Qe.range,mt=qe.startContainer.parentElement;!G(qe)&&!Gt(mt)&&Et(),v(mt)||$e()}),pj(e),gj(e),hj(e)},J=Gt=>zl(Gt)||Ap(Gt)||Fg(Gt),G=Gt=>J(Gt.startContainer)||J(Gt.endContainer),se=Gt=>{const Qe=e.schema.getVoidElements(),qe=n.createRng(),mt=Gt.startContainer,Zt=Gt.startOffset,io=Gt.endContainer,en=Gt.endOffset;return Jt(Qe,mt.nodeName.toLowerCase())?Zt===0?qe.setStartBefore(mt):qe.setStartAfter(mt):qe.setStart(mt,Zt),Jt(Qe,io.nodeName.toLowerCase())?en===0?qe.setEndBefore(io):qe.setEndAfter(io):qe.setEnd(io,en),qe},ge=(Gt,Qe)=>{const qe=ue.fromDom(e.getBody()),mt=e.getDoc(),Zt=Cr(qe,"#"+c).getOrThunk(()=>{const sn=ue.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',mt);return $r(sn,"id",c),Zn(qe,sn),sn}),io=n.createRng();fu(Zt),oc(Zt,[ue.fromText(Ls,mt),ue.fromDom(Qe),ue.fromText(Ls,mt)]),io.setStart(Zt.dom.firstChild,1),io.setEnd(Zt.dom.lastChild,0),pu(Zt,{top:n.getPos(Gt,e.getBody()).y+"px"}),np(Zt);const en=t.getSel();return en&&(en.removeAllRanges(),en.addRange(io)),io},_e=Gt=>{const Qe=Gt.cloneNode(!0),qe=e.dispatch("ObjectSelected",{target:Gt,targetClone:Qe});if(qe.isDefaultPrevented())return null;const mt=ge(Gt,qe.targetClone),Zt=ue.fromDom(Gt);return nt(mn(ue.fromDom(e.getBody()),`*[${u}]`),io=>{yn(Zt,io)||er(io,u)}),n.getAttrib(Gt,u)||Gt.setAttribute(u,"1"),g=Gt,Et(),mt},Be=(Gt,Qe)=>{if(!Gt)return null;if(Gt.collapsed){if(!G(Gt)){const io=Qe?1:-1,en=Jx(io,s,Gt),sn=en.getNode(!Qe);if(Ke(sn)){if(q0(sn))return M(io,sn,Qe?!en.isAtEnd():!1,!1);if(ym(sn)&&Ts(sn.nextSibling)){const hs=n.createRng();return hs.setStart(sn,0),hs.setEnd(sn,0),hs}}const Vn=en.getNode(Qe);if(Ke(Vn)){if(q0(Vn))return M(io,Vn,Qe?!1:!en.isAtEnd(),!1);if(ym(Vn)&&Ts(Vn.previousSibling)){const hs=n.createRng();return hs.setStart(Vn,1),hs.setEnd(Vn,1),hs}}}return null}let qe=Gt.startContainer,mt=Gt.startOffset;const Zt=Gt.endOffset;if(_t(qe)&&mt===0&&gE(qe.parentNode)&&(qe=qe.parentNode,mt=n.nodeIndex(qe),qe=qe.parentNode),!Wt(qe))return null;if(Zt===mt+1&&qe===Gt.endContainer){const io=qe.childNodes[mt];if(S(io))return _e(io)}return null},$e=()=>{g&&g.removeAttribute(u),Cr(ue.fromDom(e.getBody()),"#"+c).each(k),g=null},dt=()=>{i.destroy(),g=null},Et=()=>{i.hide()};return vl(e)||j(),{showCaret:M,showBlockCaretContainer:I,hideFakeCaret:Et,destroy:dt}},xj=(e,t)=>{let n=t;for(let s=e.previousSibling;_t(s);s=s.previousSibling)n+=s.data.length;return n},n9=(e,t,n,s,i)=>{if(_t(n)&&(s<0||s>n.data.length))return[];const c=i&&_t(n)?[xj(n,s)]:[s];let u=n;for(;u!==t&&u.parentNode;)c.push(e.nodeIndex(u,i)),u=u.parentNode;return u===t?c.reverse():[]},DI=(e,t,n,s,i,c,u=!1)=>{const g=n9(e,t,n,s,u),v=n9(e,t,i,c,u);return{start:g,end:v}},s9=(e,t)=>{const n=t.slice(),s=n.pop();return A(s)?ws(n,(c,u)=>c.bind(g=>z.from(g.childNodes[u])),z.some(e)).bind(c=>_t(c)&&(s<0||s>c.data.length)?z.none():z.some({node:c,offset:s})):z.none()},r9=(e,t)=>s9(e,t.start).bind(({node:n,offset:s})=>s9(e,t.end).map(({node:i,offset:c})=>{const u=document.createRange();return u.setStart(n,s),u.setEnd(i,c),u})),vj=(e,t,n,s=!1)=>DI(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),o_=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t,_t(t.firstChild)&&mp(t.firstChild.data)),o_(e,s,n)}},w7=(e,t,n,s=!0)=>{const i=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(_t(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),_t(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),o_(e,i,n),i!==c&&o_(e,c,n))},C7=(e,t)=>z.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),OI=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:jE(s).concat(e.blockPatterns),inlinePatterns:WE(s).concat(e.inlinePatterns)}},NI=(e,t,n,s)=>{const i=e.createRng();return i.setStart(t,0),i.setEnd(n,s),i.toString()},a9=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),_7=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},i9=(e,t,n)=>{const s=r9(e.getRoot(),n).getOrDie("Unable to resolve path range"),i=s.startContainer,c=s.endContainer,u=s.endOffset===0?c:c.splitText(s.endOffset),g=s.startOffset===0?i:i.splitText(s.startOffset),v=g.parentNode,S=u.parentNode;return{prefix:t,end:S.insertBefore(a9(e,t+"-end"),u),start:v.insertBefore(a9(e,t+"-start"),g)}},l9=(e,t,n)=>{o_(e,e.get(t.prefix+"-end"),n),o_(e,e.get(t.prefix+"-start"),n)},RI=e=>e.start.length===0,yj=e=>(t,n)=>{const i=t.data.substring(0,n),c=i.lastIndexOf(e.charAt(e.length-1)),u=i.lastIndexOf(e);return u!==-1?u+e.length:c!==-1?c+1:-1},c9=(e,t,n,s)=>{const i=t.start;return mI(e,s.container,s.offset,yj(i),n).bind(u=>{var g,v;const S=(v=(g=n.textContent)===null||g===void 0?void 0:g.indexOf(i))!==null&&v!==void 0?v:-1;if(S!==-1&&u.offset>=S+i.length){const M=e.createRng();return M.setStart(u.container,u.offset-i.length),M.setEnd(u.container,u.offset),z.some(M)}else{const M=u.offset-i.length;return uI(u.container,M,n).map(I=>{const j=e.createRng();return j.setStart(I.container,I.offset),j.setEnd(u.container,u.offset),j}).filter(I=>I.toString()===i).orThunk(()=>c9(e,t,n,eg(u.container,0)))}})},wj=(e,t,n,s,i,c=!1)=>{if(t.start.length===0&&!c){const u=e.createRng();return u.setStart(n,s),u.setEnd(n,s),z.some(u)}return dI(n,s,i).bind(u=>c9(e,t,i,u).bind(v=>{var S;if(c){if(v.endContainer===u.container&&v.endOffset===u.offset)return z.none();if(u.offset===0&&((S=v.endContainer.textContent)===null||S===void 0?void 0:S.length)===v.endOffset)return z.none()}return z.some(v)}))},Cj=(e,t,n,s)=>{const i=e.dom,c=i.getRoot(),u=n.pattern,g=n.position.container,v=n.position.offset;return uI(g,v-n.pattern.end.length,t).bind(S=>{const O=DI(i,c,S.container,S.offset,g,v,s);if(RI(u))return z.some({matches:[{pattern:u,startRng:O,endRng:O}],position:S});{const M=k7(e,n.remainingPatterns,S.container,S.offset,t,s),I=M.getOr({matches:[],position:S}),j=I.position;return wj(i,u,j.container,j.offset,t,M.isNone()).map(G=>{const se=vj(i,c,G,s);return{matches:I.matches.concat([{pattern:u,startRng:se,endRng:O}]),position:eg(G.startContainer,G.startOffset)}})}})},k7=(e,t,n,s,i,c)=>{const u=e.dom;return dI(n,s,u.getRoot()).bind(g=>{const v=NI(u,i,n,s);for(let S=0;S<t.length;S++){const O=t[S];if(!Yu(v,O.end))continue;const M=t.slice();M.splice(S,1);const I=Cj(e,i,{pattern:O,remainingPatterns:M,position:g},c);if(I.isNone()&&s>0)return k7(e,t,n,s-1,i,c);if(I.isSome())return I}return z.none()})},d9=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?nt(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},_j=(e,t,n,s)=>{const i=_7(e.dom,n);w7(e.dom,i,s),d9(e,t,i)},kj=(e,t,n,s,i)=>{const c=e.dom,u=_7(c,s),g=_7(c,n);w7(c,g,i),w7(c,u,i);const v={prefix:n.prefix,start:n.end,end:s.start},S=_7(c,v);d9(e,t,S)},Sj=(e,t)=>{const n=Cs("mce_textpattern"),s=vc(t,(i,c)=>{const u=i9(e,n+`_end${i.length}`,c.endRng);return i.concat([{...c,endMarker:u}])},[]);return vc(s,(i,c)=>{const u=s.length-i.length-1,g=RI(c.pattern)?c.endMarker:i9(e,n+`_start${u}`,c.startRng);return i.concat([{...c,startMarker:g}])},[])},Ej=e=>ki(e,(t,n)=>n.end.length-t.end.length),Aj=(e,t)=>{const n=vn(e,s=>Kn(t,i=>s.pattern.start===i.pattern.start&&s.pattern.end===i.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},u9=(e,t,n,s,i,c)=>{const u=k7(e,i.inlinePatterns,n,s,t,c).fold(()=>[],v=>v.matches),g=k7(e,Ej(i.inlinePatterns),n,s,t,c).fold(()=>[],v=>v.matches);return Aj(u,g)},m9=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),i=Sj(n,t);nt(i,c=>{const u=n.getParent(c.startMarker.start,n.isBlock),g=v=>v===u;RI(c.pattern)?_j(e,c.pattern,c.endMarker,g):kj(e,c.pattern,c.startMarker,c.endMarker,g),l9(n,c.endMarker,g),l9(n,c.startMarker,g)}),e.selection.moveToBookmark(s)},f9=(e,t,n)=>GH(t,0,t).map(s=>{const i=s.container;return _L(i,n.start.length,t).each(c=>{const u=e.createRng();u.setStart(i,0),u.setEnd(c.container,c.offset),w7(e,u,g=>g===t)}),i}),p9=e=>(t,n)=>{const s=t.dom,i=n.pattern,c=r9(s.getRoot(),n.range).getOrDie("Unable to resolve path range"),u=(g,v)=>{const S=v.get(g);return pe(S)&&Kt(S).exists(O=>Jt(O,"block"))};return C7(t,c).each(g=>{i.type==="block-format"?u(i.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,g,i),t.formatter.apply(i.format)}):i.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,g,i),t.execCommand(i.cmd,!1,i.value)})}),!0},Tj=e=>ki(e,(t,n)=>n.start.length-t.start.length),g9=e=>(t,n)=>{const s=Tj(t),i=n.replace(Ls," ");return js(s,c=>e(c,n,i))},h9=(e,t)=>(n,s,i,c,u)=>{var g;u===void 0&&(u=(g=s.textContent)!==null&&g!==void 0?g:"");const v=n.dom,S=Ni(n);return v.is(s,S)?e(i.blockPatterns,u).map(O=>t&&Dt.trim(u).length===O.start.length?[]:[{pattern:O,range:DI(v,v.getRoot(),s,0,s,0,c)}]).getOr([]):[]},Dj=e=>/^\s[^\s]/.test(e),Oj=p9((e,t,n)=>{f9(e,t,n).each(s=>{const i=ue.fromDom(s),c=xg(i);Dj(c)&&Ol(i,c.slice(1))})}),Nj=g9((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),Rj=h9(Nj,!0),Mj=(e,t)=>{const n=e.selection.getRng();return C7(e,n).map(s=>{var i;const c=Math.max(0,n.startOffset),u=OI(t,s,(i=s.textContent)!==null&&i!==void 0?i:""),g=u9(e,s,n.startContainer,c,u,!0),v=Rj(e,s,u,!0);return{inlineMatches:g,blockMatches:v}}).filter(({inlineMatches:s,blockMatches:i})=>i.length>0||s.length>0)},Bj=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();nt(t,s=>Oj(e,s)),e.selection.moveToBookmark(n)},Pj=p9(f9),Ij=g9((e,t,n)=>t===e.start||n===e.start),Lj=h9(Ij,!1),Fj=(e,t)=>{const n=e.selection.getRng();return C7(e,n).map(s=>{const i=Math.max(0,n.startOffset),c=NI(e.dom,s,n.startContainer,i),u=OI(t,s,c);return Lj(e,s,u,!1,c)}).filter(s=>s.length>0)},zj=(e,t)=>{nt(t,n=>Pj(e,n))},Hj=(e,t)=>Mj(e,t).fold(Ao,({inlineMatches:n,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{b1(e),m9(e,n),Bj(e,s);const i=e.selection.getRng(),c=dI(i.startContainer,i.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(u=>{const g=u.container;g.data.charAt(u.offset-1)===Ea&&(g.deleteData(u.offset-1,1),o_(e.dom,g.parentNode,v=>v===e.dom.getRoot()))})}),!0)),Vj=(e,t)=>{const n=e.selection.getRng();C7(e,n).map(s=>{const i=Math.max(0,n.startOffset-1),c=NI(e.dom,s,n.startContainer,i),u=OI(t,s,c),g=u9(e,s,n.startContainer,i,u,!1);g.length>0&&e.undoManager.transact(()=>{m9(e,g)})})},$j=(e,t)=>Fj(e,t).fold(Ao,n=>(e.undoManager.transact(()=>{zj(e,n)}),!0)),b9=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},Uj=(e,t)=>b9(e,t,(n,s)=>n===s.keyCode&&!qt.modifierPressed(s)),Zj=(e,t)=>b9(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),jj=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>q7(yA(e).filter(u=>u.type==="inline-command"||u.type==="block-command"?e.queryCommandSupported(u.cmd):!0),Y_(e)),i=()=>kA(e);e.on("keydown",u=>{if(u.keyCode===13&&!qt.modifierPressed(u)&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=A_(s(),"enter");(g.inlinePatterns.length>0||g.blockPatterns.length>0||i())&&Hj(e,g)&&u.preventDefault()}},!0),e.on("keydown",u=>{if(u.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=A_(s(),"space");(g.blockPatterns.length>0||i())&&$j(e,g)&&u.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const u=A_(s(),"space");(u.inlinePatterns.length>0||i())&&Vj(e,u)}};e.on("keyup",u=>{Uj(n,u)&&c()}),e.on("keypress",u=>{Zj(t,u)&&No.setEditorTimeout(e,c)})},Wj=e=>{jj(e)},qj=e=>{const t=Dt.each,n=qt.BACKSPACE,s=qt.DELETE,i=e.dom,c=e.selection,u=e.parser,g=Vo.browser,v=g.isFirefox(),S=g.isChromium()||g.isSafari(),O=Vo.deviceType.isiPhone()||Vo.deviceType.isiPad(),M=Vo.os.isMacOS()||Vo.os.isiOS(),I=(it,At)=>{try{e.getDoc().execCommand(it,!1,String(At))}catch{}},j=it=>it.isDefaultPrevented(),J=()=>{const it=so=>{const rn=i.create("body"),cn=so.cloneContents();return rn.appendChild(cn),c.serializer.serialize(rn,{format:"html"})},At=so=>{const rn=it(so),cn=i.createRng();cn.selectNode(e.getBody());const rs=it(cn);return rn===rs};e.on("keydown",so=>{const rn=so.keyCode;if(!j(so)&&(rn===s||rn===n)&&e.selection.isEditable()){const cn=e.selection.isCollapsed(),rs=e.getBody();if(cn&&!Bl(e.schema,rs)||!cn&&!At(e.selection.getRng()))return;so.preventDefault(),e.setContent(""),rs.firstChild&&i.isBlock(rs.firstChild)?e.selection.setCursorLocation(rs.firstChild,0):e.selection.setCursorLocation(rs,0),e.nodeChanged()}})},G=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},se=()=>{e.inline||i.bind(e.getDoc(),"mousedown mouseup",it=>{let At;if(it.target===e.getDoc().documentElement)if(At=c.getRng(),e.getBody().focus(),it.type==="mousedown"){if(zl(At.startContainer))return;c.placeCaretAt(it.clientX,it.clientY)}else c.setRng(At)})},ge=()=>{e.on("keydown",it=>{if(!j(it)&&it.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const At=c.getNode(),so=At.previousSibling;if(At.nodeName==="HR"){i.remove(At),it.preventDefault();return}so&&so.nodeName&&so.nodeName.toLowerCase()==="hr"&&(i.remove(so),it.preventDefault())}}})},_e=()=>{Range.prototype.getClientRects||e.on("mousedown",it=>{if(!j(it)&&it.target.nodeName==="HTML"){const At=e.getBody();At.blur(),No.setEditorTimeout(e,()=>{At.focus()})}})},Be=()=>{const it=fA(e);e.on("click",At=>{const so=At.target;/^(IMG|HR)$/.test(so.nodeName)&&i.isEditable(so)&&(At.preventDefault(),e.selection.select(so),e.nodeChanged()),so.nodeName==="A"&&i.hasClass(so,it)&&so.childNodes.length===0&&i.isEditable(so.parentNode)&&(At.preventDefault(),c.select(so))})},$e=()=>{const it=At=>At.nodeName==="IMG"&&e.dom.isEditable(At);e.on("mousedown",At=>{sr(z.from(At.clientX),z.from(At.clientY),(so,rn)=>{const cn=e.getDoc().caretPositionFromPoint(so,rn);if(cn&&it(cn.offsetNode)){const rs=cn.offsetNode.getBoundingClientRect();At.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(cn.offsetNode),At.clientX<rs.left||At.clientY<rs.top?e.selection.collapse(!0):(At.clientX>rs.right||At.clientY>rs.bottom)&&e.selection.collapse(!1)}})})},dt=()=>{const it=()=>{const so=i.getAttribs(c.getStart().cloneNode(!1));return()=>{const rn=c.getStart();rn!==e.getBody()&&(i.setAttrib(rn,"style",null),t(so,cn=>{rn.setAttributeNode(cn.cloneNode(!0))}))}},At=()=>!c.isCollapsed()&&i.getParent(c.getStart(),i.isBlock)!==i.getParent(c.getEnd(),i.isBlock);e.on("keypress",so=>{let rn;return!j(so)&&(so.keyCode===8||so.keyCode===46)&&At()?(rn=it(),e.getDoc().execCommand("delete",!1),rn(),so.preventDefault(),!1):!0}),i.bind(e.getDoc(),"cut",so=>{if(!j(so)&&At()){const rn=it();No.setEditorTimeout(e,()=>{rn()})}})},Et=()=>{e.on("keydown",it=>{if(!j(it)&&it.keyCode===n&&c.isCollapsed()&&c.getRng().startOffset===0){const At=c.getNode().previousSibling;if(At&&At.nodeName&&At.nodeName.toLowerCase()==="table")return it.preventDefault(),!1}return!0})},Gt=()=>{e.on("keydown",it=>{if(j(it)||it.keyCode!==qt.BACKSPACE)return;let At=c.getRng();const so=At.startContainer,rn=At.startOffset,cn=i.getRoot();let rs=so;if(!(!At.collapsed||rn!==0)){for(;rs.parentNode&&rs.parentNode.firstChild===rs&&rs.parentNode!==cn;)rs=rs.parentNode;rs.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,rs),At=i.createRng(),At.setStart(so,0),At.setEnd(so,0),c.setRng(At))}})},Qe=()=>{const it=()=>{I("StyleWithCSS",!1),I("enableInlineTableEditing",!1),$_(e)||I("enableObjectResizing",!1)};Ki(e)||e.on("BeforeExecCommand mousedown",it)},qe=()=>{const it=()=>{t(i.select("a:not([data-mce-block])"),At=>{var so;let rn=At.parentNode;const cn=i.getRoot();if((rn==null?void 0:rn.lastChild)===At){for(;rn&&!i.isBlock(rn);){if(((so=rn.parentNode)===null||so===void 0?void 0:so.lastChild)!==rn||rn===cn)return;rn=rn.parentNode}i.add(rn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",At=>{(At.type==="setcontent"||At.command==="mceInsertLink")&&it()})},mt=()=>{e.on("init",()=>{I("DefaultParagraphSeparator",Ni(e))})},Zt=it=>{const At=it.getBody(),so=it.selection.getRng();return so.startContainer===so.endContainer&&so.startContainer===At&&so.startOffset===0&&so.endOffset===At.childNodes.length},io=()=>{e.on("keyup focusin mouseup",it=>{!qt.modifierPressed(it)&&!Zt(e)&&c.normalize()},!0)},en=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},sn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Vn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",it=>{let At;it.target.nodeName==="HTML"&&(At=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(At),e.selection.normalize(),e.nodeChanged())}))},hs=()=>{M&&e.on("keydown",it=>{qt.metaKeyPressed(it)&&!it.shiftKey&&(it.keyCode===37||it.keyCode===39)&&(it.preventDefault(),e.selection.getSel().modify("move",it.keyCode===37?"backward":"forward","lineboundary"))})},ma=()=>{e.on("click",it=>{let At=it.target;do if(At.tagName==="A"){it.preventDefault();return}while(At=At.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ai=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",it=>{it.preventDefault()})})},vi=()=>{u.addNodeFilter("br",it=>{let At=it.length;for(;At--;)it[At].attr("class")==="Apple-interchange-newline"&&it[At].remove()})},It=ko,ao=()=>{if(!v||e.removed)return!1;const it=e.selection.getSel();return!it||!it.rangeCount||it.rangeCount===0},zn=()=>{S&&(se(),Be(),ai(),G(),O&&(sn(),Vn(),ma())),v&&(_e(),Qe(),en(),hs())},$n=()=>{Gt(),J(),Vo.windowsPhone||io(),S&&(se(),Be(),mt(),ai(),Et(),vi(),O?(sn(),Vn(),ma()):G()),v&&($e(),ge(),_e(),dt(),Qe(),qe(),en(),hs(),Et())};return vl(e)?zn():$n(),{refreshContentEditable:It,isHidden:ao}},Gj=e=>e.toLowerCase()==="gpl",Kj=e=>e.length>=64&&e.length<=255,Yj=e=>Gj(e)||Kj(e)?"VALID":"INVALID",Xj=e=>{const t=Q_(e);!Ue(TA(e))&&(bn(t)||Yj(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},MI=Ds.DOM,Qj=(e,t)=>{const n=ue.fromDom(e.getBody()),s=vs(ed(n)),i=ue.fromTag("style");$r(i,"type","text/css"),Zn(i,ue.fromText(t)),Zn(s,i),e.on("remove",()=>{k(i)})},Jj=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,BI=e=>Fo(e,t=>bn(t)===!1),x9=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return BI({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Jj(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:Ru(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},v9=e=>{const t=e.options.get;return BI({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},eW=e=>{const t=e.options.get;return{...x9(e),...v9(e),...BI({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},tW=e=>{const t=K1(x9(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const i=e.dom,c="data-mce-"+s;let u=n.length;for(;u--;){const g=n[u];let v=g.attr(s);if(v&&!g.attr(c)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;s==="style"?(v=i.serializeStyle(i.parseStyle(v),g.name),v.length||(v=null),g.attr(c,v),g.attr(s,v)):s==="tabindex"?(g.attr(c,v),g.attr(s,null)):g.attr(c,e.convertURL(v,s,g.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const i=n[s],c=i.attr("type")||"no/type";c.indexOf("mce-")!==0&&i.attr("type","mce-"+c)}}),X_(e)&&t.addNodeFilter("#cdata",n=>{var s;let i=n.length;for(;i--;){const c=n[i];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((s=c.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const i=e.schema.getNonEmptyElements();for(;s--;){const c=n[s];c.isEmpty(i)&&c.getAll("br").length===0&&c.append(new Ul("br",1))}}),t},oW=e=>{const t=vN(e);t&&No.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},nW=e=>{const t=e.dom.getRoot();!e.inline&&(!Ry(e)||e.selection.getStart(!0)===t)&&hl(t).each(n=>{const s=n.getNode(),i=yu(s)?hl(s).getOr(n):n;e.selection.setRng(i.toRange())})},sW=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Gi(e),e.focus(!0),nW(e),e.nodeChanged({initial:!0});const t=pA(e);Xt(t)&&t.call(e,e),oW(e),qp(e)&&J3(e,!0)},PI=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,rW=(e,t,n)=>{const{pass:s,fail:i}=xr(t,g=>tinymce.Resource.has(Rb(g))),u=[...s.map(g=>{const v=tinymce.Resource.get(Rb(g));return Ue(v)?Promise.resolve(PI(e).loadRawCss(g,v)):Promise.resolve()}),PI(e).loadAll(i)];return e.inline?u:u.concat([e.ui.styleSheetLoader.loadAll(n)])},y9=e=>{const t=PI(e),n=qx(e),s=e.contentCSS,i=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},c=()=>{e.removed?i():e.on("remove",i)};if(e.contentStyles.length>0){let v="";Dt.each(e.contentStyles,S=>{v+=S+`\r
`}),e.dom.addStyle(v)}const u=Promise.all(rW(e,s,n)).then(c).catch(c),g=Np(e);return g&&Qj(e,g),u},aW=e=>{const t=e.getDoc(),n=e.getBody();J7(e),gA(e)||(t.body.spellcheck=!1,MI.setAttrib(n,"spellcheck","false")),e.quirks=qj(e),T_(e);const s=Z0(e);s!==void 0&&(n.dir=s);const i=yN(e);i&&e.on("BeforeSetContent",c=>{Dt.each(i,u=>{c.content=c.content.replace(u,g=>"<!--mce:protected "+escape(g)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},iW=e=>{vl(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},II=e=>{e.removed!==!0&&(iW(e),sW(e))},lW=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},w9=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(MI.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=Ki(e),e._editableRoot=_m(e),!Xx(e)&&e.hasEditableRoot()&&(e.inline&&MI.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=LO(e),e.schema=gf(v9(e)),e.dom=Ds(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:uN(e),referrerPolicy:V_(e),onSetAttrib:u=>{e.dispatch("SetAttrib",u)}}),e.parser=tW(e),e.serializer=V3(eW(e),e),e.selection=z3(e.dom,e.getWin(),e.serializer,e),e.annotator=p5(e),e.formatter=ZO(e),e.undoManager=WO(e),e._nodeChangeDispatcher=new bU(e),e._selectionOverrides=bj(e),Yr(e),CZ(e),Yp(e),vl(e)||(DZ(e),Wj(e));const i=hU(e);Nn(e,i),vh(e),XO(e),vZ(e);const c=NB(e);aW(e),Xj(e),c.fold(()=>{const u=lW(e);y9(e).then(()=>{II(e),u()})},u=>{e.setProgressState(!0),y9(e).then(()=>{u().then(g=>{e.setProgressState(!1),II(e),uC(e)},g=>{e.notificationManager.open({type:"error",text:String(g)}),II(e),uC(e)})})})},LI=Ds.DOM,cW=(e,t,n,s)=>{const i=ue.fromTag("iframe");return s.each(c=>$r(i,"tabindex",c)),nc(i,n),nc(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Vi(i,"tox-edit-area__iframe"),i},dW=e=>{let t=eA(e)+"<html><head>";tA(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=iN(e),s=oA(e),i=e.translate(q_(e));return P_(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+P_(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${i}"><br></body></html>`,t},uW=(e,t)=>{const n=Vo.browser.isFirefox()?q_(e):"Rich Text Area",s=e.translate(n),i=zs(ue.fromDom(e.getElement()),"tabindex").bind(Cl),c=cW(e.id,s,Nu(e),i).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=dW(e),LI.add(t.iframeContainer,c)},mW=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,w9(e)};if(DN(e)||Vo.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),n()}else{const s=nm(ue.fromDom(t),"load",()=>{s.unbind(),n()});t.srcdoc=e.iframeHTML}},fW=(e,t)=>{uW(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=LI.isHidden(t.editorContainer)),e.getElement().style.display="none",LI.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,mW(e)},C9=Ds.DOM,pW=(e,t,n)=>{const s=Q1.get(n),i=Q1.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Dt.trim(n),s&&Dt.inArray(t,n)===-1){if(e.plugins[n])return;try{const c=s(e,i)||{};e.plugins[n]=c,Xt(c.init)&&(c.init(e,i),t.push(n))}catch(c){cP(e,n,c)}}},gW=e=>e.replace(/^\-/,""),hW=e=>{const t=[];nt(Kx(e),n=>{pW(e,t,gW(n))})},bW=e=>{const t=Dt.trim(H_(e)),n=e.ui.registry.getAll().icons,s={...ph.get("default").icons,...ph.get(t).icons};Un(s,(i,c)=>{Jt(n,c)||e.ui.registry.addIcon(c,i)})},xW=e=>{const t=_1(e);if(Ue(t)){const n=gh.get(t);e.theme=n(e,gh.urls[t])||{},Xt(e.theme.init)&&e.theme.init(e,gh.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},vW=e=>{const t=gy(e),n=Ob.get(t);e.model=n(e,Ob.urls[t])},yW=e=>{const t=e.theme.renderUI;return t?t():k9(e)},wW=e=>{const t=e.getElement(),s=_1(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},_9=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),CW=e=>{const t=C9.create("div");return C9.insertAfter(t,e),_9(t,t)},k9=e=>{const t=e.getElement();return e.inline?_9(null):CW(t)},_W=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Ue(_1(e))?yW(e):Xt(_1(e))?wW(e):k9(e)},kW=(e,t)=>{const n={show:z.from(t.show).getOr(ko),hide:z.from(t.hide).getOr(ko),isEnabled:z.from(t.isEnabled).getOr(Go),setEnabled:s=>{s&&(e.mode.get()==="readonly"||qp(e))||z.from(t.setEnabled).each(c=>c(s))}};e.ui={...e.ui,...n}},SW=async e=>{e.dispatch("ScriptsLoaded"),bW(e),xW(e),vW(e),hW(e);const t=await _W(e);kW(e,z.from(t.api).getOr({})),e.editorContainer=t.editorContainer,gP(e),e.inline?w9(e):fW(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},x2=Ds.DOM,S9=e=>e.charAt(0)==="-",EW=(e,t)=>{const n=lA(t),s=Xs(t);if(!Di.hasCode(n)&&n!=="en"){const i=La(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(i).catch(()=>{CO(t,i,n)})}},AW=(e,t)=>{const n=_1(e);if(Ue(n)&&!S9(n)&&!Jt(gh.urls,n)){const s=mN(e),i=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;gh.load(n,i).catch(()=>{_O(e,i,n)})}},TW=(e,t)=>{const n=gy(e);if(n!=="plugin"&&!Jt(Ob.urls,n)){const s=fN(e),i=Ue(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;Ob.load(n,i).catch(()=>{lP(e,i,n)})}},DW=e=>z.from(dy(e)).filter(La).map(t=>({url:t,name:z.none()})),E9=(e,t,n)=>z.from(t).filter(s=>La(s)&&!ph.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:z.some(s)})),OW=(e,t,n)=>{const s=E9(t,"default",n),i=DW(t).orThunk(()=>E9(t,H_(t),""));nt(Gl([s,i]),c=>{e.add(c.url).catch(()=>{iP(t,c.url,c.name.getOrUndefined())})})},NW=(e,t)=>{const n=(s,i)=>{Q1.load(s,i).catch(()=>{wO(e,i,s)})};Un(bN(e),(s,i)=>{n(i,s),e.options.set("plugins",Kx(e).concat(i))}),nt(Kx(e),s=>{s=Dt.trim(s),s&&!Q1.urls[s]&&!S9(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},RW=e=>{const t=_1(e);return!Ue(t)||Ke(gh.get(t))},MW=e=>{const t=gy(e);return Ke(Ob.get(t))},BW=(e,t)=>{const n=Vd.ScriptLoader,s=()=>{!e.removed&&RW(e)&&MW(e)&&SW(e)};AW(e,t),TW(e,t),EW(n,e),OW(n,e,t),NW(e,t),n.loadQueue().then(s,s)},PW=(e,t)=>ja.forElement(e,{contentCssCors:hy(t),referrerPolicy:V_(t)}),IW=e=>{const t=e.id;Di.setCode(lA(e));const n=()=>{x2.unbind(window,"ready",n),e.render()};if(!Ll.Event.domLoaded){x2.bind(window,"ready",n);return}if(!e.getElement())return;const s=ue.fromDom(e.getElement()),i=Na(s);e.on("remove",()=>{jl(s.dom.attributes,u=>er(s,u.name)),nc(s,i)}),e.ui.styleSheetLoader=PW(s,e),Vg(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||x2.getParent(t,"form");c&&(e.formElement=c,dA(e)&&!Ld(e.getElement())&&(x2.insertAfter(x2.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=u=>{e.dispatch(u.type,u)},x2.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),j_(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=vO(e),e.notificationManager=G3(e),EA(e)&&e.on("GetContent",u=>{u.save&&(u.content=x2.encode(u.content))}),uA(e)&&e.on("submit",()=>{e.initialized&&e.save()}),gN(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),BW(e,e.suffix)},LW=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,qp(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),sN(e,t))},FW=e=>e._editableRoot,zW=(e,t)=>({sections:St(e),options:St(t)}),A9=Jn().deviceType,T9=A9.isPhone(),HW=A9.isTablet(),hE=e=>{if(qo(e))return[];{const t=pe(e)?e:e.split(/[ ,]/),n=Xo(t,jc);return _o(n,La)}},VW=(e,t)=>{const n=Zc(t,(s,i)=>on(e,i));return zW(n.t,n.f)},$W=(e,t,n={})=>{const s=e.sections(),i=kn(s,t).getOr({});return Dt.extend({},n,i)},FI=(e,t)=>Jt(e.sections(),t),UW=(e,t)=>FI(e,t)?e.sections()[t]:{},ZW=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:kn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),jW=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?Dt.extend({},e.external_plugins,s):s},WW=(e,t)=>[...hE(e),...hE(t)],qW=(e,t,n,s)=>e&&FI(t,"mobile")?s:n,GW=(e,t,n,s)=>{const i=hE(n.forced_plugins),c=hE(s.plugins),u=UW(t,"mobile"),g=u.plugins?hE(u.plugins):c,v=qW(e,t,c,g),S=WW(i,v);return Dt.extend(s,{forced_plugins:i,plugins:S})},KW=(e,t)=>e&&FI(t,"mobile"),YW=(e,t,n,s,i)=>{var c;const u=e?{mobile:ZW((c=i.mobile)!==null&&c!==void 0?c:{},t)}:{},g=VW(["mobile"],Es(u,i)),v=Dt.extend(n,s,g.options(),KW(e,g)?$W(g,"mobile"):{},{external_plugins:jW(s,g.options())});return GW(e,g,s,v)},XW=(e,t)=>{const n=Cc(t);return YW(T9||HW,T9,n,e,n)},QW=(e,t)=>KD(e,t),JW=e=>{const t=(s,i)=>{e.formatter.toggle(s,i),e.nodeChanged()},n=s=>()=>{nt("left,center,right,justify".split(","),i=>{s!==i&&e.formatter.remove("align"+i)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},eq=e=>{const t=n=>()=>{const s=e.selection,i=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return Kn(i,c=>Ke(e.formatter.matchNode(c,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},tq=e=>{JW(e),eq(e)},oq=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch{s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Vo.os.isMacOS()||Vo.os.isiOS())&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}}})},nq=(e,t,n,s)=>{const i=ue.fromDom(e.getRoot());return mb(i,Ye.fromRangeStart(t),s)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Df(i,Ye.fromRangeEnd(t),s)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},sq=e=>{if(typeof e!="string"){const t=Dt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},rq=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?nq(s,n.getRng(),t,e.schema):t},S7=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:s}=sq(t);Eb(e,{...s,content:rq(e,n),format:"html",set:!1,selection:!0}).each(i=>{const c=GD(e,i.content,s);Uv(e,c,i),e.addVisual()})}},aq=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{S7(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{S7(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{S7(e,s)},mceInsertContent:(t,n,s)=>{S7(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(_N(e))}})},iq={"font-size":"size","font-family":"face"},lq=Xm("font"),cq=(e,t,n)=>{const s=c=>Mh(c,e).orThunk(()=>lq(c)?kn(iq,e).bind(u=>zs(c,u)):z.none()),i=c=>yn(ue.fromDom(t),c);return dp(ue.fromDom(n),c=>s(c),i)},dq=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),uq=(e,t)=>z.from(Ds.DOM.getStyle(t,e,!0)),D9=e=>(t,n)=>z.from(n).map(ue.fromDom).filter(pr).bind(s=>cq(e,t,s.dom).or(uq(e,s.dom))).getOr(""),mq=D9("font-size"),fq=Bn(dq,D9("font-family")),pq=e=>hl(e.getBody()).bind(t=>{const n=t.container();return z.from(_t(n)?n.parentNode:n)}),gq=e=>z.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?z.none():z.from(e.selection.getStart(!0))}),hq=(e,t)=>gq(e).orThunk(je(pq,e)).map(ue.fromDom).filter(pr).bind(t),zI=(e,t)=>hq(e,dr(z.some,t)),O9=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=SA(e),i=ON(e);return i.length>0?i[n-1]||t:s[n-1]||t}else return t}else return t},bq=e=>{const t=e.split(/\s*,\s*/);return Xo(t,n=>n.indexOf(" ")!==-1&&!(ar(n,'"')||ar(n,"'"))?`'${n}'`:n).join(",")},xq=(e,t)=>{const n=O9(e,t);e.formatter.toggle("fontname",{value:bq(n)}),e.nodeChanged()},vq=e=>zI(e,t=>fq(e.getBody(),t.dom)).getOr(""),yq=(e,t)=>{e.formatter.toggle("fontsize",{value:O9(e,t)}),e.nodeChanged()},wq=e=>zI(e,t=>mq(e.getBody(),t.dom)).getOr(""),Cq=e=>zI(e,t=>{const n=ue.fromDom(e.getBody()),s=dp(t,c=>Mh(c,"line-height"),je(yn,n)),i=()=>{const c=parseFloat(sc(t,"line-height")),u=parseFloat(sc(t,"font-size"));return String(c/u)};return s.getOrThunk(i)}).getOr(""),_q=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},kq=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,i)=>{t(n,{value:i})},BackColor:(n,s,i)=>{t("hilitecolor",{value:i})},FontName:(n,s,i)=>{xq(e,i)},FontSize:(n,s,i)=>{yq(e,i)},LineHeight:(n,s,i)=>{_q(e,i)},Lang:(n,s,i)=>{var c;t(n,{value:i.code,customValue:(c=i.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,i)=>{t(Ue(i)?i:"p")},mceToggleFormat:(n,s,i)=>{t(i)}})},Sq=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>vq(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>wq(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>Cq(e))},Eq=e=>{kq(e),Sq(e)},Aq=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Tq=e=>{e.editorCommands.addCommands({Indent:()=>{Qt(e)},Outdent:()=>{no(e)}}),e.editorCommands.addCommands({Outdent:()=>Ve(e)},"state")},Dq=e=>{const t=(n,s,i)=>{if(e.mode.isReadOnly())return;const c=Ue(i)?{href:i}:i,u=e.dom.getParent(e.selection.getNode(),"a");ne(c)&&Ue(c.href)&&(c.href=c.href.replace(/ /g,"%20"),(!u||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,u))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},Oq=(e,t,n,s)=>{const i=e.dom,c=g=>i.isBlock(g)&&g.parentElement===n,u=c(t)?t:i.getParent(s,c,n);return z.from(u).map(ue.fromDom)},N9=(e,t)=>{if(e.mode.isReadOnly())return;const n=e.dom,s=e.selection.getRng(),i=t?e.selection.getStart():e.selection.getEnd(),c=t?s.startContainer:s.endContainer,u=uE(n,c);if(!u||!u.isContentEditable)return;const g=t?ei:td,v=Ni(e);Oq(e,i,u,c).each(S=>{const O=eF(e,c,S.dom,u,!1,v);g(S,ue.fromDom(O)),e.selection.setCursorLocation(O,0),e.dispatch("NewBlock",{newBlock:O}),dE(e,"insertParagraph")})},Nq=e=>N9(e,!0),Rq=e=>N9(e,!1),Mq=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{Nq(e)},InsertNewBlockAfter:()=>{Rq(e)}})},Bq=e=>{e.editorCommands.addCommands({insertParagraph:()=>{g7(sF,e)},mceInsertNewLine:(t,n,s)=>{uF(e,s)},InsertLineBreak:(t,n,s)=>{g7(iF,e)}})},Pq=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let i=0;e.dom.getParent(e.selection.getNode(),c=>Wt(c)&&i++===s?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),ic);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},Iq=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const i=s??e.selection.getNode();if(i!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{Uy(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Lq=e=>{tq(e),oq(e),Aq(e),Pq(e),aq(e),Dq(e),Tq(e),Mq(e),Bq(e),Eq(e),Iq(e)},Fq=["toggleview"],R9=e=>on(Fq,e.toLowerCase());class M9{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,i){const c=this.editor,u=t.toLowerCase(),g=i==null?void 0:i.skip_focus;if(c.removed||(u!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(u)&&!g?c.focus():Ak(c)),c.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const S=this.commands.exec[u];return Xt(S)?(S(u,n,s),c.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(!R9(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return Xt(s)?s(n):!1}queryCommandValue(t){if(!R9(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return Xt(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;Un(t,(i,c)=>{nt(c.toLowerCase().split(","),u=>{s[n][u]=i})})}addCommand(t,n,s){const i=t.toLowerCase();this.commands.exec[i]=(c,u,g)=>n.call(s??this.editor,u,g)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s??this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s??this.editor)}}const zq=Dt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class HI{static isNative(t){return!!zq[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ao}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),i=Wn(s,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const c=this.bindings[s];if(c)for(let u=0,g=c.length;u<g;u++){const v=c[u];if(!v.removed){if(v.once&&this.off(s,v.func),i.isImmediatePropagationStopped())return i;if(v.func.call(this.scope,i)===!1)return i.preventDefault(),i}}return i}on(t,n,s,i){if(n===!1&&(n=Ao),n){const c={func:n,removed:!1};i&&Dt.extend(c,i);const u=t.toLowerCase().split(" ");let g=u.length;for(;g--;){const v=u[g];let S=this.bindings[v];S||(S=[],this.toggleEvent(v,!0)),s?S=[c,...S]:S=[...S,c],this.bindings[v]=S}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let i=s.length;for(;i--;){const c=s[i];let u=this.bindings[c];if(!c)return Un(this.bindings,(g,v)=>{this.toggleEvent(v,!1),delete this.bindings[v]}),this;if(u){if(!n)u.length=0;else{const g=xr(u,v=>v.func===n);u=g.fail,this.bindings[c]=u,nt(g.pass,v=>{v.removed=!0})}u.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else Un(this.bindings,(s,i)=>{this.toggleEvent(i,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const bE=e=>(e._eventDispatcher||(e._eventDispatcher=new HI({scope:e,toggleEvent:(t,n)=>{HI.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),VI={fire(e,t,n){return console.warn('The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',new Error().stack),this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return Wn(e.toLowerCase(),t??{},s);const i=bE(s).dispatch(e,t);if(n!==!1&&s.parent){let c=s.parent();for(;c&&!i.isPropagationStopped();)c.dispatch(e,i,!1),c=c.parent?c.parent():void 0}return i},on(e,t,n){return bE(this).on(e,t,n)},off(e,t){return bE(this).off(e,t)},once(e,t){return bE(this).once(e,t)},hasEventListeners(e){return bE(this).has(e)}},E7=Ds.DOM;let v2;const A7=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=Rp(e);return n?(e.eventRoot||(e.eventRoot=E7.select(n)[0]),e.eventRoot):e.getBody()},Hq=e=>!e.hidden&&!qp(e),B9=(e,t,n)=>{Hq(e)?e.dispatch(t,n):qp(e)&&eS(e,n)},P9=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=A7(e,t);if(Rp(e)){if(v2||(v2={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||v2&&(Un(v2,(i,c)=>{e.dom.unbind(A7(e,c))}),v2=null)})),v2[t])return;const s=i=>{const c=i.target,u=e.editorManager.get();let g=u.length;for(;g--;){const v=u[g].getBody();(v===c||E7.isChildOf(c,v))&&B9(u[g],t,i)}};v2[t]=s,E7.bind(n,t,s)}else{const s=i=>{B9(e,t,i)};E7.bind(n,t,s),e.delegates[t]=s}},I9={...VI,bindPendingEventDelegates(){const e=this;Dt.each(e._pendingNativeEvents,t=>{P9(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?P9(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(A7(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Un(e.delegates,(s,i)=>{e.dom.unbind(A7(e,i),i,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},Vq=e=>Ue(e)?{value:e.split(/[ ,]/),valid:!0}:Co(e,Ue)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},$q=e=>{const t=(()=>{switch(e){case"array":return pe;case"boolean":return is;case"function":return Xt;case"number":return A;case"object":return ne;case"string":return Ue;case"string[]":return Vq;case"object[]":return n=>Co(n,ne);case"regexp":return n=>Pe(n,RegExp);default:return Go}})();return n=>$I(n,t,`The value must be a ${e}.`)},Uq=e=>Ue(e.processor),L9=(e,t)=>{const n=Wc(t.message)?"":`. ${t.message}`;return e+n},F9=e=>e.valid,$I=(e,t,n="")=>{const s=t(e);return is(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},Zq=(e,t,n)=>{if(!bn(t)){const s=$I(t,n);if(F9(s))return s.value;console.error(L9(`Invalid default value passed for the "${e}" option`,s))}},jq=(e,t,n=t)=>{const s={},i={},c=(j,J,G)=>{const se=$I(J,G);return F9(se)?(i[j]=se.value,!0):(console.warn(L9(`Invalid value passed for the ${j} option`,se)),!1)},u=(j,J)=>{const G=Uq(J)?$q(J.processor):J.processor,se=Zq(j,J.default,G);s[j]={...J,default:se,processor:G},kn(i,j).orThunk(()=>kn(t,j)).each(_e=>c(j,_e,G))},g=j=>Jt(s,j);return{register:u,isRegistered:g,get:j=>kn(i,j).orThunk(()=>kn(s,j).map(J=>J.default)).getOrUndefined(),set:(j,J)=>{if(g(j)){const G=s[j];return G.immutable?(console.error(`"${j}" is an immutable option and cannot be updated`),!1):c(j,J,G.processor)}else return console.warn(`"${j}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:j=>{const J=g(j);return J&&delete i[j],J},isSet:j=>Jt(i,j),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(j,J)=>is(J)||A(J)||Ue(J)||hn(J)||pe(J)||kt(J)?J:Object.prototype.toString.call(J))))}catch(j){console.error(j)}}}},Wq=(e,t)=>{e.dom.contentEditable="true"},qq=(e,t)=>{const n=ue.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&Wq(n),X3(e)):(e.readonly=!1,SO(e))},n_=e=>e.readonly,Gq=e=>{const t=e.undoManager.add();Ke(t)&&(e.undoManager.undo(),e.undoManager.reset())},Kq=e=>Kn(e,t=>t.type==="characterData"||t.type==="childList"),Yq=e=>{const t=s=>{n_(e)&&Kq(s)&&Gq(e)},n=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",s=>{n_(e)&&s.preventDefault()}),e.on("BeforeExecCommand",s=>{(s.command==="Undo"||s.command==="Redo")&&n_(e)&&s.preventDefault()}),e.on("compositionstart",()=>{n_(e)&&n.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(n_(e)){const s=n.takeRecords();t(s)}n.disconnect()})},Xq=["design","readonly"],z9=(e,t,n,s)=>{const i=n[t.get()],c=n[s];try{c.activate()}catch(u){console.error(`problem while activating editor mode ${s}:`,u);return}i.deactivate(),i.editorReadOnly!==c.editorReadOnly&&qq(e,c.editorReadOnly),t.set(s),Q7(e,s)},Qq=(e,t,n,s)=>{if(!(s===n.get()||e.initialized&&qp(e))){if(!Jt(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?z9(e,n,t,s):e.on("init",()=>z9(e,n,t,s))}},Jq=(e,t,n)=>{if(on(Xq,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},eG=e=>{const t=Wo("design"),n=Wo({design:{activate:ko,deactivate:ko,editorReadOnly:!1},readonly:{activate:ko,deactivate:ko,editorReadOnly:!0}});return Yq(e),DO(e),{isReadOnly:()=>n_(e),set:s=>Qq(e,n.get(),t,s),get:()=>t.get(),register:(s,i)=>{n.set(Jq(n.get(),s,i))}}},UI=Dt.each,ZI=Dt.explode,tG={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},H9=Dt.makeMap("alt,ctrl,shift,meta,access"),oG=e=>e in H9,nG=e=>{const t={},n=Vo.os.isMacOS()||Vo.os.isiOS();UI(ZI(e.toLowerCase(),"+"),c=>{oG(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=tG[c]||c.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let i;for(i in H9)t[i]?s.push(i):t[i]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class V9{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&(UI(n.shortcuts,i=>{n.matchShortcut(s,i)&&(n.pendingPatterns=i.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(i))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,i){const c=this,u=c.normalizeCommandFunc(s);return UI(ZI(Dt.trim(t)),g=>{const v=c.createShortcut(g,n,u,i);c.shortcuts[v.id]=v}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:Dt.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,i){const c=Dt.map(ZI(t,">"),nG);return c[c.length-1]=Dt.extend(c[c.length-1],{func:s,scope:i||this.editor}),Dt.extend(c[0],{desc:this.editor.translate(n),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const sG=()=>{const e=$V();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},y2=Ds.DOM,$9=Dt.extend,rG=Dt.each;class T7{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,$9(this,I9);const i=this;this.id=t,this.hidden=!1;const c=XW(s.defaultOptions,n);this.options=jq(i,c,n),eo(i);const u=this.options.get;u("deprecation_warnings")&&GB(n,c);const g=u("suffix");g&&(s.suffix=g),this.suffix=s.suffix;const v=u("base_url");v&&s._setBaseUrl(v),this.baseUri=s.baseURI;const S=V_(i);S&&(Vd.ScriptLoader._setReferrerPolicy(S),Ds.DOM.styleSheetLoader._setReferrerPolicy(S));const O=hy(i);Ke(O)&&Ds.DOM.styleSheetLoader._setContentCssCors(O),Oi.languageLoad=u("language_load"),Oi.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new bl(tA(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Vg(i),this.hasVisual=xN(i),this.shortcuts=new V9(this),this.editorCommands=new M9(this),Lq(this);const M=u("cache_suffix");M&&(Vo.cacheSuffix=M.replace(/^[\?\&]+/,"")),this.ui={registry:sG(),styleSheetLoader:void 0,show:ko,hide:ko,setEnabled:ko,isEnabled:Go},this.mode=eG(i),s.dispatch("SetupEditor",{editor:this});const I=G_(i);Xt(I)&&I.call(i,i)}render(){IW(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Tf(this)}translate(t){return Di.translate(t)}getParam(t,n,s){const i=this.options;return i.isRegistered(t)||(Ke(s)?i.register(t,{processor:s,default:n}):i.register(t,{processor:Go,default:n})),!i.isSet(t)&&!bn(n)?n:i.get(t)}hasPlugin(t,n){return on(Kx(this),t)?n?Q1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,i){this.shortcuts.add(t,n,s,i)}execCommand(t,n,s,i){return this.editorCommands.execCommand(t,n,s,i)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(y2.show(t.getContainer()),y2.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(y2.hide(t.getContainer()),y2.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const i={...t,load:!0},c=Ld(s)?s.value:s.innerHTML,u=n.setContent(c,i);return i.no_events||n.dispatch("LoadContent",{...i,element:s}),u}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const i={...t,save:!0,element:s};let c=n.getContent(i);const u={...i,content:c};if(u.no_events||n.dispatch("SaveContent",u),u.format==="raw"&&n.dispatch("RawSaveContent",u),c=u.content,Ld(s))s.value=c;else{(t.is_removing||!n.inline)&&(s.innerHTML=c);const g=y2.getParent(n.id,"form");g&&rG(g.elements,v=>v.name===n.id?(v.value=c,!1):!0)}return u.element=i.element=s=null,u.set_dirty!==!1&&n.setDirty(!1),c}setContent(t,n){return Tb(this,t,n)}getContent(t){return VB(this,t)}insertContent(t,n){n&&(t=$9({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?Tb(this,this.startContent,{format:"raw"}):Tb(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||y2.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=y2.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const i=this,c=i.options.get,u=K_(i);if(Xt(u))return u.call(i,t,s,!0,n);if(!c("convert_urls")||s==="link"||ne(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const g=new bl(t);return g.protocol!=="http"&&g.protocol!=="https"&&g.protocol!==""?t:c("relative_urls")?i.documentBaseURI.toRelative(t):(t=i.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){QW(this,t)}setEditableRoot(t){LW(this,t)}hasEditableRoot(){return FW(this)}remove(){mO(this)}destroy(t){q3(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const s_=Ds.DOM,D7=Dt.each;let U9=!1,O7,xd=[];const N7=e=>{const t=e.type;D7(Kb.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},Z9=e=>{if(e!==U9){const t=Ds.DOM;e?(t.bind(window,"resize",N7),t.bind(window,"scroll",N7)):(t.unbind(window,"resize",N7),t.unbind(window,"scroll",N7)),U9=e}},j9=e=>{const t=xd;return xd=_o(xd,n=>e!==n),Kb.activeEditor===e&&(Kb.activeEditor=xd.length>0?xd[0]:null),Kb.focusedEditor===e&&(Kb.focusedEditor=null),t.length!==xd.length},aG=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(j9(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},iG=document.compatMode!=="CSS1Compat",Kb={...VI,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"9.1",releaseDate:"2025-05-29",i18n:Di,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=bl.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,n=i.suffix;else{const c=document.getElementsByTagName("script");for(let u=0;u<c.length;u++){const g=c[u].src||"";if(g==="")continue;const v=g.substring(g.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(g)){v.indexOf(".min")!==-1&&(n=".min"),t=g.substring(0,g.lastIndexOf("/"));break}}if(!t&&document.currentScript){const u=document.currentScript.src;u.indexOf(".min")!==-1&&(n=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new bl(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new bl(e.baseURL),e.suffix=n,bR(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&Un(s,(i,c)=>{Oi.PluginManager.urls[c]=i})},init(e){const t=this;let n;const s=Dt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=(O,M)=>O.inline&&M.tagName.toLowerCase()in s,c=O=>{let M=O.id;return M||(M=kn(O,"name").filter(I=>!s_.get(I)).getOrThunk(s_.uniqueId),O.setAttribute("id",M)),M},u=O=>{const M=e[O];if(M)return M.apply(t,[])},g=O=>Vo.browser.isIE()||Vo.browser.isEdge()?(hC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):iG?(hC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Ue(O.selector)?s_.select(O.selector):Ke(O.target)?[O.target]:[];let v=O=>{n=O};const S=()=>{let O=0;const M=[];let I;const j=(J,G,se)=>{const ge=new T7(J,G,t);M.push(ge),ge.on("init",()=>{++O===I.length&&v(M)}),ge.targetElm=ge.targetElm||se,ge.render()};s_.unbind(window,"ready",S),u("onpageload"),I=Vt(g(e)),Dt.each(I,J=>{aG(t.get(J.id))}),I=Dt.grep(I,J=>!t.get(J.id)),I.length===0?v([]):D7(I,J=>{i(e,J)?hC("Could not initialize inline editor on invalid inline target element",J):j(c(J),e,J)})};return s_.bind(window,"ready",S),new Promise(O=>{n?O(n):v=M=>{O(M)}})},get(e){return arguments.length===0?xd.slice(0):Ue(e)?js(xd,t=>t.id===e).getOr(null):A(e)&&xd[e]?xd[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&xd.push(e),Z9(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),O7||(O7=s=>{const i=t.dispatch("BeforeUnload");if(i.returnValue)return s.preventDefault(),s.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",O7))),e},createEditor(e,t){return this.add(new T7(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=xd.length-1;s>=0;s--)t.remove(xd[s]);return}if(Ue(e)){D7(s_.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,hn(t.get(n.id))?null:(j9(n)&&t.dispatch("RemoveEditor",{editor:n}),xd.length===0&&window.removeEventListener("beforeunload",O7),n.remove(),Z9(xd.length>0),n)},execCommand(e,t,n){var s;const i=this,c=ne(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!i.get(c)){const u=n.options;new T7(c,u,i).render()}return!0}case"mceRemoveEditor":{const u=i.get(c);return u&&u.remove(),!0}case"mceToggleEditor":{const u=i.get(c);return u?(u.isHidden()?u.show():u.hide(),!0):(i.execCommand("mceAddEditor",!1,n),!0)}}return i.activeEditor?i.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{D7(xd,e=>{e.save()})},addI18n:(e,t)=>{Di.add(e,t)},translate:e=>Di.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new bl(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new bl(this.baseURL)}};Kb.setup();const lG=(()=>{const e=nl(),t=c=>({items:c,types:Fr(c),getType:u=>kn(c,u).getOrUndefined()}),n=c=>{e.set(c)},s=()=>e.get().getOrUndefined(),i=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:i}})(),W9=Math.min,r_=Math.max,R7=Math.round,q9=(e,t,n)=>{let s=t.x,i=t.y;const c=e.w,u=e.h,g=t.w,v=t.h,S=(n||"").split("");return S[0]==="b"&&(i+=v),S[1]==="r"&&(s+=g),S[0]==="c"&&(i+=R7(v/2)),S[1]==="c"&&(s+=R7(g/2)),S[3]==="b"&&(i-=u),S[4]==="r"&&(s-=c),S[3]==="c"&&(i-=R7(u/2)),S[4]==="c"&&(s-=R7(c/2)),a_(s,i,c,u)},cG=(e,t,n,s)=>{for(let i=0;i<s.length;i++){const c=q9(e,t,s[i]);if(c.x>=n.x&&c.x+c.w<=n.w+n.x&&c.y>=n.y&&c.y+c.h<=n.h+n.y)return s[i]}return null},dG=(e,t,n)=>a_(e.x-t,e.y-n,e.w+t*2,e.h+n*2),uG=(e,t)=>{const n=r_(e.x,t.x),s=r_(e.y,t.y),i=W9(e.x+e.w,t.x+t.w),c=W9(e.y+e.h,t.y+t.h);return i-n<0||c-s<0?null:a_(n,s,i-n,c-s)},mG=(e,t,n)=>{let s=e.x,i=e.y,c=e.x+e.w,u=e.y+e.h;const g=t.x+t.w,v=t.y+t.h,S=r_(0,t.x-s),O=r_(0,t.y-i),M=r_(0,c-g),I=r_(0,u-v);return s+=S,i+=O,n&&(c+=S,u+=O,s-=M,i-=I),c-=M,u-=I,a_(s,i,c-s,u-i)},a_=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),fG={inflate:dG,relativePosition:q9,findBestRelativePosition:cG,intersect:uG,clamp:mG,create:a_,fromClientRect:e=>a_(e.left,e.top,e.width,e.height)},pG=(e,t,n=1e3)=>{let s=!1,i=null;const c=S=>(...O)=>{s||(s=!0,i!==null&&(window.clearTimeout(i),i=null),S.apply(null,O))},u=c(e),g=c(t);return{start:(...S)=>{!s&&i===null&&(i=window.setTimeout(()=>g.apply(null,S),n))},resolve:u,reject:g}},gG=(()=>{const e={},t={},n={};return{load:(v,S)=>{const O=`Script at URL "${S}" failed to load`,M=`Script at URL "${S}" did not call \`tinymce.Resource.add('${v}', data)\` within 1 second`;if(e[v]!==void 0)return e[v];{const I=new Promise((j,J)=>{const G=pG(j,J);t[v]=G.resolve,Vd.ScriptLoader.loadScript(S).then(()=>G.start(M),()=>G.reject(O))});return e[v]=I,I}},add:(v,S)=>{t[v]!==void 0&&(t[v](S),delete t[v]),e[v]=Promise.resolve(S),n[v]=S},has:v=>v in n,get:v=>n[v],unload:v=>{delete e[v],delete n[v]}}})(),hG=()=>(()=>{let e={},t=[];const n={getItem:s=>{const i=e[s];return i||null},setItem:(s,i)=>{t.push(s),e[s]=String(i)},key:s=>t[s],removeItem:s=>{t=t.filter(i=>i===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let xE;try{const e="__storage_test__";xE=window.localStorage,xE.setItem(e,e),xE.removeItem(e)}catch{xE=hG()}var bG=xE;const xG={geom:{Rect:fG},util:{Delay:No,Tools:Dt,VK:qt,URI:bl,EventDispatcher:HI,Observable:VI,I18n:Di,LocalStorage:bG,ImageUploader:PO},dom:{EventUtils:Ll,TreeWalker:Ys,TextSeeker:xf,DOMUtils:Ds,ScriptLoader:Vd,RangeUtils:Fp,Serializer:V3,StyleSheetLoader:ml,ControlSelection:jy,BookmarkManager:iv,Selection:z3,Event:Ll.Event},html:{Styles:Qo,Entities:fm,Node:Ul,Schema:gf,DomParser:K1,Writer:W5,Serializer:Kg},Env:Vo,AddOnManager:Oi,Annotator:p5,Formatter:ZO,UndoManager:WO,EditorCommands:M9,WindowManager:vO,NotificationManager:G3,EditorObservable:I9,Shortcuts:V9,Editor:T7,FocusManager:Pp,EditorManager:Kb,DOM:Ds.DOM,ScriptLoader:Vd.ScriptLoader,PluginManager:Q1,ThemeManager:gh,ModelManager:Ob,IconManager:ph,Resource:gG,FakeClipboard:lG,trim:Dt.trim,isArray:Dt.isArray,is:Dt.is,toArray:Dt.toArray,makeMap:Dt.makeMap,each:Dt.each,map:Dt.map,grep:Dt.grep,inArray:Dt.inArray,extend:Dt.extend,walk:Dt.walk,resolve:Dt.resolve,explode:Dt.explode,_addCacheSuffix:Dt._addCacheSuffix},G9=Dt.extend(Kb,xG),vG=e=>{try{re.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(G9),vG(G9)})()}(YI)),YI.exports}wY();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const re=Object.getPrototypeOf,ye=(o,r,a)=>{var l;return!!a(o,r.prototype)||((l=o.constructor)===null||l===void 0?void 0:l.name)===r.name},Fe=o=>r=>(a=>{const l=typeof a;return a===null?"null":l==="object"&&Array.isArray(a)?"array":l==="object"&&ye(a,String,(d,m)=>m.isPrototypeOf(d))?"string":l})(r)===o,Oe=o=>r=>typeof r===o,Xe=o=>r=>o===r,Se=Fe("string"),Ee=Fe("object"),He=o=>((r,a)=>Ee(r)&&ye(r,a,(l,d)=>re(l)===d))(o,Object),Ze=Fe("array"),ut=Xe(null),Ct=Oe("boolean"),Ht=Xe(void 0),xt=o=>o==null,Ne=o=>!xt(o),gt=Oe("function"),Tt=Oe("number"),lt=(o,r)=>{if(Ze(o)){for(let a=0,l=o.length;a<l;++a)if(!r(o[a]))return!1;return!0}return!1},xe=()=>{},Pe=o=>()=>o(),Ue=(o,r)=>(...a)=>o(r.apply(null,a)),ne=o=>()=>o,kt=o=>o,pe=(o,r)=>o===r;function hn(o,...r){return(...a)=>{const l=r.concat(a);return o.apply(null,l)}}const is=o=>r=>!o(r),bn=o=>()=>{throw new Error(o)},qo=o=>o(),Ke=ne(!1),Xt=ne(!0);class A{constructor(r,a){this.tag=r,this.value=a}static some(r){return new A(!0,r)}static none(){return A.singletonNone}fold(r,a){return this.tag?a(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?A.some(r(this.value)):A.none()}bind(r){return this.tag?r(this.value):A.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:A.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return Ne(r)?A.some(r):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const Co=Array.prototype.slice,ko=Array.prototype.indexOf,Bn=Array.prototype.push,dr=(o,r)=>ko.call(o,r),St=(o,r)=>dr(o,r)>-1,Tn=(o,r)=>{for(let a=0,l=o.length;a<l;a++)if(r(o[a],a))return!0;return!1},Ci=(o,r)=>{const a=[];for(let l=0;l<o;l++)a.push(r(l));return a},je=(o,r)=>{const a=[];for(let l=0;l<o.length;l+=r){const d=Co.call(o,l,l+r);a.push(d)}return a},Ae=(o,r)=>{const a=o.length,l=new Array(a);for(let d=0;d<a;d++){const m=o[d];l[d]=r(m,d)}return l},ht=(o,r)=>{for(let a=0,l=o.length;a<l;a++)r(o[a],a)},dn=(o,r)=>{const a=[],l=[];for(let d=0,m=o.length;d<m;d++){const p=o[d];(r(p,d)?a:l).push(p)}return{pass:a,fail:l}},Oo=(o,r)=>{const a=[];for(let l=0,d=o.length;l<d;l++){const m=o[l];r(m,l)&&a.push(m)}return a},Ao=(o,r,a)=>(((l,d)=>{for(let m=l.length-1;m>=0;m--)d(l[m],m)})(o,(l,d)=>{a=r(a,l,d)}),a),Go=(o,r,a)=>(ht(o,(l,d)=>{a=r(a,l,d)}),a),z=(o,r)=>((a,l,d)=>{for(let m=0,p=a.length;m<p;m++){const b=a[m];if(l(b,m))return A.some(b);if(d(b,m))break}return A.none()})(o,r,Ke),ur=(o,r)=>{for(let a=0,l=o.length;a<l;a++)if(r(o[a],a))return A.some(a);return A.none()},Ps=o=>{const r=[];for(let a=0,l=o.length;a<l;++a){if(!Ze(o[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+o);Bn.apply(r,o[a])}return r},Uo=(o,r)=>Ps(Ae(o,r)),_i=(o,r)=>{for(let a=0,l=o.length;a<l;++a)if(r(o[a],a)!==!0)return!1;return!0},oa=o=>{const r=Co.call(o,0);return r.reverse(),r},on=(o,r)=>Oo(o,a=>!St(r,a)),Kn=(o,r)=>{const a={};for(let l=0,d=o.length;l<d;l++){const m=o[l];a[String(m)]=r(m,l)}return a},Xo=o=>[o],nt=(o,r)=>{const a=Co.call(o,0);return a.sort(r),a},jl=(o,r)=>r>=0&&r<o.length?A.some(o[r]):A.none(),xr=o=>jl(o,0),_o=o=>jl(o,o.length-1),vc=gt(Array.from)?Array.from:o=>Co.call(o),ws=(o,r)=>{for(let a=0;a<o.length;a++){const l=r(o[a],a);if(l.isSome())return l}return A.none()},Zs=Object.keys,js=Object.hasOwnProperty,mr=(o,r)=>{const a=Zs(o);for(let l=0,d=a.length;l<d;l++){const m=a[l];r(o[m],m)}},Ss=(o,r)=>na(o,(a,l)=>({k:l,v:r(a,l)})),na=(o,r)=>{const a={};return mr(o,(l,d)=>{const m=r(l,d);a[m.k]=m.v}),a},vn=o=>(r,a)=>{o[a]=r},tl=(o,r,a,l)=>{mr(o,(d,m)=>{(r(d,m)?a:l)(d,m)})},ol=(o,r)=>{const a={};return tl(o,r,vn(a),xe),a},Ya=(o,r)=>{const a=[];return mr(o,(l,d)=>{a.push(r(l,d))}),a},ki=(o,r)=>{const a=Zs(o);for(let l=0,d=a.length;l<d;l++){const m=a[l],p=o[m];if(r(p,m,o))return A.some(p)}return A.none()},nr=o=>Ya(o,kt),Kt=(o,r)=>jo(o,r)?A.from(o[r]):A.none(),jo=(o,r)=>js.call(o,r),xs=(o,r)=>jo(o,r)&&o[r]!==void 0&&o[r]!==null,Lr=o=>{if(!Ze(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const r=[],a={};return ht(o,(l,d)=>{const m=Zs(l);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],b=l[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ze(b))throw new Error("case arguments must be an array");r.push(p),a[p]=(...x)=>{const w=x.length;if(w!==b.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+b.length+" ("+b+"), got "+w);return{fold:(...E)=>{if(E.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+E.length);return E[d].apply(null,x)},match:E=>{const C=Zs(E);if(r.length!==C.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+C.join(","));if(!_i(r,T=>St(C,T)))throw new Error("Not all branches were specified when using match. Specified: "+C.join(", ")+`
Required: `+r.join(", "));return E[p].apply(null,x)},log:E=>{console.log(E,{constructors:r,constructor:p,params:x})}}}}),a},Vt=o=>{let r=o;return{get:()=>r,set:a=>{r=a}}},Fr=o=>{let r=A.none(),a=[];const l=p=>{d()?m(p):a.push(p)},d=()=>r.isSome(),m=p=>{r.each(b=>{setTimeout(()=>{p(b)},0)})};return o(p=>{d()||(r=A.some(p),ht(a,m),a=[])}),{get:l,map:p=>Fr(b=>{l(x=>{b(p(x))})}),isReady:d}},tu={nu:Fr,pure:o=>Fr(r=>{r(o)})},Un=o=>{setTimeout(()=>{throw o},0)},jn=o=>{const r=a=>{o().then(a,Un)};return{map:a=>jn(()=>o().then(a)),bind:a=>jn(()=>o().then(l=>a(l).toPromise())),anonBind:a=>jn(()=>o().then(()=>a.toPromise())),toLazy:()=>tu.nu(r),toCached:()=>{let a=null;return jn(()=>(a===null&&(a=o()),a))},toPromise:o,get:r}},sa=o=>jn(()=>new Promise(o)),Dr=o=>jn(()=>Promise.resolve(o)),ou=o=>{const r=m=>m(o),a=ne(o),l=()=>d,d={tag:!0,inner:o,fold:(m,p)=>p(o),isValue:Xt,isError:Ke,map:m=>Fo.value(m(o)),mapError:l,bind:r,exists:r,forall:r,getOr:a,or:l,getOrThunk:a,orThunk:l,getOrDie:a,each:m=>{m(o)},toOptional:()=>A.some(o)};return d},Zc=o=>{const r=()=>a,a={tag:!1,inner:o,fold:(l,d)=>l(o),isValue:Ke,isError:Xt,map:r,mapError:l=>Fo.error(l(o)),bind:r,exists:Ke,forall:Xt,getOr:kt,or:kt,getOrThunk:qo,orThunk:qo,getOrDie:bn(String(o)),each:xe,toOptional:A.none};return a},Fo={value:ou,error:Zc,fromOption:(o,r)=>o.fold(()=>Zc(r),ou)},fr=o=>({...o,toCached:()=>fr(o.toCached()),bindFuture:r=>fr(o.bind(a=>a.fold(l=>Dr(Fo.error(l)),l=>r(l)))),bindResult:r=>fr(o.map(a=>a.bind(r))),mapResult:r=>fr(o.map(a=>a.map(r))),mapError:r=>fr(o.map(a=>a.mapError(r))),foldResult:(r,a)=>o.map(l=>l.fold(r,a)),withTimeout:(r,a)=>fr(sa(l=>{let d=!1;const m=setTimeout(()=>{d=!0,l(Fo.error(a()))},r);o.get(p=>{d||(clearTimeout(m),l(p))})}))}),pa=o=>fr(sa(o)),kn=typeof window<"u"?window:Function("return this;")(),Jt=(o,r,a,l)=>{const d=o+r;return d>l?a:d<a?l:d},zr=(o,r,a)=>Math.min(Math.max(o,r),a);let yc=0;const Me=o=>{const r=new Date().getTime(),a=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return yc++,o+"_"+a+yc+String(r)},ka=o=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const a={};for(let l=0;l<r.length;l++){const d=r[l];for(const m in d)jo(d,m)&&(a[m]=o(a[m],d[m]))}return a},Wo=ka((o,r)=>He(o)&&He(r)?Wo(o,r):r),nu=ka((o,r)=>r),Sa=(o,r,a=pe)=>o.exists(l=>a(l,r)),Wl=o=>{const r=[],a=l=>{r.push(l)};for(let l=0;l<o.length;l++)o[l].each(a);return r},vr=(o,r,a)=>o.isSome()&&r.isSome()?A.some(a(o.getOrDie(),r.getOrDie())):A.none(),wc=(o,r)=>o!=null?A.some(r(o)):A.none(),ci=(o,r)=>o?A.some(r):A.none(),wd=(o,r)=>((a,l)=>{let d=l??kn;for(let m=0;m<a.length&&d!=null;++m)d=d[a[m]];return d})(o.split("."),r);Lr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Is=o=>{const r=Vt(A.none()),a=()=>r.get().each(o);return{clear:()=>{a(),r.set(A.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:l=>{a(),r.set(A.some(l))}}},Cs=()=>Is(o=>o.unbind()),Pn=()=>{const o=Is(xe);return{...o,on:r=>o.get().each(r)}},Mi=(o,r,a)=>r===""||o.length>=r.length&&o.substr(a,a+r.length)===r,Yn=(o,r)=>Cc(o,r)?((a,l)=>a.substring(l))(o,r.length):o,Es=(o,r,a=0,l)=>{const d=o.indexOf(r,a);return d!==-1&&(!!Ht(l)||d+r.length<=l)},Cc=(o,r)=>Mi(o,r,0),Si=(o,r)=>Mi(o,r,o.length-r.length),ql=(Yu=/^\s+|\s+$/g,o=>o.replace(Yu,"")),Gl=o=>o.length>0,sr=o=>!Gl(o),su=(o,r)=>{let a=null;const l=()=>{ut(a)||(clearTimeout(a),a=null)};return{cancel:l,throttle:(...d)=>{l(),a=setTimeout(()=>{a=null,o.apply(null,d)},r)}}},rr=o=>{let r,a=!1;return(...l)=>(a||(a=!0,r=o.apply(null,l)),r)},ru=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},Um=(o,r)=>{const a=document.createElement("div");if(a.innerHTML=o,!a.hasChildNodes()||a.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,o),new Error(l)}return ru(a.childNodes[0])},Kl=(o,r)=>{const a=document.createElement(o);return ru(a)},Ku=(o,r)=>{const a=document.createTextNode(o);return ru(a)},Ft=ru,nl=(o,r,a)=>{const l=o.document.createRange();var d;return d=l,r.fold(m=>{d.setStartBefore(m.dom)},(m,p)=>{d.setStart(m.dom,p)},m=>{d.setStartAfter(m.dom)}),((m,p)=>{p.fold(b=>{m.setEndBefore(b.dom)},(b,x)=>{m.setEnd(b.dom,x)},b=>{m.setEndAfter(b.dom)})})(l,a),l},au=(o,r,a,l,d)=>{const m=o.document.createRange();return m.setStart(r.dom,a),m.setEnd(l.dom,d),m},Cd=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),Yl=Lr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Or=(o,r,a)=>r(Ft(a.startContainer),a.startOffset,Ft(a.endContainer),a.endOffset),ar=(o,r)=>((a,l)=>{const d=((m,p)=>p.match({domRange:b=>({ltr:ne(b),rtl:A.none}),relative:(b,x)=>({ltr:rr(()=>nl(m,b,x)),rtl:rr(()=>A.some(nl(m,x,b)))}),exact:(b,x,w,E)=>({ltr:rr(()=>au(m,b,x,w,E)),rtl:rr(()=>A.some(au(m,w,E,b,x)))})}))(a,l);return((m,p)=>{const b=p.ltr();return b.collapsed?p.rtl().filter(x=>x.collapsed===!1).map(x=>Yl.rtl(Ft(x.endContainer),x.endOffset,Ft(x.startContainer),x.startOffset)).getOrThunk(()=>Or(0,Yl.ltr,b)):Or(0,Yl.ltr,b)})(0,d)})(o,r).match({ltr:(a,l,d,m)=>{const p=o.document.createRange();return p.setStart(a.dom,l),p.setEnd(d.dom,m),p},rtl:(a,l,d,m)=>{const p=o.document.createRange();return p.setStart(d.dom,m),p.setEnd(a.dom,l),p}});var Yu;Yl.ltr,Yl.rtl;const Ia=(o,r)=>{const a=o.dom;if(a.nodeType!==1)return!1;{const l=a;if(l.matches!==void 0)return l.matches(r);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(r);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(r);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},jc=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,jf=(o,r)=>{const a=r===void 0?document:r.dom;return jc(a)?A.none():A.from(a.querySelector(o)).map(Ft)},In=(o,r)=>o.dom===r.dom,La=(o,r)=>{const a=o.dom,l=r.dom;return a!==l&&a.contains(l)},Wc=()=>Xl(0,0),Xl=(o,r)=>({major:o,minor:r}),Cl={nu:Xl,detect:(o,r)=>{const a=String(r).toLowerCase();return o.length===0?Wc():((l,d)=>{const m=((b,x)=>{for(let w=0;w<b.length;w++){const E=b[w];if(E.test(x))return E}})(l,d);if(!m)return{major:0,minor:0};const p=b=>Number(d.replace(m,"$"+b));return Xl(p(1),p(2))})(o,a)},unknown:Wc},Xa=(o,r)=>{const a=String(r).toLowerCase();return z(o,l=>l.search(a))},qc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ir=o=>r=>Es(r,o),Ea=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>Es(o,"edge/")&&Es(o,"chrome")&&Es(o,"safari")&&Es(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,qc],search:o=>Es(o,"chrome")&&!Es(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>Es(o,"msie")||Es(o,"trident")},{name:"Opera",versionRegexes:[qc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ir("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ir("firefox")},{name:"Safari",versionRegexes:[qc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(Es(o,"safari")||Es(o,"mobile/"))&&Es(o,"applewebkit")}],Ls=[{name:"Windows",search:ir("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>Es(o,"iphone")||Es(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ir("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ir("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ir("linux"),versionRegexes:[]},{name:"Solaris",search:ir("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ir("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ir("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ga={browsers:ne(Ea),oses:ne(Ls)},Fs="Edge",Gc="Chromium",Ql="Opera",_d="Firefox",iu="Safari",yr=o=>{const r=o.current,a=o.version,l=d=>()=>r===d;return{current:r,version:a,isEdge:l(Fs),isChromium:l(Gc),isIE:l("IE"),isOpera:l(Ql),isFirefox:l(_d),isSafari:l(iu)}},_l=()=>yr({current:void 0,version:Cl.unknown()}),Jl=yr,kd="Windows",Hr="Android",Sd="Linux",ra="macOS",ec="Solaris",lu="FreeBSD",Zm="ChromeOS",Xu=o=>{const r=o.current,a=o.version,l=d=>()=>r===d;return{current:r,version:a,isWindows:l(kd),isiOS:l("iOS"),isAndroid:l(Hr),isMacOS:l(ra),isLinux:l(Sd),isSolaris:l(ec),isFreeBSD:l(lu),isChromeOS:l(Zm)}},Kc=()=>Xu({current:void 0,version:Cl.unknown()}),Fa=Xu,Z=o=>window.matchMedia(o).matches;let ae=rr(()=>((o,r,a)=>{const l=ga.browsers(),d=ga.oses(),m=r.bind(x=>((w,E)=>ws(E.brands,C=>{const T=C.brand.toLowerCase();return z(w,B=>{var L;return T===((L=B.brand)===null||L===void 0?void 0:L.toLowerCase())}).map(B=>({current:B.name,version:Cl.nu(parseInt(C.version,10),0)}))}))(l,x)).orThunk(()=>((x,w)=>Xa(x,w).map(E=>{const C=Cl.detect(E.versionRegexes,w);return{current:E.name,version:C}}))(l,o)).fold(_l,Jl),p=((x,w)=>Xa(x,w).map(E=>{const C=Cl.detect(E.versionRegexes,w);return{current:E.name,version:C}}))(d,o).fold(Kc,Fa),b=((x,w,E,C)=>{const T=x.isiOS()&&/ipad/i.test(E)===!0,B=x.isiOS()&&!T,L=x.isiOS()||x.isAndroid(),Y=L||C("(pointer:coarse)"),W=T||!B&&L&&C("(min-device-width:768px)"),X=B||L&&!W,$=w.isSafari()&&x.isiOS()&&/safari/i.test(E)===!1,U=!X&&!W&&!$;return{isiPad:ne(T),isiPhone:ne(B),isTablet:ne(W),isPhone:ne(X),isTouch:ne(Y),isAndroid:x.isAndroid,isiOS:x.isiOS,isWebView:ne($),isDesktop:ne(U)}})(p,m,o,a);return{browser:m,os:p,deviceType:b}})(window.navigator.userAgent,A.from(window.navigator.userAgentData),Z));const Ce=()=>ae(),rt=Object.getPrototypeOf,Nt=o=>{const r=wd("ownerDocument.defaultView",o);return Ee(o)&&((a=>((l,d)=>{const m=((p,b)=>wd(p,b))(l,d);if(m==null)throw new Error(l+" not available on this browser");return m})("HTMLElement",a))(r).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(rt(o).constructor.name))},Ut=o=>o.dom.nodeName.toLowerCase(),zo=o=>r=>(a=>a.dom.nodeType)(r)===o,cs=o=>Ho(o)&&Nt(o.dom),Ho=zo(1),P=zo(3),K=zo(9),me=zo(11),Te=o=>r=>Ho(r)&&Ut(r)===o,jt=o=>Ft(o.dom.ownerDocument),an=o=>K(o)?o:jt(o),Xn=o=>Ft(an(o).dom.documentElement),Vr=o=>Ft(an(o).dom.defaultView),Ln=o=>A.from(o.dom.parentNode).map(Ft),aa=o=>A.from(o.dom.parentElement).map(Ft),ia=o=>A.from(o.dom.offsetParent).map(Ft),Nr=o=>Ae(o.dom.childNodes,Ft),ds=(o,r)=>{const a=o.dom.childNodes;return A.from(a[r]).map(Ft)},jm=o=>ds(o,0),Qu=(o,r)=>({element:o,offset:r}),Qa=(o,r)=>{const a=Nr(o);return a.length>0&&r<a.length?Qu(a[r],0):Qu(o,r)},kl=o=>me(o)&&Ne(o.dom.host),Aa=o=>Ft(o.dom.getRootNode()),Ed=o=>kl(o)?o:Ft(an(o).dom.body),Sl=o=>{const r=Aa(o);return kl(r)?A.some(r):A.none()},Wf=o=>Ft(o.dom.host),Ju=o=>{const r=Ft((m=>{if(Ne(m.target)){const p=Ft(m.target);if(Ho(p)&&(b=>Ne(b.dom.shadowRoot))(p)&&m.composed&&m.composedPath){const b=m.composedPath();if(b)return xr(b)}}return A.from(m.target)})(o).getOr(o.target)),a=()=>o.stopPropagation(),l=()=>o.preventDefault(),d=Ue(l,a);return((m,p,b,x,w,E,C)=>({target:m,x:p,y:b,stop:x,prevent:w,kill:E,raw:C}))(r,o.clientX,o.clientY,a,l,d,o)},Yc=(o,r,a,l,d)=>{const m=((p,b)=>x=>{p(x)&&b(Ju(x))})(a,l);return o.dom.addEventListener(r,m,d),{unbind:hn(em,o,r,m,d)}},em=(o,r,a,l)=>{o.dom.removeEventListener(r,a,l)},ha=Xt,Jn=(o,r,a)=>((l,d,m,p)=>Yc(l,d,m,p,!1))(o,r,ha,a),El=(o,r,a)=>((l,d,m,p)=>Yc(l,d,m,p,!0))(o,r,ha,a),Ah=Ju,Wm=()=>Ft(document),Ws=(o,r=!1)=>o.dom.focus({preventScroll:r}),_c=o=>o.dom.blur(),tc=o=>{const r=Aa(o).dom;return o.dom===r.activeElement},Al=(o=Wm())=>A.from(o.dom.activeElement).map(Ft),As=o=>Al(Aa(o)).filter(r=>o.dom.contains(r.dom)),Bi=(o,r)=>{Ln(o).each(a=>{a.dom.insertBefore(r.dom,o.dom)})},cu=(o,r)=>{(l=>A.from(l.dom.nextSibling).map(Ft))(o).fold(()=>{Ln(o).each(l=>{Vo(l,r)})},l=>{Bi(l,r)})},Ad=(o,r)=>{jm(o).fold(()=>{Vo(o,r)},a=>{o.dom.insertBefore(r.dom,a.dom)})},Vo=(o,r)=>{o.dom.appendChild(r.dom)},cg=(o,r)=>{ht(r,a=>{Vo(o,a)})},dg=(o,r,a)=>{if(!(Se(a)||Ct(a)||Tt(a)))throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",a,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(r,a+"")},bo=(o,r,a)=>{dg(o.dom,r,a)},qf=(o,r)=>{const a=o.dom;mr(r,(l,d)=>{dg(a,d,l)})},wr=(o,r)=>{const a=o.dom.getAttribute(r);return a===null?void 0:a},Ta=(o,r)=>A.from(wr(o,r)),Gf=(o,r)=>{const a=o.dom;return!(!a||!a.hasAttribute)&&a.hasAttribute(r)},qs=(o,r)=>{o.dom.removeAttribute(r)},ug=o=>{o.dom.textContent="",ht(Nr(o),r=>{Td(r)})},Td=o=>{const r=o.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Dt=(o,r)=>Ft(o.dom.cloneNode(r)),Th=o=>o.dom.innerHTML,tm=(o,r)=>{const a=jt(o).dom,l=Ft(a.createDocumentFragment()),d=((m,p)=>{const b=(p||document).createElement("div");return b.innerHTML=m,Nr(Ft(b))})(r,a);cg(l,d),ug(o),Vo(o,l)},qm=o=>new Promise((r,a)=>{const l=()=>{m(),r(o)},d=[Jn(o,"load",l),Jn(o,"error",()=>{m(),a("Unable to load data from image: "+o.dom.src)})],m=()=>ht(d,p=>p.unbind());o.dom.complete&&l()}),kc=o=>o.style!==void 0&&gt(o.style.getPropertyValue),za=o=>{const r=P(o)?o.dom.parentNode:o.dom;if(r==null||r.ownerDocument===null)return!1;const a=r.ownerDocument;return Sl(Ft(r)).fold(()=>a.body.contains(r),(l=za,d=Wf,m=>l(d(m))));var l,d},ue=()=>Kf(Ft(document)),Kf=o=>{const r=o.dom.body;if(r==null)throw new Error("Body is not available yet");return Ft(r)},Rr=(o,r,a)=>{if(!Se(a))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",a,":: Element ",o),new Error("CSS value must be a string: "+a);kc(o)&&o.style.setProperty(r,a)},mg=(o,r)=>{kc(o)&&o.style.removeProperty(r)},To=(o,r,a)=>{const l=o.dom;Rr(l,r,a)},Ei=(o,r)=>{const a=o.dom;mr(r,(l,d)=>{Rr(a,d,l)})},Dd=(o,r)=>{const a=o.dom;mr(r,(l,d)=>{l.fold(()=>{mg(a,d)},m=>{Rr(a,d,m)})})},Ha=(o,r)=>{const a=o.dom,l=window.getComputedStyle(a).getPropertyValue(r);return l!==""||za(o)?l:Gm(a,r)},Gm=(o,r)=>kc(o)?o.style.getPropertyValue(r):"",ba=(o,r)=>{const a=o.dom,l=Gm(a,r);return A.from(l).filter(d=>d.length>0)},Km=o=>{const r={},a=o.dom;if(kc(a))for(let l=0;l<a.style.length;l++){const d=a.style.item(l);r[d]=a.style[d]}return r},Od=(o,r,a)=>{const l=Kl(o);return To(l,r,a),ba(l,r).isSome()},un=(o,r)=>{const a=o.dom;mg(a,r),Sa(Ta(o,"style").map(ql),"")&&qs(o,"style")},Va=o=>o.dom.offsetWidth,sl=(o,r)=>{const a=d=>{const m=r(d);if(m<=0||m===null){const p=Ha(d,o);return parseFloat(p)||0}return m},l=(d,m)=>Go(m,(p,b)=>{const x=Ha(d,b),w=x===void 0?0:parseInt(x,10);return isNaN(w)?p:p+w},0);return{set:(d,m)=>{if(!Tt(m)&&!m.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+m);const p=d.dom;kc(p)&&(p.style[o]=m+"px")},get:a,getOuter:a,aggregate:l,max:(d,m,p)=>{const b=l(d,p);return m>b?m-b:0}}},Tl=sl("height",o=>{const r=o.dom;return za(o)?r.getBoundingClientRect().height:r.offsetHeight}),Gs=o=>Tl.get(o),rl=o=>Tl.getOuter(o),du=o=>!(r=>r.offsetWidth<=0&&r.offsetHeight<=0)(o.dom),yn=sl("width",o=>o.dom.offsetWidth),Pi=sl("width",o=>{const r=o.dom;return za(o)?r.getBoundingClientRect().width:r.offsetWidth}),$a=o=>yn.get(o),Ro=o=>yn.getOuter(o),Xc=o=>Pi.getOuter(o),Qc=(o,r)=>({left:o,top:r,translate:(a,l)=>Qc(o+a,r+l)}),us=Qc,Dl=(o,r)=>o!==void 0?o:r!==void 0?r:0,pr=o=>{const r=o.dom.ownerDocument,a=r.body,l=r.defaultView,d=r.documentElement;if(a===o.dom)return us(a.offsetLeft,a.offsetTop);const m=Dl(l==null?void 0:l.pageYOffset,d.scrollTop),p=Dl(l==null?void 0:l.pageXOffset,d.scrollLeft),b=Dl(d.clientTop,a.clientTop),x=Dl(d.clientLeft,a.clientLeft);return xa(o).translate(p-x,m-b)},xa=o=>{const r=o.dom,a=r.ownerDocument.body;return a===r?us(a.offsetLeft,a.offsetTop):za(o)?(l=>{const d=l.getBoundingClientRect();return us(d.left,d.top)})(r):us(0,0)},Ii=o=>{const r=o!==void 0?o.dom:document,a=r.body.scrollLeft||r.documentElement.scrollLeft,l=r.body.scrollTop||r.documentElement.scrollTop;return us(a,l)},Ym=(o,r,a)=>{const l=(a!==void 0?a.dom:document).defaultView;l&&l.scrollTo(o,r)},Xm=(o=>{const r=a=>o(a)?A.from(a.dom.nodeValue):A.none();return{get:a=>{if(!o(a))throw new Error("Can only get text value of a text node");return r(a).getOr("")},getOption:r,set:(a,l)=>{if(!o(a))throw new Error("Can only set raw text value of a text node");a.dom.nodeValue=l}}})(P),Yf=(o,r)=>a=>uu(a)==="rtl"?r:o,uu=o=>Ha(o,"direction")==="rtl"?"rtl":"ltr",Xf=(o,r)=>{const a=wr(o,r);return a===void 0||a===""?[]:a.split(" ")};var Nd=(o,r,a,l,d)=>o(a,l)?A.some(a):gt(d)&&d(a)?A.none():r(a,l,d);const Sc=(o,r,a)=>{let l=o.dom;const d=gt(a)?a:Ke;for(;l.parentNode;){l=l.parentNode;const m=Ft(l);if(r(m))return A.some(m);if(d(m))break}return A.none()},Qm=(o,r,a)=>Nd((l,d)=>d(l),Sc,o,r,a),Dh=(o,r)=>z(o.dom.childNodes,a=>r(Ft(a))).map(Ft),Li=(o,r,a)=>Sc(o,l=>Ia(l,r),a),Rd=(o,r)=>(a=>{const l=a.dom;return l.parentNode?Dh(Ft(l.parentNode),d=>!In(a,d)&&Ia(d,r)):A.none()})(o),Jc=(o,r)=>Dh(o,a=>Ia(a,r)),On=(o,r)=>jf(r,o),Ec=(o,r,a)=>Nd((l,d)=>Ia(l,d),Li,o,r,a),Da=(o,r)=>{o.dom.checked=r},Md=o=>o.dom.checked,di=o=>o.dom.classList!==void 0,om=o=>Xf(o,"class"),Jm=(o,r)=>((a,l,d)=>{const m=Xf(a,l).concat([d]);return bo(a,l,m.join(" ")),!0})(o,"class",r),ef=(o,r)=>((a,l,d)=>{const m=Oo(Xf(a,l),p=>p!==d);return m.length>0?bo(a,l,m.join(" ")):qs(a,l),!1})(o,"class",r),ls=(o,r)=>{di(o)?o.dom.classList.add(r):Jm(o,r)},ed=o=>{(di(o)?o.dom.classList:om(o)).length===0&&qs(o,"class")},vs=(o,r)=>{di(o)?o.dom.classList.remove(r):ef(o,r),ed(o)},Ja=(o,r)=>di(o)&&o.dom.classList.contains(r),mu=(o,r)=>{ht(r,a=>{ls(o,a)})},ui=(o,r)=>{ht(r,a=>{vs(o,a)})},Qf=o=>di(o)?(r=>{const a=r.dom.classList,l=new Array(a.length);for(let d=0;d<a.length;d++){const m=a.item(d);m!==null&&(l[d]=m)}return l})(o):om(o),la=o=>o.dom.value,Bd=(o,r)=>{if(r===void 0)throw new Error("Value.set was undefined");o.dom.value=r},Oh=(o,r,a)=>Oo(((l,d)=>{const m=gt(d)?d:Ke;let p=l.dom;const b=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const x=p.parentNode,w=Ft(x);if(b.push(w),m(w)===!0)break;p=x}return b})(o,a),r),ca=(o,r)=>((a,l)=>{const d=l===void 0?document:l.dom;return jc(d)?[]:Ae(d.querySelectorAll(a),Ft)})(r,o),Jf=(o,r,a)=>Qm(o,r,a).isSome(),ep=(o,r,a)=>Ec(o,r,a).isSome(),Nh=o=>gt(o)?o:Ke,tp=(o,r,a)=>{let l=o.dom;const d=Nh(a);for(;l.parentNode;){l=l.parentNode;const m=Ft(l),p=r(m);if(p.isSome())return p;if(d(m))break}return A.none()},nm=(o,r,a)=>{const l=r(o),d=Nh(a);return l.orThunk(()=>d(o)?A.none():tp(o,r,d))},op=(o,r,a,l)=>({start:o,soffset:r,finish:a,foffset:l}),np=Lr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sp=(np.before,np.on,np.after,o=>o.fold(kt,kt,kt)),tf=Lr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ac={domRange:tf.domRange,relative:tf.relative,exact:tf.exact,exactFromRange:o=>tf.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const r=(a=>a.match({domRange:l=>Ft(l.startContainer),relative:(l,d)=>sp(l),exact:(l,d,m,p)=>l}))(o);return Vr(r)},range:op},ei=o=>{if(o.rangeCount>0){const r=o.getRangeAt(0),a=o.getRangeAt(o.rangeCount-1);return A.some(op(Ft(r.startContainer),r.startOffset,Ft(a.endContainer),a.endOffset))}return A.none()},td=o=>{if(o.anchorNode===null||o.focusNode===null)return ei(o);{const r=Ft(o.anchorNode),a=Ft(o.focusNode);return((l,d,m,p)=>{const b=((w,E,C,T)=>{const B=jt(w).dom.createRange();return B.setStart(w.dom,E),B.setEnd(C.dom,T),B})(l,d,m,p),x=In(l,m)&&d===p;return b.collapsed&&!x})(r,o.anchorOffset,a,o.focusOffset)?A.some(op(r,o.anchorOffset,a,o.focusOffset)):ei(o)}},sm=(o,r)=>(a=>{const l=a.getClientRects(),d=l.length>0?l[0]:a.getBoundingClientRect();return d.width>0||d.height>0?A.some(d).map(Cd):A.none()})(ar(o,r)),Zn={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},rp=(()=>{const o="[0-9]+",r="[eE][+-]?"+o,a=d=>`(?:${d})?`,l=["Infinity",o+"\\."+a(o)+a(r),"\\."+o+a(r),o+a(r)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),Tc=(o,r)=>A.from(rp.exec(o)).bind(a=>{const l=Number(a[1]),d=a[2];return((m,p)=>Tn(p,b=>Tn(Zn[b],x=>m===x)))(d,r)?A.some({value:l,unit:d}):A.none()}),oc=(o,r,a,l)=>({x:o,y:r,width:a,height:l,right:o+a,bottom:r+l}),of=o=>{const r=o===void 0?window:o,a=r.document,l=Ii(Ft(a));return(d=>{const m=d===void 0?window:d;return Ce().browser.isFirefox()?A.none():A.from(m.visualViewport)})(r).fold(()=>{const d=r.document.documentElement,m=d.clientWidth,p=d.clientHeight;return oc(l.left,l.top,m,p)},d=>oc(Math.max(d.pageLeft,l.left),Math.max(d.pageTop,l.top),d.width,d.height))},$r=(o,r)=>o.view(r).fold(ne([]),a=>{const l=o.owner(a),d=$r(o,l);return[a].concat(d)});var nc=Object.freeze({__proto__:null,view:o=>{var r;return(o.dom===document?A.none():A.from((r=o.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(Ft)},owner:o=>jt(o)});const Oa=o=>{const r=Wm(),a=Ii(r);return((d,m)=>{const p=m.owner(d),b=$r(m,p);return A.some(b)})(o,nc).fold(hn(pr,o),d=>{const m=xa(o),p=Ao(d,(b,x)=>{const w=xa(x);return{left:b.left+w.left,top:b.top+w.top}},{left:0,top:0});return us(p.left+m.left+a.left,p.top+m.top+a.top)})},zs=(o,r,a,l)=>({x:o,y:r,width:a,height:l,right:o+a,bottom:r+l}),Js=o=>{const r=pr(o),a=Ro(o),l=rl(o);return zs(r.left,r.top,a,l)},er=o=>{const r=Oa(o),a=Ro(o),l=rl(o);return zs(r.left,r.top,a,l)},fg=(o,r)=>{const a=Math.max(o.x,r.x),l=Math.max(o.y,r.y),d=Math.min(o.right,r.right),m=Math.min(o.bottom,r.bottom);return zs(a,l,d-a,m-l)},Na=()=>of(window),fu=(o,r)=>In(o.element,r.event.target),k=o=>(Sa(ba(o,"position"),"fixed")?A.none():ia(o)).orThunk(()=>{const r=Kl("span");return Ln(o).bind(a=>{Vo(a,r);const l=ia(r);return Td(r),l})}),R=o=>k(o).map(pr).getOrThunk(()=>us(0,0));var H;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(H||(H={}));const le=(o,r,a)=>o.stype===H.Error?r(o.serror):a(o.svalue),ve=o=>({stype:H.Value,svalue:o}),ft=o=>({stype:H.Error,serror:o}),co=ve,Mo=ft,Po=le,uo=o=>Ee(o)&&Zs(o).length>100?" removed due to size":JSON.stringify(o,null,2),Qn=(o,r)=>Mo([{path:o,getErrorInfo:r}]),Ks=o=>({extract:(r,a)=>((l,d)=>l.stype===H.Error?d(l.serror):l)(o(a),l=>((d,m)=>Qn(d,ne(m)))(r,l)),toString:ne("val")}),al=Ks(co),Ns=ne(al),Rh=(o,r)=>Ks(a=>{const l=typeof a;return o(a)?co(a):Mo(`Expected type: ${r} but got: ${l}`)}),r0=Rh(Tt,"number"),Mr=Rh(Se,"string"),pu=Rh(Ct,"boolean"),sc=Rh(gt,"function"),pg=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(r=>pg(o[r]));default:return!1}},Mh=Ks(o=>pg(o)?co(o):Mo("Expected value to be acceptable for sending via postMessage")),gg=o=>({tag:"defaultedThunk",process:o}),Bh=o=>gg(ne(o)),tx=o=>({tag:"mergeWithThunk",process:o}),T2=(o,r,a,l)=>({tag:"field",key:o,newKey:r,presence:a,prop:l}),a0=(o,r,a)=>{switch(o.tag){case"field":return r(o.key,o.newKey,o.presence,o.prop);case"custom":return a(o.newKey,o.instantiator)}},ox=o=>{const r=(l=>{const d=[],m=[];return ht(l,p=>{le(p,b=>m.push(b),b=>d.push(b))}),{values:d,errors:m}})(o);return r.errors.length>0?(a=r.errors,Ue(Mo,Ps)(a)):co(r.values);var a},Ph=(o,r,a,l)=>l(Kt(o,r).getOrThunk(()=>a(o))),hg=(o,r,a,l,d)=>{const m=b=>d.extract(r.concat([l]),b),p=b=>b.fold(()=>co(A.none()),x=>((w,E)=>w.stype===H.Value?{stype:H.Value,svalue:E(w.svalue)}:w)(d.extract(r.concat([l]),x),A.some));switch(o.tag){case"required":return((b,x,w,E)=>Kt(x,w).fold(()=>((C,T,B)=>Qn(C,()=>'Could not find valid *required* value for "'+T+'" in '+uo(B)))(b,w,x),E))(r,a,l,m);case"defaultedThunk":return Ph(a,l,o.process,m);case"option":return((b,x,w)=>w(Kt(b,x)))(a,l,p);case"defaultedOptionThunk":return((b,x,w,E)=>E(Kt(b,x).map(C=>C===!0?w(b):C)))(a,l,o.process,p);case"mergeWithThunk":return Ph(a,l,ne({}),b=>{const x=Wo(o.process(a),b);return m(x)})}},nx=o=>({extract:(r,a)=>o().extract(r,a),toString:()=>o().toString()}),rm=o=>Zs(ol(o,Ne)),rc=o=>{const r=xo(o),a=Ao(o,(l,d)=>a0(d,m=>Wo(l,{[m]:!0}),ne(l)),{});return{extract:(l,d)=>{const m=Ct(d)?[]:rm(d),p=Oo(m,b=>!xs(a,b));return p.length===0?r.extract(l,d):((b,x)=>Qn(b,()=>"There are unsupported fields: ["+x.join(", ")+"] specified"))(l,p)},toString:r.toString}},xo=o=>({extract:(r,a)=>((l,d,m)=>{const p={},b=[];for(const x of m)a0(x,(w,E,C,T)=>{const B=hg(C,l,d,w,T);Po(B,L=>{b.push(...L)},L=>{p[E]=L})},(w,E)=>{p[w]=E(d)});return b.length>0?Mo(b):co(p)})(r,a,o),toString:()=>`obj{
`+Ae(o,a=>a0(a,(l,d,m,p)=>l+" -> "+p.toString(),(l,d)=>"state("+l+")")).join(`
`)+"}"}),Pd=o=>({extract:(r,a)=>{const l=Ae(a,(d,m)=>o.extract(r.concat(["["+m+"]"]),d));return ox(l)},toString:()=>"array("+o.toString()+")"}),bg=(o,r)=>{const a=r!==void 0?r:kt;return{extract:(l,d)=>{const m=[];for(const p of o){const b=p.extract(l,d);if(b.stype===H.Value)return{stype:H.Value,svalue:a(b.svalue)};m.push(b)}return ox(m)},toString:()=>"oneOf("+Ae(o,l=>l.toString()).join(", ")+")"}},sx=(o,r)=>({extract:(a,l)=>{const d=Zs(l),m=((p,b)=>Pd(Ks(o)).extract(p,b))(a,d);return((p,b)=>p.stype===H.Value?b(p.svalue):p)(m,p=>{const b=Ae(p,x=>T2(x,x,{tag:"required",process:{}},r));return xo(b).extract(a,l)})},toString:()=>"setOf("+r.toString()+")"}),i0=Ue(Pd,xo),nf=(o,r)=>({extract:(a,l)=>Kt(l,o).fold(()=>((d,m)=>Qn(d,()=>'Choice schema did not contain choice key: "'+m+'"'))(a,o),d=>((m,p,b,x)=>Kt(b,x).fold(()=>((w,E,C)=>Qn(w,()=>'The chosen schema: "'+C+'" did not exist in branches: '+uo(E)))(m,b,x),w=>w.extract(m.concat(["branch: "+x]),p)))(a,l,r,d)),toString:()=>"chooseOn("+o+"). Possible values: "+Zs(r)}),ap=o=>Ks(r=>o(r).fold(Mo,co)),xg=(o,r)=>sx(a=>o(a).fold(ft,ve),r),Hs=(o,r,a)=>{return l=((d,m,p)=>((b,x)=>b.stype===H.Error?{stype:H.Error,serror:x(b.serror)}:b)(m.extract([d],p),b=>({input:p,errors:b})))(o,r,a),le(l,Fo.error,Fo.value);var l},Ol=o=>o.fold(r=>{throw new Error(sf(r))},kt),mi=(o,r,a)=>Ol(Hs(o,r,a)),sf=o=>`Errors: 
`+(r=>{const a=r.length>10?r.slice(0,10).concat([{path:[],getErrorInfo:ne("... (only showing first ten failures)")}]):r;return Ae(a,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+uo(o.input),Fi=(o,r)=>nf(o,Ss(r,xo)),vg=(o,r)=>((a,l)=>{const d=rr(l);return{extract:(m,p)=>d().extract(m,p),toString:()=>d().toString()}})(0,r),lr=T2,Ur=(o,r)=>({tag:"custom",newKey:o,instantiator:r}),yg=o=>ap(r=>St(o,r)?Fo.value(r):Fo.error(`Unsupported value: "${r}", choose one of "${o.join(", ")}".`)),ct=o=>lr(o,o,{tag:"required",process:{}},Ns()),il=(o,r)=>lr(o,o,{tag:"required",process:{}},r),gu=o=>il(o,r0),Cr=o=>il(o,Mr),zi=(o,r)=>lr(o,o,{tag:"required",process:{}},yg(r)),Hi=o=>il(o,sc),hu=(o,r)=>lr(o,o,{tag:"required",process:{}},xo(r)),ip=(o,r)=>lr(o,o,{tag:"required",process:{}},i0(r)),fi=(o,r)=>lr(o,o,{tag:"required",process:{}},Pd(r)),Sn=o=>lr(o,o,{tag:"option",process:{}},Ns()),Vi=(o,r)=>lr(o,o,{tag:"option",process:{}},r),Zr=o=>Vi(o,r0),tr=o=>Vi(o,Mr),l0=(o,r)=>Vi(o,yg(r)),Ra=o=>Vi(o,sc),lp=(o,r)=>Vi(o,Pd(r)),ll=(o,r)=>Vi(o,xo(r)),Ie=(o,r)=>lr(o,o,Bh(r),Ns()),ti=(o,r,a)=>lr(o,o,Bh(r),a),rf=(o,r)=>ti(o,r,r0),_s=(o,r)=>ti(o,r,Mr),od=(o,r,a)=>ti(o,r,yg(a)),Ua=(o,r)=>ti(o,r,pu),mn=(o,r)=>ti(o,r,sc),bu=(o,r,a)=>ti(o,r,Pd(a)),c0=(o,r,a)=>ti(o,r,xo(a)),am=(o,r)=>((a,l)=>({[a]:l}))(o,r),cp=o=>(r=>{const a={};return ht(r,l=>{a[l.key]=l.value}),a})(o),Ma=ne,xu=Ma("touchstart"),dp=Ma("touchmove"),af=Ma("touchend"),nd=Ma("touchcancel"),Nl=Ma("mousedown"),Ih=Ma("mousemove"),lf=Ma("mouseout"),rx=Ma("mouseup"),$i=Ma("mouseover"),Rl=Ma("focusin"),ax=Ma("focusout"),Id=Ma("keydown"),g_=Ma("keyup"),im=Ma("input"),cf=Ma("change"),cl=Ma("click"),Lh=Ma("transitioncancel"),wg=Ma("transitionend"),h_=Ma("transitionstart"),d0=Ma("selectstart"),gr=o=>ne("alloy."+o),D2={tap:gr("tap")},Dc=gr("focus"),lm=gr("blur.post"),df=gr("paste.post"),uf=gr("receive"),dl=gr("execute"),cm=gr("focus.item"),Cg=D2.tap,Fh=gr("longpress"),zh=gr("sandbox.close"),u0=gr("typeahead.cancel"),m0=gr("system.init"),O2=gr("system.touchmove"),N2=gr("system.touchend"),f0=gr("system.scroll"),dm=gr("system.resize"),ac=gr("system.attached"),Ys=gr("system.detached"),up=gr("system.dismissRequested"),mp=gr("system.repositionRequested"),p0=gr("focusmanager.shifted"),g0=gr("slotcontainer.visibility"),Hh=gr("system.external.element.scroll"),h0=gr("change.tab"),Vh=gr("dismiss.tab"),um=gr("highlight"),_g=gr("dehighlight"),Wt=o=>(r=>{if(kl(r))return"#shadow-root";{const a=(l=>Dt(l,!1))(r);return(l=>{const d=Kl("div"),m=Ft(l.dom.cloneNode(!0));return Vo(d,m),Th(d)})(a)}})(o);var pi;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(pi||(pi={}));const $h=Vt({}),fp=["alloy/data/Fields","alloy/debugging/Debugging"],Oc=(o,r,a)=>((l,d,m)=>{switch(Kt($h.get(),l).orThunk(()=>{const p=Zs($h.get());return ws(p,b=>l.indexOf(b)>-1?A.some($h.get()[b]):A.none())}).getOr(pi.NORMAL)){case pi.NORMAL:return m(kg());case pi.LOGGING:{const p=((x,w)=>{const E=[],C=new Date().getTime();return{logEventCut:(T,B,L)=>{E.push({outcome:"cut",target:B,purpose:L})},logEventStopped:(T,B,L)=>{E.push({outcome:"stopped",target:B,purpose:L})},logNoParent:(T,B,L)=>{E.push({outcome:"no-parent",target:B,purpose:L})},logEventNoHandlers:(T,B)=>{E.push({outcome:"no-handlers-left",target:B})},logEventResponse:(T,B,L)=>{E.push({outcome:"response",purpose:L,target:B})},write:()=>{const T=new Date().getTime();St(["mousemove","mouseover","mouseout",m0()],x)||console.log(x,{event:x,time:T-C,target:w.dom,sequence:Ae(E,B=>St(["cut","stopped","response"],B.outcome)?"{"+B.purpose+"} "+B.outcome+" at ("+Wt(B.target)+")":B.outcome)})}}})(l,d),b=m(p);return p.write(),b}case pi.STOP:return!0}})(o,r,a),kg=ne({logEventCut:xe,logEventStopped:xe,logNoParent:xe,logEventNoHandlers:xe,logEventResponse:xe,write:xe}),b0=ne([ct("menu"),ct("selectedMenu")]),vu=ne([ct("item"),ct("selectedItem")]);ne(xo(vu().concat(b0())));const R2=ne(xo(vu())),yu=hu("initSize",[ct("numColumns"),ct("numRows")]),Uh=()=>hu("markers",[ct("backgroundMenu")].concat(b0()).concat(vu())),Ld=o=>hu("markers",Ae(o,ct)),_t=(o,r,a)=>((()=>{const l=new Error;if(l.stack!==void 0){const d=l.stack.split(`
`);z(d,m=>m.indexOf("alloy")>0&&!Tn(fp,p=>m.indexOf(p)>-1)).getOr("unknown")}})(),lr(r,r,a,ap(l=>Fo.value((...d)=>l.apply(void 0,d))))),fn=o=>_t(0,o,Bh(xe)),ul=o=>_t(0,o,Bh(A.none)),Ml=o=>_t(0,o,{tag:"required",process:{}}),mf=o=>_t(0,o,{tag:"required",process:{}}),ms=(o,r)=>Ur(o,ne(r)),or=o=>Ur(o,kt),ix=ne(yu),pp=o=>Ae(o,r=>Si(r,"/*")?r.substring(0,r.length-2):r),ic=(o,r)=>{const a=o.toString(),l=a.indexOf(")")+1,d=a.indexOf("("),m=a.substring(d+1,l-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:r,parameters:pp(m)}),o},Ts=(o,r)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...l)=>{a=setTimeout(()=>{o.apply(null,l),a=null},r)}}},Zh=o=>{const r=o.raw;return r.touches===void 0||r.touches.length!==1?A.none():A.some(r.touches[0])};var sd;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(sd||(sd={}));const lx="placeholder",lc=Lr([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),x0=o=>jo(o,"uiType"),jh=(o,r,a,l)=>((d,m,p,b)=>x0(p)&&p.uiType===lx?((x,w,E,C)=>x.exists(T=>T!==E.owner)?lc.single(!0,ne(E)):Kt(C,E.name).fold(()=>{throw new Error("Unknown placeholder component: "+E.name+`
Known: [`+Zs(C)+`]
Namespace: `+x.getOr("none")+`
Spec: `+JSON.stringify(E,null,2))},T=>T.replace()))(d,0,p,b):lc.single(!1,ne(p)))(o,0,a,l).fold((d,m)=>{const p=x0(a)?m(r,a.config,a.validated):m(r),b=Kt(p,"components").getOr([]),x=Uo(b,w=>jh(o,r,w,l));return[{...p,components:x}]},(d,m)=>{if(x0(a)){const p=m(r,a.config,a.validated);return a.validated.preprocess.getOr(kt)(p)}return m(r)}),cx=lc.single,v0=lc.multiple,dx=ne(lx),Wh=Lr([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),qh=Ie("factory",{sketch:kt}),ff=Ie("schema",[]),Gh=ct("name"),y0=lr("pname","pname",gg(o=>"<alloy."+Me(o.name)+">"),Ns()),w0=Ur("schema",()=>[Sn("preprocess")]),Za=Ie("defaults",ne({})),Bl=Ie("overrides",ne({})),Ai=xo([qh,ff,Gh,y0,Za,Bl]),M2=xo([qh,ff,Gh,Za,Bl]),B2=xo([qh,ff,Gh,y0,Za,Bl]),gp=xo([qh,w0,Gh,ct("unit"),y0,Za,Bl]),C0=o=>o.fold(A.some,A.none,A.some,A.some),ux=o=>{const r=a=>a.name;return o.fold(r,r,r,r)},_0=(o,r)=>a=>{const l=mi("Converting part type",r,a);return o(l)},gi=_0(Wh.required,Ai),Ui=_0(Wh.external,M2),Nc=_0(Wh.optional,B2),Sg=_0(Wh.group,gp),k0=ne("entirety");var P2=Object.freeze({__proto__:null,required:gi,external:Ui,optional:Nc,group:Sg,asNamedPart:C0,name:ux,asCommon:o=>o.fold(kt,kt,kt,kt),original:k0});const S0=(o,r,a,l)=>Wo(r.defaults(o,a,l),a,{uid:o.partUids[r.name]},r.overrides(o,a,l)),mx=(o,r)=>{const a={};return ht(r,l=>{C0(l).each(d=>{const m=b_(o,d.pname);a[d.name]=p=>{const b=mi("Part: "+d.name+" in "+o,xo(d.schema),p);return{...m,config:p,validated:b}}})}),a},b_=(o,r)=>({uiType:dx(),owner:o,name:r}),fx=(o,r,a)=>({uiType:dx(),owner:o,name:r,config:a,validated:{}}),hp=o=>Uo(o,r=>r.fold(A.none,A.some,A.none,A.none).map(a=>hu(a.name,a.schema.concat([or(k0())]))).toArray()),I2=o=>Ae(o,ux),px=(o,r,a)=>((l,d,m)=>{const p={},b={};return ht(m,x=>{x.fold(w=>{p[w.pname]=cx(!0,(E,C,T)=>w.factory.sketch(S0(E,w,C,T)))},w=>{const E=d.parts[w.name];b[w.name]=ne(w.factory.sketch(S0(d,w,E[k0()]),E))},w=>{p[w.pname]=cx(!1,(E,C,T)=>w.factory.sketch(S0(E,w,C,T)))},w=>{p[w.pname]=v0(!0,(E,C,T)=>{const B=E[w.name];return Ae(B,L=>w.factory.sketch(Wo(w.defaults(E,L,T),L,w.overrides(E,L))))})})}),{internals:ne(p),externals:ne(b)}})(0,r,a),Kh=(o,r,a)=>((l,d,m,p)=>{const b=Ss(p,(w,E)=>((C,T)=>{let B=!1;return{name:ne(C),required:()=>T.fold((L,Y)=>L,(L,Y)=>L),used:()=>B,replace:()=>{if(B)throw new Error("Trying to use the same placeholder more than once: "+C);return B=!0,T}}})(E,w)),x=((w,E,C,T)=>Uo(C,B=>jh(w,E,B,T)))(l,d,m,b);return mr(b,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(d.components,null,2))}),x})(A.some(o),r,r.components,a),es=(o,r,a)=>{const l=r.partUids[a];return o.getSystem().getByUid(l).toOptional()},rd=(o,r,a)=>es(o,r,a).getOrDie("Could not find part: "+a),wu=(o,r,a)=>{const l={},d=r.partUids,m=o.getSystem();return ht(a,p=>{l[p]=ne(m.getByUid(d[p]))}),l},gx=(o,r)=>{const a=o.getSystem();return Ss(r.partUids,(l,d)=>ne(a.getByUid(l)))},Yh=o=>Zs(o.partUids),E0=(o,r,a)=>{const l={},d=r.partUids,m=o.getSystem();return ht(a,p=>{l[p]=ne(m.getByUid(d[p]).getOrDie())}),l},A0=(o,r)=>{const a=I2(r);return cp(Ae(a,l=>({key:l,value:o+"-"+l})))},hx=o=>lr("partUids","partUids",tx(r=>A0(r.uid,o)),Ns());var bx=Object.freeze({__proto__:null,generate:mx,generateOne:fx,schemas:hp,names:I2,substitutes:px,components:Kh,defaultUids:A0,defaultUidsSchema:hx,getAllParts:gx,getAllPartNames:Yh,getPart:es,getPartOrDie:rd,getParts:wu,getPartsOrDie:E0});const xx=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ml=(o,r,a,l=1)=>{const d=o*l,m=r*l,p=x=>Kt(a,x).getOr([]),b=(x,w,E)=>{const C=on(xx,E);return{offset:us(x,w),classesOn:Uo(E,p),classesOff:Uo(C,p)}};return{southeast:()=>b(-o,r,["top","alignLeft"]),southwest:()=>b(o,r,["top","alignRight"]),south:()=>b(-o/2,r,["top","alignCentre"]),northeast:()=>b(-o,-r,["bottom","alignLeft"]),northwest:()=>b(o,-r,["bottom","alignRight"]),north:()=>b(-o/2,-r,["bottom","alignCentre"]),east:()=>b(o,-r/2,["valignCentre","left"]),west:()=>b(-o,-r/2,["valignCentre","right"]),insetNortheast:()=>b(d,m,["top","alignLeft","inset"]),insetNorthwest:()=>b(-d,m,["top","alignRight","inset"]),insetNorth:()=>b(-d/2,m,["top","alignCentre","inset"]),insetSoutheast:()=>b(d,-m,["bottom","alignLeft","inset"]),insetSouthwest:()=>b(-d,-m,["bottom","alignRight","inset"]),insetSouth:()=>b(-d/2,-m,["bottom","alignCentre","inset"]),insetEast:()=>b(-d,-m/2,["valignCentre","right","inset"]),insetWest:()=>b(d,-m/2,["valignCentre","left","inset"])}},vx=()=>ml(0,0,{}),ja=(o,r,a,l,d,m,p,b=!1)=>({x:o,y:r,bubble:a,direction:l,placement:d,restriction:m,label:`${p}-${d}`,alwaysFit:b}),pf=Lr([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Xh=pf.southeast,yx=pf.southwest,T0=pf.northeast,wx=pf.northwest,L2=pf.south,F2=pf.north,D0=pf.east,z2=pf.west,va=(o,r)=>Kn(["left","right","top","bottom"],a=>Kt(r,a).map(l=>((d,m)=>{switch(m){case 1:return d.x;case 0:return d.x+d.width;case 2:return d.y;case 3:return d.y+d.height}})(o,l))),Fd="layout",H2=o=>o.x,V2=(o,r)=>o.x+o.width/2-r.width/2,$2=(o,r)=>o.x+o.width-r.width,mm=(o,r)=>o.y-r.height,Cx=o=>o.y+o.height,U2=(o,r)=>o.y+o.height/2-r.height/2,jr=(o,r,a)=>ja(H2(o),Cx(o),a.southeast(),Xh(),"southeast",va(o,{left:1,top:3}),Fd),Br=(o,r,a)=>ja($2(o,r),Cx(o),a.southwest(),yx(),"southwest",va(o,{right:0,top:3}),Fd),Wa=(o,r,a)=>ja(H2(o),mm(o,r),a.northeast(),T0(),"northeast",va(o,{left:1,bottom:2}),Fd),oi=(o,r,a)=>ja($2(o,r),mm(o,r),a.northwest(),wx(),"northwest",va(o,{right:0,bottom:2}),Fd),ya=(o,r,a)=>ja(V2(o,r),mm(o,r),a.north(),F2(),"north",va(o,{bottom:2}),Fd),Pr=(o,r,a)=>ja(V2(o,r),Cx(o),a.south(),L2(),"south",va(o,{top:3}),Fd),_x=(o,r,a)=>ja((l=>l.x+l.width)(o),U2(o,r),a.east(),D0(),"east",va(o,{left:0}),Fd),kx=(o,r,a)=>ja(((l,d)=>l.x-d.width)(o,r),U2(o,r),a.west(),z2(),"west",va(o,{right:1}),Fd),fm=()=>[jr,Br,Wa,oi,Pr,ya,_x,kx],ni=()=>[Br,jr,oi,Wa,Pr,ya,_x,kx],Qh=()=>[Wa,oi,jr,Br,ya,Pr],Jh=()=>[oi,Wa,Br,jr,ya,Pr],Sx=()=>[jr,Br,Wa,oi,Pr,ya],O0=()=>[Br,jr,oi,Wa,Pr,ya],Pl="data-alloy-placement",pm=o=>Ta(o,Pl),Cu="layout-inset",Ex=o=>o.x,Ax=(o,r)=>o.x+o.width/2-r.width/2,Tx=(o,r)=>o.x+o.width-r.width,N0=o=>o.y,e1=(o,r)=>o.y+o.height-r.height,t1=(o,r)=>o.y+o.height/2-r.height/2,Eg=(o,r,a)=>ja(Tx(o,r),e1(o,r),a.insetSouthwest(),wx(),"southwest",va(o,{right:0,bottom:3}),Cu),o1=(o,r,a)=>ja(Ex(o),e1(o,r),a.insetSoutheast(),T0(),"southeast",va(o,{left:1,bottom:3}),Cu),Ag=(o,r,a)=>ja(Tx(o,r),N0(o),a.insetNorthwest(),yx(),"northwest",va(o,{right:0,top:2}),Cu),_u=(o,r,a)=>ja(Ex(o),N0(o),a.insetNortheast(),Xh(),"northeast",va(o,{left:1,top:2}),Cu),Zi=(o,r,a)=>ja(Ax(o,r),N0(o),a.insetNorth(),L2(),"north",va(o,{top:2}),Cu),Il=(o,r,a)=>ja(Ax(o,r),e1(o,r),a.insetSouth(),F2(),"south",va(o,{bottom:3}),Cu),n1=(o,r,a)=>ja(Tx(o,r),t1(o,r),a.insetEast(),z2(),"east",va(o,{right:0}),Cu),R0=(o,r,a)=>ja(Ex(o),t1(o,r),a.insetWest(),D0(),"west",va(o,{left:1}),Cu),Z2=o=>{switch(o){case"north":return Zi;case"northeast":return _u;case"northwest":return Ag;case"south":return Il;case"southeast":return o1;case"southwest":return Eg;case"east":return n1;case"west":return R0}},Dx=(o,r,a,l,d)=>pm(l).map(Z2).getOr(Zi)(o,r,a,l,d),Ox=o=>{switch(o){case"north":return Il;case"northeast":return o1;case"northwest":return Eg;case"south":return Zi;case"southeast":return _u;case"southwest":return Ag;case"east":return R0;case"west":return n1}},gf=(o,r,a,l,d)=>pm(l).map(Ox).getOr(Zi)(o,r,a,l,d),hf=(o,r)=>{((a,l)=>{const d=Tl.max(a,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);To(a,"max-height",d+"px")})(o,Math.floor(r))},Nx=ne((o,r)=>{hf(o,r),Ei(o,{"overflow-x":"hidden","overflow-y":"auto"})}),gm=ne((o,r)=>{hf(o,r)}),M0=ne((o,r)=>{((a,l)=>{const d=yn.max(a,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);To(a,"max-width",d+"px")})(o,Math.floor(r))});var zd;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(zd||(zd={}));const Tg="data-alloy-vertical-dir",j2=o=>Jf(o,r=>Ho(r)&&wr(r,"data-alloy-vertical-dir")===zd.BottomToTop);var hi;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(hi||(hi={}));const Rc={init:()=>Ti({readState:ne("No State required")})},Ti=o=>o,Dg={can:Xt,abort:Ke,run:xe},cc=o=>{if(!xs(o,"can")&&!xs(o,"abort")&&!xs(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...Dg,...o}},Qo=(o,r)=>{Mx(o,o.element,r,{})},oo=(o,r,a)=>{Mx(o,o.element,r,a)},bp=o=>{Qo(o,dl())},Rx=(o,r,a)=>{Mx(o,r,a,{})},Mx=(o,r,a,l)=>{const d={target:r,...l};o.getSystem().triggerEvent(a,r,d)},Og=(o,r,a,l)=>{o.getSystem().triggerEvent(a,r,l.event)},Wn=o=>cp(o),bf=(o,r)=>({key:o,value:cc({abort:r})}),B0=o=>({key:o,value:cc({run:(r,a)=>{a.event.prevent()}})}),et=(o,r)=>({key:o,value:cc({run:r})}),xp=(o,r,a)=>({key:o,value:cc({run:(l,d)=>{r.apply(void 0,[l,d].concat(a))}})}),s1=o=>r=>({key:o,value:cc({run:(a,l)=>{fu(a,l)&&r(a,l)}})}),ku=(o,r,a)=>((l,d)=>et(l,(m,p)=>{m.getSystem().getByUid(d).each(b=>{Og(b,b.element,l,p)})}))(o,r.partUids[a]),Bx=(o,r)=>et(o,(a,l)=>{const d=l.event,m=a.getSystem().getByDom(d.target).getOrThunk(()=>nm(d.target,p=>a.getSystem().getByDom(p).toOptional(),Ke).getOr(a));r(a,m,l)}),Ll=o=>et(o,(r,a)=>{a.cut()}),r1=o=>et(o,(r,a)=>{a.stop()}),hm=(o,r)=>s1(o)(r),ts=s1(ac()),ad=s1(Ys()),Ng=s1(m0()),Hd=(o=>r=>et(o,r))(dl()),fl=o=>({classes:Ht(o.classes)?[]:o.classes,attributes:Ht(o.attributes)?{}:o.attributes,styles:Ht(o.styles)?{}:o.styles}),a1=(o,r,a)=>Ng((l,d)=>{a(l,o,r)}),x_=o=>({key:o,value:void 0}),Px=(o,r,a,l,d,m,p)=>{const b=E=>xs(E,a)?E[a]():A.none(),x=Ss(d,(E,C)=>((T,B,L)=>((Y,W,X)=>{const $=X.toString(),U=$.indexOf(")")+1,te=$.indexOf("("),oe=$.substring(te+1,U-1).split(/,\s*/);return Y.toFunctionAnnotation=()=>({name:W,parameters:pp(oe.slice(0,1).concat(oe.slice(3)))}),Y})((Y,...W)=>{const X=[Y].concat(W);return Y.config({name:ne(T)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+T+". Using API: "+L)},$=>{const U=Array.prototype.slice.call(X,1);return B.apply(void 0,[Y,$.config,$.state].concat(U))})},L,B))(a,E,C)),w={...Ss(m,(E,C)=>ic(E,C)),...x,revoke:hn(x_,a),config:E=>{const C=mi(a+"-config",o,E);return{key:a,value:{config:C,me:w,configAsRaw:rr(()=>mi(a+"-config",o,E)),initialConfig:E,state:p}}},schema:ne(r),exhibit:(E,C)=>vr(b(E),Kt(l,"exhibit"),(T,B)=>B(C,T.config,T.state)).getOrThunk(()=>fl({})),name:ne(a),handlers:E=>b(E).map(C=>Kt(l,"events").getOr(()=>({}))(C.config,C.state)).getOr({})};return w},pt=o=>cp(o),Ds=rc([ct("fields"),ct("name"),Ie("active",{}),Ie("apis",{}),Ie("state",Rc),Ie("extra",{})]),qa=o=>{const r=mi("Creating behaviour: "+o.name,Ds,o);return((a,l,d,m,p,b)=>{const x=rc(a),w=ll(l,[(E=a,Vi("config",rc(E)))]);var E;return Px(x,w,l,d,m,p,b)})(r.fields,r.name,r.active,r.apis,r.extra,r.state)},v_=rc([ct("branchKey"),ct("branches"),ct("name"),Ie("active",{}),Ie("apis",{}),Ie("state",Rc),Ie("extra",{})]),Ix=o=>{const r=mi("Creating behaviour: "+o.name,v_,o);return((a,l,d,m,p,b)=>{const x=a,w=ll(l,[Vi("config",a)]);return Px(x,w,l,d,m,p,b)})(Fi(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},i1=ne(void 0),vo=(o,r)=>{const a=((l,d)=>{const m=Wn(d);return qa({fields:[ct("enabled")],name:l,active:{events:ne(m)}})})(o,r);return{key:o,value:{config:{},me:a,configAsRaw:ne({}),initialConfig:{},state:Rc}}},Vd=(o,r)=>{r.ignore||(Ws(o.element),r.onFocus(o))};var P0=Object.freeze({__proto__:null,focus:Vd,blur:(o,r)=>{r.ignore||_c(o.element)},isFocused:o=>tc(o.element)}),y_=Object.freeze({__proto__:null,exhibit:(o,r)=>{const a=r.ignore?{}:{attributes:{tabindex:"-1"}};return fl(a)},events:o=>Wn([et(Dc(),(r,a)=>{Vd(r,o),a.stop()})].concat(o.stopMousedown?[et(Nl(),(r,a)=>{a.event.prevent()})]:[]))}),Rg=[fn("onFocus"),Ie("stopMousedown",!1),Ie("ignore",!1)];const mo=qa({fields:Rg,name:"focusing",active:y_,apis:P0}),l1=[8],Su=[9],id=[13],Mg=[27],Fl=[32],Bg=[37],c1=[38],I0=[39],Pg=[40],Di=(o,r,a)=>{const l=oa(o.slice(0,r)),d=oa(o.slice(r+1));return z(l.concat(d),a)},Oi=(o,r,a)=>{const l=oa(o.slice(0,r));return z(l,a)},d1=(o,r,a)=>{const l=o.slice(0,r),d=o.slice(r+1);return z(d.concat(l),a)},bm=(o,r,a)=>{const l=o.slice(r+1);return z(l,a)},Jo=o=>r=>{const a=r.raw;return St(o,a.which)},ji=o=>r=>_i(o,a=>a(r)),$d=o=>o.raw.shiftKey===!0,vp=o=>o.raw.ctrlKey===!0,yp=is($d),wn=(o,r)=>({matches:o,classification:r}),W2=(o,r,a,l)=>{const d=ca(o.element,"."+r.highlightClass);ht(d,m=>{Tn(l,p=>In(p.element,m))||(vs(m,r.highlightClass),o.getSystem().getByDom(m).each(p=>{r.onDehighlight(o,p),Qo(p,_g())}))})},wp=(o,r,a,l)=>{W2(o,r,0,[l]),u1(o,r,a,l)||(ls(l.element,r.highlightClass),r.onHighlight(o,l),Qo(l,um()))},u1=(o,r,a,l)=>Ja(l.element,r.highlightClass),Lx=(o,r,a)=>On(o.element,"."+r.itemClass).bind(l=>o.getSystem().getByDom(l).toOptional()),q2=(o,r,a)=>{const l=ca(o.element,"."+r.itemClass);return(l.length>0?A.some(l[l.length-1]):A.none()).bind(d=>o.getSystem().getByDom(d).toOptional())},Fx=(o,r,a,l)=>{const d=ca(o.element,"."+r.itemClass);return ur(d,m=>Ja(m,r.highlightClass)).bind(m=>{const p=Jt(m,l,0,d.length-1);return o.getSystem().getByDom(d[p]).toOptional()})},zx=(o,r,a)=>{const l=ca(o.element,"."+r.itemClass);return Wl(Ae(l,d=>o.getSystem().getByDom(d).toOptional()))};var G2=Object.freeze({__proto__:null,dehighlightAll:(o,r,a)=>W2(o,r,0,[]),dehighlight:(o,r,a,l)=>{u1(o,r,a,l)&&(vs(l.element,r.highlightClass),r.onDehighlight(o,l),Qo(l,_g()))},highlight:wp,highlightFirst:(o,r,a)=>{Lx(o,r).each(l=>{wp(o,r,a,l)})},highlightLast:(o,r,a)=>{q2(o,r).each(l=>{wp(o,r,a,l)})},highlightAt:(o,r,a,l)=>{((d,m,p,b)=>{const x=ca(d.element,"."+m.itemClass);return A.from(x[b]).fold(()=>Fo.error(new Error("No element found with index "+b)),d.getSystem().getByDom)})(o,r,0,l).fold(d=>{throw d},d=>{wp(o,r,a,d)})},highlightBy:(o,r,a,l)=>{const d=zx(o,r);z(d,l).each(m=>{wp(o,r,a,m)})},isHighlighted:u1,getHighlighted:(o,r,a)=>On(o.element,"."+r.highlightClass).bind(l=>o.getSystem().getByDom(l).toOptional()),getFirst:Lx,getLast:q2,getPrevious:(o,r,a)=>Fx(o,r,0,-1),getNext:(o,r,a)=>Fx(o,r,0,1),getCandidates:zx}),xf=[ct("highlightClass"),ct("itemClass"),fn("onHighlight"),fn("onDehighlight")];const Dn=qa({fields:xf,name:"highlighting",apis:G2}),Cp=(o,r,a)=>{r.exists(l=>a.exists(d=>In(d,l)))||oo(o,p0(),{prevFocus:r,newFocus:a})},m1=()=>{const o=r=>As(r.element);return{get:o,set:(r,a)=>{const l=o(r);r.getSystem().triggerFocus(a,r.element);const d=o(r);Cp(r,l,d)}}},L0=()=>{const o=r=>Dn.getHighlighted(r).map(a=>a.element);return{get:o,set:(r,a)=>{const l=o(r);r.getSystem().getByDom(a).fold(xe,m=>{Dn.highlight(r,m)});const d=o(r);Cp(r,l,d)}}},ld=(o,r,a,l,d)=>{const m=(b,x,w,E,C)=>{return(T=w(b,x,E,C),B=x.event,z(T,L=>L.matches(B)).map(L=>L.classification)).bind(L=>L(b,x,E,C));var T,B},p={schema:()=>o.concat([Ie("focusManager",m1()),ti("focusInside","onFocus",ap(b=>St(["onFocus","onEnterOrSpace","onApi"],b)?Fo.value(b):Fo.error("Invalid value for focusInside"))),ms("handler",p),ms("state",r),ms("sendFocusIn",d)]),processKey:m,toEvents:(b,x)=>{const w=b.focusInside!==sd.OnFocusMode?A.none():d(b).map(C=>et(Dc(),(T,B)=>{C(T,b,x),B.stop()})),E=[et(Id(),(C,T)=>{m(C,T,a,b,x).fold(()=>{((B,L)=>{const Y=Jo(Fl.concat(id))(L.event);b.focusInside===sd.OnEnterOrSpaceMode&&Y&&fu(B,L)&&d(b).each(W=>{W(B,b,x),L.stop()})})(C,T)},B=>{T.stop()})}),et(g_(),(C,T)=>{m(C,T,l,b,x).each(B=>{T.stop()})})];return Wn(w.toArray().concat(E))}};return p},K2=o=>{const r=[Sn("onEscape"),Sn("onEnter"),Ie("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ie("firstTabstop",0),Ie("useTabstopAt",Xt),Sn("visibilitySelector")].concat([o]),a=(E,C)=>{const T=E.visibilitySelector.bind(B=>Ec(C,B)).getOr(C);return Gs(T)>0},l=(E,C)=>C.focusManager.get(E).bind(T=>Ec(T,C.selector)),d=(E,C,T)=>{((B,L)=>{const Y=ca(B.element,L.selector),W=Oo(Y,X=>a(L,X));return A.from(W[L.firstTabstop])})(E,C).each(B=>{C.focusManager.set(E,B)})},m=(E,C,T,B)=>{const L=Oo(ca(E.element,T.selector),Y=>a(T,Y));return l(E,T).bind(Y=>ur(L,hn(In,Y)).bind(W=>((X,$,U,te,oe)=>oe($,U,de=>((he,ke)=>a(he,ke)&&he.useTabstopAt(ke))(te,de)).fold(()=>te.cyclic?A.some(!0):A.none(),de=>(te.focusManager.set(X,de),A.some(!0))))(E,L,W,T,B)))},p=(E,C,T)=>{const B=T.cyclic?Di:Oi;return m(E,0,T,B)},b=(E,C,T)=>{const B=T.cyclic?d1:bm;return m(E,0,T,B)},x=ne([wn(ji([$d,Jo(Su)]),p),wn(Jo(Su),b),wn(ji([yp,Jo(id)]),(E,C,T)=>T.onEnter.bind(B=>B(E,C)))]),w=ne([wn(Jo(Mg),(E,C,T)=>T.onEscape.bind(B=>B(E,C))),wn(Jo(Su),(E,C,T)=>l(E,T).filter(B=>!T.useTabstopAt(B)).bind(B=>((L=>(Y=>Ln(Y))(L).bind(jm).exists(Y=>In(Y,L)))(B)?p:b)(E,C,T)))]);return ld(r,Rc.init,x,w,()=>A.some(d))};var Ig=K2(Ur("cyclic",Ke)),Hx=K2(Ur("cyclic",Xt));const Wi=o=>Te("input")(o)&&wr(o,"type")!=="radio"||Te("textarea")(o),_p=(o,r,a)=>Wi(a)&&Jo(Fl)(r.event)?A.none():((l,d,m)=>(Rx(l,m,dl()),A.some(!0)))(o,0,a),Eu=(o,r)=>A.some(!0),xm=[Ie("execute",_p),Ie("useSpace",!1),Ie("useEnter",!0),Ie("useControlEnter",!1),Ie("useDown",!1)],F0=(o,r,a)=>a.execute(o,r,o.element);var kp=ld(xm,Rc.init,(o,r,a,l)=>{const d=a.useSpace&&!Wi(o.element)?Fl:[],m=a.useEnter?id:[],p=a.useDown?Pg:[],b=d.concat(m).concat(p);return[wn(Jo(b),F0)].concat(a.useControlEnter?[wn(ji([vp,Jo(id)]),F0)]:[])},(o,r,a,l)=>a.useSpace&&!Wi(o.element)?[wn(Jo(Fl),Eu)]:[],()=>A.none());const f1=()=>{const o=Pn();return Ti({readState:()=>o.get().map(r=>({numRows:String(r.numRows),numColumns:String(r.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(r,a)=>{o.set({numRows:r,numColumns:a})},getNumRows:()=>o.get().map(r=>r.numRows),getNumColumns:()=>o.get().map(r=>r.numColumns)})};var Sp=Object.freeze({__proto__:null,flatgrid:f1,init:o=>o.state(o)});const p1=o=>(r,a,l,d)=>{const m=o(r.element);return Vs(m,r,a,l,d)},vm=(o,r)=>{const a=Yf(o,r);return p1(a)},Au=(o,r)=>{const a=Yf(r,o);return p1(a)},g1=o=>(r,a,l,d)=>Vs(o,r,a,l,d),Vs=(o,r,a,l,d)=>l.focusManager.get(r).bind(m=>o(r.element,m,l,d)).map(m=>(l.focusManager.set(r,m),!0)),h1=g1,pl=g1,b1=g1,vf=(o,r,a)=>{const l=ca(o,a);return(d=>ur(d,m=>In(m,r)).map(m=>({index:m,candidates:d})))(Oo(l,du))},Tu=(o,r)=>ur(o,a=>In(r,a)),_r=(o,r,a,l)=>l(Math.floor(r/a),r%a).bind(d=>{const m=d.row*a+d.column;return m>=0&&m<o.length?A.some(o[m]):A.none()}),ym=(o,r,a,l,d)=>_r(o,r,l,(m,p)=>{const b=m===a-1?o.length-m*l:l,x=Jt(p,d,0,b-1);return A.some({row:m,column:x})}),zl=(o,r,a,l,d)=>_r(o,r,l,(m,p)=>{const b=Jt(m,d,0,a-1),x=b===a-1?o.length-b*l:l,w=zr(p,0,x-1);return A.some({row:b,column:w})}),Y2=[ct("selector"),Ie("execute",_p),ul("onEscape"),Ie("captureTab",!1),ix()],w_=(o,r,a)=>{On(o.element,r.selector).each(l=>{r.focusManager.set(o,l)})},Lg=o=>(r,a,l,d)=>vf(r,a,l.selector).bind(m=>o(m.candidates,m.index,d.getNumRows().getOr(l.initSize.numRows),d.getNumColumns().getOr(l.initSize.numColumns))),Ep=(o,r,a)=>a.captureTab?A.some(!0):A.none(),Vx=Lg((o,r,a,l)=>ym(o,r,a,l,-1)),Ap=Lg((o,r,a,l)=>ym(o,r,a,l,1)),Fg=Lg((o,r,a,l)=>zl(o,r,a,l,-1)),X2=Lg((o,r,a,l)=>zl(o,r,a,l,1)),x1=ne([wn(Jo(Bg),vm(Vx,Ap)),wn(Jo(I0),Au(Vx,Ap)),wn(Jo(c1),h1(Fg)),wn(Jo(Pg),pl(X2)),wn(ji([$d,Jo(Su)]),Ep),wn(ji([yp,Jo(Su)]),Ep),wn(Jo(Fl.concat(id)),(o,r,a,l)=>((d,m)=>m.focusManager.get(d).bind(p=>Ec(p,m.selector)))(o,a).bind(d=>a.execute(o,r,d)))]),$x=ne([wn(Jo(Mg),(o,r,a)=>a.onEscape(o,r)),wn(Jo(Fl),Eu)]);var Tp=ld(Y2,f1,x1,$x,()=>A.some(w_));const wm=(o,r,a,l,d)=>{const m=(p,b,x)=>d(p,b,l,0,x.length-1,x[b],w=>{return E=x[w],Ut(E)==="button"&&wr(E,"disabled")==="disabled"?m(p,w,x):A.from(x[w]);var E});return vf(o,a,r).bind(p=>{const b=p.index,x=p.candidates;return m(b,b,x)})},Ux=(o,r,a,l)=>wm(o,r,a,l,(d,m,p,b,x,w,E)=>{const C=zr(m+p,b,x);return C===d?A.from(w):E(C)}),v1=(o,r,a,l)=>wm(o,r,a,l,(d,m,p,b,x,w,E)=>{const C=Jt(m,p,b,x);return C===d?A.none():E(C)}),Zx=[ct("selector"),Ie("getInitial",A.none),Ie("execute",_p),ul("onEscape"),Ie("executeOnMove",!1),Ie("allowVertical",!0),Ie("allowHorizontal",!0),Ie("cycles",!0)],Dp=(o,r,a)=>((l,d)=>d.focusManager.get(l).bind(m=>Ec(m,d.selector)))(o,a).bind(l=>a.execute(o,r,l)),Op=(o,r,a)=>{r.getInitial(o).orThunk(()=>On(o.element,r.selector)).each(l=>{r.focusManager.set(o,l)})},Q2=(o,r,a)=>(a.cycles?v1:Ux)(o,a.selector,r,-1),z0=(o,r,a)=>(a.cycles?v1:Ux)(o,a.selector,r,1),jx=o=>(r,a,l,d)=>o(r,a,l,d).bind(()=>l.executeOnMove?Dp(r,a,l):A.some(!0)),J2=ne([wn(Jo(Fl),Eu),wn(Jo(Mg),(o,r,a)=>a.onEscape(o,r))]);var zg=ld(Zx,Rc.init,(o,r,a,l)=>{const d=[...a.allowHorizontal?Bg:[]].concat(a.allowVertical?c1:[]),m=[...a.allowHorizontal?I0:[]].concat(a.allowVertical?Pg:[]);return[wn(Jo(d),jx(vm(Q2,z0))),wn(Jo(m),jx(Au(Q2,z0))),wn(Jo(id),Dp),wn(Jo(Fl),Dp)]},J2,()=>A.some(Op));const Ud=(o,r,a)=>A.from(o[r]).bind(l=>A.from(l[a]).map(d=>({rowIndex:r,columnIndex:a,cell:d}))),ey=(o,r,a,l)=>{const d=o[r].length,m=Jt(a,l,0,d-1);return Ud(o,r,m)},ty=(o,r,a,l)=>{const d=Jt(a,l,0,o.length-1),m=o[d].length,p=zr(r,0,m-1);return Ud(o,d,p)},f=(o,r,a,l)=>{const d=o[r].length,m=zr(a+l,0,d-1);return Ud(o,r,m)},h=(o,r,a,l)=>{const d=zr(a+l,0,o.length-1),m=o[d].length,p=zr(r,0,m-1);return Ud(o,d,p)},y=[hu("selectors",[ct("row"),ct("cell")]),Ie("cycles",!0),Ie("previousSelector",A.none),Ie("execute",_p)],_=(o,r,a)=>{r.previousSelector(o).orThunk(()=>{const l=r.selectors;return On(o.element,l.cell)}).each(l=>{r.focusManager.set(o,l)})},D=(o,r)=>(a,l,d)=>{const m=d.cycles?o:r;return Ec(l,d.selectors.row).bind(p=>{const b=ca(p,d.selectors.cell);return Tu(b,l).bind(x=>{const w=ca(a,d.selectors.row);return Tu(w,p).bind(E=>{const C=((T,B)=>Ae(T,L=>ca(L,B.selectors.cell)))(w,d);return m(C,E,x).map(T=>T.cell)})})})},N=D((o,r,a)=>ey(o,r,a,-1),(o,r,a)=>f(o,r,a,-1)),F=D((o,r,a)=>ey(o,r,a,1),(o,r,a)=>f(o,r,a,1)),V=D((o,r,a)=>ty(o,a,r,-1),(o,r,a)=>h(o,a,r,-1)),ee=D((o,r,a)=>ty(o,a,r,1),(o,r,a)=>h(o,a,r,1)),ce=ne([wn(Jo(Bg),vm(N,F)),wn(Jo(I0),Au(N,F)),wn(Jo(c1),h1(V)),wn(Jo(Pg),pl(ee)),wn(Jo(Fl.concat(id)),(o,r,a)=>As(o.element).bind(l=>a.execute(o,r,l)))]),we=ne([wn(Jo(Fl),Eu)]);var ie=ld(y,Rc.init,ce,we,()=>A.some(_));const be=[ct("selector"),Ie("execute",_p),Ie("moveOnTab",!1)],fe=(o,r,a)=>a.focusManager.get(o).bind(l=>a.execute(o,r,l)),Re=(o,r,a)=>{On(o.element,r.selector).each(l=>{r.focusManager.set(o,l)})},De=(o,r,a)=>v1(o,a.selector,r,-1),ot=(o,r,a)=>v1(o,a.selector,r,1),at=ne([wn(Jo(c1),b1(De)),wn(Jo(Pg),b1(ot)),wn(ji([$d,Jo(Su)]),(o,r,a,l)=>a.moveOnTab?b1(De)(o,r,a,l):A.none()),wn(ji([yp,Jo(Su)]),(o,r,a,l)=>a.moveOnTab?b1(ot)(o,r,a,l):A.none()),wn(Jo(id),fe),wn(Jo(Fl),fe)]),bt=ne([wn(Jo(Fl),Eu)]);var yt=ld(be,Rc.init,at,bt,()=>A.some(Re));const wt=[ul("onSpace"),ul("onEnter"),ul("onShiftEnter"),ul("onLeft"),ul("onRight"),ul("onTab"),ul("onShiftTab"),ul("onUp"),ul("onDown"),ul("onEscape"),Ie("stopSpaceKeyup",!1),Sn("focusIn")];var Rt=ld(wt,Rc.init,(o,r,a)=>[wn(Jo(Fl),a.onSpace),wn(ji([yp,Jo(id)]),a.onEnter),wn(ji([$d,Jo(id)]),a.onShiftEnter),wn(ji([$d,Jo(Su)]),a.onShiftTab),wn(ji([yp,Jo(Su)]),a.onTab),wn(Jo(c1),a.onUp),wn(Jo(Pg),a.onDown),wn(Jo(Bg),a.onLeft),wn(Jo(I0),a.onRight),wn(Jo(Fl),a.onSpace)],(o,r,a)=>[...a.stopSpaceKeyup?[wn(Jo(Fl),Eu)]:[],wn(Jo(Mg),a.onEscape)],o=>o.focusIn);const Mt=Ig.schema(),to=Hx.schema(),go=zg.schema(),pn=Tp.schema(),Bo=ie.schema(),Ko=kp.schema(),Io=yt.schema(),qn=Rt.schema(),Bt=Ix({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Mt,cyclic:to,flow:go,flatgrid:pn,matrix:Bo,execution:Ko,menu:Io,special:qn}),name:"keying",active:{events:(o,r)=>o.handler.toEvents(o,r)},apis:{focusIn:(o,r,a)=>{r.sendFocusIn(r).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},l=>{l(o,r,a)})},setGridSize:(o,r,a,l,d)=>{(m=>xs(m,"setGridSize"))(a)?a.setGridSize(l,d):console.error("Layout does not support setGridSize")}},state:Sp}),da=Me("alloy-premade"),Ba=o=>(Object.defineProperty(o.element.dom,da,{value:o.uid,writable:!0}),am(da,o)),Hl=o=>Kt(o,da),Zd=o=>((r,a)=>{const l=a.toString(),d=l.indexOf(")")+1,m=l.indexOf("("),p=l.substring(m+1,d-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:pp(p.slice(1))}),r})((r,...a)=>o(r.getApis(),r,...a),o),Wr=o=>o.getSystem().isConnected(),qi=o=>{Qo(o,Ys());const r=o.components();ht(r,qi)},yf=o=>{const r=o.components();ht(r,yf),Qo(o,ac())},Ye=(o,r)=>{o.getSystem().addToWorld(r),za(o.element)&&yf(r)},wf=o=>{qi(o),o.getSystem().removeFromWorld(o)},y1=(o,r)=>{Vo(o.element,r.element)},Du=(o,r)=>{oy(o,r,Vo)},oy=(o,r,a)=>{o.getSystem().addToWorld(r),a(o.element,r.element),za(o.element)&&yf(r),o.syncComponents()},Ou=o=>{qi(o),Td(o.element),o.getSystem().removeFromWorld(o)},Cf=o=>{const r=Ln(o.element).bind(a=>o.getSystem().getByDom(a).toOptional());Ou(o),r.each(a=>{a.syncComponents()})},C_=o=>{const r=o.components();ht(r,Ou),ug(o.element),o.syncComponents()},ny=(o,r)=>{RE(o,r,Vo)},H0=(o,r)=>{RE(o,r,cu)},RE=(o,r,a)=>{a(o,r.element);const l=Nr(r.element);ht(l,d=>{r.getByDom(d).each(yf)})},ME=o=>{const r=Nr(o.element);ht(r,a=>{o.getByDom(a).each(qi)}),Td(o.element)},BE=(o,r,a)=>{a.fold(()=>Vo(o,r),l=>{In(l,r)||(Bi(l,r),Td(l))})},__=(o,r,a)=>{const l=Ae(r,a),d=Nr(o);return ht(d.slice(l.length),Td),l},PE=(o,r,a,l)=>{const d=ds(o,r),m=l(a,d),p=((b,x,w)=>ds(b,x).map(E=>{if(w.exists(C=>!In(C,E))){const C=w.map(Ut).getOr("span"),T=Kl(C);return Bi(E,T),T}return E}))(o,r,d);return BE(o,m.element,p),m},sy=(o,r)=>{const a=Aa(r),l=Al(a).bind(m=>{const p=b=>In(m,b);return p(r)?A.some(r):((b,x)=>{const w=E=>{for(let C=0;C<E.childNodes.length;C++){const T=Ft(E.childNodes[C]);if(x(T))return A.some(T);const B=w(E.childNodes[C]);if(B.isSome())return B}return A.none()};return w(b.dom)})(r,p)}),d=o(r);return l.each(m=>{Al(a).filter(p=>In(p,m)).fold(()=>{Ws(m)},xe)}),d},IE=(o,r)=>{sy(()=>{((a,l,d)=>{const m=a.components();(x=>{ht(x.components(),w=>Td(w.element)),ug(x.element),x.syncComponents()})(a);const p=d(l),b=on(m,p);ht(b,x=>{qi(x),a.getSystem().removeFromWorld(x)}),ht(p,x=>{Wr(x)?y1(a,x):(a.getSystem().addToWorld(x),y1(a,x),za(a.element)&&yf(x))}),a.syncComponents()})(o,r,()=>Ae(r,o.getSystem().build))},o.element)},LE=(o,r)=>{sy(()=>{((a,l)=>{const d=a.components(),m=Uo(l,x=>Hl(x).toArray());ht(d,x=>{St(m,x)||wf(x)});const p=((x,w,E)=>__(x,w,(C,T)=>PE(x,T,C,E)))(o.element,r,o.getSystem().buildOrPatch),b=on(d,p);ht(b,x=>{Wr(x)&&wf(x)}),ht(p,x=>{Wr(x)||Ye(a,x)}),a.syncComponents()})(o,r)},o.element)},FE=(o,r,a,l)=>{wf(r);const d=PE(o.element,a,l,o.getSystem().buildOrPatch);Ye(o,d),o.syncComponents()},V0=(o,r,a)=>{const l=o.getSystem().build(a);oy(o,l,r)},U7=(o,r,a,l)=>{Cf(r),V0(o,(d,m)=>((p,b,x)=>{ds(p,x).fold(()=>{Vo(p,b)},w=>{Bi(w,b)})})(d,m,a),l)},Wx=(o,r)=>o.components(),zE=(o,r,a,l,d)=>{const m=Wx(o);return A.from(m[l]).map(p=>(d.fold(()=>Cf(p),b=>{(r.reuseDom?FE:U7)(o,p,l,b)}),p))};var k_=Object.freeze({__proto__:null,append:(o,r,a,l)=>{V0(o,Vo,l)},prepend:(o,r,a,l)=>{V0(o,Ad,l)},remove:(o,r,a,l)=>{const d=Wx(o);z(d,p=>In(l.element,p.element)).each(Cf)},replaceAt:zE,replaceBy:(o,r,a,l,d)=>{const m=Wx(o);return ur(m,l).bind(p=>zE(o,r,0,p,d))},set:(o,r,a,l)=>(r.reuseDom?LE:IE)(o,l),contents:Wx});const Do=qa({fields:[Ua("reuseDom",!0)],name:"replacing",apis:k_}),HE=Wn([(o=>({key:o,value:cc({can:(r,a)=>{const l=a.event,d=l.originator,m=l.target;return!((p,b,x)=>In(b,p.element)&&!In(b,x))(r,d,m)||(console.warn(Dc()+` did not get interpreted by the desired target. 
Originator: `+Wt(d)+`
Target: `+Wt(m)+`
Check the `+Dc()+" event handlers"),!1)}})}))(Dc())]);var VE=Object.freeze({__proto__:null,events:HE});const Z7=ne("alloy-id-"),$E=ne("data-alloy-id"),j7=Z7(),UE=$E(),ry=(o,r)=>{Object.defineProperty(o.dom,UE,{value:r,writable:!0})},$0=o=>{const r=Ho(o)?o.dom[UE]:null;return A.from(r)},U0=o=>Me(o),S_=kt,ay=o=>{const r=d=>`The component must be in a context to execute: ${d}`+(o?`
`+Wt(o().element)+" is not in context.":""),a=d=>()=>{throw new Error(r(d))},l=d=>()=>{console.warn(r(d))};return{debugInfo:ne("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Ke}},W7=ay(),ZE=(o,r)=>{const a={};return mr(o,(l,d)=>{mr(l,(m,p)=>{const b=Kt(a,p).getOr([]);a[p]=b.concat([r(d,m)])})}),a},E_=o=>o.cHandler,jE=(o,r)=>({name:o,handler:r}),WE=(o,r)=>{const a={};return ht(o,l=>{a[l.name()]=l.handlers(r)}),a},q7=(o,r,a)=>{const l=r[a];return l?((d,m,p,b)=>{try{const x=nt(p,(w,E)=>{const C=w[m],T=E[m],B=b.indexOf(C),L=b.indexOf(T);if(B===-1)throw new Error("The ordering for "+d+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(b,null,2));if(L===-1)throw new Error("The ordering for "+d+" does not have an entry for "+T+`.
Order specified: `+JSON.stringify(b,null,2));return B<L?-1:L<B?1:0});return Fo.value(x)}catch(x){return Fo.error([x])}})("Event: "+a,"name",o,l).map(d=>(m=>({can:(x=>(...w)=>Go(x,(E,C)=>E&&(T=>T.can)(C).apply(void 0,w),!0))(m),abort:(x=>(...w)=>Go(x,(E,C)=>E||(T=>T.abort)(C).apply(void 0,w),!1))(m),run:(...x)=>{ht(m,w=>{w.run.apply(void 0,x)})}}))(Ae(d,m=>m.handler))):((d,m)=>Fo.error(["The event ("+d+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ae(m,p=>p.name),null,2)]))(a,o)},A_=(o,r)=>((a,l)=>{const d=(p=>{const b=[],x=[];return ht(p,w=>{w.fold(E=>{b.push(E)},E=>{x.push(E)})}),{errors:b,values:x}})(a);return d.errors.length>0?(m=d.errors,Fo.error(Ps(m))):((p,b)=>p.length===0?Fo.value(b):Fo.value(Wo(b,nu.apply(void 0,p))))(d.values,l);var m})(Ya(o,(a,l)=>(a.length===1?Fo.value(a[0].handler):q7(a,r,l)).map(d=>{const m=(b=>{const x=(w=>gt(w)?{can:Xt,abort:Ke,run:w}:w)(b);return(w,E,...C)=>{const T=[w,E].concat(C);x.abort.apply(void 0,T)?E.stop():x.can.apply(void 0,T)&&x.run.apply(void 0,T)}})(d),p=a.length>1?Oo(r[l],b=>Tn(a,x=>x.name===b)).join(" > "):a[0].name;return am(l,((b,x)=>({handler:b,purpose:x}))(m,p))})),{}),Hg="alloy.base.behaviour",G7=xo([lr("dom","dom",{tag:"required",process:{}},xo([ct("tag"),Ie("styles",{}),Ie("classes",[]),Ie("attributes",{}),Sn("value"),Sn("innerHtml")])),ct("components"),ct("uid"),Ie("events",{}),Ie("apis",{}),lr("eventOrder","eventOrder",(D_={[dl()]:["disabling",Hg,"toggling","typeaheadevents"],[Dc()]:[Hg,"focusing","keying"],[m0()]:[Hg,"disabling","toggling","representing","tooltipping"],[im()]:[Hg,"representing","streaming","invalidating"],[Ys()]:[Hg,"representing","item-events","toolbar-button-events","tooltipping"],[Nl()]:["focusing",Hg,"item-type-events"],[xu()]:["focusing",Hg,"item-type-events"],[$i()]:["item-type-events","tooltipping"],[uf()]:["receiving","reflecting","tooltipping"]},tx(ne(D_))),Ns()),Sn("domModification")]),K7=o=>o.events,qE=(o,r)=>{const a=Zs(o),l=Zs(r),d=on(l,a),m=(p=>{const b={},x={};return tl(p,(w,E)=>!jo(r,E)||w!==r[E],vn(b),vn(x)),{t:b,f:x}})(o).t;return{toRemove:d,toSet:m}},Y7=(o,r)=>{const a=r.filter(l=>Ut(l)===o.tag&&!(d=>d.innerHtml.isSome()&&d.domChildren.length>0)(o)&&!(d=>jo(d.dom,da))(l)).bind(l=>((d,m)=>{try{const p=((b,x)=>{const{class:w,style:E,...C}=(te=>Go(te.dom.attributes,(oe,de)=>(oe[de.name]=de.value,oe),{}))(x),{toSet:T,toRemove:B}=qE(b.attributes,C),L=Km(x),{toSet:Y,toRemove:W}=qE(b.styles,L),X=Qf(x),$=on(X,b.classes),U=on(b.classes,X);return ht(B,te=>qs(x,te)),qf(x,T),mu(x,U),ui(x,$),ht(W,te=>un(x,te)),Ei(x,Y),b.innerHtml.fold(()=>{const te=b.domChildren;((oe,de)=>{__(oe,de,(he,ke)=>{const Ve=ds(oe,ke);return BE(oe,he,Ve),he})})(x,te)},te=>{tm(x,te)}),(()=>{const te=x,oe=b.value.getOrUndefined();oe!==la(te)&&Bd(te,oe??"")})(),x})(d,m);return A.some(p)}catch{return A.none()}})(o,l)).getOrThunk(()=>(l=>{const d=Kl(l.tag);qf(d,l.attributes),mu(d,l.classes),Ei(d,l.styles),l.innerHtml.each(p=>tm(d,p));const m=l.domChildren;return cg(d,m),l.value.each(p=>{Bd(d,p)}),d})(o));return ry(a,o.uid),a},X7=o=>{const r=(a=>{const l=Kt(a,"behaviours").getOr({});return Uo(Zs(l),d=>{const m=l[d];return Ne(m)?[m.me]:[]})})(o);return((a,l)=>((d,m)=>{const p=Ae(m,x=>ll(x.name(),[ct("config"),Ie("state",Rc)])),b=Hs("component.behaviours",xo(p),d.behaviours).fold(x=>{throw new Error(sf(x)+`
Complete spec:
`+JSON.stringify(d,null,2))},kt);return{list:m,data:Ss(b,x=>{const w=x.map(E=>({config:E.config,state:E.state.init(E.config)}));return ne(w)})}})(a,l))(o,r)},Q7=(o,r)=>{const a=()=>T,l=Vt(W7),d=Ol((B=>Hs("custom.definition",G7,B))(o)),m=X7(o),p=(B=>B.list)(m),b=(B=>B.data)(m),x=((B,L,Y)=>{const W={...(X=B).dom,uid:X.uid,domChildren:Ae(X.components,he=>he.element)};var X;const $=(he=>he.domModification.fold(()=>fl({}),fl))(B),U={"alloy.base.modification":$},te=L.length>0?((he,ke,Ve,tt)=>{const Je={...ke};ht(Ve,$o=>{Je[$o.name()]=$o.exhibit(he,tt)});const st=ZE(Je,($o,gs)=>({name:$o,modification:gs})),vt=$o=>Ao($o,(gs,Ms)=>({...Ms.modification,...gs}),{}),Qt=Ao(st.classes,($o,gs)=>gs.modification.concat($o),[]),no=vt(st.attributes),po=vt(st.styles);return fl({classes:Qt,attributes:no,styles:po})})(Y,U,L,W):$;return oe=W,de=te,{...oe,attributes:{...oe.attributes,...de.attributes},styles:{...oe.styles,...de.styles},classes:oe.classes.concat(de.classes)};var oe,de})(d,p,b),w=Y7(x,r),E=((B,L,Y)=>{const W={"alloy.base.behaviour":K7(B)};return((X,$,U,te)=>{const oe=((de,he,ke)=>{const Ve={...ke,...WE(he,de)};return ZE(Ve,jE)})(X,U,te);return A_(oe,$)})(Y,B.eventOrder,L,W).getOrDie()})(d,p,b),C=Vt(d.components),T={uid:o.uid,getSystem:l.get,config:B=>{const L=b;return(gt(L[B.name()])?L[B.name()]:()=>{throw new Error("Could not find "+B.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:B=>gt(b[B.name()]),spec:o,readState:B=>b[B]().map(L=>L.state.readState()).getOr("not enabled"),getApis:()=>d.apis,connect:B=>{l.set(B)},disconnect:()=>{l.set(ay(a))},element:w,syncComponents:()=>{const B=Nr(w),L=Uo(B,Y=>l.get().getByDom(Y).fold(()=>[],Xo));C.set(L)},components:C.get,events:E};return T},$s=o=>{const r=Ku(o);return GE({element:r})},GE=o=>{const r=mi("external.component",rc([ct("element"),Sn("uid")]),o),a=Vt(ay()),l=r.uid.getOrThunk(()=>U0("external"));ry(r.element,l);const d={uid:l,getSystem:a.get,config:A.none,hasConfigured:Ke,connect:m=>{a.set(m)},disconnect:()=>{a.set(ay(()=>d))},getApis:()=>({}),element:r.element,spec:o,readState:ne("No state"),syncComponents:xe,components:ne([]),events:{}};return Ba(d)},J7=U0,T_=(o,r)=>Hl(o).getOrThunk(()=>((a,l)=>{const{events:d,...m}=S_(a),p=((x,w)=>{const E=Kt(x,"components").getOr([]);return w.fold(()=>Ae(E,Gi),C=>Ae(E,(T,B)=>T_(T,ds(C,B))))})(m,l),b={...m,events:{...VE,...d},components:p};return Fo.value(Q7(b,l))})((a=>jo(a,"uid"))(o)?o:{uid:J7(""),...o},r).getOrDie()),Gi=o=>T_(o,A.none()),cd=Ba;var D_,KE=Object.freeze({__proto__:null,block:(o,r,a,l)=>{bo(o.element,"aria-busy",!0);const d=r.getRoot(o).getOr(o),m=pt([Bt.config({mode:"special",onTab:()=>A.some(!0),onShiftTab:()=>A.some(!0)}),mo.config({})]),p=l(d,m),b=d.getSystem().build(p);Do.append(d,cd(b)),b.hasConfigured(Bt)&&r.focus&&Bt.focusIn(b),a.isBlocked()||r.onBlock(o),a.blockWith(()=>Do.remove(d,b))},unblock:(o,r,a)=>{qs(o.element,"aria-busy"),a.isBlocked()&&r.onUnblock(o),a.clear()},isBlocked:(o,r,a)=>a.isBlocked()}),YE=[mn("getRoot",A.none),Ua("focus",!0),fn("onBlock"),fn("onUnblock")];const Cm=qa({fields:YE,name:"blocking",apis:KE,state:Object.freeze({__proto__:null,init:()=>{const o=Is(r=>r.destroy());return Ti({readState:o.isSet,blockWith:r=>{o.set({destroy:r})},clear:o.clear,isBlocked:o.isSet})}})});var XE=Object.freeze({__proto__:null,getCurrent:(o,r,a)=>r.find(o)});const eN=[ct("find")],Cn=qa({fields:eN,name:"composing",apis:XE});var tN=Object.freeze({__proto__:null,getCoupled:(o,r,a,l)=>a.getOrCreate(o,r,l),getExistingCoupled:(o,r,a,l)=>a.getExisting(o,r,l)}),oN=[il("others",xg(Fo.value,Ns()))],O_=Object.freeze({__proto__:null,init:()=>{const o={},r=(l,d)=>{if(Zs(l.others).length===0)throw new Error("Cannot find any known coupled components");return Kt(o,d)},a=ne({});return Ti({readState:a,getExisting:(l,d,m)=>r(d,m).orThunk(()=>(Kt(d.others,m).getOrDie("No information found for coupled component: "+m),A.none())),getOrCreate:(l,d,m)=>r(d,m).getOrThunk(()=>{const p=Kt(d.others,m).getOrDie("No information found for coupled component: "+m)(l),b=l.getSystem().build(p);return o[m]=b,b})})}});const kr=qa({fields:oN,name:"coupling",apis:tN,state:O_}),nN=["input","button","textarea","select"],QE=(o,r,a)=>{(r.disabled()?R_:M_)(o,r)},iy=(o,r)=>r.useNative===!0&&St(nN,Ut(o.element)),sN=o=>{bo(o.element,"disabled","disabled")},rN=o=>{qs(o.element,"disabled")},N_=o=>{bo(o.element,"aria-disabled","true")},aN=o=>{bo(o.element,"aria-disabled","false")},R_=(o,r,a)=>{r.disableClass.each(l=>{ls(o.element,l)}),(iy(o,r)?sN:N_)(o),r.onDisabled(o)},M_=(o,r,a)=>{r.disableClass.each(l=>{vs(o.element,l)}),(iy(o,r)?rN:aN)(o),r.onEnabled(o)},B_=(o,r)=>iy(o,r)?(a=>Gf(a.element,"disabled"))(o):(a=>wr(a.element,"aria-disabled")==="true")(o);var Yt=Object.freeze({__proto__:null,enable:M_,disable:R_,isDisabled:B_,onLoad:QE,set:(o,r,a,l)=>{(l?R_:M_)(o,r)}}),ly=Object.freeze({__proto__:null,exhibit:(o,r)=>fl({classes:r.disabled()?r.disableClass.toArray():[]}),events:(o,r)=>Wn([bf(dl(),(a,l)=>B_(a,o)),a1(o,r,QE)])}),JE=[mn("disabled",Ke),Ie("useNative",!0),Sn("disableClass"),fn("onDisabled"),fn("onEnabled")];const eo=qa({fields:JE,name:"disabling",active:ly,apis:Yt}),Nu=(o,r,a,l,d)=>{const m=p=>p+"px";return{position:o,left:r.map(m),top:a.map(m),right:l.map(m),bottom:d.map(m)}},eA=(o,r)=>{Dd(o,(a=>({...a,position:A.some(a.position)}))(r))},tA=(o,r)=>{const a=o.element;ls(a,r.transitionClass),vs(a,r.fadeOutClass),ls(a,r.fadeInClass),r.onShow(o)},iN=(o,r)=>{const a=o.element;ls(a,r.transitionClass),vs(a,r.fadeInClass),ls(a,r.fadeOutClass),r.onHide(o)},oA=(o,r)=>o.y>=r.y,P_=(o,r)=>o.bottom<=r.bottom,I_=(o,r,a)=>({location:"top",leftX:r,topY:a.bounds.y-o.y}),Ni=(o,r,a)=>({location:"bottom",leftX:r,bottomY:o.bottom-a.bounds.bottom}),w1=o=>o.box.x-o.win.x,L_=(o,r,a)=>a.getInitialPos().map(l=>{const d=((m,p)=>{const b=p.optScrollEnv.fold(ne(m.bounds.y),x=>x.scrollElmTop+(m.bounds.y-x.currentScrollTop));return us(m.bounds.x,b)})(l,r);return{box:zs(d.left,d.top,$a(o),Gs(o)),location:l.location}}),nA=(o,r,a,l,d)=>{const m=((b,x)=>{const w=x.optScrollEnv.fold(ne(b.y),E=>b.y+E.currentScrollTop-E.scrollElmTop);return us(b.x,w)})(r,a),p=zs(m.left,m.top,r.width,r.height);l.setInitialPos({style:Km(o),position:Ha(o,"position")||"static",bounds:p,location:d.location})},sA=(o,r,a)=>a.getInitialPos().bind(l=>{var d;switch(a.clearInitialPos(),l.position){case"static":return A.some({morph:"static"});case"absolute":const m=k(o).getOr(ue()),p=Js(m),b=(d=m.dom.scrollTop)!==null&&d!==void 0?d:0;return A.some({morph:"absolute",positionCss:Nu("absolute",Kt(l.style,"left").map(x=>r.x-p.x),Kt(l.style,"top").map(x=>r.y-p.y+b),Kt(l.style,"right").map(x=>p.right-r.right),Kt(l.style,"bottom").map(x=>p.bottom-r.bottom))});default:return A.none()}}),F_=o=>{switch(o.location){case"top":return A.some({morph:"fixed",positionCss:Nu("fixed",A.some(o.leftX),A.some(o.topY),A.none(),A.none())});case"bottom":return A.some({morph:"fixed",positionCss:Nu("fixed",A.some(o.leftX),A.none(),A.none(),A.some(o.bottomY))});default:return A.none()}},lN=(o,r,a)=>{const l=o.element;return Sa(ba(l,"position"),"fixed")?((d,m,p)=>((b,x,w)=>L_(b,x,w).filter(({box:E})=>((C,T,B)=>_i(C,L=>{switch(L){case"bottom":return P_(T,B.bounds);case"top":return oA(T,B.bounds)}}))(w.getModes(),E,x)).bind(({box:E})=>sA(b,E,w)))(d,m,p).orThunk(()=>m.optScrollEnv.bind(b=>L_(d,m,p)).bind(({box:b,location:x})=>{const w=Na(),E=w1({win:w,box:b}),C=x==="top"?I_(w,E,m):Ni(w,E,m);return F_(C)})))(l,r,a):((d,m,p)=>{const b=Js(d),x=Na(),w=((E,C,T)=>{const B=C.win,L=C.box,Y=w1(C);return ws(E,W=>{switch(W){case"bottom":return P_(L,T.bounds)?A.none():A.some(Ni(B,Y,T));case"top":return oA(L,T.bounds)?A.none():A.some(I_(B,Y,T));default:return A.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:x,box:b},m);return w.location==="top"||w.location==="bottom"?(nA(d,b,m,p,w),F_(w)):A.none()})(l,r,a)},z_=(o,r,a)=>{a.setDocked(!1),ht(["left","right","top","bottom","position"],l=>un(o.element,l)),r.onUndocked(o)},cy=(o,r,a,l)=>{const d=l.position==="fixed";a.setDocked(d),eA(o.element,l),(d?r.onDocked:r.onUndocked)(o)},rA=(o,r,a,l,d=!1)=>{r.contextual.each(m=>{m.lazyContext(o).each(p=>{const b=((x,w)=>x.y<w.bottom&&x.bottom>w.y)(p,l.bounds);b!==a.isVisible()&&(a.setVisible(b),d&&!b?(mu(o.element,[m.fadeOutClass]),m.onHide(o)):(b?tA:iN)(o,m))})})},H_=(o,r,a,l,d)=>{rA(o,r,a,l,!0),cy(o,r,a,d.positionCss)},dy=(o,r,a)=>{o.getSystem().isConnected()&&((l,d,m)=>{const p=d.lazyViewport(l);rA(l,d,m,p),lN(l,p,m).each(b=>{((x,w,E,C,T)=>{switch(T.morph){case"static":return z_(x,w,E);case"absolute":return cy(x,w,E,T.positionCss);case"fixed":H_(x,w,E,C,T)}})(l,d,m,p,b)})})(o,r,a)},aA=(o,r,a)=>{a.isDocked()&&((l,d,m)=>{const p=l.element;m.setDocked(!1);const b=d.lazyViewport(l);((x,w,E)=>{const C=x.element;return L_(C,w,E).bind(({box:T})=>sA(C,T,E))})(l,b,m).each(x=>{switch(x.morph){case"static":z_(l,d,m);break;case"absolute":cy(l,d,m,x.positionCss)}}),m.setVisible(!0),d.contextual.each(x=>{ui(p,[x.fadeInClass,x.fadeOutClass,x.transitionClass]),x.onShow(l)}),dy(l,d,m)})(o,r,a)},iA=o=>(r,a,l)=>{const d=a.lazyViewport(r);((m,p,b,x)=>{const w=Js(m),E=Na(),C=x(E,w1({win:E,box:w}),p);return C.location==="bottom"||C.location==="top"?(((T,B,L,Y,W)=>{Y.getInitialPos().fold(()=>nA(T,B,L,Y,W),()=>xe)})(m,w,p,b,C),F_(C)):A.none()})(r.element,d,l,o).each(m=>{H_(r,a,l,d,m)})},cN=iA(I_),dN=iA(Ni);var uN=Object.freeze({__proto__:null,refresh:dy,reset:aA,isDocked:(o,r,a)=>a.isDocked(),getModes:(o,r,a)=>a.getModes(),setModes:(o,r,a,l)=>a.setModes(l),forceDockToTop:cN,forceDockToBottom:dN}),V_=Object.freeze({__proto__:null,events:(o,r)=>Wn([hm(wg(),(a,l)=>{o.contextual.each(d=>{Ja(a.element,d.transitionClass)&&(ui(a.element,[d.transitionClass,d.fadeInClass]),(r.isVisible()?d.onShown:d.onHidden)(a)),l.stop()})}),et(f0(),(a,l)=>{dy(a,o,r)}),et(Hh(),(a,l)=>{dy(a,o,r)}),et(dm(),(a,l)=>{aA(a,o,r)})])}),lA=[ll("contextual",[Cr("fadeInClass"),Cr("fadeOutClass"),Cr("transitionClass"),Hi("lazyContext"),fn("onShow"),fn("onShown"),fn("onHide"),fn("onHidden")]),mn("lazyViewport",()=>({bounds:Na(),optScrollEnv:A.none()})),bu("modes",["top","bottom"],Mr),fn("onDocked"),fn("onUndocked")];const Xs=qa({fields:lA,name:"docking",active:V_,apis:uN,state:Object.freeze({__proto__:null,init:o=>{const r=Vt(!1),a=Vt(!0),l=Pn(),d=Vt(o.modes);return Ti({isDocked:r.get,setDocked:r.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:a.get,setVisible:a.set,getModes:d.get,setModes:d.set,readState:()=>`docked:  ${r.get()}, visible: ${a.get()}, modes: ${d.get().join(",")}`})}})}),uy=Lr([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),my=o=>r=>r.translate(-o.left,-o.top),fy=o=>r=>r.translate(o.left,o.top),Np=o=>(r,a)=>Go(o,(l,d)=>d(l),us(r,a)),qx=(o,r,a)=>o.fold(Np([fy(a),my(r)]),Np([my(r)]),Np([])),Z0=(o,r,a)=>o.fold(Np([fy(a)]),Np([]),Np([fy(r)])),cA=(o,r,a)=>o.fold(Np([]),Np([my(a)]),Np([fy(r),my(a)])),$_=(o,r,a)=>{const l=o.fold((d,m)=>({position:A.some("absolute"),left:A.some(d+"px"),top:A.some(m+"px")}),(d,m)=>({position:A.some("absolute"),left:A.some(d-a.left+"px"),top:A.some(m-a.top+"px")}),(d,m)=>({position:A.some("fixed"),left:A.some(d+"px"),top:A.some(m+"px")}));return{right:A.none(),bottom:A.none(),...l}},U_=(o,r,a,l)=>{const d=(m,p)=>(b,x)=>{const w=m(r,a,l);return p(b.getOr(w.left),x.getOr(w.top))};return o.fold(d(cA,py),d(Z0,Rp),d(qx,C1))},py=uy.offset,Rp=uy.absolute,C1=uy.fixed,_1=(o,r)=>{const a=wr(o,r);return Ht(a)?NaN:parseInt(a,10)},mN=(o,r,a,l,d,m)=>{const p=((w,E,C,T)=>((B,L)=>{const Y=B.element,W=_1(Y,L.leftAttr),X=_1(Y,L.topAttr);return isNaN(W)||isNaN(X)?A.none():A.some(us(W,X))})(w,E).fold(()=>C,B=>C1(B.left+T.left,B.top+T.top)))(o,r,a,l),b=r.mustSnap?fN(o,r,p,d,m):Gx(o,r,p,d,m),x=qx(p,d,m);return((w,E,C)=>{const T=w.element;bo(T,E.leftAttr,C.left+"px"),bo(T,E.topAttr,C.top+"px")})(o,r,x),b.fold(()=>({coord:C1(x.left,x.top),extra:A.none()}),w=>({coord:w.output,extra:w.extra}))},gy=(o,r,a,l)=>ws(o,d=>{const m=d.sensor;return((b,x,w,E,C,T)=>{const B=Z0(b,C,T),L=Z0(x,C,T);return Math.abs(B.left-L.left)<=w&&Math.abs(B.top-L.top)<=E})(r,m,d.range.left,d.range.top,a,l)?A.some({output:U_(d.output,r,a,l),extra:d.extra}):A.none()}),fN=(o,r,a,l,d)=>{const m=r.getSnapPoints(o);return gy(m,a,l,d).orThunk(()=>Go(m,(b,x)=>{const w=x.sensor,E=((C,T,B,L,Y,W)=>{const X=Z0(C,Y,W),$=Z0(T,Y,W),U=Math.abs(X.left-$.left),te=Math.abs(X.top-$.top);return us(U,te)})(a,w,x.range.left,x.range.top,l,d);return b.deltas.fold(()=>({deltas:A.some(E),snap:A.some(x)}),C=>(E.left+E.top)/2<=(C.left+C.top)/2?{deltas:A.some(E),snap:A.some(x)}:b)},{deltas:A.none(),snap:A.none()}).snap.map(b=>({output:U_(b.output,a,l,d),extra:b.extra})))},Gx=(o,r,a,l,d)=>{const m=r.getSnapPoints(o);return gy(m,a,l,d)};var pN=Object.freeze({__proto__:null,snapTo:(o,r,a,l)=>{const d=r.getTarget(o.element);if(r.repositionTarget){const m=jt(o.element),p=Ii(m),b=R(d),x=((E,C,T)=>({coord:U_(E.output,E.output,C,T),extra:E.extra}))(l,p,b),w=$_(x.coord,0,b);Dd(d,w)}}});const si=(o,r)=>c0(o,{},Ae(r,a=>{return l=a.name(),d="Cannot configure "+a.name()+" for "+o,lr(l,l,{tag:"option",process:{}},Ks(m=>Mo("The field: "+l+" is forbidden. "+d)));var l,d}).concat([Ur("dump",kt)])),Z_=o=>o.dump,bi=(o,r)=>({...pt(r),...o.dump}),j0=si,Vg=bi,dA=(o,r,a,l,d)=>{const m=((p,b)=>(p.length>0?[hu("parts",p)]:[]).concat([ct("uid"),Ie("dom",{}),Ie("components",[]),or("originalSpec"),Ie("debug.sketcher",{})]).concat(b))(l,d);return mi(o+" [SpecSchema]",rc(m.concat(r)),a)},j_=(o,r,a,l,d)=>{const m=uA(d),p=hp(a),b=hx(a),x=dA(o,r,m,p,[b]),w=px(0,x,a);return l(x,Kh(o,x,w.internals()),m,w.externals())},uA=o=>(r=>jo(r,"uid"))(o)?o:{...o,uid:U0("uid")},gN=rc([ct("name"),ct("factory"),ct("configFields"),Ie("apis",{}),Ie("extraApis",{})]),hN=rc([ct("name"),ct("factory"),ct("configFields"),ct("partFields"),Ie("apis",{}),Ie("extraApis",{})]),dd=o=>{const r=mi("Sketcher for "+o.name,gN,o),a=Ss(r.apis,Zd),l=Ss(r.extraApis,(d,m)=>ic(d,m));return{name:r.name,configFields:r.configFields,sketch:d=>((m,p,b,x)=>{const w=uA(x);return b(dA(m,p,w,[],[]),w)})(r.name,r.configFields,r.factory,d),...a,...l}},Ki=o=>{const r=mi("Sketcher for "+o.name,hN,o),a=mx(r.name,r.partFields),l=Ss(r.apis,Zd),d=Ss(r.extraApis,(m,p)=>ic(m,p));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:m=>j_(r.name,r.configFields,r.partFields,r.factory,m),parts:a,...l,...d}},_m=dd({name:"Container",factory:o=>{const{attributes:r,...a}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...a},components:o.components,behaviours:Z_(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Ie("components",[]),si("containerBehaviours",[]),Ie("events",{}),Ie("domModification",{}),Ie("eventOrder",{})]}),hy="data-initial-z-index",Kx=(o,r)=>{o.getSystem().addToGui(r),(a=>{Ln(a.element).filter(Ho).each(l=>{ba(l,"z-index").each(d=>{bo(l,hy,d)}),To(l,"z-index",Ha(a.element,"z-index"))})})(r)},bN=o=>{(r=>{Ln(r.element).filter(Ho).each(a=>{Ta(a,hy).fold(()=>un(a,"z-index"),l=>To(a,"z-index",l)),qs(a,hy)})})(o),o.getSystem().removeFromGui(o)},mA=(o,r,a)=>o.getSystem().build(_m.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:a}));var xN=ll("snaps",[ct("getSnapPoints"),fn("onSensor"),ct("leftAttr"),ct("topAttr"),Ie("lazyViewport",Na),Ie("mustSnap",!1)]);const W_=[Ie("useFixed",Ke),ct("blockerClass"),Ie("getTarget",kt),Ie("onDrag",xe),Ie("repositionTarget",!0),Ie("onDrop",xe),mn("getBounds",Na),xN],fA=o=>{return(r=ba(o,"left"),a=ba(o,"top"),l=ba(o,"position"),r.isSome()&&a.isSome()&&l.isSome()?A.some(((d,m,p)=>(p==="fixed"?C1:py)(parseInt(d,10),parseInt(m,10)))(r.getOrDie(),a.getOrDie(),l.getOrDie())):A.none()).getOrThunk(()=>{const d=pr(o);return Rp(d.left,d.top)});var r,a,l},q_=(o,r)=>({bounds:o.getBounds(),height:rl(r.element),width:Ro(r.element)}),G_=(o,r,a,l,d)=>{const m=a.update(l,d),p=a.getStartData().getOrThunk(()=>q_(r,o));m.each(b=>{((x,w,E,C)=>{const T=w.getTarget(x.element);if(w.repositionTarget){const B=jt(x.element),L=Ii(B),Y=R(T),W=fA(T),X=((U,te,oe,de,he,ke,Ve)=>((tt,Je,st,vt,Qt)=>{const no=Qt.bounds,po=Z0(Je,st,vt),$o=zr(po.left,no.x,no.x+no.width-Qt.width),gs=zr(po.top,no.y,no.y+no.height-Qt.height),Ms=Rp($o,gs);return Je.fold(()=>{const Nn=cA(Ms,st,vt);return py(Nn.left,Nn.top)},ne(Ms),()=>{const Nn=qx(Ms,st,vt);return C1(Nn.left,Nn.top)})})(0,te.fold(()=>{const tt=(Je=oe,st=ke.left,vt=ke.top,Je.fold((no,po)=>py(no+st,po+vt),(no,po)=>Rp(no+st,po+vt),(no,po)=>C1(no+st,po+vt)));var Je,st,vt;const Qt=qx(tt,de,he);return C1(Qt.left,Qt.top)},tt=>{const Je=mN(U,tt,oe,ke,de,he);return Je.extra.each(st=>{tt.onSensor(U,st)}),Je.coord}),de,he,Ve))(x,w.snaps,W,L,Y,C,E),$=$_(X,0,Y);Dd(T,$)}w.onDrag(x,T,C)})(o,r,p,b)})},pA=(o,r,a,l)=>{r.each(bN),a.snaps.each(m=>{((p,b)=>{((x,w)=>{const E=x.element;qs(E,w.leftAttr),qs(E,w.topAttr)})(p,b)})(o,m)});const d=a.getTarget(o.element);l.reset(),a.onDrop(o,d)},K_=o=>(r,a)=>{const l=d=>{a.setStartData(q_(r,d))};return Wn([et(f0(),d=>{a.getStartData().each(()=>l(d))}),...o(r,a,l)])};var vN=Object.freeze({__proto__:null,getData:o=>A.from(us(o.x,o.y)),getDelta:(o,r)=>us(r.left-o.left,r.top-o.top)});const gA=(o,r,a)=>[et(Nl(),(l,d)=>{if(d.event.raw.button!==0)return;d.stop();const m=()=>pA(l,A.some(x),o,r),p=Ts(m,200),b={drop:m,delayDrop:p.schedule,forceDrop:m,move:w=>{p.cancel(),G_(l,o,r,vN,w)}},x=mA(l,o.blockerClass,(w=>Wn([et(Nl(),w.forceDrop),et(rx(),w.drop),et(Ih(),(E,C)=>{w.move(C.event)}),et(lf(),w.delayDrop)]))(b));a(l),Kx(l,x)})],yN=[...W_,ms("dragger",{handlers:K_(gA)})];var hA=Object.freeze({__proto__:null,getData:o=>{const r=o.raw.touches;return r.length===1?(a=>{const l=a[0];return A.some(us(l.clientX,l.clientY))})(r):A.none()},getDelta:(o,r)=>us(r.left-o.left,r.top-o.top)});const Yx=(o,r,a)=>{const l=Pn(),d=m=>{pA(m,l.get(),o,r),l.clear()};return[et(xu(),(m,p)=>{p.stop();const b=()=>d(m),x={drop:b,delayDrop:xe,forceDrop:b,move:E=>{G_(m,o,r,hA,E)}},w=mA(m,o.blockerClass,(E=>Wn([et(xu(),E.forceDrop),et(af(),E.drop),et(nd(),E.drop),et(dp(),(C,T)=>{E.move(T.event)})]))(x));l.set(w),a(m),Kx(m,w)}),et(dp(),(m,p)=>{p.stop(),G_(m,o,r,hA,p.event)}),et(af(),(m,p)=>{p.stop(),d(m)}),et(nd(),d)]},wN=yN,CN=[...W_,ms("dragger",{handlers:K_(Yx)})],_N=[...W_,ms("dragger",{handlers:K_((o,r,a)=>[...gA(o,r,a),...Yx(o,r,a)])})];var kN=Object.freeze({__proto__:null,mouse:wN,touch:CN,mouseOrTouch:_N}),SN=Object.freeze({__proto__:null,init:()=>{let o=A.none(),r=A.none();const a=ne({});return Ti({readState:a,reset:()=>{o=A.none(),r=A.none()},update:(l,d)=>l.getData(d).bind(m=>((p,b)=>{const x=o.map(w=>p.getDelta(w,b));return o=A.some(b),x})(l,m)),getStartData:()=>r,setStartData:l=>{r=A.some(l)}})}});const k1=Ix({branchKey:"mode",branches:kN,name:"dragging",active:{events:(o,r)=>o.dragger.handlers(o,r)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:A.from(o.extra)})},state:SN,apis:pN}),EN=["input","textarea"],bA=o=>{const r=Ut(o);return St(EN,r)},xA=(o,r)=>{const a=r.getRoot(o).getOr(o.element);vs(a,r.invalidClass),r.notify.each(l=>{bA(o.element)&&bo(o.element,"aria-invalid",!1),l.getContainer(o).each(d=>{tm(d,l.validHtml)}),l.onValid(o)})},vA=(o,r,a,l)=>{const d=r.getRoot(o).getOr(o.element);ls(d,r.invalidClass),r.notify.each(m=>{bA(o.element)&&bo(o.element,"aria-invalid",!0),m.getContainer(o).each(p=>{tm(p,l)}),m.onInvalid(o,l)})},yA=(o,r,a)=>r.validator.fold(()=>Dr(Fo.value(!0)),l=>l.validate(o)),Y_=(o,r,a)=>(r.notify.each(l=>{l.onValidate(o)}),yA(o,r).map(l=>o.getSystem().isConnected()?l.fold(d=>(vA(o,r,0,d),Fo.error(d)),d=>(xA(o,r),Fo.value(d))):Fo.error("No longer in system")));var wA=Object.freeze({__proto__:null,markValid:xA,markInvalid:vA,query:yA,run:Y_,isInvalid:(o,r)=>{const a=r.getRoot(o).getOr(o.element);return Ja(a,r.invalidClass)}}),AN=Object.freeze({__proto__:null,events:(o,r)=>o.validator.map(a=>Wn([et(a.onEvent,l=>{Y_(l,o).get(kt)})].concat(a.validateOnLoad?[ts(l=>{Y_(l,o).get(xe)})]:[]))).getOr({})}),TN=[ct("invalidClass"),Ie("getRoot",A.none),ll("notify",[Ie("aria","alert"),Ie("getContainer",A.none),Ie("validHtml",""),fn("onValid"),fn("onInvalid"),fn("onValidate")]),ll("validator",[ct("validate"),Ie("onEvent","input"),Ie("validateOnLoad",!0)])];const X_=(o,r,a)=>{r.store.manager.onLoad(o,r,a)},CA=(o,r,a)=>{r.store.manager.onUnload(o,r,a)};var _A=Object.freeze({__proto__:null,onLoad:X_,onUnload:CA,setValue:(o,r,a,l)=>{r.store.manager.setValue(o,r,a,l)},getValue:(o,r,a)=>r.store.manager.getValue(o,r,a),getState:(o,r,a)=>a}),DN=Object.freeze({__proto__:null,events:(o,r)=>{const a=o.resetOnDom?[ts((l,d)=>{X_(l,o,r)}),ad((l,d)=>{CA(l,o,r)})]:[a1(o,r,X_)];return Wn(a)}});const kA=()=>{const o=Vt(null);return Ti({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},SA=()=>{const o=Vt({}),r=Vt({});return Ti({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:r.get()}),lookup:a=>Kt(o.get(),a).orThunk(()=>Kt(r.get(),a)),update:a=>{const l=o.get(),d=r.get(),m={},p={};ht(a,b=>{m[b.value]=b,Kt(b,"meta").each(x=>{Kt(x,"text").each(w=>{p[w]=b})})}),o.set({...l,...m}),r.set({...d,...p})},clear:()=>{o.set({}),r.set({})}})};var ON=Object.freeze({__proto__:null,memory:kA,dataset:SA,manual:()=>Ti({readState:xe}),init:o=>o.store.manager.state(o)});const EA=(o,r,a,l)=>{const d=r.store;a.update([l]),d.setValue(o,l),r.onSetValue(o,l)};var AA=[Sn("initialValue"),ct("getFallbackEntry"),ct("getDataKey"),ct("setValue"),ms("manager",{setValue:EA,getValue:(o,r,a)=>{const l=r.store,d=l.getDataKey(o);return a.lookup(d).getOrThunk(()=>l.getFallbackEntry(d))},onLoad:(o,r,a)=>{r.store.initialValue.each(l=>{EA(o,r,a,l)})},onUnload:(o,r,a)=>{a.clear()},state:SA})],NN=[ct("getValue"),Ie("setValue",xe),Sn("initialValue"),ms("manager",{setValue:(o,r,a,l)=>{r.store.setValue(o,l),r.onSetValue(o,l)},getValue:(o,r,a)=>r.store.getValue(o),onLoad:(o,r,a)=>{r.store.initialValue.each(l=>{r.store.setValue(o,l)})},onUnload:xe,state:Rc.init})],RN=[Sn("initialValue"),ms("manager",{setValue:(o,r,a,l)=>{a.set(l),r.onSetValue(o,l)},getValue:(o,r,a)=>a.get(),onLoad:(o,r,a)=>{r.store.initialValue.each(l=>{a.isNotSet()&&a.set(l)})},onUnload:(o,r,a)=>{a.clear()},state:kA})],MN=[ti("store",{mode:"memory"},Fi("mode",{memory:RN,manual:NN,dataset:AA})),fn("onSetValue"),Ie("resetOnDom",!1)];const zt=qa({fields:MN,name:"representing",active:DN,apis:_A,extra:{setValueFrom:(o,r)=>{const a=zt.getValue(r);zt.setValue(o,a)}},state:ON}),Ru=qa({fields:TN,name:"invalidating",active:AN,apis:wA,extra:{validation:o=>r=>{const a=zt.getValue(r);return Dr(o(a))}}});var BN=Object.freeze({__proto__:null,exhibit:(o,r)=>fl({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const Q_=Lr([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),TA=(o,r,a,l,d,m)=>{const p=r.rect,b=p.x-a,x=p.y-l,w=d-(b+p.width),E=m-(x+p.height),C=A.some(b),T=A.some(x),B=A.some(w),L=A.some(E),Y=A.none();return r.direction.fold(()=>Nu(o,C,T,Y,Y),()=>Nu(o,Y,T,B,Y),()=>Nu(o,C,Y,Y,L),()=>Nu(o,Y,Y,B,L),()=>Nu(o,C,T,Y,Y),()=>Nu(o,C,Y,Y,L),()=>Nu(o,C,T,Y,Y),()=>Nu(o,Y,T,B,Y))},Xx=(o,r)=>o.fold(()=>{const a=r.rect;return Nu("absolute",A.some(a.x),A.some(a.y),A.none(),A.none())},(a,l,d,m)=>TA("absolute",r,a,l,d,m),(a,l,d,m)=>TA("fixed",r,a,l,d,m)),J_=(o,r)=>{const a=hn(Oa,r),l=o.fold(a,a,()=>{const p=Ii();return Oa(r).translate(-p.left,-p.top)}),d=Ro(r),m=rl(r);return zs(l.left,l.top,d,m)},DA=(o,r)=>r.fold(()=>o.fold(Na,Na,zs),a=>o.fold(ne(a),ne(a),()=>{const l=ek(o,a.x,a.y);return zs(l.left,l.top,a.width,a.height)})),ek=(o,r,a)=>{const l=us(r,a);return o.fold(ne(l),ne(l),()=>{const d=Ii();return l.translate(-d.left,-d.top)})};Q_.none;const OA=Q_.relative,NA=Q_.fixed,Qx=Lr([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),PN=(o,r,a,l)=>{const d=o.bubble,m=d.offset,p=((te,oe,de)=>{const he=(st,vt)=>oe[st].map(Qt=>{const no=st==="top"||st==="bottom",po=no?de.top:de.left,$o=(st==="left"||st==="top"?Math.max:Math.min)(Qt,vt)+po;return no?zr($o,te.y,te.bottom):zr($o,te.x,te.right)}).getOr(vt),ke=he("left",te.x),Ve=he("top",te.y),tt=he("right",te.right),Je=he("bottom",te.bottom);return zs(ke,Ve,tt-ke,Je-Ve)})(l,o.restriction,m),b=o.x+m.left,x=o.y+m.top,w=zs(b,x,r,a),{originInBounds:E,sizeInBounds:C,visibleW:T,visibleH:B}=((te,oe)=>{const{x:de,y:he,right:ke,bottom:Ve}=oe,{x:tt,y:Je,right:st,bottom:vt,width:Qt,height:no}=te;return{originInBounds:tt>=de&&tt<=ke&&Je>=he&&Je<=Ve,sizeInBounds:st<=ke&&st>=de&&vt<=Ve&&vt>=he,visibleW:Math.min(Qt,tt>=de?ke-tt:st-de),visibleH:Math.min(no,Je>=he?Ve-Je:vt-he)}})(w,p),L=E&&C,Y=L?w:((te,oe)=>{const{x:de,y:he,right:ke,bottom:Ve}=oe,{x:tt,y:Je,width:st,height:vt}=te,Qt=Math.max(de,ke-st),no=Math.max(he,Ve-vt),po=zr(tt,de,Qt),$o=zr(Je,he,no),gs=Math.min(po+st,ke)-po,Ms=Math.min($o+vt,Ve)-$o;return zs(po,$o,gs,Ms)})(w,p),W=Y.width>0&&Y.height>0,{maxWidth:X,maxHeight:$}=((te,oe,de)=>{const he=ne(oe.bottom-de.y),ke=ne(de.bottom-oe.y),Ve=((vt,Qt,no,po)=>vt.fold(Qt,Qt,po,po,Qt,po,no,no))(te,ke,ke,he),tt=ne(oe.right-de.x),Je=ne(de.right-oe.x);return{maxWidth:((vt,Qt,no,po)=>vt.fold(Qt,po,Qt,po,no,no,Qt,po))(te,Je,Je,tt),maxHeight:Ve}})(o.direction,Y,l),U={rect:Y,maxHeight:$,maxWidth:X,direction:o.direction,placement:o.placement,classes:{on:d.classesOn,off:d.classesOff},layout:o.label,testY:x};return L||o.alwaysFit?Qx.fit(U):Qx.nofit(U,T,B,W)},RA=["top","bottom","right","left"],by="data-alloy-transition-timer",IN=(o,r,a,l,d,m)=>{const p=((b,x,w)=>w.exists(E=>{const C=b.mode;return C==="all"||E[C]!==x[C]}))(l,d,m);if(p||((b,x)=>((w,E)=>_i(E,C=>Ja(w,C)))(b,x.classes))(o,l)){To(o,"position",a.position);const b=J_(r,o),x=Xx(r,{...d,rect:b}),w=Kn(RA,E=>x[E]);((E,C)=>{const T=B=>parseFloat(B).toFixed(3);return ki(C,(B,L)=>!((Y,W,X=pe)=>vr(Y,W,X).getOr(Y.isNone()&&W.isNone()))(E[L].map(T),B.map(T))).isSome()})(a,w)&&(Dd(o,w),p&&((E,C)=>{mu(E,C.classes),Ta(E,by).each(T=>{clearTimeout(parseInt(T,10)),qs(E,by)}),((T,B)=>{const L=Cs(),Y=Cs();let W;const X=oe=>{var de;const he=(de=oe.raw.pseudoElement)!==null&&de!==void 0?de:"";return In(oe.target,T)&&sr(he)&&St(RA,oe.raw.propertyName)},$=oe=>{if(xt(oe)||X(oe)){L.clear(),Y.clear();const de=oe==null?void 0:oe.raw.type;(xt(de)||de===wg())&&(clearTimeout(W),qs(T,by),ui(T,B.classes))}},U=Jn(T,h_(),oe=>{X(oe)&&(U.unbind(),L.set(Jn(T,wg(),$)),Y.set(Jn(T,Lh(),$)))}),te=(oe=>{const de=tt=>{const Je=Ha(oe,tt).split(/\s*,\s*/);return Oo(Je,Gl)},he=tt=>{if(Se(tt)&&/^[\d.]+/.test(tt)){const Je=parseFloat(tt);return Si(tt,"ms")?Je:1e3*Je}return 0},ke=de("transition-delay"),Ve=de("transition-duration");return Go(Ve,(tt,Je,st)=>{const vt=he(ke[st])+he(Je);return Math.max(tt,vt)},0)})(T);requestAnimationFrame(()=>{W=setTimeout($,te+17),bo(T,by,W)})})(E,C)})(o,l),Va(o))}else ui(o,l.classes)},MA=(o,r,a)=>o[r]===void 0?a:o[r],S1=(o,r,a,l)=>{const d=((m,p,b,x)=>{un(p,"max-height"),un(p,"max-width");const w=(E=p,{width:Math.ceil(Xc(E)),height:rl(E)});var E;return((C,T,B,L,Y,W)=>{const X=L.width,$=L.height,U=(te,oe,de,he,ke)=>{const Ve=te(B,L,Y,C,W),tt=PN(Ve,X,$,W);return tt.fold(ne(tt),(Je,st,vt,Qt)=>(ke===Qt?vt>he||st>de:!ke&&Qt)?tt:Qx.nofit(oe,de,he,ke))};return Go(T,(te,oe)=>{const de=hn(U,oe);return te.fold(ne(te),de)},Qx.nofit({rect:B,maxHeight:L.height,maxWidth:L.width,direction:Xh(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:B.y},-1,-1,!1)).fold(kt,kt)})(p,x.preference,m,w,b,x.bounds)})(o,r,a,l);return((m,p,b)=>{const x=Xx(b.origin,p);b.transition.each(w=>{IN(m,b.origin,x,w,p,b.lastPlacement)}),eA(m,x)})(r,d,l),((m,p)=>{((b,x)=>{bo(b,Pl,x)})(m,p.placement)})(r,d),((m,p)=>{const b=p.classes;ui(m,b.off),mu(m,b.on)})(r,d),((m,p,b)=>{(0,b.maxHeightFunction)(m,p.maxHeight)})(r,d,l),((m,p,b)=>{(0,b.maxWidthFunction)(m,p.maxWidth)})(r,d,l),{layout:d.layout,placement:d.placement}},xy=kt,$g=()=>ll("layouts",[ct("onLtr"),ct("onRtl"),Sn("onBottomLtr"),Sn("onBottomRtl")]),vy=(o,r,a,l,d,m,p)=>{const b=p.map(j2).getOr(!1),x=r.layouts.map(T=>T.onLtr(o)),w=r.layouts.map(T=>T.onRtl(o)),E=b?r.layouts.bind(T=>T.onBottomLtr.map(B=>B(o))).or(x).getOr(d):x.getOr(a),C=b?r.layouts.bind(T=>T.onBottomRtl.map(B=>B(o))).or(w).getOr(m):w.getOr(l);return Yf(E,C)(o)};var LN=[ct("hotspot"),Sn("bubble"),Ie("overrides",{}),$g(),ms("placement",(o,r,a)=>{const l=r.hotspot,d=J_(a,l.element),m=vy(o.element,r,Sx(),O0(),Qh(),Jh(),A.some(r.hotspot.element));return A.some(xy({anchorBox:d,bubble:r.bubble.getOr(vx()),overrides:r.overrides,layouts:m}))})],BA=[ct("x"),ct("y"),Ie("height",0),Ie("width",0),Ie("bubble",vx()),Ie("overrides",{}),$g(),ms("placement",(o,r,a)=>{const l=ek(a,r.x,r.y),d=zs(l.left,l.top,r.width,r.height),m=vy(o.element,r,fm(),ni(),fm(),ni(),A.none());return A.some(xy({anchorBox:d,bubble:r.bubble,overrides:r.overrides,layouts:m}))})];const PA=Lr([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),FN=o=>o.fold(kt,(r,a,l)=>r.translate(-a,-l)),IA=o=>o.fold(kt,kt),W0=o=>Go(o,(r,a)=>r.translate(a.left,a.top),us(0,0)),q0=o=>{const r=Ae(o,IA);return W0(r)},zN=PA.screen,tk=PA.absolute,LA=(o,r,a)=>{const l=jt(o.element),d=Ii(l),m=((p,b,x)=>{const w=Vr(x.root).dom;return A.from(w.frameElement).map(Ft).filter(E=>{const C=jt(E),T=jt(p.element);return In(C,T)}).map(pr)})(o,0,a).getOr(d);return tk(m,d.left,d.top)},yy=(o,r,a,l)=>{const d=zN(us(o,r));return A.some(((m,p,b)=>({point:m,width:p,height:b}))(d,a,l))},ok=(o,r,a,l,d)=>o.map(m=>{const p=[r,m.point],b=(x=()=>q0(p),w=()=>q0(p),E=()=>(U=>{const te=Ae(U,FN);return W0(te)})(p),l.fold(x,w,E));var x,w,E;const C=(Y=b.left,W=b.top,X=m.width,$=m.height,{x:Y,y:W,width:X,height:$}),T=a.showAbove?Qh():Sx(),B=a.showAbove?Jh():O0(),L=vy(d,a,T,B,T,B,A.none());var Y,W,X,$;return xy({anchorBox:C,bubble:a.bubble.getOr(vx()),overrides:a.overrides,layouts:L})});var FA=[ct("node"),ct("root"),Sn("bubble"),$g(),Ie("overrides",{}),Ie("showAbove",!1),ms("placement",(o,r,a)=>{const l=LA(o,0,r);return r.node.filter(za).bind(d=>{const m=d.dom.getBoundingClientRect(),p=yy(m.left,m.top,m.width,m.height),b=r.node.getOr(o.element);return ok(p,l,r,a,b)})})];const wy=(o,r)=>({element:o,offset:r}),zA=(o,r)=>P(o)?wy(o,r):((a,l)=>{const d=Nr(a);if(d.length===0)return wy(a,l);if(l<d.length)return wy(d[l],0);{const m=d[d.length-1],p=P(m)?(b=>Xm.get(b))(m).length:Nr(m).length;return wy(m,p)}})(o,r),nk=o=>o.foffset!==void 0,E1=(o,r)=>r.getSelection.getOrThunk(()=>()=>(a=>(l=>A.from(l.getSelection()))(a).filter(l=>l.rangeCount>0).bind(td))(o))().map(a=>{if(nk(a)){const l=zA(a.start,a.soffset),d=zA(a.finish,a.foffset);return Ac.range(l.element,l.offset,d.element,d.offset)}return a});var A1=[Sn("getSelection"),ct("root"),Sn("bubble"),$g(),Ie("overrides",{}),Ie("showAbove",!1),ms("placement",(o,r,a)=>{const l=Vr(r.root).dom,d=LA(o,0,r),m=E1(l,r).bind(b=>{if(nk(b))return((w,E)=>(C=>{const T=C.getBoundingClientRect();return T.width>0||T.height>0?A.some(T).map(Cd):A.none()})(ar(w,E)))(l,Ac.exactFromRange(b)).orThunk(()=>{const w=Ku("\uFEFF");Bi(b.start,w);const E=sm(l,Ac.exact(w,0,w,1));return Td(w),E}).bind(w=>yy(w.left,w.top,w.width,w.height));{const x=Ss(b,E=>E.dom.getBoundingClientRect()),w={left:Math.min(x.firstCell.left,x.lastCell.left),right:Math.max(x.firstCell.right,x.lastCell.right),top:Math.min(x.firstCell.top,x.lastCell.top),bottom:Math.max(x.firstCell.bottom,x.lastCell.bottom)};return yy(w.left,w.top,w.right-w.left,w.bottom-w.top)}}),p=E1(l,r).bind(b=>nk(b)?Ho(b.start)?A.some(b.start):aa(b.start):A.some(b.firstCell)).getOr(o.element);return ok(m,d,r,a,p)})];const T1="link-layout",G0=o=>o.x+o.width,HA=(o,r)=>o.x-r.width,Mp=(o,r)=>o.y-r.height+o.height,km=o=>o.y,Cy=(o,r,a)=>ja(G0(o),km(o),a.southeast(),Xh(),"southeast",va(o,{left:0,top:2}),T1),sk=(o,r,a)=>ja(HA(o,r),km(o),a.southwest(),yx(),"southwest",va(o,{right:1,top:2}),T1),VA=(o,r,a)=>ja(G0(o),Mp(o,r),a.northeast(),T0(),"northeast",va(o,{left:0,bottom:3}),T1),rk=(o,r,a)=>ja(HA(o,r),Mp(o,r),a.northwest(),wx(),"northwest",va(o,{right:1,bottom:3}),T1),K0=()=>[Cy,sk,VA,rk],Y0=()=>[sk,Cy,rk,VA];var ak=[ct("item"),$g(),Ie("overrides",{}),ms("placement",(o,r,a)=>{const l=J_(a,r.item.element),d=vy(o.element,r,K0(),Y0(),K0(),Y0(),A.none());return A.some(xy({anchorBox:l,bubble:vx(),overrides:r.overrides,layouts:d}))})],$A=Fi("type",{selection:A1,node:FA,hotspot:LN,submenu:ak,makeshift:BA});const Jx=[fi("classes",Mr),od("mode","all",["all","layout","placement"])],_y=[Ie("useFixed",Ke),Sn("getBounds")],HN=[il("anchor",$A),ll("transition",Jx)],ky=(o,r,a,l,d,m)=>{const p=mi("placement.info",xo(HN),d),b=p.anchor,x=l.element,w=a.get(l.uid);sy(()=>{To(x,"position","fixed");const E=ba(x,"visibility");To(x,"visibility","hidden");const C=r.useFixed()?(()=>{const T=document.documentElement;return NA(0,0,T.clientWidth,T.clientHeight)})():(T=>{const B=pr(T.element),L=T.element.dom.getBoundingClientRect();return OA(B.left,B.top,L.width,L.height)})(o);b.placement(o,b,C).each(T=>{const B=m.orThunk(()=>r.getBounds.map(qo)),L=((Y,W,X,$,U,te)=>((oe,de,he,ke,Ve,tt,Je,st)=>{const vt=MA(Je,"maxHeightFunction",Nx()),Qt=MA(Je,"maxWidthFunction",xe),no=oe.anchorBox,po=oe.origin,$o={bounds:DA(po,tt),origin:po,preference:ke,maxHeightFunction:vt,maxWidthFunction:Qt,lastPlacement:Ve,transition:st};return S1(no,de,he,$o)})(((oe,de)=>((he,ke)=>({anchorBox:he,origin:ke}))(oe,de))(W.anchorBox,Y),$.element,W.bubble,W.layouts,U,X,W.overrides,te))(C,T,B,l,w,p.transition);a.set(l.uid,L)}),E.fold(()=>{un(x,"visibility")},T=>{To(x,"visibility",T)}),ba(x,"left").isNone()&&ba(x,"top").isNone()&&ba(x,"right").isNone()&&ba(x,"bottom").isNone()&&Sa(ba(x,"position"),"fixed")&&un(x,"position")},x)};var Sy=Object.freeze({__proto__:null,position:(o,r,a,l,d)=>{const m=A.none();ky(o,r,a,l,d,m)},positionWithinBounds:ky,getMode:(o,r,a)=>r.useFixed()?"fixed":"absolute",reset:(o,r,a,l)=>{const d=l.element;ht(["position","left","right","top","bottom"],m=>un(d,m)),(m=>{qs(m,Pl)})(d),a.clear(l.uid)}});const Yi=qa({fields:_y,name:"positioning",active:BN,apis:Sy,state:Object.freeze({__proto__:null,init:()=>{let o={};return Ti({readState:()=>o,clear:r=>{Ne(r)?delete o[r]:o={}},set:(r,a)=>{o[r]=a},get:r=>Kt(o,r)})}})});var _f=Object.freeze({__proto__:null,events:o=>Wn([et(uf(),(r,a)=>{const l=o.channels,d=Zs(l),m=a,p=((b,x)=>x.universal?b:Oo(b,w=>St(x.channels,w)))(d,m);ht(p,b=>{const x=l[b],w=x.schema,E=mi("channel["+b+`] data
Receiver: `+Wt(r.element),w,m.data);x.onReceive(r,E)})})])}),UA=[il("channels",xg(Fo.value,rc([Ml("onReceive"),Ie("schema",Ns())])))];const Vl=qa({fields:UA,name:"receiving",active:_f});var X0=Object.freeze({__proto__:null,events:(o,r)=>{const a=(l,d)=>{o.updateState.each(m=>{const p=m(l,d);r.set(p)}),o.renderComponents.each(m=>{const p=m(d,r.get());(o.reuseDom?LE:IE)(l,p)})};return Wn([et(uf(),(l,d)=>{const m=d;if(!m.universal){const p=o.channel;St(m.channels,p)&&a(l,m.data)}}),ts((l,d)=>{o.initialData.each(m=>{a(l,m)})})])}}),ZA=Object.freeze({__proto__:null,getState:(o,r,a)=>a}),Ey=[ct("channel"),Sn("renderComponents"),Sn("updateState"),Sn("initialData"),Ua("reuseDom",!0)];const Mc=qa({fields:Ey,name:"reflecting",active:X0,apis:ZA,state:Object.freeze({__proto__:null,init:()=>{const o=Vt(A.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(A.none())}}})}),ik=(o,r,a,l)=>{a.get().each(p=>{C_(o)});const d=r.getAttachPoint(o);Du(d,o);const m=o.getSystem().build(l);return Du(o,m),a.set(m),m},lk=(o,r,a,l)=>{const d=ik(o,r,a,l);return r.onOpen(o,d),d},jA=(o,r,a)=>{a.get().each(l=>{C_(o),Cf(o),r.onClose(o,l),a.clear()})},Ay=(o,r,a)=>a.isOpen(),Sm=(o,r,a)=>{const l=r.getAttachPoint(o);To(o.element,"position",Yi.getMode(l)),((d,m,p)=>{ba(d.element,m).fold(()=>{qs(d.element,p)},b=>{bo(d.element,p,b)}),To(d.element,m,"hidden")})(o,"visibility",r.cloakVisibilityAttr)},WA=(o,r,a)=>{(l=>Tn(["top","left","right","bottom"],d=>ba(l,d).isSome()))(o.element)||un(o.element,"position"),((l,d,m)=>{Ta(l.element,m).fold(()=>un(l.element,d),p=>To(l.element,d,p))})(o,"visibility",r.cloakVisibilityAttr)};var VN=Object.freeze({__proto__:null,cloak:Sm,decloak:WA,open:lk,openWhileCloaked:(o,r,a,l,d)=>{Sm(o,r),lk(o,r,a,l),d(),WA(o,r)},close:jA,isOpen:Ay,isPartOf:(o,r,a,l)=>Ay(0,0,a)&&a.get().exists(d=>r.isPartOf(o,d,l)),getState:(o,r,a)=>a.get(),setContent:(o,r,a,l)=>a.get().map(()=>ik(o,r,a,l))}),qA=Object.freeze({__proto__:null,events:(o,r)=>Wn([et(zh(),(a,l)=>{jA(a,o,r)})])}),GA=[fn("onOpen"),fn("onClose"),ct("isPartOf"),ct("getAttachPoint"),Ie("cloakVisibilityAttr","data-precloak-visibility")],KA=Object.freeze({__proto__:null,init:()=>{const o=Pn(),r=ne("not-implemented");return Ti({readState:r,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const En=qa({fields:GA,name:"sandboxing",active:qA,apis:VN,state:KA}),ev=(o,r)=>r.getAnimationRoot.fold(()=>o.element,a=>a(o)),xi=o=>o.dimension.property,Mu=(o,r)=>o.dimension.getDimension(r),tv=(o,r)=>{const a=ev(o,r);ui(a,[r.shrinkingClass,r.growingClass])},Ug=(o,r)=>{vs(o.element,r.openClass),ls(o.element,r.closedClass),To(o.element,xi(r),"0px"),Va(o.element)},gl=(o,r)=>{vs(o.element,r.closedClass),ls(o.element,r.openClass),un(o.element,xi(r))},dc=(o,r,a,l)=>{a.setCollapsed(),To(o.element,xi(r),Mu(r,o.element)),tv(o,r),Ug(o,r),r.onStartShrink(o),r.onShrunk(o)},hl=(o,r,a,l)=>{const d=l.getOrThunk(()=>Mu(r,o.element));a.setCollapsed(),To(o.element,xi(r),d),Va(o.element);const m=ev(o,r);vs(m,r.growingClass),ls(m,r.shrinkingClass),Ug(o,r),r.onStartShrink(o)},jd=(o,r,a)=>{const l=Mu(r,o.element);(l==="0px"?dc:hl)(o,r,a,A.some(l))},Ty=(o,r,a)=>{const l=ev(o,r),d=Ja(l,r.shrinkingClass),m=Mu(r,o.element);gl(o,r);const p=Mu(r,o.element);(d?()=>{To(o.element,xi(r),m),Va(o.element)}:()=>{Ug(o,r)})(),vs(l,r.shrinkingClass),ls(l,r.growingClass),gl(o,r),To(o.element,xi(r),p),a.setExpanded(),r.onStartGrow(o)},ud=(o,r,a)=>{const l=ev(o,r);return Ja(l,r.growingClass)===!0},Zg=(o,r,a)=>{const l=ev(o,r);return Ja(l,r.shrinkingClass)===!0};var $N=Object.freeze({__proto__:null,refresh:(o,r,a)=>{if(a.isExpanded()){un(o.element,xi(r));const l=Mu(r,o.element);To(o.element,xi(r),l)}},grow:(o,r,a)=>{a.isExpanded()||Ty(o,r,a)},shrink:(o,r,a)=>{a.isExpanded()&&jd(o,r,a)},immediateShrink:(o,r,a)=>{a.isExpanded()&&dc(o,r,a)},hasGrown:(o,r,a)=>a.isExpanded(),hasShrunk:(o,r,a)=>a.isCollapsed(),isGrowing:ud,isShrinking:Zg,isTransitioning:(o,r,a)=>ud(o,r)||Zg(o,r),toggleGrow:(o,r,a)=>{(a.isExpanded()?jd:Ty)(o,r,a)},disableTransitions:tv,immediateGrow:(o,r,a)=>{a.isExpanded()||(gl(o,r),To(o.element,xi(r),Mu(r,o.element)),tv(o,r),a.setExpanded(),r.onStartGrow(o),r.onGrown(o))}}),UN=Object.freeze({__proto__:null,exhibit:(o,r,a)=>{const l=r.expanded;return fl(l?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:am(r.dimension.property,"0px")})},events:(o,r)=>Wn([hm(wg(),(a,l)=>{l.event.raw.propertyName===o.dimension.property&&(tv(a,o),r.isExpanded()&&un(a.element,o.dimension.property),(r.isExpanded()?o.onGrown:o.onShrunk)(a))})])}),ZN=[ct("closedClass"),ct("openClass"),ct("shrinkingClass"),ct("growingClass"),Sn("getAnimationRoot"),fn("onShrunk"),fn("onStartShrink"),fn("onGrown"),fn("onStartGrow"),Ie("expanded",!1),il("dimension",Fi("property",{width:[ms("property","width"),ms("getDimension",o=>$a(o)+"px")],height:[ms("property","height"),ms("getDimension",o=>Gs(o)+"px")]}))];const $l=qa({fields:ZN,name:"sliding",active:UN,apis:$N,state:Object.freeze({__proto__:null,init:o=>{const r=Vt(o.expanded);return Ti({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:hn(r.set,!1),setExpanded:hn(r.set,!0),readState:()=>"expanded: "+r.get()})}})});var YA=Object.freeze({__proto__:null,events:(o,r)=>{const a=o.stream.streams.setup(o,r);return Wn([et(o.event,a),ad(()=>r.cancel())].concat(o.cancelEvent.map(l=>[et(l,()=>r.cancel())]).getOr([])))}});const ov=o=>{const r=Vt(null);return Ti({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:a=>{r.set(a)},cancel:()=>{const a=r.get();a!==null&&a.cancel()}})};var XA=Object.freeze({__proto__:null,throttle:ov,init:o=>o.stream.streams.state(o)}),jN=[il("stream",Fi("mode",{throttle:[ct("delay"),Ie("stopEvent",!0),ms("streams",{setup:(o,r)=>{const a=o.stream,l=su(o.onStream,a.delay);return r.setTimer(l),(d,m)=>{l.throttle(d,m),a.stopEvent&&m.stop()}},state:ov})]})),Ie("event","input"),Sn("cancelEvent"),Ml("onStream")];const ck=qa({fields:jN,name:"streaming",active:YA,state:XA});var WN=Object.freeze({__proto__:null,exhibit:(o,r)=>fl({attributes:cp([{key:r.tabAttr,value:"true"}])})}),qN=[Ie("tabAttr","data-alloy-tabstop")];const fs=qa({fields:qN,name:"tabstopping",active:WN}),Q0=(o,r,a,l)=>{const d=a.get();a.set(l),((m,p,b)=>{p.toggleClass.each(x=>{b.get()?ls(m.element,x):vs(m.element,x)})})(o,r,a),((m,p,b)=>{const x=p.aria;x.update(m,x,b.get())})(o,r,a),d!==l&&r.onToggled(o,l)},Dy=(o,r,a)=>{Q0(o,r,a,!a.get())},dk=(o,r,a)=>{Q0(o,r,a,r.selected)};var GN=Object.freeze({__proto__:null,onLoad:dk,toggle:Dy,isOn:(o,r,a)=>a.get(),on:(o,r,a)=>{Q0(o,r,a,!0)},off:(o,r,a)=>{Q0(o,r,a,!1)},set:Q0}),KN=Object.freeze({__proto__:null,exhibit:()=>fl({}),events:(o,r)=>{const a=(l=o,d=r,m=Dy,Hd(b=>{m(b,l,d)}));var l,d,m;const p=a1(o,r,dk);return Wn(Ps([o.toggleOnExecute?[a]:[],[p]]))}});const QA=(o,r,a)=>{bo(o.element,"aria-expanded",a)};var YN=[Ie("selected",!1),Sn("toggleClass"),Ie("toggleOnExecute",!0),fn("onToggled"),ti("aria",{mode:"none"},Fi("mode",{pressed:[Ie("syncWithExpanded",!1),ms("update",(o,r,a)=>{bo(o.element,"aria-pressed",a),r.syncWithExpanded&&QA(o,0,a)})],checked:[ms("update",(o,r,a)=>{bo(o.element,"aria-checked",a)})],expanded:[ms("update",QA)],selected:[ms("update",(o,r,a)=>{bo(o.element,"aria-selected",a)})],none:[ms("update",xe)]}))];const Zo=qa({fields:YN,name:"toggling",active:KN,apis:GN,state:(uk=!1,{init:()=>{const o=Vt(uk);return{get:()=>o.get(),set:r=>o.set(r),clear:()=>o.set(uk),readState:()=>o.get()}}})});var uk;const md=Me("tooltip.exclusive"),Oy=Me("tooltip.show"),jg=Me("tooltip.hide"),Em=Me("tooltip.immediateHide"),D1=Me("tooltip.immediateShow"),Ny=(o,r,a)=>{o.getSystem().broadcastOn([md],{})};var XN=Object.freeze({__proto__:null,hideAllExclusive:Ny,immediateOpenClose:(o,r,a,l)=>Qo(o,l?D1:Em),isEnabled:(o,r,a)=>a.isEnabled(),setComponents:(o,r,a,l)=>{a.getTooltip().each(d=>{d.getSystem().isConnected()&&Do.set(d,l)})},setEnabled:(o,r,a,l)=>a.setEnabled(l)}),QN=Object.freeze({__proto__:null,events:(o,r)=>{const a=m=>{r.getTooltip().each(p=>{p.getSystem().isConnected()&&(Cf(p),o.onHide(m,p),r.clearTooltip())}),r.clearTimer()},l=m=>{if(!r.isShowing()&&r.isEnabled()){Ny(m);const p=o.lazySink(m).getOrDie(),b=m.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:Wn(o.mode==="normal"?[et($i(),x=>{Qo(m,Oy)}),et(lf(),x=>{Qo(m,jg)})]:[]),behaviours:pt([Do.config({})])});r.setTooltip(b),Du(p,b),o.onShow(m,b),Yi.position(p,b,{anchor:o.anchor(m)})}},d=m=>{r.getTooltip().each(p=>{const b=o.lazySink(m).getOrDie();Yi.position(b,p,{anchor:o.anchor(m)})})};return Wn(Ps([[Ng(m=>{o.onSetup(m)}),et(Oy,m=>{r.resetTimer(()=>{l(m)},o.delayForShow())}),et(jg,m=>{r.resetTimer(()=>{a(m)},o.delayForHide())}),et(D1,m=>{r.resetTimer(()=>{l(m)},0)}),et(Em,m=>{r.resetTimer(()=>{a(m)},0)}),et(uf(),(m,p)=>{const b=p;b.universal||St(b.channels,md)&&a(m)}),ad(m=>{a(m)})],(()=>{switch(o.mode){case"normal":return[et(Rl(),m=>{Qo(m,D1)}),et(lm(),m=>{Qo(m,Em)}),et($i(),m=>{Qo(m,Oy)}),et(lf(),m=>{Qo(m,jg)})];case"follow-highlight":return[et(um(),(m,p)=>{Qo(m,Oy)}),et(_g(),m=>{Qo(m,jg)})];case"children-normal":return[et(Rl(),(m,p)=>{As(m.element).each(b=>{Ia(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Qo(m,D1)},x=>{r.isShowing()&&(o.onShow(m,x),d(m))})})}),et(lm(),m=>{As(m.element).fold(()=>{Qo(m,Em)},xe)}),et($i(),m=>{On(m.element,"[data-mce-tooltip]:hover").each(p=>{r.getTooltip().fold(()=>{Qo(m,Oy)},b=>{r.isShowing()&&(o.onShow(m,b),d(m))})})}),et(lf(),m=>{On(m.element,"[data-mce-tooltip]:hover").fold(()=>{Qo(m,jg)},xe)})];default:return[et(Rl(),(m,p)=>{As(m.element).each(b=>{Ia(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Qo(m,D1)},x=>{r.isShowing()&&(o.onShow(m,x),d(m))})})}),et(lm(),m=>{As(m.element).fold(()=>{Qo(m,Em)},xe)})]}})()]))}}),JN=[ct("lazySink"),ct("tooltipDom"),Ie("exclusive",!0),Ie("tooltipComponents",[]),mn("delayForShow",ne(300)),mn("delayForHide",ne(100)),mn("onSetup",xe),od("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Ie("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:ne([Pr,ya,jr,Wa,Br,oi]),onRtl:ne([Pr,ya,jr,Wa,Br,oi])},bubble:ml(0,-2,{})})),fn("onHide"),fn("onShow")],eR=Object.freeze({__proto__:null,init:()=>{const o=Vt(!0),r=Pn(),a=Pn(),l=()=>{r.on(clearTimeout)},d=ne("not-implemented");return Ti({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:l,resetTimer:(m,p)=>{l(),r.set(setTimeout(m,p))},readState:d,isEnabled:()=>o.get(),setEnabled:m=>o.set(m)})}});const Rs=qa({fields:JN,name:"tooltipping",active:QN,state:eR,apis:XN}),kf=qa({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Wn([bf(d0(),Xt)]),exhibit:()=>fl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),Wd=o=>{const r=Um(o),a=Nr(r),l=(p=>{const b=p.dom.attributes!==void 0?p.dom.attributes:[];return Go(b,(x,w)=>w.name==="class"?x:{...x,[w.name]:w.value},{})})(r),d=(p=>Array.prototype.slice.call(p.dom.classList,0))(r),m=a.length===0?{}:{innerHtml:Th(r)};return{tag:Ut(r),classes:d,attributes:l,...m}},Fn=o=>{const r=(a=>a.uid!==void 0)(o)&&xs(o,"uid")?o.uid:U0("memento");return{get:a=>a.getSystem().getByUid(r).getOrDie(),getOpt:a=>a.getSystem().getByUid(r).toOptional(),asSpec:()=>({...o,uid:r})}},Ga=bx,Am=P2,Tm=ne("dismiss.popups"),Sf=ne("reposition.popups"),nv=ne("mouse.released"),Ry=(o,r)=>{const a={stopBackspace:!0,...r},l=(C=>{const T=Pn(),B=Vt(!1),L=Ts(W=>{C.triggerEvent(Fh(),W),B.set(!0)},400),Y=cp([{key:xu(),value:W=>(Zh(W).each(X=>{L.cancel();const $={x:X.clientX,y:X.clientY,target:W.target};L.schedule(W),B.set(!1),T.set($)}),A.none())},{key:dp(),value:W=>(L.cancel(),Zh(W).each(X=>{T.on($=>{((U,te)=>{const oe=Math.abs(U.clientX-te.x),de=Math.abs(U.clientY-te.y);return oe>5||de>5})(X,$)&&T.clear()})}),A.none())},{key:af(),value:W=>(L.cancel(),T.get().filter(X=>In(X.target,W.target)).map(X=>B.get()?(W.prevent(),!1):C.triggerEvent(Cg(),W)))}]);return{fireIfReady:(W,X)=>Kt(Y,X).bind($=>$(W))}})(a),d=Ae(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),C=>Jn(o,C,T=>{l.fireIfReady(T,C).each(B=>{B&&T.kill()}),a.triggerEvent(C,T)&&T.kill()})),m=Pn(),p=Jn(o,"paste",C=>{l.fireIfReady(C,"paste").each(T=>{T&&C.kill()}),a.triggerEvent("paste",C)&&C.kill(),m.set(setTimeout(()=>{a.triggerEvent(df(),C)},0))}),b=Jn(o,"keydown",C=>{a.triggerEvent("keydown",C)?C.kill():a.stopBackspace&&(T=>T.raw.which===l1[0]&&!St(["input","textarea"],Ut(T.target))&&!ep(T.target,'[contenteditable="true"]'))(C)&&C.prevent()}),x=Jn(o,"focusin",C=>{a.triggerEvent("focusin",C)&&C.kill()}),w=Pn(),E=Jn(o,"focusout",C=>{a.triggerEvent("focusout",C)&&C.kill(),w.set(setTimeout(()=>{a.triggerEvent(lm(),C)},0))});return{unbind:()=>{ht(d,C=>{C.unbind()}),b.unbind(),x.unbind(),E.unbind(),p.unbind(),m.on(clearTimeout),w.on(clearTimeout)}}},My=(o,r)=>{const a=Kt(o,"target").getOr(r);return Vt(a)},J0=Lr([{stopped:[]},{resume:["element"]},{complete:[]}]),eb=(o,r,a,l,d,m)=>{const p=o(r,l),b=((x,w)=>{const E=Vt(!1),C=Vt(!1);return{stop:()=>{E.set(!0)},cut:()=>{C.set(!0)},isStopped:E.get,isCut:C.get,event:x,setSource:w.set,getSource:w.get}})(a,d);return p.fold(()=>(m.logEventNoHandlers(r,l),J0.complete()),x=>{const w=x.descHandler;return E_(w)(b),b.isStopped()?(m.logEventStopped(r,x.element,w.purpose),J0.stopped()):b.isCut()?(m.logEventCut(r,x.element,w.purpose),J0.complete()):Ln(x.element).fold(()=>(m.logNoParent(r,x.element,w.purpose),J0.complete()),E=>(m.logEventResponse(r,x.element,w.purpose),J0.resume(E)))})},By=(o,r,a,l,d,m)=>eb(o,r,a,l,d,m).fold(Xt,p=>By(o,r,a,p,d,m),Ke),JA=(o,r,a,l,d)=>{const m=My(a,l);return By(o,r,a,l,m,d)},e5=()=>{const o=(()=>{const l={};return{registerId:(d,m,p)=>{mr(p,(b,x)=>{const w=l[x]!==void 0?l[x]:{};w[m]=((E,C)=>({cHandler:hn.apply(void 0,[E.handler].concat(C)),purpose:E.purpose}))(b,d),l[x]=w})},unregisterId:d=>{mr(l,(m,p)=>{jo(m,d)&&delete m[d]})},filterByType:d=>Kt(l,d).map(m=>Ya(m,(p,b)=>((x,w)=>({id:x,descHandler:w}))(b,p))).getOr([]),find:(d,m,p)=>Kt(l,m).bind(b=>nm(p,x=>((w,E)=>$0(E).bind(C=>Kt(w,C)).map(C=>((T,B)=>({element:T,descHandler:B}))(E,C)))(b,x),d))}})(),r={},a=l=>{$0(l.element).each(d=>{delete r[d],o.unregisterId(d)})};return{find:(l,d,m)=>o.find(l,d,m),filter:l=>o.filterByType(l),register:l=>{const d=(p=>{const b=p.element;return $0(b).getOrThunk(()=>((x,w)=>{const E=Me(j7+"uid-");return ry(w,E),E})(0,p.element))})(l);xs(r,d)&&((p,b)=>{const x=r[b];if(x!==p)throw new Error('The tagId "'+b+'" is already used by: '+Wt(x.element)+`
Cannot use it for: `+Wt(p.element)+`
The conflicting element is`+(za(x.element)?" ":" not ")+"already in the DOM");a(p)})(l,d);const m=[l];o.registerId(m,d,l.events),r[d]=l},unregister:a,getById:l=>Kt(r,l)}},mk=o=>{const r=W=>Ln(o.element).fold(Xt,X=>In(W,X)),a=e5(),l=(W,X)=>a.find(r,W,X),d=Ry(o.element,{triggerEvent:(W,X)=>Oc(W,X.target,$=>((U,te,oe,de)=>JA(U,te,oe,oe.target,de))(l,W,X,$))}),m={debugInfo:ne("real"),triggerEvent:(W,X,$)=>{Oc(W,X,U=>JA(l,W,$,X,U))},triggerFocus:(W,X)=>{$0(W).fold(()=>{Ws(W)},$=>{Oc(Dc(),W,U=>(((te,oe,de,he,ke)=>{const Ve=My(de,he);eb(te,oe,de,he,Ve,ke)})(l,Dc(),{originator:X,kill:xe,prevent:xe,target:W},W,U),!1))})},triggerEscape:(W,X)=>{m.triggerEvent("keydown",W.element,X.event)},getByUid:W=>L(W),getByDom:W=>Y(W),build:Gi,buildOrPatch:T_,addToGui:W=>{x(W)},removeFromGui:W=>{w(W)},addToWorld:W=>{p(W)},removeFromWorld:W=>{b(W)},broadcast:W=>{C(W)},broadcastOn:(W,X)=>{T(W,X)},broadcastEvent:(W,X)=>{B(W,X)},isConnected:Xt},p=W=>{W.connect(m),P(W.element)||(a.register(W),ht(W.components(),p),m.triggerEvent(m0(),W.element,{target:W.element}))},b=W=>{P(W.element)||(ht(W.components(),b),a.unregister(W)),W.disconnect()},x=W=>{Du(o,W)},w=W=>{Cf(W)},E=W=>{const X=a.filter(uf());ht(X,$=>{const U=$.descHandler;E_(U)(W)})},C=W=>{E({universal:!0,data:W})},T=(W,X)=>{E({universal:!1,channels:W,data:X})},B=(W,X)=>(($,U)=>{const te=(oe=>{const de=Vt(!1);return{stop:()=>{de.set(!0)},cut:xe,isStopped:de.get,isCut:Ke,event:oe,setSource:bn("Cannot set source of a broadcasted event"),getSource:bn("Cannot get source of a broadcasted event")}})(U);return ht($,oe=>{const de=oe.descHandler;E_(de)(te)}),te.isStopped()})(a.filter(W),X),L=W=>a.getById(W).fold(()=>Fo.error(new Error('Could not find component with uid: "'+W+'" in system.')),Fo.value),Y=W=>{const X=$0(W).getOr("not found");return L(X)};return p(o),{root:o,element:o.element,destroy:()=>{d.unbind(),Td(o.element)},add:x,remove:w,getByUid:L,getByDom:Y,addToWorld:p,removeFromWorld:b,broadcast:C,broadcastOn:T,broadcastEvent:B}},fk=()=>{const o=(r,a)=>{a.stop(),bp(r)};return[et(cl(),o),et(Cg(),o),Ll(xu()),Ll(Nl())]},tb=o=>Wn(Ps([o.map(r=>Hd((a,l)=>{r(a),l.stop()})).toArray(),fk()])),ua=dd({name:"Button",factory:o=>{const r=tb(o.action),a=o.dom.tag,l=d=>Kt(o.dom,"attributes").bind(m=>Kt(m,d));return{uid:o.uid,dom:o.dom,components:o.components,events:r,behaviours:Vg(o.buttonBehaviours,[mo.config({}),Bt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:a==="button"?{type:l("type").getOr("button"),...l("role").map(d=>({role:d})).getOr({})}:{role:o.role.getOr(l("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[Ie("uid",void 0),ct("dom"),Ie("components",[]),j0("buttonBehaviours",[mo,Bt]),Sn("action"),Sn("role"),Ie("eventOrder",{})]}),pk=ne([Ie("shell",!1),ct("makeItem"),Ie("setupItem",xe),j0("listBehaviours",[Do])]),tR=Nc({name:"items",overrides:()=>({behaviours:pt([Do.config({})])})}),oR=ne([tR]),gk=Ki({name:ne("CustomList")(),configFields:pk(),partFields:oR(),factory:(o,r,a,l)=>{const d=o.shell?{behaviours:[Do.config({})],components:[]}:{behaviours:[],components:r};return{uid:o.uid,dom:o.dom,components:d.components,behaviours:bi(o.listBehaviours,d.behaviours),apis:{setItems:(m,p)=>{var b;(b=m,o.shell?A.some(b):es(b,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},x=>{const w=Do.contents(x),E=p.length,C=E-w.length,T=C>0?Ci(C,()=>o.makeItem()):[],B=w.slice(E);ht(B,Y=>Do.remove(x,Y)),ht(T,Y=>Do.append(x,Y));const L=Do.contents(x);ht(L,(Y,W)=>{o.setupItem(m,Y,p[W],W)})})}}}},apis:{setItems:(o,r,a)=>{o.setItems(r,a)}}}),Bu="aria-controls",Py=()=>{const o=Me(Bu);return{id:o,link:r=>{bo(r,Bu,o)},unlink:r=>{qs(r,Bu)}}},Bp=(o,r)=>Jf(r,a=>In(a,o.element),Ke)||((a,l)=>(d=>Qm(d,m=>{if(!Ho(m))return!1;const p=wr(m,"id");return p!==void 0&&p.indexOf(Bu)>-1}).bind(m=>{const p=wr(m,"id"),b=Aa(m);return On(b,`[${Bu}="${p}"]`)}))(l).exists(d=>Bp(a,d)))(o,r),sv="alloy.item-hover",hk="alloy.item-focus",rv="alloy.item-toggled",Iy=o=>{(As(o.element).isNone()||mo.isFocused(o))&&(mo.isFocused(o)||mo.focus(o),oo(o,sv,{item:o}))},t5=o=>{oo(o,hk,{item:o})},o5=ne(sv),Ef=ne(hk),nR=ne(rv),sR=o=>o.role.fold(()=>o.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),kt);var qd=[ct("data"),ct("components"),ct("dom"),Ie("hasSubmenu",!1),Sn("toggling"),Sn("role"),j0("itemBehaviours",[Zo,mo,Bt,zt]),Ie("ignoreFocus",!1),Ie("domModification",{}),ms("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:sR(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Vg(o.itemBehaviours,[o.toggling.fold(Zo.revoke,r=>Zo.config(((a,l)=>({aria:{mode:l?"selected":"checked"},...ol(a,(d,m)=>m!=="exclusive"),onToggled:(d,m)=>{gt(a.onToggled)&&a.onToggled(d,m),((p,b)=>{oo(p,rv,{item:p,state:b})})(d,m)}}))(r,o.role.exists(a=>a==="option")))),mo.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:r=>{t5(r)}}),Bt.config({mode:"execution"}),zt.config({store:{mode:"memory",initialValue:o.data}}),vo("item-type-events",[...fk(),et($i(),Iy),et(cm(),mo.focus)])]),components:o.components,eventOrder:o.eventOrder})),Ie("eventOrder",{})],ri=[ct("dom"),ct("components"),ms("builder",o=>({dom:o.dom,components:o.components,events:Wn([r1(cm())])}))];const bk=ne("item-widget"),av=ne([gi({name:"widget",overrides:o=>({behaviours:pt([zt.config({store:{mode:"manual",getValue:r=>o.data,setValue:xe}})])})})]),rR=[ct("uid"),ct("data"),ct("components"),ct("dom"),Ie("autofocus",!1),Ie("ignoreFocus",!1),j0("widgetBehaviours",[zt,mo,Bt]),Ie("domModification",{}),hx(av()),ms("builder",o=>{const r=px(bk(),o,av()),a=Kh(bk(),o,r.internals()),l=m=>es(m,o,"widget").map(p=>(Bt.focusIn(p),p)),d=(m,p)=>(Wi(p.event.target)||o.autofocus&&p.setSource(m.element),A.none());return{dom:o.dom,components:a,domModification:o.domModification,events:Wn([Hd((m,p)=>{l(m).each(b=>{p.stop()})}),et($i(),Iy),et(cm(),(m,p)=>{o.autofocus?l(m):mo.focus(m)})]),behaviours:Vg(o.widgetBehaviours,[zt.config({store:{mode:"memory",initialValue:o.data}}),mo.config({ignore:o.ignoreFocus,onFocus:m=>{t5(m)}}),Bt.config({mode:"special",focusIn:o.autofocus?m=>{l(m)}:i1(),onLeft:d,onRight:d,onEscape:(m,p)=>mo.isFocused(m)||o.autofocus?(o.autofocus&&p.setSource(m.element),A.none()):(mo.focus(m),A.some(!0))})])}})],n5=Fi("type",{widget:rR,item:qd,separator:ri}),xk=ne([Sg({factory:{sketch:o=>{const r=mi("menu.spec item",n5,o);return r.builder(r)}},name:"items",unit:"item",defaults:(o,r)=>jo(r,"uid")?r:{...r,uid:U0("item")},overrides:(o,r)=>({type:r.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),ob=ne([tr("role"),ct("value"),ct("items"),ct("dom"),ct("components"),Ie("eventOrder",{}),si("menuBehaviours",[Dn,zt,Cn,Bt]),ti("movement",{mode:"menu",moveOnTab:!0},Fi("mode",{grid:[ix(),ms("config",(o,r)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:o.focusManager}))],matrix:[ms("config",(o,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+o.markers.item},previousSelector:r.previousSelector,focusManager:o.focusManager})),ct("rowSelector"),Ie("previousSelector",A.none)],menu:[Ie("moveOnTab",!0),ms("config",(o,r)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:r.moveOnTab,focusManager:o.focusManager}))]})),il("markers",R2()),Ie("fakeFocus",!1),Ie("focusManager",m1()),fn("onHighlight"),fn("onDehighlight"),Ie("showMenuRole",!0)]),vk=ne("alloy.menu-focus"),Af=Ki({name:"Menu",configFields:ob(),partFields:xk(),factory:(o,r,a,l)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:bi(o.menuBehaviours,[Dn.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),zt.config({store:{mode:"memory",initialValue:o.value}}),Cn.config({find:A.some}),Bt.config(o.movement.config(o,o.movement))]),events:Wn([et(Ef(),(d,m)=>{const p=m.event;d.getSystem().getByDom(p.target).each(b=>{Dn.highlight(d,b),m.stop(),oo(d,vk(),{menu:d,item:b})})}),et(o5(),(d,m)=>{const p=m.event.item;Dn.highlight(d,p)}),et(nR(),(d,m)=>{const{item:p,state:b}=m.event;b&&wr(p.element,"role")==="menuitemradio"&&((x,w)=>{const E=ca(x.element,'[role="menuitemradio"][aria-checked="true"]');ht(E,C=>{In(C,w.element)||x.getSystem().getByDom(C).each(T=>{Zo.off(T)})})})(d,p)})]),components:r,eventOrder:o.eventOrder,...o.showMenuRole?{domModification:{attributes:{role:o.role.getOr("menu")}}}:{}})}),s5=(o,r,a,l)=>Kt(a,l).bind(d=>Kt(o,d).bind(m=>{const p=s5(o,r,a,m);return A.some([m].concat(p))})).getOr([]),r5=o=>o.type==="prepared"?A.some(o.menu):A.none(),a5=()=>{const o=Vt({}),r=Vt({}),a=Vt({}),l=Pn(),d=Vt({}),m=x=>p(x).bind(r5),p=x=>Kt(r.get(),x),b=x=>Kt(o.get(),x);return{setMenuBuilt:(x,w)=>{r.set({...r.get(),[x]:{type:"prepared",menu:w}})},setContents:(x,w,E,C)=>{l.set(x),o.set(E),r.set(w),d.set(C);const T=((B,L)=>{const Y={};mr(B,(U,te)=>{ht(U,oe=>{Y[oe]=te})});const W=L,X=na(L,(U,te)=>({k:U,v:te})),$=Ss(X,(U,te)=>[te].concat(s5(Y,W,X,te)));return Ss(Y,U=>Kt($,U).getOr([U]))})(C,E);a.set(T)},expand:x=>Kt(o.get(),x).map(w=>{const E=Kt(a.get(),x).getOr([]);return[w].concat(E)}),refresh:x=>Kt(a.get(),x),collapse:x=>Kt(a.get(),x).bind(w=>w.length>1?A.some(w.slice(1)):A.none()),lookupMenu:p,lookupItem:b,otherMenus:x=>{const w=d.get();return on(Zs(w),x)},getPrimary:()=>l.get().bind(m),getMenus:()=>r.get(),clear:()=>{o.set({}),r.set({}),a.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(x,w)=>{const E=Oo(b(x).toArray(),C=>m(C).isSome());return Kt(a.get(),x).bind(C=>{const T=oa(E.concat(C));return(B=>{const L=[];for(let Y=0;Y<B.length;Y++){const W=B[Y];if(!W.isSome())return A.none();L.push(W.getOrDie())}return A.some(L)})(Uo(T,(B,L)=>((Y,W,X)=>m(Y).bind($=>(U=>ki(o.get(),(te,oe)=>te===U))(Y).bind(U=>W(U).map(te=>({triggeredMenu:$,triggeringItem:te,triggeringPath:X})))))(B,w,T.slice(0,L+1)).fold(()=>Sa(l.get(),B)?[]:[A.none()],Y=>[A.some(Y)])))})}}},i5=r5,l5=Me("tiered-menu-item-highlight"),c5=Me("tiered-menu-item-dehighlight"),d5=ne("collapse-item"),Wg=dd({name:"TieredMenu",configFields:[mf("onExecute"),mf("onEscape"),Ml("onOpenMenu"),Ml("onOpenSubmenu"),fn("onRepositionMenu"),fn("onCollapseMenu"),Ie("highlightOnOpen",hi.HighlightMenuAndItem),hu("data",[ct("primary"),ct("menus"),ct("expansions")]),Ie("fakeFocus",!1),fn("onHighlightItem"),fn("onDehighlightItem"),fn("onHover"),Uh(),ct("dom"),Ie("navigateOnHover",!0),Ie("stayInDom",!1),si("tmenuBehaviours",[Bt,Dn,Cn,Do]),Ie("eventOrder",{})],apis:{collapseMenu:(o,r)=>{o.collapseMenu(r)},highlightPrimary:(o,r)=>{o.highlightPrimary(r)},repositionMenus:(o,r)=>{o.repositionMenus(r)}},factory:(o,r)=>{const a=Pn(),l=a5(),d=U=>zt.getValue(U).value,m=U=>Ss(o.data.menus,(te,oe)=>Uo(te.items,de=>de.type==="separator"?[]:[de.data.value])),p=Dn.highlight,b=(U,te)=>{p(U,te),Dn.getHighlighted(te).orThunk(()=>Dn.getFirst(te)).each(oe=>{o.fakeFocus?Dn.highlight(te,oe):Rx(U,oe.element,cm())})},x=(U,te)=>Wl(Ae(te,oe=>U.lookupMenu(oe).bind(de=>de.type==="prepared"?A.some(de.menu):A.none()))),w=(U,te,oe)=>{const de=x(te,te.otherMenus(oe));ht(de,he=>{ui(he.element,[o.markers.backgroundMenu]),o.stayInDom||Do.remove(U,he)})},E=(U,te)=>{const oe=(de=>a.get().getOrThunk(()=>{const he={},ke=ca(de.element,`.${o.markers.item}`),Ve=Oo(ke,tt=>wr(tt,"aria-haspopup")==="true");return ht(Ve,tt=>{de.getSystem().getByDom(tt).each(Je=>{const st=d(Je);he[st]=Je})}),a.set(he),he}))(U);mr(oe,(de,he)=>{const ke=St(te,he);bo(de.element,"aria-expanded",ke)})},C=(U,te,oe)=>A.from(oe[0]).bind(de=>te.lookupMenu(de).bind(he=>{if(he.type==="notbuilt")return A.none();{const ke=he.menu,Ve=x(te,oe.slice(1));return ht(Ve,tt=>{ls(tt.element,o.markers.backgroundMenu)}),za(ke.element)||Do.append(U,cd(ke)),ui(ke.element,[o.markers.backgroundMenu]),b(U,ke),w(U,te,oe),A.some(ke)}}));let T;(function(U){U[U.HighlightSubmenu=0]="HighlightSubmenu",U[U.HighlightParent=1]="HighlightParent"})(T||(T={}));const B=(U,te,oe=T.HighlightSubmenu)=>{if(te.hasConfigured(eo)&&eo.isDisabled(te))return A.some(te);{const de=d(te);return l.expand(de).bind(he=>(E(U,he),A.from(he[0]).bind(ke=>l.lookupMenu(ke).bind(Ve=>{const tt=((Je,st,vt)=>{if(vt.type==="notbuilt"){const Qt=Je.getSystem().build(vt.nbMenu());return l.setMenuBuilt(st,Qt),Qt}return vt.menu})(U,ke,Ve);return za(tt.element)||Do.append(U,cd(tt)),o.onOpenSubmenu(U,te,tt,oa(he)),oe===T.HighlightSubmenu?(Dn.highlightFirst(tt),C(U,l,he)):(Dn.dehighlightAll(tt),A.some(te))}))))}},L=(U,te)=>{const oe=d(te);return l.collapse(oe).bind(de=>(E(U,de),C(U,l,de).map(he=>(o.onCollapseMenu(U,te,he),he))))},Y=U=>(te,oe)=>Ec(oe.getSource(),`.${o.markers.item}`).bind(de=>te.getSystem().getByDom(de).toOptional().bind(he=>U(te,he).map(Xt))),W=Wn([et(vk(),(U,te)=>{const oe=te.event.item;l.lookupItem(d(oe)).each(()=>{const de=te.event.menu;Dn.highlight(U,de);const he=d(te.event.item);l.refresh(he).each(ke=>w(U,l,ke))})}),Hd((U,te)=>{const oe=te.event.target;U.getSystem().getByDom(oe).each(de=>{d(de).indexOf("collapse-item")===0&&L(U,de),B(U,de,T.HighlightSubmenu).fold(()=>{o.onExecute(U,de)},xe)})}),ts((U,te)=>{(oe=>{const de=((ke,Ve,tt)=>Ss(tt,(Je,st)=>{const vt=()=>Af.sketch({...Je,value:st,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(Qt,no)=>{oo(Qt,l5,{menuComp:Qt,itemComp:no})},onDehighlight:(Qt,no)=>{oo(Qt,c5,{menuComp:Qt,itemComp:no})},focusManager:o.fakeFocus?L0():m1()});return st===Ve?{type:"prepared",menu:ke.getSystem().build(vt())}:{type:"notbuilt",nbMenu:vt}}))(oe,o.data.primary,o.data.menus),he=m();return l.setContents(o.data.primary,de,o.data.expansions,he),l.getPrimary()})(U).each(oe=>{Do.append(U,cd(oe)),o.onOpenMenu(U,oe),o.highlightOnOpen===hi.HighlightMenuAndItem?b(U,oe):o.highlightOnOpen===hi.HighlightJustMenu&&p(U,oe)})}),et(l5,(U,te)=>{o.onHighlightItem(U,te.event.menuComp,te.event.itemComp)}),et(c5,(U,te)=>{o.onDehighlightItem(U,te.event.menuComp,te.event.itemComp)}),...o.navigateOnHover?[et(o5(),(U,te)=>{const oe=te.event.item;((de,he)=>{const ke=d(he);l.refresh(ke).bind(Ve=>(E(de,Ve),C(de,l,Ve)))})(U,oe),B(U,oe,T.HighlightParent),o.onHover(U,oe)})]:[]]),X=U=>Dn.getHighlighted(U).bind(Dn.getHighlighted),$={collapseMenu:U=>{X(U).each(te=>{L(U,te)})},highlightPrimary:U=>{l.getPrimary().each(te=>{b(U,te)})},repositionMenus:U=>{l.getPrimary().bind(oe=>X(U).bind(de=>{const he=d(de),ke=nr(l.getMenus()),Ve=Wl(Ae(ke,i5));return l.getTriggeringPath(he,tt=>((Je,st,vt)=>ws(st,Qt=>{if(!Qt.getSystem().isConnected())return A.none();const no=Dn.getCandidates(Qt);return z(no,po=>d(po)===vt)}))(0,Ve,tt))}).map(de=>({primary:oe,triggeringPath:de}))).fold(()=>{(oe=>A.from(oe.components()[0]).filter(de=>wr(de.element,"role")==="menu"))(U).each(oe=>{o.onRepositionMenu(U,oe,[])})},({primary:oe,triggeringPath:de})=>{o.onRepositionMenu(U,oe,de)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:bi(o.tmenuBehaviours,[Bt.config({mode:"special",onRight:Y((U,te)=>Wi(te.element)?A.none():B(U,te,T.HighlightSubmenu)),onLeft:Y((U,te)=>Wi(te.element)?A.none():L(U,te)),onEscape:Y((U,te)=>L(U,te).orThunk(()=>o.onEscape(U,te).map(()=>U))),focusIn:(U,te)=>{l.getPrimary().each(oe=>{Rx(U,oe.element,cm())})}}),Dn.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),Cn.config({find:U=>Dn.getHighlighted(U)}),Do.config({})]),eventOrder:o.eventOrder,apis:$,events:W}},extraApis:{tieredData:(o,r,a)=>({primary:o,menus:r,expansions:a}),singleData:(o,r)=>({primary:o,menus:am(o,r),expansions:{}}),collapseItem:o=>({value:Me(d5()),meta:{text:o}})}}),yk=ne("sink"),wk=ne(Nc({name:yk(),overrides:ne({dom:{tag:"div"},behaviours:pt([Yi.config({useFixed:Xt})]),events:Wn([Ll(Id()),Ll(Nl()),Ll(cl())])})})),Ly=rc([Ie("isExtraPart",Ke),ll("fireEventInstead",[Ie("event",up())])]),Fy=o=>{const r=mi("Dismissal",Ly,o);return{[Tm()]:{schema:rc([ct("target")]),onReceive:(a,l)=>{En.isOpen(a)&&(En.isPartOf(a,l.target)||r.isExtraPart(a,l.target)||r.fireEventInstead.fold(()=>En.close(a),d=>Qo(a,d.event)))}}}},O1=rc([ll("fireEventInstead",[Ie("event",mp())]),Hi("doReposition")]),N1=o=>{const r=mi("Reposition",O1,o);return{[Sf()]:{onReceive:a=>{En.isOpen(a)&&r.fireEventInstead.fold(()=>r.doReposition(a),l=>Qo(a,l.event))}}}},u5=(o,r)=>{const a=o.getHotspot(r).getOr(r),l="hotspot",d=o.getAnchorOverrides();return o.layouts.fold(()=>({type:l,hotspot:a,overrides:d}),m=>({type:l,hotspot:a,overrides:d,layouts:m}))},zy=(o,r,a,l,d,m,p)=>((x,w,E,C,T,B,L)=>{const Y=((X,$,U)=>(0,X.fetch)(U).map($))(x,w,C),W=_k(C,x);return Y.map(X=>X.bind($=>{const U=$.menus[$.primary];return A.from(U).each(te=>{x.listRole.each(oe=>{te.role=oe})}),A.from(Wg.sketch({...B.menu(),uid:U0(""),data:$,highlightOnOpen:L,onOpenMenu:(te,oe)=>{const de=W().getOrDie();Yi.position(de,oe,{anchor:E}),En.decloak(T)},onOpenSubmenu:(te,oe,de)=>{const he=W().getOrDie();Yi.position(he,de,{anchor:{type:"submenu",item:oe}}),En.decloak(T)},onRepositionMenu:(te,oe,de)=>{const he=W().getOrDie();Yi.position(he,oe,{anchor:E}),ht(de,ke=>{Yi.position(he,ke.triggeredMenu,{anchor:{type:"submenu",item:ke.triggeringItem}})})},onEscape:()=>(mo.focus(C),En.close(T),A.some(!0))}))}))})(o,r,u5(o,a),a,l,d,p).map(x=>(x.fold(()=>{En.isOpen(l)&&En.close(l)},w=>{En.cloak(l),En.open(l,w),m(l)}),l)),aR=(o,r,a,l,d,m,p)=>(En.close(l),Dr(l)),Ck=(o,r,a,l,d,m)=>{const p=kr.getCoupled(a,"sandbox");return(En.isOpen(p)?aR:zy)(o,r,a,p,l,d,m)},_k=(o,r)=>o.getSystem().getByUid(r.uid+"-"+yk()).map(a=>()=>Fo.value(a)).getOrThunk(()=>r.lazySink.fold(()=>()=>Fo.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(o))),m5=o=>{En.getState(o).each(r=>{Wg.repositionMenus(r)})},Hy=(o,r,a)=>{const l=Py(),d=_k(r,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:l.id}},behaviours:Vg(o.sandboxBehaviours,[zt.config({store:{mode:"memory",initialValue:r}}),En.config({onOpen:(m,p)=>{const b=u5(o,r);l.link(r.element),o.matchWidth&&((x,w,E)=>{const C=Cn.getCurrent(w).getOr(w),T=$a(x.element);E?To(C.element,"min-width",T+"px"):((B,L)=>{yn.set(B,L)})(C.element,T)})(b.hotspot,p,o.useMinWidth),o.onOpen(b,m,p),a!==void 0&&a.onOpen!==void 0&&a.onOpen(m,p)},onClose:(m,p)=>{l.unlink(r.element),d().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),a!==void 0&&a.onClose!==void 0&&a.onClose(m,p)},isPartOf:(m,p,b)=>Bp(p,b)||Bp(r,b),getAttachPoint:()=>d().getOrDie()}),Cn.config({find:m=>En.getState(m).bind(p=>Cn.getCurrent(p))}),Vl.config({channels:{...Fy({isExtraPart:Ke}),...N1({doReposition:m5})}})])}},f5=o=>{const r=kr.getCoupled(o,"sandbox");m5(r)},kk=()=>[Ie("sandboxClasses",[]),j0("sandboxBehaviours",[Cn,Vl,En,zt])],p5=ne([ct("dom"),ct("fetch"),fn("onOpen"),ul("onExecute"),Ie("getHotspot",A.some),Ie("getAnchorOverrides",ne({})),$g(),si("dropdownBehaviours",[Zo,kr,Bt,mo]),ct("toggleClass"),Ie("eventOrder",{}),Sn("lazySink"),Ie("matchWidth",!1),Ie("useMinWidth",!1),Sn("role"),Sn("listRole")].concat(kk())),iv=ne([Ui({schema:[Uh(),Ie("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),wk()]),Bc=Ki({name:"Dropdown",configFields:p5(),partFields:iv(),factory:(o,r,a,l)=>{const d=x=>{En.getState(x).each(w=>{Wg.highlightPrimary(w)})},m=(x,w,E)=>Ck(o,kt,x,l,w,E),p={expand:x=>{Zo.isOn(x)||m(x,xe,hi.HighlightNone).get(xe)},open:x=>{Zo.isOn(x)||m(x,xe,hi.HighlightMenuAndItem).get(xe)},refetch:x=>kr.getExistingCoupled(x,"sandbox").fold(()=>m(x,xe,hi.HighlightMenuAndItem).map(xe),w=>zy(o,kt,x,w,l,xe,hi.HighlightMenuAndItem).map(xe)),isOpen:Zo.isOn,close:x=>{Zo.isOn(x)&&m(x,xe,hi.HighlightMenuAndItem).get(xe)},repositionMenus:x=>{Zo.isOn(x)&&f5(x)}},b=(x,w)=>(bp(x),A.some(!0));return{uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.dropdownBehaviours,[Zo.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),kr.config({others:{sandbox:x=>Hy(o,x,{onOpen:()=>Zo.on(x),onClose:()=>Zo.off(x)})}}),Bt.config({mode:"special",onSpace:b,onEnter:b,onDown:(x,w)=>{if(Bc.isOpen(x)){const E=kr.getCoupled(x,"sandbox");d(E)}else Bc.open(x);return A.some(!0)},onEscape:(x,w)=>Bc.isOpen(x)?(Bc.close(x),A.some(!0)):A.none()}),mo.config({})]),events:tb(A.some(x=>{m(x,d,hi.HighlightMenuAndItem).get(xe)})),eventOrder:{...o.eventOrder,[dl()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":o.listRole.getOr("true"),...o.role.fold(()=>({}),x=>({role:x})),...o.dom.tag==="button"?{type:Kt(o.dom,"attributes").bind(x=>Kt(x,"type")).getOr("button")}:{}}}}},apis:{open:(o,r)=>o.open(r),refetch:(o,r)=>o.refetch(r),expand:(o,r)=>o.expand(r),close:(o,r)=>o.close(r),isOpen:(o,r)=>o.isOpen(r),repositionMenus:(o,r)=>o.repositionMenus(r)}}),Sk="form",iR=[si("formBehaviours",[zt])],Ek=o=>"<alloy.field."+o+">",g5=(o,r)=>({uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.formBehaviours,[zt.config({store:{mode:"manual",getValue:a=>{const l=gx(a,o);return Ss(l,(d,m)=>d().bind(p=>{return b=Cn.getCurrent(p),x=new Error(`Cannot find a current component to extract the value from for form part '${m}': `+Wt(p.element)),b.fold(()=>Fo.error(x),Fo.value);var b,x}).map(zt.getValue))},setValue:(a,l)=>{mr(l,(d,m)=>{es(a,o,m).each(p=>{Cn.getCurrent(p).each(b=>{zt.setValue(b,d)})})})}}})]),apis:{getField:(a,l)=>es(a,o,l).bind(Cn.getCurrent)}}),nb={getField:Zd((o,r,a)=>o.getField(r,a)),sketch:o=>{const r=(()=>{const m=[];return{field:(p,b)=>(m.push(p),fx(Sk,Ek(p),b)),record:ne(m)}})(),a=o(r),l=r.record(),d=Ae(l,m=>gi({name:m,pname:Ek(m)}));return j_(Sk,iR,d,g5,a)}},sb=ne([ct("dom"),Ie("shell",!0),si("toolbarBehaviours",[Do])]),lR=ne([Nc({name:"groups",overrides:()=>({behaviours:pt([Do.config({})])})})]),Dm=Ki({name:"Toolbar",configFields:sb(),partFields:lR(),factory:(o,r,a,l)=>{const d=o.shell?{behaviours:[Do.config({})],components:[]}:{behaviours:[],components:r};return{uid:o.uid,dom:o.dom,components:d.components,behaviours:bi(o.toolbarBehaviours,d.behaviours),apis:{setGroups:(m,p)=>{var b;(b=m,o.shell?A.some(b):es(b,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},x=>{Do.set(x,p)})},refresh:xe},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,r,a)=>{o.setGroups(r,a)}}}),cR=ne([Ld(["toggledClass"]),ct("lazySink"),Hi("fetch"),Ra("getBounds"),ll("fireDismissalEventInstead",[Ie("event",up())]),$g(),fn("onToggled")]),dR=ne([Ui({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:pt([Zo.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),Ui({factory:Dm,schema:sb(),name:"toolbar",overrides:o=>({toolbarBehaviours:pt([Bt.config({mode:"cyclic",onEscape:r=>(es(r,o,"button").each(mo.focus),A.none())})])})})]),R1=Pn(),lv=(o,r)=>{const a=kr.getCoupled(o,"toolbarSandbox");En.isOpen(a)?En.close(a):En.open(a,r.toolbar())},Ak=(o,r,a,l)=>{const d=a.getBounds.map(p=>p()),m=a.lazySink(o).getOrDie();Yi.positionWithinBounds(m,r,{anchor:{type:"hotspot",hotspot:o,layouts:l,overrides:{maxWidthFunction:M0()}}},d)},uR=(o,r,a,l,d)=>{Dm.setGroups(r,d),Ak(o,r,a,l),Zo.on(o)},Pp=Ki({name:"FloatingToolbarButton",factory:(o,r,a,l)=>({...ua.sketch({...l.button(),action:d=>{lv(d,l)},buttonBehaviours:Vg({dump:l.button().buttonBehaviours},[kr.config({others:{toolbarSandbox:d=>((m,p,b)=>{const x=Py();return{dom:{tag:"div",attributes:{id:x.id}},behaviours:pt([Bt.config({mode:"special",onEscape:w=>(En.close(w),A.some(!0))}),En.config({onOpen:(w,E)=>{const C=R1.get().getOr(!1);b.fetch().get(T=>{uR(m,E,b,p.layouts,T),x.link(m.element),C||Bt.focusIn(E)})},onClose:()=>{Zo.off(m),R1.get().getOr(!1)||mo.focus(m),x.unlink(m.element)},isPartOf:(w,E,C)=>Bp(E,C)||Bp(m,C),getAttachPoint:()=>b.lazySink(m).getOrDie()}),Vl.config({channels:{...Fy({isExtraPart:Ke,...b.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...N1({doReposition:()=>{En.getState(kr.getCoupled(m,"toolbarSandbox")).each(w=>{Ak(m,w,b,p.layouts)})}})}})])}})(d,a,o)}})])}),apis:{setGroups:(d,m)=>{En.getState(kr.getCoupled(d,"toolbarSandbox")).each(p=>{uR(d,p,o,a.layouts,m)})},reposition:d=>{En.getState(kr.getCoupled(d,"toolbarSandbox")).each(m=>{Ak(d,m,o,a.layouts)})},toggle:d=>{lv(d,l)},toggleWithoutFocusing:d=>{((m,p)=>{R1.set(!0),lv(m,p),R1.clear()})(d,l)},getToolbar:d=>En.getState(kr.getCoupled(d,"toolbarSandbox")),isOpen:d=>En.isOpen(kr.getCoupled(d,"toolbarSandbox"))}}),configFields:cR(),partFields:dR(),apis:{setGroups:(o,r,a)=>{o.setGroups(r,a)},reposition:(o,r)=>{o.reposition(r)},toggle:(o,r)=>{o.toggle(r)},toggleWithoutFocusing:(o,r)=>{o.toggleWithoutFocusing(r)},getToolbar:(o,r)=>o.getToolbar(r),isOpen:(o,r)=>o.isOpen(r)}}),mR=ne([Ie("prefix","form-field"),si("fieldBehaviours",[Cn,zt])]),fR=ne([Nc({schema:[ct("dom")],name:"label"}),Nc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[ct("text")],name:"aria-descriptor"}),gi({factory:{sketch:o=>{const r=((a,l)=>{const d={};return mr(a,(m,p)=>{St(l,p)||(d[p]=m)}),d})(o,["factory"]);return o.factory.sketch(r)}},schema:[ct("factory")],name:"field"})]),No=Ki({name:"FormField",configFields:mR(),partFields:fR(),factory:(o,r,a,l)=>{const d=bi(o.fieldBehaviours,[Cn.config({find:b=>es(b,o,"field")}),zt.config({store:{mode:"manual",getValue:b=>Cn.getCurrent(b).bind(zt.getValue),setValue:(b,x)=>{Cn.getCurrent(b).each(w=>{zt.setValue(w,x)})}}})]),m=Wn([ts((b,x)=>{const w=wu(b,o,["label","field","aria-descriptor"]);w.field().each(E=>{const C=Me(o.prefix);w.label().each(T=>{bo(T.element,"for",C),bo(E.element,"id",C)}),w["aria-descriptor"]().each(T=>{const B=Me(o.prefix);bo(T.element,"id",B),bo(E.element,"aria-describedby",B)})})})]),p={getField:b=>es(b,o,"field"),getLabel:b=>es(b,o,"label")};return{uid:o.uid,dom:o.dom,components:r,behaviours:d,events:m,apis:p}},apis:{getField:(o,r)=>o.getField(r),getLabel:(o,r)=>o.getLabel(r)}}),h5=ne([Ie("field1Name","field1"),Ie("field2Name","field2"),Ml("onLockedChange"),Ld(["lockClass"]),Ie("locked",!1),j0("coupledFieldBehaviours",[Cn,zt]),mn("onInput",xe)]),b5=(o,r)=>gi({factory:No,name:o,overrides:a=>({fieldBehaviours:pt([vo("coupled-input-behaviour",[et(im(),l=>{((d,m,p)=>es(d,m,p).bind(Cn.getCurrent))(l,a,r).each(d=>{es(l,a,"lock").each(m=>{Zo.isOn(m)&&a.onLockedChange(l,d,m),a.onInput(l)})})})])])})}),aL=ne([b5("field1","field2"),b5("field2","field1"),gi({factory:ua,schema:[ct("dom")],name:"lock",overrides:o=>({buttonBehaviours:pt([Zo.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),qr=Ki({name:"FormCoupledInputs",configFields:h5(),partFields:aL(),factory:(o,r,a,l)=>({uid:o.uid,dom:o.dom,components:r,behaviours:Vg(o.coupledFieldBehaviours,[Cn.config({find:A.some}),zt.config({store:{mode:"manual",getValue:d=>{const m=E0(d,o,["field1","field2"]);return{[o.field1Name]:zt.getValue(m.field1()),[o.field2Name]:zt.getValue(m.field2())}},setValue:(d,m)=>{const p=E0(d,o,["field1","field2"]);xs(m,o.field1Name)&&zt.setValue(p.field1(),m[o.field1Name]),xs(m,o.field2Name)&&zt.setValue(p.field2(),m[o.field2Name])}}})]),apis:{getField1:d=>es(d,o,"field1"),getField2:d=>es(d,o,"field2"),getLock:d=>es(d,o,"lock")}}),apis:{getField1:(o,r)=>o.getField1(r),getField2:(o,r)=>o.getField2(r),getLock:(o,r)=>o.getLock(r)}}),pR=dd({name:"HtmlSelect",configFields:[ct("options"),si("selectBehaviours",[mo,zt]),Ie("selectClasses",[]),Ie("selectAttributes",{}),Sn("data")],factory:(o,r)=>{const a=Ae(o.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),l=o.data.map(d=>am("initialValue",d)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:a,behaviours:bi(o.selectBehaviours,[mo.config({}),zt.config({store:{mode:"manual",getValue:d=>la(d.element),setValue:(d,m)=>{const p=xr(o.options);z(o.options,b=>b.value===m).isSome()?Bd(d.element,m):d.element.dom.selectedIndex===-1&&m===""&&p.each(b=>Bd(d.element,b.value))},...l}})])}}}),Qs=dd({name:"InlineView",configFields:[ct("lazySink"),fn("onShow"),fn("onHide"),Ra("onEscape"),si("inlineBehaviours",[En,zt,Vl]),ll("fireDismissalEventInstead",[Ie("event",up())]),ll("fireRepositionEventInstead",[Ie("event",mp())]),Ie("getRelated",A.none),Ie("isExtraPart",Ke),Ie("eventOrder",A.none)],factory:(o,r)=>{const a=(p,b,x,w)=>{const E=o.lazySink(p).getOrDie();En.openWhileCloaked(p,b,()=>Yi.positionWithinBounds(E,p,x,w())),zt.setValue(p,A.some({mode:"position",config:x,getBounds:w}))},l=(p,b,x,w)=>{const E=((C,T,B,L,Y)=>{const W=()=>C.lazySink(T),X=L.type==="horizontal"?{layouts:{onLtr:()=>Sx(),onRtl:()=>O0()}}:{},$=U=>(te=>te.length===2)(U)?X:{};return Wg.sketch({dom:{tag:"div"},data:L.data,markers:L.menu.markers,highlightOnOpen:L.menu.highlightOnOpen,fakeFocus:L.menu.fakeFocus,onEscape:()=>(En.close(T),C.onEscape.map(U=>U(T)),A.some(!0)),onExecute:()=>A.some(!0),onOpenMenu:(U,te)=>{Yi.positionWithinBounds(W().getOrDie(),te,B,Y())},onOpenSubmenu:(U,te,oe,de)=>{const he=W().getOrDie();Yi.position(he,oe,{anchor:{type:"submenu",item:te,...$(de)}})},onRepositionMenu:(U,te,oe)=>{const de=W().getOrDie();Yi.positionWithinBounds(de,te,B,Y()),ht(oe,he=>{const ke=$(he.triggeringPath);Yi.position(de,he.triggeredMenu,{anchor:{type:"submenu",item:he.triggeringItem,...ke}})})}})})(o,p,b,x,w);En.open(p,E),zt.setValue(p,A.some({mode:"menu",menu:E}))},d=p=>{En.isOpen(p)&&zt.getValue(p).each(b=>{switch(b.mode){case"menu":En.getState(p).each(Wg.repositionMenus);break;case"position":const x=o.lazySink(p).getOrDie();Yi.positionWithinBounds(x,p,b.config,b.getBounds())}})},m={setContent:(p,b)=>{En.setContent(p,b)},showAt:(p,b,x)=>{const w=A.none;a(p,b,x,w)},showWithinBounds:a,showMenuAt:(p,b,x)=>{l(p,b,x,A.none)},showMenuWithinBounds:l,hide:p=>{En.isOpen(p)&&(zt.setValue(p,A.none()),En.close(p))},getContent:p=>En.getState(p),reposition:d,isOpen:En.isOpen};return{uid:o.uid,dom:o.dom,behaviours:bi(o.inlineBehaviours,[En.config({isPartOf:(p,b,x)=>Bp(b,x)||((w,E)=>o.getRelated(w).exists(C=>Bp(C,E)))(p,x),getAttachPoint:p=>o.lazySink(p).getOrDie(),onOpen:p=>{o.onShow(p)},onClose:p=>{o.onHide(p)}}),zt.config({store:{mode:"memory",initialValue:A.none()}}),Vl.config({channels:{...Fy({isExtraPart:r.isExtraPart,...o.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...N1({...o.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:d})}})]),eventOrder:o.eventOrder,apis:m}},apis:{showAt:(o,r,a,l)=>{o.showAt(r,a,l)},showWithinBounds:(o,r,a,l,d)=>{o.showWithinBounds(r,a,l,d)},showMenuAt:(o,r,a,l)=>{o.showMenuAt(r,a,l)},showMenuWithinBounds:(o,r,a,l,d)=>{o.showMenuWithinBounds(r,a,l,d)},hide:(o,r)=>{o.hide(r)},isOpen:(o,r)=>o.isOpen(r),getContent:(o,r)=>o.getContent(r),setContent:(o,r,a)=>{o.setContent(r,a)},reposition:(o,r)=>{o.reposition(r)}}}),x5=ne([_s("type","text"),Sn("data"),Ie("inputAttributes",{}),Ie("inputStyles",{}),Ie("tag","input"),Ie("inputClasses",[]),fn("onSetValue"),mn("fromInputValue",kt),mn("toInputValue",kt),Ie("styles",{}),Ie("eventOrder",{}),si("inputBehaviours",[zt,mo]),Ie("selectOnFocus",!0)]),v5=o=>pt([mo.config({onFocus:o.selectOnFocus?r=>{const a=r.element,l=la(a);o.type!=="range"&&a.dom.setSelectionRange(0,l.length)}:xe})]),gR=o=>({...v5(o),...bi(o.inputBehaviours,[zt.config({store:{mode:"manual",...o.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>o.fromInputValue(la(r.element)),setValue:(r,a)=>{la(r.element)!==a&&Bd(r.element,o.toInputValue(a))}},onSetValue:o.onSetValue})])}),y5=o=>({tag:o.tag,attributes:{type:o.type,...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),Ip=dd({name:"Input",configFields:x5(),factory:(o,r)=>({uid:o.uid,dom:y5(o),components:[],behaviours:gR(o),eventOrder:o.eventOrder})}),qg=mx(bk(),av()),Tk=ne([ct("lazySink"),Sn("dragBlockClass"),mn("getBounds",Na),Ie("useTabstopAt",Xt),Ie("firstTabstop",0),Ie("eventOrder",{}),si("modalBehaviours",[Bt]),ul("onExecute"),mf("onEscape")]),Dk={sketch:kt},Ok=ne([Nc({name:"draghandle",overrides:(o,r)=>({behaviours:pt([k1.config({mode:"mouse",getTarget:a=>Li(a,'[role="dialog"]').getOr(a),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:o.getDragBounds})])})}),gi({schema:[ct("dom")],name:"title"}),gi({factory:Dk,schema:[ct("dom")],name:"close"}),gi({factory:Dk,schema:[ct("dom")],name:"body"}),Nc({factory:Dk,schema:[ct("dom")],name:"footer"}),Ui({factory:{sketch:(o,r)=>({...o,dom:r.dom,components:r.components})},schema:[Ie("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ie("components",[])],name:"blocker"})]),Gr=Ki({name:"ModalDialog",configFields:Tk(),partFields:Ok(),factory:(o,r,a,l)=>{const d=Pn(),m=Me("modal-events"),p={...o.eventOrder,[ac()]:[m].concat(o.eventOrder["alloy.system.attached"]||[])},b=Ce();return{uid:o.uid,dom:o.dom,components:r,apis:{show:x=>{d.set(x);const w=o.lazySink(x).getOrDie(),E=l.blocker(),C=w.getSystem().build({...E,components:E.components.concat([cd(x)]),behaviours:pt([mo.config({}),vo("dialog-blocker-events",[hm(Rl(),()=>{Cm.isBlocked(x)||Bt.focusIn(x)})])])});Du(w,C),Bt.focusIn(x)},hide:x=>{d.clear(),Ln(x.element).each(w=>{x.getSystem().getByDom(w).each(E=>{Cf(E)})})},getBody:x=>rd(x,o,"body"),getFooter:x=>es(x,o,"footer"),setIdle:x=>{Cm.unblock(x)},setBusy:(x,w)=>{Cm.block(x,w)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:bi(o.modalBehaviours,[Do.config({}),Bt.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Cm.config({getRoot:d.get}),vo(m,[ts(x=>{const w=rd(x,o,"title").element,E=(C=>C.dom.textContent)(w);b.os.isMacOS()&&Ne(E)?bo(x.element,"aria-label",E):((C,T)=>{const B=Ta(C,"id").fold(()=>{const L=Me("dialog-label");return bo(T,"id",L),L},kt);bo(C,"aria-labelledby",B)})(x.element,w)})])])}},apis:{show:(o,r)=>{o.show(r)},hide:(o,r)=>{o.hide(r)},getBody:(o,r)=>o.getBody(r),getFooter:(o,r)=>o.getFooter(r),setBusy:(o,r,a)=>{o.setBusy(r,a)},setIdle:(o,r)=>{o.setIdle(r)}}}),Nk=Nc({schema:[ct("dom")],name:"label"}),Gg=o=>Nc({name:o+"-edge",overrides:r=>r.model.manager.edgeActions[o].fold(()=>({}),a=>({events:Wn([xp(xu(),(l,d,m)=>a(l,m),[r]),xp(Nl(),(l,d,m)=>a(l,m),[r]),xp(Ih(),(l,d,m)=>{m.mouseIsDown.get()&&a(l,m)},[r])])}))}),hR=Gg("top-left"),bR=Gg("top"),xR=Gg("top-right"),vR=Gg("right"),yR=Gg("bottom-right"),wR=Gg("bottom"),w5=Gg("bottom-left"),Vy=Gg("left"),CR=gi({name:"thumb",defaults:ne({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:Wn([ku(xu(),o,"spectrum"),ku(dp(),o,"spectrum"),ku(af(),o,"spectrum"),ku(Nl(),o,"spectrum"),ku(Ih(),o,"spectrum"),ku(rx(),o,"spectrum")])})}),$y=o=>$d(o.event),_R=gi({schema:[Ur("mouseIsDown",()=>Vt(!1))],name:"spectrum",overrides:o=>{const r=o.model.manager,a=(l,d)=>r.getValueFromEvent(d).map(m=>r.setValueFrom(l,o,m));return{behaviours:pt([Bt.config({mode:"special",onLeft:(l,d)=>r.onLeft(l,o,$y(d)),onRight:(l,d)=>r.onRight(l,o,$y(d)),onUp:(l,d)=>r.onUp(l,o,$y(d)),onDown:(l,d)=>r.onDown(l,o,$y(d))}),fs.config({}),mo.config({})]),events:Wn([et(xu(),a),et(dp(),a),et(Nl(),a),et(Ih(),(l,d)=>{o.mouseIsDown.get()&&a(l,d)})])}}});var kR=[Nk,Vy,vR,bR,wR,hR,xR,w5,yR,CR,_R];const Tf=ne("slider.change.value"),cv=o=>{const r=o.event.raw;if((a=>a.type.indexOf("touch")!==-1)(r)){const a=r;return a.touches!==void 0&&a.touches.length===1?A.some(a.touches[0]).map(l=>us(l.clientX,l.clientY)):A.none()}{const a=r;return a.clientX!==void 0?A.some(a).map(l=>us(l.clientX,l.clientY)):A.none()}},M1=o=>o.model.minX,Lp=o=>o.model.minY,Uy=o=>o.model.minX-1,qt=o=>o.model.minY-1,Gd=o=>o.model.maxX,B1=o=>o.model.maxY,dv=o=>o.model.maxX+1,P1=o=>o.model.maxY+1,Zy=(o,r,a)=>r(o)-a(o),Rk=o=>Zy(o,Gd,M1),jy=o=>Zy(o,B1,Lp),Mk=o=>Rk(o)/2,Wy=o=>jy(o)/2,rb=(o,r)=>r?o.stepSize*o.speedMultiplier:o.stepSize,Bk=o=>o.snapToGrid,C5=o=>o.snapStart,_5=o=>o.rounded,uv=(o,r)=>o[r+"-edge"]!==void 0,k5=o=>uv(o,"left"),S5=o=>uv(o,"right"),qy=o=>uv(o,"top"),Pk=o=>uv(o,"bottom"),Pu=o=>o.model.value.get(),Om=(o,r)=>({x:o,y:r}),Pc=(o,r)=>{oo(o,Tf(),{value:r})},Fp=(o,r,a,l)=>o<r?o:o>a?a:o===r?r-1:Math.max(r,o-l),mv=(o,r,a,l)=>o>a?o:o<r?r:o===a?a+1:Math.min(a,o+l),E5=(o,r,a)=>Math.max(r,Math.min(a,o)),A5=o=>{const{min:r,max:a,range:l,value:d,step:m,snap:p,snapStart:b,rounded:x,hasMinEdge:w,hasMaxEdge:E,minBound:C,maxBound:T,screenRange:B}=o,L=w?r-1:r,Y=E?a+1:a;if(d<C)return L;if(d>T)return Y;{const W=(($,U,te)=>Math.min(te,Math.max($,U))-U)(d,C,T),X=E5(W/B*l+r,L,Y);return p&&X>=r&&X<=a?(($,U,te,oe,de)=>de.fold(()=>{const he=$-U,ke=Math.round(he/oe)*oe;return E5(U+ke,U-1,te+1)},he=>{const ke=($-he)%oe,Ve=Math.round(ke/oe),tt=Math.floor(($-he)/oe),Je=Math.floor((te-he)/oe),st=he+Math.min(Je,tt+Ve)*oe;return Math.max(he,st)}))(X,r,a,m,b):x?Math.round(X):X}},T5=o=>{const{min:r,max:a,range:l,value:d,hasMinEdge:m,hasMaxEdge:p,maxBound:b,maxOffset:x,centerMinEdge:w,centerMaxEdge:E}=o;return d<r?m?0:w:d>a?p?b:E:(d-r)/l*x},Gy="top",D5="right",O5="bottom",Ky="left",Nm=o=>o.element.dom.getBoundingClientRect(),Iu=(o,r)=>o[r],fv=o=>{const r=Nm(o);return Iu(r,Ky)},N5=o=>{const r=Nm(o);return Iu(r,D5)},ab=o=>{const r=Nm(o);return Iu(r,Gy)},Ik=o=>{const r=Nm(o);return Iu(r,O5)},Lk=o=>{const r=Nm(o);return Iu(r,"width")},Fk=o=>{const r=Nm(o);return Iu(r,"height")},R5=(o,r,a)=>(o+r)/2-a,M5=(o,r)=>{const a=Nm(o),l=Nm(r),d=Iu(a,Ky),m=Iu(a,D5),p=Iu(l,Ky);return R5(d,m,p)},B5=(o,r)=>{const a=Nm(o),l=Nm(r),d=Iu(a,Gy),m=Iu(a,O5),p=Iu(l,Gy);return R5(d,m,p)},Yy=(o,r)=>{oo(o,Tf(),{value:r})},zk=(o,r,a)=>{const l={min:M1(r),max:Gd(r),range:Rk(r),value:a,step:rb(r),snap:Bk(r),snapStart:C5(r),rounded:_5(r),hasMinEdge:k5(r),hasMaxEdge:S5(r),minBound:fv(o),maxBound:N5(o),screenRange:Lk(o)};return A5(l)},ib=o=>(r,a,l)=>((d,m,p,b)=>{const x=(d>0?mv:Fp)(Pu(p),M1(p),Gd(p),rb(p,b));return Yy(m,x),A.some(x)})(o,r,a,l).map(Xt),Xy=(o,r,a,l,d,m)=>{const p=((b,x,w,E,C)=>{const T=Lk(b),B=E.bind(W=>A.some(M5(W,b))).getOr(0),L=C.bind(W=>A.some(M5(W,b))).getOr(T),Y={min:M1(x),max:Gd(x),range:Rk(x),value:w,hasMinEdge:k5(x),hasMaxEdge:S5(x),minBound:fv(b),maxBound:N5(b),maxOffset:T,centerMinEdge:B,centerMaxEdge:L};return T5(Y)})(r,m,a,l,d);return fv(r)-fv(o)+p},P5=ib(-1),I5=ib(1),L5=A.none,F5=A.none,SR={"top-left":A.none(),top:A.none(),"top-right":A.none(),right:A.some((o,r)=>{Pc(o,dv(r))}),"bottom-right":A.none(),bottom:A.none(),"bottom-left":A.none(),left:A.some((o,r)=>{Pc(o,Uy(r))})};var ER=Object.freeze({__proto__:null,setValueFrom:(o,r,a)=>{const l=zk(o,r,a);return Yy(o,l),l},setToMin:(o,r)=>{const a=M1(r);Yy(o,a)},setToMax:(o,r)=>{const a=Gd(r);Yy(o,a)},findValueOfOffset:zk,getValueFromEvent:o=>cv(o).map(r=>r.left),findPositionOfValue:Xy,setPositionFromValue:(o,r,a,l)=>{const d=Pu(a),m=Xy(o,l.getSpectrum(o),d,l.getLeftEdge(o),l.getRightEdge(o),a),p=$a(r.element)/2;To(r.element,"left",m-p+"px")},onLeft:P5,onRight:I5,onUp:L5,onDown:F5,edgeActions:SR});const Qy=(o,r)=>{oo(o,Tf(),{value:r})},pv=(o,r,a)=>{const l={min:Lp(r),max:B1(r),range:jy(r),value:a,step:rb(r),snap:Bk(r),snapStart:C5(r),rounded:_5(r),hasMinEdge:qy(r),hasMaxEdge:Pk(r),minBound:ab(o),maxBound:Ik(o),screenRange:Fk(o)};return A5(l)},z5=o=>(r,a,l)=>((d,m,p,b)=>{const x=(d>0?mv:Fp)(Pu(p),Lp(p),B1(p),rb(p,b));return Qy(m,x),A.some(x)})(o,r,a,l).map(Xt),lb=(o,r,a,l,d,m)=>{const p=((b,x,w,E,C)=>{const T=Fk(b),B=E.bind(W=>A.some(B5(W,b))).getOr(0),L=C.bind(W=>A.some(B5(W,b))).getOr(T),Y={min:Lp(x),max:B1(x),range:jy(x),value:w,hasMinEdge:qy(x),hasMaxEdge:Pk(x),minBound:ab(b),maxBound:Ik(b),maxOffset:T,centerMinEdge:B,centerMaxEdge:L};return T5(Y)})(r,m,a,l,d);return ab(r)-ab(o)+p},AR=A.none,H5=A.none,Ul=z5(-1),TR=z5(1),V5={"top-left":A.none(),top:A.some((o,r)=>{Pc(o,qt(r))}),"top-right":A.none(),right:A.none(),"bottom-right":A.none(),bottom:A.some((o,r)=>{Pc(o,P1(r))}),"bottom-left":A.none(),left:A.none()};var $5=Object.freeze({__proto__:null,setValueFrom:(o,r,a)=>{const l=pv(o,r,a);return Qy(o,l),l},setToMin:(o,r)=>{const a=Lp(r);Qy(o,a)},setToMax:(o,r)=>{const a=B1(r);Qy(o,a)},findValueOfOffset:pv,getValueFromEvent:o=>cv(o).map(r=>r.top),findPositionOfValue:lb,setPositionFromValue:(o,r,a,l)=>{const d=Pu(a),m=lb(o,l.getSpectrum(o),d,l.getTopEdge(o),l.getBottomEdge(o),a),p=Gs(r.element)/2;To(r.element,"top",m-p+"px")},onLeft:AR,onRight:H5,onUp:Ul,onDown:TR,edgeActions:V5});const Jy=(o,r)=>{oo(o,Tf(),{value:r})},gv=(o,r)=>({x:o,y:r}),hv=(o,r)=>(a,l,d)=>((m,p,b,x,w)=>{const E=m>0?mv:Fp,C=p?Pu(x).x:E(Pu(x).x,M1(x),Gd(x),rb(x,w)),T=p?E(Pu(x).y,Lp(x),B1(x),rb(x,w)):Pu(x).y;return Jy(b,gv(C,T)),A.some(C)})(o,r,a,l,d).map(Xt),DR=hv(-1,!1),OR=hv(1,!1),NR=hv(-1,!0),RR=hv(1,!0),U5={"top-left":A.some((o,r)=>{Pc(o,Om(Uy(r),qt(r)))}),top:A.some((o,r)=>{Pc(o,Om(Mk(r),qt(r)))}),"top-right":A.some((o,r)=>{Pc(o,Om(dv(r),qt(r)))}),right:A.some((o,r)=>{Pc(o,Om(dv(r),Wy(r)))}),"bottom-right":A.some((o,r)=>{Pc(o,Om(dv(r),P1(r)))}),bottom:A.some((o,r)=>{Pc(o,Om(Mk(r),P1(r)))}),"bottom-left":A.some((o,r)=>{Pc(o,Om(Uy(r),P1(r)))}),left:A.some((o,r)=>{Pc(o,Om(Uy(r),Wy(r)))})};var MR=Object.freeze({__proto__:null,setValueFrom:(o,r,a)=>{const l=zk(o,r,a.left),d=pv(o,r,a.top),m=gv(l,d);return Jy(o,m),m},setToMin:(o,r)=>{const a=M1(r),l=Lp(r);Jy(o,gv(a,l))},setToMax:(o,r)=>{const a=Gd(r),l=B1(r);Jy(o,gv(a,l))},getValueFromEvent:o=>cv(o),setPositionFromValue:(o,r,a,l)=>{const d=Pu(a),m=Xy(o,l.getSpectrum(o),d.x,l.getLeftEdge(o),l.getRightEdge(o),a),p=lb(o,l.getSpectrum(o),d.y,l.getTopEdge(o),l.getBottomEdge(o),a),b=$a(r.element)/2,x=Gs(r.element)/2;To(r.element,"left",m-b+"px"),To(r.element,"top",p-x+"px")},onLeft:DR,onRight:OR,onUp:NR,onDown:RR,edgeActions:U5});const Lu=Ki({name:"Slider",configFields:[Ie("stepSize",1),Ie("speedMultiplier",10),Ie("onChange",xe),Ie("onChoose",xe),Ie("onInit",xe),Ie("onDragStart",xe),Ie("onDragEnd",xe),Ie("snapToGrid",!1),Ie("rounded",!0),Sn("snapStart"),il("model",Fi("mode",{x:[Ie("minX",0),Ie("maxX",100),Ur("value",o=>Vt(o.mode.minX)),ct("getInitialValue"),ms("manager",ER)],y:[Ie("minY",0),Ie("maxY",100),Ur("value",o=>Vt(o.mode.minY)),ct("getInitialValue"),ms("manager",$5)],xy:[Ie("minX",0),Ie("maxX",100),Ie("minY",0),Ie("maxY",100),Ur("value",o=>Vt({x:o.mode.minX,y:o.mode.minY})),ct("getInitialValue"),ms("manager",MR)]})),si("sliderBehaviours",[Bt,zt]),Ur("mouseIsDown",()=>Vt(!1))],partFields:kR,factory:(o,r,a,l)=>{const d=$=>rd($,o,"thumb"),m=$=>rd($,o,"spectrum"),p=$=>es($,o,"left-edge"),b=$=>es($,o,"right-edge"),x=$=>es($,o,"top-edge"),w=$=>es($,o,"bottom-edge"),E=o.model,C=E.manager,T=($,U)=>{C.setPositionFromValue($,U,o,{getLeftEdge:p,getRightEdge:b,getTopEdge:x,getBottomEdge:w,getSpectrum:m})},B=($,U)=>{E.value.set(U);const te=d($);T($,te)},L=$=>{const U=o.mouseIsDown.get();o.mouseIsDown.set(!1),U&&es($,o,"thumb").each(te=>{const oe=E.value.get();o.onChoose($,te,oe)})},Y=($,U)=>{U.stop(),o.mouseIsDown.set(!0),o.onDragStart($,d($))},W=($,U)=>{U.stop(),o.onDragEnd($,d($)),L($)},X=$=>{es($,o,"spectrum").map(Bt.focusIn)};return{uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.sliderBehaviours,[Bt.config({mode:"special",focusIn:X}),zt.config({store:{mode:"manual",getValue:$=>E.value.get(),setValue:B}}),Vl.config({channels:{[nv()]:{onReceive:L}}})]),events:Wn([et(Tf(),($,U)=>{((te,oe)=>{B(te,oe);const de=d(te);o.onChange(te,de,oe)})($,U.event.value)}),ts(($,U)=>{const te=E.getInitialValue();E.value.set(te);const oe=d($);T($,oe);const de=m($);o.onInit($,oe,de,E.value.get())}),et(xu(),Y),et(af(),W),et(Nl(),($,U)=>{X($),Y($,U)}),et(rx(),W)]),apis:{resetToMin:$=>{C.setToMin($,o)},resetToMax:$=>{C.setToMax($,o)},setValue:B,refresh:T},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,r,a)=>{o.setValue(r,a)},resetToMin:(o,r)=>{o.resetToMin(r)},resetToMax:(o,r)=>{o.resetToMax(r)},refresh:(o,r)=>{o.refresh(r)}}}),Hk="container",Z5=[si("slotBehaviours",[])],Vk=o=>"<alloy.field."+o+">",BR=(o,r)=>{const a=E=>Yh(o),l=(E,C)=>(T,B)=>es(T,o,B).map(L=>E(L,B)).getOr(C),d=(E,C)=>wr(E.element,"aria-hidden")!=="true",m=l(d,!1),p=l((E,C)=>{if(d(E)){const T=E.element;To(T,"display","none"),bo(T,"aria-hidden","true"),oo(E,g0(),{name:C,visible:!1})}}),b=(E=>(C,T)=>{ht(T,B=>E(C,B))})(p),x=l((E,C)=>{if(!d(E)){const T=E.element;un(T,"display"),qs(T,"aria-hidden"),oo(E,g0(),{name:C,visible:!0})}}),w={getSlotNames:a,getSlot:(E,C)=>es(E,o,C),isShowing:m,hideSlot:p,hideAllSlots:E=>b(E,a()),showSlot:x};return{uid:o.uid,dom:o.dom,components:r,behaviours:Z_(o.slotBehaviours),apis:w}},PR=Ss({getSlotNames:(o,r)=>o.getSlotNames(r),getSlot:(o,r,a)=>o.getSlot(r,a),isShowing:(o,r,a)=>o.isShowing(r,a),hideSlot:(o,r,a)=>o.hideSlot(r,a),hideAllSlots:(o,r)=>o.hideAllSlots(r),showSlot:(o,r,a)=>o.showSlot(r,a)},o=>Zd(o)),Xi={...PR,sketch:o=>{const r=(()=>{const m=[];return{slot:(p,b)=>(m.push(p),fx(Hk,Vk(p),b)),record:ne(m)}})(),a=o(r),l=r.record(),d=Ae(l,m=>gi({name:m,pname:Vk(m)}));return j_(Hk,Z5,d,BR,a)}},IR=ne([ct("toggleClass"),ct("fetch"),Ml("onExecute"),Ie("getHotspot",A.some),Ie("getAnchorOverrides",ne({})),$g(),Ml("onItemExecute"),Sn("lazySink"),ct("dom"),fn("onOpen"),si("splitDropdownBehaviours",[kr,Bt,mo]),Ie("matchWidth",!1),Ie("useMinWidth",!1),Ie("eventOrder",{}),Sn("role"),Sn("listRole")].concat(kk())),j5=gi({factory:ua,schema:[ct("dom")],name:"arrow",defaults:()=>({buttonBehaviours:pt([mo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(o.uid).each(bp)},buttonBehaviours:pt([Zo.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),W5=gi({factory:ua,schema:[ct("dom")],name:"button",defaults:()=>({buttonBehaviours:pt([mo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(o.uid).each(a=>{o.onExecute(a,r)})}})}),Kg=ne([j5,W5,Nc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[ct("text")],name:"aria-descriptor"}),Ui({schema:[Uh()],name:"menu",defaults:o=>({onExecute:(r,a)=>{r.getSystem().getByUid(o.uid).each(l=>{o.onItemExecute(l,r,a)})}})}),wk()]),bv=Ki({name:"SplitDropdown",configFields:IR(),partFields:Kg(),factory:(o,r,a,l)=>{const d=w=>{Cn.getCurrent(w).each(E=>{Dn.highlightFirst(E),Bt.focusIn(E)})},m=w=>{Ck(o,kt,w,l,d,hi.HighlightMenuAndItem).get(xe)},p=w=>{const E=rd(w,o,"button");return bp(E),A.some(!0)},b={...Wn([ts((w,E)=>{es(w,o,"aria-descriptor").each(C=>{const T=Me("aria");bo(C.element,"id",T),bo(w.element,"aria-describedby",T)})})]),...tb(A.some(m))},x={repositionMenus:w=>{Zo.isOn(w)&&f5(w)}};return{uid:o.uid,dom:o.dom,components:r,apis:x,eventOrder:{...o.eventOrder,[dl()]:["disabling","toggling","alloy.base.behaviour"]},events:b,behaviours:bi(o.splitDropdownBehaviours,[kr.config({others:{sandbox:w=>{const E=rd(w,o,"arrow");return Hy(o,w,{onOpen:()=>{Zo.on(E),Zo.on(w)},onClose:()=>{Zo.off(E),Zo.off(w)}})}}}),Bt.config({mode:"special",onSpace:p,onEnter:p,onDown:w=>(m(w),A.some(!0))}),mo.config({}),Zo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,r)=>o.repositionMenus(r)}}),ew=(o,r,a)=>({within:o,extra:r,withinWidth:a}),$k=(o,r,a)=>{const l=Go(o,(p,b)=>((x,w)=>{const E=a(x);return A.some({element:x,start:w,finish:w+E,width:E})})(b,p.len).fold(ne(p),x=>({len:x.finish,list:p.list.concat([x])})),{len:0,list:[]}).list,d=Oo(l,p=>p.finish<=r),m=Ao(d,(p,b)=>p+b.width,0);return{within:d,extra:l.slice(d.length),withinWidth:m}},tw=o=>Ae(o,r=>r.element),I1=(o,r)=>{const a=Ae(r,l=>cd(l));Dm.setGroups(o,a)},q5=(o,r,a)=>{const l=r.builtGroups.get();if(l.length===0)return;const d=rd(o,r,"primary"),m=kr.getCoupled(o,"overflowGroup");To(d.element,"visibility","hidden");const p=l.concat([m]),b=ws(p,w=>As(w.element).bind(E=>w.getSystem().getByDom(E).toOptional()));a([]),I1(d,p);const x=((w,E,C,T)=>{const B=((X,$,U)=>{const te=$k($,X,U);return te.extra.length===0?A.some(te):A.none()})(w,E,C).getOrThunk(()=>$k(E,w-C(T),C)),L=B.within,Y=B.extra,W=B.withinWidth;return Y.length===1&&Y[0].width<=C(T)?((X,$,U)=>{const te=tw(X.concat($));return ew(te,[],U)})(L,Y,W):Y.length>=1?((X,$,U,te)=>{const oe=tw(X).concat([U]);return ew(oe,tw($),te)})(L,Y,T,W):((X,$,U)=>ew(tw(X),[],U))(L,0,W)})($a(d.element),r.builtGroups.get(),w=>Math.ceil(w.element.dom.getBoundingClientRect().width),m);x.extra.length===0?(Do.remove(d,m),a([])):(I1(d,x.within),a(x.extra)),un(d.element,"visibility"),Va(d.element),b.each(mo.focus)},G5=ne([si("splitToolbarBehaviours",[kr]),Ur("builtGroups",()=>Vt([]))]),K5=ne([Ld(["overflowToggledClass"]),Ra("getOverflowBounds"),ct("lazySink"),Ur("overflowGroups",()=>Vt([])),fn("onOpened"),fn("onClosed")].concat(G5())),LR=ne([gi({factory:Dm,schema:sb(),name:"primary"}),Ui({schema:sb(),name:"overflow"}),Ui({name:"overflow-button"}),Ui({name:"overflow-group"})]),FR=ne([ct("items"),Ld(["itemSelector"]),si("tgroupBehaviours",[Bt])]),zR=ne([Sg({name:"items",unit:"item"})]),xv=Ki({name:"ToolbarGroup",configFields:FR(),partFields:zR(),factory:(o,r,a,l)=>({uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.tgroupBehaviours,[Bt.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),ow=o=>Ae(o,r=>cd(r)),nw=(o,r,a)=>{q5(o,a,l=>{a.overflowGroups.set(l),r.getOpt(o).each(d=>{Pp.setGroups(d,ow(l))})})},Y5=Ki({name:"SplitFloatingToolbar",configFields:K5(),partFields:LR(),factory:(o,r,a,l)=>{const d=Fn(Pp.sketch({fetch:()=>sa(m=>{m(ow(o.overflowGroups.get()))}),layouts:{onLtr:()=>[Br,jr],onRtl:()=>[jr,Br],onBottomLtr:()=>[oi,Wa],onBottomRtl:()=>[Wa,oi]},getBounds:a.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(m,p)=>o[p?"onOpened":"onClosed"](m)}));return{uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.splitToolbarBehaviours,[kr.config({others:{overflowGroup:()=>xv.sketch({...l["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(m,p)=>{o.builtGroups.set(Ae(p,m.getSystem().build)),nw(m,d,o)},refresh:m=>nw(m,d,o),toggle:m=>{d.getOpt(m).each(p=>{Pp.toggle(p)})},toggleWithoutFocusing:m=>{d.getOpt(m).each(Pp.toggleWithoutFocusing)},isOpen:m=>d.getOpt(m).map(Pp.isOpen).getOr(!1),reposition:m=>{d.getOpt(m).each(p=>{Pp.reposition(p)})},getOverflow:m=>d.getOpt(m).bind(Pp.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,r,a)=>{o.setGroups(r,a)},refresh:(o,r)=>{o.refresh(r)},reposition:(o,r)=>{o.reposition(r)},toggle:(o,r)=>{o.toggle(r)},toggleWithoutFocusing:(o,r)=>{o.toggle(r)},isOpen:(o,r)=>o.isOpen(r),getOverflow:(o,r)=>o.getOverflow(r)}}),Yg=ne([Ld(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),fn("onOpened"),fn("onClosed")].concat(G5())),X5=ne([gi({factory:Dm,schema:sb(),name:"primary"}),gi({factory:Dm,schema:sb(),name:"overflow",overrides:o=>({toolbarBehaviours:pt([$l.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:r=>{es(r,o,"overflow-button").each(a=>{Zo.off(a)}),o.onClosed(r)},onGrown:r=>{o.onOpened(r)},onStartGrow:r=>{es(r,o,"overflow-button").each(Zo.on)}}),Bt.config({mode:"acyclic",onEscape:r=>(es(r,o,"overflow-button").each(mo.focus),A.some(!0))})])})}),Ui({name:"overflow-button",overrides:o=>({buttonBehaviours:pt([Zo.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Ui({name:"overflow-group"})]),sw=(o,r,a)=>{es(o,r,"overflow-button").each(l=>{es(o,r,"overflow").each(d=>{if(Uk(o,r),$l.hasShrunk(d)){const m=r.onOpened;r.onOpened=p=>{a||Bt.focusIn(d),m(p),r.onOpened=m}}else{const m=r.onClosed;r.onClosed=p=>{a||mo.focus(l),m(p),r.onClosed=m}}$l.toggleGrow(d)})})},Uk=(o,r)=>{es(o,r,"overflow").each(a=>{q5(o,r,l=>{const d=Ae(l,m=>cd(m));Dm.setGroups(a,d)}),es(o,r,"overflow-button").each(l=>{$l.hasGrown(a)&&Zo.on(l)}),$l.refresh(a)})},Zk=Ki({name:"SplitSlidingToolbar",configFields:Yg(),partFields:X5(),factory:(o,r,a,l)=>{const d="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:r,behaviours:bi(o.splitToolbarBehaviours,[kr.config({others:{overflowGroup:m=>xv.sketch({...l["overflow-group"](),items:[ua.sketch({...l["overflow-button"](),action:p=>{Qo(m,d)}})]})}}),vo("toolbar-toggle-events",[et(d,m=>{sw(m,o,!1)})])]),apis:{setGroups:(m,p)=>{((b,x)=>{const w=Ae(x,b.getSystem().build);o.builtGroups.set(w)})(m,p),Uk(m,o)},refresh:m=>Uk(m,o),toggle:m=>{sw(m,o,!1)},toggleWithoutFocusing:m=>{sw(m,o,!0)},isOpen:m=>((p,b)=>es(p,b,"overflow").map($l.hasGrown).getOr(!1))(m,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,r,a)=>{o.setGroups(r,a)},refresh:(o,r)=>{o.refresh(r)},toggle:(o,r)=>{o.toggle(r)},isOpen:(o,r)=>o.isOpen(r)}}),vv=dd({name:"TabButton",configFields:[Ie("uid",void 0),ct("value"),lr("dom","dom",tx(()=>({attributes:{role:"tab",id:Me("aria"),"aria-selected":"false"}})),Ns()),Sn("action"),Ie("domModification",{}),si("tabButtonBehaviours",[mo,Bt,zt]),ct("view")],factory:(o,r)=>({uid:o.uid,dom:o.dom,components:o.components,events:tb(o.action),behaviours:bi(o.tabButtonBehaviours,[mo.config({}),Bt.config({mode:"execution",useSpace:!0,useEnter:!0}),zt.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),yv=ne([ct("tabs"),ct("dom"),Ie("clickToDismiss",!1),si("tabbarBehaviours",[Dn,Bt]),Ld(["tabClass","selectedClass"])]),Q5=Sg({factory:vv,name:"tabs",unit:"tab",overrides:o=>{const r=(l,d)=>{Dn.dehighlight(l,d),oo(l,Vh(),{tabbar:l,button:d})},a=(l,d)=>{Dn.highlight(l,d),oo(l,h0(),{tabbar:l,button:d})};return{action:l=>{const d=l.getSystem().getByUid(o.uid).getOrDie(),m=Dn.isHighlighted(d,l);(m&&o.clickToDismiss?r:m?xe:a)(d,l)},domModification:{classes:[o.markers.tabClass]}}}}),jk=ne([Q5]),zp=Ki({name:"Tabbar",configFields:yv(),partFields:jk(),factory:(o,r,a,l)=>({uid:o.uid,dom:o.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:bi(o.tabbarBehaviours,[Dn.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(d,m)=>{bo(m.element,"aria-selected","true")},onDehighlight:(d,m)=>{bo(m.element,"aria-selected","false")}}),Bt.config({mode:"flow",getInitial:d=>Dn.getHighlighted(d).map(m=>m.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),Xg=dd({name:"Tabview",configFields:[si("tabviewBehaviours",[Do])],factory:(o,r)=>({uid:o.uid,dom:o.dom,behaviours:bi(o.tabviewBehaviours,[Do.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),HR=ne([Ie("selectFirst",!0),fn("onChangeTab"),fn("onDismissTab"),Ie("tabs",[]),si("tabSectionBehaviours",[])]),VR=gi({factory:zp,schema:[ct("dom"),hu("markers",[ct("tabClass"),ct("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),J5=gi({factory:Xg,name:"tabview"}),Hp=ne([VR,J5]),Qg=Ki({name:"TabSection",configFields:HR(),partFields:Hp(),factory:(o,r,a,l)=>{const d=(m,p)=>{es(m,o,"tabbar").each(b=>{p(b).each(bp)})};return{uid:o.uid,dom:o.dom,components:r,behaviours:Z_(o.tabSectionBehaviours),events:Wn(Ps([o.selectFirst?[ts((m,p)=>{d(m,Dn.getFirst)})]:[],[et(h0(),(m,p)=>{(b=>{const x=zt.getValue(b);es(b,o,"tabview").each(w=>{z(o.tabs,E=>E.value===x).each(E=>{const C=E.view();Ta(b.element,"id").each(T=>{bo(w.element,"aria-labelledby",T)}),Do.set(w,C),o.onChangeTab(w,b,C)})})})(p.event.button)}),et(Vh(),(m,p)=>{const b=p.event.button;o.onDismissTab(m,b)})]])),apis:{getViewItems:m=>es(m,o,"tabview").map(p=>Do.contents(p)).getOr([]),showTab:(m,p)=>{d(m,b=>{const x=Dn.getCandidates(b);return z(x,w=>zt.getValue(w)===p).filter(w=>!Dn.isHighlighted(b,w))})}}}},apis:{getViewItems:(o,r)=>o.getViewItems(r),showTab:(o,r,a)=>{o.showTab(r,a)}}}),rw=(o,r,a)=>{const l=zt.getValue(a);zt.setValue(r,l),qk(r)},Wk=(o,r)=>{const a=o.element,l=la(a),d=a.dom;wr(a,"type")!=="number"&&r(d,l)},qk=o=>{Wk(o,(r,a)=>r.setSelectionRange(a.length,a.length))},aw=ne("alloy.typeahead.itemexecute"),Gk=ne([Sn("lazySink"),ct("fetch"),Ie("minChars",5),Ie("responseTime",1e3),fn("onOpen"),Ie("getHotspot",A.some),Ie("getAnchorOverrides",ne({})),Ie("layouts",A.none()),Ie("eventOrder",{}),c0("model",{},[Ie("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Ie("selectsOver",!0),Ie("populateFromBrowse",!0)]),fn("onSetValue"),ul("onExecute"),fn("onItemExecute"),Ie("inputClasses",[]),Ie("inputAttributes",{}),Ie("inputStyles",{}),Ie("matchWidth",!0),Ie("useMinWidth",!1),Ie("dismissOnBlur",!0),Ld(["openClass"]),Sn("initialData"),Sn("listRole"),si("typeaheadBehaviours",[mo,zt,ck,Bt,Zo,kr]),Ur("lazyTypeaheadComp",()=>Vt(A.none)),Ur("previewing",()=>Vt(!0))].concat(x5()).concat(kk())),eT=ne([Ui({schema:[Uh()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(r,a,l)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(d=>{((m,p,b)=>{if(m.selectsOver){const x=zt.getValue(p),w=m.getDisplayText(x),E=zt.getValue(b);return m.getDisplayText(E).indexOf(w)===0?A.some(()=>{rw(0,p,b),((C,T)=>{Wk(C,(B,L)=>B.setSelectionRange(T,L.length))})(p,w.length)}):A.none()}return A.none()})(o.model,d,l).fold(()=>{o.model.selectsOver?(Dn.dehighlight(a,l),o.previewing.set(!0)):o.previewing.set(!1)},m=>{m(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(d=>{o.model.populateFromBrowse&&rw(o.model,d,l),Ta(l.element,"id").each(m=>bo(d.element,"aria-activedescendant",m))})},onExecute:(r,a)=>o.lazyTypeaheadComp.get().map(l=>(oo(l,aw(),{item:a}),!0)),onHover:(r,a)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(l=>{o.model.populateFromBrowse&&rw(o.model,l,a)})}})})]),$R=Ki({name:"Typeahead",configFields:Gk(),partFields:eT(),factory:(o,r,a,l)=>{const d=(C,T,B)=>{o.previewing.set(!1);const L=kr.getCoupled(C,"sandbox");if(En.isOpen(L))Cn.getCurrent(L).each(Y=>{Dn.getHighlighted(Y).fold(()=>{B(Y)},()=>{Og(L,Y.element,"keydown",T)})});else{const Y=W=>{Cn.getCurrent(W).each(B)};zy(o,p(C),C,L,l,Y,hi.HighlightMenuAndItem).get(xe)}},m=v5(o),p=C=>T=>T.map(B=>{const L=nr(B.menus),Y=Uo(L,W=>Oo(W.items,X=>X.type==="item"));return zt.getState(C).update(Ae(Y,W=>W.data)),B}),b=C=>Cn.getCurrent(C),x="typeaheadevents",w=[mo.config({}),zt.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:C=>la(C.element),getFallbackEntry:C=>({value:C,meta:{}}),setValue:(C,T)=>{Bd(C.element,o.model.getDisplayText(T))},...o.initialData.map(C=>am("initialValue",C)).getOr({})}}),ck.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(C,T)=>{const B=kr.getCoupled(C,"sandbox");if(mo.isFocused(C)&&la(C.element).length>=o.minChars){const L=b(B).bind(W=>Dn.getHighlighted(W).map(zt.getValue));o.previewing.set(!0);const Y=W=>{b(B).each(X=>{L.fold(()=>{o.model.selectsOver&&Dn.highlightFirst(X)},$=>{Dn.highlightBy(X,U=>zt.getValue(U).value===$.value),Dn.getHighlighted(X).orThunk(()=>(Dn.highlightFirst(X),A.none()))})})};zy(o,p(C),C,B,l,Y,hi.HighlightJustMenu).get(xe)}},cancelEvent:u0()}),Bt.config({mode:"special",onDown:(C,T)=>(d(C,T,Dn.highlightFirst),A.some(!0)),onEscape:C=>{const T=kr.getCoupled(C,"sandbox");return En.isOpen(T)?(En.close(T),A.some(!0)):A.none()},onUp:(C,T)=>(d(C,T,Dn.highlightLast),A.some(!0)),onEnter:C=>{const T=kr.getCoupled(C,"sandbox"),B=En.isOpen(T);if(B&&!o.previewing.get())return b(T).bind(L=>Dn.getHighlighted(L)).map(L=>(oo(C,aw(),{item:L}),!0));{const L=zt.getValue(C);return Qo(C,u0()),o.onExecute(T,C,L),B&&En.close(T),A.some(!0)}}}),Zo.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),kr.config({others:{sandbox:C=>Hy(o,C,{onOpen:()=>Zo.on(C),onClose:()=>{o.lazyTypeaheadComp.get().each(T=>qs(T.element,"aria-activedescendant")),Zo.off(C)}})}}),vo(x,[ts(C=>{o.lazyTypeaheadComp.set(A.some(C))}),ad(C=>{o.lazyTypeaheadComp.set(A.none())}),Hd(C=>{const T=xe;Ck(o,p(C),C,l,T,hi.HighlightMenuAndItem).get(xe)}),et(aw(),(C,T)=>{const B=kr.getCoupled(C,"sandbox");rw(o.model,C,T.event.item),Qo(C,u0()),o.onItemExecute(C,B,T.event.item,zt.getValue(C)),En.close(B),qk(C)})].concat(o.dismissOnBlur?[et(lm(),C=>{const T=kr.getCoupled(C,"sandbox");As(T.element).isNone()&&En.close(T)})]:[]))],E={[Ys()]:[zt.name(),ck.name(),x],...o.eventOrder};return{uid:o.uid,dom:y5(Wo(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...m,...bi(o.typeaheadBehaviours,w)},eventOrder:E}}});var Kd,wv,iw=tinymce.util.Tools.resolve("tinymce.ThemeManager"),cb=tinymce.util.Tools.resolve("tinymce.util.Delay"),Jg=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tT=tinymce.util.Tools.resolve("tinymce.EditorManager"),db=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Kd||(Kd={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(wv||(wv={}));const os=o=>r=>r.options.get(o),ub=o=>r=>A.from(o(r)),Kk=o=>{const r=db.deviceType.isPhone(),a=db.deviceType.isTablet()||r,l=o.options.register,d=p=>Se(p)||p===!1,m=p=>Se(p)||Tt(p);l("skin",{processor:p=>Se(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:m,default:Math.max(o.getElement().offsetHeight,400)}),l("width",{processor:m,default:Jg.DOM.getStyle(o.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>Se(p)||Ct(p),default:!r}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>Ct(p)||Se(p)||Ze(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Ci(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:wv.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:o.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:d,default:"#top"}),l("anchor_bottom",{processor:d,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||Ct(p),default:!db.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},Yk=os("readonly"),lw=os("disabled"),Cv=os("height"),Xk=os("width"),Qk=ub(os("min_width")),Jk=ub(os("min_height")),cw=ub(os("max_width")),dw=ub(os("max_height")),oT=ub(os("style_formats")),nT=os("style_formats_merge"),e4=os("style_formats_autohide"),mb=os("content_langs"),sT=os("removed_menuitems"),Df=os("toolbar_mode"),uw=os("toolbar_groups"),mw=os("toolbar_location"),rT=os("fixed_toolbar_container"),UR=os("fixed_toolbar_container_target"),aT=os("toolbar_persist"),t4=os("toolbar_sticky_offset"),iT=os("menubar"),_v=os("toolbar"),lT=os("file_picker_callback"),cT=os("file_picker_validator_handler"),o4=os("font_size_input_default_unit"),kv=os("file_picker_types"),fw=os("typeahead_urls"),pw=os("anchor_top"),dT=os("anchor_bottom"),uT=os("draggable_modal"),mT=os("statusbar"),fT=os("elementpath"),gw=os("branding"),n4=os("resize"),pT=os("paste_as_text"),gT=os("sidebar_show"),hT=os("promotion"),bT=os("help_accessibility"),xT=os("default_font_stack"),vT=os("skin"),hw=o=>o.options.get("skin")===!1,bw=o=>o.options.get("menubar")!==!1,yT=o=>{const r=o.options.get("skin_url");if(hw(o))return r;if(r)return o.documentBaseURI.toAbsolute(r);{const a=o.options.get("skin");return tT.baseURL+"/skins/ui/"+a}},wT=o=>o.options.get("line_height_formats").split(" "),xw=o=>{const r=_v(o),a=Se(r),l=Ze(r)&&r.length>0;return!Rm(o)&&(l||a||r===!0)},s4=o=>{const r=Ci(9,l=>o.options.get("toolbar"+(l+1))),a=Oo(r,Se);return ci(a.length>0,a)},Rm=o=>s4(o).fold(()=>{const r=_v(o);return lt(r,Se)&&r.length>0},Xt),r4=o=>mw(o)===wv.bottom,CT=o=>{var r;if(!o.inline)return A.none();const a=(r=rT(o))!==null&&r!==void 0?r:"";if(a.length>0)return On(ue(),a);const l=UR(o);return Ne(l)?A.some(Ft(l)):A.none()},Fu=o=>o.inline&&CT(o).isSome(),vw=o=>CT(o).getOrThunk(()=>Ed(Aa(Ft(o.getElement())))),a4=o=>o.inline&&!bw(o)&&!xw(o)&&!Rm(o),Yd=o=>(o.options.get("toolbar_sticky")||o.inline)&&!Fu(o)&&!a4(o),eh=o=>!Fu(o)&&o.options.get("ui_mode")==="split",_T=o=>{const r=o.options.get("menu");return Ss(r,a=>({...a,items:a.items}))};var Xd=Object.freeze({__proto__:null,get ToolbarMode(){return Kd},get ToolbarLocation(){return wv},register:Kk,getSkinUrl:yT,getSkinUrlOption:o=>A.from(o.options.get("skin_url")),isReadOnly:Yk,isDisabled:lw,getSkin:vT,isSkinDisabled:hw,getHeightOption:Cv,getWidthOption:Xk,getMinWidthOption:Qk,getMinHeightOption:Jk,getMaxWidthOption:cw,getMaxHeightOption:dw,getUserStyleFormats:oT,shouldMergeStyleFormats:nT,shouldAutoHideStyleFormats:e4,getLineHeightFormats:wT,getContentLanguages:mb,getRemovedMenuItems:sT,isMenubarEnabled:bw,isMultipleToolbars:Rm,isToolbarEnabled:xw,isToolbarPersist:aT,getMultipleToolbarsOption:s4,getUiContainer:vw,useFixedContainer:Fu,isSplitUiMode:eh,getToolbarMode:Df,isDraggableModal:uT,isDistractionFree:a4,isStickyToolbar:Yd,getStickyToolbarOffset:t4,getToolbarLocation:mw,isToolbarLocationBottom:r4,getToolbarGroups:uw,getMenus:_T,getMenubar:iT,getToolbar:_v,getFilePickerCallback:lT,getFilePickerTypes:kv,useTypeaheadUrls:fw,getAnchorTop:pw,getAnchorBottom:dT,getFilePickerValidatorHandler:cT,getFontSizeInputDefaultUnit:o4,useStatusBar:mT,useElementPath:fT,promotionEnabled:hT,useBranding:gw,getResize:n4,getPasteAsText:pT,getSidebarShow:gT,useHelpAccessibility:bT,getDefaultFontStack:xT});const kT=["visible","hidden","clip"],i4=o=>ql(o).length>0&&!St(kT,o),l4=o=>{if(cs(o)){const r=Ha(o,"overflow-x"),a=Ha(o,"overflow-y");return i4(r)||i4(a)}return!1},ST=o=>o.plugins.fullscreen&&o.plugins.fullscreen.isFullscreen(),Mm=(o,r)=>eh(o)?((a,l)=>{const d=Oh(l,l4),m=d.length===0?Sl(l).map(Wf).map(p=>Oh(p,l4)).getOr([]):d;return xr(m).map(p=>({element:p,others:m.slice(1),isFullscreen:()=>ST(a)}))})(o,r):A.none(),th=o=>{const r=[...Ae(o.others,Js),Na()];return o.isFullscreen()?Na():((a,l)=>Go(l,(d,m)=>fg(d,m),a))(Js(o.element),r)},{entries:ET,setPrototypeOf:AT,isFrozen:yw,getPrototypeOf:c4,getOwnPropertyDescriptor:TT}=Object;let{freeze:uc,seal:Qd,create:DT}=Object,{apply:Sv,construct:ww}=typeof Reflect<"u"&&Reflect;uc||(uc=function(o){return o}),Qd||(Qd=function(o){return o}),Sv||(Sv=function(o,r,a){return o.apply(r,a)}),ww||(ww=function(o,r){return new o(...r)});const Cw=mc(Array.prototype.forEach),ZR=mc(Array.prototype.lastIndexOf),OT=mc(Array.prototype.pop),L1=mc(Array.prototype.push),jR=mc(Array.prototype.splice),oh=mc(String.prototype.toLowerCase),fb=mc(String.prototype.toString),d4=mc(String.prototype.match),pb=mc(String.prototype.replace),WR=mc(String.prototype.indexOf),qR=mc(String.prototype.trim),Bm=mc(Object.prototype.hasOwnProperty),Ic=mc(RegExp.prototype.test),F1=(u4=TypeError,function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return ww(u4,r)});var u4;function mc(o){return function(r){for(var a=arguments.length,l=new Array(a>1?a-1:0),d=1;d<a;d++)l[d-1]=arguments[d];return Sv(o,r,l)}}function ps(o,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:oh;AT&&AT(o,null);let l=r.length;for(;l--;){let d=r[l];if(typeof d=="string"){const m=a(d);m!==d&&(yw(r)||(r[l]=m),d=m)}o[d]=!0}return o}function GR(o){for(let r=0;r<o.length;r++)Bm(o,r)||(o[r]=null);return o}function nh(o){const r=DT(null);for(const[a,l]of ET(o))Bm(o,a)&&(Array.isArray(l)?r[a]=GR(l):l&&typeof l=="object"&&l.constructor===Object?r[a]=nh(l):r[a]=l);return r}function Ev(o,r){for(;o!==null;){const a=TT(o,r);if(a){if(a.get)return mc(a.get);if(typeof a.value=="function")return mc(a.value)}o=c4(o)}return function(){return null}}const NT=uc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),m4=uc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_w=uc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),KR=uc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),f4=uc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),p4=uc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),g4=uc(["#text"]),h4=uc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),b4=uc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kw=uc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Sw=uc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),YR=Qd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),XR=Qd(/<%[\w\W]*|[\w\W]*%>/gm),QR=Qd(/\$\{[\w\W]*/gm),JR=Qd(/^data-[\-\w.\u00B7-\uFFFF]+$/),RT=Qd(/^aria-[\-\w]+$/),Ew=Qd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eM=Qd(/^(?:\w+script|data):/i),Aw=Qd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),MT=Qd(/^html$/i),tM=Qd(/^[a-z][.\w]*(-[.\w]+)+$/i);var BT=Object.freeze({__proto__:null,ARIA_ATTR:RT,ATTR_WHITESPACE:Aw,CUSTOM_ELEMENT:tM,DATA_ATTR:JR,DOCTYPE_NAME:MT,ERB_EXPR:XR,IS_ALLOWED_URI:Ew,IS_SCRIPT_OR_DATA:eM,MUSTACHE_EXPR:YR,TMPLIT_EXPR:QR});const oM=function(){return typeof window>"u"?null:window};var nM=function o(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oM();const a=Le=>o(Le);if(a.version="3.2.4",a.removed=[],!r||!r.document||r.document.nodeType!==9||!r.Element)return a.isSupported=!1,a;let{document:l}=r;const d=l,m=d.currentScript,{DocumentFragment:p,HTMLTemplateElement:b,Node:x,Element:w,NodeFilter:E,NamedNodeMap:C=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:T,DOMParser:B,trustedTypes:L}=r,Y=w.prototype,W=Ev(Y,"cloneNode"),X=Ev(Y,"remove"),$=Ev(Y,"nextSibling"),U=Ev(Y,"childNodes"),te=Ev(Y,"parentNode");if(typeof b=="function"){const Le=l.createElement("template");Le.content&&Le.content.ownerDocument&&(l=Le.content.ownerDocument)}let oe,de="";const{implementation:he,createNodeIterator:ke,createDocumentFragment:Ve,getElementsByTagName:tt}=l,{importNode:Je}=d;let st={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};a.isSupported=typeof ET=="function"&&typeof te=="function"&&he&&he.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:vt,ERB_EXPR:Qt,TMPLIT_EXPR:no,DATA_ATTR:po,ARIA_ATTR:$o,IS_SCRIPT_OR_DATA:gs,ATTR_WHITESPACE:Ms,CUSTOM_ELEMENT:Nn}=BT;let{IS_ALLOWED_URI:nn}=BT,ro=null;const ss=ps({},[...NT,...m4,..._w,...f4,...g4]);let Hn=null;const Yr=ps({},[...h4,...b4,...kw,...Sw]);let Gn=Object.seal(DT(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xr=null,_a=null,xh=!0,Gp=!0,YC=!1,c2=!0,vh=!1,Kp=!0,Ff=!1,$b=!1,Ub=!1,Yp=!1,Zb=!1,o0=!1,d2=!0,u2=!1,n0=!0,yh=!1,Xp={},_n=null;const Qp=ps({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zm=null;const Y8=ps({},["audio","video","img","source","image","track"]);let tE=null;const oE=ps({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),m2="http://www.w3.org/1998/Math/MathML",f2="http://www.w3.org/2000/svg",Uu="http://www.w3.org/1999/xhtml";let jb=Uu,nE=!1,sE=null;const oI=ps({},[m2,f2,Uu],fb);let p2=ps({},["mi","mo","mn","ms","mtext"]),XC=ps({},["annotation-xml"]);const nI=ps({},["title","style","font","a","script"]);let g2=null;const X8=["application/xhtml+xml","text/html"];let Qi=null,Wb=null;const sI=l.createElement("form"),rE=function(Le){return Le instanceof RegExp||Le instanceof Function},aE=function(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Wb||Wb!==Le){if(Le&&typeof Le=="object"||(Le={}),Le=nh(Le),g2=X8.indexOf(Le.PARSER_MEDIA_TYPE)===-1?"text/html":Le.PARSER_MEDIA_TYPE,Qi=g2==="application/xhtml+xml"?fb:oh,ro=Bm(Le,"ALLOWED_TAGS")?ps({},Le.ALLOWED_TAGS,Qi):ss,Hn=Bm(Le,"ALLOWED_ATTR")?ps({},Le.ALLOWED_ATTR,Qi):Yr,sE=Bm(Le,"ALLOWED_NAMESPACES")?ps({},Le.ALLOWED_NAMESPACES,fb):oI,tE=Bm(Le,"ADD_URI_SAFE_ATTR")?ps(nh(oE),Le.ADD_URI_SAFE_ATTR,Qi):oE,zm=Bm(Le,"ADD_DATA_URI_TAGS")?ps(nh(Y8),Le.ADD_DATA_URI_TAGS,Qi):Y8,_n=Bm(Le,"FORBID_CONTENTS")?ps({},Le.FORBID_CONTENTS,Qi):Qp,Xr=Bm(Le,"FORBID_TAGS")?ps({},Le.FORBID_TAGS,Qi):{},_a=Bm(Le,"FORBID_ATTR")?ps({},Le.FORBID_ATTR,Qi):{},Xp=!!Bm(Le,"USE_PROFILES")&&Le.USE_PROFILES,xh=Le.ALLOW_ARIA_ATTR!==!1,Gp=Le.ALLOW_DATA_ATTR!==!1,YC=Le.ALLOW_UNKNOWN_PROTOCOLS||!1,c2=Le.ALLOW_SELF_CLOSE_IN_ATTR!==!1,vh=Le.SAFE_FOR_TEMPLATES||!1,Kp=Le.SAFE_FOR_XML!==!1,Ff=Le.WHOLE_DOCUMENT||!1,Yp=Le.RETURN_DOM||!1,Zb=Le.RETURN_DOM_FRAGMENT||!1,o0=Le.RETURN_TRUSTED_TYPE||!1,Ub=Le.FORCE_BODY||!1,d2=Le.SANITIZE_DOM!==!1,u2=Le.SANITIZE_NAMED_PROPS||!1,n0=Le.KEEP_CONTENT!==!1,yh=Le.IN_PLACE||!1,nn=Le.ALLOWED_URI_REGEXP||Ew,jb=Le.NAMESPACE||Uu,p2=Le.MATHML_TEXT_INTEGRATION_POINTS||p2,XC=Le.HTML_INTEGRATION_POINTS||XC,Gn=Le.CUSTOM_ELEMENT_HANDLING||{},Le.CUSTOM_ELEMENT_HANDLING&&rE(Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Gn.tagNameCheck=Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&rE(Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Gn.attributeNameCheck=Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&typeof Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Gn.allowCustomizedBuiltInElements=Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),vh&&(Gp=!1),Zb&&(Yp=!0),Xp&&(ro=ps({},g4),Hn=[],Xp.html===!0&&(ps(ro,NT),ps(Hn,h4)),Xp.svg===!0&&(ps(ro,m4),ps(Hn,b4),ps(Hn,Sw)),Xp.svgFilters===!0&&(ps(ro,_w),ps(Hn,b4),ps(Hn,Sw)),Xp.mathMl===!0&&(ps(ro,f4),ps(Hn,kw),ps(Hn,Sw))),Le.ADD_TAGS&&(ro===ss&&(ro=nh(ro)),ps(ro,Le.ADD_TAGS,Qi)),Le.ADD_ATTR&&(Hn===Yr&&(Hn=nh(Hn)),ps(Hn,Le.ADD_ATTR,Qi)),Le.ADD_URI_SAFE_ATTR&&ps(tE,Le.ADD_URI_SAFE_ATTR,Qi),Le.FORBID_CONTENTS&&(_n===Qp&&(_n=nh(_n)),ps(_n,Le.FORBID_CONTENTS,Qi)),n0&&(ro["#text"]=!0),Ff&&ps(ro,["html","head","body"]),ro.table&&(ps(ro,["tbody"]),delete Xr.tbody),Le.TRUSTED_TYPES_POLICY){if(typeof Le.TRUSTED_TYPES_POLICY.createHTML!="function")throw F1('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Le.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw F1('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');oe=Le.TRUSTED_TYPES_POLICY,de=oe.createHTML("")}else oe===void 0&&(oe=function(Lo,wo){if(typeof Lo!="object"||typeof Lo.createPolicy!="function")return null;let Os=null;const cr="data-tt-policy-suffix";wo&&wo.hasAttribute(cr)&&(Os=wo.getAttribute(cr));const ys="dompurify"+(Os?"#"+Os:"");try{return Lo.createPolicy(ys,{createHTML:Ri=>Ri,createScriptURL:Ri=>Ri})}catch{return console.warn("TrustedTypes policy "+ys+" could not be created."),null}}(L,m)),oe!==null&&typeof de=="string"&&(de=oe.createHTML(""));uc&&uc(Le),Wb=Le}},Q8=ps({},[...m4,..._w,...KR]),So=ps({},[...f4,...p4]),bd=function(Le){L1(a.removed,{element:Le});try{te(Le).removeChild(Le)}catch{X(Le)}},qb=function(Le,Lo){try{L1(a.removed,{attribute:Lo.getAttributeNode(Le),from:Lo})}catch{L1(a.removed,{attribute:null,from:Lo})}if(Lo.removeAttribute(Le),Le==="is")if(Yp||Zb)try{bd(Lo)}catch{}else try{Lo.setAttribute(Le,"")}catch{}},iE=function(Le){let Lo=null,wo=null;if(Ub)Le="<remove></remove>"+Le;else{const ys=d4(Le,/^[\r\n\t ]+/);wo=ys&&ys[0]}g2==="application/xhtml+xml"&&jb===Uu&&(Le='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Le+"</body></html>");const Os=oe?oe.createHTML(Le):Le;if(jb===Uu)try{Lo=new B().parseFromString(Os,g2)}catch{}if(!Lo||!Lo.documentElement){Lo=he.createDocument(jb,"template",null);try{Lo.documentElement.innerHTML=nE?de:Os}catch{}}const cr=Lo.body||Lo.documentElement;return Le&&wo&&cr.insertBefore(l.createTextNode(wo),cr.childNodes[0]||null),jb===Uu?tt.call(Lo,Ff?"html":"body")[0]:Ff?Lo.documentElement:cr},lE=function(Le){return ke.call(Le.ownerDocument||Le,Le,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT|E.SHOW_PROCESSING_INSTRUCTION|E.SHOW_CDATA_SECTION,null)},QC=function(Le){return Le instanceof T&&(typeof Le.nodeName!="string"||typeof Le.textContent!="string"||typeof Le.removeChild!="function"||!(Le.attributes instanceof C)||typeof Le.removeAttribute!="function"||typeof Le.setAttribute!="function"||typeof Le.namespaceURI!="string"||typeof Le.insertBefore!="function"||typeof Le.hasChildNodes!="function")},J8=function(Le){return typeof x=="function"&&Le instanceof x};function zf(Le,Lo,wo){Cw(Le,Os=>{Os.call(a,Lo,wo,Wb)})}const e7=function(Le){let Lo=null;if(zf(st.beforeSanitizeElements,Le,null),QC(Le))return bd(Le),!0;const wo=Qi(Le.nodeName);if(zf(st.uponSanitizeElement,Le,{tagName:wo,allowedTags:ro}),Le.hasChildNodes()&&!J8(Le.firstElementChild)&&Ic(/<[/\w]/g,Le.innerHTML)&&Ic(/<[/\w]/g,Le.textContent)||Le.nodeType===7||Kp&&Le.nodeType===8&&Ic(/<[/\w]/g,Le.data))return bd(Le),!0;if(!ro[wo]||Xr[wo]){if(!Xr[wo]&&o7(wo)&&(Gn.tagNameCheck instanceof RegExp&&Ic(Gn.tagNameCheck,wo)||Gn.tagNameCheck instanceof Function&&Gn.tagNameCheck(wo)))return!1;if(n0&&!_n[wo]){const Os=te(Le)||Le.parentNode,cr=U(Le)||Le.childNodes;if(cr&&Os)for(let ys=cr.length-1;ys>=0;--ys){const Ri=W(cr[ys],!0);Ri.__removalCount=(Le.__removalCount||0)+1,Os.insertBefore(Ri,$(Le))}}return bd(Le),!0}return Le instanceof w&&!function(Os){let cr=te(Os);cr&&cr.tagName||(cr={namespaceURI:jb,tagName:"template"});const ys=oh(Os.tagName),Ri=oh(cr.tagName);return!!sE[Os.namespaceURI]&&(Os.namespaceURI===f2?cr.namespaceURI===Uu?ys==="svg":cr.namespaceURI===m2?ys==="svg"&&(Ri==="annotation-xml"||p2[Ri]):!!Q8[ys]:Os.namespaceURI===m2?cr.namespaceURI===Uu?ys==="math":cr.namespaceURI===f2?ys==="math"&&XC[Ri]:!!So[ys]:Os.namespaceURI===Uu?!(cr.namespaceURI===f2&&!XC[Ri])&&!(cr.namespaceURI===m2&&!p2[Ri])&&!So[ys]&&(nI[ys]||!Q8[ys]):!(g2!=="application/xhtml+xml"||!sE[Os.namespaceURI]))}(Le)?(bd(Le),!0):wo!=="noscript"&&wo!=="noembed"&&wo!=="noframes"||!Ic(/<\/no(script|embed|frames)/i,Le.innerHTML)?(vh&&Le.nodeType===3&&(Lo=Le.textContent,Cw([vt,Qt,no],Os=>{Lo=pb(Lo,Os," ")}),Le.textContent!==Lo&&(L1(a.removed,{element:Le.cloneNode()}),Le.textContent=Lo)),zf(st.afterSanitizeElements,Le,null),!1):(bd(Le),!0)},t7=function(Le,Lo,wo){if(d2&&(Lo==="id"||Lo==="name")&&(wo in l||wo in sI))return!1;if(!(Gp&&!_a[Lo]&&Ic(po,Lo))){if(!(xh&&Ic($o,Lo))){if(!Hn[Lo]||_a[Lo]){if(!(o7(Le)&&(Gn.tagNameCheck instanceof RegExp&&Ic(Gn.tagNameCheck,Le)||Gn.tagNameCheck instanceof Function&&Gn.tagNameCheck(Le))&&(Gn.attributeNameCheck instanceof RegExp&&Ic(Gn.attributeNameCheck,Lo)||Gn.attributeNameCheck instanceof Function&&Gn.attributeNameCheck(Lo))||Lo==="is"&&Gn.allowCustomizedBuiltInElements&&(Gn.tagNameCheck instanceof RegExp&&Ic(Gn.tagNameCheck,wo)||Gn.tagNameCheck instanceof Function&&Gn.tagNameCheck(wo))))return!1}else if(!tE[Lo]){if(!Ic(nn,pb(wo,Ms,""))){if((Lo!=="src"&&Lo!=="xlink:href"&&Lo!=="href"||Le==="script"||WR(wo,"data:")!==0||!zm[Le])&&!(YC&&!Ic(gs,pb(wo,Ms,"")))){if(wo)return!1}}}}}return!0},o7=function(Le){return Le!=="annotation-xml"&&d4(Le,Nn)},cE=function(Le){zf(st.beforeSanitizeAttributes,Le,null);const{attributes:Lo}=Le;if(!Lo||QC(Le))return;const wo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Hn,forceKeepAttr:void 0};let Os=Lo.length;for(;Os--;){const cr=Lo[Os],{name:ys,namespaceURI:Ri,value:Jp}=cr,Hf=Qi(ys);let Ji=ys==="value"?Jp:qR(Jp);const rI=Ji;if(wo.attrName=Hf,wo.attrValue=Ji,wo.keepAttr=!0,wo.forceKeepAttr=void 0,zf(st.uponSanitizeAttribute,Le,wo),Ji=wo.attrValue,!u2||Hf!=="id"&&Hf!=="name"||(qb(ys,Le),Ji="user-content-"+Ji),Kp&&Ic(/((--!?|])>)|<\/(style|title)/i,Ji)){qb(ys,Le);continue}if(wo.forceKeepAttr)continue;if(!wo.keepAttr){qb(ys,Le);continue}if(!c2&&Ic(/\/>/i,Ji)){qb(ys,Le);continue}vh&&Cw([vt,Qt,no],s7=>{Ji=pb(Ji,s7," ")});const h2=Qi(Le.nodeName);if(t7(h2,Hf,Ji)){if(oe&&typeof L=="object"&&typeof L.getAttributeType=="function"&&!Ri)switch(L.getAttributeType(h2,Hf)){case"TrustedHTML":Ji=oe.createHTML(Ji);break;case"TrustedScriptURL":Ji=oe.createScriptURL(Ji)}if(Ji!==rI)try{Ri?Le.setAttributeNS(Ri,ys,Ji):Le.setAttribute(ys,Ji),QC(Le)?bd(Le):OT(a.removed)}catch{}}else qb(ys,Le)}zf(st.afterSanitizeAttributes,Le,null)},n7=function Le(Lo){let wo=null;const Os=lE(Lo);for(zf(st.beforeSanitizeShadowDOM,Lo,null);wo=Os.nextNode();)zf(st.uponSanitizeShadowNode,wo,null),e7(wo),cE(wo),wo.content instanceof p&&Le(wo.content);zf(st.afterSanitizeShadowDOM,Lo,null)};return a.sanitize=function(Le){let Lo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},wo=null,Os=null,cr=null,ys=null;if(nE=!Le,nE&&(Le="<!-->"),typeof Le!="string"&&!J8(Le)){if(typeof Le.toString!="function")throw F1("toString is not a function");if(typeof(Le=Le.toString())!="string")throw F1("dirty is not a string, aborting")}if(!a.isSupported)return Le;if($b||aE(Lo),a.removed=[],typeof Le=="string"&&(yh=!1),yh){if(Le.nodeName){const Hf=Qi(Le.nodeName);if(!ro[Hf]||Xr[Hf])throw F1("root node is forbidden and cannot be sanitized in-place")}}else if(Le instanceof x)wo=iE("<!---->"),Os=wo.ownerDocument.importNode(Le,!0),Os.nodeType===1&&Os.nodeName==="BODY"||Os.nodeName==="HTML"?wo=Os:wo.appendChild(Os);else{if(!Yp&&!vh&&!Ff&&Le.indexOf("<")===-1)return oe&&o0?oe.createHTML(Le):Le;if(wo=iE(Le),!wo)return Yp?null:o0?de:""}wo&&Ub&&bd(wo.firstChild);const Ri=lE(yh?Le:wo);for(;cr=Ri.nextNode();)e7(cr),cE(cr),cr.content instanceof p&&n7(cr.content);if(yh)return Le;if(Yp){if(Zb)for(ys=Ve.call(wo.ownerDocument);wo.firstChild;)ys.appendChild(wo.firstChild);else ys=wo;return(Hn.shadowroot||Hn.shadowrootmode)&&(ys=Je.call(d,ys,!0)),ys}let Jp=Ff?wo.outerHTML:wo.innerHTML;return Ff&&ro["!doctype"]&&wo.ownerDocument&&wo.ownerDocument.doctype&&wo.ownerDocument.doctype.name&&Ic(MT,wo.ownerDocument.doctype.name)&&(Jp="<!DOCTYPE "+wo.ownerDocument.doctype.name+`>
`+Jp),vh&&Cw([vt,Qt,no],Hf=>{Jp=pb(Jp,Hf," ")}),oe&&o0?oe.createHTML(Jp):Jp},a.setConfig=function(){aE(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),$b=!0},a.clearConfig=function(){Wb=null,$b=!1},a.isValidAttribute=function(Le,Lo,wo){Wb||aE({});const Os=Qi(Le),cr=Qi(Lo);return t7(Os,cr,wo)},a.addHook=function(Le,Lo){typeof Lo=="function"&&L1(st[Le],Lo)},a.removeHook=function(Le,Lo){if(Lo!==void 0){const wo=ZR(st[Le],Lo);return wo===-1?void 0:jR(st[Le],wo,1)[0]}return OT(st[Le])},a.removeHooks=function(Le){st[Le]=[]},a.removeAllHooks=function(){st={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},a}();const PT=o=>nM().sanitize(o);var fd=tinymce.util.Tools.resolve("tinymce.util.I18n");const sM={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},IT="temporary-placeholder",Av=o=>()=>Kt(o,IT).getOr("!not found!"),Vp=(o,r)=>{const a=o.toLowerCase();if(fd.isRtl()){const l=((d,m)=>Si(d,m)?d:((p,b)=>p+b)(d,m))(a,"-rtl");return jo(r,l)?l:a}return a},LT=(o,r)=>Kt(r,Vp(o,r)),FT=(o,r)=>{const a=r();return LT(o,a).getOrThunk(Av(a))},Tw=()=>vo("add-focusable",[ts(o=>{Jc(o.element,"svg").each(r=>bo(r,"focusable","false"))})]),x4=(o,r,a,l)=>{var d,m;const p=(x=>!!fd.isRtl()&&jo(sM,x))(r)?["tox-icon--flip"]:[],b=Kt(a,Vp(r,a)).or(l).getOrThunk(Av(a));return{dom:{tag:o.tag,attributes:(d=o.attributes)!==null&&d!==void 0?d:{},classes:o.classes.concat(p),innerHtml:b},behaviours:pt([...(m=o.behaviours)!==null&&m!==void 0?m:[],Tw()])}},pd=(o,r,a,l=A.none())=>x4(r,o,a(),l),rM={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Dw=dd({name:"Notification",factory:o=>{const r=Me("notification-text"),a=Fn({dom:Wd(`<p id=${r}>${PT(o.backstageProvider.translate(o.text))}</p>`),behaviours:pt([Do.config({})])}),l=C=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${C}%`}}}),d=C=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${C}%`}}),m=Fn({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},d(0)],behaviours:pt([Do.config({})])}),p={updateProgress:(C,T)=>{C.getSystem().isConnected()&&m.getOpt(C).each(B=>{Do.set(B,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(T)]},d(T)])})},updateText:(C,T)=>{if(C.getSystem().isConnected()){const B=a.get(C);Do.set(B,[$s(T)])}}},b=Ps([o.icon.toArray(),[o.level],A.from(rM[o.level]).toArray()]),x=Fn(ua.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":o.backstageProvider.translate("Close")}},components:[pd("close",{tag:"span",classes:["tox-icon"]},o.iconProvider)],buttonBehaviours:pt([fs.config({}),Rs.config({...o.backstageProvider.tooltips.getConfig({tooltipText:o.backstageProvider.translate("Close")})})]),action:C=>{o.onAction(C)}})),w=((C,T,B)=>{const L=B(),Y=z(C,W=>jo(L,Vp(W,L)));return x4({tag:"div",classes:["tox-notification__icon"]},Y.getOr(IT),L,A.none())})(b,0,o.iconProvider),E=[w,{dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:pt([Do.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":r},classes:["tox-notification","tox-notification--in",`tox-notification--${o.level}`]},behaviours:pt([fs.config({}),mo.config({}),Bt.config({mode:"special",onEscape:C=>(o.onAction(C),A.some(!0))})]),components:E.concat(o.progress?[m.asSpec()]:[]).concat([x.asSpec()]),apis:p}},configFields:[od("level","info",["success","error","warning","warn","info"]),ct("progress"),Sn("icon"),ct("onAction"),ct("text"),ct("iconProvider"),ct("backstageProvider")],apis:{updateProgress:(o,r,a)=>{o.updateProgress(r,a)},updateText:(o,r,a)=>{o.updateText(r,a)}}});var aM=(o,r,a,l)=>{const d=r.backstage.shared,m=()=>Ft(o.queryCommandValue("ToggleView")===""?o.getContentAreaContainer():o.getContainer()),p=()=>{const x=Js(m());return A.some(x)},b=x=>{p().each(w=>{ht(x,E=>{un(E.element,"width"),$a(E.element)>w.width&&To(E.element,"width",w.width+"px")})})};return{open:(x,w,E)=>{const C=()=>{l.on(L=>{w();const Y=E();(W=>{Do.remove(W,T),B()})(L),((W,X)=>{Nr(W.element).length===0?(($,U)=>{Qs.hide($),l.clear(),U&&o.focus()})(W,X):(($,U)=>{U&&Bt.focusIn($)})(W,X)})(L,Y)})},T=Gi(Dw.sketch({text:x.text,level:St(["success","error","warning","warn","info"],x.type)?x.type:void 0,progress:x.progressBar===!0,icon:x.icon,onAction:C,iconProvider:d.providers.icons,backstageProvider:d.providers}));if(l.isSet()){const L=cd(T);l.on(Y=>{Do.append(Y,L),Qs.reposition(Y),T.hasConfigured(Xs)&&Xs.refresh(Y),b(Y.components())})}else{const L=Gi(Qs.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:d.getSink,fireDismissalEventInstead:{},...d.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pt([Bt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Do.config({}),...Yd(o)&&d.header.isPositionedAtTop()?[]:[Xs.config({contextual:{lazyContext:()=>A.some(Js(m())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:$=>Mm(o,$.element).map(U=>({bounds:th(U),optScrollEnv:A.some({currentScrollTop:U.element.dom.scrollTop,scrollElmTop:pr(U.element).top})})).getOrThunk(()=>({bounds:Na(),optScrollEnv:A.none()}))})]])})),Y=cd(T),W={maxHeightFunction:gm()},X={...d.anchors.banner(),overrides:W};l.set(L),a.add(L),Qs.showWithinBounds(L,Y,{anchor:X},p)}Tt(x.timeout)&&x.timeout>0&&cb.setEditorTimeout(o,()=>{C()},x.timeout);const B=()=>{l.on(L=>{Qs.reposition(L),L.hasConfigured(Xs)&&Xs.refresh(L),b(L.components())})};return{close:C,reposition:B,text:L=>{Dw.updateText(T,L)},settings:x,getEl:()=>T.element.dom,progressBar:{value:L=>{Dw.updateProgress(T,L)}}}},close:x=>{x.close()},getArgs:x=>x.settings}},Ow;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Ow||(Ow={}));var Jd=Ow;const Tv="tox-menu-nav__js",Nw="tox-collection__item",v4="tox-swatch",iM={normal:Tv,color:v4},z1="tox-collection__item--enabled",zT="tox-collection__item-icon",y4="tox-collection__item-label",Rw="tox-collection__item-caret",$p="tox-collection__item--active",HT="tox-collection__item-container",Mw="tox-collection__item-container--row",VT=o=>Kt(iM,o).getOr(Tv),lM=o=>o==="color"?"tox-swatches":"tox-menu",Dv=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:lM(o),tieredMenu:"tox-tiered-menu"}),sh=o=>{const r=Dv(o);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:VT(o)}},cM=(o,r,a)=>{const l=Dv(a);return{tag:"div",classes:Ps([[l.menu,`tox-menu-${r}-column`],o?[l.hasIcons]:[]])}},dM=[Af.parts.items({})],Bw=(o,r,a)=>{const l=Dv(a);return{dom:{tag:"div",classes:Ps([[l.tieredMenu]])},markers:sh(a)}},$T=Me("refetch-trigger-event"),UT=Me("redirect-menu-item-interaction"),ZT="tox-menu__searcher",Pw=o=>On(o.element,`.${ZT}`).bind(r=>o.getSystem().getByDom(r).toOptional()),jT=Pw,WT=o=>({fetchPattern:zt.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),uM=o=>{const r=(d,m)=>(m.cut(),A.none()),a=(d,m)=>{const p={interactionEvent:m.event,eventType:m.event.raw.type};return oo(d,UT,p),A.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[Nw]},components:[Ip.sketch({inputClasses:[ZT,"tox-textfield"],inputAttributes:{...o.placeholder.map(d=>({placeholder:o.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:pt([vo(l,[et(im(),d=>{Qo(d,$T)}),et(Id(),(d,m)=>{m.event.raw.key==="Escape"&&m.stop()})]),Bt.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[l,Bt.name()]}})]}},Iw="tox-collection--results__js",Lw=o=>{var r;return o.dom?{...o,dom:{...o.dom,attributes:{...(r=o.dom.attributes)!==null&&r!==void 0?r:{},id:Me("aria-item-search-result-id"),"aria-selected":"false"}}}:o},Fw=(o,r)=>a=>{const l=je(a,r);return Ae(l,d=>({dom:o,components:d}))},qT=(o,r)=>{const a=[];let l=[];return ht(o,(d,m)=>{r(d,m)?(l.length>0&&a.push(l),l=[],(jo(d.dom,"innerHtml")||d.components&&d.components.length>0)&&l.push(d)):l.push(d)}),l.length>0&&a.push(l),Ae(a,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},w4=(o,r,a)=>Af.parts.items({preprocess:l=>{const d=Ae(l,a);return o!=="auto"&&o>1?Fw({tag:"div",classes:["tox-collection__group"]},o)(d):qT(d,(m,p)=>r[p].type==="separator")}}),C4=(o,r,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[w4(o,r,kt)]}),Ov=o=>Tn(o,r=>"icon"in r&&r.icon!==void 0),Pm=o=>(console.error(sf(o)),console.log(o),A.none()),mM=(o,r,a,l,d)=>{const m=(p=a,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Af.parts.items({preprocess:b=>qT(b,(x,w)=>p[w].type==="separator")})]});var p;return{value:o,dom:m.dom,components:m.components,items:a}},_4=(o,r,a,l,d)=>{if(d.menuType==="color"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Af.parts.items({preprocess:p!=="auto"?Fw({tag:"div",classes:["tox-swatches__row"]},p):kt})]}]}))(l);return{value:o,dom:m.dom,components:m.components,items:a}}if(d.menuType==="imageselector"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Af.parts.items({preprocess:p!=="auto"?Fw({tag:"div",classes:["tox-image-selector__row"]},p):kt})]}]}))(l);return{value:o,dom:m.dom,components:m.components,items:a}}if(d.menuType==="normal"&&l==="auto"){const m=C4(l,a);return{value:o,dom:m.dom,components:m.components,items:a}}if(d.menuType==="normal"||d.menuType==="searchable"){const m=d.menuType!=="searchable"?C4(l,a):d.searchMode.searchMode==="search-with-field"?((p,b,x)=>{const w=Me("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[uM({i18n:fd.translate,placeholder:x.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],Iw],attributes:{id:w}},components:[w4(p,b,Lw)]}]}})(l,a,d.searchMode):((p,b)=>{const x=Me("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Iw].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:x}},components:[w4(p,b,Lw)]}})(l,a);return{value:o,dom:m.dom,components:m.components,items:a}}if(d.menuType==="listpreview"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Af.parts.items({preprocess:Fw({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:o,dom:m.dom,components:m.components,items:a}}return{value:o,dom:cM(r,l,d.menuType),components:dM,items:a}},Sr=Cr("type"),k4=Cr("name"),gb=Cr("label"),Up=Cr("text"),GT=Cr("title"),S4=Cr("icon"),fM=Cr("url"),hb=Cr("value"),pM=Hi("fetch"),gM=Hi("getSubmenuItems"),bb=Hi("onAction"),hM=Hi("onItemAction"),H1=mn("onSetup",()=>xe),bM=tr("name"),rh=tr("text"),xM=tr("role"),gd=tr("icon"),V1=tr("tooltip"),Nv=tr("label"),E4=tr("shortcut"),zw=Ra("select"),xb=Ua("active",!1),A4=Ua("borderless",!1),zu=Ua("enabled",!0),Hw=Ua("primary",!1),KT=o=>Ie("columns",o),Rv=Ie("meta",{}),Vw=mn("onAction",xe),Zp=o=>_s("type",o),vb=o=>lr("name","name",gg(()=>Me(`${o}-name`)),Mr),YT=[Sr,Up,zi("level",["info","warn","error","success"]),S4,Ie("url","")],Of=xo(YT),T4=[Sr,Up,zu,vb("button"),gd,A4,l0("buttonType",["primary","secondary","toolbar"]),Hw,_s("context","mode:design")],vM=xo(T4),yb=[Sr,k4],Im=yb.concat([Nv]),yM=yb.concat([gb,zu,_s("context","mode:design")]),Mv=xo(yM),wM=pu,XT=Im.concat([KT("auto"),_s("context","mode:design")]),D4=xo(XT),CM=i0([hb,Up,S4]),O4=Im.concat([_s("storageKey","default"),_s("context","mode:design")]),N4=xo(O4),_M=Mr,QT=xo(Im),JT=Mr,kM=yb.concat([_s("tag","textarea"),Cr("scriptId"),Cr("scriptUrl"),Ra("onFocus"),ti("settings",void 0,Mh)]),e6=yb.concat([_s("tag","textarea"),Hi("init")]),t6=ap(o=>Hs("customeditor.old",rc(e6),o).orThunk(()=>Hs("customeditor.new",rc(kM),o))),SM=Mr,ah=[zu,rh,xM,E4,lr("value","value",gg(()=>Me("menuitem-value")),Ns()),Rv,_s("context","mode:design")],EM=xo([Sr,k4].concat(ah)),AM=pu,R4=[vb("button"),gd,od("align","end",["start","end"]),Hw,zu,l0("buttonType",["primary","secondary"]),_s("context","mode:design")],M4=[...R4,Up],$w=[zi("type",["submit","cancel","custom"]),...M4],TM=[zi("type",["menu"]),rh,V1,gd,fi("items",EM),...R4],o6=[...R4,zi("type",["togglebutton"]),V1,gd,rh,Ua("active",!1)],Bv=Fi("type",{submit:$w,cancel:$w,custom:$w,menu:TM,togglebutton:o6}),n6=Im.concat([_s("context","mode:design")]),DM=xo(n6),OM=Pd(al),s6=o=>[Sr,gu("columns"),o],NM=[Sr,Cr("html"),od("presets","presentation",["presentation","document"]),mn("onInit",xe),Ua("stretched",!1)],RM=xo(NM),r6=Im.concat([Ua("border",!1),Ua("sandboxed",!0),Ua("streamContent",!1),Ua("transparent",!0)]),a6=xo(r6),i6=Mr,l6=xo(yb.concat([tr("height")])),MM=xo([Cr("url"),Zr("zoom"),Zr("cachedWidth"),Zr("cachedHeight")]),BM=Im.concat([tr("inputMode"),tr("placeholder"),Ua("maximized",!1),zu,_s("context","mode:design")]),c6=xo(BM),B4=Mr,P4=o=>[Sr,gb,o,od("align","start",["start","center","end"]),tr("for")],d6=[Up,hb],u6=[Up,fi("items",vg(0,()=>I4))],I4=bg([xo(d6),xo(u6)]),PM=Im.concat([fi("items",I4),zu,_s("context","mode:design")]),L4=xo(PM),IM=Mr,m6=Im.concat([ip("items",[Up,hb]),rf("size",1),zu,_s("context","mode:design")]),f6=xo(m6),$1=Mr,LM=Im.concat([Ua("constrain",!0),zu,_s("context","mode:design")]),F4=xo(LM),Pv=xo([Cr("width"),Cr("height")]),FM=yb.concat([gb,rf("min",0),rf("max",0)]),p6=xo(FM),g6=r0,h6=[Sr,fi("header",Mr),fi("cells",Pd(Mr))],z4=xo(h6),b6=Im.concat([tr("placeholder"),Ua("maximized",!1),zu,_s("context","mode:design")]),zM=xo(b6),x6=Mr,v6=[_s("buttonType","default"),tr("text"),tr("tooltip"),tr("icon"),ti("search",!1,bg([pu,xo([tr("placeholder")])],o=>Ct(o)?o?A.some({placeholder:A.none()}):A.none():A.some(o))),Hi("fetch"),mn("onSetup",()=>xe),_s("context","mode:design")],H4=xo([Sr,...v6]),V4=o=>Hs("menubutton",H4,o),y6=[zi("type",["directory","leaf"]),GT,Cr("id"),Vi("menu",H4),tr("customStateIcon"),tr("customStateIconTooltip")],$4=xo(y6),HM=y6.concat([fi("children",vg(0,()=>nf("type",{directory:w6,leaf:$4})))]),w6=xo(HM),VM=nf("type",{directory:w6,leaf:$4}),$M=[Sr,fi("items",VM),Ra("onLeafAction"),Ra("onToggleExpand"),bu("defaultExpandedIds",[],Mr),tr("defaultSelectedId")],C6=xo($M),Iv=Im.concat([od("filetype","file",["image","media","file"]),zu,tr("picker_text"),_s("context","mode:design")]),_6=xo(Iv),UM=xo([hb,Rv]),U4=o=>lr("items","items",{tag:"required",process:{}},Pd(ap(r=>Hs(`Checking item of ${o}`,Z4,r).fold(a=>Fo.error(sf(a)),a=>Fo.value(a))))),Z4=nx(()=>{return nf("type",{alertbanner:Of,bar:xo((o=U4("bar"),[Sr,o])),button:vM,checkbox:Mv,colorinput:N4,colorpicker:QT,dropzone:DM,grid:xo(s6(U4("grid"))),iframe:a6,input:c6,listbox:L4,selectbox:f6,sizeinput:F4,slider:p6,textarea:zM,urlinput:_6,customeditor:t6,htmlpanel:RM,imagepreview:l6,collection:D4,label:xo(P4(U4("label"))),table:z4,tree:C6,panel:k6});var o}),ZM=[Sr,Ie("classes",[]),fi("items",Z4)],k6=xo(ZM),Uw=[vb("tab"),GT,fi("items",Z4)],jM=[Sr,ip("tabs",Uw)],S6=xo(jM),WM=M4,E6=Bv,A6=xo([Cr("title"),il("body",nf("type",{panel:k6,tabpanel:S6})),_s("size","normal"),bu("buttons",[],E6),Ie("initialData",{}),mn("onAction",xe),mn("onChange",xe),mn("onSubmit",xe),mn("onClose",xe),mn("onCancel",xe),mn("onTabChange",xe)]),qM=xo([zi("type",["cancel","custom"]),...WM]),T6=xo([Cr("title"),Cr("url"),Zr("height"),Zr("width"),lp("buttons",qM),mn("onAction",xe),mn("onCancel",xe),mn("onClose",xe),mn("onMessage",xe)]),Zw=o=>Ee(o)?[o].concat(Uo(nr(o),Zw)):Ze(o)?Uo(o,Zw):[],D6=o=>Se(o.type)&&Se(o.name),O6={checkbox:wM,colorinput:_M,colorpicker:JT,dropzone:OM,input:B4,iframe:i6,imagepreview:MM,selectbox:$1,sizeinput:Pv,slider:g6,listbox:IM,size:Pv,textarea:x6,urlinput:UM,customeditor:SM,collection:CM,togglemenuitem:AM},GM=o=>{const r=(l=>Oo(Zw(l),D6))(o),a=Uo(r,l=>(d=>A.from(O6[d.type]))(l).fold(()=>[],d=>[il(l.name,d)]));return xo(a)},N6=o=>{var r;return{internalDialog:Ol(Hs("dialog",A6,o)),dataValidator:GM(o),initialData:(r=o.initialData)!==null&&r!==void 0?r:{}}},U1={open:(o,r)=>{const a=N6(r);return o(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(o,r)=>o(Ol(Hs("dialog",T6,r))),redial:o=>N6(o)},R6=xo([Sr,rh]),M6=xo([Zp("autocompleteitem"),xb,zu,Rv,hb,rh,gd]),Z1=[zu,V1,gd,rh,H1,_s("context","mode:design")],KM=xo([Sr,bb,E4].concat(Z1)),j4=o=>Hs("toolbarbutton",KM,o),W4=[xb].concat(Z1),YM=xo(W4.concat([Sr,bb,E4])),B6=o=>Hs("ToggleButton",YM,o),jw=[mn("predicate",Ke),od("scope","node",["node","editor"]),od("position","selection",["node","selection","line"])],XM=Z1.concat([Zp("contextformbutton"),_s("align","end"),Hw,bb,Ur("original",kt)]),QM=W4.concat([Zp("contextformbutton"),_s("align","end"),Hw,bb,Ur("original",kt)]),q4=Z1.concat([Zp("contextformbutton")]),P6=W4.concat([Zp("contextformtogglebutton")]),G4=[Nv,fi("commands",Fi("type",{contextformbutton:XM,contextformtogglebutton:QM})),Vi("launch",Fi("type",{contextformbutton:q4,contextformtogglebutton:P6})),mn("onInput",xe),mn("onSetup",xe)],JM=[...jw,...G4,zi("type",["contextform"]),mn("initValue",ne("")),tr("placeholder")],I6=[...jw,...G4,zi("type",["contextsliderform"]),mn("initValue",ne(0)),mn("min",ne(0)),mn("max",ne(100))],eB=[...jw,...G4,zi("type",["contextsizeinputform"]),mn("initValue",ne({width:"",height:""}))],tB=Fi("type",{contextform:JM,contextsliderform:I6,contextsizeinputform:eB}),L6=Z1.concat([Zp("contexttoolbarbutton")]),F6=xo([Zp("contexttoolbar"),ll("launch",L6),il("items",bg([Mr,i0([tr("name"),tr("label"),fi("items",Mr)])]))].concat(jw)),z6=o=>({name:o.name.getOrUndefined(),label:o.label.getOrUndefined(),items:o.items}),oB=[Sr,Cr("src"),tr("alt"),bu("classes",[],Mr)],nB=xo(oB),sB=[Sr,Up,bM,bu("classes",["tox-collection__item-label"],Mr)],H6=xo(sB),Ww=nx(()=>nf("type",{cardimage:nB,cardtext:H6,cardcontainer:rB})),rB=xo([Sr,_s("direction","horizontal"),_s("align","left"),_s("valign","middle"),fi("items",Ww)]),aB=xo([Sr,Nv,fi("items",Ww),H1,Vw].concat(ah)),iB=xo([Sr,xb,gd,Nv].concat(ah)),K4=[Sr,Cr("fancytype"),Vw],lB=[Ie("initData",{})].concat(K4),cB=[Ra("select"),c0("initData",{},[Ua("allowCustomColors",!0),_s("storageKey","default"),lp("colors",Ns())])].concat(K4),V6=[Ra("select"),hu("initData",[gu("columns"),bu("items",[],Ns())])].concat(K4),$6=Fi("fancytype",{inserttable:lB,colorswatch:cB,imageselect:V6}),dB=xo([Sr,xb,fM,Nv,V1].concat(ah)),uB=xo([Sr,xb,S4,gb,V1,hb].concat(ah)),mB=xo([Sr,H1,Vw,gd].concat(ah)),Lc=xo([Sr,gM,H1,gd].concat(ah)),Hu=xo([Sr,gd,xb,H1,bb].concat(ah)),U6=xo([gd,V1,mn("onShow",xe),mn("onHide",xe),H1]),Y4=xo([Sr,il("items",bg([i0([k4,fi("items",Mr)]),Mr]))].concat(Z1)),X4=xo([Sr,V1,gd,rh,zw,pM,H1,od("presets","normal",["normal","color","listpreview"]),KT(1),bb,hM,_s("context","mode:design")]),Lv=[rh,gd,tr("tooltip"),od("buttonType","secondary",["primary","secondary"]),Ua("borderless",!1),Hi("onAction"),_s("context","mode:design")],Z6={button:[...Lv,Up,zi("type",["button"])],togglebutton:[...Lv,Ua("active",!1),zi("type",["togglebutton"])]},j6=[zi("type",["group"]),bu("buttons",[],Fi("type",Z6))],Fv=Fi("type",{...Z6,group:j6}),fB=xo([bu("buttons",[],Fv),Hi("onShow"),Hi("onHide")]),wb=(o,r,a)=>{const l=ca(o.element,"."+a);if(l.length>0){const d=ur(l,m=>{const p=m.dom.getBoundingClientRect().top,b=l[0].dom.getBoundingClientRect().top;return Math.abs(p-b)>r}).getOr(l.length);return A.some({numColumns:d,numRows:Math.ceil(l.length/d)})}return A.none()},j1=o=>((r,a)=>pt([vo(r,a)]))(Me("unnamed-events"),o),Q4=o=>eo.config({disabled:o,disableClass:"tox-collection__item--state-disabled"}),jp=o=>eo.config({disabled:o}),W6=o=>eo.config({disabled:o,disableClass:"tox-tbtn--disabled"}),qw=o=>eo.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),Fc=(o,r)=>{const a=o.getApi(r);return l=>{l(a)}},wa=(o,r)=>ts(a=>{gt(o.onBeforeSetup)&&o.onBeforeSetup(a),Fc(o,a)(l=>{const d=o.onSetup(l);gt(d)&&r.set(d)})}),Vu=(o,r)=>ad(a=>Fc(o,a)(r.get())),Zl=(o,r,a)=>ad(l=>(a.set(zt.getValue(l)),Fc(o,l)(r.get()))),q6="silver.uistate",ns="setDisabled",G6="init",W1=["switchmode",G6],Wp=(o,r)=>{const a=o.mainUi.outerContainer,l=[o.mainUi.mothership,...o.uiMotherships];r===ns&&ht(l,d=>{d.broadcastOn([Tm()],{target:a.element})}),ht(l,d=>{d.broadcastOn([q6],r)})},J4=(o,r)=>{o.on("init SwitchMode",a=>{Wp(r,a.type)}),o.on("DisabledStateChange",a=>{if(!a.isDefaultPrevented()){const l=a.state?ns:G6;Wp(r,l),a.state||o.nodeChanged()}}),o.on("NodeChange",a=>{const l=o.ui.isEnabled()?a.type:ns;Wp(r,l)}),Yk(o)&&o.mode.set("readonly")},hr=o=>Vl.config({channels:{[q6]:{onReceive:(r,a)=>{if(a===ns||a==="setEnabled")return void eo.set(r,a===ns);const{contextType:l,shouldDisable:d}=o();(l!=="mode"||St(W1,a))&&eo.set(r,d)}}}}),e3=(o,r)=>Hd((a,l)=>{Fc(o,a)(o.onAction),o.triggersSubmenu||r!==Jd.CLOSE_ON_EXECUTE||(a.getSystem().isConnected()&&Qo(a,zh()),l.stop())}),pB={[dl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},ih=Wl,q1=(o,r,a,l)=>{const d=Vt(xe);return{type:"item",dom:r.dom,components:ih(r.optComponents),data:o.data,eventOrder:pB,hasSubmenu:o.triggersSubmenu,itemBehaviours:pt([vo("item-events",[e3(o,a),wa(o,d),Vu(o,d)]),Q4(()=>!o.enabled||l.checkUiComponentContext(o.context).shouldDisable),hr(()=>l.checkUiComponentContext(o.context)),Do.config({})].concat(o.itemBehaviours))}},lh=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),K6=(o,r)=>{var a,l;const d=Kl("div");return ls(d,"tox-image-selector-loading-spinner"),{dom:{tag:o.tag,attributes:(a=o.attributes)!==null&&a!==void 0?a:{},classes:o.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:r},classes:["tox-image-selector-image-img"]}}]},...o.checkMark.toArray()],behaviours:pt([...(l=o.behaviours)!==null&&l!==void 0?l:[],vo("render-image-events",[ts(m=>{var p;p=m.element,ls(p,"tox-image-selector-loading-spinner-wrapper"),Vo(p,d),On(m.element,"img").each(b=>{qm(b).catch(x=>{console.error(x)}).finally(()=>{(x=>{vs(x,"tox-image-selector-loading-spinner-wrapper"),Td(d)})(m.element)})})})])])}},zv=o=>{const r=db.os.isMacOS()||db.os.isiOS(),a=r?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=o.split("+"),d=Ae(l,m=>{const p=m.toLowerCase().trim();return jo(a,p)?a[p]:m});return r?d.join(""):d.join("+")},Gw=(o,r,a=[zT])=>pd(o,{tag:"div",classes:a},r),Hv=o=>({dom:{tag:"div",classes:[y4]},components:[$s(fd.translate(o))]}),Y6=(o,r)=>({dom:{tag:"div",classes:r,innerHtml:o}}),gB=(o,r)=>({dom:{tag:"div",classes:[y4]},components:[{dom:{tag:o.tag,styles:o.styles},components:[$s(fd.translate(r))]}]}),hB=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[$s(zv(o))]}),t3=o=>Gw("checkmark",o,["tox-collection__item-checkmark"]),o3=(o,r)=>{const a=o.map(l=>({attributes:{id:Me("menu-item"),"aria-label":fd.translate(l)}})).getOr({});return{tag:"div",classes:[Tv,Nw].concat(r),...a}},n3=o=>({dom:{tag:"label"},components:[$s(o)]}),Cb=(o,r,a,l=A.none())=>o.presets==="color"?((d,m,p)=>{const b=d.value,x=d.iconContent.map(E=>((C,T,B)=>{const L=T();return LT(C,L).or(B).getOrThunk(Av(L))})(E,m.icons,p)),w=d.ariaLabel.map(E=>({"aria-label":m.translate(E),"data-mce-name":E})).getOr({});return{dom:(()=>{const E=v4,C=x.getOr(""),T={tag:"div",attributes:w,classes:[E]};return b==="custom"?{...T,tag:"button",classes:[...T.classes,"tox-swatches__picker-btn"],innerHtml:C}:b==="remove"?{...T,classes:[...T.classes,"tox-swatch--remove"],innerHtml:C}:Ne(b)?{...T,attributes:{...T.attributes,"data-mce-color":b},styles:{"background-color":b},innerHtml:C}:T})(),optComponents:[]}})(o,r,l):o.presets==="img"?(d=>{var m,p;return{dom:o3(d.ariaLabel,["tox-collection__item-image-selector"]),optComponents:[A.some((m=d.iconContent.getOrDie(),p={tag:"div",classes:["tox-collection__item-image"],checkMark:d.checkMark},K6(p,m))),d.labelContent.map(n3)]}})(o):((d,m,p,b)=>{const x={tag:"div",classes:[zT]},w=p?d.iconContent.map(B=>pd(B,x,m.icons,b)).orThunk(()=>A.some({dom:x})):A.none(),E=d.checkMark,C=A.from(d.meta).fold(()=>Hv,B=>jo(B,"style")?hn(gB,B.style):Hv),T=d.htmlContent.fold(()=>d.textContent.map(C),B=>A.some(Y6(B,[y4])));return{dom:o3(d.ariaLabel,[]),optComponents:[w,T,d.shortcutContent.map(hB),E,d.caret,d.labelContent.map(n3)]}})(o,r,a,l),X6=(o,r,a)=>Kt(o,"tooltipWorker").map(l=>[Rs.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:gm}}),mode:"follow-highlight",onShow:(d,m)=>{l(p=>{Rs.setComponents(d,[GE({element:Ft(p)})])})}})]).getOrThunk(()=>a.map(l=>[Rs.config({...r.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),s3=(o,r)=>{const a=(l=>Jg.DOM.encode(l))(fd.translate(o));if(r.length>0){const l=new RegExp((d=>d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(r),"gi");return a.replace(l,d=>`<span class="tox-autocompleter-highlight">${d}</span>`)}return a},Q6=(o,r)=>Ae(o,a=>{switch(a.type){case"cardcontainer":return((m,p)=>{const b=m.direction==="vertical"?"tox-collection__item-container--column":Mw,x=m.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[HT,b,x,(()=>{switch(m.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(a,Q6(a.items,r));case"cardimage":return((m,p,b)=>({dom:{tag:"img",classes:p,attributes:{src:m,alt:b.getOr("")}}}))(a.src,a.classes,a.alt);case"cardtext":const l=a.name.exists(m=>St(r.cardText.highlightOn,m)),d=l?A.from(r.cardText.matchText).getOr(""):"";return Y6(s3(a.text,d),a.classes)}}),r3=(o,r,a,l,d,m,p,b=!0)=>{const x=Cb({presets:a,textContent:r?o.text:A.none(),htmlContent:A.none(),labelContent:o.label,ariaLabel:o.text,iconContent:o.icon,shortcutContent:r?o.shortcut:A.none(),checkMark:r?A.some(t3(p.icons)):A.none(),caret:A.none(),value:o.value},p,b),w=o.text.filter(ne(!r)).map(E=>Rs.config(p.tooltips.getConfig({tooltipText:p.translate(E)})));return Wo(q1({context:o.context,data:lh(o),enabled:o.enabled,getApi:E=>({setActive:C=>{Zo.set(E,C)},isActive:()=>Zo.isOn(E),isEnabled:()=>!eo.isDisabled(E),setEnabled:C=>eo.set(E,!C)}),onAction:E=>l(o.value),onSetup:E=>(E.setActive(d),xe),triggersSubmenu:!1,itemBehaviours:[...w.toArray()]},x,m,p),{toggling:{toggleClass:z1,toggleOnExecute:!1,selected:o.active,exclusive:!0}})},_b=o=>({value:i3(o)}),J6=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,eD=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,a3=o=>J6.test(o)||eD.test(o),i3=o=>Yn(o,"#").toUpperCase(),Vv=o=>{const r=o.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},kb=o=>{const r=Vv(o.red)+Vv(o.green)+Vv(o.blue);return _b(r)},$v=(o,r,a)=>({hue:o,saturation:r,value:a}),l3=o=>{let r=0,a=0,l=0;const d=o.red/255,m=o.green/255,p=o.blue/255,b=Math.min(d,Math.min(m,p)),x=Math.max(d,Math.max(m,p));return b===x?(l=b,$v(0,0,100*l)):(r=d===b?3:p===b?1:5,r=60*(r-(d===b?m-p:p===b?d-m:p-d)/(x-b)),a=(x-b)/x,l=x,$v(Math.round(r),Math.round(100*a),Math.round(100*l)))},tD=Math.min,oD=Math.max,Kw=Math.round,bB=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,nD=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,bl=(o,r,a,l)=>({red:o,green:r,blue:a,alpha:l}),c3=o=>{const r=parseInt(o,10);return r.toString()===o&&r>=0&&r<=255},Yw=o=>{let r,a,l;const d=(o.hue||0)%360;let m=o.saturation/100,p=o.value/100;if(m=oD(0,tD(m,1)),p=oD(0,tD(p,1)),m===0)return r=a=l=Kw(255*p),bl(r,a,l,1);const b=d/60,x=p*m,w=x*(1-Math.abs(b%2-1)),E=p-x;switch(Math.floor(b)){case 0:r=x,a=w,l=0;break;case 1:r=w,a=x,l=0;break;case 2:r=0,a=x,l=w;break;case 3:r=0,a=w,l=x;break;case 4:r=w,a=0,l=x;break;case 5:r=x,a=0,l=w;break;default:r=a=l=0}return r=Kw(255*(r+E)),a=Kw(255*(a+E)),l=Kw(255*(l+E)),bl(r,a,l,1)},Sb=o=>{const r=(m=>{const p=(x=>({value:x.value.replace(J6,(E,C,T,B)=>C+C+T+T+B+B)}))(m),b=eD.exec(p.value);return b===null?["FFFFFF","FF","FF","FF"]:b})(o),a=parseInt(r[1],16),l=parseInt(r[2],16),d=parseInt(r[3],16);return bl(a,l,d,1)},d3=(o,r,a,l)=>{const d=parseInt(o,10),m=parseInt(r,10),p=parseInt(a,10),b=parseFloat(l);return bl(d,m,p,b)},u3=o=>{const r=bB.exec(o);if(r!==null)return A.some(d3(r[1],r[2],r[3],"1"));const a=nD.exec(o);return a!==null?A.some(d3(a[1],a[2],a[3],a[4])):A.none()},m3=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,f3=bl(255,0,0,1),p3=o=>kb(Yw(o)),g3=(o,r)=>{o.dispatch("ResizeContent",r)},sD=(o,r)=>{o.dispatch("TextColorChange",r)},xB=(o,r)=>o.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),rD=o=>{o.dispatch("ContextToolbarClose")},Xw=(o,r)=>()=>{o(),r()},xl=(o,r=Xt)=>ch(o,"NodeChange",a=>{a.setEnabled(o.selection.isEditable()&&r())}),Qw=(o,r)=>a=>{const l=xl(o)(a),d=((m,p)=>b=>{const x=Cs(),w=()=>{b.setActive(m.formatter.match(p));const E=m.formatter.formatChanged(p,b.setActive);x.set(E)};return m.initialized?w():m.once("init",w),()=>{m.off("init",w),x.clear()}})(o,r)(a);return()=>{l(),d()}},ch=(o,r,a)=>l=>{const d=()=>a(l),m=()=>{a(l),o.on(r,d)};return o.initialized?m():o.once("init",m),()=>{o.off("init",m),o.off(r,d)}},h3=o=>r=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,r.format)})},fc=(o,r)=>()=>o.execCommand(r);var G1=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const aD={},iD=o=>Kt(aD,o).getOrThunk(()=>{const r=`tinymce-custom-colors-${o}`,a=G1.getItem(r);if(xt(a)){const d=G1.getItem("tinymce-custom-colors");G1.setItem(r,Ne(d)?d:"[]")}const l=((d,m=10)=>{const p=G1.getItem(d),b=Se(p)?JSON.parse(p):[],x=m-(w=b).length<0?w.slice(0,m):w;var w;const E=C=>{x.splice(C,1)};return{add:C=>{((T,B)=>{const L=dr(T,B);return L===-1?A.none():A.some(L)})(x,C).each(E),x.unshift(C),x.length>m&&x.pop(),G1.setItem(d,JSON.stringify(x))},state:()=>x.slice(0)}})(r,10);return aD[o]=l,l}),K1=(o,r)=>{iD(o).add(r)},b3="forecolor",Jw="hilitecolor",x3=o=>{const r=[];for(let a=0;a<o.length;a+=2)r.push({text:o[a+1],value:o[a],icon:"checkmark",type:"choiceitem"});return r},$u=o=>r=>r.options.get(o),eC="#000000",Eb=(o,r)=>r===b3&&o.options.isSet("color_map_foreground")?$u("color_map_foreground")(o):r===Jw&&o.options.isSet("color_map_background")?$u("color_map_background")(o):o.options.isSet("color_map_raw")?$u("color_map_raw")(o):$u("color_map")(o),Uv=(o,r="default")=>Math.max(5,Math.ceil(Math.sqrt(Eb(o,r).length))),tC=(o,r)=>{const a=$u("color_cols")(o),l=Uv(o,r);return a===Uv(o)?l:a},v3=(o,r="default")=>Math.round(r===b3?$u("color_cols_foreground")(o):r===Jw?$u("color_cols_background")(o):$u("color_cols")(o)),lD=$u("custom_colors"),cD=$u("color_default_foreground"),vB=$u("color_default_background"),dD=(o,r)=>{const a=Ft(o.selection.getStart()),l=r==="hilitecolor"?nm(a,d=>{if(Ho(d)){const m=Ha(d,"background-color");return ci((p=>u3(p).exists(b=>b.alpha!==0))(m),m)}return A.none()}).getOr("rgba(0, 0, 0, 0)"):Ha(a,"color");return u3(l).map(d=>"#"+kb(d).value)},uD=o=>{const r="choiceitem",a={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[a,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},oC=(o,r,a,l)=>{a==="custom"?hD(o)(d=>{d.each(m=>{K1(r,m),o.execCommand("mceApplyTextcolor",r,m),l(m)})},dD(o,r).getOr(eC)):a==="remove"?(l(""),o.execCommand("mceRemoveTextcolor",r)):(l(a),o.execCommand("mceApplyTextcolor",r,a))},nC=(o,r,a)=>o.concat((l=>Ae(iD(l).state(),d=>({type:"choiceitem",text:d,icon:"checkmark",value:d})))(r).concat(uD(a))),y3=(o,r,a)=>l=>{l(nC(o,r,a))},w3=(o,r,a)=>{const l=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(l,a)},mD=(o,r)=>{o.setTooltip(r)},fD=(o,r)=>a=>{const l=dD(o,r);return Sa(l,a.toUpperCase())},C3=(o,r,a)=>{if(sr(a))return r==="forecolor"?"Text color":"Background color";const l=r==="forecolor"?"Text color {0}":"Background color {0}",d=nC(Eb(o,r),r,!1),m=z(d,p=>p.value===a).getOr({text:""}).text;return o.translate([l,o.translate(m)])},pD=(o,r,a,l)=>{o.ui.registry.addSplitButton(r,{tooltip:C3(o,a,l.get()),presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:fD(o,a),columns:v3(o,a),fetch:y3(Eb(o,a),a,lD(o)),onAction:d=>{oC(o,a,l.get(),xe)},onItemAction:(d,m)=>{oC(o,a,m,p=>{l.set(p),sD(o,{name:r,color:p})})},onSetup:d=>{w3(d,r,l.get());const m=p=>{p.name===r&&(w3(d,p.name,p.color),mD(d,C3(o,a,p.color)))};return o.on("TextColorChange",m),Xw(xl(o)(d),()=>{o.off("TextColorChange",m)})}})},gD=(o,r,a,l,d)=>{o.ui.registry.addNestedMenuItem(r,{text:l,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:m=>(mD(m,C3(o,a,d.get())),w3(m,r,d.get()),xl(o)(m)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:fD(o,a),initData:{storageKey:a},onAction:m=>{oC(o,a,m.value,p=>{d.set(p),sD(o,{name:r,color:p})})}}]})},hD=o=>(r,a)=>{let l=!1;const d={colorpicker:a};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:d,onAction:(m,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:m=>{const p=m.getData().colorpicker;l?(r(A.from(p)),m.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",p]))},onClose:xe,onCancel:()=>{r(A.none())}})},sC=(o,r,a,l,d,m,p,b)=>{const x=Ov(r),w=yB(r,a,l,d!=="color"?"normal":"color",m,p,b);return _4(o,x,w,l,{menuType:d})},yB=(o,r,a,l,d,m,p)=>Wl(Ae(o,b=>{return b.type==="choiceitem"?(x=b,Hs("choicemenuitem",iB,x)).fold(Pm,w=>A.some(r3(w,a===1,l,r,m(w.value),d,p,Ov(o)))):b.type==="imageitem"?(w=>Hs("imagemenuitem",dB,w))(b).fold(Pm,w=>A.some(((E,C,T,B,L)=>{const Y=Cb({presets:"img",textContent:A.none(),htmlContent:A.none(),ariaLabel:E.tooltip,iconContent:A.some(E.url),labelContent:E.label,shortcutContent:A.none(),checkMark:A.some(t3(L.icons)),caret:A.none(),value:E.value},L,!0),W=E.tooltip.map(X=>Rs.config(L.tooltips.getConfig({tooltipText:L.translate(X)})));return Wo(q1({context:E.context,data:lh(E),enabled:E.enabled,getApi:X=>({setActive:$=>{Zo.set(X,$)},isActive:()=>Zo.isOn(X),isEnabled:()=>!eo.isDisabled(X),setEnabled:$=>eo.set(X,!$)}),onAction:X=>{C(E.value),X.setActive(!0)},onSetup:X=>(X.setActive(T),xe),triggersSubmenu:!1,itemBehaviours:[...W.toArray()]},Y,B,L),{toggling:{toggleClass:z1,toggleOnExecute:!1,selected:E.active,exclusive:!0}})})(w,r,m(w.value),d,p))):b.type==="resetimage"?(w=>Hs("resetimageitem",uB,w))(b).fold(Pm,w=>A.some(r3({...w,text:w.tooltip,icon:A.some(w.icon),label:A.some(w.label)},a===1,l,r,m(w.value),d,p,Ov(o)))):A.none();var x})),Zv=(o,r)=>{const a=sh(r);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[r],previousSelector:l=>r==="color"?On(l.element,"[aria-checked=true]"):A.none()}},bD=Me("cell-over"),_3=Me("cell-execute"),wB=(o,r,a)=>{const l=m=>oo(m,_3,{row:o,col:r}),d=(m,p)=>{p.stop(),l(m)};return Gi({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:pt([vo("insert-table-picker-cell",[et($i(),mo.focus),et(dl(),l),et(cl(),d),et(Cg(),d)]),Zo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),mo.config({onFocus:m=>oo(m,bD,{row:o,col:r})})])})},CB=o=>Uo(o,r=>Ae(r,cd)),xD=(o,r)=>$s(`${r}x${o}`),_B={inserttable:(o,r)=>{const a=(p=>(b,x)=>p.shared.providers.translate(["{0} columns, {1} rows",x,b]))(r),l=(p=>{const b=[];for(let x=0;x<10;x++){const w=[];for(let E=0;E<10;E++){const C=p(x+1,E+1);w.push(wB(x,E,C))}b.push(w)}return b})(a),d=xD(0,0),m=Fn({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[d],behaviours:pt([Do.config({})])});return{type:"widget",data:{value:Me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[qg.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:CB(l).concat(m.asSpec()),behaviours:pt([vo("insert-table-picker",[ts(p=>{Do.set(m.get(p),[d])}),Bx(bD,(p,b,x)=>{const{row:w,col:E}=x.event;((C,T,B)=>{for(let L=0;L<10;L++)for(let Y=0;Y<10;Y++)Zo.set(C[L][Y],L<=T&&Y<=B)})(l,w,E),Do.set(m.get(p),[xD(w+1,E+1)])}),Bx(_3,(p,b,x)=>{const{row:w,col:E}=x.event;Qo(p,zh()),o.onAction({numRows:w+1,numColumns:E+1})})]),Bt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,r)=>{const a=((b,x)=>{const w=b.initData.allowCustomColors&&x.colorinput.hasCustomColors();return b.initData.colors.fold(()=>nC(x.colorinput.getColors(b.initData.storageKey),b.initData.storageKey,w),E=>E.concat(uD(w)))})(o,r),l=r.colorinput.getColorCols(o.initData.storageKey),d="color",m=sC(Me("menu-value"),a,b=>{o.onAction({value:b})},l,d,Jd.CLOSE_ON_EXECUTE,o.select.getOr(Ke),r.shared.providers),p={...m,markers:sh(d),movement:Zv(l,d),showMenuRole:!1};return{type:"widget",data:{value:Me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[qg.widget(Af.sketch(p))]}},imageselect:(o,r)=>{const a="imageselector",l=o.initData.columns,d=sC(Me("menu-value"),o.initData.items,p=>{o.onAction({value:p})},l,a,Jd.CLOSE_ON_EXECUTE,o.select.getOr(Ke),r.shared.providers),m={...d,markers:sh(a),movement:Zv(l,a),showMenuRole:!1};return{type:"widget",data:{value:Me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[qg.widget(Af.sketch(m))]}}},vD=o=>({type:"separator",dom:{tag:"div",classes:[Nw,"tox-collection__group-heading"]},components:o.text.map($s).toArray()}),jv=(o,r,a)=>{jT(o).each(l=>{var d;((m,p)=>{Ta(p.element,"id").each(b=>bo(m.element,"aria-activedescendant",b))})(l,a),(Ja((d=r).element,Iw)?A.some(d.element):On(d.element,"."+Iw)).each(m=>{Ta(m,"id").each(p=>bo(l.element,"aria-controls",p))})}),bo(a.element,"aria-selected","true")},yD=(o,r,a)=>{bo(a.element,"aria-selected","false")},kB=o=>kr.getExistingCoupled(o,"sandbox").bind(Pw).map(WT).map(r=>r.fetchPattern).getOr("");var rC;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(rC||(rC={}));const SB=(o,r,a,l,d)=>{const m=a.shared.providers,p=x=>d?{...x,shortcut:A.none(),icon:x.text.isSome()?A.none():x.icon}:x;switch(o.type){case"menuitem":return(b=o,Hs("menuitem",mB,b)).fold(Pm,x=>A.some(((w,E,C,T=!0)=>{const B=Cb({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:A.none(),labelContent:A.none(),ariaLabel:w.text,caret:A.none(),checkMark:A.none(),shortcutContent:w.shortcut},C,T);return q1({context:w.context,data:lh(w),getApi:L=>({isEnabled:()=>!eo.isDisabled(L),setEnabled:Y=>eo.set(L,!Y)}),enabled:w.enabled,onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},B,E,C)})(p(x),r,m,l)));case"nestedmenuitem":return(x=>Hs("nestedmenuitem",Lc,x))(o).fold(Pm,x=>A.some(((w,E,C,T=!0,B=!1)=>{const L=B?(Y=C.icons,Gw("chevron-down",Y,[Rw])):(X=>Gw("chevron-right",X,[Rw]))(C.icons);var Y;const W=Cb({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:A.none(),ariaLabel:w.text,labelContent:A.none(),caret:A.some(L),checkMark:A.none(),shortcutContent:w.shortcut},C,T);return q1({context:w.context,data:lh(w),getApi:X=>({isEnabled:()=>!eo.isDisabled(X),setEnabled:$=>eo.set(X,!$),setIconFill:($,U)=>{On(X.element,`svg path[class="${$}"], rect[class="${$}"]`).each(te=>{bo(te,"fill",U)})},setTooltip:$=>{const U=C.translate($);bo(X.element,"aria-label",U)}}),enabled:w.enabled,onAction:xe,onSetup:w.onSetup,triggersSubmenu:!0,itemBehaviours:[]},W,E,C)})(p(x),r,m,l,d)));case"togglemenuitem":return(x=>Hs("togglemenuitem",Hu,x))(o).fold(Pm,x=>A.some(((w,E,C,T=!0)=>{const B=Cb({iconContent:w.icon,textContent:w.text,htmlContent:A.none(),labelContent:A.none(),ariaLabel:w.text,checkMark:A.some(t3(C.icons)),caret:A.none(),shortcutContent:w.shortcut,presets:"normal",meta:w.meta},C,T);return Wo(q1({context:w.context,data:lh(w),enabled:w.enabled,getApi:L=>({setActive:Y=>{Zo.set(L,Y)},isActive:()=>Zo.isOn(L),isEnabled:()=>!eo.isDisabled(L),setEnabled:Y=>eo.set(L,!Y)}),onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},B,E,C),{toggling:{toggleClass:z1,toggleOnExecute:!1,selected:w.active},role:w.role.getOrUndefined()})})(p(x),r,m,l)));case"separator":return(x=>Hs("separatormenuitem",R6,x))(o).fold(Pm,x=>A.some(vD(x)));case"fancymenuitem":return(x=>Hs("fancymenuitem",$6,x))(o).fold(Pm,x=>((w,E)=>Kt(_B,w.fancytype).map(C=>C(w,E)))(x,a));default:return console.error("Unknown item in general menu",o),A.none()}var b},EB=(o,r,a,l,d,m,p)=>{const b=l===1,x=!b||Ov(o);return Wl(Ae(o,w=>{switch(w.type){case"separator":return(E=w,Hs("Autocompleter.Separator",R6,E)).fold(Pm,C=>A.some(vD(C)));case"cardmenuitem":return(C=>Hs("cardmenuitem",aB,C))(w).fold(Pm,C=>A.some(((T,B,L,Y)=>{const W={dom:o3(T.label,[]),optComponents:[A.some({dom:{tag:"div",classes:[HT,Mw]},components:Q6(T.items,Y)})]};return q1({context:"mode:design",data:lh({text:A.none(),...T}),enabled:T.enabled,getApi:X=>({isEnabled:()=>!eo.isDisabled(X),setEnabled:$=>{eo.set(X,!$),ht(ca(X.element,"*"),U=>{X.getSystem().getByDom(U).each(te=>{te.hasConfigured(eo)&&eo.set(te,!$)})})}}),onAction:T.onAction,onSetup:T.onSetup,triggersSubmenu:!1,itemBehaviours:A.from(Y.itemBehaviours).getOr([])},W,B,L.providers)})({...C,onAction:T=>{C.onAction(T),a(C.value,C.meta)}},d,m,{itemBehaviours:X6(C.meta,m,A.none()),cardText:{matchText:r,highlightOn:p}})));default:return(C=>Hs("Autocompleter.Item",M6,C))(w).fold(Pm,C=>A.some(((T,B,L,Y,W,X,$,U=!0)=>{const te=Cb({presets:Y,textContent:A.none(),htmlContent:L?T.text.map(de=>s3(de,B)):A.none(),ariaLabel:T.text,labelContent:A.none(),iconContent:T.icon,shortcutContent:A.none(),checkMark:A.none(),caret:A.none(),value:T.value},$.providers,U,T.icon),oe=T.text.filter(de=>!L&&de!=="");return q1({context:"mode:design",data:lh(T),enabled:T.enabled,getApi:ne({}),onAction:de=>W(T.value,T.meta),onSetup:ne(xe),triggersSubmenu:!1,itemBehaviours:X6(T,$,oe)},te,X,$.providers)})(C,r,b,"normal",a,d,m,x)))}var E}))},wD=(o,r,a,l,d,m)=>{const p=Ov(r),b=Wl(Ae(r,w=>{const E=C=>SB(C,a,l,(T=>d?!jo(T,"text"):p)(C),d);return w.type==="nestedmenuitem"&&w.getSubmenuItems().length<=0?E({...w,enabled:!1}):E(w)})),x=(w=>w.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:w})(m);return(d?mM:_4)(o,p,b,1,x)},k3=o=>Wg.singleData(o.value,o),S3=o=>op(Ft(o.startContainer),o.startOffset,Ft(o.endContainer),o.endOffset),CD=(o,r)=>{const a=Me("autocompleter"),l=Vt(!1),d=Vt(!1),m=Pn(),p=Gi(Qs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:a}},components:[],fireDismissalEventInstead:{},inlineBehaviours:pt([vo("dismissAutocompleter",[et(up(),()=>C()),et(um(),(L,Y)=>{Ta(Y.event.target,"id").each(W=>bo(Ft(o.getBody()),"aria-activedescendant",W))})])]),lazySink:r.getSink})),b=()=>Qs.isOpen(p),x=d.get,w=()=>{if(b()){Qs.hide(p),o.dom.remove(a,!1);const L=Ft(o.getBody());Ta(L,"aria-owns").filter(Y=>Y===a).each(()=>{qs(L,"aria-owns"),qs(L,"aria-activedescendant")})}},E=()=>Qs.getContent(p).bind(L=>jl(L.components(),0)),C=()=>o.execCommand("mceAutocompleterClose"),T=L=>{const Y=(W=>{const X=ws(W,$=>A.from($.columns)).getOr(1);return Uo(W,$=>{const U=$.items;return EB(U,$.matchText,(te,oe)=>{const de={hide:()=>C(),reload:he=>{w(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:he})}};o.execCommand("mceAutocompleterRefreshActiveRange"),m.get().each(he=>{l.set(!0),$.onAction(de,he,te,oe),l.set(!1)})},X,Jd.BUBBLE_TO_SANDBOX,r,$.highlightOn)})})(L);Y.length>0?(((W,X)=>{const $=ws(W,U=>A.from(U.columns)).getOr(1);Qs.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>m.get().map(S3),root:Ft(o.getBody())}},((U,te,oe,de)=>{const he=Zv(te,de),ke=sh(de);return{data:k3({...U,movement:he,menuBehaviours:j1(te!=="auto"?[]:[ts((Ve,tt)=>{wb(Ve,4,ke.item).each(({numColumns:Je,numRows:st})=>{Bt.setGridSize(Ve,st,Je)})})])}),menu:{markers:sh(de),fakeFocus:oe===rC.ContentFocus}}})(_4("autocompleter-value",!0,X,$,{menuType:"normal"}),$,rC.ContentFocus,"normal")),E().each(Dn.highlightFirst)})(L,Y),bo(Ft(o.getBody()),"aria-owns",a),o.inline||B()):w()},B=()=>{o.dom.get(a)&&o.dom.remove(a,!1);const L=o.getDoc().documentElement,Y=o.selection.getNode(),W=(X=>Dt(X,!0))(p.element);Ei(W,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Y.offsetTop}px`,left:`${Y.offsetLeft}px`}),o.dom.add(L,W.dom),On(W,'[role="menu"]').each(X=>{un(X,"position"),un(X,"max-height")})};o.on("AutocompleterStart",({lookupData:L})=>{d.set(!0),l.set(!1),T(L)}),o.on("AutocompleterUpdate",({lookupData:L})=>T(L)),o.on("AutocompleterUpdateActiveRange",({range:L})=>m.set(L)),o.on("AutocompleterEnd",()=>{w(),d.set(!1),l.set(!1),m.clear()}),((L,Y)=>{const W=($,U)=>{oo($,Id(),{raw:U})},X=()=>L.getMenu().bind(Dn.getHighlighted);Y.on("keydown",$=>{const U=$.which;L.isActive()&&(L.isMenuOpen()?U===13?(X().each(bp),$.preventDefault()):U===40?(X().fold(()=>{L.getMenu().each(Dn.highlightFirst)},te=>{W(te,$)}),$.preventDefault(),$.stopImmediatePropagation()):U!==37&&U!==38&&U!==39||X().each(te=>{W(te,$),$.preventDefault(),$.stopImmediatePropagation()}):U!==13&&U!==38&&U!==40||L.cancelIfNecessary())}),Y.on("NodeChange",()=>{!L.isActive()||L.isProcessingAction()||Y.queryCommandState("mceAutoCompleterInRange")||L.cancelIfNecessary()})})({cancelIfNecessary:C,isMenuOpen:b,isActive:x,isProcessingAction:l.get,getMenu:E},o)};var _D=tinymce.util.Tools.resolve("tinymce.html.Entities");const Wv=(o,r,a,l)=>{const d=kD(o,r,a,l);return No.sketch(d)},kD=(o,r,a,l)=>({dom:SD(a),components:o.toArray().concat([r]),fieldBehaviours:pt(l)}),SD=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),dh=(o,r)=>No.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(r.translate(o))]}),pc=Me("form-component-change"),ED=Me("form-component-input"),qv=Me("form-close"),uh=Me("form-cancel"),Nf=Me("form-action"),Gv=Me("form-submit"),E3=Me("form-block"),A3=Me("form-unblock"),Kv=Me("form-tabchange"),aC=Me("form-resize"),T3=(o,r,a)=>{const l=o.label.map(C=>dh(C,r)),d=r.icons(),m=C=>(T,B)=>{Ec(B.event.target,"[data-collection-item-value]").each(L=>{C(T,B,L,wr(L,"data-collection-item-value"))})},p=m((C,T,B,L)=>{T.stop(),r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()||oo(C,Nf,{name:o.name,value:L})}),b=[et($i(),m((C,T,B)=>{Ws(B,!0)})),et(cl(),p),et(Cg(),p),et(Rl(),m((C,T,B)=>{On(C.element,"."+$p).each(L=>{vs(L,$p)}),ls(B,$p)})),et(ax(),m(C=>{On(C.element,"."+$p).each(T=>{vs(T,$p),_c(T)})})),Hd(m((C,T,B,L)=>{oo(C,Nf,{name:o.name,value:L})}))],x=(C,T)=>Ae(ca(C.element,".tox-collection__item"),T),w=No.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:kt},behaviours:pt([eo.config({disabled:()=>r.checkUiComponentContext(o.context).shouldDisable,onDisabled:C=>{x(C,T=>{ls(T,"tox-collection__item--state-disabled"),bo(T,"aria-disabled",!0)})},onEnabled:C=>{x(C,T=>{vs(T,"tox-collection__item--state-disabled"),qs(T,"aria-disabled")})}}),hr(()=>r.checkUiComponentContext(o.context)),Do.config({}),Rs.config({...r.tooltips.getConfig({tooltipText:"",onShow:C=>{On(C.element,"."+$p+"[data-mce-tooltip]").each(T=>{Ta(T,"data-mce-tooltip").each(B=>{Rs.setComponents(C,r.tooltips.getComponents({tooltipText:B}))})})}}),mode:"children-keyboard-focus",anchor:C=>({type:"node",node:On(C.element,"."+$p).orThunk(()=>jf(".tox-collection__item")),root:C.element,layouts:{onLtr:ne([Pr,ya,jr,Wa,Br,oi]),onRtl:ne([Pr,ya,jr,Wa,Br,oi])},bubble:ml(0,-2,{})})}),zt.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(C,T)=>{((B,L)=>{const Y=r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()?" tox-collection__item--state-disabled":"",W=Ae(L,U=>{const te=fd.translate(U.text),oe=o.columns===1?`<div class="tox-collection__item-label">${te}</div>`:"",de=`<div class="tox-collection__item-icon">${(Ve=>{var tt;return(tt=d[Ve])!==null&&tt!==void 0?tt:Ve})(U.icon)}</div>`,he={_:" "," - ":" ","-":" "},ke=te.replace(/\_| \- |\-/g,Ve=>he[Ve]);return`<div data-mce-tooltip="${ke}" class="tox-collection__item${Y}" tabindex="-1" data-collection-item-value="${_D.encodeAllRaw(U.value)}" aria-label="${ke}">${de}${oe}</div>`}),X=o.columns!=="auto"&&o.columns>1?je(W,o.columns):[W],$=Ae(X,U=>`<div class="tox-collection__group">${U.join("")}</div>`);tm(B.element,$.join(""))})(C,T),o.columns==="auto"&&wb(C,5,"tox-collection__item").each(({numRows:B,numColumns:L})=>{Bt.setGridSize(C,B,L)}),Qo(C,aC)}}),fs.config({}),Bt.config((E=o.columns,E===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:E==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${Nw}`}})),vo("collection-events",b)]),eventOrder:{[dl()]:["disabling","alloy.base.behaviour","collection-events"],[Rl()]:["collection-events","tooltipping"]}});var E;return Wv(l,w,["tox-form__group--collection"],[])},D3=Me("color-input-change"),AD=Me("color-swatch-change"),TD=Me("color-picker-cancel"),Rf=()=>Cn.config({find:A.some}),Yv=o=>Cn.config({find:r=>ds(r.element,o).bind(a=>r.getSystem().getByDom(a).toOptional())}),iC=xo([Ie("preprocess",kt),Ie("postprocess",kt)]),DD=(o,r)=>{const a=mi("RepresentingConfigs.memento processors",iC,r);return zt.config({store:{mode:"manual",getValue:l=>{const d=o.get(l),m=zt.getValue(d);return a.postprocess(m)},setValue:(l,d)=>{const m=a.preprocess(d),p=o.get(l);zt.setValue(p,m)}}})},Y1=(o,r,a)=>zt.config({store:{mode:"manual",...o.map(l=>({initialValue:l})).getOr({}),getValue:r,setValue:a}}),OD=(o,r,a)=>Y1(o,l=>r(l.element),(l,d)=>a(l.element,d)),lC=o=>zt.config({store:{mode:"memory",initialValue:o}}),O3=Me("rgb-hex-update"),ND=Me("slider-update"),RD=Me("palette-update"),MD=Me("valid-input"),BD=Me("invalid-input"),PD=Me("validating-input"),N3="colorcustom.rgb.",AB={isEnabled:Xt,setEnabled:xe,immediatelyShow:xe,immediatelyHide:xe},TB=(o,r,a,l,d,m)=>{const p=(B,L)=>{const Y=L.get();B!==Y.isEnabled()&&(Y.setEnabled(B),B?Y.immediatelyShow():Y.immediatelyHide())},b=(B,L,Y)=>Ru.config({invalidClass:r("invalid"),notify:{onValidate:W=>{oo(W,PD,{type:B})},onValid:W=>{p(!1,Y),oo(W,MD,{type:B,value:zt.getValue(W)})},onInvalid:W=>{p(!0,Y),oo(W,BD,{type:B,value:zt.getValue(W)})}},validator:{validate:W=>{const X=zt.getValue(W),$=L(X)?Fo.value(!0):Fo.error(o("aria.input.invalid"));return Dr($)},validateOnLoad:!1}}),x=(B,L,Y,W,X)=>{const $=Vt(AB),U=o(N3+"range"),te=No.parts.label({dom:{tag:"label"},components:[$s(Y)]}),oe=No.parts.field({data:X,factory:Ip,inputAttributes:{type:"text","aria-label":W,...L==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:pt([b(L,B,$),fs.config({}),Rs.config({...d({tooltipText:"",onSetup:Je=>{$.set({isEnabled:()=>Rs.isEnabled(Je),setEnabled:st=>Rs.setEnabled(Je,st),immediatelyShow:()=>Rs.immediateOpenClose(Je,!0),immediatelyHide:()=>Rs.immediateOpenClose(Je,!1)}),Rs.setEnabled(Je,!1)},onShow:(Je,st)=>{Rs.setComponents(Je,[{dom:{tag:"p",classes:[r("rgb-warning-note")]},components:[$s(o(L==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Je=>{Ru.isInvalid(Je)&&Ru.run(Je).get(xe)}}),de=Me("aria-invalid"),he=Fn(m("invalid",A.some(de),"warning")),ke=[te,oe,Fn({dom:{tag:"div",classes:[r("invalid-icon")]},components:[he.asSpec()]}).asSpec()],Ve=L!=="hex"?[No.parts["aria-descriptor"]({text:U})]:[],tt=ke.concat(Ve);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[r("rgb-container")]},components:tt}},w=(B,L)=>{const Y=L.red,W=L.green,X=L.blue;zt.setValue(B,{red:Y,green:W,blue:X})},E=Fn({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),C=(B,L)=>{E.getOpt(B).each(Y=>{To(Y.element,"background-color","#"+L.value)})};return dd({factory:()=>{const B={red:Vt(A.some(255)),green:Vt(A.some(255)),blue:Vt(A.some(255)),hex:Vt(A.some("ffffff"))},L=ke=>B[ke].get(),Y=(ke,Ve)=>{B[ke].set(Ve)},W=ke=>{const Ve=ke.red,tt=ke.green,Je=ke.blue;Y("red",A.some(Ve)),Y("green",A.some(tt)),Y("blue",A.some(Je))},X=(ke,Ve)=>{const tt=Ve.event;tt.type!=="hex"?Y(tt.type,A.none()):l(ke)},$=(ke,Ve)=>{const tt=Ve.event;(Je=>Je.type==="hex")(tt)?((Je,st)=>{a(Je);const vt=_b(st);Y("hex",A.some(vt.value));const Qt=Sb(vt);w(Je,Qt),W(Qt),oo(Je,O3,{hex:vt}),C(Je,vt)})(ke,tt.value):((Je,st,vt)=>{const Qt=parseInt(vt,10);Y(st,A.some(Qt)),L("red").bind(no=>L("green").bind(po=>L("blue").map($o=>bl(no,po,$o,1)))).each(no=>{const po=(($o,gs)=>{const Ms=kb(gs);return nb.getField($o,"hex").each(Nn=>{mo.isFocused(Nn)||zt.setValue($o,{hex:Ms.value})}),Ms})(Je,no);oo(Je,O3,{hex:po}),C(Je,po)})})(ke,tt.type,tt.value)},U=ke=>({label:o(N3+ke+".label"),description:o(N3+ke+".description")}),te=U("red"),oe=U("green"),de=U("blue"),he=U("hex");return Wo(nb.sketch(ke=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[ke.field("red",No.sketch(x(c3,"red",te.label,te.description,255))),ke.field("green",No.sketch(x(c3,"green",oe.label,oe.description,255))),ke.field("blue",No.sketch(x(c3,"blue",de.label,de.description,255))),ke.field("hex",No.sketch(x(a3,"hex",he.label,he.description,"ffffff"))),E.asSpec()],formBehaviours:pt([Ru.config({invalidClass:r("form-invalid")}),vo("rgb-form-events",[et(MD,$),et(BD,X),et(PD,X)])])})),{apis:{updateHex:(ke,Ve)=>{zt.setValue(ke,{hex:Ve.value}),((tt,Je)=>{const st=Sb(Je);w(tt,st),W(st)})(ke,Ve),C(ke,Ve)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(B,L,Y)=>{B.updateHex(L,Y)}},extraApis:{}})},DB=(o,r,a,l)=>dd({name:"ColourPicker",configFields:[ct("dom"),Ie("onValidHex",xe),Ie("onInvalidHex",xe)],factory:m=>{const p=TB(o,r,m.onValidHex,m.onInvalidHex,a,l),b=((X,$)=>{const U=Lu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[$("sv-palette-spectrum")]}}),te=Lu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[$("sv-palette-thumb")],innerHtml:`<div class=${$("sv-palette-inner-thumb")} role="presentation"></div>`}}),oe=(he,ke)=>{const{width:Ve,height:tt}=he,Je=he.getContext("2d");if(Je===null)return;Je.fillStyle=ke,Je.fillRect(0,0,Ve,tt);const st=Je.createLinearGradient(0,0,Ve,0);st.addColorStop(0,"rgba(255,255,255,1)"),st.addColorStop(1,"rgba(255,255,255,0)"),Je.fillStyle=st,Je.fillRect(0,0,Ve,tt);const vt=Je.createLinearGradient(0,0,0,tt);vt.addColorStop(0,"rgba(0,0,0,0)"),vt.addColorStop(1,"rgba(0,0,0,1)"),Je.fillStyle=vt,Je.fillRect(0,0,Ve,tt)};return dd({factory:he=>{const ke=ne({x:0,y:0}),Ve=pt([Cn.config({find:A.some}),mo.config({})]);return Lu.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":X(["Saturation {0}%, Brightness {1}%",0,0])},classes:[$("sv-palette")]},model:{mode:"xy",getInitialValue:ke},rounded:!1,components:[U,te],onChange:(tt,Je,st)=>{Tt(st)||bo(tt.element,"aria-valuetext",X(["Saturation {0}%, Brightness {1}%",Math.floor(st.x),Math.floor(100-st.y)])),oo(tt,RD,{value:st})},onInit:(tt,Je,st,vt)=>{oe(st.element.dom,m3(f3))},sliderBehaviours:Ve})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(he,ke,Ve)=>{((tt,Je)=>{const st=tt.components()[0].element.dom,vt=$v(Je,100,100),Qt=Yw(vt);oe(st,m3(Qt))})(ke,Ve)},setThumb:(he,ke,Ve)=>{((tt,Je)=>{const st=l3(Sb(Je));Lu.setValue(tt,{x:st.saturation,y:100-st.value}),bo(tt.element,"aria-valuetext",X(["Saturation {0}%, Brightness {1}%",st.saturation,st.value]))})(ke,Ve)}},extraApis:{}})})(o,r),x={paletteRgba:Vt(f3),paletteHue:Vt(0)},w=Fn(((X,$)=>{const U=Lu.parts.spectrum({dom:{tag:"div",classes:[$("hue-slider-spectrum")],attributes:{role:"presentation"}}}),te=Lu.parts.thumb({dom:{tag:"div",classes:[$("hue-slider-thumb")],attributes:{role:"presentation"}}});return Lu.sketch({dom:{tag:"div",classes:[$("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ne(0)},components:[U,te],sliderBehaviours:pt([mo.config({})]),onChange:(oe,de,he)=>{bo(oe.element,"aria-valuenow",Math.floor(360-3.6*he)),oo(oe,ND,{value:he})}})})(0,r)),E=Fn(b.sketch({})),C=Fn(p.sketch({})),T=(X,$,U)=>{E.getOpt(X).each(te=>{b.setHue(te,U)})},B=(X,$)=>{C.getOpt(X).each(U=>{p.updateHex(U,$)})},L=(X,$,U)=>{w.getOpt(X).each(te=>{Lu.setValue(te,(oe=>100-oe/360*100)(U))})},Y=(X,$)=>{E.getOpt(X).each(U=>{b.setThumb(U,$)})},W=(X,$,U,te)=>{((oe,de)=>{const he=Sb(oe);x.paletteRgba.set(he),x.paletteHue.set(de)})($,U),ht(te,oe=>{oe(X,$,U)})};return{uid:m.uid,dom:m.dom,components:[E.asSpec(),w.asSpec(),C.asSpec()],behaviours:pt([vo("colour-picker-events",[et(O3,(()=>{const X=[T,L,Y];return($,U)=>{const te=U.event.hex,oe=(de=>l3(Sb(de)))(te);W($,te,oe.hue,X)}})()),et(RD,(()=>{const X=[B];return($,U)=>{const te=U.event.value,oe=x.paletteHue.get(),de=$v(oe,te.x,100-te.y),he=p3(de);W($,he,oe,X)}})()),et(ND,(()=>{const X=[T,B];return($,U)=>{const te=(Ve=>(100-Ve)/100*360)(U.event.value),oe=x.paletteRgba.get(),de=l3(oe),he=$v(te,de.saturation,de.value),ke=p3(he);W($,ke,te,X)}})())]),Cn.config({find:X=>C.getOpt(X)}),Bt.config({mode:"acyclic"})])}}}),ID={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var OB=tinymce.util.Tools.resolve("tinymce.Resource");const LD=o=>jo(o,"init");var vl=tinymce.util.Tools.resolve("tinymce.util.Tools");const R3=Me("browse.files.event"),NB=(o,r,a)=>{const l=(w,E)=>{E.stop()},d=w=>(E,C)=>{ht(w,T=>{T(E,C)})},m=Fn({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:pt([vo("input-file-events",[Ll(cl()),Ll(Cg())])])}),p=o.label.map(w=>dh(w,r)),b=No.parts.field({factory:ua,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[$s(r.translate("Browse for an image")),m.asSpec()],action:w=>{m.get(w).element.dom.click()},buttonBehaviours:pt([Rf(),lC(a.getOr([])),fs.config({}),jp(()=>r.checkUiComponentContext(o.context).shouldDisable),hr(()=>r.checkUiComponentContext(o.context))])}),x={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:pt([eo.config({disabled:()=>r.checkUiComponentContext(o.context).shouldDisable}),hr(()=>r.checkUiComponentContext(o.context)),Zo.config({toggleClass:"dragenter",toggleOnExecute:!1}),vo("dropzone-events",[et("dragenter",d([l,Zo.toggle])),et("dragleave",d([l,Zo.toggle])),et("dragover",l),et("drop",d([l,(w,E)=>{var C;if(!eo.isDisabled(w)){const T=E.event.raw;oo(w,R3,{files:(C=T.dataTransfer)===null||C===void 0?void 0:C.files})}}])),et(cf(),(w,E)=>{const C=E.event.raw.target;oo(w,R3,{files:C.files})})])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[$s(r.translate("Drop an image here"))]},b]}]};return Wv(p,x,["tox-form__group--stretched"],[vo("handle-files",[et(R3,(w,E)=>{No.getField(w).each(C=>{var T,B;T=C,(B=E.event.files)&&(zt.setValue(T,((L,Y)=>{const W=vl.explode(Y.getOption("images_file_types"));return Oo(vc(L),X=>Tn(W,$=>Si(X.name.toLowerCase(),`.${$.toLowerCase()}`)))})(B,r)),oo(T,pc,{name:o.name}))})})])])},Xv=Me("alloy-fake-before-tabstop"),Ca=Me("alloy-fake-after-tabstop"),FD=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:pt([mo.config({ignore:!0}),fs.config({})])}),zD=(o,r)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[FD([Xv]),r,FD([Ca])],behaviours:pt([Yv(1)])}),HD=(o,r)=>{oo(o,Id(),{raw:{which:9,shiftKey:r}})},RB=(o,r)=>{const a=r.element;Ja(a,Xv)?HD(o,!0):Ja(a,Ca)&&HD(o,!1)},Qv=o=>ep(o,["."+Xv,"."+Ca].join(","),Ke),cC=Me("update-dialog"),VD=Me("update-title"),$D=Me("update-body"),UD=Me("update-footer"),ZD=Me("body-send-message"),dC=Me("dialog-focus-shifted"),M3=Ce().browser,Jv=M3.isSafari(),MB=M3.isFirefox(),jD=Jv||MB,BB=M3.isChromium(),PB=({scrollTop:o,scrollHeight:r,clientHeight:a})=>Math.ceil(o)+a>=r,WD=(o,r)=>o.scrollTo(0,r==="bottom"?99999999:r),qD=(o,r,a)=>{const l=o.dom;A.from(l.contentDocument).fold(a,d=>{let m=0;const p=((x,w)=>{const E=x.body;return A.from(!/^<!DOCTYPE (html|HTML)/.test(w)&&(!BB&&!Jv||Ne(E)&&(E.scrollTop!==0||Math.abs(E.scrollHeight-E.clientHeight)>1))?E:x.documentElement)})(d,r).map(x=>(m=x.scrollTop,x)).forall(PB),b=()=>{const x=l.contentWindow;Ne(x)&&(p?WD(x,"bottom"):!p&&jD&&m!==0&&WD(x,m))};Jv&&l.addEventListener("load",b,{once:!0}),d.open(),d.write(r),d.close(),Jv||b()})},IB=ci(jD,Jv?500:200).map(o=>((r,a)=>{let l=null,d=null;return{cancel:()=>{ut(l)||(clearTimeout(l),l=null,d=null)},throttle:(...m)=>{d=m,ut(l)&&(l=setTimeout(()=>{const p=d;l=null,d=null,r.apply(null,p)},a))}}})(qD,o)),B3=Me("toolbar.button.execute"),mh=Me("common-button-display-events"),GD={[dl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ac()]:["toolbar-button-events",mh],[Ys()]:["toolbar-button-events","dropdown-events","tooltipping"],[Nl()]:["focusing","alloy.base.behaviour",mh]},P3=o=>To(o.element,"width",Ha(o.element,"width")),KD=(o,r,a)=>pd(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},r),uC=(o,r)=>KD(o,r,[]),fh=(o,r)=>KD(o,r,[Do.config({})]),I3=(o,r,a)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[$s(a.translate(o))],behaviours:pt([Do.config({})])}),eu=Me("update-menu-text"),X1=Me("update-menu-icon"),YD=Me("update-tooltip-text"),mC=(o,r,a,l)=>{const d=Vt(xe),m=Vt(o.tooltip),p=o.text.map(W=>Fn(I3(W,r,a.providers))),b=o.icon.map(W=>Fn(fh(W,a.providers.icons))),x=(W,X)=>{const $=zt.getValue(W);return mo.focus($),oo($,"keydown",{raw:X.event.raw}),Bc.close($),A.some(!0)},w=o.role.fold(()=>({}),W=>({role:W})),E=A.from(o.listRole).map(W=>({listRole:W})).getOr({}),C=o.ariaLabel.fold(()=>({}),W=>({"aria-label":a.providers.translate(W)})),T=pd("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},a.providers.icons),B=Me("common-button-display-events"),L="dropdown-events";return Fn(Bc.sketch({...o.uid?{uid:o.uid}:{},...w,...E,dom:{tag:"button",classes:[r,`${r}--select`].concat(Ae(o.classes,W=>`${r}--${W}`)),attributes:{...C,...Ne(l)?{"data-mce-name":l}:{}}},components:ih([b.map(W=>W.asSpec()),p.map(W=>W.asSpec()),A.some(T)]),matchWidth:!0,useMinWidth:!0,onOpen:(W,X,$)=>{o.searchable&&(U=>{jT(U).each(te=>mo.focus(te))})($)},dropdownBehaviours:pt([...o.dropdownBehaviours,jp(()=>o.disabled||a.providers.checkUiComponentContext(o.context).shouldDisable),hr(()=>a.providers.checkUiComponentContext(o.context)),kf.config({}),Do.config({}),...o.tooltip.map(W=>Rs.config(a.providers.tooltips.getConfig({tooltipText:a.providers.translate(W),onShow:X=>{if(vr(m.get(),o.tooltip,($,U)=>U!==$).getOr(!1)){const $=a.providers.translate(m.get().getOr(""));Rs.setComponents(X,a.providers.tooltips.getComponents({tooltipText:$}))}}}))).toArray(),vo(L,[wa(o,d),Vu(o,d)]),vo(B,[ts((W,X)=>{o.listRole!=="listbox"&&P3(W)})]),vo("update-dropdown-width-variable",[et(dm(),(W,X)=>Bc.close(W))]),vo("menubutton-update-display-text",[et(eu,(W,X)=>{p.bind($=>$.getOpt(W)).each($=>{Do.set($,[$s(a.providers.translate(X.event.text))])})}),et(X1,(W,X)=>{b.bind($=>$.getOpt(W)).each($=>{Do.set($,[fh(X.event.icon,a.providers.icons)])})}),et(YD,(W,X)=>{const $=a.providers.translate(X.event.text);bo(W.element,"aria-label",$),m.set(A.some(X.event.text))})])]),eventOrder:Wo(GD,{[Nl()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ac()]:["toolbar-button-events",Rs.name(),L,B]}),sandboxBehaviours:pt([Bt.config({mode:"special",onLeft:x,onRight:x}),vo("dropdown-sandbox-events",[et($T,(W,X)=>{($=>{const U=zt.getValue($),te=Pw($).map(WT);Bc.refetch(U).get(()=>{const oe=kr.getCoupled(U,"sandbox");te.each(de=>Pw(oe).each(he=>((ke,Ve)=>{zt.setValue(ke,Ve.fetchPattern),ke.element.dom.selectionStart=Ve.selectionStart,ke.element.dom.selectionEnd=Ve.selectionEnd})(he,de)))})})(W),X.stop()}),et(UT,(W,X)=>{(($,U)=>{(te=>En.getState(te).bind(Dn.getHighlighted).bind(Dn.getHighlighted))($).each(te=>{((oe,de,he,ke)=>{const Ve={...ke,target:de};oe.getSystem().triggerEvent(he,de,Ve)})($,te.element,U.event.eventType,U.event.interactionEvent)})})(W,X),X.stop()})])]),lazySink:a.getSink,toggleClass:`${r}--active`,parts:{menu:{...Bw(0,o.columns,o.presets),fakeFocus:o.searchable,...o.listRole==="listbox"?{}:{onHighlightItem:jv,onCollapseMenu:(W,X,$)=>{Dn.getHighlighted($).each(U=>{jv(W,$,U)})},onDehighlightItem:yD}}},getAnchorOverrides:()=>({maxHeightFunction:(W,X)=>{Nx()(W,X-10)}}),fetch:W=>sa(hn(o.fetch,W))})).asSpec()},XD=o=>o.type==="separator",LB={type:"separator"},QD=(o,r)=>{const a=((l,d)=>{const m=Go(l,(p,b)=>(x=>Se(x))(b)?b===""?p:b==="|"?p.length>0&&!XD(p[p.length-1])?p.concat([LB]):p:jo(d,b.toLowerCase())?p.concat([d[b.toLowerCase()]]):p:p.concat([b]),[]);return m.length>0&&XD(m[m.length-1])&&m.pop(),m})(Se(o)?o.split(" "):o,r);return Ao(a,(l,d)=>{if((m=>jo(m,"getSubmenuItems"))(d)){const m=(b=>{const x=Kt(b,"value").getOrThunk(()=>Me("generated-menu-item"));return Wo({value:x},b)})(d),p=((b,x)=>{const w=b.getSubmenuItems(),E=QD(w,x);return{item:b,menus:Wo(E.menus,{[b.value]:E.items}),expansions:Wo(E.expansions,{[b.value]:b.value})}})(m,r);return{menus:Wo(l.menus,p.menus),items:[p.item,...l.items],expansions:Wo(l.expansions,p.expansions)}}return{...l,items:[d,...l.items]}},{menus:{},expansions:{},items:[]})},Ab=(o,r,a,l)=>{const d=Me("primary-menu"),m=QD(o,a.shared.providers.menuItems());if(m.items.length===0)return A.none();const p=(C=>C.search.fold(()=>({searchMode:"no-search"}),T=>({searchMode:"search-with-field",placeholder:T.placeholder})))(l),b=wD(d,m.items,r,a,l.isHorizontalMenu,p),x=(C=>C.search.fold(()=>({searchMode:"no-search"}),T=>({searchMode:"search-with-results"})))(l),w=Ss(m.menus,(C,T)=>wD(T,C,r,a,!1,x)),E=Wo(w,am(d,b));return A.from(Wg.tieredData(d,E,m.expansions))},e2=o=>!jo(o,"items"),JD="data-value",L3=(o,r,a,l,d)=>Ae(a,m=>e2(m)?{type:"togglemenuitem",...d?{}:{role:"option"},text:m.text,value:m.value,active:m.value===l,onAction:()=>{zt.setValue(o,m.value),oo(o,pc,{name:r}),mo.focus(o)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>L3(o,r,m.items,l,d)}),F3=(o,r)=>ws(o,a=>e2(a)?ci(a.value===r,a):F3(a.items,r)),z3=o=>{const r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let a=o.value.toFixed((l=o.unit)in r?r[l]:1);var l;return a.indexOf(".")!==-1&&(a=a.replace(/\.?0*$/,"")),a+o.unit},fC=o=>{const r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(r!==null){const a=parseFloat(r[1]),l=r[2];return Fo.value({value:a,unit:l})}return Fo.error(o)},eO=(o,r)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=d=>jo(a,d);return o.unit===r?A.some(o.value):l(o.unit)&&l(r)?a[o.unit]===a[r]?A.some(o.value):A.some(o.value/a[o.unit]*a[r]):A.none()},pC=o=>A.none(),tO=(o,r)=>{const a=fC(o).toOptional(),l=fC(r).toOptional();return vr(a,l,(d,m)=>eO(d,m.unit).map(p=>m.value/p).map(p=>{return b=p,x=m.unit,w=>eO(w,x).map(E=>({value:E*b,unit:x}));var b,x}).getOr(pC)).getOr(pC)},oO=(o,r)=>{const a=o.label.map(E=>dh(E,r)),l=[eo.config({disabled:()=>o.disabled||r.checkUiComponentContext(o.context).shouldDisable}),hr(()=>r.checkUiComponentContext(o.context)),Bt.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:E=>(Qo(E,Gv),A.some(!0))}),vo("textfield-change",[et(im(),(E,C)=>{oo(E,pc,{name:o.name})}),et(df(),(E,C)=>{oo(E,pc,{name:o.name})})]),fs.config({})],d=o.validation.map(E=>Ru.config({getRoot:C=>aa(C.element),invalidClass:"tox-invalid",validator:{validate:C=>{const T=zt.getValue(C),B=E.validator(T);return Dr(B===!0?Fo.value(T):Fo.error(B))},validateOnLoad:E.validateOnLoad}})).toArray(),m={...o.placeholder.fold(ne({}),E=>({placeholder:r.translate(E)})),...o.inputMode.fold(ne({}),E=>({inputmode:E})),"data-mce-name":o.name},p=No.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(E=>({data:E})).getOr({}),inputAttributes:m,inputClasses:[o.classname],inputBehaviours:pt(Ps([l,d])),selectOnFocus:!1,factory:Ip}),b=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[p]}:p,x=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),w=[eo.config({disabled:()=>o.disabled||r.checkUiComponentContext(o.context).shouldDisable,onDisabled:E=>{No.getField(E).each(eo.disable)},onEnabled:E=>{No.getField(E).each(eo.enable)}}),hr(()=>r.checkUiComponentContext(o.context))];return Wv(a,b,x,w)},nO=o=>({isEnabled:()=>!eo.isDisabled(o),setEnabled:r=>eo.set(o,!r),setActive:r=>{const a=o.element;r?(ls(a,"tox-tbtn--enabled"),bo(a,"aria-pressed",!0)):(vs(a,"tox-tbtn--enabled"),qs(a,"aria-pressed"))},isActive:()=>Ja(o.element,"tox-tbtn--enabled"),setTooltip:r=>{oo(o,YD,{text:r})},setText:r=>{oo(o,eu,{text:r})},setIcon:r=>oo(o,X1,{icon:r})}),t2=(o,r,a,l,d=!0,m)=>{const p=o.buttonType==="bordered"?["bordered"]:[];return mC({text:o.text,icon:o.icon,tooltip:o.tooltip,ariaLabel:o.tooltip,searchable:o.search.isSome(),role:l,fetch:(b,x)=>{const w={pattern:o.search.isSome()?kB(b):""};o.fetch(E=>{x(Ab(E,Jd.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:o.search}))},w,nO(b))},onSetup:o.onSetup,getApi:b=>nO(b),columns:1,presets:"normal",classes:p,dropdownBehaviours:[...d?[fs.config({})]:[]],context:o.context},r,a.shared,m)},FB=(o,r,a)=>{const l=m=>p=>{const b=!p.isActive();p.setActive(b),m.storage.set(b),a.shared.getSink().each(x=>{r().getOpt(x).each(w=>{Ws(w.element),oo(w,Nf,{name:m.name,value:m.storage.get()})})})},d=m=>p=>{p.setActive(m.storage.get())};return m=>{m(Ae(o,p=>{const b=p.text.fold(()=>({}),x=>({text:x}));return{type:p.type,active:!1,...b,context:p.context,onAction:l(p),onSetup:d(p)}}))}},sO=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":o}},components:[$s(o)]}),rO=(o,r,a)=>{o.customStateIcon.each(l=>r.push(iO(l,a.shared.providers.icons,o.customStateIconTooltip.fold(()=>[],d=>[Rs.config(a.shared.providers.tooltips.getConfig({tooltipText:d}))]),["tox-icon-custom-state"])))},aO=Me("leaf-label-event-id"),H3=({leaf:o,onLeafAction:r,visible:a,treeId:l,selectedId:d,backstage:m})=>{const p=o.menu.map(x=>t2(x,"tox-mbtn",m,A.none(),a)),b=[sO(o.title)];return rO(o,b,m),p.each(x=>b.push(x)),ua.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:b,role:"treeitem",action:x=>{r(o.id),x.getSystem().broadcastOn([`update-active-item-${l}`],{value:o.id})},eventOrder:{[Id()]:[aO,"keying"]},buttonBehaviours:pt([...a?[fs.config({})]:[],Zo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Vl.config({channels:{[`update-active-item-${l}`]:{onReceive:(x,w)=>{(w.value===o.id?Zo.on:Zo.off)(x)}}}}),vo(aO,[ts((x,w)=>{d.each(E=>{(E===o.id?Zo.on:Zo.off)(x)})}),et(Id(),(x,w)=>{const E=w.event.raw.code==="ArrowLeft",C=w.event.raw.code==="ArrowRight";E?(Li(x.element,".tox-tree--directory").each(T=>{x.getSystem().getByDom(T).each(B=>{Jc(T,".tox-tree--directory__label").each(L=>{B.getSystem().getByDom(L).each(mo.focus)})})}),w.stop()):C&&w.stop()})])])})},iO=(o,r,a,l,d)=>pd(o,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:a,attributes:d},r),V3=Me("directory-label-event-id"),zB=({directory:o,visible:r,noChildren:a,backstage:l})=>{const d=o.menu.map(x=>t2(x,"tox-mbtn",l,A.none())),m=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p=l.shared.providers.icons,iO("chevron-right",p,[]))]},sO(o.title)];var p;rO(o,m,l),d.each(x=>{m.push(x)});const b=x=>{Li(x.element,".tox-tree--directory").each(w=>{x.getSystem().getByDom(w).each(E=>{const C=!Zo.isOn(E);Zo.toggle(E),oo(x,"expand-tree-node",{expanded:C,node:o.id})})})};return ua.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:m,action:b,eventOrder:{[Id()]:[V3,"keying"]},buttonBehaviours:pt([...r?[fs.config({})]:[],vo(V3,[et(Id(),(x,w)=>{const E=w.event.raw.code==="ArrowRight",C=w.event.raw.code==="ArrowLeft";E&&a&&w.stop(),(E||C)&&Li(x.element,".tox-tree--directory").each(T=>{x.getSystem().getByDom(T).each(B=>{!Zo.isOn(B)&&E||Zo.isOn(B)&&C?(b(x),w.stop()):C&&!Zo.isOn(B)&&(Li(B.element,".tox-tree--directory").each(L=>{Jc(L,".tox-tree--directory__label").each(Y=>{B.getSystem().getByDom(Y).each(mo.focus)})}),w.stop())})})})])])})},HB=({children:o,onLeafAction:r,visible:a,treeId:l,expandedIds:d,selectedId:m,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(b=>b.type==="leaf"?H3({leaf:b,selectedId:m,onLeafAction:r,visible:a,treeId:l,backstage:p}):$3({directory:b,expandedIds:d,selectedId:m,onLeafAction:r,labelTabstopping:a,treeId:l,backstage:p})),behaviours:pt([$l.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),Do.config({})])}),VB=Me("directory-event-id"),$3=({directory:o,onLeafAction:r,labelTabstopping:a,treeId:l,backstage:d,expandedIds:m,selectedId:p})=>{const{children:b}=o,x=Vt(m),w=m.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[zB({directory:o,visible:a,noChildren:o.children.length===0,backstage:d}),HB({children:b,expandedIds:m,selectedId:p,onLeafAction:r,visible:w,treeId:l,backstage:d})],behaviours:pt([vo(VB,[ts((E,C)=>{Zo.set(E,w)}),et("expand-tree-node",(E,C)=>{const{expanded:T,node:B}=C.event;x.set(T?[...x.get(),B]:x.get().filter(L=>L!==B))})]),Zo.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(E,C)=>{const T=E.components()[1],B=(L=C,b.map(Y=>Y.type==="leaf"?H3({leaf:Y,selectedId:p,onLeafAction:r,visible:L,treeId:l,backstage:d}):$3({directory:Y,expandedIds:x.get(),selectedId:p,onLeafAction:r,labelTabstopping:L,treeId:l,backstage:d})));var L;C?$l.grow(T):$l.shrink(T),Do.set(T,B)}})])}},$B=Me("tree-event-id"),Tb=(o,r,a=[],l,d,m,p)=>{const b=r.fold(()=>({}),E=>({action:E})),x={buttonBehaviours:pt([Q4(()=>!o.enabled||p.checkUiComponentContext(o.context).shouldDisable),hr(()=>p.checkUiComponentContext(o.context)),fs.config({}),...m.map(E=>Rs.config(p.tooltips.getConfig({tooltipText:p.translate(E)}))).toArray(),vo("button press",[B0("click")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...b},w=Wo(x,{dom:l});return Wo(w,{components:d})},UB=(o,r,a,l=[],d)=>{const m={tag:"button",classes:["tox-tbtn"],attributes:{...o.tooltip.map(x=>({"aria-label":a.translate(x)})).getOr({}),"data-mce-name":d}},p=o.icon.map(x=>uC(x,a.icons)),b=ih([p]);return Tb(o,r,l,m,b,o.tooltip,a)},U3=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},lO=(o,r,a,l=[],d=[])=>{const m=a.translate(o.text),p=o.icon.map(C=>uC(C,a.icons)),b=[p.getOrThunk(()=>$s(m))],x=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),w={tag:"button",classes:[...U3(x),...p.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...d],attributes:{"aria-label":m,"data-mce-name":o.text}},E=o.icon.map(ne(m));return Tb(o,r,l,w,b,E,a)},Z3=(o,r,a,l=[],d=[])=>{const m=lO(o,A.some(r),a,l,d);return ua.sketch(m)},j3=(o,r)=>a=>{r==="custom"?oo(a,Nf,{name:o,value:{}}):r==="submit"?Qo(a,Gv):r==="cancel"?Qo(a,uh):console.error("Unknown button type: ",r)},gC=(o,r,a)=>{if(((l,d)=>d==="menu")(0,r)){const l=()=>p,d=o,m={...o,buttonType:"default",type:"menubutton",search:A.none(),onSetup:b=>(b.setEnabled(o.enabled),xe),fetch:FB(d.items,l,a)},p=Fn(t2(m,"tox-tbtn",a,A.none(),!0,o.text.or(o.tooltip).getOrUndefined()));return p.asSpec()}if(((l,d)=>d==="custom"||d==="cancel"||d==="submit")(0,r)){const l=j3(o.name,r),d={...o,context:r==="cancel"?"any":o.context,borderless:!1};return Z3(d,l,a.shared.providers,[])}if(((l,d)=>d==="togglebutton")(0,r))return((l,d,m)=>{var p,b;const x=l.icon.map(U=>fh(U,d.icons)).map(Fn),w=l.buttonType.getOr(l.primary?"primary":"secondary"),E={...l,name:(p=l.name)!==null&&p!==void 0?p:"",tooltip:l.tooltip,enabled:(b=l.enabled)!==null&&b!==void 0&&b},C=E.tooltip.or(l.text).map(U=>({"aria-label":d.translate(U)})).getOr({}),T=U3(w??"secondary"),B=l.icon.isSome()&&l.text.isSome(),L={tag:"button",classes:[...T.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...B?["tox-button--icon-and-text"]:[]],attributes:{...C,...Ne(m)?{"data-mce-name":m}:{}}},Y=d.translate(l.text.getOr("")),W=$s(Y),X=[...ih([x.map(U=>U.asSpec())]),...l.text.isSome()?[W]:[]],$=Tb(E,A.some(U=>{oo(U,Nf,{name:l.name,value:{setIcon:te=>{x.map(oe=>oe.getOpt(U).each(de=>{Do.set(de,[fh(te,d.icons)])}))}}})}),[],L,X,l.tooltip,d);return ua.sketch($)})(o,a.shared.providers,o.text.or(o.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")},ZB={type:"separator"},cO=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:xe}),W3=(o,r)=>({type:"menuitem",value:r,text:o,meta:{attach:void 0},onAction:xe}),dO=(o,r)=>(a=>Ae(a,cO))(((a,l)=>Oo(l,d=>d.type===a))(o,r)),jB=o=>dO("header",o.targets),WB=o=>dO("anchor",o.targets),qB=o=>A.from(o.anchorTop).map(r=>W3("<top>",r)).toArray(),GB=o=>A.from(o.anchorBottom).map(r=>W3("<bottom>",r)).toArray(),Db=(o,r)=>{const a=o.toLowerCase();return Oo(r,l=>{var d;const m=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(d=l.value)!==null&&d!==void 0?d:"";return Es(m.toLowerCase(),a)||Es(p.toLowerCase(),a)})},uO=Me("aria-invalid"),Kr=o=>(r,a,l,d,m)=>Kt(a,"name").fold(()=>o(a,d,A.none(),m),p=>r.field(p,o(a,d,Kt(l,p),m))),KB={bar:Kr((o,r)=>((a,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ae(a.items,l.interpreter)}))(o,r.shared)),collection:Kr((o,r,a)=>T3(o,r.shared.providers,a)),alertbanner:Kr((o,r)=>((a,l)=>{const d=FT(a.icon,l.icons);return _m.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${a.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:a.url?void 0:d},components:a.url?[ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:d,attributes:{title:l.translate(a.iconTooltip)}},action:m=>oo(m,Nf,{name:"alert-banner",value:a.url}),buttonBehaviours:pt([Tw()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(a.text)}}]})})(o,r.shared.providers)),input:Kr((o,r,a)=>((l,d,m)=>oO({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:A.none(),maximized:l.maximized,data:m,context:l.context},d))(o,r.shared.providers,a)),textarea:Kr((o,r,a)=>((l,d,m)=>oO({name:l.name,multiline:!0,label:l.label,inputMode:A.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:A.none(),maximized:l.maximized,data:m,context:l.context},d))(o,r.shared.providers,a)),label:Kr((o,r,a,l)=>((d,m,p)=>{const b="tox-label",x=d.align==="center"?[`${b}--center`]:[],w=d.align==="end"?[`${b}--end`]:[],E=Fn({dom:{tag:"label",classes:[b,...x,...w]},components:[$s(m.providers.translate(d.label))]}),C=Ae(d.items,m.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[E.asSpec(),...C],behaviours:pt([Rf(),Do.config({}),(T=A.none(),OD(T,Th,tm)),Bt.config({mode:"acyclic"}),vo("label",[ts(B=>{d.for.each(L=>{p(L).each(Y=>{E.getOpt(B).each(W=>{var X;const $=(X=wr(Y.element,"id"))!==null&&X!==void 0?X:Me("form-field");bo(Y.element,"id",$),bo(W.element,"for",$)})})})})])])};var T})(o,r.shared,l)),iframe:(TO=(o,r,a)=>((l,d,m)=>{const p="tox-dialog__iframe",b=l.transparent?[]:[`${p}--opaque`],x=l.border?["tox-navobj-bordered"]:[],w={...l.label.map(B=>({title:B})).getOr({}),...m.map(B=>({srcdoc:B})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},E=((B,L)=>{const Y=Vt(B.getOr(""));return{getValue:W=>Y.get(),setValue:(W,X)=>{if(Y.get()!==X){const $=W.element,U=()=>bo($,"srcdoc",X);L?IB.fold(ne(qD),te=>te.throttle)($,X,U):U()}Y.set(X)}}})(m,l.streamContent),C=l.label.map(B=>dh(B,d)),T=No.parts.field({factory:{sketch:B=>zD(A.from(x),{uid:B.uid,dom:{tag:"iframe",attributes:w,classes:[p,...b]},behaviours:pt([fs.config({}),mo.config({}),Y1(m,E.getValue,E.setValue),Vl.config({channels:{[dC]:{onReceive:(L,Y)=>{Y.newFocus.each(W=>{aa(L.element).each(X=>{(In(L.element,W)?ls:vs)(X,"tox-navobj-bordered-focus")})})}}}})])})}});return Wv(C,T,["tox-form__group--stretched"],[])})(o,r.shared.providers,a),(o,r,a,l,d)=>{const m=Wo(r,{source:"dynamic"});return Kr(TO)(o,m,a,l,d)}),button:Kr((o,r)=>((a,l)=>{const d=j3(a.name,"custom");return m=A.none(),p=No.parts.field({factory:ua,...lO(a,A.some(d),l,[lC(""),Rf()])}),Wv(m,p,[],[]);var m,p})(o,r.shared.providers)),checkbox:Kr((o,r,a)=>((l,d,m)=>{const p=C=>(C.element.dom.click(),A.some(!0)),b=No.parts.field({factory:{sketch:kt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:pt([Rf(),eo.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:C=>{aa(C.element).each(T=>ls(T,"tox-checkbox--disabled"))},onEnabled:C=>{aa(C.element).each(T=>vs(T,"tox-checkbox--disabled"))}}),fs.config({}),mo.config({}),OD(m,Md,Da),Bt.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),vo("checkbox-events",[et(cf(),(C,T)=>{oo(C,pc,{name:l.name})})])])}),x=No.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[$s(d.translate(l.label))],behaviours:pt([kf.config({})])}),w=C=>pd(C==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+C]},d.icons),E=Fn({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return No.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,E.asSpec(),x],fieldBehaviours:pt([eo.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),hr(()=>d.checkUiComponentContext(l.context))])})})(o,r.shared.providers,a)),colorinput:Kr((o,r,a)=>((l,d,m,p)=>{const b=No.parts.field({factory:Ip,inputClasses:["tox-textfield"],data:p,onSetValue:C=>Ru.run(C).get(xe),inputBehaviours:pt([eo.config({disabled:()=>d.providers.isDisabled()||d.providers.checkUiComponentContext(l.context).shouldDisable}),hr(()=>d.providers.checkUiComponentContext(l.context)),fs.config({}),Ru.config({invalidClass:"tox-textbox-field-invalid",getRoot:C=>aa(C.element),notify:{onValid:C=>{const T=zt.getValue(C);oo(C,D3,{color:T})}},validator:{validateOnLoad:!1,validate:C=>{const T=zt.getValue(C);if(T.length===0)return Dr(Fo.value(!0));{const B=Kl("span");To(B,"background-color",T);const L=ba(B,"background-color").fold(()=>Fo.error("blah"),Y=>Fo.value(T));return Dr(L)}}}})]),selectOnFocus:!1}),x=l.label.map(C=>dh(C,d.providers)),w=(C,T)=>{oo(C,AD,{value:T})},E=Fn(((C,T)=>Bc.sketch({dom:C.dom,components:C.components,toggleClass:"mce-active",dropdownBehaviours:pt([jp(()=>T.providers.isDisabled()||T.providers.checkUiComponentContext(C.context).shouldDisable),hr(()=>T.providers.checkUiComponentContext(C.context)),kf.config({}),fs.config({})]),layouts:C.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:T.getSink,fetch:B=>sa(L=>C.fetch(L)).map(L=>A.from(k3(Wo(sC(Me("menu-value"),L,Y=>{C.onItemAction(B,Y)},C.columns,C.presets,Jd.CLOSE_ON_EXECUTE,Ke,T.providers),{movement:Zv(C.columns,C.presets)})))),parts:{menu:Bw(0,0,C.presets)}}))({dom:{tag:"span",attributes:{"aria-label":d.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Br,jr,Pr],onLtr:()=>[jr,Br,Pr]},components:[],fetch:y3(m.getColors(l.storageKey),l.storageKey,m.hasCustomColors()),columns:m.getColorCols(l.storageKey),presets:"color",onItemAction:(C,T)=>{E.getOpt(C).each(B=>{T==="custom"?m.colorPicker(L=>{L.fold(()=>Qo(B,TD),Y=>{w(B,Y),K1(l.storageKey,Y)})},"#ffffff"):w(B,T==="remove"?"":T)})},context:l.context},d));return No.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:x.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,E.asSpec()]}]),fieldBehaviours:pt([vo("form-field-events",[et(D3,(C,T)=>{E.getOpt(C).each(B=>{To(B.element,"background-color",T.event.color)}),oo(C,pc,{name:l.name})}),et(AD,(C,T)=>{No.getField(C).each(B=>{zt.setValue(B,T.event.value),Cn.getCurrent(C).each(mo.focus)})}),et(TD,(C,T)=>{No.getField(C).each(B=>{Cn.getCurrent(C).each(mo.focus)})})])])})})(o,r.shared,r.colorinput,a)),colorpicker:Kr((o,r,a)=>((l,d,m)=>{const p=w=>"tox-"+w,b=DB((w=>E=>Se(E)?w.translate(ID[E]):w.translate(E))(d),p,d.tooltips.getConfig,(w,E,C=w,T=w)=>pd(C,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+w],attributes:{title:d.translate(T),"aria-live":"polite",...E.fold(()=>({}),B=>({id:B}))}},d.icons)),x=Fn(b.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:w=>{oo(w,Nf,{name:"hex-valid",value:!0})},onInvalidHex:w=>{oo(w,Nf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[x.asSpec()],behaviours:pt([Y1(m,w=>{const E=x.get(w);return Cn.getCurrent(E).bind(C=>zt.getValue(C).hex).map(C=>"#"+Yn(C,"#")).getOr("")},(w,E)=>{const C=A.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(E)).bind(B=>jl(B,1)),T=x.get(w);Cn.getCurrent(T).fold(()=>{console.log("Can not find form")},B=>{zt.setValue(B,{hex:C.getOr("")}),nb.getField(B,"hex").each(L=>{Qo(L,im())})})}),Rf()])}})(0,r.shared.providers,a)),dropzone:Kr((o,r,a)=>NB(o,r.shared.providers,a)),grid:Kr((o,r)=>((a,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${a.columns}col`]},components:Ae(a.items,l.interpreter)}))(o,r.shared)),listbox:Kr((o,r,a)=>((l,d,m)=>{const p=Tn(l.items,T=>!e2(T)),b=d.shared.providers,x=m.bind(T=>F3(l.items,T)).orThunk(()=>xr(l.items).filter(e2)),w=l.label.map(T=>dh(T,b)),E=No.parts.field({dom:{},factory:{sketch:T=>mC({context:l.context,uid:T.uid,text:x.map(B=>B.text),icon:A.none(),tooltip:A.none(),role:ci(!p,"combobox"),...p?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(B,L)=>{const Y=L3(B,l.name,l.items,zt.getValue(B),p);L(Ab(Y,Jd.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:A.none()}))},onSetup:ne(xe),getApi:ne({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[fs.config({}),Y1(x.map(B=>B.value),B=>wr(B.element,JD),(B,L)=>{F3(l.items,L).each(Y=>{bo(B.element,JD,Y.value),oo(B,eu,{text:Y.text})})})]},"tox-listbox",d.shared)}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[E]};return No.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ps([w.toArray(),[C]]),fieldBehaviours:pt([eo.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable,onDisabled:T=>{No.getField(T).each(eo.disable)},onEnabled:T=>{No.getField(T).each(eo.enable)}})])})})(o,r,a)),selectbox:Kr((o,r,a)=>((l,d,m)=>{const p=Ae(l.items,C=>({text:d.translate(C.text),value:C.value})),b=l.label.map(C=>dh(C,d)),x=No.parts.field({dom:{},...m.map(C=>({data:C})).getOr({}),selectAttributes:{size:l.size},options:p,factory:pR,selectBehaviours:pt([eo.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),fs.config({}),vo("selectbox-change",[et(cf(),(C,T)=>{oo(C,pc,{name:l.name})})])])}),w=l.size>1?A.none():A.some(pd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},d.icons)),E={dom:{tag:"div",classes:["tox-selectfield"]},components:Ps([[x],w.toArray()])};return No.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ps([b.toArray(),[E]]),fieldBehaviours:pt([eo.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:C=>{No.getField(C).each(eo.disable)},onEnabled:C=>{No.getField(C).each(eo.enable)}}),hr(()=>d.checkUiComponentContext(l.context))])})})(o,r.shared.providers,a)),sizeinput:Kr((o,r)=>((a,l)=>{let d=pC;const m=Me("ratio-event"),p=X=>pd(X,{tag:"span",classes:["tox-icon","tox-lock-icon__"+X]},l.icons),b=()=>!a.enabled||l.checkUiComponentContext(a.context).shouldDisable,x=hr(()=>l.checkUiComponentContext(a.context)),w=a.label.getOr("Constrain proportions"),E=l.translate(w),C=qr.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":w}},components:[p("lock"),p("unlock")],buttonBehaviours:pt([eo.config({disabled:b}),x,fs.config({}),Rs.config(l.tooltips.getConfig({tooltipText:E}))])}),T=X=>({dom:{tag:"div",classes:["tox-form__group"]},components:X}),B=X=>No.parts.field({factory:Ip,inputClasses:["tox-textfield"],inputBehaviours:pt([eo.config({disabled:b}),x,fs.config({}),vo("size-input-events",[et(Rl(),($,U)=>{oo($,m,{isField1:X})}),et(cf(),($,U)=>{oo($,pc,{name:a.name})})])]),selectOnFocus:!1}),L=X=>({dom:{tag:"label",classes:["tox-label"]},components:[$s(l.translate(X))]}),Y=qr.parts.field1(T([No.parts.label(L("Width")),B(!0)])),W=qr.parts.field2(T([No.parts.label(L("Height")),B(!1)]));return qr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Y,W,T([L(" "),C])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(X,$,U)=>{fC(zt.getValue(X)).each(te=>{d(te).each(oe=>{zt.setValue($,z3(oe))})})},coupledFieldBehaviours:pt([eo.config({disabled:b,onDisabled:X=>{qr.getField1(X).bind(No.getField).each(eo.disable),qr.getField2(X).bind(No.getField).each(eo.disable),qr.getLock(X).each(eo.disable)},onEnabled:X=>{qr.getField1(X).bind(No.getField).each(eo.enable),qr.getField2(X).bind(No.getField).each(eo.enable),qr.getLock(X).each(eo.enable)}}),hr(()=>l.checkUiComponentContext("mode:design")),vo("size-input-events2",[et(m,(X,$)=>{const U=$.event.isField1,te=U?qr.getField1(X):qr.getField2(X),oe=U?qr.getField2(X):qr.getField1(X),de=te.map(zt.getValue).getOr(""),he=oe.map(zt.getValue).getOr("");d=tO(de,he)})])])})})(o,r.shared.providers)),slider:Kr((o,r,a)=>((l,d,m)=>{const p=Lu.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(d.translate(l.label))]}),b=Lu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),x=Lu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Lu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:ne(m.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,b,x],sliderBehaviours:pt([Rf(),mo.config({})]),onChoose:(w,E,C)=>{oo(w,pc,{name:l.name,value:C})},onChange:(w,E,C)=>{oo(w,pc,{name:l.name,value:C})}})})(o,r.shared.providers,a)),urlinput:Kr((o,r,a)=>((l,d,m,p)=>{const b=d.shared.providers,x=$=>{const U=zt.getValue($);m.addToHistory(U.value,l.filetype)},w={...p.map($=>({initialData:$})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":uO,type:"url"},minChars:0,responseTime:0,fetch:$=>{const U=((oe,de,he)=>{var ke,Ve;const tt=zt.getValue(de),Je=(Ve=(ke=tt==null?void 0:tt.meta)===null||ke===void 0?void 0:ke.text)!==null&&Ve!==void 0?Ve:tt.value;return he.getLinkInformation().fold(()=>[],st=>{const vt=Db(Je,(no=>Ae(no,po=>W3(po,po)))(he.getHistory(oe)));return oe==="file"?(Qt=[vt,Db(Je,jB(st)),Db(Je,Ps([qB(st),WB(st),GB(st)]))],Go(Qt,(no,po)=>no.length===0||po.length===0?no.concat(po):no.concat(ZB,po),[])):vt;var Qt})})(l.filetype,$,m),te=Ab(U,Jd.BUBBLE_TO_SANDBOX,d,{isHorizontalMenu:!1,search:A.none()});return Dr(te)},getHotspot:$=>W.getOpt($),onSetValue:($,U)=>{$.hasConfigured(Ru)&&Ru.run($).get(xe)},typeaheadBehaviours:pt([...m.getValidationHandler().map($=>Ru.config({getRoot:U=>aa(U.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(U,te)=>{T.getOpt(U).each(oe=>{bo(oe.element,"title",b.translate(te))})}},validator:{validate:U=>{const te=zt.getValue(U);return pa(oe=>{$({type:l.filetype,url:te.value},de=>{if(de.status==="invalid"){const he=Fo.error(de.message);oe(he)}else{const he=Fo.value(de.message);oe(he)}})})},validateOnLoad:!1}})).toArray(),eo.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable}),fs.config({}),vo("urlinput-events",[et(im(),$=>{const U=la($.element),te=U.trim();te!==U&&Bd($.element,te),l.filetype==="file"&&oo($,pc,{name:l.name})}),et(cf(),$=>{oo($,pc,{name:l.name}),x($)}),et(df(),$=>{oo($,pc,{name:l.name}),x($)})])]),eventOrder:{[im()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:$=>$.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:d.shared.getSink,parts:{menu:Bw(0,0,"normal")},onExecute:($,U,te)=>{oo(U,Gv,{})},onItemExecute:($,U,te,oe)=>{x($),oo($,pc,{name:l.name})}},E=No.parts.field({...w,factory:$R}),C=l.label.map($=>dh($,b)),T=Fn((($,U,te=$,oe=$)=>pd(te,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+$],attributes:{title:b.translate(oe),"aria-live":"polite",...U.fold(()=>({}),de=>({id:de}))}},b.icons))("invalid",A.some(uO),"warning")),B=Fn({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[T.asSpec()]}),L=m.getUrlPicker(l.filetype),Y=Me("browser.url.event"),W=Fn({dom:{tag:"div",classes:["tox-control-wrap"]},components:[E,B.asSpec()],behaviours:pt([eo.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable})])}),X=Fn(Z3({context:l.context,name:l.name,icon:A.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:A.none(),borderless:!0},$=>Qo($,Y),b,[],["tox-browse-url"]));return No.sketch({dom:SD([]),components:C.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ps([[W.asSpec()],L.map(()=>X.asSpec()).toArray()])}]),fieldBehaviours:pt([eo.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable,onDisabled:$=>{No.getField($).each(eo.disable),X.getOpt($).each(eo.disable)},onEnabled:$=>{No.getField($).each(eo.enable),X.getOpt($).each(eo.enable)}}),hr(()=>b.checkUiComponentContext(l.context)),vo("url-input-events",[et(Y,$=>{Cn.getCurrent($).each(U=>{const te=zt.getValue(U),oe={fieldname:l.name,...te};L.each(de=>{de(oe).get(he=>{zt.setValue(U,he),oo($,pc,{name:l.name})})})})})])])})})(o,r,r.urlinput,a)),customeditor:Kr(o=>{const r=Pn(),a=Fn({dom:{tag:o.tag}}),l=Pn(),d=!LD(o)&&o.onFocus.isSome()?[mo.config({onFocus:m=>{o.onFocus.each(p=>{p(m.element.dom)})}}),fs.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:pt([vo("custom-editor-events",[ts(m=>{a.getOpt(m).each(p=>{(LD(o)?o.init(p.element.dom):OB.load(o.scriptId,o.scriptUrl).then(b=>b(p.element.dom,o.settings))).then(b=>{l.on(x=>{b.setValue(x)}),l.clear(),r.set(b)})})})]),Y1(A.none(),()=>r.get().fold(()=>l.get().getOr(""),m=>m.getValue()),(m,p)=>{r.get().fold(()=>l.set(p),b=>b.setValue(p))}),Rf()].concat(d)),components:[a.asSpec()]}}),htmlpanel:Kr((o,r)=>((a,l)=>{const d=["tox-form__group",...a.stretched?["tox-form__group--stretched"]:[]],m=vo("htmlpanel",[ts(p=>{a.onInit(p.element.dom)})]);return a.presets==="presentation"?_m.sketch({dom:{tag:"div",classes:d,innerHtml:a.html},containerBehaviours:pt([Rs.config({...l.tooltips.getConfig({tooltipText:"",onShow:p=>{On(p.element,"[data-mce-tooltip]:hover").orThunk(()=>As(p.element)).each(b=>{Ta(b,"data-mce-tooltip").each(x=>{Rs.setComponents(p,l.tooltips.getComponents({tooltipText:x}))})})}}),mode:"children-normal",anchor:p=>({type:"node",node:On(p.element,"[data-mce-tooltip]:hover").orThunk(()=>As(p.element).filter(b=>Ta(b,"data-mce-tooltip").isSome())),root:p.element,layouts:{onLtr:ne([Pr,ya,jr,Wa,Br,oi]),onRtl:ne([Pr,ya,jr,Wa,Br,oi])},bubble:ml(0,-2,{})})}),m])}):_m.sketch({dom:{tag:"div",classes:d,innerHtml:a.html,attributes:{role:"document"}},containerBehaviours:pt([fs.config({}),mo.config({}),m])})})(o,r.shared.providers)),imagepreview:Kr((o,r,a)=>((l,d)=>{const m=Vt(d.getOr({url:""})),p=Fn({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:d.map(E=>({src:E.url})).getOr({})}}),b=Fn({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),x={};l.height.each(E=>x.height=E);const w=d.map(E=>({url:E.url,zoom:A.from(E.zoom),cachedWidth:A.from(E.cachedWidth),cachedHeight:A.from(E.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:x,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:pt([Rf(),Y1(w,()=>m.get(),(E,C)=>{const T={url:C.url};C.zoom.each(L=>T.zoom=L),C.cachedWidth.each(L=>T.cachedWidth=L),C.cachedHeight.each(L=>T.cachedHeight=L),m.set(T);const B=()=>{const{cachedWidth:L,cachedHeight:Y,zoom:W}=T;if(!Ht(L)&&!Ht(Y)){if(Ht(W)){const $=((U,te,oe)=>{const de=$a(U),he=Gs(U);return Math.min(de/te,he/oe,1)})(E.element,L,Y);T.zoom=$}const X=(($,U,te,oe,de)=>{const he=te*de,ke=oe*de,Ve=Math.max(0,$/2-he/2),tt=Math.max(0,U/2-ke/2);return{left:Ve.toString()+"px",top:tt.toString()+"px",width:he.toString()+"px",height:ke.toString()+"px"}})($a(E.element),Gs(E.element),L,Y,T.zoom);b.getOpt(E).each($=>{Ei($.element,X)})}};p.getOpt(E).each(L=>{const Y=L.element;C.url!==wr(Y,"src")&&(bo(Y,"src",C.url),vs(E.element,"tox-imagepreview__loaded")),B(),qm(Y).then(W=>{E.getSystem().isConnected()&&(ls(E.element,"tox-imagepreview__loaded"),T.cachedWidth=W.dom.naturalWidth,T.cachedHeight=W.dom.naturalHeight,B())})})})])}})(o,a)),table:Kr((o,r)=>((a,l)=>{const d=b=>({dom:{tag:"td",innerHtml:l.translate(b)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=a.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ae(p,b=>({dom:{tag:"th",innerHtml:l.translate(b)}}))}]}),(m=a.cells,{dom:{tag:"tbody"},components:Ae(m,b=>({dom:{tag:"tr"},components:Ae(b,d)}))})],behaviours:pt([fs.config({}),mo.config({})])};var m,p})(o,r.shared.providers)),tree:Kr((o,r)=>((a,l)=>{const d=a.onLeafAction.getOr(xe),m=a.onToggleExpand.getOr(xe),p=a.defaultExpandedIds,b=Vt(p),x=Vt(a.defaultSelectedId),w=Me("tree-id"),E=(C,T)=>a.items.map(B=>B.type==="leaf"?H3({leaf:B,selectedId:C,onLeafAction:d,visible:!0,treeId:w,backstage:l}):$3({directory:B,selectedId:C,onLeafAction:d,expandedIds:T,labelTabstopping:!0,treeId:w,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:E(x.get(),b.get()),behaviours:pt([Bt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),vo($B,[et("expand-tree-node",(C,T)=>{const{expanded:B,node:L}=T.event;b.set(B?[...b.get(),L]:b.get().filter(Y=>Y!==L)),m(b.get(),{expanded:B,node:L})})]),Vl.config({channels:{[`update-active-item-${w}`]:{onReceive:(C,T)=>{x.set(A.some(T.value)),Do.set(C,E(A.some(T.value),b.get()))}}}}),Do.config({})])}})(o,r)),panel:Kr((o,r)=>((a,l)=>({dom:{tag:"div",classes:a.classes},components:Ae(a.items,l.shared.interpreter)}))(o,r))},YB={field:(o,r)=>r,record:ne([])},mO=(o,r,a,l,d)=>{const m=Wo(l,{shared:{interpreter:p=>q3(o,p,a,m,d)}});return q3(o,r,a,m,d)},q3=(o,r,a,l,d)=>Kt(KB,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),m=>m(o,r,a,l,d)),XB=(o,r,a,l)=>q3(YB,o,r,a,l),ph={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},Ob=(o,r,a)=>{const l={maxHeightFunction:gm()};return()=>a()?{type:"node",root:Ed(Aa(o())),node:A.from(o()),bubble:ml(12,12,ph),layouts:{onRtl:()=>[_u],onLtr:()=>[Ag]},overrides:l}:{type:"hotspot",hotspot:r(),bubble:ml(-12,12,ph),layouts:{onRtl:()=>[jr,Br,Pr],onLtr:()=>[Br,jr,Pr]},overrides:l}},fO=(o,r,a,l)=>{const d={maxHeightFunction:gm()};return()=>l()?{type:"node",root:Ed(Aa(r())),node:A.from(r()),bubble:ml(12,12,ph),layouts:{onRtl:()=>[Zi],onLtr:()=>[Zi]},overrides:d}:o?{type:"node",root:Ed(Aa(r())),node:A.from(r()),bubble:ml(0,-rl(r()),ph),layouts:{onRtl:()=>[ya],onLtr:()=>[ya]},overrides:d}:{type:"hotspot",hotspot:a(),bubble:ml(0,0,ph),layouts:{onRtl:()=>[ya],onLtr:()=>[ya]},overrides:d}},pO=(o,r,a)=>()=>a()?{type:"node",root:Ed(Aa(o())),node:A.from(o()),layouts:{onRtl:()=>[Zi],onLtr:()=>[Zi]}}:{type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[Pr],onLtr:()=>[Pr]}},QB=(o,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const a=o.selection.getRng(),l=o.model.table.getSelectedCells();if(l.length>1){const d=l[0],m=l[l.length-1],p={firstCell:Ft(d),lastCell:Ft(m)};return A.some(p)}return A.some(Ac.range(Ft(a.startContainer),a.startOffset,Ft(a.endContainer),a.endOffset))}}),JB=o=>r=>({type:"node",root:o(),node:r}),eP=(o,r,a,l)=>{const d=Fu(o),m=()=>Ft(o.getBody()),p=()=>Ft(o.getContentAreaContainer()),b=()=>d||!l();return{inlineDialog:Ob(p,r,b),inlineBottomDialog:fO(o.inline,p,a,b),banner:pO(p,r,b),cursor:QB(o,m),node:JB(m)}},tP=o=>(r,a)=>{hD(o)(r,a)},oP=o=>()=>lD(o),nP=o=>r=>Eb(o,r),sP=o=>r=>v3(o,r),rP=o=>()=>uT(o),gO=o=>xs(o,"items"),hO=o=>xs(o,"format"),bO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],G3=o=>Go(o,(r,a)=>{if(jo(a,"items")){const l=G3(a.items);return{customFormats:r.customFormats.concat(l.customFormats),formats:r.formats.concat([{title:a.title,items:l.formats}])}}if(jo(a,"inline")||(l=>jo(l,"block"))(a)||(l=>jo(l,"selector"))(a)){const l=`custom-${Se(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:l,format:a}]),formats:r.formats.concat([{title:a.title,format:l,icon:a.icon}])}}return{...r,formats:r.formats.concat(a)}},{customFormats:[],formats:[]}),Q1=o=>oT(o).map(r=>{const a=((l,d)=>{const m=G3(d),p=b=>{ht(b,x=>{l.formatter.has(x.name)||l.formatter.register(x.name,x.format)})};return l.formatter?p(m.customFormats):l.on("init",()=>{p(m.customFormats)}),m.formats})(o,r);return nT(o)?bO.concat(a):a}).getOr(bO),gh=(o,r,a)=>({...o,type:"formatter",isSelected:r(o.format),getStylePreview:a(o.format)}),xO=(o,r,a,l)=>{const d=m=>Ae(m,p=>gO(p)?(b=>{const x=d(b.items);return{...b,type:"submenu",getStyleItems:ne(x)}})(p):hO(p)?(b=>gh(b,a,l))(p):(b=>{const x=Zs(b);return x.length===1&&St(x,"title")})(p)?{...p,type:"separator"}:(b=>{const x=Se(b.name)?b.name:Me(b.title),w=`custom-${x}`,E={...b,type:"formatter",format:w,isSelected:a(w),getStylePreview:l(w)};return o.formatter.register(x,E),E})(p));return d(r)},vO=o=>{let r=0;const a=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[$s(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>r>0?60:300,delayForHide:ne(300),exclusive:!0,lazySink:o,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:a(l),onShow:(d,m)=>{r++,l.onShow&&l.onShow(d,m)},onHide:(d,m)=>{r--,l.onHide&&l.onHide(d,m)},onSetup:l.onSetup}),getComponents:a}},yO=vl.trim,o2=o=>r=>!!((a=>Ne(a)&&a.nodeType===1)(r)&&(r.contentEditable===o||r.getAttribute("data-mce-contenteditable")===o)),aP=o2("true"),n2=o2("false"),Nb=(o,r,a,l,d)=>({type:o,title:r,url:a,level:l,attach:d}),wO=o=>o.innerText||o.textContent,iP=o=>(r=>r&&r.nodeName==="A"&&(r.id||r.name)!==void 0)(o)&&_O(o),CO=o=>o&&/^(H[1-6])$/.test(o.nodeName),_O=o=>(r=>{let a=r;for(;a=a.parentNode;){const l=a.contentEditable;if(l&&l!=="inherit")return aP(a)}return!1})(o)&&!n2(o),lP=o=>CO(o)&&_O(o),cP=o=>{var r;const a=(l=>l.id?l.id:Me("h"))(o);return Nb("header",(r=wO(o))!==null&&r!==void 0?r:"","#"+a,(l=>CO(l)?parseInt(l.nodeName.substr(1),10):0)(o),()=>{o.id=a})},hC=o=>{const r=o.id||o.name,a=wO(o);return Nb("anchor",a||"#"+r,"#"+r,0,xe)},dP=o=>yO(o.title).length>0,K3=o=>{const r=(a=>Ae(ca(Ft(a),"h1,h2,h3,h4,h5,h6,a:not([href])"),d=>d.dom))(o);return Oo((a=>Ae(Oo(a,lP),cP))(r).concat((a=>Ae(Oo(a,iP),hC))(r)),dP)},bC="tinymce-url-history",kO=o=>Se(o)&&/^https?/.test(o),Y3=o=>Ee(o)&&ki(o,r=>{return!(Ze(a=r)&&a.length<=5&&_i(a,kO));var a}).isNone(),X3=()=>{const o=G1.getItem(bC);if(o===null)return{};let r;try{r=JSON.parse(o)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+bC+" was not valid JSON",a),{};throw a}return Y3(r)?r:(console.log("Local storage "+bC+" was not valid format",r),{})},SO=o=>{const r=X3();return Kt(r,o).getOr([])},qp=(o,r)=>{if(!kO(o))return;const a=X3(),l=Kt(a,r).getOr([]),d=Oo(l,m=>m!==o);a[r]=[o].concat(d).slice(0,5),(m=>{if(!Y3(m))throw new Error(`Bad format for history:
`+JSON.stringify(m));G1.setItem(bC,JSON.stringify(m))})(a)},hh=o=>!!o,uP=o=>Ss(vl.makeMap(o,/[, ]/),hh),Q3=o=>A.from(lT(o)),J3=o=>A.from(o).filter(Se).getOrUndefined(),mP=o=>({getHistory:SO,addToHistory:qp,getLinkInformation:()=>(r=>fw(r)?A.some({targets:K3(r.getBody()),anchorTop:J3(pw(r)),anchorBottom:J3(dT(r))}):A.none())(o),getValidationHandler:()=>(r=>A.from(cT(r)))(o),getUrlPicker:r=>((a,l)=>((d,m)=>{const p=(b=>{const x=A.from(kv(b)).filter(hh).map(uP);return Q3(b).fold(Ke,w=>x.fold(Xt,E=>Zs(E).length>0&&E))})(d);return Ct(p)?p?Q3(d):A.none():p[m]?Q3(d):A.none()})(a,l).map(d=>m=>sa(p=>{const b={filetype:l,fieldname:m.fieldname,...A.from(m.meta).getOr({})};d.call(a,(x,w)=>{if(!Se(x))throw new Error("Expected value to be string");if(w!==void 0&&!Ee(w))throw new Error("Expected meta to be a object");p({value:x,meta:w})},m.value,b)})))(o,r)}),EO=xe,fP=Ke,AO=ne([]);var TO,pP=Object.freeze({__proto__:null,setup:EO,isDocked:fP,getBehaviours:AO});const eS=ne(Me("toolbar-height-change")),Mf={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},DO="tox-tinymce--toolbar-sticky-on",OO="tox-tinymce--toolbar-sticky-off",Rb=(o,r)=>St(Xs.getModes(o),r),tS=o=>{const r=o.element;aa(r).each(a=>{const l="padding-"+Xs.getModes(o)[0];if(Xs.isDocked(o)){const d=$a(a);To(r,"width",d+"px"),To(a,l,(m=>rl(m)+(parseInt(Ha(m,"margin-top"),10)||0)+(parseInt(Ha(m,"margin-bottom"),10)||0))(r)+"px")}else un(r,"width"),un(a,l)})},NO=(o,r)=>{r?(vs(o,Mf.fadeOutClass),mu(o,[Mf.transitionClass,Mf.fadeInClass])):(vs(o,Mf.fadeInClass),mu(o,[Mf.fadeOutClass,Mf.transitionClass]))},RO=(o,r)=>{const a=Ft(o.getContainer());r?(ls(a,DO),vs(a,OO)):(ls(a,OO),vs(a,DO))},oS=(o,r)=>{const a=Pn(),l=r.getSink,d=b=>{l().each(x=>b(x.element))},m=b=>{o.inline||tS(b),RO(o,Xs.isDocked(b)),b.getSystem().broadcastOn([Sf()],{}),l().each(x=>x.getSystem().broadcastOn([Sf()],{}))},p=o.inline?[]:[Vl.config({channels:{[eS()]:{onReceive:tS}}})];return[mo.config({}),Xs.config({contextual:{lazyContext:b=>{const x=rl(b.element),w=o.inline?o.getContentAreaContainer():o.getContainer();return A.from(w).map(E=>{const C=Js(Ft(E));return Mm(o,b.element).fold(()=>{const T=C.height-x,B=C.y+(Rb(b,"top")?0:x);return zs(C.x,B,C.width,T)},T=>{const B=fg(C,th(T)),L=Rb(b,"top")?B.y:B.y+x;return zs(B.x,L,B.width,B.height-x)})})},onShow:()=>{d(b=>NO(b,!0))},onShown:b=>{d(x=>ui(x,[Mf.transitionClass,Mf.fadeInClass])),a.get().each(x=>{((w,E)=>{const C=jt(E);Al(C).filter(T=>!In(E,T)).filter(T=>In(T,Ft(C.dom.body))||La(w,T)).each(()=>Ws(E))})(b.element,x),a.clear()})},onHide:b=>{((x,w)=>As(x).orThunk(()=>w().toOptional().bind(E=>As(E.element))))(b.element,l).fold(a.clear,a.set),d(x=>NO(x,!1))},onHidden:()=>{d(b=>ui(b,[Mf.transitionClass]))},...Mf},lazyViewport:b=>Mm(o,b.element).fold(()=>{const x=Na(),w=t4(o),E=x.y+(Rb(b,"top")&&!ST(o)?w:0),C=x.height-(Rb(b,"bottom")?w:0);return{bounds:zs(x.x,E,x.width,C),optScrollEnv:A.none()}},x=>({bounds:th(x),optScrollEnv:A.some({currentScrollTop:x.element.dom.scrollTop,scrollElmTop:pr(x.element).top})})),modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m}),...p]};var gP=Object.freeze({__proto__:null,setup:(o,r,a)=>{o.inline||(r.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{a().each(Xs.reset)}),o.on("ResizeWindow ResizeEditor",()=>{a().each(tS)}),o.on("SkinLoaded",()=>{a().each(l=>{Xs.isDocked(l)?Xs.reset(l):Xs.refresh(l)})}),o.on("FullscreenStateChanged",()=>{a().each(Xs.reset)})),o.on("AfterScrollIntoView",l=>{a().each(d=>{Xs.refresh(d);const m=d.element;du(m)&&((p,b)=>{const x=jt(b),w=Vr(b).dom.innerHeight,E=Ii(x),C=Ft(p.elm),T=er(C),B=Gs(C),L=T.y,Y=L+B,W=pr(b),X=Gs(b),$=W.top,U=$+X,te=Math.abs($-E.top)<2,oe=Math.abs(U-(E.top+w))<2;if(te&&L<U)Ym(E.left,L-X,x);else if(oe&&Y>$){const de=L-w+B+X;Ym(E.left,de,x)}})(l,m)})}),o.on("PostRender",()=>{RO(o,!1)})},isDocked:o=>o().map(Xs.isDocked).getOr(!1),getBehaviours:oS}),nS=dd({factory:(o,r)=>{const a={focus:Bt.focusIn,setMenus:(l,d)=>{const m=Ae(d,p=>{const b={type:"menubutton",text:p.text,fetch:w=>{w(p.getItems())},context:"any"},x=V4(b).mapError(w=>sf(w)).getOrDie();return t2(x,"tox-mbtn",r.backstage,A.some("menuitem"))});Do.set(l,m)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:pt([Do.config({}),vo("menubar-events",[ts(l=>{o.onSetup(l)}),et($i(),(l,d)=>{On(l.element,".tox-mbtn--active").each(m=>{Ec(d.event.target,".tox-mbtn").each(p=>{In(m,p)||l.getSystem().getByDom(m).each(b=>{l.getSystem().getByDom(p).each(x=>{Bc.expand(x),Bc.close(b),mo.focus(x)})})})})}),et(p0(),(l,d)=>{d.event.prevFocus.bind(m=>l.getSystem().getByDom(m).toOptional()).each(m=>{d.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{Bc.isOpen(m)&&(Bc.expand(p),Bc.close(m))})})})]),Bt.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(o.onEscape(l),A.some(!0))}),fs.config({})]),apis:a,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ct("dom"),ct("uid"),ct("onEscape"),ct("backstage"),Ie("onSetup",xe)],apis:{focus:(o,r)=>{o.focus(r)},setMenus:(o,r,a)=>{o.setMenus(r,a)}}});const hP=o=>({element:()=>o.element.dom}),MO=(o,r)=>{const a=Ae(Zs(r),l=>{const d=r[l],m=Ol((p=>Hs("sidebar",U6,p))(d));return{name:l,getApi:hP,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return Ae(a,l=>{const d=Vt(xe);return o.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:j1([wa(l,d),Vu(l,d),et(g0(),(m,p)=>{const b=p.event;z(a,w=>w.name===b.name).each(w=>{(b.visible?w.onShow:w.onHide)(w.getApi(m))})})])})})},bP=o=>Xi.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:MO(r,o),slotBehaviours:j1([ts(a=>Xi.hideAllSlots(a))])})),xC=(o,r)=>{bo(o,"role",r)},xP=o=>Cn.getCurrent(o).bind(r=>$l.isGrowing(r)||$l.hasGrown(r)?Cn.getCurrent(r).bind(a=>z(Xi.getSlotNames(a),l=>Xi.isShowing(a,l))):A.none()),sS=Me("FixSizeEvent"),rS=Me("AutoSizeEvent"),aS=o=>Cn.getCurrent(o).each(r=>Ws(r.element,!0)),BO=(o,r,a)=>{const l=Vt(!1),d=Pn(),m=b=>{var x;l.get()&&(!(w=>w.type==="focusin")(x=b)||!(x.composed?xr(x.composedPath()):A.from(x.target)).map(Ft).filter(Ho).exists(w=>Ja(w,"mce-pastebin")))&&(b.preventDefault(),aS(r()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",m),o.on("BeforeExecCommand",b=>{b.command.toLowerCase()==="mcefocus"&&b.value!==!0&&m(b)})});const p=b=>{b!==l.get()&&(l.set(b),((x,w,E,C)=>{const T=w.element;if(((B,L)=>{const Y="tabindex",W=`data-mce-${Y}`;A.from(B.iframeElement).map(Ft).each(X=>{L?(Ta(X,Y).each($=>bo(X,W,$)),bo(X,Y,-1)):(qs(X,Y),Ta(X,W).each($=>{bo(X,Y,$),qs(X,W)}))})})(x,E),E)Cm.block(w,(B=>(L,Y)=>({dom:{tag:"div",attributes:{"aria-label":B.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Wd('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(C)),un(T,"display"),qs(T,"aria-hidden"),x.hasFocus()&&aS(w);else{const B=Cn.getCurrent(w).exists(L=>tc(L.element));Cm.unblock(w),To(T,"display","none"),bo(T,"aria-hidden","true"),B&&x.focus()}})(o,r(),b,a.providers),((x,w)=>{x.dispatch("AfterProgressState",{state:w})})(o,b))};o.on("ProgressState",b=>{if(d.on(clearTimeout),Tt(b.time)){const x=cb.setEditorTimeout(o,()=>p(b.state),b.time);d.set(x)}else p(b.state),d.clear()})},PO=o=>{const r=o.label.isNone()?o.title.fold(()=>({}),a=>({attributes:{"aria-label":a}})):o.label.fold(()=>({}),a=>({attributes:{"aria-label":a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(o.label.isSome()?["tox-toolbar__group_with_label"]:[]),...r},components:[...o.label.map(a=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[$s(a)]})).toArray(),xv.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:pt([fs.config({}),mo.config({ignore:!0})])}},vC=o=>xv.sketch(PO(o)),IO=(o,r)=>{const a=ts(l=>{const d=Ae(o.initGroups,vC);Dm.setGroups(l,d)});return pt([qw(()=>o.providers.checkUiComponentContext("any").shouldDisable),hr(()=>o.providers.checkUiComponentContext("any")),Bt.config({mode:r,onEscape:o.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),vo("toolbar-events",[a])])},LO=o=>{const r=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":PO({title:A.none(),label:A.none(),items:[]}),"overflow-button":UB({context:"any",icon:A.some("more-drawer"),enabled:!0,tooltip:A.some("Reveal or hide additional toolbar items")},A.none(),o.providers,[],"overflow-button")},splitToolbarBehaviours:IO(o,r)}},vP=o=>{const r=LO(o),a=Y5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return Y5.sketch({...r,lazySink:o.getSink,getOverflowBounds:()=>{const l=o.moreDrawerData.lazyHeader().element,d=er(l),m=Xn(l),p=er(m),b=Math.max(m.dom.scrollHeight,p.height);return zs(d.x+4,p.y,d.width-8,b)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[a],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>o.onToggled(l,!0),onClosed:l=>o.onToggled(l,!1)})},FO=o=>{const r=Zk.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=Zk.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=LO(o);return Zk.sketch({...l,components:[r,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([eS()],{type:"opened"}),o.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([eS()],{type:"closed"}),o.onToggled(d,!1)}})},bh=o=>{const r=o.cyclicKeying?"cyclic":"acyclic";return Dm.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Kd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Dm.parts.groups({})],toolbarBehaviours:IO(o,r)})},zO=(o,r)=>((a,l)=>{var d,m;const p=a.type==="togglebutton",b=a.icon.map($=>fh($,l.icons)).map(Fn),x={...a,name:p?a.text.getOr(a.icon.getOr("")):(d=a.text)!==null&&d!==void 0?d:a.icon.getOr(""),primary:a.buttonType==="primary",buttonType:A.from(a.buttonType),tooltip:a.tooltip,icon:a.icon,enabled:!0,borderless:a.borderless},w=U3((m=a.buttonType)!==null&&m!==void 0?m:"secondary"),E=p?a.text.map(l.translate):A.some(l.translate(a.text)),C=E.map($s),T=x.tooltip.or(E).map($=>({"aria-label":l.translate($)})).getOr({}),B=b.map($=>$.asSpec()),L=ih([B,C]),Y=a.icon.isSome()&&C.isSome(),W={tag:"button",classes:w.concat(...a.icon.isSome()&&!Y?["tox-button--icon"]:[]).concat(...Y?["tox-button--icon-and-text"]:[]).concat(...a.borderless?["tox-button--naked"]:[]).concat(...a.type==="togglebutton"&&a.active?["tox-button--enabled"]:[]),attributes:T},X=Tb(x,A.some($=>{const U=te=>{b.map(oe=>oe.getOpt($).each(de=>{Do.set(de,[fh(te,l.icons)])}))};return p?a.onAction({setIcon:U,setActive:te=>{const oe=$.element;te?(ls(oe,"tox-button--enabled"),bo(oe,"aria-pressed",!0)):(vs(oe,"tox-button--enabled"),qs(oe,"aria-pressed"))},isActive:()=>Ja($.element,"tox-button--enabled"),focus:()=>Ws($.element)}):a.type==="button"?a.onAction({setIcon:U}):void 0}),[],W,L,a.tooltip,l);return ua.sketch(X)})(o,r),HO=Ce().deviceType,yP=HO.isPhone(),yC=HO.isTablet();var yl=Ki({name:"silver.View",configFields:[ct("viewConfig")],partFields:[Nc({factory:{sketch:o=>{let r=!1;const a=Ae(o.buttons,l=>l.type==="group"?(r=!0,((d,m)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ae(d.buttons,p=>zO(p,m))}))(l,o.providers)):zO(l,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...yP||yC?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:pt([mo.config({}),Bt.config({mode:"flow",selector:"button, .tox-button",focusInside:sd.OnEnterOrSpaceMode})]),components:r?a:[_m.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),_m.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}}},schema:[ct("buttons"),ct("providers")],name:"header"}),Nc({factory:{sketch:o=>({uid:o.uid,behaviours:pt([mo.config({}),fs.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,r,a,l)=>{const d={getPane:m=>Ga.getPart(m,o,"pane"),getOnShow:m=>o.viewConfig.onShow,getOnHide:m=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:r,behaviours:pt([mo.config({}),Bt.config({mode:"cyclic",focusInside:sd.OnEnterOrSpaceMode})]),apis:d}},apis:{getPane:(o,r)=>o.getPane(r),getOnShow:(o,r)=>o.getOnShow(r),getOnHide:(o,r)=>o.getOnHide(r)}});const iS=(o,r,a)=>Ya(r,(l,d)=>{const m=Ol(Hs("view",fB,l));return o.slot(d,yl.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:m,components:[...m.buttons.length>0?[yl.parts.header({buttons:m.buttons,providers:a})]:[],yl.parts.pane({})]}))}),VO=(o,r)=>Xi.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:iS(a,o,r),slotBehaviours:j1([ts(l=>Xi.hideAllSlots(l))])})),$O=o=>z(Xi.getSlotNames(o),r=>Xi.isShowing(o,r)),UO=(o,r,a)=>{Xi.getSlot(o,r).each(l=>{yl.getPane(l).each(d=>{var m;a(l)((m=d.element.dom,{getContainer:ne(m)}))})})};var wC=dd({factory:(o,r)=>{const a={setViews:(l,d)=>{Do.set(l,[VO(d,r.backstage.shared.providers)])},whichView:l=>Cn.getCurrent(l).bind($O),toggleView:(l,d,m,p)=>Cn.getCurrent(l).exists(b=>{const x=$O(b),w=x.exists(C=>p===C),E=Xi.getSlot(b,p).isSome();return E&&(Xi.hideAllSlots(b),w?((C=>{const T=C.element;To(T,"display","none"),bo(T,"aria-hidden","true")})(l),d()):(m(),(C=>{const T=C.element;un(T,"display"),qs(T,"aria-hidden")})(l),Xi.showSlot(b,p),((C,T)=>{UO(C,T,yl.getOnShow)})(b,p)),x.each(C=>((T,B)=>UO(T,B,yl.getOnHide))(b,C))),E})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:pt([Do.config({}),Cn.config({find:l=>{const d=Do.contents(l);return xr(d)}})]),apis:a}},name:"silver.ViewWrapper",configFields:[ct("backstage")],apis:{setViews:(o,r,a)=>o.setViews(r,a),toggleView:(o,r,a,l,d)=>o.toggleView(r,a,l,d),whichView:(o,r)=>o.whichView(r)}});const wP=Am.optional({factory:nS,name:"menubar",schema:[ct("backstage")]}),ZO=Am.optional({factory:{sketch:o=>gk.sketch({uid:o.uid,dom:o.dom,listBehaviours:pt([Bt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>bh({type:o.type,uid:Me("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),A.some(!0))}),setupItem:(r,a,l,d)=>{Dm.setGroups(a,l)},shell:!0})},name:"multiple-toolbar",schema:[ct("dom"),ct("onEscape")]}),jO=Am.optional({factory:{sketch:o=>(a=>a.type===Kd.sliding?FO:a.type===Kd.floating?vP:bh)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),A.some(!0)),onToggled:(a,l)=>o.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[ct("dom"),ct("onEscape"),ct("getSink")]}),CP=Am.optional({factory:{sketch:o=>{const r=o.editor,a=o.sticky?oS:AO;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:pt(a(r,o.sharedBackstage))}}},name:"header",schema:[ct("dom")]}),_P=Am.optional({factory:{sketch:o=>{const r=o.promotionLink?[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"💝Get all features"}}]:[];return{uid:o.uid,dom:o.dom,components:r}}},name:"promotion",schema:[ct("dom"),ct("promotionLink")]}),WO=Am.optional({name:"socket",schema:[ct("dom")]}),kP=Am.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:pt([fs.config({}),mo.config({}),$l.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{Cn.getCurrent(r).each(Xi.hideAllSlots),Qo(r,rS)},onGrown:r=>{Qo(r,rS)},onStartGrow:r=>{oo(r,sS,{width:ba(r.element,"width").getOr("")})},onStartShrink:r=>{oo(r,sS,{width:$a(r.element)+"px"})}}),Do.config({}),Cn.config({find:r=>{const a=Do.contents(r);return xr(a)}})])}],behaviours:pt([Yv(0),vo("sidebar-sliding-events",[et(sS,(r,a)=>{To(r.element,"width",a.event.width)}),et(rS,(r,a)=>{un(r.element,"width")})])])})},name:"sidebar",schema:[ct("dom")]}),qO=Am.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:pt([Do.config({}),Cm.config({focus:!1}),Cn.config({find:r=>xr(r.components())})]),components:[]})},name:"throbber",schema:[ct("dom")]}),GO=Am.optional({factory:wC,name:"viewWrapper",schema:[ct("backstage")]}),KO=Am.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var ks=Ki({name:"OuterContainer",factory:(o,r,a)=>{let l=!1;const d=p=>{Rd(p,".tox-statusbar").each(b=>{Ha(b,"display")==="none"&&wr(b,"aria-hidden")==="true"?(un(b,"display"),qs(b,"aria-hidden")):(To(b,"display","none"),bo(b,"aria-hidden","true"))})},m={getSocket:p=>Ga.getPart(p,o,"socket"),setSidebar:(p,b,x)=>{Ga.getPart(p,o,"sidebar").each(w=>((E,C,T)=>{Cn.getCurrent(E).each(B=>{Do.set(B,[bP(C)]);const L=T==null?void 0:T.toLowerCase();Se(L)&&jo(C,L)&&Cn.getCurrent(B).each(Y=>{Xi.showSlot(Y,L),$l.immediateGrow(B),un(B.element,"width"),xC(E.element,"region")})})})(w,b,x))},toggleSidebar:(p,b)=>{Ga.getPart(p,o,"sidebar").each(x=>((w,E)=>{Cn.getCurrent(w).each(C=>{Cn.getCurrent(C).each(T=>{$l.hasGrown(C)?Xi.isShowing(T,E)?($l.shrink(C),xC(w.element,"presentation")):(Xi.hideAllSlots(T),Xi.showSlot(T,E),xC(w.element,"region")):(Xi.hideAllSlots(T),Xi.showSlot(T,E),$l.grow(C),xC(w.element,"region"))})})})(x,b))},whichSidebar:p=>Ga.getPart(p,o,"sidebar").bind(xP).getOrNull(),getHeader:p=>Ga.getPart(p,o,"header"),getToolbar:p=>Ga.getPart(p,o,"toolbar"),setToolbar:(p,b)=>{Ga.getPart(p,o,"toolbar").each(x=>{const w=Ae(b,vC);x.getApis().setGroups(x,w)})},setToolbars:(p,b)=>{Ga.getPart(p,o,"multiple-toolbar").each(x=>{const w=Ae(b,E=>Ae(E,vC));gk.setItems(x,w)})},refreshToolbar:p=>{Ga.getPart(p,o,"toolbar").each(b=>b.getApis().refresh(b))},toggleToolbarDrawer:p=>{Ga.getPart(p,o,"toolbar").each(b=>{wc(b.getApis().toggle,x=>x(b))})},toggleToolbarDrawerWithoutFocusing:p=>{Ga.getPart(p,o,"toolbar").each(b=>{wc(b.getApis().toggleWithoutFocusing,x=>x(b))})},isToolbarDrawerToggled:p=>Ga.getPart(p,o,"toolbar").bind(b=>A.from(b.getApis().isOpen).map(x=>x(b))).getOr(!1),getThrobber:p=>Ga.getPart(p,o,"throbber"),focusToolbar:p=>{Ga.getPart(p,o,"toolbar").orThunk(()=>Ga.getPart(p,o,"multiple-toolbar")).each(b=>{Bt.focusIn(b)})},setMenubar:(p,b)=>{Ga.getPart(p,o,"menubar").each(x=>{nS.setMenus(x,b)})},focusMenubar:p=>{Ga.getPart(p,o,"menubar").each(b=>{nS.focus(b)})},setViews:(p,b)=>{Ga.getPart(p,o,"viewWrapper").each(x=>{wC.setViews(x,b)})},toggleView:(p,b)=>Ga.getPart(p,o,"viewWrapper").exists(x=>wC.toggleView(x,()=>m.showMainView(p),()=>m.hideMainView(p),b)),whichView:p=>Ga.getPart(p,o,"viewWrapper").bind(wC.whichView).getOrNull(),hideMainView:p=>{l=m.isToolbarDrawerToggled(p),l&&m.toggleToolbarDrawer(p),Ga.getPart(p,o,"editorContainer").each(b=>{const x=b.element;d(x),To(x,"display","none"),bo(x,"aria-hidden","true")})},showMainView:p=>{l&&m.toggleToolbarDrawer(p),Ga.getPart(p,o,"editorContainer").each(b=>{const x=b.element;d(x),un(x,"display"),qs(x,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:r,apis:m,behaviours:o.behaviours}},configFields:[ct("dom"),ct("behaviours")],partFields:[CP,wP,jO,ZO,WO,kP,_P,qO,GO,KO],apis:{getSocket:(o,r)=>o.getSocket(r),setSidebar:(o,r,a,l)=>{o.setSidebar(r,a,l)},toggleSidebar:(o,r,a)=>{o.toggleSidebar(r,a)},whichSidebar:(o,r)=>o.whichSidebar(r),getHeader:(o,r)=>o.getHeader(r),getToolbar:(o,r)=>o.getToolbar(r),setToolbar:(o,r,a)=>{o.setToolbar(r,a)},setToolbars:(o,r,a)=>{o.setToolbars(r,a)},refreshToolbar:(o,r)=>o.refreshToolbar(r),toggleToolbarDrawer:(o,r)=>{o.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(o,r)=>{o.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(o,r)=>o.isToolbarDrawerToggled(r),getThrobber:(o,r)=>o.getThrobber(r),setMenubar:(o,r,a)=>{o.setMenubar(r,a)},focusMenubar:(o,r)=>{o.focusMenubar(r)},focusToolbar:(o,r)=>{o.focusToolbar(r)},setViews:(o,r,a)=>{o.setViews(r,a)},toggleView:(o,r,a)=>o.toggleView(r,a),whichView:(o,r)=>o.whichView(r)}});const YO={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},lS=o=>o.split(" "),XO=(o,r)=>{const a={...YO,...r.menus},l=Zs(r.menus).length>0,d=r.menubar===void 0||r.menubar===!0?lS("file edit view insert format tools table help"):lS(r.menubar===!1?"":r.menubar),m=Oo(d,b=>{const x=jo(YO,b);return l?x||Kt(r.menus,b).exists(w=>jo(w,"items")):x}),p=Ae(m,b=>{const x=a[b];return((w,E,C)=>{const T=sT(C).split(/[ ,]/);return{text:w.title,getItems:()=>Uo(w.items,B=>{const L=B.toLowerCase();return L.trim().length===0||Tn(T,Y=>Y===L)?[]:L==="separator"||L==="|"?[{type:"separator"}]:E.menuItems[L]?[E.menuItems[L]]:[]})}})({title:x.title,items:lS(x.items)},r,o)});return Oo(p,b=>b.getItems().length>0&&Tn(b.getItems(),x=>Se(x)||x.type!=="separator"))},QO=(o,r,a)=>(o.on("remove",()=>a.unload(r)),a.load(r)),CC=(o,r,a,l)=>(o.on("remove",()=>l.unloadRawCss(r)),l.loadRawCss(r,a)),cS=o=>A.from(tinymce.Resource.get(o)).filter(Se),dS=(o,r,a="")=>{const l=(m=>{const p=vT(m);return p?A.from(p):A.none()})(o).map(m=>((p,b)=>"ui/"+p+"/"+b)(m,`${r}.css`)),d=l.bind(cS);return vr(l,d,(m,p)=>({_kind:"load-raw",key:m,css:p})).getOrThunk(()=>{const m=o.editorManager.suffix;return{_kind:"load-stylesheet",url:a+`/${r}${m}.css`}})},SP=(o,r)=>{const a=o.ui.styleSheetLoader,l=dS(o,"skin",r);switch(l._kind){case"load-raw":const{key:d,css:m}=l;return CC(o,d,m,a),Promise.resolve();case"load-stylesheet":const{url:p}=l;return QO(o,p,a);default:return Promise.resolve()}},JO=(o,r)=>{var a;if(a=Ft(o.getElement()),!Sl(a).isSome())return Promise.resolve();{const l=Jg.DOM.styleSheetLoader,d=dS(o,"skin.shadowdom",r);switch(d._kind){case"load-raw":const{key:m,css:p}=d;return CC(o,m,p,l),Promise.resolve();case"load-stylesheet":const{url:b}=d;return QO(o,b,l);default:return Promise.resolve()}}},e8=(o,r)=>(async(a,l)=>{const d=yT(l);if(await((m,p,b)=>{const x=dS(m,p?"content.inline":"content",b);switch(x._kind){case"load-raw":const{key:w,css:E}=x;return p?CC(m,w,E,m.ui.styleSheetLoader):m.on("PostRender",()=>{CC(m,w,E,m.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:C}=x;return b&&m.contentCSS.push(C),Promise.resolve();default:return Promise.resolve()}})(l,a,d),!hw(l)&&Se(d))return Promise.all([SP(l,d),JO(l,d)]).then()})(o,r).then((a=>{const l=()=>{a._skinLoaded=!0,(d=>{d.dispatch("SkinLoaded")})(a)};return()=>{a.initialized?l():a.on("init",l)}})(r),(a=>()=>((l,d)=>{l.dispatch("SkinLoadError",d)})(a,{message:"Skin could not be loaded"}))(r)),EP=hn(e8,!1),AP=hn(e8,!0),t8=o=>({isEnabled:()=>!eo.isDisabled(o),setEnabled:r=>eo.set(o,!r),setText:r=>oo(o,eu,{text:r}),setIcon:r=>oo(o,X1,{icon:r})}),TP=o=>({setActive:r=>{Zo.set(o,r)},isActive:()=>Zo.isOn(o),isEnabled:()=>!eo.isDisabled(o),setEnabled:r=>eo.set(o,!r),setText:r=>oo(o,eu,{text:r}),setIcon:r=>oo(o,X1,{icon:r})}),o8=(o,r)=>o.map(a=>({"aria-label":r.translate(a)})).getOr({}),n8=Me("focus-button"),_C=(o,r,a,l,d,m,p)=>{const b=r.map(w=>Fn(I3(w,"tox-tbtn",d))),x=o.map(w=>Fn(fh(w,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:{...o8(a,d),...Ne(p)?{"data-mce-name":p}:{}}},components:ih([x.map(w=>w.asSpec()),b.map(w=>w.asSpec())]),eventOrder:{[Nl()]:["focusing","alloy.base.behaviour",mh],[ac()]:[mh,"toolbar-group-button-events"],[Ys()]:[mh,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:pt([qw(()=>d.checkUiComponentContext(m).shouldDisable),hr(()=>d.checkUiComponentContext(m)),vo(mh,[ts((w,E)=>P3(w)),et(eu,(w,E)=>{b.bind(C=>C.getOpt(w)).each(C=>{Do.set(C,[$s(d.translate(E.event.text))])})}),et(X1,(w,E)=>{x.bind(C=>C.getOpt(w)).each(C=>{Do.set(C,[fh(E.event.icon,d.icons)])})}),et(Nl(),(w,E)=>{E.event.prevent(),Qo(w,n8)})])].concat(l.getOr([])))}},uS=(o,r,a,l)=>{var d;const m=Vt(xe),p=_C(o.icon,o.text,o.tooltip,A.none(),a,o.context,l);return ua.sketch({dom:p.dom,components:p.components,eventOrder:GD,buttonBehaviours:{...pt([vo("toolbar-button-events",[(b={onAction:o.onAction,getApi:r.getApi},Hd((x,w)=>{Fc(b,x)(E=>{oo(x,B3,{buttonApi:E}),b.onAction(E)})})),wa(r,m),Vu(r,m)]),...o.tooltip.map(x=>Rs.config(a.tooltips.getConfig({tooltipText:a.translate(x)+o.shortcut.map(w=>` (${zv(w)})`).getOr("")}))).toArray(),qw(()=>!o.enabled||a.checkUiComponentContext(o.context).shouldDisable),hr(()=>a.checkUiComponentContext(o.context))].concat(r.toolbarButtonBehaviours)),[mh]:(d=p.buttonBehaviours)===null||d===void 0?void 0:d[mh]}});var b},mS=(o,r,a,l)=>uS(o,{toolbarButtonBehaviours:a.length>0?[vo("toolbarButtonWith",a)]:[],getApi:t8,onSetup:o.onSetup},r,l),s8=(o,r,a,l)=>uS(o,{toolbarButtonBehaviours:[Do.config({}),Zo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[vo("toolbarToggleButtonWith",a)]:[]),getApi:TP,onSetup:o.onSetup},r,l),DP=(o,r,a)=>l=>sa(d=>r.fetch(d)).map(d=>A.from(k3(Wo(sC(Me("menu-value"),d,m=>{r.onItemAction(o(l),m)},r.columns,r.presets,Jd.CLOSE_ON_EXECUTE,r.select.getOr(Ke),a),{movement:Zv(r.columns,r.presets),menuBehaviours:j1(r.columns!=="auto"?[]:[ts((m,p)=>{wb(m,4,VT(r.presets)).each(({numRows:b,numColumns:x})=>{Bt.setGridSize(m,b,x)})})])})))),r8=o=>{Qs.getContent(o).each(r=>{On(r.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold(()=>Bt.focusIn(r),Ws)})},a8=Me("forward-slide"),kC=Me("backward-slide"),SC=Me("change-slide-event"),EC="tox-pop--resizing",J1=(o,r,a)=>sr(a)?o.translate(r):o.translate([r,o.translate(a)]),fS=(o,r)=>{const a=(m,p,b,x)=>{const w=o.shared.providers.translate(m.title);if(m.type==="separator")return A.some({type:"separator",text:w});if(m.type==="submenu"){const E=Uo(m.getStyleItems(),C=>l(C,p,x));return p===0&&E.length<=0?A.none():A.some({type:"nestedmenuitem",text:w,enabled:E.length>0,getSubmenuItems:()=>Uo(m.getStyleItems(),C=>l(C,p,x))})}return A.some({type:"togglemenuitem",text:w,icon:m.icon,active:m.isSelected(x),enabled:!b,onAction:r.onAction(m),...m.getStylePreview().fold(()=>({}),E=>({meta:{style:E}}))})},l=(m,p,b)=>{const x=m.type==="formatter"&&r.isInvalid(m);return p===0?x?[]:a(m,p,!1,b).toArray():a(m,p,x,b).toArray()},d=m=>{const p=r.getCurrentValue(),b=r.shouldHide?0:1;return Uo(m,x=>l(x,b,p))};return{validateItems:d,getFetch:(m,p)=>(b,x)=>{const w=p(),E=d(w);x(Ab(E,Jd.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:A.none()}))}}},Mb=(o,r)=>{const a=r.dataset,l=a.type==="basic"?()=>Ae(a.data,d=>gh(d,r.isSelectedFor,r.getPreviewFor)):a.getData;return{items:fS(o,r),getStyleItems:l}},Bb=(o,r,a,l,d,m)=>{const{items:p,getStyleItems:b}=Mb(r,a),x=Vt(a.tooltip);return mC({context:"mode:design",text:a.icon.isSome()?A.none():a.text,icon:a.icon,ariaLabel:A.some(a.tooltip),tooltip:A.none(),role:A.none(),fetch:p.getFetch(r,b),onSetup:w=>{const E=C=>w.setTooltip(J1(o,l(C.value),C.value));return o.on(d,E),Xw(ch(o,"NodeChange",C=>{const T=C.getComponent();a.updateText(T),eo.set(C.getComponent(),!o.selection.isEditable()||b().length===0)})(w),()=>o.off(d,E))},getApi:w=>({getComponent:ne(w),setTooltip:E=>{const C=r.shared.providers.translate(E);bo(w.element,"aria-label",C),x.set(E)}}),columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Rs.config({...r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(a.tooltip),onShow:w=>{if(a.tooltip!==x.get()){const E=r.shared.providers.translate(x.get());Rs.setComponents(w,r.shared.providers.tooltips.getComponents({tooltipText:E}))}}})})]},"tox-tbtn",r.shared,m)};var Pb;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(Pb||(Pb={}));const pS=(o,r,a)=>{const l=(d=((m,p)=>p===Pb.SemiColon?m.replace(/;$/,"").split(";"):m.split(" "))(o.options.get(r),a),Ae(d,m=>{let p=m,b=m;const x=m.split("=");return x.length>1&&(p=x[0],b=x[1]),{title:p,format:b}}));var d;return{type:"basic",data:l}},i8=ne("Alignment {0}"),l8="left",s2=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Bf=o=>{const r={type:"basic",data:s2};return{tooltip:J1(o,i8(),l8),text:A.none(),icon:A.some("align-left"),isSelectedFor:a=>()=>o.formatter.match(a),getCurrentValue:A.none,getPreviewFor:a=>A.none,onAction:a=>()=>z(s2,l=>l.format===a.format).each(l=>o.execCommand(l.command)),updateText:a=>{const l=z(s2,d=>o.formatter.match(d.format)).fold(ne(l8),d=>d.title.toLowerCase());oo(a,X1,{icon:`align-${l}`}),((d,m)=>{d.dispatch("AlignTextUpdate",m)})(o,{value:l})},dataset:r,shouldHide:!1,isInvalid:a=>!o.formatter.canApply(a.format)}},c8=(o,r)=>{const a=r(),l=Ae(a,d=>d.format);return A.from(o.formatter.closest(l)).bind(d=>z(a,m=>m.format===d))},Ib=ne("Block {0}"),gS="Paragraph",AC=o=>{const r=pS(o,"block_formats",Pb.SemiColon);return{tooltip:J1(o,Ib(),gS),text:A.some(gS),icon:A.none(),isSelectedFor:a=>()=>o.formatter.match(a),getCurrentValue:A.none,getPreviewFor:a=>()=>{const l=o.formatter.get(a);return l?A.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(a))}):A.none()},onAction:h3(o),updateText:a=>{const l=c8(o,()=>r.data).fold(ne(gS),d=>d.title);oo(a,eu,{text:l}),((d,m)=>{d.dispatch("BlocksTextUpdate",m)})(o,{value:l})},dataset:r,shouldHide:!1,isInvalid:a=>!o.formatter.canApply(a.format)}},d8=ne("Font {0}"),hS="System Font",OP=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],bS=o=>{const r=o.split(/\s*,\s*/);return Ae(r,a=>a.replace(/^['"]+|['"]+$/g,""))},u8=(o,r)=>r.length>0&&_i(r,a=>o.indexOf(a.toLowerCase())>-1),TC=o=>{const r=()=>{const l=w=>w?bS(w)[0]:"",d=o.queryCommandValue("FontName"),m=a.data,p=d?d.toLowerCase():"",b=xT(o);return{matchOpt:z(m,w=>{const E=w.format;return E.toLowerCase()===p||l(E).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>ci(((w,E)=>{if(w.indexOf("-apple-system")===0||E.length>0){const C=bS(w.toLowerCase());return u8(C,OP)||u8(C,E)}return!1})(p,b),{title:hS,format:p})),font:d}},a=pS(o,"font_family_formats",Pb.SemiColon);return{tooltip:J1(o,d8(),hS),text:A.some(hS),icon:A.none(),isSelectedFor:l=>d=>d.exists(m=>m.format===l),getCurrentValue:()=>{const{matchOpt:l}=r();return l},getPreviewFor:l=>()=>A.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:d,font:m}=r(),p=d.fold(ne(m),b=>b.title);oo(l,eu,{text:p}),((b,x)=>{b.dispatch("FontFamilyTextUpdate",x)})(o,{value:p})},dataset:a,shouldHide:!1,isInvalid:Ke}};var Lb=tinymce.util.Tools.resolve("tinymce.util.VK");const DC=ne("Font size {0}"),m8="12pt",hd={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},NP={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},RP=(o,r)=>/[0-9.]+px$/.test(o)?((a,l)=>{const d=Math.pow(10,l);return Math.round(a*d)/d})(72*parseInt(o,10)/96,r||0)+"pt":Kt(NP,o).getOr(o),f8=o=>Kt(hd,o).getOr(""),xS=o=>{const r=()=>{let d=A.none();const m=l.data,p=o.queryCommandValue("FontSize");if(p)for(let b=3;d.isNone()&&b>=0;b--){const x=RP(p,b),w=f8(x);d=z(m,E=>E.format===p||E.format===x||E.format===w)}return{matchOpt:d,size:p}},a=ne(A.none),l=pS(o,"font_size_formats",Pb.Space);return{tooltip:J1(o,DC(),m8),text:A.some(m8),icon:A.none(),isSelectedFor:d=>m=>m.exists(p=>p.format===d),getPreviewFor:a,getCurrentValue:()=>{const{matchOpt:d}=r();return d},onAction:d=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,d.format)})},updateText:d=>{const{matchOpt:m,size:p}=r(),b=m.fold(ne(p),x=>x.title);oo(d,eu,{text:b}),((x,w)=>{x.dispatch("FontSizeTextUpdate",w)})(o,{value:b})},dataset:l,shouldHide:!1,isInvalid:Ke}},p8=o=>sr(o)?"Formats":"Format {0}",g8=(o,r)=>{const a="Formats";return{tooltip:J1(o,p8(""),""),text:A.some(a),icon:A.none(),isSelectedFor:l=>()=>o.formatter.match(l),getCurrentValue:A.none,getPreviewFor:l=>()=>{const d=o.formatter.get(l);return d!==void 0?A.some({tag:d.length>0&&(d[0].inline||d[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(l))}):A.none()},onAction:h3(o),updateText:l=>{const d=b=>gO(b)?Uo(b.items,d):hO(b)?[{title:b.title,format:b.format}]:[],m=Uo(Q1(o),d),p=c8(o,ne(m)).fold(ne({title:a,tooltipLabel:""}),b=>({title:b.title,tooltipLabel:b.title}));oo(l,eu,{text:p.title}),((b,x)=>{b.dispatch("StylesTextUpdate",x)})(o,{value:p.tooltipLabel})},shouldHide:e4(o),isInvalid:l=>!o.formatter.canApply(l.format),dataset:r}},MP=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],r2=(o,r)=>(a,l,d,m)=>{const p=o(a).mapError(b=>sf(b)).getOrDie();return r(p,l,d,m)},BP={button:r2(j4,(o,r,a,l)=>((d,m,p)=>mS(d,m,[],p))(o,r.shared.providers,l)),togglebutton:r2(B6,(o,r,a,l)=>((d,m,p)=>s8(d,m,[],p))(o,r.shared.providers,l)),menubutton:r2(V4,(o,r,a,l)=>t2(o,"tox-tbtn",r,A.none(),!1,l)),splitbutton:r2(o=>Hs("SplitButton",X4,o),(o,r,a,l)=>((d,m,p)=>{const b=Vt(d.tooltip.getOr("")),x=C=>({isEnabled:()=>!eo.isDisabled(C),setEnabled:T=>eo.set(C,!T),setIconFill:(T,B)=>{On(C.element,`svg path[class="${T}"], rect[class="${T}"]`).each(L=>{bo(L,"fill",B)})},setActive:T=>{bo(C.element,"aria-pressed",T),On(C.element,"span").each(B=>{C.getSystem().getByDom(B).each(L=>Zo.set(L,T))})},isActive:()=>On(C.element,"span").exists(T=>C.getSystem().getByDom(T).exists(Zo.isOn)),setText:T=>On(C.element,"span").each(B=>C.getSystem().getByDom(B).each(L=>oo(L,eu,{text:T}))),setIcon:T=>On(C.element,"span").each(B=>C.getSystem().getByDom(B).each(L=>oo(L,X1,{icon:T}))),setTooltip:T=>{const B=m.providers.translate(T);bo(C.element,"aria-label",B),b.set(T)}}),w=Vt(xe),E={getApi:x,onSetup:d.onSetup};return bv.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...o8(d.tooltip,m.providers),...Ne(p)?{"data-mce-name":p}:{}}},onExecute:C=>{const T=x(C);T.isEnabled()&&d.onAction(T)},onItemExecute:(C,T,B)=>{},splitDropdownBehaviours:pt([vo("split-dropdown-events",[ts((C,T)=>P3(C)),et(n8,mo.focus),wa(E,w),Vu(E,w)]),W6(()=>m.providers.isDisabled()||m.providers.checkUiComponentContext(d.context).shouldDisable),hr(()=>m.providers.checkUiComponentContext(d.context)),kf.config({}),...d.tooltip.map(C=>Rs.config({...m.providers.tooltips.getConfig({tooltipText:m.providers.translate(C),onShow:T=>{if(b.get()!==C){const B=m.providers.translate(b.get());Rs.setComponents(T,m.providers.tooltips.getComponents({tooltipText:B}))}}})})).toArray()]),eventOrder:{[ac()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Ys()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:m.getSink,fetch:DP(x,d,m.providers),parts:{menu:Bw(0,d.columns,d.presets)},components:[bv.parts.button(_C(d.icon,d.text,A.none(),A.some([Zo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),qw(Ke),hr(ne({contextType:"any",shouldDisable:!1}))]),m.providers,d.context)),bv.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:FT("chevron-down",m.providers.icons)},buttonBehaviours:pt([W6(Ke),hr(ne({contextType:"any",shouldDisable:!1}))])}),bv.parts["aria-descriptor"]({text:m.providers.translate("To open the popup, press Shift+Enter")})]})})(o,r.shared,l)),grouptoolbarbutton:r2(o=>Hs("GroupToolbarButton",Y4,o),(o,r,a,l)=>{const d=a.ui.registry.getAll().buttons,m={[Tg]:r.shared.header.isPositionedAtTop()?zd.TopToBottom:zd.BottomToTop};if(Df(a)===Kd.floating)return((p,b,x,w,E)=>{const C=b.shared,T=Vt(xe),B={toolbarButtonBehaviours:[],getApi:t8,onSetup:p.onSetup},L=[vo("toolbar-group-button-events",[wa(B,T),Vu(B,T)]),...p.tooltip.map(Y=>Rs.config(b.shared.providers.tooltips.getConfig({tooltipText:b.shared.providers.translate(Y)}))).toArray()];return Pp.sketch({lazySink:C.getSink,fetch:()=>sa(Y=>{Y(Ae(x(p.items),vC))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:_C(p.icon,p.text,p.tooltip,A.some(L),C.providers,p.context,E),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:w}}}})})(o,r,p=>OC(a,{buttons:d,toolbar:p,allowToolbarGroups:!1},r,A.none()),m,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},h8={styles:(o,r)=>{const a={type:"advanced",...r.styles};return Bb(o,r,g8(o,a),p8,"StylesTextUpdate","styles")},fontsize:(o,r)=>Bb(o,r,xS(o),DC,"FontSizeTextUpdate","fontsize"),fontsizeinput:(o,r)=>((a,l,d,m)=>{let p=A.none();const b=ch(a,"NodeChange SwitchMode DisabledStateChange",te=>{const oe=te.getComponent();p=A.some(oe),d.updateInputValue(oe),eo.set(oe,!a.selection.isEditable()||lw(a))}),x=te=>({getComponent:ne(te)}),w=Vt(xe),E=Me("custom-number-input-events"),C=(te,oe,de)=>{const he=p.map(st=>zt.getValue(st)).getOr(""),ke=d.getNewValue(he,te),Ve=he.length-`${ke}`.length,tt=p.map(st=>st.element.dom.selectionStart-Ve),Je=p.map(st=>st.element.dom.selectionEnd-Ve);d.onAction(ke,de),p.each(st=>{zt.setValue(st,ke),oe&&(tt.each(vt=>st.element.dom.selectionStart=vt),Je.each(vt=>st.element.dom.selectionEnd=vt))})},T=(te,oe)=>C((de,he)=>de-he,te,oe),B=(te,oe)=>C((de,he)=>de+he,te,oe),L=te=>aa(te.element).fold(A.none,oe=>(Ws(oe),A.some(!0))),Y=te=>tc(te.element)?(jm(te.element).each(oe=>Ws(oe)),A.some(!0)):A.none(),W=(te,oe,de,he)=>{const ke=Vt(xe),Ve=l.shared.providers.translate(de),tt=Me("altExecuting"),Je=ch(a,"NodeChange SwitchMode DisabledStateChange",vt=>{eo.set(vt.getComponent(),!a.selection.isEditable()||lw(a))}),st=vt=>{eo.isDisabled(vt)||te(!0)};return ua.sketch({dom:{tag:"button",attributes:{"aria-label":Ve,"data-mce-name":oe},classes:he.concat(oe)},components:[uC(oe,l.shared.providers.icons)],buttonBehaviours:pt([eo.config({}),Rs.config(l.shared.providers.tooltips.getConfig({tooltipText:Ve})),vo(tt,[wa({onSetup:Je,getApi:x},ke),Vu({getApi:x},ke),et(Id(),(vt,Qt)=>{Qt.event.raw.keyCode!==Lb.SPACEBAR&&Qt.event.raw.keyCode!==Lb.ENTER||eo.isDisabled(vt)||te(!1)}),et(cl(),st),et(af(),st)])]),eventOrder:{[Id()]:[tt,"keying"],[cl()]:[tt,"alloy.base.behaviour"],[af()]:[tt,"alloy.base.behaviour"],[ac()]:["alloy.base.behaviour",tt,"tooltipping"],[Ys()]:[tt,"tooltipping"]}})},X=Fn(W(te=>T(!1,te),"minus","Decrease font size",[])),$=Fn(W(te=>B(!1,te),"plus","Increase font size",[])),U=Fn({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Ip.sketch({inputBehaviours:pt([eo.config({}),vo(E,[wa({onSetup:b,getApi:x},w),Vu({getApi:x},w)]),vo("input-update-display-text",[et(eu,(te,oe)=>{zt.setValue(te,oe.event.text)}),et(ax(),te=>{d.onAction(zt.getValue(te))}),et(cf(),te=>{d.onAction(zt.getValue(te))})]),Bt.config({mode:"special",onEnter:te=>(C(kt,!0,!0),A.some(!0)),onEscape:L,onUp:te=>(B(!0,!1),A.some(!0)),onDown:te=>(T(!0,!1),A.some(!0)),onLeft:(te,oe)=>(oe.cut(),A.none()),onRight:(te,oe)=>(oe.cut(),A.none())})])})],behaviours:pt([mo.config({}),Bt.config({mode:"special",onEnter:Y,onSpace:Y,onEscape:L}),vo("input-wrapper-events",[et($i(),te=>{ht([X,$],oe=>{const de=Ft(oe.get(te).element.dom);tc(de)&&_c(de)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Ne(m)?{"data-mce-name":m}:{}}},components:[X.asSpec(),U.asSpec(),$.asSpec()],behaviours:pt([mo.config({}),Bt.config({mode:"flow",focusInside:sd.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:te=>tc(te.element)?A.none():(Ws(te.element),A.some(!0))})])}})(o,r,(a=>{const l=()=>a.queryCommandValue("FontSize");return{updateInputValue:d=>oo(d,eu,{text:l()}),onAction:(d,m)=>a.execCommand("FontSize",!1,d,{skip_focus:!m}),getNewValue:(d,m)=>{Tc(d,["unsupportedLength","empty"]);const p=l(),b=Tc(d,["unsupportedLength","empty"]).or(Tc(p,["unsupportedLength","empty"])),x=b.map(B=>B.value).getOr(16),w=o4(a),E=b.map(B=>B.unit).filter(B=>B!=="").getOr(w),C=m(x,(B=>{var L;return(L={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[B])!==null&&L!==void 0?L:{step:1}})(E).step),T=`${(B=>B>=0)(C)?C:x}${E}`;return T!==p&&((B,L)=>{B.dispatch("FontSizeInputTextUpdate",L)})(a,{value:T}),T}}})(o),"fontsizeinput"),fontfamily:(o,r)=>Bb(o,r,TC(o),d8,"FontFamilyTextUpdate","fontfamily"),blocks:(o,r)=>Bb(o,r,AC(o),Ib,"BlocksTextUpdate","blocks"),align:(o,r)=>Bb(o,r,Bf(o),i8,"AlignTextUpdate","align"),navigateback:(o,r)=>{const a=Ol(j4({type:"button",icon:"chevron-left",tooltip:"Back",onAction:xe}));return mS(a,r.shared.providers,[et(B3,l=>{Qo(l,kC)})])}},OC=(o,r,a,l)=>{const d=(p=>{const b=p.toolbar,x=p.buttons;return b===!1?[]:b===void 0||b===!0?(w=>{const E=Ae(MP,C=>{const T=Oo(C.items,B=>jo(w,B)||jo(h8,B));return{name:C.name,items:T}});return Oo(E,C=>C.items.length>0)})(x):Se(b)?(w=>{const E=w.split("|");return Ae(E,C=>({items:C.trim().split(" ")}))})(b):(w=>lt(w,E=>(jo(E,"name")||jo(E,"label"))&&jo(E,"items")))(b)?b:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(r),m=Ae(d,p=>{const b=Uo(p.items,x=>x.trim().length===0?[]:((w,E,C,T,B,L)=>Kt(E,C.toLowerCase()).orThunk(()=>L.bind(Y=>ws(Y,W=>Kt(E,W+C.toLowerCase())))).fold(()=>Kt(h8,C.toLowerCase()).map(Y=>Y(w,B)),Y=>Y.type!=="grouptoolbarbutton"||T?((W,X,$,U)=>Kt(BP,W.type).fold(()=>(console.error("skipping button defined by",W),A.none()),te=>A.some(te(W,X,$,U))))(Y,B,w,C.toLowerCase()):(console.warn(`Ignoring the '${C}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),A.none())))(o,r.buttons,x,r.allowToolbarGroups,a,l).toArray());return{title:A.from(o.translate(p.name)),label:ci(p.label!==void 0,o.translate(p.label)),items:b}});return Oo(m,p=>p.items.length>0)},vS=(o,r,a,l)=>{const d=r.mainUi.outerContainer,m=a.toolbar,p=a.buttons;if(lt(m,Se)){const b=m.map(x=>{const w={toolbar:x,buttons:p,allowToolbarGroups:a.allowToolbarGroups};return OC(o,w,l,A.none())});ks.setToolbars(d,b)}else ks.setToolbar(d,OC(o,a,l,A.none()))},b8=Ce(),PP=b8.os.isiOS()&&b8.os.version.major<=12;var IP=Object.freeze({__proto__:null,render:(o,r,a,l,d)=>{const{mainUi:m,uiMotherships:p}=r,b=Vt(0),x=m.outerContainer;EP(o);const w=Ft(d.targetNode),E=Ed(Aa(w));H0(w,m.mothership),((L,Y,W)=>{eh(L)&&H0(W.mainUi.mothership.element,W.popupUi.mothership),ny(Y,W.dialogUi.mothership)})(o,E,r),o.on("PostRender",()=>{ks.setSidebar(x,a.sidebar,gT(o))}),o.on("SkinLoaded",()=>{vS(o,r,a,l),b.set(o.getWin().innerWidth),ks.setMenubar(x,XO(o,a)),ks.setViews(x,a.views),((L,Y)=>{const{uiMotherships:W}=Y,X=L.dom;let $=L.getWin();const U=L.getDoc().documentElement,te=Vt(us($.innerWidth,$.innerHeight)),oe=Vt(us(U.offsetWidth,U.offsetHeight)),de=()=>{const tt=te.get();tt.left===$.innerWidth&&tt.top===$.innerHeight||(te.set(us($.innerWidth,$.innerHeight)),g3(L))},he=()=>{const tt=L.getDoc().documentElement,Je=oe.get();Je.left===tt.offsetWidth&&Je.top===tt.offsetHeight||(oe.set(us(tt.offsetWidth,tt.offsetHeight)),g3(L))},ke=tt=>{((Je,st)=>{Je.dispatch("ScrollContent",st)})(L,tt)};X.bind($,"resize",de),X.bind($,"scroll",ke);const Ve=El(Ft(L.getBody()),"load",he);L.on("hide",()=>{ht(W,tt=>{To(tt.element,"display","none")})}),L.on("show",()=>{ht(W,tt=>{un(tt.element,"display")})}),L.on("NodeChange",he),L.on("remove",()=>{Ve.unbind(),X.unbind($,"resize",de),X.unbind($,"scroll",ke),$=null})})(o,r)});const C=ks.getSocket(x).getOrDie("Could not find expected socket element");if(PP){Ei(C.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const L=(W=>{let X=null;return{cancel:()=>{ut(X)||(clearTimeout(X),X=null)},throttle:(...$)=>{ut(X)&&(X=setTimeout(()=>{X=null,W.apply(null,$)},20))}}})(()=>{o.dispatch("ScrollContent")}),Y=Jn(C.element,"scroll",L.throttle);o.on("remove",Y.unbind)}J4(o,r),o.addCommand("ToggleSidebar",(L,Y)=>{ks.toggleSidebar(x,Y),(W=>{W.dispatch("ToggleSidebar")})(o)}),o.addQueryValueHandler("ToggleSidebar",()=>{var L;return(L=ks.whichSidebar(x))!==null&&L!==void 0?L:""}),o.addCommand("ToggleView",(L,Y)=>{if(ks.toggleView(x,Y)){const W=x.element;m.mothership.broadcastOn([Tm()],{target:W}),ht(p,X=>{X.broadcastOn([Tm()],{target:W})}),ut(ks.whichView(x))&&(o.focus(),o.nodeChanged(),ks.refreshToolbar(x)),(X=>{X.dispatch("ToggleView")})(o)}}),o.addQueryValueHandler("ToggleView",()=>{var L;return(L=ks.whichView(x))!==null&&L!==void 0?L:""});const T=Df(o);T!==Kd.sliding&&T!==Kd.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const L=o.getWin().innerWidth;L!==b.get()&&(ks.refreshToolbar(r.mainUi.outerContainer),b.set(L))});const B={setEnabled:L=>{Wp(r,L?"setEnabled":"setDisabled")},isEnabled:()=>!eo.isDisabled(x)};return{iframeContainer:C.element.dom,editorContainer:x.element.dom,api:B}}});const NC=o=>Tt(o)?o+"px":o,Fb=(o,r,a)=>{const l=r.filter(m=>o<m),d=a.filter(m=>o>m);return l.or(d).getOr(o)},yS=o=>{const r=Xk(o),a=Qk(o),l=cw(o);return(d=r,/^[0-9\.]+(|px)$/i.test(""+d)?A.some(parseInt(""+d,10)):A.none()).map(m=>Fb(m,a,l));var d},{ToolbarLocation:RC,ToolbarMode:wS}=Xd,x8=(o,r,a,l,d)=>{const{mainUi:m,uiMotherships:p}=a,b=Jg.DOM,x=Fu(o),w=Yd(o),E=cw(o).or(yS(o)),C=l.shared.header,T=C.isPositionedAtTop,B=Df(o),L=B===wS.sliding||B===wS.floating,Y=Vt(!1),W=()=>Y.get()&&!o.removed,X=oe=>L?oe.fold(ne(0),de=>de.components().length>1?Gs(de.components()[1].element):0):0,$=()=>{ht(p,oe=>{oe.broadcastOn([Sf()],{})})},U=oe=>{if(!W())return;x||d.on(ke=>{const Ve=E.getOrThunk(()=>of().width-xa(r).left-10);To(ke.element,"max-width",Ve+"px")});const de=Ii(),he=!(x||x||!(pr(m.outerContainer.element).left+Ro(m.outerContainer.element)>=window.innerWidth-40||ba(m.outerContainer.element,"width").isSome())||(To(m.outerContainer.element,"position","absolute"),To(m.outerContainer.element,"left","0px"),un(m.outerContainer.element,"width"),0));if(L&&ks.refreshToolbar(m.outerContainer),!x){const ke=Ii(),Ve=ci(de.left!==ke.left,de);((tt,Je)=>{d.on(st=>{const vt=ks.getToolbar(m.outerContainer),Qt=X(vt),no=Js(r),po=((Nn,nn)=>eh(Nn)?k(nn):A.none())(o,m.outerContainer.element),$o=po.fold(()=>no.x,Nn=>{const nn=Js(Nn);return In(Nn,ue())?no.x:no.x-nn.x}),gs=ci(tt,Math.ceil(m.outerContainer.element.dom.getBoundingClientRect().width)).filter(Nn=>Nn>150).map(Nn=>{const nn=Je.getOr(Ii()),ro=window.innerWidth-($o-nn.left),ss=Math.max(Math.min(Nn,ro),150);return ro<Nn&&To(m.outerContainer.element,"width",ss+"px"),{width:ss+"px"}}).getOr({width:"max-content"}),Ms={position:"absolute",left:Math.round($o)+"px",top:po.fold(()=>T()?Math.max(no.y-Gs(st.element)+Qt,0):no.bottom,Nn=>{var nn;const ro=Js(Nn),ss=(nn=Nn.dom.scrollTop)!==null&&nn!==void 0?nn:0,Hn=In(Nn,ue())?Math.max(no.y-Gs(st.element)+Qt,0):no.y-ro.y+ss-Gs(st.element)+Qt;return T()?Hn:no.bottom})+"px"};Ei(m.outerContainer.element,{...Ms,...gs})})})(he,Ve),Ve.each(tt=>{Ym(tt.left,ke.top)})}w&&d.on(oe),$()},te=()=>!(x||!w||!W())&&d.get().exists(oe=>{const de=C.getDockingMode(),he=(Ve=>{switch(mw(o)){case RC.auto:const tt=ks.getToolbar(m.outerContainer),Je=X(tt),st=Gs(Ve.element)-Je,vt=Js(r);if(vt.y>st)return"top";{const Qt=Xn(r),no=Math.max(Qt.dom.scrollHeight,Gs(Qt));return vt.bottom<no-st||Na().bottom<vt.bottom-st?"bottom":"top"}case RC.bottom:return"bottom";case RC.top:default:return"top"}})(oe);return he!==de&&(ke=he,d.on(Ve=>{Xs.setModes(Ve,[ke]),C.setDockingMode(ke);const tt=T()?zd.TopToBottom:zd.BottomToTop;bo(Ve.element,Tg,tt)}),!0);var ke});return{isVisible:W,isPositionedAtTop:T,show:()=>{Y.set(!0),To(m.outerContainer.element,"display","flex"),b.addClass(o.getBody(),"mce-edit-focus"),ht(p,oe=>{un(oe.element,"display")}),te(),eh(o)?U(oe=>Xs.isDocked(oe)?Xs.reset(oe):Xs.refresh(oe)):U(Xs.refresh)},hide:()=>{Y.set(!1),To(m.outerContainer.element,"display","none"),b.removeClass(o.getBody(),"mce-edit-focus"),ht(p,oe=>{To(oe.element,"display","none")})},update:U,updateMode:()=>{te()&&U(Xs.reset)},repositionPopups:$}},MC=(o,r)=>{const a=Js(o);return{pos:r?a.y:a.bottom,bounds:a}};var LP=Object.freeze({__proto__:null,render:(o,r,a,l,d)=>{const{mainUi:m}=r,p=Pn(),b=Ft(d.targetNode),x=x8(o,b,r,l,p),w=aT(o);AP(o);const E=()=>{if(p.isSet())return void x.show();p.set(ks.getHeader(m.outerContainer).getOrDie());const T=vw(o);eh(o)?(H0(b,m.mothership),H0(b,r.popupUi.mothership)):ny(T,m.mothership),ny(T,r.dialogUi.mothership);const B=()=>{vS(o,r,a,l),ks.setMenubar(m.outerContainer,XO(o,a)),x.show(),((L,Y,W,X)=>{const $=Vt(MC(Y,W.isPositionedAtTop())),U=he=>{const{pos:ke,bounds:Ve}=MC(Y,W.isPositionedAtTop()),{pos:tt,bounds:Je}=$.get(),st=Ve.height!==Je.height||Ve.width!==Je.width;$.set({pos:ke,bounds:Ve}),st&&g3(L,he),W.isVisible()&&(tt!==ke?W.update(Xs.reset):st&&(W.updateMode(),W.repositionPopups()))};X||(L.on("activate",W.show),L.on("deactivate",W.hide)),L.on("SkinLoaded ResizeWindow",()=>W.update(Xs.reset)),L.on("NodeChange keydown",he=>{requestAnimationFrame(()=>U(he))});let te=0;const oe=su(()=>W.update(Xs.refresh),33);L.on("ScrollWindow",()=>{const he=Ii().left;he!==te&&(te=he,oe.throttle()),W.updateMode()}),eh(L)&&L.on("ElementScroll",he=>{W.update(Xs.refresh)});const de=Cs();de.set(El(Ft(L.getBody()),"load",he=>U(he.raw))),L.on("remove",()=>{de.clear()})})(o,b,x,w),o.nodeChanged()};w?o.once("SkinLoaded",B):B()};o.on("show",E),o.on("hide",x.hide),w||(o.on("focus",E),o.on("blur",x.hide)),o.on("init",()=>{(o.hasFocus()||w)&&E()}),J4(o,r);const C={show:E,hide:x.hide,setEnabled:T=>{Wp(r,T?"setEnabled":"setDisabled")},isEnabled:()=>!eo.isDisabled(m.outerContainer)};return{editorContainer:m.outerContainer.element.dom,api:C}}});const BC="contexttoolbar-hide",Lm=(o,r,a)=>({setInputEnabled:l=>{!l&&a&&Ws(a),eo.set(o,!l)},isInputEnabled:()=>!eo.isDisabled(o),hide:()=>{Qo(o,zh())},back:()=>{Qo(o,kC)},getValue:()=>r.get().getOrThunk(()=>zt.getValue(o)),setValue:l=>{o.getSystem().isConnected()?zt.setValue(o,l):r.set(l)}}),CS=(o,r,a)=>et(B3,(l,d)=>{const m=o.get(l),p=Lm(m,a,l.element);r.onAction(p,d.event.buttonApi)}),_S=(o,r,a,l)=>{const d=Ae(r,m=>Fn(((p,b,x,w)=>(E=>E.type==="contextformtogglebutton")(b)?((E,C,T,B)=>{const{primary:L,...Y}=C.original,W=Ol(B6({...Y,type:"togglebutton",onAction:xe}));return s8(W,T,[CS(E,C,B)])})(p,b,x,w):((E,C,T,B)=>{const{primary:L,...Y}=C.original,W=Ol(j4({...Y,type:"button",onAction:xe}));return mS(W,T,[CS(E,C,B)])})(p,b,x,w))(o,m,a,l)));return{asSpecs:()=>Ae(d,m=>m.asSpec()),findPrimary:m=>ws(r,(p,b)=>p.primary?A.from(d[b]).bind(x=>x.getOpt(m)).filter(is(eo.isDisabled)):A.none())}},v8=(o,r,a,l)=>{const{width:d,height:m}=o.initValue();let p=pC;const b=Me("ratio-event"),x=he=>Lm(he,l),w=he=>pd(he,{tag:"span",classes:["tox-icon","tox-lock-icon__"+he]},r.icons),E=()=>!1,C=o.label.getOr("Constrain proportions"),T=r.translate(C),B=qr.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":T,"data-mce-name":C}},components:[w("lock"),w("unlock")],buttonBehaviours:pt([eo.config({disabled:E}),fs.config({}),Rs.config(r.tooltips.getConfig({tooltipText:T}))])}),L=he=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:he}),Y=he=>Li(he.element,"div.tox-focusable-wrapper").fold(A.none,ke=>(Ws(ke),A.some(!0))),W=he=>No.parts.field({factory:Ip,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:he?d:m,inputBehaviours:pt([eo.config({disabled:E}),fs.config({}),vo("size-input-toolbar-events",[et(Rl(),(ke,Ve)=>{oo(ke,b,{isField1:he})})]),Bt.config({mode:"special",onEnter:a,onEscape:Y})]),selectOnFocus:!1}),X=he=>({dom:{tag:"label",classes:["tox-label"]},components:[$s(r.translate(he))]}),$=he=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[he],behaviours:pt([fs.config({}),mo.config({}),Bt.config({mode:"special",onEnter:ke=>On(ke.element,"input").fold(A.none,Ve=>(Ws(Ve),A.some(!0)))})])}),U=$(qr.parts.field1(L([No.parts.label(X("Width:")),W(!0)]))),te=$(qr.parts.field2(L([No.parts.label(X("Height:")),W(!1)]))),oe=Vt(xe),de=[wa({onBeforeSetup:he=>On(he.element,"input").each(Ws),onSetup:o.onSetup,getApi:x},oe),Zl({getApi:x},oe,l)];return qr.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[U,L([B]),te],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(he,ke,Ve)=>{fC(zt.getValue(he)).each(tt=>{p(tt).each(Je=>{zt.setValue(ke,z3(Je))})})},onInput:he=>Qo(he,ED),coupledFieldBehaviours:pt([mo.config({}),Bt.config({mode:"flow",focusInside:sd.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),eo.config({disabled:E,onDisabled:he=>{qr.getField1(he).bind(No.getField).each(eo.disable),qr.getField2(he).bind(No.getField).each(eo.disable),qr.getLock(he).each(eo.disable)},onEnabled:he=>{qr.getField1(he).bind(No.getField).each(eo.enable),qr.getField2(he).bind(No.getField).each(eo.enable),qr.getLock(he).each(eo.enable)}}),hr(()=>r.checkUiComponentContext("mode:design")),vo("size-input-toolbar-events2",[et(b,(he,ke)=>{const Ve=ke.event.isField1,tt=Ve?qr.getField1(he):qr.getField2(he),Je=Ve?qr.getField2(he):qr.getField1(he),st=tt.map(zt.getValue).getOr(""),vt=Je.map(zt.getValue).getOr("");p=tO(st,vt)}),et(ED,he=>o.onInput(x(he))),...de])])})},y8=(o,r,a)=>No.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...o.toArray(),r],fieldBehaviours:pt([eo.config({disabled:()=>a.checkUiComponentContext("mode:design").shouldDisable,onDisabled:l=>{(d=>{As(d.element).each(m=>{Li(m,'[tabindex="-1"]').each(p=>{Ws(p)})})})(l),No.getField(l).each(eo.disable)},onEnabled:l=>{No.getField(l).each(eo.enable)}})])}),FP=(o,r,a,l)=>{const d=Vt(xe),m=x=>Lm(x,l),p=o.label.map(x=>No.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(r.translate(x))]})),b=No.parts.field({factory:Ip,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(o.min()),max:String(o.max())},data:o.initValue().toString(),fromInputValue:x=>(w=>{const E=parseFloat(w);return isNaN(E)?A.none():A.some(E)})(x).getOr(o.min()),toInputValue:x=>String(x),inputBehaviours:pt([eo.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),hr(()=>r.checkUiComponentContext("mode:design")),Bt.config({mode:"special",onEnter:a,onLeft:(x,w)=>(w.cut(),A.none()),onRight:(x,w)=>(w.cut(),A.none())}),vo("slider-events",[wa({onSetup:o.onSetup,getApi:m,onBeforeSetup:Bt.focusIn},d),Zl({getApi:m},d,l),et(im(),x=>{o.onInput(m(x))})])])});return y8(p,b,r)},PC=(o,r,a,l)=>{const d=Vt(xe),m=w=>Lm(w,l),p=o.label.map(w=>No.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(r.translate(w))]})),b={...o.placeholder.map(w=>({placeholder:r.translate(w)})).getOr({})},x=No.parts.field({factory:Ip,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:b,data:o.initValue(),selectOnFocus:!0,inputBehaviours:pt([eo.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),hr(()=>r.checkUiComponentContext("mode:design")),Bt.config({mode:"special",onEnter:a,onLeft:(w,E)=>(E.cut(),A.none()),onRight:(w,E)=>(E.cut(),A.none())}),vo("input-events",[wa({onSetup:o.onSetup,getApi:w=>Li(w.element,".tox-toolbar").bind(E=>On(E,"button:enabled")).fold(()=>Lm(w,l),E=>Lm(w,l,E)),onBeforeSetup:Bt.focusIn},d),Zl({getApi:m},d,l),et(im(),w=>{o.onInput(m(w))})])])});return y8(p,x,r)},kS=(o,r,a)=>{const l=Pn(),d=Fn(o(a,x=>p.findPrimary(x).orThunk(()=>b.findPrimary(x)).map(w=>(bp(w),!0)),l)),m=dn(r.commands,x=>x.align==="start"),p=_S(d,m.pass,a,l),b=_S(d,m.fail,a,l);return Oo([{title:A.none(),label:A.none(),items:p.asSpecs()},{title:A.none(),label:A.none(),items:[d.asSpec()]},{title:A.none(),label:A.none(),items:b.asSpecs()}],x=>x.items.length>0)},zP=(o,r)=>{switch(o.type){case"contextform":return kS(hn(PC,o),o,r);case"contextsliderform":return kS(hn(FP,o),o,r);case"contextsizeinputform":return kS(hn(v8,o),o,r)}},SS=(o,r,a)=>r.bottom-o.y>=a&&o.bottom-r.y>=a,IC=o=>{const r=(a=>{const l=a.getBoundingClientRect();if(l.height<=0&&l.width<=0){const d=Qa(Ft(a.startContainer),a.startOffset).element;return(P(d)?Ln(d):A.some(d)).filter(Ho).map(m=>m.dom.getBoundingClientRect()).getOr(l)}return l})(o.selection.getRng());if(o.inline){const a=Ii();return zs(a.left+r.left,a.top+r.top,r.width,r.height)}{const a=er(Ft(o.getBody()));return zs(a.x+r.left,a.y+r.top,r.width,r.height)}},LC=(o,r,a,l=0)=>{const d=of(window),m=Js(Ft(o.getContentAreaContainer())),p=bw(o)||xw(o)||Rm(o),{x:b,width:x}=((w,E,C)=>{const T=Math.max(w.x+C,E.x);return{x:T,width:Math.min(w.right-C,E.right)-T}})(m,d,l);if(o.inline&&!p)return zs(b,d.y,x,d.height);{const w=r.header.isPositionedAtTop(),{y:E,bottom:C}=((T,B,L,Y,W,X)=>{const $=Ft(T.getContainer()),U=On($,".tox-editor-header").getOr($),te=Js(U),oe=te.y>=B.bottom,de=Y&&!oe;if(T.inline&&de)return{y:Math.max(te.bottom+X,L.y),bottom:L.bottom};if(T.inline&&!de)return{y:L.y,bottom:Math.min(te.y-X,L.bottom)};const he=W==="line"?Js($):B;return de?{y:Math.max(te.bottom+X,L.y),bottom:Math.min(he.bottom-X,L.bottom)}:{y:Math.max(he.y+X,L.y),bottom:Math.min(te.y-X,L.bottom)}})(o,m,d,w,a,l);return zs(b,E,x,C-E)}},ES={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},wl={maxHeightFunction:gm(),maxWidthFunction:M0()},AS=o=>o==="node",HP=(o,r,a,l,d)=>{const m=IC(o),p=l.lastElement().exists(b=>In(a,b));return((b,x)=>{const w=b.selection.getRng(),E=Qa(Ft(w.startContainer),w.startOffset);return w.startContainer===w.endContainer&&w.startOffset===w.endOffset-1&&In(E.element,x)})(o,a)?p?Dx:Zi:p?((b,x)=>{const w=ba(b,"position");To(b,"position",x);const E=SS(m,Js(r),-20)&&!l.isReposition()?gf:Dx;return w.each(C=>To(b,"position",C)),E})(r,l.getMode()):(l.getMode()==="fixed"?d.y+Ii().top:d.y)+(Gs(r)+12)<=m.y?Zi:Il},VP=(o,r,a,l)=>{const d=p=>(b,x,w,E,C)=>({...HP(o,E,p,a,C)({...b,y:C.y,height:C.height},x,w,E,C),alwaysFit:!0}),m=p=>AS(l)?[d(p)]:[];return r?{onLtr:p=>[Pr,jr,Br,Wa,oi,ya].concat(m(p)),onRtl:p=>[Pr,Br,jr,oi,Wa,ya].concat(m(p))}:{onLtr:p=>[ya,Pr,Wa,jr,oi,Br].concat(m(p)),onRtl:p=>[ya,Pr,oi,Br,Wa,jr].concat(m(p))}},FC=(o,r)=>{const a=Oo(r,m=>m.predicate(o.dom)),{pass:l,fail:d}=dn(a,m=>m.type==="contexttoolbar");return{contextToolbars:l,contextForms:d}},$P=(o,r)=>{const a={},l=[],d=[],m={},p={},b=Zs(o);return ht(b,x=>{const w=o[x];w.type==="contextform"||w.type==="contextsliderform"||w.type==="contextsizeinputform"?((E,C)=>{const T=Ol(Hs("ContextForm",tB,C));a[E]=T,T.launch.map(B=>{m["form:"+E]={...C.launch,type:B.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(T)}}}),T.scope==="editor"?d.push(T):l.push(T),p[E]=T})(x,w):w.type==="contexttoolbar"&&((E,C)=>{var T;(T=C,Hs("ContextToolbar",F6,T)).each(B=>{B.launch.isSome()&&(m["toolbar:"+E]={...C.launch,type:"button",onAction:()=>{r(B)}}),C.scope==="editor"?d.push(B):l.push(B),p[E]=B})})(x,w)}),{forms:a,inNodeScope:l,inEditorScope:d,lookupTable:p,formNavigators:m}},TS="tox-pop--transition",UP=(o,r,a,l)=>{const d=l.backstage,m=d.shared,p=Ce().deviceType.isTouch,b=Pn(),x=Pn(),w=Pn(),E=(ke=>{const Ve=Vt([]);return{sketch:Qs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Je=>{Ve.set([]),Qs.getContent(Je).each(st=>{un(st.element,"visibility")}),vs(Je.element,EC),un(Je.element,"width")},onHide:()=>{Ve.set([]),ke.onHide()},inlineBehaviours:pt([vo("context-toolbar-events",[hm(wg(),(Je,st)=>{st.event.raw.propertyName==="width"&&(vs(Je.element,EC),un(Je.element,"width"))}),et(SC,(Je,st)=>{const vt=Je.element;un(vt,"width");const Qt=$a(vt),no=As(Je.element).isSome();un(vt,"left"),un(vt,"right"),un(vt,"max-width"),Qs.setContent(Je,st.event.contents),ls(vt,EC);const po=$a(vt);To(vt,"transition","none"),Qs.reposition(Je),un(vt,"transition"),To(vt,"width",Qt+"px"),st.event.focus.fold(()=>{no&&r8(Je)},$o=>{Al(Aa(Je.element)).fold(()=>Ws($o),gs=>{In(gs,$o)||Ws($o)})}),setTimeout(()=>{To(Je.element,"width",po+"px")},0)}),et(a8,(Je,st)=>{Qs.getContent(Je).each(vt=>{Ve.set(Ve.get().concat([{bar:vt,focus:Al(Aa(Je.element))}]))}),oo(Je,SC,{contents:st.event.forwardContents,focus:A.none()})}),et(kC,(Je,st)=>{ke.onBack(),_o(Ve.get()).each(vt=>{Ve.set(Ve.get().slice(0,Ve.get().length-1)),oo(Je,SC,{contents:cd(vt.bar),focus:vt.focus})})})]),Bt.config({mode:"special",onEscape:Je=>_o(Ve.get()).fold(()=>ke.onEscape(),st=>(Qo(Je,kC),A.some(!0)))})]),lazySink:()=>Fo.value(ke.sink)}),inSubtoolbar:()=>Ve.get().length>0}})({sink:a,onEscape:()=>(o.focus(),rD(o),A.some(!0)),onHide:()=>{rD(o)},onBack:()=>{(ke=>{ke.dispatch("ContextFormSlideBack")})(o)}}),C=Gi(E.sketch),T=()=>{const ke=w.get().getOr("node"),Ve=AS(ke)?1:0;return LC(o,m,ke,Ve)},B=()=>!(o.removed||p()&&d.isContextMenuOpen()),L=()=>{if(B()){const ke=T(),Ve=Sa(w.get(),"node")?((tt,Je)=>Je.filter(st=>za(st)&&cs(st)).map(er).getOrThunk(()=>IC(tt)))(o,b.get()):IC(o);return ke.height<=0||!SS(Ve,ke,.01)}return!0},Y=()=>{b.clear(),x.clear(),w.clear(),Qs.hide(C)},W=()=>{if(Qs.isOpen(C)){const ke=C.element;un(ke,"display"),L()?To(ke,"display","none"):(x.set(0),Qs.reposition(C))}},X=ke=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ke],behaviours:pt([Bt.config({mode:"acyclic"}),vo("pop-dialog-wrap-events",[ts(Ve=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>Bt.focusIn(Ve))}),ad(Ve=>{o.shortcuts.remove("ctrl+F9")})])])}),$=ke=>{const Ve=te([ke]);oo(C,a8,{forwardContents:X(Ve)})},U=rr(()=>$P(r,$)),te=ke=>{const{buttons:Ve}=o.ui.registry.getAll(),tt={...Ve,...U().formNavigators},Je=Df(o)===Kd.scrolling?Kd.scrolling:Kd.default,st=Ps(Ae(ke,vt=>{return vt.type==="contexttoolbar"?((no,po)=>OC(o,{buttons:no,toolbar:po.items,allowToolbarGroups:!1},l.backstage,A.some(["form:","toolbar:"])))(tt,(Qt=vt,{...Qt,launch:Qt.launch.getOrUndefined(),items:Se(Qt.items)?Qt.items:Ae(Qt.items,z6)})):((no,po)=>zP(no,po))(vt,m.providers);var Qt}));return bh({type:Je,uid:Me("context-toolbar"),initGroups:st,onEscape:A.none,cyclicKeying:!0,providers:m.providers})},oe=(ke,Ve)=>{if(he.cancel(),!B())return;const tt=te(ke),Je=ke[0].position,st=((Qt,no)=>{const po=Qt==="node"?m.anchors.node(no):m.anchors.cursor(),$o=((gs,Ms,Nn,nn)=>Ms==="line"?{bubble:ml(12,0,ES),layouts:{onLtr:()=>[_x],onRtl:()=>[kx]},overrides:wl}:{bubble:ml(0,12,ES,1/12),layouts:VP(gs,Nn,nn,Ms),overrides:wl})(o,Qt,p(),{lastElement:b.get,isReposition:()=>Sa(x.get(),0),getMode:()=>Yi.getMode(a)});return Wo(po,$o)})(Je,Ve);w.set(Je),x.set(1);const vt=C.element;un(vt,"display"),(Qt=>Sa(vr(Qt,b.get(),In),!0))(Ve)||(vs(vt,TS),Yi.reset(a,C)),Qs.showWithinBounds(C,X(tt),{anchor:st,transition:{classes:[TS],mode:"placement"}},()=>A.some(T())),Ve.fold(b.clear,b.set),L()&&To(vt,"display","none")};let de=!1;const he=su(()=>{!o.hasFocus()||o.removed||de||(Ja(C.element,TS)?he.throttle():((ke,Ve)=>{const tt=Ft(Ve.getBody()),Je=vt=>In(vt,tt),st=Ft(Ve.selection.getNode());return(vt=>!Je(vt)&&!La(tt,vt))(st)?A.none():((vt,Qt,no)=>{const po=FC(vt,Qt);if(po.contextForms.length>0)return A.some({elem:vt,toolbars:[po.contextForms[0]]});{const $o=FC(vt,no);if($o.contextForms.length>0)return A.some({elem:vt,toolbars:[$o.contextForms[0]]});if(po.contextToolbars.length>0||$o.contextToolbars.length>0){const gs=(Ms=>{if(Ms.length<=1)return Ms;{const Nn=Hn=>Tn(Ms,Yr=>Yr.position===Hn),nn=Hn=>Oo(Ms,Yr=>Yr.position===Hn),ro=Nn("selection"),ss=Nn("node");if(ro||ss){if(ss&&ro){const Hn=nn("node"),Yr=Ae(nn("selection"),Gn=>({...Gn,position:"node"}));return Hn.concat(Yr)}return nn(ro?"selection":"node")}return nn("line")}})(po.contextToolbars.concat($o.contextToolbars));return A.some({elem:vt,toolbars:gs})}return A.none()}})(st,ke.inNodeScope,ke.inEditorScope).orThunk(()=>((vt,Qt,no)=>vt(Qt)?A.none():tp(Qt,po=>{if(Ho(po)){const{contextToolbars:$o,contextForms:gs}=FC(po,no.inNodeScope),Ms=gs.length>0?gs:(Nn=>{if(Nn.length<=1)return Nn;{const nn=ro=>z(Nn,ss=>ss.position===ro);return nn("selection").orThunk(()=>nn("node")).orThunk(()=>nn("line")).map(ro=>ro.position).fold(()=>[],ro=>Oo(Nn,ss=>ss.position===ro))}})($o);return Ms.length>0?A.some({elem:po,toolbars:Ms}):A.none()}return A.none()},vt))(Je,st,ke))})(U(),o).fold(Y,ke=>{oe(ke.toolbars,A.some(ke.elem))}))},17);o.on("init",()=>{o.on("remove",Y),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",W),o.on("click focus SetContent",he.throttle),o.on("keyup",ke=>{var Ve;((Ve=ke.keyCode)!==Lb.ENTER&&Ve!==Lb.SPACEBAR||!E.inSubtoolbar())&&he.throttle()}),o.on(BC,Y),o.on("contexttoolbar-show",ke=>{const Ve=U();Kt(Ve.lookupTable,ke.toolbarKey).each(tt=>{oe([tt],ci(ke.target!==o,ke.target)),r8(C)})}),o.on("focusout",ke=>{cb.setEditorTimeout(o,()=>{As(a.element).isNone()&&As(C.element).isNone()&&!o.hasFocus()&&Y()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&Y()}),o.on("DisabledStateChange",ke=>{ke.state&&Y()}),o.on("ExecCommand",({command:ke})=>{ke.toLowerCase()==="toggleview"&&Y()}),o.on("AfterProgressState",ke=>{ke.state?Y():o.hasFocus()&&he.throttle()}),o.on("dragstart",()=>{de=!0}),o.on("dragend drop",()=>{de=!1}),o.on("NodeChange",ke=>{E.inSubtoolbar()?(To(C.element,"transition","none"),W(),un(C.element,"transition")):As(C.element).fold(he.throttle,xe)})})},DS=(o,r)=>{const a=()=>{const l=r.getOptions(o),d=r.getCurrent(o).map(r.hash),m=Pn();return Ae(l,p=>({type:"togglemenuitem",text:r.display(p),onSetup:b=>{const x=E=>{E&&(m.on(C=>C.setActive(!1)),m.set(b)),b.setActive(E)};x(Sa(d,r.hash(p)));const w=r.watcher(o,p,x);return()=>{m.clear(),w()}},onAction:()=>r.setCurrent(o,p)}))};o.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:l=>l(a()),onSetup:r.onToolbarSetup}),o.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:a,onSetup:r.onMenuSetup})},Pf=o=>{DS(o,(r=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:wT,hash:a=>(l=>Tc(l,["fixed","relative","empty"]).map(({value:d,unit:m})=>d+m))(a).getOr(a),display:kt,watcher:(a,l,d)=>a.formatter.formatChanged("lineheight",d,!1,{value:l}).unbind,getCurrent:a=>A.from(a.queryCommandValue("LineHeight")),setCurrent:(a,l)=>a.execCommand("LineHeight",!1,l),onToolbarSetup:xl(r),onMenuSetup:xl(r)}))(o)),(r=>A.from(mb(r)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:ne(a),hash:l=>Ht(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,d,m)=>{var p;return l.formatter.formatChanged("lang",m,!1,{value:d.code,customValue:(p=d.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const d=Ft(l.selection.getNode());return nm(d,m=>A.some(m).filter(Ho).bind(p=>Ta(p,"lang").map(b=>({code:b,customCode:Ta(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,d)=>l.execCommand("Lang",!1,d),onToolbarSetup:l=>{const d=Cs();return l.setActive(r.formatter.match("lang",{},void 0,!0)),d.set(r.formatter.formatChanged("lang",l.setActive,!0)),Xw(d.clear,xl(r)(l))},onMenuSetup:xl(r)})))(o).each(r=>DS(o,r))},OS=o=>ch(o,"NodeChange",r=>{r.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),NS=(o,r)=>a=>{a.setActive(r.get());const l=d=>{r.set(d.state),a.setActive(d.state)};return o.on("PastePlainTextToggle",l),Xw(()=>o.off("PastePlainTextToggle",l),xl(o)(a))},zb=(o,r)=>()=>{o.execCommand("mceToggleFormat",!1,r)},RS=o=>{(r=>{(a=>{vl.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,d)=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:Qw(a,l.name),onAction:zb(a,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const d="h"+l,m=`Access+${l}`;a.ui.registry.addToggleButton(d,{text:d.toUpperCase(),tooltip:"Heading "+l,onSetup:Qw(a,d),onAction:zb(a,d),shortcut:m})}})(r),(a=>{vl.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{a.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:fc(a,l.action),shortcut:l.shortcut,context:l.context})}),vl.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{a.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:xl(a),onAction:fc(a,l.action)})})})(r),(a=>{vl.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:fc(a,l.action),onSetup:Qw(a,l.name)})})})(r)})(o),(r=>{vl.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],a=>{r.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onAction:fc(r,a.action),context:a.context})}),vl.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],a=>{r.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onSetup:xl(r),onAction:fc(r,a.action)})}),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:xl(r),onAction:zb(r,"code")})})(o)},zC=(o,r)=>ch(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!o.mode.isReadOnly()&&o.undoManager[r]())}),ZP=o=>ch(o,"VisualAid",r=>{r.setActive(o.hasVisual)}),jP=(o,r)=>{(a=>{ht([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:fc(a,l.cmd),onSetup:Qw(a,l.name)})}),a.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:xl(a),onAction:fc(a,"JustifyNone")})})(o),RS(o),((a,l)=>{((d,m)=>{const p=Mb(m,Bf(d));d.ui.registry.addNestedMenuItem("align",{text:m.shared.providers.translate("Align"),onSetup:xl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,m)=>{const p=Mb(m,TC(d));d.ui.registry.addNestedMenuItem("fontfamily",{text:m.shared.providers.translate("Fonts"),onSetup:xl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,m)=>{const p={type:"advanced",...m.styles},b=Mb(m,g8(d,p));d.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:xl(d,()=>b.getStyleItems().length>0),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(a,l),((d,m)=>{const p=Mb(m,AC(d));d.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:xl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,m)=>{const p=Mb(m,xS(d));d.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:xl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l)})(o,r),(a=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:zC(l,"hasUndo"),onAction:fc(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:zC(l,"hasRedo"),onAction:fc(l,"redo")})})(a),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:zC(l,"hasUndo"),onAction:fc(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:zC(l,"hasRedo"),onAction:fc(l,"redo"),shortcut:"Meta+Y"})})(a)})(o),(a=>{(b=>{b.addCommand("mceApplyTextcolor",(x,w)=>{((E,C,T)=>{E.undoManager.transact(()=>{E.focus(),E.formatter.apply(C,{value:T}),E.nodeChanged()})})(b,x,w)}),b.addCommand("mceRemoveTextcolor",x=>{((w,E)=>{w.undoManager.transact(()=>{w.focus(),w.formatter.remove(E,{value:null},void 0,!0),w.nodeChanged()})})(b,x)})})(a);const l=cD(a),d=vB(a),m=Vt(l),p=Vt(d);pD(a,"forecolor","forecolor",m),pD(a,"backcolor","hilitecolor",p),gD(a,"forecolor","forecolor","Text color",m),gD(a,"backcolor","hilitecolor","Background color",p)})(o),(a=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:fc(l,"mceToggleVisualAid"),context:"any"})})(a),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:ZP(l),onAction:fc(l,"mceToggleVisualAid"),context:"any"})})(a)})(o),(a=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:OS(l),onAction:fc(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:xl(l),onAction:fc(l,"indent")})})(a)})(o),Pf(o),(a=>{const l=Vt(pT(a)),d=()=>a.execCommand("mceTogglePlainTextPaste");a.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:d,onSetup:NS(a,l)}),a.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:d,onSetup:NS(a,l)})})(o),(a=>{a.ui.registry.addContext("editable",()=>a.selection.isEditable()),a.ui.registry.addContext("mode",l=>a.mode.get()===l),a.ui.registry.addContext("any",Xt),a.ui.registry.addContext("formatting",l=>a.formatter.canApply(l)),a.ui.registry.addContext("insert",l=>a.schema.isValidChild(a.selection.getNode().tagName,l))})(o)},WP=o=>Se(o)?o.split(/[ ,]/):o,w8=o=>r=>r.options.get(o),C8=w8("contextmenu_never_use_native"),qP=w8("contextmenu_avoid_overlap"),MS=o=>{const r=o.ui.registry.getAll().contextMenus,a=o.options.get("contextmenu");return o.options.isSet("contextmenu")?a:Oo(a,l=>jo(r,l))},a2=(o,r)=>({type:"makeshift",x:o,y:r}),Fm=o=>o.type==="longpress"||o.type.indexOf("touch")===0,HC=(o,r)=>r.type==="contextmenu"||r.type==="longpress"?o.inline?(a=>{if(Fm(a)){const l=a.touches[0];return a2(l.pageX,l.pageY)}return a2(a.pageX,a.pageY)})(r):((a,l)=>{const d=Jg.DOM.getPos(a);return((m,p,b)=>a2(m.x+p,m.y+b))(l,d.x,d.y)})(o.getContentAreaContainer(),(a=>{if(Fm(a)){const l=a.touches[0];return a2(l.clientX,l.clientY)}return a2(a.clientX,a.clientY)})(r)):_8(o),_8=o=>({type:"selection",root:Ft(o.selection.getNode())}),k8=(o,r,a)=>{switch(a){case"node":return(l=>({type:"node",node:A.some(Ft(l.selection.getNode())),root:Ft(l.getBody())}))(o);case"point":return HC(o,r);case"selection":return _8(o)}},S8=(o,r,a,l,d,m)=>{const p=a(),b=k8(o,r,m);Ab(p,Jd.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:A.none()}).map(x=>{r.preventDefault(),Qs.showMenuAt(d,{anchor:b},{menu:{markers:sh("normal")},data:x})})},E8={onLtr:()=>[Pr,jr,Br,Wa,oi,ya,Zi,Il,_u,o1,Ag,Eg],onRtl:()=>[Pr,Br,jr,oi,Wa,ya,Zi,Il,Ag,Eg,_u,o1]},BS={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},VC=(o,r,a,l,d,m)=>{const p=Ce(),b=p.os.isiOS(),x=p.os.isMacOS(),w=p.os.isAndroid(),E=p.deviceType.isTouch(),C=()=>{const T=a();((B,L,Y,W,X,$,U)=>{const te=((oe,de,he)=>{const ke=k8(oe,de,he);return{bubble:ml(0,he==="point"?12:0,BS),layouts:E8,overrides:{maxWidthFunction:M0(),maxHeightFunction:gm()},...ke}})(B,L,$);Ab(Y,Jd.CLOSE_ON_EXECUTE,W,{isHorizontalMenu:!0,search:A.none()}).map(oe=>{L.preventDefault();const de=U?hi.HighlightMenuAndItem:hi.HighlightNone;Qs.showMenuWithinBounds(X,{anchor:te},{menu:{markers:sh("normal"),highlightOnOpen:de},data:oe,type:"horizontal"},()=>A.some(LC(B,W.shared,$==="node"?"node":"selection"))),B.dispatch(BC)})})(o,r,T,l,d,m,!(w||b||x&&E))};if((x||b)&&m!=="node"){const T=()=>{(B=>{const L=B.selection.getRng(),Y=()=>{cb.setEditorTimeout(B,()=>{B.selection.setRng(L)},10),$()};B.once("touchend",Y);const W=U=>{U.preventDefault(),U.stopImmediatePropagation()};B.on("mousedown",W,!0);const X=()=>$();B.once("longpresscancel",X);const $=()=>{B.off("touchend",Y),B.off("longpresscancel",X),B.off("mousedown",W)}})(o),C()};((B,L)=>{const Y=B.selection;if(Y.isCollapsed()||L.touches.length<1)return!1;{const W=L.touches[0],X=Y.getRng();return sm(B.getWin(),Ac.domRange(X)).exists($=>$.left<=W.clientX&&$.right>=W.clientX&&$.top<=W.clientY&&$.bottom>=W.clientY)}})(o,r)?T():(o.once("selectionchange",T),o.once("touchend",()=>o.off("selectionchange",T)))}else C()},Hb=o=>Se(o)?o==="|":o.type==="separator",e0={type:"separator"},PS=o=>{const r=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(Se(o))return o;switch(o.type){case"separator":return e0;case"submenu":return{type:"nestedmenuitem",...r(o),getSubmenuItems:()=>{const l=o.getSubmenuItems();return Se(l)?l:Ae(l,PS)}};default:const a=o;return{type:"menuitem",...r(a),onAction:Pe(a.onAction)}}},IS=(o,r)=>{if(r.length===0)return o;const a=_o(o).filter(l=>!Hb(l)).fold(()=>[],l=>[e0]);return o.concat(a).concat(r).concat([e0])},LS=(o,r)=>!(a=>a.type==="longpress"||jo(a,"touches"))(r)&&(r.button!==2||r.target===o.getBody()&&r.pointerType===""),FS=(o,r)=>LS(o,r)?o.selection.getStart(!0):r.target,GP=(o,r,a)=>{const l=Ce().deviceType.isTouch,d=Gi(Qs.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>o.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:pt([vo("dismissContextMenu",[et(up(),(b,x)=>{En.close(b),o.focus()})])])})),m=()=>Qs.hide(d),p=b=>{if(C8(o)&&b.preventDefault(),((w,E)=>E.ctrlKey&&!C8(w))(o,b)||(w=>MS(w).length===0)(o))return;const x=((w,E)=>{const C=qP(w),T=LS(w,E)?"selection":"point";if(Gl(C)){const B=FS(w,E);return ep(Ft(B),C)?"node":T}return T})(o,b);(l()?VC:S8)(o,b,()=>{const w=FS(o,b),E=o.ui.registry.getAll(),C=MS(o);return((T,B,L)=>{const Y=Go(B,(W,X)=>Kt(T,X.toLowerCase()).map($=>{const U=$.update(L);if(Se(U)&&Gl(ql(U)))return IS(W,U.split(" "));if(Ze(U)&&U.length>0){const te=Ae(U,PS);return IS(W,te)}return W}).getOrThunk(()=>W.concat([X])),[]);return Y.length>0&&Hb(Y[Y.length-1])&&Y.pop(),Y})(E.contextMenus,C,w)},a,d,x)};o.on("init",()=>{const b="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");o.on(b,m),o.on("longpress contextmenu",p)})},A8=(o,r,a,l,d,m)=>o.fold(()=>k1.snap({sensor:Rp(a-20,l-20),range:us(d,m),output:Rp(A.some(a),A.some(l)),extra:{td:r}}),p=>{const b=a-20,x=l-20,w=p.element.dom.getBoundingClientRect();return k1.snap({sensor:Rp(b,x),range:us(40,40),output:Rp(A.some(a-w.width/2),A.some(l-w.height/2)),extra:{td:r}})}),T8=(o,r,a)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,d)=>{const m=d.td;((p,b)=>p.exists(x=>In(x,b)))(r.get(),m)||(r.set(m),a(m))},mustSnap:!0}),D8=o=>Fn(ua.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:pt([k1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),kf.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),KP=(o,r)=>{const a=Vt([]),l=Vt([]),d=Vt(!1),m=Pn(),p=Pn(),b=$=>{const U=er($);return A8(C.getOpt(r),$,U.x,U.y,U.width,U.height)},x=$=>{const U=er($);return A8(T.getOpt(r),$,U.right,U.bottom,U.width,U.height)},w=T8(()=>Ae(a.get(),$=>b($)),m,$=>{p.get().each(U=>{o.dispatch("TableSelectorChange",{start:$,finish:U})})}),E=T8(()=>Ae(l.get(),$=>x($)),p,$=>{m.get().each(U=>{o.dispatch("TableSelectorChange",{start:U,finish:$})})}),C=D8(w),T=D8(E),B=Gi(C.asSpec()),L=Gi(T.asSpec()),Y=($,U,te,oe)=>{const de=te(U);k1.snapTo($,de),((he,ke)=>{const Ve=ke.dom.getBoundingClientRect();un(he.element,"display");const tt=Vr(Ft(o.getBody())).dom.innerHeight,Je=Ve[oe]<0,st=((vt,Qt)=>vt[oe]>Qt)(Ve,tt);(Je||st)&&To(he.element,"display","none")})($,U)},W=$=>Y(B,$,b,"top"),X=$=>Y(L,$,x,"bottom");if(Ce().deviceType.isTouch()){const $=U=>Ae(U,Ft);o.on("TableSelectionChange",U=>{d.get()||(Du(r,B),Du(r,L),d.set(!0));const te=Ft(U.start),oe=Ft(U.finish);m.set(te),p.set(oe),A.from(U.otherCells).each(de=>{a.set($(de.upOrLeftCells)),l.set($(de.downOrRightCells)),W(te),X(oe)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{m.get().each(W),p.get().each(X)}),o.on("TableSelectionClear",()=>{d.get()&&(Cf(B),Cf(L),d.set(!1)),m.clear(),p.clear()})}},O8=(o,r,a)=>{var l;const d=(l=r.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:pt([Bt.config({mode:"flow",selector:"div[role=button]"}),eo.config({disabled:a.isDisabled}),hr(()=>a.checkUiComponentContext("any")),fs.config({}),Do.config({}),vo("elementPathEvents",[ts((m,p)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Bt.focusIn(m)),o.on("NodeChange",b=>{const x=(E=>{const C=[];let T=E.length;for(;T-- >0;){const L=E[T];if(L.nodeType===1&&(B=L).nodeName!=="BR"&&!B.getAttribute("data-mce-bogus")&&B.getAttribute("data-mce-type")!=="bookmark"){const Y=xB(o,L);if(Y.isDefaultPrevented()||C.push({name:Y.name,element:L}),Y.isPropagationStopped())break}}var B;return C})(b.parents),w=x.length>0?Go(x,(E,C,T)=>{const B=((L,Y,W)=>ua.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":W}},components:[$s(L)],action:X=>{o.focus(),o.selection.select(Y),o.nodeChanged()},buttonBehaviours:pt([Rs.config({...a.tooltips.getConfig({tooltipText:a.translate(["Select the {0} element",Y.nodeName.toLowerCase()]),onShow:(X,$)=>{((U,te)=>{const oe=A.from(wr(U,"id")).getOrThunk(()=>{const de=Me("aria");return bo(te,"id",de),de});bo(U,"aria-describedby",oe)})(X.element,$.element)},onHide:X=>{var $;$=X.element,qs($,"aria-describedby")}})}),jp(a.isDisabled),hr(()=>a.checkUiComponentContext("any"))])}))(C.name,C.element,T);return T===0?E.concat([B]):E.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[$s(` ${d} `)]},B])},[]):[];Do.set(m,w)})})])]),components:[]}};var If;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(If||(If={}));const N8=(o,r,a)=>{const l=Ft(o.getContainer()),d=((m,p,b,x,w)=>{const E={height:Fb(x+p.top,Jk(m),dw(m))};return b===If.Both&&(E.width=Fb(w+p.left,Qk(m),cw(m))),E})(o,r,a,Gs(l),$a(l));mr(d,(m,p)=>{Tt(m)&&To(l,p,NC(m))}),(m=>{m.dispatch("ResizeEditor")})(o)},i2=(o,r,a,l)=>{const d=us(20*a,20*l);return N8(o,d,r),A.some(!0)},YP=(o,r)=>{const a=()=>{const l=[],d=bT(o),m=fT(o),p=gw(o)||o.hasPlugin("wordcount");return m&&l.push(O8(o,{},r)),d&&l.push((()=>{const b=zv("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[$s(fd.translate(["Press {0} for help",b]))]}})()),p&&l.push((()=>{const b=[];return o.hasPlugin("wordcount")&&b.push(((x,w)=>{const E=(C,T,B)=>Do.set(C,[$s(w.translate(["{0} "+B,T[B]]))]);return ua.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:pt([jp(w.isDisabled),hr(()=>w.checkUiComponentContext("any")),fs.config({}),Do.config({}),zt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),vo("wordcount-events",[Hd(C=>{const T=zt.getValue(C),B=T.mode==="words"?"characters":"words";zt.setValue(C,{mode:B,count:T.count}),E(C,T.count,B)}),ts(C=>{x.on("wordCountUpdate",T=>{const{mode:B}=zt.getValue(C);zt.setValue(C,{mode:B,count:T.wordCount}),E(C,T.wordCount,B)})})])]),eventOrder:{[dl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,r)),gw(o)&&b.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":o.translate(["Build with {0}","TinyMCE"])},innerHtml:o.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:pt([mo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:b}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const b="tox-statusbar__text-container--flex-start",x="tox-statusbar__text-container--flex-end";if(d){const w="tox-statusbar__text-container-3-cols";return p||m?p&&!m?[w,x]:[w,b]:[w,"tox-statusbar__text-container--space-around"]}return[p&&!m?x:b]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=a(),d=((m,p)=>{const b=(E=>{const C=n4(E);return C===!1?If.None:C==="both"?If.Both:If.Vertical})(m);if(b===If.None)return A.none();const x=b===If.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.",w=b===If.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return A.some(pd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",w],attributes:{"aria-label":p.translate(x),"data-mce-name":"resize-handle"},behaviours:[k1.config({mode:"mouse",repositionTarget:!1,onDrag:(E,C,T)=>N8(m,T,b),blockerClass:"tox-blocker"}),Bt.config({mode:"special",onLeft:()=>i2(m,b,-1,0),onRight:()=>i2(m,b,1,0),onUp:()=>i2(m,b,0,-1),onDown:()=>i2(m,b,0,1)}),fs.config({}),mo.config({}),Rs.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")}))]},p.icons))})(o,r);return l.concat(d.toArray())})()}},zS=(o,r)=>r.get().getOrDie(`UI for ${o} has not been rendered`),t0=(o,r)=>{const a=o.inline,l=a?LP:IP,d=Yd(o)?gP:pP,m=(()=>{const de=Pn(),he=Pn(),ke=Pn();return{dialogUi:de,popupUi:he,mainUi:ke,getUiMotherships:()=>{const Ve=de.get().map(Je=>Je.mothership),tt=he.get().map(Je=>Je.mothership);return Ve.fold(()=>tt.toArray(),Je=>tt.fold(()=>[Je],st=>In(Je.element,st.element)?[Je]:[Je,st]))},lazyGetInOuterOrDie:(Ve,tt)=>()=>ke.get().bind(Je=>tt(Je.outerContainer)).getOrDie(`Could not find ${Ve} element in OuterContainer`)}})(),p=Pn(),b=Pn(),x=Pn(),w=Ce().deviceType.isTouch()?["tox-platform-touch"]:[],E=r4(o),C=Df(o),T=Fn({dom:{tag:"div",classes:["tox-anchorbar"]}}),B=Fn({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),L=()=>m.mainUi.get().map(de=>de.outerContainer).bind(ks.getHeader),Y=m.lazyGetInOuterOrDie("anchor bar",T.getOpt),W=m.lazyGetInOuterOrDie("bottom anchor bar",B.getOpt),X=m.lazyGetInOuterOrDie("toolbar",ks.getToolbar),$=m.lazyGetInOuterOrDie("throbber",ks.getThrobber),U=((de,he,ke,Ve)=>{const tt=Vt(!1),Je=(nn=>{const ro=Vt(r4(nn)?"bottom":"top");return{isPositionedAtTop:()=>ro.get()==="top",getDockingMode:ro.get,setDockingMode:ro.set}})(he),st={icons:()=>he.ui.registry.getAll().icons,menuItems:()=>he.ui.registry.getAll().menuItems,translate:fd.translate,isDisabled:()=>!he.ui.isEnabled(),getOption:he.options.get,tooltips:vO(de.dialog),checkUiComponentContext:nn=>{if(lw(he))return{contextType:"disabled",shouldDisable:!0};const[ro,ss=""]=nn.split(":"),Hn=he.ui.registry.getAll().contexts;return{contextType:ro,shouldDisable:!Kt(Hn,ro).fold(()=>Kt(Hn,"mode").map(Yr=>Yr("design")).getOr(!1),Yr=>ss.charAt(0)==="!"?!Yr(ss.slice(1)):Yr(ss))}}},vt=mP(he),Qt=(nn=>{const ro=Xr=>()=>nn.formatter.match(Xr),ss=Xr=>()=>{const _a=nn.formatter.get(Xr);return _a!==void 0?A.some({tag:_a.length>0&&(_a[0].inline||_a[0].block)||"div",styles:nn.dom.parseStyle(nn.formatter.getCssText(Xr))}):A.none()},Hn=Vt([]),Yr=Vt([]),Gn=Vt(!1);return nn.on("PreInit",Xr=>{const _a=Q1(nn),xh=xO(nn,_a,ro,ss);Hn.set(xh)}),nn.on("addStyleModifications",Xr=>{const _a=xO(nn,Xr.items,ro,ss);Yr.set(_a),Gn.set(Xr.replace)}),{getData:()=>{const Xr=Gn.get()?[]:Hn.get(),_a=Yr.get();return Xr.concat(_a)}}})(he),no=(nn=>({colorPicker:tP(nn),hasCustomColors:oP(nn),getColors:nP(nn),getColorCols:sP(nn)}))(he),po=(nn=>({isDraggableModal:rP(nn)}))(he),$o={shared:{providers:st,anchors:eP(he,ke,Ve,Je.isPositionedAtTop),header:Je},urlinput:vt,styles:Qt,colorinput:no,dialog:po,isContextMenuOpen:()=>tt.get(),setContextMenuState:nn=>tt.set(nn)},gs=nn=>A.none(),Ms={...$o,shared:{...$o.shared,interpreter:nn=>XB(nn,{},Ms,gs),getSink:de.popup}},Nn={...$o,shared:{...$o.shared,interpreter:nn=>XB(nn,{},Nn,gs),getSink:de.dialog}};return{popup:Ms,dialog:Nn}})({popup:()=>Fo.fromOption(m.popupUi.get().map(de=>de.sink),"(popup) UI has not been rendered"),dialog:()=>Fo.fromOption(m.dialogUi.get().map(de=>de.sink),"UI has not been rendered")},o,Y,W),te=()=>{const de=(()=>{const $o={attributes:{[Tg]:E?zd.BottomToTop:zd.TopToBottom}},gs=ks.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:U.popup,onEscape:()=>{o.focus()}}),Ms=ks.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:U.popup.shared.getSink,providers:U.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:_a=>{((xh,Gp)=>{xh.dispatch("ToggleToolbarDrawer",{state:Gp})})(o,_a)},type:C,lazyToolbar:X,lazyHeader:()=>L().getOrDie("Could not find header element"),...$o}),Nn=ks.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:U.popup.shared.providers,onEscape:()=>{o.focus()},type:C}),nn=Rm(o),ro=xw(o),ss=bw(o),Hn=hT(o),Yr=nn||ro||ss,Gn=[(Xr=Hn,ks.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:Xr})),gs];var Xr;return ks.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Yr?[]:["tox-editor-header--empty"]),...$o},components:Ps([ss?Gn:[],nn?[Nn]:ro?[Ms]:[],Fu(o)?[]:[T.asSpec()]]),sticky:Yd(o),editor:o,sharedBackstage:U.popup.shared})})(),he={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ks.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),ks.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},ke=ks.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:U.popup}),Ve=ks.parts.viewWrapper({backstage:U.popup}),tt=mT(o)&&!a?A.some(YP(o,U.popup.shared.providers)):A.none(),Je=Ps([E?[]:[de],a?[]:[he],E?[de]:[]]),st=ks.parts.editorContainer({components:Ps([Je,a?[]:[B.asSpec()]])}),vt=a4(o),Qt={role:"application",...fd.isRtl()?{dir:"rtl"}:{},...vt?{"aria-hidden":"true"}:{}},no=Gi(ks.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(E?["tox-tinymce--toolbar-bottom"]:[]).concat(w),styles:{visibility:"hidden",...vt?{opacity:"0",border:"0"}:{}},attributes:Qt},components:[st,...a?[]:[Ve,...tt.toArray()],ke],behaviours:pt([hr(()=>U.popup.shared.providers.checkUiComponentContext("any")),eo.config({disableClass:"tox-tinymce--disabled"}),Bt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),po=mk(no);return p.set(po),{mothership:po,outerContainer:no}},oe=de=>{const he=NC((Ve=>(tt=>{const Je=((Qt,no)=>{if(typeof no=="number")return A.from(no);const po=/^([0-9.]+)(pt|em|px)$/.exec(no.trim());if(po){const $o=po[2],gs=Number.parseFloat(po[1]);if(Number.isNaN(gs)||gs<0)return A.none();if($o==="em")return A.from(gs*Number.parseFloat(window.getComputedStyle(Qt.dom).fontSize));if($o==="pt")return A.from(.75*gs);if($o==="px")return A.from(gs)}return A.none()})(Ft(tt.targetElm),Cv(tt)),st=Jk(tt),vt=dw(tt);return Je.map(Qt=>Fb(Qt,st,vt))})(Ve).getOr(Cv(Ve)))(o)),ke=NC((Ve=>yS(Ve).getOr(Xk(Ve)))(o));return o.inline||(Od("div","width",ke)&&To(de.element,"width",ke),Od("div","height",he)?To(de.element,"height",he):To(de.element,"height","400px")),he};return{popups:{backstage:U.popup,getMothership:()=>zS("popups",x)},dialogs:{backstage:U.dialog,getMothership:()=>zS("dialogs",b)},renderUI:()=>{const de=te(),he=(()=>{const Ve=vw(o),tt=In(ue(),Ve)&&Ha(Ve,"display")==="grid",Je={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(w),attributes:{...fd.isRtl()?{dir:"rtl"}:{}}},behaviours:pt([Yi.config({useFixed:()=>d.isDocked(L)})])},st={dom:{styles:{width:document.body.clientWidth+"px"}},events:Wn([et(dm(),no=>{To(no.element,"width",document.body.clientWidth+"px")})])},vt=Gi(Wo(Je,tt?st:{})),Qt=mk(vt);return b.set(Qt),{sink:vt,mothership:Qt}})(),ke=eh(o)?(()=>{const Ve={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(w),attributes:{...fd.isRtl()?{dir:"rtl"}:{}}},behaviours:pt([Yi.config({useFixed:()=>d.isDocked(L),getBounds:()=>r.getPopupSinkBounds()})])},tt=Gi(Ve),Je=mk(tt);return x.set(Je),{sink:tt,mothership:Je}})():(Ve=>(x.set(Ve.mothership),Ve))(he);return m.dialogUi.set(he),m.popupUi.set(ke),m.mainUi.set(de),(Ve=>{const{mainUi:tt,popupUi:Je,uiMotherships:st}=Ve;Ss(uw(o),(ro,ss)=>{o.ui.registry.addGroupToolbarButton(ss,ro)});const{buttons:vt,menuItems:Qt,contextToolbars:no,sidebars:po,views:$o}=o.ui.registry.getAll(),gs=s4(o),Ms={menuItems:Qt,menus:_T(o),menubar:iT(o),toolbar:gs.getOrThunk(()=>_v(o)),allowToolbarGroups:C===Kd.floating,buttons:vt,sidebar:po,views:$o};var Nn;Nn=tt.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{ks.focusMenubar(Nn)}),o.addShortcut("alt+F10","focus toolbar",()=>{ks.focusToolbar(Nn)}),o.addCommand("ToggleToolbarDrawer",(ro,ss)=>{ss!=null&&ss.skipFocus?ks.toggleToolbarDrawerWithoutFocusing(Nn):ks.toggleToolbarDrawer(Nn)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>ks.isToolbarDrawerToggled(Nn)),((ro,ss,Hn)=>{const Yr=(_n,Qp)=>{ht([ss,...Hn],zm=>{zm.broadcastEvent(_n,Qp)})},Gn=(_n,Qp)=>{ht([ss,...Hn],zm=>{zm.broadcastOn([_n],Qp)})},Xr=_n=>Gn(Tm(),{target:_n.target}),_a=Wm(),xh=Jn(_a,"touchstart",Xr),Gp=Jn(_a,"touchmove",_n=>Yr(O2(),_n)),YC=Jn(_a,"touchend",_n=>Yr(N2(),_n)),c2=Jn(_a,"mousedown",Xr),vh=Jn(_a,"mouseup",_n=>{_n.raw.button===0&&Gn(nv(),{target:_n.target})}),Kp=_n=>Gn(Tm(),{target:Ft(_n.target)}),Ff=_n=>{_n.button===0&&Gn(nv(),{target:Ft(_n.target)})},$b=()=>{ht(ro.editorManager.get(),_n=>{ro!==_n&&_n.dispatch("DismissPopups",{relatedTarget:ro})})},Ub=_n=>Yr(f0(),Ah(_n)),Yp=_n=>{Gn(Sf(),{}),Yr(dm(),Ah(_n))},Zb=Aa(Ft(ro.getElement())),o0=El(Zb,"scroll",_n=>{requestAnimationFrame(()=>{if(ro.getContainer()!=null){const Qp=Mm(ro,ss.element).map(zm=>[zm.element,...zm.others]).getOr([]);Tn(Qp,zm=>In(zm,_n.target))&&(ro.dispatch("ElementScroll",{target:_n.target.dom}),Yr(Hh(),_n))}})}),d2=()=>Gn(Sf(),{}),u2=_n=>{_n.state&&Gn(Tm(),{target:Ft(ro.getContainer())})},n0=_n=>{Gn(Tm(),{target:Ft(_n.relatedTarget.getContainer())})},yh=_n=>ro.dispatch("focusin",_n),Xp=_n=>ro.dispatch("focusout",_n);ro.on("PostRender",()=>{ro.on("click",Kp),ro.on("tap",Kp),ro.on("mouseup",Ff),ro.on("mousedown",$b),ro.on("ScrollWindow",Ub),ro.on("ResizeWindow",Yp),ro.on("ResizeEditor",d2),ro.on("AfterProgressState",u2),ro.on("DismissPopups",n0),ht([ss,...Hn],_n=>{_n.element.dom.addEventListener("focusin",yh),_n.element.dom.addEventListener("focusout",Xp)})}),ro.on("remove",()=>{ro.off("click",Kp),ro.off("tap",Kp),ro.off("mouseup",Ff),ro.off("mousedown",$b),ro.off("ScrollWindow",Ub),ro.off("ResizeWindow",Yp),ro.off("ResizeEditor",d2),ro.off("AfterProgressState",u2),ro.off("DismissPopups",n0),ht([ss,...Hn],_n=>{_n.element.dom.removeEventListener("focusin",yh),_n.element.dom.removeEventListener("focusout",Xp)}),c2.unbind(),xh.unbind(),Gp.unbind(),YC.unbind(),vh.unbind(),o0.unbind()}),ro.on("detach",()=>{ht([ss,...Hn],ME),ht([ss,...Hn],_n=>_n.destroy())})})(o,tt.mothership,st),d.setup(o,U.popup.shared,L),jP(o,U.popup),GP(o,U.popup.shared.getSink,U.popup),(ro=>{const{sidebars:ss}=ro.ui.registry.getAll();ht(Zs(ss),Hn=>{const Yr=ss[Hn],Gn=()=>Sa(A.from(ro.queryCommandValue("ToggleSidebar")),Hn);ro.ui.registry.addToggleButton(Hn,{icon:Yr.icon,tooltip:Yr.tooltip,onAction:Xr=>{ro.execCommand("ToggleSidebar",!1,Hn),Xr.setActive(Gn())},onSetup:Xr=>{Xr.setActive(Gn());const _a=()=>Xr.setActive(Gn());return ro.on("ToggleSidebar",_a),()=>{ro.off("ToggleSidebar",_a)}},context:"any"})})})(o),BO(o,$,U.popup.shared),UP(o,no,Je.sink,{backstage:U.popup}),KP(o,Je.sink);const nn={targetNode:o.getElement(),height:oe(tt.outerContainer)};return l.render(o,Ve,Ms,U.popup,nn)})({popupUi:ke,dialogUi:he,mainUi:de,uiMotherships:m.getUiMotherships()})}}},R8=o=>{const r=[],a={};return mr(o,(l,d)=>{l.fold(()=>{r.push(d)},m=>{a[d]=m})}),r.length>0?Fo.error(r):Fo.value(a)},M8=(o,r,a,l)=>{const d=Fn(nb.sketch(p=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:Ae(o.items,b=>mO(p,b,r,a,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[d.asSpec()]}],behaviours:pt([Bt.config({mode:"acyclic",useTabstopAt:is(Qv)}),(m=d,Cn.config({find:m.getOpt})),DD(d,{postprocess:p=>R8(p).fold(b=>(console.error(b),{}),kt)}),vo("dialog-body-panel",[et(Rl(),(p,b)=>{p.getSystem().broadcastOn([dC],{newFocus:A.some(b.event.target)})})])])};var m},B8=(o,r)=>{To(o,"height",r+"px"),To(o,"flex-basis",r+"px")},$C=(o,r,a)=>{Li(o,'[role="dialog"]').each(l=>{On(l,'[role="tablist"]').each(d=>{a.get().map(m=>(To(r,"height","0"),To(r,"flex-basis","0"),Math.min(m,((p,b,x)=>{const w=Xn(p).dom,E=Li(p,".tox-dialog-wrap").getOr(p);let C;C=Ha(E,"position")==="fixed"?Math.max(w.clientHeight,window.innerHeight):Math.max(w.offsetHeight,w.scrollHeight);const T=Gs(b),B=b.dom.offsetLeft>=x.dom.offsetLeft+$a(x)?Math.max(Gs(x),T):T,L=parseInt(Ha(p,"margin-top"),10)||0,Y=parseInt(Ha(p,"margin-bottom"),10)||0;return C-(Gs(p)+L+Y-B)})(l,r,d)))).each(m=>{B8(r,m)})})})},HS=o=>On(o,'[role="tabpanel"]'),P8="send-data-to-section",VS="send-data-to-view",XP=(o,r,a,l)=>{const d=Vt({}),m=E=>{const C=zt.getValue(E),T=R8(C).getOr({}),B=d.get(),L=Wo(B,T);d.set(L)},p=E=>{const C=d.get();zt.setValue(E,C)},b=Vt(null),x=Ae(o.tabs,E=>({value:E.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[$s(a.shared.providers.translate(E.title))],view:()=>[nb.sketch(C=>({dom:{tag:"div",classes:["tox-form"]},components:Ae(E.items,T=>mO(C,T,r,a,l)),formBehaviours:pt([Bt.config({mode:"acyclic",useTabstopAt:is(Qv)}),vo("TabView.form.events",[ts(p),ad(m)]),Vl.config({channels:cp([{key:P8,value:{onReceive:m}},{key:VS,value:{onReceive:p}}])})])}))]})),w=(E=>{const C=Pn();return{extraEvents:[ts(B=>{const L=B.element;HS(L).each(Y=>{To(Y,"visibility","hidden"),B.getSystem().getByDom(Y).toOptional().each(W=>{const X=((U,te,oe)=>Ae(U,(de,he)=>{Do.set(oe,U[he].view());const ke=te.dom.getBoundingClientRect();return Do.set(oe,[]),ke.height}))(E,Y,W);(U=>xr(nt(U,(te,oe)=>te>oe?-1:te<oe?1:0)))(X).fold(C.clear,C.set)}),$C(L,Y,C),un(Y,"visibility"),((W,X)=>{xr(W).each($=>Qg.showTab(X,$.value))})(E,B),requestAnimationFrame(()=>{$C(L,Y,C)})})}),et(dm(),B=>{const L=B.element;HS(L).each(Y=>{$C(L,Y,C)})}),et(aC,(B,L)=>{const Y=B.element;HS(Y).each(W=>{const X=Al(Aa(W));To(W,"visibility","hidden");const $=ba(W,"height").map(te=>parseInt(te,10));un(W,"height"),un(W,"flex-basis");const U=W.dom.getBoundingClientRect().height;$.forall(te=>U>te)?(C.set(U),$C(Y,W,C)):$.each(te=>{B8(W,te)}),un(W,"visibility"),X.each(Ws)})})],selectFirst:!1}})(x);return Qg.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(E,C,T)=>{const B=zt.getValue(C);oo(E,Kv,{name:B,oldName:b.get()}),b.set(B)},tabs:x,components:[Qg.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[zp.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:pt([fs.config({})])}),Qg.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:w.selectFirst,tabSectionBehaviours:pt([vo("tabpanel",w.extraEvents),Bt.config({mode:"acyclic"}),Cn.config({find:E=>xr(Qg.getViewItems(E))}),Y1(A.none(),E=>(E.getSystem().broadcastOn([P8],{}),d.get()),(E,C)=>{d.set(C),E.getSystem().broadcastOn([VS],{})})])})},$S=(o,r,a,l,d,m)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(p=>({id:p})).getOr({}),...d?{"aria-live":"polite"}:{}}},components:[],behaviours:pt([Yv(0),Mc.config({channel:`${$D}-${r}`,updateState:(p,b)=>A.some({isTabPanel:()=>b.body.type==="tabpanel"}),renderComponents:p=>{const b=p.body;return b.type==="tabpanel"?[XP(b,p.initialData,l,m)]:[M8(b,p.initialData,l,m)]},initialData:o})])}),US=db.deviceType.isTouch(),Lf=(o,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,r]}),UC=(o,r)=>Gr.parts.close(ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:o,buttonBehaviours:pt([fs.config({})])})),ZS=()=>Gr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),jS=(o,r)=>Gr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Wd(`<p>${PT(r.translate(o))}</p>`)}]}]}),ZC=o=>Gr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),WS=(o,r)=>[_m.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),_m.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],Vb=o=>{const r="tox-dialog",a=r+"-wrap",l=a+"__backdrop",d=r+"__disable-scroll";return Gr.sketch({lazySink:o.lazySink,onEscape:m=>(o.onEscape(m),A.some(!0)),useTabstopAt:m=>!Qv(m),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[r].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:Wd(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:US?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:a,modalBehaviours:pt([mo.config({}),vo("dialog-events",o.dialogEvents.concat([hm(Rl(),(m,p)=>{Cm.isBlocked(m)||Bt.focusIn(m)}),et(p0(),(m,p)=>{m.getSystem().broadcastOn([dC],{newFocus:p.event.newFocus})})])),vo("scroll-lock",[ts(()=>{ls(ue(),d)}),ad(()=>{vs(ue(),d)})]),...o.extraBehaviours]),eventOrder:{[dl()]:["dialog-events"],[ac()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Ys()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},qS=o=>ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:pt([fs.config({}),Rs.config(o.tooltips.getConfig({tooltipText:o.translate("Close")}))]),components:[pd("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:r=>{Qo(r,uh)}}),GS=(o,r,a,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...a.map(d=>({id:d})).getOr({})}},components:[],behaviours:pt([Mc.config({channel:`${VD}-${r}`,initialData:o,renderComponents:d=>[$s(l.translate(d.title))]})])}),I8=()=>({dom:Wd('<div class="tox-dialog__draghandle"></div>')}),L8=(o,r,a)=>((l,d,m)=>{const p=Gr.parts.title(GS(l,d,A.none(),m)),b=Gr.parts.draghandle(I8()),x=Gr.parts.close(qS(m)),w=[p].concat(l.draggable?[b]:[]).concat([x]);return _m.sketch({dom:Wd('<div class="tox-dialog__header"></div>'),components:w})})({title:a.shared.providers.translate(o),draggable:a.dialog.isDraggableModal()},r,a.shared.providers),F8=(o,r,a,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:Wd('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),z8=(o,r,a)=>({onClose:()=>a.closeWindow(),onBlock:l=>{const d=On(o().element,".tox-dialog__header").map(m=>Gs(m));Gr.setBusy(o(),(m,p)=>F8(l.message,p,r,d))},onUnblock:()=>{Gr.setIdle(o())}}),H8="tox-dialog--fullscreen",jC="tox-dialog--width-lg",WC="tox-dialog--width-md",qC=o=>{switch(o){case"large":return A.some(jC);case"medium":return A.some(WC);default:return A.none()}},V8=(o,r)=>{const a=Ft(r.element.dom);Ja(a,H8)||(ui(a,[jC,WC]),qC(o).each(l=>ls(a,l)))},$8=(o,r)=>{const a=Ft(o.element.dom),l=Qf(a),d=z(l,m=>m===jC||m===WC).or(qC(r));((m,p)=>{ht(p,b=>{((x,w)=>{di(x)?x.dom.classList.toggle(w):((E,C)=>St(om(E),C)?ef(E,C):Jm(E,C))(x,w),ed(x)})(m,b)})})(a,[H8,...d.toArray()])},l2=(o,r,a)=>Gi(Vb({...o,firstTabstop:1,lazySink:a.shared.getSink,extraBehaviours:[lC({}),...o.extraBehaviours],onEscape:l=>{Qo(l,uh)},dialogEvents:r,eventOrder:{[uf()]:[Mc.name(),Vl.name()],[ac()]:["scroll-lock",Mc.name(),"messages","dialog-events","alloy.base.behaviour"],[Ys()]:["alloy.base.behaviour","dialog-events","messages",Mc.name(),"scroll-lock"]}})),KS=(o,r={})=>Ae(o,a=>a.type==="menu"?(l=>{const d=Ae(l.items,m=>{const p=Kt(r,m.name).getOr(Vt(!1));return{...m,storage:p}});return{...l,items:d}})(a):a),U8=o=>Go(o,(r,a)=>a.type==="menu"?Go(a.items,(l,d)=>(l[d.name]=d.storage,l),r):r,{}),YS=(o,r)=>[Bx(Rl(),RB),o(qv,(a,l,d,m)=>{tc(m.element)&&Al(Aa(m.element)).each(_c),r.onClose(),l.onClose()}),o(uh,(a,l,d,m)=>{l.onCancel(a),Qo(m,qv)}),et(A3,(a,l)=>r.onUnblock()),et(E3,(a,l)=>r.onBlock(l.event))],XS=(o,r,a)=>{const l=(m,p)=>et(m,(b,x)=>{d(b,(w,E)=>{p(o(),w,x.event,b)})}),d=(m,p)=>{Mc.getState(m).get().each(b=>{p(b.internalDialog,m)})};return[...YS(l,r),l(Gv,(m,p)=>p.onSubmit(m)),l(pc,(m,p,b)=>{p.onChange(m,{name:b.name})}),l(Nf,(m,p,b,x)=>{const w=()=>x.getSystem().isConnected()?Bt.focusIn(x):void 0,E=B=>Gf(B,"disabled")||Ta(B,"aria-disabled").exists(L=>L==="true"),C=Aa(x.element),T=Al(C);p.onAction(m,{name:b.name,value:b.value}),Al(C).fold(w,B=>{E(B)||T.exists(L=>La(B,L)&&E(L))?w():a().toOptional().filter(L=>!La(L.element,B)).each(w)})}),l(Kv,(m,p,b)=>{p.onTabChange(m,{newTabName:b.name,oldTabName:b.oldName})}),ad(m=>{const p=o();zt.setValue(m,p.getData())})]},QP=(o,r)=>{const a=r.map(m=>m.footerButtons).getOr([]),l=dn(a,m=>m.align==="start"),d=(m,p)=>_m.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${m}`]},components:Ae(p,b=>b.memento.asSpec())});return[d("start",l.pass),d("end",l.fail)]},Z8=(o,r,a)=>({dom:Wd('<div class="tox-dialog__footer"></div>'),components:[],behaviours:pt([Mc.config({channel:`${UD}-${r}`,initialData:o,updateState:(l,d)=>{const m=Ae(d.buttons,p=>{const b=Fn(((x,w)=>gC(x,x.type,w))(p,a));return{name:p.name,align:p.align,memento:b}});return A.some({lookupByName:p=>((b,x,w)=>z(x,E=>E.name===w).bind(E=>E.memento.getOpt(b)))(l,m,p),footerButtons:m})},renderComponents:QP})])}),GC=(o,r,a)=>Gr.parts.footer(Z8(o,r,a)),KC=(o,r)=>{if(o.getRoot().getSystem().isConnected()){const a=Cn.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return nb.getField(a,r).orThunk(()=>o.getFooter().bind(d=>Mc.getState(d).get()).bind(d=>d.lookupByName(r)))}return A.none()},QS=(o,r,a)=>{const l=m=>{const p=o.getRoot();p.getSystem().isConnected()&&m(p)},d={getData:()=>{const m=o.getRoot(),p=m.getSystem().isConnected()?o.getFormWrapper():m;return{...zt.getValue(p),...Ss(a,b=>b.get())}},setData:m=>{l(p=>{const b=d.getData(),x=Wo(b,m),w=((C,T)=>{const B=C.getRoot();return Mc.getState(B).get().map(L=>Ol(Hs("data",L.dataValidator,T))).getOr(T)})(o,x),E=o.getFormWrapper();zt.setValue(E,w),mr(a,(C,T)=>{jo(x,T)&&C.set(x[T])})})},setEnabled:(m,p)=>{KC(o,m).each(p?eo.enable:eo.disable)},focus:m=>{KC(o,m).each(mo.focus)},block:m=>{if(!Se(m))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{oo(p,E3,{message:m})})},unblock:()=>{l(m=>{Qo(m,A3)})},showTab:m=>{l(p=>{const b=o.getBody();Mc.getState(b).get().exists(x=>x.isTabPanel())&&Cn.getCurrent(b).each(x=>{Qg.showTab(x,m)})})},redial:m=>{l(p=>{const b=o.getId(),x=r(m),w=KS(x.internalDialog.buttons,a);p.getSystem().broadcastOn([`${cC}-${b}`],x),p.getSystem().broadcastOn([`${VD}-${b}`],x.internalDialog),p.getSystem().broadcastOn([`${$D}-${b}`],x.internalDialog),p.getSystem().broadcastOn([`${UD}-${b}`],{...x.internalDialog,buttons:w}),d.setData(x.initialData)})},close:()=>{l(m=>{Qo(m,qv)})},toggleFullscreen:o.toggleFullscreen};return d},j8=(o,r,a,l=!1,d)=>{const m=Me("dialog"),p=Me("dialog-label"),b=Me("dialog-content"),x=o.internalDialog,w=Vt(x.size),E=qC(w.get()).toArray(),C=Fn(((oe,de,he,ke)=>_m.sketch({dom:Wd('<div class="tox-dialog__header"></div>'),components:[GS(oe,de,A.some(he),ke),I8(),qS(ke)],containerBehaviours:pt([k1.config({mode:"mouse",blockerClass:"blocker",getTarget:Ve=>Ec(Ve,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(Ve,tt)=>{Ve.getSystem().broadcastOn([Sf()],{target:tt})}})])}))({title:x.title,draggable:!0},m,p,a.shared.providers)),T=Fn(((oe,de,he,ke,Ve,tt)=>$S(oe,de,A.some(he),ke,Ve,tt))({body:x.body,initialData:x.initialData},m,b,a,l,oe=>KC(U,oe))),B=KS(x.buttons),L=U8(B),Y=ci(B.length!==0,Fn(((oe,de,he)=>Z8(oe,de,he))({buttons:B},m,a))),W=XS(()=>te,{onBlock:oe=>{Cm.block($,(de,he)=>{const ke=C.getOpt($).map(Ve=>Gs(Ve.element));return F8(oe.message,he,a.shared.providers,ke)})},onUnblock:()=>{Cm.unblock($)},onClose:()=>r.closeWindow()},a.shared.getSink),X=Ce().os,$=Gi({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...E],attributes:{role:"dialog",...X.isMacOS()?{"aria-label":x.title}:{"aria-labelledby":p}}},eventOrder:{[uf()]:[Mc.name(),Vl.name()],[dl()]:["execute-on-form"],[ac()]:["reflecting","execute-on-form"]},behaviours:pt([Bt.config({mode:"cyclic",onEscape:oe=>(Qo(oe,qv),A.some(!0)),useTabstopAt:oe=>!Qv(oe)&&(Ut(oe)!=="button"||wr(oe,"disabled")!=="disabled"),firstTabstop:1}),Mc.config({channel:`${cC}-${m}`,updateState:(oe,de)=>(w.set(de.internalDialog.size),V8(de.internalDialog.size,oe),d(),A.some(de)),initialData:o}),mo.config({}),vo("execute-on-form",W.concat([hm(Rl(),(oe,de)=>{Bt.focusIn(oe)}),et(p0(),(oe,de)=>{oe.getSystem().broadcastOn([dC],{newFocus:de.event.newFocus})})])),Cm.config({getRoot:()=>A.some($)}),Do.config({}),lC({})]),components:[C.asSpec(),T.asSpec(),...Y.map(oe=>oe.asSpec()).toArray()]}),U={getId:ne(m),getRoot:ne($),getFooter:()=>Y.map(oe=>oe.get($)),getBody:()=>T.get($),getFormWrapper:()=>{const oe=T.get($);return Cn.getCurrent(oe).getOr(oe)},toggleFullscreen:()=>{$8($,w.get())}},te=QS(U,r.redial,L);return{dialog:$,instanceApi:te}};var JS=tinymce.util.Tools.resolve("tinymce.util.URI");const JP=["insertContent","setContent","execCommand","close","block","unblock"],eE=o=>Ee(o)&&JP.indexOf(o.mceAction)!==-1,W8=(o,r,a,l)=>{const d=Me("dialog"),m=L8(o.title,d,l),p=(X=>{const $={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[zD(A.none(),{dom:{tag:"iframe",attributes:{src:X.url}},behaviours:pt([fs.config({}),mo.config({})])})]}],behaviours:pt([Bt.config({mode:"acyclic",useTabstopAt:is(Qv)})])};return Gr.parts.body($)})(o),b=o.buttons.bind(X=>X.length===0?A.none():A.some(GC({buttons:X},d,l))),x=((X,$)=>{const U=(oe,de)=>et(oe,(he,ke)=>{te(he,(Ve,tt)=>{de(W,Ve,ke.event,he)})}),te=(oe,de)=>{Mc.getState(oe).get().each(he=>{de(he,oe)})};return[...YS(U,$),U(Nf,(oe,de,he)=>{de.onAction(oe,{name:he.name})})]})(0,z8(()=>Y,l.shared.providers,r)),w={...o.height.fold(()=>({}),X=>({height:X+"px","max-height":X+"px"})),...o.width.fold(()=>({}),X=>({width:X+"px","max-width":X+"px"}))},E=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],C=new JS(o.url,{base_uri:new JS(window.location.href)}),T=`${C.protocol}://${C.host}${C.port?":"+C.port:""}`,B=Cs(),L=[Mc.config({channel:`${cC}-${d}`,updateState:(X,$)=>A.some($),initialData:o}),vo("messages",[ts(()=>{const X=Jn(Ft(window),"message",$=>{if(C.isSameOrigin(new JS($.raw.origin))){const U=$.raw.data;eE(U)?((te,oe,de)=>{switch(de.mceAction){case"insertContent":te.insertContent(de.content);break;case"setContent":te.setContent(de.content);break;case"execCommand":const he=!!Ct(de.ui)&&de.ui;te.execCommand(de.cmd,he,de.value);break;case"close":oe.close();break;case"block":oe.block(de.message);break;case"unblock":oe.unblock()}})(a,W,U):(te=>!eE(te)&&Ee(te)&&jo(te,"mceAction"))(U)&&o.onMessage(W,U)}});B.set(X)}),ad(B.clear)]),Vl.config({channels:{[ZD]:{onReceive:(X,$)=>{On(X.element,"iframe").each(U=>{const te=U.dom.contentWindow;Ne(te)&&te.postMessage($,T)})}}}})],Y=l2({id:d,header:m,body:p,footer:b,extraClasses:E,extraBehaviours:L,extraStyles:w},x,l),W=(X=>{const $=U=>{X.getSystem().isConnected()&&U(X)};return{block:U=>{if(!Se(U))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");$(te=>{oo(te,E3,{message:U})})},unblock:()=>{$(U=>{Qo(U,A3)})},close:()=>{$(U=>{Qo(U,qv)})},sendMessage:U=>{$(te=>{te.getSystem().broadcastOn([ZD],U)})}}})(Y);return{dialog:Y,instanceApi:W}},q8=(o,r)=>Ol(Hs("data",r,o)),G8=o=>ep(o,".tox-alert-dialog")||ep(o,".tox-confirm-dialog"),eI=(o,r,a,l)=>r&&a?[]:[Xs.config({contextual:{lazyContext:()=>A.some(Js(Ft(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:l},modes:["top"],lazyViewport:d=>Mm(o,d.element).map(m=>({bounds:th(m),optScrollEnv:A.some({currentScrollTop:m.element.dom.scrollTop,scrollElmTop:pr(m.element).top})})).getOrThunk(()=>({bounds:Na(),optScrollEnv:A.none()}))})],tI=o=>{const r=o.editor,a=Yd(r),l=(x=>{const w=x.shared;return{open:(E,C)=>{const T=()=>{Gr.hide(W),C()},B=Fn(gC({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"cancel",x)),L=ZS(),Y=UC(T,w.providers),W=Gi(Vb({lazySink:()=>w.getSink(),header:Lf(L,Y),body:jS(E,w.providers),footer:A.some(ZC(WS([],[B.asSpec()]))),onEscape:T,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[et(uh,T)],eventOrder:{}}));Gr.show(W);const X=B.get(W);mo.focus(X)}}})(o.backstages.dialog),d=(x=>{const w=x.shared;return{open:(E,C)=>{const T=U=>{Gr.hide(X),C(U)},B=Fn(gC({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"submit",x)),L=gC({context:"any",name:"no",text:"No",primary:!1,buttonType:A.some("secondary"),align:"end",enabled:!0,icon:A.none()},"cancel",x),Y=ZS(),W=UC(()=>T(!1),w.providers),X=Gi(Vb({lazySink:()=>w.getSink(),header:Lf(Y,W),body:jS(E,w.providers),footer:A.some(ZC(WS([],[L,B.asSpec()]))),onEscape:()=>T(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[et(uh,()=>T(!1)),et(Gv,()=>T(!0))],eventOrder:{}}));Gr.show(X);const $=B.get(X);mo.focus($)}}})(o.backstages.dialog),m=(x,w)=>U1.open((E,C,T)=>{const B=C,L=((Y,W,X)=>{const $=Me("dialog"),U=Y.internalDialog,te=L8(U.title,$,X),oe=Vt(U.size),de=qC(oe.get()).toArray(),he=((po,$o,gs,Ms)=>{const Nn=$S(po,$o,A.none(),gs,!1,Ms);return Gr.parts.body(Nn)})({body:U.body,initialData:U.initialData},$,X,po=>KC(Qt,po)),ke=KS(U.buttons),Ve=U8(ke),tt=ci(ke.length!==0,GC({buttons:ke},$,X)),Je=XS(()=>no,z8(()=>vt,X.shared.providers,W),X.shared.getSink),st={id:$,header:te,body:he,footer:tt,extraClasses:de,extraBehaviours:[Mc.config({channel:`${cC}-${$}`,updateState:(po,$o)=>(oe.set($o.internalDialog.size),V8($o.internalDialog.size,po),A.some($o)),initialData:Y})],extraStyles:{}},vt=l2(st,Je,X),Qt={getId:ne($),getRoot:ne(vt),getBody:()=>Gr.getBody(vt),getFooter:()=>Gr.getFooter(vt),getFormWrapper:()=>{const po=Gr.getBody(vt);return Cn.getCurrent(po).getOr(po)},toggleFullscreen:()=>{$8(vt,oe.get())}},no=QS(Qt,W.redial,Ve);return{dialog:vt,instanceApi:no}})({dataValidator:T,initialData:B,internalDialog:E},{redial:U1.redial,closeWindow:()=>{Gr.hide(L.dialog),w(L.instanceApi)}},o.backstages.dialog);return Gr.show(L.dialog),L.instanceApi.setData(B),L.instanceApi},x),p=(x,w,E,C)=>U1.open((T,B,L)=>{const Y=q8(B,L),W=Pn(),X=o.backstages.popup.shared.header.isPositionedAtTop(),$=()=>W.on(de=>{Qs.reposition(de),a&&X||Xs.refresh(de)}),U=j8({dataValidator:L,initialData:Y,internalDialog:T},{redial:U1.redial,closeWindow:()=>{W.on(Qs.hide),r.off("ResizeEditor",$),r.off("ScrollWindow",te),W.clear(),E(U.instanceApi)}},o.backstages.popup,C.ariaAttrs,$),te=()=>U.dialog.getSystem().broadcastOn([Sf()],{target:U.dialog.element}),oe=Gi(Qs.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:C.persistent?{event:"doNotDismissYet"}:{},...X?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pt([vo("window-manager-inline-events",[et(up(),(de,he)=>{Qo(U.dialog,uh)})]),...eI(r,a,X,()=>U.dialog.getSystem().broadcastOn([Tm()],{target:U.dialog.element}))]),isExtraPart:(de,he)=>G8(he)}));return W.set(oe),Qs.showWithinBounds(oe,cd(U.dialog),{anchor:w},()=>{const de=r.inline?ue():Ft(r.getContainer()),he=Js(de);return A.some(he)}),a&&X||(Xs.refresh(oe),r.on("ResizeEditor",$)),r.on("ScrollWindow",te),U.instanceApi.setData(Y),Bt.focusIn(U.dialog),U.instanceApi},x),b=(x,w,E,C)=>U1.open((T,B,L)=>{const Y=q8(B,L),W=Pn(),X=o.backstages.popup.shared.header.isPositionedAtTop(),$=()=>W.on(oe=>{Qs.reposition(oe),Xs.refresh(oe)}),U=j8({dataValidator:L,initialData:Y,internalDialog:T},{redial:U1.redial,closeWindow:()=>{W.on(Qs.hide),r.off("ResizeEditor ScrollWindow ElementScroll",$),W.clear(),E(U.instanceApi)}},o.backstages.popup,C.ariaAttrs,$),te=Gi(Qs.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:C.persistent?{event:"doNotDismissYet"}:{},...X?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pt([vo("window-manager-inline-events",[et(up(),(oe,de)=>{Qo(U.dialog,uh)})]),Xs.config({contextual:{lazyContext:()=>A.some(Js(Ft(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:oe=>Mm(r,oe.element).map(de=>({bounds:th(de),optScrollEnv:A.some({currentScrollTop:de.element.dom.scrollTop,scrollElmTop:pr(de.element).top})})).getOrThunk(()=>({bounds:Na(),optScrollEnv:A.none()}))})]),isExtraPart:(oe,de)=>G8(de)}));return W.set(te),Qs.showWithinBounds(te,cd(U.dialog),{anchor:w},()=>o.backstages.popup.shared.getSink().toOptional().bind(oe=>{const de=Mm(r,oe.element).map(Ve=>th(Ve)).getOr(Na()),he=Js(Ft(r.getContentAreaContainer())),ke=fg(he,de);return A.some(zs(ke.x,ke.y,ke.width,ke.height-15))})),Xs.refresh(te),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",$),U.instanceApi.setData(Y),Bt.focusIn(U.dialog),U.instanceApi},x);return{open:(x,w,E)=>{if(!Ht(w)){if(w.inline==="toolbar")return p(x,o.backstages.popup.shared.anchors.inlineDialog(),E,w);if(w.inline==="bottom")return b(x,o.backstages.popup.shared.anchors.inlineBottomDialog(),E,w);if(w.inline==="cursor")return p(x,o.backstages.popup.shared.anchors.cursor(),E,w)}return m(x,E)},openUrl:(x,w)=>((E,C)=>U1.openUrl(T=>{const B=W8(T,{closeWindow:()=>{Gr.hide(B.dialog),C(B.instanceApi)}},r,o.backstages.dialog);return Gr.show(B.dialog),B.instanceApi},E))(x,w),alert:(x,w)=>{l.open(x,w)},close:x=>{x.close()},confirm:(x,w)=>{d.open(x,w)}}},K8=o=>{Kk(o),(r=>{const a=r.options.register,l=m=>{return lt(m,Se)?{value:(p=m,x3(p.map((b,x)=>x%2==0?"#"+(w=>{return(E=w,a3(E)?A.some({value:i3(E)}):A.none()).orThunk(()=>u3(w).map(kb)).getOrThunk(()=>{const C=document.createElement("canvas");C.height=1,C.width=1;const T=C.getContext("2d");T.clearRect(0,0,C.width,C.height),T.fillStyle="#FFFFFF",T.fillStyle=w,T.fillRect(0,0,1,1);const B=T.getImageData(0,0,1,1).data,L=B[0],Y=B[1],W=B[2],X=B[3];return kb(bl(L,Y,W,X))});var E})(b).value:b))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var p},d=m=>Tt(m)&&m>0?{value:m,valid:!0}:{valid:!1,message:"Must be a positive number."};a("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),a("color_map_raw",{processor:m=>lt(m,Se)?{value:x3(m),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),a("color_map_background",{processor:l}),a("color_map_foreground",{processor:l}),a("color_cols",{processor:d,default:Uv(r)}),a("color_cols_foreground",{processor:d,default:tC(r,b3)}),a("color_cols_background",{processor:d,default:tC(r,Jw)}),a("custom_colors",{processor:"boolean",default:!0}),a("color_default_foreground",{processor:"string",default:eC}),a("color_default_background",{processor:"string",default:eC})})(o),(r=>{const a=r.options.register;a("contextmenu_avoid_overlap",{processor:"string",default:""}),a("contextmenu_never_use_native",{processor:"boolean",default:!1}),a("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:Se(l)||lt(l,Se)?{value:WP(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(o)};iw.add("silver",o=>{K8(o);let r=()=>Na();const{dialogs:a,popups:l,renderUI:d}=t0(o,{getPopupSinkBounds:()=>r()});CD(o,l.backstage.shared);const m=tI({editor:o,backstages:{popup:l.backstage,dialog:a.backstage}}),p=Pn();return{renderUI:()=>{const b=d();return Mm(o,l.getMothership().element).each(x=>{r=()=>th(x)}),b},getWindowManagerImpl:ne(m),getNotificationManagerImpl:()=>aM(o,{backstage:l.backstage},l.getMothership(),p),getPromotionElement:()=>On(Ft(o.getContainer()),".tox-promotion").map(b=>b.dom).getOrNull()}})})();(function(){var re=tinymce.util.Tools.resolve("tinymce.ModelManager");const ye=f=>h=>(y=>{const _=typeof y;return y===null?"null":_==="object"&&Array.isArray(y)?"array":_==="object"&&(D=N=y,(F=String).prototype.isPrototypeOf(D)||((V=N.constructor)===null||V===void 0?void 0:V.name)===F.name)?"string":_;var D,N,F,V})(h)===f,Fe=f=>h=>typeof h===f,Oe=f=>h=>f===h,Xe=ye("string"),Se=ye("object"),Ee=ye("array"),He=Oe(null),Ze=Fe("boolean"),ut=Oe(void 0),Ct=f=>!(h=>h==null)(f),Ht=Fe("function"),xt=Fe("number"),Ne=()=>{},gt=f=>()=>f,Tt=f=>f,lt=(f,h)=>f===h;function xe(f,...h){return(...y)=>{const _=h.concat(y);return f.apply(null,_)}}const Pe=f=>h=>!f(h),Ue=f=>f(),ne=gt(!1),kt=gt(!0);class pe{constructor(h,y){this.tag=h,this.value=y}static some(h){return new pe(!0,h)}static none(){return pe.singletonNone}fold(h,y){return this.tag?y(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?pe.some(h(this.value)):pe.none()}bind(h){return this.tag?h(this.value):pe.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:pe.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return Ct(h)?pe.some(h):pe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}pe.singletonNone=new pe(!1);const hn=Array.prototype.slice,is=Array.prototype.indexOf,bn=Array.prototype.push,qo=(f,h)=>{return y=f,_=h,is.call(y,_)>-1;var y,_},Ke=(f,h)=>{for(let y=0,_=f.length;y<_;y++)if(h(f[y],y))return!0;return!1},Xt=(f,h)=>{const y=[];for(let _=0;_<f;_++)y.push(h(_));return y},A=(f,h)=>{const y=f.length,_=new Array(y);for(let D=0;D<y;D++){const N=f[D];_[D]=h(N,D)}return _},Co=(f,h)=>{for(let y=0,_=f.length;y<_;y++)h(f[y],y)},ko=(f,h)=>{const y=[],_=[];for(let D=0,N=f.length;D<N;D++){const F=f[D];(h(F,D)?y:_).push(F)}return{pass:y,fail:_}},Bn=(f,h)=>{const y=[];for(let _=0,D=f.length;_<D;_++){const N=f[_];h(N,_)&&y.push(N)}return y},dr=(f,h,y)=>(((_,D)=>{for(let N=_.length-1;N>=0;N--)D(_[N],N)})(f,(_,D)=>{y=h(y,_,D)}),y),St=(f,h,y)=>(Co(f,(_,D)=>{y=h(y,_,D)}),y),Tn=(f,h)=>((y,_,D)=>{for(let N=0,F=y.length;N<F;N++){const V=y[N];if(_(V,N))return pe.some(V);if(D(V,N))break}return pe.none()})(f,h,ne),Ci=(f,h)=>{for(let y=0,_=f.length;y<_;y++)if(h(f[y],y))return pe.some(y);return pe.none()},je=f=>{const h=[];for(let y=0,_=f.length;y<_;++y){if(!Ee(f[y]))throw new Error("Arr.flatten item "+y+" was not an array, input: "+f);bn.apply(h,f[y])}return h},Ae=(f,h)=>je(A(f,h)),ht=(f,h)=>{for(let y=0,_=f.length;y<_;++y)if(h(f[y],y)!==!0)return!1;return!0},dn=(f,h)=>{const y={};for(let _=0,D=f.length;_<D;_++){const N=f[_];y[String(N)]=h(N,_)}return y},Oo=(f,h)=>h>=0&&h<f.length?pe.some(f[h]):pe.none(),Ao=f=>Oo(f,0),Go=f=>Oo(f,f.length-1),z=(f,h)=>{for(let y=0;y<f.length;y++){const _=h(f[y],y);if(_.isSome())return _}return pe.none()},ur=Object.keys,Ps=Object.hasOwnProperty,Uo=(f,h)=>{const y=ur(f);for(let _=0,D=y.length;_<D;_++){const N=y[_];h(f[N],N)}},_i=(f,h)=>oa(f,(y,_)=>({k:_,v:h(y,_)})),oa=(f,h)=>{const y={};return Uo(f,(_,D)=>{const N=h(_,D);y[N.k]=N.v}),y},on=(f,h)=>{const y=[];return Uo(f,(_,D)=>{y.push(h(_,D))}),y},Kn=f=>on(f,Tt),Xo=(f,h)=>Ps.call(f,h),nt=f=>{if(!Ee(f))throw new Error("cases must be an array");if(f.length===0)throw new Error("there must be at least one case");const h=[],y={};return Co(f,(_,D)=>{const N=ur(_);if(N.length!==1)throw new Error("one and only one name per case");const F=N[0],V=_[F];if(y[F]!==void 0)throw new Error("duplicate key detected:"+F);if(F==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ee(V))throw new Error("case arguments must be an array");h.push(F),y[F]=(...ee)=>{const ce=ee.length;if(ce!==V.length)throw new Error("Wrong number of arguments to case "+F+". Expected "+V.length+" ("+V+"), got "+ce);return{fold:(...we)=>{if(we.length!==f.length)throw new Error("Wrong number of arguments to fold. Expected "+f.length+", got "+we.length);return we[D].apply(null,ee)},match:we=>{const ie=ur(we);if(h.length!==ie.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+ie.join(","));if(!ht(h,be=>qo(ie,be)))throw new Error("Not all branches were specified when using match. Specified: "+ie.join(", ")+`
Required: `+h.join(", "));return we[F].apply(null,ee)},log:we=>{console.log(we,{constructors:h,constructor:F,params:ee})}}}}),y},jl=f=>{let h=f;return{get:()=>h,set:y=>{h=y}}},xr=f=>f.slice(0).sort(),_o=(f,h)=>{const y=Bn(h,_=>!qo(f,_));y.length>0&&(_=>{throw new Error("Unsupported keys for object: "+xr(_).join(", "))})(y)},vc=f=>((h,y)=>((_,D,N)=>{if(D.length===0)throw new Error("You must specify at least one required field.");return((F,V)=>{if(!Ee(V))throw new Error("The "+F+" fields must be an array. Was: "+V+".");Co(V,ee=>{if(!Xe(ee))throw new Error("The value "+ee+" in the "+F+" fields was not a string.")})})("required",D),(F=>{const V=xr(F);Tn(V,(ee,ce)=>ce<V.length-1&&ee===V[ce+1]).each(ee=>{throw new Error("The field: "+ee+" occurs more than once in the combined fields: ["+V.join(", ")+"].")})})(D),F=>{const V=ur(F);ht(D,ce=>qo(V,ce))||((ce,we)=>{throw new Error("All required keys ("+xr(ce).join(", ")+") were not specified. Specified keys were: "+xr(we).join(", ")+".")})(D,V),_(D,V);const ee=Bn(D,ce=>!N.validate(F[ce],ce));return ee.length>0&&((ce,we)=>{throw new Error("All values need to be of type: "+we+". Keys ("+xr(ce).join(", ")+") were not.")})(ee,N.label),F}})(h,y,{validate:Ht,label:"function"}))(_o,f),ws=f=>{const h=N=>N(f),y=gt(f),_=()=>D,D={tag:!0,inner:f,fold:(N,F)=>F(f),isValue:kt,isError:ne,map:N=>js.value(N(f)),mapError:_,bind:h,exists:h,forall:h,getOr:y,or:_,getOrThunk:y,orThunk:_,getOrDie:y,each:N=>{N(f)},toOptional:()=>pe.some(f)};return D},Zs=f=>{const h=()=>y,y={tag:!1,inner:f,fold:(D,N)=>D(f),isValue:ne,isError:kt,map:h,mapError:D=>js.error(D(f)),bind:h,exists:ne,forall:kt,getOr:Tt,or:Tt,getOrThunk:Ue,orThunk:Ue,getOrDie:(_=String(f),()=>{throw new Error(_)}),each:Ne,toOptional:pe.none};var _;return y},js={value:ws,error:Zs,fromOption:(f,h)=>f.fold(()=>Zs(h),ws)},mr=typeof window<"u"?window:Function("return this;")(),Ss=f=>{const h=f.replace(/\./g,"-");return{resolve:y=>h+"-"+y}},na=(f,h,y=lt)=>f.exists(_=>y(_,h)),vn=f=>{const h=[],y=_=>{h.push(_)};for(let _=0;_<f.length;_++)f[_].each(y);return h},tl=(f,h)=>f?pe.some(h):pe.none(),ol=(f,h)=>((y,_)=>{let D=_??mr;for(let N=0;N<y.length&&D!=null;++N)D=D[y[N]];return D})(f.split("."),h),Ya=()=>{const f=(h=>{const y=jl(pe.none()),_=()=>y.get().each(h);return{clear:()=>{_(),y.set(pe.none())},isSet:()=>y.get().isSome(),get:()=>y.get(),set:D=>{_(),y.set(pe.some(D))}}})(Ne);return{...f,on:h=>f.get().each(h)}},ki=(f,h,y)=>h===""||f.length>=h.length&&f.substr(y,y+h.length)===h,nr=(f,h,y=0,_)=>{const D=f.indexOf(h,y);return D!==-1&&(!!ut(_)||D+h.length<=_)},Kt=(f,h)=>ki(f,h,0),jo=(f,h)=>ki(f,h,f.length-h.length),xs=(f=>h=>h.replace(f,""))(/^\s+|\s+$/g),Lr=f=>f.length>0,Vt=f=>{let h,y=!1;return(..._)=>(y||(y=!0,h=f.apply(null,_)),h)},Fr=["tfoot","thead","tbody","colgroup"],tu=(f,h,y)=>({element:f,rowspan:h,colspan:y}),Un=(f,h,y)=>({element:f,cells:h,section:y}),jn=(f,h,y)=>({element:f,isNew:h,isLocked:y}),sa=(f,h,y,_)=>({element:f,cells:h,section:y,isNew:_}),Dr=(f,h,y)=>{const _=f.cells,D=_.slice(0,h),N=_.slice(h),F=D.concat(y).concat(N);return Fo(f,F)},ou=(f,h,y)=>Dr(f,h,[y]),Zc=(f,h,y)=>{f.cells[h]=y},Fo=(f,h)=>sa(f.element,h,f.section,f.isNew),fr=(f,h)=>f.cells[h],pa=(f,h)=>fr(f,h).element,kn=f=>f.cells.length,Jt=f=>{const h=ko(f,y=>y.section==="colgroup");return{rows:h.fail,cols:h.pass}},zr=(f,h,y)=>{const _=A(f.cells,y);return sa(h(f.element),_,f.section,!0)},yc=f=>{if(f==null)throw new Error("Node cannot be null or undefined");return{dom:f}},Me={fromHtml:(f,h)=>{const y=(h||document).createElement("div");if(y.innerHTML=f,!y.hasChildNodes()||y.childNodes.length>1){const _="HTML does not have a single root node";throw console.error(_,f),new Error(_)}return yc(y.childNodes[0])},fromTag:(f,h)=>{const y=(h||document).createElement(f);return yc(y)},fromText:(f,h)=>{const y=(h||document).createTextNode(f);return yc(y)},fromDom:yc,fromPoint:(f,h,y)=>pe.from(f.dom.elementFromPoint(h,y)).map(yc)},ka=(f,h)=>{const y=f.document.createRange();return y.selectNode(h.dom),y},Wo=(f,h)=>{const y=f.document.createRange();return nu(y,h),y},nu=(f,h)=>f.selectNodeContents(h.dom),Sa=(f,h,y)=>{const _=f.document.createRange();var D;return D=_,h.fold(N=>{D.setStartBefore(N.dom)},(N,F)=>{D.setStart(N.dom,F)},N=>{D.setStartAfter(N.dom)}),((N,F)=>{F.fold(V=>{N.setEndBefore(V.dom)},(V,ee)=>{N.setEnd(V.dom,ee)},V=>{N.setEndAfter(V.dom)})})(_,y),_},Wl=(f,h,y,_,D)=>{const N=f.document.createRange();return N.setStart(h.dom,y),N.setEnd(_.dom,D),N},vr=f=>({left:f.left,top:f.top,right:f.right,bottom:f.bottom,width:f.width,height:f.height}),wc=nt([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ci=(f,h,y)=>h(Me.fromDom(y.startContainer),y.startOffset,Me.fromDom(y.endContainer),y.endOffset),wd=(f,h)=>{const y=((_,D)=>D.match({domRange:N=>({ltr:gt(N),rtl:pe.none}),relative:(N,F)=>({ltr:Vt(()=>Sa(_,N,F)),rtl:Vt(()=>pe.some(Sa(_,F,N)))}),exact:(N,F,V,ee)=>({ltr:Vt(()=>Wl(_,N,F,V,ee)),rtl:Vt(()=>pe.some(Wl(_,V,ee,N,F)))})}))(f,h);return((_,D)=>{const N=D.ltr();return N.collapsed?D.rtl().filter(F=>F.collapsed===!1).map(F=>wc.rtl(Me.fromDom(F.endContainer),F.endOffset,Me.fromDom(F.startContainer),F.startOffset)).getOrThunk(()=>ci(0,wc.ltr,N)):ci(0,wc.ltr,N)})(0,y)},Is=(f,h)=>wd(f,h).match({ltr:(y,_,D,N)=>{const F=f.document.createRange();return F.setStart(y.dom,_),F.setEnd(D.dom,N),F},rtl:(y,_,D,N)=>{const F=f.document.createRange();return F.setStart(D.dom,N),F.setEnd(y.dom,_),F}});wc.ltr,wc.rtl;const Cs=(f,h)=>{const y=f.dom;if(y.nodeType!==1)return!1;{const _=y;if(_.matches!==void 0)return _.matches(h);if(_.msMatchesSelector!==void 0)return _.msMatchesSelector(h);if(_.webkitMatchesSelector!==void 0)return _.webkitMatchesSelector(h);if(_.mozMatchesSelector!==void 0)return _.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},Pn=f=>f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11||f.childElementCount===0,Mi=(f,h)=>{const y=h===void 0?document:h.dom;return Pn(y)?pe.none():pe.from(y.querySelector(f)).map(Me.fromDom)},Yn=(f,h)=>f.dom===h.dom,Es=(f,h)=>{const y=f.dom,_=h.dom;return y!==_&&y.contains(_)},Cc=Cs,Si=()=>ql(0,0),ql=(f,h)=>({major:f,minor:h}),Gl={nu:ql,detect:(f,h)=>{const y=String(h).toLowerCase();return f.length===0?Si():((_,D)=>{const N=((V,ee)=>{for(let ce=0;ce<V.length;ce++){const we=V[ce];if(we.test(ee))return we}})(_,D);if(!N)return{major:0,minor:0};const F=V=>Number(D.replace(N,"$"+V));return ql(F(1),F(2))})(f,y)},unknown:Si},sr=(f,h)=>{const y=String(h).toLowerCase();return Tn(f,_=>_.search(y))},su=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rr=f=>h=>nr(h,f),ru=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:f=>nr(f,"edge/")&&nr(f,"chrome")&&nr(f,"safari")&&nr(f,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,su],search:f=>nr(f,"chrome")&&!nr(f,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:f=>nr(f,"msie")||nr(f,"trident")},{name:"Opera",versionRegexes:[su,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rr("firefox")},{name:"Safari",versionRegexes:[su,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:f=>(nr(f,"safari")||nr(f,"mobile/"))&&nr(f,"applewebkit")}],Um=[{name:"Windows",search:rr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:f=>nr(f,"iphone")||nr(f,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:rr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rr("linux"),versionRegexes:[]},{name:"Solaris",search:rr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Kl={browsers:gt(ru),oses:gt(Um)},Ku="Edge",Ft="Chromium",nl="Opera",au="Firefox",Cd="Safari",Yl=f=>{const h=f.current,y=f.version,_=D=>()=>h===D;return{current:h,version:y,isEdge:_(Ku),isChromium:_(Ft),isIE:_("IE"),isOpera:_(nl),isFirefox:_(au),isSafari:_(Cd)}},Or=()=>Yl({current:void 0,version:Gl.unknown()}),ar=Yl,Yu="Windows",Ia="Android",jc="Linux",jf="macOS",In="Solaris",La="FreeBSD",Wc="ChromeOS",Xl=f=>{const h=f.current,y=f.version,_=D=>()=>h===D;return{current:h,version:y,isWindows:_(Yu),isiOS:_("iOS"),isAndroid:_(Ia),isMacOS:_(jf),isLinux:_(jc),isSolaris:_(In),isFreeBSD:_(La),isChromeOS:_(Wc)}},Cl=()=>Xl({current:void 0,version:Gl.unknown()}),Xa=Xl,qc=f=>window.matchMedia(f).matches;let ir=Vt(()=>((f,h,y)=>{const _=Kl.browsers(),D=Kl.oses(),N=h.bind(ee=>((ce,we)=>z(we.brands,ie=>{const be=ie.brand.toLowerCase();return Tn(ce,fe=>{var Re;return be===((Re=fe.brand)===null||Re===void 0?void 0:Re.toLowerCase())}).map(fe=>({current:fe.name,version:Gl.nu(parseInt(ie.version,10),0)}))}))(_,ee)).orThunk(()=>((ee,ce)=>sr(ee,ce).map(we=>{const ie=Gl.detect(we.versionRegexes,ce);return{current:we.name,version:ie}}))(_,f)).fold(Or,ar),F=((ee,ce)=>sr(ee,ce).map(we=>{const ie=Gl.detect(we.versionRegexes,ce);return{current:we.name,version:ie}}))(D,f).fold(Cl,Xa),V=((ee,ce,we,ie)=>{const be=ee.isiOS()&&/ipad/i.test(we)===!0,fe=ee.isiOS()&&!be,Re=ee.isiOS()||ee.isAndroid(),De=Re||ie("(pointer:coarse)"),ot=be||!fe&&Re&&ie("(min-device-width:768px)"),at=fe||Re&&!ot,bt=ce.isSafari()&&ee.isiOS()&&/safari/i.test(we)===!1,yt=!at&&!ot&&!bt;return{isiPad:gt(be),isiPhone:gt(fe),isTablet:gt(ot),isPhone:gt(at),isTouch:gt(De),isAndroid:ee.isAndroid,isiOS:ee.isiOS,isWebView:gt(bt),isDesktop:gt(yt)}})(F,N,f,y);return{browser:N,os:F,deviceType:V}})(window.navigator.userAgent,pe.from(window.navigator.userAgentData),qc));const Ea=()=>ir(),Ls=Object.getPrototypeOf,ga=f=>{const h=ol("ownerDocument.defaultView",f);return Se(f)&&((y=>((_,D)=>{const N=((F,V)=>ol(F,V))(_,D);if(N==null)throw new Error(_+" not available on this browser");return N})("HTMLElement",y))(h).prototype.isPrototypeOf(f)||/^HTML\w*Element$/.test(Ls(f).constructor.name))},Fs=f=>f.dom.nodeName.toLowerCase(),Gc=f=>f.dom.nodeType,Ql=f=>h=>Gc(h)===f,_d=f=>Gc(f)===8||Fs(f)==="#comment",iu=f=>yr(f)&&ga(f.dom),yr=Ql(1),_l=Ql(3),Jl=Ql(9),kd=Ql(11),Hr=f=>h=>yr(h)&&Fs(h)===f,Sd=f=>Me.fromDom(f.dom.ownerDocument),ra=f=>Jl(f)?f:Sd(f),ec=f=>pe.from(f.dom.parentNode).map(Me.fromDom),lu=f=>pe.from(f.dom.parentElement).map(Me.fromDom),Zm=(f,h)=>{const y=Ht(h)?h:ne;let _=f.dom;const D=[];for(;_.parentNode!==null&&_.parentNode!==void 0;){const N=_.parentNode,F=Me.fromDom(N);if(D.push(F),y(F)===!0)break;_=N}return D},Xu=f=>pe.from(f.dom.previousSibling).map(Me.fromDom),Kc=f=>pe.from(f.dom.nextSibling).map(Me.fromDom),Fa=f=>A(f.dom.childNodes,Me.fromDom),Z=(f,h)=>{const y=f.dom.childNodes;return pe.from(y[h]).map(Me.fromDom)},ae=f=>kd(f)&&Ct(f.dom.host),Ce=f=>Me.fromDom(f.dom.getRootNode()),rt=f=>Me.fromDom(f.dom.host),Nt=f=>{const h=Me.fromDom((V=>{if(Ct(V.target)){const ee=Me.fromDom(V.target);if(yr(ee)&&Ct(ee.dom.shadowRoot)&&V.composed&&V.composedPath){const ce=V.composedPath();if(ce)return Ao(ce)}}return pe.from(V.target)})(f).getOr(f.target)),y=()=>f.stopPropagation(),_=()=>f.preventDefault(),D=(N=_,F=y,(...V)=>N(F.apply(null,V)));var N,F;return((V,ee,ce,we,ie,be,fe)=>({target:V,x:ee,y:ce,stop:we,prevent:ie,kill:be,raw:fe}))(h,f.clientX,f.clientY,y,_,D,f)},Ut=(f,h,y,_)=>{f.dom.removeEventListener(h,y,_)},zo=kt,cs=(f,h,y)=>((_,D,N,F)=>((V,ee,ce,we,ie)=>{const be=((fe,Re)=>De=>{fe(De)&&Re(Nt(De))})(ce,we);return V.dom.addEventListener(ee,be,ie),{unbind:xe(Ut,V,ee,be,ie)}})(_,D,N,F,!1))(f,h,zo,y),Ho=Nt,P=(f,h)=>{ec(f).each(y=>{y.dom.insertBefore(h.dom,f.dom)})},K=(f,h)=>{Kc(f).fold(()=>{ec(f).each(y=>{Te(y,h)})},y=>{P(y,h)})},me=(f,h)=>{(_=>Z(_,0))(f).fold(()=>{Te(f,h)},_=>{f.dom.insertBefore(h.dom,_.dom)})},Te=(f,h)=>{f.dom.appendChild(h.dom)},jt=(f,h)=>{P(f,h),Te(h,f)},an=(f,h)=>{Co(h,(y,_)=>{const D=_===0?f:h[_-1];K(D,y)})},Xn=(f,h)=>{Co(h,y=>{Te(f,y)})},Vr=(f,h,y)=>{if(!(Xe(y)||Ze(y)||xt(y)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",y,":: Element ",f),new Error("Attribute value was not simple");f.setAttribute(h,y+"")},Ln=(f,h,y)=>{Vr(f.dom,h,y)},aa=(f,h)=>{const y=f.dom;Uo(h,(_,D)=>{Vr(y,D,_)})},ia=(f,h)=>{const y=f.dom.getAttribute(h);return y===null?void 0:y},Nr=(f,h)=>pe.from(ia(f,h)),ds=(f,h)=>{f.dom.removeAttribute(h)},jm=f=>St(f.dom.attributes,(h,y)=>(h[y.name]=y.value,h),{}),Qu=f=>{f.dom.textContent="",Co(Fa(f),h=>{Qa(h)})},Qa=f=>{const h=f.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},kl=f=>{const h=Fa(f);h.length>0&&an(f,h),Qa(f)},Aa=(f,h)=>Me.fromDom(f.dom.cloneNode(h)),Ed=f=>Aa(f,!1),Sl=f=>Aa(f,!0),Wf=(f,h)=>{const y=Me.fromTag(h),_=jm(f);return aa(y,_),y},Ju=f=>f.style!==void 0&&Ht(f.style.getPropertyValue),Yc=f=>{const h=_l(f)?f.dom.parentNode:f.dom;if(h==null||h.ownerDocument===null)return!1;const y=h.ownerDocument;return(N=>{const F=Ce(N);return ae(F)?pe.some(F):pe.none()})(Me.fromDom(h)).fold(()=>y.body.contains(h),(_=Yc,D=rt,N=>_(D(N))));var _,D},em=(f,h,y)=>{if(!Xe(y))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",y,":: Element ",f),new Error("CSS value must be a string: "+y);Ju(f)&&f.style.setProperty(h,y)},ha=(f,h,y)=>{const _=f.dom;em(_,h,y)},Jn=(f,h)=>{const y=f.dom;Uo(h,(_,D)=>{em(y,D,_)})},El=(f,h)=>{const y=f.dom,_=window.getComputedStyle(y).getPropertyValue(h);return _!==""||Yc(f)?_:Ah(y,h)},Ah=(f,h)=>Ju(f)?f.style.getPropertyValue(h):"",Wm=(f,h)=>{const y=f.dom,_=Ah(y,h);return pe.from(_).filter(D=>D.length>0)},Ws=(f,h)=>{((y,_)=>{Ju(y)&&y.style.removeProperty(_)})(f.dom,h),na(Nr(f,"style").map(xs),"")&&ds(f,"style")},_c=(f,h)=>{const y=D=>{const N=h(D);if(N<=0||N===null){const F=El(D,f);return parseFloat(F)||0}return N},_=(D,N)=>St(N,(F,V)=>{const ee=El(D,V),ce=ee===void 0?0:parseInt(ee,10);return isNaN(ce)?F:F+ce},0);return{set:(D,N)=>{if(!xt(N)&&!N.match(/^[0-9]+$/))throw new Error(f+".set accepts only positive integer values. Value was "+N);const F=D.dom;Ju(F)&&(F.style[f]=N+"px")},get:y,getOuter:y,aggregate:_,max:(D,N,F)=>{const V=_(D,F);return N>V?N-V:0}}},tc=(f,h,y)=>((_,D)=>(N=>{const F=parseFloat(N);return isNaN(F)?pe.none():pe.some(F)})(_).getOr(D))(El(f,h),y),Al=_c("height",f=>{const h=f.dom;return Yc(f)?h.getBoundingClientRect().height:h.offsetHeight}),As=f=>Al.get(f),Bi=f=>Al.getOuter(f),cu=_c("width",f=>f.dom.offsetWidth),Ad=f=>cu.get(f),Vo=f=>cu.getOuter(f),cg=f=>((h,y)=>{const _=h.dom,D=_.getBoundingClientRect().width||_.offsetWidth;return((N,F,V,ee)=>F-tc(N,`padding-${V}`,0)-tc(N,`padding-${ee}`,0)-tc(N,`border-${V}-width`,0)-tc(N,`border-${ee}-width`,0))(h,D,"left","right")})(f),dg=(f,h)=>({left:f,top:h,translate:(y,_)=>dg(f+y,h+_)}),bo=dg,qf=(f,h)=>f!==void 0?f:h!==void 0?h:0,wr=f=>{const h=f.dom.ownerDocument,y=h.body,_=h.defaultView,D=h.documentElement;if(y===f.dom)return bo(y.offsetLeft,y.offsetTop);const N=qf(_==null?void 0:_.pageYOffset,D.scrollTop),F=qf(_==null?void 0:_.pageXOffset,D.scrollLeft),V=qf(D.clientTop,y.clientTop),ee=qf(D.clientLeft,y.clientLeft);return Ta(f).translate(F-ee,N-V)},Ta=f=>{const h=f.dom,y=h.ownerDocument.body;return y===h?bo(y.offsetLeft,y.offsetTop):Yc(f)?(_=>{const D=_.getBoundingClientRect();return bo(D.left,D.top)})(h):bo(0,0)},Gf=(f=>{const h=y=>f(y)?pe.from(y.dom.nodeValue):pe.none();return{get:y=>{if(!f(y))throw new Error("Can only get text value of a text node");return h(y).getOr("")},getOption:h,set:(y,_)=>{if(!f(y))throw new Error("Can only set raw text value of a text node");y.dom.nodeValue=_}}})(_l),qs=f=>Gf.get(f),ug=f=>Gf.getOption(f),Td=(f,h)=>Gf.set(f,h),Dt=(f,h)=>y=>Th(y)==="rtl"?h:f,Th=f=>El(f,"direction")==="rtl"?"rtl":"ltr";var tm=(f,h,y,_,D)=>f(y,_)?pe.some(y):Ht(D)&&D(y)?pe.none():h(y,_,D);const qm=(f,h,y)=>{let _=f.dom;const D=Ht(y)?y:ne;for(;_.parentNode;){_=_.parentNode;const N=Me.fromDom(_);if(h(N))return pe.some(N);if(D(N))break}return pe.none()},kc=(f,h,y)=>tm((_,D)=>D(_),qm,f,h,y),za=(f,h,y)=>qm(f,_=>Cs(_,h),y),ue=(f,h)=>(y=>Tn(y.dom.childNodes,_=>{return D=Me.fromDom(_),Cs(D,h);var D}).map(Me.fromDom))(f),Kf=(f,h)=>Mi(h,f),Rr=(f,h,y)=>tm((_,D)=>Cs(_,D),za,f,h,y),mg=f=>f.dom.classList!==void 0,To=(f,h)=>((y,_,D)=>{const N=((F,V)=>{const ee=ia(F,V);return ee===void 0||ee===""?[]:ee.split(" ")})(y,_).concat([D]);return Ln(y,_,N.join(" ")),!0})(f,"class",h),Ei=(f,h)=>{mg(f)?f.dom.classList.add(h):To(f,h)},Dd=(f,h)=>mg(f)&&f.dom.classList.contains(h),Ha=f=>Rr(f,"[contenteditable]"),Gm=(f,h=!1)=>Yc(f)?f.dom.isContentEditable:Ha(f).fold(gt(h),y=>ba(y)==="true"),ba=f=>f.dom.contentEditable,Km=(f,h)=>{let y=[];return Co(Fa(f),_=>{h(_)&&(y=y.concat([_])),y=y.concat(Km(_,h))}),y},Od=(f,h,y)=>((_,D,N)=>Bn(Zm(_,N),F=>Cs(F,h)))(f,0,y),un=(f,h)=>(y=>Bn(Fa(y),_=>Cs(_,h)))(f),Va=(f,h)=>((y,_)=>{const D=_===void 0?document:_.dom;return Pn(D)?[]:A(D.querySelectorAll(y),Me.fromDom)})(h,f),sl=f=>Fs(f)==="img"?1:ug(f).fold(()=>Fa(f).length,h=>h.length),Tl=["img","br"],Gs=f=>ug(f).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||qo(Tl,Fs(f))||(h=>iu(h)&&ia(h,"contenteditable")==="false")(f),rl=f=>((h,y)=>{const _=D=>{for(let N=0;N<D.childNodes.length;N++){const F=Me.fromDom(D.childNodes[N]);if(y(F))return pe.some(F);const V=_(D.childNodes[N]);if(V.isSome())return V}return pe.none()};return _(h.dom)})(f,Gs),du=f=>yn(f,Gs),yn=(f,h)=>{const y=_=>{const D=Fa(_);for(let N=D.length-1;N>=0;N--){const F=D[N];if(h(F))return pe.some(F);const V=y(F);if(V.isSome())return V}return pe.none()};return y(f)},Pi=(f,h,y,_)=>({start:f,soffset:h,finish:y,foffset:_}),$a=nt([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ro={before:$a.before,on:$a.on,after:$a.after,cata:(f,h,y,_)=>f.fold(h,y,_),getStart:f=>f.fold(Tt,Tt,Tt)},Xc=nt([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Qc={domRange:Xc.domRange,relative:Xc.relative,exact:Xc.exact,exactFromRange:f=>Xc.exact(f.start,f.soffset,f.finish,f.foffset),getWin:f=>{const h=(y=>y.match({domRange:_=>Me.fromDom(_.startContainer),relative:(_,D)=>Ro.getStart(_),exact:(_,D,N,F)=>_}))(f);return Me.fromDom(ra(h).dom.defaultView)},range:Pi},us=(f,h)=>{const y=Fs(f);return y==="input"?Ro.after(f):qo(["br","img"],y)?h===0?Ro.before(f):Ro.after(f):Ro.on(f,h)},Dl=f=>pe.from(f.getSelection()),pr=(f,h)=>{Dl(f).each(y=>{y.removeAllRanges(),y.addRange(h)})},xa=(f,h,y,_,D)=>{const N=Wl(f,h,y,_,D);pr(f,N)},Ii=(f,h)=>wd(f,h).match({ltr:(y,_,D,N)=>{xa(f,y,_,D,N)},rtl:(y,_,D,N)=>{Dl(f).each(F=>{if(F.setBaseAndExtent)F.setBaseAndExtent(y.dom,_,D.dom,N);else if(F.extend)try{((V,ee,ce,we,ie,be)=>{ee.collapse(ce.dom,we),ee.extend(ie.dom,be)})(0,F,y,_,D,N)}catch{xa(f,D,N,y,_)}else xa(f,D,N,y,_)})}}),Ym=(f,h,y,_,D)=>{const N=((F,V,ee,ce)=>{const we=us(F,V),ie=us(ee,ce);return Qc.relative(we,ie)})(h,y,_,D);Ii(f,N)},Xm=(f,h,y)=>{const _=((D,N)=>{const F=D.fold(Ro.before,us,Ro.after),V=N.fold(Ro.before,us,Ro.after);return Qc.relative(F,V)})(h,y);Ii(f,_)},Yf=f=>{if(f.rangeCount>0){const h=f.getRangeAt(0),y=f.getRangeAt(f.rangeCount-1);return pe.some(Pi(Me.fromDom(h.startContainer),h.startOffset,Me.fromDom(y.endContainer),y.endOffset))}return pe.none()},uu=f=>{if(f.anchorNode===null||f.focusNode===null)return Yf(f);{const h=Me.fromDom(f.anchorNode),y=Me.fromDom(f.focusNode);return((_,D,N,F)=>{const V=((ce,we,ie,be)=>{const fe=Sd(ce).dom.createRange();return fe.setStart(ce.dom,we),fe.setEnd(ie.dom,be),fe})(_,D,N,F),ee=Yn(_,N)&&D===F;return V.collapsed&&!ee})(h,f.anchorOffset,y,f.focusOffset)?pe.some(Pi(h,f.anchorOffset,y,f.focusOffset)):Yf(f)}},Xf=(f,h,y=!0)=>{const _=(y?Wo:ka)(f,h);pr(f,_)},Nd=f=>(h=>Dl(h).filter(y=>y.rangeCount>0).bind(uu))(f).map(h=>Qc.exact(h.start,h.soffset,h.finish,h.foffset)),Sc=(f,h,y)=>((_,D,N)=>((F,V,ee)=>F.caretPositionFromPoint?((ce,we,ie)=>{var be;return pe.from((be=ce.caretPositionFromPoint)===null||be===void 0?void 0:be.call(ce,we,ie)).bind(fe=>{if(fe.offsetNode===null)return pe.none();const Re=ce.createRange();return Re.setStart(fe.offsetNode,fe.offset),Re.collapse(),pe.some(Re)})})(F,V,ee):F.caretRangeFromPoint?((ce,we,ie)=>{var be;return pe.from((be=ce.caretRangeFromPoint)===null||be===void 0?void 0:be.call(ce,we,ie))})(F,V,ee):pe.none())(_.document,D,N).map(F=>Pi(Me.fromDom(F.startContainer),F.startOffset,Me.fromDom(F.endContainer),F.endOffset)))(f,h,y),Qm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Dh=(()=>{const f="[0-9]+",h="[eE][+-]?"+f,y=D=>`(?:${D})?`,_=["Infinity",f+"\\."+y(f)+y(h),"\\."+f+y(h),f+y(h)].join("|");return new RegExp(`^([+-]?(?:${_}))(.*)$`)})(),Li=f=>A(f,gt(0)),Rd=(f,h,y,_,D)=>D(f.slice(0,h)).concat(_).concat(D(f.slice(y))),Jc=f=>(h,y,_,D)=>{if(f(_)){const N=Math.max(D,h[y]-Math.abs(_)),F=Math.abs(N-h[y]);return _>=0?F:-F}return _},On=Jc(f=>f<0),Ec=Jc(kt),Da=()=>{const f=(y,_,D,N)=>{const F=(100+D)/100,V=Math.max(N,(y[_]+D)/F);return A(y,(ee,ce)=>(ce===_?V:ee/F)-ee)},h=(y,_,D,N,F,V)=>V?f(y,_,N,F):((ee,ce,we,ie,be)=>{const fe=On(ee,ce,ie,be);return Rd(ee,ce,we+1,[fe,0],Li)})(y,_,D,N,F);return{resizeTable:(y,_)=>y(_),clampTableDelta:On,calcLeftEdgeDeltas:h,calcMiddleDeltas:(y,_,D,N,F,V,ee)=>h(y,D,N,F,V,ee),calcRightEdgeDeltas:(y,_,D,N,F,V)=>{if(V)return f(y,D,N,F);{const ee=On(y,D,N,F);return Li(y.slice(0,D)).concat([ee])}},calcRedestributedWidths:(y,_,D,N)=>{if(N){const F=(_+D)/_,V=A(y,ee=>ee/F);return{delta:100*F-100,newSizes:V}}return{delta:D,newSizes:y}}}},Md=()=>{const f=(h,y,_,D,N)=>{const F=Ec(h,D>=0?_:y,D,N);return Rd(h,y,_+1,[F,-F],Li)};return{resizeTable:(h,y,_)=>{_&&h(y)},clampTableDelta:(h,y,_,D,N)=>{if(N){if(_>=0)return _;{const F=St(h,(V,ee)=>V+ee-D,0);return Math.max(-F,_)}}return On(h,y,_,D)},calcLeftEdgeDeltas:f,calcMiddleDeltas:(h,y,_,D,N,F)=>f(h,_,D,N,F),calcRightEdgeDeltas:(h,y,_,D,N,F)=>{if(F)return Li(h);{const V=D/h.length;return A(h,gt(V))}},calcRedestributedWidths:(h,y,_,D)=>({delta:0,newSizes:h})}},di=(f,h,y=0)=>Nr(f,h).map(_=>parseInt(_,10)).getOr(y),om=(f,h)=>di(f,h,1),Jm=f=>Hr("col")(f)?di(f,"span",1)>1:om(f,"colspan")>1,ef=(f,h)=>parseInt(El(f,h),10),ls=gt(10),ed=gt(10),vs=(f,h)=>Ja(f,h,kt),Ja=(f,h,y)=>Ae(Fa(f),_=>Cs(_,h)?y(_)?[_]:[]:Ja(_,h,y)),mu=(f,h)=>((y,_,D=ne)=>D(_)?pe.none():qo(y,Fs(_))?pe.some(_):za(_,y.join(","),N=>Cs(N,"table")||D(N)))(["td","th"],f,h),ui=f=>vs(f,"th,td"),Qf=f=>Cs(f,"colgroup")?un(f,"col"):Ae(Oh(f),h=>un(h,"col")),la=(f,h)=>Rr(f,"table",h),Bd=f=>vs(f,"tr"),Oh=f=>la(f).fold(gt([]),h=>un(h,"colgroup")),ca=Hr("th"),Jf=f=>ht(f,h=>ca(h.element)),ep=(f,h)=>f&&h?"sectionCells":f?"section":"cells",Nh=f=>{const h=f.section==="thead",y=na(tp(f.cells),"th");return f.section==="tfoot"?{type:"footer"}:h||y?{type:"header",subType:ep(h,y)}:{type:"body"}},tp=f=>{const h=Bn(f,y=>ca(y.element));return h.length===0?pe.some("td"):h.length===f.length?pe.some("th"):pe.none()},nm=(f,h)=>A(f,y=>{if(Fs(y)==="colgroup"){const _=A(Qf(y),D=>{const N=di(D,"span",1);return tu(D,1,N)});return Un(y,_,"colgroup")}{const _=A(ui(y),D=>{const N=di(D,"rowspan",1),F=di(D,"colspan",1);return tu(D,N,F)});return Un(y,_,h(y))}}),op=f=>ec(f).map(h=>{const y=Fs(h);return(_=>qo(Fr,_))(y)?y:"tbody"}).getOr("tbody"),np=f=>{const h=Bd(f),y=[...Oh(f),...h];return nm(y,op)},sp="data-snooker-locked-cols",tf=f=>Nr(f,sp).bind(h=>pe.from(h.match(/\d+/g))).map(h=>dn(h,kt)),Ac=f=>{const h=St(Jt(f).rows,(_,D)=>(Co(D.cells,(N,F)=>{N.isLocked&&(_[F]=!0)}),_),{}),y=on(h,(_,D)=>parseInt(D,10));return(_=>{const D=hn.call(_,0);return D.sort(void 0),D})(y)},ei=(f,h)=>f+","+h,td=(f,h)=>{const y=Ae(f.all,_=>_.cells);return Bn(y,h)},sm=f=>{const h={},y=[],_=Ao(f).map(be=>be.element).bind(la).bind(tf).getOr({});let D=0,N=0,F=0;const{pass:V,fail:ee}=ko(f,be=>be.section==="colgroup");Co(ee,be=>{const fe=[];Co(be.cells,Re=>{let De=0;for(;h[ei(F,De)]!==void 0;)De++;const ot=((bt,yt)=>Xo(bt,yt)&&bt[yt]!==void 0&&bt[yt]!==null)(_,De.toString()),at=((bt,yt,wt,Rt,Mt,to)=>({element:bt,rowspan:yt,colspan:wt,row:Rt,column:Mt,isLocked:to}))(Re.element,Re.rowspan,Re.colspan,F,De,ot);for(let bt=0;bt<Re.colspan;bt++)for(let yt=0;yt<Re.rowspan;yt++){const wt=De+bt,Rt=ei(F+yt,wt);h[Rt]=at,N=Math.max(N,wt+1)}fe.push(at)}),D++,y.push(Un(be.element,fe,be.section)),F++});const{columns:ce,colgroups:we}=Go(V).map(be=>{const fe=(De=>{const ot={};let at=0;return Co(De.cells,bt=>{const yt=bt.colspan;Xt(yt,wt=>{const Rt=at+wt;ot[Rt]=((Mt,to,go)=>({element:Mt,colspan:to,column:go}))(bt.element,yt,Rt)}),at+=yt}),ot})(be);return{colgroups:[((De,ot)=>({element:De,columns:ot}))(be.element,Kn(fe))],columns:fe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((be,fe)=>({rows:be,columns:fe}))(D,N),access:h,all:y,columns:ce,colgroups:we}},Zn=f=>{const h=np(f);return sm(h)},rp=sm,Tc=(f,h,y)=>pe.from(f.access[ei(h,y)]),oc=(f,h,y)=>{const _=td(f,D=>y(h,D.element));return _.length>0?pe.some(_[0]):pe.none()},of=td,$r=f=>Ae(f.all,h=>h.cells),nc=f=>Kn(f.columns),Oa=f=>ur(f.columns).length>0,zs=(f,h)=>pe.from(f.columns[h]),Js=(f,h,y)=>jn(y(f.element,h),!0,f.isLocked),er=(f,h)=>f.section!==h?sa(f.element,f.cells,h,f.isNew):f,fg=()=>({transformRow:er,transformCell:(f,h,y)=>{const _=y(f.element,h),D=Fs(_)!=="td"?(N=>{const F=Wf(N,"td");K(N,F);const V=Fa(N);return Xn(F,V),Qa(N),F})(_):_;return jn(D,f.isNew,f.isLocked)}}),Na=()=>({transformRow:er,transformCell:Js}),fu=()=>({transformRow:(f,h)=>er(f,h==="thead"?"tbody":h),transformCell:Js}),k=fg,R=Na,H=fu,le=()=>({transformRow:Tt,transformCell:Js}),ve=(f,h=kt)=>{const y=f.grid,_=Xt(y.columns,Tt),D=Xt(y.rows,Tt);return A(_,N=>ft(()=>Ae(D,F=>Tc(f,F,N).filter(V=>V.column===N).toArray()),F=>F.colspan===1&&h(F.element),()=>Tc(f,0,N)))},ft=(f,h,y)=>{const _=f();return Tn(_,h).orThunk(()=>pe.from(_[0]).orThunk(y)).map(D=>D.element)},co=f=>{const h=f.grid,y=Xt(h.rows,Tt),_=Xt(h.columns,Tt);return A(y,D=>ft(()=>Ae(_,N=>Tc(f,D,N).filter(F=>F.row===D).fold(gt([]),F=>[F])),N=>N.rowspan===1,()=>Tc(f,D,0)))},Mo=(f,h)=>({row:f,y:h}),Po=(f,h)=>({col:f,x:h}),uo=f=>wr(f).left+Vo(f),Qn=f=>wr(f).left,Ks=(f,h)=>Po(f,Qn(h)),al=(f,h)=>Po(f,uo(h)),Ns=f=>wr(f).top,Rh=(f,h)=>Mo(f,Ns(h)),r0=(f,h)=>Mo(f,Ns(h)+Bi(h)),Mr=(f,h,y)=>{if(y.length===0)return[];const _=A(y.slice(1),(N,F)=>N.map(V=>f(F,V))),D=y[y.length-1].map(N=>h(y.length-1,N));return _.concat([D])},pu={delta:Tt,positions:f=>Mr(Rh,r0,f),edge:Ns},sc=Dt({delta:Tt,edge:Qn,positions:f=>Mr(Ks,al,f)},{delta:f=>-f,edge:uo,positions:f=>Mr(al,Ks,f)}),pg={delta:(f,h)=>sc(h).delta(f,h),positions:(f,h)=>sc(h).positions(f,h),edge:f=>sc(f).edge(f)},Mh=/(\d+(\.\d+)?)%/,gg=/(\d+(\.\d+)?)px|em/,Bh=Hr("col"),tx=Hr("tr"),T2=(f,h,y)=>{const _=lu(f).getOrThunk(()=>(D=>{const N=D.dom.body;if(N==null)throw new Error("Body is not available yet");return Me.fromDom(N)})(Sd(f)));return h(f)/y(_)*100},a0=(f,h)=>{ha(f,"width",h+"px")},ox=(f,h)=>{ha(f,"width",h+"%")},Ph=(f,h)=>{ha(f,"height",h+"px")},hg=f=>{const h=(y=>{return tc(_=y,"height",_.dom.offsetHeight)+"px";var _})(f);return h?((y,_,D,N)=>{const F=parseFloat(y);return jo(y,"%")&&Fs(_)!=="table"?((V,ee,ce,we)=>{const ie=la(V).map(be=>{const fe=ce(be);return Math.floor(ee/100*fe)}).getOr(ee);return we(V,ie),ie})(_,F,D,N):F})(h,f,As,Ph):As(f)},nx=(f,h)=>Wm(f,h).orThunk(()=>Nr(f,h).map(y=>y+"px")),rm=f=>nx(f,"width"),rc=f=>T2(f,Ad,cg),xo=f=>{return Bh(f)?Ad(f):tc(h=f,"width",h.dom.offsetWidth);var h},Pd=f=>tx(f)?As(f):((h,y,_)=>_(h)/om(h,"rowspan"))(f,0,hg),bg=(f,h,y)=>{ha(f,"width",h+y)},sx=f=>T2(f,Ad,cg)+"%",i0=gt(Mh),nf=Hr("col"),ap=f=>rm(f).getOrThunk(()=>xo(f)+"px"),xg=f=>{return(h=f,nx(h,"height")).getOrThunk(()=>Pd(f)+"px");var h},Hs=(f,h,y,_,D,N)=>f.filter(_).fold(()=>N(((F,V)=>{if(V<0||V>=F.length-1)return pe.none();const ee=F[V].fold(()=>{const we=(ie=>{const be=hn.call(ie,0);return be.reverse(),be})(F.slice(0,V));return z(we,(ie,be)=>ie.map(fe=>({value:fe,delta:be+1})))},we=>pe.some({value:we,delta:0})),ce=F[V+1].fold(()=>{const we=F.slice(V+1);return z(we,(ie,be)=>ie.map(fe=>({value:fe,delta:be+1})))},we=>pe.some({value:we,delta:1}));return ee.bind(we=>ce.map(ie=>{const be=ie.delta+we.delta;return Math.abs(ie.value-we.value)/be}))})(y,h)),F=>D(F)),Ol=(f,h,y,_)=>{const D=ve(f),N=Oa(f)?(ee=>A(nc(ee),ce=>pe.from(ce.element)))(f):D,F=[pe.some(pg.edge(h))].concat(A(pg.positions(D,h),ee=>ee.map(ce=>ce.x))),V=Pe(Jm);return A(N,(ee,ce)=>Hs(ee,ce,F,V,we=>{if((be=>{const fe=Ea().browser,Re=fe.isChromium()||fe.isFirefox();return!nf(be)||Re})(we))return y(we);{const be=(ie=D[ce])!=null?Tt(ie):pe.none();return Hs(be,ce,F,V,fe=>_(pe.some(Ad(fe))),_)}var ie},_))},mi=f=>f.map(h=>h+"px").getOr(""),sf=(f,h,y)=>Ol(f,h,xo,_=>_.getOrThunk(y.minCellWidth)),Fi=(f,h,y,_)=>{const D=co(f),N=A(f.all,V=>pe.some(V.element)),F=[pe.some(pu.edge(h))].concat(A(pu.positions(D,h),V=>V.map(ee=>ee.y)));return A(N,(V,ee)=>Hs(V,ee,F,kt,y,_))},vg=(f,h)=>()=>Yc(f)?h(f):parseFloat(Wm(f,"width").getOr("0")),lr=f=>{const h=vg(f,_=>parseFloat(sx(_))),y=vg(f,Ad);return{width:h,pixelWidth:y,getWidths:(_,D)=>((N,F,V)=>Ol(N,F,rc,ee=>ee.fold(()=>V.minCellWidth(),ce=>ce/V.pixelWidth()*100)))(_,f,D),getCellDelta:_=>_/y()*100,singleColumnWidth:(_,D)=>[100-_],minCellWidth:()=>ls()/y()*100,setElementWidth:ox,adjustTableWidth:_=>{const D=h();ox(f,D+_/100*D)},isRelative:!0,label:"percent"}},Ur=f=>{const h=vg(f,Ad);return{width:h,pixelWidth:h,getWidths:(y,_)=>sf(y,f,_),getCellDelta:Tt,singleColumnWidth:(y,_)=>[Math.max(ls(),y+_)-y],minCellWidth:ls,setElementWidth:a0,adjustTableWidth:y=>{const _=h()+y;a0(f,_)},isRelative:!1,label:"pixel"}},yg=f=>rm(f).fold(()=>(h=>{const y=vg(h,Ad),_=gt(0);return{width:y,pixelWidth:y,getWidths:(D,N)=>sf(D,h,N),getCellDelta:_,singleColumnWidth:gt([0]),minCellWidth:_,setElementWidth:Ne,adjustTableWidth:Ne,isRelative:!0,label:"none"}})(f),h=>((y,_)=>i0().exec(_)!==null?lr(y):Ur(y))(f,h)),ct=Ur,il=lr,gu=(f,h,y,_)=>{y===_?ds(f,h):Ln(f,h,y)},Cr=(f,h,y)=>{Go(un(f,h)).fold(()=>me(f,y),_=>K(_,y))},zi=(f,h)=>{const y=[],_=[],D=be=>A(be,fe=>{fe.isNew&&y.push(fe.element);const Re=fe.element;return Qu(Re),Co(fe.cells,De=>{De.isNew&&_.push(De.element),gu(De.element,"colspan",De.colspan,1),gu(De.element,"rowspan",De.rowspan,1),Te(Re,De.element)}),Re}),N=be=>Ae(be,fe=>A(fe.cells,Re=>(gu(Re.element,"span",Re.colspan,1),Re.element))),F=(be,fe)=>{const Re=((ot,at)=>{const bt=ue(ot,at).getOrThunk(()=>{const yt=Me.fromTag(at,Sd(ot).dom);return at==="thead"?Cr(ot,"caption,colgroup",yt):at==="colgroup"?Cr(ot,"caption",yt):Te(ot,yt),yt});return Qu(bt),bt})(f,fe),De=(fe==="colgroup"?N:D)(be);Xn(Re,De)},V=(be,fe)=>{be.length>0?F(be,fe):(Re=>{ue(f,Re).each(Qa)})(fe)},ee=[],ce=[],we=[],ie=[];return Co(h,be=>{switch(be.section){case"thead":ee.push(be);break;case"tbody":ce.push(be);break;case"tfoot":we.push(be);break;case"colgroup":ie.push(be)}}),V(ie,"colgroup"),V(ee,"thead"),V(ce,"tbody"),V(we,"tfoot"),{newRows:y,newCells:_}},Hi=(f,h)=>{if(f.length===0)return 0;const y=f[0];return Ci(f,_=>!h(y.element,_.element)).getOr(f.length)},hu=(f,h)=>{const y=A(f,_=>A(_.cells,ne));return A(f,(_,D)=>{const N=Ae(_.cells,(F,V)=>{if(y[D][V]===!1){const be=((fe,Re,De,ot)=>{const at=((Rt,Mt)=>Rt[Mt])(fe,Re),bt=at.section==="colgroup",yt=Hi(at.cells.slice(De),ot),wt=bt?1:Hi(((Rt,Mt)=>A(Rt,to=>fr(to,Mt)))(fe.slice(Re),De),ot);return{colspan:yt,rowspan:wt}})(f,D,V,h);return((fe,Re,De,ot)=>{for(let at=fe;at<fe+De;at++)for(let bt=Re;bt<Re+ot;bt++)y[at][bt]=!0})(D,V,be.rowspan,be.colspan),[(ee=F.element,ce=be.rowspan,we=be.colspan,ie=F.isNew,{element:ee,rowspan:ce,colspan:we,isNew:ie})]}return[];var ee,ce,we,ie});return((F,V,ee,ce)=>({element:F,cells:V,section:ee,isNew:ce}))(_.element,N,_.section,_.isNew)})},ip=(f,h,y)=>{const _=[];Co(f.colgroups,D=>{const N=[];for(let F=0;F<f.grid.columns;F++){const V=zs(f,F).map(ee=>jn(ee.element,y,!1)).getOrThunk(()=>jn(h.colGap(),!0,!1));N.push(V)}_.push(sa(D.element,N,"colgroup",y))});for(let D=0;D<f.grid.rows;D++){const N=[];for(let ee=0;ee<f.grid.columns;ee++){const ce=Tc(f,D,ee).map(we=>jn(we.element,y,we.isLocked)).getOrThunk(()=>jn(h.gap(),!0,!1));N.push(ce)}const F=f.all[D],V=sa(F.element,N,F.section,y);_.push(V)}return _},fi=f=>hu(f,Yn),Sn=(f,h)=>z(f.all,y=>Tn(y.cells,_=>Yn(h,_.element))),Vi=(f,h,y)=>{const _=A(h.selection,N=>mu(N).bind(F=>Sn(f,F)).filter(y)),D=vn(_);return tl(D.length>0,D)},Zr=(f,h,y,_,D,N,F,V,ee)=>{const ce=Zn(N),we=pe.from(ee==null?void 0:ee.section).getOrThunk(le);return h(ce,F).map(ie=>{const be=((De,ot)=>ip(De,ot,!1))(ce,V),fe=f(be,ie,Yn,D(V),we),Re=Ac(fe.grid);return{info:ie,grid:fi(fe.grid),cursor:fe.cursor,lockedColumns:Re}}).bind(ie=>{const be=zi(N,ie.grid),fe=pe.from(ee==null?void 0:ee.sizing).getOrThunk(()=>yg(N)),Re=pe.from(ee==null?void 0:ee.resize).getOrThunk(Md);return y(N,ie.grid,ie.info,{sizing:fe,resize:Re,section:we}),_(N),ds(N,sp),ie.lockedColumns.length>0&&Ln(N,sp,ie.lockedColumns.join(",")),pe.some({cursor:ie.cursor,newRows:be.newRows,newCells:be.newCells})})},tr=(f,h)=>mu(h.element).bind(y=>Sn(f,y).map(_=>({..._,generators:h.generators,clipboard:h.clipboard}))),l0=(f,h)=>Vi(f,h,kt).map(y=>({cells:y,generators:h.generators,clipboard:h.clipboard})),Ra=(f,h)=>Vi(f,h,kt),lp=(f,h)=>Vi(f,h,y=>!y.isLocked),ll=(f,h)=>ht(h,y=>((_,D)=>Sn(_,D).exists(N=>!N.isLocked))(f,y)),Ie=(f,h)=>((y,_)=>_.mergable)(0,h).filter(y=>ll(f,y.cells)),ti=(f,h)=>((y,_)=>_.unmergable)(0,h).filter(y=>ll(f,y)),rf={...nt([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},_s=(f,h,y)=>{const _=((D,N)=>Oa(D)?((F,V)=>{const ee=nc(F);return A(ee,(ce,we)=>({element:ce.element,width:V[we],colspan:ce.colspan}))})(D,N):((F,V)=>{const ee=$r(F);return A(ee,ce=>{const we=((ie,be,fe)=>{let Re=0;for(let De=ie;De<be;De++)Re+=fe[De]!==void 0?fe[De]:0;return Re})(ce.column,ce.column+ce.colspan,V);return{element:ce.element,width:we,colspan:ce.colspan}})})(D,N))(f,h);Co(_,D=>{y.setElementWidth(D.element,D.width)})},od=(f,h,y,_,D)=>{const N=Zn(f),F=D.getCellDelta(h),V=D.getWidths(N,D),ee=y===N.grid.columns-1,ce=_.clampTableDelta(V,y,F,D.minCellWidth(),ee),we=((be,fe,Re,De,ot)=>{const at=be.slice(0),bt=((wt,Rt)=>wt.length===0?rf.none():wt.length===1?rf.only(0):Rt===0?rf.left(0,1):Rt===wt.length-1?rf.right(Rt-1,Rt):Rt>0&&Rt<wt.length-1?rf.middle(Rt-1,Rt,Rt+1):rf.none())(be,fe),yt=gt(A(at,gt(0)));return bt.fold(yt,wt=>De.singleColumnWidth(at[wt],Re),(wt,Rt)=>ot.calcLeftEdgeDeltas(at,wt,Rt,Re,De.minCellWidth(),De.isRelative),(wt,Rt,Mt)=>ot.calcMiddleDeltas(at,wt,Rt,Mt,Re,De.minCellWidth(),De.isRelative),(wt,Rt)=>ot.calcRightEdgeDeltas(at,wt,Rt,Re,De.minCellWidth(),De.isRelative))})(V,y,ce,D,_),ie=A(we,(be,fe)=>be+V[fe]);_s(N,ie,D),_.resizeTable(D.adjustTableWidth,ce,ee)},Ua=(f,h,y)=>{const _=Zn(f),D=((ee,ce)=>Fi(ee,ce,Pd,we=>we.getOrThunk(ed)))(_,f),N=A(D,(ee,ce)=>y===ce?Math.max(h+ee,ed()):ee),F=((ee,ce)=>A(ee.all,(we,ie)=>({element:we.element,height:ce[ie]})))(_,N);Co(F,ee=>{Ph(ee.element,ee.height)}),Co($r(_),ee=>{(ce=>{Ws(ce,"height")})(ee.element)});const V=dr(N,(ee,ce)=>ee+ce,0);Ph(f,V)},mn=(f,h)=>{Jm(f)||(_=>rm(_).bind(D=>{return N=D,F=["fixed","relative","empty"],pe.from(Dh.exec(N)).bind(V=>{const ee=Number(V[1]),ce=V[2];return((we,ie)=>Ke(ie,be=>Ke(Qm[be],fe=>we===fe)))(ce,F)?pe.some({value:ee,unit:ce}):pe.none()});var N,F}))(f).each(_=>{const D=_.value/2;bg(f,D,_.unit),bg(h,D,_.unit)})},bu=(f,h,y)=>{const _=di(f,h,1);y===1||_<=1?ds(f,h):Ln(f,h,Math.min(y,_))},c0=(f,h)=>y=>{const _=y.column+y.colspan-1,D=y.column;return _>=f&&D<h},am=(f,h,y)=>{const _=f[y].element,D=Me.fromTag("td");Te(D,Me.fromTag("br")),(h?Te:me)(_,D)},cp=Hr("col"),Ma=Hr("colgroup"),xu=f=>Fs(f)==="tr"||Ma(f),dp=f=>({element:f,colspan:di(f,"colspan",1),rowspan:di(f,"rowspan",1)}),af=f=>Nr(f,"scope").map(h=>h.substr(0,3)),nd=(f,h=dp)=>{const y=D=>{if(xu(D))return Ma((N={element:D}).element)?f.colgroup(N):f.row(N);{const F=D,V=(ee=>cp(ee.element)?f.col(ee):f.cell(ee))(h(F));return _=pe.some({item:F,replacement:V}),V}var N};let _=pe.none();return{getOrInit:(D,N)=>_.fold(()=>y(D),F=>N(D,F.item)?F.replacement:y(D))}},Nl=f=>h=>{const y=[],_=D=>{const N=f==="td"?{scope:null}:{},F=h.replace(D,f,N);return y.push({item:D,sub:F}),F};return{replaceOrInit:(D,N)=>{if(xu(D)||cp(D))return D;{const F=D;return((V,ee)=>Tn(y,ce=>ee(ce.item,V)))(F,N).fold(()=>_(F),V=>N(D,V.item)?V.sub:_(F))}}}},Ih=f=>({unmerge:h=>{const y=af(h);return y.each(_=>Ln(h,"scope",_)),()=>{const _=f.cell({element:h,colspan:1,rowspan:1});return Ws(_,"width"),Ws(h,"width"),y.each(D=>Ln(_,"scope",D)),_}},merge:h=>(Ws(h[0],"width"),(()=>{const y=vn(A(h,af));if(y.length===0)return pe.none();{const _=y[0],D=["row","col"];return Ke(y,N=>N!==_&&qo(D,N))?pe.none():pe.from(_)}})().fold(()=>ds(h[0],"scope"),y=>Ln(h[0],"scope",y+"group")),gt(h[0]))}),lf=nt([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),rx=(f,h,y)=>{const _=y.substring(0,y.length-f.length),D=parseFloat(_);return _===D.toString()?h(D):lf.invalid(y)},$i={...lf,from:f=>jo(f,"%")?rx("%",lf.percent,f):jo(f,"px")?rx("px",lf.pixels,f):lf.invalid(f)},Rl=(f,h,y)=>{const _=$i.from(y),D=ht(f,N=>N==="0px")?((N,F)=>{const V=N.fold(()=>gt(""),ee=>gt(ee/F+"px"),()=>gt(100/F+"%"));return Xt(F,V)})(_,f.length):((N,F,V)=>N.fold(()=>F,ee=>((ce,we,ie)=>{const be=ie/we;return A(ce,fe=>$i.from(fe).fold(()=>fe,Re=>Re*be+"px",Re=>Re/100*ie+"px"))})(F,V,ee),ee=>((ce,we)=>A(ce,ie=>$i.from(ie).fold(()=>ie,be=>be/we*100+"%",be=>be+"%")))(F,V)))(_,f,h);return g_(D)},ax=(f,h)=>f.length===0?h:dr(f,(y,_)=>$i.from(_).fold(gt(0),Tt,Tt)+y,0),Id=(f,h)=>$i.from(f).fold(gt(f),y=>y+h+"px",y=>y+h+"%"),g_=f=>{if(f.length===0)return f;const h=dr(f,(_,D)=>{const N=$i.from(D).fold(()=>({value:D,remainder:0}),F=>(V=>{const ee=Math.floor(V);return{value:ee+"px",remainder:V-ee}})(F),F=>({value:F+"%",remainder:0}));return{output:[N.value].concat(_.output),remainder:_.remainder+N.remainder}},{output:[],remainder:0}),y=h.output;return y.slice(0,y.length-1).concat([Id(y[y.length-1],Math.round(h.remainder))])},im=$i.from,cf=(f,h,y)=>{const _=Zn(f),D=_.all,N=$r(_),F=nc(_);h.each(V=>{const ee=im(V).fold(gt("px"),gt("px"),gt("%")),ce=Ad(f),we=((be,fe)=>Ol(be,fe,ap,mi))(_,f),ie=Rl(we,ce,V);Oa(_)?((be,fe,Re)=>{Co(fe,(De,ot)=>{const at=ax([be[ot]],ls());ha(De.element,"width",at+Re)})})(ie,F,ee):((be,fe,Re)=>{Co(fe,De=>{const ot=be.slice(De.column,De.colspan+De.column),at=ax(ot,ls());ha(De.element,"width",at+Re)})})(ie,N,ee),ha(f,"width",V)}),y.each(V=>{const ee=As(f),ce=((we,ie)=>Fi(we,ie,xg,mi))(_,f);((we,ie,be)=>{Co(be,fe=>{Ws(fe.element,"height")}),Co(ie,(fe,Re)=>{ha(fe.element,"height",we[Re])})})(Rl(ce,ee,V),D,N),ha(f,"height",V)})},cl=f=>rm(f).exists(h=>Mh.test(h)),Lh=f=>rm(f).exists(h=>gg.test(h)),wg=f=>rm(f).isNone();var h_=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],d0=()=>({up:gt({selector:za,closest:Rr,predicate:qm,all:Zm}),down:gt({selector:Va,predicate:Km}),styles:gt({get:El,getRaw:Wm,set:ha,remove:Ws}),attrs:gt({get:ia,set:Ln,remove:ds,copyTo:(f,h)=>{const y=jm(f);aa(h,y)}}),insert:gt({before:P,after:K,afterAll:an,append:Te,appendAll:Xn,prepend:me,wrap:jt}),remove:gt({unwrap:kl,remove:Qa}),create:gt({nu:Me.fromTag,clone:f=>Me.fromDom(f.dom.cloneNode(!1)),text:Me.fromText}),query:gt({comparePosition:(f,h)=>f.dom.compareDocumentPosition(h.dom),prevSibling:Xu,nextSibling:Kc}),property:gt({children:Fa,name:Fs,parent:ec,document:f=>ra(f).dom,isText:_l,isComment:_d,isElement:yr,isSpecial:f=>{const h=Fs(f);return qo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:f=>yr(f)?Nr(f,"lang"):pe.none(),getText:qs,setText:Td,isBoundary:f=>!!yr(f)&&(Fs(f)==="body"||qo(h_,Fs(f))),isEmptyTag:f=>!!yr(f)&&qo(["br","img","hr","input"],Fs(f)),isNonEditable:f=>yr(f)&&ia(f,"contenteditable")==="false"}),eq:Yn,is:Cc});const gr=(f,h)=>({item:f,mode:h}),D2=(f,h,y,_=Dc)=>f.property().parent(h).map(D=>gr(D,_)),Dc=(f,h,y,_=lm)=>y.sibling(f,h).map(D=>gr(D,_)),lm=(f,h,y,_=lm)=>{const D=f.property().children(h);return y.first(D).map(N=>gr(N,_))},df=[{current:D2,next:Dc,fallback:pe.none()},{current:Dc,next:lm,fallback:pe.some(D2)},{current:lm,next:lm,fallback:pe.some(Dc)}],uf=(f,h,y,_,D=df)=>Tn(D,N=>N.current===y).bind(N=>N.current(f,h,_,N.next).orThunk(()=>N.fallback.bind(F=>uf(f,h,F,_)))),dl=(f,h,y,_,D,N)=>uf(f,h,_,D).bind(F=>N(F.item)?pe.none():y(F.item)?pe.some(F.item):dl(f,F.item,y,F.mode,D,N)),cm=(f,h)=>({element:f,offset:h}),Cg=(f,h,y)=>f.property().isText(h)&&f.property().getText(h).trim().length===0||f.property().isComment(h)?y(h).bind(_=>Cg(f,_,y).orThunk(()=>pe.some(_))):pe.none(),Fh=(f,h)=>f.property().isText(h)?f.property().getText(h).length:f.property().children(h).length,zh=(f,h)=>{const y=Cg(f,h,f.query().prevSibling).getOr(h);if(f.property().isText(y))return cm(y,Fh(f,y));const _=f.property().children(y);return _.length>0?zh(f,_[_.length-1]):cm(y,Fh(f,y))},u0=zh,m0=d0(),O2=f=>h=>f.property().children(h).length===0,N2=(f,h,y,_)=>dl(f,h,y,Dc,{sibling:(D,N)=>D.query().prevSibling(N),first:D=>D.length>0?pe.some(D[D.length-1]):pe.none()},_),f0=(f,h,y,_)=>dl(f,h,y,Dc,{sibling:(D,N)=>D.query().nextSibling(N),first:D=>D.length>0?pe.some(D[0]):pe.none()},_),dm=d0(),ac=(f,h)=>((y,_,D)=>N2(y,_,O2(y),D))(dm,f,h),Ys=(f,h)=>((y,_,D)=>f0(y,_,O2(y),D))(dm,f,h),up=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],mp=(f,h,y,_)=>{const D=h(f,y);return dr(_,(N,F)=>{const V=h(f,F);return p0(f,N,V)},D)},p0=(f,h,y)=>h.bind(_=>y.filter(xe(f.eq,_))),g0=d0(),Hh=(f,h)=>((y,_,D)=>D.length>0?((N,F,V,ee)=>ee(N,F,V[0],V.slice(1)))(y,_,D,mp):pe.none())(g0,(y,_)=>f(_),h),h0=d0(),Vh=f=>((h,y)=>{const _=h.property().name(y);return qo(up,_)})(h0,f),um=f=>((h,y)=>{const _=h.property().name(y);return qo(["ol","ul"],_)})(h0,f),_g=f=>{const h=Hr("br"),y=D=>du(D).bind(N=>{const F=Kc(N).map(V=>!!Vh(V)||!!((ee,ce)=>qo(["br","img","hr","input"],ee.property().name(ce)))(h0,V)&&Fs(V)!=="img").getOr(!1);return ec(N).map(V=>{return F===!0||Fs(ee=V)==="li"||qm(ee,um).isSome()||h(N)||Vh(V)&&!Yn(D,V)?[]:[Me.fromTag("br")];var ee})}).getOr([]),_=(()=>{const D=Ae(f,N=>{const F=Fa(N);return(V=>ht(V,ee=>h(ee)||_l(ee)&&qs(ee).trim().length===0))(F)?[]:F.concat(y(N))});return D.length===0?[Me.fromTag("br")]:D})();Qu(f[0]),Xn(f[0],_)},Wt=f=>{ds(f,"width"),ds(f,"height")},pi=f=>{const h=sx(f);cf(f,pe.some(h),pe.none()),Wt(f)},$h=f=>{const h=(y=>Ad(y)+"px")(f);cf(f,pe.some(h),pe.none()),Wt(f)},fp=f=>{Ws(f,"width");const h=Qf(f),y=h.length>0?h:ui(f);Co(y,_=>{Ws(_,"width"),Wt(_)}),Wt(f)},Oc={scope:["row","col"]},kg=f=>()=>{const h=Me.fromTag("td",f.dom);return Te(h,Me.fromTag("br",f.dom)),h},b0=f=>()=>Me.fromTag("col",f.dom),vu=f=>()=>Me.fromTag("colgroup",f.dom),R2=f=>()=>Me.fromTag("tr",f.dom),yu=(f,h,y)=>{const _=((D,N)=>{const F=Wf(D,N),V=Fa(Sl(D));return Xn(F,V),F})(f,h);return Uo(y,(D,N)=>{D===null?ds(_,N):Ln(_,N,D)}),_},Uh=f=>f,Ld=(f,h,y)=>{const _=(D,N)=>{((F,V)=>{const ee=F.dom,ce=V.dom;Ju(ee)&&Ju(ce)&&(ce.style.cssText=ee.style.cssText)})(D.element,N),Ws(N,"height"),D.colspan!==1&&Ws(N,"width")};return{col:D=>{const N=Me.fromTag(Fs(D.element),h.dom);return _(D,N),f(D.element,N),N},colgroup:vu(h),row:R2(h),cell:D=>{const N=Me.fromTag(Fs(D.element),h.dom),F=y.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),V=F.length>0?((ee,ce,we)=>rl(ee).map(ie=>{const be=we.join(","),fe=Od(ie,be,Re=>Yn(Re,ee));return dr(fe,(Re,De)=>{const ot=Ed(De);return Te(Re,ot),ot},ce)}).getOr(ce))(D.element,N,F):N;return Te(V,Me.fromTag("br")),_(D,N),((ee,ce)=>{Uo(Oc,(we,ie)=>Nr(ee,ie).filter(be=>qo(we,be)).each(be=>Ln(ce,ie,be)))})(D.element,N),f(D.element,N),N},replace:yu,colGap:b0(h),gap:kg(h)}},_t=f=>({col:b0(f),colgroup:vu(f),row:R2(f),cell:kg(f),replace:Uh,colGap:b0(f),gap:kg(f)}),fn=f=>Zn(f).grid,ul=(f,h,y,_)=>{const D=Jt(f).rows;let N=!0;for(let F=0;F<D.length;F++)for(let V=0;V<kn(D[0]);V++){const ee=D[F],ce=fr(ee,V),we=y(ce.element,h);we&&!N?Zc(ee,V,jn(_(),!0,ce.isLocked)):we&&(N=!1)}return f},Ml=(f,h)=>({rowDelta:0,colDelta:kn(f[0])-kn(h[0])}),mf=(f,h)=>({rowDelta:f.length-h.length,colDelta:0}),ms=(f,h,y,_)=>{const D=h.section==="colgroup"?y.col:y.cell;return Xt(f,N=>jn(D(),!0,_(N)))},or=(f,h,y,_)=>{const D=f[f.length-1];return f.concat(Xt(h,()=>{const N=D.section==="colgroup"?y.colgroup:y.row,F=zr(D,N,Tt),V=ms(F.cells.length,F,y,ee=>Xo(_,ee.toString()));return Fo(F,V)}))},ix=(f,h,y,_)=>A(f,D=>{const N=ms(h,D,y,ne);return Dr(D,_,N)}),pp=(f,h,y)=>{const _=h.colDelta<0?ix:Tt,D=h.rowDelta<0?or:Tt,N=Ac(f),F=kn(f[0]),V=Ke(N,we=>we===F-1),ee=_(f,Math.abs(h.colDelta),y,V?F-1:F),ce=Ac(ee);return D(ee,Math.abs(h.rowDelta),y,dn(ce,kt))},ic=(f,h,y,_)=>{const D=xe(_,fr(f[h],y).element),N=f[h];return f.length>1&&kn(N)>1&&(y>0&&D(pa(N,y-1))||y<N.cells.length-1&&D(pa(N,y+1))||h>0&&D(pa(f[h-1],y))||h<f.length-1&&D(pa(f[h+1],y)))},Ts=(f,h,y)=>Bn(y,_=>_>=f.column&&_<=kn(h[0])+f.column),Zh=(f,h,y,_,D)=>{((ce,we,ie,be)=>{we>0&&we<ce[0].cells.length&&Co(ce,fe=>{const Re=fe.cells[we-1];let De=0;const ot=be();for(;fe.cells.length>we+De&&ie(Re.element,fe.cells[we+De].element);)Zc(fe,we+De,jn(ot,!0,fe.cells[we+De].isLocked)),De++})})(h,f,D,_.cell);const N=mf(y,h),F=pp(y,N,_),V=mf(h,F),ee=pp(h,V,_);return A(ee,(ce,we)=>Dr(ce,f,F[we].cells))},sd=(f,h,y,_,D)=>{((bt,yt,wt,Rt)=>{const Mt=Jt(bt).rows;if(yt>0&&yt<Mt.length){const to=((go,pn)=>St(go,(Bo,Ko)=>Ke(Bo,Io=>pn(Io.element,Ko.element))?Bo:Bo.concat([Ko]),[]))(Mt[yt-1].cells,wt);Co(to,go=>{let pn=pe.none();for(let Bo=yt;Bo<Mt.length;Bo++)for(let Ko=0;Ko<kn(Mt[0]);Ko++){const Io=Mt[Bo],qn=fr(Io,Ko);wt(qn.element,go.element)&&(pn.isNone()&&(pn=pe.some(Rt())),pn.each(Bt=>{Zc(Io,Ko,jn(Bt,!0,qn.isLocked))}))}})}})(h,f,D,_.cell);const N=Ac(h),F=Ml(h,y),V={...F,colDelta:F.colDelta-N.length},ee=pp(h,V,_),{cols:ce,rows:we}=Jt(ee),ie=Ac(ee),be=Ml(y,h),fe={...be,colDelta:be.colDelta+ie.length},Re=(ot=_,at=ie,A(y,bt=>St(at,(yt,wt)=>{const Rt=ms(1,bt,ot,kt)[0];return ou(yt,wt,Rt)},bt))),De=pp(Re,fe,_);var ot,at;return[...ce,...we.slice(0,f),...De,...we.slice(f,we.length)]},lx=(f,h,y,_,D)=>{const{rows:N,cols:F}=Jt(f),V=N.slice(0,h),ee=N.slice(h);return[...F,...V,((ce,we,ie,be)=>zr(ce,fe=>be(fe,ie),we))(N[y],(ce,we)=>h>0&&h<N.length&&_(pa(N[h-1],we),pa(N[h],we))?fr(N[h],we):jn(D(ce.element,_),!0,ce.isLocked),_,D),...ee]},lc=(f,h,y,_,D)=>A(f,N=>{const F=h>0&&h<kn(N)&&_(pa(N,h-1),pa(N,h)),V=((ee,ce,we,ie,be,fe,Re)=>{if(we!=="colgroup"&&ie)return fr(ee,ce);{const De=fr(ee,be);return jn(Re(De.element,fe),!0,!1)}})(N,h,N.section,F,y,_,D);return ou(N,h,V)}),x0=(f,h,y,_)=>((D,N,F,V)=>pa(D[N],F)!==void 0&&N>0&&V(pa(D[N-1],F),pa(D[N],F)))(f,h,y,_)||((D,N,F)=>N>0&&F(pa(D,N-1),pa(D,N)))(f[h],y,_),jh=(f,h,y,_)=>{const D=N=>(F=>F==="row"?(V=>om(V,"rowspan")>1)(h):Jm(h))(N)?`${N}group`:N;return f?ca(h)?D(y):null:_&&ca(h)?D(y==="row"?"col":"row"):null},cx=(f,h,y)=>jn(y(f.element,h),!0,f.isLocked),v0=(f,h,y,_,D,N,F)=>A(f,(V,ee)=>(ce=>{const we=ce.cells,ie=A(we,(be,fe)=>{if((Re=>Ke(h,De=>y(Re.element,De.element)))(be)){const Re=F(be,ee,fe)?D(be,y,_):be;return N(Re,ee,fe).each(De=>{var ot,at;ot=Re.element,at={scope:pe.from(De)},Uo(at,(bt,yt)=>{bt.fold(()=>{ds(ot,yt)},wt=>{Vr(ot.dom,yt,wt)})})}),Re}return be});return sa(ce.element,ie,ce.section,ce.isNew)})(V)),dx=(f,h,y)=>Ae(f,(_,D)=>x0(f,D,h,y)?[]:[fr(_,h)]),Wh=(f,h,y,_,D)=>{const N=Jt(f).rows,F=Ae(h,we=>dx(N,we,_)),V=A(N,we=>Jf(we.cells)),ee=((we,ie)=>ht(ie,Tt)&&Jf(we)?kt:(be,fe,Re)=>!(Fs(be.element)==="th"&&ie[fe]))(F,V);return v0(f,F,_,D,cx,((we,ie)=>(be,fe)=>pe.some(jh(we,be.element,"row",ie[fe])))(y,V),ee)},qh=(f,h,y,_)=>{const D=Jt(f).rows,N=A(h,F=>fr(D[F.row],F.column));return v0(f,N,y,_,cx,pe.none,kt)},ff=f=>St(f,(h,y)=>Ke(h,_=>_.column===y.column)?h:h.concat([y]),[]).sort((h,y)=>h.column-y.column),Gh=f=>Gm(f,!0),y0=f=>{ui(f).length===0&&Qa(f)},w0=(f,h)=>({grid:f,cursor:h}),Za=(f,h,y)=>{const _=((D,N,F)=>{var V,ee;const ce=Jt(D).rows;return pe.from((ee=(V=ce[N])===null||V===void 0?void 0:V.cells[F])===null||ee===void 0?void 0:ee.element).filter(Gh).orThunk(()=>(we=>z(we,ie=>z(ie.cells,be=>{const fe=be.element;return tl(Gh(fe),fe)})))(ce))})(f,h,y);return w0(f,_)},Bl=f=>St(f,(h,y)=>Ke(h,_=>_.row===y.row)?h:h.concat([y]),[]).sort((h,y)=>h.row-y.row),Ai=(f,h,y,_)=>{const D=h[0].row,N=Bl(h),F=dr(N,(V,ee)=>({grid:lx(V.grid,D,ee.row+V.delta,y,_.getOrInit),delta:V.delta+1}),{grid:f,delta:0}).grid;return Za(F,D,h[0].column)},M2=(f,h,y,_)=>{const D=Bl(h),N=D[D.length-1],F=N.row+N.rowspan,V=dr(D,(ee,ce)=>lx(ee,F,ce.row,y,_.getOrInit),f);return Za(V,F,h[0].column)},B2=(f,h,y,_)=>{const D=h.details,N=ff(D),F=N[0].column,V=dr(N,(ee,ce)=>({grid:lc(ee.grid,F,ce.column+ee.delta,y,_.getOrInit),delta:ee.delta+1}),{grid:f,delta:0}).grid;return Za(V,D[0].row,F)},gp=(f,h,y,_)=>{const D=h.details,N=D[D.length-1],F=N.column+N.colspan,V=ff(D),ee=dr(V,(ce,we)=>lc(ce,F,we.column,y,_.getOrInit),f);return Za(ee,D[0].row,F)},C0=(f,h,y,_)=>{const D=ff(h),N=A(D,V=>V.column),F=Wh(f,N,!0,y,_.replaceOrInit);return Za(F,h[0].row,h[0].column)},ux=(f,h,y,_)=>{const D=qh(f,h,y,_.replaceOrInit);return Za(D,h[0].row,h[0].column)},_0=(f,h,y,_)=>{const D=ff(h),N=A(D,V=>V.column),F=Wh(f,N,!1,y,_.replaceOrInit);return Za(F,h[0].row,h[0].column)},gi=(f,h,y,_)=>{const D=qh(f,h,y,_.replaceOrInit);return Za(D,h[0].row,h[0].column)},Ui=(f,h)=>(y,_,D,N,F)=>{const V=Bl(_),ee=A(V,we=>we.row),ce=((we,ie,be,fe,Re,De,ot)=>{const{cols:at,rows:bt}=Jt(we),yt=bt[ie[0]],wt=Ae(ie,Bo=>((Ko,Io,qn)=>{const Bt=Ko[Io];return Ae(Bt.cells,(da,Ba)=>x0(Ko,Io,Ba,qn)?[]:[da])})(bt,Bo,Re)),Rt=A(yt.cells,(Bo,Ko)=>Jf(dx(bt,Ko,Re))),Mt=[...bt];Co(ie,Bo=>{Mt[Bo]=ot.transformRow(bt[Bo],be)});const to=[...at,...Mt],go=((Bo,Ko)=>ht(Ko,Tt)&&Jf(Bo.cells)?kt:(Io,qn,Bt)=>!(Fs(Io.element)==="th"&&Ko[Bt]))(yt,Rt),pn=((Bo,Ko)=>(Io,qn,Bt)=>pe.some(jh(Bo,Io.element,"col",Ko[Bt])))(fe,Rt);return v0(to,wt,Re,De,ot.transformCell,pn,go)})(y,ee,f,h,D,N.replaceOrInit,F);return Za(ce,_[0].row,_[0].column)},Nc=Ui("thead",!0),Sg=Ui("tbody",!1),k0=Ui("tfoot",!1),P2=(f,h,y,_)=>{const D=ff(h.details),N=((V,ee)=>Ae(V,ce=>{const we=ce.cells,ie=dr(ee,(be,fe)=>fe>=0&&fe<be.length?be.slice(0,fe).concat(be.slice(fe+1)):be,we);return ie.length>0?[sa(ce.element,ie,ce.section,ce.isNew)]:[]}))(f,A(D,V=>V.column)),F=N.length>0?N[0].cells.length-1:0;return Za(N,D[0].row,Math.min(D[0].column,F))},S0=(f,h,y,_)=>{const D=Bl(h),N=((V,ee,ce)=>{const{rows:we,cols:ie}=Jt(V);return[...ie,...we.slice(0,ee),...we.slice(ce+1)]})(f,D[0].row,D[D.length-1].row),F=Math.max(Jt(N).rows.length-1,0);return Za(N,Math.min(h[0].row,F),h[0].column)},mx=(f,h,y,_)=>{const D=h.cells;_g(D);const N=((F,V,ee,ce)=>{const we=Jt(F).rows;if(we.length===0)return F;for(let ie=V.startRow;ie<=V.finishRow;ie++)for(let be=V.startCol;be<=V.finishCol;be++){const fe=we[ie],Re=fr(fe,be).isLocked;Zc(fe,be,jn(ce(),!1,Re))}return F})(f,h.bounds,0,_.merge(D));return w0(N,pe.from(D[0]))},b_=(f,h,y,_)=>{const D=dr(h,(N,F)=>ul(N,F,y,_.unmerge(F)),f);return w0(D,pe.from(h[0]))},fx=(f,h,y,_)=>{const D=((V,ee)=>{const ce=Zn(V);return ip(ce,ee,!0)})(h.clipboard,h.generators);var N,F;return((V,ee,ce,we,ie)=>{const be=Ac(ee),fe=((at,bt,yt)=>{const wt=kn(bt[0]),Rt=Jt(bt).cols.length+at.row,Mt=Xt(wt-at.column,to=>to+at.column);return{row:Rt,column:Tn(Mt,to=>ht(yt,go=>go!==to)).getOr(wt-1)}})(V,ee,be),Re=Jt(ce).rows,De=Ts(fe,Re,be);return((at,bt,yt)=>{if(at.row>=bt.length||at.column>kn(bt[0]))return js.error("invalid start address out of table bounds, row: "+at.row+", column: "+at.column);const wt=bt.slice(at.row),Rt=wt[0].cells.slice(at.column),Mt=kn(yt[0]),to=yt.length;return js.value({rowDelta:wt.length-to,colDelta:Rt.length-Mt})})(fe,ee,Re).map(at=>{const bt={...at,colDelta:at.colDelta-De.length},yt=pp(ee,bt,we),wt=Ac(yt),Rt=Ts(fe,Re,wt);return((Mt,to,go,pn,Bo,Ko)=>{const Io=Mt.row,qn=Mt.column,Bt=Io+go.length,da=qn+kn(go[0])+Ko.length,Ba=dn(Ko,kt);for(let Hl=Io;Hl<Bt;Hl++){let Zd=0;for(let Wr=qn;Wr<da;Wr++){if(Ba[Wr]){Zd++;continue}ic(to,Hl,Wr,Bo)&&ul(to,pa(to[Hl],Wr),Bo,pn.cell);const qi=Wr-qn-Zd,yf=fr(go[Hl-Io],qi),Ye=yf.element,wf=pn.replace(Ye);Zc(to[Hl],Wr,jn(wf,!0,yf.isLocked))}}return to})(fe,yt,Re,we,ie,Rt)})})((N=h.row,F=h.column,{row:N,column:F}),f,D,h.generators,y).fold(()=>w0(f,pe.some(h.element)),V=>Za(V,h.row,h.column))},hp=(f,h,y)=>{const _=((N,F)=>nm(N,()=>F))(f,y.section),D=rp(_);return ip(D,h,!0)},I2=(f,h,y,_)=>{const D=Jt(f).rows,N=h.cells[0].column,F=D[h.cells[0].row],V=hp(h.clipboard,h.generators,F),ee=Zh(N,f,V,h.generators,y);return Za(ee,h.cells[0].row,h.cells[0].column)},px=(f,h,y,_)=>{const D=Jt(f).rows,N=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,F=D[h.cells[0].row],V=hp(h.clipboard,h.generators,F),ee=Zh(N,f,V,h.generators,y);return Za(ee,h.cells[0].row,N)},Kh=(f,h,y,_)=>{const D=Jt(f).rows,N=h.cells[0].row,F=D[N],V=hp(h.clipboard,h.generators,F),ee=sd(N,f,V,h.generators,y);return Za(ee,h.cells[0].row,h.cells[0].column)},es=(f,h,y,_)=>{const D=Jt(f).rows,N=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,F=D[h.cells[0].row],V=hp(h.clipboard,h.generators,F),ee=sd(N,f,V,h.generators,y);return Za(ee,N,h.cells[0].column)},rd=(f,h,y,_)=>((D,N,F,V)=>{const ee=rp(N),ce=V.getWidths(ee,V);_s(ee,ce,V)})(0,h,0,_.sizing),wu=(f,h,y,_)=>((D,N,F,V,ee)=>{const ce=rp(N),we=V.getWidths(ce,V),ie=V.pixelWidth(),{newSizes:be,delta:fe}=ee.calcRedestributedWidths(we,ie,F.pixelDelta,V.isRelative);_s(ce,be,V),V.adjustTableWidth(fe)})(0,h,y,_.sizing,_.resize),gx=(f,h)=>Ke(h,y=>y.column===0&&y.isLocked),Yh=(f,h)=>Ke(h,y=>y.column+y.colspan>=f.grid.columns&&y.isLocked),E0=(f,h)=>{const y=ve(f),_=ff(h);return St(_,(D,N)=>D+y[N.column].map(Vo).getOr(0),0)},A0=f=>(h,y)=>Ra(h,y).filter(_=>!(f?gx:Yh)(h,_)).map(_=>({details:_,pixelDelta:E0(h,_)})),hx=(f,h)=>lp(f,h).map(y=>({details:y,pixelDelta:-E0(f,y)})),bx=f=>(h,y)=>l0(h,y).filter(_=>!(f?gx:Yh)(h,_.cells)),xx=Nl("th"),ml=Nl("td"),vx=(f,h,y,_)=>Zr(Ai,Ra,Ne,Ne,nd,f,h,y,_),ja=(f,h,y,_)=>Zr(M2,Ra,Ne,Ne,nd,f,h,y,_),pf=(f,h,y,_)=>Zr(B2,A0(!0),wu,Ne,nd,f,h,y,_),Xh=(f,h,y,_)=>Zr(gp,A0(!1),wu,Ne,nd,f,h,y,_),yx=(f,h,y,_)=>Zr(P2,hx,wu,y0,nd,f,h,y,_),T0=(f,h,y,_)=>Zr(S0,Ra,Ne,y0,nd,f,h,y,_),wx=(f,h,y,_)=>Zr(C0,lp,Ne,Ne,xx,f,h,y,_),L2=(f,h,y,_)=>Zr(_0,lp,Ne,Ne,ml,f,h,y,_),F2=(f,h,y,_)=>Zr(Nc,Ra,Ne,Ne,xx,f,h,y,_),D0=(f,h,y,_)=>Zr(Sg,Ra,Ne,Ne,ml,f,h,y,_),z2=(f,h,y,_)=>Zr(k0,Ra,Ne,Ne,ml,f,h,y,_),va=(f,h,y,_)=>Zr(ux,lp,Ne,Ne,xx,f,h,y,_),Fd=(f,h,y,_)=>Zr(gi,lp,Ne,Ne,ml,f,h,y,_),H2=(f,h,y,_)=>Zr(mx,Ie,rd,Ne,Ih,f,h,y,_),V2=(f,h,y,_)=>Zr(b_,ti,rd,Ne,Ih,f,h,y,_),$2=(f,h,y,_)=>Zr(fx,tr,rd,Ne,nd,f,h,y,_),mm=(f,h,y,_)=>Zr(I2,bx(!0),Ne,Ne,nd,f,h,y,_),Cx=(f,h,y,_)=>Zr(px,bx(!1),Ne,Ne,nd,f,h,y,_),U2=(f,h,y,_)=>Zr(Kh,l0,Ne,Ne,nd,f,h,y,_),jr=(f,h,y,_)=>Zr(es,l0,Ne,Ne,nd,f,h,y,_),Br=(f,h)=>{const y=Zn(f);return Ra(y,h).bind(_=>{const D=_[_.length-1],N=_[0].column,F=D.column+D.colspan,V=je(A(y.all,ee=>Bn(ee.cells,ce=>ce.column>=N&&ce.column<F)));return tp(V)}).getOr("")},Wa=(f,h)=>{const y=Zn(f);return Ra(y,h).bind(tp).getOr("")},oi=(f,h)=>{const y=Zn(f);return Ra(y,h).bind(_=>{const D=_[_.length-1],N=_[0].row,F=D.row+D.rowspan;return(V=>{const ee=A(V,ie=>Nh(ie).type),ce=qo(ee,"header"),we=qo(ee,"footer");if(ce||we){const ie=qo(ee,"body");return!ce||ie||we?ce||ie||!we?pe.none():pe.some("footer"):pe.some("header")}return pe.some("body")})(y.all.slice(N,F))}).getOr("")},ya=(f,h)=>{const y=h.column,_=h.column+h.colspan-1,D=h.row,N=h.row+h.rowspan-1;return y<=f.finishCol&&_>=f.startCol&&D<=f.finishRow&&N>=f.startRow},Pr=(f,h)=>h.column>=f.startCol&&h.column+h.colspan-1<=f.finishCol&&h.row>=f.startRow&&h.row+h.rowspan-1<=f.finishRow,_x=(f,h,y)=>{const _=oc(f,h,Yn),D=oc(f,y,Yn);return _.bind(N=>D.map(F=>{return V=N,ee=F,{startRow:Math.min(V.row,ee.row),startCol:Math.min(V.column,ee.column),finishRow:Math.max(V.row+V.rowspan-1,ee.row+ee.rowspan-1),finishCol:Math.max(V.column+V.colspan-1,ee.column+ee.colspan-1)};var V,ee}))},kx=(f,h,y)=>_x(f,h,y).map(_=>{const D=of(f,xe(ya,_));return A(D,N=>N.element)}),fm=(f,h)=>oc(f,h,(y,_)=>Es(_,y)).map(y=>y.element),ni=(f,h,y)=>{const _=Jh(f);return kx(_,h,y)},Qh=(f,h,y,_,D)=>{const N=Jh(f),F=Yn(f,y)?pe.some(h):fm(N,h),V=Yn(f,D)?pe.some(_):fm(N,_);return F.bind(ee=>V.bind(ce=>kx(N,ee,ce)))},Jh=Zn,Sx={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},O0=(f,h,y,_)=>Xt(f,D=>((N,F,V,ee)=>{const ce=Me.fromTag("tr");for(let we=0;we<N;we++){const ie=Me.fromTag(ee<F||we<V?"th":"td");we<V&&Ln(ie,"scope","row"),ee<F&&Ln(ie,"scope","col"),Te(ie,Me.fromTag("br")),Te(ce,ie)}return ce})(h,y,_,D)),Pl=f=>{let h=[];return{bind:y=>{if(y===void 0)throw new Error("Event bind error: undefined handler");h.push(y)},unbind:y=>{h=Bn(h,_=>_!==y)},trigger:(...y)=>{const _={};Co(f,(D,N)=>{_[D]=y[N]}),Co(h,D=>{D(_)})}}},pm=f=>({registry:_i(f,h=>({bind:h.bind,unbind:h.unbind})),trigger:_i(f,h=>h.trigger)}),Cu=vc(["compare","extract","mutate","sink"]),Ex=vc(["element","start","stop","destroy"]),Ax=vc(["forceDrop","drop","move","delayDrop"]),Tx=()=>{const f=(()=>{const _=pm({move:Pl(["info"])});return{onEvent:Ne,reset:Ne,events:_.registry}})(),h=(()=>{let _=pe.none();const D=pm({move:Pl(["info"])});return{onEvent:(N,F)=>{F.extract(N).each(V=>{((ce,we)=>{const ie=_.map(be=>ce.compare(be,we));return _=pe.some(we),ie})(F,V).each(ce=>{D.trigger.move(ce)})})},reset:()=>{_=pe.none()},events:D.registry}})();let y=f;return{on:()=>{y.reset(),y=h},off:()=>{y.reset(),y=f},isOn:()=>y===h,onEvent:(_,D)=>{y.onEvent(_,D)},events:h.events}},N0=Ss("ephox-dragster").resolve;var e1=Cu({compare:(f,h)=>bo(h.left-f.left,h.top-f.top),extract:f=>pe.some(bo(f.x,f.y)),sink:(f,h)=>{const y=(V=>{const ee={layerClass:N0("blocker"),...V},ce=Me.fromTag("div");return Ln(ce,"role","presentation"),Jn(ce,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ei(ce,N0("blocker")),Ei(ce,ee.layerClass),{element:gt(ce),destroy:()=>{Qa(ce)}}})(h),_=cs(y.element(),"mousedown",f.forceDrop),D=cs(y.element(),"mouseup",f.drop),N=cs(y.element(),"mousemove",f.move),F=cs(y.element(),"mouseout",f.delayDrop);return Ex({element:y.element,start:V=>{Te(V,y.element())},stop:()=>{Qa(y.element())},destroy:()=>{y.destroy(),D.unbind(),N.unbind(),F.unbind(),_.unbind()}})},mutate:(f,h)=>{f.mutate(h.left,h.top)}});const t1=Ss("ephox-snooker").resolve,Eg=t1("resizer-bar"),o1=t1("resizer-rows"),Ag=t1("resizer-cols"),_u=f=>{const h=Va(f.parent(),"."+Eg);Co(h,Qa)},Zi=(f,h,y)=>{const _=f.origin();Co(h,D=>{D.each(N=>{const F=y(_,N);Ei(F,Eg),Te(f.parent(),F)})})},Il=(f,h,y,_,D)=>{const N=wr(y),F=h.isResizable,V=_.length>0?pu.positions(_,y):[],ee=V.length>0?((ie,be)=>Ae(ie.all,(fe,Re)=>be(fe.element)?[Re]:[]))(f,F):[];((ie,be,fe,Re)=>{Zi(ie,be,(De,ot)=>{const at=((bt,yt,wt,Rt)=>{const Mt=Me.fromTag("div");return Jn(Mt,{position:"absolute",left:yt+"px",top:wt-3.5+"px",height:"7px",width:Rt+"px"}),aa(Mt,{"data-mce-bogus":"all","data-row":bt,role:"presentation"}),Mt})(ot.row,fe.left-De.left,ot.y-De.top,Re);return Ei(at,o1),at})})(h,Bn(V,(ie,be)=>Ke(ee,fe=>be===fe)),N,Vo(y));const ce=D.length>0?pg.positions(D,y):[],we=ce.length>0?((ie,be)=>{const fe=[];return Xt(ie.grid.columns,Re=>{zs(ie,Re).map(De=>De.element).forall(be)&&fe.push(Re)}),Bn(fe,Re=>{const De=of(ie,ot=>ot.column===Re);return ht(De,ot=>be(ot.element))})})(f,F):[];((ie,be,fe,Re)=>{Zi(ie,be,(De,ot)=>{const at=((bt,yt,wt,Rt,Mt)=>{const to=Me.fromTag("div");return Jn(to,{position:"absolute",left:yt-3.5+"px",top:wt+"px",height:Mt+"px",width:"7px"}),aa(to,{"data-mce-bogus":"all","data-column":bt,role:"presentation"}),to})(ot.col,ot.x-De.left,fe.top-De.top,0,Re);return Ei(at,Ag),at})})(h,Bn(ce,(ie,be)=>Ke(we,fe=>be===fe)),N,Bi(y))},n1=(f,h)=>{if(_u(f),f.isResizable(h)){const y=Zn(h),_=co(y),D=ve(y);Il(y,f,h,_,D)}},R0=(f,h)=>{const y=Va(f.parent(),"."+Eg);Co(y,h)},Z2=f=>{R0(f,h=>{ha(h,"display","none")})},Dx=f=>{R0(f,h=>{ha(h,"display","block")})},Ox=t1("resizer-bar-dragging"),gf=f=>{const h=(()=>{const ie=pm({drag:Pl(["xDelta","yDelta","target"])});let be=pe.none();const fe=(()=>{const Re=pm({drag:Pl(["xDelta","yDelta"])});return{mutate:(De,ot)=>{Re.trigger.drag(De,ot)},events:Re.registry}})();return fe.events.drag.bind(Re=>{be.each(De=>{ie.trigger.drag(Re.xDelta,Re.yDelta,De)})}),{assign:Re=>{be=pe.some(Re)},get:()=>be,mutate:fe.mutate,events:ie.registry}})(),y=((ie,be={})=>{var fe;return((Re,De,ot)=>{let at=!1;const bt=pm({start:Pl([]),stop:Pl([])}),yt=Tx(),wt=()=>{to.stop(),yt.isOn()&&(yt.off(),bt.trigger.stop())},Rt=(go=>{let pn=null;const Bo=()=>{He(pn)||(clearTimeout(pn),pn=null)};return{cancel:Bo,throttle:(...Ko)=>{Bo(),pn=setTimeout(()=>{pn=null,go.apply(null,Ko)},200)}}})(wt);yt.events.move.bind(go=>{De.mutate(Re,go.info)});const Mt=go=>(...pn)=>{at&&go.apply(null,pn)},to=De.sink(Ax({forceDrop:wt,drop:Mt(wt),move:Mt(go=>{Rt.cancel(),yt.onEvent(go,De)}),delayDrop:Mt(Rt.throttle)}),ot);return{element:to.element,go:go=>{to.start(go),yt.on(),bt.trigger.start()},on:()=>{at=!0},off:()=>{at=!1},isActive:()=>at,destroy:()=>{to.destroy()},events:bt.registry}})(ie,(fe=be.mode)!==null&&fe!==void 0?fe:e1,be)})(h,{});let _=pe.none();const D=(ie,be)=>pe.from(ia(ie,be));h.events.drag.bind(ie=>{D(ie.target,"data-row").each(be=>{const fe=ef(ie.target,"top");ha(ie.target,"top",fe+ie.yDelta+"px")}),D(ie.target,"data-column").each(be=>{const fe=ef(ie.target,"left");ha(ie.target,"left",fe+ie.xDelta+"px")})});const N=(ie,be)=>ef(ie,be)-di(ie,"data-initial-"+be,0);y.events.stop.bind(()=>{h.get().each(ie=>{_.each(be=>{D(ie,"data-row").each(fe=>{const Re=N(ie,"top");ds(ie,"data-initial-top"),we.trigger.adjustHeight(be,Re,parseInt(fe,10))}),D(ie,"data-column").each(fe=>{const Re=N(ie,"left");ds(ie,"data-initial-left"),we.trigger.adjustWidth(be,Re,parseInt(fe,10))}),n1(f,be)})})});const F=(ie,be)=>{we.trigger.startAdjust(),h.assign(ie),Ln(ie,"data-initial-"+be,ef(ie,be)),Ei(ie,Ox),ha(ie,"opacity","0.2"),y.go(f.dragContainer())},V=cs(f.parent(),"mousedown",ie=>{var be;be=ie.target,Dd(be,o1)&&F(ie.target,"top"),(fe=>Dd(fe,Ag))(ie.target)&&F(ie.target,"left")}),ee=ie=>Yn(ie,f.view()),ce=cs(f.view(),"mouseover",ie=>{var be;(be=ie.target,Rr(be,"table",ee).filter(Gm)).fold(()=>{Yc(ie.target)&&!(fe=>Dd(fe,"ephox-snooker-resizer-bar")||Dd(fe,"ephox-dragster-blocker"))(ie.target)&&_u(f)},fe=>{y.isActive()&&(_=pe.some(fe),n1(f,fe))})}),we=pm({adjustHeight:Pl(["table","delta","row"]),adjustWidth:Pl(["table","delta","column"]),startAdjust:Pl([])});return{destroy:()=>{V.unbind(),ce.unbind(),y.destroy(),_u(f)},refresh:ie=>{n1(f,ie)},on:y.on,off:y.off,hideBars:xe(Z2,f),showBars:xe(Dx,f),events:we.registry}},hf=f=>h=>h.options.get(f),Nx="100%",gm=f=>{var h;const y=f.dom,_=(h=y.getParent(f.selection.getStart(),y.isBlock))!==null&&h!==void 0?h:f.getBody();return cg(Me.fromDom(_))+"px"},M0=f=>pe.from(f.options.get("table_clone_elements")),zd=hf("table_header_type"),Tg=hf("table_column_resizing"),j2=f=>Tg(f)==="preservetable",hi=f=>Tg(f)==="resizetable",Rc=hf("table_sizing_mode"),Ti=f=>Rc(f)==="relative",Dg=f=>Rc(f)==="fixed",cc=f=>Rc(f)==="responsive",Qo=hf("table_resize_bars"),oo=hf("table_style_by_css"),bp=hf("table_merge_content_on_paste"),Rx=f=>{const h=f.options,y=h.get("table_default_attributes");return h.isSet("table_default_attributes")?y:((_,D)=>cc(_)||oo(_)?D:Dg(_)?{...D,width:gm(_)}:{...D,width:Nx})(f,y)},Mx=hf("table_use_colgroups"),Og=f=>Me.fromDom(f.getBody()),Wn=f=>h=>Yn(h,Og(f)),bf=f=>{ds(f,"data-mce-style");const h=y=>ds(y,"data-mce-style");Co(ui(f),h),Co(Qf(f),h),Co(Bd(f),h)},B0=f=>Me.fromDom(f.selection.getStart()),et=f=>f.getBoundingClientRect().width,xp=f=>f.getBoundingClientRect().height,s1=f=>(h,y)=>{const _=h.dom.getStyle(y,f)||h.dom.getAttrib(y,f);return pe.from(_).filter(Lr)},ku=s1("width"),Bx=s1("height"),Ll=f=>kc(f,Hr("table")).exists(Gm),r1=f=>za(f,"table"),hm=(f,h,y)=>{const _=D=>N=>y!==void 0&&y(N)||Yn(N,D);return Yn(f,h)?pe.some({boxes:pe.some([f]),start:f,finish:h}):r1(f).bind(D=>r1(h).bind(N=>{if(Yn(D,N))return pe.some({boxes:ni(D,f,h),start:f,finish:h});if(Es(D,N)){const F=Od(h,"td,th",_(D)),V=F.length>0?F[F.length-1]:h;return pe.some({boxes:Qh(D,f,D,h,N),start:f,finish:V})}if(Es(N,D)){const F=Od(f,"td,th",_(N)),V=F.length>0?F[F.length-1]:f;return pe.some({boxes:Qh(N,f,D,h,N),start:f,finish:V})}return((F,V)=>((ee,ce,we,ie=ne)=>{const be=[ce].concat(ee.up().all(ce)),fe=[we].concat(ee.up().all(we)),Re=bt=>Ci(bt,ie).fold(()=>bt,yt=>bt.slice(0,yt+1)),De=Re(be),ot=Re(fe),at=Tn(De,bt=>Ke(ot,((yt,wt)=>xe(yt.eq,wt))(ee,bt)));return{firstpath:De,secondpath:ot,shared:at}})(g0,F,V,void 0))(f,h).shared.bind(F=>Rr(F,"table",y).bind(V=>{const ee=Od(h,"td,th",_(V)),ce=ee.length>0?ee[ee.length-1]:h,we=Od(f,"td,th",_(V)),ie=we.length>0?we[we.length-1]:f;return pe.some({boxes:Qh(V,f,D,h,N),start:ie,finish:ce})}))}))},ts=(f,h)=>{const y=Va(f,h);return y.length>0?pe.some(y):pe.none()},ad=(f,h,y)=>Kf(f,h).bind(_=>Kf(f,y).bind(D=>Hh(r1,[_,D]).map(N=>({first:_,last:D,table:N})))),Ng=(f,h,y,_,D)=>((N,F)=>Tn(N,V=>Cs(V,F)))(f,D).bind(N=>((F,V,ee)=>la(F).bind(ce=>((we,ie,be,fe)=>oc(we,ie,Yn).bind(Re=>{const De=be>0?Re.row+Re.rowspan-1:Re.row,ot=fe>0?Re.column+Re.colspan-1:Re.column;return Tc(we,De+be,ot+fe).map(at=>at.element)}))(Jh(ce),F,V,ee)))(N,h,y).bind(F=>((V,ee)=>za(V,"table").bind(ce=>Kf(ce,ee).bind(we=>hm(we,V).bind(ie=>ie.boxes.map(be=>({boxes:be,start:ie.start,finish:ie.finish}))))))(F,_))),Hd=(f,h)=>ts(f,h),fl=(f,h,y)=>ad(f,h,y).bind(_=>{const D=ee=>Yn(f,ee),N="thead,tfoot,tbody,table",F=za(_.first,N,D),V=za(_.last,N,D);return F.bind(ee=>V.bind(ce=>Yn(ee,ce)?((we,ie,be)=>((fe,Re,De)=>_x(fe,Re,De).bind(ot=>((at,bt)=>{let yt=!0;const wt=xe(Pr,bt);for(let Rt=bt.startRow;Rt<=bt.finishRow;Rt++)for(let Mt=bt.startCol;Mt<=bt.finishCol;Mt++)yt=yt&&Tc(at,Rt,Mt).exists(wt);return yt?pe.some(bt):pe.none()})(fe,ot)))(Jh(we),ie,be))(_.table,_.first,_.last):pe.none()))}),a1=Tt,x_=f=>{const h=(y,_)=>Nr(y,_).exists(D=>parseInt(D,10)>1);return f.length>0&&ht(f,y=>h(y,"rowspan")||h(y,"colspan"))?pe.some(f):pe.none()},Px=(f,h,y)=>h.length<=1?pe.none():fl(f,y.firstSelectedSelector,y.lastSelectedSelector).map(_=>({bounds:_,cells:h})),pt=(f,h)=>({selection:f,kill:h}),Ds=()=>({tag:"none"}),qa=f=>({tag:"multiple",elements:f}),v_=f=>({tag:"single",element:f}),Ix=(f,h,y,_)=>({start:Ro.on(f,h),finish:Ro.on(y,_)}),i1=(f,h)=>{const y=Is(f,h);return Pi(Me.fromDom(y.startContainer),y.startOffset,Me.fromDom(y.endContainer),y.endOffset)},vo=Ix,Vd=(f,h,y,_,D)=>Yn(y,_)?pe.none():hm(y,_,h).bind(N=>{const F=N.boxes.getOr([]);return F.length>1?(D(f,F,N.start,N.finish),pe.some(pt(pe.some(vo(y,0,y,sl(y))),!0))):pe.none()}),P0=nt([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),y_=f=>Rr(f,"tr"),Rg={...P0,verify:(f,h,y,_,D,N,F)=>Rr(_,"td,th",F).bind(V=>Rr(h,"td,th",F).map(ee=>Yn(V,ee)?Yn(_,V)&&sl(V)===D?N(ee):P0.none("in same cell"):Hh(y_,[V,ee]).fold(()=>((ce,we,ie)=>{const be=ce.getRect(we),fe=ce.getRect(ie);return fe.right>be.left&&fe.left<be.right})(f,ee,V)?P0.success():N(ee),ce=>N(ee)))).getOr(P0.none("default")),cata:(f,h,y,_,D)=>f.fold(h,y,_,D)},mo=Hr("br"),l1=(f,h,y)=>h(f,y).bind(_=>_l(_)&&qs(_).trim().length===0?l1(_,h,y):pe.some(_)),Su=(f,h,y,_)=>((D,N)=>Z(D,N).filter(mo).orThunk(()=>Z(D,N-1).filter(mo)))(h,y).bind(D=>_.traverse(D).fold(()=>l1(D,_.gather,f).map(_.relative),N=>(F=>ec(F).bind(V=>{const ee=Fa(V);return((ce,we)=>Ci(ce,xe(Yn,we)))(ee,F).map(ce=>((we,ie,be,fe)=>({parent:we,children:ie,element:be,index:fe}))(V,ee,F,ce))}))(N).map(F=>Ro.on(F.parent,F.index)))),id=(f,h)=>({left:f.left,top:f.top+h,right:f.right,bottom:f.bottom+h}),Mg=(f,h)=>({left:f.left,top:f.top-h,right:f.right,bottom:f.bottom-h}),Fl=(f,h,y)=>({left:f.left+h,top:f.top+y,right:f.right+h,bottom:f.bottom+y}),Bg=f=>({left:f.left,top:f.top,right:f.right,bottom:f.bottom}),c1=(f,h)=>pe.some(f.getRect(h)),I0=(f,h,y)=>yr(h)?c1(f,h).map(Bg):_l(h)?((_,D,N)=>N>=0&&N<sl(D)?_.getRangedRect(D,N,D,N+1):N>0?_.getRangedRect(D,N-1,D,N):pe.none())(f,h,y).map(Bg):pe.none(),Pg=(f,h)=>yr(h)?c1(f,h).map(Bg):_l(h)?f.getRangedRect(h,0,h,sl(h)).map(Bg):pe.none(),Di=nt([{none:[]},{retry:["caret"]}]),Oi=(f,h,y)=>kc(h,Vh).fold(ne,_=>Pg(f,_).exists(D=>((N,F)=>N.left<F.left||Math.abs(F.right-N.left)<1||N.left>F.right)(y,D))),d1={point:f=>f.bottom,adjuster:(f,h,y,_,D)=>{const N=id(D,5);return Math.abs(y.bottom-_.bottom)<1||y.top>D.bottom?Di.retry(N):y.top===D.bottom?Di.retry(id(D,1)):Oi(f,h,D)?Di.retry(Fl(N,5,0)):Di.none()},move:id,gather:Ys},bm=(f,h,y,_,D)=>D===0?pe.some(_):((N,F,V)=>N.elementFromPoint(F,V).filter(ee=>Fs(ee)==="table").isSome())(f,_.left,h.point(_))?((N,F,V,ee,ce)=>bm(N,F,V,F.move(ee,5),ce))(f,h,y,_,D-1):f.situsFromPoint(_.left,h.point(_)).bind(N=>N.start.fold(pe.none,F=>Pg(f,F).bind(V=>h.adjuster(f,F,V,y,_).fold(pe.none,ee=>bm(f,h,y,ee,D-1))).orThunk(()=>pe.some(_)),pe.none)),Jo=(f,h,y)=>{const _=f.move(y,5),D=bm(h,f,y,_,100).getOr(_);return((N,F,V)=>N.point(F)>V.getInnerHeight()?pe.some(N.point(F)-V.getInnerHeight()):N.point(F)<0?pe.some(-N.point(F)):pe.none())(f,D,h).fold(()=>h.situsFromPoint(D.left,f.point(D)),N=>(h.scrollBy(0,N),h.situsFromPoint(D.left,f.point(D)-N)))},ji={tryUp:xe(Jo,{point:f=>f.top,adjuster:(f,h,y,_,D)=>{const N=Mg(D,5);return Math.abs(y.top-_.top)<1||y.bottom<D.top?Di.retry(N):y.bottom===D.top?Di.retry(Mg(D,1)):Oi(f,h,D)?Di.retry(Fl(N,5,0)):Di.none()},move:Mg,gather:ac}),tryDown:xe(Jo,d1),getJumpSize:gt(5)},$d=(f,h,y)=>f.getSelection().bind(_=>((D,N,F,V)=>(mo(N)?((ce,we,ie)=>ie.traverse(we).orThunk(()=>l1(we,ie.gather,ce)).map(ie.relative))(D,N,V):Su(D,N,F,V)).map(ce=>({start:ce,finish:ce})))(h,_.finish,_.foffset,y).fold(()=>pe.some(cm(_.finish,_.foffset)),D=>{const N=f.fromSitus(D);return F=Rg.verify(f,_.finish,_.foffset,N.finish,N.foffset,y.failure,h),Rg.cata(F,V=>pe.none(),()=>pe.none(),V=>pe.some(cm(V,0)),V=>pe.some(cm(V,sl(V))));var F})),vp=(f,h,y,_,D,N)=>N===0?pe.none():W2(f,h,y,_,D).bind(F=>{const V=f.fromSitus(F),ee=Rg.verify(f,y,_,V.finish,V.foffset,D.failure,h);return Rg.cata(ee,()=>pe.none(),()=>pe.some(F),ce=>Yn(y,ce)&&_===0?yp(f,y,_,Mg,D):vp(f,h,ce,0,D,N-1),ce=>Yn(y,ce)&&_===sl(ce)?yp(f,y,_,id,D):vp(f,h,ce,sl(ce),D,N-1))}),yp=(f,h,y,_,D)=>I0(f,h,y).bind(N=>wn(f,D,_(N,ji.getJumpSize()))),wn=(f,h,y)=>{const _=Ea().browser;return _.isChromium()||_.isSafari()||_.isFirefox()?h.retry(f,y):pe.none()},W2=(f,h,y,_,D)=>I0(f,y,_).bind(N=>wn(f,D,N)),wp=(f,h,y,_,D)=>Rr(_,"td,th",h).bind(N=>Rr(N,"table",h).bind(F=>((V,ee)=>qm(V,ce=>ec(ce).exists(we=>Yn(we,ee)),void 0).isSome())(D,F)?((V,ee,ce)=>$d(V,ee,ce).bind(we=>vp(V,ee,we.element,we.offset,ce,20).map(V.fromSitus)))(f,h,y).bind(V=>Rr(V.finish,"td,th",h).map(ee=>({start:N,finish:ee,range:V}))):pe.none())),u1=(f,h,y,_,D,N)=>N(_,h).orThunk(()=>wp(f,h,y,_,D).map(F=>{const V=F.range;return pt(pe.some(vo(V.start,V.soffset,V.finish,V.foffset)),!0)})),Lx=(f,h)=>Rr(f,"tr",h).bind(y=>Rr(y,"table",h).bind(_=>{const D=Va(_,"tr");return Yn(y,D[0])?((N,F,V)=>N2(dm,N,ee=>du(ee).isSome(),V))(_,0,h).map(N=>{const F=sl(N);return pt(pe.some(vo(N,F,N,F)),!0)}):pe.none()})),q2=(f,h)=>Rr(f,"tr",h).bind(y=>Rr(y,"table",h).bind(_=>{const D=Va(_,"tr");return Yn(y,D[D.length-1])?((N,F,V)=>f0(dm,N,ee=>rl(ee).isSome(),V))(_,0,h).map(N=>pt(pe.some(vo(N,0,N,0)),!0)):pe.none()})),Fx=(f,h,y,_,D,N,F)=>wp(f,y,_,D,N).bind(V=>Vd(h,y,V.start,V.finish,F)),zx=(f,h)=>Rr(f,"td,th",h),G2=f=>lu(f).exists(Gm),xf={traverse:Kc,gather:Ys,relative:Ro.before,retry:ji.tryDown,failure:Rg.failedDown},Dn={traverse:Xu,gather:ac,relative:Ro.before,retry:ji.tryUp,failure:Rg.failedUp},Cp=f=>h=>h===f,m1=Cp(38),L0=Cp(40),ld=f=>f>=37&&f<=40,K2={isBackward:Cp(37),isForward:Cp(39)},Ig={isBackward:Cp(39),isForward:Cp(37)},Hx=f=>({elementFromPoint:(h,y)=>Me.fromPoint(Me.fromDom(f.document),h,y),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,y,_,D)=>{const N=Qc.exact(h,y,_,D);return((F,V)=>(ee=>{const ce=ee.getClientRects(),we=ce.length>0?ce[0]:ee.getBoundingClientRect();return we.width>0||we.height>0?pe.some(we).map(vr):pe.none()})(Is(F,V)))(f,N)},getSelection:()=>Nd(f).map(h=>i1(f,h)),fromSitus:h=>{const y=Qc.relative(h.start,h.finish);return i1(f,y)},situsFromPoint:(h,y)=>Sc(f,h,y).map(_=>Ix(_.start,_.soffset,_.finish,_.foffset)),clearSelection:()=>{(h=>{Dl(h).each(y=>y.removeAllRanges())})(f)},collapseSelection:(h=!1)=>{Nd(f).each(y=>y.fold(_=>_.collapse(h),(_,D)=>{const N=h?_:D;Xm(f,N,N)},(_,D,N,F)=>{const V=h?_:N,ee=h?D:F;Ym(f,V,ee,V,ee)}))},setSelection:h=>{Ym(f,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,y)=>{Xm(f,h,y)},selectNode:h=>{Xf(f,h,!1)},selectContents:h=>{Xf(f,h)},getInnerHeight:()=>f.innerHeight,getScrollY:()=>(h=>{const y=h!==void 0?h.dom:document,_=y.body.scrollLeft||y.documentElement.scrollLeft,D=y.body.scrollTop||y.documentElement.scrollTop;return bo(_,D)})(Me.fromDom(f.document)).top,scrollBy:(h,y)=>{((_,D,N)=>{const F=(N!==void 0?N.dom:document).defaultView;F&&F.scrollBy(_,D)})(h,y,Me.fromDom(f.document))}}),Wi=(f,h)=>({rows:f,cols:h}),_p=f=>kc(f,iu).exists(Gm),Eu=(f,h)=>_p(f)||_p(h),xm="data-mce-selected",F0="data-mce-first-selected",kp="data-mce-last-selected",f1="["+xm+"]",Sp={selected:xm,selectedSelector:"td["+xm+"],th["+xm+"]",firstSelected:F0,firstSelectedSelector:"td["+F0+"],th["+F0+"]",lastSelected:kp,lastSelectedSelector:"td["+kp+"],th["+kp+"]"},p1=(f,h,y)=>({element:y,mergable:Px(h,f,Sp),unmergable:x_(f),selection:a1(f)}),vm=f=>(h,y)=>{const _=Fs(h),D=_==="col"||_==="colgroup"?la(N=h).bind(F=>Hd(F,Sp.firstSelectedSelector)).fold(gt(N),F=>F[0]):h;var N;return Rr(D,f,y)},Au=vm("th,td,caption"),g1=vm("th,td"),Vs=f=>{return h=f.model.table.getSelectedCells(),A(h,Me.fromDom);var h},h1=(f,h)=>{f.on("BeforeGetContent",y=>{const _=D=>{y.preventDefault(),(N=>la(N[0]).map(F=>{const V=((ee,ce)=>{const we=yt=>Cs(yt.element,ce),ie=Sl(ee),be=np(ie),fe=yg(ee),Re=rp(be),De=((yt,wt)=>{const Rt=yt.grid.columns;let Mt=yt.grid.rows,to=Rt,go=0,pn=0;const Bo=[],Ko=[];return Uo(yt.access,Io=>{if(Bo.push(Io),wt(Io)){Ko.push(Io);const qn=Io.row,Bt=qn+Io.rowspan-1,da=Io.column,Ba=da+Io.colspan-1;qn<Mt?Mt=qn:Bt>go&&(go=Bt),da<to?to=da:Ba>pn&&(pn=Ba)}}),((Io,qn,Bt,da,Ba,Hl)=>({minRow:Io,minCol:qn,maxRow:Bt,maxCol:da,allCells:Ba,selectedCells:Hl}))(Mt,to,go,pn,Bo,Ko)})(Re,we),ot="th:not("+ce+"),td:not("+ce+")",at=Ja(ie,"th,td",yt=>Cs(yt,ot));Co(at,Qa),((yt,wt,Rt,Mt)=>{const to=Bn(yt,Bo=>Bo.section!=="colgroup"),go=wt.grid.columns,pn=wt.grid.rows;for(let Bo=0;Bo<pn;Bo++){let Ko=!1;for(let Io=0;Io<go;Io++)Bo<Rt.minRow||Bo>Rt.maxRow||Io<Rt.minCol||Io>Rt.maxCol||(Tc(wt,Bo,Io).filter(Mt).isNone()?am(to,Ko,Bo):Ko=!0)}})(be,Re,De,we);const bt=((yt,wt,Rt,Mt)=>{if(Mt.minCol===0&&wt.grid.columns===Mt.maxCol+1)return 0;const to=sf(wt,yt,Rt),go=St(to,(Ko,Io)=>Ko+Io,0),pn=St(to.slice(Mt.minCol,Mt.maxCol+1),(Ko,Io)=>Ko+Io,0),Bo=pn/go*Rt.pixelWidth()-Rt.pixelWidth();return Rt.getCellDelta(Bo)})(ee,Zn(ee),fe,De);return((yt,wt,Rt,Mt)=>{Uo(Rt.columns,go=>{(go.column<wt.minCol||go.column>wt.maxCol)&&Qa(go.element)});const to=Bn(vs(yt,"tr"),go=>go.dom.childElementCount===0);Co(to,Qa),wt.minCol!==wt.maxCol&&wt.minRow!==wt.maxRow||Co(vs(yt,"th,td"),go=>{ds(go,"rowspan"),ds(go,"colspan")}),ds(yt,sp),ds(yt,"data-snooker-col-series"),yg(yt).adjustTableWidth(Mt)})(ie,De,Re,bt),ie})(F,f1);return bf(V),[V]}))(D).each(N=>{const F=y.format==="text"?((V,ee)=>{const ce=V.getDoc(),we=Ce(Me.fromDom(V.getBody())),ie=Me.fromTag("div",ce);Ln(ie,"data-mce-bogus","all"),Jn(ie,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const be=(Re=>ae(Re)?Re:Me.fromDom(ra(Re).dom.body))(we);Xn(ie,ee),Te(be,ie);const fe=ie.dom.innerText;return Qa(ie),fe})(f,N):((V,ee)=>A(ee,ce=>V.selection.serializer.serialize(ce.dom,{})).join(""))(f,N);y.content=F})};if(y.selection===!0){const D=(N=>Bn(Vs(N),F=>Cs(F,Sp.selectedSelector)))(f);D.length>=1&&_(D)}}),f.on("BeforeSetContent",y=>{if(y.selection===!0&&y.paste===!0){const _=Vs(f);Ao(_).each(D=>{la(D).each(N=>{const F=Bn((ee=>{const ce=document.createElement("div");return ce.innerHTML=ee,Fa(Me.fromDom(ce))})(y.content),ee=>Fs(ee)!=="meta"),V=Hr("table");if(bp(f)&&F.length===1&&V(F[0])){y.preventDefault();const ee=Me.fromDom(f.getDoc()),ce=_t(ee),we=((ie,be,fe)=>({element:ie,clipboard:be,generators:fe}))(D,F[0],ce);h.pasteCells(N,we).each(()=>{f.focus()})}})})}})},pl=(f,h)=>f.dispatch("NewRow",{node:h}),b1=(f,h)=>f.dispatch("NewCell",{node:h}),vf=(f,h,y)=>{f.dispatch("TableModified",{...y,table:h})},Tu={structure:!1,style:!0},_r={structure:!0,style:!1},ym={structure:!0,style:!0},zl=(f,h)=>Ti(f)?il(h):Dg(f)?ct(h):yg(h),Y2=(f,h,y)=>{const _=we=>Fs(Og(we))==="table",D=M0(f),N=hi(f)?Ne:mn,F=we=>{switch(zd(f)){case"section":return k();case"sectionCells":return R();case"cells":return H();default:return((ie,be)=>{var fe;switch((fe=Zn(ie),z(fe.all,Re=>{const De=Nh(Re);return De.type==="header"?pe.from(De.subType):pe.none()})).getOr(be)){case"section":return fg();case"sectionCells":return Na();case"cells":return fu()}})(we,"section")}},V=(we,ie,be,fe)=>(Re,De,ot=!1)=>{bf(Re);const at=Me.fromDom(f.getDoc()),bt=Ld(be,at,D),yt={sizing:zl(f,Re),resize:hi(f)?Da():Md(),section:F(Re)};return ie(Re)?we(Re,De,bt,yt).bind(wt=>{h.refresh(Re.dom),Co(wt.newRows,Mt=>{pl(f,Mt.dom)}),Co(wt.newCells,Mt=>{b1(f,Mt.dom)});const Rt=((Mt,to)=>to.cursor.fold(()=>{const go=ui(Mt);return Ao(go).filter(Yc).map(pn=>{y.clearSelectedCells(Mt.dom);const Bo=f.dom.createRng();return Bo.selectNode(pn.dom),f.selection.setRng(Bo),Ln(pn,"data-mce-selected","1"),Bo})},go=>{const pn=u0(m0,go),Bo=f.dom.createRng();return Bo.setStart(pn.element.dom,pn.offset),Bo.setEnd(pn.element.dom,pn.offset),f.selection.setRng(Bo),y.clearSelectedCells(Mt.dom),pe.some(Bo)}))(Re,wt);return Yc(Re)&&(bf(Re),ot||vf(f,Re.dom,fe)),Rt.map(Mt=>({rng:Mt,effect:fe}))}):pe.none()},ee=V(T0,we=>!_(f)||fn(we).rows>1,Ne,_r),ce=V(yx,we=>!_(f)||fn(we).columns>1,Ne,_r);return{deleteRow:ee,deleteColumn:ce,insertRowsBefore:V(vx,kt,Ne,_r),insertRowsAfter:V(ja,kt,Ne,_r),insertColumnsBefore:V(pf,kt,N,_r),insertColumnsAfter:V(Xh,kt,N,_r),mergeCells:V(H2,kt,Ne,_r),unmergeCells:V(V2,kt,Ne,_r),pasteColsBefore:V(mm,kt,Ne,_r),pasteColsAfter:V(Cx,kt,Ne,_r),pasteRowsBefore:V(U2,kt,Ne,_r),pasteRowsAfter:V(jr,kt,Ne,_r),pasteCells:V($2,kt,Ne,ym),makeCellsHeader:V(va,kt,Ne,_r),unmakeCellsHeader:V(Fd,kt,Ne,_r),makeColumnsHeader:V(wx,kt,Ne,_r),unmakeColumnsHeader:V(L2,kt,Ne,_r),makeRowsHeader:V(F2,kt,Ne,_r),makeRowsBody:V(D0,kt,Ne,_r),makeRowsFooter:V(z2,kt,Ne,_r),getTableRowType:oi,getTableCellType:Wa,getTableColType:Br}},w_=(f,h)=>{f.selection.select(h.dom,!0),f.selection.collapse(!0)},Lg=(f,h,y,_,D)=>{const N=(V=>{const ee=V.options,ce=ee.get("table_default_styles");return ee.isSet("table_default_styles")?ce:((we,ie)=>cc(we)||!oo(we)?ie:Dg(we)?{...ie,width:gm(we)}:{...ie,width:Nx})(V,ce)})(f),F={styles:N,attributes:Rx(f),colGroups:Mx(f)};return f.undoManager.ignore(()=>{const V=((ce,we,ie,be,fe,Re=Sx)=>{const De=Me.fromTag("table"),ot=fe!=="cells";Jn(De,Re.styles),aa(De,Re.attributes),Re.colGroups&&Te(De,(wt=>{const Rt=Me.fromTag("colgroup");return Xt(wt,()=>Te(Rt,Me.fromTag("col"))),Rt})(we));const at=Math.min(ce,ie);if(ot&&ie>0){const wt=Me.fromTag("thead");Te(De,wt);const Rt=O0(ie,we,fe==="sectionCells"?at:0,be);Xn(wt,Rt)}const bt=Me.fromTag("tbody");Te(De,bt);const yt=O0(ot?ce-at:ce,we,ot?0:ie,be);return Xn(bt,yt),De})(y,h,D,_,zd(f),F);Ln(V,"data-mce-id","__mce");const ee=(ce=>{const we=Me.fromTag("div"),ie=Me.fromDom(ce.dom.cloneNode(!0));return Te(we,ie),(be=>be.dom.innerHTML)(we)})(V);f.insertContent(ee),f.addVisual()}),Kf(Og(f),'table[data-mce-id="__mce"]').map(V=>(Dg(f)?$h(V):cc(f)?fp(V):(Ti(f)||(ee=>Xe(ee)&&ee.indexOf("%")!==-1)(N.width))&&pi(V),bf(V),ds(V,"data-mce-id"),((ee,ce)=>{Co(Va(ce,"tr"),we=>{pl(ee,we.dom),Co(Va(we,"th,td"),ie=>{b1(ee,ie.dom)})})})(f,V),((ee,ce)=>{Kf(ce,"td,th").each(xe(w_,ee))})(f,V),V.dom)).getOrNull()};var Ep=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Vx="x-tinymce/dom-table-",Ap=Vx+"rows",Fg=Vx+"columns",X2=f=>{const h=Ep.FakeClipboardItem(f);Ep.write([h])},x1=f=>{var h;const y=(h=Ep.read())!==null&&h!==void 0?h:[];return z(y,_=>pe.from(_.getType(f)))},$x=f=>{x1(f).isSome()&&Ep.clear()},Tp=f=>{f.fold(Ux,h=>X2({[Ap]:h}))},wm=()=>x1(Ap),Ux=()=>$x(Ap),v1=f=>{f.fold(Dp,h=>X2({[Fg]:h}))},Zx=()=>x1(Fg),Dp=()=>$x(Fg),Op=f=>Au(B0(f),Wn(f)).filter(Ll),Q2=(f,h)=>{const y=Wn(f),_=ie=>la(ie,y),D=ie=>(be=>g1(B0(be),Wn(be)).filter(Ll))(f).bind(be=>_(be).map(fe=>ie(fe,be))),N=ie=>{f.focus()},F=(ie,be=!1)=>D((fe,Re)=>{const De=p1(Vs(f),fe,Re);ie(fe,De,be).each(N)}),V=()=>D((ie,be)=>((fe,Re,De)=>{const ot=Zn(fe);return Ra(ot,Re).bind(at=>{const bt=ip(ot,De,!1),yt=Jt(bt).rows.slice(at[0].row,at[at.length-1].row+at[at.length-1].rowspan),wt=Ae(yt,Mt=>{const to=Bn(Mt.cells,go=>!go.isLocked);return to.length>0?[{...Mt,cells:to}]:[]}),Rt=fi(wt);return tl(Rt.length>0,Rt)}).map(at=>A(at,bt=>{const yt=Ed(bt.element);return Co(bt.cells,wt=>{const Rt=Sl(wt.element);gu(Rt,"colspan",wt.colspan,1),gu(Rt,"rowspan",wt.rowspan,1),Te(yt,Rt)}),yt}))})(ie,p1(Vs(f),ie,be),Ld(Ne,Me.fromDom(f.getDoc()),pe.none()))),ee=()=>D((ie,be)=>((fe,Re)=>{const De=Zn(fe);return lp(De,Re).map(ot=>{const at=ot[ot.length-1],bt=ot[0].column,yt=at.column+at.colspan,wt=((Mt,to,go)=>{if(Oa(Mt)){const pn=Bn(nc(Mt),c0(to,go)),Bo=A(pn,Io=>{const qn=Sl(Io.element);return bu(qn,"span",go-to),qn}),Ko=Me.fromTag("colgroup");return Xn(Ko,Bo),[Ko]}return[]})(De,bt,yt),Rt=((Mt,to,go)=>A(Mt.all,pn=>{const Bo=Bn(pn.cells,c0(to,go)),Ko=A(Bo,qn=>{const Bt=Sl(qn.element);return bu(Bt,"colspan",go-to),Bt}),Io=Me.fromTag("tr");return Xn(Io,Ko),Io}))(De,bt,yt);return[...wt,...Rt]})})(ie,p1(Vs(f),ie,be))),ce=(ie,be)=>be().each(fe=>{const Re=A(fe,De=>Sl(De));D((De,ot)=>{const at=_t(Me.fromDom(f.getDoc())),bt=((yt,wt,Rt,Mt)=>({selection:a1(yt),clipboard:Rt,generators:Mt}))(Vs(f),0,Re,at);ie(De,bt).each(N)})}),we=ie=>(be,fe)=>((Re,De)=>Xo(Re,De)?pe.from(Re[De]):pe.none())(fe,"type").each(Re=>{F(ie(Re),fe.no_events)});Uo({mceTableSplitCells:()=>F(h.unmergeCells),mceTableMergeCells:()=>F(h.mergeCells),mceTableInsertRowBefore:()=>F(h.insertRowsBefore),mceTableInsertRowAfter:()=>F(h.insertRowsAfter),mceTableInsertColBefore:()=>F(h.insertColumnsBefore),mceTableInsertColAfter:()=>F(h.insertColumnsAfter),mceTableDeleteCol:()=>F(h.deleteColumn),mceTableDeleteRow:()=>F(h.deleteRow),mceTableCutCol:()=>ee().each(ie=>{v1(ie),F(h.deleteColumn)}),mceTableCutRow:()=>V().each(ie=>{Tp(ie),F(h.deleteRow)}),mceTableCopyCol:()=>ee().each(ie=>v1(ie)),mceTableCopyRow:()=>V().each(ie=>Tp(ie)),mceTablePasteColBefore:()=>ce(h.pasteColsBefore,Zx),mceTablePasteColAfter:()=>ce(h.pasteColsAfter,Zx),mceTablePasteRowBefore:()=>ce(h.pasteRowsBefore,wm),mceTablePasteRowAfter:()=>ce(h.pasteRowsAfter,wm),mceTableDelete:()=>Op(f).each(ie=>{la(ie,y).filter(Pe(y)).each(be=>{const fe=Me.fromText("");if(K(be,fe),Qa(be),f.dom.isEmpty(f.getBody()))f.setContent(""),f.selection.setCursorLocation();else{const Re=f.dom.createRng();Re.setStart(fe.dom,0),Re.setEnd(fe.dom,0),f.selection.setRng(Re),f.nodeChanged()}})}),mceTableCellToggleClass:(ie,be)=>{D(fe=>{const Re=Vs(f),De=ht(Re,at=>f.formatter.match("tablecellclass",{value:be},at.dom)),ot=De?f.formatter.remove:f.formatter.apply;Co(Re,at=>ot("tablecellclass",{value:be},at.dom)),vf(f,fe.dom,Tu)})},mceTableToggleClass:(ie,be)=>{D(fe=>{f.formatter.toggle("tableclass",{value:be},fe.dom),vf(f,fe.dom,Tu)})},mceTableToggleCaption:()=>{Op(f).each(ie=>{la(ie,y).each(be=>{ue(be,"caption").fold(()=>{const fe=Me.fromTag("caption");Te(fe,Me.fromText("Caption")),((Re,De)=>{Z(Re,0).fold(()=>{Te(Re,De)},ot=>{P(ot,De)})})(be,fe),f.selection.setCursorLocation(fe.dom,0)},fe=>{Hr("caption")(ie)&&Mi("td",be).each(Re=>f.selection.setCursorLocation(Re.dom,0)),Qa(fe)}),vf(f,be.dom,_r)})})},mceTableSizingMode:(ie,be)=>(fe=>Op(f).each(Re=>{cc(f)||Dg(f)||Ti(f)||la(Re,y).each(De=>{fe!=="relative"||cl(De)?fe!=="fixed"||Lh(De)?fe!=="responsive"||wg(De)||fp(De):$h(De):pi(De),bf(De),vf(f,De.dom,_r)})}))(be),mceTableCellType:we(ie=>ie==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:we(ie=>ie==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:we(ie=>{switch(ie){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(ie,be)=>f.addCommand(be,ie)),f.addCommand("mceInsertTable",(ie,be)=>{((fe,Re,De,ot={})=>{const at=bt=>xt(bt)&&bt>0;if(at(Re)&&at(De)){const bt=ot.headerRows||0,yt=ot.headerColumns||0;return Lg(fe,De,Re,yt,bt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(f,be.rows,be.columns,be.options)}),f.addCommand("mceTableApplyCellStyle",(ie,be)=>{const fe=ot=>"tablecell"+ot.toLowerCase().replace("-","");if(!Se(be))return;const Re=Bn(Vs(f),Ll);if(Re.length===0)return;const De=((ot,at)=>{const bt={};return((yt,wt,Rt,Mt)=>{Uo(yt,(to,go)=>{(wt(to,go)?Rt:Mt)(to,go)})})(ot,at,(yt=>(wt,Rt)=>{yt[Rt]=wt})(bt),Ne),bt})(be,(ot,at)=>f.formatter.has(fe(at))&&Xe(ot));(ot=>{for(const at in ot)if(Ps.call(ot,at))return!1;return!0})(De)||(Uo(De,(ot,at)=>{const bt=fe(at);Co(Re,yt=>{ot===""?f.formatter.remove(bt,{value:null},yt.dom,!0):f.formatter.apply(bt,{value:ot},yt.dom)})}),_(Re[0]).each(ot=>vf(f,ot.dom,Tu)))})},z0=f=>!Dd(Me.fromDom(f.target),"ephox-snooker-resizer-bar"),jx=(f,h)=>{const y=(D=Sp.selectedSelector,{get:()=>Hd(Me.fromDom(f.getBody()),D).fold(()=>g1(B0(f),Wn(f)).fold(Ds,v_),qa)}),_=((N,F,V)=>{const ee=be=>{ds(be,N.selected),ds(be,N.firstSelected),ds(be,N.lastSelected)},ce=be=>{Ln(be,N.selected,"1")},we=be=>{ie(be),V()},ie=be=>{const fe=Va(be,`${N.selectedSelector},${N.firstSelectedSelector},${N.lastSelectedSelector}`);Co(fe,ee)};return{clearBeforeUpdate:ie,clear:we,selectRange:(be,fe,Re,De)=>{we(be),Co(fe,ce),Ln(Re,N.firstSelected,"1"),Ln(De,N.lastSelected,"1"),F(fe,Re,De)},selectedSelector:N.selectedSelector,firstSelectedSelector:N.firstSelectedSelector,lastSelectedSelector:N.lastSelectedSelector}})(Sp,(N,F,V)=>{la(F).each(ee=>{const ce=A(N,fe=>fe.dom),we=M0(f),ie=Ld(Ne,Me.fromDom(f.getDoc()),we),be=((fe,Re,De)=>{const ot=Zn(fe);return Ra(ot,Re).map(at=>{const bt=ip(ot,De,!1),{rows:yt}=Jt(bt),wt=((Mt,to)=>{const go=Mt.slice(0,to[to.length-1].row+1),pn=fi(go);return Ae(pn,Bo=>{const Ko=Bo.cells.slice(0,to[to.length-1].column+1);return A(Ko,Io=>Io.element)})})(yt,at),Rt=((Mt,to)=>{const go=Mt.slice(to[0].row+to[0].rowspan-1,Mt.length),pn=fi(go);return Ae(pn,Bo=>{const Ko=Bo.cells.slice(to[0].column+to[0].colspan-1,Bo.cells.length);return A(Ko,Io=>Io.element)})})(yt,at);return{upOrLeftCells:wt,downOrRightCells:Rt}})})(ee,{selection:Vs(f)},ie).map(fe=>_i(fe,Re=>A(Re,De=>De.dom))).getOrUndefined();((fe,Re,De,ot,at)=>{fe.dispatch("TableSelectionChange",{cells:Re,start:De,finish:ot,otherCells:at})})(f,ce,F.dom,V.dom,be)})},()=>(N=>{N.dispatch("TableSelectionClear")})(f));var D;return f.on("init",N=>{const F=f.getWin(),V=Og(f),ee=Wn(f),ce=((De,ot,at,bt)=>{const yt=((wt,Rt,Mt,to)=>{const go=Ya(),pn=go.clear,Bo=Ko=>{go.on(Io=>{to.clearBeforeUpdate(Rt),zx(Ko.target,Mt).each(qn=>{hm(Io,qn,Mt).each(Bt=>{const da=Bt.boxes.getOr([]);if(da.length===1){const Ba=da[0],Hl=ba(Ba)==="false",Zd=na(Ha(Ko.target),Ba,Yn);Hl&&Zd&&to.selectRange(Rt,da,Ba,Ba)}else da.length>1&&(to.selectRange(Rt,da,Bt.start,Bt.finish),wt.selectContents(qn))})})})};return{clearstate:pn,mousedown:Ko=>{to.clear(Rt),zx(Ko.target,Mt).filter(G2).each(go.set)},mouseover:Ko=>{Bo(Ko)},mouseup:Ko=>{Bo(Ko),pn()}}})(Hx(De),ot,at,bt);return{clearstate:yt.clearstate,mousedown:yt.mousedown,mouseover:yt.mouseover,mouseup:yt.mouseup}})(F,V,ee,_),we=((De,ot,at,bt)=>{const yt=Hx(De),wt=()=>(bt.clear(ot),pe.none());return{keydown:(Rt,Mt,to,go,pn,Bo)=>{const Ko=Rt.raw,Io=Ko.which,qn=Ko.shiftKey===!0;return ts(ot,bt.selectedSelector).fold(()=>(ld(Io)&&!qn&&bt.clearBeforeUpdate(ot),ld(Io)&&qn&&!Eu(Mt,go)?pe.none:L0(Io)&&qn?xe(Fx,yt,ot,at,xf,go,Mt,bt.selectRange):m1(Io)&&qn?xe(Fx,yt,ot,at,Dn,go,Mt,bt.selectRange):L0(Io)?xe(u1,yt,at,xf,go,Mt,q2):m1(Io)?xe(u1,yt,at,Dn,go,Mt,Lx):pe.none),da=>{const Ba=Hl=>()=>z(Hl,Wr=>((qi,yf,Ye,wf,y1)=>Ng(wf,qi,yf,y1.firstSelectedSelector,y1.lastSelectedSelector).map(Du=>(y1.clearBeforeUpdate(Ye),y1.selectRange(Ye,Du.boxes,Du.start,Du.finish),Du.boxes)))(Wr.rows,Wr.cols,ot,da,bt)).fold(()=>ad(ot,bt.firstSelectedSelector,bt.lastSelectedSelector).map(Wr=>{const qi=L0(Io)||Bo.isForward(Io)?Ro.after:Ro.before;return yt.setRelativeSelection(Ro.on(Wr.first,0),qi(Wr.table)),bt.clear(ot),pt(pe.none(),!0)}),Wr=>pe.some(pt(pe.none(),!0)));return ld(Io)&&qn&&!Eu(Mt,go)?pe.none:L0(Io)&&qn?Ba([Wi(1,0)]):m1(Io)&&qn?Ba([Wi(-1,0)]):Bo.isBackward(Io)&&qn?Ba([Wi(0,-1),Wi(-1,0)]):Bo.isForward(Io)&&qn?Ba([Wi(0,1),Wi(1,0)]):ld(Io)&&!qn?wt:pe.none})()},keyup:(Rt,Mt,to,go,pn)=>ts(ot,bt.selectedSelector).fold(()=>{const Bo=Rt.raw,Ko=Bo.which;return Bo.shiftKey===!0&&ld(Ko)&&Eu(Mt,go)?((Io,qn,Bt,da,Ba,Hl,Zd)=>Yn(Bt,Ba)&&da===Hl?pe.none():Rr(Bt,"td,th",qn).bind(Wr=>Rr(Ba,"td,th",qn).bind(qi=>Vd(Io,qn,Wr,qi,Zd))))(ot,at,Mt,to,go,pn,bt.selectRange):pe.none()},pe.none)}})(F,V,ee,_),ie=((De,ot,at,bt)=>{const yt=Hx(De);return(wt,Rt)=>{bt.clearBeforeUpdate(ot),hm(wt,Rt,at).each(Mt=>{const to=Mt.boxes.getOr([]);bt.selectRange(ot,to,Mt.start,Mt.finish),yt.selectContents(Rt),yt.collapseSelection()})}})(F,V,ee,_);f.on("TableSelectorChange",De=>ie(De.start,De.finish));const be=(De,ot)=>{(at=>at.raw.shiftKey===!0)(De)&&(ot.kill&&De.kill(),ot.selection.each(at=>{const bt=Qc.relative(at.start,at.finish),yt=Is(F,bt);f.selection.setRng(yt)}))},fe=De=>De.button===0,Re=(()=>{const De=jl(Me.fromDom(V)),ot=jl(0);return{touchEnd:at=>{const bt=Me.fromDom(at.target);if(Hr("td")(bt)||Hr("th")(bt)){const yt=De.get(),wt=ot.get();Yn(yt,bt)&&at.timeStamp-wt<300&&(at.preventDefault(),ie(bt,bt))}De.set(bt),ot.set(at.timeStamp)}}})();f.on("dragstart",De=>{ce.clearstate()}),f.on("mousedown",De=>{fe(De)&&z0(De)&&ce.mousedown(Ho(De))}),f.on("mouseover",De=>{var ot;((ot=De).buttons===void 0||1&ot.buttons)&&z0(De)&&ce.mouseover(Ho(De))}),f.on("mouseup",De=>{fe(De)&&z0(De)&&ce.mouseup(Ho(De))}),f.on("touchend",Re.touchEnd),f.on("keyup",De=>{const ot=Ho(De);if(ot.raw.shiftKey&&ld(ot.raw.which)){const at=f.selection.getRng(),bt=Me.fromDom(at.startContainer),yt=Me.fromDom(at.endContainer);we.keyup(ot,bt,at.startOffset,yt,at.endOffset).each(wt=>{be(ot,wt)})}}),f.on("keydown",De=>{const ot=Ho(De);h.hide();const at=f.selection.getRng(),bt=Me.fromDom(at.startContainer),yt=Me.fromDom(at.endContainer),wt=Dt(K2,Ig)(Me.fromDom(f.selection.getStart()));we.keydown(ot,bt,at.startOffset,yt,at.endOffset,wt).each(Rt=>{be(ot,Rt)}),h.show()}),f.on("NodeChange",()=>{const De=f.selection,ot=Me.fromDom(De.getStart()),at=Me.fromDom(De.getEnd());Hh(la,[ot,at]).fold(()=>_.clear(V),Ne)})}),f.on("PreInit",()=>{f.serializer.addTempAttr(Sp.firstSelected),f.serializer.addTempAttr(Sp.lastSelected)}),{getSelectedCells:()=>((N,F)=>{switch(N.tag){case"none":return F();case"single":return(V=>[V.dom])(N.element);case"multiple":return(V=>A(V,ee=>ee.dom))(N.elements)}})(y.get(),gt([])),clearSelectedCells:N=>_.clear(Me.fromDom(N))}},J2=f=>Ct(f)&&f.nodeName==="TABLE",zg="bar-",Ud=f=>ia(f,"data-mce-resize")!=="false",ey=f=>{const h=Ya(),y=Ya(),_=Ya();let D,N,F,V;const ee=fe=>zl(f,fe),ce=()=>j2(f)?Md():Da(),we=(fe,Re,De,ot)=>{const at=(wt=>{return Kt(Rt=wt,"corner-")?(Mt=>Mt.substring(7))(Rt):Rt;var Rt})(Re),bt=jo(at,"e"),yt=Kt(at,"n");if(N===""&&pi(fe),V===""&&(wt=>{const Rt=(Mt=>As(Mt)+"px")(wt);cf(wt,pe.none(),pe.some(Rt)),Wt(wt)})(fe),De!==D&&N!==""){ha(fe,"width",N);const wt=ce(),Rt=ee(fe),Mt=j2(f)||bt?(to=>fn(to).columns)(fe)-1:0;od(fe,De-D,Mt,wt,Rt)}else if((wt=>/^(\d+(\.\d+)?)%$/.test(wt))(N)){const wt=parseFloat(N.replace("%",""));ha(fe,"width",De*wt/D+"%")}if((wt=>/^(\d+(\.\d+)?)px$/.test(wt))(N)&&(wt=>{const Rt=Zn(wt);Oa(Rt)||Co(ui(wt),Mt=>{const to=El(Mt,"width");ha(Mt,"width",to),ds(Mt,"width")})})(fe),ot!==F&&V!==""){ha(fe,"height",V);const wt=yt?0:(Rt=>fn(Rt).rows)(fe)-1;Ua(fe,ot-F,wt)}};f.on("init",()=>{const fe=((Re,De)=>((ot,at)=>({parent:gt(ot),view:gt(ot),dragContainer:gt(ot),origin:()=>wr(ot),isResizable:at}))(Me.fromDom(Re.getBody()),De))(f,Ud);if(_.set(fe),(Re=>{const De=Re.options.get("object_resizing");return qo(De.split(","),"table")})(f)&&Qo(f)){const Re=((De,ot,at)=>{const bt=pu,yt=pg,wt=gf(De),Rt=pm({beforeResize:Pl(["table","type"]),afterResize:Pl(["table","type"]),startDrag:Pl([])});return wt.events.adjustHeight.bind(Mt=>{const to=Mt.table;Rt.trigger.beforeResize(to,"row");const go=bt.delta(Mt.delta,to);Ua(to,go,Mt.row),Rt.trigger.afterResize(to,"row")}),wt.events.startAdjust.bind(Mt=>{Rt.trigger.startDrag()}),wt.events.adjustWidth.bind(Mt=>{const to=Mt.table;Rt.trigger.beforeResize(to,"col");const go=yt.delta(Mt.delta,to),pn=at(to);od(to,go,Mt.column,ot,pn),Rt.trigger.afterResize(to,"col")}),{on:wt.on,off:wt.off,refreshBars:wt.refresh,hideBars:wt.hideBars,showBars:wt.showBars,destroy:wt.destroy,events:Rt.registry}})(fe,ce(),ee);f.mode.isReadOnly()||Re.on(),Re.events.startDrag.bind(De=>{h.set(f.selection.getRng())}),Re.events.beforeResize.bind(De=>{const ot=De.table.dom;((at,bt,yt,wt,Rt)=>{at.dispatch("ObjectResizeStart",{target:bt,width:yt,height:wt,origin:Rt})})(f,ot,et(ot),xp(ot),zg+De.type)}),Re.events.afterResize.bind(De=>{const ot=De.table,at=ot.dom;bf(ot),h.on(bt=>{f.selection.setRng(bt),f.focus()}),((bt,yt,wt,Rt,Mt)=>{bt.dispatch("ObjectResized",{target:yt,width:wt,height:Rt,origin:Mt})})(f,at,et(at),xp(at),zg+De.type),f.undoManager.add()}),y.set(Re)}}),f.on("ObjectResizeStart",fe=>{const Re=fe.target;if(J2(Re)&&!f.mode.isReadOnly()){const De=Me.fromDom(Re);Co(f.dom.select(".mce-clonedresizable"),ot=>{f.dom.addClass(ot,"mce-"+Tg(f)+"-columns")}),!Lh(De)&&Dg(f)?$h(De):!cl(De)&&Ti(f)&&pi(De),wg(De)&&Kt(fe.origin,zg)&&pi(De),D=fe.width,N=cc(f)?"":ku(f,Re).getOr(""),F=fe.height,V=Bx(f,Re).getOr("")}}),f.on("ObjectResized",fe=>{const Re=fe.target;if(J2(Re)){const De=Me.fromDom(Re),ot=fe.origin;(at=>Kt(at,"corner-"))(ot)&&we(De,ot,fe.width,fe.height),bf(De),vf(f,De.dom,Tu)}});const ie=()=>{y.on(fe=>{fe.on(),fe.showBars()})},be=()=>{y.on(fe=>{fe.off(),fe.hideBars()})};return f.on("DisabledStateChange",fe=>{fe.state?be():ie()}),f.on("SwitchMode",()=>{f.mode.isReadOnly()?be():ie()}),f.on("dragstart dragend",fe=>{fe.type==="dragstart"?be():ie()}),f.on("remove",()=>{y.on(fe=>{fe.destroy()})}),{refresh:fe=>{y.on(Re=>Re.refreshBars(Me.fromDom(fe)))},hide:()=>{y.on(fe=>fe.hideBars())},show:()=>{y.on(fe=>fe.showBars())}}},ty=f=>{(D=>{const N=D.options.register;N("table_clone_elements",{processor:"string[]"}),N("table_use_colgroups",{processor:"boolean",default:!0}),N("table_header_type",{processor:F=>{const V=qo(["section","cells","sectionCells","auto"],F);return V?{value:F,valid:V}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),N("table_sizing_mode",{processor:"string",default:"auto"}),N("table_default_attributes",{processor:"object",default:{border:"1"}}),N("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),N("table_column_resizing",{processor:F=>{const V=qo(["preservetable","resizetable"],F);return V?{value:F,valid:V}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),N("table_resize_bars",{processor:"boolean",default:!0}),N("table_style_by_css",{processor:"boolean",default:!0}),N("table_merge_content_on_paste",{processor:"boolean",default:!0})})(f);const h=ey(f),y=jx(f,h),_=Y2(f,h,y);return Q2(f,_),((D,N)=>{const F=Wn(D),V=ee=>g1(B0(D)).bind(ce=>la(ce,F).map(we=>{const ie=p1(Vs(D),we,ce);return ee(we,ie)})).getOr("");Uo({mceTableRowType:()=>V(N.getTableRowType),mceTableCellType:()=>V(N.getTableCellType),mceTableColType:()=>V(N.getTableColType)},(ee,ce)=>D.addQueryValueHandler(ce,ee))})(f,_),h1(f,_),{getSelectedCells:y.getSelectedCells,clearSelectedCells:y.clearSelectedCells}};re.add("dom",f=>({table:ty(f)}))})();tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:8px;margin-bottom:8px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-conversations{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px}.tox .tox-conversations__header{align-items:center;display:flex;justify-content:space-between;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 12px;background:#fff;z-index:1}.tox .tox-conversations__title{font-size:20px;font-weight:400;padding:8px 0 8px 0;color:#222f3e;line-height:28px}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-context-form__group .tox-button--icon.tox-lock-context-form-size-input{margin-left:8px;margin-right:8px}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-selectfield select option:checked{background-color:revert;color:revert}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox-mentions__card-common{z-index:1200}.tox.tox-mentions__card{background:#fff;border:1px solid #eee;display:flex;padding:4px 8px}.tox.tox-mentions__card .tox-mentions__container{display:flex;flex-direction:column;align-self:center;margin:0 4px}.tox .tox-mentions__avatar{width:42px;height:42px;border-radius:50%;margin-right:4px}.tox .tox-mentions__username{font-size:14px;line-height:21px}.tox .tox-mentions__description{font-size:12px;line-height:21px;color:rgba(34,47,62,.7)}.tox .tox-collection__item--active .tox-mentions__description{color:inherit}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#f0f0f0;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-cursor-default{cursor:ns-resize}.tox .tox-statusbar__resize-cursor-both{cursor:nwse-resize}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);var xz={},vz={},yz;function CY(){return yz||(yz=1,function(){var re=tinymce.util.Tools.resolve("tinymce.PluginManager");const ye=(k,R,H)=>{var le;return H(k,R.prototype)?!0:((le=k.constructor)===null||le===void 0?void 0:le.name)===R.name},Fe=k=>{const R=typeof k;return k===null?"null":R==="object"&&Array.isArray(k)?"array":R==="object"&&ye(k,String,(H,le)=>le.isPrototypeOf(H))?"string":R},Oe=k=>R=>Fe(R)===k,Xe=k=>R=>typeof R===k,Se=Oe("string"),Ee=Oe("object"),He=Oe("array"),Ze=Xe("boolean"),ut=k=>k==null,Ct=k=>!ut(k),Ht=Xe("function"),xt=Xe("number"),Ne=()=>{},gt=(k,R)=>H=>k(R(H)),Tt=k=>()=>k,lt=(k,R)=>k===R;function xe(k,...R){return(...H)=>{const le=R.concat(H);return k.apply(null,le)}}const Pe=k=>R=>!k(R),Ue=Tt(!1);class ne{constructor(R,H){this.tag=R,this.value=H}static some(R){return new ne(!0,R)}static none(){return ne.singletonNone}fold(R,H){return this.tag?H(this.value):R()}isSome(){return this.tag}isNone(){return!this.tag}map(R){return this.tag?ne.some(R(this.value)):ne.none()}bind(R){return this.tag?R(this.value):ne.none()}exists(R){return this.tag&&R(this.value)}forall(R){return!this.tag||R(this.value)}filter(R){return!this.tag||R(this.value)?this:ne.none()}getOr(R){return this.tag?this.value:R}or(R){return this.tag?this:R}getOrThunk(R){return this.tag?this.value:R()}orThunk(R){return this.tag?this:R()}getOrDie(R){if(this.tag)return this.value;throw new Error(R??"Called getOrDie on None")}static from(R){return Ct(R)?ne.some(R):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(R){this.tag&&R(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const kt=Array.prototype.slice,pe=Array.prototype.indexOf,hn=Array.prototype.push,is=(k,R)=>pe.call(k,R),bn=(k,R)=>is(k,R)>-1,qo=(k,R)=>{for(let H=0,le=k.length;H<le;H++){const ve=k[H];if(R(ve,H))return!0}return!1},Ke=(k,R)=>{const H=k.length,le=new Array(H);for(let ve=0;ve<H;ve++){const ft=k[ve];le[ve]=R(ft,ve)}return le},Xt=(k,R)=>{for(let H=0,le=k.length;H<le;H++){const ve=k[H];R(ve,H)}},A=(k,R)=>{const H=[];for(let le=0,ve=k.length;le<ve;le++){const ft=k[le];R(ft,le)&&H.push(ft)}return H},Co=(k,R)=>{if(k.length===0)return[];{let H=R(k[0]);const le=[];let ve=[];for(let ft=0,co=k.length;ft<co;ft++){const Mo=k[ft],Po=R(Mo);Po!==H&&(le.push(ve),ve=[]),H=Po,ve.push(Mo)}return ve.length!==0&&le.push(ve),le}},ko=(k,R,H)=>(Xt(k,(le,ve)=>{H=R(H,le,ve)}),H),Bn=(k,R,H)=>{for(let le=0,ve=k.length;le<ve;le++){const ft=k[le];if(R(ft,le))return ne.some(ft);if(H(ft,le))break}return ne.none()},dr=(k,R)=>Bn(k,R,Ue),St=k=>{const R=[];for(let H=0,le=k.length;H<le;++H){if(!He(k[H]))throw new Error("Arr.flatten item "+H+" was not an array, input: "+k);hn.apply(R,k[H])}return R},Tn=(k,R)=>St(Ke(k,R)),Ci=k=>{const R=kt.call(k,0);return R.reverse(),R},je=(k,R)=>R>=0&&R<k.length?ne.some(k[R]):ne.none(),Ae=k=>je(k,0),ht=k=>je(k,k.length-1),dn=(k,R)=>{const H=[],le=Ht(R)?ve=>qo(H,ft=>R(ft,ve)):ve=>bn(H,ve);for(let ve=0,ft=k.length;ve<ft;ve++){const co=k[ve];le(co)||H.push(co)}return H},Oo=Object.keys,Ao=(k,R)=>{const H=Oo(k);for(let le=0,ve=H.length;le<ve;le++){const ft=H[le],co=k[ft];R(co,ft)}},Go=k=>(R,H)=>{k[H]=R},z=(k,R,H,le)=>{Ao(k,(ve,ft)=>{(R(ve,ft)?H:le)(ve,ft)})},ur=(k,R)=>{const H={};return z(k,R,Go(H),Ne),H},Ps=k=>{let R=k;return{get:()=>R,set:ve=>{R=ve}}},Uo=typeof window<"u"?window:Function("return this;")(),_i=(k,R,H=lt)=>k.exists(le=>H(le,R)),oa=(k,R,H=lt)=>on(k,R,H).getOr(k.isNone()&&R.isNone()),on=(k,R,H)=>k.isSome()&&R.isSome()?ne.some(H(k.getOrDie(),R.getOrDie())):ne.none(),Kn=(k,R)=>{let H=R??Uo;for(let le=0;le<k.length&&H!==void 0&&H!==null;++le)H=H[k[le]];return H},Xo=(k,R)=>{const H=k.split(".");return Kn(H,R)},jl=(k=>R=>R.replace(k,""))(/^\s+|\s+$/g),xr=k=>k.length>0,_o=k=>!xr(k),vc="\uFEFF",ws=k=>k===vc,Zs=(k,R)=>{const le=(R||document).createElement("div");if(le.innerHTML=k,!le.hasChildNodes()||le.childNodes.length>1){const ve="HTML does not have a single root node";throw console.error(ve,k),new Error(ve)}return Ss(le.childNodes[0])},js=(k,R)=>{const le=(R||document).createElement(k);return Ss(le)},mr=(k,R)=>{const le=(R||document).createTextNode(k);return Ss(le)},Ss=k=>{if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},vn={fromHtml:Zs,fromTag:js,fromText:mr,fromDom:Ss,fromPoint:(k,R,H)=>ne.from(k.dom.elementFromPoint(R,H)).map(Ss)},tl=8,ol=11,Ya=1,ki=3,nr=(k,R)=>{const H=k.dom;if(H.nodeType!==Ya)return!1;{const le=H;if(le.matches!==void 0)return le.matches(R);if(le.msMatchesSelector!==void 0)return le.msMatchesSelector(R);if(le.webkitMatchesSelector!==void 0)return le.webkitMatchesSelector(R);if(le.mozMatchesSelector!==void 0)return le.mozMatchesSelector(R);throw new Error("Browser lacks native selectors")}},Kt=(k,R)=>k.dom===R.dom,jo=(k,R)=>{const H=k.dom,le=R.dom;return H===le?!1:H.contains(le)},xs=nr,Lr=(k,R)=>Xo(k,R),Vt=(k,R)=>{const H=Lr(k,R);if(H==null)throw new Error(k+" not available on this browser");return H},Fr=Object.getPrototypeOf,tu=k=>Vt("HTMLElement",k),Un=k=>{const R=Xo("ownerDocument.defaultView",k);return Ee(k)&&(tu(R).prototype.isPrototypeOf(k)||/^HTML\w*Element$/.test(Fr(k).constructor.name))},jn=k=>k.dom.nodeName.toLowerCase(),sa=k=>k.dom.nodeType,Dr=k=>R=>sa(R)===k,ou=k=>sa(k)===tl||jn(k)==="#comment",Zc=k=>Fo(k)&&Un(k.dom),Fo=Dr(Ya),fr=Dr(ki),pa=Dr(ol),kn=k=>R=>Fo(R)&&jn(R)===k,Jt=k=>ne.from(k.dom.parentNode).map(vn.fromDom),zr=k=>ne.from(k.dom.parentElement).map(vn.fromDom),yc=k=>ne.from(k.dom.nextSibling).map(vn.fromDom),Me=k=>Ke(k.dom.childNodes,vn.fromDom),ka=(k,R)=>{const H=k.dom.childNodes;return ne.from(H[R]).map(vn.fromDom)},Wo=k=>ka(k,0),nu=k=>ka(k,k.dom.childNodes.length-1),Sa=k=>pa(k)&&Ct(k.dom.host),Wl=k=>vn.fromDom(k.dom.getRootNode()),vr=k=>{const R=Wl(k);return Sa(R)?ne.some(R):ne.none()},wc=k=>vn.fromDom(k.dom.host),ci=(k,R)=>{Jt(k).each(le=>{le.dom.insertBefore(R.dom,k.dom)})},wd=(k,R)=>{yc(k).fold(()=>{Jt(k).each(ve=>{Cs(ve,R)})},le=>{ci(le,R)})},Is=(k,R)=>{Wo(k).fold(()=>{Cs(k,R)},le=>{k.dom.insertBefore(R.dom,le.dom)})},Cs=(k,R)=>{k.dom.appendChild(R.dom)},Pn=(k,R)=>{Xt(R,H=>{ci(k,H)})},Mi=(k,R)=>{Xt(R,H=>{Cs(k,H)})},Yn=(k,R,H)=>{if(Se(H)||Ze(H)||xt(H))k.setAttribute(R,H+"");else throw console.error("Invalid call to Attribute.set. Key ",R,":: Value ",H,":: Element ",k),new Error("Attribute value was not simple")},Es=(k,R)=>{const H=k.dom;Ao(R,(le,ve)=>{Yn(H,ve,le)})},Cc=k=>ko(k.dom.attributes,(R,H)=>(R[H.name]=H.value,R),{}),Si=k=>{k.dom.textContent="",Xt(Me(k),R=>{ql(R)})},ql=k=>{const R=k.dom;R.parentNode!==null&&R.parentNode.removeChild(R)},Gl=(k,R)=>vn.fromDom(k.dom.cloneNode(R)),sr=k=>Gl(k,!0),su=(k,R)=>{const H=vn.fromTag(R),le=Cc(k);return Es(H,le),H},rr=(k,R)=>{const H=su(k,R);wd(k,H);const le=Me(k);return Mi(H,le),ql(k),H},ru=k=>Ke(k,vn.fromDom),Um=k=>k.style!==void 0&&Ht(k.style.getPropertyValue),Kl=k=>{const R=fr(k)?k.dom.parentNode:k.dom;if(R==null||R.ownerDocument===null)return!1;const H=R.ownerDocument;return vr(vn.fromDom(R)).fold(()=>H.body.contains(R),gt(Kl,wc))},Ku=(k,R,H)=>{if(!Se(H))throw console.error("Invalid call to CSS.set. Property ",R,":: Value ",H,":: Element ",k),new Error("CSS value must be a string: "+H);Um(k)&&k.style.setProperty(R,H)},Ft=(k,R,H)=>{const le=k.dom;Ku(le,R,H)},nl=(k,R)=>{const le=document.createDocumentFragment();return Xt(k,ve=>{le.appendChild(ve.dom)}),vn.fromDom(le)};var au=(k,R,H,le,ve)=>k(H,le)?ne.some(H):Ht(ve)&&ve(H)?ne.none():R(H,le,ve);const Cd=(k,R,H)=>{let le=k.dom;const ve=Ht(H)?H:Ue;for(;le.parentNode;){le=le.parentNode;const ft=vn.fromDom(le);if(R(ft))return ne.some(ft);if(ve(ft))break}return ne.none()},Yl=(k,R,H)=>au((ve,ft)=>ft(ve),Cd,k,R,H),Or=(k,R,H)=>Cd(k,le=>nr(le,R),H),ar=(k,R,H)=>au((ve,ft)=>nr(ve,ft),Or,k,R,H),Yu=k=>ar(k,"[contenteditable]"),Ia=(k,R=!1)=>Kl(k)?k.dom.isContentEditable:Yu(k).fold(Tt(R),H=>jc(H)==="true"),jc=k=>k.dom.contentEditable,jf=(k,R,H)=>Cd(k,R,H).isSome(),In=(k,R)=>jf(k,xe(Kt,R));var La=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Wc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Xl=tinymce.util.Tools.resolve("tinymce.util.VK"),Cl=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Xa=tinymce.util.Tools.resolve("tinymce.util.Tools");const qc=k=>R=>Ct(R)&&R.nodeName.toLowerCase()===k,ir=k=>R=>Ct(R)&&k.test(R.nodeName),Ea=k=>Ct(k)&&k.nodeType===3,Ls=k=>Ct(k)&&k.nodeType===1,ga=ir(/^(OL|UL|DL)$/),Fs=ir(/^(OL|UL)$/),Gc=qc("ol"),Ql=ir(/^(LI|DT|DD)$/),_d=ir(/^(DT|DD)$/),iu=ir(/^(TH|TD)$/),yr=qc("br"),_l=k=>{var R;return((R=k.parentNode)===null||R===void 0?void 0:R.firstChild)===k},Jl=(k,R)=>Ct(R)&&R.nodeName in k.schema.getTextBlockElements(),kd=(k,R)=>Ct(k)&&k.nodeName in R,Hr=(k,R)=>Ct(R)&&R.nodeName in k.schema.getVoidElements(),Sd=(k,R)=>yr(R)?k.isBlock(R.nextSibling)&&!yr(R.previousSibling):!1,ra=(k,R,H)=>{const le=k.isEmpty(R);return H&&k.select("span[data-mce-type=bookmark]",R).length>0?!1:le},ec=(k,R)=>k.isChildOf(R,k.getRoot()),lu=k=>R=>R.options.get(k),Zm=k=>{const R=k.options.register;R("lists_indent_on_tab",{processor:"boolean",default:!0})},Xu=lu("lists_indent_on_tab"),Kc=lu("forced_root_block"),Fa=lu("forced_root_block_attrs"),Z=(k,R,H={})=>{const le=k.dom,ve=k.schema.getBlockElements(),ft=le.createFragment(),co=Kc(k),Mo=Fa(k);let Po,uo,Qn=!1;for(uo=le.create(co,{...Mo,...H.style?{style:H.style}:{}}),kd(R.firstChild,ve)||ft.appendChild(uo);Po=R.firstChild;){const Ks=Po.nodeName;!Qn&&(Ks!=="SPAN"||Po.getAttribute("data-mce-type")!=="bookmark")&&(Qn=!0),kd(Po,ve)?(ft.appendChild(Po),uo=null):(uo||(uo=le.create(co,Mo),ft.appendChild(uo)),uo.appendChild(Po))}return!Qn&&uo&&uo.appendChild(le.create("br",{"data-mce-bogus":"1"})),ft},ae=Cl.DOM,Ce=(k,R,H)=>{const le=uo=>{const Qn=uo.parentNode;Qn&&Xa.each(ve,Ks=>{Qn.insertBefore(Ks,H.parentNode)}),ae.remove(uo)},ve=ae.select('span[data-mce-type="bookmark"]',R),ft=Z(k,H),co=ae.createRng();co.setStartAfter(H),co.setEndAfter(R);const Mo=co.extractContents();for(let uo=Mo.firstChild;uo;uo=uo.firstChild)if(uo.nodeName==="LI"&&k.dom.isEmpty(uo)){ae.remove(uo);break}k.dom.isEmpty(Mo)||ae.insertAfter(Mo,R),ae.insertAfter(ft,R);const Po=H.parentElement;Po&&ra(k.dom,Po)&&le(Po),ae.remove(H),ra(k.dom,R)&&ae.remove(R)},rt=kn("dd"),Nt=kn("dt"),Ut=(k,R)=>{rt(R)?rr(R,"dt"):Nt(R)&&zr(R).each(H=>Ce(k,H.dom,R.dom))},zo=k=>{Nt(k)&&rr(k,"dd")},cs=(k,R,H)=>{R==="Indent"?Xt(H,zo):Xt(H,le=>Ut(k,le))},Ho=(k,R)=>{if(Ea(k))return{container:k,offset:R};const H=La.getNode(k,R);return Ea(H)?{container:H,offset:R>=k.childNodes.length?H.data.length:0}:H.previousSibling&&Ea(H.previousSibling)?{container:H.previousSibling,offset:H.previousSibling.data.length}:H.nextSibling&&Ea(H.nextSibling)?{container:H.nextSibling,offset:0}:{container:k,offset:R}},P=k=>{const R=k.cloneRange(),H=Ho(k.startContainer,k.startOffset);R.setStart(H.container,H.offset);const le=Ho(k.endContainer,k.endOffset);return R.setEnd(le.container,le.offset),R},K=["OL","UL","DL"],me=K.join(","),Te=(k,R)=>{const H=R||k.selection.getStart(!0);return k.dom.getParent(H,me,ds(k,H))},jt=(k,R)=>Ct(k)&&R.length===1&&R[0]===k,an=k=>A(k.querySelectorAll(me),ga),Xn=k=>{const R=Te(k),H=k.selection.getSelectedBlocks();return jt(R,H)?an(R):A(H,le=>ga(le)&&R!==le)},Vr=(k,R)=>{const H=Xa.map(R,le=>{const ve=k.dom.getParent(le,"li,dd,dt",ds(k,le));return ve||le});return dn(H)},Ln=k=>{const R=k.selection.getSelectedBlocks();return A(Vr(k,R),Ql)},aa=k=>A(Ln(k),_d),ia=(k,R)=>{const H=k.dom.getParents(R,"TD,TH");return H.length>0?H[0]:k.getBody()},Nr=(k,R)=>!ga(R)&&!Ql(R)&&qo(K,H=>k.isValidChild(R.nodeName,H)),ds=(k,R)=>{const H=k.dom.getParents(R,k.dom.isBlock),le=ft=>ft.nodeName.toLowerCase()!==Kc(k);return dr(H,ft=>le(ft)&&Nr(k.schema,ft)).getOr(k.getBody())},jm=k=>Jt(k).exists(R=>Ql(R.dom)&&Wo(R).exists(H=>!ga(H.dom))&&nu(R).exists(H=>!ga(H.dom))),Qu=(k,R)=>{const H=k.dom.getParents(R,"ol,ul",ds(k,R));return ht(H)},Qa=k=>{const R=Qu(k,k.selection.getStart()),H=A(k.selection.getSelectedBlocks(),Fs);return R.toArray().concat(H)},kl=k=>{const R=k.selection.getStart();return k.dom.getParents(R,"ol,ul",ds(k,R))},Aa=k=>{const R=Qa(k),H=kl(k);return dr(H,le=>jm(vn.fromDom(le))).fold(()=>Ed(k,R),le=>[le])},Ed=(k,R)=>{const H=Ke(R,le=>Qu(k,le).getOr(le));return dn(H)},Sl=k=>/\btox\-/.test(k.className),Wf=(k,R)=>Bn(k,ga,iu).exists(H=>H.nodeName===R&&!Sl(H)),Ju=(k,R)=>R!==null&&!k.dom.isEditable(R),Yc=k=>{const R=Te(k);return Ju(k,R)||!k.selection.isEditable()},em=(k,R)=>{const H=k.dom.getParent(R,"ol,ul,dl");return Ju(k,H)||!k.selection.isEditable()},ha=(k,R)=>{const H=k.selection.getNode();return R({parents:k.dom.getParents(H),element:H}),k.on("NodeChange",R),()=>k.off("NodeChange",R)},Jn=(k,R,H)=>k.dispatch("ListMutation",{action:R,element:H}),El=k=>xs(k,"OL,UL"),Ah=k=>xs(k,"LI"),Wm=k=>Wo(k).exists(El),Ws=k=>nu(k).exists(El),_c=k=>"listAttributes"in k,tc=k=>"isComment"in k,Al=k=>"isFragment"in k,As=k=>k.depth>0,Bi=k=>k.isSelected,cu=k=>{const R=Me(k),H=Ws(k)?R.slice(0,-1):R;return Ke(H,sr)},Ad=(k,R,H)=>Jt(k).filter(Fo).map(le=>({depth:R,dirty:!1,isSelected:H,content:cu(k),itemAttributes:Cc(k),listAttributes:Cc(le),listType:jn(le),isInPreviousLi:!1})),Vo=(k,R)=>{Cs(k.item,R.list)},cg=k=>{for(let R=1;R<k.length;R++)Vo(k[R-1],k[R])},dg=(k,R)=>{on(ht(k),Ae(R),Vo)},bo=(k,R)=>{const H={list:vn.fromTag(R,k),item:vn.fromTag("li",k)};return Cs(H.list,H.item),H},qf=(k,R,H)=>{const le=[];for(let ve=0;ve<H;ve++)le.push(bo(k,_c(R)?R.listType:R.parentListType));return le},wr=(k,R)=>{for(let H=0;H<k.length-1;H++)Ft(k[H].item,"list-style-type","none");ht(k).each(H=>{_c(R)&&(Es(H.list,R.listAttributes),Es(H.item,R.itemAttributes)),Mi(H.item,R.content)})},Ta=(k,R)=>{jn(k.list)!==R.listType&&(k.list=rr(k.list,R.listType)),Es(k.list,R.listAttributes)},Gf=(k,R,H)=>{const le=vn.fromTag("li",k);return Es(le,R),Mi(le,H),le},qs=(k,R)=>{Cs(k.list,R),k.item=R},ug=(k,R,H)=>{const le=R.slice(0,H.depth);return ht(le).each(ve=>{if(_c(H)){const ft=Gf(k,H.itemAttributes,H.content);qs(ve,ft),Ta(ve,H)}else if(Al(H))Mi(ve.item,H.content);else{const ft=vn.fromHtml(`<!--${H.content}-->`);Cs(ve.list,ft)}}),le},Td=(k,R,H)=>{const le=qf(k,H,H.depth-R.length);return cg(le),wr(le,H),dg(R,le),R.concat(le)},Dt=(k,R)=>{let H=ne.none();const le=ko(R,(ve,ft,co)=>tc(ft)?co===0?(H=ne.some(ft),ve):ug(k,ve,ft):ft.depth>ve.length?Td(k,ve,ft):ug(k,ve,ft),[]);return H.each(ve=>{const ft=vn.fromHtml(`<!--${ve.content}-->`);Ae(le).each(co=>{Is(co.list,ft)})}),Ae(le).map(ve=>ve.list)},Th=(k,R)=>{switch(k){case"Indent":R.depth++;break;case"Outdent":R.depth--;break;case"Flatten":R.depth=0}R.dirty=!0},tm=(k,R)=>{_c(k)&&_c(R)&&(k.listType=R.listType,k.listAttributes={...R.listAttributes})},qm=k=>{k.listAttributes=ur(k.listAttributes,(R,H)=>H!=="start")},kc=(k,R)=>{const H=k[R].depth,le=ft=>ft.depth===H&&!ft.dirty,ve=ft=>ft.depth<H;return Bn(Ci(k.slice(0,R)),le,ve).orThunk(()=>Bn(k.slice(R+1),le,ve))},za=k=>(Xt(k,(R,H)=>{kc(k,H).fold(()=>{R.dirty&&_c(R)&&qm(R)},le=>tm(R,le))}),k),ue=(k,R,H,le)=>{var ve;if(ou(le))return[{depth:k+1,content:(ve=le.dom.nodeValue)!==null&&ve!==void 0?ve:"",dirty:!1,isSelected:!1,isComment:!0}];R.each(Mo=>{Kt(Mo.start,le)&&H.set(!0)});const ft=Ad(le,k,H.get());R.each(Mo=>{Kt(Mo.end,le)&&H.set(!1)});const co=nu(le).filter(El).map(Mo=>Rr(k,R,H,Mo)).getOr([]);return ft.toArray().concat(co)},Kf=(k,R,H,le)=>Wo(le).filter(El).fold(()=>ue(k,R,H,le),ve=>{const ft=ko(Me(le),(co,Mo,Po)=>{if(Po===0)return co;if(Ah(Mo))return co.concat(ue(k,R,H,Mo));{const uo={isFragment:!0,depth:k,content:[Mo],isSelected:!1,dirty:!1,parentListType:jn(ve)};return co.concat(uo)}},[]);return Rr(k,R,H,ve).concat(ft)}),Rr=(k,R,H,le)=>Tn(Me(le),ve=>{const ft=El(ve)?Rr:Kf,co=k+1;return ft(co,R,H,ve)}),mg=(k,R)=>{const H=Ps(!1),le=0;return Ke(k,ve=>({sourceList:ve,entries:Rr(le,R,H,ve)}))},To=(k,R)=>{const H=za(R);return Ke(H,le=>{const ve=tc(le)?nl([vn.fromHtml(`<!--${le.content}-->`)]):nl(le.content),ft=_c(le)?le.itemAttributes:{};return vn.fromDom(Z(k,ve.dom,ft))})},Ei=(k,R)=>{const H=za(R);return Dt(k.contentDocument,H).toArray()},Dd=(k,R)=>Tn(Co(R,As),H=>Ae(H).exists(As)?Ei(k,H):To(k,H)),Ha=(k,R)=>{Xt(A(k,Bi),H=>Th(R,H))},Gm=k=>{const R=Ke(Ln(k),vn.fromDom);return on(dr(R,Pe(Wm)),dr(Ci(R),Pe(Wm)),(H,le)=>({start:H,end:le}))},ba=(k,R,H)=>{const le=mg(R,Gm(k));Xt(le,ve=>{Ha(ve.entries,H);const ft=Dd(k,ve.entries);Xt(ft,co=>{Jn(k,H==="Indent"?"IndentList":"OutdentList",co.dom)}),Pn(ve.sourceList,ft),ql(ve.sourceList)})},Km=(k,R)=>{const H=ru(Aa(k)),le=ru(aa(k));let ve=!1;if(H.length||le.length){const ft=k.selection.getBookmark();ba(k,H,R),cs(k,R,le),k.selection.moveToBookmark(ft),k.selection.setRng(P(k.selection.getRng())),k.nodeChanged(),ve=!0}return ve},Od=(k,R)=>!Yc(k)&&Km(k,R),un=k=>Od(k,"Indent"),Va=k=>Od(k,"Outdent"),sl=k=>Od(k,"Flatten");var Tl=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Gs=Cl.DOM,rl=k=>{const R={},H=le=>{let ve=k[le?"startContainer":"endContainer"],ft=k[le?"startOffset":"endOffset"];if(Ls(ve)){const co=Gs.create("span",{"data-mce-type":"bookmark"});ve.hasChildNodes()?(ft=Math.min(ft,ve.childNodes.length-1),le?ve.insertBefore(co,ve.childNodes[ft]):Gs.insertAfter(co,ve.childNodes[ft])):ve.appendChild(co),ve=co,ft=0}R[le?"startContainer":"endContainer"]=ve,R[le?"startOffset":"endOffset"]=ft};return H(!0),k.collapsed||H(),R},du=k=>{const R=le=>{const ve=Mo=>{var Po;let uo=(Po=Mo.parentNode)===null||Po===void 0?void 0:Po.firstChild,Qn=0;for(;uo;){if(uo===Mo)return Qn;(!Ls(uo)||uo.getAttribute("data-mce-type")!=="bookmark")&&Qn++,uo=uo.nextSibling}return-1};let ft=k[le?"startContainer":"endContainer"],co=k[le?"startOffset":"endOffset"];if(ft){if(Ls(ft)&&ft.parentNode){const Mo=ft;co=ve(ft),ft=ft.parentNode,Gs.remove(Mo),!ft.hasChildNodes()&&Gs.isBlock(ft)&&ft.appendChild(Gs.create("br"))}k[le?"startContainer":"endContainer"]=ft,k[le?"startOffset":"endOffset"]=co}};R(!0),R();const H=Gs.createRng();return H.setStart(k.startContainer,k.startOffset),k.endContainer&&H.setEnd(k.endContainer,k.endOffset),P(H)},yn=k=>{switch(k){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Pi=(k,R,H)=>{const le=H["list-style-type"]?H["list-style-type"]:null;k.setStyle(R,"list-style-type",le)},$a=(k,R)=>{Xa.each(R,(H,le)=>{k.setAttribute(le,H)})},Ro=(k,R,H)=>{$a(R,H["list-attributes"]),Xa.each(k.select("li",R),le=>{$a(le,H["list-item-attributes"])})},Xc=(k,R,H)=>{Pi(k,R,H),Ro(k,R,H)},Qc=(k,R,H)=>{Xa.each(H,le=>k.setStyle(R,le,""))},us=(k,R)=>Ct(R)&&!kd(R,k.schema.getBlockElements()),Dl=(k,R,H,le)=>{let ve=R[H?"startContainer":"endContainer"];const ft=R[H?"startOffset":"endOffset"];Ls(ve)&&(ve=ve.childNodes[Math.min(ft,ve.childNodes.length-1)]||ve),!H&&yr(ve.nextSibling)&&(ve=ve.nextSibling);const co=Po=>{for(;!k.dom.isBlock(Po)&&Po.parentNode&&le!==Po;)Po=Po.parentNode;return Po},Mo=(Po,uo)=>{var Qn;const Ks=new Wc(Po,co(Po)),al=uo?"next":"prev";let Ns;for(;Ns=Ks[al]();)if(!(Hr(k,Ns)||ws(Ns.textContent)||((Qn=Ns.textContent)===null||Qn===void 0?void 0:Qn.length)===0))return ne.some(Ns);return ne.none()};if(H&&Ea(ve))if(ws(ve.textContent))ve=Mo(ve,!1).getOr(ve);else for(ve.parentNode!==null&&us(k,ve.parentNode)&&(ve=ve.parentNode);ve.previousSibling!==null&&(us(k,ve.previousSibling)||Ea(ve.previousSibling));)ve=ve.previousSibling;if(!H&&Ea(ve))if(ws(ve.textContent))ve=Mo(ve,!0).getOr(ve);else for(ve.parentNode!==null&&us(k,ve.parentNode)&&(ve=ve.parentNode);ve.nextSibling!==null&&(us(k,ve.nextSibling)||Ea(ve.nextSibling));)ve=ve.nextSibling;for(;ve.parentNode!==le;){const Po=ve.parentNode;if(Jl(k,ve)||/^(TD|TH)$/.test(Po.nodeName))return ve;ve=Po}return ve},pr=(k,R,H)=>{const le=[],ve=k.dom,ft=Dl(k,R,!0,H),co=Dl(k,R,!1,H);let Mo;const Po=[];for(let uo=ft;uo&&(Po.push(uo),uo!==co);uo=uo.nextSibling);return Xa.each(Po,uo=>{var Qn;if(Jl(k,uo)){le.push(uo),Mo=null;return}if(ve.isBlock(uo)||yr(uo)){yr(uo)&&ve.remove(uo),Mo=null;return}const Ks=uo.nextSibling;if(Tl.isBookmarkNode(uo)&&(ga(Ks)||Jl(k,Ks)||!Ks&&uo.parentNode===H)){Mo=null;return}Mo||(Mo=ve.create("p"),(Qn=uo.parentNode)===null||Qn===void 0||Qn.insertBefore(Mo,uo),le.push(Mo)),Mo.appendChild(uo)}),le},xa=(k,R,H)=>{const le=k.getStyle(R,"list-style-type");let ve=H?H["list-style-type"]:"";return ve=ve===null?"":ve,le===ve},Ii=(k,R)=>{const H=k.selection.getStart(!0),le=Dl(k,R,!0,k.getBody());return In(vn.fromDom(le),vn.fromDom(R.commonAncestorContainer))?R.commonAncestorContainer:H},Ym=(k,R,H)=>{const le=k.selection.getRng();let ve="LI";const ft=ds(k,Ii(k,le)),co=k.dom;if(co.getContentEditable(k.selection.getNode())==="false")return;R=R.toUpperCase(),R==="DL"&&(ve="DT");const Mo=rl(le),Po=A(pr(k,le,ft),k.dom.isEditable);Xa.each(Po,uo=>{let Qn;const Ks=uo.previousSibling,al=uo.parentNode;Ql(al)||(Ks&&ga(Ks)&&Ks.nodeName===R&&xa(co,Ks,H)?(Qn=Ks,uo=co.rename(uo,ve),Ks.appendChild(uo)):(Qn=co.create(R),al.insertBefore(Qn,uo),Qn.appendChild(uo),uo=co.rename(uo,ve)),Qc(co,uo,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Xc(co,Qn,H),Nd(k.dom,Qn))}),k.selection.setRng(du(Mo))},Xm=(k,R)=>ga(k)&&k.nodeName===(R==null?void 0:R.nodeName),Yf=(k,R,H)=>{const le=k.getStyle(R,"list-style-type",!0),ve=k.getStyle(H,"list-style-type",!0);return le===ve},uu=(k,R)=>k.className===R.className,Xf=(k,R,H)=>Xm(R,H)&&Yf(k,R,H)&&uu(R,H),Nd=(k,R)=>{let H,le=R.nextSibling;if(Xf(k,R,le)){const ve=le;for(;H=ve.firstChild;)R.appendChild(H);k.remove(ve)}if(le=R.previousSibling,Xf(k,R,le)){const ve=le;for(;H=ve.lastChild;)R.insertBefore(H,R.firstChild);k.remove(ve)}},Sc=(k,R,H,le)=>{if(R.nodeName!==H){const ve=k.dom.rename(R,H);Xc(k.dom,ve,le),Jn(k,yn(H),ve)}else Xc(k.dom,R,le),Jn(k,yn(H),R)},Qm=(k,R,H,le)=>{if(R.classList.forEach((ve,ft,co)=>{ve.startsWith("tox-")&&(co.remove(ve),co.length===0&&R.removeAttribute("class"))}),R.nodeName!==H){const ve=k.dom.rename(R,H);Xc(k.dom,ve,le),Jn(k,yn(H),ve)}else Xc(k.dom,R,le),Jn(k,yn(H),R)},Dh=(k,R,H,le,ve)=>{const ft=ga(R);if(ft&&R.nodeName===le&&!Li(ve)&&!Sl(R))sl(k);else{Ym(k,le,ve);const co=rl(k.selection.getRng()),Mo=ft?[R,...H]:H,Po=ft&&Sl(R)?Qm:Sc;Xa.each(Mo,uo=>{Po(k,uo,le,ve)}),k.selection.setRng(du(co))}},Li=k=>"list-style-type"in k,Rd=(k,R,H,le)=>{if(R!==k.getBody())if(R)if(R.nodeName===H&&!Li(le)&&!Sl(R))sl(k);else{const ve=rl(k.selection.getRng());Sl(R)&&R.classList.forEach((co,Mo,Po)=>{co.startsWith("tox-")&&(Po.remove(co),Po.length===0&&R.removeAttribute("class"))}),Xc(k.dom,R,le);const ft=k.dom.rename(R,H);Nd(k.dom,ft),k.selection.setRng(du(ve)),Ym(k,H,le),Jn(k,yn(H),ft)}else Ym(k,H,le),Jn(k,yn(H),R)},Jc=(k,R,H)=>{const le=Te(k);if(em(k,le))return;const ve=Xn(k),ft=Ee(H)?H:{};ve.length>0?Dh(k,le,ve,R,ft):Rd(k,le,R,ft)},On=Cl.DOM,Ec=(k,R)=>{const H=R.parentElement;if(H&&H.nodeName==="LI"&&H.firstChild===R){const le=H.previousSibling;le&&le.nodeName==="LI"?(le.appendChild(R),ra(k,H)&&On.remove(H)):On.setStyle(H,"listStyleType","none")}if(ga(H)){const le=H.previousSibling;le&&le.nodeName==="LI"&&le.appendChild(R)}},Da=(k,R)=>{const H=Xa.grep(k.select("ol,ul",R));Xa.each(H,le=>{Ec(k,le)})},Md=(k,R,H,le)=>{let ve=R.startContainer;const ft=R.startOffset;if(Ea(ve)&&(H?ft<ve.data.length:ft>0))return ve;const co=k.schema.getNonEmptyElements();Ls(ve)&&(ve=La.getNode(ve,ft));const Mo=new Wc(ve,le);H&&Sd(k.dom,ve)&&Mo.next();const Po=H?Mo.next.bind(Mo):Mo.prev2.bind(Mo);for(;ve=Po();)if(ve.nodeName==="LI"&&!ve.hasChildNodes()||co[ve.nodeName]||Ea(ve)&&ve.data.length>0)return ve;return null},di=(k,R)=>{const H=R.childNodes;return H.length===1&&!ga(H[0])&&k.isBlock(H[0])},om=k=>ne.from(k).map(vn.fromDom).filter(Zc).exists(R=>Ia(R)&&!bn(["details"],jn(R))),Jm=(k,R)=>{di(k,R)&&om(R.firstChild)&&k.remove(R.firstChild,!0)},ef=(k,R,H)=>{let le;const ve=di(k,H)?H.firstChild:H;if(Jm(k,R),!ra(k,R,!0))for(;le=R.firstChild;)ve.appendChild(le)},ls=(k,R,H)=>{let le;const ve=R.parentNode;if(!ec(k,R)||!ec(k,H))return;ga(H.lastChild)&&(le=H.lastChild),ve===H.lastChild&&yr(ve.previousSibling)&&k.remove(ve.previousSibling);const ft=H.lastChild;ft&&yr(ft)&&R.hasChildNodes()&&k.remove(ft),ra(k,H,!0)&&Si(vn.fromDom(H)),ef(k,R,H),le&&H.appendChild(le);const Mo=jo(vn.fromDom(H),vn.fromDom(R))?k.getParents(R,ga,H):[];k.remove(R),Xt(Mo,Po=>{ra(k,Po)&&Po!==k.getRoot()&&k.remove(Po)})},ed=(k,R,H)=>{Si(vn.fromDom(H)),ls(k.dom,R,H),k.selection.setCursorLocation(H,0)},vs=(k,R,H,le)=>{const ve=k.dom;if(ve.isEmpty(le))ed(k,H,le);else{const ft=rl(R);ls(ve,H,le),k.selection.setRng(du(ft))}},Ja=(k,R,H,le)=>{const ve=rl(R);ls(k.dom,H,le);const ft=du(ve);k.selection.setRng(ft)},mu=(k,R)=>{const H=k.dom,le=k.selection,ve=le.getStart(),ft=ia(k,ve),co=H.getParent(le.getStart(),"LI",ft);if(co){const Mo=co.parentElement;if(Mo===k.getBody()&&ra(H,Mo))return!0;const Po=P(le.getRng()),uo=H.getParent(Md(k,Po,R,ft),"LI",ft),Qn=uo&&(R?H.isChildOf(co,uo):H.isChildOf(uo,co));if(uo&&uo!==co&&!Qn)return k.undoManager.transact(()=>{R?vs(k,Po,uo,co):_l(co)?Va(k):Ja(k,Po,co,uo)}),!0;if(Qn&&!R&&uo!==co){const Ks=Po.commonAncestorContainer.parentElement;return!Ks||H.isChildOf(uo,Ks)?!1:(k.undoManager.transact(()=>{const al=rl(Po);ef(H,Ks,uo),Ks.remove();const Ns=du(al);k.selection.setRng(Ns)}),!0)}else if(!uo&&!R&&Po.startOffset===0&&Po.endOffset===0)return k.undoManager.transact(()=>{sl(k)}),!0}return!1},ui=(k,R,H)=>{const le=k.getParent(R.parentNode,k.isBlock,H);k.remove(R),le&&k.isEmpty(le)&&k.remove(le)},Qf=(k,R)=>{const H=k.dom,le=k.selection.getStart(),ve=ia(k,le),ft=H.getParent(le,H.isBlock,ve);if(ft&&H.isEmpty(ft,void 0,{checkRootAsContent:!0})){const co=P(k.selection.getRng()),Mo=Md(k,co,R,ve),Po=H.getParent(Mo,"LI",ve);if(Mo&&Po){const uo=Ns=>bn(["td","th","caption"],jn(Ns)),Qn=Ns=>Ns.dom===ve,Ks=Yl(vn.fromDom(Po),uo,Qn),al=Yl(vn.fromDom(co.startContainer),uo,Qn);return oa(Ks,al,Kt)?(k.undoManager.transact(()=>{const Ns=Po.parentNode;ui(H,ft,ve),Nd(H,Ns),k.selection.select(Mo,!0),k.selection.collapse(R)}),!0):!1}}return!1},la=(k,R)=>mu(k,R)||Qf(k,R),Bd=k=>{const R=k.selection.getStart(),H=ia(k,R);return k.dom.getParent(R,"LI,DT,DD",H)||Ln(k).length>0},Oh=k=>Bd(k)?(k.undoManager.transact(()=>{let R=!0;const H=()=>R=!1;k.on("input",H),k.execCommand("Delete"),k.off("input",H),R&&k.dispatch("input"),Da(k.dom,k.getBody())}),!0):!1,ca=(k,R)=>{const H=k.selection;return!em(k,H.getNode())&&(H.isCollapsed()?la(k,R):Oh(k))},Jf=k=>{k.on("ExecCommand",R=>{const H=R.command.toLowerCase();(H==="delete"||H==="forwarddelete")&&Bd(k)&&Da(k.dom,k.getBody())}),k.on("keydown",R=>{R.keyCode===Xl.BACKSPACE?ca(k,!1)&&R.preventDefault():R.keyCode===Xl.DELETE&&ca(k,!0)&&R.preventDefault()})},ep=k=>({backspaceDelete:R=>{ca(k,R)}}),Nh=(k,R)=>{const H=Te(k);H===null||em(k,H)||k.undoManager.transact(()=>{Ee(R.styles)&&k.dom.setStyles(H,R.styles),Ee(R.attrs)&&Ao(R.attrs,(le,ve)=>k.dom.setAttrib(H,ve,le))})},tp=k=>{const R=Ci(jl(k).split("")),H=Ke(R,(le,ve)=>{const ft=le.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,ve)*ft});return ko(H,(le,ve)=>le+ve,0)},nm=k=>{if(k--,k<0)return"";{const R=k%26,H=Math.floor(k/26),le=nm(H),ve=String.fromCharCode(65+R);return le+ve}},op=k=>/^[A-Z]+$/.test(k),np=k=>/^[a-z]+$/.test(k),sp=k=>/^[0-9]+$/.test(k),tf=k=>sp(k)?2:op(k)?0:np(k)?1:_o(k)?3:4,Ac=k=>{switch(tf(k)){case 2:return ne.some({listStyleType:ne.none(),start:k});case 0:return ne.some({listStyleType:ne.some("upper-alpha"),start:tp(k).toString()});case 1:return ne.some({listStyleType:ne.some("lower-alpha"),start:tp(k).toString()});case 3:return ne.some({listStyleType:ne.none(),start:""});case 4:return ne.none()}},ei=k=>{const R=parseInt(k.start,10);return _i(k.listStyleType,"upper-alpha")?nm(R):_i(k.listStyleType,"lower-alpha")?nm(R).toLowerCase():k.start},td=k=>{const R=Te(k);!Gc(R)||em(k,R)||k.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:ei({start:k.dom.getAttrib(R,"start","1"),listStyleType:ne.from(k.dom.getStyle(R,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:H=>{const le=H.getData();Ac(le.start).each(ve=>{k.execCommand("mceListUpdate",!1,{attrs:{start:ve.start==="1"?"":ve.start},styles:{"list-style-type":ve.listStyleType.getOr("")}})}),H.close()}})},sm=(k,R)=>()=>{const H=Te(k);return Ct(H)&&H.nodeName===R},Zn=k=>{k.addCommand("mceListProps",()=>{td(k)})},rp=k=>{k.on("BeforeExecCommand",R=>{const H=R.command.toLowerCase();H==="indent"?un(k):H==="outdent"&&Va(k)}),k.addCommand("InsertUnorderedList",(R,H)=>{Jc(k,"UL",H)}),k.addCommand("InsertOrderedList",(R,H)=>{Jc(k,"OL",H)}),k.addCommand("InsertDefinitionList",(R,H)=>{Jc(k,"DL",H)}),k.addCommand("RemoveList",()=>{sl(k)}),Zn(k),k.addCommand("mceListUpdate",(R,H)=>{Ee(H)&&Nh(k,H)}),k.addQueryStateHandler("InsertUnorderedList",sm(k,"UL")),k.addQueryStateHandler("InsertOrderedList",sm(k,"OL")),k.addQueryStateHandler("InsertDefinitionList",sm(k,"DL"))};var Tc=tinymce.util.Tools.resolve("tinymce.html.Node");const oc=k=>k.type===3,of=k=>k.length===0,$r=k=>{const R=(ve,ft)=>{const co=Tc.create("li");Xt(ve,Mo=>co.append(Mo)),ft?k.insert(co,ft,!0):k.append(co)},H=(ve,ft)=>oc(ft)?[...ve,ft]:!of(ve)&&!oc(ft)?(R(ve,ft),[]):ve,le=ko(k.children(),H,[]);of(le)||R(le)},nc=k=>{k.on("PreInit",()=>{const{parser:R}=k;R.addNodeFilter("ul,ol",H=>Xt(H,$r))})},Oa=k=>{k.on("keydown",R=>{R.keyCode!==Xl.TAB||Xl.metaKeyPressed(R)||k.undoManager.transact(()=>{(R.shiftKey?Va(k):un(k))&&R.preventDefault()})})},zs=k=>{Xu(k)&&Oa(k),Jf(k)},Js=(k,R)=>H=>{const le=ve=>{H.setActive(Wf(ve.parents,R)),H.setEnabled(!em(k,ve.element)&&k.selection.isEditable())};return H.setEnabled(k.selection.isEditable()),ha(k,le)},er=k=>{const R=H=>()=>k.execCommand(H);k.hasPlugin("advlist")||(k.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:R("InsertOrderedList"),onSetup:Js(k,"OL")}),k.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:R("InsertUnorderedList"),onSetup:Js(k,"UL")}))},fg=(k,R)=>H=>ha(k,ve=>H.setEnabled(Wf(ve.parents,R)&&!em(k,ve.element))),Na=k=>{const R={text:"List properties...",icon:"ordered-list",onAction:()=>k.execCommand("mceListProps"),onSetup:fg(k,"OL")};k.ui.registry.addMenuItem("listprops",R),k.ui.registry.addContextMenu("lists",{update:H=>{const le=Te(k,H);return Gc(le)?["listprops"]:[]}})};var fu=()=>{re.add("lists",k=>(Zm(k),nc(k),k.hasPlugin("rtc",!0)?Zn(k):(zs(k),rp(k)),er(k),Na(k),ep(k)))};fu()}()),vz}var wz;function _Y(){return wz||(wz=1,CY()),xz}_Y();var Cz={},_z={},kz;function kY(){return kz||(kz=1,function(){var re=tinymce.util.Tools.resolve("tinymce.PluginManager");const ye=(je,Ae,ht)=>{const dn=Ae==="UL"?"InsertUnorderedList":"InsertOrderedList";je.execCommand(dn,!1,ht===!1?null:{"list-style-type":ht})},Fe=je=>{je.addCommand("ApplyUnorderedListStyle",(Ae,ht)=>{ye(je,"UL",ht["list-style-type"])}),je.addCommand("ApplyOrderedListStyle",(Ae,ht)=>{ye(je,"OL",ht["list-style-type"])})},Oe=je=>Ae=>Ae.options.get(je),Xe=je=>{const Ae=je.options.register;Ae("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Ae("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},Se=Oe("advlist_number_styles"),Ee=Oe("advlist_bullet_styles"),He=je=>je==null,Ze=je=>!He(je);class ut{constructor(Ae,ht){this.tag=Ae,this.value=ht}static some(Ae){return new ut(!0,Ae)}static none(){return ut.singletonNone}fold(Ae,ht){return this.tag?ht(this.value):Ae()}isSome(){return this.tag}isNone(){return!this.tag}map(Ae){return this.tag?ut.some(Ae(this.value)):ut.none()}bind(Ae){return this.tag?Ae(this.value):ut.none()}exists(Ae){return this.tag&&Ae(this.value)}forall(Ae){return!this.tag||Ae(this.value)}filter(Ae){return!this.tag||Ae(this.value)?this:ut.none()}getOr(Ae){return this.tag?this.value:Ae}or(Ae){return this.tag?this:Ae}getOrThunk(Ae){return this.tag?this.value:Ae()}orThunk(Ae){return this.tag?this:Ae()}getOrDie(Ae){if(this.tag)return this.value;throw new Error(Ae??"Called getOrDie on None")}static from(Ae){return Ze(Ae)?ut.some(Ae):ut.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ae){this.tag&&Ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ut.singletonNone=new ut(!1);const Ct=Array.prototype.indexOf,Ht=(je,Ae)=>Ct.call(je,Ae),xt=(je,Ae)=>Ht(je,Ae)>-1,Ne=(je,Ae,ht)=>{for(let dn=0,Oo=je.length;dn<Oo;dn++){const Ao=je[dn];if(Ae(Ao,dn))return ut.some(Ao);if(ht(Ao,dn))break}return ut.none()},gt=Object.keys,Tt=(je,Ae)=>{const ht=gt(je);for(let dn=0,Oo=ht.length;dn<Oo;dn++){const Ao=ht[dn],Go=je[Ao];Ae(Go,Ao)}},lt=(je,Ae)=>xe(je,(ht,dn)=>({k:dn,v:Ae(ht,dn)})),xe=(je,Ae)=>{const ht={};return Tt(je,(dn,Oo)=>{const Ao=Ae(dn,Oo);ht[Ao.k]=Ao.v}),ht};var Pe=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ue=je=>/\btox\-/.test(je.className),ne=(je,Ae)=>je.dom.isChildOf(Ae,je.getBody()),kt=je=>Ae=>Ze(Ae)&&je.test(Ae.nodeName),pe=kt(/^(OL|UL|DL)$/),hn=kt(/^(TH|TD)$/),is=(je,Ae,ht)=>Ne(Ae,dn=>pe(dn)&&!Ue(dn),hn).exists(dn=>dn.nodeName===ht&&ne(je,dn)),bn=je=>{const Ae=je.dom.getParent(je.selection.getNode(),"ol,ul"),ht=je.dom.getStyle(Ae,"listStyleType");return ut.from(ht)},qo=(je,Ae)=>Ae!==null&&!je.dom.isEditable(Ae),Ke=(je,Ae)=>{const ht=je.dom.getParent(Ae,"ol,ul,dl");return qo(je,ht)||!je.selection.isEditable()},Xt=(je,Ae)=>{const ht=je.selection.getNode();return Ae({parents:je.dom.getParents(ht),element:ht}),je.on("NodeChange",Ae),()=>je.off("NodeChange",Ae)},A=je=>je.replace(/\-/g," ").replace(/\b\w/g,Ae=>Ae.toUpperCase()),Co=je=>He(je)||je==="default"?"":je,ko=(je,Ae)=>ht=>{const dn=(Ao,Go)=>{const z=Ao.selection.getStart(!0);ht.setActive(is(Ao,Go,Ae)),ht.setEnabled(!Ke(Ao,z))};return Xt(je,Ao=>dn(je,Ao.parents))},Bn=(je,Ae,ht,dn,Oo,Ao)=>{const Go={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},z=lt(Go,ur=>xt(Ao,ur));je.ui.registry.addSplitButton(Ae,{tooltip:ht,icon:Oo==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:Oo==="OL"?3:4,fetch:ur=>{const Ps=Pe.map(Ao,Uo=>{const _i=Oo==="OL"?"num":"bull",oa=Uo==="decimal"?"default":Uo,on=Co(Uo),Kn=A(Uo);return{type:"choiceitem",value:on,icon:"list-"+_i+"-"+oa,text:Kn}});ur(Ps)},onAction:()=>je.execCommand(dn),onItemAction:(ur,Ps)=>{ye(je,Oo,Ps)},select:ur=>bn(je).exists(Uo=>ur===Uo||Go[Uo]===ur&&!z[ur]),onSetup:ko(je,Oo)})},dr=(je,Ae,ht,dn,Oo,Ao)=>{je.ui.registry.addToggleButton(Ae,{active:!1,tooltip:ht,icon:Oo==="OL"?"ordered-list":"unordered-list",onSetup:ko(je,Oo),onAction:()=>je.queryCommandState(dn)||Ao===""?je.execCommand(dn):ye(je,Oo,Ao)})},St=(je,Ae,ht,dn,Oo,Ao)=>{Ao.length>1?Bn(je,Ae,ht,dn,Oo,Ao):dr(je,Ae,ht,dn,Oo,Co(Ao[0]))},Tn=je=>{St(je,"numlist","Numbered list","InsertOrderedList","OL",Se(je)),St(je,"bullist","Bullet list","InsertUnorderedList","UL",Ee(je))};var Ci=()=>{re.add("advlist",je=>{je.hasPlugin("lists")?(Xe(je),Tn(je),Fe(je)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};Ci()}()),_z}var Sz;function SY(){return Sz||(Sz=1,kY()),Cz}SY();var Ez={},Az={},Tz;function EY(){return Tz||(Tz=1,function(){var re=tinymce.util.Tools.resolve("tinymce.PluginManager");const ye=Object.getPrototypeOf,Fe=(P,K,me)=>{var Te;return me(P,K.prototype)?!0:((Te=P.constructor)===null||Te===void 0?void 0:Te.name)===K.name},Oe=P=>{const K=typeof P;return P===null?"null":K==="object"&&Array.isArray(P)?"array":K==="object"&&Fe(P,String,(me,Te)=>Te.isPrototypeOf(me))?"string":K},Xe=P=>K=>Oe(K)===P,Se=P=>K=>typeof K===P,Ee=P=>K=>P===K,He=(P,K)=>ut(P)&&Fe(P,K,(me,Te)=>ye(me)===Te),Ze=Xe("string"),ut=Xe("object"),Ct=P=>He(P,Object),Ht=Xe("array"),xt=Ee(null),Ne=Se("boolean"),gt=P=>P==null,Tt=P=>!gt(P),lt=Se("function"),xe=Se("number"),Pe=(P,K)=>{if(Ht(P)){for(let me=0,Te=P.length;me<Te;++me)if(!K(P[me]))return!1;return!0}return!1},Ue=()=>{};class ne{constructor(K,me){this.tag=K,this.value=me}static some(K){return new ne(!0,K)}static none(){return ne.singletonNone}fold(K,me){return this.tag?me(this.value):K()}isSome(){return this.tag}isNone(){return!this.tag}map(K){return this.tag?ne.some(K(this.value)):ne.none()}bind(K){return this.tag?K(this.value):ne.none()}exists(K){return this.tag&&K(this.value)}forall(K){return!this.tag||K(this.value)}filter(K){return!this.tag||K(this.value)?this:ne.none()}getOr(K){return this.tag?this.value:K}or(K){return this.tag?this:K}getOrThunk(K){return this.tag?this.value:K()}orThunk(K){return this.tag?this:K()}getOrDie(K){if(this.tag)return this.value;throw new Error(K??"Called getOrDie on None")}static from(K){return Tt(K)?ne.some(K):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(K){this.tag&&K(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const kt=Array.prototype.push,pe=P=>{const K=[];for(let me=0,Te=P.length;me<Te;++me){if(!Ht(P[me]))throw new Error("Arr.flatten item "+me+" was not an array, input: "+P);kt.apply(K,P[me])}return K},hn=(P,K)=>K>=0&&K<P.length?ne.some(P[K]):ne.none(),is=P=>hn(P,0),bn=(P,K)=>{for(let me=0;me<P.length;me++){const Te=K(P[me],me);if(Te.isSome())return Te}return ne.none()},qo=Object.keys,Ke=Object.hasOwnProperty,Xt=(P,K)=>{const me=qo(P);for(let Te=0,jt=me.length;Te<jt;Te++){const an=me[Te],Xn=P[an];K(Xn,an)}},A=P=>(K,me)=>{P[me]=K},Co=(P,K,me,Te)=>{Xt(P,(jt,an)=>{(K(jt,an)?me:Te)(jt,an)})},ko=(P,K)=>{const me={};return Co(P,K,A(me),Ue),me},Bn=(P,K)=>Ke.call(P,K),dr=(P,K)=>Bn(P,K)&&P[K]!==void 0&&P[K]!==null,Ci=(P=>(...K)=>{if(K.length===0)throw new Error("Can't merge zero objects");const me={};for(let Te=0;Te<K.length;Te++){const jt=K[Te];for(const an in jt)Bn(jt,an)&&(me[an]=P(me[an],jt[an]))}return me})((P,K)=>Ct(P)&&Ct(K)?Ci(P,K):K),je=P=>P.length>0,Ae=(P,K)=>{const Te=(K||document).createElement("div");if(Te.innerHTML=P,!Te.hasChildNodes()||Te.childNodes.length>1){const jt="HTML does not have a single root node";throw console.error(jt,P),new Error(jt)}return Oo(Te.childNodes[0])},ht=(P,K)=>{const Te=(K||document).createElement(P);return Oo(Te)},dn=(P,K)=>{const Te=(K||document).createTextNode(P);return Oo(Te)},Oo=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},Go={fromHtml:Ae,fromTag:ht,fromText:dn,fromDom:Oo,fromPoint:(P,K,me)=>ne.from(P.dom.elementFromPoint(K,me)).map(Oo)},z=(P,K,me)=>{if(Ze(me)||Ne(me)||xe(me))P.setAttribute(K,me+"");else throw console.error("Invalid call to Attribute.set. Key ",K,":: Value ",me,":: Element ",P),new Error("Attribute value was not simple")},ur=(P,K,me)=>{z(P.dom,K,me)},Ps=(P,K)=>{P.dom.removeAttribute(K)};var Uo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_i=tinymce.util.Tools.resolve("tinymce.util.URI");const oa=P=>K=>K.options.get(P),on=P=>{const K=P.options.register;K("image_dimensions",{processor:"boolean",default:!0}),K("image_advtab",{processor:"boolean",default:!1}),K("image_uploadtab",{processor:"boolean",default:!0}),K("image_prepend_url",{processor:"string",default:""}),K("image_class_list",{processor:"object[]"}),K("image_description",{processor:"boolean",default:!0}),K("image_title",{processor:"boolean",default:!1}),K("image_caption",{processor:"boolean",default:!1}),K("image_list",{processor:me=>{const Te=me===!1||Ze(me)||Pe(me,ut)||lt(me);return Te?{value:me,valid:Te}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Kn=oa("image_dimensions"),Xo=oa("image_advtab"),nt=oa("image_uploadtab"),jl=oa("image_prepend_url"),xr=oa("image_class_list"),_o=oa("image_description"),vc=oa("image_title"),ws=oa("image_caption"),Zs=oa("image_list"),js=oa("a11y_advanced_options"),mr=oa("automatic_uploads"),Ss=P=>je(P.options.get("images_upload_url")),na=P=>Tt(P.options.get("images_upload_handler")),vn=(P,K)=>Math.max(parseInt(P,10),parseInt(K,10)),tl=P=>new Promise(K=>{const me=document.createElement("img"),Te=an=>{me.parentNode&&me.parentNode.removeChild(me),K(an)};me.addEventListener("load",()=>{const an=vn(me.width,me.clientWidth),Xn=vn(me.height,me.clientHeight),Vr={width:an,height:Xn};Te(Promise.resolve(Vr))}),me.addEventListener("error",()=>{Te(Promise.reject(`Failed to get image dimensions for: ${P}`))});const jt=me.style;jt.visibility="hidden",jt.position="fixed",jt.bottom=jt.left="0px",jt.width=jt.height="auto",document.body.appendChild(me),me.src=P}),ol=P=>(P&&(P=P.replace(/px$/,"")),P),Ya=P=>(P.length>0&&/^[0-9]+$/.test(P)&&(P+="px"),P),ki=P=>{if(P.margin){const K=String(P.margin).split(" ");switch(K.length){case 1:P["margin-top"]=P["margin-top"]||K[0],P["margin-right"]=P["margin-right"]||K[0],P["margin-bottom"]=P["margin-bottom"]||K[0],P["margin-left"]=P["margin-left"]||K[0];break;case 2:P["margin-top"]=P["margin-top"]||K[0],P["margin-right"]=P["margin-right"]||K[1],P["margin-bottom"]=P["margin-bottom"]||K[0],P["margin-left"]=P["margin-left"]||K[1];break;case 3:P["margin-top"]=P["margin-top"]||K[0],P["margin-right"]=P["margin-right"]||K[1],P["margin-bottom"]=P["margin-bottom"]||K[2],P["margin-left"]=P["margin-left"]||K[1];break;case 4:P["margin-top"]=P["margin-top"]||K[0],P["margin-right"]=P["margin-right"]||K[1],P["margin-bottom"]=P["margin-bottom"]||K[2],P["margin-left"]=P["margin-left"]||K[3]}delete P.margin}return P},nr=(P,K)=>{const me=Zs(P);Ze(me)?fetch(me).then(Te=>{Te.ok&&Te.json().then(K)}):lt(me)?me(K):K(me)},Kt=(P,K,me)=>{const Te=()=>{me.onload=me.onerror=null,P.selection&&(P.selection.select(me),P.nodeChanged())};me.onload=()=>{!K.width&&!K.height&&Kn(P)&&P.dom.setAttribs(me,{width:String(me.clientWidth),height:String(me.clientHeight)}),Te()},me.onerror=Te},jo=P=>new Promise((K,me)=>{const Te=new FileReader;Te.onload=()=>{K(Te.result)},Te.onerror=()=>{var jt;me((jt=Te.error)===null||jt===void 0?void 0:jt.message)},Te.readAsDataURL(P)}),xs=P=>P.nodeName==="IMG"&&(P.hasAttribute("data-mce-object")||P.hasAttribute("data-mce-placeholder")),Lr=(P,K)=>{const me=P.options.get;return _i.isDomSafe(K,"img",{allow_html_data_urls:me("allow_html_data_urls"),allow_script_urls:me("allow_script_urls"),allow_svg_data_urls:me("allow_svg_data_urls")})},Vt=Uo.DOM,Fr=P=>P.style.marginLeft&&P.style.marginRight&&P.style.marginLeft===P.style.marginRight?ol(P.style.marginLeft):"",tu=P=>P.style.marginTop&&P.style.marginBottom&&P.style.marginTop===P.style.marginBottom?ol(P.style.marginTop):"",Un=P=>P.style.borderWidth?ol(P.style.borderWidth):"",jn=(P,K)=>{var me;return P.hasAttribute(K)&&(me=P.getAttribute(K))!==null&&me!==void 0?me:""},sa=P=>P.parentNode!==null&&P.parentNode.nodeName==="FIGURE",Dr=(P,K,me)=>{me===""||me===null?P.removeAttribute(K):P.setAttribute(K,me)},ou=P=>{const K=Vt.create("figure",{class:"image"});Vt.insertAfter(K,P),K.appendChild(P),K.appendChild(Vt.create("figcaption",{contentEditable:"true"},"Caption")),K.contentEditable="false"},Zc=P=>{const K=P.parentNode;Tt(K)&&(Vt.insertAfter(P,K),Vt.remove(K))},Fo=P=>{sa(P)?Zc(P):ou(P)},fr=(P,K)=>{const me=P.getAttribute("style"),Te=K(me!==null?me:"");Te.length>0?(P.setAttribute("style",Te),P.setAttribute("data-mce-style",Te)):P.removeAttribute("style")},pa=(P,K)=>(me,Te,jt)=>{const an=me.style;an[Te]?(an[Te]=Ya(jt),fr(me,K)):Dr(me,Te,jt)},kn=(P,K)=>P.style[K]?ol(P.style[K]):jn(P,K),Jt=(P,K)=>{const me=Ya(K);P.style.marginLeft=me,P.style.marginRight=me},zr=(P,K)=>{const me=Ya(K);P.style.marginTop=me,P.style.marginBottom=me},yc=(P,K)=>{const me=Ya(K);P.style.borderWidth=me},Me=(P,K)=>{P.style.borderStyle=K},ka=P=>{var K;return(K=P.style.borderStyle)!==null&&K!==void 0?K:""},Wo=P=>Tt(P)&&P.nodeName==="FIGURE",nu=P=>P.nodeName==="IMG",Sa=P=>Vt.getAttrib(P,"alt").length===0&&Vt.getAttrib(P,"role")==="presentation",Wl=P=>Sa(P)?"":jn(P,"alt"),vr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),wc=(P,K)=>{var me;const Te=document.createElement("img");return Dr(Te,"style",K.style),(Fr(Te)||K.hspace!=="")&&Jt(Te,K.hspace),(tu(Te)||K.vspace!=="")&&zr(Te,K.vspace),(Un(Te)||K.border!=="")&&yc(Te,K.border),(ka(Te)||K.borderStyle!=="")&&Me(Te,K.borderStyle),P((me=Te.getAttribute("style"))!==null&&me!==void 0?me:"")},ci=(P,K)=>{const me=document.createElement("img");if(Yn(P,{...K,caption:!1},me),Cs(me,K.alt,K.isDecorative),K.caption){const Te=Vt.create("figure",{class:"image"});return Te.appendChild(me),Te.appendChild(Vt.create("figcaption",{contentEditable:"true"},"Caption")),Te.contentEditable="false",Te}else return me},wd=(P,K)=>({src:jn(K,"src"),alt:Wl(K),title:jn(K,"title"),width:kn(K,"width"),height:kn(K,"height"),class:jn(K,"class"),style:P(jn(K,"style")),caption:sa(K),hspace:Fr(K),vspace:tu(K),border:Un(K),borderStyle:ka(K),isDecorative:Sa(K)}),Is=(P,K,me,Te,jt)=>{me[Te]!==K[Te]&&jt(P,Te,String(me[Te]))},Cs=(P,K,me)=>{if(me){Vt.setAttrib(P,"role","presentation");const Te=Go.fromDom(P);ur(Te,"alt","")}else{if(xt(K)){const Te=Go.fromDom(P);Ps(Te,"alt")}else{const Te=Go.fromDom(P);ur(Te,"alt",K)}Vt.getAttrib(P,"role")==="presentation"&&Vt.setAttrib(P,"role","")}},Pn=(P,K,me)=>{(me.alt!==K.alt||me.isDecorative!==K.isDecorative)&&Cs(P,me.alt,me.isDecorative)},Mi=(P,K)=>(me,Te,jt)=>{P(me,jt),fr(me,K)},Yn=(P,K,me)=>{const Te=wd(P,me);Is(me,Te,K,"caption",(jt,an,Xn)=>Fo(jt)),Is(me,Te,K,"src",Dr),Is(me,Te,K,"title",Dr),Is(me,Te,K,"width",pa("width",P)),Is(me,Te,K,"height",pa("height",P)),Is(me,Te,K,"class",Dr),Is(me,Te,K,"style",Mi((jt,an)=>Dr(jt,"style",an),P)),Is(me,Te,K,"hspace",Mi(Jt,P)),Is(me,Te,K,"vspace",Mi(zr,P)),Is(me,Te,K,"border",Mi(yc,P)),Is(me,Te,K,"borderStyle",Mi(Me,P)),Pn(me,Te,K)},Es=(P,K)=>{const me=P.dom.styles.parse(K),Te=ki(me),jt=P.dom.styles.parse(P.dom.styles.serialize(Te));return P.dom.styles.serialize(jt)},Cc=P=>{const K=P.selection.getNode(),me=P.dom.getParent(K,"figure.image");return me?P.dom.select("img",me)[0]:K&&(K.nodeName!=="IMG"||xs(K))?null:K},Si=(P,K)=>{var me;const Te=P.dom,jt=ko(P.schema.getTextBlockElements(),(Xn,Vr)=>!P.schema.isValidChild(Vr,"figure")),an=Te.getParent(K.parentNode,Xn=>dr(jt,Xn.nodeName),P.getBody());return an&&(me=Te.split(an,K))!==null&&me!==void 0?me:K},ql=P=>{const K=Cc(P);return K?wd(me=>Es(P,me),K):vr()},Gl=(P,K)=>{const me=ci(jt=>Es(P,jt),K);P.dom.setAttrib(me,"data-mce-id","__mcenew"),P.focus(),P.selection.setContent(me.outerHTML);const Te=P.dom.select('*[data-mce-id="__mcenew"]')[0];if(P.dom.setAttrib(Te,"data-mce-id",null),Wo(Te)){const jt=Si(P,Te);P.selection.select(jt)}else P.selection.select(Te)},sr=(P,K)=>{P.dom.setAttrib(K,"src",K.getAttribute("src"))},su=(P,K)=>{if(K){const me=P.dom.is(K.parentNode,"figure.image")?K.parentNode:K;P.dom.remove(me),P.focus(),P.nodeChanged(),P.dom.isEmpty(P.getBody())&&(P.setContent(""),P.selection.setCursorLocation())}},rr=(P,K)=>{const me=Cc(P);if(me)if(Yn(Te=>Es(P,Te),K,me),sr(P,me),Wo(me.parentNode)){P.dom.setStyle(me,"float","");const Te=me.parentNode;Si(P,Te),P.selection.select(me.parentNode)}else P.selection.select(me),Kt(P,K,me)},ru=(P,K)=>{const me=K.src;return{...K,src:Lr(P,me)?me:""}},Um=(P,K)=>{const me=Cc(P);if(me){const jt={...wd(Xn=>Es(P,Xn),me),...K},an=ru(P,jt);jt.src?rr(P,an):su(P,me)}else K.src&&Gl(P,{...vr(),...K})};var Kl=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Ku=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ft=P=>Ze(P.value)?P.value:"",nl=P=>Ze(P.text)?P.text:Ze(P.title)?P.title:"",au=(P,K)=>{const me=[];return Ku.each(P,Te=>{const jt=nl(Te);if(Te.menu!==void 0){const an=au(Te.menu,K);me.push({text:jt,items:an})}else{const an=K(Te);me.push({text:jt,value:an})}}),me},Cd=(P=Ft)=>K=>K?ne.from(K).map(me=>au(me,P)):ne.none(),Yl=P=>Cd(Ft)(P),Or=P=>Bn(P,"items"),ar=(P,K)=>bn(P,me=>Or(me)?ar(me.items,K):me.value===K?ne.some(me):ne.none()),Ia={sanitizer:Cd,sanitize:Yl,findEntry:(P,K)=>P.bind(me=>ar(me,K))},jf={makeTab:P=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},In=P=>{const K=Ia.sanitizer(kl=>P.convertURL(kl.value||kl.url||"","src")),me=new Promise(kl=>{nr(P,Aa=>{kl(K(Aa).map(Ed=>pe([[{text:"None",value:""}],Ed])))})}),Te=Ia.sanitize(xr(P)),jt=Xo(P),an=nt(P),Xn=Ss(P),Vr=na(P),Ln=ql(P),aa=_o(P),ia=vc(P),Nr=Kn(P),ds=ws(P),jm=js(P),Qu=mr(P),Qa=ne.some(jl(P)).filter(kl=>Ze(kl)&&kl.length>0);return me.then(kl=>({image:Ln,imageList:kl,classList:Te,hasAdvTab:jt,hasUploadTab:an,hasUploadUrl:Xn,hasUploadHandler:Vr,hasDescription:aa,hasImageTitle:ia,hasDimensions:Nr,hasImageCaption:ds,prependURL:Qa,hasAccessibilityOptions:jm,automaticUploads:Qu}))},La=P=>{const K={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},me=P.imageList.map(ia=>({name:"images",type:"listbox",label:"Image list",items:ia})),Te={name:"alt",type:"input",label:"Alternative description",enabled:!(P.hasAccessibilityOptions&&P.image.isDecorative)},jt={name:"title",type:"input",label:"Image title"},an={name:"dimensions",type:"sizeinput"},Xn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Vr=P.classList.map(ia=>({name:"classes",type:"listbox",label:"Class",items:ia})),Ln={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},aa=ia=>ia?{type:"grid",columns:2}:{type:"panel"};return pe([[K],me.toArray(),P.hasAccessibilityOptions&&P.hasDescription?[Xn]:[],P.hasDescription?[Te]:[],P.hasImageTitle?[jt]:[],P.hasDimensions?[an]:[],[{...aa(P.classList.isSome()&&P.hasImageCaption),items:pe([Vr.toArray(),P.hasImageCaption?[Ln]:[]])}]])},Xl={makeTab:P=>({title:"General",name:"general",items:La(P)}),makeItems:La},Xa={makeTab:P=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},qc=P=>({prevImage:Ia.findEntry(P.imageList,P.image.src),prevAlt:P.image.alt,open:!0}),ir=P=>({src:{value:P.src,meta:{}},images:P.src,alt:P.alt,title:P.title,dimensions:{width:P.width,height:P.height},classes:P.class,caption:P.caption,style:P.style,vspace:P.vspace,border:P.border,hspace:P.hspace,borderstyle:P.borderStyle,fileinput:[],isDecorative:P.isDecorative}),Ea=(P,K)=>({src:P.src.value,alt:(P.alt===null||P.alt.length===0)&&K?null:P.alt,title:P.title,width:P.dimensions.width,height:P.dimensions.height,class:P.classes,style:P.style,caption:P.caption,hspace:P.hspace,vspace:P.vspace,border:P.border,borderStyle:P.borderstyle,isDecorative:P.isDecorative}),Ls=(P,K)=>/^(?:[a-zA-Z]+:)?\/\//.test(K)?ne.none():P.prependURL.bind(me=>K.substring(0,me.length)!==me?ne.some(me+K):ne.none()),ga=(P,K)=>{const me=K.getData();Ls(P,me.src.value).each(Te=>{K.setData({src:{value:Te,meta:me.src.meta}})})},Fs=(P,K,me)=>{P.hasDescription&&Ze(me.alt)&&(K.alt=me.alt),P.hasAccessibilityOptions&&(K.isDecorative=me.isDecorative||K.isDecorative||!1),P.hasImageTitle&&Ze(me.title)&&(K.title=me.title),P.hasDimensions&&(Ze(me.width)&&(K.dimensions.width=me.width),Ze(me.height)&&(K.dimensions.height=me.height)),Ze(me.class)&&Ia.findEntry(P.classList,me.class).each(Te=>{K.classes=Te.value}),P.hasImageCaption&&Ne(me.caption)&&(K.caption=me.caption),P.hasAdvTab&&(Ze(me.style)&&(K.style=me.style),Ze(me.vspace)&&(K.vspace=me.vspace),Ze(me.border)&&(K.border=me.border),Ze(me.hspace)&&(K.hspace=me.hspace),Ze(me.borderstyle)&&(K.borderstyle=me.borderstyle))},Gc=(P,K)=>{const me=K.getData(),Te=me.src.meta;if(Te!==void 0){const jt=Ci({},me);Fs(P,jt,Te),K.setData(jt)}},Ql=(P,K,me,Te)=>{const jt=Te.getData(),an=jt.src.value,Xn=jt.src.meta||{};!Xn.width&&!Xn.height&&K.hasDimensions&&(je(an)?P.imageSize(an).then(Vr=>{me.open&&Te.setData({dimensions:Vr})}).catch(Vr=>console.error(Vr)):Te.setData({dimensions:{width:"",height:""}}))},_d=(P,K,me)=>{const Te=me.getData(),jt=Ia.findEntry(P.imageList,Te.src.value);K.prevImage=jt,me.setData({images:jt.map(an=>an.value).getOr("")})},iu=(P,K,me,Te)=>{ga(K,Te),Gc(K,Te),Ql(P,K,me,Te),_d(K,me,Te)},yr=(P,K,me,Te)=>{const jt=Te.getData(),an=Ia.findEntry(K.imageList,jt.images);an.each(Xn=>{jt.alt===""||me.prevImage.map(Ln=>Ln.text===jt.alt).getOr(!1)?Xn.value===""?Te.setData({src:Xn,alt:me.prevAlt}):Te.setData({src:Xn,alt:Xn.text}):Te.setData({src:Xn})}),me.prevImage=an,iu(P,K,me,Te)},_l=(P,K,me,Te)=>{const jt=Te.getData();Te.block("Uploading image"),is(jt.fileinput).fold(()=>{Te.unblock()},an=>{const Xn=URL.createObjectURL(an),Vr=()=>{Te.unblock(),URL.revokeObjectURL(Xn)},Ln=aa=>{Te.setData({src:{value:aa,meta:{}}}),Te.showTab("general"),iu(P,K,me,Te),Te.focus("src")};jo(an).then(aa=>{const ia=P.createBlobCache(an,Xn,aa);K.automaticUploads?P.uploadImage(ia).then(Nr=>{Ln(Nr.url),Vr()}).catch(Nr=>{Vr(),P.alertErr(Nr,()=>{Te.focus("fileinput")})}):(P.addToBlobCache(ia),Ln(ia.blobUri()),Te.unblock())})})},Jl=(P,K,me)=>(Te,jt)=>{jt.name==="src"?iu(P,K,me,Te):jt.name==="images"?yr(P,K,me,Te):jt.name==="alt"?me.prevAlt=Te.getData().alt:jt.name==="fileinput"?_l(P,K,me,Te):jt.name==="isDecorative"&&Te.setEnabled("alt",!Te.getData().isDecorative)},kd=P=>()=>{P.open=!1},Hr=P=>P.hasAdvTab||P.hasUploadUrl||P.hasUploadHandler?{type:"tabpanel",tabs:pe([[Xl.makeTab(P)],P.hasAdvTab?[jf.makeTab(P)]:[],P.hasUploadTab&&(P.hasUploadUrl||P.hasUploadHandler)?[Xa.makeTab(P)]:[]])}:{type:"panel",items:Xl.makeItems(P)},Sd=(P,K,me)=>Te=>{const jt=Ci(ir(K.image),Te.getData()),an={...jt,style:wc(me.normalizeCss,Ea(jt,!1))};P.execCommand("mceUpdateImage",!1,Ea(an,K.hasAccessibilityOptions)),P.editorUpload.uploadImagesAuto(),Te.close()},ra=P=>K=>Lr(P,K)?tl(P.documentBaseURI.toAbsolute(K)).then(me=>({width:String(me.width),height:String(me.height)})):Promise.resolve({width:"",height:""}),ec=P=>(K,me,Te)=>{var jt;return P.editorUpload.blobCache.create({blob:K,blobUri:me,name:(jt=K.name)===null||jt===void 0?void 0:jt.replace(/\.[^\.]+$/,""),filename:K.name,base64:Te.split(",")[1]})},lu=P=>K=>{P.editorUpload.blobCache.add(K)},Zm=P=>(K,me)=>{P.windowManager.alert(K,me)},Xu=P=>K=>Es(P,K),Kc=P=>K=>P.dom.parseStyle(K),Fa=P=>(K,me)=>P.dom.serializeStyle(K,me),Z=P=>K=>Kl(P).upload([K],!1).then(me=>{var Te;return me.length===0?Promise.reject("Failed to upload image"):me[0].status===!1?Promise.reject((Te=me[0].error)===null||Te===void 0?void 0:Te.message):me[0]}),ae=P=>{const K={imageSize:ra(P),addToBlobCache:lu(P),createBlobCache:ec(P),alertErr:Zm(P),normalizeCss:Xu(P),parseStyle:Kc(P),serializeStyle:Fa(P),uploadImage:Z(P)};return{open:()=>{In(P).then(Te=>{const jt=qc(Te);return{title:"Insert/Edit Image",size:"normal",body:Hr(Te),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ir(Te.image),onSubmit:Sd(P,Te,K),onChange:Jl(K,Te,jt),onClose:kd(jt)}}).then(P.windowManager.open)}}},Ce=P=>{P.addCommand("mceImage",ae(P).open),P.addCommand("mceUpdateImage",(K,me)=>{P.undoManager.transact(()=>Um(P,me))})},rt=P=>{const K=P.attr("class");return Tt(K)&&/\bimage\b/.test(K)},Nt=P=>K=>{let me=K.length;const Te=jt=>{jt.attr("contenteditable",P?"true":null)};for(;me--;){const jt=K[me];rt(jt)&&(jt.attr("contenteditable",P?"false":null),Ku.each(jt.getAll("figcaption"),Te))}},Ut=P=>{P.on("PreInit",()=>{P.parser.addNodeFilter("figure",Nt(!0)),P.serializer.addNodeFilter("figure",Nt(!1))})},zo=P=>K=>{const me=()=>{K.setEnabled(P.selection.isEditable())};return P.on("NodeChange",me),me(),()=>{P.off("NodeChange",me)}},cs=P=>{P.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ae(P).open,onSetup:K=>{K.setActive(Tt(Cc(P)));const me=P.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",K.setActive).unbind,Te=zo(P)(K);return()=>{me(),Te()}}}),P.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ae(P).open,onSetup:zo(P)}),P.ui.registry.addContextMenu("image",{update:K=>P.selection.isEditable()&&(Wo(K)||nu(K)&&!xs(K))?["image"]:[]})};var Ho=()=>{re.add("image",P=>{on(P),Ut(P),cs(P),Ce(P)})};Ho()}()),Az}var Dz;function AY(){return Dz||(Dz=1,EY()),Ez}AY();var Oz={},Nz={},Rz;function TY(){return Rz||(Rz=1,function(){var re=tinymce.util.Tools.resolve("tinymce.PluginManager");const ye=(He,Ze)=>{He.focus(),He.undoManager.transact(()=>{He.setContent(Ze)}),He.selection.setCursorLocation(),He.nodeChanged()},Fe=He=>He.getContent({source_view:!0}),Oe=He=>{const Ze=Fe(He);He.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Ze},onSubmit:ut=>{ye(He,ut.getData().code),ut.close()}})},Xe=He=>{He.addCommand("mceCodeEditor",()=>{Oe(He)})},Se=He=>{const Ze=()=>He.execCommand("mceCodeEditor");He.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Ze}),He.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Ze})};var Ee=()=>{re.add("code",He=>(Xe(He),Se(He),{}))};Ee()}()),Nz}var Mz;function DY(){return Mz||(Mz=1,TY()),Oz}DY();var Bz={},Pz={},Iz;function OY(){return Iz||(Iz=1,function(){var re=tinymce.util.Tools.resolve("tinymce.PluginManager");const ye=(Z,ae,Ce)=>{var rt;return Ce(Z,ae.prototype)?!0:((rt=Z.constructor)===null||rt===void 0?void 0:rt.name)===ae.name},Fe=Z=>{const ae=typeof Z;return Z===null?"null":ae==="object"&&Array.isArray(Z)?"array":ae==="object"&&ye(Z,String,(Ce,rt)=>rt.isPrototypeOf(Ce))?"string":ae},Oe=Z=>ae=>Fe(ae)===Z,Xe=Z=>ae=>typeof ae===Z,Se=Z=>ae=>Z===ae,Ee=Oe("string"),He=Oe("object"),Ze=Oe("array"),ut=Se(null),Ct=Xe("boolean"),Ht=Z=>Z==null,xt=Z=>!Ht(Z),Ne=Xe("function"),gt=(Z,ae)=>{if(Ze(Z)){for(let Ce=0,rt=Z.length;Ce<rt;++Ce)if(!ae(Z[Ce]))return!1;return!0}return!1},Tt=()=>{},lt=Z=>()=>Z,xe=(Z,ae)=>Z===ae;class Pe{constructor(ae,Ce){this.tag=ae,this.value=Ce}static some(ae){return new Pe(!0,ae)}static none(){return Pe.singletonNone}fold(ae,Ce){return this.tag?Ce(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?Pe.some(ae(this.value)):Pe.none()}bind(ae){return this.tag?ae(this.value):Pe.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:Pe.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae??"Called getOrDie on None")}static from(ae){return xt(ae)?Pe.some(ae):Pe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Pe.singletonNone=new Pe(!1);const Ue=Array.prototype.indexOf,ne=Array.prototype.push,kt=(Z,ae)=>Ue.call(Z,ae),pe=(Z,ae)=>kt(Z,ae)>-1,hn=(Z,ae)=>{const Ce=Z.length,rt=new Array(Ce);for(let Nt=0;Nt<Ce;Nt++){const Ut=Z[Nt];rt[Nt]=ae(Ut,Nt)}return rt},is=(Z,ae)=>{for(let Ce=0,rt=Z.length;Ce<rt;Ce++){const Nt=Z[Ce];ae(Nt,Ce)}},bn=(Z,ae,Ce)=>(is(Z,(rt,Nt)=>{Ce=ae(Ce,rt,Nt)}),Ce),qo=Z=>{const ae=[];for(let Ce=0,rt=Z.length;Ce<rt;++Ce){if(!Ze(Z[Ce]))throw new Error("Arr.flatten item "+Ce+" was not an array, input: "+Z);ne.apply(ae,Z[Ce])}return ae},Ke=(Z,ae)=>qo(hn(Z,ae)),Xt=(Z,ae)=>{for(let Ce=0;Ce<Z.length;Ce++){const rt=ae(Z[Ce],Ce);if(rt.isSome())return rt}return Pe.none()},A=Object.keys,Co=Object.hasOwnProperty,ko=(Z,ae)=>{const Ce=A(Z);for(let rt=0,Nt=Ce.length;rt<Nt;rt++){const Ut=Ce[rt],zo=Z[Ut];ae(zo,Ut)}},Bn=Z=>(ae,Ce)=>{Z[Ce]=ae},dr=(Z,ae,Ce,rt)=>{ko(Z,(Nt,Ut)=>{(ae(Nt,Ut)?Ce:rt)(Nt,Ut)})},St=(Z,ae)=>{const Ce={};return dr(Z,ae,Bn(Ce),Tt),Ce},Tn=(Z,ae)=>Co.call(Z,ae),Ci=(Z,ae)=>Tn(Z,ae)&&Z[ae]!==void 0&&Z[ae]!==null,je=Z=>{let ae=Z;return{get:()=>ae,set:Nt=>{ae=Nt}}},Ae=(Z,ae,Ce=xe)=>Z.exists(rt=>Ce(rt,ae)),ht=Z=>{const ae=[],Ce=rt=>{ae.push(rt)};for(let rt=0;rt<Z.length;rt++)Z[rt].each(Ce);return ae},dn=(Z,ae)=>Z?Pe.some(ae):Pe.none(),Oo=Z=>{const ae=je(Pe.none()),Ce=()=>ae.get().each(Z);return{clear:()=>{Ce(),ae.set(Pe.none())},isSet:()=>ae.get().isSome(),get:()=>ae.get(),set:cs=>{Ce(),ae.set(Pe.some(cs))}}},Ao=()=>{const Z=Oo(Tt);return{...Z,on:Ce=>Z.get().each(Ce)}},Go=(Z,ae)=>Z.substring(ae),z=(Z,ae,Ce)=>ae===""||Z.length>=ae.length&&Z.substr(Ce,Ce+ae.length)===ae,ur=(Z,ae)=>Ps(Z,ae)?Go(Z,ae.length):Z,Ps=(Z,ae)=>z(Z,ae,0),Uo=Z=>ae=>ae.options.get(Z),_i=Z=>{const ae=Z.options.register;ae("link_assume_external_targets",{processor:Ce=>{const rt=Ee(Ce)||Ct(Ce);return rt?Ce===!0?{value:1,valid:rt}:Ce==="http"||Ce==="https"?{value:Ce,valid:rt}:{value:0,valid:rt}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ae("link_context_toolbar",{processor:"boolean",default:!1}),ae("link_list",{processor:Ce=>Ee(Ce)||Ne(Ce)||gt(Ce,He)}),ae("link_default_target",{processor:"string"}),ae("link_default_protocol",{processor:"string",default:"https"}),ae("link_target_list",{processor:Ce=>Ct(Ce)||gt(Ce,He),default:!0}),ae("link_rel_list",{processor:"object[]",default:[]}),ae("link_class_list",{processor:"object[]",default:[]}),ae("link_title",{processor:"boolean",default:!0}),ae("allow_unsafe_link_target",{processor:"boolean",default:!1}),ae("link_quicklink",{processor:"boolean",default:!1}),ae("link_attributes_postprocess",{processor:"function"})},oa=Uo("link_assume_external_targets"),on=Uo("link_context_toolbar"),Kn=Uo("link_list"),Xo=Uo("link_default_target"),nt=Uo("link_default_protocol"),jl=Uo("link_target_list"),xr=Uo("link_rel_list"),_o=Uo("link_class_list"),vc=Uo("link_title"),ws=Uo("allow_unsafe_link_target"),Zs=Uo("link_quicklink"),js=Uo("link_attributes_postprocess");var mr=tinymce.util.Tools.resolve("tinymce.util.URI"),Ss=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),na=tinymce.util.Tools.resolve("tinymce.util.Tools");const vn=Z=>xt(Z)&&Z.nodeName.toLowerCase()==="a",tl=Z=>vn(Z)&&!!ki(Z),ol=(Z,ae)=>{if(Z.collapsed)return[];{const Ce=Z.cloneContents(),rt=Ce.firstChild,Nt=new Ss(rt,Ce),Ut=[];let zo=rt;do ae(zo)&&Ut.push(zo);while(zo=Nt.next());return Ut}},Ya=Z=>/^\w+:/i.test(Z),ki=Z=>{var ae,Ce;return(Ce=(ae=Z.getAttribute("data-mce-href"))!==null&&ae!==void 0?ae:Z.getAttribute("href"))!==null&&Ce!==void 0?Ce:""},nr=(Z,ae)=>{const Ce=["noopener"],rt=Z?Z.split(/\s+/):[],Nt=Ho=>na.trim(Ho.sort().join(" ")),Ut=Ho=>(Ho=zo(Ho),Ho.length>0?Ho.concat(Ce):Ce),zo=Ho=>Ho.filter(P=>na.inArray(Ce,P)===-1),cs=ae?Ut(rt):zo(rt);return cs.length>0?Nt(cs):""},Kt=Z=>Z.replace(/\uFEFF/g,""),jo=(Z,ae)=>(ae=ae||Vt(Z.selection.getRng())[0]||Z.selection.getNode(),sa(ae)?Pe.from(Z.dom.select("a[href]",ae)[0]):Pe.from(Z.dom.getParent(ae,"a[href]"))),xs=(Z,ae)=>jo(Z,ae).isSome(),Lr=(Z,ae)=>{const Ce=ae.fold(()=>Z.getContent({format:"text"}),rt=>rt.innerText||rt.textContent||"");return Kt(Ce)},Vt=Z=>ol(Z,tl),Fr=Z=>na.grep(Z,tl),tu=Z=>Fr(Z).length>0,Un=Z=>Vt(Z).length>0,jn=Z=>{const ae=Z.schema.getTextInlineElements(),Ce=Ut=>Ut.nodeType===1&&!vn(Ut)&&!Tn(ae,Ut.nodeName.toLowerCase());if(jo(Z).exists(Ut=>Ut.hasAttribute("data-mce-block")))return!1;const Nt=Z.selection.getRng();return Nt.collapsed?!0:ol(Nt,Ce).length===0},sa=Z=>xt(Z)&&Z.nodeName==="FIGURE"&&/\bimage\b/i.test(Z.className),Dr=Z=>bn(["title","rel","class","target"],(Ce,rt)=>(Z[rt].each(Nt=>{Ce[rt]=Nt.length>0?Nt:null}),Ce),{href:Z.href}),ou=(Z,ae)=>(ae==="http"||ae==="https")&&!Ya(Z)?ae+"://"+Z:Z,Zc=(Z,ae)=>{const Ce={...ae};if(xr(Z).length===0&&!ws(Z)){const rt=nr(Ce.rel,Ce.target==="_blank");Ce.rel=rt||null}return Pe.from(Ce.target).isNone()&&jl(Z)===!1&&(Ce.target=Xo(Z)),Ce.href=ou(Ce.href,oa(Z)),Ce},Fo=(Z,ae,Ce,rt)=>{Ce.each(Ut=>{Tn(ae,"innerText")?ae.innerText=Ut:ae.textContent=Ut}),Z.dom.setAttribs(ae,rt);const Nt=Z.dom.createRng();Nt.setStartAfter(ae),Nt.setEndAfter(ae),Z.selection.setRng(Nt)},fr=(Z,ae,Ce,rt)=>{const Nt=Z.dom;sa(ae)?nu(Nt,ae,rt):Ce.fold(()=>{Z.execCommand("mceInsertLink",!1,rt);const Ut=Z.selection.getEnd(),zo=Nt.createRng();zo.setStartAfter(Ut),zo.setEndAfter(Ut),Z.selection.setRng(zo)},Ut=>{Z.insertContent(Nt.createHTML("a",rt,Nt.encode(Ut)))})},pa=(Z,ae,Ce)=>{const rt=Z.selection.getNode(),Nt=jo(Z,rt),Ut=Zc(Z,Dr(Ce)),zo=js(Z);xt(zo)&&zo(Ut),Z.undoManager.transact(()=>{Ce.href===ae.href&&ae.attach(),Nt.fold(()=>{fr(Z,rt,Ce.text,Ut)},cs=>{Z.focus(),Fo(Z,cs,Ce.text,Ut)})})},kn=Z=>{const ae=Z.dom,Ce=Z.selection,rt=Ce.getBookmark(),Nt=Ce.getRng().cloneRange(),Ut=ae.getParent(Nt.startContainer,"a[href]",Z.getBody()),zo=ae.getParent(Nt.endContainer,"a[href]",Z.getBody());Ut&&Nt.setStartBefore(Ut),zo&&Nt.setEndAfter(zo),Ce.setRng(Nt),Z.execCommand("unlink"),Ce.moveToBookmark(rt)},Jt=Z=>{Z.undoManager.transact(()=>{const ae=Z.selection.getNode();sa(ae)?Wo(Z,ae):kn(Z),Z.focus()})},zr=Z=>{const{class:ae,href:Ce,rel:rt,target:Nt,text:Ut,title:zo}=Z;return St({class:ae.getOrNull(),href:Ce,rel:rt.getOrNull(),target:Nt.getOrNull(),text:Ut.getOrNull(),title:zo.getOrNull()},(cs,Ho)=>ut(cs)===!1)},yc=(Z,ae)=>{const Ce=Z.options.get,rt={allow_html_data_urls:Ce("allow_html_data_urls"),allow_script_urls:Ce("allow_script_urls"),allow_svg_data_urls:Ce("allow_svg_data_urls")},Nt=ae.href;return{...ae,href:mr.isDomSafe(Nt,"a",rt)?Nt:""}},Me=(Z,ae,Ce)=>{const rt=yc(Z,Ce);Z.hasPlugin("rtc",!0)?Z.execCommand("createlink",!1,zr(rt)):pa(Z,ae,rt)},ka=Z=>{Z.hasPlugin("rtc",!0)?Z.execCommand("unlink"):Jt(Z)},Wo=(Z,ae)=>{var Ce;const rt=Z.dom.select("img",ae)[0];if(rt){const Nt=Z.dom.getParents(rt,"a[href]",ae)[0];Nt&&((Ce=Nt.parentNode)===null||Ce===void 0||Ce.insertBefore(rt,Nt),Z.dom.remove(Nt))}},nu=(Z,ae,Ce)=>{var rt;const Nt=Z.select("img",ae)[0];if(Nt){const Ut=Z.create("a",Ce);(rt=Nt.parentNode)===null||rt===void 0||rt.insertBefore(Ut,Nt),Ut.appendChild(Nt)}},Sa=Z=>Ee(Z.value)?Z.value:"",Wl=Z=>Ee(Z.text)?Z.text:Ee(Z.title)?Z.title:"",vr=(Z,ae)=>{const Ce=[];return na.each(Z,rt=>{const Nt=Wl(rt);if(rt.menu!==void 0){const Ut=vr(rt.menu,ae);Ce.push({text:Nt,items:Ut})}else{const Ut=ae(rt);Ce.push({text:Nt,value:Ut})}}),Ce},wc=(Z=Sa)=>ae=>Pe.from(ae).map(Ce=>vr(Ce,Z)),Is={sanitize:Z=>wc(Sa)(Z),sanitizeWith:wc,createUi:(Z,ae)=>Ce=>({name:Z,type:"listbox",label:ae,items:Ce}),getValue:Sa},Cs=Z=>Ci(Z,"items"),Pn=(Z,ae)=>Xt(ae,Ce=>Cs(Ce)?Pn(Z,Ce.items):dn(Ce.value===Z,Ce)),Mi=(Z,ae,Ce,rt)=>{const Nt=rt[ae],Ut=Z.length>0;return Nt!==void 0?Pn(Nt,Ce).map(zo=>({url:{value:zo.value,meta:{text:Ut?Z:zo.text,attach:Tt}},text:Ut?Z:zo.text})):Pe.none()},Yn=(Z,ae)=>ae==="link"?Z.link:ae==="anchor"?Z.anchor:Pe.none(),Cc={init:(Z,ae)=>{const Ce={text:Z.text,title:Z.title},rt=Ho=>{var P;return dn(Ce.title.length<=0,Pe.from((P=Ho.meta)===null||P===void 0?void 0:P.title).getOr(""))},Nt=Ho=>{var P;return dn(Ce.text.length<=0,Pe.from((P=Ho.meta)===null||P===void 0?void 0:P.text).getOr(Ho.value))},Ut=Ho=>{const P=Nt(Ho.url),K=rt(Ho.url);return P.isSome()||K.isSome()?Pe.some({...P.map(me=>({text:me})).getOr({}),...K.map(me=>({title:me})).getOr({})}):Pe.none()},zo=(Ho,P)=>{const K=Yn(ae,P).getOr([]);return Mi(Ce.text,P,K,Ho)};return{onChange:(Ho,P)=>{const K=P.name;return K==="url"?Ut(Ho()):pe(["anchor","link"],K)?zo(Ho(),K):((K==="text"||K==="title")&&(Ce[K]=Ho()[K]),Pe.none())}}},getDelta:Mi};var Si=tinymce.util.Tools.resolve("tinymce.util.Delay");const ql=(Z,ae,Ce)=>{const rt=Z.selection.getRng();Si.setEditorTimeout(Z,()=>{Z.windowManager.confirm(ae,Nt=>{Z.selection.setRng(rt),Ce(Nt)})})},Gl=Z=>{const ae=Z.href;return ae.indexOf("@")>0&&ae.indexOf("/")===-1&&ae.indexOf("mailto:")===-1?Pe.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:rt=>({...rt,href:"mailto:"+ae})}):Pe.none()},sr=(Z,ae)=>Ce=>{const rt=Ce.href;return Z===1&&!Ya(rt)||Z===0&&/^\s*www(\.|\d\.)/i.test(rt)?Pe.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ae}:// prefix?`,preprocess:Ut=>({...Ut,href:ae+"://"+rt})}):Pe.none()},rr={preprocess:(Z,ae)=>Xt([Gl,sr(oa(Z),nt(Z))],Ce=>Ce(ae)).fold(()=>Promise.resolve(ae),Ce=>new Promise(rt=>{ql(Z,Ce.message,Nt=>{rt(Nt?Ce.preprocess(ae):ae)})}))},Um={getAnchors:Z=>{const ae=Z.dom.select("a:not([href])"),Ce=Ke(ae,rt=>{const Nt=rt.name||rt.id;return Nt?[{text:Nt,value:"#"+Nt}]:[]});return Ce.length>0?Pe.some([{text:"None",value:""}].concat(Ce)):Pe.none()}},Ku={getClasses:Z=>{const ae=_o(Z);return ae.length>0?Is.sanitize(ae):Pe.none()}},Ft=Z=>{try{return Pe.some(JSON.parse(Z))}catch{return Pe.none()}},au={getLinks:Z=>{const ae=rt=>Z.convertURL(rt.value||rt.url||"","href"),Ce=Kn(Z);return new Promise(rt=>{Ee(Ce)?fetch(Ce).then(Nt=>Nt.ok?Nt.text().then(Ft):Promise.reject()).then(rt,()=>rt(Pe.none())):Ne(Ce)?Ce(Nt=>rt(Pe.some(Nt))):rt(Pe.from(Ce))}).then(rt=>rt.bind(Is.sanitizeWith(ae)).map(Nt=>Nt.length>0?[{text:"None",value:""}].concat(Nt):Nt))}},Yl={getRels:(Z,ae)=>{const Ce=xr(Z);if(Ce.length>0){const rt=Ae(ae,"_blank"),Nt=ws(Z)===!1,Ut=cs=>nr(Is.getValue(cs),rt);return(Nt?Is.sanitizeWith(Ut):Is.sanitize)(Ce)}return Pe.none()}},Or=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Yu={getTargets:Z=>{const ae=jl(Z);return Ze(ae)?Is.sanitize(ae).orThunk(()=>Pe.some(Or)):ae===!1?Pe.none():Pe.some(Or)}},Ia=(Z,ae,Ce)=>{const rt=Z.getAttrib(ae,Ce);return rt!==null&&rt.length>0?Pe.some(rt):Pe.none()},jc=(Z,ae)=>{const Ce=Z.dom,Nt=jn(Z)?Pe.some(Lr(Z.selection,ae)):Pe.none(),Ut=ae.bind(K=>Pe.from(Ce.getAttrib(K,"href"))),zo=ae.bind(K=>Pe.from(Ce.getAttrib(K,"target"))),cs=ae.bind(K=>Ia(Ce,K,"rel")),Ho=ae.bind(K=>Ia(Ce,K,"class")),P=ae.bind(K=>Ia(Ce,K,"title"));return{url:Ut,text:Nt,title:P,target:zo,rel:cs,linkClass:Ho}},In={collect:(Z,ae)=>au.getLinks(Z).then(Ce=>{const rt=jc(Z,ae);return{anchor:rt,catalogs:{targets:Yu.getTargets(Z),rels:Yl.getRels(Z,rt.target),classes:Ku.getClasses(Z),anchor:Um.getAnchors(Z),link:Ce},optNode:ae,flags:{titleEnabled:vc(Z)}}})},La=(Z,ae)=>Ce=>{const rt=Ce.getData();if(!rt.url.value){ka(Z),Ce.close();return}const Nt=cs=>Pe.from(rt[cs]).filter(Ho=>!Ae(ae.anchor[cs],Ho)),Ut={href:rt.url.value,text:Nt("text"),target:Nt("target"),rel:Nt("rel"),class:Nt("linkClass"),title:Nt("title")},zo={href:rt.url.value,attach:rt.url.meta!==void 0&&rt.url.meta.attach?rt.url.meta.attach:Tt};rr.preprocess(Z,Ut).then(cs=>{Me(Z,zo,cs)}),Ce.close()},Wc=Z=>{const ae=jo(Z);return In.collect(Z,ae)},Xl=(Z,ae)=>{const Ce=Z.anchor,rt=Ce.url.getOr("");return{url:{value:rt,meta:{original:{value:rt}}},text:Ce.text.getOr(""),title:Ce.title.getOr(""),anchor:rt,link:rt,rel:Ce.rel.getOr(""),target:Ce.target.or(ae).getOr(""),linkClass:Ce.linkClass.getOr("")}},Cl=(Z,ae,Ce)=>{const rt=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],Nt=Z.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Ut=Z.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],zo=Pe.from(Xo(Ce)),cs=Xl(Z,zo),Ho=Z.catalogs,P=Cc.init(cs,Ho);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:qo([rt,Nt,Ut,ht([Ho.anchor.map(Is.createUi("anchor","Anchors")),Ho.rels.map(Is.createUi("rel","Rel")),Ho.targets.map(Is.createUi("target","Open link in...")),Ho.link.map(Is.createUi("link","Link list")),Ho.classes.map(Is.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:cs,onChange:(me,{name:Te})=>{P.onChange(me.getData,{name:Te}).each(jt=>{me.setData(jt)})},onSubmit:ae}},Xa=Z=>{Wc(Z).then(Ce=>{const rt=La(Z,Ce);return Cl(Ce,rt,Z)}).then(Ce=>{Z.windowManager.open(Ce)})},qc=Z=>{Z.addCommand("mceLink",(ae,Ce)=>{(Ce==null?void 0:Ce.dialog)===!0||!Zs(Z)?Xa(Z):Z.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},ir=Z=>{Z.addShortcut("Meta+K","",()=>{Z.execCommand("mceLink")})};var Ea=tinymce.util.Tools.resolve("tinymce.util.VK");const Ls=(Z,ae)=>{document.body.appendChild(Z),Z.dispatchEvent(ae),document.body.removeChild(Z)},ga=Z=>{const ae=document.createElement("a");ae.target="_blank",ae.href=Z,ae.rel="noreferrer noopener";const Ce=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Ce),Ls(ae,Ce)},Fs=Z=>Z.altKey===!0&&Z.shiftKey===!1&&Z.ctrlKey===!1&&Z.metaKey===!1,Gc=(Z,ae)=>{if(ae){const Ce=ki(ae);if(/^#/.test(Ce)){const rt=Z.dom.select(`${Ce},[name="${ur(Ce,"#")}"]`);rt.length&&Z.selection.scrollIntoView(rt[0],!0)}else ga(ae.href)}},Ql=Z=>{const ae=Z.selection.getRng(),Ce=ae.startContainer;return tl(Ce)&&ae.startContainer===ae.endContainer&&Z.dom.select("img",Ce).length===1},_d=(Z,ae)=>{const Ce=Fr(Z.dom.getParents(ae));return dn(Ce.length===1,Ce[0])},iu=Z=>{const ae=Vt(Z.selection.getRng());return dn(ae.length>0,ae[0]).or(_d(Z,Z.selection.getNode()))},yr=Z=>Z.selection.isCollapsed()||Ql(Z)?_d(Z,Z.selection.getStart()):iu(Z),_l=Z=>{const ae=Ao(),Ce=()=>ae.get().or(yr(Z)),rt=()=>Ce().each(Nt=>Gc(Z,Nt));return Z.on("contextmenu",Nt=>{_d(Z,Nt.target).each(ae.set)}),Z.on("SelectionChange",()=>{ae.isSet()||yr(Z).each(ae.set)}),Z.on("click",Nt=>{ae.clear();const Ut=Fr(Z.dom.getParents(Nt.target));Ut.length===1&&Ea.metaKeyPressed(Nt)&&(Nt.preventDefault(),Gc(Z,Ut[0]))}),Z.on("keydown",Nt=>{ae.clear(),!Nt.isDefaultPrevented()&&Nt.keyCode===13&&Fs(Nt)&&Ce().each(Ut=>{Nt.preventDefault(),Gc(Z,Ut)})}),{gotoSelectedLink:rt}},Jl=Z=>()=>{Z.execCommand("mceLink",!1,{dialog:!0})},kd=(Z,ae)=>(Z.on("NodeChange",ae),()=>Z.off("NodeChange",ae)),Hr=Z=>ae=>{const Ce=()=>{ae.setActive(!Z.mode.isReadOnly()&&xs(Z,Z.selection.getNode())),ae.setEnabled(Z.selection.isEditable())};return Ce(),kd(Z,Ce)},Sd=Z=>ae=>{const Ce=()=>{ae.setEnabled(Z.selection.isEditable())};return Ce(),kd(Z,Ce)},ra=Z=>ae=>{const Ce=Ut=>tu(Ut)||Un(Z.selection.getRng()),rt=Z.dom.getParents(Z.selection.getStart()),Nt=Ut=>{ae.setEnabled(Ce(Ut)&&Z.selection.isEditable())};return Nt(rt),kd(Z,Ut=>Nt(Ut.parents))},ec=(Z,ae)=>{Z.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Jl(Z),onSetup:Hr(Z)}),Z.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ae.gotoSelectedLink,onSetup:ra(Z)}),Z.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>ka(Z),onSetup:ra(Z)})},lu=(Z,ae)=>{Z.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ae.gotoSelectedLink,onSetup:ra(Z)}),Z.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Jl(Z),onSetup:Sd(Z)}),Z.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>ka(Z),onSetup:ra(Z)})},Zm=Z=>{const ae="link unlink openlink",Ce="link";Z.ui.registry.addContextMenu("link",{update:rt=>Z.dom.isEditable(rt)?tu(Z.dom.getParents(rt,"a"))?ae:Ce:""})},Xu=(Z,ae)=>{const Ce=Ut=>{Ut.selection.collapse(!1)},rt=Ut=>{const zo=Z.selection.getNode();return Ut.setEnabled(xs(Z,zo)&&Z.selection.isEditable()),Tt},Nt=Ut=>{const zo=jo(Z),cs=jn(Z);if(zo.isNone()&&cs){const Ho=Lr(Z.selection,zo);return dn(Ho.length===0,Ut)}else return Pe.none()};Z.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Hr(Z)},label:"Link",predicate:Ut=>on(Z)&&xs(Z,Ut),initValue:()=>jo(Z).fold(lt(""),ki),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Ut=>{const zo=Z.selection.getNode();return Ut.setActive(xs(Z,zo)),Hr(Z)(Ut)},onAction:Ut=>{const zo=Ut.getValue(),cs=Nt(zo);Me(Z,{href:zo,attach:Tt},{href:zo,text:cs,title:Pe.none(),rel:Pe.none(),target:Pe.from(Xo(Z)),class:Pe.none()}),Ce(Z),Ut.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:rt,onAction:Ut=>{ka(Z),Ut.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:rt,onAction:Ut=>{ae.gotoSelectedLink(),Ut.hide()}}]})},Kc=Z=>{const ae=_l(Z);ec(Z,ae),lu(Z,ae),Zm(Z),Xu(Z,ae)};var Fa=()=>{re.add("link",Z=>{_i(Z),qc(Z),Kc(Z),ir(Z)})};Fa()}()),Pz}var Lz;function NY(){return Lz||(Lz=1,OY()),Bz}NY();tinymce.Resource.add("ui/oxide/content.css",`@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],> audio[data-mce-selected],> video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:rgba(255,255,255,.5)}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:min(100%,600px);height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--icon-min-width:24px;--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out;box-shadow:0 0 0 99999px #222f3e80;z-index:1}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]:is(td,th,tr){position:static}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);tinymce.addI18n("fr_FR",{"#":"#",Accessibility:"Accessibilité",Accordion:"Accordéon","Accordion body...":"Corps de l'accordéon...","Accordion summary...":"Résumé de l'accordéon...",Action:"Action",Activity:"Activité",Address:"Adresse",Advanced:"Options avancées",Align:"Aligner","Align center":"Centrer","Align left":"Aligner à gauche","Align right":"Aligner à droite",Alignment:"Alignement","Alignment {0}":"Alignement {0}",All:"Tout","Alternative description":"Description alternative","Alternative source":"Source alternative","Alternative source URL":"URL de la source alternative",Anchor:"Ancre","Anchor...":"Ancre...",Anchors:"Ancres","Animals and Nature":"Animaux & nature",Arrows:"Flèches",B:"B","Background color":"Couleur d'arrière-plan","Background color {0}":"Couleur d'arrière-plan {0}",Black:"Noir",Block:"Bloc","Block {0}":"Bloc {0}",Blockquote:"Bloc de citation",Blocks:"Blocs",Blue:"Bleu","Blue component":"Composant bleu",Body:"Corps",Bold:"Gras",Border:"Bordure","Border color":"Couleur de bordure","Border style":"Style de la bordure","Border width":"Épaisseur de la bordure",Bottom:"En bas","Browse files":"Consulter les fichiers","Browse for an image":"Rechercher une image","Browse links":"Consulter les liens","Bullet list":"Liste à puces",Cancel:"Annuler",Caption:"Légende",Cell:"Cellule","Cell padding":"Marge intérieure des cellules","Cell properties":"Propriétés de la cellule","Cell spacing":"Espacement entre les cellules","Cell styles":"Type de cellule","Cell type":"Type de cellule",Center:"Centre",Characters:"Caractères","Characters (no spaces)":"Caractères (espaces non compris)",Circle:"Cercle",Class:"Classe","Clear formatting":"Effacer la mise en forme",Close:"Fermer",Code:"Code","Code sample...":"Exemple de code...","Code view":"Affichage du code","Color Picker":"Sélecteur de couleurs","Color swatch":"Échantillon de couleurs",Cols:"Colonnes",Column:"Colonne","Column clipboard actions":"Actions du presse-papiers des colonnes","Column group":"Groupe de colonnes","Column header":"En-tête de colonne","Constrain proportions":"Limiter les proportions",Copy:"Copier","Copy column":"Copier la colonne","Copy row":"Copier la ligne","Could not find the specified string.":"Impossible de trouver la chaîne spécifiée.","Could not load emojis":"Impossible de charger les emojis",Count:"Total",Currency:"Devise","Current window":"Fenêtre active","Custom color":"Couleur personnalisée","Custom...":"Personnalisée...",Cut:"Couper","Cut column":"Couper la colonne","Cut row":"Couper la ligne","Dark Blue":"Bleu foncé","Dark Gray":"Gris foncé","Dark Green":"Vert foncé","Dark Orange":"Orange foncé","Dark Purple":"Violet foncé","Dark Red":"Rouge foncé","Dark Turquoise":"Turquoise foncé","Dark Yellow":"Jaune foncé",Dashed:"Tirets","Date/time":"Date/heure","Decrease indent":"Réduire le retrait",Default:"Par défaut","Delete accordion":"Supprimer l'accordéon","Delete column":"Supprimer la colonne","Delete row":"Supprimer la ligne","Delete table":"Supprimer le tableau",Dimensions:"Dimensions",Disc:"Disque",Div:"Div",Document:"Document",Dotted:"Pointillé",Double:"Deux traits continus","Drop an image here":"Déposer une image ici","Dropped file type is not supported":"Le type de fichier déposé n'est pas pris en charge",Edit:"Modifier",Embed:"Incorporer",Emojis:"Émojis","Emojis...":"Émojis...",Error:"Erreur","Error: Form submit field collision.":"Erreur : conflit de champs lors de la soumission du formulaire.","Error: No form element found.":"Erreur : aucun élément de formulaire trouvé.","Extended Latin":"Latin étendu","Failed to initialize plugin: {0}":"Échec d'initialisation de l'extension : {0}","Failed to load plugin url: {0}":"Échec de chargement de l'URL du plug-in : {0}","Failed to load plugin: {0} from url {1}":"Échec de chargement du plug-in : {0} à partir de l’URL {1}","Failed to upload image: {0}":"Échec d'envoi de l'image : {0}",File:"Fichier",Find:"Rechercher","Find (if searchreplace plugin activated)":"Rechercher (si l'extension 'searchreplace' est activée)","Find and Replace":"Trouver et remplacer","Find and replace...":"Trouver et remplacer...","Find in selection":"Trouver dans la sélection","Find whole words only":"Mot entier",Flags:"Drapeaux","Focus to contextual toolbar":"Mettre le focus sur la barre d'outils contextuelle","Focus to element path":"Mettre le focus sur le chemin vers l'élément","Focus to menubar":"Mettre le focus sur la barre de menu","Focus to toolbar":"Mettre le focus sur la barre d'outils",Font:"Police","Font size {0}":"Taille de police {0}","Font sizes":"Tailles de police","Font {0}":"Police {0}",Fonts:"Polices","Food and Drink":"Nourriture & boissons",Footer:"Pied de page",Format:"Format","Format {0}":"Format {0}",Formats:"Formats",Fullscreen:"Plein écran",G:"V",General:"Général",Gray:"Gris",Green:"Vert","Green component":"Composant vert",Groove:"Sculpté","Handy Shortcuts":"Raccourcis utiles",Header:"En-tête","Header cell":"Cellule d'en-tête","Heading 1":"Titre 1","Heading 2":"Titre 2","Heading 3":"Titre 3","Heading 4":"Titre 4","Heading 5":"Titre 5","Heading 6":"Titre 6",Headings:"Titres",Height:"Hauteur",Help:"Aide","Hex color code":"Code couleur hexadécimal",Hidden:"Masqué","Horizontal align":"Alignement horizontal","Horizontal line":"Ligne horizontale","Horizontal space":"Espace horizontal",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"L'ID doit commencer par une lettre, suivie uniquement par des lettres, numéros, tirets, points, deux-points et underscores.","Image is decorative":"L'image est décorative","Image list":"Liste des images","Image title":"Titre d'image","Image...":"Image...","ImageProxy HTTP error: Could not find Image Proxy":"Erreur HTTP d'ImageProxy : Impossible de trouver ImageProxy","ImageProxy HTTP error: Incorrect Image Proxy URL":"Erreur HTTP d'ImageProxy : URL de ImageProxy incorrecte","ImageProxy HTTP error: Rejected request":"Erreur HTTP d'ImageProxy : Requête rejetée","ImageProxy HTTP error: Unknown ImageProxy error":"Erreur HTTP d'ImageProxy : Erreur ImageProxy inconnue","Increase indent":"Augmenter le retrait",Inline:"En ligne",Insert:"Insérer","Insert Template":"Insérer le modèle","Insert accordion":"Insérer un accordéon","Insert column after":"Insérer une colonne après","Insert column before":"Insérer une colonne avant","Insert date/time":"Insérer date/heure","Insert image":"Insérer une image","Insert link (if link plugin activated)":"Insérer un lien (si l'extension 'link' est activée)","Insert row after":"Insérer une ligne après","Insert row before":"Insérer une ligne avant","Insert table":"Insérer un tableau","Insert template...":"Insérer un modèle...","Insert video":"Insérer une vidéo","Insert/Edit code sample":"Insérer / modifier un bloc de code","Insert/edit image":"Insérer/modifier image","Insert/edit link":"Insérer/modifier lien","Insert/edit media":"Insérer/modifier un média","Insert/edit video":"Insérer/modifier une vidéo",Inset:"Incrusté","Invalid hex color code: {0}":"Code couleur hexadécimal invalide : {0}","Invalid input":"Entrée invalide",Italic:"Italique",Justify:"Justifier","Keyboard Navigation":"Navigation au clavier",Language:"Langue","Learn more...":"En savoir plus...",Left:"Gauche","Left to right":"De gauche à droite","Light Blue":"Bleu clair","Light Gray":"Gris clair","Light Green":"Vert clair","Light Purple":"Violet clair","Light Red":"Rouge clair","Light Yellow":"Jaune clair","Line height":"Hauteur de la ligne","Link list":"Liste des liens","Link...":"Lien...","List Properties":"Propriétés de la liste","List properties...":"Lister les propriétés...","Loading emojis...":"Chargement des emojis...","Loading...":"Chargement...","Lower Alpha":"Alphabet en minuscules","Lower Greek":"Alphabet grec en minuscules","Lower Roman":"Chiffre romain inférieur","Match case":"Respecter la casse",Mathematical:"Opérateurs mathématiques","Media poster (Image URL)":"Affiche de média (URL de l'image)","Media...":"Média...","Medium Blue":"Bleu moyen","Medium Gray":"Gris moyen","Medium Purple":"Violet moyen","Merge cells":"Fusionner les cellules",Middle:"Au milieu","Midnight Blue":"Bleu de minuit","More...":"Plus...",Name:"Nom","Navy Blue":"Bleu marine","New document":"Nouveau document","New window":"Nouvelle fenêtre",Next:"Suivante",No:"Non","No alignment":"Aucun alignement","No color":"Aucune couleur","Nonbreaking space":"Espace insécable",None:"Aucun","Numbered list":"Liste numérotée",OR:"OU",Objects:"Objets",Ok:"Ok","Open help dialog":"Ouvrir la boîte de dialogue d'aide","Open link":"Ouvrir le lien","Open link in...":"Ouvrir le lien dans...","Open popup menu for split buttons":"Ouvrir le menu contextuel pour les boutons partagés",Orange:"Orange",Outset:"Relief","Page break":"Saut de page",Paragraph:"Paragraphe",Paste:"Coller","Paste as text":"Coller comme texte","Paste column after":"Coller la colonne après","Paste column before":"Coller la colonne avant","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Le collage est maintenant en mode texte brut. Les contenus seront collés sans retenir les formatages jusqu'à ce que vous désactiviez cette option.","Paste or type a link":"Coller ou taper un lien","Paste row after":"Coller la ligne après","Paste row before":"Coller la ligne avant","Paste your embed code below:":"Collez votre code incorporé ci-dessous :",People:"Personnes",Plugins:"Plug-ins","Plugins installed ({0}):":"Extensions installées ({0}) :","Powered by {0}":"Avec {0}",Pre:"Préformaté",Preferences:"Préférences",Preformatted:"Préformaté","Premium plugins:":"Plug-ins premium :","Press the Up and Down arrow keys to resize the editor.":"Appuyez sur les touches fléchées haut et bas pour redimensionner l'éditeur.","Press the arrow keys to resize the editor.":"Appuyez sur les touches fléchées pour redimensionner l'éditeur.","Press {0} for help":"Appuyez sur {0} pour obtenir de l'aide",Preview:"Aperçu",Previous:"Précédente",Print:"Imprimer","Print...":"Imprimer...",Purple:"Violet",Quotations:"Citations",R:"R","Range 0 to 255":"Plage de 0 à 255",Red:"Rouge","Red component":"Composant rouge",Redo:"Refaire",Remove:"Retiré","Remove color":"Supprimer la couleur","Remove link":"Enlever le lien",Replace:"Remplacer","Replace all":"Remplacer tout","Replace with":"Remplacer par",Resize:"Redimensionner","Restore last draft":"Restaurer le dernier brouillon","Reveal or hide additional toolbar items":"Affichez ou masquez les éléments supplémentaires de la barre d'outils","Rich Text Area":"Zone de Texte Riche","Rich Text Area. Press ALT-0 for help.":"Zone de Texte Riche. Appuyez sur ALT-0 pour l'aide.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Zone de Texte Riche. Appuyez sur ALT-F9 pour le menu. Appuyez sur ALT-F10 pour la barre d'outils. Appuyez sur ALT-0 pour l'aide",Ridge:"Extrudé",Right:"Droite","Right to left":"De droite à gauche",Row:"Ligne","Row clipboard actions":"Actions du presse-papiers des lignes","Row group":"Groupe de lignes","Row header":"En-tête de ligne","Row properties":"Propriétés de la ligne","Row type":"Type de ligne",Rows:"Lignes",Save:"Enregistrer","Save (if save plugin activated)":"Enregistrer (si l'extension 'save' est activée)",Scope:"Étendue",Search:"Rechercher","Select all":"Sélectionner tout","Select...":"Sélectionner...",Selection:"Sélection",Shortcut:"Raccourci","Show blocks":"Afficher les blocs","Show caption":"Afficher une légende","Show invisible characters":"Afficher les caractères invisibles",Size:"Taille",Solid:"Trait continu",Source:"Source","Source code":"Code source","Special Character":"Caractère spécial","Special character...":"Caractère spécial...","Split cell":"Diviser la cellule",Square:"Carré","Start list at number":"Liste de départ au numéro",Strikethrough:"Barré",Style:"Style",Subscript:"Indice",Superscript:"Exposant","Switch to or from fullscreen mode":"Passer en ou quitter le mode plein écran",Symbols:"Symboles","System Font":"Police système",Table:"Tableau","Table caption":"Légende de tableau","Table properties":"Propriétés du tableau","Table styles":"Style tableau",Template:"Modèle",Templates:"Modèles",Text:"Texte","Text color":"Couleur du texte","Text color {0}":"Couleur du texte {0}","Text to display":"Texte à afficher","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"L'URL que vous avez saisie semble être une adresse e-mail. Souhaitez-vous y ajouter le préfixe requis mailto: ?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"L'URL que vous avez saisie semble être un lien externe. Souhaitez-vous y ajouter le préfixe requis mailto: ?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"L'URL que vous avez saisie semble être un lien externe. Voulez-vous ajouter le préfixe https:// requis ?",Title:"Titre","To open the popup, press Shift+Enter":"Pour ouvrir la popup, appuyez sur Maj+Entrée","Toggle accordion":"Activer l'accordéon",Tools:"Outils",Top:"En haut","Travel and Places":"Voyages et lieux",Turquoise:"Turquoise",Underline:"Souligné",Undo:"Annuler",Upload:"Télécharger","Uploading image":"Téléversement d'une image","Upper Alpha":"Alphabet en majuscules","Upper Roman":"Chiffre romain supérieur",Url:"URL","User Defined":"Défini par l'utilisateur",Valid:"Valide",Version:"Version","Vertical align":"Alignement vertical","Vertical space":"Espace vertical",View:"Afficher","Visual aids":"Aides visuelles",Warn:"Avertir",White:"Blanc",Width:"Largeur","Word count":"Nombre de mots",Words:"Mots","Words: {0}":"Mots : {0}",Yellow:"Jaune",Yes:"Oui","You are using {0}":"Vous utilisez {0}","You have unsaved changes are you sure you want to navigate away?":"Vous avez des modifications non enregistrées, êtes-vous sûr de vouloir quitter la page ?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Votre navigateur ne supporte pas l’accès direct au presse-papiers. Merci d'utiliser les raccourcis clavier Ctrl+X/C/V.",alignment:"alignement","austral sign":"Symbole austral","cedi sign":"Symbole cedi","colon sign":"symbole colón","cruzeiro sign":"Symbole cruzeiro","currency sign":"symbole devise","dollar sign":"symbole dollar","dong sign":"Symbole dong","drachma sign":"Symbole drachme","euro-currency sign":"symbole euro",example:"exemple",formatting:"mise en forme","french franc sign":"symbole franc français","german penny symbol":"Symbole pfennig","guarani sign":"Symbole guarani",history:"historique","hryvnia sign":"Symbole hryvnia",indentation:"retrait","indian rupee sign":"Symbole roupie indienne","kip sign":"Symbole kip","lira sign":"Symbole lire","livre tournois sign":"Symbole livre tournois","manat sign":"Symbole manat","mill sign":"Symbole millième","naira sign":"Symbole naira","new sheqel sign":"Symbole nouveau chékel","nordic mark sign":"Symbole du mark nordique","peseta sign":"Symbole peseta","peso sign":"Symbole peso","ruble sign":"Symbole rouble","rupee sign":"Symbole roupie","spesmilo sign":"Symbole spesmilo",styles:"styles","tenge sign":"Symbole tenge","tugrik sign":"Symbole tougrik","turkish lira sign":"Symbole lire turque","won sign":"Symbole won","yen character":"Sinogramme Yen","yen/yuan character variant one":"Sinogramme Yen/Yuan, première variante","yuan character":"Sinogramme Yuan","yuan character, in hong kong and taiwan":"Sinogramme Yuan, Hong Kong et Taiwan","{0} characters":"{0} caractères","{0} columns, {1} rows":" {0} colonnes, {1} lignes","{0} words":"{0} mots"});var RY=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],MY=function(re){return RY.map(function(ye){return ye.toLowerCase()}).indexOf(re.toLowerCase())!==-1},BY=function(re,ye,Fe){Object.keys(ye).filter(MY).forEach(function(Oe){var Xe=ye[Oe];typeof Xe=="function"&&(Oe==="onInit"?Xe(re,Fe):Fe.on(Oe.substring(2),function(Se){return Xe(Se,Fe)}))})},PY=function(re,ye,Fe,Oe){var Xe=re.modelEvents?re.modelEvents:null,Se=Array.isArray(Xe)?Xe.join(" "):Xe;_2(Oe,function(Ee,He){Fe&&typeof Ee=="string"&&Ee!==He&&Ee!==Fe.getContent({format:re.outputFormat})&&Fe.setContent(Ee)}),Fe.on(Se||"change input undo redo",function(){ye.emit("update:modelValue",Fe.getContent({format:re.outputFormat}))})},IY=function(re,ye,Fe,Oe,Xe,Se){Oe.setContent(Se()),Fe.attrs["onUpdate:modelValue"]&&PY(ye,Fe,Oe,Xe),BY(re,Fe.attrs,Oe)},Fz=0,sH=function(re){var ye=Date.now(),Fe=Math.floor(Math.random()*1e9);return Fz++,re+"_"+Fe+Fz+String(ye)},LY=function(re){return re!==null&&re.tagName.toLowerCase()==="textarea"},zz=function(re){return typeof re>"u"||re===""?[]:Array.isArray(re)?re:re.split(" ")},FY=function(re,ye){return zz(re).concat(zz(ye))},zY=function(re){return re==null},Hz=function(){return{listeners:[],scriptId:sH("tiny-script"),scriptLoaded:!1}},HY=function(){var re=Hz(),ye=function(Xe,Se,Ee,He){var Ze=Se.createElement("script");Ze.referrerPolicy="origin",Ze.type="application/javascript",Ze.id=Xe,Ze.src=Ee;var ut=function(){Ze.removeEventListener("load",ut),He()};Ze.addEventListener("load",ut),Se.head&&Se.head.appendChild(Ze)},Fe=function(Xe,Se,Ee){re.scriptLoaded?Ee():(re.listeners.push(Ee),Xe.getElementById(re.scriptId)||ye(re.scriptId,Xe,Se,function(){re.listeners.forEach(function(He){return He()}),re.scriptLoaded=!0}))},Oe=function(){re=Hz()};return{load:Fe,reinitialize:Oe}},VY=HY(),$Y=function(){return typeof window<"u"?window:global},C2=function(){var re=$Y();return re&&re.tinymce?re.tinymce:null},UY={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(re){return re==="html"||re==="text"}}},kh=function(){return kh=Object.assign||function(re){for(var ye,Fe=1,Oe=arguments.length;Fe<Oe;Fe++){ye=arguments[Fe];for(var Xe in ye)Object.prototype.hasOwnProperty.call(ye,Xe)&&(re[Xe]=ye[Xe])}return re},kh.apply(this,arguments)},ZY=function(re,ye,Fe,Oe){return re(Oe||"div",{id:ye,ref:Fe})},jY=function(re,ye,Fe){return re("textarea",{id:ye,visibility:"hidden",ref:Fe})},XI={selector:void 0,target:void 0},rH=fa({props:UY,setup:function(re,ye){var Fe=re.init?kh(kh({},re.init),XI):kh({},XI),Oe=FG(re),Xe=Oe.disabled,Se=Oe.modelValue,Ee=Oe.tagName,He=Yo(null),Ze=null,ut=re.id||sH("tiny-vue"),Ct=re.init&&re.init.inline||re.inline,Ht=!!ye.attrs["onUpdate:modelValue"],xt=!0,Ne=re.initialValue?re.initialValue:"",gt="",Tt=function(Pe){return Ht?function(){return Se!=null&&Se.value?Se.value:""}:function(){return Pe?Ne:gt}},lt=function(){var Pe=Tt(xt),Ue=kh(kh({},Fe),{readonly:re.disabled,target:He.value,plugins:FY(Fe.plugins,re.plugins),toolbar:re.toolbar||Fe.toolbar,inline:Ct,license_key:re.licenseKey,setup:function(ne){Ze=ne,ne.on("init",function(kt){return IY(kt,re,ye,ne,Se,Pe)}),typeof Fe.setup=="function"&&Fe.setup(ne)}});LY(He.value)&&(He.value.style.visibility=""),C2().init(Ue),xt=!1};_2(Xe,function(Pe){var Ue;Ze!==null&&(typeof((Ue=Ze.mode)===null||Ue===void 0?void 0:Ue.set)=="function"?Ze.mode.set(Pe?"readonly":"design"):Ze.setMode(Pe?"readonly":"design"))}),_2(Ee,function(Pe){var Ue;Ht||(gt=Ze.getContent()),(Ue=C2())===null||Ue===void 0||Ue.remove(Ze),z7(function(){return lt()})}),Gu(function(){if(C2()!==null)lt();else if(He.value&&He.value.ownerDocument){var Pe=re.cloudChannel?re.cloudChannel:"7",Ue=re.apiKey?re.apiKey:"no-api-key",ne=zY(re.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(Ue,"/tinymce/").concat(Pe,"/tinymce.min.js"):re.tinymceScriptSrc;VY.load(He.value.ownerDocument,ne,lt)}}),zG(function(){C2()!==null&&C2().remove(Ze)}),Ct||(HG(function(){xt||lt()}),VG(function(){var Pe;Ht||(gt=Ze.getContent()),(Pe=C2())===null||Pe===void 0||Pe.remove(Ze)}));var xe=function(Pe){var Ue;gt=Ze.getContent(),(Ue=C2())===null||Ue===void 0||Ue.remove(Ze),Fe=kh(kh(kh({},Fe),Pe),XI),z7(function(){return lt()})};return ye.expose({rerender:xe,getEditor:function(){return Ze}}),function(){return Ct?ZY(iz,ut,He,re.tagName):jY(iz,ut,He)}}});const WY=E2({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...TE()},"VColorPickerCanvas"),qY=DE({name:"VColorPickerCanvas",props:WY(),emits:{"update:color":re=>!0,"update:position":re=>!0},setup(re,ye){let{emit:Fe}=ye;const Oe=WI(!1),Xe=Yo(),Se=WI(parseFloat(re.width)),Ee=WI(parseFloat(re.height)),He=Yo({x:0,y:0}),Ze=ta({get:()=>He.value,set(lt){var Ue,ne;if(!Xe.value)return;const{x:xe,y:Pe}=lt;He.value=lt,Fe("update:color",{h:((Ue=re.color)==null?void 0:Ue.h)??0,s:B7(xe,0,Se.value)/Se.value,v:1-B7(Pe,0,Ee.value)/Ee.value,a:((ne=re.color)==null?void 0:ne.a)??1})}}),ut=ta(()=>{const{x:lt,y:xe}=Ze.value,Pe=parseInt(re.dotSize,10)/2;return{width:u_(re.dotSize),height:u_(re.dotSize),transform:`translate(${u_(lt-Pe)}, ${u_(xe-Pe)})`}}),{resizeRef:Ct}=$G(lt=>{var Ue;if(!((Ue=Ct.el)!=null&&Ue.offsetParent))return;const{width:xe,height:Pe}=lt[0].contentRect;Se.value=xe,Ee.value=Pe});function Ht(lt,xe,Pe){const{left:Ue,top:ne,width:kt,height:pe}=Pe;Ze.value={x:B7(lt-Ue,0,kt),y:B7(xe-ne,0,pe)}}function xt(lt){lt.type==="mousedown"&&lt.preventDefault(),!re.disabled&&(Ne(lt),window.addEventListener("mousemove",Ne),window.addEventListener("mouseup",gt),window.addEventListener("touchmove",Ne),window.addEventListener("touchend",gt))}function Ne(lt){if(re.disabled||!Xe.value)return;Oe.value=!0;const xe=UG(lt);Ht(xe.clientX,xe.clientY,Xe.value.getBoundingClientRect())}function gt(){window.removeEventListener("mousemove",Ne),window.removeEventListener("mouseup",gt),window.removeEventListener("touchmove",Ne),window.removeEventListener("touchend",gt)}function Tt(){var ne;if(!Xe.value)return;const lt=Xe.value,xe=lt.getContext("2d");if(!xe)return;const Pe=xe.createLinearGradient(0,0,lt.width,0);Pe.addColorStop(0,"hsla(0, 0%, 100%, 1)"),Pe.addColorStop(1,`hsla(${((ne=re.color)==null?void 0:ne.h)??0}, 100%, 50%, 1)`),xe.fillStyle=Pe,xe.fillRect(0,0,lt.width,lt.height);const Ue=xe.createLinearGradient(0,0,0,lt.height);Ue.addColorStop(0,"hsla(0, 0%, 0%, 0)"),Ue.addColorStop(1,"hsla(0, 0%, 0%, 1)"),xe.fillStyle=Ue,xe.fillRect(0,0,lt.width,lt.height)}return _2(()=>{var lt;return(lt=re.color)==null?void 0:lt.h},Tt,{immediate:!0}),_2(()=>[Se.value,Ee.value],(lt,xe)=>{Tt(),He.value={x:Ze.value.x*lt[0]/xe[0],y:Ze.value.y*lt[1]/xe[1]}},{flush:"post"}),_2(()=>re.color,()=>{if(Oe.value){Oe.value=!1;return}He.value=re.color?{x:re.color.s*Se.value,y:(1-re.color.v)*Ee.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Gu(()=>Tt()),A2(()=>gn("div",{ref:Ct,class:lg(["v-color-picker-canvas",re.class]),style:ig(re.style),onMousedown:xt,onTouchstartPassive:xt},[gn("canvas",{ref:Xe,width:Se.value,height:Ee.value},null),re.color&&gn("div",{class:lg(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":re.disabled}]),style:ig(ut.value)},null)])),{}}});function GY(re,ye){if(ye){const{a:Fe,...Oe}=re;return Oe}return re}function KY(re,ye){if(ye==null||typeof ye=="string"){const Fe=re.a!==1;if(ye!=null&&ye.startsWith("rgb(")){const{r:Xe,g:Se,b:Ee,a:He}=JI(re);return`rgb(${Xe} ${Se} ${Ee}`+(Fe?` / ${He})`:")")}else if(ye!=null&&ye.startsWith("hsl(")){const{h:Xe,s:Se,l:Ee,a:He}=QI(re);return`hsl(${Xe} ${Math.round(Se*100)} ${Math.round(Ee*100)}`+(Fe?` / ${He})`:")")}const Oe=qz(re);return re.a===1?Oe.slice(0,7):Oe}if(typeof ye=="object"){let Fe;return P7(ye,["r","g","b"])?Fe=JI(re):P7(ye,["h","s","l"])?Fe=QI(re):P7(ye,["h","s","v"])&&(Fe=re),GY(Fe,!P7(ye,["a"])&&re.a===1)}return re}const m_={h:0,s:0,v:0,a:1},eL={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:re=>Math.round(re.r),getColor:(re,ye)=>({...re,r:Number(ye)})},{label:"G",max:255,step:1,getValue:re=>Math.round(re.g),getColor:(re,ye)=>({...re,g:Number(ye)})},{label:"B",max:255,step:1,getValue:re=>Math.round(re.b),getColor:(re,ye)=>({...re,b:Number(ye)})},{label:"A",max:1,step:.01,getValue:re=>{let{a:ye}=re;return ye!=null?Math.round(ye*100)/100:1},getColor:(re,ye)=>({...re,a:Number(ye)})}],to:JI,from:V7};var Vz;const YY={...eL,inputs:(Vz=eL.inputs)==null?void 0:Vz.slice(0,3)},tL={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:re=>Math.round(re.h),getColor:(re,ye)=>({...re,h:Number(ye)})},{label:"S",max:1,step:.01,getValue:re=>Math.round(re.s*100)/100,getColor:(re,ye)=>({...re,s:Number(ye)})},{label:"L",max:1,step:.01,getValue:re=>Math.round(re.l*100)/100,getColor:(re,ye)=>({...re,l:Number(ye)})},{label:"A",max:1,step:.01,getValue:re=>{let{a:ye}=re;return ye!=null?Math.round(ye*100)/100:1},getColor:(re,ye)=>({...re,a:Number(ye)})}],to:QI,from:jG},XY={...tL,inputs:tL.inputs.slice(0,3)},aH={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:re=>re,getColor:(re,ye)=>ye}],to:qz,from:ZG},QY={...aH,inputs:[{label:"HEX",getValue:re=>re.slice(0,7),getColor:(re,ye)=>ye}]},S2={rgb:YY,rgba:eL,hsl:XY,hsla:tL,hex:QY,hexa:aH},JY=re=>{let{label:ye,...Fe}=re;return gn("div",{class:"v-color-picker-edit__input"},[gn("input",WG(qG(Fe)),null),gn("span",null,[ye])])},eX=E2({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:re=>Object.keys(S2).includes(re)},modes:{type:Array,default:()=>Object.keys(S2),validator:re=>Array.isArray(re)&&re.every(ye=>Object.keys(S2).includes(ye))},...TE()},"VColorPickerEdit"),tX=DE({name:"VColorPickerEdit",props:eX(),emits:{"update:color":re=>!0,"update:mode":re=>!0},setup(re,ye){let{emit:Fe}=ye;const Oe=ta(()=>re.modes.map(Se=>({...S2[Se],name:Se}))),Xe=ta(()=>{var He;const Se=Oe.value.find(Ze=>Ze.name===re.mode);if(!Se)return[];const Ee=re.color?Se.to(re.color):null;return(He=Se.inputs)==null?void 0:He.map(Ze=>{let{getValue:ut,getColor:Ct,...Ht}=Ze;return{...Se.inputProps,...Ht,disabled:re.disabled,value:Ee&&ut(Ee),onChange:xt=>{const Ne=xt.target;Ne&&Fe("update:color",Se.from(Ct(Ee??Se.to(m_),Ne.value)))}}})});return A2(()=>{var Se;return gn("div",{class:lg(["v-color-picker-edit",re.class]),style:ig(re.style)},[(Se=Xe.value)==null?void 0:Se.map(Ee=>q(JY,Ee,null)),Oe.value.length>1&&q(ln,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const Ee=Oe.value.findIndex(He=>He.name===re.mode);Fe("update:mode",Oe.value[(Ee+1)%Oe.value.length].name)}},null)])}),{}}}),oX=E2({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...TE()},"VColorPickerPreview"),nX=DE({name:"VColorPickerPreview",props:oX(),emits:{"update:color":re=>!0},setup(re,ye){let{emit:Fe}=ye;const Oe=new AbortController;GG(()=>Oe.abort());async function Xe(){if(!lz||re.disabled)return;const Se=new window.EyeDropper;try{const Ee=await Se.open({signal:Oe.signal}),He=V7(nL(Ee.sRGBHex));Fe("update:color",{...re.color??m_,...He})}catch{}}return A2(()=>{var Se,Ee;return gn("div",{class:lg(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":re.hideAlpha},re.class]),style:ig(re.style)},[lz&&gn("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[q(ln,{density:"comfortable",disabled:re.disabled,icon:"$eyeDropper",variant:"plain",onClick:Xe},null)]),gn("div",{class:"v-color-picker-preview__dot"},[gn("div",{style:ig({background:Gz(re.color??m_)})},null)]),gn("div",{class:"v-color-picker-preview__sliders"},[q(gz,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(Se=re.color)==null?void 0:Se.h,"onUpdate:modelValue":He=>Fe("update:color",{...re.color??m_,h:He}),step:0,min:0,max:360,disabled:re.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!re.hideAlpha&&q(gz,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((Ee=re.color)==null?void 0:Ee.a)??1,"onUpdate:modelValue":He=>Fe("update:color",{...re.color??m_,a:He}),step:1/256,min:0,max:1,disabled:re.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),sX={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},rX={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},aX={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},iX={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},lX={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},cX={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},dX={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},uX={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},mX={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},fX={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},pX={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},gX={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},hX={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},bX={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},xX={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},vX={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},yX={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},wX={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},CX={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},_X={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},kX={red:sX,pink:rX,purple:aX,deepPurple:iX,indigo:lX,blue:cX,lightBlue:dX,cyan:uX,teal:mX,green:fX,lightGreen:pX,lime:gX,yellow:hX,amber:bX,orange:xX,deepOrange:vX,brown:yX,blueGrey:wX,grey:CX,shades:_X},SX=E2({swatches:{type:Array,default:()=>EX(kX)},disabled:Boolean,color:Object,maxHeight:[Number,String],...TE()},"VColorPickerSwatches");function EX(re){return Object.keys(re).map(ye=>{const Fe=re[ye];return Fe.base?[Fe.base,Fe.darken4,Fe.darken3,Fe.darken2,Fe.darken1,Fe.lighten1,Fe.lighten2,Fe.lighten3,Fe.lighten4,Fe.lighten5]:[Fe.black,Fe.white,Fe.transparent]})}const AX=DE({name:"VColorPickerSwatches",props:SX(),emits:{"update:color":re=>!0},setup(re,ye){let{emit:Fe}=ye;return A2(()=>gn("div",{class:lg(["v-color-picker-swatches",re.class]),style:ig([{maxHeight:u_(re.maxHeight)},re.style])},[gn("div",null,[re.swatches.map(Oe=>gn("div",{class:"v-color-picker-swatches__swatch"},[Oe.map(Xe=>{const Se=nL(Xe),Ee=V7(Se),He=KG(Se);return gn("div",{class:"v-color-picker-swatches__color",onClick:()=>Ee&&Fe("update:color",Ee)},[gn("div",{style:ig({background:He})},[re.color&&YG(re.color,Ee)?q(Bs,{size:"x-small",icon:"$success",color:XG(Xe,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),TX=E2({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:re=>Object.keys(S2).includes(re)},modes:{type:Array,default:()=>Object.keys(S2),validator:re=>Array.isArray(re)&&re.every(ye=>Object.keys(S2).includes(ye))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...DK({hideHeader:!0})},"VColorPicker"),DX=DE({name:"VColorPicker",props:TX(),emits:{"update:modelValue":re=>!0,"update:mode":re=>!0},setup(re,ye){let{slots:Fe}=ye;const Oe=H7(re,"mode"),Xe=Yo(null),Se=H7(re,"modelValue",void 0,Ct=>{if(Ct==null||Ct==="")return null;let Ht;try{Ht=V7(nL(Ct))}catch{return null}return Ht},Ct=>Ct?KY(Ct,re.modelValue):null),Ee=ta(()=>Se.value?{...Se.value,h:Xe.value??Se.value.h}:null),{rtlClasses:He}=QG();let Ze=!0;_2(Se,Ct=>{if(!Ze){Ze=!0;return}Ct&&(Xe.value=Ct.h)},{immediate:!0});const ut=Ct=>{Ze=!1,Xe.value=Ct.h,Se.value=Ct};return JG(()=>{re.modes.includes(Oe.value)||(Oe.value=re.modes[0])}),eK({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),A2(()=>{const Ct=uz.filterProps(re);return q(uz,yd(Ct,{class:["v-color-picker",He.value,re.class],style:[{"--v-color-picker-color-hsv":Gz({...Ee.value??m_,a:1})},re.style]}),{...Fe,default:()=>gn(Ir,null,[!re.hideCanvas&&q(qY,{key:"canvas",color:Ee.value,"onUpdate:color":ut,disabled:re.disabled,dotSize:re.dotSize,width:re.width,height:re.canvasHeight},null),(!re.hideSliders||!re.hideInputs)&&gn("div",{key:"controls",class:"v-color-picker__controls"},[!re.hideSliders&&q(nX,{key:"preview",color:Ee.value,"onUpdate:color":ut,hideAlpha:!Oe.value.endsWith("a"),disabled:re.disabled},null),!re.hideInputs&&q(tX,{key:"edit",modes:re.modes,mode:Oe.value,"onUpdate:mode":Ht=>Oe.value=Ht,color:Ee.value,"onUpdate:color":ut,disabled:re.disabled},null)]),re.showSwatches&&q(AX,{key:"swatches",color:Ee.value,"onUpdate:color":ut,maxHeight:re.swatchesMaxHeight,swatches:re.swatches,disabled:re.disabled},null)])})}),{}}}),OX=fa({__name:"ColorField",props:jz({label:{},swatches:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(re){const ye=re,Fe=Wz(re,"modelValue");function Oe(Se){Fe.value=Se.substring(0,7)}const Xe=ta(()=>{const Se=[];let Ee=ye.swatches.length,He=5;for(let Ze=0;Ze<Ee;Ze+=He)Se.push(ye.swatches.slice(Ze,Ze+He));return Se});return(Se,Ee)=>(Lt(),Eo(wi,null,{default:Q(()=>[q(Mn,{"align-self":"center"},{default:Q(()=>[$t(Pa(ye.label),1)]),_:1}),q(Mn,{"align-self":"center",cols:"auto"},{default:Q(()=>[q(Sh,{top:"","close-on-content-click":!1},{activator:Q(({props:He})=>[q(ln,yd({color:Fe.value},He,{width:"90px"}),null,16,["color"])]),default:Q(()=>[q(Tr,null,{default:Q(()=>[q(br,{class:"pa-0"},{default:Q(()=>[q(DX,{value:Fe.value||"#252EBC","onUpdate:modelValue":Oe,flat:"",swatches:Xe.value,"show-swatches":"","hide-canvas":"","hide-sliders":"",mode:"hex"},null,8,["value","swatches"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),NX=E2({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...UK(),...$K()},"VSwitch"),AE=$z()({name:"VSwitch",inheritAttrs:!1,props:NX(),emits:{"update:focused":re=>!0,"update:modelValue":re=>!0,"update:indeterminate":re=>!0},setup(re,ye){let{attrs:Fe,slots:Oe}=ye;const Xe=H7(re,"indeterminate"),Se=H7(re,"modelValue"),{loaderClasses:Ee}=tK(re),{isFocused:He,focus:Ze,blur:ut}=VK(re),Ct=Yo(),Ht=oK&&window.matchMedia("(forced-colors: active)").matches,xt=cz(()=>typeof re.loading=="string"&&re.loading!==""?re.loading:re.color),Ne=nK(),gt=cz(()=>re.id||`switch-${Ne}`);function Tt(){Xe.value&&(Xe.value=!1)}function lt(xe){var Pe,Ue;xe.stopPropagation(),xe.preventDefault(),(Ue=(Pe=Ct.value)==null?void 0:Pe.input)==null||Ue.click()}return A2(()=>{const[xe,Pe]=sK(Fe),Ue=fz.filterProps(re),ne=pz.filterProps(re);return q(fz,yd({class:["v-switch",{"v-switch--flat":re.flat},{"v-switch--inset":re.inset},{"v-switch--indeterminate":Xe.value},Ee.value,re.class]},xe,Ue,{modelValue:Se.value,"onUpdate:modelValue":kt=>Se.value=kt,id:gt.value,focused:He.value,style:re.style}),{...Oe,default:kt=>{let{id:pe,messagesId:hn,isDisabled:is,isReadonly:bn,isValid:qo}=kt;const Ke={model:Se,isValid:qo};return q(pz,yd({ref:Ct},ne,{modelValue:Se.value,"onUpdate:modelValue":[Xt=>Se.value=Xt,Tt],id:pe.value,"aria-describedby":hn.value,type:"checkbox","aria-checked":Xe.value?"mixed":void 0,disabled:is.value,readonly:bn.value,onFocus:Ze,onBlur:ut},Pe),{...Oe,default:Xt=>{let{backgroundColorClasses:A,backgroundColorStyles:Co}=Xt;return gn("div",{class:lg(["v-switch__track",Ht?void 0:A.value]),style:ig(Co.value),onClick:lt},[Oe["track-true"]&&gn("div",{key:"prepend",class:"v-switch__track-true"},[Oe["track-true"](Ke)]),Oe["track-false"]&&gn("div",{key:"append",class:"v-switch__track-false"},[Oe["track-false"](Ke)])])},input:Xt=>{let{inputNode:A,icon:Co,backgroundColorClasses:ko,backgroundColorStyles:Bn}=Xt;return gn(Ir,null,[A,gn("div",{class:lg(["v-switch__thumb",{"v-switch__thumb--filled":Co||re.loading},re.inset||Ht?void 0:ko.value]),style:ig(re.inset?void 0:Bn.value)},[Oe.thumb?q(rK,{defaults:{VIcon:{icon:Co,size:"x-small"}}},{default:()=>[Oe.thumb({...Ke,icon:Co})]}):q(aK,null,{default:()=>[re.loading?q(iK,{name:"v-switch",active:!0,color:qo.value===!1?void 0:xt.value},{default:dr=>Oe.loader?Oe.loader(dr):q(Kz,{active:dr.isActive,color:dr.color,indeterminate:!0,size:"16",width:"2"},null)}):Co&&q(Bs,{key:String(Co),icon:Co,size:"x-small"},null)]})])])}})}})}),{}}}),RX=fa({__name:"LettreOptionsCard",props:{options:{}},emits:["save"],setup(re,{emit:ye}){const Fe=re,Oe=ye,Xe=Yo(kE(Fe.options)),Se=["#BFEDD2","#FBEEB8","#F8CAC6","#ECCAFA","#C2E0F4","#2DC26B","#F1C40F","#E03E2D","#B96AD9","#3598DB","#169179","#E67E23","#BA372A","#843FA1","#236FA1","#ECF0F1","#CED4D9","#95A5A6","#7E8C8D","#34495E","#000000","#ffffff"];return(Ee,He)=>{const Ze=OX;return Lt(),Eo(Tr,{title:"Options de l'entête"},{default:Q(()=>[q(br,null,{default:Q(()=>[q(wi,null,{default:Q(()=>[q(Mn,null,{default:Q(()=>[q(AE,{color:"primary",density:"compact",modelValue:Xe.value.UseCoordCentre,"onUpdate:modelValue":He[0]||(He[0]=ut=>Xe.value.UseCoordCentre=ut),hint:"Activer pour remplacer les coordonnées du directeur par ceux du centre, dans l'entête de la lettre.","persistent-hint":"",label:"Coordonnées du centre"},null,8,["modelValue"])]),_:1}),q(Mn,{cols:"5"},{default:Q(()=>[lK(q(AE,{color:"primary",density:"compact",modelValue:Xe.value.ShowAdressePostale,"onUpdate:modelValue":He[1]||(He[1]=ut=>Xe.value.ShowAdressePostale=ut),hint:"Afficher l'adresse postale du directeur.","persistent-hint":"",label:"Ajouter l'adresse postale"},null,8,["modelValue"]),[[cK,!Xe.value.UseCoordCentre]])]),_:1})]),_:1}),q(wi,{class:"mt-4"},{default:Q(()=>[q(Mn,{cols:"6"},{default:Q(()=>[q(Ze,{label:"Couleur du texte de l'entête",modelValue:Xe.value.ColorCoord,"onUpdate:modelValue":He[2]||(He[2]=ut=>Xe.value.ColorCoord=ut),swatches:Se},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(ln,{color:"success",onClick:He[3]||(He[3]=ut=>Oe("save",Xe.value))},{default:Q(()=>He[4]||(He[4]=[$t("Enregistrer")])),_:1,__:[4]})]),_:1})]),_:1})}}}),MX=["data"],BX=`<p><span style="font-size: 12pt; color: #3598db;" data-mce-style="font-size: 12pt; color: #3598db;">ESPACE PERSONNEL</span></p><p>Lors de votre inscription, un espace personnel de suivi vous a été attribué et un lien vers celui-ci envoyé dans le mail de confirmation (<span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Mon</span> <span style="background-color: #ffffff;" data-mce-style="background-color: #ffffff;">Dossier</span>). Dans cet espace vous trouverez :</p><ul><li>le <strong>suivi financier</strong> : vous pourrez alors joindre en ligne les aides auxquelles vous avez droit</li><li>les <strong>documents liés au séjour</strong> : liste de vêtement, lettre aux parents, plan d’accès au site ...</li><li>les <strong>documents à compléter</strong> ou joindre en ligne : test d'aisance aquatique si besoin ...</li><li>l'<strong>album photo</strong> du séjour</li><li>la <strong>fiche sanitaire</strong> à compléter en ligne</li></ul><p><em>TOUTES LES INFOS ET DOCUMENTS DU SÉJOUR SE TROUVENT DANS VOTRE ESPACE DÉDIÉ.</em></p>`,PX=fa({__name:"PannelLettre",setup(re){Gu(Fe);const ye=Yo(null);async function Fe(){const Ht=await ho.LettreGet();Ht!==void 0&&(Ht.File.Id==0&&Ht.Lettre.Html==""&&(Ht.Lettre.Html=BX),ye.value=Ht)}const Oe=ta(()=>{var xt;const Ht=(xt=ye.value)==null?void 0:xt.File;return Ht?Ht.Id==0?"En attente de création":`Enregistrée le ${F7.time(Ht.Uploaded)} (taille : ${F7.size(Ht.Taille)})`:""}),Xe=ta(()=>({language:"fr_FR",height:"75vh",plugins:["lists","advlist","image","code","link"],menubar:!1,statusbar:!1,paste_data_images:!0,image_advtab:!1,browser_spellcheck:!0,contextmenu:[],font_formats:"Arial=arial;",toolbar:["undo redo | cut copy paste | bold italic underline strikethrough | fontsize |  forecolor backcolor current_backcolor  |  alignleft aligncenter alignright | bullist numlist outdent indent | image styles link"],target_list:[{title:"Nouvelle page",value:"_blank"}],link_title:!1,link_assume_external_targets:!0,relative_urls:!1,remove_script_host:!1,image_description:!1,images_upload_url:NE.LettreImageUpload(ho.authToken),automatic_uploads:!0,formats:{imageMargin:{selector:"img",styles:{marginRight:"20px"}}},style_formats:[{title:"Espacer l'image à droite",format:"imageMargin"}]})),Se=Yo(!1);async function Ee(){if(ye.value==null)return;Se.value=!0;const Ht=await ho.LettreUpdate(ye.value.Lettre);Se.value=!1,Ht!==void 0&&(ho.showMessage("Lettre enregistrée avec succès."),ye.value=Ht,ut.value=!0)}const He=Yo(!1);async function Ze(Ht){ye.value&&(He.value=!1,ye.value.Lettre.UseCoordCentre=Ht.UseCoordCentre,ye.value.Lettre.ShowAdressePostale=Ht.ShowAdressePostale,ye.value.Lettre.ColorCoord=Ht.ColorCoord,Ee())}const ut=Yo(!1),Ct=ta(()=>ye.value?dK(ye.value.File.Key):"");return(Ht,xt)=>(Lt(),as(Ir,null,[ye.value==null?(Lt(),Eo(Eh,{key:0,type:"card"})):ea("",!0),q(Tr,{class:"mt-2 mx-auto",title:"Editer la lettre",subtitle:Oe.value,"max-width":"800px"},{append:Q(()=>[q(ln,{class:"mx-2",onClick:xt[0]||(xt[0]=Ne=>He.value=!0)},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>xt[4]||(xt[4]=[$t("mdi-cog")])),_:1,__:[4]})]),default:Q(()=>[xt[5]||(xt[5]=$t(" Options"))]),_:1,__:[5]}),q(Uc,{thickness:"2",vertical:""}),Se.value?(Lt(),Eo(Kz,{key:0,color:"primary",indeterminate:"",class:"mx-2",size:"42"})):(Lt(),Eo(p_,{key:1,text:"Enregistrer et visualiser"},{activator:Q(({props:Ne})=>[q(ln,yd(Ne,{class:"mx-2",icon:"mdi-content-save",onClick:Ee,disabled:!ye.value}),null,16,["disabled"])]),_:1}))]),default:Q(()=>[ye.value?(Lt(),Eo(br,{key:0},{default:Q(()=>[q(bs(rH),{licenseKey:"gpl",modelValue:ye.value.Lettre.Html,"onUpdate:modelValue":xt[1]||(xt[1]=Ne=>ye.value.Lettre.Html=Ne),init:Xe.value},null,8,["modelValue","init"])]),_:1})):ea("",!0)]),_:1},8,["subtitle"]),q(el,{modelValue:He.value,"onUpdate:modelValue":xt[2]||(xt[2]=Ne=>He.value=Ne),"max-width":"800px"},{default:Q(()=>[ye.value?(Lt(),Eo(RX,{key:0,options:{UseCoordCentre:ye.value.Lettre.UseCoordCentre,ShowAdressePostale:ye.value.Lettre.ShowAdressePostale,ColorCoord:ye.value.Lettre.ColorCoord},onSave:Ze},null,8,["options"])):ea("",!0)]),_:1},8,["modelValue"]),q(el,{modelValue:ut.value,"onUpdate:modelValue":xt[3]||(xt[3]=Ne=>ut.value=Ne)},{default:Q(()=>[ut.value?(Lt(),as("object",{key:0,type:"application/pdf",data:Ct.value,style:{height:"95vh"}},null,8,MX)):ea("",!0)]),_:1},8,["modelValue"])],64))}}),IX={key:0,class:"mr-4"},LX=fa({__name:"AddDemandeCard",props:{availableDemandes:{},selectedDemandes:{}},emits:["selected","created","updated","deleted"],setup(re,{emit:ye}){const Fe=re,Oe=ye;async function Xe(){const lt=await ho.DocumentsCreateDemande();lt!==void 0&&(Oe("created",lt),Se.value=kE(lt))}const Se=Yo(null);async function Ee(){const lt=Se.value;lt==null||(Se.value=null,await ho.DocumentsUpdateDemande(lt.Demande)===void 0)||(ho.showMessage("Modifications enregistrées avec succès."),Oe("updated",lt))}const He=Yo(null);async function Ze(){const lt=He.value;lt==null||(He.value=null,await ho.DocumentsDeleteDemande({idDemande:lt.Id})===void 0)||(ho.showMessage("Demande supprimée avec succès."),Oe("deleted",lt))}const ut=Yo(null),Ct=oL("fileInput"),Ht=Yo(null);function xt(lt){ut.value=lt,z7(()=>{var xe;return(xe=Ct.value)==null?void 0:xe.openDialog()})}async function Ne(){const lt=ut.value,xe=Ht.value;if(xe==null||lt==null)return;ut.value=null,Ht.value=null;const Pe=await ho.DocumentsUploadDemandeFile(xe,{idDemande:lt.Demande.Id});Pe!==void 0&&(ho.showMessage("Document téléversé avec succès."),Oe("updated",{Demande:lt.Demande,File:Pe}))}const gt=Yo(null);async function Tt(){const lt=gt.value;lt==null||(gt.value=null,await ho.DocumentsDeleteDemandeFile({key:lt.File.Key})===void 0)||(ho.showMessage("Document supprimé avec succès."),Oe("updated",{Demande:lt.Demande,File:{Id:0,Key:"",NomClient:"",Taille:0,Uploaded:""}}))}return(lt,xe)=>{const Pe=sL,Ue=tH,ne=oH;return Lt(),Eo(Tr,{title:"Demander un document",subtitle:"Les familles devront fournir ce document sur leur espace personnel.",class:"ma-2"},{append:Q(()=>[q(ln,{onClick:Xe},{prepend:Q(()=>[q(Bs,{color:"green"},{default:Q(()=>xe[8]||(xe[8]=[$t("mdi-plus")])),_:1,__:[8]})]),default:Q(()=>[xe[9]||(xe[9]=$t(" Nouvelle demande"))]),_:1,__:[9]})]),default:Q(()=>[q(br,null,{default:Q(()=>[q(qu,null,{default:Q(()=>[Fe.availableDemandes.length?ea("",!0):(Lt(),Eo(Us,{key:0,class:"text-center"},{default:Q(()=>xe[10]||(xe[10]=[gn("i",null,"Aucune demande.",-1)])),_:1,__:[10]})),(Lt(!0),as(Ir,null,xc(Fe.availableDemandes,kt=>(Lt(),Eo(Us,yd({title:kt.Demande.Description,subtitle:kt.Demande.IdDirecteur.Valid?"Demande vous appartenant":"Demande globale",rounded:"",class:"my-1"},{[uK(!Fe.selectedDemandes.includes(kt.Demande.Id)&&"click")]:pe=>Oe("selected",kt.Demande)}),Uz({append:Q(()=>[kt.File.Id!=0?(Lt(),as("div",IX,[q(Pe,{file:kt.File,onDelete:pe=>gt.value=kt},null,8,["file","onDelete"])])):(Lt(),Eo(ln,{key:1,size:"small",class:"mr-2",onClick:qI(pe=>xt(kt),["stop"])},{prepend:Q(()=>[q(Bs,{color:"green",icon:"mdi-upload"})]),default:Q(()=>[xe[12]||(xe[12]=$t(" Document à remplir "))]),_:2,__:[12]},1032,["onClick"])),q(ln,{icon:"",size:"x-small",class:"mx-1",onClick:qI(pe=>Se.value=kt,["stop"]),disabled:!kt.Demande.IdDirecteur.Valid},{default:Q(()=>[q(Bs,null,{default:Q(()=>xe[13]||(xe[13]=[$t("mdi-pencil")])),_:1,__:[13]})]),_:2},1032,["onClick","disabled"]),q(ln,{icon:"",size:"x-small",class:"mx-1",onClick:qI(pe=>He.value=kt.Demande,["stop"]),disabled:!kt.Demande.IdDirecteur.Valid},{default:Q(()=>[q(Bs,{color:"red"},{default:Q(()=>xe[14]||(xe[14]=[$t("mdi-delete")])),_:1,__:[14]})]),_:2},1032,["onClick","disabled"])]),_:2},[Fe.selectedDemandes.includes(kt.Demande.Id)?{name:"prepend",fn:Q(()=>[q(Bs,{color:"green"},{default:Q(()=>xe[11]||(xe[11]=[$t("mdi-check")])),_:1,__:[11]})]),key:"0"}:void 0]),1040,["title","subtitle"]))),256))]),_:1})]),_:1}),q(el,{"model-value":He.value!=null,"onUpdate:modelValue":xe[0]||(xe[0]=kt=>He.value=null),"max-width":"400px"},{default:Q(()=>[He.value?(Lt(),Eo(Tr,{key:0,title:"Confirmer la suppression"},{default:Q(()=>[q(br,null,{default:Q(()=>xe[15]||(xe[15]=[$t(" Confirmez-vous la suppression de cette demande ? Les éventuels documents déjà téléversés seront supprimés. "),gn("br",null,null,-1),gn("br",null,null,-1),$t(" Attention, cette opération est irréversible. ")])),_:1,__:[15]}),q(rg,null,{default:Q(()=>[q(ag),q(ln,{color:"red",onClick:Ze},{default:Q(()=>xe[16]||(xe[16]=[$t("Supprimer")])),_:1,__:[16]})]),_:1})]),_:1})):ea("",!0)]),_:1},8,["model-value"]),q(el,{"model-value":Se.value!=null,"onUpdate:modelValue":xe[4]||(xe[4]=kt=>Se.value=null),"max-width":"600px"},{default:Q(()=>[Se.value?(Lt(),Eo(Tr,{key:0,title:"Document à fournir"},{default:Q(()=>[q(br,null,{default:Q(()=>[q(wi,null,{default:Q(()=>[q(Mn,null,{default:Q(()=>[q(k2,{density:"compact",variant:"outlined",label:"Description",modelValue:Se.value.Demande.Description,"onUpdate:modelValue":xe[1]||(xe[1]=kt=>Se.value.Demande.Description=kt),hint:"Texte affiché sur l'espace de suivi."},null,8,["modelValue"])]),_:1})]),_:1}),q(wi,null,{default:Q(()=>[q(Mn,null,{default:Q(()=>[q(Ue,{density:"compact",variant:"outlined",label:"Document temporaire",min:0,suffix:"jours",modelValue:Se.value.Demande.JoursValide,"onUpdate:modelValue":xe[2]||(xe[2]=kt=>Se.value.Demande.JoursValide=kt),hint:"Nombre de jours de validité (0 pour un document permanent)"},null,8,["modelValue"])]),_:1}),q(Mn,null,{default:Q(()=>[q(Ue,{density:"compact",variant:"outlined",label:"Nombre maximum de fichiers",modelValue:Se.value.Demande.MaxDocs,"onUpdate:modelValue":xe[3]||(xe[3]=kt=>Se.value.Demande.MaxDocs=kt),hint:"Limite le nombre de fichiers pouvant être déposés."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(ln,{onClick:Ee},{default:Q(()=>xe[17]||(xe[17]=[$t("Enregistrer")])),_:1,__:[17]})]),_:1})]),_:1})):ea("",!0)]),_:1},8,["model-value"]),q(el,{"model-value":ut.value!=null,"onUpdate:modelValue":xe[6]||(xe[6]=kt=>ut.value=null),"max-width":"600px"},{default:Q(()=>[q(Tr,{title:"Ajouter un document",subtitle:"Document à remplir par les familles"},{default:Q(()=>[q(br,null,{default:Q(()=>[q(ne,{ref_key:"fileInput",ref:Ct,onUpdate:xe[5]||(xe[5]=kt=>Ht.value=kt)},null,512)]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(ln,{disabled:!Ht.value,onClick:Ne},{default:Q(()=>xe[18]||(xe[18]=[$t("Téléverser")])),_:1,__:[18]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"]),q(el,{"model-value":gt.value!=null,"onUpdate:modelValue":xe[7]||(xe[7]=kt=>gt.value=null),"max-width":"400px"},{default:Q(()=>[gt.value?(Lt(),Eo(Tr,{key:0,title:"Confirmer la suppression"},{default:Q(()=>[q(br,null,{default:Q(()=>[xe[19]||(xe[19]=$t(" Confirmez-vous la suppression du document ")),gn("i",null,Pa(gt.value.File.NomClient),1),xe[20]||(xe[20]=$t(" ? ")),xe[21]||(xe[21]=gn("br",null,null,-1)),xe[22]||(xe[22]=gn("br",null,null,-1)),xe[23]||(xe[23]=$t(" Attention, cette opération est irréversible. "))]),_:1,__:[19,20,21,22,23]}),q(rg,null,{default:Q(()=>[q(ag),q(ln,{color:"red",onClick:Tt},{default:Q(()=>xe[24]||(xe[24]=[$t("Supprimer")])),_:1,__:[24]})]),_:1})]),_:1})):ea("",!0)]),_:1},8,["model-value"])]),_:1})}}}),FX=fa({__name:"PannelDocuments",emits:["goTo"],setup(re,{emit:ye}){const Fe=ye;Gu(Xe);const Oe=Yo(null);async function Xe(){const xe=await ho.DocumentsGet();xe!==void 0&&(Oe.value=xe)}async function Se(xe,Pe){Oe.value==null||(Oe.value.ToShow[xe]=Pe,await ho.DocumentsUpdateToShow(Oe.value.ToShow)===void 0)||ho.showMessage("Modifications enregistrées avec succès.")}const Ee=Yo(!1),He=Yo(null);async function Ze(){if(Ee.value=!1,Oe.value==null||He.value==null)return;const xe=await ho.DocumentsUploadToDownload(He.value);xe!==void 0&&(ho.showMessage("Document ajouté avec succès."),Oe.value.FilesToDownload=(Oe.value.FilesToDownload||[]).concat(xe))}const ut=Yo(null);async function Ct(){const xe=ut.value;ut.value=null,!(Oe.value==null||xe==null||await ho.DocumentsDeleteToDownload({key:xe.Key})===void 0)&&(Oe.value.FilesToDownload=(Oe.value.FilesToDownload||[]).filter(Ue=>Ue.Key!=xe.Key),ho.showMessage("Document supprimé avec succès."))}const Ht=Yo(!1);async function xt(xe){var Ue;if(!Oe.value)return;Oe.value.AvailableDemandes=(Oe.value.AvailableDemandes||[]).concat(xe);const Pe=await ho.DocumentsApplyDemande({idDemande:xe.Demande.Id});Pe!==void 0&&(ho.showMessage("Demande créée et activée pour ce séjour."),Oe.value.CampDemandes=(((Ue=Oe.value)==null?void 0:Ue.CampDemandes)||[]).concat(Pe))}function Ne(xe){if(!Oe.value)return;const Pe=(Oe.value.AvailableDemandes||[]).findIndex(ne=>ne.Demande.Id==xe.Demande.Id);Oe.value.AvailableDemandes[Pe]=xe;const Ue=(Oe.value.CampDemandes||[]).findIndex(ne=>ne.Demande.Id==xe.Demande.Id);Oe.value.CampDemandes[Ue]=xe}function gt(xe){Oe.value&&(Oe.value.AvailableDemandes=(Oe.value.AvailableDemandes||[]).filter(Pe=>Pe.Demande.Id!=xe.Id),Oe.value.CampDemandes=(Oe.value.CampDemandes||[]).filter(Pe=>Pe.Demande.Id!=xe.Id))}async function Tt(xe){var Ue;if(!Oe.value)return;Ht.value=!1;const Pe=await ho.DocumentsApplyDemande({idDemande:xe.Id});Pe!==void 0&&(ho.showMessage("Demande bien activée pour ce séjour."),Oe.value.CampDemandes=(((Ue=Oe.value)==null?void 0:Ue.CampDemandes)||[]).concat(Pe))}async function lt(xe){var Ue;!Oe.value||await ho.DocumentsUnapplyDemande({idDemande:xe.Id})===void 0||(ho.showMessage("Demande retirée avec succès."),Oe.value.CampDemandes=(((Ue=Oe.value)==null?void 0:Ue.CampDemandes)||[]).filter(ne=>ne.Demande.Id!=xe.Id))}return(xe,Pe)=>{const Ue=sL;return Lt(),as(Ir,null,[q(Tr,{title:"Documents du séjour",subtitle:"Choisir les documents à lire ou remplir par les familles",class:"ma-2 mx-auto","max-width":"800px"},{default:Q(()=>[Oe.value==null?(Lt(),Eo(Eh,{key:0})):(Lt(),Eo(br,{key:1},{default:Q(()=>[q(mK,{type:"info",closable:""},{default:Q(()=>Pe[11]||(Pe[11]=[$t(" La "),gn("b",null,"fiche sanitaire",-1),$t(" et les "),gn("b",null,"vaccins",-1),$t(" sont automatiquement demandés pour les participants mineurs. ")])),_:1,__:[11]}),q(qu,null,{default:Q(()=>{var ne,kt;return[q(KI,null,{default:Q(()=>Pe[12]||(Pe[12]=[$t("Documents générés")])),_:1,__:[12]}),q(Us,{title:"Lettre aux familles",subtitle:"Document officiel pour le premier contact"},{append:Q(()=>[q(ln,{icon:"mdi-pencil",size:"small",class:"mr-4",onClick:Pe[0]||(Pe[0]=pe=>Fe("goTo","lettre"))}),q(AE,{color:"primary","hide-details":"","model-value":Oe.value.ToShow.LettreDirecteur,"onUpdate:modelValue":Pe[1]||(Pe[1]=pe=>Se("LettreDirecteur",pe))},null,8,["model-value"])]),_:1}),q(Us,{title:"Liste de vêtements"},{append:Q(()=>[q(ln,{icon:"mdi-pencil",size:"small",class:"mr-4",onClick:Pe[2]||(Pe[2]=pe=>Fe("goTo","vetements"))}),q(AE,{color:"primary","hide-details":"","model-value":Oe.value.ToShow.ListeVetements,"onUpdate:modelValue":Pe[3]||(Pe[3]=pe=>Se("ListeVetements",pe))},null,8,["model-value"])]),_:1}),q(Us,{title:"Liste des participants",subtitle:"Permet par exemple d'organiser un co-voiturage"},{append:Q(()=>[q(AE,{color:"primary","hide-details":"","model-value":Oe.value.ToShow.ListeParticipants,"onUpdate:modelValue":Pe[4]||(Pe[4]=pe=>Se("ListeParticipants",pe))},null,8,["model-value"])]),_:1}),q(Uc,{thickness:"1",class:"my-2"}),q(wi,{"no-gutters":""},{default:Q(()=>[q(Mn,{"align-self":"center"},{default:Q(()=>[q(KI,null,{default:Q(()=>Pe[13]||(Pe[13]=[$t("Documents à lire ")])),_:1,__:[13]})]),_:1}),q(Mn,{"align-self":"center",cols:"auto",class:"mx-2"},{default:Q(()=>[q(ln,{size:"small",onClick:Pe[5]||(Pe[5]=pe=>Ee.value=!0)},{prepend:Q(()=>[q(Bs,{color:"green"},{default:Q(()=>Pe[14]||(Pe[14]=[$t("mdi-plus")])),_:1,__:[14]})]),default:Q(()=>[Pe[15]||(Pe[15]=$t(" Ajouter "))]),_:1,__:[15]})]),_:1})]),_:1}),(ne=Oe.value.FilesToDownload)!=null&&ne.length?ea("",!0):(Lt(),Eo(Us,{key:0},{default:Q(()=>Pe[16]||(Pe[16]=[gn("i",null,"Aucun document.",-1)])),_:1,__:[16]})),(Lt(!0),as(Ir,null,xc(Oe.value.FilesToDownload,pe=>(Lt(),Eo(Us,{title:pe.NomClient},{append:Q(()=>[q(Ue,{file:pe,onDelete:hn=>ut.value=pe},null,8,["file","onDelete"])]),_:2},1032,["title"]))),256)),q(Uc,{thickness:"1",class:"my-2"}),q(wi,{"no-gutters":""},{default:Q(()=>[q(Mn,{"align-self":"center"},{default:Q(()=>[q(KI,null,{default:Q(()=>Pe[17]||(Pe[17]=[$t("Documents à fournir (collectés sur l'espace de suivi) ")])),_:1,__:[17]})]),_:1}),q(Mn,{"align-self":"center",cols:"auto",class:"mx-2"},{default:Q(()=>[q(ln,{size:"small",onClick:Pe[6]||(Pe[6]=pe=>Ht.value=!0)},{prepend:Q(()=>[q(Bs,{color:"green"},{default:Q(()=>Pe[18]||(Pe[18]=[$t("mdi-plus")])),_:1,__:[18]})]),default:Q(()=>[Pe[19]||(Pe[19]=$t(" Ajouter "))]),_:1,__:[19]})]),_:1})]),_:1}),(kt=Oe.value.CampDemandes)!=null&&kt.length?ea("",!0):(Lt(),Eo(Us,{key:1},{default:Q(()=>Pe[20]||(Pe[20]=[gn("i",null,"Aucun document.",-1)])),_:1,__:[20]})),(Lt(!0),as(Ir,null,xc(Oe.value.CampDemandes,pe=>(Lt(),Eo(Us,{title:pe.Demande.Description},{append:Q(()=>[q(ln,{icon:"",size:"x-small",onClick:hn=>lt(pe.Demande)},{default:Q(()=>[q(Bs,{color:"red"},{default:Q(()=>Pe[21]||(Pe[21]=[$t("mdi-close")])),_:1,__:[21]})]),_:2},1032,["onClick"])]),_:2},1032,["title"]))),256))]}),_:1})]),_:1})),q(el,{modelValue:Ee.value,"onUpdate:modelValue":Pe[8]||(Pe[8]=ne=>Ee.value=ne),"max-width":"600px"},{default:Q(()=>[q(Tr,{title:"Téléverser un document",subtitle:"Ce document sera distribué sur l'espace personnel des familles."},{default:Q(()=>[q(br,null,{default:Q(()=>[q(oH,{label:"Document à distribuer",onUpdate:Pe[7]||(Pe[7]=ne=>He.value=ne)})]),_:1}),q(rg,null,{default:Q(()=>[q(ag),q(ln,{color:"green",disabled:He.value==null,onClick:Ze},{default:Q(()=>Pe[22]||(Pe[22]=[$t("Téléverser")])),_:1,__:[22]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),q(el,{"model-value":ut.value!=null,"onUpdate:modelValue":Pe[9]||(Pe[9]=ne=>ut.value=null),"max-width":"400px"},{default:Q(()=>[ut.value?(Lt(),Eo(Tr,{key:0,title:"Confirmer la suppression"},{default:Q(()=>[q(br,null,{default:Q(()=>[Pe[23]||(Pe[23]=$t(" Confirmez-vous la suppression du document ")),gn("i",null,Pa(ut.value.NomClient),1),Pe[24]||(Pe[24]=$t(" ? ")),Pe[25]||(Pe[25]=gn("br",null,null,-1)),Pe[26]||(Pe[26]=gn("br",null,null,-1)),Pe[27]||(Pe[27]=$t(" Attention, cette opération est irréversible. "))]),_:1,__:[23,24,25,26,27]}),q(rg,null,{default:Q(()=>[q(ag),q(ln,{color:"red",onClick:Ct},{default:Q(()=>Pe[28]||(Pe[28]=[$t("Supprimer")])),_:1,__:[28]})]),_:1})]),_:1})):ea("",!0)]),_:1},8,["model-value"])]),_:1}),q(el,{modelValue:Ht.value,"onUpdate:modelValue":Pe[10]||(Pe[10]=ne=>Ht.value=ne),"max-width":"800px"},{default:Q(()=>[Oe.value?(Lt(),Eo(LX,{key:0,availableDemandes:Oe.value.AvailableDemandes||[],selectedDemandes:(Oe.value.CampDemandes||[]).map(ne=>ne.Demande.Id),onSelected:Tt,onCreated:xt,onUpdated:Ne,onDeleted:gt},null,8,["availableDemandes","selectedDemandes"])):ea("",!0)]),_:1},8,["modelValue"])],64)}}}),zX={key:1,style:{height:"15px"}},HX=fa({__name:"DropZone",props:{isDragging:{type:Boolean}},emits:["onDrop"],setup(re,{emit:ye}){const Fe=re,Oe=ye,Xe=Yo(!1);function Se(He){Xe.value=!0,He.preventDefault()}function Ee(He){Xe.value=!1,He.preventDefault(),Oe("onDrop",He)}return(He,Ze)=>Fe.isDragging?(Lt(),as("div",{key:0,style:{height:"15px"},class:lg({"bg-blue-lighten-1":Xe.value,"bg-blue-lighten-4":!Xe.value,rounded:!0}),onDragenter:Se,onDragover:Ze[0]||(Ze[0]=ut=>ut.preventDefault()),onDragleave:Ze[1]||(Ze[1]=ut=>Xe.value=!1),onDrop:Ee},null,34)):(Lt(),as("div",zX))}}),VX={Ete:[{Quantite:2,Description:"Sweats ou pull-overs",Important:!1},{Quantite:1,Description:"Polaire",Important:!1},{Quantite:6,Description:"Tee shirts",Important:!1},{Quantite:2,Description:"Pantalons ou jogging",Important:!1},{Quantite:3,Description:"Shorts",Important:!1},{Quantite:6,Description:"Slips ou culottes",Important:!1},{Quantite:4,Description:"Paires de chaussettes",Important:!1},{Quantite:1,Description:"Pyjama",Important:!1},{Quantite:1,Description:"Maillot de bain",Important:!1},{Quantite:2,Description:"Grandes serviettes",Important:!1},{Quantite:1,Description:"Gant de toilette",Important:!1},{Quantite:1,Description:"Nécessaire de toilette : shampoing, savon, brosse à dent, dentifrice.....",Important:!1},{Quantite:1,Description:"Paire de lunette de soleil",Important:!0},{Quantite:1,Description:"Sac de couchage",Important:!1},{Quantite:1,Description:"Casquette",Important:!0},{Quantite:1,Description:"Veste de pluie",Important:!1},{Quantite:1,Description:"Paire de bonnes baskets",Important:!0},{Quantite:1,Description:"Paire de chaussure pour aller dans l’eau. (Une paire de vieille chaussure est suffisante !)",Important:!0},{Quantite:1,Description:"Paire de chaussure légère (sandale)",Important:!1},{Quantite:1,Description:"Petit sac à dos, gourde, lampe de poche",Important:!1}],Hiver:[{Quantite:6,Description:"Slips",Important:!1},{Quantite:6,Description:"Paires de chaussettes longues et chaudes",Important:!1},{Quantite:5,Description:"T-shirts manches longues",Important:!1},{Quantite:2,Description:"Pull-overs",Important:!1},{Quantite:2,Description:"Pantalons",Important:!1},{Quantite:2,Description:"T-shirt manches courtes",Important:!1},{Quantite:2,Description:"Leggings ou collants chauds",Important:!1},{Quantite:1,Description:"Polaire",Important:!1},{Quantite:1,Description:"Serviette de toilette",Important:!1},{Quantite:1,Description:"Trousse de toilette complète",Important:!1},{Quantite:1,Description:"Drap de dessous (90 cm)",Important:!1},{Quantite:1,Description:"Sac de couchage ou drap de dessus",Important:!1},{Quantite:1,Description:"Combinaison ou pantalon de ski",Important:!1},{Quantite:1,Description:"Anorak, bonnet, paire de gants de ski",Important:!1},{Quantite:1,Description:"Paire de lunette, crème solaire",Important:!1},{Quantite:1,Description:"Paire de baskets",Important:!1},{Quantite:1,Description:"Paire de boots ou chaussures de marche",Important:!1},{Quantite:1,Description:"Paire de pantoufles",Important:!1},{Quantite:1,Description:"Pyjama",Important:!1},{Quantite:1,Description:"Jogging",Important:!1}]},$X={ref:"bottom"},UX=["data"],ZX=fa({__name:"PannelVetements",setup(re){Gu(Xe);const ye=Yo(null),Fe=Yo(null),Oe=ta(()=>JSON.stringify(Fe.value)!=JSON.stringify(ye.value));async function Xe(){const Pe=await ho.VetementsGet();Pe!==void 0&&(ye.value=Pe,Fe.value=kE(Pe))}function Se(){ye.value&&(ye.value.Vetements=(ye.value.Vetements||[]).concat({Description:"",Important:!1,Quantite:1}),Ee.value=ye.value.Vetements.length-1,z7(()=>{Tt.value&&Tt.value.scrollIntoView()}))}const Ee=Yo(null);function He(Pe){ye.value&&(ye.value.Vetements=kE(VX[Pe]))}function Ze(Pe){ye.value&&(ye.value.Vetements||[]).splice(Pe,1)}const ut=Yo(!1),Ct=Yo(""),Ht=ta(()=>NE.RenderDocumentCamp(Ct.value,!1));async function xt(){if(!ye.value)return;const Pe=await ho.VetementsUpdate(ye.value);Pe!==void 0&&(Fe.value=kE(ye.value),Ct.value=Pe,ho.showMessage("Liste de vêtements enregistrée avec succès."))}function Ne(Pe,Ue){ut.value=!0,Pe.dataTransfer.effectAllowed="move",Pe.dataTransfer.setData("text/json",JSON.stringify({index:Ue}))}function gt(Pe,Ue){if(!ye.value)return;const ne=JSON.parse(Pe.dataTransfer.getData("text/json"));ye.value.Vetements=fK(ne.index,Ue,ye.value.Vetements)}const Tt=oL("bottom"),lt=Yo(!1),xe={language:"fr_FR",height:150,menubar:!1,statusbar:!1,formats:{underline:{inline:"u"}},entity_encoding:"raw",font_formats:"Arial=arial,helvetica,sans-serif;",toolbar:["undo redo | cut copy paste | bold italic underline "]};return(Pe,Ue)=>{const ne=HX,kt=tH;return Lt(),as(Ir,null,[q(Tr,{title:"Liste de vêtements",class:"ma-2 mx-auto","max-width":"1000px"},{append:Q(()=>[q(ln,{icon:"",onClick:Se,size:"small",class:"mx-1"},{default:Q(()=>[q(Bs,{color:"green"},{default:Q(()=>Ue[9]||(Ue[9]=[$t("mdi-plus")])),_:1,__:[9]})]),_:1}),q(Sh,null,{activator:Q(({props:pe})=>[q(ln,yd(pe,{class:"mx-1",size:"small"}),{default:Q(()=>Ue[10]||(Ue[10]=[$t("Importer...")])),_:2,__:[10]},1040)]),default:Q(()=>[q(qu,null,{default:Q(()=>[q(Us,{title:"Liste d'été",subtitle:"Remplace la liste actuelle",onClick:Ue[0]||(Ue[0]=pe=>He("Ete"))}),q(Us,{title:"Liste d'hiver",subtitle:"Remplace la liste actuelle",onClick:Ue[1]||(Ue[1]=pe=>He("Hiver"))})]),_:1})]),_:1}),q(Uc,{vertical:"",thickness:"2",class:"mx-1"}),q(ln,{size:"small",class:"mx-1",onClick:Ue[2]||(Ue[2]=pe=>lt.value=!0)},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>Ue[11]||(Ue[11]=[$t("mdi-text-box-edit")])),_:1,__:[11]})]),default:Q(()=>[Ue[12]||(Ue[12]=$t(" Texte "))]),_:1,__:[12]}),q(Uc,{vertical:"",thickness:"2",class:"mx-1"}),q(ln,{icon:"",onClick:xt,size:"small",class:"mx-1"},{default:Q(()=>[q(sg,{color:Oe.value?"pink":"transparent",dot:""},{default:Q(()=>[q(Bs,null,{default:Q(()=>Ue[13]||(Ue[13]=[$t("mdi-content-save")])),_:1,__:[13]})]),_:1},8,["color"])]),_:1})]),default:Q(()=>[ye.value==null?(Lt(),Eo(Eh,{key:0})):(Lt(),Eo(br,{key:1},{default:Q(()=>[q(qu,{density:"compact",style:{"max-height":"75vh"},class:"overflow-y-auto"},{default:Q(()=>{var pe;return[(pe=ye.value.Vetements)!=null&&pe.length?ea("",!0):(Lt(),Eo(Us,{key:0,class:"text-center"},{default:Q(()=>Ue[14]||(Ue[14]=[gn("i",null,"Aucun vêtement.",-1)])),_:1,__:[14]})),(Lt(!0),as(Ir,null,xc(ye.value.Vetements,(hn,is)=>(Lt(),as(Ir,null,[q(ne,{isDragging:ut.value,onOnDrop:bn=>gt(bn,is)},null,8,["isDragging","onOnDrop"]),Ee.value==is?(Lt(),Eo(wi,{key:0,class:"mx-0"},{default:Q(()=>[q(Mn,{"align-self":"center",cols:"2"},{default:Q(()=>[q(kt,{label:"Quantité",modelValue:ye.value.Vetements[is].Quantite,"onUpdate:modelValue":bn=>ye.value.Vetements[is].Quantite=bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),q(Mn,{"align-self":"center"},{default:Q(()=>[q(k2,{density:"compact",variant:"outlined",label:"Description","hide-details":"",modelValue:ye.value.Vetements[is].Description,"onUpdate:modelValue":bn=>ye.value.Vetements[is].Description=bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),q(Mn,{"align-self":"center",cols:"auto"},{default:Q(()=>[q(ZK,{density:"compact",variant:"outlined",label:"Important","hide-details":"",modelValue:ye.value.Vetements[is].Important,"onUpdate:modelValue":bn=>ye.value.Vetements[is].Important=bn},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),q(Mn,{"align-self":"center",cols:"auto"},{default:Q(()=>[q(ln,{size:"small",onClick:Ue[3]||(Ue[3]=bn=>Ee.value=null)},{prepend:Q(()=>[q(Bs,{color:"green"},{default:Q(()=>Ue[15]||(Ue[15]=[$t("mdi-check")])),_:1,__:[15]})]),default:Q(()=>[Ue[16]||(Ue[16]=$t(" Terminer"))]),_:1,__:[16]})]),_:1})]),_:2},1024)):(Lt(),Eo(Us,{key:1,title:hn.Description,subtitle:hn.Important?"Important":""},{prepend:Q(()=>[q(sg,{inline:"",content:hn.Quantite,color:"secondary"},null,8,["content"])]),append:Q(()=>[q(Bs,{class:"mx-1",style:{cursor:"grab"},draggable:!0,onDragstart:bn=>Ne(bn,is),onDragend:Ue[4]||(Ue[4]=bn=>ut.value=!1)},{default:Q(()=>Ue[17]||(Ue[17]=[$t("mdi-drag-vertical")])),_:2,__:[17]},1032,["onDragstart"]),q(ln,{icon:"mdi-pencil",size:"x-small",class:"mx-1",onClick:bn=>Ee.value=is},null,8,["onClick"]),q(ln,{icon:"",onClick:bn=>Ze(is),size:"x-small"},{default:Q(()=>[q(Bs,{color:"red"},{default:Q(()=>Ue[18]||(Ue[18]=[$t("mdi-close")])),_:1,__:[18]})]),_:2},1032,["onClick"])]),_:2},1032,["title","subtitle"]))],64))),256)),q(ne,{isDragging:ut.value,onOnDrop:Ue[5]||(Ue[5]=hn=>{var is,bn;return gt(hn,((bn=(is=ye.value)==null?void 0:is.Vetements)==null?void 0:bn.length)||0)})},null,8,["isDragging"]),gn("div",$X,null,512)]}),_:1})]),_:1}))]),_:1}),q(el,{"model-value":!!Ct.value,"onUpdate:modelValue":Ue[6]||(Ue[6]=pe=>Ct.value="")},{default:Q(()=>[Ct.value?(Lt(),as("object",{key:0,type:"application/pdf",data:Ht.value,style:{height:"95vh"}},null,8,UX)):ea("",!0)]),_:1},8,["model-value"]),q(el,{modelValue:lt.value,"onUpdate:modelValue":Ue[8]||(Ue[8]=pe=>lt.value=pe),"max-width":"600px"},{default:Q(()=>[q(Tr,{title:"Texte complémentaire",subtitle:"Ce texte apparaît à la fin de la liste de vêtements."},{default:Q(()=>[ye.value?(Lt(),Eo(br,{key:0},{default:Q(()=>[q(bs(rH),{licenseKey:"gpl",modelValue:ye.value.Complement,"onUpdate:modelValue":Ue[7]||(Ue[7]=pe=>ye.value.Complement=pe),init:xe},null,8,["modelValue"])]),_:1})):ea("",!0)]),_:1})]),_:1},8,["modelValue"])],64)}}}),jX=fa({__name:"documents",setup(re){const ye=OE(),Fe=ta(()=>KX(ye.currentRoute.value.query)),Oe=ta(()=>Fe.value.tab||"documents");function Xe(Se){const Ee=ye.currentRoute.value;ye.push({path:Ee.path,query:{tab:Se}})}return(Se,Ee)=>{var He;return Lt(),as(Ir,null,[q($7,{title:`${(He=bs(ho).camp)==null?void 0:He.Label} - Communication & Documents`},{default:Q(()=>[q(Qz,{"model-value":Oe.value,"onUpdate:modelValue":Ee[0]||(Ee[0]=Ze=>Xe(Ze))},{default:Q(()=>[q(SE,{value:"documents"},{default:Q(()=>Ee[1]||(Ee[1]=[$t("Documents")])),_:1,__:[1]}),q(SE,{value:"lettre"},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>Ee[2]||(Ee[2]=[$t("mdi-mail")])),_:1,__:[2]})]),default:Q(()=>[Ee[3]||(Ee[3]=$t(" Lettre aux familles"))]),_:1,__:[3]}),q(SE,{value:"vetements"},{prepend:Q(()=>[q(Bs,null,{default:Q(()=>Ee[4]||(Ee[4]=[$t("mdi-washing-machine")])),_:1,__:[4]})]),default:Q(()=>[Ee[5]||(Ee[5]=$t(" Liste de vêtements"))]),_:1,__:[5]})]),_:1},8,["model-value"])]),_:1},8,["title"]),q(Jz,{"model-value":Oe.value},{default:Q(()=>[q(EE,{value:"documents"},{default:Q(()=>[q(FX,{onGoTo:Xe})]),_:1}),q(EE,{value:"lettre"},{default:Q(()=>[q(PX)]),_:1}),q(EE,{value:"vetements"},{default:Q(()=>[q(ZX)]),_:1})]),_:1},8,["model-value"])],64)}}}),WX=[{path:"/",component:jK},{path:"/inscriptions",component:mY},{path:"/equipiers",component:yY},{path:"/documents",component:jX}],qX="/directeurs",rL=OK({history:NK(qX),routes:WX});rL.onError((re,ye)=>{var Fe,Oe;(Oe=(Fe=re==null?void 0:re.message)==null?void 0:Fe.includes)!=null&&Oe.call(Fe,"Failed to fetch dynamically imported module")?localStorage.getItem("vuetify:dynamic-reload")?console.error("Dynamic import error, reloading page did not fix it",re):(console.log("Reloading page to fix dynamic import error"),localStorage.setItem("vuetify:dynamic-reload","true"),location.assign(ye.fullPath)):console.error(re)});rL.isReady().then(()=>{localStorage.removeItem("vuetify:dynamic-reload")});function GX(re){return{tab:re.tab}}function KX(re){return{tab:re.tab}}const YX=["innerHTML"],XX=fa({__name:"App",setup(re){const ye=pK({text:"",color:"secondary",action:void 0,timeout:4e3}),Fe=Yo(""),Oe=Yo("");return ho.onError=(Se,Ee)=>{Fe.value=Se,Oe.value=Ee},ho.showMessage=(Se,Ee,He)=>{ye.text=Se,ye.color=Ee||"success",ye.action=He,ye.timeout=1e4,ye.timeout=4e3},OE().beforeEach(async(Se,Ee)=>{if(!ho.hasToken()&&Se.path!=="/")return{path:"/"}}),(Se,Ee)=>{const He=gK("router-view");return Lt(),Eo(bK,null,{default:Q(()=>[q(hK,null,{default:Q(()=>[q(He),q(dz,{style:{"z-index":"10000"},app:"","model-value":ye.text!="","onUpdate:modelValue":Ee[1]||(Ee[1]=Ze=>ye.text=""),timeout:ye.timeout,color:ye.color,location:"bottom left","close-on-content-click":""},{default:Q(()=>[$t(Pa(ye.text)+" ",1),ye.action?(Lt(),Eo(ln,{key:0,onClick:Ee[0]||(Ee[0]=Ze=>ye.action.action()),class:"ml-2"},{default:Q(()=>[$t(Pa(ye.action.title),1)]),_:1})):ea("",!0)]),_:1},8,["model-value","timeout","color"]),q(dz,{app:"","model-value":Fe.value!="","onUpdate:modelValue":Ee[2]||(Ee[2]=Ze=>Fe.value=""),timeout:4e3,color:"red"},{default:Q(()=>[gn("b",null,Pa(Fe.value),1),gn("div",{innerHTML:Oe.value},null,8,YX)]),_:1},8,["model-value"])]),_:1})]),_:1})}}}),iH=xK(XX);iH.use(vK).use(rL);iH.mount("#app");
