import{cA as O,ba as Le,bc as Ie,d as K,k as M,y as p,o as s,V as De,w as e,b as t,f as Me,g as w,h as g,i as Re,e as a,t as S,r as Ee,j as y,l as E,m as L,a as R,F as T,a4 as j,a1 as h,a7 as se,aK as ye,s as le,q as $,a6 as q,c as z,X as fe,aW as Fe,aV as Te,a3 as x,ae as de,a5 as Q,bJ as Ce,bK as Se,E as me,ak as ve,aF as te,z as $e,A as qe,B as Ne,ao as je,N as Be,bA as ze,U as He,P as Oe,cg as Je,C as Ke,J as Ge,at as We,au as Ze,av as Xe,ay as Qe,az as Ye,I as _e,v as et,x as tt,b1 as lt,aD as Ue,ab as at,b0 as ge,a0 as nt,bo as st,ad as Pe,aS as ut,u as ot,b4 as it,b5 as he,b6 as rt,b7 as dt,b8 as mt}from"./VSnackbar-DS0GooKO.js";import{_ as pt,V as ct,a as ft}from"./EventSwitch.vue_vue_type_script_setup_true_lang-CU-fTBCw.js";import{f as vt,_ as gt,c as bt,d as yt,V as Ve,b as Vt,e as kt,a as Ct}from"./VTabs-BQkl3qRp.js";import{h as W,b as ae,c as pe,i as we,V as N,d as St,e as ce,a as be,f as Z,j as ue,g as oe,k as Ae}from"./VTextarea-1-qLFUqr.js";import{a as _t,V as Pt}from"./FileCard.vue_vue_type_script_setup_true_lang-BFJsLt2C.js";import{_ as ht}from"./FilesDemande.vue_vue_type_script_setup_true_lang-BQ_yZwbg.js";import"./VWindowItem-UTNo1qcg.js";import"./FilesRow.vue_vue_type_script_setup_true_lang-_FFTalGN.js";const ie={CampDocs:"CampDocs",Facture:"Facture",PlaceLiberee:"PlaceLiberee",Sondage:"Sondage",Validation:"Validation"},re={Complet:3,EnCours:2,NonCommence:1};re.Complet+"",re.EnCours+"",re.NonCommence+"";const J={AStatuer:0,Refuse:1,AttenteProfilInvalide:2,AttenteCampComplet:3,EnAttenteReponse:4,Inscrit:5},wt={[J.AStatuer]:"En attente de validation",[J.Refuse]:"Refusé définitivement",[J.AttenteProfilInvalide]:"Profil limite",[J.AttenteCampComplet]:"Camp complet",[J.EnAttenteReponse]:"En attente de réponse",[J.Inscrit]:"Inscrit"},At={Euros:0},G={Cheque:0,EnLigne:1,Virement:2,Especes:3,Ancv:4,Helloasso:5},Ut={[G.Cheque]:"Chèque",[G.EnLigne]:"Carte bancaire (en ligne)",[G.Virement]:"Virement",[G.Especes]:"Espèces",[G.Ancv]:"ANCV",[G.Helloasso]:"Helloasso"},xt={Espaceperso:0},B={NoBuiltin:0,CarteId:1,Permis:2,SB:3,Secourisme:4,Bafa:5,Bafd:6,CarteVitale:7,Vaccins:8,Haccp:9,BafdEquiv:10,BafaEquiv:11,CertMedicalCuisine:12,Scolarite:13,Autre:14,nbCategorieEquipier:15};B.NoBuiltin+"",B.CarteId+"",B.Permis+"",B.SB+"",B.Secourisme+"",B.Bafa+"",B.Bafd+"",B.CarteVitale+"",B.Vaccins+"",B.Haccp+"",B.BafdEquiv+"",B.BafaEquiv+"",B.CertMedicalCuisine+"",B.Scolarite+"",B.Autre+"",B.nbCategorieEquipier+"";const ne={NoFiche:0,Outdated:1,UpToDate:2};ne.NoFiche+"",ne.Outdated+"",ne.UpToDate+"";class Lt{constructor(n,l){this.baseURL=n,this.authToken=l}getHeaders(){return{Authorization:"Bearer "+this.authToken}}DownloadAttestationPresence(n){return this.baseURL+`/api/v1/espaceperso/download/attestation?token=${n}`}DownloadFacture(n){return this.baseURL+`/api/v1/espaceperso/download/facture?token=${n}`}async Load(n){const l=this.baseURL+"/api/v1/espaceperso";this.startRequest();try{return(await O.get(l,{headers:this.getHeaders(),params:{token:n.token}})).data}catch(o){this.handleError(o)}}async SendMessage(n){const l=this.baseURL+"/api/v1/espaceperso/message";this.startRequest();try{return(await O.post(l,n,{headers:this.getHeaders()})).data}catch(o){this.handleError(o)}}async UpdateParticipants(n){const l=this.baseURL+"/api/v1/espaceperso/participants";this.startRequest();try{return await O.post(l,n,{headers:this.getHeaders()}),!0}catch(o){this.handleError(o)}}async CreateAide(n,l,o){const u=this.baseURL+"/api/v1/espaceperso/aide";this.startRequest();try{const c=new FormData;return c.append("document",n,n.name),c.append("aide",JSON.stringify(l)),await O.post(u,c,{headers:this.getHeaders(),params:{token:o.token}}),!0}catch(c){this.handleError(c)}}async GetStructureaides(){const n=this.baseURL+"/api/v1/espaceperso/structureaides";this.startRequest();try{return(await O.get(n,{headers:this.getHeaders()})).data}catch(l){this.handleError(l)}}async LoadJoomeo(n){const l=this.baseURL+"/api/v1/espaceperso/joomeo";this.startRequest();try{return(await O.get(l,{headers:this.getHeaders(),params:{token:n.token}})).data}catch(o){this.handleError(o)}}async AcceptePlaceLiberee(n){const l=this.baseURL+"/api/v1/espaceperso/events/accept-place-liberee";this.startRequest();try{return await O.post(l,null,{headers:this.getHeaders(),params:{token:n.token,idEvent:String(n.idEvent)}}),!0}catch(o){this.handleError(o)}}async LoadSondages(n){const l=this.baseURL+"/api/v1/espaceperso/sondages";this.startRequest();try{return(await O.get(l,{headers:this.getHeaders(),params:{token:n.token}})).data}catch(o){this.handleError(o)}}async UpdateSondages(n){const l=this.baseURL+"/api/v1/espaceperso/sondages";this.startRequest();try{return await O.post(l,n,{headers:this.getHeaders()}),!0}catch(o){this.handleError(o)}}async LoadDocuments(n){const l=this.baseURL+"/api/v1/espaceperso/documents";this.startRequest();try{return(await O.get(l,{headers:this.getHeaders(),params:{token:n.token}})).data}catch(o){this.handleError(o)}}async UploadDocument(n,l){const o=this.baseURL+"/api/v1/espaceperso/documents";this.startRequest();try{const u=new FormData;return u.append("file",n,n.name),(await O.post(o,u,{headers:this.getHeaders(),params:{token:l.token,idDemande:String(l.idDemande),idPersonne:String(l.idPersonne)}})).data}catch(u){this.handleError(u)}}async DeleteDocument(n){const l=this.baseURL+"/api/v1/espaceperso/documents";this.startRequest();try{return await O.delete(l,{headers:this.getHeaders(),params:{key:n.key}}),!0}catch(o){this.handleError(o)}}async AccepteCharte(n){const l=this.baseURL+"/api/v1/espaceperso/documents/charte";this.startRequest();try{return await O.post(l,null,{headers:this.getHeaders(),params:{token:n.token,idPersonne:String(n.idPersonne)}}),!0}catch(o){this.handleError(o)}}async UpdateFichesanitaire(n){const l=this.baseURL+"/api/v1/espaceperso/fichesanitaires";this.startRequest();try{return await O.post(l,n,{headers:this.getHeaders()}),!0}catch(o){this.handleError(o)}}async TransfertFicheSanitaire(n){const l=this.baseURL+"/api/v1/espaceperso/fichesanitaires/transfert";this.startRequest();try{return await O.put(l,null,{headers:this.getHeaders(),params:{token:n.token,idPersonne:String(n.idPersonne)}}),!0}catch(o){this.handleError(o)}}}class It extends Lt{constructor(n,l,o){super(o,""),this.onError=n,this.showMessage=l}handleError(n){const{kind:l,messageHtml:o}=Ie(n);this.onError(l,o)}startRequest(){}}const U=new It((r,n)=>{},(r,n)=>{},Le()),Dt=K({__name:"NavBar",props:{title:{},hideMenu:{type:Boolean}},setup(r){const n=r,l="/static/repere/logo.png";return M(!1),(o,u)=>(s(),p(De,{rounded:"",elevation:"4",color:"secondary"},{append:e(()=>[Ee(o.$slots,"default"),u[0]||(u[0]=y("div",{class:"mr-2"},null,-1))]),default:e(()=>[t(Me,null,{default:e(()=>[t(w,null,{default:e(()=>[t(g,{"align-self":"center",cols:"auto"},{default:e(()=>[t(Re,{width:"60",src:l})]),_:1}),t(g,{"align-self":"center"},{default:e(()=>[a(S(n.title),1)]),_:1})]),_:1})]),_:1})]),_:3}))}}),Mt=K({__name:"ParticipantsEditCard",props:{participants:{}},emits:["save"],setup(r,{emit:n}){const l=r,o=n,u=M(l.participants.map(c=>c.Participant));return(c,V)=>{const f=vt;return s(),p(E,{title:"Modifier les options"},{default:e(()=>[t(L,null,{default:e(()=>[t(w,null,{default:e(()=>[(s(!0),R(T,null,j(l.participants,(d,m)=>(s(),p(g,{cols:"6"},{default:e(()=>[t(E,{title:h(ye).label(d.Personne),subtitle:h(se).label(d.Camp)},{default:e(()=>[t(L,null,{default:e(()=>[t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[d.Camp.Navette.Actif?(s(),p(f,{key:0,modelValue:u.value[m].Navette,"onUpdate:modelValue":b=>u.value[m].Navette=b,hint:d.Camp.Navette.Commentaire},null,8,["modelValue","onUpdate:modelValue","hint"])):(s(),p(W,{key:1},{default:e(()=>[...V[1]||(V[1]=[a("Ce séjour ne propose pas de navette.",-1)])]),_:1}))]),_:2},1024)]),_:2},1024),t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(ae,{modelValue:u.value[m].Commentaire,"onUpdate:modelValue":b=>u.value[m].Commentaire=b,label:"Information libre",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[...V[2]||(V[2]=[a(" TODO: option prix ",-1)])]),_:1})]),_:1})]),_:2},1024)]),_:2},1032,["title","subtitle"])]),_:2},1024))),256))]),_:1})]),_:1}),t(le,null,{default:e(()=>[t(pe),t($,{onClick:V[0]||(V[0]=d=>o("save",u.value)),color:"green"},{prepend:e(()=>[t(q,null,{default:e(()=>[...V[3]||(V[3]=[a("mdi-content-save-cog",-1)])]),_:1})]),default:e(()=>[V[4]||(V[4]=a(" Enregistrer",-1))]),_:1})]),_:1})]),_:1})}}}),Rt=K({__name:"AideCard",props:{dossier:{},structureaides:{}},emits:["save"],setup(r,{emit:n}){const l=r,o=n,u=M({Id:0,IdStructureaide:0,IdParticipant:(l.dossier.Participants||[])[0].Participant.Id,Valide:!1,Valeur:{Currency:At.Euros,Cent:0},ParJour:!1,NbJoursMax:0}),c=M(null),V=z(()=>u.value?c.value!=null&&u.value.IdParticipant!=0&&u.value.IdStructureaide!=0&&u.value.Valeur.Cent!=0:!1),f=z(()=>(l.dossier.Participants||[]).map(m=>({title:ye.label(m.Personne),subtitle:se.label(m.Camp),value:m.Participant.Id}))),d=z(()=>Object.values(l.structureaides||{}).map(m=>({value:m.Id,title:m.Nom})));return(m,b)=>{const k=pt,F=gt,I=_t;return s(),p(E,{title:"Ajouter une aide extérieure",subtitle:"Cette aide sera vérifiée par le centre."},{default:e(()=>[t(L,null,{default:e(()=>[t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(we,{variant:"outlined",density:"comfortable",label:"Participant concerné",modelValue:u.value.IdParticipant,"onUpdate:modelValue":b[0]||(b[0]=v=>u.value.IdParticipant=v),items:f.value},{item:e(({item:v,props:H})=>[t(N,fe(H,{title:v.raw.title,subtitle:v.raw.subtitle}),null,16,["title","subtitle"])]),_:1},8,["modelValue","items"])]),_:1})]),_:1}),t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(we,{variant:"outlined",density:"comfortable",label:"Structure","model-value":h(Te)(u.value.IdStructureaide),"onUpdate:modelValue":b[1]||(b[1]=v=>u.value.IdStructureaide=h(Fe)(v)),items:d.value,"no-data-text":"Aucune structure n'est disponible."},null,8,["model-value","items"])]),_:1})]),_:1}),t(w,null,{default:e(()=>[t(g,{"align-self":"center"},{default:e(()=>[t(k,{label:"Valeur",modelValue:u.value.Valeur,"onUpdate:modelValue":b[2]||(b[2]=v=>u.value.Valeur=v),"hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),t(w,null,{default:e(()=>[t(g,{"align-self":"center"},{default:e(()=>[t(St,{modelValue:u.value.ParJour,"onUpdate:modelValue":b[3]||(b[3]=v=>u.value.ParJour=v),label:"Montant par jour","hide-details":""},null,8,["modelValue"])]),_:1}),t(g,{"align-self":"center"},{default:e(()=>[u.value.ParJour?(s(),p(F,{key:0,label:"Limite sur le nombre de jours",modelValue:u.value.NbJoursMax,"onUpdate:modelValue":b[4]||(b[4]=v=>u.value.NbJoursMax=v),min:0,hint:"0 pour ne pas limiter","persistent-hint":""},null,8,["modelValue"])):x("",!0)]),_:1})]),_:1}),t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(I,{label:"Pièce justificative",onUpdate:b[5]||(b[5]=v=>c.value=v)})]),_:1})]),_:1})]),_:1}),t(le,null,{default:e(()=>[t(pe),t($,{color:"green",disabled:!V.value,onClick:b[6]||(b[6]=v=>o("save",u.value,c.value))},{default:e(()=>[...b[7]||(b[7]=[a(" Ajouter pour vérification ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})}}}),Et={key:0},Ft=K({__name:"FinancesCard",props:{token:{},dossier:{},isPaiementOpen:{type:Boolean}},emits:["refresh","showReglement"],setup(r,{emit:n}){const l=r,o=n;de(m);const u=M(!1);async function c(b,k){u.value=!1,await U.CreateAide(k,b,{token:l.token})!==void 0&&(U.showMessage("Aide ajoutée avec succès (validation à venir). Merci !"),o("refresh"))}const V=z(()=>{const b=[];return Object.values(l.dossier.Aides||{}).forEach(k=>b.push(...Object.values(k||{}))),b}),f=z(()=>V.value.filter(b=>!b.Valide).length),d=M({});async function m(){const b=await U.GetStructureaides();b!==void 0&&(d.value=b||{})}return(b,k)=>(s(),p(E,{subtitle:"Réglement",class:"mt-2"},{append:e(()=>[t($,{size:"small",class:"mr-1",onClick:k[0]||(k[0]=F=>o("showReglement")),disabled:!l.isPaiementOpen||l.dossier.Bilan.Statut==h(re).Complet},{prepend:e(()=>[t(q,null,{default:e(()=>[...k[3]||(k[3]=[a("mdi-cash-plus",-1)])]),_:1})]),default:e(()=>[k[4]||(k[4]=a(" Régler ",-1))]),_:1},8,["disabled"]),t($,{size:"small",disabled:!l.dossier.Participants?.length,onClick:k[1]||(k[1]=F=>u.value=!0)},{prepend:e(()=>[t(q,{color:"green"},{default:e(()=>[...k[5]||(k[5]=[a("mdi-plus",-1)])]),_:1})]),default:e(()=>[k[6]||(k[6]=a(" Ajouter une aide ",-1))]),_:1},8,["disabled"])]),default:e(()=>[t(L,null,{default:e(()=>[t(w,{class:"mt-2"},{default:e(()=>[t(g,null,{default:e(()=>[...k[7]||(k[7]=[a("Prix des séjours",-1)])]),_:1}),t(g,{cols:"4",class:"text-right"},{default:e(()=>[a(S(r.dossier.Bilan.Demande),1)]),_:1})]),_:1}),r.dossier.Bilan.DemandeEnAttenteValidation?(s(),p(w,{key:0,class:"my-2"},{default:e(()=>[t(g,{class:"text-grey"},{default:e(()=>[...k[8]||(k[8]=[a("Séjours en attente de validation",-1)])]),_:1}),t(g,{cols:"4",class:"text-right text-grey"},{default:e(()=>[a(S(r.dossier.Bilan.DemandeEnAttenteValidation),1)]),_:1})]),_:1})):x("",!0),r.dossier.Bilan.Aides?(s(),p(w,{key:1,class:"my-0"},{default:e(()=>[t(g,{cols:"auto"},{default:e(()=>[t(ce,null,{activator:e(({props:F})=>[t(q,Ce(Se(F)),{default:e(()=>[...k[9]||(k[9]=[a(" mdi-view-list ",-1)])]),_:1},16)]),default:e(()=>[d.value?(s(),p(E,{key:0,title:"Aides extérieures"},{default:e(()=>[t(L,null,{default:e(()=>[(s(!0),R(T,null,j(V.value,F=>(s(),p(W,{color:F.Valide?void 0:"orange",class:"mx-1"},{default:e(()=>[a(S(d.value[F.IdStructureaide].Nom)+" : "+S(h(Q).montant(F.Valeur)),1)]),_:2},1032,["color"]))),256))]),_:1})]),_:1})):x("",!0)]),_:1})]),_:1}),t(g,null,{default:e(()=>[k[11]||(k[11]=a(" Dont aides extérieures ",-1)),f.value?(s(),p(q,{key:0,color:"orange"},{default:e(()=>[...k[10]||(k[10]=[a("mdi-clock",-1)])]),_:1})):x("",!0)]),_:1}),t(g,{cols:"4",class:"text-right"},{default:e(()=>[a(S(r.dossier.Bilan.Aides),1)]),_:1})]),_:1})):x("",!0),t(be,{thickness:"1"}),t(w,{class:"my-0"},{default:e(()=>[t(g,{cols:"auto"},{default:e(()=>[t(ce,null,{activator:e(({props:F})=>[t(q,Ce(Se(F)),{default:e(()=>[...k[12]||(k[12]=[a(" mdi-view-list ",-1)])]),_:1},16)]),default:e(()=>[t(E,{title:"Paiements"},{default:e(()=>[t(L,null,{default:e(()=>[Object.values(l.dossier.Paiements||{}).length?x("",!0):(s(),R("i",Et," Aucun paiement n'a encore été enregistré. ")),(s(!0),R(T,null,j(l.dossier.Paiements,F=>(s(),p(W,{class:"mx-1"},{default:e(()=>[a(S(F.Payeur)+" : "+S(h(Q).montant(F.Montant)),1)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1}),t(g,null,{default:e(()=>[...k[13]||(k[13]=[a(" Paiements ",-1)])]),_:1}),t(g,{cols:"4",class:"text-right"},{default:e(()=>[a(S(r.dossier.Bilan.Recu),1)]),_:1})]),_:1}),t(be,{thickness:"1"}),t(w,{class:"my-0"},{default:e(()=>[t(g,null,{default:e(()=>[...k[14]||(k[14]=[a("Montant restant à régler",-1)])]),_:1}),t(g,{cols:"4",class:"text-right"},{default:e(()=>[y("b",{class:me(r.dossier.Bilan.Statut==h(re).Complet?"text-green":"text-orange")},S(r.dossier.Bilan.Restant),3)]),_:1})]),_:1})]),_:1}),t(Z,{modelValue:u.value,"onUpdate:modelValue":k[2]||(k[2]=F=>u.value=F),"max-width":"450px"},{default:e(()=>[t(Rt,{dossier:l.dossier,structureaides:d.value,onSave:c},null,8,["dossier","structureaides"])]),_:1},8,["modelValue"])]),_:1}))}}),Tt={key:0},$t=K({__name:"JoomeoCard",props:{token:{}},setup(r){const n=r;de(o);const l=M(null);async function o(){const u=await U.LoadJoomeo({token:n.token});u!==void 0&&(l.value=u)}return(u,c)=>l.value==null?(s(),p(ve,{key:0,class:"mx-auto",width:"600px",type:"card"})):l.value.Loggin?(s(),p(E,{key:1,class:"mx-auto",title:"Identifiants et albums Joomeo",subtitle:"Retrouvez les photos prises dans nos séjours.","min-width":"600px"},{default:e(()=>[t(L,null,{default:e(()=>[t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[c[0]||(c[0]=a(" Identifiant : ",-1)),y("b",null,S(l.value.Loggin),1)]),_:1}),t(g,null,{default:e(()=>[c[1]||(c[1]=a(" Mot de passe : ",-1)),y("b",null,S(l.value.Password),1)]),_:1})]),_:1}),t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[l.value.Albums?.length?x("",!0):(s(),R("i",Tt,"Aucun album n'est encore disponible.")),(s(!0),R(T,null,j(l.value.Albums,V=>(s(),p(W,{class:"ma-1"},{default:e(()=>[a(S(V),1)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),t(le,null,{default:e(()=>[t($,{block:"",color:"primary",variant:"outlined",href:l.value.SpaceURL,target:"_blank"},{default:e(()=>[...c[2]||(c[2]=[a(" Accéder à mon espace jooméo ",-1)])]),_:1},8,["href"])]),_:1})]),_:1})):(s(),p(te,{key:2,class:"mx-auto",type:"info"},{default:e(()=>[...c[3]||(c[3]=[a(" Il n'y a encore rien à voir... ",-1)])]),_:1}))}}),qt=qe({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:_e,default:"$ratingEmpty"},fullIcon:{type:_e,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:r=>["top","bottom"].includes(r)},ripple:Boolean,...Ye(),...Qe(),...Xe(),...Ze(),...We()},"VRating"),Nt=$e()({name:"VRating",props:qt(),emits:{"update:modelValue":r=>!0},setup(r,n){let{slots:l}=n;const{t:o}=Ne(),{themeClasses:u}=je(r),c=Be(r,"modelValue"),V=z(()=>ze(parseFloat(c.value),0,Number(r.length))),f=z(()=>He(Number(r.length),1)),d=z(()=>f.value.flatMap(D=>r.halfIncrements?[D-.5,D]:[D])),m=Oe(-1),b=z(()=>d.value.map(D=>{const C=r.hover&&m.value>-1,P=V.value>=D,A=m.value>=D,Y=(C?A:P)?r.fullIcon:r.emptyIcon,_=r.activeColor??r.color,X=P||A?_:r.color;return{isFilled:P,isHovered:A,icon:Y,color:X}})),k=z(()=>[0,...d.value].map(D=>{function C(){m.value=D}function P(){m.value=-1}function A(){r.disabled||r.readonly||(c.value=V.value===D&&r.clearable?0:D)}return{onMouseenter:r.hover?C:void 0,onMouseleave:r.hover?P:void 0,onClick:A}})),F=Je(),I=z(()=>r.name??`v-rating-${F}`);function v(D){let{value:C,index:P,showStar:A=!0}=D;const{onMouseenter:i,onMouseleave:Y,onClick:_}=k.value[P+1],X=`${I.value}-${String(C).replace(".","-")}`,ke={color:b.value[P]?.color,density:r.density,disabled:r.disabled,icon:b.value[P]?.icon,ripple:r.ripple,size:r.size,variant:"plain"};return y(T,null,[y("label",{for:X,class:me({"v-rating__item--half":r.halfIncrements&&C%1>0,"v-rating__item--full":r.halfIncrements&&C%1===0}),onMouseenter:i,onMouseleave:Y,onClick:_},[y("span",{class:"v-rating__hidden"},[o(r.itemAriaLabel,C,r.length)]),A?l.item?l.item({...b.value[P],props:ke,value:C,index:P,rating:V.value}):t($,fe({"aria-label":o(r.itemAriaLabel,C,r.length)},ke),null):void 0]),y("input",{class:"v-rating__hidden",name:I.value,id:X,type:"radio",value:C,checked:V.value===C,tabindex:-1,readonly:r.readonly,disabled:r.disabled},null)])}function H(D){return l["item-label"]?l["item-label"](D):D.label?y("span",null,[D.label]):y("span",null,[a(" ")])}return Ke(()=>{const D=!!r.itemLabels?.length||l["item-label"];return t(r.tag,{class:me(["v-rating",{"v-rating--hover":r.hover,"v-rating--readonly":r.readonly},u.value,r.class]),style:Ge(r.style)},{default:()=>[t(v,{value:0,index:-1,showStar:!1},null),f.value.map((C,P)=>y("div",{class:"v-rating__wrapper"},[D&&r.itemLabelPosition==="top"?H({value:C,index:P,label:r.itemLabels?.[P]}):void 0,y("div",{class:"v-rating__item"},[r.halfIncrements?y(T,null,[t(v,{value:C-.5,index:P*2},null),t(v,{value:C,index:P*2+1},null)]):t(v,{value:C,index:P},null)]),D&&r.itemLabelPosition==="bottom"?H({value:C,index:P,label:r.itemLabels?.[P]}):void 0]))]})}),{}}}),ee=K({__name:"RatingField",props:et({label:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const n=r,l=tt(r,"modelValue");return(o,u)=>(s(),p(w,{"no-gutters":""},{default:e(()=>[t(g,{cols:"12"},{default:e(()=>[a(S(n.label),1)]),_:1}),t(g,{cols:"12"},{default:e(()=>[t(Nt,{hover:"",color:"primary",length:4,modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=c=>l.value=c),size:"32"},null,8,["modelValue"])]),_:1})]),_:1}))}}),jt={key:1},Bt=K({__name:"SondagesCard",props:{token:{},initialCamp:{}},setup(r){const n=r;de(u);const l=M(0),o=M(null);async function u(){const f=await U.LoadSondages({token:n.token});if(f===void 0)return;o.value=f||[];const d=(f||[]).filter(c);(f||[]).map(m=>m.Sondage.IdCamp).includes(n.initialCamp)?l.value=n.initialCamp:d.length?l.value=d[0].Sondage.IdCamp:l.value==0&&f?.length&&(l.value=f[0].Sondage.IdCamp)}function c(f){return lt(f.Sondage.Modified)}async function V(f){await U.UpdateSondages({Token:n.token,Id:f.Id,IdCamp:f.IdCamp,Reponse:f})!==void 0&&(u(),U.showMessage("Votre réponse a bien été enregistrée. Merci !"))}return(f,d)=>o.value==null?(s(),p(ve,{key:0,type:"card"})):o.value!=null?(s(),p(E,{key:1,title:"Enquête de satisfaction",width:o.value?.length?void 0:"600px",class:"mx-auto"},{default:e(()=>[t(L,null,{default:e(()=>[o.value.length?(s(),p(te,{key:0,color:"secondary",icon:"mdi-comment-quote"},{default:e(()=>[...d[1]||(d[1]=[a(" Afin d'améliorer nos prestations, nous avons à cœur de vous laisser la parole. Vos suggestions, remarques et ressentis nous aiderons à améliorer nos séjours. Merci d'avance de ce temps que vous réserverez pour répondre à cette courte enquête. ",-1)])]),_:1})):(s(),R("div",jt," L'enquête n'est pas encore ouverte. Vous pourrez revenir ici donner votre avis une fois le séjour terminé. ")),o.value.length?(s(),p(bt,{key:2,modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=m=>l.value=m),grow:"",class:"mt-2"},{default:e(()=>[(s(!0),R(T,null,j(o.value,m=>(s(),p(yt,{value:m.Sondage.IdCamp},{default:e(()=>[a(S(m.Camp)+" ",1),c(m)?(s(),p(Ve,{key:0,inline:"",content:"Nouveau",color:"pink"})):x("",!0)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])):x("",!0),t(Vt,{"model-value":l.value,class:"mt-2"},{default:e(()=>[(s(!0),R(T,null,j(o.value,m=>(s(),p(kt,{value:m.Sondage.IdCamp},{default:e(()=>[t(E,{subtitle:"Vos impressions sur le séjour"},{default:e(()=>[t(L,null,{default:e(()=>[t(w,null,{default:e(()=>[t(g,{cols:"6"},{default:e(()=>[t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(ee,{label:"Informations avant le séjour",modelValue:m.Sondage.InfosAvantSejour,"onUpdate:modelValue":b=>m.Sondage.InfosAvantSejour=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(g,null,{default:e(()=>[t(ee,{label:"Informations pendant le séjour",modelValue:m.Sondage.InfosPendantSejour,"onUpdate:modelValue":b=>m.Sondage.InfosPendantSejour=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(g,null,{default:e(()=>[t(ee,{label:"L'hébergement",modelValue:m.Sondage.Hebergement,"onUpdate:modelValue":b=>m.Sondage.Hebergement=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(ee,{label:"Les activités",modelValue:m.Sondage.Activites,"onUpdate:modelValue":b=>m.Sondage.Activites=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(g,null,{default:e(()=>[t(ee,{label:"Le thème",modelValue:m.Sondage.Theme,"onUpdate:modelValue":b=>m.Sondage.Theme=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(g,null,{default:e(()=>[t(ee,{label:"La nourriture",modelValue:m.Sondage.Nourriture,"onUpdate:modelValue":b=>m.Sondage.Nourriture=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(ee,{label:"L'hygiène corporelle et vestimentaire",modelValue:m.Sondage.Hygiene,"onUpdate:modelValue":b=>m.Sondage.Hygiene=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(g,null,{default:e(()=>[t(ee,{label:"L'ambiance du groupe",modelValue:m.Sondage.Ambiance,"onUpdate:modelValue":b=>m.Sondage.Ambiance=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(g,null,{default:e(()=>[t(ee,{label:"Le ressenti global de votre enfant",modelValue:m.Sondage.Ressenti,"onUpdate:modelValue":b=>m.Sondage.Ressenti=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(g,{cols:"6"},{default:e(()=>[t(w,null,{default:e(()=>[t(g,{cols:"12"},{default:e(()=>[t(ue,{rows:"3",label:"Message du participant",hint:"Le participant souhaite donner son avis : des regrets ? de bons souvenirs ? des propositions d'amélioration ?","persistent-hint":"",modelValue:m.Sondage.MessageEnfant,"onUpdate:modelValue":b=>m.Sondage.MessageEnfant=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(g,null,{default:e(()=>[t(ue,{rows:"3",label:"Message du responsable",hint:"En tant que responsable, vous avez une remarque, une suggestion, un ressenti à partager : avec plaisir ! Nous prendrons soin de vous apporter une réponse en cas de besoin.","persistent-hint":"",modelValue:m.Sondage.MessageResponsable,"onUpdate:modelValue":b=>m.Sondage.MessageResponsable=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),t(le,null,{default:e(()=>[t($,{block:"",variant:"outlined",color:"success",onClick:b=>V(m.Sondage)},{prepend:e(()=>[t(q,null,{default:e(()=>[...d[2]||(d[2]=[a("mdi-content-save",-1)])]),_:1})]),default:e(()=>[a(" Enregistrer mon retour pour le séjour "+S(m.Camp),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1},8,["model-value"])]),_:1})]),_:1},8,["width"])):x("",!0)}}),zt=K({__name:"FichesanitaireForm",props:{fiche:{}},emits:["save","transfert"],setup(r,{emit:n}){const l=r,o=n,u=Ue(at(l.fiche.Fichesanitaire)),c=z(()=>l.fiche.Fichesanitaire.Owners||[]),V=z(()=>l.fiche.State==ne.NoFiche?"A remplir":`Dernière modification : ${Q.time(l.fiche.Fichesanitaire.Modified)} / Propriétaire(s) :
         ${c.value.join(" ; ")}`);return(f,d)=>(s(),p(E,{title:`Fiche sanitaire de ${l.fiche.Personne}`,subtitle:V.value},ge({default:e(()=>[t(L,null,{default:e(()=>[l.fiche.IsLocked?(s(),p(te,{key:0},{default:e(()=>[a(" Votre adresse mail n'est pas reconnu dans notre système comme celle du responsable de cette fiche sanitaire. Elle est actuellement liée "+S(c.value.length>=2?"aux adresses":"à l'adresse")+" ",1),y("b",null,S(c.value.join(" ; ")),1),d[12]||(d[12]=a(". ",-1)),d[13]||(d[13]=y("br",null,null,-1)),a(" Afin de protéger vos données, vous devez demander un transfert des droits de lecture et d'écriture. Un mail contenant un lien de transfert va être envoyé "+S(c.value.length>=2?"aux adresses":"à l'adresse")+" ",1),y("i",null,"("+S(c.value.join(" ; "))+")",1),d[14]||(d[14]=a(". ",-1)),t($,{variant:"outlined",onClick:d[0]||(d[0]=m=>o("transfert",l.fiche.Fichesanitaire)),block:"",class:"mt-4"},{prepend:e(()=>[t(q,null,{default:e(()=>[...d[10]||(d[10]=[a("mdi-lock-open",-1)])]),_:1})]),default:e(()=>[d[11]||(d[11]=a(" Demander le transfert de la fiche sanitaire ",-1))]),_:1})]),_:1})):l.fiche.State==h(ne).Outdated?(s(),p(te,{key:1,type:"warning"},{default:e(()=>[...d[15]||(d[15]=[a(" Merci de bien vouloir vérifier que les données ci-dessous sont à jour et les valider. ",-1),y("br",null,null,-1),a("Nous avons besoin de votre consentement, décrit dans l'encart ",-1),y("b",null,"Validation",-1),a(" (en bas de page). ",-1)])]),_:1})):x("",!0),l.fiche.IsLocked?x("",!0):(s(),R(T,{key:2},[t(E,{class:"my-2",title:"Santé"},{default:e(()=>[t(L,null,{default:e(()=>[t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(ue,{label:"Difficultés de santé",rows:"3",variant:"outlined",modelValue:u.DifficultesSante,"onUpdate:modelValue":d[1]||(d[1]=m=>u.DifficultesSante=m),hint:"Préciser les problèmes de santé, allergies (non alimentaires), ou tout autre renseignement utile ...","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1}),t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(ue,{label:"Allergies alimentaires",rows:"3",variant:"outlined",modelValue:u.AllergiesAlimentaires,"onUpdate:modelValue":d[2]||(d[2]=m=>u.AllergiesAlimentaires=m)},null,8,["modelValue"])]),_:1})]),_:1}),t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(ue,{label:"Traitement en cours et mesures proposées",rows:"3",variant:"outlined",modelValue:u.TraitementMedical,"onUpdate:modelValue":d[3]||(d[3]=m=>u.TraitementMedical=m)},null,8,["modelValue"]),t(nt,null,{default:e(()=>[t(te,{"model-value":u.TraitementMedical!="",color:"blue-lighten-4",type:"warning"},{default:e(()=>[...d[16]||(d[16]=[a(" Merci d'apporter les médicaments prescrits et leur posologie, ainsi que d'informer l'équipe à votre arrivée. ",-1)])]),_:1},8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(E,{title:"Médecin traitant",class:"my-2"},{default:e(()=>[t(L,null,{default:e(()=>[t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(ae,{variant:"outlined",density:"compact",label:"Nom",modelValue:u.Medecin.Nom,"onUpdate:modelValue":d[4]||(d[4]=m=>u.Medecin.Nom=m),"hide-details":""},null,8,["modelValue"])]),_:1}),t(g,null,{default:e(()=>[t(ae,{variant:"outlined",density:"compact",label:"Téléphone","model-value":h(Q).tel(u.Medecin.Tel),"onUpdate:modelValue":d[5]||(d[5]=m=>u.Medecin.Tel=m),"hide-details":""},null,8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1}),t(E,{title:"Contacts",class:"my-2"},{default:e(()=>[t(L,null,{default:e(()=>[t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(ae,{variant:"outlined",density:"compact",readonly:"","hide-details":"","model-value":l.fiche.ResponsableNom,label:"Responsable légal"},null,8,["model-value"])]),_:1}),t(g,null,{default:e(()=>[t(ae,{variant:"outlined",density:"compact",readonly:"","hide-details":"","model-value":h(Q).tels(l.fiche.ResponsableTels),label:"Téléphone"},null,8,["model-value"])]),_:1})]),_:1}),t(be,{thickness:"2",class:"my-4"}),t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[t(ae,{variant:"outlined",density:"compact",readonly:"",modelValue:u.AutreContact.Nom,"onUpdate:modelValue":d[6]||(d[6]=m=>u.AutreContact.Nom=m),label:"Autre contact",hint:"Nom et prénom d'une autre personne à contacter en cas d'urgence.","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(g,null,{default:e(()=>[t(ae,{variant:"outlined",density:"compact",label:"Téléphone du contact","model-value":h(Q).tel(u.AutreContact.Tel),"onUpdate:modelValue":d[7]||(d[7]=m=>u.AutreContact.Tel=m)},null,8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1}),t(E,{class:"mt-4",variant:"outlined",color:"success",title:"Validation"},{default:e(()=>[t(L,{class:"text-black"},{default:e(()=>[...d[17]||(d[17]=[a(" Le responsable légal déclare ",-1),y("b",null,"exacts",-1),a(" les renseignements portés sur ce formulaire. ",-1),y("br",null,null,-1),a(" Il autorise le responsable du séjour à prendre des mesures urgentes de soin (traitements médicaux d'urgence, hospitalisation, interventions chirurgicales) rendues nécessaires par l’état du participant. ",-1),y("br",null,null,-1),a(" Il autorise également, si nécessaire, le responsable du séjour à faire sortir le participant de l’hôpital après une hospitalisation. ",-1)])]),_:1}),t(le,null,{default:e(()=>[t($,{block:"",color:"success",onClick:d[8]||(d[8]=m=>o("save",u))},{prepend:e(()=>[t(q,null,{default:e(()=>[...d[18]||(d[18]=[a("mdi-content-save",-1)])]),_:1})]),default:e(()=>[a(" Enregistrer la fiche sanitaire de "+S(l.fiche.Personne),1)]),_:1})]),_:1})]),_:1})],64))]),_:1})]),_:2},[l.fiche.State==h(ne).UpToDate?{name:"append",fn:e(()=>[t(W,{color:"green","prepend-icon":"mdi-check"},{default:e(()=>[...d[9]||(d[9]=[a(" Fiche à jour ",-1)])]),_:1})]),key:"0"}:void 0]),1032,["title","subtitle"]))}}),Ht=K({__name:"CharteCard",emits:["accept"],setup(r,{emit:n}){const l=n;return(o,u)=>(s(),p(E,{title:"Charte"},{default:e(()=>[t(L,null,{default:e(()=>[...u[1]||(u[1]=[y("div",{class:"my-2"},[a(" Pour le bon déroulement du camp, nous passons un « contrat moral » avec chaque participant. Les trois derniers points s'adressant aux campeurs plus âgés : "),y("ul",{class:"ml-6"},[y("li",null,"Participation régulière aux activités"),y("li",null," Attitude respectueuse vis-à-vis des autres campeurs, des encadrants et du matériel "),y("li",null,"Pas d’alcool, de drogues pendant le voyage et le camp"),y("li",null," Pas de relation privilégiée : nous désirons vivre ce camp tous ensemble "),y("li",null,"Tenue vestimentaire correcte")])],-1),a(" Une quelconque responsabilité de l’association ou de l’équipe du camp n’est pas engagée en cas de faute d’un tiers ou d’un participant. ",-1),y("br",null,null,-1),y("br",null,null,-1),a(" L’association ne peut être tenue pour responsable de la perte ou de la dégradation des affaires personnelles. Les détenteurs de portable, appareil photo numérique, instrument de musique etc. sont responsables en cas de perte, de vol ou de détérioration de ce matériel. ",-1),y("br",null,null,-1),y("br",null,null,-1),a(" Nous souhaitons que la vie en communauté se déroule sainement et agréablement pour chacun. Toutes situations mettant en danger l’intégrité d’un ou des participants entraîneront le renvoi de la personne impliquée. Le refus répété de suivre les règles de vie du camp, la consommation ou la détention de substances illicites entraîneront le renvoi. ",-1),y("br",null,null,-1),y("br",null,null,-1),a(" L’association a pour but l’épanouissement physique et social des participants ainsi que de leur permettre d’apprendre à connaître Jésus-Christ.",-1),y("br",null,null,-1),y("br",null,null,-1)])]),_:1}),t(le,null,{default:e(()=>[t($,{color:"green",onClick:u[0]||(u[0]=c=>l("accept")),block:"",variant:"outlined"},{prepend:e(()=>[t(q,null,{default:e(()=>[...u[2]||(u[2]=[a("mdi-check",-1)])]),_:1})]),default:e(()=>[u[3]||(u[3]=a(" J'ai pris connaissance et accepte le cadre du camp ",-1))]),_:1})]),_:1})]),_:1}))}}),Ot=K({__name:"DocumentsCard",props:{token:{}},emits:["updateNotifs"],setup(r,{emit:n}){const l=r,o=n;de(c);const u=M(null);async function c(){const I=await U.LoadDocuments({token:l.token});I!==void 0&&(u.value=I,o("updateNotifs",I.NewCount))}async function V(I,v,H){await U.UploadDocument(H,{token:l.token,idPersonne:I,idDemande:v})!==void 0&&(U.showMessage("Document téléversé avec succès. Merci !"),await c())}async function f(I){await U.DeleteDocument({key:I.Key})!==void 0&&(U.showMessage("Document supprimé avec succès."),await c())}const d=M(null);async function m(I){d.value=null,await U.UpdateFichesanitaire({Token:l.token,Fichesanitaire:I})!==void 0&&(U.showMessage("La fiche sanitaire a bien été enregistrée. Merci !"),c())}async function b(I){d.value=null,await U.TransfertFicheSanitaire({token:l.token,idPersonne:I.IdPersonne})!==void 0&&U.showMessage("Mail de transfert envoyé avec succès.")}const k=M(null);async function F(){const I=k.value;I==null||(k.value=null,await U.AccepteCharte({token:l.token,idPersonne:I})===void 0)||(U.showMessage("La charte a bien été acceptée. Merci !"),c())}return(I,v)=>{const H=Ct,D=ht;return s(),p(E,{title:"Documents des séjours",subtitle:"Vous retrouvez ici les documents des séjours auxquels vous participez, à lire ou remplir."},ge({default:e(()=>[u.value!=null?(s(),p(L,{key:0},{default:e(()=>[t(oe,null,{default:e(()=>[t(Ae,null,{default:e(()=>[...v[3]||(v[3]=[a("À lire",-1)])]),_:1}),u.value.FilesToRead?.length?x("",!0):(s(),p(N,{key:0},{default:e(()=>[...v[4]||(v[4]=[y("i",null,"Aucun document à lire.",-1)])]),_:1})),(s(!0),R(T,null,j(u.value.FilesToRead,C=>(s(),R(T,null,[(s(!0),R(T,null,j(C.Files,P=>(s(),p(N,{title:P.NomClient,subtitle:C.Camp},{append:e(()=>[t(H,{fileKey:P.Key,isGeneratedDoc:!1},null,8,["fileKey"])]),_:2},1032,["title","subtitle"]))),256)),(s(!0),R(T,null,j(C.Generated,P=>(s(),p(N,{title:P.NomClient,subtitle:C.Camp},{append:e(()=>[t(H,{fileKey:P.Key,isGeneratedDoc:!0},null,8,["fileKey"])]),_:2},1032,["title","subtitle"]))),256))],64))),256)),t(Ae,null,{default:e(()=>[...v[5]||(v[5]=[a("À fournir",-1)])]),_:1}),u.value.FilesToUpload?.length||u.value.Fiches?.length?x("",!0):(s(),p(N,{key:1},{default:e(()=>[...v[6]||(v[6]=[y("i",null,"Aucun document à fournir.",-1)])]),_:1})),(s(!0),R(T,null,j(u.value.Chartes,C=>(s(),p(N,{title:"Charte",subtitle:C.Personne},{append:e(()=>[C.Accepted?(s(),p(W,{key:0,color:"green",onClick:P=>k.value=C.Id,"append-icon":"mdi-check"},{default:e(()=>[...v[7]||(v[7]=[a(" Acceptée ",-1)])]),_:1},8,["onClick"])):(s(),p($,{key:1,size:"small",onClick:P=>k.value=C.Id},{prepend:e(()=>[t(q,null,{default:e(()=>[...v[8]||(v[8]=[a("mdi-pencil",-1)])]),_:1})]),default:e(()=>[v[9]||(v[9]=a(" Signer",-1))]),_:1},8,["onClick"]))]),_:2},1032,["subtitle"]))),256)),(s(!0),R(T,null,j(u.value.Fiches,C=>(s(),p(N,{title:"Fiche sanitaire",subtitle:C.Personne},{append:e(()=>[C.State==h(ne).UpToDate?(s(),p(W,{key:0,onClick:P=>d.value=C,color:"green","append-icon":"mdi-check"},{default:e(()=>[...v[10]||(v[10]=[a(" Remplie ",-1)])]),_:1},8,["onClick"])):(s(),p($,{key:1,size:"small",onClick:P=>d.value=C},{prepend:e(()=>[t(q,null,{default:e(()=>[...v[11]||(v[11]=[a("mdi-pencil",-1)])]),_:1})]),default:e(()=>[v[12]||(v[12]=a(" Remplir",-1))]),_:1},8,["onClick"]))]),_:2},1032,["subtitle"]))),256)),(s(!0),R(T,null,j(u.value.FilesToUpload,C=>(s(),R(T,null,[(s(!0),R(T,null,j(C.Demandes,P=>(s(),p(D,{demande:P.Demande,files:P.Uploaded||[],subtitle:C.Personne,inUpload:!1,optionnelle:null,showUploadText:!0,onUpload:A=>V(C.IdPersonne,P.Demande.Id,A),onDelete:f},ge({_:2},[P.Demande.Categorie==h(B).Vaccins?{name:"prepend",fn:e(()=>[t($,{icon:"",size:"x-small",flat:"",class:"mr-2"},{default:e(()=>[t(q,null,{default:e(()=>[...v[13]||(v[13]=[a("mdi-help-circle-outline",-1)])]),_:1}),t(ce,{activator:"parent"},{default:e(()=>[t(E,{"max-width":"400px"},{default:e(()=>[t(L,null,{default:e(()=>[...v[14]||(v[14]=[a(" Merci de joindre le scan des pages « vaccinations » du carnet de santé du participant. ",-1),y("br",null,null,-1),a(" Seul le DTPolio est obligatoire pour être accueilli en séjour de vacances. ",-1),y("br",null,null,-1),y("i",null," Si le participant n’a pas les vaccins obligatoires, joindre un certificat médical de contre-indication. ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),key:"0"}:void 0,P.Demande.IdFile.Valid?{name:"prepend",fn:e(()=>[t(Pt,{"content-class":"pa-1"},{activator:e(({props:A})=>[t($,fe({ref_for:!0},A,{href:h(st).LoadDocument(P.DemandeFile.Key),class:"mr-2",size:"small"}),{prepend:e(()=>[t(q,null,{default:e(()=>[...v[15]||(v[15]=[a("mdi-download",-1)])]),_:1})]),default:e(()=>[v[16]||(v[16]=a(" Modèle",-1))]),_:1},16,["href"])]),default:e(()=>[t(H,{"file-key":P.DemandeFile.Key,isGeneratedDoc:!1,large:!0},null,8,["file-key"])]),_:2},1024)]),key:"1"}:void 0]),1032,["demande","files","subtitle","onUpload"]))),256))],64))),256))]),_:1})]),_:1})):(s(),p(ve,{key:1})),t(Z,{"model-value":k.value!=null,"onUpdate:modelValue":v[0]||(v[0]=C=>k.value=null),"max-width":"800px"},{default:e(()=>[k.value?(s(),p(Ht,{key:0,onAccept:F})):x("",!0)]),_:1},8,["model-value"]),t(Z,{"model-value":d.value!=null,"onUpdate:modelValue":v[1]||(v[1]=C=>d.value=null),"max-width":"800px"},{default:e(()=>[d.value?(s(),p(zt,{key:0,fiche:d.value,onSave:m,onTransfert:b},null,8,["fiche"])):x("",!0)]),_:1},8,["model-value"])]),_:2},[u.value?{name:"append",fn:e(()=>[u.value.NewCount==0?(s(),p(W,{key:0,color:"green","append-icon":"mdi-check"},{default:e(()=>[...v[2]||(v[2]=[a(" A jour",-1)])]),_:1})):(s(),p(Ve,{key:1,inline:"",content:u.value.NewCount,color:"pink"},null,8,["content"]))]),key:"0"}:void 0]),1024)}}}),Jt=K({__name:"FinancesReglementCard",props:{token:{},dossier:{},settings:{}},setup(r,{emit:n}){const l=r,o=M(l.settings.SupportPaiementEnLigne?G.EnLigne:G.Virement);async function u(V){await Pe(V),U.showMessage("IBAN copié avec succès.")}async function c(V){await Pe(V),U.showMessage("Identifiant de virement copié avec succès.")}return(V,f)=>(s(),p(E,{title:"Régler le séjour",class:"mt-2"},{default:e(()=>[t(L,null,{default:e(()=>[f[13]||(f[13]=a(" Le montant à régler est de ",-1)),y("b",null,S(l.dossier.Bilan.Restant),1),f[14]||(f[14]=a(". ",-1)),t(w,{class:"mt-4"},{default:e(()=>[t(g,{"align-self":"start",cols:"4"},{default:e(()=>[t(oe,{class:"py-0",selectable:"",selected:o.value,"onUpdate:selected":f[0]||(f[0]=d=>o.value=d)},{default:e(()=>[l.settings.SupportPaiementEnLigne?(s(),p(N,{key:0,rounded:"",class:"my-2",title:"Payer en ligne",subtitle:"par carte bancaire",value:h(G).EnLigne},{append:e(()=>[t(q,null,{default:e(()=>[...f[2]||(f[2]=[a("mdi-credit-card",-1)])]),_:1})]),_:1},8,["value"])):x("",!0),t(N,{rounded:"",class:"my-2",title:"Payer par virement",value:h(G).Virement},{append:e(()=>[t(q,null,{default:e(()=>[...f[3]||(f[3]=[a("mdi-bank",-1)])]),_:1})]),_:1},8,["value"]),l.settings.Cheques.IsValid?(s(),p(N,{key:1,rounded:"",class:"my-2",title:"Payer par chèque",value:h(G).Cheque},{append:e(()=>[t(q,null,{default:e(()=>[...f[4]||(f[4]=[a("mdi-checkbook",-1)])]),_:1})]),_:1},8,["value"])):x("",!0)]),_:1},8,["selected"])]),_:1}),t(g,{"align-self":"start",cols:"8"},{default:e(()=>[t(E,{title:h(Ut)[o.value]},{default:e(()=>[o.value==h(G).EnLigne?(s(),p(L,{key:0},{default:e(()=>[...f[5]||(f[5]=[a(" TODO: see https://github.com/benoitkugler/registro/issues/76 ",-1)])]),_:1})):o.value==h(G).Virement?(s(),p(L,{key:1},{default:e(()=>[a(" Vous pouvez effectuer votre virement vers "+S(l.settings.BankAccounts?.length?"l'un des comptes suivants":"le compte suivant")+" : ",1),t(oe,{class:"my-2"},{default:e(()=>[(s(!0),R(T,null,j(l.settings.BankAccounts,d=>(s(),p(N,{title:d[0],subtitle:d[1]},{append:e(()=>[t($,{size:"x-small",icon:"mdi-content-copy",onClick:m=>u(d[1])},null,8,["onClick"])]),_:2},1032,["title","subtitle"]))),256))]),_:1}),t(te,{type:"info"},{default:e(()=>[f[6]||(f[6]=a(" Merci d'indiquer impérativement le ",-1)),f[7]||(f[7]=y("b",null,"label",-1)),f[8]||(f[8]=a(" suivant sur votre virement, qui nous permettra de l'identifier : ",-1)),t(w,{"no-gutters":"",class:"mt-2"},{default:e(()=>[t(g,{"align-self":"center",class:"text-center"},{default:e(()=>[t(W,{variant:"elevated"},{default:e(()=>[a(S(l.settings.VirementCode),1)]),_:1})]),_:1}),t(g,{"align-self":"center",cols:"auto"},{default:e(()=>[t($,{class:"my-2",size:"x-small",icon:"mdi-content-copy",onClick:f[1]||(f[1]=d=>c(l.settings.VirementCode))})]),_:1})]),_:1})]),_:1})]),_:1})):o.value==h(G).Cheque?(s(),p(L,{key:2},{default:e(()=>[f[10]||(f[10]=a(" Merci d'envoyer votre chèque à l'ordre ",-1)),y("b",null,S(l.settings.Cheques.Ordre),1),f[11]||(f[11]=a(" à l'adresse suivante : ",-1)),t(w,{justify:"center"},{default:e(()=>[t(g,{cols:"auto"},{default:e(()=>[t(E,{class:"my-2"},{default:e(()=>[t(L,null,{default:e(()=>[a(S(l.settings.Cheques.Adresse[0])+" ",1),f[9]||(f[9]=y("br",null,null,-1)),a(" "+S(l.settings.Cheques.Adresse[1]),1)]),_:1})]),_:1})]),_:1})]),_:1}),f[12]||(f[12]=a(" Il sera encaissé environ une dizaine de jours avant le début du séjour. ",-1))]),_:1})):x("",!0)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Kt=["href"],Gt=K({__name:"PresentationCard",props:{assoTitle:{},mailCentre:{}},setup(r){const n=r;return(l,o)=>(s(),p(E,{title:"Bienvenue sur votre espace de suivi !"},{default:e(()=>[t(L,null,{default:e(()=>[a(" Cette page regroupe toutes les informations liées à votre inscription et vous permet d'interagir avec les directeurs de séjour et l'association "+S(n.assoTitle)+", en utilisant le fil de messages. ",1),o[0]||(o[0]=y("br",null,null,-1)),o[1]||(o[1]=y("br",null,null,-1)),o[2]||(o[2]=a(" Cet espace évoluera au fil de l'inscription, et vous donnera accès au suivi de votre demande: ",-1)),t(oe,{class:"mb-2"},{default:e(()=>[t(N,{title:"Notification de validation",subtitle:"Après prise en compte de votre inscription par notre association.","append-icon":"mdi-check"}),t(N,{title:"Réglement des séjours","append-icon":"mdi-currency-eur"}),t(N,{title:"Documents des séjours",subtitle:"Lettre du directeur, fiches sanitaires, autres documents, ...","append-icon":"mdi-mail"}),t(N,{title:"Album photo",subtitle:"Accès vers une plateforme dédiée aux photos de vos séjours.","append-icon":"mdi-image-album"}),t(N,{title:"Justificatifs",subtitle:"Téléchargement d'une attestation de présence ou d'une facture acquittée.","append-icon":"mdi-download"}),t(N,{title:"Sondage",subtitle:"Un espace de commentaire ouvert à la fin des séjours.","append-icon":"mdi-comment-quote"})]),_:1}),o[3]||(o[3]=a(" La prochaine étape ? La confirmation de votre inscription vous sera donnée par le responsable du camp. Si un camp est déjà complet, vous serez mis sur liste d'attente. ",-1)),o[4]||(o[4]=y("br",null,null,-1)),o[5]||(o[5]=a(" Sans nouvelle d'ici 10 jours, veuillez contacter : ",-1)),y("a",{href:`mailto:${n.mailCentre}`},S(n.mailCentre),9,Kt)]),_:1})]),_:1}))}}),Wt=K({__name:"ValidationInscriptionCard",props:{dossier:{}},setup(r){const n=r,l=z(()=>(n.dossier.Participants||[]).filter(c=>c.Participant.Statut==J.Inscrit)),o=z(()=>(n.dossier.Participants||[]).filter(c=>c.Participant.Statut!=J.Inscrit&&c.Participant.Statut!=J.AStatuer)),u=z(()=>(n.dossier.Participants||[]).filter(c=>c.Participant.Statut==J.AStatuer));return(c,V)=>(s(),p(E,{title:"Inscription confirmée"},{default:e(()=>[t(L,null,{default:e(()=>[V[0]||(V[0]=y("div",{class:"mb-4"}," Nous avons bien reçu votre inscription, et nous vous en remercions. Voici son statut : ",-1)),l.value.length?(s(),p(te,{key:0,color:"lime-lighten-1",class:"my-2",elevation:"2",icon:h(Q).statutParticipant(h(J).Inscrit).icon},{default:e(()=>[t(w,null,{default:e(()=>[t(g,{"align-self":"center",class:"text-center"},{default:e(()=>[(s(!0),R(T,null,j(l.value,f=>(s(),p(W,{class:"my-1"},{default:e(()=>[a(S(f.Personne.Prenom)+" : "+S(h(se).label(f.Camp)),1)]),_:2},1024))),256))]),_:1}),t(g,{cols:"7"},{default:e(()=>[a("Nous sommes ravis de vous confirmer "+S(l.value.length==1?"cette participation":"ces participations")+" et nous nous réjouissons des moments à passer ensemble !",1)]),_:1})]),_:1})]),_:1},8,["icon"])):x("",!0),o.value.length?(s(),p(te,{key:1,color:"orange-lighten-3",class:"my-2",elevation:"2",icon:h(Q).statutParticipant(h(J).AttenteCampComplet).icon},{default:e(()=>[t(w,null,{default:e(()=>[t(g,{"align-self":"center",class:"text-center"},{default:e(()=>[(s(!0),R(T,null,j(o.value,f=>(s(),p(W,{class:"my-1"},{default:e(()=>[a(S(f.Personne.Prenom)+" : "+S(h(se).label(f.Camp)),1)]),_:2},1024))),256))]),_:1}),t(g,{cols:"7"},{default:e(()=>[a("Malheureusement, nous avons dû placer "+S(o.value.length==1?"cette demande":"ces demandes")+" en liste d'attente. Nous reviendrons vers vous si une place se libère.",1)]),_:1})]),_:1})]),_:1},8,["icon"])):x("",!0),u.value.length?(s(),p(te,{key:2,color:"grey-lighten-1",class:"my-2",elevation:"2",icon:h(Q).statutParticipant(h(J).AStatuer).icon},{default:e(()=>[t(w,null,{default:e(()=>[t(g,{"align-self":"center",class:"text-center"},{default:e(()=>[(s(!0),R(T,null,j(u.value,f=>(s(),p(W,{class:"my-1"},{default:e(()=>[a(S(f.Personne.Prenom)+" : "+S(h(se).label(f.Camp)),1)]),_:2},1024))),256))]),_:1}),t(g,{cols:"7"},{default:e(()=>[a(" Nous n'avons pas encore statué pour "+S(u.value.length==1?"cette demande":"ces demandes")+" et nous reviendrons vers vous au plus vite. ",1)]),_:1})]),_:1})]),_:1},8,["icon"])):x("",!0)]),_:1})]),_:1}))}}),Zt={class:"overflow-y-auto",style:{"max-height":"75vh"}},Xt=K({__name:"Main",setup(r){const n=M("");de(async()=>{const A=new URLSearchParams(window.location.search),i=A.get("token")||"",Y=!!A.get("from-inscription"),_=Number(A.get("idEvent")||0);if(n.value=i,await o(),!!l.value){if(Y){D.value=!0;return}c(_)}});const l=M(null);async function o(){const A=await U.Load({token:n.value});A!==void 0&&(l.value=A)}const u=z(()=>l.value==null?[]:ut(l.value.Dossier,xt.Espaceperso));function c(A){if(!l.value)return;const i=(l.value.Dossier.Events||[]).find(Y=>Y.Id==A);if(i)switch(i.Content.Kind){case ie.Validation:H.value=!0;return;case ie.Facture:v.value=!0;return;case ie.PlaceLiberee:C.value=i;return;case ie.CampDocs:I.value=!0;return;case ie.Sondage:k.value=i.Content.Data.IdCamp;return;default:return}}const V=M(null);async function f(){if(!V.value||!l.value)return;const A={Token:n.value,Message:V.value.content,OnlyToFondSoutien:V.value.toFondSoutien};V.value=null;const i=await U.SendMessage(A);i!==void 0&&(U.showMessage("Message envoyé avec succès."),l.value.Dossier.Events=(l.value.Dossier.Events||[]).concat(i))}function d(A){return A.Participant.Statut==J.Inscrit?"bg-lime-lighten-2":A.Participant.Statut==J.AStatuer?"bg-grey-lighten-1":"bg-orange-lighten-3"}const m=M(!1);async function b(A){m.value=!1,await U.UpdateParticipants({Token:n.value,Participants:A})!==void 0&&U.showMessage("Modifications enregistrées avec succès. Merci !")}const k=M(null),F=M(!1),I=M(!1),v=M(!1),H=M(!1),D=M(!1),C=M(null);async function P(){const A=C.value;!A||(C.value=null,await U.AcceptePlaceLiberee({token:n.value,idEvent:A.Id})===void 0)||(o(),U.showMessage("Place acceptée avec succès."))}return(A,i)=>{const Y=ft;return s(),R(T,null,[t(Dt,{title:"Espace de suivi de votre inscription"},{default:e(()=>[t($,{onClick:i[0]||(i[0]=_=>k.value=0)},{prepend:e(()=>[t(q,null,{default:e(()=>[...i[22]||(i[22]=[a("mdi-comment-quote",-1)])]),_:1})]),default:e(()=>[i[23]||(i[23]=a(" Avis ",-1))]),_:1}),t($,{onClick:i[1]||(i[1]=_=>F.value=!0)},{prepend:e(()=>[t(q,null,{default:e(()=>[...i[24]||(i[24]=[a("mdi-image-album",-1)])]),_:1})]),default:e(()=>[i[25]||(i[25]=a(" Album photos ",-1))]),_:1}),t(ce,null,{activator:e(({props:_})=>[l.value?(s(),p($,fe({key:0},_,{disabled:!l.value.EnableJustificatifs}),{prepend:e(()=>[t(q,null,{default:e(()=>[...i[26]||(i[26]=[a("mdi-download",-1)])]),_:1})]),default:e(()=>[i[27]||(i[27]=a(" Justificatifs ",-1))]),_:1},16,["disabled"])):x("",!0)]),default:e(()=>[t(oe,null,{default:e(()=>[t(N,{title:"Attestation de présence",subtitle:"Télécharger au format .pdf","prepend-icon":"mdi-file-document-check",link:"",href:h(U).DownloadAttestationPresence(n.value)},null,8,["href"]),t(N,{title:"Facture",subtitle:"Télécharger au format .pdf","prepend-icon":"mdi-invoice-list",href:h(U).DownloadFacture(n.value)},null,8,["href"])]),_:1})]),_:1})]),_:1}),l.value==null?(s(),p(ve,{key:0,type:"card"})):(s(),p(ot,{key:1,class:"fill-height",fluid:""},{default:e(()=>[t(w,null,{default:e(()=>[t(g,{"align-self":"center",cols:"5"},{default:e(()=>[t(E,{subtitle:"Participants"},{append:e(()=>[t($,{size:"small",class:"mr-1",onClick:i[2]||(i[2]=_=>I.value=!0)},{prepend:e(()=>[t(q,null,{default:e(()=>[...i[28]||(i[28]=[a("mdi-folder",-1)])]),_:1})]),default:e(()=>[t(Ve,{color:l.value.DocumentsToReadOrFillCount?"pink":"transparent",content:l.value.DocumentsToReadOrFillCount||"",floating:""},{default:e(()=>[...i[29]||(i[29]=[a(" Documents ",-1)])]),_:1},8,["color","content"])]),_:1})]),default:e(()=>[t(L,null,{default:e(()=>[t(oe,{class:"pa-0"},{default:e(()=>[(s(!0),R(T,null,j(l.value.Dossier.Participants,_=>(s(),p(N,{title:h(ye).label(_.Personne),subtitle:h(se).label(_.Camp),rounded:"",class:me({"my-2":!0,[d(_)]:!0})},{append:e(()=>[t(W,{variant:"elevated",color:h(Q).statutParticipant(_.Participant.Statut).color,"prepend-icon":h(Q).statutParticipant(_.Participant.Statut).icon},{default:e(()=>[a(S(h(wt)[_.Participant.Statut]),1)]),_:2},1032,["color","prepend-icon"])]),_:2},1032,["title","subtitle","class"]))),256))]),_:1})]),_:1})]),_:1}),t(Ft,{token:n.value,dossier:l.value.Dossier,"is-paiement-open":l.value.IsPaiementOpen,settings:l.value.PaiementSettings,onRefresh:o,onShowReglement:i[3]||(i[3]=_=>v.value=!0)},null,8,["token","dossier","is-paiement-open","settings"])]),_:1}),t(g,{"align-self":"center"},{default:e(()=>[t(E,{subtitle:"Fil de suivi de votre inscription"},{append:e(()=>[t($,{onClick:i[4]||(i[4]=_=>V.value={content:"",toFondSoutien:!1})},{prepend:e(()=>[t(q,null,{default:e(()=>[...i[30]||(i[30]=[a("mdi-email",-1)])]),_:1})]),default:e(()=>[i[31]||(i[31]=a(" Nous écrire",-1))]),_:1})]),default:e(()=>[t(L,null,{default:e(()=>[y("div",Zt,[t(ct,{side:"end",class:"mt-4",density:"compact"},{default:e(()=>[(s(!0),R(T,null,j(u.value,_=>(s(),p(Y,{event:_,onGoToSondage:i[5]||(i[5]=X=>k.value=X),onGoToDocuments:i[6]||(i[6]=X=>I.value=!0),onGoToValidation:i[7]||(i[7]=X=>H.value=!0),onAcceptPlaceLiberee:i[8]||(i[8]=X=>c(X)),onReplyFondSoutien:i[9]||(i[9]=X=>V.value={content:"",toFondSoutien:!0})},null,8,["event"]))),256))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),t(Z,{modelValue:m.value,"onUpdate:modelValue":i[10]||(i[10]=_=>m.value=_)},{default:e(()=>[t(Mt,{participants:l.value.Dossier.Participants||[],onSave:b},null,8,["participants"])]),_:1},8,["modelValue"])]),_:1})),t(Z,{"model-value":V.value!=null,"onUpdate:modelValue":i[12]||(i[12]=_=>V.value=null),"max-width":"600px"},{default:e(()=>[V.value?(s(),p(E,{key:0,title:"Nouveau message",subtitle:V.value.toFondSoutien?"Ce message ne sera visible que par le fonds de soutien.":"Ce message sera visible par le centre et les directeurs."},{default:e(()=>[t(L,null,{default:e(()=>[t(ue,{autofocus:"",placeholder:"Rédigez votre message...",modelValue:V.value.content,"onUpdate:modelValue":i[11]||(i[11]=_=>V.value.content=_),rows:"10"},null,8,["modelValue"])]),_:1}),t(le,null,{default:e(()=>[t(pe),t($,{disabled:!V.value.content.length,onClick:f},{prepend:e(()=>[t(q,null,{default:e(()=>[...i[32]||(i[32]=[a("mdi-send",-1)])]),_:1})]),default:e(()=>[i[33]||(i[33]=a(" Envoyer",-1))]),_:1},8,["disabled"])]),_:1})]),_:1},8,["subtitle"])):x("",!0)]),_:1},8,["model-value"]),t(Z,{"model-value":k.value!=null,"onUpdate:modelValue":i[13]||(i[13]=_=>k.value=null)},{default:e(()=>[k.value!=null?(s(),p(Bt,{key:0,token:n.value,"initial-camp":k.value},null,8,["token","initial-camp"])):x("",!0)]),_:1},8,["model-value"]),t(Z,{modelValue:F.value,"onUpdate:modelValue":i[14]||(i[14]=_=>F.value=_)},{default:e(()=>[t($t,{token:n.value},null,8,["token"])]),_:1},8,["modelValue"]),t(Z,{modelValue:I.value,"onUpdate:modelValue":i[17]||(i[17]=_=>I.value=_),"max-width":"800px"},{default:e(()=>[t(Ot,{token:n.value,onClose:i[15]||(i[15]=_=>I.value=!1),onUpdateNotifs:i[16]||(i[16]=_=>l.value.DocumentsToReadOrFillCount=_)},null,8,["token"])]),_:1},8,["modelValue"]),l.value?(s(),p(Z,{key:2,modelValue:v.value,"onUpdate:modelValue":i[18]||(i[18]=_=>v.value=_),"max-width":"800px"},{default:e(()=>[t(Jt,{token:n.value,dossier:l.value.Dossier,settings:l.value.PaiementSettings},null,8,["token","dossier","settings"])]),_:1},8,["modelValue"])):x("",!0),t(Z,{modelValue:D.value,"onUpdate:modelValue":i[19]||(i[19]=_=>D.value=_),"max-width":"800px"},{default:e(()=>[l.value?(s(),p(Gt,{key:0,"asso-title":l.value.AssoTitle,"mail-centre":l.value.MailCentre},null,8,["asso-title","mail-centre"])):x("",!0)]),_:1},8,["modelValue"]),t(Z,{modelValue:H.value,"onUpdate:modelValue":i[20]||(i[20]=_=>H.value=_),"max-width":"800px"},{default:e(()=>[l.value?(s(),p(Wt,{key:0,dossier:l.value.Dossier},null,8,["dossier"])):x("",!0)]),_:1},8,["modelValue"]),t(Z,{"model-value":C.value!=null,"onUpdate:modelValue":i[21]||(i[21]=_=>C.value=null),"max-width":"600px"},{default:e(()=>[C.value?(s(),p(E,{key:0,title:"Accepter la place"},{default:e(()=>[t(L,null,{default:e(()=>[a(" Confirmez-vous l'inscription de "+S(C.value.Content.Data.ParticipantLabel)+" sur le séjour "+S(C.value.Content.Data.CampLabel)+" ? ",1),i[34]||(i[34]=y("br",null,null,-1)),i[35]||(i[35]=y("br",null,null,-1)),i[36]||(i[36]=y("span",{class:"text-grey"},"Un mail de notification sera envoyé automatiquement au centre.",-1))]),_:1}),t(le,null,{default:e(()=>[t(pe),t($,{color:"success",onClick:P},{default:e(()=>[...i[37]||(i[37]=[a("Confirmer",-1)])]),_:1})]),_:1})]),_:1})):x("",!0)]),_:1},8,["model-value"])],64)}}}),Qt=["innerHTML"],Yt=K({__name:"App",setup(r){const n=Ue({text:"",color:"secondary",action:void 0,timeout:4e3}),l=M(""),o=M("");return U.onError=(u,c)=>{l.value=u,o.value=c},U.showMessage=(u,c,V)=>{n.text=u,n.color=c||"success",n.action=V,n.timeout=1e4,n.timeout=4e3},(u,c)=>(s(),p(rt,null,{default:e(()=>[t(it,null,{default:e(()=>[t(Xt),t(he,{style:{"z-index":"10000"},app:"","model-value":n.text!="","onUpdate:modelValue":c[1]||(c[1]=V=>n.text=""),timeout:n.timeout,color:n.color,location:"bottom left","close-on-content-click":""},{default:e(()=>[a(S(n.text)+" ",1),n.action?(s(),p($,{key:0,onClick:c[0]||(c[0]=V=>n.action.action()),class:"ml-2"},{default:e(()=>[a(S(n.action.title),1)]),_:1})):x("",!0)]),_:1},8,["model-value","timeout","color"]),t(he,{app:"","model-value":l.value!="","onUpdate:modelValue":c[2]||(c[2]=V=>l.value=""),timeout:4e3,color:"red"},{default:e(()=>[y("b",null,S(l.value),1),y("div",{innerHTML:o.value},null,8,Qt)]),_:1},8,["model-value"])]),_:1})]),_:1}))}}),xe=dt(Yt);xe.use(mt);xe.mount("#app");
