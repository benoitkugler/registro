import{bQ as Tt,bR as Dt,bS as At,aV as Bt,aU as Mt,aA as Et,K as ne,c as E,z as Rt,aa as Ne,N as re,bm as vt,bT as $t,bU as Ee,R as Ft,bV as Nt,br as Lt,s as Le,v as Ue,X as Ut,ai as zt,bW as Ht,B as We,bX as Ot,aj as qt,bY as Yt,bZ as jt,H as he,b_ as Wt,b$ as Xt,k as z,c0 as Kt,L as Se,aw as Xe,c1 as Qt,c2 as Zt,ak as Gt,y as ze,an as Jt,ao as ea,aq as ta,c3 as aa,ar as la,c4 as na,c5 as ia,at as oa,au as ua,j as M,b as a,i as sa,C as He,S as $,c6 as ra,c7 as ca,F as te,c8 as da,D as Re,A as we,x as va,aH as fa,J as ma,c9 as ft,ca as mt,cb as pa,O as ga,cc as lt,cd as nt,bH as ya,a3 as O,ce as ha,cf as ba,e as y,d as ae,n as Te,p as ke,q as _,Z as V,aQ as Ze,aP as Ge,w as n,l as J,o as p,a5 as Va,a1 as Y,t as q,aE as pt,a8 as ka,$ as ce,g as ee,h as S,aD as Ve,aF as Pe,cg as Sa,ch as wa,r as Ke,a4 as gt,a as ie,a0 as Ce,bA as Pa,ci as Ca,cj as xa,ck as _a,cl as Ia,cm as Ta,bN as Da}from"./VSnackbar-CBECO1fY.js";import{V as it,m as Aa}from"./VSheet-E-nHdF9h.js";import{u as Ba,r as Ma,s as Ea,t as Ra,d as $e,v as $a,w as Fa,h as Oe,j as Fe,V as oe,x as Na,a as Qe,n as La,q as Ua,y as za,k as be,l as yt,b as xe,c as _e,e as qe,f as me,i as Ha,z as Oa,A as ot,B as ut,C as qa,D as Ya}from"./VTextarea-HUR-vMJk.js";import{V as Ie}from"./FileCard.vue_vue_type_script_setup_true_lang-hHmw8cBR.js";import{h as ja}from"./VTabs-C_ygT-Yw.js";import{u as Wa,m as Xa,h as Ka,V as Qa}from"./filter-Cvf4p--q.js";class Za extends Dt{constructor(o,t,d,l,s){super(l,s),this.onError=o,this.showMessage=t,this.isFondSoutien=d}hasToken(){return this.authToken!=""}setToken(o,t){this.authToken=o,this.isFondSoutien=t}handleError(o){const{kind:t,messageHtml:d}=At(o);this.onError(t,d)}startRequest(){}}const st=new Za((e,o)=>{},(e,o)=>{},!1,Tt(),"");function xl(e){return e.Camp.Statut!=Et.Ferme&&!e.IsTerminated}function ht(){return{Pattern:"",IdCamp:{Valid:!1,Id:0},Attente:Mt.EmptyQA,Reglement:Bt.EmptyQR,SortByNewMessages:!1,OnlyFondSoutien:!1}}function Ga(e){const o=ht();return o.Pattern=`id:${e}`,o}function Ja(e){let{rootEl:o,isSticky:t,layoutItemStyles:d}=e;const l=ne(!1),s=ne(0),i=E(()=>{const f=typeof l.value=="boolean"?"top":l.value;return[t.value?{top:"auto",bottom:"auto",height:void 0}:void 0,l.value?{[f]:Rt(s.value)}:{top:d.value.top}]});Ne(()=>{re(t,f=>{f?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)},{immediate:!0})}),vt(()=>{window.removeEventListener("scroll",u)});let r=0;function u(){const f=r>window.scrollY?"up":"down",c=o.value.getBoundingClientRect(),m=parseFloat(d.value.top??0),I=window.scrollY-Math.max(0,s.value-m),P=c.height+Math.max(s.value,m)-window.scrollY-window.innerHeight,k=parseFloat(getComputedStyle(o.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-m?(l.value="top",s.value=m):f==="up"&&l.value==="bottom"||f==="down"&&l.value==="top"?(s.value=window.scrollY+c.top-k,l.value=!0):f==="down"&&P<=0?(s.value=0,l.value="bottom"):f==="up"&&I<=0&&(k?l.value!=="top"&&(s.value=-I+k+m,l.value="top"):(s.value=c.top+I,l.value="top")),r=window.scrollY}return{isStuck:l,stickyStyles:i}}const el=100,tl=20;function rt(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ct(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let o=0;for(let t=e.length-1;t>0;t--){if(e[t].t===e[t-1].t)continue;const d=rt(o),l=(e[t].d-e[t-1].d)/(e[t].t-e[t-1].t);o+=(l-d)*Math.abs(l),t===e.length-1&&(o*=.5)}return rt(o)*1e3}function al(){const e={};function o(l){Array.from(l.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new $t(tl))).push([l.timeStamp,s])})}function t(l){Array.from(l.changedTouches).forEach(s=>{delete e[s.identifier]})}function d(l){var f;const s=(f=e[l])==null?void 0:f.values().reverse();if(!s)throw new Error(`No samples for touch id ${l}`);const i=s[0],r=[],u=[];for(const c of s){if(i[0]-c[0]>el)break;r.push({t:c[0],d:c[1].clientX}),u.push({t:c[0],d:c[1].clientY})}return{x:ct(r),y:ct(u),get direction(){const{x:c,y:m}=this,[I,P]=[Math.abs(c),Math.abs(m)];return I>P&&c>=0?"right":I>P&&c<=0?"left":P>I&&m>=0?"down":P>I&&m<=0?"up":ll()}}}return{addMovement:o,endTouch:t,getVelocity:d}}function ll(){throw new Error}function nl(e){let{el:o,isActive:t,isTemporary:d,width:l,touchless:s,position:i}=e;Ne(()=>{window.addEventListener("touchstart",K,{passive:!0}),window.addEventListener("touchmove",W,{passive:!1}),window.addEventListener("touchend",Z,{passive:!0})}),vt(()=>{window.removeEventListener("touchstart",K),window.removeEventListener("touchmove",W),window.removeEventListener("touchend",Z)});const r=E(()=>["left","right"].includes(i.value)),{addMovement:u,endTouch:f,getVelocity:c}=al();let m=!1;const I=ne(!1),P=ne(0),k=ne(0);let L;function h(g,C){return(i.value==="left"?g:i.value==="right"?document.documentElement.clientWidth-g:i.value==="top"?g:i.value==="bottom"?document.documentElement.clientHeight-g:ye())-(C?l.value:0)}function b(g){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const x=i.value==="left"?(g-k.value)/l.value:i.value==="right"?(document.documentElement.clientWidth-g-k.value)/l.value:i.value==="top"?(g-k.value)/l.value:i.value==="bottom"?(document.documentElement.clientHeight-g-k.value)/l.value:ye();return C?Lt(x):x}function K(g){if(s.value)return;const C=g.changedTouches[0].clientX,x=g.changedTouches[0].clientY,D=25,F=i.value==="left"?C<D:i.value==="right"?C>document.documentElement.clientWidth-D:i.value==="top"?x<D:i.value==="bottom"?x>document.documentElement.clientHeight-D:ye(),R=t.value&&(i.value==="left"?C<l.value:i.value==="right"?C>document.documentElement.clientWidth-l.value:i.value==="top"?x<l.value:i.value==="bottom"?x>document.documentElement.clientHeight-l.value:ye());(F||R||t.value&&d.value)&&(L=[C,x],k.value=h(r.value?C:x,t.value),P.value=b(r.value?C:x),m=k.value>-20&&k.value<80,f(g),u(g))}function W(g){const C=g.changedTouches[0].clientX,x=g.changedTouches[0].clientY;if(m){if(!g.cancelable){m=!1;return}const F=Math.abs(C-L[0]),R=Math.abs(x-L[1]);(r.value?F>R&&F>3:R>F&&R>3)?(I.value=!0,m=!1):(r.value?R:F)>3&&(m=!1)}if(!I.value)return;g.preventDefault(),u(g);const D=b(r.value?C:x,!1);P.value=Math.max(0,Math.min(1,D)),D>1?k.value=h(r.value?C:x,!0):D<0&&(k.value=h(r.value?C:x,!1))}function Z(g){if(m=!1,!I.value)return;u(g),I.value=!1;const C=c(g.changedTouches[0].identifier),x=Math.abs(C.x),D=Math.abs(C.y);(r.value?x>D&&x>400:D>x&&D>3)?t.value=C.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||ye()):t.value=P.value>.5}const de=E(()=>I.value?{transform:i.value==="left"?`translateX(calc(-100% + ${P.value*l.value}px))`:i.value==="right"?`translateX(calc(100% - ${P.value*l.value}px))`:i.value==="top"?`translateY(calc(-100% + ${P.value*l.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${P.value*l.value}px))`:ye(),transition:"none"}:void 0);return Ee(I,()=>{var x,D;const g=((x=o.value)==null?void 0:x.style.transform)??null,C=((D=o.value)==null?void 0:D.style.transition)??null;Ft(()=>{var F,R,Q,T;(R=o.value)==null||R.style.setProperty("transform",((F=de.value)==null?void 0:F.transform)||"none"),(T=o.value)==null||T.style.setProperty("transition",((Q=de.value)==null?void 0:Q.transition)||null)}),Nt(()=>{var F,R;(F=o.value)==null||F.style.setProperty("transform",g),(R=o.value)==null||R.style.setProperty("transition",C)})}),{isDragging:I,dragProgress:P,dragStyles:de}}function ye(){throw new Error}const il=["start","end","left","right","top","bottom"],ol=Ue({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>il.includes(e)},sticky:Boolean,...ua(),...oa(),...ia(),...na({mobile:null}),...la(),...aa(),...ta(),...ea({tag:"nav"}),...Jt()},"VNavigationDrawer"),_l=Le()({name:"VNavigationDrawer",props:ol(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,o){let{attrs:t,emit:d,slots:l}=o;const{isRtl:s}=Ut(),{themeClasses:i}=zt(e),{borderClasses:r}=Ht(e),{backgroundColorClasses:u,backgroundColorStyles:f}=We(()=>e.color),{elevationClasses:c}=Ot(e),{displayClasses:m,mobile:I}=qt(e),{roundedClasses:P}=Yt(e),k=jt(),L=he(e,"modelValue",null,X=>!!X),{ssrBootStyles:h}=Wt(),{scopeId:b}=Xt(),K=z(),W=ne(!1),{runOpenDelay:Z,runCloseDelay:de}=ra(e,X=>{W.value=X}),g=E(()=>e.rail&&e.expandOnHover&&W.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),C=E(()=>Kt(e.location,s.value)),x=Se(()=>e.persistent),D=E(()=>!e.permanent&&(I.value||e.temporary)),F=E(()=>e.sticky&&!D.value&&C.value!=="bottom");Ee(()=>e.expandOnHover&&e.rail!=null,()=>{re(W,X=>d("update:rail",!X))}),Ee(()=>!e.disableResizeWatcher,()=>{re(D,X=>!e.permanent&&Xe(()=>L.value=!X))}),Ee(()=>!e.disableRouteWatcher&&!!k,()=>{re(k.currentRoute,()=>D.value&&(L.value=!1))}),re(()=>e.permanent,X=>{X&&(L.value=!0)}),e.modelValue==null&&!D.value&&(L.value=e.permanent||!I.value);const{isDragging:R,dragProgress:Q}=nl({el:K,isActive:L,isTemporary:D,width:g,touchless:Se(()=>e.touchless),position:C}),T=E(()=>{const X=D.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):g.value;return R.value?X*Q.value:X}),{layoutItemStyles:ve,layoutItemScrimStyles:le}=Qt({id:e.name,order:E(()=>parseInt(e.order,10)),position:C,layoutSize:T,elementSize:g,active:Zt(L),disableTransitions:Se(()=>R.value),absolute:E(()=>e.absolute||F.value&&typeof pe.value!="string")}),{isStuck:pe,stickyStyles:ge}=Ja({rootEl:K,isSticky:F,layoutItemStyles:ve}),ue=We(()=>typeof e.scrim=="string"?e.scrim:null),Ye=E(()=>({...R.value?{opacity:Q.value*.2,transition:"none"}:void 0,...le.value}));return Gt({VList:{bgColor:"transparent"}}),ze(()=>{const X=l.image||e.image;return M(te,null,[a(e.tag,$({ref:K,onMouseenter:Z,onMouseleave:de,class:["v-navigation-drawer",`v-navigation-drawer--${C.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":W.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":D.value,"v-navigation-drawer--persistent":x.value,"v-navigation-drawer--active":L.value,"v-navigation-drawer--sticky":F.value},i.value,u.value,r.value,m.value,c.value,P.value,e.class],style:[f.value,ve.value,h.value,ge.value,e.style]},b,t),{default:()=>{var De,Ae,Be;return[X&&M("div",{key:"image",class:"v-navigation-drawer__img"},[l.image?a(He,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},l.image):a(sa,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),l.prepend&&M("div",{class:"v-navigation-drawer__prepend"},[(De=l.prepend)==null?void 0:De.call(l)]),M("div",{class:"v-navigation-drawer__content"},[(Ae=l.default)==null?void 0:Ae.call(l)]),l.append&&M("div",{class:"v-navigation-drawer__append"},[(Be=l.append)==null?void 0:Be.call(l)])]}}),a(ca,{name:"fade-transition"},{default:()=>[D.value&&(R.value||L.value)&&!!e.scrim&&M("div",$({class:["v-navigation-drawer__scrim",ue.backgroundColorClasses.value],style:[Ye.value,ue.backgroundColorStyles.value],onClick:()=>{x.value||(L.value=!1)}},b),null)]})])}),{isStuck:pe}}}),ul=da("v-picker-title"),sl=Ue({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,hideTitle:Boolean,...Aa()},"VPicker"),Il=Le()({name:"VPicker",props:sl(),setup(e,o){let{slots:t}=o;const{backgroundColorClasses:d,backgroundColorStyles:l}=We(()=>e.color);return ze(()=>{const s=it.filterProps(e),i=!e.hideTitle&&!!(e.title||t.title);return a(it,$(s,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!t.actions},e.class],style:e.style}),{default:()=>{var r;return[!e.hideHeader&&M("div",{key:"header",class:we([d.value]),style:Re([l.value])},[i&&a(ul,{key:"picker-title"},{default:()=>{var u;return[((u=t.title)==null?void 0:u.call(t))??e.title]}}),t.header&&M("div",{class:"v-picker__header"},[t.header()])]),M("div",{class:"v-picker__body"},[(r=t.default)==null?void 0:r.call(t)]),t.actions&&a(He,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[M("div",{class:"v-picker__actions"},[t.actions()])]})]}})}),{}}}),rl=Ue({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Xa({filterKeys:["title"]}),...$a(),...ga(Fa({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...pa({transition:!1})},"VAutocomplete"),bt=Le()({name:"VAutocomplete",props:rl(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,o){let{slots:t}=o;const{t:d}=va(),l=z(),s=ne(!1),i=ne(!0),r=ne(!1),u=z(),f=z(),c=ne(-1),{items:m,transformIn:I,transformOut:P}=Ba(e),{textColorClasses:k,textColorStyles:L}=fa(()=>{var v;return(v=l.value)==null?void 0:v.color}),h=he(e,"search",""),b=he(e,"modelValue",[],v=>I(v===null?[null]:ma(v)),v=>{const w=P(v);return e.multiple?w:w[0]??null}),K=E(()=>typeof e.counterValue=="function"?e.counterValue(b.value):typeof e.counterValue=="number"?e.counterValue:b.value.length),W=Ma(e),{filteredItems:Z,getMatches:de}=Wa(e,m,()=>i.value?"":h.value),g=E(()=>e.hideSelected?Z.value.filter(v=>!b.value.some(w=>w.value===v.value)):Z.value),C=E(()=>!!(e.chips||t.chip)),x=E(()=>C.value||!!t.selection),D=E(()=>b.value.map(v=>v.props.value)),F=E(()=>{var w;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&h.value===((w=g.value[0])==null?void 0:w.title))&&g.value.length>0&&!i.value&&!r.value}),R=E(()=>e.hideNoData&&!g.value.length||W.isReadonly.value||W.isDisabled.value),Q=he(e,"menu"),T=E({get:()=>Q.value,set:v=>{var w;Q.value&&!v&&((w=u.value)!=null&&w.ΨopenChildren.size)||v&&R.value||(Q.value=v)}}),{menuId:ve,ariaExpanded:le,ariaControls:pe,ariaLabel:ge}=Ea(e,T),ue=z(),Ye=Ra(ue,l);function X(v){e.openOnClear&&(T.value=!0),h.value=""}function De(){R.value||(T.value=!0)}function Ae(v){R.value||(s.value&&(v.preventDefault(),v.stopPropagation()),T.value=!T.value)}function Be(v){var w;(lt(v)||v.key==="Backspace")&&((w=l.value)==null||w.focus())}function kt(v){var A,H,G,se,B;if(W.isReadonly.value)return;const w=(A=l.value)==null?void 0:A.selectionStart,U=b.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(v.key)&&v.preventDefault(),["Enter","ArrowDown"].includes(v.key)&&(T.value=!0),["Escape"].includes(v.key)&&(T.value=!1),F.value&&["Enter","Tab"].includes(v.key)&&!b.value.some(N=>{let{value:j}=N;return j===g.value[0].value})&&fe(g.value[0]),v.key==="ArrowDown"&&F.value&&((H=ue.value)==null||H.focus("next")),["Backspace","Delete"].includes(v.key)){if(!e.multiple&&x.value&&b.value.length>0&&!h.value)return fe(b.value[0],!1);if(~c.value){v.preventDefault();const N=c.value;fe(b.value[c.value],!1),c.value=N>=U-1?U-2:N}else v.key==="Backspace"&&!h.value&&(c.value=U-1);return}if(e.multiple)if(v.key==="ArrowLeft"){if(c.value<0&&w&&w>0)return;const N=c.value>-1?c.value-1:U-1;if(b.value[N])c.value=N;else{const j=((G=h.value)==null?void 0:G.length)??null;c.value=-1,(se=l.value)==null||se.setSelectionRange(j,j)}}else if(v.key==="ArrowRight"){if(c.value<0)return;const N=c.value+1;b.value[N]?c.value=N:(c.value=-1,(B=l.value)==null||B.setSelectionRange(0,0))}else~c.value&&lt(v)&&(c.value=-1)}function St(v){if(nt(l.value,":autofill")||nt(l.value,":-webkit-autofill")){const w=m.value.find(U=>U.title===v.target.value);w&&fe(w)}}function wt(){var v;e.eager&&((v=f.value)==null||v.calculateVisibleItems())}function Pt(){var v;s.value&&(i.value=!0,(v=l.value)==null||v.focus())}function Ct(v){s.value=!0,setTimeout(()=>{r.value=!0})}function xt(v){r.value=!1}function _t(v){(v==null||v===""&&!e.multiple&&!x.value)&&(b.value=[])}const je=ne(!1);function fe(v){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!v||v.props.disabled))if(e.multiple){const U=b.value.findIndex(H=>(e.valueComparator||ya)(H.value,v.value)),A=w??!~U;if(~U){const H=A?[...b.value,v]:[...b.value];H.splice(U,1),b.value=H}else A&&(b.value=[...b.value,v]);e.clearOnSelect&&(h.value="")}else{const U=w!==!1;b.value=U?[v]:[],h.value=U&&!x.value?v.title:"",Xe(()=>{T.value=!1,i.value=!0})}}return re(s,(v,w)=>{var U;v!==w&&(v?(je.value=!0,h.value=e.multiple||x.value?"":String(((U=b.value.at(-1))==null?void 0:U.props.title)??""),i.value=!0,Xe(()=>je.value=!1)):(!e.multiple&&h.value==null&&(b.value=[]),T.value=!1,(e.multiple||x.value)&&(h.value=""),c.value=-1))}),re(h,v=>{!s.value||je.value||(v&&(T.value=!0),i.value=!v)}),re(T,()=>{if(!e.hideSelected&&T.value&&b.value.length){const v=g.value.findIndex(w=>b.value.some(U=>w.value===U.value));ft&&window.requestAnimationFrame(()=>{var w;v>=0&&((w=f.value)==null||w.scrollToIndex(v))})}}),re(()=>e.items,(v,w)=>{T.value||s.value&&!w.length&&v.length&&(T.value=!0)}),ze(()=>{const v=!!(!e.hideNoData||g.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),w=b.value.length>0,U=$e.filterProps(e);return a($e,$({ref:l},U,{modelValue:h.value,"onUpdate:modelValue":[A=>h.value=A,_t],focused:s.value,"onUpdate:focused":A=>s.value=A,validationValue:b.externalValue,counterValue:K.value,dirty:w,onChange:St,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":T.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!x.value,"v-autocomplete--selecting-index":c.value>-1},e.class],style:e.style,readonly:W.isReadonly.value,placeholder:w?void 0:e.placeholder,"onClick:clear":X,"onMousedown:control":De,onKeydown:kt,"aria-expanded":le.value,"aria-controls":pe.value}),{...t,default:()=>M(te,null,[a(Oe,$({id:ve.value,ref:u,modelValue:T.value,"onUpdate:modelValue":A=>T.value=A,activator:"parent",contentClass:"v-autocomplete__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:wt,onAfterLeave:Pt},e.menuProps),{default:()=>[v&&a(Fe,$({ref:ue,filterable:!0,selected:D.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:A=>A.preventDefault(),onKeydown:Be,onFocusin:Ct,onFocusout:xt,tabindex:"-1",selectable:!0,"aria-live":"polite",color:e.itemColor??e.color},Ye,e.listProps),{default:()=>{var A,H,G;return[(A=t["prepend-item"])==null?void 0:A.call(t),!g.value.length&&!e.hideNoData&&(((H=t["no-data"])==null?void 0:H.call(t))??a(oe,{key:"no-data",title:d(e.noDataText)},null)),a(Na,{ref:f,renderless:!0,items:g.value,itemKey:"value"},{default:se=>{var et,tt,at;let{item:B,index:N,itemRef:j}=se;const Je=$(B.props,{ref:j,key:B.value,active:F.value&&N===0?!0:void 0,onClick:()=>fe(B,null)});return B.type==="divider"?((et=t.divider)==null?void 0:et.call(t,{props:B.raw,index:N}))??a(Qe,$(B.props,{key:`divider-${N}`}),null):B.type==="subheader"?((tt=t.subheader)==null?void 0:tt.call(t,{props:B.raw,index:N}))??a(La,$(B.props,{key:`subheader-${N}`}),null):((at=t.item)==null?void 0:at.call(t,{item:B,index:N,props:Je}))??a(oe,$(Je,{role:"option"}),{prepend:Me=>{let{isSelected:It}=Me;return M(te,null,[e.multiple&&!e.hideSelected?a(Ua,{key:B.value,modelValue:It,ripple:!1,tabindex:"-1"},null):void 0,B.props.prependAvatar&&a(za,{image:B.props.prependAvatar},null),B.props.prependIcon&&a(O,{icon:B.props.prependIcon},null)])},title:()=>{var Me;return i.value?B.title:Ka("v-autocomplete",B.title,(Me=de(B))==null?void 0:Me.title)}})}}),(G=t["append-item"])==null?void 0:G.call(t)]}})]}),b.value.map((A,H)=>{function G(j){j.stopPropagation(),j.preventDefault(),fe(A,!1)}const se={"onClick:close":G,onKeydown(j){j.key!=="Enter"&&j.key!==" "||(j.preventDefault(),j.stopPropagation(),G(j))},onMousedown(j){j.preventDefault(),j.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},B=C.value?!!t.chip:!!t.selection,N=B?ba(C.value?t.chip({item:A,index:H,props:se}):t.selection({item:A,index:H})):void 0;if(!(B&&!N))return M("div",{key:A.value,class:we(["v-autocomplete__selection",H===c.value&&["v-autocomplete__selection--selected",k.value]]),style:Re(H===c.value?L.value:{})},[C.value?t.chip?a(He,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:A.title}}},{default:()=>[N]}):a(be,$({key:"chip",closable:e.closableChips,size:"small",text:A.title,disabled:A.props.disabled},se),null):N??M("span",{class:"v-autocomplete__selection-text"},[A.title,e.multiple&&H<b.value.length-1&&M("span",{class:"v-autocomplete__selection-comma"},[y(",")])])])})]),"append-inner":function(){var se,B;for(var A=arguments.length,H=new Array(A),G=0;G<A;G++)H[G]=arguments[G];return M(te,null,[(se=t["append-inner"])==null?void 0:se.call(t,...H),e.menuIcon?a(O,{class:"v-autocomplete__menu-icon",color:(B=l.value)==null?void 0:B.fieldIconColor,icon:e.menuIcon,onMousedown:Ae,onClick:ha,"aria-label":ge.value,title:ge.value,tabindex:"-1"},null):void 0])}})}),mt({isFocused:s,isPristine:i,menu:T,search:h,filteredItems:Z,select:fe},l)}}),Tl=ae({__name:"SelectCamp",props:Te({label:{},camps:{},readonly:{type:Boolean},defaultStyle:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,t=ke(e,"modelValue"),d=z(!1),l=E(()=>o.camps.filter(s=>d.value?!0:!s.IsOld).map(s=>({title:s.Label,value:s.Id})));return(s,i)=>(p(),_(yt,{density:o.defaultStyle?void 0:"compact",variant:o.defaultStyle?void 0:"outlined",label:o.label,readonly:o.readonly,items:l.value,clearable:"","model-value":V(Ge)(t.value),"onUpdate:modelValue":i[1]||(i[1]=r=>t.value=V(Ze)(r)),"no-data-text":"Aucun séjour n'existe.","hide-details":""},{prepend:n(()=>[a(Ie,{text:d.value?"Masquer les séjours terminés":"Afficher les séjours terminés"},{activator:n(({props:r})=>[a(J,$({size:"small",variant:d.value?"tonal":"flat"},r,{icon:"mdi-history",onClick:i[0]||(i[0]=u=>d.value=!d.value)}),null,16,["variant"])]),_:1},8,["text"])]),_:1},8,["density","variant","label","readonly","items","model-value"]))}}),cl=300,dl=ae({__name:"SelectDossier",props:Te({readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,t=ke(e,"modelValue"),d=z([]);Ne(s);function l(c){return{title:c.Responsable,subtitle:c.Participants,value:c.Id}}async function s(){const c=t.value;if(c==0)return;const m=await st.DossiersSearch(Ga(c));m!==void 0&&(d.value=(m.Dossiers||[]).map(l))}const i=z("");async function r(){if(!i.value)return;const c=ht();c.Pattern=i.value;const m=await st.DossiersSearch(c);m!==void 0&&(d.value=(m.Dossiers||[]).map(l))}let u;function f(c){i.value=c||"",clearTimeout(u),u=setTimeout(r,cl)}return(c,m)=>(p(),_(bt,{label:"Dossier",variant:"outlined",density:"compact",readonly:o.readonly,"hide-details":"",items:d.value,"no-filter":"","model-value":V(Ge)(t.value),"onUpdate:modelValue":m[0]||(m[0]=I=>t.value=V(Ze)(I)),search:i.value,"onUpdate:search":[m[1]||(m[1]=I=>i.value=I),f],clearable:"","no-data-text":i.value.length?"Aucun dossier ne correspond à votre recherche.":"Veuillez entrer une recherche."},{item:n(({item:I,props:P})=>[a(oe,$(P,{title:I.title,subtitle:I.raw.subtitle}),null,16,["title","subtitle"])]),_:1},8,["readonly","items","model-value","search","no-data-text"]))}}),vl=300,fl=ae({__name:"SelectPersonne",props:Te({label:{},initialPersonne:{},api:{},readonly:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,t=ke(e,"modelValue"),d=z(t.value==0?[]:[{title:o.initialPersonne,value:t.value}]),l=z("");async function s(){if(!l.value)return;const u=await o.api.SelectPersonne({search:l.value});u!==void 0&&(d.value=(u||[]).map(f=>({title:f.Label,value:f.Id})))}let i;function r(u){l.value=u||"",clearTimeout(i),i=setTimeout(s,vl)}return(u,f)=>(p(),_(bt,{label:o.label,variant:"outlined",density:"compact",readonly:o.readonly,"hide-details":"",items:d.value,"model-value":V(Ge)(t.value),"onUpdate:modelValue":f[0]||(f[0]=c=>t.value=V(Ze)(c)),search:l.value,"onUpdate:search":[f[1]||(f[1]=c=>l.value=c),r],clearable:"","no-data-text":l.value.length?"Aucun profil ne correspond à votre recherche.":"Veuillez entrer une recherche."},null,8,["label","readonly","items","model-value","search","no-data-text"]))}}),Vt=ae({__name:"StatutParticipantField",props:Te({hideDetails:{type:Boolean},readonly:{type:Boolean},rules:{},restrictItems:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,t=ke(e,"modelValue"),d=E(()=>Va(pt).filter(l=>o.restrictItems===void 0||o.restrictItems.includes(l.value)).map(l=>({value:l.value,title:l.title,format:Y.statutParticipant(l.value)})));return(l,s)=>(p(),_(yt,{label:"Statut",variant:"outlined",density:"compact",items:d.value,readonly:o.readonly,"hide-details":o.hideDetails,modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=i=>t.value=i),rules:o.rules},{item:n(({item:i,props:r})=>[a(oe,$(r,{title:i.title}),{prepend:n(()=>[a(O,{color:i.raw.format.color},{default:n(()=>[y(q(i.raw.format.icon),1)]),_:2},1032,["color"])]),_:2},1040,["title"])]),selection:n(({item:i})=>[a(oe,{title:i.title,density:"compact"},{prepend:n(()=>[a(O,{color:i.raw.format.color,size:"small"},{default:n(()=>[y(q(i.raw.format.icon),1)]),_:2},1032,["color"])]),_:2},1032,["title"])]),_:1},8,["items","readonly","hide-details","modelValue","rules"]))}}),Dl=ae({__name:"ParticipantEdit",props:{participant:{},personne:{},api:{},hidePersonneDossier:{type:Boolean},readonlyStatut:{type:Boolean}},emits:["save"],setup(e,{emit:o}){const t=e,d=o,l=z(ka(t.participant)),s=E(()=>!!(l.value.IdPersonne&&l.value.IdDossier));return(i,r)=>{const u=fl,f=dl,c=ja;return p(),_(xe,{title:"Editer le participant"},{default:n(()=>[a(_e,null,{default:n(()=>[a(Qa,null,{default:n(()=>[t.hidePersonneDossier?ce("",!0):(p(),_(ee,{key:0},{default:n(()=>[a(S,null,{default:n(()=>[a(u,{label:"Personne",modelValue:l.value.IdPersonne,"onUpdate:modelValue":r[0]||(r[0]=m=>l.value.IdPersonne=m),"initial-personne":V(Ve).label(t.personne),api:t.api},null,8,["modelValue","initial-personne","api"])]),_:1}),a(S,null,{default:n(()=>[a(f,{modelValue:l.value.IdDossier,"onUpdate:modelValue":r[1]||(r[1]=m=>l.value.IdDossier=m)},null,8,["modelValue"])]),_:1})]),_:1})),a(ee,null,{default:n(()=>[a(S,null,{default:n(()=>[a(Vt,{modelValue:l.value.Statut,"onUpdate:modelValue":r[2]||(r[2]=m=>l.value.Statut=m),"hide-details":"",readonly:t.readonlyStatut},null,8,["modelValue","readonly"])]),_:1})]),_:1}),a(ee,null,{default:n(()=>[a(S,null,{default:n(()=>[a(c,{modelValue:l.value.Navette,"onUpdate:modelValue":r[3]||(r[3]=m=>l.value.Navette=m)},null,8,["modelValue"])]),_:1}),a(S,null,{default:n(()=>[a($e,{modelValue:l.value.Commentaire,"onUpdate:modelValue":r[4]||(r[4]=m=>l.value.Commentaire=m),label:"Commentaire",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),a(qe,null,{default:n(()=>[a(me),a(J,{disabled:!s.value,onClick:r[5]||(r[5]=m=>d("save",l.value))},{default:n(()=>[...r[6]||(r[6]=[y("Enregistrer",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})}}}),Al=ae({__name:"ParticipantRow",props:{participant:{},index:{}},setup(e){const o=e,t=E(()=>"mx-2 px-2 rounded "+(o.index%2==0?"bg-grey-lighten-4":""));return(d,l)=>(p(),_(ee,{"no-gutters":"",class:we(t.value)},{default:n(()=>[a(S,{"align-self":"center",cols:"3"},{default:n(()=>[a(oe,{title:V(Ve).NOMPrenom(o.participant.Personne),class:"px-0"},{prepend:n(()=>[o.participant.Participant.Statut!=V(Pe).Inscrit?(p(),_(Ie,{key:0,text:V(pt)[o.participant.Participant.Statut]},{activator:n(({props:s})=>[a(O,$({color:V(Y).statutParticipant(o.participant.Participant.Statut).color},s),{default:n(()=>[y(q(V(Y).statutParticipant(o.participant.Participant.Statut).icon),1)]),_:1},16,["color"])]),_:1},8,["text"])):ce("",!0)]),_:1},8,["title"])]),_:1}),a(S,{"align-self":"center",cols:"1",class:"text-center"},{default:n(()=>[a(O,{class:"ma-2 mr-4"},{default:n(()=>[y(q(V(Y).sexeIcon(o.participant.Personne.Sexe)),1)]),_:1})]),_:1}),a(S,{"align-self":"center",cols:"1"},{default:n(()=>[a(ee,{"no-gutters":""},{default:n(()=>[a(S,{"align-self":"end",class:"text-center"},{default:n(()=>[y(q(V(Y).dateNaissance(o.participant.Personne.DateNaissance)),1)]),_:1}),a(S,{"align-self":"end",cols:"auto"},{default:n(()=>[o.participant.HasBirthday?(p(),_(Ie,{key:0,text:`${o.participant.Personne.Prenom} a son anniveraire pendant le séjour !`},{activator:n(({props:s})=>[a(O,$(s,{color:"pink"}),{default:n(()=>[...l[0]||(l[0]=[y("mdi-cake-variant",-1)])]),_:1},16)]),_:1},8,["text"])):ce("",!0)]),_:1})]),_:1})]),_:1}),a(S,{"align-self":"center",cols:"1",class:"text-center"},{default:n(()=>[y(q(o.participant.Age)+" ans ",1)]),_:1}),a(S,{"align-self":"center",cols:"1",class:"text-center"},{default:n(()=>[y(q(o.participant.Participant.Navette==V(Sa).NoBus?"-":V(wa)[o.participant.Participant.Navette]),1)]),_:1}),a(S,{"align-self":"center"},{default:n(()=>[y(q(o.participant.Participant.Commentaire),1)]),_:1}),a(me),a(S,{cols:"2","align-self":"center"},{default:n(()=>[y(q(V(Y).time(o.participant.MomentInscription)),1)]),_:1}),a(S,{"align-self":"center",cols:"auto"},{default:n(()=>[a(Oe,null,{activator:n(({props:s})=>[a(J,$(s,{icon:"mdi-dots-vertical",size:"x-small"}),null,16)]),default:n(()=>[Ke(d.$slots,"actions")]),_:3})]),_:3})]),_:3},8,["class"]))}}),Bl=ae({__name:"ParticipantRowHeader",setup(e){return(o,t)=>(p(),_(ee,{"no-gutters":"",class:"mx-2 px-2"},{default:n(()=>[a(S,{class:"font-weight-bold","align-self":"center",cols:"3"},{default:n(()=>[...t[0]||(t[0]=[y(" Participant ",-1)])]),_:1}),a(S,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:n(()=>[...t[1]||(t[1]=[y(" Sexe ",-1)])]),_:1}),a(S,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:n(()=>[...t[2]||(t[2]=[y(" Date de naissance ",-1)])]),_:1}),a(S,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:n(()=>[...t[3]||(t[3]=[y(" Age ",-1)])]),_:1}),a(S,{class:"font-weight-bold text-center","align-self":"center",cols:"1"},{default:n(()=>[...t[4]||(t[4]=[y(" Navette ",-1)])]),_:1}),a(S,{class:"font-weight-bold","align-self":"center"},{default:n(()=>[...t[5]||(t[5]=[y(" Commentaire ",-1)])]),_:1}),a(me),a(S,{class:"font-weight-bold text-center",cols:"2"},{default:n(()=>[...t[6]||(t[6]=[y(" Inscription ",-1)])]),_:1}),a(S,{cols:"auto"},{default:n(()=>[a(J,{size:"x-small",color:"white",icon:"",flat:""})]),_:1})]),_:1}))}}),ml=ae({__name:"CardValideParticipantRow",props:Te({participant:{},statut:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=e,t=ke(e,"modelValue");function d(l){return l.AgeMin?l.AgeMax?l.EquilibreGF?l.Place?"":"Camp complet":"Equilibre G./F.":`Trop âgé${Y.accord(o.participant.Personne.Sexe)}`:"Trop jeune"}return(l,s)=>{const i=Vt;return p(),_(ee,null,{default:n(()=>[a(S,{cols:"4","align-self":"center"},{default:n(()=>[a(oe,{title:V(Ve).label(o.participant.Personne),subtitle:V(gt).label(o.participant.Camp)},null,8,["title","subtitle"])]),_:1}),a(S,{cols:"3","align-self":"center",class:"text-center"},{default:n(()=>[o.statut.Statut!=V(Pe).Inscrit?(p(),_(be,{key:0,color:"warning","prepend-icon":"mdi-alert"},{default:n(()=>[y(q(d(o.statut.Causes)),1)]),_:1})):ce("",!0)]),_:1}),a(S,{"align-self":"center"},{default:n(()=>{var r;return[o.statut.Validable?(p(),_(i,{key:0,modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=u=>t.value=u),"hide-details":"",readonly:!((r=o.statut.AllowedChanges)!=null&&r.length),"restrict-items":(o.statut.AllowedChanges||[]).concat(o.statut.Statut)},null,8,["modelValue","readonly","restrict-items"])):o.participant.Participant.Statut!=V(Pe).AStatuer?(p(),_(be,{key:1,size:"small"},{default:n(()=>[...s[1]||(s[1]=[y(" Inscription déjà validée. ",-1)])]),_:1})):(p(),_(be,{key:2,size:"small"},{default:n(()=>[...s[2]||(s[2]=[y(" Seul le centre peut accepter cette inscription. ",-1)])]),_:1}))]}),_:1})]),_:1})}}}),Ml=ae({__name:"CardValide",props:{inscription:{},idParticipants:{}},emits:["valide"],setup(e,{emit:o}){const t=e,d=o,l=E(()=>(t.inscription.Participants||[]).filter(r=>t.idParticipants?t.idParticipants.includes(r.Participant.Id):!0)),s=z(Object.fromEntries(l.value.filter(r=>(t.inscription.StatutHints||{})[r.Participant.Id].Validable).map(r=>[r.Participant.Id,(t.inscription.StatutHints||{})[r.Participant.Id].Statut]))),i=E(()=>Object.values(s.value).length>0);return(r,u)=>(p(),_(xe,{title:"Valider l'inscription",subtitle:"Un mail de confirmation va être envoyé."},{default:n(()=>[a(_e,null,{default:n(()=>[(p(!0),ie(te,null,Ce(l.value,f=>(p(),_(ml,{participant:f,statut:(t.inscription.StatutHints||{})[f.Participant.Id],modelValue:s.value[f.Participant.Id],"onUpdate:modelValue":c=>s.value[f.Participant.Id]=c},null,8,["participant","statut","modelValue","onUpdate:modelValue"]))),256))]),_:1}),a(qe,null,{default:n(()=>[a(J,{onClick:u[0]||(u[0]=f=>d("valide",s.value,!1)),disabled:!i.value},{default:n(()=>[...u[2]||(u[2]=[y("Valider sans notification",-1)])]),_:1},8,["disabled"]),a(me),a(J,{onClick:u[1]||(u[1]=f=>d("valide",s.value,!0)),disabled:!i.value},{default:n(()=>[...u[3]||(u[3]=[y("Valider",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1}))}}),pl=300,gl=ae({__name:"DebounceField",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=e,t=z(""),d=ke(e,"modelValue");re(()=>d.value,()=>{t.value=d.value});let l;function s(i){if(t.value=i||"",clearTimeout(l),!i){d.value=t.value;return}l=setTimeout(()=>{d.value=t.value},pl)}return(i,r)=>(p(),_($e,$(o,{modelValue:t.value,"onUpdate:modelValue":[r[0]||(r[0]=u=>t.value=u),s]}),{"append-inner":n(()=>[Ke(i.$slots,"append-inner")]),append:n(()=>[Ke(i.$slots,"append")]),_:3},16,["modelValue"]))}}),yl={key:0},hl=ae({__name:"CardSimilaires",props:{personne:{},api:{}},emits:["identifie"],setup(e,{emit:o}){const t=e,d=o;Ne(s);const l=z([]);async function s(){const P=await t.api.SearchSimilaires({idPersonne:t.personne.Id});P!==void 0&&(l.value=P||[])}const i=z(!1),r=z(""),u=z([]);async function f(){if((r.value||"").length<3)return;const P=await t.api.SelectPersonne({search:r.value});P!==void 0&&(u.value=P||[])}function c(){d("identifie",{IdTemporaire:t.personne.Id,Rattache:!1,RattacheTo:0})}function m(P){d("identifie",{IdTemporaire:t.personne.Id,Rattache:!0,RattacheTo:P})}function I(P){const k=Math.floor(P*2);return`rgb(${255-k},${k}, 15)`}return(P,k)=>{const L=gl;return p(),_(xe,{title:"Identifier le profil",width:"600px",subtitle:i.value?"":"Liste des profils similaires"},{default:n(()=>[a(_e,{class:"pb-0"},{default:n(()=>[i.value?(p(),ie("div",yl,[a(L,{modelValue:r.value,"onUpdate:modelValue":[k[0]||(k[0]=h=>r.value=h),f],label:"Rechercher un profil",density:"comfortable",clearable:"",autofocus:"","hide-details":""},null,8,["modelValue"]),a(Fe,{density:"compact"},{default:n(()=>[r.value.length>=3&&!u.value.length?(p(),_(ee,{key:0,class:"ma-2","no-gutters":""},{default:n(()=>[a(S,{class:"text-center"},{default:n(()=>[...k[3]||(k[3]=[M("i",null,"Aucun profil ne correspond à votre recherche.",-1)])]),_:1})]),_:1})):ce("",!0),(p(!0),ie(te,null,Ce(u.value,(h,b)=>(p(),_(oe,{key:b,title:h.Label,subtitle:V(Y).dateNaissance(h.DateNaissance),"append-icon":V(Y).sexeIcon(h.Sexe),onClick:K=>m(h.Id)},null,8,["title","subtitle","append-icon","onClick"]))),128))]),_:1})])):(p(),_(Fe,{key:1,density:"compact"},{default:n(()=>[l.value.length?ce("",!0):(p(),_(ee,{key:0,class:"mx-2","no-gutters":""},{default:n(()=>[a(S,{class:"text-center"},{default:n(()=>[...k[4]||(k[4]=[M("i",null,"Aucun profil existant sur la base n'est similaire.",-1)])]),_:1})]),_:1})),(p(!0),ie(te,null,Ce(l.value,(h,b)=>(p(),_(oe,{key:b,title:h.Personne.Label,subtitle:V(Y).dateNaissance(h.Personne.DateNaissance),"prepend-icon":V(Y).sexeIcon(h.Personne.Sexe),onClick:K=>m(h.Personne.Id)},{append:n(()=>[a(be,{color:I(h.ScorePercent)},{default:n(()=>[y(q(h.ScorePercent)+" % ",1)]),_:2},1032,["color"])]),_:2},1032,["title","subtitle","prepend-icon","onClick"]))),128))]),_:1}))]),_:1}),a(qe,null,{default:n(()=>[a(J,{onClick:k[1]||(k[1]=h=>{i.value=!i.value,r.value=""})},{default:n(()=>[y(q(i.value?"Retour aux suggestions":"Chercher manuellement"),1)]),_:1}),a(me),a(J,{variant:"elevated",elevation:"1",onClick:k[2]||(k[2]=h=>c())},{prepend:n(()=>[a(O,null,{default:n(()=>[...k[5]||(k[5]=[y("mdi-plus",-1)])]),_:1})]),default:n(()=>[k[6]||(k[6]=y(" Créer un nouveau profil",-1))]),_:1})]),_:1})]),_:1},8,["subtitle"])}}}),dt=ae({__name:"InscriptionEtatcivilCols",props:{personne:{},api:{}},emits:["identifie"],setup(e,{emit:o}){const t=e,d=o;return(l,s)=>(p(),ie(te,null,[a(S,{"align-self":"center",cols:"4"},{default:n(()=>[a(Ie,null,{activator:n(({props:i})=>[t.personne.IsTemp?(p(),_(Oe,{key:0,"close-on-content-click":!1},{activator:n(({props:r})=>[a(be,$({label:""},$(r,i)),{prepend:n(()=>[a(O,{class:"mr-2",icon:"mdi-alert",color:"orange"})]),default:n(()=>[y(" "+q(V(Ve).label(t.personne)),1)]),_:1},16)]),default:n(()=>[a(hl,{api:t.api,personne:t.personne,onIdentifie:s[0]||(s[0]=r=>d("identifie",r))},null,8,["api","personne"])]),_:2},1024)):(p(),ie("div",Pa($({key:1},i)),q(V(Ve).label(t.personne)),17))]),default:n(()=>[t.personne.IsTemp?(p(),ie(te,{key:0},[y(" Ce profil est temporaire et doit être identifié. ")],64)):(p(),ie(te,{key:1},[y(" Ce profil est identifié (ID: "+q(t.personne.Id)+"). ",1)],64))]),_:1})]),_:1}),a(S,{"align-self":"center",cols:"auto"},{default:n(()=>[a(O,{icon:V(Y).sexeIcon(t.personne.Sexe),class:"mx-4"},null,8,["icon"])]),_:1}),a(S,{"align-self":"center",cols:"2"},{default:n(()=>[s[1]||(s[1]=M("small",{class:"text-grey"},"né(e) le",-1)),y(" "+q(V(Y).dateNaissance(t.personne.DateNaissance)),1)]),_:1})],64))}}),El=ae({__name:"InscriptionRow",props:{inscription:{},api:{},user:{},hideDelete:{type:Boolean},alreadyValidated:{type:Boolean}},emits:["identifie","valide","merge","delete","deleteParticipant"],setup(e,{emit:o}){const t=e,d=o,l=E(()=>{var r;return!t.inscription.Responsable.IsTemp&&!!((r=t.inscription.Participants)!=null&&r.every(u=>!u.Personne.IsTemp))});function s(r){return l.value&&(t.user===null||t.user==r.IdCamp)}const i=z(null);return(r,u)=>(p(),_(xe,{subtitle:V(Y).time(t.inscription.Dossier.MomentInscription,!0,!0)},{append:n(()=>{var f;return[r.alreadyValidated?(p(),_(Ie,{key:0,text:"En attente de validation par les autres séjours"},{activator:n(({props:c})=>[a(O,$(c,{color:"green"}),{default:n(()=>[...u[7]||(u[7]=[y(" mdi-check ",-1)])]),_:1},16)]),_:1})):(p(),_(J,{key:1,disabled:!l.value||!((f=t.inscription.Participants)!=null&&f.length),onClick:u[0]||(u[0]=c=>d("valide"))},{prepend:n(()=>[a(O,null,{default:n(()=>[...u[8]||(u[8]=[y("mdi-check-all",-1)])]),_:1})]),default:n(()=>[u[9]||(u[9]=y(" Tout valider",-1))]),_:1},8,["disabled"])),t.hideDelete?ce("",!0):(p(),_(Oe,{key:2},{activator:n(({props:c})=>[a(J,$(c,{variant:"flat",icon:"mdi-dots-vertical",size:"small",class:"ml-1"}),null,16)]),default:n(()=>[a(Fe,{density:"compact"},{default:n(()=>[a(oe,{"prepend-icon":"mdi-file-move",onClick:u[1]||(u[1]=c=>d("merge")),title:"Fusionner vers ..."}),a(Qe),a(oe,{title:"Supprimer","prepend-icon":"mdi-delete",onClick:u[2]||(u[2]=c=>d("delete"))})]),_:1})]),_:1}))]}),default:n(()=>[a(_e,null,{default:n(()=>[a(ee,null,{default:n(()=>[a(S,{cols:"7"},{default:n(()=>[a(ee,{"no-gutters":"",class:"my-0 py-1"},{default:n(()=>[a(dt,{api:t.api,personne:t.inscription.Responsable,onIdentifie:u[3]||(u[3]=f=>d("identifie",f))},null,8,["api","personne"])]),_:1}),a(Qe,{thickness:"1"}),(p(!0),ie(te,null,Ce(t.inscription.Participants,(f,c)=>(p(),_(ee,{"no-gutters":"",class:"my-0 py-1",key:c},{default:n(()=>[a(dt,{api:t.api,personne:f.Personne,onIdentifie:u[4]||(u[4]=m=>d("identifie",m))},null,8,["api","personne"]),a(S,{"align-self":"center",cols:"3",class:"text-center"},{default:n(()=>[y(q(V(gt).label(f.Camp)),1)]),_:2},1024),a(me),a(S,{"align-self":"center",cols:"1",class:"pr-2 text-center"},{default:n(()=>[f.Participant.Statut!=V(Pe).AStatuer?(p(),_(O,{key:0,color:V(Y).statutParticipant(f.Participant.Statut).color,icon:V(Y).statutParticipant(f.Participant.Statut).icon},null,8,["color","icon"])):s(f.Participant)?(p(),_(J,{key:1,size:"small",title:"Valider ce participant...",onClick:m=>d("valide",f.Participant.Id)},{default:n(()=>[a(O,{icon:V(Y).statutParticipant(V(Pe).AStatuer).icon},null,8,["icon"]),a(O,null,{default:n(()=>[...u[10]||(u[10]=[y("mdi-arrow-right",-1)])]),_:1}),a(O,{icon:V(Y).statutParticipant((t.inscription.StatutHints||{})[f.Participant.Id].Statut).icon,color:V(Y).statutParticipant((t.inscription.StatutHints||{})[f.Participant.Id].Statut).color},null,8,["icon","color"])]),_:2},1032,["onClick"])):ce("",!0)]),_:2},1024),t.hideDelete?ce("",!0):(p(),_(S,{key:0,"align-self":"center",cols:"auto"},{default:n(()=>[a(J,{icon:"",size:"x-small",onClick:m=>i.value=f,title:"Supprimer ce participant..."},{default:n(()=>[a(O,{color:"red"},{default:n(()=>[...u[11]||(u[11]=[y("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1024))]),_:2},1024))),128))]),_:1}),a(S,{cols:"5"},{default:n(()=>[a(ee,{"no-gutters":""},{default:n(()=>[a(S,{cols:"auto",class:"px-2"},{default:n(()=>[a(O,{color:t.inscription.Message.length?"secondary":"grey"},{default:n(()=>[...u[12]||(u[12]=[y("mdi-message",-1)])]),_:1},8,["color"])]),_:1}),a(S,null,{default:n(()=>[(p(!0),ie(te,null,Ce(t.inscription.Message.split(`
`),(f,c)=>(p(),ie("div",{key:c},q(f),1))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Ha,{"model-value":i.value!=null,"onUpdate:modelValue":u[6]||(u[6]=f=>i.value=null),"max-width":"600px"},{default:n(()=>[i.value?(p(),_(xe,{key:0,title:"Confirmation"},{default:n(()=>[a(_e,null,{default:n(()=>[u[13]||(u[13]=y(" Confirmez-vous la suppression du participant ",-1)),M("b",null,q(V(Ve).label(i.value.Personne)),1),u[14]||(u[14]=y(" ? ",-1)),u[15]||(u[15]=M("br",null,null,-1)),u[16]||(u[16]=M("br",null,null,-1)),u[17]||(u[17]=y(" Attention, cette opération est irréversible. ",-1))]),_:1}),a(qe,null,{default:n(()=>[a(me),a(J,{color:"red",onClick:u[5]||(u[5]=f=>{d("deleteParticipant",i.value.Participant.Id),i.value=null})},{default:n(()=>[...u[18]||(u[18]=[y("Supprimer",-1)])]),_:1})]),_:1})]),_:1})):ce("",!0)]),_:1},8,["model-value"])]),_:1},8,["subtitle"]))}}),bl=Ue({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Ya(),...qa()},"VSwitch"),Rl=Le()({name:"VSwitch",inheritAttrs:!1,props:bl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,o){let{attrs:t,slots:d}=o;const l=he(e,"indeterminate"),s=he(e,"modelValue"),{loaderClasses:i}=Ca(e),{isFocused:r,focus:u,blur:f}=Oa(e),c=z(),m=z(),I=ft&&window.matchMedia("(forced-colors: active)").matches,P=Se(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),k=xa(),L=Se(()=>e.id||`switch-${k}`);function h(){l.value&&(l.value=!1)}function b(K){var W,Z;K.stopPropagation(),K.preventDefault(),(Z=(W=c.value)==null?void 0:W.input)==null||Z.click()}return ze(()=>{const[K,W]=_a(t),Z=ot.filterProps(e),de=ut.filterProps(e);return a(ot,$({ref:m,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":l.value},i.value,e.class]},K,Z,{modelValue:s.value,"onUpdate:modelValue":g=>s.value=g,id:L.value,focused:r.value,style:e.style}),{...d,default:g=>{let{id:C,messagesId:x,isDisabled:D,isReadonly:F,isValid:R}=g;const Q={model:s,isValid:R};return a(ut,$({ref:c},de,{modelValue:s.value,"onUpdate:modelValue":[T=>s.value=T,h],id:C.value,"aria-describedby":x.value,type:"checkbox","aria-checked":l.value?"mixed":void 0,disabled:D.value,readonly:F.value,onFocus:u,onBlur:f},W),{...d,default:T=>{let{backgroundColorClasses:ve,backgroundColorStyles:le}=T;return M("div",{class:we(["v-switch__track",I?void 0:ve.value]),style:Re(le.value),onClick:b},[d["track-true"]&&M("div",{key:"prepend",class:"v-switch__track-true"},[d["track-true"](Q)]),d["track-false"]&&M("div",{key:"append",class:"v-switch__track-false"},[d["track-false"](Q)])])},input:T=>{let{inputNode:ve,icon:le,backgroundColorClasses:pe,backgroundColorStyles:ge}=T;return M(te,null,[ve,M("div",{class:we(["v-switch__thumb",{"v-switch__thumb--filled":le||e.loading},e.inset||I?void 0:pe.value]),style:Re(e.inset?void 0:ge.value)},[d.thumb?a(He,{defaults:{VIcon:{icon:le,size:"x-small"}}},{default:()=>[d.thumb({...Q,icon:le})]}):a(Ia,null,{default:()=>[e.loading?a(Ta,{name:"v-switch",active:!0,color:R.value===!1?void 0:P.value},{default:ue=>d.loader?d.loader(ue):a(Da,{active:ue.isActive,color:ue.color,indeterminate:!0,size:"16",width:"2"},null)}):le&&a(O,{key:String(le),icon:le,size:"x-small"},null)]})])])}})}})}),mt({},m)}});export{_l as V,Bl as _,Il as a,bt as b,st as c,fl as d,dl as e,Dl as f,Tl as g,Al as h,xl as i,El as j,Ml as k,gl as l,sl as m,Rl as n,ht as o,Ga as p};
