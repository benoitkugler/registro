-- generated by make_sql.go DO NOT EDIT.

DROP TYPE IF EXISTS Nationnalite;

CREATE TYPE Nationnalite AS (
    IsSuisse boolean
);

DROP TYPE IF EXISTS Publicite;

CREATE TYPE Publicite AS (
    VersionPapier boolean,
    PubHiver boolean,
    PubEte boolean,
    EchoRocher boolean,
    Eonews boolean
);

DROP TYPE IF EXISTS Montant;

CREATE TYPE Montant AS (
    Cent integer,
    Currency smallint
);

DROP TYPE IF EXISTS DocumentsToShow;

CREATE TYPE DocumentsToShow AS (
    LettreDirecteur boolean,
    ListeVetements boolean,
    ListeParticipants boolean,
    CharteParticipant boolean
);

DROP TYPE IF EXISTS PresenceOffsets;

CREATE TYPE PresenceOffsets AS (
    Debut integer,
    Fin integer
);

CREATE TABLE ficheequipiers (
    IdPersonne integer NOT NULL,
    SecuriteSociale text NOT NULL,
    Fonctionnaire boolean NOT NULL,
    Diplome smallint CHECK (Diplome IN (0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19)) NOT NULL,
    Approfondissement smallint CHECK (Approfondissement IN (0, 1, 2, 3, 4, 5)) NOT NULL,
    EtatCivil smallint CHECK (EtatCivil IN (0, 1, 2)) NOT NULL,
    NombreEnfants integer NOT NULL,
    Formation text NOT NULL,
    Profession text NOT NULL,
    ExperienceTravailJeunes text NOT NULL,
    ParcoursSpirituel text NOT NULL,
    Eglise text NOT NULL,
    Recommandation jsonb NOT NULL,
    Sante text NOT NULL,
    AssuranceMaladie text NOT NULL,
    AssuranceAccident text NOT NULL,
    DemandeMembreAssoPermanent boolean NOT NULL,
    guard boolean NOT NULL
);

CREATE TABLE fichesanitaires (
    IdPersonne integer NOT NULL,
    DifficultesSante text NOT NULL,
    AllergiesAlimentaires text NOT NULL,
    TraitementMedical text NOT NULL,
    Medecin jsonb NOT NULL,
    AutreContact jsonb NOT NULL,
    Modified timestamp(0) with time zone NOT NULL,
    Owners text[],
    guard boolean NOT NULL
);

CREATE TABLE personnes (
    Id serial PRIMARY KEY,
    Nom text NOT NULL,
    Prenom text NOT NULL,
    Sexe smallint CHECK (Sexe IN (0, 1, 2)) NOT NULL,
    DateNaissance date NOT NULL,
    Nationnalite Nationnalite NOT NULL,
    Tels text[],
    Mail text NOT NULL,
    Adresse text NOT NULL,
    CodePostal text NOT NULL,
    Ville text NOT NULL,
    Pays text NOT NULL,
    Publicite Publicite NOT NULL,
    CharteAccepted timestamp(0) with time zone NOT NULL,
    IsTemp boolean NOT NULL
);

CREATE TABLE dossiers (
    Id serial PRIMARY KEY,
    IdTaux integer NOT NULL,
    IdResponsable integer NOT NULL,
    CopiesMails text[],
    PartageAdressesOK boolean NOT NULL,
    DemandeFondSoutien boolean NOT NULL,
    IsValidated boolean NOT NULL,
    MomentInscription timestamp(0) with time zone NOT NULL,
    LastLoadDocuments timestamp(0) with time zone NOT NULL,
    KeyV1 text NOT NULL
);

CREATE TABLE paiements (
    Id serial PRIMARY KEY,
    IdDossier integer NOT NULL,
    IsRemboursement boolean NOT NULL,
    Montant Montant NOT NULL,
    Payeur text NOT NULL,
    Mode smallint CHECK (Mode IN (0, 1, 2, 3, 4, 5)) NOT NULL,
    Time timestamp(0) with time zone NOT NULL,
    Label text NOT NULL,
    Details text NOT NULL
);

CREATE TABLE tauxs (
    Id serial PRIMARY KEY,
    Label text NOT NULL,
    Euros integer NOT NULL,
    FrancsSuisse integer NOT NULL
);

CREATE TABLE aides (
    Id serial PRIMARY KEY,
    IdStructureaide integer NOT NULL,
    IdParticipant integer NOT NULL,
    Valide boolean NOT NULL,
    Valeur Montant NOT NULL,
    ParJour boolean NOT NULL,
    NbJoursMax integer NOT NULL
);

CREATE TABLE camps (
    Id serial PRIMARY KEY,
    IdTaux integer NOT NULL,
    Nom text NOT NULL,
    DateDebut date NOT NULL,
    Duree integer NOT NULL,
    Lieu text NOT NULL,
    Agrement text NOT NULL,
    ImageURL text NOT NULL,
    Description text NOT NULL,
    Navette jsonb NOT NULL,
    Places integer NOT NULL,
    AgeMin integer NOT NULL,
    AgeMax integer NOT NULL,
    NeedEquilibreGF boolean NOT NULL,
    InscriptionExterne boolean NOT NULL,
    Statut smallint CHECK (Statut IN (0, 1, 2)) NOT NULL,
    Prix Montant NOT NULL,
    OptionPrix jsonb NOT NULL,
    OptionQuotientFamilial integer[] CHECK (array_length(OptionQuotientFamilial, 1) = 4) NOT NULL,
    Password text NOT NULL,
    DocumentsReady boolean NOT NULL,
    DocumentsToShow DocumentsToShow NOT NULL,
    Vetements jsonb NOT NULL,
    AlbumID text NOT NULL,
    Meta jsonb NOT NULL
);

CREATE TABLE equipiers (
    Id serial PRIMARY KEY,
    IdCamp integer NOT NULL,
    IdPersonne integer NOT NULL,
    Roles smallint[],
    Presence PresenceOffsets NOT NULL,
    FormStatus smallint CHECK (FormStatus IN (0, 1, 2)) NOT NULL,
    AccepteCharte boolean
);

CREATE TABLE groupes (
    Id serial PRIMARY KEY,
    IdCamp integer NOT NULL,
    Nom text NOT NULL,
    Couleur text NOT NULL,
    Fin date NOT NULL
);

CREATE TABLE groupe_participants (
    IdParticipant integer NOT NULL,
    IdGroupe integer NOT NULL,
    IdCamp integer NOT NULL,
    Manuel boolean NOT NULL
);

CREATE TABLE lettre_images (
    Id serial PRIMARY KEY,
    Filename text NOT NULL,
    Content bytea NOT NULL
);

CREATE TABLE lettredirecteurs (
    IdCamp integer NOT NULL,
    Html text NOT NULL,
    UseCoordCentre boolean NOT NULL,
    ShowAdressePostale boolean NOT NULL,
    ColorCoord text NOT NULL
);

CREATE TABLE participants (
    Id serial PRIMARY KEY,
    IdCamp integer NOT NULL,
    IdPersonne integer NOT NULL,
    IdDossier integer NOT NULL,
    IdTaux integer NOT NULL,
    Statut smallint CHECK (Statut IN (0, 1, 2, 3, 4, 5)) NOT NULL,
    Remises jsonb NOT NULL,
    QuotientFamilial integer NOT NULL,
    OptionPrix jsonb NOT NULL,
    Commentaire text NOT NULL,
    Navette smallint CHECK (Navette IN (0, 1, 2, 3)) NOT NULL
);

CREATE TABLE sondages (
    Id serial PRIMARY KEY,
    IdCamp integer NOT NULL,
    IdDossier integer NOT NULL,
    Modified timestamp(0) with time zone NOT NULL,
    InfosAvantSejour smallint CHECK (InfosAvantSejour IN (0, 1, 2, 3, 4)) NOT NULL,
    InfosPendantSejour smallint CHECK (InfosPendantSejour IN (0, 1, 2, 3, 4)) NOT NULL,
    Hebergement smallint CHECK (Hebergement IN (0, 1, 2, 3, 4)) NOT NULL,
    Activites smallint CHECK (Activites IN (0, 1, 2, 3, 4)) NOT NULL,
    Theme smallint CHECK (Theme IN (0, 1, 2, 3, 4)) NOT NULL,
    Nourriture smallint CHECK (Nourriture IN (0, 1, 2, 3, 4)) NOT NULL,
    Hygiene smallint CHECK (Hygiene IN (0, 1, 2, 3, 4)) NOT NULL,
    Ambiance smallint CHECK (Ambiance IN (0, 1, 2, 3, 4)) NOT NULL,
    Ressenti smallint CHECK (Ressenti IN (0, 1, 2, 3, 4)) NOT NULL,
    MessageEnfant text NOT NULL,
    MessageResponsable text NOT NULL
);

CREATE TABLE structureaides (
    Id serial PRIMARY KEY,
    Nom text NOT NULL,
    Immatriculation text NOT NULL,
    Info text NOT NULL
);

CREATE TABLE demandes (
    Id serial PRIMARY KEY,
    IdFile integer,
    IdDirecteur integer,
    Categorie smallint CHECK (Categorie IN (0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13)) NOT NULL,
    Description text NOT NULL,
    MaxDocs integer NOT NULL,
    JoursValide integer NOT NULL
);

CREATE TABLE demande_camps (
    IdCamp integer NOT NULL,
    IdDemande integer NOT NULL
);

CREATE TABLE demande_equipiers (
    IdEquipier integer NOT NULL,
    IdDemande integer NOT NULL,
    Optionnelle boolean NOT NULL
);

CREATE TABLE files (
    Id serial PRIMARY KEY,
    Taille integer NOT NULL,
    NomClient text NOT NULL,
    Uploaded timestamp(0) with time zone NOT NULL
);

CREATE TABLE file_aides (
    IdFile integer NOT NULL,
    IdAide integer NOT NULL
);

CREATE TABLE file_camps (
    IdFile integer NOT NULL,
    IdCamp integer NOT NULL,
    IsLettre boolean NOT NULL
);

CREATE TABLE file_personnes (
    IdFile integer NOT NULL,
    IdPersonne integer NOT NULL,
    IdDemande integer NOT NULL,
    guard boolean NOT NULL
);

CREATE TABLE inscriptions (
    Id serial PRIMARY KEY,
    IdTaux integer NOT NULL,
    Responsable jsonb NOT NULL,
    Message text NOT NULL,
    CopiesMails text[],
    PartageAdressesOK boolean NOT NULL,
    DemandeFondSoutien boolean NOT NULL,
    DateHeure timestamp(0) with time zone NOT NULL,
    ConfirmedAsDossier integer
);

CREATE TABLE inscription_participants (
    IdInscription integer NOT NULL,
    IdCamp integer NOT NULL,
    IdTaux integer NOT NULL,
    Nom text NOT NULL,
    Prenom text NOT NULL,
    DateNaissance date NOT NULL,
    Sexe smallint CHECK (Sexe IN (0, 1, 2)) NOT NULL,
    Nationnalite Nationnalite NOT NULL
);

CREATE TABLE events (
    Id serial PRIMARY KEY,
    IdDossier integer NOT NULL,
    Kind smallint CHECK (Kind IN (0, 1, 2, 3, 4, 5, 6, 7)) NOT NULL,
    Created timestamp(0) with time zone NOT NULL
);

CREATE TABLE event_attestations (
    IdEvent integer NOT NULL,
    Distribution smallint CHECK (Distribution IN (0, 1, 2)) NOT NULL,
    IsPresence boolean NOT NULL,
    guard smallint CHECK (guard IN (0, 1, 2, 3, 4, 5, 6, 7)) NOT NULL
);

CREATE TABLE event_camp_docss (
    IdEvent integer NOT NULL,
    IdCamp integer NOT NULL,
    guard smallint CHECK (guard IN (0, 1, 2, 3, 4, 5, 6, 7)) NOT NULL
);

CREATE TABLE event_messages (
    IdEvent integer NOT NULL,
    Contenu text NOT NULL,
    Origine smallint CHECK (Origine IN (0, 1, 2, 3)) NOT NULL,
    OrigineCamp integer,
    VuBackoffice boolean NOT NULL,
    VuEspaceperso boolean NOT NULL,
    VuFondSoutien boolean NOT NULL,
    OnlyToFondSoutien boolean NOT NULL,
    guard smallint CHECK (guard IN (0, 1, 2, 3, 4, 5, 6, 7)) NOT NULL
);

CREATE TABLE event_message_vus (
    IdEvent integer NOT NULL,
    IdCamp integer NOT NULL,
    guard smallint CHECK (guard IN (0, 1, 2, 3, 4, 5, 6, 7)) NOT NULL
);

CREATE TABLE event_place_liberees (
    IdEvent integer NOT NULL,
    IdParticipant integer NOT NULL,
    Accepted boolean NOT NULL,
    guard smallint CHECK (guard IN (0, 1, 2, 3, 4, 5, 6, 7)) NOT NULL
);

CREATE TABLE event_sondages (
    IdEvent integer NOT NULL,
    IdCamp integer NOT NULL,
    guard smallint CHECK (guard IN (0, 1, 2, 3, 4, 5, 6, 7)) NOT NULL
);

CREATE TABLE event_validations (
    IdEvent integer NOT NULL,
    IdCamp integer,
    guard smallint CHECK (guard IN (0, 1, 2, 3, 4, 5, 6, 7)) NOT NULL
);

CREATE TABLE dons (
    Id serial PRIMARY KEY,
    IdPersonne integer,
    IdOrganisme integer,
    Montant Montant NOT NULL,
    ModePaiement smallint CHECK (ModePaiement IN (0, 1, 2, 3, 4, 5)) NOT NULL,
    Date date NOT NULL,
    Affectation text NOT NULL,
    Details text NOT NULL,
    Remercie boolean NOT NULL
);

CREATE TABLE organismes (
    Id serial PRIMARY KEY,
    Nom text NOT NULL,
    Mail text NOT NULL,
    Adresse text NOT NULL,
    CodePostal text NOT NULL,
    Ville text NOT NULL,
    Pays text NOT NULL
);

